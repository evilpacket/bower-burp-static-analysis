{
    "url": "http://localhost:9999/totty90/jquery-mobile-requirejs/js/jquery.mobile-1.3.2.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&amp;&amp;(location.href=location.href.replace(/#.*/,\"\")+h),f=setTimeout(c,a.fn[g].delay)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/totty90/jquery-mobile-requirejs/js/jquery.mobile-1.3.2.min.js",
                "path": "/totty90/jquery-mobile-requirejs/js/jquery.mobile-1.3.2.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC90b3R0eTkwL2pxdWVyeS1tb2JpbGUtcmVxdWlyZWpzL2pzL2pxdWVyeS5tb2JpbGUtMS4zLjIubWluLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQ1Mzk2DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ5OjU5IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwNjo0OTo1OSBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgMS4zLjIgfCBHaXQgSEVBRCBoYXNoOiA1MjhjZjBlIDw+IDIwMTMtMDctMTlUMjI6MTc6NTdaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYixjKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKGQpe3JldHVybiBjKGQsYSxiKSxkLm1vYmlsZX0pOmMoYS5qUXVlcnksYSxiKX0odGhpcyxkb2N1bWVudCxmdW5jdGlvbihhLGIsYyxkKXshZnVuY3Rpb24oYSl7YS5tb2JpbGU9e319KGEpLGZ1bmN0aW9uKGEsYixkKXt2YXIgZT17fTthLm1vYmlsZT1hLmV4dGVuZChhLm1vYmlsZSx7dmVyc2lvbjoiMS4zLjIiLG5zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MjUwLHRvdWNoT3ZlcmZsb3dFbmFibGVkOiExLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6ImUiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ITEsYXV0b0luaXRpYWxpemVQYWdlOiEwLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsaWdub3JlQ29udGVudEVuYWJsZWQ6ITEsb3JpZW50YXRpb25DaGFuZ2VFbmFibGVkOiEwLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LHdpbmRvdzphKGIpLGRvY3VtZW50OmEoYyksa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LGJlaGF2aW9yczp7fSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYyl7Im51bWJlciIhPT1hLnR5cGUoYykmJihjPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLGMpLGEubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmN9KX0sMjApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sbnNOb3JtYWxpemVEaWN0OmUsbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7cmV0dXJuIGI/ZVtiXXx8KGVbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpOnZvaWQgMH0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWFbMF0sZj0iIixnPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLztlJiYoYz1lLmNsYXNzTmFtZXx8IiIsIShjJiYoZD1nLmV4ZWMoYykpJiYoZj1kWzJdKSkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZnx8Ynx8ImEifSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpLCA6anFtRGF0YShyb2xlPSJkaWFsb2ciKScpLmRhdGEoIm1vYmlsZS1wYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO2Zvcih2YXIgZCxlLGYsZz1iLmxlbmd0aCxoPWEoKSxpPTA7Zz5pO2krKyl7Zm9yKGU9Yi5lcShpKSxmPSExLGQ9YltpXTtkOyl7dmFyIGo9ZC5nZXRBdHRyaWJ1dGU/ZC5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytjKToiIjtpZigiZmFsc2UiPT09ail7Zj0hMDticmVha31kPWQucGFyZW50Tm9kZX1mfHwoaD1oLmFkZChlKSl9cmV0dXJuIGh9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBiLmlubmVySGVpZ2h0fHxhLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9fSxhLm1vYmlsZSksYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsYyl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiJiYoYiYmKGI9YS5tb2JpbGUubnNOb3JtYWxpemUoYikpLGU9YXJndW1lbnRzLmxlbmd0aDwyfHxjPT09ZD90aGlzLmRhdGEoYik6dGhpcy5kYXRhKGIsYykpLGV9LGEuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBjJiYoZT1hLmRhdGEoYixjP2EubW9iaWxlLm5zTm9ybWFsaXplKGMpOmMsZCkpLGV9LGEuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX0sYS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX0sYS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGEucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7dmFyIGM9YShiKTsoYy5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCksYy5yZW1vdmUoKX0sYS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyhhKHRoaXMpLGIpfSxhLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2EoYikuanFtRGF0YSgiZGVwZW5kZW50cyIsYS5tZXJnZShkLGMpKX0sYS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKS50ZXh0KGEodGhpcykudGV4dCgpKS5odG1sKCl9LGEuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9LGEuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTt2YXIgZj1hLmZpbmQsZz0vOmpxbURhdGFcKChbXildKilcKS9nO2EuZmluZD1mdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gYj1iLnJlcGxhY2UoZywiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIiksZi5jYWxsKHRoaXMsYixjLGQsZSl9LGEuZXh0ZW5kKGEuZmluZCxmKSxhLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsYyl9LGEuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGMsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPUFycmF5LnByb3RvdHlwZS5zbGljZSxlPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YltkXSk7ZCsrKXRyeXthKGMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChmKXt9ZShiKX0sYS53aWRnZXQ9ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGk9Yi5zcGxpdCgiLiIpWzBdO2I9Yi5zcGxpdCgiLiIpWzFdLGU9aSsiLSIrYixkfHwoZD1jLGM9YS5XaWRnZXQpLGEuZXhwclsiOiJdW2UudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYixlKX0sYVtpXT1hW2ldfHx7fSxmPWFbaV1bYl0sZz1hW2ldW2JdPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD8oYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYiksdm9pZCAwKTpuZXcgZyhhLGIpfSxhLmV4dGVuZChnLGYse3ZlcnNpb246ZC52ZXJzaW9uLF9wcm90bzphLmV4dGVuZCh7fSxkKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBjLGgub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxhLmVhY2goZCxmdW5jdGlvbihiLGUpe2EuaXNGdW5jdGlvbihlKSYmKGRbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fc3VwZXIsZj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZCxiPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWMsdGhpcy5fc3VwZXJBcHBseT1mLGJ9fSgpKX0pLGcucHJvdG90eXBlPWEud2lkZ2V0LmV4dGVuZChoLHt3aWRnZXRFdmVudFByZWZpeDpmP2gud2lkZ2V0RXZlbnRQcmVmaXg6Yn0sZCx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aSx3aWRnZXROYW1lOmIsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyl9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXtmb3IodmFyIGUsZixnPWQuY2FsbChhcmd1bWVudHMsMSksaD0wLGk9Zy5sZW5ndGg7aT5oO2grKylmb3IoZSBpbiBnW2hdKWY9Z1toXVtlXSxnW2hdLmhhc093blByb3BlcnR5KGUpJiZmIT09YiYmKGNbZV09YS5pc1BsYWluT2JqZWN0KGYpP2EuaXNQbGFpbk9iamVjdChjW2VdKT9hLndpZGdldC5leHRlbmQoe30sY1tlXSxmKTphLndpZGdldC5leHRlbmQoe30sZik6Zik7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9InN0cmluZyI9PXR5cGVvZiBnLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsaD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO3JldHVybiBlP2EuaXNGdW5jdGlvbihlW2ddKSYmIl8iIT09Zy5jaGFyQXQoMCk/KGQ9ZVtnXS5hcHBseShlLGkpLGQhPT1lJiZkIT09Yj8oaj1kJiZkLmpxdWVyeT9qLnB1c2hTdGFjayhkLmdldCgpKTpkLCExKTp2b2lkIDApOmEuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYysiIHdpZGdldCBpbnN0YW5jZSIpOmEuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitjKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEodGhpcyxmKTtiP2Iub3B0aW9uKGd8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGYsbmV3IGUoZyx0aGlzKSl9KSxqfX0sYS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGEuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxhLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGQpe2Q9YShkfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9YShkKSx0aGlzLnV1aWQ9YysrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpLHRoaXMuYmluZGluZ3M9YSgpLHRoaXMuaG92ZXJhYmxlPWEoKSx0aGlzLmZvY3VzYWJsZT1hKCksZCE9PXRoaXMmJihhLmRhdGEoZCx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGEpe2EudGFyZ2V0PT09ZCYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1hKGQuc3R5bGU/ZC5vd25lckRvY3VtZW50OmQuZG9jdW1lbnR8fGQpLHRoaXMud2luZG93PWEodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6YS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6YS5ub29wLF9jcmVhdGU6YS5ub29wLF9pbml0OmEubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXRGdWxsTmFtZSkucmVtb3ZlRGF0YShhLmNhbWVsQ2FzZSh0aGlzLndpZGdldEZ1bGxOYW1lKSksdGhpcy53aWRnZXQoKS51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCAiKyJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuYmluZGluZ3MudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxfZGVzdHJveTphLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnLGg9YztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoInN0cmluZyI9PXR5cGVvZiBjKWlmKGg9e30sZT1jLnNwbGl0KCIuIiksYz1lLnNoaWZ0KCksZS5sZW5ndGgpe2ZvcihmPWhbY109YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1tjXSksZz0wO2c8ZS5sZW5ndGgtMTtnKyspZltlW2ddXT1mW2VbZ11dfHx7fSxmPWZbZVtnXV07aWYoYz1lLnBvcCgpLGQ9PT1iKXJldHVybiBmW2NdPT09Yj9udWxsOmZbY107ZltjXT1kfWVsc2V7aWYoZD09PWIpcmV0dXJuIHRoaXMub3B0aW9uc1tjXT09PWI/bnVsbDp0aGlzLm9wdGlvbnNbY107aFtjXT1kfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGgpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiO2ZvcihiIGluIGEpdGhpcy5fc2V0T3B0aW9uKGIsYVtiXSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25zW2FdPWIsImRpc2FibGVkIj09PWEmJih0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIsISFiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixiKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LF9vbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzOyJib29sZWFuIiE9dHlwZW9mIGImJihkPWMsYz1iLGI9ITEpLGQ/KGM9ZT1hKGMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoYykpOihkPWMsYz10aGlzLmVsZW1lbnQsZT10aGlzLndpZGdldCgpKSxhLmVhY2goZCxmdW5jdGlvbihkLGcpe2Z1bmN0aW9uIGgoKXtyZXR1cm4gYnx8Zi5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFhKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIGc/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyk6dm9pZCAwfSJzdHJpbmciIT10eXBlb2YgZyYmKGguZ3VpZD1nLmd1aWQ9Zy5ndWlkfHxoLmd1aWR8fGEuZ3VpZCsrKTt2YXIgaT1kLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGo9aVsxXStmLmV2ZW50TmFtZXNwYWNlLGs9aVsyXTtrP2UuZGVsZWdhdGUoayxqLGgpOmMuYmluZChqLGgpfSl9LF9vZmY6ZnVuY3Rpb24oYSxiKXtiPShifHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGEudW5iaW5kKGIpLnVuZGVsZWdhdGUoYil9LF9kZWxheTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBhP2RbYV06YSkuYXBwbHkoZCxhcmd1bWVudHMpfXZhciBkPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoYyxifHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbihiKXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQoYiksdGhpcy5fb24oYix7bW91c2VlbnRlcjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChiKSx0aGlzLl9vbihiLHtmb2N1c2luOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9uc1tiXTtpZihkPWR8fHt9LGM9YS5FdmVudChjKSxjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpLGMudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWMub3JpZ2luYWxFdmVudClmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBlP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LCJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiZhLmVmZmVjdHMuZWZmZWN0W2hdP2RbYl0oZSk6aCE9PWImJmRbaF0/ZFtoXShlLmR1cmF0aW9uLGUuZWFzaW5nLGYpOmQucXVldWUoZnVuY3Rpb24oYyl7YSh0aGlzKVtiXSgpLGYmJmYuY2FsbChkWzBdKSxjKCl9KX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPXt9O3JldHVybiBhLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBlPWMuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtlIT09YiYmKGRbYV09ZSl9KSxkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIsYyl7dGhpcy5lbmhhbmNlKGEodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj1hKGIpO2Y9YS5tb2JpbGUuZW5oYW5jZWFibGUoZiksYyYmZi5sZW5ndGgmJihkPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShmKSxlPWQmJmQua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiLGY9Zi5ub3QoZSkpLGZbdGhpcy53aWRnZXROYW1lXSgpfSxyYWlzZTpmdW5jdGlvbihhKXt0aHJvdyJXaWRnZXQgWyIrdGhpcy53aWRnZXROYW1lKyJdOiAiK2F9fSl9KGEpLGZ1bmN0aW9uKGEpe2EuZXh0ZW5kKGEubW9iaWxlLHtsb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmQsbG9hZGluZ01lc3NhZ2VUaGVtZTpkLGxvYWRpbmdNZXNzYWdlOmQsc2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5sb2FkaW5nKCJzaG93IixiLGMsZCl9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRpbmcoImhpZGUiKX0sbG9hZGluZzpmdW5jdGlvbigpe3RoaXMubG9hZGVyV2lkZ2V0LmxvYWRlci5hcHBseSh0aGlzLmxvYWRlcldpZGdldCxhcmd1bWVudHMpfX0pO3ZhciBiPSJ1aS1sb2FkZXIiLGM9YSgiaHRtbCIpLGU9YS5tb2JpbGUud2luZG93O2Eud2lkZ2V0KCJtb2JpbGUubG9hZGVyIix7b3B0aW9uczp7dGhlbWU6ImEiLHRleHRWaXNpYmxlOiExLGh0bWw6IiIsdGV4dDoibG9hZGluZyJ9LGRlZmF1bHRIdG1sOiI8ZGl2IGNsYXNzPSciK2IrIic+IisiPHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nJz48L3NwYW4+IisiPGgxPjwvaDE+IisiPC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJmUuc2Nyb2xsVG9wKCkrZS5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfSxjaGVja0xvYWRlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGM9ZS5zY3JvbGxUb3AoKSxkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhiLnRvcDxjfHxiLnRvcC1jPmQpJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGUudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZixnLGgpe3ZhciBpLGosazt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGYpPyhrPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxmKSxmPWsudGhlbWV8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWUpOihrPXRoaXMub3B0aW9ucyxmPWZ8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWV8fGsudGhlbWUpLGo9Z3x8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2V8fGsudGV4dCxjLmFkZENsYXNzKCJ1aS1sb2FkaW5nIiksKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGsuaHRtbCkmJihpPWEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGUhPT1kP2EubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ay50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitmKyIgdWktbG9hZGVyLSIrKGl8fGd8fGYudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoay50ZXh0b25seXx8aD8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxrLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoay5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGopLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxlLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSksZS5iaW5kKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRlcldpZGdldD1hLm1vYmlsZS5sb2FkZXJXaWRnZXR8fGEoYS5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCkubG9hZGVyKCl9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT1hfHxsb2NhdGlvbi5ocmVmLCIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBmLGc9Imhhc2hjaGFuZ2UiLGg9YyxpPWEuZXZlbnQuc3BlY2lhbCxqPWguZG9jdW1lbnRNb2RlLGs9Im9uIitnIGluIGImJihqPT09ZHx8aj43KTthLmZuW2ddPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChnLGEpOnRoaXMudHJpZ2dlcihnKX0sYS5mbltnXS5kZWxheT01MCxpW2ddPWEuZXh0ZW5kKGlbZ10se3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6KGEoZi5zdGFydCksdm9pZCAwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTooYShmLnN0b3ApLHZvaWQgMCl9fSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZD1lKCksaD1uKGopO2QhPT1qPyhtKGo9ZCxoKSxhKGIpLnRyaWdnZXIoZykpOmghPT1qJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK2gpLGY9c2V0VGltZW91dChjLGEuZm5bZ10uZGVsYXkpfXZhciBmLGk9e30saj1lKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbT1sLG49bDtyZXR1cm4gaS5zdGFydD1mdW5jdGlvbigpe2Z8fGMoKX0saS5zdG9wPWZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9ZH0sYi5hdHRhY2hFdmVudCYmIWIuYWRkRXZlbnRMaXN0ZW5lciYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZDtpLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltnXS5zcmMsZD1kJiZkK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fG0oZSgpKSxjKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csaC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJihiLmRvY3VtZW50LnRpdGxlPWgudGl0bGUpfWNhdGNoKGEpe319KX0saS5zdG9wPWwsbj1mdW5jdGlvbigpe3JldHVybiBlKGIubG9jYXRpb24uaHJlZil9LG09ZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmRvY3VtZW50LGY9YS5mbltnXS5kb21haW47YyE9PWQmJihlLnRpdGxlPWgudGl0bGUsZS5vcGVuKCksZiYmZS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrZisnIjwvc2NyaXB0PicpLGUuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGl9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGM9KGErIiAiK24uam9pbihiKyIgIikrYikuc3BsaXQoIiAiKTtmb3IodmFyIGUgaW4gYylpZihtW2NbZV1dIT09ZClyZXR1cm4hMH1mdW5jdGlvbiBmKGEsYixkKXtmb3IodmFyIGUsZj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSl9LGg9ZnVuY3Rpb24oYSl7cmV0dXJuIiI9PT1hPyIiOiItIithLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Euc3Vic3RyKDEpKyItIn0saT1mdW5jdGlvbihjKXt2YXIgZD1oKGMpK2ErIjogIitiKyI7IixpPWcoYyksaj1pKygiIj09PWk/YTpnKGEpKTtmLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpLGYuc3R5bGVbal0mJihlPSEwKX0saj1kP2Q6bixrPTA7azxqLmxlbmd0aDtrKyspaShqW2tdKTtyZXR1cm4hIWV9ZnVuY3Rpb24gZygpe3ZhciBlPSJ0cmFuc2Zvcm0tM2QiLGY9YS5tb2JpbGUubWVkaWEoIigtIituLmpvaW4oIi0iK2UrIiksKC0iKSsiLSIrZSsiKSwoIitlKyIpIik7aWYoZilyZXR1cm4hIWY7dmFyIGc9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxoPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9O2wuYXBwZW5kKGcpO2Zvcih2YXIgaSBpbiBoKWcuc3R5bGVbaV0hPT1kJiYoZy5zdHlsZVtpXT0idHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApIixmPWIuZ2V0Q29tcHV0ZWRTdHlsZShnKS5nZXRQcm9wZXJ0eVZhbHVlKGhbaV0pKTtyZXR1cm4hIWYmJiJub25lIiE9PWZ9ZnVuY3Rpb24gaCgpe3ZhciBiLGMsZD1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGU9YSgiaGVhZCBiYXNlIiksZj1udWxsLGc9IiI7cmV0dXJuIGUubGVuZ3RoP2c9ZS5hdHRyKCJocmVmIik6ZT1mPWEoIjxiYXNlPiIse2hyZWY6ZH0pLmFwcGVuZFRvKCJoZWFkIiksYj1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhsKSxjPWJbMF0uaHJlZixlWzBdLmhyZWY9Z3x8bG9jYXRpb24ucGF0aG5hbWUsZiYmZi5yZW1vdmUoKSwwPT09Yy5pbmRleE9mKGQpfWZ1bmN0aW9uIGkoKXt2YXIgYSxkPWMuY3JlYXRlRWxlbWVudCgieCIpLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1iLmdldENvbXB1dGVkU3R5bGU7cmV0dXJuInBvaW50ZXJFdmVudHMiaW4gZC5zdHlsZT8oZC5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIixkLnN0eWxlLnBvaW50ZXJFdmVudHM9IngiLGUuYXBwZW5kQ2hpbGQoZCksYT1mJiYiYXV0byI9PT1mKGQsIiIpLnBvaW50ZXJFdmVudHMsZS5yZW1vdmVDaGlsZChkKSwhIWEpOiExfWZ1bmN0aW9uIGooKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3R9ZnVuY3Rpb24gaygpe3ZhciBhPWIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9bmF2aWdhdG9yLnBsYXRmb3JtLGU9Yy5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZj0hIWUmJmVbMV0sZz1jLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLyksaD0hIWcmJmdbMV0saT1jLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGo9ISFpJiZpWzFdO3JldHVybihkLmluZGV4T2YoImlQaG9uZSIpPi0xfHxkLmluZGV4T2YoImlQYWQiKT4tMXx8ZC5pbmRleE9mKCJpUG9kIik+LTEpJiZmJiY1MzQ+Znx8YS5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSl8fGkmJjc0NTg+anx8Yy5pbmRleE9mKCJBbmRyb2lkIik+LTEmJmYmJjUzMz5mfHxoJiY2Pmh8fCJwYWxtR2V0UmVzb3VyY2UiaW4gYiYmZiYmNTM0PmZ8fGMuaW5kZXhPZigiTWVlR28iKT4tMSYmYy5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMTohMH12YXIgbD1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxtPWxbMF0uc3R5bGUsbj1bIldlYmtpdCIsIk1veiIsIk8iXSxvPSJwYWxtR2V0UmVzb3VyY2UiaW4gYixwPWIub3BlcmEscT1iLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKSxyPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse2Nzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gYnx8ZigidHJhbnNpdGlvbiIsImhlaWdodCAxMDBtcyBsaW5lYXIiLFsiV2Via2l0IiwiTW96IiwiIl0pJiYhYS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmIXAscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5JiYhKGIubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94Iik+PTAmJmIudG9wIT09YikmJi0xPT09Yi5uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgvQ3JpT1MvKSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFlKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWUoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6ZygpLGJveFNoYWRvdzohIWUoImJveFNoYWRvdyIpJiYhcixmaXhlZFBvc2l0aW9uOmsoKSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiBifHwic2Nyb2xsVG9wImluIGMuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGxbMF0pJiYhbyYmIXEsZHluYW1pY0Jhc2VUYWc6aCgpLGNzc1BvaW50ZXJFdmVudHM6aSgpLGJvdW5kaW5nUmVjdDpqKCl9KSxsLnJlbW92ZSgpO3ZhciBzPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2EubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeXx8YS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT49NykmJihhLnN1cHBvcnQuYm91bmRpbmdSZWN0fHxudWxsIT09YS5mbi5qcXVlcnkubWF0Y2goLzFcLlswLTcrXVwuWzAtOStdPy8pKX0sYS5tb2JpbGUuYWpheEJsYWNrbGlzdD1iLmJsYWNrYmVycnkmJiFiLldlYktpdFBvaW50fHxxfHxzLHMmJmEoZnVuY3Rpb24oKXthKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pLGEuc3VwcG9ydC5ib3hTaGFkb3d8fGEoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEubW9iaWxlLndpbmRvdzthLmV2ZW50LnNwZWNpYWwubmF2aWdhdGU9Yz17Ym91bmQ6ITEscHVzaFN0YXRlRW5hYmxlZDohMCxvcmlnaW5hbEV2ZW50TmFtZTpiLGlzUHVzaFN0YXRlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQucHVzaFN0YXRlJiZhLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkPT09ITAmJnRoaXMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpfSxpc0hhc2hDaGFuZ2VFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkPT09ITB9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIiksZj1iLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9O2xvY2F0aW9uLmhyZWYsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChiLmhpc3RvcnlTdGF0ZSYmYS5leHRlbmQoZixiLmhpc3RvcnlTdGF0ZSksYy5vcmlnaW5hbEV2ZW50PWIsc2V0VGltZW91dChmdW5jdGlvbigpe2QudHJpZ2dlcihjLHtzdGF0ZTpmfSl9LDApKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpO2QudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYy5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGMse3N0YXRlOmIuaGFzaGNoYW5nZVN0YXRlfHx7fX0pKX0sc2V0dXA6ZnVuY3Rpb24oKXtjLmJvdW5kfHwoYy5ib3VuZD0hMCxjLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhjLm9yaWdpbmFsRXZlbnROYW1lPSJwb3BzdGF0ZSIsZC5iaW5kKCJwb3BzdGF0ZS5uYXZpZ2F0ZSIsYy5wb3BzdGF0ZSkpOmMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYoYy5vcmlnaW5hbEV2ZW50TmFtZT0iaGFzaGNoYW5nZSIsZC5iaW5kKCJoYXNoY2hhbmdlLm5hdmlnYXRlIixjLmhhc2hjaGFuZ2UpKSl9fX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGY9IiZ1aS1zdGF0ZT1kaWFsb2ciO2EubW9iaWxlLnBhdGg9ZD17dWlTdGF0ZUtleToiJnVpLXN0YXRlIix1cmxQYXJzZVJFOi9eXHMqKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9YT90aGlzLnBhcnNlVXJsKGEpOmxvY2F0aW9uLGM9dGhpcy5wYXJzZVVybChhfHxsb2NhdGlvbi5ocmVmKS5oYXNoO3JldHVybiBjPSIjIj09PWM/IiI6YyxiLnByb3RvY29sKyIvLyIrYi5ob3N0K2IucGF0aG5hbWUrYi5zZWFyY2grY30scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKCJvYmplY3QiPT09YS50eXBlKGIpKXJldHVybiBiO3ZhciBjPWQudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6Y1swXXx8IiIsaHJlZk5vSGFzaDpjWzFdfHwiIixocmVmTm9TZWFyY2g6Y1syXXx8IiIsZG9tYWluOmNbM118fCIiLHByb3RvY29sOmNbNF18fCIiLGRvdWJsZVNsYXNoOmNbNV18fCIiLGF1dGhvcml0eTpjWzZdfHwiIix1c2VybmFtZTpjWzhdfHwiIixwYXNzd29yZDpjWzldfHwiIixob3N0OmNbMTBdfHwiIixob3N0bmFtZTpjWzExXXx8IiIscG9ydDpjWzEyXXx8IiIscGF0aG5hbWU6Y1sxM118fCIiLGRpcmVjdG9yeTpjWzE0XXx8IiIsZmlsZW5hbWU6Y1sxNV18fCIiLHNlYXJjaDpjWzE2XXx8IiIsaGFzaDpjWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmIi8iPT09YS5jaGFyQXQoMCkpcmV0dXJuIGE7YT1hfHwiIixiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiO2Zvcih2YXIgYz1iP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07c3dpdGNoKGYpe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQucGFyc2VVcmwoYSkuZG9tYWluPT09ZC5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIiI9PT1kLnBhcnNlVXJsKGEpLnByb3RvY29sfSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiIT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWQuaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTtiPT09YyYmKGI9dGhpcy5kb2N1bWVudEJhc2UpO3ZhciBlPWQucGFyc2VVcmwoYSksZj1kLnBhcnNlVXJsKGIpLGc9ZS5wcm90b2NvbHx8Zi5wcm90b2NvbCxoPWUucHJvdG9jb2w/ZS5kb3VibGVTbGFzaDplLmRvdWJsZVNsYXNofHxmLmRvdWJsZVNsYXNoLGk9ZS5hdXRob3JpdHl8fGYuYXV0aG9yaXR5LGo9IiIhPT1lLnBhdGhuYW1lLGs9ZC5tYWtlUGF0aEFic29sdXRlKGUucGF0aG5hbWV8fGYuZmlsZW5hbWUsZi5wYXRobmFtZSksbD1lLnNlYXJjaHx8IWomJmYuc2VhcmNofHwiIixtPWUuaGFzaDtyZXR1cm4gZytoK2kraytsK219LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbihiLGMpe3ZhciBlPWQucGFyc2VVcmwoYiksZj0ib2JqZWN0Ij09dHlwZW9mIGM/YS5wYXJhbShjKTpjLGc9ZS5zZWFyY2h8fCI/IjtyZXR1cm4gZS5ocmVmTm9TZWFyY2grZysoIj8iIT09Zy5jaGFyQXQoZy5sZW5ndGgtMSk/IiYiOiIiKStmKyhlLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYz1kLnBhcnNlVXJsKGEpO3JldHVybiBkLmlzRW1iZWRkZWRQYWdlKGMpP2MuaGFzaC5zcGxpdChmKVswXS5yZXBsYWNlKC9eIy8sIiIpLnJlcGxhY2UoL1w/LiokLywiIik6ZC5pc1NhbWVEb21haW4oYyx0aGlzLmRvY3VtZW50QmFzZSk/Yy5ocmVmTm9IYXNoLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKS5zcGxpdChmKVswXTpiLmRlY29kZVVSSUNvbXBvbmVudChhKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YyYmKGE9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCksZC5zdHJpcEhhc2goYSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sIiIpfSxzZXQ6ZnVuY3Rpb24oYSl7bG9jYXRpb24uaGFzaD1hfSxpc1BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuL1wvLy50ZXN0KGEpfSxjbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxzdHJpcFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1w/LiokLywiIil9LGNsZWFuSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gZC5zdHJpcEhhc2goYS5yZXBsYWNlKC9cPy4qJC8sIiIpLnJlcGxhY2UoZiwiIikpfSxpc0hhc2hWYWxpZDpmdW5jdGlvbihhKXtyZXR1cm4vXiNbXiNdKyQvLnRlc3QoYSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5wYXJzZVVybChhKTtyZXR1cm4gYi5wcm90b2NvbCYmYi5kb21haW4hPT10aGlzLmRvY3VtZW50VXJsLmRvbWFpbj8hMDohMX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChhKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5wYXJzZVVybChhKTtyZXR1cm4iIiE9PWIucHJvdG9jb2w/IXRoaXMuaXNQYXRoKGIuaGFzaCkmJmIuaGFzaCYmKGIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYi5ocmVmKX0sc3F1YXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaD10aGlzLmlzUGF0aChhKSxpPXRoaXMucGFyc2VVcmwoYSksaj1pLmhhc2gsaz0iIjtyZXR1cm4gYj1ifHwoZC5pc1BhdGgoYSk/ZC5nZXRMb2NhdGlvbigpOmQuZ2V0RG9jdW1lbnRVcmwoKSksZT1oP2Quc3RyaXBIYXNoKGEpOmEsZT1kLmlzUGF0aChpLmhhc2gpP2Quc3RyaXBIYXNoKGkuaGFzaCk6ZSxnPWUuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpLGc+LTEmJihrPWUuc2xpY2UoZyksZT1lLnNsaWNlKDAsZykpLGM9ZC5tYWtlVXJsQWJzb2x1dGUoZSxiKSxmPXRoaXMucGFyc2VVcmwoYykuc2VhcmNoLGg/KChkLmlzUGF0aChqKXx8MD09PWoucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSkmJihqPSIiKSxrJiYtMT09PWouaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpJiYoais9ayksLTE9PT1qLmluZGV4T2YoIiMiKSYmIiIhPT1qJiYoaj0iIyIraiksYz1kLnBhcnNlVXJsKGMpLGM9Yy5wcm90b2NvbCsiLy8iK2MuaG9zdCtjLnBhdGhuYW1lK2Yraik6Yys9Yy5pbmRleE9mKCIjIik+LTE/azoiIyIrayxjfSxpc1ByZXNlcnZhYmxlSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gMD09PWEucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KX19LGQuZG9jdW1lbnRVcmw9ZC5wYXJzZUxvY2F0aW9uKCksZT1hKCJoZWFkIikuZmluZCgiYmFzZSIpLGQuZG9jdW1lbnRCYXNlPWUubGVuZ3RoP2QucGFyc2VVcmwoZC5tYWtlVXJsQWJzb2x1dGUoZS5hdHRyKCJocmVmIiksZC5kb2N1bWVudFVybC5ocmVmKSk6ZC5kb2N1bWVudFVybCxkLmRvY3VtZW50QmFzZURpZmZlcnM9ZC5kb2N1bWVudFVybC5ocmVmTm9IYXNoIT09ZC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCxkLmdldERvY3VtZW50VXJsPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRVcmwpOmQuZG9jdW1lbnRVcmwuaHJlZn0sZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9fShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhdGgsYS5tb2JpbGUuSGlzdG9yeT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhY2s9YXx8W10sdGhpcy5hY3RpdmVJbmRleD1ifHwwfSxhLmV4dGVuZChhLm1vYmlsZS5IaXN0b3J5LnByb3RvdHlwZSx7Z2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleF19LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnByZXZpb3VzSW5kZXhdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleCsxXX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgtMV19LGFkZDpmdW5jdGlvbihhLGIpe2I9Ynx8e30sdGhpcy5nZXROZXh0KCkmJnRoaXMuY2xlYXJGb3J3YXJkKCksYi5oYXNoJiYtMT09PWIuaGFzaC5pbmRleE9mKCIjIikmJihiLmhhc2g9IiMiK2IuaGFzaCksYi51cmw9YSx0aGlzLnN0YWNrLnB1c2goYiksdGhpcy5hY3RpdmVJbmRleD10aGlzLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPXRoaXMuc3RhY2suc2xpY2UoMCx0aGlzLmFjdGl2ZUluZGV4KzEpfSxmaW5kOmZ1bmN0aW9uKGEsYixjKXtiPWJ8fHRoaXMuc3RhY2s7dmFyIGQsZSxmLGc9Yi5sZW5ndGg7Zm9yKGU9MDtnPmU7ZSsrKWlmKGQ9YltlXSwoZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQudXJsKXx8ZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQuaGFzaCkpJiYoZj1lLGMpKXJldHVybiBmO3JldHVybiBmfSxjbG9zZXN0OmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKDAsZCkpLGM9PT1iJiYoYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKGQpLCEwKSxjPWM9PT1iP2M6YytkKSxjfSxkaXJlY3Q6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jbG9zZXN0KGMudXJsKSxlPXRoaXMuYWN0aXZlSW5kZXg7ZCE9PWImJih0aGlzLmFjdGl2ZUluZGV4PWQsdGhpcy5wcmV2aW91c0luZGV4PWUpLGU+ZD8oYy5wcmVzZW50fHxjLmJhY2t8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOmQ+ZT8oYy5wcmVzZW50fHxjLmZvcndhcmR8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOmQ9PT1iJiZjLm1pc3NpbmcmJmMubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGQ9YS5tb2JpbGUucGF0aCxlPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsYS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjphLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6YS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sYS5leHRlbmQoYS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7c3F1YXNoOmZ1bmN0aW9uKGUsZil7dmFyIGcsaCxpPWQuaXNQYXRoKGUpP2Quc3RyaXBIYXNoKGUpOmU7cmV0dXJuIGg9ZC5zcXVhc2goZSksZz1hLmV4dGVuZCh7aGFzaDppLHVybDpofSxmKSxiLmhpc3RvcnkucmVwbGFjZVN0YXRlKGcsZy50aXRsZXx8Yy50aXRsZSxoKSxnfSxoYXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO2lmKGM9ZC5wYXJzZVVybChhKSxlPWQucGFyc2VMb2NhdGlvbigpLGUucGF0aG5hbWUrZS5zZWFyY2g9PT1jLnBhdGhuYW1lK2Muc2VhcmNoKWY9Yy5oYXNoP2MuaGFzaDpjLnBhdGhuYW1lK2Muc2VhcmNoO2Vsc2UgaWYoZC5pc1BhdGgoYSkpe3ZhciBnPWQucGFyc2VVcmwoYik7Zj1nLnBhdGhuYW1lK2cuc2VhcmNoKyhkLmlzUHJlc2VydmFibGVIYXNoKGcuaGFzaCk/Zy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIil9ZWxzZSBmPWE7cmV0dXJuIGZ9LGdvOmZ1bmN0aW9uKGUsZixnKXt2YXIgaCxpLGosayxsPWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKTtpPWQuc3F1YXNoKGUpLGo9dGhpcy5oYXNoKGUsaSksZyYmaiE9PWQuc3RyaXBIYXNoKGQucGFyc2VMb2NhdGlvbigpLmhhc2gpJiYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ZyksdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSEwLGIubG9jYXRpb24uaGFzaD1qLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxoPWEuZXh0ZW5kKHt1cmw6aSxoYXNoOmosdGl0bGU6Yy50aXRsZX0sZiksbCYmKGs9bmV3IGEuRXZlbnQoInBvcHN0YXRlIiksay5vcmlnaW5hbEV2ZW50PXt0eXBlOiJwb3BzdGF0ZSIsc3RhdGU6bnVsbH0sdGhpcy5zcXVhc2goZSxoKSxnfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxhLm1vYmlsZS53aW5kb3cudHJpZ2dlcihrKSkpLHRoaXMuaGlzdG9yeS5hZGQoaC51cmwsaCl9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHZvaWQgMCk6dGhpcy5pZ25vcmVQb3BTdGF0ZT8odGhpcy5pZ25vcmVQb3BTdGF0ZT0hMSx2b2lkIDApOiFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJjE9PT10aGlzLmhpc3Rvcnkuc3RhY2subGVuZ3RoJiZ0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlJiYodGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMSxsb2NhdGlvbi5ocmVmPT09ZSk/KGIucHJldmVudERlZmF1bHQoKSx2b2lkIDApOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLGIuaGlzdG9yeVN0YXRlPWYsdm9pZCAwKToodGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pLHZvaWQgMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBlLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSl7aWYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2UpcmV0dXJuIHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPSExLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdm9pZCAwO2U9dGhpcy5oaXN0b3J5LGY9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6ZixwcmVzZW50OmZ1bmN0aW9uKGMsZCl7Yi5oYXNoY2hhbmdlU3RhdGU9YS5leHRlbmQoe30sYyksYi5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPWR9LG1pc3Npbmc6ZnVuY3Rpb24oKXtlLmFkZChmLHtoYXNoOmYsdGl0bGU6Yy50aXRsZX0pfX0pfX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubmF2aWdhdGU9ZnVuY3Rpb24oYixjLGQpe2EubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5nbyhiLGMsZCl9LGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk9bmV3IGEubW9iaWxlLkhpc3RvcnksYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yPW5ldyBhLm1vYmlsZS5OYXZpZ2F0b3IoYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSk7dmFyIGI9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCk7YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQoYi5ocmVmLHtoYXNoOmIuaGFzaH0pfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RCksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qi5sZW5ndGg7bj5tO20rKylpPUJbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix5KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseSksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TD0hMX1mdW5jdGlvbiBqKCl7TD0hMH1mdW5jdGlvbiBrKCl7UD0wLEoubGVuZ3RoPTAsSz0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEY9c2V0VGltZW91dChmdW5jdGlvbigpe0Y9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0YmJihjbGVhclRpbWVvdXQoRiksRj0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjPWEuZGF0YShiLnRhcmdldCx6KTtpZighKEt8fFAmJlA9PT1jKSl7dmFyIGQ9bygidiIrYi50eXBlLGIpO2QmJihkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksZC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fWZ1bmN0aW9uIHEoYil7dmFyIGMsZCxmPWUoYikudG91Y2hlcztpZihmJiYxPT09Zi5sZW5ndGgmJihjPWIudGFyZ2V0LGQ9ZyhjKSxkLmhhc1ZpcnR1YWxCaW5kaW5nKSl7UD1PKyssYS5kYXRhKGMseixQKSxuKCksbCgpLEk9ITE7dmFyIGg9ZShiKS50b3VjaGVzWzBdO0c9aC5wYWdlWCxIPWgucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpfX1mdW5jdGlvbiByKGEpe0x8fChJfHxvKCJ2bW91c2VjYW5jZWwiLGEsZyhhLnRhcmdldCkpLEk9ITAsbSgpKX1mdW5jdGlvbiBzKGIpe2lmKCFMKXt2YXIgYz1lKGIpLnRvdWNoZXNbMF0sZD1JLGY9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkLGg9ZyhiLnRhcmdldCk7ST1JfHxNYXRoLmFicyhjLnBhZ2VYLUcpPmZ8fE1hdGguYWJzKGMucGFnZVktSCk+ZixJJiYhZCYmbygidm1vdXNlY2FuY2VsIixiLGgpLG8oInZtb3VzZW1vdmUiLGIsaCksbSgpfX1mdW5jdGlvbiB0KGEpe2lmKCFMKXtqKCk7dmFyIGIsYz1nKGEudGFyZ2V0KTtpZihvKCJ2bW91c2V1cCIsYSxjKSwhSSl7dmFyIGQ9bygidmNsaWNrIixhLGMpO2QmJmQuaXNEZWZhdWx0UHJldmVudGVkKCkmJihiPWUoYSkuY2hhbmdlZFRvdWNoZXNbMF0sSi5wdXNoKHt0b3VjaElEOlAseDpiLmNsaWVudFgseTpiLmNsaWVudFl9KSxLPSEwKX1vKCJ2bW91c2VvdXQiLGEsYyksST0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix5KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseSx7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseSk7ZFtiXT0hMCxFW2JdPShFW2JdfHwwKSsxLDE9PT1FW2JdJiZOLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxNJiYoRS50b3VjaHN0YXJ0PShFLnRvdWNoc3RhcnR8fDApKzEsMT09PUUudG91Y2hzdGFydCYmTi5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUVbYl0sRVtiXXx8Ti51bmJpbmQoYyxwKSxNJiYoLS1FLnRvdWNoc3RhcnQsRS50b3VjaHN0YXJ0fHxOLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHkpO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh5KX19fXZhciB4LHk9InZpcnR1YWxNb3VzZUJpbmRpbmdzIix6PSJ2aXJ0dWFsVG91Y2hJRCIsQT0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIiksQj0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSxDPWEuZXZlbnQubW91c2VIb29rcz9hLmV2ZW50Lm1vdXNlSG9va3MucHJvcHM6W10sRD1hLmV2ZW50LnByb3BzLmNvbmNhdChDKSxFPXt9LEY9MCxHPTAsSD0wLEk9ITEsSj1bXSxLPSExLEw9ITEsTT0iYWRkRXZlbnRMaXN0ZW5lciJpbiBjLE49YShjKSxPPTEsUD0wO2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBRPTA7UTxBLmxlbmd0aDtRKyspYS5ldmVudC5zcGVjaWFsW0FbUV1dPXcoQVtRXSk7TSYmYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9Si5sZW5ndGgsaj1iLnRhcmdldDtpZihpKWZvcihjPWIuY2xpZW50WCxkPWIuY2xpZW50WSx4PWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQsZT1qO2U7KXtmb3IoZj0wO2k+ZjtmKyspaWYoZz1KW2ZdLGg9MCxlPT09aiYmTWF0aC5hYnMoZy54LWMpPHgmJk1hdGguYWJzKGcueS1kKTx4fHxhLmRhdGEoZSx6KT09PWcudG91Y2hJRClyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCAwO2U9ZS5wYXJlbnROb2RlfX0sITApfShhLGIsYyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YyxhLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixkKSxkLnR5cGU9ZX12YXIgZj1hKGMpO2EuZWFjaCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGMpe2EuZm5bY109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGMsYSk6dGhpcy50cmlnZ2VyKGMpfSxhLmF0dHJGbiYmKGEuYXR0ckZuW2NdPSEwKX0pO3ZhciBnPWEubW9iaWxlLnN1cHBvcnQudG91Y2gsaD0idG91Y2htb3ZlIHNjcm9sbCIsaT1nPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixqPWc/InRvdWNoZW5kIjoibW91c2V1cCIsaz1nPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDohMCxzZXR1cDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiKXtjPWIsZShmLGM/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsYSl9dmFyIGMsZCxmPXRoaXMsZz1hKGYpO2cuYmluZChoLGZ1bmN0aW9uKGUpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoY3x8YihlLCEwKSxjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlLCExKX0sNTApKX0pfX0sYS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGcoKXtjbGVhclRpbWVvdXQoail9ZnVuY3Rpb24gaCgpe2coKSxjLnVuYmluZCgidmNsaWNrIixpKS51bmJpbmQoInZtb3VzZXVwIixnKSxmLnVuYmluZCgidm1vdXNlY2FuY2VsIixoKX1mdW5jdGlvbiBpKGEpe2goKSxrPT09YS50YXJnZXQmJmUoYiwidGFwIixhKQp9aWYoZC53aGljaCYmMSE9PWQud2hpY2gpcmV0dXJuITE7dmFyIGosaz1kLnRhcmdldDtkLm9yaWdpbmFsRXZlbnQsYy5iaW5kKCJ2bW91c2V1cCIsZykuYmluZCgidmNsaWNrIixpKSxmLmJpbmQoInZtb3VzZWNhbmNlbCIsaCksaj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShiLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0Omt9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX19LGEuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YjtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV0sb3JpZ2luOmEoYi50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihhKXt2YXIgYj1hLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9hLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTphO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYi5wYWdlWCxiLnBhZ2VZXX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGIsYyl7Yy50aW1lLWIudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGIuY29vcmRzWzBdLWMuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1sxXS1jLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJmIub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihiLmNvb3Jkc1swXT5jLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2MuYmluZChpLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGUoYil7ZyYmKGY9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AoYiksTWF0aC5hYnMoZy5jb29yZHNbMF0tZi5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZiLnByZXZlbnREZWZhdWx0KCkpfXZhciBmLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGIpO2MuYmluZChrLGUpLm9uZShqLGZ1bmN0aW9uKCl7Yy51bmJpbmQoayxlKSxnJiZmJiZhLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUoZyxmKSxnPWY9ZH0pfSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsZil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsZil9fTt2YXIgYixjLGQsZT0yNTAsZj1mdW5jdGlvbigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1jLWcsZD49ZT8oZz1jLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihiJiZjbGVhclRpbWVvdXQoYiksYj1zZXRUaW1lb3V0KGYsZS1kKSl9LGc9MH0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKCl7dmFyIGE9ZSgpO2EhPT1mJiYoZj1hLGkudHJpZ2dlcihqKSl9dmFyIGUsZixnLGgsaT1hKGIpLGo9Im9yaWVudGF0aW9uY2hhbmdlIixrPXswOiEwLDE4MDohMH07aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uKXt2YXIgbD1iLmlubmVyV2lkdGh8fGkud2lkdGgoKSxtPWIuaW5uZXJIZWlnaHR8fGkuaGVpZ2h0KCksbj01MDtnPWw+bSYmbC1tPm4saD1rW2Iub3JpZW50YXRpb25dLChnJiZofHwhZyYmIWgpJiYoaz17Ii05MCI6ITAsOTA6ITB9KX1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLGkuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSx2b2lkIDApfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGkudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpLHZvaWQgMCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9rW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mbltqXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoaixhKTp0aGlzLnRyaWdnZXIoail9LGEuYXR0ckZuJiYoYS5hdHRyRm5bal09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKT09PSExPyExOih0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSx2b2lkIDApfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIithLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQucGFyZW50KCkpKX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMudGhlbWUmJmEubW9iaWxlLnBhZ2VDb250YWluZXIuYWRkQ2xhc3MoInVpLW92ZXJsYXktIisoYnx8dGhpcy5vcHRpb25zLnRoZW1lKSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWIua2VlcE5hdGl2ZSYmYS50cmltKGIua2VlcE5hdGl2ZSk7cmV0dXJuIGMmJmIua2VlcE5hdGl2ZSE9PWIua2VlcE5hdGl2ZURlZmF1bHQ/W2Iua2VlcE5hdGl2ZSxiLmtlZXBOYXRpdmVEZWZhdWx0XS5qb2luKCIsICIpOmIua2VlcE5hdGl2ZURlZmF1bHR9fSl9KGEpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtyZXR1cm4gZD09PWMmJihkPSEwKSxmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1uZXcgYS5EZWZlcnJlZCxpPWU/IiByZXZlcnNlIjoiIixqPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksaz1qLmxhc3RTY3JvbGx8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGw9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksbT1hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmYS5tb2JpbGUud2luZG93LndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLG49IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8bXx8IWN8fCJub25lIj09PWN8fE1hdGgubWF4KGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSxrKT5hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksbz0iIHVpLXBhZ2UtcHJlLWluIixwPWZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitjKX0scT1mdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLGIuc2Nyb2xsVG8oMCxrKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LHI9ZnVuY3Rpb24oKXtnLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIG91dCBpbiByZXZlcnNlICIrYykuaGVpZ2h0KCIiKX0scz1mdW5jdGlvbigpe2Q/Zy5hbmltYXRpb25Db21wbGV0ZSh0KTp0KCksZy5oZWlnaHQobCthLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKGMrIiBvdXQiK2kpfSx0PWZ1bmN0aW9uKCl7ZyYmZCYmcigpLHUoKX0sdT1mdW5jdGlvbigpe2YuY3NzKCJ6LWluZGV4IiwtMTApLGYuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK28pLGEubW9iaWxlLmZvY3VzUGFnZShmKSxmLmhlaWdodChsK2spLHEoKSxmLmNzcygiei1pbmRleCIsIiIpLG58fGYuYW5pbWF0aW9uQ29tcGxldGUodiksZi5yZW1vdmVDbGFzcyhvKS5hZGRDbGFzcyhjKyIgaW4iK2kpLG4mJnYoKX0sdj1mdW5jdGlvbigpe2R8fGcmJnIoKSxmLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiK2MpLmhlaWdodCgiIikscCgpLGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PWsmJnEoKSxoLnJlc29sdmUoYyxlLGYsZywhMCl9O3JldHVybiBwKCksZyYmIW4/cygpOnQoKSxoLnByb21pc2UoKX19LGU9ZCgpLGY9ZCghMSksZz1mdW5jdGlvbigpe3JldHVybiAzKmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9ZSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDplLHNpbXVsdGFuZW91czpmfSxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGd9KGEsdGhpcyksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGIpeyFwfHxwLmNsb3Nlc3QoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RoJiYhYnx8cC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykscD1udWxsfWZ1bmN0aW9uIGYoKXt0PSExLHMubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxzLnBvcCgpKX1mdW5jdGlvbiBnKGIsYyxkLGUpe2MmJmMuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pLGIuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3Jlc2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxkPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGQpO3ZhciBmPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tkfHwiZGVmYXVsdCJdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsZz1mKGQsZSxiLGMpO3JldHVybiBnLmRvbmUoZnVuY3Rpb24oKXtjJiZjLmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmJ9KSxiLmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoInNob3ciLG51bGwse3ByZXZQYWdlOmN8fGEoIiIpfSl9KSxnfWZ1bmN0aW9uIGgoYixjKXtjJiZiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsYyksYi5wYWdlKCl9ZnVuY3Rpb24gaSgpe3ZhciBiPWEubW9iaWxlLmFjdGl2ZVBhZ2UmJmsoYS5tb2JpbGUuYWN0aXZlUGFnZSk7cmV0dXJuIGJ8fHguaHJlZk5vSGFzaH1mdW5jdGlvbiBqKGEpe2Zvcig7YSYmKCJzdHJpbmciIT10eXBlb2YgYS5ub2RlTmFtZXx8ImEiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9ZnVuY3Rpb24gayhiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD14LmhyZWZOb0hhc2g7cmV0dXJuIGMmJm4uaXNQYXRoKGMpfHwoYz1kKSxuLm1ha2VVcmxBYnNvbHV0ZShjLGQpfXZhciBsPWEubW9iaWxlLndpbmRvdyxtPShhKCJodG1sIiksYSgiaGVhZCIpKSxuPWEuZXh0ZW5kKGEubW9iaWxlLnBhdGgse2dldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHUpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYz1uLnBhcnNlVXJsKG4ubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxlPWMuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZjLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGY9YS5tb2JpbGUuZmlyc3RQYWdlLGc9ZiYmZlswXT9mWzBdLmlkOmQ7cmV0dXJuIGUmJighYy5oYXNofHwiIyI9PT1jLmhhc2h8fGcmJmMuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09Zyl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmImZpbGU6Ij09PWIucHJvdG9jb2wmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSksbz1udWxsLHA9bnVsbCxxPWEuRGVmZXJyZWQoKSxyPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkscz1bXSx0PSExLHU9IiZ1aS1zdGF0ZT1kaWFsb2ciLHY9bS5jaGlsZHJlbigiYmFzZSIpLHc9bi5kb2N1bWVudFVybCx4PW4uZG9jdW1lbnRCYXNlLHk9KG4uZG9jdW1lbnRCYXNlRGlmZmVycyxhLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQpLHo9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OnYubGVuZ3RoP3Y6YSgiPGJhc2U+Iix7aHJlZjp4LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8obSksc2V0OmZ1bmN0aW9uKGEpe2E9bi5wYXJzZVVybChhKS5ocmVmTm9IYXNoLHouZWxlbWVudC5hdHRyKCJocmVmIixuLm1ha2VVcmxBYnNvbHV0ZShhLHgpKX0scmVzZXQ6ZnVuY3Rpb24oKXt6LmVsZW1lbnQuYXR0cigiaHJlZiIseC5ocmVmTm9TZWFyY2gpfX06ZDthLm1vYmlsZS5nZXREb2N1bWVudFVybD1uLmdldERvY3VtZW50VXJsLGEubW9iaWxlLmdldERvY3VtZW50QmFzZT1uLmdldERvY3VtZW50QmFzZSxhLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZhJiZhLmFwcCYmYS5hcHAuYmFja0hpc3Rvcnk/YS5hcHAuYmFja0hpc3RvcnkoKTpiLmhpc3RvcnkuYmFjaygpfSxhLm1vYmlsZS5mb2N1c1BhZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9YS5maW5kKCJbYXV0b2ZvY3VzXSIpLGM9YS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtyZXR1cm4gYi5sZW5ndGg/KGIuZm9jdXMoKSx2b2lkIDApOihjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpLHZvaWQgMCl9O3ZhciBBLEIsQz0hMDtBPWZ1bmN0aW9uKCl7aWYoQyl7dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihiKXt2YXIgYz1sLnNjcm9sbFRvcCgpO2IubGFzdFNjcm9sbD1jPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Y319fSxCPWZ1bmN0aW9uKCl7c2V0VGltZW91dChBLDEwMCl9LGwuYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7Qz0hMX0pLGwub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtDPSEwfSksbC5vbmUoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCJwYWdlY2hhbmdlIixmdW5jdGlvbigpe0M9ITAsbC51bmJpbmQoInNjcm9sbHN0b3AiLEIpLGwuYmluZCgic2Nyb2xsc3RvcCIsQil9KX0pLGwuYmluZCgic2Nyb2xsc3RvcCIsQiksYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQ9ZnVuY3Rpb24oYil7dmFyIGM9YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxkPXBhcnNlRmxvYXQoYy5jc3MoInBhZGRpbmctdG9wIikpLGU9cGFyc2VGbG9hdChjLmNzcygicGFkZGluZy1ib3R0b20iKSksZj1wYXJzZUZsb2F0KGMuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLGc9cGFyc2VGbG9hdChjLmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKTtiPSJudW1iZXIiPT10eXBlb2YgYj9iOnkoKSxjLmNzcygibWluLWhlaWdodCIsYi1kLWUtZi1nKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIixiKTooc2V0VGltZW91dChiLDApLGEodGhpcykpfSxhLm1vYmlsZS5wYXRoPW4sYS5tb2JpbGUuYmFzZT16LGEubW9iaWxlLnVybEhpc3Rvcnk9cixhLm1vYmlsZS5kaWFsb2dIYXNoS2V5PXUsYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzPSExLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZT1mdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7IWIuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZiLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYi5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxhLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxqPW51bGwsaz1uLm1ha2VVcmxBYnNvbHV0ZShiLGkoKSk7Zi5kYXRhJiYiZ2V0Ij09PWYudHlwZSYmKGs9bi5hZGRTZWFyY2hQYXJhbXMoayxmLmRhdGEpLGYuZGF0YT1kKSxmLmRhdGEmJiJwb3N0Ij09PWYudHlwZSYmKGYucmVsb2FkUGFnZT0hMCk7dmFyIGw9bi5nZXRGaWxlUGF0aChrKSxtPW4uY29udmVydFVybFRvRGF0YVVybChrKTtpZihmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbSsiJ10iKSwwPT09Zy5sZW5ndGgmJm0mJiFuLmlzUGF0aChtKSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIittKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbSkuanFtRGF0YSgidXJsIixtKSksMD09PWcubGVuZ3RoKWlmKGEubW9iaWxlLmZpcnN0UGFnZSYmbi5pc0ZpcnN0UGFnZVVybChsKSlhLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoJiYoZz1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYobi5pc0VtYmVkZGVkUGFnZShsKSlyZXR1cm4gZS5yZWplY3QoayxjKSxlLnByb21pc2UoKTtpZihnLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gaChnLGYucm9sZSksZS5yZXNvbHZlKGssYyxnKSx6JiYhYy5wcmVmZXRjaCYmei5zZXQoYiksZS5wcm9taXNlKCk7aj1nfXZhciBvPWYucGFnZUNvbnRhaW5lcixwPW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlbG9hZCIpLHE9e3VybDpiLGFic1VybDprLGRhdGFVcmw6bSxkZWZlcnJlZDplLG9wdGlvbnM6Zn07aWYoby50cmlnZ2VyKHAscSkscC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZS5wcm9taXNlKCk7aWYoZi5zaG93TG9hZE1zZyl2YXIgcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGYubG9hZE1zZ0RlbGF5KSxzPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpfTtyZXR1cm4henx8InVuZGVmaW5lZCIhPXR5cGVvZiBjJiYidW5kZWZpbmVkIiE9dHlwZW9mIGMucHJlZmV0Y2h8fHoucmVzZXQoKSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXN8fG4uaXNTYW1lRG9tYWluKHcsayk/YS5hamF4KHt1cmw6bCx0eXBlOmYudHlwZSxkYXRhOmYuZGF0YSxjb250ZW50VHlwZTpmLmNvbnRlbnRUeXBlLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQsaSxvKXt2YXIgcD1hKCI8ZGl2PjwvZGl2PiIpLHI9ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEsdD1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksdT1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7aWYodC50ZXN0KGQpJiZSZWdFeHAuJDEmJnUudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPWw9bi5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSwhenx8InVuZGVmaW5lZCIhPXR5cGVvZiBjJiYidW5kZWZpbmVkIiE9dHlwZW9mIGMucHJlZmV0Y2h8fHouc2V0KGwpLHAuZ2V0KDApLmlubmVySFRNTD1kLGc9cC5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxnLmxlbmd0aHx8KGc9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPiIrKGQuc3BsaXQoLzxcLz9ib2R5W14+XSo+L2dpbSlbMV18fCIiKSsiPC9kaXY+IikpLHImJiFnLmpxbURhdGEoInRpdGxlIikmJih+ci5pbmRleE9mKCImIikmJihyPWEoIjxkaXY+IityKyI8L2Rpdj4iKS50ZXh0KCkpLGcuanFtRGF0YSgidGl0bGUiLHIpKSwhYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnKXt2YXIgdj1uLmdldChsKTtnLmZpbmQoIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIltocmVmXSIpPyJocmVmIjphKHRoaXMpLmlzKCJbc3JjXSIpPyJzcmMiOiJhY3Rpb24iLGM9YSh0aGlzKS5hdHRyKGIpO2M9Yy5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIiksL14oXHcrOnwjfFwvKS8udGVzdChjKXx8YSh0aGlzKS5hdHRyKGIsditjKX0pfWcuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLG4uY29udmVydFVybFRvRGF0YVVybChsKSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJleHRlcm5hbC1wYWdlIiwhMCkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKSxnLm9uZSgicGFnZWNyZWF0ZSIsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlKSxoKGcsZi5yb2xlKSxrLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoZz1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrYS5tb2JpbGUubnMrInVybD0nIittKyInXSIpKSxmLnNob3dMb2FkTXNnJiZzKCkscS54aHI9byxxLnRleHRTdGF0dXM9aSxxLnBhZ2U9ZyxmLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWxvYWQiLHEpLGUucmVzb2x2ZShrLGMsZyxqKX0sZXJyb3I6ZnVuY3Rpb24oYixkLGcpe3omJnouc2V0KG4uZ2V0KCkpLHEueGhyPWIscS50ZXh0U3RhdHVzPWQscS5lcnJvclRocm93bj1nO3ZhciBoPW5ldyBhLkV2ZW50KCJwYWdlbG9hZGZhaWxlZCIpO2YucGFnZUNvbnRhaW5lci50cmlnZ2VyKGgscSksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGYuc2hvd0xvYWRNc2cmJihzKCksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxlLnJlamVjdChrLGMpKX19KTplLnJlamVjdChrLGMpLGUucHJvbWlzZSgpfSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEscGFnZUNvbnRhaW5lcjpkLGxvYWRNc2dEZWxheTo1MH0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGope2lmKHQpcmV0dXJuIHMudW5zaGlmdChhcmd1bWVudHMpLHZvaWQgMDt2YXIgayxsPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsaik7bC5wYWdlQ29udGFpbmVyPWwucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcixsLmZyb21QYWdlPWwuZnJvbVBhZ2V8fGEubW9iaWxlLmFjdGl2ZVBhZ2Usaz0ic3RyaW5nIj09dHlwZW9mIGI7dmFyIG09bC5wYWdlQ29udGFpbmVyLG89bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxwPXt0b1BhZ2U6YixvcHRpb25zOmx9O2lmKHAuYWJzVXJsPWs/bi5tYWtlVXJsQWJzb2x1dGUoYixpKCkpOmIuZGF0YSgiYWJzVXJsIiksbS50cmlnZ2VyKG8scCksIW8uaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKGI9cC50b1BhZ2Usaz0ic3RyaW5nIj09dHlwZW9mIGIsdD0hMCxrKXJldHVybiBsLnRhcmdldD1iLGEubW9iaWxlLmxvYWRQYWdlKGIsbCkuZG9uZShmdW5jdGlvbihiLGMsZCxlKXt0PSExLGMuZHVwbGljYXRlQ2FjaGVkUGFnZT1lLGQuZGF0YSgiYWJzVXJsIixwLmFic1VybCksYS5tb2JpbGUuY2hhbmdlUGFnZShkLGMpfSkuZmFpbChmdW5jdGlvbigpe2UoITApLGYoKSxsLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWNoYW5nZWZhaWxlZCIscCl9KSx2b2lkIDA7YlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8bC5kYXRhVXJsfHwobC5kYXRhVXJsPXcuaHJlZk5vSGFzaCk7dmFyIHE9bC5mcm9tUGFnZSx2PWwuZGF0YVVybCYmbi5jb252ZXJ0VXJsVG9EYXRhVXJsKGwuZGF0YVVybCl8fGIuanFtRGF0YSgidXJsIikseD12LHk9KG4uZ2V0RmlsZVBhdGgodiksci5nZXRBY3RpdmUoKSksej0wPT09ci5hY3RpdmVJbmRleCxBPTAsQj1jLnRpdGxlLEM9ImRpYWxvZyI9PT1sLnJvbGV8fCJkaWFsb2ciPT09Yi5qcW1EYXRhKCJyb2xlIik7aWYocSYmcVswXT09PWJbMF0mJiFsLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiB0PSExLG0udHJpZ2dlcigicGFnZWNoYW5nZSIscCksbC5mcm9tSGFzaENoYW5nZSYmci5kaXJlY3Qoe3VybDp2fSksdm9pZCAwO2goYixsLnJvbGUpLGwuZnJvbUhhc2hDaGFuZ2UmJihBPSJiYWNrIj09PWouZGlyZWN0aW9uPy0xOjEpO3RyeXtjLmFjdGl2ZUVsZW1lbnQmJiJib2R5IiE9PWMuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2EoYy5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goRCl7fXZhciBFPSExO0MmJnkmJih5LnVybCYmeS51cmwuaW5kZXhPZih1KT4tMSYmYS5tb2JpbGUuYWN0aXZlUGFnZSYmIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSYmci5hY3RpdmVJbmRleD4wJiYobC5jaGFuZ2VIYXNoPSExLEU9ITApLHY9eS51cmx8fCIiLHYrPSFFJiZ2LmluZGV4T2YoIiMiKT4tMT91OiIjIit1LDA9PT1yLmFjdGl2ZUluZGV4JiZ2PT09ci5pbml0aWFsRHN0JiYodis9dSkpO3ZhciBGPXk/Yi5qcW1EYXRhKCJ0aXRsZSIpfHxiLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpbmQoIi51aS10aXRsZSIpLnRleHQoKTpCO2lmKEYmJkI9PT1jLnRpdGxlJiYoQj1GKSxiLmpxbURhdGEoInRpdGxlIil8fGIuanFtRGF0YSgidGl0bGUiLEIpLGwudHJhbnNpdGlvbj1sLnRyYW5zaXRpb258fChBJiYhej95LnRyYW5zaXRpb246ZCl8fChDP2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbiksIUEmJkUmJihyLmdldEFjdGl2ZSgpLnBhZ2VVcmw9eCksdiYmIWwuZnJvbUhhc2hDaGFuZ2Upe3ZhciBHOyFuLmlzUGF0aCh2KSYmdi5pbmRleE9mKCIjIik8MCYmKHY9IiMiK3YpLEc9e3RyYW5zaXRpb246bC50cmFuc2l0aW9uLHRpdGxlOkIscGFnZVVybDp4LHJvbGU6bC5yb2xlfSxsLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUodixHLCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZCh2LEcpfWMudGl0bGU9QixhLm1vYmlsZS5hY3RpdmVQYWdlPWIsbC5yZXZlcnNlPWwucmV2ZXJzZXx8MD5BLGcoYixxLGwudHJhbnNpdGlvbixsLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oYyxkLGcsaCxpKXtlKCksbC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZsLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLGYoKSxtLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLHApfSl9fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLGZyb21IYXNoQ2hhbmdlOiExLHJvbGU6ZCxkdXBsaWNhdGVDYWNoZWRQYWdlOmQscGFnZUNvbnRhaW5lcjpkLHNob3dMb2FkTXNnOiEwLGRhdGFVcmw6ZCxmcm9tUGFnZTpkLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiExfSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKSxhLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe3ZhciBjPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD0hMDtyZXR1cm4hYS5tb2JpbGUuYWpheEVuYWJsZWR8fGIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aHx8Yi5hdHRyKCJ0YXJnZXQiKT8hMTooZD1iLmF0dHIoImFjdGlvbiIpLGc9KGIuYXR0cigibWV0aG9kIil8fCJnZXQiKS50b0xvd2VyQ2FzZSgpLGR8fChkPWsoYiksImdldCI9PT1nJiYoZD1uLnBhcnNlVXJsKGQpLmhyZWZOb1NlYXJjaCksZD09PXguaHJlZk5vSGFzaCYmKGQ9dy5ocmVmTm9TZWFyY2gpKSxkPW4ubWFrZVVybEFic29sdXRlKGQsayhiKSksbi5pc0V4dGVybmFsKGQpJiYhbi5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh3LGQpPyExOihjfHwoZT1iLnNlcmlhbGl6ZUFycmF5KCksbyYmb1swXS5mb3JtPT09YlswXSYmKGY9by5hdHRyKCJuYW1lIiksZiYmKGEuZWFjaChlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubmFtZT09PWY/KGY9IiIsITEpOnZvaWQgMH0pLGYmJmUucHVzaCh7bmFtZTpmLHZhbHVlOm8uYXR0cigidmFsdWUiKX0pKSksaD17dXJsOmQsb3B0aW9uczp7dHlwZTpnLGRhdGE6YS5wYXJhbShlKSx0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHJldmVyc2U6InJldmVyc2UiPT09Yi5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOiEwfX0pLGgpKX07YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoImZvcm0iLCJzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBkPWMoYSh0aGlzKSk7ZCYmKGEubW9iaWxlLmNoYW5nZVBhZ2UoZC51cmwsZC5vcHRpb25zKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgZCxmLGc9Yi50YXJnZXQsaD0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYobz1hKGcpLGEuZGF0YShnLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFjKGEoZykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1qKGcpLCFnfHwiIyI9PT1uLnBhcnNlVXJsKGcuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2cucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGcucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoZywiYnV0dG9uRWxlbWVudHMiKSxmP2c9Zi5vdXRlcjpoPSEwLGQ9YShnKSxoJiYoZD1kLmNsb3Nlc3QoIi51aS1idG4iKSksZC5sZW5ndGg+MCYmIWQuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikmJihlKCEwKSxwPWQscC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZixnPWooYy50YXJnZXQpLGg9YShnKTtpZihnJiYhKGMud2hpY2g+MSkmJmguanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoZj1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2UoITApfSwyMDApfSxoLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiBhLm1vYmlsZS5iYWNrKCksITE7dmFyIGk9ayhoKSxsPW4ubWFrZVVybEFic29sdXRlKGguYXR0cigiaHJlZiIpfHwiIyIsaSk7aWYoIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhbi5pc0VtYmVkZGVkUGFnZShsKSlyZXR1cm4gZigpLHZvaWQgMDtpZigtMSE9PWwuc2VhcmNoKCIjIikpe2lmKGw9bC5yZXBsYWNlKC9bXiNdKiMvLCIiKSwhbClyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMDtsPW4uaXNQYXRoKGwpP24ubWFrZVVybEFic29sdXRlKGwsaSk6bi5tYWtlVXJsQWJzb2x1dGUoIiMiK2wsdy5ocmVmTm9IYXNoKX12YXIgbT1oLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fGguaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8aC5pcygiW3RhcmdldF0iKSxvPW18fG4uaXNFeHRlcm5hbChsKSYmIW4uaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QodyxsKTtpZihvKXJldHVybiBmKCksdm9pZCAwO3ZhciBwPWguanFtRGF0YSgidHJhbnNpdGlvbiIpLHE9InJldmVyc2UiPT09aC5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8aC5qcW1EYXRhKCJiYWNrIikscj1oLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQ7YS5tb2JpbGUuY2hhbmdlUGFnZShsLHt0cmFuc2l0aW9uOnAscmV2ZXJzZTpxLHJvbGU6cixsaW5rOmh9KSxjLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYyxlKXt2YXIgZj1uLnN0cmlwSGFzaChjKSxnPTA9PT1hLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD8ibm9uZSI6ZCxoPXtjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwLHJldmVyc2U6ImJhY2siPT09ZS5kaXJlY3Rpb259O2lmKGEuZXh0ZW5kKGgsZSx7dHJhbnNpdGlvbjooci5nZXRMYXN0KCl8fHt9KS50cmFuc2l0aW9ufHxnfSksci5hY3RpdmVJbmRleD4wJiZmLmluZGV4T2YodSk+LTEmJnIuaW5pdGlhbERzdCE9PWYpe2lmKGEubW9iaWxlLmFjdGl2ZVBhZ2UmJiFhLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpcmV0dXJuImJhY2siPT09ZS5kaXJlY3Rpb24/YS5tb2JpbGUuYmFjaygpOmIuaGlzdG9yeS5mb3J3YXJkKCksdm9pZCAwO2Y9ZS5wYWdlVXJsO3ZhciBpPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7YS5leHRlbmQoaCx7cm9sZTppLnJvbGUsdHJhbnNpdGlvbjppLnRyYW5zaXRpb24scmV2ZXJzZToiYmFjayI9PT1lLmRpcmVjdGlvbn0pfWY/KGY9bi5pc1BhdGgoZik/ZjpuLm1ha2VVcmxBYnNvbHV0ZSgiIyIrZix4KSxmPT09bi5tYWtlVXJsQWJzb2x1dGUoIiMiK3IuaW5pdGlhbERzdCx4KSYmci5zdGFjay5sZW5ndGgmJnIuc3RhY2tbMF0udXJsIT09ci5pbml0aWFsRHN0LnJlcGxhY2UodSwiIikmJihmPWEubW9iaWxlLmZpcnN0UGFnZSksYS5tb2JpbGUuY2hhbmdlUGFnZShmLGgpKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSxoKX0sbC5iaW5kKCJuYXZpZ2F0ZSIsZnVuY3Rpb24oYixjKXt2YXIgZDtiLm9yaWdpbmFsRXZlbnQmJmIub3JpZ2luYWxFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLm9yaWdpbmFsRXZlbnROYW1lLmluZGV4T2YoImhhc2hjaGFuZ2UiKT4tMT9jLnN0YXRlLmhhc2g6Yy5zdGF0ZS51cmwsZHx8KGQ9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaCksZCYmIiMiIT09ZCYmMCE9PWQuaW5kZXhPZigiIyIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoZCxjLnN0YXRlKSl9KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlc2hvdyIsYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KSxhLm1vYmlsZS53aW5kb3cuYmluZCgidGhyb3R0bGVkcmVzaXplIixhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpfSxhKGZ1bmN0aW9uKCl7cS5yZXNvbHZlKCl9KSxhLndoZW4ocSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkKS5kb25lKGZ1bmN0aW9uKCl7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7dmFyIGMsZD1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoYShiLnRhcmdldCkpO2QmJihjPWQub3B0aW9ucyxhKGIudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChkLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksZT1jLmRlZ3JhZGVJbnB1dHNbZF18fCJ0ZXh0IjtpZihjLmRlZ3JhZGVJbnB1dHNbZF0pe3ZhciBmPWEoIjxkaXY+IikuaHRtbChiLmNsb25lKCkpLmh0bWwoKSxnPWYuaW5kZXhPZigiIHR5cGU9Iik+LTEsaD1nPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxpPScgdHlwZT0iJytlKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytkKyciJysoZz8iIjoiPiIpO2IucmVwbGFjZVdpdGgoZi5yZXBsYWNlKGgsaSkpfX0pKX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsZD1hKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IitjfSk7Yi5hZGRDbGFzcygidWktZGlhbG9nIHVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSxiLndyYXBJbm5lcihkKSxiLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxkLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsYy50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSksdGhpcy5fb24oYix7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSxhLmV4dGVuZCh0aGlzLHtfY3JlYXRlQ29tcGxldGU6ITF9KSx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYil7dmFyIGMsZCxlPXRoaXM7dGhpcy5faGVhZGVyQ2xvc2VCdXR0b24mJih0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbi5yZW1vdmUoKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1udWxsKSwibm9uZSIhPT1iJiYoZD0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiLGM9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi0iK2QrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCkucHJlcGVuZChjKSx0aGlzLl9jcmVhdGVDb21wbGV0ZSYmYS5mbi5idXR0b25NYXJrdXAmJmMuYnV0dG9uTWFya3VwKCksdGhpcy5fY3JlYXRlQ29tcGxldGU9ITAsYy5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtlLmNsb3NlKCl9KSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1jKX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpeyJjbG9zZUJ0biI9PT1hJiZ0aGlzLl9zZXRDbG9zZUJ0bihiKSx0aGlzLl9zdXBlcihhLGIpfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiLGMsZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O3RoaXMuX2lzQ2xvc2VhYmxlJiYodGhpcy5faXNDbG9zZWFibGU9ITEsYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmQuYWN0aXZlSW5kZXg+MD9hLm1vYmlsZS5iYWNrKCk6KGI9TWF0aC5tYXgoMCxkLmFjdGl2ZUluZGV4LTEpLGM9ZC5zdGFja1tiXS5wYWdlVXJsfHxkLnN0YWNrW2JdLnVybCxkLnByZXZpb3VzSW5kZXg9ZC5hY3RpdmVJbmRleCxkLmFjdGl2ZUluZGV4PWIsYS5tb2JpbGUucGF0aC5pc1BhdGgoYyl8fChjPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitjKSksYS5tb2JpbGUuY2hhbmdlUGFnZShjLHtkaXJlY3Rpb246ImJhY2siLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSkpfX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5lbmhhbmNlKHRoaXMpfSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGwsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbCxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLGU9Yy5qcW1EYXRhKCJyb2xlIiksZj1kLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIixjKS5qcW1FbmhhbmNlYWJsZSgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixnLGgsaSxqPWEodGhpcyksaz1qLmpxbURhdGEoInJvbGUiKSxsPWouanFtRGF0YSgidGhlbWUiKSxtPWx8fGQuY29udGVudFRoZW1lfHwiZGlhbG9nIj09PWUmJmY7aWYoai5hZGRDbGFzcygidWktIitrKSwiaGVhZGVyIj09PWt8fCJmb290ZXIiPT09ayl7dmFyIG49bHx8KCJoZWFkZXIiPT09az9kLmhlYWRlclRoZW1lOmQuZm9vdGVyVGhlbWUpfHxmO2ouYWRkQ2xhc3MoInVpLWJhci0iK24pLmF0dHIoInJvbGUiLCJoZWFkZXIiPT09az8iYmFubmVyIjoiY29udGVudGluZm8iKSwiaGVhZGVyIj09PWsmJihiPWouY2hpbGRyZW4oImEsIGJ1dHRvbiIpLGc9Yi5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxoPWIuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLGc9Z3x8Yi5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsaD1ofHxiLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGgpLGQuYWRkQmFja0J0biYmImhlYWRlciI9PT1rJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZjLmpxbURhdGEoInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFnJiYoaT1hKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrZC5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQuYmFja0J0blRoZW1lfHxuKS5wcmVwZW5kVG8oaikpLGouY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHtyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSJjb250ZW50Ij09PWsmJihtJiZqLmFkZENsYXNzKCJ1aS1ib2R5LSIrbSksai5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhKXtmb3IodmFyIGI7YSYmKGI9InN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWUrIiAiLCEoYiYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8MCkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX1mdW5jdGlvbiBlKGQsZSxmLGcsaCl7dmFyIGk9YS5kYXRhKGRbMF0sImJ1dHRvbkVsZW1lbnRzIik7ZC5yZW1vdmVDbGFzcyhlKS5hZGRDbGFzcyhmKSxpJiYoaS5iY2xzPWEoYy5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MoaS5iY2xzKyIgIitmKS5yZW1vdmVDbGFzcyhlKS5hdHRyKCJjbGFzcyIpLGchPT1iJiYoaS5ob3Zlcj1nKSxpLnN0YXRlPWgpfXZhciBmPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYyk7cmV0dXJuInRydWUiPT09ZD8hMDoiZmFsc2UiPT09ZD8hMTpudWxsPT09ZD9iOmR9O2EuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGQpe3ZhciBlLGg9dGhpcyxpPSJkYXRhLSIrYS5tb2JpbGUubnM7ZD1kJiYib2JqZWN0Ij09PWEudHlwZShkKT9kOnt9O2Zvcih2YXIgaj0wO2o8aC5sZW5ndGg7aisrKXt2YXIgayxsLG0sbixvLHAscT1oLmVxKGopLHI9cVswXSxzPWEuZXh0ZW5kKHt9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLHtpY29uOmQuaWNvbiE9PWI/ZC5pY29uOmYocixpKyJpY29uIiksaWNvbnBvczpkLmljb25wb3MhPT1iP2QuaWNvbnBvczpmKHIsaSsiaWNvbnBvcyIpLHRoZW1lOmQudGhlbWUhPT1iP2QudGhlbWU6ZihyLGkrInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHEsImMiKSxpbmxpbmU6ZC5pbmxpbmUhPT1iP2QuaW5saW5lOmYocixpKyJpbmxpbmUiKSxzaGFkb3c6ZC5zaGFkb3chPT1iP2Quc2hhZG93OmYocixpKyJzaGFkb3ciKSxjb3JuZXJzOmQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOmYocixpKyJjb3JuZXJzIiksaWNvbnNoYWRvdzpkLmljb25zaGFkb3chPT1iP2QuaWNvbnNoYWRvdzpmKHIsaSsiaWNvbnNoYWRvdyIpLG1pbmk6ZC5taW5pIT09Yj9kLm1pbmk6ZihyLGkrIm1pbmkiKX0sZCksdD0idWktYnRuLWlubmVyIix1PSJ1aS1idG4tdGV4dCIsdj0hMSx3PSJ1cCI7Zm9yKGUgaW4gcylzW2VdPT09Ynx8bnVsbD09PXNbZV0/cS5yZW1vdmVBdHRyKGkrZSk6ci5zZXRBdHRyaWJ1dGUoaStlLHNbZV0pO2ZvcihwPWEuZGF0YSgiSU5QVVQiPT09ci50YWdOYW1lfHwiQlVUVE9OIj09PXIudGFnTmFtZT9yLnBhcmVudE5vZGU6ciwiYnV0dG9uRWxlbWVudHMiKSxwPyhyPXAub3V0ZXIscT1hKHIpLG09cC5pbm5lcixuPXAudGV4dCxhKHAuaWNvbikucmVtb3ZlKCkscC5pY29uPW51bGwsdj1wLmhvdmVyLHc9cC5zdGF0ZSk6KG09Yy5jcmVhdGVFbGVtZW50KHMud3JhcHBlckVscyksbj1jLmNyZWF0ZUVsZW1lbnQocy53cmFwcGVyRWxzKSksbz1zLmljb24/Yy5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbCxnJiYhcCYmZygpLHMudGhlbWV8fChzLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHEsImMiKSksaz0idWktYnRuICIsays9dj8idWktYnRuLWhvdmVyLSIrcy50aGVtZToiIixrKz13PyIgdWktYnRuLSIrdysiLSIrcy50aGVtZToiIixrKz1zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIsays9cy5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiLHMubWluaSE9PWImJihrKz1zLm1pbmk9PT0hMD8iIHVpLW1pbmkiOiIgdWktZnVsbHNpemUiKSxzLmlubGluZSE9PWImJihrKz1zLmlubGluZT09PSEwPyIgdWktYnRuLWlubGluZSI6IiB1aS1idG4tYmxvY2siKSxzLmljb24mJihzLmljb249InVpLWljb24tIitzLmljb24scy5pY29ucG9zPXMuaWNvbnBvc3x8ImxlZnQiLGw9InVpLWljb24gIitzLmljb24scy5pY29uc2hhZG93JiYobCs9IiB1aS1pY29uLXNoYWRvdyIpKSxzLmljb25wb3MmJihrKz0iIHVpLWJ0bi1pY29uLSIrcy5pY29ucG9zLCJub3RleHQiIT09cy5pY29ucG9zfHxxLmF0dHIoInRpdGxlIil8fHEuYXR0cigidGl0bGUiLHEuZ2V0RW5jb2RlZFRleHQoKSkpLHAmJnEucmVtb3ZlQ2xhc3MocC5iY2xzfHwiIikscS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKGspLG0uY2xhc3NOYW1lPXQsbi5jbGFzc05hbWU9dSxwfHxtLmFwcGVuZENoaWxkKG4pLG8mJihvLmNsYXNzTmFtZT1sLHAmJnAuaWNvbnx8KG8uaW5uZXJIVE1MPSImIzE2MDsiLG0uYXBwZW5kQ2hpbGQobykpKTtyLmZpcnN0Q2hpbGQmJiFwOyluLmFwcGVuZENoaWxkKHIuZmlyc3RDaGlsZCk7cHx8ci5hcHBlbmRDaGlsZChtKSxwPXtob3Zlcjp2LHN0YXRlOncsYmNsczprLG91dGVyOnIsaW5uZXI6bSx0ZXh0Om4saWNvbjpvfSxhLmRhdGEociwiYnV0dG9uRWxlbWVudHMiLHApLGEuZGF0YShtLCJidXR0b25FbGVtZW50cyIscCksYS5kYXRhKG4sImJ1dHRvbkVsZW1lbnRzIixwKSxvJiZhLmRhdGEobywiYnV0dG9uRWxlbWVudHMiLHApfXJldHVybiB0aGlzfSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIGc9ZnVuY3Rpb24oKXt2YXIgYyxmLGg9YS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXk7YS5tb2JpbGUuZG9jdW1lbnQuYmluZCh7InZtb3VzZWRvd24gdm1vdXNlY2FuY2VsIHZtb3VzZXVwIHZtb3VzZW92ZXIgdm1vdXNlb3V0IGZvY3VzIGJsdXIgc2Nyb2xsc3RhcnQiOmZ1bmN0aW9uKGcpe3ZhciBpLGo9YShkKGcudGFyZ2V0KSksaz1nLm9yaWdpbmFsRXZlbnQmJi9edG91Y2gvLnRlc3QoZy5vcmlnaW5hbEV2ZW50LnR5cGUpLGw9Zy50eXBlO2oubGVuZ3RoJiYoaT1qLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSwidm1vdXNlZG93biI9PT1sP2s/Yz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4tZG93bi0iK2ksYiwiZG93biIpfSxoKTplKGosInVpLWJ0bi11cC0iK2ksInVpLWJ0bi1kb3duLSIraSxiLCJkb3duIik6InZtb3VzZWNhbmNlbCI9PT1sfHwidm1vdXNldXAiPT09bD9lKGosInVpLWJ0bi1kb3duLSIraSwidWktYnRuLXVwLSIraSxiLCJ1cCIpOiJ2bW91c2VvdmVyIj09PWx8fCJmb2N1cyI9PT1sP2s/Zj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4taG92ZXItIitpLCEwLCIiKX0saCk6ZShqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4taG92ZXItIitpLCEwLCIiKTooInZtb3VzZW91dCI9PT1sfHwiYmx1ciI9PT1sfHwic2Nyb2xsc3RhcnQiPT09bCkmJihlKGosInVpLWJ0bi1ob3Zlci0iK2krIiB1aS1idG4tZG93bi0iK2ksInVpLWJ0bi11cC0iK2ksITEsInVwIiksYyYmY2xlYXJUaW1lb3V0KGMpLGYmJmNsZWFyVGltZW91dChmKSkpfSwiZm9jdXNpbiBmb2N1cyI6ZnVuY3Rpb24oYil7YShkKGIudGFyZ2V0KSkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LCJmb2N1c291dCBibHVyIjpmdW5jdGlvbihiKXthKGQoYi50YXJnZXQpKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KSxnPW51bGx9O2EubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkubm90KCJidXR0b24sIGlucHV0LCAudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsY29sbGFwc2VkSWNvbjoicGx1cyIsZXhwYW5kZWRJY29uOiJtaW51cyIsaWNvbnBvczoibGVmdCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDohMCxjb3JuZXJzOiEwLG1pbmk6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucyxlPWMuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlIiksZj1jLmNoaWxkcmVuKGQuaGVhZGluZykuZmlyc3QoKSxnPWUud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxoPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksaT0iIjtmLmlzKCJsZWdlbmQiKSYmKGY9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2YuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZiksZi5uZXh0KCkucmVtb3ZlKCkpLGgubGVuZ3RoPyhkLnRoZW1lfHwoZC50aGVtZT1oLmpxbURhdGEoInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGgsImMiKSksZC5jb250ZW50VGhlbWV8fChkLmNvbnRlbnRUaGVtZT1oLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksZC5jb2xsYXBzZWRJY29uPWMuanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8aC5qcW1EYXRhKCJjb2xsYXBzZWQtaWNvbiIpfHxkLmNvbGxhcHNlZEljb24sZC5leHBhbmRlZEljb249Yy5qcW1EYXRhKCJleHBhbmRlZC1pY29uIil8fGguanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxkLmV4cGFuZGVkSWNvbixkLmljb25wb3M9Yy5qcW1EYXRhKCJpY29ucG9zIil8fGguanFtRGF0YSgiaWNvbnBvcyIpfHxkLmljb25wb3MsZC5pbnNldD1oLmpxbURhdGEoImluc2V0IikhPT1iP2guanFtRGF0YSgiaW5zZXQiKTohMCxkLmNvcm5lcnM9ITEsZC5taW5pfHwoZC5taW5pPWguanFtRGF0YSgibWluaSIpKSk6ZC50aGVtZXx8KGQudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoYywiYyIpKSxkLmluc2V0JiYoaSs9IiB1aS1jb2xsYXBzaWJsZS1pbnNldCIsZC5jb3JuZXJzJiYoaSs9IiB1aS1jb3JuZXItYWxsIikpLGQuY29udGVudFRoZW1lJiYoaSs9IiB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCIsZy5hZGRDbGFzcygidWktYm9keS0iK2QuY29udGVudFRoZW1lKSksIiIhPT1pJiZlLmFkZENsYXNzKGkpLGYuaW5zZXJ0QmVmb3JlKGcpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczpkLmljb25wb3MsaWNvbjpkLmNvbGxhcHNlZEljb24sbWluaTpkLm1pbmksdGhlbWU6ZC50aGVtZX0pLGUuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihiKXtpZighYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGM9YSh0aGlzKSxlPSJjb2xsYXBzZSI9PT1iLnR5cGU7Yi5wcmV2ZW50RGVmYXVsdCgpLGYudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixlKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGU/ZC5leHBhbmRDdWVUZXh0OmQuY29sbGFwc2VDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrZC5leHBhbmRlZEljb24sIWUpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrZC5jb2xsYXBzZWRJY29uLGV8fGQuZXhwYW5kZWRJY29uPT09ZC5jb2xsYXBzZWRJY29uKS5lbmQoKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYy50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixlKSxnLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsZSkuYXR0cigiYXJpYS1oaWRkZW4iLGUpLGcudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fSkudHJpZ2dlcihkLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKSxmLmJpbmQoInRhcCIsZnVuY3Rpb24oKXtmLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2UudHJpZ2dlcihiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybiBiP2M9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6KGM9YS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWMubGVuZ3RoJiYoYz1hLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKSkpLGN9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIiksYi5lcSgwKS5hZGRDbGFzcygidWktZmlyc3QtY2hpbGQiKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWxhc3QtY2hpbGQiKSxjfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixhLm1vYmlsZS53aWRnZXQsYS5leHRlbmQoe29wdGlvbnM6e2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxkPXRoaXMub3B0aW9ucztkLnRoZW1lfHwoZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShjLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9Yy5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29ybmVyc3x8KGQuY29ybmVycz1jLmpxbURhdGEoImNvcm5lcnMiKSksYy5qcW1EYXRhKCJpbnNldCIpIT09YiYmKGQuaW5zZXQ9Yy5qcW1EYXRhKCJpbnNldCIpKSxkLmluc2V0PWQuaW5zZXQhPT1iP2QuaW5zZXQ6ITAsZC5jb3JuZXJzPWQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOiEwLGQuY29ybmVycyYmZC5pbnNldCYmYy5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpLGMuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpfHxjLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiLCEwKS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpOwpjLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSl9LF9pbml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpLGM9Yi5maWx0ZXIoIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKSIpO3RoaXMuX3JlZnJlc2goInRydWUiKSxjLnRyaWdnZXIoImV4cGFuZCIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShjLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLl9nZXRWaXNpYmxlcyhjLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIikuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJiEvXFMvLnRlc3QodGhpcy5ub2RlVmFsdWUpfSkucmVtb3ZlKCl9LGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKX0pfShhKSxmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjLGQ9YSh0aGlzKSxlPWEuZXh0ZW5kKHtncmlkOm51bGx9LGIpLGY9ZC5jaGlsZHJlbigpLGc9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGg9ZS5ncmlkO2lmKCFoKWlmKGYubGVuZ3RoPD01KWZvcih2YXIgaSBpbiBnKWdbaV09PT1mLmxlbmd0aCYmKGg9aSk7ZWxzZSBoPSJhIixkLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2M9Z1toXSxkLmFkZENsYXNzKCJ1aS1ncmlkLSIraCksZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxjPjEmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksYz4yJiZmLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGM+MyYmZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxjPjQmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmZpbmQoImEiKSxmPWUuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpiO2QuYWRkQ2xhc3MoInVpLW5hdmJhciB1aS1taW5pIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiExLHNoYWRvdzohMSxpbmxpbmU6ITAsaWNvbnBvczpmfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oYil7dmFyIGQ9YShiLnRhcmdldCkuaXMoImEiKT9hKHRoaXMpOmEodGhpcykucGFyZW50KCJhIik7aWYoIWQuaXMoIi51aS1kaXNhYmxlZCwgLnVpLWJ0bi1hY3RpdmUiKSl7ZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7dmFyIGY9YSh0aGlzKTthKGMpLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxkLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7ZS5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLm5hdmJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLGljb246ImFycm93LXIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0iIjtiKz1hLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCI6IiIsYS5vcHRpb25zLmluc2V0JiYoYis9YS5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixiKz1hLm9wdGlvbnMuc2hhZG93PyIgdWktc2hhZG93IjoiIiksYS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGMrIiB1aS1saXN0dmlldyIrYn0pLGEucmVmcmVzaCghMCl9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXt9O2ZvcihlW2NdPWVbZF09ITA7YTspe2lmKGVbYS5ub2RlTmFtZV0pcmV0dXJuIGE7YT1hW2JdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPVtdLGY9e307Zm9yKGZbY109ZltkXT0hMCxiPWIuZmlyc3RDaGlsZDtiOylmW2Iubm9kZU5hbWVdJiZlLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGUpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLmxlbmd0aDtmb3IoYz0wO2U+YztjKyspZD1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxkLmxlbmd0aCYmKGQuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGRbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZC5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHA9dGhpcy5vcHRpb25zLHE9dGhpcy5lbGVtZW50LHI9cS5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8cC5kaXZpZGVyVGhlbWUscz1xLmpxbURhdGEoInNwbGl0dGhlbWUiKSx0PXEuanFtRGF0YSgic3BsaXRpY29uIiksdT1xLmpxbURhdGEoImljb24iKSx2PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHFbMF0sImxpIiwiTEkiKSx3PSEhYS5ub2RlTmFtZShxWzBdLCJvbCIpLHg9IWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50LHk9cS5hdHRyKCJzdGFydCIpLHo9e307dyYmeCYmcS5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCksdyYmKHl8fDA9PT15P3g/aj1wYXJzZUludCh5LDEwKTooaz1wYXJzZUludCh5LDEwKS0xLHEuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2spKTp4JiYoaj0xKSkscC50aGVtZXx8KHAudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpO2Zvcih2YXIgQT0wLEI9di5sZW5ndGg7Qj5BO0ErKyl7aWYoZD12LmVxKEEpLGU9InVpLWxpIixifHwhZC5oYXNDbGFzcygidWktbGkiKSl7Zj1kLmpxbURhdGEoInRoZW1lIil8fHAudGhlbWUsZz10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShkWzBdLCJhIiwiQSIpO3ZhciBDPSJsaXN0LWRpdmlkZXIiPT09ZC5qcW1EYXRhKCJyb2xlIik7Zy5sZW5ndGgmJiFDPyhuPWQuanFtRGF0YSgiaWNvbiIpLGQuYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25wb3M6InJpZ2h0IixpY29uOmcubGVuZ3RoPjF8fG49PT0hMT8hMTpufHx1fHxwLmljb24sdGhlbWU6Zn0pLG4hPT0hMSYmMT09PWcubGVuZ3RoJiZkLmFkZENsYXNzKCJ1aS1saS1oYXMtYXJyb3ciKSxnLmZpcnN0KCkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0IiksZy5sZW5ndGg+MSYmKGUrPSIgdWktbGktaGFzLWFsdCIsaD1nLmxhc3QoKSxpPXN8fGguanFtRGF0YSgidGhlbWUiKXx8cC5zcGxpdFRoZW1lLG89aC5qcW1EYXRhKCJpY29uIiksaC5hcHBlbmRUbyhkKS5hdHRyKCJ0aXRsZSIsYS50cmltKGguZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSx0aGVtZTpmLGljb246ITEsaWNvbnBvczoibm90ZXh0In0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCx0aGVtZTppLGljb25wb3M6Im5vdGV4dCIsaWNvbjpvfHxufHx0fHxwLnNwbGl0SWNvbn0pKSkpOkM/KGUrPSIgdWktbGktZGl2aWRlciB1aS1iYXItIisoZC5qcW1EYXRhKCJ0aGVtZSIpfHxyKSxkLmF0dHIoInJvbGUiLCJoZWFkaW5nIiksdyYmKHl8fDA9PT15P3g/aj1wYXJzZUludCh5LDEwKToobD1wYXJzZUludCh5LDEwKS0xLGQuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2wpKTp4JiYoaj0xKSkpOmUrPSIgdWktbGktc3RhdGljIHVpLWJ0bi11cC0iK2Z9dyYmeCYmZS5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKG09ZS5pbmRleE9mKCJ1aS1saS1zdGF0aWMiKT4wP2Q6ZC5maW5kKCIudWktbGluay1pbmhlcml0IiksbS5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2orKyArIi4gPC9zcGFuPiIpKSx6W2VdfHwoeltlXT1bXSkseltlXS5wdXNoKGRbMF0pfWZvcihlIGluIHopYSh6W2VdKS5hZGRDbGFzcyhlKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKGUpO3EuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWNvdW50IikuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KS5hZGRDbGFzcygidWktYnRuLXVwLSIrKHEuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh2KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMocS5maW5kKCIudWktbGluay1pbmhlcml0IikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModix0aGlzLl9nZXRWaXNpYmxlcyh2LGIpLGIpLHRoaXMuX3RyaWdnZXIoImFmdGVycmVmcmVzaCIpfSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGMsZD10aGlzLmVsZW1lbnQsZT1kLmNsb3Nlc3QoIi51aS1wYWdlIiksZj1lLmpxbURhdGEoInVybCIpLGc9Znx8ZVswXVthLmV4cGFuZG9dLGg9ZC5hdHRyKCJpZCIpLGk9dGhpcy5vcHRpb25zLGo9ImRhdGEtIithLm1vYmlsZS5ucyxrPXRoaXMsbD1lLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGJbZ10mJihiW2ddPS0xKSxoPWh8fCsrYltnXSxhKGQuZmluZCgibGk+dWwsIGxpPm9sIikudG9BcnJheSgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbihiKXt2YXIgZSxnLGs9YSh0aGlzKSxtPWsuYXR0cigiaWQiKXx8aCsiLSIrYixuPWsucGFyZW50KCksbz1hKGsucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLHA9by5sZW5ndGg/bzphKCI8c3Bhbj4iK2EudHJpbShuLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKSsiPC9zcGFuPiIpLHE9cC5maXJzdCgpLmdldEVuY29kZWRUZXh0KCkscj0oZnx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IittLHM9ay5qcW1EYXRhKCJ0aGVtZSIpfHxpLnRoZW1lLHQ9ay5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGQuanFtRGF0YSgiY291bnR0aGVtZSIpfHxpLmNvdW50VGhlbWU7Yz0hMCxlPWsuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2orInJvbGU9J3BhZ2UnICIraisidXJsPSciK3IrIicgIitqKyJ0aGVtZT0nIitzKyInICIraisiY291bnQtdGhlbWU9JyIrdCsiJz48ZGl2ICIraisicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraisicm9sZT0naGVhZGVyJyAiK2orInRoZW1lPSciK2kuaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD9hKCI8ZGl2ICIraisicm9sZT0nZm9vdGVyJyAiK2orImlkPSciK2wrIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGUucGFnZSgpLGc9bi5maW5kKCJhOmZpcnN0IiksZy5sZW5ndGh8fChnPWEoIjxhLz4iKS5odG1sKHB8fHEpLnByZXBlbmRUbyhuLmVtcHR5KCkpKSxnLmF0dHIoImhyZWYiLCIjIityKX0pLmxpc3R2aWV3KCksYyYmZS5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmUuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlPT09ITEpe3ZhciBtPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZz1jLm5leHRQYWdlLGg9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtjLm5leHRQYWdlJiYoZD1nLmpxbURhdGEoInVybCIpLDAhPT1kLmluZGV4T2YoZisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkmJihrLmNoaWxkUGFnZXMoKS5yZW1vdmUoKSxlLnRyaWdnZXIoaCksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZS5yZW1vdmVXaXRoRGVwZW5kZW50cygpKSl9O2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLG0pfX0sY2hpbGRQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIitiKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyInKSIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZCYmYyE9PSEwfHwoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSksIGlucHV0W3R5cGU9J2ZpbGUnXSIsY2xlYXJCdG46ITEsY2xlYXJTZWFyY2hCdXR0b25UZXh0Om51bGwsY2xlYXJCdG5UZXh0OiJjbGVhciB0ZXh0IixkaXNhYmxlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhZi52YWwoKSl9LDApfXZhciBjLGQsZT10aGlzLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9Zy50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksaT0iIHVpLWJvZHktIitoLGo9Zy5taW5pPyIgdWktbWluaSI6IiIsaz1mLmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksbD1nLmNsZWFyU2VhcmNoQnV0dG9uVGV4dHx8Zy5jbGVhckJ0blRleHQsbT1mLmlzKCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLG49ISFnLmNsZWFyQnRuJiYhbSxvPWYuaXMoImlucHV0IikmJiFmLmlzKCI6anFtRGF0YSh0eXBlPSdyYW5nZScpIik7aWYoYSgibGFiZWxbZm9yPSciK2YuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLGM9Zi5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIraCksInVuZGVmaW5lZCI9PXR5cGVvZiBmWzBdLmF1dG9jb3JyZWN0fHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KGZbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLGZbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSksaz9jPWYud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2kraisiJz48L2Rpdj4iKS5wYXJlbnQoKTpvJiYoYz1mLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXRleHQgdWktc2hhZG93LWluc2V0IHVpLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyIraStqKyInPjwvZGl2PiIpLnBhcmVudCgpKSxufHxrPyhkPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrbCsiJz4iK2wrIjwvYT4iKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7Zi52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIiksZC5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiksYS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oYykuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczohMCxzaGFkb3c6ITAsbWluaTpnLm1pbml9KSxrfHxjLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKSxiKCksZi5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgaW5wdXQgZm9jdXMgY2hhbmdlIGJsdXIiLGIpKTpvfHxrfHxmLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIraStqKSxmLmZvY3VzKGZ1bmN0aW9uKCl7Zy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLGMuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSxnLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pLGYuaXMoInRleHRhcmVhIikpe3ZhciBwLHE9MTUscj0xMDA7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgYT1mWzBdLnNjcm9sbEhlaWdodCxiPWZbMF0uY2xpZW50SGVpZ2h0O2lmKGE+Yil7dmFyIGM9cGFyc2VGbG9hdChmLmNzcygicGFkZGluZy10b3AiKSksZD1wYXJzZUZsb2F0KGYuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxlPWMrZDtmLmhlaWdodChhLWUrcSl9fSxmLm9uKCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHApLHA9c2V0VGltZW91dChlLl9rZXl1cCxyKX0pLHRoaXMuX29uKCEwLGEubW9iaWxlLmRvY3VtZW50LHtwYWdlY2hhbmdlOiJfa2V5dXAifSksYS50cmltKGYudmFsKCkpJiZ0aGlzLl9vbighMCxhLm1vYmlsZS53aW5kb3cse2xvYWQ6Il9rZXl1cCJ9KX1mLmF0dHIoImRpc2FibGVkIikmJnRoaXMuZGlzYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxjPXRoaXMuZWxlbWVudC5pcygiaW5wdXQiKSYmIXRoaXMuZWxlbWVudC5pcygiOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLGQ9dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCkmJihjfHxiKTtyZXR1cm4gYT1kP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQsYS5hZGRDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksYz10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpJiYoY3x8Yik7cmV0dXJuIGE9ZD90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50LGEucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlcj0hMSxhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcj0iRmlsdGVyIGl0ZW1zLi4uIixhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT0iYyIsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUmV2ZWFsPSExO3ZhciBiPWZ1bmN0aW9uKGEsYil7cmV0dXJuLTE9PT1hLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGIpfTthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1iLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCwgb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKCJtb2JpbGUtbGlzdHZpZXciKTtpZihkJiZkLm9wdGlvbnMuZmlsdGVyKXtkLm9wdGlvbnMuZmlsdGVyUmV2ZWFsJiZjLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgZT1hKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrZC5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KS5zdWJtaXQoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGcuYmx1cigpfSksZj1mdW5jdGlvbigpe3ZhciBlLGY9YSh0aGlzKSxnPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxoPW51bGwsaT1jLmNoaWxkcmVuKCksaj1mLmpxbURhdGEoImxhc3R2YWwiKSsiIixrPSExLGw9IiIsbT1kLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2shPT1iO2lmKCFqfHxqIT09Zyl7aWYoZC5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIiwiYmVmb3JlZmlsdGVyIix7aW5wdXQ6dGhpc30pLGYuanFtRGF0YSgibGFzdHZhbCIsZyksbXx8Zy5sZW5ndGg8ai5sZW5ndGh8fDAhPT1nLmluZGV4T2Yoaik/aD1jLmNoaWxkcmVuKCk6KGg9Yy5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKSwhaC5sZW5ndGgmJmQub3B0aW9ucy5maWx0ZXJSZXZlYWwmJihoPWMuY2hpbGRyZW4oIi51aS1zY3JlZW4taGlkZGVuIikpKSxnKXtmb3IodmFyIG49aC5sZW5ndGgtMTtuPj0wO24tLSllPWEoaFtuXSksbD1lLmpxbURhdGEoImZpbHRlcnRleHQiKXx8ZS50ZXh0KCksZS5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oZS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWspLGs9ITEpOmQub3B0aW9ucy5maWx0ZXJDYWxsYmFjayhsLGcsZSk/ZS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITApOms9ITA7aC5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKSxoLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSBoLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhIWQub3B0aW9ucy5maWx0ZXJSZXZlYWwpO2QuX2FkZEZpcnN0TGFzdENsYXNzZXMoaSxkLl9nZXRWaXNpYmxlcyhpLCExKSwhMSl9fSxnPWEoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpkLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIGlucHV0IixmKS5hcHBlbmRUbyhlKS50ZXh0aW5wdXQoKTtkLm9wdGlvbnMuaW5zZXQmJmUuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpLGUuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGMpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5hdXRvZGl2aWRlcnM9ITEsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3I9ZnVuY3Rpb24oYil7dmFyIGM9YS50cmltKGIudGV4dCgpKXx8bnVsbDtyZXR1cm4gYz9jPWMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9LGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCxvbCIsImxpc3R2aWV3Y3JlYXRlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1iLmRhdGEoIm1vYmlsZS1saXN0dmlldyIpO2lmKGQmJmQub3B0aW9ucy5hdXRvZGl2aWRlcnMpe3ZhciBlPWZ1bmN0aW9uKCl7Yi5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCk7Zm9yKHZhciBlLGYsZz1iLmZpbmQoImxpIiksaD1udWxsLGk9MDtpPGcubGVuZ3RoO2krKyl7aWYoZT1nW2ldLGY9ZC5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGEoZSkpLGYmJmghPT1mKXt2YXIgaj1jLmNyZWF0ZUVsZW1lbnQoImxpIik7ai5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGYpKSxqLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIiwibGlzdC1kaXZpZGVyIiksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqLGUpfWg9Zn19LGY9ZnVuY3Rpb24oKXtiLnVuYmluZCgibGlzdHZpZXdhZnRlcnJlZnJlc2giLGYpLGUoKSxkLnJlZnJlc2goKSxiLmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixmKX07ZigpfX0pfShhKSxmdW5jdGlvbihhKXthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGIudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnMsZj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxnPWEoZCkuY2xvc2VzdCgibGFiZWwiKSxoPWcubGVuZ3RoP2c6YShkKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2RbMF0uaWQrIiddIikuZmlyc3QoKSxpPWRbMF0udHlwZSxqPWYoZCwibWluaSIpfHxlLm1pbmksaz1pKyItb24iLGw9aSsiLW9mZiIsbT1mKGQsImljb25wb3MiKSxuPSJ1aS0iK2ssbz0idWktIitsO2lmKCJjaGVja2JveCI9PT1pfHwicmFkaW8iPT09aSl7YS5leHRlbmQodGhpcyx7bGFiZWw6aCxpbnB1dHR5cGU6aSxjaGVja2VkQ2xhc3M6bix1bmNoZWNrZWRDbGFzczpvLGNoZWNrZWRpY29uOmssdW5jaGVja2VkaWNvbjpsfSksZS50aGVtZXx8KGUudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGguYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246bCxzaGFkb3c6ITEsbWluaTpqLGljb25wb3M6bX0pO3ZhciBwPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5jbGFzc05hbWU9InVpLSIraSxkLmFkZChoKS53cmFwQWxsKHApLGguYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbihiKXthKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmYi5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiBkLmlzKCI6ZGlzYWJsZWQiKT8oYS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KGIuX2NhY2hlVmFscygpLGQucHJvcCgiY2hlY2tlZCIsInJhZGlvIj09PWkmJiEwfHwhZC5wcm9wKCJjaGVja2VkIikpLGQudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksYi5fZ2V0SW5wdXRTZXQoKS5ub3QoZCkucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpLCExKX19KSxkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKCI6Y2hlY2tlZCIpPyhjLnByb3AoImNoZWNrZWQiLCEwKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIiwhMSkpOmMucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2guYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtoLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaCgpfX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMuaW5wdXR0eXBlP3RoaXMuZWxlbWVudDp0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8ImNoZWNrYm94Ij09PWIuaW5wdXR0eXBlKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnRbMF0sYz0iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsZD10aGlzLmNoZWNrZWRDbGFzcysodGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCIpLmxlbmd0aD9jOiIiKSxlPXRoaXMubGFiZWw7Yi5jaGVja2VkP2UucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcytjKS5hZGRDbGFzcyhkKS5idXR0b25NYXJrdXAoe2ljb246dGhpcy5jaGVja2VkaWNvbn0pOmUucmVtb3ZlQ2xhc3MoZCkuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcykuYnV0dG9uTWFya3VwKHtpY29uOnRoaXMudW5jaGVja2VkaWNvbn0pLGIuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITApLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsaW5saW5lOm51bGwsbWluaTpudWxsLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLmVsZW1lbnQsZD1mdW5jdGlvbihhKXt2YXIgYixjPXt9O2ZvcihiIGluIGEpbnVsbCE9PWFbYl0mJiJpbml0U2VsZWN0b3IiIT09YiYmKGNbYl09YVtiXSk7cmV0dXJuIGN9KHRoaXMub3B0aW9ucyksZT0iIjtyZXR1cm4iQSI9PT1jWzBdLnRhZ05hbWU/KGMuaGFzQ2xhc3MoInVpLWJ0biIpfHxjLmJ1dHRvbk1hcmt1cCgpLHZvaWQgMCk6KHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSksfmNbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihlPSJ1aS1idG4tbGVmdCIpLH5jWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGU9InVpLWJ0bi1yaWdodCIpLCgic3VibWl0Ij09PWMuYXR0cigidHlwZSIpfHwicmVzZXQiPT09Yy5hdHRyKCJ0eXBlIikpJiYoZT9lKz0iIHVpLXN1Ym1pdCI6ZT0idWktc3VibWl0IiksYSgibGFiZWxbZm9yPSciK2MuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktc3VibWl0IiksdGhpcy5idXR0b249YSgiPGRpdj48L2Rpdj4iKVtjLmh0bWwoKT8iaHRtbCI6InRleHQiXShjLmh0bWwoKXx8Yy52YWwoKSkuaW5zZXJ0QmVmb3JlKGMpLmJ1dHRvbk1hcmt1cChkKS5hZGRDbGFzcyhlKS5hcHBlbmQoYy5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKSxiPXRoaXMuYnV0dG9uLGMuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXtiLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLnJlZnJlc2goKSx2b2lkIDApfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9e307ZFtiXT1jLCJpbml0U2VsZWN0b3IiIT09YiYmKHRoaXMuYnV0dG9uLmJ1dHRvbk1hcmt1cChkKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpK2IucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYykpLHRoaXMuX3N1cGVyKCJfc2V0T3B0aW9uIixiLGMpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGEodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVtiLmh0bWwoKT8iaHRtbCI6InRleHQiXShiLmh0bWwoKXx8Yi52YWwoKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHt3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnPXRoaXMsaD10aGlzLmVsZW1lbnQsaT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShoLCJjIiksaj10aGlzLm9wdGlvbnMudGhlbWV8fGksaz10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8aSxsPWhbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxtPSh0aGlzLmlzVG9nZ2xlU3dpdGNoPSJzZWxlY3QiPT09bCxoLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIikpLG49dGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyLXN3aXRjaCI6IiIsbz1oLmF0dHIoImlkIikscD1hKCJbZm9yPSciK28rIiddIikscT1wLmF0dHIoImlkIil8fG8rIi1sYWJlbCIscj1wLmF0dHIoImlkIixxKSxzPXRoaXMuaXNUb2dnbGVTd2l0Y2g/MDpwYXJzZUZsb2F0KGguYXR0cigibWluIikpLHQ9dGhpcy5pc1RvZ2dsZVN3aXRjaD9oLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xOnBhcnNlRmxvYXQoaC5hdHRyKCJtYXgiKSksdT1iLnBhcnNlRmxvYXQoaC5hdHRyKCJzdGVwIil8fDEpLHY9dGhpcy5vcHRpb25zLm1pbml8fGguanFtRGF0YSgibWluaSIpPyIgdWktbWluaSI6IiIsdz1jLmNyZWF0ZUVsZW1lbnQoImEiKSx4PWEodykseT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHo9YSh5KSxBPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoP2Z1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKHopfSgpOiExO2lmKHcuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHkuc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSx5LmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyICI6InVpLXNsaWRlci10cmFjayAiLG4sIiB1aS1idG4tZG93bi0iLGssIiB1aS1idG4tY29ybmVyLWFsbCIsdl0uam9pbigiIiksdy5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLHkuYXBwZW5kQ2hpbGQodykseC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6aixzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpzLCJhcmlhLXZhbHVlbWF4Ijp0LCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOnF9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6eixoYW5kbGU6eCx0eXBlOmwsc3RlcDp1LG1heDp0LG1pbjpzLHZhbHVlYmc6QSxpc1Jhbmdlc2xpZGVyOm0sZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHRoaXMuaXNUb2dnbGVTd2l0Y2gpe2Y9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0Ijtmb3IodmFyIEI9MCxDPXkuY2hpbGROb2Rlcy5sZW5ndGg7Qz5CO0IrKylmLmFwcGVuZENoaWxkKHkuY2hpbGROb2Rlc1tCXSk7eS5hcHBlbmRDaGlsZChmKSx4LmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksZT1oLmZpbmQoIm9wdGlvbiIpO2Zvcih2YXIgRD0wLEU9ZS5sZW5ndGg7RT5EO0QrKyl7dmFyIEY9RD8iYSI6ImIiLEc9RD8iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6IiB1aS1idG4tZG93bi0iK2ssSD0oYy5jcmVhdGVFbGVtZW50KCJkaXYiKSxjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7SC5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsRixHLCIgdWktYnRuLWNvcm5lci1hbGwiXS5qb2luKCIiKSxILnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLEguYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW0RdLmlubmVySFRNTCkpLGEoSCkucHJlcGVuZFRvKHopfWcuX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIix6KX1yLmFkZENsYXNzKCJ1aS1zbGlkZXIiKSxoLmFkZENsYXNzKHRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihoLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSx6LmJpbmQoInZtb3VzZWRvd24iLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oei5hZGQoYykse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksei5pbnNlcnRBZnRlcihoKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHxtfHwoZj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixoLmFkZCh6KS53cmFwQWxsKGYpKSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3ouYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt6LnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9jb250cm9sQ2hhbmdlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJjb250cm9sY2hhbmdlIixhKT09PSExPyExOih0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSx2b2lkIDApfSxfY29udHJvbEtleXVwOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITAsITApfSxfY29udHJvbEJsdXI6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCl9LF9jb250cm9sVk1vdXNlVXA6ZnVuY3Rpb24oKXt0aGlzLl9jaGVja2VkUmVmcmVzaCgpfSxfaGFuZGxlVk1vdXNlRG93bjpmdW5jdGlvbigpe3RoaXMuaGFuZGxlLmZvY3VzKCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3ZhbHVlKCk7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2tleVNsaWRpbmd8fCh0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6dGhpcy5yZWZyZXNoKHRoaXMubWluKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOnRoaXMucmVmcmVzaCh0aGlzLm1heCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDp0aGlzLnJlZnJlc2goYyt0aGlzLnN0ZXApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6dGhpcy5yZWZyZXNoKGMtdGhpcy5zdGVwKX19fSxfaGFuZGxlS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfSxfc2xpZGVyVk1vdXNlRG93bjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkfHwxIT09YS53aGljaCYmMCE9PWEud2hpY2gmJmEud2hpY2ghPT1kPyExOnRoaXMuX3RyaWdnZXIoImJlZm9yZXN0YXJ0IixhKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGEpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2luZz8odGhpcy5kcmFnZ2luZz0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/dGhpcy5yZWZyZXNoKDA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCk6dGhpcy5yZWZyZXNoKHRoaXMuYmVmb3JlU3RhcnQpOnRoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIpLCExKTp2b2lkIDB9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJkcmFnIixhKT09PSExPyExOnRoaXMuZHJhZ2dpbmcmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/KHRoaXMubW91c2VNb3ZlZD0hMCx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMucmVmcmVzaChhKSx0aGlzLnVzZXJNb2RpZmllZD10aGlzLmJlZm9yZVN0YXJ0IT09dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgsITEpOnZvaWQgMH0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goZCwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oYixkLGUpe3ZhciBmLGcsaCxpLGo9dGhpcyxrPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGw9dGhpcy5vcHRpb25zLnRoZW1lfHxrLG09dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGs7ai5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci10cmFjayIsIiB1aS1idG4tZG93bi0iK20sIiB1aS1idG4tY29ybmVyLWFsbCIsdGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIl0uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKGouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmwsc2hhZG93OiEwfSk7dmFyIG4sbyxwPXRoaXMuZWxlbWVudCxxPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLHI9cT9bXTpwLmZpbmQoIm9wdGlvbiIpLHM9cT9wYXJzZUZsb2F0KHAuYXR0cigibWluIikpOjAsdD1xP3BhcnNlRmxvYXQocC5hdHRyKCJtYXgiKSk6ci5sZW5ndGgtMSx1PXEmJnBhcnNlRmxvYXQocC5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChwLmF0dHIoInN0ZXAiKSk6MTtpZigib2JqZWN0Ij09dHlwZW9mIGIpe2lmKGg9YixpPTgsZj10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LGc9dGhpcy5zbGlkZXIud2lkdGgoKSxuPWcvKCh0LXMpL3UpLCF0aGlzLmRyYWdnaW5nfHxoLnBhZ2VYPGYtaXx8aC5wYWdlWD5mK2craSlyZXR1cm47bz1uPjE/MTAwKigoaC5wYWdlWC1mKS9nKTpNYXRoLnJvdW5kKDEwMCooKGgucGFnZVgtZikvZykpfWVsc2UgbnVsbD09YiYmKGI9cT9wYXJzZUZsb2F0KHAudmFsKCl8fDApOnBbMF0uc2VsZWN0ZWRJbmRleCksbz0xMDAqKChwYXJzZUZsb2F0KGIpLXMpLyh0LXMpKTtpZighaXNOYU4obykpe3ZhciB2PW8vMTAwKih0LXMpK3Msdz0odi1zKSV1LHg9di13OzIqTWF0aC5hYnModyk+PXUmJih4Kz13PjA/dTotdSk7dmFyIHk9MTAwLygodC1zKS91KTtpZih2PXBhcnNlRmxvYXQoeC50b0ZpeGVkKDUpKSwidW5kZWZpbmVkIj09dHlwZW9mIG4mJihuPWcvKCh0LXMpL3UpKSxuPjEmJnEmJihvPSh2LXMpKnkqKDEvdSkpLDA+byYmKG89MCksbz4xMDAmJihvPTEwMCkscz52JiYodj1zKSx2PnQmJih2PXQpLHRoaXMuaGFuZGxlLmNzcygibGVmdCIsbysiJSIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIscT92OnIuZXEodikuYXR0cigidmFsdWUiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIscT92OnIuZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJ0aXRsZSIscT92OnIuZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsbysiJSIpLHRoaXMuX2xhYmVscyl7dmFyIHo9MTAwKih0aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkpLEE9byYmeisoMTAwLXopKm8vMTAwLEI9MTAwPT09bz8wOk1hdGgubWluKHorMTAwLUEsMTAwKTt0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIi51aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/QTpCKSsiJSIpfSl9aWYoIWUpe3ZhciBDPSExO2lmKHE/KEM9cC52YWwoKSE9PXYscC52YWwodikpOihDPXBbMF0uc2VsZWN0ZWRJbmRleCE9PXYscFswXS5zZWxlY3RlZEluZGV4PXYpLHRoaXMuX3RyaWdnZXIoImJlZm9yZWNoYW5nZSIsYik9PT0hMSlyZXR1cm4hMTshZCYmQyYmcC50cmlnZ2VyKCJjaGFuZ2UiKX19fSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIixtaW5pOiExLGhpZ2hsaWdodDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5lbGVtZW50LGQ9dGhpcy5vcHRpb25zLm1pbmk/InVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiOiJ1aS1yYW5nZXNsaWRlciIsZT1jLmZpbmQoImlucHV0IikuZmlyc3QoKSxmPWMuZmluZCgiaW5wdXQiKS5sYXN0KCksZz1jLmZpbmQoImxhYmVsIikuZmlyc3QoKSxoPWEuZGF0YShlLmdldCgwKSwibW9iaWxlU2xpZGVyIikuc2xpZGVyLGk9YS5kYXRhKGYuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5zbGlkZXIsaj1hLmRhdGEoZS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZSxrPWEoJzxkaXYgY2xhc3M9InVpLXJhbmdlc2xpZGVyLXNsaWRlcnMiIC8+JykuYXBwZW5kVG8oYyk7Yy5maW5kKCJsYWJlbCIpLmxlbmd0aD4xJiYoYj1jLmZpbmQoImxhYmVsIikubGFzdCgpLmhpZGUoKSksZS5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxmLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1sYXN0IiksYy5hZGRDbGFzcyhkKSxoLmFwcGVuZFRvKGspLGkuYXBwZW5kVG8oayksZy5wcmVwZW5kVG8oYyksai5wcmVwZW5kVG8oaSksYS5leHRlbmQodGhpcyx7X2lucHV0Rmlyc3Q6ZSxfaW5wdXRMYXN0OmYsX3NsaWRlckZpcnN0OmgsX3NsaWRlckxhc3Q6aSxfdGFyZ2V0VmFsOm51bGwsX3NsaWRlclRhcmdldDohMSxfc2xpZGVyczprLF9wcm94eTohMX0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dC51aS1zbGlkZXItaW5wdXQiKSx7c2xpZGViZWZvcmVzdGFydDoiX3NsaWRlYmVmb3Jlc3RhcnQiLHNsaWRlc3RvcDoiX3NsaWRlc3RvcCIsc2xpZGVkcmFnOiJfc2xpZGVkcmFnIixzbGlkZWJlZm9yZWNoYW5nZToiX2NoYW5nZSIsYmx1cjoiX2NoYW5nZSIsa2V5dXA6Il9jaGFuZ2UifSksdGhpcy5fb24oe21vdXNlZG93bjoiX2NoYW5nZSJ9KSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDoiX2hhbmRsZVJlc2V0In0pLHRoaXMuX29uKGose3Ztb3VzZWRvd246Il9kcmFnRmlyc3RIYW5kbGUifSl9LF9oYW5kbGVSZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuX3VwZGF0ZUhpZ2hsaWdodCgpfSwwKX0sX2RyYWdGaXJzdEhhbmRsZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnJlZnJlc2goYiksITF9LF9zbGlkZWRyYWc6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCksZD1jP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O3JldHVybiB0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsImZpcnN0Ij09PXRoaXMuX3Byb3h5JiZjfHwibGFzdCI9PT10aGlzLl9wcm94eSYmIWM/KGEuZGF0YShkLmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGM/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyQXBwbHkoYSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnM7YS5maW5kKCJpbnB1dCIpLnNsaWRlcih7dGhlbWU6Yi50aGVtZSx0cmFja1RoZW1lOmIudHJhY2tUaGVtZSxkaXNhYmxlZDpiLmRpc2FibGVkLG1pbmk6Yi5taW5pLGhpZ2hsaWdodDpiLmhpZ2hsaWdodH0pLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKGIpe2lmKCJrZXl1cCI9PT1iLnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXRoaXMsZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLGU9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLGY9YShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZz1mP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGg9Zj90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmIm1vdXNlZG93biI9PT1iLnR5cGUmJiFhKGIudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpKWcuYmx1cigpO2Vsc2UgaWYoIm1vdXNlZG93biI9PT1iLnR5cGUpcmV0dXJuO3JldHVybiBkPmUmJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KGcudmFsKGY/ZTpkKS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl90cmlnZ2VyKCJub3JtYWxpemUiKSk6ZD5lJiYoZy52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoInJlZnJlc2giKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC52YWwoZj9kOmUpLnNsaWRlcigicmVmcmVzaCIpLGEuZGF0YShoLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmZvY3VzKCksYy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixmPyIiOjEpLGMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1mPyJmaXJzdCI6Imxhc3QiKSxkPT09ZT8oYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDApKTooYS5kYXRhKGguZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIiksYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGM9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksZD1jLWI7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zbGlkZXItYmciKS5jc3MoeyJtYXJnaW4tbGVmdCI6YisiJSIsd2lkdGg6ZCsiJSJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKS5maW5kKCJsYWJlbCIpLnNob3coKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0pLGEud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEubW9iaWxlLnJhbmdlc2xpZGVyLGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpLGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnJhbmdlc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsb3ZlcmxheVRoZW1lOiJhIixkaXZpZGVyVGhlbWU6ImIiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKQp9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixhKSx0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciBiPSIiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihiPSIgdWktYnRuLWxlZnQiKSx+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGI9IiB1aS1idG4tcmlnaHQiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrYisiJz4iKSx0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIiksdGhpcy5sYWJlbD1hKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0IiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlLHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2EubGVuZ3RoPjAmJihhLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuaXMoIi51aS1idG4tbGVmdCIpPyJ1aS1idG4tbGVmdCI6InVpLWJ0bi1yaWdodCIpLHRoaXMuZWxlbWVudC5pbnNlcnRBZnRlcihhKSxhLnJlbW92ZSgpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnMsZT1kLmlubGluZXx8dGhpcy5zZWxlY3QuanFtRGF0YSgiaW5saW5lIiksZj1kLm1pbml8fHRoaXMuc2VsZWN0LmpxbURhdGEoIm1pbmkiKSxnPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxoPSgtMT09PXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LHRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYnV0dG9uTWFya3VwKHt0aGVtZTpkLnRoZW1lLGljb246ZC5pY29uLGljb25wb3M6ZyxpbmxpbmU6ZSxjb3JuZXJzOmQuY29ybmVycyxzaGFkb3c6ZC5zaGFkb3csaWNvbnNoYWRvdzpkLmljb25zaGFkb3csbWluaTpmfSkpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZoLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGguYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKGQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCksZC5uYXRpdmVNZW51JiZ0aGlzLmJsdXIoKX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGIuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKX0pLGIuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLGIuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLnNlbGVjdGVkKCksZT10aGlzLnBsYWNlaG9sZGVyLGY9YShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikuaHRtbChmdW5jdGlvbigpe3JldHVybiBlPWQubGVuZ3RoP2QubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpiLnBsYWNlaG9sZGVyLGYudGV4dChlKS5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSxiLGMsZCl7dmFyIGU9ZDtyZXR1cm4gZT1iPmE/YysoYS1iKS8yOk1hdGgubWluKE1hdGgubWF4KGMsZC1iLzIpLGMrYS1iKX1mdW5jdGlvbiBmKCl7dmFyIGM9YS5tb2JpbGUud2luZG93O3JldHVybnt4OmMuc2Nyb2xsTGVmdCgpLHk6Yy5zY3JvbGxUb3AoKSxjeDpiLmlubmVyV2lkdGh8fGMud2lkdGgoKSxjeTpiLmlubmVySGVpZ2h0fHxjLmhlaWdodCgpfX1hLndpZGdldCgibW9iaWxlLnBvcHVwIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiLGNsb3NlTGlua1NlbGVjdG9yOiJhOmpxbURhdGEocmVsPSdiYWNrJykiLGNsb3NlTGlua0V2ZW50czoiY2xpY2sucG9wdXAiLG5hdmlnYXRlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCIsY2xvc2VFdmVudHM6Im5hdmlnYXRlLnBvcHVwIHBhZ2ViZWZvcmVjaGFuZ2UucG9wdXAiLGRpc21pc3NpYmxlOiEwLGhpc3Rvcnk6IWEubW9iaWxlLmJyb3dzZXIub2xkSUV9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksYT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoYSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5faXNPcGVuJiZiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpOnZvaWQgMH0sX2V4cGVjdFJlc2l6ZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIGI9ZigpO2lmKHRoaXMuX3Jlc2l6ZURhdGEpe2lmKGIueD09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLngmJmIueT09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLnkmJmIuY3g9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeCYmYi5jeT09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLmN5KXJldHVybiExO2NsZWFyVGltZW91dCh0aGlzLl9yZXNpemVEYXRhLnRpbWVvdXRJZCl9cmV0dXJuIHRoaXMuX3Jlc2l6ZURhdGE9e3RpbWVvdXRJZDpzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3Jlc2l6ZVRpbWVvdXQiKSwyMDApLHdpbkNvb3JkczpifSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIikmJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMucmVwb3NpdGlvbih7cG9zaXRpb25Ubzoid2luZG93In0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9pZ25vcmVSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuX2lnbm9yZVJlc2l6ZVRvJiZjbGVhclRpbWVvdXQodGhpcy5faWdub3JlUmVzaXplVG8pLHRoaXMuX2lnbm9yZVJlc2l6ZVRvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLl9pZ25vcmVSZXNpemVUbz0wfSwxZTMpfSxfaGFuZGxlV2luZG93UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJighdGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSYmIXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzc3x8dGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKXx8dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpKX0sX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlOmZ1bmN0aW9uKCl7IXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcyYmdGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJih0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMCl9LF9oYW5kbGVEb2N1bWVudEZvY3VzSW46ZnVuY3Rpb24oYil7dmFyIGQsZT1iLnRhcmdldCxmPXRoaXMuX3VpO2lmKHRoaXMuX2lzT3Blbil7aWYoZSE9PWYuY29udGFpbmVyWzBdKXtpZihkPWEoYi50YXJnZXQpLDA9PT1kLnBhcmVudHMoKS5maWx0ZXIoZi5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYShjLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKCl7ZC5ibHVyKCl9KSxmLmZvY3VzRWxlbWVudC5mb2N1cygpLGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO2YuZm9jdXNFbGVtZW50WzBdPT09Zi5jb250YWluZXJbMF0mJihmLmZvY3VzRWxlbWVudD1kKX10aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKX19LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj17c2NyZWVuOmEoIjxkaXYgY2xhc3M9J3VpLXNjcmVlbi1oaWRkZW4gdWktcG9wdXAtc2NyZWVuJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbic+PC9kaXY+Iil9LGM9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksZD10aGlzLmVsZW1lbnQuYXR0cigiaWQiKSxlPXRoaXMub3B0aW9ucztlLmhpc3Rvcnk9ZS5oaXN0b3J5JiZhLm1vYmlsZS5hamF4RW5hYmxlZCYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQsMD09PWMubGVuZ3RoJiYoYz1hKCJib2R5IikpLGUuY29udGFpbmVyPWUuY29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyfHxjLGMuYXBwZW5kKGIuc2NyZWVuKSxiLmNvbnRhaW5lci5pbnNlcnRBZnRlcihiLnNjcmVlbiksYi5wbGFjZWhvbGRlci5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpLGQmJihiLnNjcmVlbi5hdHRyKCJpZCIsZCsiLXNjcmVlbiIpLGIuY29udGFpbmVyLmF0dHIoImlkIixkKyItcG9wdXAiKSxiLnBsYWNlaG9sZGVyLmh0bWwoIjwhLS0gcGxhY2Vob2xkZXIgZm9yICIrZCsiIC0tPiIpKSxiLmNvbnRhaW5lci5hcHBlbmQodGhpcy5lbGVtZW50KSxiLmZvY3VzRWxlbWVudD1iLmNvbnRhaW5lcix0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXBvcHVwIiksYS5leHRlbmQodGhpcyx7X3Njcm9sbFRvcDowLF9wYWdlOmMsX3VpOmIsX2ZhbGxiYWNrVHJhbnNpdGlvbjoiIixfY3VycmVudFRyYW5zaXRpb246ITEsX3ByZXJlcXM6bnVsbCxfaXNPcGVuOiExLF90b2xlcmFuY2U6bnVsbCxfcmVzaXplRGF0YTpudWxsLF9pZ25vcmVSZXNpemVUbzowLF9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M6ITF9KSx0aGlzLl9hcHBseVRoZW1lKHRoaXMuZWxlbWVudCxlLnRoZW1lLCJib2R5IiksdGhpcy5fYXBwbHlUaGVtZSh0aGlzLl91aS5zY3JlZW4sZS5vdmVybGF5VGhlbWUsIm92ZXJsYXkiKSx0aGlzLl9hcHBseVRyYW5zaXRpb24oZS50cmFuc2l0aW9uKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixlLnNoYWRvdykudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGUuY29ybmVycyksdGhpcy5fc2V0VG9sZXJhbmNlKGUudG9sZXJhbmNlKSxiLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGEucHJveHkodGhpcywiX2VhdEV2ZW50QW5kQ2xvc2UiKSksdGhpcy5fb24oYS5tb2JpbGUud2luZG93LHtvcmllbnRhdGlvbmNoYW5nZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZSIpLHJlc2l6ZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dSZXNpemUiKSxrZXl1cDphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dLZXlVcCIpfSksdGhpcy5fb24oYS5tb2JpbGUuZG9jdW1lbnQse2ZvY3VzaW46YS5wcm94eSh0aGlzLCJfaGFuZGxlRG9jdW1lbnRGb2N1c0luIil9KX0sX2FwcGx5VGhlbWU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPShhLmF0dHIoImNsYXNzIil8fCIiKS5zcGxpdCgiICIpLGY9bnVsbCxnPVN0cmluZyhiKTtlLmxlbmd0aD4wOyl7aWYoZj1lLnBvcCgpLGQ9bmV3IFJlZ0V4cCgiXnVpLSIrYysiLShbYS16XSkkIikuZXhlYyhmKSxkJiZkLmxlbmd0aD4xKXtmPWRbMV07YnJlYWt9Zj1udWxsfWIhPT1mJiYoYS5yZW1vdmVDbGFzcygidWktIitjKyItIitmKSxudWxsIT09YiYmIm5vbmUiIT09YiYmYS5hZGRDbGFzcygidWktIitjKyItIitnKSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBseVRoZW1lKHRoaXMuZWxlbWVudCxhLCJib2R5Iil9LF9zZXRPdmVybGF5VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLl91aS5zY3JlZW4sYSwib3ZlcmxheSIpLHRoaXMuX2lzT3BlbiYmdGhpcy5fdWkuc2NyZWVuLmFkZENsYXNzKCJpbiIpfSxfc2V0U2hhZG93OmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfYXBwbHlUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLGImJiJub25lIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksIm5vbmUiPT09dGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPSIiKSx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSl9LF9zZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2N1cnJlbnRUcmFuc2l0aW9ufHx0aGlzLl9hcHBseVRyYW5zaXRpb24oYSl9LF9zZXRUb2xlcmFuY2U6ZnVuY3Rpb24oYil7dmFyIGM9e3Q6MzAscjoxNSxiOjMwLGw6MTV9O2lmKGIhPT1kKXt2YXIgZT1TdHJpbmcoYikuc3BsaXQoIiwiKTtzd2l0Y2goYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtlW2FdPXBhcnNlSW50KGIsMTApfSksZS5sZW5ndGgpe2Nhc2UgMTppc05hTihlWzBdKXx8KGMudD1jLnI9Yy5iPWMubD1lWzBdKTticmVhaztjYXNlIDI6aXNOYU4oZVswXSl8fChjLnQ9Yy5iPWVbMF0pLGlzTmFOKGVbMV0pfHwoYy5sPWMucj1lWzFdKTticmVhaztjYXNlIDQ6aXNOYU4oZVswXSl8fChjLnQ9ZVswXSksaXNOYU4oZVsxXSl8fChjLnI9ZVsxXSksaXNOYU4oZVsyXSl8fChjLmI9ZVsyXSksaXNOYU4oZVszXSl8fChjLmw9ZVszXSl9fXRoaXMuX3RvbGVyYW5jZT1jfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9Il9zZXQiK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKTt0aGlzW2NdIT09ZCYmdGhpc1tjXShiKSx0aGlzLl9zdXBlcihhLGIpfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3ZhciBiLGQsZz1mKCksaD17eDp0aGlzLl90b2xlcmFuY2UubCx5OmcueSt0aGlzLl90b2xlcmFuY2UudCxjeDpnLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OmcuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3RoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsaC5jeCksYj17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LGQ9e3g6ZShoLmN4LGIuY3gsaC54LGEueCkseTplKGguY3ksYi5jeSxoLnksYS55KX0sZC55PU1hdGgubWF4KDAsZC55KTt2YXIgaT1jLmRvY3VtZW50RWxlbWVudCxqPWMuYm9keSxrPU1hdGgubWF4KGkuY2xpZW50SGVpZ2h0LGouc2Nyb2xsSGVpZ2h0LGoub2Zmc2V0SGVpZ2h0LGkuc2Nyb2xsSGVpZ2h0LGkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gZC55LT1NYXRoLm1pbihkLnksTWF0aC5tYXgoMCxkLnkrYi5jeS1rKSkse2xlZnQ6ZC54LHRvcDpkLnl9fSxfY3JlYXRlUHJlcmVxczpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzO2U9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXFzJiZiKCl9KSxlLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXMmJmMoKX0pLGEud2hlbihlLnNjcmVlbixlLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXFzJiYoZi5fcHJlcmVxcz1udWxsLGQoKSl9KSxmLl9wcmVyZXFzPWV9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyhiLnNjcmVlbkNsYXNzVG9BZGQpLGIucHJlcmVxcy5zY3JlZW4ucmVzb2x2ZSgpLGIudHJhbnNpdGlvbiYmIm5vbmUiIT09Yi50cmFuc2l0aW9uJiYoYi5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbihiLnRyYW5zaXRpb24pLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbik/KHRoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGIucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLHZvaWQgMCk6KHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLGIucHJlcmVxcy5jb250YWluZXIucmVzb2x2ZSgpLHZvaWQgMCl9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9bnVsbCxlPWYoKSxnPWIueCxoPWIueSxpPWIucG9zaXRpb25UbztpZihpJiYib3JpZ2luIiE9PWkpaWYoIndpbmRvdyI9PT1pKWc9ZS5jeC8yK2UueCxoPWUuY3kvMitlLnk7ZWxzZXt0cnl7ZD1hKGkpfWNhdGNoKGope2Q9bnVsbH1kJiYoZC5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWQubGVuZ3RoJiYoZD1udWxsKSl9cmV0dXJuIGQmJihjPWQub2Zmc2V0KCksZz1jLmxlZnQrZC5vdXRlcldpZHRoKCkvMixoPWMudG9wK2Qub3V0ZXJIZWlnaHQoKS8yKSwoIm51bWJlciIhPT1hLnR5cGUoZyl8fGlzTmFOKGcpKSYmKGc9ZS5jeC8yK2UueCksKCJudW1iZXIiIT09YS50eXBlKGgpfHxpc05hTihoKSkmJihoPWUuY3kvMitlLnkpLHt4OmcseTpofX0sX3JlcG9zaXRpb246ZnVuY3Rpb24oYSl7YT17eDphLngseTphLnkscG9zaXRpb25UbzphLnBvc2l0aW9uVG99LHRoaXMuX3RyaWdnZXIoImJlZm9yZXBvc2l0aW9uIixkLGEpLHRoaXMuX3VpLmNvbnRhaW5lci5vZmZzZXQodGhpcy5fcGxhY2VtZW50Q29vcmRzKHRoaXMuX2Rlc2lyZWRDb29yZHMoYSkpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX3JlcG9zaXRpb24oYSl9LF9vcGVuUHJlcmVxc0NvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9pc09wZW49ITAsdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fdWkuY29udGFpbmVyLmF0dHIoInRhYmluZGV4IiwiMCIpLmZvY3VzKCksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9LF9vcGVuOmZ1bmN0aW9uKGIpe3ZhciBjPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxiKSxkPWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksYz0hIWImJmJbMV0sZD1hLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksZT0hIWQmJmRbMV0sZj1hLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBudWxsIT09ZCYmIjQuMCI9PT1lJiZjJiZjPjUzNC4xMyYmIWY/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249Yy50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihjLnRyYW5zaXRpb24pLHRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fc2V0VGhlbWUodGhpcy5fcGFnZS5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLl9wYWdlLCJjIikpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5fcmVwb3NpdGlvbihjKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZkJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX2Nsb3NlUHJlcmVxU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXFDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fdWkuY29udGFpbmVyO2IucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxhLm1vYmlsZS5wb3B1cC5hY3RpdmU9ZCxhKCI6Zm9jdXMiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXM6dGhpcy5fcHJlcmVxc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0VGhlbWUoIm5vbmUiKSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZSgpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl91aS5wbGFjZWhvbGRlci5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXthLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpfSxfY2xvc2VQb3B1cDpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnMsaD0hMTtiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksZy5jb250YWluZXIudW5iaW5kKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpfSxfYmluZENvbnRhaW5lckNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNvbnRhaW5lci5vbmUodGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LG9wZW46ZnVuY3Rpb24oYyl7dmFyIGQsZSxmLGcsaCxpLGo9dGhpcyxrPXRoaXMub3B0aW9ucztpZighYS5tb2JpbGUucG9wdXAuYWN0aXZlKXtpZihhLm1vYmlsZS5wb3B1cC5hY3RpdmU9dGhpcyx0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLCFrLmhpc3RvcnkpcmV0dXJuIGouX29wZW4oYyksai5fYmluZENvbnRhaW5lckNsb3NlKCksai5lbGVtZW50LmRlbGVnYXRlKGsuY2xvc2VMaW5rU2VsZWN0b3Isay5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7ai5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHZvaWQgMDtpZihpPWEubW9iaWxlLnVybEhpc3RvcnksZT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGY9YS5tb2JpbGUuYWN0aXZlUGFnZSxnPWYuaXMoIi51aS1kaWFsb2ciKSx0aGlzLl9teVVybD1kPWkuZ2V0QWN0aXZlKCkudXJsLGg9ZC5pbmRleE9mKGUpPi0xJiYhZyYmaS5hY3RpdmVJbmRleD4wKXJldHVybiBqLl9vcGVuKGMpLGouX2JpbmRDb250YWluZXJDbG9zZSgpLHZvaWQgMDstMSE9PWQuaW5kZXhPZihlKXx8Zz9kPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZTpkKz1kLmluZGV4T2YoIiMiKT4tMT9lOiIjIitlLDA9PT1pLmFjdGl2ZUluZGV4JiZkPT09aS5pbml0aWFsRHN0JiYoZCs9ZSksYShiKS5vbmUoImJlZm9yZW5hdmlnYXRlIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksai5fb3BlbihjKSxqLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxhLm1vYmlsZS5uYXZpZ2F0ZShkLHtyb2xlOiJkaWFsb2cifSl9fSxjbG9zZTpmdW5jdGlvbigpe2EubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXMmJih0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSl9fSksYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluaz1mdW5jdGlvbihiKXt2YXIgYyxkPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZT0wPT09ZC5sZW5ndGg/YSgiYm9keSIpOmQsZj1hKGEubW9iaWxlLnBhdGgucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gsZVswXSk7Zi5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGM9Yi5vZmZzZXQoKSxmLnBvcHVwKCJvcGVuIix7eDpjLmxlZnQrYi5vdXRlcldpZHRoKCkvMix5OmMudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25UbzpiLmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBjPWIucGFyZW50KCkucGFyZW50KCk7Yy5oYXNDbGFzcygidWktbGkiKSYmKGI9Yy5wYXJlbnQoKSksYi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2ViZWZvcmVjaGFuZ2UiLGZ1bmN0aW9uKGIsYyl7InBvcHVwIj09PWMub3B0aW9ucy5yb2xlJiYoYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluayhjLm9wdGlvbnMubGluayksYi5wcmV2ZW50RGVmYXVsdCgpKX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5wb3B1cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD1mdW5jdGlvbihkKXt2YXIgZSxmLGcsaD0oZC5zZWxlY3QsZC5fZGVzdHJveSksaT1kLnNlbGVjdElELGo9aT9pOihhLm1vYmlsZS5uc3x8IiIpKyJ1dWlkLSIrZC51dWlkLGs9aisiLWxpc3Rib3giLGw9aisiLWRpYWxvZyIsbT1kLmxhYmVsLG49ZC5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxvPWQuX3NlbGVjdE9wdGlvbnMoKSxwPWQuaXNNdWx0aXBsZT1kLnNlbGVjdFswXS5tdWx0aXBsZSxxPWkrIi1idXR0b24iLHI9aSsiLW1lbnUiLHM9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgaWQ9JyIrbCsiJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2Qub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrZC5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+IittLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSx0PWEoIjxkaXYgaWQ9JyIraysiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIoZC5zZWxlY3QpLnBvcHVwKHt0aGVtZTpkLm9wdGlvbnMub3ZlcmxheVRoZW1lfSksdT1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpyLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOnF9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixkLm9wdGlvbnMudGhlbWUpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZSIsZC5vcHRpb25zLmRpdmlkZXJUaGVtZSkuYXBwZW5kVG8odCksdj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitkLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8odCksdz1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8odik7ZC5pc011bHRpcGxlJiYoZz1hKCI8YT4iLHt0ZXh0OmQub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8odikuYnV0dG9uTWFya3VwKCkpLGEuZXh0ZW5kKGQse3NlbGVjdDpkLnNlbGVjdCxzZWxlY3RJRDppLGJ1dHRvbklkOnEsbWVudUlkOnIscG9wdXBJRDprLGRpYWxvZ0lEOmwsdGhpc1BhZ2U6bixtZW51UGFnZTpzLGxhYmVsOm0sc2VsZWN0T3B0aW9uczpvLGlzTXVsdGlwbGU6cCx0aGVtZTpkLm9wdGlvbnMudGhlbWUsbGlzdGJveDp0LGxpc3Q6dSxoZWFkZXI6dixoZWFkZXJUaXRsZTp3LGhlYWRlckNsb3NlOmcsbWVudVBhZ2VDb250ZW50OmUsbWVudVBhZ2VDbG9zZTpmLHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyhbISIjJCUmJygpKissLi86Ozw9Pj9AW1xdXmB7fH1+XSkvZywiXFwkMSIpfTtjLnJlZnJlc2goKSxjLl9vcmlnVGFiSW5kZXg9PT1iJiYoYy5fb3JpZ1RhYkluZGV4PW51bGw9PT1jLnNlbGVjdFswXS5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iik/ITE6Yy5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksYy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCksYy5idXR0b24uZm9jdXMoKX0pLGMuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbihiKXtjLm9wdGlvbnMuZGlzYWJsZWR8fGMuaXNPcGVufHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKGMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PWMubWVudVR5cGU/Yy5idXR0b24uYXR0cigiaHJlZiIsIiMiK2UoYy5wb3B1cElEKSkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOmMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIitlKGMuZGlhbG9nSUQpKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLGMuaXNPcGVuPSEwKX0pLGMubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmJpbmQoImZvY3VzaW4iLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmF0dHIoInRhYmluZGV4IiwiMCIpLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoImZvY3Vzb3V0IixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIi0xIikudHJpZ2dlcigidm1vdXNlb3V0Iil9KS5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBlPWMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZj1jLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmluZGV4KHRoaXMpLGc9Yy5fc2VsZWN0T3B0aW9ucygpLmVxKGYpWzBdO2cuc2VsZWN0ZWQ9Yy5pc011bHRpcGxlPyFnLnNlbGVjdGVkOiEwLGMuaXNNdWx0aXBsZSYmYSh0aGlzKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixnLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFnLnNlbGVjdGVkKSwoYy5pc011bHRpcGxlfHxlIT09ZikmJmMuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLGMuaXNNdWx0aXBsZT9jLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmVxKGYpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKTpjLmNsb3NlKCksYi5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYyxlLGY9YShiLnRhcmdldCksZz1mLmNsb3Nlc3QoImxpIik7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSAzODpyZXR1cm4gYz1nLnByZXYoKS5ub3QoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksYy5pcygiLnVpLWxpLWRpdmlkZXIiKSYmKGM9Yy5wcmV2KCkpLGMubGVuZ3RoJiYoZi5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGMuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrZC5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDQwOnJldHVybiBlPWcubmV4dCgpLGUuaXMoIi51aS1saS1kaXZpZGVyIikmJihlPWUubmV4dCgpKSxlLmxlbmd0aCYmKGYuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxlLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBmLnRyaWdnZXIoImNsaWNrIiksITF9fSksYy5tZW51UGFnZS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChjLnRoaXNQYWdlKX0pLGMubGlzdGJveC5iaW5kKCJwb3B1cGFmdGVyY2xvc2UiLGZ1bmN0aW9uKCl7Yy5jbG9zZSgpfSksYy5pc011bHRpcGxlJiZjLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7cmV0dXJuIm92ZXJsYXkiPT09Yy5tZW51VHlwZT8oYy5jbG9zZSgpLCExKTp2b2lkIDB9KSxjLnRoaXNQYWdlLmFkZERlcGVuZGVudHModGhpcy5tZW51UGFnZSl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpO3JldHVybiBiLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkiKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXM7dGhpcy5lbGVtZW50LHRoaXMuaXNNdWx0aXBsZSwoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmQuX2J1aWxkTGlzdCgpLGM9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxkLnNldEJ1dHRvblRleHQoKSxkLnNldEJ1dHRvbkNvdW50KCksZC5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsYyk+LTEpe3ZhciBlPWEodGhpcyk7ZS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksZC5pc011bHRpcGxlP2UuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOmUuaXMoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIik/ZS5uZXh0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmUuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfX0pfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXt2YXIgYT10aGlzOyJwYWdlIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX19LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljaygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe3ZhciBiPWMubGlzdC5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIGEiKTswPT09Yi5sZW5ndGgmJihiPWMubGlzdC5maW5kKCJsaS51aS1idG46bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkgYSIpKSxiLmZpcnN0KCkuZm9jdXMoKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSl9dmFyIGM9dGhpcyxlPWEubW9iaWxlLndpbmRvdyxmPWMubGlzdC5wYXJlbnQoKSxnPWYub3V0ZXJIZWlnaHQoKSxoPShmLm91dGVyV2lkdGgoKSxhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGUuc2Nyb2xsVG9wKCkpLGk9Yy5idXR0b24ub2Zmc2V0KCkudG9wLGo9ZS5oZWlnaHQoKTtlLndpZHRoKCksZz5qLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYy5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYy5tZW51UGFnZUNvbnRlbnQ9cy5maW5kKCIudWktY29udGVudCIpLGMubWVudVBhZ2VDbG9zZT1zLmZpbmQoIi51aS1oZWFkZXIgYSIpLGMudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09aCYmaT5qJiZjLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixpKX0pLGMubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtiKCl9KS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2MuY2xvc2UoKX0pLGMubWVudVR5cGU9InBhZ2UiLGMubWVudVBhZ2VDb250ZW50LmFwcGVuZChjLmxpc3QpLGMubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYy5sYWJlbC50ZXh0KCkpKTooYy5tZW51VHlwZT0ib3ZlcmxheSIsYy5saXN0Ym94Lm9uZSgicG9wdXBhZnRlcm9wZW4iLGIpKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLnBsYWNlaG9sZGVyLGY9ITAsZz1iLmlzTXVsdGlwbGU/ImNoZWNrYm94LW9mZiI6ImZhbHNlIjtiLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95Iik7Zm9yKHZhciBoLGk9Yi5zZWxlY3QuZmluZCgib3B0aW9uIiksaj1pLmxlbmd0aCxrPXRoaXMuc2VsZWN0WzBdLGw9ImRhdGEtIithLm1vYmlsZS5ucyxtPWwrIm9wdGlvbi1pbmRleCIsbj1sKyJpY29uIixvPWwrInJvbGUiLHA9bCsicGxhY2Vob2xkZXIiLHE9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj0hMSxzPTA7aj5zO3MrKyxyPSExKXt2YXIgdD1pW3NdLHU9YSh0KSx2PXQucGFyZW50Tm9kZSx3PXUudGV4dCgpLHg9Yy5jcmVhdGVFbGVtZW50KCJhIikseT1bXTtpZih4LnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSx4LmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUodykpLHYhPT1rJiYib3B0Z3JvdXAiPT09di5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgej12LmdldEF0dHJpYnV0ZSgibGFiZWwiKTtpZih6IT09aCl7dmFyIEE9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO0Euc2V0QXR0cmlidXRlKG8sImxpc3QtZGl2aWRlciIpLEEuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksQS5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxBLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoeikpLHEuYXBwZW5kQ2hpbGQoQSksaD16fX0hZnx8dC5nZXRBdHRyaWJ1dGUoInZhbHVlIikmJjAhPT13Lmxlbmd0aCYmIXUuanFtRGF0YSgicGxhY2Vob2xkZXIiKXx8KGY9ITEscj0hMCxudWxsPT09dC5nZXRBdHRyaWJ1dGUocCkmJih0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHI9ITApLHQuc2V0QXR0cmlidXRlKHAsITApLGQuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZ5LnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSxlIT09dyYmKGU9Yi5wbGFjZWhvbGRlcj13KSk7dmFyIEI9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO3QuZGlzYWJsZWQmJih5LnB1c2goInVpLWRpc2FibGVkIiksQi5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSksQi5zZXRBdHRyaWJ1dGUobSxzKSxCLnNldEF0dHJpYnV0ZShuLGcpLHImJkIuc2V0QXR0cmlidXRlKHAsITApLEIuY2xhc3NOYW1lPXkuam9pbigiICIpLEIuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIikseC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxCLmFwcGVuZENoaWxkKHgpLHEuYXBwZW5kQ2hpbGQoQil9Yi5saXN0WzBdLmFwcGVuZENoaWxkKHEpLHRoaXMuaXNNdWx0aXBsZXx8ZS5sZW5ndGg/dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpOnRoaXMuaGVhZGVyLmhpZGUoKSxiLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2xvc2UoKSx0aGlzLl9vcmlnVGFiSW5kZXghPT1iJiYodGhpcy5fb3JpZ1RhYkluZGV4IT09ITE/dGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLHRoaXMuX29yaWdUYWJJbmRleCk6dGhpcy5zZWxlY3QucmVtb3ZlQXR0cigidGFiaW5kZXgiKSksdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyJiZ0aGlzLl9zZWxlY3RPcHRpb25zKCkucmVtb3ZlQXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJwbGFjZWhvbGRlciIpLHRoaXMubGlzdGJveC5yZW1vdmUoKSx0aGlzLm1lbnVQYWdlLnJlbW92ZSgpLGguYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfTthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5kYXRhKCJtb2JpbGUtc2VsZWN0bWVudSIpO2Mub3B0aW9ucy5uYXRpdmVNZW51fHwwIT09Yy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGh8fGQoYyl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHtvcHRpb25zOntzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGQ9e2lubmVyOmEoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksbGVnZW5kOmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+Iil9LGU9Yy5jaGlsZHJlbigibGVnZW5kIiksZj10aGlzO2Mud3JhcElubmVyKGQuaW5uZXIpLGUubGVuZ3RoJiZkLmxlZ2VuZC5hcHBlbmQoZSkuaW5zZXJ0QmVmb3JlKGMuY2hpbGRyZW4oMCkpLGMuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIiksYS5leHRlbmQodGhpcyx7X2luaXRpYWxSZWZyZXNoOiEwfSksYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhLGMpe2Yub3B0aW9uc1thXT1iLGYuX3NldE9wdGlvbihhLGMsITApfSl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT0iX3NldCIrYy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStjLnNsaWNlKDEpO3RoaXNbZV0hPT1iJiZ0aGlzW2VdKGQpLHRoaXMuX3N1cGVyKGMsZCksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKStjLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGQpfSxfc2V0VHlwZTpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIithKSx0aGlzLnJlZnJlc2goKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldFNoYWRvdzpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGM9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmdGhpcy5lbGVtZW50LmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGIsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXMoYixjKTpiLGMpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKSxhKGZ1bmN0aW9uKCl7YS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNvbnRyb2xncm91cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0pfShhKSxmdW5jdGlvbihhKXthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5maWx0ZXIoIjpqcW1EYXRhKHJlbD0ncG9wdXAnKVtocmVmXVtocmVmIT0nJ10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPWEodGhpcykuYXR0cigiaHJlZiIpLGU9ZC5zdWJzdHJpbmcoMSk7Yi5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxiLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixlKSxiLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITEpLGEoYykub24oInBvcHVwYWZ0ZXJvcGVuIixkLGZ1bmN0aW9uKCl7Yi5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKX0pLm9uKCJwb3B1cGFmdGVyY2xvc2UiLGQsZnVuY3Rpb24oKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITEpfSl9KS5lbmQoKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuZml4ZWR0b29sYmFyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3Zpc2libGVPblBhZ2VTaG93OiEwLGRpc2FibGVQYWdlWm9vbTohMCx0cmFuc2l0aW9uOiJzbGlkZSIsZnVsbHNjcmVlbjohMSx0YXBUb2dnbGU6ITAsdGFwVG9nZ2xlQmxhY2tsaXN0OiJhLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlbiIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3JldHVybiFhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbn0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5vcHRpb25zLGQ9Yi5lbGVtZW50LGU9ZC5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixmPWQuY2xvc2VzdCgiLnVpLXBhZ2UiKTtyZXR1cm4gYy5zdXBwb3J0QmxhY2tsaXN0KCk/KGIuZGVzdHJveSgpLHZvaWQgMCk6KGQuYWRkQ2xhc3MoInVpLSIrZSsiLWZpeGVkIiksYy5mdWxsc2NyZWVuPyhkLmFkZENsYXNzKCJ1aS0iK2UrIi1mdWxsc2NyZWVuIiksZi5hZGRDbGFzcygidWktcGFnZS0iK2UrIi1mdWxsc2NyZWVuIikpOmYuYWRkQ2xhc3MoInVpLXBhZ2UtIitlKyItZml4ZWQiKSxhLmV4dGVuZCh0aGlzLHtfdGhpc1BhZ2U6bnVsbH0pLGIuX2FkZFRyYW5zaXRpb25DbGFzcygpLGIuX2JpbmRQYWdlRXZlbnRzKCksYi5fYmluZFRvZ2dsZUhhbmRsZXJzKCksdm9pZCAwKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJiJub25lIiE9PWEmJigic2xpZGUiPT09YSYmKGE9dGhpcy5lbGVtZW50LmlzKCIudWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl90aGlzUGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSx0aGlzLl9vbih0aGlzLl90aGlzUGFnZSx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5fdGhpc1BhZ2UpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMuX3RoaXNQYWdlKSx0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29uKGEubW9iaWxlLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJ1cGRhdGVQYWdlUGFkZGluZyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5vcHRpb25zO2lmKGQuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksZC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKGEubW9iaWxlLndpbmRvdywidGhyb3R0bGVkcmVzaXplIiksZC50cmFja1BlcnNpc3RlbnRUb29sYmFycyl7dmFyIGU9YSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGY9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGc9ZS5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitlLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLGg9Zi5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitmLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpOyhnLmxlbmd0aHx8aC5sZW5ndGgpJiYoZy5hZGQoaCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksYy5uZXh0UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2gucHJlcGVuZFRvKHRoaXMpLGcuYXBwZW5kVG8odGhpcyl9KSl9fSxfdmlzaWJsZTohMCx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmlzKCIudWktaGVhZGVyIiksZj1wYXJzZUZsb2F0KGQuY3NzKGU/InRvcCI6ImJvdHRvbSIpKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9YyYmYy50eXBlPT09YiYmY3x8dGhpcy5fdGhpc1BhZ2V8fGQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhKGMpLmNzcygicGFkZGluZy0iKyhlPyJ0b3AiOiJib3R0b20iKSxkLm91dGVySGVpZ2h0KCkrZikpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihiKXt2YXIgYz1hLm1vYmlsZS53aW5kb3csZD10aGlzLmVsZW1lbnQsZT1jLnNjcm9sbFRvcCgpLGY9ZC5oZWlnaHQoKSxnPWQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5oZWlnaHQoKSxoPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGk9ZC5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIjtyZXR1cm4hYiYmKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYibm9uZSIhPT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmKCJoZWFkZXIiPT09aSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZlPmZ8fCJmb290ZXIiPT09aSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZnLWY+ZStoKXx8dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pfSxzaG93OmZ1bmN0aW9uKGEpe3ZhciBiPSJ1aS1maXhlZC1oaWRkZW4iLGM9dGhpcy5lbGVtZW50O3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5yZW1vdmVDbGFzcygib3V0ICIrYikuYWRkQ2xhc3MoImluIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJpbiIpfSk6Yy5yZW1vdmVDbGFzcyhiKSx0aGlzLl92aXNpYmxlPSEwfSxoaWRlOmZ1bmN0aW9uKGEpe3ZhciBiPSJ1aS1maXhlZC1oaWRkZW4iLGM9dGhpcy5lbGVtZW50LGQ9Im91dCIrKCJzbGlkZSI9PT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbj8iIHJldmVyc2UiOiIiKTt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MuYWRkQ2xhc3MoZCkucmVtb3ZlQ2xhc3MoImluIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpfSk6Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKSx0aGlzLl92aXNpYmxlPSExfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX3Zpc2libGU/ImhpZGUiOiJzaG93Il0oKX0sX2JpbmRUb2dnbGVIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLGU9ZC5vcHRpb25zLGY9ZC5lbGVtZW50LGc9ITA7Zi5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7ZS50YXBUb2dnbGUmJiFhKGIudGFyZ2V0KS5jbG9zZXN0KGUudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmQudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IixmdW5jdGlvbihmKXtzY3JlZW4ud2lkdGg8MTAyNSYmYShmLnRhcmdldCkuaXMoZS5oaWRlRHVyaW5nRm9jdXMpJiYhYShmLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmKCJmb2N1c291dCIhPT1mLnR5cGV8fGc/ImZvY3VzaW4iPT09Zi50eXBlJiZnJiYoY2xlYXJUaW1lb3V0KGIpLGc9ITEsYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5oaWRlKCl9LDApKTooZz0hMCxjbGVhclRpbWVvdXQoYyksYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zaG93KCl9LDApKSl9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmlzKCIudWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLCEwKSxhLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuZml4ZWR0b29sYmFyIixhLm1vYmlsZS5maXhlZHRvb2xiYXIse19jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX3dvcmthcm91bmRzKCl9LF93b3JrYXJvdW5kczpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sYz1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZigiaVBob25lIik+LTF8fGIuaW5kZXhPZigiaVBhZCIpPi0xfHxiLmluZGV4T2YoImlQb2QiKT4tMSllPSJpb3MiO2Vsc2V7aWYoIShhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSkpcmV0dXJuO2U9ImFuZHJvaWQifWlmKCJpb3MiPT09ZSlmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO2Vsc2V7aWYoISgiYW5kcm9pZCI9PT1lJiZkJiY1MzQ+ZCkpcmV0dXJuO2YuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKX19LF92aWV3cG9ydE9mZnNldDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuaXMoIi51aS1oZWFkZXIiKSxkPU1hdGguYWJzKGIub2Zmc2V0KCkudG9wLWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSk7CnJldHVybiBjfHwoZD1NYXRoLnJvdW5kKGQtYS5tb2JpbGUud2luZG93LmhlaWdodCgpK2Iub3V0ZXJIZWlnaHQoKSktNjApLGR9LF9iaW5kU2Nyb2xsV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fb24oYS5tb2JpbGUud2luZG93LHtzY3JvbGxzdG9wOmZ1bmN0aW9uKCl7dmFyIGE9Yi5fdmlld3BvcnRPZmZzZXQoKTthPjImJmIuX3Zpc2libGUmJmIuX3RyaWdnZXJSZWRyYXcoKX19KX0sX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4ZWQiKX0sX3RyaWdnZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUZsb2F0KGEoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iKSk7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisxKyJweCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIixiKyJweCIpfSwwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeCIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFuZWwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlUGFuZWw6InVpLXBhZ2UtcGFuZWwiLHBhZ2VQYW5lbE9wZW46InVpLXBhZ2UtcGFuZWwtb3BlbiIsY29udGVudFdyYXA6InVpLXBhbmVsLWNvbnRlbnQtd3JhcCIsY29udGVudFdyYXBPcGVuOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAtb3BlbiIsY29udGVudFdyYXBDbG9zZWQ6InVpLXBhbmVsLWNvbnRlbnQtd3JhcC1jbG9zZWQiLGNvbnRlbnRGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhciIsY29udGVudEZpeGVkVG9vbGJhck9wZW46InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhci1vcGVuIixjb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXItY2xvc2VkIixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZToiYyIscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdwYW5lbCcpIixzd2lwZUNsb3NlOiEwLHBvc2l0aW9uRml4ZWQ6ITF9LF9wYW5lbElEOm51bGwsX2Nsb3NlTGluazpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3BhbmVsSW5uZXI6bnVsbCxfd3JhcHBlcjpudWxsLF9maXhlZFRvb2xiYXI6bnVsbCxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuZWxlbWVudCxkPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZT1mdW5jdGlvbigpe3ZhciBiPWEuZGF0YShkWzBdLCJtb2JpbGVQYWdlIikub3B0aW9ucy50aGVtZSxjPSJ1aS1ib2R5LSIrYjtyZXR1cm4gY30sZj1mdW5jdGlvbigpe3ZhciBhPWMuZmluZCgiLiIrYi5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcik7cmV0dXJuIDA9PT1hLmxlbmd0aCYmKGE9Yy5jaGlsZHJlbigpLndyYXBBbGwoJzxkaXYgY2xhc3M9IicrYi5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcisnIiAvPicpLnBhcmVudCgpKSxhfSxnPWZ1bmN0aW9uKCl7dmFyIGM9ZC5maW5kKCIuIitiLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcCk7cmV0dXJuIDA9PT1jLmxlbmd0aCYmKGM9ZC5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykpLCAudWktY29udGVudDpub3QoOmpxbURhdGEocm9sZT0ncG9wdXAnKSksIC51aS1mb290ZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSIpLndyYXBBbGwoJzxkaXYgY2xhc3M9IicrYi5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXArIiAiK2UoKSsnIiAvPicpLnBhcmVudCgpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYi5vcHRpb25zLmFuaW1hdGUmJmMuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGN9LGg9ZnVuY3Rpb24oKXt2YXIgYz1kLmZpbmQoIi4iK2Iub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpO3JldHVybiAwPT09Yy5sZW5ndGgmJihjPWQuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpLCAudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcyhiLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmIub3B0aW9ucy5hbmltYXRlJiZjLmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpKSxjfTthLmV4dGVuZCh0aGlzLHtfcGFuZWxJRDpjLmF0dHIoImlkIiksX2Nsb3NlTGluazpjLmZpbmQoIjpqcW1EYXRhKHJlbD0nY2xvc2UnKSIpLF9wYWdlOmMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksX3BhZ2VUaGVtZTplKCksX3BhbmVsSW5uZXI6ZigpLF93cmFwcGVyOmcoKSxfZml4ZWRUb29sYmFyOmgoKX0pLGIuX2FkZFBhbmVsQ2xhc3NlcygpLGIuX3dyYXBwZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLGIuX2ZpeGVkVG9vbGJhci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxiLl9wYWdlLmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLnBhZ2VQYW5lbCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZiLm9wdGlvbnMuYW5pbWF0ZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpLGIuX2JpbmRVcGRhdGVMYXlvdXQoKSxiLl9iaW5kQ2xvc2VFdmVudHMoKSxiLl9iaW5kTGlua0xpc3RlbmVycygpLGIuX2JpbmRQYWdlRXZlbnRzKCksYi5vcHRpb25zLmRpc21pc3NpYmxlJiZiLl9jcmVhdGVNb2RhbCgpLGIuX2JpbmRTd2lwZUV2ZW50cygpfSxfY3JlYXRlTW9kYWw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2IuX21vZGFsPWEoIjxkaXYgY2xhc3M9JyIrYi5vcHRpb25zLmNsYXNzZXMubW9kYWwrIicgZGF0YS1wYW5lbGlkPSciK2IuX3BhbmVsSUQrIic+PC9kaXY+Iikub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyh0aGlzLl9wYWdlKX0sX2dldFBvc0Rpc3BsYXlDbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhKyItcG9zaXRpb24tIit0aGlzLm9wdGlvbnMucG9zaXRpb24rIiAiK2ErIi1kaXNwbGF5LSIrdGhpcy5vcHRpb25zLmRpc3BsYXl9LF9nZXRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCsiICIrdGhpcy5fZ2V0UG9zRGlzcGxheUNsYXNzZXModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwpKyIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbENsb3NlZDtyZXR1cm4gdGhpcy5vcHRpb25zLnRoZW1lJiYoYSs9IiB1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmKGErPSIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKSxhfSxfYWRkUGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMuX2dldFBhbmVsQ2xhc3NlcygpKX0sX2JpbmRDbG9zZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5fY2xvc2VMaW5rLm9uKCJjbGljay5wYW5lbCIsZnVuY3Rpb24oYil7cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxhLmNsb3NlKCksITF9KSxhLmVsZW1lbnQub24oImNsaWNrLnBhbmVsIiwiYTpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSl9LF9wb3NpdGlvblBhbmVsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3BhbmVsSW5uZXIub3V0ZXJIZWlnaHQoKSxkPWM+YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7ZHx8IWIub3B0aW9ucy5wb3NpdGlvbkZpeGVkPyhkJiYoYi5fdW5maXhQYW5lbCgpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodChjKSksYi5fc2Nyb2xsSW50b1ZpZXcoYykpOmIuX2ZpeFBhbmVsKCl9LF9zY3JvbGxJbnRvVmlldzpmdW5jdGlvbihjKXtjPGEoYikuc2Nyb2xsVG9wKCkmJmIuc2Nyb2xsVG8oMCwwKX0sX2JpbmRGaXhMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuX29uKGEoYikse3Rocm90dGxlZHJlc2l6ZToiX3Bvc2l0aW9uUGFuZWwifSl9LF91bmJpbmRGaXhMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuX29mZihhKGIpLCJ0aHJvdHRsZWRyZXNpemUiKX0sX3VuZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2ZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9iaW5kVXBkYXRlTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmVsZW1lbnQub24oInVwZGF0ZWxheW91dCIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLl9wb3NpdGlvblBhbmVsKCl9KX0sX2JpbmRMaW5rTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztiLl9wYWdlLm9uKCJjbGljay5wYW5lbCIsImEiLGZ1bmN0aW9uKGMpe2lmKHRoaXMuaHJlZi5zcGxpdCgiIyIpWzFdPT09Yi5fcGFuZWxJRCYmYi5fcGFuZWxJRCE9PWQpe2MucHJldmVudERlZmF1bHQoKTt2YXIgZSxmPWEodGhpcyk7cmV0dXJuIGYuaGFzQ2xhc3MoInVpLWxpbmsiKXx8KGU9Zi5wYXJlbnQoKS5wYXJlbnQoKSxlLmhhc0NsYXNzKCJ1aS1saSIpJiYoZj1lLnBhcmVudCgpKSxmLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSxiLnRvZ2dsZSgpLCExfX0pfSxfYmluZFN3aXBlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX21vZGFsP2EuZWxlbWVudC5hZGQoYS5fbW9kYWwpOmEuZWxlbWVudDthLm9wdGlvbnMuc3dpcGVDbG9zZSYmKCJsZWZ0Ij09PWEub3B0aW9ucy5wb3NpdGlvbj9iLm9uKCJzd2lwZWxlZnQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSk6Yi5vbigic3dpcGVyaWdodC5wYW5lbCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5fcGFnZS5vbigicGFuZWxiZWZvcmVvcGVuIixmdW5jdGlvbihiKXthLl9vcGVuJiZiLnRhcmdldCE9PWEuZWxlbWVudFswXSYmYS5jbG9zZSgpfSkub24oInBhZ2VoaWRlIixmdW5jdGlvbigpe2EuX29wZW4mJmEuY2xvc2UoITApfSkub24oImtleXVwLnBhbmVsIixmdW5jdGlvbihiKXsyNz09PWIua2V5Q29kZSYmYS5fb3BlbiYmYS5jbG9zZSgpfSl9LF9vcGVuOiExLF9jb250ZW50V3JhcE9wZW5DbGFzc2VzOm51bGwsX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzOm51bGwsX21vZGFsT3BlbkNsYXNzZXM6bnVsbCxvcGVuOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9Yy5vcHRpb25zLGU9ZnVuY3Rpb24oKXtjLl9wYWdlLm9mZigicGFuZWxjbG9zZSIpLGMuX3BhZ2UuanFtRGF0YSgicGFuZWwiLCJvcGVuIiksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZWxlbWVudC5hZGQoYy5fd3JhcHBlcikub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5vcHRpb25zLnRoZW1lJiYib3ZlcmxheSIhPT1jLm9wdGlvbnMuZGlzcGxheSYmYy5fcGFnZS5yZW1vdmVDbGFzcyhjLl9wYWdlVGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5vcHRpb25zLnRoZW1lKSxjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsQ2xvc2VkKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxPcGVuKSxjLl9wb3NpdGlvblBhbmVsKCksYy5vcHRpb25zLnRoZW1lJiYib3ZlcmxheSIhPT1jLm9wdGlvbnMuZGlzcGxheSYmYy5fd3JhcHBlci5jc3MoIm1pbi1oZWlnaHQiLGMuX3BhZ2UuY3NzKCJtaW4taGVpZ2h0IikpLGMuX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLmNvbnRlbnRXcmFwKSxjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5jb250ZW50V3JhcENsb3NlZCkuYWRkQ2xhc3MoYy5fY29udGVudFdyYXBPcGVuQ2xhc3NlcysiICIrZC5jbGFzc2VzLmNvbnRlbnRXcmFwT3BlbiksYy5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpLGMuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhckNsb3NlZCkuYWRkQ2xhc3MoYy5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXMrIiAiK2QuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyT3BlbiksYy5fbW9kYWxPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMubW9kYWwpKyIgIitkLmNsYXNzZXMubW9kYWxPcGVuLGMuX21vZGFsJiZjLl9tb2RhbC5hZGRDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2MuZWxlbWVudC5hZGQoYy5fd3JhcHBlcikub2ZmKGMuX3RyYW5zaXRpb25FbmRFdmVudHMsZiksYy5fcGFnZS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZVBhbmVsT3BlbiksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcigib3BlbiIpfTt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoPDAmJihiPSEwKSxjLl90cmlnZ2VyKCJiZWZvcmVvcGVuIiksIm9wZW4iPT09Yy5fcGFnZS5qcW1EYXRhKCJwYW5lbCIpP2MuX3BhZ2Uub24oInBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7ZSgpfSk6ZSgpLGMuX29wZW49ITB9fSxjbG9zZTpmdW5jdGlvbihiKXtpZih0aGlzLl9vcGVuKXt2YXIgYz10aGlzLm9wdGlvbnMsZD10aGlzLGU9ZnVuY3Rpb24oKXshYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZjLmFuaW1hdGU/ZC5lbGVtZW50LmFkZChkLl93cmFwcGVyKS5vbihkLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpOnNldFRpbWVvdXQoZiwwKSxkLl9wYWdlLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlUGFuZWxPcGVuKSxkLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhbmVsT3BlbiksZC5fd3JhcHBlci5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuY29udGVudFdyYXBPcGVuKSxkLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSxkLl9tb2RhbCYmZC5fbW9kYWwucmVtb3ZlQ2xhc3MoZC5fbW9kYWxPcGVuQ2xhc3Nlcyl9LGY9ZnVuY3Rpb24oKXtkLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWQub3B0aW9ucy5kaXNwbGF5JiYoZC5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2Qub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoZC5fcGFnZVRoZW1lKSxkLl93cmFwcGVyLmNzcygibWluLWhlaWdodCIsIiIpKSxkLmVsZW1lbnQuYWRkKGQuX3dyYXBwZXIpLm9mZihkLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGQuZWxlbWVudC5hZGRDbGFzcyhjLmNsYXNzZXMucGFuZWxDbG9zZWQpLGQuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5fY29udGVudFdyYXBPcGVuQ2xhc3NlcykuYWRkQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKSxkLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoZC5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXMpLmFkZENsYXNzKGMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxkLl9maXhQYW5lbCgpLGQuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksZC5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLGQuX3RyaWdnZXIoImNsb3NlIil9O3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg8MCYmKGI9ITApLGQuX3RyaWdnZXIoImJlZm9yZWNsb3NlIiksZSgpLGQuX29wZW49ITF9fSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX29wZW4/ImNsb3NlIjoib3BlbiJdKCl9LF90cmFuc2l0aW9uRW5kRXZlbnRzOiJ3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIHRyYW5zaXRpb25lbmQgbXNUcmFuc2l0aW9uRW5kIixfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5jbGFzc2VzLGM9dGhpcy5vcHRpb25zLnRoZW1lLGQ9dGhpcy5lbGVtZW50LnNpYmxpbmdzKCIuIitiLnBhbmVsKS5sZW5ndGg7ZD90aGlzLl9vcGVuJiYodGhpcy5fd3JhcHBlci5yZW1vdmVDbGFzcyhiLmNvbnRlbnRXcmFwT3BlbiksdGhpcy5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKGIuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLHRoaXMuX3BhZ2UuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKGIucGFnZVBhbmVsT3BlbiksYyYmdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2MpLmFkZENsYXNzKHRoaXMuX3BhZ2VUaGVtZSkpOih0aGlzLl93cmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fcGFnZS5maW5kKCJhIikudW5iaW5kKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoYi5wYWdlUGFuZWwpLHRoaXMuX29wZW4mJih0aGlzLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyhiLnBhZ2VQYW5lbE9wZW4pLGMmJnRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitjKS5hZGRDbGFzcyh0aGlzLl9wYWdlVGhlbWUpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpKSksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYi5wYW5lbEFuaW1hdGVdLmpvaW4oIiAiKSkub2ZmKCJzd2lwZWxlZnQucGFuZWwgc3dpcGVyaWdodC5wYW5lbCIpLm9mZigicGFuZWxiZWZvcmVvcGVuIikub2ZmKCJwYW5lbGhpZGUiKS5vZmYoImtleXVwLnBhbmVsIikub2ZmKCJ1cGRhdGVsYXlvdXQiKSx0aGlzLl9jbG9zZUxpbmsub2ZmKCJjbGljay5wYW5lbCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKSx0aGlzLmVsZW1lbnQub2ZmKHRoaXMuX3RyYW5zaXRpb25FbmRFdmVudHMpLnJlbW92ZUNsYXNzKFtiLnBhbmVsVW5maXhlZCxiLnBhbmVsQ2xvc2VkLGIucGFuZWxPcGVuXS5qb2luKCIgIikpfX0pLGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnBhbmVsLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xhc3Nlczp7dGFibGU6InVpLXRhYmxlIn0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSd0YWJsZScpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5yZWZyZXNoKCEwKX0scmVmcmVzaDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGU9dGhpcy5lbGVtZW50LmZpbmQoInRoZWFkIHRyIik7YyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnRhYmxlKSxkLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQoInRyOmVxKDApIikuY2hpbGRyZW4oKSxkLmFsbEhlYWRlcnM9ZC5oZWFkZXJzLmFkZChlLmNoaWxkcmVuKCkpLGUuZWFjaChmdW5jdGlvbigpe3ZhciBmPTA7YSh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgZz1wYXJzZUludChhKHRoaXMpLmF0dHIoImNvbHNwYW4iKSwxMCksaD0iOm50aC1jaGlsZCgiKyhmKzEpKyIpIjtpZihhKHRoaXMpLmpxbURhdGEoImNvbHN0YXJ0IixmKzEpLGcpZm9yKHZhciBpPTA7Zy0xPmk7aSsrKWYrKyxoKz0iLCA6bnRoLWNoaWxkKCIrKGYrMSkrIikiO2M9PT1iJiZhKHRoaXMpLmpxbURhdGEoImNlbGxzIiwiIiksYSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsZC5lbGVtZW50LmZpbmQoInRyIikubm90KGUuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihoKSksZisrfSl9KSxjPT09YiYmdGhpcy5lbGVtZW50LnRyaWdnZXIoInJlZnJlc2giKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMubW9kZT0iY29sdW1udG9nZ2xlIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UaGVtZT1udWxsLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtblBvcHVwVGhlbWU9bnVsbCxhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UZXh0PSJDb2x1bW5zLi4uIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzPWEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3BvcHVwOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtcG9wdXAiLGNvbHVtbkJ0bjoidWktdGFibGUtY29sdW1udG9nZ2xlLWJ0biIscHJpb3JpdHlQcmVmaXg6InVpLXRhYmxlLXByaW9yaXR5LSIsY29sdW1uVG9nZ2xlVGFibGU6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZSJ9KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiOmpxbURhdGEocm9sZT0ndGFibGUnKSIsInRhYmxlY3JlYXRlIHJlZnJlc2giLGZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnLGg9YSh0aGlzKSxpPWguZGF0YSgibW9iaWxlLXRhYmxlIiksaj1jLnR5cGUsaz1pLm9wdGlvbnMsbD1hLm1vYmlsZS5ucyxtPShoLmF0dHIoImlkIil8fGsuY2xhc3Nlcy5wb3B1cCkrIi1wb3B1cCI7ImNvbHVtbnRvZ2dsZSI9PT1rLm1vZGUmJigicmVmcmVzaCIhPT1qJiYoaS5lbGVtZW50LmFkZENsYXNzKGsuY2xhc3Nlcy5jb2x1bW5Ub2dnbGVUYWJsZSksZD1hKCI8YSBocmVmPScjIittKyInIGNsYXNzPSciK2suY2xhc3Nlcy5jb2x1bW5CdG4rIicgZGF0YS0iK2wrInJlbD0ncG9wdXAnIGRhdGEtIitsKyJtaW5pPSd0cnVlJz4iK2suY29sdW1uQnRuVGV4dCsiPC9hPiIpLGU9YSgiPGRpdiBkYXRhLSIrbCsicm9sZT0ncG9wdXAnIGRhdGEtIitsKyJyb2xlPSdmaWVsZGNvbnRhaW4nIGNsYXNzPSciK2suY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIittKyInPjwvZGl2PiIpLGY9YSgiPGZpZWxkc2V0IGRhdGEtIitsKyJyb2xlPSdjb250cm9sZ3JvdXAnPjwvZmllbGRzZXQ+IikpLGkuaGVhZGVycy5ub3QoInRkIikuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpLmpxbURhdGEoInByaW9yaXR5IiksZD1hKHRoaXMpLmFkZChhKHRoaXMpLmpxbURhdGEoImNlbGxzIikpO2MmJihkLmFkZENsYXNzKGsuY2xhc3Nlcy5wcmlvcml0eVByZWZpeCtjKSwicmVmcmVzaCIhPT1qP2EoIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz4iK2EodGhpcykudGV4dCgpKyI8L2xhYmVsPiIpLmFwcGVuZFRvKGYpLmNoaWxkcmVuKDApLmpxbURhdGEoImNlbGxzIixkKS5jaGVja2JveHJhZGlvKHt0aGVtZTprLmNvbHVtblBvcHVwVGhlbWV9KTphKCIjIittKyIgZmllbGRzZXQgZGl2OmVxKCIrYisiKSIpLmZpbmQoImlucHV0IikuanFtRGF0YSgiY2VsbHMiLGQpKX0pLCJyZWZyZXNoIiE9PWomJmYuYXBwZW5kVG8oZSksZz1mPT09Yj9hKCIjIittKyIgZmllbGRzZXQiKTpmLCJyZWZyZXNoIiE9PWomJihnLm9uKCJjaGFuZ2UiLCJpbnB1dCIsZnVuY3Rpb24oKXt0aGlzLmNoZWNrZWQ/YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLnJlbW92ZUNsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLXZpc2libGUiKTphKHRoaXMpLmpxbURhdGEoImNlbGxzIikucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiIpfSksZC5pbnNlcnRCZWZvcmUoaCkuYnV0dG9uTWFya3VwKHt0aGVtZTprLmNvbHVtbkJ0blRoZW1lfSksZS5pbnNlcnRCZWZvcmUoaCkucG9wdXAoKSksaS51cGRhdGU9ZnVuY3Rpb24oKXtnLmZpbmQoImlucHV0IikuZWFjaChmdW5jdGlvbigpe3RoaXMuY2hlY2tlZD8odGhpcy5jaGVja2VkPSJ0YWJsZS1jZWxsIj09PWEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5lcSgwKS5jc3MoImRpc3BsYXkiKSwicmVmcmVzaCI9PT1qJiZhKHRoaXMpLmpxbURhdGEoImNlbGxzIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpKTphKHRoaXMpLmpxbURhdGEoImNlbGxzIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIiksYSh0aGlzKS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9KX0sYS5tb2JpbGUud2luZG93Lm9uKCJ0aHJvdHRsZWRyZXNpemUiLGkudXBkYXRlKSxpLnVwZGF0ZSgpKX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5tb2RlPSJyZWZsb3ciLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXM9YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cmVmbG93VGFibGU6InVpLXRhYmxlLXJlZmxvdyIsY2VsbExhYmVsczoidWktdGFibGUtY2VsbC1sYWJlbCJ9KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiOmpxbURhdGEocm9sZT0ndGFibGUnKSIsInRhYmxlY3JlYXRlIHJlZnJlc2giLGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcyksZD1iLnR5cGUsZT1jLmRhdGEoIm1vYmlsZS10YWJsZSIpLGY9ZS5vcHRpb25zO2lmKCJyZWZsb3ciPT09Zi5tb2RlKXsicmVmcmVzaCIhPT1kJiZlLmVsZW1lbnQuYWRkQ2xhc3MoZi5jbGFzc2VzLnJlZmxvd1RhYmxlKTt2YXIgZz1hKGUuYWxsSGVhZGVycy5nZXQoKS5yZXZlcnNlKCkpO2cuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxjPWEodGhpcykuanFtRGF0YSgiY29sc3RhcnQiKSxkPWIubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGU9YSh0aGlzKS50ZXh0KCk7aWYoIiIhPT1lKWlmKGQpe3ZhciBnPXBhcnNlSW50KGEodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxoPSIiO2cmJihoPSJ0ZDpudGgtY2hpbGQoIitnKyJuICsgIitjKyIpIiksYi5maWx0ZXIoaCkucHJlcGVuZCgiPGIgY2xhc3M9JyIrZi5jbGFzc2VzLmNlbGxMYWJlbHMrZCsiJz4iK2UrIjwvYj4iKX1lbHNlIGIucHJlcGVuZCgiPGIgY2xhc3M9JyIrZi5jbGFzc2VzLmNlbGxMYWJlbHMrIic+IitlKyI8L2I+Iil9KX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YS5vcmlnaW5hbEV2ZW50LGk9ZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LGY9TWF0aC5hYnMoaS54KSxnPU1hdGguYWJzKGkueSksaD1NYXRoLmFicyhpLnopLCFiLm9yaWVudGF0aW9uJiYoZj43fHwoaD42JiY4Pmd8fDg+aCYmZz42KSYmZj41KT9qLmVuYWJsZWQmJmouZGlzYWJsZSgpOmouZW5hYmxlZHx8ai5lbmFibGUoKX1hLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITA7dmFyIGQ9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZighKC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGQpJiZkLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEpKXJldHVybiBhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEsdm9pZCAwO3ZhciBlLGYsZyxoLGksaj1hLm1vYmlsZS56b29tO2EubW9iaWxlLmRvY3VtZW50Lm9uKCJtb2JpbGVpbml0IixmdW5jdGlvbigpe2EubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCYmYS5tb2JpbGUud2luZG93LmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixqLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixjKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZCgpe2UucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKX12YXIgZT1hKCJodG1sIiksZj0oYSgiaGVhZCIpLGEubW9iaWxlLndpbmRvdyk7YShiLmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0IiksYS5tb2JpbGUuZ3JhZGVBKCkmJihhLm1vYmlsZS5hamF4QmxhY2tsaXN0JiYoYS5tb2JpbGUuYWpheEVuYWJsZWQ9ITEpLGUuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIiksc2V0VGltZW91dChkLDVlMyksYS5leHRlbmQoYS5tb2JpbGUse2luaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUucGF0aCxlPWEoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKSxnPWIuc3RyaXBIYXNoKGIuc3RyaXBRdWVyeVBhcmFtcyhiLnBhcnNlTG9jYXRpb24oKS5oYXNoKSksaD1jLmdldEVsZW1lbnRCeUlkKGcpO2UubGVuZ3RofHwoZT1hKCJib2R5Iikud3JhcElubmVyKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+PC9kaXY+IikuY2hpbGRyZW4oMCkpLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSksYS5tb2JpbGUuZmlyc3RQYWdlPWUuZmlyc3QoKSxhLm1vYmlsZS5wYWdlQ29udGFpbmVyPWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0IiksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZi50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCksZCgpLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYShoKS5pcygnOmpxbURhdGEocm9sZT0icGFnZSIpJyl8fGEubW9iaWxlLnBhdGguaXNQYXRoKGcpfHxnPT09YS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGEubW9iaWxlLm5hdmlnYXRlKGEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOmYudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9Zy5yZXBsYWNlKCIjIiwiIikpLGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaChiLnBhcnNlTG9jYXRpb24oKS5ocmVmKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGEoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsMSksYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9YS5zdXBwb3J0LnNjcm9sbFRvcCYmMSE9PWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKT8xOjAsYS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZhLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpLGYubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpLGEuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSkpfShhLHRoaXMpfSk7Ci8qCi8vQCBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5tb2JpbGUtMS4zLjIubWluLm1hcAoqLw==",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgMS4zLjIgfCBHaXQgSEVBRCBoYXNoOiA1MjhjZjBlIDw+IDIwMTMtMDctMTlUMjI6MTc6NTdaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYixjKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKGQpe3JldHVybiBjKGQsYSxiKSxkLm1vYmlsZX0pOmMoYS5qUXVlcnksYSxiKX0odGhpcyxkb2N1bWVudCxmdW5jdGlvbihhLGIsYyxkKXshZnVuY3Rpb24oYSl7YS5tb2JpbGU9e319KGEpLGZ1bmN0aW9uKGEsYixkKXt2YXIgZT17fTthLm1vYmlsZT1hLmV4dGVuZChhLm1vYmlsZSx7dmVyc2lvbjoiMS4zLjIiLG5zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MjUwLHRvdWNoT3ZlcmZsb3dFbmFibGVkOiExLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6ImUiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ITEsYXV0b0luaXRpYWxpemVQYWdlOiEwLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsaWdub3JlQ29udGVudEVuYWJsZWQ6ITEsb3JpZW50YXRpb25DaGFuZ2VFbmFibGVkOiEwLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LHdpbmRvdzphKGIpLGRvY3VtZW50OmEoYyksa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LGJlaGF2aW9yczp7fSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYyl7Im51bWJlciIhPT1hLnR5cGUoYykmJihjPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLGMpLGEubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmN9KX0sMjApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sbnNOb3JtYWxpemVEaWN0OmUsbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7cmV0dXJuIGI/ZVtiXXx8KGVbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpOnZvaWQgMH0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWFbMF0sZj0iIixnPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLztlJiYoYz1lLmNsYXNzTmFtZXx8IiIsIShjJiYoZD1nLmV4ZWMoYykpJiYoZj1kWzJdKSkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZnx8Ynx8ImEifSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpLCA6anFtRGF0YShyb2xlPSJkaWFsb2ciKScpLmRhdGEoIm1vYmlsZS1wYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO2Zvcih2YXIgZCxlLGYsZz1iLmxlbmd0aCxoPWEoKSxpPTA7Zz5pO2krKyl7Zm9yKGU9Yi5lcShpKSxmPSExLGQ9YltpXTtkOyl7dmFyIGo9ZC5nZXRBdHRyaWJ1dGU/ZC5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytjKToiIjtpZigiZmFsc2UiPT09ail7Zj0hMDticmVha31kPWQucGFyZW50Tm9kZX1mfHwoaD1oLmFkZChlKSl9cmV0dXJuIGh9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBiLmlubmVySGVpZ2h0fHxhLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9fSxhLm1vYmlsZSksYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsYyl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiJiYoYiYmKGI9YS5tb2JpbGUubnNOb3JtYWxpemUoYikpLGU9YXJndW1lbnRzLmxlbmd0aDwyfHxjPT09ZD90aGlzLmRhdGEoYik6dGhpcy5kYXRhKGIsYykpLGV9LGEuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBjJiYoZT1hLmRhdGEoYixjP2EubW9iaWxlLm5zTm9ybWFsaXplKGMpOmMsZCkpLGV9LGEuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX0sYS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX0sYS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGEucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7dmFyIGM9YShiKTsoYy5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCksYy5yZW1vdmUoKX0sYS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyhhKHRoaXMpLGIpfSxhLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2EoYikuanFtRGF0YSgiZGVwZW5kZW50cyIsYS5tZXJnZShkLGMpKX0sYS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKS50ZXh0KGEodGhpcykudGV4dCgpKS5odG1sKCl9LGEuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9LGEuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTt2YXIgZj1hLmZpbmQsZz0vOmpxbURhdGFcKChbXildKilcKS9nO2EuZmluZD1mdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gYj1iLnJlcGxhY2UoZywiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIiksZi5jYWxsKHRoaXMsYixjLGQsZSl9LGEuZXh0ZW5kKGEuZmluZCxmKSxhLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsYyl9LGEuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGMsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPUFycmF5LnByb3RvdHlwZS5zbGljZSxlPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YltkXSk7ZCsrKXRyeXthKGMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChmKXt9ZShiKX0sYS53aWRnZXQ9ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGk9Yi5zcGxpdCgiLiIpWzBdO2I9Yi5zcGxpdCgiLiIpWzFdLGU9aSsiLSIrYixkfHwoZD1jLGM9YS5XaWRnZXQpLGEuZXhwclsiOiJdW2UudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYixlKX0sYVtpXT1hW2ldfHx7fSxmPWFbaV1bYl0sZz1hW2ldW2JdPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD8oYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYiksdm9pZCAwKTpuZXcgZyhhLGIpfSxhLmV4dGVuZChnLGYse3ZlcnNpb246ZC52ZXJzaW9uLF9wcm90bzphLmV4dGVuZCh7fSxkKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBjLGgub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxhLmVhY2goZCxmdW5jdGlvbihiLGUpe2EuaXNGdW5jdGlvbihlKSYmKGRbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fc3VwZXIsZj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZCxiPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWMsdGhpcy5fc3VwZXJBcHBseT1mLGJ9fSgpKX0pLGcucHJvdG90eXBlPWEud2lkZ2V0LmV4dGVuZChoLHt3aWRnZXRFdmVudFByZWZpeDpmP2gud2lkZ2V0RXZlbnRQcmVmaXg6Yn0sZCx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aSx3aWRnZXROYW1lOmIsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyl9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXtmb3IodmFyIGUsZixnPWQuY2FsbChhcmd1bWVudHMsMSksaD0wLGk9Zy5sZW5ndGg7aT5oO2grKylmb3IoZSBpbiBnW2hdKWY9Z1toXVtlXSxnW2hdLmhhc093blByb3BlcnR5KGUpJiZmIT09YiYmKGNbZV09YS5pc1BsYWluT2JqZWN0KGYpP2EuaXNQbGFpbk9iamVjdChjW2VdKT9hLndpZGdldC5leHRlbmQoe30sY1tlXSxmKTphLndpZGdldC5leHRlbmQoe30sZik6Zik7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9InN0cmluZyI9PXR5cGVvZiBnLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsaD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO3JldHVybiBlP2EuaXNGdW5jdGlvbihlW2ddKSYmIl8iIT09Zy5jaGFyQXQoMCk/KGQ9ZVtnXS5hcHBseShlLGkpLGQhPT1lJiZkIT09Yj8oaj1kJiZkLmpxdWVyeT9qLnB1c2hTdGFjayhkLmdldCgpKTpkLCExKTp2b2lkIDApOmEuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYysiIHdpZGdldCBpbnN0YW5jZSIpOmEuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitjKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEodGhpcyxmKTtiP2Iub3B0aW9uKGd8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGYsbmV3IGUoZyx0aGlzKSl9KSxqfX0sYS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGEuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxhLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGQpe2Q9YShkfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9YShkKSx0aGlzLnV1aWQ9YysrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpLHRoaXMuYmluZGluZ3M9YSgpLHRoaXMuaG92ZXJhYmxlPWEoKSx0aGlzLmZvY3VzYWJsZT1hKCksZCE9PXRoaXMmJihhLmRhdGEoZCx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGEpe2EudGFyZ2V0PT09ZCYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1hKGQuc3R5bGU/ZC5vd25lckRvY3VtZW50OmQuZG9jdW1lbnR8fGQpLHRoaXMud2luZG93PWEodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6YS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6YS5ub29wLF9jcmVhdGU6YS5ub29wLF9pbml0OmEubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXRGdWxsTmFtZSkucmVtb3ZlRGF0YShhLmNhbWVsQ2FzZSh0aGlzLndpZGdldEZ1bGxOYW1lKSksdGhpcy53aWRnZXQoKS51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCAiKyJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuYmluZGluZ3MudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxfZGVzdHJveTphLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnLGg9YztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoInN0cmluZyI9PXR5cGVvZiBjKWlmKGg9e30sZT1jLnNwbGl0KCIuIiksYz1lLnNoaWZ0KCksZS5sZW5ndGgpe2ZvcihmPWhbY109YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1tjXSksZz0wO2c8ZS5sZW5ndGgtMTtnKyspZltlW2ddXT1mW2VbZ11dfHx7fSxmPWZbZVtnXV07aWYoYz1lLnBvcCgpLGQ9PT1iKXJldHVybiBmW2NdPT09Yj9udWxsOmZbY107ZltjXT1kfWVsc2V7aWYoZD09PWIpcmV0dXJuIHRoaXMub3B0aW9uc1tjXT09PWI/bnVsbDp0aGlzLm9wdGlvbnNbY107aFtjXT1kfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGgpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiO2ZvcihiIGluIGEpdGhpcy5fc2V0T3B0aW9uKGIsYVtiXSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25zW2FdPWIsImRpc2FibGVkIj09PWEmJih0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIsISFiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixiKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LF9vbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzOyJib29sZWFuIiE9dHlwZW9mIGImJihkPWMsYz1iLGI9ITEpLGQ/KGM9ZT1hKGMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoYykpOihkPWMsYz10aGlzLmVsZW1lbnQsZT10aGlzLndpZGdldCgpKSxhLmVhY2goZCxmdW5jdGlvbihkLGcpe2Z1bmN0aW9uIGgoKXtyZXR1cm4gYnx8Zi5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFhKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIGc/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyk6dm9pZCAwfSJzdHJpbmciIT10eXBlb2YgZyYmKGguZ3VpZD1nLmd1aWQ9Zy5ndWlkfHxoLmd1aWR8fGEuZ3VpZCsrKTt2YXIgaT1kLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGo9aVsxXStmLmV2ZW50TmFtZXNwYWNlLGs9aVsyXTtrP2UuZGVsZWdhdGUoayxqLGgpOmMuYmluZChqLGgpfSl9LF9vZmY6ZnVuY3Rpb24oYSxiKXtiPShifHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGEudW5iaW5kKGIpLnVuZGVsZWdhdGUoYil9LF9kZWxheTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBhP2RbYV06YSkuYXBwbHkoZCxhcmd1bWVudHMpfXZhciBkPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoYyxifHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbihiKXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQoYiksdGhpcy5fb24oYix7bW91c2VlbnRlcjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChiKSx0aGlzLl9vbihiLHtmb2N1c2luOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9uc1tiXTtpZihkPWR8fHt9LGM9YS5FdmVudChjKSxjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpLGMudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWMub3JpZ2luYWxFdmVudClmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBlP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LCJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiZhLmVmZmVjdHMuZWZmZWN0W2hdP2RbYl0oZSk6aCE9PWImJmRbaF0/ZFtoXShlLmR1cmF0aW9uLGUuZWFzaW5nLGYpOmQucXVldWUoZnVuY3Rpb24oYyl7YSh0aGlzKVtiXSgpLGYmJmYuY2FsbChkWzBdKSxjKCl9KX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPXt9O3JldHVybiBhLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBlPWMuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtlIT09YiYmKGRbYV09ZSl9KSxkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIsYyl7dGhpcy5lbmhhbmNlKGEodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj1hKGIpO2Y9YS5tb2JpbGUuZW5oYW5jZWFibGUoZiksYyYmZi5sZW5ndGgmJihkPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShmKSxlPWQmJmQua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiLGY9Zi5ub3QoZSkpLGZbdGhpcy53aWRnZXROYW1lXSgpfSxyYWlzZTpmdW5jdGlvbihhKXt0aHJvdyJXaWRnZXQgWyIrdGhpcy53aWRnZXROYW1lKyJdOiAiK2F9fSl9KGEpLGZ1bmN0aW9uKGEpe2EuZXh0ZW5kKGEubW9iaWxlLHtsb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmQsbG9hZGluZ01lc3NhZ2VUaGVtZTpkLGxvYWRpbmdNZXNzYWdlOmQsc2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5sb2FkaW5nKCJzaG93IixiLGMsZCl9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRpbmcoImhpZGUiKX0sbG9hZGluZzpmdW5jdGlvbigpe3RoaXMubG9hZGVyV2lkZ2V0LmxvYWRlci5hcHBseSh0aGlzLmxvYWRlcldpZGdldCxhcmd1bWVudHMpfX0pO3ZhciBiPSJ1aS1sb2FkZXIiLGM9YSgiaHRtbCIpLGU9YS5tb2JpbGUud2luZG93O2Eud2lkZ2V0KCJtb2JpbGUubG9hZGVyIix7b3B0aW9uczp7dGhlbWU6ImEiLHRleHRWaXNpYmxlOiExLGh0bWw6IiIsdGV4dDoibG9hZGluZyJ9LGRlZmF1bHRIdG1sOiI8ZGl2IGNsYXNzPSciK2IrIic+IisiPHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nJz48L3NwYW4+IisiPGgxPjwvaDE+IisiPC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJmUuc2Nyb2xsVG9wKCkrZS5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfSxjaGVja0xvYWRlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGM9ZS5zY3JvbGxUb3AoKSxkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhiLnRvcDxjfHxiLnRvcC1jPmQpJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGUudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZixnLGgpe3ZhciBpLGosazt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGYpPyhrPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxmKSxmPWsudGhlbWV8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWUpOihrPXRoaXMub3B0aW9ucyxmPWZ8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWV8fGsudGhlbWUpLGo9Z3x8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2V8fGsudGV4dCxjLmFkZENsYXNzKCJ1aS1sb2FkaW5nIiksKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGsuaHRtbCkmJihpPWEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGUhPT1kP2EubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ay50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitmKyIgdWktbG9hZGVyLSIrKGl8fGd8fGYudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoay50ZXh0b25seXx8aD8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxrLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoay5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGopLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxlLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSksZS5iaW5kKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRlcldpZGdldD1hLm1vYmlsZS5sb2FkZXJXaWRnZXR8fGEoYS5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCkubG9hZGVyKCl9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT1hfHxsb2NhdGlvbi5ocmVmLCIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBmLGc9Imhhc2hjaGFuZ2UiLGg9YyxpPWEuZXZlbnQuc3BlY2lhbCxqPWguZG9jdW1lbnRNb2RlLGs9Im9uIitnIGluIGImJihqPT09ZHx8aj43KTthLmZuW2ddPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChnLGEpOnRoaXMudHJpZ2dlcihnKX0sYS5mbltnXS5kZWxheT01MCxpW2ddPWEuZXh0ZW5kKGlbZ10se3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6KGEoZi5zdGFydCksdm9pZCAwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTooYShmLnN0b3ApLHZvaWQgMCl9fSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZD1lKCksaD1uKGopO2QhPT1qPyhtKGo9ZCxoKSxhKGIpLnRyaWdnZXIoZykpOmghPT1qJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK2gpLGY9c2V0VGltZW91dChjLGEuZm5bZ10uZGVsYXkpfXZhciBmLGk9e30saj1lKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbT1sLG49bDtyZXR1cm4gaS5zdGFydD1mdW5jdGlvbigpe2Z8fGMoKX0saS5zdG9wPWZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9ZH0sYi5hdHRhY2hFdmVudCYmIWIuYWRkRXZlbnRMaXN0ZW5lciYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZDtpLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltnXS5zcmMsZD1kJiZkK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fG0oZSgpKSxjKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csaC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJihiLmRvY3VtZW50LnRpdGxlPWgudGl0bGUpfWNhdGNoKGEpe319KX0saS5zdG9wPWwsbj1mdW5jdGlvbigpe3JldHVybiBlKGIubG9jYXRpb24uaHJlZil9LG09ZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmRvY3VtZW50LGY9YS5mbltnXS5kb21haW47YyE9PWQmJihlLnRpdGxlPWgudGl0bGUsZS5vcGVuKCksZiYmZS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrZisnIjwvc2NyaXB0PicpLGUuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGl9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGM9KGErIiAiK24uam9pbihiKyIgIikrYikuc3BsaXQoIiAiKTtmb3IodmFyIGUgaW4gYylpZihtW2NbZV1dIT09ZClyZXR1cm4hMH1mdW5jdGlvbiBmKGEsYixkKXtmb3IodmFyIGUsZj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSl9LGg9ZnVuY3Rpb24oYSl7cmV0dXJuIiI9PT1hPyIiOiItIithLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Euc3Vic3RyKDEpKyItIn0saT1mdW5jdGlvbihjKXt2YXIgZD1oKGMpK2ErIjogIitiKyI7IixpPWcoYyksaj1pKygiIj09PWk/YTpnKGEpKTtmLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpLGYuc3R5bGVbal0mJihlPSEwKX0saj1kP2Q6bixrPTA7azxqLmxlbmd0aDtrKyspaShqW2tdKTtyZXR1cm4hIWV9ZnVuY3Rpb24gZygpe3ZhciBlPSJ0cmFuc2Zvcm0tM2QiLGY9YS5tb2JpbGUubWVkaWEoIigtIituLmpvaW4oIi0iK2UrIiksKC0iKSsiLSIrZSsiKSwoIitlKyIpIik7aWYoZilyZXR1cm4hIWY7dmFyIGc9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxoPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9O2wuYXBwZW5kKGcpO2Zvcih2YXIgaSBpbiBoKWcuc3R5bGVbaV0hPT1kJiYoZy5zdHlsZVtpXT0idHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApIixmPWIuZ2V0Q29tcHV0ZWRTdHlsZShnKS5nZXRQcm9wZXJ0eVZhbHVlKGhbaV0pKTtyZXR1cm4hIWYmJiJub25lIiE9PWZ9ZnVuY3Rpb24gaCgpe3ZhciBiLGMsZD1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGU9YSgiaGVhZCBiYXNlIiksZj1udWxsLGc9IiI7cmV0dXJuIGUubGVuZ3RoP2c9ZS5hdHRyKCJocmVmIik6ZT1mPWEoIjxiYXNlPiIse2hyZWY6ZH0pLmFwcGVuZFRvKCJoZWFkIiksYj1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhsKSxjPWJbMF0uaHJlZixlWzBdLmhyZWY9Z3x8bG9jYXRpb24ucGF0aG5hbWUsZiYmZi5yZW1vdmUoKSwwPT09Yy5pbmRleE9mKGQpfWZ1bmN0aW9uIGkoKXt2YXIgYSxkPWMuY3JlYXRlRWxlbWVudCgieCIpLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1iLmdldENvbXB1dGVkU3R5bGU7cmV0dXJuInBvaW50ZXJFdmVudHMiaW4gZC5zdHlsZT8oZC5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIixkLnN0eWxlLnBvaW50ZXJFdmVudHM9IngiLGUuYXBwZW5kQ2hpbGQoZCksYT1mJiYiYXV0byI9PT1mKGQsIiIpLnBvaW50ZXJFdmVudHMsZS5yZW1vdmVDaGlsZChkKSwhIWEpOiExfWZ1bmN0aW9uIGooKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3R9ZnVuY3Rpb24gaygpe3ZhciBhPWIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9bmF2aWdhdG9yLnBsYXRmb3JtLGU9Yy5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZj0hIWUmJmVbMV0sZz1jLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLyksaD0hIWcmJmdbMV0saT1jLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGo9ISFpJiZpWzFdO3JldHVybihkLmluZGV4T2YoImlQaG9uZSIpPi0xfHxkLmluZGV4T2YoImlQYWQiKT4tMXx8ZC5pbmRleE9mKCJpUG9kIik+LTEpJiZmJiY1MzQ+Znx8YS5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSl8fGkmJjc0NTg+anx8Yy5pbmRleE9mKCJBbmRyb2lkIik+LTEmJmYmJjUzMz5mfHxoJiY2Pmh8fCJwYWxtR2V0UmVzb3VyY2UiaW4gYiYmZiYmNTM0PmZ8fGMuaW5kZXhPZigiTWVlR28iKT4tMSYmYy5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMTohMH12YXIgbD1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxtPWxbMF0uc3R5bGUsbj1bIldlYmtpdCIsIk1veiIsIk8iXSxvPSJwYWxtR2V0UmVzb3VyY2UiaW4gYixwPWIub3BlcmEscT1iLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKSxyPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse2Nzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gYnx8ZigidHJhbnNpdGlvbiIsImhlaWdodCAxMDBtcyBsaW5lYXIiLFsiV2Via2l0IiwiTW96IiwiIl0pJiYhYS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmIXAscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5JiYhKGIubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94Iik+PTAmJmIudG9wIT09YikmJi0xPT09Yi5uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgvQ3JpT1MvKSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFlKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWUoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6ZygpLGJveFNoYWRvdzohIWUoImJveFNoYWRvdyIpJiYhcixmaXhlZFBvc2l0aW9uOmsoKSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiBifHwic2Nyb2xsVG9wImluIGMuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGxbMF0pJiYhbyYmIXEsZHluYW1pY0Jhc2VUYWc6aCgpLGNzc1BvaW50ZXJFdmVudHM6aSgpLGJvdW5kaW5nUmVjdDpqKCl9KSxsLnJlbW92ZSgpO3ZhciBzPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2EubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeXx8YS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT49NykmJihhLnN1cHBvcnQuYm91bmRpbmdSZWN0fHxudWxsIT09YS5mbi5qcXVlcnkubWF0Y2goLzFcLlswLTcrXVwuWzAtOStdPy8pKX0sYS5tb2JpbGUuYWpheEJsYWNrbGlzdD1iLmJsYWNrYmVycnkmJiFiLldlYktpdFBvaW50fHxxfHxzLHMmJmEoZnVuY3Rpb24oKXthKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pLGEuc3VwcG9ydC5ib3hTaGFkb3d8fGEoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEubW9iaWxlLndpbmRvdzthLmV2ZW50LnNwZWNpYWwubmF2aWdhdGU9Yz17Ym91bmQ6ITEscHVzaFN0YXRlRW5hYmxlZDohMCxvcmlnaW5hbEV2ZW50TmFtZTpiLGlzUHVzaFN0YXRlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQucHVzaFN0YXRlJiZhLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkPT09ITAmJnRoaXMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpfSxpc0hhc2hDaGFuZ2VFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkPT09ITB9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIiksZj1iLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9O2xvY2F0aW9uLmhyZWYsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChiLmhpc3RvcnlTdGF0ZSYmYS5leHRlbmQoZixiLmhpc3RvcnlTdGF0ZSksYy5vcmlnaW5hbEV2ZW50PWIsc2V0VGltZW91dChmdW5jdGlvbigpe2QudHJpZ2dlcihjLHtzdGF0ZTpmfSl9LDApKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpO2QudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYy5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGMse3N0YXRlOmIuaGFzaGNoYW5nZVN0YXRlfHx7fX0pKX0sc2V0dXA6ZnVuY3Rpb24oKXtjLmJvdW5kfHwoYy5ib3VuZD0hMCxjLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhjLm9yaWdpbmFsRXZlbnROYW1lPSJwb3BzdGF0ZSIsZC5iaW5kKCJwb3BzdGF0ZS5uYXZpZ2F0ZSIsYy5wb3BzdGF0ZSkpOmMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYoYy5vcmlnaW5hbEV2ZW50TmFtZT0iaGFzaGNoYW5nZSIsZC5iaW5kKCJoYXNoY2hhbmdlLm5hdmlnYXRlIixjLmhhc2hjaGFuZ2UpKSl9fX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGY9IiZ1aS1zdGF0ZT1kaWFsb2ciO2EubW9iaWxlLnBhdGg9ZD17dWlTdGF0ZUtleToiJnVpLXN0YXRlIix1cmxQYXJzZVJFOi9eXHMqKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9YT90aGlzLnBhcnNlVXJsKGEpOmxvY2F0aW9uLGM9dGhpcy5wYXJzZVVybChhfHxsb2NhdGlvbi5ocmVmKS5oYXNoO3JldHVybiBjPSIjIj09PWM/IiI6YyxiLnByb3RvY29sKyIvLyIrYi5ob3N0K2IucGF0aG5hbWUrYi5zZWFyY2grY30scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKCJvYmplY3QiPT09YS50eXBlKGIpKXJldHVybiBiO3ZhciBjPWQudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6Y1swXXx8IiIsaHJlZk5vSGFzaDpjWzFdfHwiIixocmVmTm9TZWFyY2g6Y1syXXx8IiIsZG9tYWluOmNbM118fCIiLHByb3RvY29sOmNbNF18fCIiLGRvdWJsZVNsYXNoOmNbNV18fCIiLGF1dGhvcml0eTpjWzZdfHwiIix1c2VybmFtZTpjWzhdfHwiIixwYXNzd29yZDpjWzldfHwiIixob3N0OmNbMTBdfHwiIixob3N0bmFtZTpjWzExXXx8IiIscG9ydDpjWzEyXXx8IiIscGF0aG5hbWU6Y1sxM118fCIiLGRpcmVjdG9yeTpjWzE0XXx8IiIsZmlsZW5hbWU6Y1sxNV18fCIiLHNlYXJjaDpjWzE2XXx8IiIsaGFzaDpjWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmIi8iPT09YS5jaGFyQXQoMCkpcmV0dXJuIGE7YT1hfHwiIixiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiO2Zvcih2YXIgYz1iP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07c3dpdGNoKGYpe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQucGFyc2VVcmwoYSkuZG9tYWluPT09ZC5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIiI9PT1kLnBhcnNlVXJsKGEpLnByb3RvY29sfSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiIT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWQuaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTtiPT09YyYmKGI9dGhpcy5kb2N1bWVudEJhc2UpO3ZhciBlPWQucGFyc2VVcmwoYSksZj1kLnBhcnNlVXJsKGIpLGc9ZS5wcm90b2NvbHx8Zi5wcm90b2NvbCxoPWUucHJvdG9jb2w/ZS5kb3VibGVTbGFzaDplLmRvdWJsZVNsYXNofHxmLmRvdWJsZVNsYXNoLGk9ZS5hdXRob3JpdHl8fGYuYXV0aG9yaXR5LGo9IiIhPT1lLnBhdGhuYW1lLGs9ZC5tYWtlUGF0aEFic29sdXRlKGUucGF0aG5hbWV8fGYuZmlsZW5hbWUsZi5wYXRobmFtZSksbD1lLnNlYXJjaHx8IWomJmYuc2VhcmNofHwiIixtPWUuaGFzaDtyZXR1cm4gZytoK2kraytsK219LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbihiLGMpe3ZhciBlPWQucGFyc2VVcmwoYiksZj0ib2JqZWN0Ij09dHlwZW9mIGM/YS5wYXJhbShjKTpjLGc9ZS5zZWFyY2h8fCI/IjtyZXR1cm4gZS5ocmVmTm9TZWFyY2grZysoIj8iIT09Zy5jaGFyQXQoZy5sZW5ndGgtMSk/IiYiOiIiKStmKyhlLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYz1kLnBhcnNlVXJsKGEpO3JldHVybiBkLmlzRW1iZWRkZWRQYWdlKGMpP2MuaGFzaC5zcGxpdChmKVswXS5yZXBsYWNlKC9eIy8sIiIpLnJlcGxhY2UoL1w/LiokLywiIik6ZC5pc1NhbWVEb21haW4oYyx0aGlzLmRvY3VtZW50QmFzZSk/Yy5ocmVmTm9IYXNoLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKS5zcGxpdChmKVswXTpiLmRlY29kZVVSSUNvbXBvbmVudChhKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YyYmKGE9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCksZC5zdHJpcEhhc2goYSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sIiIpfSxzZXQ6ZnVuY3Rpb24oYSl7bG9jYXRpb24uaGFzaD1hfSxpc1BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuL1wvLy50ZXN0KGEpfSxjbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxzdHJpcFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1w/LiokLywiIil9LGNsZWFuSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gZC5zdHJpcEhhc2goYS5yZXBsYWNlKC9cPy4qJC8sIiIpLnJlcGxhY2UoZiwiIikpfSxpc0hhc2hWYWxpZDpmdW5jdGlvbihhKXtyZXR1cm4vXiNbXiNdKyQvLnRlc3QoYSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5wYXJzZVVybChhKTtyZXR1cm4gYi5wcm90b2NvbCYmYi5kb21haW4hPT10aGlzLmRvY3VtZW50VXJsLmRvbWFpbj8hMDohMX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChhKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5wYXJzZVVybChhKTtyZXR1cm4iIiE9PWIucHJvdG9jb2w/IXRoaXMuaXNQYXRoKGIuaGFzaCkmJmIuaGFzaCYmKGIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYi5ocmVmKX0sc3F1YXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaD10aGlzLmlzUGF0aChhKSxpPXRoaXMucGFyc2VVcmwoYSksaj1pLmhhc2gsaz0iIjtyZXR1cm4gYj1ifHwoZC5pc1BhdGgoYSk/ZC5nZXRMb2NhdGlvbigpOmQuZ2V0RG9jdW1lbnRVcmwoKSksZT1oP2Quc3RyaXBIYXNoKGEpOmEsZT1kLmlzUGF0aChpLmhhc2gpP2Quc3RyaXBIYXNoKGkuaGFzaCk6ZSxnPWUuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpLGc+LTEmJihrPWUuc2xpY2UoZyksZT1lLnNsaWNlKDAsZykpLGM9ZC5tYWtlVXJsQWJzb2x1dGUoZSxiKSxmPXRoaXMucGFyc2VVcmwoYykuc2VhcmNoLGg/KChkLmlzUGF0aChqKXx8MD09PWoucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSkmJihqPSIiKSxrJiYtMT09PWouaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpJiYoais9ayksLTE9PT1qLmluZGV4T2YoIiMiKSYmIiIhPT1qJiYoaj0iIyIraiksYz1kLnBhcnNlVXJsKGMpLGM9Yy5wcm90b2NvbCsiLy8iK2MuaG9zdCtjLnBhdGhuYW1lK2Yraik6Yys9Yy5pbmRleE9mKCIjIik+LTE/azoiIyIrayxjfSxpc1ByZXNlcnZhYmxlSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gMD09PWEucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KX19LGQuZG9jdW1lbnRVcmw9ZC5wYXJzZUxvY2F0aW9uKCksZT1hKCJoZWFkIikuZmluZCgiYmFzZSIpLGQuZG9jdW1lbnRCYXNlPWUubGVuZ3RoP2QucGFyc2VVcmwoZC5tYWtlVXJsQWJzb2x1dGUoZS5hdHRyKCJocmVmIiksZC5kb2N1bWVudFVybC5ocmVmKSk6ZC5kb2N1bWVudFVybCxkLmRvY3VtZW50QmFzZURpZmZlcnM9ZC5kb2N1bWVudFVybC5ocmVmTm9IYXNoIT09ZC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCxkLmdldERvY3VtZW50VXJsPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRVcmwpOmQuZG9jdW1lbnRVcmwuaHJlZn0sZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9fShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhdGgsYS5tb2JpbGUuSGlzdG9yeT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhY2s9YXx8W10sdGhpcy5hY3RpdmVJbmRleD1ifHwwfSxhLmV4dGVuZChhLm1vYmlsZS5IaXN0b3J5LnByb3RvdHlwZSx7Z2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleF19LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnByZXZpb3VzSW5kZXhdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleCsxXX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgtMV19LGFkZDpmdW5jdGlvbihhLGIpe2I9Ynx8e30sdGhpcy5nZXROZXh0KCkmJnRoaXMuY2xlYXJGb3J3YXJkKCksYi5oYXNoJiYtMT09PWIuaGFzaC5pbmRleE9mKCIjIikmJihiLmhhc2g9IiMiK2IuaGFzaCksYi51cmw9YSx0aGlzLnN0YWNrLnB1c2goYiksdGhpcy5hY3RpdmVJbmRleD10aGlzLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPXRoaXMuc3RhY2suc2xpY2UoMCx0aGlzLmFjdGl2ZUluZGV4KzEpfSxmaW5kOmZ1bmN0aW9uKGEsYixjKXtiPWJ8fHRoaXMuc3RhY2s7dmFyIGQsZSxmLGc9Yi5sZW5ndGg7Zm9yKGU9MDtnPmU7ZSsrKWlmKGQ9YltlXSwoZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQudXJsKXx8ZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQuaGFzaCkpJiYoZj1lLGMpKXJldHVybiBmO3JldHVybiBmfSxjbG9zZXN0OmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKDAsZCkpLGM9PT1iJiYoYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKGQpLCEwKSxjPWM9PT1iP2M6YytkKSxjfSxkaXJlY3Q6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jbG9zZXN0KGMudXJsKSxlPXRoaXMuYWN0aXZlSW5kZXg7ZCE9PWImJih0aGlzLmFjdGl2ZUluZGV4PWQsdGhpcy5wcmV2aW91c0luZGV4PWUpLGU+ZD8oYy5wcmVzZW50fHxjLmJhY2t8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOmQ+ZT8oYy5wcmVzZW50fHxjLmZvcndhcmR8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOmQ9PT1iJiZjLm1pc3NpbmcmJmMubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGQ9YS5tb2JpbGUucGF0aCxlPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsYS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjphLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6YS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sYS5leHRlbmQoYS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7c3F1YXNoOmZ1bmN0aW9uKGUsZil7dmFyIGcsaCxpPWQuaXNQYXRoKGUpP2Quc3RyaXBIYXNoKGUpOmU7cmV0dXJuIGg9ZC5zcXVhc2goZSksZz1hLmV4dGVuZCh7aGFzaDppLHVybDpofSxmKSxiLmhpc3RvcnkucmVwbGFjZVN0YXRlKGcsZy50aXRsZXx8Yy50aXRsZSxoKSxnfSxoYXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO2lmKGM9ZC5wYXJzZVVybChhKSxlPWQucGFyc2VMb2NhdGlvbigpLGUucGF0aG5hbWUrZS5zZWFyY2g9PT1jLnBhdGhuYW1lK2Muc2VhcmNoKWY9Yy5oYXNoP2MuaGFzaDpjLnBhdGhuYW1lK2Muc2VhcmNoO2Vsc2UgaWYoZC5pc1BhdGgoYSkpe3ZhciBnPWQucGFyc2VVcmwoYik7Zj1nLnBhdGhuYW1lK2cuc2VhcmNoKyhkLmlzUHJlc2VydmFibGVIYXNoKGcuaGFzaCk/Zy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIil9ZWxzZSBmPWE7cmV0dXJuIGZ9LGdvOmZ1bmN0aW9uKGUsZixnKXt2YXIgaCxpLGosayxsPWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKTtpPWQuc3F1YXNoKGUpLGo9dGhpcy5oYXNoKGUsaSksZyYmaiE9PWQuc3RyaXBIYXNoKGQucGFyc2VMb2NhdGlvbigpLmhhc2gpJiYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ZyksdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSEwLGIubG9jYXRpb24uaGFzaD1qLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxoPWEuZXh0ZW5kKHt1cmw6aSxoYXNoOmosdGl0bGU6Yy50aXRsZX0sZiksbCYmKGs9bmV3IGEuRXZlbnQoInBvcHN0YXRlIiksay5vcmlnaW5hbEV2ZW50PXt0eXBlOiJwb3BzdGF0ZSIsc3RhdGU6bnVsbH0sdGhpcy5zcXVhc2goZSxoKSxnfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxhLm1vYmlsZS53aW5kb3cudHJpZ2dlcihrKSkpLHRoaXMuaGlzdG9yeS5hZGQoaC51cmwsaCl9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHZvaWQgMCk6dGhpcy5pZ25vcmVQb3BTdGF0ZT8odGhpcy5pZ25vcmVQb3BTdGF0ZT0hMSx2b2lkIDApOiFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJjE9PT10aGlzLmhpc3Rvcnkuc3RhY2subGVuZ3RoJiZ0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlJiYodGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMSxsb2NhdGlvbi5ocmVmPT09ZSk/KGIucHJldmVudERlZmF1bHQoKSx2b2lkIDApOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLGIuaGlzdG9yeVN0YXRlPWYsdm9pZCAwKToodGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pLHZvaWQgMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBlLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSl7aWYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2UpcmV0dXJuIHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPSExLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdm9pZCAwO2U9dGhpcy5oaXN0b3J5LGY9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6ZixwcmVzZW50OmZ1bmN0aW9uKGMsZCl7Yi5oYXNoY2hhbmdlU3RhdGU9YS5leHRlbmQoe30sYyksYi5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPWR9LG1pc3Npbmc6ZnVuY3Rpb24oKXtlLmFkZChmLHtoYXNoOmYsdGl0bGU6Yy50aXRsZX0pfX0pfX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubmF2aWdhdGU9ZnVuY3Rpb24oYixjLGQpe2EubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5nbyhiLGMsZCl9LGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk9bmV3IGEubW9iaWxlLkhpc3RvcnksYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yPW5ldyBhLm1vYmlsZS5OYXZpZ2F0b3IoYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSk7dmFyIGI9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCk7YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQoYi5ocmVmLHtoYXNoOmIuaGFzaH0pfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RCksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qi5sZW5ndGg7bj5tO20rKylpPUJbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix5KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseSksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TD0hMX1mdW5jdGlvbiBqKCl7TD0hMH1mdW5jdGlvbiBrKCl7UD0wLEoubGVuZ3RoPTAsSz0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEY9c2V0VGltZW91dChmdW5jdGlvbigpe0Y9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0YmJihjbGVhclRpbWVvdXQoRiksRj0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjPWEuZGF0YShiLnRhcmdldCx6KTtpZighKEt8fFAmJlA9PT1jKSl7dmFyIGQ9bygidiIrYi50eXBlLGIpO2QmJihkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksZC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fWZ1bmN0aW9uIHEoYil7dmFyIGMsZCxmPWUoYikudG91Y2hlcztpZihmJiYxPT09Zi5sZW5ndGgmJihjPWIudGFyZ2V0LGQ9ZyhjKSxkLmhhc1ZpcnR1YWxCaW5kaW5nKSl7UD1PKyssYS5kYXRhKGMseixQKSxuKCksbCgpLEk9ITE7dmFyIGg9ZShiKS50b3VjaGVzWzBdO0c9aC5wYWdlWCxIPWgucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpfX1mdW5jdGlvbiByKGEpe0x8fChJfHxvKCJ2bW91c2VjYW5jZWwiLGEsZyhhLnRhcmdldCkpLEk9ITAsbSgpKX1mdW5jdGlvbiBzKGIpe2lmKCFMKXt2YXIgYz1lKGIpLnRvdWNoZXNbMF0sZD1JLGY9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkLGg9ZyhiLnRhcmdldCk7ST1JfHxNYXRoLmFicyhjLnBhZ2VYLUcpPmZ8fE1hdGguYWJzKGMucGFnZVktSCk+ZixJJiYhZCYmbygidm1vdXNlY2FuY2VsIixiLGgpLG8oInZtb3VzZW1vdmUiLGIsaCksbSgpfX1mdW5jdGlvbiB0KGEpe2lmKCFMKXtqKCk7dmFyIGIsYz1nKGEudGFyZ2V0KTtpZihvKCJ2bW91c2V1cCIsYSxjKSwhSSl7dmFyIGQ9bygidmNsaWNrIixhLGMpO2QmJmQuaXNEZWZhdWx0UHJldmVudGVkKCkmJihiPWUoYSkuY2hhbmdlZFRvdWNoZXNbMF0sSi5wdXNoKHt0b3VjaElEOlAseDpiLmNsaWVudFgseTpiLmNsaWVudFl9KSxLPSEwKX1vKCJ2bW91c2VvdXQiLGEsYyksST0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix5KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseSx7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseSk7ZFtiXT0hMCxFW2JdPShFW2JdfHwwKSsxLDE9PT1FW2JdJiZOLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxNJiYoRS50b3VjaHN0YXJ0PShFLnRvdWNoc3RhcnR8fDApKzEsMT09PUUudG91Y2hzdGFydCYmTi5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUVbYl0sRVtiXXx8Ti51bmJpbmQoYyxwKSxNJiYoLS1FLnRvdWNoc3RhcnQsRS50b3VjaHN0YXJ0fHxOLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHkpO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh5KX19fXZhciB4LHk9InZpcnR1YWxNb3VzZUJpbmRpbmdzIix6PSJ2aXJ0dWFsVG91Y2hJRCIsQT0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIiksQj0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSxDPWEuZXZlbnQubW91c2VIb29rcz9hLmV2ZW50Lm1vdXNlSG9va3MucHJvcHM6W10sRD1hLmV2ZW50LnByb3BzLmNvbmNhdChDKSxFPXt9LEY9MCxHPTAsSD0wLEk9ITEsSj1bXSxLPSExLEw9ITEsTT0iYWRkRXZlbnRMaXN0ZW5lciJpbiBjLE49YShjKSxPPTEsUD0wO2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBRPTA7UTxBLmxlbmd0aDtRKyspYS5ldmVudC5zcGVjaWFsW0FbUV1dPXcoQVtRXSk7TSYmYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9Si5sZW5ndGgsaj1iLnRhcmdldDtpZihpKWZvcihjPWIuY2xpZW50WCxkPWIuY2xpZW50WSx4PWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQsZT1qO2U7KXtmb3IoZj0wO2k+ZjtmKyspaWYoZz1KW2ZdLGg9MCxlPT09aiYmTWF0aC5hYnMoZy54LWMpPHgmJk1hdGguYWJzKGcueS1kKTx4fHxhLmRhdGEoZSx6KT09PWcudG91Y2hJRClyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCAwO2U9ZS5wYXJlbnROb2RlfX0sITApfShhLGIsYyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YyxhLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixkKSxkLnR5cGU9ZX12YXIgZj1hKGMpO2EuZWFjaCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGMpe2EuZm5bY109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGMsYSk6dGhpcy50cmlnZ2VyKGMpfSxhLmF0dHJGbiYmKGEuYXR0ckZuW2NdPSEwKX0pO3ZhciBnPWEubW9iaWxlLnN1cHBvcnQudG91Y2gsaD0idG91Y2htb3ZlIHNjcm9sbCIsaT1nPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixqPWc/InRvdWNoZW5kIjoibW91c2V1cCIsaz1nPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDohMCxzZXR1cDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiKXtjPWIsZShmLGM/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsYSl9dmFyIGMsZCxmPXRoaXMsZz1hKGYpO2cuYmluZChoLGZ1bmN0aW9uKGUpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoY3x8YihlLCEwKSxjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlLCExKX0sNTApKX0pfX0sYS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGcoKXtjbGVhclRpbWVvdXQoail9ZnVuY3Rpb24gaCgpe2coKSxjLnVuYmluZCgidmNsaWNrIixpKS51bmJpbmQoInZtb3VzZXVwIixnKSxmLnVuYmluZCgidm1vdXNlY2FuY2VsIixoKX1mdW5jdGlvbiBpKGEpe2goKSxrPT09YS50YXJnZXQmJmUoYiwidGFwIixhKQp9aWYoZC53aGljaCYmMSE9PWQud2hpY2gpcmV0dXJuITE7dmFyIGosaz1kLnRhcmdldDtkLm9yaWdpbmFsRXZlbnQsYy5iaW5kKCJ2bW91c2V1cCIsZykuYmluZCgidmNsaWNrIixpKSxmLmJpbmQoInZtb3VzZWNhbmNlbCIsaCksaj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShiLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0Omt9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX19LGEuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YjtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV0sb3JpZ2luOmEoYi50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihhKXt2YXIgYj1hLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9hLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTphO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYi5wYWdlWCxiLnBhZ2VZXX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGIsYyl7Yy50aW1lLWIudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGIuY29vcmRzWzBdLWMuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1sxXS1jLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJmIub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihiLmNvb3Jkc1swXT5jLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2MuYmluZChpLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGUoYil7ZyYmKGY9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AoYiksTWF0aC5hYnMoZy5jb29yZHNbMF0tZi5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZiLnByZXZlbnREZWZhdWx0KCkpfXZhciBmLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGIpO2MuYmluZChrLGUpLm9uZShqLGZ1bmN0aW9uKCl7Yy51bmJpbmQoayxlKSxnJiZmJiZhLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUoZyxmKSxnPWY9ZH0pfSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsZil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsZil9fTt2YXIgYixjLGQsZT0yNTAsZj1mdW5jdGlvbigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1jLWcsZD49ZT8oZz1jLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihiJiZjbGVhclRpbWVvdXQoYiksYj1zZXRUaW1lb3V0KGYsZS1kKSl9LGc9MH0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKCl7dmFyIGE9ZSgpO2EhPT1mJiYoZj1hLGkudHJpZ2dlcihqKSl9dmFyIGUsZixnLGgsaT1hKGIpLGo9Im9yaWVudGF0aW9uY2hhbmdlIixrPXswOiEwLDE4MDohMH07aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uKXt2YXIgbD1iLmlubmVyV2lkdGh8fGkud2lkdGgoKSxtPWIuaW5uZXJIZWlnaHR8fGkuaGVpZ2h0KCksbj01MDtnPWw+bSYmbC1tPm4saD1rW2Iub3JpZW50YXRpb25dLChnJiZofHwhZyYmIWgpJiYoaz17Ii05MCI6ITAsOTA6ITB9KX1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLGkuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSx2b2lkIDApfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGkudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpLHZvaWQgMCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9rW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mbltqXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoaixhKTp0aGlzLnRyaWdnZXIoail9LGEuYXR0ckZuJiYoYS5hdHRyRm5bal09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKT09PSExPyExOih0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSx2b2lkIDApfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIithLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQucGFyZW50KCkpKX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMudGhlbWUmJmEubW9iaWxlLnBhZ2VDb250YWluZXIuYWRkQ2xhc3MoInVpLW92ZXJsYXktIisoYnx8dGhpcy5vcHRpb25zLnRoZW1lKSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWIua2VlcE5hdGl2ZSYmYS50cmltKGIua2VlcE5hdGl2ZSk7cmV0dXJuIGMmJmIua2VlcE5hdGl2ZSE9PWIua2VlcE5hdGl2ZURlZmF1bHQ/W2Iua2VlcE5hdGl2ZSxiLmtlZXBOYXRpdmVEZWZhdWx0XS5qb2luKCIsICIpOmIua2VlcE5hdGl2ZURlZmF1bHR9fSl9KGEpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtyZXR1cm4gZD09PWMmJihkPSEwKSxmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1uZXcgYS5EZWZlcnJlZCxpPWU/IiByZXZlcnNlIjoiIixqPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksaz1qLmxhc3RTY3JvbGx8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGw9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksbT1hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmYS5tb2JpbGUud2luZG93LndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLG49IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8bXx8IWN8fCJub25lIj09PWN8fE1hdGgubWF4KGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSxrKT5hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksbz0iIHVpLXBhZ2UtcHJlLWluIixwPWZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitjKX0scT1mdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLGIuc2Nyb2xsVG8oMCxrKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LHI9ZnVuY3Rpb24oKXtnLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIG91dCBpbiByZXZlcnNlICIrYykuaGVpZ2h0KCIiKX0scz1mdW5jdGlvbigpe2Q/Zy5hbmltYXRpb25Db21wbGV0ZSh0KTp0KCksZy5oZWlnaHQobCthLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKGMrIiBvdXQiK2kpfSx0PWZ1bmN0aW9uKCl7ZyYmZCYmcigpLHUoKX0sdT1mdW5jdGlvbigpe2YuY3NzKCJ6LWluZGV4IiwtMTApLGYuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK28pLGEubW9iaWxlLmZvY3VzUGFnZShmKSxmLmhlaWdodChsK2spLHEoKSxmLmNzcygiei1pbmRleCIsIiIpLG58fGYuYW5pbWF0aW9uQ29tcGxldGUodiksZi5yZW1vdmVDbGFzcyhvKS5hZGRDbGFzcyhjKyIgaW4iK2kpLG4mJnYoKX0sdj1mdW5jdGlvbigpe2R8fGcmJnIoKSxmLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiK2MpLmhlaWdodCgiIikscCgpLGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PWsmJnEoKSxoLnJlc29sdmUoYyxlLGYsZywhMCl9O3JldHVybiBwKCksZyYmIW4/cygpOnQoKSxoLnByb21pc2UoKX19LGU9ZCgpLGY9ZCghMSksZz1mdW5jdGlvbigpe3JldHVybiAzKmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9ZSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDplLHNpbXVsdGFuZW91czpmfSxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGd9KGEsdGhpcyksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGIpeyFwfHxwLmNsb3Nlc3QoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RoJiYhYnx8cC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykscD1udWxsfWZ1bmN0aW9uIGYoKXt0PSExLHMubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxzLnBvcCgpKX1mdW5jdGlvbiBnKGIsYyxkLGUpe2MmJmMuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pLGIuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3Jlc2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxkPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGQpO3ZhciBmPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tkfHwiZGVmYXVsdCJdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsZz1mKGQsZSxiLGMpO3JldHVybiBnLmRvbmUoZnVuY3Rpb24oKXtjJiZjLmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmJ9KSxiLmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoInNob3ciLG51bGwse3ByZXZQYWdlOmN8fGEoIiIpfSl9KSxnfWZ1bmN0aW9uIGgoYixjKXtjJiZiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsYyksYi5wYWdlKCl9ZnVuY3Rpb24gaSgpe3ZhciBiPWEubW9iaWxlLmFjdGl2ZVBhZ2UmJmsoYS5tb2JpbGUuYWN0aXZlUGFnZSk7cmV0dXJuIGJ8fHguaHJlZk5vSGFzaH1mdW5jdGlvbiBqKGEpe2Zvcig7YSYmKCJzdHJpbmciIT10eXBlb2YgYS5ub2RlTmFtZXx8ImEiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9ZnVuY3Rpb24gayhiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD14LmhyZWZOb0hhc2g7cmV0dXJuIGMmJm4uaXNQYXRoKGMpfHwoYz1kKSxuLm1ha2VVcmxBYnNvbHV0ZShjLGQpfXZhciBsPWEubW9iaWxlLndpbmRvdyxtPShhKCJodG1sIiksYSgiaGVhZCIpKSxuPWEuZXh0ZW5kKGEubW9iaWxlLnBhdGgse2dldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHUpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYz1uLnBhcnNlVXJsKG4ubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxlPWMuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZjLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGY9YS5tb2JpbGUuZmlyc3RQYWdlLGc9ZiYmZlswXT9mWzBdLmlkOmQ7cmV0dXJuIGUmJighYy5oYXNofHwiIyI9PT1jLmhhc2h8fGcmJmMuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09Zyl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmImZpbGU6Ij09PWIucHJvdG9jb2wmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSksbz1udWxsLHA9bnVsbCxxPWEuRGVmZXJyZWQoKSxyPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkscz1bXSx0PSExLHU9IiZ1aS1zdGF0ZT1kaWFsb2ciLHY9bS5jaGlsZHJlbigiYmFzZSIpLHc9bi5kb2N1bWVudFVybCx4PW4uZG9jdW1lbnRCYXNlLHk9KG4uZG9jdW1lbnRCYXNlRGlmZmVycyxhLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQpLHo9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OnYubGVuZ3RoP3Y6YSgiPGJhc2U+Iix7aHJlZjp4LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8obSksc2V0OmZ1bmN0aW9uKGEpe2E9bi5wYXJzZVVybChhKS5ocmVmTm9IYXNoLHouZWxlbWVudC5hdHRyKCJocmVmIixuLm1ha2VVcmxBYnNvbHV0ZShhLHgpKX0scmVzZXQ6ZnVuY3Rpb24oKXt6LmVsZW1lbnQuYXR0cigiaHJlZiIseC5ocmVmTm9TZWFyY2gpfX06ZDthLm1vYmlsZS5nZXREb2N1bWVudFVybD1uLmdldERvY3VtZW50VXJsLGEubW9iaWxlLmdldERvY3VtZW50QmFzZT1uLmdldERvY3VtZW50QmFzZSxhLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZhJiZhLmFwcCYmYS5hcHAuYmFja0hpc3Rvcnk/YS5hcHAuYmFja0hpc3RvcnkoKTpiLmhpc3RvcnkuYmFjaygpfSxhLm1vYmlsZS5mb2N1c1BhZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9YS5maW5kKCJbYXV0b2ZvY3VzXSIpLGM9YS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtyZXR1cm4gYi5sZW5ndGg/KGIuZm9jdXMoKSx2b2lkIDApOihjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpLHZvaWQgMCl9O3ZhciBBLEIsQz0hMDtBPWZ1bmN0aW9uKCl7aWYoQyl7dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihiKXt2YXIgYz1sLnNjcm9sbFRvcCgpO2IubGFzdFNjcm9sbD1jPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Y319fSxCPWZ1bmN0aW9uKCl7c2V0VGltZW91dChBLDEwMCl9LGwuYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7Qz0hMX0pLGwub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtDPSEwfSksbC5vbmUoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCJwYWdlY2hhbmdlIixmdW5jdGlvbigpe0M9ITAsbC51bmJpbmQoInNjcm9sbHN0b3AiLEIpLGwuYmluZCgic2Nyb2xsc3RvcCIsQil9KX0pLGwuYmluZCgic2Nyb2xsc3RvcCIsQiksYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQ9ZnVuY3Rpb24oYil7dmFyIGM9YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxkPXBhcnNlRmxvYXQoYy5jc3MoInBhZGRpbmctdG9wIikpLGU9cGFyc2VGbG9hdChjLmNzcygicGFkZGluZy1ib3R0b20iKSksZj1wYXJzZUZsb2F0KGMuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLGc9cGFyc2VGbG9hdChjLmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKTtiPSJudW1iZXIiPT10eXBlb2YgYj9iOnkoKSxjLmNzcygibWluLWhlaWdodCIsYi1kLWUtZi1nKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIixiKTooc2V0VGltZW91dChiLDApLGEodGhpcykpfSxhLm1vYmlsZS5wYXRoPW4sYS5tb2JpbGUuYmFzZT16LGEubW9iaWxlLnVybEhpc3Rvcnk9cixhLm1vYmlsZS5kaWFsb2dIYXNoS2V5PXUsYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzPSExLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZT1mdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7IWIuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZiLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYi5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxhLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxqPW51bGwsaz1uLm1ha2VVcmxBYnNvbHV0ZShiLGkoKSk7Zi5kYXRhJiYiZ2V0Ij09PWYudHlwZSYmKGs9bi5hZGRTZWFyY2hQYXJhbXMoayxmLmRhdGEpLGYuZGF0YT1kKSxmLmRhdGEmJiJwb3N0Ij09PWYudHlwZSYmKGYucmVsb2FkUGFnZT0hMCk7dmFyIGw9bi5nZXRGaWxlUGF0aChrKSxtPW4uY29udmVydFVybFRvRGF0YVVybChrKTtpZihmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbSsiJ10iKSwwPT09Zy5sZW5ndGgmJm0mJiFuLmlzUGF0aChtKSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIittKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbSkuanFtRGF0YSgidXJsIixtKSksMD09PWcubGVuZ3RoKWlmKGEubW9iaWxlLmZpcnN0UGFnZSYmbi5pc0ZpcnN0UGFnZVVybChsKSlhLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoJiYoZz1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYobi5pc0VtYmVkZGVkUGFnZShsKSlyZXR1cm4gZS5yZWplY3QoayxjKSxlLnByb21pc2UoKTtpZihnLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gaChnLGYucm9sZSksZS5yZXNvbHZlKGssYyxnKSx6JiYhYy5wcmVmZXRjaCYmei5zZXQoYiksZS5wcm9taXNlKCk7aj1nfXZhciBvPWYucGFnZUNvbnRhaW5lcixwPW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlbG9hZCIpLHE9e3VybDpiLGFic1VybDprLGRhdGFVcmw6bSxkZWZlcnJlZDplLG9wdGlvbnM6Zn07aWYoby50cmlnZ2VyKHAscSkscC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZS5wcm9taXNlKCk7aWYoZi5zaG93TG9hZE1zZyl2YXIgcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGYubG9hZE1zZ0RlbGF5KSxzPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpfTtyZXR1cm4henx8InVuZGVmaW5lZCIhPXR5cGVvZiBjJiYidW5kZWZpbmVkIiE9dHlwZW9mIGMucHJlZmV0Y2h8fHoucmVzZXQoKSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXN8fG4uaXNTYW1lRG9tYWluKHcsayk/YS5hamF4KHt1cmw6bCx0eXBlOmYudHlwZSxkYXRhOmYuZGF0YSxjb250ZW50VHlwZTpmLmNvbnRlbnRUeXBlLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQsaSxvKXt2YXIgcD1hKCI8ZGl2PjwvZGl2PiIpLHI9ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEsdD1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksdT1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7aWYodC50ZXN0KGQpJiZSZWdFeHAuJDEmJnUudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPWw9bi5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSwhenx8InVuZGVmaW5lZCIhPXR5cGVvZiBjJiYidW5kZWZpbmVkIiE9dHlwZW9mIGMucHJlZmV0Y2h8fHouc2V0KGwpLHAuZ2V0KDApLmlubmVySFRNTD1kLGc9cC5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxnLmxlbmd0aHx8KGc9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPiIrKGQuc3BsaXQoLzxcLz9ib2R5W14+XSo+L2dpbSlbMV18fCIiKSsiPC9kaXY+IikpLHImJiFnLmpxbURhdGEoInRpdGxlIikmJih+ci5pbmRleE9mKCImIikmJihyPWEoIjxkaXY+IityKyI8L2Rpdj4iKS50ZXh0KCkpLGcuanFtRGF0YSgidGl0bGUiLHIpKSwhYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnKXt2YXIgdj1uLmdldChsKTtnLmZpbmQoIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIltocmVmXSIpPyJocmVmIjphKHRoaXMpLmlzKCJbc3JjXSIpPyJzcmMiOiJhY3Rpb24iLGM9YSh0aGlzKS5hdHRyKGIpO2M9Yy5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIiksL14oXHcrOnwjfFwvKS8udGVzdChjKXx8YSh0aGlzKS5hdHRyKGIsditjKX0pfWcuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLG4uY29udmVydFVybFRvRGF0YVVybChsKSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJleHRlcm5hbC1wYWdlIiwhMCkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKSxnLm9uZSgicGFnZWNyZWF0ZSIsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlKSxoKGcsZi5yb2xlKSxrLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoZz1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrYS5tb2JpbGUubnMrInVybD0nIittKyInXSIpKSxmLnNob3dMb2FkTXNnJiZzKCkscS54aHI9byxxLnRleHRTdGF0dXM9aSxxLnBhZ2U9ZyxmLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWxvYWQiLHEpLGUucmVzb2x2ZShrLGMsZyxqKX0sZXJyb3I6ZnVuY3Rpb24oYixkLGcpe3omJnouc2V0KG4uZ2V0KCkpLHEueGhyPWIscS50ZXh0U3RhdHVzPWQscS5lcnJvclRocm93bj1nO3ZhciBoPW5ldyBhLkV2ZW50KCJwYWdlbG9hZGZhaWxlZCIpO2YucGFnZUNvbnRhaW5lci50cmlnZ2VyKGgscSksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGYuc2hvd0xvYWRNc2cmJihzKCksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxlLnJlamVjdChrLGMpKX19KTplLnJlamVjdChrLGMpLGUucHJvbWlzZSgpfSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEscGFnZUNvbnRhaW5lcjpkLGxvYWRNc2dEZWxheTo1MH0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGope2lmKHQpcmV0dXJuIHMudW5zaGlmdChhcmd1bWVudHMpLHZvaWQgMDt2YXIgayxsPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsaik7bC5wYWdlQ29udGFpbmVyPWwucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcixsLmZyb21QYWdlPWwuZnJvbVBhZ2V8fGEubW9iaWxlLmFjdGl2ZVBhZ2Usaz0ic3RyaW5nIj09dHlwZW9mIGI7dmFyIG09bC5wYWdlQ29udGFpbmVyLG89bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxwPXt0b1BhZ2U6YixvcHRpb25zOmx9O2lmKHAuYWJzVXJsPWs/bi5tYWtlVXJsQWJzb2x1dGUoYixpKCkpOmIuZGF0YSgiYWJzVXJsIiksbS50cmlnZ2VyKG8scCksIW8uaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKGI9cC50b1BhZ2Usaz0ic3RyaW5nIj09dHlwZW9mIGIsdD0hMCxrKXJldHVybiBsLnRhcmdldD1iLGEubW9iaWxlLmxvYWRQYWdlKGIsbCkuZG9uZShmdW5jdGlvbihiLGMsZCxlKXt0PSExLGMuZHVwbGljYXRlQ2FjaGVkUGFnZT1lLGQuZGF0YSgiYWJzVXJsIixwLmFic1VybCksYS5tb2JpbGUuY2hhbmdlUGFnZShkLGMpfSkuZmFpbChmdW5jdGlvbigpe2UoITApLGYoKSxsLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWNoYW5nZWZhaWxlZCIscCl9KSx2b2lkIDA7YlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8bC5kYXRhVXJsfHwobC5kYXRhVXJsPXcuaHJlZk5vSGFzaCk7dmFyIHE9bC5mcm9tUGFnZSx2PWwuZGF0YVVybCYmbi5jb252ZXJ0VXJsVG9EYXRhVXJsKGwuZGF0YVVybCl8fGIuanFtRGF0YSgidXJsIikseD12LHk9KG4uZ2V0RmlsZVBhdGgodiksci5nZXRBY3RpdmUoKSksej0wPT09ci5hY3RpdmVJbmRleCxBPTAsQj1jLnRpdGxlLEM9ImRpYWxvZyI9PT1sLnJvbGV8fCJkaWFsb2ciPT09Yi5qcW1EYXRhKCJyb2xlIik7aWYocSYmcVswXT09PWJbMF0mJiFsLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiB0PSExLG0udHJpZ2dlcigicGFnZWNoYW5nZSIscCksbC5mcm9tSGFzaENoYW5nZSYmci5kaXJlY3Qoe3VybDp2fSksdm9pZCAwO2goYixsLnJvbGUpLGwuZnJvbUhhc2hDaGFuZ2UmJihBPSJiYWNrIj09PWouZGlyZWN0aW9uPy0xOjEpO3RyeXtjLmFjdGl2ZUVsZW1lbnQmJiJib2R5IiE9PWMuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2EoYy5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goRCl7fXZhciBFPSExO0MmJnkmJih5LnVybCYmeS51cmwuaW5kZXhPZih1KT4tMSYmYS5tb2JpbGUuYWN0aXZlUGFnZSYmIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSYmci5hY3RpdmVJbmRleD4wJiYobC5jaGFuZ2VIYXNoPSExLEU9ITApLHY9eS51cmx8fCIiLHYrPSFFJiZ2LmluZGV4T2YoIiMiKT4tMT91OiIjIit1LDA9PT1yLmFjdGl2ZUluZGV4JiZ2PT09ci5pbml0aWFsRHN0JiYodis9dSkpO3ZhciBGPXk/Yi5qcW1EYXRhKCJ0aXRsZSIpfHxiLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpbmQoIi51aS10aXRsZSIpLnRleHQoKTpCO2lmKEYmJkI9PT1jLnRpdGxlJiYoQj1GKSxiLmpxbURhdGEoInRpdGxlIil8fGIuanFtRGF0YSgidGl0bGUiLEIpLGwudHJhbnNpdGlvbj1sLnRyYW5zaXRpb258fChBJiYhej95LnRyYW5zaXRpb246ZCl8fChDP2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbiksIUEmJkUmJihyLmdldEFjdGl2ZSgpLnBhZ2VVcmw9eCksdiYmIWwuZnJvbUhhc2hDaGFuZ2Upe3ZhciBHOyFuLmlzUGF0aCh2KSYmdi5pbmRleE9mKCIjIik8MCYmKHY9IiMiK3YpLEc9e3RyYW5zaXRpb246bC50cmFuc2l0aW9uLHRpdGxlOkIscGFnZVVybDp4LHJvbGU6bC5yb2xlfSxsLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUodixHLCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZCh2LEcpfWMudGl0bGU9QixhLm1vYmlsZS5hY3RpdmVQYWdlPWIsbC5yZXZlcnNlPWwucmV2ZXJzZXx8MD5BLGcoYixxLGwudHJhbnNpdGlvbixsLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oYyxkLGcsaCxpKXtlKCksbC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZsLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLGYoKSxtLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLHApfSl9fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLGZyb21IYXNoQ2hhbmdlOiExLHJvbGU6ZCxkdXBsaWNhdGVDYWNoZWRQYWdlOmQscGFnZUNvbnRhaW5lcjpkLHNob3dMb2FkTXNnOiEwLGRhdGFVcmw6ZCxmcm9tUGFnZTpkLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiExfSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKSxhLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe3ZhciBjPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD0hMDtyZXR1cm4hYS5tb2JpbGUuYWpheEVuYWJsZWR8fGIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aHx8Yi5hdHRyKCJ0YXJnZXQiKT8hMTooZD1iLmF0dHIoImFjdGlvbiIpLGc9KGIuYXR0cigibWV0aG9kIil8fCJnZXQiKS50b0xvd2VyQ2FzZSgpLGR8fChkPWsoYiksImdldCI9PT1nJiYoZD1uLnBhcnNlVXJsKGQpLmhyZWZOb1NlYXJjaCksZD09PXguaHJlZk5vSGFzaCYmKGQ9dy5ocmVmTm9TZWFyY2gpKSxkPW4ubWFrZVVybEFic29sdXRlKGQsayhiKSksbi5pc0V4dGVybmFsKGQpJiYhbi5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh3LGQpPyExOihjfHwoZT1iLnNlcmlhbGl6ZUFycmF5KCksbyYmb1swXS5mb3JtPT09YlswXSYmKGY9by5hdHRyKCJuYW1lIiksZiYmKGEuZWFjaChlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubmFtZT09PWY/KGY9IiIsITEpOnZvaWQgMH0pLGYmJmUucHVzaCh7bmFtZTpmLHZhbHVlOm8uYXR0cigidmFsdWUiKX0pKSksaD17dXJsOmQsb3B0aW9uczp7dHlwZTpnLGRhdGE6YS5wYXJhbShlKSx0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHJldmVyc2U6InJldmVyc2UiPT09Yi5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOiEwfX0pLGgpKX07YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoImZvcm0iLCJzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBkPWMoYSh0aGlzKSk7ZCYmKGEubW9iaWxlLmNoYW5nZVBhZ2UoZC51cmwsZC5vcHRpb25zKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgZCxmLGc9Yi50YXJnZXQsaD0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYobz1hKGcpLGEuZGF0YShnLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFjKGEoZykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1qKGcpLCFnfHwiIyI9PT1uLnBhcnNlVXJsKGcuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2cucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGcucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoZywiYnV0dG9uRWxlbWVudHMiKSxmP2c9Zi5vdXRlcjpoPSEwLGQ9YShnKSxoJiYoZD1kLmNsb3Nlc3QoIi51aS1idG4iKSksZC5sZW5ndGg+MCYmIWQuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikmJihlKCEwKSxwPWQscC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZixnPWooYy50YXJnZXQpLGg9YShnKTtpZihnJiYhKGMud2hpY2g+MSkmJmguanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoZj1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2UoITApfSwyMDApfSxoLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiBhLm1vYmlsZS5iYWNrKCksITE7dmFyIGk9ayhoKSxsPW4ubWFrZVVybEFic29sdXRlKGguYXR0cigiaHJlZiIpfHwiIyIsaSk7aWYoIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhbi5pc0VtYmVkZGVkUGFnZShsKSlyZXR1cm4gZigpLHZvaWQgMDtpZigtMSE9PWwuc2VhcmNoKCIjIikpe2lmKGw9bC5yZXBsYWNlKC9bXiNdKiMvLCIiKSwhbClyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMDtsPW4uaXNQYXRoKGwpP24ubWFrZVVybEFic29sdXRlKGwsaSk6bi5tYWtlVXJsQWJzb2x1dGUoIiMiK2wsdy5ocmVmTm9IYXNoKX12YXIgbT1oLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fGguaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8aC5pcygiW3RhcmdldF0iKSxvPW18fG4uaXNFeHRlcm5hbChsKSYmIW4uaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QodyxsKTtpZihvKXJldHVybiBmKCksdm9pZCAwO3ZhciBwPWguanFtRGF0YSgidHJhbnNpdGlvbiIpLHE9InJldmVyc2UiPT09aC5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8aC5qcW1EYXRhKCJiYWNrIikscj1oLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQ7YS5tb2JpbGUuY2hhbmdlUGFnZShsLHt0cmFuc2l0aW9uOnAscmV2ZXJzZTpxLHJvbGU6cixsaW5rOmh9KSxjLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYyxlKXt2YXIgZj1uLnN0cmlwSGFzaChjKSxnPTA9PT1hLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD8ibm9uZSI6ZCxoPXtjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwLHJldmVyc2U6ImJhY2siPT09ZS5kaXJlY3Rpb259O2lmKGEuZXh0ZW5kKGgsZSx7dHJhbnNpdGlvbjooci5nZXRMYXN0KCl8fHt9KS50cmFuc2l0aW9ufHxnfSksci5hY3RpdmVJbmRleD4wJiZmLmluZGV4T2YodSk+LTEmJnIuaW5pdGlhbERzdCE9PWYpe2lmKGEubW9iaWxlLmFjdGl2ZVBhZ2UmJiFhLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpcmV0dXJuImJhY2siPT09ZS5kaXJlY3Rpb24/YS5tb2JpbGUuYmFjaygpOmIuaGlzdG9yeS5mb3J3YXJkKCksdm9pZCAwO2Y9ZS5wYWdlVXJsO3ZhciBpPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7YS5leHRlbmQoaCx7cm9sZTppLnJvbGUsdHJhbnNpdGlvbjppLnRyYW5zaXRpb24scmV2ZXJzZToiYmFjayI9PT1lLmRpcmVjdGlvbn0pfWY/KGY9bi5pc1BhdGgoZik/ZjpuLm1ha2VVcmxBYnNvbHV0ZSgiIyIrZix4KSxmPT09bi5tYWtlVXJsQWJzb2x1dGUoIiMiK3IuaW5pdGlhbERzdCx4KSYmci5zdGFjay5sZW5ndGgmJnIuc3RhY2tbMF0udXJsIT09ci5pbml0aWFsRHN0LnJlcGxhY2UodSwiIikmJihmPWEubW9iaWxlLmZpcnN0UGFnZSksYS5tb2JpbGUuY2hhbmdlUGFnZShmLGgpKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSxoKX0sbC5iaW5kKCJuYXZpZ2F0ZSIsZnVuY3Rpb24oYixjKXt2YXIgZDtiLm9yaWdpbmFsRXZlbnQmJmIub3JpZ2luYWxFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLm9yaWdpbmFsRXZlbnROYW1lLmluZGV4T2YoImhhc2hjaGFuZ2UiKT4tMT9jLnN0YXRlLmhhc2g6Yy5zdGF0ZS51cmwsZHx8KGQ9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaCksZCYmIiMiIT09ZCYmMCE9PWQuaW5kZXhPZigiIyIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoZCxjLnN0YXRlKSl9KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlc2hvdyIsYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KSxhLm1vYmlsZS53aW5kb3cuYmluZCgidGhyb3R0bGVkcmVzaXplIixhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpfSxhKGZ1bmN0aW9uKCl7cS5yZXNvbHZlKCl9KSxhLndoZW4ocSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkKS5kb25lKGZ1bmN0aW9uKCl7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7dmFyIGMsZD1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoYShiLnRhcmdldCkpO2QmJihjPWQub3B0aW9ucyxhKGIudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChkLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksZT1jLmRlZ3JhZGVJbnB1dHNbZF18fCJ0ZXh0IjtpZihjLmRlZ3JhZGVJbnB1dHNbZF0pe3ZhciBmPWEoIjxkaXY+IikuaHRtbChiLmNsb25lKCkpLmh0bWwoKSxnPWYuaW5kZXhPZigiIHR5cGU9Iik+LTEsaD1nPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxpPScgdHlwZT0iJytlKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytkKyciJysoZz8iIjoiPiIpO2IucmVwbGFjZVdpdGgoZi5yZXBsYWNlKGgsaSkpfX0pKX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsZD1hKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IitjfSk7Yi5hZGRDbGFzcygidWktZGlhbG9nIHVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSxiLndyYXBJbm5lcihkKSxiLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxkLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsYy50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSksdGhpcy5fb24oYix7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSxhLmV4dGVuZCh0aGlzLHtfY3JlYXRlQ29tcGxldGU6ITF9KSx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYil7dmFyIGMsZCxlPXRoaXM7dGhpcy5faGVhZGVyQ2xvc2VCdXR0b24mJih0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbi5yZW1vdmUoKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1udWxsKSwibm9uZSIhPT1iJiYoZD0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiLGM9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi0iK2QrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCkucHJlcGVuZChjKSx0aGlzLl9jcmVhdGVDb21wbGV0ZSYmYS5mbi5idXR0b25NYXJrdXAmJmMuYnV0dG9uTWFya3VwKCksdGhpcy5fY3JlYXRlQ29tcGxldGU9ITAsYy5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtlLmNsb3NlKCl9KSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1jKX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpeyJjbG9zZUJ0biI9PT1hJiZ0aGlzLl9zZXRDbG9zZUJ0bihiKSx0aGlzLl9zdXBlcihhLGIpfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiLGMsZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O3RoaXMuX2lzQ2xvc2VhYmxlJiYodGhpcy5faXNDbG9zZWFibGU9ITEsYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmQuYWN0aXZlSW5kZXg+MD9hLm1vYmlsZS5iYWNrKCk6KGI9TWF0aC5tYXgoMCxkLmFjdGl2ZUluZGV4LTEpLGM9ZC5zdGFja1tiXS5wYWdlVXJsfHxkLnN0YWNrW2JdLnVybCxkLnByZXZpb3VzSW5kZXg9ZC5hY3RpdmVJbmRleCxkLmFjdGl2ZUluZGV4PWIsYS5tb2JpbGUucGF0aC5pc1BhdGgoYyl8fChjPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitjKSksYS5tb2JpbGUuY2hhbmdlUGFnZShjLHtkaXJlY3Rpb246ImJhY2siLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSkpfX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5lbmhhbmNlKHRoaXMpfSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGwsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbCxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLGU9Yy5qcW1EYXRhKCJyb2xlIiksZj1kLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIixjKS5qcW1FbmhhbmNlYWJsZSgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixnLGgsaSxqPWEodGhpcyksaz1qLmpxbURhdGEoInJvbGUiKSxsPWouanFtRGF0YSgidGhlbWUiKSxtPWx8fGQuY29udGVudFRoZW1lfHwiZGlhbG9nIj09PWUmJmY7aWYoai5hZGRDbGFzcygidWktIitrKSwiaGVhZGVyIj09PWt8fCJmb290ZXIiPT09ayl7dmFyIG49bHx8KCJoZWFkZXIiPT09az9kLmhlYWRlclRoZW1lOmQuZm9vdGVyVGhlbWUpfHxmO2ouYWRkQ2xhc3MoInVpLWJhci0iK24pLmF0dHIoInJvbGUiLCJoZWFkZXIiPT09az8iYmFubmVyIjoiY29udGVudGluZm8iKSwiaGVhZGVyIj09PWsmJihiPWouY2hpbGRyZW4oImEsIGJ1dHRvbiIpLGc9Yi5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxoPWIuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLGc9Z3x8Yi5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsaD1ofHxiLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGgpLGQuYWRkQmFja0J0biYmImhlYWRlciI9PT1rJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZjLmpxbURhdGEoInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFnJiYoaT1hKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrZC5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQuYmFja0J0blRoZW1lfHxuKS5wcmVwZW5kVG8oaikpLGouY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHtyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSJjb250ZW50Ij09PWsmJihtJiZqLmFkZENsYXNzKCJ1aS1ib2R5LSIrbSksai5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhKXtmb3IodmFyIGI7YSYmKGI9InN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWUrIiAiLCEoYiYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8MCkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX1mdW5jdGlvbiBlKGQsZSxmLGcsaCl7dmFyIGk9YS5kYXRhKGRbMF0sImJ1dHRvbkVsZW1lbnRzIik7ZC5yZW1vdmVDbGFzcyhlKS5hZGRDbGFzcyhmKSxpJiYoaS5iY2xzPWEoYy5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MoaS5iY2xzKyIgIitmKS5yZW1vdmVDbGFzcyhlKS5hdHRyKCJjbGFzcyIpLGchPT1iJiYoaS5ob3Zlcj1nKSxpLnN0YXRlPWgpfXZhciBmPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYyk7cmV0dXJuInRydWUiPT09ZD8hMDoiZmFsc2UiPT09ZD8hMTpudWxsPT09ZD9iOmR9O2EuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGQpe3ZhciBlLGg9dGhpcyxpPSJkYXRhLSIrYS5tb2JpbGUubnM7ZD1kJiYib2JqZWN0Ij09PWEudHlwZShkKT9kOnt9O2Zvcih2YXIgaj0wO2o8aC5sZW5ndGg7aisrKXt2YXIgayxsLG0sbixvLHAscT1oLmVxKGopLHI9cVswXSxzPWEuZXh0ZW5kKHt9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLHtpY29uOmQuaWNvbiE9PWI/ZC5pY29uOmYocixpKyJpY29uIiksaWNvbnBvczpkLmljb25wb3MhPT1iP2QuaWNvbnBvczpmKHIsaSsiaWNvbnBvcyIpLHRoZW1lOmQudGhlbWUhPT1iP2QudGhlbWU6ZihyLGkrInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHEsImMiKSxpbmxpbmU6ZC5pbmxpbmUhPT1iP2QuaW5saW5lOmYocixpKyJpbmxpbmUiKSxzaGFkb3c6ZC5zaGFkb3chPT1iP2Quc2hhZG93OmYocixpKyJzaGFkb3ciKSxjb3JuZXJzOmQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOmYocixpKyJjb3JuZXJzIiksaWNvbnNoYWRvdzpkLmljb25zaGFkb3chPT1iP2QuaWNvbnNoYWRvdzpmKHIsaSsiaWNvbnNoYWRvdyIpLG1pbmk6ZC5taW5pIT09Yj9kLm1pbmk6ZihyLGkrIm1pbmkiKX0sZCksdD0idWktYnRuLWlubmVyIix1PSJ1aS1idG4tdGV4dCIsdj0hMSx3PSJ1cCI7Zm9yKGUgaW4gcylzW2VdPT09Ynx8bnVsbD09PXNbZV0/cS5yZW1vdmVBdHRyKGkrZSk6ci5zZXRBdHRyaWJ1dGUoaStlLHNbZV0pO2ZvcihwPWEuZGF0YSgiSU5QVVQiPT09ci50YWdOYW1lfHwiQlVUVE9OIj09PXIudGFnTmFtZT9yLnBhcmVudE5vZGU6ciwiYnV0dG9uRWxlbWVudHMiKSxwPyhyPXAub3V0ZXIscT1hKHIpLG09cC5pbm5lcixuPXAudGV4dCxhKHAuaWNvbikucmVtb3ZlKCkscC5pY29uPW51bGwsdj1wLmhvdmVyLHc9cC5zdGF0ZSk6KG09Yy5jcmVhdGVFbGVtZW50KHMud3JhcHBlckVscyksbj1jLmNyZWF0ZUVsZW1lbnQocy53cmFwcGVyRWxzKSksbz1zLmljb24/Yy5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbCxnJiYhcCYmZygpLHMudGhlbWV8fChzLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHEsImMiKSksaz0idWktYnRuICIsays9dj8idWktYnRuLWhvdmVyLSIrcy50aGVtZToiIixrKz13PyIgdWktYnRuLSIrdysiLSIrcy50aGVtZToiIixrKz1zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIsays9cy5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiLHMubWluaSE9PWImJihrKz1zLm1pbmk9PT0hMD8iIHVpLW1pbmkiOiIgdWktZnVsbHNpemUiKSxzLmlubGluZSE9PWImJihrKz1zLmlubGluZT09PSEwPyIgdWktYnRuLWlubGluZSI6IiB1aS1idG4tYmxvY2siKSxzLmljb24mJihzLmljb249InVpLWljb24tIitzLmljb24scy5pY29ucG9zPXMuaWNvbnBvc3x8ImxlZnQiLGw9InVpLWljb24gIitzLmljb24scy5pY29uc2hhZG93JiYobCs9IiB1aS1pY29uLXNoYWRvdyIpKSxzLmljb25wb3MmJihrKz0iIHVpLWJ0bi1pY29uLSIrcy5pY29ucG9zLCJub3RleHQiIT09cy5pY29ucG9zfHxxLmF0dHIoInRpdGxlIil8fHEuYXR0cigidGl0bGUiLHEuZ2V0RW5jb2RlZFRleHQoKSkpLHAmJnEucmVtb3ZlQ2xhc3MocC5iY2xzfHwiIikscS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKGspLG0uY2xhc3NOYW1lPXQsbi5jbGFzc05hbWU9dSxwfHxtLmFwcGVuZENoaWxkKG4pLG8mJihvLmNsYXNzTmFtZT1sLHAmJnAuaWNvbnx8KG8uaW5uZXJIVE1MPSImIzE2MDsiLG0uYXBwZW5kQ2hpbGQobykpKTtyLmZpcnN0Q2hpbGQmJiFwOyluLmFwcGVuZENoaWxkKHIuZmlyc3RDaGlsZCk7cHx8ci5hcHBlbmRDaGlsZChtKSxwPXtob3Zlcjp2LHN0YXRlOncsYmNsczprLG91dGVyOnIsaW5uZXI6bSx0ZXh0Om4saWNvbjpvfSxhLmRhdGEociwiYnV0dG9uRWxlbWVudHMiLHApLGEuZGF0YShtLCJidXR0b25FbGVtZW50cyIscCksYS5kYXRhKG4sImJ1dHRvbkVsZW1lbnRzIixwKSxvJiZhLmRhdGEobywiYnV0dG9uRWxlbWVudHMiLHApfXJldHVybiB0aGlzfSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIGc9ZnVuY3Rpb24oKXt2YXIgYyxmLGg9YS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXk7YS5tb2JpbGUuZG9jdW1lbnQuYmluZCh7InZtb3VzZWRvd24gdm1vdXNlY2FuY2VsIHZtb3VzZXVwIHZtb3VzZW92ZXIgdm1vdXNlb3V0IGZvY3VzIGJsdXIgc2Nyb2xsc3RhcnQiOmZ1bmN0aW9uKGcpe3ZhciBpLGo9YShkKGcudGFyZ2V0KSksaz1nLm9yaWdpbmFsRXZlbnQmJi9edG91Y2gvLnRlc3QoZy5vcmlnaW5hbEV2ZW50LnR5cGUpLGw9Zy50eXBlO2oubGVuZ3RoJiYoaT1qLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSwidm1vdXNlZG93biI9PT1sP2s/Yz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4tZG93bi0iK2ksYiwiZG93biIpfSxoKTplKGosInVpLWJ0bi11cC0iK2ksInVpLWJ0bi1kb3duLSIraSxiLCJkb3duIik6InZtb3VzZWNhbmNlbCI9PT1sfHwidm1vdXNldXAiPT09bD9lKGosInVpLWJ0bi1kb3duLSIraSwidWktYnRuLXVwLSIraSxiLCJ1cCIpOiJ2bW91c2VvdmVyIj09PWx8fCJmb2N1cyI9PT1sP2s/Zj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4taG92ZXItIitpLCEwLCIiKX0saCk6ZShqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4taG92ZXItIitpLCEwLCIiKTooInZtb3VzZW91dCI9PT1sfHwiYmx1ciI9PT1sfHwic2Nyb2xsc3RhcnQiPT09bCkmJihlKGosInVpLWJ0bi1ob3Zlci0iK2krIiB1aS1idG4tZG93bi0iK2ksInVpLWJ0bi11cC0iK2ksITEsInVwIiksYyYmY2xlYXJUaW1lb3V0KGMpLGYmJmNsZWFyVGltZW91dChmKSkpfSwiZm9jdXNpbiBmb2N1cyI6ZnVuY3Rpb24oYil7YShkKGIudGFyZ2V0KSkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LCJmb2N1c291dCBibHVyIjpmdW5jdGlvbihiKXthKGQoYi50YXJnZXQpKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KSxnPW51bGx9O2EubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkubm90KCJidXR0b24sIGlucHV0LCAudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsY29sbGFwc2VkSWNvbjoicGx1cyIsZXhwYW5kZWRJY29uOiJtaW51cyIsaWNvbnBvczoibGVmdCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDohMCxjb3JuZXJzOiEwLG1pbmk6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucyxlPWMuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlIiksZj1jLmNoaWxkcmVuKGQuaGVhZGluZykuZmlyc3QoKSxnPWUud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxoPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksaT0iIjtmLmlzKCJsZWdlbmQiKSYmKGY9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2YuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZiksZi5uZXh0KCkucmVtb3ZlKCkpLGgubGVuZ3RoPyhkLnRoZW1lfHwoZC50aGVtZT1oLmpxbURhdGEoInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGgsImMiKSksZC5jb250ZW50VGhlbWV8fChkLmNvbnRlbnRUaGVtZT1oLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksZC5jb2xsYXBzZWRJY29uPWMuanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8aC5qcW1EYXRhKCJjb2xsYXBzZWQtaWNvbiIpfHxkLmNvbGxhcHNlZEljb24sZC5leHBhbmRlZEljb249Yy5qcW1EYXRhKCJleHBhbmRlZC1pY29uIil8fGguanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxkLmV4cGFuZGVkSWNvbixkLmljb25wb3M9Yy5qcW1EYXRhKCJpY29ucG9zIil8fGguanFtRGF0YSgiaWNvbnBvcyIpfHxkLmljb25wb3MsZC5pbnNldD1oLmpxbURhdGEoImluc2V0IikhPT1iP2guanFtRGF0YSgiaW5zZXQiKTohMCxkLmNvcm5lcnM9ITEsZC5taW5pfHwoZC5taW5pPWguanFtRGF0YSgibWluaSIpKSk6ZC50aGVtZXx8KGQudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoYywiYyIpKSxkLmluc2V0JiYoaSs9IiB1aS1jb2xsYXBzaWJsZS1pbnNldCIsZC5jb3JuZXJzJiYoaSs9IiB1aS1jb3JuZXItYWxsIikpLGQuY29udGVudFRoZW1lJiYoaSs9IiB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCIsZy5hZGRDbGFzcygidWktYm9keS0iK2QuY29udGVudFRoZW1lKSksIiIhPT1pJiZlLmFkZENsYXNzKGkpLGYuaW5zZXJ0QmVmb3JlKGcpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczpkLmljb25wb3MsaWNvbjpkLmNvbGxhcHNlZEljb24sbWluaTpkLm1pbmksdGhlbWU6ZC50aGVtZX0pLGUuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihiKXtpZighYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGM9YSh0aGlzKSxlPSJjb2xsYXBzZSI9PT1iLnR5cGU7Yi5wcmV2ZW50RGVmYXVsdCgpLGYudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixlKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGU/ZC5leHBhbmRDdWVUZXh0OmQuY29sbGFwc2VDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrZC5leHBhbmRlZEljb24sIWUpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrZC5jb2xsYXBzZWRJY29uLGV8fGQuZXhwYW5kZWRJY29uPT09ZC5jb2xsYXBzZWRJY29uKS5lbmQoKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYy50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixlKSxnLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsZSkuYXR0cigiYXJpYS1oaWRkZW4iLGUpLGcudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fSkudHJpZ2dlcihkLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKSxmLmJpbmQoInRhcCIsZnVuY3Rpb24oKXtmLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2UudHJpZ2dlcihiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybiBiP2M9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6KGM9YS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWMubGVuZ3RoJiYoYz1hLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKSkpLGN9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIiksYi5lcSgwKS5hZGRDbGFzcygidWktZmlyc3QtY2hpbGQiKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWxhc3QtY2hpbGQiKSxjfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixhLm1vYmlsZS53aWRnZXQsYS5leHRlbmQoe29wdGlvbnM6e2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxkPXRoaXMub3B0aW9ucztkLnRoZW1lfHwoZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShjLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9Yy5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29ybmVyc3x8KGQuY29ybmVycz1jLmpxbURhdGEoImNvcm5lcnMiKSksYy5qcW1EYXRhKCJpbnNldCIpIT09YiYmKGQuaW5zZXQ9Yy5qcW1EYXRhKCJpbnNldCIpKSxkLmluc2V0PWQuaW5zZXQhPT1iP2QuaW5zZXQ6ITAsZC5jb3JuZXJzPWQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOiEwLGQuY29ybmVycyYmZC5pbnNldCYmYy5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpLGMuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpfHxjLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiLCEwKS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpOwpjLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSl9LF9pbml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpLGM9Yi5maWx0ZXIoIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKSIpO3RoaXMuX3JlZnJlc2goInRydWUiKSxjLnRyaWdnZXIoImV4cGFuZCIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShjLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLl9nZXRWaXNpYmxlcyhjLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIikuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJiEvXFMvLnRlc3QodGhpcy5ub2RlVmFsdWUpfSkucmVtb3ZlKCl9LGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKX0pfShhKSxmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjLGQ9YSh0aGlzKSxlPWEuZXh0ZW5kKHtncmlkOm51bGx9LGIpLGY9ZC5jaGlsZHJlbigpLGc9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGg9ZS5ncmlkO2lmKCFoKWlmKGYubGVuZ3RoPD01KWZvcih2YXIgaSBpbiBnKWdbaV09PT1mLmxlbmd0aCYmKGg9aSk7ZWxzZSBoPSJhIixkLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2M9Z1toXSxkLmFkZENsYXNzKCJ1aS1ncmlkLSIraCksZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxjPjEmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksYz4yJiZmLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGM+MyYmZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxjPjQmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmZpbmQoImEiKSxmPWUuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpiO2QuYWRkQ2xhc3MoInVpLW5hdmJhciB1aS1taW5pIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiExLHNoYWRvdzohMSxpbmxpbmU6ITAsaWNvbnBvczpmfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oYil7dmFyIGQ9YShiLnRhcmdldCkuaXMoImEiKT9hKHRoaXMpOmEodGhpcykucGFyZW50KCJhIik7aWYoIWQuaXMoIi51aS1kaXNhYmxlZCwgLnVpLWJ0bi1hY3RpdmUiKSl7ZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7dmFyIGY9YSh0aGlzKTthKGMpLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxkLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7ZS5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLm5hdmJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLGljb246ImFycm93LXIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0iIjtiKz1hLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCI6IiIsYS5vcHRpb25zLmluc2V0JiYoYis9YS5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixiKz1hLm9wdGlvbnMuc2hhZG93PyIgdWktc2hhZG93IjoiIiksYS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGMrIiB1aS1saXN0dmlldyIrYn0pLGEucmVmcmVzaCghMCl9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXt9O2ZvcihlW2NdPWVbZF09ITA7YTspe2lmKGVbYS5ub2RlTmFtZV0pcmV0dXJuIGE7YT1hW2JdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPVtdLGY9e307Zm9yKGZbY109ZltkXT0hMCxiPWIuZmlyc3RDaGlsZDtiOylmW2Iubm9kZU5hbWVdJiZlLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGUpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLmxlbmd0aDtmb3IoYz0wO2U+YztjKyspZD1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxkLmxlbmd0aCYmKGQuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGRbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZC5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHA9dGhpcy5vcHRpb25zLHE9dGhpcy5lbGVtZW50LHI9cS5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8cC5kaXZpZGVyVGhlbWUscz1xLmpxbURhdGEoInNwbGl0dGhlbWUiKSx0PXEuanFtRGF0YSgic3BsaXRpY29uIiksdT1xLmpxbURhdGEoImljb24iKSx2PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHFbMF0sImxpIiwiTEkiKSx3PSEhYS5ub2RlTmFtZShxWzBdLCJvbCIpLHg9IWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50LHk9cS5hdHRyKCJzdGFydCIpLHo9e307dyYmeCYmcS5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCksdyYmKHl8fDA9PT15P3g/aj1wYXJzZUludCh5LDEwKTooaz1wYXJzZUludCh5LDEwKS0xLHEuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2spKTp4JiYoaj0xKSkscC50aGVtZXx8KHAudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpO2Zvcih2YXIgQT0wLEI9di5sZW5ndGg7Qj5BO0ErKyl7aWYoZD12LmVxKEEpLGU9InVpLWxpIixifHwhZC5oYXNDbGFzcygidWktbGkiKSl7Zj1kLmpxbURhdGEoInRoZW1lIil8fHAudGhlbWUsZz10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShkWzBdLCJhIiwiQSIpO3ZhciBDPSJsaXN0LWRpdmlkZXIiPT09ZC5qcW1EYXRhKCJyb2xlIik7Zy5sZW5ndGgmJiFDPyhuPWQuanFtRGF0YSgiaWNvbiIpLGQuYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25wb3M6InJpZ2h0IixpY29uOmcubGVuZ3RoPjF8fG49PT0hMT8hMTpufHx1fHxwLmljb24sdGhlbWU6Zn0pLG4hPT0hMSYmMT09PWcubGVuZ3RoJiZkLmFkZENsYXNzKCJ1aS1saS1oYXMtYXJyb3ciKSxnLmZpcnN0KCkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0IiksZy5sZW5ndGg+MSYmKGUrPSIgdWktbGktaGFzLWFsdCIsaD1nLmxhc3QoKSxpPXN8fGguanFtRGF0YSgidGhlbWUiKXx8cC5zcGxpdFRoZW1lLG89aC5qcW1EYXRhKCJpY29uIiksaC5hcHBlbmRUbyhkKS5hdHRyKCJ0aXRsZSIsYS50cmltKGguZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSx0aGVtZTpmLGljb246ITEsaWNvbnBvczoibm90ZXh0In0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCx0aGVtZTppLGljb25wb3M6Im5vdGV4dCIsaWNvbjpvfHxufHx0fHxwLnNwbGl0SWNvbn0pKSkpOkM/KGUrPSIgdWktbGktZGl2aWRlciB1aS1iYXItIisoZC5qcW1EYXRhKCJ0aGVtZSIpfHxyKSxkLmF0dHIoInJvbGUiLCJoZWFkaW5nIiksdyYmKHl8fDA9PT15P3g/aj1wYXJzZUludCh5LDEwKToobD1wYXJzZUludCh5LDEwKS0xLGQuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2wpKTp4JiYoaj0xKSkpOmUrPSIgdWktbGktc3RhdGljIHVpLWJ0bi11cC0iK2Z9dyYmeCYmZS5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKG09ZS5pbmRleE9mKCJ1aS1saS1zdGF0aWMiKT4wP2Q6ZC5maW5kKCIudWktbGluay1pbmhlcml0IiksbS5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2orKyArIi4gPC9zcGFuPiIpKSx6W2VdfHwoeltlXT1bXSkseltlXS5wdXNoKGRbMF0pfWZvcihlIGluIHopYSh6W2VdKS5hZGRDbGFzcyhlKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKGUpO3EuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWNvdW50IikuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KS5hZGRDbGFzcygidWktYnRuLXVwLSIrKHEuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh2KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMocS5maW5kKCIudWktbGluay1pbmhlcml0IikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModix0aGlzLl9nZXRWaXNpYmxlcyh2LGIpLGIpLHRoaXMuX3RyaWdnZXIoImFmdGVycmVmcmVzaCIpfSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGMsZD10aGlzLmVsZW1lbnQsZT1kLmNsb3Nlc3QoIi51aS1wYWdlIiksZj1lLmpxbURhdGEoInVybCIpLGc9Znx8ZVswXVthLmV4cGFuZG9dLGg9ZC5hdHRyKCJpZCIpLGk9dGhpcy5vcHRpb25zLGo9ImRhdGEtIithLm1vYmlsZS5ucyxrPXRoaXMsbD1lLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGJbZ10mJihiW2ddPS0xKSxoPWh8fCsrYltnXSxhKGQuZmluZCgibGk+dWwsIGxpPm9sIikudG9BcnJheSgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbihiKXt2YXIgZSxnLGs9YSh0aGlzKSxtPWsuYXR0cigiaWQiKXx8aCsiLSIrYixuPWsucGFyZW50KCksbz1hKGsucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLHA9by5sZW5ndGg/bzphKCI8c3Bhbj4iK2EudHJpbShuLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKSsiPC9zcGFuPiIpLHE9cC5maXJzdCgpLmdldEVuY29kZWRUZXh0KCkscj0oZnx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IittLHM9ay5qcW1EYXRhKCJ0aGVtZSIpfHxpLnRoZW1lLHQ9ay5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGQuanFtRGF0YSgiY291bnR0aGVtZSIpfHxpLmNvdW50VGhlbWU7Yz0hMCxlPWsuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2orInJvbGU9J3BhZ2UnICIraisidXJsPSciK3IrIicgIitqKyJ0aGVtZT0nIitzKyInICIraisiY291bnQtdGhlbWU9JyIrdCsiJz48ZGl2ICIraisicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraisicm9sZT0naGVhZGVyJyAiK2orInRoZW1lPSciK2kuaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD9hKCI8ZGl2ICIraisicm9sZT0nZm9vdGVyJyAiK2orImlkPSciK2wrIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGUucGFnZSgpLGc9bi5maW5kKCJhOmZpcnN0IiksZy5sZW5ndGh8fChnPWEoIjxhLz4iKS5odG1sKHB8fHEpLnByZXBlbmRUbyhuLmVtcHR5KCkpKSxnLmF0dHIoImhyZWYiLCIjIityKX0pLmxpc3R2aWV3KCksYyYmZS5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmUuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlPT09ITEpe3ZhciBtPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZz1jLm5leHRQYWdlLGg9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtjLm5leHRQYWdlJiYoZD1nLmpxbURhdGEoInVybCIpLDAhPT1kLmluZGV4T2YoZisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkmJihrLmNoaWxkUGFnZXMoKS5yZW1vdmUoKSxlLnRyaWdnZXIoaCksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZS5yZW1vdmVXaXRoRGVwZW5kZW50cygpKSl9O2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLG0pfX0sY2hpbGRQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIitiKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyInKSIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZCYmYyE9PSEwfHwoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSksIGlucHV0W3R5cGU9J2ZpbGUnXSIsY2xlYXJCdG46ITEsY2xlYXJTZWFyY2hCdXR0b25UZXh0Om51bGwsY2xlYXJCdG5UZXh0OiJjbGVhciB0ZXh0IixkaXNhYmxlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhZi52YWwoKSl9LDApfXZhciBjLGQsZT10aGlzLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9Zy50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksaT0iIHVpLWJvZHktIitoLGo9Zy5taW5pPyIgdWktbWluaSI6IiIsaz1mLmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksbD1nLmNsZWFyU2VhcmNoQnV0dG9uVGV4dHx8Zy5jbGVhckJ0blRleHQsbT1mLmlzKCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLG49ISFnLmNsZWFyQnRuJiYhbSxvPWYuaXMoImlucHV0IikmJiFmLmlzKCI6anFtRGF0YSh0eXBlPSdyYW5nZScpIik7aWYoYSgibGFiZWxbZm9yPSciK2YuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLGM9Zi5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIraCksInVuZGVmaW5lZCI9PXR5cGVvZiBmWzBdLmF1dG9jb3JyZWN0fHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KGZbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLGZbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSksaz9jPWYud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2kraisiJz48L2Rpdj4iKS5wYXJlbnQoKTpvJiYoYz1mLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXRleHQgdWktc2hhZG93LWluc2V0IHVpLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyIraStqKyInPjwvZGl2PiIpLnBhcmVudCgpKSxufHxrPyhkPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrbCsiJz4iK2wrIjwvYT4iKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7Zi52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIiksZC5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiksYS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oYykuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczohMCxzaGFkb3c6ITAsbWluaTpnLm1pbml9KSxrfHxjLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKSxiKCksZi5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgaW5wdXQgZm9jdXMgY2hhbmdlIGJsdXIiLGIpKTpvfHxrfHxmLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIraStqKSxmLmZvY3VzKGZ1bmN0aW9uKCl7Zy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLGMuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSxnLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pLGYuaXMoInRleHRhcmVhIikpe3ZhciBwLHE9MTUscj0xMDA7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgYT1mWzBdLnNjcm9sbEhlaWdodCxiPWZbMF0uY2xpZW50SGVpZ2h0O2lmKGE+Yil7dmFyIGM9cGFyc2VGbG9hdChmLmNzcygicGFkZGluZy10b3AiKSksZD1wYXJzZUZsb2F0KGYuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxlPWMrZDtmLmhlaWdodChhLWUrcSl9fSxmLm9uKCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHApLHA9c2V0VGltZW91dChlLl9rZXl1cCxyKX0pLHRoaXMuX29uKCEwLGEubW9iaWxlLmRvY3VtZW50LHtwYWdlY2hhbmdlOiJfa2V5dXAifSksYS50cmltKGYudmFsKCkpJiZ0aGlzLl9vbighMCxhLm1vYmlsZS53aW5kb3cse2xvYWQ6Il9rZXl1cCJ9KX1mLmF0dHIoImRpc2FibGVkIikmJnRoaXMuZGlzYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxjPXRoaXMuZWxlbWVudC5pcygiaW5wdXQiKSYmIXRoaXMuZWxlbWVudC5pcygiOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLGQ9dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCkmJihjfHxiKTtyZXR1cm4gYT1kP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQsYS5hZGRDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksYz10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpJiYoY3x8Yik7cmV0dXJuIGE9ZD90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50LGEucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlcj0hMSxhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcj0iRmlsdGVyIGl0ZW1zLi4uIixhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT0iYyIsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUmV2ZWFsPSExO3ZhciBiPWZ1bmN0aW9uKGEsYil7cmV0dXJuLTE9PT1hLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGIpfTthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1iLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCwgb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKCJtb2JpbGUtbGlzdHZpZXciKTtpZihkJiZkLm9wdGlvbnMuZmlsdGVyKXtkLm9wdGlvbnMuZmlsdGVyUmV2ZWFsJiZjLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgZT1hKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrZC5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KS5zdWJtaXQoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGcuYmx1cigpfSksZj1mdW5jdGlvbigpe3ZhciBlLGY9YSh0aGlzKSxnPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxoPW51bGwsaT1jLmNoaWxkcmVuKCksaj1mLmpxbURhdGEoImxhc3R2YWwiKSsiIixrPSExLGw9IiIsbT1kLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2shPT1iO2lmKCFqfHxqIT09Zyl7aWYoZC5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIiwiYmVmb3JlZmlsdGVyIix7aW5wdXQ6dGhpc30pLGYuanFtRGF0YSgibGFzdHZhbCIsZyksbXx8Zy5sZW5ndGg8ai5sZW5ndGh8fDAhPT1nLmluZGV4T2Yoaik/aD1jLmNoaWxkcmVuKCk6KGg9Yy5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKSwhaC5sZW5ndGgmJmQub3B0aW9ucy5maWx0ZXJSZXZlYWwmJihoPWMuY2hpbGRyZW4oIi51aS1zY3JlZW4taGlkZGVuIikpKSxnKXtmb3IodmFyIG49aC5sZW5ndGgtMTtuPj0wO24tLSllPWEoaFtuXSksbD1lLmpxbURhdGEoImZpbHRlcnRleHQiKXx8ZS50ZXh0KCksZS5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oZS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWspLGs9ITEpOmQub3B0aW9ucy5maWx0ZXJDYWxsYmFjayhsLGcsZSk/ZS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITApOms9ITA7aC5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKSxoLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSBoLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhIWQub3B0aW9ucy5maWx0ZXJSZXZlYWwpO2QuX2FkZEZpcnN0TGFzdENsYXNzZXMoaSxkLl9nZXRWaXNpYmxlcyhpLCExKSwhMSl9fSxnPWEoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpkLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIGlucHV0IixmKS5hcHBlbmRUbyhlKS50ZXh0aW5wdXQoKTtkLm9wdGlvbnMuaW5zZXQmJmUuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpLGUuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGMpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5hdXRvZGl2aWRlcnM9ITEsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3I9ZnVuY3Rpb24oYil7dmFyIGM9YS50cmltKGIudGV4dCgpKXx8bnVsbDtyZXR1cm4gYz9jPWMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9LGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCxvbCIsImxpc3R2aWV3Y3JlYXRlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1iLmRhdGEoIm1vYmlsZS1saXN0dmlldyIpO2lmKGQmJmQub3B0aW9ucy5hdXRvZGl2aWRlcnMpe3ZhciBlPWZ1bmN0aW9uKCl7Yi5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCk7Zm9yKHZhciBlLGYsZz1iLmZpbmQoImxpIiksaD1udWxsLGk9MDtpPGcubGVuZ3RoO2krKyl7aWYoZT1nW2ldLGY9ZC5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGEoZSkpLGYmJmghPT1mKXt2YXIgaj1jLmNyZWF0ZUVsZW1lbnQoImxpIik7ai5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGYpKSxqLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIiwibGlzdC1kaXZpZGVyIiksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqLGUpfWg9Zn19LGY9ZnVuY3Rpb24oKXtiLnVuYmluZCgibGlzdHZpZXdhZnRlcnJlZnJlc2giLGYpLGUoKSxkLnJlZnJlc2goKSxiLmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixmKX07ZigpfX0pfShhKSxmdW5jdGlvbihhKXthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGIudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnMsZj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxnPWEoZCkuY2xvc2VzdCgibGFiZWwiKSxoPWcubGVuZ3RoP2c6YShkKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2RbMF0uaWQrIiddIikuZmlyc3QoKSxpPWRbMF0udHlwZSxqPWYoZCwibWluaSIpfHxlLm1pbmksaz1pKyItb24iLGw9aSsiLW9mZiIsbT1mKGQsImljb25wb3MiKSxuPSJ1aS0iK2ssbz0idWktIitsO2lmKCJjaGVja2JveCI9PT1pfHwicmFkaW8iPT09aSl7YS5leHRlbmQodGhpcyx7bGFiZWw6aCxpbnB1dHR5cGU6aSxjaGVja2VkQ2xhc3M6bix1bmNoZWNrZWRDbGFzczpvLGNoZWNrZWRpY29uOmssdW5jaGVja2VkaWNvbjpsfSksZS50aGVtZXx8KGUudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGguYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246bCxzaGFkb3c6ITEsbWluaTpqLGljb25wb3M6bX0pO3ZhciBwPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5jbGFzc05hbWU9InVpLSIraSxkLmFkZChoKS53cmFwQWxsKHApLGguYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbihiKXthKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmYi5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiBkLmlzKCI6ZGlzYWJsZWQiKT8oYS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KGIuX2NhY2hlVmFscygpLGQucHJvcCgiY2hlY2tlZCIsInJhZGlvIj09PWkmJiEwfHwhZC5wcm9wKCJjaGVja2VkIikpLGQudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksYi5fZ2V0SW5wdXRTZXQoKS5ub3QoZCkucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpLCExKX19KSxkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKCI6Y2hlY2tlZCIpPyhjLnByb3AoImNoZWNrZWQiLCEwKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIiwhMSkpOmMucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2guYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtoLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaCgpfX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMuaW5wdXR0eXBlP3RoaXMuZWxlbWVudDp0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8ImNoZWNrYm94Ij09PWIuaW5wdXR0eXBlKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnRbMF0sYz0iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsZD10aGlzLmNoZWNrZWRDbGFzcysodGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCIpLmxlbmd0aD9jOiIiKSxlPXRoaXMubGFiZWw7Yi5jaGVja2VkP2UucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcytjKS5hZGRDbGFzcyhkKS5idXR0b25NYXJrdXAoe2ljb246dGhpcy5jaGVja2VkaWNvbn0pOmUucmVtb3ZlQ2xhc3MoZCkuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcykuYnV0dG9uTWFya3VwKHtpY29uOnRoaXMudW5jaGVja2VkaWNvbn0pLGIuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITApLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsaW5saW5lOm51bGwsbWluaTpudWxsLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLmVsZW1lbnQsZD1mdW5jdGlvbihhKXt2YXIgYixjPXt9O2ZvcihiIGluIGEpbnVsbCE9PWFbYl0mJiJpbml0U2VsZWN0b3IiIT09YiYmKGNbYl09YVtiXSk7cmV0dXJuIGN9KHRoaXMub3B0aW9ucyksZT0iIjtyZXR1cm4iQSI9PT1jWzBdLnRhZ05hbWU/KGMuaGFzQ2xhc3MoInVpLWJ0biIpfHxjLmJ1dHRvbk1hcmt1cCgpLHZvaWQgMCk6KHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSksfmNbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihlPSJ1aS1idG4tbGVmdCIpLH5jWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGU9InVpLWJ0bi1yaWdodCIpLCgic3VibWl0Ij09PWMuYXR0cigidHlwZSIpfHwicmVzZXQiPT09Yy5hdHRyKCJ0eXBlIikpJiYoZT9lKz0iIHVpLXN1Ym1pdCI6ZT0idWktc3VibWl0IiksYSgibGFiZWxbZm9yPSciK2MuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktc3VibWl0IiksdGhpcy5idXR0b249YSgiPGRpdj48L2Rpdj4iKVtjLmh0bWwoKT8iaHRtbCI6InRleHQiXShjLmh0bWwoKXx8Yy52YWwoKSkuaW5zZXJ0QmVmb3JlKGMpLmJ1dHRvbk1hcmt1cChkKS5hZGRDbGFzcyhlKS5hcHBlbmQoYy5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKSxiPXRoaXMuYnV0dG9uLGMuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXtiLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLnJlZnJlc2goKSx2b2lkIDApfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9e307ZFtiXT1jLCJpbml0U2VsZWN0b3IiIT09YiYmKHRoaXMuYnV0dG9uLmJ1dHRvbk1hcmt1cChkKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpK2IucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYykpLHRoaXMuX3N1cGVyKCJfc2V0T3B0aW9uIixiLGMpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGEodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVtiLmh0bWwoKT8iaHRtbCI6InRleHQiXShiLmh0bWwoKXx8Yi52YWwoKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHt3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnPXRoaXMsaD10aGlzLmVsZW1lbnQsaT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShoLCJjIiksaj10aGlzLm9wdGlvbnMudGhlbWV8fGksaz10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8aSxsPWhbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxtPSh0aGlzLmlzVG9nZ2xlU3dpdGNoPSJzZWxlY3QiPT09bCxoLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIikpLG49dGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyLXN3aXRjaCI6IiIsbz1oLmF0dHIoImlkIikscD1hKCJbZm9yPSciK28rIiddIikscT1wLmF0dHIoImlkIil8fG8rIi1sYWJlbCIscj1wLmF0dHIoImlkIixxKSxzPXRoaXMuaXNUb2dnbGVTd2l0Y2g/MDpwYXJzZUZsb2F0KGguYXR0cigibWluIikpLHQ9dGhpcy5pc1RvZ2dsZVN3aXRjaD9oLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xOnBhcnNlRmxvYXQoaC5hdHRyKCJtYXgiKSksdT1iLnBhcnNlRmxvYXQoaC5hdHRyKCJzdGVwIil8fDEpLHY9dGhpcy5vcHRpb25zLm1pbml8fGguanFtRGF0YSgibWluaSIpPyIgdWktbWluaSI6IiIsdz1jLmNyZWF0ZUVsZW1lbnQoImEiKSx4PWEodykseT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHo9YSh5KSxBPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoP2Z1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKHopfSgpOiExO2lmKHcuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHkuc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSx5LmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyICI6InVpLXNsaWRlci10cmFjayAiLG4sIiB1aS1idG4tZG93bi0iLGssIiB1aS1idG4tY29ybmVyLWFsbCIsdl0uam9pbigiIiksdy5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLHkuYXBwZW5kQ2hpbGQodykseC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6aixzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpzLCJhcmlhLXZhbHVlbWF4Ijp0LCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOnF9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6eixoYW5kbGU6eCx0eXBlOmwsc3RlcDp1LG1heDp0LG1pbjpzLHZhbHVlYmc6QSxpc1Jhbmdlc2xpZGVyOm0sZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHRoaXMuaXNUb2dnbGVTd2l0Y2gpe2Y9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0Ijtmb3IodmFyIEI9MCxDPXkuY2hpbGROb2Rlcy5sZW5ndGg7Qz5CO0IrKylmLmFwcGVuZENoaWxkKHkuY2hpbGROb2Rlc1tCXSk7eS5hcHBlbmRDaGlsZChmKSx4LmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksZT1oLmZpbmQoIm9wdGlvbiIpO2Zvcih2YXIgRD0wLEU9ZS5sZW5ndGg7RT5EO0QrKyl7dmFyIEY9RD8iYSI6ImIiLEc9RD8iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6IiB1aS1idG4tZG93bi0iK2ssSD0oYy5jcmVhdGVFbGVtZW50KCJkaXYiKSxjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7SC5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsRixHLCIgdWktYnRuLWNvcm5lci1hbGwiXS5qb2luKCIiKSxILnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLEguYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW0RdLmlubmVySFRNTCkpLGEoSCkucHJlcGVuZFRvKHopfWcuX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIix6KX1yLmFkZENsYXNzKCJ1aS1zbGlkZXIiKSxoLmFkZENsYXNzKHRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihoLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSx6LmJpbmQoInZtb3VzZWRvd24iLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oei5hZGQoYykse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksei5pbnNlcnRBZnRlcihoKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHxtfHwoZj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixoLmFkZCh6KS53cmFwQWxsKGYpKSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3ouYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt6LnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9jb250cm9sQ2hhbmdlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJjb250cm9sY2hhbmdlIixhKT09PSExPyExOih0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSx2b2lkIDApfSxfY29udHJvbEtleXVwOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITAsITApfSxfY29udHJvbEJsdXI6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCl9LF9jb250cm9sVk1vdXNlVXA6ZnVuY3Rpb24oKXt0aGlzLl9jaGVja2VkUmVmcmVzaCgpfSxfaGFuZGxlVk1vdXNlRG93bjpmdW5jdGlvbigpe3RoaXMuaGFuZGxlLmZvY3VzKCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3ZhbHVlKCk7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2tleVNsaWRpbmd8fCh0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6dGhpcy5yZWZyZXNoKHRoaXMubWluKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOnRoaXMucmVmcmVzaCh0aGlzLm1heCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDp0aGlzLnJlZnJlc2goYyt0aGlzLnN0ZXApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6dGhpcy5yZWZyZXNoKGMtdGhpcy5zdGVwKX19fSxfaGFuZGxlS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfSxfc2xpZGVyVk1vdXNlRG93bjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkfHwxIT09YS53aGljaCYmMCE9PWEud2hpY2gmJmEud2hpY2ghPT1kPyExOnRoaXMuX3RyaWdnZXIoImJlZm9yZXN0YXJ0IixhKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGEpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2luZz8odGhpcy5kcmFnZ2luZz0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/dGhpcy5yZWZyZXNoKDA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCk6dGhpcy5yZWZyZXNoKHRoaXMuYmVmb3JlU3RhcnQpOnRoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIpLCExKTp2b2lkIDB9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJkcmFnIixhKT09PSExPyExOnRoaXMuZHJhZ2dpbmcmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/KHRoaXMubW91c2VNb3ZlZD0hMCx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMucmVmcmVzaChhKSx0aGlzLnVzZXJNb2RpZmllZD10aGlzLmJlZm9yZVN0YXJ0IT09dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgsITEpOnZvaWQgMH0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goZCwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oYixkLGUpe3ZhciBmLGcsaCxpLGo9dGhpcyxrPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGw9dGhpcy5vcHRpb25zLnRoZW1lfHxrLG09dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGs7ai5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci10cmFjayIsIiB1aS1idG4tZG93bi0iK20sIiB1aS1idG4tY29ybmVyLWFsbCIsdGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIl0uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKGouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmwsc2hhZG93OiEwfSk7dmFyIG4sbyxwPXRoaXMuZWxlbWVudCxxPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLHI9cT9bXTpwLmZpbmQoIm9wdGlvbiIpLHM9cT9wYXJzZUZsb2F0KHAuYXR0cigibWluIikpOjAsdD1xP3BhcnNlRmxvYXQocC5hdHRyKCJtYXgiKSk6ci5sZW5ndGgtMSx1PXEmJnBhcnNlRmxvYXQocC5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChwLmF0dHIoInN0ZXAiKSk6MTtpZigib2JqZWN0Ij09dHlwZW9mIGIpe2lmKGg9YixpPTgsZj10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LGc9dGhpcy5zbGlkZXIud2lkdGgoKSxuPWcvKCh0LXMpL3UpLCF0aGlzLmRyYWdnaW5nfHxoLnBhZ2VYPGYtaXx8aC5wYWdlWD5mK2craSlyZXR1cm47bz1uPjE/MTAwKigoaC5wYWdlWC1mKS9nKTpNYXRoLnJvdW5kKDEwMCooKGgucGFnZVgtZikvZykpfWVsc2UgbnVsbD09YiYmKGI9cT9wYXJzZUZsb2F0KHAudmFsKCl8fDApOnBbMF0uc2VsZWN0ZWRJbmRleCksbz0xMDAqKChwYXJzZUZsb2F0KGIpLXMpLyh0LXMpKTtpZighaXNOYU4obykpe3ZhciB2PW8vMTAwKih0LXMpK3Msdz0odi1zKSV1LHg9di13OzIqTWF0aC5hYnModyk+PXUmJih4Kz13PjA/dTotdSk7dmFyIHk9MTAwLygodC1zKS91KTtpZih2PXBhcnNlRmxvYXQoeC50b0ZpeGVkKDUpKSwidW5kZWZpbmVkIj09dHlwZW9mIG4mJihuPWcvKCh0LXMpL3UpKSxuPjEmJnEmJihvPSh2LXMpKnkqKDEvdSkpLDA+byYmKG89MCksbz4xMDAmJihvPTEwMCkscz52JiYodj1zKSx2PnQmJih2PXQpLHRoaXMuaGFuZGxlLmNzcygibGVmdCIsbysiJSIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIscT92OnIuZXEodikuYXR0cigidmFsdWUiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIscT92OnIuZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJ0aXRsZSIscT92OnIuZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsbysiJSIpLHRoaXMuX2xhYmVscyl7dmFyIHo9MTAwKih0aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkpLEE9byYmeisoMTAwLXopKm8vMTAwLEI9MTAwPT09bz8wOk1hdGgubWluKHorMTAwLUEsMTAwKTt0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIi51aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/QTpCKSsiJSIpfSl9aWYoIWUpe3ZhciBDPSExO2lmKHE/KEM9cC52YWwoKSE9PXYscC52YWwodikpOihDPXBbMF0uc2VsZWN0ZWRJbmRleCE9PXYscFswXS5zZWxlY3RlZEluZGV4PXYpLHRoaXMuX3RyaWdnZXIoImJlZm9yZWNoYW5nZSIsYik9PT0hMSlyZXR1cm4hMTshZCYmQyYmcC50cmlnZ2VyKCJjaGFuZ2UiKX19fSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIixtaW5pOiExLGhpZ2hsaWdodDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5lbGVtZW50LGQ9dGhpcy5vcHRpb25zLm1pbmk/InVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiOiJ1aS1yYW5nZXNsaWRlciIsZT1jLmZpbmQoImlucHV0IikuZmlyc3QoKSxmPWMuZmluZCgiaW5wdXQiKS5sYXN0KCksZz1jLmZpbmQoImxhYmVsIikuZmlyc3QoKSxoPWEuZGF0YShlLmdldCgwKSwibW9iaWxlU2xpZGVyIikuc2xpZGVyLGk9YS5kYXRhKGYuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5zbGlkZXIsaj1hLmRhdGEoZS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZSxrPWEoJzxkaXYgY2xhc3M9InVpLXJhbmdlc2xpZGVyLXNsaWRlcnMiIC8+JykuYXBwZW5kVG8oYyk7Yy5maW5kKCJsYWJlbCIpLmxlbmd0aD4xJiYoYj1jLmZpbmQoImxhYmVsIikubGFzdCgpLmhpZGUoKSksZS5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxmLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1sYXN0IiksYy5hZGRDbGFzcyhkKSxoLmFwcGVuZFRvKGspLGkuYXBwZW5kVG8oayksZy5wcmVwZW5kVG8oYyksai5wcmVwZW5kVG8oaSksYS5leHRlbmQodGhpcyx7X2lucHV0Rmlyc3Q6ZSxfaW5wdXRMYXN0OmYsX3NsaWRlckZpcnN0OmgsX3NsaWRlckxhc3Q6aSxfdGFyZ2V0VmFsOm51bGwsX3NsaWRlclRhcmdldDohMSxfc2xpZGVyczprLF9wcm94eTohMX0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dC51aS1zbGlkZXItaW5wdXQiKSx7c2xpZGViZWZvcmVzdGFydDoiX3NsaWRlYmVmb3Jlc3RhcnQiLHNsaWRlc3RvcDoiX3NsaWRlc3RvcCIsc2xpZGVkcmFnOiJfc2xpZGVkcmFnIixzbGlkZWJlZm9yZWNoYW5nZToiX2NoYW5nZSIsYmx1cjoiX2NoYW5nZSIsa2V5dXA6Il9jaGFuZ2UifSksdGhpcy5fb24oe21vdXNlZG93bjoiX2NoYW5nZSJ9KSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDoiX2hhbmRsZVJlc2V0In0pLHRoaXMuX29uKGose3Ztb3VzZWRvd246Il9kcmFnRmlyc3RIYW5kbGUifSl9LF9oYW5kbGVSZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuX3VwZGF0ZUhpZ2hsaWdodCgpfSwwKX0sX2RyYWdGaXJzdEhhbmRsZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnJlZnJlc2goYiksITF9LF9zbGlkZWRyYWc6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCksZD1jP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O3JldHVybiB0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsImZpcnN0Ij09PXRoaXMuX3Byb3h5JiZjfHwibGFzdCI9PT10aGlzLl9wcm94eSYmIWM/KGEuZGF0YShkLmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGM/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyQXBwbHkoYSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnM7YS5maW5kKCJpbnB1dCIpLnNsaWRlcih7dGhlbWU6Yi50aGVtZSx0cmFja1RoZW1lOmIudHJhY2tUaGVtZSxkaXNhYmxlZDpiLmRpc2FibGVkLG1pbmk6Yi5taW5pLGhpZ2hsaWdodDpiLmhpZ2hsaWdodH0pLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKGIpe2lmKCJrZXl1cCI9PT1iLnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXRoaXMsZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLGU9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLGY9YShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZz1mP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGg9Zj90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmIm1vdXNlZG93biI9PT1iLnR5cGUmJiFhKGIudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpKWcuYmx1cigpO2Vsc2UgaWYoIm1vdXNlZG93biI9PT1iLnR5cGUpcmV0dXJuO3JldHVybiBkPmUmJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KGcudmFsKGY/ZTpkKS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl90cmlnZ2VyKCJub3JtYWxpemUiKSk6ZD5lJiYoZy52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoInJlZnJlc2giKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC52YWwoZj9kOmUpLnNsaWRlcigicmVmcmVzaCIpLGEuZGF0YShoLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmZvY3VzKCksYy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixmPyIiOjEpLGMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1mPyJmaXJzdCI6Imxhc3QiKSxkPT09ZT8oYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDApKTooYS5kYXRhKGguZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIiksYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGM9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksZD1jLWI7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zbGlkZXItYmciKS5jc3MoeyJtYXJnaW4tbGVmdCI6YisiJSIsd2lkdGg6ZCsiJSJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKS5maW5kKCJsYWJlbCIpLnNob3coKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0pLGEud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEubW9iaWxlLnJhbmdlc2xpZGVyLGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpLGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnJhbmdlc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsb3ZlcmxheVRoZW1lOiJhIixkaXZpZGVyVGhlbWU6ImIiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKQp9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixhKSx0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciBiPSIiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihiPSIgdWktYnRuLWxlZnQiKSx+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGI9IiB1aS1idG4tcmlnaHQiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrYisiJz4iKSx0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIiksdGhpcy5sYWJlbD1hKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0IiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlLHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2EubGVuZ3RoPjAmJihhLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuaXMoIi51aS1idG4tbGVmdCIpPyJ1aS1idG4tbGVmdCI6InVpLWJ0bi1yaWdodCIpLHRoaXMuZWxlbWVudC5pbnNlcnRBZnRlcihhKSxhLnJlbW92ZSgpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnMsZT1kLmlubGluZXx8dGhpcy5zZWxlY3QuanFtRGF0YSgiaW5saW5lIiksZj1kLm1pbml8fHRoaXMuc2VsZWN0LmpxbURhdGEoIm1pbmkiKSxnPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxoPSgtMT09PXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LHRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYnV0dG9uTWFya3VwKHt0aGVtZTpkLnRoZW1lLGljb246ZC5pY29uLGljb25wb3M6ZyxpbmxpbmU6ZSxjb3JuZXJzOmQuY29ybmVycyxzaGFkb3c6ZC5zaGFkb3csaWNvbnNoYWRvdzpkLmljb25zaGFkb3csbWluaTpmfSkpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZoLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGguYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKGQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCksZC5uYXRpdmVNZW51JiZ0aGlzLmJsdXIoKX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGIuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKX0pLGIuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLGIuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLnNlbGVjdGVkKCksZT10aGlzLnBsYWNlaG9sZGVyLGY9YShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikuaHRtbChmdW5jdGlvbigpe3JldHVybiBlPWQubGVuZ3RoP2QubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpiLnBsYWNlaG9sZGVyLGYudGV4dChlKS5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSxiLGMsZCl7dmFyIGU9ZDtyZXR1cm4gZT1iPmE/YysoYS1iKS8yOk1hdGgubWluKE1hdGgubWF4KGMsZC1iLzIpLGMrYS1iKX1mdW5jdGlvbiBmKCl7dmFyIGM9YS5tb2JpbGUud2luZG93O3JldHVybnt4OmMuc2Nyb2xsTGVmdCgpLHk6Yy5zY3JvbGxUb3AoKSxjeDpiLmlubmVyV2lkdGh8fGMud2lkdGgoKSxjeTpiLmlubmVySGVpZ2h0fHxjLmhlaWdodCgpfX1hLndpZGdldCgibW9iaWxlLnBvcHVwIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiLGNsb3NlTGlua1NlbGVjdG9yOiJhOmpxbURhdGEocmVsPSdiYWNrJykiLGNsb3NlTGlua0V2ZW50czoiY2xpY2sucG9wdXAiLG5hdmlnYXRlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCIsY2xvc2VFdmVudHM6Im5hdmlnYXRlLnBvcHVwIHBhZ2ViZWZvcmVjaGFuZ2UucG9wdXAiLGRpc21pc3NpYmxlOiEwLGhpc3Rvcnk6IWEubW9iaWxlLmJyb3dzZXIub2xkSUV9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksYT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoYSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5faXNPcGVuJiZiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpOnZvaWQgMH0sX2V4cGVjdFJlc2l6ZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIGI9ZigpO2lmKHRoaXMuX3Jlc2l6ZURhdGEpe2lmKGIueD09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLngmJmIueT09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLnkmJmIuY3g9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeCYmYi5jeT09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLmN5KXJldHVybiExO2NsZWFyVGltZW91dCh0aGlzLl9yZXNpemVEYXRhLnRpbWVvdXRJZCl9cmV0dXJuIHRoaXMuX3Jlc2l6ZURhdGE9e3RpbWVvdXRJZDpzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3Jlc2l6ZVRpbWVvdXQiKSwyMDApLHdpbkNvb3JkczpifSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIikmJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMucmVwb3NpdGlvbih7cG9zaXRpb25Ubzoid2luZG93In0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9pZ25vcmVSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuX2lnbm9yZVJlc2l6ZVRvJiZjbGVhclRpbWVvdXQodGhpcy5faWdub3JlUmVzaXplVG8pLHRoaXMuX2lnbm9yZVJlc2l6ZVRvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLl9pZ25vcmVSZXNpemVUbz0wfSwxZTMpfSxfaGFuZGxlV2luZG93UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJighdGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSYmIXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzc3x8dGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKXx8dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpKX0sX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlOmZ1bmN0aW9uKCl7IXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcyYmdGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJih0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMCl9LF9oYW5kbGVEb2N1bWVudEZvY3VzSW46ZnVuY3Rpb24oYil7dmFyIGQsZT1iLnRhcmdldCxmPXRoaXMuX3VpO2lmKHRoaXMuX2lzT3Blbil7aWYoZSE9PWYuY29udGFpbmVyWzBdKXtpZihkPWEoYi50YXJnZXQpLDA9PT1kLnBhcmVudHMoKS5maWx0ZXIoZi5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYShjLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKCl7ZC5ibHVyKCl9KSxmLmZvY3VzRWxlbWVudC5mb2N1cygpLGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO2YuZm9jdXNFbGVtZW50WzBdPT09Zi5jb250YWluZXJbMF0mJihmLmZvY3VzRWxlbWVudD1kKX10aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKX19LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj17c2NyZWVuOmEoIjxkaXYgY2xhc3M9J3VpLXNjcmVlbi1oaWRkZW4gdWktcG9wdXAtc2NyZWVuJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbic+PC9kaXY+Iil9LGM9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksZD10aGlzLmVsZW1lbnQuYXR0cigiaWQiKSxlPXRoaXMub3B0aW9ucztlLmhpc3Rvcnk9ZS5oaXN0b3J5JiZhLm1vYmlsZS5hamF4RW5hYmxlZCYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQsMD09PWMubGVuZ3RoJiYoYz1hKCJib2R5IikpLGUuY29udGFpbmVyPWUuY29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyfHxjLGMuYXBwZW5kKGIuc2NyZWVuKSxiLmNvbnRhaW5lci5pbnNlcnRBZnRlcihiLnNjcmVlbiksYi5wbGFjZWhvbGRlci5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpLGQmJihiLnNjcmVlbi5hdHRyKCJpZCIsZCsiLXNjcmVlbiIpLGIuY29udGFpbmVyLmF0dHIoImlkIixkKyItcG9wdXAiKSxiLnBsYWNlaG9sZGVyLmh0bWwoIjwhLS0gcGxhY2Vob2xkZXIgZm9yICIrZCsiIC0tPiIpKSxiLmNvbnRhaW5lci5hcHBlbmQodGhpcy5lbGVtZW50KSxiLmZvY3VzRWxlbWVudD1iLmNvbnRhaW5lcix0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXBvcHVwIiksYS5leHRlbmQodGhpcyx7X3Njcm9sbFRvcDowLF9wYWdlOmMsX3VpOmIsX2ZhbGxiYWNrVHJhbnNpdGlvbjoiIixfY3VycmVudFRyYW5zaXRpb246ITEsX3ByZXJlcXM6bnVsbCxfaXNPcGVuOiExLF90b2xlcmFuY2U6bnVsbCxfcmVzaXplRGF0YTpudWxsLF9pZ25vcmVSZXNpemVUbzowLF9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M6ITF9KSx0aGlzLl9hcHBseVRoZW1lKHRoaXMuZWxlbWVudCxlLnRoZW1lLCJib2R5IiksdGhpcy5fYXBwbHlUaGVtZSh0aGlzLl91aS5zY3JlZW4sZS5vdmVybGF5VGhlbWUsIm92ZXJsYXkiKSx0aGlzLl9hcHBseVRyYW5zaXRpb24oZS50cmFuc2l0aW9uKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixlLnNoYWRvdykudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGUuY29ybmVycyksdGhpcy5fc2V0VG9sZXJhbmNlKGUudG9sZXJhbmNlKSxiLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGEucHJveHkodGhpcywiX2VhdEV2ZW50QW5kQ2xvc2UiKSksdGhpcy5fb24oYS5tb2JpbGUud2luZG93LHtvcmllbnRhdGlvbmNoYW5nZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZSIpLHJlc2l6ZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dSZXNpemUiKSxrZXl1cDphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dLZXlVcCIpfSksdGhpcy5fb24oYS5tb2JpbGUuZG9jdW1lbnQse2ZvY3VzaW46YS5wcm94eSh0aGlzLCJfaGFuZGxlRG9jdW1lbnRGb2N1c0luIil9KX0sX2FwcGx5VGhlbWU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPShhLmF0dHIoImNsYXNzIil8fCIiKS5zcGxpdCgiICIpLGY9bnVsbCxnPVN0cmluZyhiKTtlLmxlbmd0aD4wOyl7aWYoZj1lLnBvcCgpLGQ9bmV3IFJlZ0V4cCgiXnVpLSIrYysiLShbYS16XSkkIikuZXhlYyhmKSxkJiZkLmxlbmd0aD4xKXtmPWRbMV07YnJlYWt9Zj1udWxsfWIhPT1mJiYoYS5yZW1vdmVDbGFzcygidWktIitjKyItIitmKSxudWxsIT09YiYmIm5vbmUiIT09YiYmYS5hZGRDbGFzcygidWktIitjKyItIitnKSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBseVRoZW1lKHRoaXMuZWxlbWVudCxhLCJib2R5Iil9LF9zZXRPdmVybGF5VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLl91aS5zY3JlZW4sYSwib3ZlcmxheSIpLHRoaXMuX2lzT3BlbiYmdGhpcy5fdWkuc2NyZWVuLmFkZENsYXNzKCJpbiIpfSxfc2V0U2hhZG93OmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfYXBwbHlUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLGImJiJub25lIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksIm5vbmUiPT09dGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPSIiKSx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSl9LF9zZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2N1cnJlbnRUcmFuc2l0aW9ufHx0aGlzLl9hcHBseVRyYW5zaXRpb24oYSl9LF9zZXRUb2xlcmFuY2U6ZnVuY3Rpb24oYil7dmFyIGM9e3Q6MzAscjoxNSxiOjMwLGw6MTV9O2lmKGIhPT1kKXt2YXIgZT1TdHJpbmcoYikuc3BsaXQoIiwiKTtzd2l0Y2goYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtlW2FdPXBhcnNlSW50KGIsMTApfSksZS5sZW5ndGgpe2Nhc2UgMTppc05hTihlWzBdKXx8KGMudD1jLnI9Yy5iPWMubD1lWzBdKTticmVhaztjYXNlIDI6aXNOYU4oZVswXSl8fChjLnQ9Yy5iPWVbMF0pLGlzTmFOKGVbMV0pfHwoYy5sPWMucj1lWzFdKTticmVhaztjYXNlIDQ6aXNOYU4oZVswXSl8fChjLnQ9ZVswXSksaXNOYU4oZVsxXSl8fChjLnI9ZVsxXSksaXNOYU4oZVsyXSl8fChjLmI9ZVsyXSksaXNOYU4oZVszXSl8fChjLmw9ZVszXSl9fXRoaXMuX3RvbGVyYW5jZT1jfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9Il9zZXQiK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKTt0aGlzW2NdIT09ZCYmdGhpc1tjXShiKSx0aGlzLl9zdXBlcihhLGIpfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3ZhciBiLGQsZz1mKCksaD17eDp0aGlzLl90b2xlcmFuY2UubCx5OmcueSt0aGlzLl90b2xlcmFuY2UudCxjeDpnLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OmcuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3RoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsaC5jeCksYj17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LGQ9e3g6ZShoLmN4LGIuY3gsaC54LGEueCkseTplKGguY3ksYi5jeSxoLnksYS55KX0sZC55PU1hdGgubWF4KDAsZC55KTt2YXIgaT1jLmRvY3VtZW50RWxlbWVudCxqPWMuYm9keSxrPU1hdGgubWF4KGkuY2xpZW50SGVpZ2h0LGouc2Nyb2xsSGVpZ2h0LGoub2Zmc2V0SGVpZ2h0LGkuc2Nyb2xsSGVpZ2h0LGkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gZC55LT1NYXRoLm1pbihkLnksTWF0aC5tYXgoMCxkLnkrYi5jeS1rKSkse2xlZnQ6ZC54LHRvcDpkLnl9fSxfY3JlYXRlUHJlcmVxczpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzO2U9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXFzJiZiKCl9KSxlLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXMmJmMoKX0pLGEud2hlbihlLnNjcmVlbixlLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXFzJiYoZi5fcHJlcmVxcz1udWxsLGQoKSl9KSxmLl9wcmVyZXFzPWV9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyhiLnNjcmVlbkNsYXNzVG9BZGQpLGIucHJlcmVxcy5zY3JlZW4ucmVzb2x2ZSgpLGIudHJhbnNpdGlvbiYmIm5vbmUiIT09Yi50cmFuc2l0aW9uJiYoYi5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbihiLnRyYW5zaXRpb24pLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbik/KHRoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGIucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLHZvaWQgMCk6KHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLGIucHJlcmVxcy5jb250YWluZXIucmVzb2x2ZSgpLHZvaWQgMCl9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9bnVsbCxlPWYoKSxnPWIueCxoPWIueSxpPWIucG9zaXRpb25UbztpZihpJiYib3JpZ2luIiE9PWkpaWYoIndpbmRvdyI9PT1pKWc9ZS5jeC8yK2UueCxoPWUuY3kvMitlLnk7ZWxzZXt0cnl7ZD1hKGkpfWNhdGNoKGope2Q9bnVsbH1kJiYoZC5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWQubGVuZ3RoJiYoZD1udWxsKSl9cmV0dXJuIGQmJihjPWQub2Zmc2V0KCksZz1jLmxlZnQrZC5vdXRlcldpZHRoKCkvMixoPWMudG9wK2Qub3V0ZXJIZWlnaHQoKS8yKSwoIm51bWJlciIhPT1hLnR5cGUoZyl8fGlzTmFOKGcpKSYmKGc9ZS5jeC8yK2UueCksKCJudW1iZXIiIT09YS50eXBlKGgpfHxpc05hTihoKSkmJihoPWUuY3kvMitlLnkpLHt4OmcseTpofX0sX3JlcG9zaXRpb246ZnVuY3Rpb24oYSl7YT17eDphLngseTphLnkscG9zaXRpb25UbzphLnBvc2l0aW9uVG99LHRoaXMuX3RyaWdnZXIoImJlZm9yZXBvc2l0aW9uIixkLGEpLHRoaXMuX3VpLmNvbnRhaW5lci5vZmZzZXQodGhpcy5fcGxhY2VtZW50Q29vcmRzKHRoaXMuX2Rlc2lyZWRDb29yZHMoYSkpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX3JlcG9zaXRpb24oYSl9LF9vcGVuUHJlcmVxc0NvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9pc09wZW49ITAsdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fdWkuY29udGFpbmVyLmF0dHIoInRhYmluZGV4IiwiMCIpLmZvY3VzKCksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9LF9vcGVuOmZ1bmN0aW9uKGIpe3ZhciBjPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxiKSxkPWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksYz0hIWImJmJbMV0sZD1hLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksZT0hIWQmJmRbMV0sZj1hLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBudWxsIT09ZCYmIjQuMCI9PT1lJiZjJiZjPjUzNC4xMyYmIWY/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249Yy50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihjLnRyYW5zaXRpb24pLHRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fc2V0VGhlbWUodGhpcy5fcGFnZS5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLl9wYWdlLCJjIikpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5fcmVwb3NpdGlvbihjKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZkJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX2Nsb3NlUHJlcmVxU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXFDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fdWkuY29udGFpbmVyO2IucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxhLm1vYmlsZS5wb3B1cC5hY3RpdmU9ZCxhKCI6Zm9jdXMiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXM6dGhpcy5fcHJlcmVxc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0VGhlbWUoIm5vbmUiKSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZSgpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl91aS5wbGFjZWhvbGRlci5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXthLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpfSxfY2xvc2VQb3B1cDpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnMsaD0hMTtiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksZy5jb250YWluZXIudW5iaW5kKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpfSxfYmluZENvbnRhaW5lckNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNvbnRhaW5lci5vbmUodGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LG9wZW46ZnVuY3Rpb24oYyl7dmFyIGQsZSxmLGcsaCxpLGo9dGhpcyxrPXRoaXMub3B0aW9ucztpZighYS5tb2JpbGUucG9wdXAuYWN0aXZlKXtpZihhLm1vYmlsZS5wb3B1cC5hY3RpdmU9dGhpcyx0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLCFrLmhpc3RvcnkpcmV0dXJuIGouX29wZW4oYyksai5fYmluZENvbnRhaW5lckNsb3NlKCksai5lbGVtZW50LmRlbGVnYXRlKGsuY2xvc2VMaW5rU2VsZWN0b3Isay5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7ai5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHZvaWQgMDtpZihpPWEubW9iaWxlLnVybEhpc3RvcnksZT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGY9YS5tb2JpbGUuYWN0aXZlUGFnZSxnPWYuaXMoIi51aS1kaWFsb2ciKSx0aGlzLl9teVVybD1kPWkuZ2V0QWN0aXZlKCkudXJsLGg9ZC5pbmRleE9mKGUpPi0xJiYhZyYmaS5hY3RpdmVJbmRleD4wKXJldHVybiBqLl9vcGVuKGMpLGouX2JpbmRDb250YWluZXJDbG9zZSgpLHZvaWQgMDstMSE9PWQuaW5kZXhPZihlKXx8Zz9kPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZTpkKz1kLmluZGV4T2YoIiMiKT4tMT9lOiIjIitlLDA9PT1pLmFjdGl2ZUluZGV4JiZkPT09aS5pbml0aWFsRHN0JiYoZCs9ZSksYShiKS5vbmUoImJlZm9yZW5hdmlnYXRlIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksai5fb3BlbihjKSxqLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxhLm1vYmlsZS5uYXZpZ2F0ZShkLHtyb2xlOiJkaWFsb2cifSl9fSxjbG9zZTpmdW5jdGlvbigpe2EubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXMmJih0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSl9fSksYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluaz1mdW5jdGlvbihiKXt2YXIgYyxkPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZT0wPT09ZC5sZW5ndGg/YSgiYm9keSIpOmQsZj1hKGEubW9iaWxlLnBhdGgucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gsZVswXSk7Zi5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGM9Yi5vZmZzZXQoKSxmLnBvcHVwKCJvcGVuIix7eDpjLmxlZnQrYi5vdXRlcldpZHRoKCkvMix5OmMudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25UbzpiLmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBjPWIucGFyZW50KCkucGFyZW50KCk7Yy5oYXNDbGFzcygidWktbGkiKSYmKGI9Yy5wYXJlbnQoKSksYi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2ViZWZvcmVjaGFuZ2UiLGZ1bmN0aW9uKGIsYyl7InBvcHVwIj09PWMub3B0aW9ucy5yb2xlJiYoYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluayhjLm9wdGlvbnMubGluayksYi5wcmV2ZW50RGVmYXVsdCgpKX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5wb3B1cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD1mdW5jdGlvbihkKXt2YXIgZSxmLGcsaD0oZC5zZWxlY3QsZC5fZGVzdHJveSksaT1kLnNlbGVjdElELGo9aT9pOihhLm1vYmlsZS5uc3x8IiIpKyJ1dWlkLSIrZC51dWlkLGs9aisiLWxpc3Rib3giLGw9aisiLWRpYWxvZyIsbT1kLmxhYmVsLG49ZC5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxvPWQuX3NlbGVjdE9wdGlvbnMoKSxwPWQuaXNNdWx0aXBsZT1kLnNlbGVjdFswXS5tdWx0aXBsZSxxPWkrIi1idXR0b24iLHI9aSsiLW1lbnUiLHM9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgaWQ9JyIrbCsiJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2Qub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrZC5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+IittLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSx0PWEoIjxkaXYgaWQ9JyIraysiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIoZC5zZWxlY3QpLnBvcHVwKHt0aGVtZTpkLm9wdGlvbnMub3ZlcmxheVRoZW1lfSksdT1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpyLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOnF9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixkLm9wdGlvbnMudGhlbWUpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZSIsZC5vcHRpb25zLmRpdmlkZXJUaGVtZSkuYXBwZW5kVG8odCksdj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitkLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8odCksdz1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8odik7ZC5pc011bHRpcGxlJiYoZz1hKCI8YT4iLHt0ZXh0OmQub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8odikuYnV0dG9uTWFya3VwKCkpLGEuZXh0ZW5kKGQse3NlbGVjdDpkLnNlbGVjdCxzZWxlY3RJRDppLGJ1dHRvbklkOnEsbWVudUlkOnIscG9wdXBJRDprLGRpYWxvZ0lEOmwsdGhpc1BhZ2U6bixtZW51UGFnZTpzLGxhYmVsOm0sc2VsZWN0T3B0aW9uczpvLGlzTXVsdGlwbGU6cCx0aGVtZTpkLm9wdGlvbnMudGhlbWUsbGlzdGJveDp0LGxpc3Q6dSxoZWFkZXI6dixoZWFkZXJUaXRsZTp3LGhlYWRlckNsb3NlOmcsbWVudVBhZ2VDb250ZW50OmUsbWVudVBhZ2VDbG9zZTpmLHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyhbISIjJCUmJygpKissLi86Ozw9Pj9AW1xdXmB7fH1+XSkvZywiXFwkMSIpfTtjLnJlZnJlc2goKSxjLl9vcmlnVGFiSW5kZXg9PT1iJiYoYy5fb3JpZ1RhYkluZGV4PW51bGw9PT1jLnNlbGVjdFswXS5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iik/ITE6Yy5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksYy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCksYy5idXR0b24uZm9jdXMoKX0pLGMuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbihiKXtjLm9wdGlvbnMuZGlzYWJsZWR8fGMuaXNPcGVufHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKGMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PWMubWVudVR5cGU/Yy5idXR0b24uYXR0cigiaHJlZiIsIiMiK2UoYy5wb3B1cElEKSkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOmMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIitlKGMuZGlhbG9nSUQpKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLGMuaXNPcGVuPSEwKX0pLGMubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmJpbmQoImZvY3VzaW4iLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmF0dHIoInRhYmluZGV4IiwiMCIpLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoImZvY3Vzb3V0IixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIi0xIikudHJpZ2dlcigidm1vdXNlb3V0Iil9KS5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBlPWMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZj1jLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmluZGV4KHRoaXMpLGc9Yy5fc2VsZWN0T3B0aW9ucygpLmVxKGYpWzBdO2cuc2VsZWN0ZWQ9Yy5pc011bHRpcGxlPyFnLnNlbGVjdGVkOiEwLGMuaXNNdWx0aXBsZSYmYSh0aGlzKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixnLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFnLnNlbGVjdGVkKSwoYy5pc011bHRpcGxlfHxlIT09ZikmJmMuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLGMuaXNNdWx0aXBsZT9jLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmVxKGYpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKTpjLmNsb3NlKCksYi5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYyxlLGY9YShiLnRhcmdldCksZz1mLmNsb3Nlc3QoImxpIik7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSAzODpyZXR1cm4gYz1nLnByZXYoKS5ub3QoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksYy5pcygiLnVpLWxpLWRpdmlkZXIiKSYmKGM9Yy5wcmV2KCkpLGMubGVuZ3RoJiYoZi5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGMuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrZC5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDQwOnJldHVybiBlPWcubmV4dCgpLGUuaXMoIi51aS1saS1kaXZpZGVyIikmJihlPWUubmV4dCgpKSxlLmxlbmd0aCYmKGYuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxlLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBmLnRyaWdnZXIoImNsaWNrIiksITF9fSksYy5tZW51UGFnZS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChjLnRoaXNQYWdlKX0pLGMubGlzdGJveC5iaW5kKCJwb3B1cGFmdGVyY2xvc2UiLGZ1bmN0aW9uKCl7Yy5jbG9zZSgpfSksYy5pc011bHRpcGxlJiZjLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7cmV0dXJuIm92ZXJsYXkiPT09Yy5tZW51VHlwZT8oYy5jbG9zZSgpLCExKTp2b2lkIDB9KSxjLnRoaXNQYWdlLmFkZERlcGVuZGVudHModGhpcy5tZW51UGFnZSl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpO3JldHVybiBiLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkiKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXM7dGhpcy5lbGVtZW50LHRoaXMuaXNNdWx0aXBsZSwoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmQuX2J1aWxkTGlzdCgpLGM9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxkLnNldEJ1dHRvblRleHQoKSxkLnNldEJ1dHRvbkNvdW50KCksZC5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsYyk+LTEpe3ZhciBlPWEodGhpcyk7ZS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksZC5pc011bHRpcGxlP2UuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOmUuaXMoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIik/ZS5uZXh0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmUuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfX0pfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXt2YXIgYT10aGlzOyJwYWdlIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX19LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljaygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe3ZhciBiPWMubGlzdC5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIGEiKTswPT09Yi5sZW5ndGgmJihiPWMubGlzdC5maW5kKCJsaS51aS1idG46bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkgYSIpKSxiLmZpcnN0KCkuZm9jdXMoKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSl9dmFyIGM9dGhpcyxlPWEubW9iaWxlLndpbmRvdyxmPWMubGlzdC5wYXJlbnQoKSxnPWYub3V0ZXJIZWlnaHQoKSxoPShmLm91dGVyV2lkdGgoKSxhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGUuc2Nyb2xsVG9wKCkpLGk9Yy5idXR0b24ub2Zmc2V0KCkudG9wLGo9ZS5oZWlnaHQoKTtlLndpZHRoKCksZz5qLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYy5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYy5tZW51UGFnZUNvbnRlbnQ9cy5maW5kKCIudWktY29udGVudCIpLGMubWVudVBhZ2VDbG9zZT1zLmZpbmQoIi51aS1oZWFkZXIgYSIpLGMudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09aCYmaT5qJiZjLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixpKX0pLGMubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtiKCl9KS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2MuY2xvc2UoKX0pLGMubWVudVR5cGU9InBhZ2UiLGMubWVudVBhZ2VDb250ZW50LmFwcGVuZChjLmxpc3QpLGMubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYy5sYWJlbC50ZXh0KCkpKTooYy5tZW51VHlwZT0ib3ZlcmxheSIsYy5saXN0Ym94Lm9uZSgicG9wdXBhZnRlcm9wZW4iLGIpKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLnBsYWNlaG9sZGVyLGY9ITAsZz1iLmlzTXVsdGlwbGU/ImNoZWNrYm94LW9mZiI6ImZhbHNlIjtiLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95Iik7Zm9yKHZhciBoLGk9Yi5zZWxlY3QuZmluZCgib3B0aW9uIiksaj1pLmxlbmd0aCxrPXRoaXMuc2VsZWN0WzBdLGw9ImRhdGEtIithLm1vYmlsZS5ucyxtPWwrIm9wdGlvbi1pbmRleCIsbj1sKyJpY29uIixvPWwrInJvbGUiLHA9bCsicGxhY2Vob2xkZXIiLHE9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj0hMSxzPTA7aj5zO3MrKyxyPSExKXt2YXIgdD1pW3NdLHU9YSh0KSx2PXQucGFyZW50Tm9kZSx3PXUudGV4dCgpLHg9Yy5jcmVhdGVFbGVtZW50KCJhIikseT1bXTtpZih4LnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSx4LmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUodykpLHYhPT1rJiYib3B0Z3JvdXAiPT09di5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgej12LmdldEF0dHJpYnV0ZSgibGFiZWwiKTtpZih6IT09aCl7dmFyIEE9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO0Euc2V0QXR0cmlidXRlKG8sImxpc3QtZGl2aWRlciIpLEEuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksQS5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxBLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoeikpLHEuYXBwZW5kQ2hpbGQoQSksaD16fX0hZnx8dC5nZXRBdHRyaWJ1dGUoInZhbHVlIikmJjAhPT13Lmxlbmd0aCYmIXUuanFtRGF0YSgicGxhY2Vob2xkZXIiKXx8KGY9ITEscj0hMCxudWxsPT09dC5nZXRBdHRyaWJ1dGUocCkmJih0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHI9ITApLHQuc2V0QXR0cmlidXRlKHAsITApLGQuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZ5LnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSxlIT09dyYmKGU9Yi5wbGFjZWhvbGRlcj13KSk7dmFyIEI9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO3QuZGlzYWJsZWQmJih5LnB1c2goInVpLWRpc2FibGVkIiksQi5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSksQi5zZXRBdHRyaWJ1dGUobSxzKSxCLnNldEF0dHJpYnV0ZShuLGcpLHImJkIuc2V0QXR0cmlidXRlKHAsITApLEIuY2xhc3NOYW1lPXkuam9pbigiICIpLEIuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIikseC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxCLmFwcGVuZENoaWxkKHgpLHEuYXBwZW5kQ2hpbGQoQil9Yi5saXN0WzBdLmFwcGVuZENoaWxkKHEpLHRoaXMuaXNNdWx0aXBsZXx8ZS5sZW5ndGg/dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpOnRoaXMuaGVhZGVyLmhpZGUoKSxiLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2xvc2UoKSx0aGlzLl9vcmlnVGFiSW5kZXghPT1iJiYodGhpcy5fb3JpZ1RhYkluZGV4IT09ITE/dGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLHRoaXMuX29yaWdUYWJJbmRleCk6dGhpcy5zZWxlY3QucmVtb3ZlQXR0cigidGFiaW5kZXgiKSksdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyJiZ0aGlzLl9zZWxlY3RPcHRpb25zKCkucmVtb3ZlQXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJwbGFjZWhvbGRlciIpLHRoaXMubGlzdGJveC5yZW1vdmUoKSx0aGlzLm1lbnVQYWdlLnJlbW92ZSgpLGguYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfTthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5kYXRhKCJtb2JpbGUtc2VsZWN0bWVudSIpO2Mub3B0aW9ucy5uYXRpdmVNZW51fHwwIT09Yy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGh8fGQoYyl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHtvcHRpb25zOntzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGQ9e2lubmVyOmEoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksbGVnZW5kOmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+Iil9LGU9Yy5jaGlsZHJlbigibGVnZW5kIiksZj10aGlzO2Mud3JhcElubmVyKGQuaW5uZXIpLGUubGVuZ3RoJiZkLmxlZ2VuZC5hcHBlbmQoZSkuaW5zZXJ0QmVmb3JlKGMuY2hpbGRyZW4oMCkpLGMuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIiksYS5leHRlbmQodGhpcyx7X2luaXRpYWxSZWZyZXNoOiEwfSksYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhLGMpe2Yub3B0aW9uc1thXT1iLGYuX3NldE9wdGlvbihhLGMsITApfSl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT0iX3NldCIrYy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStjLnNsaWNlKDEpO3RoaXNbZV0hPT1iJiZ0aGlzW2VdKGQpLHRoaXMuX3N1cGVyKGMsZCksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKStjLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGQpfSxfc2V0VHlwZTpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIithKSx0aGlzLnJlZnJlc2goKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldFNoYWRvdzpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGM9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmdGhpcy5lbGVtZW50LmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGIsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXMoYixjKTpiLGMpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKSxhKGZ1bmN0aW9uKCl7YS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNvbnRyb2xncm91cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0pfShhKSxmdW5jdGlvbihhKXthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5maWx0ZXIoIjpqcW1EYXRhKHJlbD0ncG9wdXAnKVtocmVmXVtocmVmIT0nJ10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPWEodGhpcykuYXR0cigiaHJlZiIpLGU9ZC5zdWJzdHJpbmcoMSk7Yi5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxiLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixlKSxiLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITEpLGEoYykub24oInBvcHVwYWZ0ZXJvcGVuIixkLGZ1bmN0aW9uKCl7Yi5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKX0pLm9uKCJwb3B1cGFmdGVyY2xvc2UiLGQsZnVuY3Rpb24oKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITEpfSl9KS5lbmQoKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuZml4ZWR0b29sYmFyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3Zpc2libGVPblBhZ2VTaG93OiEwLGRpc2FibGVQYWdlWm9vbTohMCx0cmFuc2l0aW9uOiJzbGlkZSIsZnVsbHNjcmVlbjohMSx0YXBUb2dnbGU6ITAsdGFwVG9nZ2xlQmxhY2tsaXN0OiJhLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlbiIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3JldHVybiFhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbn0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5vcHRpb25zLGQ9Yi5lbGVtZW50LGU9ZC5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixmPWQuY2xvc2VzdCgiLnVpLXBhZ2UiKTtyZXR1cm4gYy5zdXBwb3J0QmxhY2tsaXN0KCk/KGIuZGVzdHJveSgpLHZvaWQgMCk6KGQuYWRkQ2xhc3MoInVpLSIrZSsiLWZpeGVkIiksYy5mdWxsc2NyZWVuPyhkLmFkZENsYXNzKCJ1aS0iK2UrIi1mdWxsc2NyZWVuIiksZi5hZGRDbGFzcygidWktcGFnZS0iK2UrIi1mdWxsc2NyZWVuIikpOmYuYWRkQ2xhc3MoInVpLXBhZ2UtIitlKyItZml4ZWQiKSxhLmV4dGVuZCh0aGlzLHtfdGhpc1BhZ2U6bnVsbH0pLGIuX2FkZFRyYW5zaXRpb25DbGFzcygpLGIuX2JpbmRQYWdlRXZlbnRzKCksYi5fYmluZFRvZ2dsZUhhbmRsZXJzKCksdm9pZCAwKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJiJub25lIiE9PWEmJigic2xpZGUiPT09YSYmKGE9dGhpcy5lbGVtZW50LmlzKCIudWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl90aGlzUGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSx0aGlzLl9vbih0aGlzLl90aGlzUGFnZSx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5fdGhpc1BhZ2UpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMuX3RoaXNQYWdlKSx0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29uKGEubW9iaWxlLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJ1cGRhdGVQYWdlUGFkZGluZyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5vcHRpb25zO2lmKGQuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksZC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKGEubW9iaWxlLndpbmRvdywidGhyb3R0bGVkcmVzaXplIiksZC50cmFja1BlcnNpc3RlbnRUb29sYmFycyl7dmFyIGU9YSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGY9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGc9ZS5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitlLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLGg9Zi5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitmLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpOyhnLmxlbmd0aHx8aC5sZW5ndGgpJiYoZy5hZGQoaCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksYy5uZXh0UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2gucHJlcGVuZFRvKHRoaXMpLGcuYXBwZW5kVG8odGhpcyl9KSl9fSxfdmlzaWJsZTohMCx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmlzKCIudWktaGVhZGVyIiksZj1wYXJzZUZsb2F0KGQuY3NzKGU/InRvcCI6ImJvdHRvbSIpKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9YyYmYy50eXBlPT09YiYmY3x8dGhpcy5fdGhpc1BhZ2V8fGQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhKGMpLmNzcygicGFkZGluZy0iKyhlPyJ0b3AiOiJib3R0b20iKSxkLm91dGVySGVpZ2h0KCkrZikpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihiKXt2YXIgYz1hLm1vYmlsZS53aW5kb3csZD10aGlzLmVsZW1lbnQsZT1jLnNjcm9sbFRvcCgpLGY9ZC5oZWlnaHQoKSxnPWQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5oZWlnaHQoKSxoPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGk9ZC5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIjtyZXR1cm4hYiYmKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYibm9uZSIhPT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmKCJoZWFkZXIiPT09aSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZlPmZ8fCJmb290ZXIiPT09aSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZnLWY+ZStoKXx8dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pfSxzaG93OmZ1bmN0aW9uKGEpe3ZhciBiPSJ1aS1maXhlZC1oaWRkZW4iLGM9dGhpcy5lbGVtZW50O3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5yZW1vdmVDbGFzcygib3V0ICIrYikuYWRkQ2xhc3MoImluIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJpbiIpfSk6Yy5yZW1vdmVDbGFzcyhiKSx0aGlzLl92aXNpYmxlPSEwfSxoaWRlOmZ1bmN0aW9uKGEpe3ZhciBiPSJ1aS1maXhlZC1oaWRkZW4iLGM9dGhpcy5lbGVtZW50LGQ9Im91dCIrKCJzbGlkZSI9PT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbj8iIHJldmVyc2UiOiIiKTt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MuYWRkQ2xhc3MoZCkucmVtb3ZlQ2xhc3MoImluIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpfSk6Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKSx0aGlzLl92aXNpYmxlPSExfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX3Zpc2libGU/ImhpZGUiOiJzaG93Il0oKX0sX2JpbmRUb2dnbGVIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLGU9ZC5vcHRpb25zLGY9ZC5lbGVtZW50LGc9ITA7Zi5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7ZS50YXBUb2dnbGUmJiFhKGIudGFyZ2V0KS5jbG9zZXN0KGUudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmQudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IixmdW5jdGlvbihmKXtzY3JlZW4ud2lkdGg8MTAyNSYmYShmLnRhcmdldCkuaXMoZS5oaWRlRHVyaW5nRm9jdXMpJiYhYShmLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmKCJmb2N1c291dCIhPT1mLnR5cGV8fGc/ImZvY3VzaW4iPT09Zi50eXBlJiZnJiYoY2xlYXJUaW1lb3V0KGIpLGc9ITEsYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5oaWRlKCl9LDApKTooZz0hMCxjbGVhclRpbWVvdXQoYyksYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zaG93KCl9LDApKSl9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmlzKCIudWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLCEwKSxhLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuZml4ZWR0b29sYmFyIixhLm1vYmlsZS5maXhlZHRvb2xiYXIse19jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX3dvcmthcm91bmRzKCl9LF93b3JrYXJvdW5kczpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sYz1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZigiaVBob25lIik+LTF8fGIuaW5kZXhPZigiaVBhZCIpPi0xfHxiLmluZGV4T2YoImlQb2QiKT4tMSllPSJpb3MiO2Vsc2V7aWYoIShhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSkpcmV0dXJuO2U9ImFuZHJvaWQifWlmKCJpb3MiPT09ZSlmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO2Vsc2V7aWYoISgiYW5kcm9pZCI9PT1lJiZkJiY1MzQ+ZCkpcmV0dXJuO2YuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKX19LF92aWV3cG9ydE9mZnNldDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuaXMoIi51aS1oZWFkZXIiKSxkPU1hdGguYWJzKGIub2Zmc2V0KCkudG9wLWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSk7CnJldHVybiBjfHwoZD1NYXRoLnJvdW5kKGQtYS5tb2JpbGUud2luZG93LmhlaWdodCgpK2Iub3V0ZXJIZWlnaHQoKSktNjApLGR9LF9iaW5kU2Nyb2xsV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fb24oYS5tb2JpbGUud2luZG93LHtzY3JvbGxzdG9wOmZ1bmN0aW9uKCl7dmFyIGE9Yi5fdmlld3BvcnRPZmZzZXQoKTthPjImJmIuX3Zpc2libGUmJmIuX3RyaWdnZXJSZWRyYXcoKX19KX0sX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4ZWQiKX0sX3RyaWdnZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUZsb2F0KGEoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iKSk7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisxKyJweCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIixiKyJweCIpfSwwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeCIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFuZWwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlUGFuZWw6InVpLXBhZ2UtcGFuZWwiLHBhZ2VQYW5lbE9wZW46InVpLXBhZ2UtcGFuZWwtb3BlbiIsY29udGVudFdyYXA6InVpLXBhbmVsLWNvbnRlbnQtd3JhcCIsY29udGVudFdyYXBPcGVuOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAtb3BlbiIsY29udGVudFdyYXBDbG9zZWQ6InVpLXBhbmVsLWNvbnRlbnQtd3JhcC1jbG9zZWQiLGNvbnRlbnRGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhciIsY29udGVudEZpeGVkVG9vbGJhck9wZW46InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhci1vcGVuIixjb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXItY2xvc2VkIixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZToiYyIscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdwYW5lbCcpIixzd2lwZUNsb3NlOiEwLHBvc2l0aW9uRml4ZWQ6ITF9LF9wYW5lbElEOm51bGwsX2Nsb3NlTGluazpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3BhbmVsSW5uZXI6bnVsbCxfd3JhcHBlcjpudWxsLF9maXhlZFRvb2xiYXI6bnVsbCxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuZWxlbWVudCxkPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZT1mdW5jdGlvbigpe3ZhciBiPWEuZGF0YShkWzBdLCJtb2JpbGVQYWdlIikub3B0aW9ucy50aGVtZSxjPSJ1aS1ib2R5LSIrYjtyZXR1cm4gY30sZj1mdW5jdGlvbigpe3ZhciBhPWMuZmluZCgiLiIrYi5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcik7cmV0dXJuIDA9PT1hLmxlbmd0aCYmKGE9Yy5jaGlsZHJlbigpLndyYXBBbGwoJzxkaXYgY2xhc3M9IicrYi5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcisnIiAvPicpLnBhcmVudCgpKSxhfSxnPWZ1bmN0aW9uKCl7dmFyIGM9ZC5maW5kKCIuIitiLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcCk7cmV0dXJuIDA9PT1jLmxlbmd0aCYmKGM9ZC5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykpLCAudWktY29udGVudDpub3QoOmpxbURhdGEocm9sZT0ncG9wdXAnKSksIC51aS1mb290ZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSIpLndyYXBBbGwoJzxkaXYgY2xhc3M9IicrYi5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXArIiAiK2UoKSsnIiAvPicpLnBhcmVudCgpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYi5vcHRpb25zLmFuaW1hdGUmJmMuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGN9LGg9ZnVuY3Rpb24oKXt2YXIgYz1kLmZpbmQoIi4iK2Iub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpO3JldHVybiAwPT09Yy5sZW5ndGgmJihjPWQuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpLCAudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcyhiLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmIub3B0aW9ucy5hbmltYXRlJiZjLmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpKSxjfTthLmV4dGVuZCh0aGlzLHtfcGFuZWxJRDpjLmF0dHIoImlkIiksX2Nsb3NlTGluazpjLmZpbmQoIjpqcW1EYXRhKHJlbD0nY2xvc2UnKSIpLF9wYWdlOmMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksX3BhZ2VUaGVtZTplKCksX3BhbmVsSW5uZXI6ZigpLF93cmFwcGVyOmcoKSxfZml4ZWRUb29sYmFyOmgoKX0pLGIuX2FkZFBhbmVsQ2xhc3NlcygpLGIuX3dyYXBwZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLGIuX2ZpeGVkVG9vbGJhci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxiLl9wYWdlLmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLnBhZ2VQYW5lbCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZiLm9wdGlvbnMuYW5pbWF0ZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpLGIuX2JpbmRVcGRhdGVMYXlvdXQoKSxiLl9iaW5kQ2xvc2VFdmVudHMoKSxiLl9iaW5kTGlua0xpc3RlbmVycygpLGIuX2JpbmRQYWdlRXZlbnRzKCksYi5vcHRpb25zLmRpc21pc3NpYmxlJiZiLl9jcmVhdGVNb2RhbCgpLGIuX2JpbmRTd2lwZUV2ZW50cygpfSxfY3JlYXRlTW9kYWw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2IuX21vZGFsPWEoIjxkaXYgY2xhc3M9JyIrYi5vcHRpb25zLmNsYXNzZXMubW9kYWwrIicgZGF0YS1wYW5lbGlkPSciK2IuX3BhbmVsSUQrIic+PC9kaXY+Iikub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyh0aGlzLl9wYWdlKX0sX2dldFBvc0Rpc3BsYXlDbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhKyItcG9zaXRpb24tIit0aGlzLm9wdGlvbnMucG9zaXRpb24rIiAiK2ErIi1kaXNwbGF5LSIrdGhpcy5vcHRpb25zLmRpc3BsYXl9LF9nZXRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCsiICIrdGhpcy5fZ2V0UG9zRGlzcGxheUNsYXNzZXModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwpKyIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbENsb3NlZDtyZXR1cm4gdGhpcy5vcHRpb25zLnRoZW1lJiYoYSs9IiB1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmKGErPSIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKSxhfSxfYWRkUGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMuX2dldFBhbmVsQ2xhc3NlcygpKX0sX2JpbmRDbG9zZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5fY2xvc2VMaW5rLm9uKCJjbGljay5wYW5lbCIsZnVuY3Rpb24oYil7cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxhLmNsb3NlKCksITF9KSxhLmVsZW1lbnQub24oImNsaWNrLnBhbmVsIiwiYTpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSl9LF9wb3NpdGlvblBhbmVsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3BhbmVsSW5uZXIub3V0ZXJIZWlnaHQoKSxkPWM+YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7ZHx8IWIub3B0aW9ucy5wb3NpdGlvbkZpeGVkPyhkJiYoYi5fdW5maXhQYW5lbCgpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodChjKSksYi5fc2Nyb2xsSW50b1ZpZXcoYykpOmIuX2ZpeFBhbmVsKCl9LF9zY3JvbGxJbnRvVmlldzpmdW5jdGlvbihjKXtjPGEoYikuc2Nyb2xsVG9wKCkmJmIuc2Nyb2xsVG8oMCwwKX0sX2JpbmRGaXhMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuX29uKGEoYikse3Rocm90dGxlZHJlc2l6ZToiX3Bvc2l0aW9uUGFuZWwifSl9LF91bmJpbmRGaXhMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuX29mZihhKGIpLCJ0aHJvdHRsZWRyZXNpemUiKX0sX3VuZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2ZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9iaW5kVXBkYXRlTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmVsZW1lbnQub24oInVwZGF0ZWxheW91dCIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLl9wb3NpdGlvblBhbmVsKCl9KX0sX2JpbmRMaW5rTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztiLl9wYWdlLm9uKCJjbGljay5wYW5lbCIsImEiLGZ1bmN0aW9uKGMpe2lmKHRoaXMuaHJlZi5zcGxpdCgiIyIpWzFdPT09Yi5fcGFuZWxJRCYmYi5fcGFuZWxJRCE9PWQpe2MucHJldmVudERlZmF1bHQoKTt2YXIgZSxmPWEodGhpcyk7cmV0dXJuIGYuaGFzQ2xhc3MoInVpLWxpbmsiKXx8KGU9Zi5wYXJlbnQoKS5wYXJlbnQoKSxlLmhhc0NsYXNzKCJ1aS1saSIpJiYoZj1lLnBhcmVudCgpKSxmLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSxiLnRvZ2dsZSgpLCExfX0pfSxfYmluZFN3aXBlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX21vZGFsP2EuZWxlbWVudC5hZGQoYS5fbW9kYWwpOmEuZWxlbWVudDthLm9wdGlvbnMuc3dpcGVDbG9zZSYmKCJsZWZ0Ij09PWEub3B0aW9ucy5wb3NpdGlvbj9iLm9uKCJzd2lwZWxlZnQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSk6Yi5vbigic3dpcGVyaWdodC5wYW5lbCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5fcGFnZS5vbigicGFuZWxiZWZvcmVvcGVuIixmdW5jdGlvbihiKXthLl9vcGVuJiZiLnRhcmdldCE9PWEuZWxlbWVudFswXSYmYS5jbG9zZSgpfSkub24oInBhZ2VoaWRlIixmdW5jdGlvbigpe2EuX29wZW4mJmEuY2xvc2UoITApfSkub24oImtleXVwLnBhbmVsIixmdW5jdGlvbihiKXsyNz09PWIua2V5Q29kZSYmYS5fb3BlbiYmYS5jbG9zZSgpfSl9LF9vcGVuOiExLF9jb250ZW50V3JhcE9wZW5DbGFzc2VzOm51bGwsX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzOm51bGwsX21vZGFsT3BlbkNsYXNzZXM6bnVsbCxvcGVuOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9Yy5vcHRpb25zLGU9ZnVuY3Rpb24oKXtjLl9wYWdlLm9mZigicGFuZWxjbG9zZSIpLGMuX3BhZ2UuanFtRGF0YSgicGFuZWwiLCJvcGVuIiksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZWxlbWVudC5hZGQoYy5fd3JhcHBlcikub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5vcHRpb25zLnRoZW1lJiYib3ZlcmxheSIhPT1jLm9wdGlvbnMuZGlzcGxheSYmYy5fcGFnZS5yZW1vdmVDbGFzcyhjLl9wYWdlVGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5vcHRpb25zLnRoZW1lKSxjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsQ2xvc2VkKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxPcGVuKSxjLl9wb3NpdGlvblBhbmVsKCksYy5vcHRpb25zLnRoZW1lJiYib3ZlcmxheSIhPT1jLm9wdGlvbnMuZGlzcGxheSYmYy5fd3JhcHBlci5jc3MoIm1pbi1oZWlnaHQiLGMuX3BhZ2UuY3NzKCJtaW4taGVpZ2h0IikpLGMuX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLmNvbnRlbnRXcmFwKSxjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5jb250ZW50V3JhcENsb3NlZCkuYWRkQ2xhc3MoYy5fY29udGVudFdyYXBPcGVuQ2xhc3NlcysiICIrZC5jbGFzc2VzLmNvbnRlbnRXcmFwT3BlbiksYy5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpLGMuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhckNsb3NlZCkuYWRkQ2xhc3MoYy5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXMrIiAiK2QuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyT3BlbiksYy5fbW9kYWxPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMubW9kYWwpKyIgIitkLmNsYXNzZXMubW9kYWxPcGVuLGMuX21vZGFsJiZjLl9tb2RhbC5hZGRDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2MuZWxlbWVudC5hZGQoYy5fd3JhcHBlcikub2ZmKGMuX3RyYW5zaXRpb25FbmRFdmVudHMsZiksYy5fcGFnZS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZVBhbmVsT3BlbiksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcigib3BlbiIpfTt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoPDAmJihiPSEwKSxjLl90cmlnZ2VyKCJiZWZvcmVvcGVuIiksIm9wZW4iPT09Yy5fcGFnZS5qcW1EYXRhKCJwYW5lbCIpP2MuX3BhZ2Uub24oInBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7ZSgpfSk6ZSgpLGMuX29wZW49ITB9fSxjbG9zZTpmdW5jdGlvbihiKXtpZih0aGlzLl9vcGVuKXt2YXIgYz10aGlzLm9wdGlvbnMsZD10aGlzLGU9ZnVuY3Rpb24oKXshYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZjLmFuaW1hdGU/ZC5lbGVtZW50LmFkZChkLl93cmFwcGVyKS5vbihkLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpOnNldFRpbWVvdXQoZiwwKSxkLl9wYWdlLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlUGFuZWxPcGVuKSxkLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhbmVsT3BlbiksZC5fd3JhcHBlci5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuY29udGVudFdyYXBPcGVuKSxkLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSxkLl9tb2RhbCYmZC5fbW9kYWwucmVtb3ZlQ2xhc3MoZC5fbW9kYWxPcGVuQ2xhc3Nlcyl9LGY9ZnVuY3Rpb24oKXtkLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWQub3B0aW9ucy5kaXNwbGF5JiYoZC5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2Qub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoZC5fcGFnZVRoZW1lKSxkLl93cmFwcGVyLmNzcygibWluLWhlaWdodCIsIiIpKSxkLmVsZW1lbnQuYWRkKGQuX3dyYXBwZXIpLm9mZihkLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGQuZWxlbWVudC5hZGRDbGFzcyhjLmNsYXNzZXMucGFuZWxDbG9zZWQpLGQuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5fY29udGVudFdyYXBPcGVuQ2xhc3NlcykuYWRkQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKSxkLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoZC5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXMpLmFkZENsYXNzKGMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxkLl9maXhQYW5lbCgpLGQuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksZC5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLGQuX3RyaWdnZXIoImNsb3NlIil9O3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg8MCYmKGI9ITApLGQuX3RyaWdnZXIoImJlZm9yZWNsb3NlIiksZSgpLGQuX29wZW49ITF9fSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX29wZW4/ImNsb3NlIjoib3BlbiJdKCl9LF90cmFuc2l0aW9uRW5kRXZlbnRzOiJ3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIHRyYW5zaXRpb25lbmQgbXNUcmFuc2l0aW9uRW5kIixfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5jbGFzc2VzLGM9dGhpcy5vcHRpb25zLnRoZW1lLGQ9dGhpcy5lbGVtZW50LnNpYmxpbmdzKCIuIitiLnBhbmVsKS5sZW5ndGg7ZD90aGlzLl9vcGVuJiYodGhpcy5fd3JhcHBlci5yZW1vdmVDbGFzcyhiLmNvbnRlbnRXcmFwT3BlbiksdGhpcy5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKGIuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLHRoaXMuX3BhZ2UuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKGIucGFnZVBhbmVsT3BlbiksYyYmdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2MpLmFkZENsYXNzKHRoaXMuX3BhZ2VUaGVtZSkpOih0aGlzLl93cmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fcGFnZS5maW5kKCJhIikudW5iaW5kKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoYi5wYWdlUGFuZWwpLHRoaXMuX29wZW4mJih0aGlzLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyhiLnBhZ2VQYW5lbE9wZW4pLGMmJnRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitjKS5hZGRDbGFzcyh0aGlzLl9wYWdlVGhlbWUpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpKSksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYi5wYW5lbEFuaW1hdGVdLmpvaW4oIiAiKSkub2ZmKCJzd2lwZWxlZnQucGFuZWwgc3dpcGVyaWdodC5wYW5lbCIpLm9mZigicGFuZWxiZWZvcmVvcGVuIikub2ZmKCJwYW5lbGhpZGUiKS5vZmYoImtleXVwLnBhbmVsIikub2ZmKCJ1cGRhdGVsYXlvdXQiKSx0aGlzLl9jbG9zZUxpbmsub2ZmKCJjbGljay5wYW5lbCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKSx0aGlzLmVsZW1lbnQub2ZmKHRoaXMuX3RyYW5zaXRpb25FbmRFdmVudHMpLnJlbW92ZUNsYXNzKFtiLnBhbmVsVW5maXhlZCxiLnBhbmVsQ2xvc2VkLGIucGFuZWxPcGVuXS5qb2luKCIgIikpfX0pLGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnBhbmVsLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xhc3Nlczp7dGFibGU6InVpLXRhYmxlIn0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSd0YWJsZScpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5yZWZyZXNoKCEwKX0scmVmcmVzaDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGU9dGhpcy5lbGVtZW50LmZpbmQoInRoZWFkIHRyIik7YyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnRhYmxlKSxkLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQoInRyOmVxKDApIikuY2hpbGRyZW4oKSxkLmFsbEhlYWRlcnM9ZC5oZWFkZXJzLmFkZChlLmNoaWxkcmVuKCkpLGUuZWFjaChmdW5jdGlvbigpe3ZhciBmPTA7YSh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgZz1wYXJzZUludChhKHRoaXMpLmF0dHIoImNvbHNwYW4iKSwxMCksaD0iOm50aC1jaGlsZCgiKyhmKzEpKyIpIjtpZihhKHRoaXMpLmpxbURhdGEoImNvbHN0YXJ0IixmKzEpLGcpZm9yKHZhciBpPTA7Zy0xPmk7aSsrKWYrKyxoKz0iLCA6bnRoLWNoaWxkKCIrKGYrMSkrIikiO2M9PT1iJiZhKHRoaXMpLmpxbURhdGEoImNlbGxzIiwiIiksYSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsZC5lbGVtZW50LmZpbmQoInRyIikubm90KGUuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihoKSksZisrfSl9KSxjPT09YiYmdGhpcy5lbGVtZW50LnRyaWdnZXIoInJlZnJlc2giKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMubW9kZT0iY29sdW1udG9nZ2xlIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UaGVtZT1udWxsLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtblBvcHVwVGhlbWU9bnVsbCxhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UZXh0PSJDb2x1bW5zLi4uIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzPWEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3BvcHVwOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtcG9wdXAiLGNvbHVtbkJ0bjoidWktdGFibGUtY29sdW1udG9nZ2xlLWJ0biIscHJpb3JpdHlQcmVmaXg6InVpLXRhYmxlLXByaW9yaXR5LSIsY29sdW1uVG9nZ2xlVGFibGU6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZSJ9KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiOmpxbURhdGEocm9sZT0ndGFibGUnKSIsInRhYmxlY3JlYXRlIHJlZnJlc2giLGZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnLGg9YSh0aGlzKSxpPWguZGF0YSgibW9iaWxlLXRhYmxlIiksaj1jLnR5cGUsaz1pLm9wdGlvbnMsbD1hLm1vYmlsZS5ucyxtPShoLmF0dHIoImlkIil8fGsuY2xhc3Nlcy5wb3B1cCkrIi1wb3B1cCI7ImNvbHVtbnRvZ2dsZSI9PT1rLm1vZGUmJigicmVmcmVzaCIhPT1qJiYoaS5lbGVtZW50LmFkZENsYXNzKGsuY2xhc3Nlcy5jb2x1bW5Ub2dnbGVUYWJsZSksZD1hKCI8YSBocmVmPScjIittKyInIGNsYXNzPSciK2suY2xhc3Nlcy5jb2x1bW5CdG4rIicgZGF0YS0iK2wrInJlbD0ncG9wdXAnIGRhdGEtIitsKyJtaW5pPSd0cnVlJz4iK2suY29sdW1uQnRuVGV4dCsiPC9hPiIpLGU9YSgiPGRpdiBkYXRhLSIrbCsicm9sZT0ncG9wdXAnIGRhdGEtIitsKyJyb2xlPSdmaWVsZGNvbnRhaW4nIGNsYXNzPSciK2suY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIittKyInPjwvZGl2PiIpLGY9YSgiPGZpZWxkc2V0IGRhdGEtIitsKyJyb2xlPSdjb250cm9sZ3JvdXAnPjwvZmllbGRzZXQ+IikpLGkuaGVhZGVycy5ub3QoInRkIikuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpLmpxbURhdGEoInByaW9yaXR5IiksZD1hKHRoaXMpLmFkZChhKHRoaXMpLmpxbURhdGEoImNlbGxzIikpO2MmJihkLmFkZENsYXNzKGsuY2xhc3Nlcy5wcmlvcml0eVByZWZpeCtjKSwicmVmcmVzaCIhPT1qP2EoIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz4iK2EodGhpcykudGV4dCgpKyI8L2xhYmVsPiIpLmFwcGVuZFRvKGYpLmNoaWxkcmVuKDApLmpxbURhdGEoImNlbGxzIixkKS5jaGVja2JveHJhZGlvKHt0aGVtZTprLmNvbHVtblBvcHVwVGhlbWV9KTphKCIjIittKyIgZmllbGRzZXQgZGl2OmVxKCIrYisiKSIpLmZpbmQoImlucHV0IikuanFtRGF0YSgiY2VsbHMiLGQpKX0pLCJyZWZyZXNoIiE9PWomJmYuYXBwZW5kVG8oZSksZz1mPT09Yj9hKCIjIittKyIgZmllbGRzZXQiKTpmLCJyZWZyZXNoIiE9PWomJihnLm9uKCJjaGFuZ2UiLCJpbnB1dCIsZnVuY3Rpb24oKXt0aGlzLmNoZWNrZWQ/YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLnJlbW92ZUNsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLXZpc2libGUiKTphKHRoaXMpLmpxbURhdGEoImNlbGxzIikucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiIpfSksZC5pbnNlcnRCZWZvcmUoaCkuYnV0dG9uTWFya3VwKHt0aGVtZTprLmNvbHVtbkJ0blRoZW1lfSksZS5pbnNlcnRCZWZvcmUoaCkucG9wdXAoKSksaS51cGRhdGU9ZnVuY3Rpb24oKXtnLmZpbmQoImlucHV0IikuZWFjaChmdW5jdGlvbigpe3RoaXMuY2hlY2tlZD8odGhpcy5jaGVja2VkPSJ0YWJsZS1jZWxsIj09PWEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5lcSgwKS5jc3MoImRpc3BsYXkiKSwicmVmcmVzaCI9PT1qJiZhKHRoaXMpLmpxbURhdGEoImNlbGxzIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpKTphKHRoaXMpLmpxbURhdGEoImNlbGxzIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIiksYSh0aGlzKS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9KX0sYS5tb2JpbGUud2luZG93Lm9uKCJ0aHJvdHRsZWRyZXNpemUiLGkudXBkYXRlKSxpLnVwZGF0ZSgpKX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5tb2RlPSJyZWZsb3ciLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXM9YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cmVmbG93VGFibGU6InVpLXRhYmxlLXJlZmxvdyIsY2VsbExhYmVsczoidWktdGFibGUtY2VsbC1sYWJlbCJ9KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiOmpxbURhdGEocm9sZT0ndGFibGUnKSIsInRhYmxlY3JlYXRlIHJlZnJlc2giLGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcyksZD1iLnR5cGUsZT1jLmRhdGEoIm1vYmlsZS10YWJsZSIpLGY9ZS5vcHRpb25zO2lmKCJyZWZsb3ciPT09Zi5tb2RlKXsicmVmcmVzaCIhPT1kJiZlLmVsZW1lbnQuYWRkQ2xhc3MoZi5jbGFzc2VzLnJlZmxvd1RhYmxlKTt2YXIgZz1hKGUuYWxsSGVhZGVycy5nZXQoKS5yZXZlcnNlKCkpO2cuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxjPWEodGhpcykuanFtRGF0YSgiY29sc3RhcnQiKSxkPWIubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGU9YSh0aGlzKS50ZXh0KCk7aWYoIiIhPT1lKWlmKGQpe3ZhciBnPXBhcnNlSW50KGEodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxoPSIiO2cmJihoPSJ0ZDpudGgtY2hpbGQoIitnKyJuICsgIitjKyIpIiksYi5maWx0ZXIoaCkucHJlcGVuZCgiPGIgY2xhc3M9JyIrZi5jbGFzc2VzLmNlbGxMYWJlbHMrZCsiJz4iK2UrIjwvYj4iKX1lbHNlIGIucHJlcGVuZCgiPGIgY2xhc3M9JyIrZi5jbGFzc2VzLmNlbGxMYWJlbHMrIic+IitlKyI8L2I+Iil9KX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YS5vcmlnaW5hbEV2ZW50LGk9ZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LGY9TWF0aC5hYnMoaS54KSxnPU1hdGguYWJzKGkueSksaD1NYXRoLmFicyhpLnopLCFiLm9yaWVudGF0aW9uJiYoZj43fHwoaD42JiY4Pmd8fDg+aCYmZz42KSYmZj41KT9qLmVuYWJsZWQmJmouZGlzYWJsZSgpOmouZW5hYmxlZHx8ai5lbmFibGUoKX1hLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITA7dmFyIGQ9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZighKC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGQpJiZkLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEpKXJldHVybiBhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEsdm9pZCAwO3ZhciBlLGYsZyxoLGksaj1hLm1vYmlsZS56b29tO2EubW9iaWxlLmRvY3VtZW50Lm9uKCJtb2JpbGVpbml0IixmdW5jdGlvbigpe2EubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCYmYS5tb2JpbGUud2luZG93LmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixqLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixjKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZCgpe2UucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKX12YXIgZT1hKCJodG1sIiksZj0oYSgiaGVhZCIpLGEubW9iaWxlLndpbmRvdyk7YShiLmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0IiksYS5tb2JpbGUuZ3JhZGVBKCkmJihhLm1vYmlsZS5hamF4QmxhY2tsaXN0JiYoYS5tb2JpbGUuYWpheEVuYWJsZWQ9ITEpLGUuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIiksc2V0VGltZW91dChkLDVlMyksYS5leHRlbmQoYS5tb2JpbGUse2luaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUucGF0aCxlPWEoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKSxnPWIuc3RyaXBIYXNoKGIuc3RyaXBRdWVyeVBhcmFtcyhiLnBhcnNlTG9jYXRpb24oKS5oYXNoKSksaD1jLmdldEVsZW1lbnRCeUlkKGcpO2UubGVuZ3RofHwoZT1hKCJib2R5Iikud3JhcElubmVyKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+PC9kaXY+IikuY2hpbGRyZW4oMCkpLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSksYS5tb2JpbGUuZmlyc3RQYWdlPWUuZmlyc3QoKSxhLm1vYmlsZS5wYWdlQ29udGFpbmVyPWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0IiksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZi50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCksZCgpLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYShoKS5pcygnOmpxbURhdGEocm9sZT0icGFnZSIpJyl8fGEubW9iaWxlLnBhdGguaXNQYXRoKGcpfHxnPT09YS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGEubW9iaWxlLm5hdmlnYXRlKGEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOmYudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9Zy5yZXBsYWNlKCIjIiwiIikpLGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaChiLnBhcnNlTG9jYXRpb24oKS5ocmVmKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGEoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsMSksYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9YS5zdXBwb3J0LnNjcm9sbFRvcCYmMSE9PWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKT8xOjAsYS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZhLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpLGYubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpLGEuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSkpfShhLHRoaXMpfSk7Ci8qCi8vQCBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5tb2JpbGUtMS4zLjIubWluLm1hcAoqLw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:49:59 GMT",
                    "Content-Length": "145396",
                    "Date": "Fri, 07 Nov 2014 06:49:59 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
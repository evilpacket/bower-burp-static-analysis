{
    "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/source/stylesheets/1_4_0/jquery.mobile-1.4.0-alpha.2.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>location.pathname</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>e[0 ] .href= g|| location.pathname</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/source/stylesheets/1_4_0/jquery.mobile-1.4.0-alpha.2.min.js",
                "path": "/marcorinck/jquery-mobile-iscrollview/demo/source/stylesheets/1_4_0/jquery.mobile-1.4.0-alpha.2.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9tYXJjb3JpbmNrL2pxdWVyeS1tb2JpbGUtaXNjcm9sbHZpZXcvZGVtby9zb3VyY2Uvc3R5bGVzaGVldHMvMV80XzAvanF1ZXJ5Lm1vYmlsZS0xLjQuMC1hbHBoYS4yLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTg0NjY5DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ5OjQ0IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwNjo0OTo0MyBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgMS40LjAtYWxwaGEuMiB8IEdpdCBIRUFEIGhhc2g6IDFlMjc4NDQgPD4gMjAxMy0wOC0xNVQxMzo1Mzo0OVogfCAoYykgMjAxMCwgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oYSxiLGMpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCxhLGIpLGQubW9iaWxlfSk6YyhhLmpRdWVyeSxhLGIpfSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKGEsYixjLGQpeyFmdW5jdGlvbihhKXthLm1vYmlsZT17fX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246IjEuNC4wLWFscGhhLjIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGhpZGVVcmxCYXI6ITAsa2VlcE5hdGl2ZToiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MCx0b3VjaE92ZXJmbG93RW5hYmxlZDohMSxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOiJhIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOiExLGF1dG9Jbml0aWFsaXplUGFnZTohMCxwdXNoU3RhdGVFbmFibGVkOiEwLGlnbm9yZUNvbnRlbnRFbmFibGVkOiExLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGR5bmFtaWNCYXNlRW5hYmxlZDohMCxwYWdlQ29udGFpbmVyOmEoKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fSxlPWEuZmluZCxmPS8oPzpce1tcc1xTXSpcfXxcW1tcc1xTXSpcXSkkLyxnPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5leHRlbmQoYS5tb2JpbGUse25zOiIiLGdldEF0dHJpYnV0ZTpmdW5jdGlvbihiLGMpe3ZhciBkO2I9Yi5qcXVlcnk/YlswXTpiLGImJmIuZ2V0QXR0cmlidXRlJiYoZD1iLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpKTt0cnl7ZD0idHJ1ZSI9PT1kPyEwOiJmYWxzZSI9PT1kPyExOiJudWxsIj09PWQ/bnVsbDorZCsiIj09PWQ/K2Q6Zi50ZXN0KGQpP0pTT04ucGFyc2UoZCk6ZH1jYXRjaChlKXt9cmV0dXJuIGR9LG5zTm9ybWFsaXplRGljdDpkLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe3JldHVybiBkW2JdfHwoZFtiXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytiKSl9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZGF0YSgibW9iaWxlLXBhZ2UiKX19KSxhLmZuLmpxbURhdGE9ZnVuY3Rpb24oYixkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksZT1hcmd1bWVudHMubGVuZ3RoPDJ8fGQ9PT1jP3RoaXMuZGF0YShiKTp0aGlzLmRhdGEoYixkKSksZX0sYS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGMmJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSksZX0sYS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfSxhLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfSxhLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZil7cmV0dXJuIGIuaW5kZXhPZigiOmpxbURhdGEiKT4tMSYmKGI9Yi5yZXBsYWNlKGcsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpKSxlLmNhbGwodGhpcyxiLGMsZCxmKX0sYS5leHRlbmQoYS5maW5kLGUpfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChiLGMpe3ZhciBkLGYsZyxoPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1oPyhkPWIucGFyZW50Tm9kZSxmPWQubmFtZSxiLmhyZWYmJmYmJiJtYXAiPT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhnPWEoImltZ1t1c2VtYXA9IyIrZisiXSIpWzBdLCEhZyYmZShnKSk6ITEpOigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoaCk/IWIuZGlzYWJsZWQ6ImEiPT09aD9iLmhyZWZ8fGM6YykmJmUoYil9ZnVuY3Rpb24gZShiKXtyZXR1cm4gYS5leHByLmZpbHRlcnMudmlzaWJsZShiKSYmIWEoYikucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4iaGlkZGVuIj09PWEuY3NzKHRoaXMsInZpc2liaWxpdHkiKX0pLmxlbmd0aH12YXIgZj0wLGc9L151aS1pZC1cZCskLzthLnVpPWEudWl8fHt9LGEuZXh0ZW5kKGEudWkse3ZlcnNpb246IkBWRVJTSU9OIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KSxhLmZuLmV4dGVuZCh7Zm9jdXM6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBjP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EoYikuZm9jdXMoKSxkJiZkLmNhbGwoYil9LGMpfSk6Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmZuLmZvY3VzKSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj1hLnVpLmllJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KGEuY3NzKHRoaXMsInBvc2l0aW9uIikpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLCJvdmVyZmxvdyIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXkiKSthLmNzcyh0aGlzLCJvdmVyZmxvdy14IikpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcywib3ZlcmZsb3ciKSthLmNzcyh0aGlzLCJvdmVyZmxvdy15IikrYS5jc3ModGhpcywib3ZlcmZsb3cteCIpKX0pLmVxKDApLC9maXhlZC8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fCFiLmxlbmd0aD9hKHRoaXNbMF0ub3duZXJEb2N1bWVudHx8Yyk6Yn0sdW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9InVpLWlkLSIrICsrZil9KX0scmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zy50ZXN0KHRoaXMuaWQpJiZhKHRoaXMpLnJlbW92ZUF0dHIoImlkIil9KX19KSxhLmV4dGVuZChhLmV4cHJbIjoiXSx7ZGF0YTphLmV4cHIuY3JlYXRlUHNldWRvP2EuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsYil9fSk6ZnVuY3Rpb24oYixjLGQpe3JldHVybiEhYS5kYXRhKGIsZFszXSl9LGZvY3VzYWJsZTpmdW5jdGlvbihiKXtyZXR1cm4gZChiLCFpc05hTihhLmF0dHIoYiwidGFiaW5kZXgiKSkpfSx0YWJiYWJsZTpmdW5jdGlvbihiKXt2YXIgYz1hLmF0dHIoYiwidGFiaW5kZXgiKSxlPWlzTmFOKGMpO3JldHVybihlfHxjPj0wKSYmZChiLCFlKX19KSxhKCI8YT4iKS5vdXRlcldpZHRoKDEpLmpxdWVyeXx8YS5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbihjLGQpe2Z1bmN0aW9uIGUoYixjLGQsZSl7cmV0dXJuIGEuZWFjaChmLGZ1bmN0aW9uKCl7Yy09cGFyc2VGbG9hdChhLmNzcyhiLCJwYWRkaW5nIit0aGlzKSl8fDAsZCYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCksZSYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwibWFyZ2luIit0aGlzKSl8fDApfSksY312YXIgZj0iV2lkdGgiPT09ZD9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sZz1kLnRvTG93ZXJDYXNlKCksaD17aW5uZXJXaWR0aDphLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6YS5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmEuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDphLmZuLm91dGVySGVpZ2h0fTthLmZuWyJpbm5lciIrZF09ZnVuY3Rpb24oYyl7cmV0dXJuIGM9PT1iP2hbImlubmVyIitkXS5jYWxsKHRoaXMpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGMpKyJweCIpfSl9LGEuZm5bIm91dGVyIitkXT1mdW5jdGlvbihiLGMpe3JldHVybiJudW1iZXIiIT10eXBlb2YgYj9oWyJvdXRlciIrZF0uY2FsbCh0aGlzLGIpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGIsITAsYykrInB4Iil9KX19KSxhLmZuLmFkZEJhY2t8fChhLmZuLmFkZEJhY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfSksYSgiPGE+IikuZGF0YSgiYS1iIiwiYSIpLnJlbW92ZURhdGEoImEtYiIpLmRhdGEoImEtYiIpJiYoYS5mbi5yZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmNhbGwodGhpcyxhLmNhbWVsQ2FzZShjKSk6Yi5jYWxsKHRoaXMpfX0oYS5mbi5yZW1vdmVEYXRhKSksYS51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpLGEuc3VwcG9ydC5zZWxlY3RzdGFydD0ib25zZWxlY3RzdGFydCJpbiBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGEuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgoYS5zdXBwb3J0LnNlbGVjdHN0YXJ0PyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIpKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX0sekluZGV4OmZ1bmN0aW9uKGQpe2lmKGQhPT1iKXJldHVybiB0aGlzLmNzcygiekluZGV4IixkKTtpZih0aGlzLmxlbmd0aClmb3IodmFyIGUsZixnPWEodGhpc1swXSk7Zy5sZW5ndGgmJmdbMF0hPT1jOyl7aWYoZT1nLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PWV8fCJyZWxhdGl2ZSI9PT1lfHwiZml4ZWQiPT09ZSkmJihmPXBhcnNlSW50KGcuY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGYpJiYwIT09ZikpcmV0dXJuIGY7Zz1nLnBhcmVudCgpfXJldHVybiAwfX0pLGEudWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9YS51aVtiXS5wcm90b3R5cGU7Zm9yKGUgaW4gZClmLnBsdWdpbnNbZV09Zi5wbHVnaW5zW2VdfHxbXSxmLnBsdWdpbnNbZV0ucHVzaChbYyxkW2VdXSl9LGNhbGw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLnBsdWdpbnNbYl07aWYoZiYmKGR8fGEuZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PWEuZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IoZT0wO2U8Zi5sZW5ndGg7ZSsrKWEub3B0aW9uc1tmW2VdWzBdXSYmZltlXVsxXS5hcHBseShhLmVsZW1lbnQsYyl9fX0oYSksZnVuY3Rpb24oYSxiKXthLmV4dGVuZChhLm1vYmlsZSx7d2luZG93OmEoYiksZG9jdW1lbnQ6YShjKSxrZXlDb2RlOmEudWkua2V5Q29kZSxiZWhhdmlvcnM6e30sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGMpeyJudW1iZXIiIT09YS50eXBlKGMpJiYoYz1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2Nyb2xsVG8oMCxjKSxhLm1vYmlsZS5kb2N1bWVudC50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpjfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1hWzBdLGY9IiIsZz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi87ZSYmKGM9ZS5jbGFzc05hbWV8fCIiLCEoYyYmKGQ9Zy5leGVjKGMpKSYmKGY9ZFsyXSkpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGZ8fGJ8fCJhIn0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiZW5oYW5jZSIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImFqYXgiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7dmFyIGQsZSxmLGcsaCxpPWIubGVuZ3RoLGo9YSgpO2ZvcihnPTA7aT5nO2crKyl7Zm9yKGU9Yi5lcShnKSxmPSExLGQ9YltnXTtkOyl7aWYoaD1kLmdldEF0dHJpYnV0ZT9kLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpOiIiLCJmYWxzZSI9PT1oKXtmPSEwO2JyZWFrfWQ9ZC5wYXJlbnROb2RlfWZ8fChqPWouYWRkKGUpKX1yZXR1cm4gan0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaW5uZXJIZWlnaHR8fGEubW9iaWxlLndpbmRvdy5oZWlnaHQoKX0scmVzZXRBY3RpdmVQYWdlSGVpZ2h0OmZ1bmN0aW9uKGIpe3ZhciBjPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksZD1jLmhlaWdodCgpLGU9Yy5vdXRlckhlaWdodCghMCk7Yj0ibnVtYmVyIj09dHlwZW9mIGI/YjphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxjLmNzcygibWluLWhlaWdodCIsYi0oZS1kKSl9fSksYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZm4uZXh0ZW5kKHtyZW1vdmVXaXRoRGVwZW5kZW50czpmdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXM7cmV0dXJuIGEubW9iaWxlLm5vanMmJmEubW9iaWxlLm5vanModGhpcyksYS5tb2JpbGUubGlua3MmJmEubW9iaWxlLmxpbmtzKHRoaXMpLGEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4mJmEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4odGhpcyksYS5mbi5idXR0b25NYXJrdXAmJmEoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5idXR0b25NYXJrdXAoKSxhLmZuLmZpZWxkY29udGFpbiYmdGhpcy5maW5kKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCksYS5lYWNoKGEubW9iaWxlLndpZGdldHMsZnVuY3Rpb24oZCxlKXtlLmluaXRTZWxlY3RvciYmKGI9YS5tb2JpbGUuZW5oYW5jZWFibGUoYy5maW5kKGUuaW5pdFNlbGVjdG9yKSksYi5sZW5ndGgmJihiPWIubm90KGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpKSksYltlLnByb3RvdHlwZS53aWRnZXROYW1lXSgpKX0pLHRoaXN9LGFkZERlcGVuZGVudHM6ZnVuY3Rpb24oYil7YS5hZGREZXBlbmRlbnRzKHRoaXMsYil9LGdldEVuY29kZWRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIpLnRleHQodGhpcy50ZXh0KCkpLmh0bWwoKX0sanFtRW5oYW5jZWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9LGpxbUhpamFja2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX19KSxhLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYik7KGMuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCkpLnJlbW92ZSgpLGMucmVtb3ZlKCl9LGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2QuanFtRGF0YSgiZGVwZW5kZW50cyIsYShlKS5hZGQoYykpfSxhLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsYyl9LGEuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGMsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPUFycmF5LnByb3RvdHlwZS5zbGljZSxlPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YltkXSk7ZCsrKXRyeXthKGMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChmKXt9ZShiKX0sYS53aWRnZXQ9ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGk9e30saj1iLnNwbGl0KCIuIilbMF07cmV0dXJuIGI9Yi5zcGxpdCgiLiIpWzFdLGU9aisiLSIrYixkfHwoZD1jLGM9YS5XaWRnZXQpLGEuZXhwclsiOiJdW2UudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYixlKX0sYVtqXT1hW2pdfHx7fSxmPWFbal1bYl0sZz1hW2pdW2JdPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD8oYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYiksdm9pZCAwKTpuZXcgZyhhLGIpfSxhLmV4dGVuZChnLGYse3ZlcnNpb246ZC52ZXJzaW9uLF9wcm90bzphLmV4dGVuZCh7fSxkKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBjLGgub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxhLmVhY2goZCxmdW5jdGlvbihiLGQpe3JldHVybiBhLmlzRnVuY3Rpb24oZCk/KGlbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fc3VwZXIsZj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZSxiPWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWMsdGhpcy5fc3VwZXJBcHBseT1mLGJ9fSgpLHZvaWQgMCk6KGlbYl09ZCx2b2lkIDApfSksZy5wcm90b3R5cGU9YS53aWRnZXQuZXh0ZW5kKGgse3dpZGdldEV2ZW50UHJlZml4OmY/aC53aWRnZXRFdmVudFByZWZpeHx8YjpifSxpLHtjb25zdHJ1Y3RvcjpnLG5hbWVzcGFjZTpqLHdpZGdldE5hbWU6Yix3aWRnZXRGdWxsTmFtZTplfSksZj8oYS5lYWNoKGYuX2NoaWxkQ29uc3RydWN0b3JzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5wcm90b3R5cGU7YS53aWRnZXQoZC5uYW1lc3BhY2UrIi4iK2Qud2lkZ2V0TmFtZSxnLGMuX3Byb3RvKX0pLGRlbGV0ZSBmLl9jaGlsZENvbnN0cnVjdG9ycyk6Yy5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaChnKSxhLndpZGdldC5icmlkZ2UoYixnKSxnfSxhLndpZGdldC5leHRlbmQ9ZnVuY3Rpb24oYyl7Zm9yKHZhciBlLGYsZz1kLmNhbGwoYXJndW1lbnRzLDEpLGg9MCxpPWcubGVuZ3RoO2k+aDtoKyspZm9yKGUgaW4gZ1toXSlmPWdbaF1bZV0sZ1toXS5oYXNPd25Qcm9wZXJ0eShlKSYmZiE9PWImJihjW2VdPWEuaXNQbGFpbk9iamVjdChmKT9hLmlzUGxhaW5PYmplY3QoY1tlXSk/YS53aWRnZXQuZXh0ZW5kKHt9LGNbZV0sZik6YS53aWRnZXQuZXh0ZW5kKHt9LGYpOmYpO3JldHVybiBjfSxhLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oYyxlKXt2YXIgZj1lLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8YzthLmZuW2NdPWZ1bmN0aW9uKGcpe3ZhciBoPSJzdHJpbmciPT10eXBlb2YgZyxpPWQuY2FsbChhcmd1bWVudHMsMSksaj10aGlzO3JldHVybiBnPSFoJiZpLmxlbmd0aD9hLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbZ10uY29uY2F0KGkpKTpnLGg/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZT1hLmRhdGEodGhpcyxmKTtyZXR1cm4iaW5zdGFuY2UiPT09Zz8oaj1lLCExKTplP2EuaXNGdW5jdGlvbihlW2ddKSYmIl8iIT09Zy5jaGFyQXQoMCk/KGQ9ZVtnXS5hcHBseShlLGkpLGQhPT1lJiZkIT09Yj8oaj1kJiZkLmpxdWVyeT9qLnB1c2hTdGFjayhkLmdldCgpKTpkLCExKTp2b2lkIDApOmEuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYysiIHdpZGdldCBpbnN0YW5jZSIpOmEuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitjKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEodGhpcyxmKTtiP2Iub3B0aW9uKGd8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGYsbmV3IGUoZyx0aGlzKSl9KSxqfX0sYS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGEuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxhLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGQpe2Q9YShkfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9YShkKSx0aGlzLnV1aWQ9YysrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpLHRoaXMuYmluZGluZ3M9YSgpLHRoaXMuaG92ZXJhYmxlPWEoKSx0aGlzLmZvY3VzYWJsZT1hKCksZCE9PXRoaXMmJihhLmRhdGEoZCx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGEpe2EudGFyZ2V0PT09ZCYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1hKGQuc3R5bGU/ZC5vd25lckRvY3VtZW50OmQuZG9jdW1lbnR8fGQpLHRoaXMud2luZG93PWEodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6YS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6YS5ub29wLF9jcmVhdGU6YS5ub29wLF9pbml0OmEubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGcsaD1jO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIGMpaWYoaD17fSxlPWMuc3BsaXQoIi4iKSxjPWUuc2hpZnQoKSxlLmxlbmd0aCl7Zm9yKGY9aFtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKSxnPTA7ZzxlLmxlbmd0aC0xO2crKylmW2VbZ11dPWZbZVtnXV18fHt9LGY9ZltlW2ddXTtpZihjPWUucG9wKCksZD09PWIpcmV0dXJuIGZbY109PT1iP251bGw6ZltjXTtmW2NdPWR9ZWxzZXtpZihkPT09YilyZXR1cm4gdGhpcy5vcHRpb25zW2NdPT09Yj9udWxsOnRoaXMub3B0aW9uc1tjXTtoW2NdPWR9cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoaCksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSl0aGlzLl9zZXRPcHRpb24oYixhW2JdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbnNbYV09YiwiZGlzYWJsZWQiPT09YSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIiwhIWIpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpczsiYm9vbGVhbiIhPXR5cGVvZiBiJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7cmV0dXJuIGJ8fGYub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhYSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKT8oInN0cmluZyI9PXR5cGVvZiBnP2ZbZ106ZykuYXBwbHkoZixhcmd1bWVudHMpOnZvaWQgMH0ic3RyaW5nIiE9dHlwZW9mIGcmJihoLmd1aWQ9Zy5ndWlkPWcuZ3VpZHx8aC5ndWlkfHxhLmd1aWQrKyk7dmFyIGk9ZC5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxqPWlbMV0rZi5ldmVudE5hbWVzcGFjZSxrPWlbMl07az9lLmRlbGVnYXRlKGssaixoKTpjLmJpbmQoaixoKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgYT9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07aWYoZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbIl8iK2JdPWZ1bmN0aW9uKGQsZSxmKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fCJudW1iZXIiPT10eXBlb2YgZT9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSwibnVtYmVyIj09dHlwZW9mIGUmJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPS9bQS1aXS9nLGM9ZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX07YS5leHRlbmQoYS5XaWRnZXQucHJvdG90eXBlLHtfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBkLGUsZj10aGlzLmVsZW1lbnRbMF0sZz17fTtmb3IoZCBpbiB0aGlzLm9wdGlvbnMpZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixkLnJlcGxhY2UoYixjKSksbnVsbCE9ZSYmKGdbZF09ZSk7cmV0dXJuIGd9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oYixjKXt0aGlzLmVuaGFuY2UoYShhW3RoaXMubmFtZXNwYWNlXVt0aGlzLndpZGdldE5hbWVdLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj1hKGIpO2Y9YS5tb2JpbGUuZW5oYW5jZWFibGUoZiksYyYmZi5sZW5ndGgmJihkPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShmKSxlPWQmJmQua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiLGY9Zi5ub3QoZSkpLGZbdGhpcy53aWRnZXROYW1lXSgpfX0pLGEubW9iaWxlLndpZGdldD1hLldpZGdldH0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse2xvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ZCxsb2FkaW5nTWVzc2FnZVRoZW1lOmQsbG9hZGluZ01lc3NhZ2U6ZCxzaG93UGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oYixjLGQpe2EubW9iaWxlLmxvYWRpbmcoInNob3ciLGIsYyxkKX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7YS5tb2JpbGUubG9hZGluZygiaGlkZSIpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7dGhpcy5sb2FkZXJXaWRnZXQubG9hZGVyLmFwcGx5KHRoaXMubG9hZGVyV2lkZ2V0LGFyZ3VtZW50cyl9fSk7dmFyIGI9InVpLWxvYWRlciIsYz1hKCJodG1sIiksZT1hLm1vYmlsZS53aW5kb3c7YS53aWRnZXQoIm1vYmlsZS5sb2FkZXIiLHtvcHRpb25zOnt0aGVtZToiYSIsdGV4dFZpc2libGU6ITEsaHRtbDoiIix0ZXh0OiJsb2FkaW5nIn0sZGVmYXVsdEh0bWw6IjxkaXYgY2xhc3M9JyIrYisiJz4iKyI8c3BhbiBjbGFzcz0ndWktaWNvbi1sb2FkaW5nJz48L3NwYW4+IisiPGgxPjwvaDE+IisiPC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJmUuc2Nyb2xsVG9wKCkrZS5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfSxjaGVja0xvYWRlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGM9ZS5zY3JvbGxUb3AoKSxkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhiLnRvcDxjfHxiLnRvcC1jPmQpJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGUudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZixnLGgpe3ZhciBpLGosazt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGYpPyhrPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxmKSxmPWsudGhlbWV8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWUpOihrPXRoaXMub3B0aW9ucyxmPWZ8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWV8fGsudGhlbWUpLGo9Z3x8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2V8fGsudGV4dCxjLmFkZENsYXNzKCJ1aS1sb2FkaW5nIiksKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGsuaHRtbCkmJihpPWEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGUhPT1kP2EubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ay50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitmKyIgdWktbG9hZGVyLSIrKGl8fGd8fGYudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoay50ZXh0b25seXx8aD8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxrLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoay5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGopLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxlLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSksZS5iaW5kKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRlcldpZGdldD1hLm1vYmlsZS5sb2FkZXJXaWRnZXR8fGEoYS5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCkubG9hZGVyKCl9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT1hfHxsb2NhdGlvbi5ocmVmLCIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBmLGc9Imhhc2hjaGFuZ2UiLGg9YyxpPWEuZXZlbnQuc3BlY2lhbCxqPWguZG9jdW1lbnRNb2RlLGs9Im9uIitnIGluIGImJihqPT09ZHx8aj43KTthLmZuW2ddPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChnLGEpOnRoaXMudHJpZ2dlcihnKX0sYS5mbltnXS5kZWxheT01MCxpW2ddPWEuZXh0ZW5kKGlbZ10se3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6KGEoZi5zdGFydCksdm9pZCAwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTooYShmLnN0b3ApLHZvaWQgMCl9fSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZD1lKCksaD1uKGopO2QhPT1qPyhtKGo9ZCxoKSxhKGIpLnRyaWdnZXIoZykpOmghPT1qJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK2gpLGY9c2V0VGltZW91dChjLGEuZm5bZ10uZGVsYXkpfXZhciBmLGk9e30saj1lKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbT1sLG49bDtyZXR1cm4gaS5zdGFydD1mdW5jdGlvbigpe2Z8fGMoKX0saS5zdG9wPWZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9ZH0sYi5hdHRhY2hFdmVudCYmIWIuYWRkRXZlbnRMaXN0ZW5lciYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZDtpLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltnXS5zcmMsZD1kJiZkK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fG0oZSgpKSxjKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csaC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJihiLmRvY3VtZW50LnRpdGxlPWgudGl0bGUpfWNhdGNoKGEpe319KX0saS5zdG9wPWwsbj1mdW5jdGlvbigpe3JldHVybiBlKGIubG9jYXRpb24uaHJlZil9LG09ZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmRvY3VtZW50LGY9YS5mbltnXS5kb21haW47YyE9PWQmJihlLnRpdGxlPWgudGl0bGUsZS5vcGVuKCksZiYmZS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrZisnIjwvc2NyaXB0PicpLGUuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGl9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYixjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksZT0oYSsiICIrcC5qb2luKGMrIiAiKStjKS5zcGxpdCgiICIpO2ZvcihiIGluIGUpaWYob1tlW2JdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZihhLGIsZCl7dmFyIGUsZixnPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksaD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKX0saT1mdW5jdGlvbihhKXtyZXR1cm4iIj09PWE/IiI6Ii0iK2EuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrYS5zdWJzdHIoMSkrIi0ifSxqPWZ1bmN0aW9uKGMpe3ZhciBkPWkoYykrYSsiOiAiK2IrIjsiLGU9aChjKSxqPWUrKCIiPT09ZT9hOmgoYSkpO2cuc2V0QXR0cmlidXRlKCJzdHlsZSIsZCksZy5zdHlsZVtqXSYmKGY9ITApfSxrPWQ/ZDpwO2ZvcihlPTA7ZTxrLmxlbmd0aDtlKyspaihrW2VdKTtyZXR1cm4hIWZ9ZnVuY3Rpb24gZygpe3ZhciBjPWIsZD0hKCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLmNyZWF0ZVNWR1JlY3R8fGMub3BlcmEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSksZT1mdW5jdGlvbihiKXtiJiZkfHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vc3ZnIil9LGY9bmV3IGMuSW1hZ2U7Zi5vbmVycm9yPWZ1bmN0aW9uKCl7ZSghMSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7ZSgxPT09Zi53aWR0aCYmMT09PWYuaGVpZ2h0KX0sZi5zcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0ifWZ1bmN0aW9uIGgoKXt2YXIgZSxmLGcsaD0idHJhbnNmb3JtLTNkIixpPWEubW9iaWxlLm1lZGlhKCIoLSIrcC5qb2luKCItIitoKyIpLCgtIikrIi0iK2grIiksKCIraCsiKSIpO2lmKGkpcmV0dXJuISFpO2U9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9LG4uYXBwZW5kKGUpO2ZvcihnIGluIGYpZS5zdHlsZVtnXSE9PWQmJihlLnN0eWxlW2ddPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLGk9Yi5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoZltnXSkpO3JldHVybiEhaSYmIm5vbmUiIT09aX1mdW5jdGlvbiBpKCl7dmFyIGIsYyxkPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsZT1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZz0iIjtyZXR1cm4gZS5sZW5ndGg/Zz1lLmF0dHIoImhyZWYiKTplPWY9YSgiPGJhc2U+Iix7aHJlZjpkfSkuYXBwZW5kVG8oImhlYWQiKSxiPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKG4pLGM9YlswXS5ocmVmLGVbMF0uaHJlZj1nfHxsb2NhdGlvbi5wYXRobmFtZSxmJiZmLnJlbW92ZSgpLDA9PT1jLmluZGV4T2YoZCl9ZnVuY3Rpb24gaigpe3ZhciBhLGQ9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZT1jLmRvY3VtZW50RWxlbWVudCxmPWIuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBkLnN0eWxlPyhkLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLGQuc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsZS5hcHBlbmRDaGlsZChkKSxhPWYmJiJhdXRvIj09PWYoZCwiIikucG9pbnRlckV2ZW50cyxlLnJlbW92ZUNoaWxkKGQpLCEhYSk6ITF9ZnVuY3Rpb24gaygpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdH1mdW5jdGlvbiBsKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJjUzND5mfHxhLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGEub3BlcmFtaW5pKXx8aSYmNzQ1OD5qfHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmNTMzPmZ8fGgmJjY+aHx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiY1MzQ+Znx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBtLG49YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksbz1uWzBdLnN0eWxlLHA9WyJXZWJraXQiLCJNb3oiLCJPIl0scT0icGFsbUdldFJlc291cmNlImluIGIscj1iLm9wZXJhLHM9Yi5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChiLm9wZXJhbWluaSksdD1iLmJsYWNrYmVycnkmJiFlKCItd2Via2l0LXRyYW5zZm9ybSIpO2EuZXh0ZW5kKGEubW9iaWxlLHticm93c2VyOnt9fSksYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT1mdW5jdGlvbigpe3ZhciBhPTMsYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9Yi5hbGx8fFtdO2RvIGIuaW5uZXJIVE1MPSI8IS0tW2lmIGd0IElFICIrICsrYSsiXT48YnI+PCFbZW5kaWZdLS0+Ijt3aGlsZShkWzBdKTtyZXR1cm4gYT40P2E6IWF9KCksYS5leHRlbmQoYS5zdXBwb3J0LHtjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIGJ8fGYoInRyYW5zaXRpb24iLCJoZWlnaHQgMTAwbXMgbGluZWFyIixbIldlYmtpdCIsIk1veiIsIiJdKSYmIWEubW9iaWxlLmJyb3dzZXIub2xkSUUmJiFyLHB1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZSgiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFlKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmgoKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXQsZml4ZWRQb3NpdGlvbjpsKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBuWzBdKSYmIXEmJiFzLGR5bmFtaWNCYXNlVGFnOmkoKSxjc3NQb2ludGVyRXZlbnRzOmooKSxib3VuZGluZ1JlY3Q6aygpLGlubGluZVNWRzpnfSksbi5yZW1vdmUoKSxtPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8c3x8bSxtJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9IiMiPT09Yz8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoIm9iamVjdCI9PT1hLnR5cGUoYikpcmV0dXJuIGI7dmFyIGM9ZC51cmxQYXJzZVJFLmV4ZWMoYnx8IiIpfHxbXTtyZXR1cm57aHJlZjpjWzBdfHwiIixocmVmTm9IYXNoOmNbMV18fCIiLGhyZWZOb1NlYXJjaDpjWzJdfHwiIixkb21haW46Y1szXXx8IiIscHJvdG9jb2w6Y1s0XXx8IiIsZG91YmxlU2xhc2g6Y1s1XXx8IiIsYXV0aG9yaXR5OmNbNl18fCIiLHVzZXJuYW1lOmNbOF18fCIiLHBhc3N3b3JkOmNbOV18fCIiLGhvc3Q6Y1sxMF18fCIiLGhvc3RuYW1lOmNbMTFdfHwiIixwb3J0OmNbMTJdfHwiIixwYXRobmFtZTpjWzEzXXx8IiIsZGlyZWN0b3J5OmNbMTRdfHwiIixmaWxlbmFtZTpjWzE1XXx8IiIsc2VhcmNoOmNbMTZdfHwiIixoYXNoOmNbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZjtpZihhJiYiLyI9PT1hLmNoYXJBdCgwKSlyZXR1cm4gYTtmb3IoYT1hfHwiIixiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiLGM9Yj9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXN3aXRjaChmPWRbZV0pe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5wYXJzZVVybChhKS5kb21haW49PT1kLnBhcnNlVXJsKGIpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIj09PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIiIhPT1kLnBhcnNlVXJsKGEpLnByb3RvY29sfSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighZC5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO2I9PT1jJiYoYj10aGlzLmRvY3VtZW50QmFzZSk7dmFyIGU9ZC5wYXJzZVVybChhKSxmPWQucGFyc2VVcmwoYiksZz1lLnByb3RvY29sfHxmLnByb3RvY29sLGg9ZS5wcm90b2NvbD9lLmRvdWJsZVNsYXNoOmUuZG91YmxlU2xhc2h8fGYuZG91YmxlU2xhc2gsaT1lLmF1dGhvcml0eXx8Zi5hdXRob3JpdHksaj0iIiE9PWUucGF0aG5hbWUsaz1kLm1ha2VQYXRoQWJzb2x1dGUoZS5wYXRobmFtZXx8Zi5maWxlbmFtZSxmLnBhdGhuYW1lKSxsPWUuc2VhcmNofHwhaiYmZi5zZWFyY2h8fCIiLG09ZS5oYXNoO3JldHVybiBnK2graStrK2wrbX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGU9ZC5wYXJzZVVybChiKSxmPSJvYmplY3QiPT10eXBlb2YgYz9hLnBhcmFtKGMpOmMsZz1lLnNlYXJjaHx8Ij8iO3JldHVybiBlLmhyZWZOb1NlYXJjaCtnKygiPyIhPT1nLmNoYXJBdChnLmxlbmd0aC0xKT8iJiI6IiIpK2YrKGUuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWQucGFyc2VVcmwoYSk7cmV0dXJuIGQuaXNFbWJlZGRlZFBhZ2UoYyk/Yy5oYXNoLnNwbGl0KGYpWzBdLnJlcGxhY2UoL14jLywiIikucmVwbGFjZSgvXD8uKiQvLCIiKTpkLmlzU2FtZURvbWFpbihjLHRoaXMuZG9jdW1lbnRCYXNlKT9jLmhyZWZOb0hhc2gucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpLnNwbGl0KGYpWzBdOmIuZGVjb2RlVVJJQ29tcG9uZW50KGEpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1jJiYoYT1kLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxkLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLywiIil9LHN0cmlwUXVlcnlQYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXD8uKiQvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBkLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShmLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sJiZiLmRvbWFpbiE9PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiIiIT09Yi5wcm90b2NvbD8hdGhpcy5pc1BhdGgoYi5oYXNoKSYmYi5oYXNoJiYoYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gpOi9eIy8udGVzdChiLmhyZWYpfSxzcXVhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoPXRoaXMuaXNQYXRoKGEpLGk9dGhpcy5wYXJzZVVybChhKSxqPWkuaGFzaCxrPSIiO3JldHVybiBiPWJ8fChkLmlzUGF0aChhKT9kLmdldExvY2F0aW9uKCk6ZC5nZXREb2N1bWVudFVybCgpKSxlPWg/ZC5zdHJpcEhhc2goYSk6YSxlPWQuaXNQYXRoKGkuaGFzaCk/ZC5zdHJpcEhhc2goaS5oYXNoKTplLGc9ZS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSksZz4tMSYmKGs9ZS5zbGljZShnKSxlPWUuc2xpY2UoMCxnKSksYz1kLm1ha2VVcmxBYnNvbHV0ZShlLGIpLGY9dGhpcy5wYXJzZVVybChjKS5zZWFyY2gsaD8oKGQuaXNQYXRoKGopfHwwPT09ai5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpKSYmKGo9IiIpLGsmJi0xPT09ai5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkmJihqKz1rKSwtMT09PWouaW5kZXhPZigiIyIpJiYiIiE9PWomJihqPSIjIitqKSxjPWQucGFyc2VVcmwoYyksYz1jLnByb3RvY29sKyIvLyIrYy5ob3N0K2MucGF0aG5hbWUrZitqKTpjKz1jLmluZGV4T2YoIiMiKT4tMT9rOiIjIitrLGN9LGlzUHJlc2VydmFibGVIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiAwPT09YS5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpfSxoYXNoVG9TZWxlY3RvcjpmdW5jdGlvbihhKXt2YXIgYj0iIyI9PT1hLnN1YnN0cmluZygwLDEpO3JldHVybiBiJiYoYT1hLnN1YnN0cmluZygxKSksKGI/IiMiOiIiKSthLnJlcGxhY2UoLyhbISIjJCUmJygpKissLi86Ozw9Pj9AW1xdXmB7fH1+XSkvZywiXFwkMSIpfX0sZC5kb2N1bWVudFVybD1kLnBhcnNlTG9jYXRpb24oKSxlPWEoImhlYWQiKS5maW5kKCJiYXNlIiksZC5kb2N1bWVudEJhc2U9ZS5sZW5ndGg/ZC5wYXJzZVVybChkLm1ha2VVcmxBYnNvbHV0ZShlLmF0dHIoImhyZWYiKSxkLmRvY3VtZW50VXJsLmhyZWYpKTpkLmRvY3VtZW50VXJsLGQuZG9jdW1lbnRCYXNlRGlmZmVycz1kLmRvY3VtZW50VXJsLmhyZWZOb0hhc2ghPT1kLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGQuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudFVybCk6ZC5kb2N1bWVudFVybC5ocmVmfSxkLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50QmFzZSk6ZC5kb2N1bWVudEJhc2UuaHJlZn19KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUuSGlzdG9yeT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhY2s9YXx8W10sdGhpcy5hY3RpdmVJbmRleD1ifHwwfSxhLmV4dGVuZChhLm1vYmlsZS5IaXN0b3J5LnByb3RvdHlwZSx7Z2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleF19LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnByZXZpb3VzSW5kZXhdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleCsxXX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgtMV19LGFkZDpmdW5jdGlvbihhLGIpe2I9Ynx8e30sdGhpcy5nZXROZXh0KCkmJnRoaXMuY2xlYXJGb3J3YXJkKCksYi5oYXNoJiYtMT09PWIuaGFzaC5pbmRleE9mKCIjIikmJihiLmhhc2g9IiMiK2IuaGFzaCksYi51cmw9YSx0aGlzLnN0YWNrLnB1c2goYiksdGhpcy5hY3RpdmVJbmRleD10aGlzLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPXRoaXMuc3RhY2suc2xpY2UoMCx0aGlzLmFjdGl2ZUluZGV4KzEpfSxmaW5kOmZ1bmN0aW9uKGEsYixjKXtiPWJ8fHRoaXMuc3RhY2s7dmFyIGQsZSxmLGc9Yi5sZW5ndGg7Zm9yKGU9MDtnPmU7ZSsrKWlmKGQ9YltlXSwoZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQudXJsKXx8ZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQuaGFzaCkpJiYoZj1lLGMpKXJldHVybiBmO3JldHVybiBmfSxjbG9zZXN0OmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKDAsZCkpLGM9PT1iJiYoYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKGQpLCEwKSxjPWM9PT1iP2M6YytkKSxjfSxkaXJlY3Q6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jbG9zZXN0KGMudXJsKSxlPXRoaXMuYWN0aXZlSW5kZXg7ZCE9PWImJih0aGlzLmFjdGl2ZUluZGV4PWQsdGhpcy5wcmV2aW91c0luZGV4PWUpLGU+ZD8oYy5wcmVzZW50fHxjLmJhY2t8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOmQ+ZT8oYy5wcmVzZW50fHxjLmZvcndhcmR8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOmQ9PT1iJiZjLm1pc3NpbmcmJmMubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGQ9YS5tb2JpbGUucGF0aCxlPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsYS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjphLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6YS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sYS5leHRlbmQoYS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7c3F1YXNoOmZ1bmN0aW9uKGUsZil7dmFyIGcsaCxpPWQuaXNQYXRoKGUpP2Quc3RyaXBIYXNoKGUpOmU7cmV0dXJuIGg9ZC5zcXVhc2goZSksZz1hLmV4dGVuZCh7aGFzaDppLHVybDpofSxmKSxiLmhpc3RvcnkucmVwbGFjZVN0YXRlKGcsZy50aXRsZXx8Yy50aXRsZSxoKSxnfSxoYXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc7cmV0dXJuIGM9ZC5wYXJzZVVybChhKSxlPWQucGFyc2VMb2NhdGlvbigpLGUucGF0aG5hbWUrZS5zZWFyY2g9PT1jLnBhdGhuYW1lK2Muc2VhcmNoP2Y9Yy5oYXNoP2MuaGFzaDpjLnBhdGhuYW1lK2Muc2VhcmNoOmQuaXNQYXRoKGEpPyhnPWQucGFyc2VVcmwoYiksZj1nLnBhdGhuYW1lK2cuc2VhcmNoKyhkLmlzUHJlc2VydmFibGVIYXNoKGcuaGFzaCk/Zy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIikpOmY9YSxmfSxnbzpmdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqLGssbD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk7aT1kLnNxdWFzaChlKSxqPXRoaXMuaGFzaChlLGkpLGcmJmohPT1kLnN0cmlwSGFzaChkLnBhcnNlTG9jYXRpb24oKS5oYXNoKSYmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPWcpLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMCxiLmxvY2F0aW9uLmhhc2g9aix0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsaD1hLmV4dGVuZCh7dXJsOmksaGFzaDpqLHRpdGxlOmMudGl0bGV9LGYpLGwmJihrPW5ldyBhLkV2ZW50KCJwb3BzdGF0ZSIpLGsub3JpZ2luYWxFdmVudD17dHlwZToicG9wc3RhdGUiLHN0YXRlOm51bGx9LHRoaXMuc3F1YXNoKGUsaCksZ3x8KHRoaXMuaWdub3JlUG9wU3RhdGU9ITAsYS5tb2JpbGUud2luZG93LnRyaWdnZXIoaykpKSx0aGlzLmhpc3RvcnkuYWRkKGgudXJsLGgpfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYyxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSlyZXR1cm4gdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPyh0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx2b2lkIDApOnRoaXMuaWdub3JlUG9wU3RhdGU/KHRoaXMuaWdub3JlUG9wU3RhdGU9ITEsdm9pZCAwKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpPyhiLnByZXZlbnREZWZhdWx0KCksdm9pZCAwKTooYz1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLCFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJmM/KGY9dGhpcy5zcXVhc2goYyksdGhpcy5oaXN0b3J5LmFkZChmLnVybCxmKSxiLmhpc3RvcnlTdGF0ZT1mLHZvaWQgMCk6KHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDooYi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSkudXJsfHxjLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhpc3RvcnlTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb249ZAp9fSksdm9pZCAwKSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGUsZjtpZihhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYhYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXtpZih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZSlyZXR1cm4gdGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ITEsYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx2b2lkIDA7ZT10aGlzLmhpc3RvcnksZj1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpmLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhhc2hjaGFuZ2VTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249ZH0sbWlzc2luZzpmdW5jdGlvbigpe2UuYWRkKGYse2hhc2g6Zix0aXRsZTpjLnRpdGxlfSl9fSl9fX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKGIsYyxkKX0sYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgYS5tb2JpbGUuSGlzdG9yeSxhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGEubW9iaWxlLk5hdmlnYXRvcihhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgYj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTthLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChiLmhyZWYse2hhc2g6Yi5oYXNofSl9KGEpLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSl7Zm9yKDthJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEub3JpZ2luYWxFdmVudDspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gZihiLGMpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvPWIudHlwZTtpZihiPWEuRXZlbnQoYiksYi50eXBlPWMsZj1iLm9yaWdpbmFsRXZlbnQsZz1hLmV2ZW50LnByb3BzLG8uc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZz1FKSxmKWZvcihsPWcubGVuZ3RoLGk7bDspaT1nWy0tbF0sYltpXT1mW2ldO2lmKG8uc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhYi53aGljaCYmKGIud2hpY2g9MSksLTEhPT1vLnNlYXJjaCgvXnRvdWNoLykmJihoPWUoZiksbz1oLnRvdWNoZXMsaj1oLmNoYW5nZWRUb3VjaGVzLGs9byYmby5sZW5ndGg/b1swXTpqJiZqLmxlbmd0aD9qWzBdOmQpKWZvcihtPTAsbj1DLmxlbmd0aDtuPm07bSsrKWk9Q1ttXSxiW2ldPWtbaV07cmV0dXJuIGJ9ZnVuY3Rpb24gZyhiKXtmb3IodmFyIGMsZCxlPXt9O2I7KXtjPWEuZGF0YShiLHopO2ZvcihkIGluIGMpY1tkXSYmKGVbZF09ZS5oYXNWaXJ0dWFsQmluZGluZz0hMCk7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGV9ZnVuY3Rpb24gaChiLGMpe2Zvcih2YXIgZDtiOyl7aWYoZD1hLmRhdGEoYix6KSxkJiYoIWN8fGRbY10pKXJldHVybiBiO2I9Yi5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGkoKXtNPSExfWZ1bmN0aW9uIGooKXtNPSEwfWZ1bmN0aW9uIGsoKXtRPTAsSy5sZW5ndGg9MCxMPSExLGooKX1mdW5jdGlvbiBsKCl7aSgpfWZ1bmN0aW9uIG0oKXtuKCksRz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Rz0wLGsoKX0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBuKCl7RyYmKGNsZWFyVGltZW91dChHKSxHPTApfWZ1bmN0aW9uIG8oYixjLGQpe3ZhciBlO3JldHVybihkJiZkW2JdfHwhZCYmaChjLnRhcmdldCxiKSkmJihlPWYoYyxiKSxhKGMudGFyZ2V0KS50cmlnZ2VyKGUpKSxlfWZ1bmN0aW9uIHAoYil7dmFyIGMsZD1hLmRhdGEoYi50YXJnZXQsQSk7THx8USYmUT09PWR8fChjPW8oInYiK2IudHlwZSxiKSxjJiYoYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpKX1mdW5jdGlvbiBxKGIpe3ZhciBjLGQsZixoPWUoYikudG91Y2hlcztoJiYxPT09aC5sZW5ndGgmJihjPWIudGFyZ2V0LGQ9ZyhjKSxkLmhhc1ZpcnR1YWxCaW5kaW5nJiYoUT1QKyssYS5kYXRhKGMsQSxRKSxuKCksbCgpLEo9ITEsZj1lKGIpLnRvdWNoZXNbMF0sSD1mLnBhZ2VYLEk9Zi5wYWdlWSxvKCJ2bW91c2VvdmVyIixiLGQpLG8oInZtb3VzZWRvd24iLGIsZCkpKX1mdW5jdGlvbiByKGEpe018fChKfHxvKCJ2bW91c2VjYW5jZWwiLGEsZyhhLnRhcmdldCkpLEo9ITAsbSgpKX1mdW5jdGlvbiBzKGIpe2lmKCFNKXt2YXIgYz1lKGIpLnRvdWNoZXNbMF0sZD1KLGY9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkLGg9ZyhiLnRhcmdldCk7Sj1KfHxNYXRoLmFicyhjLnBhZ2VYLUgpPmZ8fE1hdGguYWJzKGMucGFnZVktSSk+ZixKJiYhZCYmbygidm1vdXNlY2FuY2VsIixiLGgpLG8oInZtb3VzZW1vdmUiLGIsaCksbSgpfX1mdW5jdGlvbiB0KGEpe2lmKCFNKXtqKCk7dmFyIGIsYyxkPWcoYS50YXJnZXQpO28oInZtb3VzZXVwIixhLGQpLEp8fChiPW8oInZjbGljayIsYSxkKSxiJiZiLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoYz1lKGEpLmNoYW5nZWRUb3VjaGVzWzBdLEsucHVzaCh7dG91Y2hJRDpRLHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSksTD0hMCkpLG8oInZtb3VzZW91dCIsYSxkKSxKPSExLG0oKX19ZnVuY3Rpb24gdShiKXt2YXIgYyxkPWEuZGF0YShiLHopO2lmKGQpZm9yKGMgaW4gZClpZihkW2NdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHYoKXt9ZnVuY3Rpb24gdyhiKXt2YXIgYz1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXt1KHRoaXMpfHxhLmRhdGEodGhpcyx6LHt9KTt2YXIgZD1hLmRhdGEodGhpcyx6KTtkW2JdPSEwLEZbYl09KEZbYl18fDApKzEsMT09PUZbYl0mJk8uYmluZChjLHApLGEodGhpcykuYmluZChjLHYpLE4mJihGLnRvdWNoc3RhcnQ9KEYudG91Y2hzdGFydHx8MCkrMSwxPT09Ri50b3VjaHN0YXJ0JiZPLmJpbmQoInRvdWNoc3RhcnQiLHEpLmJpbmQoInRvdWNoZW5kIix0KS5iaW5kKCJ0b3VjaG1vdmUiLHMpLmJpbmQoInNjcm9sbCIscikpfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tRltiXSxGW2JdfHxPLnVuYmluZChjLHApLE4mJigtLUYudG91Y2hzdGFydCxGLnRvdWNoc3RhcnR8fE8udW5iaW5kKCJ0b3VjaHN0YXJ0IixxKS51bmJpbmQoInRvdWNobW92ZSIscykudW5iaW5kKCJ0b3VjaGVuZCIsdCkudW5iaW5kKCJzY3JvbGwiLHIpKTt2YXIgZD1hKHRoaXMpLGU9YS5kYXRhKHRoaXMseik7ZSYmKGVbYl09ITEpLGQudW5iaW5kKGMsdiksdSh0aGlzKXx8ZC5yZW1vdmVEYXRhKHopfX19dmFyIHgseSx6PSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsQT0idmlydHVhbFRvdWNoSUQiLEI9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLEM9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksRD1hLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLEU9YS5ldmVudC5wcm9wcy5jb25jYXQoRCksRj17fSxHPTAsSD0wLEk9MCxKPSExLEs9W10sTD0hMSxNPSExLE49ImFkZEV2ZW50TGlzdGVuZXIiaW4gYyxPPWEoYyksUD0xLFE9MDtmb3IoYS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfSx5PTA7eTxCLmxlbmd0aDt5KyspYS5ldmVudC5zcGVjaWFsW0JbeV1dPXcoQlt5XSk7TiYmYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9Sy5sZW5ndGgsaj1iLnRhcmdldDtpZihpKWZvcihjPWIuY2xpZW50WCxkPWIuY2xpZW50WSx4PWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQsZT1qO2U7KXtmb3IoZj0wO2k+ZjtmKyspaWYoZz1LW2ZdLGg9MCxlPT09aiYmTWF0aC5hYnMoZy54LWMpPHgmJk1hdGguYWJzKGcueS1kKTx4fHxhLmRhdGEoZSxBKT09PWcudG91Y2hJRClyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCAwO2U9ZS5wYXJlbnROb2RlfX0sITApfShhLGIsYyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGMsZCl7dmFyIGU9ZC50eXBlO2QudHlwZT1jLGEuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGQpLGQudHlwZT1lfXZhciBkPWEoYyksZT1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGY9InRvdWNobW92ZSBzY3JvbGwiLGc9ZT8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaD1lPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGk9ZT8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsYyl7ZD1jLGIoZyxkPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBkLGUsZz10aGlzLGg9YShnKTtoLmJpbmQoZixmdW5jdGlvbihiKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGR8fGMoYiwhMCksY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChmdW5jdGlvbigpe2MoYiwhMSl9LDUwKSl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChmKX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLGVtaXRUYXBPblRhcGhvbGQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGU9YShjKSxmPSExO2UuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZyl7ZnVuY3Rpb24gaCgpe2NsZWFyVGltZW91dChrKX1mdW5jdGlvbiBpKCl7aCgpLGUudW5iaW5kKCJ2Y2xpY2siLGopLnVuYmluZCgidm1vdXNldXAiLGgpLGQudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpfWZ1bmN0aW9uIGooYSl7aSgpLGZ8fGwhPT1hLnRhcmdldD9mJiZhLnN0b3BQcm9wYWdhdGlvbigpOmIoYywidGFwIixhKX1pZihmPSExLGcud2hpY2gmJjEhPT1nLndoaWNoKXJldHVybiExO3ZhciBrLGw9Zy50YXJnZXQ7ZS5iaW5kKCJ2bW91c2V1cCIsaCkuYmluZCgidmNsaWNrIixqKSxkLmJpbmQoInZtb3VzZWNhbmNlbCIsaSksaz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRhcC5lbWl0VGFwT25UYXBob2xkfHwoZj0hMCksYihjLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0Omx9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgidm1vdXNlZG93biIpLnVuYmluZCgidmNsaWNrIikudW5iaW5kKCJ2bW91c2V1cCIpLGQudW5iaW5kKCJ2bW91c2VjYW5jZWwiKX19LGEuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjEwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YjtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV0sb3JpZ2luOmEoYi50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihhKXt2YXIgYj1hLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9hLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTphO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYi5wYWdlWCxiLnBhZ2VZXX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGMsZCxlLGYpe2lmKGQudGltZS1jLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhjLmNvb3Jkc1swXS1kLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYy5jb29yZHNbMV0tZC5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkKXt2YXIgZz1jLmNvb3Jkc1swXT5kLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCI7cmV0dXJuIGIoZSwic3dpcGUiLGEuRXZlbnQoInN3aXBlIix7dGFyZ2V0OmYsc3dpcGVzdGFydDpjLHN3aXBlc3RvcDpkfSkpLGIoZSxnLGEuRXZlbnQoZyx7dGFyZ2V0OmYsc3dpcGVzdGFydDpjLHN3aXBlc3RvcDpkfSkpLCEwfXJldHVybiExfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2MuYmluZChnLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGUoYyl7ZyYmKGY9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AoYyksa3x8KGs9YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhhbmRsZVN3aXBlKGcsZixiLGopKSxNYXRoLmFicyhnLmNvb3Jkc1swXS1mLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJmMucHJldmVudERlZmF1bHQoKSl9dmFyIGYsZz1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RhcnQoZCksaj1kLnRhcmdldCxrPSExO2MuYmluZChpLGUpLm9uZShoLGZ1bmN0aW9uKCl7az0hMH0pfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoZykudW5iaW5kKGkpLnVuYmluZChoKX19LGEuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixmKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT0ib3JpZW50YXRpb25jaGFuZ2UiLG49ezA6ITAsMTgwOiEwfTthLnN1cHBvcnQub3JpZW50YXRpb24mJihpPWIuaW5uZXJXaWR0aHx8bC53aWR0aCgpLGo9Yi5pbm5lckhlaWdodHx8bC5oZWlnaHQoKSxrPTUwLGc9aT5qJiZpLWo+ayxoPW5bYi5vcmllbnRhdGlvbl0sKGcmJmh8fCFnJiYhaCkmJihuPXsiLTkwIjohMCw5MDohMH0pKSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLGwuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSx2b2lkIDApfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGwudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpLHZvaWQgMCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9uW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUud2lkZ2V0cz17fTt2YXIgYz1hLndpZGdldDthLndpZGdldD1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPWQucHJvdG90eXBlLndpZGdldE5hbWU7cmV0dXJuIGQuaW5pdFNlbGVjdG9yPWQucHJvdG90eXBlLmluaXRTZWxlY3RvciE9PWI/ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSciK2UrIicpIixhLm1vYmlsZS53aWRnZXRzW2VdPWQsZH19KGEud2lkZ2V0KSxhLmV4dGVuZChhLndpZGdldCxjKSxhLm1vYmlsZS5kb2N1bWVudC5vbigiY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5lbmhhbmNlV2l0aGluKCl9KSxhLndpZGdldCgibW9iaWxlLnBhZ2UiLHtvcHRpb25zOnt0aGVtZToiYSIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6YS5tb2JpbGUua2VlcE5hdGl2ZSxjb250ZW50VGhlbWU6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbigpe2EuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90cmlnZ2VyKCJpbml0Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMT8hMToodGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlKCksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSx0aGlzLmVsZW1lbnQuZW5oYW5jZVdpdGhpbigpLCJkaWFsb2ciPT09YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwicm9sZSIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSx2b2lkIDApfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPSJkYXRhLSIrYS5tb2JpbGUubnMsZD10aGlzO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKCJbIitjKyJyb2xlPSdjb250ZW50J10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKGMrInRoZW1lIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fCJkaWFsb2ciPT09ZC5lbGVtZW50LmpxbURhdGEoInJvbGUiKSYmZC5vcHRpb25zLnRoZW1lLGUuYWRkQ2xhc3MoInVpLWNvbnRlbnQiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5vcHRpb25zLmNvbnRlbnRUaGVtZSksZS5hdHRyKCJyb2xlIiwibWFpbiIpLmFkZENsYXNzKCJ1aS1jb250ZW50Iil9KX0sYmluZFJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQ7IWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZjLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYy5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGJ8fGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLnRoZW1lIT09YiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2MudGhlbWUpLGMuY29udGVudFRoZW1lIT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIltkYXRhLSIrYS5tb2JpbGUubnMrIj0nY29udGVudCddIikucmVtb3ZlQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMuY29udGVudFRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2MuY29udGVudFRoZW1lKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiOm1vYmlsZS1jb250ZW50IikuY29udGVudCh7dGhlbWU6Im5vbmUifSl9LHNldENvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnBhcmVudCgpLmNvbnRlbnQoe3RoZW1lOmF8fHRoaXMub3B0aW9ucy50aGVtZX0pfSxrZWVwTmF0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz1iLmtlZXBOYXRpdmUmJmEudHJpbShiLmtlZXBOYXRpdmUpO3JldHVybiBjJiZiLmtlZXBOYXRpdmUhPT1iLmtlZXBOYXRpdmVEZWZhdWx0P1tiLmtlZXBOYXRpdmUsYi5rZWVwTmF0aXZlRGVmYXVsdF0uam9pbigiLCAiKTpiLmtlZXBOYXRpdmVEZWZhdWx0fX0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYil7IW58fG4uY2xvc2VzdCgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiFifHxuLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxuPW51bGx9ZnVuY3Rpb24gZigpe3I9ITEscS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHEucG9wKCkpfWZ1bmN0aW9uIGcoKXt2YXIgYj1hLm1vYmlsZS5hY3RpdmVQYWdlJiZpKGEubW9iaWxlLmFjdGl2ZVBhZ2UpO3JldHVybiBifHx2LmhyZWZOb0hhc2h9ZnVuY3Rpb24gaChhKXtmb3IoO2EmJigic3RyaW5nIiE9dHlwZW9mIGEubm9kZU5hbWV8fCJhIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfWZ1bmN0aW9uIGkoYil7dmFyIGM9YShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGQ9di5ocmVmTm9IYXNoO3JldHVybiBhLm1vYmlsZS5keW5hbWljQmFzZUVuYWJsZWQmJmMmJmwuaXNQYXRoKGMpfHwoYz1kKSxsLm1ha2VVcmxBYnNvbHV0ZShjLGQpfWEud2lkZ2V0KCJtb2JpbGUuY29udGVudCIse29wdGlvbnM6e3RoZW1lOiJhIn0saW5pdFNlbGVjdG9yOiExLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz1hKGIpO3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb24oYyx7bmF2aWdhdGU6Il9maWx0ZXJOYXZpZ2F0ZUV2ZW50cyJ9KSx0aGlzLl9vbihjLHtuYXZpZ2F0ZToiX2Rpc2FibGVSZWNvcmRTY3JvbGwiLHNjcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOiJfYWZ0ZXJDb250ZW50Q2hhbmdlIn0pLGMub25lKCJuYXZpZ2F0ZSIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITB9LHRoaXMpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7YS50aGVtZSE9PWQmJiJub25lIiE9PWEudGhlbWU/dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktb3ZlcmxheS0iK2EudGhlbWUpOmEudGhlbWUhPT1kJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuX3N1cGVyKGEpfSxfZGlzYWJsZVJlY29yZFNjcm9sbDpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITF9LF9lbmFibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSxfYWZ0ZXJDb250ZW50Q2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMCx0aGlzLl9vZmYoaiwic2Nyb2xsc3RvcCIpLHRoaXMuX29uKGose3Njcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pfSxfcmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCl7dmFyIGEsYixjLGQ9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpO2QmJihhPXRoaXMuX2dldFNjcm9sbCgpLGI9dGhpcy5fZ2V0TWluU2Nyb2xsKCksYz10aGlzLl9nZXREZWZhdWx0U2Nyb2xsKCksZC5sYXN0U2Nyb2xsPWI+YT9jOmEpfX0sX2RlbGF5ZWRSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3JlY29yZFNjcm9sbCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gai5zY3JvbGxUb3AoKX0sX2dldE1pblNjcm9sbDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5taW5TY3JvbGxCYWNrfSxfZ2V0RGVmYXVsdFNjcm9sbDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbH0sX2ZpbHRlck5hdmlnYXRlRXZlbnRzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yi5vcmlnaW5hbEV2ZW50JiZiLm9yaWdpbmFsRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkPWIub3JpZ2luYWxFdmVudC50eXBlLmluZGV4T2YoImhhc2hjaGFuZ2UiKT4tMT9jLnN0YXRlLmhhc2g6Yy5zdGF0ZS51cmwsZHx8KGQ9dGhpcy5fZ2V0SGFzaCgpKSxkJiYiIyIhPT1kJiYwIT09ZC5pbmRleE9mKCIjIithLm1vYmlsZS5wYXRoLnVpU3RhdGVLZXkpfHwoZD1sb2NhdGlvbi5ocmVmKSx0aGlzLl9oYW5kbGVOYXZpZ2F0ZShkLGMuc3RhdGUpKX0sX2dldEhhc2g6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaH0sX2dldEFjdGl2ZUNvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYWN0aXZlUGFnZX0sX2dldEluaXRpYWxDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmZpcnN0UGFnZX0sX2dldEhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gcH0sX2dldEFjdGl2ZUhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKX0sX2dldERvY3VtZW50QmFzZTpmdW5jdGlvbigpe3JldHVybiB2fSxfYmFjazpmdW5jdGlvbigpe2EubW9iaWxlLmJhY2soKX0sX2ZvcndhcmQ6ZnVuY3Rpb24oKXtiLmhpc3RvcnkuZm9yd2FyZCgpfSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4ic3RyaW5nIj09PWEudHlwZShiKSYmKGI9bC5zdHJpcEhhc2goYikpLGImJihjPXRoaXMuX2dldEhpc3RvcnkoKSxkPXRoaXMuX2dldERvY3VtZW50QmFzZSgpLGI9bC5pc1BhdGgoYik/YjpsLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYixkKSxiPT09bC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MuaW5pdGlhbERzdCxkKSYmYy5zdGFjay5sZW5ndGgmJmMuc3RhY2tbMF0udXJsIT09Yy5pbml0aWFsRHN0LnJlcGxhY2UocywiIikmJihiPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCkpKSxifHx0aGlzLl9nZXRJbml0aWFsQ29udGVudCgpfSxfaGFuZGxlRGlhbG9nOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmPXRoaXMuX2dldEFjdGl2ZUNvbnRlbnQoKTtyZXR1cm4gZiYmIWYuaGFzQ2xhc3MoInVpLWRpYWxvZyIpPygiYmFjayI9PT1jLmRpcmVjdGlvbj90aGlzLl9iYWNrKCk6dGhpcy5fZm9yd2FyZCgpLCExKTooZD1jLnBhZ2VVcmwsZT10aGlzLl9nZXRBY3RpdmVIaXN0b3J5KCksYS5leHRlbmQoYix7cm9sZTplLnJvbGUsdHJhbnNpdGlvbjplLnRyYW5zaXRpb24scmV2ZXJzZToiYmFjayI9PT1jLmRpcmVjdGlvbn0pLGQpfSxfaGFuZGxlTmF2aWdhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZT1sLnN0cmlwSGFzaChiKSxmPXRoaXMuX2dldEhpc3RvcnkoKSxnPTA9PT1mLnN0YWNrLmxlbmd0aD8ibm9uZSI6ZCxoPXtjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259O2EuZXh0ZW5kKGgsYyx7dHJhbnNpdGlvbjooZi5nZXRMYXN0KCl8fHt9KS50cmFuc2l0aW9ufHxnfSksZi5hY3RpdmVJbmRleD4wJiZlLmluZGV4T2Yocyk+LTEmJmYuaW5pdGlhbERzdCE9PWUmJihlPXRoaXMuX2hhbmRsZURpYWxvZyhoLGMpLGU9PT0hMSl8fHRoaXMuX2NoYW5nZUNvbnRlbnQodGhpcy5faGFuZGxlRGVzdGluYXRpb24oZSksaCl9LF9jaGFuZ2VDb250ZW50OmZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUuY2hhbmdlUGFnZShiLGMpfSxfZ2V0QmFzZTpmdW5jdGlvbigpe3JldHVybiB3fSxfZ2V0QmFzZVdpdGhEZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIGcoKX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWwuaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4obC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmbC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGVyV2lkZ2V0fSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZz1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9nZXRMb2FkZXIoKS5sb2FkZXIoInNob3ciLGMsZCxlKX0sdGhpcyksYil9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9nZXRMb2FkZXIoKS5sb2FkZXIoImhpZGUiKX0sX3Nob3dFcnJvcjpmdW5jdGlvbigpe3RoaXMuX2hpZGVMb2FkaW5nKCksdGhpcy5fc2hvd0xvYWRpbmcoMCxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lLGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlLCEwKSxzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX2hpZGVMb2FkaW5nIiksMTUwMCl9LF9wYXJzZTpmdW5jdGlvbihiLGMpe3ZhciBkLGU9YSgiPGRpdj48L2Rpdj4iKTtyZXR1cm4gZS5nZXQoMCkuaW5uZXJIVE1MPWIsZD1lLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpLGQubGVuZ3RofHwoZD1hKCI8ZGl2IGRhdGEtIit0aGlzLl9nZXROcygpKyJyb2xlPSdwYWdlJz4iKyhiLnNwbGl0KC88XC8/Ym9keVtePl0qPi9naW0pWzFdfHwiIikrIjwvZGl2PiIpKSxkLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGwuY29udmVydFVybFRvRGF0YVVybChjKSkuYXR0cigiZGF0YS0iK3RoaXMuX2dldE5zKCkrImV4dGVybmFsLXBhZ2UiLCEwKSxkfSxfc2V0TG9hZGVkVGl0bGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1jLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMTtkJiYhYi5qcW1EYXRhKCJ0aXRsZSIpJiYoZD1hKCI8ZGl2PiIrZCsiPC9kaXY+IikudGV4dCgpLGIuanFtRGF0YSgidGl0bGUiLGQpKX0sX2lzUmV3cml0YWJsZUJhc2VUYWc6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiYhYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnfSxfY3JlYXRlRGF0YVVybDpmdW5jdGlvbihhKXtyZXR1cm4gbC5jb252ZXJ0VXJsVG9EYXRhVXJsKGEpfSxfY3JlYXRlRmlsZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gbC5nZXRGaWxlUGF0aChhKX0sX3RyaWdnZXJXaXRoRGVwcmVjYXRlZDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5FdmVudCgicGFnZSIrYiksZj1hLkV2ZW50KHRoaXMud2lkZ2V0TmFtZStiKTtyZXR1cm4oZHx8dGhpcy5lbGVtZW50KS50cmlnZ2VyKGUsYyksdGhpcy5lbGVtZW50LnRyaWdnZXIoZixjKSx7ZGVwcmVjYXRlZEV2ZW50OmUsZXZlbnQ6Zn19LF9sb2FkU3VjY2VzczpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZz10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGg9dGhpcy5fY3JlYXRlRGF0YVVybChiKTtyZXR1cm4gYS5wcm94eShmdW5jdGlvbihpLGosayl7dmFyIG0sbj1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK3RoaXMuX2dldE5zKCkrInJvbGU9W1wiJ10/cGFnZVtcIiddP1tePl0qPikiKSxvPW5ldyBSZWdFeHAoIlxcYmRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIpO24udGVzdChpKSYmUmVnRXhwLiQxJiZvLnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYoZz1sLmdldEZpbGVQYXRoKGEoIjxkaXY+IitSZWdFeHAuJDErIjwvZGl2PiIpLnRleHQoKSkpLGUucHJlZmV0Y2g9PT1kJiZ0aGlzLl9nZXRCYXNlKCkuc2V0KGcpLG09dGhpcy5fcGFyc2UoaSxnKSx0aGlzLl9zZXRMb2FkZWRUaXRsZShtLGkpLHRoaXMuX2lzUmV3cml0YWJsZUJhc2VUYWcoKSYmbSYmdGhpcy5fZ2V0QmFzZSgpLnJld3JpdGUoZyxtKSx0aGlzLl9pbmNsdWRlKG0sZSksYi5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKG09dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitoKyInXSIpKSxlLnNob3dMb2FkTXNnJiZ0aGlzLl9oaWRlTG9hZGluZygpLGMueGhyPWssYy50ZXh0U3RhdHVzPWosYy5wYWdlPW0sYy5jb250ZW50PW0sdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJsb2FkIixjKSxmLnJlc29sdmUoYixlLG0pfSx0aGlzKX0sX2xvYWREZWZhdWx0czp7dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyZWxvYWQ6ITEscm9sZTpkLHNob3dMb2FkTXNnOiExLGxvYWRNc2dEZWxheTo1MH0sbG9hZDpmdW5jdGlvbihiLGMpe3ZhciBlLGYsZyxoLGk9Yy5kZWZlcnJlZHx8YS5EZWZlcnJlZCgpLGo9YS5leHRlbmQoe30sdGhpcy5fbG9hZERlZmF1bHRzLGMpLGs9bnVsbCxtPWwubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZ2V0QmFzZVdpdGhEZWZhdWx0KCkpO3JldHVybiBqLnJlbG9hZD1qLnJlbG9hZFBhZ2Usai5kYXRhJiYiZ2V0Ij09PWoudHlwZSYmKG09bC5hZGRTZWFyY2hQYXJhbXMobSxqLmRhdGEpLGouZGF0YT1kKSxqLmRhdGEmJiJwb3N0Ij09PWoudHlwZSYmKGoucmVsb2FkPSEwKSxlPXRoaXMuX2NyZWF0ZUZpbGVVcmwobSksZj10aGlzLl9jcmVhdGVEYXRhVXJsKG0pLGs9dGhpcy5fZmluZChtKSwwPT09ay5sZW5ndGgmJmwuaXNFbWJlZGRlZFBhZ2UoZSkmJiFsLmlzRmlyc3RQYWdlVXJsKGUpPyhpLnJlamVjdChtLGopLHZvaWQgMCk6KHRoaXMuX2dldEJhc2UoKS5yZXNldCgpLGsubGVuZ3RoJiYhai5yZWxvYWQ/KHRoaXMuX2VuaGFuY2UoayxqLnJvbGUpLGkucmVzb2x2ZShtLGosayksai5wcmVmZXRjaHx8dGhpcy5fZ2V0QmFzZSgpLnNldChiKSx2b2lkIDApOihoPXt1cmw6YixhYnNVcmw6bSxkYXRhVXJsOmYsZGVmZXJyZWQ6aSxvcHRpb25zOmp9LGc9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVsb2FkIixoKSxnLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zy5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KGouc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dMb2FkaW5nKGoubG9hZE1zZ0RlbGF5KSxqLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxsLmlzU2FtZURvbWFpbih1LG0pPyhhLmFqYXgoe3VybDplLHR5cGU6ai50eXBlLGRhdGE6ai5kYXRhLGNvbnRlbnRUeXBlOmouY29udGVudFR5cGUsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6dGhpcy5fbG9hZFN1Y2Nlc3MobSxoLGosaSksZXJyb3I6dGhpcy5fbG9hZEVycm9yKG0saCxqLGkpfSksdm9pZCAwKTooaS5yZWplY3QobSxqKSx2b2lkIDApKSkpfSxfbG9hZEVycm9yOmZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGEsZixnKXt0aGlzLl9nZXRCYXNlKCkuc2V0KGwuZ2V0KCkpLGMueGhyPWEsYy50ZXh0U3RhdHVzPWYsYy5lcnJvclRocm93bj1nO3ZhciBoPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgibG9hZGZhaWxlZCIsYyk7aC5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGguZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkLnNob3dMb2FkTXNnJiZ0aGlzLl9zaG93RXJyb3IoKSxlLnJlamVjdChiLGQpKX0sdGhpcyl9LF9nZXRUcmFuc2l0aW9uSGFuZGxlcjpmdW5jdGlvbihiKXtyZXR1cm4gYj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihiKSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbYl18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcn0sX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzOmZ1bmN0aW9uKGIsYyxkKXtkPWR8fCIiLGMmJnRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkKyJoaWRlIix7bmV4dFBhZ2U6Yn0sYyksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKGQrInNob3ciLHtwcmV2UGFnZTpjfHxhKCIiKX0sYil9LF9jc3NUcmFuc2l0aW9uOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc9ZC50cmFuc2l0aW9uLGg9ZC5yZXZlcnNlLGk9ZC5kZWZlcnJlZDt0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50cyhiLGMsImJlZm9yZSIpLHRoaXMuX2hpZGVMb2FkaW5nKCksZT10aGlzLl9nZXRUcmFuc2l0aW9uSGFuZGxlcihnKSxmPW5ldyBlKGcsaCxiLGMpLnRyYW5zaXRpb24oKSxmLmRvbmUoZnVuY3Rpb24oKXtpLnJlc29sdmUuYXBwbHkoaSxhcmd1bWVudHMpfSksZi5kb25lKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50cyhiLGMpfSx0aGlzKSl9LF9yZWxlYXNlVHJhbnNpdGlvbkxvY2s6ZnVuY3Rpb24oKXtmKCl9LF9yZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYSl7ZShhKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe3I9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZWZhaWxlZCIsYyl9LHRoaXMpKX0sX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpO3JldHVybiBhLmV4dGVuZChjLHt0b1BhZ2U6YixvcHRpb25zOmR9KSxjLmFic1VybD0ic3RyaW5nIj09PWEudHlwZShiKT9sLm1ha2VVcmxBYnNvbHV0ZShiLGcoKSk6ZC5hYnNVcmwsdGhpcy5lbGVtZW50LnRyaWdnZXIoZSxjKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihyKXJldHVybiBxLnVuc2hpZnQoYXJndW1lbnRzKSx2b2lkIDA7dmFyIGQ9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxjKSxlPXt9O2QuZnJvbVBhZ2U9ZC5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZSx0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGUsZCkmJihiPWUudG9QYWdlLCJzdHJpbmciPT09YS50eXBlKGIpPyhyPSEwLHRoaXMuX2xvYWRVcmwoYixlLGQpKTp0aGlzLnRyYW5zaXRpb24oYixlLGQpKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihiLGcsaCl7dmFyIGksaixrLG0sbixvLHQsdix3LHgseSx6LEEsQjtpZihyKXJldHVybiBxLnVuc2hpZnQoW2IsaF0pLHZvaWQgMDtpZih0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsaCkmJihCPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgiYmVmb3JldHJhbnNpdGlvbiIsZyksIUIuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhQi5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKHI9ITAsYlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPXUuaHJlZk5vSGFzaCksaT1oLmZyb21QYWdlLGo9aC5kYXRhVXJsJiZsLmNvbnZlcnRVcmxUb0RhdGFVcmwoaC5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxrPWosbT1sLmdldEZpbGVQYXRoKGopLG49cC5nZXRBY3RpdmUoKSxvPTA9PT1wLmFjdGl2ZUluZGV4LHQ9MCx2PWMudGl0bGUsdz0oImRpYWxvZyI9PT1oLnJvbGV8fCJkaWFsb2ciPT09Yi5qcW1EYXRhKCJyb2xlIikpJiZiLmpxbURhdGEoImRpYWxvZyIpIT09ITAsaSYmaVswXT09PWJbMF0mJiFoLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiByPSExLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgidHJhbnNpdGlvbiIsZyksdGhpcy5lbGVtZW50LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGcpLGguZnJvbUhhc2hDaGFuZ2UmJnAuZGlyZWN0KHt1cmw6an0pLHZvaWQgMDtiLnBhZ2Uoe3JvbGU6aC5yb2xlfSksaC5mcm9tSGFzaENoYW5nZSYmKHQ9ImJhY2siPT09aC5kaXJlY3Rpb24/LTE6MSk7dHJ5e2MuYWN0aXZlRWxlbWVudCYmImJvZHkiIT09Yy5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/YShjLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChDKXt9eD0hMSx3JiZuJiYobi51cmwmJm4udXJsLmluZGV4T2Yocyk+LTEmJmEubW9iaWxlLmFjdGl2ZVBhZ2UmJiFhLm1vYmlsZS5hY3RpdmVQYWdlLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKSYmcC5hY3RpdmVJbmRleD4wJiYoaC5jaGFuZ2VIYXNoPSExLHg9ITApLGo9bi51cmx8fCIiLGorPSF4JiZqLmluZGV4T2YoIiMiKT4tMT9zOiIjIitzLDA9PT1wLmFjdGl2ZUluZGV4JiZqPT09cC5pbml0aWFsRHN0JiYoais9cykpLHk9bj9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnYseSYmdj09PWMudGl0bGUmJih2PXkpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIsdiksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KHQmJiFvP24udHJhbnNpdGlvbjpkKXx8KHc/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhdCYmeCYmKHAuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFsLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHo9e3RyYW5zaXRpb246aC50cmFuc2l0aW9uLHRpdGxlOnYscGFnZVVybDprLHJvbGU6aC5yb2xlfSxoLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUoaix6LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHopKSxjLnRpdGxlPXYsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+dCxBPWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6QX0pLEEuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxpLGosayl7ZSgpLGguZHVwbGljYXRlQ2FjaGVkUGFnZSYmaC5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpLGt8fGEubW9iaWxlLmZvY3VzUGFnZShiKSxmKCksdGhpcy5lbGVtZW50LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGcpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgidHJhbnNpdGlvbiIsZyl9LHRoaXMpKX19fSksYS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixjKXt2YXIgZDtyZXR1cm4gYz1jfHx7fSxkPWMucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcixjLmRlZmVycmVkPWEuRGVmZXJyZWQoKSxkLmNvbnRlbnQoImxvYWQiLGIsYyksYy5kZWZlcnJlZC5wcm9taXNlKCl9O3ZhciBqPWEubW9iaWxlLndpbmRvdyxrPWEoImhlYWQiKSxsPWEuZXh0ZW5kKGEubW9iaWxlLnBhdGgse2dldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHMpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYz1sLnBhcnNlVXJsKGwubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxlPWMuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZjLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGY9YS5tb2JpbGUuZmlyc3RQYWdlLGc9ZiYmZlswXT9mWzBdLmlkOmQ7cmV0dXJuIGUmJighYy5oYXNofHwiIyI9PT1jLmhhc2h8fGcmJmMuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09Zyl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSksbT1udWxsLG49bnVsbCxvPWEuRGVmZXJyZWQoKSxwPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkscT1bXSxyPSExLHM9IiZ1aS1zdGF0ZT1kaWFsb2ciLHQ9ay5jaGlsZHJlbigiYmFzZSIpLHU9bC5kb2N1bWVudFVybCx2PWwuZG9jdW1lbnRCYXNlLHc9e2VsZW1lbnQ6dC5sZW5ndGg/dDphKCI8YmFzZT4iLHtocmVmOnYuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhrKSxsaW5rU2VsZWN0b3I6IltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIixzZXQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcmJncuZWxlbWVudC5hdHRyKCJocmVmIixsLm1ha2VVcmxBYnNvbHV0ZShiLHYpKX0scmV3cml0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWwuZ2V0KGIpO2MuZmluZCh3LmxpbmtTZWxlY3RvcikuZWFjaChmdW5jdGlvbihiLGMpe3ZhciBlPWEoYykuaXMoIltocmVmXSIpPyJocmVmIjphKGMpLmlzKCJbc3JjXSIpPyJzcmMiOiJhY3Rpb24iLGY9YShjKS5hdHRyKGUpO2Y9Zi5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIiksL14oXHcrOnwjfFwvKS8udGVzdChmKXx8YShjKS5hdHRyKGUsZCtmKX0pfSxyZXNldDpmdW5jdGlvbigpe3cuZWxlbWVudC5hdHRyKCJocmVmIix2LmhyZWZOb1NlYXJjaCl9fTthLm1vYmlsZS5nZXREb2N1bWVudFVybD1sLmdldERvY3VtZW50VXJsLGEubW9iaWxlLmdldERvY3VtZW50QmFzZT1sLmdldERvY3VtZW50QmFzZSxhLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZhJiZhLmFwcCYmYS5hcHAuYmFja0hpc3Rvcnk/YS5hcHAuYmFja0hpc3RvcnkoKTpiLmhpc3RvcnkuYmFjaygpfSxhLm1vYmlsZS5mb2N1c1BhZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9YS5maW5kKCJbYXV0b2ZvY3VzXSIpLGM9YS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtyZXR1cm4gYi5sZW5ndGg/KGIuZm9jdXMoKSx2b2lkIDApOihjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpLHZvaWQgMCl9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9ufHxmdW5jdGlvbihhKXtyZXR1cm4gYX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIixiKTooc2V0VGltZW91dChiLDApLGEodGhpcykpfSxhLm1vYmlsZS5wYXRoPWwsYS5tb2JpbGUuYmFzZT13LGEubW9iaWxlLnVybEhpc3Rvcnk9cCxhLm1vYmlsZS5kaWFsb2dIYXNoS2V5PXMsYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzPSExLGEubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLmNvbnRlbnQoImNoYW5nZSIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZCxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmQsZnJvbVBhZ2U6ZCxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCksYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCFiLmpxbUhpamFja2FibGUoKS5sZW5ndGh8fGIuYXR0cigidGFyZ2V0Iik/ITE6KGQ9bSYmbS5hdHRyKCJmb3JtYWN0aW9uIil8fGIuYXR0cigiYWN0aW9uIiksZz0oYi5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9aShiKSwiZ2V0Ij09PWcmJihkPWwucGFyc2VVcmwoZCkuaHJlZk5vU2VhcmNoKSxkPT09di5ocmVmTm9IYXNoJiYoZD11LmhyZWZOb1NlYXJjaCkpLGQ9bC5tYWtlVXJsQWJzb2x1dGUoZCxpKGIpKSxsLmlzRXh0ZXJuYWwoZCkmJiFsLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHUsZCk/ITE6KGN8fChlPWIuc2VyaWFsaXplQXJyYXkoKSxtJiZtWzBdLmZvcm09PT1iWzBdJiYoZj1tLmF0dHIoIm5hbWUiKSxmJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09Zj8oZj0iIiwhMSk6dm9pZCAwfSksZiYmZS5wdXNoKHtuYW1lOmYsdmFsdWU6bS5hdHRyKCJ2YWx1ZSIpfSkpKSxoPXt1cmw6ZCxvcHRpb25zOnt0eXBlOmcsZGF0YTphLnBhcmFtKGUpLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT1iLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksaCkpfTthLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGQ7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9YyhhKHRoaXMpKSxkJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShkLnVybCxkLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgZCxmLGc9Yi50YXJnZXQsaT0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYobT1hKGcpLGEuZGF0YShnLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFjKGEoZykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1oKGcpLCFnfHwiIyI9PT1sLnBhcnNlVXJsKGcuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2cucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGcucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoZywiYnV0dG9uRWxlbWVudHMiKSxmP2c9Zi5vdXRlcjppPSEwLGQ9YShnKSxpJiYoZD1kLmNsb3Nlc3QoIi51aS1idG4iKSksZC5sZW5ndGg+MCYmIWQuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikmJihlKCEwKSxuPWQsbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZixnLGosayxtLG4sbyxwLHE9aChjLnRhcmdldCkscj1hKHEpO2lmKHEmJiEoYy53aGljaD4xKSYmci5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihmPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSghMCl9LDIwMCl9LHIuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGEubW9iaWxlLmJhY2soKSwhMTtpZihnPWkociksaj1sLm1ha2VVcmxBYnNvbHV0ZShyLmF0dHIoImhyZWYiKXx8IiMiLGcpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWwuaXNFbWJlZGRlZFBhZ2UoaikpcmV0dXJuIGYoKSx2b2lkIDA7aWYoLTEhPT1qLnNlYXJjaCgiIyIpKXtpZihqPWoucmVwbGFjZSgvW14jXSojLywiIiksIWopcmV0dXJuIGMucHJldmVudERlZmF1bHQoKSx2b2lkIDA7aj1sLmlzUGF0aChqKT9sLm1ha2VVcmxBYnNvbHV0ZShqLGcpOmwubWFrZVVybEFic29sdXRlKCIjIitqLHUuaHJlZk5vSGFzaCl9aWYoaz1yLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fHIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8ci5pcygiW3RhcmdldF0iKSxtPWt8fGwuaXNFeHRlcm5hbChqKSYmIWwuaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QodSxqKSlyZXR1cm4gZigpLHZvaWQgMDtuPXIuanFtRGF0YSgidHJhbnNpdGlvbiIpLG89InJldmVyc2UiPT09ci5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8ci5qcW1EYXRhKCJiYWNrIikscD1yLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQsYS5tb2JpbGUuY2hhbmdlUGFnZShqLHt0cmFuc2l0aW9uOm4scmV2ZXJzZTpvLHJvbGU6cCxsaW5rOnJ9KSxjLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5jb250ZW50KCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCksYS5tb2JpbGUud2luZG93LmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KX0sYShmdW5jdGlvbigpe28ucmVzb2x2ZSgpfSksYS53aGVuKG8sYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6IiB1aS1wYWdlLXByZS1pbiIsaW5pdDpmdW5jdGlvbihiLGMsZCxlKXthLmV4dGVuZCh0aGlzLHtuYW1lOmIscmV2ZXJzZTpjLCR0bzpkLCRmcm9tOmUsZGVmZXJyZWQ6bmV3IGEuRGVmZXJyZWR9KX0sY2xlYW5Gcm9tOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK3RoaXMubmFtZSkuaGVpZ2h0KCIiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIiksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09dGhpcy50b1Njcm9sbCYmdGhpcy5zY3JvbGxQYWdlKCksdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHRoaXMubmFtZSx0aGlzLnJldmVyc2UsdGhpcy4kdG8sdGhpcy4kZnJvbSwhMCl9LGRvbmVPdXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5iZWZvcmVEb25lT3V0KCksdGhpcy5zdGFydEluKGEsYixjLGQpfSxoaWRlSW46ZnVuY3Rpb24oYSl7dGhpcy4kdG8uY3NzKCJ6LWluZGV4IiwtMTApLGEuY2FsbCh0aGlzKSx0aGlzLiR0by5jc3MoInotaW5kZXgiLCIiKX0sc2Nyb2xsUGFnZTpmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLChhLm1vYmlsZS5oaWRlVXJsQmFyfHx0aGlzLnRvU2Nyb2xsIT09YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpJiZiLnNjcm9sbFRvKDAsdGhpcy50b1Njcm9sbCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxzdGFydEluOmZ1bmN0aW9uKGIsYyxkLGUpe3RoaXMuaGlkZUluKGZ1bmN0aW9uKCl7dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK3RoaXMudG9QcmVDbGFzcyksZXx8YS5tb2JpbGUuZm9jdXNQYWdlKHRoaXMuJHRvKSx0aGlzLiR0by5oZWlnaHQoYit0aGlzLnRvU2Nyb2xsKSxkfHx0aGlzLnNjcm9sbFBhZ2UoKX0pLGR8fHRoaXMuJHRvLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVJbigpfSx0aGlzKSksdGhpcy4kdG8ucmVtb3ZlQ2xhc3ModGhpcy50b1ByZUNsYXNzKS5hZGRDbGFzcyh0aGlzLm5hbWUrIiBpbiAiK2MpLGQmJnRoaXMuZG9uZUluKCl9LHN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLmJlZm9yZVN0YXJ0T3V0KGIsYyxkKSx0aGlzLiRmcm9tLmhlaWdodChiK2EubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3ModGhpcy5uYW1lKyIgb3V0IitjKX0sdG9nZ2xlVmlld3BvcnRDbGFzczpmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIudG9nZ2xlQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LSIrdGhpcy5uYW1lKX0sdHJhbnNpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMucmV2ZXJzZT8iIHJldmVyc2UiOiIiLGM9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksZD1hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmYS5tb2JpbGUud2luZG93LndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLGU9IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8ZHx8IXRoaXMubmFtZXx8Im5vbmUiPT09dGhpcy5uYW1lfHxNYXRoLm1heChhLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy50b1Njcm9sbCk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpO3JldHVybiB0aGlzLnRvU2Nyb2xsPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksdGhpcy4kZnJvbSYmIWU/dGhpcy5zdGFydE91dChjLGIsZSk6dGhpcy5kb25lT3V0KGMsYixlLCEwKSx0aGlzLmRlZmVycmVkLnByb21pc2UoKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITAsYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLiRmcm9tLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVPdXQoYixjLGQpfSx0aGlzKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb24ucHJvdG90eXBlLGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHtzZXF1ZW50aWFsOiExLGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmRvbmVPdXQoYSxiLGMpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe3JldHVybiAzKmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e3NlcXVlbnRpYWw6YS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbixzaW11bHRhbmVvdXM6YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb259LGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2VxdWVudGlhbCxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGJ9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93PSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zaW11bHRhbmVvdXMsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9ImZhZGUiCn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPWEubW9iaWxlLmRlZ3JhZGVJbnB1dHMsYS5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbj1mdW5jdGlvbihiKXtiPWEoYiksYi5maW5kKCJpbnB1dCIpLm5vdChhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9YSh0aGlzKSxnPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksaD1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddfHwidGV4dCI7YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXSYmKGI9YSgiPGRpdj4iKS5odG1sKGYuY2xvbmUoKSkuaHRtbCgpLGM9Yi5pbmRleE9mKCIgdHlwZT0iKT4tMSxkPWM/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLGU9JyB0eXBlPSInK2grJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2crJyInKyhjPyIiOiI+IiksZi5yZXBsYWNlV2l0aChiLnJlcGxhY2UoZCxlKSkpfSl9fShhKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS5wYWdlLHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGRpYWxvZzohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmKGEuZXh0ZW5kKHRoaXMse19pc0Nsb3NlYWJsZTohMSxfaW5uZXI6dGhpcy5lbGVtZW50LmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bikpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kaWFsb2ciKS53cmFwSW5uZXIoYSgiPGRpdi8+Iix7cm9sZToiZGlhbG9nIiwiY2xhc3MiOiJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvdyIrKHRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpfSkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlLGY9dGhpcy5vcHRpb25zO2IuY29ybmVycyE9PWMmJnRoaXMuX2lubmVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIiwhIWIuY29ybmVycyksYi5vdmVybGF5VGhlbWUhPT1jJiZhLm1vYmlsZS5hY3RpdmVQYWdlWzBdPT09dGhpcy5lbGVtZW50WzBdJiYoZi5vdmVybGF5VGhlbWU9Yi5vdmVybGF5VGhlbWUsdGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKSksYi5jbG9zZUJ0blRleHQhPT1jJiYoZD1mLmNsb3NlQnRuLGU9Yi5jbG9zZUJ0blRleHQpLGIuY2xvc2VCdG4hPT1jJiYoZD1iLmNsb3NlQnRuKSxkJiZ0aGlzLl9zZXRDbG9zZUJ0bihkLGUpLHRoaXMuX3N1cGVyKGIpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lPyh0aGlzLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKSx0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQodGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSkpOnRoaXMuX3N1cGVyKCl9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiPT09Yj8icmlnaHQiOiJub25lIiwibm9uZSI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi0iK2IpLGMmJmUudGV4dChjKSk6KGQ9dGhpcy5faW5uZXIuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maXJzdCgpLGU9YSgiPGE+PC9hPiIse3JvbGU6ImJ1dHRvbiIsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi0iK2J9KS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fCIiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6ImNsb3NlIn0pKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiLGMsZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O2EubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZkLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOihiPU1hdGgubWF4KDAsZC5hY3RpdmVJbmRleC0xKSxjPWQuc3RhY2tbYl0ucGFnZVVybHx8ZC5zdGFja1tiXS51cmwsZC5wcmV2aW91c0luZGV4PWQuYWN0aXZlSW5kZXgsZC5hY3RpdmVJbmRleD1iLGEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYykpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyx7ZGlyZWN0aW9uOiJiYWNrIixjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIse29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSExfSxfaGFuZGxlVkNsaWNrU3VibWl0OmZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz17fSxjWyJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iXT0oYS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKXx8e30pLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uLGNbImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIl09InJldmVyc2UiLGQuYXR0cihjKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7Yi5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyhjLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHN1Ym1pdDoiX2hhbmRsZVZDbGlja1N1Ym1pdCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSx0aGlzLl9zZXRDbG9zZUJ0bihjLmNsb3NlQnRuKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7cm9sZToiYnV0dG9uIixocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSx0aGlzLl9vbihlLHtjbGljazoiY2xvc2UifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmZC5hY3RpdmVJbmRleD4wP2EubW9iaWxlLmJhY2soKTooYj1NYXRoLm1heCgwLGQuYWN0aXZlSW5kZXgtMSksYz1kLnN0YWNrW2JdLnBhZ2VVcmx8fGQuc3RhY2tbYl0udXJsLGQucHJldmlvdXNJbmRleD1kLmFjdGl2ZUluZGV4LGQuYWN0aXZlSW5kZXg9YixhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MpKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMse2RpcmVjdGlvbjoiYmFjayIsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKSl9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0vKFtBLVpdKS9nO2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLHtvcHRpb25zOntlbmhhbmNlZDohMSxleHBhbmRDdWVUZXh0Om51bGwsY29sbGFwc2VDdWVUZXh0Om51bGwsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsY29sbGFwc2VkSWNvbjpudWxsLGV4cGFuZGVkSWNvbjpudWxsLGljb25wb3M6bnVsbCx0aGVtZTpudWxsLGNvbnRlbnRUaGVtZTpudWxsLGluc2V0Om51bGwsY29ybmVyczpudWxsLG1pbmk6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXthY2NvcmRpb246Yi5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIrKGEubW9iaWxlLmNvbGxhcHNpYmxlc2V0PyIsIDptb2JpbGUtY29sbGFwc2libGVzZXQiOiIiKSkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpfTthLmV4dGVuZCh0aGlzLHtfdWk6Y30pLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8oYy5oZWFkaW5nPWEoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIix0aGlzLmVsZW1lbnRbMF0pLGMuY29udGVudD1jLmhlYWRpbmcubmV4dCgpLGMuYW5jaG9yPWEoImEiLGMuaGVhZGluZ1swXSkuZmlyc3QoKSxjLnN0YXR1cz1jLmFuY2hvci5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikpOnRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9vbihjLmhlYWRpbmcse3RhcDpmdW5jdGlvbigpe2MuaGVhZGluZy5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LGNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCFjLmhlYWRpbmcuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikpLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfX0pfSxfZ2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlPXRoaXMuX3VpLmFjY29yZGlvbixmPXRoaXMuX3VpLmFjY29yZGlvbldpZGdldDtiPWEuZXh0ZW5kKHt9LGIpLGUubGVuZ3RoJiYhZiYmKHRoaXMuX3VpLmFjY29yZGlvbldpZGdldD1mPWUuZGF0YSgibW9iaWxlLWNvbGxhcHNpYmxlc2V0IikpO2ZvcihkIGluIGIpYltkXT1udWxsIT1iW2RdP2JbZF06Zj9mLm9wdGlvbnNbZF06ZS5sZW5ndGg/YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGVbMF0sZC5yZXBsYWNlKGMsIi0kMSIpLnRvTG93ZXJDYXNlKCkpOm51bGwsbnVsbD09YltkXSYmKGJbZF09YS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHNbZF0pO3JldHVybiBifSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjoiIn0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKSxmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZS5jb250ZW50VGhlbWUpO3JldHVybiBiLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSAiKyhlLmluc2V0PyJ1aS1jb2xsYXBzaWJsZS1pbnNldCAiOiIiKSsoZS5pbnNldCYmZS5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKyhmPyJ1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCAiOiIiKSksYy5vcmlnaW5hbEhlYWRpbmc9Yi5jaGlsZHJlbih0aGlzLm9wdGlvbnMuaGVhZGluZykuZmlyc3QoKSxjLmNvbnRlbnQ9Yi53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQgIitmKyInPjwvZGl2PiIpLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGMuaGVhZGluZz1jLm9yaWdpbmFsSGVhZGluZyxjLmhlYWRpbmcuaXMoImxlZ2VuZCIpJiYoYy5oZWFkaW5nPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitjLmhlYWRpbmcuaHRtbCgpKyI8L2Rpdj4iKSxjLnBsYWNlaG9sZGVyPWEoIjxkaXY+PCEtLSBwbGFjZWhvbGRlciBmb3IgbGVnZW5kIC0tPjwvZGl2PiIpLmluc2VydEJlZm9yZShjLm9yaWdpbmFsSGVhZGluZyksYy5vcmlnaW5hbEhlYWRpbmcucmVtb3ZlKCkpLGQ9ZS5jb2xsYXBzZWQ/ZS5jb2xsYXBzZWRJY29uPyJ1aS1pY29uLSIrZS5jb2xsYXBzZWRJY29uOiIiOmUuZXhwYW5kZWRJY29uPyJ1aS1pY29uLSIrZS5leHBhbmRlZEljb246IiIsYy5zdGF0dXM9YSgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+IiksYy5hbmNob3I9Yy5oZWFkaW5nLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKGMuc3RhdHVzKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKCJ1aS1idG4gIisoZD9kKyIgIjoiIikrKGQ/InVpLWJ0bi1pY29uLSIrKCJyaWdodCI9PT1lLmljb25wb3M/InJpZ2h0IjoibGVmdCIpKyIgIjoiIikrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGUudGhlbWUpKyIgIisoZS5taW5pPyJ1aS1taW5pICI6IiIpKSxjLmhlYWRpbmcuaW5zZXJ0QmVmb3JlKGMuY29udGVudCksdGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UodGhpcy5vcHRpb25zLmNvbGxhcHNlZCksY30scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiLGM9e307Zm9yKGIgaW4gYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMpY1tiXT10aGlzLm9wdGlvbnNbYl07dGhpcy5fc2V0T3B0aW9ucyhjKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9dGhpcy5fdWksaT1oLmFuY2hvcixqPWguc3RhdHVzLGs9dGhpcy5fZ2V0T3B0aW9ucyhhKTthLmNvbGxhcHNlZCE9PWImJnRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKGEuY29sbGFwc2VkKSxjPWYuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGFwc2VkIiksYz8oay5leHBhbmRDdWVUZXh0IT09YiYmai50ZXh0KGsuZXhwYW5kQ3VlVGV4dCksay5jb2xsYXBzZWRJY29uIT09YiYmKGcuY29sbGFwc2VkSWNvbiYmaS5yZW1vdmVDbGFzcygidWktaWNvbi0iK2cuY29sbGFwc2VkSWNvbiksay5jb2xsYXBzZWRJY29uJiZpLmFkZENsYXNzKCJ1aS1pY29uLSIray5jb2xsYXBzZWRJY29uKSkpOihrLmNvbGxhcHNlQ3VlVGV4dCE9PWImJmoudGV4dChrLmNvbGxhcHNlQ3VlVGV4dCksay5leHBhbmRlZEljb24hPT1iJiYoZy5leHBhbmRlZEljb24mJmkucmVtb3ZlQ2xhc3MoInVpLWljb24tIitnLmV4cGFuZGVkV0ljb24pLGsuZXhwYW5kZWRJY29uJiZpLmFkZENsYXNzKCJ1aS1pY29uLSIray5leHBhbmRlZEljb24pKSksay5pY29ucG9zIT09YiYmKGkucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrKCJyaWdodCI9PT1nLmljb25Qb3M/InJpZ2h0IjoibGVmdCIpKSxpLmFkZENsYXNzKCJ1aS1idG4taWNvbi0iKygicmlnaHQiPT09ay5pY29uUG9zPyJyaWdodCI6ImxlZnQiKSkpLGsudGhlbWUhPT1iJiYoZT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsZy50aGVtZSksZD10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsay50aGVtZSksaS5yZW1vdmVDbGFzcyhlKS5hZGRDbGFzcyhkKSksay5jb250ZW50VGhlbWUhPT1iJiYoZT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGcudGhlbWUpLGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixrLnRoZW1lKSxoLmNvbnRlbnQucmVtb3ZlQ2xhc3MoZSkuYWRkQ2xhc3MoZCkpLGsuaW5zZXQhPT1iJiYoZi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaW5zZXQiLGsuaW5zZXQpLGcuaW5zZXQ9ay5pbnNldCxrLmluc2V0fHwoay5jb3JuZXJzPSExKSksay5jb3JuZXJzIT09YiYmZi50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZy5pbnNldCYmay5jb3JuZXJzKSxrLm1pbmkhPT1iJiZpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixrLm1pbmkpLHRoaXMuX3N1cGVyKGEpfSxfaGFuZGxlRXhwYW5kQ29sbGFwc2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLGQ9dGhpcy5fdWk7ZC5zdGF0dXMudGV4dChiP2MuZXhwYW5kQ3VlVGV4dDpjLmNvbGxhcHNlQ3VlVGV4dCksZC5oZWFkaW5nLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIsYikuZmluZCgiYSIpLmZpcnN0KCkudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmV4cGFuZGVkSWNvbiwhYikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmNvbGxhcHNlZEljb24sYnx8Yy5leHBhbmRlZEljb249PT1jLmNvbGxhcHNlZEljb24pLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsYiksZC5jb250ZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsYikuYXR0cigiYXJpYS1oaWRkZW4iLGIpLnRyaWdnZXIoInVwZGF0ZWxheW91dCIpLHRoaXMub3B0aW9ucy5jb2xsYXBzZWQ9Yix0aGlzLl90cmlnZ2VyKGI/ImNvbGxhcHNlIjoiZXhwYW5kIil9LGV4cGFuZDpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCExKX0sY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSghMCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWksYj10aGlzLm9wdGlvbnM7Yi5lbmhhbmNlZHx8KGEucGxhY2Vob2xkZXI/KGEub3JpZ2luYWxIZWFkaW5nLmluc2VydEJlZm9yZShhLnBsYWNlaG9sZGVyKSxhLnBsYWNlaG9sZGVyLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmUoKSk6KGEuc3RhdHVzLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyB1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKSksYS5hbmNob3IuY29udGVudHMoKS51bndyYXAoKSxhLmNvbnRlbnQuY29udGVudHMoKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlIHVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCB1aS1jb2xsYXBzaWJsZS1pbnNldCB1aS1jb3JuZXItYWxsIikpfX0pLGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzPXtleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkSWNvbjoicGx1cyIsY29udGVudFRoZW1lOiJpbmhlcml0IixleHBhbmRlZEljb246Im1pbnVzIixpY29ucG9zOiJsZWZ0IixpbnNldDohMCxjb3JuZXJzOiEwLG1pbmk6ITF9fShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3Nlcz17X2dldFZpc2libGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGI/Yz1hLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTooYz1hLmZpbHRlcigiOnZpc2libGUiKSwwPT09Yy5sZW5ndGgmJihjPWEubm90KCIudWktc2NyZWVuLWhpZGRlbiIpKSksY30sX2FkZEZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKSxiLmVxKDApLmFkZENsYXNzKCJ1aS1maXJzdC1jaGlsZCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcygidWktbGFzdC1jaGlsZCIpLGN8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX0sX3JlbW92ZUZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9Ijptb2JpbGUtY29sbGFwc2libGUsICIrYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yO2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIixvcHRpb25zOmEuZXh0ZW5kKHtlbmhhbmNlZDohMX0sYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMpLF9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZDpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtjLnBhcmVudCgpLmlzKCI6bW9iaWxlLWNvbGxhcHNpYmxlc2V0LCA6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGU6bm90KC51aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQpIikuY29sbGFwc2libGUoImNvbGxhcHNlIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X2NsYXNzZXM6IiJ9KSxjLmVuaGFuY2VkfHwoYi5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0ICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsYy50aGVtZSkrIiAiKyhjLmNvcm5lcnMmJmMuaW5zZXQ/InVpLWNvcm5lci1hbGwgIjoiIikpLHRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcikuY29sbGFwc2libGUoKSksdGhpcy5fb24oYix7Y29sbGFwc2libGVleHBhbmQ6Il9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZCJ9KX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/Im5vbmUiPT09Yj8iIjphK2I6IiJ9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMCksdGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpLmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIikuY29sbGFwc2libGUoImV4cGFuZCIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuZWxlbWVudCxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLGEudGhlbWUpO3JldHVybiBlJiZkLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKGUpLGEuY29ybmVycyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYz10aGlzLl9zdXBlcihhKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjptb2JpbGUtY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgicmVmcmVzaCIpLGN9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3RoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYS5jaGlsZHJlbihjKSksYS5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtc2V0IHVpLWNvcm5lci1hbGwgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUiLHRoaXMub3B0aW9ucy50aGVtZSkpLmNoaWxkcmVuKCI6bW9iaWxlLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoImRlc3Ryb3kiKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpO2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlKGQubm90KCIudWktY29sbGFwc2libGUiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhkLHRoaXMuX2dldFZpc2libGVzKGQsYiksYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCExKX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSl9KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4iKX19KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGMsZCxlPWEodGhpcyksZj1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxnPWUuY2hpbGRyZW4oKSxoPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxpPWYuZ3JpZDtpZighaSlpZihnLmxlbmd0aDw9NSlmb3IoZCBpbiBoKWhbZF09PT1nLmxlbmd0aCYmKGk9ZCk7ZWxzZSBpPSJhIixlLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2M9aFtpXSxlLmFkZENsYXNzKCJ1aS1ncmlkLSIraSksZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxjPjEmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksYz4yJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGM+MyYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxjPjQmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxlPWQuZmluZCgiYSIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJpY29uIiksYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywidGhlbWUiKSxkPSJ1aS1idG4iO2MmJihkKz0iIHVpLWJ0bi0iK2MpLGImJihkKz0iIHVpLWljb24tIitiKyIgdWktYnRuLWljb24tIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXt2YXIgYjthKHRoaXMpLmlzKCIudWktZGlzYWJsZWQsIC51aS1idG4tYWN0aXZlIil8fChlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKHRoaXMpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiPWEodGhpcyksYShjKS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpfSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGU7YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246ImNhcmF0LXIiLHNwbGl0SWNvbjoiY2FyYXQtciIsc3BsaXRUaGVtZTpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGluc2V0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSIiO2IrPWEub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixhLm9wdGlvbnMuaW5zZXQmJihiKz1hLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLGIrPWEub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoIiB1aS1saXN0dmlldyIrYiksYS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Zm9yKGVbY109ZVtkXT0hMDthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPWIubGVuZ3RoO2ZvcihjPTA7ZT5jO2MrKylkPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGQubGVuZ3RoJiZhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZFswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhkLmhhc0NsYXNzKCJ1aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIil9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmb3IoZltjXT1mW2RdPSEwLGI9Yi5maXJzdENoaWxkO2I7KWZbYi5ub2RlTmFtZV0mJmUucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZSl9LHJlZnJlc2g6ZnVuY3Rpb24oYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdz10aGlzLm9wdGlvbnMseD10aGlzLmVsZW1lbnQseT10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZSh4WzBdLCJsaSIsIkxJIiksej0hIWEubm9kZU5hbWUoeFswXSwib2wiKSxBPXguYXR0cigic3RhcnQiKSxCPXt9LEM9eC5maW5kKCIudWktbGktY291bnQiKSxEPWIoeFswXSwiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSxFPUQ/InVpLWJvZHktIitEOiJ1aS1ib2R5LWluaGVyaXQiO2Zvcih3LnRoZW1lJiZ4LmFkZENsYXNzKCJ1aS1ncm91cC10aGVtZS0iK3cudGhlbWUpLHomJihBfHwwPT09QSkmJihuPXBhcnNlSW50KEEsMTApLTEseC5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbikpLGU9MCxmPXkubGVuZ3RoO2Y+ZTtlKyspZz15LmVxKGUpLGg9IiIsKGN8fGdbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1saS1zdGF0aWNcYnxcYnVpLWxpLWRpdmlkZXJcYi8pPDApJiYobD10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShnWzBdLCJhIiwiQSIpLG09Imxpc3QtZGl2aWRlciI9PT1iKGdbMF0sInJvbGUiKSxwPWcuYXR0cigidmFsdWUiKSxpPWIoZ1swXSwidGhlbWUiKSxsLmxlbmd0aCYmbFswXS5jbGFzc05hbWUuc2VhcmNoKC9cYnVpLWJ0blxiLyk8MCYmIW0/KGo9YihnWzBdLCJpY29uIiksaz1qPT09ITE/ITE6anx8dy5pY29uLGwucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKSxkPSJ1aS1idG4iLGkmJihkKz0iIHVpLWJ0bi0iK2kpLGwubGVuZ3RoPjE/KGg9InVpLWxpLWhhcy1hbHQiLHE9bC5sYXN0KCkscj1iKHFbMF0sInRoZW1lIil8fHcuc3BsaXRUaGVtZXx8YihnWzBdLCJ0aGVtZSIsITApLHM9cj8iIHVpLWJ0bi0iK3I6IiIsdD1iKHFbMF0sImljb24iKXx8YihnWzBdLCJpY29uIil8fHcuc3BsaXRJY29uLHU9InVpLWJ0biB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi0iK3QrcyxxLmF0dHIoInRpdGxlIixhLnRyaW0ocS5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3ModSkuZW1wdHkoKSk6ayYmKGQrPSIgdWktYnRuLWljb24tcmlnaHQgdWktaWNvbi0iK2spLGwuZmlyc3QoKS5hZGRDbGFzcyhkKSk6bT8odj1iKGdbMF0sInRoZW1lIil8fHcuZGl2aWRlclRoZW1lfHx3LnRoZW1lLGg9InVpLWxpLWRpdmlkZXIgdWktYmFyLSIrKHY/djoiaW5oZXJpdCIpLGcuYXR0cigicm9sZSIsImhlYWRpbmciKSk6bC5sZW5ndGg8PTAmJihoPSJ1aS1saS1zdGF0aWMgdWktYm9keS0iKyhpP2k6ImluaGVyaXQiKSkseiYmcCYmKG89cGFyc2VJbnQocCwxMCktMSxnLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIitvKSkpLEJbaF18fChCW2hdPVtdKSxCW2hdLnB1c2goZ1swXSk7Zm9yKGggaW4gQilhKEJbaF0pLmFkZENsYXNzKGgpO0MuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KSxFJiZDLmFkZENsYXNzKEUpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh5KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMoeS5maW5kKCIudWktYnRuIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoeSx0aGlzLl9nZXRWaXNpYmxlcyh5LGMpLGMpLHRoaXMuX3RyaWdnZXIoImFmdGVycmVmcmVzaCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KCIiKyhhLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiZmlsdGVydGV4dCIpfHxhKHRoaXMpLnRleHQoKSkpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKX07YS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIix7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShmaWx0ZXI9J3RydWUnKSIsb3B0aW9uczp7ZmlsdGVyUmV2ZWFsOiExLGZpbHRlckNhbGxiYWNrOmQsZW5oYW5jZWQ6ITEsaW5wdXQ6bnVsbCxjaGlsZHJlbjoiPiBsaSwgPiBvcHRpb24sIG9wdGdyb3VwIG9wdGlvbnMsIHRib2R5IHRyLCAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIC51aS1idG4ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19zZWFyY2g6bnVsbCxfdGltZXI6MH0pLHRoaXMuX3NldElucHV0KGIuaW5wdXQpLGIuZW5oYW5jZWR8fHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8IiIpLnRvTG93ZXJDYXNlKCkpfSxfb25LZXlVcDpmdW5jdGlvbigpe3ZhciBjLGQsZT10aGlzLl9zZWFyY2g7aWYoZSl7aWYoYz1lLnZhbCgpLnRvTG93ZXJDYXNlKCksZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSwibGFzdHZhbCIpKyIiLGQmJmQ9PT1jKXJldHVybjt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl90aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsImJlZm9yZWZpbHRlciIse2lucHV0OmV9KSxlWzBdLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJsYXN0dmFsIixjKSx0aGlzLl9maWx0ZXJJdGVtcyhjKSx0aGlzLl90aW1lcj0wfSwyNTApfX0sX2dldEZpbHRlcmFibGVJdGVtczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jaGlsZHJlbixkPWM/YS5pc0Z1bmN0aW9uKGMpP2MoKTpjLm5vZGVOYW1lP2EoYyk6Yy5qcXVlcnk/Yzp0aGlzLmVsZW1lbnQuZmluZChjKTp7bGVuZ3RoOjB9O3JldHVybiAwPT09ZC5sZW5ndGgmJihkPWIuY2hpbGRyZW4oKSksZH0sX2ZpbHRlckl0ZW1zOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGg9W10saT1bXSxqPXRoaXMub3B0aW9ucyxrPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2lmKG51bGwhPWIpZm9yKGU9ai5maWx0ZXJDYWxsYmFja3x8ZCxmPWsubGVuZ3RoLGM9MDtmPmM7YysrKWc9ZS5jYWxsKGtbY10sYyxiKT9pOmgsZy5wdXNoKGtbY10pOzA9PT1pLmxlbmd0aD9rW2ouZmlsdGVyUmV2ZWFsPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oInVpLXNjcmVlbi1oaWRkZW4iKTooYShpKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLGEoaCkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSksdGhpcy5fcmVmcmVzaENoaWxkV2lkZ2V0KCl9LF9yZWZyZXNoQ2hpbGRXaWRnZXQ6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdO2ZvcihjPWQubGVuZ3RoLTE7Yz4tMTtjLS0pYj1kW2NdLGEubW9iaWxlW2JdJiYoYj10aGlzLmVsZW1lbnQuZGF0YSgibW9iaWxlLSIrYiksYiYmYS5pc0Z1bmN0aW9uKGIucmVmcmVzaCkmJmIucmVmcmVzaCgpKX0sX3NldElucHV0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuX3NlYXJjaDt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSxkJiYodGhpcy5fb2ZmKGQsImtleXVwIGNoYW5nZSBpbnB1dCIpLGQ9bnVsbCksYyYmKGQ9Yy5qcXVlcnk/YzpjLm5vZGVOYW1lP2EoYyk6dGhpcy5kb2N1bWVudC5maW5kKGMpLHRoaXMuX29uKGQse2tleXVwOiJfb25LZXlVcCIsY2hhbmdlOiJfb25LZXlVcCIsaW5wdXQ6Il9vbktleVVwIn0pKSx0aGlzLl9zZWFyY2g9ZH0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9IShhLmZpbHRlclJldmVhbD09PWMmJmEuZmlsdGVyQ2FsbGJhY2s9PT1jJiZhLmNoaWxkcmVuPT09Yyk7dGhpcy5fc3VwZXIoYSksYS5pbnB1dCE9PWMmJih0aGlzLl9zZXRJbnB1dChhLmlucHV0KSxiPSEwKSxiJiZ0aGlzLnJlZnJlc2goKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTthLmVuaGFuY2VkP2IudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGEuZmlsdGVyUmV2ZWFsKTpiLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl9maWx0ZXJJdGVtcygodGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2gudmFsKCl8fCIiKS50b0xvd2VyQ2FzZSgpKX19KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiLmNhbGwodGhpcyxjKSxhLl9zeW5jVGV4dElucHV0T3B0aW9ucyhjKX19LGQ9LyhefFxzKXVpLWxpLWRpdmlkZXIoXHN8JCkvLGU9YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjazthLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXRoaXMuY2xhc3NOYW1lLm1hdGNoKGQpJiZlLmNhbGwodGhpcyxhLGIpfSxhLndpZGdldCgibW9iaWxlLmZpbHRlcmFibGUiLGEubW9iaWxlLmZpbHRlcmFibGUse29wdGlvbnM6e2ZpbHRlclBsYWNlaG9sZGVyOiJGaWx0ZXIgaXRlbXMuLi4iLGZpbHRlclRoZW1lOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcy5lbGVtZW50LGU9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdLGY9e307Zm9yKHRoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X3dpZGdldDpudWxsfSksYj1lLmxlbmd0aC0xO2I+LTE7Yi0tKWlmKGM9ZVtiXSxhLm1vYmlsZVtjXSl7aWYodGhpcy5fc2V0V2lkZ2V0KGQuZGF0YSgibW9iaWxlLSIrYykpKWJyZWFrO2ZbYysiY3JlYXRlIl09Il9oYW5kbGVDcmVhdGUifXRoaXMuX3dpZGdldHx8dGhpcy5fb24oZCxmKX0sX2hhbmRsZUNyZWF0ZTpmdW5jdGlvbihhKXt0aGlzLl9zZXRXaWRnZXQodGhpcy5lbGVtZW50LmRhdGEoIm1vYmlsZS0iK2EudHlwZS5zdWJzdHJpbmcoMCxhLnR5cGUubGVuZ3RoLTYpKSl9LF9zZXRXaWRnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuX3dpZGdldCYmYSYmKHRoaXMuX3dpZGdldD1hLHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucz1jKHRoaXMsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zKSksdGhpcy5fd2lkZ2V0JiZ0aGlzLl9zeW5jVGV4dElucHV0T3B0aW9ucyh0aGlzLl93aWRnZXQub3B0aW9ucyksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoInVpLWZpbHRlcmFibGUtIit0aGlzLnV1aWQrIi1pbnRlcm5hbCIpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9ITAsZT17fTtpZighYil7aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpKXJldHVybjtkPSExLGI9YSgiPGlucHV0IGRhdGEtIithLm1vYmlsZS5ucysidHlwZT0nc2VhcmNoJyAiKyJwbGFjZWhvbGRlcj0nIitjLmZpbHRlclBsYWNlaG9sZGVyKyInPjwvaW5wdXQ+IikuanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIiwhMCksYSgiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT4iKS5hcHBlbmQoYikuc3VibWl0KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmJsdXIoKX0pLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpLGEubW9iaWxlLnRleHRpbnB1dCYmKG51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZSYmKGUudGhlbWU9Yy5maWx0ZXJUaGVtZSksYi50ZXh0aW5wdXQoZSkpfXRoaXMuX3N1cGVyKGIpLHRoaXMuX3NlYXJjaCYmZCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIixjLmZpbHRlclBsYWNlaG9sZGVyKSxjLmZpbHRlclRoZW1lIT09YiYmdGhpcy5fc2VhcmNoJiZhLm1vYmlsZS50ZXh0aW5wdXQmJnRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsInRoZW1lIixjLmZpbHRlclRoZW1lKSxkfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF9zeW5jVGV4dElucHV0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZCxlPXt9O2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmYS5tb2JpbGUudGV4dGlucHV0KXtmb3IoZCBpbiBhLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLm9wdGlvbnMpY1tkXSE9PWImJihlW2RdPSJ0aGVtZSI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsZSl9fX0pfShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEudHJpbShiLnRleHQoKSl8fG51bGw7cmV0dXJuIGM/Yz1jLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTpudWxsfWEud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOnthdXRvZGl2aWRlcnM6ITEsYXV0b2RpdmlkZXJzU2VsZWN0b3I6Yn0sX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3RoaXMuX29mZihhLCJsaXN0dmlld2FmdGVycmVmcmVzaCIpLHRoaXMuX3JlcGxhY2VEaXZpZGVycygpLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKGEse2xpc3R2aWV3YWZ0ZXJyZWZyZXNoOiJfYWZ0ZXJMaXN0dmlld1JlZnJlc2gifSl9LF9yZXBsYWNlRGl2aWRlcnM6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGg9bnVsbCxpPXRoaXMuZWxlbWVudDtmb3IoaS5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCksZD1pLmZpbmQoImxpIiksYj0wO2I8ZC5sZW5ndGg7YisrKWU9ZFtiXSxmPXRoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihhKGUpKSxmJiZoIT09ZiYmKGc9Yy5jcmVhdGVFbGVtZW50KCJsaSIpLGcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShmKSksZy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZyxlKSksaD1mfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzJiZ0aGlzLl9hZnRlckxpc3R2aWV3UmVmcmVzaCgpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj0vKF58XHMpdWktbGktZGl2aWRlcigkfFxzKS8sYz0vKF58XHMpdWktc2NyZWVuLWhpZGRlbigkfFxzKS87YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2hpZGVkaXZpZGVyczohMH0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGQsZSxmPSEwO2lmKHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuaGlkZWRpdmlkZXJzKWZvcihhPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHRoaXMuZWxlbWVudFswXSwibGkiLCJMSSIpLGQ9YS5sZW5ndGgtMTtkPi0xO2QtLSllPWFbZF0sZS5jbGFzc05hbWUubWF0Y2goYik/KGYmJihlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZSsiIHVpLXNjcmVlbi1oaWRkZW4iKSxmPSEwKTplLmNsYXNzTmFtZS5tYXRjaChjKXx8KGY9ITEpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5ub2pzPWZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsYikuYWRkQ2xhc3MoInVpLW5vanMiKX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiaW5wdXQ6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApIClbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSkiLG9wdGlvbnM6e3RoZW1lOiJpbmhlcml0IixtaW5pOiExLHdyYXBwZXJDbGFzczpudWxsLGVuaGFuY2VkOiExLGljb25wb3M6ImxlZnQifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5qcW1EYXRhKGIpfHxhLmNsb3Nlc3QoImZvcm0sIGZpZWxkc2V0IikuanFtRGF0YShiKX0sZT1iLmNsb3Nlc3QoImxhYmVsIiksZj1lLmxlbmd0aD9lOmIuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQsIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJsYWJlbCIpLmZpbHRlcigiW2Zvcj0nIithLm1vYmlsZS5wYXRoLmhhc2hUb1NlbGVjdG9yKGJbMF0uaWQpKyInXSIpLmZpcnN0KCksZz1iWzBdLnR5cGUsaD1nKyItb24iLGk9ZysiLW9mZiIsaj0idWktIitoLGs9InVpLSIraTsoImNoZWNrYm94Ij09PWd8fCJyYWRpbyI9PT1nKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYiwiaWNvbnBvcyIpfHxmLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIpfHxjLmljb25wb3MsYy5taW5pPWQoYiwibWluaSIpfHxjLm1pbmksYS5leHRlbmQodGhpcyx7aW5wdXQ6YixsYWJlbDpmLHBhcmVudExhYmVsOmUsaW5wdXR0eXBlOmcsY2hlY2tlZENsYXNzOmosdW5jaGVja2VkQ2xhc3M6ayxjaGVja2VkaWNvbjpoLHVuY2hlY2tlZGljb246aX0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGYse3Ztb3VzZW92ZXI6Il9oYW5kbGVMYWJlbFZNb3VzZU92ZXIiLHZjbGljazoiX2hhbmRsZUxhYmVsVkNsaWNrIn0pLHRoaXMuX29uKGIse3Ztb3VzZWRvd246Il9jYWNoZVZhbHMiLHZjbGljazoiX2hhbmRsZUlucHV0VkNsaWNrIixmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMiLGJsdXI6Il9oYW5kbGVJbnB1dEJsdXIifSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoInVpLWJ0biB1aS1jb3JuZXItYWxsIiksdGhpcy5wYXJlbnRMYWJlbC5sZW5ndGg+MD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcz90aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzOiIiKSsiIHVpLSIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8iIHVpLWRpc2FibGVkIjoiIikrIicgPiIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7YS5pcygiOmNoZWNrZWQiKT8oYS5wcm9wKCJjaGVja2VkIiwhMCksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QoYSkucHJvcCgiY2hlY2tlZCIsITEpKTphLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKX0sX2hhbmRsZUxhYmVsVk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt0aGlzLmxhYmVsLnBhcmVudCgpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KX0sX2hhbmRsZUxhYmVsVkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtyZXR1cm4gYi5pcygiOmRpc2FibGVkIik/KGEucHJldmVudERlZmF1bHQoKSx2b2lkIDApOih0aGlzLl9jYWNoZVZhbHMoKSxiLnByb3AoImNoZWNrZWQiLCJyYWRpbyI9PT10aGlzLmlucHV0dHlwZSYmITB8fCFiLnByb3AoImNoZWNrZWQiKSksYi50cmlnZ2VySGFuZGxlcigiY2xpY2siKSx0aGlzLl9nZXRJbnB1dFNldCgpLm5vdChiKS5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy5fdXBkYXRlQWxsKCksITEpfSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiJjaGVja2JveCI9PT10aGlzLmlucHV0dHlwZT90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJpbnB1dFtuYW1lPSciK3RoaXMuZWxlbWVudFswXS5uYW1lKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpOyh0aGlzLmNoZWNrZWR8fCJjaGVja2JveCI9PT1iLmlucHV0dHlwZSkmJmMudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50WzBdLGM9IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGQ9MD09PXRoaXMuZWxlbWVudC5wYXJlbnRzKCIudWktY29udHJvbGdyb3VwLWhvcml6b250YWwiKS5sZW5ndGgsZT10aGlzLmNoZWNrZWRDbGFzcysoZD8iIjpjKSxmPXRoaXMubGFiZWw7Zi50b2dnbGVDbGFzcygidWktaWNvbi0iK3RoaXMuY2hlY2tlZGljb24sYi5jaGVja2VkKS50b2dnbGVDbGFzcygidWktaWNvbi0iK3RoaXMudW5jaGVja2VkaWNvbiwhYi5jaGVja2VkKSxiLmNoZWNrZWQ/Zi5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzK2MpLmFkZENsYXNzKGUpOmYucmVtb3ZlQ2xhc3MoZSkuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsLnBhcmVudCgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLmRpc2FibGVkIT09YiYmKHRoaXMuaW5wdXQucHJvcCgiZGlzYWJsZWQiLCEhYy5kaXNhYmxlZCksdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktZGlzYWJsZWQiLCEhYy5kaXNhYmxlZCkpLGMubWluaSE9PWImJnRoaXMubGFiZWwucGFyZW50KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLCEhYy5taW5pKSxjLnRoZW1lIT09YiYmdGhpcy5sYWJlbC5yZW1vdmVDbGFzcygidWktYnRuLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYy50aGVtZSksYy53cmFwcGVyQ2xhc3MhPT1iJiZ0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGMud3JhcHBlckNsYXNzKSxjLmljb25wb3MhPT1iJiYwPT09dGhpcy5lbGVtZW50LnBhcmVudHMoIltkYXRhLSIrYS5tb2JpbGUubnMrInR5cGU9J2hvcml6b250YWwnXSIpLmxlbmd0aD90aGlzLmxhYmVsLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK3RoaXMub3B0aW9ucy5pY29ucG9zKS5hZGRDbGFzcygidWktYnRuLWljb24tIitjLmljb25wb3MpOjAhPT10aGlzLmVsZW1lbnQucGFyZW50cygiW2RhdGEtIithLm1vYmlsZS5ucysidHlwZT0naG9yaXpvbnRhbCddIikubGVuZ3RoJiZ0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK3RoaXMub3B0aW9ucy5pY29ucG9zKSx0aGlzLl9zdXBlcihjKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nYnV0dG9uJ10sIGlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdyZXNldCddIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOiJsZWZ0IixpY29uc2hhZG93OiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCx3cmFwcGVyQ2xhc3M6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0ndWktYnRuIHVpLWlucHV0LWJ0biIrKHRoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M/IiAiK3RoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M6IiIpKyh0aGlzLm9wdGlvbnMudGhlbWU/IiB1aS1idG4tIit0aGlzLm9wdGlvbnMudGhlbWU6IiIpKyh0aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiKSsodGhpcy5vcHRpb25zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpKyh0aGlzLm9wdGlvbnMuaW5saW5lPyIgdWktYnRuLWlubGluZSI6IiIpKyh0aGlzLm9wdGlvbnMubWluaT8iIHVpLW1pbmkiOiIiKSsodGhpcy5vcHRpb25zLmRpc2FibGVkPyIgdWktZGlzYWJsZWQiOiIiKSsodGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMub3B0aW9ucy5pY29uPyIgdWktYnRuLWljb24tIit0aGlzLm9wdGlvbnMuaWNvbnBvczp0aGlzLm9wdGlvbnMuaWNvbj8iIHVpLWJ0bi1pY29uLWxlZnQiOiIiKSsodGhpcy5vcHRpb25zLmljb24/IiB1aS1pY29uLSIrdGhpcy5vcHRpb25zLmljb246IiIpKyInID4iK3RoaXMuZWxlbWVudC52YWwoKSsiPC9kaXY+Iil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndyYXBwZXJ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLmJ1dHRvbiksdGhpcy5idXR0b24ucmVtb3ZlKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1iJiZ0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLWJ0bi0iK2EudGhlbWUpLGEuY29ybmVycyE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS5zaGFkb3chPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGEuc2hhZG93KSxhLmlubGluZSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLWJ0bi1pbmxpbmUiLGEuaW5saW5lKSxhLm1pbmkhPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLGEuaWNvbnBvcyE9PWImJnRoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zKSxhLmljb24hPT1iJiYodGhpcy5vcHRpb25zLmljb25wb3N8fGEuaWNvbnBvc3x8dGhpcy53aWRnZXQudG9nZ2xlQ2xhc3MoInVpLWJ0bi1pY29uLWxlZnQiLGEuaWNvbiksdGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcygidWktaWNvbi0iK3RoaXMub3B0aW9ucy5pY29uKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2EuaWNvbixhLmljb24pKX0scmVmcmVzaDpmdW5jdGlvbihiKXtpZih0aGlzLm9wdGlvbnMuaWNvbiYmIm5vdGV4dCI9PT10aGlzLm9wdGlvbnMuaWNvbnBvcyYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIikmJnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIsdGhpcy5lbGVtZW50LnZhbCgpKSwhYil7dmFyIGM9dGhpcy5lbGVtZW50LmRldGFjaCgpO2EodGhpcy53cmFwcGVyKS50ZXh0KHRoaXMuZWxlbWVudC52YWwoKSkuYXBwZW5kKGMpfX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9YSgibWV0YVtuYW1lPXZpZXdwb3J0XSIpLGM9Yi5hdHRyKCJjb250ZW50IiksZD1jKyIsbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vIixlPWMrIixtYXhpbXVtLXNjYWxlPTEwLCB1c2VyLXNjYWxhYmxlPXllcyIsZj0vKHVzZXItc2NhbGFibGVbXHNdKj1bXHNdKm5vKXwobWF4aW11bS1zY2FsZVtcc10qPVtcc10qMSlbJCxcc10vLnRlc3QoYyk7YS5tb2JpbGUuem9vbT1hLmV4dGVuZCh7fSx7ZW5hYmxlZDohZixsb2NrZWQ6ITEsZGlzYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZHx8KGIuYXR0cigiY29udGVudCIsZCksYS5tb2JpbGUuem9vbS5lbmFibGVkPSExLGEubW9iaWxlLnpvb20ubG9ja2VkPWN8fCExKX0sZW5hYmxlOmZ1bmN0aW9uKGMpe2Z8fGEubW9iaWxlLnpvb20ubG9ja2VkJiZjIT09ITB8fChiLmF0dHIoImNvbnRlbnQiLGUpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMCxhLm1vYmlsZS56b29tLmxvY2tlZD0hMSl9LHJlc3RvcmU6ZnVuY3Rpb24oKXtmfHwoYi5hdHRyKCJjb250ZW50IixjKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITApfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0Iix7aW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhLCBpbnB1dFt0eXBlPSd0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGUnXSwgaW5wdXRbdHlwZT0nbW9udGgnXSwgaW5wdXRbdHlwZT0nd2VlayddLCBpbnB1dFt0eXBlPSdkYXRldGltZSddLCBpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBpbnB1dFt0eXBlPSdjb2xvciddLCBpbnB1dDpub3QoW3R5cGVdKSwgaW5wdXRbdHlwZT0nZmlsZSddIixvcHRpb25zOnt0aGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSx3cmFwcGVyQ2xhc3M6IiIsZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxkPSJURVhUQVJFQSI9PT10aGlzLmVsZW1lbnRbMF0udGFnTmFtZSxlPSh0aGlzLmVsZW1lbnQuaXMoImlucHV0Iil8fHRoaXMuZWxlbWVudC5pcygiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsidHlwZT0nc2VhcmNoJ10iKSkmJiF0aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKTthLmV4dGVuZCh0aGlzLHt0aGVtZWNsYXNzOiJ1aS1ib2R5LSIrKG51bGw9PT1iLnRoZW1lPyJpbmhlcml0IjpiLnRoZW1lKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpbnB1dE5lZWRzV3JhcDplfSksdGhpcy5fYXV0b0NvcnJlY3QoKSx0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLGIuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih7Zm9jdXM6Il9oYW5kbGVGb2N1cyIsYmx1cjoiX2hhbmRsZUJsdXIifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnMoe2Rpc2FibGVkOnRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIil9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmlzVGV4dGFyZWEmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLHRoaXMuZWxlbWVudC5pcygidGV4dGFyZWEsIFtkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKSYmKHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc2hhZG93LWluc2V0IiksdGhpcy5fc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpKSx0aGlzLmlucHV0TmVlZHNXcmFwJiZ0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl93cmFwKCkpCn0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXROZWVkc1dyYXA/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudH0sX3dyYXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7cmV0dXJuIGEoIjxkaXYgY2xhc3M9JyIrKHRoaXMuaXNTZWFyY2g/InVpLWlucHV0LXNlYXJjaCAiOiJ1aS1pbnB1dC10ZXh0ICIpKyJ1aS1ib2R5LSIrKG51bGw9PT1iLnRoZW1lPyJpbmhlcml0IjpiLnRoZW1lKSsiICIrKGIuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSsoYi5taW5pPyJ1aS1taW5pICI6IiIpKyhiLmRpc2FibGVkPyJ1aS1zdGF0ZS1kaXNhYmxlZCAiOiIiKSsoIiIhPT1iLndyYXBwZXJDbGFzcz9iLndyYXBwZXJDbGFzcysiICI6IiIpKyJ1aS1zaGFkb3ctaW5zZXQnPjwvZGl2PiIpfSxfYXV0b0NvcnJlY3Q6ZnVuY3Rpb24oKXsidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuZWxlbWVudFswXS5hdXRvY29ycmVjdHx8YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fCh0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLHRoaXMuZWxlbWVudFswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpKX0sX2hhbmRsZUJsdXI6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyksdGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sX2hhbmRsZUZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksdGhpcy5lbGVtZW50LmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMud2lkZ2V0KCk7dGhpcy5fc3VwZXIoYSksYS50aGVtZSE9PWImJihjPSJ1aS1ib2R5LSIrKG51bGw9PT1hLnRoZW1lPyJpbmhlcml0IjphLnRoZW1lKSxkLnJlbW92ZUNsYXNzKHRoaXMudGhlbWVjbGFzcykuYWRkQ2xhc3MoYyksdGhpcy50aGVtZWNsYXNzPWMpLGEuY29ybmVycyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS5taW5pIT09YiYmZC50b2dnbGVDbGFzcygidWktbWluaSIsYS5taW5pKSxhLmRpc2FibGVkIT09YiYmKHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISFhLmRpc2FibGVkKSxkLnRvZ2dsZUNsYXNzKCJ1aS1kaXNhYmxlZCIsISFhLmRpc2FibGVkKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5pbnB1dE5lZWRzV3JhcCYmdGhpcy5lbGVtZW50LnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaW5wdXQtdGV4dCAiK3RoaXMudGhlbWVjbGFzcysiIHVpLWNvcm5lci1hbGwgdWktbWluaSB1aS1kaXNhYmxlZCIpKX19KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLGhpZ2hsaWdodDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlLGYsZyxoLGksaixrLGwsbSxuLG89dGhpcyxwPXRoaXMuZWxlbWVudCxxPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxhLm1vYmlsZS5nZXRBdHRyaWJ1dGUocFswXSwidGhlbWUiKSxyPXE/IiB1aS1iYXItIitxOiIgdWktYmFyLWluaGVyaXQiLHM9dGhpcy5vcHRpb25zLmNvcm5lcnN8fHAuanFtRGF0YSgiY29ybmVycyIpPyIgdWktY29ybmVyLWFsbCI6IiIsdD10aGlzLm9wdGlvbnMubWluaXx8cC5qcW1EYXRhKCJtaW5pIik/IiB1aS1taW5pIjoiIix1PXBbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx2PSJzZWxlY3QiPT09dSx3PXAucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J3Jhbmdlc2xpZGVyJykiKSx4PXY/InVpLXNsaWRlci1zd2l0Y2giOiIiLHk9cC5hdHRyKCJpZCIpLHo9YSgiW2Zvcj0nIit5KyInXSIpLEE9ei5hdHRyKCJpZCIpfHx5KyItbGFiZWwiLEI9dj8wOnBhcnNlRmxvYXQocC5hdHRyKCJtaW4iKSksQz12P3AuZmluZCgib3B0aW9uIikubGVuZ3RoLTE6cGFyc2VGbG9hdChwLmF0dHIoIm1heCIpKSxEPWIucGFyc2VGbG9hdChwLmF0dHIoInN0ZXAiKXx8MSksRT1jLmNyZWF0ZUVsZW1lbnQoImEiKSxGPWEoRSksRz1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLEg9YShHKSxJPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF2P2Z1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKEgpfSgpOiExO2lmKHouYXR0cigiaWQiLEEpLHRoaXMuaXNUb2dnbGVTd2l0Y2g9dixFLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxHLnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIiksRy5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0ICI6InVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgIix4LHIscyx0XS5qb2luKCIiKSxFLmNsYXNzTmFtZT0idWktc2xpZGVyLWhhbmRsZSIsRy5hcHBlbmRDaGlsZChFKSxGLmF0dHIoe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVtaW4iOkIsImFyaWEtdmFsdWVtYXgiOkMsImFyaWEtdmFsdWVub3ciOnRoaXMuX3ZhbHVlKCksImFyaWEtdmFsdWV0ZXh0Ijp0aGlzLl92YWx1ZSgpLHRpdGxlOnRoaXMuX3ZhbHVlKCksImFyaWEtbGFiZWxsZWRieSI6QX0pLGEuZXh0ZW5kKHRoaXMse3NsaWRlcjpILGhhbmRsZTpGLGNvbnRyb2w6cCx0eXBlOnUsc3RlcDpELG1heDpDLG1pbjpCLHZhbHVlYmc6SSxpc1Jhbmdlc2xpZGVyOncsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHYpe2ZvcihrPXAuYXR0cigidGFiaW5kZXgiKSxrJiZGLmF0dHIoInRhYmluZGV4IixrKSxwLmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpLEYuZm9jdXMoKX0pLGY9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0IixnPTAsaD1HLmNoaWxkTm9kZXMubGVuZ3RoO2g+ZztnKyspZi5hcHBlbmRDaGlsZChHLmNoaWxkTm9kZXNbZ10pO2ZvcihHLmFwcGVuZENoaWxkKGYpLEYuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxlPXAuZmluZCgib3B0aW9uIiksaT0wLGo9ZS5sZW5ndGg7aj5pO2krKylsPWk/ImEiOiJiIixtPWk/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIiLG49Yy5jcmVhdGVFbGVtZW50KCJzcGFuIiksbi5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsbCxtXS5qb2luKCIiKSxuLnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLG4uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW2ldLmlubmVySFRNTCkpLGEobikucHJlcGVuZFRvKEgpO28uX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIixIKX1wLmFkZENsYXNzKHY/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihwLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSxILmJpbmQoInZtb3VzZWRvd24iLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oSC5hZGQoYykse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksSC5pbnNlcnRBZnRlcihwKSx2fHx3fHwoZj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixwLmFkZChIKS53cmFwQWxsKGYpKSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjoiX2hhbmRsZVZNb3VzZURvd24iLGtleWRvd246Il9oYW5kbGVLZXlkb3duIixrZXl1cDoiX2hhbmRsZUtleXVwIn0pLHRoaXMuaGFuZGxlLmJpbmQoInZjbGljayIsITEpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChkLGQsITApfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09ZCYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEuY29ybmVycyE9PWQmJnRoaXMuX3NldENvcm5lcnMoYS5jb3JuZXJzKSxhLm1pbmkhPT1kJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1kJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLGEuZGlzYWJsZWQhPT1kJiZ0aGlzLl9zZXREaXNhYmxlZChhLmRpc2FibGVkKSx0aGlzLl9zdXBlcihhKX0sX2NvbnRyb2xDaGFuZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImNvbnRyb2xjaGFuZ2UiLGEpPT09ITE/ITE6KHRoaXMubW91c2VNb3ZlZHx8dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApLHZvaWQgMCl9LF9jb250cm9sS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCwhMCl9LF9jb250cm9sQmx1cjpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbigpe3RoaXMuX2NoZWNrZWRSZWZyZXNoKCl9LF9oYW5kbGVWTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fdmFsdWUoKTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5U2xpZGluZ3x8KHRoaXMuX2tleVNsaWRpbmc9ITAsdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX1zd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTp0aGlzLnJlZnJlc2godGhpcy5taW4pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6dGhpcy5yZWZyZXNoKHRoaXMubWF4KTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOnRoaXMucmVmcmVzaChjK3RoaXMuc3RlcCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDp0aGlzLnJlZnJlc2goYy10aGlzLnN0ZXApfX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9LF9zbGlkZXJWTW91c2VEb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fDEhPT1hLndoaWNoJiYwIT09YS53aGljaCYmYS53aGljaCE9PWQ/ITE6dGhpcy5fdHJpZ2dlcigiYmVmb3Jlc3RhcnQiLGEpPT09ITE/ITE6KHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy51c2VyTW9kaWZpZWQ9ITEsdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmJlZm9yZVN0YXJ0PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KSx0aGlzLnJlZnJlc2goYSksdGhpcy5fdHJpZ2dlcigic3RhcnQiKSwhMSl9LF9zbGlkZXJWTW91c2VVcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYWdnaW5nPyh0aGlzLmRyYWdnaW5nPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMubW91c2VNb3ZlZD90aGlzLnVzZXJNb2RpZmllZD90aGlzLnJlZnJlc2goMD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKTp0aGlzLnJlZnJlc2godGhpcy5iZWZvcmVTdGFydCk6dGhpcy5yZWZyZXNoKDA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCkpLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLl90cmlnZ2VyKCJzdG9wIiksITEpOnZvaWQgMH0sX3ByZXZlbnREb2N1bWVudERyYWc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImRyYWciLGEpPT09ITE/ITE6dGhpcy5kcmFnZ2luZyYmIXRoaXMub3B0aW9ucy5kaXNhYmxlZD8odGhpcy5tb3VzZU1vdmVkPSEwLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKGEpLHRoaXMudXNlck1vZGlmaWVkPXRoaXMuYmVmb3JlU3RhcnQhPT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCwhMSk6dm9pZCAwfSxfY2hlY2tlZFJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnZhbHVlIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvZ2dsZVN3aXRjaD90aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDpwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaChkLCExLCEwKX0scmVmcmVzaDpmdW5jdGlvbihiLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6PXRoaXMsQT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcy5lbGVtZW50WzBdLCJ0aGVtZSIpLEI9dGhpcy5vcHRpb25zLnRoZW1lfHxBLEM9Qj8iIHVpLWJ0bi0iK0I6IiIsRD10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8QSxFPUQ/IiB1aS1iYXItIitEOiIgdWktYmFyLWluaGVyaXQiLEY9dGhpcy5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixHPXRoaXMub3B0aW9ucy5taW5pPyIgdWktbWluaSI6IiI7aWYoei5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IjoidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCIsRSxGLEddLmpvaW4oIiIpLCh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy52YWx1ZT10aGlzLl92YWx1ZSgpLHRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoJiYwPT09dGhpcy5zbGlkZXIuZmluZCgiLnVpLXNsaWRlci1iZyIpLmxlbmd0aCYmKHRoaXMudmFsdWViZz1mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxhKGIpLnByZXBlbmRUbyh6LnNsaWRlcil9KCkpLHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1idG4iK0MrIiB1aS1zaGFkb3ciKSxsPXRoaXMuZWxlbWVudCxtPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLG49bT9bXTpsLmZpbmQoIm9wdGlvbiIpLG89bT9wYXJzZUZsb2F0KGwuYXR0cigibWluIikpOjAscD1tP3BhcnNlRmxvYXQobC5hdHRyKCJtYXgiKSk6bi5sZW5ndGgtMSxxPW0mJnBhcnNlRmxvYXQobC5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk6MSwib2JqZWN0Ij09dHlwZW9mIGIpe2lmKGg9YixpPTgsZj10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LGc9dGhpcy5zbGlkZXIud2lkdGgoKSxqPWcvKChwLW8pL3EpLCF0aGlzLmRyYWdnaW5nfHxoLnBhZ2VYPGYtaXx8aC5wYWdlWD5mK2craSlyZXR1cm47az1qPjE/MTAwKigoaC5wYWdlWC1mKS9nKTpNYXRoLnJvdW5kKDEwMCooKGgucGFnZVgtZikvZykpfWVsc2UgbnVsbD09YiYmKGI9bT9wYXJzZUZsb2F0KGwudmFsKCl8fDApOmxbMF0uc2VsZWN0ZWRJbmRleCksaz0xMDAqKChwYXJzZUZsb2F0KGIpLW8pLyhwLW8pKTtpZighaXNOYU4oaykmJihyPWsvMTAwKihwLW8pK28scz0oci1vKSVxLHQ9ci1zLDIqTWF0aC5hYnMocyk+PXEmJih0Kz1zPjA/cTotcSksdT0xMDAvKChwLW8pL3EpLHI9cGFyc2VGbG9hdCh0LnRvRml4ZWQoNSkpLCJ1bmRlZmluZWQiPT10eXBlb2YgaiYmKGo9Zy8oKHAtbykvcSkpLGo+MSYmbSYmKGs9KHItbykqdSooMS9xKSksMD5rJiYoaz0wKSxrPjEwMCYmKGs9MTAwKSxvPnImJihyPW8pLHI+cCYmKHI9cCksdGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixrKyIlIiksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93IixtP3I6bi5lcShyKS5hdHRyKCJ2YWx1ZSIpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWV0ZXh0IixtP3I6bi5lcShyKS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoInRpdGxlIixtP3I6bi5lcShyKS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixrKyIlIiksdGhpcy5fbGFiZWxzJiYodj0xMDAqKHRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSksdz1rJiZ2KygxMDAtdikqay8xMDAseD0xMDA9PT1rPzA6TWF0aC5taW4odisxMDAtdywxMDApLHRoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5oYXNDbGFzcygidWktc2xpZGVyLWxhYmVsLWEiKTthKHRoaXMpLndpZHRoKChiP3c6eCkrIiUiKX0pKSwhZSkpe2lmKHk9ITEsbT8oeT1sLnZhbCgpIT09cixsLnZhbChyKSk6KHk9bFswXS5zZWxlY3RlZEluZGV4IT09cixsWzBdLnNlbGVjdGVkSW5kZXg9ciksdGhpcy5fdHJpZ2dlcigiYmVmb3JlY2hhbmdlIixiKT09PSExKXJldHVybiExOyFkJiZ5JiZsLnRyaWdnZXIoImNoYW5nZSIpfX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXthPSEhYSxhPyh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0PSEhYSx0aGlzLnJlZnJlc2goKSk6dGhpcy52YWx1ZWJnJiYodGhpcy52YWx1ZWJnLnJlbW92ZSgpLHRoaXMudmFsdWViZz0hMSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktYnRuLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYSk7dmFyIGI9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIsYz1hP2E6ImluaGVyaXQiO3RoaXMuY29udHJvbC5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitiKS5hZGRDbGFzcygidWktYm9keS0iK2MpfSxfc2V0TWluaTpmdW5jdGlvbihhKXthPSEhYSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmlzUmFuZ2VzbGlkZXJ8fCh0aGlzLnNsaWRlci5wYXJlbnQoKS50b2dnbGVDbGFzcygidWktbWluaSIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYSksdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dGhpcy5jb250cm9sLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsYSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLWRpc2FibGVkIixhKS5hdHRyKCJhcmlhLWRpc2FibGVkIixhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmZsaXBzd2l0Y2giLGEuZXh0ZW5kKHtvcHRpb25zOntvblRleHQ6Ik9uIixvZmZUZXh0OiJPZmYiLHRoZW1lOm51bGwsZW5oYW5jZWQ6ITEsd3JhcHBlckNsYXNzOm51bGwsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZD9hLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOnRoaXMuZWxlbWVudC5wYXJlbnQoKSxvbjp0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWZsaXBzd2l0Y2gtb24iKS5lcSgwKSxvZmY6dGhpcy5lbGVtZW50LmZpbmQoIi51aS1mbGlwc3dpdGNoLW9mZiIpLmVxKDApLHR5cGU6dGhpcy5lbGVtZW50LmdldCgwKS50YWdOYW1lfSk6dGhpcy5fZW5oYW5jZSgpLHRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJnRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSksdGhpcy5fb24odGhpcy5mbGlwc3dpdGNoLHtjbGljazoiX3RvZ2dsZSIsc3dpcGVsZWZ0OiJfbGVmdCIsc3dpcGVyaWdodDoiX3JpZ2h0In0pLHRoaXMuX29uKHRoaXMub24se2tleWRvd246Il9rZXlkb3duIn0pfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbGlwc3dpdGNofSxfbGVmdDpmdW5jdGlvbigpe3RoaXMuZmxpcHN3aXRjaC5yZW1vdmVDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKSwiU0VMRUNUIj09PXRoaXMudHlwZT90aGlzLmVsZW1lbnQuZ2V0KDApLnNlbGVjdGVkSW5kZXg9MDp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIsITApLHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpfSxfcmlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIiksIlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTE6dGhpcy5lbGVtZW50LnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYj1hKCI8ZGl2PiIpLGM9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIsZD1hKCI8c3BhbiB0YWJpbmRleD0nMSc+PC9zcGFuPiIpLGU9YSgiPHNwYW4+PC9zcGFuPiIpLGY9dGhpcy5lbGVtZW50LmdldCgwKS50YWdOYW1lLGc9IklOUFVUIj09PWY/dGhpcy5vcHRpb25zLm9uVGV4dDp0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uIikuZXEoMSkudGV4dCgpLGg9IklOUFVUIj09PWY/dGhpcy5vcHRpb25zLm9mZlRleHQ6dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtkLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGcpLGUuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChoKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLWJhci0iK2MrIiAiKyh0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzP3RoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M6IiIpKyIgIisodGhpcy5lbGVtZW50LmlzKCI6Y2hlY2tlZCIpfHx0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uIikuZXEoMSkuaXMoIjpzZWxlY3RlZCIpPyJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSI6IiIpKyh0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsodGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChkLGUpLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZmxpcHN3aXRjaC1pbnB1dCIpLHRoaXMuZWxlbWVudC5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZCxvZmY6ZSx0eXBlOmZ9KX0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBhO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQuaXMoIjpjaGVja2VkIik/Il9yaWdodCI6Il9sZWZ0Iix0aGlzW2FdKCl9LF90b2dnbGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZsaXBzd2l0Y2guaGFzQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIik/Il9sZWZ0IjoiX3JpZ2h0Ijt0aGlzW2FdKCl9LF9rZXlkb3duOmZ1bmN0aW9uKGIpe2Iud2hpY2g9PT1hLm1vYmlsZS5rZXlDb2RlLkxFRlQ/dGhpcy5fbGVmdCgpOmIud2hpY2g9PT1hLm1vYmlsZS5rZXlDb2RlLlJJR0hUP3RoaXMuX3JpZ2h0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UmJih0aGlzLl90b2dnbGUoKSxiLnByZXZlbnREZWZhdWx0KCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXtpZihhLnRoZW1lIT09Yil7dmFyIGM9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0IixkPWEudGhlbWU/YS50aGVtZToiaW5oZXJpdCI7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcygidWktYmFyLSIrYykuYWRkQ2xhc3MoInVpLWJhci0iK2QpfWEub25UZXh0IT09YiYmdGhpcy5vbi50ZXh0KGEub25UZXh0KSxhLm9mZlRleHQhPT1iJiZ0aGlzLm9mZi50ZXh0KGEub2ZmVGV4dCksYS5kaXNhYmxlZCE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIixhLmRpc2FibGVkKSxhLm1pbmkhPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLHRoaXMuX3N1cGVyKGEpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMub24ucmVtb3ZlKCksdGhpcy5vZmYucmVtb3ZlKCksdGhpcy5lbGVtZW50LnVud3JhcCgpLHRoaXMuZmxpcHN3aXRjaC5yZW1vdmUoKSx0aGlzLnJlbW92ZUNsYXNzKCJ1aS1mbGlwc3dpdGNoLWlucHV0IikpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLm1pbmk/InVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiOiJ1aS1yYW5nZXNsaWRlciIsZD1iLmZpbmQoImlucHV0IikuZmlyc3QoKSxlPWIuZmluZCgiaW5wdXQiKS5sYXN0KCksZj1iLmZpbmQoImxhYmVsIikuZmlyc3QoKSxnPWEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnNsaWRlcixoPWEuZGF0YShlLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnNsaWRlcixpPWEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZSxqPWEoIjxkaXYgY2xhc3M9J3VpLXJhbmdlc2xpZGVyLXNsaWRlcnMnIC8+IikuYXBwZW5kVG8oYik7ZC5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxlLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1sYXN0IiksYi5hZGRDbGFzcyhjKSxnLmFwcGVuZFRvKGopLGguYXBwZW5kVG8oaiksZi5pbnNlcnRCZWZvcmUoYiksaS5wcmVwZW5kVG8oaCksYS5leHRlbmQodGhpcyx7X2lucHV0Rmlyc3Q6ZCxfaW5wdXRMYXN0OmUsX3NsaWRlckZpcnN0OmcsX3NsaWRlckxhc3Q6aCxfbGFiZWw6ZixfdGFyZ2V0VmFsOm51bGwsX3NsaWRlclRhcmdldDohMSxfc2xpZGVyczpqLF9wcm94eTohMX0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dC51aS1zbGlkZXItaW5wdXQiKSx7c2xpZGViZWZvcmVzdGFydDoiX3NsaWRlYmVmb3Jlc3RhcnQiLHNsaWRlc3RvcDoiX3NsaWRlc3RvcCIsc2xpZGVkcmFnOiJfc2xpZGVkcmFnIixzbGlkZWJlZm9yZWNoYW5nZToiX2NoYW5nZSIsYmx1cjoiX2NoYW5nZSIsa2V5dXA6Il9jaGFuZ2UifSksdGhpcy5fb24oe21vdXNlZG93bjoiX2NoYW5nZSJ9KSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDoiX2hhbmRsZVJlc2V0In0pLHRoaXMuX29uKGkse3Ztb3VzZWRvd246Il9kcmFnRmlyc3RIYW5kbGUifSl9LF9oYW5kbGVSZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuX3VwZGF0ZUhpZ2hsaWdodCgpfSwwKX0sX2RyYWdGaXJzdEhhbmRsZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikucmVmcmVzaChiKSwhMX0sX3NsaWRlZHJhZzpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KSxkPWM/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7cmV0dXJuIHRoaXMuX3NsaWRlclRhcmdldD0hMSwiZmlyc3QiPT09dGhpcy5fcHJveHkmJmN8fCJsYXN0Ij09PXRoaXMuX3Byb3h5JiYhYz8oYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikucmVmcmVzaChiKSwhMSk6dm9pZCAwfSxfc2xpZGVzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpO3RoaXMuX3Byb3h5PSExLHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dCIpLnRyaWdnZXIoInZtb3VzZXVwIiksdGhpcy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixjPzE6IiIpfSxfc2xpZGViZWZvcmVzdGFydDpmdW5jdGlvbihiKXt0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsYShiLm9yaWdpbmFsRXZlbnQudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLXRyYWNrIikmJih0aGlzLl9zbGlkZXJUYXJnZXQ9ITAsdGhpcy5fdGFyZ2V0VmFsPWEoYi50YXJnZXQpLnZhbCgpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7YS50aGVtZSE9PWImJnRoaXMuX3NldFRoZW1lKGEudGhlbWUpLGEudHJhY2tUaGVtZSE9PWImJnRoaXMuX3NldFRyYWNrVGhlbWUoYS50cmFja1RoZW1lKSxhLm1pbmkhPT1iJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1iJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLHRoaXMuX3N1cGVyKGEpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zO2EuZmluZCgiaW5wdXQiKS5zbGlkZXIoe3RoZW1lOmIudGhlbWUsdHJhY2tUaGVtZTpiLnRyYWNrVGhlbWUsZGlzYWJsZWQ6Yi5kaXNhYmxlZCxjb3JuZXJzOmIuY29ybmVycyxtaW5pOmIubWluaSxoaWdobGlnaHQ6Yi5oaWdobGlnaHR9KS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX0sX2NoYW5nZTpmdW5jdGlvbihiKXtpZigia2V5dXAiPT09Yi50eXBlKXJldHVybiB0aGlzLl91cGRhdGVIaWdobGlnaHQoKSwhMTt2YXIgYz10aGlzLGQ9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dEZpcnN0LnZhbCgpLDEwKSxlPXBhcnNlRmxvYXQodGhpcy5faW5wdXRMYXN0LnZhbCgpLDEwKSxmPWEoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGc9Zj90aGlzLl9pbnB1dEZpcnN0OnRoaXMuX2lucHV0TGFzdCxoPWY/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7aWYodGhpcy5faW5wdXRGaXJzdC52YWwoKT50aGlzLl9pbnB1dExhc3QudmFsKCkmJiJtb3VzZWRvd24iPT09Yi50eXBlJiYhYShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUiKSlnLmJsdXIoKTtlbHNlIGlmKCJtb3VzZWRvd24iPT09Yi50eXBlKXJldHVybjtyZXR1cm4gZD5lJiYhdGhpcy5fc2xpZGVyVGFyZ2V0PyhnLnZhbChmP2U6ZCkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdHJpZ2dlcigibm9ybWFsaXplIikpOmQ+ZSYmKGcudmFsKHRoaXMuX3RhcmdldFZhbCkuc2xpZGVyKCJyZWZyZXNoIiksc2V0VGltZW91dChmdW5jdGlvbigpe2gudmFsKGY/ZDplKS5zbGlkZXIoInJlZnJlc2giKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZm9jdXMoKSxjLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGY/IiI6MSksYy5fdHJpZ2dlcigibm9ybWFsaXplIil9LDApLHRoaXMuX3Byb3h5PWY/ImZpcnN0IjoibGFzdCIpLGQ9PT1lPyhhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwwKSk6KGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxjPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxkPWMtYjt0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1iZyIpLmNzcyh7Im1hcmdpbi1sZWZ0IjpiKyIlIix3aWR0aDpkKyIlIn0pfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsInRoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0aGVtZSIsYSl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKX0sX3NldE1pbmk6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsISFhKX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwiaGlnaGxpZ2h0IixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJoaWdobGlnaHQiLGEpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2xhYmVsLnByZXBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXIgdWktbWluaSIpLHRoaXMuX2lucHV0Rmlyc3QuYWZ0ZXIodGhpcy5fc2xpZGVyRmlyc3QpLHRoaXMuX2lucHV0TGFzdC5hZnRlcih0aGlzLl9zbGlkZXJMYXN0KSx0aGlzLl9zbGlkZXJzLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dCIpLnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCB1aS1yYW5nZXNsaWRlci1sYXN0Iikuc2xpZGVyKCJkZXN0cm95Iil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLnRleHRpbnB1dCx7b3B0aW9uczp7Y2xlYXJCdG46ITEsY2xlYXJCdG5UZXh0OiJDbGVhciB0ZXh0In0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksKHRoaXMub3B0aW9ucy5jbGVhckJ0bnx8dGhpcy5pc1NlYXJjaCkmJnRoaXMuX2FkZENsZWFyQnRuKCl9LGNsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhciB1aS1idG4gdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWNvcm5lci1hbGwnIHRpdGxlPSciK3RoaXMub3B0aW9ucy5jbGVhckJ0blRleHQrIic+Iit0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KyI8L2E+Iil9LF9jbGVhckJ0bkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIiksdGhpcy5fY2xlYXJCdG4uYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpLGEucHJldmVudERlZmF1bHQoKX0sX2FkZENsZWFyQnRuOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlQ2xlYXIoKSxhLmV4dGVuZCh0aGlzLHtfY2xlYXJCdG46dGhpcy53aWRnZXQoKS5maW5kKCJhLnVpLWlucHV0LWNsZWFyIil9KSx0aGlzLl9iaW5kQ2xlYXJFdmVudHMoKSx0aGlzLl90b2dnbGVDbGVhcigpfSxfZW5oYW5jZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5jbGVhckJ1dHRvbigpLmFwcGVuZFRvKHRoaXMud2lkZ2V0KCkpLHRoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoInVpLWlucHV0LWhhcy1jbGVhciIpfSxfYmluZENsZWFyRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5fY2xlYXJCdG4se2NsaWNrOiJfY2xlYXJCdG5DbGljayJ9KSx0aGlzLl9vbih7a2V5dXA6Il90b2dnbGVDbGVhciIsY2hhbmdlOiJfdG9nZ2xlQ2xlYXIiLGlucHV0OiJfdG9nZ2xlQ2xlYXIiLGZvY3VzOiJfdG9nZ2xlQ2xlYXIiLGJsdXI6Il90b2dnbGVDbGVhciIsY3V0OiJfdG9nZ2xlQ2xlYXIiLHBhc3RlOiJfdG9nZ2xlQ2xlYXIifSl9LF91bmJpbmRDbGVhcjpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLl9jbGVhckJ0biwiY2xpY2siKSx0aGlzLl9vZmYodGhpcy5lbGVtZW50LCJrZXl1cCBjaGFuZ2UgaW5wdXQgZm9jdXMgYmx1ciBjdXQgcGFzdGUiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5jbGVhcmJ0bj09PWJ8fHRoaXMuZWxlbWVudC5pcygidGV4dGFyZWEsIDpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKXx8KGEuY2xlYXJCdG4/dGhpcy5fYWRkQ2xlYXJCdG4oKTp0aGlzLl9kZXN0cm95Q2xlYXIoKSksYS5jbGVhckJ0blRleHQhPT1iJiZ0aGlzLl9jbGVhckJ0biE9PWImJnRoaXMuX2NsZWFyQnRuLnRleHQoYS5jbGVhckJ0blRleHQpfSxfdG9nZ2xlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3RvZ2dsZUNsZWFyQ2xhc3MiLDApfSxfdG9nZ2xlQ2xlYXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQnRuLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLCF0aGlzLmVsZW1lbnQudmFsKCkpfSxfZGVzdHJveUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKSx0aGlzLl91bmJpbmRDbGVhcigpLl9jbGVhckJ0bi5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX2Rlc3Ryb3lDbGVhcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2F1dG9ncm93OiEwLGtleXVwVGltZW91dEJ1ZmZlcjoxMDB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl9hdXRvZ3JvdygpfSxfYXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLl9vbih7a2V5dXA6Il90aW1lb3V0IixjaGFuZ2U6Il90aW1lb3V0IixpbnB1dDoiX3RpbWVvdXQiLHBhc3RlOiJfdGltZW91dCJ9KSxhLnRyaW0odGhpcy5lbGVtZW50LnZhbCgpKSYmdGhpcy5fb24oITAsYS5tb2JpbGUud2luZG93LHtsb2FkOiJfdGltZW91dCIscGFnZWNoYW5nZToiX3RpbWVvdXQifSl9LF91bmJpbmRBdXRvZ3JvdzpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLmVsZW1lbnQsImtleXVwIGNoYW5nZSBpbnB1dCBwYXN0ZSIpLHRoaXMuX29mZihhLm1vYmlsZS53aW5kb3csImxvYWQgcGFnZWNoYW5nZSIpfSxrZXl1cFRpbWVvdXQ6bnVsbCxfdGltZW91dDpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmtleXVwVGltZW91dCksdGhpcy5rZXl1cFRpbWVvdXQ9dGhpcy5fZGVsYXkoIl91cGRhdGVIZWlnaHQiLHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIpfSxfdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNzcygiaGVpZ2h0IiwiMHB4Iik7dmFyIGEsYixjLGQ9dGhpcy5lbGVtZW50WzBdLnNjcm9sbEhlaWdodCxlPXRoaXMuZWxlbWVudFswXS5jbGllbnRIZWlnaHQsZj1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoImJvcmRlci10b3Atd2lkdGgiKSksZz1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSksaD1mK2csaT1kK2grMTU7MD09PWUmJihhPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygicGFkZGluZy10b3AiKSksYj1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoInBhZGRpbmctYm90dG9tIikpLGM9YStiLGkrPWMpLHRoaXMuZWxlbWVudC5jc3MoImhlaWdodCIsaSsicHgiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5hdXRvZ3JvdyE9PWImJnRoaXMuaXNUZXh0YXJlYSYmKGEuYXV0b2dyb3c/dGhpcy5fYXV0b2dyb3coKTp0aGlzLl91bmJpbmRBdXRvZ3JvdygpKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSk6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJykgKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJjYXJhdC1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITEsb3ZlcmxheVRoZW1lOm51bGwsZGl2aWRlclRoZW1lOm51bGwsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6ITAscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmlubGluZXx8dGhpcy5lbGVtZW50LmpxbURhdGEoImlubGluZSIpLGM9dGhpcy5vcHRpb25zLm1pbml8fHRoaXMuZWxlbWVudC5qcW1EYXRhKCJtaW5pIiksZD0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoZD0iIHVpLWJ0bi1sZWZ0IiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihkPSIgdWktYnRuLXJpZ2h0IiksYiYmKGQrPSIgdWktYnRuLWlubGluZSIpLGMmJihkKz0iIHVpLW1pbmkiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrZCsiJz4iKSx0aGlzLnNlbGVjdElkPXRoaXMuc2VsZWN0LmF0dHIoImlkIil8fCJzZWxlY3QtIit0aGlzLnV1aWQsdGhpcy5idXR0b25JZD10aGlzLnNlbGVjdElkKyItYnV0dG9uIix0aGlzLmxhYmVsPWEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElkKyInXSIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2EubGVuZ3RoPjAmJihhLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iik/InVpLWJ0bi1sZWZ0IjoidWktYnRuLXJpZ2h0IiksdGhpcy5lbGVtZW50Lmluc2VydEFmdGVyKGEpLGEucmVtb3ZlKCkpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCksdGhpcy5idXR0b249dGhpcy5fYnV0dG9uKCk7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxmPXRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYXR0cigiaWQiLHRoaXMuYnV0dG9uSWQpLmFkZENsYXNzKCJ1aS1idG4iKyhkLmljb24/IiB1aS1pY29uLSIrZC5pY29uKyIgdWktYnRuLWljb24tIitlKyhkLmljb25zaGFkb3c/IiB1aS1zaGFkb3ctaWNvbiI6IiIpOiIiKSsoZC50aGVtZT8iIHVpLWJ0bi0iK2QudGhlbWU6IiIpKyhkLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGQuc2hhZG93PyIgdWktc2hhZG93IjoiIikpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZmLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJvZHktaW5oZXJpdCIpLmhpZGUoKS5hcHBlbmRUbyhmLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpLGQubmF0aXZlTWVudSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLGIuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLGIuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLnNlbGVjdGVkKCksZT10aGlzLnBsYWNlaG9sZGVyLGY9YShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uY2hpbGRyZW4oInNwYW4iKS5ub3QoIi51aS1saS1jb3VudCIpLnJlbW92ZSgpLmVuZCgpLmVuZCgpLnByZXBlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZT1kLmxlbmd0aD9kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6Yi5wbGFjZWhvbGRlcixlP2YudGV4dChlKTpmLmh0bWwoIiZuYnNwOyIpLGYuYWRkQ2xhc3MoYi5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3MoZC5hdHRyKCJjbGFzcyIpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSgpKX0sc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdGVkKCk7dGhpcy5pc011bHRpcGxlJiZ0aGlzLmJ1dHRvbkNvdW50W2EubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGEubGVuZ3RoKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKSx0aGlzLnNldEJ1dHRvbkNvdW50KCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITApLHRoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpbmtzPWZ1bmN0aW9uKGIpe2EoYikuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkuZmlsdGVyKCI6anFtRGF0YShyZWw9J3BvcHVwJylbaHJlZl1baHJlZiE9JyddIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD1hKHRoaXMpLmF0dHIoImhyZWYiKSxlPWEubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoZCksZj1kLnN1YnN0cmluZygxKTtiLnNldEF0dHJpYnV0ZSgiYXJpYS1oYXNwb3B1cCIsITApLGIuc2V0QXR0cmlidXRlKCJhcmlhLW93bnMiLGYpLGIuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMSksYShjKS5vbigicG9wdXBhZnRlcm9wZW4iLGUsZnVuY3Rpb24oKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITApfSkub24oInBvcHVwYWZ0ZXJjbG9zZSIsZSxmdW5jdGlvbigpe2Iuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMSl9KX0pLmVuZCgpLm5vdCgiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfX0oYSksZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGU9Yj5hP2MrKGEtYikvMjpNYXRoLm1pbihNYXRoLm1heChjLGQtYi8yKSxjK2EtYil9ZnVuY3Rpb24gZSgpe3ZhciBjPWEubW9iaWxlLndpbmRvdztyZXR1cm57eDpjLnNjcm9sbExlZnQoKSx5OmMuc2Nyb2xsVG9wKCksY3g6Yi5pbm5lcldpZHRofHxjLndpZHRoKCksY3k6Yi5pbm5lckhlaWdodHx8Yy5oZWlnaHQoKX19YS53aWRnZXQoIm1vYmlsZS5wb3B1cCIse29wdGlvbnM6e3dyYXBwZXJDbGFzczpudWxsLHRoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxjbG9zZUxpbmtTZWxlY3RvcjoiYTpqcW1EYXRhKHJlbD0nYmFjaycpIixjbG9zZUxpbmtFdmVudHM6ImNsaWNrLnBvcHVwIixuYXZpZ2F0ZUV2ZW50czoibmF2aWdhdGUucG9wdXAiLGNsb3NlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwIixkaXNtaXNzaWJsZTohMCxlbmhhbmNlZDohMSxoaXN0b3J5OiFhLm1vYmlsZS5icm93c2VyLm9sZElFfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5hdHRyKCJpZCIpLGQ9dGhpcy5vcHRpb25zO2QuaGlzdG9yeT1kLmhpc3RvcnkmJmEubW9iaWxlLmFqYXhFbmFibGVkJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCxhLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6Yi5jbG9zZXN0KCIudWktcGFnZSIpLF91aTpudWxsLF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXF1aXNpdGVzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksMD09PXRoaXMuX3BhZ2UubGVuZ3RoJiYodGhpcy5fcGFnZT1hKCJib2R5IikpLGQuZW5oYW5jZWQ/dGhpcy5fdWk9e2NvbnRhaW5lcjpiLnBhcmVudCgpLHNjcmVlbjpiLnBhcmVudCgpLnByZXYoKSxwbGFjZWhvbGRlcjphKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQoYysiLXBsYWNlaG9sZGVyIikpfToodGhpcy5fdWk9dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihkLnRyYW5zaXRpb24pLl9zZXRUb2xlcmFuY2UoZC50b2xlcmFuY2UpKSx0aGlzLl91aS5mb2N1c0VsZW1lbnQ9dGhpcy5fdWkuY29udGFpbmVyLHRoaXMuX29uKHRoaXMuX3VpLnNjcmVlbix7dmNsaWNrOiJfZWF0RXZlbnRBbmRDbG9zZSJ9KSx0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7Zm9jdXNpbjoiX2hhbmRsZURvY3VtZW50Rm9jdXNJbiJ9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLm9wdGlvbnMsZT1kLndyYXBwZXJDbGFzcyxmPXtzY3JlZW46YSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4gIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGQub3ZlcmxheVRoZW1lKSsiJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIrKGU/IiAiK2U6IiIpKyInPjwvZGl2PiIpfSxnPXRoaXMuZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBnLmFwcGVuZENoaWxkKGYuc2NyZWVuWzBdKSxnLmFwcGVuZENoaWxkKGYuY29udGFpbmVyWzBdKSxjJiYoZi5zY3JlZW4uYXR0cigiaWQiLGMrIi1zY3JlZW4iKSxmLmNvbnRhaW5lci5hdHRyKCJpZCIsYysiLXBvcHVwIiksZi5wbGFjZWhvbGRlci5hdHRyKCJpZCIsYysiLXBsYWNlaG9sZGVyIikuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitjKyIgLS0+IikpLHRoaXMuX3BhZ2VbMF0uYXBwZW5kQ2hpbGQoZyksZi5wbGFjZWhvbGRlci5pbnNlcnRBZnRlcihiKSxiLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1wb3B1cCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZC50aGVtZSkrIiAiKyhkLnNoYWRvdz8idWktb3ZlcmxheS1zaGFkb3cgIjoiIikrKGQuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSkuYXBwZW5kVG8oZi5jb250YWluZXIpLGZ9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksYT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoYSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5faXNPcGVuJiZiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpOnZvaWQgMH0sX2V4cGVjdFJlc2l6ZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIGE9ZSgpO2lmKHRoaXMuX3Jlc2l6ZURhdGEpe2lmKGEueD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueCYmYS55PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy55JiZhLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeCYmYS5jeT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3kpcmV0dXJuITE7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkKX1yZXR1cm4gdGhpcy5fcmVzaXplRGF0YT17dGltZW91dElkOnRoaXMuX2RlbGF5KCJfcmVzaXplVGltZW91dCIsMjAwKSx3aW5kb3dDb29yZGluYXRlczphfSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIikmJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLHRoaXMucmVwb3NpdGlvbih7cG9zaXRpb25Ubzoid2luZG93In0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9zdG9wSWdub3JpbmdSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbz0wfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89dGhpcy5fZGVsYXkoIl9zdG9wSWdub3JpbmdSZXNpemVFdmVudHMiLDFlMyl9LF9oYW5kbGVXaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKCF0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpJiYhdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzfHx0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpfHx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLnJlbW92ZUF0dHIoInN0eWxlIikpfSxfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2U6ZnVuY3Rpb24oKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbihiKXt2YXIgYyxkPWIudGFyZ2V0LGU9dGhpcy5fdWk7aWYodGhpcy5faXNPcGVuKXtpZihkIT09ZS5jb250YWluZXJbMF0pe2lmKGM9YShkKSwwPT09Yy5wYXJlbnRzKCkuZmlsdGVyKGUuY29udGFpbmVyWzBdKS5sZW5ndGgpcmV0dXJuIGEodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5vbmUoImZvY3VzIixmdW5jdGlvbigpe2MuYmx1cigpfSksZS5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtlLmZvY3VzRWxlbWVudFswXT09PWUuY29udGFpbmVyWzBdJiYoZS5mb2N1c0VsZW1lbnQ9Yyl9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjphKyJpbmhlcml0In0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXtyZXR1cm4gYiYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLCJub25lIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksIm5vbmUiPT09dGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPSIiKSx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSkpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPXRoaXMuX3VpLnNjcmVlbjtyZXR1cm4gYS53cmFwcGVyQ2xhc3MhPT1jJiZ0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLnRoZW1lIT09YyYmZC5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGIudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGEudGhlbWUpKSxhLm92ZXJsYXlUaGVtZSE9PWMmJihlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsYi5vdmVybGF5VGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGEub3ZlcmxheVRoZW1lKSksdGhpcy5faXNPcGVuJiZlLmFkZENsYXNzKCJpbiIpKSxhLnNoYWRvdyE9PWMmJmQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdyksYS5jb3JuZXJzIT09YyYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLnRyYW5zaXRpb24hPT1jJiYodGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihhLnRyYW5zaXRpb24pKSxhLnRvbGVyYW5jZSE9PWMmJnRoaXMuX3NldFRvbGVyYW5jZShhLnRvbGVyYW5jZSksYS5kaXNhYmxlZCE9PWMmJmEuZGlzYWJsZWQmJnRoaXMuY2xvc2UoKSx0aGlzLl9zdXBlcihhKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoIiwiKSxhLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KSxkLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGRbMF0pfHwoZS50PWUucj1lLmI9ZS5sPWRbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihkWzBdKXx8KGUudD1lLmI9ZFswXSksaXNOYU4oZFsxXSl8fChlLmw9ZS5yPWRbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihkWzBdKXx8KGUudD1kWzBdKSxpc05hTihkWzFdKXx8KGUucj1kWzFdKSxpc05hTihkWzJdKXx8KGUuYj1kWzJdKSxpc05hTihkWzNdKXx8KGUubD1kWzNdKQp9cmV0dXJuIHRoaXMuX3RvbGVyYW5jZT1lLHRoaXN9LF9jbGFtcFBvcHVwV2lkdGg6ZnVuY3Rpb24oYSl7dmFyIGIsYz1lKCksZD17eDp0aGlzLl90b2xlcmFuY2UubCx5OmMueSt0aGlzLl90b2xlcmFuY2UudCxjeDpjLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OmMuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3JldHVybiBhfHx0aGlzLl91aS5jb250YWluZXIuY3NzKCJtYXgtd2lkdGgiLGQuY3gpLGI9e2N4OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlcldpZHRoKCEwKSxjeTp0aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApfSx7cmM6ZCxtZW51U2l6ZTpifX0sX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb246ZnVuY3Rpb24oYixjKXt2YXIgZSxmPWMucmMsZz1jLm1lbnVTaXplO3JldHVybiBlPXtsZWZ0OmQoZi5jeCxnLmN4LGYueCxiLngpLHRvcDpkKGYuY3ksZy5jeSxmLnksYi55KX0sZS50b3A9TWF0aC5tYXgoMCxlLnRvcCksZS50b3AtPU1hdGgubWluKGUudG9wLE1hdGgubWF4KDAsZS50b3ArZy5jeS1hLm1vYmlsZS5kb2N1bWVudC5oZWlnaHQoKSkpLGV9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oYSx0aGlzLl9jbGFtcFBvcHVwV2lkdGgoKSl9LF9jcmVhdGVQcmVyZXF1aXNpdGVzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7ZT17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxlLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmIoKX0pLGUuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxdWlzaXRlcyYmYygpfSksYS53aGVuKGUuc2NyZWVuLGUuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJihmLl9wcmVyZXF1aXNpdGVzPW51bGwsZCgpKX0pLGYuX3ByZXJlcXVpc2l0ZXM9ZX0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXF1aXNpdGVzLnNjcmVlbi5yZXNvbHZlKCksYi50cmFuc2l0aW9uJiYibm9uZSIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT8odGhpcy5fdWkuY29udGFpbmVyLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lciwicmVzb2x2ZSIpKS5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksdm9pZCAwKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lci5yZXNvbHZlKCksdm9pZCAwKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24oYil7dmFyIGMsZD1udWxsLGY9ZSgpLGc9Yi54LGg9Yi55LGk9Yi5wb3NpdGlvblRvO2lmKGkmJiJvcmlnaW4iIT09aSlpZigid2luZG93Ij09PWkpZz1mLmN4LzIrZi54LGg9Zi5jeS8yK2YueTtlbHNle3RyeXtkPWEoaSl9Y2F0Y2goail7ZD1udWxsfWQmJihkLmZpbHRlcigiOnZpc2libGUiKSwwPT09ZC5sZW5ndGgmJihkPW51bGwpKX1yZXR1cm4gZCYmKGM9ZC5vZmZzZXQoKSxnPWMubGVmdCtkLm91dGVyV2lkdGgoKS8yLGg9Yy50b3ArZC5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoIm51bWJlciIhPT1hLnR5cGUoaCl8fGlzTmFOKGgpKSYmKGg9Zi5jeS8yK2YueSkse3g6Zyx5Omh9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihhKXthPXt4OmEueCx5OmEueSxwb3NpdGlvblRvOmEucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGMsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSx0aGlzLl90cmlnZ2VyKCJhZnRlcm9wZW4iKX0sX29wZW46ZnVuY3Rpb24oYil7dmFyIGM9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLGQ9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9YS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XC5dKykvKSxjPSEhYiYmYlsxXSxkPWEubWF0Y2goL0FuZHJvaWQgKFxkKyg/OlwuXGQrKSkvKSxlPSEhZCYmZFsxXSxmPWEuaW5kZXhPZigiQ2hyb21lIik+LTE7cmV0dXJuIG51bGwhPT1kJiYiNC4wIj09PWUmJmMmJmM+NTM0LjEzJiYhZj8hMDohMX0oKTt0aGlzLl9jcmVhdGVQcmVyZXF1aXNpdGVzKGEubm9vcCxhLm5vb3AsYS5wcm94eSh0aGlzLCJfb3BlblByZXJlcXVpc2l0ZXNDb21wbGV0ZSIpKSx0aGlzLl9jdXJyZW50VHJhbnNpdGlvbj1jLnRyYW5zaXRpb24sdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGMudHJhbnNpdGlvbiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC10cnVuY2F0ZSIpLHRoaXMuX3JlcG9zaXRpb24oYyksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZkJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXF1aXNpdGVzOnRoaXMuX3ByZXJlcXVpc2l0ZXN9KX0sX2Nsb3NlUHJlcmVxdWlzaXRlU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXF1aXNpdGVDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXVpc2l0ZXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fdWkuY29udGFpbmVyO2IucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxhLm1vYmlsZS5wb3B1cC5hY3RpdmU9YyxhKCI6Zm9jdXMiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktaW5oZXJpdCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksYS5tb2JpbGUud2luZG93Lm9mZihnLmNsb3NlRXZlbnRzKSx0aGlzLmVsZW1lbnQudW5kZWxlZ2F0ZShnLmNsb3NlTGlua1NlbGVjdG9yLGcuY2xvc2VMaW5rRXZlbnRzKSx0aGlzLl9jbG9zZShoKSl9LF9iaW5kQ29udGFpbmVyQ2xvc2U6ZnVuY3Rpb24oKXthLm1vYmlsZS53aW5kb3cub24odGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jb250YWluZXJ9LG9wZW46ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9dGhpcyxqPXRoaXMub3B0aW9ucztyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlfHxqLmRpc2FibGVkP3RoaXM6KGEubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksai5oaXN0b3J5PyhoPWEubW9iaWxlLnVybEhpc3RvcnksZD1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGU9YS5tb2JpbGUuYWN0aXZlUGFnZSxmPWU/ZS5oYXNDbGFzcygidWktZGlhbG9nIik6ITEsdGhpcy5fbXlVcmw9Yz1oLmdldEFjdGl2ZSgpLnVybCwoZz1jLmluZGV4T2YoZCk+LTEmJiFmJiZoLmFjdGl2ZUluZGV4PjApPyhpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLHRoaXMpOigtMSE9PWMuaW5kZXhPZihkKXx8Zj9jPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZDpjKz1jLmluZGV4T2YoIiMiKT4tMT9kOiIjIitkLDA9PT1oLmFjdGl2ZUluZGV4JiZjPT09aC5pbml0aWFsRHN0JiYoYys9ZCksYS5tb2JpbGUud2luZG93Lm9uZSgiYmVmb3JlbmF2aWdhdGUiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpfSksdGhpcy51cmxBbHRlcmVkPSEwLGEubW9iaWxlLm5hdmlnYXRlKGMse3JvbGU6ImRpYWxvZyJ9KSx0aGlzKSk6KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksaS5lbGVtZW50LmRlbGVnYXRlKGouY2xvc2VMaW5rU2VsZWN0b3Isai5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7aS5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpcz90aGlzOih0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSx0aGlzKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxlPWEubW9iaWxlLnBhdGgsZj0wPT09ZC5sZW5ndGg/YSgiYm9keSIpOmQsZz1hKGUuaGFzaFRvU2VsZWN0b3IoZS5wYXJzZVVybChiLmF0dHIoImhyZWYiKSkuaGFzaCksZlswXSk7Zy5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGM9Yi5vZmZzZXQoKSxnLnBvcHVwKCJvcGVuIix7eDpjLmxlZnQrYi5vdXRlcldpZHRoKCkvMix5OmMudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25UbzpiLmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSxhLm1vYmlsZS5kb2N1bWVudC5vbigicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXsicG9wdXAiPT09Yy5vcHRpb25zLnJvbGUmJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9Ii51aS1kaXNhYmxlZCwudWktbGktZGl2aWRlciwudWktc2NyZWVuLWhpZGRlbiw6anFtRGF0YShyb2xlPSdwbGFjZWhvbGRlcicpIixlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hW2MrIkFsbCJdKCkubm90KGQpLmZpcnN0KCk7ZS5sZW5ndGgmJihiLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKX07YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS5zZWxlY3RtZW51LHtfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLm5hdGl2ZU1lbnU9YS5uYXRpdmVNZW51fHx0aGlzLmVsZW1lbnQucGFyZW50cygiOmpxbURhdGEocm9sZT0ncG9wdXAnKSw6bW9iaWxlLXBvcHVwIikubGVuZ3RoPjAsdGhpcy5fc3VwZXIoKX0sX2hhbmRsZVNlbGVjdEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmJsdXIoKSx0aGlzLmJ1dHRvbi5mb2N1cygpfSxfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuaXNPcGVufHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/dGhpcy5idXR0b24uYXR0cigiaHJlZiIsIiMiK3RoaXMucG9wdXBJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOnRoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLmRpYWxvZ0lkKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLHRoaXMuaXNPcGVuPSEwKX0sX2hhbmRsZUxpc3RGb2N1czpmdW5jdGlvbihiKXt2YXIgYz0iZm9jdXNpbiI9PT1iLnR5cGU/e3RhYmluZGV4OiIwIixldmVudDoidm1vdXNlb3ZlciJ9Ont0YWJpbmRleDoiLTEiLGV2ZW50OiJ2bW91c2VvdXQifTthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsYy50YWJpbmRleCkudHJpZ2dlcihjLmV2ZW50KX0sX2hhbmRsZUxpc3RLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGUoZCxjLCJwcmV2IiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsIm5leHQiKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSwhMX19LF9oYW5kbGVNZW51UGFnZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLnRoaXNQYWdlLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4ib3ZlcmxheSI9PT10aGlzLm1lbnVUeXBlPyh0aGlzLmNsb3NlKCksITEpOnZvaWQgMH0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMub3B0aW9ucztyZXR1cm4gdi5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6KHU9dGhpcyxjPXRoaXMuc2VsZWN0SWQsZD1jKyItbGlzdGJveCIsZT1jKyItZGlhbG9nIixmPXRoaXMubGFiZWwsZz10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxoPXRoaXMuZWxlbWVudFswXS5tdWx0aXBsZSxpPWMrIi1tZW51IixqPXYudGhlbWU/IiBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK3YudGhlbWUrIiciOiIiLGs9di5vdmVybGF5VGhlbWU/IiBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK3Yub3ZlcmxheVRoZW1lKyInIjoiIixsPXYuZGl2aWRlclRoZW1lJiZoPyIgZGF0YS0iK2EubW9iaWxlLm5zKyJkaXZpZGVyLXRoZW1lPSciK3YuZGl2aWRlclRoZW1lKyInIjoiIixtPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGNsYXNzPSd1aS1zZWxlY3RtZW51JyBpZD0nIitlKyInIitqK2srIj4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitmLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSxuPWEoIjxkaXYgaWQ9JyIrZCsiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIodGhpcy5zZWxlY3QpLnBvcHVwKHt0aGVtZTp2Lm92ZXJsYXlUaGVtZX0pLG89YSgiPHVsIGNsYXNzPSd1aS1zZWxlY3RtZW51LWxpc3QnIGlkPSciK2krIicgcm9sZT0nbGlzdGJveCcgYXJpYS1sYWJlbGxlZGJ5PSciK3RoaXMuYnV0dG9uSWQrIiciK2orbCsiPiIpLmFwcGVuZFRvKG4pLHA9YSgiPGRpdiBjbGFzcz0ndWktaGVhZGVyIHVpLWJhci0iKyh2LnRoZW1lP3YudGhlbWU6ImluaGVyaXQiKSsiJz4iKS5wcmVwZW5kVG8obikscT1hKCI8aDEgY2xhc3M9J3VpLXRpdGxlJz4iKS5hcHBlbmRUbyhwKSx0aGlzLmlzTXVsdGlwbGUmJih0PWEoIjxhPiIse3JvbGU6ImJ1dHRvbiIsdGV4dDp2LmNsb3NlVGV4dCxocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1idG4tbGVmdCB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi1kZWxldGUifSkuYXBwZW5kVG8ocCkpLGEuZXh0ZW5kKHRoaXMse3NlbGVjdElkOmMsbWVudUlkOmkscG9wdXBJZDpkLGRpYWxvZ0lkOmUsdGhpc1BhZ2U6ZyxtZW51UGFnZTptLGxhYmVsOmYsaXNNdWx0aXBsZTpoLHRoZW1lOnYudGhlbWUsbGlzdGJveDpuLGxpc3Q6byxoZWFkZXI6cCxoZWFkZXJUaXRsZTpxLGhlYWRlckNsb3NlOnQsbWVudVBhZ2VDb250ZW50OnIsbWVudVBhZ2VDbG9zZTpzLHBsYWNlaG9sZGVyOiIifSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb3JpZ1RhYkluZGV4PT09YiYmKHRoaXMuX29yaWdUYWJJbmRleD1udWxsPT09dGhpcy5zZWxlY3RbMF0uZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpPyExOnRoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4IikpLHRoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKSx0aGlzLl9vbih0aGlzLnNlbGVjdCx7Zm9jdXM6Il9oYW5kbGVTZWxlY3RGb2N1cyJ9KSx0aGlzLl9vbih0aGlzLmJ1dHRvbix7dmNsaWNrOiJfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93biIsa2V5ZG93bjoiX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24ifSksdGhpcy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IiksdGhpcy5fb24odGhpcy5saXN0LHtmb2N1c2luOiJfaGFuZGxlTGlzdEZvY3VzIixmb2N1c291dDoiX2hhbmRsZUxpc3RGb2N1cyIsa2V5ZG93bjoiX2hhbmRsZUxpc3RLZXlkb3duIn0pLHRoaXMubGlzdC5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPXUuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywib3B0aW9uLWluZGV4IiksZT11Ll9zZWxlY3RPcHRpb25zKCkuZXEoZClbMF07ZS5zZWxlY3RlZD11LmlzTXVsdGlwbGU/IWUuc2VsZWN0ZWQ6ITAsdS5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoImEiKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZS5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZS5zZWxlY3RlZCksKHUuaXNNdWx0aXBsZXx8YyE9PWQpJiZ1LnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSx1LmlzTXVsdGlwbGU/dS5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShkKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpOnUuY2xvc2UoKSxiLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLl9vbih0aGlzLm1lbnVQYWdlLHtwYWdlaGlkZToiX2hhbmRsZU1lbnVQYWdlSGlkZSJ9KSx0aGlzLl9vbih0aGlzLmxpc3Rib3gse3BvcHVwYWZ0ZXJjbG9zZToiY2xvc2UifSksdGhpcy5pc011bHRpcGxlJiZ0aGlzLl9vbih0aGlzLmhlYWRlckNsb3NlLHtjbGljazoiX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2sifSksdGhpcyl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTtyZXR1cm4gYi50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIil9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoYik6KGM9dGhpcywoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmMuX2J1aWxkTGlzdCgpLGQ9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxjLnNldEJ1dHRvblRleHQoKSxjLnNldEJ1dHRvbkNvdW50KCksYy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5maW5kKCJhIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmVuZCgpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe2lmKGEuaW5BcnJheShiLGQpPi0xKXt2YXIgZT1hKHRoaXMpO2UuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLGMuaXNNdWx0aXBsZT9lLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOmUuaGFzQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKT9lLm5leHQoKS5maW5kKCJhIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmUuZmluZCgiYSIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX19KSx2b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXt2YXIgYT10aGlzOyJwYWdlIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX19LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljaygpfSxfZm9jdXNNZW51SXRlbTpmdW5jdGlvbigpe3ZhciBiPXRoaXMubGlzdC5maW5kKCJhLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOzA9PT1iLmxlbmd0aCYmKGI9dGhpcy5saXN0LmZpbmQoImxpOm5vdCgiK2QrIikgYS51aS1idG4iKSksYi5maXJzdCgpLmZvY3VzKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YS5tb2JpbGUud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1iLm1lbnVQYWdlLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixnKX0pLGIubWVudVBhZ2Uub25lKHtwYWdlc2hvdzphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLCJjbG9zZSIpfSksYi5tZW51VHlwZT0icGFnZSIsYi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCksYi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLnRleHQoKSkpOihiLm1lbnVUeXBlPSJvdmVybGF5IixiLmxpc3Rib3gub25lKHtwb3B1cGFmdGVyb3BlbjphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIil9KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9dGhpcyxyPXRoaXMub3B0aW9ucyxzPXRoaXMucGxhY2Vob2xkZXIsdD0hMCx1PXRoaXMuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiLHY9ImRhdGEtIithLm1vYmlsZS5ucyx3PXYrIm9wdGlvbi1pbmRleCIseD12KyJpY29uIix5PXYrInJvbGUiLHo9disicGxhY2Vob2xkZXIiLEE9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksQj0hMTtmb3IocS5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLGQ9Yi5sZW5ndGgsZT10aGlzLnNlbGVjdFswXSxnPTA7ZD5nO2crKyxCPSExKWg9YltnXSxpPWEoaCksaS5oYXNDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfHwoaj1oLnBhcmVudE5vZGUsaz1pLnRleHQoKSxsPWMuY3JlYXRlRWxlbWVudCgiYSIpLG09W10sbC5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksbC5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGspKSxqIT09ZSYmIm9wdGdyb3VwIj09PWoubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG49ai5nZXRBdHRyaWJ1dGUoImxhYmVsIiksbiE9PWYmJihvPWMuY3JlYXRlRWxlbWVudCgibGkiKSxvLnNldEF0dHJpYnV0ZSh5LCJsaXN0LWRpdmlkZXIiKSxvLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLG8uc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksby5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKG4pKSxBLmFwcGVuZENoaWxkKG8pLGY9bikpLCF0fHxoLmdldEF0dHJpYnV0ZSgidmFsdWUiKSYmMCE9PWsubGVuZ3RoJiYhaS5qcW1EYXRhKCJwbGFjZWhvbGRlciIpfHwodD0hMSxCPSEwLG51bGw9PT1oLmdldEF0dHJpYnV0ZSh6KSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksaC5zZXRBdHRyaWJ1dGUoeiwhMCksci5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm0ucHVzaCgidWktc2NyZWVuLWhpZGRlbiIpLHMhPT1rJiYocz1xLnBsYWNlaG9sZGVyPWspKSxwPWMuY3JlYXRlRWxlbWVudCgibGkiKSxoLmRpc2FibGVkJiYobS5wdXNoKCJ1aS1kaXNhYmxlZCIpLHAuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIiwhMCkpLHAuc2V0QXR0cmlidXRlKHcsZykscC5zZXRBdHRyaWJ1dGUoeCx1KSxCJiZwLnNldEF0dHJpYnV0ZSh6LCEwKSxwLmNsYXNzTmFtZT1tLmpvaW4oIiAiKSxwLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLGwuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIikscC5hcHBlbmRDaGlsZChsKSxBLmFwcGVuZENoaWxkKHApKTtxLmxpc3RbMF0uYXBwZW5kQ2hpbGQoQSksdGhpcy5pc011bHRpcGxlfHxzLmxlbmd0aD90aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik6dGhpcy5oZWFkZXIuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSxxLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcigpOmEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm5hdGl2ZU1lbnV8fCh0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09YiYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoInRhYmluZGV4IikpLHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0ciYmdGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicGxhY2Vob2xkZXIiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksdGhpcy5tZW51UGFnZS5yZW1vdmUoKSksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dmFyIGM9Yj9iOltdO3JldHVybiBjLnB1c2goInVpLWJ0biIpLGEudGhlbWUmJmMucHVzaCgidWktYnRuLSIrYS50aGVtZSksYS5pY29uJiYoYz1jLmNvbmNhdChbInVpLWljb24tIithLmljb24sInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zXSksYS5pY29uc2hhZG93JiZjLnB1c2goInVpLXNoYWRvdy1pY29uIikpLGEuaW5saW5lJiZjLnB1c2goInVpLWJ0bi1pbmxpbmUiKSxhLnNoYWRvdyYmYy5wdXNoKCJ1aS1zaGFkb3ciKSxhLmNvcm5lcnMmJmMucHVzaCgidWktY29ybmVyLWFsbCIpLGEubWluaSYmYy5wdXNoKCJ1aS1taW5pIiksY31mdW5jdGlvbiBkKGEpe3ZhciBjLGQsZSxnPSExLGg9ITAsaT17aWNvbjoiIixpbmxpbmU6ITEsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnNoYWRvdzohMSxtaW5pOiExfSxqPVtdO2ZvcihhPWEuc3BsaXQoIiAiKSxjPTA7YzxhLmxlbmd0aDtjKyspZT0hMCxkPWZbYVtjXV0sZCE9PWI/KGU9ITEsaVtkXT0hMCk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLWljb24tIik/KGU9ITEsaD0hMSxpLmljb25wb3M9YVtjXS5zdWJzdHJpbmcoMTIpKTowPT09YVtjXS5pbmRleE9mKCJ1aS1pY29uLSIpPyhlPSExLGkuaWNvbj1hW2NdLnN1YnN0cmluZyg4KSk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLSIpJiY4PT09YVtjXS5sZW5ndGg/KGU9ITEsaS50aGVtZT1hW2NdLnN1YnN0cmluZyg3KSk6InVpLWJ0biI9PT1hW2NdJiYoZT0hMSxnPSEwKSxlJiZqLnB1c2goYVtjXSk7cmV0dXJuIGgmJihpLmljb249IiIpLHtvcHRpb25zOmksdW5rbm93bkNsYXNzZXM6aixhbHJlYWR5RW5oYW5jZWQ6Z319ZnVuY3Rpb24gZShhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfXZhciBmPXsidWktc2hhZG93Ijoic2hhZG93IiwidWktY29ybmVyLWFsbCI6ImNvcm5lcnMiLCJ1aS1idG4taW5saW5lIjoiaW5saW5lIiwidWktc2hhZG93LWljb24iOiJpY29uc2hhZG93IiwidWktbWluaSI6Im1pbmkifSxnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuZ2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09Yz9iOmN9LGg9L1tBLVpdL2c7YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oZixpKXt2YXIgaixrLGwsbSxuLG89YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM7Zm9yKGo9MDtqPHRoaXMubGVuZ3RoO2orKyl7aWYobD10aGlzW2pdLGs9aT97YWxyZWFkeUVuaGFuY2VkOiExLHVua25vd25DbGFzc2VzOltdfTpkKGwuY2xhc3NOYW1lKSxtPWEuZXh0ZW5kKHt9LGsuYWxyZWFkeUVuaGFuY2VkP2sub3B0aW9uczp7fSxmKSwhay5hbHJlYWR5RW5oYW5jZWQpZm9yKG4gaW4gbyltW25dPT09YiYmKG1bbl09ZyhsLG4ucmVwbGFjZShoLGUpKSk7bC5jbGFzc05hbWU9YyhhLmV4dGVuZCh7fSxvLG0pLGsudW5rbm93bkNsYXNzZXMpLmpvaW4oIiAiKSxsLnNldEF0dHJpYnV0ZSgicm9sZSIsImJ1dHRvbiIpfXJldHVybiB0aGlzfSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17aWNvbjoiIixpY29ucG9zOiJsZWZ0Iix0aGVtZTpudWxsLGlubGluZTohMSxzaGFkb3c6ITAsY29ybmVyczohMCxpY29uc2hhZG93OiExLG1pbmk6ITF9LGEuZXh0ZW5kKGEuZm4uYnV0dG9uTWFya3VwLHtpbml0U2VsZWN0b3I6ImE6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEsIGJ1dHRvbiJ9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5leHRlbmQoe29wdGlvbnM6e2VuaGFuY2VkOiExLHRoZW1lOm51bGwsc2hhZG93OiExLGNvcm5lcnM6ITAsZXhjbHVkZUludmlzaWJsZTohMCx0eXBlOiJ2ZXJ0aWNhbCIsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczthLm1vYmlsZS5lbmhhbmNlV2l0aEJ1dHRvbk1hcmt1cCYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGUuZW5oYW5jZVdpdGhCdXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5lYWNoKGEubW9iaWxlLmVuaGFuY2VXaXRoQnV0dG9uTWFya3VwKSxhLmVhY2godGhpcy5fY2hpbGRXaWRnZXRzLGEucHJveHkoZnVuY3Rpb24oYixjKXthLm1vYmlsZVtjXSYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGVbY10uaW5pdFNlbGVjdG9yKVtjXSgpfSx0aGlzKSksYS5leHRlbmQodGhpcyx7X3VpOm51bGwsX2luaXRpYWxSZWZyZXNoOiEwfSksdGhpcy5fdWk9Yy5lbmhhbmNlZD97Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIpLmNoaWxkcmVuKCksY2hpbGRXcmFwcGVyOmIuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX06dGhpcy5fZW5oYW5jZSgpfSxfY2hpbGRXaWRnZXRzOlsiY2hlY2tib3hyYWRpbyIsInNlbGVjdG1lbnUiLCJidXR0b24iXSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/Im5vbmUiPT09YT8iIjoidWktZ3JvdXAtdGhlbWUtIithOiIifSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPXtncm91cExlZ2VuZDpiLmNoaWxkcmVuKCJsZWdlbmQiKSxjaGlsZFdyYXBwZXI6Yi5hZGRDbGFzcygidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1jLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKyIgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKSsiICIrKGMuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSsoYy5taW5pPyJ1aS1taW5pICI6IiIpKS53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyAiKyhjLnNoYWRvdz09PSEwPyJ1aS1zaGFkb3ciOiIiKSsiJz48L2Rpdj4iKS5jaGlsZHJlbigpfTtyZXR1cm4gZC5ncm91cExlZ2VuZC5sZW5ndGg+MCYmYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz48L2Rpdj4iKS5hcHBlbmQoZC5ncm91cExlZ2VuZCkucHJlcGVuZFRvKGIpLGR9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5lbGVtZW50O3JldHVybiBhLnR5cGUhPT1iJiYoZC5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1hLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKSxjPSEwKSxhLnRoZW1lIT09YiYmZC5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbih0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihhLnRoZW1lKSksYS5jb3JuZXJzIT09YiYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLm1pbmkhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLGEuc2hhZG93IT09YiYmdGhpcy5fdWkuY2hpbGRXcmFwcGVyLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGEuc2hhZG93KSxhLmV4Y2x1ZGVJbnZpc2libGUhPT1iJiYodGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU9YS5leGNsdWRlSW52aXNpYmxlLGM9ITApLGMmJnRoaXMucmVmcmVzaCgpLHRoaXMuX3N1cGVyKGEpfSxjb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY2hpbGRXcmFwcGVyfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jb250YWluZXIoKSxjPWIuZmluZCgiLnVpLWJ0biIpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxkPXRoaXMuX2luaXRpYWxSZWZyZXNoO2EubW9iaWxlLmNoZWNrYm94cmFkaW8mJmIuZmluZCgiOm1vYmlsZS1jaGVja2JveHJhZGlvIikuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyhjLGQpOmMsZCksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5lbmhhbmNlZD90aGlzOihhPXRoaXMuX3VpLGI9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIHVpLWNvcm5lci1hbGwgdWktbWluaSAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGMudGhlbWUpKS5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYiksYS5ncm91cExlZ2VuZC51bndyYXAoKSxhLmNoaWxkV3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHZvaWQgMCl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIse2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIixvcHRpb25zOnt0aGVtZTpudWxsLGFkZEJhY2tCdG46ITEsYmFja0J0blRoZW1lOm51bGwsYmFja0J0blRleHQ6IkJhY2sifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU9dGhpcy5lbGVtZW50LmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiLGY9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIik7MD09PWYubGVuZ3RoJiYoZj0hMSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7cGFnZXNob3c6InJlZnJlc2gifSkpLGEuZXh0ZW5kKHRoaXMse3JvbGU6ZSxwYWdlOmYsbGVmdGJ0bjpiLHJpZ2h0YnRuOmMsYmFja0J0bjpkfSksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJoZWFkZXIiPT09ZT8iYmFubmVyIjoiY29udGVudGluZm8iKS5hZGRDbGFzcygidWktIitlKSx0aGlzLnJlZnJlc2goKSx0aGlzLl9zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKGMuYWRkQmFja0J0biE9PWImJih0aGlzLm9wdGlvbnMuYWRkQmFja0J0biYmImhlYWRlciI9PT10aGlzLnJvbGUmJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJnRoaXMucGFnZVswXS5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIXRoaXMubGVmdGJ0bj90aGlzLl9hZGRCYWNrQnV0dG9uKCk6dGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikucmVtb3ZlKCkpLGMuYmFja0J0blRoZW1lIT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikuYWRkQ2xhc3MoInVpLWJ0biB1aS1idG4tIitjLmJhY2tCdG5UaGVtZSksYy5iYWNrQnRuVGV4dCE9PWImJnRoaXMuZWxlbWVudC5maW5kKCIudWktdG9vbGJhci1iYWNrLWJ0biAudWktYnRuLXRleHQiKS50ZXh0KGMuYmFja0J0blRleHQpLGMudGhlbWUhPT1iKXt2YXIgZD10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCI7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1iYXItIitkKS5hZGRDbGFzcygidWktYmFyLSIrZSl9dGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXsiaGVhZGVyIj09PXRoaXMucm9sZSYmdGhpcy5fYWRkSGVhZGVyQnV0dG9uQ2xhc3NlcygpLHRoaXMucGFnZXx8KGEoIltkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnXSIpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLCJmb290ZXIiPT09dGhpcy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXBwZW5kVG8oImJvZHkiKSksdGhpcy5fYWRkSGVhZGluZ0NsYXNzZXMoKSx0aGlzLl9idG5NYXJrdXAoKX0sX2J0bk1hcmt1cDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiYSIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImJ1dHRvbiIpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJjcmVhdGUiKX0sX2FkZEhlYWRlckJ1dHRvbkNsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImEsIGJ1dHRvbiIpO3RoaXMubGVmdGJ0bj1hLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLHRoaXMucmlnaHRidG49YS5oYXNDbGFzcygidWktYnRuLXJpZ2h0IiksdGhpcy5sZWZ0YnRuPXRoaXMubGVmdGJ0bnx8YS5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsdGhpcy5yaWdodGJ0bj10aGlzLnJpZ2h0YnRufHxhLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGh9LF9hZGRCYWNrQnV0dG9uOmZ1bmN0aW9uKCl7dGhpcy5iYWNrQnRuPWEoIjxhIHJvbGU9J2J1dHRvbicgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOycgY2xhc3M9J3VpLWJ0bi1sZWZ0IHVpLXRvb2xiYXItYmFjay1idG4nIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2NhcmF0LWwnPiIrdGhpcy5vcHRpb25zLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsdGhpcy5vcHRpb25zLmJhY2tCdG5UaGVtZXx8dGhpcy5vcHRpb25zLnRoZW1lKS5wcmVwZW5kVG8odGhpcy5lbGVtZW50KX0sX2FkZEhlYWRpbmdDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7cm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7b3B0aW9uczp7cG9zaXRpb246bnVsbCx2aXNpYmxlT25QYWdlU2hvdzohMCxkaXNhYmxlUGFnZVpvb206ITAsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCwgLnVpLXBvcHVwLCAudWktcGFuZWwsIC51aS1wYW5lbC1kaXNtaXNzLW9wZW4iLGhpZGVEdXJpbmdGb2N1czoiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QiLHVwZGF0ZVBhZ2VQYWRkaW5nOiEwLHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOiEwLHN1cHBvcnRCbGFja2xpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hYS5zdXBwb3J0LmZpeGVkUG9zaXRpb259fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufHx0aGlzLm9wdGlvbnMuc3VwcG9ydEJsYWNrbGlzdCgpfHwodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZpeGVkIiksdGhpcy51cGRhdGVQYWdlUGFkZGluZygpLHRoaXMuX2FkZFRyYW5zaXRpb25DbGFzcygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5fYmluZFRvZ2dsZUhhbmRsZXJzKCksdGhpcy5fc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7aWYoImZpeGVkIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmIXRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCkpe3ZhciBkPXRoaXMucGFnZT90aGlzLnBhZ2U6YSgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoPjA/YSgiLnVpLXBhZ2UtYWN0aXZlIik6YSgiLnVpLXBhZ2UiKS5lcSgwKTtjLmZ1bGxzY3JlZW4hPT1iJiYoYy5mdWxsc2NyZWVuPyh0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpLGQuYWRkQ2xhc3MoInVpLXBhZ2UtIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIikpOih0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpLGQucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIikuYWRkQ2xhc3MoInVpLXBhZ2UtIit0aGlzLnJvbGUrIi1maXhlZCIpKSl9dGhpcy5fc3VwZXIoYyl9LF9hZGRUcmFuc2l0aW9uQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbjthJiYibm9uZSIhPT1hJiYoInNsaWRlIj09PWEmJihhPXRoaXMuZWxlbWVudC5oYXNDbGFzcygidWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnBhZ2U/dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIik6YS5tb2JpbGUuZG9jdW1lbnQ7dGhpcy5fb24oYix7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIil9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIiksdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKGEubW9iaWxlLndpbmRvdywidGhyb3R0bGVkcmVzaXplIiksaC50cmFja1BlcnNpc3RlbnRUb29sYmFycyYmKGQ9YSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5wYWdlKSxlPWEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMucGFnZSksZj1kLmxlbmd0aCYmYy5uZXh0UGFnZSYmYSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSciK2QuanFtRGF0YSgiaWQiKSsiJykiLGMubmV4dFBhZ2UpfHxhKCksZz1lLmxlbmd0aCYmYy5uZXh0UGFnZSYmYSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSciK2UuanFtRGF0YSgiaWQiKSsiJykiLGMubmV4dFBhZ2UpfHxhKCksKGYubGVuZ3RofHxnLmxlbmd0aCkmJihmLmFkZChnKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxjLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7Zy5wcmVwZW5kVG8odGhpcyksZi5hcHBlbmRUbyh0aGlzKX0pKSl9LF92aXNpYmxlOiEwLHVwZGF0ZVBhZ2VQYWRkaW5nOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuZWxlbWVudCxlPSJoZWFkZXIiPT09dGhpcy5yb2xlLGY9cGFyc2VGbG9hdChkLmNzcyhlPyJ0b3AiOiJib3R0b20iKSk7dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW58fChjPWMmJmMudHlwZT09PWImJmN8fHRoaXMucGFnZXx8ZC5jbG9zZXN0KCIudWktcGFnZSIpLGM9dGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIixhKGMpLmNzcygicGFkZGluZy0iKyhlPyJ0b3AiOiJib3R0b20iKSxkLm91dGVySGVpZ2h0KCkrZikpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihiKXt2YXIgYz1hLm1vYmlsZS53aW5kb3csZD10aGlzLmVsZW1lbnQsZT1jLnNjcm9sbFRvcCgpLGY9ZC5oZWlnaHQoKSxnPXRoaXMucGFnZT9kLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCk6YSgiLnVpLXBhZ2UtYWN0aXZlIikuaGVpZ2h0KCksaD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtyZXR1cm4hYiYmKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYibm9uZSIhPT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmKCJoZWFkZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8ImZvb3RlciI9PT10aGlzLnJvbGUmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZy1mPmUraCl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoIm91dCAiK2IpLmFkZENsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygiaW4iKX0pOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudCxkPSJvdXQiKygic2xpZGUiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcyxlPWQub3B0aW9ucyxmPSEwLGc9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZSIpO2cuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtlLnRhcFRvZ2dsZSYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoZS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmZC50b2dnbGUoKX0pLmJpbmQoImZvY3VzaW4gZm9jdXNvdXQiLGZ1bmN0aW9uKGcpe3NjcmVlbi53aWR0aDwxMDI1JiZhKGcudGFyZ2V0KS5pcyhlLmhpZGVEdXJpbmdGb2N1cykmJiFhKGcudGFyZ2V0KS5jbG9zZXN0KCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYoImZvY3Vzb3V0IiE9PWcudHlwZXx8Zj8iZm9jdXNpbiI9PT1nLnR5cGUmJmYmJihjbGVhclRpbWVvdXQoYiksZj0hMSxjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmhpZGUoKX0sMCkpOihmPSEwLGNsZWFyVGltZW91dChjKSxiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnNob3coKX0sMCkpKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaGFzQ2xhc3MoInVpLWhlYWRlciIpO2EuY2xvc2VzdCgiLnVpLXBhZ2UiKS5jc3MoInBhZGRpbmctIisoYj8idG9wIjoiYm90dG9tIiksIiIpLGEucmVtb3ZlQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1mb290ZXItZml4ZWQgdWktaGVhZGVyLWZ1bGxzY3JlZW4gdWktZm9vdGVyLWZ1bGxzY3JlZW4gaW4gb3V0IGZhZGUgc2xpZGVkb3duIHNsaWRldXAgdWktZml4ZWQtaGlkZGVuIiksYS5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50b29sYmFyIixhLm1vYmlsZS50b29sYmFyLHtfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl93b3JrYXJvdW5kcygpfSxfd29ya2Fyb3VuZHM6ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmF2aWdhdG9yLnBsYXRmb3JtLGM9YS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZD0hIWMmJmNbMV0sZT1udWxsLGY9dGhpcztpZihiLmluZGV4T2YoImlQaG9uZSIpPi0xfHxiLmluZGV4T2YoImlQYWQiKT4tMXx8Yi5pbmRleE9mKCJpUG9kIik+LTEpZT0iaW9zIjtlbHNle2lmKCEoYS5pbmRleE9mKCJBbmRyb2lkIik+LTEpKXJldHVybjtlPSJhbmRyb2lkIn1pZigiaW9zIj09PWUpZi5fYmluZFNjcm9sbFdvcmthcm91bmQoKTtlbHNle2lmKCEoImFuZHJvaWQiPT09ZSYmZCYmNTM0PmQpKXJldHVybjtmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpLGYuX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kKCl9fSxfdmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmhhc0NsYXNzKCJ1aS1oZWFkZXIiKSxkPU1hdGguYWJzKGIub2Zmc2V0KCkudG9wLWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSk7cmV0dXJuIGN8fChkPU1hdGgucm91bmQoZC1hLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCkrYi5vdXRlckhlaWdodCgpKS02MCksZH0sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Njcm9sbHN0b3A6ZnVuY3Rpb24oKXt2YXIgYT1iLl92aWV3cG9ydE9mZnNldCgpO2E+MiYmYi5fdmlzaWJsZSYmYi5fdHJpZ2dlclJlZHJhdygpfX0pfSxfYmluZExpc3RUaHVtYldvcmthcm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktYW5kcm9pZC0yeC1maXhlZCIpfSxfdHJpZ2dlclJlZHJhdzpmdW5jdGlvbigpe3ZhciBiPXBhcnNlRmxvYXQoYSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKTthKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIixiKzErInB4Iiksc2V0VGltZW91dChmdW5jdGlvbigpe2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrInB4Iil9LDApfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikucmVtb3ZlQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4Iil9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5wYW5lbCIse29wdGlvbnM6e2NsYXNzZXM6e3BhbmVsOiJ1aS1wYW5lbCIscGFuZWxPcGVuOiJ1aS1wYW5lbC1vcGVuIixwYW5lbENsb3NlZDoidWktcGFuZWwtY2xvc2VkIixwYW5lbEZpeGVkOiJ1aS1wYW5lbC1maXhlZCIscGFuZWxJbm5lcjoidWktcGFuZWwtaW5uZXIiLG1vZGFsOiJ1aS1wYW5lbC1kaXNtaXNzIixtb2RhbE9wZW46InVpLXBhbmVsLWRpc21pc3Mtb3BlbiIscGFnZUNvbnRhaW5lcjoidWktcGFuZWwtcGFnZS1jb250YWluZXIiLHBhZ2VXcmFwcGVyOiJ1aS1wYW5lbC13cmFwcGVyIixwYWdlRml4ZWRUb29sYmFyOiJ1aS1wYW5lbC1maXhlZC10b29sYmFyIixwYWdlQ29udGVudFByZWZpeDoidWktcGFuZWwtcGFnZS1jb250ZW50IixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZToiYSIscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfcGFuZWxJRDpudWxsLF9jbG9zZUxpbms6bnVsbCxfcGFyZW50UGFnZTpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3BhbmVsSW5uZXI6bnVsbCxfd3JhcHBlcjpudWxsLF9maXhlZFRvb2xiYXJzOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7YS5leHRlbmQodGhpcyx7X3BhbmVsSUQ6Yi5hdHRyKCJpZCIpLF9jbG9zZUxpbms6Yi5maW5kKCI6anFtRGF0YShyZWw9J2Nsb3NlJykiKSxfcGFyZW50UGFnZTpjLmxlbmd0aD4wP2M6ITEsX3BhZ2U6dGhpcy5fZ2V0UGFnZSxfcGFuZWxJbm5lcjp0aGlzLl9nZXRQYW5lbElubmVyKCksX3dyYXBwZXI6dGhpcy5fZ2V0V3JhcHBlcixfZml4ZWRUb29sYmFyczp0aGlzLl9nZXRGaXhlZFRvb2xiYXJzfSksdGhpcy5fYWRkUGFuZWxDbGFzc2VzKCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0aGlzLm9wdGlvbnMuYW5pbWF0ZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpLHRoaXMuX2JpbmRVcGRhdGVMYXlvdXQoKSx0aGlzLl9iaW5kQ2xvc2VFdmVudHMoKSx0aGlzLl9iaW5kTGlua0xpc3RlbmVycygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLl9jcmVhdGVNb2RhbCgpLHRoaXMuX2JpbmRTd2lwZUV2ZW50cygpfSxfZ2V0UGFuZWxJbm5lcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWEubGVuZ3RoJiYoYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSciK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrIicgLz4iKS5wYXJlbnQoKSksYX0sX2NyZWF0ZU1vZGFsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3BhcmVudFBhZ2U/Yi5fcGFyZW50UGFnZS5wYXJlbnQoKTpiLmVsZW1lbnQucGFyZW50KCk7Yi5fbW9kYWw9YSgiPGRpdiBjbGFzcz0nIitiLm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCsiJyBkYXRhLXBhbmVsaWQ9JyIrYi5fcGFuZWxJRCsiJz48L2Rpdj4iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pLmFwcGVuZFRvKGMpfSxfZ2V0UGFnZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3BhcmVudFBhZ2U/dGhpcy5fcGFyZW50UGFnZTphKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO3JldHVybiBifSxfZ2V0V3JhcHBlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3BhZ2UoKS5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlV3JhcHBlciksYz1hLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJnRoaXMub3B0aW9ucy5hbmltYXRlPyIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlOiIiO3JldHVybiAwPT09Yi5sZW5ndGgmJihiPXRoaXMuX3BhZ2UoKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykpLCAudWktY29udGVudDpub3QoOmpxbURhdGEocm9sZT0ncG9wdXAnKSksIC51aS1mb290ZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSIpLndyYXBBbGwoIjxkaXYgY2xhc3M9JyIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrYysiJyAvPjwvZGl2PiIpLnBhcmVudCgpKSxifSxfZ2V0Rml4ZWRUb29sYmFyczpmdW5jdGlvbigpe3ZhciBiPWEoImJvZHkiKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpLCAudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKSxjPXRoaXMuX3BhZ2UoKS5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJyksIC51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLGQ9Yi5hZGQoYykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZUZpeGVkVG9vbGJhcik7cmV0dXJuIGR9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQ7cmV0dXJuIHRoaXMub3B0aW9ucy50aGVtZSYmKGErPSIgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksYX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuX2Nsb3NlTGluay5vbigiY2xpY2sucGFuZWwiLGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYS5jbG9zZSgpLCExfSksYS5lbGVtZW50Lm9uKCJjbGljay5wYW5lbCIsImE6anFtRGF0YShhamF4PSdmYWxzZScpIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1jLl9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksZT1kPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2V8fCFjLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZSYmKGMuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoZCkpLGIuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkpOmMuX2ZpeFBhbmVsKCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7CmEuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2EuX29wZW4mJmEuX3Bvc2l0aW9uUGFuZWwoKX0pfSxfYmluZExpbmtMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLl9vbigiYSIse2NsaWNrOiJfaGFuZGxlQ2xpY2sifSl9LF9oYW5kbGVDbGljazpmdW5jdGlvbihiKXtpZihiLmN1cnJlbnRUYXJnZXQuaHJlZi5zcGxpdCgiIyIpWzFdPT09dGhpcy5fcGFuZWxJRCYmdGhpcy5fcGFuZWxJRCE9PWMpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1hKGIudGFyZ2V0KTtyZXR1cm4gZC5oYXNDbGFzcygidWktYnRuIikmJihkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSx0aGlzLnRvZ2dsZSgpLCExfX0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9tb2RhbD9hLmVsZW1lbnQuYWRkKGEuX21vZGFsKTphLmVsZW1lbnQ7YS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1hLm9wdGlvbnMucG9zaXRpb24/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2EubW9iaWxlLmRvY3VtZW50Lm9uKCJwYW5lbGJlZm9yZW9wZW4iLGZ1bmN0aW9uKGEpe2IuX29wZW4mJmEudGFyZ2V0IT09Yi5lbGVtZW50WzBdJiZiLmNsb3NlKCl9KS5vbigia2V5dXAucGFuZWwiLGZ1bmN0aW9uKGEpezI3PT09YS5rZXlDb2RlJiZiLl9vcGVuJiZiLmNsb3NlKCl9KSxiLl9wYXJlbnRQYWdlP2EubW9iaWxlLmRvY3VtZW50Lm9uKCJwYWdlaGlkZSIsIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIsZnVuY3Rpb24oKXtiLl9vcGVuJiZiLmNsb3NlKCEwKX0pOmEubW9iaWxlLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXtiLl9vcGVuJiZiLmNsb3NlKCEwKX0pfSxfb3BlbjohMSxfcGFnZUNvbnRlbnRPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7YS5tb2JpbGUuZG9jdW1lbnQub2ZmKCJwYW5lbGNsb3NlIiksYy5fcGFnZSgpLmpxbURhdGEoInBhbmVsIiwib3BlbiIpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlJiYib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZT9hLm1vYmlsZS5kb2N1bWVudC5vbihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpOnNldFRpbWVvdXQoZiwwKSxkLnRoZW1lJiYib3ZlcmxheSIhPT1kLmRpc3BsYXkmJmMuX3BhZ2UoKS5wYXJlbnQoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLXRoZW1lZCAiK2QuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItIitkLnRoZW1lKSxjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsQ2xvc2VkKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxPcGVuKSxjLl9wb3NpdGlvblBhbmVsKCksYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3BhZ2UoKS5wYXJlbnQoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy5fd3JhcHBlcigpLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSksYy5fbW9kYWxPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMubW9kYWwpKyIgIitkLmNsYXNzZXMubW9kYWxPcGVuLGMuX21vZGFsJiZjLl9tb2RhbC5hZGRDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2EubW9iaWxlLmRvY3VtZW50Lm9mZihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcigib3BlbiIpfTtjLl90cmlnZ2VyKCJiZWZvcmVvcGVuIiksIm9wZW4iPT09Yy5fcGFnZSgpLmpxbURhdGEoInBhbmVsIik/YS5tb2JpbGUuZG9jdW1lbnQub24oInBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7ZSgpfSk6ZSgpLGMuX29wZW49ITB9fSxjbG9zZTpmdW5jdGlvbihiKXtpZih0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZnVuY3Rpb24oKXshYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/YS5tb2JpbGUuZG9jdW1lbnQub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5yZW1vdmVDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLGMuX21vZGFsJiZjLl9tb2RhbC5yZW1vdmVDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2EubW9iaWxlLmRvY3VtZW50Lm9mZihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGQudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy5fd3JhcHBlcigpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlcigpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpKSxjLl9maXhQYW5lbCgpLGMuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksYy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoInBhbmVsIiksYy5fdHJpZ2dlcigiY2xvc2UiKX07Yy5fdHJpZ2dlcigiYmVmb3JlY2xvc2UiKSxlKCksYy5fb3Blbj0hMX19LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fb3Blbj8iY2xvc2UiOiJvcGVuIl0oKX0sX3RyYW5zaXRpb25FbmRFdmVudHM6IndlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgdHJhbnNpdGlvbmVuZCBtc1RyYW5zaXRpb25FbmQiLF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5sZW5ndGgrYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikubGVuZ3RoPjE7Im92ZXJsYXkiIT09Yi5kaXNwbGF5JiYodGhpcy5fd3JhcHBlcigpLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhiLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZiLmFuaW1hdGUmJnRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhiLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGIuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxiLnRoZW1lJiZ0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYi5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitiLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrYi50aGVtZSkpKSxjfHwoYS5tb2JpbGUuZG9jdW1lbnQub2ZmKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIpLHRoaXMuX29wZW4mJihhLm1vYmlsZS5kb2N1bWVudC5vZmYodGhpcy5fdHJhbnNpdGlvbkVuZEV2ZW50cyksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCkpKSx0aGlzLl9vcGVuJiZ0aGlzLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSxiLmNsYXNzZXMucGFuZWxPcGVuLGIuY2xhc3Nlcy5hbmltYXRlXS5qb2luKCIgIikpLm9mZigic3dpcGVsZWZ0LnBhbmVsIHN3aXBlcmlnaHQucGFuZWwiKS5vZmYoInBhbmVsYmVmb3Jlb3BlbiIpLm9mZigicGFuZWxoaWRlIikub2ZmKCJrZXl1cC5wYW5lbCIpLm9mZigidXBkYXRlbGF5b3V0Iikub2ZmKHRoaXMuX3RyYW5zaXRpb25FbmRFdmVudHMpLHRoaXMuX2Nsb3NlTGluay5vZmYoImNsaWNrLnBhbmVsIiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnRhYmxlKSxhLmV4dGVuZCh0aGlzLHtoZWFkZXJzOmIsYWxsSGVhZGVyczpifSksdGhpcy5fcmVmcmVzaCghMCl9LF9zZXRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmZpbmQoInRoZWFkIHRyIik7dGhpcy5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksdGhpcy5hbGxIZWFkZXJzPXRoaXMuaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goKX0scmVidWlsZDphLm5vb3AsX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmZpbmQoInRoZWFkIHRyIik7dGhpcy5fc2V0SGVhZGVycygpLGMuZWFjaChmdW5jdGlvbigpe3ZhciBkPTA7YSh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgZSxmPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApLGc9IjpudGgtY2hpbGQoIisoZCsxKSsiKSI7aWYodGhpcy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysiY29sc3RhcnQiLGQrMSksZilmb3IoZT0wO2YtMT5lO2UrKylkKyssZys9IiwgOm50aC1jaGlsZCgiKyhkKzEpKyIpIjthKHRoaXMpLmpxbURhdGEoImNlbGxzIixiLmZpbmQoInRyIikubm90KGMuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihnKSksZCsrfSl9KX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6ImNvbHVtbnRvZ2dsZSIsY29sdW1uQnRuVGhlbWU6bnVsbCxjb2x1bW5Qb3B1cFRoZW1lOm51bGwsY29sdW1uQnRuVGV4dDoiQ29sdW1ucy4uLiIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtwb3B1cDoidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwIixjb2x1bW5CdG46InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1idG4iLHByaW9yaXR5UHJlZml4OiJ1aS10YWJsZS1wcmlvcml0eS0iLGNvbHVtblRvZ2dsZVRhYmxlOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJihhLmV4dGVuZCh0aGlzLHtfbWVudTpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkP3RoaXMuX21lbnU9dGhpcy5kb2N1bWVudC5maW5kKHRoaXMuX2lkKCkrIi1wb3B1cCIpLmNoaWxkcmVuKCkuZmlyc3QoKToodGhpcy5fbWVudT10aGlzLl9lbmhhbmNlQ29sVG9nZ2xlKCksdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSksdGhpcy5fc2V0dXBFdmVudHMoKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJpZCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToiX3NldFRvZ2dsZVN0YXRlIn0pfSxfYmluZFRvZ2dsZXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5maW5kKCJpbnB1dCIpO3RoaXMuX29uKGIse2NoYW5nZToiX21lbnVJbnB1dENoYW5nZSJ9KX0sX2FkZFRvZ2dsZXM6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLm9wdGlvbnM7Y3x8Yi5lbXB0eSgpLHRoaXMuaGVhZGVycy5ub3QoInRkIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywicHJpb3JpdHkiKSxnPWUuYWRkKGUuanFtRGF0YSgiY2VsbHMiKSk7ZiYmKGcuYWRkQ2xhc3MoZC5jbGFzc2VzLnByaW9yaXR5UHJlZml4K2YpLGN8fGEoIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz4iKyhlLmNoaWxkcmVuKCJhYmJyIikuZmlyc3QoKS5hdHRyKCJ0aXRsZSIpfHxlLnRleHQoKSkrIjwvbGFiZWw+IikuYXBwZW5kVG8oYikuY2hpbGRyZW4oMCkuanFtRGF0YSgiY2VsbHMiLGcpLmNoZWNrYm94cmFkaW8oe3RoZW1lOmQuY29sdW1uUG9wdXBUaGVtZX0pKX0pLGN8fHRoaXMuX2JpbmRUb2dnbGVzKGIpfSxfbWVudUlucHV0Q2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Y1swXS5jaGVja2VkO2MuanFtRGF0YSgiY2VsbHMiKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iLCFkKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIixkKSxjWzBdLmdldEF0dHJpYnV0ZSgibG9ja2VkIik/KGMucmVtb3ZlQXR0cigibG9ja2VkIiksdGhpcy5fdW5sb2NrQ2VsbHMoYy5qcW1EYXRhKCJjZWxscyIpKSk6Yy5hdHRyKCJsb2NrZWQiLCEwKX0sX3VubG9ja0NlbGxzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpfSxfZW5oYW5jZUNvbFRvZ2dsZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9YS5tb2JpbGUubnMsaT1hLm1vYmlsZS5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGI9dGhpcy5faWQoKSsiLXBvcHVwIixjPWEoIjxhIHJvbGU9J2J1dHRvbicgaHJlZj0nIyIrYisiJyAiKyJjbGFzcz0nIitnLmNsYXNzZXMuY29sdW1uQnRuKyIgdWktYnRuIHVpLWJ0bi0iKyhnLmNvbHVtbkJ0blRoZW1lfHwiYSIpKyIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgIisiZGF0YS0iK2grInJlbD0ncG9wdXAnICIrImRhdGEtIitoKyJtaW5pPSd0cnVlJz4iK2cuY29sdW1uQnRuVGV4dCsiPC9hPiIpLGQ9YSgiPGRpdiBkYXRhLSIraCsicm9sZT0ncG9wdXAnIGRhdGEtIitoKyJyb2xlPSdmaWVsZGNvbnRhaW4nIGNsYXNzPSciK2cuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitiKyInPjwvZGl2PiIpLGU9YSgiPGZpZWxkc2V0IGRhdGEtIitoKyJyb2xlPSdjb250cm9sZ3JvdXAnPjwvZmllbGRzZXQ+IiksdGhpcy5fYWRkVG9nZ2xlcyhlLCExKSxlLmFwcGVuZFRvKGQpLGkuYXBwZW5kQ2hpbGQoZFswXSksaS5hcHBlbmRDaGlsZChjWzBdKSxmLmJlZm9yZShpKSxkLnBvcHVwKCkuZW5oYW5jZVdpdGhpbigpLGV9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwiY29sdW1udG9nZ2xlIiE9PXRoaXMub3B0aW9ucy5tb2RlfHwodGhpcy5fdW5sb2NrQ2VsbHModGhpcy5hbGxIZWFkZXJzKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsYSksdGhpcy5fc2V0VG9nZ2xlU3RhdGUoKSl9LF9zZXRUb2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuX21lbnUuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTt0aGlzLmNoZWNrZWQ9InRhYmxlLWNlbGwiPT09Yi5qcW1EYXRhKCJjZWxscyIpLmVxKDApLmNzcygiZGlzcGxheSIpLGIuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6InJlZmxvdyIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiYodGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnJlZmxvd1RhYmxlKSx0aGlzLl91cGRhdGVSZWZsb3coKSkpfSxyZWJ1aWxkOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiZ0aGlzLl9yZWZyZXNoKCExKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYXx8InJlZmxvdyIhPT10aGlzLm9wdGlvbnMubW9kZXx8dGhpcy5fdXBkYXRlUmVmbG93KCl9LF91cGRhdGVSZWZsb3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO2EoYi5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBkLGUsZj1hKHRoaXMpLmpxbURhdGEoImNlbGxzIiksZz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiY29sc3RhcnQiKSxoPWYubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGk9YSh0aGlzKS50ZXh0KCk7IiIhPT1pJiYoaD8oZD1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxlPSIiLGQmJihlPSJ0ZDpudGgtY2hpbGQoIitkKyJuICsgIitnKyIpIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGEsYixjKXthLm5vdCgiOmhhcyhiLiIrYisiKSIpLnByZXBlbmQoIjxiIGNsYXNzPSciK2IrIic+IitjKyI8L2I+Iil9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybisrZX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmhhc2gubGVuZ3RoPjEmJmRlY29kZVVSSUNvbXBvbmVudChhLmhyZWYucmVwbGFjZShmLCIiKSk9PT1kZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZi5yZXBsYWNlKGYsIiIpKX12YXIgZT0wLGY9LyMuKiQvO2Eud2lkZ2V0KCJ1aS50YWJzIix7dmVyc2lvbjoiQFZFUlNJT04iLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKCIudWktdGFicy1uYXYgPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihiKXthKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGMuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxhLmlzQXJyYXkoYy5kaXNhYmxlZCkmJihjLmRpc2FibGVkPWEudW5pcXVlKGMuZGlzYWJsZWQuY29uY2F0KGEubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRhYnMuaW5kZXgoYSl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoYy5hY3RpdmUpOmEoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoYy5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5hY3RpdmUsYz10aGlzLm9wdGlvbnMuY29sbGFwc2libGUsZD1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PWImJihkJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihjLGUpe3JldHVybiBhKGUpLmF0dHIoImFyaWEtY29udHJvbHMiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLChudWxsPT09Ynx8LTE9PT1iKSYmKGI9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksYiE9PSExJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGIpKSwtMT09PWImJihiPWM/ITE6MCkpLCFjJiZiPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPTApLGJ9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6YSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIiksZD10aGlzLnRhYnMuaW5kZXgoYyksZT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdihiKSl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBhLnVpLmtleUNvZGUuRE9XTjpkKys7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuVVA6Y2FzZSBhLnVpLmtleUNvZGUuTEVGVDplPSExLGQtLTticmVhaztjYXNlIGEudWkua2V5Q29kZS5FTkQ6ZD10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuSE9NRTpkPTA7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkKSx2b2lkIDA7Y2FzZSBhLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpkKSx2b2lkIDA7ZGVmYXVsdDpyZXR1cm59Yi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGQ9dGhpcy5fZm9jdXNOZXh0VGFiKGQsZSksYi5jdHJsS2V5fHwoYy5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSx0aGlzLnRhYnMuZXEoZCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsInRydWUiKSx0aGlzLmFjdGl2YXRpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLm9wdGlvbigiYWN0aXZlIixkKX0sdGhpcy5kZWxheSkpfX0sX3BhbmVsS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLl9oYW5kbGVQYWdlTmF2KGIpfHxiLmN0cmxLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5VUCYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmFjdGl2ZS5mb2N1cygpKX0sX2hhbmRsZVBhZ2VOYXY6ZnVuY3Rpb24oYil7cmV0dXJuIGIuYWx0S2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuUEFHRV9VUD8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUtMSwhMSkpLCEwKTpiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfRE9XTj8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUrMSwhMCkpLCEwKTp2b2lkIDB9LF9maW5kTmV4dFRhYjpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXtyZXR1cm4gYj5lJiYoYj0wKSwwPmImJihiPWUpLGJ9Zm9yKHZhciBlPXRoaXMudGFicy5sZW5ndGgtMTstMSE9PWEuaW5BcnJheShkKCksdGhpcy5vcHRpb25zLmRpc2FibGVkKTspYj1jP2IrMTpiLTE7cmV0dXJuIGJ9LF9mb2N1c05leHRUYWI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT10aGlzLl9maW5kTmV4dFRhYihhLGIpLHRoaXMudGFicy5lcShhKS5mb2N1cygpLGF9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4iYWN0aXZlIj09PWE/KHRoaXMuX2FjdGl2YXRlKGIpLHZvaWQgMCk6ImRpc2FibGVkIj09PWE/KHRoaXMuX3NldHVwRGlzYWJsZWQoYiksdm9pZCAwKToodGhpcy5fc3VwZXIoYSxiKSwiY29sbGFwc2libGUiPT09YSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYiksYnx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLCJoZWlnaHRTdHlsZSI9PT1hJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKGIpLHZvaWQgMCl9LF90YWJJZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fCJ1aS10YWJzLSIrYygpfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoL1shIiQlJicoKSorLC5cLzo7PD0+P0BcW1xdXF5ge3x9fl0vZywiXFwkJiIpOiIifSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy50YWJsaXN0LmNoaWxkcmVuKCI6aGFzKGFbaHJlZl0pIik7Yi5kaXNhYmxlZD1hLm1hcChjLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24oYSl7cmV0dXJuIGMuaW5kZXgoYSl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGIuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhYS5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT1iLmRpc2FibGVkLmxlbmd0aD8oYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLGIuYWN0aXZlLTEpLCExKSk6Yi5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKTooYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0dXBEaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIikuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJJbmRleDowfSksdGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpLnNob3coKS5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pKTp0aGlzLnRhYnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsInRhYmxpc3QiKSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpLmF0dHIoe3JvbGU6InRhYiIsdGFiSW5kZXg6LTF9KSx0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBhKCJhIix0aGlzKVswXX0pLmFkZENsYXNzKCJ1aS10YWJzLWFuY2hvciIpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscz1hKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZixnLGgsaT1hKGUpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxqPWEoZSkuY2xvc2VzdCgibGkiKSxrPWouYXR0cigiYXJpYS1jb250cm9scyIpO2QoZSk/KGY9ZS5oYXNoLGc9Yi5lbGVtZW50LmZpbmQoYi5fc2FuaXRpemVTZWxlY3RvcihmKSkpOihoPWIuX3RhYklkKGopLGY9IiMiK2gsZz1iLmVsZW1lbnQuZmluZChmKSxnLmxlbmd0aHx8KGc9Yi5fY3JlYXRlUGFuZWwoaCksZy5pbnNlcnRBZnRlcihiLnBhbmVsc1tjLTFdfHxiLnRhYmxpc3QpKSxnLmF0dHIoImFyaWEtbGl2ZSIsInBvbGl0ZSIpKSxnLmxlbmd0aCYmKGIucGFuZWxzPWIucGFuZWxzLmFkZChnKSksayYmai5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiLGspLGouYXR0cih7ImFyaWEtY29udHJvbHMiOmYuc3Vic3RyaW5nKDEpLCJhcmlhLWxhYmVsbGVkYnkiOml9KSxnLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsaSl9KSx0aGlzLnBhbmVscy5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuYXR0cigicm9sZSIsInRhYnBhbmVsIil9LF9nZXRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKCJvbCx1bCIpLmVxKDApfSxfY3JlYXRlUGFuZWw6ZnVuY3Rpb24oYil7cmV0dXJuIGEoIjxkaXY+IikuYXR0cigiaWQiLGIpLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24oYil7YS5pc0FycmF5KGIpJiYoYi5sZW5ndGg/Yi5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoYj0hMCk6Yj0hMSk7Zm9yKHZhciBjLGQ9MDtjPXRoaXMudGFic1tkXTtkKyspYj09PSEwfHwtMSE9PWEuaW5BcnJheShkLGIpP2EoYykuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKTphKGMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9Yn0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBjPXtjbGljazpmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9fTtiJiZhLmVhY2goYi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Y1tiXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxjKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT1iPyhjPWQuaGVpZ2h0KCksYy09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1kJiYiZml4ZWQiIT09ZCYmKGMtPWIub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2MtPWEodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYy1hKHRoaXMpLmlubmVySGVpZ2h0KCkrYSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09YiYmKGM9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7Yz1NYXRoLm1heChjLGEodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoYykpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMuYWN0aXZlLGU9YShiLmN1cnJlbnRUYXJnZXQpLGY9ZS5jbG9zZXN0KCJsaSIpLGc9ZlswXT09PWRbMF0saD1nJiZjLmNvbGxhcHNpYmxlLGk9aD9hKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaj1kLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihkKTphKCksaz17b2xkVGFiOmQsb2xkUGFuZWw6aixuZXdUYWI6aD9hKCk6ZixuZXdQYW5lbDppfTtiLnByZXZlbnREZWZhdWx0KCksZi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Zi5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8ZyYmIWMuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIixiLGspPT09ITF8fChjLmFjdGl2ZT1oPyExOnRoaXMudGFicy5pbmRleChmKSx0aGlzLmFjdGl2ZT1nP2EoKTpmLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGoubGVuZ3RofHxpLmxlbmd0aHx8YS5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaS5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoZiksYiksdGhpcy5fdG9nZ2xlKGIsaykpfSxfdG9nZ2xlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2YucnVubmluZz0hMSxmLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYixjKX1mdW5jdGlvbiBlKCl7Yy5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksZy5sZW5ndGgmJmYub3B0aW9ucy5zaG93P2YuX3Nob3coZyxmLm9wdGlvbnMuc2hvdyxkKTooZy5zaG93KCksZCgpKX12YXIgZj10aGlzLGc9Yy5uZXdQYW5lbCxoPWMub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLGgubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGgsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxlKCl9KTooYy5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaC5oaWRlKCksZSgpKSxoLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksYy5vbGRUYWIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksZy5sZW5ndGgmJmgubGVuZ3RoP2Mub2xkVGFiLmF0dHIoInRhYkluZGV4IiwtMSk6Zy5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksZy5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLGMubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9maW5kQWN0aXZlKGIpO2RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGQubGVuZ3RofHwoZD10aGlzLmFjdGl2ZSksYz1kLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmMsY3VycmVudFRhcmdldDpjLHByZXZlbnREZWZhdWx0OmEubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT0hMT9hKCk6dGhpcy50YWJzLmVxKGIpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhJiYoYT10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK2ErIiddIikpKSxhfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIiksdGhpcy50YWJsaXN0LnJlbW92ZUNsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmFuY2hvcnMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7YS5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP2EodGhpcykucmVtb3ZlKCk6YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIil9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2M/Yi5hdHRyKCJhcmlhLWNvbnRyb2xzIixjKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTpiLnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pLHRoaXMucGFuZWxzLnNob3coKSwiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7ZCE9PSExJiYoYz09PWI/ZD0hMTooYz10aGlzLl9nZXRJbmRleChjKSxkPWEuaXNBcnJheShkKT9hLm1hcChkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yz9hOm51bGx9KTphLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiE9PWM/YjpudWxsfSkpLHRoaXMuX3NldHVwRGlzYWJsZWQoZCkpfSxkaXNhYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihkIT09ITApe2lmKGM9PT1iKWQ9ITA7ZWxzZXtpZihjPXRoaXMuX2dldEluZGV4KGMpLC0xIT09YS5pbkFycmF5KGMsZCkpcmV0dXJuO2Q9YS5pc0FycmF5KGQpP2EubWVyZ2UoW2NdLGQpLnNvcnQoKTpbY119dGhpcy5fc2V0dXBEaXNhYmxlZChkKX19LGxvYWQ6ZnVuY3Rpb24oYixjKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMsZj10aGlzLnRhYnMuZXEoYiksZz1mLmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGg9dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaT17dGFiOmYscGFuZWw6aH07ZChnWzBdKXx8KHRoaXMueGhyPWEuYWpheCh0aGlzLl9hamF4U2V0dGluZ3MoZyxjLGkpKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJihmLmFkZENsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxoLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5zdWNjZXNzKGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmh0bWwoYSksZS5fdHJpZ2dlcigibG9hZCIsYyxpKX0sMSl9KS5jb21wbGV0ZShmdW5jdGlvbihhLGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsiYWJvcnQiPT09YiYmZS5wYW5lbHMuc3RvcCghMSwhMCksZi5yZW1vdmVDbGFzcygidWktdGFicy1sb2FkaW5nIiksaC5yZW1vdmVBdHRyKCJhcmlhLWJ1c3kiKSxhPT09ZS54aHImJmRlbGV0ZSBlLnhocn0sMSl9KSkpfSxfYWpheFNldHRpbmdzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO3JldHVybnt1cmw6Yi5hdHRyKCJocmVmIiksYmVmb3JlU2VuZDpmdW5jdGlvbihiLGYpe3JldHVybiBlLl90cmlnZ2VyKCJiZWZvcmVMb2FkIixjLGEuZXh0ZW5kKHtqcVhIUjpiLGFqYXhTZXR0aW5nczpmfSxkKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuYXR0cigiYXJpYS1jb250cm9scyIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKCIjIitjKSl9fSl9KGEpLGZ1bmN0aW9uKCl7fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hLm9yaWdpbmFsRXZlbnQsaT1lLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksZj1NYXRoLmFicyhpLngpLGc9TWF0aC5hYnMoaS55KSxoPU1hdGguYWJzKGkueiksIWIub3JpZW50YXRpb24mJihmPjd8fChoPjYmJjg+Z3x8OD5oJiZnPjYpJiZmPjUpP2QuZW5hYmxlZCYmZC5kaXNhYmxlKCk6ZC5lbmFibGVkfHxkLmVuYWJsZSgpfWEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgZCxlLGYsZyxoLGksaj1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGopJiZqLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTE/KGQ9YS5tb2JpbGUuem9vbSxhLm1vYmlsZS5kb2N1bWVudC5vbigibW9iaWxlaW5pdCIsZnVuY3Rpb24oKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQmJmEubW9iaWxlLndpbmRvdy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsZC5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsYyl9KSx2b2lkIDApOihhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEsdm9pZCAwKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXtlLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGU9YSgiaHRtbCIpLGY9YS5tb2JpbGUud2luZG93O2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpLGEubW9iaWxlLmdyYWRlQSgpJiYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoZCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLnBhdGgsZT1hKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiksZz1iLnN0cmlwSGFzaChiLnN0cmlwUXVlcnlQYXJhbXMoYi5wYXJzZUxvY2F0aW9uKCkuaGFzaCkpLGg9Yy5nZXRFbGVtZW50QnlJZChnKTtlLmxlbmd0aHx8KGU9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKSxlLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2JbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9ZS5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKS5jb250ZW50KCksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZi50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCksZCgpLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYShoKS5pcygiOmpxbURhdGEocm9sZT0ncGFnZScpIil8fGEubW9iaWxlLnBhdGguaXNQYXRoKGcpfHxnPT09YS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGEubW9iaWxlLm5hdmlnYXRlKGEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOmYudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9Zy5yZXBsYWNlKCIjIiwiIikpLGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaChiLnBhcnNlTG9jYXRpb24oKS5ocmVmKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGEoZnVuY3Rpb24oKXthLnN1cHBvcnQuaW5saW5lU1ZHKCksYS5tb2JpbGUuaGlkZVVybEJhciYmYi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPWEuc3VwcG9ydC5zY3JvbGxUb3AmJjEhPT1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk/MTowLGEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZmLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKSxhLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1kaXNhYmxlZCIsInZjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KX0pKX0oYSx0aGlzKX0pOwovKgovL0Agc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuNC4wLWFscGhhLjIubWluLm1hcAoqLw==",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgMS40LjAtYWxwaGEuMiB8IEdpdCBIRUFEIGhhc2g6IDFlMjc4NDQgPD4gMjAxMy0wOC0xNVQxMzo1Mzo0OVogfCAoYykgMjAxMCwgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oYSxiLGMpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCxhLGIpLGQubW9iaWxlfSk6YyhhLmpRdWVyeSxhLGIpfSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKGEsYixjLGQpeyFmdW5jdGlvbihhKXthLm1vYmlsZT17fX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246IjEuNC4wLWFscGhhLjIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGhpZGVVcmxCYXI6ITAsa2VlcE5hdGl2ZToiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MCx0b3VjaE92ZXJmbG93RW5hYmxlZDohMSxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOiJhIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOiExLGF1dG9Jbml0aWFsaXplUGFnZTohMCxwdXNoU3RhdGVFbmFibGVkOiEwLGlnbm9yZUNvbnRlbnRFbmFibGVkOiExLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGR5bmFtaWNCYXNlRW5hYmxlZDohMCxwYWdlQ29udGFpbmVyOmEoKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fSxlPWEuZmluZCxmPS8oPzpce1tcc1xTXSpcfXxcW1tcc1xTXSpcXSkkLyxnPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5leHRlbmQoYS5tb2JpbGUse25zOiIiLGdldEF0dHJpYnV0ZTpmdW5jdGlvbihiLGMpe3ZhciBkO2I9Yi5qcXVlcnk/YlswXTpiLGImJmIuZ2V0QXR0cmlidXRlJiYoZD1iLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpKTt0cnl7ZD0idHJ1ZSI9PT1kPyEwOiJmYWxzZSI9PT1kPyExOiJudWxsIj09PWQ/bnVsbDorZCsiIj09PWQ/K2Q6Zi50ZXN0KGQpP0pTT04ucGFyc2UoZCk6ZH1jYXRjaChlKXt9cmV0dXJuIGR9LG5zTm9ybWFsaXplRGljdDpkLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe3JldHVybiBkW2JdfHwoZFtiXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytiKSl9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZGF0YSgibW9iaWxlLXBhZ2UiKX19KSxhLmZuLmpxbURhdGE9ZnVuY3Rpb24oYixkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksZT1hcmd1bWVudHMubGVuZ3RoPDJ8fGQ9PT1jP3RoaXMuZGF0YShiKTp0aGlzLmRhdGEoYixkKSksZX0sYS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGMmJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSksZX0sYS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfSxhLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfSxhLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZil7cmV0dXJuIGIuaW5kZXhPZigiOmpxbURhdGEiKT4tMSYmKGI9Yi5yZXBsYWNlKGcsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpKSxlLmNhbGwodGhpcyxiLGMsZCxmKX0sYS5leHRlbmQoYS5maW5kLGUpfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChiLGMpe3ZhciBkLGYsZyxoPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1oPyhkPWIucGFyZW50Tm9kZSxmPWQubmFtZSxiLmhyZWYmJmYmJiJtYXAiPT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhnPWEoImltZ1t1c2VtYXA9IyIrZisiXSIpWzBdLCEhZyYmZShnKSk6ITEpOigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoaCk/IWIuZGlzYWJsZWQ6ImEiPT09aD9iLmhyZWZ8fGM6YykmJmUoYil9ZnVuY3Rpb24gZShiKXtyZXR1cm4gYS5leHByLmZpbHRlcnMudmlzaWJsZShiKSYmIWEoYikucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4iaGlkZGVuIj09PWEuY3NzKHRoaXMsInZpc2liaWxpdHkiKX0pLmxlbmd0aH12YXIgZj0wLGc9L151aS1pZC1cZCskLzthLnVpPWEudWl8fHt9LGEuZXh0ZW5kKGEudWkse3ZlcnNpb246IkBWRVJTSU9OIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KSxhLmZuLmV4dGVuZCh7Zm9jdXM6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBjP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EoYikuZm9jdXMoKSxkJiZkLmNhbGwoYil9LGMpfSk6Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmZuLmZvY3VzKSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj1hLnVpLmllJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KGEuY3NzKHRoaXMsInBvc2l0aW9uIikpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLCJvdmVyZmxvdyIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXkiKSthLmNzcyh0aGlzLCJvdmVyZmxvdy14IikpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcywib3ZlcmZsb3ciKSthLmNzcyh0aGlzLCJvdmVyZmxvdy15IikrYS5jc3ModGhpcywib3ZlcmZsb3cteCIpKX0pLmVxKDApLC9maXhlZC8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fCFiLmxlbmd0aD9hKHRoaXNbMF0ub3duZXJEb2N1bWVudHx8Yyk6Yn0sdW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9InVpLWlkLSIrICsrZil9KX0scmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zy50ZXN0KHRoaXMuaWQpJiZhKHRoaXMpLnJlbW92ZUF0dHIoImlkIil9KX19KSxhLmV4dGVuZChhLmV4cHJbIjoiXSx7ZGF0YTphLmV4cHIuY3JlYXRlUHNldWRvP2EuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsYil9fSk6ZnVuY3Rpb24oYixjLGQpe3JldHVybiEhYS5kYXRhKGIsZFszXSl9LGZvY3VzYWJsZTpmdW5jdGlvbihiKXtyZXR1cm4gZChiLCFpc05hTihhLmF0dHIoYiwidGFiaW5kZXgiKSkpfSx0YWJiYWJsZTpmdW5jdGlvbihiKXt2YXIgYz1hLmF0dHIoYiwidGFiaW5kZXgiKSxlPWlzTmFOKGMpO3JldHVybihlfHxjPj0wKSYmZChiLCFlKX19KSxhKCI8YT4iKS5vdXRlcldpZHRoKDEpLmpxdWVyeXx8YS5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbihjLGQpe2Z1bmN0aW9uIGUoYixjLGQsZSl7cmV0dXJuIGEuZWFjaChmLGZ1bmN0aW9uKCl7Yy09cGFyc2VGbG9hdChhLmNzcyhiLCJwYWRkaW5nIit0aGlzKSl8fDAsZCYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCksZSYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwibWFyZ2luIit0aGlzKSl8fDApfSksY312YXIgZj0iV2lkdGgiPT09ZD9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sZz1kLnRvTG93ZXJDYXNlKCksaD17aW5uZXJXaWR0aDphLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6YS5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmEuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDphLmZuLm91dGVySGVpZ2h0fTthLmZuWyJpbm5lciIrZF09ZnVuY3Rpb24oYyl7cmV0dXJuIGM9PT1iP2hbImlubmVyIitkXS5jYWxsKHRoaXMpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGMpKyJweCIpfSl9LGEuZm5bIm91dGVyIitkXT1mdW5jdGlvbihiLGMpe3JldHVybiJudW1iZXIiIT10eXBlb2YgYj9oWyJvdXRlciIrZF0uY2FsbCh0aGlzLGIpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGIsITAsYykrInB4Iil9KX19KSxhLmZuLmFkZEJhY2t8fChhLmZuLmFkZEJhY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfSksYSgiPGE+IikuZGF0YSgiYS1iIiwiYSIpLnJlbW92ZURhdGEoImEtYiIpLmRhdGEoImEtYiIpJiYoYS5mbi5yZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmNhbGwodGhpcyxhLmNhbWVsQ2FzZShjKSk6Yi5jYWxsKHRoaXMpfX0oYS5mbi5yZW1vdmVEYXRhKSksYS51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpLGEuc3VwcG9ydC5zZWxlY3RzdGFydD0ib25zZWxlY3RzdGFydCJpbiBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGEuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgoYS5zdXBwb3J0LnNlbGVjdHN0YXJ0PyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIpKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX0sekluZGV4OmZ1bmN0aW9uKGQpe2lmKGQhPT1iKXJldHVybiB0aGlzLmNzcygiekluZGV4IixkKTtpZih0aGlzLmxlbmd0aClmb3IodmFyIGUsZixnPWEodGhpc1swXSk7Zy5sZW5ndGgmJmdbMF0hPT1jOyl7aWYoZT1nLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PWV8fCJyZWxhdGl2ZSI9PT1lfHwiZml4ZWQiPT09ZSkmJihmPXBhcnNlSW50KGcuY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGYpJiYwIT09ZikpcmV0dXJuIGY7Zz1nLnBhcmVudCgpfXJldHVybiAwfX0pLGEudWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9YS51aVtiXS5wcm90b3R5cGU7Zm9yKGUgaW4gZClmLnBsdWdpbnNbZV09Zi5wbHVnaW5zW2VdfHxbXSxmLnBsdWdpbnNbZV0ucHVzaChbYyxkW2VdXSl9LGNhbGw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLnBsdWdpbnNbYl07aWYoZiYmKGR8fGEuZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PWEuZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IoZT0wO2U8Zi5sZW5ndGg7ZSsrKWEub3B0aW9uc1tmW2VdWzBdXSYmZltlXVsxXS5hcHBseShhLmVsZW1lbnQsYyl9fX0oYSksZnVuY3Rpb24oYSxiKXthLmV4dGVuZChhLm1vYmlsZSx7d2luZG93OmEoYiksZG9jdW1lbnQ6YShjKSxrZXlDb2RlOmEudWkua2V5Q29kZSxiZWhhdmlvcnM6e30sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGMpeyJudW1iZXIiIT09YS50eXBlKGMpJiYoYz1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2Nyb2xsVG8oMCxjKSxhLm1vYmlsZS5kb2N1bWVudC50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpjfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1hWzBdLGY9IiIsZz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi87ZSYmKGM9ZS5jbGFzc05hbWV8fCIiLCEoYyYmKGQ9Zy5leGVjKGMpKSYmKGY9ZFsyXSkpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGZ8fGJ8fCJhIn0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiZW5oYW5jZSIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImFqYXgiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7dmFyIGQsZSxmLGcsaCxpPWIubGVuZ3RoLGo9YSgpO2ZvcihnPTA7aT5nO2crKyl7Zm9yKGU9Yi5lcShnKSxmPSExLGQ9YltnXTtkOyl7aWYoaD1kLmdldEF0dHJpYnV0ZT9kLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpOiIiLCJmYWxzZSI9PT1oKXtmPSEwO2JyZWFrfWQ9ZC5wYXJlbnROb2RlfWZ8fChqPWouYWRkKGUpKX1yZXR1cm4gan0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaW5uZXJIZWlnaHR8fGEubW9iaWxlLndpbmRvdy5oZWlnaHQoKX0scmVzZXRBY3RpdmVQYWdlSGVpZ2h0OmZ1bmN0aW9uKGIpe3ZhciBjPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksZD1jLmhlaWdodCgpLGU9Yy5vdXRlckhlaWdodCghMCk7Yj0ibnVtYmVyIj09dHlwZW9mIGI/YjphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxjLmNzcygibWluLWhlaWdodCIsYi0oZS1kKSl9fSksYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZm4uZXh0ZW5kKHtyZW1vdmVXaXRoRGVwZW5kZW50czpmdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXM7cmV0dXJuIGEubW9iaWxlLm5vanMmJmEubW9iaWxlLm5vanModGhpcyksYS5tb2JpbGUubGlua3MmJmEubW9iaWxlLmxpbmtzKHRoaXMpLGEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4mJmEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4odGhpcyksYS5mbi5idXR0b25NYXJrdXAmJmEoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5idXR0b25NYXJrdXAoKSxhLmZuLmZpZWxkY29udGFpbiYmdGhpcy5maW5kKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCksYS5lYWNoKGEubW9iaWxlLndpZGdldHMsZnVuY3Rpb24oZCxlKXtlLmluaXRTZWxlY3RvciYmKGI9YS5tb2JpbGUuZW5oYW5jZWFibGUoYy5maW5kKGUuaW5pdFNlbGVjdG9yKSksYi5sZW5ndGgmJihiPWIubm90KGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpKSksYltlLnByb3RvdHlwZS53aWRnZXROYW1lXSgpKX0pLHRoaXN9LGFkZERlcGVuZGVudHM6ZnVuY3Rpb24oYil7YS5hZGREZXBlbmRlbnRzKHRoaXMsYil9LGdldEVuY29kZWRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIpLnRleHQodGhpcy50ZXh0KCkpLmh0bWwoKX0sanFtRW5oYW5jZWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9LGpxbUhpamFja2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX19KSxhLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYik7KGMuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCkpLnJlbW92ZSgpLGMucmVtb3ZlKCl9LGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2QuanFtRGF0YSgiZGVwZW5kZW50cyIsYShlKS5hZGQoYykpfSxhLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsYyl9LGEuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGMsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPUFycmF5LnByb3RvdHlwZS5zbGljZSxlPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YltkXSk7ZCsrKXRyeXthKGMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChmKXt9ZShiKX0sYS53aWRnZXQ9ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGk9e30saj1iLnNwbGl0KCIuIilbMF07cmV0dXJuIGI9Yi5zcGxpdCgiLiIpWzFdLGU9aisiLSIrYixkfHwoZD1jLGM9YS5XaWRnZXQpLGEuZXhwclsiOiJdW2UudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYixlKX0sYVtqXT1hW2pdfHx7fSxmPWFbal1bYl0sZz1hW2pdW2JdPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD8oYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYiksdm9pZCAwKTpuZXcgZyhhLGIpfSxhLmV4dGVuZChnLGYse3ZlcnNpb246ZC52ZXJzaW9uLF9wcm90bzphLmV4dGVuZCh7fSxkKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBjLGgub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxhLmVhY2goZCxmdW5jdGlvbihiLGQpe3JldHVybiBhLmlzRnVuY3Rpb24oZCk/KGlbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fc3VwZXIsZj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZSxiPWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWMsdGhpcy5fc3VwZXJBcHBseT1mLGJ9fSgpLHZvaWQgMCk6KGlbYl09ZCx2b2lkIDApfSksZy5wcm90b3R5cGU9YS53aWRnZXQuZXh0ZW5kKGgse3dpZGdldEV2ZW50UHJlZml4OmY/aC53aWRnZXRFdmVudFByZWZpeHx8YjpifSxpLHtjb25zdHJ1Y3RvcjpnLG5hbWVzcGFjZTpqLHdpZGdldE5hbWU6Yix3aWRnZXRGdWxsTmFtZTplfSksZj8oYS5lYWNoKGYuX2NoaWxkQ29uc3RydWN0b3JzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5wcm90b3R5cGU7YS53aWRnZXQoZC5uYW1lc3BhY2UrIi4iK2Qud2lkZ2V0TmFtZSxnLGMuX3Byb3RvKX0pLGRlbGV0ZSBmLl9jaGlsZENvbnN0cnVjdG9ycyk6Yy5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaChnKSxhLndpZGdldC5icmlkZ2UoYixnKSxnfSxhLndpZGdldC5leHRlbmQ9ZnVuY3Rpb24oYyl7Zm9yKHZhciBlLGYsZz1kLmNhbGwoYXJndW1lbnRzLDEpLGg9MCxpPWcubGVuZ3RoO2k+aDtoKyspZm9yKGUgaW4gZ1toXSlmPWdbaF1bZV0sZ1toXS5oYXNPd25Qcm9wZXJ0eShlKSYmZiE9PWImJihjW2VdPWEuaXNQbGFpbk9iamVjdChmKT9hLmlzUGxhaW5PYmplY3QoY1tlXSk/YS53aWRnZXQuZXh0ZW5kKHt9LGNbZV0sZik6YS53aWRnZXQuZXh0ZW5kKHt9LGYpOmYpO3JldHVybiBjfSxhLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oYyxlKXt2YXIgZj1lLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8YzthLmZuW2NdPWZ1bmN0aW9uKGcpe3ZhciBoPSJzdHJpbmciPT10eXBlb2YgZyxpPWQuY2FsbChhcmd1bWVudHMsMSksaj10aGlzO3JldHVybiBnPSFoJiZpLmxlbmd0aD9hLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbZ10uY29uY2F0KGkpKTpnLGg/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZT1hLmRhdGEodGhpcyxmKTtyZXR1cm4iaW5zdGFuY2UiPT09Zz8oaj1lLCExKTplP2EuaXNGdW5jdGlvbihlW2ddKSYmIl8iIT09Zy5jaGFyQXQoMCk/KGQ9ZVtnXS5hcHBseShlLGkpLGQhPT1lJiZkIT09Yj8oaj1kJiZkLmpxdWVyeT9qLnB1c2hTdGFjayhkLmdldCgpKTpkLCExKTp2b2lkIDApOmEuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYysiIHdpZGdldCBpbnN0YW5jZSIpOmEuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitjKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEodGhpcyxmKTtiP2Iub3B0aW9uKGd8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGYsbmV3IGUoZyx0aGlzKSl9KSxqfX0sYS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGEuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxhLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGQpe2Q9YShkfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9YShkKSx0aGlzLnV1aWQ9YysrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpLHRoaXMuYmluZGluZ3M9YSgpLHRoaXMuaG92ZXJhYmxlPWEoKSx0aGlzLmZvY3VzYWJsZT1hKCksZCE9PXRoaXMmJihhLmRhdGEoZCx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGEpe2EudGFyZ2V0PT09ZCYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1hKGQuc3R5bGU/ZC5vd25lckRvY3VtZW50OmQuZG9jdW1lbnR8fGQpLHRoaXMud2luZG93PWEodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6YS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6YS5ub29wLF9jcmVhdGU6YS5ub29wLF9pbml0OmEubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGcsaD1jO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIGMpaWYoaD17fSxlPWMuc3BsaXQoIi4iKSxjPWUuc2hpZnQoKSxlLmxlbmd0aCl7Zm9yKGY9aFtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKSxnPTA7ZzxlLmxlbmd0aC0xO2crKylmW2VbZ11dPWZbZVtnXV18fHt9LGY9ZltlW2ddXTtpZihjPWUucG9wKCksZD09PWIpcmV0dXJuIGZbY109PT1iP251bGw6ZltjXTtmW2NdPWR9ZWxzZXtpZihkPT09YilyZXR1cm4gdGhpcy5vcHRpb25zW2NdPT09Yj9udWxsOnRoaXMub3B0aW9uc1tjXTtoW2NdPWR9cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoaCksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSl0aGlzLl9zZXRPcHRpb24oYixhW2JdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbnNbYV09YiwiZGlzYWJsZWQiPT09YSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIiwhIWIpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpczsiYm9vbGVhbiIhPXR5cGVvZiBiJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7cmV0dXJuIGJ8fGYub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhYSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKT8oInN0cmluZyI9PXR5cGVvZiBnP2ZbZ106ZykuYXBwbHkoZixhcmd1bWVudHMpOnZvaWQgMH0ic3RyaW5nIiE9dHlwZW9mIGcmJihoLmd1aWQ9Zy5ndWlkPWcuZ3VpZHx8aC5ndWlkfHxhLmd1aWQrKyk7dmFyIGk9ZC5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxqPWlbMV0rZi5ldmVudE5hbWVzcGFjZSxrPWlbMl07az9lLmRlbGVnYXRlKGssaixoKTpjLmJpbmQoaixoKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgYT9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07aWYoZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbIl8iK2JdPWZ1bmN0aW9uKGQsZSxmKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fCJudW1iZXIiPT10eXBlb2YgZT9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSwibnVtYmVyIj09dHlwZW9mIGUmJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPS9bQS1aXS9nLGM9ZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX07YS5leHRlbmQoYS5XaWRnZXQucHJvdG90eXBlLHtfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBkLGUsZj10aGlzLmVsZW1lbnRbMF0sZz17fTtmb3IoZCBpbiB0aGlzLm9wdGlvbnMpZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixkLnJlcGxhY2UoYixjKSksbnVsbCE9ZSYmKGdbZF09ZSk7cmV0dXJuIGd9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oYixjKXt0aGlzLmVuaGFuY2UoYShhW3RoaXMubmFtZXNwYWNlXVt0aGlzLndpZGdldE5hbWVdLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj1hKGIpO2Y9YS5tb2JpbGUuZW5oYW5jZWFibGUoZiksYyYmZi5sZW5ndGgmJihkPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShmKSxlPWQmJmQua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiLGY9Zi5ub3QoZSkpLGZbdGhpcy53aWRnZXROYW1lXSgpfX0pLGEubW9iaWxlLndpZGdldD1hLldpZGdldH0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse2xvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ZCxsb2FkaW5nTWVzc2FnZVRoZW1lOmQsbG9hZGluZ01lc3NhZ2U6ZCxzaG93UGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oYixjLGQpe2EubW9iaWxlLmxvYWRpbmcoInNob3ciLGIsYyxkKX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7YS5tb2JpbGUubG9hZGluZygiaGlkZSIpfSxsb2FkaW5nOmZ1bmN0aW9uKCl7dGhpcy5sb2FkZXJXaWRnZXQubG9hZGVyLmFwcGx5KHRoaXMubG9hZGVyV2lkZ2V0LGFyZ3VtZW50cyl9fSk7dmFyIGI9InVpLWxvYWRlciIsYz1hKCJodG1sIiksZT1hLm1vYmlsZS53aW5kb3c7YS53aWRnZXQoIm1vYmlsZS5sb2FkZXIiLHtvcHRpb25zOnt0aGVtZToiYSIsdGV4dFZpc2libGU6ITEsaHRtbDoiIix0ZXh0OiJsb2FkaW5nIn0sZGVmYXVsdEh0bWw6IjxkaXYgY2xhc3M9JyIrYisiJz4iKyI8c3BhbiBjbGFzcz0ndWktaWNvbi1sb2FkaW5nJz48L3NwYW4+IisiPGgxPjwvaDE+IisiPC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJmUuc2Nyb2xsVG9wKCkrZS5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfSxjaGVja0xvYWRlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGM9ZS5zY3JvbGxUb3AoKSxkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhiLnRvcDxjfHxiLnRvcC1jPmQpJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGUudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZixnLGgpe3ZhciBpLGosazt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGYpPyhrPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxmKSxmPWsudGhlbWV8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWUpOihrPXRoaXMub3B0aW9ucyxmPWZ8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWV8fGsudGhlbWUpLGo9Z3x8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2V8fGsudGV4dCxjLmFkZENsYXNzKCJ1aS1sb2FkaW5nIiksKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGsuaHRtbCkmJihpPWEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGUhPT1kP2EubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ay50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitmKyIgdWktbG9hZGVyLSIrKGl8fGd8fGYudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoay50ZXh0b25seXx8aD8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxrLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoay5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGopLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxlLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSksZS5iaW5kKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRlcldpZGdldD1hLm1vYmlsZS5sb2FkZXJXaWRnZXR8fGEoYS5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCkubG9hZGVyKCl9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT1hfHxsb2NhdGlvbi5ocmVmLCIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBmLGc9Imhhc2hjaGFuZ2UiLGg9YyxpPWEuZXZlbnQuc3BlY2lhbCxqPWguZG9jdW1lbnRNb2RlLGs9Im9uIitnIGluIGImJihqPT09ZHx8aj43KTthLmZuW2ddPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChnLGEpOnRoaXMudHJpZ2dlcihnKX0sYS5mbltnXS5kZWxheT01MCxpW2ddPWEuZXh0ZW5kKGlbZ10se3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6KGEoZi5zdGFydCksdm9pZCAwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTooYShmLnN0b3ApLHZvaWQgMCl9fSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZD1lKCksaD1uKGopO2QhPT1qPyhtKGo9ZCxoKSxhKGIpLnRyaWdnZXIoZykpOmghPT1qJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK2gpLGY9c2V0VGltZW91dChjLGEuZm5bZ10uZGVsYXkpfXZhciBmLGk9e30saj1lKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbT1sLG49bDtyZXR1cm4gaS5zdGFydD1mdW5jdGlvbigpe2Z8fGMoKX0saS5zdG9wPWZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9ZH0sYi5hdHRhY2hFdmVudCYmIWIuYWRkRXZlbnRMaXN0ZW5lciYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZDtpLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltnXS5zcmMsZD1kJiZkK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fG0oZSgpKSxjKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csaC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJihiLmRvY3VtZW50LnRpdGxlPWgudGl0bGUpfWNhdGNoKGEpe319KX0saS5zdG9wPWwsbj1mdW5jdGlvbigpe3JldHVybiBlKGIubG9jYXRpb24uaHJlZil9LG09ZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmRvY3VtZW50LGY9YS5mbltnXS5kb21haW47YyE9PWQmJihlLnRpdGxlPWgudGl0bGUsZS5vcGVuKCksZiYmZS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrZisnIjwvc2NyaXB0PicpLGUuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGl9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYixjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksZT0oYSsiICIrcC5qb2luKGMrIiAiKStjKS5zcGxpdCgiICIpO2ZvcihiIGluIGUpaWYob1tlW2JdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZihhLGIsZCl7dmFyIGUsZixnPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksaD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKX0saT1mdW5jdGlvbihhKXtyZXR1cm4iIj09PWE/IiI6Ii0iK2EuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrYS5zdWJzdHIoMSkrIi0ifSxqPWZ1bmN0aW9uKGMpe3ZhciBkPWkoYykrYSsiOiAiK2IrIjsiLGU9aChjKSxqPWUrKCIiPT09ZT9hOmgoYSkpO2cuc2V0QXR0cmlidXRlKCJzdHlsZSIsZCksZy5zdHlsZVtqXSYmKGY9ITApfSxrPWQ/ZDpwO2ZvcihlPTA7ZTxrLmxlbmd0aDtlKyspaihrW2VdKTtyZXR1cm4hIWZ9ZnVuY3Rpb24gZygpe3ZhciBjPWIsZD0hKCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLmNyZWF0ZVNWR1JlY3R8fGMub3BlcmEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSksZT1mdW5jdGlvbihiKXtiJiZkfHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vc3ZnIil9LGY9bmV3IGMuSW1hZ2U7Zi5vbmVycm9yPWZ1bmN0aW9uKCl7ZSghMSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7ZSgxPT09Zi53aWR0aCYmMT09PWYuaGVpZ2h0KX0sZi5zcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0ifWZ1bmN0aW9uIGgoKXt2YXIgZSxmLGcsaD0idHJhbnNmb3JtLTNkIixpPWEubW9iaWxlLm1lZGlhKCIoLSIrcC5qb2luKCItIitoKyIpLCgtIikrIi0iK2grIiksKCIraCsiKSIpO2lmKGkpcmV0dXJuISFpO2U9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9LG4uYXBwZW5kKGUpO2ZvcihnIGluIGYpZS5zdHlsZVtnXSE9PWQmJihlLnN0eWxlW2ddPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLGk9Yi5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoZltnXSkpO3JldHVybiEhaSYmIm5vbmUiIT09aX1mdW5jdGlvbiBpKCl7dmFyIGIsYyxkPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsZT1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZz0iIjtyZXR1cm4gZS5sZW5ndGg/Zz1lLmF0dHIoImhyZWYiKTplPWY9YSgiPGJhc2U+Iix7aHJlZjpkfSkuYXBwZW5kVG8oImhlYWQiKSxiPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKG4pLGM9YlswXS5ocmVmLGVbMF0uaHJlZj1nfHxsb2NhdGlvbi5wYXRobmFtZSxmJiZmLnJlbW92ZSgpLDA9PT1jLmluZGV4T2YoZCl9ZnVuY3Rpb24gaigpe3ZhciBhLGQ9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZT1jLmRvY3VtZW50RWxlbWVudCxmPWIuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBkLnN0eWxlPyhkLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLGQuc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsZS5hcHBlbmRDaGlsZChkKSxhPWYmJiJhdXRvIj09PWYoZCwiIikucG9pbnRlckV2ZW50cyxlLnJlbW92ZUNoaWxkKGQpLCEhYSk6ITF9ZnVuY3Rpb24gaygpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdH1mdW5jdGlvbiBsKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJjUzND5mfHxhLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGEub3BlcmFtaW5pKXx8aSYmNzQ1OD5qfHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmNTMzPmZ8fGgmJjY+aHx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiY1MzQ+Znx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBtLG49YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksbz1uWzBdLnN0eWxlLHA9WyJXZWJraXQiLCJNb3oiLCJPIl0scT0icGFsbUdldFJlc291cmNlImluIGIscj1iLm9wZXJhLHM9Yi5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChiLm9wZXJhbWluaSksdD1iLmJsYWNrYmVycnkmJiFlKCItd2Via2l0LXRyYW5zZm9ybSIpO2EuZXh0ZW5kKGEubW9iaWxlLHticm93c2VyOnt9fSksYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT1mdW5jdGlvbigpe3ZhciBhPTMsYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9Yi5hbGx8fFtdO2RvIGIuaW5uZXJIVE1MPSI8IS0tW2lmIGd0IElFICIrICsrYSsiXT48YnI+PCFbZW5kaWZdLS0+Ijt3aGlsZShkWzBdKTtyZXR1cm4gYT40P2E6IWF9KCksYS5leHRlbmQoYS5zdXBwb3J0LHtjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIGJ8fGYoInRyYW5zaXRpb24iLCJoZWlnaHQgMTAwbXMgbGluZWFyIixbIldlYmtpdCIsIk1veiIsIiJdKSYmIWEubW9iaWxlLmJyb3dzZXIub2xkSUUmJiFyLHB1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZSgiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFlKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmgoKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXQsZml4ZWRQb3NpdGlvbjpsKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBuWzBdKSYmIXEmJiFzLGR5bmFtaWNCYXNlVGFnOmkoKSxjc3NQb2ludGVyRXZlbnRzOmooKSxib3VuZGluZ1JlY3Q6aygpLGlubGluZVNWRzpnfSksbi5yZW1vdmUoKSxtPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8c3x8bSxtJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9IiMiPT09Yz8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoIm9iamVjdCI9PT1hLnR5cGUoYikpcmV0dXJuIGI7dmFyIGM9ZC51cmxQYXJzZVJFLmV4ZWMoYnx8IiIpfHxbXTtyZXR1cm57aHJlZjpjWzBdfHwiIixocmVmTm9IYXNoOmNbMV18fCIiLGhyZWZOb1NlYXJjaDpjWzJdfHwiIixkb21haW46Y1szXXx8IiIscHJvdG9jb2w6Y1s0XXx8IiIsZG91YmxlU2xhc2g6Y1s1XXx8IiIsYXV0aG9yaXR5OmNbNl18fCIiLHVzZXJuYW1lOmNbOF18fCIiLHBhc3N3b3JkOmNbOV18fCIiLGhvc3Q6Y1sxMF18fCIiLGhvc3RuYW1lOmNbMTFdfHwiIixwb3J0OmNbMTJdfHwiIixwYXRobmFtZTpjWzEzXXx8IiIsZGlyZWN0b3J5OmNbMTRdfHwiIixmaWxlbmFtZTpjWzE1XXx8IiIsc2VhcmNoOmNbMTZdfHwiIixoYXNoOmNbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZjtpZihhJiYiLyI9PT1hLmNoYXJBdCgwKSlyZXR1cm4gYTtmb3IoYT1hfHwiIixiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiLGM9Yj9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXN3aXRjaChmPWRbZV0pe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5wYXJzZVVybChhKS5kb21haW49PT1kLnBhcnNlVXJsKGIpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIj09PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIiIhPT1kLnBhcnNlVXJsKGEpLnByb3RvY29sfSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighZC5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO2I9PT1jJiYoYj10aGlzLmRvY3VtZW50QmFzZSk7dmFyIGU9ZC5wYXJzZVVybChhKSxmPWQucGFyc2VVcmwoYiksZz1lLnByb3RvY29sfHxmLnByb3RvY29sLGg9ZS5wcm90b2NvbD9lLmRvdWJsZVNsYXNoOmUuZG91YmxlU2xhc2h8fGYuZG91YmxlU2xhc2gsaT1lLmF1dGhvcml0eXx8Zi5hdXRob3JpdHksaj0iIiE9PWUucGF0aG5hbWUsaz1kLm1ha2VQYXRoQWJzb2x1dGUoZS5wYXRobmFtZXx8Zi5maWxlbmFtZSxmLnBhdGhuYW1lKSxsPWUuc2VhcmNofHwhaiYmZi5zZWFyY2h8fCIiLG09ZS5oYXNoO3JldHVybiBnK2graStrK2wrbX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGU9ZC5wYXJzZVVybChiKSxmPSJvYmplY3QiPT10eXBlb2YgYz9hLnBhcmFtKGMpOmMsZz1lLnNlYXJjaHx8Ij8iO3JldHVybiBlLmhyZWZOb1NlYXJjaCtnKygiPyIhPT1nLmNoYXJBdChnLmxlbmd0aC0xKT8iJiI6IiIpK2YrKGUuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWQucGFyc2VVcmwoYSk7cmV0dXJuIGQuaXNFbWJlZGRlZFBhZ2UoYyk/Yy5oYXNoLnNwbGl0KGYpWzBdLnJlcGxhY2UoL14jLywiIikucmVwbGFjZSgvXD8uKiQvLCIiKTpkLmlzU2FtZURvbWFpbihjLHRoaXMuZG9jdW1lbnRCYXNlKT9jLmhyZWZOb0hhc2gucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpLnNwbGl0KGYpWzBdOmIuZGVjb2RlVVJJQ29tcG9uZW50KGEpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1jJiYoYT1kLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxkLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLywiIil9LHN0cmlwUXVlcnlQYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXD8uKiQvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBkLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShmLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sJiZiLmRvbWFpbiE9PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiIiIT09Yi5wcm90b2NvbD8hdGhpcy5pc1BhdGgoYi5oYXNoKSYmYi5oYXNoJiYoYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gpOi9eIy8udGVzdChiLmhyZWYpfSxzcXVhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoPXRoaXMuaXNQYXRoKGEpLGk9dGhpcy5wYXJzZVVybChhKSxqPWkuaGFzaCxrPSIiO3JldHVybiBiPWJ8fChkLmlzUGF0aChhKT9kLmdldExvY2F0aW9uKCk6ZC5nZXREb2N1bWVudFVybCgpKSxlPWg/ZC5zdHJpcEhhc2goYSk6YSxlPWQuaXNQYXRoKGkuaGFzaCk/ZC5zdHJpcEhhc2goaS5oYXNoKTplLGc9ZS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSksZz4tMSYmKGs9ZS5zbGljZShnKSxlPWUuc2xpY2UoMCxnKSksYz1kLm1ha2VVcmxBYnNvbHV0ZShlLGIpLGY9dGhpcy5wYXJzZVVybChjKS5zZWFyY2gsaD8oKGQuaXNQYXRoKGopfHwwPT09ai5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpKSYmKGo9IiIpLGsmJi0xPT09ai5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkmJihqKz1rKSwtMT09PWouaW5kZXhPZigiIyIpJiYiIiE9PWomJihqPSIjIitqKSxjPWQucGFyc2VVcmwoYyksYz1jLnByb3RvY29sKyIvLyIrYy5ob3N0K2MucGF0aG5hbWUrZitqKTpjKz1jLmluZGV4T2YoIiMiKT4tMT9rOiIjIitrLGN9LGlzUHJlc2VydmFibGVIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiAwPT09YS5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpfSxoYXNoVG9TZWxlY3RvcjpmdW5jdGlvbihhKXt2YXIgYj0iIyI9PT1hLnN1YnN0cmluZygwLDEpO3JldHVybiBiJiYoYT1hLnN1YnN0cmluZygxKSksKGI/IiMiOiIiKSthLnJlcGxhY2UoLyhbISIjJCUmJygpKissLi86Ozw9Pj9AW1xdXmB7fH1+XSkvZywiXFwkMSIpfX0sZC5kb2N1bWVudFVybD1kLnBhcnNlTG9jYXRpb24oKSxlPWEoImhlYWQiKS5maW5kKCJiYXNlIiksZC5kb2N1bWVudEJhc2U9ZS5sZW5ndGg/ZC5wYXJzZVVybChkLm1ha2VVcmxBYnNvbHV0ZShlLmF0dHIoImhyZWYiKSxkLmRvY3VtZW50VXJsLmhyZWYpKTpkLmRvY3VtZW50VXJsLGQuZG9jdW1lbnRCYXNlRGlmZmVycz1kLmRvY3VtZW50VXJsLmhyZWZOb0hhc2ghPT1kLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGQuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudFVybCk6ZC5kb2N1bWVudFVybC5ocmVmfSxkLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50QmFzZSk6ZC5kb2N1bWVudEJhc2UuaHJlZn19KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUuSGlzdG9yeT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhY2s9YXx8W10sdGhpcy5hY3RpdmVJbmRleD1ifHwwfSxhLmV4dGVuZChhLm1vYmlsZS5IaXN0b3J5LnByb3RvdHlwZSx7Z2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleF19LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnByZXZpb3VzSW5kZXhdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleCsxXX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgtMV19LGFkZDpmdW5jdGlvbihhLGIpe2I9Ynx8e30sdGhpcy5nZXROZXh0KCkmJnRoaXMuY2xlYXJGb3J3YXJkKCksYi5oYXNoJiYtMT09PWIuaGFzaC5pbmRleE9mKCIjIikmJihiLmhhc2g9IiMiK2IuaGFzaCksYi51cmw9YSx0aGlzLnN0YWNrLnB1c2goYiksdGhpcy5hY3RpdmVJbmRleD10aGlzLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPXRoaXMuc3RhY2suc2xpY2UoMCx0aGlzLmFjdGl2ZUluZGV4KzEpfSxmaW5kOmZ1bmN0aW9uKGEsYixjKXtiPWJ8fHRoaXMuc3RhY2s7dmFyIGQsZSxmLGc9Yi5sZW5ndGg7Zm9yKGU9MDtnPmU7ZSsrKWlmKGQ9YltlXSwoZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQudXJsKXx8ZGVjb2RlVVJJQ29tcG9uZW50KGEpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGQuaGFzaCkpJiYoZj1lLGMpKXJldHVybiBmO3JldHVybiBmfSxjbG9zZXN0OmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKDAsZCkpLGM9PT1iJiYoYz10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKGQpLCEwKSxjPWM9PT1iP2M6YytkKSxjfSxkaXJlY3Q6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jbG9zZXN0KGMudXJsKSxlPXRoaXMuYWN0aXZlSW5kZXg7ZCE9PWImJih0aGlzLmFjdGl2ZUluZGV4PWQsdGhpcy5wcmV2aW91c0luZGV4PWUpLGU+ZD8oYy5wcmVzZW50fHxjLmJhY2t8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOmQ+ZT8oYy5wcmVzZW50fHxjLmZvcndhcmR8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOmQ9PT1iJiZjLm1pc3NpbmcmJmMubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGQ9YS5tb2JpbGUucGF0aCxlPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsYS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjphLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6YS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sYS5leHRlbmQoYS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7c3F1YXNoOmZ1bmN0aW9uKGUsZil7dmFyIGcsaCxpPWQuaXNQYXRoKGUpP2Quc3RyaXBIYXNoKGUpOmU7cmV0dXJuIGg9ZC5zcXVhc2goZSksZz1hLmV4dGVuZCh7aGFzaDppLHVybDpofSxmKSxiLmhpc3RvcnkucmVwbGFjZVN0YXRlKGcsZy50aXRsZXx8Yy50aXRsZSxoKSxnfSxoYXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc7cmV0dXJuIGM9ZC5wYXJzZVVybChhKSxlPWQucGFyc2VMb2NhdGlvbigpLGUucGF0aG5hbWUrZS5zZWFyY2g9PT1jLnBhdGhuYW1lK2Muc2VhcmNoP2Y9Yy5oYXNoP2MuaGFzaDpjLnBhdGhuYW1lK2Muc2VhcmNoOmQuaXNQYXRoKGEpPyhnPWQucGFyc2VVcmwoYiksZj1nLnBhdGhuYW1lK2cuc2VhcmNoKyhkLmlzUHJlc2VydmFibGVIYXNoKGcuaGFzaCk/Zy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIikpOmY9YSxmfSxnbzpmdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqLGssbD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk7aT1kLnNxdWFzaChlKSxqPXRoaXMuaGFzaChlLGkpLGcmJmohPT1kLnN0cmlwSGFzaChkLnBhcnNlTG9jYXRpb24oKS5oYXNoKSYmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPWcpLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMCxiLmxvY2F0aW9uLmhhc2g9aix0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsaD1hLmV4dGVuZCh7dXJsOmksaGFzaDpqLHRpdGxlOmMudGl0bGV9LGYpLGwmJihrPW5ldyBhLkV2ZW50KCJwb3BzdGF0ZSIpLGsub3JpZ2luYWxFdmVudD17dHlwZToicG9wc3RhdGUiLHN0YXRlOm51bGx9LHRoaXMuc3F1YXNoKGUsaCksZ3x8KHRoaXMuaWdub3JlUG9wU3RhdGU9ITAsYS5tb2JpbGUud2luZG93LnRyaWdnZXIoaykpKSx0aGlzLmhpc3RvcnkuYWRkKGgudXJsLGgpfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYyxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSlyZXR1cm4gdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPyh0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx2b2lkIDApOnRoaXMuaWdub3JlUG9wU3RhdGU/KHRoaXMuaWdub3JlUG9wU3RhdGU9ITEsdm9pZCAwKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpPyhiLnByZXZlbnREZWZhdWx0KCksdm9pZCAwKTooYz1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLCFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJmM/KGY9dGhpcy5zcXVhc2goYyksdGhpcy5oaXN0b3J5LmFkZChmLnVybCxmKSxiLmhpc3RvcnlTdGF0ZT1mLHZvaWQgMCk6KHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDooYi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSkudXJsfHxjLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhpc3RvcnlTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb249ZAp9fSksdm9pZCAwKSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGUsZjtpZihhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYhYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXtpZih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZSlyZXR1cm4gdGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ITEsYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx2b2lkIDA7ZT10aGlzLmhpc3RvcnksZj1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpmLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhhc2hjaGFuZ2VTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249ZH0sbWlzc2luZzpmdW5jdGlvbigpe2UuYWRkKGYse2hhc2g6Zix0aXRsZTpjLnRpdGxlfSl9fSl9fX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKGIsYyxkKX0sYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgYS5tb2JpbGUuSGlzdG9yeSxhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGEubW9iaWxlLk5hdmlnYXRvcihhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgYj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTthLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChiLmhyZWYse2hhc2g6Yi5oYXNofSl9KGEpLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSl7Zm9yKDthJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEub3JpZ2luYWxFdmVudDspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gZihiLGMpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvPWIudHlwZTtpZihiPWEuRXZlbnQoYiksYi50eXBlPWMsZj1iLm9yaWdpbmFsRXZlbnQsZz1hLmV2ZW50LnByb3BzLG8uc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZz1FKSxmKWZvcihsPWcubGVuZ3RoLGk7bDspaT1nWy0tbF0sYltpXT1mW2ldO2lmKG8uc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhYi53aGljaCYmKGIud2hpY2g9MSksLTEhPT1vLnNlYXJjaCgvXnRvdWNoLykmJihoPWUoZiksbz1oLnRvdWNoZXMsaj1oLmNoYW5nZWRUb3VjaGVzLGs9byYmby5sZW5ndGg/b1swXTpqJiZqLmxlbmd0aD9qWzBdOmQpKWZvcihtPTAsbj1DLmxlbmd0aDtuPm07bSsrKWk9Q1ttXSxiW2ldPWtbaV07cmV0dXJuIGJ9ZnVuY3Rpb24gZyhiKXtmb3IodmFyIGMsZCxlPXt9O2I7KXtjPWEuZGF0YShiLHopO2ZvcihkIGluIGMpY1tkXSYmKGVbZF09ZS5oYXNWaXJ0dWFsQmluZGluZz0hMCk7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGV9ZnVuY3Rpb24gaChiLGMpe2Zvcih2YXIgZDtiOyl7aWYoZD1hLmRhdGEoYix6KSxkJiYoIWN8fGRbY10pKXJldHVybiBiO2I9Yi5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGkoKXtNPSExfWZ1bmN0aW9uIGooKXtNPSEwfWZ1bmN0aW9uIGsoKXtRPTAsSy5sZW5ndGg9MCxMPSExLGooKX1mdW5jdGlvbiBsKCl7aSgpfWZ1bmN0aW9uIG0oKXtuKCksRz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Rz0wLGsoKX0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBuKCl7RyYmKGNsZWFyVGltZW91dChHKSxHPTApfWZ1bmN0aW9uIG8oYixjLGQpe3ZhciBlO3JldHVybihkJiZkW2JdfHwhZCYmaChjLnRhcmdldCxiKSkmJihlPWYoYyxiKSxhKGMudGFyZ2V0KS50cmlnZ2VyKGUpKSxlfWZ1bmN0aW9uIHAoYil7dmFyIGMsZD1hLmRhdGEoYi50YXJnZXQsQSk7THx8USYmUT09PWR8fChjPW8oInYiK2IudHlwZSxiKSxjJiYoYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpKX1mdW5jdGlvbiBxKGIpe3ZhciBjLGQsZixoPWUoYikudG91Y2hlcztoJiYxPT09aC5sZW5ndGgmJihjPWIudGFyZ2V0LGQ9ZyhjKSxkLmhhc1ZpcnR1YWxCaW5kaW5nJiYoUT1QKyssYS5kYXRhKGMsQSxRKSxuKCksbCgpLEo9ITEsZj1lKGIpLnRvdWNoZXNbMF0sSD1mLnBhZ2VYLEk9Zi5wYWdlWSxvKCJ2bW91c2VvdmVyIixiLGQpLG8oInZtb3VzZWRvd24iLGIsZCkpKX1mdW5jdGlvbiByKGEpe018fChKfHxvKCJ2bW91c2VjYW5jZWwiLGEsZyhhLnRhcmdldCkpLEo9ITAsbSgpKX1mdW5jdGlvbiBzKGIpe2lmKCFNKXt2YXIgYz1lKGIpLnRvdWNoZXNbMF0sZD1KLGY9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkLGg9ZyhiLnRhcmdldCk7Sj1KfHxNYXRoLmFicyhjLnBhZ2VYLUgpPmZ8fE1hdGguYWJzKGMucGFnZVktSSk+ZixKJiYhZCYmbygidm1vdXNlY2FuY2VsIixiLGgpLG8oInZtb3VzZW1vdmUiLGIsaCksbSgpfX1mdW5jdGlvbiB0KGEpe2lmKCFNKXtqKCk7dmFyIGIsYyxkPWcoYS50YXJnZXQpO28oInZtb3VzZXVwIixhLGQpLEp8fChiPW8oInZjbGljayIsYSxkKSxiJiZiLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoYz1lKGEpLmNoYW5nZWRUb3VjaGVzWzBdLEsucHVzaCh7dG91Y2hJRDpRLHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSksTD0hMCkpLG8oInZtb3VzZW91dCIsYSxkKSxKPSExLG0oKX19ZnVuY3Rpb24gdShiKXt2YXIgYyxkPWEuZGF0YShiLHopO2lmKGQpZm9yKGMgaW4gZClpZihkW2NdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHYoKXt9ZnVuY3Rpb24gdyhiKXt2YXIgYz1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXt1KHRoaXMpfHxhLmRhdGEodGhpcyx6LHt9KTt2YXIgZD1hLmRhdGEodGhpcyx6KTtkW2JdPSEwLEZbYl09KEZbYl18fDApKzEsMT09PUZbYl0mJk8uYmluZChjLHApLGEodGhpcykuYmluZChjLHYpLE4mJihGLnRvdWNoc3RhcnQ9KEYudG91Y2hzdGFydHx8MCkrMSwxPT09Ri50b3VjaHN0YXJ0JiZPLmJpbmQoInRvdWNoc3RhcnQiLHEpLmJpbmQoInRvdWNoZW5kIix0KS5iaW5kKCJ0b3VjaG1vdmUiLHMpLmJpbmQoInNjcm9sbCIscikpfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tRltiXSxGW2JdfHxPLnVuYmluZChjLHApLE4mJigtLUYudG91Y2hzdGFydCxGLnRvdWNoc3RhcnR8fE8udW5iaW5kKCJ0b3VjaHN0YXJ0IixxKS51bmJpbmQoInRvdWNobW92ZSIscykudW5iaW5kKCJ0b3VjaGVuZCIsdCkudW5iaW5kKCJzY3JvbGwiLHIpKTt2YXIgZD1hKHRoaXMpLGU9YS5kYXRhKHRoaXMseik7ZSYmKGVbYl09ITEpLGQudW5iaW5kKGMsdiksdSh0aGlzKXx8ZC5yZW1vdmVEYXRhKHopfX19dmFyIHgseSx6PSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsQT0idmlydHVhbFRvdWNoSUQiLEI9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLEM9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksRD1hLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLEU9YS5ldmVudC5wcm9wcy5jb25jYXQoRCksRj17fSxHPTAsSD0wLEk9MCxKPSExLEs9W10sTD0hMSxNPSExLE49ImFkZEV2ZW50TGlzdGVuZXIiaW4gYyxPPWEoYyksUD0xLFE9MDtmb3IoYS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfSx5PTA7eTxCLmxlbmd0aDt5KyspYS5ldmVudC5zcGVjaWFsW0JbeV1dPXcoQlt5XSk7TiYmYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9Sy5sZW5ndGgsaj1iLnRhcmdldDtpZihpKWZvcihjPWIuY2xpZW50WCxkPWIuY2xpZW50WSx4PWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQsZT1qO2U7KXtmb3IoZj0wO2k+ZjtmKyspaWYoZz1LW2ZdLGg9MCxlPT09aiYmTWF0aC5hYnMoZy54LWMpPHgmJk1hdGguYWJzKGcueS1kKTx4fHxhLmRhdGEoZSxBKT09PWcudG91Y2hJRClyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCAwO2U9ZS5wYXJlbnROb2RlfX0sITApfShhLGIsYyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGMsZCl7dmFyIGU9ZC50eXBlO2QudHlwZT1jLGEuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGQpLGQudHlwZT1lfXZhciBkPWEoYyksZT1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGY9InRvdWNobW92ZSBzY3JvbGwiLGc9ZT8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaD1lPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGk9ZT8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsYyl7ZD1jLGIoZyxkPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBkLGUsZz10aGlzLGg9YShnKTtoLmJpbmQoZixmdW5jdGlvbihiKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGR8fGMoYiwhMCksY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChmdW5jdGlvbigpe2MoYiwhMSl9LDUwKSl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChmKX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLGVtaXRUYXBPblRhcGhvbGQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGU9YShjKSxmPSExO2UuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZyl7ZnVuY3Rpb24gaCgpe2NsZWFyVGltZW91dChrKX1mdW5jdGlvbiBpKCl7aCgpLGUudW5iaW5kKCJ2Y2xpY2siLGopLnVuYmluZCgidm1vdXNldXAiLGgpLGQudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpfWZ1bmN0aW9uIGooYSl7aSgpLGZ8fGwhPT1hLnRhcmdldD9mJiZhLnN0b3BQcm9wYWdhdGlvbigpOmIoYywidGFwIixhKX1pZihmPSExLGcud2hpY2gmJjEhPT1nLndoaWNoKXJldHVybiExO3ZhciBrLGw9Zy50YXJnZXQ7ZS5iaW5kKCJ2bW91c2V1cCIsaCkuYmluZCgidmNsaWNrIixqKSxkLmJpbmQoInZtb3VzZWNhbmNlbCIsaSksaz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRhcC5lbWl0VGFwT25UYXBob2xkfHwoZj0hMCksYihjLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0Omx9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgidm1vdXNlZG93biIpLnVuYmluZCgidmNsaWNrIikudW5iaW5kKCJ2bW91c2V1cCIpLGQudW5iaW5kKCJ2bW91c2VjYW5jZWwiKX19LGEuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjEwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YjtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV0sb3JpZ2luOmEoYi50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihhKXt2YXIgYj1hLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9hLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTphO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYi5wYWdlWCxiLnBhZ2VZXX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGMsZCxlLGYpe2lmKGQudGltZS1jLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhjLmNvb3Jkc1swXS1kLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYy5jb29yZHNbMV0tZC5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkKXt2YXIgZz1jLmNvb3Jkc1swXT5kLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCI7cmV0dXJuIGIoZSwic3dpcGUiLGEuRXZlbnQoInN3aXBlIix7dGFyZ2V0OmYsc3dpcGVzdGFydDpjLHN3aXBlc3RvcDpkfSkpLGIoZSxnLGEuRXZlbnQoZyx7dGFyZ2V0OmYsc3dpcGVzdGFydDpjLHN3aXBlc3RvcDpkfSkpLCEwfXJldHVybiExfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2MuYmluZChnLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGUoYyl7ZyYmKGY9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AoYyksa3x8KGs9YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhhbmRsZVN3aXBlKGcsZixiLGopKSxNYXRoLmFicyhnLmNvb3Jkc1swXS1mLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJmMucHJldmVudERlZmF1bHQoKSl9dmFyIGYsZz1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RhcnQoZCksaj1kLnRhcmdldCxrPSExO2MuYmluZChpLGUpLm9uZShoLGZ1bmN0aW9uKCl7az0hMH0pfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoZykudW5iaW5kKGkpLnVuYmluZChoKX19LGEuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixmKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT0ib3JpZW50YXRpb25jaGFuZ2UiLG49ezA6ITAsMTgwOiEwfTthLnN1cHBvcnQub3JpZW50YXRpb24mJihpPWIuaW5uZXJXaWR0aHx8bC53aWR0aCgpLGo9Yi5pbm5lckhlaWdodHx8bC5oZWlnaHQoKSxrPTUwLGc9aT5qJiZpLWo+ayxoPW5bYi5vcmllbnRhdGlvbl0sKGcmJmh8fCFnJiYhaCkmJihuPXsiLTkwIjohMCw5MDohMH0pKSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLGwuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSx2b2lkIDApfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGwudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpLHZvaWQgMCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9uW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUud2lkZ2V0cz17fTt2YXIgYz1hLndpZGdldDthLndpZGdldD1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPWQucHJvdG90eXBlLndpZGdldE5hbWU7cmV0dXJuIGQuaW5pdFNlbGVjdG9yPWQucHJvdG90eXBlLmluaXRTZWxlY3RvciE9PWI/ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSciK2UrIicpIixhLm1vYmlsZS53aWRnZXRzW2VdPWQsZH19KGEud2lkZ2V0KSxhLmV4dGVuZChhLndpZGdldCxjKSxhLm1vYmlsZS5kb2N1bWVudC5vbigiY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5lbmhhbmNlV2l0aGluKCl9KSxhLndpZGdldCgibW9iaWxlLnBhZ2UiLHtvcHRpb25zOnt0aGVtZToiYSIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6YS5tb2JpbGUua2VlcE5hdGl2ZSxjb250ZW50VGhlbWU6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbigpe2EuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90cmlnZ2VyKCJpbml0Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMT8hMToodGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlKCksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSx0aGlzLmVsZW1lbnQuZW5oYW5jZVdpdGhpbigpLCJkaWFsb2ciPT09YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwicm9sZSIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSx2b2lkIDApfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPSJkYXRhLSIrYS5tb2JpbGUubnMsZD10aGlzO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKCJbIitjKyJyb2xlPSdjb250ZW50J10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKGMrInRoZW1lIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fCJkaWFsb2ciPT09ZC5lbGVtZW50LmpxbURhdGEoInJvbGUiKSYmZC5vcHRpb25zLnRoZW1lLGUuYWRkQ2xhc3MoInVpLWNvbnRlbnQiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5vcHRpb25zLmNvbnRlbnRUaGVtZSksZS5hdHRyKCJyb2xlIiwibWFpbiIpLmFkZENsYXNzKCJ1aS1jb250ZW50Iil9KX0sYmluZFJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQ7IWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZjLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYy5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGJ8fGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLnRoZW1lIT09YiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2MudGhlbWUpLGMuY29udGVudFRoZW1lIT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIltkYXRhLSIrYS5tb2JpbGUubnMrIj0nY29udGVudCddIikucmVtb3ZlQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMuY29udGVudFRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2MuY29udGVudFRoZW1lKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiOm1vYmlsZS1jb250ZW50IikuY29udGVudCh7dGhlbWU6Im5vbmUifSl9LHNldENvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnBhcmVudCgpLmNvbnRlbnQoe3RoZW1lOmF8fHRoaXMub3B0aW9ucy50aGVtZX0pfSxrZWVwTmF0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz1iLmtlZXBOYXRpdmUmJmEudHJpbShiLmtlZXBOYXRpdmUpO3JldHVybiBjJiZiLmtlZXBOYXRpdmUhPT1iLmtlZXBOYXRpdmVEZWZhdWx0P1tiLmtlZXBOYXRpdmUsYi5rZWVwTmF0aXZlRGVmYXVsdF0uam9pbigiLCAiKTpiLmtlZXBOYXRpdmVEZWZhdWx0fX0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYil7IW58fG4uY2xvc2VzdCgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiFifHxuLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxuPW51bGx9ZnVuY3Rpb24gZigpe3I9ITEscS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHEucG9wKCkpfWZ1bmN0aW9uIGcoKXt2YXIgYj1hLm1vYmlsZS5hY3RpdmVQYWdlJiZpKGEubW9iaWxlLmFjdGl2ZVBhZ2UpO3JldHVybiBifHx2LmhyZWZOb0hhc2h9ZnVuY3Rpb24gaChhKXtmb3IoO2EmJigic3RyaW5nIiE9dHlwZW9mIGEubm9kZU5hbWV8fCJhIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfWZ1bmN0aW9uIGkoYil7dmFyIGM9YShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGQ9di5ocmVmTm9IYXNoO3JldHVybiBhLm1vYmlsZS5keW5hbWljQmFzZUVuYWJsZWQmJmMmJmwuaXNQYXRoKGMpfHwoYz1kKSxsLm1ha2VVcmxBYnNvbHV0ZShjLGQpfWEud2lkZ2V0KCJtb2JpbGUuY29udGVudCIse29wdGlvbnM6e3RoZW1lOiJhIn0saW5pdFNlbGVjdG9yOiExLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz1hKGIpO3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb24oYyx7bmF2aWdhdGU6Il9maWx0ZXJOYXZpZ2F0ZUV2ZW50cyJ9KSx0aGlzLl9vbihjLHtuYXZpZ2F0ZToiX2Rpc2FibGVSZWNvcmRTY3JvbGwiLHNjcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOiJfYWZ0ZXJDb250ZW50Q2hhbmdlIn0pLGMub25lKCJuYXZpZ2F0ZSIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITB9LHRoaXMpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7YS50aGVtZSE9PWQmJiJub25lIiE9PWEudGhlbWU/dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktb3ZlcmxheS0iK2EudGhlbWUpOmEudGhlbWUhPT1kJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuX3N1cGVyKGEpfSxfZGlzYWJsZVJlY29yZFNjcm9sbDpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITF9LF9lbmFibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSxfYWZ0ZXJDb250ZW50Q2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMCx0aGlzLl9vZmYoaiwic2Nyb2xsc3RvcCIpLHRoaXMuX29uKGose3Njcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pfSxfcmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCl7dmFyIGEsYixjLGQ9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpO2QmJihhPXRoaXMuX2dldFNjcm9sbCgpLGI9dGhpcy5fZ2V0TWluU2Nyb2xsKCksYz10aGlzLl9nZXREZWZhdWx0U2Nyb2xsKCksZC5sYXN0U2Nyb2xsPWI+YT9jOmEpfX0sX2RlbGF5ZWRSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3JlY29yZFNjcm9sbCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gai5zY3JvbGxUb3AoKX0sX2dldE1pblNjcm9sbDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5taW5TY3JvbGxCYWNrfSxfZ2V0RGVmYXVsdFNjcm9sbDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbH0sX2ZpbHRlck5hdmlnYXRlRXZlbnRzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yi5vcmlnaW5hbEV2ZW50JiZiLm9yaWdpbmFsRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkPWIub3JpZ2luYWxFdmVudC50eXBlLmluZGV4T2YoImhhc2hjaGFuZ2UiKT4tMT9jLnN0YXRlLmhhc2g6Yy5zdGF0ZS51cmwsZHx8KGQ9dGhpcy5fZ2V0SGFzaCgpKSxkJiYiIyIhPT1kJiYwIT09ZC5pbmRleE9mKCIjIithLm1vYmlsZS5wYXRoLnVpU3RhdGVLZXkpfHwoZD1sb2NhdGlvbi5ocmVmKSx0aGlzLl9oYW5kbGVOYXZpZ2F0ZShkLGMuc3RhdGUpKX0sX2dldEhhc2g6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaH0sX2dldEFjdGl2ZUNvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYWN0aXZlUGFnZX0sX2dldEluaXRpYWxDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmZpcnN0UGFnZX0sX2dldEhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gcH0sX2dldEFjdGl2ZUhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKX0sX2dldERvY3VtZW50QmFzZTpmdW5jdGlvbigpe3JldHVybiB2fSxfYmFjazpmdW5jdGlvbigpe2EubW9iaWxlLmJhY2soKX0sX2ZvcndhcmQ6ZnVuY3Rpb24oKXtiLmhpc3RvcnkuZm9yd2FyZCgpfSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4ic3RyaW5nIj09PWEudHlwZShiKSYmKGI9bC5zdHJpcEhhc2goYikpLGImJihjPXRoaXMuX2dldEhpc3RvcnkoKSxkPXRoaXMuX2dldERvY3VtZW50QmFzZSgpLGI9bC5pc1BhdGgoYik/YjpsLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYixkKSxiPT09bC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MuaW5pdGlhbERzdCxkKSYmYy5zdGFjay5sZW5ndGgmJmMuc3RhY2tbMF0udXJsIT09Yy5pbml0aWFsRHN0LnJlcGxhY2UocywiIikmJihiPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCkpKSxifHx0aGlzLl9nZXRJbml0aWFsQ29udGVudCgpfSxfaGFuZGxlRGlhbG9nOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmPXRoaXMuX2dldEFjdGl2ZUNvbnRlbnQoKTtyZXR1cm4gZiYmIWYuaGFzQ2xhc3MoInVpLWRpYWxvZyIpPygiYmFjayI9PT1jLmRpcmVjdGlvbj90aGlzLl9iYWNrKCk6dGhpcy5fZm9yd2FyZCgpLCExKTooZD1jLnBhZ2VVcmwsZT10aGlzLl9nZXRBY3RpdmVIaXN0b3J5KCksYS5leHRlbmQoYix7cm9sZTplLnJvbGUsdHJhbnNpdGlvbjplLnRyYW5zaXRpb24scmV2ZXJzZToiYmFjayI9PT1jLmRpcmVjdGlvbn0pLGQpfSxfaGFuZGxlTmF2aWdhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZT1sLnN0cmlwSGFzaChiKSxmPXRoaXMuX2dldEhpc3RvcnkoKSxnPTA9PT1mLnN0YWNrLmxlbmd0aD8ibm9uZSI6ZCxoPXtjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259O2EuZXh0ZW5kKGgsYyx7dHJhbnNpdGlvbjooZi5nZXRMYXN0KCl8fHt9KS50cmFuc2l0aW9ufHxnfSksZi5hY3RpdmVJbmRleD4wJiZlLmluZGV4T2Yocyk+LTEmJmYuaW5pdGlhbERzdCE9PWUmJihlPXRoaXMuX2hhbmRsZURpYWxvZyhoLGMpLGU9PT0hMSl8fHRoaXMuX2NoYW5nZUNvbnRlbnQodGhpcy5faGFuZGxlRGVzdGluYXRpb24oZSksaCl9LF9jaGFuZ2VDb250ZW50OmZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUuY2hhbmdlUGFnZShiLGMpfSxfZ2V0QmFzZTpmdW5jdGlvbigpe3JldHVybiB3fSxfZ2V0QmFzZVdpdGhEZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIGcoKX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWwuaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4obC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmbC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGVyV2lkZ2V0fSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZz1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9nZXRMb2FkZXIoKS5sb2FkZXIoInNob3ciLGMsZCxlKX0sdGhpcyksYil9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9nZXRMb2FkZXIoKS5sb2FkZXIoImhpZGUiKX0sX3Nob3dFcnJvcjpmdW5jdGlvbigpe3RoaXMuX2hpZGVMb2FkaW5nKCksdGhpcy5fc2hvd0xvYWRpbmcoMCxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lLGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlLCEwKSxzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX2hpZGVMb2FkaW5nIiksMTUwMCl9LF9wYXJzZTpmdW5jdGlvbihiLGMpe3ZhciBkLGU9YSgiPGRpdj48L2Rpdj4iKTtyZXR1cm4gZS5nZXQoMCkuaW5uZXJIVE1MPWIsZD1lLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpLGQubGVuZ3RofHwoZD1hKCI8ZGl2IGRhdGEtIit0aGlzLl9nZXROcygpKyJyb2xlPSdwYWdlJz4iKyhiLnNwbGl0KC88XC8/Ym9keVtePl0qPi9naW0pWzFdfHwiIikrIjwvZGl2PiIpKSxkLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGwuY29udmVydFVybFRvRGF0YVVybChjKSkuYXR0cigiZGF0YS0iK3RoaXMuX2dldE5zKCkrImV4dGVybmFsLXBhZ2UiLCEwKSxkfSxfc2V0TG9hZGVkVGl0bGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1jLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMTtkJiYhYi5qcW1EYXRhKCJ0aXRsZSIpJiYoZD1hKCI8ZGl2PiIrZCsiPC9kaXY+IikudGV4dCgpLGIuanFtRGF0YSgidGl0bGUiLGQpKX0sX2lzUmV3cml0YWJsZUJhc2VUYWc6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiYhYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnfSxfY3JlYXRlRGF0YVVybDpmdW5jdGlvbihhKXtyZXR1cm4gbC5jb252ZXJ0VXJsVG9EYXRhVXJsKGEpfSxfY3JlYXRlRmlsZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gbC5nZXRGaWxlUGF0aChhKX0sX3RyaWdnZXJXaXRoRGVwcmVjYXRlZDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5FdmVudCgicGFnZSIrYiksZj1hLkV2ZW50KHRoaXMud2lkZ2V0TmFtZStiKTtyZXR1cm4oZHx8dGhpcy5lbGVtZW50KS50cmlnZ2VyKGUsYyksdGhpcy5lbGVtZW50LnRyaWdnZXIoZixjKSx7ZGVwcmVjYXRlZEV2ZW50OmUsZXZlbnQ6Zn19LF9sb2FkU3VjY2VzczpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZz10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGg9dGhpcy5fY3JlYXRlRGF0YVVybChiKTtyZXR1cm4gYS5wcm94eShmdW5jdGlvbihpLGosayl7dmFyIG0sbj1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK3RoaXMuX2dldE5zKCkrInJvbGU9W1wiJ10/cGFnZVtcIiddP1tePl0qPikiKSxvPW5ldyBSZWdFeHAoIlxcYmRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIpO24udGVzdChpKSYmUmVnRXhwLiQxJiZvLnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYoZz1sLmdldEZpbGVQYXRoKGEoIjxkaXY+IitSZWdFeHAuJDErIjwvZGl2PiIpLnRleHQoKSkpLGUucHJlZmV0Y2g9PT1kJiZ0aGlzLl9nZXRCYXNlKCkuc2V0KGcpLG09dGhpcy5fcGFyc2UoaSxnKSx0aGlzLl9zZXRMb2FkZWRUaXRsZShtLGkpLHRoaXMuX2lzUmV3cml0YWJsZUJhc2VUYWcoKSYmbSYmdGhpcy5fZ2V0QmFzZSgpLnJld3JpdGUoZyxtKSx0aGlzLl9pbmNsdWRlKG0sZSksYi5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKG09dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitoKyInXSIpKSxlLnNob3dMb2FkTXNnJiZ0aGlzLl9oaWRlTG9hZGluZygpLGMueGhyPWssYy50ZXh0U3RhdHVzPWosYy5wYWdlPW0sYy5jb250ZW50PW0sdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJsb2FkIixjKSxmLnJlc29sdmUoYixlLG0pfSx0aGlzKX0sX2xvYWREZWZhdWx0czp7dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyZWxvYWQ6ITEscm9sZTpkLHNob3dMb2FkTXNnOiExLGxvYWRNc2dEZWxheTo1MH0sbG9hZDpmdW5jdGlvbihiLGMpe3ZhciBlLGYsZyxoLGk9Yy5kZWZlcnJlZHx8YS5EZWZlcnJlZCgpLGo9YS5leHRlbmQoe30sdGhpcy5fbG9hZERlZmF1bHRzLGMpLGs9bnVsbCxtPWwubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZ2V0QmFzZVdpdGhEZWZhdWx0KCkpO3JldHVybiBqLnJlbG9hZD1qLnJlbG9hZFBhZ2Usai5kYXRhJiYiZ2V0Ij09PWoudHlwZSYmKG09bC5hZGRTZWFyY2hQYXJhbXMobSxqLmRhdGEpLGouZGF0YT1kKSxqLmRhdGEmJiJwb3N0Ij09PWoudHlwZSYmKGoucmVsb2FkPSEwKSxlPXRoaXMuX2NyZWF0ZUZpbGVVcmwobSksZj10aGlzLl9jcmVhdGVEYXRhVXJsKG0pLGs9dGhpcy5fZmluZChtKSwwPT09ay5sZW5ndGgmJmwuaXNFbWJlZGRlZFBhZ2UoZSkmJiFsLmlzRmlyc3RQYWdlVXJsKGUpPyhpLnJlamVjdChtLGopLHZvaWQgMCk6KHRoaXMuX2dldEJhc2UoKS5yZXNldCgpLGsubGVuZ3RoJiYhai5yZWxvYWQ/KHRoaXMuX2VuaGFuY2UoayxqLnJvbGUpLGkucmVzb2x2ZShtLGosayksai5wcmVmZXRjaHx8dGhpcy5fZ2V0QmFzZSgpLnNldChiKSx2b2lkIDApOihoPXt1cmw6YixhYnNVcmw6bSxkYXRhVXJsOmYsZGVmZXJyZWQ6aSxvcHRpb25zOmp9LGc9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVsb2FkIixoKSxnLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zy5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KGouc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dMb2FkaW5nKGoubG9hZE1zZ0RlbGF5KSxqLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxsLmlzU2FtZURvbWFpbih1LG0pPyhhLmFqYXgoe3VybDplLHR5cGU6ai50eXBlLGRhdGE6ai5kYXRhLGNvbnRlbnRUeXBlOmouY29udGVudFR5cGUsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6dGhpcy5fbG9hZFN1Y2Nlc3MobSxoLGosaSksZXJyb3I6dGhpcy5fbG9hZEVycm9yKG0saCxqLGkpfSksdm9pZCAwKTooaS5yZWplY3QobSxqKSx2b2lkIDApKSkpfSxfbG9hZEVycm9yOmZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGEsZixnKXt0aGlzLl9nZXRCYXNlKCkuc2V0KGwuZ2V0KCkpLGMueGhyPWEsYy50ZXh0U3RhdHVzPWYsYy5lcnJvclRocm93bj1nO3ZhciBoPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgibG9hZGZhaWxlZCIsYyk7aC5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGguZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkLnNob3dMb2FkTXNnJiZ0aGlzLl9zaG93RXJyb3IoKSxlLnJlamVjdChiLGQpKX0sdGhpcyl9LF9nZXRUcmFuc2l0aW9uSGFuZGxlcjpmdW5jdGlvbihiKXtyZXR1cm4gYj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihiKSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbYl18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcn0sX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzOmZ1bmN0aW9uKGIsYyxkKXtkPWR8fCIiLGMmJnRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkKyJoaWRlIix7bmV4dFBhZ2U6Yn0sYyksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKGQrInNob3ciLHtwcmV2UGFnZTpjfHxhKCIiKX0sYil9LF9jc3NUcmFuc2l0aW9uOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc9ZC50cmFuc2l0aW9uLGg9ZC5yZXZlcnNlLGk9ZC5kZWZlcnJlZDt0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50cyhiLGMsImJlZm9yZSIpLHRoaXMuX2hpZGVMb2FkaW5nKCksZT10aGlzLl9nZXRUcmFuc2l0aW9uSGFuZGxlcihnKSxmPW5ldyBlKGcsaCxiLGMpLnRyYW5zaXRpb24oKSxmLmRvbmUoZnVuY3Rpb24oKXtpLnJlc29sdmUuYXBwbHkoaSxhcmd1bWVudHMpfSksZi5kb25lKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50cyhiLGMpfSx0aGlzKSl9LF9yZWxlYXNlVHJhbnNpdGlvbkxvY2s6ZnVuY3Rpb24oKXtmKCl9LF9yZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYSl7ZShhKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe3I9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZWZhaWxlZCIsYyl9LHRoaXMpKX0sX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpO3JldHVybiBhLmV4dGVuZChjLHt0b1BhZ2U6YixvcHRpb25zOmR9KSxjLmFic1VybD0ic3RyaW5nIj09PWEudHlwZShiKT9sLm1ha2VVcmxBYnNvbHV0ZShiLGcoKSk6ZC5hYnNVcmwsdGhpcy5lbGVtZW50LnRyaWdnZXIoZSxjKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihyKXJldHVybiBxLnVuc2hpZnQoYXJndW1lbnRzKSx2b2lkIDA7dmFyIGQ9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxjKSxlPXt9O2QuZnJvbVBhZ2U9ZC5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZSx0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGUsZCkmJihiPWUudG9QYWdlLCJzdHJpbmciPT09YS50eXBlKGIpPyhyPSEwLHRoaXMuX2xvYWRVcmwoYixlLGQpKTp0aGlzLnRyYW5zaXRpb24oYixlLGQpKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihiLGcsaCl7dmFyIGksaixrLG0sbixvLHQsdix3LHgseSx6LEEsQjtpZihyKXJldHVybiBxLnVuc2hpZnQoW2IsaF0pLHZvaWQgMDtpZih0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsaCkmJihCPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgiYmVmb3JldHJhbnNpdGlvbiIsZyksIUIuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhQi5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKHI9ITAsYlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPXUuaHJlZk5vSGFzaCksaT1oLmZyb21QYWdlLGo9aC5kYXRhVXJsJiZsLmNvbnZlcnRVcmxUb0RhdGFVcmwoaC5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxrPWosbT1sLmdldEZpbGVQYXRoKGopLG49cC5nZXRBY3RpdmUoKSxvPTA9PT1wLmFjdGl2ZUluZGV4LHQ9MCx2PWMudGl0bGUsdz0oImRpYWxvZyI9PT1oLnJvbGV8fCJkaWFsb2ciPT09Yi5qcW1EYXRhKCJyb2xlIikpJiZiLmpxbURhdGEoImRpYWxvZyIpIT09ITAsaSYmaVswXT09PWJbMF0mJiFoLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiByPSExLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgidHJhbnNpdGlvbiIsZyksdGhpcy5lbGVtZW50LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGcpLGguZnJvbUhhc2hDaGFuZ2UmJnAuZGlyZWN0KHt1cmw6an0pLHZvaWQgMDtiLnBhZ2Uoe3JvbGU6aC5yb2xlfSksaC5mcm9tSGFzaENoYW5nZSYmKHQ9ImJhY2siPT09aC5kaXJlY3Rpb24/LTE6MSk7dHJ5e2MuYWN0aXZlRWxlbWVudCYmImJvZHkiIT09Yy5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/YShjLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChDKXt9eD0hMSx3JiZuJiYobi51cmwmJm4udXJsLmluZGV4T2Yocyk+LTEmJmEubW9iaWxlLmFjdGl2ZVBhZ2UmJiFhLm1vYmlsZS5hY3RpdmVQYWdlLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKSYmcC5hY3RpdmVJbmRleD4wJiYoaC5jaGFuZ2VIYXNoPSExLHg9ITApLGo9bi51cmx8fCIiLGorPSF4JiZqLmluZGV4T2YoIiMiKT4tMT9zOiIjIitzLDA9PT1wLmFjdGl2ZUluZGV4JiZqPT09cC5pbml0aWFsRHN0JiYoais9cykpLHk9bj9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnYseSYmdj09PWMudGl0bGUmJih2PXkpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIsdiksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KHQmJiFvP24udHJhbnNpdGlvbjpkKXx8KHc/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhdCYmeCYmKHAuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFsLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHo9e3RyYW5zaXRpb246aC50cmFuc2l0aW9uLHRpdGxlOnYscGFnZVVybDprLHJvbGU6aC5yb2xlfSxoLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUoaix6LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHopKSxjLnRpdGxlPXYsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+dCxBPWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6QX0pLEEuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxpLGosayl7ZSgpLGguZHVwbGljYXRlQ2FjaGVkUGFnZSYmaC5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpLGt8fGEubW9iaWxlLmZvY3VzUGFnZShiKSxmKCksdGhpcy5lbGVtZW50LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGcpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgidHJhbnNpdGlvbiIsZyl9LHRoaXMpKX19fSksYS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixjKXt2YXIgZDtyZXR1cm4gYz1jfHx7fSxkPWMucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcixjLmRlZmVycmVkPWEuRGVmZXJyZWQoKSxkLmNvbnRlbnQoImxvYWQiLGIsYyksYy5kZWZlcnJlZC5wcm9taXNlKCl9O3ZhciBqPWEubW9iaWxlLndpbmRvdyxrPWEoImhlYWQiKSxsPWEuZXh0ZW5kKGEubW9iaWxlLnBhdGgse2dldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHMpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYz1sLnBhcnNlVXJsKGwubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxlPWMuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZjLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGY9YS5tb2JpbGUuZmlyc3RQYWdlLGc9ZiYmZlswXT9mWzBdLmlkOmQ7cmV0dXJuIGUmJighYy5oYXNofHwiIyI9PT1jLmhhc2h8fGcmJmMuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09Zyl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSksbT1udWxsLG49bnVsbCxvPWEuRGVmZXJyZWQoKSxwPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkscT1bXSxyPSExLHM9IiZ1aS1zdGF0ZT1kaWFsb2ciLHQ9ay5jaGlsZHJlbigiYmFzZSIpLHU9bC5kb2N1bWVudFVybCx2PWwuZG9jdW1lbnRCYXNlLHc9e2VsZW1lbnQ6dC5sZW5ndGg/dDphKCI8YmFzZT4iLHtocmVmOnYuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhrKSxsaW5rU2VsZWN0b3I6IltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIixzZXQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcmJncuZWxlbWVudC5hdHRyKCJocmVmIixsLm1ha2VVcmxBYnNvbHV0ZShiLHYpKX0scmV3cml0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWwuZ2V0KGIpO2MuZmluZCh3LmxpbmtTZWxlY3RvcikuZWFjaChmdW5jdGlvbihiLGMpe3ZhciBlPWEoYykuaXMoIltocmVmXSIpPyJocmVmIjphKGMpLmlzKCJbc3JjXSIpPyJzcmMiOiJhY3Rpb24iLGY9YShjKS5hdHRyKGUpO2Y9Zi5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIiksL14oXHcrOnwjfFwvKS8udGVzdChmKXx8YShjKS5hdHRyKGUsZCtmKX0pfSxyZXNldDpmdW5jdGlvbigpe3cuZWxlbWVudC5hdHRyKCJocmVmIix2LmhyZWZOb1NlYXJjaCl9fTthLm1vYmlsZS5nZXREb2N1bWVudFVybD1sLmdldERvY3VtZW50VXJsLGEubW9iaWxlLmdldERvY3VtZW50QmFzZT1sLmdldERvY3VtZW50QmFzZSxhLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZhJiZhLmFwcCYmYS5hcHAuYmFja0hpc3Rvcnk/YS5hcHAuYmFja0hpc3RvcnkoKTpiLmhpc3RvcnkuYmFjaygpfSxhLm1vYmlsZS5mb2N1c1BhZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9YS5maW5kKCJbYXV0b2ZvY3VzXSIpLGM9YS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtyZXR1cm4gYi5sZW5ndGg/KGIuZm9jdXMoKSx2b2lkIDApOihjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpLHZvaWQgMCl9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9ufHxmdW5jdGlvbihhKXtyZXR1cm4gYX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIixiKTooc2V0VGltZW91dChiLDApLGEodGhpcykpfSxhLm1vYmlsZS5wYXRoPWwsYS5tb2JpbGUuYmFzZT13LGEubW9iaWxlLnVybEhpc3Rvcnk9cCxhLm1vYmlsZS5kaWFsb2dIYXNoS2V5PXMsYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzPSExLGEubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLmNvbnRlbnQoImNoYW5nZSIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZCxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmQsZnJvbVBhZ2U6ZCxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCksYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCFiLmpxbUhpamFja2FibGUoKS5sZW5ndGh8fGIuYXR0cigidGFyZ2V0Iik/ITE6KGQ9bSYmbS5hdHRyKCJmb3JtYWN0aW9uIil8fGIuYXR0cigiYWN0aW9uIiksZz0oYi5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9aShiKSwiZ2V0Ij09PWcmJihkPWwucGFyc2VVcmwoZCkuaHJlZk5vU2VhcmNoKSxkPT09di5ocmVmTm9IYXNoJiYoZD11LmhyZWZOb1NlYXJjaCkpLGQ9bC5tYWtlVXJsQWJzb2x1dGUoZCxpKGIpKSxsLmlzRXh0ZXJuYWwoZCkmJiFsLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHUsZCk/ITE6KGN8fChlPWIuc2VyaWFsaXplQXJyYXkoKSxtJiZtWzBdLmZvcm09PT1iWzBdJiYoZj1tLmF0dHIoIm5hbWUiKSxmJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09Zj8oZj0iIiwhMSk6dm9pZCAwfSksZiYmZS5wdXNoKHtuYW1lOmYsdmFsdWU6bS5hdHRyKCJ2YWx1ZSIpfSkpKSxoPXt1cmw6ZCxvcHRpb25zOnt0eXBlOmcsZGF0YTphLnBhcmFtKGUpLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT1iLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksaCkpfTthLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGQ7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9YyhhKHRoaXMpKSxkJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShkLnVybCxkLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgZCxmLGc9Yi50YXJnZXQsaT0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYobT1hKGcpLGEuZGF0YShnLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFjKGEoZykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1oKGcpLCFnfHwiIyI9PT1sLnBhcnNlVXJsKGcuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2cucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGcucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoZywiYnV0dG9uRWxlbWVudHMiKSxmP2c9Zi5vdXRlcjppPSEwLGQ9YShnKSxpJiYoZD1kLmNsb3Nlc3QoIi51aS1idG4iKSksZC5sZW5ndGg+MCYmIWQuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikmJihlKCEwKSxuPWQsbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZixnLGosayxtLG4sbyxwLHE9aChjLnRhcmdldCkscj1hKHEpO2lmKHEmJiEoYy53aGljaD4xKSYmci5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihmPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSghMCl9LDIwMCl9LHIuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGEubW9iaWxlLmJhY2soKSwhMTtpZihnPWkociksaj1sLm1ha2VVcmxBYnNvbHV0ZShyLmF0dHIoImhyZWYiKXx8IiMiLGcpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWwuaXNFbWJlZGRlZFBhZ2UoaikpcmV0dXJuIGYoKSx2b2lkIDA7aWYoLTEhPT1qLnNlYXJjaCgiIyIpKXtpZihqPWoucmVwbGFjZSgvW14jXSojLywiIiksIWopcmV0dXJuIGMucHJldmVudERlZmF1bHQoKSx2b2lkIDA7aj1sLmlzUGF0aChqKT9sLm1ha2VVcmxBYnNvbHV0ZShqLGcpOmwubWFrZVVybEFic29sdXRlKCIjIitqLHUuaHJlZk5vSGFzaCl9aWYoaz1yLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fHIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8ci5pcygiW3RhcmdldF0iKSxtPWt8fGwuaXNFeHRlcm5hbChqKSYmIWwuaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QodSxqKSlyZXR1cm4gZigpLHZvaWQgMDtuPXIuanFtRGF0YSgidHJhbnNpdGlvbiIpLG89InJldmVyc2UiPT09ci5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8ci5qcW1EYXRhKCJiYWNrIikscD1yLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQsYS5tb2JpbGUuY2hhbmdlUGFnZShqLHt0cmFuc2l0aW9uOm4scmV2ZXJzZTpvLHJvbGU6cCxsaW5rOnJ9KSxjLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5jb250ZW50KCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCksYS5tb2JpbGUud2luZG93LmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KX0sYShmdW5jdGlvbigpe28ucmVzb2x2ZSgpfSksYS53aGVuKG8sYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6IiB1aS1wYWdlLXByZS1pbiIsaW5pdDpmdW5jdGlvbihiLGMsZCxlKXthLmV4dGVuZCh0aGlzLHtuYW1lOmIscmV2ZXJzZTpjLCR0bzpkLCRmcm9tOmUsZGVmZXJyZWQ6bmV3IGEuRGVmZXJyZWR9KX0sY2xlYW5Gcm9tOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK3RoaXMubmFtZSkuaGVpZ2h0KCIiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIiksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09dGhpcy50b1Njcm9sbCYmdGhpcy5zY3JvbGxQYWdlKCksdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHRoaXMubmFtZSx0aGlzLnJldmVyc2UsdGhpcy4kdG8sdGhpcy4kZnJvbSwhMCl9LGRvbmVPdXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5iZWZvcmVEb25lT3V0KCksdGhpcy5zdGFydEluKGEsYixjLGQpfSxoaWRlSW46ZnVuY3Rpb24oYSl7dGhpcy4kdG8uY3NzKCJ6LWluZGV4IiwtMTApLGEuY2FsbCh0aGlzKSx0aGlzLiR0by5jc3MoInotaW5kZXgiLCIiKX0sc2Nyb2xsUGFnZTpmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLChhLm1vYmlsZS5oaWRlVXJsQmFyfHx0aGlzLnRvU2Nyb2xsIT09YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpJiZiLnNjcm9sbFRvKDAsdGhpcy50b1Njcm9sbCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxzdGFydEluOmZ1bmN0aW9uKGIsYyxkLGUpe3RoaXMuaGlkZUluKGZ1bmN0aW9uKCl7dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK3RoaXMudG9QcmVDbGFzcyksZXx8YS5tb2JpbGUuZm9jdXNQYWdlKHRoaXMuJHRvKSx0aGlzLiR0by5oZWlnaHQoYit0aGlzLnRvU2Nyb2xsKSxkfHx0aGlzLnNjcm9sbFBhZ2UoKX0pLGR8fHRoaXMuJHRvLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVJbigpfSx0aGlzKSksdGhpcy4kdG8ucmVtb3ZlQ2xhc3ModGhpcy50b1ByZUNsYXNzKS5hZGRDbGFzcyh0aGlzLm5hbWUrIiBpbiAiK2MpLGQmJnRoaXMuZG9uZUluKCl9LHN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLmJlZm9yZVN0YXJ0T3V0KGIsYyxkKSx0aGlzLiRmcm9tLmhlaWdodChiK2EubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3ModGhpcy5uYW1lKyIgb3V0IitjKX0sdG9nZ2xlVmlld3BvcnRDbGFzczpmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIudG9nZ2xlQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LSIrdGhpcy5uYW1lKX0sdHJhbnNpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMucmV2ZXJzZT8iIHJldmVyc2UiOiIiLGM9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksZD1hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmYS5tb2JpbGUud2luZG93LndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLGU9IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8ZHx8IXRoaXMubmFtZXx8Im5vbmUiPT09dGhpcy5uYW1lfHxNYXRoLm1heChhLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy50b1Njcm9sbCk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpO3JldHVybiB0aGlzLnRvU2Nyb2xsPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksdGhpcy4kZnJvbSYmIWU/dGhpcy5zdGFydE91dChjLGIsZSk6dGhpcy5kb25lT3V0KGMsYixlLCEwKSx0aGlzLmRlZmVycmVkLnByb21pc2UoKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITAsYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLiRmcm9tLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVPdXQoYixjLGQpfSx0aGlzKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb24ucHJvdG90eXBlLGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHtzZXF1ZW50aWFsOiExLGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmRvbmVPdXQoYSxiLGMpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe3JldHVybiAzKmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e3NlcXVlbnRpYWw6YS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbixzaW11bHRhbmVvdXM6YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb259LGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2VxdWVudGlhbCxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGJ9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93PSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zaW11bHRhbmVvdXMsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9ImZhZGUiCn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPWEubW9iaWxlLmRlZ3JhZGVJbnB1dHMsYS5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbj1mdW5jdGlvbihiKXtiPWEoYiksYi5maW5kKCJpbnB1dCIpLm5vdChhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9YSh0aGlzKSxnPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksaD1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddfHwidGV4dCI7YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXSYmKGI9YSgiPGRpdj4iKS5odG1sKGYuY2xvbmUoKSkuaHRtbCgpLGM9Yi5pbmRleE9mKCIgdHlwZT0iKT4tMSxkPWM/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLGU9JyB0eXBlPSInK2grJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2crJyInKyhjPyIiOiI+IiksZi5yZXBsYWNlV2l0aChiLnJlcGxhY2UoZCxlKSkpfSl9fShhKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS5wYWdlLHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGRpYWxvZzohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmKGEuZXh0ZW5kKHRoaXMse19pc0Nsb3NlYWJsZTohMSxfaW5uZXI6dGhpcy5lbGVtZW50LmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bikpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kaWFsb2ciKS53cmFwSW5uZXIoYSgiPGRpdi8+Iix7cm9sZToiZGlhbG9nIiwiY2xhc3MiOiJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvdyIrKHRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpfSkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlLGY9dGhpcy5vcHRpb25zO2IuY29ybmVycyE9PWMmJnRoaXMuX2lubmVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIiwhIWIuY29ybmVycyksYi5vdmVybGF5VGhlbWUhPT1jJiZhLm1vYmlsZS5hY3RpdmVQYWdlWzBdPT09dGhpcy5lbGVtZW50WzBdJiYoZi5vdmVybGF5VGhlbWU9Yi5vdmVybGF5VGhlbWUsdGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKSksYi5jbG9zZUJ0blRleHQhPT1jJiYoZD1mLmNsb3NlQnRuLGU9Yi5jbG9zZUJ0blRleHQpLGIuY2xvc2VCdG4hPT1jJiYoZD1iLmNsb3NlQnRuKSxkJiZ0aGlzLl9zZXRDbG9zZUJ0bihkLGUpLHRoaXMuX3N1cGVyKGIpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lPyh0aGlzLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKSx0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQodGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSkpOnRoaXMuX3N1cGVyKCl9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiPT09Yj8icmlnaHQiOiJub25lIiwibm9uZSI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi0iK2IpLGMmJmUudGV4dChjKSk6KGQ9dGhpcy5faW5uZXIuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maXJzdCgpLGU9YSgiPGE+PC9hPiIse3JvbGU6ImJ1dHRvbiIsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi0iK2J9KS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fCIiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6ImNsb3NlIn0pKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiLGMsZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O2EubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZkLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOihiPU1hdGgubWF4KDAsZC5hY3RpdmVJbmRleC0xKSxjPWQuc3RhY2tbYl0ucGFnZVVybHx8ZC5zdGFja1tiXS51cmwsZC5wcmV2aW91c0luZGV4PWQuYWN0aXZlSW5kZXgsZC5hY3RpdmVJbmRleD1iLGEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYykpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyx7ZGlyZWN0aW9uOiJiYWNrIixjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIse29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSExfSxfaGFuZGxlVkNsaWNrU3VibWl0OmZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz17fSxjWyJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iXT0oYS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKXx8e30pLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uLGNbImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIl09InJldmVyc2UiLGQuYXR0cihjKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7Yi5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyhjLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHN1Ym1pdDoiX2hhbmRsZVZDbGlja1N1Ym1pdCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSx0aGlzLl9zZXRDbG9zZUJ0bihjLmNsb3NlQnRuKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7cm9sZToiYnV0dG9uIixocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSx0aGlzLl9vbihlLHtjbGljazoiY2xvc2UifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmZC5hY3RpdmVJbmRleD4wP2EubW9iaWxlLmJhY2soKTooYj1NYXRoLm1heCgwLGQuYWN0aXZlSW5kZXgtMSksYz1kLnN0YWNrW2JdLnBhZ2VVcmx8fGQuc3RhY2tbYl0udXJsLGQucHJldmlvdXNJbmRleD1kLmFjdGl2ZUluZGV4LGQuYWN0aXZlSW5kZXg9YixhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MpKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMse2RpcmVjdGlvbjoiYmFjayIsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKSl9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0vKFtBLVpdKS9nO2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLHtvcHRpb25zOntlbmhhbmNlZDohMSxleHBhbmRDdWVUZXh0Om51bGwsY29sbGFwc2VDdWVUZXh0Om51bGwsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsY29sbGFwc2VkSWNvbjpudWxsLGV4cGFuZGVkSWNvbjpudWxsLGljb25wb3M6bnVsbCx0aGVtZTpudWxsLGNvbnRlbnRUaGVtZTpudWxsLGluc2V0Om51bGwsY29ybmVyczpudWxsLG1pbmk6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXthY2NvcmRpb246Yi5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIrKGEubW9iaWxlLmNvbGxhcHNpYmxlc2V0PyIsIDptb2JpbGUtY29sbGFwc2libGVzZXQiOiIiKSkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpfTthLmV4dGVuZCh0aGlzLHtfdWk6Y30pLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8oYy5oZWFkaW5nPWEoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIix0aGlzLmVsZW1lbnRbMF0pLGMuY29udGVudD1jLmhlYWRpbmcubmV4dCgpLGMuYW5jaG9yPWEoImEiLGMuaGVhZGluZ1swXSkuZmlyc3QoKSxjLnN0YXR1cz1jLmFuY2hvci5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikpOnRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9vbihjLmhlYWRpbmcse3RhcDpmdW5jdGlvbigpe2MuaGVhZGluZy5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LGNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCFjLmhlYWRpbmcuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikpLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfX0pfSxfZ2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlPXRoaXMuX3VpLmFjY29yZGlvbixmPXRoaXMuX3VpLmFjY29yZGlvbldpZGdldDtiPWEuZXh0ZW5kKHt9LGIpLGUubGVuZ3RoJiYhZiYmKHRoaXMuX3VpLmFjY29yZGlvbldpZGdldD1mPWUuZGF0YSgibW9iaWxlLWNvbGxhcHNpYmxlc2V0IikpO2ZvcihkIGluIGIpYltkXT1udWxsIT1iW2RdP2JbZF06Zj9mLm9wdGlvbnNbZF06ZS5sZW5ndGg/YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGVbMF0sZC5yZXBsYWNlKGMsIi0kMSIpLnRvTG93ZXJDYXNlKCkpOm51bGwsbnVsbD09YltkXSYmKGJbZF09YS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHNbZF0pO3JldHVybiBifSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjoiIn0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKSxmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZS5jb250ZW50VGhlbWUpO3JldHVybiBiLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSAiKyhlLmluc2V0PyJ1aS1jb2xsYXBzaWJsZS1pbnNldCAiOiIiKSsoZS5pbnNldCYmZS5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKyhmPyJ1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCAiOiIiKSksYy5vcmlnaW5hbEhlYWRpbmc9Yi5jaGlsZHJlbih0aGlzLm9wdGlvbnMuaGVhZGluZykuZmlyc3QoKSxjLmNvbnRlbnQ9Yi53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQgIitmKyInPjwvZGl2PiIpLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGMuaGVhZGluZz1jLm9yaWdpbmFsSGVhZGluZyxjLmhlYWRpbmcuaXMoImxlZ2VuZCIpJiYoYy5oZWFkaW5nPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitjLmhlYWRpbmcuaHRtbCgpKyI8L2Rpdj4iKSxjLnBsYWNlaG9sZGVyPWEoIjxkaXY+PCEtLSBwbGFjZWhvbGRlciBmb3IgbGVnZW5kIC0tPjwvZGl2PiIpLmluc2VydEJlZm9yZShjLm9yaWdpbmFsSGVhZGluZyksYy5vcmlnaW5hbEhlYWRpbmcucmVtb3ZlKCkpLGQ9ZS5jb2xsYXBzZWQ/ZS5jb2xsYXBzZWRJY29uPyJ1aS1pY29uLSIrZS5jb2xsYXBzZWRJY29uOiIiOmUuZXhwYW5kZWRJY29uPyJ1aS1pY29uLSIrZS5leHBhbmRlZEljb246IiIsYy5zdGF0dXM9YSgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+IiksYy5hbmNob3I9Yy5oZWFkaW5nLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKGMuc3RhdHVzKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKCJ1aS1idG4gIisoZD9kKyIgIjoiIikrKGQ/InVpLWJ0bi1pY29uLSIrKCJyaWdodCI9PT1lLmljb25wb3M/InJpZ2h0IjoibGVmdCIpKyIgIjoiIikrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGUudGhlbWUpKyIgIisoZS5taW5pPyJ1aS1taW5pICI6IiIpKSxjLmhlYWRpbmcuaW5zZXJ0QmVmb3JlKGMuY29udGVudCksdGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UodGhpcy5vcHRpb25zLmNvbGxhcHNlZCksY30scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiLGM9e307Zm9yKGIgaW4gYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMpY1tiXT10aGlzLm9wdGlvbnNbYl07dGhpcy5fc2V0T3B0aW9ucyhjKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9dGhpcy5fdWksaT1oLmFuY2hvcixqPWguc3RhdHVzLGs9dGhpcy5fZ2V0T3B0aW9ucyhhKTthLmNvbGxhcHNlZCE9PWImJnRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKGEuY29sbGFwc2VkKSxjPWYuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGFwc2VkIiksYz8oay5leHBhbmRDdWVUZXh0IT09YiYmai50ZXh0KGsuZXhwYW5kQ3VlVGV4dCksay5jb2xsYXBzZWRJY29uIT09YiYmKGcuY29sbGFwc2VkSWNvbiYmaS5yZW1vdmVDbGFzcygidWktaWNvbi0iK2cuY29sbGFwc2VkSWNvbiksay5jb2xsYXBzZWRJY29uJiZpLmFkZENsYXNzKCJ1aS1pY29uLSIray5jb2xsYXBzZWRJY29uKSkpOihrLmNvbGxhcHNlQ3VlVGV4dCE9PWImJmoudGV4dChrLmNvbGxhcHNlQ3VlVGV4dCksay5leHBhbmRlZEljb24hPT1iJiYoZy5leHBhbmRlZEljb24mJmkucmVtb3ZlQ2xhc3MoInVpLWljb24tIitnLmV4cGFuZGVkV0ljb24pLGsuZXhwYW5kZWRJY29uJiZpLmFkZENsYXNzKCJ1aS1pY29uLSIray5leHBhbmRlZEljb24pKSksay5pY29ucG9zIT09YiYmKGkucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrKCJyaWdodCI9PT1nLmljb25Qb3M/InJpZ2h0IjoibGVmdCIpKSxpLmFkZENsYXNzKCJ1aS1idG4taWNvbi0iKygicmlnaHQiPT09ay5pY29uUG9zPyJyaWdodCI6ImxlZnQiKSkpLGsudGhlbWUhPT1iJiYoZT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsZy50aGVtZSksZD10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsay50aGVtZSksaS5yZW1vdmVDbGFzcyhlKS5hZGRDbGFzcyhkKSksay5jb250ZW50VGhlbWUhPT1iJiYoZT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGcudGhlbWUpLGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixrLnRoZW1lKSxoLmNvbnRlbnQucmVtb3ZlQ2xhc3MoZSkuYWRkQ2xhc3MoZCkpLGsuaW5zZXQhPT1iJiYoZi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaW5zZXQiLGsuaW5zZXQpLGcuaW5zZXQ9ay5pbnNldCxrLmluc2V0fHwoay5jb3JuZXJzPSExKSksay5jb3JuZXJzIT09YiYmZi50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZy5pbnNldCYmay5jb3JuZXJzKSxrLm1pbmkhPT1iJiZpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixrLm1pbmkpLHRoaXMuX3N1cGVyKGEpfSxfaGFuZGxlRXhwYW5kQ29sbGFwc2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLGQ9dGhpcy5fdWk7ZC5zdGF0dXMudGV4dChiP2MuZXhwYW5kQ3VlVGV4dDpjLmNvbGxhcHNlQ3VlVGV4dCksZC5oZWFkaW5nLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIsYikuZmluZCgiYSIpLmZpcnN0KCkudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmV4cGFuZGVkSWNvbiwhYikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmNvbGxhcHNlZEljb24sYnx8Yy5leHBhbmRlZEljb249PT1jLmNvbGxhcHNlZEljb24pLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsYiksZC5jb250ZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsYikuYXR0cigiYXJpYS1oaWRkZW4iLGIpLnRyaWdnZXIoInVwZGF0ZWxheW91dCIpLHRoaXMub3B0aW9ucy5jb2xsYXBzZWQ9Yix0aGlzLl90cmlnZ2VyKGI/ImNvbGxhcHNlIjoiZXhwYW5kIil9LGV4cGFuZDpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCExKX0sY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSghMCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWksYj10aGlzLm9wdGlvbnM7Yi5lbmhhbmNlZHx8KGEucGxhY2Vob2xkZXI/KGEub3JpZ2luYWxIZWFkaW5nLmluc2VydEJlZm9yZShhLnBsYWNlaG9sZGVyKSxhLnBsYWNlaG9sZGVyLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmUoKSk6KGEuc3RhdHVzLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyB1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKSksYS5hbmNob3IuY29udGVudHMoKS51bndyYXAoKSxhLmNvbnRlbnQuY29udGVudHMoKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlIHVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCB1aS1jb2xsYXBzaWJsZS1pbnNldCB1aS1jb3JuZXItYWxsIikpfX0pLGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzPXtleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkSWNvbjoicGx1cyIsY29udGVudFRoZW1lOiJpbmhlcml0IixleHBhbmRlZEljb246Im1pbnVzIixpY29ucG9zOiJsZWZ0IixpbnNldDohMCxjb3JuZXJzOiEwLG1pbmk6ITF9fShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3Nlcz17X2dldFZpc2libGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGI/Yz1hLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTooYz1hLmZpbHRlcigiOnZpc2libGUiKSwwPT09Yy5sZW5ndGgmJihjPWEubm90KCIudWktc2NyZWVuLWhpZGRlbiIpKSksY30sX2FkZEZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKSxiLmVxKDApLmFkZENsYXNzKCJ1aS1maXJzdC1jaGlsZCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcygidWktbGFzdC1jaGlsZCIpLGN8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX0sX3JlbW92ZUZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9Ijptb2JpbGUtY29sbGFwc2libGUsICIrYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yO2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIixvcHRpb25zOmEuZXh0ZW5kKHtlbmhhbmNlZDohMX0sYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMpLF9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZDpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtjLnBhcmVudCgpLmlzKCI6bW9iaWxlLWNvbGxhcHNpYmxlc2V0LCA6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGU6bm90KC51aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQpIikuY29sbGFwc2libGUoImNvbGxhcHNlIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X2NsYXNzZXM6IiJ9KSxjLmVuaGFuY2VkfHwoYi5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0ICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsYy50aGVtZSkrIiAiKyhjLmNvcm5lcnMmJmMuaW5zZXQ/InVpLWNvcm5lci1hbGwgIjoiIikpLHRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcikuY29sbGFwc2libGUoKSksdGhpcy5fb24oYix7Y29sbGFwc2libGVleHBhbmQ6Il9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZCJ9KX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/Im5vbmUiPT09Yj8iIjphK2I6IiJ9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMCksdGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpLmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIikuY29sbGFwc2libGUoImV4cGFuZCIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuZWxlbWVudCxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLGEudGhlbWUpO3JldHVybiBlJiZkLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKGUpLGEuY29ybmVycyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYz10aGlzLl9zdXBlcihhKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjptb2JpbGUtY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgicmVmcmVzaCIpLGN9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3RoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYS5jaGlsZHJlbihjKSksYS5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtc2V0IHVpLWNvcm5lci1hbGwgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUiLHRoaXMub3B0aW9ucy50aGVtZSkpLmNoaWxkcmVuKCI6bW9iaWxlLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoImRlc3Ryb3kiKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpO2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlKGQubm90KCIudWktY29sbGFwc2libGUiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhkLHRoaXMuX2dldFZpc2libGVzKGQsYiksYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCExKX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSl9KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4iKX19KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGMsZCxlPWEodGhpcyksZj1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxnPWUuY2hpbGRyZW4oKSxoPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxpPWYuZ3JpZDtpZighaSlpZihnLmxlbmd0aDw9NSlmb3IoZCBpbiBoKWhbZF09PT1nLmxlbmd0aCYmKGk9ZCk7ZWxzZSBpPSJhIixlLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2M9aFtpXSxlLmFkZENsYXNzKCJ1aS1ncmlkLSIraSksZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxjPjEmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksYz4yJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGM+MyYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxjPjQmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxlPWQuZmluZCgiYSIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJpY29uIiksYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywidGhlbWUiKSxkPSJ1aS1idG4iO2MmJihkKz0iIHVpLWJ0bi0iK2MpLGImJihkKz0iIHVpLWljb24tIitiKyIgdWktYnRuLWljb24tIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXt2YXIgYjthKHRoaXMpLmlzKCIudWktZGlzYWJsZWQsIC51aS1idG4tYWN0aXZlIil8fChlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKHRoaXMpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiPWEodGhpcyksYShjKS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpfSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGU7YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246ImNhcmF0LXIiLHNwbGl0SWNvbjoiY2FyYXQtciIsc3BsaXRUaGVtZTpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGluc2V0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSIiO2IrPWEub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixhLm9wdGlvbnMuaW5zZXQmJihiKz1hLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLGIrPWEub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoIiB1aS1saXN0dmlldyIrYiksYS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Zm9yKGVbY109ZVtkXT0hMDthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPWIubGVuZ3RoO2ZvcihjPTA7ZT5jO2MrKylkPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGQubGVuZ3RoJiZhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZFswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhkLmhhc0NsYXNzKCJ1aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIil9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmb3IoZltjXT1mW2RdPSEwLGI9Yi5maXJzdENoaWxkO2I7KWZbYi5ub2RlTmFtZV0mJmUucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZSl9LHJlZnJlc2g6ZnVuY3Rpb24oYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdz10aGlzLm9wdGlvbnMseD10aGlzLmVsZW1lbnQseT10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZSh4WzBdLCJsaSIsIkxJIiksej0hIWEubm9kZU5hbWUoeFswXSwib2wiKSxBPXguYXR0cigic3RhcnQiKSxCPXt9LEM9eC5maW5kKCIudWktbGktY291bnQiKSxEPWIoeFswXSwiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSxFPUQ/InVpLWJvZHktIitEOiJ1aS1ib2R5LWluaGVyaXQiO2Zvcih3LnRoZW1lJiZ4LmFkZENsYXNzKCJ1aS1ncm91cC10aGVtZS0iK3cudGhlbWUpLHomJihBfHwwPT09QSkmJihuPXBhcnNlSW50KEEsMTApLTEseC5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbikpLGU9MCxmPXkubGVuZ3RoO2Y+ZTtlKyspZz15LmVxKGUpLGg9IiIsKGN8fGdbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1saS1zdGF0aWNcYnxcYnVpLWxpLWRpdmlkZXJcYi8pPDApJiYobD10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShnWzBdLCJhIiwiQSIpLG09Imxpc3QtZGl2aWRlciI9PT1iKGdbMF0sInJvbGUiKSxwPWcuYXR0cigidmFsdWUiKSxpPWIoZ1swXSwidGhlbWUiKSxsLmxlbmd0aCYmbFswXS5jbGFzc05hbWUuc2VhcmNoKC9cYnVpLWJ0blxiLyk8MCYmIW0/KGo9YihnWzBdLCJpY29uIiksaz1qPT09ITE/ITE6anx8dy5pY29uLGwucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKSxkPSJ1aS1idG4iLGkmJihkKz0iIHVpLWJ0bi0iK2kpLGwubGVuZ3RoPjE/KGg9InVpLWxpLWhhcy1hbHQiLHE9bC5sYXN0KCkscj1iKHFbMF0sInRoZW1lIil8fHcuc3BsaXRUaGVtZXx8YihnWzBdLCJ0aGVtZSIsITApLHM9cj8iIHVpLWJ0bi0iK3I6IiIsdD1iKHFbMF0sImljb24iKXx8YihnWzBdLCJpY29uIil8fHcuc3BsaXRJY29uLHU9InVpLWJ0biB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi0iK3QrcyxxLmF0dHIoInRpdGxlIixhLnRyaW0ocS5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3ModSkuZW1wdHkoKSk6ayYmKGQrPSIgdWktYnRuLWljb24tcmlnaHQgdWktaWNvbi0iK2spLGwuZmlyc3QoKS5hZGRDbGFzcyhkKSk6bT8odj1iKGdbMF0sInRoZW1lIil8fHcuZGl2aWRlclRoZW1lfHx3LnRoZW1lLGg9InVpLWxpLWRpdmlkZXIgdWktYmFyLSIrKHY/djoiaW5oZXJpdCIpLGcuYXR0cigicm9sZSIsImhlYWRpbmciKSk6bC5sZW5ndGg8PTAmJihoPSJ1aS1saS1zdGF0aWMgdWktYm9keS0iKyhpP2k6ImluaGVyaXQiKSkseiYmcCYmKG89cGFyc2VJbnQocCwxMCktMSxnLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIitvKSkpLEJbaF18fChCW2hdPVtdKSxCW2hdLnB1c2goZ1swXSk7Zm9yKGggaW4gQilhKEJbaF0pLmFkZENsYXNzKGgpO0MuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KSxFJiZDLmFkZENsYXNzKEUpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh5KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMoeS5maW5kKCIudWktYnRuIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoeSx0aGlzLl9nZXRWaXNpYmxlcyh5LGMpLGMpLHRoaXMuX3RyaWdnZXIoImFmdGVycmVmcmVzaCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KCIiKyhhLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiZmlsdGVydGV4dCIpfHxhKHRoaXMpLnRleHQoKSkpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKX07YS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIix7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShmaWx0ZXI9J3RydWUnKSIsb3B0aW9uczp7ZmlsdGVyUmV2ZWFsOiExLGZpbHRlckNhbGxiYWNrOmQsZW5oYW5jZWQ6ITEsaW5wdXQ6bnVsbCxjaGlsZHJlbjoiPiBsaSwgPiBvcHRpb24sIG9wdGdyb3VwIG9wdGlvbnMsIHRib2R5IHRyLCAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIC51aS1idG4ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19zZWFyY2g6bnVsbCxfdGltZXI6MH0pLHRoaXMuX3NldElucHV0KGIuaW5wdXQpLGIuZW5oYW5jZWR8fHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8IiIpLnRvTG93ZXJDYXNlKCkpfSxfb25LZXlVcDpmdW5jdGlvbigpe3ZhciBjLGQsZT10aGlzLl9zZWFyY2g7aWYoZSl7aWYoYz1lLnZhbCgpLnRvTG93ZXJDYXNlKCksZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSwibGFzdHZhbCIpKyIiLGQmJmQ9PT1jKXJldHVybjt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl90aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsImJlZm9yZWZpbHRlciIse2lucHV0OmV9KSxlWzBdLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJsYXN0dmFsIixjKSx0aGlzLl9maWx0ZXJJdGVtcyhjKSx0aGlzLl90aW1lcj0wfSwyNTApfX0sX2dldEZpbHRlcmFibGVJdGVtczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jaGlsZHJlbixkPWM/YS5pc0Z1bmN0aW9uKGMpP2MoKTpjLm5vZGVOYW1lP2EoYyk6Yy5qcXVlcnk/Yzp0aGlzLmVsZW1lbnQuZmluZChjKTp7bGVuZ3RoOjB9O3JldHVybiAwPT09ZC5sZW5ndGgmJihkPWIuY2hpbGRyZW4oKSksZH0sX2ZpbHRlckl0ZW1zOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGg9W10saT1bXSxqPXRoaXMub3B0aW9ucyxrPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2lmKG51bGwhPWIpZm9yKGU9ai5maWx0ZXJDYWxsYmFja3x8ZCxmPWsubGVuZ3RoLGM9MDtmPmM7YysrKWc9ZS5jYWxsKGtbY10sYyxiKT9pOmgsZy5wdXNoKGtbY10pOzA9PT1pLmxlbmd0aD9rW2ouZmlsdGVyUmV2ZWFsPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oInVpLXNjcmVlbi1oaWRkZW4iKTooYShpKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLGEoaCkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSksdGhpcy5fcmVmcmVzaENoaWxkV2lkZ2V0KCl9LF9yZWZyZXNoQ2hpbGRXaWRnZXQ6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdO2ZvcihjPWQubGVuZ3RoLTE7Yz4tMTtjLS0pYj1kW2NdLGEubW9iaWxlW2JdJiYoYj10aGlzLmVsZW1lbnQuZGF0YSgibW9iaWxlLSIrYiksYiYmYS5pc0Z1bmN0aW9uKGIucmVmcmVzaCkmJmIucmVmcmVzaCgpKX0sX3NldElucHV0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuX3NlYXJjaDt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSxkJiYodGhpcy5fb2ZmKGQsImtleXVwIGNoYW5nZSBpbnB1dCIpLGQ9bnVsbCksYyYmKGQ9Yy5qcXVlcnk/YzpjLm5vZGVOYW1lP2EoYyk6dGhpcy5kb2N1bWVudC5maW5kKGMpLHRoaXMuX29uKGQse2tleXVwOiJfb25LZXlVcCIsY2hhbmdlOiJfb25LZXlVcCIsaW5wdXQ6Il9vbktleVVwIn0pKSx0aGlzLl9zZWFyY2g9ZH0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9IShhLmZpbHRlclJldmVhbD09PWMmJmEuZmlsdGVyQ2FsbGJhY2s9PT1jJiZhLmNoaWxkcmVuPT09Yyk7dGhpcy5fc3VwZXIoYSksYS5pbnB1dCE9PWMmJih0aGlzLl9zZXRJbnB1dChhLmlucHV0KSxiPSEwKSxiJiZ0aGlzLnJlZnJlc2goKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTthLmVuaGFuY2VkP2IudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGEuZmlsdGVyUmV2ZWFsKTpiLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl9maWx0ZXJJdGVtcygodGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2gudmFsKCl8fCIiKS50b0xvd2VyQ2FzZSgpKX19KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiLmNhbGwodGhpcyxjKSxhLl9zeW5jVGV4dElucHV0T3B0aW9ucyhjKX19LGQ9LyhefFxzKXVpLWxpLWRpdmlkZXIoXHN8JCkvLGU9YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjazthLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXRoaXMuY2xhc3NOYW1lLm1hdGNoKGQpJiZlLmNhbGwodGhpcyxhLGIpfSxhLndpZGdldCgibW9iaWxlLmZpbHRlcmFibGUiLGEubW9iaWxlLmZpbHRlcmFibGUse29wdGlvbnM6e2ZpbHRlclBsYWNlaG9sZGVyOiJGaWx0ZXIgaXRlbXMuLi4iLGZpbHRlclRoZW1lOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcy5lbGVtZW50LGU9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdLGY9e307Zm9yKHRoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X3dpZGdldDpudWxsfSksYj1lLmxlbmd0aC0xO2I+LTE7Yi0tKWlmKGM9ZVtiXSxhLm1vYmlsZVtjXSl7aWYodGhpcy5fc2V0V2lkZ2V0KGQuZGF0YSgibW9iaWxlLSIrYykpKWJyZWFrO2ZbYysiY3JlYXRlIl09Il9oYW5kbGVDcmVhdGUifXRoaXMuX3dpZGdldHx8dGhpcy5fb24oZCxmKX0sX2hhbmRsZUNyZWF0ZTpmdW5jdGlvbihhKXt0aGlzLl9zZXRXaWRnZXQodGhpcy5lbGVtZW50LmRhdGEoIm1vYmlsZS0iK2EudHlwZS5zdWJzdHJpbmcoMCxhLnR5cGUubGVuZ3RoLTYpKSl9LF9zZXRXaWRnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuX3dpZGdldCYmYSYmKHRoaXMuX3dpZGdldD1hLHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucz1jKHRoaXMsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zKSksdGhpcy5fd2lkZ2V0JiZ0aGlzLl9zeW5jVGV4dElucHV0T3B0aW9ucyh0aGlzLl93aWRnZXQub3B0aW9ucyksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoInVpLWZpbHRlcmFibGUtIit0aGlzLnV1aWQrIi1pbnRlcm5hbCIpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9ITAsZT17fTtpZighYil7aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpKXJldHVybjtkPSExLGI9YSgiPGlucHV0IGRhdGEtIithLm1vYmlsZS5ucysidHlwZT0nc2VhcmNoJyAiKyJwbGFjZWhvbGRlcj0nIitjLmZpbHRlclBsYWNlaG9sZGVyKyInPjwvaW5wdXQ+IikuanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIiwhMCksYSgiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT4iKS5hcHBlbmQoYikuc3VibWl0KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmJsdXIoKX0pLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpLGEubW9iaWxlLnRleHRpbnB1dCYmKG51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZSYmKGUudGhlbWU9Yy5maWx0ZXJUaGVtZSksYi50ZXh0aW5wdXQoZSkpfXRoaXMuX3N1cGVyKGIpLHRoaXMuX3NlYXJjaCYmZCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIixjLmZpbHRlclBsYWNlaG9sZGVyKSxjLmZpbHRlclRoZW1lIT09YiYmdGhpcy5fc2VhcmNoJiZhLm1vYmlsZS50ZXh0aW5wdXQmJnRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsInRoZW1lIixjLmZpbHRlclRoZW1lKSxkfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF9zeW5jVGV4dElucHV0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZCxlPXt9O2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmYS5tb2JpbGUudGV4dGlucHV0KXtmb3IoZCBpbiBhLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLm9wdGlvbnMpY1tkXSE9PWImJihlW2RdPSJ0aGVtZSI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsZSl9fX0pfShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEudHJpbShiLnRleHQoKSl8fG51bGw7cmV0dXJuIGM/Yz1jLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTpudWxsfWEud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOnthdXRvZGl2aWRlcnM6ITEsYXV0b2RpdmlkZXJzU2VsZWN0b3I6Yn0sX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3RoaXMuX29mZihhLCJsaXN0dmlld2FmdGVycmVmcmVzaCIpLHRoaXMuX3JlcGxhY2VEaXZpZGVycygpLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKGEse2xpc3R2aWV3YWZ0ZXJyZWZyZXNoOiJfYWZ0ZXJMaXN0dmlld1JlZnJlc2gifSl9LF9yZXBsYWNlRGl2aWRlcnM6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGg9bnVsbCxpPXRoaXMuZWxlbWVudDtmb3IoaS5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCksZD1pLmZpbmQoImxpIiksYj0wO2I8ZC5sZW5ndGg7YisrKWU9ZFtiXSxmPXRoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihhKGUpKSxmJiZoIT09ZiYmKGc9Yy5jcmVhdGVFbGVtZW50KCJsaSIpLGcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShmKSksZy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZyxlKSksaD1mfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzJiZ0aGlzLl9hZnRlckxpc3R2aWV3UmVmcmVzaCgpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj0vKF58XHMpdWktbGktZGl2aWRlcigkfFxzKS8sYz0vKF58XHMpdWktc2NyZWVuLWhpZGRlbigkfFxzKS87YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2hpZGVkaXZpZGVyczohMH0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGQsZSxmPSEwO2lmKHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuaGlkZWRpdmlkZXJzKWZvcihhPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHRoaXMuZWxlbWVudFswXSwibGkiLCJMSSIpLGQ9YS5sZW5ndGgtMTtkPi0xO2QtLSllPWFbZF0sZS5jbGFzc05hbWUubWF0Y2goYik/KGYmJihlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZSsiIHVpLXNjcmVlbi1oaWRkZW4iKSxmPSEwKTplLmNsYXNzTmFtZS5tYXRjaChjKXx8KGY9ITEpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5ub2pzPWZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsYikuYWRkQ2xhc3MoInVpLW5vanMiKX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiaW5wdXQ6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApIClbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSkiLG9wdGlvbnM6e3RoZW1lOiJpbmhlcml0IixtaW5pOiExLHdyYXBwZXJDbGFzczpudWxsLGVuaGFuY2VkOiExLGljb25wb3M6ImxlZnQifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5qcW1EYXRhKGIpfHxhLmNsb3Nlc3QoImZvcm0sIGZpZWxkc2V0IikuanFtRGF0YShiKX0sZT1iLmNsb3Nlc3QoImxhYmVsIiksZj1lLmxlbmd0aD9lOmIuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQsIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJsYWJlbCIpLmZpbHRlcigiW2Zvcj0nIithLm1vYmlsZS5wYXRoLmhhc2hUb1NlbGVjdG9yKGJbMF0uaWQpKyInXSIpLmZpcnN0KCksZz1iWzBdLnR5cGUsaD1nKyItb24iLGk9ZysiLW9mZiIsaj0idWktIitoLGs9InVpLSIraTsoImNoZWNrYm94Ij09PWd8fCJyYWRpbyI9PT1nKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYiwiaWNvbnBvcyIpfHxmLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIpfHxjLmljb25wb3MsYy5taW5pPWQoYiwibWluaSIpfHxjLm1pbmksYS5leHRlbmQodGhpcyx7aW5wdXQ6YixsYWJlbDpmLHBhcmVudExhYmVsOmUsaW5wdXR0eXBlOmcsY2hlY2tlZENsYXNzOmosdW5jaGVja2VkQ2xhc3M6ayxjaGVja2VkaWNvbjpoLHVuY2hlY2tlZGljb246aX0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGYse3Ztb3VzZW92ZXI6Il9oYW5kbGVMYWJlbFZNb3VzZU92ZXIiLHZjbGljazoiX2hhbmRsZUxhYmVsVkNsaWNrIn0pLHRoaXMuX29uKGIse3Ztb3VzZWRvd246Il9jYWNoZVZhbHMiLHZjbGljazoiX2hhbmRsZUlucHV0VkNsaWNrIixmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMiLGJsdXI6Il9oYW5kbGVJbnB1dEJsdXIifSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoInVpLWJ0biB1aS1jb3JuZXItYWxsIiksdGhpcy5wYXJlbnRMYWJlbC5sZW5ndGg+MD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcz90aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzOiIiKSsiIHVpLSIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8iIHVpLWRpc2FibGVkIjoiIikrIicgPiIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7YS5pcygiOmNoZWNrZWQiKT8oYS5wcm9wKCJjaGVja2VkIiwhMCksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QoYSkucHJvcCgiY2hlY2tlZCIsITEpKTphLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKX0sX2hhbmRsZUxhYmVsVk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt0aGlzLmxhYmVsLnBhcmVudCgpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KX0sX2hhbmRsZUxhYmVsVkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtyZXR1cm4gYi5pcygiOmRpc2FibGVkIik/KGEucHJldmVudERlZmF1bHQoKSx2b2lkIDApOih0aGlzLl9jYWNoZVZhbHMoKSxiLnByb3AoImNoZWNrZWQiLCJyYWRpbyI9PT10aGlzLmlucHV0dHlwZSYmITB8fCFiLnByb3AoImNoZWNrZWQiKSksYi50cmlnZ2VySGFuZGxlcigiY2xpY2siKSx0aGlzLl9nZXRJbnB1dFNldCgpLm5vdChiKS5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy5fdXBkYXRlQWxsKCksITEpfSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiJjaGVja2JveCI9PT10aGlzLmlucHV0dHlwZT90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJpbnB1dFtuYW1lPSciK3RoaXMuZWxlbWVudFswXS5uYW1lKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpOyh0aGlzLmNoZWNrZWR8fCJjaGVja2JveCI9PT1iLmlucHV0dHlwZSkmJmMudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50WzBdLGM9IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGQ9MD09PXRoaXMuZWxlbWVudC5wYXJlbnRzKCIudWktY29udHJvbGdyb3VwLWhvcml6b250YWwiKS5sZW5ndGgsZT10aGlzLmNoZWNrZWRDbGFzcysoZD8iIjpjKSxmPXRoaXMubGFiZWw7Zi50b2dnbGVDbGFzcygidWktaWNvbi0iK3RoaXMuY2hlY2tlZGljb24sYi5jaGVja2VkKS50b2dnbGVDbGFzcygidWktaWNvbi0iK3RoaXMudW5jaGVja2VkaWNvbiwhYi5jaGVja2VkKSxiLmNoZWNrZWQ/Zi5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzK2MpLmFkZENsYXNzKGUpOmYucmVtb3ZlQ2xhc3MoZSkuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsLnBhcmVudCgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLmRpc2FibGVkIT09YiYmKHRoaXMuaW5wdXQucHJvcCgiZGlzYWJsZWQiLCEhYy5kaXNhYmxlZCksdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktZGlzYWJsZWQiLCEhYy5kaXNhYmxlZCkpLGMubWluaSE9PWImJnRoaXMubGFiZWwucGFyZW50KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLCEhYy5taW5pKSxjLnRoZW1lIT09YiYmdGhpcy5sYWJlbC5yZW1vdmVDbGFzcygidWktYnRuLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYy50aGVtZSksYy53cmFwcGVyQ2xhc3MhPT1iJiZ0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGMud3JhcHBlckNsYXNzKSxjLmljb25wb3MhPT1iJiYwPT09dGhpcy5lbGVtZW50LnBhcmVudHMoIltkYXRhLSIrYS5tb2JpbGUubnMrInR5cGU9J2hvcml6b250YWwnXSIpLmxlbmd0aD90aGlzLmxhYmVsLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK3RoaXMub3B0aW9ucy5pY29ucG9zKS5hZGRDbGFzcygidWktYnRuLWljb24tIitjLmljb25wb3MpOjAhPT10aGlzLmVsZW1lbnQucGFyZW50cygiW2RhdGEtIithLm1vYmlsZS5ucysidHlwZT0naG9yaXpvbnRhbCddIikubGVuZ3RoJiZ0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK3RoaXMub3B0aW9ucy5pY29ucG9zKSx0aGlzLl9zdXBlcihjKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nYnV0dG9uJ10sIGlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdyZXNldCddIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOiJsZWZ0IixpY29uc2hhZG93OiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCx3cmFwcGVyQ2xhc3M6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0ndWktYnRuIHVpLWlucHV0LWJ0biIrKHRoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M/IiAiK3RoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M6IiIpKyh0aGlzLm9wdGlvbnMudGhlbWU/IiB1aS1idG4tIit0aGlzLm9wdGlvbnMudGhlbWU6IiIpKyh0aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiKSsodGhpcy5vcHRpb25zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpKyh0aGlzLm9wdGlvbnMuaW5saW5lPyIgdWktYnRuLWlubGluZSI6IiIpKyh0aGlzLm9wdGlvbnMubWluaT8iIHVpLW1pbmkiOiIiKSsodGhpcy5vcHRpb25zLmRpc2FibGVkPyIgdWktZGlzYWJsZWQiOiIiKSsodGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMub3B0aW9ucy5pY29uPyIgdWktYnRuLWljb24tIit0aGlzLm9wdGlvbnMuaWNvbnBvczp0aGlzLm9wdGlvbnMuaWNvbj8iIHVpLWJ0bi1pY29uLWxlZnQiOiIiKSsodGhpcy5vcHRpb25zLmljb24/IiB1aS1pY29uLSIrdGhpcy5vcHRpb25zLmljb246IiIpKyInID4iK3RoaXMuZWxlbWVudC52YWwoKSsiPC9kaXY+Iil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndyYXBwZXJ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLmJ1dHRvbiksdGhpcy5idXR0b24ucmVtb3ZlKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1iJiZ0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLWJ0bi0iK2EudGhlbWUpLGEuY29ybmVycyE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS5zaGFkb3chPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGEuc2hhZG93KSxhLmlubGluZSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLWJ0bi1pbmxpbmUiLGEuaW5saW5lKSxhLm1pbmkhPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLGEuaWNvbnBvcyE9PWImJnRoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zKSxhLmljb24hPT1iJiYodGhpcy5vcHRpb25zLmljb25wb3N8fGEuaWNvbnBvc3x8dGhpcy53aWRnZXQudG9nZ2xlQ2xhc3MoInVpLWJ0bi1pY29uLWxlZnQiLGEuaWNvbiksdGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcygidWktaWNvbi0iK3RoaXMub3B0aW9ucy5pY29uKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2EuaWNvbixhLmljb24pKX0scmVmcmVzaDpmdW5jdGlvbihiKXtpZih0aGlzLm9wdGlvbnMuaWNvbiYmIm5vdGV4dCI9PT10aGlzLm9wdGlvbnMuaWNvbnBvcyYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIikmJnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIsdGhpcy5lbGVtZW50LnZhbCgpKSwhYil7dmFyIGM9dGhpcy5lbGVtZW50LmRldGFjaCgpO2EodGhpcy53cmFwcGVyKS50ZXh0KHRoaXMuZWxlbWVudC52YWwoKSkuYXBwZW5kKGMpfX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9YSgibWV0YVtuYW1lPXZpZXdwb3J0XSIpLGM9Yi5hdHRyKCJjb250ZW50IiksZD1jKyIsbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vIixlPWMrIixtYXhpbXVtLXNjYWxlPTEwLCB1c2VyLXNjYWxhYmxlPXllcyIsZj0vKHVzZXItc2NhbGFibGVbXHNdKj1bXHNdKm5vKXwobWF4aW11bS1zY2FsZVtcc10qPVtcc10qMSlbJCxcc10vLnRlc3QoYyk7YS5tb2JpbGUuem9vbT1hLmV4dGVuZCh7fSx7ZW5hYmxlZDohZixsb2NrZWQ6ITEsZGlzYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZHx8KGIuYXR0cigiY29udGVudCIsZCksYS5tb2JpbGUuem9vbS5lbmFibGVkPSExLGEubW9iaWxlLnpvb20ubG9ja2VkPWN8fCExKX0sZW5hYmxlOmZ1bmN0aW9uKGMpe2Z8fGEubW9iaWxlLnpvb20ubG9ja2VkJiZjIT09ITB8fChiLmF0dHIoImNvbnRlbnQiLGUpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMCxhLm1vYmlsZS56b29tLmxvY2tlZD0hMSl9LHJlc3RvcmU6ZnVuY3Rpb24oKXtmfHwoYi5hdHRyKCJjb250ZW50IixjKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITApfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0Iix7aW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhLCBpbnB1dFt0eXBlPSd0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGUnXSwgaW5wdXRbdHlwZT0nbW9udGgnXSwgaW5wdXRbdHlwZT0nd2VlayddLCBpbnB1dFt0eXBlPSdkYXRldGltZSddLCBpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBpbnB1dFt0eXBlPSdjb2xvciddLCBpbnB1dDpub3QoW3R5cGVdKSwgaW5wdXRbdHlwZT0nZmlsZSddIixvcHRpb25zOnt0aGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSx3cmFwcGVyQ2xhc3M6IiIsZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxkPSJURVhUQVJFQSI9PT10aGlzLmVsZW1lbnRbMF0udGFnTmFtZSxlPSh0aGlzLmVsZW1lbnQuaXMoImlucHV0Iil8fHRoaXMuZWxlbWVudC5pcygiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsidHlwZT0nc2VhcmNoJ10iKSkmJiF0aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKTthLmV4dGVuZCh0aGlzLHt0aGVtZWNsYXNzOiJ1aS1ib2R5LSIrKG51bGw9PT1iLnRoZW1lPyJpbmhlcml0IjpiLnRoZW1lKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpbnB1dE5lZWRzV3JhcDplfSksdGhpcy5fYXV0b0NvcnJlY3QoKSx0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLGIuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih7Zm9jdXM6Il9oYW5kbGVGb2N1cyIsYmx1cjoiX2hhbmRsZUJsdXIifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnMoe2Rpc2FibGVkOnRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIil9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmlzVGV4dGFyZWEmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLHRoaXMuZWxlbWVudC5pcygidGV4dGFyZWEsIFtkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKSYmKHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc2hhZG93LWluc2V0IiksdGhpcy5fc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpKSx0aGlzLmlucHV0TmVlZHNXcmFwJiZ0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl93cmFwKCkpCn0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXROZWVkc1dyYXA/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudH0sX3dyYXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7cmV0dXJuIGEoIjxkaXYgY2xhc3M9JyIrKHRoaXMuaXNTZWFyY2g/InVpLWlucHV0LXNlYXJjaCAiOiJ1aS1pbnB1dC10ZXh0ICIpKyJ1aS1ib2R5LSIrKG51bGw9PT1iLnRoZW1lPyJpbmhlcml0IjpiLnRoZW1lKSsiICIrKGIuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSsoYi5taW5pPyJ1aS1taW5pICI6IiIpKyhiLmRpc2FibGVkPyJ1aS1zdGF0ZS1kaXNhYmxlZCAiOiIiKSsoIiIhPT1iLndyYXBwZXJDbGFzcz9iLndyYXBwZXJDbGFzcysiICI6IiIpKyJ1aS1zaGFkb3ctaW5zZXQnPjwvZGl2PiIpfSxfYXV0b0NvcnJlY3Q6ZnVuY3Rpb24oKXsidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuZWxlbWVudFswXS5hdXRvY29ycmVjdHx8YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fCh0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLHRoaXMuZWxlbWVudFswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpKX0sX2hhbmRsZUJsdXI6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyksdGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sX2hhbmRsZUZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksdGhpcy5lbGVtZW50LmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMud2lkZ2V0KCk7dGhpcy5fc3VwZXIoYSksYS50aGVtZSE9PWImJihjPSJ1aS1ib2R5LSIrKG51bGw9PT1hLnRoZW1lPyJpbmhlcml0IjphLnRoZW1lKSxkLnJlbW92ZUNsYXNzKHRoaXMudGhlbWVjbGFzcykuYWRkQ2xhc3MoYyksdGhpcy50aGVtZWNsYXNzPWMpLGEuY29ybmVycyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS5taW5pIT09YiYmZC50b2dnbGVDbGFzcygidWktbWluaSIsYS5taW5pKSxhLmRpc2FibGVkIT09YiYmKHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISFhLmRpc2FibGVkKSxkLnRvZ2dsZUNsYXNzKCJ1aS1kaXNhYmxlZCIsISFhLmRpc2FibGVkKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5pbnB1dE5lZWRzV3JhcCYmdGhpcy5lbGVtZW50LnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaW5wdXQtdGV4dCAiK3RoaXMudGhlbWVjbGFzcysiIHVpLWNvcm5lci1hbGwgdWktbWluaSB1aS1kaXNhYmxlZCIpKX19KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLGhpZ2hsaWdodDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlLGYsZyxoLGksaixrLGwsbSxuLG89dGhpcyxwPXRoaXMuZWxlbWVudCxxPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxhLm1vYmlsZS5nZXRBdHRyaWJ1dGUocFswXSwidGhlbWUiKSxyPXE/IiB1aS1iYXItIitxOiIgdWktYmFyLWluaGVyaXQiLHM9dGhpcy5vcHRpb25zLmNvcm5lcnN8fHAuanFtRGF0YSgiY29ybmVycyIpPyIgdWktY29ybmVyLWFsbCI6IiIsdD10aGlzLm9wdGlvbnMubWluaXx8cC5qcW1EYXRhKCJtaW5pIik/IiB1aS1taW5pIjoiIix1PXBbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx2PSJzZWxlY3QiPT09dSx3PXAucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J3Jhbmdlc2xpZGVyJykiKSx4PXY/InVpLXNsaWRlci1zd2l0Y2giOiIiLHk9cC5hdHRyKCJpZCIpLHo9YSgiW2Zvcj0nIit5KyInXSIpLEE9ei5hdHRyKCJpZCIpfHx5KyItbGFiZWwiLEI9dj8wOnBhcnNlRmxvYXQocC5hdHRyKCJtaW4iKSksQz12P3AuZmluZCgib3B0aW9uIikubGVuZ3RoLTE6cGFyc2VGbG9hdChwLmF0dHIoIm1heCIpKSxEPWIucGFyc2VGbG9hdChwLmF0dHIoInN0ZXAiKXx8MSksRT1jLmNyZWF0ZUVsZW1lbnQoImEiKSxGPWEoRSksRz1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLEg9YShHKSxJPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF2P2Z1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKEgpfSgpOiExO2lmKHouYXR0cigiaWQiLEEpLHRoaXMuaXNUb2dnbGVTd2l0Y2g9dixFLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxHLnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIiksRy5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0ICI6InVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgIix4LHIscyx0XS5qb2luKCIiKSxFLmNsYXNzTmFtZT0idWktc2xpZGVyLWhhbmRsZSIsRy5hcHBlbmRDaGlsZChFKSxGLmF0dHIoe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVtaW4iOkIsImFyaWEtdmFsdWVtYXgiOkMsImFyaWEtdmFsdWVub3ciOnRoaXMuX3ZhbHVlKCksImFyaWEtdmFsdWV0ZXh0Ijp0aGlzLl92YWx1ZSgpLHRpdGxlOnRoaXMuX3ZhbHVlKCksImFyaWEtbGFiZWxsZWRieSI6QX0pLGEuZXh0ZW5kKHRoaXMse3NsaWRlcjpILGhhbmRsZTpGLGNvbnRyb2w6cCx0eXBlOnUsc3RlcDpELG1heDpDLG1pbjpCLHZhbHVlYmc6SSxpc1Jhbmdlc2xpZGVyOncsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHYpe2ZvcihrPXAuYXR0cigidGFiaW5kZXgiKSxrJiZGLmF0dHIoInRhYmluZGV4IixrKSxwLmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpLEYuZm9jdXMoKX0pLGY9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0IixnPTAsaD1HLmNoaWxkTm9kZXMubGVuZ3RoO2g+ZztnKyspZi5hcHBlbmRDaGlsZChHLmNoaWxkTm9kZXNbZ10pO2ZvcihHLmFwcGVuZENoaWxkKGYpLEYuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxlPXAuZmluZCgib3B0aW9uIiksaT0wLGo9ZS5sZW5ndGg7aj5pO2krKylsPWk/ImEiOiJiIixtPWk/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIiLG49Yy5jcmVhdGVFbGVtZW50KCJzcGFuIiksbi5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsbCxtXS5qb2luKCIiKSxuLnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLG4uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW2ldLmlubmVySFRNTCkpLGEobikucHJlcGVuZFRvKEgpO28uX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIixIKX1wLmFkZENsYXNzKHY/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihwLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSxILmJpbmQoInZtb3VzZWRvd24iLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oSC5hZGQoYykse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksSC5pbnNlcnRBZnRlcihwKSx2fHx3fHwoZj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixwLmFkZChIKS53cmFwQWxsKGYpKSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjoiX2hhbmRsZVZNb3VzZURvd24iLGtleWRvd246Il9oYW5kbGVLZXlkb3duIixrZXl1cDoiX2hhbmRsZUtleXVwIn0pLHRoaXMuaGFuZGxlLmJpbmQoInZjbGljayIsITEpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChkLGQsITApfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09ZCYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEuY29ybmVycyE9PWQmJnRoaXMuX3NldENvcm5lcnMoYS5jb3JuZXJzKSxhLm1pbmkhPT1kJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1kJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLGEuZGlzYWJsZWQhPT1kJiZ0aGlzLl9zZXREaXNhYmxlZChhLmRpc2FibGVkKSx0aGlzLl9zdXBlcihhKX0sX2NvbnRyb2xDaGFuZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImNvbnRyb2xjaGFuZ2UiLGEpPT09ITE/ITE6KHRoaXMubW91c2VNb3ZlZHx8dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApLHZvaWQgMCl9LF9jb250cm9sS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCwhMCl9LF9jb250cm9sQmx1cjpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbigpe3RoaXMuX2NoZWNrZWRSZWZyZXNoKCl9LF9oYW5kbGVWTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fdmFsdWUoKTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5U2xpZGluZ3x8KHRoaXMuX2tleVNsaWRpbmc9ITAsdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX1zd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTp0aGlzLnJlZnJlc2godGhpcy5taW4pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6dGhpcy5yZWZyZXNoKHRoaXMubWF4KTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOnRoaXMucmVmcmVzaChjK3RoaXMuc3RlcCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDp0aGlzLnJlZnJlc2goYy10aGlzLnN0ZXApfX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9LF9zbGlkZXJWTW91c2VEb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fDEhPT1hLndoaWNoJiYwIT09YS53aGljaCYmYS53aGljaCE9PWQ/ITE6dGhpcy5fdHJpZ2dlcigiYmVmb3Jlc3RhcnQiLGEpPT09ITE/ITE6KHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy51c2VyTW9kaWZpZWQ9ITEsdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmJlZm9yZVN0YXJ0PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KSx0aGlzLnJlZnJlc2goYSksdGhpcy5fdHJpZ2dlcigic3RhcnQiKSwhMSl9LF9zbGlkZXJWTW91c2VVcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYWdnaW5nPyh0aGlzLmRyYWdnaW5nPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMubW91c2VNb3ZlZD90aGlzLnVzZXJNb2RpZmllZD90aGlzLnJlZnJlc2goMD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKTp0aGlzLnJlZnJlc2godGhpcy5iZWZvcmVTdGFydCk6dGhpcy5yZWZyZXNoKDA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCkpLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLl90cmlnZ2VyKCJzdG9wIiksITEpOnZvaWQgMH0sX3ByZXZlbnREb2N1bWVudERyYWc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImRyYWciLGEpPT09ITE/ITE6dGhpcy5kcmFnZ2luZyYmIXRoaXMub3B0aW9ucy5kaXNhYmxlZD8odGhpcy5tb3VzZU1vdmVkPSEwLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKGEpLHRoaXMudXNlck1vZGlmaWVkPXRoaXMuYmVmb3JlU3RhcnQhPT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCwhMSk6dm9pZCAwfSxfY2hlY2tlZFJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnZhbHVlIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvZ2dsZVN3aXRjaD90aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDpwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaChkLCExLCEwKX0scmVmcmVzaDpmdW5jdGlvbihiLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6PXRoaXMsQT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcy5lbGVtZW50WzBdLCJ0aGVtZSIpLEI9dGhpcy5vcHRpb25zLnRoZW1lfHxBLEM9Qj8iIHVpLWJ0bi0iK0I6IiIsRD10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8QSxFPUQ/IiB1aS1iYXItIitEOiIgdWktYmFyLWluaGVyaXQiLEY9dGhpcy5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixHPXRoaXMub3B0aW9ucy5taW5pPyIgdWktbWluaSI6IiI7aWYoei5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IjoidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCIsRSxGLEddLmpvaW4oIiIpLCh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy52YWx1ZT10aGlzLl92YWx1ZSgpLHRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoJiYwPT09dGhpcy5zbGlkZXIuZmluZCgiLnVpLXNsaWRlci1iZyIpLmxlbmd0aCYmKHRoaXMudmFsdWViZz1mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxhKGIpLnByZXBlbmRUbyh6LnNsaWRlcil9KCkpLHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1idG4iK0MrIiB1aS1zaGFkb3ciKSxsPXRoaXMuZWxlbWVudCxtPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLG49bT9bXTpsLmZpbmQoIm9wdGlvbiIpLG89bT9wYXJzZUZsb2F0KGwuYXR0cigibWluIikpOjAscD1tP3BhcnNlRmxvYXQobC5hdHRyKCJtYXgiKSk6bi5sZW5ndGgtMSxxPW0mJnBhcnNlRmxvYXQobC5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk6MSwib2JqZWN0Ij09dHlwZW9mIGIpe2lmKGg9YixpPTgsZj10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LGc9dGhpcy5zbGlkZXIud2lkdGgoKSxqPWcvKChwLW8pL3EpLCF0aGlzLmRyYWdnaW5nfHxoLnBhZ2VYPGYtaXx8aC5wYWdlWD5mK2craSlyZXR1cm47az1qPjE/MTAwKigoaC5wYWdlWC1mKS9nKTpNYXRoLnJvdW5kKDEwMCooKGgucGFnZVgtZikvZykpfWVsc2UgbnVsbD09YiYmKGI9bT9wYXJzZUZsb2F0KGwudmFsKCl8fDApOmxbMF0uc2VsZWN0ZWRJbmRleCksaz0xMDAqKChwYXJzZUZsb2F0KGIpLW8pLyhwLW8pKTtpZighaXNOYU4oaykmJihyPWsvMTAwKihwLW8pK28scz0oci1vKSVxLHQ9ci1zLDIqTWF0aC5hYnMocyk+PXEmJih0Kz1zPjA/cTotcSksdT0xMDAvKChwLW8pL3EpLHI9cGFyc2VGbG9hdCh0LnRvRml4ZWQoNSkpLCJ1bmRlZmluZWQiPT10eXBlb2YgaiYmKGo9Zy8oKHAtbykvcSkpLGo+MSYmbSYmKGs9KHItbykqdSooMS9xKSksMD5rJiYoaz0wKSxrPjEwMCYmKGs9MTAwKSxvPnImJihyPW8pLHI+cCYmKHI9cCksdGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixrKyIlIiksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93IixtP3I6bi5lcShyKS5hdHRyKCJ2YWx1ZSIpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWV0ZXh0IixtP3I6bi5lcShyKS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoInRpdGxlIixtP3I6bi5lcShyKS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixrKyIlIiksdGhpcy5fbGFiZWxzJiYodj0xMDAqKHRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSksdz1rJiZ2KygxMDAtdikqay8xMDAseD0xMDA9PT1rPzA6TWF0aC5taW4odisxMDAtdywxMDApLHRoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5oYXNDbGFzcygidWktc2xpZGVyLWxhYmVsLWEiKTthKHRoaXMpLndpZHRoKChiP3c6eCkrIiUiKX0pKSwhZSkpe2lmKHk9ITEsbT8oeT1sLnZhbCgpIT09cixsLnZhbChyKSk6KHk9bFswXS5zZWxlY3RlZEluZGV4IT09cixsWzBdLnNlbGVjdGVkSW5kZXg9ciksdGhpcy5fdHJpZ2dlcigiYmVmb3JlY2hhbmdlIixiKT09PSExKXJldHVybiExOyFkJiZ5JiZsLnRyaWdnZXIoImNoYW5nZSIpfX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXthPSEhYSxhPyh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0PSEhYSx0aGlzLnJlZnJlc2goKSk6dGhpcy52YWx1ZWJnJiYodGhpcy52YWx1ZWJnLnJlbW92ZSgpLHRoaXMudmFsdWViZz0hMSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktYnRuLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYSk7dmFyIGI9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIsYz1hP2E6ImluaGVyaXQiO3RoaXMuY29udHJvbC5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitiKS5hZGRDbGFzcygidWktYm9keS0iK2MpfSxfc2V0TWluaTpmdW5jdGlvbihhKXthPSEhYSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmlzUmFuZ2VzbGlkZXJ8fCh0aGlzLnNsaWRlci5wYXJlbnQoKS50b2dnbGVDbGFzcygidWktbWluaSIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYSksdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dGhpcy5jb250cm9sLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsYSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLWRpc2FibGVkIixhKS5hdHRyKCJhcmlhLWRpc2FibGVkIixhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmZsaXBzd2l0Y2giLGEuZXh0ZW5kKHtvcHRpb25zOntvblRleHQ6Ik9uIixvZmZUZXh0OiJPZmYiLHRoZW1lOm51bGwsZW5oYW5jZWQ6ITEsd3JhcHBlckNsYXNzOm51bGwsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZD9hLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOnRoaXMuZWxlbWVudC5wYXJlbnQoKSxvbjp0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWZsaXBzd2l0Y2gtb24iKS5lcSgwKSxvZmY6dGhpcy5lbGVtZW50LmZpbmQoIi51aS1mbGlwc3dpdGNoLW9mZiIpLmVxKDApLHR5cGU6dGhpcy5lbGVtZW50LmdldCgwKS50YWdOYW1lfSk6dGhpcy5fZW5oYW5jZSgpLHRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJnRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSksdGhpcy5fb24odGhpcy5mbGlwc3dpdGNoLHtjbGljazoiX3RvZ2dsZSIsc3dpcGVsZWZ0OiJfbGVmdCIsc3dpcGVyaWdodDoiX3JpZ2h0In0pLHRoaXMuX29uKHRoaXMub24se2tleWRvd246Il9rZXlkb3duIn0pfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbGlwc3dpdGNofSxfbGVmdDpmdW5jdGlvbigpe3RoaXMuZmxpcHN3aXRjaC5yZW1vdmVDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKSwiU0VMRUNUIj09PXRoaXMudHlwZT90aGlzLmVsZW1lbnQuZ2V0KDApLnNlbGVjdGVkSW5kZXg9MDp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIsITApLHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpfSxfcmlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIiksIlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTE6dGhpcy5lbGVtZW50LnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYj1hKCI8ZGl2PiIpLGM9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIsZD1hKCI8c3BhbiB0YWJpbmRleD0nMSc+PC9zcGFuPiIpLGU9YSgiPHNwYW4+PC9zcGFuPiIpLGY9dGhpcy5lbGVtZW50LmdldCgwKS50YWdOYW1lLGc9IklOUFVUIj09PWY/dGhpcy5vcHRpb25zLm9uVGV4dDp0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uIikuZXEoMSkudGV4dCgpLGg9IklOUFVUIj09PWY/dGhpcy5vcHRpb25zLm9mZlRleHQ6dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtkLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGcpLGUuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChoKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLWJhci0iK2MrIiAiKyh0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzP3RoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M6IiIpKyIgIisodGhpcy5lbGVtZW50LmlzKCI6Y2hlY2tlZCIpfHx0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uIikuZXEoMSkuaXMoIjpzZWxlY3RlZCIpPyJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSI6IiIpKyh0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsodGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChkLGUpLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZmxpcHN3aXRjaC1pbnB1dCIpLHRoaXMuZWxlbWVudC5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZCxvZmY6ZSx0eXBlOmZ9KX0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBhO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQuaXMoIjpjaGVja2VkIik/Il9yaWdodCI6Il9sZWZ0Iix0aGlzW2FdKCl9LF90b2dnbGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZsaXBzd2l0Y2guaGFzQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIik/Il9sZWZ0IjoiX3JpZ2h0Ijt0aGlzW2FdKCl9LF9rZXlkb3duOmZ1bmN0aW9uKGIpe2Iud2hpY2g9PT1hLm1vYmlsZS5rZXlDb2RlLkxFRlQ/dGhpcy5fbGVmdCgpOmIud2hpY2g9PT1hLm1vYmlsZS5rZXlDb2RlLlJJR0hUP3RoaXMuX3JpZ2h0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UmJih0aGlzLl90b2dnbGUoKSxiLnByZXZlbnREZWZhdWx0KCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXtpZihhLnRoZW1lIT09Yil7dmFyIGM9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0IixkPWEudGhlbWU/YS50aGVtZToiaW5oZXJpdCI7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcygidWktYmFyLSIrYykuYWRkQ2xhc3MoInVpLWJhci0iK2QpfWEub25UZXh0IT09YiYmdGhpcy5vbi50ZXh0KGEub25UZXh0KSxhLm9mZlRleHQhPT1iJiZ0aGlzLm9mZi50ZXh0KGEub2ZmVGV4dCksYS5kaXNhYmxlZCE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIixhLmRpc2FibGVkKSxhLm1pbmkhPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLHRoaXMuX3N1cGVyKGEpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMub24ucmVtb3ZlKCksdGhpcy5vZmYucmVtb3ZlKCksdGhpcy5lbGVtZW50LnVud3JhcCgpLHRoaXMuZmxpcHN3aXRjaC5yZW1vdmUoKSx0aGlzLnJlbW92ZUNsYXNzKCJ1aS1mbGlwc3dpdGNoLWlucHV0IikpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLm1pbmk/InVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiOiJ1aS1yYW5nZXNsaWRlciIsZD1iLmZpbmQoImlucHV0IikuZmlyc3QoKSxlPWIuZmluZCgiaW5wdXQiKS5sYXN0KCksZj1iLmZpbmQoImxhYmVsIikuZmlyc3QoKSxnPWEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnNsaWRlcixoPWEuZGF0YShlLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnNsaWRlcixpPWEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZSxqPWEoIjxkaXYgY2xhc3M9J3VpLXJhbmdlc2xpZGVyLXNsaWRlcnMnIC8+IikuYXBwZW5kVG8oYik7ZC5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxlLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1sYXN0IiksYi5hZGRDbGFzcyhjKSxnLmFwcGVuZFRvKGopLGguYXBwZW5kVG8oaiksZi5pbnNlcnRCZWZvcmUoYiksaS5wcmVwZW5kVG8oaCksYS5leHRlbmQodGhpcyx7X2lucHV0Rmlyc3Q6ZCxfaW5wdXRMYXN0OmUsX3NsaWRlckZpcnN0OmcsX3NsaWRlckxhc3Q6aCxfbGFiZWw6ZixfdGFyZ2V0VmFsOm51bGwsX3NsaWRlclRhcmdldDohMSxfc2xpZGVyczpqLF9wcm94eTohMX0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dC51aS1zbGlkZXItaW5wdXQiKSx7c2xpZGViZWZvcmVzdGFydDoiX3NsaWRlYmVmb3Jlc3RhcnQiLHNsaWRlc3RvcDoiX3NsaWRlc3RvcCIsc2xpZGVkcmFnOiJfc2xpZGVkcmFnIixzbGlkZWJlZm9yZWNoYW5nZToiX2NoYW5nZSIsYmx1cjoiX2NoYW5nZSIsa2V5dXA6Il9jaGFuZ2UifSksdGhpcy5fb24oe21vdXNlZG93bjoiX2NoYW5nZSJ9KSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDoiX2hhbmRsZVJlc2V0In0pLHRoaXMuX29uKGkse3Ztb3VzZWRvd246Il9kcmFnRmlyc3RIYW5kbGUifSl9LF9oYW5kbGVSZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuX3VwZGF0ZUhpZ2hsaWdodCgpfSwwKX0sX2RyYWdGaXJzdEhhbmRsZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikucmVmcmVzaChiKSwhMX0sX3NsaWRlZHJhZzpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KSxkPWM/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7cmV0dXJuIHRoaXMuX3NsaWRlclRhcmdldD0hMSwiZmlyc3QiPT09dGhpcy5fcHJveHkmJmN8fCJsYXN0Ij09PXRoaXMuX3Byb3h5JiYhYz8oYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikucmVmcmVzaChiKSwhMSk6dm9pZCAwfSxfc2xpZGVzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpO3RoaXMuX3Byb3h5PSExLHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dCIpLnRyaWdnZXIoInZtb3VzZXVwIiksdGhpcy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixjPzE6IiIpfSxfc2xpZGViZWZvcmVzdGFydDpmdW5jdGlvbihiKXt0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsYShiLm9yaWdpbmFsRXZlbnQudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLXRyYWNrIikmJih0aGlzLl9zbGlkZXJUYXJnZXQ9ITAsdGhpcy5fdGFyZ2V0VmFsPWEoYi50YXJnZXQpLnZhbCgpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7YS50aGVtZSE9PWImJnRoaXMuX3NldFRoZW1lKGEudGhlbWUpLGEudHJhY2tUaGVtZSE9PWImJnRoaXMuX3NldFRyYWNrVGhlbWUoYS50cmFja1RoZW1lKSxhLm1pbmkhPT1iJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1iJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLHRoaXMuX3N1cGVyKGEpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zO2EuZmluZCgiaW5wdXQiKS5zbGlkZXIoe3RoZW1lOmIudGhlbWUsdHJhY2tUaGVtZTpiLnRyYWNrVGhlbWUsZGlzYWJsZWQ6Yi5kaXNhYmxlZCxjb3JuZXJzOmIuY29ybmVycyxtaW5pOmIubWluaSxoaWdobGlnaHQ6Yi5oaWdobGlnaHR9KS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX0sX2NoYW5nZTpmdW5jdGlvbihiKXtpZigia2V5dXAiPT09Yi50eXBlKXJldHVybiB0aGlzLl91cGRhdGVIaWdobGlnaHQoKSwhMTt2YXIgYz10aGlzLGQ9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dEZpcnN0LnZhbCgpLDEwKSxlPXBhcnNlRmxvYXQodGhpcy5faW5wdXRMYXN0LnZhbCgpLDEwKSxmPWEoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGc9Zj90aGlzLl9pbnB1dEZpcnN0OnRoaXMuX2lucHV0TGFzdCxoPWY/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7aWYodGhpcy5faW5wdXRGaXJzdC52YWwoKT50aGlzLl9pbnB1dExhc3QudmFsKCkmJiJtb3VzZWRvd24iPT09Yi50eXBlJiYhYShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUiKSlnLmJsdXIoKTtlbHNlIGlmKCJtb3VzZWRvd24iPT09Yi50eXBlKXJldHVybjtyZXR1cm4gZD5lJiYhdGhpcy5fc2xpZGVyVGFyZ2V0PyhnLnZhbChmP2U6ZCkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdHJpZ2dlcigibm9ybWFsaXplIikpOmQ+ZSYmKGcudmFsKHRoaXMuX3RhcmdldFZhbCkuc2xpZGVyKCJyZWZyZXNoIiksc2V0VGltZW91dChmdW5jdGlvbigpe2gudmFsKGY/ZDplKS5zbGlkZXIoInJlZnJlc2giKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZm9jdXMoKSxjLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGY/IiI6MSksYy5fdHJpZ2dlcigibm9ybWFsaXplIil9LDApLHRoaXMuX3Byb3h5PWY/ImZpcnN0IjoibGFzdCIpLGQ9PT1lPyhhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwwKSk6KGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxjPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxkPWMtYjt0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1iZyIpLmNzcyh7Im1hcmdpbi1sZWZ0IjpiKyIlIix3aWR0aDpkKyIlIn0pfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsInRoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0aGVtZSIsYSl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKX0sX3NldE1pbmk6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsISFhKX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwiaGlnaGxpZ2h0IixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJoaWdobGlnaHQiLGEpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2xhYmVsLnByZXBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXIgdWktbWluaSIpLHRoaXMuX2lucHV0Rmlyc3QuYWZ0ZXIodGhpcy5fc2xpZGVyRmlyc3QpLHRoaXMuX2lucHV0TGFzdC5hZnRlcih0aGlzLl9zbGlkZXJMYXN0KSx0aGlzLl9zbGlkZXJzLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dCIpLnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCB1aS1yYW5nZXNsaWRlci1sYXN0Iikuc2xpZGVyKCJkZXN0cm95Iil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLnRleHRpbnB1dCx7b3B0aW9uczp7Y2xlYXJCdG46ITEsY2xlYXJCdG5UZXh0OiJDbGVhciB0ZXh0In0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksKHRoaXMub3B0aW9ucy5jbGVhckJ0bnx8dGhpcy5pc1NlYXJjaCkmJnRoaXMuX2FkZENsZWFyQnRuKCl9LGNsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhciB1aS1idG4gdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWNvcm5lci1hbGwnIHRpdGxlPSciK3RoaXMub3B0aW9ucy5jbGVhckJ0blRleHQrIic+Iit0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KyI8L2E+Iil9LF9jbGVhckJ0bkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIiksdGhpcy5fY2xlYXJCdG4uYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpLGEucHJldmVudERlZmF1bHQoKX0sX2FkZENsZWFyQnRuOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlQ2xlYXIoKSxhLmV4dGVuZCh0aGlzLHtfY2xlYXJCdG46dGhpcy53aWRnZXQoKS5maW5kKCJhLnVpLWlucHV0LWNsZWFyIil9KSx0aGlzLl9iaW5kQ2xlYXJFdmVudHMoKSx0aGlzLl90b2dnbGVDbGVhcigpfSxfZW5oYW5jZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5jbGVhckJ1dHRvbigpLmFwcGVuZFRvKHRoaXMud2lkZ2V0KCkpLHRoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoInVpLWlucHV0LWhhcy1jbGVhciIpfSxfYmluZENsZWFyRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5fY2xlYXJCdG4se2NsaWNrOiJfY2xlYXJCdG5DbGljayJ9KSx0aGlzLl9vbih7a2V5dXA6Il90b2dnbGVDbGVhciIsY2hhbmdlOiJfdG9nZ2xlQ2xlYXIiLGlucHV0OiJfdG9nZ2xlQ2xlYXIiLGZvY3VzOiJfdG9nZ2xlQ2xlYXIiLGJsdXI6Il90b2dnbGVDbGVhciIsY3V0OiJfdG9nZ2xlQ2xlYXIiLHBhc3RlOiJfdG9nZ2xlQ2xlYXIifSl9LF91bmJpbmRDbGVhcjpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLl9jbGVhckJ0biwiY2xpY2siKSx0aGlzLl9vZmYodGhpcy5lbGVtZW50LCJrZXl1cCBjaGFuZ2UgaW5wdXQgZm9jdXMgYmx1ciBjdXQgcGFzdGUiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5jbGVhcmJ0bj09PWJ8fHRoaXMuZWxlbWVudC5pcygidGV4dGFyZWEsIDpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKXx8KGEuY2xlYXJCdG4/dGhpcy5fYWRkQ2xlYXJCdG4oKTp0aGlzLl9kZXN0cm95Q2xlYXIoKSksYS5jbGVhckJ0blRleHQhPT1iJiZ0aGlzLl9jbGVhckJ0biE9PWImJnRoaXMuX2NsZWFyQnRuLnRleHQoYS5jbGVhckJ0blRleHQpfSxfdG9nZ2xlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3RvZ2dsZUNsZWFyQ2xhc3MiLDApfSxfdG9nZ2xlQ2xlYXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQnRuLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLCF0aGlzLmVsZW1lbnQudmFsKCkpfSxfZGVzdHJveUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKSx0aGlzLl91bmJpbmRDbGVhcigpLl9jbGVhckJ0bi5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX2Rlc3Ryb3lDbGVhcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2F1dG9ncm93OiEwLGtleXVwVGltZW91dEJ1ZmZlcjoxMDB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl9hdXRvZ3JvdygpfSxfYXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLl9vbih7a2V5dXA6Il90aW1lb3V0IixjaGFuZ2U6Il90aW1lb3V0IixpbnB1dDoiX3RpbWVvdXQiLHBhc3RlOiJfdGltZW91dCJ9KSxhLnRyaW0odGhpcy5lbGVtZW50LnZhbCgpKSYmdGhpcy5fb24oITAsYS5tb2JpbGUud2luZG93LHtsb2FkOiJfdGltZW91dCIscGFnZWNoYW5nZToiX3RpbWVvdXQifSl9LF91bmJpbmRBdXRvZ3JvdzpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLmVsZW1lbnQsImtleXVwIGNoYW5nZSBpbnB1dCBwYXN0ZSIpLHRoaXMuX29mZihhLm1vYmlsZS53aW5kb3csImxvYWQgcGFnZWNoYW5nZSIpfSxrZXl1cFRpbWVvdXQ6bnVsbCxfdGltZW91dDpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmtleXVwVGltZW91dCksdGhpcy5rZXl1cFRpbWVvdXQ9dGhpcy5fZGVsYXkoIl91cGRhdGVIZWlnaHQiLHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIpfSxfdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNzcygiaGVpZ2h0IiwiMHB4Iik7dmFyIGEsYixjLGQ9dGhpcy5lbGVtZW50WzBdLnNjcm9sbEhlaWdodCxlPXRoaXMuZWxlbWVudFswXS5jbGllbnRIZWlnaHQsZj1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoImJvcmRlci10b3Atd2lkdGgiKSksZz1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSksaD1mK2csaT1kK2grMTU7MD09PWUmJihhPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygicGFkZGluZy10b3AiKSksYj1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoInBhZGRpbmctYm90dG9tIikpLGM9YStiLGkrPWMpLHRoaXMuZWxlbWVudC5jc3MoImhlaWdodCIsaSsicHgiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5hdXRvZ3JvdyE9PWImJnRoaXMuaXNUZXh0YXJlYSYmKGEuYXV0b2dyb3c/dGhpcy5fYXV0b2dyb3coKTp0aGlzLl91bmJpbmRBdXRvZ3JvdygpKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSk6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJykgKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJjYXJhdC1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITEsb3ZlcmxheVRoZW1lOm51bGwsZGl2aWRlclRoZW1lOm51bGwsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6ITAscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmlubGluZXx8dGhpcy5lbGVtZW50LmpxbURhdGEoImlubGluZSIpLGM9dGhpcy5vcHRpb25zLm1pbml8fHRoaXMuZWxlbWVudC5qcW1EYXRhKCJtaW5pIiksZD0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoZD0iIHVpLWJ0bi1sZWZ0IiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihkPSIgdWktYnRuLXJpZ2h0IiksYiYmKGQrPSIgdWktYnRuLWlubGluZSIpLGMmJihkKz0iIHVpLW1pbmkiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrZCsiJz4iKSx0aGlzLnNlbGVjdElkPXRoaXMuc2VsZWN0LmF0dHIoImlkIil8fCJzZWxlY3QtIit0aGlzLnV1aWQsdGhpcy5idXR0b25JZD10aGlzLnNlbGVjdElkKyItYnV0dG9uIix0aGlzLmxhYmVsPWEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElkKyInXSIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2EubGVuZ3RoPjAmJihhLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iik/InVpLWJ0bi1sZWZ0IjoidWktYnRuLXJpZ2h0IiksdGhpcy5lbGVtZW50Lmluc2VydEFmdGVyKGEpLGEucmVtb3ZlKCkpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCksdGhpcy5idXR0b249dGhpcy5fYnV0dG9uKCk7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxmPXRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYXR0cigiaWQiLHRoaXMuYnV0dG9uSWQpLmFkZENsYXNzKCJ1aS1idG4iKyhkLmljb24/IiB1aS1pY29uLSIrZC5pY29uKyIgdWktYnRuLWljb24tIitlKyhkLmljb25zaGFkb3c/IiB1aS1zaGFkb3ctaWNvbiI6IiIpOiIiKSsoZC50aGVtZT8iIHVpLWJ0bi0iK2QudGhlbWU6IiIpKyhkLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGQuc2hhZG93PyIgdWktc2hhZG93IjoiIikpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZmLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJvZHktaW5oZXJpdCIpLmhpZGUoKS5hcHBlbmRUbyhmLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpLGQubmF0aXZlTWVudSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLGIuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLGIuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLnNlbGVjdGVkKCksZT10aGlzLnBsYWNlaG9sZGVyLGY9YShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uY2hpbGRyZW4oInNwYW4iKS5ub3QoIi51aS1saS1jb3VudCIpLnJlbW92ZSgpLmVuZCgpLmVuZCgpLnByZXBlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZT1kLmxlbmd0aD9kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6Yi5wbGFjZWhvbGRlcixlP2YudGV4dChlKTpmLmh0bWwoIiZuYnNwOyIpLGYuYWRkQ2xhc3MoYi5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3MoZC5hdHRyKCJjbGFzcyIpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSgpKX0sc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdGVkKCk7dGhpcy5pc011bHRpcGxlJiZ0aGlzLmJ1dHRvbkNvdW50W2EubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGEubGVuZ3RoKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKSx0aGlzLnNldEJ1dHRvbkNvdW50KCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITApLHRoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpbmtzPWZ1bmN0aW9uKGIpe2EoYikuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkuZmlsdGVyKCI6anFtRGF0YShyZWw9J3BvcHVwJylbaHJlZl1baHJlZiE9JyddIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD1hKHRoaXMpLmF0dHIoImhyZWYiKSxlPWEubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoZCksZj1kLnN1YnN0cmluZygxKTtiLnNldEF0dHJpYnV0ZSgiYXJpYS1oYXNwb3B1cCIsITApLGIuc2V0QXR0cmlidXRlKCJhcmlhLW93bnMiLGYpLGIuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMSksYShjKS5vbigicG9wdXBhZnRlcm9wZW4iLGUsZnVuY3Rpb24oKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITApfSkub24oInBvcHVwYWZ0ZXJjbG9zZSIsZSxmdW5jdGlvbigpe2Iuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMSl9KX0pLmVuZCgpLm5vdCgiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfX0oYSksZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGU9Yj5hP2MrKGEtYikvMjpNYXRoLm1pbihNYXRoLm1heChjLGQtYi8yKSxjK2EtYil9ZnVuY3Rpb24gZSgpe3ZhciBjPWEubW9iaWxlLndpbmRvdztyZXR1cm57eDpjLnNjcm9sbExlZnQoKSx5OmMuc2Nyb2xsVG9wKCksY3g6Yi5pbm5lcldpZHRofHxjLndpZHRoKCksY3k6Yi5pbm5lckhlaWdodHx8Yy5oZWlnaHQoKX19YS53aWRnZXQoIm1vYmlsZS5wb3B1cCIse29wdGlvbnM6e3dyYXBwZXJDbGFzczpudWxsLHRoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxjbG9zZUxpbmtTZWxlY3RvcjoiYTpqcW1EYXRhKHJlbD0nYmFjaycpIixjbG9zZUxpbmtFdmVudHM6ImNsaWNrLnBvcHVwIixuYXZpZ2F0ZUV2ZW50czoibmF2aWdhdGUucG9wdXAiLGNsb3NlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwIixkaXNtaXNzaWJsZTohMCxlbmhhbmNlZDohMSxoaXN0b3J5OiFhLm1vYmlsZS5icm93c2VyLm9sZElFfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5hdHRyKCJpZCIpLGQ9dGhpcy5vcHRpb25zO2QuaGlzdG9yeT1kLmhpc3RvcnkmJmEubW9iaWxlLmFqYXhFbmFibGVkJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCxhLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6Yi5jbG9zZXN0KCIudWktcGFnZSIpLF91aTpudWxsLF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXF1aXNpdGVzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksMD09PXRoaXMuX3BhZ2UubGVuZ3RoJiYodGhpcy5fcGFnZT1hKCJib2R5IikpLGQuZW5oYW5jZWQ/dGhpcy5fdWk9e2NvbnRhaW5lcjpiLnBhcmVudCgpLHNjcmVlbjpiLnBhcmVudCgpLnByZXYoKSxwbGFjZWhvbGRlcjphKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQoYysiLXBsYWNlaG9sZGVyIikpfToodGhpcy5fdWk9dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihkLnRyYW5zaXRpb24pLl9zZXRUb2xlcmFuY2UoZC50b2xlcmFuY2UpKSx0aGlzLl91aS5mb2N1c0VsZW1lbnQ9dGhpcy5fdWkuY29udGFpbmVyLHRoaXMuX29uKHRoaXMuX3VpLnNjcmVlbix7dmNsaWNrOiJfZWF0RXZlbnRBbmRDbG9zZSJ9KSx0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7Zm9jdXNpbjoiX2hhbmRsZURvY3VtZW50Rm9jdXNJbiJ9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLm9wdGlvbnMsZT1kLndyYXBwZXJDbGFzcyxmPXtzY3JlZW46YSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4gIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGQub3ZlcmxheVRoZW1lKSsiJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIrKGU/IiAiK2U6IiIpKyInPjwvZGl2PiIpfSxnPXRoaXMuZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBnLmFwcGVuZENoaWxkKGYuc2NyZWVuWzBdKSxnLmFwcGVuZENoaWxkKGYuY29udGFpbmVyWzBdKSxjJiYoZi5zY3JlZW4uYXR0cigiaWQiLGMrIi1zY3JlZW4iKSxmLmNvbnRhaW5lci5hdHRyKCJpZCIsYysiLXBvcHVwIiksZi5wbGFjZWhvbGRlci5hdHRyKCJpZCIsYysiLXBsYWNlaG9sZGVyIikuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitjKyIgLS0+IikpLHRoaXMuX3BhZ2VbMF0uYXBwZW5kQ2hpbGQoZyksZi5wbGFjZWhvbGRlci5pbnNlcnRBZnRlcihiKSxiLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1wb3B1cCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZC50aGVtZSkrIiAiKyhkLnNoYWRvdz8idWktb3ZlcmxheS1zaGFkb3cgIjoiIikrKGQuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSkuYXBwZW5kVG8oZi5jb250YWluZXIpLGZ9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksYT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoYSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5faXNPcGVuJiZiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpOnZvaWQgMH0sX2V4cGVjdFJlc2l6ZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIGE9ZSgpO2lmKHRoaXMuX3Jlc2l6ZURhdGEpe2lmKGEueD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueCYmYS55PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy55JiZhLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeCYmYS5jeT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3kpcmV0dXJuITE7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkKX1yZXR1cm4gdGhpcy5fcmVzaXplRGF0YT17dGltZW91dElkOnRoaXMuX2RlbGF5KCJfcmVzaXplVGltZW91dCIsMjAwKSx3aW5kb3dDb29yZGluYXRlczphfSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIikmJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLHRoaXMucmVwb3NpdGlvbih7cG9zaXRpb25Ubzoid2luZG93In0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9zdG9wSWdub3JpbmdSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbz0wfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89dGhpcy5fZGVsYXkoIl9zdG9wSWdub3JpbmdSZXNpemVFdmVudHMiLDFlMyl9LF9oYW5kbGVXaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKCF0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpJiYhdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzfHx0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpfHx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLnJlbW92ZUF0dHIoInN0eWxlIikpfSxfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2U6ZnVuY3Rpb24oKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbihiKXt2YXIgYyxkPWIudGFyZ2V0LGU9dGhpcy5fdWk7aWYodGhpcy5faXNPcGVuKXtpZihkIT09ZS5jb250YWluZXJbMF0pe2lmKGM9YShkKSwwPT09Yy5wYXJlbnRzKCkuZmlsdGVyKGUuY29udGFpbmVyWzBdKS5sZW5ndGgpcmV0dXJuIGEodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5vbmUoImZvY3VzIixmdW5jdGlvbigpe2MuYmx1cigpfSksZS5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtlLmZvY3VzRWxlbWVudFswXT09PWUuY29udGFpbmVyWzBdJiYoZS5mb2N1c0VsZW1lbnQ9Yyl9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjphKyJpbmhlcml0In0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXtyZXR1cm4gYiYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLCJub25lIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksIm5vbmUiPT09dGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPSIiKSx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSkpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPXRoaXMuX3VpLnNjcmVlbjtyZXR1cm4gYS53cmFwcGVyQ2xhc3MhPT1jJiZ0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLnRoZW1lIT09YyYmZC5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGIudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGEudGhlbWUpKSxhLm92ZXJsYXlUaGVtZSE9PWMmJihlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsYi5vdmVybGF5VGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGEub3ZlcmxheVRoZW1lKSksdGhpcy5faXNPcGVuJiZlLmFkZENsYXNzKCJpbiIpKSxhLnNoYWRvdyE9PWMmJmQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdyksYS5jb3JuZXJzIT09YyYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLnRyYW5zaXRpb24hPT1jJiYodGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihhLnRyYW5zaXRpb24pKSxhLnRvbGVyYW5jZSE9PWMmJnRoaXMuX3NldFRvbGVyYW5jZShhLnRvbGVyYW5jZSksYS5kaXNhYmxlZCE9PWMmJmEuZGlzYWJsZWQmJnRoaXMuY2xvc2UoKSx0aGlzLl9zdXBlcihhKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoIiwiKSxhLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KSxkLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGRbMF0pfHwoZS50PWUucj1lLmI9ZS5sPWRbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihkWzBdKXx8KGUudD1lLmI9ZFswXSksaXNOYU4oZFsxXSl8fChlLmw9ZS5yPWRbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihkWzBdKXx8KGUudD1kWzBdKSxpc05hTihkWzFdKXx8KGUucj1kWzFdKSxpc05hTihkWzJdKXx8KGUuYj1kWzJdKSxpc05hTihkWzNdKXx8KGUubD1kWzNdKQp9cmV0dXJuIHRoaXMuX3RvbGVyYW5jZT1lLHRoaXN9LF9jbGFtcFBvcHVwV2lkdGg6ZnVuY3Rpb24oYSl7dmFyIGIsYz1lKCksZD17eDp0aGlzLl90b2xlcmFuY2UubCx5OmMueSt0aGlzLl90b2xlcmFuY2UudCxjeDpjLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OmMuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3JldHVybiBhfHx0aGlzLl91aS5jb250YWluZXIuY3NzKCJtYXgtd2lkdGgiLGQuY3gpLGI9e2N4OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlcldpZHRoKCEwKSxjeTp0aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApfSx7cmM6ZCxtZW51U2l6ZTpifX0sX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb246ZnVuY3Rpb24oYixjKXt2YXIgZSxmPWMucmMsZz1jLm1lbnVTaXplO3JldHVybiBlPXtsZWZ0OmQoZi5jeCxnLmN4LGYueCxiLngpLHRvcDpkKGYuY3ksZy5jeSxmLnksYi55KX0sZS50b3A9TWF0aC5tYXgoMCxlLnRvcCksZS50b3AtPU1hdGgubWluKGUudG9wLE1hdGgubWF4KDAsZS50b3ArZy5jeS1hLm1vYmlsZS5kb2N1bWVudC5oZWlnaHQoKSkpLGV9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oYSx0aGlzLl9jbGFtcFBvcHVwV2lkdGgoKSl9LF9jcmVhdGVQcmVyZXF1aXNpdGVzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7ZT17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxlLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmIoKX0pLGUuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxdWlzaXRlcyYmYygpfSksYS53aGVuKGUuc2NyZWVuLGUuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJihmLl9wcmVyZXF1aXNpdGVzPW51bGwsZCgpKX0pLGYuX3ByZXJlcXVpc2l0ZXM9ZX0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXF1aXNpdGVzLnNjcmVlbi5yZXNvbHZlKCksYi50cmFuc2l0aW9uJiYibm9uZSIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT8odGhpcy5fdWkuY29udGFpbmVyLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lciwicmVzb2x2ZSIpKS5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksdm9pZCAwKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lci5yZXNvbHZlKCksdm9pZCAwKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24oYil7dmFyIGMsZD1udWxsLGY9ZSgpLGc9Yi54LGg9Yi55LGk9Yi5wb3NpdGlvblRvO2lmKGkmJiJvcmlnaW4iIT09aSlpZigid2luZG93Ij09PWkpZz1mLmN4LzIrZi54LGg9Zi5jeS8yK2YueTtlbHNle3RyeXtkPWEoaSl9Y2F0Y2goail7ZD1udWxsfWQmJihkLmZpbHRlcigiOnZpc2libGUiKSwwPT09ZC5sZW5ndGgmJihkPW51bGwpKX1yZXR1cm4gZCYmKGM9ZC5vZmZzZXQoKSxnPWMubGVmdCtkLm91dGVyV2lkdGgoKS8yLGg9Yy50b3ArZC5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoIm51bWJlciIhPT1hLnR5cGUoaCl8fGlzTmFOKGgpKSYmKGg9Zi5jeS8yK2YueSkse3g6Zyx5Omh9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihhKXthPXt4OmEueCx5OmEueSxwb3NpdGlvblRvOmEucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGMsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSx0aGlzLl90cmlnZ2VyKCJhZnRlcm9wZW4iKX0sX29wZW46ZnVuY3Rpb24oYil7dmFyIGM9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLGQ9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9YS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XC5dKykvKSxjPSEhYiYmYlsxXSxkPWEubWF0Y2goL0FuZHJvaWQgKFxkKyg/OlwuXGQrKSkvKSxlPSEhZCYmZFsxXSxmPWEuaW5kZXhPZigiQ2hyb21lIik+LTE7cmV0dXJuIG51bGwhPT1kJiYiNC4wIj09PWUmJmMmJmM+NTM0LjEzJiYhZj8hMDohMX0oKTt0aGlzLl9jcmVhdGVQcmVyZXF1aXNpdGVzKGEubm9vcCxhLm5vb3AsYS5wcm94eSh0aGlzLCJfb3BlblByZXJlcXVpc2l0ZXNDb21wbGV0ZSIpKSx0aGlzLl9jdXJyZW50VHJhbnNpdGlvbj1jLnRyYW5zaXRpb24sdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGMudHJhbnNpdGlvbiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC10cnVuY2F0ZSIpLHRoaXMuX3JlcG9zaXRpb24oYyksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZkJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXF1aXNpdGVzOnRoaXMuX3ByZXJlcXVpc2l0ZXN9KX0sX2Nsb3NlUHJlcmVxdWlzaXRlU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXF1aXNpdGVDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXVpc2l0ZXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fdWkuY29udGFpbmVyO2IucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxhLm1vYmlsZS5wb3B1cC5hY3RpdmU9YyxhKCI6Zm9jdXMiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktaW5oZXJpdCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksYS5tb2JpbGUud2luZG93Lm9mZihnLmNsb3NlRXZlbnRzKSx0aGlzLmVsZW1lbnQudW5kZWxlZ2F0ZShnLmNsb3NlTGlua1NlbGVjdG9yLGcuY2xvc2VMaW5rRXZlbnRzKSx0aGlzLl9jbG9zZShoKSl9LF9iaW5kQ29udGFpbmVyQ2xvc2U6ZnVuY3Rpb24oKXthLm1vYmlsZS53aW5kb3cub24odGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jb250YWluZXJ9LG9wZW46ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9dGhpcyxqPXRoaXMub3B0aW9ucztyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlfHxqLmRpc2FibGVkP3RoaXM6KGEubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksai5oaXN0b3J5PyhoPWEubW9iaWxlLnVybEhpc3RvcnksZD1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGU9YS5tb2JpbGUuYWN0aXZlUGFnZSxmPWU/ZS5oYXNDbGFzcygidWktZGlhbG9nIik6ITEsdGhpcy5fbXlVcmw9Yz1oLmdldEFjdGl2ZSgpLnVybCwoZz1jLmluZGV4T2YoZCk+LTEmJiFmJiZoLmFjdGl2ZUluZGV4PjApPyhpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLHRoaXMpOigtMSE9PWMuaW5kZXhPZihkKXx8Zj9jPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZDpjKz1jLmluZGV4T2YoIiMiKT4tMT9kOiIjIitkLDA9PT1oLmFjdGl2ZUluZGV4JiZjPT09aC5pbml0aWFsRHN0JiYoYys9ZCksYS5tb2JpbGUud2luZG93Lm9uZSgiYmVmb3JlbmF2aWdhdGUiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpfSksdGhpcy51cmxBbHRlcmVkPSEwLGEubW9iaWxlLm5hdmlnYXRlKGMse3JvbGU6ImRpYWxvZyJ9KSx0aGlzKSk6KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksaS5lbGVtZW50LmRlbGVnYXRlKGouY2xvc2VMaW5rU2VsZWN0b3Isai5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7aS5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpcz90aGlzOih0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSx0aGlzKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxlPWEubW9iaWxlLnBhdGgsZj0wPT09ZC5sZW5ndGg/YSgiYm9keSIpOmQsZz1hKGUuaGFzaFRvU2VsZWN0b3IoZS5wYXJzZVVybChiLmF0dHIoImhyZWYiKSkuaGFzaCksZlswXSk7Zy5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGM9Yi5vZmZzZXQoKSxnLnBvcHVwKCJvcGVuIix7eDpjLmxlZnQrYi5vdXRlcldpZHRoKCkvMix5OmMudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25UbzpiLmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSxhLm1vYmlsZS5kb2N1bWVudC5vbigicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXsicG9wdXAiPT09Yy5vcHRpb25zLnJvbGUmJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9Ii51aS1kaXNhYmxlZCwudWktbGktZGl2aWRlciwudWktc2NyZWVuLWhpZGRlbiw6anFtRGF0YShyb2xlPSdwbGFjZWhvbGRlcicpIixlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hW2MrIkFsbCJdKCkubm90KGQpLmZpcnN0KCk7ZS5sZW5ndGgmJihiLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKX07YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS5zZWxlY3RtZW51LHtfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLm5hdGl2ZU1lbnU9YS5uYXRpdmVNZW51fHx0aGlzLmVsZW1lbnQucGFyZW50cygiOmpxbURhdGEocm9sZT0ncG9wdXAnKSw6bW9iaWxlLXBvcHVwIikubGVuZ3RoPjAsdGhpcy5fc3VwZXIoKX0sX2hhbmRsZVNlbGVjdEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmJsdXIoKSx0aGlzLmJ1dHRvbi5mb2N1cygpfSxfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuaXNPcGVufHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/dGhpcy5idXR0b24uYXR0cigiaHJlZiIsIiMiK3RoaXMucG9wdXBJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOnRoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLmRpYWxvZ0lkKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLHRoaXMuaXNPcGVuPSEwKX0sX2hhbmRsZUxpc3RGb2N1czpmdW5jdGlvbihiKXt2YXIgYz0iZm9jdXNpbiI9PT1iLnR5cGU/e3RhYmluZGV4OiIwIixldmVudDoidm1vdXNlb3ZlciJ9Ont0YWJpbmRleDoiLTEiLGV2ZW50OiJ2bW91c2VvdXQifTthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsYy50YWJpbmRleCkudHJpZ2dlcihjLmV2ZW50KX0sX2hhbmRsZUxpc3RLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGUoZCxjLCJwcmV2IiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsIm5leHQiKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSwhMX19LF9oYW5kbGVNZW51UGFnZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLnRoaXNQYWdlLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4ib3ZlcmxheSI9PT10aGlzLm1lbnVUeXBlPyh0aGlzLmNsb3NlKCksITEpOnZvaWQgMH0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMub3B0aW9ucztyZXR1cm4gdi5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6KHU9dGhpcyxjPXRoaXMuc2VsZWN0SWQsZD1jKyItbGlzdGJveCIsZT1jKyItZGlhbG9nIixmPXRoaXMubGFiZWwsZz10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxoPXRoaXMuZWxlbWVudFswXS5tdWx0aXBsZSxpPWMrIi1tZW51IixqPXYudGhlbWU/IiBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK3YudGhlbWUrIiciOiIiLGs9di5vdmVybGF5VGhlbWU/IiBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK3Yub3ZlcmxheVRoZW1lKyInIjoiIixsPXYuZGl2aWRlclRoZW1lJiZoPyIgZGF0YS0iK2EubW9iaWxlLm5zKyJkaXZpZGVyLXRoZW1lPSciK3YuZGl2aWRlclRoZW1lKyInIjoiIixtPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGNsYXNzPSd1aS1zZWxlY3RtZW51JyBpZD0nIitlKyInIitqK2srIj4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitmLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSxuPWEoIjxkaXYgaWQ9JyIrZCsiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIodGhpcy5zZWxlY3QpLnBvcHVwKHt0aGVtZTp2Lm92ZXJsYXlUaGVtZX0pLG89YSgiPHVsIGNsYXNzPSd1aS1zZWxlY3RtZW51LWxpc3QnIGlkPSciK2krIicgcm9sZT0nbGlzdGJveCcgYXJpYS1sYWJlbGxlZGJ5PSciK3RoaXMuYnV0dG9uSWQrIiciK2orbCsiPiIpLmFwcGVuZFRvKG4pLHA9YSgiPGRpdiBjbGFzcz0ndWktaGVhZGVyIHVpLWJhci0iKyh2LnRoZW1lP3YudGhlbWU6ImluaGVyaXQiKSsiJz4iKS5wcmVwZW5kVG8obikscT1hKCI8aDEgY2xhc3M9J3VpLXRpdGxlJz4iKS5hcHBlbmRUbyhwKSx0aGlzLmlzTXVsdGlwbGUmJih0PWEoIjxhPiIse3JvbGU6ImJ1dHRvbiIsdGV4dDp2LmNsb3NlVGV4dCxocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1idG4tbGVmdCB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi1kZWxldGUifSkuYXBwZW5kVG8ocCkpLGEuZXh0ZW5kKHRoaXMse3NlbGVjdElkOmMsbWVudUlkOmkscG9wdXBJZDpkLGRpYWxvZ0lkOmUsdGhpc1BhZ2U6ZyxtZW51UGFnZTptLGxhYmVsOmYsaXNNdWx0aXBsZTpoLHRoZW1lOnYudGhlbWUsbGlzdGJveDpuLGxpc3Q6byxoZWFkZXI6cCxoZWFkZXJUaXRsZTpxLGhlYWRlckNsb3NlOnQsbWVudVBhZ2VDb250ZW50OnIsbWVudVBhZ2VDbG9zZTpzLHBsYWNlaG9sZGVyOiIifSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb3JpZ1RhYkluZGV4PT09YiYmKHRoaXMuX29yaWdUYWJJbmRleD1udWxsPT09dGhpcy5zZWxlY3RbMF0uZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpPyExOnRoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4IikpLHRoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKSx0aGlzLl9vbih0aGlzLnNlbGVjdCx7Zm9jdXM6Il9oYW5kbGVTZWxlY3RGb2N1cyJ9KSx0aGlzLl9vbih0aGlzLmJ1dHRvbix7dmNsaWNrOiJfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93biIsa2V5ZG93bjoiX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24ifSksdGhpcy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IiksdGhpcy5fb24odGhpcy5saXN0LHtmb2N1c2luOiJfaGFuZGxlTGlzdEZvY3VzIixmb2N1c291dDoiX2hhbmRsZUxpc3RGb2N1cyIsa2V5ZG93bjoiX2hhbmRsZUxpc3RLZXlkb3duIn0pLHRoaXMubGlzdC5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPXUuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywib3B0aW9uLWluZGV4IiksZT11Ll9zZWxlY3RPcHRpb25zKCkuZXEoZClbMF07ZS5zZWxlY3RlZD11LmlzTXVsdGlwbGU/IWUuc2VsZWN0ZWQ6ITAsdS5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoImEiKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZS5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZS5zZWxlY3RlZCksKHUuaXNNdWx0aXBsZXx8YyE9PWQpJiZ1LnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSx1LmlzTXVsdGlwbGU/dS5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShkKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpOnUuY2xvc2UoKSxiLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLl9vbih0aGlzLm1lbnVQYWdlLHtwYWdlaGlkZToiX2hhbmRsZU1lbnVQYWdlSGlkZSJ9KSx0aGlzLl9vbih0aGlzLmxpc3Rib3gse3BvcHVwYWZ0ZXJjbG9zZToiY2xvc2UifSksdGhpcy5pc011bHRpcGxlJiZ0aGlzLl9vbih0aGlzLmhlYWRlckNsb3NlLHtjbGljazoiX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2sifSksdGhpcyl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTtyZXR1cm4gYi50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIil9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoYik6KGM9dGhpcywoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmMuX2J1aWxkTGlzdCgpLGQ9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxjLnNldEJ1dHRvblRleHQoKSxjLnNldEJ1dHRvbkNvdW50KCksYy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5maW5kKCJhIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmVuZCgpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe2lmKGEuaW5BcnJheShiLGQpPi0xKXt2YXIgZT1hKHRoaXMpO2UuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLGMuaXNNdWx0aXBsZT9lLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOmUuaGFzQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKT9lLm5leHQoKS5maW5kKCJhIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmUuZmluZCgiYSIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX19KSx2b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXt2YXIgYT10aGlzOyJwYWdlIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX19LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljaygpfSxfZm9jdXNNZW51SXRlbTpmdW5jdGlvbigpe3ZhciBiPXRoaXMubGlzdC5maW5kKCJhLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOzA9PT1iLmxlbmd0aCYmKGI9dGhpcy5saXN0LmZpbmQoImxpOm5vdCgiK2QrIikgYS51aS1idG4iKSksYi5maXJzdCgpLmZvY3VzKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YS5tb2JpbGUud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1iLm1lbnVQYWdlLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixnKX0pLGIubWVudVBhZ2Uub25lKHtwYWdlc2hvdzphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLCJjbG9zZSIpfSksYi5tZW51VHlwZT0icGFnZSIsYi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCksYi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLnRleHQoKSkpOihiLm1lbnVUeXBlPSJvdmVybGF5IixiLmxpc3Rib3gub25lKHtwb3B1cGFmdGVyb3BlbjphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIil9KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9dGhpcyxyPXRoaXMub3B0aW9ucyxzPXRoaXMucGxhY2Vob2xkZXIsdD0hMCx1PXRoaXMuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiLHY9ImRhdGEtIithLm1vYmlsZS5ucyx3PXYrIm9wdGlvbi1pbmRleCIseD12KyJpY29uIix5PXYrInJvbGUiLHo9disicGxhY2Vob2xkZXIiLEE9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksQj0hMTtmb3IocS5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLGQ9Yi5sZW5ndGgsZT10aGlzLnNlbGVjdFswXSxnPTA7ZD5nO2crKyxCPSExKWg9YltnXSxpPWEoaCksaS5oYXNDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfHwoaj1oLnBhcmVudE5vZGUsaz1pLnRleHQoKSxsPWMuY3JlYXRlRWxlbWVudCgiYSIpLG09W10sbC5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksbC5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGspKSxqIT09ZSYmIm9wdGdyb3VwIj09PWoubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG49ai5nZXRBdHRyaWJ1dGUoImxhYmVsIiksbiE9PWYmJihvPWMuY3JlYXRlRWxlbWVudCgibGkiKSxvLnNldEF0dHJpYnV0ZSh5LCJsaXN0LWRpdmlkZXIiKSxvLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLG8uc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksby5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKG4pKSxBLmFwcGVuZENoaWxkKG8pLGY9bikpLCF0fHxoLmdldEF0dHJpYnV0ZSgidmFsdWUiKSYmMCE9PWsubGVuZ3RoJiYhaS5qcW1EYXRhKCJwbGFjZWhvbGRlciIpfHwodD0hMSxCPSEwLG51bGw9PT1oLmdldEF0dHJpYnV0ZSh6KSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksaC5zZXRBdHRyaWJ1dGUoeiwhMCksci5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm0ucHVzaCgidWktc2NyZWVuLWhpZGRlbiIpLHMhPT1rJiYocz1xLnBsYWNlaG9sZGVyPWspKSxwPWMuY3JlYXRlRWxlbWVudCgibGkiKSxoLmRpc2FibGVkJiYobS5wdXNoKCJ1aS1kaXNhYmxlZCIpLHAuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIiwhMCkpLHAuc2V0QXR0cmlidXRlKHcsZykscC5zZXRBdHRyaWJ1dGUoeCx1KSxCJiZwLnNldEF0dHJpYnV0ZSh6LCEwKSxwLmNsYXNzTmFtZT1tLmpvaW4oIiAiKSxwLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLGwuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIikscC5hcHBlbmRDaGlsZChsKSxBLmFwcGVuZENoaWxkKHApKTtxLmxpc3RbMF0uYXBwZW5kQ2hpbGQoQSksdGhpcy5pc011bHRpcGxlfHxzLmxlbmd0aD90aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik6dGhpcy5oZWFkZXIuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSxxLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcigpOmEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm5hdGl2ZU1lbnV8fCh0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09YiYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoInRhYmluZGV4IikpLHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0ciYmdGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicGxhY2Vob2xkZXIiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksdGhpcy5tZW51UGFnZS5yZW1vdmUoKSksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dmFyIGM9Yj9iOltdO3JldHVybiBjLnB1c2goInVpLWJ0biIpLGEudGhlbWUmJmMucHVzaCgidWktYnRuLSIrYS50aGVtZSksYS5pY29uJiYoYz1jLmNvbmNhdChbInVpLWljb24tIithLmljb24sInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zXSksYS5pY29uc2hhZG93JiZjLnB1c2goInVpLXNoYWRvdy1pY29uIikpLGEuaW5saW5lJiZjLnB1c2goInVpLWJ0bi1pbmxpbmUiKSxhLnNoYWRvdyYmYy5wdXNoKCJ1aS1zaGFkb3ciKSxhLmNvcm5lcnMmJmMucHVzaCgidWktY29ybmVyLWFsbCIpLGEubWluaSYmYy5wdXNoKCJ1aS1taW5pIiksY31mdW5jdGlvbiBkKGEpe3ZhciBjLGQsZSxnPSExLGg9ITAsaT17aWNvbjoiIixpbmxpbmU6ITEsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnNoYWRvdzohMSxtaW5pOiExfSxqPVtdO2ZvcihhPWEuc3BsaXQoIiAiKSxjPTA7YzxhLmxlbmd0aDtjKyspZT0hMCxkPWZbYVtjXV0sZCE9PWI/KGU9ITEsaVtkXT0hMCk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLWljb24tIik/KGU9ITEsaD0hMSxpLmljb25wb3M9YVtjXS5zdWJzdHJpbmcoMTIpKTowPT09YVtjXS5pbmRleE9mKCJ1aS1pY29uLSIpPyhlPSExLGkuaWNvbj1hW2NdLnN1YnN0cmluZyg4KSk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLSIpJiY4PT09YVtjXS5sZW5ndGg/KGU9ITEsaS50aGVtZT1hW2NdLnN1YnN0cmluZyg3KSk6InVpLWJ0biI9PT1hW2NdJiYoZT0hMSxnPSEwKSxlJiZqLnB1c2goYVtjXSk7cmV0dXJuIGgmJihpLmljb249IiIpLHtvcHRpb25zOmksdW5rbm93bkNsYXNzZXM6aixhbHJlYWR5RW5oYW5jZWQ6Z319ZnVuY3Rpb24gZShhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfXZhciBmPXsidWktc2hhZG93Ijoic2hhZG93IiwidWktY29ybmVyLWFsbCI6ImNvcm5lcnMiLCJ1aS1idG4taW5saW5lIjoiaW5saW5lIiwidWktc2hhZG93LWljb24iOiJpY29uc2hhZG93IiwidWktbWluaSI6Im1pbmkifSxnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuZ2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09Yz9iOmN9LGg9L1tBLVpdL2c7YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oZixpKXt2YXIgaixrLGwsbSxuLG89YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM7Zm9yKGo9MDtqPHRoaXMubGVuZ3RoO2orKyl7aWYobD10aGlzW2pdLGs9aT97YWxyZWFkeUVuaGFuY2VkOiExLHVua25vd25DbGFzc2VzOltdfTpkKGwuY2xhc3NOYW1lKSxtPWEuZXh0ZW5kKHt9LGsuYWxyZWFkeUVuaGFuY2VkP2sub3B0aW9uczp7fSxmKSwhay5hbHJlYWR5RW5oYW5jZWQpZm9yKG4gaW4gbyltW25dPT09YiYmKG1bbl09ZyhsLG4ucmVwbGFjZShoLGUpKSk7bC5jbGFzc05hbWU9YyhhLmV4dGVuZCh7fSxvLG0pLGsudW5rbm93bkNsYXNzZXMpLmpvaW4oIiAiKSxsLnNldEF0dHJpYnV0ZSgicm9sZSIsImJ1dHRvbiIpfXJldHVybiB0aGlzfSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17aWNvbjoiIixpY29ucG9zOiJsZWZ0Iix0aGVtZTpudWxsLGlubGluZTohMSxzaGFkb3c6ITAsY29ybmVyczohMCxpY29uc2hhZG93OiExLG1pbmk6ITF9LGEuZXh0ZW5kKGEuZm4uYnV0dG9uTWFya3VwLHtpbml0U2VsZWN0b3I6ImE6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEsIGJ1dHRvbiJ9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5leHRlbmQoe29wdGlvbnM6e2VuaGFuY2VkOiExLHRoZW1lOm51bGwsc2hhZG93OiExLGNvcm5lcnM6ITAsZXhjbHVkZUludmlzaWJsZTohMCx0eXBlOiJ2ZXJ0aWNhbCIsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczthLm1vYmlsZS5lbmhhbmNlV2l0aEJ1dHRvbk1hcmt1cCYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGUuZW5oYW5jZVdpdGhCdXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5lYWNoKGEubW9iaWxlLmVuaGFuY2VXaXRoQnV0dG9uTWFya3VwKSxhLmVhY2godGhpcy5fY2hpbGRXaWRnZXRzLGEucHJveHkoZnVuY3Rpb24oYixjKXthLm1vYmlsZVtjXSYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGVbY10uaW5pdFNlbGVjdG9yKVtjXSgpfSx0aGlzKSksYS5leHRlbmQodGhpcyx7X3VpOm51bGwsX2luaXRpYWxSZWZyZXNoOiEwfSksdGhpcy5fdWk9Yy5lbmhhbmNlZD97Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIpLmNoaWxkcmVuKCksY2hpbGRXcmFwcGVyOmIuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX06dGhpcy5fZW5oYW5jZSgpfSxfY2hpbGRXaWRnZXRzOlsiY2hlY2tib3hyYWRpbyIsInNlbGVjdG1lbnUiLCJidXR0b24iXSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/Im5vbmUiPT09YT8iIjoidWktZ3JvdXAtdGhlbWUtIithOiIifSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPXtncm91cExlZ2VuZDpiLmNoaWxkcmVuKCJsZWdlbmQiKSxjaGlsZFdyYXBwZXI6Yi5hZGRDbGFzcygidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1jLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKyIgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKSsiICIrKGMuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSsoYy5taW5pPyJ1aS1taW5pICI6IiIpKS53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyAiKyhjLnNoYWRvdz09PSEwPyJ1aS1zaGFkb3ciOiIiKSsiJz48L2Rpdj4iKS5jaGlsZHJlbigpfTtyZXR1cm4gZC5ncm91cExlZ2VuZC5sZW5ndGg+MCYmYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz48L2Rpdj4iKS5hcHBlbmQoZC5ncm91cExlZ2VuZCkucHJlcGVuZFRvKGIpLGR9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5lbGVtZW50O3JldHVybiBhLnR5cGUhPT1iJiYoZC5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1hLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKSxjPSEwKSxhLnRoZW1lIT09YiYmZC5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbih0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihhLnRoZW1lKSksYS5jb3JuZXJzIT09YiYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLm1pbmkhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLGEuc2hhZG93IT09YiYmdGhpcy5fdWkuY2hpbGRXcmFwcGVyLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGEuc2hhZG93KSxhLmV4Y2x1ZGVJbnZpc2libGUhPT1iJiYodGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU9YS5leGNsdWRlSW52aXNpYmxlLGM9ITApLGMmJnRoaXMucmVmcmVzaCgpLHRoaXMuX3N1cGVyKGEpfSxjb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY2hpbGRXcmFwcGVyfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jb250YWluZXIoKSxjPWIuZmluZCgiLnVpLWJ0biIpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxkPXRoaXMuX2luaXRpYWxSZWZyZXNoO2EubW9iaWxlLmNoZWNrYm94cmFkaW8mJmIuZmluZCgiOm1vYmlsZS1jaGVja2JveHJhZGlvIikuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyhjLGQpOmMsZCksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5lbmhhbmNlZD90aGlzOihhPXRoaXMuX3VpLGI9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIHVpLWNvcm5lci1hbGwgdWktbWluaSAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGMudGhlbWUpKS5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYiksYS5ncm91cExlZ2VuZC51bndyYXAoKSxhLmNoaWxkV3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHZvaWQgMCl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIse2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIixvcHRpb25zOnt0aGVtZTpudWxsLGFkZEJhY2tCdG46ITEsYmFja0J0blRoZW1lOm51bGwsYmFja0J0blRleHQ6IkJhY2sifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU9dGhpcy5lbGVtZW50LmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiLGY9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIik7MD09PWYubGVuZ3RoJiYoZj0hMSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7cGFnZXNob3c6InJlZnJlc2gifSkpLGEuZXh0ZW5kKHRoaXMse3JvbGU6ZSxwYWdlOmYsbGVmdGJ0bjpiLHJpZ2h0YnRuOmMsYmFja0J0bjpkfSksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJoZWFkZXIiPT09ZT8iYmFubmVyIjoiY29udGVudGluZm8iKS5hZGRDbGFzcygidWktIitlKSx0aGlzLnJlZnJlc2goKSx0aGlzLl9zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKGMuYWRkQmFja0J0biE9PWImJih0aGlzLm9wdGlvbnMuYWRkQmFja0J0biYmImhlYWRlciI9PT10aGlzLnJvbGUmJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJnRoaXMucGFnZVswXS5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIXRoaXMubGVmdGJ0bj90aGlzLl9hZGRCYWNrQnV0dG9uKCk6dGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikucmVtb3ZlKCkpLGMuYmFja0J0blRoZW1lIT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikuYWRkQ2xhc3MoInVpLWJ0biB1aS1idG4tIitjLmJhY2tCdG5UaGVtZSksYy5iYWNrQnRuVGV4dCE9PWImJnRoaXMuZWxlbWVudC5maW5kKCIudWktdG9vbGJhci1iYWNrLWJ0biAudWktYnRuLXRleHQiKS50ZXh0KGMuYmFja0J0blRleHQpLGMudGhlbWUhPT1iKXt2YXIgZD10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCI7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1iYXItIitkKS5hZGRDbGFzcygidWktYmFyLSIrZSl9dGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXsiaGVhZGVyIj09PXRoaXMucm9sZSYmdGhpcy5fYWRkSGVhZGVyQnV0dG9uQ2xhc3NlcygpLHRoaXMucGFnZXx8KGEoIltkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnXSIpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLCJmb290ZXIiPT09dGhpcy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXBwZW5kVG8oImJvZHkiKSksdGhpcy5fYWRkSGVhZGluZ0NsYXNzZXMoKSx0aGlzLl9idG5NYXJrdXAoKX0sX2J0bk1hcmt1cDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiYSIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImJ1dHRvbiIpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJjcmVhdGUiKX0sX2FkZEhlYWRlckJ1dHRvbkNsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImEsIGJ1dHRvbiIpO3RoaXMubGVmdGJ0bj1hLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLHRoaXMucmlnaHRidG49YS5oYXNDbGFzcygidWktYnRuLXJpZ2h0IiksdGhpcy5sZWZ0YnRuPXRoaXMubGVmdGJ0bnx8YS5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsdGhpcy5yaWdodGJ0bj10aGlzLnJpZ2h0YnRufHxhLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGh9LF9hZGRCYWNrQnV0dG9uOmZ1bmN0aW9uKCl7dGhpcy5iYWNrQnRuPWEoIjxhIHJvbGU9J2J1dHRvbicgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOycgY2xhc3M9J3VpLWJ0bi1sZWZ0IHVpLXRvb2xiYXItYmFjay1idG4nIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2NhcmF0LWwnPiIrdGhpcy5vcHRpb25zLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsdGhpcy5vcHRpb25zLmJhY2tCdG5UaGVtZXx8dGhpcy5vcHRpb25zLnRoZW1lKS5wcmVwZW5kVG8odGhpcy5lbGVtZW50KX0sX2FkZEhlYWRpbmdDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7cm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7b3B0aW9uczp7cG9zaXRpb246bnVsbCx2aXNpYmxlT25QYWdlU2hvdzohMCxkaXNhYmxlUGFnZVpvb206ITAsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCwgLnVpLXBvcHVwLCAudWktcGFuZWwsIC51aS1wYW5lbC1kaXNtaXNzLW9wZW4iLGhpZGVEdXJpbmdGb2N1czoiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QiLHVwZGF0ZVBhZ2VQYWRkaW5nOiEwLHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOiEwLHN1cHBvcnRCbGFja2xpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hYS5zdXBwb3J0LmZpeGVkUG9zaXRpb259fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufHx0aGlzLm9wdGlvbnMuc3VwcG9ydEJsYWNrbGlzdCgpfHwodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZpeGVkIiksdGhpcy51cGRhdGVQYWdlUGFkZGluZygpLHRoaXMuX2FkZFRyYW5zaXRpb25DbGFzcygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5fYmluZFRvZ2dsZUhhbmRsZXJzKCksdGhpcy5fc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7aWYoImZpeGVkIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmIXRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCkpe3ZhciBkPXRoaXMucGFnZT90aGlzLnBhZ2U6YSgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoPjA/YSgiLnVpLXBhZ2UtYWN0aXZlIik6YSgiLnVpLXBhZ2UiKS5lcSgwKTtjLmZ1bGxzY3JlZW4hPT1iJiYoYy5mdWxsc2NyZWVuPyh0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpLGQuYWRkQ2xhc3MoInVpLXBhZ2UtIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIikpOih0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpLGQucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIikuYWRkQ2xhc3MoInVpLXBhZ2UtIit0aGlzLnJvbGUrIi1maXhlZCIpKSl9dGhpcy5fc3VwZXIoYyl9LF9hZGRUcmFuc2l0aW9uQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbjthJiYibm9uZSIhPT1hJiYoInNsaWRlIj09PWEmJihhPXRoaXMuZWxlbWVudC5oYXNDbGFzcygidWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnBhZ2U/dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIik6YS5tb2JpbGUuZG9jdW1lbnQ7dGhpcy5fb24oYix7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIil9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIiksdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKGEubW9iaWxlLndpbmRvdywidGhyb3R0bGVkcmVzaXplIiksaC50cmFja1BlcnNpc3RlbnRUb29sYmFycyYmKGQ9YSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5wYWdlKSxlPWEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMucGFnZSksZj1kLmxlbmd0aCYmYy5uZXh0UGFnZSYmYSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSciK2QuanFtRGF0YSgiaWQiKSsiJykiLGMubmV4dFBhZ2UpfHxhKCksZz1lLmxlbmd0aCYmYy5uZXh0UGFnZSYmYSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSciK2UuanFtRGF0YSgiaWQiKSsiJykiLGMubmV4dFBhZ2UpfHxhKCksKGYubGVuZ3RofHxnLmxlbmd0aCkmJihmLmFkZChnKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxjLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7Zy5wcmVwZW5kVG8odGhpcyksZi5hcHBlbmRUbyh0aGlzKX0pKSl9LF92aXNpYmxlOiEwLHVwZGF0ZVBhZ2VQYWRkaW5nOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuZWxlbWVudCxlPSJoZWFkZXIiPT09dGhpcy5yb2xlLGY9cGFyc2VGbG9hdChkLmNzcyhlPyJ0b3AiOiJib3R0b20iKSk7dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW58fChjPWMmJmMudHlwZT09PWImJmN8fHRoaXMucGFnZXx8ZC5jbG9zZXN0KCIudWktcGFnZSIpLGM9dGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIixhKGMpLmNzcygicGFkZGluZy0iKyhlPyJ0b3AiOiJib3R0b20iKSxkLm91dGVySGVpZ2h0KCkrZikpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihiKXt2YXIgYz1hLm1vYmlsZS53aW5kb3csZD10aGlzLmVsZW1lbnQsZT1jLnNjcm9sbFRvcCgpLGY9ZC5oZWlnaHQoKSxnPXRoaXMucGFnZT9kLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCk6YSgiLnVpLXBhZ2UtYWN0aXZlIikuaGVpZ2h0KCksaD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtyZXR1cm4hYiYmKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYibm9uZSIhPT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmKCJoZWFkZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8ImZvb3RlciI9PT10aGlzLnJvbGUmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZy1mPmUraCl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoIm91dCAiK2IpLmFkZENsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygiaW4iKX0pOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudCxkPSJvdXQiKygic2xpZGUiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcyxlPWQub3B0aW9ucyxmPSEwLGc9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZSIpO2cuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtlLnRhcFRvZ2dsZSYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoZS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmZC50b2dnbGUoKX0pLmJpbmQoImZvY3VzaW4gZm9jdXNvdXQiLGZ1bmN0aW9uKGcpe3NjcmVlbi53aWR0aDwxMDI1JiZhKGcudGFyZ2V0KS5pcyhlLmhpZGVEdXJpbmdGb2N1cykmJiFhKGcudGFyZ2V0KS5jbG9zZXN0KCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYoImZvY3Vzb3V0IiE9PWcudHlwZXx8Zj8iZm9jdXNpbiI9PT1nLnR5cGUmJmYmJihjbGVhclRpbWVvdXQoYiksZj0hMSxjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmhpZGUoKX0sMCkpOihmPSEwLGNsZWFyVGltZW91dChjKSxiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnNob3coKX0sMCkpKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaGFzQ2xhc3MoInVpLWhlYWRlciIpO2EuY2xvc2VzdCgiLnVpLXBhZ2UiKS5jc3MoInBhZGRpbmctIisoYj8idG9wIjoiYm90dG9tIiksIiIpLGEucmVtb3ZlQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1mb290ZXItZml4ZWQgdWktaGVhZGVyLWZ1bGxzY3JlZW4gdWktZm9vdGVyLWZ1bGxzY3JlZW4gaW4gb3V0IGZhZGUgc2xpZGVkb3duIHNsaWRldXAgdWktZml4ZWQtaGlkZGVuIiksYS5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50b29sYmFyIixhLm1vYmlsZS50b29sYmFyLHtfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl93b3JrYXJvdW5kcygpfSxfd29ya2Fyb3VuZHM6ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmF2aWdhdG9yLnBsYXRmb3JtLGM9YS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZD0hIWMmJmNbMV0sZT1udWxsLGY9dGhpcztpZihiLmluZGV4T2YoImlQaG9uZSIpPi0xfHxiLmluZGV4T2YoImlQYWQiKT4tMXx8Yi5pbmRleE9mKCJpUG9kIik+LTEpZT0iaW9zIjtlbHNle2lmKCEoYS5pbmRleE9mKCJBbmRyb2lkIik+LTEpKXJldHVybjtlPSJhbmRyb2lkIn1pZigiaW9zIj09PWUpZi5fYmluZFNjcm9sbFdvcmthcm91bmQoKTtlbHNle2lmKCEoImFuZHJvaWQiPT09ZSYmZCYmNTM0PmQpKXJldHVybjtmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpLGYuX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kKCl9fSxfdmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmhhc0NsYXNzKCJ1aS1oZWFkZXIiKSxkPU1hdGguYWJzKGIub2Zmc2V0KCkudG9wLWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSk7cmV0dXJuIGN8fChkPU1hdGgucm91bmQoZC1hLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCkrYi5vdXRlckhlaWdodCgpKS02MCksZH0sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Njcm9sbHN0b3A6ZnVuY3Rpb24oKXt2YXIgYT1iLl92aWV3cG9ydE9mZnNldCgpO2E+MiYmYi5fdmlzaWJsZSYmYi5fdHJpZ2dlclJlZHJhdygpfX0pfSxfYmluZExpc3RUaHVtYldvcmthcm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktYW5kcm9pZC0yeC1maXhlZCIpfSxfdHJpZ2dlclJlZHJhdzpmdW5jdGlvbigpe3ZhciBiPXBhcnNlRmxvYXQoYSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKTthKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIixiKzErInB4Iiksc2V0VGltZW91dChmdW5jdGlvbigpe2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrInB4Iil9LDApfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikucmVtb3ZlQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4Iil9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5wYW5lbCIse29wdGlvbnM6e2NsYXNzZXM6e3BhbmVsOiJ1aS1wYW5lbCIscGFuZWxPcGVuOiJ1aS1wYW5lbC1vcGVuIixwYW5lbENsb3NlZDoidWktcGFuZWwtY2xvc2VkIixwYW5lbEZpeGVkOiJ1aS1wYW5lbC1maXhlZCIscGFuZWxJbm5lcjoidWktcGFuZWwtaW5uZXIiLG1vZGFsOiJ1aS1wYW5lbC1kaXNtaXNzIixtb2RhbE9wZW46InVpLXBhbmVsLWRpc21pc3Mtb3BlbiIscGFnZUNvbnRhaW5lcjoidWktcGFuZWwtcGFnZS1jb250YWluZXIiLHBhZ2VXcmFwcGVyOiJ1aS1wYW5lbC13cmFwcGVyIixwYWdlRml4ZWRUb29sYmFyOiJ1aS1wYW5lbC1maXhlZC10b29sYmFyIixwYWdlQ29udGVudFByZWZpeDoidWktcGFuZWwtcGFnZS1jb250ZW50IixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZToiYSIscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfcGFuZWxJRDpudWxsLF9jbG9zZUxpbms6bnVsbCxfcGFyZW50UGFnZTpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3BhbmVsSW5uZXI6bnVsbCxfd3JhcHBlcjpudWxsLF9maXhlZFRvb2xiYXJzOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7YS5leHRlbmQodGhpcyx7X3BhbmVsSUQ6Yi5hdHRyKCJpZCIpLF9jbG9zZUxpbms6Yi5maW5kKCI6anFtRGF0YShyZWw9J2Nsb3NlJykiKSxfcGFyZW50UGFnZTpjLmxlbmd0aD4wP2M6ITEsX3BhZ2U6dGhpcy5fZ2V0UGFnZSxfcGFuZWxJbm5lcjp0aGlzLl9nZXRQYW5lbElubmVyKCksX3dyYXBwZXI6dGhpcy5fZ2V0V3JhcHBlcixfZml4ZWRUb29sYmFyczp0aGlzLl9nZXRGaXhlZFRvb2xiYXJzfSksdGhpcy5fYWRkUGFuZWxDbGFzc2VzKCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0aGlzLm9wdGlvbnMuYW5pbWF0ZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpLHRoaXMuX2JpbmRVcGRhdGVMYXlvdXQoKSx0aGlzLl9iaW5kQ2xvc2VFdmVudHMoKSx0aGlzLl9iaW5kTGlua0xpc3RlbmVycygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLl9jcmVhdGVNb2RhbCgpLHRoaXMuX2JpbmRTd2lwZUV2ZW50cygpfSxfZ2V0UGFuZWxJbm5lcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWEubGVuZ3RoJiYoYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSciK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrIicgLz4iKS5wYXJlbnQoKSksYX0sX2NyZWF0ZU1vZGFsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3BhcmVudFBhZ2U/Yi5fcGFyZW50UGFnZS5wYXJlbnQoKTpiLmVsZW1lbnQucGFyZW50KCk7Yi5fbW9kYWw9YSgiPGRpdiBjbGFzcz0nIitiLm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCsiJyBkYXRhLXBhbmVsaWQ9JyIrYi5fcGFuZWxJRCsiJz48L2Rpdj4iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pLmFwcGVuZFRvKGMpfSxfZ2V0UGFnZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3BhcmVudFBhZ2U/dGhpcy5fcGFyZW50UGFnZTphKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO3JldHVybiBifSxfZ2V0V3JhcHBlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3BhZ2UoKS5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlV3JhcHBlciksYz1hLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJnRoaXMub3B0aW9ucy5hbmltYXRlPyIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlOiIiO3JldHVybiAwPT09Yi5sZW5ndGgmJihiPXRoaXMuX3BhZ2UoKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykpLCAudWktY29udGVudDpub3QoOmpxbURhdGEocm9sZT0ncG9wdXAnKSksIC51aS1mb290ZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSIpLndyYXBBbGwoIjxkaXYgY2xhc3M9JyIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrYysiJyAvPjwvZGl2PiIpLnBhcmVudCgpKSxifSxfZ2V0Rml4ZWRUb29sYmFyczpmdW5jdGlvbigpe3ZhciBiPWEoImJvZHkiKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpLCAudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKSxjPXRoaXMuX3BhZ2UoKS5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJyksIC51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLGQ9Yi5hZGQoYykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZUZpeGVkVG9vbGJhcik7cmV0dXJuIGR9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQ7cmV0dXJuIHRoaXMub3B0aW9ucy50aGVtZSYmKGErPSIgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksYX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuX2Nsb3NlTGluay5vbigiY2xpY2sucGFuZWwiLGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYS5jbG9zZSgpLCExfSksYS5lbGVtZW50Lm9uKCJjbGljay5wYW5lbCIsImE6anFtRGF0YShhamF4PSdmYWxzZScpIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1jLl9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksZT1kPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2V8fCFjLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZSYmKGMuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoZCkpLGIuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkpOmMuX2ZpeFBhbmVsKCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7CmEuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2EuX29wZW4mJmEuX3Bvc2l0aW9uUGFuZWwoKX0pfSxfYmluZExpbmtMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLl9vbigiYSIse2NsaWNrOiJfaGFuZGxlQ2xpY2sifSl9LF9oYW5kbGVDbGljazpmdW5jdGlvbihiKXtpZihiLmN1cnJlbnRUYXJnZXQuaHJlZi5zcGxpdCgiIyIpWzFdPT09dGhpcy5fcGFuZWxJRCYmdGhpcy5fcGFuZWxJRCE9PWMpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1hKGIudGFyZ2V0KTtyZXR1cm4gZC5oYXNDbGFzcygidWktYnRuIikmJihkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSx0aGlzLnRvZ2dsZSgpLCExfX0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9tb2RhbD9hLmVsZW1lbnQuYWRkKGEuX21vZGFsKTphLmVsZW1lbnQ7YS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1hLm9wdGlvbnMucG9zaXRpb24/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2EubW9iaWxlLmRvY3VtZW50Lm9uKCJwYW5lbGJlZm9yZW9wZW4iLGZ1bmN0aW9uKGEpe2IuX29wZW4mJmEudGFyZ2V0IT09Yi5lbGVtZW50WzBdJiZiLmNsb3NlKCl9KS5vbigia2V5dXAucGFuZWwiLGZ1bmN0aW9uKGEpezI3PT09YS5rZXlDb2RlJiZiLl9vcGVuJiZiLmNsb3NlKCl9KSxiLl9wYXJlbnRQYWdlP2EubW9iaWxlLmRvY3VtZW50Lm9uKCJwYWdlaGlkZSIsIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIsZnVuY3Rpb24oKXtiLl9vcGVuJiZiLmNsb3NlKCEwKX0pOmEubW9iaWxlLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXtiLl9vcGVuJiZiLmNsb3NlKCEwKX0pfSxfb3BlbjohMSxfcGFnZUNvbnRlbnRPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7YS5tb2JpbGUuZG9jdW1lbnQub2ZmKCJwYW5lbGNsb3NlIiksYy5fcGFnZSgpLmpxbURhdGEoInBhbmVsIiwib3BlbiIpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlJiYib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZT9hLm1vYmlsZS5kb2N1bWVudC5vbihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpOnNldFRpbWVvdXQoZiwwKSxkLnRoZW1lJiYib3ZlcmxheSIhPT1kLmRpc3BsYXkmJmMuX3BhZ2UoKS5wYXJlbnQoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLXRoZW1lZCAiK2QuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItIitkLnRoZW1lKSxjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsQ2xvc2VkKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxPcGVuKSxjLl9wb3NpdGlvblBhbmVsKCksYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3BhZ2UoKS5wYXJlbnQoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy5fd3JhcHBlcigpLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSksYy5fbW9kYWxPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMubW9kYWwpKyIgIitkLmNsYXNzZXMubW9kYWxPcGVuLGMuX21vZGFsJiZjLl9tb2RhbC5hZGRDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2EubW9iaWxlLmRvY3VtZW50Lm9mZihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcigib3BlbiIpfTtjLl90cmlnZ2VyKCJiZWZvcmVvcGVuIiksIm9wZW4iPT09Yy5fcGFnZSgpLmpxbURhdGEoInBhbmVsIik/YS5tb2JpbGUuZG9jdW1lbnQub24oInBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7ZSgpfSk6ZSgpLGMuX29wZW49ITB9fSxjbG9zZTpmdW5jdGlvbihiKXtpZih0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZnVuY3Rpb24oKXshYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/YS5tb2JpbGUuZG9jdW1lbnQub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5yZW1vdmVDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLGMuX21vZGFsJiZjLl9tb2RhbC5yZW1vdmVDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2EubW9iaWxlLmRvY3VtZW50Lm9mZihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGQudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy5fd3JhcHBlcigpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlcigpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpKSxjLl9maXhQYW5lbCgpLGMuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksYy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoInBhbmVsIiksYy5fdHJpZ2dlcigiY2xvc2UiKX07Yy5fdHJpZ2dlcigiYmVmb3JlY2xvc2UiKSxlKCksYy5fb3Blbj0hMX19LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fb3Blbj8iY2xvc2UiOiJvcGVuIl0oKX0sX3RyYW5zaXRpb25FbmRFdmVudHM6IndlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgdHJhbnNpdGlvbmVuZCBtc1RyYW5zaXRpb25FbmQiLF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5sZW5ndGgrYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikubGVuZ3RoPjE7Im92ZXJsYXkiIT09Yi5kaXNwbGF5JiYodGhpcy5fd3JhcHBlcigpLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhiLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZiLmFuaW1hdGUmJnRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhiLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGIuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxiLnRoZW1lJiZ0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYi5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitiLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrYi50aGVtZSkpKSxjfHwoYS5tb2JpbGUuZG9jdW1lbnQub2ZmKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIpLHRoaXMuX29wZW4mJihhLm1vYmlsZS5kb2N1bWVudC5vZmYodGhpcy5fdHJhbnNpdGlvbkVuZEV2ZW50cyksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCkpKSx0aGlzLl9vcGVuJiZ0aGlzLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSxiLmNsYXNzZXMucGFuZWxPcGVuLGIuY2xhc3Nlcy5hbmltYXRlXS5qb2luKCIgIikpLm9mZigic3dpcGVsZWZ0LnBhbmVsIHN3aXBlcmlnaHQucGFuZWwiKS5vZmYoInBhbmVsYmVmb3Jlb3BlbiIpLm9mZigicGFuZWxoaWRlIikub2ZmKCJrZXl1cC5wYW5lbCIpLm9mZigidXBkYXRlbGF5b3V0Iikub2ZmKHRoaXMuX3RyYW5zaXRpb25FbmRFdmVudHMpLHRoaXMuX2Nsb3NlTGluay5vZmYoImNsaWNrLnBhbmVsIiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnRhYmxlKSxhLmV4dGVuZCh0aGlzLHtoZWFkZXJzOmIsYWxsSGVhZGVyczpifSksdGhpcy5fcmVmcmVzaCghMCl9LF9zZXRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmZpbmQoInRoZWFkIHRyIik7dGhpcy5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksdGhpcy5hbGxIZWFkZXJzPXRoaXMuaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goKX0scmVidWlsZDphLm5vb3AsX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmZpbmQoInRoZWFkIHRyIik7dGhpcy5fc2V0SGVhZGVycygpLGMuZWFjaChmdW5jdGlvbigpe3ZhciBkPTA7YSh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgZSxmPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApLGc9IjpudGgtY2hpbGQoIisoZCsxKSsiKSI7aWYodGhpcy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysiY29sc3RhcnQiLGQrMSksZilmb3IoZT0wO2YtMT5lO2UrKylkKyssZys9IiwgOm50aC1jaGlsZCgiKyhkKzEpKyIpIjthKHRoaXMpLmpxbURhdGEoImNlbGxzIixiLmZpbmQoInRyIikubm90KGMuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihnKSksZCsrfSl9KX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6ImNvbHVtbnRvZ2dsZSIsY29sdW1uQnRuVGhlbWU6bnVsbCxjb2x1bW5Qb3B1cFRoZW1lOm51bGwsY29sdW1uQnRuVGV4dDoiQ29sdW1ucy4uLiIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtwb3B1cDoidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwIixjb2x1bW5CdG46InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1idG4iLHByaW9yaXR5UHJlZml4OiJ1aS10YWJsZS1wcmlvcml0eS0iLGNvbHVtblRvZ2dsZVRhYmxlOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJihhLmV4dGVuZCh0aGlzLHtfbWVudTpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkP3RoaXMuX21lbnU9dGhpcy5kb2N1bWVudC5maW5kKHRoaXMuX2lkKCkrIi1wb3B1cCIpLmNoaWxkcmVuKCkuZmlyc3QoKToodGhpcy5fbWVudT10aGlzLl9lbmhhbmNlQ29sVG9nZ2xlKCksdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSksdGhpcy5fc2V0dXBFdmVudHMoKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJpZCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToiX3NldFRvZ2dsZVN0YXRlIn0pfSxfYmluZFRvZ2dsZXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5maW5kKCJpbnB1dCIpO3RoaXMuX29uKGIse2NoYW5nZToiX21lbnVJbnB1dENoYW5nZSJ9KX0sX2FkZFRvZ2dsZXM6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLm9wdGlvbnM7Y3x8Yi5lbXB0eSgpLHRoaXMuaGVhZGVycy5ub3QoInRkIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywicHJpb3JpdHkiKSxnPWUuYWRkKGUuanFtRGF0YSgiY2VsbHMiKSk7ZiYmKGcuYWRkQ2xhc3MoZC5jbGFzc2VzLnByaW9yaXR5UHJlZml4K2YpLGN8fGEoIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz4iKyhlLmNoaWxkcmVuKCJhYmJyIikuZmlyc3QoKS5hdHRyKCJ0aXRsZSIpfHxlLnRleHQoKSkrIjwvbGFiZWw+IikuYXBwZW5kVG8oYikuY2hpbGRyZW4oMCkuanFtRGF0YSgiY2VsbHMiLGcpLmNoZWNrYm94cmFkaW8oe3RoZW1lOmQuY29sdW1uUG9wdXBUaGVtZX0pKX0pLGN8fHRoaXMuX2JpbmRUb2dnbGVzKGIpfSxfbWVudUlucHV0Q2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Y1swXS5jaGVja2VkO2MuanFtRGF0YSgiY2VsbHMiKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iLCFkKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIixkKSxjWzBdLmdldEF0dHJpYnV0ZSgibG9ja2VkIik/KGMucmVtb3ZlQXR0cigibG9ja2VkIiksdGhpcy5fdW5sb2NrQ2VsbHMoYy5qcW1EYXRhKCJjZWxscyIpKSk6Yy5hdHRyKCJsb2NrZWQiLCEwKX0sX3VubG9ja0NlbGxzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpfSxfZW5oYW5jZUNvbFRvZ2dsZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9YS5tb2JpbGUubnMsaT1hLm1vYmlsZS5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGI9dGhpcy5faWQoKSsiLXBvcHVwIixjPWEoIjxhIHJvbGU9J2J1dHRvbicgaHJlZj0nIyIrYisiJyAiKyJjbGFzcz0nIitnLmNsYXNzZXMuY29sdW1uQnRuKyIgdWktYnRuIHVpLWJ0bi0iKyhnLmNvbHVtbkJ0blRoZW1lfHwiYSIpKyIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgIisiZGF0YS0iK2grInJlbD0ncG9wdXAnICIrImRhdGEtIitoKyJtaW5pPSd0cnVlJz4iK2cuY29sdW1uQnRuVGV4dCsiPC9hPiIpLGQ9YSgiPGRpdiBkYXRhLSIraCsicm9sZT0ncG9wdXAnIGRhdGEtIitoKyJyb2xlPSdmaWVsZGNvbnRhaW4nIGNsYXNzPSciK2cuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitiKyInPjwvZGl2PiIpLGU9YSgiPGZpZWxkc2V0IGRhdGEtIitoKyJyb2xlPSdjb250cm9sZ3JvdXAnPjwvZmllbGRzZXQ+IiksdGhpcy5fYWRkVG9nZ2xlcyhlLCExKSxlLmFwcGVuZFRvKGQpLGkuYXBwZW5kQ2hpbGQoZFswXSksaS5hcHBlbmRDaGlsZChjWzBdKSxmLmJlZm9yZShpKSxkLnBvcHVwKCkuZW5oYW5jZVdpdGhpbigpLGV9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwiY29sdW1udG9nZ2xlIiE9PXRoaXMub3B0aW9ucy5tb2RlfHwodGhpcy5fdW5sb2NrQ2VsbHModGhpcy5hbGxIZWFkZXJzKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsYSksdGhpcy5fc2V0VG9nZ2xlU3RhdGUoKSl9LF9zZXRUb2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuX21lbnUuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTt0aGlzLmNoZWNrZWQ9InRhYmxlLWNlbGwiPT09Yi5qcW1EYXRhKCJjZWxscyIpLmVxKDApLmNzcygiZGlzcGxheSIpLGIuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6InJlZmxvdyIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiYodGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnJlZmxvd1RhYmxlKSx0aGlzLl91cGRhdGVSZWZsb3coKSkpfSxyZWJ1aWxkOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiZ0aGlzLl9yZWZyZXNoKCExKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYXx8InJlZmxvdyIhPT10aGlzLm9wdGlvbnMubW9kZXx8dGhpcy5fdXBkYXRlUmVmbG93KCl9LF91cGRhdGVSZWZsb3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO2EoYi5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBkLGUsZj1hKHRoaXMpLmpxbURhdGEoImNlbGxzIiksZz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiY29sc3RhcnQiKSxoPWYubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGk9YSh0aGlzKS50ZXh0KCk7IiIhPT1pJiYoaD8oZD1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxlPSIiLGQmJihlPSJ0ZDpudGgtY2hpbGQoIitkKyJuICsgIitnKyIpIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGEsYixjKXthLm5vdCgiOmhhcyhiLiIrYisiKSIpLnByZXBlbmQoIjxiIGNsYXNzPSciK2IrIic+IitjKyI8L2I+Iil9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybisrZX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmhhc2gubGVuZ3RoPjEmJmRlY29kZVVSSUNvbXBvbmVudChhLmhyZWYucmVwbGFjZShmLCIiKSk9PT1kZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZi5yZXBsYWNlKGYsIiIpKX12YXIgZT0wLGY9LyMuKiQvO2Eud2lkZ2V0KCJ1aS50YWJzIix7dmVyc2lvbjoiQFZFUlNJT04iLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKCIudWktdGFicy1uYXYgPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihiKXthKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGMuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxhLmlzQXJyYXkoYy5kaXNhYmxlZCkmJihjLmRpc2FibGVkPWEudW5pcXVlKGMuZGlzYWJsZWQuY29uY2F0KGEubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRhYnMuaW5kZXgoYSl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoYy5hY3RpdmUpOmEoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoYy5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5hY3RpdmUsYz10aGlzLm9wdGlvbnMuY29sbGFwc2libGUsZD1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PWImJihkJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihjLGUpe3JldHVybiBhKGUpLmF0dHIoImFyaWEtY29udHJvbHMiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLChudWxsPT09Ynx8LTE9PT1iKSYmKGI9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksYiE9PSExJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGIpKSwtMT09PWImJihiPWM/ITE6MCkpLCFjJiZiPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPTApLGJ9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6YSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIiksZD10aGlzLnRhYnMuaW5kZXgoYyksZT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdihiKSl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBhLnVpLmtleUNvZGUuRE9XTjpkKys7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuVVA6Y2FzZSBhLnVpLmtleUNvZGUuTEVGVDplPSExLGQtLTticmVhaztjYXNlIGEudWkua2V5Q29kZS5FTkQ6ZD10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuSE9NRTpkPTA7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkKSx2b2lkIDA7Y2FzZSBhLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpkKSx2b2lkIDA7ZGVmYXVsdDpyZXR1cm59Yi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGQ9dGhpcy5fZm9jdXNOZXh0VGFiKGQsZSksYi5jdHJsS2V5fHwoYy5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSx0aGlzLnRhYnMuZXEoZCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsInRydWUiKSx0aGlzLmFjdGl2YXRpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLm9wdGlvbigiYWN0aXZlIixkKX0sdGhpcy5kZWxheSkpfX0sX3BhbmVsS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLl9oYW5kbGVQYWdlTmF2KGIpfHxiLmN0cmxLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5VUCYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmFjdGl2ZS5mb2N1cygpKX0sX2hhbmRsZVBhZ2VOYXY6ZnVuY3Rpb24oYil7cmV0dXJuIGIuYWx0S2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuUEFHRV9VUD8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUtMSwhMSkpLCEwKTpiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfRE9XTj8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUrMSwhMCkpLCEwKTp2b2lkIDB9LF9maW5kTmV4dFRhYjpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXtyZXR1cm4gYj5lJiYoYj0wKSwwPmImJihiPWUpLGJ9Zm9yKHZhciBlPXRoaXMudGFicy5sZW5ndGgtMTstMSE9PWEuaW5BcnJheShkKCksdGhpcy5vcHRpb25zLmRpc2FibGVkKTspYj1jP2IrMTpiLTE7cmV0dXJuIGJ9LF9mb2N1c05leHRUYWI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT10aGlzLl9maW5kTmV4dFRhYihhLGIpLHRoaXMudGFicy5lcShhKS5mb2N1cygpLGF9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4iYWN0aXZlIj09PWE/KHRoaXMuX2FjdGl2YXRlKGIpLHZvaWQgMCk6ImRpc2FibGVkIj09PWE/KHRoaXMuX3NldHVwRGlzYWJsZWQoYiksdm9pZCAwKToodGhpcy5fc3VwZXIoYSxiKSwiY29sbGFwc2libGUiPT09YSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYiksYnx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLCJoZWlnaHRTdHlsZSI9PT1hJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKGIpLHZvaWQgMCl9LF90YWJJZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fCJ1aS10YWJzLSIrYygpfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoL1shIiQlJicoKSorLC5cLzo7PD0+P0BcW1xdXF5ge3x9fl0vZywiXFwkJiIpOiIifSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy50YWJsaXN0LmNoaWxkcmVuKCI6aGFzKGFbaHJlZl0pIik7Yi5kaXNhYmxlZD1hLm1hcChjLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24oYSl7cmV0dXJuIGMuaW5kZXgoYSl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGIuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhYS5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT1iLmRpc2FibGVkLmxlbmd0aD8oYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLGIuYWN0aXZlLTEpLCExKSk6Yi5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKTooYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0dXBEaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIikuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJJbmRleDowfSksdGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpLnNob3coKS5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pKTp0aGlzLnRhYnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsInRhYmxpc3QiKSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpLmF0dHIoe3JvbGU6InRhYiIsdGFiSW5kZXg6LTF9KSx0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBhKCJhIix0aGlzKVswXX0pLmFkZENsYXNzKCJ1aS10YWJzLWFuY2hvciIpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscz1hKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZixnLGgsaT1hKGUpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxqPWEoZSkuY2xvc2VzdCgibGkiKSxrPWouYXR0cigiYXJpYS1jb250cm9scyIpO2QoZSk/KGY9ZS5oYXNoLGc9Yi5lbGVtZW50LmZpbmQoYi5fc2FuaXRpemVTZWxlY3RvcihmKSkpOihoPWIuX3RhYklkKGopLGY9IiMiK2gsZz1iLmVsZW1lbnQuZmluZChmKSxnLmxlbmd0aHx8KGc9Yi5fY3JlYXRlUGFuZWwoaCksZy5pbnNlcnRBZnRlcihiLnBhbmVsc1tjLTFdfHxiLnRhYmxpc3QpKSxnLmF0dHIoImFyaWEtbGl2ZSIsInBvbGl0ZSIpKSxnLmxlbmd0aCYmKGIucGFuZWxzPWIucGFuZWxzLmFkZChnKSksayYmai5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiLGspLGouYXR0cih7ImFyaWEtY29udHJvbHMiOmYuc3Vic3RyaW5nKDEpLCJhcmlhLWxhYmVsbGVkYnkiOml9KSxnLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsaSl9KSx0aGlzLnBhbmVscy5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuYXR0cigicm9sZSIsInRhYnBhbmVsIil9LF9nZXRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKCJvbCx1bCIpLmVxKDApfSxfY3JlYXRlUGFuZWw6ZnVuY3Rpb24oYil7cmV0dXJuIGEoIjxkaXY+IikuYXR0cigiaWQiLGIpLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24oYil7YS5pc0FycmF5KGIpJiYoYi5sZW5ndGg/Yi5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoYj0hMCk6Yj0hMSk7Zm9yKHZhciBjLGQ9MDtjPXRoaXMudGFic1tkXTtkKyspYj09PSEwfHwtMSE9PWEuaW5BcnJheShkLGIpP2EoYykuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKTphKGMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9Yn0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBjPXtjbGljazpmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9fTtiJiZhLmVhY2goYi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Y1tiXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxjKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT1iPyhjPWQuaGVpZ2h0KCksYy09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1kJiYiZml4ZWQiIT09ZCYmKGMtPWIub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2MtPWEodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYy1hKHRoaXMpLmlubmVySGVpZ2h0KCkrYSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09YiYmKGM9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7Yz1NYXRoLm1heChjLGEodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoYykpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMuYWN0aXZlLGU9YShiLmN1cnJlbnRUYXJnZXQpLGY9ZS5jbG9zZXN0KCJsaSIpLGc9ZlswXT09PWRbMF0saD1nJiZjLmNvbGxhcHNpYmxlLGk9aD9hKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaj1kLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihkKTphKCksaz17b2xkVGFiOmQsb2xkUGFuZWw6aixuZXdUYWI6aD9hKCk6ZixuZXdQYW5lbDppfTtiLnByZXZlbnREZWZhdWx0KCksZi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Zi5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8ZyYmIWMuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIixiLGspPT09ITF8fChjLmFjdGl2ZT1oPyExOnRoaXMudGFicy5pbmRleChmKSx0aGlzLmFjdGl2ZT1nP2EoKTpmLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGoubGVuZ3RofHxpLmxlbmd0aHx8YS5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaS5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoZiksYiksdGhpcy5fdG9nZ2xlKGIsaykpfSxfdG9nZ2xlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2YucnVubmluZz0hMSxmLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYixjKX1mdW5jdGlvbiBlKCl7Yy5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksZy5sZW5ndGgmJmYub3B0aW9ucy5zaG93P2YuX3Nob3coZyxmLm9wdGlvbnMuc2hvdyxkKTooZy5zaG93KCksZCgpKX12YXIgZj10aGlzLGc9Yy5uZXdQYW5lbCxoPWMub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLGgubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGgsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxlKCl9KTooYy5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaC5oaWRlKCksZSgpKSxoLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksYy5vbGRUYWIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksZy5sZW5ndGgmJmgubGVuZ3RoP2Mub2xkVGFiLmF0dHIoInRhYkluZGV4IiwtMSk6Zy5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksZy5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLGMubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9maW5kQWN0aXZlKGIpO2RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGQubGVuZ3RofHwoZD10aGlzLmFjdGl2ZSksYz1kLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmMsY3VycmVudFRhcmdldDpjLHByZXZlbnREZWZhdWx0OmEubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT0hMT9hKCk6dGhpcy50YWJzLmVxKGIpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhJiYoYT10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK2ErIiddIikpKSxhfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIiksdGhpcy50YWJsaXN0LnJlbW92ZUNsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmFuY2hvcnMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7YS5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP2EodGhpcykucmVtb3ZlKCk6YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIil9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2M/Yi5hdHRyKCJhcmlhLWNvbnRyb2xzIixjKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTpiLnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pLHRoaXMucGFuZWxzLnNob3coKSwiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7ZCE9PSExJiYoYz09PWI/ZD0hMTooYz10aGlzLl9nZXRJbmRleChjKSxkPWEuaXNBcnJheShkKT9hLm1hcChkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yz9hOm51bGx9KTphLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiE9PWM/YjpudWxsfSkpLHRoaXMuX3NldHVwRGlzYWJsZWQoZCkpfSxkaXNhYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihkIT09ITApe2lmKGM9PT1iKWQ9ITA7ZWxzZXtpZihjPXRoaXMuX2dldEluZGV4KGMpLC0xIT09YS5pbkFycmF5KGMsZCkpcmV0dXJuO2Q9YS5pc0FycmF5KGQpP2EubWVyZ2UoW2NdLGQpLnNvcnQoKTpbY119dGhpcy5fc2V0dXBEaXNhYmxlZChkKX19LGxvYWQ6ZnVuY3Rpb24oYixjKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMsZj10aGlzLnRhYnMuZXEoYiksZz1mLmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGg9dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaT17dGFiOmYscGFuZWw6aH07ZChnWzBdKXx8KHRoaXMueGhyPWEuYWpheCh0aGlzLl9hamF4U2V0dGluZ3MoZyxjLGkpKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJihmLmFkZENsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxoLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5zdWNjZXNzKGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmh0bWwoYSksZS5fdHJpZ2dlcigibG9hZCIsYyxpKX0sMSl9KS5jb21wbGV0ZShmdW5jdGlvbihhLGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsiYWJvcnQiPT09YiYmZS5wYW5lbHMuc3RvcCghMSwhMCksZi5yZW1vdmVDbGFzcygidWktdGFicy1sb2FkaW5nIiksaC5yZW1vdmVBdHRyKCJhcmlhLWJ1c3kiKSxhPT09ZS54aHImJmRlbGV0ZSBlLnhocn0sMSl9KSkpfSxfYWpheFNldHRpbmdzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO3JldHVybnt1cmw6Yi5hdHRyKCJocmVmIiksYmVmb3JlU2VuZDpmdW5jdGlvbihiLGYpe3JldHVybiBlLl90cmlnZ2VyKCJiZWZvcmVMb2FkIixjLGEuZXh0ZW5kKHtqcVhIUjpiLGFqYXhTZXR0aW5nczpmfSxkKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuYXR0cigiYXJpYS1jb250cm9scyIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKCIjIitjKSl9fSl9KGEpLGZ1bmN0aW9uKCl7fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hLm9yaWdpbmFsRXZlbnQsaT1lLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksZj1NYXRoLmFicyhpLngpLGc9TWF0aC5hYnMoaS55KSxoPU1hdGguYWJzKGkueiksIWIub3JpZW50YXRpb24mJihmPjd8fChoPjYmJjg+Z3x8OD5oJiZnPjYpJiZmPjUpP2QuZW5hYmxlZCYmZC5kaXNhYmxlKCk6ZC5lbmFibGVkfHxkLmVuYWJsZSgpfWEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgZCxlLGYsZyxoLGksaj1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGopJiZqLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTE/KGQ9YS5tb2JpbGUuem9vbSxhLm1vYmlsZS5kb2N1bWVudC5vbigibW9iaWxlaW5pdCIsZnVuY3Rpb24oKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQmJmEubW9iaWxlLndpbmRvdy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsZC5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsYyl9KSx2b2lkIDApOihhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEsdm9pZCAwKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXtlLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGU9YSgiaHRtbCIpLGY9YS5tb2JpbGUud2luZG93O2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpLGEubW9iaWxlLmdyYWRlQSgpJiYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoZCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLnBhdGgsZT1hKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiksZz1iLnN0cmlwSGFzaChiLnN0cmlwUXVlcnlQYXJhbXMoYi5wYXJzZUxvY2F0aW9uKCkuaGFzaCkpLGg9Yy5nZXRFbGVtZW50QnlJZChnKTtlLmxlbmd0aHx8KGU9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKSxlLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2JbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9ZS5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKS5jb250ZW50KCksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZi50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCksZCgpLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYShoKS5pcygiOmpxbURhdGEocm9sZT0ncGFnZScpIil8fGEubW9iaWxlLnBhdGguaXNQYXRoKGcpfHxnPT09YS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGEubW9iaWxlLm5hdmlnYXRlKGEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOmYudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9Zy5yZXBsYWNlKCIjIiwiIikpLGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaChiLnBhcnNlTG9jYXRpb24oKS5ocmVmKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGEoZnVuY3Rpb24oKXthLnN1cHBvcnQuaW5saW5lU1ZHKCksYS5tb2JpbGUuaGlkZVVybEJhciYmYi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPWEuc3VwcG9ydC5zY3JvbGxUb3AmJjEhPT1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk/MTowLGEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZmLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKSxhLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1kaXNhYmxlZCIsInZjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KX0pKX0oYSx0aGlzKX0pOwovKgovL0Agc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuNC4wLWFscGhhLjIubWluLm1hcAoqLw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Length": "184669",
                    "Date": "Fri, 07 Nov 2014 06:49:44 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
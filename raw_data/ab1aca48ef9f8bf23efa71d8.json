{
    "url": "http://localhost:9999/futurepress/epub.js/libs/polymer/polymer.native.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'setAttribute()' function of a DOM element</b> via the following statement:<ul><li>d.setAttribu...(\"href\" , document.baseURI) </li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/futurepress/epub.js/libs/polymer/polymer.native.min.js",
                "path": "/futurepress/epub.js/libs/polymer/polymer.native.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9mdXR1cmVwcmVzcy9lcHViLmpzL2xpYnMvcG9seW1lci9wb2x5bWVyLm5hdGl2ZS5taW4uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTE4MzI1DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBUaHUsIDA2IE5vdiAyMDE0IDIzOjIyOjEzIEdNVA0KTGFzdC1Nb2RpZmllZDogVGh1LCAwNiBOb3YgMjAxNCAyMzoyMjoxMiBHTVQNCg0KLy8gQ29weXJpZ2h0IChjKSAyMDEyIFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vCi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAovLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlCi8vIG1ldDoKLy8KLy8gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodAovLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCi8vICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZQovLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyCi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUKLy8gZGlzdHJpYnV0aW9uLgovLyAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMKLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20KLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwovLyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAovLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQovLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQovLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgpmdW5jdGlvbiBQb2ludGVyR2VzdHVyZUV2ZW50KGEsYil7dmFyIGM9Ynx8e30sZD1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSxlPXtidWJibGVzOiEwLGNhbmNlbGFibGU6ITB9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EgaW4gYyYmKGVbYV09Y1thXSl9KSxkLmluaXRFdmVudChhLGUuYnViYmxlcyxlLmNhbmNlbGFibGUpLE9iamVjdC5rZXlzKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7ZFthXT1iW2FdfSksZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfXZhciBTaWRlVGFibGU7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBXZWFrTWFwJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3gvIik8MD9TaWRlVGFibGU9V2Vha01hcDpmdW5jdGlvbigpe3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxjPShuZXcgRGF0ZSkuZ2V0VGltZSgpJTFlOTtTaWRlVGFibGU9ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyhjKysgKyJfXyIpfSxTaWRlVGFibGUucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXthKGIsdGhpcy5uYW1lLHt2YWx1ZTpjLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYi5jYWxsKGEsdGhpcy5uYW1lKT9hW3RoaXMubmFtZV06dm9pZCAwfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt0aGlzLnNldChhLHZvaWQgMCl9fX0oKSxmdW5jdGlvbigpe3dpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sd2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSFRNTEVsZW1lbnQucHJvdG90eXBlLHtzaGFkb3dSb290OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRTaGFkb3dSb290fX0sY3JlYXRlU2hhZG93Um9vdDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRDcmVhdGVTaGFkb3dSb290KCl9fX0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oYSl7aWYod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChhKSwhYS5jb250ZW50JiYhYS5fY29udGVudCl7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTthLl9jb250ZW50PWJ9cmV0dXJuIGEuY29udGVudHx8YS5fY29udGVudH19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9YXx8e30sZD0xO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe3ZhciBlPWFyZ3VtZW50c1tkXTt0cnl7Zm9yKHZhciBmIGluIGUpYyhmLGUsYil9Y2F0Y2goZyl7fX1yZXR1cm4gYn1mdW5jdGlvbiBjKGEsYixjKXt2YXIgZT1kKGIsYSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsYSxlKX1mdW5jdGlvbiBkKGEsYil7aWYoYSl7dmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpO3JldHVybiBjfHxkKE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxiKX19RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuc2xpY2UoKTtyZXR1cm4gZC5wdXNoLmFwcGx5KGQsYXJndW1lbnRzKSxiLmFwcGx5KGEsZCl9fSksYS5taXhpbj1ifSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYixjKXt2YXIgZD0ic3RyaW5nIj09dHlwZW9mIGE/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTphLmNsb25lTm9kZSghMCk7aWYoZC5pbm5lckhUTUw9YixjKWZvcih2YXIgZSBpbiBjKWQuc2V0QXR0cmlidXRlKGUsY1tlXSk7cmV0dXJuIGR9dmFyIGM9RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5hZGQsZD1ET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZTtET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspYy5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWQuY2FsbCh0aGlzLGFyZ3VtZW50c1thXSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGEsYil7MT09YXJndW1lbnRzLmxlbmd0aCYmKGI9IXRoaXMuY29udGFpbnMoYSkpLGI/dGhpcy5hZGQoYSk6dGhpcy5yZW1vdmUoYSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUuc3dpdGNoPWZ1bmN0aW9uKGEsYil7YSYmdGhpcy5yZW1vdmUoYSksYiYmdGhpcy5hZGQoYil9O3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMpfSxmPXdpbmRvdy5OYW1lZE5vZGVNYXB8fHdpbmRvdy5Nb3pOYW1lZEF0dHJNYXB8fHt9O05vZGVMaXN0LnByb3RvdHlwZS5hcnJheT1lLGYucHJvdG90eXBlLmFycmF5PWUsSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlLmFycmF5PWU7dmFyIGc9ZnVuY3Rpb24oYSxiKXtlLmNhbGwodGhpcykuZm9yRWFjaChhLGIpfTtpZihOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaD1nLGYucHJvdG90eXBlLmZvckVhY2g9ZyxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaD1nLCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBoPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1ofX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSksYS5jcmVhdGVET009Yn0od2luZG93LlBsYXRmb3JtKSx3aW5kb3cudGVtcGxhdGVDb250ZW50PXdpbmRvdy50ZW1wbGF0ZUNvbnRlbnR8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnR9LGZ1bmN0aW9uKGEpe2E9YXx8KHdpbmRvdy5JbnNwZWN0b3I9e30pO3ZhciBiO3dpbmRvdy5zaW5zcGVjdD1mdW5jdGlvbihhLGQpe2J8fChiPXdpbmRvdy5vcGVuKCIiLCJTaGFkb3dET00gSW5zcGVjdG9yIixudWxsLCEwKSxiLmRvY3VtZW50LndyaXRlKGMpLGIuYXBpPXtzaGFkb3dpemU6c2hhZG93aXplfSksZihhfHx3cmFwKGRvY3VtZW50LmJvZHkpLGQpfTt2YXIgYz1bIjwhRE9DVFlQRSBodG1sPiIsIjxodG1sPiIsIiAgPGhlYWQ+IiwiICAgIDx0aXRsZT5TaGFkb3dET00gSW5zcGVjdG9yPC90aXRsZT4iLCIgICAgPHN0eWxlPiIsIiAgICAgIGJvZHkgeyIsIiAgICAgIH0iLCIgICAgICBwcmUgeyIsJyAgICAgICAgZm9udDogOXB0ICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsnLCIgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTsiLCIgICAgICB9IiwiICAgICAgdGFnIHsiLCIgICAgICAgIGNvbG9yOiBwdXJwbGU7IiwiICAgICAgfSIsIiAgICAgIHVsIHsiLCIgICAgICAgICBtYXJnaW46IDA7IiwiICAgICAgICAgcGFkZGluZzogMDsiLCIgICAgICAgICBsaXN0LXN0eWxlOiBub25lOyIsIiAgICAgIH0iLCIgICAgICBsaSB7IiwiICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyIsIiAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7IiwiICAgICAgICAgcGFkZGluZzogNHB4IDZweDsiLCIgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IiwiICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7IiwiICAgICAgfSIsIiAgICA8L3N0eWxlPiIsIiAgPC9oZWFkPiIsIiAgPGJvZHk+IiwnICAgIDx1bCBpZD0iY3J1bWJzIj4nLCIgICAgPC91bD4iLCcgICAgPGRpdiBpZD0idHJlZSI+PC9kaXY+JywiICA8L2JvZHk+IiwiPC9odG1sPiJdLmpvaW4oIlxuIiksZD1bXSxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5kb2N1bWVudCxjPWEucXVlcnlTZWxlY3RvcigiI2NydW1icyIpO2MudGV4dENvbnRlbnQ9IiI7Zm9yKHZhciBlLGc9MDtlPWRbZ107ZysrKXt2YXIgaD1hLmNyZWF0ZUVsZW1lbnQoImEiKTtoLmhyZWY9IiMiLGgudGV4dENvbnRlbnQ9ZS5sb2NhbE5hbWUsaC5pZHg9ZyxoLm9uY2xpY2s9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiO2QubGVuZ3RoPnRoaXMuaWR4OyliPWQucG9wKCk7ZihiLnNoYWRvd3x8YixiKSxhLnByZXZlbnREZWZhdWx0KCl9LGMuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJsaSIpKS5hcHBlbmRDaGlsZChoKX19LGY9ZnVuY3Rpb24oYSxjKXt2YXIgZj1iLmRvY3VtZW50O2s9W107dmFyIGc9Y3x8YTtkLnB1c2goZyksZSgpLGYuYm9keS5xdWVyeVNlbGVjdG9yKCIjdHJlZSIpLmlubmVySFRNTD0iPHByZT4iK2ooYSxhLmNoaWxkTm9kZXMpKyI8L3ByZT4ifSxnPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksaD17U1RZTEU6MSxTQ1JJUFQ6MSwiI2NvbW1lbnQiOjEsVEVNUExBVEU6MX0saT1mdW5jdGlvbihhKXtyZXR1cm4gaFthLm5vZGVOYW1lXX0saj1mdW5jdGlvbihhLGIsYyl7aWYoaShhKSlyZXR1cm4iIjt2YXIgZD1jfHwiIjtpZihhLmxvY2FsTmFtZXx8MTE9PWEubm9kZVR5cGUpe3ZhciBlPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiLGY9ZCtsKGEpOyJjb250ZW50Ij09ZSYmKGI9YS5nZXREaXN0cmlidXRlZE5vZGVzKCkpLGYrPSI8YnIvPiI7dmFyIGg9ZCsiJm5ic3A7Jm5ic3A7IjtnKGIsZnVuY3Rpb24oYSl7Zis9aihhLGEuY2hpbGROb2RlcyxoKX0pLGYrPWQse2JyOjF9W2VdfHwoZis9Ijx0YWc+Jmx0Oy8iK2UrIiZndDs8L3RhZz4iLGYrPSI8YnIvPiIpfWVsc2V7dmFyIGs9YS50ZXh0Q29udGVudC50cmltKCk7Zj1rP2QrJyInK2srJyInKyI8YnIvPiI6IiJ9cmV0dXJuIGZ9LGs9W10sbD1mdW5jdGlvbihhKXt2YXIgYj0iPHRhZz4mbHQ7IixjPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiO3JldHVybiBhLndlYmtpdFNoYWRvd1Jvb3R8fGEuc2hhZG93Um9vdD8oYis9JyA8YnV0dG9uIGlkeD0iJytrLmxlbmd0aCsnIiBvbmNsaWNrPSJhcGkuc2hhZG93aXplLmNhbGwodGhpcykiPicrYysiPC9idXR0b24+IixrLnB1c2goYSkpOmIrPWN8fCJzaGFkb3ctcm9vdCIsYS5hdHRyaWJ1dGVzJiZnKGEuYXR0cmlidXRlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5uYW1lKyhhLnZhbHVlPyc9IicrYS52YWx1ZSsnIic6IiIpfSksYis9IiZndDs8L3RhZz4ifTtzaGFkb3dpemU9ZnVuY3Rpb24oKXt2YXIgYT1OdW1iZXIodGhpcy5hdHRyaWJ1dGVzLmlkeC52YWx1ZSksYj1rW2FdO2I/ZihiLndlYmtpdFNoYWRvd1Jvb3R8fGIuc2hhZG93Um9vdCxiKTooY29uc29sZS5sb2coImJhZCBzaGFkb3dpemUgbm9kZSIpLGNvbnNvbGUuZGlyKHRoaXMpKX0sYS5vdXRwdXQ9an0od2luZG93Lkluc3BlY3RvciksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtmdW5jdGlvbiBhKGEpeyJzcGxpY2UiPT09YVswXS50eXBlJiYic3BsaWNlIj09PWFbMV0udHlwZSYmKGI9ITApfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9ITEsYz1bMF07cmV0dXJuIEFycmF5Lm9ic2VydmUoYyxhKSxjWzFdPTEsYy5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksYn1mdW5jdGlvbiBjKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZChhKXtyZXR1cm4rYX1mdW5jdGlvbiBlKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpLKGEpJiZLKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBnKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnJlcGxhY2UoL1xzL2csIiIpLCIiPT1hPyEwOiIuIj09YVswXT8hMTpTLnRlc3QoYSkpfWZ1bmN0aW9uIGgoYSl7dmFyIGI9VFthXTtpZihiKXJldHVybiBiO2lmKGcoYSkpe3ZhciBiPW5ldyBpKGEpO3JldHVybiBUW2FdPWIsYn19ZnVuY3Rpb24gaShhKXtyZXR1cm4iIj09YS50cmltKCk/dGhpczpjKGEpPyh0aGlzLnB1c2goU3RyaW5nKGEpKSx0aGlzKTooYS5zcGxpdCgvXC4vKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucHVzaChhKX0sdGhpcyksSCYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSksdm9pZCAwKX1mdW5jdGlvbiBqKGEpe2Zvcih2YXIgYj0wO1U+YiYmYS5jaGVjaygpOylhLnJlcG9ydCgpLGIrK31mdW5jdGlvbiBrKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGsoYS5hZGRlZCkmJmsoYS5yZW1vdmVkKSYmayhhLmNoYW5nZWQpfWZ1bmN0aW9uIG0oYSxiKXt2YXIgYz17fSxkPXt9LGU9e307Zm9yKHZhciBmIGluIGIpe3ZhciBnPWFbZl07KHZvaWQgMD09PWd8fGchPT1iW2ZdKSYmKGYgaW4gYT9nIT09YltmXSYmKGVbZl09Zyk6ZFtmXT12b2lkIDApfWZvcih2YXIgZiBpbiBhKWYgaW4gYnx8KGNbZl09YVtmXSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoIT09Yi5sZW5ndGgmJihlLmxlbmd0aD1hLmxlbmd0aCkse2FkZGVkOmMscmVtb3ZlZDpkLGNoYW5nZWQ6ZX19ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWJ8fChBcnJheS5pc0FycmF5KGEpP1tdOnt9KTtmb3IodmFyIGQgaW4gYSljW2RdPWFbZF07cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJihjLmxlbmd0aD1hLmxlbmd0aCksY31mdW5jdGlvbiBvKGEsYixjLGQpe3RoaXMub2JqZWN0PWEsdGhpcy5jYWxsYmFjaz1iLHRoaXMudGFyZ2V0PWMsdGhpcy50b2tlbj1kLHRoaXMucmVwb3J0aW5nPSEwLEcmJih0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjaz10aGlzLmludGVybmFsQ2FsbGJhY2suYmluZCh0aGlzKSksdGhpcy52YWxpZD0hMCxwKHRoaXMpLHRoaXMuY29ubmVjdCgpLHRoaXMuc3luYyghMCl9ZnVuY3Rpb24gcChhKXtXJiYoVi5wdXNoKGEpLG8uX2FsbE9ic2VydmVyc0NvdW50KyspfWZ1bmN0aW9uIHEoYSxiLGMsZCl7by5jYWxsKHRoaXMsYSxiLGMsZCl9ZnVuY3Rpb24gcihhLGIsYyxkKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO28uY2FsbCh0aGlzLGEsYixjLGQpfWZ1bmN0aW9uIHMoYSl7dGhpcy5hcnI9W10sdGhpcy5jYWxsYmFjaz1hLHRoaXMuaXNPYnNlcnZlZD0hMH1mdW5jdGlvbiB0KGEsYixjLGQsZil7dGhpcy52YWx1ZT12b2lkIDA7dmFyIGc9aChiKTtyZXR1cm4gZz9nLmxlbmd0aD8oZShhKSYmKHRoaXMucGF0aD1nLG8uY2FsbCh0aGlzLGEsYyxkLGYpKSx2b2lkIDApOih0aGlzLnZhbHVlPWEsdm9pZCAwKTp2b2lkIDB9ZnVuY3Rpb24gdShhLGIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3Qub2JzZXJ2ZSl7dmFyIGM9T2JqZWN0LmdldE5vdGlmaWVyKGEpO3JldHVybiBmdW5jdGlvbihkLGUpe3ZhciBmPXtvYmplY3Q6YSx0eXBlOmQsbmFtZTpifTsyPT09YXJndW1lbnRzLmxlbmd0aCYmKGYub2xkVmFsdWU9ZSksYy5ub3RpZnkoZil9fX1mdW5jdGlvbiB2KGEsYixjKXtmb3IodmFyIGQ9e30sZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07X1tnLnR5cGVdPyhnLm5hbWUgaW4gY3x8KGNbZy5uYW1lXT1nLm9sZFZhbHVlKSwidXBkYXRlZCIhPWcudHlwZSYmKCJuZXciIT1nLnR5cGU/Zy5uYW1lIGluIGQ/KGRlbGV0ZSBkW2cubmFtZV0sZGVsZXRlIGNbZy5uYW1lXSk6ZVtnLm5hbWVdPSEwOmcubmFtZSBpbiBlP2RlbGV0ZSBlW2cubmFtZV06ZFtnLm5hbWVdPSEwKSk6KGNvbnNvbGUuZXJyb3IoIlVua25vd24gY2hhbmdlUmVjb3JkIHR5cGU6ICIrZy50eXBlKSxjb25zb2xlLmVycm9yKGcpKX1mb3IodmFyIGggaW4gZClkW2hdPWFbaF07Zm9yKHZhciBoIGluIGUpZVtoXT12b2lkIDA7dmFyIGk9e307Zm9yKHZhciBoIGluIGMpaWYoIShoIGluIGR8fGggaW4gZSkpe3ZhciBqPWFbaF07Y1toXSE9PWomJihpW2hdPWopfXJldHVybnthZGRlZDpkLHJlbW92ZWQ6ZSxjaGFuZ2VkOml9fWZ1bmN0aW9uIHcoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz1mLWUrMSxoPWMtYisxLGk9bmV3IEFycmF5KGcpLGo9MDtnPmo7aisrKWlbal09bmV3IEFycmF5KGgpLGlbal1bMF09ajtmb3IodmFyIGs9MDtoPms7aysrKWlbMF1ba109aztmb3IodmFyIGo9MTtnPmo7aisrKWZvcih2YXIgaz0xO2g+aztrKyspaWYoZFtlK2otMV09PT1hW2Iray0xXSlpW2pdW2tdPWlbai0xXVtrLTFdO2Vsc2V7dmFyIGw9aVtqLTFdW2tdKzEsbT1pW2pdW2stMV0rMTtpW2pdW2tdPW0+bD9sOm19cmV0dXJuIGl9ZnVuY3Rpb24geChhKXtmb3IodmFyIGI9YS5sZW5ndGgtMSxjPWFbMF0ubGVuZ3RoLTEsZD1hW2JdW2NdLGU9W107Yj4wfHxjPjA7KWlmKDAhPWIpaWYoMCE9Yyl7dmFyIGYsZz1hW2ItMV1bYy0xXSxoPWFbYi0xXVtjXSxpPWFbYl1bYy0xXTtmPWk+aD9nPmg/aDpnOmc+aT9pOmcsZj09Zz8oZz09ZD9lLnB1c2goYWIpOihlLnB1c2goYmIpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKGRiKSxiLS0sZD1oKTooZS5wdXNoKGNiKSxjLS0sZD1pKX1lbHNlIGUucHVzaChkYiksYi0tO2Vsc2UgZS5wdXNoKGNiKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9ZnVuY3Rpb24geShhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZihhW2RdIT09YltkXSlyZXR1cm4gZDtyZXR1cm4gY31mdW5jdGlvbiB6KGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZhWy0tZF09PT1iWy0tZV07KWYrKztyZXR1cm4gZn1mdW5jdGlvbiBBKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBCKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXkoYSxkLGkpKSxjPT1hLmxlbmd0aCYmZj09ZC5sZW5ndGgmJihoPXooYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsMD09Yy1iJiYwPT1mLWUpcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPUEoYixbXSwwKTtmPmU7KWoucmVtb3ZlZC5wdXNoKGRbZSsrXSk7cmV0dXJuW2pdfWlmKGU9PWYpcmV0dXJuW0EoYixbXSxjLWIpXTtmb3IodmFyIGs9eCh3KGEsYixjLGQsZSxmKSksaj12b2lkIDAsbD1bXSxtPWIsbj1lLG89MDtvPGsubGVuZ3RoO28rKylzd2l0Y2goa1tvXSl7Y2FzZSBhYjpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgYmI6anx8KGo9QShtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKyssai5yZW1vdmVkLnB1c2goZFtuXSksbisrO2JyZWFrO2Nhc2UgY2I6anx8KGo9QShtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKys7YnJlYWs7Y2FzZSBkYjpqfHwoaj1BKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9ZnVuY3Rpb24gQyhhLGIsYyxkKXtyZXR1cm4gYz5ifHxhPmQ/LTE6Yj09Y3x8ZD09YT8wOmM+YT9kPmI/Yi1jOmQtYzpiPmQ/ZC1hOmItYX1mdW5jdGlvbiBEKGEsYixjLGQpe2Zvcih2YXIgZT1BKGIsYyxkKSxmPSExLGc9MCxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBpPWFbaF07aWYoaS5pbmRleCs9ZywhZil7dmFyIGo9QyhlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIEUoYSxiKXtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3N3aXRjaChnLnR5cGUpe2Nhc2Uic3BsaWNlIjpEKGUsZy5pbmRleCxnLnJlbW92ZWQuc2xpY2UoKSxnLmFkZGVkQ291bnQpO2JyZWFrO2Nhc2UibmV3IjpjYXNlInVwZGF0ZWQiOmNhc2UiZGVsZXRlZCI6aWYoIWMoZy5uYW1lKSljb250aW51ZTt2YXIgaD1kKGcubmFtZSk7aWYoMD5oKWNvbnRpbnVlO0QoZSxoLFtnLm9sZFZhbHVlXSwxKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoIlVuZXhwZWN0ZWQgcmVjb3JkIHR5cGU6ICIrSlNPTi5zdHJpbmdpZnkoZykpfX1yZXR1cm4gZX1mdW5jdGlvbiBGKGEsYil7dmFyIGM9W107cmV0dXJuIEUoYSxiKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiAxPT1iLmFkZGVkQ291bnQmJjE9PWIucmVtb3ZlZC5sZW5ndGg/KGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSx2b2lkIDApOihjPWMuY29uY2F0KEIoYSxiLmluZGV4LGIuaW5kZXgrYi5hZGRlZENvdW50LGIucmVtb3ZlZCwwLGIucmVtb3ZlZC5sZW5ndGgpKSx2b2lkIDApfSksY312YXIgRz1iKCksSD0hMTt0cnl7dmFyIEk9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtIPUkoKX1jYXRjaChKKXt9dmFyIEs9YS5OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGIpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYiYmYS5pc05hTihiKX0sTD0iX19wcm90b19fImlue30/ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OmZ1bmN0aW9uKGEpe3ZhciBiPWEuX19wcm90b19fO2lmKCFiKXJldHVybiBhO3ZhciBjPU9iamVjdC5jcmVhdGUoYik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsYixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYikpfSksY30sTT0iWyRfYS16QS1aXSIsTj0iWyRfYS16QS1aMC05XSIsTz1NKyIrIitOKyIqIixQPSIoPzpbMC05XXxbMS05XStbMC05XSspIixRPSIoPzoiK08rInwiK1ArIikiLFI9Iig/OiIrUSsiKSg/OlxcLiIrUSsiKSoiLFM9bmV3IFJlZ0V4cCgiXiIrUisiJCIpLFQ9e307aS5wcm90b3R5cGU9TCh7X19wcm90b19fOltdLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuam9pbigiLiIpfSxnZXRWYWx1ZUZyb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmxlbmd0aDtiKyspe2lmKHZvaWQgMD09PWF8fG51bGw9PT1hKXJldHVybjthPWFbdGhpc1tiXV19cmV0dXJuIGF9LGdldFZhbHVlRnJvbU9ic2VydmVkOmZ1bmN0aW9uKGEsYil7Yi5yZXNldCgpO2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZih2b2lkIDA9PT1hfHxudWxsPT09YSlyZXR1cm4gYi5jbGVhbnVwKCksdm9pZCAwO2Iub2JzZXJ2ZShhKSxhPWFbdGhpc1tjXV19cmV0dXJuIGF9LGNvbXBpbGVkR2V0VmFsdWVGcm9tRm46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYyhhKT8nWyInK2ErJyJdJzoiLiIrYX0pLGI9IiIsZD0ib2JqIjtiKz0iaWYgKG9iaiAhPT0gbnVsbCAmJiBvYmogIT09IHVuZGVmaW5lZCI7Zm9yKHZhciBlPTA7ZTx0aGlzLmxlbmd0aC0xO2UrKyl0aGlzW2VdLGQrPWFbZV0sYis9IiAmJlxuICAgICAiK2QrIiAhPT0gbnVsbCAmJiAiK2QrIiAhPT0gdW5kZWZpbmVkIjtyZXR1cm4gYis9IilcbiIsZCs9YVtlXSxiKz0iICByZXR1cm4gIitkKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZih2b2lkIDA9PT1hfHxudWxsPT09YSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PT1hPyExOihhW3RoaXNbdGhpcy5sZW5ndGgtMV1dPWIsITApfX0pO3ZhciBVPTFlMztvLnByb3RvdHlwZT17dmFsaWQ6ITEsaW50ZXJuYWxDYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLnZhbGlkJiZ0aGlzLnJlcG9ydGluZyYmdGhpcy5jaGVjayhhKSYmKHRoaXMucmVwb3J0KCksdGhpcy50ZXN0aW5nUmVzdWx0cyYmKHRoaXMudGVzdGluZ1Jlc3VsdHMuYW55Q2hhbmdlZD0hMCkpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMudmFsaWQmJigiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vYmplY3QudW5vYnNlcnZlZCYmdGhpcy5vYmplY3QudW5vYnNlcnZlZCgpLHRoaXMuZGlzY29ubmVjdCgpLHRoaXMub2JqZWN0PXZvaWQgMCx0aGlzLnZhbGlkPSExKX0sZGVsaXZlcjpmdW5jdGlvbihhKXt0aGlzLnZhbGlkJiYoRz8odGhpcy50ZXN0aW5nUmVzdWx0cz1hLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3Jkcyh0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjayksdGhpcy50ZXN0aW5nUmVzdWx0cz12b2lkIDApOmoodGhpcykpfSxyZXBvcnQ6ZnVuY3Rpb24oKXtpZih0aGlzLnJlcG9ydGluZyl7dGhpcy5zeW5jKCExKSx0aGlzLnJlcG9ydEFyZ3MucHVzaCh0aGlzLnRva2VuKTt0cnl7dGhpcy5jYWxsYmFjay5hcHBseSh0aGlzLnRhcmdldCx0aGlzLnJlcG9ydEFyZ3MpfWNhdGNoKGEpe28uX2Vycm9yVGhyb3duRHVyaW5nQ2FsbGJhY2s9ITAsY29uc29sZS5lcnJvcigiRXhjZXB0aW9uIGNhdWdodCBkdXJpbmcgb2JzZXJ2ZXIgY2FsbGJhY2s6ICIrYSl9dGhpcy5yZXBvcnRBcmdzPXZvaWQgMH19LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy52YWxpZCYmKEcmJih0aGlzLnJlcG9ydGluZz0hMSxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHModGhpcy5ib3VuZEludGVybmFsQ2FsbGJhY2spLHRoaXMucmVwb3J0aW5nPSEwKSx0aGlzLnN5bmMoITApKX19O3ZhciBWLFc9IUd8fGEuZm9yY2VDb2xsZWN0T2JzZXJ2ZXJzO28uX2FsbE9ic2VydmVyc0NvdW50PTAsVyYmKFY9W10pO3ZhciBYPSExLFk9ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWxpdmVyQWxsQ2hhbmdlUmVjb3JkczthLlBsYXRmb3JtPWEuUGxhdGZvcm18fHt9LGEuUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQ9ZnVuY3Rpb24oKXtpZighWCl7aWYoWSlyZXR1cm4gT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzKCksdm9pZCAwO2lmKFcpe1g9ITA7dmFyIGE9MCxiPXt9O2Rve2ErKzt2YXIgYz1WO1Y9W10sYi5hbnlDaGFuZ2VkPSExO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2UudmFsaWQmJihHP2UuZGVsaXZlcihiKTplLmNoZWNrKCkmJihiLmFueUNoYW5nZWQ9ITAsZS5yZXBvcnQoKSksVi5wdXNoKGUpKX19d2hpbGUoVT5hJiZiLmFueUNoYW5nZWQpO28uX2FsbE9ic2VydmVyc0NvdW50PVYubGVuZ3RoLFg9ITF9fX0sVyYmKGEuUGxhdGZvcm0uY2xlYXJPYnNlcnZlcnM9ZnVuY3Rpb24oKXtWPVtdfSkscS5wcm90b3R5cGU9TCh7X19wcm90b19fOm8ucHJvdG90eXBlLGNvbm5lY3Q6ZnVuY3Rpb24oKXtHJiZPYmplY3Qub2JzZXJ2ZSh0aGlzLm9iamVjdCx0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjayl9LHN5bmM6ZnVuY3Rpb24oKXtHfHwodGhpcy5vbGRPYmplY3Q9bih0aGlzLm9iamVjdCkpfSxjaGVjazpmdW5jdGlvbihhKXt2YXIgYixjO2lmKEcpe2lmKCFhKXJldHVybiExO2M9e30sYj12KHRoaXMub2JqZWN0LGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0LGI9bSh0aGlzLm9iamVjdCx0aGlzLm9sZE9iamVjdCk7cmV0dXJuIGwoYik/ITE6KHRoaXMucmVwb3J0QXJncz1bYi5hZGRlZHx8e30sYi5yZW1vdmVkfHx7fSxiLmNoYW5nZWR8fHt9XSx0aGlzLnJlcG9ydEFyZ3MucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gY1thXX0pLCEwKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe0c/dGhpcy5vYmplY3QmJk9iamVjdC51bm9ic2VydmUodGhpcy5vYmplY3QsdGhpcy5ib3VuZEludGVybmFsQ2FsbGJhY2spOnRoaXMub2xkT2JqZWN0PXZvaWQgMH19KSxyLnByb3RvdHlwZT1MKHtfX3Byb3RvX186cS5wcm90b3R5cGUsY29ubmVjdDpmdW5jdGlvbigpe0cmJkFycmF5Lm9ic2VydmUodGhpcy5vYmplY3QsdGhpcy5ib3VuZEludGVybmFsQ2FsbGJhY2spfSxzeW5jOmZ1bmN0aW9uKCl7R3x8KHRoaXMub2xkT2JqZWN0PXRoaXMub2JqZWN0LnNsaWNlKCkpfSxjaGVjazpmdW5jdGlvbihhKXt2YXIgYjtpZihHKXtpZighYSlyZXR1cm4hMTtiPUYodGhpcy5vYmplY3QsYSl9ZWxzZSBiPUIodGhpcy5vYmplY3QsMCx0aGlzLm9iamVjdC5sZW5ndGgsdGhpcy5vbGRPYmplY3QsMCx0aGlzLm9sZE9iamVjdC5sZW5ndGgpO3JldHVybiBiJiZiLmxlbmd0aD8odGhpcy5yZXBvcnRBcmdzPVtiXSwhMCk6ITF9fSksci5hcHBseVNwbGljZXM9ZnVuY3Rpb24oYSxiLGMpe2MuZm9yRWFjaChmdW5jdGlvbihjKXtmb3IodmFyIGQ9W2MuaW5kZXgsYy5yZW1vdmVkLmxlbmd0aF0sZT1jLmluZGV4O2U8Yy5pbmRleCtjLmFkZGVkQ291bnQ7KWQucHVzaChiW2VdKSxlKys7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhLGQpfSl9O3ZhciBaPU9iamVjdC5nZXRQcm90b3R5cGVPZih7fSksJD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoW10pO3MucHJvdG90eXBlPXtyZXNldDpmdW5jdGlvbigpe3RoaXMuaXNPYnNlcnZlZD0hdGhpcy5pc09ic2VydmVkfSxvYnNlcnZlOmZ1bmN0aW9uKGEpe2lmKGUoYSkmJmEhPT1aJiZhIT09JCl7dmFyIGI9dGhpcy5hcnIuaW5kZXhPZihhKTtiPj0wJiZ0aGlzLmFycltiKzFdPT09dGhpcy5pc09ic2VydmVkfHwoMD5iJiYoYj10aGlzLmFyci5sZW5ndGgsdGhpcy5hcnJbYl09YSxPYmplY3Qub2JzZXJ2ZShhLHRoaXMuY2FsbGJhY2spKSx0aGlzLmFycltiKzFdPXRoaXMuaXNPYnNlcnZlZCx0aGlzLm9ic2VydmUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpKSl9fSxjbGVhbnVwOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGM9dGhpcy5pc09ic2VydmVkO2I8dGhpcy5hcnIubGVuZ3RoOyl7dmFyIGQ9dGhpcy5hcnJbYl07dGhpcy5hcnJbYisxXT09Yz8oYj5hJiYodGhpcy5hcnJbYV09ZCx0aGlzLmFyclthKzFdPWMpLGErPTIpOk9iamVjdC51bm9ic2VydmUoZCx0aGlzLmNhbGxiYWNrKSxiKz0yfXRoaXMuYXJyLmxlbmd0aD1hfX0sdC5wcm90b3R5cGU9TCh7X19wcm90b19fOm8ucHJvdG90eXBlLGNvbm5lY3Q6ZnVuY3Rpb24oKXtHJiYodGhpcy5vYnNlcnZlZFNldD1uZXcgcyh0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjaykpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy52YWx1ZT12b2lkIDAsRyYmKHRoaXMub2JzZXJ2ZWRTZXQucmVzZXQoKSx0aGlzLm9ic2VydmVkU2V0LmNsZWFudXAoKSx0aGlzLm9ic2VydmVkU2V0PXZvaWQgMCl9LGNoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWU9Rz90aGlzLnBhdGguZ2V0VmFsdWVGcm9tT2JzZXJ2ZWQodGhpcy5vYmplY3QsdGhpcy5vYnNlcnZlZFNldCk6dGhpcy5wYXRoLmdldFZhbHVlRnJvbSh0aGlzLm9iamVjdCksZih0aGlzLnZhbHVlLHRoaXMub2xkVmFsdWUpPyExOih0aGlzLnJlcG9ydEFyZ3M9W3RoaXMudmFsdWUsdGhpcy5vbGRWYWx1ZV0sITApfSxzeW5jOmZ1bmN0aW9uKGEpe2EmJih0aGlzLnZhbHVlPUc/dGhpcy5wYXRoLmdldFZhbHVlRnJvbU9ic2VydmVkKHRoaXMub2JqZWN0LHRoaXMub2JzZXJ2ZWRTZXQpOnRoaXMucGF0aC5nZXRWYWx1ZUZyb20odGhpcy5vYmplY3QpKSx0aGlzLm9sZFZhbHVlPXRoaXMudmFsdWV9fSksdC5nZXRWYWx1ZUF0UGF0aD1mdW5jdGlvbihhLGIpe3ZhciBjPWgoYik7cmV0dXJuIGM/Yy5nZXRWYWx1ZUZyb20oYSk6dm9pZCAwfSx0LnNldFZhbHVlQXRQYXRoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1oKGIpO2QmJmQuc2V0VmFsdWVGcm9tKGEsYyl9O3ZhciBfPXsibmV3IjohMCx1cGRhdGVkOiEwLGRlbGV0ZWQ6ITB9O3QuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMub2JqZWN0LGU9aChjLnBhdGgpLGY9dShhLGIpLGc9bmV3IHQoZCxjLnBhdGgsZnVuY3Rpb24oYSxiKXtmJiZmKCJ1cGRhdGVkIixiKX0pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRWYWx1ZUZyb20oZCl9LHNldDpmdW5jdGlvbihhKXtlLnNldFZhbHVlRnJvbShkLGEpfSxjb25maWd1cmFibGU6ITB9KSx7Y2xvc2U6ZnVuY3Rpb24oKXt2YXIgYz1lLmdldFZhbHVlRnJvbShkKTtmJiZnLmRlbGl2ZXIoKSxnLmNsb3NlKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7dmFsdWU6Yyx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19fTt2YXIgYWI9MCxiYj0xLGNiPTIsZGI9MzthLk9ic2VydmVyPW8sYS5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPUcsYS5BcnJheU9ic2VydmVyPXIsYS5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQihhLDAsYS5sZW5ndGgsYiwwLGIubGVuZ3RoKX0sYS5PYmplY3RPYnNlcnZlcj1xLGEuUGF0aE9ic2VydmVyPXQsYS5QYXRoPWl9KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBkKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuY29udGFpbnMoYSl9ZnVuY3Rpb24gZShhLGIsYyxkKXt0aGlzLmNsb3NlZD0hMSx0aGlzLm5vZGU9YSx0aGlzLnByb3BlcnR5PWIsdGhpcy5tb2RlbD1jLHRoaXMucGF0aD1kLHRoaXMub2JzZXJ2ZXI9bmV3IFBhdGhPYnNlcnZlcihjLGQsdGhpcy5ib3VuZFZhbHVlQ2hhbmdlZCx0aGlzKSx0aGlzLmJvdW5kVmFsdWVDaGFuZ2VkKHRoaXMudmFsdWUpfWZ1bmN0aW9uIGYoYSxiLGMsZCl7dGhpcy5jb25kaXRpb25hbD0iPyI9PWJbYi5sZW5ndGgtMV0sdGhpcy5jb25kaXRpb25hbCYmKGEucmVtb3ZlQXR0cmlidXRlKGIpLGI9Yi5zbGljZSgwLC0xKSksZS5jYWxsKHRoaXMsYSxiLGMsZCl9ZnVuY3Rpb24gZyhhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gVDtjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtkZWZhdWx0OnJldHVybiJpbnB1dCJ9fWZ1bmN0aW9uIGgoYSxiLGMsZCl7ZS5jYWxsKHRoaXMsYSxiLGMsZCksdGhpcy5ldmVudFR5cGU9Zyh0aGlzLm5vZGUpLHRoaXMuYm91bmROb2RlVmFsdWVUb01vZGVsPXRoaXMubm9kZVZhbHVlQ2hhbmdlZC5iaW5kKHRoaXMpLHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRUeXBlLHRoaXMuYm91bmROb2RlVmFsdWVUb01vZGVsLCEwKX1mdW5jdGlvbiBpKGEpe2lmKCFkKGEpKXJldHVybltdO2lmKGEuZm9ybSlyZXR1cm4gUShhLmZvcm0uZWxlbWVudHMsZnVuY3Rpb24oYil7cmV0dXJuIGIhPWEmJiJJTlBVVCI9PWIudGFnTmFtZSYmInJhZGlvIj09Yi50eXBlJiZiLm5hbWU9PWEubmFtZX0pO3ZhciBiPWEub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPSJyYWRpbyJdW25hbWU9IicrYS5uYW1lKyciXScpO3JldHVybiBRKGIsZnVuY3Rpb24oYil7cmV0dXJuIGIhPWEmJiFiLmZvcm19KX1mdW5jdGlvbiBqKGEsYixjKXtoLmNhbGwodGhpcyxhLCJjaGVja2VkIixiLGMpfWZ1bmN0aW9uIGsoYSxiLGMpe2guY2FsbCh0aGlzLGEsInNlbGVjdGVkSW5kZXgiLGIsYyl9ZnVuY3Rpb24gbChhKXtyZXR1cm4gJFthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKX1mdW5jdGlvbiBtKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZXx8bChhKX1mdW5jdGlvbiBuKGEpe3JldHVybiBfJiYiVEVNUExBVEUiPT1hLnRhZ05hbWV9ZnVuY3Rpb24gbyhhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbChhYik7bShhKSYmYihhKSxQKGMsYil9ZnVuY3Rpb24gcChhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fHAoYS5jb250ZW50KX1vKGEsYil9ZnVuY3Rpb24gcShhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gcihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1lYi5nZXQoYSk7aWYoIWIpe2ZvcihiPWEuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtiLmxhc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmxhc3RDaGlsZCk7ZWIuc2V0KGEsYil9cmV0dXJuIGJ9ZnVuY3Rpb24gcyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtaW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIGQuYXBwZW5kQ2hpbGQoYiksdm9pZCAwO2Zvcih2YXIgZTtlPWIuZmlyc3RDaGlsZDspZC5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiB1KGEpeyJURU1QTEFURSI9PT1hLnRhZ05hbWU/X3x8KGNiP2EuX19wcm90b19fPUhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlOnEoYSxIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSkpOihxKGEsSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJjb250ZW50IixpYikpfWZ1bmN0aW9uIHYoYSl7dmFyIGI9bGIuZ2V0KGEpO2J8fChiPWZ1bmN0aW9uKCl7SChhLGEubW9kZWwsYS5iaW5kaW5nRGVsZWdhdGUpfSxsYi5zZXQoYSxiKSksYmIoYil9ZnVuY3Rpb24gdyhhLGIsYyxkKXt0aGlzLmNsb3NlZD0hMSx0aGlzLm5vZGU9YSx0aGlzLnByb3BlcnR5PWIsdGhpcy5tb2RlbD1jLHRoaXMucGF0aD1kLHRoaXMubm9kZS5pbnB1dHMuYmluZCh0aGlzLnByb3BlcnR5LGMsZHx8IiIpfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIDM9PWEubGVuZ3RoJiYwPT1hWzBdLmxlbmd0aCYmMD09YVsyXS5sZW5ndGh9ZnVuY3Rpb24geShhKXtpZihhJiZhLmxlbmd0aCl7Zm9yKHZhciBiLGM9YS5sZW5ndGgsZD0wLGU9MCxmPTA7Yz5lOyl7aWYoZD1hLmluZGV4T2YoInt7IixlKSxmPTA+ZD8tMTphLmluZGV4T2YoIn19IixkKzIpLDA+Zil7aWYoIWIpcmV0dXJuO2IucHVzaChhLnNsaWNlKGUpKTticmVha31iPWJ8fFtdLGIucHVzaChhLnNsaWNlKGUsZCkpLGIucHVzaChhLnNsaWNlKGQrMixmKS50cmltKCkpLGU9ZisyfXJldHVybiBlPT09YyYmYi5wdXNoKCIiKSxifX1mdW5jdGlvbiB6KGEsYixjLGQsZSl7dmFyIGYsZz1lJiZlW1hdO3JldHVybiBnJiYiZnVuY3Rpb24iPT10eXBlb2YgZyYmKGY9ZyhjLGQsYixhKSxmJiYoYz1mLGQ9InZhbHVlIikpLGEuYmluZChiLGMsZCl9ZnVuY3Rpb24gQShhLGIsYyxkLGUpe2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7Zis9Mil7dmFyIGc9QyhiLGFbZl0sYVtmKzFdLGMsZCk7ZSYmZS5wdXNoKGcpfX1mdW5jdGlvbiBCKGEpe3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9IiIsZD0wLGU9ITA7ZDxhLmxlbmd0aDtkKyssZT0hZSlpZihlKWMrPWFbZF07ZWxzZXt2YXIgZj1iW2RdO3ZvaWQgMCE9PWYmJihjKz1mKX1yZXR1cm4gY319ZnVuY3Rpb24gQyhhLGIsYyxkLGUpe2lmKHgoYykpcmV0dXJuIHooYSxiLGQsY1sxXSxlKTtjLmNvbWJpbmF0b3I9Yy5jb21iaW5hdG9yfHxCKGMpO3ZhciBmPW5ldyBNKGMuY29tYmluYXRvcik7Zi5zY2hlZHVsZWQ9ITA7Zm9yKHZhciBnPTE7ZzxjLmxlbmd0aDtnKz0yKXooZixnLGQsY1tnXSxlKTtyZXR1cm4gZi5yZXNvbHZlKCksYS5iaW5kKGIsZiwidmFsdWUiKX1mdW5jdGlvbiBEKGEpe2IoYSk7Zm9yKHZhciBjLGQ9bShhKSxlPSExLGY9ITEsZz0wO2c8YS5hdHRyaWJ1dGVzLmxlbmd0aDtnKyspe3ZhciBoPWEuYXR0cmlidXRlc1tnXSxpPWgubmFtZSxqPWgudmFsdWU7ZCYmKGk9PT1XP2U9ITA6KGk9PT1VfHxpPT09VikmJihmPSEwLGo9anx8Int7fX0iKSk7dmFyIGs9eShqKTtrJiYoYz1jfHxbXSxjLnB1c2goaSxrKSl9cmV0dXJuIGUmJiFmJiYoYz1jfHxbXSxjLnB1c2goVSx5KCJ7e319IikpKSxjfWZ1bmN0aW9uIEUoYSl7aWYoYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiBEKGEpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGI9eShhLmRhdGEpO2lmKGIpcmV0dXJuWyJ0ZXh0Q29udGVudCIsYl19fWZ1bmN0aW9uIEYoYSl7dGhpcy5ub2RlPWF9ZnVuY3Rpb24gRyhhLGIsYyxkLGUpe2lmKGImJihiLnRlbXBsYXRlUmVmJiYoSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZShhLGIudGVtcGxhdGVSZWYpLGQmJmtiLnNldChhLGQpLGUmJmUucHVzaChuZXcgRihhKSkpLGIubGVuZ3RoJiZBKGIsYSxjLGQsZSksYi5jaGlsZHJlbikpZm9yKHZhciBmPTAsZz1hLmZpcnN0Q2hpbGQ7ZztnPWcubmV4dFNpYmxpbmcpRyhnLGIuY2hpbGRyZW5bZisrXSxjLGQsZSl9ZnVuY3Rpb24gSChhLGMsZCl7YihhKTt2YXIgZT1FKGEpO2UmJkEoZSxhLGMsZCk7Zm9yKHZhciBmPWEuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZylIKGYsYyxkKX1mdW5jdGlvbiBJKGEsYil7dmFyIGM9YS5jbG9uZU5vZGUoITEpO2lmKG0oYykpcmV0dXJuIGM7Zm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyljLmFwcGVuZENoaWxkKEkoZCxiKSk7cmV0dXJuIGN9ZnVuY3Rpb24gSihhKXt2YXIgYj1FKGEpO20oYSkmJihiPWJ8fFtdLGIudGVtcGxhdGVSZWY9YSxiLmhhc1N1YlRlbXBsYXRlPSEwKTtmb3IodmFyIGM9YS5maXJzdENoaWxkLGQ9MDtjO2M9Yy5uZXh0U2libGluZyxkKyspe3ZhciBlPUooYyk7ZSYmKGI9Ynx8W10sYi5jaGlsZHJlbj1iLmNoaWxkcmVufHxbXSxiLmNoaWxkcmVuW2RdPWUsZS5oYXNTdWJUZW1wbGF0ZSYmKGIuaGFzU3ViVGVtcGxhdGU9ITApKX1yZXR1cm4gYn1mdW5jdGlvbiBLKGEsYixjKXt0aGlzLmZpcnN0Tm9kZT1hLHRoaXMubGFzdE5vZGU9Yix0aGlzLm1vZGVsPWN9ZnVuY3Rpb24gTChhLGIpe2lmKGEuZmlyc3RDaGlsZClmb3IodmFyIGM9bmV3IEsoYS5maXJzdENoaWxkLGEubGFzdENoaWxkLGIpLGQ9Yy5maXJzdE5vZGU7ZDspbWIuc2V0KGQsYyksZD1kLm5leHRTaWJsaW5nfWZ1bmN0aW9uIE0oYSl7dGhpcy5vYnNlcnZlcnM9e30sdGhpcy52YWx1ZXM9e30sdGhpcy52YWx1ZT12b2lkIDAsdGhpcy5zaXplPTAsdGhpcy5jb21iaW5hdG9yXz1hLHRoaXMuY2xvc2VkPSExLHRoaXMuc2NoZWR1bGVkPSExfWZ1bmN0aW9uIE4oYSl7dGhpcy5jbG9zZWQ9ITEsdGhpcy50ZW1wbGF0ZUVsZW1lbnRfPWEsdGhpcy50ZXJtaW5hdG9ycz1bXSx0aGlzLml0ZXJhdGVkVmFsdWU9dm9pZCAwLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDAsdGhpcy5pbnB1dHM9bmV3IE0odGhpcy5yZXNvbHZlSW5wdXRzLmJpbmQodGhpcykpfXZhciBPLFA9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxRPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpO2EuTWFwJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5NYXAucHJvdG90eXBlLmZvckVhY2g/Tz1hLk1hcDooTz1mdW5jdGlvbigpe3RoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX0sTy5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpOzA+Yz8odGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSk6dGhpcy52YWx1ZXNbY109Yn0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiAwPmI/dm9pZCAwOnRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7dmFyIFI9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9OyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KTt2YXIgUzsidW5kZWZpbmVkIiE9dHlwZW9mIFdlYWtNYXAmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8iKTwwP1M9V2Vha01hcDpmdW5jdGlvbigpe3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxjPShuZXcgRGF0ZSkuZ2V0VGltZSgpJTFlOTtTPWZ1bmN0aW9uKCl7dGhpcy5uYW1lPSJfX3N0IisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSsoYysrICsiX18iKX0sUy5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihiLGMpe2EoYix0aGlzLm5hbWUse3ZhbHVlOmMsd3JpdGFibGU6ITB9KX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBiLmNhbGwoYSx0aGlzLm5hbWUpP2FbdGhpcy5uYW1lXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3RoaXMuc2V0KGEsdm9pZCAwKX19fSgpLE5vZGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5nc3x8e307dmFyIGQ9dGhpcy5iaW5kaW5nc1thXTtyZXR1cm4gZCYmZC5jbG9zZSgpLGQ9dGhpcy5jcmVhdGVCaW5kaW5nKGEsYixjKSx0aGlzLmJpbmRpbmdzW2FdPWQsZD9kOihjb25zb2xlLmVycm9yKCJVbmhhbmRsZWQgYmluZGluZyB0byBOb2RlOiAiLHRoaXMsYSxiLGMpLHZvaWQgMCl9LE5vZGUucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmc9ZnVuY3Rpb24oKXt9LE5vZGUucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhKXtpZih0aGlzLmJpbmRpbmdzKXt2YXIgYj10aGlzLmJpbmRpbmdzW2FdO2ImJihiLmNsb3NlKCksZGVsZXRlIHRoaXMuYmluZGluZ3NbYV0pfX0sTm9kZS5wcm90b3R5cGUudW5iaW5kQWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5iaW5kaW5ncyl7Zm9yKHZhciBhPU9iamVjdC5rZXlzKHRoaXMuYmluZGluZ3MpLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5iaW5kaW5nc1thW2JdXTtjJiZjLmNsb3NlKCl9dGhpcy5iaW5kaW5ncz17fX19LGUucHJvdG90eXBlPXtib3VuZFZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhKXt0aGlzLm5vZGVbdGhpcy5wcm9wZXJ0eV09dGhpcy5zYW5pdGl6ZUJvdW5kVmFsdWUoYSl9LHNhbml0aXplQm91bmRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT1hPyIiOlN0cmluZyhhKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMub2JzZXJ2ZXIuY2xvc2UoKSx0aGlzLm9ic2VydmVyPXZvaWQgMCx0aGlzLm5vZGU9dm9pZCAwLHRoaXMubW9kZWw9dm9pZCAwLHRoaXMuY2xvc2VkPSEwKX0sZ2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMub2JzZXJ2ZXIudmFsdWV9LHNldCB2YWx1ZShhKXtQYXRoT2JzZXJ2ZXIuc2V0VmFsdWVBdFBhdGgodGhpcy5tb2RlbCx0aGlzLnBhdGgsYSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlci5yZXNldCgpfX0sVGV4dC5wcm90b3R5cGUuY3JlYXRlQmluZGluZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuInRleHRDb250ZW50Ij09PWE/bmV3IGUodGhpcywiZGF0YSIsYixjKTpOb2RlLnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nLmNhbGwodGhpcyxhLGIsYyl9LGYucHJvdG90eXBlPVIoe19fcHJvdG9fXzplLnByb3RvdHlwZSxib3VuZFZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb25kaXRpb25hbD8oYT90aGlzLm5vZGUuc2V0QXR0cmlidXRlKHRoaXMucHJvcGVydHksIiIpOnRoaXMubm9kZS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5wcm9wZXJ0eSksdm9pZCAwKToodGhpcy5ub2RlLnNldEF0dHJpYnV0ZSh0aGlzLnByb3BlcnR5LHRoaXMuc2FuaXRpemVCb3VuZFZhbHVlKGEpKSx2b2lkIDApfX0pLEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgZih0aGlzLGEsYixjKX07dmFyIFQ7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLFQ9MT09ZD8iY2hhbmdlIjpjfSgpLGgucHJvdG90eXBlPVIoe19fcHJvdG9fXzplLnByb3RvdHlwZSxub2RlVmFsdWVDaGFuZ2VkOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZT10aGlzLm5vZGVbdGhpcy5wcm9wZXJ0eV0sdGhpcy5yZXNldCgpLHRoaXMucG9zdFVwZGF0ZUJpbmRpbmcoKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfSxwb3N0VXBkYXRlQmluZGluZzpmdW5jdGlvbigpe30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRUeXBlLHRoaXMuYm91bmROb2RlVmFsdWVUb01vZGVsLCEwKSxlLnByb3RvdHlwZS5jbG9zZS5jYWxsKHRoaXMpKX19KSxqLnByb3RvdHlwZT1SKHtfX3Byb3RvX186aC5wcm90b3R5cGUsc2FuaXRpemVCb3VuZFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBCb29sZWFuKGEpfSxwb3N0VXBkYXRlQmluZGluZzpmdW5jdGlvbigpeyJJTlBVVCI9PT10aGlzLm5vZGUudGFnTmFtZSYmInJhZGlvIj09PXRoaXMubm9kZS50eXBlJiZpKHRoaXMubm9kZSkuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLmJpbmRpbmdzLmNoZWNrZWQ7YiYmKGIudmFsdWU9ITEpfSl9fSksSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQmluZGluZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuInZhbHVlIj09PWE/KHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLG5ldyBoKHRoaXMsInZhbHVlIixiLGMpKToiY2hlY2tlZCI9PT1hPyh0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxuZXcgaih0aGlzLGIsYykpOkhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nLmNhbGwodGhpcyxhLGIsYyl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiJ2YWx1ZSI9PT1hPyh0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxuZXcgaCh0aGlzLGEsYixjKSk6SFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmcuY2FsbCh0aGlzLGEsYixjKX0say5wcm90b3R5cGU9Uih7X19wcm90b19fOmgucHJvdG90eXBlLGJvdW5kVmFsdWVDaGFuZ2VkOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjPmUubm9kZS5sZW5ndGgmJmQtLT9iYihiKTplLm5vZGVbZS5wcm9wZXJ0eV09Y312YXIgYz1OdW1iZXIoYSk7aWYoYzw9dGhpcy5ub2RlLmxlbmd0aClyZXR1cm4gdGhpcy5ub2RlW3RoaXMucHJvcGVydHldPWMsdm9pZCAwO3ZhciBkPTIsZT10aGlzO2JiKGIpfX0pLEhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4ic2VsZWN0ZWRpbmRleCI9PT1hLnRvTG93ZXJDYXNlKCk/KHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLG5ldyBrKHRoaXMsYixjKSk6SFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmcuY2FsbCh0aGlzLGEsYixjKX07dmFyIFU9ImJpbmQiLFY9InJlcGVhdCIsVz0iaWYiLFg9ImdldEJpbmRpbmciLFk9ImdldEluc3RhbmNlTW9kZWwiLFo9e3RlbXBsYXRlOiEwLHJlcGVhdDohMCxiaW5kOiEwLHJlZjohMH0sJD17VEhFQUQ6ITAsVEJPRFk6ITAsVEZPT1Q6ITAsVEg6ITAsVFI6ITAsVEQ6ITAsQ09MR1JPVVA6ITAsQ09MOiEwLENBUFRJT046ITAsT1BUSU9OOiEwLE9QVEdST1VQOiEwfSxfPSJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCxhYj0idGVtcGxhdGUsICIrT2JqZWN0LmtleXMoJCkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkrIlt0ZW1wbGF0ZV0ifSkuam9pbigiLCAiKSxiYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5uZXh0UnVubmVyPWEsdGhpcy52YWx1ZT0hMSx0aGlzLmxhc3RWYWx1ZT10aGlzLnZhbHVlLHRoaXMuc2NoZWR1bGVkPVtdLHRoaXMuc2NoZWR1bGVkSWRzPVtdLHRoaXMucnVubmluZz0hMSx0aGlzLm9ic2VydmVyPW5ldyBQYXRoT2JzZXJ2ZXIodGhpcywidmFsdWUiLHRoaXMucnVuLHRoaXMpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YVtlXTthW2VdfHwoYj1kKyssYVtlXT1iKSxjLnNjaGVkdWxlKGEsYil9YS5wcm90b3R5cGU9e3NjaGVkdWxlOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuc2NoZWR1bGVkSWRzW2JdKXtpZih0aGlzLnJ1bm5pbmcpcmV0dXJuIHRoaXMubmV4dFJ1bm5lci5zY2hlZHVsZShhLGIpO3RoaXMuc2NoZWR1bGVkSWRzW2JdPSEwLHRoaXMuc2NoZWR1bGVkLnB1c2goYSksdGhpcy5sYXN0VmFsdWU9PT10aGlzLnZhbHVlJiYodGhpcy52YWx1ZT0hdGhpcy52YWx1ZSl9fSxydW46ZnVuY3Rpb24oKXt0aGlzLnJ1bm5pbmc9ITA7Zm9yKHZhciBhPTA7YTx0aGlzLnNjaGVkdWxlZC5sZW5ndGg7YSsrKXt2YXIgYj10aGlzLnNjaGVkdWxlZFthXSxjPWJbZV07dGhpcy5zY2hlZHVsZWRJZHNbY109ITEsImZ1bmN0aW9uIj09dHlwZW9mIGI/YigpOmIucmVzb2x2ZSgpfXRoaXMuc2NoZWR1bGVkPVtdLHRoaXMuc2NoZWR1bGVkSWRzPVtdLHRoaXMubGFzdFZhbHVlPXRoaXMudmFsdWUsdGhpcy5ydW5uaW5nPSExfX07dmFyIGM9bmV3IGEobmV3IGEpLGQ9MSxlPSJfX3NjaGVkdWxlZElkX18iO3JldHVybiBifSgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7cChkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLF98fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBjYj0iX19wcm90b19fImlue30sZGI9bmV3IFMsZWI9bmV3IFMsZmI9bmV3IFMsZ2I9bmV3IFM7SFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBlPW4oZCksZj1lLGc9IWUsaD0hMTtpZighZSYmbChkKSYmKGIoIWMpLGQ9cyhhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGU9bihkKSxoPSEwKSwhZSl7dShkKTt2YXIgaT1yKGQub3duZXJEb2N1bWVudCk7ZGIuc2V0KGQsaS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpfXJldHVybiBjP2ZiLnNldChkLGMpOmc/dChkLGEsaCk6ZiYmcChkLmNvbnRlbnQpLCEwfSxIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcD1wO3ZhciBoYj1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsaWI9e2dldDpmdW5jdGlvbigpe3JldHVybiBkYi5nZXQodGhpcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtffHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoYi5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSwiY29udGVudCIsaWIpKTt2YXIgamI9bmV3IFMsa2I9bmV3IFMsbGI9bmV3IFM7dy5wcm90b3R5cGU9Uih7X19wcm90b19fOmUucHJvdG90eXBlLGdldCB2YWx1ZSgpe30sYm91bmRWYWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZWR8fCh0aGlzLm5vZGUuaW5wdXRzLnVuYmluZCh0aGlzLnByb3BlcnR5KSx0aGlzLm5vZGU9dm9pZCAwLHRoaXMubW9kZWw9dm9pZCAwLHRoaXMuY2xvc2VkPSEwKX19KSxxKEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLHtjcmVhdGVCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXtpZihhPT09VXx8YT09PVZ8fGE9PT1XKXt2YXIgZD1uYi5nZXQodGhpcyk7cmV0dXJuIGR8fChkPW5ldyBOKHRoaXMpLG5iLnNldCh0aGlzLGQpKSxuZXcgdyhkLGEsYixjfHwiIil9cmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nLmNhbGwodGhpcyxhLGIsYyl9LGNyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZi5jb250ZW50LGU9Z2IuZ2V0KGQpO2V8fChlPUooZCl8fFtdLGdiLnNldChkLGUpKTt2YXIgZj1lLmhhc1N1YlRlbXBsYXRlP0koZCk6ZC5jbG9uZU5vZGUoITApO3JldHVybiBHKGYsZSxhLGIsYyksTChmLGEpLGZ9LGdldCBtb2RlbCgpe3JldHVybiBqYi5nZXQodGhpcyl9LHNldCBtb2RlbChhKXtqYi5zZXQodGhpcyxhKSx2KHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIGtiLmdldCh0aGlzKX0sc2V0IGJpbmRpbmdEZWxlZ2F0ZShhKXtrYi5zZXQodGhpcyxhKSx2KHRoaXMpfSxnZXQgcmVmKCl7dmFyIGEsYj10aGlzLmdldEF0dHJpYnV0ZSgicmVmIik7aWYoYil7dmFyIGQ9Yyh0aGlzKTtkJiYoYT1kLmdldEVsZW1lbnRCeUlkKGIpKX1pZihhfHwoYT1mYi5nZXQodGhpcykpLCFhKXJldHVybiB0aGlzO3ZhciBlPWEucmVmO3JldHVybiBlP2U6YX19KSxGLnByb3RvdHlwZT17Y2xvc2U6ZnVuY3Rpb24oKXt2YXIgYT1uYi5nZXQodGhpcy5ub2RlKTthJiZhLmNsb3NlKCl9fTt2YXIgbWI9bmV3IFM7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCJ0ZW1wbGF0ZUluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9bWIuZ2V0KHRoaXMpO3JldHVybiBhP2E6dGhpcy5wYXJlbnROb2RlP3RoaXMucGFyZW50Tm9kZS50ZW1wbGF0ZUluc3RhbmNlOnZvaWQgMH19KSxNLnByb3RvdHlwZT17c2V0IGNvbWJpbmF0b3IoYSl7dGhpcy5jb21iaW5hdG9yXz1hLHRoaXMuc2NoZWR1bGVSZXNvbHZlKCl9LHBhdGhWYWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMudmFsdWVzW2NdPWEsdGhpcy5zY2hlZHVsZVJlc29sdmUoKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7dGhpcy51bmJpbmQoYSksdGhpcy5zaXplKys7dmFyIGQ9bmV3IFBhdGhPYnNlcnZlcihiLGMsdGhpcy5wYXRoVmFsdWVDaGFuZ2VkLHRoaXMsYSk7dGhpcy5vYnNlcnZlcnNbYV09ZCx0aGlzLnBhdGhWYWx1ZUNoYW5nZWQoZC52YWx1ZSx2b2lkIDAsYSl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3RoaXMub2JzZXJ2ZXJzW2FdJiYodGhpcy5zaXplLS0sdGhpcy5vYnNlcnZlcnNbYV0uY2xvc2UoKSxkZWxldGUgdGhpcy5vYnNlcnZlcnNbYV0sZGVsZXRlIHRoaXMudmFsdWVzW2FdLGJ8fHRoaXMuc2NoZWR1bGVSZXNvbHZlKCkpfSxzY2hlZHVsZVJlc29sdmU6ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlZHx8KHRoaXMuc2NoZWR1bGVkPSEwLGJiKHRoaXMpKX0scmVzb2x2ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7aWYoIXRoaXMuY29tYmluYXRvcl8pdGhyb3cgRXJyb3IoIkNvbXBvdW5kQmluZGluZyBhdHRlbXB0ZWQgdG8gcmVzb2x2ZSB3aXRob3V0IGEgY29tYmluYXRvciIpO3RoaXMudmFsdWU9dGhpcy5jb21iaW5hdG9yXyh0aGlzLnZhbHVlcyksdGhpcy5zY2hlZHVsZWQ9ITF9fSx1bm9ic2VydmVkOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuY2xvc2VkfHwoT2JqZWN0LmtleXModGhpcy5vYnNlcnZlcnMpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy51bmJpbmQoYSwhMCl9LHRoaXMpLHRoaXMuY2xvc2VkPSEwLHRoaXMudmFsdWU9dm9pZCAwKX19LE4ucHJvdG90eXBlPXtyZXNvbHZlSW5wdXRzOmZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VkfHwoVyBpbiBhJiYhYVtXXT90aGlzLnZhbHVlQ2hhbmdlZCh2b2lkIDApOlYgaW4gYT90aGlzLnZhbHVlQ2hhbmdlZChhW1ZdKTpVIGluIGF8fFcgaW4gYT90aGlzLnZhbHVlQ2hhbmdlZChbYVtVXV0pOnRoaXMudmFsdWVDaGFuZ2VkKHZvaWQgMCkpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSl7QXJyYXkuaXNBcnJheShhKXx8KGE9dm9pZCAwKTt2YXIgYj10aGlzLml0ZXJhdGVkVmFsdWU7dGhpcy51bm9ic2VydmUoKSx0aGlzLml0ZXJhdGVkVmFsdWU9YSx0aGlzLml0ZXJhdGVkVmFsdWUmJih0aGlzLmFycmF5T2JzZXJ2ZXI9bmV3IEFycmF5T2JzZXJ2ZXIodGhpcy5pdGVyYXRlZFZhbHVlLHRoaXMuaGFuZGxlU3BsaWNlcyx0aGlzKSk7dmFyIGM9QXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzKHRoaXMuaXRlcmF0ZWRWYWx1ZXx8W10sYnx8W10pO2MubGVuZ3RoJiZ0aGlzLmhhbmRsZVNwbGljZXMoYyksdGhpcy5pbnB1dHMuc2l6ZXx8KG5iLmRlbGV0ZSh0aGlzKSx0aGlzLmNsb3NlKCkpfSxnZXRUZXJtaW5hdG9yQXQ6ZnVuY3Rpb24oYSl7aWYoLTE9PWEpcmV0dXJuIHRoaXMudGVtcGxhdGVFbGVtZW50Xzt2YXIgYj10aGlzLnRlcm1pbmF0b3JzWzIqYV07aWYoYi5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHx0aGlzLnRlbXBsYXRlRWxlbWVudF89PT1iKXJldHVybiBiO3ZhciBjPW5iLmdldChiKTtyZXR1cm4gYz9jLmdldFRlcm1pbmF0b3JBdChjLnRlcm1pbmF0b3JzLmxlbmd0aC8yLTEpOmIKfSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ2V0VGVybWluYXRvckF0KGEtMSksZj1iP2IubGFzdENoaWxkfHxlOmNbYy5sZW5ndGgtMV18fGU7dGhpcy50ZXJtaW5hdG9ycy5zcGxpY2UoMiphLDAsZixkKTt2YXIgZz10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZSxoPWUubmV4dFNpYmxpbmc7aWYoYilyZXR1cm4gZy5pbnNlcnRCZWZvcmUoYixoKSx2b2lkIDA7Zm9yKHZhciBpPTA7aTxjLmxlbmd0aDtpKyspZy5pbnNlcnRCZWZvcmUoY1tpXSxoKX0sZXh0cmFjdEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGQ9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYSk7Yi5ib3VuZD10aGlzLnRlcm1pbmF0b3JzWzIqYSsxXSx0aGlzLnRlcm1pbmF0b3JzLnNwbGljZSgyKmEsMik7Zm9yKHZhciBlPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlO2QhPT1jOyl7dmFyIGY9Yy5uZXh0U2libGluZztmPT1kJiYoZD1jKSxlLnJlbW92ZUNoaWxkKGYpLGIucHVzaChmKX1yZXR1cm4gYn0sZ2V0SW5zdGFuY2VNb2RlbDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YyYmY1tZXTtyZXR1cm4gZCYmImZ1bmN0aW9uIj09dHlwZW9mIGQ/ZChhLGIpOmJ9LGhhbmRsZVNwbGljZXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY2xvc2VkKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZXx8IWIub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gdGhpcy5jbG9zZSgpLG5iLmRlbGV0ZSh0aGlzKSx2b2lkIDA7dmFyIGM9Yi5iaW5kaW5nRGVsZWdhdGUsZD1uZXcgTyxlPTA7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EucmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZXh0cmFjdEluc3RhbmNlQXQoYS5pbmRleCtlKTtkLnNldChiLGMpfSx0aGlzKSxlLT1hLmFkZGVkQ291bnR9LHRoaXMpLGEuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGU9YS5pbmRleDtlPGEuaW5kZXgrYS5hZGRlZENvdW50O2UrKyl7dmFyIGYsZz10aGlzLml0ZXJhdGVkVmFsdWVbZV0saD12b2lkIDAsaT1kLmdldChnKTtpZihpKWQuZGVsZXRlKGcpLGY9aS5ib3VuZDtlbHNle2Y9W107dmFyIGo9dGhpcy5nZXRJbnN0YW5jZU1vZGVsKGIsZyxjKTtoPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5jcmVhdGVJbnN0YW5jZShqLGMsZil9dGhpcy5pbnNlcnRJbnN0YW5jZUF0KGUsaCxpLGYpfX0sdGhpcyksZC5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmJvdW5kLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmNsb3NlKCl9KX19LHVub2JzZXJ2ZTpmdW5jdGlvbigpe3RoaXMuYXJyYXlPYnNlcnZlciYmKHRoaXMuYXJyYXlPYnNlcnZlci5jbG9zZSgpLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy51bm9ic2VydmUoKTtmb3IodmFyIGE9MTthPHRoaXMudGVybWluYXRvcnMubGVuZ3RoO2ErPTIpZm9yKHZhciBiPXRoaXMudGVybWluYXRvcnNbYV0sYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uY2xvc2UoKTt0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aD0wLHRoaXMuaW5wdXRzLmNsb3NlKCksdGhpcy5jbG9zZWQ9ITB9fX07dmFyIG5iPW5ldyBTO2EuQ29tcG91bmRCaW5kaW5nPU0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1vfSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQVNTRVJUOiAiK2IpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBkKGEpe3JldHVybiAzMj09PWF8fDk9PT1hfHwxMT09PWF8fDEyPT09YXx8MTYwPT09YXx8YT49NTc2MCYmIuGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgCIuaW5kZXhPZihTdHJpbmcuZnJvbUNoYXJDb2RlKGEpKT4wfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIDEwPT09YXx8MTM9PT1hfHw4MjMyPT09YXx8ODIzMz09PWF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gMzY9PT1hfHw5NT09PWF8fGE+PTY1JiY5MD49YXx8YT49OTcmJjEyMj49YX1mdW5jdGlvbiBnKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfHxhPj00OCYmNTc+PWF9ZnVuY3Rpb24gaChhKXtyZXR1cm4idGhpcyI9PT1hfWZ1bmN0aW9uIGkoKXtmb3IoO2JiPmFiJiZkKF8uY2hhckNvZGVBdChhYikpOykrK2FifWZ1bmN0aW9uIGooKXt2YXIgYSxiO2ZvcihhPWFiKys7YmI+YWImJihiPV8uY2hhckNvZGVBdChhYiksZyhiKSk7KSsrYWI7cmV0dXJuIF8uc2xpY2UoYSxhYil9ZnVuY3Rpb24gaygpe3ZhciBhLGIsYztyZXR1cm4gYT1hYixiPWooKSxjPTE9PT1iLmxlbmd0aD9YLklkZW50aWZpZXI6aChiKT9YLktleXdvcmQ6Im51bGwiPT09Yj9YLk51bGxMaXRlcmFsOiJ0cnVlIj09PWJ8fCJmYWxzZSI9PT1iP1guQm9vbGVhbkxpdGVyYWw6WC5JZGVudGlmaWVyLHt0eXBlOmMsdmFsdWU6YixyYW5nZTpbYSxhYl19fWZ1bmN0aW9uIGwoKXt2YXIgYSxiLGMsZCxlPWFiLGY9Xy5jaGFyQ29kZUF0KGFiKSxnPV9bYWJdO3N3aXRjaChmKXtjYXNlIDQ2OmNhc2UgNDA6Y2FzZSA0MTpjYXNlIDU5OmNhc2UgNDQ6Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA2MzpjYXNlIDEyNjpyZXR1cm4rK2FiLHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGYpLHJhbmdlOltlLGFiXX07ZGVmYXVsdDppZihhPV8uY2hhckNvZGVBdChhYisxKSw2MT09PWEpc3dpdGNoKGYpe2Nhc2UgMzc6Y2FzZSAzODpjYXNlIDQyOmNhc2UgNDM6Y2FzZSA0NTpjYXNlIDQ3OmNhc2UgNjA6Y2FzZSA2MjpjYXNlIDk0OmNhc2UgMTI0OnJldHVybiBhYis9Mix7dHlwZTpYLlB1bmN0dWF0b3IsdmFsdWU6U3RyaW5nLmZyb21DaGFyQ29kZShmKStTdHJpbmcuZnJvbUNoYXJDb2RlKGEpLHJhbmdlOltlLGFiXX07Y2FzZSAzMzpjYXNlIDYxOnJldHVybiBhYis9Miw2MT09PV8uY2hhckNvZGVBdChhYikmJisrYWIse3R5cGU6WC5QdW5jdHVhdG9yLHZhbHVlOl8uc2xpY2UoZSxhYikscmFuZ2U6W2UsYWJdfX19cmV0dXJuIGI9X1thYisxXSxjPV9bYWIrMl0sZD1fW2FiKzNdLCI+Ij09PWcmJiI+Ij09PWImJiI+Ij09PWMmJiI9Ij09PWQ/KGFiKz00LHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZToiPj4+PSIscmFuZ2U6W2UsYWJdfSk6Ij4iPT09ZyYmIj4iPT09YiYmIj4iPT09Yz8oYWIrPTMse3R5cGU6WC5QdW5jdHVhdG9yLHZhbHVlOiI+Pj4iLHJhbmdlOltlLGFiXX0pOiI8Ij09PWcmJiI8Ij09PWImJiI9Ij09PWM/KGFiKz0zLHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZToiPDw9IixyYW5nZTpbZSxhYl19KToiPiI9PT1nJiYiPiI9PT1iJiYiPSI9PT1jPyhhYis9Myx7dHlwZTpYLlB1bmN0dWF0b3IsdmFsdWU6Ij4+PSIscmFuZ2U6W2UsYWJdfSk6Zz09PWImJiIrLTw+JnwiLmluZGV4T2YoZyk+PTA/KGFiKz0yLHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZTpnK2IscmFuZ2U6W2UsYWJdfSk6Ijw+PSErLSolJnxeLyIuaW5kZXhPZihnKT49MD8oKythYix7dHlwZTpYLlB1bmN0dWF0b3IsdmFsdWU6ZyxyYW5nZTpbZSxhYl19KToocyh7fSwkLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpLHZvaWQgMCl9ZnVuY3Rpb24gbSgpe3ZhciBhLGQsZTtpZihlPV9bYWJdLGIoYyhlLmNoYXJDb2RlQXQoMCkpfHwiLiI9PT1lLCJOdW1lcmljIGxpdGVyYWwgbXVzdCBzdGFydCB3aXRoIGEgZGVjaW1hbCBkaWdpdCBvciBhIGRlY2ltYWwgcG9pbnQiKSxkPWFiLGE9IiIsIi4iIT09ZSl7Zm9yKGE9X1thYisrXSxlPV9bYWJdLCIwIj09PWEmJmUmJmMoZS5jaGFyQ29kZUF0KDApKSYmcyh7fSwkLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpO2MoXy5jaGFyQ29kZUF0KGFiKSk7KWErPV9bYWIrK107ZT1fW2FiXX1pZigiLiI9PT1lKXtmb3IoYSs9X1thYisrXTtjKF8uY2hhckNvZGVBdChhYikpOylhKz1fW2FiKytdO2U9X1thYl19aWYoImUiPT09ZXx8IkUiPT09ZSlpZihhKz1fW2FiKytdLGU9X1thYl0sKCIrIj09PWV8fCItIj09PWUpJiYoYSs9X1thYisrXSksYyhfLmNoYXJDb2RlQXQoYWIpKSlmb3IoO2MoXy5jaGFyQ29kZUF0KGFiKSk7KWErPV9bYWIrK107ZWxzZSBzKHt9LCQuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIik7cmV0dXJuIGYoXy5jaGFyQ29kZUF0KGFiKSkmJnMoe30sJC5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpYLk51bWVyaWNMaXRlcmFsLHZhbHVlOnBhcnNlRmxvYXQoYSkscmFuZ2U6W2QsYWJdfX1mdW5jdGlvbiBuKCl7dmFyIGEsYyxkLGY9IiIsZz0hMTtmb3IoYT1fW2FiXSxiKCInIj09PWF8fCciJz09PWEsIlN0cmluZyBsaXRlcmFsIG11c3Qgc3RhcnRzIHdpdGggYSBxdW90ZSIpLGM9YWIsKythYjtiYj5hYjspe2lmKGQ9X1thYisrXSxkPT09YSl7YT0iIjticmVha31pZigiXFwiPT09ZClpZihkPV9bYWIrK10sZCYmZShkLmNoYXJDb2RlQXQoMCkpKSJcciI9PT1kJiYiXG4iPT09X1thYl0mJisrYWI7ZWxzZSBzd2l0Y2goZCl7Y2FzZSJuIjpmKz0iXG4iO2JyZWFrO2Nhc2UiciI6Zis9IlxyIjticmVhaztjYXNlInQiOmYrPSIJIjticmVhaztjYXNlImIiOmYrPSJcYiI7YnJlYWs7Y2FzZSJmIjpmKz0iXGYiO2JyZWFrO2Nhc2UidiI6Zis9IgsiO2JyZWFrO2RlZmF1bHQ6Zis9ZH1lbHNle2lmKGUoZC5jaGFyQ29kZUF0KDApKSlicmVhaztmKz1kfX1yZXR1cm4iIiE9PWEmJnMoe30sJC5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpYLlN0cmluZ0xpdGVyYWwsdmFsdWU6ZixvY3RhbDpnLHJhbmdlOltjLGFiXX19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gYS50eXBlPT09WC5JZGVudGlmaWVyfHxhLnR5cGU9PT1YLktleXdvcmR8fGEudHlwZT09PVguQm9vbGVhbkxpdGVyYWx8fGEudHlwZT09PVguTnVsbExpdGVyYWx9ZnVuY3Rpb24gcCgpe3ZhciBhO3JldHVybiBpKCksYWI+PWJiP3t0eXBlOlguRU9GLHJhbmdlOlthYixhYl19OihhPV8uY2hhckNvZGVBdChhYiksNDA9PT1hfHw0MT09PWF8fDU4PT09YT9sKCk6Mzk9PT1hfHwzND09PWE/bigpOmYoYSk/aygpOjQ2PT09YT9jKF8uY2hhckNvZGVBdChhYisxKSk/bSgpOmwoKTpjKGEpP20oKTpsKCkpfWZ1bmN0aW9uIHEoKXt2YXIgYTtyZXR1cm4gYT1kYixhYj1hLnJhbmdlWzFdLGRiPXAoKSxhYj1hLnJhbmdlWzFdLGF9ZnVuY3Rpb24gcigpe3ZhciBhO2E9YWIsZGI9cCgpLGFiPWF9ZnVuY3Rpb24gcyhhLGMpe3ZhciBkLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGY9Yy5yZXBsYWNlKC8lKFxkKS9nLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIoYzxlLmxlbmd0aCwiTWVzc2FnZSByZWZlcmVuY2UgbXVzdCBiZSBpbiByYW5nZSIpLGVbY119KTt0aHJvdyBkPW5ldyBFcnJvcihmKSxkLmluZGV4PWFiLGQuZGVzY3JpcHRpb249ZixkfWZ1bmN0aW9uIHQoYSl7cyhhLCQuVW5leHBlY3RlZFRva2VuLGEudmFsdWUpfWZ1bmN0aW9uIHUoYSl7dmFyIGI9cSgpOyhiLnR5cGUhPT1YLlB1bmN0dWF0b3J8fGIudmFsdWUhPT1hKSYmdChiKX1mdW5jdGlvbiB2KGEpe3JldHVybiBkYi50eXBlPT09WC5QdW5jdHVhdG9yJiZkYi52YWx1ZT09PWF9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gZGIudHlwZT09PVguS2V5d29yZCYmZGIudmFsdWU9PT1hfWZ1bmN0aW9uIHgoKXtyZXR1cm4gNTk9PT1fLmNoYXJDb2RlQXQoYWIpPyhxKCksdm9pZCAwKTooaSgpLHYoIjsiKT8ocSgpLHZvaWQgMCk6KGRiLnR5cGU9PT1YLkVPRnx8digifSIpfHx0KGRiKSx2b2lkIDApKX1mdW5jdGlvbiB5KCl7dmFyIGE9W107Zm9yKHUoIlsiKTshdigiXSIpOyl2KCIsIik/KHEoKSxhLnB1c2gobnVsbCkpOihhLnB1c2goTygpKSx2KCJdIil8fHUoIiwiKSk7cmV0dXJuIHUoIl0iKSxjYi5jcmVhdGVBcnJheUV4cHJlc3Npb24oYSl9ZnVuY3Rpb24geigpe3ZhciBhO3JldHVybiBpKCksYT1xKCksYS50eXBlPT09WC5TdHJpbmdMaXRlcmFsfHxhLnR5cGU9PT1YLk51bWVyaWNMaXRlcmFsP2NiLmNyZWF0ZUxpdGVyYWwoYSk6Y2IuY3JlYXRlSWRlbnRpZmllcihhLnZhbHVlKX1mdW5jdGlvbiBBKCl7dmFyIGEsYjtyZXR1cm4gYT1kYixpKCksKGEudHlwZT09PVguRU9GfHxhLnR5cGU9PT1YLlB1bmN0dWF0b3IpJiZ0KGEpLGI9eigpLHUoIjoiKSxjYi5jcmVhdGVQcm9wZXJ0eSgiaW5pdCIsYixPKCkpfWZ1bmN0aW9uIEIoKXt2YXIgYT1bXTtmb3IodSgieyIpOyF2KCJ9Iik7KWEucHVzaChBKCkpLHYoIn0iKXx8dSgiLCIpO3JldHVybiB1KCJ9IiksY2IuY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihhKX1mdW5jdGlvbiBDKCl7dmFyIGE7cmV0dXJuIHUoIigiKSxhPVAoKSx1KCIpIiksYX1mdW5jdGlvbiBEKCl7dmFyIGEsYixjO3JldHVybiB2KCIoIik/QygpOihhPWRiLnR5cGUsYT09PVguSWRlbnRpZmllcj9jPWNiLmNyZWF0ZUlkZW50aWZpZXIocSgpLnZhbHVlKTphPT09WC5TdHJpbmdMaXRlcmFsfHxhPT09WC5OdW1lcmljTGl0ZXJhbD9jPWNiLmNyZWF0ZUxpdGVyYWwocSgpKTphPT09WC5LZXl3b3JkP3coInRoaXMiKSYmKHEoKSxjPWNiLmNyZWF0ZVRoaXNFeHByZXNzaW9uKCkpOmE9PT1YLkJvb2xlYW5MaXRlcmFsPyhiPXEoKSxiLnZhbHVlPSJ0cnVlIj09PWIudmFsdWUsYz1jYi5jcmVhdGVMaXRlcmFsKGIpKTphPT09WC5OdWxsTGl0ZXJhbD8oYj1xKCksYi52YWx1ZT1udWxsLGM9Y2IuY3JlYXRlTGl0ZXJhbChiKSk6digiWyIpP2M9eSgpOnYoInsiKSYmKGM9QigpKSxjP2M6KHQocSgpKSx2b2lkIDApKX1mdW5jdGlvbiBFKCl7dmFyIGE9W107aWYodSgiKCIpLCF2KCIpIikpZm9yKDtiYj5hYiYmKGEucHVzaChPKCkpLCF2KCIpIikpOyl1KCIsIik7cmV0dXJuIHUoIikiKSxhfWZ1bmN0aW9uIEYoKXt2YXIgYTtyZXR1cm4gYT1xKCksbyhhKXx8dChhKSxjYi5jcmVhdGVJZGVudGlmaWVyKGEudmFsdWUpfWZ1bmN0aW9uIEcoKXtyZXR1cm4gdSgiLiIpLEYoKX1mdW5jdGlvbiBIKCl7dmFyIGE7cmV0dXJuIHUoIlsiKSxhPVAoKSx1KCJdIiksYX1mdW5jdGlvbiBJKCl7dmFyIGEsYixjO2ZvcihhPUQoKTt2KCIuIil8fHYoIlsiKXx8digiKCIpOyl2KCIoIik/KGI9RSgpLGE9Y2IuY3JlYXRlQ2FsbEV4cHJlc3Npb24oYSxiKSk6digiWyIpPyhjPUgoKSxhPWNiLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIlsiLGEsYykpOihjPUcoKSxhPWNiLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIi4iLGEsYykpO3JldHVybiBhfWZ1bmN0aW9uIEooKXt2YXIgYTtyZXR1cm4gYT1JKCksZGIudHlwZT09PVguUHVuY3R1YXRvciYmKHYoIisrIil8fHYoIi0tIikpJiZzKHt9LCQuVW5leHBlY3RlZFRva2VuKSxhfWZ1bmN0aW9uIEsoKXt2YXIgYSxiO3JldHVybiBkYi50eXBlIT09WC5QdW5jdHVhdG9yJiZkYi50eXBlIT09WC5LZXl3b3JkP2I9SigpOnYoIisrIil8fHYoIi0tIik/cyh7fSwkLlVuZXhwZWN0ZWRUb2tlbik6digiKyIpfHx2KCItIil8fHYoIn4iKXx8digiISIpPyhhPXEoKSxiPUsoKSxiPWNiLmNyZWF0ZVVuYXJ5RXhwcmVzc2lvbihhLnZhbHVlLGIpKTp3KCJkZWxldGUiKXx8dygidm9pZCIpfHx3KCJ0eXBlb2YiKT9zKHt9LCQuVW5leHBlY3RlZFRva2VuKTpiPUooKSxifWZ1bmN0aW9uIEwoYSxiKXt2YXIgYz0wO2lmKGEudHlwZSE9PVguUHVuY3R1YXRvciYmYS50eXBlIT09WC5LZXl3b3JkKXJldHVybiAwO3N3aXRjaChhLnZhbHVlKXtjYXNlInx8IjpjPTE7YnJlYWs7Y2FzZSImJiI6Yz0yO2JyZWFrO2Nhc2UifCI6Yz0zO2JyZWFrO2Nhc2UiXiI6Yz00O2JyZWFrO2Nhc2UiJiI6Yz01O2JyZWFrO2Nhc2UiPT0iOmNhc2UiIT0iOmNhc2UiPT09IjpjYXNlIiE9PSI6Yz02O2JyZWFrO2Nhc2UiPCI6Y2FzZSI+IjpjYXNlIjw9IjpjYXNlIj49IjpjYXNlImluc3RhbmNlb2YiOmM9NzticmVhaztjYXNlImluIjpjPWI/NzowO2JyZWFrO2Nhc2UiPDwiOmNhc2UiPj4iOmNhc2UiPj4+IjpjPTg7YnJlYWs7Y2FzZSIrIjpjYXNlIi0iOmM9OTticmVhaztjYXNlIioiOmNhc2UiLyI6Y2FzZSIlIjpjPTExfXJldHVybiBjfWZ1bmN0aW9uIE0oKXt2YXIgYSxiLGMsZCxlLGYsZyxoLGk7aWYoZD1lYi5hbGxvd0luLGViLmFsbG93SW49ITAsaD1LKCksYj1kYixjPUwoYixkKSwwPT09YylyZXR1cm4gaDtmb3IoYi5wcmVjPWMscSgpLGY9SygpLGU9W2gsYixmXTsoYz1MKGRiLGQpKT4wOyl7Zm9yKDtlLmxlbmd0aD4yJiZjPD1lW2UubGVuZ3RoLTJdLnByZWM7KWY9ZS5wb3AoKSxnPWUucG9wKCkudmFsdWUsaD1lLnBvcCgpLGE9Y2IuY3JlYXRlQmluYXJ5RXhwcmVzc2lvbihnLGgsZiksZS5wdXNoKGEpO2I9cSgpLGIucHJlYz1jLGUucHVzaChiKSxhPUsoKSxlLnB1c2goYSl9Zm9yKGViLmFsbG93SW49ZCxpPWUubGVuZ3RoLTEsYT1lW2ldO2k+MTspYT1jYi5jcmVhdGVCaW5hcnlFeHByZXNzaW9uKGVbaS0xXS52YWx1ZSxlW2ktMl0sYSksaS09MjtyZXR1cm4gYX1mdW5jdGlvbiBOKCl7dmFyIGEsYixjLGQ7cmV0dXJuIGE9TSgpLHYoIj8iKSYmKHEoKSxiPWViLmFsbG93SW4sZWIuYWxsb3dJbj0hMCxjPU8oKSxlYi5hbGxvd0luPWIsdSgiOiIpLGQ9TygpLGE9Y2IuY3JlYXRlQ29uZGl0aW9uYWxFeHByZXNzaW9uKGEsYyxkKSksYX1mdW5jdGlvbiBPKCl7dmFyIGEsYixjO3JldHVybiBhPWRiLGM9Yj1OKCl9ZnVuY3Rpb24gUCgpe3ZhciBhO3JldHVybiBhPU8oKX1mdW5jdGlvbiBRKCl7cmV0dXJuIHUoIjsiKSxjYi5jcmVhdGVFbXB0eVN0YXRlbWVudCgpfWZ1bmN0aW9uIFIoKXt2YXIgYT1QKCk7cmV0dXJuIHgoKSxjYi5jcmVhdGVFeHByZXNzaW9uU3RhdGVtZW50KGEpfWZ1bmN0aW9uIFMoKXt2YXIgYSxiLGMsZD1kYi50eXBlO2lmKGQ9PT1YLkVPRiYmdChkYiksaSgpLGQ9PT1YLlB1bmN0dWF0b3Ipc3dpdGNoKGRiLnZhbHVlKXtjYXNlIjsiOnJldHVybiBRKCk7Y2FzZSIoIjpyZXR1cm4gUigpfXJldHVybiBhPVAoKSxhLnR5cGU9PT1aLklkZW50aWZpZXImJnYoIjoiKT8ocSgpLGM9IiQiK2EubmFtZSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZWIubGFiZWxTZXQsYykmJnMoe30sJC5SZWRlY2xhcmF0aW9uLCJMYWJlbCIsYS5uYW1lKSxlYi5sYWJlbFNldFtjXT0hMCxiPVMoKSxkZWxldGUgZWIubGFiZWxTZXRbY10sY2IuY3JlYXRlTGFiZWxlZFN0YXRlbWVudChhLGIpKTooeCgpLGNiLmNyZWF0ZUV4cHJlc3Npb25TdGF0ZW1lbnQoYSkpfWZ1bmN0aW9uIFQoKXtyZXR1cm4gZGIudHlwZT09PVguS2V5d29yZD9TKCk6ZGIudHlwZSE9PVguRU9GP1MoKTp2b2lkIDB9ZnVuY3Rpb24gVSgpe2Zvcih2YXIgYSxiPVtdO2JiPmFiJiYoYT1UKCksInVuZGVmaW5lZCIhPXR5cGVvZiBhKTspYi5wdXNoKGEpO3JldHVybiBifWZ1bmN0aW9uIFYoKXt2YXIgYTtyZXR1cm4gaSgpLHIoKSxhPVUoKSxjYi5jcmVhdGVQcm9ncmFtKGEpfWZ1bmN0aW9uIFcoYSxiKXt2YXIgYztyZXR1cm4gYz1TdHJpbmcsInN0cmluZyI9PXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgU3RyaW5nfHwoYT1jKGEpKSxjYj1iLF89YSxhYj0wLGJiPV8ubGVuZ3RoLGRiPW51bGwsZWI9e2FsbG93SW46ITAsbGFiZWxTZXQ6e319LGJiPjAmJiJ1bmRlZmluZWQiPT10eXBlb2YgX1swXSYmYSBpbnN0YW5jZW9mIFN0cmluZyYmKF89YS52YWx1ZU9mKCkpLFYoKX12YXIgWCxZLFosJCxfLGFiLGJiLGNiLGRiLGViO1g9e0Jvb2xlYW5MaXRlcmFsOjEsRU9GOjIsSWRlbnRpZmllcjozLEtleXdvcmQ6NCxOdWxsTGl0ZXJhbDo1LE51bWVyaWNMaXRlcmFsOjYsUHVuY3R1YXRvcjo3LFN0cmluZ0xpdGVyYWw6OH0sWT17fSxZW1guQm9vbGVhbkxpdGVyYWxdPSJCb29sZWFuIixZW1guRU9GXT0iPGVuZD4iLFlbWC5JZGVudGlmaWVyXT0iSWRlbnRpZmllciIsWVtYLktleXdvcmRdPSJLZXl3b3JkIixZW1guTnVsbExpdGVyYWxdPSJOdWxsIixZW1guTnVtZXJpY0xpdGVyYWxdPSJOdW1lcmljIixZW1guUHVuY3R1YXRvcl09IlB1bmN0dWF0b3IiLFlbWC5TdHJpbmdMaXRlcmFsXT0iU3RyaW5nIixaPXtBcnJheUV4cHJlc3Npb246IkFycmF5RXhwcmVzc2lvbiIsQmluYXJ5RXhwcmVzc2lvbjoiQmluYXJ5RXhwcmVzc2lvbiIsQ2FsbEV4cHJlc3Npb246IkNhbGxFeHByZXNzaW9uIixDb25kaXRpb25hbEV4cHJlc3Npb246IkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsRW1wdHlTdGF0ZW1lbnQ6IkVtcHR5U3RhdGVtZW50IixFeHByZXNzaW9uU3RhdGVtZW50OiJFeHByZXNzaW9uU3RhdGVtZW50IixJZGVudGlmaWVyOiJJZGVudGlmaWVyIixMaXRlcmFsOiJMaXRlcmFsIixMYWJlbGVkU3RhdGVtZW50OiJMYWJlbGVkU3RhdGVtZW50IixMb2dpY2FsRXhwcmVzc2lvbjoiTG9naWNhbEV4cHJlc3Npb24iLE1lbWJlckV4cHJlc3Npb246Ik1lbWJlckV4cHJlc3Npb24iLE9iamVjdEV4cHJlc3Npb246Ik9iamVjdEV4cHJlc3Npb24iLFByb2dyYW06IlByb2dyYW0iLFByb3BlcnR5OiJQcm9wZXJ0eSIsVGhpc0V4cHJlc3Npb246IlRoaXNFeHByZXNzaW9uIixVbmFyeUV4cHJlc3Npb246IlVuYXJ5RXhwcmVzc2lvbiJ9LCQ9e1VuZXhwZWN0ZWRUb2tlbjoiVW5leHBlY3RlZCB0b2tlbiAlMCIsVW5rbm93bkxhYmVsOiJVbmRlZmluZWQgbGFiZWwgJyUwJyIsUmVkZWNsYXJhdGlvbjoiJTAgJyUxJyBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkIn0sYS5lc3ByaW1hPXtwYXJzZTpXfX0odGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGQsZSl7aWYoZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiYiVEVNUExBVEUiPT09ZS50YWdOYW1lJiYoImJpbmQiPT09ZHx8InJlcGVhdCI9PT1kKSl7dmFyIGYsZyxoPWIubWF0Y2gocik7aWYoaD8oZj1oWzFdLGc9aFsyXSk6KGg9Yi5tYXRjaChzKSxoJiYoZj1oWzJdLGc9aFsxXSkpLGgpe3ZhciBpO2lmKGc9Zy50cmltKCksZy5tYXRjaChxKSlpPW5ldyBDb21wb3VuZEJpbmRpbmcoZnVuY3Rpb24oYSl7cmV0dXJuIGEucGF0aH0pLGkuYmluZCgicGF0aCIsYSxnKTtlbHNlIHRyeXtpPWMoYSxnKX1jYXRjaChqKXtjb25zb2xlLmVycm9yKCJJbnZhbGlkIGV4cHJlc3Npb24gc3ludGF4OiAiK2csail9aWYoaSlyZXR1cm4gdC5zZXQoZSxmKSxpfX19ZnVuY3Rpb24gYyhhLGIpe3RyeXt2YXIgYz1uZXcgZjtpZihlc3ByaW1hLnBhcnNlKGIsYyksIWMuc3RhdGVtZW50cy5sZW5ndGgmJiFjLmxhYmVsZWRTdGF0ZW1lbnRzLmxlbmd0aClyZXR1cm47aWYoIWMubGFiZWxlZFN0YXRlbWVudHMubGVuZ3RoJiZjLnN0YXRlbWVudHMubGVuZ3RoPjEpdGhyb3cgRXJyb3IoIk11bHRpcGxlIHVubGFiZWxsZWQgc3RhdGVtZW50cyBhcmUgbm90IGFsbG93ZWQuIik7dmFyIGU9Yy5sYWJlbGVkU3RhdGVtZW50cy5sZW5ndGg/ZChjLmxhYmVsZWRTdGF0ZW1lbnRzKTplPWMuc3RhdGVtZW50c1swXSxnPVtdO2Zvcih2YXIgaCBpbiBjLmRlcHMpZy5wdXNoKGgpO2lmKCFnLmxlbmd0aClyZXR1cm57dmFsdWU6ZSh7fSl9O2Zvcih2YXIgaT1uZXcgQ29tcG91bmRCaW5kaW5nKGUpLGo9MDtqPGcubGVuZ3RoO2orKylpLmJpbmQoZ1tqXSxhLGdbal0pO3JldHVybiBpfWNhdGNoKGspe2NvbnNvbGUuZXJyb3IoIkludmFsaWQgZXhwcmVzc2lvbiBzeW50YXg6ICIrYixrKX19ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKylhW2RdLmJvZHkoYikmJmMucHVzaChhW2RdLmxhYmVsKTtyZXR1cm4gYy5qb2luKCIgIil9fWZ1bmN0aW9uIGUoYSxiLGMpe3RoaXMuZGVwcz1hLHRoaXMubmFtZT1iLHRoaXMubGFzdD1jfWZ1bmN0aW9uIGYoKXt0aGlzLnN0YXRlbWVudHM9W10sdGhpcy5sYWJlbGVkU3RhdGVtZW50cz1bXSx0aGlzLmRlcHM9e30sdGhpcy5jdXJyZW50UGF0aD12b2lkIDB9ZnVuY3Rpb24gZygpe3Rocm93IEVycm9yKCJOb3QgSW1wbGVtZW50ZWQiKX1mdW5jdGlvbiBoKCl7fXZhciBpOyJ1bmRlZmluZWQiIT10eXBlb2YgV2Vha01hcCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94LyIpPDA/aT1XZWFrTWFwOmZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9T2JqZWN0Lmhhc093blByb3BlcnR5LGM9KG5ldyBEYXRlKS5nZXRUaW1lKCklMWU5O2k9ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyhjKysgKyJfXyIpfSxpLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGIsYyl7YShiLHRoaXMubmFtZSx7dmFsdWU6Yyx3cml0YWJsZTohMH0pfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY2FsbChhLHRoaXMubmFtZSk/YVt0aGlzLm5hbWVdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX19KCk7dmFyIGo9IlskX2EtekEtWl0iLGs9IlskX2EtekEtWjAtOV0iLGw9aisiKyIraysiKiIsbT0iKCIrbCsiKSIsbj0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsbz0iKD86IitsKyJ8IituKyIpIixwPSIoPzoiK28rIikoPzpcXC4iK28rIikqIixxPW5ldyBSZWdFeHAoIl4iK3ArIiQiKSxyPW5ldyBSZWdFeHAoIl4iK20rIlxccyogaW4gKC4qKSQiKSxzPW5ldyBSZWdFeHAoIl4oLiopIGFzIFxccyoiK20rIiQiKSx0PW5ldyBpO2UucHJvdG90eXBlPXtnZXRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdD90aGlzLmxhc3QuZ2V0UGF0aCgpKyIuIit0aGlzLm5hbWU6dGhpcy5uYW1lfSx2YWx1ZUZuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRQYXRoKCk7cmV0dXJuIHRoaXMuZGVwc1thXT0hMCxmdW5jdGlvbihiKXtyZXR1cm4gYlthXX19fTt2YXIgdT17IisiOmZ1bmN0aW9uKGEpe3JldHVybithfSwiLSI6ZnVuY3Rpb24oYSl7cmV0dXJuLWF9LCIhIjpmdW5jdGlvbihhKXtyZXR1cm4hYX19LHY9eyIrIjpmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9LCItIjpmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9LCIqIjpmdW5jdGlvbihhLGIpe3JldHVybiBhKmJ9LCIvIjpmdW5jdGlvbihhLGIpe3JldHVybiBhL2J9LCIlIjpmdW5jdGlvbihhLGIpe3JldHVybiBhJWJ9LCI8IjpmdW5jdGlvbihhLGIpe3JldHVybiBiPmF9LCI+IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPmJ9LCI8PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YX0sIj49IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPj1ifSwiPT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PWJ9LCIhPSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9Yn0sIj09PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9LCIhPT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPT1ifSwiJiYiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJmJ9LCJ8fCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXx8Yn19O2YucHJvdG90eXBlPXtnZXRGbjpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGU/YS52YWx1ZUZuKCk6YX0sY3JlYXRlUHJvZ3JhbTpmdW5jdGlvbigpe30sY3JlYXRlRXhwcmVzc2lvblN0YXRlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGF0ZW1lbnRzLnB1c2goYSksYX0sY3JlYXRlTGFiZWxlZFN0YXRlbWVudDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmxhYmVsZWRTdGF0ZW1lbnRzLnB1c2goe2xhYmVsOmEuZ2V0UGF0aCgpLGJvZHk6YiBpbnN0YW5jZW9mIGU/Yi52YWx1ZUZuKCk6Yn0pLGJ9LGNyZWF0ZVVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe2lmKCF1W2FdKXRocm93IEVycm9yKCJEaXNhbGxvd2VkIG9wZXJhdG9yOiAiK2EpO3JldHVybiBiPXRoaXMuZ2V0Rm4oYiksZnVuY3Rpb24oYyl7cmV0dXJuIHVbYV0oYihjKSl9fSxjcmVhdGVCaW5hcnlFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtpZighdlthXSl0aHJvdyBFcnJvcigiRGlzYWxsb3dlZCBvcGVyYXRvcjogIithKTtyZXR1cm4gYj10aGlzLmdldEZuKGIpLGM9dGhpcy5nZXRGbihjKSxmdW5jdGlvbihkKXtyZXR1cm4gdlthXShiKGQpLGMoZCkpfX0sY3JlYXRlQ29uZGl0aW9uYWxFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT10aGlzLmdldEZuKGEpLGI9dGhpcy5nZXRGbihiKSxjPXRoaXMuZ2V0Rm4oYyksZnVuY3Rpb24oZCl7cmV0dXJuIGEoZCk/YihkKTpjKGQpfX0sY3JlYXRlSWRlbnRpZmllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgZSh0aGlzLmRlcHMsYSk7cmV0dXJuIGIudHlwZT0iSWRlbnRpZmllciIsYn0sY3JlYXRlTWVtYmVyRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBlKHRoaXMuZGVwcyxjLm5hbWUsYil9LGNyZWF0ZUxpdGVyYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEudmFsdWV9fSxjcmVhdGVBcnJheUV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXT10aGlzLmdldEZuKGFbYl0pO3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWMucHVzaChhW2RdKGIpKTtyZXR1cm4gY319LGNyZWF0ZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm57a2V5OmIgaW5zdGFuY2VvZiBlP2IuZ2V0UGF0aCgpOmIoKSx2YWx1ZTpjfX0sY3JlYXRlT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnZhbHVlPXRoaXMuZ2V0Rm4oYVtiXS52YWx1ZSk7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDtkKyspY1thW2RdLmtleV09YVtkXS52YWx1ZShiKTtyZXR1cm4gY319LGNyZWF0ZUNhbGxFeHByZXNzaW9uOmcsY3JlYXRlRW1wdHlTdGF0ZW1lbnQ6ZyxjcmVhdGVUaGlzRXhwcmVzc2lvbjpnfSxoLnByb3RvdHlwZT17Z2V0QmluZGluZzpmdW5jdGlvbihhLGQsZSxmKXtyZXR1cm4gZD1kLnRyaW0oKSxkJiYhZC5tYXRjaChxKT9iKGEsZCxlLGYpfHxjKGEsZCxlLGYpOnZvaWQgMH0sZ2V0SW5zdGFuY2VNb2RlbDpmdW5jdGlvbihhLGIpe3ZhciBjPXQuZ2V0KGEpO2lmKCFjKXJldHVybiBiO3ZhciBkPWEudGVtcGxhdGVJbnN0YW5jZT9hLnRlbXBsYXRlSW5zdGFuY2UubW9kZWw6YS5tb2RlbCxlPU9iamVjdC5jcmVhdGUoZCk7cmV0dXJuIGVbY109YixlfX0sYS5FeHByZXNzaW9uU3ludGF4PWh9KHRoaXMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwKCJNb2RlbC5kaXJ0eUNoZWNrKCkiKSxjKCksbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIGMoKXtQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfXZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZC50ZXh0Q29udGVudD0idGVtcGxhdGUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7ZS5pbnNlcnRCZWZvcmUoZCxlLmZpcnN0Q2hpbGQpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuX19pbnN0YW5jZUNyZWF0ZWQ9ZnVuY3Rpb24oYSl7ZG9jdW1lbnQuYWRvcHROb2RlKGEpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYSl9O3ZhciBmPTEyNTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiV2ViQ29tcG9uZW50c1JlYWR5IixmdW5jdGlvbigpe2IoKSxPYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlfHxzZXRJbnRlcnZhbChjLGYpfSksYS5mbHVzaD1iLHdpbmRvdy5kaXJ0eUNoZWNrPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZChhLGkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGQoYSxqKX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWJ9ZnVuY3Rpb24gZShhKXtyZXR1cm4ic2NyaXB0Ij09PWEubG9jYWxOYW1lfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KGkpLGMuYm9keS5pbm5lckhUTUw9YSksYy5fVVJMPWI7dmFyIGQ9Yy5jcmVhdGVFbGVtZW50KCJiYXNlIik7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJocmVmIixkb2N1bWVudC5iYXNlVVJJKSxjLmhlYWQuYXBwZW5kQ2hpbGQoZCksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChjKSxjfWF8fChhPXdpbmRvdy5IVE1MSW1wb3J0cz17ZmxhZ3M6e319KTt2YXIgZyxoPWEueGhyLGk9ImltcG9ydCIsaj0ic3R5bGVzaGVldCIsaz17ZG9jdW1lbnRzOnt9LGNhY2hlOnt9LHByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2krIl0iLCJlbGVtZW50IGxpbmtbcmVsPSIraisiXSIsInRlbXBsYXRlIiwic2NyaXB0W3NyY106bm90KFt0eXBlXSkiLCdzY3JpcHRbc3JjXVt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSddLmpvaW4oIiwiKSxsb2FkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGc9bmV3IGwoay5sb2FkZWQsYSksZy5jYWNoZT1rLmNhY2hlLGd9LGxvYWQ6ZnVuY3Rpb24oYSxiKXtnPWsubG9hZGVyKGIpLGsucHJlbG9hZChhKX0scHJlbG9hZDpmdW5jdGlvbihhKXt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoay5wcmVsb2FkU2VsZWN0b3JzKTtiPXRoaXMuZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXMoYSxiKSxiPXRoaXMuZXh0cmFjdFRlbXBsYXRlTm9kZXMoYiksZy5hZGROb2RlcyhiKX0sZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWRvY3VtZW50JiYoYj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYixmdW5jdGlvbihhKXtyZXR1cm4hZShhKX0pKSxifSxleHRyYWN0VGVtcGxhdGVOb2RlczpmdW5jdGlvbihhKXt2YXIgYj1bXTtyZXR1cm4gYT1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSxmdW5jdGlvbihhKXtpZigidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUpe2lmKGEuY29udGVudCl7dmFyIGM9YS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIraisiXSIpO2MubGVuZ3RoJiYoYj1iLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLDApKSl9cmV0dXJuITF9cmV0dXJuITB9KSxiLmxlbmd0aCYmKGE9YS5jb25jYXQoYikpLGF9LGxvYWRlZDpmdW5jdGlvbihhLGQsZSl7aWYoYihkKSl7dmFyIGc9ay5kb2N1bWVudHNbYV07Z3x8KGc9ZihlLGEpLHAucmVzb2x2ZVBhdGhzSW5IVE1MKGcpLGsuZG9jdW1lbnRzW2FdPWcsay5wcmVsb2FkKGcpKSxkLmltcG9ydD17aHJlZjphLG93bmVyTm9kZTpkLGNvbnRlbnQ6Z30sZC5jb250ZW50PWU9Z31kLl9fcmVzb3VyY2U9ZSxjKGQpJiZwLnJlc29sdmVQYXRoc0luU3R5bGVzaGVldChkKX19LGw9ZnVuY3Rpb24oYSxiKXt0aGlzLm9ubG9hZD1hLHRoaXMub25jb21wbGV0ZT1iLHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e30sdGhpcy5jYWNoZT17fX07bC5wcm90b3R5cGU9e2FkZE5vZGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrPWEubGVuZ3RoLHEoYSx0aGlzLnJlcXVpcmUsdGhpcyksdGhpcy5jaGVja0RvbmUoKX0scmVxdWlyZTpmdW5jdGlvbihhKXt2YXIgYj1wLm5vZGVVcmwoYSk7YS5fX25vZGVVcmw9Yix0aGlzLmRlZHVwZShiLGEpfHx0aGlzLmZldGNoKGIsYSl9LGRlZHVwZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnBlbmRpbmdbYV0/KHRoaXMucGVuZGluZ1thXS5wdXNoKGIpLCEwKTp0aGlzLmNhY2hlW2FdPyh0aGlzLm9ubG9hZChhLGIsZy5jYWNoZVthXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbYV09W2JdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihjLGQpe3RoaXMucmVjZWl2ZShhLGIsYyxkKX0uYmluZCh0aGlzKTtoLmxvYWQoYSxjKX0scmVjZWl2ZTpmdW5jdGlvbihhLGIsYyxkKXtjfHwoZy5jYWNoZVthXT1kKSxnLnBlbmRpbmdbYV0uZm9yRWFjaChmdW5jdGlvbihiKXtjfHx0aGlzLm9ubG9hZChhLGIsZCksdGhpcy50YWlsKCl9LHRoaXMpLGcucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX07dmFyIG09WyJocmVmIiwic3JjIiwiYWN0aW9uIl0sbj0iWyIrbS5qb2luKCJdLFsiKSsiXSIsbz0ie3suKn19IixwPXtub2RlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBwLnJlc29sdmVVcmwocC5nZXREb2N1bWVudFVybChkb2N1bWVudCkscC5ocmVmT3JTcmMoYSkpfSxocmVmT3JTcmM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIil8fGEuZ2V0QXR0cmlidXRlKCJzcmMiKX0sZG9jdW1lbnRVcmxGcm9tTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gcC5nZXREb2N1bWVudFVybChhLm93bmVyRG9jdW1lbnR8fGEpfSxnZXREb2N1bWVudFVybDpmdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5fVVJMfHxhLmltcGwmJmEuaW1wbC5fVVJMfHxhLmJhc2VVUkl8fGEuVVJMKXx8IiI7cmV0dXJuIGIuc3BsaXQoIiMiKVswXX0scmVzb2x2ZVVybDpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5pc0Fic1VybChiKSlyZXR1cm4gYjt2YXIgZD10aGlzLmNvbXByZXNzVXJsKHRoaXMudXJsVG9QYXRoKGEpK2IpO3JldHVybiBjJiYoZD1wLm1ha2VSZWxQYXRoKHAuZ2V0RG9jdW1lbnRVcmwoZG9jdW1lbnQpLGQpKSxkfSxpc0Fic1VybDpmdW5jdGlvbihhKXtyZXR1cm4vKF5kYXRhOil8KF5odHRwW3NdPzopfCheXC8pLy50ZXN0KGEpfSx1cmxUb1BhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcGxpdCgiLyIpO3JldHVybiBiLnBvcCgpLGIucHVzaCgiIiksYi5qb2luKCIvIil9LGNvbXByZXNzVXJsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPWEuc3BsaXQoIi8iKSxkPTA7ZDxjLmxlbmd0aDtkKyspYj1jW2RdLCIuLiI9PT1iJiYoYy5zcGxpY2UoZC0xLDIpLGQtPTIpO3JldHVybiBjLmpvaW4oIi8iKX0sbWFrZVJlbFBhdGg6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2ZvcihjPXRoaXMuY29tcHJlc3NVcmwoYSkuc3BsaXQoIi8iKSxkPXRoaXMuY29tcHJlc3NVcmwoYikuc3BsaXQoIi8iKTtjLmxlbmd0aCYmY1swXT09PWRbMF07KWMuc2hpZnQoKSxkLnNoaWZ0KCk7Zm9yKHZhciBlPTAsZj1jLmxlbmd0aC0xO2Y+ZTtlKyspZC51bnNoaWZ0KCIuLiIpO3ZhciBnPWQuam9pbigiLyIpO3JldHVybiBnfSxyZXNvbHZlUGF0aHNJbkhUTUw6ZnVuY3Rpb24oYSxiKXtiPWJ8fHAuZG9jdW1lbnRVcmxGcm9tTm9kZShhKSxwLnJlc29sdmVBdHRyaWJ1dGVzKGEsYikscC5yZXNvbHZlU3R5bGVFbHRzKGEsYik7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpO2MmJnEoYyxmdW5jdGlvbihhKXthLmNvbnRlbnQmJnAucmVzb2x2ZVBhdGhzSW5IVE1MKGEuY29udGVudCxiKX0pfSxyZXNvbHZlUGF0aHNJblN0eWxlc2hlZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9cC5ub2RlVXJsKGEpO2EuX19yZXNvdXJjZT1wLnJlc29sdmVDc3NUZXh0KGEuX19yZXNvdXJjZSxiKX0scmVzb2x2ZVN0eWxlRWx0czpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtjJiZxKGMsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD1wLnJlc29sdmVDc3NUZXh0KGEudGV4dENvbnRlbnQsYil9KX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5yZXBsYWNlKC91cmxcKFteKV0qXCkvZyxmdW5jdGlvbihhKXt2YXIgYz1hLnJlcGxhY2UoL1siJ10vZywiIikuc2xpY2UoNCwtMSk7cmV0dXJuIGM9cC5yZXNvbHZlVXJsKGIsYywhMCksInVybCgiK2MrIikifSl9LHJlc29sdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YSYmYS5xdWVyeVNlbGVjdG9yQWxsKG4pO2MmJnEoYyxmdW5jdGlvbihhKXt0aGlzLnJlc29sdmVOb2RlQXR0cmlidXRlcyhhLGIpfSx0aGlzKX0scmVzb2x2ZU5vZGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7bS5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWEuYXR0cmlidXRlc1tjXTtpZihkJiZkLnZhbHVlJiZkLnZhbHVlLnNlYXJjaChvKTwwKXt2YXIgZT1wLnJlc29sdmVVcmwoYixkLnZhbHVlLCEwKTtkLnZhbHVlPWV9fSl9fTtoPWh8fHthc3luYzohMCxvazpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdGF0dXM+PTIwMCYmYS5zdGF0dXM8MzAwfHwzMDQ9PT1hLnN0YXR1c3x8MD09PWEuc3RhdHVzfSxsb2FkOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuKGEuZmxhZ3MuZGVidWd8fGEuZmxhZ3MuYnVzdCkmJihiKz0iPyIrTWF0aC5yYW5kb20oKSksZS5vcGVuKCJHRVQiLGIsaC5hc3luYyksZS5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpezQ9PT1lLnJlYWR5U3RhdGUmJmMuY2FsbChkLCFoLm9rKGUpJiZlLGUucmVzcG9uc2UsYil9KSxlLnNlbmQoKSxlfSxsb2FkRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubG9hZChhLGIsYykucmVzcG9uc2VUeXBlPSJkb2N1bWVudCJ9fTt2YXIgcT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGF0aD1wLGEueGhyPWgsYS5pbXBvcnRlcj1rLGEuZ2V0RG9jdW1lbnRVcmw9cC5nZXREb2N1bWVudFVybCxhLklNUE9SVF9MSU5LX1RZUEU9aX0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1mfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmIWQoYSkmJiFlKGEpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudD09PWRvY3VtZW50fHxhLm93bmVyRG9jdW1lbnQuaW1wbD09PWRvY3VtZW50fWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmImVsZW1lbnQiPT09YS5wYXJlbnROb2RlLmxvY2FsTmFtZX12YXIgZj0iaW1wb3J0IixnPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2YrIl0iLCJsaW5rW3JlbD1zdHlsZXNoZWV0XSIsInN0eWxlIiwic2NyaXB0Om5vdChbdHlwZV0pIiwnc2NyaXB0W3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10sbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZUdlbmVyaWMifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX2ltcG9ydFBhcnNlZCl7YS5fX2ltcG9ydFBhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoZy5zZWxlY3RvcnMpO2goYixmdW5jdGlvbihhKXtnW2cubWFwW2EubG9jYWxOYW1lXV0oYSl9KX19LHBhcnNlTGluazpmdW5jdGlvbihhKXtiKGEpP2EuY29udGVudCYmZy5wYXJzZShhLmNvbnRlbnQpOnRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7YyhhKSYmZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7aWYoYyhiKSl7dmFyIGQ9KGIuX19yZXNvdXJjZXx8Yi50ZXh0Q29udGVudCkudHJpbSgpO2lmKGQpe3ZhciBlPWIuX19ub2RlVXJsO2lmKCFlKXt2YXIgZT1hLnBhdGguZG9jdW1lbnRVcmxGcm9tTm9kZShiKSxmPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGc9ZC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Zj1nJiZnWzFdfHxmLGUrPSIvIitmKyIuanMifWQrPSJcbi8vIyBzb3VyY2VVUkw9IitlKyJcbiIsZXZhbC5jYWxsKHdpbmRvdyxkKX19fX0saD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWd9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtIVE1MSW1wb3J0cy5pbXBvcnRlci5sb2FkKGRvY3VtZW50LGZ1bmN0aW9uKCl7SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIkhUTUxJbXBvcnRzTG9hZGVkIix7YnViYmxlczohMH0pKX0pfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYi5pbml0RXZlbnQoYSwhMCwhMCksYn0pLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP2EoKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsYSl9KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt1LnB1c2goYSksdHx8KHQ9ITAscShkKSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpfHxhfWZ1bmN0aW9uIGQoKXt0PSExO3ZhciBhPXU7dT1bXSxhLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS51aWRfLWIudWlkX30pO3ZhciBiPSExO2EuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYz1hLnRha2VSZWNvcmRzKCk7ZShhKSxjLmxlbmd0aCYmKGEuY2FsbGJhY2tfKGMsYSksYj0hMCl9KSxiJiZkKCl9ZnVuY3Rpb24gZShhKXthLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXAuZ2V0KGIpO2MmJmMuZm9yRWFjaChmdW5jdGlvbihiKXtiLm9ic2VydmVyPT09YSYmYi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pfSl9ZnVuY3Rpb24gZihhLGIpe2Zvcih2YXIgYz1hO2M7Yz1jLnBhcmVudE5vZGUpe3ZhciBkPXAuZ2V0KGMpO2lmKGQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0sZz1mLm9wdGlvbnM7aWYoYz09PWF8fGcuc3VidHJlZSl7dmFyIGg9YihnKTtoJiZmLmVucXVldWUoaCl9fX19ZnVuY3Rpb24gZyhhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrdn1mdW5jdGlvbiBoKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gaShhKXt2YXIgYj1uZXcgaChhLnR5cGUsYS50YXJnZXQpO3JldHVybiBiLmFkZGVkTm9kZXM9YS5hZGRlZE5vZGVzLnNsaWNlKCksYi5yZW1vdmVkTm9kZXM9YS5yZW1vdmVkTm9kZXMuc2xpY2UoKSxiLnByZXZpb3VzU2libGluZz1hLnByZXZpb3VzU2libGluZyxiLm5leHRTaWJsaW5nPWEubmV4dFNpYmxpbmcsYi5hdHRyaWJ1dGVOYW1lPWEuYXR0cmlidXRlTmFtZSxiLmF0dHJpYnV0ZU5hbWVzcGFjZT1hLmF0dHJpYnV0ZU5hbWVzcGFjZSxiLm9sZFZhbHVlPWEub2xkVmFsdWUsYn1mdW5jdGlvbiBqKGEsYil7cmV0dXJuIHc9bmV3IGgoYSxiKX1mdW5jdGlvbiBrKGEpe3JldHVybiB4P3g6KHg9aSh3KSx4Lm9sZFZhbHVlPWEseCl9ZnVuY3Rpb24gbCgpe3c9eD12b2lkIDB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYT09PXh8fGE9PT13fWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYT09PWI/YTp4JiZtKGEpP3g6bnVsbH1mdW5jdGlvbiBvKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIHA9bmV3IFNpZGVUYWJsZSxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiBjW2QtMV09Zix2b2lkIDB9ZWxzZSBiKHRoaXMub2JzZXJ2ZXIpO2NbZF09YX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGEpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPXAuZ2V0KGEpO2J8fHAuc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGEpO2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXT09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIGI9YS5hdHRyTmFtZSxjPWEucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLGQ9YS50YXJnZXQsZT1uZXcgaigiYXR0cmlidXRlcyIsZCk7ZS5hdHRyaWJ1dGVOYW1lPWIsZS5hdHRyaWJ1dGVOYW1lc3BhY2U9Yzt2YXIgZz1hLmF0dHJDaGFuZ2U9PT1NdXRhdGlvbkV2ZW50LkFERElUSU9OP251bGw6YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiFhLmF0dHJpYnV0ZXN8fGEuYXR0cmlidXRlRmlsdGVyJiZhLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihiKSYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGMpP3ZvaWQgMDphLmF0dHJpYnV0ZU9sZFZhbHVlP2soZyk6ZX0pO2JyZWFrO2Nhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjp2YXIgZD1hLnRhcmdldCxlPWooImNoYXJhY3RlckRhdGEiLGQpLGc9YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJhY3RlckRhdGE/YS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/ayhnKTplOnZvaWQgMH0pO2JyZWFrO2Nhc2UiRE9NTm9kZVJlbW92ZWQiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYS50YXJnZXQpO2Nhc2UiRE9NTm9kZUluc2VydGVkIjp2YXIgaCxpLGQ9YS5yZWxhdGVkTm9kZSxtPWEudGFyZ2V0OyJET01Ob2RlSW5zZXJ0ZWQiPT09YS50eXBlPyhoPVttXSxpPVtdKTooaD1bXSxpPVttXSk7dmFyIG49bS5wcmV2aW91c1NpYmxpbmcsbz1tLm5leHRTaWJsaW5nLGU9aigiY2hpbGRMaXN0IixkKTtlLmFkZGVkTm9kZXM9aCxlLnJlbW92ZWROb2Rlcz1pLGUucHJldmlvdXNTaWJsaW5nPW4sZS5uZXh0U2libGluZz1vLGYoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGlsZExpc3Q/ZTp2b2lkIDB9KX1sKCl9fSxhLkpzTXV0YXRpb25PYnNlcnZlcj1nfSh0aGlzKSwhd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJih3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93LkpzTXV0YXRpb25PYnNlcnZlciwhTXV0YXRpb25PYnNlcnZlcikpdGhyb3cgbmV3IEVycm9yKCJubyBtdXRhdGlvbiBvYnNlcnZlciBzdXBwb3J0Iik7IWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixmKXt2YXIgZz1mfHx7fTtpZighYil0aHJvdyBuZXcgRXJyb3IoIk5hbWUgYXJndW1lbnQgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihnLm5hbWU9YiwhZy5wcm90b3R5cGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25zIG1pc3NpbmcgcmVxdWlyZWQgcHJvdG90eXBlIHByb3BlcnR5Iik7cmV0dXJuIGcubGlmZWN5Y2xlPWcubGlmZWN5Y2xlfHx7fSxnLmFuY2VzdHJ5PWMoZy5leHRlbmRzKSxkKGcpLGUoZyksayhnLnByb3RvdHlwZSksbShiLGcpLGcuY3Rvcj1uKGcpLGcuY3Rvci5wcm90b3R5cGU9Zy5wcm90b3R5cGUsZy5wcm90b3R5cGUuY29uc3RydWN0b3I9Zy5jdG9yLGEucmVhZHkmJmEudXBncmFkZUFsbChkb2N1bWVudCksZy5jdG9yfWZ1bmN0aW9uIGMoYSl7dmFyIGI9c1thXTtyZXR1cm4gYj9jKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZChhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLm5hbWUsYyYmKGEuaXM9YS5uYW1lKX1mdW5jdGlvbiBlKGEpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgYj1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYoYS5pcyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLnRhZyk7Yj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYyl9fWEubmF0aXZlPWJ9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZyh0KGEudGFnKSxhKX1mdW5jdGlvbiBnKGIsYyl7cmV0dXJuIGMuaXMmJmIuc2V0QXR0cmlidXRlKCJpcyIsYy5pcyksaChiLGMpLGIuX191cGdyYWRlZF9fPSEwLGEudXBncmFkZVN1YnRyZWUoYiksaihiKSxifWZ1bmN0aW9uIGgoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihpKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBpKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTFVua25vd25FbGVtZW50LnByb3RvdHlwZTspe2Zvcih2YXIgZixnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLGg9MDtmPWdbaF07aCsrKWRbZl18fChPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxmLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxmKSksZFtmXT0xKTtlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX19ZnVuY3Rpb24gaihhKXthLnJlYWR5Q2FsbGJhY2smJmEucmVhZHlDYWxsYmFjaygpfWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5zZXRBdHRyaWJ1dGU7YS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxjKXtsLmNhbGwodGhpcyxhLGMsYil9O3ZhciBjPWEucmVtb3ZlQXR0cmlidXRlO2EucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7bC5jYWxsKHRoaXMsYSxiLGMpfX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmdGhpcy5nZXRBdHRyaWJ1dGUoYSkhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQpfWZ1bmN0aW9uIG0oYSxiKXtzW2FdPWJ9ZnVuY3Rpb24gbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZihhKX19ZnVuY3Rpb24gbyhhKXt2YXIgYj1zW2FdO3JldHVybiBiP25ldyBiLmN0b3I6dChhKX1mdW5jdGlvbiBwKGEpe2lmKCFhLl9fdXBncmFkZWRfXyYmYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgiaXMiKXx8YS5sb2NhbE5hbWUsYz1zW2JdO3JldHVybiBjJiZnKGEsYyl9fWZ1bmN0aW9uIHEoYil7dmFyIGM9dS5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWlmKGF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KSxhLmhhc05hdGl2ZT0oZG9jdW1lbnQud2Via2l0UmVnaXN0ZXJ8fGRvY3VtZW50LnJlZ2lzdGVyKSYmIm5hdGl2ZSI9PT1hLmZsYWdzLnJlZ2lzdGVyLGEuaGFzTmF0aXZlKXtkb2N1bWVudC5yZWdpc3Rlcj1kb2N1bWVudC5yZWdpc3Rlcnx8ZG9jdW1lbnQud2Via2l0UmVnaXN0ZXI7dmFyIHI9ZnVuY3Rpb24oKXt9O2EucmVnaXN0cnk9e30sYS51cGdyYWRlRWxlbWVudD1yfWVsc2V7dmFyIHM9e30sdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpLHU9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlO2RvY3VtZW50LnJlZ2lzdGVyPWIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD1vLE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT1xLGEucmVnaXN0cnk9cyxhLnVwZ3JhZGU9cH19KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOihhLndlYmtpdFNoYWRvd1Jvb3QmJmMoYS53ZWJraXRTaGFkb3dSb290LGQpLHZvaWQgMCl9KSxhLndlYmtpdFNoYWRvd1Jvb3QmJmMoYS53ZWJraXRTaGFkb3dSb290LGQpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGcoYSk/KGgoYSksITApOihpKGEpLHZvaWQgMCl9ZnVuY3Rpb24gZShhKXtjKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCAwfSl9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZChhKXx8ZShhKX1mdW5jdGlvbiBnKGIpe2lmKCFiLl9fdXBncmFkZWRfXyYmYi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgiaXMiKXx8Yi5sb2NhbE5hbWUsZD1hLnJlZ2lzdHJ5W2NdO2lmKGQpcmV0dXJuIGxvZ0ZsYWdzLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksbG9nRmxhZ3MuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCksITB9fWZ1bmN0aW9uIGgoYSl7aShhKSxsKGEpJiZjKGEsZnVuY3Rpb24oYSl7aShhKX0pfWZ1bmN0aW9uIGkoYSl7KGEuaW5zZXJ0ZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJmxvZ0ZsYWdzLmRvbSkmJihsb2dGbGFncy5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGwoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9sb2dGbGFncy5kb20mJmNvbnNvbGUud2FybigiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5pbnNlcnRlZENhbGxiYWNrJiYobG9nRmxhZ3MuZG9tJiZjb25zb2xlLmxvZygiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSksYS5pbnNlcnRlZENhbGxiYWNrKCkpKSxsb2dGbGFncy5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gaihhKXtrKGEpLGMoYSxmdW5jdGlvbihhKXtrKGEpfSl9ZnVuY3Rpb24gayhhKXsoYS5yZW1vdmVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZsb2dGbGFncy5kb20pJiYobG9nRmxhZ3MuZG9tJiZjb25zb2xlLmxvZygicmVtb3ZlZDoiLGEubG9jYWxOYW1lKSxsKGEpfHwoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApLTEsYS5fX2luc2VydGVkPjAmJihhLl9faW5zZXJ0ZWQ9MCksYS5fX2luc2VydGVkPDA/bG9nRmxhZ3MuZG9tJiZjb25zb2xlLndhcm4oInJlbW92ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5yZW1vdmVkQ2FsbGJhY2smJmEucmVtb3ZlZENhbGxiYWNrKCkpKX1mdW5jdGlvbiBsKGEpe2Zvcih2YXIgYj1hO2I7KXtpZihiPT1hLm93bmVyRG9jdW1lbnQpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gbShhKXthLndlYmtpdFNoYWRvd1Jvb3QmJiFhLndlYmtpdFNoYWRvd1Jvb3QuX193YXRjaGVkJiYobG9nRmxhZ3MuZG9tJiZjb25zb2xlLmxvZygid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiAiLGEubG9jYWxOYW1lKSxyKGEud2Via2l0U2hhZG93Um9vdCksYS53ZWJraXRTaGFkb3dSb290Ll9fd2F0Y2hlZD0hMCl9ZnVuY3Rpb24gbihhKXttKGEpLGMoYSxmdW5jdGlvbigpe20oYSl9KX1mdW5jdGlvbiBvKGEpe3N3aXRjaChhLmxvY2FsTmFtZSl7Y2FzZSJzdHlsZSI6Y2FzZSJzY3JpcHQiOmNhc2UidGVtcGxhdGUiOmNhc2Ugdm9pZCAwOnJldHVybiEwfX1mdW5jdGlvbiBwKGEpe2lmKGxvZ0ZsYWdzLmRvbSl7dmFyIGI9YVswXTtpZihiJiYiY2hpbGRMaXN0Ij09PWIudHlwZSYmYi5hZGRlZE5vZGVzJiZiLmFkZGVkTm9kZXMpe2Zvcih2YXIgYz1iLmFkZGVkTm9kZXNbMF07YyYmYyE9PWRvY3VtZW50JiYhYy5ob3N0OyljPWMucGFyZW50Tm9kZTt2YXIgZD1jJiYoYy5VUkx8fGMuX1VSTHx8Yy5ob3N0JiZjLmhvc3QubG9jYWxOYW1lKXx8IiI7ZD1kLnNwbGl0KCIvPyIpLnNoaWZ0KCkuc3BsaXQoIi8iKS5wb3AoKX1jb25zb2xlLmdyb3VwKCJtdXRhdGlvbnMgKCVkKSBbJXNdIixhLmxlbmd0aCxkfHwiIil9YS5mb3JFYWNoKGZ1bmN0aW9uKGEpeyJjaGlsZExpc3QiPT09YS50eXBlJiYodihhLmFkZGVkTm9kZXMsZnVuY3Rpb24oYSl7byhhKXx8ZihhKX0pLHYoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7byhhKXx8aihhKX0pKX0pLGxvZ0ZsYWdzLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHEoKXtwKHUudGFrZVJlY29yZHMoKSkKfWZ1bmN0aW9uIHIoYSl7dS5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24gcyhhKXtyKGEpfWZ1bmN0aW9uIHQoYSl7bG9nRmxhZ3MuZG9tJiZjb25zb2xlLmdyb3VwKCJ1cGdyYWRlRG9jdW1lbnQ6ICIsKGEuVVJMfHxhLl9VUkx8fCIiKS5zcGxpdCgiLyIpLnBvcCgpKSxmKGEpLGxvZ0ZsYWdzLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfXZhciB1PW5ldyBNdXRhdGlvbk9ic2VydmVyKHApLHY9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLndhdGNoU2hhZG93PW0sYS53YXRjaEFsbFNoYWRvd3M9bixhLnVwZ3JhZGVBbGw9ZixhLnVwZ3JhZGVTdWJ0cmVlPWUsYS5vYnNlcnZlRG9jdW1lbnQ9cyxhLnVwZ3JhZGVEb2N1bWVudD10LGEudGFrZVJlY29yZHM9cX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHBhcnNlRWxlbWVudEVsZW1lbnQoYSl7dmFyIGI9e25hbWU6IiIsImV4dGVuZHMiOm51bGx9O3Rha2VBdHRyaWJ1dGVzKGEsYik7dmFyIGM9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGIuZXh0ZW5kcyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLmV4dGVuZHMpO2M9ZC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihkKX1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMpLGEub3B0aW9ucz1iO3ZhciBlPWEucXVlcnlTZWxlY3Rvcignc2NyaXB0Om5vdChbdHlwZV0pLHNjcmlwdFt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSxzY3JpcHRzJyk7ZSYmZXhlY3V0ZUNvbXBvbmVudFNjcmlwdChlLnRleHRDb250ZW50LGEsYi5uYW1lKTt2YXIgZj1kb2N1bWVudC5yZWdpc3RlcihiLm5hbWUsYik7YS5jdG9yPWY7dmFyIGc9YS5nZXRBdHRyaWJ1dGUoImNvbnN0cnVjdG9yIik7ZyYmKHdpbmRvd1tnXT1mKX1mdW5jdGlvbiB0YWtlQXR0cmlidXRlcyhhLGIpe2Zvcih2YXIgYyBpbiBiKXt2YXIgZD1hLmF0dHJpYnV0ZXNbY107ZCYmKGJbY109ZC52YWx1ZSl9fWZ1bmN0aW9uIGV4ZWN1dGVDb21wb25lbnRTY3JpcHQoaW5TY3JpcHQsaW5Db250ZXh0LGluTmFtZSl7Y29udGV4dD1pbkNvbnRleHQ7dmFyIG93bmVyPWNvbnRleHQub3duZXJEb2N1bWVudCx1cmw9b3duZXIuX1VSTHx8b3duZXIuVVJMfHxvd25lci5pbXBsJiYob3duZXIuaW1wbC5fVVJMfHxvd25lci5pbXBsLlVSTCksbWF0Y2g9dXJsLm1hdGNoKC8uKlwvKFteLl0qKVsuXT8uKiQvKTtpZihtYXRjaCl7dmFyIG5hbWU9bWF0Y2hbMV07dXJsKz1uYW1lIT1pbk5hbWU/IjoiK2luTmFtZToiIn12YXIgY29kZT0iX19jb21wb25lbnRTY3JpcHQoJyIraW5OYW1lKyInLCBmdW5jdGlvbigpeyIraW5TY3JpcHQrIn0pOyIrIlxuLy8jIHNvdXJjZVVSTD0iK3VybCsiXG4iO2V2YWwoY29kZSl9ZnVuY3Rpb24gbWl4aW4oYSxiKXthPWF8fHt9O3RyeXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixjKTtkJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLGQpfSl9Y2F0Y2goYyl7fXJldHVybiBhfXZhciBIVE1MRWxlbWVudEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVnaXN0ZXI9SFRNTEVsZW1lbnRFbGVtZW50LnByb3RvdHlwZS5yZWdpc3RlcixwYXJzZUVsZW1lbnRFbGVtZW50KGEpLGF9O0hUTUxFbGVtZW50RWxlbWVudC5wcm90b3R5cGU9e3JlZ2lzdGVyOmZ1bmN0aW9uKGEpe2EmJih0aGlzLm9wdGlvbnMubGlmZWN5Y2xlPWEubGlmZWN5Y2xlLGEucHJvdG90eXBlJiZtaXhpbih0aGlzLm9wdGlvbnMucHJvdG90eXBlLGEucHJvdG90eXBlKSl9fTt2YXIgY29udGV4dDt3aW5kb3cuX19jb21wb25lbnRTY3JpcHQ9ZnVuY3Rpb24oYSxiKXtiLmNhbGwoY29udGV4dCl9LHdpbmRvdy5IVE1MRWxlbWVudEVsZW1lbnQ9SFRNTEVsZW1lbnRFbGVtZW50fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Yn12YXIgYj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsYz17c2VsZWN0b3JzOlsibGlua1tyZWw9IitiKyJdIiwiZWxlbWVudCJdLG1hcDp7bGluazoicGFyc2VMaW5rIixlbGVtZW50OiJwYXJzZUVsZW1lbnQifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoYy5zZWxlY3RvcnMpO2QoYixmdW5jdGlvbihhKXtjW2MubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGIpe2EoYikmJnRoaXMucGFyc2VJbXBvcnQoYil9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2EuY29udGVudCYmYy5wYXJzZShhLmNvbnRlbnQpfSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7bmV3IEhUTUxFbGVtZW50RWxlbWVudChhKX19LGQ9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTtDdXN0b21FbGVtZW50cy5wYXJzZXI9Y30oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnJlYWR5PSEwLEN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZT1EYXRlLm5vdygpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEN1c3RvbUVsZW1lbnRzLmVsYXBzZWQ9Q3VzdG9tRWxlbWVudHMucmVhZHlUaW1lLUhUTUxJbXBvcnRzLnJlYWR5VGltZSksZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiV2ViQ29tcG9uZW50c1JlYWR5Iix7YnViYmxlczohMH0pKX0sMCl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBiLmluaXRFdmVudChhLCEwLCEwKSxifSksImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpYSgpO2Vsc2V7dmFyIGI9d2luZG93LkhUTUxJbXBvcnRzPyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGIsYSl9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe312YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2IudGV4dENvbnRlbnQ9ImVsZW1lbnQge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgYz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7aWYoYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpLHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7Q3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3c9YSxDdXN0b21FbGVtZW50cy53YXRjaEFsbFNoYWRvd3M9YTt2YXIgZD1bInVwZ3JhZGVBbGwiLCJ1cGdyYWRlU3VidHJlZSIsIm9ic2VydmVEb2N1bWVudCIsInVwZ3JhZGVEb2N1bWVudCJdLGU9e307ZC5mb3JFYWNoKGZ1bmN0aW9uKGEpe2VbYV09Q3VzdG9tRWxlbWVudHNbYV19KSxkLmZvckVhY2goZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHNbYV09ZnVuY3Rpb24oYil7cmV0dXJuIGVbYV0od3JhcChiKSl9fSl9fSgpLGZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGI9e3NoYWRvdzpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnNoYWRvd1Jvb3R8fGEud2Via2l0U2hhZG93Um9vdDp2b2lkIDB9LGNhblRhcmdldDpmdW5jdGlvbihhKXtyZXR1cm4gYSYmQm9vbGVhbihhLmVsZW1lbnRGcm9tUG9pbnQpfSx0YXJnZXRpbmdTaGFkb3c6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zaGFkb3coYSk7cmV0dXJuIHRoaXMuY2FuVGFyZ2V0KGIpP2I6dm9pZCAwfSxvbGRlclNoYWRvdzpmdW5jdGlvbihhKXt2YXIgYj1hLm9sZGVyU2hhZG93Um9vdDtpZighYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yKCJzaGFkb3ciKTtjJiYoYj1jLm9sZGVyU2hhZG93Um9vdCl9cmV0dXJuIGJ9LGFsbFNoYWRvd3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5zaGFkb3coYSk7YzspYi5wdXNoKGMpLGM9dGhpcy5vbGRlclNoYWRvdyhjKTtyZXR1cm4gYn0sc2VhcmNoUm9vdDpmdW5jdGlvbihhLGIsYyl7aWYoYSl7dmFyIGQsZSxmPWEuZWxlbWVudEZyb21Qb2ludChiLGMpO2ZvcihlPXRoaXMudGFyZ2V0aW5nU2hhZG93KGYpO2U7KXtpZihkPWUuZWxlbWVudEZyb21Qb2ludChiLGMpKXt2YXIgZz10aGlzLnRhcmdldGluZ1NoYWRvdyhkKTtyZXR1cm4gdGhpcy5zZWFyY2hSb290KGcsYixjKXx8ZH1lPXRoaXMub2xkZXJTaGFkb3coZSl9cmV0dXJuIGZ9fSxvd25lcjpmdW5jdGlvbihhKXtmb3IodmFyIGI9YTtiLnBhcmVudE5vZGU7KWI9Yi5wYXJlbnROb2RlO3JldHVybiBifSxmaW5kVGFyZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2xpZW50WCxjPWEuY2xpZW50WSxkPXRoaXMub3duZXIoYS50YXJnZXQpO3JldHVybiBkLmVsZW1lbnRGcm9tUG9pbnQoYixjKXx8KGQ9ZG9jdW1lbnQpLHRoaXMuc2VhcmNoUm9vdChkb2N1bWVudCxiLGMpfX07YS50YXJnZXRGaW5kaW5nPWIsYS5maW5kVGFyZ2V0PWIuZmluZFRhcmdldC5iaW5kKGIpLHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw9YX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybidbdG91Y2gtYWN0aW9uPSInK2ErJyJdJ31mdW5jdGlvbiBiKGEpe3JldHVybiJ7IC1tcy10b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb246ICIrYSsiOyB9In12YXIgYz1bIm5vbmUiLCJhdXRvIiwicGFuLXgiLCJwYW4teSIse3J1bGU6InBhbi14IHBhbi15IixzZWxlY3RvcnM6WyJwYW4teCBwYW4teSIsInBhbi15IHBhbi14Il19XSxkPSIiO2MuZm9yRWFjaChmdW5jdGlvbihjKXtkKz1TdHJpbmcoYyk9PT1jP2EoYykrYihjKTpjLnNlbGVjdG9ycy5tYXAoYSkrYihjLnJ1bGUpfSk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnRleHRDb250ZW50PWQ7dmFyIGY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2YuaW5zZXJ0QmVmb3JlKGUsZi5maXJzdENoaWxkKX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7dmFyIGI9Ynx8e30sZT1iLmJ1dHRvbnM7aWYodm9pZCAwPT09ZSlzd2l0Y2goYi53aGljaCl7Y2FzZSAxOmU9MTticmVhaztjYXNlIDI6ZT00O2JyZWFrO2Nhc2UgMzplPTI7YnJlYWs7ZGVmYXVsdDplPTB9dmFyIGY7aWYoYylmPW5ldyBNb3VzZUV2ZW50KGEsYik7ZWxzZXtmPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50Iik7dmFyIGc9e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSx2aWV3Om51bGwsZGV0YWlsOm51bGwsc2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsYnV0dG9uOjAscmVsYXRlZFRhcmdldDpudWxsfTtPYmplY3Qua2V5cyhnKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EgaW4gYiYmKGdbYV09YlthXSl9KSxmLmluaXRNb3VzZUV2ZW50KGEsZy5idWJibGVzLGcuY2FuY2VsYWJsZSxnLnZpZXcsZy5kZXRhaWwsZy5zY3JlZW5YLGcuc2NyZWVuWSxnLmNsaWVudFgsZy5jbGllbnRZLGcuY3RybEtleSxnLmFsdEtleSxnLnNoaWZ0S2V5LGcubWV0YUtleSxnLmJ1dHRvbixnLnJlbGF0ZWRUYXJnZXQpfWR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCJidXR0b25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGVudW1lcmFibGU6ITB9KTt2YXIgaD0wO3JldHVybiBoPWIucHJlc3N1cmU/Yi5wcmVzc3VyZTplPy41OjAsT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZix7cG9pbnRlcklkOnt2YWx1ZTpiLnBvaW50ZXJJZHx8MCxlbnVtZXJhYmxlOiEwfSx3aWR0aDp7dmFsdWU6Yi53aWR0aHx8MCxlbnVtZXJhYmxlOiEwfSxoZWlnaHQ6e3ZhbHVlOmIuaGVpZ2h0fHwwLGVudW1lcmFibGU6ITB9LHByZXNzdXJlOnt2YWx1ZTpoLGVudW1lcmFibGU6ITB9LHRpbHRYOnt2YWx1ZTpiLnRpbHRYfHwwLGVudW1lcmFibGU6ITB9LHRpbHRZOnt2YWx1ZTpiLnRpbHRZfHwwLGVudW1lcmFibGU6ITB9LHBvaW50ZXJUeXBlOnt2YWx1ZTpiLnBvaW50ZXJUeXBlfHwiIixlbnVtZXJhYmxlOiEwfSxod1RpbWVzdGFtcDp7dmFsdWU6Yi5od1RpbWVzdGFtcHx8MCxlbnVtZXJhYmxlOiEwfSxpc1ByaW1hcnk6e3ZhbHVlOmIuaXNQcmltYXJ5fHwhMSxlbnVtZXJhYmxlOiEwfX0pLGZ9dmFyIGM9ITEsZD0hMTt0cnl7dmFyIGU9bmV3IE1vdXNlRXZlbnQoImNsaWNrIix7YnV0dG9uczoxfSk7Yz0hMCxkPTE9PT1lLmJ1dHRvbnN9Y2F0Y2goZil7fWEuUG9pbnRlckV2ZW50fHwoYS5Qb2ludGVyRXZlbnQ9Yil9KHdpbmRvdyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMuaWRzPVtdLHRoaXMucG9pbnRlcnM9W119Yi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaWRzLmluZGV4T2YoYSk7Yz4tMT90aGlzLnBvaW50ZXJzW2NdPWI6KHRoaXMuaWRzLnB1c2goYSksdGhpcy5wb2ludGVycy5wdXNoKGIpKX0saGFzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlkcy5pbmRleE9mKGEpPi0xfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlkcy5pbmRleE9mKGEpO2I+LTEmJih0aGlzLmlkcy5zcGxpY2UoYiwxKSx0aGlzLnBvaW50ZXJzLnNwbGljZShiLDEpKX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaWRzLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMucG9pbnRlcnNbYl19LGdldCBzaXplKCl7cmV0dXJuIHRoaXMucG9pbnRlcnMubGVuZ3RofSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuaWRzLmxlbmd0aD0wLHRoaXMucG9pbnRlcnMubGVuZ3RoPTB9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXt0aGlzLmlkcy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YS5jYWxsKGIsYyx0aGlzLnBvaW50ZXJzW2RdLHRoaXMpfSx0aGlzKX19LGEuUG9pbnRlck1hcD13aW5kb3cuTWFwJiZNYXAucHJvdG90eXBlLmZvckVhY2g/TWFwOmJ9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgV2Vha01hcCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94LyIpPDApYj1XZWFrTWFwO2Vsc2V7dmFyIGM9T2JqZWN0LmRlZmluZVByb3BlcnR5LGQ9T2JqZWN0Lmhhc093blByb3BlcnR5LGU9KG5ldyBEYXRlKS5nZXRUaW1lKCklMWU5O2I9ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyhlKysgKyJfXyIpfSxiLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7YyhhLHRoaXMubmFtZSx7dmFsdWU6Yix3cml0YWJsZTohMH0pfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuY2FsbChhLHRoaXMubmFtZSk/YVt0aGlzLm5hbWVdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX19YS5TaWRlVGFibGU9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9e3RhcmdldHM6bmV3IGEuU2lkZVRhYmxlLGhhbmRsZWRFdmVudHM6bmV3IGEuU2lkZVRhYmxlLHBvaW50ZXJtYXA6bmV3IGEuUG9pbnRlck1hcCxldmVudE1hcDp7fSxldmVudFNvdXJjZXM6e30sZXZlbnRTb3VyY2VMaXN0OltdLHJlZ2lzdGVyU291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YixkPWMuZXZlbnRzO2QmJihkLmZvckVhY2goZnVuY3Rpb24oYSl7Y1thXSYmKHRoaXMuZXZlbnRNYXBbYV09Y1thXS5iaW5kKGMpKX0sdGhpcyksdGhpcy5ldmVudFNvdXJjZXNbYV09Yyx0aGlzLmV2ZW50U291cmNlTGlzdC5wdXNoKGMpKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi5yZWdpc3Rlci5jYWxsKGIsYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi51bnJlZ2lzdGVyLmNhbGwoYixhKX0sZG93bjpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgicG9pbnRlcmRvd24iLGEpfSxtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVybW92ZSIsYSl9LHVwOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVydXAiLGEpfSxlbnRlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITEsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJlbnRlciIsYSl9LGxlYXZlOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmxlYXZlIixhKX0sb3ZlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJvdmVyIixhKX0sb3V0OmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm91dCIsYSl9LGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgicG9pbnRlcmNhbmNlbCIsYSl9LGxlYXZlT3V0OmZ1bmN0aW9uKGEpe2EudGFyZ2V0LmNvbnRhaW5zKGEucmVsYXRlZFRhcmdldCl8fHRoaXMubGVhdmUoYSksdGhpcy5vdXQoYSl9LGVudGVyT3ZlcjpmdW5jdGlvbihhKXthLnRhcmdldC5jb250YWlucyhhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpLHRoaXMub3ZlcihhKX0sZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmhhbmRsZWRFdmVudHMuZ2V0KGEpKXt2YXIgYj1hLnR5cGUsYz10aGlzLmV2ZW50TWFwJiZ0aGlzLmV2ZW50TWFwW2JdO2MmJmMoYSksdGhpcy5oYW5kbGVkRXZlbnRzLnNldChhLCEwKX19LGxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLmFkZEV2ZW50KGEsYil9LHRoaXMpfSx1bmxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLnJlbW92ZUV2ZW50KGEsYil9LHRoaXMpfSxhZGRFdmVudDpmdW5jdGlvbihhLGIpe2EuYWRkRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKX0scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoYix0aGlzLmJvdW5kSGFuZGxlcil9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBQb2ludGVyRXZlbnQoYSxiKTtyZXR1cm4gdGhpcy50YXJnZXRzLnNldChjLHRoaXMudGFyZ2V0cy5nZXQoYil8fGIudGFyZ2V0KSxjfSxmaXJlRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1ha2VFdmVudChhLGIpO3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoYyl9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9e307Zm9yKHZhciBjIGluIGEpYltjXT1hW2NdO3JldHVybiBifSxnZXRUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1hLnBvaW50ZXJJZD90aGlzLmNhcHR1cmVJbmZvLnRhcmdldDp0aGlzLnRhcmdldHMuZ2V0KGEpfSxzZXRDYXB0dXJlOmZ1bmN0aW9uKGEsYil7dGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5yZWxlYXNlQ2FwdHVyZSh0aGlzLmNhcHR1cmVJbmZvLmlkKSx0aGlzLmNhcHR1cmVJbmZvPXtpZDphLHRhcmdldDpifTt2YXIgYz1uZXcgUG9pbnRlckV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KTt0aGlzLmltcGxpY2l0UmVsZWFzZT10aGlzLnJlbGVhc2VDYXB0dXJlLmJpbmQodGhpcyxhKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChjLGIpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KGMpfSxyZWxlYXNlQ2FwdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09YSl7dmFyIGI9bmV3IFBvaW50ZXJFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pLGM9dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ7dGhpcy5jYXB0dXJlSW5mbz1udWxsLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KGIsYyksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQoYil9fSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VGFyZ2V0KGEpO3JldHVybiBiP2IuZGlzcGF0Y2hFdmVudChhKTp2b2lkIDB9LGFzeW5jRGlzcGF0Y2hFdmVudDpmdW5jdGlvbihhKXtzZXRUaW1lb3V0KHRoaXMuZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMsYSksMCl9fTtiLmJvdW5kSGFuZGxlcj1iLmV2ZW50SGFuZGxlci5iaW5kKGIpLGEuZGlzcGF0Y2hlcj1iLGEucmVnaXN0ZXI9Yi5yZWdpc3Rlci5iaW5kKGIpLGEudW5yZWdpc3Rlcj1iLnVucmVnaXN0ZXIuYmluZChiKX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIsYyxkKXt0aGlzLmFkZENhbGxiYWNrPWEuYmluZChkKSx0aGlzLnJlbW92ZUNhbGxiYWNrPWIuYmluZChkKSx0aGlzLmNoYW5nZWRDYWxsYmFjaz1jLmJpbmQoZCksZyYmKHRoaXMub2JzZXJ2ZXI9bmV3IGcodGhpcy5tdXRhdGlvbldhdGNoZXIuYmluZCh0aGlzKSkpfXZhciBjPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksZD1BcnJheS5wcm90b3R5cGUubWFwLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUubWFwKSxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLnNsaWNlKSxmPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpLGc9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGg9Ilt0b3VjaC1hY3Rpb25dIixpPXtzdWJ0cmVlOiEwLGNoaWxkTGlzdDohMCxhdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwLGF0dHJpYnV0ZUZpbHRlcjpbInRvdWNoLWFjdGlvbiJdfTtiLnByb3RvdHlwZT17d2F0Y2hTdWJ0cmVlOmZ1bmN0aW9uKGIpe2EudGFyZ2V0RmluZGluZy5jYW5UYXJnZXQoYikmJnRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShiLGkpfSxlbmFibGVPblN1YnRyZWU6ZnVuY3Rpb24oYSl7dGhpcy53YXRjaFN1YnRyZWUoYSksYT09PWRvY3VtZW50JiYiY29tcGxldGUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZT90aGlzLmluc3RhbGxPbkxvYWQoKTp0aGlzLmluc3RhbGxOZXdTdWJ0cmVlKGEpfSxpbnN0YWxsTmV3U3VidHJlZTpmdW5jdGlvbihhKXtjKHRoaXMuZmluZEVsZW1lbnRzKGEpLHRoaXMuYWRkRWxlbWVudCx0aGlzKX0sZmluZEVsZW1lbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGw/YS5xdWVyeVNlbGVjdG9yQWxsKGgpOltdfSxyZW1vdmVFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlQ2FsbGJhY2soYSl9LGFkZEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5hZGRDYWxsYmFjayhhKX0sZWxlbWVudENoYW5nZWQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmNoYW5nZWRDYWxsYmFjayhhLGIpfSxjb25jYXRMaXN0czpmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChlKGIpKX0saW5zdGFsbE9uTG9hZDpmdW5jdGlvbigpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLHRoaXMuaW5zdGFsbE5ld1N1YnRyZWUuYmluZCh0aGlzLGRvY3VtZW50KSl9LGlzRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfSxmbGF0dGVuTXV0YXRpb25UcmVlOmZ1bmN0aW9uKGEpe3ZhciBiPWQoYSx0aGlzLmZpbmRFbGVtZW50cyx0aGlzKTtyZXR1cm4gYi5wdXNoKGYoYSx0aGlzLmlzRWxlbWVudCkpLGIucmVkdWNlKHRoaXMuY29uY2F0TGlzdHMsW10pfSxtdXRhdGlvbldhdGNoZXI6ZnVuY3Rpb24oYSl7YS5mb3JFYWNoKHRoaXMubXV0YXRpb25IYW5kbGVyLHRoaXMpfSxtdXRhdGlvbkhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoImNoaWxkTGlzdCI9PT1hLnR5cGUpe3ZhciBiPXRoaXMuZmxhdHRlbk11dGF0aW9uVHJlZShhLmFkZGVkTm9kZXMpO2IuZm9yRWFjaCh0aGlzLmFkZEVsZW1lbnQsdGhpcyk7dmFyIGM9dGhpcy5mbGF0dGVuTXV0YXRpb25UcmVlKGEucmVtb3ZlZE5vZGVzKTtjLmZvckVhY2godGhpcy5yZW1vdmVFbGVtZW50LHRoaXMpfWVsc2UiYXR0cmlidXRlcyI9PT1hLnR5cGUmJnRoaXMuZWxlbWVudENoYW5nZWQoYS50YXJnZXQsYS5vbGRWYWx1ZSl9fSxnfHwoYi5wcm90b3R5cGUud2F0Y2hTdWJ0cmVlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJQb2ludGVyRXZlbnRzUG9seWZpbGw6IE11dGF0aW9uT2JzZXJ2ZXJzIG5vdCBmb3VuZCwgdG91Y2gtYWN0aW9uIHdpbGwgbm90IGJlIGR5bmFtaWNhbGx5IGRldGVjdGVkIil9KSxhLkluc3RhbGxlcj1ifSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1iLnBvaW50ZXJtYXAsZD0yNSxlPXtQT0lOVEVSX0lEOjEsUE9JTlRFUl9UWVBFOiJtb3VzZSIsZXZlbnRzOlsibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0Il0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sbGFzdFRvdWNoZXM6W10saXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmxhc3RUb3VjaGVzLGU9YS5jbGllbnRYLGY9YS5jbGllbnRZLGc9MCxoPWMubGVuZ3RoO2g+ZyYmKGI9Y1tnXSk7ZysrKXt2YXIgaT1NYXRoLmFicyhlLWIueCksaj1NYXRoLmFicyhmLWIueSk7aWYoZD49aSYmZD49ailyZXR1cm4hMH19LHByZXBhcmVFdmVudDpmdW5jdGlvbihhKXt2YXIgYz1iLmNsb25lRXZlbnQoYSk7cmV0dXJuIGMucG9pbnRlcklkPXRoaXMuUE9JTlRFUl9JRCxjLmlzUHJpbWFyeT0hMCxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGN9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmhhcyh0aGlzLlBPSU5URVJfSUQpO2QmJnRoaXMuY2FuY2VsKGEpO3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2Muc2V0KHRoaXMuUE9JTlRFUl9JRCxhKSxiLmRvd24oZSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfX0sbW91c2V1cDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmdldCh0aGlzLlBPSU5URVJfSUQpO2lmKGQmJmQuYnV0dG9uPT09YS5idXR0b24pe3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoZSksdGhpcy5jbGVhbnVwTW91c2UoKX19fSxtb3VzZW92ZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9fSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cE1vdXNlKCl9LGNsZWFudXBNb3VzZTpmdW5jdGlvbigpe2MuZGVsZXRlKHRoaXMuUE9JTlRFUl9JRCl9fTthLm1vdXNlRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kaXNwYXRjaGVyLGQ9YS5maW5kVGFyZ2V0LGU9YS50YXJnZXRGaW5kaW5nLmFsbFNoYWRvd3MuYmluZChhLnRhcmdldEZpbmRpbmcpLGY9Yy5wb2ludGVybWFwLGc9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksaD0yNTAwLGk9InRvdWNoLWFjdGlvbiIsaj0ic3RyaW5nIj09dHlwZW9mIGRvY3VtZW50LmhlYWQuc3R5bGUudG91Y2hBY3Rpb24saz17c2Nyb2xsVHlwZTpuZXcgYS5TaWRlVGFibGUsZXZlbnRzOlsidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwidG91Y2hjYW5jZWwiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtqP2MubGlzdGVuKGEsdGhpcy5ldmVudHMpOmIuZW5hYmxlT25TdWJ0cmVlKGEpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2omJmMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LGVsZW1lbnRBZGRlZDpmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShpKSxkPXRoaXMudG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGUoYik7ZCYmKHRoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxjLmxpc3RlbihhLHRoaXMuZXZlbnRzKSxlKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlLnNldChhLGQpLGMubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx0aGlzKSl9LGVsZW1lbnRSZW1vdmVkOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5kZWxldGUoYSksYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKSxlKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlLmRlbGV0ZShhKSxjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx0aGlzKX0sZWxlbWVudENoYW5nZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZShpKSxkPXRoaXMudG91Y2hBY3Rpb250b1Njcm9sbFR5cGUoYyksZj10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGIpO2QmJmY/KHRoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxlKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlLnNldChhLGQpfSx0aGlzKSk6Zj90aGlzLmVsZW1lbnRSZW1vdmVkKGEpOmQmJnRoaXMuZWxlbWVudEFkZGVkKGEpfSxzY3JvbGxUeXBlczp7RU1JVFRFUjoibm9uZSIsWFNDUk9MTEVSOiJwYW4teCIsWVNDUk9MTEVSOiJwYW4teSIsU0NST0xMRVI6L14oPzpwYW4teCBwYW4teSl8KD86cGFuLXkgcGFuLXgpfGF1dG8kL30sdG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9YSxjPXRoaXMuc2Nyb2xsVHlwZXM7cmV0dXJuIm5vbmUiPT09Yj8ibm9uZSI6Yj09PWMuWFNDUk9MTEVSPyJYIjpiPT09Yy5ZU0NST0xMRVI/IlkiOmMuU0NST0xMRVIuZXhlYyhiKT8iWFkiOnZvaWQgMH0sUE9JTlRFUl9UWVBFOiJ0b3VjaCIsZmlyc3RUb3VjaDpudWxsLGlzUHJpbWFyeVRvdWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpcnN0VG91Y2g9PT1hLmlkZW50aWZpZXJ9LHNldFByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXtudWxsPT09dGhpcy5maXJzdFRvdWNoJiYodGhpcy5maXJzdFRvdWNoPWEuaWRlbnRpZmllcix0aGlzLmZpcnN0WFk9e1g6YS5jbGllbnRYLFk6YS5jbGllbnRZfSx0aGlzLnNjcm9sbGluZz0hMSl9LHJlbW92ZVByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXt0aGlzLmlzUHJpbWFyeVRvdWNoKGEpJiYodGhpcy5maXJzdFRvdWNoPW51bGwsdGhpcy5maXJzdFhZPW51bGwpfSx0b3VjaFRvUG9pbnRlcjpmdW5jdGlvbihhKXt2YXIgYj1jLmNsb25lRXZlbnQoYSk7cmV0dXJuIGIucG9pbnRlcklkPWEuaWRlbnRpZmllcisyLGIudGFyZ2V0PWQoYiksYi5idWJibGVzPSEwLGIuY2FuY2VsYWJsZT0hMCxiLmJ1dHRvbj0wLGIuYnV0dG9ucz0xLGIud2lkdGg9YS53ZWJraXRSYWRpdXNYfHxhLnJhZGl1c1h8fDAsYi5oZWlnaHQ9YS53ZWJraXRSYWRpdXNZfHxhLnJhZGl1c1l8fDAsYi5wcmVzc3VyZT1hLndlYmtpdEZvcmNlfHxhLmZvcmNlfHwuNSxiLmlzUHJpbWFyeT10aGlzLmlzUHJpbWFyeVRvdWNoKGEpLGIucG9pbnRlclR5cGU9dGhpcy5QT0lOVEVSX1RZUEUsYn0scHJvY2Vzc1RvdWNoZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNoYW5nZWRUb3VjaGVzLGQ9ZyhjLHRoaXMudG91Y2hUb1BvaW50ZXIsdGhpcyk7ZC5mb3JFYWNoKGIsdGhpcyl9LHNob3VsZFNjcm9sbDpmdW5jdGlvbihhKXtpZih0aGlzLmZpcnN0WFkpe3ZhciBiLGM9dGhpcy5zY3JvbGxUeXBlLmdldChhLmN1cnJlbnRUYXJnZXQpO2lmKCJub25lIj09PWMpYj0hMTtlbHNlIGlmKCJYWSI9PT1jKWI9ITA7ZWxzZXt2YXIgZD1hLmNoYW5nZWRUb3VjaGVzWzBdLGU9YyxmPSJZIj09PWM/IlgiOiJZIixnPU1hdGguYWJzKGRbImNsaWVudCIrZV0tdGhpcy5maXJzdFhZW2VdKSxoPU1hdGguYWJzKGRbImNsaWVudCIrZl0tdGhpcy5maXJzdFhZW2ZdKTtiPWc+PWh9cmV0dXJuIHRoaXMuZmlyc3RYWT1udWxsLGJ9fSxmaW5kVG91Y2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspaWYoYy5pZGVudGlmaWVyPT09YilyZXR1cm4hMH0sdmFjdXVtVG91Y2hlczpmdW5jdGlvbihhKXt2YXIgYj1hLnRvdWNoZXM7aWYoZi5zaXplPj1iLmxlbmd0aCl7dmFyIGM9W107Zi5mb3JFYWNoKGZ1bmN0aW9uKGEsZCl7aWYoMSE9PWEmJiF0aGlzLmZpbmRUb3VjaChiLGEtMikpe3ZhciBlPWQub3V0O2MucHVzaCh0aGlzLnRvdWNoVG9Qb2ludGVyKGUpKX19LHRoaXMpLGMuZm9yRWFjaCh0aGlzLmNhbmNlbE91dCx0aGlzKX19LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy52YWN1dW1Ub3VjaGVzKGEpLHRoaXMuc2V0UHJpbWFyeVRvdWNoKGEuY2hhbmdlZFRvdWNoZXNbMF0pLHRoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMuc2Nyb2xsaW5nfHx0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5vdmVyRG93bil9LG92ZXJEb3duOmZ1bmN0aW9uKGEpe2Yuc2V0KGEucG9pbnRlcklkLHt0YXJnZXQ6YS50YXJnZXQsb3V0OmEsb3V0VGFyZ2V0OmEudGFyZ2V0fSksYy5vdmVyKGEpLGMuZG93bihhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwodGhpcy5zaG91bGRTY3JvbGwoYSk/KHRoaXMuc2Nyb2xsaW5nPSEwLHRoaXMudG91Y2hjYW5jZWwoYSkpOihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMubW92ZU92ZXJPdXQpKSl9LG1vdmVPdmVyT3V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEsZD1mLmdldChiLnBvaW50ZXJJZCk7aWYoZCl7dmFyIGU9ZC5vdXQsZz1kLm91dFRhcmdldDtjLm1vdmUoYiksZSYmZyE9PWIudGFyZ2V0JiYoZS5yZWxhdGVkVGFyZ2V0PWIudGFyZ2V0LGIucmVsYXRlZFRhcmdldD1nLGUudGFyZ2V0PWcsYi50YXJnZXQ/KGMubGVhdmVPdXQoZSksYy5lbnRlck92ZXIoYikpOihiLnRhcmdldD1nLGIucmVsYXRlZFRhcmdldD1udWxsLHRoaXMuY2FuY2VsT3V0KGIpKSksZC5vdXQ9YixkLm91dFRhcmdldD1iLnRhcmdldH19LHRvdWNoZW5kOmZ1bmN0aW9uKGEpe3RoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLnVwT3V0KX0sdXBPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxpbmd8fChjLnVwKGEpLGMub3V0KGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksdGhpcy5jbGVhblVwUG9pbnRlcihhKX0sY2xlYW5VcFBvaW50ZXI6ZnVuY3Rpb24oYSl7Zi5kZWxldGUoYS5wb2ludGVySWQpLHRoaXMucmVtb3ZlUHJpbWFyeVRvdWNoKGEpfSxkZWR1cFN5bnRoTW91c2U6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb3VzZUV2ZW50cy5sYXN0VG91Y2hlcyxkPWIuY2hhbmdlZFRvdWNoZXNbMF07aWYodGhpcy5pc1ByaW1hcnlUb3VjaChkKSl7dmFyIGU9e3g6ZC5jbGllbnRYLHk6ZC5jbGllbnRZfTtjLnB1c2goZSk7dmFyIGY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmluZGV4T2YoYik7Yz4tMSYmYS5zcGxpY2UoYywxKX0uYmluZChudWxsLGMsZSk7c2V0VGltZW91dChmLGgpfX19O2p8fChiPW5ldyBhLkluc3RhbGxlcihrLmVsZW1lbnRBZGRlZCxrLmVsZW1lbnRSZW1vdmVkLGsuZWxlbWVudENoYW5nZWQsaykpLGEudG91Y2hFdmVudHM9a30od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9Yi5wb2ludGVybWFwLGQ9d2luZG93Lk1TUG9pbnRlckV2ZW50JiYibnVtYmVyIj09dHlwZW9mIHdpbmRvdy5NU1BvaW50ZXJFdmVudC5NU1BPSU5URVJfVFlQRV9NT1VTRSxlPXtldmVudHM6WyJNU1BvaW50ZXJEb3duIiwiTVNQb2ludGVyTW92ZSIsIk1TUG9pbnRlclVwIiwiTVNQb2ludGVyT3V0IiwiTVNQb2ludGVyT3ZlciIsIk1TUG9pbnRlckNhbmNlbCIsIk1TR290UG9pbnRlckNhcHR1cmUiLCJNU0xvc3RQb2ludGVyQ2FwdHVyZSJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LFBPSU5URVJfVFlQRVM6WyIiLCJ1bmF2YWlsYWJsZSIsInRvdWNoIiwicGVuIiwibW91c2UiXSxwcmVwYXJlRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9YTtyZXR1cm4gZCYmKGM9Yi5jbG9uZUV2ZW50KGEpLGMucG9pbnRlclR5cGU9dGhpcy5QT0lOVEVSX1RZUEVTW2EucG9pbnRlclR5cGVdKSxjfSxjbGVhbnVwOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEpfSxNU1BvaW50ZXJEb3duOmZ1bmN0aW9uKGEpe2Muc2V0KGEucG9pbnRlcklkLGEpO3ZhciBkPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZG93bihkKX0sTVNQb2ludGVyTW92ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLm1vdmUoYyl9LE1TUG9pbnRlclVwOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoYyksdGhpcy5jbGVhbnVwKGEucG9pbnRlcklkKX0sTVNQb2ludGVyT3V0OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IubGVhdmVPdXQoYyl9LE1TUG9pbnRlck92ZXI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9LE1TUG9pbnRlckNhbmNlbDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmNhbmNlbChjKSx0aGlzLmNsZWFudXAoYS5wb2ludGVySWQpfSxNU0xvc3RQb2ludGVyQ2FwdHVyZTpmdW5jdGlvbihhKXt2YXIgYz1iLm1ha2VFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIixhKTtiLmRpc3BhdGNoRXZlbnQoYyl9LE1TR290UG9pbnRlckNhcHR1cmU6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5tYWtlRXZlbnQoImdvdHBvaW50ZXJjYXB0dXJlIixhKTtiLmRpc3BhdGNoRXZlbnQoYyl9fTthLm1zRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcjtpZih2b2lkIDA9PT13aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkKXtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Lm5hdmlnYXRvciwicG9pbnRlckVuYWJsZWQiLHt2YWx1ZTohMCxlbnVtZXJhYmxlOiEwfSksd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKXt2YXIgYz13aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5uYXZpZ2F0b3IsIm1heFRvdWNoUG9pbnRzIix7dmFsdWU6YyxlbnVtZXJhYmxlOiEwfSksYi5yZWdpc3RlclNvdXJjZSgibXMiLGEubXNFdmVudHMpfWVsc2UgYi5yZWdpc3RlclNvdXJjZSgibW91c2UiLGEubW91c2VFdmVudHMpLHZvaWQgMCE9PXdpbmRvdy5vbnRvdWNoc3RhcnQmJmIucmVnaXN0ZXJTb3VyY2UoInRvdWNoIixhLnRvdWNoRXZlbnRzKTtiLnJlZ2lzdGVyKGRvY3VtZW50KX19KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7aWYoIWUucG9pbnRlcm1hcC5oYXMoYSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkUG9pbnRlcklkIil9dmFyIGMsZCxlPWEuZGlzcGF0Y2hlcixmPXdpbmRvdy5uYXZpZ2F0b3I7Zi5tc1BvaW50ZXJFbmFibGVkPyhjPWZ1bmN0aW9uKGEpe2IoYSksdGhpcy5tc1NldFBvaW50ZXJDYXB0dXJlKGEpfSxkPWZ1bmN0aW9uKGEpe2IoYSksdGhpcy5tc1JlbGVhc2VQb2ludGVyQ2FwdHVyZShhKX0pOihjPWZ1bmN0aW9uKGEpe2IoYSksZS5zZXRDYXB0dXJlKGEsdGhpcyl9LGQ9ZnVuY3Rpb24oYSl7YihhKSxlLnJlbGVhc2VDYXB0dXJlKGEsdGhpcyl9KSxFbGVtZW50LnByb3RvdHlwZS5zZXRQb2ludGVyQ2FwdHVyZXx8T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NldFBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpjfSxyZWxlYXNlUG9pbnRlckNhcHR1cmU6e3ZhbHVlOmR9fSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLFBvaW50ZXJHZXN0dXJlRXZlbnQucHJvdG90eXBlLnByZXZlbnRUYXA9ZnVuY3Rpb24oKXt0aGlzLnRhcFByZXZlbnRlZD0hMH0sZnVuY3Rpb24oYSl7YT1hfHx7fSxhLnV0aWxzPXtMQ0E6e2ZpbmQ6ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gYTtpZihhLmNvbnRhaW5zKXtpZihhLmNvbnRhaW5zKGIpKXJldHVybiBhO2lmKGIuY29udGFpbnMoYSkpcmV0dXJuIGJ9dmFyIGM9dGhpcy5kZXB0aChhKSxkPXRoaXMuZGVwdGgoYiksZT1jLWQ7Zm9yKGU+MD9hPXRoaXMud2FsayhhLGUpOmI9dGhpcy53YWxrKGIsLWUpO2EmJmImJmEhPT1iOylhPXRoaXMud2FsayhhLDEpLGI9dGhpcy53YWxrKGIsMSk7cmV0dXJuIGF9LHdhbGs6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7YysrKWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxkZXB0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDthOyliKyssYT1hLnBhcmVudE5vZGU7cmV0dXJuIGJ9fX0sYS5maW5kTENBPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEudXRpbHMuTENBLmZpbmQoYixjKX0sd2luZG93LlBvaW50ZXJHZXN0dXJlcz1hfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYjtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFdlYWtNYXAmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8iKTwwKWI9V2Vha01hcDtlbHNle3ZhciBjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxkPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxlPShuZXcgRGF0ZSkuZ2V0VGltZSgpJTFlOTtiPWZ1bmN0aW9uKCl7dGhpcy5uYW1lPSJfX3N0IisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSsoZSsrICsiX18iKX0sYi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe2MoYSx0aGlzLm5hbWUse3ZhbHVlOmIsd3JpdGFibGU6ITB9KX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBkLmNhbGwoYSx0aGlzLm5hbWUpP2FbdGhpcy5uYW1lXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3RoaXMuc2V0KGEsdm9pZCAwKX19fWEuU2lkZVRhYmxlPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLmlkcz1bXSx0aGlzLnBvaW50ZXJzPVtdfWIucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlkcy5pbmRleE9mKGEpO2M+LTE/dGhpcy5wb2ludGVyc1tjXT1iOih0aGlzLmlkcy5wdXNoKGEpLHRoaXMucG9pbnRlcnMucHVzaChiKSl9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pZHMuaW5kZXhPZihhKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pZHMuaW5kZXhPZihhKTtiPi0xJiYodGhpcy5pZHMuc3BsaWNlKGIsMSksdGhpcy5wb2ludGVycy5zcGxpY2UoYiwxKSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlkcy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnBvaW50ZXJzW2JdfSxnZXQgc2l6ZSgpe3JldHVybiB0aGlzLnBvaW50ZXJzLmxlbmd0aH0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmlkcy5sZW5ndGg9MCx0aGlzLnBvaW50ZXJzLmxlbmd0aD0wfX0sd2luZG93Lk1hcCYmKGI9d2luZG93Lk1hcCksYS5Qb2ludGVyTWFwPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPXtoYW5kbGVkRXZlbnRzOm5ldyBhLlNpZGVUYWJsZSx0YXJnZXRzOm5ldyBhLlNpZGVUYWJsZSxoYW5kbGVyczp7fSxyZWNvZ25pemVyczp7fSxldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcm92ZXIiLCJwb2ludGVyb3V0IiwicG9pbnRlcmNhbmNlbCJdLHJlZ2lzdGVyUmVjb2duaXplcjpmdW5jdGlvbihhLGIpe3ZhciBjPWI7dGhpcy5yZWNvZ25pemVyc1thXT1jLHRoaXMuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoY1thXSl7dmFyIGI9Y1thXS5iaW5kKGMpO3RoaXMuYWRkSGFuZGxlcihhLGIpfX0sdGhpcyl9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hO3RoaXMuaGFuZGxlcnNbY118fCh0aGlzLmhhbmRsZXJzW2NdPVtdKSx0aGlzLmhhbmRsZXJzW2NdLnB1c2goYil9LHJlZ2lzdGVyVGFyZ2V0OmZ1bmN0aW9uKGEpe3RoaXMubGlzdGVuKHRoaXMuZXZlbnRzLGEpfSx1bnJlZ2lzdGVyVGFyZ2V0OmZ1bmN0aW9uKGEpe3RoaXMudW5saXN0ZW4odGhpcy5ldmVudHMsYSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihhKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChhKSl7dmFyIGIsYz1hLnR5cGU7KGI9dGhpcy5oYW5kbGVyc1tjXSkmJnRoaXMubWFrZVF1ZXVlKGIsYSksdGhpcy5oYW5kbGVkRXZlbnRzLnNldChhLCEwKX19LG1ha2VRdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2xvbmVFdmVudChiKTtzZXRUaW1lb3V0KHRoaXMucnVuUXVldWUuYmluZCh0aGlzLGEsYyksMCl9LHJ1blF1ZXVlOmZ1bmN0aW9uKGEsYil7dGhpcy5jdXJyZW50UG9pbnRlcklkPWIucG9pbnRlcklkO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQmJihjPWFbZF0pO2QrKyljKGIpO3RoaXMuY3VycmVudFBvaW50ZXJJZD0wfSxsaXN0ZW46ZnVuY3Rpb24oYSxiKXthLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5hZGRFdmVudChhLHRoaXMuYm91bmRIYW5kbGVyLCExLGIpfSx0aGlzKX0sdW5saXN0ZW46ZnVuY3Rpb24oYSl7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlRXZlbnQoYSx0aGlzLmJvdW5kSGFuZGxlciwhMSxpblRhcmdldCl9LHRoaXMpfSxhZGRFdmVudDpmdW5jdGlvbihhLGIsYyxkKXtkLmFkZEV2ZW50TGlzdGVuZXIoYSxiLGMpfSxyZW1vdmVFdmVudDpmdW5jdGlvbihhLGIsYyxkKXtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGMpfSxtYWtlRXZlbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFBvaW50ZXJHZXN0dXJlRXZlbnQoYSxiKX0sY2xvbmVFdmVudDpmdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnRhcmdldHMuZ2V0KGEpO2MmJihjLmRpc3BhdGNoRXZlbnQoYSksYS50YXBQcmV2ZW50ZWQmJnRoaXMucHJldmVudFRhcCh0aGlzLmN1cnJlbnRQb2ludGVySWQpKX0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoYSxiKX0uYmluZCh0aGlzKTtzZXRUaW1lb3V0KGMsMCl9LHByZXZlbnRUYXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWNvZ25pemVycy50YXA7YiYmYi5wcmV2ZW50VGFwKGEpfX07Yi5ib3VuZEhhbmRsZXI9Yi5ldmVudEhhbmRsZXIuYmluZChiKSxhLmRpc3BhdGNoZXI9YixhLnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe3ZhciBjPXdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw7YyYmYy5yZWdpc3RlcihiKSxhLmRpc3BhdGNoZXIucmVnaXN0ZXJUYXJnZXQoYil9LGIucmVnaXN0ZXJUYXJnZXQoZG9jdW1lbnQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17SE9MRF9ERUxBWToyMDAsV0lHR0xFX1RIUkVTSE9MRDoxNixldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLGhlbGRQb2ludGVyOm51bGwsaG9sZEpvYjpudWxsLHB1bHNlOmZ1bmN0aW9uKCl7dmFyIGE9RGF0ZS5ub3coKS10aGlzLmhlbGRQb2ludGVyLnRpbWVTdGFtcCxiPXRoaXMuaGVsZD8iaG9sZHB1bHNlIjoiaG9sZCI7dGhpcy5maXJlSG9sZChiLGEpLHRoaXMuaGVsZD0hMH0sY2FuY2VsOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmhvbGRKb2IpLHRoaXMuaGVsZCYmdGhpcy5maXJlSG9sZCgicmVsZWFzZSIpLHRoaXMuaGVsZD0hMSx0aGlzLmhlbGRQb2ludGVyPW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmhvbGRKb2I9bnVsbH0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiF0aGlzLmhlbGRQb2ludGVyJiYodGhpcy5oZWxkUG9pbnRlcj1hLHRoaXMudGFyZ2V0PWEudGFyZ2V0LHRoaXMuaG9sZEpvYj1zZXRJbnRlcnZhbCh0aGlzLnB1bHNlLmJpbmQodGhpcyksdGhpcy5IT0xEX0RFTEFZKSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkJiZ0aGlzLmNhbmNlbCgpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5oZWxkUG9pbnRlciYmdGhpcy5oZWxkUG9pbnRlci5wb2ludGVySWQ9PT1hLnBvaW50ZXJJZCl7dmFyIGI9YS5jbGllbnRYLXRoaXMuaGVsZFBvaW50ZXIuY2xpZW50WCxjPWEuY2xpZW50WS10aGlzLmhlbGRQb2ludGVyLmNsaWVudFk7YipiK2MqYz50aGlzLldJR0dMRV9USFJFU0hPTEQmJnRoaXMuY2FuY2VsKCl9fSxmaXJlSG9sZDpmdW5jdGlvbihhLGMpe3ZhciBkPXtwb2ludGVyVHlwZTp0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJUeXBlfTtjJiYoZC5ob2xkVGltZT1jKTt2YXIgZT1iLm1ha2VFdmVudChhLGQpO2IuZGlzcGF0Y2hFdmVudChlLHRoaXMudGFyZ2V0KSxlLnRhcFByZXZlbnRlZCYmYi5wcmV2ZW50VGFwKHRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkKX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJob2xkIixjKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLFdJR0dMRV9USFJFU0hPTEQ6NCxjbGFtcERpcjpmdW5jdGlvbihhKXtyZXR1cm4gYT4wPzE6LTF9LGNhbGNQb3NpdGlvbkRlbHRhOmZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPTA7cmV0dXJuIGEmJmImJihjPWIucGFnZVgtYS5wYWdlWCxkPWIucGFnZVktYS5wYWdlWSkse3g6Yyx5OmR9fSxmaXJlVHJhY2s6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQsZj10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGUuZG93bkV2ZW50LGMpLGc9dGhpcy5jYWxjUG9zaXRpb25EZWx0YShlLmxhc3RNb3ZlRXZlbnQsYyk7Zy54JiYoZS54RGlyZWN0aW9uPXRoaXMuY2xhbXBEaXIoZy54KSksZy55JiYoZS55RGlyZWN0aW9uPXRoaXMuY2xhbXBEaXIoZy55KSk7dmFyIGg9e2R4OmYueCxkeTpmLnksZGR4OmcueCxkZHk6Zy55LGNsaWVudFg6Yy5jbGllbnRYLGNsaWVudFk6Yy5jbGllbnRZLHBhZ2VYOmMucGFnZVgscGFnZVk6Yy5wYWdlWSxzY3JlZW5YOmMuc2NyZWVuWCxzY3JlZW5ZOmMuc2NyZWVuWSx4RGlyZWN0aW9uOmUueERpcmVjdGlvbix5RGlyZWN0aW9uOmUueURpcmVjdGlvbix0cmFja0luZm86ZS50cmFja0luZm8scG9pbnRlclR5cGU6Yy5wb2ludGVyVHlwZX07InRyYWNrZW5kIj09PWEmJihoLl9yZWxlYXNlVGFyZ2V0PWMudGFyZ2V0KTt2YXIgaT1iLm1ha2VFdmVudChhLGgpO2UubGFzdE1vdmVFdmVudD1jLGIuZGlzcGF0Y2hFdmVudChpLGUuZG93blRhcmdldCl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2lmKGEuaXNQcmltYXJ5JiYoIm1vdXNlIj09PWEucG9pbnRlclR5cGU/MT09PWEuYnV0dG9uczohMCkpe3ZhciBiPXtkb3duRXZlbnQ6YSxkb3duVGFyZ2V0OmEudGFyZ2V0LHRyYWNrSW5mbzp7fSxsYXN0TW92ZUV2ZW50Om51bGwseERpcmVjdGlvbjowLHlEaXJlY3Rpb246MCx0cmFja2luZzohMX07Yy5zZXQoYS5wb2ludGVySWQsYil9fSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7aWYoYilpZihiLnRyYWNraW5nKXRoaXMuZmlyZVRyYWNrKCJ0cmFjayIsYSxiKTtlbHNle3ZhciBkPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoYi5kb3duRXZlbnQsYSksZT1kLngqZC54K2QueSpkLnk7ZT50aGlzLldJR0dMRV9USFJFU0hPTEQmJihiLnRyYWNraW5nPSEwLHRoaXMuZmlyZVRyYWNrKCJ0cmFja3N0YXJ0IixiLmRvd25FdmVudCxiKSx0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYikpfX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3ZhciBiPWMuZ2V0KGEucG9pbnRlcklkKTtiJiYoYi50cmFja2luZyYmdGhpcy5maXJlVHJhY2soInRyYWNrZW5kIixhLGIpLGMuZGVsZXRlKGEucG9pbnRlcklkKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigidHJhY2siLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17TUlOX1ZFTE9DSVRZOi41LE1BWF9RVUVVRTo0LG1vdmVRdWV1ZTpbXSx0YXJnZXQ6bnVsbCxwb2ludGVySWQ6bnVsbCxldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYhdGhpcy5wb2ludGVySWQmJih0aGlzLnBvaW50ZXJJZD1hLnBvaW50ZXJJZCx0aGlzLnRhcmdldD1hLnRhcmdldCx0aGlzLmFkZE1vdmUoYSkpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmFkZE1vdmUoYSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmZpcmVGbGljayhhKSx0aGlzLmNsZWFudXAoKX0scG9pbnRlcmNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2xlYW51cCgpfSxjbGVhbnVwOmZ1bmN0aW9uKCl7dGhpcy5tb3ZlUXVldWU9W10sdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnBvaW50ZXJJZD1udWxsfSxhZGRNb3ZlOmZ1bmN0aW9uKGEpe3RoaXMubW92ZVF1ZXVlLmxlbmd0aD49dGhpcy5NQVhfUVVFVUUmJnRoaXMubW92ZVF1ZXVlLnNoaWZ0KCksdGhpcy5tb3ZlUXVldWUucHVzaChhKX0sZmlyZUZsaWNrOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkLGUsZixnLGgsaSxqPWEsaz10aGlzLm1vdmVRdWV1ZS5sZW5ndGgsbD0wLG09MCxuPTAsbz0wO2s+byYmKGk9dGhpcy5tb3ZlUXVldWVbb10pO28rKyljPWoudGltZVN0YW1wLWkudGltZVN0YW1wLGQ9ai5jbGllbnRYLWkuY2xpZW50WCxlPWouY2xpZW50WS1pLmNsaWVudFksZj1kL2MsZz1lL2MsaD1NYXRoLnNxcnQoZipmK2cqZyksaD5uJiYobD1mLG09ZyxuPWgpO3ZhciBwPU1hdGguYWJzKGwpPk1hdGguYWJzKG0pPyJ4IjoieSIscT10aGlzLmNhbGNBbmdsZShsLG0pO2lmKE1hdGguYWJzKG4pPj10aGlzLk1JTl9WRUxPQ0lUWSl7dmFyIHI9Yi5tYWtlRXZlbnQoImZsaWNrIix7eFZlbG9jaXR5OmwseVZlbG9jaXR5Om0sdmVsb2NpdHk6bixhbmdsZTpxLG1ham9yQXhpczpwLHBvaW50ZXJUeXBlOmEucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQocix0aGlzLnRhcmdldCl9fSxjYWxjQW5nbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMTgwKk1hdGguYXRhbjIoYixhKS9NYXRoLlBJfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImZsaWNrIixjKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYhYS50YXBQcmV2ZW50ZWQmJmMuc2V0KGEucG9pbnRlcklkLHt0YXJnZXQ6YS50YXJnZXQseDphLmNsaWVudFgseTphLmNsaWVudFl9KX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7aWYoYS5pc1ByaW1hcnkpe3ZhciBiPWMuZ2V0KGEucG9pbnRlcklkKTtiJiZhLnRhcFByZXZlbnRlZCYmYy5kZWxldGUoYS5wb2ludGVySWQpfX0scG9pbnRlcnVwOmZ1bmN0aW9uKGQpe3ZhciBlPWMuZ2V0KGQucG9pbnRlcklkKTtpZihlJiYhZC50YXBQcmV2ZW50ZWQpe3ZhciBmPWEuZmluZExDQShlLnRhcmdldCxkLnRhcmdldCk7aWYoZil7dmFyIGc9Yi5tYWtlRXZlbnQoInRhcCIse3g6ZC5jbGllbnRYLHk6ZC5jbGllbnRZLHBvaW50ZXJUeXBlOmQucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQoZyxmKX19Yy5kZWxldGUoZC5wb2ludGVySWQpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEucG9pbnRlcklkKX0scHJldmVudFRhcDpmdW5jdGlvbihhKXtjLmRlbGV0ZShhKX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJ0YXAiLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxQb2x5bWVyPXt9LGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHtvcGFjaXR5OiAwO30iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIldlYkNvbXBvbmVudHNSZWFkeSIsZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zaXRpb249Im9wYWNpdHkgMC4zcyIsZG9jdW1lbnQuYm9keS5zdHlsZS5vcGFjaXR5PTF9KX0oUG9seW1lciksZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxjPUFycmF5LnByb3RvdHlwZS5jb25jYXQuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5jb25jYXQpLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuc2xpY2UpLGU9e2hvc3RSdWxlUmU6L0Bob3N0W157XSp7KChbXn1dKj97W157XSo/fVtcc1xTXSo/KSspfS9naW0sc2VsZWN0b3JSZTovKFtee10qKSh7W1xzXFNdKj99KS9naW0saG9zdEVsZW1lbnRSZTovKC4qKSgoPzpcKil8KD86XDpzY29wZSkpKC4qKS8saG9zdEZpeGFibGVSZTovXlsuXFs6XS8sY3NzQ29tbWVudFJlOi9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLGNzc1BvbHlmaWxsQ29tbWVudFJlOi9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLGNzc1BzZXVkb1JlOi86Oih4LVteXHN7LChdKikvZ2ltLHNlbGVjdG9yUmVTdWZmaXg6IihbPlxcc34rWy4sezpdW1xcc1xcU10qKT8kIixob3N0UmU6L0Bob3N0L2dpbSxjYWNoZTp7fSxzaGltU3R5bGluZzpmdW5jdGlvbihhKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJmEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJuYW1lIik7ZS5jYWNoZURlZmluaXRpb24oYSksZS5zaGltUG9seWZpbGxEaXJlY3RpdmVzKGEuc3R5bGVzLGIpLFBvbHltZXIuc3RyaWN0UG9seWZpbGxTdHlsaW5nJiZlLmFwcGx5U2NvcGVUb0NvbnRlbnQoYS50ZW1wbGF0ZUNvbnRlbnQoKSxiKSxlLmFwcGx5U2hpbW1pbmcoZS5zdHlsZXNGb3JFbGVtZW50KGEpLGIpfX0sc2hpbVNoYWRvd0RPTVN0eWxpbmc6ZnVuY3Rpb24oYSxiKXt3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJihlLnNoaW1Qb2x5ZmlsbERpcmVjdGl2ZXMoYSxiKSxlLmFwcGx5U2hpbW1pbmcoYSxiKSl9LGFwcGx5U2hpbW1pbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnNoaW1BdEhvc3QoYSxiKTtjKz10aGlzLnNoaW1TY29waW5nKGEsYiksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGMpfSxjYWNoZURlZmluaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSxjPWEudGVtcGxhdGVDb250ZW50KCksZj1jJiZjLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7YS5zdHlsZXM9Zj9kKGYpOltdLGUuY2FjaGVbYl09YX0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGMpe2EmJihiKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGMsIiIpfSksYihhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KHRlbXBsYXRlQ29udGVudChhKSxjKX0sdGhpcykpfSxzdHlsZXNGb3JFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGVzLGU9YS50ZW1wbGF0ZUNvbnRlbnQoKSxmPWUmJmUucXVlcnlTZWxlY3Rvcigic2hhZG93Iik7aWYoZnx8bnVsbD09PWUpe3ZhciBnPXRoaXMuZmluZEV4dGVuZGVlKGEuZ2V0QXR0cmlidXRlKCJuYW1lIikpO2lmKGcpe3ZhciBoPXRoaXMuc3R5bGVzRm9yRWxlbWVudChnKTtiPWMoZChoKSxkKGIpKX19cmV0dXJuIGJ9LGZpbmRFeHRlbmRlZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNhY2hlW2FdO3JldHVybiBiJiZ0aGlzLmNhY2hlW2IuZ2V0QXR0cmlidXRlKCJleHRlbmRzIildfSxzaGltUG9seWZpbGxEaXJlY3RpdmVzOmZ1bmN0aW9uKGEsYyl7d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZhJiZiKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD10aGlzLmNvbnZlcnRQb2x5ZmlsbERpcmVjdGl2ZXMoYS50ZXh0Q29udGVudCxjKX0sdGhpcyl9LHNoaW1BdEhvc3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT90aGlzLmNvbnZlcnRBdEhvc3RTdHlsZXMoYSxiKTp2b2lkIDB9LHNoaW1TY29waW5nOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/dGhpcy5jb252ZXJ0U2NvcGVkU3R5bGVzKGEsYik6dm9pZCAwfSxjb252ZXJ0UG9seWZpbGxEaXJlY3RpdmVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT0iIixmPTA7Yz10aGlzLmNzc1BvbHlmaWxsQ29tbWVudFJlLmV4ZWMoYSk7KWUrPWEuc3Vic3RyaW5nKGYsYy5pbmRleCksZD1jWzFdLnNsaWNlKDAsLTIpLnJlcGxhY2UodGhpcy5ob3N0UmUsYiksZSs9dGhpcy5zY29wZVNlbGVjdG9yKGQsYikrInsiLGY9dGhpcy5jc3NQb2x5ZmlsbENvbW1lbnRSZS5sYXN0SW5kZXg7cmV0dXJuIGUrPWEuc3Vic3RyaW5nKGYsYS5sZW5ndGgpfSxmaW5kQXRIb3N0UnVsZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEsdGhpcy5pc0hvc3RSdWxlLmJpbmQodGhpcyxiKSl9LGlzSG9zdFJ1bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zZWxlY3RvclRleHQmJmIuc2VsZWN0b3JUZXh0Lm1hdGNoKGEpfHxiLmNzc1J1bGVzJiZ0aGlzLmZpbmRBdEhvc3RSdWxlcyhiLmNzc1J1bGVzLGEpLmxlbmd0aHx8Yi50eXBlPT1DU1NSdWxlLldFQktJVF9LRVlGUkFNRVNfUlVMRX0sY29udmVydEF0SG9zdFN0eWxlczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPXRoaXMuc3R5bGVzVG9Dc3NUZXh0KGEpLGU9IiIsZj0wO2M9dGhpcy5ob3N0UnVsZVJlLmV4ZWMoZCk7KWUrPWQuc3Vic3RyaW5nKGYsYy5pbmRleCksZSs9dGhpcy5zY29wZUhvc3RDc3MoY1sxXSxiKSxmPXRoaXMuaG9zdFJ1bGVSZS5sYXN0SW5kZXg7CmUrPWQuc3Vic3RyaW5nKGYsZC5sZW5ndGgpO3ZhciBnPW5ldyBSZWdFeHAoIl4iK2IrdGhpcy5zZWxlY3RvclJlU3VmZml4LCJtIiksZD10aGlzLnJ1bGVzVG9Dc3ModGhpcy5maW5kQXRIb3N0UnVsZXModGhpcy5jc3NUb1J1bGVzKGUpLGcpKTtyZXR1cm4gZH0sc2NvcGVIb3N0Q3NzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9IiI7Yz10aGlzLnNlbGVjdG9yUmUuZXhlYyhhKTspZCs9dGhpcy5zY29wZUhvc3RTZWxlY3RvcihjWzFdLGIpKyIgIitjWzJdKyJcbgkiO3JldHVybiBkfSxzY29wZUhvc3RTZWxlY3RvcjpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9YS5zcGxpdCgiLCIpLGU9Iltpcz0iK2IrIl0iO3JldHVybiBkLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSxhLm1hdGNoKHRoaXMuaG9zdEVsZW1lbnRSZSk/YT1hLnJlcGxhY2UodGhpcy5ob3N0RWxlbWVudFJlLGIrIiQxJDMsICIrZSsiJDEkMyIpOmEubWF0Y2godGhpcy5ob3N0Rml4YWJsZVJlKSYmKGE9YithKyIsICIrZSthKSxjLnB1c2goYSl9LHRoaXMpLGMuam9pbigiLCAiKX0sY29udmVydFNjb3BlZFN0eWxlczpmdW5jdGlvbihhLGMpe2IoYSxmdW5jdGlvbihhKXthLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0pO3ZhciBkPXRoaXMuc3R5bGVzVG9Dc3NUZXh0KGEpLnJlcGxhY2UodGhpcy5ob3N0UnVsZVJlLCIiKTtkPXRoaXMuY29udmVydFBzZXVkb3MoZCk7dmFyIGU9dGhpcy5jc3NUb1J1bGVzKGQpO3JldHVybiBkPXRoaXMuc2NvcGVSdWxlcyhlLGMpfSxjb252ZXJ0UHNldWRvczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHRoaXMuY3NzUHNldWRvUmUsIiBbcHNldWRvPSQxXSIpfSxzY29wZVJ1bGVzOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9IiI7cmV0dXJuIGIoYSxmdW5jdGlvbihhKXthLnNlbGVjdG9yVGV4dCYmYS5zdHlsZSYmYS5zdHlsZS5jc3NUZXh0PyhkKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYyxQb2x5bWVyLnN0cmljdFBvbHlmaWxsU3R5bGluZykrIiB7XG4JIixkKz10aGlzLnByb3BlcnRpZXNGcm9tUnVsZShhKSsiXG59XG5cbiIpOmEubWVkaWE/KGQrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsZCs9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYyksZCs9IlxufVxuXG4iKTphLmNzc1RleHQmJihkKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksZH0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGUuY3NzVGV4dDtyZXR1cm4gYS5zdHlsZS5jb250ZW50JiYhYS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdKy8pJiYoYj0iY29udGVudDogJyIrYS5zdHlsZS5jb250ZW50KyInO1xuIithLnN0eWxlLmNzc1RleHQucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZywiIikpLGJ9LHNlbGVjdG9yTmVlZHNTY29waW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9IigiK2IrInxcXFtpcz0iK2IrIlxcXSkiLGQ9bmV3IFJlZ0V4cCgiXiIrYyt0aGlzLnNlbGVjdG9yUmVTdWZmaXgsIm0iKTtyZXR1cm4hYS5tYXRjaChkKX0sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1hLnNwbGl0KCIsIik7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhKXthPWEudHJpbSgpLHRoaXMuc2VsZWN0b3JOZWVkc1Njb3BpbmcoYSxiKSYmKGE9Yz90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYikpLGQucHVzaChhKX0sdGhpcyksZC5qb2luKCIsICIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYisiICIrYSsiLCAiKyJbaXM9IitiKyJdICIrYX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxzdHlsZXNUb0Nzc1RleHQ6ZnVuY3Rpb24oYSxjKXt2YXIgZD0iIjtyZXR1cm4gYihhLGZ1bmN0aW9uKGEpe2QrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksY3x8KGQ9dGhpcy5zdHJpcENzc0NvbW1lbnRzKGQpKSxkfSxzdHJpcENzc0NvbW1lbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodGhpcy5jc3NDb21tZW50UmUsIiIpfSxjc3NUb1J1bGVzOmZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Yi50ZXh0Q29udGVudD1hLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGM9Yi5zaGVldC5jc3NSdWxlcztyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGN9LHJ1bGVzVG9Dc3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz1bXTtiPGEubGVuZ3RoO2IrKyljLnB1c2goYVtiXS5jc3NUZXh0KTtyZXR1cm4gYy5qb2luKCJcblxuIil9LGFkZENzc1RvRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7YSYmdGhpcy5nZXRTaGVldCgpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpKX0sZ2V0U2hlZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGVldHx8KHRoaXMuc2hlZXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSx0aGlzLnNoZWV0LnNldEF0dHJpYnV0ZSgicG9seW1lci1wb2x5ZmlsbCIsIiIpKSx0aGlzLnNoZWV0fSxhZGRTaGVldFRvRG9jdW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmFkZENzc1RvRG9jdW1lbnQoInN0eWxlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4iKTt2YXIgYT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7YS5pbnNlcnRCZWZvcmUodGhpcy5nZXRTaGVldCgpLGEuY2hpbGROb2Rlc1swXSl9fTt3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJmUuYWRkU2hlZXRUb0RvY3VtZW50KCksYS5zaGltU3R5bGluZz1lLnNoaW1TdHlsaW5nLGEuc2hpbVNoYWRvd0RPTVN0eWxpbmc9ZS5zaGltU2hhZG93RE9NU3R5bGluZyxhLnNoaW1Qb2x5ZmlsbERpcmVjdGl2ZXM9ZS5zaGltUG9seWZpbGxEaXJlY3RpdmVzLmJpbmQoZSksYS5zdHJpY3RQb2x5ZmlsbFN0eWxpbmc9ITF9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYSYmYiYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYikuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYyk7ZCYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsZCksImZ1bmN0aW9uIj09dHlwZW9mIGQudmFsdWUmJihhW2NdLm5vbT1jKSl9KSxhfWEuZXh0ZW5kPWJ9KFBvbHltZXIpLGZ1bmN0aW9uKCl7dmFyIGE9e307SFRNTEVsZW1lbnQucmVnaXN0ZXI9ZnVuY3Rpb24oYixjKXthW2JdPWN9LEhUTUxFbGVtZW50LmdldFByb3RvdHlwZUZvclRhZz1mdW5jdGlvbihiKXt2YXIgYz1iP2FbYl06SFRNTEVsZW1lbnQucHJvdG90eXBlO3JldHVybiBjfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKSl9O3ZhciBiPUV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247RXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuY2FuY2VsQnViYmxlPSEwLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxIVE1MSW1wb3J0cy5pbXBvcnRlci5wcmVsb2FkU2VsZWN0b3JzKz0iLCBwb2x5bWVyLWVsZW1lbnQgbGlua1tyZWw9c3R5bGVzaGVldF0ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7dmFyIGQ9dHlwZW9mIGI7cmV0dXJuIGIgaW5zdGFuY2VvZiBEYXRlJiYoZD0iZGF0ZSIpLGNbZF0oYSxiKX12YXIgYz17c3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgRGF0ZShEYXRlLnBhcnNlKGEpfHxEYXRlLm5vdygpKX0sImJvb2xlYW4iOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09YT8hMDoiZmFsc2UiPT09YT8hMTohIWF9LG51bWJlcjpmdW5jdGlvbihhKXt2YXIgYj1wYXJzZUZsb2F0KGEpO3JldHVybiBTdHJpbmcoYik9PT1hP2I6YX0sb2JqZWN0OmZ1bmN0aW9uKGEsYil7aWYoIWIpcmV0dXJuIGE7dHJ5e3JldHVybiBKU09OLnBhcnNlKGEucmVwbGFjZSgvJy9nLCciJykpfWNhdGNoKGMpe3JldHVybiBhfX19O2EuZGVzZXJpYWxpemVWYWx1ZT1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkKXtyZXR1cm4gYT9hLnN0b3AoKTphPW5ldyBjKHRoaXMpLGEuZ28oYixkKSxhfXZhciBjPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dD1hfTtjLnByb3RvdHlwZT17Z286ZnVuY3Rpb24oYSxiKXt0aGlzLmNhbGxiYWNrPWEsdGhpcy5oYW5kbGU9c2V0VGltZW91dCh0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyksYil9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZSYmKGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdGhpcy5oYW5kbGU9bnVsbCl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUmJih0aGlzLnN0b3AoKSx0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy5jb250ZXh0KSl9fSxhLmpvYj1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBjPWIuY2FsbGVyLGY9Yy5ub207Il9zdXBlciJpbiBjfHwoZnx8KGY9ZS5jYWxsKHRoaXMsYykpLGZ8fGNvbnNvbGUud2FybigiY2FsbGVkIHN1cGVyKCkgb24gYSBtZXRob2Qgbm90IGluc3RhbGxlZCBkZWNsYXJhdGl2ZWx5IChoYXMgbm8gLm5vbSBwcm9wZXJ0eSkiKSxkKGMsZixPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykpKTt2YXIgZz1jLl9zdXBlcjtpZihnKXt2YXIgaD1nW2ZdO3JldHVybiJfc3VwZXIiaW4gaHx8ZChoLGYsZyksaC5hcHBseSh0aGlzLGF8fFtdKX19ZnVuY3Rpb24gYyhhLGIsYyl7Zm9yKDthJiYoIWEuaGFzT3duUHJvcGVydHkoYil8fGFbYl09PT1jKTspYT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIsZCl7cmV0dXJuIGEuX3N1cGVyPWMoZCxiLGEpLGEuX3N1cGVyJiYoYS5fc3VwZXJbYl0ubm9tPWIpLGEuX3N1cGVyfWZ1bmN0aW9uIGUoYSl7Y29uc29sZS53YXJuKCJuYW1lSW5UaGlzIGNhbGxlZCIpO2Zvcih2YXIgYj10aGlzO2ImJmIhPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGMsZD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKSxlPTAsZj1kLmxlbmd0aDtmPmUmJihjPWRbZV0pO2UrKyl7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpO2lmKGcudmFsdWU9PWEpcmV0dXJuIGN9Yj1iLl9fcHJvdG9fX319YS5zdXBlcj1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXt2YXIgYj17fTtiLmRlY2xhcmF0aW9uPXt9LGIuaW5zdGFuY2U9e30sYS5hcGk9Yn0oUG9seW1lciksZnVuY3Rpb24oYSl7dmFyIGI9e2FzeW5jOmZ1bmN0aW9uKGEsYixjKXtQbGF0Zm9ybS5mbHVzaCgpLGI9YiYmYi5sZW5ndGg/YjpbYl07dmFyIGQ9ZnVuY3Rpb24oKXsodGhpc1thXXx8YSkuYXBwbHkodGhpcyxiKX0uYmluZCh0aGlzKTtyZXR1cm4gYz9zZXRUaW1lb3V0KGQsYyk6cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGQpfSxmaXJlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWN8fHRoaXM7cmV0dXJuIGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoYSx7YnViYmxlczp2b2lkIDAhPT1kPyExOiEwLGRldGFpbDpifSkpLGJ9LGFzeW5jRmlyZTpmdW5jdGlvbigpe3RoaXMuYXN5bmNNZXRob2QoImZpcmUiLGFyZ3VtZW50cyl9LGNsYXNzRm9sbG93czpmdW5jdGlvbihhLGIsYyl7YiYmYi5jbGFzc0xpc3QucmVtb3ZlKGMpLGEmJmEuY2xhc3NMaXN0LmFkZChjKX19O2IuYXN5bmNNZXRob2Q9Yi5hc3luYyxhLmFwaS5pbnN0YW5jZS51dGlscz1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7Yi5jYW5jZWxCdWJibGV8fChiLm9uPWkrYi50eXBlLGguZXZlbnRzJiZjb25zb2xlLmdyb3VwKCJbJXNdOiBsaXN0ZW5Mb2NhbCBbJXNdIixhLmxvY2FsTmFtZSxiLm9uKSwhYi5wYXRofHx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/ZChhLGIpOmMoYSxiKSxoLmV2ZW50cyYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9bnVsbDtBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGIucGF0aCxmdW5jdGlvbihkKXtyZXR1cm4gZD09PWE/ITA6KGM9Yz09PWE/YzplKGQpLGMmJmYoYyxkLGIpPyEwOnZvaWQgMCl9LHRoaXMpfWZ1bmN0aW9uIGQoYSxiKXtoLmV2ZW50cyYmY29uc29sZS5sb2coImV2ZW50LnBhdGgoKSBub3Qgc3VwcG9ydGVkIGZvciIsYi50eXBlKTtmb3IodmFyIGM9Yi50YXJnZXQsZD1udWxsO2MmJmMhPWE7KXtpZihkPWQ9PT1hP2Q6ZShjKSxkJiZmKGQsYyxiKSlyZXR1cm4hMDtjPWMucGFyZW50Tm9kZX19ZnVuY3Rpb24gZShhKXtmb3IoO2EucGFyZW50Tm9kZTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGEuaG9zdH1mdW5jdGlvbiBmKGEsYixjKXt2YXIgZD1iLmdldEF0dHJpYnV0ZSYmYi5nZXRBdHRyaWJ1dGUoYy5vbik7cmV0dXJuIGQmJmcoYixjKSYmKGguZXZlbnRzJiZjb25zb2xlLmxvZygiWyVzXSBmb3VuZCBoYW5kbGVyIG5hbWUgWyVzXSIsYS5sb2NhbE5hbWUsZCksYS5kaXNwYXRjaE1ldGhvZChiLGQsW2MsYy5kZXRhaWwsYl0pKSxjLmNhbmNlbEJ1YmJsZX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9bC5nZXQoYik7cmV0dXJuIGN8fGwuc2V0KGIsYz1bXSksYy5pbmRleE9mKGEpPDA/KGMucHVzaChhKSwhMCk6dm9pZCAwfXZhciBoPXdpbmRvdy5sb2dGbGFnc3x8e30saT0ib24tIixqPSJldmVudERlbGVnYXRlcyIsaz17RVZFTlRfUFJFRklYOmksREVMRUdBVEVTOmosYWRkSG9zdExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXNbal07aC5ldmVudHMmJk9iamVjdC5rZXlzKGEpLmxlbmd0aD4wJiZjb25zb2xlLmxvZygiWyVzXSBhZGRIb3N0TGlzdGVuZXJzOiIsdGhpcy5sb2NhbE5hbWUsYSksdGhpcy5hZGROb2RlTGlzdGVuZXJzKHRoaXMsYSx0aGlzLmhvc3RFdmVudExpc3RlbmVyKX0sYWRkSW5zdGFuY2VMaXN0ZW5lcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmRlbGVnYXRlcztjJiYoaC5ldmVudHMmJk9iamVjdC5rZXlzKGMpLmxlbmd0aD4wJiZjb25zb2xlLmxvZygiWyVzOnJvb3RdIGFkZEluc3RhbmNlTGlzdGVuZXJzOiIsdGhpcy5sb2NhbE5hbWUsYyksdGhpcy5hZGROb2RlTGlzdGVuZXJzKGEsYyx0aGlzLmluc3RhbmNlRXZlbnRMaXN0ZW5lcikpfSxhZGROb2RlTGlzdGVuZXJzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtmb3IodmFyIGUgaW4gYilkfHwoZD1jLmJpbmQodGhpcykpLGEuYWRkRXZlbnRMaXN0ZW5lcihlLGQpfSxob3N0RXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhKXtpZighYS5jYW5jZWxCdWJibGUpe2guZXZlbnRzJiZjb25zb2xlLmdyb3VwKCJbJXNdOiBob3N0RXZlbnRMaXN0ZW5lciglcykiLHRoaXMubG9jYWxOYW1lLGEudHlwZSk7dmFyIGI9dGhpcy5maW5kRXZlbnREZWxlZ2F0ZShhKTtiJiYoaC5ldmVudHMmJmNvbnNvbGUubG9nKCJbJXNdIGZvdW5kIGhvc3QgaGFuZGxlciBuYW1lIFslc10iLHRoaXMubG9jYWxOYW1lLGIpLHRoaXMuZGlzcGF0Y2hNZXRob2QodGhpcyxiLFthLGEuZGV0YWlsLHRoaXNdKSksaC5ldmVudHMmJmNvbnNvbGUuZ3JvdXBFbmQoKX19LGZpbmRFdmVudERlbGVnYXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2pdW2EudHlwZV19LGRpc3BhdGNoTWV0aG9kOmZ1bmN0aW9uKGEsYixjKXtpZihhKXtoLmV2ZW50cyYmY29uc29sZS5ncm91cCgiWyVzXSBkaXNwYXRjaCBbJXNdIixhLmxvY2FsTmFtZSxiKTt2YXIgZD10aGlzW2JdO2QmJmRbYz8iYXBwbHkiOiJjYWxsIl0odGhpcyxjKSxoLmV2ZW50cyYmY29uc29sZS5ncm91cEVuZCgpfX0saW5zdGFuY2VFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEpe2IodGhpcyxhKX19LGw9bmV3IFNpZGVUYWJsZSgiaGFuZGxlZExpc3QiKTthLmFwaS5pbnN0YW5jZS5ldmVudHM9a30oUG9seW1lciksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPXRoaXNbYV18fGE7ImZ1bmN0aW9uIj09dHlwZW9mIGMmJmMuYXBwbHkodGhpcyxiKX1mdW5jdGlvbiBjKGEsYixjLGQpe2guYmluZCYmY29uc29sZS5sb2cobixjLmxvY2FsTmFtZXx8Im9iamVjdCIsZCxhLmxvY2FsTmFtZSxiKTt2YXIgZT1QYXRoT2JzZXJ2ZXIuZ2V0VmFsdWVBdFBhdGgoYyxkKTtyZXR1cm4obnVsbD09PWV8fHZvaWQgMD09PWUpJiZQYXRoT2JzZXJ2ZXIuc2V0VmFsdWVBdFBhdGgoYyxkLGFbYl0pLFBhdGhPYnNlcnZlci5kZWZpbmVQcm9wZXJ0eShhLGIse29iamVjdDpjLHBhdGg6ZH0pfWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPWcoYSk7ZFtiXT1jfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1nKGEpO3JldHVybiBjJiZjW2JdPyhjW2JdLmNsb3NlKCksY1tiXT1udWxsLCEwKTp2b2lkIDB9ZnVuY3Rpb24gZihhKXt2YXIgYj1nKGEpO09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXS5jbG9zZSgpLGJbYV09bnVsbH0pfWZ1bmN0aW9uIGcoYSl7dmFyIGI9ay5nZXQoYSk7cmV0dXJuIGJ8fGsuc2V0KGEsYj17fSksYn12YXIgaD13aW5kb3cubG9nRmxhZ3N8fHt9LGk9IkNoYW5nZWQiLGo9e29ic2VydmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9dGhpcy5nZXRDdXN0b21Qcm9wZXJ0eU5hbWVzKCksYz0wLGQ9Yi5sZW5ndGg7ZD5jJiYoYT1iW2NdKTtjKyspdGhpcy5vYnNlcnZlUHJvcGVydHkoYSl9LGdldEN1c3RvbVByb3BlcnR5TmFtZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXN0b21Qcm9wZXJ0eU5hbWVzfSxvYnNlcnZlUHJvcGVydHk6ZnVuY3Rpb24oYSl7aWYodGhpcy5zaG91bGRPYnNlcnZlUHJvcGVydHkoYSkpe2gud2F0Y2gmJmNvbnNvbGUubG9nKGwsdGhpcy5sb2NhbE5hbWUsYSk7dmFyIGI9ZnVuY3Rpb24oYixjKXtoLndhdGNoJiZjb25zb2xlLmxvZyhtLHRoaXMubG9jYWxOYW1lLHRoaXMuaWR8fCIiLGEsdGhpc1thXSxjKSx0aGlzLmRpc3BhdGNoUHJvcGVydHlDaGFuZ2UoYSxjKX0uYmluZCh0aGlzKSxjPW5ldyBQYXRoT2JzZXJ2ZXIodGhpcyxhLGIpO2QodGhpcyxhLGMpfX0sYmluZFByb3BlcnR5OmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYyh0aGlzLGEsYixkKX0sdW5iaW5kUHJvcGVydHk6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzLGEsYil9LHVuYmluZEFsbFByb3BlcnRpZXM6ZnVuY3Rpb24oKXtmKHRoaXMpfSxzaG91bGRPYnNlcnZlUHJvcGVydHk6ZnVuY3Rpb24oYSl7cmV0dXJuIEJvb2xlYW4odGhpc1thK2ldKX0sZGlzcGF0Y2hQcm9wZXJ0eUNoYW5nZTpmdW5jdGlvbihhLGMpe2IuY2FsbCh0aGlzLGEraSxbY10pfX0saz1uZXcgU2lkZVRhYmxlLGw9Ilslc10gd2F0Y2hpbmcgWyVzXSIsbT0iWyVzIyVzXSB3YXRjaDogWyVzXSBub3cgWyVzXSB3YXMgWyVzXSIsbj0iWyVzXTogYmluZFByb3BlcnRpZXM6IFslc10gdG8gWyVzXS5bJXNdIjthLmFwaS5pbnN0YW5jZS5wcm9wZXJ0aWVzPWp9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3ZhciBiPSJfX3B1Ymxpc2hlZCIsYz0iX19pbnN0YW5jZV9hdHRyaWJ1dGVzIixkPXtQVUJMSVNIRUQ6YixJTlNUQU5DRV9BVFRSSUJVVEVTOmMsY29weUluc3RhbmNlQXR0cmlidXRlczpmdW5jdGlvbigpe3ZhciBhPXRoaXNbY107Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRBdHRyaWJ1dGUoYixhW2JdKX0sdGFrZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wLGM9dGhpcy5hdHRyaWJ1dGVzLGQ9Yy5sZW5ndGg7KGE9Y1tiXSkmJmQ+YjtiKyspdGhpcy5hdHRyaWJ1dGVUb1Byb3BlcnR5KGEubmFtZSxhLnZhbHVlKX0sYXR0cmlidXRlVG9Qcm9wZXJ0eTpmdW5jdGlvbihiLGMpe3ZhciBiPXRoaXMucHJvcGVydHlGb3JBdHRyaWJ1dGUoYik7aWYoYil7aWYoYy5zZWFyY2goYS5iaW5kUGF0dGVybik+PTApcmV0dXJuO3ZhciBkPXRoaXNbYl0sYz10aGlzLmRlc2VyaWFsaXplVmFsdWUoYyxkKTtjIT09ZCYmKHRoaXNbYl09Yyl9fSxwcm9wZXJ0eUZvckF0dHJpYnV0ZTpmdW5jdGlvbihhKXt2YXIgYz1PYmplY3Qua2V5cyh0aGlzW2JdKTtyZXR1cm4gY1tjLm1hcChlKS5pbmRleE9mKGEudG9Mb3dlckNhc2UoKSldfSxkZXNlcmlhbGl6ZVZhbHVlOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZGVzZXJpYWxpemVWYWx1ZShiLGMpfX0sZT1TdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlLmNhbGwuYmluZChTdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlKTthLmFwaS5pbnN0YW5jZS5hdHRyaWJ1dGVzPWR9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7ZChhLGMpfWZ1bmN0aW9uIGMoYSl7YS51bmJpbmRBbGwoKX1mdW5jdGlvbiBkKGEsYil7aWYoYSl7YihhKTtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWQoYyxiKX19dmFyIGU9d2luZG93LmxvZ0ZsYWdzfHwwLGY9bmV3IEV4cHJlc3Npb25TeW50YXgsZz17aW5zdGFuY2VUZW1wbGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jcmVhdGVJbnN0YW5jZSh0aGlzLGYpfSxjcmVhdGVCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnByb3BlcnR5Rm9yQXR0cmlidXRlKGEpO2lmKGQpe3ZhciBlPXRoaXMuYmluZFByb3BlcnR5KGQsYixjKTtyZXR1cm4gZS5wYXRoPWMsZX1yZXR1cm4gdGhpcy5zdXBlcihhcmd1bWVudHMpfSxhc3luY1VuYmluZEFsbDpmdW5jdGlvbigpe3RoaXMuX3VuYm91bmR8fChlLnVuYmluZCYmY29uc29sZS5sb2coIlslc10gYXN5bmNVbmJpbmRBbGwiLHRoaXMubG9jYWxOYW1lKSx0aGlzLl91bmJpbmRBbGxKb2I9dGhpcy5qb2IodGhpcy5fdW5iaW5kQWxsSm9iLHRoaXMudW5iaW5kQWxsLDApKX0sdW5iaW5kQWxsOmZ1bmN0aW9uKCl7dGhpcy5fdW5ib3VuZHx8KHRoaXMudW5iaW5kQWxsUHJvcGVydGllcygpLHRoaXMuc3VwZXIoKSxiKHRoaXMuc2hhZG93Um9vdCksdGhpcy5fdW5ib3VuZD0hMCl9LGNhbmNlbFVuYmluZEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdW5ib3VuZD8oZS51bmJpbmQmJmNvbnNvbGUud2FybigiWyVzXSBhbHJlYWR5IHVuYm91bmQsIGNhbm5vdCBjYW5jZWwgdW5iaW5kQWxsIix0aGlzLmxvY2FsTmFtZSksdm9pZCAwKTooZS51bmJpbmQmJmNvbnNvbGUubG9nKCJbJXNdIGNhbmNlbFVuYmluZEFsbCIsdGhpcy5sb2NhbE5hbWUpLHRoaXMuX3VuYmluZEFsbEpvYiYmKHRoaXMuX3VuYmluZEFsbEpvYj10aGlzLl91bmJpbmRBbGxKb2Iuc3RvcCgpKSxhfHxkKHRoaXMuc2hhZG93Um9vdCxmdW5jdGlvbihhKXthLmNhbmNlbFVuYmluZEFsbCYmYS5jYW5jZWxVbmJpbmRBbGwoKX0pLHZvaWQgMCl9LGluc2VydGVkQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbFVuYmluZEFsbCghMCksdGhpcy5pbnNlcnRlZCYmdGhpcy5pbnNlcnRlZCgpfSxyZW1vdmVkQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmFzeW5jVW5iaW5kQWxsKCksdGhpcy5yZW1vdmVkJiZ0aGlzLnJlbW92ZWQoKX19LGg9L1x7XHsoW157fV0qKX19LzthLmJpbmRQYXR0ZXJuPWgsYS5hcGkuaW5zdGFuY2UubWR2PWd9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEuaGFzT3duUHJvcGVydHkoIlBvbHltZXJCYXNlIil9ZnVuY3Rpb24gYygpe312YXIgZD17UG9seW1lckJhc2U6ITAsam9iOlBvbHltZXIuam9iLCJzdXBlciI6UG9seW1lci5zdXBlcixyZWFkeTpmdW5jdGlvbigpe30scmVhZHlDYWxsYmFjazpmdW5jdGlvbigpe3RoaXMub2JzZXJ2ZVByb3BlcnRpZXMoKSx0aGlzLmNvcHlJbnN0YW5jZUF0dHJpYnV0ZXMoKSx0aGlzLnRha2VBdHRyaWJ1dGVzKCksdGhpcy5hZGRIb3N0TGlzdGVuZXJzKCksdGhpcy5wYXJzZUVsZW1lbnRzKHRoaXMuX19wcm90b19fKSx0aGlzLmFzeW5jVW5iaW5kQWxsKCksdGhpcy5yZWFkeSgpfSxwYXJzZUVsZW1lbnRzOmZ1bmN0aW9uKGEpe2EmJmEuZWxlbWVudCYmKHRoaXMucGFyc2VFbGVtZW50cyhhLl9fcHJvdG9fXyksYS5wYXJzZUVsZW1lbnQuY2FsbCh0aGlzLGEuZWxlbWVudCkpfSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5zaGFkb3dGcm9tVGVtcGxhdGUodGhpcy5mZXRjaFRlbXBsYXRlKGEpKX0sZmV0Y2hUZW1wbGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yKCJ0ZW1wbGF0ZSIpfSxzaGFkb3dGcm9tVGVtcGxhdGU6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5zaGFkb3dSb290LGM9dGhpcy5jcmVhdGVTaGFkb3dSb290KCk7Yy5vbGRlclNoYWRvd1Jvb3Q9YixjLmFwcGx5QXV0aG9yU3R5bGVzPXRoaXMuYXBwbHlBdXRob3JTdHlsZXMsYy5yZXNldFN0eWxlSW5oZXJpdGFuY2U9dGhpcy5yZXNldFN0eWxlSW5oZXJpdGFuY2UsYy5ob3N0PXRoaXM7dmFyIGQ9dGhpcy5pbnN0YW5jZVRlbXBsYXRlKGEpO3JldHVybiBjLmFwcGVuZENoaWxkKGQpLHRoaXMuc2hhZG93Um9vdFJlYWR5KGMsYSksQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksY319LHNoYWRvd1Jvb3RSZWFkeTpmdW5jdGlvbihhLGIpe3RoaXMubWFyc2hhbE5vZGVSZWZlcmVuY2VzKGEpLHRoaXMuYWRkSW5zdGFuY2VMaXN0ZW5lcnMoYSxiKSxQb2ludGVyR2VzdHVyZXMucmVnaXN0ZXIoYSl9LG1hcnNoYWxOb2RlUmVmZXJlbmNlczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ9dGhpcy4kfHx7fTtpZihhKWZvcih2YXIgYyxkPWEucXVlcnlTZWxlY3RvckFsbCgiW2lkXSIpLGU9MCxmPWQubGVuZ3RoO2Y+ZSYmKGM9ZFtlXSk7ZSsrKWJbYy5pZF09Y30sYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07Yy5wcm90b3R5cGU9ZCxkLmNvbnN0cnVjdG9yPWMsYS5CYXNlPWMsYS5pc0Jhc2U9YixhLmFwaS5pbnN0YW5jZS5iYXNlPWR9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc3x8e307dmFyIGI9ImVsZW1lbnQiLGM9ImNvbnRyb2xsZXIiLGQ9e1NUWUxFX1NDT1BFX0FUVFJJQlVURTpiLGluc3RhbGxDb250cm9sbGVyU3R5bGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maW5kU3R5bGVDb250cm9sbGVyKCk7aWYoYSYmIXRoaXMuc2NvcGVIYXNFbGVtZW50U3R5bGUoYSxjKSl7Zm9yKHZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSxkPSIiO2ImJmIuZWxlbWVudDspZCs9Yi5lbGVtZW50LmNzc1RleHRGb3JTY29wZShjKSxiPU9iamVjdC5nZXRQcm90b3R5cGVPZihiKTtpZihkKXt2YXIgZT10aGlzLmVsZW1lbnQuY3NzVGV4dFRvU2NvcGVTdHlsZShkLGMpO3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmUGxhdGZvcm0uU2hhZG93Q1NTLnNoaW1Qb2x5ZmlsbERpcmVjdGl2ZXMoW2VdLHRoaXMubG9jYWxOYW1lKSxQb2x5bWVyLmFwcGx5U3R5bGVUb1Njb3BlKGUsYSl9fX0sc2NvcGVIYXNFbGVtZW50U3R5bGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD1iKyI9Iit0aGlzLmxvY2FsTmFtZSsiLSIrYztyZXR1cm4gYS5xdWVyeVNlbGVjdG9yKCJzdHlsZVsiK2QrIl0iKX0sZmluZFN0eWxlQ29udHJvbGxlcjpmdW5jdGlvbigpe2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbClyZXR1cm4gd3JhcChkb2N1bWVudC5oZWFkKTtmb3IodmFyIGE9dGhpczthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhPT09ZG9jdW1lbnQ/ZG9jdW1lbnQuaGVhZDphfX07YS5hcGkuaW5zdGFuY2Uuc3R5bGVzPWR9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3ZhciBiPXthZGRSZXNvbHZlUGF0aEFwaTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudFBhdGgoKTt0aGlzLnByb3RvdHlwZS5yZXNvbHZlUGF0aD1mdW5jdGlvbihiKXtyZXR1cm4gYStifX0sZWxlbWVudFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmxUb1BhdGgoSFRNTEltcG9ydHMuZ2V0RG9jdW1lbnRVcmwodGhpcy5vd25lckRvY3VtZW50KSl9LHVybFRvUGF0aDpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj1hLnNwbGl0KCIvIik7cmV0dXJuIGIucG9wKCksYi5wdXNoKCIiKSxiLmpvaW4oIi8iKX1yZXR1cm4iIn19O2EuYXBpLmRlY2xhcmF0aW9uLnBhdGg9Yn0oUG9seW1lciksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2lmKGEpe3ZhciBkPWMoYS50ZXh0Q29udGVudCksZT1hLmdldEF0dHJpYnV0ZShnKTtlJiZkLnNldEF0dHJpYnV0ZShnLGUpLGIuYXBwZW5kQ2hpbGQoZCl9fWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX3Jlc291cmNlfHwiIn1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIG4/bi5jYWxsKGEsYik6dm9pZCAwfXdpbmRvdy5sb2dGbGFnc3x8e307dmFyIGY9YS5hcGkuaW5zdGFuY2Uuc3R5bGVzLGc9Zi5TVFlMRV9TQ09QRV9BVFRSSUJVVEUsaD0ic3R5bGUiLGk9IltyZWw9c3R5bGVzaGVldF0iLGo9Imdsb2JhbCIsaz0icG9seW1lci1zY29wZSIsbD17aW5zdGFsbFNoZWV0czpmdW5jdGlvbigpe3RoaXMuY2FjaGVTaGVldHMoKSx0aGlzLmluc3RhbGxMb2NhbFNoZWV0cygpLHRoaXMuaW5zdGFsbEdsb2JhbFN0eWxlcygpfSxjYWNoZVNoZWV0czpmdW5jdGlvbigpe3RoaXMuc2hlZXRzPXRoaXMuZmluZE5vZGVzKGkpLHRoaXMuc2hlZXRzLmZvckVhY2goZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9KX0saW5zdGFsbExvY2FsU2hlZXRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zaGVldHMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiFhLmhhc0F0dHJpYnV0ZShrKX0pLGI9dGhpcy50ZW1wbGF0ZUNvbnRlbnQoKTtpZihiKXt2YXIgZT0iIjthLmZvckVhY2goZnVuY3Rpb24oYSl7ZSs9ZChhKSsiXG4ifSksZSYmYi5pbnNlcnRCZWZvcmUoYyhlKSxiLmZpcnN0Q2hpbGQpfX0sZmluZE5vZGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5xdWVyeVNlbGVjdG9yQWxsKGEpLmFycmF5KCksZD10aGlzLnRlbXBsYXRlQ29udGVudCgpO2lmKGQpe3ZhciBlPWQucXVlcnlTZWxlY3RvckFsbChhKS5hcnJheSgpO2M9Yy5jb25jYXQoZSl9cmV0dXJuIGI/Yy5maWx0ZXIoYik6Y30sdGVtcGxhdGVDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5xdWVyeVNlbGVjdG9yKCJ0ZW1wbGF0ZSIpO3JldHVybiBhJiZ0ZW1wbGF0ZUNvbnRlbnQoYSl9LGluc3RhbGxHbG9iYWxTdHlsZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0eWxlRm9yU2NvcGUoaik7YihhLGRvY3VtZW50LmhlYWQpfSxjc3NUZXh0Rm9yU2NvcGU6ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYz0iWyIraysiPSIrYSsiXSIsZj1mdW5jdGlvbihhKXtyZXR1cm4gZShhLGMpfSxnPXRoaXMuc2hlZXRzLmZpbHRlcihmKTtnLmZvckVhY2goZnVuY3Rpb24oYSl7Yis9ZChhKSsiXG5cbiJ9KTt2YXIgaT10aGlzLmZpbmROb2RlcyhoLGYpO3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGIrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYn0sc3R5bGVGb3JTY29wZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNzc1RleHRGb3JTY29wZShhKTtyZXR1cm4gdGhpcy5jc3NUZXh0VG9TY29wZVN0eWxlKGIsYSl9LGNzc1RleHRUb1Njb3BlU3R5bGU6ZnVuY3Rpb24oYSxiKXtpZihhKXt2YXIgZD1jKGEpO3JldHVybiBkLnNldEF0dHJpYnV0ZShnLHRoaXMuZ2V0QXR0cmlidXRlKCJuYW1lIikrIi0iK2IpLGR9fX0sbT1IVE1MRWxlbWVudC5wcm90b3R5cGUsbj1tLm1hdGNoZXN8fG0ubWF0Y2hlc1NlbGVjdG9yfHxtLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8bS5tb3pNYXRjaGVzU2VsZWN0b3I7YS5hcGkuZGVjbGFyYXRpb24uc3R5bGVzPWwsYS5hcHBseVN0eWxlVG9TY29wZT1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBhLnNsaWNlKDAsayk9PWd9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5zbGljZShrKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlZj9hLnJlZi5jb250ZW50OmEuY29udGVudH12YXIgZT1hLmFwaS5pbnN0YW5jZS5ldmVudHMsZj1lLkRFTEVHQVRFUyxnPWUuRVZFTlRfUFJFRklYLGg9d2luZG93LmxvZ0ZsYWdzfHx7fSxpPXtpbmhlcml0RGVsZWdhdGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5oZXJpdE9iamVjdChhLGYpfSxwYXJzZUhvc3RFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnByb3RvdHlwZVtmXTt0aGlzLmFkZEF0dHJpYnV0ZURlbGVnYXRlcyhhKX0sYWRkQXR0cmlidXRlRGVsZWdhdGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZCxlPTA7ZD10aGlzLmF0dHJpYnV0ZXNbZV07ZSsrKWIoZC5uYW1lKSYmKGFbYyhkLm5hbWUpXT1kLnZhbHVlKX0scGFyc2VMb2NhbEV2ZW50czpmdW5jdGlvbigpe3RoaXMucXVlcnlTZWxlY3RvckFsbCgidGVtcGxhdGUiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVsZWdhdGVzPXt9LHRoaXMuYWNjdW11bGF0ZVRlbXBsYXRlZEV2ZW50cyhhLGEuZGVsZWdhdGVzKSxoLmV2ZW50cyYmY29uc29sZS5sb2coIlslc10gcGFyc2VMb2NhbEV2ZW50czoiLHRoaXMuYXR0cmlidXRlcy5uYW1lLnZhbHVlLGEuZGVsZWdhdGVzKX0sdGhpcyl9LGFjY3VtdWxhdGVUZW1wbGF0ZWRFdmVudHM6ZnVuY3Rpb24oYSxiKXtpZigidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUpe3ZhciBjPWQoYSk7YyYmdGhpcy5hY2N1bXVsYXRlQ2hpbGRFdmVudHMoYyxiKX19LGFjY3VtdWxhdGVDaGlsZEV2ZW50czpmdW5jdGlvbihhLGIpe2EuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuYWNjdW11bGF0ZUV2ZW50cyhhLGIpfSx0aGlzKX0sYWNjdW11bGF0ZUV2ZW50czpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFjY3VtdWxhdGVBdHRyaWJ1dGVFdmVudHMoYSxiKSx0aGlzLmFjY3VtdWxhdGVDaGlsZEV2ZW50cyhhLGIpLHRoaXMuYWNjdW11bGF0ZVRlbXBsYXRlZEV2ZW50cyhhLGIpLGJ9LGFjY3VtdWxhdGVBdHRyaWJ1dGVFdmVudHM6ZnVuY3Rpb24oYSxkKXthLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IoYS5uYW1lKSYmdGhpcy5hY2N1bXVsYXRlRXZlbnQoYyhhLm5hbWUpLGQpfSx0aGlzKX0sYWNjdW11bGF0ZUV2ZW50OmZ1bmN0aW9uKGEsYil7YT1qW2FdfHxhLGJbYV09YlthXXx8MX19LGo9e3dlYmtpdGFuaW1hdGlvbnN0YXJ0OiJ3ZWJraXRBbmltYXRpb25TdGFydCIsd2Via2l0YW5pbWF0aW9uZW5kOiJ3ZWJraXRBbmltYXRpb25FbmQiLHdlYmtpdHRyYW5zaXRpb25lbmQ6IndlYmtpdFRyYW5zaXRpb25FbmQiLGRvbWZvY3Vzb3V0OiJET01Gb2N1c091dCIsZG9tZm9jdXNpbjoiRE9NRm9jdXNJbiJ9LGs9Zy5sZW5ndGg7aS5ldmVudF90cmFuc2xhdGlvbnM9aixhLmFwaS5kZWNsYXJhdGlvbi5ldmVudHM9aX0oUG9seW1lciksZnVuY3Rpb24oYSl7dmFyIGI9W10sYz17Y2FjaGVQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dGhpcy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydHlOYW1lcz10aGlzLmdldEN1c3RvbVByb3BlcnR5TmFtZXModGhpcy5wcm90b3R5cGUpfSxnZXRDdXN0b21Qcm9wZXJ0eU5hbWVzOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZCxlPXt9O2MmJiFhLmlzQmFzZShjKTspe2Zvcih2YXIgZixnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGMpLGg9MCxpPWcubGVuZ3RoO2k+aCYmKGY9Z1toXSk7aCsrKWVbZl09ITAsZD0hMDtjPWMuX19wcm90b19ffXJldHVybiBkP09iamVjdC5rZXlzKGUpOmJ9fTthLmFwaS5kZWNsYXJhdGlvbi5wcm9wZXJ0aWVzPWN9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuYXBpLmluc3RhbmNlLmF0dHJpYnV0ZXMsYz1iLlBVQkxJU0hFRCxkPWIuSU5TVEFOQ0VfQVRUUklCVVRFUyxlPSJwdWJsaXNoIixmPSJhdHRyaWJ1dGVzIixnPXtpbmhlcml0QXR0cmlidXRlc09iamVjdHM6ZnVuY3Rpb24oYSl7dGhpcy5pbmhlcml0T2JqZWN0KGEsYyksdGhpcy5pbmhlcml0T2JqZWN0KGEsZCl9LHBhcnNlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMucHVibGlzaEF0dHJpYnV0ZXModGhpcy5wcm90b3R5cGUpLHRoaXMucHVibGlzaFByb3BlcnRpZXModGhpcy5wcm90b3R5cGUpLHRoaXMuYWNjdW11bGF0ZUluc3RhbmNlQXR0cmlidXRlcygpfSxwdWJsaXNoQXR0cmlidXRlczpmdW5jdGlvbihhKXt2YXIgYj1hW2NdLGQ9dGhpcy5nZXRBdHRyaWJ1dGUoZik7aWYoZCl7dmFyIGU9ZC5zcGxpdChkLmluZGV4T2YoIiwiKT49MD8iLCI6IiAiKTtlLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSwhYXx8YSBpbiBifHwoYlthXT1udWxsKX0pfU9iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7YyBpbiBhfHwoYVtjXT1iW2NdKX0pfSxwdWJsaXNoUHJvcGVydGllczpmdW5jdGlvbihhKXt0aGlzLnB1Ymxpc2hQdWJsaXNoKGEpfSxwdWJsaXNoUHVibGlzaDpmdW5jdGlvbihhKXtpZihhLmhhc093blByb3BlcnR5KGUpKXt2YXIgYj1hW2VdO2ImJihPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2FbY109YltjXX0pLFBsYXRmb3JtLm1peGluKGFbY10sYikpfX0sYWNjdW11bGF0ZUluc3RhbmNlQXR0cmlidXRlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucHJvdG90eXBlW2RdO3RoaXMuYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMuaXNJbnN0YW5jZUF0dHJpYnV0ZShiLm5hbWUpJiYoYVtiLm5hbWVdPWIudmFsdWUpfSx0aGlzKX0saXNJbnN0YW5jZUF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5ibGFja0xpc3RbYV0mJiJvbi0iIT09YS5zbGljZSgwLDMpfSxibGFja0xpc3Q6e25hbWU6MSwiZXh0ZW5kcyI6MSxjb25zdHJ1Y3RvcjoxfX07Zy5ibGFja0xpc3RbZl09MSxhLmFwaS5kZWNsYXJhdGlvbi5hdHRyaWJ1dGVzPWd9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtmW2FdPWJ9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5nZXRQcm90b3R5cGVGb3JUYWcoYSkpfXZhciBkPVBvbHltZXIuZXh0ZW5kLGU9YS5hcGkuZGVjbGFyYXRpb24sZj17fSxnPWMoKTtkKGcse3JlYWR5Q2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEF0dHJpYnV0ZSgibmFtZSIpLGI9dGhpcy5nZXRBdHRyaWJ1dGUoImV4dGVuZHMiKTt0aGlzLnByb3RvdHlwZT10aGlzLmdlbmVyYXRlQ3VzdG9tUHJvdG90eXBlKGEsYiksdGhpcy5wcm90b3R5cGUuZWxlbWVudD10aGlzLHRoaXMuYWRkUmVzb2x2ZVBhdGhBcGkoKSx0aGlzLmRlc3VnYXIoKSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJlBsYXRmb3JtLlNoYWRvd0NTUy5zaGltU3R5bGluZyh0aGlzLnRlbXBsYXRlQ29udGVudCgpLGEsYiksdGhpcy5yZWdpc3RlcihhKSx0aGlzLnB1Ymxpc2hDb25zdHJ1Y3RvcigpfSxkZXN1Z2FyOmZ1bmN0aW9uKCl7dGhpcy5wYXJzZUF0dHJpYnV0ZXMoKSx0aGlzLnBhcnNlSG9zdEV2ZW50cygpLHRoaXMucGFyc2VMb2NhbEV2ZW50cygpLHRoaXMuaW5zdGFsbFNoZWV0cygpLHRoaXMucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2smJnRoaXMucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2sodGhpcyksdGhpcy5jYWNoZVByb3BlcnRpZXMoKX0sZ2VuZXJhdGVDdXN0b21Qcm90b3R5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdlbmVyYXRlQmFzZVByb3RvdHlwZShiKTtyZXR1cm4gdGhpcy5hZGROYW1lZEFwaShjLGEpfSxnZW5lcmF0ZUJhc2VQcm90b3R5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9YyhhKTtyZXR1cm4gdGhpcy5lbnN1cmVCYXNlQXBpKGIpfSxlbnN1cmVCYXNlQXBpOmZ1bmN0aW9uKGIpe3JldHVybiBiLlBvbHltZXJCYXNlfHwoT2JqZWN0LmtleXMoYS5hcGkuaW5zdGFuY2UpLmZvckVhY2goZnVuY3Rpb24oYyl7ZChiLGEuYXBpLmluc3RhbmNlW2NdKX0pLGI9T2JqZWN0LmNyZWF0ZShiKSksdGhpcy5pbmhlcml0QXR0cmlidXRlc09iamVjdHMoYiksdGhpcy5pbmhlcml0RGVsZWdhdGVzKGIpLGJ9LGFkZE5hbWVkQXBpOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQoYSxmW2JdKX0saW5oZXJpdE9iamVjdDpmdW5jdGlvbihhLGIpe2FbYl09ZCh7fSxhLl9fcHJvdG9fX1tiXSl9LHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe3RoaXMuY3Rvcj1kb2N1bWVudC5yZWdpc3RlcihhLHtwcm90b3R5cGU6dGhpcy5wcm90b3R5cGV9KSx0aGlzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10aGlzLmN0b3IsSFRNTEVsZW1lbnQucmVnaXN0ZXIoYSx0aGlzLnByb3RvdHlwZSl9LHB1Ymxpc2hDb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlKCJjb25zdHJ1Y3RvciIpO2EmJih3aW5kb3dbYV09dGhpcy5jdG9yKX19KSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2QoZyxlW2FdKX0pLGRvY3VtZW50LnJlZ2lzdGVyKCJwb2x5bWVyLWVsZW1lbnQiLHtwcm90b3R5cGU6Z30pLGQoYix3aW5kb3cuUG9seW1lciksd2luZG93LlBvbHltZXI9Yn0oUG9seW1lcik7Ci8qCi8vQCBzb3VyY2VNYXBwaW5nVVJMPXBvbHltZXIubmF0aXZlLm1pbi5qcy5tYXAKKi8=",
                "body": "Ly8gQ29weXJpZ2h0IChjKSAyMDEyIFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vCi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAovLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlCi8vIG1ldDoKLy8KLy8gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodAovLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCi8vICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZQovLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyCi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUKLy8gZGlzdHJpYnV0aW9uLgovLyAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMKLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20KLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwovLyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAovLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQovLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQovLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgpmdW5jdGlvbiBQb2ludGVyR2VzdHVyZUV2ZW50KGEsYil7dmFyIGM9Ynx8e30sZD1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSxlPXtidWJibGVzOiEwLGNhbmNlbGFibGU6ITB9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EgaW4gYyYmKGVbYV09Y1thXSl9KSxkLmluaXRFdmVudChhLGUuYnViYmxlcyxlLmNhbmNlbGFibGUpLE9iamVjdC5rZXlzKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7ZFthXT1iW2FdfSksZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfXZhciBTaWRlVGFibGU7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBXZWFrTWFwJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3gvIik8MD9TaWRlVGFibGU9V2Vha01hcDpmdW5jdGlvbigpe3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxjPShuZXcgRGF0ZSkuZ2V0VGltZSgpJTFlOTtTaWRlVGFibGU9ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyhjKysgKyJfXyIpfSxTaWRlVGFibGUucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXthKGIsdGhpcy5uYW1lLHt2YWx1ZTpjLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYi5jYWxsKGEsdGhpcy5uYW1lKT9hW3RoaXMubmFtZV06dm9pZCAwfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt0aGlzLnNldChhLHZvaWQgMCl9fX0oKSxmdW5jdGlvbigpe3dpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sd2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSFRNTEVsZW1lbnQucHJvdG90eXBlLHtzaGFkb3dSb290OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRTaGFkb3dSb290fX0sY3JlYXRlU2hhZG93Um9vdDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRDcmVhdGVTaGFkb3dSb290KCl9fX0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oYSl7aWYod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChhKSwhYS5jb250ZW50JiYhYS5fY29udGVudCl7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTthLl9jb250ZW50PWJ9cmV0dXJuIGEuY29udGVudHx8YS5fY29udGVudH19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9YXx8e30sZD0xO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe3ZhciBlPWFyZ3VtZW50c1tkXTt0cnl7Zm9yKHZhciBmIGluIGUpYyhmLGUsYil9Y2F0Y2goZyl7fX1yZXR1cm4gYn1mdW5jdGlvbiBjKGEsYixjKXt2YXIgZT1kKGIsYSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsYSxlKX1mdW5jdGlvbiBkKGEsYil7aWYoYSl7dmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpO3JldHVybiBjfHxkKE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxiKX19RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuc2xpY2UoKTtyZXR1cm4gZC5wdXNoLmFwcGx5KGQsYXJndW1lbnRzKSxiLmFwcGx5KGEsZCl9fSksYS5taXhpbj1ifSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYixjKXt2YXIgZD0ic3RyaW5nIj09dHlwZW9mIGE/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTphLmNsb25lTm9kZSghMCk7aWYoZC5pbm5lckhUTUw9YixjKWZvcih2YXIgZSBpbiBjKWQuc2V0QXR0cmlidXRlKGUsY1tlXSk7cmV0dXJuIGR9dmFyIGM9RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5hZGQsZD1ET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZTtET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspYy5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWQuY2FsbCh0aGlzLGFyZ3VtZW50c1thXSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGEsYil7MT09YXJndW1lbnRzLmxlbmd0aCYmKGI9IXRoaXMuY29udGFpbnMoYSkpLGI/dGhpcy5hZGQoYSk6dGhpcy5yZW1vdmUoYSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUuc3dpdGNoPWZ1bmN0aW9uKGEsYil7YSYmdGhpcy5yZW1vdmUoYSksYiYmdGhpcy5hZGQoYil9O3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMpfSxmPXdpbmRvdy5OYW1lZE5vZGVNYXB8fHdpbmRvdy5Nb3pOYW1lZEF0dHJNYXB8fHt9O05vZGVMaXN0LnByb3RvdHlwZS5hcnJheT1lLGYucHJvdG90eXBlLmFycmF5PWUsSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlLmFycmF5PWU7dmFyIGc9ZnVuY3Rpb24oYSxiKXtlLmNhbGwodGhpcykuZm9yRWFjaChhLGIpfTtpZihOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaD1nLGYucHJvdG90eXBlLmZvckVhY2g9ZyxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaD1nLCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBoPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1ofX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSksYS5jcmVhdGVET009Yn0od2luZG93LlBsYXRmb3JtKSx3aW5kb3cudGVtcGxhdGVDb250ZW50PXdpbmRvdy50ZW1wbGF0ZUNvbnRlbnR8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnR9LGZ1bmN0aW9uKGEpe2E9YXx8KHdpbmRvdy5JbnNwZWN0b3I9e30pO3ZhciBiO3dpbmRvdy5zaW5zcGVjdD1mdW5jdGlvbihhLGQpe2J8fChiPXdpbmRvdy5vcGVuKCIiLCJTaGFkb3dET00gSW5zcGVjdG9yIixudWxsLCEwKSxiLmRvY3VtZW50LndyaXRlKGMpLGIuYXBpPXtzaGFkb3dpemU6c2hhZG93aXplfSksZihhfHx3cmFwKGRvY3VtZW50LmJvZHkpLGQpfTt2YXIgYz1bIjwhRE9DVFlQRSBodG1sPiIsIjxodG1sPiIsIiAgPGhlYWQ+IiwiICAgIDx0aXRsZT5TaGFkb3dET00gSW5zcGVjdG9yPC90aXRsZT4iLCIgICAgPHN0eWxlPiIsIiAgICAgIGJvZHkgeyIsIiAgICAgIH0iLCIgICAgICBwcmUgeyIsJyAgICAgICAgZm9udDogOXB0ICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsnLCIgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTsiLCIgICAgICB9IiwiICAgICAgdGFnIHsiLCIgICAgICAgIGNvbG9yOiBwdXJwbGU7IiwiICAgICAgfSIsIiAgICAgIHVsIHsiLCIgICAgICAgICBtYXJnaW46IDA7IiwiICAgICAgICAgcGFkZGluZzogMDsiLCIgICAgICAgICBsaXN0LXN0eWxlOiBub25lOyIsIiAgICAgIH0iLCIgICAgICBsaSB7IiwiICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyIsIiAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7IiwiICAgICAgICAgcGFkZGluZzogNHB4IDZweDsiLCIgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IiwiICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7IiwiICAgICAgfSIsIiAgICA8L3N0eWxlPiIsIiAgPC9oZWFkPiIsIiAgPGJvZHk+IiwnICAgIDx1bCBpZD0iY3J1bWJzIj4nLCIgICAgPC91bD4iLCcgICAgPGRpdiBpZD0idHJlZSI+PC9kaXY+JywiICA8L2JvZHk+IiwiPC9odG1sPiJdLmpvaW4oIlxuIiksZD1bXSxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5kb2N1bWVudCxjPWEucXVlcnlTZWxlY3RvcigiI2NydW1icyIpO2MudGV4dENvbnRlbnQ9IiI7Zm9yKHZhciBlLGc9MDtlPWRbZ107ZysrKXt2YXIgaD1hLmNyZWF0ZUVsZW1lbnQoImEiKTtoLmhyZWY9IiMiLGgudGV4dENvbnRlbnQ9ZS5sb2NhbE5hbWUsaC5pZHg9ZyxoLm9uY2xpY2s9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiO2QubGVuZ3RoPnRoaXMuaWR4OyliPWQucG9wKCk7ZihiLnNoYWRvd3x8YixiKSxhLnByZXZlbnREZWZhdWx0KCl9LGMuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJsaSIpKS5hcHBlbmRDaGlsZChoKX19LGY9ZnVuY3Rpb24oYSxjKXt2YXIgZj1iLmRvY3VtZW50O2s9W107dmFyIGc9Y3x8YTtkLnB1c2goZyksZSgpLGYuYm9keS5xdWVyeVNlbGVjdG9yKCIjdHJlZSIpLmlubmVySFRNTD0iPHByZT4iK2ooYSxhLmNoaWxkTm9kZXMpKyI8L3ByZT4ifSxnPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksaD17U1RZTEU6MSxTQ1JJUFQ6MSwiI2NvbW1lbnQiOjEsVEVNUExBVEU6MX0saT1mdW5jdGlvbihhKXtyZXR1cm4gaFthLm5vZGVOYW1lXX0saj1mdW5jdGlvbihhLGIsYyl7aWYoaShhKSlyZXR1cm4iIjt2YXIgZD1jfHwiIjtpZihhLmxvY2FsTmFtZXx8MTE9PWEubm9kZVR5cGUpe3ZhciBlPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiLGY9ZCtsKGEpOyJjb250ZW50Ij09ZSYmKGI9YS5nZXREaXN0cmlidXRlZE5vZGVzKCkpLGYrPSI8YnIvPiI7dmFyIGg9ZCsiJm5ic3A7Jm5ic3A7IjtnKGIsZnVuY3Rpb24oYSl7Zis9aihhLGEuY2hpbGROb2RlcyxoKX0pLGYrPWQse2JyOjF9W2VdfHwoZis9Ijx0YWc+Jmx0Oy8iK2UrIiZndDs8L3RhZz4iLGYrPSI8YnIvPiIpfWVsc2V7dmFyIGs9YS50ZXh0Q29udGVudC50cmltKCk7Zj1rP2QrJyInK2srJyInKyI8YnIvPiI6IiJ9cmV0dXJuIGZ9LGs9W10sbD1mdW5jdGlvbihhKXt2YXIgYj0iPHRhZz4mbHQ7IixjPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiO3JldHVybiBhLndlYmtpdFNoYWRvd1Jvb3R8fGEuc2hhZG93Um9vdD8oYis9JyA8YnV0dG9uIGlkeD0iJytrLmxlbmd0aCsnIiBvbmNsaWNrPSJhcGkuc2hhZG93aXplLmNhbGwodGhpcykiPicrYysiPC9idXR0b24+IixrLnB1c2goYSkpOmIrPWN8fCJzaGFkb3ctcm9vdCIsYS5hdHRyaWJ1dGVzJiZnKGEuYXR0cmlidXRlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5uYW1lKyhhLnZhbHVlPyc9IicrYS52YWx1ZSsnIic6IiIpfSksYis9IiZndDs8L3RhZz4ifTtzaGFkb3dpemU9ZnVuY3Rpb24oKXt2YXIgYT1OdW1iZXIodGhpcy5hdHRyaWJ1dGVzLmlkeC52YWx1ZSksYj1rW2FdO2I/ZihiLndlYmtpdFNoYWRvd1Jvb3R8fGIuc2hhZG93Um9vdCxiKTooY29uc29sZS5sb2coImJhZCBzaGFkb3dpemUgbm9kZSIpLGNvbnNvbGUuZGlyKHRoaXMpKX0sYS5vdXRwdXQ9an0od2luZG93Lkluc3BlY3RvciksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtmdW5jdGlvbiBhKGEpeyJzcGxpY2UiPT09YVswXS50eXBlJiYic3BsaWNlIj09PWFbMV0udHlwZSYmKGI9ITApfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9ITEsYz1bMF07cmV0dXJuIEFycmF5Lm9ic2VydmUoYyxhKSxjWzFdPTEsYy5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksYn1mdW5jdGlvbiBjKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZChhKXtyZXR1cm4rYX1mdW5jdGlvbiBlKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpLKGEpJiZLKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBnKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnJlcGxhY2UoL1xzL2csIiIpLCIiPT1hPyEwOiIuIj09YVswXT8hMTpTLnRlc3QoYSkpfWZ1bmN0aW9uIGgoYSl7dmFyIGI9VFthXTtpZihiKXJldHVybiBiO2lmKGcoYSkpe3ZhciBiPW5ldyBpKGEpO3JldHVybiBUW2FdPWIsYn19ZnVuY3Rpb24gaShhKXtyZXR1cm4iIj09YS50cmltKCk/dGhpczpjKGEpPyh0aGlzLnB1c2goU3RyaW5nKGEpKSx0aGlzKTooYS5zcGxpdCgvXC4vKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucHVzaChhKX0sdGhpcyksSCYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSksdm9pZCAwKX1mdW5jdGlvbiBqKGEpe2Zvcih2YXIgYj0wO1U+YiYmYS5jaGVjaygpOylhLnJlcG9ydCgpLGIrK31mdW5jdGlvbiBrKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGsoYS5hZGRlZCkmJmsoYS5yZW1vdmVkKSYmayhhLmNoYW5nZWQpfWZ1bmN0aW9uIG0oYSxiKXt2YXIgYz17fSxkPXt9LGU9e307Zm9yKHZhciBmIGluIGIpe3ZhciBnPWFbZl07KHZvaWQgMD09PWd8fGchPT1iW2ZdKSYmKGYgaW4gYT9nIT09YltmXSYmKGVbZl09Zyk6ZFtmXT12b2lkIDApfWZvcih2YXIgZiBpbiBhKWYgaW4gYnx8KGNbZl09YVtmXSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoIT09Yi5sZW5ndGgmJihlLmxlbmd0aD1hLmxlbmd0aCkse2FkZGVkOmMscmVtb3ZlZDpkLGNoYW5nZWQ6ZX19ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWJ8fChBcnJheS5pc0FycmF5KGEpP1tdOnt9KTtmb3IodmFyIGQgaW4gYSljW2RdPWFbZF07cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJihjLmxlbmd0aD1hLmxlbmd0aCksY31mdW5jdGlvbiBvKGEsYixjLGQpe3RoaXMub2JqZWN0PWEsdGhpcy5jYWxsYmFjaz1iLHRoaXMudGFyZ2V0PWMsdGhpcy50b2tlbj1kLHRoaXMucmVwb3J0aW5nPSEwLEcmJih0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjaz10aGlzLmludGVybmFsQ2FsbGJhY2suYmluZCh0aGlzKSksdGhpcy52YWxpZD0hMCxwKHRoaXMpLHRoaXMuY29ubmVjdCgpLHRoaXMuc3luYyghMCl9ZnVuY3Rpb24gcChhKXtXJiYoVi5wdXNoKGEpLG8uX2FsbE9ic2VydmVyc0NvdW50KyspfWZ1bmN0aW9uIHEoYSxiLGMsZCl7by5jYWxsKHRoaXMsYSxiLGMsZCl9ZnVuY3Rpb24gcihhLGIsYyxkKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO28uY2FsbCh0aGlzLGEsYixjLGQpfWZ1bmN0aW9uIHMoYSl7dGhpcy5hcnI9W10sdGhpcy5jYWxsYmFjaz1hLHRoaXMuaXNPYnNlcnZlZD0hMH1mdW5jdGlvbiB0KGEsYixjLGQsZil7dGhpcy52YWx1ZT12b2lkIDA7dmFyIGc9aChiKTtyZXR1cm4gZz9nLmxlbmd0aD8oZShhKSYmKHRoaXMucGF0aD1nLG8uY2FsbCh0aGlzLGEsYyxkLGYpKSx2b2lkIDApOih0aGlzLnZhbHVlPWEsdm9pZCAwKTp2b2lkIDB9ZnVuY3Rpb24gdShhLGIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3Qub2JzZXJ2ZSl7dmFyIGM9T2JqZWN0LmdldE5vdGlmaWVyKGEpO3JldHVybiBmdW5jdGlvbihkLGUpe3ZhciBmPXtvYmplY3Q6YSx0eXBlOmQsbmFtZTpifTsyPT09YXJndW1lbnRzLmxlbmd0aCYmKGYub2xkVmFsdWU9ZSksYy5ub3RpZnkoZil9fX1mdW5jdGlvbiB2KGEsYixjKXtmb3IodmFyIGQ9e30sZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07X1tnLnR5cGVdPyhnLm5hbWUgaW4gY3x8KGNbZy5uYW1lXT1nLm9sZFZhbHVlKSwidXBkYXRlZCIhPWcudHlwZSYmKCJuZXciIT1nLnR5cGU/Zy5uYW1lIGluIGQ/KGRlbGV0ZSBkW2cubmFtZV0sZGVsZXRlIGNbZy5uYW1lXSk6ZVtnLm5hbWVdPSEwOmcubmFtZSBpbiBlP2RlbGV0ZSBlW2cubmFtZV06ZFtnLm5hbWVdPSEwKSk6KGNvbnNvbGUuZXJyb3IoIlVua25vd24gY2hhbmdlUmVjb3JkIHR5cGU6ICIrZy50eXBlKSxjb25zb2xlLmVycm9yKGcpKX1mb3IodmFyIGggaW4gZClkW2hdPWFbaF07Zm9yKHZhciBoIGluIGUpZVtoXT12b2lkIDA7dmFyIGk9e307Zm9yKHZhciBoIGluIGMpaWYoIShoIGluIGR8fGggaW4gZSkpe3ZhciBqPWFbaF07Y1toXSE9PWomJihpW2hdPWopfXJldHVybnthZGRlZDpkLHJlbW92ZWQ6ZSxjaGFuZ2VkOml9fWZ1bmN0aW9uIHcoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz1mLWUrMSxoPWMtYisxLGk9bmV3IEFycmF5KGcpLGo9MDtnPmo7aisrKWlbal09bmV3IEFycmF5KGgpLGlbal1bMF09ajtmb3IodmFyIGs9MDtoPms7aysrKWlbMF1ba109aztmb3IodmFyIGo9MTtnPmo7aisrKWZvcih2YXIgaz0xO2g+aztrKyspaWYoZFtlK2otMV09PT1hW2Iray0xXSlpW2pdW2tdPWlbai0xXVtrLTFdO2Vsc2V7dmFyIGw9aVtqLTFdW2tdKzEsbT1pW2pdW2stMV0rMTtpW2pdW2tdPW0+bD9sOm19cmV0dXJuIGl9ZnVuY3Rpb24geChhKXtmb3IodmFyIGI9YS5sZW5ndGgtMSxjPWFbMF0ubGVuZ3RoLTEsZD1hW2JdW2NdLGU9W107Yj4wfHxjPjA7KWlmKDAhPWIpaWYoMCE9Yyl7dmFyIGYsZz1hW2ItMV1bYy0xXSxoPWFbYi0xXVtjXSxpPWFbYl1bYy0xXTtmPWk+aD9nPmg/aDpnOmc+aT9pOmcsZj09Zz8oZz09ZD9lLnB1c2goYWIpOihlLnB1c2goYmIpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKGRiKSxiLS0sZD1oKTooZS5wdXNoKGNiKSxjLS0sZD1pKX1lbHNlIGUucHVzaChkYiksYi0tO2Vsc2UgZS5wdXNoKGNiKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9ZnVuY3Rpb24geShhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZihhW2RdIT09YltkXSlyZXR1cm4gZDtyZXR1cm4gY31mdW5jdGlvbiB6KGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZhWy0tZF09PT1iWy0tZV07KWYrKztyZXR1cm4gZn1mdW5jdGlvbiBBKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBCKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXkoYSxkLGkpKSxjPT1hLmxlbmd0aCYmZj09ZC5sZW5ndGgmJihoPXooYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsMD09Yy1iJiYwPT1mLWUpcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPUEoYixbXSwwKTtmPmU7KWoucmVtb3ZlZC5wdXNoKGRbZSsrXSk7cmV0dXJuW2pdfWlmKGU9PWYpcmV0dXJuW0EoYixbXSxjLWIpXTtmb3IodmFyIGs9eCh3KGEsYixjLGQsZSxmKSksaj12b2lkIDAsbD1bXSxtPWIsbj1lLG89MDtvPGsubGVuZ3RoO28rKylzd2l0Y2goa1tvXSl7Y2FzZSBhYjpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgYmI6anx8KGo9QShtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKyssai5yZW1vdmVkLnB1c2goZFtuXSksbisrO2JyZWFrO2Nhc2UgY2I6anx8KGo9QShtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKys7YnJlYWs7Y2FzZSBkYjpqfHwoaj1BKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9ZnVuY3Rpb24gQyhhLGIsYyxkKXtyZXR1cm4gYz5ifHxhPmQ/LTE6Yj09Y3x8ZD09YT8wOmM+YT9kPmI/Yi1jOmQtYzpiPmQ/ZC1hOmItYX1mdW5jdGlvbiBEKGEsYixjLGQpe2Zvcih2YXIgZT1BKGIsYyxkKSxmPSExLGc9MCxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBpPWFbaF07aWYoaS5pbmRleCs9ZywhZil7dmFyIGo9QyhlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIEUoYSxiKXtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3N3aXRjaChnLnR5cGUpe2Nhc2Uic3BsaWNlIjpEKGUsZy5pbmRleCxnLnJlbW92ZWQuc2xpY2UoKSxnLmFkZGVkQ291bnQpO2JyZWFrO2Nhc2UibmV3IjpjYXNlInVwZGF0ZWQiOmNhc2UiZGVsZXRlZCI6aWYoIWMoZy5uYW1lKSljb250aW51ZTt2YXIgaD1kKGcubmFtZSk7aWYoMD5oKWNvbnRpbnVlO0QoZSxoLFtnLm9sZFZhbHVlXSwxKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoIlVuZXhwZWN0ZWQgcmVjb3JkIHR5cGU6ICIrSlNPTi5zdHJpbmdpZnkoZykpfX1yZXR1cm4gZX1mdW5jdGlvbiBGKGEsYil7dmFyIGM9W107cmV0dXJuIEUoYSxiKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiAxPT1iLmFkZGVkQ291bnQmJjE9PWIucmVtb3ZlZC5sZW5ndGg/KGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSx2b2lkIDApOihjPWMuY29uY2F0KEIoYSxiLmluZGV4LGIuaW5kZXgrYi5hZGRlZENvdW50LGIucmVtb3ZlZCwwLGIucmVtb3ZlZC5sZW5ndGgpKSx2b2lkIDApfSksY312YXIgRz1iKCksSD0hMTt0cnl7dmFyIEk9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtIPUkoKX1jYXRjaChKKXt9dmFyIEs9YS5OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGIpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYiYmYS5pc05hTihiKX0sTD0iX19wcm90b19fImlue30/ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OmZ1bmN0aW9uKGEpe3ZhciBiPWEuX19wcm90b19fO2lmKCFiKXJldHVybiBhO3ZhciBjPU9iamVjdC5jcmVhdGUoYik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsYixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYikpfSksY30sTT0iWyRfYS16QS1aXSIsTj0iWyRfYS16QS1aMC05XSIsTz1NKyIrIitOKyIqIixQPSIoPzpbMC05XXxbMS05XStbMC05XSspIixRPSIoPzoiK08rInwiK1ArIikiLFI9Iig/OiIrUSsiKSg/OlxcLiIrUSsiKSoiLFM9bmV3IFJlZ0V4cCgiXiIrUisiJCIpLFQ9e307aS5wcm90b3R5cGU9TCh7X19wcm90b19fOltdLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuam9pbigiLiIpfSxnZXRWYWx1ZUZyb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmxlbmd0aDtiKyspe2lmKHZvaWQgMD09PWF8fG51bGw9PT1hKXJldHVybjthPWFbdGhpc1tiXV19cmV0dXJuIGF9LGdldFZhbHVlRnJvbU9ic2VydmVkOmZ1bmN0aW9uKGEsYil7Yi5yZXNldCgpO2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZih2b2lkIDA9PT1hfHxudWxsPT09YSlyZXR1cm4gYi5jbGVhbnVwKCksdm9pZCAwO2Iub2JzZXJ2ZShhKSxhPWFbdGhpc1tjXV19cmV0dXJuIGF9LGNvbXBpbGVkR2V0VmFsdWVGcm9tRm46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYyhhKT8nWyInK2ErJyJdJzoiLiIrYX0pLGI9IiIsZD0ib2JqIjtiKz0iaWYgKG9iaiAhPT0gbnVsbCAmJiBvYmogIT09IHVuZGVmaW5lZCI7Zm9yKHZhciBlPTA7ZTx0aGlzLmxlbmd0aC0xO2UrKyl0aGlzW2VdLGQrPWFbZV0sYis9IiAmJlxuICAgICAiK2QrIiAhPT0gbnVsbCAmJiAiK2QrIiAhPT0gdW5kZWZpbmVkIjtyZXR1cm4gYis9IilcbiIsZCs9YVtlXSxiKz0iICByZXR1cm4gIitkKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZih2b2lkIDA9PT1hfHxudWxsPT09YSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PT1hPyExOihhW3RoaXNbdGhpcy5sZW5ndGgtMV1dPWIsITApfX0pO3ZhciBVPTFlMztvLnByb3RvdHlwZT17dmFsaWQ6ITEsaW50ZXJuYWxDYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLnZhbGlkJiZ0aGlzLnJlcG9ydGluZyYmdGhpcy5jaGVjayhhKSYmKHRoaXMucmVwb3J0KCksdGhpcy50ZXN0aW5nUmVzdWx0cyYmKHRoaXMudGVzdGluZ1Jlc3VsdHMuYW55Q2hhbmdlZD0hMCkpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMudmFsaWQmJigiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vYmplY3QudW5vYnNlcnZlZCYmdGhpcy5vYmplY3QudW5vYnNlcnZlZCgpLHRoaXMuZGlzY29ubmVjdCgpLHRoaXMub2JqZWN0PXZvaWQgMCx0aGlzLnZhbGlkPSExKX0sZGVsaXZlcjpmdW5jdGlvbihhKXt0aGlzLnZhbGlkJiYoRz8odGhpcy50ZXN0aW5nUmVzdWx0cz1hLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3Jkcyh0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjayksdGhpcy50ZXN0aW5nUmVzdWx0cz12b2lkIDApOmoodGhpcykpfSxyZXBvcnQ6ZnVuY3Rpb24oKXtpZih0aGlzLnJlcG9ydGluZyl7dGhpcy5zeW5jKCExKSx0aGlzLnJlcG9ydEFyZ3MucHVzaCh0aGlzLnRva2VuKTt0cnl7dGhpcy5jYWxsYmFjay5hcHBseSh0aGlzLnRhcmdldCx0aGlzLnJlcG9ydEFyZ3MpfWNhdGNoKGEpe28uX2Vycm9yVGhyb3duRHVyaW5nQ2FsbGJhY2s9ITAsY29uc29sZS5lcnJvcigiRXhjZXB0aW9uIGNhdWdodCBkdXJpbmcgb2JzZXJ2ZXIgY2FsbGJhY2s6ICIrYSl9dGhpcy5yZXBvcnRBcmdzPXZvaWQgMH19LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy52YWxpZCYmKEcmJih0aGlzLnJlcG9ydGluZz0hMSxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHModGhpcy5ib3VuZEludGVybmFsQ2FsbGJhY2spLHRoaXMucmVwb3J0aW5nPSEwKSx0aGlzLnN5bmMoITApKX19O3ZhciBWLFc9IUd8fGEuZm9yY2VDb2xsZWN0T2JzZXJ2ZXJzO28uX2FsbE9ic2VydmVyc0NvdW50PTAsVyYmKFY9W10pO3ZhciBYPSExLFk9ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWxpdmVyQWxsQ2hhbmdlUmVjb3JkczthLlBsYXRmb3JtPWEuUGxhdGZvcm18fHt9LGEuUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQ9ZnVuY3Rpb24oKXtpZighWCl7aWYoWSlyZXR1cm4gT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzKCksdm9pZCAwO2lmKFcpe1g9ITA7dmFyIGE9MCxiPXt9O2Rve2ErKzt2YXIgYz1WO1Y9W10sYi5hbnlDaGFuZ2VkPSExO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2UudmFsaWQmJihHP2UuZGVsaXZlcihiKTplLmNoZWNrKCkmJihiLmFueUNoYW5nZWQ9ITAsZS5yZXBvcnQoKSksVi5wdXNoKGUpKX19d2hpbGUoVT5hJiZiLmFueUNoYW5nZWQpO28uX2FsbE9ic2VydmVyc0NvdW50PVYubGVuZ3RoLFg9ITF9fX0sVyYmKGEuUGxhdGZvcm0uY2xlYXJPYnNlcnZlcnM9ZnVuY3Rpb24oKXtWPVtdfSkscS5wcm90b3R5cGU9TCh7X19wcm90b19fOm8ucHJvdG90eXBlLGNvbm5lY3Q6ZnVuY3Rpb24oKXtHJiZPYmplY3Qub2JzZXJ2ZSh0aGlzLm9iamVjdCx0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjayl9LHN5bmM6ZnVuY3Rpb24oKXtHfHwodGhpcy5vbGRPYmplY3Q9bih0aGlzLm9iamVjdCkpfSxjaGVjazpmdW5jdGlvbihhKXt2YXIgYixjO2lmKEcpe2lmKCFhKXJldHVybiExO2M9e30sYj12KHRoaXMub2JqZWN0LGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0LGI9bSh0aGlzLm9iamVjdCx0aGlzLm9sZE9iamVjdCk7cmV0dXJuIGwoYik/ITE6KHRoaXMucmVwb3J0QXJncz1bYi5hZGRlZHx8e30sYi5yZW1vdmVkfHx7fSxiLmNoYW5nZWR8fHt9XSx0aGlzLnJlcG9ydEFyZ3MucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gY1thXX0pLCEwKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe0c/dGhpcy5vYmplY3QmJk9iamVjdC51bm9ic2VydmUodGhpcy5vYmplY3QsdGhpcy5ib3VuZEludGVybmFsQ2FsbGJhY2spOnRoaXMub2xkT2JqZWN0PXZvaWQgMH19KSxyLnByb3RvdHlwZT1MKHtfX3Byb3RvX186cS5wcm90b3R5cGUsY29ubmVjdDpmdW5jdGlvbigpe0cmJkFycmF5Lm9ic2VydmUodGhpcy5vYmplY3QsdGhpcy5ib3VuZEludGVybmFsQ2FsbGJhY2spfSxzeW5jOmZ1bmN0aW9uKCl7R3x8KHRoaXMub2xkT2JqZWN0PXRoaXMub2JqZWN0LnNsaWNlKCkpfSxjaGVjazpmdW5jdGlvbihhKXt2YXIgYjtpZihHKXtpZighYSlyZXR1cm4hMTtiPUYodGhpcy5vYmplY3QsYSl9ZWxzZSBiPUIodGhpcy5vYmplY3QsMCx0aGlzLm9iamVjdC5sZW5ndGgsdGhpcy5vbGRPYmplY3QsMCx0aGlzLm9sZE9iamVjdC5sZW5ndGgpO3JldHVybiBiJiZiLmxlbmd0aD8odGhpcy5yZXBvcnRBcmdzPVtiXSwhMCk6ITF9fSksci5hcHBseVNwbGljZXM9ZnVuY3Rpb24oYSxiLGMpe2MuZm9yRWFjaChmdW5jdGlvbihjKXtmb3IodmFyIGQ9W2MuaW5kZXgsYy5yZW1vdmVkLmxlbmd0aF0sZT1jLmluZGV4O2U8Yy5pbmRleCtjLmFkZGVkQ291bnQ7KWQucHVzaChiW2VdKSxlKys7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhLGQpfSl9O3ZhciBaPU9iamVjdC5nZXRQcm90b3R5cGVPZih7fSksJD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoW10pO3MucHJvdG90eXBlPXtyZXNldDpmdW5jdGlvbigpe3RoaXMuaXNPYnNlcnZlZD0hdGhpcy5pc09ic2VydmVkfSxvYnNlcnZlOmZ1bmN0aW9uKGEpe2lmKGUoYSkmJmEhPT1aJiZhIT09JCl7dmFyIGI9dGhpcy5hcnIuaW5kZXhPZihhKTtiPj0wJiZ0aGlzLmFycltiKzFdPT09dGhpcy5pc09ic2VydmVkfHwoMD5iJiYoYj10aGlzLmFyci5sZW5ndGgsdGhpcy5hcnJbYl09YSxPYmplY3Qub2JzZXJ2ZShhLHRoaXMuY2FsbGJhY2spKSx0aGlzLmFycltiKzFdPXRoaXMuaXNPYnNlcnZlZCx0aGlzLm9ic2VydmUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpKSl9fSxjbGVhbnVwOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGM9dGhpcy5pc09ic2VydmVkO2I8dGhpcy5hcnIubGVuZ3RoOyl7dmFyIGQ9dGhpcy5hcnJbYl07dGhpcy5hcnJbYisxXT09Yz8oYj5hJiYodGhpcy5hcnJbYV09ZCx0aGlzLmFyclthKzFdPWMpLGErPTIpOk9iamVjdC51bm9ic2VydmUoZCx0aGlzLmNhbGxiYWNrKSxiKz0yfXRoaXMuYXJyLmxlbmd0aD1hfX0sdC5wcm90b3R5cGU9TCh7X19wcm90b19fOm8ucHJvdG90eXBlLGNvbm5lY3Q6ZnVuY3Rpb24oKXtHJiYodGhpcy5vYnNlcnZlZFNldD1uZXcgcyh0aGlzLmJvdW5kSW50ZXJuYWxDYWxsYmFjaykpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy52YWx1ZT12b2lkIDAsRyYmKHRoaXMub2JzZXJ2ZWRTZXQucmVzZXQoKSx0aGlzLm9ic2VydmVkU2V0LmNsZWFudXAoKSx0aGlzLm9ic2VydmVkU2V0PXZvaWQgMCl9LGNoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWU9Rz90aGlzLnBhdGguZ2V0VmFsdWVGcm9tT2JzZXJ2ZWQodGhpcy5vYmplY3QsdGhpcy5vYnNlcnZlZFNldCk6dGhpcy5wYXRoLmdldFZhbHVlRnJvbSh0aGlzLm9iamVjdCksZih0aGlzLnZhbHVlLHRoaXMub2xkVmFsdWUpPyExOih0aGlzLnJlcG9ydEFyZ3M9W3RoaXMudmFsdWUsdGhpcy5vbGRWYWx1ZV0sITApfSxzeW5jOmZ1bmN0aW9uKGEpe2EmJih0aGlzLnZhbHVlPUc/dGhpcy5wYXRoLmdldFZhbHVlRnJvbU9ic2VydmVkKHRoaXMub2JqZWN0LHRoaXMub2JzZXJ2ZWRTZXQpOnRoaXMucGF0aC5nZXRWYWx1ZUZyb20odGhpcy5vYmplY3QpKSx0aGlzLm9sZFZhbHVlPXRoaXMudmFsdWV9fSksdC5nZXRWYWx1ZUF0UGF0aD1mdW5jdGlvbihhLGIpe3ZhciBjPWgoYik7cmV0dXJuIGM/Yy5nZXRWYWx1ZUZyb20oYSk6dm9pZCAwfSx0LnNldFZhbHVlQXRQYXRoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1oKGIpO2QmJmQuc2V0VmFsdWVGcm9tKGEsYyl9O3ZhciBfPXsibmV3IjohMCx1cGRhdGVkOiEwLGRlbGV0ZWQ6ITB9O3QuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMub2JqZWN0LGU9aChjLnBhdGgpLGY9dShhLGIpLGc9bmV3IHQoZCxjLnBhdGgsZnVuY3Rpb24oYSxiKXtmJiZmKCJ1cGRhdGVkIixiKX0pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRWYWx1ZUZyb20oZCl9LHNldDpmdW5jdGlvbihhKXtlLnNldFZhbHVlRnJvbShkLGEpfSxjb25maWd1cmFibGU6ITB9KSx7Y2xvc2U6ZnVuY3Rpb24oKXt2YXIgYz1lLmdldFZhbHVlRnJvbShkKTtmJiZnLmRlbGl2ZXIoKSxnLmNsb3NlKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7dmFsdWU6Yyx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19fTt2YXIgYWI9MCxiYj0xLGNiPTIsZGI9MzthLk9ic2VydmVyPW8sYS5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPUcsYS5BcnJheU9ic2VydmVyPXIsYS5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQihhLDAsYS5sZW5ndGgsYiwwLGIubGVuZ3RoKX0sYS5PYmplY3RPYnNlcnZlcj1xLGEuUGF0aE9ic2VydmVyPXQsYS5QYXRoPWl9KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBkKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuY29udGFpbnMoYSl9ZnVuY3Rpb24gZShhLGIsYyxkKXt0aGlzLmNsb3NlZD0hMSx0aGlzLm5vZGU9YSx0aGlzLnByb3BlcnR5PWIsdGhpcy5tb2RlbD1jLHRoaXMucGF0aD1kLHRoaXMub2JzZXJ2ZXI9bmV3IFBhdGhPYnNlcnZlcihjLGQsdGhpcy5ib3VuZFZhbHVlQ2hhbmdlZCx0aGlzKSx0aGlzLmJvdW5kVmFsdWVDaGFuZ2VkKHRoaXMudmFsdWUpfWZ1bmN0aW9uIGYoYSxiLGMsZCl7dGhpcy5jb25kaXRpb25hbD0iPyI9PWJbYi5sZW5ndGgtMV0sdGhpcy5jb25kaXRpb25hbCYmKGEucmVtb3ZlQXR0cmlidXRlKGIpLGI9Yi5zbGljZSgwLC0xKSksZS5jYWxsKHRoaXMsYSxiLGMsZCl9ZnVuY3Rpb24gZyhhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gVDtjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtkZWZhdWx0OnJldHVybiJpbnB1dCJ9fWZ1bmN0aW9uIGgoYSxiLGMsZCl7ZS5jYWxsKHRoaXMsYSxiLGMsZCksdGhpcy5ldmVudFR5cGU9Zyh0aGlzLm5vZGUpLHRoaXMuYm91bmROb2RlVmFsdWVUb01vZGVsPXRoaXMubm9kZVZhbHVlQ2hhbmdlZC5iaW5kKHRoaXMpLHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRUeXBlLHRoaXMuYm91bmROb2RlVmFsdWVUb01vZGVsLCEwKX1mdW5jdGlvbiBpKGEpe2lmKCFkKGEpKXJldHVybltdO2lmKGEuZm9ybSlyZXR1cm4gUShhLmZvcm0uZWxlbWVudHMsZnVuY3Rpb24oYil7cmV0dXJuIGIhPWEmJiJJTlBVVCI9PWIudGFnTmFtZSYmInJhZGlvIj09Yi50eXBlJiZiLm5hbWU9PWEubmFtZX0pO3ZhciBiPWEub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPSJyYWRpbyJdW25hbWU9IicrYS5uYW1lKyciXScpO3JldHVybiBRKGIsZnVuY3Rpb24oYil7cmV0dXJuIGIhPWEmJiFiLmZvcm19KX1mdW5jdGlvbiBqKGEsYixjKXtoLmNhbGwodGhpcyxhLCJjaGVja2VkIixiLGMpfWZ1bmN0aW9uIGsoYSxiLGMpe2guY2FsbCh0aGlzLGEsInNlbGVjdGVkSW5kZXgiLGIsYyl9ZnVuY3Rpb24gbChhKXtyZXR1cm4gJFthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKX1mdW5jdGlvbiBtKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZXx8bChhKX1mdW5jdGlvbiBuKGEpe3JldHVybiBfJiYiVEVNUExBVEUiPT1hLnRhZ05hbWV9ZnVuY3Rpb24gbyhhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbChhYik7bShhKSYmYihhKSxQKGMsYil9ZnVuY3Rpb24gcChhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fHAoYS5jb250ZW50KX1vKGEsYil9ZnVuY3Rpb24gcShhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gcihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1lYi5nZXQoYSk7aWYoIWIpe2ZvcihiPWEuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtiLmxhc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmxhc3RDaGlsZCk7ZWIuc2V0KGEsYil9cmV0dXJuIGJ9ZnVuY3Rpb24gcyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtaW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIGQuYXBwZW5kQ2hpbGQoYiksdm9pZCAwO2Zvcih2YXIgZTtlPWIuZmlyc3RDaGlsZDspZC5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiB1KGEpeyJURU1QTEFURSI9PT1hLnRhZ05hbWU/X3x8KGNiP2EuX19wcm90b19fPUhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlOnEoYSxIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSkpOihxKGEsSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJjb250ZW50IixpYikpfWZ1bmN0aW9uIHYoYSl7dmFyIGI9bGIuZ2V0KGEpO2J8fChiPWZ1bmN0aW9uKCl7SChhLGEubW9kZWwsYS5iaW5kaW5nRGVsZWdhdGUpfSxsYi5zZXQoYSxiKSksYmIoYil9ZnVuY3Rpb24gdyhhLGIsYyxkKXt0aGlzLmNsb3NlZD0hMSx0aGlzLm5vZGU9YSx0aGlzLnByb3BlcnR5PWIsdGhpcy5tb2RlbD1jLHRoaXMucGF0aD1kLHRoaXMubm9kZS5pbnB1dHMuYmluZCh0aGlzLnByb3BlcnR5LGMsZHx8IiIpfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIDM9PWEubGVuZ3RoJiYwPT1hWzBdLmxlbmd0aCYmMD09YVsyXS5sZW5ndGh9ZnVuY3Rpb24geShhKXtpZihhJiZhLmxlbmd0aCl7Zm9yKHZhciBiLGM9YS5sZW5ndGgsZD0wLGU9MCxmPTA7Yz5lOyl7aWYoZD1hLmluZGV4T2YoInt7IixlKSxmPTA+ZD8tMTphLmluZGV4T2YoIn19IixkKzIpLDA+Zil7aWYoIWIpcmV0dXJuO2IucHVzaChhLnNsaWNlKGUpKTticmVha31iPWJ8fFtdLGIucHVzaChhLnNsaWNlKGUsZCkpLGIucHVzaChhLnNsaWNlKGQrMixmKS50cmltKCkpLGU9ZisyfXJldHVybiBlPT09YyYmYi5wdXNoKCIiKSxifX1mdW5jdGlvbiB6KGEsYixjLGQsZSl7dmFyIGYsZz1lJiZlW1hdO3JldHVybiBnJiYiZnVuY3Rpb24iPT10eXBlb2YgZyYmKGY9ZyhjLGQsYixhKSxmJiYoYz1mLGQ9InZhbHVlIikpLGEuYmluZChiLGMsZCl9ZnVuY3Rpb24gQShhLGIsYyxkLGUpe2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7Zis9Mil7dmFyIGc9QyhiLGFbZl0sYVtmKzFdLGMsZCk7ZSYmZS5wdXNoKGcpfX1mdW5jdGlvbiBCKGEpe3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9IiIsZD0wLGU9ITA7ZDxhLmxlbmd0aDtkKyssZT0hZSlpZihlKWMrPWFbZF07ZWxzZXt2YXIgZj1iW2RdO3ZvaWQgMCE9PWYmJihjKz1mKX1yZXR1cm4gY319ZnVuY3Rpb24gQyhhLGIsYyxkLGUpe2lmKHgoYykpcmV0dXJuIHooYSxiLGQsY1sxXSxlKTtjLmNvbWJpbmF0b3I9Yy5jb21iaW5hdG9yfHxCKGMpO3ZhciBmPW5ldyBNKGMuY29tYmluYXRvcik7Zi5zY2hlZHVsZWQ9ITA7Zm9yKHZhciBnPTE7ZzxjLmxlbmd0aDtnKz0yKXooZixnLGQsY1tnXSxlKTtyZXR1cm4gZi5yZXNvbHZlKCksYS5iaW5kKGIsZiwidmFsdWUiKX1mdW5jdGlvbiBEKGEpe2IoYSk7Zm9yKHZhciBjLGQ9bShhKSxlPSExLGY9ITEsZz0wO2c8YS5hdHRyaWJ1dGVzLmxlbmd0aDtnKyspe3ZhciBoPWEuYXR0cmlidXRlc1tnXSxpPWgubmFtZSxqPWgudmFsdWU7ZCYmKGk9PT1XP2U9ITA6KGk9PT1VfHxpPT09VikmJihmPSEwLGo9anx8Int7fX0iKSk7dmFyIGs9eShqKTtrJiYoYz1jfHxbXSxjLnB1c2goaSxrKSl9cmV0dXJuIGUmJiFmJiYoYz1jfHxbXSxjLnB1c2goVSx5KCJ7e319IikpKSxjfWZ1bmN0aW9uIEUoYSl7aWYoYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiBEKGEpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGI9eShhLmRhdGEpO2lmKGIpcmV0dXJuWyJ0ZXh0Q29udGVudCIsYl19fWZ1bmN0aW9uIEYoYSl7dGhpcy5ub2RlPWF9ZnVuY3Rpb24gRyhhLGIsYyxkLGUpe2lmKGImJihiLnRlbXBsYXRlUmVmJiYoSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZShhLGIudGVtcGxhdGVSZWYpLGQmJmtiLnNldChhLGQpLGUmJmUucHVzaChuZXcgRihhKSkpLGIubGVuZ3RoJiZBKGIsYSxjLGQsZSksYi5jaGlsZHJlbikpZm9yKHZhciBmPTAsZz1hLmZpcnN0Q2hpbGQ7ZztnPWcubmV4dFNpYmxpbmcpRyhnLGIuY2hpbGRyZW5bZisrXSxjLGQsZSl9ZnVuY3Rpb24gSChhLGMsZCl7YihhKTt2YXIgZT1FKGEpO2UmJkEoZSxhLGMsZCk7Zm9yKHZhciBmPWEuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZylIKGYsYyxkKX1mdW5jdGlvbiBJKGEsYil7dmFyIGM9YS5jbG9uZU5vZGUoITEpO2lmKG0oYykpcmV0dXJuIGM7Zm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyljLmFwcGVuZENoaWxkKEkoZCxiKSk7cmV0dXJuIGN9ZnVuY3Rpb24gSihhKXt2YXIgYj1FKGEpO20oYSkmJihiPWJ8fFtdLGIudGVtcGxhdGVSZWY9YSxiLmhhc1N1YlRlbXBsYXRlPSEwKTtmb3IodmFyIGM9YS5maXJzdENoaWxkLGQ9MDtjO2M9Yy5uZXh0U2libGluZyxkKyspe3ZhciBlPUooYyk7ZSYmKGI9Ynx8W10sYi5jaGlsZHJlbj1iLmNoaWxkcmVufHxbXSxiLmNoaWxkcmVuW2RdPWUsZS5oYXNTdWJUZW1wbGF0ZSYmKGIuaGFzU3ViVGVtcGxhdGU9ITApKX1yZXR1cm4gYn1mdW5jdGlvbiBLKGEsYixjKXt0aGlzLmZpcnN0Tm9kZT1hLHRoaXMubGFzdE5vZGU9Yix0aGlzLm1vZGVsPWN9ZnVuY3Rpb24gTChhLGIpe2lmKGEuZmlyc3RDaGlsZClmb3IodmFyIGM9bmV3IEsoYS5maXJzdENoaWxkLGEubGFzdENoaWxkLGIpLGQ9Yy5maXJzdE5vZGU7ZDspbWIuc2V0KGQsYyksZD1kLm5leHRTaWJsaW5nfWZ1bmN0aW9uIE0oYSl7dGhpcy5vYnNlcnZlcnM9e30sdGhpcy52YWx1ZXM9e30sdGhpcy52YWx1ZT12b2lkIDAsdGhpcy5zaXplPTAsdGhpcy5jb21iaW5hdG9yXz1hLHRoaXMuY2xvc2VkPSExLHRoaXMuc2NoZWR1bGVkPSExfWZ1bmN0aW9uIE4oYSl7dGhpcy5jbG9zZWQ9ITEsdGhpcy50ZW1wbGF0ZUVsZW1lbnRfPWEsdGhpcy50ZXJtaW5hdG9ycz1bXSx0aGlzLml0ZXJhdGVkVmFsdWU9dm9pZCAwLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDAsdGhpcy5pbnB1dHM9bmV3IE0odGhpcy5yZXNvbHZlSW5wdXRzLmJpbmQodGhpcykpfXZhciBPLFA9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxRPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpO2EuTWFwJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5NYXAucHJvdG90eXBlLmZvckVhY2g/Tz1hLk1hcDooTz1mdW5jdGlvbigpe3RoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX0sTy5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpOzA+Yz8odGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSk6dGhpcy52YWx1ZXNbY109Yn0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiAwPmI/dm9pZCAwOnRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7dmFyIFI9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9OyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KTt2YXIgUzsidW5kZWZpbmVkIiE9dHlwZW9mIFdlYWtNYXAmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8iKTwwP1M9V2Vha01hcDpmdW5jdGlvbigpe3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxjPShuZXcgRGF0ZSkuZ2V0VGltZSgpJTFlOTtTPWZ1bmN0aW9uKCl7dGhpcy5uYW1lPSJfX3N0IisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSsoYysrICsiX18iKX0sUy5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihiLGMpe2EoYix0aGlzLm5hbWUse3ZhbHVlOmMsd3JpdGFibGU6ITB9KX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBiLmNhbGwoYSx0aGlzLm5hbWUpP2FbdGhpcy5uYW1lXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3RoaXMuc2V0KGEsdm9pZCAwKX19fSgpLE5vZGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5nc3x8e307dmFyIGQ9dGhpcy5iaW5kaW5nc1thXTtyZXR1cm4gZCYmZC5jbG9zZSgpLGQ9dGhpcy5jcmVhdGVCaW5kaW5nKGEsYixjKSx0aGlzLmJpbmRpbmdzW2FdPWQsZD9kOihjb25zb2xlLmVycm9yKCJVbmhhbmRsZWQgYmluZGluZyB0byBOb2RlOiAiLHRoaXMsYSxiLGMpLHZvaWQgMCl9LE5vZGUucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmc9ZnVuY3Rpb24oKXt9LE5vZGUucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhKXtpZih0aGlzLmJpbmRpbmdzKXt2YXIgYj10aGlzLmJpbmRpbmdzW2FdO2ImJihiLmNsb3NlKCksZGVsZXRlIHRoaXMuYmluZGluZ3NbYV0pfX0sTm9kZS5wcm90b3R5cGUudW5iaW5kQWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5iaW5kaW5ncyl7Zm9yKHZhciBhPU9iamVjdC5rZXlzKHRoaXMuYmluZGluZ3MpLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5iaW5kaW5nc1thW2JdXTtjJiZjLmNsb3NlKCl9dGhpcy5iaW5kaW5ncz17fX19LGUucHJvdG90eXBlPXtib3VuZFZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhKXt0aGlzLm5vZGVbdGhpcy5wcm9wZXJ0eV09dGhpcy5zYW5pdGl6ZUJvdW5kVmFsdWUoYSl9LHNhbml0aXplQm91bmRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT1hPyIiOlN0cmluZyhhKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMub2JzZXJ2ZXIuY2xvc2UoKSx0aGlzLm9ic2VydmVyPXZvaWQgMCx0aGlzLm5vZGU9dm9pZCAwLHRoaXMubW9kZWw9dm9pZCAwLHRoaXMuY2xvc2VkPSEwKX0sZ2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMub2JzZXJ2ZXIudmFsdWV9LHNldCB2YWx1ZShhKXtQYXRoT2JzZXJ2ZXIuc2V0VmFsdWVBdFBhdGgodGhpcy5tb2RlbCx0aGlzLnBhdGgsYSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlci5yZXNldCgpfX0sVGV4dC5wcm90b3R5cGUuY3JlYXRlQmluZGluZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuInRleHRDb250ZW50Ij09PWE/bmV3IGUodGhpcywiZGF0YSIsYixjKTpOb2RlLnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nLmNhbGwodGhpcyxhLGIsYyl9LGYucHJvdG90eXBlPVIoe19fcHJvdG9fXzplLnByb3RvdHlwZSxib3VuZFZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb25kaXRpb25hbD8oYT90aGlzLm5vZGUuc2V0QXR0cmlidXRlKHRoaXMucHJvcGVydHksIiIpOnRoaXMubm9kZS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5wcm9wZXJ0eSksdm9pZCAwKToodGhpcy5ub2RlLnNldEF0dHJpYnV0ZSh0aGlzLnByb3BlcnR5LHRoaXMuc2FuaXRpemVCb3VuZFZhbHVlKGEpKSx2b2lkIDApfX0pLEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgZih0aGlzLGEsYixjKX07dmFyIFQ7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLFQ9MT09ZD8iY2hhbmdlIjpjfSgpLGgucHJvdG90eXBlPVIoe19fcHJvdG9fXzplLnByb3RvdHlwZSxub2RlVmFsdWVDaGFuZ2VkOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZT10aGlzLm5vZGVbdGhpcy5wcm9wZXJ0eV0sdGhpcy5yZXNldCgpLHRoaXMucG9zdFVwZGF0ZUJpbmRpbmcoKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfSxwb3N0VXBkYXRlQmluZGluZzpmdW5jdGlvbigpe30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRUeXBlLHRoaXMuYm91bmROb2RlVmFsdWVUb01vZGVsLCEwKSxlLnByb3RvdHlwZS5jbG9zZS5jYWxsKHRoaXMpKX19KSxqLnByb3RvdHlwZT1SKHtfX3Byb3RvX186aC5wcm90b3R5cGUsc2FuaXRpemVCb3VuZFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBCb29sZWFuKGEpfSxwb3N0VXBkYXRlQmluZGluZzpmdW5jdGlvbigpeyJJTlBVVCI9PT10aGlzLm5vZGUudGFnTmFtZSYmInJhZGlvIj09PXRoaXMubm9kZS50eXBlJiZpKHRoaXMubm9kZSkuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLmJpbmRpbmdzLmNoZWNrZWQ7YiYmKGIudmFsdWU9ITEpfSl9fSksSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQmluZGluZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuInZhbHVlIj09PWE/KHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLG5ldyBoKHRoaXMsInZhbHVlIixiLGMpKToiY2hlY2tlZCI9PT1hPyh0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxuZXcgaih0aGlzLGIsYykpOkhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nLmNhbGwodGhpcyxhLGIsYyl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiJ2YWx1ZSI9PT1hPyh0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxuZXcgaCh0aGlzLGEsYixjKSk6SFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmcuY2FsbCh0aGlzLGEsYixjKX0say5wcm90b3R5cGU9Uih7X19wcm90b19fOmgucHJvdG90eXBlLGJvdW5kVmFsdWVDaGFuZ2VkOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjPmUubm9kZS5sZW5ndGgmJmQtLT9iYihiKTplLm5vZGVbZS5wcm9wZXJ0eV09Y312YXIgYz1OdW1iZXIoYSk7aWYoYzw9dGhpcy5ub2RlLmxlbmd0aClyZXR1cm4gdGhpcy5ub2RlW3RoaXMucHJvcGVydHldPWMsdm9pZCAwO3ZhciBkPTIsZT10aGlzO2JiKGIpfX0pLEhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4ic2VsZWN0ZWRpbmRleCI9PT1hLnRvTG93ZXJDYXNlKCk/KHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLG5ldyBrKHRoaXMsYixjKSk6SFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmcuY2FsbCh0aGlzLGEsYixjKX07dmFyIFU9ImJpbmQiLFY9InJlcGVhdCIsVz0iaWYiLFg9ImdldEJpbmRpbmciLFk9ImdldEluc3RhbmNlTW9kZWwiLFo9e3RlbXBsYXRlOiEwLHJlcGVhdDohMCxiaW5kOiEwLHJlZjohMH0sJD17VEhFQUQ6ITAsVEJPRFk6ITAsVEZPT1Q6ITAsVEg6ITAsVFI6ITAsVEQ6ITAsQ09MR1JPVVA6ITAsQ09MOiEwLENBUFRJT046ITAsT1BUSU9OOiEwLE9QVEdST1VQOiEwfSxfPSJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCxhYj0idGVtcGxhdGUsICIrT2JqZWN0LmtleXMoJCkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkrIlt0ZW1wbGF0ZV0ifSkuam9pbigiLCAiKSxiYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5uZXh0UnVubmVyPWEsdGhpcy52YWx1ZT0hMSx0aGlzLmxhc3RWYWx1ZT10aGlzLnZhbHVlLHRoaXMuc2NoZWR1bGVkPVtdLHRoaXMuc2NoZWR1bGVkSWRzPVtdLHRoaXMucnVubmluZz0hMSx0aGlzLm9ic2VydmVyPW5ldyBQYXRoT2JzZXJ2ZXIodGhpcywidmFsdWUiLHRoaXMucnVuLHRoaXMpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YVtlXTthW2VdfHwoYj1kKyssYVtlXT1iKSxjLnNjaGVkdWxlKGEsYil9YS5wcm90b3R5cGU9e3NjaGVkdWxlOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuc2NoZWR1bGVkSWRzW2JdKXtpZih0aGlzLnJ1bm5pbmcpcmV0dXJuIHRoaXMubmV4dFJ1bm5lci5zY2hlZHVsZShhLGIpO3RoaXMuc2NoZWR1bGVkSWRzW2JdPSEwLHRoaXMuc2NoZWR1bGVkLnB1c2goYSksdGhpcy5sYXN0VmFsdWU9PT10aGlzLnZhbHVlJiYodGhpcy52YWx1ZT0hdGhpcy52YWx1ZSl9fSxydW46ZnVuY3Rpb24oKXt0aGlzLnJ1bm5pbmc9ITA7Zm9yKHZhciBhPTA7YTx0aGlzLnNjaGVkdWxlZC5sZW5ndGg7YSsrKXt2YXIgYj10aGlzLnNjaGVkdWxlZFthXSxjPWJbZV07dGhpcy5zY2hlZHVsZWRJZHNbY109ITEsImZ1bmN0aW9uIj09dHlwZW9mIGI/YigpOmIucmVzb2x2ZSgpfXRoaXMuc2NoZWR1bGVkPVtdLHRoaXMuc2NoZWR1bGVkSWRzPVtdLHRoaXMubGFzdFZhbHVlPXRoaXMudmFsdWUsdGhpcy5ydW5uaW5nPSExfX07dmFyIGM9bmV3IGEobmV3IGEpLGQ9MSxlPSJfX3NjaGVkdWxlZElkX18iO3JldHVybiBifSgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7cChkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLF98fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBjYj0iX19wcm90b19fImlue30sZGI9bmV3IFMsZWI9bmV3IFMsZmI9bmV3IFMsZ2I9bmV3IFM7SFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBlPW4oZCksZj1lLGc9IWUsaD0hMTtpZighZSYmbChkKSYmKGIoIWMpLGQ9cyhhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGU9bihkKSxoPSEwKSwhZSl7dShkKTt2YXIgaT1yKGQub3duZXJEb2N1bWVudCk7ZGIuc2V0KGQsaS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpfXJldHVybiBjP2ZiLnNldChkLGMpOmc/dChkLGEsaCk6ZiYmcChkLmNvbnRlbnQpLCEwfSxIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcD1wO3ZhciBoYj1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsaWI9e2dldDpmdW5jdGlvbigpe3JldHVybiBkYi5nZXQodGhpcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtffHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoYi5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSwiY29udGVudCIsaWIpKTt2YXIgamI9bmV3IFMsa2I9bmV3IFMsbGI9bmV3IFM7dy5wcm90b3R5cGU9Uih7X19wcm90b19fOmUucHJvdG90eXBlLGdldCB2YWx1ZSgpe30sYm91bmRWYWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZWR8fCh0aGlzLm5vZGUuaW5wdXRzLnVuYmluZCh0aGlzLnByb3BlcnR5KSx0aGlzLm5vZGU9dm9pZCAwLHRoaXMubW9kZWw9dm9pZCAwLHRoaXMuY2xvc2VkPSEwKX19KSxxKEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLHtjcmVhdGVCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXtpZihhPT09VXx8YT09PVZ8fGE9PT1XKXt2YXIgZD1uYi5nZXQodGhpcyk7cmV0dXJuIGR8fChkPW5ldyBOKHRoaXMpLG5iLnNldCh0aGlzLGQpKSxuZXcgdyhkLGEsYixjfHwiIil9cmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVCaW5kaW5nLmNhbGwodGhpcyxhLGIsYyl9LGNyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZi5jb250ZW50LGU9Z2IuZ2V0KGQpO2V8fChlPUooZCl8fFtdLGdiLnNldChkLGUpKTt2YXIgZj1lLmhhc1N1YlRlbXBsYXRlP0koZCk6ZC5jbG9uZU5vZGUoITApO3JldHVybiBHKGYsZSxhLGIsYyksTChmLGEpLGZ9LGdldCBtb2RlbCgpe3JldHVybiBqYi5nZXQodGhpcyl9LHNldCBtb2RlbChhKXtqYi5zZXQodGhpcyxhKSx2KHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIGtiLmdldCh0aGlzKX0sc2V0IGJpbmRpbmdEZWxlZ2F0ZShhKXtrYi5zZXQodGhpcyxhKSx2KHRoaXMpfSxnZXQgcmVmKCl7dmFyIGEsYj10aGlzLmdldEF0dHJpYnV0ZSgicmVmIik7aWYoYil7dmFyIGQ9Yyh0aGlzKTtkJiYoYT1kLmdldEVsZW1lbnRCeUlkKGIpKX1pZihhfHwoYT1mYi5nZXQodGhpcykpLCFhKXJldHVybiB0aGlzO3ZhciBlPWEucmVmO3JldHVybiBlP2U6YX19KSxGLnByb3RvdHlwZT17Y2xvc2U6ZnVuY3Rpb24oKXt2YXIgYT1uYi5nZXQodGhpcy5ub2RlKTthJiZhLmNsb3NlKCl9fTt2YXIgbWI9bmV3IFM7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCJ0ZW1wbGF0ZUluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9bWIuZ2V0KHRoaXMpO3JldHVybiBhP2E6dGhpcy5wYXJlbnROb2RlP3RoaXMucGFyZW50Tm9kZS50ZW1wbGF0ZUluc3RhbmNlOnZvaWQgMH19KSxNLnByb3RvdHlwZT17c2V0IGNvbWJpbmF0b3IoYSl7dGhpcy5jb21iaW5hdG9yXz1hLHRoaXMuc2NoZWR1bGVSZXNvbHZlKCl9LHBhdGhWYWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMudmFsdWVzW2NdPWEsdGhpcy5zY2hlZHVsZVJlc29sdmUoKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7dGhpcy51bmJpbmQoYSksdGhpcy5zaXplKys7dmFyIGQ9bmV3IFBhdGhPYnNlcnZlcihiLGMsdGhpcy5wYXRoVmFsdWVDaGFuZ2VkLHRoaXMsYSk7dGhpcy5vYnNlcnZlcnNbYV09ZCx0aGlzLnBhdGhWYWx1ZUNoYW5nZWQoZC52YWx1ZSx2b2lkIDAsYSl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3RoaXMub2JzZXJ2ZXJzW2FdJiYodGhpcy5zaXplLS0sdGhpcy5vYnNlcnZlcnNbYV0uY2xvc2UoKSxkZWxldGUgdGhpcy5vYnNlcnZlcnNbYV0sZGVsZXRlIHRoaXMudmFsdWVzW2FdLGJ8fHRoaXMuc2NoZWR1bGVSZXNvbHZlKCkpfSxzY2hlZHVsZVJlc29sdmU6ZnVuY3Rpb24oKXt0aGlzLnNjaGVkdWxlZHx8KHRoaXMuc2NoZWR1bGVkPSEwLGJiKHRoaXMpKX0scmVzb2x2ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7aWYoIXRoaXMuY29tYmluYXRvcl8pdGhyb3cgRXJyb3IoIkNvbXBvdW5kQmluZGluZyBhdHRlbXB0ZWQgdG8gcmVzb2x2ZSB3aXRob3V0IGEgY29tYmluYXRvciIpO3RoaXMudmFsdWU9dGhpcy5jb21iaW5hdG9yXyh0aGlzLnZhbHVlcyksdGhpcy5zY2hlZHVsZWQ9ITF9fSx1bm9ic2VydmVkOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuY2xvc2VkfHwoT2JqZWN0LmtleXModGhpcy5vYnNlcnZlcnMpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy51bmJpbmQoYSwhMCl9LHRoaXMpLHRoaXMuY2xvc2VkPSEwLHRoaXMudmFsdWU9dm9pZCAwKX19LE4ucHJvdG90eXBlPXtyZXNvbHZlSW5wdXRzOmZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VkfHwoVyBpbiBhJiYhYVtXXT90aGlzLnZhbHVlQ2hhbmdlZCh2b2lkIDApOlYgaW4gYT90aGlzLnZhbHVlQ2hhbmdlZChhW1ZdKTpVIGluIGF8fFcgaW4gYT90aGlzLnZhbHVlQ2hhbmdlZChbYVtVXV0pOnRoaXMudmFsdWVDaGFuZ2VkKHZvaWQgMCkpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSl7QXJyYXkuaXNBcnJheShhKXx8KGE9dm9pZCAwKTt2YXIgYj10aGlzLml0ZXJhdGVkVmFsdWU7dGhpcy51bm9ic2VydmUoKSx0aGlzLml0ZXJhdGVkVmFsdWU9YSx0aGlzLml0ZXJhdGVkVmFsdWUmJih0aGlzLmFycmF5T2JzZXJ2ZXI9bmV3IEFycmF5T2JzZXJ2ZXIodGhpcy5pdGVyYXRlZFZhbHVlLHRoaXMuaGFuZGxlU3BsaWNlcyx0aGlzKSk7dmFyIGM9QXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzKHRoaXMuaXRlcmF0ZWRWYWx1ZXx8W10sYnx8W10pO2MubGVuZ3RoJiZ0aGlzLmhhbmRsZVNwbGljZXMoYyksdGhpcy5pbnB1dHMuc2l6ZXx8KG5iLmRlbGV0ZSh0aGlzKSx0aGlzLmNsb3NlKCkpfSxnZXRUZXJtaW5hdG9yQXQ6ZnVuY3Rpb24oYSl7aWYoLTE9PWEpcmV0dXJuIHRoaXMudGVtcGxhdGVFbGVtZW50Xzt2YXIgYj10aGlzLnRlcm1pbmF0b3JzWzIqYV07aWYoYi5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHx0aGlzLnRlbXBsYXRlRWxlbWVudF89PT1iKXJldHVybiBiO3ZhciBjPW5iLmdldChiKTtyZXR1cm4gYz9jLmdldFRlcm1pbmF0b3JBdChjLnRlcm1pbmF0b3JzLmxlbmd0aC8yLTEpOmIKfSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ2V0VGVybWluYXRvckF0KGEtMSksZj1iP2IubGFzdENoaWxkfHxlOmNbYy5sZW5ndGgtMV18fGU7dGhpcy50ZXJtaW5hdG9ycy5zcGxpY2UoMiphLDAsZixkKTt2YXIgZz10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZSxoPWUubmV4dFNpYmxpbmc7aWYoYilyZXR1cm4gZy5pbnNlcnRCZWZvcmUoYixoKSx2b2lkIDA7Zm9yKHZhciBpPTA7aTxjLmxlbmd0aDtpKyspZy5pbnNlcnRCZWZvcmUoY1tpXSxoKX0sZXh0cmFjdEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGQ9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYSk7Yi5ib3VuZD10aGlzLnRlcm1pbmF0b3JzWzIqYSsxXSx0aGlzLnRlcm1pbmF0b3JzLnNwbGljZSgyKmEsMik7Zm9yKHZhciBlPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlO2QhPT1jOyl7dmFyIGY9Yy5uZXh0U2libGluZztmPT1kJiYoZD1jKSxlLnJlbW92ZUNoaWxkKGYpLGIucHVzaChmKX1yZXR1cm4gYn0sZ2V0SW5zdGFuY2VNb2RlbDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YyYmY1tZXTtyZXR1cm4gZCYmImZ1bmN0aW9uIj09dHlwZW9mIGQ/ZChhLGIpOmJ9LGhhbmRsZVNwbGljZXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY2xvc2VkKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZXx8IWIub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gdGhpcy5jbG9zZSgpLG5iLmRlbGV0ZSh0aGlzKSx2b2lkIDA7dmFyIGM9Yi5iaW5kaW5nRGVsZWdhdGUsZD1uZXcgTyxlPTA7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EucmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZXh0cmFjdEluc3RhbmNlQXQoYS5pbmRleCtlKTtkLnNldChiLGMpfSx0aGlzKSxlLT1hLmFkZGVkQ291bnR9LHRoaXMpLGEuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGU9YS5pbmRleDtlPGEuaW5kZXgrYS5hZGRlZENvdW50O2UrKyl7dmFyIGYsZz10aGlzLml0ZXJhdGVkVmFsdWVbZV0saD12b2lkIDAsaT1kLmdldChnKTtpZihpKWQuZGVsZXRlKGcpLGY9aS5ib3VuZDtlbHNle2Y9W107dmFyIGo9dGhpcy5nZXRJbnN0YW5jZU1vZGVsKGIsZyxjKTtoPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5jcmVhdGVJbnN0YW5jZShqLGMsZil9dGhpcy5pbnNlcnRJbnN0YW5jZUF0KGUsaCxpLGYpfX0sdGhpcyksZC5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmJvdW5kLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmNsb3NlKCl9KX19LHVub2JzZXJ2ZTpmdW5jdGlvbigpe3RoaXMuYXJyYXlPYnNlcnZlciYmKHRoaXMuYXJyYXlPYnNlcnZlci5jbG9zZSgpLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy51bm9ic2VydmUoKTtmb3IodmFyIGE9MTthPHRoaXMudGVybWluYXRvcnMubGVuZ3RoO2ErPTIpZm9yKHZhciBiPXRoaXMudGVybWluYXRvcnNbYV0sYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uY2xvc2UoKTt0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aD0wLHRoaXMuaW5wdXRzLmNsb3NlKCksdGhpcy5jbG9zZWQ9ITB9fX07dmFyIG5iPW5ldyBTO2EuQ29tcG91bmRCaW5kaW5nPU0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1vfSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQVNTRVJUOiAiK2IpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBkKGEpe3JldHVybiAzMj09PWF8fDk9PT1hfHwxMT09PWF8fDEyPT09YXx8MTYwPT09YXx8YT49NTc2MCYmIuGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgCIuaW5kZXhPZihTdHJpbmcuZnJvbUNoYXJDb2RlKGEpKT4wfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIDEwPT09YXx8MTM9PT1hfHw4MjMyPT09YXx8ODIzMz09PWF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gMzY9PT1hfHw5NT09PWF8fGE+PTY1JiY5MD49YXx8YT49OTcmJjEyMj49YX1mdW5jdGlvbiBnKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfHxhPj00OCYmNTc+PWF9ZnVuY3Rpb24gaChhKXtyZXR1cm4idGhpcyI9PT1hfWZ1bmN0aW9uIGkoKXtmb3IoO2JiPmFiJiZkKF8uY2hhckNvZGVBdChhYikpOykrK2FifWZ1bmN0aW9uIGooKXt2YXIgYSxiO2ZvcihhPWFiKys7YmI+YWImJihiPV8uY2hhckNvZGVBdChhYiksZyhiKSk7KSsrYWI7cmV0dXJuIF8uc2xpY2UoYSxhYil9ZnVuY3Rpb24gaygpe3ZhciBhLGIsYztyZXR1cm4gYT1hYixiPWooKSxjPTE9PT1iLmxlbmd0aD9YLklkZW50aWZpZXI6aChiKT9YLktleXdvcmQ6Im51bGwiPT09Yj9YLk51bGxMaXRlcmFsOiJ0cnVlIj09PWJ8fCJmYWxzZSI9PT1iP1guQm9vbGVhbkxpdGVyYWw6WC5JZGVudGlmaWVyLHt0eXBlOmMsdmFsdWU6YixyYW5nZTpbYSxhYl19fWZ1bmN0aW9uIGwoKXt2YXIgYSxiLGMsZCxlPWFiLGY9Xy5jaGFyQ29kZUF0KGFiKSxnPV9bYWJdO3N3aXRjaChmKXtjYXNlIDQ2OmNhc2UgNDA6Y2FzZSA0MTpjYXNlIDU5OmNhc2UgNDQ6Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA2MzpjYXNlIDEyNjpyZXR1cm4rK2FiLHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGYpLHJhbmdlOltlLGFiXX07ZGVmYXVsdDppZihhPV8uY2hhckNvZGVBdChhYisxKSw2MT09PWEpc3dpdGNoKGYpe2Nhc2UgMzc6Y2FzZSAzODpjYXNlIDQyOmNhc2UgNDM6Y2FzZSA0NTpjYXNlIDQ3OmNhc2UgNjA6Y2FzZSA2MjpjYXNlIDk0OmNhc2UgMTI0OnJldHVybiBhYis9Mix7dHlwZTpYLlB1bmN0dWF0b3IsdmFsdWU6U3RyaW5nLmZyb21DaGFyQ29kZShmKStTdHJpbmcuZnJvbUNoYXJDb2RlKGEpLHJhbmdlOltlLGFiXX07Y2FzZSAzMzpjYXNlIDYxOnJldHVybiBhYis9Miw2MT09PV8uY2hhckNvZGVBdChhYikmJisrYWIse3R5cGU6WC5QdW5jdHVhdG9yLHZhbHVlOl8uc2xpY2UoZSxhYikscmFuZ2U6W2UsYWJdfX19cmV0dXJuIGI9X1thYisxXSxjPV9bYWIrMl0sZD1fW2FiKzNdLCI+Ij09PWcmJiI+Ij09PWImJiI+Ij09PWMmJiI9Ij09PWQ/KGFiKz00LHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZToiPj4+PSIscmFuZ2U6W2UsYWJdfSk6Ij4iPT09ZyYmIj4iPT09YiYmIj4iPT09Yz8oYWIrPTMse3R5cGU6WC5QdW5jdHVhdG9yLHZhbHVlOiI+Pj4iLHJhbmdlOltlLGFiXX0pOiI8Ij09PWcmJiI8Ij09PWImJiI9Ij09PWM/KGFiKz0zLHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZToiPDw9IixyYW5nZTpbZSxhYl19KToiPiI9PT1nJiYiPiI9PT1iJiYiPSI9PT1jPyhhYis9Myx7dHlwZTpYLlB1bmN0dWF0b3IsdmFsdWU6Ij4+PSIscmFuZ2U6W2UsYWJdfSk6Zz09PWImJiIrLTw+JnwiLmluZGV4T2YoZyk+PTA/KGFiKz0yLHt0eXBlOlguUHVuY3R1YXRvcix2YWx1ZTpnK2IscmFuZ2U6W2UsYWJdfSk6Ijw+PSErLSolJnxeLyIuaW5kZXhPZihnKT49MD8oKythYix7dHlwZTpYLlB1bmN0dWF0b3IsdmFsdWU6ZyxyYW5nZTpbZSxhYl19KToocyh7fSwkLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpLHZvaWQgMCl9ZnVuY3Rpb24gbSgpe3ZhciBhLGQsZTtpZihlPV9bYWJdLGIoYyhlLmNoYXJDb2RlQXQoMCkpfHwiLiI9PT1lLCJOdW1lcmljIGxpdGVyYWwgbXVzdCBzdGFydCB3aXRoIGEgZGVjaW1hbCBkaWdpdCBvciBhIGRlY2ltYWwgcG9pbnQiKSxkPWFiLGE9IiIsIi4iIT09ZSl7Zm9yKGE9X1thYisrXSxlPV9bYWJdLCIwIj09PWEmJmUmJmMoZS5jaGFyQ29kZUF0KDApKSYmcyh7fSwkLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpO2MoXy5jaGFyQ29kZUF0KGFiKSk7KWErPV9bYWIrK107ZT1fW2FiXX1pZigiLiI9PT1lKXtmb3IoYSs9X1thYisrXTtjKF8uY2hhckNvZGVBdChhYikpOylhKz1fW2FiKytdO2U9X1thYl19aWYoImUiPT09ZXx8IkUiPT09ZSlpZihhKz1fW2FiKytdLGU9X1thYl0sKCIrIj09PWV8fCItIj09PWUpJiYoYSs9X1thYisrXSksYyhfLmNoYXJDb2RlQXQoYWIpKSlmb3IoO2MoXy5jaGFyQ29kZUF0KGFiKSk7KWErPV9bYWIrK107ZWxzZSBzKHt9LCQuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIik7cmV0dXJuIGYoXy5jaGFyQ29kZUF0KGFiKSkmJnMoe30sJC5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpYLk51bWVyaWNMaXRlcmFsLHZhbHVlOnBhcnNlRmxvYXQoYSkscmFuZ2U6W2QsYWJdfX1mdW5jdGlvbiBuKCl7dmFyIGEsYyxkLGY9IiIsZz0hMTtmb3IoYT1fW2FiXSxiKCInIj09PWF8fCciJz09PWEsIlN0cmluZyBsaXRlcmFsIG11c3Qgc3RhcnRzIHdpdGggYSBxdW90ZSIpLGM9YWIsKythYjtiYj5hYjspe2lmKGQ9X1thYisrXSxkPT09YSl7YT0iIjticmVha31pZigiXFwiPT09ZClpZihkPV9bYWIrK10sZCYmZShkLmNoYXJDb2RlQXQoMCkpKSJcciI9PT1kJiYiXG4iPT09X1thYl0mJisrYWI7ZWxzZSBzd2l0Y2goZCl7Y2FzZSJuIjpmKz0iXG4iO2JyZWFrO2Nhc2UiciI6Zis9IlxyIjticmVhaztjYXNlInQiOmYrPSIJIjticmVhaztjYXNlImIiOmYrPSJcYiI7YnJlYWs7Y2FzZSJmIjpmKz0iXGYiO2JyZWFrO2Nhc2UidiI6Zis9IgsiO2JyZWFrO2RlZmF1bHQ6Zis9ZH1lbHNle2lmKGUoZC5jaGFyQ29kZUF0KDApKSlicmVhaztmKz1kfX1yZXR1cm4iIiE9PWEmJnMoe30sJC5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpYLlN0cmluZ0xpdGVyYWwsdmFsdWU6ZixvY3RhbDpnLHJhbmdlOltjLGFiXX19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gYS50eXBlPT09WC5JZGVudGlmaWVyfHxhLnR5cGU9PT1YLktleXdvcmR8fGEudHlwZT09PVguQm9vbGVhbkxpdGVyYWx8fGEudHlwZT09PVguTnVsbExpdGVyYWx9ZnVuY3Rpb24gcCgpe3ZhciBhO3JldHVybiBpKCksYWI+PWJiP3t0eXBlOlguRU9GLHJhbmdlOlthYixhYl19OihhPV8uY2hhckNvZGVBdChhYiksNDA9PT1hfHw0MT09PWF8fDU4PT09YT9sKCk6Mzk9PT1hfHwzND09PWE/bigpOmYoYSk/aygpOjQ2PT09YT9jKF8uY2hhckNvZGVBdChhYisxKSk/bSgpOmwoKTpjKGEpP20oKTpsKCkpfWZ1bmN0aW9uIHEoKXt2YXIgYTtyZXR1cm4gYT1kYixhYj1hLnJhbmdlWzFdLGRiPXAoKSxhYj1hLnJhbmdlWzFdLGF9ZnVuY3Rpb24gcigpe3ZhciBhO2E9YWIsZGI9cCgpLGFiPWF9ZnVuY3Rpb24gcyhhLGMpe3ZhciBkLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGY9Yy5yZXBsYWNlKC8lKFxkKS9nLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIoYzxlLmxlbmd0aCwiTWVzc2FnZSByZWZlcmVuY2UgbXVzdCBiZSBpbiByYW5nZSIpLGVbY119KTt0aHJvdyBkPW5ldyBFcnJvcihmKSxkLmluZGV4PWFiLGQuZGVzY3JpcHRpb249ZixkfWZ1bmN0aW9uIHQoYSl7cyhhLCQuVW5leHBlY3RlZFRva2VuLGEudmFsdWUpfWZ1bmN0aW9uIHUoYSl7dmFyIGI9cSgpOyhiLnR5cGUhPT1YLlB1bmN0dWF0b3J8fGIudmFsdWUhPT1hKSYmdChiKX1mdW5jdGlvbiB2KGEpe3JldHVybiBkYi50eXBlPT09WC5QdW5jdHVhdG9yJiZkYi52YWx1ZT09PWF9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gZGIudHlwZT09PVguS2V5d29yZCYmZGIudmFsdWU9PT1hfWZ1bmN0aW9uIHgoKXtyZXR1cm4gNTk9PT1fLmNoYXJDb2RlQXQoYWIpPyhxKCksdm9pZCAwKTooaSgpLHYoIjsiKT8ocSgpLHZvaWQgMCk6KGRiLnR5cGU9PT1YLkVPRnx8digifSIpfHx0KGRiKSx2b2lkIDApKX1mdW5jdGlvbiB5KCl7dmFyIGE9W107Zm9yKHUoIlsiKTshdigiXSIpOyl2KCIsIik/KHEoKSxhLnB1c2gobnVsbCkpOihhLnB1c2goTygpKSx2KCJdIil8fHUoIiwiKSk7cmV0dXJuIHUoIl0iKSxjYi5jcmVhdGVBcnJheUV4cHJlc3Npb24oYSl9ZnVuY3Rpb24geigpe3ZhciBhO3JldHVybiBpKCksYT1xKCksYS50eXBlPT09WC5TdHJpbmdMaXRlcmFsfHxhLnR5cGU9PT1YLk51bWVyaWNMaXRlcmFsP2NiLmNyZWF0ZUxpdGVyYWwoYSk6Y2IuY3JlYXRlSWRlbnRpZmllcihhLnZhbHVlKX1mdW5jdGlvbiBBKCl7dmFyIGEsYjtyZXR1cm4gYT1kYixpKCksKGEudHlwZT09PVguRU9GfHxhLnR5cGU9PT1YLlB1bmN0dWF0b3IpJiZ0KGEpLGI9eigpLHUoIjoiKSxjYi5jcmVhdGVQcm9wZXJ0eSgiaW5pdCIsYixPKCkpfWZ1bmN0aW9uIEIoKXt2YXIgYT1bXTtmb3IodSgieyIpOyF2KCJ9Iik7KWEucHVzaChBKCkpLHYoIn0iKXx8dSgiLCIpO3JldHVybiB1KCJ9IiksY2IuY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihhKX1mdW5jdGlvbiBDKCl7dmFyIGE7cmV0dXJuIHUoIigiKSxhPVAoKSx1KCIpIiksYX1mdW5jdGlvbiBEKCl7dmFyIGEsYixjO3JldHVybiB2KCIoIik/QygpOihhPWRiLnR5cGUsYT09PVguSWRlbnRpZmllcj9jPWNiLmNyZWF0ZUlkZW50aWZpZXIocSgpLnZhbHVlKTphPT09WC5TdHJpbmdMaXRlcmFsfHxhPT09WC5OdW1lcmljTGl0ZXJhbD9jPWNiLmNyZWF0ZUxpdGVyYWwocSgpKTphPT09WC5LZXl3b3JkP3coInRoaXMiKSYmKHEoKSxjPWNiLmNyZWF0ZVRoaXNFeHByZXNzaW9uKCkpOmE9PT1YLkJvb2xlYW5MaXRlcmFsPyhiPXEoKSxiLnZhbHVlPSJ0cnVlIj09PWIudmFsdWUsYz1jYi5jcmVhdGVMaXRlcmFsKGIpKTphPT09WC5OdWxsTGl0ZXJhbD8oYj1xKCksYi52YWx1ZT1udWxsLGM9Y2IuY3JlYXRlTGl0ZXJhbChiKSk6digiWyIpP2M9eSgpOnYoInsiKSYmKGM9QigpKSxjP2M6KHQocSgpKSx2b2lkIDApKX1mdW5jdGlvbiBFKCl7dmFyIGE9W107aWYodSgiKCIpLCF2KCIpIikpZm9yKDtiYj5hYiYmKGEucHVzaChPKCkpLCF2KCIpIikpOyl1KCIsIik7cmV0dXJuIHUoIikiKSxhfWZ1bmN0aW9uIEYoKXt2YXIgYTtyZXR1cm4gYT1xKCksbyhhKXx8dChhKSxjYi5jcmVhdGVJZGVudGlmaWVyKGEudmFsdWUpfWZ1bmN0aW9uIEcoKXtyZXR1cm4gdSgiLiIpLEYoKX1mdW5jdGlvbiBIKCl7dmFyIGE7cmV0dXJuIHUoIlsiKSxhPVAoKSx1KCJdIiksYX1mdW5jdGlvbiBJKCl7dmFyIGEsYixjO2ZvcihhPUQoKTt2KCIuIil8fHYoIlsiKXx8digiKCIpOyl2KCIoIik/KGI9RSgpLGE9Y2IuY3JlYXRlQ2FsbEV4cHJlc3Npb24oYSxiKSk6digiWyIpPyhjPUgoKSxhPWNiLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIlsiLGEsYykpOihjPUcoKSxhPWNiLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIi4iLGEsYykpO3JldHVybiBhfWZ1bmN0aW9uIEooKXt2YXIgYTtyZXR1cm4gYT1JKCksZGIudHlwZT09PVguUHVuY3R1YXRvciYmKHYoIisrIil8fHYoIi0tIikpJiZzKHt9LCQuVW5leHBlY3RlZFRva2VuKSxhfWZ1bmN0aW9uIEsoKXt2YXIgYSxiO3JldHVybiBkYi50eXBlIT09WC5QdW5jdHVhdG9yJiZkYi50eXBlIT09WC5LZXl3b3JkP2I9SigpOnYoIisrIil8fHYoIi0tIik/cyh7fSwkLlVuZXhwZWN0ZWRUb2tlbik6digiKyIpfHx2KCItIil8fHYoIn4iKXx8digiISIpPyhhPXEoKSxiPUsoKSxiPWNiLmNyZWF0ZVVuYXJ5RXhwcmVzc2lvbihhLnZhbHVlLGIpKTp3KCJkZWxldGUiKXx8dygidm9pZCIpfHx3KCJ0eXBlb2YiKT9zKHt9LCQuVW5leHBlY3RlZFRva2VuKTpiPUooKSxifWZ1bmN0aW9uIEwoYSxiKXt2YXIgYz0wO2lmKGEudHlwZSE9PVguUHVuY3R1YXRvciYmYS50eXBlIT09WC5LZXl3b3JkKXJldHVybiAwO3N3aXRjaChhLnZhbHVlKXtjYXNlInx8IjpjPTE7YnJlYWs7Y2FzZSImJiI6Yz0yO2JyZWFrO2Nhc2UifCI6Yz0zO2JyZWFrO2Nhc2UiXiI6Yz00O2JyZWFrO2Nhc2UiJiI6Yz01O2JyZWFrO2Nhc2UiPT0iOmNhc2UiIT0iOmNhc2UiPT09IjpjYXNlIiE9PSI6Yz02O2JyZWFrO2Nhc2UiPCI6Y2FzZSI+IjpjYXNlIjw9IjpjYXNlIj49IjpjYXNlImluc3RhbmNlb2YiOmM9NzticmVhaztjYXNlImluIjpjPWI/NzowO2JyZWFrO2Nhc2UiPDwiOmNhc2UiPj4iOmNhc2UiPj4+IjpjPTg7YnJlYWs7Y2FzZSIrIjpjYXNlIi0iOmM9OTticmVhaztjYXNlIioiOmNhc2UiLyI6Y2FzZSIlIjpjPTExfXJldHVybiBjfWZ1bmN0aW9uIE0oKXt2YXIgYSxiLGMsZCxlLGYsZyxoLGk7aWYoZD1lYi5hbGxvd0luLGViLmFsbG93SW49ITAsaD1LKCksYj1kYixjPUwoYixkKSwwPT09YylyZXR1cm4gaDtmb3IoYi5wcmVjPWMscSgpLGY9SygpLGU9W2gsYixmXTsoYz1MKGRiLGQpKT4wOyl7Zm9yKDtlLmxlbmd0aD4yJiZjPD1lW2UubGVuZ3RoLTJdLnByZWM7KWY9ZS5wb3AoKSxnPWUucG9wKCkudmFsdWUsaD1lLnBvcCgpLGE9Y2IuY3JlYXRlQmluYXJ5RXhwcmVzc2lvbihnLGgsZiksZS5wdXNoKGEpO2I9cSgpLGIucHJlYz1jLGUucHVzaChiKSxhPUsoKSxlLnB1c2goYSl9Zm9yKGViLmFsbG93SW49ZCxpPWUubGVuZ3RoLTEsYT1lW2ldO2k+MTspYT1jYi5jcmVhdGVCaW5hcnlFeHByZXNzaW9uKGVbaS0xXS52YWx1ZSxlW2ktMl0sYSksaS09MjtyZXR1cm4gYX1mdW5jdGlvbiBOKCl7dmFyIGEsYixjLGQ7cmV0dXJuIGE9TSgpLHYoIj8iKSYmKHEoKSxiPWViLmFsbG93SW4sZWIuYWxsb3dJbj0hMCxjPU8oKSxlYi5hbGxvd0luPWIsdSgiOiIpLGQ9TygpLGE9Y2IuY3JlYXRlQ29uZGl0aW9uYWxFeHByZXNzaW9uKGEsYyxkKSksYX1mdW5jdGlvbiBPKCl7dmFyIGEsYixjO3JldHVybiBhPWRiLGM9Yj1OKCl9ZnVuY3Rpb24gUCgpe3ZhciBhO3JldHVybiBhPU8oKX1mdW5jdGlvbiBRKCl7cmV0dXJuIHUoIjsiKSxjYi5jcmVhdGVFbXB0eVN0YXRlbWVudCgpfWZ1bmN0aW9uIFIoKXt2YXIgYT1QKCk7cmV0dXJuIHgoKSxjYi5jcmVhdGVFeHByZXNzaW9uU3RhdGVtZW50KGEpfWZ1bmN0aW9uIFMoKXt2YXIgYSxiLGMsZD1kYi50eXBlO2lmKGQ9PT1YLkVPRiYmdChkYiksaSgpLGQ9PT1YLlB1bmN0dWF0b3Ipc3dpdGNoKGRiLnZhbHVlKXtjYXNlIjsiOnJldHVybiBRKCk7Y2FzZSIoIjpyZXR1cm4gUigpfXJldHVybiBhPVAoKSxhLnR5cGU9PT1aLklkZW50aWZpZXImJnYoIjoiKT8ocSgpLGM9IiQiK2EubmFtZSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZWIubGFiZWxTZXQsYykmJnMoe30sJC5SZWRlY2xhcmF0aW9uLCJMYWJlbCIsYS5uYW1lKSxlYi5sYWJlbFNldFtjXT0hMCxiPVMoKSxkZWxldGUgZWIubGFiZWxTZXRbY10sY2IuY3JlYXRlTGFiZWxlZFN0YXRlbWVudChhLGIpKTooeCgpLGNiLmNyZWF0ZUV4cHJlc3Npb25TdGF0ZW1lbnQoYSkpfWZ1bmN0aW9uIFQoKXtyZXR1cm4gZGIudHlwZT09PVguS2V5d29yZD9TKCk6ZGIudHlwZSE9PVguRU9GP1MoKTp2b2lkIDB9ZnVuY3Rpb24gVSgpe2Zvcih2YXIgYSxiPVtdO2JiPmFiJiYoYT1UKCksInVuZGVmaW5lZCIhPXR5cGVvZiBhKTspYi5wdXNoKGEpO3JldHVybiBifWZ1bmN0aW9uIFYoKXt2YXIgYTtyZXR1cm4gaSgpLHIoKSxhPVUoKSxjYi5jcmVhdGVQcm9ncmFtKGEpfWZ1bmN0aW9uIFcoYSxiKXt2YXIgYztyZXR1cm4gYz1TdHJpbmcsInN0cmluZyI9PXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgU3RyaW5nfHwoYT1jKGEpKSxjYj1iLF89YSxhYj0wLGJiPV8ubGVuZ3RoLGRiPW51bGwsZWI9e2FsbG93SW46ITAsbGFiZWxTZXQ6e319LGJiPjAmJiJ1bmRlZmluZWQiPT10eXBlb2YgX1swXSYmYSBpbnN0YW5jZW9mIFN0cmluZyYmKF89YS52YWx1ZU9mKCkpLFYoKX12YXIgWCxZLFosJCxfLGFiLGJiLGNiLGRiLGViO1g9e0Jvb2xlYW5MaXRlcmFsOjEsRU9GOjIsSWRlbnRpZmllcjozLEtleXdvcmQ6NCxOdWxsTGl0ZXJhbDo1LE51bWVyaWNMaXRlcmFsOjYsUHVuY3R1YXRvcjo3LFN0cmluZ0xpdGVyYWw6OH0sWT17fSxZW1guQm9vbGVhbkxpdGVyYWxdPSJCb29sZWFuIixZW1guRU9GXT0iPGVuZD4iLFlbWC5JZGVudGlmaWVyXT0iSWRlbnRpZmllciIsWVtYLktleXdvcmRdPSJLZXl3b3JkIixZW1guTnVsbExpdGVyYWxdPSJOdWxsIixZW1guTnVtZXJpY0xpdGVyYWxdPSJOdW1lcmljIixZW1guUHVuY3R1YXRvcl09IlB1bmN0dWF0b3IiLFlbWC5TdHJpbmdMaXRlcmFsXT0iU3RyaW5nIixaPXtBcnJheUV4cHJlc3Npb246IkFycmF5RXhwcmVzc2lvbiIsQmluYXJ5RXhwcmVzc2lvbjoiQmluYXJ5RXhwcmVzc2lvbiIsQ2FsbEV4cHJlc3Npb246IkNhbGxFeHByZXNzaW9uIixDb25kaXRpb25hbEV4cHJlc3Npb246IkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsRW1wdHlTdGF0ZW1lbnQ6IkVtcHR5U3RhdGVtZW50IixFeHByZXNzaW9uU3RhdGVtZW50OiJFeHByZXNzaW9uU3RhdGVtZW50IixJZGVudGlmaWVyOiJJZGVudGlmaWVyIixMaXRlcmFsOiJMaXRlcmFsIixMYWJlbGVkU3RhdGVtZW50OiJMYWJlbGVkU3RhdGVtZW50IixMb2dpY2FsRXhwcmVzc2lvbjoiTG9naWNhbEV4cHJlc3Npb24iLE1lbWJlckV4cHJlc3Npb246Ik1lbWJlckV4cHJlc3Npb24iLE9iamVjdEV4cHJlc3Npb246Ik9iamVjdEV4cHJlc3Npb24iLFByb2dyYW06IlByb2dyYW0iLFByb3BlcnR5OiJQcm9wZXJ0eSIsVGhpc0V4cHJlc3Npb246IlRoaXNFeHByZXNzaW9uIixVbmFyeUV4cHJlc3Npb246IlVuYXJ5RXhwcmVzc2lvbiJ9LCQ9e1VuZXhwZWN0ZWRUb2tlbjoiVW5leHBlY3RlZCB0b2tlbiAlMCIsVW5rbm93bkxhYmVsOiJVbmRlZmluZWQgbGFiZWwgJyUwJyIsUmVkZWNsYXJhdGlvbjoiJTAgJyUxJyBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkIn0sYS5lc3ByaW1hPXtwYXJzZTpXfX0odGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGQsZSl7aWYoZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiYiVEVNUExBVEUiPT09ZS50YWdOYW1lJiYoImJpbmQiPT09ZHx8InJlcGVhdCI9PT1kKSl7dmFyIGYsZyxoPWIubWF0Y2gocik7aWYoaD8oZj1oWzFdLGc9aFsyXSk6KGg9Yi5tYXRjaChzKSxoJiYoZj1oWzJdLGc9aFsxXSkpLGgpe3ZhciBpO2lmKGc9Zy50cmltKCksZy5tYXRjaChxKSlpPW5ldyBDb21wb3VuZEJpbmRpbmcoZnVuY3Rpb24oYSl7cmV0dXJuIGEucGF0aH0pLGkuYmluZCgicGF0aCIsYSxnKTtlbHNlIHRyeXtpPWMoYSxnKX1jYXRjaChqKXtjb25zb2xlLmVycm9yKCJJbnZhbGlkIGV4cHJlc3Npb24gc3ludGF4OiAiK2csail9aWYoaSlyZXR1cm4gdC5zZXQoZSxmKSxpfX19ZnVuY3Rpb24gYyhhLGIpe3RyeXt2YXIgYz1uZXcgZjtpZihlc3ByaW1hLnBhcnNlKGIsYyksIWMuc3RhdGVtZW50cy5sZW5ndGgmJiFjLmxhYmVsZWRTdGF0ZW1lbnRzLmxlbmd0aClyZXR1cm47aWYoIWMubGFiZWxlZFN0YXRlbWVudHMubGVuZ3RoJiZjLnN0YXRlbWVudHMubGVuZ3RoPjEpdGhyb3cgRXJyb3IoIk11bHRpcGxlIHVubGFiZWxsZWQgc3RhdGVtZW50cyBhcmUgbm90IGFsbG93ZWQuIik7dmFyIGU9Yy5sYWJlbGVkU3RhdGVtZW50cy5sZW5ndGg/ZChjLmxhYmVsZWRTdGF0ZW1lbnRzKTplPWMuc3RhdGVtZW50c1swXSxnPVtdO2Zvcih2YXIgaCBpbiBjLmRlcHMpZy5wdXNoKGgpO2lmKCFnLmxlbmd0aClyZXR1cm57dmFsdWU6ZSh7fSl9O2Zvcih2YXIgaT1uZXcgQ29tcG91bmRCaW5kaW5nKGUpLGo9MDtqPGcubGVuZ3RoO2orKylpLmJpbmQoZ1tqXSxhLGdbal0pO3JldHVybiBpfWNhdGNoKGspe2NvbnNvbGUuZXJyb3IoIkludmFsaWQgZXhwcmVzc2lvbiBzeW50YXg6ICIrYixrKX19ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKylhW2RdLmJvZHkoYikmJmMucHVzaChhW2RdLmxhYmVsKTtyZXR1cm4gYy5qb2luKCIgIil9fWZ1bmN0aW9uIGUoYSxiLGMpe3RoaXMuZGVwcz1hLHRoaXMubmFtZT1iLHRoaXMubGFzdD1jfWZ1bmN0aW9uIGYoKXt0aGlzLnN0YXRlbWVudHM9W10sdGhpcy5sYWJlbGVkU3RhdGVtZW50cz1bXSx0aGlzLmRlcHM9e30sdGhpcy5jdXJyZW50UGF0aD12b2lkIDB9ZnVuY3Rpb24gZygpe3Rocm93IEVycm9yKCJOb3QgSW1wbGVtZW50ZWQiKX1mdW5jdGlvbiBoKCl7fXZhciBpOyJ1bmRlZmluZWQiIT10eXBlb2YgV2Vha01hcCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94LyIpPDA/aT1XZWFrTWFwOmZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9T2JqZWN0Lmhhc093blByb3BlcnR5LGM9KG5ldyBEYXRlKS5nZXRUaW1lKCklMWU5O2k9ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyhjKysgKyJfXyIpfSxpLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGIsYyl7YShiLHRoaXMubmFtZSx7dmFsdWU6Yyx3cml0YWJsZTohMH0pfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY2FsbChhLHRoaXMubmFtZSk/YVt0aGlzLm5hbWVdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX19KCk7dmFyIGo9IlskX2EtekEtWl0iLGs9IlskX2EtekEtWjAtOV0iLGw9aisiKyIraysiKiIsbT0iKCIrbCsiKSIsbj0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsbz0iKD86IitsKyJ8IituKyIpIixwPSIoPzoiK28rIikoPzpcXC4iK28rIikqIixxPW5ldyBSZWdFeHAoIl4iK3ArIiQiKSxyPW5ldyBSZWdFeHAoIl4iK20rIlxccyogaW4gKC4qKSQiKSxzPW5ldyBSZWdFeHAoIl4oLiopIGFzIFxccyoiK20rIiQiKSx0PW5ldyBpO2UucHJvdG90eXBlPXtnZXRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdD90aGlzLmxhc3QuZ2V0UGF0aCgpKyIuIit0aGlzLm5hbWU6dGhpcy5uYW1lfSx2YWx1ZUZuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRQYXRoKCk7cmV0dXJuIHRoaXMuZGVwc1thXT0hMCxmdW5jdGlvbihiKXtyZXR1cm4gYlthXX19fTt2YXIgdT17IisiOmZ1bmN0aW9uKGEpe3JldHVybithfSwiLSI6ZnVuY3Rpb24oYSl7cmV0dXJuLWF9LCIhIjpmdW5jdGlvbihhKXtyZXR1cm4hYX19LHY9eyIrIjpmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9LCItIjpmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9LCIqIjpmdW5jdGlvbihhLGIpe3JldHVybiBhKmJ9LCIvIjpmdW5jdGlvbihhLGIpe3JldHVybiBhL2J9LCIlIjpmdW5jdGlvbihhLGIpe3JldHVybiBhJWJ9LCI8IjpmdW5jdGlvbihhLGIpe3JldHVybiBiPmF9LCI+IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPmJ9LCI8PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YX0sIj49IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPj1ifSwiPT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PWJ9LCIhPSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9Yn0sIj09PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9LCIhPT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPT1ifSwiJiYiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJmJ9LCJ8fCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXx8Yn19O2YucHJvdG90eXBlPXtnZXRGbjpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGU/YS52YWx1ZUZuKCk6YX0sY3JlYXRlUHJvZ3JhbTpmdW5jdGlvbigpe30sY3JlYXRlRXhwcmVzc2lvblN0YXRlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGF0ZW1lbnRzLnB1c2goYSksYX0sY3JlYXRlTGFiZWxlZFN0YXRlbWVudDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmxhYmVsZWRTdGF0ZW1lbnRzLnB1c2goe2xhYmVsOmEuZ2V0UGF0aCgpLGJvZHk6YiBpbnN0YW5jZW9mIGU/Yi52YWx1ZUZuKCk6Yn0pLGJ9LGNyZWF0ZVVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe2lmKCF1W2FdKXRocm93IEVycm9yKCJEaXNhbGxvd2VkIG9wZXJhdG9yOiAiK2EpO3JldHVybiBiPXRoaXMuZ2V0Rm4oYiksZnVuY3Rpb24oYyl7cmV0dXJuIHVbYV0oYihjKSl9fSxjcmVhdGVCaW5hcnlFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtpZighdlthXSl0aHJvdyBFcnJvcigiRGlzYWxsb3dlZCBvcGVyYXRvcjogIithKTtyZXR1cm4gYj10aGlzLmdldEZuKGIpLGM9dGhpcy5nZXRGbihjKSxmdW5jdGlvbihkKXtyZXR1cm4gdlthXShiKGQpLGMoZCkpfX0sY3JlYXRlQ29uZGl0aW9uYWxFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT10aGlzLmdldEZuKGEpLGI9dGhpcy5nZXRGbihiKSxjPXRoaXMuZ2V0Rm4oYyksZnVuY3Rpb24oZCl7cmV0dXJuIGEoZCk/YihkKTpjKGQpfX0sY3JlYXRlSWRlbnRpZmllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgZSh0aGlzLmRlcHMsYSk7cmV0dXJuIGIudHlwZT0iSWRlbnRpZmllciIsYn0sY3JlYXRlTWVtYmVyRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBlKHRoaXMuZGVwcyxjLm5hbWUsYil9LGNyZWF0ZUxpdGVyYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEudmFsdWV9fSxjcmVhdGVBcnJheUV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXT10aGlzLmdldEZuKGFbYl0pO3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWMucHVzaChhW2RdKGIpKTtyZXR1cm4gY319LGNyZWF0ZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm57a2V5OmIgaW5zdGFuY2VvZiBlP2IuZ2V0UGF0aCgpOmIoKSx2YWx1ZTpjfX0sY3JlYXRlT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnZhbHVlPXRoaXMuZ2V0Rm4oYVtiXS52YWx1ZSk7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDtkKyspY1thW2RdLmtleV09YVtkXS52YWx1ZShiKTtyZXR1cm4gY319LGNyZWF0ZUNhbGxFeHByZXNzaW9uOmcsY3JlYXRlRW1wdHlTdGF0ZW1lbnQ6ZyxjcmVhdGVUaGlzRXhwcmVzc2lvbjpnfSxoLnByb3RvdHlwZT17Z2V0QmluZGluZzpmdW5jdGlvbihhLGQsZSxmKXtyZXR1cm4gZD1kLnRyaW0oKSxkJiYhZC5tYXRjaChxKT9iKGEsZCxlLGYpfHxjKGEsZCxlLGYpOnZvaWQgMH0sZ2V0SW5zdGFuY2VNb2RlbDpmdW5jdGlvbihhLGIpe3ZhciBjPXQuZ2V0KGEpO2lmKCFjKXJldHVybiBiO3ZhciBkPWEudGVtcGxhdGVJbnN0YW5jZT9hLnRlbXBsYXRlSW5zdGFuY2UubW9kZWw6YS5tb2RlbCxlPU9iamVjdC5jcmVhdGUoZCk7cmV0dXJuIGVbY109YixlfX0sYS5FeHByZXNzaW9uU3ludGF4PWh9KHRoaXMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwKCJNb2RlbC5kaXJ0eUNoZWNrKCkiKSxjKCksbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIGMoKXtQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfXZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZC50ZXh0Q29udGVudD0idGVtcGxhdGUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7ZS5pbnNlcnRCZWZvcmUoZCxlLmZpcnN0Q2hpbGQpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuX19pbnN0YW5jZUNyZWF0ZWQ9ZnVuY3Rpb24oYSl7ZG9jdW1lbnQuYWRvcHROb2RlKGEpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYSl9O3ZhciBmPTEyNTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiV2ViQ29tcG9uZW50c1JlYWR5IixmdW5jdGlvbigpe2IoKSxPYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlfHxzZXRJbnRlcnZhbChjLGYpfSksYS5mbHVzaD1iLHdpbmRvdy5kaXJ0eUNoZWNrPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZChhLGkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGQoYSxqKX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWJ9ZnVuY3Rpb24gZShhKXtyZXR1cm4ic2NyaXB0Ij09PWEubG9jYWxOYW1lfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KGkpLGMuYm9keS5pbm5lckhUTUw9YSksYy5fVVJMPWI7dmFyIGQ9Yy5jcmVhdGVFbGVtZW50KCJiYXNlIik7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJocmVmIixkb2N1bWVudC5iYXNlVVJJKSxjLmhlYWQuYXBwZW5kQ2hpbGQoZCksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChjKSxjfWF8fChhPXdpbmRvdy5IVE1MSW1wb3J0cz17ZmxhZ3M6e319KTt2YXIgZyxoPWEueGhyLGk9ImltcG9ydCIsaj0ic3R5bGVzaGVldCIsaz17ZG9jdW1lbnRzOnt9LGNhY2hlOnt9LHByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2krIl0iLCJlbGVtZW50IGxpbmtbcmVsPSIraisiXSIsInRlbXBsYXRlIiwic2NyaXB0W3NyY106bm90KFt0eXBlXSkiLCdzY3JpcHRbc3JjXVt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSddLmpvaW4oIiwiKSxsb2FkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGc9bmV3IGwoay5sb2FkZWQsYSksZy5jYWNoZT1rLmNhY2hlLGd9LGxvYWQ6ZnVuY3Rpb24oYSxiKXtnPWsubG9hZGVyKGIpLGsucHJlbG9hZChhKX0scHJlbG9hZDpmdW5jdGlvbihhKXt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoay5wcmVsb2FkU2VsZWN0b3JzKTtiPXRoaXMuZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXMoYSxiKSxiPXRoaXMuZXh0cmFjdFRlbXBsYXRlTm9kZXMoYiksZy5hZGROb2RlcyhiKX0sZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWRvY3VtZW50JiYoYj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYixmdW5jdGlvbihhKXtyZXR1cm4hZShhKX0pKSxifSxleHRyYWN0VGVtcGxhdGVOb2RlczpmdW5jdGlvbihhKXt2YXIgYj1bXTtyZXR1cm4gYT1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSxmdW5jdGlvbihhKXtpZigidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUpe2lmKGEuY29udGVudCl7dmFyIGM9YS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIraisiXSIpO2MubGVuZ3RoJiYoYj1iLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLDApKSl9cmV0dXJuITF9cmV0dXJuITB9KSxiLmxlbmd0aCYmKGE9YS5jb25jYXQoYikpLGF9LGxvYWRlZDpmdW5jdGlvbihhLGQsZSl7aWYoYihkKSl7dmFyIGc9ay5kb2N1bWVudHNbYV07Z3x8KGc9ZihlLGEpLHAucmVzb2x2ZVBhdGhzSW5IVE1MKGcpLGsuZG9jdW1lbnRzW2FdPWcsay5wcmVsb2FkKGcpKSxkLmltcG9ydD17aHJlZjphLG93bmVyTm9kZTpkLGNvbnRlbnQ6Z30sZC5jb250ZW50PWU9Z31kLl9fcmVzb3VyY2U9ZSxjKGQpJiZwLnJlc29sdmVQYXRoc0luU3R5bGVzaGVldChkKX19LGw9ZnVuY3Rpb24oYSxiKXt0aGlzLm9ubG9hZD1hLHRoaXMub25jb21wbGV0ZT1iLHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e30sdGhpcy5jYWNoZT17fX07bC5wcm90b3R5cGU9e2FkZE5vZGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrPWEubGVuZ3RoLHEoYSx0aGlzLnJlcXVpcmUsdGhpcyksdGhpcy5jaGVja0RvbmUoKX0scmVxdWlyZTpmdW5jdGlvbihhKXt2YXIgYj1wLm5vZGVVcmwoYSk7YS5fX25vZGVVcmw9Yix0aGlzLmRlZHVwZShiLGEpfHx0aGlzLmZldGNoKGIsYSl9LGRlZHVwZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnBlbmRpbmdbYV0/KHRoaXMucGVuZGluZ1thXS5wdXNoKGIpLCEwKTp0aGlzLmNhY2hlW2FdPyh0aGlzLm9ubG9hZChhLGIsZy5jYWNoZVthXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbYV09W2JdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihjLGQpe3RoaXMucmVjZWl2ZShhLGIsYyxkKX0uYmluZCh0aGlzKTtoLmxvYWQoYSxjKX0scmVjZWl2ZTpmdW5jdGlvbihhLGIsYyxkKXtjfHwoZy5jYWNoZVthXT1kKSxnLnBlbmRpbmdbYV0uZm9yRWFjaChmdW5jdGlvbihiKXtjfHx0aGlzLm9ubG9hZChhLGIsZCksdGhpcy50YWlsKCl9LHRoaXMpLGcucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX07dmFyIG09WyJocmVmIiwic3JjIiwiYWN0aW9uIl0sbj0iWyIrbS5qb2luKCJdLFsiKSsiXSIsbz0ie3suKn19IixwPXtub2RlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBwLnJlc29sdmVVcmwocC5nZXREb2N1bWVudFVybChkb2N1bWVudCkscC5ocmVmT3JTcmMoYSkpfSxocmVmT3JTcmM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIil8fGEuZ2V0QXR0cmlidXRlKCJzcmMiKX0sZG9jdW1lbnRVcmxGcm9tTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gcC5nZXREb2N1bWVudFVybChhLm93bmVyRG9jdW1lbnR8fGEpfSxnZXREb2N1bWVudFVybDpmdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5fVVJMfHxhLmltcGwmJmEuaW1wbC5fVVJMfHxhLmJhc2VVUkl8fGEuVVJMKXx8IiI7cmV0dXJuIGIuc3BsaXQoIiMiKVswXX0scmVzb2x2ZVVybDpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5pc0Fic1VybChiKSlyZXR1cm4gYjt2YXIgZD10aGlzLmNvbXByZXNzVXJsKHRoaXMudXJsVG9QYXRoKGEpK2IpO3JldHVybiBjJiYoZD1wLm1ha2VSZWxQYXRoKHAuZ2V0RG9jdW1lbnRVcmwoZG9jdW1lbnQpLGQpKSxkfSxpc0Fic1VybDpmdW5jdGlvbihhKXtyZXR1cm4vKF5kYXRhOil8KF5odHRwW3NdPzopfCheXC8pLy50ZXN0KGEpfSx1cmxUb1BhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcGxpdCgiLyIpO3JldHVybiBiLnBvcCgpLGIucHVzaCgiIiksYi5qb2luKCIvIil9LGNvbXByZXNzVXJsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPWEuc3BsaXQoIi8iKSxkPTA7ZDxjLmxlbmd0aDtkKyspYj1jW2RdLCIuLiI9PT1iJiYoYy5zcGxpY2UoZC0xLDIpLGQtPTIpO3JldHVybiBjLmpvaW4oIi8iKX0sbWFrZVJlbFBhdGg6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2ZvcihjPXRoaXMuY29tcHJlc3NVcmwoYSkuc3BsaXQoIi8iKSxkPXRoaXMuY29tcHJlc3NVcmwoYikuc3BsaXQoIi8iKTtjLmxlbmd0aCYmY1swXT09PWRbMF07KWMuc2hpZnQoKSxkLnNoaWZ0KCk7Zm9yKHZhciBlPTAsZj1jLmxlbmd0aC0xO2Y+ZTtlKyspZC51bnNoaWZ0KCIuLiIpO3ZhciBnPWQuam9pbigiLyIpO3JldHVybiBnfSxyZXNvbHZlUGF0aHNJbkhUTUw6ZnVuY3Rpb24oYSxiKXtiPWJ8fHAuZG9jdW1lbnRVcmxGcm9tTm9kZShhKSxwLnJlc29sdmVBdHRyaWJ1dGVzKGEsYikscC5yZXNvbHZlU3R5bGVFbHRzKGEsYik7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpO2MmJnEoYyxmdW5jdGlvbihhKXthLmNvbnRlbnQmJnAucmVzb2x2ZVBhdGhzSW5IVE1MKGEuY29udGVudCxiKX0pfSxyZXNvbHZlUGF0aHNJblN0eWxlc2hlZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9cC5ub2RlVXJsKGEpO2EuX19yZXNvdXJjZT1wLnJlc29sdmVDc3NUZXh0KGEuX19yZXNvdXJjZSxiKX0scmVzb2x2ZVN0eWxlRWx0czpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtjJiZxKGMsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD1wLnJlc29sdmVDc3NUZXh0KGEudGV4dENvbnRlbnQsYil9KX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5yZXBsYWNlKC91cmxcKFteKV0qXCkvZyxmdW5jdGlvbihhKXt2YXIgYz1hLnJlcGxhY2UoL1siJ10vZywiIikuc2xpY2UoNCwtMSk7cmV0dXJuIGM9cC5yZXNvbHZlVXJsKGIsYywhMCksInVybCgiK2MrIikifSl9LHJlc29sdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YSYmYS5xdWVyeVNlbGVjdG9yQWxsKG4pO2MmJnEoYyxmdW5jdGlvbihhKXt0aGlzLnJlc29sdmVOb2RlQXR0cmlidXRlcyhhLGIpfSx0aGlzKX0scmVzb2x2ZU5vZGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7bS5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWEuYXR0cmlidXRlc1tjXTtpZihkJiZkLnZhbHVlJiZkLnZhbHVlLnNlYXJjaChvKTwwKXt2YXIgZT1wLnJlc29sdmVVcmwoYixkLnZhbHVlLCEwKTtkLnZhbHVlPWV9fSl9fTtoPWh8fHthc3luYzohMCxvazpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdGF0dXM+PTIwMCYmYS5zdGF0dXM8MzAwfHwzMDQ9PT1hLnN0YXR1c3x8MD09PWEuc3RhdHVzfSxsb2FkOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuKGEuZmxhZ3MuZGVidWd8fGEuZmxhZ3MuYnVzdCkmJihiKz0iPyIrTWF0aC5yYW5kb20oKSksZS5vcGVuKCJHRVQiLGIsaC5hc3luYyksZS5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpezQ9PT1lLnJlYWR5U3RhdGUmJmMuY2FsbChkLCFoLm9rKGUpJiZlLGUucmVzcG9uc2UsYil9KSxlLnNlbmQoKSxlfSxsb2FkRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubG9hZChhLGIsYykucmVzcG9uc2VUeXBlPSJkb2N1bWVudCJ9fTt2YXIgcT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGF0aD1wLGEueGhyPWgsYS5pbXBvcnRlcj1rLGEuZ2V0RG9jdW1lbnRVcmw9cC5nZXREb2N1bWVudFVybCxhLklNUE9SVF9MSU5LX1RZUEU9aX0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1mfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmIWQoYSkmJiFlKGEpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudD09PWRvY3VtZW50fHxhLm93bmVyRG9jdW1lbnQuaW1wbD09PWRvY3VtZW50fWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmImVsZW1lbnQiPT09YS5wYXJlbnROb2RlLmxvY2FsTmFtZX12YXIgZj0iaW1wb3J0IixnPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2YrIl0iLCJsaW5rW3JlbD1zdHlsZXNoZWV0XSIsInN0eWxlIiwic2NyaXB0Om5vdChbdHlwZV0pIiwnc2NyaXB0W3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10sbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZUdlbmVyaWMifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX2ltcG9ydFBhcnNlZCl7YS5fX2ltcG9ydFBhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoZy5zZWxlY3RvcnMpO2goYixmdW5jdGlvbihhKXtnW2cubWFwW2EubG9jYWxOYW1lXV0oYSl9KX19LHBhcnNlTGluazpmdW5jdGlvbihhKXtiKGEpP2EuY29udGVudCYmZy5wYXJzZShhLmNvbnRlbnQpOnRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7YyhhKSYmZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7aWYoYyhiKSl7dmFyIGQ9KGIuX19yZXNvdXJjZXx8Yi50ZXh0Q29udGVudCkudHJpbSgpO2lmKGQpe3ZhciBlPWIuX19ub2RlVXJsO2lmKCFlKXt2YXIgZT1hLnBhdGguZG9jdW1lbnRVcmxGcm9tTm9kZShiKSxmPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGc9ZC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Zj1nJiZnWzFdfHxmLGUrPSIvIitmKyIuanMifWQrPSJcbi8vIyBzb3VyY2VVUkw9IitlKyJcbiIsZXZhbC5jYWxsKHdpbmRvdyxkKX19fX0saD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWd9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtIVE1MSW1wb3J0cy5pbXBvcnRlci5sb2FkKGRvY3VtZW50LGZ1bmN0aW9uKCl7SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIkhUTUxJbXBvcnRzTG9hZGVkIix7YnViYmxlczohMH0pKX0pfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYi5pbml0RXZlbnQoYSwhMCwhMCksYn0pLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP2EoKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsYSl9KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt1LnB1c2goYSksdHx8KHQ9ITAscShkKSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpfHxhfWZ1bmN0aW9uIGQoKXt0PSExO3ZhciBhPXU7dT1bXSxhLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS51aWRfLWIudWlkX30pO3ZhciBiPSExO2EuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYz1hLnRha2VSZWNvcmRzKCk7ZShhKSxjLmxlbmd0aCYmKGEuY2FsbGJhY2tfKGMsYSksYj0hMCl9KSxiJiZkKCl9ZnVuY3Rpb24gZShhKXthLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXAuZ2V0KGIpO2MmJmMuZm9yRWFjaChmdW5jdGlvbihiKXtiLm9ic2VydmVyPT09YSYmYi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pfSl9ZnVuY3Rpb24gZihhLGIpe2Zvcih2YXIgYz1hO2M7Yz1jLnBhcmVudE5vZGUpe3ZhciBkPXAuZ2V0KGMpO2lmKGQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0sZz1mLm9wdGlvbnM7aWYoYz09PWF8fGcuc3VidHJlZSl7dmFyIGg9YihnKTtoJiZmLmVucXVldWUoaCl9fX19ZnVuY3Rpb24gZyhhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrdn1mdW5jdGlvbiBoKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gaShhKXt2YXIgYj1uZXcgaChhLnR5cGUsYS50YXJnZXQpO3JldHVybiBiLmFkZGVkTm9kZXM9YS5hZGRlZE5vZGVzLnNsaWNlKCksYi5yZW1vdmVkTm9kZXM9YS5yZW1vdmVkTm9kZXMuc2xpY2UoKSxiLnByZXZpb3VzU2libGluZz1hLnByZXZpb3VzU2libGluZyxiLm5leHRTaWJsaW5nPWEubmV4dFNpYmxpbmcsYi5hdHRyaWJ1dGVOYW1lPWEuYXR0cmlidXRlTmFtZSxiLmF0dHJpYnV0ZU5hbWVzcGFjZT1hLmF0dHJpYnV0ZU5hbWVzcGFjZSxiLm9sZFZhbHVlPWEub2xkVmFsdWUsYn1mdW5jdGlvbiBqKGEsYil7cmV0dXJuIHc9bmV3IGgoYSxiKX1mdW5jdGlvbiBrKGEpe3JldHVybiB4P3g6KHg9aSh3KSx4Lm9sZFZhbHVlPWEseCl9ZnVuY3Rpb24gbCgpe3c9eD12b2lkIDB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYT09PXh8fGE9PT13fWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYT09PWI/YTp4JiZtKGEpP3g6bnVsbH1mdW5jdGlvbiBvKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIHA9bmV3IFNpZGVUYWJsZSxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiBjW2QtMV09Zix2b2lkIDB9ZWxzZSBiKHRoaXMub2JzZXJ2ZXIpO2NbZF09YX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGEpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPXAuZ2V0KGEpO2J8fHAuc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGEpO2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXT09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIGI9YS5hdHRyTmFtZSxjPWEucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLGQ9YS50YXJnZXQsZT1uZXcgaigiYXR0cmlidXRlcyIsZCk7ZS5hdHRyaWJ1dGVOYW1lPWIsZS5hdHRyaWJ1dGVOYW1lc3BhY2U9Yzt2YXIgZz1hLmF0dHJDaGFuZ2U9PT1NdXRhdGlvbkV2ZW50LkFERElUSU9OP251bGw6YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiFhLmF0dHJpYnV0ZXN8fGEuYXR0cmlidXRlRmlsdGVyJiZhLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihiKSYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGMpP3ZvaWQgMDphLmF0dHJpYnV0ZU9sZFZhbHVlP2soZyk6ZX0pO2JyZWFrO2Nhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjp2YXIgZD1hLnRhcmdldCxlPWooImNoYXJhY3RlckRhdGEiLGQpLGc9YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJhY3RlckRhdGE/YS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/ayhnKTplOnZvaWQgMH0pO2JyZWFrO2Nhc2UiRE9NTm9kZVJlbW92ZWQiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYS50YXJnZXQpO2Nhc2UiRE9NTm9kZUluc2VydGVkIjp2YXIgaCxpLGQ9YS5yZWxhdGVkTm9kZSxtPWEudGFyZ2V0OyJET01Ob2RlSW5zZXJ0ZWQiPT09YS50eXBlPyhoPVttXSxpPVtdKTooaD1bXSxpPVttXSk7dmFyIG49bS5wcmV2aW91c1NpYmxpbmcsbz1tLm5leHRTaWJsaW5nLGU9aigiY2hpbGRMaXN0IixkKTtlLmFkZGVkTm9kZXM9aCxlLnJlbW92ZWROb2Rlcz1pLGUucHJldmlvdXNTaWJsaW5nPW4sZS5uZXh0U2libGluZz1vLGYoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGlsZExpc3Q/ZTp2b2lkIDB9KX1sKCl9fSxhLkpzTXV0YXRpb25PYnNlcnZlcj1nfSh0aGlzKSwhd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXImJih3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93LkpzTXV0YXRpb25PYnNlcnZlciwhTXV0YXRpb25PYnNlcnZlcikpdGhyb3cgbmV3IEVycm9yKCJubyBtdXRhdGlvbiBvYnNlcnZlciBzdXBwb3J0Iik7IWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixmKXt2YXIgZz1mfHx7fTtpZighYil0aHJvdyBuZXcgRXJyb3IoIk5hbWUgYXJndW1lbnQgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihnLm5hbWU9YiwhZy5wcm90b3R5cGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25zIG1pc3NpbmcgcmVxdWlyZWQgcHJvdG90eXBlIHByb3BlcnR5Iik7cmV0dXJuIGcubGlmZWN5Y2xlPWcubGlmZWN5Y2xlfHx7fSxnLmFuY2VzdHJ5PWMoZy5leHRlbmRzKSxkKGcpLGUoZyksayhnLnByb3RvdHlwZSksbShiLGcpLGcuY3Rvcj1uKGcpLGcuY3Rvci5wcm90b3R5cGU9Zy5wcm90b3R5cGUsZy5wcm90b3R5cGUuY29uc3RydWN0b3I9Zy5jdG9yLGEucmVhZHkmJmEudXBncmFkZUFsbChkb2N1bWVudCksZy5jdG9yfWZ1bmN0aW9uIGMoYSl7dmFyIGI9c1thXTtyZXR1cm4gYj9jKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZChhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLm5hbWUsYyYmKGEuaXM9YS5uYW1lKX1mdW5jdGlvbiBlKGEpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgYj1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYoYS5pcyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLnRhZyk7Yj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYyl9fWEubmF0aXZlPWJ9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZyh0KGEudGFnKSxhKX1mdW5jdGlvbiBnKGIsYyl7cmV0dXJuIGMuaXMmJmIuc2V0QXR0cmlidXRlKCJpcyIsYy5pcyksaChiLGMpLGIuX191cGdyYWRlZF9fPSEwLGEudXBncmFkZVN1YnRyZWUoYiksaihiKSxifWZ1bmN0aW9uIGgoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihpKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBpKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTFVua25vd25FbGVtZW50LnByb3RvdHlwZTspe2Zvcih2YXIgZixnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLGg9MDtmPWdbaF07aCsrKWRbZl18fChPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxmLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxmKSksZFtmXT0xKTtlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX19ZnVuY3Rpb24gaihhKXthLnJlYWR5Q2FsbGJhY2smJmEucmVhZHlDYWxsYmFjaygpfWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5zZXRBdHRyaWJ1dGU7YS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxjKXtsLmNhbGwodGhpcyxhLGMsYil9O3ZhciBjPWEucmVtb3ZlQXR0cmlidXRlO2EucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7bC5jYWxsKHRoaXMsYSxiLGMpfX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmdGhpcy5nZXRBdHRyaWJ1dGUoYSkhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQpfWZ1bmN0aW9uIG0oYSxiKXtzW2FdPWJ9ZnVuY3Rpb24gbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZihhKX19ZnVuY3Rpb24gbyhhKXt2YXIgYj1zW2FdO3JldHVybiBiP25ldyBiLmN0b3I6dChhKX1mdW5jdGlvbiBwKGEpe2lmKCFhLl9fdXBncmFkZWRfXyYmYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgiaXMiKXx8YS5sb2NhbE5hbWUsYz1zW2JdO3JldHVybiBjJiZnKGEsYyl9fWZ1bmN0aW9uIHEoYil7dmFyIGM9dS5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWlmKGF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KSxhLmhhc05hdGl2ZT0oZG9jdW1lbnQud2Via2l0UmVnaXN0ZXJ8fGRvY3VtZW50LnJlZ2lzdGVyKSYmIm5hdGl2ZSI9PT1hLmZsYWdzLnJlZ2lzdGVyLGEuaGFzTmF0aXZlKXtkb2N1bWVudC5yZWdpc3Rlcj1kb2N1bWVudC5yZWdpc3Rlcnx8ZG9jdW1lbnQud2Via2l0UmVnaXN0ZXI7dmFyIHI9ZnVuY3Rpb24oKXt9O2EucmVnaXN0cnk9e30sYS51cGdyYWRlRWxlbWVudD1yfWVsc2V7dmFyIHM9e30sdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpLHU9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlO2RvY3VtZW50LnJlZ2lzdGVyPWIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD1vLE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT1xLGEucmVnaXN0cnk9cyxhLnVwZ3JhZGU9cH19KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOihhLndlYmtpdFNoYWRvd1Jvb3QmJmMoYS53ZWJraXRTaGFkb3dSb290LGQpLHZvaWQgMCl9KSxhLndlYmtpdFNoYWRvd1Jvb3QmJmMoYS53ZWJraXRTaGFkb3dSb290LGQpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGcoYSk/KGgoYSksITApOihpKGEpLHZvaWQgMCl9ZnVuY3Rpb24gZShhKXtjKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCAwfSl9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZChhKXx8ZShhKX1mdW5jdGlvbiBnKGIpe2lmKCFiLl9fdXBncmFkZWRfXyYmYi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgiaXMiKXx8Yi5sb2NhbE5hbWUsZD1hLnJlZ2lzdHJ5W2NdO2lmKGQpcmV0dXJuIGxvZ0ZsYWdzLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksbG9nRmxhZ3MuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCksITB9fWZ1bmN0aW9uIGgoYSl7aShhKSxsKGEpJiZjKGEsZnVuY3Rpb24oYSl7aShhKX0pfWZ1bmN0aW9uIGkoYSl7KGEuaW5zZXJ0ZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJmxvZ0ZsYWdzLmRvbSkmJihsb2dGbGFncy5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGwoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9sb2dGbGFncy5kb20mJmNvbnNvbGUud2FybigiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5pbnNlcnRlZENhbGxiYWNrJiYobG9nRmxhZ3MuZG9tJiZjb25zb2xlLmxvZygiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSksYS5pbnNlcnRlZENhbGxiYWNrKCkpKSxsb2dGbGFncy5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gaihhKXtrKGEpLGMoYSxmdW5jdGlvbihhKXtrKGEpfSl9ZnVuY3Rpb24gayhhKXsoYS5yZW1vdmVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZsb2dGbGFncy5kb20pJiYobG9nRmxhZ3MuZG9tJiZjb25zb2xlLmxvZygicmVtb3ZlZDoiLGEubG9jYWxOYW1lKSxsKGEpfHwoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApLTEsYS5fX2luc2VydGVkPjAmJihhLl9faW5zZXJ0ZWQ9MCksYS5fX2luc2VydGVkPDA/bG9nRmxhZ3MuZG9tJiZjb25zb2xlLndhcm4oInJlbW92ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5yZW1vdmVkQ2FsbGJhY2smJmEucmVtb3ZlZENhbGxiYWNrKCkpKX1mdW5jdGlvbiBsKGEpe2Zvcih2YXIgYj1hO2I7KXtpZihiPT1hLm93bmVyRG9jdW1lbnQpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gbShhKXthLndlYmtpdFNoYWRvd1Jvb3QmJiFhLndlYmtpdFNoYWRvd1Jvb3QuX193YXRjaGVkJiYobG9nRmxhZ3MuZG9tJiZjb25zb2xlLmxvZygid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiAiLGEubG9jYWxOYW1lKSxyKGEud2Via2l0U2hhZG93Um9vdCksYS53ZWJraXRTaGFkb3dSb290Ll9fd2F0Y2hlZD0hMCl9ZnVuY3Rpb24gbihhKXttKGEpLGMoYSxmdW5jdGlvbigpe20oYSl9KX1mdW5jdGlvbiBvKGEpe3N3aXRjaChhLmxvY2FsTmFtZSl7Y2FzZSJzdHlsZSI6Y2FzZSJzY3JpcHQiOmNhc2UidGVtcGxhdGUiOmNhc2Ugdm9pZCAwOnJldHVybiEwfX1mdW5jdGlvbiBwKGEpe2lmKGxvZ0ZsYWdzLmRvbSl7dmFyIGI9YVswXTtpZihiJiYiY2hpbGRMaXN0Ij09PWIudHlwZSYmYi5hZGRlZE5vZGVzJiZiLmFkZGVkTm9kZXMpe2Zvcih2YXIgYz1iLmFkZGVkTm9kZXNbMF07YyYmYyE9PWRvY3VtZW50JiYhYy5ob3N0OyljPWMucGFyZW50Tm9kZTt2YXIgZD1jJiYoYy5VUkx8fGMuX1VSTHx8Yy5ob3N0JiZjLmhvc3QubG9jYWxOYW1lKXx8IiI7ZD1kLnNwbGl0KCIvPyIpLnNoaWZ0KCkuc3BsaXQoIi8iKS5wb3AoKX1jb25zb2xlLmdyb3VwKCJtdXRhdGlvbnMgKCVkKSBbJXNdIixhLmxlbmd0aCxkfHwiIil9YS5mb3JFYWNoKGZ1bmN0aW9uKGEpeyJjaGlsZExpc3QiPT09YS50eXBlJiYodihhLmFkZGVkTm9kZXMsZnVuY3Rpb24oYSl7byhhKXx8ZihhKX0pLHYoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7byhhKXx8aihhKX0pKX0pLGxvZ0ZsYWdzLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHEoKXtwKHUudGFrZVJlY29yZHMoKSkKfWZ1bmN0aW9uIHIoYSl7dS5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24gcyhhKXtyKGEpfWZ1bmN0aW9uIHQoYSl7bG9nRmxhZ3MuZG9tJiZjb25zb2xlLmdyb3VwKCJ1cGdyYWRlRG9jdW1lbnQ6ICIsKGEuVVJMfHxhLl9VUkx8fCIiKS5zcGxpdCgiLyIpLnBvcCgpKSxmKGEpLGxvZ0ZsYWdzLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfXZhciB1PW5ldyBNdXRhdGlvbk9ic2VydmVyKHApLHY9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLndhdGNoU2hhZG93PW0sYS53YXRjaEFsbFNoYWRvd3M9bixhLnVwZ3JhZGVBbGw9ZixhLnVwZ3JhZGVTdWJ0cmVlPWUsYS5vYnNlcnZlRG9jdW1lbnQ9cyxhLnVwZ3JhZGVEb2N1bWVudD10LGEudGFrZVJlY29yZHM9cX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHBhcnNlRWxlbWVudEVsZW1lbnQoYSl7dmFyIGI9e25hbWU6IiIsImV4dGVuZHMiOm51bGx9O3Rha2VBdHRyaWJ1dGVzKGEsYik7dmFyIGM9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGIuZXh0ZW5kcyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLmV4dGVuZHMpO2M9ZC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihkKX1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMpLGEub3B0aW9ucz1iO3ZhciBlPWEucXVlcnlTZWxlY3Rvcignc2NyaXB0Om5vdChbdHlwZV0pLHNjcmlwdFt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSxzY3JpcHRzJyk7ZSYmZXhlY3V0ZUNvbXBvbmVudFNjcmlwdChlLnRleHRDb250ZW50LGEsYi5uYW1lKTt2YXIgZj1kb2N1bWVudC5yZWdpc3RlcihiLm5hbWUsYik7YS5jdG9yPWY7dmFyIGc9YS5nZXRBdHRyaWJ1dGUoImNvbnN0cnVjdG9yIik7ZyYmKHdpbmRvd1tnXT1mKX1mdW5jdGlvbiB0YWtlQXR0cmlidXRlcyhhLGIpe2Zvcih2YXIgYyBpbiBiKXt2YXIgZD1hLmF0dHJpYnV0ZXNbY107ZCYmKGJbY109ZC52YWx1ZSl9fWZ1bmN0aW9uIGV4ZWN1dGVDb21wb25lbnRTY3JpcHQoaW5TY3JpcHQsaW5Db250ZXh0LGluTmFtZSl7Y29udGV4dD1pbkNvbnRleHQ7dmFyIG93bmVyPWNvbnRleHQub3duZXJEb2N1bWVudCx1cmw9b3duZXIuX1VSTHx8b3duZXIuVVJMfHxvd25lci5pbXBsJiYob3duZXIuaW1wbC5fVVJMfHxvd25lci5pbXBsLlVSTCksbWF0Y2g9dXJsLm1hdGNoKC8uKlwvKFteLl0qKVsuXT8uKiQvKTtpZihtYXRjaCl7dmFyIG5hbWU9bWF0Y2hbMV07dXJsKz1uYW1lIT1pbk5hbWU/IjoiK2luTmFtZToiIn12YXIgY29kZT0iX19jb21wb25lbnRTY3JpcHQoJyIraW5OYW1lKyInLCBmdW5jdGlvbigpeyIraW5TY3JpcHQrIn0pOyIrIlxuLy8jIHNvdXJjZVVSTD0iK3VybCsiXG4iO2V2YWwoY29kZSl9ZnVuY3Rpb24gbWl4aW4oYSxiKXthPWF8fHt9O3RyeXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixjKTtkJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLGQpfSl9Y2F0Y2goYyl7fXJldHVybiBhfXZhciBIVE1MRWxlbWVudEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVnaXN0ZXI9SFRNTEVsZW1lbnRFbGVtZW50LnByb3RvdHlwZS5yZWdpc3RlcixwYXJzZUVsZW1lbnRFbGVtZW50KGEpLGF9O0hUTUxFbGVtZW50RWxlbWVudC5wcm90b3R5cGU9e3JlZ2lzdGVyOmZ1bmN0aW9uKGEpe2EmJih0aGlzLm9wdGlvbnMubGlmZWN5Y2xlPWEubGlmZWN5Y2xlLGEucHJvdG90eXBlJiZtaXhpbih0aGlzLm9wdGlvbnMucHJvdG90eXBlLGEucHJvdG90eXBlKSl9fTt2YXIgY29udGV4dDt3aW5kb3cuX19jb21wb25lbnRTY3JpcHQ9ZnVuY3Rpb24oYSxiKXtiLmNhbGwoY29udGV4dCl9LHdpbmRvdy5IVE1MRWxlbWVudEVsZW1lbnQ9SFRNTEVsZW1lbnRFbGVtZW50fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Yn12YXIgYj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsYz17c2VsZWN0b3JzOlsibGlua1tyZWw9IitiKyJdIiwiZWxlbWVudCJdLG1hcDp7bGluazoicGFyc2VMaW5rIixlbGVtZW50OiJwYXJzZUVsZW1lbnQifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoYy5zZWxlY3RvcnMpO2QoYixmdW5jdGlvbihhKXtjW2MubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGIpe2EoYikmJnRoaXMucGFyc2VJbXBvcnQoYil9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2EuY29udGVudCYmYy5wYXJzZShhLmNvbnRlbnQpfSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7bmV3IEhUTUxFbGVtZW50RWxlbWVudChhKX19LGQ9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTtDdXN0b21FbGVtZW50cy5wYXJzZXI9Y30oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnJlYWR5PSEwLEN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZT1EYXRlLm5vdygpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEN1c3RvbUVsZW1lbnRzLmVsYXBzZWQ9Q3VzdG9tRWxlbWVudHMucmVhZHlUaW1lLUhUTUxJbXBvcnRzLnJlYWR5VGltZSksZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiV2ViQ29tcG9uZW50c1JlYWR5Iix7YnViYmxlczohMH0pKX0sMCl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBiLmluaXRFdmVudChhLCEwLCEwKSxifSksImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpYSgpO2Vsc2V7dmFyIGI9d2luZG93LkhUTUxJbXBvcnRzPyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGIsYSl9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe312YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2IudGV4dENvbnRlbnQ9ImVsZW1lbnQge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgYz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7aWYoYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpLHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7Q3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3c9YSxDdXN0b21FbGVtZW50cy53YXRjaEFsbFNoYWRvd3M9YTt2YXIgZD1bInVwZ3JhZGVBbGwiLCJ1cGdyYWRlU3VidHJlZSIsIm9ic2VydmVEb2N1bWVudCIsInVwZ3JhZGVEb2N1bWVudCJdLGU9e307ZC5mb3JFYWNoKGZ1bmN0aW9uKGEpe2VbYV09Q3VzdG9tRWxlbWVudHNbYV19KSxkLmZvckVhY2goZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHNbYV09ZnVuY3Rpb24oYil7cmV0dXJuIGVbYV0od3JhcChiKSl9fSl9fSgpLGZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGI9e3NoYWRvdzpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnNoYWRvd1Jvb3R8fGEud2Via2l0U2hhZG93Um9vdDp2b2lkIDB9LGNhblRhcmdldDpmdW5jdGlvbihhKXtyZXR1cm4gYSYmQm9vbGVhbihhLmVsZW1lbnRGcm9tUG9pbnQpfSx0YXJnZXRpbmdTaGFkb3c6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zaGFkb3coYSk7cmV0dXJuIHRoaXMuY2FuVGFyZ2V0KGIpP2I6dm9pZCAwfSxvbGRlclNoYWRvdzpmdW5jdGlvbihhKXt2YXIgYj1hLm9sZGVyU2hhZG93Um9vdDtpZighYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yKCJzaGFkb3ciKTtjJiYoYj1jLm9sZGVyU2hhZG93Um9vdCl9cmV0dXJuIGJ9LGFsbFNoYWRvd3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5zaGFkb3coYSk7YzspYi5wdXNoKGMpLGM9dGhpcy5vbGRlclNoYWRvdyhjKTtyZXR1cm4gYn0sc2VhcmNoUm9vdDpmdW5jdGlvbihhLGIsYyl7aWYoYSl7dmFyIGQsZSxmPWEuZWxlbWVudEZyb21Qb2ludChiLGMpO2ZvcihlPXRoaXMudGFyZ2V0aW5nU2hhZG93KGYpO2U7KXtpZihkPWUuZWxlbWVudEZyb21Qb2ludChiLGMpKXt2YXIgZz10aGlzLnRhcmdldGluZ1NoYWRvdyhkKTtyZXR1cm4gdGhpcy5zZWFyY2hSb290KGcsYixjKXx8ZH1lPXRoaXMub2xkZXJTaGFkb3coZSl9cmV0dXJuIGZ9fSxvd25lcjpmdW5jdGlvbihhKXtmb3IodmFyIGI9YTtiLnBhcmVudE5vZGU7KWI9Yi5wYXJlbnROb2RlO3JldHVybiBifSxmaW5kVGFyZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2xpZW50WCxjPWEuY2xpZW50WSxkPXRoaXMub3duZXIoYS50YXJnZXQpO3JldHVybiBkLmVsZW1lbnRGcm9tUG9pbnQoYixjKXx8KGQ9ZG9jdW1lbnQpLHRoaXMuc2VhcmNoUm9vdChkb2N1bWVudCxiLGMpfX07YS50YXJnZXRGaW5kaW5nPWIsYS5maW5kVGFyZ2V0PWIuZmluZFRhcmdldC5iaW5kKGIpLHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw9YX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybidbdG91Y2gtYWN0aW9uPSInK2ErJyJdJ31mdW5jdGlvbiBiKGEpe3JldHVybiJ7IC1tcy10b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb246ICIrYSsiOyB9In12YXIgYz1bIm5vbmUiLCJhdXRvIiwicGFuLXgiLCJwYW4teSIse3J1bGU6InBhbi14IHBhbi15IixzZWxlY3RvcnM6WyJwYW4teCBwYW4teSIsInBhbi15IHBhbi14Il19XSxkPSIiO2MuZm9yRWFjaChmdW5jdGlvbihjKXtkKz1TdHJpbmcoYyk9PT1jP2EoYykrYihjKTpjLnNlbGVjdG9ycy5tYXAoYSkrYihjLnJ1bGUpfSk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnRleHRDb250ZW50PWQ7dmFyIGY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2YuaW5zZXJ0QmVmb3JlKGUsZi5maXJzdENoaWxkKX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7dmFyIGI9Ynx8e30sZT1iLmJ1dHRvbnM7aWYodm9pZCAwPT09ZSlzd2l0Y2goYi53aGljaCl7Y2FzZSAxOmU9MTticmVhaztjYXNlIDI6ZT00O2JyZWFrO2Nhc2UgMzplPTI7YnJlYWs7ZGVmYXVsdDplPTB9dmFyIGY7aWYoYylmPW5ldyBNb3VzZUV2ZW50KGEsYik7ZWxzZXtmPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50Iik7dmFyIGc9e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSx2aWV3Om51bGwsZGV0YWlsOm51bGwsc2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsYnV0dG9uOjAscmVsYXRlZFRhcmdldDpudWxsfTtPYmplY3Qua2V5cyhnKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EgaW4gYiYmKGdbYV09YlthXSl9KSxmLmluaXRNb3VzZUV2ZW50KGEsZy5idWJibGVzLGcuY2FuY2VsYWJsZSxnLnZpZXcsZy5kZXRhaWwsZy5zY3JlZW5YLGcuc2NyZWVuWSxnLmNsaWVudFgsZy5jbGllbnRZLGcuY3RybEtleSxnLmFsdEtleSxnLnNoaWZ0S2V5LGcubWV0YUtleSxnLmJ1dHRvbixnLnJlbGF0ZWRUYXJnZXQpfWR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCJidXR0b25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGVudW1lcmFibGU6ITB9KTt2YXIgaD0wO3JldHVybiBoPWIucHJlc3N1cmU/Yi5wcmVzc3VyZTplPy41OjAsT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZix7cG9pbnRlcklkOnt2YWx1ZTpiLnBvaW50ZXJJZHx8MCxlbnVtZXJhYmxlOiEwfSx3aWR0aDp7dmFsdWU6Yi53aWR0aHx8MCxlbnVtZXJhYmxlOiEwfSxoZWlnaHQ6e3ZhbHVlOmIuaGVpZ2h0fHwwLGVudW1lcmFibGU6ITB9LHByZXNzdXJlOnt2YWx1ZTpoLGVudW1lcmFibGU6ITB9LHRpbHRYOnt2YWx1ZTpiLnRpbHRYfHwwLGVudW1lcmFibGU6ITB9LHRpbHRZOnt2YWx1ZTpiLnRpbHRZfHwwLGVudW1lcmFibGU6ITB9LHBvaW50ZXJUeXBlOnt2YWx1ZTpiLnBvaW50ZXJUeXBlfHwiIixlbnVtZXJhYmxlOiEwfSxod1RpbWVzdGFtcDp7dmFsdWU6Yi5od1RpbWVzdGFtcHx8MCxlbnVtZXJhYmxlOiEwfSxpc1ByaW1hcnk6e3ZhbHVlOmIuaXNQcmltYXJ5fHwhMSxlbnVtZXJhYmxlOiEwfX0pLGZ9dmFyIGM9ITEsZD0hMTt0cnl7dmFyIGU9bmV3IE1vdXNlRXZlbnQoImNsaWNrIix7YnV0dG9uczoxfSk7Yz0hMCxkPTE9PT1lLmJ1dHRvbnN9Y2F0Y2goZil7fWEuUG9pbnRlckV2ZW50fHwoYS5Qb2ludGVyRXZlbnQ9Yil9KHdpbmRvdyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMuaWRzPVtdLHRoaXMucG9pbnRlcnM9W119Yi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaWRzLmluZGV4T2YoYSk7Yz4tMT90aGlzLnBvaW50ZXJzW2NdPWI6KHRoaXMuaWRzLnB1c2goYSksdGhpcy5wb2ludGVycy5wdXNoKGIpKX0saGFzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlkcy5pbmRleE9mKGEpPi0xfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlkcy5pbmRleE9mKGEpO2I+LTEmJih0aGlzLmlkcy5zcGxpY2UoYiwxKSx0aGlzLnBvaW50ZXJzLnNwbGljZShiLDEpKX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaWRzLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMucG9pbnRlcnNbYl19LGdldCBzaXplKCl7cmV0dXJuIHRoaXMucG9pbnRlcnMubGVuZ3RofSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuaWRzLmxlbmd0aD0wLHRoaXMucG9pbnRlcnMubGVuZ3RoPTB9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXt0aGlzLmlkcy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YS5jYWxsKGIsYyx0aGlzLnBvaW50ZXJzW2RdLHRoaXMpfSx0aGlzKX19LGEuUG9pbnRlck1hcD13aW5kb3cuTWFwJiZNYXAucHJvdG90eXBlLmZvckVhY2g/TWFwOmJ9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgV2Vha01hcCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94LyIpPDApYj1XZWFrTWFwO2Vsc2V7dmFyIGM9T2JqZWN0LmRlZmluZVByb3BlcnR5LGQ9T2JqZWN0Lmhhc093blByb3BlcnR5LGU9KG5ldyBEYXRlKS5nZXRUaW1lKCklMWU5O2I9ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyhlKysgKyJfXyIpfSxiLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7YyhhLHRoaXMubmFtZSx7dmFsdWU6Yix3cml0YWJsZTohMH0pfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuY2FsbChhLHRoaXMubmFtZSk/YVt0aGlzLm5hbWVdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX19YS5TaWRlVGFibGU9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9e3RhcmdldHM6bmV3IGEuU2lkZVRhYmxlLGhhbmRsZWRFdmVudHM6bmV3IGEuU2lkZVRhYmxlLHBvaW50ZXJtYXA6bmV3IGEuUG9pbnRlck1hcCxldmVudE1hcDp7fSxldmVudFNvdXJjZXM6e30sZXZlbnRTb3VyY2VMaXN0OltdLHJlZ2lzdGVyU291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YixkPWMuZXZlbnRzO2QmJihkLmZvckVhY2goZnVuY3Rpb24oYSl7Y1thXSYmKHRoaXMuZXZlbnRNYXBbYV09Y1thXS5iaW5kKGMpKX0sdGhpcyksdGhpcy5ldmVudFNvdXJjZXNbYV09Yyx0aGlzLmV2ZW50U291cmNlTGlzdC5wdXNoKGMpKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi5yZWdpc3Rlci5jYWxsKGIsYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi51bnJlZ2lzdGVyLmNhbGwoYixhKX0sZG93bjpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgicG9pbnRlcmRvd24iLGEpfSxtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVybW92ZSIsYSl9LHVwOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVydXAiLGEpfSxlbnRlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITEsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJlbnRlciIsYSl9LGxlYXZlOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmxlYXZlIixhKX0sb3ZlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJvdmVyIixhKX0sb3V0OmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm91dCIsYSl9LGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgicG9pbnRlcmNhbmNlbCIsYSl9LGxlYXZlT3V0OmZ1bmN0aW9uKGEpe2EudGFyZ2V0LmNvbnRhaW5zKGEucmVsYXRlZFRhcmdldCl8fHRoaXMubGVhdmUoYSksdGhpcy5vdXQoYSl9LGVudGVyT3ZlcjpmdW5jdGlvbihhKXthLnRhcmdldC5jb250YWlucyhhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpLHRoaXMub3ZlcihhKX0sZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmhhbmRsZWRFdmVudHMuZ2V0KGEpKXt2YXIgYj1hLnR5cGUsYz10aGlzLmV2ZW50TWFwJiZ0aGlzLmV2ZW50TWFwW2JdO2MmJmMoYSksdGhpcy5oYW5kbGVkRXZlbnRzLnNldChhLCEwKX19LGxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLmFkZEV2ZW50KGEsYil9LHRoaXMpfSx1bmxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLnJlbW92ZUV2ZW50KGEsYil9LHRoaXMpfSxhZGRFdmVudDpmdW5jdGlvbihhLGIpe2EuYWRkRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKX0scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoYix0aGlzLmJvdW5kSGFuZGxlcil9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBQb2ludGVyRXZlbnQoYSxiKTtyZXR1cm4gdGhpcy50YXJnZXRzLnNldChjLHRoaXMudGFyZ2V0cy5nZXQoYil8fGIudGFyZ2V0KSxjfSxmaXJlRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1ha2VFdmVudChhLGIpO3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoYyl9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9e307Zm9yKHZhciBjIGluIGEpYltjXT1hW2NdO3JldHVybiBifSxnZXRUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1hLnBvaW50ZXJJZD90aGlzLmNhcHR1cmVJbmZvLnRhcmdldDp0aGlzLnRhcmdldHMuZ2V0KGEpfSxzZXRDYXB0dXJlOmZ1bmN0aW9uKGEsYil7dGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5yZWxlYXNlQ2FwdHVyZSh0aGlzLmNhcHR1cmVJbmZvLmlkKSx0aGlzLmNhcHR1cmVJbmZvPXtpZDphLHRhcmdldDpifTt2YXIgYz1uZXcgUG9pbnRlckV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KTt0aGlzLmltcGxpY2l0UmVsZWFzZT10aGlzLnJlbGVhc2VDYXB0dXJlLmJpbmQodGhpcyxhKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChjLGIpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KGMpfSxyZWxlYXNlQ2FwdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09YSl7dmFyIGI9bmV3IFBvaW50ZXJFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pLGM9dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ7dGhpcy5jYXB0dXJlSW5mbz1udWxsLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KGIsYyksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQoYil9fSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VGFyZ2V0KGEpO3JldHVybiBiP2IuZGlzcGF0Y2hFdmVudChhKTp2b2lkIDB9LGFzeW5jRGlzcGF0Y2hFdmVudDpmdW5jdGlvbihhKXtzZXRUaW1lb3V0KHRoaXMuZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMsYSksMCl9fTtiLmJvdW5kSGFuZGxlcj1iLmV2ZW50SGFuZGxlci5iaW5kKGIpLGEuZGlzcGF0Y2hlcj1iLGEucmVnaXN0ZXI9Yi5yZWdpc3Rlci5iaW5kKGIpLGEudW5yZWdpc3Rlcj1iLnVucmVnaXN0ZXIuYmluZChiKX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIsYyxkKXt0aGlzLmFkZENhbGxiYWNrPWEuYmluZChkKSx0aGlzLnJlbW92ZUNhbGxiYWNrPWIuYmluZChkKSx0aGlzLmNoYW5nZWRDYWxsYmFjaz1jLmJpbmQoZCksZyYmKHRoaXMub2JzZXJ2ZXI9bmV3IGcodGhpcy5tdXRhdGlvbldhdGNoZXIuYmluZCh0aGlzKSkpfXZhciBjPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksZD1BcnJheS5wcm90b3R5cGUubWFwLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUubWFwKSxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLnNsaWNlKSxmPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpLGc9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGg9Ilt0b3VjaC1hY3Rpb25dIixpPXtzdWJ0cmVlOiEwLGNoaWxkTGlzdDohMCxhdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwLGF0dHJpYnV0ZUZpbHRlcjpbInRvdWNoLWFjdGlvbiJdfTtiLnByb3RvdHlwZT17d2F0Y2hTdWJ0cmVlOmZ1bmN0aW9uKGIpe2EudGFyZ2V0RmluZGluZy5jYW5UYXJnZXQoYikmJnRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShiLGkpfSxlbmFibGVPblN1YnRyZWU6ZnVuY3Rpb24oYSl7dGhpcy53YXRjaFN1YnRyZWUoYSksYT09PWRvY3VtZW50JiYiY29tcGxldGUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZT90aGlzLmluc3RhbGxPbkxvYWQoKTp0aGlzLmluc3RhbGxOZXdTdWJ0cmVlKGEpfSxpbnN0YWxsTmV3U3VidHJlZTpmdW5jdGlvbihhKXtjKHRoaXMuZmluZEVsZW1lbnRzKGEpLHRoaXMuYWRkRWxlbWVudCx0aGlzKX0sZmluZEVsZW1lbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGw/YS5xdWVyeVNlbGVjdG9yQWxsKGgpOltdfSxyZW1vdmVFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlQ2FsbGJhY2soYSl9LGFkZEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5hZGRDYWxsYmFjayhhKX0sZWxlbWVudENoYW5nZWQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmNoYW5nZWRDYWxsYmFjayhhLGIpfSxjb25jYXRMaXN0czpmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChlKGIpKX0saW5zdGFsbE9uTG9hZDpmdW5jdGlvbigpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLHRoaXMuaW5zdGFsbE5ld1N1YnRyZWUuYmluZCh0aGlzLGRvY3VtZW50KSl9LGlzRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfSxmbGF0dGVuTXV0YXRpb25UcmVlOmZ1bmN0aW9uKGEpe3ZhciBiPWQoYSx0aGlzLmZpbmRFbGVtZW50cyx0aGlzKTtyZXR1cm4gYi5wdXNoKGYoYSx0aGlzLmlzRWxlbWVudCkpLGIucmVkdWNlKHRoaXMuY29uY2F0TGlzdHMsW10pfSxtdXRhdGlvbldhdGNoZXI6ZnVuY3Rpb24oYSl7YS5mb3JFYWNoKHRoaXMubXV0YXRpb25IYW5kbGVyLHRoaXMpfSxtdXRhdGlvbkhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoImNoaWxkTGlzdCI9PT1hLnR5cGUpe3ZhciBiPXRoaXMuZmxhdHRlbk11dGF0aW9uVHJlZShhLmFkZGVkTm9kZXMpO2IuZm9yRWFjaCh0aGlzLmFkZEVsZW1lbnQsdGhpcyk7dmFyIGM9dGhpcy5mbGF0dGVuTXV0YXRpb25UcmVlKGEucmVtb3ZlZE5vZGVzKTtjLmZvckVhY2godGhpcy5yZW1vdmVFbGVtZW50LHRoaXMpfWVsc2UiYXR0cmlidXRlcyI9PT1hLnR5cGUmJnRoaXMuZWxlbWVudENoYW5nZWQoYS50YXJnZXQsYS5vbGRWYWx1ZSl9fSxnfHwoYi5wcm90b3R5cGUud2F0Y2hTdWJ0cmVlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJQb2ludGVyRXZlbnRzUG9seWZpbGw6IE11dGF0aW9uT2JzZXJ2ZXJzIG5vdCBmb3VuZCwgdG91Y2gtYWN0aW9uIHdpbGwgbm90IGJlIGR5bmFtaWNhbGx5IGRldGVjdGVkIil9KSxhLkluc3RhbGxlcj1ifSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1iLnBvaW50ZXJtYXAsZD0yNSxlPXtQT0lOVEVSX0lEOjEsUE9JTlRFUl9UWVBFOiJtb3VzZSIsZXZlbnRzOlsibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0Il0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sbGFzdFRvdWNoZXM6W10saXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmxhc3RUb3VjaGVzLGU9YS5jbGllbnRYLGY9YS5jbGllbnRZLGc9MCxoPWMubGVuZ3RoO2g+ZyYmKGI9Y1tnXSk7ZysrKXt2YXIgaT1NYXRoLmFicyhlLWIueCksaj1NYXRoLmFicyhmLWIueSk7aWYoZD49aSYmZD49ailyZXR1cm4hMH19LHByZXBhcmVFdmVudDpmdW5jdGlvbihhKXt2YXIgYz1iLmNsb25lRXZlbnQoYSk7cmV0dXJuIGMucG9pbnRlcklkPXRoaXMuUE9JTlRFUl9JRCxjLmlzUHJpbWFyeT0hMCxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGN9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmhhcyh0aGlzLlBPSU5URVJfSUQpO2QmJnRoaXMuY2FuY2VsKGEpO3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2Muc2V0KHRoaXMuUE9JTlRFUl9JRCxhKSxiLmRvd24oZSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfX0sbW91c2V1cDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmdldCh0aGlzLlBPSU5URVJfSUQpO2lmKGQmJmQuYnV0dG9uPT09YS5idXR0b24pe3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoZSksdGhpcy5jbGVhbnVwTW91c2UoKX19fSxtb3VzZW92ZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9fSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cE1vdXNlKCl9LGNsZWFudXBNb3VzZTpmdW5jdGlvbigpe2MuZGVsZXRlKHRoaXMuUE9JTlRFUl9JRCl9fTthLm1vdXNlRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kaXNwYXRjaGVyLGQ9YS5maW5kVGFyZ2V0LGU9YS50YXJnZXRGaW5kaW5nLmFsbFNoYWRvd3MuYmluZChhLnRhcmdldEZpbmRpbmcpLGY9Yy5wb2ludGVybWFwLGc9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksaD0yNTAwLGk9InRvdWNoLWFjdGlvbiIsaj0ic3RyaW5nIj09dHlwZW9mIGRvY3VtZW50LmhlYWQuc3R5bGUudG91Y2hBY3Rpb24saz17c2Nyb2xsVHlwZTpuZXcgYS5TaWRlVGFibGUsZXZlbnRzOlsidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwidG91Y2hjYW5jZWwiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtqP2MubGlzdGVuKGEsdGhpcy5ldmVudHMpOmIuZW5hYmxlT25TdWJ0cmVlKGEpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2omJmMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LGVsZW1lbnRBZGRlZDpmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShpKSxkPXRoaXMudG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGUoYik7ZCYmKHRoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxjLmxpc3RlbihhLHRoaXMuZXZlbnRzKSxlKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlLnNldChhLGQpLGMubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx0aGlzKSl9LGVsZW1lbnRSZW1vdmVkOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5kZWxldGUoYSksYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKSxlKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlLmRlbGV0ZShhKSxjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx0aGlzKX0sZWxlbWVudENoYW5nZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZShpKSxkPXRoaXMudG91Y2hBY3Rpb250b1Njcm9sbFR5cGUoYyksZj10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGIpO2QmJmY/KHRoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxlKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlLnNldChhLGQpfSx0aGlzKSk6Zj90aGlzLmVsZW1lbnRSZW1vdmVkKGEpOmQmJnRoaXMuZWxlbWVudEFkZGVkKGEpfSxzY3JvbGxUeXBlczp7RU1JVFRFUjoibm9uZSIsWFNDUk9MTEVSOiJwYW4teCIsWVNDUk9MTEVSOiJwYW4teSIsU0NST0xMRVI6L14oPzpwYW4teCBwYW4teSl8KD86cGFuLXkgcGFuLXgpfGF1dG8kL30sdG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9YSxjPXRoaXMuc2Nyb2xsVHlwZXM7cmV0dXJuIm5vbmUiPT09Yj8ibm9uZSI6Yj09PWMuWFNDUk9MTEVSPyJYIjpiPT09Yy5ZU0NST0xMRVI/IlkiOmMuU0NST0xMRVIuZXhlYyhiKT8iWFkiOnZvaWQgMH0sUE9JTlRFUl9UWVBFOiJ0b3VjaCIsZmlyc3RUb3VjaDpudWxsLGlzUHJpbWFyeVRvdWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpcnN0VG91Y2g9PT1hLmlkZW50aWZpZXJ9LHNldFByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXtudWxsPT09dGhpcy5maXJzdFRvdWNoJiYodGhpcy5maXJzdFRvdWNoPWEuaWRlbnRpZmllcix0aGlzLmZpcnN0WFk9e1g6YS5jbGllbnRYLFk6YS5jbGllbnRZfSx0aGlzLnNjcm9sbGluZz0hMSl9LHJlbW92ZVByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXt0aGlzLmlzUHJpbWFyeVRvdWNoKGEpJiYodGhpcy5maXJzdFRvdWNoPW51bGwsdGhpcy5maXJzdFhZPW51bGwpfSx0b3VjaFRvUG9pbnRlcjpmdW5jdGlvbihhKXt2YXIgYj1jLmNsb25lRXZlbnQoYSk7cmV0dXJuIGIucG9pbnRlcklkPWEuaWRlbnRpZmllcisyLGIudGFyZ2V0PWQoYiksYi5idWJibGVzPSEwLGIuY2FuY2VsYWJsZT0hMCxiLmJ1dHRvbj0wLGIuYnV0dG9ucz0xLGIud2lkdGg9YS53ZWJraXRSYWRpdXNYfHxhLnJhZGl1c1h8fDAsYi5oZWlnaHQ9YS53ZWJraXRSYWRpdXNZfHxhLnJhZGl1c1l8fDAsYi5wcmVzc3VyZT1hLndlYmtpdEZvcmNlfHxhLmZvcmNlfHwuNSxiLmlzUHJpbWFyeT10aGlzLmlzUHJpbWFyeVRvdWNoKGEpLGIucG9pbnRlclR5cGU9dGhpcy5QT0lOVEVSX1RZUEUsYn0scHJvY2Vzc1RvdWNoZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNoYW5nZWRUb3VjaGVzLGQ9ZyhjLHRoaXMudG91Y2hUb1BvaW50ZXIsdGhpcyk7ZC5mb3JFYWNoKGIsdGhpcyl9LHNob3VsZFNjcm9sbDpmdW5jdGlvbihhKXtpZih0aGlzLmZpcnN0WFkpe3ZhciBiLGM9dGhpcy5zY3JvbGxUeXBlLmdldChhLmN1cnJlbnRUYXJnZXQpO2lmKCJub25lIj09PWMpYj0hMTtlbHNlIGlmKCJYWSI9PT1jKWI9ITA7ZWxzZXt2YXIgZD1hLmNoYW5nZWRUb3VjaGVzWzBdLGU9YyxmPSJZIj09PWM/IlgiOiJZIixnPU1hdGguYWJzKGRbImNsaWVudCIrZV0tdGhpcy5maXJzdFhZW2VdKSxoPU1hdGguYWJzKGRbImNsaWVudCIrZl0tdGhpcy5maXJzdFhZW2ZdKTtiPWc+PWh9cmV0dXJuIHRoaXMuZmlyc3RYWT1udWxsLGJ9fSxmaW5kVG91Y2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspaWYoYy5pZGVudGlmaWVyPT09YilyZXR1cm4hMH0sdmFjdXVtVG91Y2hlczpmdW5jdGlvbihhKXt2YXIgYj1hLnRvdWNoZXM7aWYoZi5zaXplPj1iLmxlbmd0aCl7dmFyIGM9W107Zi5mb3JFYWNoKGZ1bmN0aW9uKGEsZCl7aWYoMSE9PWEmJiF0aGlzLmZpbmRUb3VjaChiLGEtMikpe3ZhciBlPWQub3V0O2MucHVzaCh0aGlzLnRvdWNoVG9Qb2ludGVyKGUpKX19LHRoaXMpLGMuZm9yRWFjaCh0aGlzLmNhbmNlbE91dCx0aGlzKX19LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy52YWN1dW1Ub3VjaGVzKGEpLHRoaXMuc2V0UHJpbWFyeVRvdWNoKGEuY2hhbmdlZFRvdWNoZXNbMF0pLHRoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMuc2Nyb2xsaW5nfHx0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5vdmVyRG93bil9LG92ZXJEb3duOmZ1bmN0aW9uKGEpe2Yuc2V0KGEucG9pbnRlcklkLHt0YXJnZXQ6YS50YXJnZXQsb3V0OmEsb3V0VGFyZ2V0OmEudGFyZ2V0fSksYy5vdmVyKGEpLGMuZG93bihhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwodGhpcy5zaG91bGRTY3JvbGwoYSk/KHRoaXMuc2Nyb2xsaW5nPSEwLHRoaXMudG91Y2hjYW5jZWwoYSkpOihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMubW92ZU92ZXJPdXQpKSl9LG1vdmVPdmVyT3V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEsZD1mLmdldChiLnBvaW50ZXJJZCk7aWYoZCl7dmFyIGU9ZC5vdXQsZz1kLm91dFRhcmdldDtjLm1vdmUoYiksZSYmZyE9PWIudGFyZ2V0JiYoZS5yZWxhdGVkVGFyZ2V0PWIudGFyZ2V0LGIucmVsYXRlZFRhcmdldD1nLGUudGFyZ2V0PWcsYi50YXJnZXQ/KGMubGVhdmVPdXQoZSksYy5lbnRlck92ZXIoYikpOihiLnRhcmdldD1nLGIucmVsYXRlZFRhcmdldD1udWxsLHRoaXMuY2FuY2VsT3V0KGIpKSksZC5vdXQ9YixkLm91dFRhcmdldD1iLnRhcmdldH19LHRvdWNoZW5kOmZ1bmN0aW9uKGEpe3RoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLnVwT3V0KX0sdXBPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxpbmd8fChjLnVwKGEpLGMub3V0KGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksdGhpcy5jbGVhblVwUG9pbnRlcihhKX0sY2xlYW5VcFBvaW50ZXI6ZnVuY3Rpb24oYSl7Zi5kZWxldGUoYS5wb2ludGVySWQpLHRoaXMucmVtb3ZlUHJpbWFyeVRvdWNoKGEpfSxkZWR1cFN5bnRoTW91c2U6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb3VzZUV2ZW50cy5sYXN0VG91Y2hlcyxkPWIuY2hhbmdlZFRvdWNoZXNbMF07aWYodGhpcy5pc1ByaW1hcnlUb3VjaChkKSl7dmFyIGU9e3g6ZC5jbGllbnRYLHk6ZC5jbGllbnRZfTtjLnB1c2goZSk7dmFyIGY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmluZGV4T2YoYik7Yz4tMSYmYS5zcGxpY2UoYywxKX0uYmluZChudWxsLGMsZSk7c2V0VGltZW91dChmLGgpfX19O2p8fChiPW5ldyBhLkluc3RhbGxlcihrLmVsZW1lbnRBZGRlZCxrLmVsZW1lbnRSZW1vdmVkLGsuZWxlbWVudENoYW5nZWQsaykpLGEudG91Y2hFdmVudHM9a30od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9Yi5wb2ludGVybWFwLGQ9d2luZG93Lk1TUG9pbnRlckV2ZW50JiYibnVtYmVyIj09dHlwZW9mIHdpbmRvdy5NU1BvaW50ZXJFdmVudC5NU1BPSU5URVJfVFlQRV9NT1VTRSxlPXtldmVudHM6WyJNU1BvaW50ZXJEb3duIiwiTVNQb2ludGVyTW92ZSIsIk1TUG9pbnRlclVwIiwiTVNQb2ludGVyT3V0IiwiTVNQb2ludGVyT3ZlciIsIk1TUG9pbnRlckNhbmNlbCIsIk1TR290UG9pbnRlckNhcHR1cmUiLCJNU0xvc3RQb2ludGVyQ2FwdHVyZSJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LFBPSU5URVJfVFlQRVM6WyIiLCJ1bmF2YWlsYWJsZSIsInRvdWNoIiwicGVuIiwibW91c2UiXSxwcmVwYXJlRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9YTtyZXR1cm4gZCYmKGM9Yi5jbG9uZUV2ZW50KGEpLGMucG9pbnRlclR5cGU9dGhpcy5QT0lOVEVSX1RZUEVTW2EucG9pbnRlclR5cGVdKSxjfSxjbGVhbnVwOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEpfSxNU1BvaW50ZXJEb3duOmZ1bmN0aW9uKGEpe2Muc2V0KGEucG9pbnRlcklkLGEpO3ZhciBkPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZG93bihkKX0sTVNQb2ludGVyTW92ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLm1vdmUoYyl9LE1TUG9pbnRlclVwOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoYyksdGhpcy5jbGVhbnVwKGEucG9pbnRlcklkKX0sTVNQb2ludGVyT3V0OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IubGVhdmVPdXQoYyl9LE1TUG9pbnRlck92ZXI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9LE1TUG9pbnRlckNhbmNlbDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmNhbmNlbChjKSx0aGlzLmNsZWFudXAoYS5wb2ludGVySWQpfSxNU0xvc3RQb2ludGVyQ2FwdHVyZTpmdW5jdGlvbihhKXt2YXIgYz1iLm1ha2VFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIixhKTtiLmRpc3BhdGNoRXZlbnQoYyl9LE1TR290UG9pbnRlckNhcHR1cmU6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5tYWtlRXZlbnQoImdvdHBvaW50ZXJjYXB0dXJlIixhKTtiLmRpc3BhdGNoRXZlbnQoYyl9fTthLm1zRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcjtpZih2b2lkIDA9PT13aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkKXtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Lm5hdmlnYXRvciwicG9pbnRlckVuYWJsZWQiLHt2YWx1ZTohMCxlbnVtZXJhYmxlOiEwfSksd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKXt2YXIgYz13aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5uYXZpZ2F0b3IsIm1heFRvdWNoUG9pbnRzIix7dmFsdWU6YyxlbnVtZXJhYmxlOiEwfSksYi5yZWdpc3RlclNvdXJjZSgibXMiLGEubXNFdmVudHMpfWVsc2UgYi5yZWdpc3RlclNvdXJjZSgibW91c2UiLGEubW91c2VFdmVudHMpLHZvaWQgMCE9PXdpbmRvdy5vbnRvdWNoc3RhcnQmJmIucmVnaXN0ZXJTb3VyY2UoInRvdWNoIixhLnRvdWNoRXZlbnRzKTtiLnJlZ2lzdGVyKGRvY3VtZW50KX19KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7aWYoIWUucG9pbnRlcm1hcC5oYXMoYSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkUG9pbnRlcklkIil9dmFyIGMsZCxlPWEuZGlzcGF0Y2hlcixmPXdpbmRvdy5uYXZpZ2F0b3I7Zi5tc1BvaW50ZXJFbmFibGVkPyhjPWZ1bmN0aW9uKGEpe2IoYSksdGhpcy5tc1NldFBvaW50ZXJDYXB0dXJlKGEpfSxkPWZ1bmN0aW9uKGEpe2IoYSksdGhpcy5tc1JlbGVhc2VQb2ludGVyQ2FwdHVyZShhKX0pOihjPWZ1bmN0aW9uKGEpe2IoYSksZS5zZXRDYXB0dXJlKGEsdGhpcyl9LGQ9ZnVuY3Rpb24oYSl7YihhKSxlLnJlbGVhc2VDYXB0dXJlKGEsdGhpcyl9KSxFbGVtZW50LnByb3RvdHlwZS5zZXRQb2ludGVyQ2FwdHVyZXx8T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NldFBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpjfSxyZWxlYXNlUG9pbnRlckNhcHR1cmU6e3ZhbHVlOmR9fSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLFBvaW50ZXJHZXN0dXJlRXZlbnQucHJvdG90eXBlLnByZXZlbnRUYXA9ZnVuY3Rpb24oKXt0aGlzLnRhcFByZXZlbnRlZD0hMH0sZnVuY3Rpb24oYSl7YT1hfHx7fSxhLnV0aWxzPXtMQ0E6e2ZpbmQ6ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gYTtpZihhLmNvbnRhaW5zKXtpZihhLmNvbnRhaW5zKGIpKXJldHVybiBhO2lmKGIuY29udGFpbnMoYSkpcmV0dXJuIGJ9dmFyIGM9dGhpcy5kZXB0aChhKSxkPXRoaXMuZGVwdGgoYiksZT1jLWQ7Zm9yKGU+MD9hPXRoaXMud2FsayhhLGUpOmI9dGhpcy53YWxrKGIsLWUpO2EmJmImJmEhPT1iOylhPXRoaXMud2FsayhhLDEpLGI9dGhpcy53YWxrKGIsMSk7cmV0dXJuIGF9LHdhbGs6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7YysrKWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxkZXB0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDthOyliKyssYT1hLnBhcmVudE5vZGU7cmV0dXJuIGJ9fX0sYS5maW5kTENBPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEudXRpbHMuTENBLmZpbmQoYixjKX0sd2luZG93LlBvaW50ZXJHZXN0dXJlcz1hfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYjtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFdlYWtNYXAmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8iKTwwKWI9V2Vha01hcDtlbHNle3ZhciBjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxkPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxlPShuZXcgRGF0ZSkuZ2V0VGltZSgpJTFlOTtiPWZ1bmN0aW9uKCl7dGhpcy5uYW1lPSJfX3N0IisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSsoZSsrICsiX18iKX0sYi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe2MoYSx0aGlzLm5hbWUse3ZhbHVlOmIsd3JpdGFibGU6ITB9KX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBkLmNhbGwoYSx0aGlzLm5hbWUpP2FbdGhpcy5uYW1lXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3RoaXMuc2V0KGEsdm9pZCAwKX19fWEuU2lkZVRhYmxlPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLmlkcz1bXSx0aGlzLnBvaW50ZXJzPVtdfWIucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlkcy5pbmRleE9mKGEpO2M+LTE/dGhpcy5wb2ludGVyc1tjXT1iOih0aGlzLmlkcy5wdXNoKGEpLHRoaXMucG9pbnRlcnMucHVzaChiKSl9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pZHMuaW5kZXhPZihhKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pZHMuaW5kZXhPZihhKTtiPi0xJiYodGhpcy5pZHMuc3BsaWNlKGIsMSksdGhpcy5wb2ludGVycy5zcGxpY2UoYiwxKSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlkcy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnBvaW50ZXJzW2JdfSxnZXQgc2l6ZSgpe3JldHVybiB0aGlzLnBvaW50ZXJzLmxlbmd0aH0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmlkcy5sZW5ndGg9MCx0aGlzLnBvaW50ZXJzLmxlbmd0aD0wfX0sd2luZG93Lk1hcCYmKGI9d2luZG93Lk1hcCksYS5Qb2ludGVyTWFwPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPXtoYW5kbGVkRXZlbnRzOm5ldyBhLlNpZGVUYWJsZSx0YXJnZXRzOm5ldyBhLlNpZGVUYWJsZSxoYW5kbGVyczp7fSxyZWNvZ25pemVyczp7fSxldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcm92ZXIiLCJwb2ludGVyb3V0IiwicG9pbnRlcmNhbmNlbCJdLHJlZ2lzdGVyUmVjb2duaXplcjpmdW5jdGlvbihhLGIpe3ZhciBjPWI7dGhpcy5yZWNvZ25pemVyc1thXT1jLHRoaXMuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoY1thXSl7dmFyIGI9Y1thXS5iaW5kKGMpO3RoaXMuYWRkSGFuZGxlcihhLGIpfX0sdGhpcyl9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hO3RoaXMuaGFuZGxlcnNbY118fCh0aGlzLmhhbmRsZXJzW2NdPVtdKSx0aGlzLmhhbmRsZXJzW2NdLnB1c2goYil9LHJlZ2lzdGVyVGFyZ2V0OmZ1bmN0aW9uKGEpe3RoaXMubGlzdGVuKHRoaXMuZXZlbnRzLGEpfSx1bnJlZ2lzdGVyVGFyZ2V0OmZ1bmN0aW9uKGEpe3RoaXMudW5saXN0ZW4odGhpcy5ldmVudHMsYSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihhKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChhKSl7dmFyIGIsYz1hLnR5cGU7KGI9dGhpcy5oYW5kbGVyc1tjXSkmJnRoaXMubWFrZVF1ZXVlKGIsYSksdGhpcy5oYW5kbGVkRXZlbnRzLnNldChhLCEwKX19LG1ha2VRdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2xvbmVFdmVudChiKTtzZXRUaW1lb3V0KHRoaXMucnVuUXVldWUuYmluZCh0aGlzLGEsYyksMCl9LHJ1blF1ZXVlOmZ1bmN0aW9uKGEsYil7dGhpcy5jdXJyZW50UG9pbnRlcklkPWIucG9pbnRlcklkO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQmJihjPWFbZF0pO2QrKyljKGIpO3RoaXMuY3VycmVudFBvaW50ZXJJZD0wfSxsaXN0ZW46ZnVuY3Rpb24oYSxiKXthLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5hZGRFdmVudChhLHRoaXMuYm91bmRIYW5kbGVyLCExLGIpfSx0aGlzKX0sdW5saXN0ZW46ZnVuY3Rpb24oYSl7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlRXZlbnQoYSx0aGlzLmJvdW5kSGFuZGxlciwhMSxpblRhcmdldCl9LHRoaXMpfSxhZGRFdmVudDpmdW5jdGlvbihhLGIsYyxkKXtkLmFkZEV2ZW50TGlzdGVuZXIoYSxiLGMpfSxyZW1vdmVFdmVudDpmdW5jdGlvbihhLGIsYyxkKXtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGMpfSxtYWtlRXZlbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFBvaW50ZXJHZXN0dXJlRXZlbnQoYSxiKX0sY2xvbmVFdmVudDpmdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnRhcmdldHMuZ2V0KGEpO2MmJihjLmRpc3BhdGNoRXZlbnQoYSksYS50YXBQcmV2ZW50ZWQmJnRoaXMucHJldmVudFRhcCh0aGlzLmN1cnJlbnRQb2ludGVySWQpKX0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoYSxiKX0uYmluZCh0aGlzKTtzZXRUaW1lb3V0KGMsMCl9LHByZXZlbnRUYXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWNvZ25pemVycy50YXA7YiYmYi5wcmV2ZW50VGFwKGEpfX07Yi5ib3VuZEhhbmRsZXI9Yi5ldmVudEhhbmRsZXIuYmluZChiKSxhLmRpc3BhdGNoZXI9YixhLnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe3ZhciBjPXdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw7YyYmYy5yZWdpc3RlcihiKSxhLmRpc3BhdGNoZXIucmVnaXN0ZXJUYXJnZXQoYil9LGIucmVnaXN0ZXJUYXJnZXQoZG9jdW1lbnQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17SE9MRF9ERUxBWToyMDAsV0lHR0xFX1RIUkVTSE9MRDoxNixldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLGhlbGRQb2ludGVyOm51bGwsaG9sZEpvYjpudWxsLHB1bHNlOmZ1bmN0aW9uKCl7dmFyIGE9RGF0ZS5ub3coKS10aGlzLmhlbGRQb2ludGVyLnRpbWVTdGFtcCxiPXRoaXMuaGVsZD8iaG9sZHB1bHNlIjoiaG9sZCI7dGhpcy5maXJlSG9sZChiLGEpLHRoaXMuaGVsZD0hMH0sY2FuY2VsOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmhvbGRKb2IpLHRoaXMuaGVsZCYmdGhpcy5maXJlSG9sZCgicmVsZWFzZSIpLHRoaXMuaGVsZD0hMSx0aGlzLmhlbGRQb2ludGVyPW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmhvbGRKb2I9bnVsbH0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiF0aGlzLmhlbGRQb2ludGVyJiYodGhpcy5oZWxkUG9pbnRlcj1hLHRoaXMudGFyZ2V0PWEudGFyZ2V0LHRoaXMuaG9sZEpvYj1zZXRJbnRlcnZhbCh0aGlzLnB1bHNlLmJpbmQodGhpcyksdGhpcy5IT0xEX0RFTEFZKSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkJiZ0aGlzLmNhbmNlbCgpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5oZWxkUG9pbnRlciYmdGhpcy5oZWxkUG9pbnRlci5wb2ludGVySWQ9PT1hLnBvaW50ZXJJZCl7dmFyIGI9YS5jbGllbnRYLXRoaXMuaGVsZFBvaW50ZXIuY2xpZW50WCxjPWEuY2xpZW50WS10aGlzLmhlbGRQb2ludGVyLmNsaWVudFk7YipiK2MqYz50aGlzLldJR0dMRV9USFJFU0hPTEQmJnRoaXMuY2FuY2VsKCl9fSxmaXJlSG9sZDpmdW5jdGlvbihhLGMpe3ZhciBkPXtwb2ludGVyVHlwZTp0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJUeXBlfTtjJiYoZC5ob2xkVGltZT1jKTt2YXIgZT1iLm1ha2VFdmVudChhLGQpO2IuZGlzcGF0Y2hFdmVudChlLHRoaXMudGFyZ2V0KSxlLnRhcFByZXZlbnRlZCYmYi5wcmV2ZW50VGFwKHRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkKX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJob2xkIixjKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLFdJR0dMRV9USFJFU0hPTEQ6NCxjbGFtcERpcjpmdW5jdGlvbihhKXtyZXR1cm4gYT4wPzE6LTF9LGNhbGNQb3NpdGlvbkRlbHRhOmZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPTA7cmV0dXJuIGEmJmImJihjPWIucGFnZVgtYS5wYWdlWCxkPWIucGFnZVktYS5wYWdlWSkse3g6Yyx5OmR9fSxmaXJlVHJhY2s6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQsZj10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGUuZG93bkV2ZW50LGMpLGc9dGhpcy5jYWxjUG9zaXRpb25EZWx0YShlLmxhc3RNb3ZlRXZlbnQsYyk7Zy54JiYoZS54RGlyZWN0aW9uPXRoaXMuY2xhbXBEaXIoZy54KSksZy55JiYoZS55RGlyZWN0aW9uPXRoaXMuY2xhbXBEaXIoZy55KSk7dmFyIGg9e2R4OmYueCxkeTpmLnksZGR4OmcueCxkZHk6Zy55LGNsaWVudFg6Yy5jbGllbnRYLGNsaWVudFk6Yy5jbGllbnRZLHBhZ2VYOmMucGFnZVgscGFnZVk6Yy5wYWdlWSxzY3JlZW5YOmMuc2NyZWVuWCxzY3JlZW5ZOmMuc2NyZWVuWSx4RGlyZWN0aW9uOmUueERpcmVjdGlvbix5RGlyZWN0aW9uOmUueURpcmVjdGlvbix0cmFja0luZm86ZS50cmFja0luZm8scG9pbnRlclR5cGU6Yy5wb2ludGVyVHlwZX07InRyYWNrZW5kIj09PWEmJihoLl9yZWxlYXNlVGFyZ2V0PWMudGFyZ2V0KTt2YXIgaT1iLm1ha2VFdmVudChhLGgpO2UubGFzdE1vdmVFdmVudD1jLGIuZGlzcGF0Y2hFdmVudChpLGUuZG93blRhcmdldCl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2lmKGEuaXNQcmltYXJ5JiYoIm1vdXNlIj09PWEucG9pbnRlclR5cGU/MT09PWEuYnV0dG9uczohMCkpe3ZhciBiPXtkb3duRXZlbnQ6YSxkb3duVGFyZ2V0OmEudGFyZ2V0LHRyYWNrSW5mbzp7fSxsYXN0TW92ZUV2ZW50Om51bGwseERpcmVjdGlvbjowLHlEaXJlY3Rpb246MCx0cmFja2luZzohMX07Yy5zZXQoYS5wb2ludGVySWQsYil9fSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7aWYoYilpZihiLnRyYWNraW5nKXRoaXMuZmlyZVRyYWNrKCJ0cmFjayIsYSxiKTtlbHNle3ZhciBkPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoYi5kb3duRXZlbnQsYSksZT1kLngqZC54K2QueSpkLnk7ZT50aGlzLldJR0dMRV9USFJFU0hPTEQmJihiLnRyYWNraW5nPSEwLHRoaXMuZmlyZVRyYWNrKCJ0cmFja3N0YXJ0IixiLmRvd25FdmVudCxiKSx0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYikpfX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3ZhciBiPWMuZ2V0KGEucG9pbnRlcklkKTtiJiYoYi50cmFja2luZyYmdGhpcy5maXJlVHJhY2soInRyYWNrZW5kIixhLGIpLGMuZGVsZXRlKGEucG9pbnRlcklkKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigidHJhY2siLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17TUlOX1ZFTE9DSVRZOi41LE1BWF9RVUVVRTo0LG1vdmVRdWV1ZTpbXSx0YXJnZXQ6bnVsbCxwb2ludGVySWQ6bnVsbCxldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYhdGhpcy5wb2ludGVySWQmJih0aGlzLnBvaW50ZXJJZD1hLnBvaW50ZXJJZCx0aGlzLnRhcmdldD1hLnRhcmdldCx0aGlzLmFkZE1vdmUoYSkpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmFkZE1vdmUoYSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmZpcmVGbGljayhhKSx0aGlzLmNsZWFudXAoKX0scG9pbnRlcmNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2xlYW51cCgpfSxjbGVhbnVwOmZ1bmN0aW9uKCl7dGhpcy5tb3ZlUXVldWU9W10sdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnBvaW50ZXJJZD1udWxsfSxhZGRNb3ZlOmZ1bmN0aW9uKGEpe3RoaXMubW92ZVF1ZXVlLmxlbmd0aD49dGhpcy5NQVhfUVVFVUUmJnRoaXMubW92ZVF1ZXVlLnNoaWZ0KCksdGhpcy5tb3ZlUXVldWUucHVzaChhKX0sZmlyZUZsaWNrOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkLGUsZixnLGgsaSxqPWEsaz10aGlzLm1vdmVRdWV1ZS5sZW5ndGgsbD0wLG09MCxuPTAsbz0wO2s+byYmKGk9dGhpcy5tb3ZlUXVldWVbb10pO28rKyljPWoudGltZVN0YW1wLWkudGltZVN0YW1wLGQ9ai5jbGllbnRYLWkuY2xpZW50WCxlPWouY2xpZW50WS1pLmNsaWVudFksZj1kL2MsZz1lL2MsaD1NYXRoLnNxcnQoZipmK2cqZyksaD5uJiYobD1mLG09ZyxuPWgpO3ZhciBwPU1hdGguYWJzKGwpPk1hdGguYWJzKG0pPyJ4IjoieSIscT10aGlzLmNhbGNBbmdsZShsLG0pO2lmKE1hdGguYWJzKG4pPj10aGlzLk1JTl9WRUxPQ0lUWSl7dmFyIHI9Yi5tYWtlRXZlbnQoImZsaWNrIix7eFZlbG9jaXR5OmwseVZlbG9jaXR5Om0sdmVsb2NpdHk6bixhbmdsZTpxLG1ham9yQXhpczpwLHBvaW50ZXJUeXBlOmEucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQocix0aGlzLnRhcmdldCl9fSxjYWxjQW5nbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMTgwKk1hdGguYXRhbjIoYixhKS9NYXRoLlBJfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImZsaWNrIixjKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYhYS50YXBQcmV2ZW50ZWQmJmMuc2V0KGEucG9pbnRlcklkLHt0YXJnZXQ6YS50YXJnZXQseDphLmNsaWVudFgseTphLmNsaWVudFl9KX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7aWYoYS5pc1ByaW1hcnkpe3ZhciBiPWMuZ2V0KGEucG9pbnRlcklkKTtiJiZhLnRhcFByZXZlbnRlZCYmYy5kZWxldGUoYS5wb2ludGVySWQpfX0scG9pbnRlcnVwOmZ1bmN0aW9uKGQpe3ZhciBlPWMuZ2V0KGQucG9pbnRlcklkKTtpZihlJiYhZC50YXBQcmV2ZW50ZWQpe3ZhciBmPWEuZmluZExDQShlLnRhcmdldCxkLnRhcmdldCk7aWYoZil7dmFyIGc9Yi5tYWtlRXZlbnQoInRhcCIse3g6ZC5jbGllbnRYLHk6ZC5jbGllbnRZLHBvaW50ZXJUeXBlOmQucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQoZyxmKX19Yy5kZWxldGUoZC5wb2ludGVySWQpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEucG9pbnRlcklkKX0scHJldmVudFRhcDpmdW5jdGlvbihhKXtjLmRlbGV0ZShhKX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJ0YXAiLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxQb2x5bWVyPXt9LGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHtvcGFjaXR5OiAwO30iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIldlYkNvbXBvbmVudHNSZWFkeSIsZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zaXRpb249Im9wYWNpdHkgMC4zcyIsZG9jdW1lbnQuYm9keS5zdHlsZS5vcGFjaXR5PTF9KX0oUG9seW1lciksZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxjPUFycmF5LnByb3RvdHlwZS5jb25jYXQuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5jb25jYXQpLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuc2xpY2UpLGU9e2hvc3RSdWxlUmU6L0Bob3N0W157XSp7KChbXn1dKj97W157XSo/fVtcc1xTXSo/KSspfS9naW0sc2VsZWN0b3JSZTovKFtee10qKSh7W1xzXFNdKj99KS9naW0saG9zdEVsZW1lbnRSZTovKC4qKSgoPzpcKil8KD86XDpzY29wZSkpKC4qKS8saG9zdEZpeGFibGVSZTovXlsuXFs6XS8sY3NzQ29tbWVudFJlOi9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLGNzc1BvbHlmaWxsQ29tbWVudFJlOi9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLGNzc1BzZXVkb1JlOi86Oih4LVteXHN7LChdKikvZ2ltLHNlbGVjdG9yUmVTdWZmaXg6IihbPlxcc34rWy4sezpdW1xcc1xcU10qKT8kIixob3N0UmU6L0Bob3N0L2dpbSxjYWNoZTp7fSxzaGltU3R5bGluZzpmdW5jdGlvbihhKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJmEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJuYW1lIik7ZS5jYWNoZURlZmluaXRpb24oYSksZS5zaGltUG9seWZpbGxEaXJlY3RpdmVzKGEuc3R5bGVzLGIpLFBvbHltZXIuc3RyaWN0UG9seWZpbGxTdHlsaW5nJiZlLmFwcGx5U2NvcGVUb0NvbnRlbnQoYS50ZW1wbGF0ZUNvbnRlbnQoKSxiKSxlLmFwcGx5U2hpbW1pbmcoZS5zdHlsZXNGb3JFbGVtZW50KGEpLGIpfX0sc2hpbVNoYWRvd0RPTVN0eWxpbmc6ZnVuY3Rpb24oYSxiKXt3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJihlLnNoaW1Qb2x5ZmlsbERpcmVjdGl2ZXMoYSxiKSxlLmFwcGx5U2hpbW1pbmcoYSxiKSl9LGFwcGx5U2hpbW1pbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnNoaW1BdEhvc3QoYSxiKTtjKz10aGlzLnNoaW1TY29waW5nKGEsYiksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGMpfSxjYWNoZURlZmluaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSxjPWEudGVtcGxhdGVDb250ZW50KCksZj1jJiZjLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7YS5zdHlsZXM9Zj9kKGYpOltdLGUuY2FjaGVbYl09YX0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGMpe2EmJihiKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGMsIiIpfSksYihhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KHRlbXBsYXRlQ29udGVudChhKSxjKX0sdGhpcykpfSxzdHlsZXNGb3JFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGVzLGU9YS50ZW1wbGF0ZUNvbnRlbnQoKSxmPWUmJmUucXVlcnlTZWxlY3Rvcigic2hhZG93Iik7aWYoZnx8bnVsbD09PWUpe3ZhciBnPXRoaXMuZmluZEV4dGVuZGVlKGEuZ2V0QXR0cmlidXRlKCJuYW1lIikpO2lmKGcpe3ZhciBoPXRoaXMuc3R5bGVzRm9yRWxlbWVudChnKTtiPWMoZChoKSxkKGIpKX19cmV0dXJuIGJ9LGZpbmRFeHRlbmRlZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNhY2hlW2FdO3JldHVybiBiJiZ0aGlzLmNhY2hlW2IuZ2V0QXR0cmlidXRlKCJleHRlbmRzIildfSxzaGltUG9seWZpbGxEaXJlY3RpdmVzOmZ1bmN0aW9uKGEsYyl7d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZhJiZiKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD10aGlzLmNvbnZlcnRQb2x5ZmlsbERpcmVjdGl2ZXMoYS50ZXh0Q29udGVudCxjKX0sdGhpcyl9LHNoaW1BdEhvc3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT90aGlzLmNvbnZlcnRBdEhvc3RTdHlsZXMoYSxiKTp2b2lkIDB9LHNoaW1TY29waW5nOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/dGhpcy5jb252ZXJ0U2NvcGVkU3R5bGVzKGEsYik6dm9pZCAwfSxjb252ZXJ0UG9seWZpbGxEaXJlY3RpdmVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT0iIixmPTA7Yz10aGlzLmNzc1BvbHlmaWxsQ29tbWVudFJlLmV4ZWMoYSk7KWUrPWEuc3Vic3RyaW5nKGYsYy5pbmRleCksZD1jWzFdLnNsaWNlKDAsLTIpLnJlcGxhY2UodGhpcy5ob3N0UmUsYiksZSs9dGhpcy5zY29wZVNlbGVjdG9yKGQsYikrInsiLGY9dGhpcy5jc3NQb2x5ZmlsbENvbW1lbnRSZS5sYXN0SW5kZXg7cmV0dXJuIGUrPWEuc3Vic3RyaW5nKGYsYS5sZW5ndGgpfSxmaW5kQXRIb3N0UnVsZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEsdGhpcy5pc0hvc3RSdWxlLmJpbmQodGhpcyxiKSl9LGlzSG9zdFJ1bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zZWxlY3RvclRleHQmJmIuc2VsZWN0b3JUZXh0Lm1hdGNoKGEpfHxiLmNzc1J1bGVzJiZ0aGlzLmZpbmRBdEhvc3RSdWxlcyhiLmNzc1J1bGVzLGEpLmxlbmd0aHx8Yi50eXBlPT1DU1NSdWxlLldFQktJVF9LRVlGUkFNRVNfUlVMRX0sY29udmVydEF0SG9zdFN0eWxlczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPXRoaXMuc3R5bGVzVG9Dc3NUZXh0KGEpLGU9IiIsZj0wO2M9dGhpcy5ob3N0UnVsZVJlLmV4ZWMoZCk7KWUrPWQuc3Vic3RyaW5nKGYsYy5pbmRleCksZSs9dGhpcy5zY29wZUhvc3RDc3MoY1sxXSxiKSxmPXRoaXMuaG9zdFJ1bGVSZS5sYXN0SW5kZXg7CmUrPWQuc3Vic3RyaW5nKGYsZC5sZW5ndGgpO3ZhciBnPW5ldyBSZWdFeHAoIl4iK2IrdGhpcy5zZWxlY3RvclJlU3VmZml4LCJtIiksZD10aGlzLnJ1bGVzVG9Dc3ModGhpcy5maW5kQXRIb3N0UnVsZXModGhpcy5jc3NUb1J1bGVzKGUpLGcpKTtyZXR1cm4gZH0sc2NvcGVIb3N0Q3NzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9IiI7Yz10aGlzLnNlbGVjdG9yUmUuZXhlYyhhKTspZCs9dGhpcy5zY29wZUhvc3RTZWxlY3RvcihjWzFdLGIpKyIgIitjWzJdKyJcbgkiO3JldHVybiBkfSxzY29wZUhvc3RTZWxlY3RvcjpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9YS5zcGxpdCgiLCIpLGU9Iltpcz0iK2IrIl0iO3JldHVybiBkLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSxhLm1hdGNoKHRoaXMuaG9zdEVsZW1lbnRSZSk/YT1hLnJlcGxhY2UodGhpcy5ob3N0RWxlbWVudFJlLGIrIiQxJDMsICIrZSsiJDEkMyIpOmEubWF0Y2godGhpcy5ob3N0Rml4YWJsZVJlKSYmKGE9YithKyIsICIrZSthKSxjLnB1c2goYSl9LHRoaXMpLGMuam9pbigiLCAiKX0sY29udmVydFNjb3BlZFN0eWxlczpmdW5jdGlvbihhLGMpe2IoYSxmdW5jdGlvbihhKXthLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0pO3ZhciBkPXRoaXMuc3R5bGVzVG9Dc3NUZXh0KGEpLnJlcGxhY2UodGhpcy5ob3N0UnVsZVJlLCIiKTtkPXRoaXMuY29udmVydFBzZXVkb3MoZCk7dmFyIGU9dGhpcy5jc3NUb1J1bGVzKGQpO3JldHVybiBkPXRoaXMuc2NvcGVSdWxlcyhlLGMpfSxjb252ZXJ0UHNldWRvczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHRoaXMuY3NzUHNldWRvUmUsIiBbcHNldWRvPSQxXSIpfSxzY29wZVJ1bGVzOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9IiI7cmV0dXJuIGIoYSxmdW5jdGlvbihhKXthLnNlbGVjdG9yVGV4dCYmYS5zdHlsZSYmYS5zdHlsZS5jc3NUZXh0PyhkKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYyxQb2x5bWVyLnN0cmljdFBvbHlmaWxsU3R5bGluZykrIiB7XG4JIixkKz10aGlzLnByb3BlcnRpZXNGcm9tUnVsZShhKSsiXG59XG5cbiIpOmEubWVkaWE/KGQrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsZCs9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYyksZCs9IlxufVxuXG4iKTphLmNzc1RleHQmJihkKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksZH0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGUuY3NzVGV4dDtyZXR1cm4gYS5zdHlsZS5jb250ZW50JiYhYS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdKy8pJiYoYj0iY29udGVudDogJyIrYS5zdHlsZS5jb250ZW50KyInO1xuIithLnN0eWxlLmNzc1RleHQucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZywiIikpLGJ9LHNlbGVjdG9yTmVlZHNTY29waW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9IigiK2IrInxcXFtpcz0iK2IrIlxcXSkiLGQ9bmV3IFJlZ0V4cCgiXiIrYyt0aGlzLnNlbGVjdG9yUmVTdWZmaXgsIm0iKTtyZXR1cm4hYS5tYXRjaChkKX0sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1hLnNwbGl0KCIsIik7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhKXthPWEudHJpbSgpLHRoaXMuc2VsZWN0b3JOZWVkc1Njb3BpbmcoYSxiKSYmKGE9Yz90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYikpLGQucHVzaChhKX0sdGhpcyksZC5qb2luKCIsICIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYisiICIrYSsiLCAiKyJbaXM9IitiKyJdICIrYX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxzdHlsZXNUb0Nzc1RleHQ6ZnVuY3Rpb24oYSxjKXt2YXIgZD0iIjtyZXR1cm4gYihhLGZ1bmN0aW9uKGEpe2QrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksY3x8KGQ9dGhpcy5zdHJpcENzc0NvbW1lbnRzKGQpKSxkfSxzdHJpcENzc0NvbW1lbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodGhpcy5jc3NDb21tZW50UmUsIiIpfSxjc3NUb1J1bGVzOmZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Yi50ZXh0Q29udGVudD1hLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGM9Yi5zaGVldC5jc3NSdWxlcztyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGN9LHJ1bGVzVG9Dc3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz1bXTtiPGEubGVuZ3RoO2IrKyljLnB1c2goYVtiXS5jc3NUZXh0KTtyZXR1cm4gYy5qb2luKCJcblxuIil9LGFkZENzc1RvRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7YSYmdGhpcy5nZXRTaGVldCgpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpKX0sZ2V0U2hlZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGVldHx8KHRoaXMuc2hlZXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSx0aGlzLnNoZWV0LnNldEF0dHJpYnV0ZSgicG9seW1lci1wb2x5ZmlsbCIsIiIpKSx0aGlzLnNoZWV0fSxhZGRTaGVldFRvRG9jdW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmFkZENzc1RvRG9jdW1lbnQoInN0eWxlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4iKTt2YXIgYT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7YS5pbnNlcnRCZWZvcmUodGhpcy5nZXRTaGVldCgpLGEuY2hpbGROb2Rlc1swXSl9fTt3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJmUuYWRkU2hlZXRUb0RvY3VtZW50KCksYS5zaGltU3R5bGluZz1lLnNoaW1TdHlsaW5nLGEuc2hpbVNoYWRvd0RPTVN0eWxpbmc9ZS5zaGltU2hhZG93RE9NU3R5bGluZyxhLnNoaW1Qb2x5ZmlsbERpcmVjdGl2ZXM9ZS5zaGltUG9seWZpbGxEaXJlY3RpdmVzLmJpbmQoZSksYS5zdHJpY3RQb2x5ZmlsbFN0eWxpbmc9ITF9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYSYmYiYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYikuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYyk7ZCYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsZCksImZ1bmN0aW9uIj09dHlwZW9mIGQudmFsdWUmJihhW2NdLm5vbT1jKSl9KSxhfWEuZXh0ZW5kPWJ9KFBvbHltZXIpLGZ1bmN0aW9uKCl7dmFyIGE9e307SFRNTEVsZW1lbnQucmVnaXN0ZXI9ZnVuY3Rpb24oYixjKXthW2JdPWN9LEhUTUxFbGVtZW50LmdldFByb3RvdHlwZUZvclRhZz1mdW5jdGlvbihiKXt2YXIgYz1iP2FbYl06SFRNTEVsZW1lbnQucHJvdG90eXBlO3JldHVybiBjfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKSl9O3ZhciBiPUV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247RXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuY2FuY2VsQnViYmxlPSEwLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxIVE1MSW1wb3J0cy5pbXBvcnRlci5wcmVsb2FkU2VsZWN0b3JzKz0iLCBwb2x5bWVyLWVsZW1lbnQgbGlua1tyZWw9c3R5bGVzaGVldF0ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7dmFyIGQ9dHlwZW9mIGI7cmV0dXJuIGIgaW5zdGFuY2VvZiBEYXRlJiYoZD0iZGF0ZSIpLGNbZF0oYSxiKX12YXIgYz17c3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgRGF0ZShEYXRlLnBhcnNlKGEpfHxEYXRlLm5vdygpKX0sImJvb2xlYW4iOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09YT8hMDoiZmFsc2UiPT09YT8hMTohIWF9LG51bWJlcjpmdW5jdGlvbihhKXt2YXIgYj1wYXJzZUZsb2F0KGEpO3JldHVybiBTdHJpbmcoYik9PT1hP2I6YX0sb2JqZWN0OmZ1bmN0aW9uKGEsYil7aWYoIWIpcmV0dXJuIGE7dHJ5e3JldHVybiBKU09OLnBhcnNlKGEucmVwbGFjZSgvJy9nLCciJykpfWNhdGNoKGMpe3JldHVybiBhfX19O2EuZGVzZXJpYWxpemVWYWx1ZT1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkKXtyZXR1cm4gYT9hLnN0b3AoKTphPW5ldyBjKHRoaXMpLGEuZ28oYixkKSxhfXZhciBjPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dD1hfTtjLnByb3RvdHlwZT17Z286ZnVuY3Rpb24oYSxiKXt0aGlzLmNhbGxiYWNrPWEsdGhpcy5oYW5kbGU9c2V0VGltZW91dCh0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyksYil9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZSYmKGNsZWFyVGltZW91dCh0aGlzLmhhbmRsZSksdGhpcy5oYW5kbGU9bnVsbCl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUmJih0aGlzLnN0b3AoKSx0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy5jb250ZXh0KSl9fSxhLmpvYj1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBjPWIuY2FsbGVyLGY9Yy5ub207Il9zdXBlciJpbiBjfHwoZnx8KGY9ZS5jYWxsKHRoaXMsYykpLGZ8fGNvbnNvbGUud2FybigiY2FsbGVkIHN1cGVyKCkgb24gYSBtZXRob2Qgbm90IGluc3RhbGxlZCBkZWNsYXJhdGl2ZWx5IChoYXMgbm8gLm5vbSBwcm9wZXJ0eSkiKSxkKGMsZixPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykpKTt2YXIgZz1jLl9zdXBlcjtpZihnKXt2YXIgaD1nW2ZdO3JldHVybiJfc3VwZXIiaW4gaHx8ZChoLGYsZyksaC5hcHBseSh0aGlzLGF8fFtdKX19ZnVuY3Rpb24gYyhhLGIsYyl7Zm9yKDthJiYoIWEuaGFzT3duUHJvcGVydHkoYil8fGFbYl09PT1jKTspYT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIsZCl7cmV0dXJuIGEuX3N1cGVyPWMoZCxiLGEpLGEuX3N1cGVyJiYoYS5fc3VwZXJbYl0ubm9tPWIpLGEuX3N1cGVyfWZ1bmN0aW9uIGUoYSl7Y29uc29sZS53YXJuKCJuYW1lSW5UaGlzIGNhbGxlZCIpO2Zvcih2YXIgYj10aGlzO2ImJmIhPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGMsZD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKSxlPTAsZj1kLmxlbmd0aDtmPmUmJihjPWRbZV0pO2UrKyl7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpO2lmKGcudmFsdWU9PWEpcmV0dXJuIGN9Yj1iLl9fcHJvdG9fX319YS5zdXBlcj1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXt2YXIgYj17fTtiLmRlY2xhcmF0aW9uPXt9LGIuaW5zdGFuY2U9e30sYS5hcGk9Yn0oUG9seW1lciksZnVuY3Rpb24oYSl7dmFyIGI9e2FzeW5jOmZ1bmN0aW9uKGEsYixjKXtQbGF0Zm9ybS5mbHVzaCgpLGI9YiYmYi5sZW5ndGg/YjpbYl07dmFyIGQ9ZnVuY3Rpb24oKXsodGhpc1thXXx8YSkuYXBwbHkodGhpcyxiKX0uYmluZCh0aGlzKTtyZXR1cm4gYz9zZXRUaW1lb3V0KGQsYyk6cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGQpfSxmaXJlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWN8fHRoaXM7cmV0dXJuIGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoYSx7YnViYmxlczp2b2lkIDAhPT1kPyExOiEwLGRldGFpbDpifSkpLGJ9LGFzeW5jRmlyZTpmdW5jdGlvbigpe3RoaXMuYXN5bmNNZXRob2QoImZpcmUiLGFyZ3VtZW50cyl9LGNsYXNzRm9sbG93czpmdW5jdGlvbihhLGIsYyl7YiYmYi5jbGFzc0xpc3QucmVtb3ZlKGMpLGEmJmEuY2xhc3NMaXN0LmFkZChjKX19O2IuYXN5bmNNZXRob2Q9Yi5hc3luYyxhLmFwaS5pbnN0YW5jZS51dGlscz1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7Yi5jYW5jZWxCdWJibGV8fChiLm9uPWkrYi50eXBlLGguZXZlbnRzJiZjb25zb2xlLmdyb3VwKCJbJXNdOiBsaXN0ZW5Mb2NhbCBbJXNdIixhLmxvY2FsTmFtZSxiLm9uKSwhYi5wYXRofHx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/ZChhLGIpOmMoYSxiKSxoLmV2ZW50cyYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9bnVsbDtBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGIucGF0aCxmdW5jdGlvbihkKXtyZXR1cm4gZD09PWE/ITA6KGM9Yz09PWE/YzplKGQpLGMmJmYoYyxkLGIpPyEwOnZvaWQgMCl9LHRoaXMpfWZ1bmN0aW9uIGQoYSxiKXtoLmV2ZW50cyYmY29uc29sZS5sb2coImV2ZW50LnBhdGgoKSBub3Qgc3VwcG9ydGVkIGZvciIsYi50eXBlKTtmb3IodmFyIGM9Yi50YXJnZXQsZD1udWxsO2MmJmMhPWE7KXtpZihkPWQ9PT1hP2Q6ZShjKSxkJiZmKGQsYyxiKSlyZXR1cm4hMDtjPWMucGFyZW50Tm9kZX19ZnVuY3Rpb24gZShhKXtmb3IoO2EucGFyZW50Tm9kZTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGEuaG9zdH1mdW5jdGlvbiBmKGEsYixjKXt2YXIgZD1iLmdldEF0dHJpYnV0ZSYmYi5nZXRBdHRyaWJ1dGUoYy5vbik7cmV0dXJuIGQmJmcoYixjKSYmKGguZXZlbnRzJiZjb25zb2xlLmxvZygiWyVzXSBmb3VuZCBoYW5kbGVyIG5hbWUgWyVzXSIsYS5sb2NhbE5hbWUsZCksYS5kaXNwYXRjaE1ldGhvZChiLGQsW2MsYy5kZXRhaWwsYl0pKSxjLmNhbmNlbEJ1YmJsZX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9bC5nZXQoYik7cmV0dXJuIGN8fGwuc2V0KGIsYz1bXSksYy5pbmRleE9mKGEpPDA/KGMucHVzaChhKSwhMCk6dm9pZCAwfXZhciBoPXdpbmRvdy5sb2dGbGFnc3x8e30saT0ib24tIixqPSJldmVudERlbGVnYXRlcyIsaz17RVZFTlRfUFJFRklYOmksREVMRUdBVEVTOmosYWRkSG9zdExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXNbal07aC5ldmVudHMmJk9iamVjdC5rZXlzKGEpLmxlbmd0aD4wJiZjb25zb2xlLmxvZygiWyVzXSBhZGRIb3N0TGlzdGVuZXJzOiIsdGhpcy5sb2NhbE5hbWUsYSksdGhpcy5hZGROb2RlTGlzdGVuZXJzKHRoaXMsYSx0aGlzLmhvc3RFdmVudExpc3RlbmVyKX0sYWRkSW5zdGFuY2VMaXN0ZW5lcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmRlbGVnYXRlcztjJiYoaC5ldmVudHMmJk9iamVjdC5rZXlzKGMpLmxlbmd0aD4wJiZjb25zb2xlLmxvZygiWyVzOnJvb3RdIGFkZEluc3RhbmNlTGlzdGVuZXJzOiIsdGhpcy5sb2NhbE5hbWUsYyksdGhpcy5hZGROb2RlTGlzdGVuZXJzKGEsYyx0aGlzLmluc3RhbmNlRXZlbnRMaXN0ZW5lcikpfSxhZGROb2RlTGlzdGVuZXJzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtmb3IodmFyIGUgaW4gYilkfHwoZD1jLmJpbmQodGhpcykpLGEuYWRkRXZlbnRMaXN0ZW5lcihlLGQpfSxob3N0RXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhKXtpZighYS5jYW5jZWxCdWJibGUpe2guZXZlbnRzJiZjb25zb2xlLmdyb3VwKCJbJXNdOiBob3N0RXZlbnRMaXN0ZW5lciglcykiLHRoaXMubG9jYWxOYW1lLGEudHlwZSk7dmFyIGI9dGhpcy5maW5kRXZlbnREZWxlZ2F0ZShhKTtiJiYoaC5ldmVudHMmJmNvbnNvbGUubG9nKCJbJXNdIGZvdW5kIGhvc3QgaGFuZGxlciBuYW1lIFslc10iLHRoaXMubG9jYWxOYW1lLGIpLHRoaXMuZGlzcGF0Y2hNZXRob2QodGhpcyxiLFthLGEuZGV0YWlsLHRoaXNdKSksaC5ldmVudHMmJmNvbnNvbGUuZ3JvdXBFbmQoKX19LGZpbmRFdmVudERlbGVnYXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2pdW2EudHlwZV19LGRpc3BhdGNoTWV0aG9kOmZ1bmN0aW9uKGEsYixjKXtpZihhKXtoLmV2ZW50cyYmY29uc29sZS5ncm91cCgiWyVzXSBkaXNwYXRjaCBbJXNdIixhLmxvY2FsTmFtZSxiKTt2YXIgZD10aGlzW2JdO2QmJmRbYz8iYXBwbHkiOiJjYWxsIl0odGhpcyxjKSxoLmV2ZW50cyYmY29uc29sZS5ncm91cEVuZCgpfX0saW5zdGFuY2VFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEpe2IodGhpcyxhKX19LGw9bmV3IFNpZGVUYWJsZSgiaGFuZGxlZExpc3QiKTthLmFwaS5pbnN0YW5jZS5ldmVudHM9a30oUG9seW1lciksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPXRoaXNbYV18fGE7ImZ1bmN0aW9uIj09dHlwZW9mIGMmJmMuYXBwbHkodGhpcyxiKX1mdW5jdGlvbiBjKGEsYixjLGQpe2guYmluZCYmY29uc29sZS5sb2cobixjLmxvY2FsTmFtZXx8Im9iamVjdCIsZCxhLmxvY2FsTmFtZSxiKTt2YXIgZT1QYXRoT2JzZXJ2ZXIuZ2V0VmFsdWVBdFBhdGgoYyxkKTtyZXR1cm4obnVsbD09PWV8fHZvaWQgMD09PWUpJiZQYXRoT2JzZXJ2ZXIuc2V0VmFsdWVBdFBhdGgoYyxkLGFbYl0pLFBhdGhPYnNlcnZlci5kZWZpbmVQcm9wZXJ0eShhLGIse29iamVjdDpjLHBhdGg6ZH0pfWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPWcoYSk7ZFtiXT1jfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1nKGEpO3JldHVybiBjJiZjW2JdPyhjW2JdLmNsb3NlKCksY1tiXT1udWxsLCEwKTp2b2lkIDB9ZnVuY3Rpb24gZihhKXt2YXIgYj1nKGEpO09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXS5jbG9zZSgpLGJbYV09bnVsbH0pfWZ1bmN0aW9uIGcoYSl7dmFyIGI9ay5nZXQoYSk7cmV0dXJuIGJ8fGsuc2V0KGEsYj17fSksYn12YXIgaD13aW5kb3cubG9nRmxhZ3N8fHt9LGk9IkNoYW5nZWQiLGo9e29ic2VydmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9dGhpcy5nZXRDdXN0b21Qcm9wZXJ0eU5hbWVzKCksYz0wLGQ9Yi5sZW5ndGg7ZD5jJiYoYT1iW2NdKTtjKyspdGhpcy5vYnNlcnZlUHJvcGVydHkoYSl9LGdldEN1c3RvbVByb3BlcnR5TmFtZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXN0b21Qcm9wZXJ0eU5hbWVzfSxvYnNlcnZlUHJvcGVydHk6ZnVuY3Rpb24oYSl7aWYodGhpcy5zaG91bGRPYnNlcnZlUHJvcGVydHkoYSkpe2gud2F0Y2gmJmNvbnNvbGUubG9nKGwsdGhpcy5sb2NhbE5hbWUsYSk7dmFyIGI9ZnVuY3Rpb24oYixjKXtoLndhdGNoJiZjb25zb2xlLmxvZyhtLHRoaXMubG9jYWxOYW1lLHRoaXMuaWR8fCIiLGEsdGhpc1thXSxjKSx0aGlzLmRpc3BhdGNoUHJvcGVydHlDaGFuZ2UoYSxjKX0uYmluZCh0aGlzKSxjPW5ldyBQYXRoT2JzZXJ2ZXIodGhpcyxhLGIpO2QodGhpcyxhLGMpfX0sYmluZFByb3BlcnR5OmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYyh0aGlzLGEsYixkKX0sdW5iaW5kUHJvcGVydHk6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzLGEsYil9LHVuYmluZEFsbFByb3BlcnRpZXM6ZnVuY3Rpb24oKXtmKHRoaXMpfSxzaG91bGRPYnNlcnZlUHJvcGVydHk6ZnVuY3Rpb24oYSl7cmV0dXJuIEJvb2xlYW4odGhpc1thK2ldKX0sZGlzcGF0Y2hQcm9wZXJ0eUNoYW5nZTpmdW5jdGlvbihhLGMpe2IuY2FsbCh0aGlzLGEraSxbY10pfX0saz1uZXcgU2lkZVRhYmxlLGw9Ilslc10gd2F0Y2hpbmcgWyVzXSIsbT0iWyVzIyVzXSB3YXRjaDogWyVzXSBub3cgWyVzXSB3YXMgWyVzXSIsbj0iWyVzXTogYmluZFByb3BlcnRpZXM6IFslc10gdG8gWyVzXS5bJXNdIjthLmFwaS5pbnN0YW5jZS5wcm9wZXJ0aWVzPWp9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3ZhciBiPSJfX3B1Ymxpc2hlZCIsYz0iX19pbnN0YW5jZV9hdHRyaWJ1dGVzIixkPXtQVUJMSVNIRUQ6YixJTlNUQU5DRV9BVFRSSUJVVEVTOmMsY29weUluc3RhbmNlQXR0cmlidXRlczpmdW5jdGlvbigpe3ZhciBhPXRoaXNbY107Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRBdHRyaWJ1dGUoYixhW2JdKX0sdGFrZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wLGM9dGhpcy5hdHRyaWJ1dGVzLGQ9Yy5sZW5ndGg7KGE9Y1tiXSkmJmQ+YjtiKyspdGhpcy5hdHRyaWJ1dGVUb1Byb3BlcnR5KGEubmFtZSxhLnZhbHVlKX0sYXR0cmlidXRlVG9Qcm9wZXJ0eTpmdW5jdGlvbihiLGMpe3ZhciBiPXRoaXMucHJvcGVydHlGb3JBdHRyaWJ1dGUoYik7aWYoYil7aWYoYy5zZWFyY2goYS5iaW5kUGF0dGVybik+PTApcmV0dXJuO3ZhciBkPXRoaXNbYl0sYz10aGlzLmRlc2VyaWFsaXplVmFsdWUoYyxkKTtjIT09ZCYmKHRoaXNbYl09Yyl9fSxwcm9wZXJ0eUZvckF0dHJpYnV0ZTpmdW5jdGlvbihhKXt2YXIgYz1PYmplY3Qua2V5cyh0aGlzW2JdKTtyZXR1cm4gY1tjLm1hcChlKS5pbmRleE9mKGEudG9Mb3dlckNhc2UoKSldfSxkZXNlcmlhbGl6ZVZhbHVlOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZGVzZXJpYWxpemVWYWx1ZShiLGMpfX0sZT1TdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlLmNhbGwuYmluZChTdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlKTthLmFwaS5pbnN0YW5jZS5hdHRyaWJ1dGVzPWR9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7ZChhLGMpfWZ1bmN0aW9uIGMoYSl7YS51bmJpbmRBbGwoKX1mdW5jdGlvbiBkKGEsYil7aWYoYSl7YihhKTtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWQoYyxiKX19dmFyIGU9d2luZG93LmxvZ0ZsYWdzfHwwLGY9bmV3IEV4cHJlc3Npb25TeW50YXgsZz17aW5zdGFuY2VUZW1wbGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jcmVhdGVJbnN0YW5jZSh0aGlzLGYpfSxjcmVhdGVCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnByb3BlcnR5Rm9yQXR0cmlidXRlKGEpO2lmKGQpe3ZhciBlPXRoaXMuYmluZFByb3BlcnR5KGQsYixjKTtyZXR1cm4gZS5wYXRoPWMsZX1yZXR1cm4gdGhpcy5zdXBlcihhcmd1bWVudHMpfSxhc3luY1VuYmluZEFsbDpmdW5jdGlvbigpe3RoaXMuX3VuYm91bmR8fChlLnVuYmluZCYmY29uc29sZS5sb2coIlslc10gYXN5bmNVbmJpbmRBbGwiLHRoaXMubG9jYWxOYW1lKSx0aGlzLl91bmJpbmRBbGxKb2I9dGhpcy5qb2IodGhpcy5fdW5iaW5kQWxsSm9iLHRoaXMudW5iaW5kQWxsLDApKX0sdW5iaW5kQWxsOmZ1bmN0aW9uKCl7dGhpcy5fdW5ib3VuZHx8KHRoaXMudW5iaW5kQWxsUHJvcGVydGllcygpLHRoaXMuc3VwZXIoKSxiKHRoaXMuc2hhZG93Um9vdCksdGhpcy5fdW5ib3VuZD0hMCl9LGNhbmNlbFVuYmluZEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdW5ib3VuZD8oZS51bmJpbmQmJmNvbnNvbGUud2FybigiWyVzXSBhbHJlYWR5IHVuYm91bmQsIGNhbm5vdCBjYW5jZWwgdW5iaW5kQWxsIix0aGlzLmxvY2FsTmFtZSksdm9pZCAwKTooZS51bmJpbmQmJmNvbnNvbGUubG9nKCJbJXNdIGNhbmNlbFVuYmluZEFsbCIsdGhpcy5sb2NhbE5hbWUpLHRoaXMuX3VuYmluZEFsbEpvYiYmKHRoaXMuX3VuYmluZEFsbEpvYj10aGlzLl91bmJpbmRBbGxKb2Iuc3RvcCgpKSxhfHxkKHRoaXMuc2hhZG93Um9vdCxmdW5jdGlvbihhKXthLmNhbmNlbFVuYmluZEFsbCYmYS5jYW5jZWxVbmJpbmRBbGwoKX0pLHZvaWQgMCl9LGluc2VydGVkQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbFVuYmluZEFsbCghMCksdGhpcy5pbnNlcnRlZCYmdGhpcy5pbnNlcnRlZCgpfSxyZW1vdmVkQ2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmFzeW5jVW5iaW5kQWxsKCksdGhpcy5yZW1vdmVkJiZ0aGlzLnJlbW92ZWQoKX19LGg9L1x7XHsoW157fV0qKX19LzthLmJpbmRQYXR0ZXJuPWgsYS5hcGkuaW5zdGFuY2UubWR2PWd9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEuaGFzT3duUHJvcGVydHkoIlBvbHltZXJCYXNlIil9ZnVuY3Rpb24gYygpe312YXIgZD17UG9seW1lckJhc2U6ITAsam9iOlBvbHltZXIuam9iLCJzdXBlciI6UG9seW1lci5zdXBlcixyZWFkeTpmdW5jdGlvbigpe30scmVhZHlDYWxsYmFjazpmdW5jdGlvbigpe3RoaXMub2JzZXJ2ZVByb3BlcnRpZXMoKSx0aGlzLmNvcHlJbnN0YW5jZUF0dHJpYnV0ZXMoKSx0aGlzLnRha2VBdHRyaWJ1dGVzKCksdGhpcy5hZGRIb3N0TGlzdGVuZXJzKCksdGhpcy5wYXJzZUVsZW1lbnRzKHRoaXMuX19wcm90b19fKSx0aGlzLmFzeW5jVW5iaW5kQWxsKCksdGhpcy5yZWFkeSgpfSxwYXJzZUVsZW1lbnRzOmZ1bmN0aW9uKGEpe2EmJmEuZWxlbWVudCYmKHRoaXMucGFyc2VFbGVtZW50cyhhLl9fcHJvdG9fXyksYS5wYXJzZUVsZW1lbnQuY2FsbCh0aGlzLGEuZWxlbWVudCkpfSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5zaGFkb3dGcm9tVGVtcGxhdGUodGhpcy5mZXRjaFRlbXBsYXRlKGEpKX0sZmV0Y2hUZW1wbGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yKCJ0ZW1wbGF0ZSIpfSxzaGFkb3dGcm9tVGVtcGxhdGU6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5zaGFkb3dSb290LGM9dGhpcy5jcmVhdGVTaGFkb3dSb290KCk7Yy5vbGRlclNoYWRvd1Jvb3Q9YixjLmFwcGx5QXV0aG9yU3R5bGVzPXRoaXMuYXBwbHlBdXRob3JTdHlsZXMsYy5yZXNldFN0eWxlSW5oZXJpdGFuY2U9dGhpcy5yZXNldFN0eWxlSW5oZXJpdGFuY2UsYy5ob3N0PXRoaXM7dmFyIGQ9dGhpcy5pbnN0YW5jZVRlbXBsYXRlKGEpO3JldHVybiBjLmFwcGVuZENoaWxkKGQpLHRoaXMuc2hhZG93Um9vdFJlYWR5KGMsYSksQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksY319LHNoYWRvd1Jvb3RSZWFkeTpmdW5jdGlvbihhLGIpe3RoaXMubWFyc2hhbE5vZGVSZWZlcmVuY2VzKGEpLHRoaXMuYWRkSW5zdGFuY2VMaXN0ZW5lcnMoYSxiKSxQb2ludGVyR2VzdHVyZXMucmVnaXN0ZXIoYSl9LG1hcnNoYWxOb2RlUmVmZXJlbmNlczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ9dGhpcy4kfHx7fTtpZihhKWZvcih2YXIgYyxkPWEucXVlcnlTZWxlY3RvckFsbCgiW2lkXSIpLGU9MCxmPWQubGVuZ3RoO2Y+ZSYmKGM9ZFtlXSk7ZSsrKWJbYy5pZF09Y30sYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07Yy5wcm90b3R5cGU9ZCxkLmNvbnN0cnVjdG9yPWMsYS5CYXNlPWMsYS5pc0Jhc2U9YixhLmFwaS5pbnN0YW5jZS5iYXNlPWR9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc3x8e307dmFyIGI9ImVsZW1lbnQiLGM9ImNvbnRyb2xsZXIiLGQ9e1NUWUxFX1NDT1BFX0FUVFJJQlVURTpiLGluc3RhbGxDb250cm9sbGVyU3R5bGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maW5kU3R5bGVDb250cm9sbGVyKCk7aWYoYSYmIXRoaXMuc2NvcGVIYXNFbGVtZW50U3R5bGUoYSxjKSl7Zm9yKHZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSxkPSIiO2ImJmIuZWxlbWVudDspZCs9Yi5lbGVtZW50LmNzc1RleHRGb3JTY29wZShjKSxiPU9iamVjdC5nZXRQcm90b3R5cGVPZihiKTtpZihkKXt2YXIgZT10aGlzLmVsZW1lbnQuY3NzVGV4dFRvU2NvcGVTdHlsZShkLGMpO3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmUGxhdGZvcm0uU2hhZG93Q1NTLnNoaW1Qb2x5ZmlsbERpcmVjdGl2ZXMoW2VdLHRoaXMubG9jYWxOYW1lKSxQb2x5bWVyLmFwcGx5U3R5bGVUb1Njb3BlKGUsYSl9fX0sc2NvcGVIYXNFbGVtZW50U3R5bGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD1iKyI9Iit0aGlzLmxvY2FsTmFtZSsiLSIrYztyZXR1cm4gYS5xdWVyeVNlbGVjdG9yKCJzdHlsZVsiK2QrIl0iKX0sZmluZFN0eWxlQ29udHJvbGxlcjpmdW5jdGlvbigpe2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbClyZXR1cm4gd3JhcChkb2N1bWVudC5oZWFkKTtmb3IodmFyIGE9dGhpczthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhPT09ZG9jdW1lbnQ/ZG9jdW1lbnQuaGVhZDphfX07YS5hcGkuaW5zdGFuY2Uuc3R5bGVzPWR9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3ZhciBiPXthZGRSZXNvbHZlUGF0aEFwaTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudFBhdGgoKTt0aGlzLnByb3RvdHlwZS5yZXNvbHZlUGF0aD1mdW5jdGlvbihiKXtyZXR1cm4gYStifX0sZWxlbWVudFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmxUb1BhdGgoSFRNTEltcG9ydHMuZ2V0RG9jdW1lbnRVcmwodGhpcy5vd25lckRvY3VtZW50KSl9LHVybFRvUGF0aDpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj1hLnNwbGl0KCIvIik7cmV0dXJuIGIucG9wKCksYi5wdXNoKCIiKSxiLmpvaW4oIi8iKX1yZXR1cm4iIn19O2EuYXBpLmRlY2xhcmF0aW9uLnBhdGg9Yn0oUG9seW1lciksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2lmKGEpe3ZhciBkPWMoYS50ZXh0Q29udGVudCksZT1hLmdldEF0dHJpYnV0ZShnKTtlJiZkLnNldEF0dHJpYnV0ZShnLGUpLGIuYXBwZW5kQ2hpbGQoZCl9fWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX3Jlc291cmNlfHwiIn1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIG4/bi5jYWxsKGEsYik6dm9pZCAwfXdpbmRvdy5sb2dGbGFnc3x8e307dmFyIGY9YS5hcGkuaW5zdGFuY2Uuc3R5bGVzLGc9Zi5TVFlMRV9TQ09QRV9BVFRSSUJVVEUsaD0ic3R5bGUiLGk9IltyZWw9c3R5bGVzaGVldF0iLGo9Imdsb2JhbCIsaz0icG9seW1lci1zY29wZSIsbD17aW5zdGFsbFNoZWV0czpmdW5jdGlvbigpe3RoaXMuY2FjaGVTaGVldHMoKSx0aGlzLmluc3RhbGxMb2NhbFNoZWV0cygpLHRoaXMuaW5zdGFsbEdsb2JhbFN0eWxlcygpfSxjYWNoZVNoZWV0czpmdW5jdGlvbigpe3RoaXMuc2hlZXRzPXRoaXMuZmluZE5vZGVzKGkpLHRoaXMuc2hlZXRzLmZvckVhY2goZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9KX0saW5zdGFsbExvY2FsU2hlZXRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zaGVldHMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiFhLmhhc0F0dHJpYnV0ZShrKX0pLGI9dGhpcy50ZW1wbGF0ZUNvbnRlbnQoKTtpZihiKXt2YXIgZT0iIjthLmZvckVhY2goZnVuY3Rpb24oYSl7ZSs9ZChhKSsiXG4ifSksZSYmYi5pbnNlcnRCZWZvcmUoYyhlKSxiLmZpcnN0Q2hpbGQpfX0sZmluZE5vZGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5xdWVyeVNlbGVjdG9yQWxsKGEpLmFycmF5KCksZD10aGlzLnRlbXBsYXRlQ29udGVudCgpO2lmKGQpe3ZhciBlPWQucXVlcnlTZWxlY3RvckFsbChhKS5hcnJheSgpO2M9Yy5jb25jYXQoZSl9cmV0dXJuIGI/Yy5maWx0ZXIoYik6Y30sdGVtcGxhdGVDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5xdWVyeVNlbGVjdG9yKCJ0ZW1wbGF0ZSIpO3JldHVybiBhJiZ0ZW1wbGF0ZUNvbnRlbnQoYSl9LGluc3RhbGxHbG9iYWxTdHlsZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0eWxlRm9yU2NvcGUoaik7YihhLGRvY3VtZW50LmhlYWQpfSxjc3NUZXh0Rm9yU2NvcGU6ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYz0iWyIraysiPSIrYSsiXSIsZj1mdW5jdGlvbihhKXtyZXR1cm4gZShhLGMpfSxnPXRoaXMuc2hlZXRzLmZpbHRlcihmKTtnLmZvckVhY2goZnVuY3Rpb24oYSl7Yis9ZChhKSsiXG5cbiJ9KTt2YXIgaT10aGlzLmZpbmROb2RlcyhoLGYpO3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGIrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYn0sc3R5bGVGb3JTY29wZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNzc1RleHRGb3JTY29wZShhKTtyZXR1cm4gdGhpcy5jc3NUZXh0VG9TY29wZVN0eWxlKGIsYSl9LGNzc1RleHRUb1Njb3BlU3R5bGU6ZnVuY3Rpb24oYSxiKXtpZihhKXt2YXIgZD1jKGEpO3JldHVybiBkLnNldEF0dHJpYnV0ZShnLHRoaXMuZ2V0QXR0cmlidXRlKCJuYW1lIikrIi0iK2IpLGR9fX0sbT1IVE1MRWxlbWVudC5wcm90b3R5cGUsbj1tLm1hdGNoZXN8fG0ubWF0Y2hlc1NlbGVjdG9yfHxtLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8bS5tb3pNYXRjaGVzU2VsZWN0b3I7YS5hcGkuZGVjbGFyYXRpb24uc3R5bGVzPWwsYS5hcHBseVN0eWxlVG9TY29wZT1ifShQb2x5bWVyKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBhLnNsaWNlKDAsayk9PWd9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5zbGljZShrKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlZj9hLnJlZi5jb250ZW50OmEuY29udGVudH12YXIgZT1hLmFwaS5pbnN0YW5jZS5ldmVudHMsZj1lLkRFTEVHQVRFUyxnPWUuRVZFTlRfUFJFRklYLGg9d2luZG93LmxvZ0ZsYWdzfHx7fSxpPXtpbmhlcml0RGVsZWdhdGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5oZXJpdE9iamVjdChhLGYpfSxwYXJzZUhvc3RFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnByb3RvdHlwZVtmXTt0aGlzLmFkZEF0dHJpYnV0ZURlbGVnYXRlcyhhKX0sYWRkQXR0cmlidXRlRGVsZWdhdGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZCxlPTA7ZD10aGlzLmF0dHJpYnV0ZXNbZV07ZSsrKWIoZC5uYW1lKSYmKGFbYyhkLm5hbWUpXT1kLnZhbHVlKX0scGFyc2VMb2NhbEV2ZW50czpmdW5jdGlvbigpe3RoaXMucXVlcnlTZWxlY3RvckFsbCgidGVtcGxhdGUiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVsZWdhdGVzPXt9LHRoaXMuYWNjdW11bGF0ZVRlbXBsYXRlZEV2ZW50cyhhLGEuZGVsZWdhdGVzKSxoLmV2ZW50cyYmY29uc29sZS5sb2coIlslc10gcGFyc2VMb2NhbEV2ZW50czoiLHRoaXMuYXR0cmlidXRlcy5uYW1lLnZhbHVlLGEuZGVsZWdhdGVzKX0sdGhpcyl9LGFjY3VtdWxhdGVUZW1wbGF0ZWRFdmVudHM6ZnVuY3Rpb24oYSxiKXtpZigidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUpe3ZhciBjPWQoYSk7YyYmdGhpcy5hY2N1bXVsYXRlQ2hpbGRFdmVudHMoYyxiKX19LGFjY3VtdWxhdGVDaGlsZEV2ZW50czpmdW5jdGlvbihhLGIpe2EuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuYWNjdW11bGF0ZUV2ZW50cyhhLGIpfSx0aGlzKX0sYWNjdW11bGF0ZUV2ZW50czpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFjY3VtdWxhdGVBdHRyaWJ1dGVFdmVudHMoYSxiKSx0aGlzLmFjY3VtdWxhdGVDaGlsZEV2ZW50cyhhLGIpLHRoaXMuYWNjdW11bGF0ZVRlbXBsYXRlZEV2ZW50cyhhLGIpLGJ9LGFjY3VtdWxhdGVBdHRyaWJ1dGVFdmVudHM6ZnVuY3Rpb24oYSxkKXthLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IoYS5uYW1lKSYmdGhpcy5hY2N1bXVsYXRlRXZlbnQoYyhhLm5hbWUpLGQpfSx0aGlzKX0sYWNjdW11bGF0ZUV2ZW50OmZ1bmN0aW9uKGEsYil7YT1qW2FdfHxhLGJbYV09YlthXXx8MX19LGo9e3dlYmtpdGFuaW1hdGlvbnN0YXJ0OiJ3ZWJraXRBbmltYXRpb25TdGFydCIsd2Via2l0YW5pbWF0aW9uZW5kOiJ3ZWJraXRBbmltYXRpb25FbmQiLHdlYmtpdHRyYW5zaXRpb25lbmQ6IndlYmtpdFRyYW5zaXRpb25FbmQiLGRvbWZvY3Vzb3V0OiJET01Gb2N1c091dCIsZG9tZm9jdXNpbjoiRE9NRm9jdXNJbiJ9LGs9Zy5sZW5ndGg7aS5ldmVudF90cmFuc2xhdGlvbnM9aixhLmFwaS5kZWNsYXJhdGlvbi5ldmVudHM9aX0oUG9seW1lciksZnVuY3Rpb24oYSl7dmFyIGI9W10sYz17Y2FjaGVQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dGhpcy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydHlOYW1lcz10aGlzLmdldEN1c3RvbVByb3BlcnR5TmFtZXModGhpcy5wcm90b3R5cGUpfSxnZXRDdXN0b21Qcm9wZXJ0eU5hbWVzOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZCxlPXt9O2MmJiFhLmlzQmFzZShjKTspe2Zvcih2YXIgZixnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGMpLGg9MCxpPWcubGVuZ3RoO2k+aCYmKGY9Z1toXSk7aCsrKWVbZl09ITAsZD0hMDtjPWMuX19wcm90b19ffXJldHVybiBkP09iamVjdC5rZXlzKGUpOmJ9fTthLmFwaS5kZWNsYXJhdGlvbi5wcm9wZXJ0aWVzPWN9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuYXBpLmluc3RhbmNlLmF0dHJpYnV0ZXMsYz1iLlBVQkxJU0hFRCxkPWIuSU5TVEFOQ0VfQVRUUklCVVRFUyxlPSJwdWJsaXNoIixmPSJhdHRyaWJ1dGVzIixnPXtpbmhlcml0QXR0cmlidXRlc09iamVjdHM6ZnVuY3Rpb24oYSl7dGhpcy5pbmhlcml0T2JqZWN0KGEsYyksdGhpcy5pbmhlcml0T2JqZWN0KGEsZCl9LHBhcnNlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMucHVibGlzaEF0dHJpYnV0ZXModGhpcy5wcm90b3R5cGUpLHRoaXMucHVibGlzaFByb3BlcnRpZXModGhpcy5wcm90b3R5cGUpLHRoaXMuYWNjdW11bGF0ZUluc3RhbmNlQXR0cmlidXRlcygpfSxwdWJsaXNoQXR0cmlidXRlczpmdW5jdGlvbihhKXt2YXIgYj1hW2NdLGQ9dGhpcy5nZXRBdHRyaWJ1dGUoZik7aWYoZCl7dmFyIGU9ZC5zcGxpdChkLmluZGV4T2YoIiwiKT49MD8iLCI6IiAiKTtlLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSwhYXx8YSBpbiBifHwoYlthXT1udWxsKX0pfU9iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7YyBpbiBhfHwoYVtjXT1iW2NdKX0pfSxwdWJsaXNoUHJvcGVydGllczpmdW5jdGlvbihhKXt0aGlzLnB1Ymxpc2hQdWJsaXNoKGEpfSxwdWJsaXNoUHVibGlzaDpmdW5jdGlvbihhKXtpZihhLmhhc093blByb3BlcnR5KGUpKXt2YXIgYj1hW2VdO2ImJihPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2FbY109YltjXX0pLFBsYXRmb3JtLm1peGluKGFbY10sYikpfX0sYWNjdW11bGF0ZUluc3RhbmNlQXR0cmlidXRlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucHJvdG90eXBlW2RdO3RoaXMuYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMuaXNJbnN0YW5jZUF0dHJpYnV0ZShiLm5hbWUpJiYoYVtiLm5hbWVdPWIudmFsdWUpfSx0aGlzKX0saXNJbnN0YW5jZUF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5ibGFja0xpc3RbYV0mJiJvbi0iIT09YS5zbGljZSgwLDMpfSxibGFja0xpc3Q6e25hbWU6MSwiZXh0ZW5kcyI6MSxjb25zdHJ1Y3RvcjoxfX07Zy5ibGFja0xpc3RbZl09MSxhLmFwaS5kZWNsYXJhdGlvbi5hdHRyaWJ1dGVzPWd9KFBvbHltZXIpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtmW2FdPWJ9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5nZXRQcm90b3R5cGVGb3JUYWcoYSkpfXZhciBkPVBvbHltZXIuZXh0ZW5kLGU9YS5hcGkuZGVjbGFyYXRpb24sZj17fSxnPWMoKTtkKGcse3JlYWR5Q2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEF0dHJpYnV0ZSgibmFtZSIpLGI9dGhpcy5nZXRBdHRyaWJ1dGUoImV4dGVuZHMiKTt0aGlzLnByb3RvdHlwZT10aGlzLmdlbmVyYXRlQ3VzdG9tUHJvdG90eXBlKGEsYiksdGhpcy5wcm90b3R5cGUuZWxlbWVudD10aGlzLHRoaXMuYWRkUmVzb2x2ZVBhdGhBcGkoKSx0aGlzLmRlc3VnYXIoKSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJlBsYXRmb3JtLlNoYWRvd0NTUy5zaGltU3R5bGluZyh0aGlzLnRlbXBsYXRlQ29udGVudCgpLGEsYiksdGhpcy5yZWdpc3RlcihhKSx0aGlzLnB1Ymxpc2hDb25zdHJ1Y3RvcigpfSxkZXN1Z2FyOmZ1bmN0aW9uKCl7dGhpcy5wYXJzZUF0dHJpYnV0ZXMoKSx0aGlzLnBhcnNlSG9zdEV2ZW50cygpLHRoaXMucGFyc2VMb2NhbEV2ZW50cygpLHRoaXMuaW5zdGFsbFNoZWV0cygpLHRoaXMucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2smJnRoaXMucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2sodGhpcyksdGhpcy5jYWNoZVByb3BlcnRpZXMoKX0sZ2VuZXJhdGVDdXN0b21Qcm90b3R5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdlbmVyYXRlQmFzZVByb3RvdHlwZShiKTtyZXR1cm4gdGhpcy5hZGROYW1lZEFwaShjLGEpfSxnZW5lcmF0ZUJhc2VQcm90b3R5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9YyhhKTtyZXR1cm4gdGhpcy5lbnN1cmVCYXNlQXBpKGIpfSxlbnN1cmVCYXNlQXBpOmZ1bmN0aW9uKGIpe3JldHVybiBiLlBvbHltZXJCYXNlfHwoT2JqZWN0LmtleXMoYS5hcGkuaW5zdGFuY2UpLmZvckVhY2goZnVuY3Rpb24oYyl7ZChiLGEuYXBpLmluc3RhbmNlW2NdKX0pLGI9T2JqZWN0LmNyZWF0ZShiKSksdGhpcy5pbmhlcml0QXR0cmlidXRlc09iamVjdHMoYiksdGhpcy5pbmhlcml0RGVsZWdhdGVzKGIpLGJ9LGFkZE5hbWVkQXBpOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQoYSxmW2JdKX0saW5oZXJpdE9iamVjdDpmdW5jdGlvbihhLGIpe2FbYl09ZCh7fSxhLl9fcHJvdG9fX1tiXSl9LHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe3RoaXMuY3Rvcj1kb2N1bWVudC5yZWdpc3RlcihhLHtwcm90b3R5cGU6dGhpcy5wcm90b3R5cGV9KSx0aGlzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10aGlzLmN0b3IsSFRNTEVsZW1lbnQucmVnaXN0ZXIoYSx0aGlzLnByb3RvdHlwZSl9LHB1Ymxpc2hDb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0QXR0cmlidXRlKCJjb25zdHJ1Y3RvciIpO2EmJih3aW5kb3dbYV09dGhpcy5jdG9yKX19KSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2QoZyxlW2FdKX0pLGRvY3VtZW50LnJlZ2lzdGVyKCJwb2x5bWVyLWVsZW1lbnQiLHtwcm90b3R5cGU6Z30pLGQoYix3aW5kb3cuUG9seW1lciksd2luZG93LlBvbHltZXI9Yn0oUG9seW1lcik7Ci8qCi8vQCBzb3VyY2VNYXBwaW5nVVJMPXBvbHltZXIubmF0aXZlLm1pbi5qcy5tYXAKKi8=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Thu, 06 Nov 2014 23:22:12 GMT",
                    "Content-Length": "118325",
                    "Date": "Thu, 06 Nov 2014 23:22:13 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/facadejs/Facade.js/docs/",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>window.location.hash</b> and written to <b>$()</b> via the following statement:<ul><li>$('[id=\"' + e.replace(/#/ , \"\" ) + '\"]' ) </li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/facadejs/Facade.js/docs/",
                "path": "/facadejs/Facade.js/docs/",
                "httpVersion": "HTTP/0.0",
                "method": "GET",
                "headers": {
                    "Referer": "http://localhost:9999/facadejs/Facade.js/docs",
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9mYWNhZGVqcy9GYWNhZGUuanMvZG9jcy8gSFRUUC8wLjANCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQpSZWZlcmVyOiBodHRwOi8vbG9jYWxob3N0Ojk5OTkvZmFjYWRlanMvRmFjYWRlLmpzL2RvY3MNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMjI0MzMxDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMDA6MDA6NTAgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDAwOjAwOjUwIEdNVA0KDQo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgo8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+CjxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJpbml0aWFsLXNjYWxlPTEiPgo8dGl0bGU+ZmFjYWRlLmpzICYjODIxMjsgRHJhd2luZyBzaGFwZXMsIGltYWdlcyBhbmQgdGV4dCBpbiBIVE1MNSBjYW52YXMgbWFkZSBlYXN5LjwvdGl0bGU+CjxzdHlsZT4KCi5iYWNrLXRvLXRvcCB7CiAgICBkaXNwbGF5OiBub25lOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgcmlnaHQ6IDFlbTsKICAgIGJvdHRvbTogMWVtOwogICAgei1pbmRleDogOTk5Owp9CgouYmFjay10by10b3AgYSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHBhZGRpbmc6IC41ZW0gLjVlbSAuNWVtIDEuNWVtOwogICAgbGluZS1oZWlnaHQ6IDFlbTsKICAgIGJvcmRlci1yYWRpdXM6IC4yNWVtOwogICAgYmFja2dyb3VuZDogI2ZmZiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TTNCNElpQm9aV2xuYUhROUlqRTBjSGdpSUhacFpYZENiM2c5SWpBZ01DQXhNeUF4TkNJK0NpQWdJQ0E4Y0dGMGFDQmtQU0pOTnk0eE9EYzJNVEUxTml3eE15Qk1OeTR4T0RjMk1URTFOaXcxTGpRNU1qUTVOekF6SUV3eE1DNDBOVGczT0RVekxEVXVORGt5TkRrM01ETWdURFV1TURrNU16RTNOak1zTUM0eE1UTTFOVGd4TWprZ1RDMHdMakkyTURFMUxEVXVORGt5TkRrM01ETWdURE11TURFeE1ESXpOekVzTlM0ME9USTBPVGN3TXlCTU15NHdNVEV3TWpNM01Td3hNeUJNTnk0eE9EYzJNVEUxTml3eE15QmFJaUJtYVd4c1BTSWpOREk0WW1OaElqNDhMM0JoZEdnK0Nqd3ZjM1puUGdvPSkgbm8tcmVwZWF0IC41ZW0gY2VudGVyOwp9CgoubWVudSB7CiAgICBtYXJnaW46IDEuNWVtIDAgMCAwOwogICAgcGFkZGluZzogMDsKfQoKLm1lbnUgbGkgewogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLm1lbnUgbGkgYSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHBhZGRpbmc6IC4yNWVtOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9CgoubWVudSBsaSB1bCB7CiAgICBtYXJnaW46IC4yNWVtIDAgLjI1ZW0gMWVtOwogICAgcGFkZGluZzogMDsKfQoKLm1lbnUgLnNjb3BlLXByaXZhdGUgewogICAgb3BhY2l0eTogMC41Owp9CgoubWV0aG9kIGgyIHsKICAgIGxpbmUtaGVpZ2h0OiAxLjNlbTsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnBlcm1hbGluayB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBtYXJnaW4tbGVmdDogLS43NWVtOwogICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgIGNvbG9yOiAjZWVlOwp9CgoucGVybWFsaW5rOmhvdmVyIHsKICAgIGNvbG9yOiAjNjY2OwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CgouYnMtZm9vdGVyIHsKICAgIG1hcmdpbjogNTBweCBhdXRvOwogICAgY29sb3I6ICM3Nzc7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCnByZSAuaGxqcyB7CiAgICBwYWRkaW5nOiAwOwogICAgYmFja2dyb3VuZDogbm9uZTsKfQoKPC9zdHlsZT4KPHNjcmlwdD4KKGZ1bmN0aW9uKGUsaSx0KXsidXNlIHN0cmljdCI7dmFyIGM9ZS5sb2NhdGlvbi5wcm90b2NvbD09PSJmaWxlOiI/Imh0dHA6IjplLmxvY2F0aW9uLnByb3RvY29sLG89WyIvL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLCIvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9oaWdobGlnaHQuanMvOC4xL3N0eWxlcy9naXRodWIubWluLmNzcyIsIi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuMS5qcyIsIi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2hpZ2hsaWdodC5qcy84LjEvaGlnaGxpZ2h0Lm1pbi5qcyJdO2Z1bmN0aW9uIHMoZSl7dmFyIGw7aWYoZS5tYXRjaCgvXC5qcyQvKSl7bD1pLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2wuc2V0QXR0cmlidXRlKCJzcmMiLGMrZSl9ZWxzZSBpZihlLm1hdGNoKC9cLmNzcyQvKSl7bD1pLmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtsLnNldEF0dHJpYnV0ZSgicmVsIiwic3R5bGVzaGVldCIpO2wuc2V0QXR0cmlidXRlKCJocmVmIixjK2UpfWwuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXtpZihvLmxlbmd0aCl7cyhvLnNoaWZ0KCkpfWVsc2V7aWYoJC5pc1JlYWR5KXt0KCl9ZWxzZXskKGRvY3VtZW50KS5yZWFkeSh0KX19fSk7aS5oZWFkLmFwcGVuZENoaWxkKGwpfXMoby5zaGlmdCgpKX0pKHdpbmRvdyxkb2N1bWVudCxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT13aW5kb3cubG9jYXRpb24uaGFzaCxpPSQoJ1tpZD0iJytlLnJlcGxhY2UoLyMvLCIiKSsnIl0nKSx0PSQoIi5jb2RlIiksYz0kKCIuc2NvcGUtcHJpdmF0ZSIpLG89JCgiLnRvZ2dsZS1jb2RlLWJsb2NrcyIpLHM9JCgiLnRvZ2dsZS1wcml2YXRlIiksbD0kKCIuYmFjay10by10b3AiKTtmdW5jdGlvbiBuKCl7aWYod2luZG93LnNjcm9sbFk+MTAwJiZsLm5vdCgiOnZpc2libGUiKSl7bC5mYWRlSW4oKX1lbHNlIGlmKHdpbmRvdy5zY3JvbGxZPDEwMCYmbC5pcygiOnZpc2libGUiKSl7bC5mYWRlT3V0KCl9fW8ub24oImNsaWNrIixmdW5jdGlvbigpe2lmKG8uaXMoIjpjaGVja2VkIikpe3Quc2hvdygpfWVsc2V7dC5oaWRlKCl9fSk7cy5vbigiY2xpY2siLGZ1bmN0aW9uKCl7aWYocy5pcygiOmNoZWNrZWQiKSl7Yy5zaG93KCl9ZWxzZXtjLmhpZGUoKX19KTt0LmhpZGUoKTtjLmhpZGUoKTtpZihpLmxlbmd0aCYmIWkuaXMoIjp2aXNpYmxlIikpe3MudHJpZ2dlcigiY2xpY2siKX0kKCIuZXhhbXBsZXMgcHJlIGNvZGUsIC5jb2RlIHByZSBjb2RlIikuZWFjaChmdW5jdGlvbigpe2hsanMuaGlnaGxpZ2h0QmxvY2sodGhpcyl9KTskKHdpbmRvdykub24oInNjcm9sbCIsbik7bigpfSk7Cjwvc2NyaXB0Pgo8L2hlYWQ+Cgo8Ym9keT4KCjxzdHlsZT4KCmhlYWRlciB7CiAgICBwYWRkaW5nOiAxZW07CiAgICBmb250LXNpemU6IDEuMmVtOwogICAgbGluZS1oZWlnaHQ6IDFlbTsKICAgIGNvbG9yOiAjZmZmOwogICAgYmFja2dyb3VuZC1jb2xvcjogIzMyMjk1NzsKICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwp9CgpoZWFkZXIgYSwKaGVhZGVyIGE6aG92ZXIgewogICAgY29sb3I6IGluaGVyaXQ7Cn0KCjwvc3R5bGU+Cgo8aGVhZGVyPgoKICAgIDxhIGhyZWY9Imh0dHA6Ly9kb2NzLmZhY2FkZWpzLmNvbS9saXN0Ij4mbGFycjsgVmlldyBhbGwgdmVyc2lvbnMgb2YgZG9jdW1lbnRhdGlvbjwvYT48L2k+Cgo8L2hlYWRlcj4KCjxkaXYgY2xhc3M9ImJhY2stdG8tdG9wIj48YSBocmVmPSIjIj5CYWNrIHRvIFRvcDwvYT48L2Rpdj4KCjxkaXYgY2xhc3M9IndyYXAiPgoKICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CgogICAgICAgIDxkaXYgY2xhc3M9InBhZ2UtaGVhZGVyIj4KCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InB1bGwtcmlnaHQgaGlkZGVuLXNtIGhpZGRlbi14cyI+CgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0idG9nZ2xlLWNvZGUiIGNsYXNzPSJ0b2dnbGUtY29kZS1ibG9ja3MiPgogICAgICAgICAgICAgICAgICAgICAgICBUb2dnbGUgQ29kZSBCbG9ja3MKICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ0b2dnbGUtcHJpdmF0ZSIgY2xhc3M9InRvZ2dsZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgVG9nZ2xlIFByaXZhdGUgTWV0aG9kcwogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGgxPmZhY2FkZS5qcyA8c21hbGw+RHJhd2luZyBzaGFwZXMsIGltYWdlcyBhbmQgdGV4dCBpbiBIVE1MNSBjYW52YXMgbWFkZSBlYXN5Ljwvc21hbGw+PC9oMT4KCiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMyBoaWRkZW4tc20gaGlkZGVuLXhzIj4KCiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9Im1lbnUiPgoKCiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8Yj5mYWNhZGUuanM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZSIgdGl0bGU9IkZhY2FkZSgpIj5GYWNhZGUoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmFkZHRvc3RhZ2UiIHRpdGxlPSJGYWNhZGUuYWRkVG9TdGFnZSgpIj5GYWNhZGUuYWRkVG9TdGFnZSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuY2xlYXIiIHRpdGxlPSJGYWNhZGUuY2xlYXIoKSI+RmFjYWRlLmNsZWFyKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5kcmF3IiB0aXRsZT0iRmFjYWRlLmRyYXcoKSI+RmFjYWRlLmRyYXcoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmV4cG9ydGJhc2U2NCIgdGl0bGU9IkZhY2FkZS5leHBvcnRCYXNlNjQoKSI+RmFjYWRlLmV4cG9ydEJhc2U2NCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuaGVpZ2h0IiB0aXRsZT0iRmFjYWRlLmhlaWdodCgpIj5GYWNhZGUuaGVpZ2h0KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5yZW5kZXJ3aXRoY29udGV4dCIgdGl0bGU9IkZhY2FkZS5yZW5kZXJXaXRoQ29udGV4dCgpIj5GYWNhZGUucmVuZGVyV2l0aENvbnRleHQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnJlc2l6ZWZvcmhkcGkiIHRpdGxlPSJGYWNhZGUucmVzaXplRm9ySERQSSgpIj5GYWNhZGUucmVzaXplRm9ySERQSSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuc3RhcnQiIHRpdGxlPSJGYWNhZGUuc3RhcnQoKSI+RmFjYWRlLnN0YXJ0KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5zdG9wIiB0aXRsZT0iRmFjYWRlLnN0b3AoKSI+RmFjYWRlLnN0b3AoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLndpZHRoIiB0aXRsZT0iRmFjYWRlLndpZHRoKCkiPkZhY2FkZS53aWR0aCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXByaXZhdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLl9hbmltYXRlIiB0aXRsZT0iRmFjYWRlLl9hbmltYXRlKCkiPkZhY2FkZS5fYW5pbWF0ZSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkiIHRpdGxlPSJGYWNhZGUuRW50aXR5KCkiPkZhY2FkZS5FbnRpdHkoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRvcHRpb25zIiB0aXRsZT0iRmFjYWRlLkVudGl0eS5fZGVmYXVsdE9wdGlvbnMoKSI+RmFjYWRlLkVudGl0eS5fZGVmYXVsdE9wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRtZXRyaWNzIiB0aXRsZT0iRmFjYWRlLkVudGl0eS5fZGVmYXVsdE1ldHJpY3MoKSI+RmFjYWRlLkVudGl0eS5fZGVmYXVsdE1ldHJpY3MoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2dldGFuY2hvcnBvaW50IiB0aXRsZT0iRmFjYWRlLkVudGl0eS5fZ2V0QW5jaG9yUG9pbnQoKSI+RmFjYWRlLkVudGl0eS5fZ2V0QW5jaG9yUG9pbnQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2dldHN0cm9rZXdpZHRob2Zmc2V0IiB0aXRsZT0iRmFjYWRlLkVudGl0eS5fZ2V0U3Ryb2tlV2lkdGhPZmZzZXQoKSI+RmFjYWRlLkVudGl0eS5fZ2V0U3Ryb2tlV2lkdGhPZmZzZXQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2FwcGx5dHJhbnNmb3JtcyIgdGl0bGU9IkZhY2FkZS5FbnRpdHkuX2FwcGx5VHJhbnNmb3JtcygpIj5GYWNhZGUuRW50aXR5Ll9hcHBseVRyYW5zZm9ybXMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRvcHRpb24iIHRpdGxlPSJGYWNhZGUuRW50aXR5LmdldE9wdGlvbigpIj5GYWNhZGUuRW50aXR5LmdldE9wdGlvbigpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldGFsbG9wdGlvbnMiIHRpdGxlPSJGYWNhZGUuRW50aXR5LmdldEFsbE9wdGlvbnMoKSI+RmFjYWRlLkVudGl0eS5nZXRBbGxPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9zZXRvcHRpb24iIHRpdGxlPSJGYWNhZGUuRW50aXR5Ll9zZXRPcHRpb24oKSI+RmFjYWRlLkVudGl0eS5fc2V0T3B0aW9uKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuc2V0b3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5FbnRpdHkuc2V0T3B0aW9ucygpIj5GYWNhZGUuRW50aXR5LnNldE9wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRtZXRyaWMiIHRpdGxlPSJGYWNhZGUuRW50aXR5LmdldE1ldHJpYygpIj5GYWNhZGUuRW50aXR5LmdldE1ldHJpYygpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldGFsbG1ldHJpY3MiIHRpdGxlPSJGYWNhZGUuRW50aXR5LmdldEFsbE1ldHJpY3MoKSI+RmFjYWRlLkVudGl0eS5nZXRBbGxNZXRyaWNzKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuZHJhdyIgdGl0bGU9IkZhY2FkZS5FbnRpdHkuZHJhdygpIj5GYWNhZGUuRW50aXR5LmRyYXcoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucG9seWdvbiIgdGl0bGU9IkZhY2FkZS5Qb2x5Z29uKCkiPkZhY2FkZS5Qb2x5Z29uKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9kZWZhdWx0b3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5Qb2x5Z29uLl9kZWZhdWx0T3B0aW9ucygpIj5GYWNhZGUuUG9seWdvbi5fZGVmYXVsdE9wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9kcmF3IiB0aXRsZT0iRmFjYWRlLlBvbHlnb24uX2RyYXcoKSI+RmFjYWRlLlBvbHlnb24uX2RyYXcoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiB0aXRsZT0iRmFjYWRlLlBvbHlnb24uX2NvbmZpZ09wdGlvbnMoKSI+RmFjYWRlLlBvbHlnb24uX2NvbmZpZ09wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9zZXRtZXRyaWNzIiB0aXRsZT0iRmFjYWRlLlBvbHlnb24uX3NldE1ldHJpY3MoKSI+RmFjYWRlLlBvbHlnb24uX3NldE1ldHJpY3MoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuY2lyY2xlIiB0aXRsZT0iRmFjYWRlLkNpcmNsZSgpIj5GYWNhZGUuQ2lyY2xlKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZS5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIHRpdGxlPSJGYWNhZGUuQ2lyY2xlLl9jb25maWdPcHRpb25zKCkiPkZhY2FkZS5DaXJjbGUuX2NvbmZpZ09wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZS5wcm90b3R5cGUuX2dldGFuY2hvcnBvaW50IiB0aXRsZT0iRmFjYWRlLkNpcmNsZS5fZ2V0QW5jaG9yUG9pbnQoKSI+RmFjYWRlLkNpcmNsZS5fZ2V0QW5jaG9yUG9pbnQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZS5wcm90b3R5cGUuX3NldG1ldHJpY3MiIHRpdGxlPSJGYWNhZGUuQ2lyY2xlLl9zZXRNZXRyaWNzKCkiPkZhY2FkZS5DaXJjbGUuX3NldE1ldHJpY3MoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUubGluZSIgdGl0bGU9IkZhY2FkZS5MaW5lKCkiPkZhY2FkZS5MaW5lKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmxpbmUucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiB0aXRsZT0iRmFjYWRlLkxpbmUuX2NvbmZpZ09wdGlvbnMoKSI+RmFjYWRlLkxpbmUuX2NvbmZpZ09wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmxpbmUucHJvdG90eXBlLl9nZXRhbmNob3Jwb2ludCIgdGl0bGU9IkZhY2FkZS5MaW5lLl9nZXRBbmNob3JQb2ludCgpIj5GYWNhZGUuTGluZS5fZ2V0QW5jaG9yUG9pbnQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucmVjdCIgdGl0bGU9IkZhY2FkZS5SZWN0KCkiPkZhY2FkZS5SZWN0KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnJlY3QucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiB0aXRsZT0iRmFjYWRlLlJlY3QuX2NvbmZpZ09wdGlvbnMoKSI+RmFjYWRlLlJlY3QuX2NvbmZpZ09wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UiIHRpdGxlPSJGYWNhZGUuSW1hZ2UoKSI+RmFjYWRlLkltYWdlKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLmxvYWQiIHRpdGxlPSJGYWNhZGUuSW1hZ2UubG9hZCgpIj5GYWNhZGUuSW1hZ2UubG9hZCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUucGxheSIgdGl0bGU9IkZhY2FkZS5JbWFnZS5wbGF5KCkiPkZhY2FkZS5JbWFnZS5wbGF5KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5wYXVzZSIgdGl0bGU9IkZhY2FkZS5JbWFnZS5wYXVzZSgpIj5GYWNhZGUuSW1hZ2UucGF1c2UoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnJlc2V0IiB0aXRsZT0iRmFjYWRlLkltYWdlLnJlc2V0KCkiPkZhY2FkZS5JbWFnZS5yZXNldCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUuc3RvcCIgdGl0bGU9IkZhY2FkZS5JbWFnZS5zdG9wKCkiPkZhY2FkZS5JbWFnZS5zdG9wKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIHRpdGxlPSJGYWNhZGUuSW1hZ2UuX2NvbmZpZ09wdGlvbnMoKSI+RmFjYWRlLkltYWdlLl9jb25maWdPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUuX3NldG1ldHJpY3MiIHRpdGxlPSJGYWNhZGUuSW1hZ2UuX3NldE1ldHJpY3MoKSI+RmFjYWRlLkltYWdlLl9zZXRNZXRyaWNzKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUuX2RyYXciIHRpdGxlPSJGYWNhZGUuSW1hZ2UuX2RyYXcoKSI+RmFjYWRlLkltYWdlLl9kcmF3KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnRleHQiIHRpdGxlPSJGYWNhZGUuVGV4dCgpIj5GYWNhZGUuVGV4dCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLnNldHRleHQiIHRpdGxlPSJGYWNhZGUuVGV4dC5zZXRUZXh0KCkiPkZhY2FkZS5UZXh0LnNldFRleHQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLl9kcmF3IiB0aXRsZT0iRmFjYWRlLlRleHQuX2RyYXcoKSI+RmFjYWRlLlRleHQuX2RyYXcoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiB0aXRsZT0iRmFjYWRlLlRleHQuX2NvbmZpZ09wdGlvbnMoKSI+RmFjYWRlLlRleHQuX2NvbmZpZ09wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLl9zZXRtZXRyaWNzIiB0aXRsZT0iRmFjYWRlLlRleHQuX3NldE1ldHJpY3MoKSI+RmFjYWRlLlRleHQuX3NldE1ldHJpY3MoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAiIHRpdGxlPSJGYWNhZGUuR3JvdXAoKSI+RmFjYWRlLkdyb3VwKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5fZHJhdyIgdGl0bGU9IkZhY2FkZS5Hcm91cC5fZHJhdygpIj5GYWNhZGUuR3JvdXAuX2RyYXcoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5Hcm91cC5fY29uZmlnT3B0aW9ucygpIj5GYWNhZGUuR3JvdXAuX2NvbmZpZ09wdGlvbnMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLmFkZHRvZ3JvdXAiIHRpdGxlPSJGYWNhZGUuR3JvdXAuYWRkVG9Hcm91cCgpIj5GYWNhZGUuR3JvdXAuYWRkVG9Hcm91cCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuaGFzZW50aXR5IiB0aXRsZT0iRmFjYWRlLkdyb3VwLmhhc0VudGl0eSgpIj5GYWNhZGUuR3JvdXAuaGFzRW50aXR5KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5yZW1vdmVmcm9tZ3JvdXAiIHRpdGxlPSJGYWNhZGUuR3JvdXAucmVtb3ZlRnJvbUdyb3VwKCkiPkZhY2FkZS5Hcm91cC5yZW1vdmVGcm9tR3JvdXAoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5fc2V0bWV0cmljcyIgdGl0bGU9IkZhY2FkZS5Hcm91cC5fc2V0TWV0cmljcygpIj5GYWNhZGUuR3JvdXAuX3NldE1ldHJpY3MoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KCiAgICAgICAgICAgICAgICAgICAgPC9saT4KCgogICAgICAgICAgICAgICAgPC91bD4KCiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTkiPgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGVzIGEgbmV3IEZhY2FkZS5qcyBvYmplY3Qgd2l0aCBlaXRoZXIgYSBwcmVleGlzdGluZyBjYW52YXMgdGFnIG9yIGEgdW5pcXVlIG5hbWUsIHdpZHRoLCBhbmQgaGVpZ2h0LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5jYW52YXM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlZmVyZW5jZSB0byBhbiBIVE1MIGNhbnZhcyBlbGVtZW50IG9yIGEgdW5pcXVlIG5hbWUuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+d2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XaWR0aCBvZiB0aGUgY2FudmFzLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmhlaWdodDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkhlaWdodCBvZiB0aGUgY2FudmFzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icHJvcGVydGllcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UHJvcGVydGllczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmNhbnZhczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgZWxlbWVudC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5jb250ZXh0PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZWZlcmVuY2UgdG8gdGhlIDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiIHRhcmdldD0iX2JsYW5rIj5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ8L2E+IG9iamVjdC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5kdDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgbGFzdCBjYW52YXMgZHJhdy48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5mcHM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXJyZW50IGZyYW1lcyBwZXIgc2Vjb25kLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmZ0aW1lPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGltZSBvZiBsYXN0IGNhbnZhcyBkcmF3LjwvcD4KCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnZhciBzdGFnZSA9IG5ldyBGYWNhZGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigmIzM5O2NhbnZhcyYjMzk7KSk7CnZhciBzdGFnZSA9IG5ldyBGYWNhZGUoJiMzOTtzdGFnZSYjMzk7LCA1MDAsIDMwMCk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmZ1bmN0aW9uIEZhY2FkZShjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHsKCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmFjYWRlKSkgewoKICAgICAgICByZXR1cm4gbmV3IEZhY2FkZShjYW52YXMsIHdpZHRoLCBoZWlnaHQpOwoKICAgIH0KCiAgICB0aGlzLmR0ID0gbnVsbDsKICAgIHRoaXMuZnBzID0gbnVsbDsKICAgIHRoaXMuZnRpbWUgPSBudWxsOwoKICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDsKCiAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uID0gbnVsbDsKCiAgICB0aGlzLl93aWR0aCA9IG51bGw7CiAgICB0aGlzLl9oZWlnaHQgPSBudWxsOwoKICAgIGlmIChjYW52YXMgJmFtcDsmYW1wOyB0eXBlb2YgY2FudmFzID09PSAmI3gyNztvYmplY3QmI3gyNzsgJmFtcDsmYW1wOyBjYW52YXMubm9kZVR5cGUgPT09IDEpIHsKCiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7CgogICAgfSBlbHNlIHsKCiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCYjeDI3O2NhbnZhcyYjeDI3Oyk7CgogICAgICAgIGlmICh0eXBlb2YgY2FudmFzID09PSAmI3gyNztzdHJpbmcmI3gyNzspIHsKCiAgICAgICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgmI3gyNztpZCYjeDI3OywgY2FudmFzKTsKCiAgICAgICAgfQoKICAgIH0KCiAgICBpZiAod2lkdGgpIHsKCiAgICAgICAgdGhpcy53aWR0aCh3aWR0aCk7CgogICAgfSBlbHNlIGlmICh0aGlzLmNhbnZhcy5oYXNBdHRyaWJ1dGUoJiN4Mjc7d2lkdGgmI3gyNzspKSB7CgogICAgICAgIHRoaXMuX3dpZHRoID0gcGFyc2VJbnQodGhpcy5jYW52YXMuZ2V0QXR0cmlidXRlKCYjeDI3O3dpZHRoJiN4Mjc7KSwgMTApOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHRoaXMud2lkdGgodGhpcy5jYW52YXMuY2xpZW50V2lkdGgpOwoKICAgIH0KCiAgICBpZiAoaGVpZ2h0KSB7CgogICAgICAgIHRoaXMuaGVpZ2h0KGhlaWdodCk7CgogICAgfSBlbHNlIGlmICh0aGlzLmNhbnZhcy5oYXNBdHRyaWJ1dGUoJiN4Mjc7aGVpZ2h0JiN4Mjc7KSkgewoKICAgICAgICB0aGlzLl9oZWlnaHQgPSBwYXJzZUludCh0aGlzLmNhbnZhcy5nZXRBdHRyaWJ1dGUoJiN4Mjc7aGVpZ2h0JiN4Mjc7KSwgMTApOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHRoaXMuaGVpZ2h0KHRoaXMuY2FudmFzLmNsaWVudEhlaWdodCk7CgogICAgfQoKICAgIHRyeSB7CgogICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJiN4Mjc7MmQmI3gyNzspOwoKICAgIH0gY2F0Y2ggKGUpIHsKCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCYjeDI3O09iamVjdCBwYXNzZWQgdG8gRmFjYWRlLmpzIHdhcyBub3QgYSB2YWxpZCBjYW52YXMgZWxlbWVudC4mI3gyNzspOwoKICAgIH0KCn08L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE5ldyBGYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuYWRkdG9zdGFnZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5hZGR0b3N0YWdlIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuYWRkVG9TdGFnZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RHJhd3MgYSBGYWNhZGUuanMgZW50aXR5IChvciBtdWx0aXBsZSBlbnRpdGllcykgdG8gdGhlIHN0YWdlLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9iajwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkFycmF5PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuanMgZW50aXR5IG9yIGFuIGFycmF5IG9mIGVudGl0aWVzLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRlbXBvcmFyeSBvcHRpb25zIGZvciByZW5kZXJpbmcgYSBGYWNhZGUuanMgZW50aXR5IChvciBtdWx0aXBsZSBlbnRpdGllcykuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5zdGFnZS5hZGRUb1N0YWdlKGNpcmNsZSk7CnN0YWdlLmFkZFRvU3RhZ2UoY2lyY2xlLCB7IHg6IDEwMCwgeTogMTAwIH0pOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUucHJvdG90eXBlLmFkZFRvU3RhZ2UgPSBmdW5jdGlvbiAob2JqLCBvcHRpb25zKSB7CgogICAgdmFyIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIGlmIChvYmogaW5zdGFuY2VvZiBGYWNhZGUuRW50aXR5KSB7CgogICAgICAgIG9iai5kcmF3KHRoaXMsIG9wdGlvbnMpOwoKICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CgogICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICAgICAgdGhpcy5hZGRUb1N0YWdlKG9ialtpXSwgb3B0aW9ucyk7CgogICAgICAgIH0KCiAgICB9IGVsc2UgewoKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJiN4Mjc7T2JqZWN0IHBhc3NlZCB0byBGYWNhZGUuYWRkVG9TdGFnZSBpcyBub3QgYSB2YWxpZCBGYWNhZGUuanMgZW50aXR5LiYjeDI3Oyk7CgogICAgfQoKICAgIHJldHVybiB0aGlzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5jbGVhciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5jbGVhciIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLmNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DbGVhcnMgdGhlIGNhbnZhcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+IHN0YWdlLmNsZWFyKCk7CjwvY29kZT48L3ByZT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgoKSwgdGhpcy5oZWlnaHQoKSk7CgogICAgcmV0dXJuIHRoaXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBGYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuZHJhdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5kcmF3IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuZHJhdygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0cyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJ1biBpbiBhIGxvb3AgdXNpbmcgPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiIHRhcmdldD0iX2JsYW5rIj5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU8L2E+IG9yIGF2YWlsYWJsZSBwb2x5ZmlsbC48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5jYWxsYmFjazwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkZ1bmN0aW9uPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GdW5jdGlvbiBjYWxsYmFjay48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnN0YWdlLmRyYXcoZnVuY3Rpb24gKCkgewoKICAgIHRoaXMuY2xlYXIoKTsKCiAgICB0aGlzLmFkZFRvU3RhZ2UoY2lyY2xlLCB7IHg6IDEwMCwgeTogMTAwIH0pOwoKfSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKCiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAmI3gyNztmdW5jdGlvbiYjeDI3OykgewoKICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrOwoKICAgICAgICB0aGlzLnN0YXJ0KCk7CgogICAgfSBlbHNlIHsKCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCYjeDI3O1BhcmFtZXRlciBwYXNzZWQgdG8gRmFjYWRlLmRyYXcgaXMgbm90IGEgdmFsaWQgZnVuY3Rpb24uJiN4Mjc7KTsKCiAgICB9CgogICAgcmV0dXJuIHRoaXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5leHBvcnRiYXNlNjQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuZXhwb3J0YmFzZTY0IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuZXhwb3J0QmFzZTY0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5FeHBvcnRzIGEgYmFzZTY0IGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGN1cnJlbnQgcmVuZGVyZWQgY2FudmFzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnR5cGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkltYWdlIGZvcm1hdDogPGNvZGU+aW1hZ2UvcG5nPC9jb2RlPiAoRGVmYXVsdCksIDxjb2RlPmltYWdlL2pwZWc8L2NvZGU+LCA8Y29kZT5pbWFnZS93ZWJwPC9jb2RlPiAoR29vZ2xlIENocm9tZSBPbmx5KTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnF1YWxpdHk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5OdW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhzdGFnZS5leHBvcnRCYXNlNjQoJiMzOTtpbWFnZS9wbmcmIzM5OywgMTAwKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUuZXhwb3J0QmFzZTY0ID0gZnVuY3Rpb24gKHR5cGUsIHF1YWxpdHkpIHsKCiAgICBpZiAoIXR5cGUpIHsKCiAgICAgICAgdHlwZSA9ICYjeDI3O2ltYWdlL3BuZyYjeDI3OzsKCiAgICB9CgogICAgaWYgKHR5cGVvZiBxdWFsaXR5ID09PSAmI3gyNztudW1iZXImI3gyNzspIHsKCiAgICAgICAgcXVhbGl0eSA9IHF1YWxpdHkgLyAxMDA7CgogICAgfSBlbHNlIHsKCiAgICAgICAgcXVhbGl0eSA9IDE7CgogICAgfQoKICAgIHJldHVybiB0aGlzLmNhbnZhcy50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+U3RyaW5nPC9jb2RlPiAgQmFzZTY0IGVuY29kZWQgc3RyaW5nLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuaGVpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmhlaWdodCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLmhlaWdodCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+R2V0cyBhbmQgc2V0cyB0aGUgY2FudmFzIGhlaWdodC48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5oZWlnaHQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5IZWlnaHQgaW4gcGl4ZWxzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coc3RhZ2UuaGVpZ2h0KCkpOyAvLyAzMDAKY29uc29sZS5sb2coc3RhZ2UuaGVpZ2h0KDYwMCkpOyAvLyA2MDAKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKGhlaWdodCkgewoKICAgIGlmIChoZWlnaHQpIHsKCiAgICAgICAgdGhpcy5faGVpZ2h0ID0gcGFyc2VJbnQoaGVpZ2h0LCAxMCk7CgogICAgICAgIGlmICh0aGlzLmNhbnZhcy5oYXNBdHRyaWJ1dGUoJiN4Mjc7ZGF0YS1yZXNpemVkLWZvci1oZHBpJiN4Mjc7KSkgewoKICAgICAgICAgICAgdGhpcy5yZXNpemVGb3JIRFBJKCk7CgogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJiN4Mjc7aGVpZ2h0JiN4Mjc7LCB0aGlzLl9oZWlnaHQpOwoKICAgICAgICB9CgogICAgfQoKICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPkludGVnZXI8L2NvZGU+ICBIZWlnaHQgaW4gcGl4ZWxzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUucmVuZGVyd2l0aGNvbnRleHQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUucmVuZGVyd2l0aGNvbnRleHQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5yZW5kZXJXaXRoQ29udGV4dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QXBwbGllcyBrZXktdmFsdWUgcGFpcnMgdG8gYXBwcm9wcmlhdGUgPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIgdGFyZ2V0PSJfYmxhbmsiPkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDwvYT4gcHJvcGVydGllcyBhbmQgbWV0aG9kcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PYmplY3QgY29udGFpbmluZyBjb250ZXh0IHByb3BlcnR5IGFuZC9vciBtZXRob2QgbmFtZXMgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcy48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5jYWxsYmFjazwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkZ1bmN0aW9uPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBjb250ZXh0IG9wdGlvbnMgaGF2ZSBiZWVuIHJlbmRlcmVkIHRvIHRoZSBjYW52YXMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5zdGFnZS5yZW5kZXJXaXRoQ29udGV4dCh7IGZpbGxTdHlsZTogJiMzOTsjZjAwJiMzOTssIGdsb2JhbEFscGhhOiAwLjUsIGZpbGxSZWN0OiBbIDAsIDAsIDEwMCwgMTAwIF19KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLnByb3RvdHlwZS5yZW5kZXJXaXRoQ29udGV4dCA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykgewoKICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyksCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgdGhpcy5jb250ZXh0LnNhdmUoKTsKCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgIGlmIChfY29udGV4dFByb3BlcnRpZXMuaW5kZXhPZihrZXlzW2ldKSAhPT0gLTEpIHsKCiAgICAgICAgICAgIHRoaXMuY29udGV4dFtrZXlzW2ldXSA9IG9wdGlvbnNba2V5c1tpXV07CgogICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zW2tleXNbaV1dKSAmYW1wOyZhbXA7IHR5cGVvZiB0aGlzLmNvbnRleHRba2V5c1tpXV0gPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgICAgICB0aGlzLmNvbnRleHRba2V5c1tpXV0uYXBwbHkodGhpcy5jb250ZXh0LCBvcHRpb25zW2tleXNbaV1dKTsKCiAgICAgICAgfQoKICAgIH0KCiAgICBpZiAoY2FsbGJhY2spIHsKCiAgICAgICAgY2FsbGJhY2suY2FsbChudWxsLCB0aGlzKTsKCiAgICB9CgogICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT52b2lkPC9jb2RlPiAgPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5yZXNpemVmb3JoZHBpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnJlc2l6ZWZvcmhkcGkiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5yZXNpemVGb3JIRFBJKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXNpemVzIHRoZSBjYW52YXMgd2lkdGggYW5kIGhlaWdodCB0byBiZSBtdWx0aXBsaWVkIGJ5IHRoZSBwaXhlbCByYXRpbyBvZiB0aGUgZGV2aWNlIHRvIGFsbG93IGZvciBzdWItcGl4ZWwgYWxpYXNpbmcuIENhbnZhcyB0YWcgbWFpbnRhaW5zIG9yaWdpbmFsIHdpZHRoIGFuZCBoZWlnaHQgdGhyb3VnaCBDU1MuIE11c3QgYmUgY2FsbGVkIGJlZm9yZSBjcmVhdGluZy9hZGRpbmcgYW55IEZhY2FkZSBlbnRpdGllcyBhcyBzY2FsaW5nIGlzIGFwcGxpZWQgdG8gdGhlIGNhbnZhcyBjb250ZXh0LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnJhdGlvPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmF0aW8gdG8gc2NhbGUgdGhlIGNhbnZhcy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnN0YWdlLnJlc2l6ZUZvckhEUEkoKTsKc3RhZ2UucmVzaXplRm9ySERQSSgyKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUucmVzaXplRm9ySERQSSA9IGZ1bmN0aW9uIChyYXRpbykgewoKICAgIGlmIChyYXRpbyA9PT0gdW5kZWZpbmVkKSB7CgogICAgICAgIHJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87CgogICAgfSBlbHNlIHsKCiAgICAgICAgcmF0aW8gPSBwYXJzZUZsb2F0KHJhdGlvKTsKCiAgICB9CgogICAgaWYgKHJhdGlvICZndDsgMSkgewoKICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJiN4Mjc7c3R5bGUmI3gyNzssICYjeDI3O3dpZHRoOiAmI3gyNzsgKyB0aGlzLndpZHRoKCkgKyAmI3gyNztweDsgaGVpZ2h0OiAmI3gyNzsgKyB0aGlzLmhlaWdodCgpICsgJiN4Mjc7cHg7JiN4Mjc7KTsKCiAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCYjeDI3O3dpZHRoJiN4Mjc7LCB0aGlzLndpZHRoKCkgKiByYXRpbyk7CiAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCYjeDI3O2hlaWdodCYjeDI3OywgdGhpcy5oZWlnaHQoKSAqIHJhdGlvKTsKCiAgICAgICAgdGhpcy5jb250ZXh0LnNjYWxlKHJhdGlvLCByYXRpbyk7CgogICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgmI3gyNztkYXRhLXJlc2l6ZWQtZm9yLWhkcGkmI3gyNzssIHRydWUpOwoKICAgIH0KCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnN0YXJ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnN0YXJ0IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuc3RhcnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlN0YXJ0cyB0aGUgY2FsbGJhY2sgc3VwcGxpZWQgaW4gPGNvZGU+RmFjYWRlLmRyYXc8L2NvZGU+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5zdGFnZS5zdGFydCgpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7CgogICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbiA9IF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0ZS5iaW5kKHRoaXMpKTsKCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5zdG9wIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnN0b3AiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5zdG9wKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TdG9wcyB0aGUgY2FsbGJhY2sgc3VwcGxpZWQgaW4gPGNvZGU+RmFjYWRlLmRyYXc8L2NvZGU+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5zdGFnZS5zdG9wKCk7CjwvY29kZT48L3ByZT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkgewoKICAgIHRoaXMuZHQgPSBudWxsOwogICAgdGhpcy5mcHMgPSBudWxsOwogICAgdGhpcy5mdGltZSA9IG51bGw7CgogICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RBbmltYXRpb24pOwoKICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb24gPSBudWxsOwoKICAgIHJldHVybiB0aGlzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLndpZHRoIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLndpZHRoIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUud2lkdGgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkdldHMgYW5kIHNldHMgdGhlIGNhbnZhcyB3aWR0aC48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj53aWR0aDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPldpZHRoIGluIHBpeGVscy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHN0YWdlLndpZHRoKCkpOyAvLyA0MDAKY29uc29sZS5sb2coc3RhZ2Uud2lkdGgoODAwKSk7IC8vIDgwMAo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICh3aWR0aCkgewoKICAgIGlmICh3aWR0aCkgewoKICAgICAgICB0aGlzLl93aWR0aCA9IHBhcnNlSW50KHdpZHRoLCAxMCk7CgogICAgICAgIGlmICh0aGlzLmNhbnZhcy5oYXNBdHRyaWJ1dGUoJiN4Mjc7ZGF0YS1yZXNpemVkLWZvci1oZHBpJiN4Mjc7KSkgewoKICAgICAgICAgICAgdGhpcy5yZXNpemVGb3JIRFBJKCk7CgogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJiN4Mjc7d2lkdGgmI3gyNzssIHRoaXMuX3dpZHRoKTsKCiAgICAgICAgfQoKICAgIH0KCiAgICByZXR1cm4gdGhpcy5fd2lkdGg7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPkludGVnZXI8L2NvZGU+ICBXaWR0aCBpbiBwaXhlbHMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuX2FuaW1hdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuX2FuaW1hdGUiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5fYW5pbWF0ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TWV0aG9kIGNhbGxlZCBieSA8YSBocmVmPSJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSIgdGFyZ2V0PSJfYmxhbmsiPnJlcXVlc3RBbmltYXRpb25GcmFtZTwvYT4uIFNldHMgPGNvZGU+RmFjYWRlLmR0PC9jb2RlPiwgPGNvZGU+RmFjYWRlLmZwczwvY29kZT4gYW5kICA8Y29kZT5GYWNhZGUuZnRpbWU8L2NvZGU+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnRpbWU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48YSBocmVmPSJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRE9NVGltZVN0YW1wIiB0YXJnZXQ9Il9ibGFuayI+RE9NVGltZVN0YW1wPC9hPiBvciA8YSBocmVmPSJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRE9NSGlnaFJlc1RpbWVTdGFtcCIgdGFyZ2V0PSJfYmxhbmsiPkRPTUhpZ2hSZXNUaW1lU3RhbXA8L2E+IChHb29nbGUgQ2hyb21lIE9ubHkpPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT50aGlzLl9yZXF1ZXN0QW5pbWF0aW9uID0gX3JlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRlLmJpbmQodGhpcykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLnByb3RvdHlwZS5fYW5pbWF0ZSA9IGZ1bmN0aW9uICh0aW1lKSB7CgogICAgaWYgKHR5cGVvZiB0aGlzLl9jYWxsYmFjayA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgaWYgKHRoaXMuZnRpbWUpIHsKCiAgICAgICAgICAgIHRoaXMuZHQgPSB0aW1lIC0gdGhpcy5mdGltZTsKCiAgICAgICAgICAgIHRoaXMuZnBzID0gKDEwMDAgLyB0aGlzLmR0KS50b0ZpeGVkKDIpOwoKICAgICAgICB9CgogICAgICAgIHRoaXMuZnRpbWUgPSB0aW1lOwoKICAgICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uID0gX3JlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRlLmJpbmQodGhpcykpOwoKICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpOwoKICAgICAgICB0aGlzLl9jYWxsYmFjaygpOwoKICAgICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHRoaXMuc3RvcCgpOwoKICAgIH0KCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgY29uc3RydWN0b3IgZm9yIGFsbCBGYWNhZGUuanMgc2hhcGUsIGltYWdlIGFuZCB0ZXh0IG9iamVjdHMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZhY2FkZS5FbnRpdHkpKSB7CgogICAgICAgIHJldHVybiBuZXcgRmFjYWRlLkVudGl0eSgpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoKTsKICAgIHRoaXMuX21ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE5ldyBGYWNhZGUuRW50aXR5IG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fZGVmYXVsdG9wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuX2RlZmF1bHRPcHRpb25zKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXR1cm5zIGEgZGVmYXVsdCBzZXQgb2Ygb3B0aW9ucyBjb21tb24gdG8gYWxsIEZhY2FkZS5qcyBlbnRpdGllcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BZGRpdGlvbmFsIG9wdGlvbnMgYXMga2V5LXZhbHVlIHBhaXJzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coRmFjYWRlLkVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRPcHRpb25zKCkpOwpjb25zb2xlLmxvZyhGYWNhZGUuRW50aXR5LnByb3RvdHlwZS5fZGVmYXVsdE9wdGlvbnMoeyBsaW5lV2lkdGg6IDAgfSkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24gKHVwZGF0ZWQpIHsKCiAgICB2YXIgb3B0aW9ucywKICAgICAgICBrZXlzLAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIG9wdGlvbnMgPSB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwLAogICAgICAgIGFuY2hvcjogJiN4Mjc7dG9wL2xlZnQmI3gyNzssCiAgICAgICAgcm90YXRlOiAwLAogICAgICAgIHNjYWxlOiAxCiAgICB9OwoKICAgIGlmICh0eXBlb2YgdXBkYXRlZCA9PT0gJiN4Mjc7b2JqZWN0JiN4Mjc7KSB7CgogICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVkKTsKCiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICAgICAgb3B0aW9uc1trZXlzW2ldXSA9IHVwZGF0ZWRba2V5c1tpXV07CgogICAgICAgIH0KCiAgICB9CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIERlZmF1bHQgc2V0IG9mIG9wdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0bWV0cmljcyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRtZXRyaWNzIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5Ll9kZWZhdWx0TWV0cmljcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0dXJucyBhIGRlZmF1bHQgc2V0IG9mIG1ldHJpY3MgY29tbW9uIHRvIGFsbCBGYWNhZGUuanMgZW50aXRpZXMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dXBkYXRlZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QWRkaXRpb25hbCBtZXRyaWNzIGFzIGtleS12YWx1ZSBwYWlycy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKEZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0TWV0cmljcygpKTsKY29uc29sZS5sb2coRmFjYWRlLkVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRNZXRyaWNzKHsgc2NhbGU6IG51bGwgfSkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRNZXRyaWNzID0gZnVuY3Rpb24gKHVwZGF0ZWQpIHsKCiAgICB2YXIgbWV0cmljcywKICAgICAgICBrZXlzLAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIG1ldHJpY3MgPSB7CiAgICAgICAgeDogbnVsbCwKICAgICAgICB5OiBudWxsLAogICAgICAgIHdpZHRoOiBudWxsLAogICAgICAgIGhlaWdodDogbnVsbAogICAgfTsKCiAgICBpZiAodHlwZW9mIHVwZGF0ZWQgPT09ICYjeDI3O29iamVjdCYjeDI3OykgewoKICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModXBkYXRlZCk7CgogICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgICAgIG1ldHJpY3Nba2V5c1tpXV0gPSB1cGRhdGVkW2tleXNbaV1dOwoKICAgICAgICB9CgogICAgfQoKICAgIHJldHVybiBtZXRyaWNzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBEZWZhdWx0IHNldCBvZiBtZXRyaWNzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fZ2V0YW5jaG9ycG9pbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9nZXRhbmNob3Jwb2ludCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkVudGl0eS5fZ2V0QW5jaG9yUG9pbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHggYW5kIHkgYW5jaG9yIHBvc2l0aW9ucyBiYXNlZCBvbiBnaXZlbiBvcHRpb25zIGFuZCBtZXRyaWNzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5FbnRpdHkgb3B0aW9ucy48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5tZXRyaWNzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuRW50aXR5IG1ldHJpY3MuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhyZWN0Ll9nZXRBbmNob3JQb2ludChvcHRpb25zLCBtZXRyaWNzKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9nZXRBbmNob3JQb2ludCA9IGZ1bmN0aW9uIChvcHRpb25zLCBtZXRyaWNzKSB7CgogICAgdmFyIHBvcyA9IFswLCAwXSwKICAgICAgICBzdHJva2VXaWR0aE9mZnNldDsKCiAgICBpZiAob3B0aW9ucy5hbmNob3IubWF0Y2goL2NlbnRlciQvKSkgewoKICAgICAgICBwb3NbMF0gPSAtbWV0cmljcy53aWR0aCAvIDI7CgogICAgfSBlbHNlIGlmIChvcHRpb25zLmFuY2hvci5tYXRjaCgvcmlnaHQkLykpIHsKCiAgICAgICAgcG9zWzBdID0gLW1ldHJpY3Mud2lkdGg7CgogICAgfQoKICAgIGlmIChvcHRpb25zLmFuY2hvci5tYXRjaCgvXmNlbnRlci8pKSB7CgogICAgICAgIHBvc1sxXSA9IC1tZXRyaWNzLmhlaWdodCAvIDI7CgogICAgfSBlbHNlIGlmIChvcHRpb25zLmFuY2hvci5tYXRjaCgvXmJvdHRvbS8pKSB7CgogICAgICAgIHBvc1sxXSA9IC1tZXRyaWNzLmhlaWdodDsKCiAgICB9CgogICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuUG9seWdvbikgewoKICAgICAgICBzdHJva2VXaWR0aE9mZnNldCA9IHRoaXMuX2dldFN0cm9rZVdpZHRoT2Zmc2V0KG9wdGlvbnMpOwoKICAgICAgICBwb3NbMF0gPSBwb3NbMF0gKyBzdHJva2VXaWR0aE9mZnNldDsKICAgICAgICBwb3NbMV0gPSBwb3NbMV0gKyBzdHJva2VXaWR0aE9mZnNldDsKCiAgICB9CgogICAgcmV0dXJuIHBvczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5BcnJheTwvY29kZT4gIEFycmF5IHdpdGggdGhlIHggYW5kIHkgYW5jaG9yIHBvc2l0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2dldHN0cm9rZXdpZHRob2Zmc2V0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fZ2V0c3Ryb2tld2lkdGhvZmZzZXQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuX2dldFN0cm9rZVdpZHRoT2Zmc2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXR1cm5zIGFuIGludGVnZXIgZm9yIHRoZSBzdHJva2Ugd2lkdGggb2Zmc2V0LiBVc2VkIHRvIGNhbGN1bGF0ZSBtZXRyaWNzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5FbnRpdHkgb3B0aW9ucy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHJlY3QuX2dldFN0cm9rZVdpZHRoT2Zmc2V0KG9wdGlvbnMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9nZXRTdHJva2VXaWR0aE9mZnNldCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgdmFyIHN0cm9rZVdpZHRoT2Zmc2V0ID0gMDsKCiAgICBpZiAob3B0aW9ucy5saW5lV2lkdGggIT09IHVuZGVmaW5lZCkgewoKICAgICAgICBzdHJva2VXaWR0aE9mZnNldCA9IG9wdGlvbnMubGluZVdpZHRoIC8gMjsKCiAgICB9CgogICAgcmV0dXJuIHN0cm9rZVdpZHRoT2Zmc2V0OwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5JbnRlZ2VyPC9jb2RlPiAgSW50ZWdlciByZXByZXNlbnRpbmcgdGhlIHN0cm9rZSB3aWR0aCBvZmZzZXQuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9hcHBseXRyYW5zZm9ybXMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9hcHBseXRyYW5zZm9ybXMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuX2FwcGx5VHJhbnNmb3JtcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QXBwbGllcyB0cmFuc2Zvcm1zICh0cmFuc2xhdGUsIHJvdGF0ZSBhbmQgc2NhbGUpIHRvIGFuIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5jb250ZXh0PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZWZlcmVuY2UgdG8gdGhlIDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiIHRhcmdldD0iX2JsYW5rIj5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ8L2E+IG9iamVjdC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuRW50aXR5IG9wdGlvbnMuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLkVudGl0eSBtZXRyaWNzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2cocmVjdC5fYXBwbHlUcmFuc2Zvcm1zKGNvbnRleHQsIG9wdGlvbnMsIG1ldHJpY3MpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuRW50aXR5LnByb3RvdHlwZS5fYXBwbHlUcmFuc2Zvcm1zID0gZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMsIG1ldHJpY3MpIHsKCiAgICB2YXIgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yUG9pbnQob3B0aW9ucywgewogICAgICAgIHg6IG1ldHJpY3MueCwKICAgICAgICB5OiBtZXRyaWNzLnksCiAgICAgICAgd2lkdGg6IG1ldHJpY3Mud2lkdGggLyBvcHRpb25zLnNjYWxlLAogICAgICAgIGhlaWdodDogbWV0cmljcy5oZWlnaHQgLyBvcHRpb25zLnNjYWxlCiAgICB9KTsKCiAgICBjb250ZXh0LnRyYW5zbGF0ZS5hcHBseShjb250ZXh0LCBhbmNob3IpOwoKICAgIGlmIChvcHRpb25zLnJvdGF0ZSkgewoKICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtYW5jaG9yWzBdLCAtYW5jaG9yWzFdKTsKICAgICAgICBjb250ZXh0LnJvdGF0ZShvcHRpb25zLnJvdGF0ZSAqIF9UT19SQURJQU5TKTsKICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShhbmNob3JbMF0sIGFuY2hvclsxXSk7CgogICAgfQoKICAgIGlmIChvcHRpb25zLnNjYWxlICE9PSAxKSB7CgogICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC1hbmNob3JbMF0sIC1hbmNob3JbMV0pOwogICAgICAgIGNvbnRleHQuc2NhbGUob3B0aW9ucy5zY2FsZSwgb3B0aW9ucy5zY2FsZSk7CiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoYW5jaG9yWzBdLCBhbmNob3JbMV0pOwoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPnZvaWQ8L2NvZGU+ICA8L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRvcHRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldG9wdGlvbiIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkVudGl0eS5nZXRPcHRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYSBnaXZlbiBvcHRpb24uIE9ubHkgcmV0cmlldmVzIG9wdGlvbnMgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgRmFjYWRlLmpzIGVudGl0eSBvciB1c2luZyA8YSBocmVmPSIjZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuc2V0b3B0aW9ucyI+PGNvZGU+c2V0T3B0aW9uczwvY29kZT48L2E+IG5vdCB0aHJvdWdoIHRlbXBvcmFyeSBvcHRpb25zIHNldCB3aGVuIHVzaW5nIDxhIGhyZWY9IiNmYWNhZGUuYWRkdG9zdGFnZSI+PGNvZGU+RmFjYWRlLmFkZFRvU3RhZ2U8L2NvZGU+PC9hPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5rZXk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBuYW1lIG9mIHRoZSBvcHRpb24uPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyh0ZXh0LmdldE9wdGlvbigmIzM5O3ZhbHVlJiMzOTspKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLmdldE9wdGlvbiA9IGZ1bmN0aW9uIChrZXkpIHsKCiAgICBpZiAodGhpcy5fb3B0aW9uc1trZXldICE9PSB1bmRlZmluZWQpIHsKCiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnNba2V5XTsKCiAgICB9CgogICAgcmV0dXJuIHVuZGVmaW5lZDsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiA8Y29kZT5GdW5jdGlvbjwvY29kZT4gPGNvZGU+U3RyaW5nPC9jb2RlPiA8Y29kZT5JbnRlZ2VyPC9jb2RlPiAgVmFsdWUgb2YgdGhlIG9wdGlvbiByZXF1ZXN0ZWQuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuZ2V0YWxsb3B0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuZ2V0YWxsb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkVudGl0eS5nZXRBbGxPcHRpb25zKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIGFsbCBvcHRpb25zLiBPbmx5IHJldHJpZXZlcyBvcHRpb25zIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IEZhY2FkZS5qcyBlbnRpdHkgb3IgdXNpbmcgPGEgaHJlZj0iI2ZhY2FkZS5lbnRpdHkucHJvdG90eXBlLnNldG9wdGlvbnMiPjxjb2RlPnNldE9wdGlvbnM8L2NvZGU+PC9hPiBub3QgdGhyb3VnaCB0ZW1wb3Jhcnkgb3B0aW9ucyBzZXQgd2hlbiB1c2luZyA8YSBocmVmPSIjZmFjYWRlLmFkZHRvc3RhZ2UiPjxjb2RlPkZhY2FkZS5hZGRUb1N0YWdlPC9jb2RlPjwvYT4uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHRleHQuZ2V0QWxsT3B0aW9ucygpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuRW50aXR5LnByb3RvdHlwZS5nZXRBbGxPcHRpb25zID0gZnVuY3Rpb24gKCkgewoKICAgIHZhciBvcHRpb25zID0ge30sCiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX29wdGlvbnMpLAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgb3B0aW9uc1trZXlzW2ldXSA9IHRoaXMuX29wdGlvbnNba2V5c1tpXV07CgogICAgfQoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgT2JqZWN0IGNvbnRhaW5pbmcgYWxsIG9wdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9zZXRvcHRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9zZXRvcHRpb24iIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuX3NldE9wdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0cyBhbiBvcHRpb24gZm9yIGEgZ2l2ZW4gZW50aXR5LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmtleTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIG9wdGlvbiB0byB1cGRhdGUuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dmFsdWU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5GdW5jdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBuZXcgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBvcHRpb24uPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dGVzdDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkJvb2xlYW48L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZsYWcgdG8gZGV0ZXJtaW5lIGlmIG9wdGlvbnMgYXJlIHRvIGJlIHBlcnNpc3RlZCBpbiB0aGUgZW50aXR5IG9yIGp1c3QgcmV0dXJuZWQuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyh0ZXh0Ll9zZXRPcHRpb24oJiMzOTt2YWx1ZSYjMzk7LCAmIzM5O0hlbGxvIHdvcmxkISYjMzk7KSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eS5wcm90b3R5cGUuX3NldE9wdGlvbiA9IGZ1bmN0aW9uIChrZXksIHZhbHVlLCB0ZXN0KSB7CgogICAgaWYgKHRoaXMuX29wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKSB7CgogICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb3B0aW9uc1trZXldID09PSAmI3gyNztudW1iZXImI3gyNzsgJmFtcDsmYW1wOyB0eXBlb2YgdmFsdWUgPT09ICYjeDI3O3N0cmluZyYjeDI3OykgewoKICAgICAgICAgICAgaWYgKHZhbHVlLm1hdGNoKF9PUEVSQVRPUl9URVNUKSkgewoKICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fb3B0aW9uc1trZXldICsgcGFyc2VGbG9hdCh2YWx1ZS5yZXBsYWNlKCYjeDI3Oz0mI3gyNzssICYjeDI3OyYjeDI3OykpOwoKICAgICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpOwoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgICAgIGlmIChTdHJpbmcodHlwZW9mIHRoaXMuX29wdGlvbnNba2V5XSkgPT09IFN0cmluZyh0eXBlb2YgdmFsdWUpKSB7CgogICAgICAgICAgICBpZiAoIXRlc3QpIHsKCiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zW2tleV0gPSB2YWx1ZTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigmI3gyNztUaGUgdmFsdWUgZm9yICYjeDI3OyArIGtleSArICYjeDI3OyAoJiN4Mjc7ICsgdmFsdWUgKyAmI3gyNzspIHdhcyBhICYjeDI3OyArIFN0cmluZyh0eXBlb2YgdmFsdWUpICsgJiN4Mjc7IG5vdCBhICYjeDI3OyArIFN0cmluZyh0eXBlb2YgdGhpcy5fb3B0aW9uc1trZXldKSArICYjeDI3Oy4mI3gyNzspOwoKICAgICAgICB9CgogICAgICAgIHJldHVybiB2YWx1ZTsKCiAgICB9CgogICAgcmV0dXJuIHVuZGVmaW5lZDsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gPGNvZGU+RnVuY3Rpb248L2NvZGU+IDxjb2RlPlN0cmluZzwvY29kZT4gPGNvZGU+SW50ZWdlcjwvY29kZT4gIFJldHVybnMgdmFsdWUgb2YgdGhlIHVwZGF0ZWQgb3B0aW9uLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLnNldG9wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLnNldG9wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuc2V0T3B0aW9ucygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0cyBhIGdyb3VwIG9mIG9wdGlvbnMgYXMga2V5LXZhbHVlIHBhaXJzIHRvIGFuIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgb3B0aW9ucyB0byB1cGRhdGUuIERvZXMgbm90IG5lZWQgdG8gYmUgZW50aXJlIHNldCBvZiBvcHRpb25zLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnRlc3Q8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5Cb29sZWFuPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GbGFnIHRvIGRldGVybWluZSBpZiBvcHRpb25zIGFyZSB0byBiZSBwZXJzaXN0ZWQgaW4gdGhlIGVudGl0eSBvciBqdXN0IHJldHVybmVkLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2codGV4dC5zZXRPcHRpb25zKHsgZm9udEZhbWlseTogJiMzOTtHZW9yZ2lhJiMzOTssIGZvbnRTaXplOiAyMCB9KSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAodXBkYXRlZCwgdGVzdCkgewoKICAgIHZhciBvcHRpb25zID0gdGhpcy5nZXRBbGxPcHRpb25zKCksCiAgICAgICAga2V5cywKICAgICAgICBpLAogICAgICAgIGxlbmd0aDsKCiAgICBpZiAodXBkYXRlZCkgewoKICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModXBkYXRlZCk7CgogICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgICAgIGlmIChvcHRpb25zW2tleXNbaV1dICE9PSB1bmRlZmluZWQpIHsKCiAgICAgICAgICAgICAgICBvcHRpb25zW2tleXNbaV1dID0gdGhpcy5fc2V0T3B0aW9uKGtleXNbaV0sIHVwZGF0ZWRba2V5c1tpXV0sIHRlc3QpOwoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgICAgIGlmICghdGVzdCkgewoKICAgICAgICAgICAgdGhpcy5fc2V0TWV0cmljcygpOwoKICAgICAgICB9CgogICAgfQoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIFVwZGF0ZWQgb3B0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRtZXRyaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldG1ldHJpYyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkVudGl0eS5nZXRNZXRyaWMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYSBnaXZlbiBtZXRyaWMuIE9ubHkgcmV0cmlldmVzIG1ldHJpY3Mgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgRmFjYWRlLmpzIGVudGl0eSBvciB1c2luZyA8YSBocmVmPSIjZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuc2V0b3B0aW9ucyI+PGNvZGU+c2V0T3B0aW9uczwvY29kZT48L2E+IG5vdCB0aHJvdWdoIHRlbXBvcmFyeSBvcHRpb25zIHNldCB3aGVuIHVzaW5nIDxhIGhyZWY9IiNmYWNhZGUuYWRkdG9zdGFnZSI+PGNvZGU+RmFjYWRlLmFkZFRvU3RhZ2U8L2NvZGU+PC9hPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5rZXk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBuYW1lIG9mIHRoZSBtZXRyaWMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyh0ZXh0LmdldE1ldHJpYygmIzM5O3dpZHRoJiMzOTspKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLmdldE1ldHJpYyA9IGZ1bmN0aW9uIChrZXkpIHsKCiAgICBpZiAodGhpcy5fbWV0cmljc1trZXldICE9PSB1bmRlZmluZWQpIHsKCiAgICAgICAgcmV0dXJuIHRoaXMuX21ldHJpY3Nba2V5XTsKCiAgICB9CgogICAgcmV0dXJuIHVuZGVmaW5lZDsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+SW50ZWdlcjwvY29kZT4gIFZhbHVlIG9mIHRoZSBtZXRyaWMgcmVxdWVzdGVkLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldGFsbG1ldHJpY3MiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldGFsbG1ldHJpY3MiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuZ2V0QWxsTWV0cmljcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhbGwgbWV0cmljcy4gT25seSByZXRyaWV2ZXMgbWV0cmljcyBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBGYWNhZGUuanMgZW50aXR5IG9yIHVzaW5nIDxhIGhyZWY9IiNmYWNhZGUuZW50aXR5LnByb3RvdHlwZS5zZXRvcHRpb25zIj48Y29kZT5zZXRPcHRpb25zPC9jb2RlPjwvYT4gbm90IHRocm91Z2ggdGVtcG9yYXJ5IG9wdGlvbnMgc2V0IHdoZW4gdXNpbmcgPGEgaHJlZj0iI2ZhY2FkZS5hZGR0b3N0YWdlIj48Y29kZT5GYWNhZGUuYWRkVG9TdGFnZTwvY29kZT48L2E+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyh0ZXh0LmdldEFsbE1ldHJpY3MoKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eS5wcm90b3R5cGUuZ2V0QWxsTWV0cmljcyA9IGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgbWV0cmljcyA9IHt9LAogICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9tZXRyaWNzKSwKICAgICAgICBpLAogICAgICAgIGxlbmd0aDsKCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgIG1ldHJpY3Nba2V5c1tpXV0gPSB0aGlzLl9tZXRyaWNzW2tleXNbaV1dOwoKICAgIH0KCiAgICByZXR1cm4gbWV0cmljczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE9iamVjdCBjb250YWluaW5nIGFsbCBtZXRyaWNzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmRyYXciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmRyYXciIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuZHJhdygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVuZGVycyBhbiBlbnRpdHkgdG8gYSBjYW52YXMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+ZmFjYWRlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnVwZGF0ZWQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRlbXBvcmFyeSBvcHRpb25zIGZvciByZW5kZXJpbmcgYSBGYWNhZGUuanMgZW50aXR5LjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+ZW50aXR5LmRyYXcoc3RhZ2UpOwplbnRpdHkuZHJhdyhzdGFnZSwgeyB4OiAxMDAsIHk6IDEwMCB9KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChmYWNhZGUsIHVwZGF0ZWQpIHsKCiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucyh1cGRhdGVkLCB0cnVlKSwKICAgICAgICBtZXRyaWNzOwoKICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnT3B0aW9ucyA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgb3B0aW9ucyA9IHRoaXMuX2NvbmZpZ09wdGlvbnMob3B0aW9ucyk7CgogICAgfQoKICAgIG1ldHJpY3MgPSB1cGRhdGVkID8gdGhpcy5fc2V0TWV0cmljcyhvcHRpb25zKSA6IHRoaXMuZ2V0QWxsTWV0cmljcygpOwoKICAgIGlmICh0eXBlb2YgdGhpcy5fZHJhdyA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgZmFjYWRlLnJlbmRlcldpdGhDb250ZXh0KG9wdGlvbnMsIHRoaXMuX2RyYXcuYmluZCh0aGlzLCBmYWNhZGUsIG9wdGlvbnMsIG1ldHJpY3MpKTsKCiAgICB9Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucG9seWdvbiIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlBvbHlnb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNyZWF0ZSBhIHBvbHlnb24gb2JqZWN0LiBJbmhlcml0cyBhbGwgbWV0aG9kcyBmcm9tIDxiPkZhY2FkZS5FbnRpdHk8L2I+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdG8gY3JlYXRlIHRoZSBwb2x5Z29uIHdpdGguPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy54PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WCBjb29yZGluYXRlIHRvIHBvc2l0aW9uIHRoZSBwb2x5Z29uLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlkgY29vcmRpbmF0ZSB0byBwb3NpdGlvbiB0aGUgcG9seWdvbi4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmFuY2hvcjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UG9zaXRpb24gdG8gYW5jaG9yIHRoZSBwb2x5Z29uLiA8aT5EZWZhdWx0OjwvaT4gInRvcC9sZWZ0Ijxicj48dWw+PGxpPnRvcC9sZWZ0PC9saT48bGk+dG9wL2NlbnRlcjwvbGk+PGxpPnRvcC9yaWdodDwvbGk+PGxpPmNlbnRlci9sZWZ0PC9saT48bGk+Y2VudGVyPC9saT48bGk+Y2VudGVyL3JpZ2h0PC9saT48bGk+Ym90dG9tL2xlZnQ8L2xpPjxsaT5ib3R0b20vY2VudGVyPC9saT48bGk+Ym90dG9tL3JpZ2h0PC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMucm90YXRlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RGVncmVlcyB0byByb3RhdGUgdGhlIHBvbHlnb24uIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zY2FsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBzY2FsZSBvZiBhIHBvbHlnb24uIDxpPkRlZmF1bHQ6PC9pPiAxPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5vcGFjaXR5PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3BhY2l0eSBvZiB0aGUgcG9seWdvbi4gSW50ZWdlciBiZXR3ZWVuIDAgYW5kIDEwMC4gPGk+RGVmYXVsdDo8L2k+IDEwMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMucG9pbnRzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+QXJyYXk8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk11bHRpLWRpbWVuc2lvbmFsIGFycmF5IG9mIHBvaW50cyB1c2VkIHRvIHJlbmRlciBhIHBvbHlnb24uIFBvaW50IGFycmF5cyB3aXRoIDIgdmFsdWVzIGlzIHJlbmRlcmVkIGFzIGEgbGluZSwgNSB2YWx1ZXMgaXMgcmVuZGVyZWQgYXMgYW4gYXJjIGFuZCA2IHZhbHVlcyBpcyByZW5kZXJlZCBhcyBhIGJlemllciBjdXJ2ZS48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmZpbGxTdHlsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmlsbCBjb2xvciBmb3IgdGhlIHBvbHlnb24uIENhbiBiZSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvciwgSEVYLCBSR0IoYSksIEhTTChhKS4gPGk+RGVmYXVsdDo8L2k+ICIjMDAwIjxicj48dWw+PGxpPkhUTUwgQ29sb3JzOiByZWQsIGdyZWVuLCBibHVlLCBldGMuPC9saT48bGk+SEVYOiAjZjAwLCAjZmYwMDAwPC9saT48bGk+UkdCKGEpOiByZ2IoMjU1LCAwLCAwKSwgcmdiYSgwLCAyNTUsIDAsIDAuNSk8L2xpPjxsaT5IU0woYSk6IGhzbCgxMDAsIDEwMCUsIDUwJSksIGhzbGEoMTAwLCAxMDAlLCA1MCUsIDAuNSk8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zdHJva2VTdHlsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29sb3Igb2YgYSBwb2x5Z29uJ3Mgc3Ryb2tlLiBDYW4gYmUgYSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IsIEhFWCwgUkdCKGEpLCBIU0woYSkuIDxpPkRlZmF1bHQ6PC9pPiAiIzAwMCI8YnI+PHVsPjxsaT5IVE1MIENvbG9yczogcmVkLCBncmVlbiwgYmx1ZSwgZXRjLjwvbGk+PGxpPkhFWDogI2YwMCwgI2ZmMDAwMDwvbGk+PGxpPlJHQihhKTogcmdiKDI1NSwgMCwgMCksIHJnYmEoMCwgMjU1LCAwLCAwLjUpPC9saT48bGk+SFNMKGEpOiBoc2woMTAwLCAxMDAlLCA1MCUpLCBoc2xhKDEwMCwgMTAwJSwgNTAlLCAwLjUpPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZVdpZHRoPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+V2lkdGggb2YgdGhlIHN0cm9rZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVDYXA8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBzdHlsZSBvZiBsaW5lIGNhcC4gPGk+RGVmYXVsdDo8L2k+ICJidXR0Ijxicj48dWw+PGxpPmJ1dHQ8L2xpPjxsaT5yb3VuZDwvbGk+PGxpPnNxdWFyZTwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVKb2luPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgc3R5bGUgb2YgbGluZSBqb2luLiA8aT5EZWZhdWx0OjwvaT4gIm1pdGVyIjxicj48dWw+PGxpPm1pdGVyPC9saT48bGk+cm91bmQ8L2xpPjxsaT5iZXZlbDwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmNsb3NlUGF0aDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkJvb2xlYW48L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkJvb2xlYW4gdG8gZGV0ZXJtaW5lIGlmIHRoZSBwb2x5Z29uIHNob3VsZCBiZSBzZWxmIGNsb3Npbmcgb3Igbm90LiA8aT5EZWZhdWx0OjwvaT4gdHJ1ZTwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+dmFyIHBvbHlnb24gPSBuZXcgRmFjYWRlLlBvbHlnb24oewogICAgeDogMCwKICAgIHk6IDAsCiAgICBwb2ludHM6IFsgWzEwMCwgMF0sIFsyMDAsIDEwMF0sIFsxMDAsIDIwMF0sIFswLCAxMDBdIF0sCiAgICBsaW5lV2lkdGg6IDEwLAogICAgc3Ryb2tlU3R5bGU6ICYjMzk7IzMzM0U0QiYjMzk7LAogICAgZmlsbFN0eWxlOiAmIzM5OyMxQzczQTgmIzM5OywKICAgIGFuY2hvcjogJiMzOTt0b3AvbGVmdCYjMzk7Cn0pOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuUG9seWdvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZhY2FkZS5Qb2x5Z29uKSkgewoKICAgICAgICByZXR1cm4gbmV3IEZhY2FkZS5Qb2x5Z29uKG9wdGlvbnMpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoKTsKICAgIHRoaXMuX21ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBOZXcgRmFjYWRlLlBvbHlnb24gb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fZGVmYXVsdG9wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fZGVmYXVsdG9wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5Qb2x5Z29uLl9kZWZhdWx0T3B0aW9ucygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0dXJucyBhIGRlZmF1bHQgc2V0IG9mIG9wdGlvbnMgY29tbW9uIHRvIGFsbCBGYWNhZGUuanMgcG9seWdvbiBlbnRpdGllcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BZGRpdGlvbmFsIG9wdGlvbnMgYXMga2V5LXZhbHVlIHBhaXJzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coRmFjYWRlLlBvbHlnb24ucHJvdG90eXBlLl9kZWZhdWx0T3B0aW9ucygpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5Qb2x5Z29uLnByb3RvdHlwZS5fZGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiAodXBkYXRlZCkgewoKICAgIHZhciBvcHRpb25zLAogICAgICAgIGtleXMsCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgb3B0aW9ucyA9IEZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0T3B0aW9ucyh7CiAgICAgICAgb3BhY2l0eTogMTAwLAogICAgICAgIHBvaW50czogW10sCiAgICAgICAgZmlsbFN0eWxlOiAmI3gyNzsjMDAwJiN4Mjc7LAogICAgICAgIHN0cm9rZVN0eWxlOiAmI3gyNzsmI3gyNzssCiAgICAgICAgbGluZVdpZHRoOiAwLAogICAgICAgIGxpbmVDYXA6ICYjeDI3O2J1dHQmI3gyNzssCiAgICAgICAgbGluZUpvaW46ICYjeDI3O21pdGVyJiN4Mjc7LAogICAgICAgIGNsb3NlUGF0aDogdHJ1ZQogICAgfSk7CgogICAgaWYgKHVwZGF0ZWQpIHsKCiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHVwZGF0ZWQpOwoKICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgICAgICBvcHRpb25zW2tleXNbaV1dID0gdXBkYXRlZFtrZXlzW2ldXTsKCiAgICAgICAgfQoKICAgIH0KCiAgICByZXR1cm4gb3B0aW9uczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRGVmYXVsdCBzZXQgb2Ygb3B0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9kcmF3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucG9seWdvbi5wcm90b3R5cGUuX2RyYXciIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5Qb2x5Z29uLl9kcmF3KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZW5kZXJzIGEgcG9seWdvbiBlbnRpdHkgdG8gYSBjYW52YXMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+ZmFjYWRlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdXNlZCB0byByZW5kZXIgdGhlIHBvbHlnb24uPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TWV0cmljcyB1c2VkIHRvIHJlbmRlciB0aGUgcG9seWdvbi48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnBvbHlnb24uX2RyYXcoZmFjYWRlLCBvcHRpb25zLCBtZXRyaWNzKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuUG9seWdvbi5wcm90b3R5cGUuX2RyYXcgPSBmdW5jdGlvbiAoZmFjYWRlLCBvcHRpb25zLCBtZXRyaWNzKSB7CgogICAgdmFyIGNvbnRleHQgPSBmYWNhZGUuY29udGV4dCwKICAgICAgICBpLAogICAgICAgIGxlbmd0aDsKCiAgICB0aGlzLl9hcHBseVRyYW5zZm9ybXMoY29udGV4dCwgb3B0aW9ucywgbWV0cmljcyk7CgogICAgaWYgKG9wdGlvbnMucG9pbnRzLmxlbmd0aCkgewoKICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwoKICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvcHRpb25zLnBvaW50cy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICAgICAgaWYgKG9wdGlvbnMucG9pbnRzW2ldLmxlbmd0aCA9PT0gNikgewoKICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUby5hcHBseShjb250ZXh0LCBvcHRpb25zLnBvaW50c1tpXSk7CgogICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucG9pbnRzW2ldLmxlbmd0aCA9PT0gNSkgewoKICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjLmFwcGx5KGNvbnRleHQsIG9wdGlvbnMucG9pbnRzW2ldKTsKCiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wb2ludHNbaV0ubGVuZ3RoID09PSAyKSB7CgogICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgb3B0aW9ucy5wb2ludHNbaV0pOwoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLmNsb3NlUGF0aCkgewoKICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTsKCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvLmFwcGx5KGNvbnRleHQsIG9wdGlvbnMucG9pbnRzW2xlbmd0aCAtIDFdKTsKCiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy5maWxsU3R5bGUpIHsKCiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpOwoKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLmxpbmVXaWR0aCAmZ3Q7IDApIHsKCiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7CgogICAgICAgIH0KCiAgICB9Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT52b2lkPC9jb2RlPiAgPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuUG9seWdvbi5fY29uZmlnT3B0aW9ucygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VzdG9tIGNvbmZpZ3VyYXRpb24gZm9yIG9wdGlvbnMgc3BlY2lmaWMgdG8gYSBwb2x5Z29uIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db21wbGV0ZSBzZXQgb2YgcG9seWdvbiBzcGVjaWZpYyBvcHRpb25zLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2cocG9seWdvbi5fY29uZmlnT3B0aW9ucyhvcHRpb25zKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuUG9seWdvbi5wcm90b3R5cGUuX2NvbmZpZ09wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIG9wdGlvbnMudHJhbnNsYXRlID0gWyBvcHRpb25zLngsIG9wdGlvbnMueSBdOwogICAgb3B0aW9ucy5nbG9iYWxBbHBoYSA9IG9wdGlvbnMub3BhY2l0eSAvIDEwMDsKCiAgICByZXR1cm4gb3B0aW9uczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgQ29udmVydGVkIG9wdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fc2V0bWV0cmljcyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9zZXRtZXRyaWNzIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuUG9seWdvbi5fc2V0TWV0cmljcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0IG1ldHJpY3MgYmFzZWQgb24gdGhlIHBvbHlnb24mIzM5O3Mgb3B0aW9ucy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gb3B0aW9ucyB1c2VkIHRvIHJlbmRlciB0aGUgcG9seWdvbi48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHBvbHlnb24uX3NldE1ldHJpY3MoKSk7CmNvbnNvbGUubG9nKHBvbHlnb24uX3NldE1ldHJpY3Mob3B0aW9ucykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlBvbHlnb24ucHJvdG90eXBlLl9zZXRNZXRyaWNzID0gZnVuY3Rpb24gKHVwZGF0ZWQpIHsKCiAgICB2YXIgbWV0cmljcyA9IHRoaXMuX2RlZmF1bHRNZXRyaWNzKCksCiAgICAgICAgb3B0aW9ucyA9IHVwZGF0ZWQgfHwgdGhpcy5nZXRBbGxPcHRpb25zKCksCiAgICAgICAgYm91bmRzID0geyB0b3A6IG51bGwsIHJpZ2h0OiBudWxsLCBib3R0b206IG51bGwsIGxlZnQ6IG51bGwgfSwKICAgICAgICBwb2ludCwKICAgICAgICBpLAogICAgICAgIGxlbmd0aCwKICAgICAgICBhbmNob3IsCiAgICAgICAgc3Ryb2tlV2lkdGhPZmZzZXQgPSB0aGlzLl9nZXRTdHJva2VXaWR0aE9mZnNldChvcHRpb25zKTsKCiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZ09wdGlvbnMgPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgIG9wdGlvbnMgPSB0aGlzLl9jb25maWdPcHRpb25zKG9wdGlvbnMpOwoKICAgIH0KCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvcHRpb25zLnBvaW50cy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICBpZiAob3B0aW9ucy5wb2ludHNbaV0ubGVuZ3RoID09PSAyKSB7IC8vIFJlY3QKCiAgICAgICAgICAgIHBvaW50ID0geyB4OiBvcHRpb25zLnBvaW50c1tpXVswXSwgeTogb3B0aW9ucy5wb2ludHNbaV1bMV0gfTsKCiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnBvaW50c1tpXS5sZW5ndGggPT09IDUpIHsgLy8gQ2lyY2xlCgogICAgICAgICAgICBtZXRyaWNzLndpZHRoID0gb3B0aW9ucy5wb2ludHNbaV1bMl0gKiAyOwogICAgICAgICAgICBtZXRyaWNzLmhlaWdodCA9IG9wdGlvbnMucG9pbnRzW2ldWzJdICogMjsKCiAgICAgICAgICAgIHBvaW50ID0gewogICAgICAgICAgICAgICAgeDogb3B0aW9ucy5wb2ludHNbaV1bMF0gLSBvcHRpb25zLnBvaW50c1tpXVsyXSwKICAgICAgICAgICAgICAgIHk6IG9wdGlvbnMucG9pbnRzW2ldWzFdIC0gb3B0aW9ucy5wb2ludHNbaV1bMl0KICAgICAgICAgICAgfTsKCiAgICAgICAgfQoKICAgICAgICBpZiAocG9pbnQueCAmbHQ7IGJvdW5kcy5sZWZ0IHx8IGJvdW5kcy5sZWZ0ID09PSBudWxsKSB7CgogICAgICAgICAgICBib3VuZHMubGVmdCA9IHBvaW50Lng7CgogICAgICAgIH0KCiAgICAgICAgaWYgKHBvaW50LnkgJmx0OyBib3VuZHMudG9wIHx8IGJvdW5kcy50b3AgPT09IG51bGwpIHsKCiAgICAgICAgICAgIGJvdW5kcy50b3AgPSBwb2ludC55OwoKICAgICAgICB9CgogICAgICAgIGlmIChwb2ludC54ICZndDsgYm91bmRzLnJpZ2h0IHx8IGJvdW5kcy5yaWdodCA9PT0gbnVsbCkgewoKICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gcG9pbnQueDsKCiAgICAgICAgfQoKICAgICAgICBpZiAocG9pbnQueSAmZ3Q7IGJvdW5kcy5ib3R0b20gfHwgYm91bmRzLmJvdHRvbSA9PT0gbnVsbCkgewoKICAgICAgICAgICAgYm91bmRzLmJvdHRvbSA9IHBvaW50Lnk7CgogICAgICAgIH0KCiAgICB9CgogICAgbWV0cmljcy54ID0gb3B0aW9ucy54ICsgYm91bmRzLmxlZnQ7CiAgICBtZXRyaWNzLnkgPSBvcHRpb25zLnkgKyBib3VuZHMudG9wOwoKICAgIGlmIChtZXRyaWNzLndpZHRoID09PSBudWxsICZhbXA7JmFtcDsgbWV0cmljcy5oZWlnaHQgPT09IG51bGwpIHsKCiAgICAgICAgbWV0cmljcy53aWR0aCA9IGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0OwogICAgICAgIG1ldHJpY3MuaGVpZ2h0ID0gYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3A7CgogICAgfQoKICAgIG1ldHJpY3Mud2lkdGggPSAobWV0cmljcy53aWR0aCArIHN0cm9rZVdpZHRoT2Zmc2V0ICogMikgKiBvcHRpb25zLnNjYWxlOwogICAgbWV0cmljcy5oZWlnaHQgPSAobWV0cmljcy5oZWlnaHQgKyBzdHJva2VXaWR0aE9mZnNldCAqIDIpICogb3B0aW9ucy5zY2FsZTsKCiAgICBhbmNob3IgPSB0aGlzLl9nZXRBbmNob3JQb2ludChvcHRpb25zLCBtZXRyaWNzKTsKCiAgICBtZXRyaWNzLnggPSBtZXRyaWNzLnggKyBhbmNob3JbMF0gLSBzdHJva2VXaWR0aE9mZnNldDsKICAgIG1ldHJpY3MueSA9IG1ldHJpY3MueSArIGFuY2hvclsxXSAtIHN0cm9rZVdpZHRoT2Zmc2V0OwoKICAgIGlmICh0aGlzIGluc3RhbmNlb2YgRmFjYWRlLkNpcmNsZSkgewoKICAgICAgICBtZXRyaWNzLnggPSBtZXRyaWNzLnggKyBvcHRpb25zLnJhZGl1czsKICAgICAgICBtZXRyaWNzLnkgPSBtZXRyaWNzLnkgKyBvcHRpb25zLnJhZGl1czsKCiAgICB9CgogICAgaWYgKCF1cGRhdGVkKSB7CgogICAgICAgIHRoaXMuX21ldHJpY3MgPSBtZXRyaWNzOwoKICAgIH0KCiAgICByZXR1cm4gbWV0cmljczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgT2JqZWN0IHdpdGggbWV0cmljcyBhcyBrZXktdmFsdWUgcGFpcnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmNpcmNsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkNpcmNsZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3JlYXRlIGEgY2lyY2xlIG9iamVjdC4gSW5oZXJpdHMgYWxsIG1ldGhvZHMgZnJvbSA8Yj5GYWNhZGUuUG9seWdvbjwvYj4uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB0byBjcmVhdGUgdGhlIGNpcmNsZSB3aXRoLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlggY29vcmRpbmF0ZSB0byBwb3NpdGlvbiB0aGUgY2lyY2xlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlkgY29vcmRpbmF0ZSB0byBwb3NpdGlvbiB0aGUgY2lyY2xlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuYW5jaG9yPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Qb3NpdGlvbiB0byBhbmNob3IgdGhlIGNpcmNsZS4gPGk+RGVmYXVsdDo8L2k+ICJ0b3AvbGVmdCI8YnI+PHVsPjxsaT50b3AvbGVmdDwvbGk+PGxpPnRvcC9jZW50ZXI8L2xpPjxsaT50b3AvcmlnaHQ8L2xpPjxsaT5jZW50ZXIvbGVmdDwvbGk+PGxpPmNlbnRlcjwvbGk+PGxpPmNlbnRlci9yaWdodDwvbGk+PGxpPmJvdHRvbS9sZWZ0PC9saT48bGk+Ym90dG9tL2NlbnRlcjwvbGk+PGxpPmJvdHRvbS9yaWdodDwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnJvdGF0ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRlZ3JlZXMgdG8gcm90YXRlIHRoZSBjaXJjbGUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zY2FsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBzY2FsZSBvZiBhIGNpcmNsZS4gPGk+RGVmYXVsdDo8L2k+IDE8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLm9wYWNpdHk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcGFjaXR5IG9mIHRoZSBjaXJjbGUuIEludGVnZXIgYmV0d2VlbiAwIGFuZCAxMDAuIDxpPkRlZmF1bHQ6PC9pPiAxMDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmZpbGxTdHlsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmlsbCBjb2xvciBmb3IgdGhlIGNpcmNsZS4gQ2FuIGJlIGEgdGV4dCByZXByZXNlbnRhdGlvbiBvZiBhIGNvbG9yLCBIRVgsIFJHQihhKSwgSFNMKGEpLiA8aT5EZWZhdWx0OjwvaT4gIiMwMDAiPGJyPjx1bD48bGk+SFRNTCBDb2xvcnM6IHJlZCwgZ3JlZW4sIGJsdWUsIGV0Yy48L2xpPjxsaT5IRVg6ICNmMDAsICNmZjAwMDA8L2xpPjxsaT5SR0IoYSk6IHJnYigyNTUsIDAsIDApLCByZ2JhKDAsIDI1NSwgMCwgMC41KTwvbGk+PGxpPkhTTChhKTogaHNsKDEwMCwgMTAwJSwgNTAlKSwgaHNsYSgxMDAsIDEwMCUsIDUwJSwgMC41KTwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnN0cm9rZVN0eWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db2xvciBvZiBhIGNpcmNsZSdzIHN0cm9rZS4gQ2FuIGJlIGEgdGV4dCByZXByZXNlbnRhdGlvbiBvZiBhIGNvbG9yLCBIRVgsIFJHQihhKSwgSFNMKGEpLiA8aT5EZWZhdWx0OjwvaT4gIiMwMDAiPGJyPjx1bD48bGk+SFRNTCBDb2xvcnM6IHJlZCwgZ3JlZW4sIGJsdWUsIGV0Yy48L2xpPjxsaT5IRVg6ICNmMDAsICNmZjAwMDA8L2xpPjxsaT5SR0IoYSk6IHJnYigyNTUsIDAsIDApLCByZ2JhKDAsIDI1NSwgMCwgMC41KTwvbGk+PGxpPkhTTChhKTogaHNsKDEwMCwgMTAwJSwgNTAlKSwgaHNsYSgxMDAsIDEwMCUsIDUwJSwgMC41KTwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVXaWR0aDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPldpZHRoIG9mIHRoZSBzdHJva2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5saW5lQ2FwPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgc3R5bGUgb2YgbGluZSBjYXAuIDxpPkRlZmF1bHQ6PC9pPiAiYnV0dCI8YnI+PHVsPjxsaT5idXR0PC9saT48bGk+cm91bmQ8L2xpPjxsaT5zcXVhcmU8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5saW5lSm9pbjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIHN0eWxlIG9mIGxpbmUgam9pbi4gPGk+RGVmYXVsdDo8L2k+ICJtaXRlciI8YnI+PHVsPjxsaT5taXRlcjwvbGk+PGxpPnJvdW5kPC9saT48bGk+YmV2ZWw8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5yYWRpdXM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SYWRpdXMgb2YgdGhlIGNpcmNsZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnN0YXJ0PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RGVncmVlIGF0IHdoaWNoIHRoZSBjaXJjbGUgYmVnaW5zLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuZW5kPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RGVncmVlIGF0IHdoaWNoIHRoZSBjaXJjbGUgZW5kcy4gPGk+RGVmYXVsdDo8L2k+IDM2MDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuY291bnRlcmNsb2Nrd2lzZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkJvb2xlYW48L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkJvb2xlYW4gZGV0ZXJtaW5pbmcgaWYgdGhlIGNpcmNsZSB3aWxsIGJlIGRyYXduIGluIGEgY291bnRlciBjbG9ja3dpc2UgZGlyZWN0aW9uLiA8aT5EZWZhdWx0OjwvaT4gZmFsc2U8L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnZhciBjaXJjbGUgPSBuZXcgRmFjYWRlLkNpcmNsZSh7CiAgICB4OiAwLAogICAgeTogMCwKICAgIHJhZGl1czogMTAwLAogICAgbGluZVdpZHRoOiAxMCwKICAgIHN0cm9rZVN0eWxlOiAmIzM5OyMzMzNFNEImIzM5OywKICAgIGZpbGxTdHlsZTogJiMzOTsjMUM3M0E4JiMzOTssCiAgICBhbmNob3I6ICYjMzk7dG9wL2xlZnQmIzM5Owp9KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5DaXJjbGUgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuQ2lyY2xlKSkgewoKICAgICAgICByZXR1cm4gbmV3IEZhY2FkZS5DaXJjbGUob3B0aW9ucyk7CgogICAgfQoKICAgIHRoaXMuX29wdGlvbnMgPSB0aGlzLl9kZWZhdWx0T3B0aW9ucyh7CiAgICAgICAgcmFkaXVzOiAwLAogICAgICAgIGJlZ2luOiAwLAogICAgICAgIGVuZDogMzYwLAogICAgICAgIGNvdW50ZXJjbG9ja3dpc2U6IGZhbHNlCiAgICB9KTsKICAgIHRoaXMuX21ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgTmV3IEZhY2FkZS5DaXJjbGUgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUucHJvdG90eXBlLl9jb25maWdvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuY2lyY2xlLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkNpcmNsZS5fY29uZmlnT3B0aW9ucygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VzdG9tIGNvbmZpZ3VyYXRpb24gZm9yIG9wdGlvbnMgc3BlY2lmaWMgdG8gYSBjaXJjbGUgZW50aXR5LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNvbXBsZXRlIHNldCBvZiBjaXJjbGUgc3BlY2lmaWMgb3B0aW9ucy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGNpcmNsZS5fY29uZmlnT3B0aW9ucyhvcHRpb25zKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuQ2lyY2xlLnByb3RvdHlwZS5fY29uZmlnT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgb3B0aW9ucy50cmFuc2xhdGUgPSBbIG9wdGlvbnMueCwgb3B0aW9ucy55IF07CiAgICBvcHRpb25zLmdsb2JhbEFscGhhID0gb3B0aW9ucy5vcGFjaXR5IC8gMTAwOwoKICAgIGlmIChvcHRpb25zLmNvdW50ZXJjbG9ja3dpc2UpIHsKCiAgICAgICAgb3B0aW9ucy5wb2ludHMgPSBbIFsgMCwgMCwgb3B0aW9ucy5yYWRpdXMsIG9wdGlvbnMuZW5kICogX1RPX1JBRElBTlMsIG9wdGlvbnMuYmVnaW4gKiBfVE9fUkFESUFOUyBdIF07CgogICAgfSBlbHNlIHsKCiAgICAgICAgb3B0aW9ucy5wb2ludHMgPSBbIFsgMCwgMCwgb3B0aW9ucy5yYWRpdXMsIG9wdGlvbnMuYmVnaW4gKiBfVE9fUkFESUFOUywgb3B0aW9ucy5lbmQgKiBfVE9fUkFESUFOUyBdIF07CgogICAgfQoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBDb252ZXJ0ZWQgb3B0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmNpcmNsZS5wcm90b3R5cGUuX2dldGFuY2hvcnBvaW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuY2lyY2xlLnByb3RvdHlwZS5fZ2V0YW5jaG9ycG9pbnQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5DaXJjbGUuX2dldEFuY2hvclBvaW50KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXR1cm5zIGFuIGFycmF5IG9mIHRoZSB4IGFuZCB5IGFuY2hvciBwb3NpdGlvbnMgYmFzZWQgb24gZ2l2ZW4gb3B0aW9ucyBhbmQgbWV0cmljcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuQ2lyY2xlIG9wdGlvbnMuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLkNpcmNsZSBtZXRyaWNzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coY2lyY2xlLl9nZXRBbmNob3JQb2ludChvcHRpb25zLCBtZXRyaWNzKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5DaXJjbGUucHJvdG90eXBlLl9nZXRBbmNob3JQb2ludCA9IGZ1bmN0aW9uIChvcHRpb25zLCBtZXRyaWNzKSB7CgogICAgdmFyIHBvcyA9IEZhY2FkZS5Qb2x5Z29uLnByb3RvdHlwZS5fZ2V0QW5jaG9yUG9pbnQuY2FsbCh0aGlzLCBvcHRpb25zLCBtZXRyaWNzKTsKCiAgICBwb3NbMF0gPSBwb3NbMF0gKyBvcHRpb25zLnJhZGl1czsKICAgIHBvc1sxXSA9IHBvc1sxXSArIG9wdGlvbnMucmFkaXVzOwoKICAgIHJldHVybiBwb3M7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+QXJyYXk8L2NvZGU+ICBBcnJheSB3aXRoIHRoZSB4IGFuZCB5IGFuY2hvciBwb3NpdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUucHJvdG90eXBlLl9zZXRtZXRyaWNzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuY2lyY2xlLnByb3RvdHlwZS5fc2V0bWV0cmljcyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkNpcmNsZS5fc2V0TWV0cmljcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0IG1ldHJpY3MgYmFzZWQgb24gdGhlIGNpcmNsZSYjMzk7cyBvcHRpb25zLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnVwZGF0ZWQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBvcHRpb25zIHVzZWQgdG8gcmVuZGVyIHRoZSBjaXJjbGUuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhjaXJjbGUuX3NldE1ldHJpY3MoKSk7CmNvbnNvbGUubG9nKGNpcmNsZS5fc2V0TWV0cmljcyhvcHRpb25zKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuQ2lyY2xlLnByb3RvdHlwZS5fc2V0TWV0cmljcyA9IGZ1bmN0aW9uICh1cGRhdGVkKSB7CgogICAgdmFyIG1ldHJpY3MgPSBGYWNhZGUuUG9seWdvbi5wcm90b3R5cGUuX3NldE1ldHJpY3MuY2FsbCh0aGlzLCB1cGRhdGVkKSwKICAgICAgICBvcHRpb25zID0gdXBkYXRlZCB8fCB0aGlzLmdldEFsbE9wdGlvbnMoKTsKCiAgICBtZXRyaWNzLnggPSBtZXRyaWNzLnggLSBvcHRpb25zLnJhZGl1czsKICAgIG1ldHJpY3MueSA9IG1ldHJpY3MueSAtIG9wdGlvbnMucmFkaXVzOwoKICAgIGlmICghdXBkYXRlZCkgewoKICAgICAgICB0aGlzLl9tZXRyaWNzID0gbWV0cmljczsKCiAgICB9CgogICAgcmV0dXJuIG1ldHJpY3M7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE9iamVjdCB3aXRoIG1ldHJpY3MgYXMga2V5LXZhbHVlIHBhaXJzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5saW5lIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUubGluZSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkxpbmUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNyZWF0ZSBhIGxpbmUgb2JqZWN0LiBJbmhlcml0cyBhbGwgbWV0aG9kcyBmcm9tIDxiPkZhY2FkZS5Qb2x5Z29uPC9iPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcHRpb25zIHRvIGNyZWF0ZSB0aGUgbGluZSB3aXRoLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlggY29vcmRpbmF0ZSB0byBwb3NpdGlvbiB0aGUgbGluZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5ZIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gdGhlIGxpbmUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5hbmNob3I8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBvc2l0aW9uIHRvIGFuY2hvciB0aGUgbGluZS4gPGk+RGVmYXVsdDo8L2k+ICJ0b3AvbGVmdCI8YnI+PHVsPjxsaT50b3AvbGVmdDwvbGk+PGxpPnRvcC9jZW50ZXI8L2xpPjxsaT50b3AvcmlnaHQ8L2xpPjxsaT5jZW50ZXIvbGVmdDwvbGk+PGxpPmNlbnRlcjwvbGk+PGxpPmNlbnRlci9yaWdodDwvbGk+PGxpPmJvdHRvbS9sZWZ0PC9saT48bGk+Ym90dG9tL2NlbnRlcjwvbGk+PGxpPmJvdHRvbS9yaWdodDwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnJvdGF0ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRlZ3JlZXMgdG8gcm90YXRlIHRoZSBsaW5lLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc2NhbGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgc2NhbGUgb2YgYSBsaW5lLiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMub3BhY2l0eTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wYWNpdHkgb2YgdGhlIGxpbmUuIEludGVnZXIgYmV0d2VlbiAwIGFuZCAxMDAuIDxpPkRlZmF1bHQ6PC9pPiAxMDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnN0cm9rZVN0eWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db2xvciBvZiBhIGxpbmUuIENhbiBiZSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvciwgSEVYLCBSR0IoYSksIEhTTChhKS4gPGk+RGVmYXVsdDo8L2k+ICIjMDAwIjxicj48dWw+PGxpPkhUTUwgQ29sb3JzOiByZWQsIGdyZWVuLCBibHVlLCBldGMuPC9saT48bGk+SEVYOiAjZjAwLCAjZmYwMDAwPC9saT48bGk+UkdCKGEpOiByZ2IoMjU1LCAwLCAwKSwgcmdiYSgwLCAyNTUsIDAsIDAuNSk8L2xpPjxsaT5IU0woYSk6IGhzbCgxMDAsIDEwMCUsIDUwJSksIGhzbGEoMTAwLCAxMDAlLCA1MCUsIDAuNSk8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5saW5lV2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XaWR0aCBvZiB0aGUgc3Ryb2tlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZUNhcDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIHN0eWxlIG9mIGxpbmUgY2FwLiA8aT5EZWZhdWx0OjwvaT4gImJ1dHQiPGJyPjx1bD48bGk+YnV0dDwvbGk+PGxpPnJvdW5kPC9saT48bGk+c3F1YXJlPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueDE8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5YIGNvb3JkaW5hdGUgd2hlcmUgbGluZSBiZWdpbnMuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy55MTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlkgY29vcmRpbmF0ZSB3aGVyZSBsaW5lIGJlZ2lucy4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLngyPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WCBjb29yZGluYXRlIHdoZXJlIGxpbmUgZW5kcy4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnkyPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WSBjb29yZGluYXRlIHdoZXJlIGxpbmUgZW5kcy4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnZhciBsaW5lID0gbmV3IEZhY2FkZS5MaW5lKHsKICAgIHg6IDAsCiAgICB5OiAwLAogICAgeDE6IDAsCiAgICB4MjogMjAwLAogICAgbGluZVdpZHRoOiAxMCwKICAgIHN0cm9rZVN0eWxlOiAmIzM5OyMzMzNFNEImIzM5OywKICAgIGFuY2hvcjogJiMzOTt0b3AvbGVmdCYjMzk7Cn0pOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuTGluZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZhY2FkZS5MaW5lKSkgewoKICAgICAgICByZXR1cm4gbmV3IEZhY2FkZS5MaW5lKG9wdGlvbnMpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoewogICAgICAgIHgxOiAwLAogICAgICAgIHkxOiAwLAogICAgICAgIHgyOiAwLAogICAgICAgIHkyOiAwLAogICAgICAgIGxpbmVXaWR0aDogMQogICAgfSk7CiAgICB0aGlzLl9tZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgTmV3IEZhY2FkZS5MaW5lIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUubGluZS5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5saW5lLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkxpbmUuX2NvbmZpZ09wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBjb25maWd1cmF0aW9uIGZvciBvcHRpb25zIHNwZWNpZmljIHRvIGEgbGluZSBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29tcGxldGUgc2V0IG9mIGxpbmUgc3BlY2lmaWMgb3B0aW9ucy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGxpbmUuX2NvbmZpZ09wdGlvbnMob3B0aW9ucykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkxpbmUucHJvdG90eXBlLl9jb25maWdPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCiAgICBvcHRpb25zLnRyYW5zbGF0ZSA9IFsgb3B0aW9ucy54LCBvcHRpb25zLnkgXTsKICAgIG9wdGlvbnMuZ2xvYmFsQWxwaGEgPSBvcHRpb25zLm9wYWNpdHkgLyAxMDA7CiAgICBvcHRpb25zLmNsb3NlUGF0aCA9IGZhbHNlOwoKICAgIG9wdGlvbnMucG9pbnRzID0gWyBbIG9wdGlvbnMueDEsIG9wdGlvbnMueTEgXSwgWyBvcHRpb25zLngyLCBvcHRpb25zLnkyIF0gXTsKCiAgICByZXR1cm4gb3B0aW9uczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgQ29udmVydGVkIG9wdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5saW5lLnByb3RvdHlwZS5fZ2V0YW5jaG9ycG9pbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5saW5lLnByb3RvdHlwZS5fZ2V0YW5jaG9ycG9pbnQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5MaW5lLl9nZXRBbmNob3JQb2ludCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0dXJucyBhbiBhcnJheSBvZiB0aGUgeCBhbmQgeSBhbmNob3IgcG9zaXRpb25zIGJhc2VkIG9uIGdpdmVuIG9wdGlvbnMgYW5kIG1ldHJpY3MuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLkxpbmUgb3B0aW9ucy48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5tZXRyaWNzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuTGluZSBtZXRyaWNzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2cobGluZS5fZ2V0QW5jaG9yUG9pbnQob3B0aW9ucywgbWV0cmljcykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuTGluZS5wcm90b3R5cGUuX2dldEFuY2hvclBvaW50ID0gZnVuY3Rpb24gKG9wdGlvbnMsIG1ldHJpY3MpIHsKCiAgICB2YXIgcG9zID0gWzAsIDBdOwoKICAgIGlmIChvcHRpb25zLmFuY2hvci5tYXRjaCgvY2VudGVyJC8pKSB7CgogICAgICAgIHBvc1swXSA9IC0obWV0cmljcy53aWR0aCAvIDIgLSBvcHRpb25zLmxpbmVXaWR0aCAvIDIpOwoKICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbmNob3IubWF0Y2goL3JpZ2h0JC8pKSB7CgogICAgICAgIHBvc1swXSA9IC0obWV0cmljcy53aWR0aCAtIG9wdGlvbnMubGluZVdpZHRoKTsKCiAgICB9CgogICAgaWYgKG9wdGlvbnMuYW5jaG9yLm1hdGNoKC9eY2VudGVyLykpIHsKCiAgICAgICAgcG9zWzFdID0gLShtZXRyaWNzLmhlaWdodCAvIDIgLSBvcHRpb25zLmxpbmVXaWR0aCAvIDIpOwoKICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbmNob3IubWF0Y2goL15ib3R0b20vKSkgewoKICAgICAgICBwb3NbMV0gPSAtKG1ldHJpY3MuaGVpZ2h0IC0gb3B0aW9ucy5saW5lV2lkdGgpOwoKICAgIH0KCiAgICByZXR1cm4gcG9zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPkFycmF5PC9jb2RlPiAgQXJyYXkgd2l0aCB0aGUgeCBhbmQgeSBhbmNob3IgcG9zaXRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5yZWN0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucmVjdCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlJlY3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNyZWF0ZSBhIHJlY3RhbmdsZSBvYmplY3QuIEluaGVyaXRzIGFsbCBtZXRob2RzIGZyb20gPGI+RmFjYWRlLlBvbHlnb248L2I+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdG8gY3JlYXRlIHRoZSByZWN0YW5nbGUgd2l0aC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLng8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5YIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gdGhlIHJlY3RhbmdsZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5ZIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gdGhlIHJlY3RhbmdsZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmFuY2hvcjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UG9zaXRpb24gdG8gYW5jaG9yIHRoZSByZWN0YW5nbGUuIDxpPkRlZmF1bHQ6PC9pPiAidG9wL2xlZnQiPGJyPjx1bD48bGk+dG9wL2xlZnQ8L2xpPjxsaT50b3AvY2VudGVyPC9saT48bGk+dG9wL3JpZ2h0PC9saT48bGk+Y2VudGVyL2xlZnQ8L2xpPjxsaT5jZW50ZXI8L2xpPjxsaT5jZW50ZXIvcmlnaHQ8L2xpPjxsaT5ib3R0b20vbGVmdDwvbGk+PGxpPmJvdHRvbS9jZW50ZXI8L2xpPjxsaT5ib3R0b20vcmlnaHQ8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5yb3RhdGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5EZWdyZWVzIHRvIHJvdGF0ZSB0aGUgcmVjdGFuZ2xlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc2NhbGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgc2NhbGUgb2YgYSByZWN0YW5nbGUuIDxpPkRlZmF1bHQ6PC9pPiAxPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5vcGFjaXR5PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3BhY2l0eSBvZiB0aGUgcmVjdGFuZ2xlLiBJbnRlZ2VyIGJldHdlZW4gMCBhbmQgMTAwLiA8aT5EZWZhdWx0OjwvaT4gMTAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5maWxsU3R5bGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZpbGwgY29sb3IgZm9yIHRoZSByZWN0YW5nbGUuIENhbiBiZSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvciwgSEVYLCBSR0IoYSksIEhTTChhKS4gPGk+RGVmYXVsdDo8L2k+ICIjMDAwIjxicj48dWw+PGxpPkhUTUwgQ29sb3JzOiByZWQsIGdyZWVuLCBibHVlLCBldGMuPC9saT48bGk+SEVYOiAjZjAwLCAjZmYwMDAwPC9saT48bGk+UkdCKGEpOiByZ2IoMjU1LCAwLCAwKSwgcmdiYSgwLCAyNTUsIDAsIDAuNSk8L2xpPjxsaT5IU0woYSk6IGhzbCgxMDAsIDEwMCUsIDUwJSksIGhzbGEoMTAwLCAxMDAlLCA1MCUsIDAuNSk8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zdHJva2VTdHlsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29sb3Igb2YgYSByZWN0YW5nbGUncyBzdHJva2UuIENhbiBiZSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvciwgSEVYLCBSR0IoYSksIEhTTChhKS4gPGk+RGVmYXVsdDo8L2k+ICIjMDAwIjxicj48dWw+PGxpPkhUTUwgQ29sb3JzOiByZWQsIGdyZWVuLCBibHVlLCBldGMuPC9saT48bGk+SEVYOiAjZjAwLCAjZmYwMDAwPC9saT48bGk+UkdCKGEpOiByZ2IoMjU1LCAwLCAwKSwgcmdiYSgwLCAyNTUsIDAsIDAuNSk8L2xpPjxsaT5IU0woYSk6IGhzbCgxMDAsIDEwMCUsIDUwJSksIGhzbGEoMTAwLCAxMDAlLCA1MCUsIDAuNSk8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5saW5lV2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XaWR0aCBvZiB0aGUgc3Ryb2tlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZUpvaW48L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBzdHlsZSBvZiByZWN0YW5nbGUgam9pbi4gPGk+RGVmYXVsdDo8L2k+ICJtaXRlciI8YnI+PHVsPjxsaT5taXRlcjwvbGk+PGxpPnJvdW5kPC9saT48bGk+YmV2ZWw8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy53aWR0aDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPldpZHRoIG9mIHRoZSByZWN0YW5nbGUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5oZWlnaHQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5IZWlnaHQgb2YgdGhlIHJlY3RhbmdsZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnZhciByZWN0ID0gbmV3IEZhY2FkZS5SZWN0KHsKICAgIHg6IDAsCiAgICB5OiAwLAogICAgd2lkdGg6IDIwMCwKICAgIGhlaWdodDogMjAwLAogICAgbGluZVdpZHRoOiAxMCwKICAgIHN0cm9rZVN0eWxlOiAmIzM5OyMzMzNFNEImIzM5OywKICAgIGZpbGxTdHlsZTogJiMzOTsjMUM3M0E4JiMzOTssCiAgICBhbmNob3I6ICYjMzk7dG9wL2xlZnQmIzM5Owp9KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5SZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmFjYWRlLlJlY3QpKSB7CgogICAgICAgIHJldHVybiBuZXcgRmFjYWRlLlJlY3Qob3B0aW9ucyk7CgogICAgfQoKICAgIHRoaXMuX29wdGlvbnMgPSB0aGlzLl9kZWZhdWx0T3B0aW9ucyh7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwCiAgICB9KTsKICAgIHRoaXMuX21ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgTmV3IEZhY2FkZS5SZWN0IG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucmVjdC5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5yZWN0LnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlJlY3QuX2NvbmZpZ09wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBjb25maWd1cmF0aW9uIGZvciBvcHRpb25zIHNwZWNpZmljIHRvIGEgcmVjdGFuZ2xlIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db21wbGV0ZSBzZXQgb2YgcmVjdGFuZ2xlIHNwZWNpZmljIG9wdGlvbnMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhyZWN0Ll9jb25maWdPcHRpb25zKG9wdGlvbnMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5SZWN0LnByb3RvdHlwZS5fY29uZmlnT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgb3B0aW9ucy50cmFuc2xhdGUgPSBbIG9wdGlvbnMueCwgb3B0aW9ucy55IF07CiAgICBvcHRpb25zLmdsb2JhbEFscGhhID0gb3B0aW9ucy5vcGFjaXR5IC8gMTAwOwoKICAgIG9wdGlvbnMucG9pbnRzID0gWyBbIDAsIDAgXSwgWyBvcHRpb25zLndpZHRoLCAwIF0sIFsgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQgXSwgWyAwLCBvcHRpb25zLmhlaWdodCBdIF07CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIENvbnZlcnRlZCBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5pbWFnZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNyZWF0ZSBhbiBpbWFnZSBvYmplY3QuIEluaGVyaXRzIGFsbCBtZXRob2RzIGZyb20gPGI+RmFjYWRlLkVudGl0eTwvYj4uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+c291cmNlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Mb2NhbCBpbWFnZSBmaWxlIG9yIHJlZmVyZW5jZSB0byBhbiBIVE1MIGltYWdlIGVsZW1lbnQuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB0byBjcmVhdGUgdGhlIGltYWdlIHdpdGguPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy54PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WCBjb29yZGluYXRlIHRvIHBvc2l0aW9uIGFuIGltYWdlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlkgY29vcmRpbmF0ZSB0byBwb3NpdGlvbiBhbiBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmFuY2hvcjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UG9zaXRpb24gdG8gYW5jaG9yIHRoZSBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+ICJ0b3AvbGVmdCI8YnI+PHVsPjxsaT50b3AvbGVmdDwvbGk+PGxpPnRvcC9jZW50ZXI8L2xpPjxsaT50b3AvcmlnaHQ8L2xpPjxsaT5jZW50ZXIvbGVmdDwvbGk+PGxpPmNlbnRlcjwvbGk+PGxpPmNlbnRlci9yaWdodDwvbGk+PGxpPmJvdHRvbS9sZWZ0PC9saT48bGk+Ym90dG9tL2NlbnRlcjwvbGk+PGxpPmJvdHRvbS9yaWdodDwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnJvdGF0ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRlZ3JlZXMgdG8gcm90YXRlIHRoZSBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnNjYWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QSBmbG9hdCByZXByZXNlbnRpbmcgdGhlIHNjYWxlIG9mIGFuIGltYWdlLiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMud2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XaWR0aCBvZiB0aGUgaW1hZ2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5oZWlnaHQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5IZWlnaHQgb2YgdGhlIGltYWdlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMudGlsZVg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5OdW1iZXIgb2YgdGltZXMgdG8gdGlsZSB0aGUgaW1hZ2UgaG9yaXpvbnRhbGx5LiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMudGlsZVk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5OdW1iZXIgb2YgdGltZXMgdG8gdGlsZSB0aGUgaW1hZ2UgdmVydGljYWxseS4gPGk+RGVmYXVsdDo8L2k+IDE8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLm9mZnNldFg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TdGFydGluZyBYIGNvb3JkaW5hdGUgd2l0aGluIHRoZSBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLm9mZnNldFk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TdGFydGluZyBZIGNvb3JkaW5hdGUgd2l0aGluIHRoZSBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmZyYW1lczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkFycmF5PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BcnJheSBvZiBmcmFtZSBudW1iZXJzIChpbnRlZ2VycyBzdGFydGluZyBhdCAwKSBmb3Igc3ByaXRlIGFuaW1hdGlvbi4gPGk+RGVmYXVsdDo8L2k+IFswXTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc3BlZWQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TcGVlZCBvZiBzcHJpdGUgYW5pbWF0aW9uLiA8aT5EZWZhdWx0OjwvaT4gMTIwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5sb29wPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+Qm9vbGVhbjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RGV0ZXJtaW5lcyBpZiB0aGUgYW5pbWF0aW9uIHNob3VsZCBsb29wLiA8aT5EZWZhdWx0OjwvaT4gdHJ1ZTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuY2FsbGJhY2s8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5GdW5jdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RnVuY3Rpb24gY2FsbGVkIGZvciBldmVyeSBmcmFtZSBvZiBhIHNwcml0ZSBhbmltYXRpb24uIDxpPkRlZmF1bHQ6PC9pPiBgZnVuY3Rpb24gKGZyYW1lKSB7IH07YDwvcD4KCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icHJvcGVydGllcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UHJvcGVydGllczwvaDM+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5pbWFnZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVmZXJlbmNlIHRvIHRoZSBpbWFnZSBlbGVtZW50LjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmFuaW1hdGluZzwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkJvb2xlYW48L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkJvb2xlYW4gc3RhdGUgb2YgdGhlIGFuaW1hdGlvbi48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5jdXJyZW50RnJhbWU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXJyZW50IGZyYW1lIG9mIGFuaW1hdGlvbi48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT52YXIgaW1hZ2UgPSBuZXcgRmFjYWRlLkltYWdlKCYjMzk7aW1hZ2VzL3Nwcml0ZS5wbmcmIzM5OywgewogICAgeDogMCwKICAgIHk6IDAsCiAgICB3aWR0aDogMTAwLAogICAgaGVpZ2h0OiAyMDAsCiAgICBhbmNob3I6ICYjMzk7dG9wL2xlZnQmIzM5Owp9KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlID0gZnVuY3Rpb24gKGltZywgb3B0aW9ucykgewoKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuSW1hZ2UpKSB7CgogICAgICAgIHJldHVybiBuZXcgRmFjYWRlLkltYWdlKGltZywgb3B0aW9ucyk7CgogICAgfQoKICAgIHRoaXMuX29wdGlvbnMgPSB0aGlzLl9kZWZhdWx0T3B0aW9ucyh7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgIHRpbGVYOiAxLAogICAgICAgIHRpbGVZOiAxLAogICAgICAgIG9mZnNldFg6IDAsCiAgICAgICAgb2Zmc2V0WTogMCwKICAgICAgICBmcmFtZXM6IFswXSwKICAgICAgICBzcGVlZDogMTIwLAogICAgICAgIGxvb3A6IHRydWUsCiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfQogICAgfSk7CiAgICB0aGlzLl9tZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKTsKCiAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlOwogICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKCiAgICB0aGlzLmxvYWQoaW1nKTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBOZXcgRmFjYWRlLkltYWdlIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUubG9hZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5sb2FkIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2UubG9hZCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TG9hZHMgZWl0aGVyIGEgcmVmZXJlbmNlIHRvIGFuIGltYWdlIHRhZyBvciBhbiBpbWFnZSBVUkwgaW50byBhIEZhY2FkZS5JbWFnZSBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+c291cmNlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIHJlZmVyZW5jZSB0byBhbiBpbWFnZSB0YWcgb3IgYW4gaW1hZ2UgVVJMLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coaW1hZ2UubG9hZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCYjMzk7aW1nJiMzOTspKSk7CmNvbnNvbGUubG9nKGltYWdlLmxvYWQoJiMzOTtpbWFnZXMvc3ByaXRlLnBuZyYjMzk7KSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuSW1hZ2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoc291cmNlKSB7CgogICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICYjeDI3O29iamVjdCYjeDI3OyAmYW1wOyZhbXA7IHNvdXJjZS5ub2RlVHlwZSA9PT0gMSkgewoKICAgICAgICB0aGlzLmltYWdlID0gc291cmNlOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCYjeDI3O2ltZyYjeDI3Oyk7CiAgICAgICAgdGhpcy5pbWFnZS5zZXRBdHRyaWJ1dGUoJiN4Mjc7c3JjJiN4Mjc7LCBzb3VyY2UpOwoKICAgIH0KCiAgICBpZiAodGhpcy5pbWFnZS5jb21wbGV0ZSkgewoKICAgICAgICB0aGlzLl9zZXRNZXRyaWNzKCk7CgogICAgfSBlbHNlIHsKCiAgICAgICAgdGhpcy5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCYjeDI3O2xvYWQmI3gyNzssIHRoaXMuX3NldE1ldHJpY3MuYmluZCh0aGlzLCBudWxsKSk7CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT52b2lkPC9jb2RlPiAgPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5wbGF5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnBsYXkiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5JbWFnZS5wbGF5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TdGFydHMgYW4gaW1hZ2Ugc3ByaXRlIGFuaW1hdGlvbi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPiBpbWFnZS5wbGF5KCk7PC9wPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuSW1hZ2UucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7CgogICAgdGhpcy5hbmltYXRpbmcgPSB0cnVlOwoKICAgIHJldHVybiB0aGlzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRmFjYWRlLmpzIGltYWdlIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnBhdXNlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnBhdXNlIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2UucGF1c2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBhdXNlcyBhbiBpbWFnZSBzcHJpdGUgYW5pbWF0aW9uLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+IGltYWdlLnBhdXNlKCk7PC9wPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuSW1hZ2UucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkgewoKICAgIHRoaXMuYW5pbWF0aW5nID0gZmFsc2U7CgogICAgcmV0dXJuIHRoaXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBGYWNhZGUuanMgaW1hZ2Ugb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUucmVzZXQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUucmVzZXQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5JbWFnZS5yZXNldCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVzZXRzIGFuIGltYWdlIHNwcml0ZSBhbmltYXRpb24gdG8gdGhlIGZpcnN0IGZyYW1lLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+IGltYWdlLnJlc2V0KCk7PC9wPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuSW1hZ2UucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoKICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsKCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBpbWFnZSBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5zdG9wIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnN0b3AiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5JbWFnZS5zdG9wKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TdG9wcyBhbmQgcmVzZXRzIGFuIGltYWdlIHNwcml0ZSBhbmltYXRpb24uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4gaW1hZ2Uuc3RvcCgpOzwvcD4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkgewoKICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsKCiAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlOwoKICAgIHJldHVybiB0aGlzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRmFjYWRlLmpzIGltYWdlIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkltYWdlLl9jb25maWdPcHRpb25zKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gY29uZmlndXJhdGlvbiBmb3Igb3B0aW9ucyBzcGVjaWZpYyB0byBhIGltYWdlIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db21wbGV0ZSBzZXQgb2YgaW1hZ2Ugc3BlY2lmaWMgb3B0aW9ucy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGltYWdlLl9jb25maWdPcHRpb25zKG9wdGlvbnMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5JbWFnZS5wcm90b3R5cGUuX2NvbmZpZ09wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIG9wdGlvbnMudHJhbnNsYXRlID0gWyBvcHRpb25zLngsIG9wdGlvbnMueSBdOwoKICAgIGlmICh0aGlzLmltYWdlICZhbXA7JmFtcDsgdGhpcy5pbWFnZS5jb21wbGV0ZSkgewoKICAgICAgICBpZiAoIW9wdGlvbnMud2lkdGgpIHsKCiAgICAgICAgICAgIG9wdGlvbnMud2lkdGggPSB0aGlzLmltYWdlLndpZHRoOwoKICAgICAgICB9CgogICAgICAgIGlmICghb3B0aW9ucy5oZWlnaHQpIHsKCiAgICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gdGhpcy5pbWFnZS5oZWlnaHQ7CgogICAgICAgIH0KCiAgICB9CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIENvbnZlcnRlZCBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLl9zZXRtZXRyaWNzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLl9zZXRtZXRyaWNzIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2UuX3NldE1ldHJpY3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldCBtZXRyaWNzIGJhc2VkIG9uIHRoZSBpbWFnZSYjMzk7cyBvcHRpb25zLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnVwZGF0ZWQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBvcHRpb25zIHVzZWQgdG8gcmVuZGVyIHRoZSBpbWFnZS48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGltYWdlLl9zZXRNZXRyaWNzKCkpOwpjb25zb2xlLmxvZyhpbWFnZS5fc2V0TWV0cmljcyh1cGRhdGVkKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuSW1hZ2UucHJvdG90eXBlLl9zZXRNZXRyaWNzID0gZnVuY3Rpb24gKHVwZGF0ZWQpIHsKCiAgICB2YXIgbWV0cmljcyA9IHRoaXMuX2RlZmF1bHRNZXRyaWNzKCksCiAgICAgICAgb3B0aW9ucyA9IHVwZGF0ZWQgfHwgdGhpcy5nZXRBbGxPcHRpb25zKCksCiAgICAgICAgYW5jaG9yOwoKICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnT3B0aW9ucyA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgb3B0aW9ucyA9IHRoaXMuX2NvbmZpZ09wdGlvbnMob3B0aW9ucyk7CgogICAgfQoKICAgIG1ldHJpY3Mud2lkdGggPSBvcHRpb25zLndpZHRoICogb3B0aW9ucy50aWxlWCAqIG9wdGlvbnMuc2NhbGU7CiAgICBtZXRyaWNzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy50aWxlWSAqIG9wdGlvbnMuc2NhbGU7CgogICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yUG9pbnQob3B0aW9ucywgbWV0cmljcyk7CgogICAgbWV0cmljcy54ID0gb3B0aW9ucy54ICsgYW5jaG9yWzBdOwogICAgbWV0cmljcy55ID0gb3B0aW9ucy55ICsgYW5jaG9yWzFdOwoKICAgIGlmICghdXBkYXRlZCkgewoKICAgICAgICB0aGlzLl9tZXRyaWNzID0gbWV0cmljczsKCiAgICB9CgogICAgcmV0dXJuIG1ldHJpY3M7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE9iamVjdCB3aXRoIG1ldHJpY3MgYXMga2V5LXZhbHVlIHBhaXJzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLl9kcmF3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLl9kcmF3IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2UuX2RyYXcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlbmRlcnMgYW4gaW1hZ2UgZW50aXR5IHRvIGEgY2FudmFzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmZhY2FkZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcHRpb25zIHVzZWQgdG8gcmVuZGVyIHRoZSBpbWFnZS48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5tZXRyaWNzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5NZXRyaWNzIHVzZWQgdG8gcmVuZGVyIHRoZSBpbWFnZS48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmltYWdlLl9kcmF3KGZhY2FkZSwgb3B0aW9ucywgbWV0cmljcyk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlLnByb3RvdHlwZS5fZHJhdyA9IGZ1bmN0aW9uIChmYWNhZGUsIG9wdGlvbnMsIG1ldHJpY3MpIHsKCiAgICB2YXIgY29udGV4dCA9IGZhY2FkZS5jb250ZXh0LAogICAgICAgIGN1cnJlbnRPZmZzZXRYID0gb3B0aW9ucy5vZmZzZXRYLAogICAgICAgIGN1cnJlbnRPZmZzZXRZID0gb3B0aW9ucy5vZmZzZXRZLAogICAgICAgIGN1cnJlbnRXaWR0aCA9IG9wdGlvbnMud2lkdGgsCiAgICAgICAgY3VycmVudEhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LAogICAgICAgIG9yaWdpbmFsV2lkdGggPSB0aGlzLmltYWdlLndpZHRoLAogICAgICAgIG9yaWdpbmFsSGVpZ2h0ID0gdGhpcy5pbWFnZS5oZWlnaHQsCiAgICAgICAgeCwKICAgICAgICB5OwoKICAgIGlmICh0aGlzLmltYWdlLmNvbXBsZXRlKSB7CgogICAgICAgIHRoaXMuX2FwcGx5VHJhbnNmb3Jtcyhjb250ZXh0LCBvcHRpb25zLCBtZXRyaWNzKTsKCiAgICAgICAgaWYgKG9wdGlvbnMuZnJhbWVzLmxlbmd0aCkgewoKICAgICAgICAgICAgY3VycmVudE9mZnNldFggKz0gb3B0aW9ucy5mcmFtZXNbdGhpcy5jdXJyZW50RnJhbWVdICogb3B0aW9ucy53aWR0aDsKCiAgICAgICAgICAgIGlmIChjdXJyZW50T2Zmc2V0WCArIG9wdGlvbnMud2lkdGggJmd0OyBvcmlnaW5hbFdpZHRoKSB7CgogICAgICAgICAgICAgICAgY3VycmVudE9mZnNldFkgKz0gTWF0aC5mbG9vcihjdXJyZW50T2Zmc2V0WCAvIG9yaWdpbmFsV2lkdGgpICogb3B0aW9ucy5oZWlnaHQ7CgogICAgICAgICAgICAgICAgY3VycmVudE9mZnNldFggPSBjdXJyZW50T2Zmc2V0WCAlIG9yaWdpbmFsV2lkdGg7CgogICAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgICAgaWYgKGN1cnJlbnRPZmZzZXRYICsgY3VycmVudFdpZHRoICZndDsgb3JpZ2luYWxXaWR0aCkgewoKICAgICAgICAgICAgY3VycmVudFdpZHRoID0gY3VycmVudE9mZnNldFggKyBjdXJyZW50V2lkdGggLSBvcmlnaW5hbFdpZHRoOwoKICAgICAgICB9CgogICAgICAgIGlmIChjdXJyZW50T2Zmc2V0WSArIGN1cnJlbnRIZWlnaHQgJmd0OyBvcmlnaW5hbEhlaWdodCkgewoKICAgICAgICAgICAgY3VycmVudEhlaWdodCA9IGN1cnJlbnRPZmZzZXRZICsgY3VycmVudEhlaWdodCAtIG9yaWdpbmFsSGVpZ2h0OwoKICAgICAgICB9CgogICAgICAgIGZvciAoeCA9IDA7IHggJmx0OyBvcHRpb25zLnRpbGVYOyB4ICs9IDEpIHsKCiAgICAgICAgICAgIGZvciAoeSA9IDA7IHkgJmx0OyBvcHRpb25zLnRpbGVZOyB5ICs9IDEpIHsKCiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSgKICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXRYLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXRZLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaWR0aCwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50SGVpZ2h0LAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMud2lkdGggKiB4LAogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0ICogeSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2lkdGgsCiAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlaWdodAogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5hbmltYXRpbmcpIHsKCiAgICAgICAgICAgIGlmICghdGhpcy5mdGltZSB8fCBmYWNhZGUuZnRpbWUgLSB0aGlzLmZ0aW1lICZndDs9IG9wdGlvbnMuc3BlZWQpIHsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5mdGltZSkgewoKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSArPSAxOwoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmZ0aW1lID0gZmFjYWRlLmZ0aW1lOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRGcmFtZSAmZ3Q7PSBvcHRpb25zLmZyYW1lcy5sZW5ndGgpIHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9vcCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwOwoKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSBvcHRpb25zLmZyYW1lcy5sZW5ndGggLSAxOwoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjay5jYWxsKHRoaXMsIG9wdGlvbnMuZnJhbWVzW3RoaXMuY3VycmVudEZyYW1lXSk7CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS50ZXh0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUudGV4dCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlRleHQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNyZWF0ZSBhIHRleHQgb2JqZWN0LiBJbmhlcml0cyBhbGwgbWV0aG9kcyBmcm9tIDxiPkZhY2FkZS5FbnRpdHk8L2I+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnZhbHVlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5WYWx1ZSBvZiB0aGUgdGV4dCBvYmplY3QuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB0byBjcmVhdGUgdGhlIHRleHQgZW50aXR5IHdpdGguPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy54PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WCBjb29yZGluYXRlIHRvIHBvc2l0aW9uIGEgdGV4dCBvYmplY3QuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy55PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WSBjb29yZGluYXRlIHRvIHBvc2l0aW9uIGEgdGV4dCBvYmplY3QuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5hbmNob3I8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBvc2l0aW9uIHRvIGFuY2hvciB0aGUgdGV4dCBvYmplY3QuIDxpPkRlZmF1bHQ6PC9pPiAidG9wL2xlZnQiPGJyPjx1bD48bGk+dG9wL2xlZnQ8L2xpPjxsaT50b3AvY2VudGVyPC9saT48bGk+dG9wL3JpZ2h0PC9saT48bGk+Y2VudGVyL2xlZnQ8L2xpPjxsaT5jZW50ZXI8L2xpPjxsaT5jZW50ZXIvcmlnaHQ8L2xpPjxsaT5ib3R0b20vbGVmdDwvbGk+PGxpPmJvdHRvbS9jZW50ZXI8L2xpPjxsaT5ib3R0b20vcmlnaHQ8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5yb3RhdGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5EZWdyZWVzIHRvIHJvdGF0ZSB0aGUgdGV4dCBvYmplY3QuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zY2FsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBzY2FsZSBvZiBhIHRleHQgb2JqZWN0LiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMub3BhY2l0eTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wYWNpdHkgb2YgdGhlIHRleHQgb2JqZWN0LiBJbnRlZ2VyIGJldHdlZW4gMCBhbmQgMTAwLiA8aT5EZWZhdWx0OjwvaT4gMTAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy53aWR0aDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk1heCB3aWR0aCBvZiB0aGUgdGV4dCBvYmplY3QuIFdpbGwgY2F1c2UgdGV4dCB0byB3cmFwIG9udG8gYSBuZXcgbGluZSBpZiBuZWNlc3NhcnkuIE5vIHdyYXBwaW5nIHdpbGwgb2NjdXIgaWYgdGhlIHZhbHVlIGlzIHNldCB0byAwLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuZm9udEZhbWlseTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0cyB0aGUgZm9udCBmYW1pbHkgb2YgdGhlIHRleHQuIE9ubHkgb25lIGZvbnQgY2FuIGJlIHNwZWNpZmllZCBhdCBhIHRpbWUuIDxpPkRlZmF1bHQ6PC9pPiAiQXJpYWwiPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5mb250U3R5bGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZvbnQgc3R5bGUgb2YgdGhlIHRleHQuIDxpPkRlZmF1bHQ6PC9pPiAibm9ybWFsIjxicj48dWw+PGxpPm5vcm1hbDwvbGk+PGxpPmJvbGQ8L2xpPjxsaT5pdGFsaWM8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5mb250U2l6ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZvbnQgc2l6ZSBpbiBwaXhlbHMuIDxpPkRlZmF1bHQ6PC9pPiAzMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZUhlaWdodDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TGluZSBoZWlnaHQgb2YgdGhlIHRleHQuIDxpPkRlZmF1bHQ6PC9pPiAxPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy50ZXh0QWxpZ25tZW50PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Ib3Jpem9udGFsIGFsaWdubWVudCBvZiB0aGUgdGV4dC4gPGk+RGVmYXVsdDo8L2k+ICJsZWZ0Ijxicj48dWw+PGxpPmxlZnQ8L2xpPjxsaT5jZW50ZXI8L2xpPjxsaT5yaWdodDwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnRleHRCYXNlbGluZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QmFzZWxpbmUgdG8gc2V0IHRoZSB2ZXJ0aWNhbCBhbGlnbm1lbnQgb2YgdGhlIHRleHQgZHJhd24uIDxpPkRlZmF1bHQ6PC9pPiAidG9wIjxicj48dWw+PGxpPnRvcDwvbGk+PGxpPmhhbmdpbmc8L2xpPjxsaT5taWRkbGU8L2xpPjxsaT5hbHBoYWJldGljPC9saT48bGk+aWRlb2dyYXBoaWM8L2xpPjxsaT5ib3R0b208L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5maWxsU3R5bGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZpbGwgY29sb3IgZm9yIHRoZSB0ZXh0IG9iamVjdC4gQ2FuIGJlIGEgdGV4dCByZXByZXNlbnRhdGlvbiBvZiBhIGNvbG9yLCBIRVgsIFJHQihhKSwgSFNMKGEpLiA8aT5EZWZhdWx0OjwvaT4gIiMwMDAiPGJyPjx1bD48bGk+SFRNTCBDb2xvcnM6IHJlZCwgZ3JlZW4sIGJsdWUsIGV0Yy48L2xpPjxsaT5IRVg6ICNmMDAsICNmZjAwMDA8L2xpPjxsaT5SR0IoYSk6IHJnYigyNTUsIDAsIDApLCByZ2JhKDAsIDI1NSwgMCwgMC41KTwvbGk+PGxpPkhTTChhKTogaHNsKDEwMCwgMTAwJSwgNTAlKSwgaHNsYSgxMDAsIDEwMCUsIDUwJSwgMC41KTwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnN0cm9rZVN0eWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db2xvciBvZiBhIHRleHQgb2JqZWN0J3Mgc3Ryb2tlLiBDYW4gYmUgYSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IsIEhFWCwgUkdCKGEpLCBIU0woYSkuIDxpPkRlZmF1bHQ6PC9pPiAiIzAwMCI8YnI+PHVsPjxsaT5IVE1MIENvbG9yczogcmVkLCBncmVlbiwgYmx1ZSwgZXRjLjwvbGk+PGxpPkhFWDogI2YwMCwgI2ZmMDAwMDwvbGk+PGxpPlJHQihhKTogcmdiKDI1NSwgMCwgMCksIHJnYmEoMCwgMjU1LCAwLCAwLjUpPC9saT48bGk+SFNMKGEpOiBoc2woMTAwLCAxMDAlLCA1MCUpLCBoc2xhKDEwMCwgMTAwJSwgNTAlLCAwLjUpPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZVdpZHRoPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+V2lkdGggb2YgdGhlIHN0cm9rZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icHJvcGVydGllcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UHJvcGVydGllczwvaDM+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnZhbHVlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXJyZW50IHZhbHVlIG9mIHRoZSB0ZXh0IG9iamVjdC48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT52YXIgdGV4dCA9IG5ldyBGYWNhZGUuVGV4dCgmIzM5O0hlbGxvIFdvcmxkISYjMzk7LCB7CiAgICB4OiAwLAogICAgeTogMCwKICAgIGZvbnRGYW1pbHk6ICYjMzk7SGVsdmV0aWNhJiMzOTssCiAgICBmb250U2l6ZTogNDAsCiAgICBmaWxsU3R5bGU6ICYjMzk7IzMzMyYjMzk7LAogICAgYW5jaG9yOiAmIzM5O3RvcC9sZWZ0JiMzOTsKfSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuVGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykgewoKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuVGV4dCkpIHsKCiAgICAgICAgcmV0dXJuIG5ldyBGYWNhZGUuVGV4dCh2YWx1ZSwgb3B0aW9ucyk7CgogICAgfQoKICAgIHRoaXMuX29wdGlvbnMgPSB0aGlzLl9kZWZhdWx0T3B0aW9ucyh7CiAgICAgICAgb3BhY2l0eTogMTAwLAogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGZvbnRGYW1pbHk6ICYjeDI3O0FyaWFsJiN4Mjc7LAogICAgICAgIGZvbnRTdHlsZTogJiN4Mjc7bm9ybWFsJiN4Mjc7LAogICAgICAgIGZvbnRTaXplOiAxNiwKICAgICAgICBsaW5lSGVpZ2h0OiAxLAogICAgICAgIHRleHRBbGlnbm1lbnQ6ICYjeDI3O2xlZnQmI3gyNzssCiAgICAgICAgdGV4dEJhc2VsaW5lOiAmI3gyNzt0b3AmI3gyNzssCiAgICAgICAgZmlsbFN0eWxlOiAmI3gyNzsjMDAwJiN4Mjc7LAogICAgICAgIHN0cm9rZVN0eWxlOiAmI3gyNzsjMDAwJiN4Mjc7LAogICAgICAgIGxpbmVXaWR0aDogMAogICAgfSk7CiAgICB0aGlzLl9tZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKTsKCiAgICB0aGlzLl9tYXhMaW5lV2lkdGggPSAwOwoKICAgIHRoaXMuX2xpbmVzID0gW107CgogICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwoKICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CgogICAgICAgIHRoaXMuc2V0VGV4dCh2YWx1ZSk7CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBOZXcgRmFjYWRlLlRleHQgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLnNldHRleHQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5zZXR0ZXh0IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuVGV4dC5zZXRUZXh0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TZXRzIHRoZSB0ZXh0IGVudGl0aWVzIHZhbHVlLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnZhbHVlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgbmV3IHZhbHVlIG9mIHRoZSB0ZXh0IGVudGl0eS48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHRleHQuc2V0VGV4dCgmIzM5O0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0JiMzOTspKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5UZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CgogICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldEFsbE9wdGlvbnMoKSwKICAgICAgICB3b3JkcyA9IFtdLAogICAgICAgIGN1cnJlbnRXb3JkID0gbnVsbCwKICAgICAgICBjdXJyZW50TGluZSA9ICYjeDI3OyYjeDI3OywKICAgICAgICBjdXJyZW50TGluZVdpZHRoID0gMCwKICAgICAgICBpLAogICAgICAgIGxlbmd0aDsKCiAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgogICAgdGhpcy5fbWF4TGluZVdpZHRoID0gb3B0aW9ucy53aWR0aDsKCiAgICB0aGlzLl9saW5lcyA9IFtdOwoKICAgIGlmICh2YWx1ZSkgewoKICAgICAgICB3b3JkcyA9IFN0cmluZyh2YWx1ZSkubWF0Y2goL1xufFtcU10rID8vZyk7CgogICAgfQoKICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnT3B0aW9ucyA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgb3B0aW9ucyA9IHRoaXMuX2NvbmZpZ09wdGlvbnMob3B0aW9ucyk7CgogICAgfQoKICAgIF9jb250ZXh0LnNhdmUoKTsKCiAgICBfY29udGV4dC5mb250ID0gb3B0aW9ucy5mb250OwoKICAgIHdoaWxlICh3b3Jkcy5sZW5ndGgpIHsKCiAgICAgICAgY3VycmVudFdvcmQgPSB3b3Jkcy5zaGlmdCgpOwogICAgICAgIGN1cnJlbnRMaW5lV2lkdGggPSBfY29udGV4dC5tZWFzdXJlVGV4dChjdXJyZW50TGluZSArIGN1cnJlbnRXb3JkLnJlcGxhY2UoL1xzJC8sICYjeDI3OyYjeDI3OykpLndpZHRoOwoKICAgICAgICBpZiAoKG9wdGlvbnMud2lkdGggJmd0OyAwICZhbXA7JmFtcDsgY3VycmVudExpbmVXaWR0aCAmZ3Q7IG9wdGlvbnMud2lkdGgpIHx8IGN1cnJlbnRXb3JkLm1hdGNoKC9cbi8pKSB7CgogICAgICAgICAgICB0aGlzLl9saW5lcy5wdXNoKFtjdXJyZW50TGluZS5yZXBsYWNlKC9ccyQvLCAmI3gyNzsmI3gyNzspLCAwLCB0aGlzLl9saW5lcy5sZW5ndGggKiAob3B0aW9ucy5mb250U2l6ZSAqIG9wdGlvbnMubGluZUhlaWdodCldKTsKCiAgICAgICAgICAgIGN1cnJlbnRMaW5lID0gY3VycmVudFdvcmQucmVwbGFjZSgvXG4vLCAmI3gyNzsmI3gyNzspOwoKICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgY3VycmVudExpbmUgPSBjdXJyZW50TGluZSArIGN1cnJlbnRXb3JkOwoKICAgICAgICAgICAgaWYgKGN1cnJlbnRMaW5lV2lkdGggJmd0OyB0aGlzLl9tYXhMaW5lV2lkdGgpIHsKCiAgICAgICAgICAgICAgICB0aGlzLl9tYXhMaW5lV2lkdGggPSBjdXJyZW50TGluZVdpZHRoOwoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgfQoKICAgIHRoaXMuX2xpbmVzLnB1c2goW2N1cnJlbnRMaW5lLnJlcGxhY2UoL1xzJC8sICYjeDI3OyYjeDI3OyksIDAsIHRoaXMuX2xpbmVzLmxlbmd0aCAqIChvcHRpb25zLmZvbnRTaXplICogb3B0aW9ucy5saW5lSGVpZ2h0KV0pOwoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHRoaXMuX2xpbmVzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgIGN1cnJlbnRMaW5lV2lkdGggPSBfY29udGV4dC5tZWFzdXJlVGV4dCh0aGlzLl9saW5lc1tpXVswXSkud2lkdGg7CgogICAgICAgIGlmIChvcHRpb25zLnRleHRBbGlnbm1lbnQgPT09ICYjeDI3O2NlbnRlciYjeDI3OykgewoKICAgICAgICAgICAgdGhpcy5fbGluZXNbaV1bMV0gPSAodGhpcy5fbWF4TGluZVdpZHRoIC0gY3VycmVudExpbmVXaWR0aCkgLyAyOwoKICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudGV4dEFsaWdubWVudCA9PT0gJiN4Mjc7cmlnaHQmI3gyNzspIHsKCiAgICAgICAgICAgIHRoaXMuX2xpbmVzW2ldWzFdID0gdGhpcy5fbWF4TGluZVdpZHRoIC0gY3VycmVudExpbmVXaWR0aDsKCiAgICAgICAgfQoKICAgIH0KCiAgICBfY29udGV4dC5yZXN0b3JlKCk7CgogICAgdGhpcy5fc2V0TWV0cmljcygpOwoKICAgIHJldHVybiB0aGlzLl9saW5lczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+QXJyYXk8L2NvZGU+ICBBbiBhcnJheSBvZiBsaW5lcyBhbmQgdGhlIHBvc2l0aW9uIHRvIHJlbmRlciB1c2luZyA8YSBocmVmPSJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0RyYXdpbmdfdGV4dF91c2luZ19hX2NhbnZhcyNmaWxsVGV4dCgpIj5maWxsVGV4dCgpPC9hPiBhbmQgPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9EcmF3aW5nX3RleHRfdXNpbmdfYV9jYW52YXMjc3Ryb2tlVGV4dCgpIj5zdHJva2VUZXh0KCk8L2E+LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUudGV4dC5wcm90b3R5cGUuX2RyYXciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5fZHJhdyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlRleHQuX2RyYXcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlbmRlcnMgYSB0ZXh0IGVudGl0eSB0byBhIGNhbnZhcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5mYWNhZGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB1c2VkIHRvIHJlbmRlciB0aGUgdGV4dCBlbnRpdHkuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TWV0cmljcyB1c2VkIHRvIHJlbmRlciB0aGUgdGV4dCBlbnRpdHkuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT50ZXh0Ll9kcmF3KGZhY2FkZSwgb3B0aW9ucywgbWV0cmljcyk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlRleHQucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24gKGZhY2FkZSwgb3B0aW9ucywgbWV0cmljcykgewoKICAgIHZhciBjb250ZXh0ID0gZmFjYWRlLmNvbnRleHQsCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgdGhpcy5fYXBwbHlUcmFuc2Zvcm1zKGNvbnRleHQsIG9wdGlvbnMsIG1ldHJpY3MpOwoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHRoaXMuX2xpbmVzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgIGlmIChvcHRpb25zLmZpbGxTdHlsZSkgewoKICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dC5hcHBseShjb250ZXh0LCB0aGlzLl9saW5lc1tpXSk7CgogICAgICAgIH0KCiAgICAgICAgaWYgKG9wdGlvbnMubGluZVdpZHRoKSB7CgogICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQuYXBwbHkoY29udGV4dCwgdGhpcy5fbGluZXNbaV0pOwoKICAgICAgICB9CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUudGV4dC5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlRleHQuX2NvbmZpZ09wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBjb25maWd1cmF0aW9uIGZvciBvcHRpb25zIHNwZWNpZmljIHRvIGEgdGV4dCBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29tcGxldGUgc2V0IG9mIHRleHQgc3BlY2lmaWMgb3B0aW9ucy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHRleHQuX2NvbmZpZ09wdGlvbnMob3B0aW9ucykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlRleHQucHJvdG90eXBlLl9jb25maWdPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCiAgICBvcHRpb25zLnRyYW5zbGF0ZSA9IFsgb3B0aW9ucy54LCBvcHRpb25zLnkgXTsKICAgIG9wdGlvbnMuZ2xvYmFsQWxwaGEgPSBvcHRpb25zLm9wYWNpdHkgLyAxMDA7CiAgICBvcHRpb25zLmZvbnQgPSBvcHRpb25zLmZvbnRTdHlsZSArICYjeDI3OyAmI3gyNzsgKyBwYXJzZUludChvcHRpb25zLmZvbnRTaXplLCAxMCkgKyAmI3gyNztweCAmI3gyNzsgKyBvcHRpb25zLmZvbnRGYW1pbHk7CgogICAgaWYgKG9wdGlvbnMud2lkdGggPT09IDApIHsKCiAgICAgICAgb3B0aW9ucy53aWR0aCA9IHRoaXMuX21heExpbmVXaWR0aDsKCiAgICB9CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIENvbnZlcnRlZCBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUudGV4dC5wcm90b3R5cGUuX3NldG1ldHJpY3MiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5fc2V0bWV0cmljcyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlRleHQuX3NldE1ldHJpY3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldCBtZXRyaWNzIGJhc2VkIG9uIHRoZSB0ZXh0JiMzOTtzIG9wdGlvbnMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dXBkYXRlZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VzdG9tIG9wdGlvbnMgdXNlZCB0byByZW5kZXIgdGhlIHRleHQgZW50aXR5LjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2codGV4dC5fc2V0TWV0cmljcygpKTsKY29uc29sZS5sb2codGV4dC5fc2V0TWV0cmljcyh1cGRhdGVkKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuVGV4dC5wcm90b3R5cGUuX3NldE1ldHJpY3MgPSBmdW5jdGlvbiAodXBkYXRlZCkgewoKICAgIHZhciBtZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKSwKICAgICAgICBvcHRpb25zID0gdXBkYXRlZCB8fCB0aGlzLmdldEFsbE9wdGlvbnMoKSwKICAgICAgICBhbmNob3I7CgogICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWdPcHRpb25zID09PSAmI3gyNztmdW5jdGlvbiYjeDI3OykgewoKICAgICAgICBvcHRpb25zID0gdGhpcy5fY29uZmlnT3B0aW9ucyhvcHRpb25zKTsKCiAgICB9CgogICAgaWYgKHRoaXMuX2xpbmVzKSB7CgogICAgICAgIG1ldHJpY3Mud2lkdGggPSBvcHRpb25zLndpZHRoICogb3B0aW9ucy5zY2FsZTsKICAgICAgICBtZXRyaWNzLmhlaWdodCA9IHRoaXMuX2xpbmVzLmxlbmd0aCAqIChvcHRpb25zLmZvbnRTaXplICogb3B0aW9ucy5saW5lSGVpZ2h0KSAqIG9wdGlvbnMuc2NhbGU7CgogICAgfQoKICAgIGFuY2hvciA9IHRoaXMuX2dldEFuY2hvclBvaW50KG9wdGlvbnMsIG1ldHJpY3MpOwoKICAgIG1ldHJpY3MueCA9IG9wdGlvbnMueCArIGFuY2hvclswXTsKICAgIG1ldHJpY3MueSA9IG9wdGlvbnMueSArIGFuY2hvclsxXTsKCiAgICBpZiAoIXVwZGF0ZWQpIHsKCiAgICAgICAgdGhpcy5fbWV0cmljcyA9IG1ldHJpY3M7CgogICAgfQoKICAgIHJldHVybiBtZXRyaWNzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBPYmplY3Qgd2l0aCBtZXRyaWNzIGFzIGtleS12YWx1ZSBwYWlycy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkdyb3VwKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGUgYSBncm91cCBvYmplY3QuIEluaGVyaXRzIGFsbCBtZXRob2RzIGZyb20gPGI+RmFjYWRlLkVudGl0eTwvYj4uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB0byBjcmVhdGUgdGhlIGdyb3VwIHdpdGguPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy54PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WCBjb29yZGluYXRlIHRvIHBvc2l0aW9uIGEgZ3JvdXAuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy55PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WSBjb29yZGluYXRlIHRvIHBvc2l0aW9uIGEgZ3JvdXAuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5hbmNob3I8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBvc2l0aW9uIHRvIGFuY2hvciB0aGUgZ3JvdXAuIDxpPkRlZmF1bHQ6PC9pPiAidG9wL2xlZnQiPGJyPjx1bD48bGk+dG9wL2xlZnQ8L2xpPjxsaT50b3AvY2VudGVyPC9saT48bGk+dG9wL3JpZ2h0PC9saT48bGk+Y2VudGVyL2xlZnQ8L2xpPjxsaT5jZW50ZXI8L2xpPjxsaT5jZW50ZXIvcmlnaHQ8L2xpPjxsaT5ib3R0b20vbGVmdDwvbGk+PGxpPmJvdHRvbS9jZW50ZXI8L2xpPjxsaT5ib3R0b20vcmlnaHQ8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5yb3RhdGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5EZWdyZWVzIHRvIHJvdGF0ZSB0aGUgZ3JvdXAuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zY2FsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBzY2FsZSBvZiBhIGdyb3VwLiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+dmFyIGdyb3VwID0gbmV3IEZhY2FkZS5Hcm91cCh7IHg6IDEwMCwgeTogMTAwIH0pOwoKZ3JvdXAuYWRkVG9Hcm91cChwb2x5Z29uKTsKZ3JvdXAuYWRkVG9Hcm91cChjaXJjbGUpOwpncm91cC5hZGRUb0dyb3VwKGxpbmUpOwpncm91cC5hZGRUb0dyb3VwKHJlY3QpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5Hcm91cCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZhY2FkZS5Hcm91cCkpIHsKCiAgICAgICAgcmV0dXJuIG5ldyBGYWNhZGUuR3JvdXAob3B0aW9ucyk7CgogICAgfQoKICAgIHRoaXMuX29wdGlvbnMgPSB0aGlzLl9kZWZhdWx0T3B0aW9ucygpOwogICAgdGhpcy5fbWV0cmljcyA9IHRoaXMuX2RlZmF1bHRNZXRyaWNzKCk7CgogICAgdGhpcy5fb2JqZWN0cyA9IFtdOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE5ldyBGYWNhZGUuR3JvdXAgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuX2RyYXciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuX2RyYXciIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5Hcm91cC5fZHJhdygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVuZGVycyBhIGdyb3VwIG9mIGVudGl0aWVzIHRvIGEgY2FudmFzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmZhY2FkZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcHRpb25zIHVzZWQgdG8gcmVuZGVyIHRoZSBncm91cC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5tZXRyaWNzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5NZXRyaWNzIHVzZWQgdG8gcmVuZGVyIHRoZSBncm91cC48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmdyb3VwLl9kcmF3KHN0YWdlLCBvcHRpb25zLCBtZXRyaWNzKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuR3JvdXAucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24gKGZhY2FkZSwgb3B0aW9ucywgbWV0cmljcykgewoKICAgIHZhciBjb250ZXh0ID0gZmFjYWRlLmNvbnRleHQsCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgdGhpcy5fYXBwbHlUcmFuc2Zvcm1zKGNvbnRleHQsIG9wdGlvbnMsIG1ldHJpY3MpOwoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgZmFjYWRlLmFkZFRvU3RhZ2UodGhpcy5fb2JqZWN0c1tpXSk7CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLl9jb25maWdvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuR3JvdXAuX2NvbmZpZ09wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBjb25maWd1cmF0aW9uIGZvciBvcHRpb25zIHNwZWNpZmljIHRvIGEgZ3JvdXAgZW50aXR5LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNvbXBsZXRlIHNldCBvZiBncm91cCBzcGVjaWZpYyBvcHRpb25zLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coZ3JvdXAuX2NvbmZpZ09wdGlvbnMob3B0aW9ucykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkdyb3VwLnByb3RvdHlwZS5fY29uZmlnT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgb3B0aW9ucy50cmFuc2xhdGUgPSBbIG9wdGlvbnMueCwgb3B0aW9ucy55IF07CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIENvbnZlcnRlZCBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuYWRkdG9ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5hZGR0b2dyb3VwIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuR3JvdXAuYWRkVG9Hcm91cCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QWRkcyBhIEZhY2FkZS5qcyBlbnRpdHkgdG8gYSBncm91cC48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vYmo8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5BcnJheTwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLmpzIGVudGl0eSBvciBhbiBhcnJheSBvZiBlbnRpdGllcy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmdyb3VwLmFkZFRvR3JvdXAoY2lyY2xlKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5Hcm91cC5wcm90b3R5cGUuYWRkVG9Hcm91cCA9IGZ1bmN0aW9uIChvYmopIHsKCiAgICB2YXIgaSwKICAgICAgICBsZW5ndGg7CgogICAgaWYgKG9iaiBpbnN0YW5jZW9mIEZhY2FkZS5FbnRpdHkpIHsKCiAgICAgICAgaWYgKCF0aGlzLmhhc0VudGl0eShvYmopKSB7CgogICAgICAgICAgICB0aGlzLl9vYmplY3RzLnB1c2gob2JqKTsKCiAgICAgICAgICAgIHRoaXMuX3NldE1ldHJpY3MoKTsKCiAgICAgICAgfQoKICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CgogICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICAgICAgdGhpcy5hZGRUb0dyb3VwKG9ialtpXSk7CgogICAgICAgIH0KCiAgICB9IGVsc2UgewoKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJiN4Mjc7T2JqZWN0IHBhc3NlZCB0byBGYWNhZGUuYWRkVG9TdGFnZSBpcyBub3QgYSB2YWxpZCBGYWNhZGUuanMgZW50aXR5LiYjeDI3Oyk7CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT52b2lkPC9jb2RlPiAgPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5oYXNlbnRpdHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuaGFzZW50aXR5IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuR3JvdXAuaGFzRW50aXR5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UZXN0cyB0aGUgZXhpc3RlbmNlIG9mIGFuIGVudGl0eSB3aXRoaW4gYSBncm91cC48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vYmo8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5qcyBlbnRpdHkuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5ncm91cC5hZGRUb0dyb3VwKGNpcmNsZSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuR3JvdXAucHJvdG90eXBlLmhhc0VudGl0eSA9IGZ1bmN0aW9uIChvYmopIHsKCiAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iaikgIT09IC0xOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5Cb29sZWFuPC9jb2RlPiAgQm9vbGVhbiByZXN1bHQgb2YgdGhlIHRlc3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5yZW1vdmVmcm9tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUucmVtb3ZlZnJvbWdyb3VwIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuR3JvdXAucmVtb3ZlRnJvbUdyb3VwKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZW1vdmVzIGEgRmFjYWRlLmpzIGVudGl0eSBmcm9tIGEgZ3JvdXAuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b2JqPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuanMgZW50aXR5LjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Z3JvdXAucmVtb3ZlRnJvbUdyb3VwKGNpcmNsZSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuR3JvdXAucHJvdG90eXBlLnJlbW92ZUZyb21Hcm91cCA9IGZ1bmN0aW9uIChvYmopIHsKCiAgICBpZiAob2JqIGluc3RhbmNlb2YgRmFjYWRlLkVudGl0eSkgewoKICAgICAgICBpZiAodGhpcy5oYXNFbnRpdHkob2JqKSkgewoKICAgICAgICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UodGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iaiksIDEpOwoKICAgICAgICAgICAgdGhpcy5fc2V0TWV0cmljcygpOwoKICAgICAgICB9CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT52b2lkPC9jb2RlPiAgPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuX3NldG1ldHJpY3MiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuX3NldG1ldHJpY3MiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5Hcm91cC5fc2V0TWV0cmljcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0IG1ldHJpY3MgYmFzZWQgb24gdGhlIGdyb3VwcyYjMzk7cyBlbnRpdGllcyBhbmQgb3B0aW9ucy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gb3B0aW9ucyB1c2VkIHRvIHJlbmRlciB0aGUgZ3JvdXAuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhncm91cC5fc2V0TWV0cmljcygpKTsKY29uc29sZS5sb2coZ3JvdXAuX3NldE1ldHJpY3ModXBkYXRlZCkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkdyb3VwLnByb3RvdHlwZS5fc2V0TWV0cmljcyA9IGZ1bmN0aW9uICh1cGRhdGVkKSB7CgogICAgdmFyIG1ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpLAogICAgICAgIG9wdGlvbnMgPSB1cGRhdGVkIHx8IHRoaXMuZ2V0QWxsT3B0aW9ucygpLAogICAgICAgIGJvdW5kcyA9IHsgdG9wOiBudWxsLCByaWdodDogbnVsbCwgYm90dG9tOiBudWxsLCBsZWZ0OiBudWxsIH0sCiAgICAgICAgaSwKICAgICAgICBsZW5ndGgsCiAgICAgICAgYW5jaG9yLAogICAgICAgIG9ial9tZXRyaWNzOwoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgb2JqX21ldHJpY3MgPSB0aGlzLl9vYmplY3RzW2ldLmdldEFsbE1ldHJpY3MoKTsKCiAgICAgICAgaWYgKG9ial9tZXRyaWNzLnggJmx0OyBib3VuZHMubGVmdCB8fCBib3VuZHMubGVmdCA9PT0gbnVsbCkgewoKICAgICAgICAgICAgYm91bmRzLmxlZnQgPSBvYmpfbWV0cmljcy54OwoKICAgICAgICB9CgogICAgICAgIGlmIChvYmpfbWV0cmljcy55ICZsdDsgYm91bmRzLnRvcCB8fCBib3VuZHMudG9wID09PSBudWxsKSB7CgogICAgICAgICAgICBib3VuZHMudG9wID0gb2JqX21ldHJpY3MueTsKCiAgICAgICAgfQoKICAgICAgICBpZiAob2JqX21ldHJpY3MueCArIG9ial9tZXRyaWNzLndpZHRoICZndDsgYm91bmRzLnJpZ2h0IHx8IGJvdW5kcy5yaWdodCA9PT0gbnVsbCkgewoKICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gb2JqX21ldHJpY3MueCArIG9ial9tZXRyaWNzLndpZHRoOwoKICAgICAgICB9CgogICAgICAgIGlmIChvYmpfbWV0cmljcy55ICsgb2JqX21ldHJpY3MuaGVpZ2h0ICZndDsgYm91bmRzLmJvdHRvbSB8fCBib3VuZHMuYm90dG9tID09PSBudWxsKSB7CgogICAgICAgICAgICBib3VuZHMuYm90dG9tID0gb2JqX21ldHJpY3MueSArIG9ial9tZXRyaWNzLmhlaWdodDsKCiAgICAgICAgfQoKICAgIH0KCiAgICBtZXRyaWNzLnggPSBvcHRpb25zLnggKyBib3VuZHMubGVmdDsKICAgIG1ldHJpY3MueSA9IG9wdGlvbnMueSArIGJvdW5kcy50b3A7CgogICAgbWV0cmljcy53aWR0aCA9IChib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCkgKiBvcHRpb25zLnNjYWxlOwogICAgbWV0cmljcy5oZWlnaHQgPSAoYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3ApICogb3B0aW9ucy5zY2FsZTsKCiAgICBhbmNob3IgPSB0aGlzLl9nZXRBbmNob3JQb2ludChvcHRpb25zLCBtZXRyaWNzKTsKCiAgICBtZXRyaWNzLnggPSBvcHRpb25zLnggKyBhbmNob3JbMF07CiAgICBtZXRyaWNzLnkgPSBvcHRpb25zLnkgKyBhbmNob3JbMV07CgogICAgaWYgKCF1cGRhdGVkKSB7CgogICAgICAgIHRoaXMuX21ldHJpY3MgPSBtZXRyaWNzOwoKICAgIH0KCiAgICByZXR1cm4gbWV0cmljczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgT2JqZWN0IHdpdGggbWV0cmljcyBhcyBrZXktdmFsdWUgcGFpcnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKCiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICA8L2Rpdj4KCiAgICA8L2Rpdj4KCjwvZGl2PgoKPGZvb3RlciBjbGFzcz0iYnMtZm9vdGVyIj4KCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgoKICAgICAgICA8cD5Eb2N1bWVudGF0aW9uIGdlbmVyYXRlZCB3aXRoIDxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9uZW9nZWVrL2RveGRveCI+ZG94ZG94PC9hPi48L3A+CgogICAgPC9kaXY+Cgo8L2Zvb3Rlcj4KCjwvYm9keT4KPC9odG1sPgo=",
                "body": "PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KPG1ldGEgY2hhcnNldD0idXRmLTgiPgo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0iaW5pdGlhbC1zY2FsZT0xIj4KPHRpdGxlPmZhY2FkZS5qcyAmIzgyMTI7IERyYXdpbmcgc2hhcGVzLCBpbWFnZXMgYW5kIHRleHQgaW4gSFRNTDUgY2FudmFzIG1hZGUgZWFzeS48L3RpdGxlPgo8c3R5bGU+CgouYmFjay10by10b3AgewogICAgZGlzcGxheTogbm9uZTsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHJpZ2h0OiAxZW07CiAgICBib3R0b206IDFlbTsKICAgIHotaW5kZXg6IDk5OTsKfQoKLmJhY2stdG8tdG9wIGEgewogICAgZGlzcGxheTogYmxvY2s7CiAgICBwYWRkaW5nOiAuNWVtIC41ZW0gLjVlbSAxLjVlbTsKICAgIGxpbmUtaGVpZ2h0OiAxZW07CiAgICBib3JkZXItcmFkaXVzOiAuMjVlbTsKICAgIGJhY2tncm91bmQ6ICNmZmYgdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE0zQjRJaUJvWldsbmFIUTlJakUwY0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F4TXlBeE5DSStDaUFnSUNBOGNHRjBhQ0JrUFNKTk55NHhPRGMyTVRFMU5pd3hNeUJNTnk0eE9EYzJNVEUxTml3MUxqUTVNalE1TnpBeklFd3hNQzQwTlRnM09EVXpMRFV1TkRreU5EazNNRE1nVERVdU1EazVNekUzTmpNc01DNHhNVE0xTlRneE1qa2dUQzB3TGpJMk1ERTFMRFV1TkRreU5EazNNRE1nVERNdU1ERXhNREl6TnpFc05TNDBPVEkwT1Rjd015Qk1NeTR3TVRFd01qTTNNU3d4TXlCTU55NHhPRGMyTVRFMU5pd3hNeUJhSWlCbWFXeHNQU0lqTkRJNFltTmhJajQ4TDNCaGRHZytDand2YzNablBnbz0pIG5vLXJlcGVhdCAuNWVtIGNlbnRlcjsKfQoKLm1lbnUgewogICAgbWFyZ2luOiAxLjVlbSAwIDAgMDsKICAgIHBhZGRpbmc6IDA7Cn0KCi5tZW51IGxpIHsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7Cn0KCi5tZW51IGxpIGEgewogICAgZGlzcGxheTogYmxvY2s7CiAgICBwYWRkaW5nOiAuMjVlbTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKfQoKLm1lbnUgbGkgdWwgewogICAgbWFyZ2luOiAuMjVlbSAwIC4yNWVtIDFlbTsKICAgIHBhZGRpbmc6IDA7Cn0KCi5tZW51IC5zY29wZS1wcml2YXRlIHsKICAgIG9wYWNpdHk6IDAuNTsKfQoKLm1ldGhvZCBoMiB7CiAgICBsaW5lLWhlaWdodDogMS4zZW07CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5wZXJtYWxpbmsgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luLWxlZnQ6IC0uNzVlbTsKICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICBjb2xvcjogI2VlZTsKfQoKLnBlcm1hbGluazpob3ZlciB7CiAgICBjb2xvcjogIzY2NjsKICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKLmJzLWZvb3RlciB7CiAgICBtYXJnaW46IDUwcHggYXV0bzsKICAgIGNvbG9yOiAjNzc3OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgpwcmUgLmhsanMgewogICAgcGFkZGluZzogMDsKICAgIGJhY2tncm91bmQ6IG5vbmU7Cn0KCjwvc3R5bGU+CjxzY3JpcHQ+CihmdW5jdGlvbihlLGksdCl7InVzZSBzdHJpY3QiO3ZhciBjPWUubG9jYXRpb24ucHJvdG9jb2w9PT0iZmlsZToiPyJodHRwOiI6ZS5sb2NhdGlvbi5wcm90b2NvbCxvPVsiLy9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiwiLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvaGlnaGxpZ2h0LmpzLzguMS9zdHlsZXMvZ2l0aHViLm1pbi5jc3MiLCIvL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMi4xLjEuanMiLCIvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9oaWdobGlnaHQuanMvOC4xL2hpZ2hsaWdodC5taW4uanMiXTtmdW5jdGlvbiBzKGUpe3ZhciBsO2lmKGUubWF0Y2goL1wuanMkLykpe2w9aS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtsLnNldEF0dHJpYnV0ZSgic3JjIixjK2UpfWVsc2UgaWYoZS5tYXRjaCgvXC5jc3MkLykpe2w9aS5jcmVhdGVFbGVtZW50KCJsaW5rIik7bC5zZXRBdHRyaWJ1dGUoInJlbCIsInN0eWxlc2hlZXQiKTtsLnNldEF0dHJpYnV0ZSgiaHJlZiIsYytlKX1sLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7aWYoby5sZW5ndGgpe3Moby5zaGlmdCgpKX1lbHNle2lmKCQuaXNSZWFkeSl7dCgpfWVsc2V7JChkb2N1bWVudCkucmVhZHkodCl9fX0pO2kuaGVhZC5hcHBlbmRDaGlsZChsKX1zKG8uc2hpZnQoKSl9KSh3aW5kb3csZG9jdW1lbnQsZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGU9d2luZG93LmxvY2F0aW9uLmhhc2gsaT0kKCdbaWQ9IicrZS5yZXBsYWNlKC8jLywiIikrJyJdJyksdD0kKCIuY29kZSIpLGM9JCgiLnNjb3BlLXByaXZhdGUiKSxvPSQoIi50b2dnbGUtY29kZS1ibG9ja3MiKSxzPSQoIi50b2dnbGUtcHJpdmF0ZSIpLGw9JCgiLmJhY2stdG8tdG9wIik7ZnVuY3Rpb24gbigpe2lmKHdpbmRvdy5zY3JvbGxZPjEwMCYmbC5ub3QoIjp2aXNpYmxlIikpe2wuZmFkZUluKCl9ZWxzZSBpZih3aW5kb3cuc2Nyb2xsWTwxMDAmJmwuaXMoIjp2aXNpYmxlIikpe2wuZmFkZU91dCgpfX1vLm9uKCJjbGljayIsZnVuY3Rpb24oKXtpZihvLmlzKCI6Y2hlY2tlZCIpKXt0LnNob3coKX1lbHNle3QuaGlkZSgpfX0pO3Mub24oImNsaWNrIixmdW5jdGlvbigpe2lmKHMuaXMoIjpjaGVja2VkIikpe2Muc2hvdygpfWVsc2V7Yy5oaWRlKCl9fSk7dC5oaWRlKCk7Yy5oaWRlKCk7aWYoaS5sZW5ndGgmJiFpLmlzKCI6dmlzaWJsZSIpKXtzLnRyaWdnZXIoImNsaWNrIil9JCgiLmV4YW1wbGVzIHByZSBjb2RlLCAuY29kZSBwcmUgY29kZSIpLmVhY2goZnVuY3Rpb24oKXtobGpzLmhpZ2hsaWdodEJsb2NrKHRoaXMpfSk7JCh3aW5kb3cpLm9uKCJzY3JvbGwiLG4pO24oKX0pOwo8L3NjcmlwdD4KPC9oZWFkPgoKPGJvZHk+Cgo8c3R5bGU+CgpoZWFkZXIgewogICAgcGFkZGluZzogMWVtOwogICAgZm9udC1zaXplOiAxLjJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxZW07CiAgICBjb2xvcjogI2ZmZjsKICAgIGJhY2tncm91bmQtY29sb3I6ICMzMjI5NTc7CiAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsKfQoKaGVhZGVyIGEsCmhlYWRlciBhOmhvdmVyIHsKICAgIGNvbG9yOiBpbmhlcml0Owp9Cgo8L3N0eWxlPgoKPGhlYWRlcj4KCiAgICA8YSBocmVmPSJodHRwOi8vZG9jcy5mYWNhZGVqcy5jb20vbGlzdCI+JmxhcnI7IFZpZXcgYWxsIHZlcnNpb25zIG9mIGRvY3VtZW50YXRpb248L2E+PC9pPgoKPC9oZWFkZXI+Cgo8ZGl2IGNsYXNzPSJiYWNrLXRvLXRvcCI+PGEgaHJlZj0iIyI+QmFjayB0byBUb3A8L2E+PC9kaXY+Cgo8ZGl2IGNsYXNzPSJ3cmFwIj4KCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgoKICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlLWhlYWRlciI+CgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwdWxsLXJpZ2h0IGhpZGRlbi1zbSBoaWRkZW4teHMiPgoKICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InRvZ2dsZS1jb2RlIiBjbGFzcz0idG9nZ2xlLWNvZGUtYmxvY2tzIj4KICAgICAgICAgICAgICAgICAgICAgICAgVG9nZ2xlIENvZGUgQmxvY2tzCiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0idG9nZ2xlLXByaXZhdGUiIGNsYXNzPSJ0b2dnbGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIFRvZ2dsZSBQcml2YXRlIE1ldGhvZHMKICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDxoMT5mYWNhZGUuanMgPHNtYWxsPkRyYXdpbmcgc2hhcGVzLCBpbWFnZXMgYW5kIHRleHQgaW4gSFRNTDUgY2FudmFzIG1hZGUgZWFzeS48L3NtYWxsPjwvaDE+CgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTMgaGlkZGVuLXNtIGhpZGRlbi14cyI+CgogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJtZW51Ij4KCgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGI+ZmFjYWRlLmpzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICA8dWw+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUiIHRpdGxlPSJGYWNhZGUoKSI+RmFjYWRlKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5hZGR0b3N0YWdlIiB0aXRsZT0iRmFjYWRlLmFkZFRvU3RhZ2UoKSI+RmFjYWRlLmFkZFRvU3RhZ2UoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmNsZWFyIiB0aXRsZT0iRmFjYWRlLmNsZWFyKCkiPkZhY2FkZS5jbGVhcigpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuZHJhdyIgdGl0bGU9IkZhY2FkZS5kcmF3KCkiPkZhY2FkZS5kcmF3KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5leHBvcnRiYXNlNjQiIHRpdGxlPSJGYWNhZGUuZXhwb3J0QmFzZTY0KCkiPkZhY2FkZS5leHBvcnRCYXNlNjQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmhlaWdodCIgdGl0bGU9IkZhY2FkZS5oZWlnaHQoKSI+RmFjYWRlLmhlaWdodCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUucmVuZGVyd2l0aGNvbnRleHQiIHRpdGxlPSJGYWNhZGUucmVuZGVyV2l0aENvbnRleHQoKSI+RmFjYWRlLnJlbmRlcldpdGhDb250ZXh0KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5yZXNpemVmb3JoZHBpIiB0aXRsZT0iRmFjYWRlLnJlc2l6ZUZvckhEUEkoKSI+RmFjYWRlLnJlc2l6ZUZvckhEUEkoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnN0YXJ0IiB0aXRsZT0iRmFjYWRlLnN0YXJ0KCkiPkZhY2FkZS5zdGFydCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuc3RvcCIgdGl0bGU9IkZhY2FkZS5zdG9wKCkiPkZhY2FkZS5zdG9wKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS53aWR0aCIgdGl0bGU9IkZhY2FkZS53aWR0aCgpIj5GYWNhZGUud2lkdGgoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wcml2YXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5fYW5pbWF0ZSIgdGl0bGU9IkZhY2FkZS5fYW5pbWF0ZSgpIj5GYWNhZGUuX2FuaW1hdGUoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5IiB0aXRsZT0iRmFjYWRlLkVudGl0eSgpIj5GYWNhZGUuRW50aXR5KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0b3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5FbnRpdHkuX2RlZmF1bHRPcHRpb25zKCkiPkZhY2FkZS5FbnRpdHkuX2RlZmF1bHRPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0bWV0cmljcyIgdGl0bGU9IkZhY2FkZS5FbnRpdHkuX2RlZmF1bHRNZXRyaWNzKCkiPkZhY2FkZS5FbnRpdHkuX2RlZmF1bHRNZXRyaWNzKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9nZXRhbmNob3Jwb2ludCIgdGl0bGU9IkZhY2FkZS5FbnRpdHkuX2dldEFuY2hvclBvaW50KCkiPkZhY2FkZS5FbnRpdHkuX2dldEFuY2hvclBvaW50KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9nZXRzdHJva2V3aWR0aG9mZnNldCIgdGl0bGU9IkZhY2FkZS5FbnRpdHkuX2dldFN0cm9rZVdpZHRoT2Zmc2V0KCkiPkZhY2FkZS5FbnRpdHkuX2dldFN0cm9rZVdpZHRoT2Zmc2V0KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9hcHBseXRyYW5zZm9ybXMiIHRpdGxlPSJGYWNhZGUuRW50aXR5Ll9hcHBseVRyYW5zZm9ybXMoKSI+RmFjYWRlLkVudGl0eS5fYXBwbHlUcmFuc2Zvcm1zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuZ2V0b3B0aW9uIiB0aXRsZT0iRmFjYWRlLkVudGl0eS5nZXRPcHRpb24oKSI+RmFjYWRlLkVudGl0eS5nZXRPcHRpb24oKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRhbGxvcHRpb25zIiB0aXRsZT0iRmFjYWRlLkVudGl0eS5nZXRBbGxPcHRpb25zKCkiPkZhY2FkZS5FbnRpdHkuZ2V0QWxsT3B0aW9ucygpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXByaXZhdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fc2V0b3B0aW9uIiB0aXRsZT0iRmFjYWRlLkVudGl0eS5fc2V0T3B0aW9uKCkiPkZhY2FkZS5FbnRpdHkuX3NldE9wdGlvbigpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLnNldG9wdGlvbnMiIHRpdGxlPSJGYWNhZGUuRW50aXR5LnNldE9wdGlvbnMoKSI+RmFjYWRlLkVudGl0eS5zZXRPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuZ2V0bWV0cmljIiB0aXRsZT0iRmFjYWRlLkVudGl0eS5nZXRNZXRyaWMoKSI+RmFjYWRlLkVudGl0eS5nZXRNZXRyaWMoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRhbGxtZXRyaWNzIiB0aXRsZT0iRmFjYWRlLkVudGl0eS5nZXRBbGxNZXRyaWNzKCkiPkZhY2FkZS5FbnRpdHkuZ2V0QWxsTWV0cmljcygpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmRyYXciIHRpdGxlPSJGYWNhZGUuRW50aXR5LmRyYXcoKSI+RmFjYWRlLkVudGl0eS5kcmF3KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24iIHRpdGxlPSJGYWNhZGUuUG9seWdvbigpIj5GYWNhZGUuUG9seWdvbigpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fZGVmYXVsdG9wdGlvbnMiIHRpdGxlPSJGYWNhZGUuUG9seWdvbi5fZGVmYXVsdE9wdGlvbnMoKSI+RmFjYWRlLlBvbHlnb24uX2RlZmF1bHRPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fZHJhdyIgdGl0bGU9IkZhY2FkZS5Qb2x5Z29uLl9kcmF3KCkiPkZhY2FkZS5Qb2x5Z29uLl9kcmF3KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5Qb2x5Z29uLl9jb25maWdPcHRpb25zKCkiPkZhY2FkZS5Qb2x5Z29uLl9jb25maWdPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fc2V0bWV0cmljcyIgdGl0bGU9IkZhY2FkZS5Qb2x5Z29uLl9zZXRNZXRyaWNzKCkiPkZhY2FkZS5Qb2x5Z29uLl9zZXRNZXRyaWNzKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZSIgdGl0bGU9IkZhY2FkZS5DaXJjbGUoKSI+RmFjYWRlLkNpcmNsZSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiB0aXRsZT0iRmFjYWRlLkNpcmNsZS5fY29uZmlnT3B0aW9ucygpIj5GYWNhZGUuQ2lyY2xlLl9jb25maWdPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUucHJvdG90eXBlLl9nZXRhbmNob3Jwb2ludCIgdGl0bGU9IkZhY2FkZS5DaXJjbGUuX2dldEFuY2hvclBvaW50KCkiPkZhY2FkZS5DaXJjbGUuX2dldEFuY2hvclBvaW50KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUucHJvdG90eXBlLl9zZXRtZXRyaWNzIiB0aXRsZT0iRmFjYWRlLkNpcmNsZS5fc2V0TWV0cmljcygpIj5GYWNhZGUuQ2lyY2xlLl9zZXRNZXRyaWNzKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmxpbmUiIHRpdGxlPSJGYWNhZGUuTGluZSgpIj5GYWNhZGUuTGluZSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5saW5lLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5MaW5lLl9jb25maWdPcHRpb25zKCkiPkZhY2FkZS5MaW5lLl9jb25maWdPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5saW5lLnByb3RvdHlwZS5fZ2V0YW5jaG9ycG9pbnQiIHRpdGxlPSJGYWNhZGUuTGluZS5fZ2V0QW5jaG9yUG9pbnQoKSI+RmFjYWRlLkxpbmUuX2dldEFuY2hvclBvaW50KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnJlY3QiIHRpdGxlPSJGYWNhZGUuUmVjdCgpIj5GYWNhZGUuUmVjdCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5yZWN0LnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5SZWN0Ll9jb25maWdPcHRpb25zKCkiPkZhY2FkZS5SZWN0Ll9jb25maWdPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlIiB0aXRsZT0iRmFjYWRlLkltYWdlKCkiPkZhY2FkZS5JbWFnZSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5sb2FkIiB0aXRsZT0iRmFjYWRlLkltYWdlLmxvYWQoKSI+RmFjYWRlLkltYWdlLmxvYWQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnBsYXkiIHRpdGxlPSJGYWNhZGUuSW1hZ2UucGxheSgpIj5GYWNhZGUuSW1hZ2UucGxheSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUucGF1c2UiIHRpdGxlPSJGYWNhZGUuSW1hZ2UucGF1c2UoKSI+RmFjYWRlLkltYWdlLnBhdXNlKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5yZXNldCIgdGl0bGU9IkZhY2FkZS5JbWFnZS5yZXNldCgpIj5GYWNhZGUuSW1hZ2UucmVzZXQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnN0b3AiIHRpdGxlPSJGYWNhZGUuSW1hZ2Uuc3RvcCgpIj5GYWNhZGUuSW1hZ2Uuc3RvcCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXByaXZhdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLl9jb25maWdvcHRpb25zIiB0aXRsZT0iRmFjYWRlLkltYWdlLl9jb25maWdPcHRpb25zKCkiPkZhY2FkZS5JbWFnZS5fY29uZmlnT3B0aW9ucygpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXByaXZhdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLl9zZXRtZXRyaWNzIiB0aXRsZT0iRmFjYWRlLkltYWdlLl9zZXRNZXRyaWNzKCkiPkZhY2FkZS5JbWFnZS5fc2V0TWV0cmljcygpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXByaXZhdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLl9kcmF3IiB0aXRsZT0iRmFjYWRlLkltYWdlLl9kcmF3KCkiPkZhY2FkZS5JbWFnZS5fZHJhdygpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0IiB0aXRsZT0iRmFjYWRlLlRleHQoKSI+RmFjYWRlLlRleHQoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5zZXR0ZXh0IiB0aXRsZT0iRmFjYWRlLlRleHQuc2V0VGV4dCgpIj5GYWNhZGUuVGV4dC5zZXRUZXh0KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5fZHJhdyIgdGl0bGU9IkZhY2FkZS5UZXh0Ll9kcmF3KCkiPkZhY2FkZS5UZXh0Ll9kcmF3KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgdGl0bGU9IkZhY2FkZS5UZXh0Ll9jb25maWdPcHRpb25zKCkiPkZhY2FkZS5UZXh0Ll9jb25maWdPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5fc2V0bWV0cmljcyIgdGl0bGU9IkZhY2FkZS5UZXh0Ll9zZXRNZXRyaWNzKCkiPkZhY2FkZS5UZXh0Ll9zZXRNZXRyaWNzKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwIiB0aXRsZT0iRmFjYWRlLkdyb3VwKCkiPkZhY2FkZS5Hcm91cCgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuX2RyYXciIHRpdGxlPSJGYWNhZGUuR3JvdXAuX2RyYXcoKSI+RmFjYWRlLkdyb3VwLl9kcmF3KCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIHRpdGxlPSJGYWNhZGUuR3JvdXAuX2NvbmZpZ09wdGlvbnMoKSI+RmFjYWRlLkdyb3VwLl9jb25maWdPcHRpb25zKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHVibGljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5hZGR0b2dyb3VwIiB0aXRsZT0iRmFjYWRlLkdyb3VwLmFkZFRvR3JvdXAoKSI+RmFjYWRlLkdyb3VwLmFkZFRvR3JvdXAoKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJzY29wZS1wdWJsaWMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLmhhc2VudGl0eSIgdGl0bGU9IkZhY2FkZS5Hcm91cC5oYXNFbnRpdHkoKSI+RmFjYWRlLkdyb3VwLmhhc0VudGl0eSgpPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InNjb3BlLXB1YmxpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUucmVtb3ZlZnJvbWdyb3VwIiB0aXRsZT0iRmFjYWRlLkdyb3VwLnJlbW92ZUZyb21Hcm91cCgpIj5GYWNhZGUuR3JvdXAucmVtb3ZlRnJvbUdyb3VwKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ic2NvcGUtcHJpdmF0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuX3NldG1ldHJpY3MiIHRpdGxlPSJGYWNhZGUuR3JvdXAuX3NldE1ldHJpY3MoKSI+RmFjYWRlLkdyb3VwLl9zZXRNZXRyaWNzKCk8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CgogICAgICAgICAgICAgICAgICAgIDwvbGk+CgoKICAgICAgICAgICAgICAgIDwvdWw+CgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC05Ij4KCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3JlYXRlcyBhIG5ldyBGYWNhZGUuanMgb2JqZWN0IHdpdGggZWl0aGVyIGEgcHJlZXhpc3RpbmcgY2FudmFzIHRhZyBvciBhIHVuaXF1ZSBuYW1lLCB3aWR0aCwgYW5kIGhlaWdodC48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+Y2FudmFzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZWZlcmVuY2UgdG8gYW4gSFRNTCBjYW52YXMgZWxlbWVudCBvciBhIHVuaXF1ZSBuYW1lLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPndpZHRoPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+V2lkdGggb2YgdGhlIGNhbnZhcy48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5oZWlnaHQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5IZWlnaHQgb2YgdGhlIGNhbnZhcy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InByb3BlcnRpZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlByb3BlcnRpZXM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5jYW52YXM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlZmVyZW5jZSB0byB0aGUgY2FudmFzIGVsZW1lbnQuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+Y29udGV4dDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVmZXJlbmNlIHRvIHRoZSA8YSBocmVmPSJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiB0YXJnZXQ9Il9ibGFuayI+Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPC9hPiBvYmplY3QuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+ZHQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXJyZW50IHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIGxhc3QgY2FudmFzIGRyYXcuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+ZnBzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VycmVudCBmcmFtZXMgcGVyIHNlY29uZC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5mdGltZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRpbWUgb2YgbGFzdCBjYW52YXMgZHJhdy48L3A+CgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT52YXIgc3RhZ2UgPSBuZXcgRmFjYWRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJiMzOTtjYW52YXMmIzM5OykpOwp2YXIgc3RhZ2UgPSBuZXcgRmFjYWRlKCYjMzk7c3RhZ2UmIzM5OywgNTAwLCAzMDApOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5mdW5jdGlvbiBGYWNhZGUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7CgogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZhY2FkZSkpIHsKCiAgICAgICAgcmV0dXJuIG5ldyBGYWNhZGUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KTsKCiAgICB9CgogICAgdGhpcy5kdCA9IG51bGw7CiAgICB0aGlzLmZwcyA9IG51bGw7CiAgICB0aGlzLmZ0aW1lID0gbnVsbDsKCiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7CgogICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbiA9IG51bGw7CgogICAgdGhpcy5fd2lkdGggPSBudWxsOwogICAgdGhpcy5faGVpZ2h0ID0gbnVsbDsKCiAgICBpZiAoY2FudmFzICZhbXA7JmFtcDsgdHlwZW9mIGNhbnZhcyA9PT0gJiN4Mjc7b2JqZWN0JiN4Mjc7ICZhbXA7JmFtcDsgY2FudmFzLm5vZGVUeXBlID09PSAxKSB7CgogICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgmI3gyNztjYW52YXMmI3gyNzspOwoKICAgICAgICBpZiAodHlwZW9mIGNhbnZhcyA9PT0gJiN4Mjc7c3RyaW5nJiN4Mjc7KSB7CgogICAgICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJiN4Mjc7aWQmI3gyNzssIGNhbnZhcyk7CgogICAgICAgIH0KCiAgICB9CgogICAgaWYgKHdpZHRoKSB7CgogICAgICAgIHRoaXMud2lkdGgod2lkdGgpOwoKICAgIH0gZWxzZSBpZiAodGhpcy5jYW52YXMuaGFzQXR0cmlidXRlKCYjeDI3O3dpZHRoJiN4Mjc7KSkgewoKICAgICAgICB0aGlzLl93aWR0aCA9IHBhcnNlSW50KHRoaXMuY2FudmFzLmdldEF0dHJpYnV0ZSgmI3gyNzt3aWR0aCYjeDI3OyksIDEwKTsKCiAgICB9IGVsc2UgewoKICAgICAgICB0aGlzLndpZHRoKHRoaXMuY2FudmFzLmNsaWVudFdpZHRoKTsKCiAgICB9CgogICAgaWYgKGhlaWdodCkgewoKICAgICAgICB0aGlzLmhlaWdodChoZWlnaHQpOwoKICAgIH0gZWxzZSBpZiAodGhpcy5jYW52YXMuaGFzQXR0cmlidXRlKCYjeDI3O2hlaWdodCYjeDI3OykpIHsKCiAgICAgICAgdGhpcy5faGVpZ2h0ID0gcGFyc2VJbnQodGhpcy5jYW52YXMuZ2V0QXR0cmlidXRlKCYjeDI3O2hlaWdodCYjeDI3OyksIDEwKTsKCiAgICB9IGVsc2UgewoKICAgICAgICB0aGlzLmhlaWdodCh0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQpOwoKICAgIH0KCiAgICB0cnkgewoKICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCYjeDI3OzJkJiN4Mjc7KTsKCiAgICB9IGNhdGNoIChlKSB7CgogICAgICAgIHRocm93IG5ldyBFcnJvcigmI3gyNztPYmplY3QgcGFzc2VkIHRvIEZhY2FkZS5qcyB3YXMgbm90IGEgdmFsaWQgY2FudmFzIGVsZW1lbnQuJiN4Mjc7KTsKCiAgICB9Cgp9PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBOZXcgRmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmFkZHRvc3RhZ2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuYWRkdG9zdGFnZSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLmFkZFRvU3RhZ2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRyYXdzIGEgRmFjYWRlLmpzIGVudGl0eSAob3IgbXVsdGlwbGUgZW50aXRpZXMpIHRvIHRoZSBzdGFnZS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vYmo8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5BcnJheTwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLmpzIGVudGl0eSBvciBhbiBhcnJheSBvZiBlbnRpdGllcy48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UZW1wb3Jhcnkgb3B0aW9ucyBmb3IgcmVuZGVyaW5nIGEgRmFjYWRlLmpzIGVudGl0eSAob3IgbXVsdGlwbGUgZW50aXRpZXMpLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+c3RhZ2UuYWRkVG9TdGFnZShjaXJjbGUpOwpzdGFnZS5hZGRUb1N0YWdlKGNpcmNsZSwgeyB4OiAxMDAsIHk6IDEwMCB9KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLnByb3RvdHlwZS5hZGRUb1N0YWdlID0gZnVuY3Rpb24gKG9iaiwgb3B0aW9ucykgewoKICAgIHZhciBpLAogICAgICAgIGxlbmd0aDsKCiAgICBpZiAob2JqIGluc3RhbmNlb2YgRmFjYWRlLkVudGl0eSkgewoKICAgICAgICBvYmouZHJhdyh0aGlzLCBvcHRpb25zKTsKCiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewoKICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgICAgIHRoaXMuYWRkVG9TdGFnZShvYmpbaV0sIG9wdGlvbnMpOwoKICAgICAgICB9CgogICAgfSBlbHNlIHsKCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCYjeDI3O09iamVjdCBwYXNzZWQgdG8gRmFjYWRlLmFkZFRvU3RhZ2UgaXMgbm90IGEgdmFsaWQgRmFjYWRlLmpzIGVudGl0eS4mI3gyNzspOwoKICAgIH0KCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBGYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuY2xlYXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuY2xlYXIiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5jbGVhcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q2xlYXJzIHRoZSBjYW52YXMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPiBzdGFnZS5jbGVhcigpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7CgogICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoKCksIHRoaXMuaGVpZ2h0KCkpOwoKICAgIHJldHVybiB0aGlzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmRyYXciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuZHJhdyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLmRyYXcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBydW4gaW4gYSBsb29wIHVzaW5nIDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIiB0YXJnZXQ9Il9ibGFuayI+cmVxdWVzdEFuaW1hdGlvbkZyYW1lPC9hPiBvciBhdmFpbGFibGUgcG9seWZpbGwuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+Y2FsbGJhY2s8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5GdW5jdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RnVuY3Rpb24gY2FsbGJhY2suPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5zdGFnZS5kcmF3KGZ1bmN0aW9uICgpIHsKCiAgICB0aGlzLmNsZWFyKCk7CgogICAgdGhpcy5hZGRUb1N0YWdlKGNpcmNsZSwgeyB4OiAxMDAsIHk6IDEwMCB9KTsKCn0pOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CgogICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjazsKCiAgICAgICAgdGhpcy5zdGFydCgpOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHRocm93IG5ldyBFcnJvcigmI3gyNztQYXJhbWV0ZXIgcGFzc2VkIHRvIEZhY2FkZS5kcmF3IGlzIG5vdCBhIHZhbGlkIGZ1bmN0aW9uLiYjeDI3Oyk7CgogICAgfQoKICAgIHJldHVybiB0aGlzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBGYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuZXhwb3J0YmFzZTY0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmV4cG9ydGJhc2U2NCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLmV4cG9ydEJhc2U2NCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RXhwb3J0cyBhIGJhc2U2NCBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjdXJyZW50IHJlbmRlcmVkIGNhbnZhcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj50eXBlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5JbWFnZSBmb3JtYXQ6IDxjb2RlPmltYWdlL3BuZzwvY29kZT4gKERlZmF1bHQpLCA8Y29kZT5pbWFnZS9qcGVnPC9jb2RlPiwgPGNvZGU+aW1hZ2Uvd2VicDwvY29kZT4gKEdvb2dsZSBDaHJvbWUgT25seSk8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5xdWFsaXR5PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coc3RhZ2UuZXhwb3J0QmFzZTY0KCYjMzk7aW1hZ2UvcG5nJiMzOTssIDEwMCkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUucHJvdG90eXBlLmV4cG9ydEJhc2U2NCA9IGZ1bmN0aW9uICh0eXBlLCBxdWFsaXR5KSB7CgogICAgaWYgKCF0eXBlKSB7CgogICAgICAgIHR5cGUgPSAmI3gyNztpbWFnZS9wbmcmI3gyNzs7CgogICAgfQoKICAgIGlmICh0eXBlb2YgcXVhbGl0eSA9PT0gJiN4Mjc7bnVtYmVyJiN4Mjc7KSB7CgogICAgICAgIHF1YWxpdHkgPSBxdWFsaXR5IC8gMTAwOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHF1YWxpdHkgPSAxOwoKICAgIH0KCiAgICByZXR1cm4gdGhpcy5jYW52YXMudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPlN0cmluZzwvY29kZT4gIEJhc2U2NCBlbmNvZGVkIHN0cmluZy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLmhlaWdodCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5oZWlnaHQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5oZWlnaHQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkdldHMgYW5kIHNldHMgdGhlIGNhbnZhcyBoZWlnaHQuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+aGVpZ2h0PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+SGVpZ2h0IGluIHBpeGVscy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHN0YWdlLmhlaWdodCgpKTsgLy8gMzAwCmNvbnNvbGUubG9nKHN0YWdlLmhlaWdodCg2MDApKTsgLy8gNjAwCjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUucHJvdG90eXBlLmhlaWdodCA9IGZ1bmN0aW9uIChoZWlnaHQpIHsKCiAgICBpZiAoaGVpZ2h0KSB7CgogICAgICAgIHRoaXMuX2hlaWdodCA9IHBhcnNlSW50KGhlaWdodCwgMTApOwoKICAgICAgICBpZiAodGhpcy5jYW52YXMuaGFzQXR0cmlidXRlKCYjeDI3O2RhdGEtcmVzaXplZC1mb3ItaGRwaSYjeDI3OykpIHsKCiAgICAgICAgICAgIHRoaXMucmVzaXplRm9ySERQSSgpOwoKICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCYjeDI3O2hlaWdodCYjeDI3OywgdGhpcy5faGVpZ2h0KTsKCiAgICAgICAgfQoKICAgIH0KCiAgICByZXR1cm4gdGhpcy5faGVpZ2h0OwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5JbnRlZ2VyPC9jb2RlPiAgSGVpZ2h0IGluIHBpeGVscy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnJlbmRlcndpdGhjb250ZXh0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLnJlbmRlcndpdGhjb250ZXh0IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUucmVuZGVyV2l0aENvbnRleHQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkFwcGxpZXMga2V5LXZhbHVlIHBhaXJzIHRvIGFwcHJvcHJpYXRlIDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiIHRhcmdldD0iX2JsYW5rIj5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ8L2E+IHByb3BlcnRpZXMgYW5kIG1ldGhvZHMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T2JqZWN0IGNvbnRhaW5pbmcgY29udGV4dCBwcm9wZXJ0eSBhbmQvb3IgbWV0aG9kIG5hbWVzIHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+Y2FsbGJhY2s8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5GdW5jdGlvbjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gY29udGV4dCBvcHRpb25zIGhhdmUgYmVlbiByZW5kZXJlZCB0byB0aGUgY2FudmFzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+c3RhZ2UucmVuZGVyV2l0aENvbnRleHQoeyBmaWxsU3R5bGU6ICYjMzk7I2YwMCYjMzk7LCBnbG9iYWxBbHBoYTogMC41LCBmaWxsUmVjdDogWyAwLCAwLCAxMDAsIDEwMCBdfSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUucmVuZGVyV2l0aENvbnRleHQgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHsKCiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpLAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIHRoaXMuY29udGV4dC5zYXZlKCk7CgogICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICBpZiAoX2NvbnRleHRQcm9wZXJ0aWVzLmluZGV4T2Yoa2V5c1tpXSkgIT09IC0xKSB7CgogICAgICAgICAgICB0aGlzLmNvbnRleHRba2V5c1tpXV0gPSBvcHRpb25zW2tleXNbaV1dOwoKICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9uc1trZXlzW2ldXSkgJmFtcDsmYW1wOyB0eXBlb2YgdGhpcy5jb250ZXh0W2tleXNbaV1dID09PSAmI3gyNztmdW5jdGlvbiYjeDI3OykgewoKICAgICAgICAgICAgdGhpcy5jb250ZXh0W2tleXNbaV1dLmFwcGx5KHRoaXMuY29udGV4dCwgb3B0aW9uc1trZXlzW2ldXSk7CgogICAgICAgIH0KCiAgICB9CgogICAgaWYgKGNhbGxiYWNrKSB7CgogICAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwgdGhpcyk7CgogICAgfQoKICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUucmVzaXplZm9yaGRwaSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5yZXNpemVmb3JoZHBpIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUucmVzaXplRm9ySERQSSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVzaXplcyB0aGUgY2FudmFzIHdpZHRoIGFuZCBoZWlnaHQgdG8gYmUgbXVsdGlwbGllZCBieSB0aGUgcGl4ZWwgcmF0aW8gb2YgdGhlIGRldmljZSB0byBhbGxvdyBmb3Igc3ViLXBpeGVsIGFsaWFzaW5nLiBDYW52YXMgdGFnIG1haW50YWlucyBvcmlnaW5hbCB3aWR0aCBhbmQgaGVpZ2h0IHRocm91Z2ggQ1NTLiBNdXN0IGJlIGNhbGxlZCBiZWZvcmUgY3JlYXRpbmcvYWRkaW5nIGFueSBGYWNhZGUgZW50aXRpZXMgYXMgc2NhbGluZyBpcyBhcHBsaWVkIHRvIHRoZSBjYW52YXMgY29udGV4dC48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5yYXRpbzwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJhdGlvIHRvIHNjYWxlIHRoZSBjYW52YXMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5zdGFnZS5yZXNpemVGb3JIRFBJKCk7CnN0YWdlLnJlc2l6ZUZvckhEUEkoMik7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUucHJvdG90eXBlLnJlc2l6ZUZvckhEUEkgPSBmdW5jdGlvbiAocmF0aW8pIHsKCiAgICBpZiAocmF0aW8gPT09IHVuZGVmaW5lZCkgewoKICAgICAgICByYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHJhdGlvID0gcGFyc2VGbG9hdChyYXRpbyk7CgogICAgfQoKICAgIGlmIChyYXRpbyAmZ3Q7IDEpIHsKCiAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCYjeDI3O3N0eWxlJiN4Mjc7LCAmI3gyNzt3aWR0aDogJiN4Mjc7ICsgdGhpcy53aWR0aCgpICsgJiN4Mjc7cHg7IGhlaWdodDogJiN4Mjc7ICsgdGhpcy5oZWlnaHQoKSArICYjeDI3O3B4OyYjeDI3Oyk7CgogICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgmI3gyNzt3aWR0aCYjeDI3OywgdGhpcy53aWR0aCgpICogcmF0aW8pOwogICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgmI3gyNztoZWlnaHQmI3gyNzssIHRoaXMuaGVpZ2h0KCkgKiByYXRpbyk7CgogICAgICAgIHRoaXMuY29udGV4dC5zY2FsZShyYXRpbywgcmF0aW8pOwoKICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJiN4Mjc7ZGF0YS1yZXNpemVkLWZvci1oZHBpJiN4Mjc7LCB0cnVlKTsKCiAgICB9CgogICAgcmV0dXJuIHRoaXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5zdGFydCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5zdGFydCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLnN0YXJ0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TdGFydHMgdGhlIGNhbGxiYWNrIHN1cHBsaWVkIGluIDxjb2RlPkZhY2FkZS5kcmF3PC9jb2RlPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+c3RhZ2Uuc3RhcnQoKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkgewoKICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb24gPSBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGUuYmluZCh0aGlzKSk7CgogICAgcmV0dXJuIHRoaXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBGYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wcm90b3R5cGUuc3RvcCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS5zdG9wIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuc3RvcCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U3RvcHMgdGhlIGNhbGxiYWNrIHN1cHBsaWVkIGluIDxjb2RlPkZhY2FkZS5kcmF3PC9jb2RlPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+c3RhZ2Uuc3RvcCgpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHsKCiAgICB0aGlzLmR0ID0gbnVsbDsKICAgIHRoaXMuZnBzID0gbnVsbDsKICAgIHRoaXMuZnRpbWUgPSBudWxsOwoKICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uKTsKCiAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uID0gbnVsbDsKCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS53aWR0aCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnByb3RvdHlwZS53aWR0aCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLndpZHRoKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5HZXRzIGFuZCBzZXRzIHRoZSBjYW52YXMgd2lkdGguPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+d2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XaWR0aCBpbiBwaXhlbHMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhzdGFnZS53aWR0aCgpKTsgLy8gNDAwCmNvbnNvbGUubG9nKHN0YWdlLndpZHRoKDgwMCkpOyAvLyA4MDAKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUud2lkdGggPSBmdW5jdGlvbiAod2lkdGgpIHsKCiAgICBpZiAod2lkdGgpIHsKCiAgICAgICAgdGhpcy5fd2lkdGggPSBwYXJzZUludCh3aWR0aCwgMTApOwoKICAgICAgICBpZiAodGhpcy5jYW52YXMuaGFzQXR0cmlidXRlKCYjeDI3O2RhdGEtcmVzaXplZC1mb3ItaGRwaSYjeDI3OykpIHsKCiAgICAgICAgICAgIHRoaXMucmVzaXplRm9ySERQSSgpOwoKICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCYjeDI3O3dpZHRoJiN4Mjc7LCB0aGlzLl93aWR0aCk7CgogICAgICAgIH0KCiAgICB9CgogICAgcmV0dXJuIHRoaXMuX3dpZHRoOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5JbnRlZ2VyPC9jb2RlPiAgV2lkdGggaW4gcGl4ZWxzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLl9hbmltYXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucHJvdG90eXBlLl9hbmltYXRlIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuX2FuaW1hdGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk1ldGhvZCBjYWxsZWQgYnkgPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiIHRhcmdldD0iX2JsYW5rIj5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU8L2E+LiBTZXRzIDxjb2RlPkZhY2FkZS5kdDwvY29kZT4sIDxjb2RlPkZhY2FkZS5mcHM8L2NvZGU+IGFuZCAgPGNvZGU+RmFjYWRlLmZ0aW1lPC9jb2RlPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj50aW1lPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RPTVRpbWVTdGFtcCIgdGFyZ2V0PSJfYmxhbmsiPkRPTVRpbWVTdGFtcDwvYT4gb3IgPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RPTUhpZ2hSZXNUaW1lU3RhbXAiIHRhcmdldD0iX2JsYW5rIj5ET01IaWdoUmVzVGltZVN0YW1wPC9hPiAoR29vZ2xlIENocm9tZSBPbmx5KTwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+dGhpcy5fcmVxdWVzdEFuaW1hdGlvbiA9IF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0ZS5iaW5kKHRoaXMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5wcm90b3R5cGUuX2FuaW1hdGUgPSBmdW5jdGlvbiAodGltZSkgewoKICAgIGlmICh0eXBlb2YgdGhpcy5fY2FsbGJhY2sgPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgIGlmICh0aGlzLmZ0aW1lKSB7CgogICAgICAgICAgICB0aGlzLmR0ID0gdGltZSAtIHRoaXMuZnRpbWU7CgogICAgICAgICAgICB0aGlzLmZwcyA9ICgxMDAwIC8gdGhpcy5kdCkudG9GaXhlZCgyKTsKCiAgICAgICAgfQoKICAgICAgICB0aGlzLmZ0aW1lID0gdGltZTsKCiAgICAgICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbiA9IF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0ZS5iaW5kKHRoaXMpKTsKCiAgICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTsKCiAgICAgICAgdGhpcy5fY2FsbGJhY2soKTsKCiAgICAgICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKTsKCiAgICB9IGVsc2UgewoKICAgICAgICB0aGlzLnN0b3AoKTsKCiAgICB9CgogICAgcmV0dXJuIHRoaXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmVudGl0eSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkVudGl0eSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIGNvbnN0cnVjdG9yIGZvciBhbGwgRmFjYWRlLmpzIHNoYXBlLCBpbWFnZSBhbmQgdGV4dCBvYmplY3RzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuRW50aXR5KSkgewoKICAgICAgICByZXR1cm4gbmV3IEZhY2FkZS5FbnRpdHkoKTsKCiAgICB9CgogICAgdGhpcy5fb3B0aW9ucyA9IHRoaXMuX2RlZmF1bHRPcHRpb25zKCk7CiAgICB0aGlzLl9tZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBOZXcgRmFjYWRlLkVudGl0eSBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0b3B0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRvcHRpb25zIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5Ll9kZWZhdWx0T3B0aW9ucygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0dXJucyBhIGRlZmF1bHQgc2V0IG9mIG9wdGlvbnMgY29tbW9uIHRvIGFsbCBGYWNhZGUuanMgZW50aXRpZXMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dXBkYXRlZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QWRkaXRpb25hbCBvcHRpb25zIGFzIGtleS12YWx1ZSBwYWlycy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKEZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0T3B0aW9ucygpKTsKY29uc29sZS5sb2coRmFjYWRlLkVudGl0eS5wcm90b3R5cGUuX2RlZmF1bHRPcHRpb25zKHsgbGluZVdpZHRoOiAwIH0pKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uICh1cGRhdGVkKSB7CgogICAgdmFyIG9wdGlvbnMsCiAgICAgICAga2V5cywKICAgICAgICBpLAogICAgICAgIGxlbmd0aDsKCiAgICBvcHRpb25zID0gewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICBhbmNob3I6ICYjeDI3O3RvcC9sZWZ0JiN4Mjc7LAogICAgICAgIHJvdGF0ZTogMCwKICAgICAgICBzY2FsZTogMQogICAgfTsKCiAgICBpZiAodHlwZW9mIHVwZGF0ZWQgPT09ICYjeDI3O29iamVjdCYjeDI3OykgewoKICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModXBkYXRlZCk7CgogICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgICAgIG9wdGlvbnNba2V5c1tpXV0gPSB1cGRhdGVkW2tleXNbaV1dOwoKICAgICAgICB9CgogICAgfQoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBEZWZhdWx0IHNldCBvZiBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fZGVmYXVsdG1ldHJpY3MiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0bWV0cmljcyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkVudGl0eS5fZGVmYXVsdE1ldHJpY3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJldHVybnMgYSBkZWZhdWx0IHNldCBvZiBtZXRyaWNzIGNvbW1vbiB0byBhbGwgRmFjYWRlLmpzIGVudGl0aWVzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnVwZGF0ZWQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkFkZGl0aW9uYWwgbWV0cmljcyBhcyBrZXktdmFsdWUgcGFpcnMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhGYWNhZGUuRW50aXR5LnByb3RvdHlwZS5fZGVmYXVsdE1ldHJpY3MoKSk7CmNvbnNvbGUubG9nKEZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0TWV0cmljcyh7IHNjYWxlOiBudWxsIH0pKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9kZWZhdWx0TWV0cmljcyA9IGZ1bmN0aW9uICh1cGRhdGVkKSB7CgogICAgdmFyIG1ldHJpY3MsCiAgICAgICAga2V5cywKICAgICAgICBpLAogICAgICAgIGxlbmd0aDsKCiAgICBtZXRyaWNzID0gewogICAgICAgIHg6IG51bGwsCiAgICAgICAgeTogbnVsbCwKICAgICAgICB3aWR0aDogbnVsbCwKICAgICAgICBoZWlnaHQ6IG51bGwKICAgIH07CgogICAgaWYgKHR5cGVvZiB1cGRhdGVkID09PSAmI3gyNztvYmplY3QmI3gyNzspIHsKCiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHVwZGF0ZWQpOwoKICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgICAgICBtZXRyaWNzW2tleXNbaV1dID0gdXBkYXRlZFtrZXlzW2ldXTsKCiAgICAgICAgfQoKICAgIH0KCiAgICByZXR1cm4gbWV0cmljczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRGVmYXVsdCBzZXQgb2YgbWV0cmljcy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2dldGFuY2hvcnBvaW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fZ2V0YW5jaG9ycG9pbnQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuX2dldEFuY2hvclBvaW50KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXR1cm5zIGFuIGFycmF5IG9mIHRoZSB4IGFuZCB5IGFuY2hvciBwb3NpdGlvbnMgYmFzZWQgb24gZ2l2ZW4gb3B0aW9ucyBhbmQgbWV0cmljcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuRW50aXR5IG9wdGlvbnMuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLkVudGl0eSBtZXRyaWNzLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2cocmVjdC5fZ2V0QW5jaG9yUG9pbnQob3B0aW9ucywgbWV0cmljcykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuRW50aXR5LnByb3RvdHlwZS5fZ2V0QW5jaG9yUG9pbnQgPSBmdW5jdGlvbiAob3B0aW9ucywgbWV0cmljcykgewoKICAgIHZhciBwb3MgPSBbMCwgMF0sCiAgICAgICAgc3Ryb2tlV2lkdGhPZmZzZXQ7CgogICAgaWYgKG9wdGlvbnMuYW5jaG9yLm1hdGNoKC9jZW50ZXIkLykpIHsKCiAgICAgICAgcG9zWzBdID0gLW1ldHJpY3Mud2lkdGggLyAyOwoKICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbmNob3IubWF0Y2goL3JpZ2h0JC8pKSB7CgogICAgICAgIHBvc1swXSA9IC1tZXRyaWNzLndpZHRoOwoKICAgIH0KCiAgICBpZiAob3B0aW9ucy5hbmNob3IubWF0Y2goL15jZW50ZXIvKSkgewoKICAgICAgICBwb3NbMV0gPSAtbWV0cmljcy5oZWlnaHQgLyAyOwoKICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbmNob3IubWF0Y2goL15ib3R0b20vKSkgewoKICAgICAgICBwb3NbMV0gPSAtbWV0cmljcy5oZWlnaHQ7CgogICAgfQoKICAgIGlmICh0aGlzIGluc3RhbmNlb2YgRmFjYWRlLlBvbHlnb24pIHsKCiAgICAgICAgc3Ryb2tlV2lkdGhPZmZzZXQgPSB0aGlzLl9nZXRTdHJva2VXaWR0aE9mZnNldChvcHRpb25zKTsKCiAgICAgICAgcG9zWzBdID0gcG9zWzBdICsgc3Ryb2tlV2lkdGhPZmZzZXQ7CiAgICAgICAgcG9zWzFdID0gcG9zWzFdICsgc3Ryb2tlV2lkdGhPZmZzZXQ7CgogICAgfQoKICAgIHJldHVybiBwb3M7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+QXJyYXk8L2NvZGU+ICBBcnJheSB3aXRoIHRoZSB4IGFuZCB5IGFuY2hvciBwb3NpdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLl9nZXRzdHJva2V3aWR0aG9mZnNldCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuX2dldHN0cm9rZXdpZHRob2Zmc2V0IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5Ll9nZXRTdHJva2VXaWR0aE9mZnNldCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0dXJucyBhbiBpbnRlZ2VyIGZvciB0aGUgc3Ryb2tlIHdpZHRoIG9mZnNldC4gVXNlZCB0byBjYWxjdWxhdGUgbWV0cmljcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuRW50aXR5IG9wdGlvbnMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhyZWN0Ll9nZXRTdHJva2VXaWR0aE9mZnNldChvcHRpb25zKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuRW50aXR5LnByb3RvdHlwZS5fZ2V0U3Ryb2tlV2lkdGhPZmZzZXQgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIHZhciBzdHJva2VXaWR0aE9mZnNldCA9IDA7CgogICAgaWYgKG9wdGlvbnMubGluZVdpZHRoICE9PSB1bmRlZmluZWQpIHsKCiAgICAgICAgc3Ryb2tlV2lkdGhPZmZzZXQgPSBvcHRpb25zLmxpbmVXaWR0aCAvIDI7CgogICAgfQoKICAgIHJldHVybiBzdHJva2VXaWR0aE9mZnNldDsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+SW50ZWdlcjwvY29kZT4gIEludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBzdHJva2Ugd2lkdGggb2Zmc2V0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fYXBwbHl0cmFuc2Zvcm1zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fYXBwbHl0cmFuc2Zvcm1zIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5Ll9hcHBseVRyYW5zZm9ybXMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkFwcGxpZXMgdHJhbnNmb3JtcyAodHJhbnNsYXRlLCByb3RhdGUgYW5kIHNjYWxlKSB0byBhbiBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+Y29udGV4dDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVmZXJlbmNlIHRvIHRoZSA8YSBocmVmPSJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiB0YXJnZXQ9Il9ibGFuayI+Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPC9hPiBvYmplY3QuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLkVudGl0eSBvcHRpb25zLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm1ldHJpY3M8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5FbnRpdHkgbWV0cmljcy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHJlY3QuX2FwcGx5VHJhbnNmb3Jtcyhjb250ZXh0LCBvcHRpb25zLCBtZXRyaWNzKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eS5wcm90b3R5cGUuX2FwcGx5VHJhbnNmb3JtcyA9IGZ1bmN0aW9uIChjb250ZXh0LCBvcHRpb25zLCBtZXRyaWNzKSB7CgogICAgdmFyIGFuY2hvciA9IHRoaXMuX2dldEFuY2hvclBvaW50KG9wdGlvbnMsIHsKICAgICAgICB4OiBtZXRyaWNzLngsCiAgICAgICAgeTogbWV0cmljcy55LAogICAgICAgIHdpZHRoOiBtZXRyaWNzLndpZHRoIC8gb3B0aW9ucy5zY2FsZSwKICAgICAgICBoZWlnaHQ6IG1ldHJpY3MuaGVpZ2h0IC8gb3B0aW9ucy5zY2FsZQogICAgfSk7CgogICAgY29udGV4dC50cmFuc2xhdGUuYXBwbHkoY29udGV4dCwgYW5jaG9yKTsKCiAgICBpZiAob3B0aW9ucy5yb3RhdGUpIHsKCiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLWFuY2hvclswXSwgLWFuY2hvclsxXSk7CiAgICAgICAgY29udGV4dC5yb3RhdGUob3B0aW9ucy5yb3RhdGUgKiBfVE9fUkFESUFOUyk7CiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoYW5jaG9yWzBdLCBhbmNob3JbMV0pOwoKICAgIH0KCiAgICBpZiAob3B0aW9ucy5zY2FsZSAhPT0gMSkgewoKICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtYW5jaG9yWzBdLCAtYW5jaG9yWzFdKTsKICAgICAgICBjb250ZXh0LnNjYWxlKG9wdGlvbnMuc2NhbGUsIG9wdGlvbnMuc2NhbGUpOwogICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGFuY2hvclswXSwgYW5jaG9yWzFdKTsKCiAgICB9Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT52b2lkPC9jb2RlPiAgPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuZ2V0b3B0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRvcHRpb24iIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuZ2V0T3B0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gb3B0aW9uLiBPbmx5IHJldHJpZXZlcyBvcHRpb25zIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IEZhY2FkZS5qcyBlbnRpdHkgb3IgdXNpbmcgPGEgaHJlZj0iI2ZhY2FkZS5lbnRpdHkucHJvdG90eXBlLnNldG9wdGlvbnMiPjxjb2RlPnNldE9wdGlvbnM8L2NvZGU+PC9hPiBub3QgdGhyb3VnaCB0ZW1wb3Jhcnkgb3B0aW9ucyBzZXQgd2hlbiB1c2luZyA8YSBocmVmPSIjZmFjYWRlLmFkZHRvc3RhZ2UiPjxjb2RlPkZhY2FkZS5hZGRUb1N0YWdlPC9jb2RlPjwvYT4uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+a2V5PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgbmFtZSBvZiB0aGUgb3B0aW9uLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2codGV4dC5nZXRPcHRpb24oJiMzOTt2YWx1ZSYjMzk7KSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuRW50aXR5LnByb3RvdHlwZS5nZXRPcHRpb24gPSBmdW5jdGlvbiAoa2V5KSB7CgogICAgaWYgKHRoaXMuX29wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKSB7CgogICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zW2tleV07CgogICAgfQoKICAgIHJldHVybiB1bmRlZmluZWQ7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gPGNvZGU+RnVuY3Rpb248L2NvZGU+IDxjb2RlPlN0cmluZzwvY29kZT4gPGNvZGU+SW50ZWdlcjwvY29kZT4gIFZhbHVlIG9mIHRoZSBvcHRpb24gcmVxdWVzdGVkLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldGFsbG9wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5lbnRpdHkucHJvdG90eXBlLmdldGFsbG9wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuZ2V0QWxsT3B0aW9ucygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhbGwgb3B0aW9ucy4gT25seSByZXRyaWV2ZXMgb3B0aW9ucyBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBGYWNhZGUuanMgZW50aXR5IG9yIHVzaW5nIDxhIGhyZWY9IiNmYWNhZGUuZW50aXR5LnByb3RvdHlwZS5zZXRvcHRpb25zIj48Y29kZT5zZXRPcHRpb25zPC9jb2RlPjwvYT4gbm90IHRocm91Z2ggdGVtcG9yYXJ5IG9wdGlvbnMgc2V0IHdoZW4gdXNpbmcgPGEgaHJlZj0iI2ZhY2FkZS5hZGR0b3N0YWdlIj48Y29kZT5GYWNhZGUuYWRkVG9TdGFnZTwvY29kZT48L2E+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyh0ZXh0LmdldEFsbE9wdGlvbnMoKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkVudGl0eS5wcm90b3R5cGUuZ2V0QWxsT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgb3B0aW9ucyA9IHt9LAogICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9vcHRpb25zKSwKICAgICAgICBpLAogICAgICAgIGxlbmd0aDsKCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgIG9wdGlvbnNba2V5c1tpXV0gPSB0aGlzLl9vcHRpb25zW2tleXNbaV1dOwoKICAgIH0KCiAgICByZXR1cm4gb3B0aW9uczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE9iamVjdCBjb250YWluaW5nIGFsbCBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fc2V0b3B0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5fc2V0b3B0aW9uIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5Ll9zZXRPcHRpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldHMgYW4gb3B0aW9uIGZvciBhIGdpdmVuIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5rZXk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBvcHRpb24gdG8gdXBkYXRlLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnZhbHVlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+RnVuY3Rpb248L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgbmV3IHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgb3B0aW9uLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnRlc3Q8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5Cb29sZWFuPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GbGFnIHRvIGRldGVybWluZSBpZiBvcHRpb25zIGFyZSB0byBiZSBwZXJzaXN0ZWQgaW4gdGhlIGVudGl0eSBvciBqdXN0IHJldHVybmVkLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2codGV4dC5fc2V0T3B0aW9uKCYjMzk7dmFsdWUmIzM5OywgJiMzOTtIZWxsbyB3b3JsZCEmIzM5OykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLl9zZXRPcHRpb24gPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgdGVzdCkgewoKICAgIGlmICh0aGlzLl9vcHRpb25zW2tleV0gIT09IHVuZGVmaW5lZCkgewoKICAgICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnNba2V5XSA9PT0gJiN4Mjc7bnVtYmVyJiN4Mjc7ICZhbXA7JmFtcDsgdHlwZW9mIHZhbHVlID09PSAmI3gyNztzdHJpbmcmI3gyNzspIHsKCiAgICAgICAgICAgIGlmICh2YWx1ZS5tYXRjaChfT1BFUkFUT1JfVEVTVCkpIHsKCiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX29wdGlvbnNba2V5XSArIHBhcnNlRmxvYXQodmFsdWUucmVwbGFjZSgmI3gyNzs9JiN4Mjc7LCAmI3gyNzsmI3gyNzspKTsKCiAgICAgICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBpZiAoU3RyaW5nKHR5cGVvZiB0aGlzLl9vcHRpb25zW2tleV0pID09PSBTdHJpbmcodHlwZW9mIHZhbHVlKSkgewoKICAgICAgICAgICAgaWYgKCF0ZXN0KSB7CgogICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9uc1trZXldID0gdmFsdWU7CgogICAgICAgICAgICB9CgogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJiN4Mjc7VGhlIHZhbHVlIGZvciAmI3gyNzsgKyBrZXkgKyAmI3gyNzsgKCYjeDI3OyArIHZhbHVlICsgJiN4Mjc7KSB3YXMgYSAmI3gyNzsgKyBTdHJpbmcodHlwZW9mIHZhbHVlKSArICYjeDI3OyBub3QgYSAmI3gyNzsgKyBTdHJpbmcodHlwZW9mIHRoaXMuX29wdGlvbnNba2V5XSkgKyAmI3gyNzsuJiN4Mjc7KTsKCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdmFsdWU7CgogICAgfQoKICAgIHJldHVybiB1bmRlZmluZWQ7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+IDxjb2RlPkZ1bmN0aW9uPC9jb2RlPiA8Y29kZT5TdHJpbmc8L2NvZGU+IDxjb2RlPkludGVnZXI8L2NvZGU+ICBSZXR1cm5zIHZhbHVlIG9mIHRoZSB1cGRhdGVkIG9wdGlvbi48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5zZXRvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5zZXRvcHRpb25zIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5LnNldE9wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldHMgYSBncm91cCBvZiBvcHRpb25zIGFzIGtleS12YWx1ZSBwYWlycyB0byBhbiBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dXBkYXRlZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIG9wdGlvbnMgdG8gdXBkYXRlLiBEb2VzIG5vdCBuZWVkIHRvIGJlIGVudGlyZSBzZXQgb2Ygb3B0aW9ucy48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj50ZXN0PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+Qm9vbGVhbjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmxhZyB0byBkZXRlcm1pbmUgaWYgb3B0aW9ucyBhcmUgdG8gYmUgcGVyc2lzdGVkIGluIHRoZSBlbnRpdHkgb3IganVzdCByZXR1cm5lZC48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHRleHQuc2V0T3B0aW9ucyh7IGZvbnRGYW1pbHk6ICYjMzk7R2VvcmdpYSYjMzk7LCBmb250U2l6ZTogMjAgfSkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuRW50aXR5LnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24gKHVwZGF0ZWQsIHRlc3QpIHsKCiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZ2V0QWxsT3B0aW9ucygpLAogICAgICAgIGtleXMsCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgaWYgKHVwZGF0ZWQpIHsKCiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHVwZGF0ZWQpOwoKICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgICAgICBpZiAob3B0aW9uc1trZXlzW2ldXSAhPT0gdW5kZWZpbmVkKSB7CgogICAgICAgICAgICAgICAgb3B0aW9uc1trZXlzW2ldXSA9IHRoaXMuX3NldE9wdGlvbihrZXlzW2ldLCB1cGRhdGVkW2tleXNbaV1dLCB0ZXN0KTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBpZiAoIXRlc3QpIHsKCiAgICAgICAgICAgIHRoaXMuX3NldE1ldHJpY3MoKTsKCiAgICAgICAgfQoKICAgIH0KCiAgICByZXR1cm4gb3B0aW9uczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBVcGRhdGVkIG9wdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuZ2V0bWV0cmljIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRtZXRyaWMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5FbnRpdHkuZ2V0TWV0cmljKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gbWV0cmljLiBPbmx5IHJldHJpZXZlcyBtZXRyaWNzIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IEZhY2FkZS5qcyBlbnRpdHkgb3IgdXNpbmcgPGEgaHJlZj0iI2ZhY2FkZS5lbnRpdHkucHJvdG90eXBlLnNldG9wdGlvbnMiPjxjb2RlPnNldE9wdGlvbnM8L2NvZGU+PC9hPiBub3QgdGhyb3VnaCB0ZW1wb3Jhcnkgb3B0aW9ucyBzZXQgd2hlbiB1c2luZyA8YSBocmVmPSIjZmFjYWRlLmFkZHRvc3RhZ2UiPjxjb2RlPkZhY2FkZS5hZGRUb1N0YWdlPC9jb2RlPjwvYT4uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+a2V5PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgbmFtZSBvZiB0aGUgbWV0cmljLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2codGV4dC5nZXRNZXRyaWMoJiMzOTt3aWR0aCYjMzk7KSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuRW50aXR5LnByb3RvdHlwZS5nZXRNZXRyaWMgPSBmdW5jdGlvbiAoa2V5KSB7CgogICAgaWYgKHRoaXMuX21ldHJpY3Nba2V5XSAhPT0gdW5kZWZpbmVkKSB7CgogICAgICAgIHJldHVybiB0aGlzLl9tZXRyaWNzW2tleV07CgogICAgfQoKICAgIHJldHVybiB1bmRlZmluZWQ7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPkludGVnZXI8L2NvZGU+ICBWYWx1ZSBvZiB0aGUgbWV0cmljIHJlcXVlc3RlZC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRhbGxtZXRyaWNzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5nZXRhbGxtZXRyaWNzIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5LmdldEFsbE1ldHJpY3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYWxsIG1ldHJpY3MuIE9ubHkgcmV0cmlldmVzIG1ldHJpY3Mgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgRmFjYWRlLmpzIGVudGl0eSBvciB1c2luZyA8YSBocmVmPSIjZmFjYWRlLmVudGl0eS5wcm90b3R5cGUuc2V0b3B0aW9ucyI+PGNvZGU+c2V0T3B0aW9uczwvY29kZT48L2E+IG5vdCB0aHJvdWdoIHRlbXBvcmFyeSBvcHRpb25zIHNldCB3aGVuIHVzaW5nIDxhIGhyZWY9IiNmYWNhZGUuYWRkdG9zdGFnZSI+PGNvZGU+RmFjYWRlLmFkZFRvU3RhZ2U8L2NvZGU+PC9hPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2codGV4dC5nZXRBbGxNZXRyaWNzKCkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLmdldEFsbE1ldHJpY3MgPSBmdW5jdGlvbiAoKSB7CgogICAgdmFyIG1ldHJpY3MgPSB7fSwKICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fbWV0cmljcyksCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICBtZXRyaWNzW2tleXNbaV1dID0gdGhpcy5fbWV0cmljc1trZXlzW2ldXTsKCiAgICB9CgogICAgcmV0dXJuIG1ldHJpY3M7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBPYmplY3QgY29udGFpbmluZyBhbGwgbWV0cmljcy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5kcmF3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZW50aXR5LnByb3RvdHlwZS5kcmF3IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuRW50aXR5LmRyYXcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlbmRlcnMgYW4gZW50aXR5IHRvIGEgY2FudmFzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmZhY2FkZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UZW1wb3Jhcnkgb3B0aW9ucyBmb3IgcmVuZGVyaW5nIGEgRmFjYWRlLmpzIGVudGl0eS48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmVudGl0eS5kcmF3KHN0YWdlKTsKZW50aXR5LmRyYXcoc3RhZ2UsIHsgeDogMTAwLCB5OiAxMDAgfSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5FbnRpdHkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoZmFjYWRlLCB1cGRhdGVkKSB7CgogICAgdmFyIG9wdGlvbnMgPSB0aGlzLnNldE9wdGlvbnModXBkYXRlZCwgdHJ1ZSksCiAgICAgICAgbWV0cmljczsKCiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZ09wdGlvbnMgPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgIG9wdGlvbnMgPSB0aGlzLl9jb25maWdPcHRpb25zKG9wdGlvbnMpOwoKICAgIH0KCiAgICBtZXRyaWNzID0gdXBkYXRlZCA/IHRoaXMuX3NldE1ldHJpY3Mob3B0aW9ucykgOiB0aGlzLmdldEFsbE1ldHJpY3MoKTsKCiAgICBpZiAodHlwZW9mIHRoaXMuX2RyYXcgPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgIGZhY2FkZS5yZW5kZXJXaXRoQ29udGV4dChvcHRpb25zLCB0aGlzLl9kcmF3LmJpbmQodGhpcywgZmFjYWRlLCBvcHRpb25zLCBtZXRyaWNzKSk7CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPnZvaWQ8L2NvZGU+ICA8L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucG9seWdvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24iIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5Qb2x5Z29uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGUgYSBwb2x5Z29uIG9iamVjdC4gSW5oZXJpdHMgYWxsIG1ldGhvZHMgZnJvbSA8Yj5GYWNhZGUuRW50aXR5PC9iPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcHRpb25zIHRvIGNyZWF0ZSB0aGUgcG9seWdvbiB3aXRoLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlggY29vcmRpbmF0ZSB0byBwb3NpdGlvbiB0aGUgcG9seWdvbi4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5ZIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gdGhlIHBvbHlnb24uIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5hbmNob3I8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBvc2l0aW9uIHRvIGFuY2hvciB0aGUgcG9seWdvbi4gPGk+RGVmYXVsdDo8L2k+ICJ0b3AvbGVmdCI8YnI+PHVsPjxsaT50b3AvbGVmdDwvbGk+PGxpPnRvcC9jZW50ZXI8L2xpPjxsaT50b3AvcmlnaHQ8L2xpPjxsaT5jZW50ZXIvbGVmdDwvbGk+PGxpPmNlbnRlcjwvbGk+PGxpPmNlbnRlci9yaWdodDwvbGk+PGxpPmJvdHRvbS9sZWZ0PC9saT48bGk+Ym90dG9tL2NlbnRlcjwvbGk+PGxpPmJvdHRvbS9yaWdodDwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnJvdGF0ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRlZ3JlZXMgdG8gcm90YXRlIHRoZSBwb2x5Z29uLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc2NhbGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgc2NhbGUgb2YgYSBwb2x5Z29uLiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMub3BhY2l0eTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wYWNpdHkgb2YgdGhlIHBvbHlnb24uIEludGVnZXIgYmV0d2VlbiAwIGFuZCAxMDAuIDxpPkRlZmF1bHQ6PC9pPiAxMDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnBvaW50czwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkFycmF5PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5NdWx0aS1kaW1lbnNpb25hbCBhcnJheSBvZiBwb2ludHMgdXNlZCB0byByZW5kZXIgYSBwb2x5Z29uLiBQb2ludCBhcnJheXMgd2l0aCAyIHZhbHVlcyBpcyByZW5kZXJlZCBhcyBhIGxpbmUsIDUgdmFsdWVzIGlzIHJlbmRlcmVkIGFzIGFuIGFyYyBhbmQgNiB2YWx1ZXMgaXMgcmVuZGVyZWQgYXMgYSBiZXppZXIgY3VydmUuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5maWxsU3R5bGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZpbGwgY29sb3IgZm9yIHRoZSBwb2x5Z29uLiBDYW4gYmUgYSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IsIEhFWCwgUkdCKGEpLCBIU0woYSkuIDxpPkRlZmF1bHQ6PC9pPiAiIzAwMCI8YnI+PHVsPjxsaT5IVE1MIENvbG9yczogcmVkLCBncmVlbiwgYmx1ZSwgZXRjLjwvbGk+PGxpPkhFWDogI2YwMCwgI2ZmMDAwMDwvbGk+PGxpPlJHQihhKTogcmdiKDI1NSwgMCwgMCksIHJnYmEoMCwgMjU1LCAwLCAwLjUpPC9saT48bGk+SFNMKGEpOiBoc2woMTAwLCAxMDAlLCA1MCUpLCBoc2xhKDEwMCwgMTAwJSwgNTAlLCAwLjUpPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc3Ryb2tlU3R5bGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNvbG9yIG9mIGEgcG9seWdvbidzIHN0cm9rZS4gQ2FuIGJlIGEgdGV4dCByZXByZXNlbnRhdGlvbiBvZiBhIGNvbG9yLCBIRVgsIFJHQihhKSwgSFNMKGEpLiA8aT5EZWZhdWx0OjwvaT4gIiMwMDAiPGJyPjx1bD48bGk+SFRNTCBDb2xvcnM6IHJlZCwgZ3JlZW4sIGJsdWUsIGV0Yy48L2xpPjxsaT5IRVg6ICNmMDAsICNmZjAwMDA8L2xpPjxsaT5SR0IoYSk6IHJnYigyNTUsIDAsIDApLCByZ2JhKDAsIDI1NSwgMCwgMC41KTwvbGk+PGxpPkhTTChhKTogaHNsKDEwMCwgMTAwJSwgNTAlKSwgaHNsYSgxMDAsIDEwMCUsIDUwJSwgMC41KTwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVXaWR0aDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPldpZHRoIG9mIHRoZSBzdHJva2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5saW5lQ2FwPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgc3R5bGUgb2YgbGluZSBjYXAuIDxpPkRlZmF1bHQ6PC9pPiAiYnV0dCI8YnI+PHVsPjxsaT5idXR0PC9saT48bGk+cm91bmQ8L2xpPjxsaT5zcXVhcmU8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5saW5lSm9pbjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIHN0eWxlIG9mIGxpbmUgam9pbi4gPGk+RGVmYXVsdDo8L2k+ICJtaXRlciI8YnI+PHVsPjxsaT5taXRlcjwvbGk+PGxpPnJvdW5kPC9saT48bGk+YmV2ZWw8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5jbG9zZVBhdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5Cb29sZWFuPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Cb29sZWFuIHRvIGRldGVybWluZSBpZiB0aGUgcG9seWdvbiBzaG91bGQgYmUgc2VsZiBjbG9zaW5nIG9yIG5vdC4gPGk+RGVmYXVsdDo8L2k+IHRydWU8L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnZhciBwb2x5Z29uID0gbmV3IEZhY2FkZS5Qb2x5Z29uKHsKICAgIHg6IDAsCiAgICB5OiAwLAogICAgcG9pbnRzOiBbIFsxMDAsIDBdLCBbMjAwLCAxMDBdLCBbMTAwLCAyMDBdLCBbMCwgMTAwXSBdLAogICAgbGluZVdpZHRoOiAxMCwKICAgIHN0cm9rZVN0eWxlOiAmIzM5OyMzMzNFNEImIzM5OywKICAgIGZpbGxTdHlsZTogJiMzOTsjMUM3M0E4JiMzOTssCiAgICBhbmNob3I6ICYjMzk7dG9wL2xlZnQmIzM5Owp9KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlBvbHlnb24gPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuUG9seWdvbikpIHsKCiAgICAgICAgcmV0dXJuIG5ldyBGYWNhZGUuUG9seWdvbihvcHRpb25zKTsKCiAgICB9CgogICAgdGhpcy5fb3B0aW9ucyA9IHRoaXMuX2RlZmF1bHRPcHRpb25zKCk7CiAgICB0aGlzLl9tZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgTmV3IEZhY2FkZS5Qb2x5Z29uIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucG9seWdvbi5wcm90b3R5cGUuX2RlZmF1bHRvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucG9seWdvbi5wcm90b3R5cGUuX2RlZmF1bHRvcHRpb25zIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuUG9seWdvbi5fZGVmYXVsdE9wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJldHVybnMgYSBkZWZhdWx0IHNldCBvZiBvcHRpb25zIGNvbW1vbiB0byBhbGwgRmFjYWRlLmpzIHBvbHlnb24gZW50aXRpZXMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dXBkYXRlZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QWRkaXRpb25hbCBvcHRpb25zIGFzIGtleS12YWx1ZSBwYWlycy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKEZhY2FkZS5Qb2x5Z29uLnByb3RvdHlwZS5fZGVmYXVsdE9wdGlvbnMoKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuUG9seWdvbi5wcm90b3R5cGUuX2RlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24gKHVwZGF0ZWQpIHsKCiAgICB2YXIgb3B0aW9ucywKICAgICAgICBrZXlzLAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIG9wdGlvbnMgPSBGYWNhZGUuRW50aXR5LnByb3RvdHlwZS5fZGVmYXVsdE9wdGlvbnMoewogICAgICAgIG9wYWNpdHk6IDEwMCwKICAgICAgICBwb2ludHM6IFtdLAogICAgICAgIGZpbGxTdHlsZTogJiN4Mjc7IzAwMCYjeDI3OywKICAgICAgICBzdHJva2VTdHlsZTogJiN4Mjc7JiN4Mjc7LAogICAgICAgIGxpbmVXaWR0aDogMCwKICAgICAgICBsaW5lQ2FwOiAmI3gyNztidXR0JiN4Mjc7LAogICAgICAgIGxpbmVKb2luOiAmI3gyNzttaXRlciYjeDI3OywKICAgICAgICBjbG9zZVBhdGg6IHRydWUKICAgIH0pOwoKICAgIGlmICh1cGRhdGVkKSB7CgogICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVkKTsKCiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICAgICAgb3B0aW9uc1trZXlzW2ldXSA9IHVwZGF0ZWRba2V5c1tpXV07CgogICAgICAgIH0KCiAgICB9CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIERlZmF1bHQgc2V0IG9mIG9wdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fZHJhdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnBvbHlnb24ucHJvdG90eXBlLl9kcmF3IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuUG9seWdvbi5fZHJhdygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVuZGVycyBhIHBvbHlnb24gZW50aXR5IHRvIGEgY2FudmFzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPmZhY2FkZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLmpzIG9iamVjdC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcHRpb25zIHVzZWQgdG8gcmVuZGVyIHRoZSBwb2x5Z29uLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm1ldHJpY3M8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk1ldHJpY3MgdXNlZCB0byByZW5kZXIgdGhlIHBvbHlnb24uPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5wb2x5Z29uLl9kcmF3KGZhY2FkZSwgb3B0aW9ucywgbWV0cmljcyk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlBvbHlnb24ucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24gKGZhY2FkZSwgb3B0aW9ucywgbWV0cmljcykgewoKICAgIHZhciBjb250ZXh0ID0gZmFjYWRlLmNvbnRleHQsCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgdGhpcy5fYXBwbHlUcmFuc2Zvcm1zKGNvbnRleHQsIG9wdGlvbnMsIG1ldHJpY3MpOwoKICAgIGlmIChvcHRpb25zLnBvaW50cy5sZW5ndGgpIHsKCiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsKCiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb3B0aW9ucy5wb2ludHMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgICAgIGlmIChvcHRpb25zLnBvaW50c1tpXS5sZW5ndGggPT09IDYpIHsKCiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8uYXBwbHkoY29udGV4dCwgb3B0aW9ucy5wb2ludHNbaV0pOwoKICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnBvaW50c1tpXS5sZW5ndGggPT09IDUpIHsKCiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYy5hcHBseShjb250ZXh0LCBvcHRpb25zLnBvaW50c1tpXSk7CgogICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucG9pbnRzW2ldLmxlbmd0aCA9PT0gMikgewoKICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIG9wdGlvbnMucG9pbnRzW2ldKTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy5jbG9zZVBhdGgpIHsKCiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CgogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICBjb250ZXh0Lm1vdmVUby5hcHBseShjb250ZXh0LCBvcHRpb25zLnBvaW50c1tsZW5ndGggLSAxXSk7CgogICAgICAgIH0KCiAgICAgICAgaWYgKG9wdGlvbnMuZmlsbFN0eWxlKSB7CgogICAgICAgICAgICBjb250ZXh0LmZpbGwoKTsKCiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy5saW5lV2lkdGggJmd0OyAwKSB7CgogICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpOwoKICAgICAgICB9CgogICAgfQoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucG9seWdvbi5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlBvbHlnb24uX2NvbmZpZ09wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBjb25maWd1cmF0aW9uIGZvciBvcHRpb25zIHNwZWNpZmljIHRvIGEgcG9seWdvbiBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29tcGxldGUgc2V0IG9mIHBvbHlnb24gc3BlY2lmaWMgb3B0aW9ucy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHBvbHlnb24uX2NvbmZpZ09wdGlvbnMob3B0aW9ucykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlBvbHlnb24ucHJvdG90eXBlLl9jb25maWdPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCiAgICBvcHRpb25zLnRyYW5zbGF0ZSA9IFsgb3B0aW9ucy54LCBvcHRpb25zLnkgXTsKICAgIG9wdGlvbnMuZ2xvYmFsQWxwaGEgPSBvcHRpb25zLm9wYWNpdHkgLyAxMDA7CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIENvbnZlcnRlZCBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucG9seWdvbi5wcm90b3R5cGUuX3NldG1ldHJpY3MiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5wb2x5Z29uLnByb3RvdHlwZS5fc2V0bWV0cmljcyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlBvbHlnb24uX3NldE1ldHJpY3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldCBtZXRyaWNzIGJhc2VkIG9uIHRoZSBwb2x5Z29uJiMzOTtzIG9wdGlvbnMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dXBkYXRlZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VzdG9tIG9wdGlvbnMgdXNlZCB0byByZW5kZXIgdGhlIHBvbHlnb24uPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhwb2x5Z29uLl9zZXRNZXRyaWNzKCkpOwpjb25zb2xlLmxvZyhwb2x5Z29uLl9zZXRNZXRyaWNzKG9wdGlvbnMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5Qb2x5Z29uLnByb3RvdHlwZS5fc2V0TWV0cmljcyA9IGZ1bmN0aW9uICh1cGRhdGVkKSB7CgogICAgdmFyIG1ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpLAogICAgICAgIG9wdGlvbnMgPSB1cGRhdGVkIHx8IHRoaXMuZ2V0QWxsT3B0aW9ucygpLAogICAgICAgIGJvdW5kcyA9IHsgdG9wOiBudWxsLCByaWdodDogbnVsbCwgYm90dG9tOiBudWxsLCBsZWZ0OiBudWxsIH0sCiAgICAgICAgcG9pbnQsCiAgICAgICAgaSwKICAgICAgICBsZW5ndGgsCiAgICAgICAgYW5jaG9yLAogICAgICAgIHN0cm9rZVdpZHRoT2Zmc2V0ID0gdGhpcy5fZ2V0U3Ryb2tlV2lkdGhPZmZzZXQob3B0aW9ucyk7CgogICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWdPcHRpb25zID09PSAmI3gyNztmdW5jdGlvbiYjeDI3OykgewoKICAgICAgICBvcHRpb25zID0gdGhpcy5fY29uZmlnT3B0aW9ucyhvcHRpb25zKTsKCiAgICB9CgogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb3B0aW9ucy5wb2ludHMubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgaWYgKG9wdGlvbnMucG9pbnRzW2ldLmxlbmd0aCA9PT0gMikgeyAvLyBSZWN0CgogICAgICAgICAgICBwb2ludCA9IHsgeDogb3B0aW9ucy5wb2ludHNbaV1bMF0sIHk6IG9wdGlvbnMucG9pbnRzW2ldWzFdIH07CgogICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wb2ludHNbaV0ubGVuZ3RoID09PSA1KSB7IC8vIENpcmNsZQoKICAgICAgICAgICAgbWV0cmljcy53aWR0aCA9IG9wdGlvbnMucG9pbnRzW2ldWzJdICogMjsKICAgICAgICAgICAgbWV0cmljcy5oZWlnaHQgPSBvcHRpb25zLnBvaW50c1tpXVsyXSAqIDI7CgogICAgICAgICAgICBwb2ludCA9IHsKICAgICAgICAgICAgICAgIHg6IG9wdGlvbnMucG9pbnRzW2ldWzBdIC0gb3B0aW9ucy5wb2ludHNbaV1bMl0sCiAgICAgICAgICAgICAgICB5OiBvcHRpb25zLnBvaW50c1tpXVsxXSAtIG9wdGlvbnMucG9pbnRzW2ldWzJdCiAgICAgICAgICAgIH07CgogICAgICAgIH0KCiAgICAgICAgaWYgKHBvaW50LnggJmx0OyBib3VuZHMubGVmdCB8fCBib3VuZHMubGVmdCA9PT0gbnVsbCkgewoKICAgICAgICAgICAgYm91bmRzLmxlZnQgPSBwb2ludC54OwoKICAgICAgICB9CgogICAgICAgIGlmIChwb2ludC55ICZsdDsgYm91bmRzLnRvcCB8fCBib3VuZHMudG9wID09PSBudWxsKSB7CgogICAgICAgICAgICBib3VuZHMudG9wID0gcG9pbnQueTsKCiAgICAgICAgfQoKICAgICAgICBpZiAocG9pbnQueCAmZ3Q7IGJvdW5kcy5yaWdodCB8fCBib3VuZHMucmlnaHQgPT09IG51bGwpIHsKCiAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IHBvaW50Lng7CgogICAgICAgIH0KCiAgICAgICAgaWYgKHBvaW50LnkgJmd0OyBib3VuZHMuYm90dG9tIHx8IGJvdW5kcy5ib3R0b20gPT09IG51bGwpIHsKCiAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSBwb2ludC55OwoKICAgICAgICB9CgogICAgfQoKICAgIG1ldHJpY3MueCA9IG9wdGlvbnMueCArIGJvdW5kcy5sZWZ0OwogICAgbWV0cmljcy55ID0gb3B0aW9ucy55ICsgYm91bmRzLnRvcDsKCiAgICBpZiAobWV0cmljcy53aWR0aCA9PT0gbnVsbCAmYW1wOyZhbXA7IG1ldHJpY3MuaGVpZ2h0ID09PSBudWxsKSB7CgogICAgICAgIG1ldHJpY3Mud2lkdGggPSBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdDsKICAgICAgICBtZXRyaWNzLmhlaWdodCA9IGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wOwoKICAgIH0KCiAgICBtZXRyaWNzLndpZHRoID0gKG1ldHJpY3Mud2lkdGggKyBzdHJva2VXaWR0aE9mZnNldCAqIDIpICogb3B0aW9ucy5zY2FsZTsKICAgIG1ldHJpY3MuaGVpZ2h0ID0gKG1ldHJpY3MuaGVpZ2h0ICsgc3Ryb2tlV2lkdGhPZmZzZXQgKiAyKSAqIG9wdGlvbnMuc2NhbGU7CgogICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yUG9pbnQob3B0aW9ucywgbWV0cmljcyk7CgogICAgbWV0cmljcy54ID0gbWV0cmljcy54ICsgYW5jaG9yWzBdIC0gc3Ryb2tlV2lkdGhPZmZzZXQ7CiAgICBtZXRyaWNzLnkgPSBtZXRyaWNzLnkgKyBhbmNob3JbMV0gLSBzdHJva2VXaWR0aE9mZnNldDsKCiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEZhY2FkZS5DaXJjbGUpIHsKCiAgICAgICAgbWV0cmljcy54ID0gbWV0cmljcy54ICsgb3B0aW9ucy5yYWRpdXM7CiAgICAgICAgbWV0cmljcy55ID0gbWV0cmljcy55ICsgb3B0aW9ucy5yYWRpdXM7CgogICAgfQoKICAgIGlmICghdXBkYXRlZCkgewoKICAgICAgICB0aGlzLl9tZXRyaWNzID0gbWV0cmljczsKCiAgICB9CgogICAgcmV0dXJuIG1ldHJpY3M7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE9iamVjdCB3aXRoIG1ldHJpY3MgYXMga2V5LXZhbHVlIHBhaXJzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5DaXJjbGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNyZWF0ZSBhIGNpcmNsZSBvYmplY3QuIEluaGVyaXRzIGFsbCBtZXRob2RzIGZyb20gPGI+RmFjYWRlLlBvbHlnb248L2I+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdG8gY3JlYXRlIHRoZSBjaXJjbGUgd2l0aC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLng8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5YIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gdGhlIGNpcmNsZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5ZIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gdGhlIGNpcmNsZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmFuY2hvcjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UG9zaXRpb24gdG8gYW5jaG9yIHRoZSBjaXJjbGUuIDxpPkRlZmF1bHQ6PC9pPiAidG9wL2xlZnQiPGJyPjx1bD48bGk+dG9wL2xlZnQ8L2xpPjxsaT50b3AvY2VudGVyPC9saT48bGk+dG9wL3JpZ2h0PC9saT48bGk+Y2VudGVyL2xlZnQ8L2xpPjxsaT5jZW50ZXI8L2xpPjxsaT5jZW50ZXIvcmlnaHQ8L2xpPjxsaT5ib3R0b20vbGVmdDwvbGk+PGxpPmJvdHRvbS9jZW50ZXI8L2xpPjxsaT5ib3R0b20vcmlnaHQ8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5yb3RhdGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5EZWdyZWVzIHRvIHJvdGF0ZSB0aGUgY2lyY2xlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc2NhbGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgc2NhbGUgb2YgYSBjaXJjbGUuIDxpPkRlZmF1bHQ6PC9pPiAxPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5vcGFjaXR5PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3BhY2l0eSBvZiB0aGUgY2lyY2xlLiBJbnRlZ2VyIGJldHdlZW4gMCBhbmQgMTAwLiA8aT5EZWZhdWx0OjwvaT4gMTAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5maWxsU3R5bGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZpbGwgY29sb3IgZm9yIHRoZSBjaXJjbGUuIENhbiBiZSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvciwgSEVYLCBSR0IoYSksIEhTTChhKS4gPGk+RGVmYXVsdDo8L2k+ICIjMDAwIjxicj48dWw+PGxpPkhUTUwgQ29sb3JzOiByZWQsIGdyZWVuLCBibHVlLCBldGMuPC9saT48bGk+SEVYOiAjZjAwLCAjZmYwMDAwPC9saT48bGk+UkdCKGEpOiByZ2IoMjU1LCAwLCAwKSwgcmdiYSgwLCAyNTUsIDAsIDAuNSk8L2xpPjxsaT5IU0woYSk6IGhzbCgxMDAsIDEwMCUsIDUwJSksIGhzbGEoMTAwLCAxMDAlLCA1MCUsIDAuNSk8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zdHJva2VTdHlsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29sb3Igb2YgYSBjaXJjbGUncyBzdHJva2UuIENhbiBiZSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvciwgSEVYLCBSR0IoYSksIEhTTChhKS4gPGk+RGVmYXVsdDo8L2k+ICIjMDAwIjxicj48dWw+PGxpPkhUTUwgQ29sb3JzOiByZWQsIGdyZWVuLCBibHVlLCBldGMuPC9saT48bGk+SEVYOiAjZjAwLCAjZmYwMDAwPC9saT48bGk+UkdCKGEpOiByZ2IoMjU1LCAwLCAwKSwgcmdiYSgwLCAyNTUsIDAsIDAuNSk8L2xpPjxsaT5IU0woYSk6IGhzbCgxMDAsIDEwMCUsIDUwJSksIGhzbGEoMTAwLCAxMDAlLCA1MCUsIDAuNSk8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5saW5lV2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XaWR0aCBvZiB0aGUgc3Ryb2tlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZUNhcDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIHN0eWxlIG9mIGxpbmUgY2FwLiA8aT5EZWZhdWx0OjwvaT4gImJ1dHQiPGJyPjx1bD48bGk+YnV0dDwvbGk+PGxpPnJvdW5kPC9saT48bGk+c3F1YXJlPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZUpvaW48L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBzdHlsZSBvZiBsaW5lIGpvaW4uIDxpPkRlZmF1bHQ6PC9pPiAibWl0ZXIiPGJyPjx1bD48bGk+bWl0ZXI8L2xpPjxsaT5yb3VuZDwvbGk+PGxpPmJldmVsPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMucmFkaXVzPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmFkaXVzIG9mIHRoZSBjaXJjbGUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zdGFydDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRlZ3JlZSBhdCB3aGljaCB0aGUgY2lyY2xlIGJlZ2lucy4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmVuZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRlZ3JlZSBhdCB3aGljaCB0aGUgY2lyY2xlIGVuZHMuIDxpPkRlZmF1bHQ6PC9pPiAzNjA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmNvdW50ZXJjbG9ja3dpc2U8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5Cb29sZWFuPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Cb29sZWFuIGRldGVybWluaW5nIGlmIHRoZSBjaXJjbGUgd2lsbCBiZSBkcmF3biBpbiBhIGNvdW50ZXIgY2xvY2t3aXNlIGRpcmVjdGlvbi4gPGk+RGVmYXVsdDo8L2k+IGZhbHNlPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT52YXIgY2lyY2xlID0gbmV3IEZhY2FkZS5DaXJjbGUoewogICAgeDogMCwKICAgIHk6IDAsCiAgICByYWRpdXM6IDEwMCwKICAgIGxpbmVXaWR0aDogMTAsCiAgICBzdHJva2VTdHlsZTogJiMzOTsjMzMzRTRCJiMzOTssCiAgICBmaWxsU3R5bGU6ICYjMzk7IzFDNzNBOCYjMzk7LAogICAgYW5jaG9yOiAmIzM5O3RvcC9sZWZ0JiMzOTsKfSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuQ2lyY2xlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmFjYWRlLkNpcmNsZSkpIHsKCiAgICAgICAgcmV0dXJuIG5ldyBGYWNhZGUuQ2lyY2xlKG9wdGlvbnMpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoewogICAgICAgIHJhZGl1czogMCwKICAgICAgICBiZWdpbjogMCwKICAgICAgICBlbmQ6IDM2MCwKICAgICAgICBjb3VudGVyY2xvY2t3aXNlOiBmYWxzZQogICAgfSk7CiAgICB0aGlzLl9tZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE5ldyBGYWNhZGUuQ2lyY2xlIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuY2lyY2xlLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZS5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5DaXJjbGUuX2NvbmZpZ09wdGlvbnMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBjb25maWd1cmF0aW9uIGZvciBvcHRpb25zIHNwZWNpZmljIHRvIGEgY2lyY2xlIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db21wbGV0ZSBzZXQgb2YgY2lyY2xlIHNwZWNpZmljIG9wdGlvbnMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhjaXJjbGUuX2NvbmZpZ09wdGlvbnMob3B0aW9ucykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkNpcmNsZS5wcm90b3R5cGUuX2NvbmZpZ09wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIG9wdGlvbnMudHJhbnNsYXRlID0gWyBvcHRpb25zLngsIG9wdGlvbnMueSBdOwogICAgb3B0aW9ucy5nbG9iYWxBbHBoYSA9IG9wdGlvbnMub3BhY2l0eSAvIDEwMDsKCiAgICBpZiAob3B0aW9ucy5jb3VudGVyY2xvY2t3aXNlKSB7CgogICAgICAgIG9wdGlvbnMucG9pbnRzID0gWyBbIDAsIDAsIG9wdGlvbnMucmFkaXVzLCBvcHRpb25zLmVuZCAqIF9UT19SQURJQU5TLCBvcHRpb25zLmJlZ2luICogX1RPX1JBRElBTlMgXSBdOwoKICAgIH0gZWxzZSB7CgogICAgICAgIG9wdGlvbnMucG9pbnRzID0gWyBbIDAsIDAsIG9wdGlvbnMucmFkaXVzLCBvcHRpb25zLmJlZ2luICogX1RPX1JBRElBTlMsIG9wdGlvbnMuZW5kICogX1RPX1JBRElBTlMgXSBdOwoKICAgIH0KCiAgICByZXR1cm4gb3B0aW9uczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgQ29udmVydGVkIG9wdGlvbnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5jaXJjbGUucHJvdG90eXBlLl9nZXRhbmNob3Jwb2ludCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZS5wcm90b3R5cGUuX2dldGFuY2hvcnBvaW50IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuQ2lyY2xlLl9nZXRBbmNob3JQb2ludCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmV0dXJucyBhbiBhcnJheSBvZiB0aGUgeCBhbmQgeSBhbmNob3IgcG9zaXRpb25zIGJhc2VkIG9uIGdpdmVuIG9wdGlvbnMgYW5kIG1ldHJpY3MuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLkNpcmNsZSBvcHRpb25zLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm1ldHJpY3M8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5DaXJjbGUgbWV0cmljcy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGNpcmNsZS5fZ2V0QW5jaG9yUG9pbnQob3B0aW9ucywgbWV0cmljcykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuQ2lyY2xlLnByb3RvdHlwZS5fZ2V0QW5jaG9yUG9pbnQgPSBmdW5jdGlvbiAob3B0aW9ucywgbWV0cmljcykgewoKICAgIHZhciBwb3MgPSBGYWNhZGUuUG9seWdvbi5wcm90b3R5cGUuX2dldEFuY2hvclBvaW50LmNhbGwodGhpcywgb3B0aW9ucywgbWV0cmljcyk7CgogICAgcG9zWzBdID0gcG9zWzBdICsgb3B0aW9ucy5yYWRpdXM7CiAgICBwb3NbMV0gPSBwb3NbMV0gKyBvcHRpb25zLnJhZGl1czsKCiAgICByZXR1cm4gcG9zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPkFycmF5PC9jb2RlPiAgQXJyYXkgd2l0aCB0aGUgeCBhbmQgeSBhbmNob3IgcG9zaXRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuY2lyY2xlLnByb3RvdHlwZS5fc2V0bWV0cmljcyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmNpcmNsZS5wcm90b3R5cGUuX3NldG1ldHJpY3MiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5DaXJjbGUuX3NldE1ldHJpY3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldCBtZXRyaWNzIGJhc2VkIG9uIHRoZSBjaXJjbGUmIzM5O3Mgb3B0aW9ucy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gb3B0aW9ucyB1c2VkIHRvIHJlbmRlciB0aGUgY2lyY2xlLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coY2lyY2xlLl9zZXRNZXRyaWNzKCkpOwpjb25zb2xlLmxvZyhjaXJjbGUuX3NldE1ldHJpY3Mob3B0aW9ucykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkNpcmNsZS5wcm90b3R5cGUuX3NldE1ldHJpY3MgPSBmdW5jdGlvbiAodXBkYXRlZCkgewoKICAgIHZhciBtZXRyaWNzID0gRmFjYWRlLlBvbHlnb24ucHJvdG90eXBlLl9zZXRNZXRyaWNzLmNhbGwodGhpcywgdXBkYXRlZCksCiAgICAgICAgb3B0aW9ucyA9IHVwZGF0ZWQgfHwgdGhpcy5nZXRBbGxPcHRpb25zKCk7CgogICAgbWV0cmljcy54ID0gbWV0cmljcy54IC0gb3B0aW9ucy5yYWRpdXM7CiAgICBtZXRyaWNzLnkgPSBtZXRyaWNzLnkgLSBvcHRpb25zLnJhZGl1czsKCiAgICBpZiAoIXVwZGF0ZWQpIHsKCiAgICAgICAgdGhpcy5fbWV0cmljcyA9IG1ldHJpY3M7CgogICAgfQoKICAgIHJldHVybiBtZXRyaWNzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBPYmplY3Qgd2l0aCBtZXRyaWNzIGFzIGtleS12YWx1ZSBwYWlycy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUubGluZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmxpbmUiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5MaW5lKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGUgYSBsaW5lIG9iamVjdC4gSW5oZXJpdHMgYWxsIG1ldGhvZHMgZnJvbSA8Yj5GYWNhZGUuUG9seWdvbjwvYj4uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB0byBjcmVhdGUgdGhlIGxpbmUgd2l0aC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLng8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5YIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gdGhlIGxpbmUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy55PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WSBjb29yZGluYXRlIHRvIHBvc2l0aW9uIHRoZSBsaW5lLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuYW5jaG9yPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Qb3NpdGlvbiB0byBhbmNob3IgdGhlIGxpbmUuIDxpPkRlZmF1bHQ6PC9pPiAidG9wL2xlZnQiPGJyPjx1bD48bGk+dG9wL2xlZnQ8L2xpPjxsaT50b3AvY2VudGVyPC9saT48bGk+dG9wL3JpZ2h0PC9saT48bGk+Y2VudGVyL2xlZnQ8L2xpPjxsaT5jZW50ZXI8L2xpPjxsaT5jZW50ZXIvcmlnaHQ8L2xpPjxsaT5ib3R0b20vbGVmdDwvbGk+PGxpPmJvdHRvbS9jZW50ZXI8L2xpPjxsaT5ib3R0b20vcmlnaHQ8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5yb3RhdGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5EZWdyZWVzIHRvIHJvdGF0ZSB0aGUgbGluZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnNjYWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QSBmbG9hdCByZXByZXNlbnRpbmcgdGhlIHNjYWxlIG9mIGEgbGluZS4gPGk+RGVmYXVsdDo8L2k+IDE8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLm9wYWNpdHk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcGFjaXR5IG9mIHRoZSBsaW5lLiBJbnRlZ2VyIGJldHdlZW4gMCBhbmQgMTAwLiA8aT5EZWZhdWx0OjwvaT4gMTAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zdHJva2VTdHlsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29sb3Igb2YgYSBsaW5lLiBDYW4gYmUgYSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IsIEhFWCwgUkdCKGEpLCBIU0woYSkuIDxpPkRlZmF1bHQ6PC9pPiAiIzAwMCI8YnI+PHVsPjxsaT5IVE1MIENvbG9yczogcmVkLCBncmVlbiwgYmx1ZSwgZXRjLjwvbGk+PGxpPkhFWDogI2YwMCwgI2ZmMDAwMDwvbGk+PGxpPlJHQihhKTogcmdiKDI1NSwgMCwgMCksIHJnYmEoMCwgMjU1LCAwLCAwLjUpPC9saT48bGk+SFNMKGEpOiBoc2woMTAwLCAxMDAlLCA1MCUpLCBoc2xhKDEwMCwgMTAwJSwgNTAlLCAwLjUpPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZVdpZHRoPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+V2lkdGggb2YgdGhlIHN0cm9rZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVDYXA8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoZSBzdHlsZSBvZiBsaW5lIGNhcC4gPGk+RGVmYXVsdDo8L2k+ICJidXR0Ijxicj48dWw+PGxpPmJ1dHQ8L2xpPjxsaT5yb3VuZDwvbGk+PGxpPnNxdWFyZTwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLngxPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WCBjb29yZGluYXRlIHdoZXJlIGxpbmUgYmVnaW5zLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueTE8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5ZIGNvb3JkaW5hdGUgd2hlcmUgbGluZSBiZWdpbnMuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy54MjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlggY29vcmRpbmF0ZSB3aGVyZSBsaW5lIGVuZHMuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy55MjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlkgY29vcmRpbmF0ZSB3aGVyZSBsaW5lIGVuZHMuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT52YXIgbGluZSA9IG5ldyBGYWNhZGUuTGluZSh7CiAgICB4OiAwLAogICAgeTogMCwKICAgIHgxOiAwLAogICAgeDI6IDIwMCwKICAgIGxpbmVXaWR0aDogMTAsCiAgICBzdHJva2VTdHlsZTogJiMzOTsjMzMzRTRCJiMzOTssCiAgICBhbmNob3I6ICYjMzk7dG9wL2xlZnQmIzM5Owp9KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkxpbmUgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuTGluZSkpIHsKCiAgICAgICAgcmV0dXJuIG5ldyBGYWNhZGUuTGluZShvcHRpb25zKTsKCiAgICB9CgogICAgdGhpcy5fb3B0aW9ucyA9IHRoaXMuX2RlZmF1bHRPcHRpb25zKHsKICAgICAgICB4MTogMCwKICAgICAgICB5MTogMCwKICAgICAgICB4MjogMCwKICAgICAgICB5MjogMCwKICAgICAgICBsaW5lV2lkdGg6IDEKICAgIH0pOwogICAgdGhpcy5fbWV0cmljcyA9IHRoaXMuX2RlZmF1bHRNZXRyaWNzKCk7CgogICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE5ldyBGYWNhZGUuTGluZSBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmxpbmUucHJvdG90eXBlLl9jb25maWdvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUubGluZS5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5MaW5lLl9jb25maWdPcHRpb25zKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gY29uZmlndXJhdGlvbiBmb3Igb3B0aW9ucyBzcGVjaWZpYyB0byBhIGxpbmUgZW50aXR5LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNvbXBsZXRlIHNldCBvZiBsaW5lIHNwZWNpZmljIG9wdGlvbnMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhsaW5lLl9jb25maWdPcHRpb25zKG9wdGlvbnMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5MaW5lLnByb3RvdHlwZS5fY29uZmlnT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgb3B0aW9ucy50cmFuc2xhdGUgPSBbIG9wdGlvbnMueCwgb3B0aW9ucy55IF07CiAgICBvcHRpb25zLmdsb2JhbEFscGhhID0gb3B0aW9ucy5vcGFjaXR5IC8gMTAwOwogICAgb3B0aW9ucy5jbG9zZVBhdGggPSBmYWxzZTsKCiAgICBvcHRpb25zLnBvaW50cyA9IFsgWyBvcHRpb25zLngxLCBvcHRpb25zLnkxIF0sIFsgb3B0aW9ucy54Miwgb3B0aW9ucy55MiBdIF07CgogICAgcmV0dXJuIG9wdGlvbnM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIENvbnZlcnRlZCBvcHRpb25zLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUubGluZS5wcm90b3R5cGUuX2dldGFuY2hvcnBvaW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUubGluZS5wcm90b3R5cGUuX2dldGFuY2hvcnBvaW50IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuTGluZS5fZ2V0QW5jaG9yUG9pbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHggYW5kIHkgYW5jaG9yIHBvc2l0aW9ucyBiYXNlZCBvbiBnaXZlbiBvcHRpb25zIGFuZCBtZXRyaWNzLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5MaW5lIG9wdGlvbnMuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLkxpbmUgbWV0cmljcy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGxpbmUuX2dldEFuY2hvclBvaW50KG9wdGlvbnMsIG1ldHJpY3MpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkxpbmUucHJvdG90eXBlLl9nZXRBbmNob3JQb2ludCA9IGZ1bmN0aW9uIChvcHRpb25zLCBtZXRyaWNzKSB7CgogICAgdmFyIHBvcyA9IFswLCAwXTsKCiAgICBpZiAob3B0aW9ucy5hbmNob3IubWF0Y2goL2NlbnRlciQvKSkgewoKICAgICAgICBwb3NbMF0gPSAtKG1ldHJpY3Mud2lkdGggLyAyIC0gb3B0aW9ucy5saW5lV2lkdGggLyAyKTsKCiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYW5jaG9yLm1hdGNoKC9yaWdodCQvKSkgewoKICAgICAgICBwb3NbMF0gPSAtKG1ldHJpY3Mud2lkdGggLSBvcHRpb25zLmxpbmVXaWR0aCk7CgogICAgfQoKICAgIGlmIChvcHRpb25zLmFuY2hvci5tYXRjaCgvXmNlbnRlci8pKSB7CgogICAgICAgIHBvc1sxXSA9IC0obWV0cmljcy5oZWlnaHQgLyAyIC0gb3B0aW9ucy5saW5lV2lkdGggLyAyKTsKCiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYW5jaG9yLm1hdGNoKC9eYm90dG9tLykpIHsKCiAgICAgICAgcG9zWzFdID0gLShtZXRyaWNzLmhlaWdodCAtIG9wdGlvbnMubGluZVdpZHRoKTsKCiAgICB9CgogICAgcmV0dXJuIHBvczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5BcnJheTwvY29kZT4gIEFycmF5IHdpdGggdGhlIHggYW5kIHkgYW5jaG9yIHBvc2l0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUucmVjdCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnJlY3QiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5SZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGUgYSByZWN0YW5nbGUgb2JqZWN0LiBJbmhlcml0cyBhbGwgbWV0aG9kcyBmcm9tIDxiPkZhY2FkZS5Qb2x5Z29uPC9iPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcHRpb25zIHRvIGNyZWF0ZSB0aGUgcmVjdGFuZ2xlIHdpdGguPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy54PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WCBjb29yZGluYXRlIHRvIHBvc2l0aW9uIHRoZSByZWN0YW5nbGUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy55PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+WSBjb29yZGluYXRlIHRvIHBvc2l0aW9uIHRoZSByZWN0YW5nbGUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5hbmNob3I8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBvc2l0aW9uIHRvIGFuY2hvciB0aGUgcmVjdGFuZ2xlLiA8aT5EZWZhdWx0OjwvaT4gInRvcC9sZWZ0Ijxicj48dWw+PGxpPnRvcC9sZWZ0PC9saT48bGk+dG9wL2NlbnRlcjwvbGk+PGxpPnRvcC9yaWdodDwvbGk+PGxpPmNlbnRlci9sZWZ0PC9saT48bGk+Y2VudGVyPC9saT48bGk+Y2VudGVyL3JpZ2h0PC9saT48bGk+Ym90dG9tL2xlZnQ8L2xpPjxsaT5ib3R0b20vY2VudGVyPC9saT48bGk+Ym90dG9tL3JpZ2h0PC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMucm90YXRlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RGVncmVlcyB0byByb3RhdGUgdGhlIHJlY3RhbmdsZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnNjYWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QSBmbG9hdCByZXByZXNlbnRpbmcgdGhlIHNjYWxlIG9mIGEgcmVjdGFuZ2xlLiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMub3BhY2l0eTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wYWNpdHkgb2YgdGhlIHJlY3RhbmdsZS4gSW50ZWdlciBiZXR3ZWVuIDAgYW5kIDEwMC4gPGk+RGVmYXVsdDo8L2k+IDEwMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuZmlsbFN0eWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GaWxsIGNvbG9yIGZvciB0aGUgcmVjdGFuZ2xlLiBDYW4gYmUgYSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IsIEhFWCwgUkdCKGEpLCBIU0woYSkuIDxpPkRlZmF1bHQ6PC9pPiAiIzAwMCI8YnI+PHVsPjxsaT5IVE1MIENvbG9yczogcmVkLCBncmVlbiwgYmx1ZSwgZXRjLjwvbGk+PGxpPkhFWDogI2YwMCwgI2ZmMDAwMDwvbGk+PGxpPlJHQihhKTogcmdiKDI1NSwgMCwgMCksIHJnYmEoMCwgMjU1LCAwLCAwLjUpPC9saT48bGk+SFNMKGEpOiBoc2woMTAwLCAxMDAlLCA1MCUpLCBoc2xhKDEwMCwgMTAwJSwgNTAlLCAwLjUpPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc3Ryb2tlU3R5bGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNvbG9yIG9mIGEgcmVjdGFuZ2xlJ3Mgc3Ryb2tlLiBDYW4gYmUgYSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IsIEhFWCwgUkdCKGEpLCBIU0woYSkuIDxpPkRlZmF1bHQ6PC9pPiAiIzAwMCI8YnI+PHVsPjxsaT5IVE1MIENvbG9yczogcmVkLCBncmVlbiwgYmx1ZSwgZXRjLjwvbGk+PGxpPkhFWDogI2YwMCwgI2ZmMDAwMDwvbGk+PGxpPlJHQihhKTogcmdiKDI1NSwgMCwgMCksIHJnYmEoMCwgMjU1LCAwLCAwLjUpPC9saT48bGk+SFNMKGEpOiBoc2woMTAwLCAxMDAlLCA1MCUpLCBoc2xhKDEwMCwgMTAwJSwgNTAlLCAwLjUpPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubGluZVdpZHRoPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+V2lkdGggb2YgdGhlIHN0cm9rZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVKb2luPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGUgc3R5bGUgb2YgcmVjdGFuZ2xlIGpvaW4uIDxpPkRlZmF1bHQ6PC9pPiAibWl0ZXIiPGJyPjx1bD48bGk+bWl0ZXI8L2xpPjxsaT5yb3VuZDwvbGk+PGxpPmJldmVsPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMud2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XaWR0aCBvZiB0aGUgcmVjdGFuZ2xlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuaGVpZ2h0PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+SGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT52YXIgcmVjdCA9IG5ldyBGYWNhZGUuUmVjdCh7CiAgICB4OiAwLAogICAgeTogMCwKICAgIHdpZHRoOiAyMDAsCiAgICBoZWlnaHQ6IDIwMCwKICAgIGxpbmVXaWR0aDogMTAsCiAgICBzdHJva2VTdHlsZTogJiMzOTsjMzMzRTRCJiMzOTssCiAgICBmaWxsU3R5bGU6ICYjMzk7IzFDNzNBOCYjMzk7LAogICAgYW5jaG9yOiAmIzM5O3RvcC9sZWZ0JiMzOTsKfSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuUmVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZhY2FkZS5SZWN0KSkgewoKICAgICAgICByZXR1cm4gbmV3IEZhY2FkZS5SZWN0KG9wdGlvbnMpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoewogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMAogICAgfSk7CiAgICB0aGlzLl9tZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE5ldyBGYWNhZGUuUmVjdCBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnJlY3QucHJvdG90eXBlLl9jb25maWdvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUucmVjdC5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5SZWN0Ll9jb25maWdPcHRpb25zKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gY29uZmlndXJhdGlvbiBmb3Igb3B0aW9ucyBzcGVjaWZpYyB0byBhIHJlY3RhbmdsZSBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29tcGxldGUgc2V0IG9mIHJlY3RhbmdsZSBzcGVjaWZpYyBvcHRpb25zLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2cocmVjdC5fY29uZmlnT3B0aW9ucyhvcHRpb25zKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuUmVjdC5wcm90b3R5cGUuX2NvbmZpZ09wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIG9wdGlvbnMudHJhbnNsYXRlID0gWyBvcHRpb25zLngsIG9wdGlvbnMueSBdOwogICAgb3B0aW9ucy5nbG9iYWxBbHBoYSA9IG9wdGlvbnMub3BhY2l0eSAvIDEwMDsKCiAgICBvcHRpb25zLnBvaW50cyA9IFsgWyAwLCAwIF0sIFsgb3B0aW9ucy53aWR0aCwgMCBdLCBbIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0IF0sIFsgMCwgb3B0aW9ucy5oZWlnaHQgXSBdOwoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBDb252ZXJ0ZWQgb3B0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkltYWdlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGUgYW4gaW1hZ2Ugb2JqZWN0LiBJbmhlcml0cyBhbGwgbWV0aG9kcyBmcm9tIDxiPkZhY2FkZS5FbnRpdHk8L2I+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnNvdXJjZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TG9jYWwgaW1hZ2UgZmlsZSBvciByZWZlcmVuY2UgdG8gYW4gSFRNTCBpbWFnZSBlbGVtZW50LjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdG8gY3JlYXRlIHRoZSBpbWFnZSB3aXRoLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlggY29vcmRpbmF0ZSB0byBwb3NpdGlvbiBhbiBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5ZIGNvb3JkaW5hdGUgdG8gcG9zaXRpb24gYW4gaW1hZ2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5hbmNob3I8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBvc2l0aW9uIHRvIGFuY2hvciB0aGUgaW1hZ2UuIDxpPkRlZmF1bHQ6PC9pPiAidG9wL2xlZnQiPGJyPjx1bD48bGk+dG9wL2xlZnQ8L2xpPjxsaT50b3AvY2VudGVyPC9saT48bGk+dG9wL3JpZ2h0PC9saT48bGk+Y2VudGVyL2xlZnQ8L2xpPjxsaT5jZW50ZXI8L2xpPjxsaT5jZW50ZXIvcmlnaHQ8L2xpPjxsaT5ib3R0b20vbGVmdDwvbGk+PGxpPmJvdHRvbS9jZW50ZXI8L2xpPjxsaT5ib3R0b20vcmlnaHQ8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5yb3RhdGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5EZWdyZWVzIHRvIHJvdGF0ZSB0aGUgaW1hZ2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zY2FsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBzY2FsZSBvZiBhbiBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+IDE8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLndpZHRoPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+V2lkdGggb2YgdGhlIGltYWdlLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuaGVpZ2h0PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+SGVpZ2h0IG9mIHRoZSBpbWFnZS4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnRpbGVYPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TnVtYmVyIG9mIHRpbWVzIHRvIHRpbGUgdGhlIGltYWdlIGhvcml6b250YWxseS4gPGk+RGVmYXVsdDo8L2k+IDE8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnRpbGVZPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TnVtYmVyIG9mIHRpbWVzIHRvIHRpbGUgdGhlIGltYWdlIHZlcnRpY2FsbHkuIDxpPkRlZmF1bHQ6PC9pPiAxPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5vZmZzZXRYPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U3RhcnRpbmcgWCBjb29yZGluYXRlIHdpdGhpbiB0aGUgaW1hZ2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5vZmZzZXRZPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U3RhcnRpbmcgWSBjb29yZGluYXRlIHdpdGhpbiB0aGUgaW1hZ2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5mcmFtZXM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5BcnJheTwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QXJyYXkgb2YgZnJhbWUgbnVtYmVycyAoaW50ZWdlcnMgc3RhcnRpbmcgYXQgMCkgZm9yIHNwcml0ZSBhbmltYXRpb24uIDxpPkRlZmF1bHQ6PC9pPiBbMF08L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLnNwZWVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U3BlZWQgb2Ygc3ByaXRlIGFuaW1hdGlvbi4gPGk+RGVmYXVsdDo8L2k+IDEyMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMubG9vcDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkJvb2xlYW48L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkRldGVybWluZXMgaWYgdGhlIGFuaW1hdGlvbiBzaG91bGQgbG9vcC4gPGk+RGVmYXVsdDo8L2k+IHRydWU8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmNhbGxiYWNrPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+RnVuY3Rpb248L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZ1bmN0aW9uIGNhbGxlZCBmb3IgZXZlcnkgZnJhbWUgb2YgYSBzcHJpdGUgYW5pbWF0aW9uLiA8aT5EZWZhdWx0OjwvaT4gYGZ1bmN0aW9uIChmcmFtZSkgeyB9O2A8L3A+CgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InByb3BlcnRpZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlByb3BlcnRpZXM8L2gzPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+aW1hZ2U8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlZmVyZW5jZSB0byB0aGUgaW1hZ2UgZWxlbWVudC48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5hbmltYXRpbmc8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5Cb29sZWFuPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Cb29sZWFuIHN0YXRlIG9mIHRoZSBhbmltYXRpb24uPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+Y3VycmVudEZyYW1lPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VycmVudCBmcmFtZSBvZiBhbmltYXRpb24uPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+dmFyIGltYWdlID0gbmV3IEZhY2FkZS5JbWFnZSgmIzM5O2ltYWdlcy9zcHJpdGUucG5nJiMzOTssIHsKICAgIHg6IDAsCiAgICB5OiAwLAogICAgd2lkdGg6IDEwMCwKICAgIGhlaWdodDogMjAwLAogICAgYW5jaG9yOiAmIzM5O3RvcC9sZWZ0JiMzOTsKfSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5JbWFnZSA9IGZ1bmN0aW9uIChpbWcsIG9wdGlvbnMpIHsKCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmFjYWRlLkltYWdlKSkgewoKICAgICAgICByZXR1cm4gbmV3IEZhY2FkZS5JbWFnZShpbWcsIG9wdGlvbnMpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoewogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICB0aWxlWDogMSwKICAgICAgICB0aWxlWTogMSwKICAgICAgICBvZmZzZXRYOiAwLAogICAgICAgIG9mZnNldFk6IDAsCiAgICAgICAgZnJhbWVzOiBbMF0sCiAgICAgICAgc3BlZWQ6IDEyMCwKICAgICAgICBsb29wOiB0cnVlLAogICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0KICAgIH0pOwogICAgdGhpcy5fbWV0cmljcyA9IHRoaXMuX2RlZmF1bHRNZXRyaWNzKCk7CgogICAgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTsKICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CgogICAgdGhpcy5sb2FkKGltZyk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgTmV3IEZhY2FkZS5JbWFnZSBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLmxvYWQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUubG9hZCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkltYWdlLmxvYWQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkxvYWRzIGVpdGhlciBhIHJlZmVyZW5jZSB0byBhbiBpbWFnZSB0YWcgb3IgYW4gaW1hZ2UgVVJMIGludG8gYSBGYWNhZGUuSW1hZ2UgZW50aXR5LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnNvdXJjZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QSByZWZlcmVuY2UgdG8gYW4gaW1hZ2UgdGFnIG9yIGFuIGltYWdlIFVSTC48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGltYWdlLmxvYWQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigmIzM5O2ltZyYjMzk7KSkpOwpjb25zb2xlLmxvZyhpbWFnZS5sb2FkKCYjMzk7aW1hZ2VzL3Nwcml0ZS5wbmcmIzM5OykpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKHNvdXJjZSkgewoKICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAmI3gyNztvYmplY3QmI3gyNzsgJmFtcDsmYW1wOyBzb3VyY2Uubm9kZVR5cGUgPT09IDEpIHsKCiAgICAgICAgdGhpcy5pbWFnZSA9IHNvdXJjZTsKCiAgICB9IGVsc2UgewoKICAgICAgICB0aGlzLmltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgmI3gyNztpbWcmI3gyNzspOwogICAgICAgIHRoaXMuaW1hZ2Uuc2V0QXR0cmlidXRlKCYjeDI3O3NyYyYjeDI3Oywgc291cmNlKTsKCiAgICB9CgogICAgaWYgKHRoaXMuaW1hZ2UuY29tcGxldGUpIHsKCiAgICAgICAgdGhpcy5fc2V0TWV0cmljcygpOwoKICAgIH0gZWxzZSB7CgogICAgICAgIHRoaXMuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcigmI3gyNztsb2FkJiN4Mjc7LCB0aGlzLl9zZXRNZXRyaWNzLmJpbmQodGhpcywgbnVsbCkpOwoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUucGxheSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5wbGF5IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2UucGxheSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U3RhcnRzIGFuIGltYWdlIHNwcml0ZSBhbmltYXRpb24uPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4gaW1hZ2UucGxheSgpOzwvcD4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkgewoKICAgIHRoaXMuYW5pbWF0aW5nID0gdHJ1ZTsKCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBpbWFnZSBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5wYXVzZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5wYXVzZSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkltYWdlLnBhdXNlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5QYXVzZXMgYW4gaW1hZ2Ugc3ByaXRlIGFuaW1hdGlvbi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPiBpbWFnZS5wYXVzZSgpOzwvcD4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHsKCiAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlOwoKICAgIHJldHVybiB0aGlzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgRmFjYWRlLmpzIGltYWdlIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnJlc2V0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuaW1hZ2UucHJvdG90eXBlLnJlc2V0IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2UucmVzZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlc2V0cyBhbiBpbWFnZSBzcHJpdGUgYW5pbWF0aW9uIHRvIHRoZSBmaXJzdCBmcmFtZS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPiBpbWFnZS5yZXNldCgpOzwvcD4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHsKCiAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7CgogICAgcmV0dXJuIHRoaXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBGYWNhZGUuanMgaW1hZ2Ugb2JqZWN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUuc3RvcCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5zdG9wIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuSW1hZ2Uuc3RvcCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U3RvcHMgYW5kIHJlc2V0cyBhbiBpbWFnZSBzcHJpdGUgYW5pbWF0aW9uLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+IGltYWdlLnN0b3AoKTs8L3A+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5JbWFnZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHsKCiAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7CgogICAgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTsKCiAgICByZXR1cm4gdGhpczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIEZhY2FkZS5qcyBpbWFnZSBvYmplY3QuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wcml2YXRlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5pbWFnZS5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5JbWFnZS5fY29uZmlnT3B0aW9ucygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5wcml2YXRlIG1ldGhvZDwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VzdG9tIGNvbmZpZ3VyYXRpb24gZm9yIG9wdGlvbnMgc3BlY2lmaWMgdG8gYSBpbWFnZSBlbnRpdHkuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29tcGxldGUgc2V0IG9mIGltYWdlIHNwZWNpZmljIG9wdGlvbnMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhpbWFnZS5fY29uZmlnT3B0aW9ucyhvcHRpb25zKSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuSW1hZ2UucHJvdG90eXBlLl9jb25maWdPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCiAgICBvcHRpb25zLnRyYW5zbGF0ZSA9IFsgb3B0aW9ucy54LCBvcHRpb25zLnkgXTsKCiAgICBpZiAodGhpcy5pbWFnZSAmYW1wOyZhbXA7IHRoaXMuaW1hZ2UuY29tcGxldGUpIHsKCiAgICAgICAgaWYgKCFvcHRpb25zLndpZHRoKSB7CgogICAgICAgICAgICBvcHRpb25zLndpZHRoID0gdGhpcy5pbWFnZS53aWR0aDsKCiAgICAgICAgfQoKICAgICAgICBpZiAoIW9wdGlvbnMuaGVpZ2h0KSB7CgogICAgICAgICAgICBvcHRpb25zLmhlaWdodCA9IHRoaXMuaW1hZ2UuaGVpZ2h0OwoKICAgICAgICB9CgogICAgfQoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBDb252ZXJ0ZWQgb3B0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5fc2V0bWV0cmljcyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5fc2V0bWV0cmljcyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkltYWdlLl9zZXRNZXRyaWNzKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TZXQgbWV0cmljcyBiYXNlZCBvbiB0aGUgaW1hZ2UmIzM5O3Mgb3B0aW9ucy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj51cGRhdGVkPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gb3B0aW9ucyB1c2VkIHRvIHJlbmRlciB0aGUgaW1hZ2UuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyhpbWFnZS5fc2V0TWV0cmljcygpKTsKY29uc29sZS5sb2coaW1hZ2UuX3NldE1ldHJpY3ModXBkYXRlZCkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkltYWdlLnByb3RvdHlwZS5fc2V0TWV0cmljcyA9IGZ1bmN0aW9uICh1cGRhdGVkKSB7CgogICAgdmFyIG1ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpLAogICAgICAgIG9wdGlvbnMgPSB1cGRhdGVkIHx8IHRoaXMuZ2V0QWxsT3B0aW9ucygpLAogICAgICAgIGFuY2hvcjsKCiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZ09wdGlvbnMgPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgIG9wdGlvbnMgPSB0aGlzLl9jb25maWdPcHRpb25zKG9wdGlvbnMpOwoKICAgIH0KCiAgICBtZXRyaWNzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIG9wdGlvbnMudGlsZVggKiBvcHRpb25zLnNjYWxlOwogICAgbWV0cmljcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCAqIG9wdGlvbnMudGlsZVkgKiBvcHRpb25zLnNjYWxlOwoKICAgIGFuY2hvciA9IHRoaXMuX2dldEFuY2hvclBvaW50KG9wdGlvbnMsIG1ldHJpY3MpOwoKICAgIG1ldHJpY3MueCA9IG9wdGlvbnMueCArIGFuY2hvclswXTsKICAgIG1ldHJpY3MueSA9IG9wdGlvbnMueSArIGFuY2hvclsxXTsKCiAgICBpZiAoIXVwZGF0ZWQpIHsKCiAgICAgICAgdGhpcy5fbWV0cmljcyA9IG1ldHJpY3M7CgogICAgfQoKICAgIHJldHVybiBtZXRyaWNzOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBPYmplY3Qgd2l0aCBtZXRyaWNzIGFzIGtleS12YWx1ZSBwYWlycy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5fZHJhdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmltYWdlLnByb3RvdHlwZS5fZHJhdyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkltYWdlLl9kcmF3KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZW5kZXJzIGFuIGltYWdlIGVudGl0eSB0byBhIGNhbnZhcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5mYWNhZGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB1c2VkIHRvIHJlbmRlciB0aGUgaW1hZ2UuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TWV0cmljcyB1c2VkIHRvIHJlbmRlciB0aGUgaW1hZ2UuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5pbWFnZS5fZHJhdyhmYWNhZGUsIG9wdGlvbnMsIG1ldHJpY3MpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5JbWFnZS5wcm90b3R5cGUuX2RyYXcgPSBmdW5jdGlvbiAoZmFjYWRlLCBvcHRpb25zLCBtZXRyaWNzKSB7CgogICAgdmFyIGNvbnRleHQgPSBmYWNhZGUuY29udGV4dCwKICAgICAgICBjdXJyZW50T2Zmc2V0WCA9IG9wdGlvbnMub2Zmc2V0WCwKICAgICAgICBjdXJyZW50T2Zmc2V0WSA9IG9wdGlvbnMub2Zmc2V0WSwKICAgICAgICBjdXJyZW50V2lkdGggPSBvcHRpb25zLndpZHRoLAogICAgICAgIGN1cnJlbnRIZWlnaHQgPSBvcHRpb25zLmhlaWdodCwKICAgICAgICBvcmlnaW5hbFdpZHRoID0gdGhpcy5pbWFnZS53aWR0aCwKICAgICAgICBvcmlnaW5hbEhlaWdodCA9IHRoaXMuaW1hZ2UuaGVpZ2h0LAogICAgICAgIHgsCiAgICAgICAgeTsKCiAgICBpZiAodGhpcy5pbWFnZS5jb21wbGV0ZSkgewoKICAgICAgICB0aGlzLl9hcHBseVRyYW5zZm9ybXMoY29udGV4dCwgb3B0aW9ucywgbWV0cmljcyk7CgogICAgICAgIGlmIChvcHRpb25zLmZyYW1lcy5sZW5ndGgpIHsKCiAgICAgICAgICAgIGN1cnJlbnRPZmZzZXRYICs9IG9wdGlvbnMuZnJhbWVzW3RoaXMuY3VycmVudEZyYW1lXSAqIG9wdGlvbnMud2lkdGg7CgogICAgICAgICAgICBpZiAoY3VycmVudE9mZnNldFggKyBvcHRpb25zLndpZHRoICZndDsgb3JpZ2luYWxXaWR0aCkgewoKICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXRZICs9IE1hdGguZmxvb3IoY3VycmVudE9mZnNldFggLyBvcmlnaW5hbFdpZHRoKSAqIG9wdGlvbnMuaGVpZ2h0OwoKICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXRYID0gY3VycmVudE9mZnNldFggJSBvcmlnaW5hbFdpZHRoOwoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgICAgIGlmIChjdXJyZW50T2Zmc2V0WCArIGN1cnJlbnRXaWR0aCAmZ3Q7IG9yaWdpbmFsV2lkdGgpIHsKCiAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IGN1cnJlbnRPZmZzZXRYICsgY3VycmVudFdpZHRoIC0gb3JpZ2luYWxXaWR0aDsKCiAgICAgICAgfQoKICAgICAgICBpZiAoY3VycmVudE9mZnNldFkgKyBjdXJyZW50SGVpZ2h0ICZndDsgb3JpZ2luYWxIZWlnaHQpIHsKCiAgICAgICAgICAgIGN1cnJlbnRIZWlnaHQgPSBjdXJyZW50T2Zmc2V0WSArIGN1cnJlbnRIZWlnaHQgLSBvcmlnaW5hbEhlaWdodDsKCiAgICAgICAgfQoKICAgICAgICBmb3IgKHggPSAwOyB4ICZsdDsgb3B0aW9ucy50aWxlWDsgeCArPSAxKSB7CgogICAgICAgICAgICBmb3IgKHkgPSAwOyB5ICZsdDsgb3B0aW9ucy50aWxlWTsgeSArPSAxKSB7CgogICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2Zmc2V0WCwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2Zmc2V0WSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2lkdGgsCiAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlaWdodCwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLndpZHRoICogeCwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmhlaWdodCAqIHksCiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdpZHRoLAogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRIZWlnaHQKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW5nKSB7CgogICAgICAgICAgICBpZiAoIXRoaXMuZnRpbWUgfHwgZmFjYWRlLmZ0aW1lIC0gdGhpcy5mdGltZSAmZ3Q7PSBvcHRpb25zLnNwZWVkKSB7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuZnRpbWUpIHsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgKz0gMTsKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5mdGltZSA9IGZhY2FkZS5mdGltZTsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50RnJhbWUgJmd0Oz0gb3B0aW9ucy5mcmFtZXMubGVuZ3RoKSB7CgogICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxvb3ApIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsKCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gb3B0aW9ucy5mcmFtZXMubGVuZ3RoIC0gMTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2suY2FsbCh0aGlzLCBvcHRpb25zLmZyYW1lc1t0aGlzLmN1cnJlbnRGcmFtZV0pOwoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPnZvaWQ8L2NvZGU+ICA8L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUudGV4dCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLnRleHQiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5UZXh0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGUgYSB0ZXh0IG9iamVjdC4gSW5oZXJpdHMgYWxsIG1ldGhvZHMgZnJvbSA8Yj5GYWNhZGUuRW50aXR5PC9iPi48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj52YWx1ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VmFsdWUgb2YgdGhlIHRleHQgb2JqZWN0LjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdG8gY3JlYXRlIHRoZSB0ZXh0IGVudGl0eSB3aXRoLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlggY29vcmRpbmF0ZSB0byBwb3NpdGlvbiBhIHRleHQgb2JqZWN0LiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlkgY29vcmRpbmF0ZSB0byBwb3NpdGlvbiBhIHRleHQgb2JqZWN0LiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuYW5jaG9yPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Qb3NpdGlvbiB0byBhbmNob3IgdGhlIHRleHQgb2JqZWN0LiA8aT5EZWZhdWx0OjwvaT4gInRvcC9sZWZ0Ijxicj48dWw+PGxpPnRvcC9sZWZ0PC9saT48bGk+dG9wL2NlbnRlcjwvbGk+PGxpPnRvcC9yaWdodDwvbGk+PGxpPmNlbnRlci9sZWZ0PC9saT48bGk+Y2VudGVyPC9saT48bGk+Y2VudGVyL3JpZ2h0PC9saT48bGk+Ym90dG9tL2xlZnQ8L2xpPjxsaT5ib3R0b20vY2VudGVyPC9saT48bGk+Ym90dG9tL3JpZ2h0PC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMucm90YXRlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RGVncmVlcyB0byByb3RhdGUgdGhlIHRleHQgb2JqZWN0LiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc2NhbGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgc2NhbGUgb2YgYSB0ZXh0IG9iamVjdC4gPGk+RGVmYXVsdDo8L2k+IDE8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLm9wYWNpdHk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5PcGFjaXR5IG9mIHRoZSB0ZXh0IG9iamVjdC4gSW50ZWdlciBiZXR3ZWVuIDAgYW5kIDEwMC4gPGk+RGVmYXVsdDo8L2k+IDEwMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMud2lkdGg8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5NYXggd2lkdGggb2YgdGhlIHRleHQgb2JqZWN0LiBXaWxsIGNhdXNlIHRleHQgdG8gd3JhcCBvbnRvIGEgbmV3IGxpbmUgaWYgbmVjZXNzYXJ5LiBObyB3cmFwcGluZyB3aWxsIG9jY3VyIGlmIHRoZSB2YWx1ZSBpcyBzZXQgdG8gMC4gPGk+RGVmYXVsdDo8L2k+IDA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmZvbnRGYW1pbHk8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldHMgdGhlIGZvbnQgZmFtaWx5IG9mIHRoZSB0ZXh0LiBPbmx5IG9uZSBmb250IGNhbiBiZSBzcGVjaWZpZWQgYXQgYSB0aW1lLiA8aT5EZWZhdWx0OjwvaT4gIkFyaWFsIjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuZm9udFN0eWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Gb250IHN0eWxlIG9mIHRoZSB0ZXh0LiA8aT5EZWZhdWx0OjwvaT4gIm5vcm1hbCI8YnI+PHVsPjxsaT5ub3JtYWw8L2xpPjxsaT5ib2xkPC9saT48bGk+aXRhbGljPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuZm9udFNpemU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Gb250IHNpemUgaW4gcGl4ZWxzLiA8aT5EZWZhdWx0OjwvaT4gMzA8L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVIZWlnaHQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkxpbmUgaGVpZ2h0IG9mIHRoZSB0ZXh0LiA8aT5EZWZhdWx0OjwvaT4gMTwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMudGV4dEFsaWdubWVudDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+SG9yaXpvbnRhbCBhbGlnbm1lbnQgb2YgdGhlIHRleHQuIDxpPkRlZmF1bHQ6PC9pPiAibGVmdCI8YnI+PHVsPjxsaT5sZWZ0PC9saT48bGk+Y2VudGVyPC9saT48bGk+cmlnaHQ8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy50ZXh0QmFzZWxpbmU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5TdHJpbmc8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkJhc2VsaW5lIHRvIHNldCB0aGUgdmVydGljYWwgYWxpZ25tZW50IG9mIHRoZSB0ZXh0IGRyYXduLiA8aT5EZWZhdWx0OjwvaT4gInRvcCI8YnI+PHVsPjxsaT50b3A8L2xpPjxsaT5oYW5naW5nPC9saT48bGk+bWlkZGxlPC9saT48bGk+YWxwaGFiZXRpYzwvbGk+PGxpPmlkZW9ncmFwaGljPC9saT48bGk+Ym90dG9tPC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuZmlsbFN0eWxlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GaWxsIGNvbG9yIGZvciB0aGUgdGV4dCBvYmplY3QuIENhbiBiZSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xvciwgSEVYLCBSR0IoYSksIEhTTChhKS4gPGk+RGVmYXVsdDo8L2k+ICIjMDAwIjxicj48dWw+PGxpPkhUTUwgQ29sb3JzOiByZWQsIGdyZWVuLCBibHVlLCBldGMuPC9saT48bGk+SEVYOiAjZjAwLCAjZmYwMDAwPC9saT48bGk+UkdCKGEpOiByZ2IoMjU1LCAwLCAwKSwgcmdiYSgwLCAyNTUsIDAsIDAuNSk8L2xpPjxsaT5IU0woYSk6IGhzbCgxMDAsIDEwMCUsIDUwJSksIGhzbGEoMTAwLCAxMDAlLCA1MCUsIDAuNSk8L2xpPjwvdWw+PC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9ucy5zdHJva2VTdHlsZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29sb3Igb2YgYSB0ZXh0IG9iamVjdCdzIHN0cm9rZS4gQ2FuIGJlIGEgdGV4dCByZXByZXNlbnRhdGlvbiBvZiBhIGNvbG9yLCBIRVgsIFJHQihhKSwgSFNMKGEpLiA8aT5EZWZhdWx0OjwvaT4gIiMwMDAiPGJyPjx1bD48bGk+SFRNTCBDb2xvcnM6IHJlZCwgZ3JlZW4sIGJsdWUsIGV0Yy48L2xpPjxsaT5IRVg6ICNmMDAsICNmZjAwMDA8L2xpPjxsaT5SR0IoYSk6IHJnYigyNTUsIDAsIDApLCByZ2JhKDAsIDI1NSwgMCwgMC41KTwvbGk+PGxpPkhTTChhKTogaHNsKDEwMCwgMTAwJSwgNTAlKSwgaHNsYSgxMDAsIDEwMCUsIDUwJSwgMC41KTwvbGk+PC91bD48L3A+CgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zLmxpbmVXaWR0aDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPldpZHRoIG9mIHRoZSBzdHJva2UuIDxpPkRlZmF1bHQ6PC9pPiAwPC9wPgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InByb3BlcnRpZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlByb3BlcnRpZXM8L2gzPgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj52YWx1ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VycmVudCB2YWx1ZSBvZiB0aGUgdGV4dCBvYmplY3QuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+dmFyIHRleHQgPSBuZXcgRmFjYWRlLlRleHQoJiMzOTtIZWxsbyBXb3JsZCEmIzM5OywgewogICAgeDogMCwKICAgIHk6IDAsCiAgICBmb250RmFtaWx5OiAmIzM5O0hlbHZldGljYSYjMzk7LAogICAgZm9udFNpemU6IDQwLAogICAgZmlsbFN0eWxlOiAmIzM5OyMzMzMmIzM5OywKICAgIGFuY2hvcjogJiMzOTt0b3AvbGVmdCYjMzk7Cn0pOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlRleHQgPSBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHsKCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmFjYWRlLlRleHQpKSB7CgogICAgICAgIHJldHVybiBuZXcgRmFjYWRlLlRleHQodmFsdWUsIG9wdGlvbnMpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoewogICAgICAgIG9wYWNpdHk6IDEwMCwKICAgICAgICB3aWR0aDogMCwKICAgICAgICBmb250RmFtaWx5OiAmI3gyNztBcmlhbCYjeDI3OywKICAgICAgICBmb250U3R5bGU6ICYjeDI3O25vcm1hbCYjeDI3OywKICAgICAgICBmb250U2l6ZTogMTYsCiAgICAgICAgbGluZUhlaWdodDogMSwKICAgICAgICB0ZXh0QWxpZ25tZW50OiAmI3gyNztsZWZ0JiN4Mjc7LAogICAgICAgIHRleHRCYXNlbGluZTogJiN4Mjc7dG9wJiN4Mjc7LAogICAgICAgIGZpbGxTdHlsZTogJiN4Mjc7IzAwMCYjeDI3OywKICAgICAgICBzdHJva2VTdHlsZTogJiN4Mjc7IzAwMCYjeDI3OywKICAgICAgICBsaW5lV2lkdGg6IDAKICAgIH0pOwogICAgdGhpcy5fbWV0cmljcyA9IHRoaXMuX2RlZmF1bHRNZXRyaWNzKCk7CgogICAgdGhpcy5fbWF4TGluZVdpZHRoID0gMDsKCiAgICB0aGlzLl9saW5lcyA9IFtdOwoKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKCiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewoKICAgICAgICB0aGlzLnNldFRleHQodmFsdWUpOwoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgTmV3IEZhY2FkZS5UZXh0IG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS50ZXh0LnByb3RvdHlwZS5zZXR0ZXh0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUudGV4dC5wcm90b3R5cGUuc2V0dGV4dCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLlRleHQuc2V0VGV4dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+U2V0cyB0aGUgdGV4dCBlbnRpdGllcyB2YWx1ZS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj52YWx1ZTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPlN0cmluZzwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGhlIG5ldyB2YWx1ZSBvZiB0aGUgdGV4dCBlbnRpdHkuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyh0ZXh0LnNldFRleHQoJiMzOTtMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCYjMzk7KSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuVGV4dC5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgewoKICAgIHZhciBvcHRpb25zID0gdGhpcy5nZXRBbGxPcHRpb25zKCksCiAgICAgICAgd29yZHMgPSBbXSwKICAgICAgICBjdXJyZW50V29yZCA9IG51bGwsCiAgICAgICAgY3VycmVudExpbmUgPSAmI3gyNzsmI3gyNzssCiAgICAgICAgY3VycmVudExpbmVXaWR0aCA9IDAsCiAgICAgICAgaSwKICAgICAgICBsZW5ndGg7CgogICAgdGhpcy52YWx1ZSA9IHZhbHVlOwoKICAgIHRoaXMuX21heExpbmVXaWR0aCA9IG9wdGlvbnMud2lkdGg7CgogICAgdGhpcy5fbGluZXMgPSBbXTsKCiAgICBpZiAodmFsdWUpIHsKCiAgICAgICAgd29yZHMgPSBTdHJpbmcodmFsdWUpLm1hdGNoKC9cbnxbXFNdKyA/L2cpOwoKICAgIH0KCiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZ09wdGlvbnMgPT09ICYjeDI3O2Z1bmN0aW9uJiN4Mjc7KSB7CgogICAgICAgIG9wdGlvbnMgPSB0aGlzLl9jb25maWdPcHRpb25zKG9wdGlvbnMpOwoKICAgIH0KCiAgICBfY29udGV4dC5zYXZlKCk7CgogICAgX2NvbnRleHQuZm9udCA9IG9wdGlvbnMuZm9udDsKCiAgICB3aGlsZSAod29yZHMubGVuZ3RoKSB7CgogICAgICAgIGN1cnJlbnRXb3JkID0gd29yZHMuc2hpZnQoKTsKICAgICAgICBjdXJyZW50TGluZVdpZHRoID0gX2NvbnRleHQubWVhc3VyZVRleHQoY3VycmVudExpbmUgKyBjdXJyZW50V29yZC5yZXBsYWNlKC9ccyQvLCAmI3gyNzsmI3gyNzspKS53aWR0aDsKCiAgICAgICAgaWYgKChvcHRpb25zLndpZHRoICZndDsgMCAmYW1wOyZhbXA7IGN1cnJlbnRMaW5lV2lkdGggJmd0OyBvcHRpb25zLndpZHRoKSB8fCBjdXJyZW50V29yZC5tYXRjaCgvXG4vKSkgewoKICAgICAgICAgICAgdGhpcy5fbGluZXMucHVzaChbY3VycmVudExpbmUucmVwbGFjZSgvXHMkLywgJiN4Mjc7JiN4Mjc7KSwgMCwgdGhpcy5fbGluZXMubGVuZ3RoICogKG9wdGlvbnMuZm9udFNpemUgKiBvcHRpb25zLmxpbmVIZWlnaHQpXSk7CgogICAgICAgICAgICBjdXJyZW50TGluZSA9IGN1cnJlbnRXb3JkLnJlcGxhY2UoL1xuLywgJiN4Mjc7JiN4Mjc7KTsKCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIGN1cnJlbnRMaW5lID0gY3VycmVudExpbmUgKyBjdXJyZW50V29yZDsKCiAgICAgICAgICAgIGlmIChjdXJyZW50TGluZVdpZHRoICZndDsgdGhpcy5fbWF4TGluZVdpZHRoKSB7CgogICAgICAgICAgICAgICAgdGhpcy5fbWF4TGluZVdpZHRoID0gY3VycmVudExpbmVXaWR0aDsKCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgIH0KCiAgICB0aGlzLl9saW5lcy5wdXNoKFtjdXJyZW50TGluZS5yZXBsYWNlKC9ccyQvLCAmI3gyNzsmI3gyNzspLCAwLCB0aGlzLl9saW5lcy5sZW5ndGggKiAob3B0aW9ucy5mb250U2l6ZSAqIG9wdGlvbnMubGluZUhlaWdodCldKTsKCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB0aGlzLl9saW5lcy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICBjdXJyZW50TGluZVdpZHRoID0gX2NvbnRleHQubWVhc3VyZVRleHQodGhpcy5fbGluZXNbaV1bMF0pLndpZHRoOwoKICAgICAgICBpZiAob3B0aW9ucy50ZXh0QWxpZ25tZW50ID09PSAmI3gyNztjZW50ZXImI3gyNzspIHsKCiAgICAgICAgICAgIHRoaXMuX2xpbmVzW2ldWzFdID0gKHRoaXMuX21heExpbmVXaWR0aCAtIGN1cnJlbnRMaW5lV2lkdGgpIC8gMjsKCiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnRleHRBbGlnbm1lbnQgPT09ICYjeDI3O3JpZ2h0JiN4Mjc7KSB7CgogICAgICAgICAgICB0aGlzLl9saW5lc1tpXVsxXSA9IHRoaXMuX21heExpbmVXaWR0aCAtIGN1cnJlbnRMaW5lV2lkdGg7CgogICAgICAgIH0KCiAgICB9CgogICAgX2NvbnRleHQucmVzdG9yZSgpOwoKICAgIHRoaXMuX3NldE1ldHJpY3MoKTsKCiAgICByZXR1cm4gdGhpcy5fbGluZXM7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPkFycmF5PC9jb2RlPiAgQW4gYXJyYXkgb2YgbGluZXMgYW5kIHRoZSBwb3NpdGlvbiB0byByZW5kZXIgdXNpbmcgPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9EcmF3aW5nX3RleHRfdXNpbmdfYV9jYW52YXMjZmlsbFRleHQoKSI+ZmlsbFRleHQoKTwvYT4gYW5kIDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvRHJhd2luZ190ZXh0X3VzaW5nX2FfY2FudmFzI3N0cm9rZVRleHQoKSI+c3Ryb2tlVGV4dCgpPC9hPi48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLl9kcmF3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUudGV4dC5wcm90b3R5cGUuX2RyYXciIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5UZXh0Ll9kcmF3KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5SZW5kZXJzIGEgdGV4dCBlbnRpdHkgdG8gYSBjYW52YXMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+ZmFjYWRlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuanMgb2JqZWN0LjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdXNlZCB0byByZW5kZXIgdGhlIHRleHQgZW50aXR5LjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm1ldHJpY3M8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk1ldHJpY3MgdXNlZCB0byByZW5kZXIgdGhlIHRleHQgZW50aXR5LjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+dGV4dC5fZHJhdyhmYWNhZGUsIG9wdGlvbnMsIG1ldHJpY3MpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5UZXh0LnByb3RvdHlwZS5fZHJhdyA9IGZ1bmN0aW9uIChmYWNhZGUsIG9wdGlvbnMsIG1ldHJpY3MpIHsKCiAgICB2YXIgY29udGV4dCA9IGZhY2FkZS5jb250ZXh0LAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIHRoaXMuX2FwcGx5VHJhbnNmb3Jtcyhjb250ZXh0LCBvcHRpb25zLCBtZXRyaWNzKTsKCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB0aGlzLl9saW5lcy5sZW5ndGg7IGkgJmx0OyBsZW5ndGg7IGkgKz0gMSkgewoKICAgICAgICBpZiAob3B0aW9ucy5maWxsU3R5bGUpIHsKCiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQuYXBwbHkoY29udGV4dCwgdGhpcy5fbGluZXNbaV0pOwoKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLmxpbmVXaWR0aCkgewoKICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0LmFwcGx5KGNvbnRleHQsIHRoaXMuX2xpbmVzW2ldKTsKCiAgICAgICAgfQoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPnZvaWQ8L2NvZGU+ICA8L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLl9jb25maWdvcHRpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUudGV4dC5wcm90b3R5cGUuX2NvbmZpZ29wdGlvbnMiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5UZXh0Ll9jb25maWdPcHRpb25zKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gY29uZmlndXJhdGlvbiBmb3Igb3B0aW9ucyBzcGVjaWZpYyB0byBhIHRleHQgZW50aXR5LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNvbXBsZXRlIHNldCBvZiB0ZXh0IHNwZWNpZmljIG9wdGlvbnMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5jb25zb2xlLmxvZyh0ZXh0Ll9jb25maWdPcHRpb25zKG9wdGlvbnMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5UZXh0LnByb3RvdHlwZS5fY29uZmlnT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgogICAgb3B0aW9ucy50cmFuc2xhdGUgPSBbIG9wdGlvbnMueCwgb3B0aW9ucy55IF07CiAgICBvcHRpb25zLmdsb2JhbEFscGhhID0gb3B0aW9ucy5vcGFjaXR5IC8gMTAwOwogICAgb3B0aW9ucy5mb250ID0gb3B0aW9ucy5mb250U3R5bGUgKyAmI3gyNzsgJiN4Mjc7ICsgcGFyc2VJbnQob3B0aW9ucy5mb250U2l6ZSwgMTApICsgJiN4Mjc7cHggJiN4Mjc7ICsgb3B0aW9ucy5mb250RmFtaWx5OwoKICAgIGlmIChvcHRpb25zLndpZHRoID09PSAwKSB7CgogICAgICAgIG9wdGlvbnMud2lkdGggPSB0aGlzLl9tYXhMaW5lV2lkdGg7CgogICAgfQoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBDb252ZXJ0ZWQgb3B0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLnRleHQucHJvdG90eXBlLl9zZXRtZXRyaWNzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUudGV4dC5wcm90b3R5cGUuX3NldG1ldHJpY3MiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5UZXh0Ll9zZXRNZXRyaWNzKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TZXQgbWV0cmljcyBiYXNlZCBvbiB0aGUgdGV4dCYjMzk7cyBvcHRpb25zLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPnVwZGF0ZWQ8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkN1c3RvbSBvcHRpb25zIHVzZWQgdG8gcmVuZGVyIHRoZSB0ZXh0IGVudGl0eS48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKHRleHQuX3NldE1ldHJpY3MoKSk7CmNvbnNvbGUubG9nKHRleHQuX3NldE1ldHJpY3ModXBkYXRlZCkpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLlRleHQucHJvdG90eXBlLl9zZXRNZXRyaWNzID0gZnVuY3Rpb24gKHVwZGF0ZWQpIHsKCiAgICB2YXIgbWV0cmljcyA9IHRoaXMuX2RlZmF1bHRNZXRyaWNzKCksCiAgICAgICAgb3B0aW9ucyA9IHVwZGF0ZWQgfHwgdGhpcy5nZXRBbGxPcHRpb25zKCksCiAgICAgICAgYW5jaG9yOwoKICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnT3B0aW9ucyA9PT0gJiN4Mjc7ZnVuY3Rpb24mI3gyNzspIHsKCiAgICAgICAgb3B0aW9ucyA9IHRoaXMuX2NvbmZpZ09wdGlvbnMob3B0aW9ucyk7CgogICAgfQoKICAgIGlmICh0aGlzLl9saW5lcykgewoKICAgICAgICBtZXRyaWNzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIG9wdGlvbnMuc2NhbGU7CiAgICAgICAgbWV0cmljcy5oZWlnaHQgPSB0aGlzLl9saW5lcy5sZW5ndGggKiAob3B0aW9ucy5mb250U2l6ZSAqIG9wdGlvbnMubGluZUhlaWdodCkgKiBvcHRpb25zLnNjYWxlOwoKICAgIH0KCiAgICBhbmNob3IgPSB0aGlzLl9nZXRBbmNob3JQb2ludChvcHRpb25zLCBtZXRyaWNzKTsKCiAgICBtZXRyaWNzLnggPSBvcHRpb25zLnggKyBhbmNob3JbMF07CiAgICBtZXRyaWNzLnkgPSBvcHRpb25zLnkgKyBhbmNob3JbMV07CgogICAgaWYgKCF1cGRhdGVkKSB7CgogICAgICAgIHRoaXMuX21ldHJpY3MgPSBtZXRyaWNzOwoKICAgIH0KCiAgICByZXR1cm4gbWV0cmljczsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+T2JqZWN0PC9jb2RlPiAgT2JqZWN0IHdpdGggbWV0cmljcyBhcyBrZXktdmFsdWUgcGFpcnMuPC9wPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGhvZCBzY29wZS1wdWJsaWMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAiIGNsYXNzPSJwZXJtYWxpbmsiPiM8L2E+IEZhY2FkZS5Hcm91cCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3JlYXRlIGEgZ3JvdXAgb2JqZWN0LiBJbmhlcml0cyBhbGwgbWV0aG9kcyBmcm9tIDxiPkZhY2FkZS5FbnRpdHk8L2I+LjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnM8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9wdGlvbnMgdG8gY3JlYXRlIHRoZSBncm91cCB3aXRoLjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlggY29vcmRpbmF0ZSB0byBwb3NpdGlvbiBhIGdyb3VwLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMueTwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPkludGVnZXI8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgbGFiZWwtZGVmYXVsdCI+T3B0aW9uYWw8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlkgY29vcmRpbmF0ZSB0byBwb3NpdGlvbiBhIGdyb3VwLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuYW5jaG9yPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+U3RyaW5nPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Qb3NpdGlvbiB0byBhbmNob3IgdGhlIGdyb3VwLiA8aT5EZWZhdWx0OjwvaT4gInRvcC9sZWZ0Ijxicj48dWw+PGxpPnRvcC9sZWZ0PC9saT48bGk+dG9wL2NlbnRlcjwvbGk+PGxpPnRvcC9yaWdodDwvbGk+PGxpPmNlbnRlci9sZWZ0PC9saT48bGk+Y2VudGVyPC9saT48bGk+Y2VudGVyL3JpZ2h0PC9saT48bGk+Ym90dG9tL2xlZnQ8L2xpPjxsaT5ib3R0b20vY2VudGVyPC9saT48bGk+Ym90dG9tL3JpZ2h0PC9saT48L3VsPjwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMucm90YXRlPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+SW50ZWdlcjwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RGVncmVlcyB0byByb3RhdGUgdGhlIGdyb3VwLiA8aT5EZWZhdWx0OjwvaT4gMDwvcD4KCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9wdGlvbnMuc2NhbGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5JbnRlZ2VyPC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIGxhYmVsLWRlZmF1bHQiPk9wdGlvbmFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BIGZsb2F0IHJlcHJlc2VudGluZyB0aGUgc2NhbGUgb2YgYSBncm91cC4gPGk+RGVmYXVsdDo8L2k+IDE8L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPnZhciBncm91cCA9IG5ldyBGYWNhZGUuR3JvdXAoeyB4OiAxMDAsIHk6IDEwMCB9KTsKCmdyb3VwLmFkZFRvR3JvdXAocG9seWdvbik7Cmdyb3VwLmFkZFRvR3JvdXAoY2lyY2xlKTsKZ3JvdXAuYWRkVG9Hcm91cChsaW5lKTsKZ3JvdXAuYWRkVG9Hcm91cChyZWN0KTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCgoKCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuR3JvdXAgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGYWNhZGUuR3JvdXApKSB7CgogICAgICAgIHJldHVybiBuZXcgRmFjYWRlLkdyb3VwKG9wdGlvbnMpOwoKICAgIH0KCiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fZGVmYXVsdE9wdGlvbnMoKTsKICAgIHRoaXMuX21ldHJpY3MgPSB0aGlzLl9kZWZhdWx0TWV0cmljcygpOwoKICAgIHRoaXMuX29iamVjdHMgPSBbXTsKCiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKCgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBOZXcgRmFjYWRlLkdyb3VwIG9iamVjdC48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLl9kcmF3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLl9kcmF3IiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuR3JvdXAuX2RyYXcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlJlbmRlcnMgYSBncm91cCBvZiBlbnRpdGllcyB0byBhIGNhbnZhcy48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5mYWNhZGU8L2I+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29kZT5PYmplY3Q8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5qcyBvYmplY3QuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b3B0aW9uczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+T3B0aW9ucyB1c2VkIHRvIHJlbmRlciB0aGUgZ3JvdXAuPC9wPgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+bWV0cmljczwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+TWV0cmljcyB1c2VkIHRvIHJlbmRlciB0aGUgZ3JvdXAuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5ncm91cC5fZHJhdyhzdGFnZSwgb3B0aW9ucywgbWV0cmljcyk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkdyb3VwLnByb3RvdHlwZS5fZHJhdyA9IGZ1bmN0aW9uIChmYWNhZGUsIG9wdGlvbnMsIG1ldHJpY3MpIHsKCiAgICB2YXIgY29udGV4dCA9IGZhY2FkZS5jb250ZXh0LAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIHRoaXMuX2FwcGx5VHJhbnNmb3Jtcyhjb250ZXh0LCBvcHRpb25zLCBtZXRyaWNzKTsKCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgIGZhY2FkZS5hZGRUb1N0YWdlKHRoaXMuX29iamVjdHNbaV0pOwoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPnZvaWQ8L2NvZGU+ICA8L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXByaXZhdGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiNmYWNhZGUuanMtZmFjYWRlLmdyb3VwLnByb3RvdHlwZS5fY29uZmlnb3B0aW9ucyIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkdyb3VwLl9jb25maWdPcHRpb25zKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPnByaXZhdGUgbWV0aG9kPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DdXN0b20gY29uZmlndXJhdGlvbiBmb3Igb3B0aW9ucyBzcGVjaWZpYyB0byBhIGdyb3VwIGVudGl0eS48L3A+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhcmFtZXRlcnMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlBhcmFtZXRlcnM8L2gzPgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5vcHRpb25zPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Db21wbGV0ZSBzZXQgb2YgZ3JvdXAgc3BlY2lmaWMgb3B0aW9ucy48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmNvbnNvbGUubG9nKGdyb3VwLl9jb25maWdPcHRpb25zKG9wdGlvbnMpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5Hcm91cC5wcm90b3R5cGUuX2NvbmZpZ09wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgewoKICAgIG9wdGlvbnMudHJhbnNsYXRlID0gWyBvcHRpb25zLngsIG9wdGlvbnMueSBdOwoKICAgIHJldHVybiBvcHRpb25zOwoKfTs8L2NvZGU+PC9wcmU+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlJldHVybnM8L2gzPgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Y29kZT5PYmplY3Q8L2NvZGU+ICBDb252ZXJ0ZWQgb3B0aW9ucy48L3A+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0aG9kIHNjb3BlLXB1YmxpYyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLmFkZHRvZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuYWRkdG9ncm91cCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkdyb3VwLmFkZFRvR3JvdXAoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkFkZHMgYSBGYWNhZGUuanMgZW50aXR5IHRvIGEgZ3JvdXAuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b2JqPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+QXJyYXk8L2NvZGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkZhY2FkZS5qcyBlbnRpdHkgb3IgYW4gYXJyYXkgb2YgZW50aXRpZXMuPC9wPgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJleGFtcGxlcyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhhbXBsZXM8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5ncm91cC5hZGRUb0dyb3VwKGNpcmNsZSk7CjwvY29kZT48L3ByZT4KCgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImNvZGUiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkNvZGU8L2gzPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZT48Y29kZT5GYWNhZGUuR3JvdXAucHJvdG90eXBlLmFkZFRvR3JvdXAgPSBmdW5jdGlvbiAob2JqKSB7CgogICAgdmFyIGksCiAgICAgICAgbGVuZ3RoOwoKICAgIGlmIChvYmogaW5zdGFuY2VvZiBGYWNhZGUuRW50aXR5KSB7CgogICAgICAgIGlmICghdGhpcy5oYXNFbnRpdHkob2JqKSkgewoKICAgICAgICAgICAgdGhpcy5fb2JqZWN0cy5wdXNoKG9iaik7CgogICAgICAgICAgICB0aGlzLl9zZXRNZXRyaWNzKCk7CgogICAgICAgIH0KCiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewoKICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpICZsdDsgbGVuZ3RoOyBpICs9IDEpIHsKCiAgICAgICAgICAgIHRoaXMuYWRkVG9Hcm91cChvYmpbaV0pOwoKICAgICAgICB9CgogICAgfSBlbHNlIHsKCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCYjeDI3O09iamVjdCBwYXNzZWQgdG8gRmFjYWRlLmFkZFRvU3RhZ2UgaXMgbm90IGEgdmFsaWQgRmFjYWRlLmpzIGVudGl0eS4mI3gyNzspOwoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUuaGFzZW50aXR5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLmhhc2VudGl0eSIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkdyb3VwLmhhc0VudGl0eSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGVzdHMgdGhlIGV4aXN0ZW5jZSBvZiBhbiBlbnRpdHkgd2l0aGluIGEgZ3JvdXAuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+b2JqPC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGU+T2JqZWN0PC9jb2RlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5GYWNhZGUuanMgZW50aXR5LjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Z3JvdXAuYWRkVG9Hcm91cChjaXJjbGUpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkdyb3VwLnByb3RvdHlwZS5oYXNFbnRpdHkgPSBmdW5jdGlvbiAob2JqKSB7CgogICAgcmV0dXJuIHRoaXMuX29iamVjdHMuaW5kZXhPZihvYmopICE9PSAtMTsKCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+Qm9vbGVhbjwvY29kZT4gIEJvb2xlYW4gcmVzdWx0IG9mIHRoZSB0ZXN0LjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHVibGljIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0iZmFjYWRlLmpzLWZhY2FkZS5ncm91cC5wcm90b3R5cGUucmVtb3ZlZnJvbWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLnJlbW92ZWZyb21ncm91cCIgY2xhc3M9InBlcm1hbGluayI+IzwvYT4gRmFjYWRlLkdyb3VwLnJlbW92ZUZyb21Hcm91cCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+UmVtb3ZlcyBhIEZhY2FkZS5qcyBlbnRpdHkgZnJvbSBhIGdyb3VwLjwvcD4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFyYW1ldGVycyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UGFyYW1ldGVyczwvaDM+CgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPm9iajwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RmFjYWRlLmpzIGVudGl0eS48L3A+CgoKCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImV4YW1wbGVzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FeGFtcGxlczwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPmdyb3VwLnJlbW92ZUZyb21Hcm91cChjaXJjbGUpOwo8L2NvZGU+PC9wcmU+CgoKCgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJjb2RlIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Db2RlPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+RmFjYWRlLkdyb3VwLnByb3RvdHlwZS5yZW1vdmVGcm9tR3JvdXAgPSBmdW5jdGlvbiAob2JqKSB7CgogICAgaWYgKG9iaiBpbnN0YW5jZW9mIEZhY2FkZS5FbnRpdHkpIHsKCiAgICAgICAgaWYgKHRoaXMuaGFzRW50aXR5KG9iaikpIHsKCiAgICAgICAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKHRoaXMuX29iamVjdHMuaW5kZXhPZihvYmopLCAxKTsKCiAgICAgICAgICAgIHRoaXMuX3NldE1ldHJpY3MoKTsKCiAgICAgICAgfQoKICAgIH0KCn07PC9jb2RlPjwvcHJlPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5SZXR1cm5zPC9oMz4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGNvZGU+dm9pZDwvY29kZT4gIDwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2Qgc2NvcGUtcHJpdmF0ZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLl9zZXRtZXRyaWNzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iI2ZhY2FkZS5qcy1mYWNhZGUuZ3JvdXAucHJvdG90eXBlLl9zZXRtZXRyaWNzIiBjbGFzcz0icGVybWFsaW5rIj4jPC9hPiBGYWNhZGUuR3JvdXAuX3NldE1ldHJpY3MoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+cHJpdmF0ZSBtZXRob2Q8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlNldCBtZXRyaWNzIGJhc2VkIG9uIHRoZSBncm91cHMmIzM5O3MgZW50aXRpZXMgYW5kIG9wdGlvbnMuPC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYXJhbWV0ZXJzIj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5QYXJhbWV0ZXJzPC9oMz4KCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+dXBkYXRlZDwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlPk9iamVjdDwvY29kZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCBsYWJlbC1kZWZhdWx0Ij5PcHRpb25hbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q3VzdG9tIG9wdGlvbnMgdXNlZCB0byByZW5kZXIgdGhlIGdyb3VwLjwvcD4KCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iZXhhbXBsZXMiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkV4YW1wbGVzPC9oMz4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+Y29uc29sZS5sb2coZ3JvdXAuX3NldE1ldHJpY3MoKSk7CmNvbnNvbGUubG9nKGdyb3VwLl9zZXRNZXRyaWNzKHVwZGF0ZWQpKTsKPC9jb2RlPjwvcHJlPgoKCgoKCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz0iY29kZSI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+Q29kZTwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPkZhY2FkZS5Hcm91cC5wcm90b3R5cGUuX3NldE1ldHJpY3MgPSBmdW5jdGlvbiAodXBkYXRlZCkgewoKICAgIHZhciBtZXRyaWNzID0gdGhpcy5fZGVmYXVsdE1ldHJpY3MoKSwKICAgICAgICBvcHRpb25zID0gdXBkYXRlZCB8fCB0aGlzLmdldEFsbE9wdGlvbnMoKSwKICAgICAgICBib3VuZHMgPSB7IHRvcDogbnVsbCwgcmlnaHQ6IG51bGwsIGJvdHRvbTogbnVsbCwgbGVmdDogbnVsbCB9LAogICAgICAgIGksCiAgICAgICAgbGVuZ3RoLAogICAgICAgIGFuY2hvciwKICAgICAgICBvYmpfbWV0cmljczsKCiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSAmbHQ7IGxlbmd0aDsgaSArPSAxKSB7CgogICAgICAgIG9ial9tZXRyaWNzID0gdGhpcy5fb2JqZWN0c1tpXS5nZXRBbGxNZXRyaWNzKCk7CgogICAgICAgIGlmIChvYmpfbWV0cmljcy54ICZsdDsgYm91bmRzLmxlZnQgfHwgYm91bmRzLmxlZnQgPT09IG51bGwpIHsKCiAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gb2JqX21ldHJpY3MueDsKCiAgICAgICAgfQoKICAgICAgICBpZiAob2JqX21ldHJpY3MueSAmbHQ7IGJvdW5kcy50b3AgfHwgYm91bmRzLnRvcCA9PT0gbnVsbCkgewoKICAgICAgICAgICAgYm91bmRzLnRvcCA9IG9ial9tZXRyaWNzLnk7CgogICAgICAgIH0KCiAgICAgICAgaWYgKG9ial9tZXRyaWNzLnggKyBvYmpfbWV0cmljcy53aWR0aCAmZ3Q7IGJvdW5kcy5yaWdodCB8fCBib3VuZHMucmlnaHQgPT09IG51bGwpIHsKCiAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IG9ial9tZXRyaWNzLnggKyBvYmpfbWV0cmljcy53aWR0aDsKCiAgICAgICAgfQoKICAgICAgICBpZiAob2JqX21ldHJpY3MueSArIG9ial9tZXRyaWNzLmhlaWdodCAmZ3Q7IGJvdW5kcy5ib3R0b20gfHwgYm91bmRzLmJvdHRvbSA9PT0gbnVsbCkgewoKICAgICAgICAgICAgYm91bmRzLmJvdHRvbSA9IG9ial9tZXRyaWNzLnkgKyBvYmpfbWV0cmljcy5oZWlnaHQ7CgogICAgICAgIH0KCiAgICB9CgogICAgbWV0cmljcy54ID0gb3B0aW9ucy54ICsgYm91bmRzLmxlZnQ7CiAgICBtZXRyaWNzLnkgPSBvcHRpb25zLnkgKyBib3VuZHMudG9wOwoKICAgIG1ldHJpY3Mud2lkdGggPSAoYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQpICogb3B0aW9ucy5zY2FsZTsKICAgIG1ldHJpY3MuaGVpZ2h0ID0gKGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wKSAqIG9wdGlvbnMuc2NhbGU7CgogICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yUG9pbnQob3B0aW9ucywgbWV0cmljcyk7CgogICAgbWV0cmljcy54ID0gb3B0aW9ucy54ICsgYW5jaG9yWzBdOwogICAgbWV0cmljcy55ID0gb3B0aW9ucy55ICsgYW5jaG9yWzFdOwoKICAgIGlmICghdXBkYXRlZCkgewoKICAgICAgICB0aGlzLl9tZXRyaWNzID0gbWV0cmljczsKCiAgICB9CgogICAgcmV0dXJuIG1ldHJpY3M7Cgp9OzwvY29kZT48L3ByZT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+UmV0dXJuczwvaDM+CgoKCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxjb2RlPk9iamVjdDwvY29kZT4gIE9iamVjdCB3aXRoIG1ldHJpY3MgYXMga2V5LXZhbHVlIHBhaXJzLjwvcD4KCgoKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgoKCgoKCgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgPC9kaXY+CgogICAgPC9kaXY+Cgo8L2Rpdj4KCjxmb290ZXIgY2xhc3M9ImJzLWZvb3RlciI+CgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KCiAgICAgICAgPHA+RG9jdW1lbnRhdGlvbiBnZW5lcmF0ZWQgd2l0aCA8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vbmVvZ2Vlay9kb3hkb3giPmRveGRveDwvYT4uPC9wPgoKICAgIDwvZGl2PgoKPC9mb290ZXI+Cgo8L2JvZHk+CjwvaHRtbD4K",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 00:00:50 GMT",
                    "Content-Length": "224331",
                    "Date": "Fri, 07 Nov 2014 00:00:50 GMT",
                    "Content-Type": "text/html; charset=utf-8"
                },
                "cookies": [],
                "mimeType": "HTML",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
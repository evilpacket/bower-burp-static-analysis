{
    "url": "http://localhost:9999/theonion/bower-onion-video-ad-server-frontend/js/vendor.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "DOM data manipulation (DOM-based)",
    "issueType": 5247488,
    "severity": "Information",
    "confidence": "Firm",
    "issueBackground": "DOM-based DOM data manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a data field within the DOM that is used within the visible UI or client-side application logic. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the appearance or behavior of the client-side UI. An attacker may be able to leverage this to perform virtual defacement of the application, or possibly to induce the user to perform unintended actions.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based DOM data manipulation vulnerabilities is not to dynamically write to DOM data fields any data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from being stored. In general, this is best achieved by using a whitelist of permitted values.",
    "issueDetail": "The application may be vulnerable to DOM-based DOM data manipulation. Data is read from <b>window.name</b> and written to <b>the 'name' property of a DOM element</b> via the following statement:<ul><li>window.name= window.name.replace(NG_DEFER_B..., \"\" ) </li></ul><b>Note:</b> The name of the current window is a valid attack vector for DOM-based vulnerabilities. An attacker can directly control the name of the targeted application's window by using code on their own domain to load the targeted page using either window.open() or an iframe tag, and specifying the desired window name. ",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/theonion/bower-onion-video-ad-server-frontend/js/vendor.min.js",
                "path": "/theonion/bower-onion-video-ad-server-frontend/js/vendor.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC90aGVvbmlvbi9ib3dlci1vbmlvbi12aWRlby1hZC1zZXJ2ZXItZnJvbnRlbmQvanMvdmVuZG9yLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTAxMDQ5NQ0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KRGF0ZTogRnJpLCAwNyBOb3YgMjAxNCAyMToyMTo0NyBHTVQNCkxhc3QtTW9kaWZpZWQ6IEZyaSwgMDcgTm92IDIwMTQgMjE6MjE6NDcgR01UDQoNCmlmKGZ1bmN0aW9uKGdsb2JhbCxmYWN0b3J5KXsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1nbG9iYWwuZG9jdW1lbnQ/ZmFjdG9yeShnbG9iYWwsITApOmZ1bmN0aW9uKHcpe2lmKCF3LmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBmYWN0b3J5KHcpfTpmYWN0b3J5KGdsb2JhbCl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKHdpbmRvdyxub0dsb2JhbCl7ZnVuY3Rpb24gaXNBcnJheWxpa2Uob2JqKXt2YXIgbGVuZ3RoPW9iai5sZW5ndGgsdHlwZT1qUXVlcnkudHlwZShvYmopO3JldHVybiJmdW5jdGlvbiI9PT10eXBlfHxqUXVlcnkuaXNXaW5kb3cob2JqKT8hMToxPT09b2JqLm5vZGVUeXBlJiZsZW5ndGg/ITA6ImFycmF5Ij09PXR5cGV8fDA9PT1sZW5ndGh8fCJudW1iZXIiPT10eXBlb2YgbGVuZ3RoJiZsZW5ndGg+MCYmbGVuZ3RoLTEgaW4gb2JqfWZ1bmN0aW9uIHdpbm5vdyhlbGVtZW50cyxxdWFsaWZpZXIsbm90KXtpZihqUXVlcnkuaXNGdW5jdGlvbihxdWFsaWZpZXIpKXJldHVybiBqUXVlcnkuZ3JlcChlbGVtZW50cyxmdW5jdGlvbihlbGVtLGkpe3JldHVybiEhcXVhbGlmaWVyLmNhbGwoZWxlbSxpLGVsZW0pIT09bm90fSk7aWYocXVhbGlmaWVyLm5vZGVUeXBlKXJldHVybiBqUXVlcnkuZ3JlcChlbGVtZW50cyxmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbT09PXF1YWxpZmllciE9PW5vdH0pO2lmKCJzdHJpbmciPT10eXBlb2YgcXVhbGlmaWVyKXtpZihyaXNTaW1wbGUudGVzdChxdWFsaWZpZXIpKXJldHVybiBqUXVlcnkuZmlsdGVyKHF1YWxpZmllcixlbGVtZW50cyxub3QpO3F1YWxpZmllcj1qUXVlcnkuZmlsdGVyKHF1YWxpZmllcixlbGVtZW50cyl9cmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW0pe3JldHVybiBpbmRleE9mLmNhbGwocXVhbGlmaWVyLGVsZW0pPj0wIT09bm90fSl9ZnVuY3Rpb24gc2libGluZyhjdXIsZGlyKXtmb3IoOyhjdXI9Y3VyW2Rpcl0pJiYxIT09Y3VyLm5vZGVUeXBlOyk7cmV0dXJuIGN1cn1mdW5jdGlvbiBjcmVhdGVPcHRpb25zKG9wdGlvbnMpe3ZhciBvYmplY3Q9b3B0aW9uc0NhY2hlW29wdGlvbnNdPXt9O3JldHVybiBqUXVlcnkuZWFjaChvcHRpb25zLm1hdGNoKHJub3R3aGl0ZSl8fFtdLGZ1bmN0aW9uKF8sZmxhZyl7b2JqZWN0W2ZsYWddPSEwfSksb2JqZWN0fWZ1bmN0aW9uIGNvbXBsZXRlZCgpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGNvbXBsZXRlZCwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGNvbXBsZXRlZCwhMSksalF1ZXJ5LnJlYWR5KCl9ZnVuY3Rpb24gRGF0YSgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNhY2hlPXt9LDAse2dldDpmdW5jdGlvbigpe3JldHVybnt9fX0pLHRoaXMuZXhwYW5kbz1qUXVlcnkuZXhwYW5kbytNYXRoLnJhbmRvbSgpfWZ1bmN0aW9uIGRhdGFBdHRyKGVsZW0sa2V5LGRhdGEpe3ZhciBuYW1lO2lmKHZvaWQgMD09PWRhdGEmJjE9PT1lbGVtLm5vZGVUeXBlKWlmKG5hbWU9ImRhdGEtIitrZXkucmVwbGFjZShybXVsdGlEYXNoLCItJDEiKS50b0xvd2VyQ2FzZSgpLGRhdGE9ZWxlbS5nZXRBdHRyaWJ1dGUobmFtZSksInN0cmluZyI9PXR5cGVvZiBkYXRhKXt0cnl7ZGF0YT0idHJ1ZSI9PT1kYXRhPyEwOiJmYWxzZSI9PT1kYXRhPyExOiJudWxsIj09PWRhdGE/bnVsbDorZGF0YSsiIj09PWRhdGE/K2RhdGE6cmJyYWNlLnRlc3QoZGF0YSk/alF1ZXJ5LnBhcnNlSlNPTihkYXRhKTpkYXRhfWNhdGNoKGUpe31kYXRhX3VzZXIuc2V0KGVsZW0sa2V5LGRhdGEpfWVsc2UgZGF0YT12b2lkIDA7cmV0dXJuIGRhdGF9ZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpe3JldHVybiEwfWZ1bmN0aW9uIHJldHVybkZhbHNlKCl7cmV0dXJuITF9ZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKXt0cnl7cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZXJyKXt9fWZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldChlbGVtLGNvbnRlbnQpe3JldHVybiBqUXVlcnkubm9kZU5hbWUoZWxlbSwidGFibGUiKSYmalF1ZXJ5Lm5vZGVOYW1lKDExIT09Y29udGVudC5ub2RlVHlwZT9jb250ZW50OmNvbnRlbnQuZmlyc3RDaGlsZCwidHIiKT9lbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxlbGVtLmFwcGVuZENoaWxkKGVsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTplbGVtfWZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoZWxlbSl7cmV0dXJuIGVsZW0udHlwZT0obnVsbCE9PWVsZW0uZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIitlbGVtLnR5cGUsZWxlbX1mdW5jdGlvbiByZXN0b3JlU2NyaXB0KGVsZW0pe3ZhciBtYXRjaD1yc2NyaXB0VHlwZU1hc2tlZC5leGVjKGVsZW0udHlwZSk7cmV0dXJuIG1hdGNoP2VsZW0udHlwZT1tYXRjaFsxXTplbGVtLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGVsZW19ZnVuY3Rpb24gc2V0R2xvYmFsRXZhbChlbGVtcyxyZWZFbGVtZW50cyl7Zm9yKHZhciBpPTAsbD1lbGVtcy5sZW5ndGg7bD5pO2krKylkYXRhX3ByaXYuc2V0KGVsZW1zW2ldLCJnbG9iYWxFdmFsIiwhcmVmRWxlbWVudHN8fGRhdGFfcHJpdi5nZXQocmVmRWxlbWVudHNbaV0sImdsb2JhbEV2YWwiKSl9ZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoc3JjLGRlc3Qpe3ZhciBpLGwsdHlwZSxwZGF0YU9sZCxwZGF0YUN1cix1ZGF0YU9sZCx1ZGF0YUN1cixldmVudHM7aWYoMT09PWRlc3Qubm9kZVR5cGUpe2lmKGRhdGFfcHJpdi5oYXNEYXRhKHNyYykmJihwZGF0YU9sZD1kYXRhX3ByaXYuYWNjZXNzKHNyYykscGRhdGFDdXI9ZGF0YV9wcml2LnNldChkZXN0LHBkYXRhT2xkKSxldmVudHM9cGRhdGFPbGQuZXZlbnRzKSl7ZGVsZXRlIHBkYXRhQ3VyLmhhbmRsZSxwZGF0YUN1ci5ldmVudHM9e307Zm9yKHR5cGUgaW4gZXZlbnRzKWZvcihpPTAsbD1ldmVudHNbdHlwZV0ubGVuZ3RoO2w+aTtpKyspalF1ZXJ5LmV2ZW50LmFkZChkZXN0LHR5cGUsZXZlbnRzW3R5cGVdW2ldKX1kYXRhX3VzZXIuaGFzRGF0YShzcmMpJiYodWRhdGFPbGQ9ZGF0YV91c2VyLmFjY2VzcyhzcmMpLHVkYXRhQ3VyPWpRdWVyeS5leHRlbmQoe30sdWRhdGFPbGQpLGRhdGFfdXNlci5zZXQoZGVzdCx1ZGF0YUN1cikpfX1mdW5jdGlvbiBnZXRBbGwoY29udGV4dCx0YWcpe3ZhciByZXQ9Y29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZT9jb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ3x8IioiKTpjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGw/Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHRhZ3x8IioiKTpbXTtyZXR1cm4gdm9pZCAwPT09dGFnfHx0YWcmJmpRdWVyeS5ub2RlTmFtZShjb250ZXh0LHRhZyk/alF1ZXJ5Lm1lcmdlKFtjb250ZXh0XSxyZXQpOnJldH1mdW5jdGlvbiBmaXhJbnB1dChzcmMsZGVzdCl7dmFyIG5vZGVOYW1lPWRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09bm9kZU5hbWUmJnJjaGVja2FibGVUeXBlLnRlc3Qoc3JjLnR5cGUpP2Rlc3QuY2hlY2tlZD1zcmMuY2hlY2tlZDooImlucHV0Ij09PW5vZGVOYW1lfHwidGV4dGFyZWEiPT09bm9kZU5hbWUpJiYoZGVzdC5kZWZhdWx0VmFsdWU9c3JjLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gYWN0dWFsRGlzcGxheShuYW1lLGRvYyl7dmFyIHN0eWxlLGVsZW09alF1ZXJ5KGRvYy5jcmVhdGVFbGVtZW50KG5hbWUpKS5hcHBlbmRUbyhkb2MuYm9keSksZGlzcGxheT13aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihzdHlsZT13aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZWxlbVswXSkpP3N0eWxlLmRpc3BsYXk6alF1ZXJ5LmNzcyhlbGVtWzBdLCJkaXNwbGF5Iik7cmV0dXJuIGVsZW0uZGV0YWNoKCksZGlzcGxheX1mdW5jdGlvbiBkZWZhdWx0RGlzcGxheShub2RlTmFtZSl7dmFyIGRvYz1kb2N1bWVudCxkaXNwbGF5PWVsZW1kaXNwbGF5W25vZGVOYW1lXTtyZXR1cm4gZGlzcGxheXx8KGRpc3BsYXk9YWN0dWFsRGlzcGxheShub2RlTmFtZSxkb2MpLCJub25lIiE9PWRpc3BsYXkmJmRpc3BsYXl8fChpZnJhbWU9KGlmcmFtZXx8alF1ZXJ5KCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGRvYy5kb2N1bWVudEVsZW1lbnQpLGRvYz1pZnJhbWVbMF0uY29udGVudERvY3VtZW50LGRvYy53cml0ZSgpLGRvYy5jbG9zZSgpLGRpc3BsYXk9YWN0dWFsRGlzcGxheShub2RlTmFtZSxkb2MpLGlmcmFtZS5kZXRhY2goKSksZWxlbWRpc3BsYXlbbm9kZU5hbWVdPWRpc3BsYXkpLGRpc3BsYXl9ZnVuY3Rpb24gY3VyQ1NTKGVsZW0sbmFtZSxjb21wdXRlZCl7dmFyIHdpZHRoLG1pbldpZHRoLG1heFdpZHRoLHJldCxzdHlsZT1lbGVtLnN0eWxlO3JldHVybiBjb21wdXRlZD1jb21wdXRlZHx8Z2V0U3R5bGVzKGVsZW0pLGNvbXB1dGVkJiYocmV0PWNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUobmFtZSl8fGNvbXB1dGVkW25hbWVdKSxjb21wdXRlZCYmKCIiIT09cmV0fHxqUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LGVsZW0pfHwocmV0PWpRdWVyeS5zdHlsZShlbGVtLG5hbWUpKSxybnVtbm9ucHgudGVzdChyZXQpJiZybWFyZ2luLnRlc3QobmFtZSkmJih3aWR0aD1zdHlsZS53aWR0aCxtaW5XaWR0aD1zdHlsZS5taW5XaWR0aCxtYXhXaWR0aD1zdHlsZS5tYXhXaWR0aCxzdHlsZS5taW5XaWR0aD1zdHlsZS5tYXhXaWR0aD1zdHlsZS53aWR0aD1yZXQscmV0PWNvbXB1dGVkLndpZHRoLHN0eWxlLndpZHRoPXdpZHRoLHN0eWxlLm1pbldpZHRoPW1pbldpZHRoLHN0eWxlLm1heFdpZHRoPW1heFdpZHRoKSksdm9pZCAwIT09cmV0P3JldCsiIjpyZXR9ZnVuY3Rpb24gYWRkR2V0SG9va0lmKGNvbmRpdGlvbkZuLGhvb2tGbil7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBjb25kaXRpb25GbigpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1ob29rRm4pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fWZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKHN0eWxlLG5hbWUpe2lmKG5hbWUgaW4gc3R5bGUpcmV0dXJuIG5hbWU7Zm9yKHZhciBjYXBOYW1lPW5hbWVbMF0udG9VcHBlckNhc2UoKStuYW1lLnNsaWNlKDEpLG9yaWdOYW1lPW5hbWUsaT1jc3NQcmVmaXhlcy5sZW5ndGg7aS0tOylpZihuYW1lPWNzc1ByZWZpeGVzW2ldK2NhcE5hbWUsbmFtZSBpbiBzdHlsZSlyZXR1cm4gbmFtZTtyZXR1cm4gb3JpZ05hbWV9ZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoZWxlbSx2YWx1ZSxzdWJ0cmFjdCl7dmFyIG1hdGNoZXM9cm51bXNwbGl0LmV4ZWModmFsdWUpO3JldHVybiBtYXRjaGVzP01hdGgubWF4KDAsbWF0Y2hlc1sxXS0oc3VidHJhY3R8fDApKSsobWF0Y2hlc1syXXx8InB4Iik6dmFsdWV9ZnVuY3Rpb24gYXVnbWVudFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhLGlzQm9yZGVyQm94LHN0eWxlcyl7Zm9yKHZhciBpPWV4dHJhPT09KGlzQm9yZGVyQm94PyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09bmFtZT8xOjAsdmFsPTA7ND5pO2krPTIpIm1hcmdpbiI9PT1leHRyYSYmKHZhbCs9alF1ZXJ5LmNzcyhlbGVtLGV4dHJhK2Nzc0V4cGFuZFtpXSwhMCxzdHlsZXMpKSxpc0JvcmRlckJveD8oImNvbnRlbnQiPT09ZXh0cmEmJih2YWwtPWpRdWVyeS5jc3MoZWxlbSwicGFkZGluZyIrY3NzRXhwYW5kW2ldLCEwLHN0eWxlcykpLCJtYXJnaW4iIT09ZXh0cmEmJih2YWwtPWpRdWVyeS5jc3MoZWxlbSwiYm9yZGVyIitjc3NFeHBhbmRbaV0rIldpZHRoIiwhMCxzdHlsZXMpKSk6KHZhbCs9alF1ZXJ5LmNzcyhlbGVtLCJwYWRkaW5nIitjc3NFeHBhbmRbaV0sITAsc3R5bGVzKSwicGFkZGluZyIhPT1leHRyYSYmKHZhbCs9alF1ZXJ5LmNzcyhlbGVtLCJib3JkZXIiK2Nzc0V4cGFuZFtpXSsiV2lkdGgiLCEwLHN0eWxlcykpKTtyZXR1cm4gdmFsfWZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhKXt2YXIgdmFsdWVJc0JvcmRlckJveD0hMCx2YWw9IndpZHRoIj09PW5hbWU/ZWxlbS5vZmZzZXRXaWR0aDplbGVtLm9mZnNldEhlaWdodCxzdHlsZXM9Z2V0U3R5bGVzKGVsZW0pLGlzQm9yZGVyQm94PSJib3JkZXItYm94Ij09PWpRdWVyeS5jc3MoZWxlbSwiYm94U2l6aW5nIiwhMSxzdHlsZXMpO2lmKDA+PXZhbHx8bnVsbD09dmFsKXtpZih2YWw9Y3VyQ1NTKGVsZW0sbmFtZSxzdHlsZXMpLCgwPnZhbHx8bnVsbD09dmFsKSYmKHZhbD1lbGVtLnN0eWxlW25hbWVdKSxybnVtbm9ucHgudGVzdCh2YWwpKXJldHVybiB2YWw7dmFsdWVJc0JvcmRlckJveD1pc0JvcmRlckJveCYmKHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKXx8dmFsPT09ZWxlbS5zdHlsZVtuYW1lXSksdmFsPXBhcnNlRmxvYXQodmFsKXx8MH1yZXR1cm4gdmFsK2F1Z21lbnRXaWR0aE9ySGVpZ2h0KGVsZW0sbmFtZSxleHRyYXx8KGlzQm9yZGVyQm94PyJib3JkZXIiOiJjb250ZW50IiksdmFsdWVJc0JvcmRlckJveCxzdHlsZXMpKyJweCJ9ZnVuY3Rpb24gc2hvd0hpZGUoZWxlbWVudHMsc2hvdyl7Zm9yKHZhciBkaXNwbGF5LGVsZW0saGlkZGVuLHZhbHVlcz1bXSxpbmRleD0wLGxlbmd0aD1lbGVtZW50cy5sZW5ndGg7bGVuZ3RoPmluZGV4O2luZGV4KyspZWxlbT1lbGVtZW50c1tpbmRleF0sZWxlbS5zdHlsZSYmKHZhbHVlc1tpbmRleF09ZGF0YV9wcml2LmdldChlbGVtLCJvbGRkaXNwbGF5IiksZGlzcGxheT1lbGVtLnN0eWxlLmRpc3BsYXksc2hvdz8odmFsdWVzW2luZGV4XXx8Im5vbmUiIT09ZGlzcGxheXx8KGVsZW0uc3R5bGUuZGlzcGxheT0iIiksIiI9PT1lbGVtLnN0eWxlLmRpc3BsYXkmJmlzSGlkZGVuKGVsZW0pJiYodmFsdWVzW2luZGV4XT1kYXRhX3ByaXYuYWNjZXNzKGVsZW0sIm9sZGRpc3BsYXkiLGRlZmF1bHREaXNwbGF5KGVsZW0ubm9kZU5hbWUpKSkpOihoaWRkZW49aXNIaWRkZW4oZWxlbSksIm5vbmUiPT09ZGlzcGxheSYmaGlkZGVufHxkYXRhX3ByaXYuc2V0KGVsZW0sIm9sZGRpc3BsYXkiLGhpZGRlbj9kaXNwbGF5OmpRdWVyeS5jc3MoZWxlbSwiZGlzcGxheSIpKSkpO2ZvcihpbmRleD0wO2xlbmd0aD5pbmRleDtpbmRleCsrKWVsZW09ZWxlbWVudHNbaW5kZXhdLGVsZW0uc3R5bGUmJihzaG93JiYibm9uZSIhPT1lbGVtLnN0eWxlLmRpc3BsYXkmJiIiIT09ZWxlbS5zdHlsZS5kaXNwbGF5fHwoZWxlbS5zdHlsZS5kaXNwbGF5PXNob3c/dmFsdWVzW2luZGV4XXx8IiI6Im5vbmUiKSk7cmV0dXJuIGVsZW1lbnRzfWZ1bmN0aW9uIFR3ZWVuKGVsZW0sb3B0aW9ucyxwcm9wLGVuZCxlYXNpbmcpe3JldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoZWxlbSxvcHRpb25zLHByb3AsZW5kLGVhc2luZyl9ZnVuY3Rpb24gY3JlYXRlRnhOb3coKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2Z4Tm93PXZvaWQgMH0pLGZ4Tm93PWpRdWVyeS5ub3coKX1mdW5jdGlvbiBnZW5GeCh0eXBlLGluY2x1ZGVXaWR0aCl7dmFyIHdoaWNoLGk9MCxhdHRycz17aGVpZ2h0OnR5cGV9O2ZvcihpbmNsdWRlV2lkdGg9aW5jbHVkZVdpZHRoPzE6MDs0Pmk7aSs9Mi1pbmNsdWRlV2lkdGgpd2hpY2g9Y3NzRXhwYW5kW2ldLGF0dHJzWyJtYXJnaW4iK3doaWNoXT1hdHRyc1sicGFkZGluZyIrd2hpY2hdPXR5cGU7cmV0dXJuIGluY2x1ZGVXaWR0aCYmKGF0dHJzLm9wYWNpdHk9YXR0cnMud2lkdGg9dHlwZSksYXR0cnN9ZnVuY3Rpb24gY3JlYXRlVHdlZW4odmFsdWUscHJvcCxhbmltYXRpb24pe2Zvcih2YXIgdHdlZW4sY29sbGVjdGlvbj0odHdlZW5lcnNbcHJvcF18fFtdKS5jb25jYXQodHdlZW5lcnNbIioiXSksaW5kZXg9MCxsZW5ndGg9Y29sbGVjdGlvbi5sZW5ndGg7bGVuZ3RoPmluZGV4O2luZGV4KyspaWYodHdlZW49Y29sbGVjdGlvbltpbmRleF0uY2FsbChhbmltYXRpb24scHJvcCx2YWx1ZSkpcmV0dXJuIHR3ZWVufWZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoZWxlbSxwcm9wcyxvcHRzKXt2YXIgcHJvcCx2YWx1ZSx0b2dnbGUsdHdlZW4saG9va3Msb2xkZmlyZSxkaXNwbGF5LGNoZWNrRGlzcGxheSxhbmltPXRoaXMsb3JpZz17fSxzdHlsZT1lbGVtLnN0eWxlLGhpZGRlbj1lbGVtLm5vZGVUeXBlJiZpc0hpZGRlbihlbGVtKSxkYXRhU2hvdz1kYXRhX3ByaXYuZ2V0KGVsZW0sImZ4c2hvdyIpO29wdHMucXVldWV8fChob29rcz1qUXVlcnkuX3F1ZXVlSG9va3MoZWxlbSwiZngiKSxudWxsPT1ob29rcy51bnF1ZXVlZCYmKGhvb2tzLnVucXVldWVkPTAsb2xkZmlyZT1ob29rcy5lbXB0eS5maXJlLGhvb2tzLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtob29rcy51bnF1ZXVlZHx8b2xkZmlyZSgpfSksaG9va3MudW5xdWV1ZWQrKyxhbmltLmFsd2F5cyhmdW5jdGlvbigpe2FuaW0uYWx3YXlzKGZ1bmN0aW9uKCl7aG9va3MudW5xdWV1ZWQtLSxqUXVlcnkucXVldWUoZWxlbSwiZngiKS5sZW5ndGh8fGhvb2tzLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1lbGVtLm5vZGVUeXBlJiYoImhlaWdodCJpbiBwcm9wc3x8IndpZHRoImluIHByb3BzKSYmKG9wdHMub3ZlcmZsb3c9W3N0eWxlLm92ZXJmbG93LHN0eWxlLm92ZXJmbG93WCxzdHlsZS5vdmVyZmxvd1ldLGRpc3BsYXk9alF1ZXJ5LmNzcyhlbGVtLCJkaXNwbGF5IiksY2hlY2tEaXNwbGF5PSJub25lIj09PWRpc3BsYXk/ZGF0YV9wcml2LmdldChlbGVtLCJvbGRkaXNwbGF5Iil8fGRlZmF1bHREaXNwbGF5KGVsZW0ubm9kZU5hbWUpOmRpc3BsYXksImlubGluZSI9PT1jaGVja0Rpc3BsYXkmJiJub25lIj09PWpRdWVyeS5jc3MoZWxlbSwiZmxvYXQiKSYmKHN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxvcHRzLm92ZXJmbG93JiYoc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsYW5pbS5hbHdheXMoZnVuY3Rpb24oKXtzdHlsZS5vdmVyZmxvdz1vcHRzLm92ZXJmbG93WzBdLHN0eWxlLm92ZXJmbG93WD1vcHRzLm92ZXJmbG93WzFdLHN0eWxlLm92ZXJmbG93WT1vcHRzLm92ZXJmbG93WzJdfSkpO2Zvcihwcm9wIGluIHByb3BzKWlmKHZhbHVlPXByb3BzW3Byb3BdLHJmeHR5cGVzLmV4ZWModmFsdWUpKXtpZihkZWxldGUgcHJvcHNbcHJvcF0sdG9nZ2xlPXRvZ2dsZXx8InRvZ2dsZSI9PT12YWx1ZSx2YWx1ZT09PShoaWRkZW4/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PXZhbHVlfHwhZGF0YVNob3d8fHZvaWQgMD09PWRhdGFTaG93W3Byb3BdKWNvbnRpbnVlO2hpZGRlbj0hMH1vcmlnW3Byb3BdPWRhdGFTaG93JiZkYXRhU2hvd1twcm9wXXx8alF1ZXJ5LnN0eWxlKGVsZW0scHJvcCl9ZWxzZSBkaXNwbGF5PXZvaWQgMDtpZihqUXVlcnkuaXNFbXB0eU9iamVjdChvcmlnKSkiaW5saW5lIj09PSgibm9uZSI9PT1kaXNwbGF5P2RlZmF1bHREaXNwbGF5KGVsZW0ubm9kZU5hbWUpOmRpc3BsYXkpJiYoc3R5bGUuZGlzcGxheT1kaXNwbGF5KTtlbHNle2RhdGFTaG93PyJoaWRkZW4iaW4gZGF0YVNob3cmJihoaWRkZW49ZGF0YVNob3cuaGlkZGVuKTpkYXRhU2hvdz1kYXRhX3ByaXYuYWNjZXNzKGVsZW0sImZ4c2hvdyIse30pLHRvZ2dsZSYmKGRhdGFTaG93LmhpZGRlbj0haGlkZGVuKSxoaWRkZW4/alF1ZXJ5KGVsZW0pLnNob3coKTphbmltLmRvbmUoZnVuY3Rpb24oKXtqUXVlcnkoZWxlbSkuaGlkZSgpfSksYW5pbS5kb25lKGZ1bmN0aW9uKCl7dmFyIHByb3A7ZGF0YV9wcml2LnJlbW92ZShlbGVtLCJmeHNob3ciKTtmb3IocHJvcCBpbiBvcmlnKWpRdWVyeS5zdHlsZShlbGVtLHByb3Asb3JpZ1twcm9wXSl9KTtmb3IocHJvcCBpbiBvcmlnKXR3ZWVuPWNyZWF0ZVR3ZWVuKGhpZGRlbj9kYXRhU2hvd1twcm9wXTowLHByb3AsYW5pbSkscHJvcCBpbiBkYXRhU2hvd3x8KGRhdGFTaG93W3Byb3BdPXR3ZWVuLnN0YXJ0LGhpZGRlbiYmKHR3ZWVuLmVuZD10d2Vlbi5zdGFydCx0d2Vlbi5zdGFydD0id2lkdGgiPT09cHJvcHx8ImhlaWdodCI9PT1wcm9wPzE6MCkpfX1mdW5jdGlvbiBwcm9wRmlsdGVyKHByb3BzLHNwZWNpYWxFYXNpbmcpe3ZhciBpbmRleCxuYW1lLGVhc2luZyx2YWx1ZSxob29rcztmb3IoaW5kZXggaW4gcHJvcHMpaWYobmFtZT1qUXVlcnkuY2FtZWxDYXNlKGluZGV4KSxlYXNpbmc9c3BlY2lhbEVhc2luZ1tuYW1lXSx2YWx1ZT1wcm9wc1tpbmRleF0salF1ZXJ5LmlzQXJyYXkodmFsdWUpJiYoZWFzaW5nPXZhbHVlWzFdLHZhbHVlPXByb3BzW2luZGV4XT12YWx1ZVswXSksaW5kZXghPT1uYW1lJiYocHJvcHNbbmFtZV09dmFsdWUsZGVsZXRlIHByb3BzW2luZGV4XSksaG9va3M9alF1ZXJ5LmNzc0hvb2tzW25hbWVdLGhvb2tzJiYiZXhwYW5kImluIGhvb2tzKXt2YWx1ZT1ob29rcy5leHBhbmQodmFsdWUpLGRlbGV0ZSBwcm9wc1tuYW1lXTtmb3IoaW5kZXggaW4gdmFsdWUpaW5kZXggaW4gcHJvcHN8fChwcm9wc1tpbmRleF09dmFsdWVbaW5kZXhdLHNwZWNpYWxFYXNpbmdbaW5kZXhdPWVhc2luZyl9ZWxzZSBzcGVjaWFsRWFzaW5nW25hbWVdPWVhc2luZ31mdW5jdGlvbiBBbmltYXRpb24oZWxlbSxwcm9wZXJ0aWVzLG9wdGlvbnMpe3ZhciByZXN1bHQsc3RvcHBlZCxpbmRleD0wLGxlbmd0aD1hbmltYXRpb25QcmVmaWx0ZXJzLmxlbmd0aCxkZWZlcnJlZD1qUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgdGljay5lbGVtfSksdGljaz1mdW5jdGlvbigpe2lmKHN0b3BwZWQpcmV0dXJuITE7Zm9yKHZhciBjdXJyZW50VGltZT1meE5vd3x8Y3JlYXRlRnhOb3coKSxyZW1haW5pbmc9TWF0aC5tYXgoMCxhbmltYXRpb24uc3RhcnRUaW1lK2FuaW1hdGlvbi5kdXJhdGlvbi1jdXJyZW50VGltZSksdGVtcD1yZW1haW5pbmcvYW5pbWF0aW9uLmR1cmF0aW9ufHwwLHBlcmNlbnQ9MS10ZW1wLGluZGV4PTAsbGVuZ3RoPWFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO2xlbmd0aD5pbmRleDtpbmRleCsrKWFuaW1hdGlvbi50d2VlbnNbaW5kZXhdLnJ1bihwZXJjZW50KTtyZXR1cm4gZGVmZXJyZWQubm90aWZ5V2l0aChlbGVtLFthbmltYXRpb24scGVyY2VudCxyZW1haW5pbmddKSwxPnBlcmNlbnQmJmxlbmd0aD9yZW1haW5pbmc6KGRlZmVycmVkLnJlc29sdmVXaXRoKGVsZW0sW2FuaW1hdGlvbl0pLCExKX0sYW5pbWF0aW9uPWRlZmVycmVkLnByb21pc2Uoe2VsZW06ZWxlbSxwcm9wczpqUXVlcnkuZXh0ZW5kKHt9LHByb3BlcnRpZXMpLG9wdHM6alF1ZXJ5LmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sb3B0aW9ucyksb3JpZ2luYWxQcm9wZXJ0aWVzOnByb3BlcnRpZXMsb3JpZ2luYWxPcHRpb25zOm9wdGlvbnMsc3RhcnRUaW1lOmZ4Tm93fHxjcmVhdGVGeE5vdygpLGR1cmF0aW9uOm9wdGlvbnMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKHByb3AsZW5kKXt2YXIgdHdlZW49alF1ZXJ5LlR3ZWVuKGVsZW0sYW5pbWF0aW9uLm9wdHMscHJvcCxlbmQsYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1twcm9wXXx8YW5pbWF0aW9uLm9wdHMuZWFzaW5nKTtyZXR1cm4gYW5pbWF0aW9uLnR3ZWVucy5wdXNoKHR3ZWVuKSx0d2Vlbn0sc3RvcDpmdW5jdGlvbihnb3RvRW5kKXt2YXIgaW5kZXg9MCxsZW5ndGg9Z290b0VuZD9hbmltYXRpb24udHdlZW5zLmxlbmd0aDowO2lmKHN0b3BwZWQpcmV0dXJuIHRoaXM7Zm9yKHN0b3BwZWQ9ITA7bGVuZ3RoPmluZGV4O2luZGV4KyspYW5pbWF0aW9uLnR3ZWVuc1tpbmRleF0ucnVuKDEpO3JldHVybiBnb3RvRW5kP2RlZmVycmVkLnJlc29sdmVXaXRoKGVsZW0sW2FuaW1hdGlvbixnb3RvRW5kXSk6ZGVmZXJyZWQucmVqZWN0V2l0aChlbGVtLFthbmltYXRpb24sZ290b0VuZF0pLHRoaXN9fSkscHJvcHM9YW5pbWF0aW9uLnByb3BzO2Zvcihwcm9wRmlsdGVyKHByb3BzLGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcpO2xlbmd0aD5pbmRleDtpbmRleCsrKWlmKHJlc3VsdD1hbmltYXRpb25QcmVmaWx0ZXJzW2luZGV4XS5jYWxsKGFuaW1hdGlvbixlbGVtLHByb3BzLGFuaW1hdGlvbi5vcHRzKSlyZXR1cm4gcmVzdWx0O3JldHVybiBqUXVlcnkubWFwKHByb3BzLGNyZWF0ZVR3ZWVuLGFuaW1hdGlvbiksalF1ZXJ5LmlzRnVuY3Rpb24oYW5pbWF0aW9uLm9wdHMuc3RhcnQpJiZhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKGVsZW0sYW5pbWF0aW9uKSxqUXVlcnkuZngudGltZXIoalF1ZXJ5LmV4dGVuZCh0aWNrLHtlbGVtOmVsZW0sYW5pbTphbmltYXRpb24scXVldWU6YW5pbWF0aW9uLm9wdHMucXVldWV9KSksYW5pbWF0aW9uLnByb2dyZXNzKGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzKS5kb25lKGFuaW1hdGlvbi5vcHRzLmRvbmUsYW5pbWF0aW9uLm9wdHMuY29tcGxldGUpLmZhaWwoYW5pbWF0aW9uLm9wdHMuZmFpbCkuYWx3YXlzKGFuaW1hdGlvbi5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHN0cnVjdHVyZSl7cmV0dXJuIGZ1bmN0aW9uKGRhdGFUeXBlRXhwcmVzc2lvbixmdW5jKXsic3RyaW5nIiE9dHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiYmKGZ1bmM9ZGF0YVR5cGVFeHByZXNzaW9uLGRhdGFUeXBlRXhwcmVzc2lvbj0iKiIpO3ZhciBkYXRhVHlwZSxpPTAsZGF0YVR5cGVzPWRhdGFUeXBlRXhwcmVzc2lvbi50b0xvd2VyQ2FzZSgpLm1hdGNoKHJub3R3aGl0ZSl8fFtdO2lmKGpRdWVyeS5pc0Z1bmN0aW9uKGZ1bmMpKWZvcig7ZGF0YVR5cGU9ZGF0YVR5cGVzW2krK107KSIrIj09PWRhdGFUeXBlWzBdPyhkYXRhVHlwZT1kYXRhVHlwZS5zbGljZSgxKXx8IioiLChzdHJ1Y3R1cmVbZGF0YVR5cGVdPXN0cnVjdHVyZVtkYXRhVHlwZV18fFtdKS51bnNoaWZ0KGZ1bmMpKTooc3RydWN0dXJlW2RhdGFUeXBlXT1zdHJ1Y3R1cmVbZGF0YVR5cGVdfHxbXSkucHVzaChmdW5jKX19ZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoc3RydWN0dXJlLG9wdGlvbnMsb3JpZ2luYWxPcHRpb25zLGpxWEhSKXtmdW5jdGlvbiBpbnNwZWN0KGRhdGFUeXBlKXt2YXIgc2VsZWN0ZWQ7cmV0dXJuIGluc3BlY3RlZFtkYXRhVHlwZV09ITAsalF1ZXJ5LmVhY2goc3RydWN0dXJlW2RhdGFUeXBlXXx8W10sZnVuY3Rpb24oXyxwcmVmaWx0ZXJPckZhY3Rvcnkpe3ZhciBkYXRhVHlwZU9yVHJhbnNwb3J0PXByZWZpbHRlck9yRmFjdG9yeShvcHRpb25zLG9yaWdpbmFsT3B0aW9ucyxqcVhIUik7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0fHxzZWVraW5nVHJhbnNwb3J0fHxpbnNwZWN0ZWRbZGF0YVR5cGVPclRyYW5zcG9ydF0/c2Vla2luZ1RyYW5zcG9ydD8hKHNlbGVjdGVkPWRhdGFUeXBlT3JUcmFuc3BvcnQpOnZvaWQgMDoob3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdChkYXRhVHlwZU9yVHJhbnNwb3J0KSxpbnNwZWN0KGRhdGFUeXBlT3JUcmFuc3BvcnQpLCExKX0pLHNlbGVjdGVkfXZhciBpbnNwZWN0ZWQ9e30sc2Vla2luZ1RyYW5zcG9ydD1zdHJ1Y3R1cmU9PT10cmFuc3BvcnRzO3JldHVybiBpbnNwZWN0KG9wdGlvbnMuZGF0YVR5cGVzWzBdKXx8IWluc3BlY3RlZFsiKiJdJiZpbnNwZWN0KCIqIil9ZnVuY3Rpb24gYWpheEV4dGVuZCh0YXJnZXQsc3JjKXt2YXIga2V5LGRlZXAsZmxhdE9wdGlvbnM9alF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGtleSBpbiBzcmMpdm9pZCAwIT09c3JjW2tleV0mJigoZmxhdE9wdGlvbnNba2V5XT90YXJnZXQ6ZGVlcHx8KGRlZXA9e30pKVtrZXldPXNyY1trZXldKTtyZXR1cm4gZGVlcCYmalF1ZXJ5LmV4dGVuZCghMCx0YXJnZXQsZGVlcCksdGFyZ2V0fWZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMocyxqcVhIUixyZXNwb25zZXMpe2Zvcih2YXIgY3QsdHlwZSxmaW5hbERhdGFUeXBlLGZpcnN0RGF0YVR5cGUsY29udGVudHM9cy5jb250ZW50cyxkYXRhVHlwZXM9cy5kYXRhVHlwZXM7IioiPT09ZGF0YVR5cGVzWzBdOylkYXRhVHlwZXMuc2hpZnQoKSx2b2lkIDA9PT1jdCYmKGN0PXMubWltZVR5cGV8fGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYoY3QpZm9yKHR5cGUgaW4gY29udGVudHMpaWYoY29udGVudHNbdHlwZV0mJmNvbnRlbnRzW3R5cGVdLnRlc3QoY3QpKXtkYXRhVHlwZXMudW5zaGlmdCh0eXBlKTticmVha31pZihkYXRhVHlwZXNbMF1pbiByZXNwb25zZXMpZmluYWxEYXRhVHlwZT1kYXRhVHlwZXNbMF07ZWxzZXtmb3IodHlwZSBpbiByZXNwb25zZXMpe2lmKCFkYXRhVHlwZXNbMF18fHMuY29udmVydGVyc1t0eXBlKyIgIitkYXRhVHlwZXNbMF1dKXtmaW5hbERhdGFUeXBlPXR5cGU7YnJlYWt9Zmlyc3REYXRhVHlwZXx8KGZpcnN0RGF0YVR5cGU9dHlwZSl9ZmluYWxEYXRhVHlwZT1maW5hbERhdGFUeXBlfHxmaXJzdERhdGFUeXBlfXJldHVybiBmaW5hbERhdGFUeXBlPyhmaW5hbERhdGFUeXBlIT09ZGF0YVR5cGVzWzBdJiZkYXRhVHlwZXMudW5zaGlmdChmaW5hbERhdGFUeXBlKSxyZXNwb25zZXNbZmluYWxEYXRhVHlwZV0pOnZvaWQgMH1mdW5jdGlvbiBhamF4Q29udmVydChzLHJlc3BvbnNlLGpxWEhSLGlzU3VjY2Vzcyl7dmFyIGNvbnYyLGN1cnJlbnQsY29udix0bXAscHJldixjb252ZXJ0ZXJzPXt9LGRhdGFUeXBlcz1zLmRhdGFUeXBlcy5zbGljZSgpO2lmKGRhdGFUeXBlc1sxXSlmb3IoY29udiBpbiBzLmNvbnZlcnRlcnMpY29udmVydGVyc1tjb252LnRvTG93ZXJDYXNlKCldPXMuY29udmVydGVyc1tjb252XTtmb3IoY3VycmVudD1kYXRhVHlwZXMuc2hpZnQoKTtjdXJyZW50OylpZihzLnJlc3BvbnNlRmllbGRzW2N1cnJlbnRdJiYoanFYSFJbcy5yZXNwb25zZUZpZWxkc1tjdXJyZW50XV09cmVzcG9uc2UpLCFwcmV2JiZpc1N1Y2Nlc3MmJnMuZGF0YUZpbHRlciYmKHJlc3BvbnNlPXMuZGF0YUZpbHRlcihyZXNwb25zZSxzLmRhdGFUeXBlKSkscHJldj1jdXJyZW50LGN1cnJlbnQ9ZGF0YVR5cGVzLnNoaWZ0KCkpaWYoIioiPT09Y3VycmVudCljdXJyZW50PXByZXY7ZWxzZSBpZigiKiIhPT1wcmV2JiZwcmV2IT09Y3VycmVudCl7aWYoY29udj1jb252ZXJ0ZXJzW3ByZXYrIiAiK2N1cnJlbnRdfHxjb252ZXJ0ZXJzWyIqICIrY3VycmVudF0sIWNvbnYpZm9yKGNvbnYyIGluIGNvbnZlcnRlcnMpaWYodG1wPWNvbnYyLnNwbGl0KCIgIiksdG1wWzFdPT09Y3VycmVudCYmKGNvbnY9Y29udmVydGVyc1twcmV2KyIgIit0bXBbMF1dfHxjb252ZXJ0ZXJzWyIqICIrdG1wWzBdXSkpe2NvbnY9PT0hMD9jb252PWNvbnZlcnRlcnNbY29udjJdOmNvbnZlcnRlcnNbY29udjJdIT09ITAmJihjdXJyZW50PXRtcFswXSxkYXRhVHlwZXMudW5zaGlmdCh0bXBbMV0pKTticmVha31pZihjb252IT09ITApaWYoY29udiYmc1sidGhyb3dzIl0pcmVzcG9uc2U9Y29udihyZXNwb25zZSk7ZWxzZSB0cnl7cmVzcG9uc2U9Y29udihyZXNwb25zZSl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6Y29udj9lOiJObyBjb252ZXJzaW9uIGZyb20gIitwcmV2KyIgdG8gIitjdXJyZW50fX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnJlc3BvbnNlfX1mdW5jdGlvbiBidWlsZFBhcmFtcyhwcmVmaXgsb2JqLHRyYWRpdGlvbmFsLGFkZCl7dmFyIG5hbWU7aWYoalF1ZXJ5LmlzQXJyYXkob2JqKSlqUXVlcnkuZWFjaChvYmosZnVuY3Rpb24oaSx2KXt0cmFkaXRpb25hbHx8cmJyYWNrZXQudGVzdChwcmVmaXgpP2FkZChwcmVmaXgsdik6YnVpbGRQYXJhbXMocHJlZml4KyJbIisoIm9iamVjdCI9PXR5cGVvZiB2P2k6IiIpKyJdIix2LHRyYWRpdGlvbmFsLGFkZCl9KTtlbHNlIGlmKHRyYWRpdGlvbmFsfHwib2JqZWN0IiE9PWpRdWVyeS50eXBlKG9iaikpYWRkKHByZWZpeCxvYmopO2Vsc2UgZm9yKG5hbWUgaW4gb2JqKWJ1aWxkUGFyYW1zKHByZWZpeCsiWyIrbmFtZSsiXSIsb2JqW25hbWVdLHRyYWRpdGlvbmFsLGFkZCl9ZnVuY3Rpb24gZ2V0V2luZG93KGVsZW0pe3JldHVybiBqUXVlcnkuaXNXaW5kb3coZWxlbSk/ZWxlbTo5PT09ZWxlbS5ub2RlVHlwZSYmZWxlbS5kZWZhdWx0Vmlld312YXIgYXJyPVtdLHNsaWNlPWFyci5zbGljZSxjb25jYXQ9YXJyLmNvbmNhdCxwdXNoPWFyci5wdXNoLGluZGV4T2Y9YXJyLmluZGV4T2YsY2xhc3MydHlwZT17fSx0b1N0cmluZz1jbGFzczJ0eXBlLnRvU3RyaW5nLGhhc093bj1jbGFzczJ0eXBlLmhhc093blByb3BlcnR5LHN1cHBvcnQ9e30sZG9jdW1lbnQ9d2luZG93LmRvY3VtZW50LHZlcnNpb249IjIuMS4xIixqUXVlcnk9ZnVuY3Rpb24oc2VsZWN0b3IsY29udGV4dCl7cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdChzZWxlY3Rvcixjb250ZXh0KX0scnRyaW09L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLHJtc1ByZWZpeD0vXi1tcy0vLHJkYXNoQWxwaGE9Ly0oW1xkYS16XSkvZ2ksZmNhbWVsQ2FzZT1mdW5jdGlvbihhbGwsbGV0dGVyKXtyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCl9O2pRdWVyeS5mbj1qUXVlcnkucHJvdG90eXBlPXtqcXVlcnk6dmVyc2lvbixjb25zdHJ1Y3RvcjpqUXVlcnksc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBzbGljZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24obnVtKXtyZXR1cm4gbnVsbCE9bnVtPzA+bnVtP3RoaXNbbnVtK3RoaXMubGVuZ3RoXTp0aGlzW251bV06c2xpY2UuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGVsZW1zKXt2YXIgcmV0PWpRdWVyeS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZWxlbXMpO3JldHVybiByZXQucHJldk9iamVjdD10aGlzLHJldC5jb250ZXh0PXRoaXMuY29udGV4dCxyZXR9LGVhY2g6ZnVuY3Rpb24oY2FsbGJhY2ssYXJncyl7cmV0dXJuIGpRdWVyeS5lYWNoKHRoaXMsY2FsbGJhY2ssYXJncyl9LG1hcDpmdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS5tYXAodGhpcyxmdW5jdGlvbihlbGVtLGkpe3JldHVybiBjYWxsYmFjay5jYWxsKGVsZW0saSxlbGVtKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soc2xpY2UuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oaSl7dmFyIGxlbj10aGlzLmxlbmd0aCxqPStpKygwPmk/bGVuOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhqPj0wJiZsZW4+aj9bdGhpc1tqXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOnB1c2gsc29ydDphcnIuc29ydCxzcGxpY2U6YXJyLnNwbGljZX0salF1ZXJ5LmV4dGVuZD1qUXVlcnkuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIG9wdGlvbnMsbmFtZSxzcmMsY29weSxjb3B5SXNBcnJheSxjbG9uZSx0YXJnZXQ9YXJndW1lbnRzWzBdfHx7fSxpPTEsbGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGgsZGVlcD0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgdGFyZ2V0JiYoZGVlcD10YXJnZXQsdGFyZ2V0PWFyZ3VtZW50c1tpXXx8e30saSsrKSwib2JqZWN0Ij09dHlwZW9mIHRhcmdldHx8alF1ZXJ5LmlzRnVuY3Rpb24odGFyZ2V0KXx8KHRhcmdldD17fSksaT09PWxlbmd0aCYmKHRhcmdldD10aGlzLGktLSk7bGVuZ3RoPmk7aSsrKWlmKG51bGwhPShvcHRpb25zPWFyZ3VtZW50c1tpXSkpZm9yKG5hbWUgaW4gb3B0aW9ucylzcmM9dGFyZ2V0W25hbWVdLGNvcHk9b3B0aW9uc1tuYW1lXSx0YXJnZXQhPT1jb3B5JiYoZGVlcCYmY29weSYmKGpRdWVyeS5pc1BsYWluT2JqZWN0KGNvcHkpfHwoY29weUlzQXJyYXk9alF1ZXJ5LmlzQXJyYXkoY29weSkpKT8oY29weUlzQXJyYXk/KGNvcHlJc0FycmF5PSExLGNsb25lPXNyYyYmalF1ZXJ5LmlzQXJyYXkoc3JjKT9zcmM6W10pOmNsb25lPXNyYyYmalF1ZXJ5LmlzUGxhaW5PYmplY3Qoc3JjKT9zcmM6e30sdGFyZ2V0W25hbWVdPWpRdWVyeS5leHRlbmQoZGVlcCxjbG9uZSxjb3B5KSk6dm9pZCAwIT09Y29weSYmKHRhcmdldFtuYW1lXT1jb3B5KSk7cmV0dXJuIHRhcmdldH0salF1ZXJ5LmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisodmVyc2lvbitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKG1zZyl7dGhyb3cgbmV3IEVycm9yKG1zZyl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24ob2JqKXtyZXR1cm4iZnVuY3Rpb24iPT09alF1ZXJ5LnR5cGUob2JqKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKG9iail7cmV0dXJuIG51bGwhPW9iaiYmb2JqPT09b2JqLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKG9iail7cmV0dXJuIWpRdWVyeS5pc0FycmF5KG9iaikmJm9iai1wYXJzZUZsb2F0KG9iaik+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24ob2JqKXtyZXR1cm4ib2JqZWN0IiE9PWpRdWVyeS50eXBlKG9iail8fG9iai5ub2RlVHlwZXx8alF1ZXJ5LmlzV2luZG93KG9iaik/ITE6b2JqLmNvbnN0cnVjdG9yJiYhaGFzT3duLmNhbGwob2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpPyExOiEwfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKG9iail7dmFyIG5hbWU7Zm9yKG5hbWUgaW4gb2JqKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKG9iail7cmV0dXJuIG51bGw9PW9iaj9vYmorIiI6Im9iamVjdCI9PXR5cGVvZiBvYmp8fCJmdW5jdGlvbiI9PXR5cGVvZiBvYmo/Y2xhc3MydHlwZVt0b1N0cmluZy5jYWxsKG9iaildfHwib2JqZWN0Ijp0eXBlb2Ygb2JqfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGNvZGUpe3ZhciBzY3JpcHQsaW5kaXJlY3Q9ZXZhbDtjb2RlPWpRdWVyeS50cmltKGNvZGUpLGNvZGUmJigxPT09Y29kZS5pbmRleE9mKCJ1c2Ugc3RyaWN0Iik/KHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxzY3JpcHQudGV4dD1jb2RlLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCkpOmluZGlyZWN0KGNvZGUpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHJtc1ByZWZpeCwibXMtIikucmVwbGFjZShyZGFzaEFscGhhLGZjYW1lbENhc2UpfSxub2RlTmFtZTpmdW5jdGlvbihlbGVtLG5hbWUpe3JldHVybiBlbGVtLm5vZGVOYW1lJiZlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1uYW1lLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24ob2JqLGNhbGxiYWNrLGFyZ3Mpe3ZhciB2YWx1ZSxpPTAsbGVuZ3RoPW9iai5sZW5ndGgsaXNBcnJheT1pc0FycmF5bGlrZShvYmopO2lmKGFyZ3Mpe2lmKGlzQXJyYXkpZm9yKDtsZW5ndGg+aSYmKHZhbHVlPWNhbGxiYWNrLmFwcGx5KG9ialtpXSxhcmdzKSx2YWx1ZSE9PSExKTtpKyspO2Vsc2UgZm9yKGkgaW4gb2JqKWlmKHZhbHVlPWNhbGxiYWNrLmFwcGx5KG9ialtpXSxhcmdzKSx2YWx1ZT09PSExKWJyZWFrfWVsc2UgaWYoaXNBcnJheSlmb3IoO2xlbmd0aD5pJiYodmFsdWU9Y2FsbGJhY2suY2FsbChvYmpbaV0saSxvYmpbaV0pLHZhbHVlIT09ITEpO2krKyk7ZWxzZSBmb3IoaSBpbiBvYmopaWYodmFsdWU9Y2FsbGJhY2suY2FsbChvYmpbaV0saSxvYmpbaV0pLHZhbHVlPT09ITEpYnJlYWs7cmV0dXJuIG9ian0sdHJpbTpmdW5jdGlvbih0ZXh0KXtyZXR1cm4gbnVsbD09dGV4dD8iIjoodGV4dCsiIikucmVwbGFjZShydHJpbSwiIil9LG1ha2VBcnJheTpmdW5jdGlvbihhcnIscmVzdWx0cyl7dmFyIHJldD1yZXN1bHRzfHxbXTtyZXR1cm4gbnVsbCE9YXJyJiYoaXNBcnJheWxpa2UoT2JqZWN0KGFycikpP2pRdWVyeS5tZXJnZShyZXQsInN0cmluZyI9PXR5cGVvZiBhcnI/W2Fycl06YXJyKTpwdXNoLmNhbGwocmV0LGFycikpLHJldH0saW5BcnJheTpmdW5jdGlvbihlbGVtLGFycixpKXtyZXR1cm4gbnVsbD09YXJyPy0xOmluZGV4T2YuY2FsbChhcnIsZWxlbSxpKX0sbWVyZ2U6ZnVuY3Rpb24oZmlyc3Qsc2Vjb25kKXtmb3IodmFyIGxlbj0rc2Vjb25kLmxlbmd0aCxqPTAsaT1maXJzdC5sZW5ndGg7bGVuPmo7aisrKWZpcnN0W2krK109c2Vjb25kW2pdO3JldHVybiBmaXJzdC5sZW5ndGg9aSxmaXJzdH0sZ3JlcDpmdW5jdGlvbihlbGVtcyxjYWxsYmFjayxpbnZlcnQpe2Zvcih2YXIgY2FsbGJhY2tJbnZlcnNlLG1hdGNoZXM9W10saT0wLGxlbmd0aD1lbGVtcy5sZW5ndGgsY2FsbGJhY2tFeHBlY3Q9IWludmVydDtsZW5ndGg+aTtpKyspY2FsbGJhY2tJbnZlcnNlPSFjYWxsYmFjayhlbGVtc1tpXSxpKSxjYWxsYmFja0ludmVyc2UhPT1jYWxsYmFja0V4cGVjdCYmbWF0Y2hlcy5wdXNoKGVsZW1zW2ldKTtyZXR1cm4gbWF0Y2hlc30sbWFwOmZ1bmN0aW9uKGVsZW1zLGNhbGxiYWNrLGFyZyl7dmFyIHZhbHVlLGk9MCxsZW5ndGg9ZWxlbXMubGVuZ3RoLGlzQXJyYXk9aXNBcnJheWxpa2UoZWxlbXMpLHJldD1bXTtpZihpc0FycmF5KWZvcig7bGVuZ3RoPmk7aSsrKXZhbHVlPWNhbGxiYWNrKGVsZW1zW2ldLGksYXJnKSxudWxsIT12YWx1ZSYmcmV0LnB1c2godmFsdWUpO2Vsc2UgZm9yKGkgaW4gZWxlbXMpdmFsdWU9Y2FsbGJhY2soZWxlbXNbaV0saSxhcmcpLG51bGwhPXZhbHVlJiZyZXQucHVzaCh2YWx1ZSk7cmV0dXJuIGNvbmNhdC5hcHBseShbXSxyZXQpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oZm4sY29udGV4dCl7dmFyIHRtcCxhcmdzLHByb3h5O3JldHVybiJzdHJpbmciPT10eXBlb2YgY29udGV4dCYmKHRtcD1mbltjb250ZXh0XSxjb250ZXh0PWZuLGZuPXRtcCksalF1ZXJ5LmlzRnVuY3Rpb24oZm4pPyhhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLHByb3h5PWZ1bmN0aW9uKCl7cmV0dXJuIGZuLmFwcGx5KGNvbnRleHR8fHRoaXMsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9LHByb3h5Lmd1aWQ9Zm4uZ3VpZD1mbi5ndWlkfHxqUXVlcnkuZ3VpZCsrLHByb3h5KTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0OnN1cHBvcnR9KSxqUXVlcnkuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihpLG5hbWUpe2NsYXNzMnR5cGVbIltvYmplY3QgIituYW1lKyJdIl09bmFtZS50b0xvd2VyQ2FzZSgpfSk7dmFyIFNpenpsZT1mdW5jdGlvbih3aW5kb3cpe2Z1bmN0aW9uIFNpenpsZShzZWxlY3Rvcixjb250ZXh0LHJlc3VsdHMsc2VlZCl7dmFyIG1hdGNoLGVsZW0sbSxub2RlVHlwZSxpLGdyb3VwcyxvbGQsbmlkLG5ld0NvbnRleHQsbmV3U2VsZWN0b3I7aWYoKGNvbnRleHQ/Y29udGV4dC5vd25lckRvY3VtZW50fHxjb250ZXh0OnByZWZlcnJlZERvYykhPT1kb2N1bWVudCYmc2V0RG9jdW1lbnQoY29udGV4dCksY29udGV4dD1jb250ZXh0fHxkb2N1bWVudCxyZXN1bHRzPXJlc3VsdHN8fFtdLCFzZWxlY3Rvcnx8InN0cmluZyIhPXR5cGVvZiBzZWxlY3RvcilyZXR1cm4gcmVzdWx0cztpZigxIT09KG5vZGVUeXBlPWNvbnRleHQubm9kZVR5cGUpJiY5IT09bm9kZVR5cGUpcmV0dXJuW107aWYoZG9jdW1lbnRJc0hUTUwmJiFzZWVkKXtpZihtYXRjaD1ycXVpY2tFeHByLmV4ZWMoc2VsZWN0b3IpKWlmKG09bWF0Y2hbMV0pe2lmKDk9PT1ub2RlVHlwZSl7aWYoZWxlbT1jb250ZXh0LmdldEVsZW1lbnRCeUlkKG0pLCFlbGVtfHwhZWxlbS5wYXJlbnROb2RlKXJldHVybiByZXN1bHRzO2lmKGVsZW0uaWQ9PT1tKXJldHVybiByZXN1bHRzLnB1c2goZWxlbSkscmVzdWx0c31lbHNlIGlmKGNvbnRleHQub3duZXJEb2N1bWVudCYmKGVsZW09Y29udGV4dC5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG0pKSYmY29udGFpbnMoY29udGV4dCxlbGVtKSYmZWxlbS5pZD09PW0pcmV0dXJuIHJlc3VsdHMucHVzaChlbGVtKSxyZXN1bHRzfWVsc2V7aWYobWF0Y2hbMl0pcmV0dXJuIHB1c2guYXBwbHkocmVzdWx0cyxjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKSkscmVzdWx0cztpZigobT1tYXRjaFszXSkmJnN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBwdXNoLmFwcGx5KHJlc3VsdHMsY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG0pKSxyZXN1bHRzfWlmKHN1cHBvcnQucXNhJiYoIXJidWdneVFTQXx8IXJidWdneVFTQS50ZXN0KHNlbGVjdG9yKSkpe2lmKG5pZD1vbGQ9ZXhwYW5kbyxuZXdDb250ZXh0PWNvbnRleHQsbmV3U2VsZWN0b3I9OT09PW5vZGVUeXBlJiZzZWxlY3RvciwxPT09bm9kZVR5cGUmJiJvYmplY3QiIT09Y29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtmb3IoZ3JvdXBzPXRva2VuaXplKHNlbGVjdG9yKSwob2xkPWNvbnRleHQuZ2V0QXR0cmlidXRlKCJpZCIpKT9uaWQ9b2xkLnJlcGxhY2UocmVzY2FwZSwiXFwkJiIpOmNvbnRleHQuc2V0QXR0cmlidXRlKCJpZCIsbmlkKSxuaWQ9IltpZD0nIituaWQrIiddICIsaT1ncm91cHMubGVuZ3RoO2ktLTspZ3JvdXBzW2ldPW5pZCt0b1NlbGVjdG9yKGdyb3Vwc1tpXSk7bmV3Q29udGV4dD1yc2libGluZy50ZXN0KHNlbGVjdG9yKSYmdGVzdENvbnRleHQoY29udGV4dC5wYXJlbnROb2RlKXx8Y29udGV4dCxuZXdTZWxlY3Rvcj1ncm91cHMuam9pbigiLCIpfWlmKG5ld1NlbGVjdG9yKXRyeXtyZXR1cm4gcHVzaC5hcHBseShyZXN1bHRzLG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbChuZXdTZWxlY3RvcikpLHJlc3VsdHN9Y2F0Y2gocXNhRXJyb3Ipe31maW5hbGx5e29sZHx8Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gc2VsZWN0KHNlbGVjdG9yLnJlcGxhY2UocnRyaW0sIiQxIiksY29udGV4dCxyZXN1bHRzLHNlZWQpfWZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCl7ZnVuY3Rpb24gY2FjaGUoa2V5LHZhbHVlKXtyZXR1cm4ga2V5cy5wdXNoKGtleSsiICIpPkV4cHIuY2FjaGVMZW5ndGgmJmRlbGV0ZSBjYWNoZVtrZXlzLnNoaWZ0KCldLGNhY2hlW2tleSsiICJdPXZhbHVlfXZhciBrZXlzPVtdO3JldHVybiBjYWNoZX1mdW5jdGlvbiBtYXJrRnVuY3Rpb24oZm4pe3JldHVybiBmbltleHBhbmRvXT0hMCxmbn1mdW5jdGlvbiBhc3NlcnQoZm4pe3ZhciBkaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhZm4oZGl2KX1jYXRjaChlKXtyZXR1cm4hMX1maW5hbGx5e2Rpdi5wYXJlbnROb2RlJiZkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpLGRpdj1udWxsfX1mdW5jdGlvbiBhZGRIYW5kbGUoYXR0cnMsaGFuZGxlcil7Zm9yKHZhciBhcnI9YXR0cnMuc3BsaXQoInwiKSxpPWF0dHJzLmxlbmd0aDtpLS07KUV4cHIuYXR0ckhhbmRsZVthcnJbaV1dPWhhbmRsZXJ9ZnVuY3Rpb24gc2libGluZ0NoZWNrKGEsYil7dmFyIGN1cj1iJiZhLGRpZmY9Y3VyJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8TUFYX05FR0FUSVZFKS0ofmEuc291cmNlSW5kZXh8fE1BWF9ORUdBVElWRSk7aWYoZGlmZilyZXR1cm4gZGlmZjtpZihjdXIpZm9yKDtjdXI9Y3VyLm5leHRTaWJsaW5nOylpZihjdXI9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8odHlwZSl7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBuYW1lPWVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09bmFtZSYmZWxlbS50eXBlPT09dHlwZX19ZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKHR5cGUpe3JldHVybiBmdW5jdGlvbihlbGVtKXt2YXIgbmFtZT1lbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1uYW1lfHwiYnV0dG9uIj09PW5hbWUpJiZlbGVtLnR5cGU9PT10eXBlfX1mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZuKXtyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKGFyZ3VtZW50KXtyZXR1cm4gYXJndW1lbnQ9K2FyZ3VtZW50LG1hcmtGdW5jdGlvbihmdW5jdGlvbihzZWVkLG1hdGNoZXMpe2Zvcih2YXIgaixtYXRjaEluZGV4ZXM9Zm4oW10sc2VlZC5sZW5ndGgsYXJndW1lbnQpLGk9bWF0Y2hJbmRleGVzLmxlbmd0aDtpLS07KXNlZWRbaj1tYXRjaEluZGV4ZXNbaV1dJiYoc2VlZFtqXT0hKG1hdGNoZXNbal09c2VlZFtqXSkpfSl9KX1mdW5jdGlvbiB0ZXN0Q29udGV4dChjb250ZXh0KXtyZXR1cm4gY29udGV4dCYmdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1zdHJ1bmRlZmluZWQmJmNvbnRleHR9ZnVuY3Rpb24gc2V0RmlsdGVycygpe31mdW5jdGlvbiB0b1NlbGVjdG9yKHRva2Vucyl7Zm9yKHZhciBpPTAsbGVuPXRva2Vucy5sZW5ndGgsc2VsZWN0b3I9IiI7bGVuPmk7aSsrKXNlbGVjdG9yKz10b2tlbnNbaV0udmFsdWU7cmV0dXJuIHNlbGVjdG9yfWZ1bmN0aW9uIGFkZENvbWJpbmF0b3IobWF0Y2hlcixjb21iaW5hdG9yLGJhc2Upe3ZhciBkaXI9Y29tYmluYXRvci5kaXIsY2hlY2tOb25FbGVtZW50cz1iYXNlJiYicGFyZW50Tm9kZSI9PT1kaXIsZG9uZU5hbWU9ZG9uZSsrO3JldHVybiBjb21iaW5hdG9yLmZpcnN0P2Z1bmN0aW9uKGVsZW0sY29udGV4dCx4bWwpe2Zvcig7ZWxlbT1lbGVtW2Rpcl07KWlmKDE9PT1lbGVtLm5vZGVUeXBlfHxjaGVja05vbkVsZW1lbnRzKXJldHVybiBtYXRjaGVyKGVsZW0sY29udGV4dCx4bWwpfTpmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXt2YXIgb2xkQ2FjaGUsb3V0ZXJDYWNoZSxuZXdDYWNoZT1bZGlycnVucyxkb25lTmFtZV07aWYoeG1sKXtmb3IoO2VsZW09ZWxlbVtkaXJdOylpZigoMT09PWVsZW0ubm9kZVR5cGV8fGNoZWNrTm9uRWxlbWVudHMpJiZtYXRjaGVyKGVsZW0sY29udGV4dCx4bWwpKXJldHVybiEwfWVsc2UgZm9yKDtlbGVtPWVsZW1bZGlyXTspaWYoMT09PWVsZW0ubm9kZVR5cGV8fGNoZWNrTm9uRWxlbWVudHMpe2lmKG91dGVyQ2FjaGU9ZWxlbVtleHBhbmRvXXx8KGVsZW1bZXhwYW5kb109e30pLChvbGRDYWNoZT1vdXRlckNhY2hlW2Rpcl0pJiZvbGRDYWNoZVswXT09PWRpcnJ1bnMmJm9sZENhY2hlWzFdPT09ZG9uZU5hbWUpcmV0dXJuIG5ld0NhY2hlWzJdPW9sZENhY2hlWzJdO2lmKG91dGVyQ2FjaGVbZGlyXT1uZXdDYWNoZSxuZXdDYWNoZVsyXT1tYXRjaGVyKGVsZW0sY29udGV4dCx4bWwpKXJldHVybiEwfX19ZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpe3JldHVybiBtYXRjaGVycy5sZW5ndGg+MT9mdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXtmb3IodmFyIGk9bWF0Y2hlcnMubGVuZ3RoO2ktLTspaWYoIW1hdGNoZXJzW2ldKGVsZW0sY29udGV4dCx4bWwpKXJldHVybiExO3JldHVybiEwfTptYXRjaGVyc1swXX1mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKHNlbGVjdG9yLGNvbnRleHRzLHJlc3VsdHMpe2Zvcih2YXIgaT0wLGxlbj1jb250ZXh0cy5sZW5ndGg7bGVuPmk7aSsrKVNpenpsZShzZWxlY3Rvcixjb250ZXh0c1tpXSxyZXN1bHRzKTtyZXR1cm4gcmVzdWx0c31mdW5jdGlvbiBjb25kZW5zZSh1bm1hdGNoZWQsbWFwLGZpbHRlcixjb250ZXh0LHhtbCl7Zm9yKHZhciBlbGVtLG5ld1VubWF0Y2hlZD1bXSxpPTAsbGVuPXVubWF0Y2hlZC5sZW5ndGgsbWFwcGVkPW51bGwhPW1hcDtsZW4+aTtpKyspKGVsZW09dW5tYXRjaGVkW2ldKSYmKCFmaWx0ZXJ8fGZpbHRlcihlbGVtLGNvbnRleHQseG1sKSkmJihuZXdVbm1hdGNoZWQucHVzaChlbGVtKSxtYXBwZWQmJm1hcC5wdXNoKGkpKTtyZXR1cm4gbmV3VW5tYXRjaGVkfWZ1bmN0aW9uIHNldE1hdGNoZXIocHJlRmlsdGVyLHNlbGVjdG9yLG1hdGNoZXIscG9zdEZpbHRlcixwb3N0RmluZGVyLHBvc3RTZWxlY3Rvcil7cmV0dXJuIHBvc3RGaWx0ZXImJiFwb3N0RmlsdGVyW2V4cGFuZG9dJiYocG9zdEZpbHRlcj1zZXRNYXRjaGVyKHBvc3RGaWx0ZXIpKSxwb3N0RmluZGVyJiYhcG9zdEZpbmRlcltleHBhbmRvXSYmKHBvc3RGaW5kZXI9c2V0TWF0Y2hlcihwb3N0RmluZGVyLHBvc3RTZWxlY3RvcikpLG1hcmtGdW5jdGlvbihmdW5jdGlvbihzZWVkLHJlc3VsdHMsY29udGV4dCx4bWwpe3ZhciB0ZW1wLGksZWxlbSxwcmVNYXA9W10scG9zdE1hcD1bXSxwcmVleGlzdGluZz1yZXN1bHRzLmxlbmd0aCxlbGVtcz1zZWVkfHxtdWx0aXBsZUNvbnRleHRzKHNlbGVjdG9yfHwiKiIsY29udGV4dC5ub2RlVHlwZT9bY29udGV4dF06Y29udGV4dCxbXSksbWF0Y2hlckluPSFwcmVGaWx0ZXJ8fCFzZWVkJiZzZWxlY3Rvcj9lbGVtczpjb25kZW5zZShlbGVtcyxwcmVNYXAscHJlRmlsdGVyLGNvbnRleHQseG1sKSxtYXRjaGVyT3V0PW1hdGNoZXI/cG9zdEZpbmRlcnx8KHNlZWQ/cHJlRmlsdGVyOnByZWV4aXN0aW5nfHxwb3N0RmlsdGVyKT9bXTpyZXN1bHRzOm1hdGNoZXJJbjtpZihtYXRjaGVyJiZtYXRjaGVyKG1hdGNoZXJJbixtYXRjaGVyT3V0LGNvbnRleHQseG1sKSxwb3N0RmlsdGVyKWZvcih0ZW1wPWNvbmRlbnNlKG1hdGNoZXJPdXQscG9zdE1hcCkscG9zdEZpbHRlcih0ZW1wLFtdLGNvbnRleHQseG1sKSxpPXRlbXAubGVuZ3RoO2ktLTspKGVsZW09dGVtcFtpXSkmJihtYXRjaGVyT3V0W3Bvc3RNYXBbaV1dPSEobWF0Y2hlckluW3Bvc3RNYXBbaV1dPWVsZW0pKTtpZihzZWVkKXtpZihwb3N0RmluZGVyfHxwcmVGaWx0ZXIpe2lmKHBvc3RGaW5kZXIpe2Zvcih0ZW1wPVtdLGk9bWF0Y2hlck91dC5sZW5ndGg7aS0tOykoZWxlbT1tYXRjaGVyT3V0W2ldKSYmdGVtcC5wdXNoKG1hdGNoZXJJbltpXT1lbGVtKTtwb3N0RmluZGVyKG51bGwsbWF0Y2hlck91dD1bXSx0ZW1wLHhtbCl9Zm9yKGk9bWF0Y2hlck91dC5sZW5ndGg7aS0tOykoZWxlbT1tYXRjaGVyT3V0W2ldKSYmKHRlbXA9cG9zdEZpbmRlcj9pbmRleE9mLmNhbGwoc2VlZCxlbGVtKTpwcmVNYXBbaV0pPi0xJiYoc2VlZFt0ZW1wXT0hKHJlc3VsdHNbdGVtcF09ZWxlbSkpfX1lbHNlIG1hdGNoZXJPdXQ9Y29uZGVuc2UobWF0Y2hlck91dD09PXJlc3VsdHM/bWF0Y2hlck91dC5zcGxpY2UocHJlZXhpc3RpbmcsbWF0Y2hlck91dC5sZW5ndGgpOm1hdGNoZXJPdXQpLHBvc3RGaW5kZXI/cG9zdEZpbmRlcihudWxsLHJlc3VsdHMsbWF0Y2hlck91dCx4bWwpOnB1c2guYXBwbHkocmVzdWx0cyxtYXRjaGVyT3V0KX0pfWZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucyl7Zm9yKHZhciBjaGVja0NvbnRleHQsbWF0Y2hlcixqLGxlbj10b2tlbnMubGVuZ3RoLGxlYWRpbmdSZWxhdGl2ZT1FeHByLnJlbGF0aXZlW3Rva2Vuc1swXS50eXBlXSxpbXBsaWNpdFJlbGF0aXZlPWxlYWRpbmdSZWxhdGl2ZXx8RXhwci5yZWxhdGl2ZVsiICJdLGk9bGVhZGluZ1JlbGF0aXZlPzE6MCxtYXRjaENvbnRleHQ9YWRkQ29tYmluYXRvcihmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbT09PWNoZWNrQ29udGV4dH0saW1wbGljaXRSZWxhdGl2ZSwhMCksbWF0Y2hBbnlDb250ZXh0PWFkZENvbWJpbmF0b3IoZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGluZGV4T2YuY2FsbChjaGVja0NvbnRleHQsZWxlbSk+LTF9LGltcGxpY2l0UmVsYXRpdmUsITApLG1hdGNoZXJzPVtmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXtyZXR1cm4hbGVhZGluZ1JlbGF0aXZlJiYoeG1sfHxjb250ZXh0IT09b3V0ZXJtb3N0Q29udGV4dCl8fCgoY2hlY2tDb250ZXh0PWNvbnRleHQpLm5vZGVUeXBlP21hdGNoQ29udGV4dChlbGVtLGNvbnRleHQseG1sKTptYXRjaEFueUNvbnRleHQoZWxlbSxjb250ZXh0LHhtbCkpfV07bGVuPmk7aSsrKWlmKG1hdGNoZXI9RXhwci5yZWxhdGl2ZVt0b2tlbnNbaV0udHlwZV0pbWF0Y2hlcnM9W2FkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpLG1hdGNoZXIpXTtlbHNle2lmKG1hdGNoZXI9RXhwci5maWx0ZXJbdG9rZW5zW2ldLnR5cGVdLmFwcGx5KG51bGwsdG9rZW5zW2ldLm1hdGNoZXMpLG1hdGNoZXJbZXhwYW5kb10pe2ZvcihqPSsraTtsZW4+aiYmIUV4cHIucmVsYXRpdmVbdG9rZW5zW2pdLnR5cGVdO2orKyk7cmV0dXJuIHNldE1hdGNoZXIoaT4xJiZlbGVtZW50TWF0Y2hlcihtYXRjaGVycyksaT4xJiZ0b1NlbGVjdG9yKHRva2Vucy5zbGljZSgwLGktMSkuY29uY2F0KHt2YWx1ZToiICI9PT10b2tlbnNbaS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKHJ0cmltLCIkMSIpLG1hdGNoZXIsaj5pJiZtYXRjaGVyRnJvbVRva2Vucyh0b2tlbnMuc2xpY2UoaSxqKSksbGVuPmomJm1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucz10b2tlbnMuc2xpY2UoaikpLGxlbj5qJiZ0b1NlbGVjdG9yKHRva2VucykpfW1hdGNoZXJzLnB1c2gobWF0Y2hlcil9cmV0dXJuIGVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKX1mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoZWxlbWVudE1hdGNoZXJzLHNldE1hdGNoZXJzKXt2YXIgYnlTZXQ9c2V0TWF0Y2hlcnMubGVuZ3RoPjAsYnlFbGVtZW50PWVsZW1lbnRNYXRjaGVycy5sZW5ndGg+MCxzdXBlck1hdGNoZXI9ZnVuY3Rpb24oc2VlZCxjb250ZXh0LHhtbCxyZXN1bHRzLG91dGVybW9zdCl7dmFyIGVsZW0saixtYXRjaGVyLG1hdGNoZWRDb3VudD0wLGk9IjAiLHVubWF0Y2hlZD1zZWVkJiZbXSxzZXRNYXRjaGVkPVtdLGNvbnRleHRCYWNrdXA9b3V0ZXJtb3N0Q29udGV4dCxlbGVtcz1zZWVkfHxieUVsZW1lbnQmJkV4cHIuZmluZC5UQUcoIioiLG91dGVybW9zdCksZGlycnVuc1VuaXF1ZT1kaXJydW5zKz1udWxsPT1jb250ZXh0QmFja3VwPzE6TWF0aC5yYW5kb20oKXx8LjEsbGVuPWVsZW1zLmxlbmd0aDtmb3Iob3V0ZXJtb3N0JiYob3V0ZXJtb3N0Q29udGV4dD1jb250ZXh0IT09ZG9jdW1lbnQmJmNvbnRleHQpO2khPT1sZW4mJm51bGwhPShlbGVtPWVsZW1zW2ldKTtpKyspe2lmKGJ5RWxlbWVudCYmZWxlbSl7Zm9yKGo9MDttYXRjaGVyPWVsZW1lbnRNYXRjaGVyc1tqKytdOylpZihtYXRjaGVyKGVsZW0sY29udGV4dCx4bWwpKXtyZXN1bHRzLnB1c2goZWxlbSk7YnJlYWt9b3V0ZXJtb3N0JiYoZGlycnVucz1kaXJydW5zVW5pcXVlKX1ieVNldCYmKChlbGVtPSFtYXRjaGVyJiZlbGVtKSYmbWF0Y2hlZENvdW50LS0sc2VlZCYmdW5tYXRjaGVkLnB1c2goZWxlbSkpfWlmKG1hdGNoZWRDb3VudCs9aSxieVNldCYmaSE9PW1hdGNoZWRDb3VudCl7Zm9yKGo9MDttYXRjaGVyPXNldE1hdGNoZXJzW2orK107KW1hdGNoZXIodW5tYXRjaGVkLHNldE1hdGNoZWQsY29udGV4dCx4bWwpO2lmKHNlZWQpe2lmKG1hdGNoZWRDb3VudD4wKWZvcig7aS0tOyl1bm1hdGNoZWRbaV18fHNldE1hdGNoZWRbaV18fChzZXRNYXRjaGVkW2ldPXBvcC5jYWxsKHJlc3VsdHMpKTtzZXRNYXRjaGVkPWNvbmRlbnNlKHNldE1hdGNoZWQpfXB1c2guYXBwbHkocmVzdWx0cyxzZXRNYXRjaGVkKSxvdXRlcm1vc3QmJiFzZWVkJiZzZXRNYXRjaGVkLmxlbmd0aD4wJiZtYXRjaGVkQ291bnQrc2V0TWF0Y2hlcnMubGVuZ3RoPjEmJlNpenpsZS51bmlxdWVTb3J0KHJlc3VsdHMpfXJldHVybiBvdXRlcm1vc3QmJihkaXJydW5zPWRpcnJ1bnNVbmlxdWUsb3V0ZXJtb3N0Q29udGV4dD1jb250ZXh0QmFja3VwKSx1bm1hdGNoZWR9O3JldHVybiBieVNldD9tYXJrRnVuY3Rpb24oc3VwZXJNYXRjaGVyKTpzdXBlck1hdGNoZXJ9dmFyIGksc3VwcG9ydCxFeHByLGdldFRleHQsaXNYTUwsdG9rZW5pemUsY29tcGlsZSxzZWxlY3Qsb3V0ZXJtb3N0Q29udGV4dCxzb3J0SW5wdXQsaGFzRHVwbGljYXRlLHNldERvY3VtZW50LGRvY3VtZW50LGRvY0VsZW0sZG9jdW1lbnRJc0hUTUwscmJ1Z2d5UVNBLHJidWdneU1hdGNoZXMsbWF0Y2hlcyxjb250YWlucyxleHBhbmRvPSJzaXp6bGUiKy1uZXcgRGF0ZSxwcmVmZXJyZWREb2M9d2luZG93LmRvY3VtZW50LGRpcnJ1bnM9MCxkb25lPTAsY2xhc3NDYWNoZT1jcmVhdGVDYWNoZSgpLHRva2VuQ2FjaGU9Y3JlYXRlQ2FjaGUoKSxjb21waWxlckNhY2hlPWNyZWF0ZUNhY2hlKCksc29ydE9yZGVyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYoaGFzRHVwbGljYXRlPSEwKSwwfSxzdHJ1bmRlZmluZWQ9InVuZGVmaW5lZCIsTUFYX05FR0FUSVZFPTE8PDMxLGhhc093bj17fS5oYXNPd25Qcm9wZXJ0eSxhcnI9W10scG9wPWFyci5wb3AscHVzaF9uYXRpdmU9YXJyLnB1c2gscHVzaD1hcnIucHVzaCxzbGljZT1hcnIuc2xpY2UsaW5kZXhPZj1hcnIuaW5kZXhPZnx8ZnVuY3Rpb24oZWxlbSl7Zm9yKHZhciBpPTAsbGVuPXRoaXMubGVuZ3RoO2xlbj5pO2krKylpZih0aGlzW2ldPT09ZWxlbSlyZXR1cm4gaTtyZXR1cm4tMX0sYm9vbGVhbnM9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIix3aGl0ZXNwYWNlPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixjaGFyYWN0ZXJFbmNvZGluZz0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLGlkZW50aWZpZXI9Y2hhcmFjdGVyRW5jb2RpbmcucmVwbGFjZSgidyIsIncjIiksYXR0cmlidXRlcz0iXFxbIit3aGl0ZXNwYWNlKyIqKCIrY2hhcmFjdGVyRW5jb2RpbmcrIikoPzoiK3doaXRlc3BhY2UrIiooWypeJHwhfl0/PSkiK3doaXRlc3BhY2UrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitpZGVudGlmaWVyKyIpKXwpIit3aGl0ZXNwYWNlKyIqXFxdIixwc2V1ZG9zPSI6KCIrY2hhcmFjdGVyRW5jb2RpbmcrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK2F0dHJpYnV0ZXMrIikqKXwuKilcXCl8KSIscnRyaW09bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIit3aGl0ZXNwYWNlKyIrJCIsImciKSxyY29tbWE9bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiKiwiK3doaXRlc3BhY2UrIioiKSxyY29tYmluYXRvcnM9bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiKihbPit+XXwiK3doaXRlc3BhY2UrIikiK3doaXRlc3BhY2UrIioiKSxyYXR0cmlidXRlUXVvdGVzPW5ldyBSZWdFeHAoIj0iK3doaXRlc3BhY2UrIiooW15cXF0nXCJdKj8pIit3aGl0ZXNwYWNlKyIqXFxdIiwiZyIpLHJwc2V1ZG89bmV3IFJlZ0V4cChwc2V1ZG9zKSxyaWRlbnRpZmllcj1uZXcgUmVnRXhwKCJeIitpZGVudGlmaWVyKyIkIiksbWF0Y2hFeHByPXtJRDpuZXcgUmVnRXhwKCJeIygiK2NoYXJhY3RlckVuY29kaW5nKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK2NoYXJhY3RlckVuY29kaW5nKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitjaGFyYWN0ZXJFbmNvZGluZy5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrYXR0cmlidXRlcyksUFNFVURPOm5ldyBSZWdFeHAoIl4iK3BzZXVkb3MpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrd2hpdGVzcGFjZSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrd2hpdGVzcGFjZSsiKig/OihbKy1dfCkiK3doaXRlc3BhY2UrIiooXFxkKyl8KSkiK3doaXRlc3BhY2UrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2Jvb2xlYW5zKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrd2hpdGVzcGFjZSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIit3aGl0ZXNwYWNlKyIqKCg/Oi1cXGQpP1xcZCopIit3aGl0ZXNwYWNlKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxyaW5wdXRzPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2kscmhlYWRlcj0vXmhcZCQvaSxybmF0aXZlPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxycXVpY2tFeHByPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8scnNpYmxpbmc9L1srfl0vLHJlc2NhcGU9Lyd8XFwvZyxydW5lc2NhcGU9bmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9Iit3aGl0ZXNwYWNlKyI/fCgiK3doaXRlc3BhY2UrIil8LikiLCJpZyIpLGZ1bmVzY2FwZT1mdW5jdGlvbihfLGVzY2FwZWQsZXNjYXBlZFdoaXRlc3BhY2Upe3ZhciBoaWdoPSIweCIrZXNjYXBlZC02NTUzNjsKcmV0dXJuIGhpZ2ghPT1oaWdofHxlc2NhcGVkV2hpdGVzcGFjZT9lc2NhcGVkOjA+aGlnaD9TdHJpbmcuZnJvbUNoYXJDb2RlKGhpZ2grNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoaGlnaD4+MTB8NTUyOTYsMTAyMyZoaWdofDU2MzIwKX07dHJ5e3B1c2guYXBwbHkoYXJyPXNsaWNlLmNhbGwocHJlZmVycmVkRG9jLmNoaWxkTm9kZXMpLHByZWZlcnJlZERvYy5jaGlsZE5vZGVzKSxhcnJbcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlKXtwdXNoPXthcHBseTphcnIubGVuZ3RoP2Z1bmN0aW9uKHRhcmdldCxlbHMpe3B1c2hfbmF0aXZlLmFwcGx5KHRhcmdldCxzbGljZS5jYWxsKGVscykpfTpmdW5jdGlvbih0YXJnZXQsZWxzKXtmb3IodmFyIGo9dGFyZ2V0Lmxlbmd0aCxpPTA7dGFyZ2V0W2orK109ZWxzW2krK107KTt0YXJnZXQubGVuZ3RoPWotMX19fXN1cHBvcnQ9U2l6emxlLnN1cHBvcnQ9e30saXNYTUw9U2l6emxlLmlzWE1MPWZ1bmN0aW9uKGVsZW0pe3ZhciBkb2N1bWVudEVsZW1lbnQ9ZWxlbSYmKGVsZW0ub3duZXJEb2N1bWVudHx8ZWxlbSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkb2N1bWVudEVsZW1lbnQ/IkhUTUwiIT09ZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lOiExfSxzZXREb2N1bWVudD1TaXp6bGUuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24obm9kZSl7dmFyIGhhc0NvbXBhcmUsZG9jPW5vZGU/bm9kZS5vd25lckRvY3VtZW50fHxub2RlOnByZWZlcnJlZERvYyxwYXJlbnQ9ZG9jLmRlZmF1bHRWaWV3O3JldHVybiBkb2MhPT1kb2N1bWVudCYmOT09PWRvYy5ub2RlVHlwZSYmZG9jLmRvY3VtZW50RWxlbWVudD8oZG9jdW1lbnQ9ZG9jLGRvY0VsZW09ZG9jLmRvY3VtZW50RWxlbWVudCxkb2N1bWVudElzSFRNTD0haXNYTUwoZG9jKSxwYXJlbnQmJnBhcmVudCE9PXBhcmVudC50b3AmJihwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcj9wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixmdW5jdGlvbigpe3NldERvY3VtZW50KCl9LCExKTpwYXJlbnQuYXR0YWNoRXZlbnQmJnBhcmVudC5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7c2V0RG9jdW1lbnQoKX0pKSxzdXBwb3J0LmF0dHJpYnV0ZXM9YXNzZXJ0KGZ1bmN0aW9uKGRpdil7cmV0dXJuIGRpdi5jbGFzc05hbWU9ImkiLCFkaXYuZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWU9YXNzZXJ0KGZ1bmN0aW9uKGRpdil7cmV0dXJuIGRpdi5hcHBlbmRDaGlsZChkb2MuY3JlYXRlQ29tbWVudCgiIikpLCFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KSxzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWU9cm5hdGl2ZS50ZXN0KGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmYXNzZXJ0KGZ1bmN0aW9uKGRpdil7cmV0dXJuIGRpdi5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+IixkaXYuZmlyc3RDaGlsZC5jbGFzc05hbWU9ImkiLDI9PT1kaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaSIpLmxlbmd0aH0pLHN1cHBvcnQuZ2V0QnlJZD1hc3NlcnQoZnVuY3Rpb24oZGl2KXtyZXR1cm4gZG9jRWxlbS5hcHBlbmRDaGlsZChkaXYpLmlkPWV4cGFuZG8sIWRvYy5nZXRFbGVtZW50c0J5TmFtZXx8IWRvYy5nZXRFbGVtZW50c0J5TmFtZShleHBhbmRvKS5sZW5ndGh9KSxzdXBwb3J0LmdldEJ5SWQ/KEV4cHIuZmluZC5JRD1mdW5jdGlvbihpZCxjb250ZXh0KXtpZih0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCE9PXN0cnVuZGVmaW5lZCYmZG9jdW1lbnRJc0hUTUwpe3ZhciBtPWNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoaWQpO3JldHVybiBtJiZtLnBhcmVudE5vZGU/W21dOltdfX0sRXhwci5maWx0ZXIuSUQ9ZnVuY3Rpb24oaWQpe3ZhciBhdHRySWQ9aWQucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKTtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCJpZCIpPT09YXR0cklkfX0pOihkZWxldGUgRXhwci5maW5kLklELEV4cHIuZmlsdGVyLklEPWZ1bmN0aW9uKGlkKXt2YXIgYXR0cklkPWlkLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSk7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBub2RlPXR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUhPT1zdHJ1bmRlZmluZWQmJmVsZW0uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gbm9kZSYmbm9kZS52YWx1ZT09PWF0dHJJZH19KSxFeHByLmZpbmQuVEFHPXN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24odGFnLGNvbnRleHQpe3JldHVybiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PXN0cnVuZGVmaW5lZD9jb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZyk6dm9pZCAwfTpmdW5jdGlvbih0YWcsY29udGV4dCl7dmFyIGVsZW0sdG1wPVtdLGk9MCxyZXN1bHRzPWNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKTtpZigiKiI9PT10YWcpe2Zvcig7ZWxlbT1yZXN1bHRzW2krK107KTE9PT1lbGVtLm5vZGVUeXBlJiZ0bXAucHVzaChlbGVtKTtyZXR1cm4gdG1wfXJldHVybiByZXN1bHRzfSxFeHByLmZpbmQuQ0xBU1M9c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihjbGFzc05hbWUsY29udGV4dCl7cmV0dXJuIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT1zdHJ1bmRlZmluZWQmJmRvY3VtZW50SXNIVE1MP2NvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpOnZvaWQgMH0scmJ1Z2d5TWF0Y2hlcz1bXSxyYnVnZ3lRU0E9W10sKHN1cHBvcnQucXNhPXJuYXRpdmUudGVzdChkb2MucXVlcnlTZWxlY3RvckFsbCkpJiYoYXNzZXJ0KGZ1bmN0aW9uKGRpdil7ZGl2LmlubmVySFRNTD0iPHNlbGVjdCBtc2FsbG93Y2xpcD0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2xpcF49JyddIikubGVuZ3RoJiZyYnVnZ3lRU0EucHVzaCgiWypeJF09Iit3aGl0ZXNwYWNlKyIqKD86Jyd8XCJcIikiKSxkaXYucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8cmJ1Z2d5UVNBLnB1c2goIlxcWyIrd2hpdGVzcGFjZSsiKig/OnZhbHVlfCIrYm9vbGVhbnMrIikiKSxkaXYucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHJidWdneVFTQS5wdXNoKCI6Y2hlY2tlZCIpfSksYXNzZXJ0KGZ1bmN0aW9uKGRpdil7dmFyIGlucHV0PWRvYy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2lucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGRpdi5hcHBlbmRDaGlsZChpbnB1dCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmcmJ1Z2d5UVNBLnB1c2goIm5hbWUiK3doaXRlc3BhY2UrIipbKl4kfCF+XT89IiksZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxyYnVnZ3lRU0EucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxkaXYucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHJidWdneVFTQS5wdXNoKCIsLio6Iil9KSksKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yPXJuYXRpdmUudGVzdChtYXRjaGVzPWRvY0VsZW0ubWF0Y2hlc3x8ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yfHxkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3J8fGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IpKSYmYXNzZXJ0KGZ1bmN0aW9uKGRpdil7c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaD1tYXRjaGVzLmNhbGwoZGl2LCJkaXYiKSxtYXRjaGVzLmNhbGwoZGl2LCJbcyE9JyddOngiKSxyYnVnZ3lNYXRjaGVzLnB1c2goIiE9Iixwc2V1ZG9zKX0pLHJidWdneVFTQT1yYnVnZ3lRU0EubGVuZ3RoJiZuZXcgUmVnRXhwKHJidWdneVFTQS5qb2luKCJ8IikpLHJidWdneU1hdGNoZXM9cmJ1Z2d5TWF0Y2hlcy5sZW5ndGgmJm5ldyBSZWdFeHAocmJ1Z2d5TWF0Y2hlcy5qb2luKCJ8IikpLGhhc0NvbXBhcmU9cm5hdGl2ZS50ZXN0KGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLGNvbnRhaW5zPWhhc0NvbXBhcmV8fHJuYXRpdmUudGVzdChkb2NFbGVtLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBhZG93bj05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGJ1cD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1idXB8fCEoIWJ1cHx8MSE9PWJ1cC5ub2RlVHlwZXx8IShhZG93bi5jb250YWlucz9hZG93bi5jb250YWlucyhidXApOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYnVwKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpZm9yKDtiPWIucGFyZW50Tm9kZTspaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LHNvcnRPcmRlcj1oYXNDb21wYXJlP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGhhc0R1cGxpY2F0ZT0hMCwwO3ZhciBjb21wYXJlPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBjb21wYXJlP2NvbXBhcmU6KGNvbXBhcmU9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZjb21wYXJlfHwhc3VwcG9ydC5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1jb21wYXJlP2E9PT1kb2N8fGEub3duZXJEb2N1bWVudD09PXByZWZlcnJlZERvYyYmY29udGFpbnMocHJlZmVycmVkRG9jLGEpPy0xOmI9PT1kb2N8fGIub3duZXJEb2N1bWVudD09PXByZWZlcnJlZERvYyYmY29udGFpbnMocHJlZmVycmVkRG9jLGIpPzE6c29ydElucHV0P2luZGV4T2YuY2FsbChzb3J0SW5wdXQsYSktaW5kZXhPZi5jYWxsKHNvcnRJbnB1dCxiKTowOjQmY29tcGFyZT8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gaGFzRHVwbGljYXRlPSEwLDA7dmFyIGN1cixpPTAsYXVwPWEucGFyZW50Tm9kZSxidXA9Yi5wYXJlbnROb2RlLGFwPVthXSxicD1bYl07aWYoIWF1cHx8IWJ1cClyZXR1cm4gYT09PWRvYz8tMTpiPT09ZG9jPzE6YXVwPy0xOmJ1cD8xOnNvcnRJbnB1dD9pbmRleE9mLmNhbGwoc29ydElucHV0LGEpLWluZGV4T2YuY2FsbChzb3J0SW5wdXQsYik6MDtpZihhdXA9PT1idXApcmV0dXJuIHNpYmxpbmdDaGVjayhhLGIpO2ZvcihjdXI9YTtjdXI9Y3VyLnBhcmVudE5vZGU7KWFwLnVuc2hpZnQoY3VyKTtmb3IoY3VyPWI7Y3VyPWN1ci5wYXJlbnROb2RlOylicC51bnNoaWZ0KGN1cik7Zm9yKDthcFtpXT09PWJwW2ldOylpKys7cmV0dXJuIGk/c2libGluZ0NoZWNrKGFwW2ldLGJwW2ldKTphcFtpXT09PXByZWZlcnJlZERvYz8tMTpicFtpXT09PXByZWZlcnJlZERvYz8xOjB9LGRvYyk6ZG9jdW1lbnR9LFNpenpsZS5tYXRjaGVzPWZ1bmN0aW9uKGV4cHIsZWxlbWVudHMpe3JldHVybiBTaXp6bGUoZXhwcixudWxsLG51bGwsZWxlbWVudHMpfSxTaXp6bGUubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGVsZW0sZXhwcil7aWYoKGVsZW0ub3duZXJEb2N1bWVudHx8ZWxlbSkhPT1kb2N1bWVudCYmc2V0RG9jdW1lbnQoZWxlbSksZXhwcj1leHByLnJlcGxhY2UocmF0dHJpYnV0ZVF1b3RlcywiPSckMSddIiksISghc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3J8fCFkb2N1bWVudElzSFRNTHx8cmJ1Z2d5TWF0Y2hlcyYmcmJ1Z2d5TWF0Y2hlcy50ZXN0KGV4cHIpfHxyYnVnZ3lRU0EmJnJidWdneVFTQS50ZXN0KGV4cHIpKSl0cnl7dmFyIHJldD1tYXRjaGVzLmNhbGwoZWxlbSxleHByKTtpZihyZXR8fHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2h8fGVsZW0uZG9jdW1lbnQmJjExIT09ZWxlbS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gcmV0fWNhdGNoKGUpe31yZXR1cm4gU2l6emxlKGV4cHIsZG9jdW1lbnQsbnVsbCxbZWxlbV0pLmxlbmd0aD4wfSxTaXp6bGUuY29udGFpbnM9ZnVuY3Rpb24oY29udGV4dCxlbGVtKXtyZXR1cm4oY29udGV4dC5vd25lckRvY3VtZW50fHxjb250ZXh0KSE9PWRvY3VtZW50JiZzZXREb2N1bWVudChjb250ZXh0KSxjb250YWlucyhjb250ZXh0LGVsZW0pfSxTaXp6bGUuYXR0cj1mdW5jdGlvbihlbGVtLG5hbWUpeyhlbGVtLm93bmVyRG9jdW1lbnR8fGVsZW0pIT09ZG9jdW1lbnQmJnNldERvY3VtZW50KGVsZW0pO3ZhciBmbj1FeHByLmF0dHJIYW5kbGVbbmFtZS50b0xvd2VyQ2FzZSgpXSx2YWw9Zm4mJmhhc093bi5jYWxsKEV4cHIuYXR0ckhhbmRsZSxuYW1lLnRvTG93ZXJDYXNlKCkpP2ZuKGVsZW0sbmFtZSwhZG9jdW1lbnRJc0hUTUwpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dmFsP3ZhbDpzdXBwb3J0LmF0dHJpYnV0ZXN8fCFkb2N1bWVudElzSFRNTD9lbGVtLmdldEF0dHJpYnV0ZShuYW1lKToodmFsPWVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkmJnZhbC5zcGVjaWZpZWQ/dmFsLnZhbHVlOm51bGx9LFNpenpsZS5lcnJvcj1mdW5jdGlvbihtc2cpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIittc2cpfSxTaXp6bGUudW5pcXVlU29ydD1mdW5jdGlvbihyZXN1bHRzKXt2YXIgZWxlbSxkdXBsaWNhdGVzPVtdLGo9MCxpPTA7aWYoaGFzRHVwbGljYXRlPSFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMsc29ydElucHV0PSFzdXBwb3J0LnNvcnRTdGFibGUmJnJlc3VsdHMuc2xpY2UoMCkscmVzdWx0cy5zb3J0KHNvcnRPcmRlciksaGFzRHVwbGljYXRlKXtmb3IoO2VsZW09cmVzdWx0c1tpKytdOyllbGVtPT09cmVzdWx0c1tpXSYmKGo9ZHVwbGljYXRlcy5wdXNoKGkpKTtmb3IoO2otLTspcmVzdWx0cy5zcGxpY2UoZHVwbGljYXRlc1tqXSwxKX1yZXR1cm4gc29ydElucHV0PW51bGwscmVzdWx0c30sZ2V0VGV4dD1TaXp6bGUuZ2V0VGV4dD1mdW5jdGlvbihlbGVtKXt2YXIgbm9kZSxyZXQ9IiIsaT0wLG5vZGVUeXBlPWVsZW0ubm9kZVR5cGU7aWYobm9kZVR5cGUpe2lmKDE9PT1ub2RlVHlwZXx8OT09PW5vZGVUeXBlfHwxMT09PW5vZGVUeXBlKXtpZigic3RyaW5nIj09dHlwZW9mIGVsZW0udGV4dENvbnRlbnQpcmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7Zm9yKGVsZW09ZWxlbS5maXJzdENoaWxkO2VsZW07ZWxlbT1lbGVtLm5leHRTaWJsaW5nKXJldCs9Z2V0VGV4dChlbGVtKX1lbHNlIGlmKDM9PT1ub2RlVHlwZXx8ND09PW5vZGVUeXBlKXJldHVybiBlbGVtLm5vZGVWYWx1ZX1lbHNlIGZvcig7bm9kZT1lbGVtW2krK107KXJldCs9Z2V0VGV4dChub2RlKTtyZXR1cm4gcmV0fSxFeHByPVNpenpsZS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzptYXJrRnVuY3Rpb24sbWF0Y2g6bWF0Y2hFeHByLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihtYXRjaCl7cmV0dXJuIG1hdGNoWzFdPW1hdGNoWzFdLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSksbWF0Y2hbM109KG1hdGNoWzNdfHxtYXRjaFs0XXx8bWF0Y2hbNV18fCIiKS5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLCJ+PSI9PT1tYXRjaFsyXSYmKG1hdGNoWzNdPSIgIittYXRjaFszXSsiICIpLG1hdGNoLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4gbWF0Y2hbMV09bWF0Y2hbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PW1hdGNoWzFdLnNsaWNlKDAsMyk/KG1hdGNoWzNdfHxTaXp6bGUuZXJyb3IobWF0Y2hbMF0pLG1hdGNoWzRdPSsobWF0Y2hbNF0/bWF0Y2hbNV0rKG1hdGNoWzZdfHwxKToyKigiZXZlbiI9PT1tYXRjaFszXXx8Im9kZCI9PT1tYXRjaFszXSkpLG1hdGNoWzVdPSsobWF0Y2hbN10rbWF0Y2hbOF18fCJvZGQiPT09bWF0Y2hbM10pKTptYXRjaFszXSYmU2l6emxlLmVycm9yKG1hdGNoWzBdKSxtYXRjaH0sUFNFVURPOmZ1bmN0aW9uKG1hdGNoKXt2YXIgZXhjZXNzLHVucXVvdGVkPSFtYXRjaFs2XSYmbWF0Y2hbMl07cmV0dXJuIG1hdGNoRXhwci5DSElMRC50ZXN0KG1hdGNoWzBdKT9udWxsOihtYXRjaFszXT9tYXRjaFsyXT1tYXRjaFs0XXx8bWF0Y2hbNV18fCIiOnVucXVvdGVkJiZycHNldWRvLnRlc3QodW5xdW90ZWQpJiYoZXhjZXNzPXRva2VuaXplKHVucXVvdGVkLCEwKSkmJihleGNlc3M9dW5xdW90ZWQuaW5kZXhPZigiKSIsdW5xdW90ZWQubGVuZ3RoLWV4Y2VzcyktdW5xdW90ZWQubGVuZ3RoKSYmKG1hdGNoWzBdPW1hdGNoWzBdLnNsaWNlKDAsZXhjZXNzKSxtYXRjaFsyXT11bnF1b3RlZC5zbGljZSgwLGV4Y2VzcykpLG1hdGNoLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24obm9kZU5hbWVTZWxlY3Rvcil7dmFyIG5vZGVOYW1lPW5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PW5vZGVOYW1lU2VsZWN0b3I/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0ubm9kZU5hbWUmJmVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW5vZGVOYW1lfX0sQ0xBU1M6ZnVuY3Rpb24oY2xhc3NOYW1lKXt2YXIgcGF0dGVybj1jbGFzc0NhY2hlW2NsYXNzTmFtZSsiICJdO3JldHVybiBwYXR0ZXJufHwocGF0dGVybj1uZXcgUmVnRXhwKCIoXnwiK3doaXRlc3BhY2UrIikiK2NsYXNzTmFtZSsiKCIrd2hpdGVzcGFjZSsifCQpIikpJiZjbGFzc0NhY2hlKGNsYXNzTmFtZSxmdW5jdGlvbihlbGVtKXtyZXR1cm4gcGF0dGVybi50ZXN0KCJzdHJpbmciPT10eXBlb2YgZWxlbS5jbGFzc05hbWUmJmVsZW0uY2xhc3NOYW1lfHx0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUhPT1zdHJ1bmRlZmluZWQmJmVsZW0uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuYW1lLG9wZXJhdG9yLGNoZWNrKXtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7dmFyIHJlc3VsdD1TaXp6bGUuYXR0cihlbGVtLG5hbWUpO3JldHVybiBudWxsPT1yZXN1bHQ/IiE9Ij09PW9wZXJhdG9yOm9wZXJhdG9yPyhyZXN1bHQrPSIiLCI9Ij09PW9wZXJhdG9yP3Jlc3VsdD09PWNoZWNrOiIhPSI9PT1vcGVyYXRvcj9yZXN1bHQhPT1jaGVjazoiXj0iPT09b3BlcmF0b3I/Y2hlY2smJjA9PT1yZXN1bHQuaW5kZXhPZihjaGVjayk6Iio9Ij09PW9wZXJhdG9yP2NoZWNrJiZyZXN1bHQuaW5kZXhPZihjaGVjayk+LTE6IiQ9Ij09PW9wZXJhdG9yP2NoZWNrJiZyZXN1bHQuc2xpY2UoLWNoZWNrLmxlbmd0aCk9PT1jaGVjazoifj0iPT09b3BlcmF0b3I/KCIgIityZXN1bHQrIiAiKS5pbmRleE9mKGNoZWNrKT4tMToifD0iPT09b3BlcmF0b3I/cmVzdWx0PT09Y2hlY2t8fHJlc3VsdC5zbGljZSgwLGNoZWNrLmxlbmd0aCsxKT09PWNoZWNrKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbih0eXBlLHdoYXQsYXJndW1lbnQsZmlyc3QsbGFzdCl7dmFyIHNpbXBsZT0ibnRoIiE9PXR5cGUuc2xpY2UoMCwzKSxmb3J3YXJkPSJsYXN0IiE9PXR5cGUuc2xpY2UoLTQpLG9mVHlwZT0ib2YtdHlwZSI9PT13aGF0O3JldHVybiAxPT09Zmlyc3QmJjA9PT1sYXN0P2Z1bmN0aW9uKGVsZW0pe3JldHVybiEhZWxlbS5wYXJlbnROb2RlfTpmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXt2YXIgY2FjaGUsb3V0ZXJDYWNoZSxub2RlLGRpZmYsbm9kZUluZGV4LHN0YXJ0LGRpcj1zaW1wbGUhPT1mb3J3YXJkPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIscGFyZW50PWVsZW0ucGFyZW50Tm9kZSxuYW1lPW9mVHlwZSYmZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHVzZUNhY2hlPSF4bWwmJiFvZlR5cGU7aWYocGFyZW50KXtpZihzaW1wbGUpe2Zvcig7ZGlyOyl7Zm9yKG5vZGU9ZWxlbTtub2RlPW5vZGVbZGlyXTspaWYob2ZUeXBlP25vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW5hbWU6MT09PW5vZGUubm9kZVR5cGUpcmV0dXJuITE7c3RhcnQ9ZGlyPSJvbmx5Ij09PXR5cGUmJiFzdGFydCYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihzdGFydD1bZm9yd2FyZD9wYXJlbnQuZmlyc3RDaGlsZDpwYXJlbnQubGFzdENoaWxkXSxmb3J3YXJkJiZ1c2VDYWNoZSl7Zm9yKG91dGVyQ2FjaGU9cGFyZW50W2V4cGFuZG9dfHwocGFyZW50W2V4cGFuZG9dPXt9KSxjYWNoZT1vdXRlckNhY2hlW3R5cGVdfHxbXSxub2RlSW5kZXg9Y2FjaGVbMF09PT1kaXJydW5zJiZjYWNoZVsxXSxkaWZmPWNhY2hlWzBdPT09ZGlycnVucyYmY2FjaGVbMl0sbm9kZT1ub2RlSW5kZXgmJnBhcmVudC5jaGlsZE5vZGVzW25vZGVJbmRleF07bm9kZT0rK25vZGVJbmRleCYmbm9kZSYmbm9kZVtkaXJdfHwoZGlmZj1ub2RlSW5kZXg9MCl8fHN0YXJ0LnBvcCgpOylpZigxPT09bm9kZS5ub2RlVHlwZSYmKytkaWZmJiZub2RlPT09ZWxlbSl7b3V0ZXJDYWNoZVt0eXBlXT1bZGlycnVucyxub2RlSW5kZXgsZGlmZl07YnJlYWt9fWVsc2UgaWYodXNlQ2FjaGUmJihjYWNoZT0oZWxlbVtleHBhbmRvXXx8KGVsZW1bZXhwYW5kb109e30pKVt0eXBlXSkmJmNhY2hlWzBdPT09ZGlycnVucylkaWZmPWNhY2hlWzFdO2Vsc2UgZm9yKDsobm9kZT0rK25vZGVJbmRleCYmbm9kZSYmbm9kZVtkaXJdfHwoZGlmZj1ub2RlSW5kZXg9MCl8fHN0YXJ0LnBvcCgpKSYmKChvZlR5cGU/bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09bmFtZToxIT09bm9kZS5ub2RlVHlwZSl8fCErK2RpZmZ8fCh1c2VDYWNoZSYmKChub2RlW2V4cGFuZG9dfHwobm9kZVtleHBhbmRvXT17fSkpW3R5cGVdPVtkaXJydW5zLGRpZmZdKSxub2RlIT09ZWxlbSkpOyk7cmV0dXJuIGRpZmYtPWxhc3QsZGlmZj09PWZpcnN0fHxkaWZmJWZpcnN0PT09MCYmZGlmZi9maXJzdD49MH19fSxQU0VVRE86ZnVuY3Rpb24ocHNldWRvLGFyZ3VtZW50KXt2YXIgYXJncyxmbj1FeHByLnBzZXVkb3NbcHNldWRvXXx8RXhwci5zZXRGaWx0ZXJzW3BzZXVkby50b0xvd2VyQ2FzZSgpXXx8U2l6emxlLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrcHNldWRvKTtyZXR1cm4gZm5bZXhwYW5kb10/Zm4oYXJndW1lbnQpOmZuLmxlbmd0aD4xPyhhcmdzPVtwc2V1ZG8scHNldWRvLCIiLGFyZ3VtZW50XSxFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkocHNldWRvLnRvTG93ZXJDYXNlKCkpP21hcmtGdW5jdGlvbihmdW5jdGlvbihzZWVkLG1hdGNoZXMpe2Zvcih2YXIgaWR4LG1hdGNoZWQ9Zm4oc2VlZCxhcmd1bWVudCksaT1tYXRjaGVkLmxlbmd0aDtpLS07KWlkeD1pbmRleE9mLmNhbGwoc2VlZCxtYXRjaGVkW2ldKSxzZWVkW2lkeF09IShtYXRjaGVzW2lkeF09bWF0Y2hlZFtpXSl9KTpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZm4oZWxlbSwwLGFyZ3MpfSk6Zm59fSxwc2V1ZG9zOntub3Q6bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlbGVjdG9yKXt2YXIgaW5wdXQ9W10scmVzdWx0cz1bXSxtYXRjaGVyPWNvbXBpbGUoc2VsZWN0b3IucmVwbGFjZShydHJpbSwiJDEiKSk7cmV0dXJuIG1hdGNoZXJbZXhwYW5kb10/bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlZWQsbWF0Y2hlcyxjb250ZXh0LHhtbCl7Zm9yKHZhciBlbGVtLHVubWF0Y2hlZD1tYXRjaGVyKHNlZWQsbnVsbCx4bWwsW10pLGk9c2VlZC5sZW5ndGg7aS0tOykoZWxlbT11bm1hdGNoZWRbaV0pJiYoc2VlZFtpXT0hKG1hdGNoZXNbaV09ZWxlbSkpfSk6ZnVuY3Rpb24oZWxlbSxjb250ZXh0LHhtbCl7cmV0dXJuIGlucHV0WzBdPWVsZW0sbWF0Y2hlcihpbnB1dCxudWxsLHhtbCxyZXN1bHRzKSwhcmVzdWx0cy5wb3AoKX19KSxoYXM6bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7cmV0dXJuIFNpenpsZShzZWxlY3RvcixlbGVtKS5sZW5ndGg+MH19KSxjb250YWluczptYXJrRnVuY3Rpb24oZnVuY3Rpb24odGV4dCl7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3JldHVybihlbGVtLnRleHRDb250ZW50fHxlbGVtLmlubmVyVGV4dHx8Z2V0VGV4dChlbGVtKSkuaW5kZXhPZih0ZXh0KT4tMX19KSxsYW5nOm1hcmtGdW5jdGlvbihmdW5jdGlvbihsYW5nKXtyZXR1cm4gcmlkZW50aWZpZXIudGVzdChsYW5nfHwiIil8fFNpenpsZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIitsYW5nKSxsYW5nPWxhbmcucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGVsZW0pe3ZhciBlbGVtTGFuZztkbyBpZihlbGVtTGFuZz1kb2N1bWVudElzSFRNTD9lbGVtLmxhbmc6ZWxlbS5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGVsZW0uZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuIGVsZW1MYW5nPWVsZW1MYW5nLnRvTG93ZXJDYXNlKCksZWxlbUxhbmc9PT1sYW5nfHwwPT09ZWxlbUxhbmcuaW5kZXhPZihsYW5nKyItIik7d2hpbGUoKGVsZW09ZWxlbS5wYXJlbnROb2RlKSYmMT09PWVsZW0ubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihlbGVtKXt2YXIgaGFzaD13aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5oYXNoO3JldHVybiBoYXNoJiZoYXNoLnNsaWNlKDEpPT09ZWxlbS5pZH0scm9vdDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbT09PWRvY0VsZW19LGZvY3VzOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtPT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmKCFkb2N1bWVudC5oYXNGb2N1c3x8ZG9jdW1lbnQuaGFzRm9jdXMoKSkmJiEhKGVsZW0udHlwZXx8ZWxlbS5ocmVmfHx+ZWxlbS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0uZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0uZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihlbGVtKXt2YXIgbm9kZU5hbWU9ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1ub2RlTmFtZSYmISFlbGVtLmNoZWNrZWR8fCJvcHRpb24iPT09bm9kZU5hbWUmJiEhZWxlbS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0ucGFyZW50Tm9kZSYmZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsZWxlbS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihlbGVtKXtmb3IoZWxlbT1lbGVtLmZpcnN0Q2hpbGQ7ZWxlbTtlbGVtPWVsZW0ubmV4dFNpYmxpbmcpaWYoZWxlbS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIUV4cHIucHNldWRvcy5lbXB0eShlbGVtKX0saGVhZGVyOmZ1bmN0aW9uKGVsZW0pe3JldHVybiByaGVhZGVyLnRlc3QoZWxlbS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiByaW5wdXRzLnRlc3QoZWxlbS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlbGVtKXt2YXIgbmFtZT1lbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PW5hbWUmJiJidXR0b24iPT09ZWxlbS50eXBlfHwiYnV0dG9uIj09PW5hbWV9LHRleHQ6ZnVuY3Rpb24oZWxlbSl7dmFyIGF0dHI7cmV0dXJuImlucHV0Ij09PWVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZWxlbS50eXBlJiYobnVsbD09KGF0dHI9ZWxlbS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWF0dHIudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCl7cmV0dXJuW2xlbmd0aC0xXX0pLGVxOmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCxhcmd1bWVudCl7cmV0dXJuWzA+YXJndW1lbnQ/YXJndW1lbnQrbGVuZ3RoOmFyZ3VtZW50XX0pLGV2ZW46Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoKXtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKz0yKW1hdGNoSW5kZXhlcy5wdXNoKGkpO3JldHVybiBtYXRjaEluZGV4ZXN9KSxvZGQ6Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoKXtmb3IodmFyIGk9MTtsZW5ndGg+aTtpKz0yKW1hdGNoSW5kZXhlcy5wdXNoKGkpO3JldHVybiBtYXRjaEluZGV4ZXN9KSxsdDpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgsYXJndW1lbnQpe2Zvcih2YXIgaT0wPmFyZ3VtZW50P2FyZ3VtZW50K2xlbmd0aDphcmd1bWVudDstLWk+PTA7KW1hdGNoSW5kZXhlcy5wdXNoKGkpO3JldHVybiBtYXRjaEluZGV4ZXN9KSxndDpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgsYXJndW1lbnQpe2Zvcih2YXIgaT0wPmFyZ3VtZW50P2FyZ3VtZW50K2xlbmd0aDphcmd1bWVudDsrK2k8bGVuZ3RoOyltYXRjaEluZGV4ZXMucHVzaChpKTtyZXR1cm4gbWF0Y2hJbmRleGVzfSl9fSxFeHByLnBzZXVkb3MubnRoPUV4cHIucHNldWRvcy5lcTtmb3IoaSBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlFeHByLnBzZXVkb3NbaV09Y3JlYXRlSW5wdXRQc2V1ZG8oaSk7Zm9yKGkgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlFeHByLnBzZXVkb3NbaV09Y3JlYXRlQnV0dG9uUHNldWRvKGkpO3JldHVybiBzZXRGaWx0ZXJzLnByb3RvdHlwZT1FeHByLmZpbHRlcnM9RXhwci5wc2V1ZG9zLEV4cHIuc2V0RmlsdGVycz1uZXcgc2V0RmlsdGVycyx0b2tlbml6ZT1TaXp6bGUudG9rZW5pemU9ZnVuY3Rpb24oc2VsZWN0b3IscGFyc2VPbmx5KXt2YXIgbWF0Y2hlZCxtYXRjaCx0b2tlbnMsdHlwZSxzb0Zhcixncm91cHMscHJlRmlsdGVycyxjYWNoZWQ9dG9rZW5DYWNoZVtzZWxlY3RvcisiICJdO2lmKGNhY2hlZClyZXR1cm4gcGFyc2VPbmx5PzA6Y2FjaGVkLnNsaWNlKDApO2Zvcihzb0Zhcj1zZWxlY3Rvcixncm91cHM9W10scHJlRmlsdGVycz1FeHByLnByZUZpbHRlcjtzb0ZhcjspeyghbWF0Y2hlZHx8KG1hdGNoPXJjb21tYS5leGVjKHNvRmFyKSkpJiYobWF0Y2gmJihzb0Zhcj1zb0Zhci5zbGljZShtYXRjaFswXS5sZW5ndGgpfHxzb0ZhciksZ3JvdXBzLnB1c2godG9rZW5zPVtdKSksbWF0Y2hlZD0hMSwobWF0Y2g9cmNvbWJpbmF0b3JzLmV4ZWMoc29GYXIpKSYmKG1hdGNoZWQ9bWF0Y2guc2hpZnQoKSx0b2tlbnMucHVzaCh7dmFsdWU6bWF0Y2hlZCx0eXBlOm1hdGNoWzBdLnJlcGxhY2UocnRyaW0sIiAiKX0pLHNvRmFyPXNvRmFyLnNsaWNlKG1hdGNoZWQubGVuZ3RoKSk7Zm9yKHR5cGUgaW4gRXhwci5maWx0ZXIpIShtYXRjaD1tYXRjaEV4cHJbdHlwZV0uZXhlYyhzb0ZhcikpfHxwcmVGaWx0ZXJzW3R5cGVdJiYhKG1hdGNoPXByZUZpbHRlcnNbdHlwZV0obWF0Y2gpKXx8KG1hdGNoZWQ9bWF0Y2guc2hpZnQoKSx0b2tlbnMucHVzaCh7dmFsdWU6bWF0Y2hlZCx0eXBlOnR5cGUsbWF0Y2hlczptYXRjaH0pLHNvRmFyPXNvRmFyLnNsaWNlKG1hdGNoZWQubGVuZ3RoKSk7aWYoIW1hdGNoZWQpYnJlYWt9cmV0dXJuIHBhcnNlT25seT9zb0Zhci5sZW5ndGg6c29GYXI/U2l6emxlLmVycm9yKHNlbGVjdG9yKTp0b2tlbkNhY2hlKHNlbGVjdG9yLGdyb3Vwcykuc2xpY2UoMCl9LGNvbXBpbGU9U2l6emxlLmNvbXBpbGU9ZnVuY3Rpb24oc2VsZWN0b3IsbWF0Y2gpe3ZhciBpLHNldE1hdGNoZXJzPVtdLGVsZW1lbnRNYXRjaGVycz1bXSxjYWNoZWQ9Y29tcGlsZXJDYWNoZVtzZWxlY3RvcisiICJdO2lmKCFjYWNoZWQpe2ZvcihtYXRjaHx8KG1hdGNoPXRva2VuaXplKHNlbGVjdG9yKSksaT1tYXRjaC5sZW5ndGg7aS0tOyljYWNoZWQ9bWF0Y2hlckZyb21Ub2tlbnMobWF0Y2hbaV0pLGNhY2hlZFtleHBhbmRvXT9zZXRNYXRjaGVycy5wdXNoKGNhY2hlZCk6ZWxlbWVudE1hdGNoZXJzLnB1c2goY2FjaGVkKTtjYWNoZWQ9Y29tcGlsZXJDYWNoZShzZWxlY3RvcixtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoZWxlbWVudE1hdGNoZXJzLHNldE1hdGNoZXJzKSksY2FjaGVkLnNlbGVjdG9yPXNlbGVjdG9yfXJldHVybiBjYWNoZWR9LHNlbGVjdD1TaXp6bGUuc2VsZWN0PWZ1bmN0aW9uKHNlbGVjdG9yLGNvbnRleHQscmVzdWx0cyxzZWVkKXt2YXIgaSx0b2tlbnMsdG9rZW4sdHlwZSxmaW5kLGNvbXBpbGVkPSJmdW5jdGlvbiI9PXR5cGVvZiBzZWxlY3RvciYmc2VsZWN0b3IsbWF0Y2g9IXNlZWQmJnRva2VuaXplKHNlbGVjdG9yPWNvbXBpbGVkLnNlbGVjdG9yfHxzZWxlY3Rvcik7aWYocmVzdWx0cz1yZXN1bHRzfHxbXSwxPT09bWF0Y2gubGVuZ3RoKXtpZih0b2tlbnM9bWF0Y2hbMF09bWF0Y2hbMF0uc2xpY2UoMCksdG9rZW5zLmxlbmd0aD4yJiYiSUQiPT09KHRva2VuPXRva2Vuc1swXSkudHlwZSYmc3VwcG9ydC5nZXRCeUlkJiY5PT09Y29udGV4dC5ub2RlVHlwZSYmZG9jdW1lbnRJc0hUTUwmJkV4cHIucmVsYXRpdmVbdG9rZW5zWzFdLnR5cGVdKXtpZihjb250ZXh0PShFeHByLmZpbmQuSUQodG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLGNvbnRleHQpfHxbXSlbMF0sIWNvbnRleHQpcmV0dXJuIHJlc3VsdHM7Y29tcGlsZWQmJihjb250ZXh0PWNvbnRleHQucGFyZW50Tm9kZSksc2VsZWN0b3I9c2VsZWN0b3Iuc2xpY2UodG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3IoaT1tYXRjaEV4cHIubmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3IpPzA6dG9rZW5zLmxlbmd0aDtpLS0mJih0b2tlbj10b2tlbnNbaV0sIUV4cHIucmVsYXRpdmVbdHlwZT10b2tlbi50eXBlXSk7KWlmKChmaW5kPUV4cHIuZmluZFt0eXBlXSkmJihzZWVkPWZpbmQodG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLHJzaWJsaW5nLnRlc3QodG9rZW5zWzBdLnR5cGUpJiZ0ZXN0Q29udGV4dChjb250ZXh0LnBhcmVudE5vZGUpfHxjb250ZXh0KSkpe2lmKHRva2Vucy5zcGxpY2UoaSwxKSxzZWxlY3Rvcj1zZWVkLmxlbmd0aCYmdG9TZWxlY3Rvcih0b2tlbnMpLCFzZWxlY3RvcilyZXR1cm4gcHVzaC5hcHBseShyZXN1bHRzLHNlZWQpLHJlc3VsdHM7YnJlYWt9fXJldHVybihjb21waWxlZHx8Y29tcGlsZShzZWxlY3RvcixtYXRjaCkpKHNlZWQsY29udGV4dCwhZG9jdW1lbnRJc0hUTUwscmVzdWx0cyxyc2libGluZy50ZXN0KHNlbGVjdG9yKSYmdGVzdENvbnRleHQoY29udGV4dC5wYXJlbnROb2RlKXx8Y29udGV4dCkscmVzdWx0c30sc3VwcG9ydC5zb3J0U3RhYmxlPWV4cGFuZG8uc3BsaXQoIiIpLnNvcnQoc29ydE9yZGVyKS5qb2luKCIiKT09PWV4cGFuZG8sc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzPSEhaGFzRHVwbGljYXRlLHNldERvY3VtZW50KCksc3VwcG9ydC5zb3J0RGV0YWNoZWQ9YXNzZXJ0KGZ1bmN0aW9uKGRpdjEpe3JldHVybiAxJmRpdjEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpfSksYXNzZXJ0KGZ1bmN0aW9uKGRpdil7cmV0dXJuIGRpdi5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGFkZEhhbmRsZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZWxlbSxuYW1lLGlzWE1MKXtyZXR1cm4gaXNYTUw/dm9pZCAwOmVsZW0uZ2V0QXR0cmlidXRlKG5hbWUsInR5cGUiPT09bmFtZS50b0xvd2VyQ2FzZSgpPzE6Mil9KSxzdXBwb3J0LmF0dHJpYnV0ZXMmJmFzc2VydChmdW5jdGlvbihkaXYpe3JldHVybiBkaXYuaW5uZXJIVE1MPSI8aW5wdXQvPiIsZGl2LmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZGl2LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGFkZEhhbmRsZSgidmFsdWUiLGZ1bmN0aW9uKGVsZW0sbmFtZSxpc1hNTCl7cmV0dXJuIGlzWE1MfHwiaW5wdXQiIT09ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDplbGVtLmRlZmF1bHRWYWx1ZX0pLGFzc2VydChmdW5jdGlvbihkaXYpe3JldHVybiBudWxsPT1kaXYuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGFkZEhhbmRsZShib29sZWFucyxmdW5jdGlvbihlbGVtLG5hbWUsaXNYTUwpe3ZhciB2YWw7cmV0dXJuIGlzWE1MP3ZvaWQgMDplbGVtW25hbWVdPT09ITA/bmFtZS50b0xvd2VyQ2FzZSgpOih2YWw9ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSYmdmFsLnNwZWNpZmllZD92YWwudmFsdWU6bnVsbH0pLFNpenpsZX0od2luZG93KTtqUXVlcnkuZmluZD1TaXp6bGUsalF1ZXJ5LmV4cHI9U2l6emxlLnNlbGVjdG9ycyxqUXVlcnkuZXhwclsiOiJdPWpRdWVyeS5leHByLnBzZXVkb3MsalF1ZXJ5LnVuaXF1ZT1TaXp6bGUudW5pcXVlU29ydCxqUXVlcnkudGV4dD1TaXp6bGUuZ2V0VGV4dCxqUXVlcnkuaXNYTUxEb2M9U2l6emxlLmlzWE1MLGpRdWVyeS5jb250YWlucz1TaXp6bGUuY29udGFpbnM7dmFyIHJuZWVkc0NvbnRleHQ9alF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHJzaW5nbGVUYWc9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyxyaXNTaW1wbGU9L14uW146I1xbXC4sXSokLztqUXVlcnkuZmlsdGVyPWZ1bmN0aW9uKGV4cHIsZWxlbXMsbm90KXt2YXIgZWxlbT1lbGVtc1swXTtyZXR1cm4gbm90JiYoZXhwcj0iOm5vdCgiK2V4cHIrIikiKSwxPT09ZWxlbXMubGVuZ3RoJiYxPT09ZWxlbS5ub2RlVHlwZT9qUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoZWxlbSxleHByKT9bZWxlbV06W106alF1ZXJ5LmZpbmQubWF0Y2hlcyhleHByLGpRdWVyeS5ncmVwKGVsZW1zLGZ1bmN0aW9uKGVsZW0pe3JldHVybiAxPT09ZWxlbS5ub2RlVHlwZX0pKX0salF1ZXJ5LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihzZWxlY3Rvcil7dmFyIGksbGVuPXRoaXMubGVuZ3RoLHJldD1bXSxzZWxmPXRoaXM7aWYoInN0cmluZyIhPXR5cGVvZiBzZWxlY3RvcilyZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5KHNlbGVjdG9yKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoaT0wO2xlbj5pO2krKylpZihqUXVlcnkuY29udGFpbnMoc2VsZltpXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoaT0wO2xlbj5pO2krKylqUXVlcnkuZmluZChzZWxlY3RvcixzZWxmW2ldLHJldCk7cmV0dXJuIHJldD10aGlzLnB1c2hTdGFjayhsZW4+MT9qUXVlcnkudW5pcXVlKHJldCk6cmV0KSxyZXQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yKyIgIitzZWxlY3RvcjpzZWxlY3RvcixyZXR9LGZpbHRlcjpmdW5jdGlvbihzZWxlY3Rvcil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHdpbm5vdyh0aGlzLHNlbGVjdG9yfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiB0aGlzLnB1c2hTdGFjayh3aW5ub3codGhpcyxzZWxlY3Rvcnx8W10sITApKX0saXM6ZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiEhd2lubm93KHRoaXMsInN0cmluZyI9PXR5cGVvZiBzZWxlY3RvciYmcm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9yKT9qUXVlcnkoc2VsZWN0b3IpOnNlbGVjdG9yfHxbXSwhMSkubGVuZ3RofX0pO3ZhciByb290alF1ZXJ5LHJxdWlja0V4cHI9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxpbml0PWpRdWVyeS5mbi5pbml0PWZ1bmN0aW9uKHNlbGVjdG9yLGNvbnRleHQpe3ZhciBtYXRjaCxlbGVtO2lmKCFzZWxlY3RvcilyZXR1cm4gdGhpcztpZigic3RyaW5nIj09dHlwZW9mIHNlbGVjdG9yKXtpZihtYXRjaD0iPCI9PT1zZWxlY3RvclswXSYmIj4iPT09c2VsZWN0b3Jbc2VsZWN0b3IubGVuZ3RoLTFdJiZzZWxlY3Rvci5sZW5ndGg+PTM/W251bGwsc2VsZWN0b3IsbnVsbF06cnF1aWNrRXhwci5leGVjKHNlbGVjdG9yKSwhbWF0Y2h8fCFtYXRjaFsxXSYmY29udGV4dClyZXR1cm4hY29udGV4dHx8Y29udGV4dC5qcXVlcnk/KGNvbnRleHR8fHJvb3RqUXVlcnkpLmZpbmQoc2VsZWN0b3IpOnRoaXMuY29uc3RydWN0b3IoY29udGV4dCkuZmluZChzZWxlY3Rvcik7aWYobWF0Y2hbMV0pe2lmKGNvbnRleHQ9Y29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeT9jb250ZXh0WzBdOmNvbnRleHQsalF1ZXJ5Lm1lcmdlKHRoaXMsalF1ZXJ5LnBhcnNlSFRNTChtYXRjaFsxXSxjb250ZXh0JiZjb250ZXh0Lm5vZGVUeXBlP2NvbnRleHQub3duZXJEb2N1bWVudHx8Y29udGV4dDpkb2N1bWVudCwhMCkpLHJzaW5nbGVUYWcudGVzdChtYXRjaFsxXSkmJmpRdWVyeS5pc1BsYWluT2JqZWN0KGNvbnRleHQpKWZvcihtYXRjaCBpbiBjb250ZXh0KWpRdWVyeS5pc0Z1bmN0aW9uKHRoaXNbbWF0Y2hdKT90aGlzW21hdGNoXShjb250ZXh0W21hdGNoXSk6dGhpcy5hdHRyKG1hdGNoLGNvbnRleHRbbWF0Y2hdKTtyZXR1cm4gdGhpc31yZXR1cm4gZWxlbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXRjaFsyXSksZWxlbSYmZWxlbS5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWVsZW0pLHRoaXMuY29udGV4dD1kb2N1bWVudCx0aGlzLnNlbGVjdG9yPXNlbGVjdG9yLHRoaXN9cmV0dXJuIHNlbGVjdG9yLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1zZWxlY3Rvcix0aGlzLmxlbmd0aD0xLHRoaXMpOmpRdWVyeS5pc0Z1bmN0aW9uKHNlbGVjdG9yKT8idW5kZWZpbmVkIiE9dHlwZW9mIHJvb3RqUXVlcnkucmVhZHk/cm9vdGpRdWVyeS5yZWFkeShzZWxlY3Rvcik6c2VsZWN0b3IoalF1ZXJ5KToodm9pZCAwIT09c2VsZWN0b3Iuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPXNlbGVjdG9yLnNlbGVjdG9yLHRoaXMuY29udGV4dD1zZWxlY3Rvci5jb250ZXh0KSxqUXVlcnkubWFrZUFycmF5KHNlbGVjdG9yLHRoaXMpKX07aW5pdC5wcm90b3R5cGU9alF1ZXJ5LmZuLHJvb3RqUXVlcnk9alF1ZXJ5KGRvY3VtZW50KTt2YXIgcnBhcmVudHNwcmV2PS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLGd1YXJhbnRlZWRVbmlxdWU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07alF1ZXJ5LmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGVsZW0sZGlyLHVudGlsKXtmb3IodmFyIG1hdGNoZWQ9W10sdHJ1bmNhdGU9dm9pZCAwIT09dW50aWw7KGVsZW09ZWxlbVtkaXJdKSYmOSE9PWVsZW0ubm9kZVR5cGU7KWlmKDE9PT1lbGVtLm5vZGVUeXBlKXtpZih0cnVuY2F0ZSYmalF1ZXJ5KGVsZW0pLmlzKHVudGlsKSlicmVhazttYXRjaGVkLnB1c2goZWxlbSl9cmV0dXJuIG1hdGNoZWR9LHNpYmxpbmc6ZnVuY3Rpb24obixlbGVtKXtmb3IodmFyIG1hdGNoZWQ9W107bjtuPW4ubmV4dFNpYmxpbmcpMT09PW4ubm9kZVR5cGUmJm4hPT1lbGVtJiZtYXRjaGVkLnB1c2gobik7cmV0dXJuIG1hdGNoZWR9fSksalF1ZXJ5LmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKHRhcmdldCl7dmFyIHRhcmdldHM9alF1ZXJ5KHRhcmdldCx0aGlzKSxsPXRhcmdldHMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgaT0wO2w+aTtpKyspaWYoalF1ZXJ5LmNvbnRhaW5zKHRoaXMsdGFyZ2V0c1tpXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihzZWxlY3RvcnMsY29udGV4dCl7Zm9yKHZhciBjdXIsaT0wLGw9dGhpcy5sZW5ndGgsbWF0Y2hlZD1bXSxwb3M9cm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9ycyl8fCJzdHJpbmciIT10eXBlb2Ygc2VsZWN0b3JzP2pRdWVyeShzZWxlY3RvcnMsY29udGV4dHx8dGhpcy5jb250ZXh0KTowO2w+aTtpKyspZm9yKGN1cj10aGlzW2ldO2N1ciYmY3VyIT09Y29udGV4dDtjdXI9Y3VyLnBhcmVudE5vZGUpaWYoY3VyLm5vZGVUeXBlPDExJiYocG9zP3Bvcy5pbmRleChjdXIpPi0xOjE9PT1jdXIubm9kZVR5cGUmJmpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihjdXIsc2VsZWN0b3JzKSkpe21hdGNoZWQucHVzaChjdXIpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhtYXRjaGVkLmxlbmd0aD4xP2pRdWVyeS51bmlxdWUobWF0Y2hlZCk6bWF0Y2hlZCl9LGluZGV4OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtPyJzdHJpbmciPT10eXBlb2YgZWxlbT9pbmRleE9mLmNhbGwoalF1ZXJ5KGVsZW0pLHRoaXNbMF0pOmluZGV4T2YuY2FsbCh0aGlzLGVsZW0uanF1ZXJ5P2VsZW1bMF06ZWxlbSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oc2VsZWN0b3IsY29udGV4dCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGpRdWVyeS51bmlxdWUoalF1ZXJ5Lm1lcmdlKHRoaXMuZ2V0KCksalF1ZXJ5KHNlbGVjdG9yLGNvbnRleHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09c2VsZWN0b3I/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoc2VsZWN0b3IpKX19KSxqUXVlcnkuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGVsZW0pe3ZhciBwYXJlbnQ9ZWxlbS5wYXJlbnROb2RlO3JldHVybiBwYXJlbnQmJjExIT09cGFyZW50Lm5vZGVUeXBlP3BhcmVudDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBqUXVlcnkuZGlyKGVsZW0sInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGVsZW0saSx1bnRpbCl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwicGFyZW50Tm9kZSIsdW50aWwpfSxuZXh0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBzaWJsaW5nKGVsZW0sIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIHNpYmxpbmcoZWxlbSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihlbGVtKXtyZXR1cm4galF1ZXJ5LmRpcihlbGVtLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGVsZW0saSx1bnRpbCl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwibmV4dFNpYmxpbmciLHVudGlsKX0scHJldlVudGlsOmZ1bmN0aW9uKGVsZW0saSx1bnRpbCl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwicHJldmlvdXNTaWJsaW5nIix1bnRpbCl9LHNpYmxpbmdzOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBqUXVlcnkuc2libGluZygoZWxlbS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlbGVtKX0sY2hpbGRyZW46ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGpRdWVyeS5zaWJsaW5nKGVsZW0uZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudHx8alF1ZXJ5Lm1lcmdlKFtdLGVsZW0uY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihuYW1lLGZuKXtqUXVlcnkuZm5bbmFtZV09ZnVuY3Rpb24odW50aWwsc2VsZWN0b3Ipe3ZhciBtYXRjaGVkPWpRdWVyeS5tYXAodGhpcyxmbix1bnRpbCk7cmV0dXJuIlVudGlsIiE9PW5hbWUuc2xpY2UoLTUpJiYoc2VsZWN0b3I9dW50aWwpLHNlbGVjdG9yJiYic3RyaW5nIj09dHlwZW9mIHNlbGVjdG9yJiYobWF0Y2hlZD1qUXVlcnkuZmlsdGVyKHNlbGVjdG9yLG1hdGNoZWQpKSx0aGlzLmxlbmd0aD4xJiYoZ3VhcmFudGVlZFVuaXF1ZVtuYW1lXXx8alF1ZXJ5LnVuaXF1ZShtYXRjaGVkKSxycGFyZW50c3ByZXYudGVzdChuYW1lKSYmbWF0Y2hlZC5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKG1hdGNoZWQpfX0pO3ZhciBybm90d2hpdGU9L1xTKy9nLG9wdGlvbnNDYWNoZT17fTtqUXVlcnkuQ2FsbGJhY2tzPWZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnM9InN0cmluZyI9PXR5cGVvZiBvcHRpb25zP29wdGlvbnNDYWNoZVtvcHRpb25zXXx8Y3JlYXRlT3B0aW9ucyhvcHRpb25zKTpqUXVlcnkuZXh0ZW5kKHt9LG9wdGlvbnMpO3ZhciBtZW1vcnksZmlyZWQsZmlyaW5nLGZpcmluZ1N0YXJ0LGZpcmluZ0xlbmd0aCxmaXJpbmdJbmRleCxsaXN0PVtdLHN0YWNrPSFvcHRpb25zLm9uY2UmJltdLGZpcmU9ZnVuY3Rpb24oZGF0YSl7Zm9yKG1lbW9yeT1vcHRpb25zLm1lbW9yeSYmZGF0YSxmaXJlZD0hMCxmaXJpbmdJbmRleD1maXJpbmdTdGFydHx8MCxmaXJpbmdTdGFydD0wLGZpcmluZ0xlbmd0aD1saXN0Lmxlbmd0aCxmaXJpbmc9ITA7bGlzdCYmZmlyaW5nTGVuZ3RoPmZpcmluZ0luZGV4O2ZpcmluZ0luZGV4KyspaWYobGlzdFtmaXJpbmdJbmRleF0uYXBwbHkoZGF0YVswXSxkYXRhWzFdKT09PSExJiZvcHRpb25zLnN0b3BPbkZhbHNlKXttZW1vcnk9ITE7YnJlYWt9ZmlyaW5nPSExLGxpc3QmJihzdGFjaz9zdGFjay5sZW5ndGgmJmZpcmUoc3RhY2suc2hpZnQoKSk6bWVtb3J5P2xpc3Q9W106c2VsZi5kaXNhYmxlKCkpfSxzZWxmPXthZGQ6ZnVuY3Rpb24oKXtpZihsaXN0KXt2YXIgc3RhcnQ9bGlzdC5sZW5ndGg7IWZ1bmN0aW9uIGFkZChhcmdzKXtqUXVlcnkuZWFjaChhcmdzLGZ1bmN0aW9uKF8sYXJnKXt2YXIgdHlwZT1qUXVlcnkudHlwZShhcmcpOyJmdW5jdGlvbiI9PT10eXBlP29wdGlvbnMudW5pcXVlJiZzZWxmLmhhcyhhcmcpfHxsaXN0LnB1c2goYXJnKTphcmcmJmFyZy5sZW5ndGgmJiJzdHJpbmciIT09dHlwZSYmYWRkKGFyZyl9KX0oYXJndW1lbnRzKSxmaXJpbmc/ZmlyaW5nTGVuZ3RoPWxpc3QubGVuZ3RoOm1lbW9yeSYmKGZpcmluZ1N0YXJ0PXN0YXJ0LGZpcmUobWVtb3J5KSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBsaXN0JiZqUXVlcnkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oXyxhcmcpe2Zvcih2YXIgaW5kZXg7KGluZGV4PWpRdWVyeS5pbkFycmF5KGFyZyxsaXN0LGluZGV4KSk+LTE7KWxpc3Quc3BsaWNlKGluZGV4LDEpLGZpcmluZyYmKGZpcmluZ0xlbmd0aD49aW5kZXgmJmZpcmluZ0xlbmd0aC0tLGZpcmluZ0luZGV4Pj1pbmRleCYmZmlyaW5nSW5kZXgtLSl9KSx0aGlzfSxoYXM6ZnVuY3Rpb24oZm4pe3JldHVybiBmbj9qUXVlcnkuaW5BcnJheShmbixsaXN0KT4tMTohKCFsaXN0fHwhbGlzdC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBsaXN0PVtdLGZpcmluZ0xlbmd0aD0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbGlzdD1zdGFjaz1tZW1vcnk9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWxpc3R9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2s9dm9pZCAwLG1lbW9yeXx8c2VsZi5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIXN0YWNrfSxmaXJlV2l0aDpmdW5jdGlvbihjb250ZXh0LGFyZ3Mpe3JldHVybiFsaXN0fHxmaXJlZCYmIXN0YWNrfHwoYXJncz1hcmdzfHxbXSxhcmdzPVtjb250ZXh0LGFyZ3Muc2xpY2U/YXJncy5zbGljZSgpOmFyZ3NdLGZpcmluZz9zdGFjay5wdXNoKGFyZ3MpOmZpcmUoYXJncykpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gc2VsZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWZpcmVkfX07cmV0dXJuIHNlbGZ9LGpRdWVyeS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGZ1bmMpe3ZhciB0dXBsZXM9W1sicmVzb2x2ZSIsImRvbmUiLGpRdWVyeS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixqUXVlcnkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLGpRdWVyeS5DYWxsYmFja3MoIm1lbW9yeSIpXV0sc3RhdGU9InBlbmRpbmciLHByb21pc2U9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZGVmZXJyZWQuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGZucz1hcmd1bWVudHM7cmV0dXJuIGpRdWVyeS5EZWZlcnJlZChmdW5jdGlvbihuZXdEZWZlcil7alF1ZXJ5LmVhY2godHVwbGVzLGZ1bmN0aW9uKGksdHVwbGUpe3ZhciBmbj1qUXVlcnkuaXNGdW5jdGlvbihmbnNbaV0pJiZmbnNbaV07ZGVmZXJyZWRbdHVwbGVbMV1dKGZ1bmN0aW9uKCl7dmFyIHJldHVybmVkPWZuJiZmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuZWQmJmpRdWVyeS5pc0Z1bmN0aW9uKHJldHVybmVkLnByb21pc2UpP3JldHVybmVkLnByb21pc2UoKS5kb25lKG5ld0RlZmVyLnJlc29sdmUpLmZhaWwobmV3RGVmZXIucmVqZWN0KS5wcm9ncmVzcyhuZXdEZWZlci5ub3RpZnkpOm5ld0RlZmVyW3R1cGxlWzBdKyJXaXRoIl0odGhpcz09PXByb21pc2U/bmV3RGVmZXIucHJvbWlzZSgpOnRoaXMsZm4/W3JldHVybmVkXTphcmd1bWVudHMpfSl9KSxmbnM9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihvYmope3JldHVybiBudWxsIT1vYmo/alF1ZXJ5LmV4dGVuZChvYmoscHJvbWlzZSk6cHJvbWlzZX19LGRlZmVycmVkPXt9O3JldHVybiBwcm9taXNlLnBpcGU9cHJvbWlzZS50aGVuLGpRdWVyeS5lYWNoKHR1cGxlcyxmdW5jdGlvbihpLHR1cGxlKXt2YXIgbGlzdD10dXBsZVsyXSxzdGF0ZVN0cmluZz10dXBsZVszXTtwcm9taXNlW3R1cGxlWzFdXT1saXN0LmFkZCxzdGF0ZVN0cmluZyYmbGlzdC5hZGQoZnVuY3Rpb24oKXtzdGF0ZT1zdGF0ZVN0cmluZ30sdHVwbGVzWzFeaV1bMl0uZGlzYWJsZSx0dXBsZXNbMl1bMl0ubG9jayksZGVmZXJyZWRbdHVwbGVbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGRlZmVycmVkW3R1cGxlWzBdKyJXaXRoIl0odGhpcz09PWRlZmVycmVkP3Byb21pc2U6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGRlZmVycmVkW3R1cGxlWzBdKyJXaXRoIl09bGlzdC5maXJlV2l0aH0pLHByb21pc2UucHJvbWlzZShkZWZlcnJlZCksZnVuYyYmZnVuYy5jYWxsKGRlZmVycmVkLGRlZmVycmVkKSxkZWZlcnJlZH0sd2hlbjpmdW5jdGlvbihzdWJvcmRpbmF0ZSl7dmFyIHByb2dyZXNzVmFsdWVzLHByb2dyZXNzQ29udGV4dHMscmVzb2x2ZUNvbnRleHRzLGk9MCxyZXNvbHZlVmFsdWVzPXNsaWNlLmNhbGwoYXJndW1lbnRzKSxsZW5ndGg9cmVzb2x2ZVZhbHVlcy5sZW5ndGgscmVtYWluaW5nPTEhPT1sZW5ndGh8fHN1Ym9yZGluYXRlJiZqUXVlcnkuaXNGdW5jdGlvbihzdWJvcmRpbmF0ZS5wcm9taXNlKT9sZW5ndGg6MCxkZWZlcnJlZD0xPT09cmVtYWluaW5nP3N1Ym9yZGluYXRlOmpRdWVyeS5EZWZlcnJlZCgpLHVwZGF0ZUZ1bmM9ZnVuY3Rpb24oaSxjb250ZXh0cyx2YWx1ZXMpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7Y29udGV4dHNbaV09dGhpcyx2YWx1ZXNbaV09YXJndW1lbnRzLmxlbmd0aD4xP3NsaWNlLmNhbGwoYXJndW1lbnRzKTp2YWx1ZSx2YWx1ZXM9PT1wcm9ncmVzc1ZhbHVlcz9kZWZlcnJlZC5ub3RpZnlXaXRoKGNvbnRleHRzLHZhbHVlcyk6LS1yZW1haW5pbmd8fGRlZmVycmVkLnJlc29sdmVXaXRoKGNvbnRleHRzLHZhbHVlcyl9fTtpZihsZW5ndGg+MSlmb3IocHJvZ3Jlc3NWYWx1ZXM9bmV3IEFycmF5KGxlbmd0aCkscHJvZ3Jlc3NDb250ZXh0cz1uZXcgQXJyYXkobGVuZ3RoKSxyZXNvbHZlQ29udGV4dHM9bmV3IEFycmF5KGxlbmd0aCk7bGVuZ3RoPmk7aSsrKXJlc29sdmVWYWx1ZXNbaV0mJmpRdWVyeS5pc0Z1bmN0aW9uKHJlc29sdmVWYWx1ZXNbaV0ucHJvbWlzZSk/cmVzb2x2ZVZhbHVlc1tpXS5wcm9taXNlKCkuZG9uZSh1cGRhdGVGdW5jKGkscmVzb2x2ZUNvbnRleHRzLHJlc29sdmVWYWx1ZXMpKS5mYWlsKGRlZmVycmVkLnJlamVjdCkucHJvZ3Jlc3ModXBkYXRlRnVuYyhpLHByb2dyZXNzQ29udGV4dHMscHJvZ3Jlc3NWYWx1ZXMpKTotLXJlbWFpbmluZztyZXR1cm4gcmVtYWluaW5nfHxkZWZlcnJlZC5yZXNvbHZlV2l0aChyZXNvbHZlQ29udGV4dHMscmVzb2x2ZVZhbHVlcyksZGVmZXJyZWQucHJvbWlzZSgpfX0pO3ZhciByZWFkeUxpc3Q7alF1ZXJ5LmZuLnJlYWR5PWZ1bmN0aW9uKGZuKXtyZXR1cm4galF1ZXJ5LnJlYWR5LnByb21pc2UoKS5kb25lKGZuKSx0aGlzfSxqUXVlcnkuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihob2xkKXtob2xkP2pRdWVyeS5yZWFkeVdhaXQrKzpqUXVlcnkucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbih3YWl0KXsod2FpdD09PSEwPy0talF1ZXJ5LnJlYWR5V2FpdDpqUXVlcnkuaXNSZWFkeSl8fChqUXVlcnkuaXNSZWFkeT0hMCx3YWl0IT09ITAmJi0talF1ZXJ5LnJlYWR5V2FpdD4wfHwocmVhZHlMaXN0LnJlc29sdmVXaXRoKGRvY3VtZW50LFtqUXVlcnldKSxqUXVlcnkuZm4udHJpZ2dlckhhbmRsZXImJihqUXVlcnkoZG9jdW1lbnQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLGpRdWVyeShkb2N1bWVudCkub2ZmKCJyZWFkeSIpKSkpfX0pLGpRdWVyeS5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKG9iail7cmV0dXJuIHJlYWR5TGlzdHx8KHJlYWR5TGlzdD1qUXVlcnkuRGVmZXJyZWQoKSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KGpRdWVyeS5yZWFkeSk6KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGNvbXBsZXRlZCwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGNvbXBsZXRlZCwhMSkpKSxyZWFkeUxpc3QucHJvbWlzZShvYmopfSxqUXVlcnkucmVhZHkucHJvbWlzZSgpO3ZhciBhY2Nlc3M9alF1ZXJ5LmFjY2Vzcz1mdW5jdGlvbihlbGVtcyxmbixrZXksdmFsdWUsY2hhaW5hYmxlLGVtcHR5R2V0LHJhdyl7dmFyIGk9MCxsZW49ZWxlbXMubGVuZ3RoLGJ1bGs9bnVsbD09a2V5O2lmKCJvYmplY3QiPT09alF1ZXJ5LnR5cGUoa2V5KSl7Y2hhaW5hYmxlPSEwO2ZvcihpIGluIGtleSlqUXVlcnkuYWNjZXNzKGVsZW1zLGZuLGksa2V5W2ldLCEwLGVtcHR5R2V0LHJhdyl9ZWxzZSBpZih2b2lkIDAhPT12YWx1ZSYmKGNoYWluYWJsZT0hMCxqUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSl8fChyYXc9ITApLGJ1bGsmJihyYXc/KGZuLmNhbGwoZWxlbXMsdmFsdWUpLGZuPW51bGwpOihidWxrPWZuLGZuPWZ1bmN0aW9uKGVsZW0sa2V5LHZhbHVlKXtyZXR1cm4gYnVsay5jYWxsKGpRdWVyeShlbGVtKSx2YWx1ZSl9KSksZm4pKWZvcig7bGVuPmk7aSsrKWZuKGVsZW1zW2ldLGtleSxyYXc/dmFsdWU6dmFsdWUuY2FsbChlbGVtc1tpXSxpLGZuKGVsZW1zW2ldLGtleSkpKTtyZXR1cm4gY2hhaW5hYmxlP2VsZW1zOmJ1bGs/Zm4uY2FsbChlbGVtcyk6bGVuP2ZuKGVsZW1zWzBdLGtleSk6ZW1wdHlHZXR9O2pRdWVyeS5hY2NlcHREYXRhPWZ1bmN0aW9uKG93bmVyKXtyZXR1cm4gMT09PW93bmVyLm5vZGVUeXBlfHw5PT09b3duZXIubm9kZVR5cGV8fCErb3duZXIubm9kZVR5cGV9LERhdGEudWlkPTEsRGF0YS5hY2NlcHRzPWpRdWVyeS5hY2NlcHREYXRhLERhdGEucHJvdG90eXBlPXtrZXk6ZnVuY3Rpb24ob3duZXIpe2lmKCFEYXRhLmFjY2VwdHMob3duZXIpKXJldHVybiAwO3ZhciBkZXNjcmlwdG9yPXt9LHVubG9jaz1vd25lclt0aGlzLmV4cGFuZG9dO2lmKCF1bmxvY2spe3VubG9jaz1EYXRhLnVpZCsrO3RyeXtkZXNjcmlwdG9yW3RoaXMuZXhwYW5kb109e3ZhbHVlOnVubG9ja30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob3duZXIsZGVzY3JpcHRvcil9Y2F0Y2goZSl7ZGVzY3JpcHRvclt0aGlzLmV4cGFuZG9dPXVubG9jayxqUXVlcnkuZXh0ZW5kKG93bmVyLGRlc2NyaXB0b3IpfX1yZXR1cm4gdGhpcy5jYWNoZVt1bmxvY2tdfHwodGhpcy5jYWNoZVt1bmxvY2tdPXt9KSx1bmxvY2t9LHNldDpmdW5jdGlvbihvd25lcixkYXRhLHZhbHVlKXt2YXIgcHJvcCx1bmxvY2s9dGhpcy5rZXkob3duZXIpLGNhY2hlPXRoaXMuY2FjaGVbdW5sb2NrXTtpZigic3RyaW5nIj09dHlwZW9mIGRhdGEpY2FjaGVbZGF0YV09dmFsdWU7ZWxzZSBpZihqUXVlcnkuaXNFbXB0eU9iamVjdChjYWNoZSkpalF1ZXJ5LmV4dGVuZCh0aGlzLmNhY2hlW3VubG9ja10sZGF0YSk7ZWxzZSBmb3IocHJvcCBpbiBkYXRhKWNhY2hlW3Byb3BdPWRhdGFbcHJvcF07cmV0dXJuIGNhY2hlfSxnZXQ6ZnVuY3Rpb24ob3duZXIsa2V5KXt2YXIgY2FjaGU9dGhpcy5jYWNoZVt0aGlzLmtleShvd25lcildO3JldHVybiB2b2lkIDA9PT1rZXk/Y2FjaGU6Y2FjaGVba2V5XX0sYWNjZXNzOmZ1bmN0aW9uKG93bmVyLGtleSx2YWx1ZSl7dmFyIHN0b3JlZDtyZXR1cm4gdm9pZCAwPT09a2V5fHxrZXkmJiJzdHJpbmciPT10eXBlb2Yga2V5JiZ2b2lkIDA9PT12YWx1ZT8oc3RvcmVkPXRoaXMuZ2V0KG93bmVyLGtleSksdm9pZCAwIT09c3RvcmVkP3N0b3JlZDp0aGlzLmdldChvd25lcixqUXVlcnkuY2FtZWxDYXNlKGtleSkpKToodGhpcy5zZXQob3duZXIsa2V5LHZhbHVlKSx2b2lkIDAhPT12YWx1ZT92YWx1ZTprZXkpfSxyZW1vdmU6ZnVuY3Rpb24ob3duZXIsa2V5KXt2YXIgaSxuYW1lLGNhbWVsLHVubG9jaz10aGlzLmtleShvd25lciksY2FjaGU9dGhpcy5jYWNoZVt1bmxvY2tdO2lmKHZvaWQgMD09PWtleSl0aGlzLmNhY2hlW3VubG9ja109e307ZWxzZXtqUXVlcnkuaXNBcnJheShrZXkpP25hbWU9a2V5LmNvbmNhdChrZXkubWFwKGpRdWVyeS5jYW1lbENhc2UpKTooY2FtZWw9alF1ZXJ5LmNhbWVsQ2FzZShrZXkpLGtleSBpbiBjYWNoZT9uYW1lPVtrZXksY2FtZWxdOihuYW1lPWNhbWVsLG5hbWU9bmFtZSBpbiBjYWNoZT9bbmFtZV06bmFtZS5tYXRjaChybm90d2hpdGUpfHxbXSkpLGk9bmFtZS5sZW5ndGg7Zm9yKDtpLS07KWRlbGV0ZSBjYWNoZVtuYW1lW2ldXX19LGhhc0RhdGE6ZnVuY3Rpb24ob3duZXIpe3JldHVybiFqUXVlcnkuaXNFbXB0eU9iamVjdCh0aGlzLmNhY2hlW293bmVyW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24ob3duZXIpe293bmVyW3RoaXMuZXhwYW5kb10mJmRlbGV0ZSB0aGlzLmNhY2hlW293bmVyW3RoaXMuZXhwYW5kb11dfX07dmFyIGRhdGFfcHJpdj1uZXcgRGF0YSxkYXRhX3VzZXI9bmV3IERhdGEscmJyYWNlPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8scm11bHRpRGFzaD0vKFtBLVpdKS9nO2pRdWVyeS5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGRhdGFfdXNlci5oYXNEYXRhKGVsZW0pfHxkYXRhX3ByaXYuaGFzRGF0YShlbGVtKX0sZGF0YTpmdW5jdGlvbihlbGVtLG5hbWUsZGF0YSl7cmV0dXJuIGRhdGFfdXNlci5hY2Nlc3MoZWxlbSxuYW1lLGRhdGEpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGVsZW0sbmFtZSl7ZGF0YV91c2VyLnJlbW92ZShlbGVtLG5hbWUpfSxfZGF0YTpmdW5jdGlvbihlbGVtLG5hbWUsZGF0YSl7cmV0dXJuIGRhdGFfcHJpdi5hY2Nlc3MoZWxlbSxuYW1lLGRhdGEpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlbGVtLG5hbWUpe2RhdGFfcHJpdi5yZW1vdmUoZWxlbSxuYW1lKX19KSxqUXVlcnkuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGtleSx2YWx1ZSl7dmFyIGksbmFtZSxkYXRhLGVsZW09dGhpc1swXSxhdHRycz1lbGVtJiZlbGVtLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09a2V5KXtpZih0aGlzLmxlbmd0aCYmKGRhdGE9ZGF0YV91c2VyLmdldChlbGVtKSwxPT09ZWxlbS5ub2RlVHlwZSYmIWRhdGFfcHJpdi5nZXQoZWxlbSwiaGFzRGF0YUF0dHJzIikpKXtmb3IoaT1hdHRycy5sZW5ndGg7aS0tOylhdHRyc1tpXSYmKG5hbWU9YXR0cnNbaV0ubmFtZSwwPT09bmFtZS5pbmRleE9mKCJkYXRhLSIpJiYobmFtZT1qUXVlcnkuY2FtZWxDYXNlKG5hbWUuc2xpY2UoNSkpLGRhdGFBdHRyKGVsZW0sbmFtZSxkYXRhW25hbWVdKSkpO2RhdGFfcHJpdi5zZXQoZWxlbSwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGRhdGF9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBrZXk/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGF0YV91c2VyLnNldCh0aGlzLGtleSl9KTphY2Nlc3ModGhpcyxmdW5jdGlvbih2YWx1ZSl7dmFyIGRhdGEsY2FtZWxLZXk9alF1ZXJ5LmNhbWVsQ2FzZShrZXkpO2lmKGVsZW0mJnZvaWQgMD09PXZhbHVlKXtpZihkYXRhPWRhdGFfdXNlci5nZXQoZWxlbSxrZXkpLHZvaWQgMCE9PWRhdGEpcmV0dXJuIGRhdGE7aWYoZGF0YT1kYXRhX3VzZXIuZ2V0KGVsZW0sY2FtZWxLZXkpLHZvaWQgMCE9PWRhdGEpcmV0dXJuIGRhdGE7CmlmKGRhdGE9ZGF0YUF0dHIoZWxlbSxjYW1lbEtleSx2b2lkIDApLHZvaWQgMCE9PWRhdGEpcmV0dXJuIGRhdGF9ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZGF0YT1kYXRhX3VzZXIuZ2V0KHRoaXMsY2FtZWxLZXkpO2RhdGFfdXNlci5zZXQodGhpcyxjYW1lbEtleSx2YWx1ZSksLTEhPT1rZXkuaW5kZXhPZigiLSIpJiZ2b2lkIDAhPT1kYXRhJiZkYXRhX3VzZXIuc2V0KHRoaXMsa2V5LHZhbHVlKX0pfSxudWxsLHZhbHVlLGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihrZXkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkYXRhX3VzZXIucmVtb3ZlKHRoaXMsa2V5KX0pfX0pLGpRdWVyeS5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGVsZW0sdHlwZSxkYXRhKXt2YXIgcXVldWU7cmV0dXJuIGVsZW0/KHR5cGU9KHR5cGV8fCJmeCIpKyJxdWV1ZSIscXVldWU9ZGF0YV9wcml2LmdldChlbGVtLHR5cGUpLGRhdGEmJighcXVldWV8fGpRdWVyeS5pc0FycmF5KGRhdGEpP3F1ZXVlPWRhdGFfcHJpdi5hY2Nlc3MoZWxlbSx0eXBlLGpRdWVyeS5tYWtlQXJyYXkoZGF0YSkpOnF1ZXVlLnB1c2goZGF0YSkpLHF1ZXVlfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGVsZW0sdHlwZSl7dHlwZT10eXBlfHwiZngiO3ZhciBxdWV1ZT1qUXVlcnkucXVldWUoZWxlbSx0eXBlKSxzdGFydExlbmd0aD1xdWV1ZS5sZW5ndGgsZm49cXVldWUuc2hpZnQoKSxob29rcz1qUXVlcnkuX3F1ZXVlSG9va3MoZWxlbSx0eXBlKSxuZXh0PWZ1bmN0aW9uKCl7alF1ZXJ5LmRlcXVldWUoZWxlbSx0eXBlKX07ImlucHJvZ3Jlc3MiPT09Zm4mJihmbj1xdWV1ZS5zaGlmdCgpLHN0YXJ0TGVuZ3RoLS0pLGZuJiYoImZ4Ij09PXR5cGUmJnF1ZXVlLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgaG9va3Muc3RvcCxmbi5jYWxsKGVsZW0sbmV4dCxob29rcykpLCFzdGFydExlbmd0aCYmaG9va3MmJmhvb2tzLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZWxlbSx0eXBlKXt2YXIga2V5PXR5cGUrInF1ZXVlSG9va3MiO3JldHVybiBkYXRhX3ByaXYuZ2V0KGVsZW0sa2V5KXx8ZGF0YV9wcml2LmFjY2VzcyhlbGVtLGtleSx7ZW1wdHk6alF1ZXJ5LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtkYXRhX3ByaXYucmVtb3ZlKGVsZW0sW3R5cGUrInF1ZXVlIixrZXldKX0pfSl9fSksalF1ZXJ5LmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24odHlwZSxkYXRhKXt2YXIgc2V0dGVyPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0eXBlJiYoZGF0YT10eXBlLHR5cGU9ImZ4IixzZXR0ZXItLSksYXJndW1lbnRzLmxlbmd0aDxzZXR0ZXI/alF1ZXJ5LnF1ZXVlKHRoaXNbMF0sdHlwZSk6dm9pZCAwPT09ZGF0YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBxdWV1ZT1qUXVlcnkucXVldWUodGhpcyx0eXBlLGRhdGEpO2pRdWVyeS5fcXVldWVIb29rcyh0aGlzLHR5cGUpLCJmeCI9PT10eXBlJiYiaW5wcm9ncmVzcyIhPT1xdWV1ZVswXSYmalF1ZXJ5LmRlcXVldWUodGhpcyx0eXBlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKHR5cGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkuZGVxdWV1ZSh0aGlzLHR5cGUpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24odHlwZSl7cmV0dXJuIHRoaXMucXVldWUodHlwZXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24odHlwZSxvYmope3ZhciB0bXAsY291bnQ9MSxkZWZlcj1qUXVlcnkuRGVmZXJyZWQoKSxlbGVtZW50cz10aGlzLGk9dGhpcy5sZW5ndGgscmVzb2x2ZT1mdW5jdGlvbigpey0tY291bnR8fGRlZmVyLnJlc29sdmVXaXRoKGVsZW1lbnRzLFtlbGVtZW50c10pfTtmb3IoInN0cmluZyIhPXR5cGVvZiB0eXBlJiYob2JqPXR5cGUsdHlwZT12b2lkIDApLHR5cGU9dHlwZXx8ImZ4IjtpLS07KXRtcD1kYXRhX3ByaXYuZ2V0KGVsZW1lbnRzW2ldLHR5cGUrInF1ZXVlSG9va3MiKSx0bXAmJnRtcC5lbXB0eSYmKGNvdW50KyssdG1wLmVtcHR5LmFkZChyZXNvbHZlKSk7cmV0dXJuIHJlc29sdmUoKSxkZWZlci5wcm9taXNlKG9iail9fSk7dmFyIHBudW09L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsY3NzRXhwYW5kPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0saXNIaWRkZW49ZnVuY3Rpb24oZWxlbSxlbCl7cmV0dXJuIGVsZW09ZWx8fGVsZW0sIm5vbmUiPT09alF1ZXJ5LmNzcyhlbGVtLCJkaXNwbGF5Iil8fCFqUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LGVsZW0pfSxyY2hlY2thYmxlVHlwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgZnJhZ21lbnQ9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGRpdj1mcmFnbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSksaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtpbnB1dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGlucHV0LnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxpbnB1dC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksZGl2LmFwcGVuZENoaWxkKGlucHV0KSxzdXBwb3J0LmNoZWNrQ2xvbmU9ZGl2LmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxkaXYuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkPSEhZGl2LmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgc3RydW5kZWZpbmVkPSJ1bmRlZmluZWQiO3N1cHBvcnQuZm9jdXNpbkJ1YmJsZXM9Im9uZm9jdXNpbiJpbiB3aW5kb3c7dmFyIHJrZXlFdmVudD0vXmtleS8scm1vdXNlRXZlbnQ9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8scmZvY3VzTW9ycGg9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLHJ0eXBlbmFtZXNwYWNlPS9eKFteLl0qKSg/OlwuKC4rKXwpJC87alF1ZXJ5LmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGVsZW0sdHlwZXMsaGFuZGxlcixkYXRhLHNlbGVjdG9yKXt2YXIgaGFuZGxlT2JqSW4sZXZlbnRIYW5kbGUsdG1wLGV2ZW50cyx0LGhhbmRsZU9iaixzcGVjaWFsLGhhbmRsZXJzLHR5cGUsbmFtZXNwYWNlcyxvcmlnVHlwZSxlbGVtRGF0YT1kYXRhX3ByaXYuZ2V0KGVsZW0pO2lmKGVsZW1EYXRhKWZvcihoYW5kbGVyLmhhbmRsZXImJihoYW5kbGVPYmpJbj1oYW5kbGVyLGhhbmRsZXI9aGFuZGxlT2JqSW4uaGFuZGxlcixzZWxlY3Rvcj1oYW5kbGVPYmpJbi5zZWxlY3RvciksaGFuZGxlci5ndWlkfHwoaGFuZGxlci5ndWlkPWpRdWVyeS5ndWlkKyspLChldmVudHM9ZWxlbURhdGEuZXZlbnRzKXx8KGV2ZW50cz1lbGVtRGF0YS5ldmVudHM9e30pLChldmVudEhhbmRsZT1lbGVtRGF0YS5oYW5kbGUpfHwoZXZlbnRIYW5kbGU9ZWxlbURhdGEuaGFuZGxlPWZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgalF1ZXJ5IT09c3RydW5kZWZpbmVkJiZqUXVlcnkuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP2pRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseShlbGVtLGFyZ3VtZW50cyk6dm9pZCAwfSksdHlwZXM9KHR5cGVzfHwiIikubWF0Y2gocm5vdHdoaXRlKXx8WyIiXSx0PXR5cGVzLmxlbmd0aDt0LS07KXRtcD1ydHlwZW5hbWVzcGFjZS5leGVjKHR5cGVzW3RdKXx8W10sdHlwZT1vcmlnVHlwZT10bXBbMV0sbmFtZXNwYWNlcz0odG1wWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksdHlwZSYmKHNwZWNpYWw9alF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV18fHt9LHR5cGU9KHNlbGVjdG9yP3NwZWNpYWwuZGVsZWdhdGVUeXBlOnNwZWNpYWwuYmluZFR5cGUpfHx0eXBlLHNwZWNpYWw9alF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV18fHt9LGhhbmRsZU9iaj1qUXVlcnkuZXh0ZW5kKHt0eXBlOnR5cGUsb3JpZ1R5cGU6b3JpZ1R5cGUsZGF0YTpkYXRhLGhhbmRsZXI6aGFuZGxlcixndWlkOmhhbmRsZXIuZ3VpZCxzZWxlY3RvcjpzZWxlY3RvcixuZWVkc0NvbnRleHQ6c2VsZWN0b3ImJmpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KHNlbGVjdG9yKSxuYW1lc3BhY2U6bmFtZXNwYWNlcy5qb2luKCIuIil9LGhhbmRsZU9iakluKSwoaGFuZGxlcnM9ZXZlbnRzW3R5cGVdKXx8KGhhbmRsZXJzPWV2ZW50c1t0eXBlXT1bXSxoYW5kbGVycy5kZWxlZ2F0ZUNvdW50PTAsc3BlY2lhbC5zZXR1cCYmc3BlY2lhbC5zZXR1cC5jYWxsKGVsZW0sZGF0YSxuYW1lc3BhY2VzLGV2ZW50SGFuZGxlKSE9PSExfHxlbGVtLmFkZEV2ZW50TGlzdGVuZXImJmVsZW0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLGV2ZW50SGFuZGxlLCExKSksc3BlY2lhbC5hZGQmJihzcGVjaWFsLmFkZC5jYWxsKGVsZW0saGFuZGxlT2JqKSxoYW5kbGVPYmouaGFuZGxlci5ndWlkfHwoaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZD1oYW5kbGVyLmd1aWQpKSxzZWxlY3Rvcj9oYW5kbGVycy5zcGxpY2UoaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLDAsaGFuZGxlT2JqKTpoYW5kbGVycy5wdXNoKGhhbmRsZU9iaiksalF1ZXJ5LmV2ZW50Lmdsb2JhbFt0eXBlXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihlbGVtLHR5cGVzLGhhbmRsZXIsc2VsZWN0b3IsbWFwcGVkVHlwZXMpe3ZhciBqLG9yaWdDb3VudCx0bXAsZXZlbnRzLHQsaGFuZGxlT2JqLHNwZWNpYWwsaGFuZGxlcnMsdHlwZSxuYW1lc3BhY2VzLG9yaWdUeXBlLGVsZW1EYXRhPWRhdGFfcHJpdi5oYXNEYXRhKGVsZW0pJiZkYXRhX3ByaXYuZ2V0KGVsZW0pO2lmKGVsZW1EYXRhJiYoZXZlbnRzPWVsZW1EYXRhLmV2ZW50cykpe2Zvcih0eXBlcz0odHlwZXN8fCIiKS5tYXRjaChybm90d2hpdGUpfHxbIiJdLHQ9dHlwZXMubGVuZ3RoO3QtLTspaWYodG1wPXJ0eXBlbmFtZXNwYWNlLmV4ZWModHlwZXNbdF0pfHxbXSx0eXBlPW9yaWdUeXBlPXRtcFsxXSxuYW1lc3BhY2VzPSh0bXBbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSx0eXBlKXtmb3Ioc3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXXx8e30sdHlwZT0oc2VsZWN0b3I/c3BlY2lhbC5kZWxlZ2F0ZVR5cGU6c3BlY2lhbC5iaW5kVHlwZSl8fHR5cGUsaGFuZGxlcnM9ZXZlbnRzW3R5cGVdfHxbXSx0bXA9dG1wWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIituYW1lc3BhY2VzLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLG9yaWdDb3VudD1qPWhhbmRsZXJzLmxlbmd0aDtqLS07KWhhbmRsZU9iaj1oYW5kbGVyc1tqXSwhbWFwcGVkVHlwZXMmJm9yaWdUeXBlIT09aGFuZGxlT2JqLm9yaWdUeXBlfHxoYW5kbGVyJiZoYW5kbGVyLmd1aWQhPT1oYW5kbGVPYmouZ3VpZHx8dG1wJiYhdG1wLnRlc3QoaGFuZGxlT2JqLm5hbWVzcGFjZSl8fHNlbGVjdG9yJiZzZWxlY3RvciE9PWhhbmRsZU9iai5zZWxlY3RvciYmKCIqKiIhPT1zZWxlY3Rvcnx8IWhhbmRsZU9iai5zZWxlY3Rvcil8fChoYW5kbGVycy5zcGxpY2UoaiwxKSxoYW5kbGVPYmouc2VsZWN0b3ImJmhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLSxzcGVjaWFsLnJlbW92ZSYmc3BlY2lhbC5yZW1vdmUuY2FsbChlbGVtLGhhbmRsZU9iaikpO29yaWdDb3VudCYmIWhhbmRsZXJzLmxlbmd0aCYmKHNwZWNpYWwudGVhcmRvd24mJnNwZWNpYWwudGVhcmRvd24uY2FsbChlbGVtLG5hbWVzcGFjZXMsZWxlbURhdGEuaGFuZGxlKSE9PSExfHxqUXVlcnkucmVtb3ZlRXZlbnQoZWxlbSx0eXBlLGVsZW1EYXRhLmhhbmRsZSksZGVsZXRlIGV2ZW50c1t0eXBlXSl9ZWxzZSBmb3IodHlwZSBpbiBldmVudHMpalF1ZXJ5LmV2ZW50LnJlbW92ZShlbGVtLHR5cGUrdHlwZXNbdF0saGFuZGxlcixzZWxlY3RvciwhMCk7alF1ZXJ5LmlzRW1wdHlPYmplY3QoZXZlbnRzKSYmKGRlbGV0ZSBlbGVtRGF0YS5oYW5kbGUsZGF0YV9wcml2LnJlbW92ZShlbGVtLCJldmVudHMiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGV2ZW50LGRhdGEsZWxlbSxvbmx5SGFuZGxlcnMpe3ZhciBpLGN1cix0bXAsYnViYmxlVHlwZSxvbnR5cGUsaGFuZGxlLHNwZWNpYWwsZXZlbnRQYXRoPVtlbGVtfHxkb2N1bWVudF0sdHlwZT1oYXNPd24uY2FsbChldmVudCwidHlwZSIpP2V2ZW50LnR5cGU6ZXZlbnQsbmFtZXNwYWNlcz1oYXNPd24uY2FsbChldmVudCwibmFtZXNwYWNlIik/ZXZlbnQubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoY3VyPXRtcD1lbGVtPWVsZW18fGRvY3VtZW50LDMhPT1lbGVtLm5vZGVUeXBlJiY4IT09ZWxlbS5ub2RlVHlwZSYmIXJmb2N1c01vcnBoLnRlc3QodHlwZStqUXVlcnkuZXZlbnQudHJpZ2dlcmVkKSYmKHR5cGUuaW5kZXhPZigiLiIpPj0wJiYobmFtZXNwYWNlcz10eXBlLnNwbGl0KCIuIiksdHlwZT1uYW1lc3BhY2VzLnNoaWZ0KCksbmFtZXNwYWNlcy5zb3J0KCkpLG9udHlwZT10eXBlLmluZGV4T2YoIjoiKTwwJiYib24iK3R5cGUsZXZlbnQ9ZXZlbnRbalF1ZXJ5LmV4cGFuZG9dP2V2ZW50Om5ldyBqUXVlcnkuRXZlbnQodHlwZSwib2JqZWN0Ij09dHlwZW9mIGV2ZW50JiZldmVudCksZXZlbnQuaXNUcmlnZ2VyPW9ubHlIYW5kbGVycz8yOjMsZXZlbnQubmFtZXNwYWNlPW5hbWVzcGFjZXMuam9pbigiLiIpLGV2ZW50Lm5hbWVzcGFjZV9yZT1ldmVudC5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrbmFtZXNwYWNlcy5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGV2ZW50LnJlc3VsdD12b2lkIDAsZXZlbnQudGFyZ2V0fHwoZXZlbnQudGFyZ2V0PWVsZW0pLGRhdGE9bnVsbD09ZGF0YT9bZXZlbnRdOmpRdWVyeS5tYWtlQXJyYXkoZGF0YSxbZXZlbnRdKSxzcGVjaWFsPWpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdfHx7fSxvbmx5SGFuZGxlcnN8fCFzcGVjaWFsLnRyaWdnZXJ8fHNwZWNpYWwudHJpZ2dlci5hcHBseShlbGVtLGRhdGEpIT09ITEpKXtpZighb25seUhhbmRsZXJzJiYhc3BlY2lhbC5ub0J1YmJsZSYmIWpRdWVyeS5pc1dpbmRvdyhlbGVtKSl7Zm9yKGJ1YmJsZVR5cGU9c3BlY2lhbC5kZWxlZ2F0ZVR5cGV8fHR5cGUscmZvY3VzTW9ycGgudGVzdChidWJibGVUeXBlK3R5cGUpfHwoY3VyPWN1ci5wYXJlbnROb2RlKTtjdXI7Y3VyPWN1ci5wYXJlbnROb2RlKWV2ZW50UGF0aC5wdXNoKGN1ciksdG1wPWN1cjt0bXA9PT0oZWxlbS5vd25lckRvY3VtZW50fHxkb2N1bWVudCkmJmV2ZW50UGF0aC5wdXNoKHRtcC5kZWZhdWx0Vmlld3x8dG1wLnBhcmVudFdpbmRvd3x8d2luZG93KX1mb3IoaT0wOyhjdXI9ZXZlbnRQYXRoW2krK10pJiYhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspZXZlbnQudHlwZT1pPjE/YnViYmxlVHlwZTpzcGVjaWFsLmJpbmRUeXBlfHx0eXBlLGhhbmRsZT0oZGF0YV9wcml2LmdldChjdXIsImV2ZW50cyIpfHx7fSlbZXZlbnQudHlwZV0mJmRhdGFfcHJpdi5nZXQoY3VyLCJoYW5kbGUiKSxoYW5kbGUmJmhhbmRsZS5hcHBseShjdXIsZGF0YSksaGFuZGxlPW9udHlwZSYmY3VyW29udHlwZV0saGFuZGxlJiZoYW5kbGUuYXBwbHkmJmpRdWVyeS5hY2NlcHREYXRhKGN1cikmJihldmVudC5yZXN1bHQ9aGFuZGxlLmFwcGx5KGN1cixkYXRhKSxldmVudC5yZXN1bHQ9PT0hMSYmZXZlbnQucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGV2ZW50LnR5cGU9dHlwZSxvbmx5SGFuZGxlcnN8fGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxzcGVjaWFsLl9kZWZhdWx0JiZzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KGV2ZW50UGF0aC5wb3AoKSxkYXRhKSE9PSExfHwhalF1ZXJ5LmFjY2VwdERhdGEoZWxlbSl8fG9udHlwZSYmalF1ZXJ5LmlzRnVuY3Rpb24oZWxlbVt0eXBlXSkmJiFqUXVlcnkuaXNXaW5kb3coZWxlbSkmJih0bXA9ZWxlbVtvbnR5cGVdLHRtcCYmKGVsZW1bb250eXBlXT1udWxsKSxqUXVlcnkuZXZlbnQudHJpZ2dlcmVkPXR5cGUsZWxlbVt0eXBlXSgpLGpRdWVyeS5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLHRtcCYmKGVsZW1bb250eXBlXT10bXApKSxldmVudC5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihldmVudCl7ZXZlbnQ9alF1ZXJ5LmV2ZW50LmZpeChldmVudCk7dmFyIGksaixyZXQsbWF0Y2hlZCxoYW5kbGVPYmosaGFuZGxlclF1ZXVlPVtdLGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMpLGhhbmRsZXJzPShkYXRhX3ByaXYuZ2V0KHRoaXMsImV2ZW50cyIpfHx7fSlbZXZlbnQudHlwZV18fFtdLHNwZWNpYWw9alF1ZXJ5LmV2ZW50LnNwZWNpYWxbZXZlbnQudHlwZV18fHt9O2lmKGFyZ3NbMF09ZXZlbnQsZXZlbnQuZGVsZWdhdGVUYXJnZXQ9dGhpcywhc3BlY2lhbC5wcmVEaXNwYXRjaHx8c3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsZXZlbnQpIT09ITEpe2ZvcihoYW5kbGVyUXVldWU9alF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxldmVudCxoYW5kbGVycyksaT0wOyhtYXRjaGVkPWhhbmRsZXJRdWV1ZVtpKytdKSYmIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcihldmVudC5jdXJyZW50VGFyZ2V0PW1hdGNoZWQuZWxlbSxqPTA7KGhhbmRsZU9iaj1tYXRjaGVkLmhhbmRsZXJzW2orK10pJiYhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspKCFldmVudC5uYW1lc3BhY2VfcmV8fGV2ZW50Lm5hbWVzcGFjZV9yZS50ZXN0KGhhbmRsZU9iai5uYW1lc3BhY2UpKSYmKGV2ZW50LmhhbmRsZU9iaj1oYW5kbGVPYmosZXZlbnQuZGF0YT1oYW5kbGVPYmouZGF0YSxyZXQ9KChqUXVlcnkuZXZlbnQuc3BlY2lhbFtoYW5kbGVPYmoub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxoYW5kbGVPYmouaGFuZGxlcikuYXBwbHkobWF0Y2hlZC5lbGVtLGFyZ3MpLHZvaWQgMCE9PXJldCYmKGV2ZW50LnJlc3VsdD1yZXQpPT09ITEmJihldmVudC5wcmV2ZW50RGVmYXVsdCgpLGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpKSk7cmV0dXJuIHNwZWNpYWwucG9zdERpc3BhdGNoJiZzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsZXZlbnQpLGV2ZW50LnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGV2ZW50LGhhbmRsZXJzKXt2YXIgaSxtYXRjaGVzLHNlbCxoYW5kbGVPYmosaGFuZGxlclF1ZXVlPVtdLGRlbGVnYXRlQ291bnQ9aGFuZGxlcnMuZGVsZWdhdGVDb3VudCxjdXI9ZXZlbnQudGFyZ2V0O2lmKGRlbGVnYXRlQ291bnQmJmN1ci5ub2RlVHlwZSYmKCFldmVudC5idXR0b258fCJjbGljayIhPT1ldmVudC50eXBlKSlmb3IoO2N1ciE9PXRoaXM7Y3VyPWN1ci5wYXJlbnROb2RlfHx0aGlzKWlmKGN1ci5kaXNhYmxlZCE9PSEwfHwiY2xpY2siIT09ZXZlbnQudHlwZSl7Zm9yKG1hdGNoZXM9W10saT0wO2RlbGVnYXRlQ291bnQ+aTtpKyspaGFuZGxlT2JqPWhhbmRsZXJzW2ldLHNlbD1oYW5kbGVPYmouc2VsZWN0b3IrIiAiLHZvaWQgMD09PW1hdGNoZXNbc2VsXSYmKG1hdGNoZXNbc2VsXT1oYW5kbGVPYmoubmVlZHNDb250ZXh0P2pRdWVyeShzZWwsdGhpcykuaW5kZXgoY3VyKT49MDpqUXVlcnkuZmluZChzZWwsdGhpcyxudWxsLFtjdXJdKS5sZW5ndGgpLG1hdGNoZXNbc2VsXSYmbWF0Y2hlcy5wdXNoKGhhbmRsZU9iaik7bWF0Y2hlcy5sZW5ndGgmJmhhbmRsZXJRdWV1ZS5wdXNoKHtlbGVtOmN1cixoYW5kbGVyczptYXRjaGVzfSl9cmV0dXJuIGRlbGVnYXRlQ291bnQ8aGFuZGxlcnMubGVuZ3RoJiZoYW5kbGVyUXVldWUucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmhhbmRsZXJzLnNsaWNlKGRlbGVnYXRlQ291bnQpfSksaGFuZGxlclF1ZXVlfSxwcm9wczoiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oZXZlbnQsb3JpZ2luYWwpe3JldHVybiBudWxsPT1ldmVudC53aGljaCYmKGV2ZW50LndoaWNoPW51bGwhPW9yaWdpbmFsLmNoYXJDb2RlP29yaWdpbmFsLmNoYXJDb2RlOm9yaWdpbmFsLmtleUNvZGUpLGV2ZW50fX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oZXZlbnQsb3JpZ2luYWwpe3ZhciBldmVudERvYyxkb2MsYm9keSxidXR0b249b3JpZ2luYWwuYnV0dG9uO3JldHVybiBudWxsPT1ldmVudC5wYWdlWCYmbnVsbCE9b3JpZ2luYWwuY2xpZW50WCYmKGV2ZW50RG9jPWV2ZW50LnRhcmdldC5vd25lckRvY3VtZW50fHxkb2N1bWVudCxkb2M9ZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50LGJvZHk9ZXZlbnREb2MuYm9keSxldmVudC5wYWdlWD1vcmlnaW5hbC5jbGllbnRYKyhkb2MmJmRvYy5zY3JvbGxMZWZ0fHxib2R5JiZib2R5LnNjcm9sbExlZnR8fDApLShkb2MmJmRvYy5jbGllbnRMZWZ0fHxib2R5JiZib2R5LmNsaWVudExlZnR8fDApLGV2ZW50LnBhZ2VZPW9yaWdpbmFsLmNsaWVudFkrKGRvYyYmZG9jLnNjcm9sbFRvcHx8Ym9keSYmYm9keS5zY3JvbGxUb3B8fDApLShkb2MmJmRvYy5jbGllbnRUb3B8fGJvZHkmJmJvZHkuY2xpZW50VG9wfHwwKSksZXZlbnQud2hpY2h8fHZvaWQgMD09PWJ1dHRvbnx8KGV2ZW50LndoaWNoPTEmYnV0dG9uPzE6MiZidXR0b24/Mzo0JmJ1dHRvbj8yOjApLGV2ZW50fX0sZml4OmZ1bmN0aW9uKGV2ZW50KXtpZihldmVudFtqUXVlcnkuZXhwYW5kb10pcmV0dXJuIGV2ZW50O3ZhciBpLHByb3AsY29weSx0eXBlPWV2ZW50LnR5cGUsb3JpZ2luYWxFdmVudD1ldmVudCxmaXhIb29rPXRoaXMuZml4SG9va3NbdHlwZV07Zm9yKGZpeEhvb2t8fCh0aGlzLmZpeEhvb2tzW3R5cGVdPWZpeEhvb2s9cm1vdXNlRXZlbnQudGVzdCh0eXBlKT90aGlzLm1vdXNlSG9va3M6cmtleUV2ZW50LnRlc3QodHlwZSk/dGhpcy5rZXlIb29rczp7fSksY29weT1maXhIb29rLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGZpeEhvb2sucHJvcHMpOnRoaXMucHJvcHMsZXZlbnQ9bmV3IGpRdWVyeS5FdmVudChvcmlnaW5hbEV2ZW50KSxpPWNvcHkubGVuZ3RoO2ktLTspcHJvcD1jb3B5W2ldLGV2ZW50W3Byb3BdPW9yaWdpbmFsRXZlbnRbcHJvcF07cmV0dXJuIGV2ZW50LnRhcmdldHx8KGV2ZW50LnRhcmdldD1kb2N1bWVudCksMz09PWV2ZW50LnRhcmdldC5ub2RlVHlwZSYmKGV2ZW50LnRhcmdldD1ldmVudC50YXJnZXQucGFyZW50Tm9kZSksZml4SG9vay5maWx0ZXI/Zml4SG9vay5maWx0ZXIoZXZlbnQsb3JpZ2luYWxFdmVudCk6ZXZlbnR9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09c2FmZUFjdGl2ZUVsZW1lbnQoKSYmdGhpcy5mb2N1cz8odGhpcy5mb2N1cygpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNpbiJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PXNhZmVBY3RpdmVFbGVtZW50KCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmalF1ZXJ5Lm5vZGVOYW1lKHRoaXMsImlucHV0Iik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihldmVudCl7cmV0dXJuIGpRdWVyeS5ub2RlTmFtZShldmVudC50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGV2ZW50KXt2b2lkIDAhPT1ldmVudC5yZXN1bHQmJmV2ZW50Lm9yaWdpbmFsRXZlbnQmJihldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWV2ZW50LnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24odHlwZSxlbGVtLGV2ZW50LGJ1YmJsZSl7dmFyIGU9alF1ZXJ5LmV4dGVuZChuZXcgalF1ZXJ5LkV2ZW50LGV2ZW50LHt0eXBlOnR5cGUsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO2J1YmJsZT9qUXVlcnkuZXZlbnQudHJpZ2dlcihlLG51bGwsZWxlbSk6alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmNhbGwoZWxlbSxlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZldmVudC5wcmV2ZW50RGVmYXVsdCgpfX0salF1ZXJ5LnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGVsZW0sdHlwZSxoYW5kbGUpe2VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsaGFuZGxlLCExKX0salF1ZXJ5LkV2ZW50PWZ1bmN0aW9uKHNyYyxwcm9wcyl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQ/KHNyYyYmc3JjLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1zcmMsdGhpcy50eXBlPXNyYy50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPXNyYy5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1zcmMuZGVmYXVsdFByZXZlbnRlZCYmc3JjLnJldHVyblZhbHVlPT09ITE/cmV0dXJuVHJ1ZTpyZXR1cm5GYWxzZSk6dGhpcy50eXBlPXNyYyxwcm9wcyYmalF1ZXJ5LmV4dGVuZCh0aGlzLHByb3BzKSx0aGlzLnRpbWVTdGFtcD1zcmMmJnNyYy50aW1lU3RhbXB8fGpRdWVyeS5ub3coKSx2b2lkKHRoaXNbalF1ZXJ5LmV4cGFuZG9dPSEwKSk6bmV3IGpRdWVyeS5FdmVudChzcmMscHJvcHMpfSxqUXVlcnkuRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6cmV0dXJuRmFsc2UsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cmV0dXJuRmFsc2UsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cmV0dXJuRmFsc2UscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cmV0dXJuVHJ1ZSxlJiZlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXJldHVyblRydWUsZSYmZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXJldHVyblRydWUsZSYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LGpRdWVyeS5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihvcmlnLGZpeCl7alF1ZXJ5LmV2ZW50LnNwZWNpYWxbb3JpZ109e2RlbGVnYXRlVHlwZTpmaXgsYmluZFR5cGU6Zml4LGhhbmRsZTpmdW5jdGlvbihldmVudCl7dmFyIHJldCx0YXJnZXQ9dGhpcyxyZWxhdGVkPWV2ZW50LnJlbGF0ZWRUYXJnZXQsaGFuZGxlT2JqPWV2ZW50LmhhbmRsZU9iajtyZXR1cm4oIXJlbGF0ZWR8fHJlbGF0ZWQhPT10YXJnZXQmJiFqUXVlcnkuY29udGFpbnModGFyZ2V0LHJlbGF0ZWQpKSYmKGV2ZW50LnR5cGU9aGFuZGxlT2JqLm9yaWdUeXBlLHJldD1oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZXZlbnQudHlwZT1maXgpLHJldH19fSksc3VwcG9ydC5mb2N1c2luQnViYmxlc3x8alF1ZXJ5LmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG9yaWcsZml4KXt2YXIgaGFuZGxlcj1mdW5jdGlvbihldmVudCl7alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKGZpeCxldmVudC50YXJnZXQsalF1ZXJ5LmV2ZW50LmZpeChldmVudCksITApfTtqUXVlcnkuZXZlbnQuc3BlY2lhbFtmaXhdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkb2M9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGF0dGFjaGVzPWRhdGFfcHJpdi5hY2Nlc3MoZG9jLGZpeCk7YXR0YWNoZXN8fGRvYy5hZGRFdmVudExpc3RlbmVyKG9yaWcsaGFuZGxlciwhMCksZGF0YV9wcml2LmFjY2Vzcyhkb2MsZml4LChhdHRhY2hlc3x8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGRvYz10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsYXR0YWNoZXM9ZGF0YV9wcml2LmFjY2Vzcyhkb2MsZml4KS0xO2F0dGFjaGVzP2RhdGFfcHJpdi5hY2Nlc3MoZG9jLGZpeCxhdHRhY2hlcyk6KGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKG9yaWcsaGFuZGxlciwhMCksZGF0YV9wcml2LnJlbW92ZShkb2MsZml4KSl9fX0pLGpRdWVyeS5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKHR5cGVzLHNlbGVjdG9yLGRhdGEsZm4sb25lKXt2YXIgb3JpZ0ZuLHR5cGU7aWYoIm9iamVjdCI9PXR5cGVvZiB0eXBlcyl7InN0cmluZyIhPXR5cGVvZiBzZWxlY3RvciYmKGRhdGE9ZGF0YXx8c2VsZWN0b3Isc2VsZWN0b3I9dm9pZCAwKTtmb3IodHlwZSBpbiB0eXBlcyl0aGlzLm9uKHR5cGUsc2VsZWN0b3IsZGF0YSx0eXBlc1t0eXBlXSxvbmUpO3JldHVybiB0aGlzfWlmKG51bGw9PWRhdGEmJm51bGw9PWZuPyhmbj1zZWxlY3RvcixkYXRhPXNlbGVjdG9yPXZvaWQgMCk6bnVsbD09Zm4mJigic3RyaW5nIj09dHlwZW9mIHNlbGVjdG9yPyhmbj1kYXRhLGRhdGE9dm9pZCAwKTooZm49ZGF0YSxkYXRhPXNlbGVjdG9yLHNlbGVjdG9yPXZvaWQgMCkpLGZuPT09ITEpZm49cmV0dXJuRmFsc2U7ZWxzZSBpZighZm4pcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1vbmUmJihvcmlnRm49Zm4sZm49ZnVuY3Rpb24oZXZlbnQpe3JldHVybiBqUXVlcnkoKS5vZmYoZXZlbnQpLG9yaWdGbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGZuLmd1aWQ9b3JpZ0ZuLmd1aWR8fChvcmlnRm4uZ3VpZD1qUXVlcnkuZ3VpZCsrKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LmV2ZW50LmFkZCh0aGlzLHR5cGVzLGZuLGRhdGEsc2VsZWN0b3IpfSl9LG9uZTpmdW5jdGlvbih0eXBlcyxzZWxlY3RvcixkYXRhLGZuKXtyZXR1cm4gdGhpcy5vbih0eXBlcyxzZWxlY3RvcixkYXRhLGZuLDEpfSxvZmY6ZnVuY3Rpb24odHlwZXMsc2VsZWN0b3IsZm4pe3ZhciBoYW5kbGVPYmosdHlwZTtpZih0eXBlcyYmdHlwZXMucHJldmVudERlZmF1bHQmJnR5cGVzLmhhbmRsZU9iailyZXR1cm4gaGFuZGxlT2JqPXR5cGVzLmhhbmRsZU9iaixqUXVlcnkodHlwZXMuZGVsZWdhdGVUYXJnZXQpLm9mZihoYW5kbGVPYmoubmFtZXNwYWNlP2hhbmRsZU9iai5vcmlnVHlwZSsiLiIraGFuZGxlT2JqLm5hbWVzcGFjZTpoYW5kbGVPYmoub3JpZ1R5cGUsaGFuZGxlT2JqLnNlbGVjdG9yLGhhbmRsZU9iai5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgdHlwZXMpe2Zvcih0eXBlIGluIHR5cGVzKXRoaXMub2ZmKHR5cGUsc2VsZWN0b3IsdHlwZXNbdHlwZV0pO3JldHVybiB0aGlzfXJldHVybihzZWxlY3Rvcj09PSExfHwiZnVuY3Rpb24iPT10eXBlb2Ygc2VsZWN0b3IpJiYoZm49c2VsZWN0b3Isc2VsZWN0b3I9dm9pZCAwKSxmbj09PSExJiYoZm49cmV0dXJuRmFsc2UpLHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS5ldmVudC5yZW1vdmUodGhpcyx0eXBlcyxmbixzZWxlY3Rvcil9KX0sdHJpZ2dlcjpmdW5jdGlvbih0eXBlLGRhdGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkuZXZlbnQudHJpZ2dlcih0eXBlLGRhdGEsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24odHlwZSxkYXRhKXt2YXIgZWxlbT10aGlzWzBdO3JldHVybiBlbGVtP2pRdWVyeS5ldmVudC50cmlnZ2VyKHR5cGUsZGF0YSxlbGVtLCEwKTp2b2lkIDB9fSk7dmFyIHJ4aHRtbFRhZz0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLHJ0YWdOYW1lPS88KFtcdzpdKykvLHJodG1sPS88fCYjP1x3KzsvLHJub0lubmVyaHRtbD0vPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLHJjaGVja2VkPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHJzY3JpcHRUeXBlPS9eJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxyc2NyaXB0VHlwZU1hc2tlZD0vXnRydWVcLyguKikvLHJjbGVhblNjcmlwdD0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csd3JhcE1hcD17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O3dyYXBNYXAub3B0Z3JvdXA9d3JhcE1hcC5vcHRpb24sd3JhcE1hcC50Ym9keT13cmFwTWFwLnRmb290PXdyYXBNYXAuY29sZ3JvdXA9d3JhcE1hcC5jYXB0aW9uPXdyYXBNYXAudGhlYWQsd3JhcE1hcC50aD13cmFwTWFwLnRkLGpRdWVyeS5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGVsZW0sZGF0YUFuZEV2ZW50cyxkZWVwRGF0YUFuZEV2ZW50cyl7dmFyIGksbCxzcmNFbGVtZW50cyxkZXN0RWxlbWVudHMsY2xvbmU9ZWxlbS5jbG9uZU5vZGUoITApLGluUGFnZT1qUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LGVsZW0pO2lmKCEoc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZHx8MSE9PWVsZW0ubm9kZVR5cGUmJjExIT09ZWxlbS5ub2RlVHlwZXx8alF1ZXJ5LmlzWE1MRG9jKGVsZW0pKSlmb3IoZGVzdEVsZW1lbnRzPWdldEFsbChjbG9uZSksc3JjRWxlbWVudHM9Z2V0QWxsKGVsZW0pLGk9MCxsPXNyY0VsZW1lbnRzLmxlbmd0aDtsPmk7aSsrKWZpeElucHV0KHNyY0VsZW1lbnRzW2ldLGRlc3RFbGVtZW50c1tpXSk7aWYoZGF0YUFuZEV2ZW50cylpZihkZWVwRGF0YUFuZEV2ZW50cylmb3Ioc3JjRWxlbWVudHM9c3JjRWxlbWVudHN8fGdldEFsbChlbGVtKSxkZXN0RWxlbWVudHM9ZGVzdEVsZW1lbnRzfHxnZXRBbGwoY2xvbmUpLGk9MCxsPXNyY0VsZW1lbnRzLmxlbmd0aDtsPmk7aSsrKWNsb25lQ29weUV2ZW50KHNyY0VsZW1lbnRzW2ldLGRlc3RFbGVtZW50c1tpXSk7ZWxzZSBjbG9uZUNvcHlFdmVudChlbGVtLGNsb25lKTtyZXR1cm4gZGVzdEVsZW1lbnRzPWdldEFsbChjbG9uZSwic2NyaXB0IiksZGVzdEVsZW1lbnRzLmxlbmd0aD4wJiZzZXRHbG9iYWxFdmFsKGRlc3RFbGVtZW50cywhaW5QYWdlJiZnZXRBbGwoZWxlbSwic2NyaXB0IikpLGNsb25lfSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGVsZW1zLGNvbnRleHQsc2NyaXB0cyxzZWxlY3Rpb24pe2Zvcih2YXIgZWxlbSx0bXAsdGFnLHdyYXAsY29udGFpbnMsaixmcmFnbWVudD1jb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxub2Rlcz1bXSxpPTAsbD1lbGVtcy5sZW5ndGg7bD5pO2krKylpZihlbGVtPWVsZW1zW2ldLGVsZW18fDA9PT1lbGVtKWlmKCJvYmplY3QiPT09alF1ZXJ5LnR5cGUoZWxlbSkpalF1ZXJ5Lm1lcmdlKG5vZGVzLGVsZW0ubm9kZVR5cGU/W2VsZW1dOmVsZW0pO2Vsc2UgaWYocmh0bWwudGVzdChlbGVtKSl7Zm9yKHRtcD10bXB8fGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRleHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHRhZz0ocnRhZ05hbWUuZXhlYyhlbGVtKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSx3cmFwPXdyYXBNYXBbdGFnXXx8d3JhcE1hcC5fZGVmYXVsdCx0bXAuaW5uZXJIVE1MPXdyYXBbMV0rZWxlbS5yZXBsYWNlKHJ4aHRtbFRhZywiPCQxPjwvJDI+Iikrd3JhcFsyXSxqPXdyYXBbMF07ai0tOyl0bXA9dG1wLmxhc3RDaGlsZDtqUXVlcnkubWVyZ2Uobm9kZXMsdG1wLmNoaWxkTm9kZXMpLHRtcD1mcmFnbWVudC5maXJzdENoaWxkLHRtcC50ZXh0Q29udGVudD0iIn1lbHNlIG5vZGVzLnB1c2goY29udGV4dC5jcmVhdGVUZXh0Tm9kZShlbGVtKSk7Zm9yKGZyYWdtZW50LnRleHRDb250ZW50PSIiLGk9MDtlbGVtPW5vZGVzW2krK107KWlmKCghc2VsZWN0aW9ufHwtMT09PWpRdWVyeS5pbkFycmF5KGVsZW0sc2VsZWN0aW9uKSkmJihjb250YWlucz1qUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LGVsZW0pLHRtcD1nZXRBbGwoZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWxlbSksInNjcmlwdCIpLGNvbnRhaW5zJiZzZXRHbG9iYWxFdmFsKHRtcCksc2NyaXB0cykpZm9yKGo9MDtlbGVtPXRtcFtqKytdOylyc2NyaXB0VHlwZS50ZXN0KGVsZW0udHlwZXx8IiIpJiZzY3JpcHRzLnB1c2goZWxlbSk7cmV0dXJuIGZyYWdtZW50fSxjbGVhbkRhdGE6ZnVuY3Rpb24oZWxlbXMpe2Zvcih2YXIgZGF0YSxlbGVtLHR5cGUsa2V5LHNwZWNpYWw9alF1ZXJ5LmV2ZW50LnNwZWNpYWwsaT0wO3ZvaWQgMCE9PShlbGVtPWVsZW1zW2ldKTtpKyspe2lmKGpRdWVyeS5hY2NlcHREYXRhKGVsZW0pJiYoa2V5PWVsZW1bZGF0YV9wcml2LmV4cGFuZG9dLGtleSYmKGRhdGE9ZGF0YV9wcml2LmNhY2hlW2tleV0pKSl7aWYoZGF0YS5ldmVudHMpZm9yKHR5cGUgaW4gZGF0YS5ldmVudHMpc3BlY2lhbFt0eXBlXT9qUXVlcnkuZXZlbnQucmVtb3ZlKGVsZW0sdHlwZSk6alF1ZXJ5LnJlbW92ZUV2ZW50KGVsZW0sdHlwZSxkYXRhLmhhbmRsZSk7ZGF0YV9wcml2LmNhY2hlW2tleV0mJmRlbGV0ZSBkYXRhX3ByaXYuY2FjaGVba2V5XX1kZWxldGUgZGF0YV91c2VyLmNhY2hlW2VsZW1bZGF0YV91c2VyLmV4cGFuZG9dXX19fSksalF1ZXJ5LmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdm9pZCAwPT09dmFsdWU/alF1ZXJ5LnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD12YWx1ZSl9KX0sbnVsbCx2YWx1ZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGVsZW0pe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdGFyZ2V0PW1hbmlwdWxhdGlvblRhcmdldCh0aGlzLGVsZW0pO3RhcmdldC5hcHBlbmRDaGlsZChlbGVtKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlbGVtKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHRhcmdldD1tYW5pcHVsYXRpb25UYXJnZXQodGhpcyxlbGVtKTt0YXJnZXQuaW5zZXJ0QmVmb3JlKGVsZW0sdGFyZ2V0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZWxlbSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZWxlbSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW0sdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKHNlbGVjdG9yLGtlZXBEYXRhKXtmb3IodmFyIGVsZW0sZWxlbXM9c2VsZWN0b3I/alF1ZXJ5LmZpbHRlcihzZWxlY3Rvcix0aGlzKTp0aGlzLGk9MDtudWxsIT0oZWxlbT1lbGVtc1tpXSk7aSsrKWtlZXBEYXRhfHwxIT09ZWxlbS5ub2RlVHlwZXx8alF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwoZWxlbSkpLGVsZW0ucGFyZW50Tm9kZSYmKGtlZXBEYXRhJiZqUXVlcnkuY29udGFpbnMoZWxlbS5vd25lckRvY3VtZW50LGVsZW0pJiZzZXRHbG9iYWxFdmFsKGdldEFsbChlbGVtLCJzY3JpcHQiKSksZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGVsZW0saT0wO251bGwhPShlbGVtPXRoaXNbaV0pO2krKykxPT09ZWxlbS5ub2RlVHlwZSYmKGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKGVsZW0sITEpKSxlbGVtLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZGF0YUFuZEV2ZW50cyxkZWVwRGF0YUFuZEV2ZW50cyl7cmV0dXJuIGRhdGFBbmRFdmVudHM9bnVsbD09ZGF0YUFuZEV2ZW50cz8hMTpkYXRhQW5kRXZlbnRzLGRlZXBEYXRhQW5kRXZlbnRzPW51bGw9PWRlZXBEYXRhQW5kRXZlbnRzP2RhdGFBbmRFdmVudHM6ZGVlcERhdGFBbmRFdmVudHMsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4galF1ZXJ5LmNsb25lKHRoaXMsZGF0YUFuZEV2ZW50cyxkZWVwRGF0YUFuZEV2ZW50cyl9KX0saHRtbDpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHZhbHVlKXt2YXIgZWxlbT10aGlzWzBdfHx7fSxpPTAsbD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT12YWx1ZSYmMT09PWVsZW0ubm9kZVR5cGUpcmV0dXJuIGVsZW0uaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgdmFsdWUmJiFybm9Jbm5lcmh0bWwudGVzdCh2YWx1ZSkmJiF3cmFwTWFwWyhydGFnTmFtZS5leGVjKHZhbHVlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe3ZhbHVlPXZhbHVlLnJlcGxhY2UocnhodG1sVGFnLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtsPmk7aSsrKWVsZW09dGhpc1tpXXx8e30sMT09PWVsZW0ubm9kZVR5cGUmJihqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChlbGVtLCExKSksZWxlbS5pbm5lckhUTUw9dmFsdWUpO2VsZW09MH1jYXRjaChlKXt9fWVsZW0mJnRoaXMuZW1wdHkoKS5hcHBlbmQodmFsdWUpfSxudWxsLHZhbHVlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhcmc9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlbGVtKXthcmc9dGhpcy5wYXJlbnROb2RlLGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKHRoaXMpKSxhcmcmJmFyZy5yZXBsYWNlQ2hpbGQoZWxlbSx0aGlzKX0pLGFyZyYmKGFyZy5sZW5ndGh8fGFyZy5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiB0aGlzLnJlbW92ZShzZWxlY3RvciwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGFyZ3MsY2FsbGJhY2spe2FyZ3M9Y29uY2F0LmFwcGx5KFtdLGFyZ3MpO3ZhciBmcmFnbWVudCxmaXJzdCxzY3JpcHRzLGhhc1NjcmlwdHMsbm9kZSxkb2MsaT0wLGw9dGhpcy5sZW5ndGgsc2V0PXRoaXMsaU5vQ2xvbmU9bC0xLHZhbHVlPWFyZ3NbMF0saXNGdW5jdGlvbj1qUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSk7aWYoaXNGdW5jdGlvbnx8bD4xJiYic3RyaW5nIj09dHlwZW9mIHZhbHVlJiYhc3VwcG9ydC5jaGVja0Nsb25lJiZyY2hlY2tlZC50ZXN0KHZhbHVlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGluZGV4KXt2YXIgc2VsZj1zZXQuZXEoaW5kZXgpO2lzRnVuY3Rpb24mJihhcmdzWzBdPXZhbHVlLmNhbGwodGhpcyxpbmRleCxzZWxmLmh0bWwoKSkpLHNlbGYuZG9tTWFuaXAoYXJncyxjYWxsYmFjayl9KTtpZihsJiYoZnJhZ21lbnQ9alF1ZXJ5LmJ1aWxkRnJhZ21lbnQoYXJncyx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksZmlyc3Q9ZnJhZ21lbnQuZmlyc3RDaGlsZCwxPT09ZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGgmJihmcmFnbWVudD1maXJzdCksZmlyc3QpKXtmb3Ioc2NyaXB0cz1qUXVlcnkubWFwKGdldEFsbChmcmFnbWVudCwic2NyaXB0IiksZGlzYWJsZVNjcmlwdCksaGFzU2NyaXB0cz1zY3JpcHRzLmxlbmd0aDtsPmk7aSsrKW5vZGU9ZnJhZ21lbnQsaSE9PWlOb0Nsb25lJiYobm9kZT1qUXVlcnkuY2xvbmUobm9kZSwhMCwhMCksaGFzU2NyaXB0cyYmalF1ZXJ5Lm1lcmdlKHNjcmlwdHMsZ2V0QWxsKG5vZGUsInNjcmlwdCIpKSksY2FsbGJhY2suY2FsbCh0aGlzW2ldLG5vZGUsaSk7aWYoaGFzU2NyaXB0cylmb3IoZG9jPXNjcmlwdHNbc2NyaXB0cy5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxqUXVlcnkubWFwKHNjcmlwdHMscmVzdG9yZVNjcmlwdCksaT0wO2hhc1NjcmlwdHM+aTtpKyspbm9kZT1zY3JpcHRzW2ldLHJzY3JpcHRUeXBlLnRlc3Qobm9kZS50eXBlfHwiIikmJiFkYXRhX3ByaXYuYWNjZXNzKG5vZGUsImdsb2JhbEV2YWwiKSYmalF1ZXJ5LmNvbnRhaW5zKGRvYyxub2RlKSYmKG5vZGUuc3JjP2pRdWVyeS5fZXZhbFVybCYmalF1ZXJ5Ll9ldmFsVXJsKG5vZGUuc3JjKTpqUXVlcnkuZ2xvYmFsRXZhbChub2RlLnRleHRDb250ZW50LnJlcGxhY2UocmNsZWFuU2NyaXB0LCIiKSkpfXJldHVybiB0aGlzfX0pLGpRdWVyeS5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24obmFtZSxvcmlnaW5hbCl7alF1ZXJ5LmZuW25hbWVdPWZ1bmN0aW9uKHNlbGVjdG9yKXtmb3IodmFyIGVsZW1zLHJldD1bXSxpbnNlcnQ9alF1ZXJ5KHNlbGVjdG9yKSxsYXN0PWluc2VydC5sZW5ndGgtMSxpPTA7bGFzdD49aTtpKyspZWxlbXM9aT09PWxhc3Q/dGhpczp0aGlzLmNsb25lKCEwKSxqUXVlcnkoaW5zZXJ0W2ldKVtvcmlnaW5hbF0oZWxlbXMpLHB1c2guYXBwbHkocmV0LGVsZW1zLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socmV0KX19KTt2YXIgaWZyYW1lLGVsZW1kaXNwbGF5PXt9LHJtYXJnaW49L15tYXJnaW4vLHJudW1ub25weD1uZXcgUmVnRXhwKCJeKCIrcG51bSsiKSg/IXB4KVthLXolXSskIiwiaSIpLGdldFN0eWxlcz1mdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbSxudWxsKX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gY29tcHV0ZVBpeGVsUG9zaXRpb25BbmRCb3hTaXppbmdSZWxpYWJsZSgpe2Rpdi5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjElO3RvcDoxJTtib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjRweDtwb3NpdGlvbjphYnNvbHV0ZSIsZGl2LmlubmVySFRNTD0iIixkb2NFbGVtLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7dmFyIGRpdlN0eWxlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRpdixudWxsKTtwaXhlbFBvc2l0aW9uVmFsPSIxJSIhPT1kaXZTdHlsZS50b3AsYm94U2l6aW5nUmVsaWFibGVWYWw9IjRweCI9PT1kaXZTdHlsZS53aWR0aCxkb2NFbGVtLnJlbW92ZUNoaWxkKGNvbnRhaW5lcil9dmFyIHBpeGVsUG9zaXRpb25WYWwsYm94U2l6aW5nUmVsaWFibGVWYWwsZG9jRWxlbT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkaXYuc3R5bGUmJihkaXYuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixkaXYuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwLGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZSIsY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdiksd2luZG93LmdldENvbXB1dGVkU3R5bGUmJmpRdWVyeS5leHRlbmQoc3VwcG9ydCx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBjb21wdXRlUGl4ZWxQb3NpdGlvbkFuZEJveFNpemluZ1JlbGlhYmxlKCkscGl4ZWxQb3NpdGlvblZhbH0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09Ym94U2l6aW5nUmVsaWFibGVWYWwmJmNvbXB1dGVQaXhlbFBvc2l0aW9uQW5kQm94U2l6aW5nUmVsaWFibGUoKSxib3hTaXppbmdSZWxpYWJsZVZhbH0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciByZXQsbWFyZ2luRGl2PWRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7cmV0dXJuIG1hcmdpbkRpdi5zdHlsZS5jc3NUZXh0PWRpdi5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjAiLG1hcmdpbkRpdi5zdHlsZS5tYXJnaW5SaWdodD1tYXJnaW5EaXYuc3R5bGUud2lkdGg9IjAiLGRpdi5zdHlsZS53aWR0aD0iMXB4Iixkb2NFbGVtLmFwcGVuZENoaWxkKGNvbnRhaW5lcikscmV0PSFwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG1hcmdpbkRpdixudWxsKS5tYXJnaW5SaWdodCksZG9jRWxlbS5yZW1vdmVDaGlsZChjb250YWluZXIpLHJldH19KSl9KCksalF1ZXJ5LnN3YXA9ZnVuY3Rpb24oZWxlbSxvcHRpb25zLGNhbGxiYWNrLGFyZ3Mpe3ZhciByZXQsbmFtZSxvbGQ9e307Zm9yKG5hbWUgaW4gb3B0aW9ucylvbGRbbmFtZV09ZWxlbS5zdHlsZVtuYW1lXSxlbGVtLnN0eWxlW25hbWVdPW9wdGlvbnNbbmFtZV07cmV0PWNhbGxiYWNrLmFwcGx5KGVsZW0sYXJnc3x8W10pO2ZvcihuYW1lIGluIG9wdGlvbnMpZWxlbS5zdHlsZVtuYW1lXT1vbGRbbmFtZV07cmV0dXJuIHJldH07dmFyIHJkaXNwbGF5c3dhcD0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8scm51bXNwbGl0PW5ldyBSZWdFeHAoIl4oIitwbnVtKyIpKC4qKSQiLCJpIikscnJlbE51bT1uZXcgUmVnRXhwKCJeKFsrLV0pPSgiK3BudW0rIikiLCJpIiksY3NzU2hvdz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sY3NzTm9ybWFsVHJhbnNmb3JtPXtsZXR0ZXJTcGFjaW5nOiIwIixmb250V2VpZ2h0OiI0MDAifSxjc3NQcmVmaXhlcz1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2pRdWVyeS5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZWxlbSxjb21wdXRlZCl7aWYoY29tcHV0ZWQpe3ZhciByZXQ9Y3VyQ1NTKGVsZW0sIm9wYWNpdHkiKTtyZXR1cm4iIj09PXJldD8iMSI6cmV0fX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGVsZW0sbmFtZSx2YWx1ZSxleHRyYSl7aWYoZWxlbSYmMyE9PWVsZW0ubm9kZVR5cGUmJjghPT1lbGVtLm5vZGVUeXBlJiZlbGVtLnN0eWxlKXt2YXIgcmV0LHR5cGUsaG9va3Msb3JpZ05hbWU9alF1ZXJ5LmNhbWVsQ2FzZShuYW1lKSxzdHlsZT1lbGVtLnN0eWxlO3JldHVybiBuYW1lPWpRdWVyeS5jc3NQcm9wc1tvcmlnTmFtZV18fChqUXVlcnkuY3NzUHJvcHNbb3JpZ05hbWVdPXZlbmRvclByb3BOYW1lKHN0eWxlLG9yaWdOYW1lKSksaG9va3M9alF1ZXJ5LmNzc0hvb2tzW25hbWVdfHxqUXVlcnkuY3NzSG9va3Nbb3JpZ05hbWVdLHZvaWQgMD09PXZhbHVlP2hvb2tzJiYiZ2V0ImluIGhvb2tzJiZ2b2lkIDAhPT0ocmV0PWhvb2tzLmdldChlbGVtLCExLGV4dHJhKSk/cmV0OnN0eWxlW25hbWVdOih0eXBlPXR5cGVvZiB2YWx1ZSwic3RyaW5nIj09PXR5cGUmJihyZXQ9cnJlbE51bS5leGVjKHZhbHVlKSkmJih2YWx1ZT0ocmV0WzFdKzEpKnJldFsyXStwYXJzZUZsb2F0KGpRdWVyeS5jc3MoZWxlbSxuYW1lKSksdHlwZT0ibnVtYmVyIiksbnVsbCE9dmFsdWUmJnZhbHVlPT09dmFsdWUmJigibnVtYmVyIiE9PXR5cGV8fGpRdWVyeS5jc3NOdW1iZXJbb3JpZ05hbWVdfHwodmFsdWUrPSJweCIpLHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlfHwiIiE9PXZhbHVlfHwwIT09bmFtZS5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChzdHlsZVtuYW1lXT0iaW5oZXJpdCIpLGhvb2tzJiYic2V0ImluIGhvb2tzJiZ2b2lkIDA9PT0odmFsdWU9aG9va3Muc2V0KGVsZW0sdmFsdWUsZXh0cmEpKXx8KHN0eWxlW25hbWVdPXZhbHVlKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihlbGVtLG5hbWUsZXh0cmEsc3R5bGVzKXt2YXIgdmFsLG51bSxob29rcyxvcmlnTmFtZT1qUXVlcnkuY2FtZWxDYXNlKG5hbWUpO3JldHVybiBuYW1lPWpRdWVyeS5jc3NQcm9wc1tvcmlnTmFtZV18fChqUXVlcnkuY3NzUHJvcHNbb3JpZ05hbWVdPXZlbmRvclByb3BOYW1lKGVsZW0uc3R5bGUsb3JpZ05hbWUpKSxob29rcz1qUXVlcnkuY3NzSG9va3NbbmFtZV18fGpRdWVyeS5jc3NIb29rc1tvcmlnTmFtZV0saG9va3MmJiJnZXQiaW4gaG9va3MmJih2YWw9aG9va3MuZ2V0KGVsZW0sITAsZXh0cmEpKSx2b2lkIDA9PT12YWwmJih2YWw9Y3VyQ1NTKGVsZW0sbmFtZSxzdHlsZXMpKSwibm9ybWFsIj09PXZhbCYmbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0mJih2YWw9Y3NzTm9ybWFsVHJhbnNmb3JtW25hbWVdKSwiIj09PWV4dHJhfHxleHRyYT8obnVtPXBhcnNlRmxvYXQodmFsKSxleHRyYT09PSEwfHxqUXVlcnkuaXNOdW1lcmljKG51bSk/bnVtfHwwOnZhbCk6dmFsfX0pLGpRdWVyeS5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihpLG5hbWUpe2pRdWVyeS5jc3NIb29rc1tuYW1lXT17Z2V0OmZ1bmN0aW9uKGVsZW0sY29tcHV0ZWQsZXh0cmEpe3JldHVybiBjb21wdXRlZD9yZGlzcGxheXN3YXAudGVzdChqUXVlcnkuY3NzKGVsZW0sImRpc3BsYXkiKSkmJjA9PT1lbGVtLm9mZnNldFdpZHRoP2pRdWVyeS5zd2FwKGVsZW0sY3NzU2hvdyxmdW5jdGlvbigpe3JldHVybiBnZXRXaWR0aE9ySGVpZ2h0KGVsZW0sbmFtZSxleHRyYSl9KTpnZXRXaWR0aE9ySGVpZ2h0KGVsZW0sbmFtZSxleHRyYSk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSxleHRyYSl7dmFyIHN0eWxlcz1leHRyYSYmZ2V0U3R5bGVzKGVsZW0pO3JldHVybiBzZXRQb3NpdGl2ZU51bWJlcihlbGVtLHZhbHVlLGV4dHJhP2F1Z21lbnRXaWR0aE9ySGVpZ2h0KGVsZW0sbmFtZSxleHRyYSwiYm9yZGVyLWJveCI9PT1qUXVlcnkuY3NzKGVsZW0sImJveFNpemluZyIsITEsc3R5bGVzKSxzdHlsZXMpOjApfX19KSxqUXVlcnkuY3NzSG9va3MubWFyZ2luUmlnaHQ9YWRkR2V0SG9va0lmKHN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihlbGVtLGNvbXB1dGVkKXtyZXR1cm4gY29tcHV0ZWQ/alF1ZXJ5LnN3YXAoZWxlbSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sY3VyQ1NTLFtlbGVtLCJtYXJnaW5SaWdodCJdKTp2b2lkIDB9KSxqUXVlcnkuZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKHByZWZpeCxzdWZmaXgpe2pRdWVyeS5jc3NIb29rc1twcmVmaXgrc3VmZml4XT17ZXhwYW5kOmZ1bmN0aW9uKHZhbHVlKXtmb3IodmFyIGk9MCxleHBhbmRlZD17fSxwYXJ0cz0ic3RyaW5nIj09dHlwZW9mIHZhbHVlP3ZhbHVlLnNwbGl0KCIgIik6W3ZhbHVlXTs0Pmk7aSsrKWV4cGFuZGVkW3ByZWZpeCtjc3NFeHBhbmRbaV0rc3VmZml4XT1wYXJ0c1tpXXx8cGFydHNbaS0yXXx8cGFydHNbMF07cmV0dXJuIGV4cGFuZGVkfX0scm1hcmdpbi50ZXN0KHByZWZpeCl8fChqUXVlcnkuY3NzSG9va3NbcHJlZml4K3N1ZmZpeF0uc2V0PXNldFBvc2l0aXZlTnVtYmVyKX0pLGpRdWVyeS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihuYW1lLHZhbHVlKXtyZXR1cm4gYWNjZXNzKHRoaXMsZnVuY3Rpb24oZWxlbSxuYW1lLHZhbHVlKXt2YXIgc3R5bGVzLGxlbixtYXA9e30saT0wO2lmKGpRdWVyeS5pc0FycmF5KG5hbWUpKXtmb3Ioc3R5bGVzPWdldFN0eWxlcyhlbGVtKSxsZW49bmFtZS5sZW5ndGg7bGVuPmk7aSsrKW1hcFtuYW1lW2ldXT1qUXVlcnkuY3NzKGVsZW0sbmFtZVtpXSwhMSxzdHlsZXMpO3JldHVybiBtYXB9cmV0dXJuIHZvaWQgMCE9PXZhbHVlP2pRdWVyeS5zdHlsZShlbGVtLG5hbWUsdmFsdWUpOmpRdWVyeS5jc3MoZWxlbSxuYW1lKX0sbmFtZSx2YWx1ZSxhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHNob3dIaWRlKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHNob3dIaWRlKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oc3RhdGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIHN0YXRlP3N0YXRlP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe2lzSGlkZGVuKHRoaXMpP2pRdWVyeSh0aGlzKS5zaG93KCk6alF1ZXJ5KHRoaXMpLmhpZGUoKX0pfX0pLGpRdWVyeS5Ud2Vlbj1Ud2VlbixUd2Vlbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlR3ZWVuLGluaXQ6ZnVuY3Rpb24oZWxlbSxvcHRpb25zLHByb3AsZW5kLGVhc2luZyx1bml0KXt0aGlzLmVsZW09ZWxlbSx0aGlzLnByb3A9cHJvcCx0aGlzLmVhc2luZz1lYXNpbmd8fCJzd2luZyIsdGhpcy5vcHRpb25zPW9wdGlvbnMsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWVuZCx0aGlzLnVuaXQ9dW5pdHx8KGpRdWVyeS5jc3NOdW1iZXJbcHJvcF0/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBob29rcz1Ud2Vlbi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gaG9va3MmJmhvb2tzLmdldD9ob29rcy5nZXQodGhpcyk6VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKHBlcmNlbnQpe3ZhciBlYXNlZCxob29rcz1Ud2Vlbi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9ZWFzZWQ9dGhpcy5vcHRpb25zLmR1cmF0aW9uP2pRdWVyeS5lYXNpbmdbdGhpcy5lYXNpbmddKHBlcmNlbnQsdGhpcy5vcHRpb25zLmR1cmF0aW9uKnBlcmNlbnQsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6cGVyY2VudCx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqZWFzZWQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksaG9va3MmJmhvb2tzLnNldD9ob29rcy5zZXQodGhpcyk6VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlPVR3ZWVuLnByb3RvdHlwZSxUd2Vlbi5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24odHdlZW4pe3ZhciByZXN1bHQ7cmV0dXJuIG51bGw9PXR3ZWVuLmVsZW1bdHdlZW4ucHJvcF18fHR3ZWVuLmVsZW0uc3R5bGUmJm51bGwhPXR3ZWVuLmVsZW0uc3R5bGVbdHdlZW4ucHJvcF0/KHJlc3VsdD1qUXVlcnkuY3NzKHR3ZWVuLmVsZW0sdHdlZW4ucHJvcCwiIikscmVzdWx0JiYiYXV0byIhPT1yZXN1bHQ/cmVzdWx0OjApOnR3ZWVuLmVsZW1bdHdlZW4ucHJvcF19LHNldDpmdW5jdGlvbih0d2Vlbil7alF1ZXJ5LmZ4LnN0ZXBbdHdlZW4ucHJvcF0/alF1ZXJ5LmZ4LnN0ZXBbdHdlZW4ucHJvcF0odHdlZW4pOnR3ZWVuLmVsZW0uc3R5bGUmJihudWxsIT10d2Vlbi5lbGVtLnN0eWxlW2pRdWVyeS5jc3NQcm9wc1t0d2Vlbi5wcm9wXV18fGpRdWVyeS5jc3NIb29rc1t0d2Vlbi5wcm9wXSk/alF1ZXJ5LnN0eWxlKHR3ZWVuLmVsZW0sdHdlZW4ucHJvcCx0d2Vlbi5ub3crdHdlZW4udW5pdCk6dHdlZW4uZWxlbVt0d2Vlbi5wcm9wXT10d2Vlbi5ub3d9fX0sVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcD1Ud2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKHR3ZWVuKXt0d2Vlbi5lbGVtLm5vZGVUeXBlJiZ0d2Vlbi5lbGVtLnBhcmVudE5vZGUmJih0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdPXR3ZWVuLm5vdyl9fSxqUXVlcnkuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24ocCl7cmV0dXJuIHB9LHN3aW5nOmZ1bmN0aW9uKHApe3JldHVybi41LU1hdGguY29zKHAqTWF0aC5QSSkvMn19LGpRdWVyeS5meD1Ud2Vlbi5wcm90b3R5cGUuaW5pdCxqUXVlcnkuZnguc3RlcD17fTt2YXIgZnhOb3csdGltZXJJZCxyZnh0eXBlcz0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8scmZ4bnVtPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitwbnVtKyIpKFthLXolXSopJCIsImkiKSxycnVuPS9xdWV1ZUhvb2tzJC8sYW5pbWF0aW9uUHJlZmlsdGVycz1bZGVmYXVsdFByZWZpbHRlcl0sdHdlZW5lcnM9eyIqIjpbZnVuY3Rpb24ocHJvcCx2YWx1ZSl7dmFyIHR3ZWVuPXRoaXMuY3JlYXRlVHdlZW4ocHJvcCx2YWx1ZSksdGFyZ2V0PXR3ZWVuLmN1cigpLHBhcnRzPXJmeG51bS5leGVjKHZhbHVlKSx1bml0PXBhcnRzJiZwYXJ0c1szXXx8KGpRdWVyeS5jc3NOdW1iZXJbcHJvcF0/IiI6InB4Iiksc3RhcnQ9KGpRdWVyeS5jc3NOdW1iZXJbcHJvcF18fCJweCIhPT11bml0JiYrdGFyZ2V0KSYmcmZ4bnVtLmV4ZWMoalF1ZXJ5LmNzcyh0d2Vlbi5lbGVtLHByb3ApKSxzY2FsZT0xLG1heEl0ZXJhdGlvbnM9MjA7aWYoc3RhcnQmJnN0YXJ0WzNdIT09dW5pdCl7dW5pdD11bml0fHxzdGFydFszXSxwYXJ0cz1wYXJ0c3x8W10sc3RhcnQ9K3RhcmdldHx8MTtkbyBzY2FsZT1zY2FsZXx8Ii41IixzdGFydC89c2NhbGUsalF1ZXJ5LnN0eWxlKHR3ZWVuLmVsZW0scHJvcCxzdGFydCt1bml0KTt3aGlsZShzY2FsZSE9PShzY2FsZT10d2Vlbi5jdXIoKS90YXJnZXQpJiYxIT09c2NhbGUmJi0tbWF4SXRlcmF0aW9ucyl9cmV0dXJuIHBhcnRzJiYoc3RhcnQ9dHdlZW4uc3RhcnQ9K3N0YXJ0fHwrdGFyZ2V0fHwwLHR3ZWVuLnVuaXQ9dW5pdCx0d2Vlbi5lbmQ9cGFydHNbMV0/c3RhcnQrKHBhcnRzWzFdKzEpKnBhcnRzWzJdOitwYXJ0c1syXSksdHdlZW59XX07alF1ZXJ5LkFuaW1hdGlvbj1qUXVlcnkuZXh0ZW5kKEFuaW1hdGlvbix7dHdlZW5lcjpmdW5jdGlvbihwcm9wcyxjYWxsYmFjayl7alF1ZXJ5LmlzRnVuY3Rpb24ocHJvcHMpPyhjYWxsYmFjaz1wcm9wcyxwcm9wcz1bIioiXSk6cHJvcHM9cHJvcHMuc3BsaXQoIiAiKTtmb3IodmFyIHByb3AsaW5kZXg9MCxsZW5ndGg9cHJvcHMubGVuZ3RoO2xlbmd0aD5pbmRleDtpbmRleCsrKXByb3A9cHJvcHNbaW5kZXhdLHR3ZWVuZXJzW3Byb3BdPXR3ZWVuZXJzW3Byb3BdfHxbXSx0d2VlbmVyc1twcm9wXS51bnNoaWZ0KGNhbGxiYWNrKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGNhbGxiYWNrLHByZXBlbmQpe3ByZXBlbmQ/YW5pbWF0aW9uUHJlZmlsdGVycy51bnNoaWZ0KGNhbGxiYWNrKTphbmltYXRpb25QcmVmaWx0ZXJzLnB1c2goY2FsbGJhY2spfX0pLGpRdWVyeS5zcGVlZD1mdW5jdGlvbihzcGVlZCxlYXNpbmcsZm4pe3ZhciBvcHQ9c3BlZWQmJiJvYmplY3QiPT10eXBlb2Ygc3BlZWQ/alF1ZXJ5LmV4dGVuZCh7fSxzcGVlZCk6e2NvbXBsZXRlOmZufHwhZm4mJmVhc2luZ3x8alF1ZXJ5LmlzRnVuY3Rpb24oc3BlZWQpJiZzcGVlZCxkdXJhdGlvbjpzcGVlZCxlYXNpbmc6Zm4mJmVhc2luZ3x8ZWFzaW5nJiYhalF1ZXJ5LmlzRnVuY3Rpb24oZWFzaW5nKSYmZWFzaW5nfTtyZXR1cm4gb3B0LmR1cmF0aW9uPWpRdWVyeS5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIG9wdC5kdXJhdGlvbj9vcHQuZHVyYXRpb246b3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHM/alF1ZXJ5LmZ4LnNwZWVkc1tvcHQuZHVyYXRpb25dOmpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PW9wdC5xdWV1ZXx8b3B0LnF1ZXVlPT09ITApJiYob3B0LnF1ZXVlPSJmeCIpLG9wdC5vbGQ9b3B0LmNvbXBsZXRlLG9wdC5jb21wbGV0ZT1mdW5jdGlvbigpe2pRdWVyeS5pc0Z1bmN0aW9uKG9wdC5vbGQpJiZvcHQub2xkLmNhbGwodGhpcyksb3B0LnF1ZXVlJiZqUXVlcnkuZGVxdWV1ZSh0aGlzLG9wdC5xdWV1ZSkKfSxvcHR9LGpRdWVyeS5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihzcGVlZCx0byxlYXNpbmcsY2FsbGJhY2spe3JldHVybiB0aGlzLmZpbHRlcihpc0hpZGRlbikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0b30sc3BlZWQsZWFzaW5nLGNhbGxiYWNrKX0sYW5pbWF0ZTpmdW5jdGlvbihwcm9wLHNwZWVkLGVhc2luZyxjYWxsYmFjayl7dmFyIGVtcHR5PWpRdWVyeS5pc0VtcHR5T2JqZWN0KHByb3ApLG9wdGFsbD1qUXVlcnkuc3BlZWQoc3BlZWQsZWFzaW5nLGNhbGxiYWNrKSxkb0FuaW1hdGlvbj1mdW5jdGlvbigpe3ZhciBhbmltPUFuaW1hdGlvbih0aGlzLGpRdWVyeS5leHRlbmQoe30scHJvcCksb3B0YWxsKTsoZW1wdHl8fGRhdGFfcHJpdi5nZXQodGhpcywiZmluaXNoIikpJiZhbmltLnN0b3AoITApfTtyZXR1cm4gZG9BbmltYXRpb24uZmluaXNoPWRvQW5pbWF0aW9uLGVtcHR5fHxvcHRhbGwucXVldWU9PT0hMT90aGlzLmVhY2goZG9BbmltYXRpb24pOnRoaXMucXVldWUob3B0YWxsLnF1ZXVlLGRvQW5pbWF0aW9uKX0sc3RvcDpmdW5jdGlvbih0eXBlLGNsZWFyUXVldWUsZ290b0VuZCl7dmFyIHN0b3BRdWV1ZT1mdW5jdGlvbihob29rcyl7dmFyIHN0b3A9aG9va3Muc3RvcDtkZWxldGUgaG9va3Muc3RvcCxzdG9wKGdvdG9FbmQpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR5cGUmJihnb3RvRW5kPWNsZWFyUXVldWUsY2xlYXJRdWV1ZT10eXBlLHR5cGU9dm9pZCAwKSxjbGVhclF1ZXVlJiZ0eXBlIT09ITEmJnRoaXMucXVldWUodHlwZXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGRlcXVldWU9ITAsaW5kZXg9bnVsbCE9dHlwZSYmdHlwZSsicXVldWVIb29rcyIsdGltZXJzPWpRdWVyeS50aW1lcnMsZGF0YT1kYXRhX3ByaXYuZ2V0KHRoaXMpO2lmKGluZGV4KWRhdGFbaW5kZXhdJiZkYXRhW2luZGV4XS5zdG9wJiZzdG9wUXVldWUoZGF0YVtpbmRleF0pO2Vsc2UgZm9yKGluZGV4IGluIGRhdGEpZGF0YVtpbmRleF0mJmRhdGFbaW5kZXhdLnN0b3AmJnJydW4udGVzdChpbmRleCkmJnN0b3BRdWV1ZShkYXRhW2luZGV4XSk7Zm9yKGluZGV4PXRpbWVycy5sZW5ndGg7aW5kZXgtLTspdGltZXJzW2luZGV4XS5lbGVtIT09dGhpc3x8bnVsbCE9dHlwZSYmdGltZXJzW2luZGV4XS5xdWV1ZSE9PXR5cGV8fCh0aW1lcnNbaW5kZXhdLmFuaW0uc3RvcChnb3RvRW5kKSxkZXF1ZXVlPSExLHRpbWVycy5zcGxpY2UoaW5kZXgsMSkpOyhkZXF1ZXVlfHwhZ290b0VuZCkmJmpRdWVyeS5kZXF1ZXVlKHRoaXMsdHlwZSl9KX0sZmluaXNoOmZ1bmN0aW9uKHR5cGUpe3JldHVybiB0eXBlIT09ITEmJih0eXBlPXR5cGV8fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpbmRleCxkYXRhPWRhdGFfcHJpdi5nZXQodGhpcykscXVldWU9ZGF0YVt0eXBlKyJxdWV1ZSJdLGhvb2tzPWRhdGFbdHlwZSsicXVldWVIb29rcyJdLHRpbWVycz1qUXVlcnkudGltZXJzLGxlbmd0aD1xdWV1ZT9xdWV1ZS5sZW5ndGg6MDtmb3IoZGF0YS5maW5pc2g9ITAsalF1ZXJ5LnF1ZXVlKHRoaXMsdHlwZSxbXSksaG9va3MmJmhvb2tzLnN0b3AmJmhvb2tzLnN0b3AuY2FsbCh0aGlzLCEwKSxpbmRleD10aW1lcnMubGVuZ3RoO2luZGV4LS07KXRpbWVyc1tpbmRleF0uZWxlbT09PXRoaXMmJnRpbWVyc1tpbmRleF0ucXVldWU9PT10eXBlJiYodGltZXJzW2luZGV4XS5hbmltLnN0b3AoITApLHRpbWVycy5zcGxpY2UoaW5kZXgsMSkpO2ZvcihpbmRleD0wO2xlbmd0aD5pbmRleDtpbmRleCsrKXF1ZXVlW2luZGV4XSYmcXVldWVbaW5kZXhdLmZpbmlzaCYmcXVldWVbaW5kZXhdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBkYXRhLmZpbmlzaH0pfX0pLGpRdWVyeS5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihpLG5hbWUpe3ZhciBjc3NGbj1qUXVlcnkuZm5bbmFtZV07alF1ZXJ5LmZuW25hbWVdPWZ1bmN0aW9uKHNwZWVkLGVhc2luZyxjYWxsYmFjayl7cmV0dXJuIG51bGw9PXNwZWVkfHwiYm9vbGVhbiI9PXR5cGVvZiBzcGVlZD9jc3NGbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGdlbkZ4KG5hbWUsITApLHNwZWVkLGVhc2luZyxjYWxsYmFjayl9fSksalF1ZXJ5LmVhY2goe3NsaWRlRG93bjpnZW5GeCgic2hvdyIpLHNsaWRlVXA6Z2VuRngoImhpZGUiKSxzbGlkZVRvZ2dsZTpnZW5GeCgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihuYW1lLHByb3BzKXtqUXVlcnkuZm5bbmFtZV09ZnVuY3Rpb24oc3BlZWQsZWFzaW5nLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5hbmltYXRlKHByb3BzLHNwZWVkLGVhc2luZyxjYWxsYmFjayl9fSksalF1ZXJ5LnRpbWVycz1bXSxqUXVlcnkuZngudGljaz1mdW5jdGlvbigpe3ZhciB0aW1lcixpPTAsdGltZXJzPWpRdWVyeS50aW1lcnM7Zm9yKGZ4Tm93PWpRdWVyeS5ub3coKTtpPHRpbWVycy5sZW5ndGg7aSsrKXRpbWVyPXRpbWVyc1tpXSx0aW1lcigpfHx0aW1lcnNbaV0hPT10aW1lcnx8dGltZXJzLnNwbGljZShpLS0sMSk7dGltZXJzLmxlbmd0aHx8alF1ZXJ5LmZ4LnN0b3AoKSxmeE5vdz12b2lkIDB9LGpRdWVyeS5meC50aW1lcj1mdW5jdGlvbih0aW1lcil7alF1ZXJ5LnRpbWVycy5wdXNoKHRpbWVyKSx0aW1lcigpP2pRdWVyeS5meC5zdGFydCgpOmpRdWVyeS50aW1lcnMucG9wKCl9LGpRdWVyeS5meC5pbnRlcnZhbD0xMyxqUXVlcnkuZnguc3RhcnQ9ZnVuY3Rpb24oKXt0aW1lcklkfHwodGltZXJJZD1zZXRJbnRlcnZhbChqUXVlcnkuZngudGljayxqUXVlcnkuZnguaW50ZXJ2YWwpKX0salF1ZXJ5LmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRpbWVySWQpLHRpbWVySWQ9bnVsbH0salF1ZXJ5LmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxqUXVlcnkuZm4uZGVsYXk9ZnVuY3Rpb24odGltZSx0eXBlKXtyZXR1cm4gdGltZT1qUXVlcnkuZng/alF1ZXJ5LmZ4LnNwZWVkc1t0aW1lXXx8dGltZTp0aW1lLHR5cGU9dHlwZXx8ImZ4Iix0aGlzLnF1ZXVlKHR5cGUsZnVuY3Rpb24obmV4dCxob29rcyl7dmFyIHRpbWVvdXQ9c2V0VGltZW91dChuZXh0LHRpbWUpO2hvb2tzLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZW91dCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGlucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksc2VsZWN0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLG9wdD1zZWxlY3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2lucHV0LnR5cGU9ImNoZWNrYm94IixzdXBwb3J0LmNoZWNrT249IiIhPT1pbnB1dC52YWx1ZSxzdXBwb3J0Lm9wdFNlbGVjdGVkPW9wdC5zZWxlY3RlZCxzZWxlY3QuZGlzYWJsZWQ9ITAsc3VwcG9ydC5vcHREaXNhYmxlZD0hb3B0LmRpc2FibGVkLGlucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksaW5wdXQudmFsdWU9InQiLGlucHV0LnR5cGU9InJhZGlvIixzdXBwb3J0LnJhZGlvVmFsdWU9InQiPT09aW5wdXQudmFsdWV9KCk7dmFyIG5vZGVIb29rLGJvb2xIb29rLGF0dHJIYW5kbGU9alF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtqUXVlcnkuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3JldHVybiBhY2Nlc3ModGhpcyxqUXVlcnkuYXR0cixuYW1lLHZhbHVlLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS5yZW1vdmVBdHRyKHRoaXMsbmFtZSl9KX19KSxqUXVlcnkuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGVsZW0sbmFtZSx2YWx1ZSl7dmFyIGhvb2tzLHJldCxuVHlwZT1lbGVtLm5vZGVUeXBlO2lmKGVsZW0mJjMhPT1uVHlwZSYmOCE9PW5UeXBlJiYyIT09blR5cGUpcmV0dXJuIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZT09PXN0cnVuZGVmaW5lZD9qUXVlcnkucHJvcChlbGVtLG5hbWUsdmFsdWUpOigxPT09blR5cGUmJmpRdWVyeS5pc1hNTERvYyhlbGVtKXx8KG5hbWU9bmFtZS50b0xvd2VyQ2FzZSgpLGhvb2tzPWpRdWVyeS5hdHRySG9va3NbbmFtZV18fChqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QobmFtZSk/Ym9vbEhvb2s6bm9kZUhvb2spKSx2b2lkIDA9PT12YWx1ZT9ob29rcyYmImdldCJpbiBob29rcyYmbnVsbCE9PShyZXQ9aG9va3MuZ2V0KGVsZW0sbmFtZSkpP3JldDoocmV0PWpRdWVyeS5maW5kLmF0dHIoZWxlbSxuYW1lKSxudWxsPT1yZXQ/dm9pZCAwOnJldCk6bnVsbCE9PXZhbHVlP2hvb2tzJiYic2V0ImluIGhvb2tzJiZ2b2lkIDAhPT0ocmV0PWhvb2tzLnNldChlbGVtLHZhbHVlLG5hbWUpKT9yZXQ6KGVsZW0uc2V0QXR0cmlidXRlKG5hbWUsdmFsdWUrIiIpLHZhbHVlKTp2b2lkIGpRdWVyeS5yZW1vdmVBdHRyKGVsZW0sbmFtZSkpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGVsZW0sdmFsdWUpe3ZhciBuYW1lLHByb3BOYW1lLGk9MCxhdHRyTmFtZXM9dmFsdWUmJnZhbHVlLm1hdGNoKHJub3R3aGl0ZSk7aWYoYXR0ck5hbWVzJiYxPT09ZWxlbS5ub2RlVHlwZSlmb3IoO25hbWU9YXR0ck5hbWVzW2krK107KXByb3BOYW1lPWpRdWVyeS5wcm9wRml4W25hbWVdfHxuYW1lLGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdChuYW1lKSYmKGVsZW1bcHJvcE5hbWVdPSExKSxlbGVtLnJlbW92ZUF0dHJpYnV0ZShuYW1lKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSl7aWYoIXN1cHBvcnQucmFkaW9WYWx1ZSYmInJhZGlvIj09PXZhbHVlJiZqUXVlcnkubm9kZU5hbWUoZWxlbSwiaW5wdXQiKSl7dmFyIHZhbD1lbGVtLnZhbHVlO3JldHVybiBlbGVtLnNldEF0dHJpYnV0ZSgidHlwZSIsdmFsdWUpLHZhbCYmKGVsZW0udmFsdWU9dmFsKSx2YWx1ZX19fX19KSxib29sSG9vaz17c2V0OmZ1bmN0aW9uKGVsZW0sdmFsdWUsbmFtZSl7cmV0dXJuIHZhbHVlPT09ITE/alF1ZXJ5LnJlbW92ZUF0dHIoZWxlbSxuYW1lKTplbGVtLnNldEF0dHJpYnV0ZShuYW1lLG5hbWUpLG5hbWV9fSxqUXVlcnkuZWFjaChqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGksbmFtZSl7dmFyIGdldHRlcj1hdHRySGFuZGxlW25hbWVdfHxqUXVlcnkuZmluZC5hdHRyO2F0dHJIYW5kbGVbbmFtZV09ZnVuY3Rpb24oZWxlbSxuYW1lLGlzWE1MKXt2YXIgcmV0LGhhbmRsZTtyZXR1cm4gaXNYTUx8fChoYW5kbGU9YXR0ckhhbmRsZVtuYW1lXSxhdHRySGFuZGxlW25hbWVdPXJldCxyZXQ9bnVsbCE9Z2V0dGVyKGVsZW0sbmFtZSxpc1hNTCk/bmFtZS50b0xvd2VyQ2FzZSgpOm51bGwsYXR0ckhhbmRsZVtuYW1lXT1oYW5kbGUpLHJldH19KTt2YXIgcmZvY3VzYWJsZT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO2pRdWVyeS5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7cmV0dXJuIGFjY2Vzcyh0aGlzLGpRdWVyeS5wcm9wLG5hbWUsdmFsdWUsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihuYW1lKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbalF1ZXJ5LnByb3BGaXhbbmFtZV18fG5hbWVdfSl9fSksalF1ZXJ5LmV4dGVuZCh7cHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9LHByb3A6ZnVuY3Rpb24oZWxlbSxuYW1lLHZhbHVlKXt2YXIgcmV0LGhvb2tzLG5vdHhtbCxuVHlwZT1lbGVtLm5vZGVUeXBlO2lmKGVsZW0mJjMhPT1uVHlwZSYmOCE9PW5UeXBlJiYyIT09blR5cGUpcmV0dXJuIG5vdHhtbD0xIT09blR5cGV8fCFqUXVlcnkuaXNYTUxEb2MoZWxlbSksbm90eG1sJiYobmFtZT1qUXVlcnkucHJvcEZpeFtuYW1lXXx8bmFtZSxob29rcz1qUXVlcnkucHJvcEhvb2tzW25hbWVdKSx2b2lkIDAhPT12YWx1ZT9ob29rcyYmInNldCJpbiBob29rcyYmdm9pZCAwIT09KHJldD1ob29rcy5zZXQoZWxlbSx2YWx1ZSxuYW1lKSk/cmV0OmVsZW1bbmFtZV09dmFsdWU6aG9va3MmJiJnZXQiaW4gaG9va3MmJm51bGwhPT0ocmV0PWhvb2tzLmdldChlbGVtLG5hbWUpKT9yZXQ6ZWxlbVtuYW1lXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLmhhc0F0dHJpYnV0ZSgidGFiaW5kZXgiKXx8cmZvY3VzYWJsZS50ZXN0KGVsZW0ubm9kZU5hbWUpfHxlbGVtLmhyZWY/ZWxlbS50YWJJbmRleDotMX19fX0pLHN1cHBvcnQub3B0U2VsZWN0ZWR8fChqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZWxlbSl7dmFyIHBhcmVudD1lbGVtLnBhcmVudE5vZGU7cmV0dXJuIHBhcmVudCYmcGFyZW50LnBhcmVudE5vZGUmJnBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH19KSxqUXVlcnkuZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7alF1ZXJ5LnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIHJjbGFzcz0vW1x0XHJcblxmXS9nO2pRdWVyeS5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHZhbHVlKXt2YXIgY2xhc3NlcyxlbGVtLGN1cixjbGF6eixqLGZpbmFsVmFsdWUscHJvY2VlZD0ic3RyaW5nIj09dHlwZW9mIHZhbHVlJiZ2YWx1ZSxpPTAsbGVuPXRoaXMubGVuZ3RoO2lmKGpRdWVyeS5pc0Z1bmN0aW9uKHZhbHVlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGope2pRdWVyeSh0aGlzKS5hZGRDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsaix0aGlzLmNsYXNzTmFtZSkpfSk7aWYocHJvY2VlZClmb3IoY2xhc3Nlcz0odmFsdWV8fCIiKS5tYXRjaChybm90d2hpdGUpfHxbXTtsZW4+aTtpKyspaWYoZWxlbT10aGlzW2ldLGN1cj0xPT09ZWxlbS5ub2RlVHlwZSYmKGVsZW0uY2xhc3NOYW1lPygiICIrZWxlbS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHJjbGFzcywiICIpOiIgIikpe2ZvcihqPTA7Y2xheno9Y2xhc3Nlc1tqKytdOyljdXIuaW5kZXhPZigiICIrY2xhenorIiAiKTwwJiYoY3VyKz1jbGF6eisiICIpO2ZpbmFsVmFsdWU9alF1ZXJ5LnRyaW0oY3VyKSxlbGVtLmNsYXNzTmFtZSE9PWZpbmFsVmFsdWUmJihlbGVtLmNsYXNzTmFtZT1maW5hbFZhbHVlKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odmFsdWUpe3ZhciBjbGFzc2VzLGVsZW0sY3VyLGNsYXp6LGosZmluYWxWYWx1ZSxwcm9jZWVkPTA9PT1hcmd1bWVudHMubGVuZ3RofHwic3RyaW5nIj09dHlwZW9mIHZhbHVlJiZ2YWx1ZSxpPTAsbGVuPXRoaXMubGVuZ3RoO2lmKGpRdWVyeS5pc0Z1bmN0aW9uKHZhbHVlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGope2pRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsaix0aGlzLmNsYXNzTmFtZSkpfSk7aWYocHJvY2VlZClmb3IoY2xhc3Nlcz0odmFsdWV8fCIiKS5tYXRjaChybm90d2hpdGUpfHxbXTtsZW4+aTtpKyspaWYoZWxlbT10aGlzW2ldLGN1cj0xPT09ZWxlbS5ub2RlVHlwZSYmKGVsZW0uY2xhc3NOYW1lPygiICIrZWxlbS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHJjbGFzcywiICIpOiIiKSl7Zm9yKGo9MDtjbGF6ej1jbGFzc2VzW2orK107KWZvcig7Y3VyLmluZGV4T2YoIiAiK2NsYXp6KyIgIik+PTA7KWN1cj1jdXIucmVwbGFjZSgiICIrY2xhenorIiAiLCIgIik7ZmluYWxWYWx1ZT12YWx1ZT9qUXVlcnkudHJpbShjdXIpOiIiLGVsZW0uY2xhc3NOYW1lIT09ZmluYWxWYWx1ZSYmKGVsZW0uY2xhc3NOYW1lPWZpbmFsVmFsdWUpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbih2YWx1ZSxzdGF0ZVZhbCl7dmFyIHR5cGU9dHlwZW9mIHZhbHVlO3JldHVybiJib29sZWFuIj09dHlwZW9mIHN0YXRlVmFsJiYic3RyaW5nIj09PXR5cGU/c3RhdGVWYWw/dGhpcy5hZGRDbGFzcyh2YWx1ZSk6dGhpcy5yZW1vdmVDbGFzcyh2YWx1ZSk6dGhpcy5lYWNoKGpRdWVyeS5pc0Z1bmN0aW9uKHZhbHVlKT9mdW5jdGlvbihpKXtqUXVlcnkodGhpcykudG9nZ2xlQ2xhc3ModmFsdWUuY2FsbCh0aGlzLGksdGhpcy5jbGFzc05hbWUsc3RhdGVWYWwpLHN0YXRlVmFsKX06ZnVuY3Rpb24oKXtpZigic3RyaW5nIj09PXR5cGUpZm9yKHZhciBjbGFzc05hbWUsaT0wLHNlbGY9alF1ZXJ5KHRoaXMpLGNsYXNzTmFtZXM9dmFsdWUubWF0Y2gocm5vdHdoaXRlKXx8W107Y2xhc3NOYW1lPWNsYXNzTmFtZXNbaSsrXTspc2VsZi5oYXNDbGFzcyhjbGFzc05hbWUpP3NlbGYucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTpzZWxmLmFkZENsYXNzKGNsYXNzTmFtZSk7ZWxzZSh0eXBlPT09c3RydW5kZWZpbmVkfHwiYm9vbGVhbiI9PT10eXBlKSYmKHRoaXMuY2xhc3NOYW1lJiZkYXRhX3ByaXYuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8dmFsdWU9PT0hMT8iIjpkYXRhX3ByaXYuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKHNlbGVjdG9yKXtmb3IodmFyIGNsYXNzTmFtZT0iICIrc2VsZWN0b3IrIiAiLGk9MCxsPXRoaXMubGVuZ3RoO2w+aTtpKyspaWYoMT09PXRoaXNbaV0ubm9kZVR5cGUmJigiICIrdGhpc1tpXS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHJjbGFzcywiICIpLmluZGV4T2YoY2xhc3NOYW1lKT49MClyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgcnJldHVybj0vXHIvZztqUXVlcnkuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24odmFsdWUpe3ZhciBob29rcyxyZXQsaXNGdW5jdGlvbixlbGVtPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGlzRnVuY3Rpb249alF1ZXJ5LmlzRnVuY3Rpb24odmFsdWUpLHRoaXMuZWFjaChmdW5jdGlvbihpKXt2YXIgdmFsOzE9PT10aGlzLm5vZGVUeXBlJiYodmFsPWlzRnVuY3Rpb24/dmFsdWUuY2FsbCh0aGlzLGksalF1ZXJ5KHRoaXMpLnZhbCgpKTp2YWx1ZSxudWxsPT12YWw/dmFsPSIiOiJudW1iZXIiPT10eXBlb2YgdmFsP3ZhbCs9IiI6alF1ZXJ5LmlzQXJyYXkodmFsKSYmKHZhbD1qUXVlcnkubWFwKHZhbCxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIG51bGw9PXZhbHVlPyIiOnZhbHVlKyIifSkpLGhvb2tzPWpRdWVyeS52YWxIb29rc1t0aGlzLnR5cGVdfHxqUXVlcnkudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxob29rcyYmInNldCJpbiBob29rcyYmdm9pZCAwIT09aG9va3Muc2V0KHRoaXMsdmFsLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT12YWwpKX0pO2lmKGVsZW0pcmV0dXJuIGhvb2tzPWpRdWVyeS52YWxIb29rc1tlbGVtLnR5cGVdfHxqUXVlcnkudmFsSG9va3NbZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxob29rcyYmImdldCJpbiBob29rcyYmdm9pZCAwIT09KHJldD1ob29rcy5nZXQoZWxlbSwidmFsdWUiKSk/cmV0OihyZXQ9ZWxlbS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIHJldD9yZXQucmVwbGFjZShycmV0dXJuLCIiKTpudWxsPT1yZXQ/IiI6cmV0KX19fSksalF1ZXJ5LmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGVsZW0pe3ZhciB2YWw9alF1ZXJ5LmZpbmQuYXR0cihlbGVtLCJ2YWx1ZSIpO3JldHVybiBudWxsIT12YWw/dmFsOmpRdWVyeS50cmltKGpRdWVyeS50ZXh0KGVsZW0pKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGVsZW0pe2Zvcih2YXIgdmFsdWUsb3B0aW9uLG9wdGlvbnM9ZWxlbS5vcHRpb25zLGluZGV4PWVsZW0uc2VsZWN0ZWRJbmRleCxvbmU9InNlbGVjdC1vbmUiPT09ZWxlbS50eXBlfHwwPmluZGV4LHZhbHVlcz1vbmU/bnVsbDpbXSxtYXg9b25lP2luZGV4KzE6b3B0aW9ucy5sZW5ndGgsaT0wPmluZGV4P21heDpvbmU/aW5kZXg6MDttYXg+aTtpKyspaWYob3B0aW9uPW9wdGlvbnNbaV0sISghb3B0aW9uLnNlbGVjdGVkJiZpIT09aW5kZXh8fChzdXBwb3J0Lm9wdERpc2FibGVkP29wdGlvbi5kaXNhYmxlZDpudWxsIT09b3B0aW9uLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKSl8fG9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkJiZqUXVlcnkubm9kZU5hbWUob3B0aW9uLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih2YWx1ZT1qUXVlcnkob3B0aW9uKS52YWwoKSxvbmUpcmV0dXJuIHZhbHVlO3ZhbHVlcy5wdXNoKHZhbHVlKX1yZXR1cm4gdmFsdWVzfSxzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSl7Zm9yKHZhciBvcHRpb25TZXQsb3B0aW9uLG9wdGlvbnM9ZWxlbS5vcHRpb25zLHZhbHVlcz1qUXVlcnkubWFrZUFycmF5KHZhbHVlKSxpPW9wdGlvbnMubGVuZ3RoO2ktLTspb3B0aW9uPW9wdGlvbnNbaV0sKG9wdGlvbi5zZWxlY3RlZD1qUXVlcnkuaW5BcnJheShvcHRpb24udmFsdWUsdmFsdWVzKT49MCkmJihvcHRpb25TZXQ9ITApO3JldHVybiBvcHRpb25TZXR8fChlbGVtLnNlbGVjdGVkSW5kZXg9LTEpLHZhbHVlc319fX0pLGpRdWVyeS5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7alF1ZXJ5LnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSl7cmV0dXJuIGpRdWVyeS5pc0FycmF5KHZhbHVlKT9lbGVtLmNoZWNrZWQ9alF1ZXJ5LmluQXJyYXkoalF1ZXJ5KGVsZW0pLnZhbCgpLHZhbHVlKT49MDp2b2lkIDB9fSxzdXBwb3J0LmNoZWNrT258fChqUXVlcnkudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGVsZW0pe3JldHVybiBudWxsPT09ZWxlbS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplbGVtLnZhbHVlfSl9KSxqUXVlcnkuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihpLG5hbWUpe2pRdWVyeS5mbltuYW1lXT1mdW5jdGlvbihkYXRhLGZuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24obmFtZSxudWxsLGRhdGEsZm4pOnRoaXMudHJpZ2dlcihuYW1lKX19KSxqUXVlcnkuZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihmbk92ZXIsZm5PdXQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZm5PdmVyKS5tb3VzZWxlYXZlKGZuT3V0fHxmbk92ZXIpfSxiaW5kOmZ1bmN0aW9uKHR5cGVzLGRhdGEsZm4pe3JldHVybiB0aGlzLm9uKHR5cGVzLG51bGwsZGF0YSxmbil9LHVuYmluZDpmdW5jdGlvbih0eXBlcyxmbil7cmV0dXJuIHRoaXMub2ZmKHR5cGVzLG51bGwsZm4pfSxkZWxlZ2F0ZTpmdW5jdGlvbihzZWxlY3Rvcix0eXBlcyxkYXRhLGZuKXtyZXR1cm4gdGhpcy5vbih0eXBlcyxzZWxlY3RvcixkYXRhLGZuKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihzZWxlY3Rvcix0eXBlcyxmbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKHNlbGVjdG9yLCIqKiIpOnRoaXMub2ZmKHR5cGVzLHNlbGVjdG9yfHwiKioiLGZuKX19KTt2YXIgbm9uY2U9alF1ZXJ5Lm5vdygpLHJxdWVyeT0vXD8vO2pRdWVyeS5wYXJzZUpTT049ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIEpTT04ucGFyc2UoZGF0YSsiIil9LGpRdWVyeS5wYXJzZVhNTD1mdW5jdGlvbihkYXRhKXt2YXIgeG1sLHRtcDtpZighZGF0YXx8InN0cmluZyIhPXR5cGVvZiBkYXRhKXJldHVybiBudWxsO3RyeXt0bXA9bmV3IERPTVBhcnNlcix4bWw9dG1wLnBhcnNlRnJvbVN0cmluZyhkYXRhLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe3htbD12b2lkIDB9cmV0dXJuKCF4bWx8fHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZqUXVlcnkuZXJyb3IoIkludmFsaWQgWE1MOiAiK2RhdGEpLHhtbH07dmFyIGFqYXhMb2NQYXJ0cyxhamF4TG9jYXRpb24scmhhc2g9LyMuKiQvLHJ0cz0vKFs/Jl0pXz1bXiZdKi8scmhlYWRlcnM9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxybG9jYWxQcm90b2NvbD0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxybm9Db250ZW50PS9eKD86R0VUfEhFQUQpJC8scnByb3RvY29sPS9eXC9cLy8scnVybD0vXihbXHcuKy1dKzopKD86XC9cLyg/OlteXC8/I10qQHwpKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxwcmVmaWx0ZXJzPXt9LHRyYW5zcG9ydHM9e30sYWxsVHlwZXM9IiovIi5jb25jYXQoIioiKTt0cnl7YWpheExvY2F0aW9uPWxvY2F0aW9uLmhyZWZ9Y2F0Y2goZSl7YWpheExvY2F0aW9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxhamF4TG9jYXRpb24uaHJlZj0iIixhamF4TG9jYXRpb249YWpheExvY2F0aW9uLmhyZWZ9YWpheExvY1BhcnRzPXJ1cmwuZXhlYyhhamF4TG9jYXRpb24udG9Mb3dlckNhc2UoKSl8fFtdLGpRdWVyeS5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmFqYXhMb2NhdGlvbix0eXBlOiJHRVQiLGlzTG9jYWw6cmxvY2FsUHJvdG9jb2wudGVzdChhamF4TG9jUGFydHNbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6YWxsVHlwZXMsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpqUXVlcnkucGFyc2VKU09OLCJ0ZXh0IHhtbCI6alF1ZXJ5LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24odGFyZ2V0LHNldHRpbmdzKXtyZXR1cm4gc2V0dGluZ3M/YWpheEV4dGVuZChhamF4RXh0ZW5kKHRhcmdldCxqUXVlcnkuYWpheFNldHRpbmdzKSxzZXR0aW5ncyk6YWpheEV4dGVuZChqUXVlcnkuYWpheFNldHRpbmdzLHRhcmdldCl9LGFqYXhQcmVmaWx0ZXI6YWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHByZWZpbHRlcnMpLGFqYXhUcmFuc3BvcnQ6YWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHRyYW5zcG9ydHMpLGFqYXg6ZnVuY3Rpb24odXJsLG9wdGlvbnMpe2Z1bmN0aW9uIGRvbmUoc3RhdHVzLG5hdGl2ZVN0YXR1c1RleHQscmVzcG9uc2VzLGhlYWRlcnMpe3ZhciBpc1N1Y2Nlc3Msc3VjY2VzcyxlcnJvcixyZXNwb25zZSxtb2RpZmllZCxzdGF0dXNUZXh0PW5hdGl2ZVN0YXR1c1RleHQ7MiE9PXN0YXRlJiYoc3RhdGU9Mix0aW1lb3V0VGltZXImJmNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpLHRyYW5zcG9ydD12b2lkIDAscmVzcG9uc2VIZWFkZXJzU3RyaW5nPWhlYWRlcnN8fCIiLGpxWEhSLnJlYWR5U3RhdGU9c3RhdHVzPjA/NDowLGlzU3VjY2Vzcz1zdGF0dXM+PTIwMCYmMzAwPnN0YXR1c3x8MzA0PT09c3RhdHVzLHJlc3BvbnNlcyYmKHJlc3BvbnNlPWFqYXhIYW5kbGVSZXNwb25zZXMocyxqcVhIUixyZXNwb25zZXMpKSxyZXNwb25zZT1hamF4Q29udmVydChzLHJlc3BvbnNlLGpxWEhSLGlzU3VjY2VzcyksaXNTdWNjZXNzPyhzLmlmTW9kaWZpZWQmJihtb2RpZmllZD1qcVhIUi5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLG1vZGlmaWVkJiYoalF1ZXJ5Lmxhc3RNb2RpZmllZFtjYWNoZVVSTF09bW9kaWZpZWQpLG1vZGlmaWVkPWpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIiksbW9kaWZpZWQmJihqUXVlcnkuZXRhZ1tjYWNoZVVSTF09bW9kaWZpZWQpKSwyMDQ9PT1zdGF0dXN8fCJIRUFEIj09PXMudHlwZT9zdGF0dXNUZXh0PSJub2NvbnRlbnQiOjMwND09PXN0YXR1cz9zdGF0dXNUZXh0PSJub3Rtb2RpZmllZCI6KHN0YXR1c1RleHQ9cmVzcG9uc2Uuc3RhdGUsc3VjY2Vzcz1yZXNwb25zZS5kYXRhLGVycm9yPXJlc3BvbnNlLmVycm9yLGlzU3VjY2Vzcz0hZXJyb3IpKTooZXJyb3I9c3RhdHVzVGV4dCwoc3RhdHVzfHwhc3RhdHVzVGV4dCkmJihzdGF0dXNUZXh0PSJlcnJvciIsMD5zdGF0dXMmJihzdGF0dXM9MCkpKSxqcVhIUi5zdGF0dXM9c3RhdHVzLGpxWEhSLnN0YXR1c1RleHQ9KG5hdGl2ZVN0YXR1c1RleHR8fHN0YXR1c1RleHQpKyIiLGlzU3VjY2Vzcz9kZWZlcnJlZC5yZXNvbHZlV2l0aChjYWxsYmFja0NvbnRleHQsW3N1Y2Nlc3Msc3RhdHVzVGV4dCxqcVhIUl0pOmRlZmVycmVkLnJlamVjdFdpdGgoY2FsbGJhY2tDb250ZXh0LFtqcVhIUixzdGF0dXNUZXh0LGVycm9yXSksanFYSFIuc3RhdHVzQ29kZShzdGF0dXNDb2RlKSxzdGF0dXNDb2RlPXZvaWQgMCxmaXJlR2xvYmFscyYmZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoaXNTdWNjZXNzPyJhamF4U3VjY2VzcyI6ImFqYXhFcnJvciIsW2pxWEhSLHMsaXNTdWNjZXNzP3N1Y2Nlc3M6ZXJyb3JdKSxjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKGNhbGxiYWNrQ29udGV4dCxbanFYSFIsc3RhdHVzVGV4dF0pLGZpcmVHbG9iYWxzJiYoZ2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW2pxWEhSLHNdKSwtLWpRdWVyeS5hY3RpdmV8fGpRdWVyeS5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSl9Im9iamVjdCI9PXR5cGVvZiB1cmwmJihvcHRpb25zPXVybCx1cmw9dm9pZCAwKSxvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciB0cmFuc3BvcnQsY2FjaGVVUkwscmVzcG9uc2VIZWFkZXJzU3RyaW5nLHJlc3BvbnNlSGVhZGVycyx0aW1lb3V0VGltZXIscGFydHMsZmlyZUdsb2JhbHMsaSxzPWpRdWVyeS5hamF4U2V0dXAoe30sb3B0aW9ucyksY2FsbGJhY2tDb250ZXh0PXMuY29udGV4dHx8cyxnbG9iYWxFdmVudENvbnRleHQ9cy5jb250ZXh0JiYoY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlfHxjYWxsYmFja0NvbnRleHQuanF1ZXJ5KT9qUXVlcnkoY2FsbGJhY2tDb250ZXh0KTpqUXVlcnkuZXZlbnQsZGVmZXJyZWQ9alF1ZXJ5LkRlZmVycmVkKCksY29tcGxldGVEZWZlcnJlZD1qUXVlcnkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHN0YXR1c0NvZGU9cy5zdGF0dXNDb2RlfHx7fSxyZXF1ZXN0SGVhZGVycz17fSxyZXF1ZXN0SGVhZGVyc05hbWVzPXt9LHN0YXRlPTAsc3RyQWJvcnQ9ImNhbmNlbGVkIixqcVhIUj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGtleSl7dmFyIG1hdGNoO2lmKDI9PT1zdGF0ZSl7aWYoIXJlc3BvbnNlSGVhZGVycylmb3IocmVzcG9uc2VIZWFkZXJzPXt9O21hdGNoPXJoZWFkZXJzLmV4ZWMocmVzcG9uc2VIZWFkZXJzU3RyaW5nKTspcmVzcG9uc2VIZWFkZXJzW21hdGNoWzFdLnRvTG93ZXJDYXNlKCldPW1hdGNoWzJdO21hdGNoPXJlc3BvbnNlSGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PW1hdGNoP251bGw6bWF0Y2h9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09c3RhdGU/cmVzcG9uc2VIZWFkZXJzU3RyaW5nOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7dmFyIGxuYW1lPW5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gc3RhdGV8fChuYW1lPXJlcXVlc3RIZWFkZXJzTmFtZXNbbG5hbWVdPXJlcXVlc3RIZWFkZXJzTmFtZXNbbG5hbWVdfHxuYW1lLHJlcXVlc3RIZWFkZXJzW25hbWVdPXZhbHVlKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKHR5cGUpe3JldHVybiBzdGF0ZXx8KHMubWltZVR5cGU9dHlwZSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihtYXApe3ZhciBjb2RlO2lmKG1hcClpZigyPnN0YXRlKWZvcihjb2RlIGluIG1hcClzdGF0dXNDb2RlW2NvZGVdPVtzdGF0dXNDb2RlW2NvZGVdLG1hcFtjb2RlXV07ZWxzZSBqcVhIUi5hbHdheXMobWFwW2pxWEhSLnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihzdGF0dXNUZXh0KXt2YXIgZmluYWxUZXh0PXN0YXR1c1RleHR8fHN0ckFib3J0O3JldHVybiB0cmFuc3BvcnQmJnRyYW5zcG9ydC5hYm9ydChmaW5hbFRleHQpLGRvbmUoMCxmaW5hbFRleHQpLHRoaXN9fTtpZihkZWZlcnJlZC5wcm9taXNlKGpxWEhSKS5jb21wbGV0ZT1jb21wbGV0ZURlZmVycmVkLmFkZCxqcVhIUi5zdWNjZXNzPWpxWEhSLmRvbmUsanFYSFIuZXJyb3I9anFYSFIuZmFpbCxzLnVybD0oKHVybHx8cy51cmx8fGFqYXhMb2NhdGlvbikrIiIpLnJlcGxhY2Uocmhhc2gsIiIpLnJlcGxhY2UocnByb3RvY29sLGFqYXhMb2NQYXJ0c1sxXSsiLy8iKSxzLnR5cGU9b3B0aW9ucy5tZXRob2R8fG9wdGlvbnMudHlwZXx8cy5tZXRob2R8fHMudHlwZSxzLmRhdGFUeXBlcz1qUXVlcnkudHJpbShzLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2gocm5vdHdoaXRlKXx8WyIiXSxudWxsPT1zLmNyb3NzRG9tYWluJiYocGFydHM9cnVybC5leGVjKHMudXJsLnRvTG93ZXJDYXNlKCkpLHMuY3Jvc3NEb21haW49ISghcGFydHN8fHBhcnRzWzFdPT09YWpheExvY1BhcnRzWzFdJiZwYXJ0c1syXT09PWFqYXhMb2NQYXJ0c1syXSYmKHBhcnRzWzNdfHwoImh0dHA6Ij09PXBhcnRzWzFdPyI4MCI6IjQ0MyIpKT09PShhamF4TG9jUGFydHNbM118fCgiaHR0cDoiPT09YWpheExvY1BhcnRzWzFdPyI4MCI6IjQ0MyIpKSkpLHMuZGF0YSYmcy5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBzLmRhdGEmJihzLmRhdGE9alF1ZXJ5LnBhcmFtKHMuZGF0YSxzLnRyYWRpdGlvbmFsKSksaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMocHJlZmlsdGVycyxzLG9wdGlvbnMsanFYSFIpLDI9PT1zdGF0ZSlyZXR1cm4ganFYSFI7ZmlyZUdsb2JhbHM9cy5nbG9iYWwsZmlyZUdsb2JhbHMmJjA9PT1qUXVlcnkuYWN0aXZlKysmJmpRdWVyeS5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSxzLnR5cGU9cy50eXBlLnRvVXBwZXJDYXNlKCkscy5oYXNDb250ZW50PSFybm9Db250ZW50LnRlc3Qocy50eXBlKSxjYWNoZVVSTD1zLnVybCxzLmhhc0NvbnRlbnR8fChzLmRhdGEmJihjYWNoZVVSTD1zLnVybCs9KHJxdWVyeS50ZXN0KGNhY2hlVVJMKT8iJiI6Ij8iKStzLmRhdGEsZGVsZXRlIHMuZGF0YSkscy5jYWNoZT09PSExJiYocy51cmw9cnRzLnRlc3QoY2FjaGVVUkwpP2NhY2hlVVJMLnJlcGxhY2UocnRzLCIkMV89Iitub25jZSsrKTpjYWNoZVVSTCsocnF1ZXJ5LnRlc3QoY2FjaGVVUkwpPyImIjoiPyIpKyJfPSIrbm9uY2UrKykpLHMuaWZNb2RpZmllZCYmKGpRdWVyeS5sYXN0TW9kaWZpZWRbY2FjaGVVUkxdJiZqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsalF1ZXJ5Lmxhc3RNb2RpZmllZFtjYWNoZVVSTF0pLGpRdWVyeS5ldGFnW2NhY2hlVVJMXSYmanFYSFIuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsalF1ZXJ5LmV0YWdbY2FjaGVVUkxdKSksKHMuZGF0YSYmcy5oYXNDb250ZW50JiZzLmNvbnRlbnRUeXBlIT09ITF8fG9wdGlvbnMuY29udGVudFR5cGUpJiZqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHMuY29udGVudFR5cGUpLGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIscy5kYXRhVHlwZXNbMF0mJnMuYWNjZXB0c1tzLmRhdGFUeXBlc1swXV0/cy5hY2NlcHRzW3MuZGF0YVR5cGVzWzBdXSsoIioiIT09cy5kYXRhVHlwZXNbMF0/IiwgIithbGxUeXBlcysiOyBxPTAuMDEiOiIiKTpzLmFjY2VwdHNbIioiXSk7Zm9yKGkgaW4gcy5oZWFkZXJzKWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoaSxzLmhlYWRlcnNbaV0pO2lmKHMuYmVmb3JlU2VuZCYmKHMuYmVmb3JlU2VuZC5jYWxsKGNhbGxiYWNrQ29udGV4dCxqcVhIUixzKT09PSExfHwyPT09c3RhdGUpKXJldHVybiBqcVhIUi5hYm9ydCgpO3N0ckFib3J0PSJhYm9ydCI7Zm9yKGkgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0panFYSFJbaV0oc1tpXSk7aWYodHJhbnNwb3J0PWluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKHRyYW5zcG9ydHMscyxvcHRpb25zLGpxWEhSKSl7anFYSFIucmVhZHlTdGF0ZT0xLGZpcmVHbG9iYWxzJiZnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlcigiYWpheFNlbmQiLFtqcVhIUixzXSkscy5hc3luYyYmcy50aW1lb3V0PjAmJih0aW1lb3V0VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2pxWEhSLmFib3J0KCJ0aW1lb3V0Iil9LHMudGltZW91dCkpO3RyeXtzdGF0ZT0xLHRyYW5zcG9ydC5zZW5kKHJlcXVlc3RIZWFkZXJzLGRvbmUpfWNhdGNoKGUpe2lmKCEoMj5zdGF0ZSkpdGhyb3cgZTtkb25lKC0xLGUpfX1lbHNlIGRvbmUoLTEsIk5vIFRyYW5zcG9ydCIpO3JldHVybiBqcVhIUn0sZ2V0SlNPTjpmdW5jdGlvbih1cmwsZGF0YSxjYWxsYmFjayl7cmV0dXJuIGpRdWVyeS5nZXQodXJsLGRhdGEsY2FsbGJhY2ssImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKHVybCxjYWxsYmFjayl7cmV0dXJuIGpRdWVyeS5nZXQodXJsLHZvaWQgMCxjYWxsYmFjaywic2NyaXB0Iil9fSksalF1ZXJ5LmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oaSxtZXRob2Qpe2pRdWVyeVttZXRob2RdPWZ1bmN0aW9uKHVybCxkYXRhLGNhbGxiYWNrLHR5cGUpe3JldHVybiBqUXVlcnkuaXNGdW5jdGlvbihkYXRhKSYmKHR5cGU9dHlwZXx8Y2FsbGJhY2ssY2FsbGJhY2s9ZGF0YSxkYXRhPXZvaWQgMCksalF1ZXJ5LmFqYXgoe3VybDp1cmwsdHlwZTptZXRob2QsZGF0YVR5cGU6dHlwZSxkYXRhOmRhdGEsc3VjY2VzczpjYWxsYmFja30pfX0pLGpRdWVyeS5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oaSx0eXBlKXtqUXVlcnkuZm5bdHlwZV09ZnVuY3Rpb24oZm4pe3JldHVybiB0aGlzLm9uKHR5cGUsZm4pfX0pLGpRdWVyeS5fZXZhbFVybD1mdW5jdGlvbih1cmwpe3JldHVybiBqUXVlcnkuYWpheCh7dXJsOnVybCx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxqUXVlcnkuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGh0bWwpe3ZhciB3cmFwO3JldHVybiBqUXVlcnkuaXNGdW5jdGlvbihodG1sKT90aGlzLmVhY2goZnVuY3Rpb24oaSl7alF1ZXJ5KHRoaXMpLndyYXBBbGwoaHRtbC5jYWxsKHRoaXMsaSkpfSk6KHRoaXNbMF0mJih3cmFwPWpRdWVyeShodG1sLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmd3JhcC5pbnNlcnRCZWZvcmUodGhpc1swXSksd3JhcC5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGVsZW09dGhpcztlbGVtLmZpcnN0RWxlbWVudENoaWxkOyllbGVtPWVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGVsZW19KS5hcHBlbmQodGhpcykpLHRoaXMpfSx3cmFwSW5uZXI6ZnVuY3Rpb24oaHRtbCl7cmV0dXJuIHRoaXMuZWFjaChqUXVlcnkuaXNGdW5jdGlvbihodG1sKT9mdW5jdGlvbihpKXtqUXVlcnkodGhpcykud3JhcElubmVyKGh0bWwuY2FsbCh0aGlzLGkpKX06ZnVuY3Rpb24oKXt2YXIgc2VsZj1qUXVlcnkodGhpcyksY29udGVudHM9c2VsZi5jb250ZW50cygpO2NvbnRlbnRzLmxlbmd0aD9jb250ZW50cy53cmFwQWxsKGh0bWwpOnNlbGYuYXBwZW5kKGh0bWwpfSl9LHdyYXA6ZnVuY3Rpb24oaHRtbCl7dmFyIGlzRnVuY3Rpb249alF1ZXJ5LmlzRnVuY3Rpb24oaHRtbCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpKXtqUXVlcnkodGhpcykud3JhcEFsbChpc0Z1bmN0aW9uP2h0bWwuY2FsbCh0aGlzLGkpOmh0bWwpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkubm9kZU5hbWUodGhpcywiYm9keSIpfHxqUXVlcnkodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLGpRdWVyeS5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLm9mZnNldFdpZHRoPD0wJiZlbGVtLm9mZnNldEhlaWdodDw9MH0salF1ZXJ5LmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGVsZW0pe3JldHVybiFqUXVlcnkuZXhwci5maWx0ZXJzLmhpZGRlbihlbGVtKX07dmFyIHIyMD0vJTIwL2cscmJyYWNrZXQ9L1xbXF0kLyxyQ1JMRj0vXHI/XG4vZyxyc3VibWl0dGVyVHlwZXM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLHJzdWJtaXR0YWJsZT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7alF1ZXJ5LnBhcmFtPWZ1bmN0aW9uKGEsdHJhZGl0aW9uYWwpe3ZhciBwcmVmaXgscz1bXSxhZGQ9ZnVuY3Rpb24oa2V5LHZhbHVlKXt2YWx1ZT1qUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSk/dmFsdWUoKTpudWxsPT12YWx1ZT8iIjp2YWx1ZSxzW3MubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoa2V5KSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX07aWYodm9pZCAwPT09dHJhZGl0aW9uYWwmJih0cmFkaXRpb25hbD1qUXVlcnkuYWpheFNldHRpbmdzJiZqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxqUXVlcnkuaXNBcnJheShhKXx8YS5qcXVlcnkmJiFqUXVlcnkuaXNQbGFpbk9iamVjdChhKSlqUXVlcnkuZWFjaChhLGZ1bmN0aW9uKCl7YWRkKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKHByZWZpeCBpbiBhKWJ1aWxkUGFyYW1zKHByZWZpeCxhW3ByZWZpeF0sdHJhZGl0aW9uYWwsYWRkKTtyZXR1cm4gcy5qb2luKCImIikucmVwbGFjZShyMjAsIisiKX0salF1ZXJ5LmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGpRdWVyeS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlbGVtZW50cz1qUXVlcnkucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBlbGVtZW50cz9qUXVlcnkubWFrZUFycmF5KGVsZW1lbnRzKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHR5cGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFqUXVlcnkodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZyc3VibWl0dGFibGUudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KHR5cGUpJiYodGhpcy5jaGVja2VkfHwhcmNoZWNrYWJsZVR5cGUudGVzdCh0eXBlKSl9KS5tYXAoZnVuY3Rpb24oaSxlbGVtKXt2YXIgdmFsPWpRdWVyeSh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09dmFsP251bGw6alF1ZXJ5LmlzQXJyYXkodmFsKT9qUXVlcnkubWFwKHZhbCxmdW5jdGlvbih2YWwpe3JldHVybntuYW1lOmVsZW0ubmFtZSx2YWx1ZTp2YWwucmVwbGFjZShyQ1JMRiwiXHJcbiIpfX0pOntuYW1lOmVsZW0ubmFtZSx2YWx1ZTp2YWwucmVwbGFjZShyQ1JMRiwiXHJcbiIpfX0pLmdldCgpfX0pLGpRdWVyeS5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIHhocklkPTAseGhyQ2FsbGJhY2tzPXt9LHhoclN1Y2Nlc3NTdGF0dXM9ezA6MjAwLDEyMjM6MjA0fSx4aHJTdXBwb3J0ZWQ9alF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTt3aW5kb3cuQWN0aXZlWE9iamVjdCYmalF1ZXJ5KHdpbmRvdykub24oInVubG9hZCIsZnVuY3Rpb24oKXtmb3IodmFyIGtleSBpbiB4aHJDYWxsYmFja3MpeGhyQ2FsbGJhY2tzW2tleV0oKX0pLHN1cHBvcnQuY29ycz0hIXhoclN1cHBvcnRlZCYmIndpdGhDcmVkZW50aWFscyJpbiB4aHJTdXBwb3J0ZWQsc3VwcG9ydC5hamF4PXhoclN1cHBvcnRlZD0hIXhoclN1cHBvcnRlZCxqUXVlcnkuYWpheFRyYW5zcG9ydChmdW5jdGlvbihvcHRpb25zKXt2YXIgY2FsbGJhY2s7cmV0dXJuIHN1cHBvcnQuY29yc3x8eGhyU3VwcG9ydGVkJiYhb3B0aW9ucy5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihoZWFkZXJzLGNvbXBsZXRlKXt2YXIgaSx4aHI9b3B0aW9ucy54aHIoKSxpZD0rK3hocklkO2lmKHhoci5vcGVuKG9wdGlvbnMudHlwZSxvcHRpb25zLnVybCxvcHRpb25zLmFzeW5jLG9wdGlvbnMudXNlcm5hbWUsb3B0aW9ucy5wYXNzd29yZCksb3B0aW9ucy54aHJGaWVsZHMpZm9yKGkgaW4gb3B0aW9ucy54aHJGaWVsZHMpeGhyW2ldPW9wdGlvbnMueGhyRmllbGRzW2ldO29wdGlvbnMubWltZVR5cGUmJnhoci5vdmVycmlkZU1pbWVUeXBlJiZ4aHIub3ZlcnJpZGVNaW1lVHlwZShvcHRpb25zLm1pbWVUeXBlKSxvcHRpb25zLmNyb3NzRG9tYWlufHxoZWFkZXJzWyJYLVJlcXVlc3RlZC1XaXRoIl18fChoZWFkZXJzWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7Zm9yKGkgaW4gaGVhZGVycyl4aHIuc2V0UmVxdWVzdEhlYWRlcihpLGhlYWRlcnNbaV0pO2NhbGxiYWNrPWZ1bmN0aW9uKHR5cGUpe3JldHVybiBmdW5jdGlvbigpe2NhbGxiYWNrJiYoZGVsZXRlIHhockNhbGxiYWNrc1tpZF0sY2FsbGJhY2s9eGhyLm9ubG9hZD14aHIub25lcnJvcj1udWxsLCJhYm9ydCI9PT10eXBlP3hoci5hYm9ydCgpOiJlcnJvciI9PT10eXBlP2NvbXBsZXRlKHhoci5zdGF0dXMseGhyLnN0YXR1c1RleHQpOmNvbXBsZXRlKHhoclN1Y2Nlc3NTdGF0dXNbeGhyLnN0YXR1c118fHhoci5zdGF0dXMseGhyLnN0YXR1c1RleHQsInN0cmluZyI9PXR5cGVvZiB4aHIucmVzcG9uc2VUZXh0P3t0ZXh0Onhoci5yZXNwb25zZVRleHR9OnZvaWQgMCx4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LHhoci5vbmxvYWQ9Y2FsbGJhY2soKSx4aHIub25lcnJvcj1jYWxsYmFjaygiZXJyb3IiKSxjYWxsYmFjaz14aHJDYWxsYmFja3NbaWRdPWNhbGxiYWNrKCJhYm9ydCIpO3RyeXt4aHIuc2VuZChvcHRpb25zLmhhc0NvbnRlbnQmJm9wdGlvbnMuZGF0YXx8bnVsbCl9Y2F0Y2goZSl7aWYoY2FsbGJhY2spdGhyb3cgZX19LGFib3J0OmZ1bmN0aW9uKCl7Y2FsbGJhY2smJmNhbGxiYWNrKCl9fTp2b2lkIDB9KSxqUXVlcnkuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24odGV4dCl7cmV0dXJuIGpRdWVyeS5nbG9iYWxFdmFsKHRleHQpLHRleHR9fX0pLGpRdWVyeS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKHMpe3ZvaWQgMD09PXMuY2FjaGUmJihzLmNhY2hlPSExKSxzLmNyb3NzRG9tYWluJiYocy50eXBlPSJHRVQiKX0pLGpRdWVyeS5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKHMpe2lmKHMuY3Jvc3NEb21haW4pe3ZhciBzY3JpcHQsY2FsbGJhY2s7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oXyxjb21wbGV0ZSl7c2NyaXB0PWpRdWVyeSgiPHNjcmlwdD4iKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OnMuc2NyaXB0Q2hhcnNldCxzcmM6cy51cmx9KS5vbigibG9hZCBlcnJvciIsY2FsbGJhY2s9ZnVuY3Rpb24oZXZ0KXtzY3JpcHQucmVtb3ZlKCksY2FsbGJhY2s9bnVsbCxldnQmJmNvbXBsZXRlKCJlcnJvciI9PT1ldnQudHlwZT80MDQ6MjAwLGV2dC50eXBlKX0pLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0WzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjYWxsYmFjayYmY2FsbGJhY2soKX19fX0pO3ZhciBvbGRDYWxsYmFja3M9W10scmpzb25wPS8oPSlcPyg/PSZ8JCl8XD9cPy87alF1ZXJ5LmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGNhbGxiYWNrPW9sZENhbGxiYWNrcy5wb3AoKXx8alF1ZXJ5LmV4cGFuZG8rIl8iK25vbmNlKys7cmV0dXJuIHRoaXNbY2FsbGJhY2tdPSEwLGNhbGxiYWNrfX0pLGpRdWVyeS5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihzLG9yaWdpbmFsU2V0dGluZ3MsanFYSFIpe3ZhciBjYWxsYmFja05hbWUsb3ZlcndyaXR0ZW4scmVzcG9uc2VDb250YWluZXIsanNvblByb3A9cy5qc29ucCE9PSExJiYocmpzb25wLnRlc3Qocy51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2Ygcy5kYXRhJiYhKHMuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmcmpzb25wLnRlc3Qocy5kYXRhKSYmImRhdGEiKTtyZXR1cm4ganNvblByb3B8fCJqc29ucCI9PT1zLmRhdGFUeXBlc1swXT8oY2FsbGJhY2tOYW1lPXMuanNvbnBDYWxsYmFjaz1qUXVlcnkuaXNGdW5jdGlvbihzLmpzb25wQ2FsbGJhY2spP3MuanNvbnBDYWxsYmFjaygpOnMuanNvbnBDYWxsYmFjayxqc29uUHJvcD9zW2pzb25Qcm9wXT1zW2pzb25Qcm9wXS5yZXBsYWNlKHJqc29ucCwiJDEiK2NhbGxiYWNrTmFtZSk6cy5qc29ucCE9PSExJiYocy51cmwrPShycXVlcnkudGVzdChzLnVybCk/IiYiOiI/Iikrcy5qc29ucCsiPSIrY2FsbGJhY2tOYW1lKSxzLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gcmVzcG9uc2VDb250YWluZXJ8fGpRdWVyeS5lcnJvcihjYWxsYmFja05hbWUrIiB3YXMgbm90IGNhbGxlZCIpLHJlc3BvbnNlQ29udGFpbmVyWzBdfSxzLmRhdGFUeXBlc1swXT0ianNvbiIsb3ZlcndyaXR0ZW49d2luZG93W2NhbGxiYWNrTmFtZV0sd2luZG93W2NhbGxiYWNrTmFtZV09ZnVuY3Rpb24oKXtyZXNwb25zZUNvbnRhaW5lcj1hcmd1bWVudHN9LGpxWEhSLmFsd2F5cyhmdW5jdGlvbigpe3dpbmRvd1tjYWxsYmFja05hbWVdPW92ZXJ3cml0dGVuLHNbY2FsbGJhY2tOYW1lXSYmKHMuanNvbnBDYWxsYmFjaz1vcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2ssb2xkQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2tOYW1lKSkscmVzcG9uc2VDb250YWluZXImJmpRdWVyeS5pc0Z1bmN0aW9uKG92ZXJ3cml0dGVuKSYmb3ZlcndyaXR0ZW4ocmVzcG9uc2VDb250YWluZXJbMF0pLHJlc3BvbnNlQ29udGFpbmVyPW92ZXJ3cml0dGVuPXZvaWQgMH0pLCJzY3JpcHQiKTp2b2lkIDB9KSxqUXVlcnkucGFyc2VIVE1MPWZ1bmN0aW9uKGRhdGEsY29udGV4dCxrZWVwU2NyaXB0cyl7aWYoIWRhdGF8fCJzdHJpbmciIT10eXBlb2YgZGF0YSlyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PXR5cGVvZiBjb250ZXh0JiYoa2VlcFNjcmlwdHM9Y29udGV4dCxjb250ZXh0PSExKSxjb250ZXh0PWNvbnRleHR8fGRvY3VtZW50O3ZhciBwYXJzZWQ9cnNpbmdsZVRhZy5leGVjKGRhdGEpLHNjcmlwdHM9IWtlZXBTY3JpcHRzJiZbXTtyZXR1cm4gcGFyc2VkP1tjb250ZXh0LmNyZWF0ZUVsZW1lbnQocGFyc2VkWzFdKV06KHBhcnNlZD1qUXVlcnkuYnVpbGRGcmFnbWVudChbZGF0YV0sY29udGV4dCxzY3JpcHRzKSxzY3JpcHRzJiZzY3JpcHRzLmxlbmd0aCYmalF1ZXJ5KHNjcmlwdHMpLnJlbW92ZSgpLGpRdWVyeS5tZXJnZShbXSxwYXJzZWQuY2hpbGROb2RlcykpfTt2YXIgX2xvYWQ9alF1ZXJ5LmZuLmxvYWQ7alF1ZXJ5LmZuLmxvYWQ9ZnVuY3Rpb24odXJsLHBhcmFtcyxjYWxsYmFjayl7aWYoInN0cmluZyIhPXR5cGVvZiB1cmwmJl9sb2FkKXJldHVybiBfbG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHNlbGVjdG9yLHR5cGUscmVzcG9uc2Usc2VsZj10aGlzLG9mZj11cmwuaW5kZXhPZigiICIpO3JldHVybiBvZmY+PTAmJihzZWxlY3Rvcj1qUXVlcnkudHJpbSh1cmwuc2xpY2Uob2ZmKSksdXJsPXVybC5zbGljZSgwLG9mZikpLGpRdWVyeS5pc0Z1bmN0aW9uKHBhcmFtcyk/KGNhbGxiYWNrPXBhcmFtcyxwYXJhbXM9dm9pZCAwKTpwYXJhbXMmJiJvYmplY3QiPT10eXBlb2YgcGFyYW1zJiYodHlwZT0iUE9TVCIpLHNlbGYubGVuZ3RoPjAmJmpRdWVyeS5hamF4KHt1cmw6dXJsLHR5cGU6dHlwZSxkYXRhVHlwZToiaHRtbCIsZGF0YTpwYXJhbXN9KS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlVGV4dCl7cmVzcG9uc2U9YXJndW1lbnRzLHNlbGYuaHRtbChzZWxlY3Rvcj9qUXVlcnkoIjxkaXY+IikuYXBwZW5kKGpRdWVyeS5wYXJzZUhUTUwocmVzcG9uc2VUZXh0KSkuZmluZChzZWxlY3Rvcik6cmVzcG9uc2VUZXh0KX0pLmNvbXBsZXRlKGNhbGxiYWNrJiZmdW5jdGlvbihqcVhIUixzdGF0dXMpe3NlbGYuZWFjaChjYWxsYmFjayxyZXNwb25zZXx8W2pxWEhSLnJlc3BvbnNlVGV4dCxzdGF0dXMsanFYSFJdKX0pLHRoaXN9LGpRdWVyeS5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGpRdWVyeS5ncmVwKGpRdWVyeS50aW1lcnMsZnVuY3Rpb24oZm4pe3JldHVybiBlbGVtPT09Zm4uZWxlbX0pLmxlbmd0aH07dmFyIGRvY0VsZW09d2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtqUXVlcnkub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZWxlbSxvcHRpb25zLGkpe3ZhciBjdXJQb3NpdGlvbixjdXJMZWZ0LGN1ckNTU1RvcCxjdXJUb3AsY3VyT2Zmc2V0LGN1ckNTU0xlZnQsY2FsY3VsYXRlUG9zaXRpb24scG9zaXRpb249alF1ZXJ5LmNzcyhlbGVtLCJwb3NpdGlvbiIpLGN1ckVsZW09alF1ZXJ5KGVsZW0pLHByb3BzPXt9OyJzdGF0aWMiPT09cG9zaXRpb24mJihlbGVtLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGN1ck9mZnNldD1jdXJFbGVtLm9mZnNldCgpLGN1ckNTU1RvcD1qUXVlcnkuY3NzKGVsZW0sInRvcCIpLGN1ckNTU0xlZnQ9alF1ZXJ5LmNzcyhlbGVtLCJsZWZ0IiksY2FsY3VsYXRlUG9zaXRpb249KCJhYnNvbHV0ZSI9PT1wb3NpdGlvbnx8ImZpeGVkIj09PXBvc2l0aW9uKSYmKGN1ckNTU1RvcCtjdXJDU1NMZWZ0KS5pbmRleE9mKCJhdXRvIik+LTEsY2FsY3VsYXRlUG9zaXRpb24/KGN1clBvc2l0aW9uPWN1ckVsZW0ucG9zaXRpb24oKSxjdXJUb3A9Y3VyUG9zaXRpb24udG9wLGN1ckxlZnQ9Y3VyUG9zaXRpb24ubGVmdCk6KGN1clRvcD1wYXJzZUZsb2F0KGN1ckNTU1RvcCl8fDAsY3VyTGVmdD1wYXJzZUZsb2F0KGN1ckNTU0xlZnQpfHwwKSxqUXVlcnkuaXNGdW5jdGlvbihvcHRpb25zKSYmKG9wdGlvbnM9b3B0aW9ucy5jYWxsKGVsZW0saSxjdXJPZmZzZXQpKSxudWxsIT1vcHRpb25zLnRvcCYmKHByb3BzLnRvcD1vcHRpb25zLnRvcC1jdXJPZmZzZXQudG9wK2N1clRvcCksbnVsbCE9b3B0aW9ucy5sZWZ0JiYocHJvcHMubGVmdD1vcHRpb25zLmxlZnQtY3VyT2Zmc2V0LmxlZnQrY3VyTGVmdCksInVzaW5nImluIG9wdGlvbnM/b3B0aW9ucy51c2luZy5jYWxsKGVsZW0scHJvcHMpOmN1ckVsZW0uY3NzKHByb3BzKX19LGpRdWVyeS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihvcHRpb25zKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1vcHRpb25zP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGkpe2pRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsb3B0aW9ucyxpKX0pO3ZhciBkb2NFbGVtLHdpbixlbGVtPXRoaXNbMF0sYm94PXt0b3A6MCxsZWZ0OjB9LGRvYz1lbGVtJiZlbGVtLm93bmVyRG9jdW1lbnQ7aWYoZG9jKXJldHVybiBkb2NFbGVtPWRvYy5kb2N1bWVudEVsZW1lbnQsalF1ZXJ5LmNvbnRhaW5zKGRvY0VsZW0sZWxlbSk/KHR5cGVvZiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PXN0cnVuZGVmaW5lZCYmKGJveD1lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSx3aW49Z2V0V2luZG93KGRvYykse3RvcDpib3gudG9wK3dpbi5wYWdlWU9mZnNldC1kb2NFbGVtLmNsaWVudFRvcCxsZWZ0OmJveC5sZWZ0K3dpbi5wYWdlWE9mZnNldC1kb2NFbGVtLmNsaWVudExlZnR9KTpib3h9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIG9mZnNldFBhcmVudCxvZmZzZXQsZWxlbT10aGlzWzBdLHBhcmVudE9mZnNldD17dG9wOjAsbGVmdDowfTtyZXR1cm4iZml4ZWQiPT09alF1ZXJ5LmNzcyhlbGVtLCJwb3NpdGlvbiIpP29mZnNldD1lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihvZmZzZXRQYXJlbnQ9dGhpcy5vZmZzZXRQYXJlbnQoKSxvZmZzZXQ9dGhpcy5vZmZzZXQoKSxqUXVlcnkubm9kZU5hbWUob2Zmc2V0UGFyZW50WzBdLCJodG1sIil8fChwYXJlbnRPZmZzZXQ9b2Zmc2V0UGFyZW50Lm9mZnNldCgpKSxwYXJlbnRPZmZzZXQudG9wKz1qUXVlcnkuY3NzKG9mZnNldFBhcmVudFswXSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxwYXJlbnRPZmZzZXQubGVmdCs9alF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnRbMF0sImJvcmRlckxlZnRXaWR0aCIsITApKSx7dG9wOm9mZnNldC50b3AtcGFyZW50T2Zmc2V0LnRvcC1qUXVlcnkuY3NzKGVsZW0sIm1hcmdpblRvcCIsITApLGxlZnQ6b2Zmc2V0LmxlZnQtcGFyZW50T2Zmc2V0LmxlZnQtalF1ZXJ5LmNzcyhlbGVtLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBvZmZzZXRQYXJlbnQ9dGhpcy5vZmZzZXRQYXJlbnR8fGRvY0VsZW07b2Zmc2V0UGFyZW50JiYhalF1ZXJ5Lm5vZGVOYW1lKG9mZnNldFBhcmVudCwiaHRtbCIpJiYic3RhdGljIj09PWpRdWVyeS5jc3Mob2Zmc2V0UGFyZW50LCJwb3NpdGlvbiIpOylvZmZzZXRQYXJlbnQ9b2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtyZXR1cm4gb2Zmc2V0UGFyZW50fHxkb2NFbGVtfSl9fSksalF1ZXJ5LmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24obWV0aG9kLHByb3Ape3ZhciB0b3A9InBhZ2VZT2Zmc2V0Ij09PXByb3A7alF1ZXJ5LmZuW21ldGhvZF09ZnVuY3Rpb24odmFsKXtyZXR1cm4gYWNjZXNzKHRoaXMsZnVuY3Rpb24oZWxlbSxtZXRob2QsdmFsKXt2YXIgd2luPWdldFdpbmRvdyhlbGVtKTtyZXR1cm4gdm9pZCAwPT09dmFsP3dpbj93aW5bcHJvcF06ZWxlbVttZXRob2RdOnZvaWQod2luP3dpbi5zY3JvbGxUbyh0b3A/d2luZG93LnBhZ2VYT2Zmc2V0OnZhbCx0b3A/dmFsOndpbmRvdy5wYWdlWU9mZnNldCk6ZWxlbVttZXRob2RdPXZhbCl9LG1ldGhvZCx2YWwsYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KSxqUXVlcnkuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihpLHByb3Ape2pRdWVyeS5jc3NIb29rc1twcm9wXT1hZGRHZXRIb29rSWYoc3VwcG9ydC5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGVsZW0sY29tcHV0ZWQpe3JldHVybiBjb21wdXRlZD8oY29tcHV0ZWQ9Y3VyQ1NTKGVsZW0scHJvcCkscm51bW5vbnB4LnRlc3QoY29tcHV0ZWQpP2pRdWVyeShlbGVtKS5wb3NpdGlvbigpW3Byb3BdKyJweCI6Y29tcHV0ZWQpOnZvaWQgMH0pfSksalF1ZXJ5LmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihuYW1lLHR5cGUpe2pRdWVyeS5lYWNoKHtwYWRkaW5nOiJpbm5lciIrbmFtZSxjb250ZW50OnR5cGUsIiI6Im91dGVyIituYW1lfSxmdW5jdGlvbihkZWZhdWx0RXh0cmEsZnVuY05hbWUpe2pRdWVyeS5mbltmdW5jTmFtZV09ZnVuY3Rpb24obWFyZ2luLHZhbHVlKXt2YXIgY2hhaW5hYmxlPWFyZ3VtZW50cy5sZW5ndGgmJihkZWZhdWx0RXh0cmF8fCJib29sZWFuIiE9dHlwZW9mIG1hcmdpbiksZXh0cmE9ZGVmYXVsdEV4dHJhfHwobWFyZ2luPT09ITB8fHZhbHVlPT09ITA/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiBhY2Nlc3ModGhpcyxmdW5jdGlvbihlbGVtLHR5cGUsdmFsdWUpe3ZhciBkb2M7cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyhlbGVtKT9lbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IituYW1lXTo5PT09ZWxlbS5ub2RlVHlwZT8oZG9jPWVsZW0uZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGVsZW0uYm9keVsic2Nyb2xsIituYW1lXSxkb2NbInNjcm9sbCIrbmFtZV0sZWxlbS5ib2R5WyJvZmZzZXQiK25hbWVdLGRvY1sib2Zmc2V0IituYW1lXSxkb2NbImNsaWVudCIrbmFtZV0pKTp2b2lkIDA9PT12YWx1ZT9qUXVlcnkuY3NzKGVsZW0sdHlwZSxleHRyYSk6alF1ZXJ5LnN0eWxlKGVsZW0sdHlwZSx2YWx1ZSxleHRyYSl9LHR5cGUsY2hhaW5hYmxlP21hcmdpbjp2b2lkIDAsY2hhaW5hYmxlLG51bGwpfX0pfSksalF1ZXJ5LmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LGpRdWVyeS5mbi5hbmRTZWxmPWpRdWVyeS5mbi5hZGRCYWNrLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBqUXVlcnl9KTt2YXIgX2pRdWVyeT13aW5kb3cualF1ZXJ5LF8kPXdpbmRvdy4kO3JldHVybiBqUXVlcnkubm9Db25mbGljdD1mdW5jdGlvbihkZWVwKXtyZXR1cm4gd2luZG93LiQ9PT1qUXVlcnkmJih3aW5kb3cuJD1fJCksZGVlcCYmd2luZG93LmpRdWVyeT09PWpRdWVyeSYmKHdpbmRvdy5qUXVlcnk9X2pRdWVyeSksalF1ZXJ5fSx0eXBlb2Ygbm9HbG9iYWw9PT1zdHJ1bmRlZmluZWQmJih3aW5kb3cualF1ZXJ5PXdpbmRvdy4kPWpRdWVyeSksalF1ZXJ5fSksZnVuY3Rpb24od2luZG93LGRvY3VtZW50LHVuZGVmaW5lZCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG1pbkVycihtb2R1bGUsRXJyb3JDb25zdHJ1Y3Rvcil7cmV0dXJuIEVycm9yQ29uc3RydWN0b3I9RXJyb3JDb25zdHJ1Y3Rvcnx8RXJyb3IsZnVuY3Rpb24oKXt2YXIgbWVzc2FnZSxpLGNvZGU9YXJndW1lbnRzWzBdLHByZWZpeD0iWyIrKG1vZHVsZT9tb2R1bGUrIjoiOiIiKStjb2RlKyJdICIsdGVtcGxhdGU9YXJndW1lbnRzWzFdLHRlbXBsYXRlQXJncz1hcmd1bWVudHMsc3RyaW5naWZ5PWZ1bmN0aW9uKG9iail7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG9iaj9vYmoudG9TdHJpbmcoKS5yZXBsYWNlKC8gXHtbXHNcU10qJC8sIiIpOiJ1bmRlZmluZWQiPT10eXBlb2Ygb2JqPyJ1bmRlZmluZWQiOiJzdHJpbmciIT10eXBlb2Ygb2JqP0pTT04uc3RyaW5naWZ5KG9iaik6b2JqfTtmb3IobWVzc2FnZT1wcmVmaXgrdGVtcGxhdGUucmVwbGFjZSgvXHtcZCtcfS9nLGZ1bmN0aW9uKG1hdGNoKXt2YXIgYXJnLGluZGV4PSttYXRjaC5zbGljZSgxLC0xKTtyZXR1cm4gaW5kZXgrMjx0ZW1wbGF0ZUFyZ3MubGVuZ3RoPyhhcmc9dGVtcGxhdGVBcmdzW2luZGV4KzJdLCJmdW5jdGlvbiI9PXR5cGVvZiBhcmc/YXJnLnRvU3RyaW5nKCkucmVwbGFjZSgvID9ce1tcc1xTXSokLywiIik6InVuZGVmaW5lZCI9PXR5cGVvZiBhcmc/InVuZGVmaW5lZCI6InN0cmluZyIhPXR5cGVvZiBhcmc/dG9Kc29uKGFyZyk6YXJnKTptYXRjaH0pLG1lc3NhZ2U9bWVzc2FnZSsiXG5odHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS4zLjAvIisobW9kdWxlP21vZHVsZSsiLyI6IiIpK2NvZGUsaT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbWVzc2FnZT1tZXNzYWdlKygyPT1pPyI/IjoiJiIpKyJwIisoaS0yKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeShhcmd1bWVudHNbaV0pKTtyZXR1cm4gbmV3IEVycm9yQ29uc3RydWN0b3IobWVzc2FnZSl9fWZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iail7aWYobnVsbD09b2JqfHxpc1dpbmRvdyhvYmopKXJldHVybiExO3ZhciBsZW5ndGg9b2JqLmxlbmd0aDtyZXR1cm4gb2JqLm5vZGVUeXBlPT09Tk9ERV9UWVBFX0VMRU1FTlQmJmxlbmd0aD8hMDppc1N0cmluZyhvYmopfHxpc0FycmF5KG9iail8fDA9PT1sZW5ndGh8fCJudW1iZXIiPT10eXBlb2YgbGVuZ3RoJiZsZW5ndGg+MCYmbGVuZ3RoLTEgaW4gb2JqfWZ1bmN0aW9uIGZvckVhY2gob2JqLGl0ZXJhdG9yLGNvbnRleHQpe3ZhciBrZXksbGVuZ3RoO2lmKG9iailpZihpc0Z1bmN0aW9uKG9iaikpZm9yKGtleSBpbiBvYmopInByb3RvdHlwZSI9PWtleXx8Imxlbmd0aCI9PWtleXx8Im5hbWUiPT1rZXl8fG9iai5oYXNPd25Qcm9wZXJ0eSYmIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpfHxpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2tleV0sa2V5LG9iaik7CmVsc2UgaWYoaXNBcnJheShvYmopfHxpc0FycmF5TGlrZShvYmopKXt2YXIgaXNQcmltaXRpdmU9Im9iamVjdCIhPXR5cGVvZiBvYmo7Zm9yKGtleT0wLGxlbmd0aD1vYmoubGVuZ3RoO2xlbmd0aD5rZXk7a2V5KyspKGlzUHJpbWl0aXZlfHxrZXkgaW4gb2JqKSYmaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXldLGtleSxvYmopfWVsc2UgaWYob2JqLmZvckVhY2gmJm9iai5mb3JFYWNoIT09Zm9yRWFjaClvYmouZm9yRWFjaChpdGVyYXRvcixjb250ZXh0LG9iaik7ZWxzZSBmb3Ioa2V5IGluIG9iailvYmouaGFzT3duUHJvcGVydHkoa2V5KSYmaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXldLGtleSxvYmopO3JldHVybiBvYmp9ZnVuY3Rpb24gc29ydGVkS2V5cyhvYmope3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailvYmouaGFzT3duUHJvcGVydHkoa2V5KSYma2V5cy5wdXNoKGtleSk7cmV0dXJuIGtleXMuc29ydCgpfWZ1bmN0aW9uIGZvckVhY2hTb3J0ZWQob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2Zvcih2YXIga2V5cz1zb3J0ZWRLZXlzKG9iaiksaT0wO2k8a2V5cy5sZW5ndGg7aSsrKWl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5c1tpXV0sa2V5c1tpXSk7cmV0dXJuIGtleXN9ZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKXtyZXR1cm4gZnVuY3Rpb24odmFsdWUsa2V5KXtpdGVyYXRvckZuKGtleSx2YWx1ZSl9fWZ1bmN0aW9uIG5leHRVaWQoKXtyZXR1cm4rK3VpZH1mdW5jdGlvbiBzZXRIYXNoS2V5KG9iaixoKXtoP29iai4kJGhhc2hLZXk9aDpkZWxldGUgb2JqLiQkaGFzaEtleX1mdW5jdGlvbiBleHRlbmQoZHN0KXtmb3IodmFyIGg9ZHN0LiQkaGFzaEtleSxpPTEsaWk9YXJndW1lbnRzLmxlbmd0aDtpaT5pO2krKyl7dmFyIG9iaj1hcmd1bWVudHNbaV07aWYob2JqKWZvcih2YXIga2V5cz1PYmplY3Qua2V5cyhvYmopLGo9MCxqaj1rZXlzLmxlbmd0aDtqaj5qO2orKyl7dmFyIGtleT1rZXlzW2pdO2RzdFtrZXldPW9ialtrZXldfX1yZXR1cm4gc2V0SGFzaEtleShkc3QsaCksZHN0fWZ1bmN0aW9uIGludChzdHIpe3JldHVybiBwYXJzZUludChzdHIsMTApfWZ1bmN0aW9uIGluaGVyaXQocGFyZW50LGV4dHJhKXtyZXR1cm4gZXh0ZW5kKG5ldyhleHRlbmQoZnVuY3Rpb24oKXt9LHtwcm90b3R5cGU6cGFyZW50fSkpLGV4dHJhKX1mdW5jdGlvbiBub29wKCl7fWZ1bmN0aW9uIGlkZW50aXR5KCQpe3JldHVybiAkfWZ1bmN0aW9uIHZhbHVlRm4odmFsdWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2YWx1ZX19ZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHZhbHVlfWZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKXtyZXR1cm4gbnVsbCE9PXZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIHZhbHVlfWZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHZhbHVlfWZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHZhbHVlfWZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSl7cmV0dXJuIltvYmplY3QgRGF0ZV0iPT09dG9TdHJpbmcuY2FsbCh2YWx1ZSl9ZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHZhbHVlfWZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKXtyZXR1cm4iW29iamVjdCBSZWdFeHBdIj09PXRvU3RyaW5nLmNhbGwodmFsdWUpfWZ1bmN0aW9uIGlzV2luZG93KG9iail7cmV0dXJuIG9iaiYmb2JqLndpbmRvdz09PW9ian1mdW5jdGlvbiBpc1Njb3BlKG9iail7cmV0dXJuIG9iaiYmb2JqLiRldmFsQXN5bmMmJm9iai4kd2F0Y2h9ZnVuY3Rpb24gaXNGaWxlKG9iail7cmV0dXJuIltvYmplY3QgRmlsZV0iPT09dG9TdHJpbmcuY2FsbChvYmopfWZ1bmN0aW9uIGlzQmxvYihvYmope3JldHVybiJbb2JqZWN0IEJsb2JdIj09PXRvU3RyaW5nLmNhbGwob2JqKX1mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIHZhbHVlfWZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKXtyZXR1cm4gb2JqJiZpc0Z1bmN0aW9uKG9iai50aGVuKX1mdW5jdGlvbiBpc0VsZW1lbnQobm9kZSl7cmV0dXJuISghbm9kZXx8IShub2RlLm5vZGVOYW1lfHxub2RlLnByb3AmJm5vZGUuYXR0ciYmbm9kZS5maW5kKSl9ZnVuY3Rpb24gbWFrZU1hcChzdHIpe3ZhciBpLG9iaj17fSxpdGVtcz1zdHIuc3BsaXQoIiwiKTtmb3IoaT0wO2k8aXRlbXMubGVuZ3RoO2krKylvYmpbaXRlbXNbaV1dPSEwO3JldHVybiBvYmp9ZnVuY3Rpb24gbm9kZU5hbWVfKGVsZW1lbnQpe3JldHVybiBsb3dlcmNhc2UoZWxlbWVudC5ub2RlTmFtZXx8ZWxlbWVudFswXS5ub2RlTmFtZSl9ZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksdmFsdWUpe3ZhciBpbmRleD1hcnJheS5pbmRleE9mKHZhbHVlKTtyZXR1cm4gaW5kZXg+PTAmJmFycmF5LnNwbGljZShpbmRleCwxKSx2YWx1ZX1mdW5jdGlvbiBjb3B5KHNvdXJjZSxkZXN0aW5hdGlvbixzdGFja1NvdXJjZSxzdGFja0Rlc3Qpe2lmKGlzV2luZG93KHNvdXJjZSl8fGlzU2NvcGUoc291cmNlKSl0aHJvdyBuZ01pbkVycigiY3B3cyIsIkNhbid0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLiIpO2lmKGRlc3RpbmF0aW9uKXtpZihzb3VyY2U9PT1kZXN0aW5hdGlvbil0aHJvdyBuZ01pbkVycigiY3BpIiwiQ2FuJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLiIpO2lmKHN0YWNrU291cmNlPXN0YWNrU291cmNlfHxbXSxzdGFja0Rlc3Q9c3RhY2tEZXN0fHxbXSxpc09iamVjdChzb3VyY2UpKXt2YXIgaW5kZXg9c3RhY2tTb3VyY2UuaW5kZXhPZihzb3VyY2UpO2lmKC0xIT09aW5kZXgpcmV0dXJuIHN0YWNrRGVzdFtpbmRleF07c3RhY2tTb3VyY2UucHVzaChzb3VyY2UpLHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKX12YXIgcmVzdWx0O2lmKGlzQXJyYXkoc291cmNlKSl7ZGVzdGluYXRpb24ubGVuZ3RoPTA7Zm9yKHZhciBpPTA7aTxzb3VyY2UubGVuZ3RoO2krKylyZXN1bHQ9Y29weShzb3VyY2VbaV0sbnVsbCxzdGFja1NvdXJjZSxzdGFja0Rlc3QpLGlzT2JqZWN0KHNvdXJjZVtpXSkmJihzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtpXSksc3RhY2tEZXN0LnB1c2gocmVzdWx0KSksZGVzdGluYXRpb24ucHVzaChyZXN1bHQpfWVsc2V7dmFyIGg9ZGVzdGluYXRpb24uJCRoYXNoS2V5O2lzQXJyYXkoZGVzdGluYXRpb24pP2Rlc3RpbmF0aW9uLmxlbmd0aD0wOmZvckVhY2goZGVzdGluYXRpb24sZnVuY3Rpb24odmFsdWUsa2V5KXtkZWxldGUgZGVzdGluYXRpb25ba2V5XX0pO2Zvcih2YXIga2V5IGluIHNvdXJjZSlzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSYmKHJlc3VsdD1jb3B5KHNvdXJjZVtrZXldLG51bGwsc3RhY2tTb3VyY2Usc3RhY2tEZXN0KSxpc09iamVjdChzb3VyY2Vba2V5XSkmJihzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtrZXldKSxzdGFja0Rlc3QucHVzaChyZXN1bHQpKSxkZXN0aW5hdGlvbltrZXldPXJlc3VsdCk7c2V0SGFzaEtleShkZXN0aW5hdGlvbixoKX19ZWxzZSBpZihkZXN0aW5hdGlvbj1zb3VyY2Usc291cmNlKWlmKGlzQXJyYXkoc291cmNlKSlkZXN0aW5hdGlvbj1jb3B5KHNvdXJjZSxbXSxzdGFja1NvdXJjZSxzdGFja0Rlc3QpO2Vsc2UgaWYoaXNEYXRlKHNvdXJjZSkpZGVzdGluYXRpb249bmV3IERhdGUoc291cmNlLmdldFRpbWUoKSk7ZWxzZSBpZihpc1JlZ0V4cChzb3VyY2UpKWRlc3RpbmF0aW9uPW5ldyBSZWdFeHAoc291cmNlLnNvdXJjZSxzb3VyY2UudG9TdHJpbmcoKS5tYXRjaCgvW15cL10qJC8pWzBdKSxkZXN0aW5hdGlvbi5sYXN0SW5kZXg9c291cmNlLmxhc3RJbmRleDtlbHNlIGlmKGlzT2JqZWN0KHNvdXJjZSkpe3ZhciBlbXB0eU9iamVjdD1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpKTtkZXN0aW5hdGlvbj1jb3B5KHNvdXJjZSxlbXB0eU9iamVjdCxzdGFja1NvdXJjZSxzdGFja0Rlc3QpfXJldHVybiBkZXN0aW5hdGlvbn1mdW5jdGlvbiBzaGFsbG93Q29weShzcmMsZHN0KXtpZihpc0FycmF5KHNyYykpe2RzdD1kc3R8fFtdO2Zvcih2YXIgaT0wLGlpPXNyYy5sZW5ndGg7aWk+aTtpKyspZHN0W2ldPXNyY1tpXX1lbHNlIGlmKGlzT2JqZWN0KHNyYykpe2RzdD1kc3R8fHt9O2Zvcih2YXIga2V5IGluIHNyYykoIiQiIT09a2V5LmNoYXJBdCgwKXx8IiQiIT09a2V5LmNoYXJBdCgxKSkmJihkc3Rba2V5XT1zcmNba2V5XSl9cmV0dXJuIGRzdHx8c3JjfWZ1bmN0aW9uIGVxdWFscyhvMSxvMil7aWYobzE9PT1vMilyZXR1cm4hMDtpZihudWxsPT09bzF8fG51bGw9PT1vMilyZXR1cm4hMTtpZihvMSE9PW8xJiZvMiE9PW8yKXJldHVybiEwO3ZhciBsZW5ndGgsa2V5LGtleVNldCx0MT10eXBlb2YgbzEsdDI9dHlwZW9mIG8yO2lmKHQxPT10MiYmIm9iamVjdCI9PXQxKXtpZighaXNBcnJheShvMSkpe2lmKGlzRGF0ZShvMSkpcmV0dXJuIGlzRGF0ZShvMik/ZXF1YWxzKG8xLmdldFRpbWUoKSxvMi5nZXRUaW1lKCkpOiExO2lmKGlzUmVnRXhwKG8xKSYmaXNSZWdFeHAobzIpKXJldHVybiBvMS50b1N0cmluZygpPT1vMi50b1N0cmluZygpO2lmKGlzU2NvcGUobzEpfHxpc1Njb3BlKG8yKXx8aXNXaW5kb3cobzEpfHxpc1dpbmRvdyhvMil8fGlzQXJyYXkobzIpKXJldHVybiExO2tleVNldD17fTtmb3Ioa2V5IGluIG8xKWlmKCIkIiE9PWtleS5jaGFyQXQoMCkmJiFpc0Z1bmN0aW9uKG8xW2tleV0pKXtpZighZXF1YWxzKG8xW2tleV0sbzJba2V5XSkpcmV0dXJuITE7a2V5U2V0W2tleV09ITB9Zm9yKGtleSBpbiBvMilpZigha2V5U2V0Lmhhc093blByb3BlcnR5KGtleSkmJiIkIiE9PWtleS5jaGFyQXQoMCkmJm8yW2tleV0hPT11bmRlZmluZWQmJiFpc0Z1bmN0aW9uKG8yW2tleV0pKXJldHVybiExO3JldHVybiEwfWlmKCFpc0FycmF5KG8yKSlyZXR1cm4hMTtpZigobGVuZ3RoPW8xLmxlbmd0aCk9PW8yLmxlbmd0aCl7Zm9yKGtleT0wO2xlbmd0aD5rZXk7a2V5KyspaWYoIWVxdWFscyhvMVtrZXldLG8yW2tleV0pKXJldHVybiExO3JldHVybiEwfX1yZXR1cm4hMX1mdW5jdGlvbiBjb25jYXQoYXJyYXkxLGFycmF5MixpbmRleCl7cmV0dXJuIGFycmF5MS5jb25jYXQoc2xpY2UuY2FsbChhcnJheTIsaW5kZXgpKX1mdW5jdGlvbiBzbGljZUFyZ3MoYXJncyxzdGFydEluZGV4KXtyZXR1cm4gc2xpY2UuY2FsbChhcmdzLHN0YXJ0SW5kZXh8fDApfWZ1bmN0aW9uIGJpbmQoc2VsZixmbil7dmFyIGN1cnJ5QXJncz1hcmd1bWVudHMubGVuZ3RoPjI/c2xpY2VBcmdzKGFyZ3VtZW50cywyKTpbXTtyZXR1cm4haXNGdW5jdGlvbihmbil8fGZuIGluc3RhbmNlb2YgUmVnRXhwP2ZuOmN1cnJ5QXJncy5sZW5ndGg/ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9mbi5hcHBseShzZWxmLGN1cnJ5QXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpKTpmbi5hcHBseShzZWxmLGN1cnJ5QXJncyl9OmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Zm4uYXBwbHkoc2VsZixhcmd1bWVudHMpOmZuLmNhbGwoc2VsZil9fWZ1bmN0aW9uIHRvSnNvblJlcGxhY2VyKGtleSx2YWx1ZSl7dmFyIHZhbD12YWx1ZTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGtleSYmIiQiPT09a2V5LmNoYXJBdCgwKSYmIiQiPT09a2V5LmNoYXJBdCgxKT92YWw9dW5kZWZpbmVkOmlzV2luZG93KHZhbHVlKT92YWw9IiRXSU5ET1ciOnZhbHVlJiZkb2N1bWVudD09PXZhbHVlP3ZhbD0iJERPQ1VNRU5UIjppc1Njb3BlKHZhbHVlKSYmKHZhbD0iJFNDT1BFIiksdmFsfWZ1bmN0aW9uIHRvSnNvbihvYmoscHJldHR5KXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG9iaj91bmRlZmluZWQ6SlNPTi5zdHJpbmdpZnkob2JqLHRvSnNvblJlcGxhY2VyLHByZXR0eT8iICAiOm51bGwpfWZ1bmN0aW9uIGZyb21Kc29uKGpzb24pe3JldHVybiBpc1N0cmluZyhqc29uKT9KU09OLnBhcnNlKGpzb24pOmpzb259ZnVuY3Rpb24gc3RhcnRpbmdUYWcoZWxlbWVudCl7ZWxlbWVudD1qcUxpdGUoZWxlbWVudCkuY2xvbmUoKTt0cnl7ZWxlbWVudC5lbXB0eSgpfWNhdGNoKGUpe312YXIgZWxlbUh0bWw9anFMaXRlKCI8ZGl2PiIpLmFwcGVuZChlbGVtZW50KS5odG1sKCk7dHJ5e3JldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlPT09Tk9ERV9UWVBFX1RFWFQ/bG93ZXJjYXNlKGVsZW1IdG1sKTplbGVtSHRtbC5tYXRjaCgvXig8W14+XSs+KS8pWzFdLnJlcGxhY2UoL148KFtcd1wtXSspLyxmdW5jdGlvbihtYXRjaCxub2RlTmFtZSl7cmV0dXJuIjwiK2xvd2VyY2FzZShub2RlTmFtZSl9KX1jYXRjaChlKXtyZXR1cm4gbG93ZXJjYXNlKGVsZW1IdG1sKX19ZnVuY3Rpb24gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBwYXJzZUtleVZhbHVlKGtleVZhbHVlKXt2YXIga2V5X3ZhbHVlLGtleSxvYmo9e307cmV0dXJuIGZvckVhY2goKGtleVZhbHVlfHwiIikuc3BsaXQoIiYiKSxmdW5jdGlvbihrZXlWYWx1ZSl7aWYoa2V5VmFsdWUmJihrZXlfdmFsdWU9a2V5VmFsdWUucmVwbGFjZSgvXCsvZywiJTIwIikuc3BsaXQoIj0iKSxrZXk9dHJ5RGVjb2RlVVJJQ29tcG9uZW50KGtleV92YWx1ZVswXSksaXNEZWZpbmVkKGtleSkpKXt2YXIgdmFsPWlzRGVmaW5lZChrZXlfdmFsdWVbMV0pP3RyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMV0pOiEwO2hhc093blByb3BlcnR5LmNhbGwob2JqLGtleSk/aXNBcnJheShvYmpba2V5XSk/b2JqW2tleV0ucHVzaCh2YWwpOm9ialtrZXldPVtvYmpba2V5XSx2YWxdOm9ialtrZXldPXZhbH19KSxvYmp9ZnVuY3Rpb24gdG9LZXlWYWx1ZShvYmope3ZhciBwYXJ0cz1bXTtyZXR1cm4gZm9yRWFjaChvYmosZnVuY3Rpb24odmFsdWUsa2V5KXtpc0FycmF5KHZhbHVlKT9mb3JFYWNoKHZhbHVlLGZ1bmN0aW9uKGFycmF5VmFsdWUpe3BhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCEwKSsoYXJyYXlWYWx1ZT09PSEwPyIiOiI9IitlbmNvZGVVcmlRdWVyeShhcnJheVZhbHVlLCEwKSkpfSk6cGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksITApKyh2YWx1ZT09PSEwPyIiOiI9IitlbmNvZGVVcmlRdWVyeSh2YWx1ZSwhMCkpKX0pLHBhcnRzLmxlbmd0aD9wYXJ0cy5qb2luKCImIik6IiJ9ZnVuY3Rpb24gZW5jb2RlVXJpU2VnbWVudCh2YWwpe3JldHVybiBlbmNvZGVVcmlRdWVyeSh2YWwsITApLnJlcGxhY2UoLyUyNi9naSwiJiIpLnJlcGxhY2UoLyUzRC9naSwiPSIpLnJlcGxhY2UoLyUyQi9naSwiKyIpfWZ1bmN0aW9uIGVuY29kZVVyaVF1ZXJ5KHZhbCxwY3RFbmNvZGVTcGFjZXMpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5yZXBsYWNlKC8lNDAvZ2ksIkAiKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZywiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUzQi9naSwiOyIpLnJlcGxhY2UoLyUyMC9nLHBjdEVuY29kZVNwYWNlcz8iJTIwIjoiKyIpfWZ1bmN0aW9uIGdldE5nQXR0cmlidXRlKGVsZW1lbnQsbmdBdHRyKXt2YXIgYXR0cixpLGlpPW5nQXR0clByZWZpeGVzLmxlbmd0aDtmb3IoZWxlbWVudD1qcUxpdGUoZWxlbWVudCksaT0wO2lpPmk7KytpKWlmKGF0dHI9bmdBdHRyUHJlZml4ZXNbaV0rbmdBdHRyLGlzU3RyaW5nKGF0dHI9ZWxlbWVudC5hdHRyKGF0dHIpKSlyZXR1cm4gYXR0cjtyZXR1cm4gbnVsbH1mdW5jdGlvbiBhbmd1bGFySW5pdChlbGVtZW50LGJvb3RzdHJhcCl7dmFyIGFwcEVsZW1lbnQsbW9kdWxlLGNvbmZpZz17fTtmb3JFYWNoKG5nQXR0clByZWZpeGVzLGZ1bmN0aW9uKHByZWZpeCl7dmFyIG5hbWU9cHJlZml4KyJhcHAiOyFhcHBFbGVtZW50JiZlbGVtZW50Lmhhc0F0dHJpYnV0ZSYmZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSkmJihhcHBFbGVtZW50PWVsZW1lbnQsbW9kdWxlPWVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpKX0pLGZvckVhY2gobmdBdHRyUHJlZml4ZXMsZnVuY3Rpb24ocHJlZml4KXt2YXIgY2FuZGlkYXRlLG5hbWU9cHJlZml4KyJhcHAiOyFhcHBFbGVtZW50JiYoY2FuZGlkYXRlPWVsZW1lbnQucXVlcnlTZWxlY3RvcigiWyIrbmFtZS5yZXBsYWNlKCI6IiwiXFw6IikrIl0iKSkmJihhcHBFbGVtZW50PWNhbmRpZGF0ZSxtb2R1bGU9Y2FuZGlkYXRlLmdldEF0dHJpYnV0ZShuYW1lKSl9KSxhcHBFbGVtZW50JiYoY29uZmlnLnN0cmljdERpPW51bGwhPT1nZXROZ0F0dHJpYnV0ZShhcHBFbGVtZW50LCJzdHJpY3QtZGkiKSxib290c3RyYXAoYXBwRWxlbWVudCxtb2R1bGU/W21vZHVsZV06W10sY29uZmlnKSl9ZnVuY3Rpb24gYm9vdHN0cmFwKGVsZW1lbnQsbW9kdWxlcyxjb25maWcpe2lzT2JqZWN0KGNvbmZpZyl8fChjb25maWc9e30pO3ZhciBkZWZhdWx0Q29uZmlnPXtzdHJpY3REaTohMX07Y29uZmlnPWV4dGVuZChkZWZhdWx0Q29uZmlnLGNvbmZpZyk7dmFyIGRvQm9vdHN0cmFwPWZ1bmN0aW9uKCl7aWYoZWxlbWVudD1qcUxpdGUoZWxlbWVudCksZWxlbWVudC5pbmplY3RvcigpKXt2YXIgdGFnPWVsZW1lbnRbMF09PT1kb2N1bWVudD8iZG9jdW1lbnQiOnN0YXJ0aW5nVGFnKGVsZW1lbnQpO3Rocm93IG5nTWluRXJyKCJidHN0cnBkIiwiQXBwIEFscmVhZHkgQm9vdHN0cmFwcGVkIHdpdGggdGhpcyBFbGVtZW50ICd7MH0nIix0YWcucmVwbGFjZSgvPC8sIiZsdDsiKS5yZXBsYWNlKC8+LywiJmd0OyIpKX1tb2R1bGVzPW1vZHVsZXN8fFtdLG1vZHVsZXMudW5zaGlmdChbIiRwcm92aWRlIixmdW5jdGlvbigkcHJvdmlkZSl7JHByb3ZpZGUudmFsdWUoIiRyb290RWxlbWVudCIsZWxlbWVudCl9XSksY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQmJm1vZHVsZXMucHVzaChbIiRjb21waWxlUHJvdmlkZXIiLGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpeyRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCghMCl9XSksbW9kdWxlcy51bnNoaWZ0KCJuZyIpO3ZhciBpbmplY3Rvcj1jcmVhdGVJbmplY3Rvcihtb2R1bGVzLGNvbmZpZy5zdHJpY3REaSk7cmV0dXJuIGluamVjdG9yLmludm9rZShbIiRyb290U2NvcGUiLCIkcm9vdEVsZW1lbnQiLCIkY29tcGlsZSIsIiRpbmplY3RvciIsZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxjb21waWxlLGluamVjdG9yKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtlbGVtZW50LmRhdGEoIiRpbmplY3RvciIsaW5qZWN0b3IpLGNvbXBpbGUoZWxlbWVudCkoc2NvcGUpfSl9XSksaW5qZWN0b3J9LE5HX0VOQUJMRV9ERUJVR19JTkZPPS9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLyxOR19ERUZFUl9CT09UU1RSQVA9L15OR19ERUZFUl9CT09UU1RSQVAhLztyZXR1cm4gd2luZG93JiZOR19FTkFCTEVfREVCVUdfSU5GTy50ZXN0KHdpbmRvdy5uYW1lKSYmKGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkPSEwLHdpbmRvdy5uYW1lPXdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfRU5BQkxFX0RFQlVHX0lORk8sIiIpKSx3aW5kb3cmJiFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSk/ZG9Cb290c3RyYXAoKTood2luZG93Lm5hbWU9d2luZG93Lm5hbWUucmVwbGFjZShOR19ERUZFUl9CT09UU1RSQVAsIiIpLHZvaWQoYW5ndWxhci5yZXN1bWVCb290c3RyYXA9ZnVuY3Rpb24oZXh0cmFNb2R1bGVzKXtmb3JFYWNoKGV4dHJhTW9kdWxlcyxmdW5jdGlvbihtb2R1bGUpe21vZHVsZXMucHVzaChtb2R1bGUpfSksZG9Cb290c3RyYXAoKX0pKX1mdW5jdGlvbiByZWxvYWRXaXRoRGVidWdJbmZvKCl7d2luZG93Lm5hbWU9Ik5HX0VOQUJMRV9ERUJVR19JTkZPISIrd2luZG93Lm5hbWUsd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfWZ1bmN0aW9uIGdldFRlc3RhYmlsaXR5KHJvb3RFbGVtZW50KXtyZXR1cm4gYW5ndWxhci5lbGVtZW50KHJvb3RFbGVtZW50KS5pbmplY3RvcigpLmdldCgiJCR0ZXN0YWJpbGl0eSIpfWZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSxzZXBhcmF0b3Ipe3JldHVybiBzZXBhcmF0b3I9c2VwYXJhdG9yfHwiXyIsbmFtZS5yZXBsYWNlKFNOQUtFX0NBU0VfUkVHRVhQLGZ1bmN0aW9uKGxldHRlcixwb3Mpe3JldHVybihwb3M/c2VwYXJhdG9yOiIiKStsZXR0ZXIudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIGJpbmRKUXVlcnkoKXt2YXIgb3JpZ2luYWxDbGVhbkRhdGE7YmluZEpRdWVyeUZpcmVkfHwoalF1ZXJ5PXdpbmRvdy5qUXVlcnksalF1ZXJ5JiZqUXVlcnkuZm4ub24/KGpxTGl0ZT1qUXVlcnksZXh0ZW5kKGpRdWVyeS5mbix7c2NvcGU6SlFMaXRlUHJvdG90eXBlLnNjb3BlLGlzb2xhdGVTY29wZTpKUUxpdGVQcm90b3R5cGUuaXNvbGF0ZVNjb3BlLGNvbnRyb2xsZXI6SlFMaXRlUHJvdG90eXBlLmNvbnRyb2xsZXIsaW5qZWN0b3I6SlFMaXRlUHJvdG90eXBlLmluamVjdG9yLGluaGVyaXRlZERhdGE6SlFMaXRlUHJvdG90eXBlLmluaGVyaXRlZERhdGF9KSxvcmlnaW5hbENsZWFuRGF0YT1qUXVlcnkuY2xlYW5EYXRhLGpRdWVyeS5jbGVhbkRhdGE9ZnVuY3Rpb24oZWxlbXMpe3ZhciBldmVudHM7aWYoc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGEpc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGE9ITE7ZWxzZSBmb3IodmFyIGVsZW0saT0wO251bGwhPShlbGVtPWVsZW1zW2ldKTtpKyspZXZlbnRzPWpRdWVyeS5fZGF0YShlbGVtLCJldmVudHMiKSxldmVudHMmJmV2ZW50cy4kZGVzdHJveSYmalF1ZXJ5KGVsZW0pLnRyaWdnZXJIYW5kbGVyKCIkZGVzdHJveSIpO29yaWdpbmFsQ2xlYW5EYXRhKGVsZW1zKX0pOmpxTGl0ZT1KUUxpdGUsYW5ndWxhci5lbGVtZW50PWpxTGl0ZSxiaW5kSlF1ZXJ5RmlyZWQ9ITApfWZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsbmFtZSxyZWFzb24pe2lmKCFhcmcpdGhyb3cgbmdNaW5FcnIoImFyZXEiLCJBcmd1bWVudCAnezB9JyBpcyB7MX0iLG5hbWV8fCI/IixyZWFzb258fCJyZXF1aXJlZCIpO3JldHVybiBhcmd9ZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLG5hbWUsYWNjZXB0QXJyYXlBbm5vdGF0aW9uKXtyZXR1cm4gYWNjZXB0QXJyYXlBbm5vdGF0aW9uJiZpc0FycmF5KGFyZykmJihhcmc9YXJnW2FyZy5sZW5ndGgtMV0pLGFzc2VydEFyZyhpc0Z1bmN0aW9uKGFyZyksbmFtZSwibm90IGEgZnVuY3Rpb24sIGdvdCAiKyhhcmcmJiJvYmplY3QiPT10eXBlb2YgYXJnP2FyZy5jb25zdHJ1Y3Rvci5uYW1lfHwiT2JqZWN0Ijp0eXBlb2YgYXJnKSksYXJnfWZ1bmN0aW9uIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsY29udGV4dCl7aWYoImhhc093blByb3BlcnR5Ij09PW5hbWUpdGhyb3cgbmdNaW5FcnIoImJhZG5hbWUiLCJoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZSIsY29udGV4dCl9ZnVuY3Rpb24gZ2V0dGVyKG9iaixwYXRoLGJpbmRGblRvU2NvcGUpe2lmKCFwYXRoKXJldHVybiBvYmo7Zm9yKHZhciBrZXksa2V5cz1wYXRoLnNwbGl0KCIuIiksbGFzdEluc3RhbmNlPW9iaixsZW49a2V5cy5sZW5ndGgsaT0wO2xlbj5pO2krKylrZXk9a2V5c1tpXSxvYmomJihvYmo9KGxhc3RJbnN0YW5jZT1vYmopW2tleV0pO3JldHVybiFiaW5kRm5Ub1Njb3BlJiZpc0Z1bmN0aW9uKG9iaik/YmluZChsYXN0SW5zdGFuY2Usb2JqKTpvYmp9ZnVuY3Rpb24gZ2V0QmxvY2tOb2Rlcyhub2Rlcyl7dmFyIG5vZGU9bm9kZXNbMF0sZW5kTm9kZT1ub2Rlc1tub2Rlcy5sZW5ndGgtMV0sYmxvY2tOb2Rlcz1bbm9kZV07ZG97aWYobm9kZT1ub2RlLm5leHRTaWJsaW5nLCFub2RlKWJyZWFrO2Jsb2NrTm9kZXMucHVzaChub2RlKX13aGlsZShub2RlIT09ZW5kTm9kZSk7cmV0dXJuIGpxTGl0ZShibG9ja05vZGVzKX1mdW5jdGlvbiBjcmVhdGVNYXAoKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpe2Z1bmN0aW9uIGVuc3VyZShvYmosbmFtZSxmYWN0b3J5KXtyZXR1cm4gb2JqW25hbWVdfHwob2JqW25hbWVdPWZhY3RvcnkoKSl9dmFyICRpbmplY3Rvck1pbkVycj1taW5FcnIoIiRpbmplY3RvciIpLG5nTWluRXJyPW1pbkVycigibmciKSxhbmd1bGFyPWVuc3VyZSh3aW5kb3csImFuZ3VsYXIiLE9iamVjdCk7cmV0dXJuIGFuZ3VsYXIuJCRtaW5FcnI9YW5ndWxhci4kJG1pbkVycnx8bWluRXJyLGVuc3VyZShhbmd1bGFyLCJtb2R1bGUiLGZ1bmN0aW9uKCl7dmFyIG1vZHVsZXM9e307cmV0dXJuIGZ1bmN0aW9uKG5hbWUscmVxdWlyZXMsY29uZmlnRm4pe3ZhciBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eT1mdW5jdGlvbihuYW1lLGNvbnRleHQpe2lmKCJoYXNPd25Qcm9wZXJ0eSI9PT1uYW1lKXRocm93IG5nTWluRXJyKCJiYWRuYW1lIiwiaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWUiLGNvbnRleHQpfTtyZXR1cm4gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwibW9kdWxlIikscmVxdWlyZXMmJm1vZHVsZXMuaGFzT3duUHJvcGVydHkobmFtZSkmJihtb2R1bGVzW25hbWVdPW51bGwpLGVuc3VyZShtb2R1bGVzLG5hbWUsZnVuY3Rpb24oKXtmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlcixtZXRob2QsaW5zZXJ0TWV0aG9kLHF1ZXVlKXtyZXR1cm4gcXVldWV8fChxdWV1ZT1pbnZva2VRdWV1ZSksZnVuY3Rpb24oKXtyZXR1cm4gcXVldWVbaW5zZXJ0TWV0aG9kfHwicHVzaCJdKFtwcm92aWRlcixtZXRob2QsYXJndW1lbnRzXSksbW9kdWxlSW5zdGFuY2V9fWlmKCFyZXF1aXJlcyl0aHJvdyAkaW5qZWN0b3JNaW5FcnIoIm5vbW9kIiwiTW9kdWxlICd7MH0nIGlzIG5vdCBhdmFpbGFibGUhIFlvdSBlaXRoZXIgbWlzc3BlbGxlZCB0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4iLG5hbWUpO3ZhciBpbnZva2VRdWV1ZT1bXSxjb25maWdCbG9ja3M9W10scnVuQmxvY2tzPVtdLGNvbmZpZz1pbnZva2VMYXRlcigiJGluamVjdG9yIiwiaW52b2tlIiwicHVzaCIsY29uZmlnQmxvY2tzKSxtb2R1bGVJbnN0YW5jZT17X2ludm9rZVF1ZXVlOmludm9rZVF1ZXVlLF9jb25maWdCbG9ja3M6Y29uZmlnQmxvY2tzLF9ydW5CbG9ja3M6cnVuQmxvY2tzLHJlcXVpcmVzOnJlcXVpcmVzLG5hbWU6bmFtZSxwcm92aWRlcjppbnZva2VMYXRlcigiJHByb3ZpZGUiLCJwcm92aWRlciIpLGZhY3Rvcnk6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwiZmFjdG9yeSIpLHNlcnZpY2U6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwic2VydmljZSIpLHZhbHVlOmludm9rZUxhdGVyKCIkcHJvdmlkZSIsInZhbHVlIiksY29uc3RhbnQ6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwiY29uc3RhbnQiLCJ1bnNoaWZ0IiksYW5pbWF0aW9uOmludm9rZUxhdGVyKCIkYW5pbWF0ZVByb3ZpZGVyIiwicmVnaXN0ZXIiKSxmaWx0ZXI6aW52b2tlTGF0ZXIoIiRmaWx0ZXJQcm92aWRlciIsInJlZ2lzdGVyIiksY29udHJvbGxlcjppbnZva2VMYXRlcigiJGNvbnRyb2xsZXJQcm92aWRlciIsInJlZ2lzdGVyIiksZGlyZWN0aXZlOmludm9rZUxhdGVyKCIkY29tcGlsZVByb3ZpZGVyIiwiZGlyZWN0aXZlIiksY29uZmlnOmNvbmZpZyxydW46ZnVuY3Rpb24oYmxvY2spe3JldHVybiBydW5CbG9ja3MucHVzaChibG9jayksdGhpc319O3JldHVybiBjb25maWdGbiYmY29uZmlnKGNvbmZpZ0ZuKSxtb2R1bGVJbnN0YW5jZX0pfX0pfWZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKXtleHRlbmQoYW5ndWxhcix7Ym9vdHN0cmFwOmJvb3RzdHJhcCxjb3B5OmNvcHksZXh0ZW5kOmV4dGVuZCxlcXVhbHM6ZXF1YWxzLGVsZW1lbnQ6anFMaXRlLGZvckVhY2g6Zm9yRWFjaCxpbmplY3RvcjpjcmVhdGVJbmplY3Rvcixub29wOm5vb3AsYmluZDpiaW5kLHRvSnNvbjp0b0pzb24sZnJvbUpzb246ZnJvbUpzb24saWRlbnRpdHk6aWRlbnRpdHksaXNVbmRlZmluZWQ6aXNVbmRlZmluZWQsaXNEZWZpbmVkOmlzRGVmaW5lZCxpc1N0cmluZzppc1N0cmluZyxpc0Z1bmN0aW9uOmlzRnVuY3Rpb24saXNPYmplY3Q6aXNPYmplY3QsaXNOdW1iZXI6aXNOdW1iZXIsaXNFbGVtZW50OmlzRWxlbWVudCxpc0FycmF5OmlzQXJyYXksdmVyc2lvbjp2ZXJzaW9uLGlzRGF0ZTppc0RhdGUsbG93ZXJjYXNlOmxvd2VyY2FzZSx1cHBlcmNhc2U6dXBwZXJjYXNlLGNhbGxiYWNrczp7Y291bnRlcjowfSxnZXRUZXN0YWJpbGl0eTpnZXRUZXN0YWJpbGl0eSwkJG1pbkVycjptaW5FcnIsJCRjc3A6Y3NwLHJlbG9hZFdpdGhEZWJ1Z0luZm86cmVsb2FkV2l0aERlYnVnSW5mb30pLGFuZ3VsYXJNb2R1bGU9c2V0dXBNb2R1bGVMb2FkZXIod2luZG93KTt0cnl7YW5ndWxhck1vZHVsZSgibmdMb2NhbGUiKX1jYXRjaChlKXthbmd1bGFyTW9kdWxlKCJuZ0xvY2FsZSIsW10pLnByb3ZpZGVyKCIkbG9jYWxlIiwkTG9jYWxlUHJvdmlkZXIpfWFuZ3VsYXJNb2R1bGUoIm5nIixbIm5nTG9jYWxlIl0sWyIkcHJvdmlkZSIsZnVuY3Rpb24oJHByb3ZpZGUpeyRwcm92aWRlLnByb3ZpZGVyKHskJHNhbml0aXplVXJpOiQkU2FuaXRpemVVcmlQcm92aWRlcn0pLCRwcm92aWRlLnByb3ZpZGVyKCIkY29tcGlsZSIsJENvbXBpbGVQcm92aWRlcikuZGlyZWN0aXZlKHthOmh0bWxBbmNob3JEaXJlY3RpdmUsaW5wdXQ6aW5wdXREaXJlY3RpdmUsdGV4dGFyZWE6aW5wdXREaXJlY3RpdmUsZm9ybTpmb3JtRGlyZWN0aXZlLHNjcmlwdDpzY3JpcHREaXJlY3RpdmUsc2VsZWN0OnNlbGVjdERpcmVjdGl2ZSxzdHlsZTpzdHlsZURpcmVjdGl2ZSxvcHRpb246b3B0aW9uRGlyZWN0aXZlLG5nQmluZDpuZ0JpbmREaXJlY3RpdmUsbmdCaW5kSHRtbDpuZ0JpbmRIdG1sRGlyZWN0aXZlLG5nQmluZFRlbXBsYXRlOm5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLG5nQ2xhc3M6bmdDbGFzc0RpcmVjdGl2ZSxuZ0NsYXNzRXZlbjpuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxuZ0NsYXNzT2RkOm5nQ2xhc3NPZGREaXJlY3RpdmUsbmdDbG9hazpuZ0Nsb2FrRGlyZWN0aXZlLG5nQ29udHJvbGxlcjpuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsbmdGb3JtOm5nRm9ybURpcmVjdGl2ZSxuZ0hpZGU6bmdIaWRlRGlyZWN0aXZlLG5nSWY6bmdJZkRpcmVjdGl2ZSxuZ0luY2x1ZGU6bmdJbmNsdWRlRGlyZWN0aXZlLG5nSW5pdDpuZ0luaXREaXJlY3RpdmUsbmdOb25CaW5kYWJsZTpuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLG5nUGx1cmFsaXplOm5nUGx1cmFsaXplRGlyZWN0aXZlLG5nUmVwZWF0Om5nUmVwZWF0RGlyZWN0aXZlLG5nU2hvdzpuZ1Nob3dEaXJlY3RpdmUsbmdTdHlsZTpuZ1N0eWxlRGlyZWN0aXZlLG5nU3dpdGNoOm5nU3dpdGNoRGlyZWN0aXZlLG5nU3dpdGNoV2hlbjpuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsbmdTd2l0Y2hEZWZhdWx0Om5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSxuZ09wdGlvbnM6bmdPcHRpb25zRGlyZWN0aXZlLG5nVHJhbnNjbHVkZTpuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsbmdNb2RlbDpuZ01vZGVsRGlyZWN0aXZlLG5nTGlzdDpuZ0xpc3REaXJlY3RpdmUsbmdDaGFuZ2U6bmdDaGFuZ2VEaXJlY3RpdmUscGF0dGVybjpwYXR0ZXJuRGlyZWN0aXZlLG5nUGF0dGVybjpwYXR0ZXJuRGlyZWN0aXZlLHJlcXVpcmVkOnJlcXVpcmVkRGlyZWN0aXZlLG5nUmVxdWlyZWQ6cmVxdWlyZWREaXJlY3RpdmUsbWlubGVuZ3RoOm1pbmxlbmd0aERpcmVjdGl2ZSxuZ01pbmxlbmd0aDptaW5sZW5ndGhEaXJlY3RpdmUsbWF4bGVuZ3RoOm1heGxlbmd0aERpcmVjdGl2ZSxuZ01heGxlbmd0aDptYXhsZW5ndGhEaXJlY3RpdmUsbmdWYWx1ZTpuZ1ZhbHVlRGlyZWN0aXZlLG5nTW9kZWxPcHRpb25zOm5nTW9kZWxPcHRpb25zRGlyZWN0aXZlfSkuZGlyZWN0aXZlKHtuZ0luY2x1ZGU6bmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmV9KS5kaXJlY3RpdmUobmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMpLmRpcmVjdGl2ZShuZ0V2ZW50RGlyZWN0aXZlcyksJHByb3ZpZGUucHJvdmlkZXIoeyRhbmNob3JTY3JvbGw6JEFuY2hvclNjcm9sbFByb3ZpZGVyLCRhbmltYXRlOiRBbmltYXRlUHJvdmlkZXIsJGJyb3dzZXI6JEJyb3dzZXJQcm92aWRlciwkY2FjaGVGYWN0b3J5OiRDYWNoZUZhY3RvcnlQcm92aWRlciwkY29udHJvbGxlcjokQ29udHJvbGxlclByb3ZpZGVyLCRkb2N1bWVudDokRG9jdW1lbnRQcm92aWRlciwkZXhjZXB0aW9uSGFuZGxlcjokRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLCRmaWx0ZXI6JEZpbHRlclByb3ZpZGVyLCRpbnRlcnBvbGF0ZTokSW50ZXJwb2xhdGVQcm92aWRlciwkaW50ZXJ2YWw6JEludGVydmFsUHJvdmlkZXIsJGh0dHA6JEh0dHBQcm92aWRlciwkaHR0cEJhY2tlbmQ6JEh0dHBCYWNrZW5kUHJvdmlkZXIsJGxvY2F0aW9uOiRMb2NhdGlvblByb3ZpZGVyLCRsb2c6JExvZ1Byb3ZpZGVyLCRwYXJzZTokUGFyc2VQcm92aWRlciwkcm9vdFNjb3BlOiRSb290U2NvcGVQcm92aWRlciwkcTokUVByb3ZpZGVyLCQkcTokJFFQcm92aWRlciwkc2NlOiRTY2VQcm92aWRlciwkc2NlRGVsZWdhdGU6JFNjZURlbGVnYXRlUHJvdmlkZXIsJHNuaWZmZXI6JFNuaWZmZXJQcm92aWRlciwkdGVtcGxhdGVDYWNoZTokVGVtcGxhdGVDYWNoZVByb3ZpZGVyLCR0ZW1wbGF0ZVJlcXVlc3Q6JFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLCQkdGVzdGFiaWxpdHk6JCRUZXN0YWJpbGl0eVByb3ZpZGVyLCR0aW1lb3V0OiRUaW1lb3V0UHJvdmlkZXIsJHdpbmRvdzokV2luZG93UHJvdmlkZXIsJCRyQUY6JCRSQUZQcm92aWRlciwkJGFzeW5jQ2FsbGJhY2s6JCRBc3luY0NhbGxiYWNrUHJvdmlkZXJ9KX1dKX1mdW5jdGlvbiBqcU5leHRJZCgpe3JldHVybisranFJZH1mdW5jdGlvbiBjYW1lbENhc2UobmFtZSl7cmV0dXJuIG5hbWUucmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCxmdW5jdGlvbihfLHNlcGFyYXRvcixsZXR0ZXIsb2Zmc2V0KXtyZXR1cm4gb2Zmc2V0P2xldHRlci50b1VwcGVyQ2FzZSgpOmxldHRlcn0pLnJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCJNb3okMSIpfWZ1bmN0aW9uIGpxTGl0ZUlzVGV4dE5vZGUoaHRtbCl7cmV0dXJuIUhUTUxfUkVHRVhQLnRlc3QoaHRtbCl9ZnVuY3Rpb24ganFMaXRlQWNjZXB0c0RhdGEobm9kZSl7dmFyIG5vZGVUeXBlPW5vZGUubm9kZVR5cGU7cmV0dXJuIG5vZGVUeXBlPT09Tk9ERV9UWVBFX0VMRU1FTlR8fCFub2RlVHlwZXx8bm9kZVR5cGU9PT1OT0RFX1RZUEVfRE9DVU1FTlR9ZnVuY3Rpb24ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLGNvbnRleHQpe3ZhciB0bXAsdGFnLHdyYXAsaSxmcmFnbWVudD1jb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxub2Rlcz1bXTtpZihqcUxpdGVJc1RleHROb2RlKGh0bWwpKW5vZGVzLnB1c2goY29udGV4dC5jcmVhdGVUZXh0Tm9kZShodG1sKSk7ZWxzZXtmb3IodG1wPXRtcHx8ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KCJkaXYiKSksdGFnPShUQUdfTkFNRV9SRUdFWFAuZXhlYyhodG1sKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSx3cmFwPXdyYXBNYXBbdGFnXXx8d3JhcE1hcC5fZGVmYXVsdCx0bXAuaW5uZXJIVE1MPXdyYXBbMV0raHRtbC5yZXBsYWNlKFhIVE1MX1RBR19SRUdFWFAsIjwkMT48LyQyPiIpK3dyYXBbMl0saT13cmFwWzBdO2ktLTspdG1wPXRtcC5sYXN0Q2hpbGQ7bm9kZXM9Y29uY2F0KG5vZGVzLHRtcC5jaGlsZE5vZGVzKSx0bXA9ZnJhZ21lbnQuZmlyc3RDaGlsZCx0bXAudGV4dENvbnRlbnQ9IiJ9cmV0dXJuIGZyYWdtZW50LnRleHRDb250ZW50PSIiLGZyYWdtZW50LmlubmVySFRNTD0iIixmb3JFYWNoKG5vZGVzLGZ1bmN0aW9uKG5vZGUpe2ZyYWdtZW50LmFwcGVuZENoaWxkKG5vZGUpfSksZnJhZ21lbnR9ZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsY29udGV4dCl7Y29udGV4dD1jb250ZXh0fHxkb2N1bWVudDt2YXIgcGFyc2VkO3JldHVybihwYXJzZWQ9U0lOR0xFX1RBR19SRUdFWFAuZXhlYyhodG1sKSk/W2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXToocGFyc2VkPWpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCxjb250ZXh0KSk/cGFyc2VkLmNoaWxkTm9kZXM6W119ZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpe2lmKGVsZW1lbnQgaW5zdGFuY2VvZiBKUUxpdGUpcmV0dXJuIGVsZW1lbnQ7dmFyIGFyZ0lzU3RyaW5nO2lmKGlzU3RyaW5nKGVsZW1lbnQpJiYoZWxlbWVudD10cmltKGVsZW1lbnQpLGFyZ0lzU3RyaW5nPSEwKSwhKHRoaXMgaW5zdGFuY2VvZiBKUUxpdGUpKXtpZihhcmdJc1N0cmluZyYmIjwiIT1lbGVtZW50LmNoYXJBdCgwKSl0aHJvdyBqcUxpdGVNaW5FcnIoIm5vc2VsIiwiTG9va2luZyB1cCBlbGVtZW50cyB2aWEgc2VsZWN0b3JzIGlzIG5vdCBzdXBwb3J0ZWQgYnkganFMaXRlISBTZWU6IGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2FuZ3VsYXIuZWxlbWVudCIpO3JldHVybiBuZXcgSlFMaXRlKGVsZW1lbnQpfWFyZ0lzU3RyaW5nP2pxTGl0ZUFkZE5vZGVzKHRoaXMsanFMaXRlUGFyc2VIVE1MKGVsZW1lbnQpKTpqcUxpdGVBZGROb2Rlcyh0aGlzLGVsZW1lbnQpfWZ1bmN0aW9uIGpxTGl0ZUNsb25lKGVsZW1lbnQpe3JldHVybiBlbGVtZW50LmNsb25lTm9kZSghMCl9ZnVuY3Rpb24ganFMaXRlRGVhbG9jKGVsZW1lbnQsb25seURlc2NlbmRhbnRzKXtpZihvbmx5RGVzY2VuZGFudHN8fGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCksZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKWZvcih2YXIgZGVzY2VuZGFudHM9ZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIqIiksaT0wLGw9ZGVzY2VuZGFudHMubGVuZ3RoO2w+aTtpKyspanFMaXRlUmVtb3ZlRGF0YShkZXNjZW5kYW50c1tpXSl9ZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsdHlwZSxmbix1bnN1cHBvcnRlZCl7aWYoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSl0aHJvdyBqcUxpdGVNaW5FcnIoIm9mZmFyZ3MiLCJqcUxpdGUjb2ZmKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBhcmd1bWVudCIpO3ZhciBleHBhbmRvU3RvcmU9anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpLGV2ZW50cz1leHBhbmRvU3RvcmUmJmV4cGFuZG9TdG9yZS5ldmVudHMsaGFuZGxlPWV4cGFuZG9TdG9yZSYmZXhwYW5kb1N0b3JlLmhhbmRsZTtpZihoYW5kbGUpaWYodHlwZSlmb3JFYWNoKHR5cGUuc3BsaXQoIiAiKSxmdW5jdGlvbih0eXBlKXtpZihpc0RlZmluZWQoZm4pKXt2YXIgbGlzdGVuZXJGbnM9ZXZlbnRzW3R5cGVdO2lmKGFycmF5UmVtb3ZlKGxpc3RlbmVyRm5zfHxbXSxmbiksbGlzdGVuZXJGbnMmJmxpc3RlbmVyRm5zLmxlbmd0aD4wKXJldHVybn1yZW1vdmVFdmVudExpc3RlbmVyRm4oZWxlbWVudCx0eXBlLGhhbmRsZSksZGVsZXRlIGV2ZW50c1t0eXBlXX0pO2Vsc2UgZm9yKHR5cGUgaW4gZXZlbnRzKSIkZGVzdHJveSIhPT10eXBlJiZyZW1vdmVFdmVudExpc3RlbmVyRm4oZWxlbWVudCx0eXBlLGhhbmRsZSksZGVsZXRlIGV2ZW50c1t0eXBlXX1mdW5jdGlvbiBqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQsbmFtZSl7dmFyIGV4cGFuZG9JZD1lbGVtZW50Lm5nMzM5LGV4cGFuZG9TdG9yZT1leHBhbmRvSWQmJmpxQ2FjaGVbZXhwYW5kb0lkXTtpZihleHBhbmRvU3RvcmUpe2lmKG5hbWUpcmV0dXJuIHZvaWQgZGVsZXRlIGV4cGFuZG9TdG9yZS5kYXRhW25hbWVdO2V4cGFuZG9TdG9yZS5oYW5kbGUmJihleHBhbmRvU3RvcmUuZXZlbnRzLiRkZXN0cm95JiZleHBhbmRvU3RvcmUuaGFuZGxlKHt9LCIkZGVzdHJveSIpLGpxTGl0ZU9mZihlbGVtZW50KSksZGVsZXRlIGpxQ2FjaGVbZXhwYW5kb0lkXSxlbGVtZW50Lm5nMzM5PXVuZGVmaW5lZH19ZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsY3JlYXRlSWZOZWNlc3Nhcnkpe3ZhciBleHBhbmRvSWQ9ZWxlbWVudC5uZzMzOSxleHBhbmRvU3RvcmU9ZXhwYW5kb0lkJiZqcUNhY2hlW2V4cGFuZG9JZF07cmV0dXJuIGNyZWF0ZUlmTmVjZXNzYXJ5JiYhZXhwYW5kb1N0b3JlJiYoZWxlbWVudC5uZzMzOT1leHBhbmRvSWQ9anFOZXh0SWQoKSxleHBhbmRvU3RvcmU9anFDYWNoZVtleHBhbmRvSWRdPXtldmVudHM6e30sZGF0YTp7fSxoYW5kbGU6dW5kZWZpbmVkfSksZXhwYW5kb1N0b3JlfWZ1bmN0aW9uIGpxTGl0ZURhdGEoZWxlbWVudCxrZXksdmFsdWUpe2lmKGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKXt2YXIgaXNTaW1wbGVTZXR0ZXI9aXNEZWZpbmVkKHZhbHVlKSxpc1NpbXBsZUdldHRlcj0haXNTaW1wbGVTZXR0ZXImJmtleSYmIWlzT2JqZWN0KGtleSksbWFzc0dldHRlcj0ha2V5LGV4cGFuZG9TdG9yZT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwhaXNTaW1wbGVHZXR0ZXIpLGRhdGE9ZXhwYW5kb1N0b3JlJiZleHBhbmRvU3RvcmUuZGF0YTtpZihpc1NpbXBsZVNldHRlcilkYXRhW2tleV09dmFsdWU7ZWxzZXtpZihtYXNzR2V0dGVyKXJldHVybiBkYXRhO2lmKGlzU2ltcGxlR2V0dGVyKXJldHVybiBkYXRhJiZkYXRhW2tleV07ZXh0ZW5kKGRhdGEsa2V5KX19fWZ1bmN0aW9uIGpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsc2VsZWN0b3Ipe3JldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZT8oIiAiKyhlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIikucmVwbGFjZSgvW1xuXHRdL2csIiAiKS5pbmRleE9mKCIgIitzZWxlY3RvcisiICIpPi0xOiExfWZ1bmN0aW9uIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsY3NzQ2xhc3Nlcyl7Y3NzQ2xhc3NlcyYmZWxlbWVudC5zZXRBdHRyaWJ1dGUmJmZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgiICIpLGZ1bmN0aW9uKGNzc0NsYXNzKXtlbGVtZW50LnNldEF0dHJpYnV0ZSgiY2xhc3MiLHRyaW0oKCIgIisoZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIpLnJlcGxhY2UoL1tcblx0XS9nLCIgIikucmVwbGFjZSgiICIrdHJpbShjc3NDbGFzcykrIiAiLCIgIikpKX0pfWZ1bmN0aW9uIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsY3NzQ2xhc3Nlcyl7aWYoY3NzQ2xhc3NlcyYmZWxlbWVudC5zZXRBdHRyaWJ1dGUpe3ZhciBleGlzdGluZ0NsYXNzZXM9KCIgIisoZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIpLnJlcGxhY2UoL1tcblx0XS9nLCIgIik7Zm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCIgIiksZnVuY3Rpb24oY3NzQ2xhc3Mpe2Nzc0NsYXNzPXRyaW0oY3NzQ2xhc3MpLC0xPT09ZXhpc3RpbmdDbGFzc2VzLmluZGV4T2YoIiAiK2Nzc0NsYXNzKyIgIikmJihleGlzdGluZ0NsYXNzZXMrPWNzc0NsYXNzKyIgIil9KSxlbGVtZW50LnNldEF0dHJpYnV0ZSgiY2xhc3MiLHRyaW0oZXhpc3RpbmdDbGFzc2VzKSl9fWZ1bmN0aW9uIGpxTGl0ZUFkZE5vZGVzKHJvb3QsZWxlbWVudHMpe2lmKGVsZW1lbnRzKWlmKGVsZW1lbnRzLm5vZGVUeXBlKXJvb3Rbcm9vdC5sZW5ndGgrK109ZWxlbWVudHM7ZWxzZXt2YXIgbGVuZ3RoPWVsZW1lbnRzLmxlbmd0aDtpZigibnVtYmVyIj09dHlwZW9mIGxlbmd0aCYmZWxlbWVudHMud2luZG93IT09ZWxlbWVudHMpe2lmKGxlbmd0aClmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspcm9vdFtyb290Lmxlbmd0aCsrXT1lbGVtZW50c1tpXX1lbHNlIHJvb3Rbcm9vdC5sZW5ndGgrK109ZWxlbWVudHN9fWZ1bmN0aW9uIGpxTGl0ZUNvbnRyb2xsZXIoZWxlbWVudCxuYW1lKXtyZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCIkIisobmFtZXx8Im5nQ29udHJvbGxlciIpKyJDb250cm9sbGVyIil9ZnVuY3Rpb24ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LG5hbWUsdmFsdWUpe2VsZW1lbnQubm9kZVR5cGU9PU5PREVfVFlQRV9ET0NVTUVOVCYmKGVsZW1lbnQ9ZWxlbWVudC5kb2N1bWVudEVsZW1lbnQpO2Zvcih2YXIgbmFtZXM9aXNBcnJheShuYW1lKT9uYW1lOltuYW1lXTtlbGVtZW50Oyl7Zm9yKHZhciBpPTAsaWk9bmFtZXMubGVuZ3RoO2lpPmk7aSsrKWlmKCh2YWx1ZT1qcUxpdGUuZGF0YShlbGVtZW50LG5hbWVzW2ldKSkhPT11bmRlZmluZWQpcmV0dXJuIHZhbHVlO2VsZW1lbnQ9ZWxlbWVudC5wYXJlbnROb2RlfHxlbGVtZW50Lm5vZGVUeXBlPT09Tk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UJiZlbGVtZW50Lmhvc3R9fWZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpe2ZvcihqcUxpdGVEZWFsb2MoZWxlbWVudCwhMCk7ZWxlbWVudC5maXJzdENoaWxkOyllbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCl9ZnVuY3Rpb24ganFMaXRlUmVtb3ZlKGVsZW1lbnQsa2VlcERhdGEpe2tlZXBEYXRhfHxqcUxpdGVEZWFsb2MoZWxlbWVudCk7dmFyIHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7cGFyZW50JiZwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCl9ZnVuY3Rpb24ganFMaXRlRG9jdW1lbnRMb2FkZWQoYWN0aW9uLHdpbil7d2luPXdpbnx8d2luZG93LCJjb21wbGV0ZSI9PT13aW4uZG9jdW1lbnQucmVhZHlTdGF0ZT93aW4uc2V0VGltZW91dChhY3Rpb24pOmpxTGl0ZSh3aW4pLm9uKCJsb2FkIixhY3Rpb24pfWZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LG5hbWUpe3ZhciBib29sZWFuQXR0cj1CT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gYm9vbGVhbkF0dHImJkJPT0xFQU5fRUxFTUVOVFNbbm9kZU5hbWVfKGVsZW1lbnQpXSYmYm9vbGVhbkF0dHJ9ZnVuY3Rpb24gZ2V0QWxpYXNlZEF0dHJOYW1lKGVsZW1lbnQsbmFtZSl7dmFyIG5vZGVOYW1lPWVsZW1lbnQubm9kZU5hbWU7cmV0dXJuKCJJTlBVVCI9PT1ub2RlTmFtZXx8IlRFWFRBUkVBIj09PW5vZGVOYW1lKSYmQUxJQVNFRF9BVFRSW25hbWVdfWZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LGV2ZW50cyl7dmFyIGV2ZW50SGFuZGxlcj1mdW5jdGlvbihldmVudCx0eXBlKXtldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZH07dmFyIGV2ZW50Rm5zPWV2ZW50c1t0eXBlfHxldmVudC50eXBlXSxldmVudEZuc0xlbmd0aD1ldmVudEZucz9ldmVudEZucy5sZW5ndGg6MDtpZihldmVudEZuc0xlbmd0aCl7aWYoaXNVbmRlZmluZWQoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSl7dmFyIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITAsZXZlbnQuc3RvcFByb3BhZ2F0aW9uJiZldmVudC5zdG9wUHJvcGFnYXRpb24oKSxvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiYmb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbChldmVudCl9fWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD09PSEwfSxldmVudEZuc0xlbmd0aD4xJiYoZXZlbnRGbnM9c2hhbGxvd0NvcHkoZXZlbnRGbnMpKTtmb3IodmFyIGk9MDtldmVudEZuc0xlbmd0aD5pO2krKylldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxldmVudEZuc1tpXS5jYWxsKGVsZW1lbnQsZXZlbnQpfX07cmV0dXJuIGV2ZW50SGFuZGxlci5lbGVtPWVsZW1lbnQsZXZlbnRIYW5kbGVyfWZ1bmN0aW9uIGhhc2hLZXkob2JqLG5leHRVaWRGbil7dmFyIGtleT1vYmomJm9iai4kJGhhc2hLZXk7aWYoa2V5KXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBrZXkmJihrZXk9b2JqLiQkaGFzaEtleSgpKSxrZXk7dmFyIG9ialR5cGU9dHlwZW9mIG9iajtyZXR1cm4ga2V5PSJmdW5jdGlvbiI9PW9ialR5cGV8fCJvYmplY3QiPT1vYmpUeXBlJiZudWxsIT09b2JqP29iai4kJGhhc2hLZXk9b2JqVHlwZSsiOiIrKG5leHRVaWRGbnx8bmV4dFVpZCkoKTpvYmpUeXBlKyI6IitvYmp9ZnVuY3Rpb24gSGFzaE1hcChhcnJheSxpc29sYXRlZFVpZCl7aWYoaXNvbGF0ZWRVaWQpe3ZhciB1aWQ9MDt0aGlzLm5leHRVaWQ9ZnVuY3Rpb24oKXtyZXR1cm4rK3VpZH19Zm9yRWFjaChhcnJheSx0aGlzLnB1dCx0aGlzKX1mdW5jdGlvbiBhbm9uRm4oZm4pe3ZhciBmblRleHQ9Zm4udG9TdHJpbmcoKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCIiKSxhcmdzPWZuVGV4dC5tYXRjaChGTl9BUkdTKTtyZXR1cm4gYXJncz8iZnVuY3Rpb24oIisoYXJnc1sxXXx8IiIpLnJlcGxhY2UoL1tcc1xyXG5dKy8sIiAiKSsiKSI6ImZuIn1mdW5jdGlvbiBhbm5vdGF0ZShmbixzdHJpY3REaSxuYW1lKXt2YXIgJGluamVjdCxmblRleHQsYXJnRGVjbCxsYXN0O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBmbil7aWYoISgkaW5qZWN0PWZuLiRpbmplY3QpKXtpZigkaW5qZWN0PVtdLGZuLmxlbmd0aCl7aWYoc3RyaWN0RGkpdGhyb3cgaXNTdHJpbmcobmFtZSkmJm5hbWV8fChuYW1lPWZuLm5hbWV8fGFub25GbihmbikpLCRpbmplY3Rvck1pbkVycigic3RyaWN0ZGkiLCJ7MH0gaXMgbm90IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gYW5kIGNhbm5vdCBiZSBpbnZva2VkIGluIHN0cmljdCBtb2RlIixuYW1lKTtmblRleHQ9Zm4udG9TdHJpbmcoKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCIiKSxhcmdEZWNsPWZuVGV4dC5tYXRjaChGTl9BUkdTKSxmb3JFYWNoKGFyZ0RlY2xbMV0uc3BsaXQoRk5fQVJHX1NQTElUKSxmdW5jdGlvbihhcmcpe2FyZy5yZXBsYWNlKEZOX0FSRyxmdW5jdGlvbihhbGwsdW5kZXJzY29yZSxuYW1lKXskaW5qZWN0LnB1c2gobmFtZSl9KX0pfWZuLiRpbmplY3Q9JGluamVjdH19ZWxzZSBpc0FycmF5KGZuKT8obGFzdD1mbi5sZW5ndGgtMSxhc3NlcnRBcmdGbihmbltsYXN0XSwiZm4iKSwkaW5qZWN0PWZuLnNsaWNlKDAsbGFzdCkpOmFzc2VydEFyZ0ZuKGZuLCJmbiIsITApO3JldHVybiAkaW5qZWN0fWZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKG1vZHVsZXNUb0xvYWQsc3RyaWN0RGkpe2Z1bmN0aW9uIHN1cHBvcnRPYmplY3QoZGVsZWdhdGUpe3JldHVybiBmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybiBpc09iamVjdChrZXkpP3ZvaWQgZm9yRWFjaChrZXkscmV2ZXJzZVBhcmFtcyhkZWxlZ2F0ZSkpOmRlbGVnYXRlKGtleSx2YWx1ZSl9fWZ1bmN0aW9uIHByb3ZpZGVyKG5hbWUscHJvdmlkZXJfKXtpZihhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCJzZXJ2aWNlIiksKGlzRnVuY3Rpb24ocHJvdmlkZXJfKXx8aXNBcnJheShwcm92aWRlcl8pKSYmKHByb3ZpZGVyXz1wcm92aWRlckluamVjdG9yLmluc3RhbnRpYXRlKHByb3ZpZGVyXykpLCFwcm92aWRlcl8uJGdldCl0aHJvdyAkaW5qZWN0b3JNaW5FcnIoInBnZXQiLCJQcm92aWRlciAnezB9JyBtdXN0IGRlZmluZSAkZ2V0IGZhY3RvcnkgbWV0aG9kLiIsbmFtZSk7cmV0dXJuIHByb3ZpZGVyQ2FjaGVbbmFtZStwcm92aWRlclN1ZmZpeF09cHJvdmlkZXJffWZ1bmN0aW9uIGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLGZhY3Rvcnkpe3JldHVybiBmdW5jdGlvbigpe3ZhciByZXN1bHQ9aW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZmFjdG9yeSx0aGlzLHVuZGVmaW5lZCxuYW1lKTtpZihpc1VuZGVmaW5lZChyZXN1bHQpKXRocm93ICRpbmplY3Rvck1pbkVycigidW5kZWYiLCJQcm92aWRlciAnezB9JyBtdXN0IHJldHVybiBhIHZhbHVlIGZyb20gJGdldCBmYWN0b3J5IG1ldGhvZC4iLG5hbWUpO3JldHVybiByZXN1bHR9fWZ1bmN0aW9uIGZhY3RvcnkobmFtZSxmYWN0b3J5Rm4sZW5mb3JjZSl7cmV0dXJuIHByb3ZpZGVyKG5hbWUseyRnZXQ6ZW5mb3JjZSE9PSExP2VuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLGZhY3RvcnlGbik6ZmFjdG9yeUZufSl9ZnVuY3Rpb24gc2VydmljZShuYW1lLGNvbnN0cnVjdG9yKXtyZXR1cm4gZmFjdG9yeShuYW1lLFsiJGluamVjdG9yIixmdW5jdGlvbigkaW5qZWN0b3Ipe3JldHVybiAkaW5qZWN0b3IuaW5zdGFudGlhdGUoY29uc3RydWN0b3IpfV0pfWZ1bmN0aW9uIHZhbHVlKG5hbWUsdmFsKXtyZXR1cm4gZmFjdG9yeShuYW1lLHZhbHVlRm4odmFsKSwhMSl9ZnVuY3Rpb24gY29uc3RhbnQobmFtZSx2YWx1ZSl7YXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwiY29uc3RhbnQiKSxwcm92aWRlckNhY2hlW25hbWVdPXZhbHVlLGluc3RhbmNlQ2FjaGVbbmFtZV09dmFsdWV9ZnVuY3Rpb24gZGVjb3JhdG9yKHNlcnZpY2VOYW1lLGRlY29yRm4pe3ZhciBvcmlnUHJvdmlkZXI9cHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUrcHJvdmlkZXJTdWZmaXgpLG9yaWckZ2V0PW9yaWdQcm92aWRlci4kZ2V0O29yaWdQcm92aWRlci4kZ2V0PWZ1bmN0aW9uKCl7dmFyIG9yaWdJbnN0YW5jZT1pbnN0YW5jZUluamVjdG9yLmludm9rZShvcmlnJGdldCxvcmlnUHJvdmlkZXIpO3JldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShkZWNvckZuLG51bGwseyRkZWxlZ2F0ZTpvcmlnSW5zdGFuY2V9KX19ZnVuY3Rpb24gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCl7dmFyIG1vZHVsZUZuLHJ1bkJsb2Nrcz1bXTtyZXR1cm4gZm9yRWFjaChtb2R1bGVzVG9Mb2FkLGZ1bmN0aW9uKG1vZHVsZSl7ZnVuY3Rpb24gcnVuSW52b2tlUXVldWUocXVldWUpe3ZhciBpLGlpO2ZvcihpPTAsaWk9cXVldWUubGVuZ3RoO2lpPmk7aSsrKXt2YXIgaW52b2tlQXJncz1xdWV1ZVtpXSxwcm92aWRlcj1wcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtwcm92aWRlcltpbnZva2VBcmdzWzFdXS5hcHBseShwcm92aWRlcixpbnZva2VBcmdzWzJdKX19aWYoIWxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpe2xvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwhMCk7dHJ5e2lzU3RyaW5nKG1vZHVsZSk/KG1vZHVsZUZuPWFuZ3VsYXJNb2R1bGUobW9kdWxlKSxydW5CbG9ja3M9cnVuQmxvY2tzLmNvbmNhdChsb2FkTW9kdWxlcyhtb2R1bGVGbi5yZXF1aXJlcykpLmNvbmNhdChtb2R1bGVGbi5fcnVuQmxvY2tzKSxydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5faW52b2tlUXVldWUpLHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9jb25maWdCbG9ja3MpKTppc0Z1bmN0aW9uKG1vZHVsZSk/cnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk6aXNBcnJheShtb2R1bGUpP3J1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpOmFzc2VydEFyZ0ZuKG1vZHVsZSwibW9kdWxlIil9Y2F0Y2goZSl7dGhyb3cgaXNBcnJheShtb2R1bGUpJiYobW9kdWxlPW1vZHVsZVttb2R1bGUubGVuZ3RoLTFdKSxlLm1lc3NhZ2UmJmUuc3RhY2smJi0xPT1lLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSYmKGU9ZS5tZXNzYWdlKyJcbiIrZS5zdGFjayksJGluamVjdG9yTWluRXJyKCJtb2R1bGVyciIsIkZhaWxlZCB0byBpbnN0YW50aWF0ZSBtb2R1bGUgezB9IGR1ZSB0bzpcbnsxfSIsbW9kdWxlLGUuc3RhY2t8fGUubWVzc2FnZXx8ZSl9fX0pLHJ1bkJsb2Nrc31mdW5jdGlvbiBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGNhY2hlLGZhY3Rvcnkpe2Z1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUpe2lmKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSl7aWYoY2FjaGVbc2VydmljZU5hbWVdPT09SU5TVEFOVElBVElORyl0aHJvdyAkaW5qZWN0b3JNaW5FcnIoImNkZXAiLCJDaXJjdWxhciBkZXBlbmRlbmN5IGZvdW5kOiB7MH0iLHNlcnZpY2VOYW1lKyIgPC0gIitwYXRoLmpvaW4oIiA8LSAiKSk7cmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXX10cnl7cmV0dXJuIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSksY2FjaGVbc2VydmljZU5hbWVdPUlOU1RBTlRJQVRJTkcsY2FjaGVbc2VydmljZU5hbWVdPWZhY3Rvcnkoc2VydmljZU5hbWUpfWNhdGNoKGVycil7dGhyb3cgY2FjaGVbc2VydmljZU5hbWVdPT09SU5TVEFOVElBVElORyYmZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXSxlcnJ9ZmluYWxseXtwYXRoLnNoaWZ0KCl9fWZ1bmN0aW9uIGludm9rZShmbixzZWxmLGxvY2FscyxzZXJ2aWNlTmFtZSl7InN0cmluZyI9PXR5cGVvZiBsb2NhbHMmJihzZXJ2aWNlTmFtZT1sb2NhbHMsbG9jYWxzPW51bGwpO3ZhciBsZW5ndGgsaSxrZXksYXJncz1bXSwkaW5qZWN0PWFubm90YXRlKGZuLHN0cmljdERpLHNlcnZpY2VOYW1lKTtmb3IoaT0wLGxlbmd0aD0kaW5qZWN0Lmxlbmd0aDtsZW5ndGg+aTtpKyspe2lmKGtleT0kaW5qZWN0W2ldLCJzdHJpbmciIT10eXBlb2Yga2V5KXRocm93ICRpbmplY3Rvck1pbkVycigiaXRrbiIsIkluY29ycmVjdCBpbmplY3Rpb24gdG9rZW4hIEV4cGVjdGVkIHNlcnZpY2UgbmFtZSBhcyBzdHJpbmcsIGdvdCB7MH0iLGtleSk7YXJncy5wdXNoKGxvY2FscyYmbG9jYWxzLmhhc093blByb3BlcnR5KGtleSk/bG9jYWxzW2tleV06Z2V0U2VydmljZShrZXkpKX1yZXR1cm4gaXNBcnJheShmbikmJihmbj1mbltsZW5ndGhdKSxmbi5hcHBseShzZWxmLGFyZ3MpfWZ1bmN0aW9uIGluc3RhbnRpYXRlKFR5cGUsbG9jYWxzLHNlcnZpY2VOYW1lKXt2YXIgaW5zdGFuY2UscmV0dXJuZWRWYWx1ZSxDb25zdHJ1Y3Rvcj1mdW5jdGlvbigpe307cmV0dXJuIENvbnN0cnVjdG9yLnByb3RvdHlwZT0oaXNBcnJheShUeXBlKT9UeXBlW1R5cGUubGVuZ3RoLTFdOlR5cGUpLnByb3RvdHlwZSxpbnN0YW5jZT1uZXcgQ29uc3RydWN0b3IscmV0dXJuZWRWYWx1ZT1pbnZva2UoVHlwZSxpbnN0YW5jZSxsb2NhbHMsc2VydmljZU5hbWUpLGlzT2JqZWN0KHJldHVybmVkVmFsdWUpfHxpc0Z1bmN0aW9uKHJldHVybmVkVmFsdWUpP3JldHVybmVkVmFsdWU6aW5zdGFuY2V9cmV0dXJue2ludm9rZTppbnZva2UsaW5zdGFudGlhdGU6aW5zdGFudGlhdGUsZ2V0OmdldFNlcnZpY2UsYW5ub3RhdGU6YW5ub3RhdGUsaGFzOmZ1bmN0aW9uKG5hbWUpe3JldHVybiBwcm92aWRlckNhY2hlLmhhc093blByb3BlcnR5KG5hbWUrcHJvdmlkZXJTdWZmaXgpfHxjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKX19fXN0cmljdERpPXN0cmljdERpPT09ITA7dmFyIElOU1RBTlRJQVRJTkc9e30scHJvdmlkZXJTdWZmaXg9IlByb3ZpZGVyIixwYXRoPVtdLGxvYWRlZE1vZHVsZXM9bmV3IEhhc2hNYXAoW10sITApLHByb3ZpZGVyQ2FjaGU9eyRwcm92aWRlOntwcm92aWRlcjpzdXBwb3J0T2JqZWN0KHByb3ZpZGVyKSxmYWN0b3J5OnN1cHBvcnRPYmplY3QoZmFjdG9yeSksc2VydmljZTpzdXBwb3J0T2JqZWN0KHNlcnZpY2UpLHZhbHVlOnN1cHBvcnRPYmplY3QodmFsdWUpLGNvbnN0YW50OnN1cHBvcnRPYmplY3QoY29uc3RhbnQpLGRlY29yYXRvcjpkZWNvcmF0b3J9fSxwcm92aWRlckluamVjdG9yPXByb3ZpZGVyQ2FjaGUuJGluamVjdG9yPWNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSxmdW5jdGlvbigpe3Rocm93ICRpbmplY3Rvck1pbkVycigidW5wciIsIlVua25vd24gcHJvdmlkZXI6IHswfSIscGF0aC5qb2luKCIgPC0gIikpfSksaW5zdGFuY2VDYWNoZT17fSxpbnN0YW5jZUluamVjdG9yPWluc3RhbmNlQ2FjaGUuJGluamVjdG9yPWNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSxmdW5jdGlvbihzZXJ2aWNlbmFtZSl7dmFyIHByb3ZpZGVyPXByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VuYW1lK3Byb3ZpZGVyU3VmZml4KTtyZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UocHJvdmlkZXIuJGdldCxwcm92aWRlcix1bmRlZmluZWQsc2VydmljZW5hbWUpfSk7cmV0dXJuIGZvckVhY2gobG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCksZnVuY3Rpb24oZm4pe2luc3RhbmNlSW5qZWN0b3IuaW52b2tlKGZufHxub29wKX0pLGluc3RhbmNlSW5qZWN0b3J9ZnVuY3Rpb24gJEFuY2hvclNjcm9sbFByb3ZpZGVyKCl7dmFyIGF1dG9TY3JvbGxpbmdFbmFibGVkPSEwO3RoaXMuZGlzYWJsZUF1dG9TY3JvbGxpbmc9ZnVuY3Rpb24oKXthdXRvU2Nyb2xsaW5nRW5hYmxlZD0hMX0sdGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiRsb2NhdGlvbiIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKCR3aW5kb3csJGxvY2F0aW9uLCRyb290U2NvcGUpe2Z1bmN0aW9uIGdldEZpcnN0QW5jaG9yKGxpc3Qpe3ZhciByZXN1bHQ9bnVsbDtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChsaXN0LGZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiJhIj09PW5vZGVOYW1lXyhlbGVtZW50KT8ocmVzdWx0PWVsZW1lbnQsITApOnZvaWQgMH0pLHJlc3VsdH1mdW5jdGlvbiBnZXRZT2Zmc2V0KCl7dmFyIG9mZnNldD1zY3JvbGwueU9mZnNldDtpZihpc0Z1bmN0aW9uKG9mZnNldCkpb2Zmc2V0PW9mZnNldCgpO2Vsc2UgaWYoaXNFbGVtZW50KG9mZnNldCkpe3ZhciBlbGVtPW9mZnNldFswXSxzdHlsZT0kd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSk7b2Zmc2V0PSJmaXhlZCIhPT1zdHlsZS5wb3NpdGlvbj8wOmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tfWVsc2UgaXNOdW1iZXIob2Zmc2V0KXx8KG9mZnNldD0wKTtyZXR1cm4gb2Zmc2V0fWZ1bmN0aW9uIHNjcm9sbFRvKGVsZW0pe2lmKGVsZW0pe2VsZW0uc2Nyb2xsSW50b1ZpZXcoKTt2YXIgb2Zmc2V0PWdldFlPZmZzZXQoKTtpZihvZmZzZXQpe3ZhciBlbGVtVG9wPWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOyR3aW5kb3cuc2Nyb2xsQnkoMCxlbGVtVG9wLW9mZnNldCl9fWVsc2UgJHdpbmRvdy5zY3JvbGxUbygwLDApfWZ1bmN0aW9uIHNjcm9sbCgpe3ZhciBlbG0saGFzaD0kbG9jYXRpb24uaGFzaCgpO2hhc2g/KGVsbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSk/c2Nyb2xsVG8oZWxtKTooZWxtPWdldEZpcnN0QW5jaG9yKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2gpKSk/c2Nyb2xsVG8oZWxtKToidG9wIj09PWhhc2gmJnNjcm9sbFRvKG51bGwpOnNjcm9sbFRvKG51bGwpfXZhciBkb2N1bWVudD0kd2luZG93LmRvY3VtZW50O3JldHVybiBhdXRvU2Nyb2xsaW5nRW5hYmxlZCYmJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKX0sZnVuY3Rpb24obmV3VmFsLG9sZFZhbCl7KG5ld1ZhbCE9PW9sZFZhbHx8IiIhPT1uZXdWYWwpJiZqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpeyRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpfSl9KSxzY3JvbGx9XX1mdW5jdGlvbiAkJEFzeW5jQ2FsbGJhY2tQcm92aWRlcigpe3RoaXMuJGdldD1bIiQkckFGIiwiJHRpbWVvdXQiLGZ1bmN0aW9uKCQkckFGLCR0aW1lb3V0KXtyZXR1cm4gJCRyQUYuc3VwcG9ydGVkP2Z1bmN0aW9uKGZuKXtyZXR1cm4gJCRyQUYoZm4pfTpmdW5jdGlvbihmbil7cmV0dXJuICR0aW1lb3V0KGZuLDAsITEpfX1dfWZ1bmN0aW9uIEJyb3dzZXIod2luZG93LGRvY3VtZW50LCRsb2csJHNuaWZmZXIpe2Z1bmN0aW9uIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKXt0cnl7Zm4uYXBwbHkobnVsbCxzbGljZUFyZ3MoYXJndW1lbnRzLDEpKX1maW5hbGx5e2lmKG91dHN0YW5kaW5nUmVxdWVzdENvdW50LS0sMD09PW91dHN0YW5kaW5nUmVxdWVzdENvdW50KWZvcig7b3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLmxlbmd0aDspdHJ5e291dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wb3AoKSgpfWNhdGNoKGUpeyRsb2cuZXJyb3IoZSl9fX1mdW5jdGlvbiBzdGFydFBvbGxlcihpbnRlcnZhbCxzZXRUaW1lb3V0KXshZnVuY3Rpb24gY2hlY2soKXtmb3JFYWNoKHBvbGxGbnMsZnVuY3Rpb24ocG9sbEZuKXtwb2xsRm4oKX0pLHBvbGxUaW1lb3V0PXNldFRpbWVvdXQoY2hlY2ssaW50ZXJ2YWwpfSgpfWZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCl7Y2FjaGVTdGF0ZSgpLGZpcmVVcmxDaGFuZ2UoKX1mdW5jdGlvbiBjYWNoZVN0YXRlKCl7Y2FjaGVkU3RhdGU9d2luZG93Lmhpc3Rvcnkuc3RhdGUsY2FjaGVkU3RhdGU9aXNVbmRlZmluZWQoY2FjaGVkU3RhdGUpP251bGw6Y2FjaGVkU3RhdGUsZXF1YWxzKGNhY2hlZFN0YXRlLGxhc3RDYWNoZWRTdGF0ZSkmJihjYWNoZWRTdGF0ZT1sYXN0Q2FjaGVkU3RhdGUpLGxhc3RDYWNoZWRTdGF0ZT1jYWNoZWRTdGF0ZQp9ZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpeyhsYXN0QnJvd3NlclVybCE9PXNlbGYudXJsKCl8fGxhc3RIaXN0b3J5U3RhdGUhPT1jYWNoZWRTdGF0ZSkmJihsYXN0QnJvd3NlclVybD1zZWxmLnVybCgpLGxhc3RIaXN0b3J5U3RhdGU9Y2FjaGVkU3RhdGUsZm9yRWFjaCh1cmxDaGFuZ2VMaXN0ZW5lcnMsZnVuY3Rpb24obGlzdGVuZXIpe2xpc3RlbmVyKHNlbGYudXJsKCksY2FjaGVkU3RhdGUpfSkpfWZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpfWNhdGNoKGUpe3JldHVybiBzdHJ9fXZhciBzZWxmPXRoaXMscmF3RG9jdW1lbnQ9ZG9jdW1lbnRbMF0sbG9jYXRpb249d2luZG93LmxvY2F0aW9uLGhpc3Rvcnk9d2luZG93Lmhpc3Rvcnksc2V0VGltZW91dD13aW5kb3cuc2V0VGltZW91dCxjbGVhclRpbWVvdXQ9d2luZG93LmNsZWFyVGltZW91dCxwZW5kaW5nRGVmZXJJZHM9e307c2VsZi5pc01vY2s9ITE7dmFyIG91dHN0YW5kaW5nUmVxdWVzdENvdW50PTAsb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzPVtdO3NlbGYuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdD1jb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCxzZWxmLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQ9ZnVuY3Rpb24oKXtvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrfSxzZWxmLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM9ZnVuY3Rpb24oY2FsbGJhY2spe2ZvckVhY2gocG9sbEZucyxmdW5jdGlvbihwb2xsRm4pe3BvbGxGbigpfSksMD09PW91dHN0YW5kaW5nUmVxdWVzdENvdW50P2NhbGxiYWNrKCk6b3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spfTt2YXIgcG9sbFRpbWVvdXQscG9sbEZucz1bXTtzZWxmLmFkZFBvbGxGbj1mdW5jdGlvbihmbil7cmV0dXJuIGlzVW5kZWZpbmVkKHBvbGxUaW1lb3V0KSYmc3RhcnRQb2xsZXIoMTAwLHNldFRpbWVvdXQpLHBvbGxGbnMucHVzaChmbiksZm59O3ZhciBjYWNoZWRTdGF0ZSxsYXN0SGlzdG9yeVN0YXRlLGxhc3RCcm93c2VyVXJsPWxvY2F0aW9uLmhyZWYsYmFzZUVsZW1lbnQ9ZG9jdW1lbnQuZmluZCgiYmFzZSIpLHJlbG9hZExvY2F0aW9uPW51bGw7Y2FjaGVTdGF0ZSgpLGxhc3RIaXN0b3J5U3RhdGU9Y2FjaGVkU3RhdGUsc2VsZi51cmw9ZnVuY3Rpb24odXJsLHJlcGxhY2Usc3RhdGUpe2lmKGlzVW5kZWZpbmVkKHN0YXRlKSYmKHN0YXRlPW51bGwpLGxvY2F0aW9uIT09d2luZG93LmxvY2F0aW9uJiYobG9jYXRpb249d2luZG93LmxvY2F0aW9uKSxoaXN0b3J5IT09d2luZG93Lmhpc3RvcnkmJihoaXN0b3J5PXdpbmRvdy5oaXN0b3J5KSx1cmwpe3ZhciBzYW1lU3RhdGU9bGFzdEhpc3RvcnlTdGF0ZT09PXN0YXRlO2lmKGxhc3RCcm93c2VyVXJsPT09dXJsJiYoISRzbmlmZmVyLmhpc3Rvcnl8fHNhbWVTdGF0ZSkpcmV0dXJuO3ZhciBzYW1lQmFzZT1sYXN0QnJvd3NlclVybCYmc3RyaXBIYXNoKGxhc3RCcm93c2VyVXJsKT09PXN0cmlwSGFzaCh1cmwpO3JldHVybiBsYXN0QnJvd3NlclVybD11cmwsbGFzdEhpc3RvcnlTdGF0ZT1zdGF0ZSwhJHNuaWZmZXIuaGlzdG9yeXx8c2FtZUJhc2UmJnNhbWVTdGF0ZT8oc2FtZUJhc2V8fChyZWxvYWRMb2NhdGlvbj11cmwpLHJlcGxhY2U/bG9jYXRpb24ucmVwbGFjZSh1cmwpOmxvY2F0aW9uLmhyZWY9dXJsKTooaGlzdG9yeVtyZXBsYWNlPyJyZXBsYWNlU3RhdGUiOiJwdXNoU3RhdGUiXShzdGF0ZSwiIix1cmwpLGNhY2hlU3RhdGUoKSxsYXN0SGlzdG9yeVN0YXRlPWNhY2hlZFN0YXRlKSxzZWxmfXJldHVybiByZWxvYWRMb2NhdGlvbnx8bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8lMjcvZywiJyIpfSxzZWxmLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGNhY2hlZFN0YXRlfTt2YXIgdXJsQ2hhbmdlTGlzdGVuZXJzPVtdLHVybENoYW5nZUluaXQ9ITEsbGFzdENhY2hlZFN0YXRlPW51bGw7c2VsZi5vblVybENoYW5nZT1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHVybENoYW5nZUluaXR8fCgkc25pZmZlci5oaXN0b3J5JiZqcUxpdGUod2luZG93KS5vbigicG9wc3RhdGUiLGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKSxqcUxpdGUod2luZG93KS5vbigiaGFzaGNoYW5nZSIsY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpLHVybENoYW5nZUluaXQ9ITApLHVybENoYW5nZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKSxjYWxsYmFja30sc2VsZi4kJGNoZWNrVXJsQ2hhbmdlPWZpcmVVcmxDaGFuZ2Usc2VsZi5iYXNlSHJlZj1mdW5jdGlvbigpe3ZhciBocmVmPWJhc2VFbGVtZW50LmF0dHIoImhyZWYiKTtyZXR1cm4gaHJlZj9ocmVmLnJlcGxhY2UoL14oaHR0cHM/XDopP1wvXC9bXlwvXSovLCIiKToiIn07dmFyIGxhc3RDb29raWVzPXt9LGxhc3RDb29raWVTdHJpbmc9IiIsY29va2llUGF0aD1zZWxmLmJhc2VIcmVmKCk7c2VsZi5jb29raWVzPWZ1bmN0aW9uKG5hbWUsdmFsdWUpe3ZhciBjb29raWVMZW5ndGgsY29va2llQXJyYXksY29va2llLGksaW5kZXg7aWYoIW5hbWUpe2lmKHJhd0RvY3VtZW50LmNvb2tpZSE9PWxhc3RDb29raWVTdHJpbmcpZm9yKGxhc3RDb29raWVTdHJpbmc9cmF3RG9jdW1lbnQuY29va2llLGNvb2tpZUFycmF5PWxhc3RDb29raWVTdHJpbmcuc3BsaXQoIjsgIiksbGFzdENvb2tpZXM9e30saT0wO2k8Y29va2llQXJyYXkubGVuZ3RoO2krKyljb29raWU9Y29va2llQXJyYXlbaV0saW5kZXg9Y29va2llLmluZGV4T2YoIj0iKSxpbmRleD4wJiYobmFtZT1zYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoMCxpbmRleCkpLGxhc3RDb29raWVzW25hbWVdPT09dW5kZWZpbmVkJiYobGFzdENvb2tpZXNbbmFtZV09c2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKGluZGV4KzEpKSkpO3JldHVybiBsYXN0Q29va2llc312YWx1ZT09PXVuZGVmaW5lZD9yYXdEb2N1bWVudC5jb29raWU9ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpKyI9O3BhdGg9Iitjb29raWVQYXRoKyI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCI6aXNTdHJpbmcodmFsdWUpJiYoY29va2llTGVuZ3RoPShyYXdEb2N1bWVudC5jb29raWU9ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpKyI9IitlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKyI7cGF0aD0iK2Nvb2tpZVBhdGgpLmxlbmd0aCsxLGNvb2tpZUxlbmd0aD40MDk2JiYkbG9nLndhcm4oIkNvb2tpZSAnIituYW1lKyInIHBvc3NpYmx5IG5vdCBzZXQgb3Igb3ZlcmZsb3dlZCBiZWNhdXNlIGl0IHdhcyB0b28gbGFyZ2UgKCIrY29va2llTGVuZ3RoKyIgPiA0MDk2IGJ5dGVzKSEiKSl9LHNlbGYuZGVmZXI9ZnVuY3Rpb24oZm4sZGVsYXkpe3ZhciB0aW1lb3V0SWQ7cmV0dXJuIG91dHN0YW5kaW5nUmVxdWVzdENvdW50KyssdGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF0sY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pfSxkZWxheXx8MCkscGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF09ITAsdGltZW91dElkfSxzZWxmLmRlZmVyLmNhbmNlbD1mdW5jdGlvbihkZWZlcklkKXtyZXR1cm4gcGVuZGluZ0RlZmVySWRzW2RlZmVySWRdPyhkZWxldGUgcGVuZGluZ0RlZmVySWRzW2RlZmVySWRdLGNsZWFyVGltZW91dChkZWZlcklkKSxjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKSwhMCk6ITF9fWZ1bmN0aW9uICRCcm93c2VyUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvZyIsIiRzbmlmZmVyIiwiJGRvY3VtZW50IixmdW5jdGlvbigkd2luZG93LCRsb2csJHNuaWZmZXIsJGRvY3VtZW50KXtyZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywkZG9jdW1lbnQsJGxvZywkc25pZmZlcil9XX1mdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjYWNoZUZhY3RvcnkoY2FjaGVJZCxvcHRpb25zKXtmdW5jdGlvbiByZWZyZXNoKGVudHJ5KXtlbnRyeSE9ZnJlc2hFbmQmJihzdGFsZUVuZD9zdGFsZUVuZD09ZW50cnkmJihzdGFsZUVuZD1lbnRyeS5uKTpzdGFsZUVuZD1lbnRyeSxsaW5rKGVudHJ5Lm4sZW50cnkucCksbGluayhlbnRyeSxmcmVzaEVuZCksZnJlc2hFbmQ9ZW50cnksZnJlc2hFbmQubj1udWxsKX1mdW5jdGlvbiBsaW5rKG5leHRFbnRyeSxwcmV2RW50cnkpe25leHRFbnRyeSE9cHJldkVudHJ5JiYobmV4dEVudHJ5JiYobmV4dEVudHJ5LnA9cHJldkVudHJ5KSxwcmV2RW50cnkmJihwcmV2RW50cnkubj1uZXh0RW50cnkpKX1pZihjYWNoZUlkIGluIGNhY2hlcyl0aHJvdyBtaW5FcnIoIiRjYWNoZUZhY3RvcnkiKSgiaWlkIiwiQ2FjaGVJZCAnezB9JyBpcyBhbHJlYWR5IHRha2VuISIsY2FjaGVJZCk7dmFyIHNpemU9MCxzdGF0cz1leHRlbmQoe30sb3B0aW9ucyx7aWQ6Y2FjaGVJZH0pLGRhdGE9e30sY2FwYWNpdHk9b3B0aW9ucyYmb3B0aW9ucy5jYXBhY2l0eXx8TnVtYmVyLk1BWF9WQUxVRSxscnVIYXNoPXt9LGZyZXNoRW5kPW51bGwsc3RhbGVFbmQ9bnVsbDtyZXR1cm4gY2FjaGVzW2NhY2hlSWRdPXtwdXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXtpZihjYXBhY2l0eTxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgbHJ1RW50cnk9bHJ1SGFzaFtrZXldfHwobHJ1SGFzaFtrZXldPXtrZXk6a2V5fSk7cmVmcmVzaChscnVFbnRyeSl9aWYoIWlzVW5kZWZpbmVkKHZhbHVlKSlyZXR1cm4ga2V5IGluIGRhdGF8fHNpemUrKyxkYXRhW2tleV09dmFsdWUsc2l6ZT5jYXBhY2l0eSYmdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KSx2YWx1ZX0sZ2V0OmZ1bmN0aW9uKGtleSl7aWYoY2FwYWNpdHk8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGxydUVudHJ5PWxydUhhc2hba2V5XTtpZighbHJ1RW50cnkpcmV0dXJuO3JlZnJlc2gobHJ1RW50cnkpfXJldHVybiBkYXRhW2tleV19LHJlbW92ZTpmdW5jdGlvbihrZXkpe2lmKGNhcGFjaXR5PE51bWJlci5NQVhfVkFMVUUpe3ZhciBscnVFbnRyeT1scnVIYXNoW2tleV07aWYoIWxydUVudHJ5KXJldHVybjtscnVFbnRyeT09ZnJlc2hFbmQmJihmcmVzaEVuZD1scnVFbnRyeS5wKSxscnVFbnRyeT09c3RhbGVFbmQmJihzdGFsZUVuZD1scnVFbnRyeS5uKSxsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCksZGVsZXRlIGxydUhhc2hba2V5XX1kZWxldGUgZGF0YVtrZXldLHNpemUtLX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7ZGF0YT17fSxzaXplPTAsbHJ1SGFzaD17fSxmcmVzaEVuZD1zdGFsZUVuZD1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7ZGF0YT1udWxsLHN0YXRzPW51bGwsbHJ1SGFzaD1udWxsLGRlbGV0ZSBjYWNoZXNbY2FjaGVJZF19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gZXh0ZW5kKHt9LHN0YXRzLHtzaXplOnNpemV9KX19fXZhciBjYWNoZXM9e307cmV0dXJuIGNhY2hlRmFjdG9yeS5pbmZvPWZ1bmN0aW9uKCl7dmFyIGluZm89e307cmV0dXJuIGZvckVhY2goY2FjaGVzLGZ1bmN0aW9uKGNhY2hlLGNhY2hlSWQpe2luZm9bY2FjaGVJZF09Y2FjaGUuaW5mbygpfSksaW5mb30sY2FjaGVGYWN0b3J5LmdldD1mdW5jdGlvbihjYWNoZUlkKXtyZXR1cm4gY2FjaGVzW2NhY2hlSWRdfSxjYWNoZUZhY3Rvcnl9fWZ1bmN0aW9uICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkY2FjaGVGYWN0b3J5IixmdW5jdGlvbigkY2FjaGVGYWN0b3J5KXtyZXR1cm4gJGNhY2hlRmFjdG9yeSgidGVtcGxhdGVzIil9XX1mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCQkc2FuaXRpemVVcmlQcm92aWRlcil7ZnVuY3Rpb24gcGFyc2VJc29sYXRlQmluZGluZ3Moc2NvcGUsZGlyZWN0aXZlTmFtZSl7dmFyIExPQ0FMX1JFR0VYUD0vXlxzKihbQD0mXSkoXD8/KVxzKihcdyopXHMqJC8sYmluZGluZ3M9e307cmV0dXJuIGZvckVhY2goc2NvcGUsZnVuY3Rpb24oZGVmaW5pdGlvbixzY29wZU5hbWUpe3ZhciBtYXRjaD1kZWZpbml0aW9uLm1hdGNoKExPQ0FMX1JFR0VYUCk7aWYoIW1hdGNoKXRocm93ICRjb21waWxlTWluRXJyKCJpc2NwIiwiSW52YWxpZCBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gZm9yIGRpcmVjdGl2ZSAnezB9Jy4gRGVmaW5pdGlvbjogey4uLiB7MX06ICd7Mn0nIC4uLn0iLGRpcmVjdGl2ZU5hbWUsc2NvcGVOYW1lLGRlZmluaXRpb24pO2JpbmRpbmdzW3Njb3BlTmFtZV09e2F0dHJOYW1lOm1hdGNoWzNdfHxzY29wZU5hbWUsbW9kZTptYXRjaFsxXSxvcHRpb25hbDoiPyI9PT1tYXRjaFsyXX19KSxiaW5kaW5nc312YXIgaGFzRGlyZWN0aXZlcz17fSxTdWZmaXg9IkRpcmVjdGl2ZSIsQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQPS9eXHMqZGlyZWN0aXZlXDpccyooW1xkXHdfXC1dKylccysoLiopJC8sQ0xBU1NfRElSRUNUSVZFX1JFR0VYUD0vKChbXGRcd19cLV0rKSg/Olw6KFteO10rKSk/Oz8pLyxBTExfT1JfTk9USElOR19BVFRSUz1tYWtlTWFwKCJuZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0IiksUkVRVUlSRV9QUkVGSVhfUkVHRVhQPS9eKD86KFxeXF4/KT8oXD8pPyhcXlxePyk/KT8vLEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFA9L14ob25bYS16XSt8Zm9ybWFjdGlvbikkLzt0aGlzLmRpcmVjdGl2ZT1mdW5jdGlvbiByZWdpc3RlckRpcmVjdGl2ZShuYW1lLGRpcmVjdGl2ZUZhY3Rvcnkpe3JldHVybiBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCJkaXJlY3RpdmUiKSxpc1N0cmluZyhuYW1lKT8oYXNzZXJ0QXJnKGRpcmVjdGl2ZUZhY3RvcnksImRpcmVjdGl2ZUZhY3RvcnkiKSxoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpfHwoaGFzRGlyZWN0aXZlc1tuYW1lXT1bXSwkcHJvdmlkZS5mYWN0b3J5KG5hbWUrU3VmZml4LFsiJGluamVjdG9yIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKCRpbmplY3RvciwkZXhjZXB0aW9uSGFuZGxlcil7dmFyIGRpcmVjdGl2ZXM9W107cmV0dXJuIGZvckVhY2goaGFzRGlyZWN0aXZlc1tuYW1lXSxmdW5jdGlvbihkaXJlY3RpdmVGYWN0b3J5LGluZGV4KXt0cnl7dmFyIGRpcmVjdGl2ZT0kaW5qZWN0b3IuaW52b2tlKGRpcmVjdGl2ZUZhY3RvcnkpO2lzRnVuY3Rpb24oZGlyZWN0aXZlKT9kaXJlY3RpdmU9e2NvbXBpbGU6dmFsdWVGbihkaXJlY3RpdmUpfTohZGlyZWN0aXZlLmNvbXBpbGUmJmRpcmVjdGl2ZS5saW5rJiYoZGlyZWN0aXZlLmNvbXBpbGU9dmFsdWVGbihkaXJlY3RpdmUubGluaykpLGRpcmVjdGl2ZS5wcmlvcml0eT1kaXJlY3RpdmUucHJpb3JpdHl8fDAsZGlyZWN0aXZlLmluZGV4PWluZGV4LGRpcmVjdGl2ZS5uYW1lPWRpcmVjdGl2ZS5uYW1lfHxuYW1lLGRpcmVjdGl2ZS5yZXF1aXJlPWRpcmVjdGl2ZS5yZXF1aXJlfHxkaXJlY3RpdmUuY29udHJvbGxlciYmZGlyZWN0aXZlLm5hbWUsZGlyZWN0aXZlLnJlc3RyaWN0PWRpcmVjdGl2ZS5yZXN0cmljdHx8IkVBIixpc09iamVjdChkaXJlY3RpdmUuc2NvcGUpJiYoZGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzPXBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSxkaXJlY3RpdmUubmFtZSkpLGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfX0pLGRpcmVjdGl2ZXN9XSkpLGhhc0RpcmVjdGl2ZXNbbmFtZV0ucHVzaChkaXJlY3RpdmVGYWN0b3J5KSk6Zm9yRWFjaChuYW1lLHJldmVyc2VQYXJhbXMocmVnaXN0ZXJEaXJlY3RpdmUpKSx0aGlzfSx0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKHJlZ2V4cCl7cmV0dXJuIGlzRGVmaW5lZChyZWdleHApPygkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKSx0aGlzKTokJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX0sdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KCQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKSx0aGlzKTokJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9O3ZhciBkZWJ1Z0luZm9FbmFibGVkPSEwO3RoaXMuZGVidWdJbmZvRW5hYmxlZD1mdW5jdGlvbihlbmFibGVkKXtyZXR1cm4gaXNEZWZpbmVkKGVuYWJsZWQpPyhkZWJ1Z0luZm9FbmFibGVkPWVuYWJsZWQsdGhpcyk6ZGVidWdJbmZvRW5hYmxlZH0sdGhpcy4kZ2V0PVsiJGluamVjdG9yIiwiJGludGVycG9sYXRlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJHBhcnNlIiwiJGNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJGRvY3VtZW50IiwiJHNjZSIsIiRhbmltYXRlIiwiJCRzYW5pdGl6ZVVyaSIsZnVuY3Rpb24oJGluamVjdG9yLCRpbnRlcnBvbGF0ZSwkZXhjZXB0aW9uSGFuZGxlciwkdGVtcGxhdGVSZXF1ZXN0LCRwYXJzZSwkY29udHJvbGxlciwkcm9vdFNjb3BlLCRkb2N1bWVudCwkc2NlLCRhbmltYXRlLCQkc2FuaXRpemVVcmkpe2Z1bmN0aW9uIHNhZmVBZGRDbGFzcygkZWxlbWVudCxjbGFzc05hbWUpe3RyeXskZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpfWNhdGNoKGUpe319ZnVuY3Rpb24gY29tcGlsZSgkY29tcGlsZU5vZGVzLHRyYW5zY2x1ZGVGbixtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUscHJldmlvdXNDb21waWxlQ29udGV4dCl7JGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZXx8KCRjb21waWxlTm9kZXM9anFMaXRlKCRjb21waWxlTm9kZXMpKSxmb3JFYWNoKCRjb21waWxlTm9kZXMsZnVuY3Rpb24obm9kZSxpbmRleCl7bm9kZS5ub2RlVHlwZT09Tk9ERV9UWVBFX1RFWFQmJm5vZGUubm9kZVZhbHVlLm1hdGNoKC9cUysvKSYmKCRjb21waWxlTm9kZXNbaW5kZXhdPWpxTGl0ZShub2RlKS53cmFwKCI8c3Bhbj48L3NwYW4+IikucGFyZW50KClbMF0pfSk7dmFyIGNvbXBvc2l0ZUxpbmtGbj1jb21waWxlTm9kZXMoJGNvbXBpbGVOb2Rlcyx0cmFuc2NsdWRlRm4sJGNvbXBpbGVOb2RlcyxtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUscHJldmlvdXNDb21waWxlQ29udGV4dCk7Y29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGNvbXBpbGVOb2Rlcyk7dmFyIG5hbWVzcGFjZT1udWxsO3JldHVybiBmdW5jdGlvbihzY29wZSxjbG9uZUNvbm5lY3RGbix0cmFuc2NsdWRlQ29udHJvbGxlcnMscGFyZW50Qm91bmRUcmFuc2NsdWRlRm4sZnV0dXJlUGFyZW50RWxlbWVudCl7YXNzZXJ0QXJnKHNjb3BlLCJzY29wZSIpLG5hbWVzcGFjZXx8KG5hbWVzcGFjZT1kZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKGZ1dHVyZVBhcmVudEVsZW1lbnQpKTt2YXIgJGxpbmtOb2RlO2lmKCRsaW5rTm9kZT0iaHRtbCIhPT1uYW1lc3BhY2U/anFMaXRlKHdyYXBUZW1wbGF0ZShuYW1lc3BhY2UsanFMaXRlKCI8ZGl2PiIpLmFwcGVuZCgkY29tcGlsZU5vZGVzKS5odG1sKCkpKTpjbG9uZUNvbm5lY3RGbj9KUUxpdGVQcm90b3R5cGUuY2xvbmUuY2FsbCgkY29tcGlsZU5vZGVzKTokY29tcGlsZU5vZGVzLHRyYW5zY2x1ZGVDb250cm9sbGVycylmb3IodmFyIGNvbnRyb2xsZXJOYW1lIGluIHRyYW5zY2x1ZGVDb250cm9sbGVycykkbGlua05vZGUuZGF0YSgiJCIrY29udHJvbGxlck5hbWUrIkNvbnRyb2xsZXIiLHRyYW5zY2x1ZGVDb250cm9sbGVyc1tjb250cm9sbGVyTmFtZV0uaW5zdGFuY2UpO3JldHVybiBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRsaW5rTm9kZSxzY29wZSksY2xvbmVDb25uZWN0Rm4mJmNsb25lQ29ubmVjdEZuKCRsaW5rTm9kZSxzY29wZSksY29tcG9zaXRlTGlua0ZuJiZjb21wb3NpdGVMaW5rRm4oc2NvcGUsJGxpbmtOb2RlLCRsaW5rTm9kZSxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiksJGxpbmtOb2RlfX1mdW5jdGlvbiBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKHBhcmVudEVsZW1lbnQpe3ZhciBub2RlPXBhcmVudEVsZW1lbnQmJnBhcmVudEVsZW1lbnRbMF07cmV0dXJuIG5vZGUmJiJmb3JlaWdub2JqZWN0IiE9PW5vZGVOYW1lXyhub2RlKSYmbm9kZS50b1N0cmluZygpLm1hdGNoKC9TVkcvKT8ic3ZnIjoiaHRtbCJ9ZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LHRyYW5zY2x1ZGVGbiwkcm9vdEVsZW1lbnQsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpe2Z1bmN0aW9uIGNvbXBvc2l0ZUxpbmtGbihzY29wZSxub2RlTGlzdCwkcm9vdEVsZW1lbnQscGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pe3ZhciBub2RlTGlua0ZuLGNoaWxkTGlua0ZuLG5vZGUsY2hpbGRTY29wZSxpLGlpLGlkeCxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuLHN0YWJsZU5vZGVMaXN0O2lmKG5vZGVMaW5rRm5Gb3VuZCl7dmFyIG5vZGVMaXN0TGVuZ3RoPW5vZGVMaXN0Lmxlbmd0aDtmb3Ioc3RhYmxlTm9kZUxpc3Q9bmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKSxpPTA7aTxsaW5rRm5zLmxlbmd0aDtpKz0zKWlkeD1saW5rRm5zW2ldLHN0YWJsZU5vZGVMaXN0W2lkeF09bm9kZUxpc3RbaWR4XX1lbHNlIHN0YWJsZU5vZGVMaXN0PW5vZGVMaXN0O2ZvcihpPTAsaWk9bGlua0Zucy5sZW5ndGg7aWk+aTspbm9kZT1zdGFibGVOb2RlTGlzdFtsaW5rRm5zW2krK11dLG5vZGVMaW5rRm49bGlua0Zuc1tpKytdLGNoaWxkTGlua0ZuPWxpbmtGbnNbaSsrXSxub2RlTGlua0ZuPyhub2RlTGlua0ZuLnNjb3BlPyhjaGlsZFNjb3BlPXNjb3BlLiRuZXcoKSxjb21waWxlLiQkYWRkU2NvcGVJbmZvKGpxTGl0ZShub2RlKSxjaGlsZFNjb3BlKSk6Y2hpbGRTY29wZT1zY29wZSxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuPW5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/Y3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsbm9kZUxpbmtGbi50cmFuc2NsdWRlLHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLG5vZGVMaW5rRm4uZWxlbWVudFRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KTohbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQmJnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuP3BhcmVudEJvdW5kVHJhbnNjbHVkZUZuOiFwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiYmdHJhbnNjbHVkZUZuP2NyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLHRyYW5zY2x1ZGVGbik6bnVsbCxub2RlTGlua0ZuKGNoaWxkTGlua0ZuLGNoaWxkU2NvcGUsbm9kZSwkcm9vdEVsZW1lbnQsY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbikpOmNoaWxkTGlua0ZuJiZjaGlsZExpbmtGbihzY29wZSxub2RlLmNoaWxkTm9kZXMsdW5kZWZpbmVkLHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKX1mb3IodmFyIGF0dHJzLGRpcmVjdGl2ZXMsbm9kZUxpbmtGbixjaGlsZE5vZGVzLGNoaWxkTGlua0ZuLGxpbmtGbkZvdW5kLG5vZGVMaW5rRm5Gb3VuZCxsaW5rRm5zPVtdLGk9MDtpPG5vZGVMaXN0Lmxlbmd0aDtpKyspYXR0cnM9bmV3IEF0dHJpYnV0ZXMsZGlyZWN0aXZlcz1jb2xsZWN0RGlyZWN0aXZlcyhub2RlTGlzdFtpXSxbXSxhdHRycywwPT09aT9tYXhQcmlvcml0eTp1bmRlZmluZWQsaWdub3JlRGlyZWN0aXZlKSxub2RlTGlua0ZuPWRpcmVjdGl2ZXMubGVuZ3RoP2FwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLG5vZGVMaXN0W2ldLGF0dHJzLHRyYW5zY2x1ZGVGbiwkcm9vdEVsZW1lbnQsbnVsbCxbXSxbXSxwcmV2aW91c0NvbXBpbGVDb250ZXh0KTpudWxsLG5vZGVMaW5rRm4mJm5vZGVMaW5rRm4uc2NvcGUmJmNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKGF0dHJzLiQkZWxlbWVudCksY2hpbGRMaW5rRm49bm9kZUxpbmtGbiYmbm9kZUxpbmtGbi50ZXJtaW5hbHx8IShjaGlsZE5vZGVzPW5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpfHwhY2hpbGROb2Rlcy5sZW5ndGg/bnVsbDpjb21waWxlTm9kZXMoY2hpbGROb2Rlcyxub2RlTGlua0ZuPyhub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZub2RlTGlua0ZuLnRyYW5zY2x1ZGU6dHJhbnNjbHVkZUZuKSwobm9kZUxpbmtGbnx8Y2hpbGRMaW5rRm4pJiYobGlua0Zucy5wdXNoKGksbm9kZUxpbmtGbixjaGlsZExpbmtGbiksbGlua0ZuRm91bmQ9ITAsbm9kZUxpbmtGbkZvdW5kPW5vZGVMaW5rRm5Gb3VuZHx8bm9kZUxpbmtGbikscHJldmlvdXNDb21waWxlQ29udGV4dD1udWxsO3JldHVybiBsaW5rRm5Gb3VuZD9jb21wb3NpdGVMaW5rRm46bnVsbH1mdW5jdGlvbiBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSx0cmFuc2NsdWRlRm4scHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbil7dmFyIGJvdW5kVHJhbnNjbHVkZUZuPWZ1bmN0aW9uKHRyYW5zY2x1ZGVkU2NvcGUsY2xvbmVGbixjb250cm9sbGVycyxmdXR1cmVQYXJlbnRFbGVtZW50LGNvbnRhaW5pbmdTY29wZSl7cmV0dXJuIHRyYW5zY2x1ZGVkU2NvcGV8fCh0cmFuc2NsdWRlZFNjb3BlPXNjb3BlLiRuZXcoITEsY29udGFpbmluZ1Njb3BlKSx0cmFuc2NsdWRlZFNjb3BlLiQkdHJhbnNjbHVkZWQ9ITApLHRyYW5zY2x1ZGVGbih0cmFuc2NsdWRlZFNjb3BlLGNsb25lRm4sY29udHJvbGxlcnMscHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbixmdXR1cmVQYXJlbnRFbGVtZW50KX07cmV0dXJuIGJvdW5kVHJhbnNjbHVkZUZufWZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsZGlyZWN0aXZlcyxhdHRycyxtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUpe3ZhciBtYXRjaCxjbGFzc05hbWUsbm9kZVR5cGU9bm9kZS5ub2RlVHlwZSxhdHRyc01hcD1hdHRycy4kYXR0cjtzd2l0Y2gobm9kZVR5cGUpe2Nhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6YWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSksIkUiLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSk7Zm9yKHZhciBhdHRyLG5hbWUsbk5hbWUsbmdBdHRyTmFtZSx2YWx1ZSxpc05nQXR0cixuQXR0cnM9bm9kZS5hdHRyaWJ1dGVzLGo9MCxqaj1uQXR0cnMmJm5BdHRycy5sZW5ndGg7amo+ajtqKyspe3ZhciBhdHRyU3RhcnROYW1lPSExLGF0dHJFbmROYW1lPSExO2F0dHI9bkF0dHJzW2pdLG5hbWU9YXR0ci5uYW1lLHZhbHVlPXRyaW0oYXR0ci52YWx1ZSksbmdBdHRyTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUobmFtZSksKGlzTmdBdHRyPU5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSYmKG5hbWU9c25ha2VfY2FzZShuZ0F0dHJOYW1lLnN1YnN0cig2KSwiLSIpKTt2YXIgZGlyZWN0aXZlTk5hbWU9bmdBdHRyTmFtZS5yZXBsYWNlKC8oU3RhcnR8RW5kKSQvLCIiKTtkaXJlY3RpdmVJc011bHRpRWxlbWVudChkaXJlY3RpdmVOTmFtZSkmJm5nQXR0ck5hbWU9PT1kaXJlY3RpdmVOTmFtZSsiU3RhcnQiJiYoYXR0clN0YXJ0TmFtZT1uYW1lLGF0dHJFbmROYW1lPW5hbWUuc3Vic3RyKDAsbmFtZS5sZW5ndGgtNSkrImVuZCIsbmFtZT1uYW1lLnN1YnN0cigwLG5hbWUubGVuZ3RoLTYpKSxuTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUobmFtZS50b0xvd2VyQ2FzZSgpKSxhdHRyc01hcFtuTmFtZV09bmFtZSwoaXNOZ0F0dHJ8fCFhdHRycy5oYXNPd25Qcm9wZXJ0eShuTmFtZSkpJiYoYXR0cnNbbk5hbWVdPXZhbHVlLGdldEJvb2xlYW5BdHRyTmFtZShub2RlLG5OYW1lKSYmKGF0dHJzW25OYW1lXT0hMCkpLGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLGRpcmVjdGl2ZXMsdmFsdWUsbk5hbWUsaXNOZ0F0dHIpLGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLG5OYW1lLCJBIixtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUsYXR0clN0YXJ0TmFtZSxhdHRyRW5kTmFtZSl9aWYoY2xhc3NOYW1lPW5vZGUuY2xhc3NOYW1lLGlzU3RyaW5nKGNsYXNzTmFtZSkmJiIiIT09Y2xhc3NOYW1lKWZvcig7bWF0Y2g9Q0xBU1NfRElSRUNUSVZFX1JFR0VYUC5leGVjKGNsYXNzTmFtZSk7KW5OYW1lPWRpcmVjdGl2ZU5vcm1hbGl6ZShtYXRjaFsyXSksYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsbk5hbWUsIkMiLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSkmJihhdHRyc1tuTmFtZV09dHJpbShtYXRjaFszXSkpLGNsYXNzTmFtZT1jbGFzc05hbWUuc3Vic3RyKG1hdGNoLmluZGV4K21hdGNoWzBdLmxlbmd0aCk7YnJlYWs7Y2FzZSBOT0RFX1RZUEVfVEVYVDphZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcyxub2RlLm5vZGVWYWx1ZSk7YnJlYWs7Y2FzZSBOT0RFX1RZUEVfQ09NTUVOVDp0cnl7bWF0Y2g9Q09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpLG1hdGNoJiYobk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiTSIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlKSYmKGF0dHJzW25OYW1lXT10cmltKG1hdGNoWzJdKSkpfWNhdGNoKGUpe319cmV0dXJuIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KSxkaXJlY3RpdmVzfWZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLGF0dHJTdGFydCxhdHRyRW5kKXt2YXIgbm9kZXM9W10sZGVwdGg9MDtpZihhdHRyU3RhcnQmJm5vZGUuaGFzQXR0cmlidXRlJiZub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKXtkb3tpZighbm9kZSl0aHJvdyAkY29tcGlsZU1pbkVycigidXRlcmRpciIsIlVudGVybWluYXRlZCBhdHRyaWJ1dGUsIGZvdW5kICd7MH0nIGJ1dCBubyBtYXRjaGluZyAnezF9JyBmb3VuZC4iLGF0dHJTdGFydCxhdHRyRW5kKTtub2RlLm5vZGVUeXBlPT1OT0RFX1RZUEVfRUxFTUVOVCYmKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkmJmRlcHRoKyssbm9kZS5oYXNBdHRyaWJ1dGUoYXR0ckVuZCkmJmRlcHRoLS0pLG5vZGVzLnB1c2gobm9kZSksbm9kZT1ub2RlLm5leHRTaWJsaW5nfXdoaWxlKGRlcHRoPjApfWVsc2Ugbm9kZXMucHVzaChub2RlKTtyZXR1cm4ganFMaXRlKG5vZGVzKX1mdW5jdGlvbiBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihsaW5rRm4sYXR0clN0YXJ0LGF0dHJFbmQpe3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGNvbnRyb2xsZXJzLHRyYW5zY2x1ZGVGbil7cmV0dXJuIGVsZW1lbnQ9Z3JvdXBTY2FuKGVsZW1lbnRbMF0sYXR0clN0YXJ0LGF0dHJFbmQpLGxpbmtGbihzY29wZSxlbGVtZW50LGF0dHJzLGNvbnRyb2xsZXJzLHRyYW5zY2x1ZGVGbil9fWZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLGNvbXBpbGVOb2RlLHRlbXBsYXRlQXR0cnMsdHJhbnNjbHVkZUZuLGpxQ29sbGVjdGlvbixvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUscHJlTGlua0Zucyxwb3N0TGlua0ZucyxwcmV2aW91c0NvbXBpbGVDb250ZXh0KXtmdW5jdGlvbiBhZGRMaW5rRm5zKHByZSxwb3N0LGF0dHJTdGFydCxhdHRyRW5kKXtwcmUmJihhdHRyU3RhcnQmJihwcmU9Z3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIocHJlLGF0dHJTdGFydCxhdHRyRW5kKSkscHJlLnJlcXVpcmU9ZGlyZWN0aXZlLnJlcXVpcmUscHJlLmRpcmVjdGl2ZU5hbWU9ZGlyZWN0aXZlTmFtZSwobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlPT09ZGlyZWN0aXZlfHxkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUpJiYocHJlPWNsb25lQW5kQW5ub3RhdGVGbihwcmUse2lzb2xhdGVTY29wZTohMH0pKSxwcmVMaW5rRm5zLnB1c2gocHJlKSkscG9zdCYmKGF0dHJTdGFydCYmKHBvc3Q9Z3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIocG9zdCxhdHRyU3RhcnQsYXR0ckVuZCkpLHBvc3QucmVxdWlyZT1kaXJlY3RpdmUucmVxdWlyZSxwb3N0LmRpcmVjdGl2ZU5hbWU9ZGlyZWN0aXZlTmFtZSwobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlPT09ZGlyZWN0aXZlfHxkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUpJiYocG9zdD1jbG9uZUFuZEFubm90YXRlRm4ocG9zdCx7aXNvbGF0ZVNjb3BlOiEwfSkpLHBvc3RMaW5rRm5zLnB1c2gocG9zdCkpfWZ1bmN0aW9uIGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUscmVxdWlyZSwkZWxlbWVudCxlbGVtZW50Q29udHJvbGxlcnMpe3ZhciB2YWx1ZSxtYXRjaCxyZXRyaWV2YWxNZXRob2Q9ImRhdGEiLG9wdGlvbmFsPSExLCRzZWFyY2hFbGVtZW50PSRlbGVtZW50O2lmKGlzU3RyaW5nKHJlcXVpcmUpKXtpZihtYXRjaD1yZXF1aXJlLm1hdGNoKFJFUVVJUkVfUFJFRklYX1JFR0VYUCkscmVxdWlyZT1yZXF1aXJlLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpLG1hdGNoWzNdJiYobWF0Y2hbMV0/bWF0Y2hbM109bnVsbDptYXRjaFsxXT1tYXRjaFszXSksIl4iPT09bWF0Y2hbMV0/cmV0cmlldmFsTWV0aG9kPSJpbmhlcml0ZWREYXRhIjoiXl4iPT09bWF0Y2hbMV0mJihyZXRyaWV2YWxNZXRob2Q9ImluaGVyaXRlZERhdGEiLCRzZWFyY2hFbGVtZW50PSRlbGVtZW50LnBhcmVudCgpKSwiPyI9PT1tYXRjaFsyXSYmKG9wdGlvbmFsPSEwKSx2YWx1ZT1udWxsLGVsZW1lbnRDb250cm9sbGVycyYmImRhdGEiPT09cmV0cmlldmFsTWV0aG9kJiYodmFsdWU9ZWxlbWVudENvbnRyb2xsZXJzW3JlcXVpcmVdKSYmKHZhbHVlPXZhbHVlLmluc3RhbmNlKSx2YWx1ZT12YWx1ZXx8JHNlYXJjaEVsZW1lbnRbcmV0cmlldmFsTWV0aG9kXSgiJCIrcmVxdWlyZSsiQ29udHJvbGxlciIpLCF2YWx1ZSYmIW9wdGlvbmFsKXRocm93ICRjb21waWxlTWluRXJyKCJjdHJlcSIsIkNvbnRyb2xsZXIgJ3swfScsIHJlcXVpcmVkIGJ5IGRpcmVjdGl2ZSAnezF9JywgY2FuJ3QgYmUgZm91bmQhIixyZXF1aXJlLGRpcmVjdGl2ZU5hbWUpO3JldHVybiB2YWx1ZX1yZXR1cm4gaXNBcnJheShyZXF1aXJlKSYmKHZhbHVlPVtdLGZvckVhY2gocmVxdWlyZSxmdW5jdGlvbihyZXF1aXJlKXt2YWx1ZS5wdXNoKGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUscmVxdWlyZSwkZWxlbWVudCxlbGVtZW50Q29udHJvbGxlcnMpKX0pKSx2YWx1ZX1mdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLHNjb3BlLGxpbmtOb2RlLCRyb290RWxlbWVudCxib3VuZFRyYW5zY2x1ZGVGbil7ZnVuY3Rpb24gY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUoc2NvcGUsY2xvbmVBdHRhY2hGbixmdXR1cmVQYXJlbnRFbGVtZW50KXt2YXIgdHJhbnNjbHVkZUNvbnRyb2xsZXJzO3JldHVybiBpc1Njb3BlKHNjb3BlKXx8KGZ1dHVyZVBhcmVudEVsZW1lbnQ9Y2xvbmVBdHRhY2hGbixjbG9uZUF0dGFjaEZuPXNjb3BlLHNjb3BlPXVuZGVmaW5lZCksaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUmJih0cmFuc2NsdWRlQ29udHJvbGxlcnM9ZWxlbWVudENvbnRyb2xsZXJzKSxmdXR1cmVQYXJlbnRFbGVtZW50fHwoZnV0dXJlUGFyZW50RWxlbWVudD1oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZT8kZWxlbWVudC5wYXJlbnQoKTokZWxlbWVudCksYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsY2xvbmVBdHRhY2hGbix0cmFuc2NsdWRlQ29udHJvbGxlcnMsZnV0dXJlUGFyZW50RWxlbWVudCxzY29wZVRvQ2hpbGQpfXZhciBpLGlpLGxpbmtGbixjb250cm9sbGVyLGlzb2xhdGVTY29wZSxlbGVtZW50Q29udHJvbGxlcnMsdHJhbnNjbHVkZUZuLCRlbGVtZW50LGF0dHJzO2lmKGNvbXBpbGVOb2RlPT09bGlua05vZGU/KGF0dHJzPXRlbXBsYXRlQXR0cnMsJGVsZW1lbnQ9dGVtcGxhdGVBdHRycy4kJGVsZW1lbnQpOigkZWxlbWVudD1qcUxpdGUobGlua05vZGUpLGF0dHJzPW5ldyBBdHRyaWJ1dGVzKCRlbGVtZW50LHRlbXBsYXRlQXR0cnMpKSxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUmJihpc29sYXRlU2NvcGU9c2NvcGUuJG5ldyghMCkpLHRyYW5zY2x1ZGVGbj1ib3VuZFRyYW5zY2x1ZGVGbiYmY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUsY29udHJvbGxlckRpcmVjdGl2ZXMmJihjb250cm9sbGVycz17fSxlbGVtZW50Q29udHJvbGxlcnM9e30sZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcyxmdW5jdGlvbihkaXJlY3RpdmUpe3ZhciBjb250cm9sbGVySW5zdGFuY2UsbG9jYWxzPXskc2NvcGU6ZGlyZWN0aXZlPT09bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlfHxkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGU/aXNvbGF0ZVNjb3BlOnNjb3BlLCRlbGVtZW50OiRlbGVtZW50LCRhdHRyczphdHRycywkdHJhbnNjbHVkZTp0cmFuc2NsdWRlRm59O2NvbnRyb2xsZXI9ZGlyZWN0aXZlLmNvbnRyb2xsZXIsIkAiPT1jb250cm9sbGVyJiYoY29udHJvbGxlcj1hdHRyc1tkaXJlY3RpdmUubmFtZV0pLGNvbnRyb2xsZXJJbnN0YW5jZT0kY29udHJvbGxlcihjb250cm9sbGVyLGxvY2FscywhMCxkaXJlY3RpdmUuY29udHJvbGxlckFzKSxlbGVtZW50Q29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdPWNvbnRyb2xsZXJJbnN0YW5jZSxoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZXx8JGVsZW1lbnQuZGF0YSgiJCIrZGlyZWN0aXZlLm5hbWUrIkNvbnRyb2xsZXIiLGNvbnRyb2xsZXJJbnN0YW5jZS5pbnN0YW5jZSksY29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdPWNvbnRyb2xsZXJJbnN0YW5jZX0pKSxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpe2NvbXBpbGUuJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsaXNvbGF0ZVNjb3BlLCEwLCEodGVtcGxhdGVEaXJlY3RpdmUmJih0ZW1wbGF0ZURpcmVjdGl2ZT09PW5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZXx8dGVtcGxhdGVEaXJlY3RpdmU9PT1uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRvcmlnaW5hbERpcmVjdGl2ZSkpKSxjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwhMCk7dmFyIGlzb2xhdGVTY29wZUNvbnRyb2xsZXI9Y29udHJvbGxlcnMmJmNvbnRyb2xsZXJzW25ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5uYW1lXSxpc29sYXRlQmluZGluZ0NvbnRleHQ9aXNvbGF0ZVNjb3BlO2lzb2xhdGVTY29wZUNvbnRyb2xsZXImJmlzb2xhdGVTY29wZUNvbnRyb2xsZXIuaWRlbnRpZmllciYmbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXI9PT0hMCYmKGlzb2xhdGVCaW5kaW5nQ29udGV4dD1pc29sYXRlU2NvcGVDb250cm9sbGVyLmluc3RhbmNlKSxmb3JFYWNoKGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5ncz1uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MsZnVuY3Rpb24oZGVmaW5pdGlvbixzY29wZU5hbWUpe3ZhciBsYXN0VmFsdWUscGFyZW50R2V0LHBhcmVudFNldCxjb21wYXJlLGF0dHJOYW1lPWRlZmluaXRpb24uYXR0ck5hbWUsb3B0aW9uYWw9ZGVmaW5pdGlvbi5vcHRpb25hbCxtb2RlPWRlZmluaXRpb24ubW9kZTtzd2l0Y2gobW9kZSl7Y2FzZSJAIjphdHRycy4kb2JzZXJ2ZShhdHRyTmFtZSxmdW5jdGlvbih2YWx1ZSl7aXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV09dmFsdWV9KSxhdHRycy4kJG9ic2VydmVyc1thdHRyTmFtZV0uJCRzY29wZT1zY29wZSxhdHRyc1thdHRyTmFtZV0mJihpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXT0kaW50ZXJwb2xhdGUoYXR0cnNbYXR0ck5hbWVdKShzY29wZSkpO2JyZWFrO2Nhc2UiPSI6aWYob3B0aW9uYWwmJiFhdHRyc1thdHRyTmFtZV0pcmV0dXJuO3BhcmVudEdldD0kcGFyc2UoYXR0cnNbYXR0ck5hbWVdKSxjb21wYXJlPXBhcmVudEdldC5saXRlcmFsP2VxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Ynx8YSE9PWEmJmIhPT1ifSxwYXJlbnRTZXQ9cGFyZW50R2V0LmFzc2lnbnx8ZnVuY3Rpb24oKXt0aHJvdyBsYXN0VmFsdWU9aXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV09cGFyZW50R2V0KHNjb3BlKSwkY29tcGlsZU1pbkVycigibm9uYXNzaWduIiwiRXhwcmVzc2lvbiAnezB9JyB1c2VkIHdpdGggZGlyZWN0aXZlICd7MX0nIGlzIG5vbi1hc3NpZ25hYmxlISIsYXR0cnNbYXR0ck5hbWVdLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5uYW1lKX0sbGFzdFZhbHVlPWlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdPXBhcmVudEdldChzY29wZSk7dmFyIHBhcmVudFZhbHVlV2F0Y2g9ZnVuY3Rpb24ocGFyZW50VmFsdWUpe3JldHVybiBjb21wYXJlKHBhcmVudFZhbHVlLGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdKXx8KGNvbXBhcmUocGFyZW50VmFsdWUsbGFzdFZhbHVlKT9wYXJlbnRTZXQoc2NvcGUscGFyZW50VmFsdWU9aXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0pOmlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdPXBhcmVudFZhbHVlKSxsYXN0VmFsdWU9cGFyZW50VmFsdWV9O3BhcmVudFZhbHVlV2F0Y2guJHN0YXRlZnVsPSEwO3ZhciB1bndhdGNoPXNjb3BlLiR3YXRjaCgkcGFyc2UoYXR0cnNbYXR0ck5hbWVdLHBhcmVudFZhbHVlV2F0Y2gpLG51bGwscGFyZW50R2V0LmxpdGVyYWwpO2lzb2xhdGVTY29wZS4kb24oIiRkZXN0cm95Iix1bndhdGNoKTticmVhaztjYXNlIiYiOnBhcmVudEdldD0kcGFyc2UoYXR0cnNbYXR0ck5hbWVdKSxpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXT1mdW5jdGlvbihsb2NhbHMpe3JldHVybiBwYXJlbnRHZXQoc2NvcGUsbG9jYWxzKX19fSl9Zm9yKGNvbnRyb2xsZXJzJiYoZm9yRWFjaChjb250cm9sbGVycyxmdW5jdGlvbihjb250cm9sbGVyKXtjb250cm9sbGVyKCl9KSxjb250cm9sbGVycz1udWxsKSxpPTAsaWk9cHJlTGlua0Zucy5sZW5ndGg7aWk+aTtpKyspbGlua0ZuPXByZUxpbmtGbnNbaV0saW52b2tlTGlua0ZuKGxpbmtGbixsaW5rRm4uaXNvbGF0ZVNjb3BlP2lzb2xhdGVTY29wZTpzY29wZSwkZWxlbWVudCxhdHRycyxsaW5rRm4ucmVxdWlyZSYmZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsbGlua0ZuLnJlcXVpcmUsJGVsZW1lbnQsZWxlbWVudENvbnRyb2xsZXJzKSx0cmFuc2NsdWRlRm4pO3ZhciBzY29wZVRvQ2hpbGQ9c2NvcGU7Zm9yKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSYmKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZXx8bnVsbD09PW5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZVVybCkmJihzY29wZVRvQ2hpbGQ9aXNvbGF0ZVNjb3BlKSxjaGlsZExpbmtGbiYmY2hpbGRMaW5rRm4oc2NvcGVUb0NoaWxkLGxpbmtOb2RlLmNoaWxkTm9kZXMsdW5kZWZpbmVkLGJvdW5kVHJhbnNjbHVkZUZuKSxpPXBvc3RMaW5rRm5zLmxlbmd0aC0xO2k+PTA7aS0tKWxpbmtGbj1wb3N0TGlua0Zuc1tpXSxpbnZva2VMaW5rRm4obGlua0ZuLGxpbmtGbi5pc29sYXRlU2NvcGU/aXNvbGF0ZVNjb3BlOnNjb3BlLCRlbGVtZW50LGF0dHJzLGxpbmtGbi5yZXF1aXJlJiZnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSxsaW5rRm4ucmVxdWlyZSwkZWxlbWVudCxlbGVtZW50Q29udHJvbGxlcnMpLHRyYW5zY2x1ZGVGbil9cHJldmlvdXNDb21waWxlQ29udGV4dD1wcmV2aW91c0NvbXBpbGVDb250ZXh0fHx7fTtmb3IodmFyIG5ld1Njb3BlRGlyZWN0aXZlLGNvbnRyb2xsZXJzLGRpcmVjdGl2ZSxkaXJlY3RpdmVOYW1lLCR0ZW1wbGF0ZSxsaW5rRm4sZGlyZWN0aXZlVmFsdWUsdGVybWluYWxQcmlvcml0eT0tTnVtYmVyLk1BWF9WQUxVRSxjb250cm9sbGVyRGlyZWN0aXZlcz1wcmV2aW91c0NvbXBpbGVDb250ZXh0LmNvbnRyb2xsZXJEaXJlY3RpdmVzLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSx0ZW1wbGF0ZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU9cHJldmlvdXNDb21waWxlQ29udGV4dC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU9ITEsaGFzVGVtcGxhdGU9ITEsaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9cHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSwkY29tcGlsZU5vZGU9dGVtcGxhdGVBdHRycy4kJGVsZW1lbnQ9anFMaXRlKGNvbXBpbGVOb2RlKSxyZXBsYWNlRGlyZWN0aXZlPW9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxjaGlsZFRyYW5zY2x1ZGVGbj10cmFuc2NsdWRlRm4saT0wLGlpPWRpcmVjdGl2ZXMubGVuZ3RoO2lpPmk7aSsrKXtkaXJlY3RpdmU9ZGlyZWN0aXZlc1tpXTt2YXIgYXR0clN0YXJ0PWRpcmVjdGl2ZS4kJHN0YXJ0LGF0dHJFbmQ9ZGlyZWN0aXZlLiQkZW5kO2lmKGF0dHJTdGFydCYmKCRjb21waWxlTm9kZT1ncm91cFNjYW4oY29tcGlsZU5vZGUsYXR0clN0YXJ0LGF0dHJFbmQpKSwkdGVtcGxhdGU9dW5kZWZpbmVkLHRlcm1pbmFsUHJpb3JpdHk+ZGlyZWN0aXZlLnByaW9yaXR5KWJyZWFrO2lmKChkaXJlY3RpdmVWYWx1ZT1kaXJlY3RpdmUuc2NvcGUpJiYoZGlyZWN0aXZlLnRlbXBsYXRlVXJsfHwoaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpPyhhc3NlcnROb0R1cGxpY2F0ZSgibmV3L2lzb2xhdGVkIHNjb3BlIixuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmV8fG5ld1Njb3BlRGlyZWN0aXZlLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZT1kaXJlY3RpdmUpOmFzc2VydE5vRHVwbGljYXRlKCJuZXcvaXNvbGF0ZWQgc2NvcGUiLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxkaXJlY3RpdmUsJGNvbXBpbGVOb2RlKSksbmV3U2NvcGVEaXJlY3RpdmU9bmV3U2NvcGVEaXJlY3RpdmV8fGRpcmVjdGl2ZSksZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmUubmFtZSwhZGlyZWN0aXZlLnRlbXBsYXRlVXJsJiZkaXJlY3RpdmUuY29udHJvbGxlciYmKGRpcmVjdGl2ZVZhbHVlPWRpcmVjdGl2ZS5jb250cm9sbGVyLGNvbnRyb2xsZXJEaXJlY3RpdmVzPWNvbnRyb2xsZXJEaXJlY3RpdmVzfHx7fSxhc3NlcnROb0R1cGxpY2F0ZSgiJyIrZGlyZWN0aXZlTmFtZSsiJyBjb250cm9sbGVyIixjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSxkaXJlY3RpdmUsJGNvbXBpbGVOb2RlKSxjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXT1kaXJlY3RpdmUpLChkaXJlY3RpdmVWYWx1ZT1kaXJlY3RpdmUudHJhbnNjbHVkZSkmJihoYXNUcmFuc2NsdWRlRGlyZWN0aXZlPSEwLGRpcmVjdGl2ZS4kJHRsYnx8KGFzc2VydE5vRHVwbGljYXRlKCJ0cmFuc2NsdXNpb24iLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsZGlyZWN0aXZlLCRjb21waWxlTm9kZSksbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZT1kaXJlY3RpdmUpLCJlbGVtZW50Ij09ZGlyZWN0aXZlVmFsdWU/KGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlPSEwLHRlcm1pbmFsUHJpb3JpdHk9ZGlyZWN0aXZlLnByaW9yaXR5LCR0ZW1wbGF0ZT0kY29tcGlsZU5vZGUsJGNvbXBpbGVOb2RlPXRlbXBsYXRlQXR0cnMuJCRlbGVtZW50PWpxTGl0ZShkb2N1bWVudC5jcmVhdGVDb21tZW50KCIgIitkaXJlY3RpdmVOYW1lKyI6ICIrdGVtcGxhdGVBdHRyc1tkaXJlY3RpdmVOYW1lXSsiICIpKSxjb21waWxlTm9kZT0kY29tcGlsZU5vZGVbMF0scmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLHNsaWNlQXJncygkdGVtcGxhdGUpLGNvbXBpbGVOb2RlKSxjaGlsZFRyYW5zY2x1ZGVGbj1jb21waWxlKCR0ZW1wbGF0ZSx0cmFuc2NsdWRlRm4sdGVybWluYWxQcmlvcml0eSxyZXBsYWNlRGlyZWN0aXZlJiZyZXBsYWNlRGlyZWN0aXZlLm5hbWUse25vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZX0pKTooJHRlbXBsYXRlPWpxTGl0ZShqcUxpdGVDbG9uZShjb21waWxlTm9kZSkpLmNvbnRlbnRzKCksJGNvbXBpbGVOb2RlLmVtcHR5KCksY2hpbGRUcmFuc2NsdWRlRm49Y29tcGlsZSgkdGVtcGxhdGUsdHJhbnNjbHVkZUZuKSkpLGRpcmVjdGl2ZS50ZW1wbGF0ZSlpZihoYXNUZW1wbGF0ZT0hMCxhc3NlcnROb0R1cGxpY2F0ZSgidGVtcGxhdGUiLHRlbXBsYXRlRGlyZWN0aXZlLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLHRlbXBsYXRlRGlyZWN0aXZlPWRpcmVjdGl2ZSxkaXJlY3RpdmVWYWx1ZT1pc0Z1bmN0aW9uKGRpcmVjdGl2ZS50ZW1wbGF0ZSk/ZGlyZWN0aXZlLnRlbXBsYXRlKCRjb21waWxlTm9kZSx0ZW1wbGF0ZUF0dHJzKTpkaXJlY3RpdmUudGVtcGxhdGUsZGlyZWN0aXZlVmFsdWU9ZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSksZGlyZWN0aXZlLnJlcGxhY2Upe2lmKHJlcGxhY2VEaXJlY3RpdmU9ZGlyZWN0aXZlLCR0ZW1wbGF0ZT1qcUxpdGVJc1RleHROb2RlKGRpcmVjdGl2ZVZhbHVlKT9bXTpyZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUoZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlLHRyaW0oZGlyZWN0aXZlVmFsdWUpKSksY29tcGlsZU5vZGU9JHRlbXBsYXRlWzBdLDEhPSR0ZW1wbGF0ZS5sZW5ndGh8fGNvbXBpbGVOb2RlLm5vZGVUeXBlIT09Tk9ERV9UWVBFX0VMRU1FTlQpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInRwbHJ0IiwiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0iLGRpcmVjdGl2ZU5hbWUsIiIpO3JlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwkY29tcGlsZU5vZGUsY29tcGlsZU5vZGUpO3ZhciBuZXdUZW1wbGF0ZUF0dHJzPXskYXR0cjp7fX0sdGVtcGxhdGVEaXJlY3RpdmVzPWNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLFtdLG5ld1RlbXBsYXRlQXR0cnMpLHVucHJvY2Vzc2VkRGlyZWN0aXZlcz1kaXJlY3RpdmVzLnNwbGljZShpKzEsZGlyZWN0aXZlcy5sZW5ndGgtKGkrMSkpO25ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSYmbWFya0RpcmVjdGl2ZXNBc0lzb2xhdGUodGVtcGxhdGVEaXJlY3RpdmVzKSxkaXJlY3RpdmVzPWRpcmVjdGl2ZXMuY29uY2F0KHRlbXBsYXRlRGlyZWN0aXZlcykuY29uY2F0KHVucHJvY2Vzc2VkRGlyZWN0aXZlcyksbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModGVtcGxhdGVBdHRycyxuZXdUZW1wbGF0ZUF0dHJzKSxpaT1kaXJlY3RpdmVzLmxlbmd0aH1lbHNlICRjb21waWxlTm9kZS5odG1sKGRpcmVjdGl2ZVZhbHVlKTtpZihkaXJlY3RpdmUudGVtcGxhdGVVcmwpaGFzVGVtcGxhdGU9ITAsYXNzZXJ0Tm9EdXBsaWNhdGUoInRlbXBsYXRlIix0ZW1wbGF0ZURpcmVjdGl2ZSxkaXJlY3RpdmUsJGNvbXBpbGVOb2RlKSx0ZW1wbGF0ZURpcmVjdGl2ZT1kaXJlY3RpdmUsZGlyZWN0aXZlLnJlcGxhY2UmJihyZXBsYWNlRGlyZWN0aXZlPWRpcmVjdGl2ZSksbm9kZUxpbmtGbj1jb21waWxlVGVtcGxhdGVVcmwoZGlyZWN0aXZlcy5zcGxpY2UoaSxkaXJlY3RpdmVzLmxlbmd0aC1pKSwkY29tcGlsZU5vZGUsdGVtcGxhdGVBdHRycyxqcUNvbGxlY3Rpb24saGFzVHJhbnNjbHVkZURpcmVjdGl2ZSYmY2hpbGRUcmFuc2NsdWRlRm4scHJlTGlua0Zucyxwb3N0TGlua0Zucyx7Y29udHJvbGxlckRpcmVjdGl2ZXM6Y29udHJvbGxlckRpcmVjdGl2ZXMsbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlOm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSx0ZW1wbGF0ZURpcmVjdGl2ZTp0ZW1wbGF0ZURpcmVjdGl2ZSxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmV9KSxpaT1kaXJlY3RpdmVzLmxlbmd0aDtlbHNlIGlmKGRpcmVjdGl2ZS5jb21waWxlKXRyeXtsaW5rRm49ZGlyZWN0aXZlLmNvbXBpbGUoJGNvbXBpbGVOb2RlLHRlbXBsYXRlQXR0cnMsY2hpbGRUcmFuc2NsdWRlRm4pLGlzRnVuY3Rpb24obGlua0ZuKT9hZGRMaW5rRm5zKG51bGwsbGlua0ZuLGF0dHJTdGFydCxhdHRyRW5kKTpsaW5rRm4mJmFkZExpbmtGbnMobGlua0ZuLnByZSxsaW5rRm4ucG9zdCxhdHRyU3RhcnQsYXR0ckVuZCl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSxzdGFydGluZ1RhZygkY29tcGlsZU5vZGUpKX1kaXJlY3RpdmUudGVybWluYWwmJihub2RlTGlua0ZuLnRlcm1pbmFsPSEwLHRlcm1pbmFsUHJpb3JpdHk9TWF0aC5tYXgodGVybWluYWxQcmlvcml0eSxkaXJlY3RpdmUucHJpb3JpdHkpKX1yZXR1cm4gbm9kZUxpbmtGbi5zY29wZT1uZXdTY29wZURpcmVjdGl2ZSYmbmV3U2NvcGVEaXJlY3RpdmUuc2NvcGU9PT0hMCxub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PWhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUsbm9kZUxpbmtGbi5lbGVtZW50VHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9aGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQ9aGFzVGVtcGxhdGUsbm9kZUxpbmtGbi50cmFuc2NsdWRlPWNoaWxkVHJhbnNjbHVkZUZuLHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9aGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsbm9kZUxpbmtGbn1mdW5jdGlvbiBtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZShkaXJlY3RpdmVzKXtmb3IodmFyIGo9MCxqaj1kaXJlY3RpdmVzLmxlbmd0aDtqaj5qO2orKylkaXJlY3RpdmVzW2pdPWluaGVyaXQoZGlyZWN0aXZlc1tqXSx7JCRpc29sYXRlU2NvcGU6ITB9KX1mdW5jdGlvbiBhZGREaXJlY3RpdmUodERpcmVjdGl2ZXMsbmFtZSxsb2NhdGlvbixtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUsc3RhcnRBdHRyTmFtZSxlbmRBdHRyTmFtZSl7aWYobmFtZT09PWlnbm9yZURpcmVjdGl2ZSlyZXR1cm4gbnVsbDt2YXIgbWF0Y2g9bnVsbDtpZihoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKWZvcih2YXIgZGlyZWN0aXZlLGRpcmVjdGl2ZXM9JGluamVjdG9yLmdldChuYW1lK1N1ZmZpeCksaT0wLGlpPWRpcmVjdGl2ZXMubGVuZ3RoO2lpPmk7aSsrKXRyeXtkaXJlY3RpdmU9ZGlyZWN0aXZlc1tpXSwobWF4UHJpb3JpdHk9PT11bmRlZmluZWR8fG1heFByaW9yaXR5PmRpcmVjdGl2ZS5wcmlvcml0eSkmJi0xIT1kaXJlY3RpdmUucmVzdHJpY3QuaW5kZXhPZihsb2NhdGlvbikmJihzdGFydEF0dHJOYW1lJiYoZGlyZWN0aXZlPWluaGVyaXQoZGlyZWN0aXZlLHskJHN0YXJ0OnN0YXJ0QXR0ck5hbWUsJCRlbmQ6ZW5kQXR0ck5hbWV9KSksdERpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpLG1hdGNoPWRpcmVjdGl2ZSl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9cmV0dXJuIG1hdGNofWZ1bmN0aW9uIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG5hbWUpe2lmKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpZm9yKHZhciBkaXJlY3RpdmUsZGlyZWN0aXZlcz0kaW5qZWN0b3IuZ2V0KG5hbWUrU3VmZml4KSxpPTAsaWk9ZGlyZWN0aXZlcy5sZW5ndGg7aWk+aTtpKyspaWYoZGlyZWN0aXZlPWRpcmVjdGl2ZXNbaV0sZGlyZWN0aXZlLm11bHRpRWxlbWVudClyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyhkc3Qsc3JjKXt2YXIgc3JjQXR0cj1zcmMuJGF0dHIsZHN0QXR0cj1kc3QuJGF0dHIsJGVsZW1lbnQ9ZHN0LiQkZWxlbWVudDtmb3JFYWNoKGRzdCxmdW5jdGlvbih2YWx1ZSxrZXkpeyIkIiE9a2V5LmNoYXJBdCgwKSYmKHNyY1trZXldJiZzcmNba2V5XSE9PXZhbHVlJiYodmFsdWUrPSgic3R5bGUiPT09a2V5PyI7IjoiICIpK3NyY1trZXldKSxkc3QuJHNldChrZXksdmFsdWUsITAsc3JjQXR0cltrZXldKSl9KSxmb3JFYWNoKHNyYyxmdW5jdGlvbih2YWx1ZSxrZXkpeyJjbGFzcyI9PWtleT8oc2FmZUFkZENsYXNzKCRlbGVtZW50LHZhbHVlKSxkc3RbImNsYXNzIl09KGRzdFsiY2xhc3MiXT9kc3RbImNsYXNzIl0rIiAiOiIiKSt2YWx1ZSk6InN0eWxlIj09a2V5PygkZWxlbWVudC5hdHRyKCJzdHlsZSIsJGVsZW1lbnQuYXR0cigic3R5bGUiKSsiOyIrdmFsdWUpLGRzdC5zdHlsZT0oZHN0LnN0eWxlP2RzdC5zdHlsZSsiOyI6IiIpK3ZhbHVlKToiJCI9PWtleS5jaGFyQXQoMCl8fGRzdC5oYXNPd25Qcm9wZXJ0eShrZXkpfHwoZHN0W2tleV09dmFsdWUsZHN0QXR0cltrZXldPXNyY0F0dHJba2V5XSl9KX1mdW5jdGlvbiBjb21waWxlVGVtcGxhdGVVcmwoZGlyZWN0aXZlcywkY29tcGlsZU5vZGUsdEF0dHJzLCRyb290RWxlbWVudCxjaGlsZFRyYW5zY2x1ZGVGbixwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpe3ZhciBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbixhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sbGlua1F1ZXVlPVtdLGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGU9JGNvbXBpbGVOb2RlWzBdLG9yaWdBc3luY0RpcmVjdGl2ZT1kaXJlY3RpdmVzLnNoaWZ0KCksZGVyaXZlZFN5bmNEaXJlY3RpdmU9ZXh0ZW5kKHt9LG9yaWdBc3luY0RpcmVjdGl2ZSx7dGVtcGxhdGVVcmw6bnVsbCx0cmFuc2NsdWRlOm51bGwscmVwbGFjZTpudWxsLCQkb3JpZ2luYWxEaXJlY3RpdmU6b3JpZ0FzeW5jRGlyZWN0aXZlfSksdGVtcGxhdGVVcmw9aXNGdW5jdGlvbihvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwpP29yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCgkY29tcGlsZU5vZGUsdEF0dHJzKTpvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwsdGVtcGxhdGVOYW1lc3BhY2U9b3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlO3JldHVybiAkY29tcGlsZU5vZGUuZW1wdHkoKSwkdGVtcGxhdGVSZXF1ZXN0KCRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHRlbXBsYXRlVXJsKSkudGhlbihmdW5jdGlvbihjb250ZW50KXt2YXIgY29tcGlsZU5vZGUsdGVtcFRlbXBsYXRlQXR0cnMsJHRlbXBsYXRlLGNoaWxkQm91bmRUcmFuc2NsdWRlRm47aWYoY29udGVudD1kZW5vcm1hbGl6ZVRlbXBsYXRlKGNvbnRlbnQpLG9yaWdBc3luY0RpcmVjdGl2ZS5yZXBsYWNlKXtpZigkdGVtcGxhdGU9anFMaXRlSXNUZXh0Tm9kZShjb250ZW50KT9bXTpyZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsdHJpbShjb250ZW50KSkpLGNvbXBpbGVOb2RlPSR0ZW1wbGF0ZVswXSwxIT0kdGVtcGxhdGUubGVuZ3RofHxjb21waWxlTm9kZS5ub2RlVHlwZSE9PU5PREVfVFlQRV9FTEVNRU5UKXRocm93ICRjb21waWxlTWluRXJyKCJ0cGxydCIsIlRlbXBsYXRlIGZvciBkaXJlY3RpdmUgJ3swfScgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9IixvcmlnQXN5bmNEaXJlY3RpdmUubmFtZSx0ZW1wbGF0ZVVybCk7dGVtcFRlbXBsYXRlQXR0cnM9eyRhdHRyOnt9fSxyZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsJGNvbXBpbGVOb2RlLGNvbXBpbGVOb2RlKTt2YXIgdGVtcGxhdGVEaXJlY3RpdmVzPWNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLFtdLHRlbXBUZW1wbGF0ZUF0dHJzKTtpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpJiZtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZSh0ZW1wbGF0ZURpcmVjdGl2ZXMpLGRpcmVjdGl2ZXM9dGVtcGxhdGVEaXJlY3RpdmVzLmNvbmNhdChkaXJlY3RpdmVzKSxtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0QXR0cnMsdGVtcFRlbXBsYXRlQXR0cnMpfWVsc2UgY29tcGlsZU5vZGU9YmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSwkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTtmb3IoZGlyZWN0aXZlcy51bnNoaWZ0KGRlcml2ZWRTeW5jRGlyZWN0aXZlKSxhZnRlclRlbXBsYXRlTm9kZUxpbmtGbj1hcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcyxjb21waWxlTm9kZSx0QXR0cnMsY2hpbGRUcmFuc2NsdWRlRm4sJGNvbXBpbGVOb2RlLG9yaWdBc3luY0RpcmVjdGl2ZSxwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpLGZvckVhY2goJHJvb3RFbGVtZW50LGZ1bmN0aW9uKG5vZGUsaSl7bm9kZT09Y29tcGlsZU5vZGUmJigkcm9vdEVsZW1lbnRbaV09JGNvbXBpbGVOb2RlWzBdKX0pLGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbj1jb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsY2hpbGRUcmFuc2NsdWRlRm4pO2xpbmtRdWV1ZS5sZW5ndGg7KXt2YXIgc2NvcGU9bGlua1F1ZXVlLnNoaWZ0KCksYmVmb3JlVGVtcGxhdGVMaW5rTm9kZT1saW5rUXVldWUuc2hpZnQoKSxsaW5rUm9vdEVsZW1lbnQ9bGlua1F1ZXVlLnNoaWZ0KCksYm91bmRUcmFuc2NsdWRlRm49bGlua1F1ZXVlLnNoaWZ0KCksbGlua05vZGU9JGNvbXBpbGVOb2RlWzBdO2lmKCFzY29wZS4kJGRlc3Ryb3llZCl7aWYoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSE9PWJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUpe3ZhciBvbGRDbGFzc2VzPWJlZm9yZVRlbXBsYXRlTGlua05vZGUuY2xhc3NOYW1lO3ByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUmJm9yaWdBc3luY0RpcmVjdGl2ZS5yZXBsYWNlfHwobGlua05vZGU9anFMaXRlQ2xvbmUoY29tcGlsZU5vZGUpKSxyZXBsYWNlV2l0aChsaW5rUm9vdEVsZW1lbnQsanFMaXRlKGJlZm9yZVRlbXBsYXRlTGlua05vZGUpLGxpbmtOb2RlKSxzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSxvbGRDbGFzc2VzKX1jaGlsZEJvdW5kVHJhbnNjbHVkZUZuPWFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P2NyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsYm91bmRUcmFuc2NsdWRlRm4pOmJvdW5kVHJhbnNjbHVkZUZuLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbixzY29wZSxsaW5rTm9kZSwkcm9vdEVsZW1lbnQsY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbil9fWxpbmtRdWV1ZT1udWxsfSksZnVuY3Rpb24oaWdub3JlQ2hpbGRMaW5rRm4sc2NvcGUsbm9kZSxyb290RWxlbWVudCxib3VuZFRyYW5zY2x1ZGVGbil7dmFyIGNoaWxkQm91bmRUcmFuc2NsdWRlRm49Ym91bmRUcmFuc2NsdWRlRm47c2NvcGUuJCRkZXN0cm95ZWR8fChsaW5rUXVldWU/KGxpbmtRdWV1ZS5wdXNoKHNjb3BlKSxsaW5rUXVldWUucHVzaChub2RlKSxsaW5rUXVldWUucHVzaChyb290RWxlbWVudCksbGlua1F1ZXVlLnB1c2goY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbikpOihhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCYmKGNoaWxkQm91bmRUcmFuc2NsdWRlRm49Y3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZSxib3VuZFRyYW5zY2x1ZGVGbikpLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbixzY29wZSxub2RlLHJvb3RFbGVtZW50LGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pKSl9fWZ1bmN0aW9uIGJ5UHJpb3JpdHkoYSxiKXt2YXIgZGlmZj1iLnByaW9yaXR5LWEucHJpb3JpdHk7cmV0dXJuIDAhPT1kaWZmP2RpZmY6YS5uYW1lIT09Yi5uYW1lP2EubmFtZTxiLm5hbWU/LTE6MTphLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gYXNzZXJ0Tm9EdXBsaWNhdGUod2hhdCxwcmV2aW91c0RpcmVjdGl2ZSxkaXJlY3RpdmUsZWxlbWVudCl7aWYocHJldmlvdXNEaXJlY3RpdmUpdGhyb3cgJGNvbXBpbGVNaW5FcnIoIm11bHRpZGlyIiwiTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9LCB7MX1dIGFza2luZyBmb3IgezJ9IG9uOiB7M30iLHByZXZpb3VzRGlyZWN0aXZlLm5hbWUsZGlyZWN0aXZlLm5hbWUsd2hhdCxzdGFydGluZ1RhZyhlbGVtZW50KSl9ZnVuY3Rpb24gYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsdGV4dCl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKHRleHQsITApO2ludGVycG9sYXRlRm4mJmRpcmVjdGl2ZXMucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmZ1bmN0aW9uKHRlbXBsYXRlTm9kZSl7dmFyIHRlbXBsYXRlTm9kZVBhcmVudD10ZW1wbGF0ZU5vZGUucGFyZW50KCksaGFzQ29tcGlsZVBhcmVudD0hIXRlbXBsYXRlTm9kZVBhcmVudC5sZW5ndGg7cmV0dXJuIGhhc0NvbXBpbGVQYXJlbnQmJmNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVOb2RlUGFyZW50KSxmdW5jdGlvbihzY29wZSxub2RlKXt2YXIgcGFyZW50PW5vZGUucGFyZW50KCk7aGFzQ29tcGlsZVBhcmVudHx8Y29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyhwYXJlbnQpLGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhwYXJlbnQsaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyksc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sZnVuY3Rpb24odmFsdWUpe25vZGVbMF0ubm9kZVZhbHVlPXZhbHVlCn0pfX19KX1mdW5jdGlvbiB3cmFwVGVtcGxhdGUodHlwZSx0ZW1wbGF0ZSl7c3dpdGNoKHR5cGU9bG93ZXJjYXNlKHR5cGV8fCJodG1sIikpe2Nhc2Uic3ZnIjpjYXNlIm1hdGgiOnZhciB3cmFwcGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiB3cmFwcGVyLmlubmVySFRNTD0iPCIrdHlwZSsiPiIrdGVtcGxhdGUrIjwvIit0eXBlKyI+Iix3cmFwcGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2RlcztkZWZhdWx0OnJldHVybiB0ZW1wbGF0ZX19ZnVuY3Rpb24gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSxhdHRyTm9ybWFsaXplZE5hbWUpe2lmKCJzcmNkb2MiPT1hdHRyTm9ybWFsaXplZE5hbWUpcmV0dXJuICRzY2UuSFRNTDt2YXIgdGFnPW5vZGVOYW1lXyhub2RlKTtyZXR1cm4ieGxpbmtIcmVmIj09YXR0ck5vcm1hbGl6ZWROYW1lfHwiZm9ybSI9PXRhZyYmImFjdGlvbiI9PWF0dHJOb3JtYWxpemVkTmFtZXx8ImltZyIhPXRhZyYmKCJzcmMiPT1hdHRyTm9ybWFsaXplZE5hbWV8fCJuZ1NyYyI9PWF0dHJOb3JtYWxpemVkTmFtZSk/JHNjZS5SRVNPVVJDRV9VUkw6dm9pZCAwfWZ1bmN0aW9uIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLGRpcmVjdGl2ZXMsdmFsdWUsbmFtZSxhbGxPck5vdGhpbmcpe3ZhciBpbnRlcnBvbGF0ZUZuPSRpbnRlcnBvbGF0ZSh2YWx1ZSwhMCk7aWYoaW50ZXJwb2xhdGVGbil7aWYoIm11bHRpcGxlIj09PW5hbWUmJiJzZWxlY3QiPT09bm9kZU5hbWVfKG5vZGUpKXRocm93ICRjb21waWxlTWluRXJyKCJzZWxtdWx0aSIsIkJpbmRpbmcgdG8gdGhlICdtdWx0aXBsZScgYXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQuIEVsZW1lbnQ6IHswfSIsc3RhcnRpbmdUYWcobm9kZSkpO2RpcmVjdGl2ZXMucHVzaCh7cHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyICQkb2JzZXJ2ZXJzPWF0dHIuJCRvYnNlcnZlcnN8fChhdHRyLiQkb2JzZXJ2ZXJzPXt9KTtpZihFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQLnRlc3QobmFtZSkpdGhyb3cgJGNvbXBpbGVNaW5FcnIoIm5vZG9tZXZlbnRzIiwiSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSBuZy0gdmVyc2lvbnMgKHN1Y2ggYXMgbmctY2xpY2sgaW5zdGVhZCBvZiBvbmNsaWNrKSBpbnN0ZWFkLiIpO2F0dHJbbmFtZV0mJihpbnRlcnBvbGF0ZUZuPSRpbnRlcnBvbGF0ZShhdHRyW25hbWVdLCEwLGdldFRydXN0ZWRDb250ZXh0KG5vZGUsbmFtZSksQUxMX09SX05PVEhJTkdfQVRUUlNbbmFtZV18fGFsbE9yTm90aGluZyksaW50ZXJwb2xhdGVGbiYmKGF0dHJbbmFtZV09aW50ZXJwb2xhdGVGbihzY29wZSksKCQkb2JzZXJ2ZXJzW25hbWVdfHwoJCRvYnNlcnZlcnNbbmFtZV09W10pKS4kJGludGVyPSEwLChhdHRyLiQkb2JzZXJ2ZXJzJiZhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGV8fHNjb3BlKS4kd2F0Y2goaW50ZXJwb2xhdGVGbixmdW5jdGlvbihuZXdWYWx1ZSxvbGRWYWx1ZSl7ImNsYXNzIj09PW5hbWUmJm5ld1ZhbHVlIT1vbGRWYWx1ZT9hdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSxvbGRWYWx1ZSk6YXR0ci4kc2V0KG5hbWUsbmV3VmFsdWUpfSkpKX19fX0pfX1mdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsZWxlbWVudHNUb1JlbW92ZSxuZXdOb2RlKXt2YXIgaSxpaSxmaXJzdEVsZW1lbnRUb1JlbW92ZT1lbGVtZW50c1RvUmVtb3ZlWzBdLHJlbW92ZUNvdW50PWVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoLHBhcmVudD1maXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlO2lmKCRyb290RWxlbWVudClmb3IoaT0wLGlpPSRyb290RWxlbWVudC5sZW5ndGg7aWk+aTtpKyspaWYoJHJvb3RFbGVtZW50W2ldPT1maXJzdEVsZW1lbnRUb1JlbW92ZSl7JHJvb3RFbGVtZW50W2krK109bmV3Tm9kZTtmb3IodmFyIGo9aSxqMj1qK3JlbW92ZUNvdW50LTEsamo9JHJvb3RFbGVtZW50Lmxlbmd0aDtqaj5qO2orKyxqMisrKWpqPmoyPyRyb290RWxlbWVudFtqXT0kcm9vdEVsZW1lbnRbajJdOmRlbGV0ZSAkcm9vdEVsZW1lbnRbal07JHJvb3RFbGVtZW50Lmxlbmd0aC09cmVtb3ZlQ291bnQtMSwkcm9vdEVsZW1lbnQuY29udGV4dD09PWZpcnN0RWxlbWVudFRvUmVtb3ZlJiYoJHJvb3RFbGVtZW50LmNvbnRleHQ9bmV3Tm9kZSk7YnJlYWt9cGFyZW50JiZwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsZmlyc3RFbGVtZW50VG9SZW1vdmUpO3ZhciBmcmFnbWVudD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZmlyc3RFbGVtZW50VG9SZW1vdmUpLGpxTGl0ZShuZXdOb2RlKS5kYXRhKGpxTGl0ZShmaXJzdEVsZW1lbnRUb1JlbW92ZSkuZGF0YSgpKSxqUXVlcnk/KHNraXBEZXN0cm95T25OZXh0SlF1ZXJ5Q2xlYW5EYXRhPSEwLGpRdWVyeS5jbGVhbkRhdGEoW2ZpcnN0RWxlbWVudFRvUmVtb3ZlXSkpOmRlbGV0ZSBqcUxpdGUuY2FjaGVbZmlyc3RFbGVtZW50VG9SZW1vdmVbanFMaXRlLmV4cGFuZG9dXTtmb3IodmFyIGs9MSxraz1lbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDtraz5rO2srKyl7dmFyIGVsZW1lbnQ9ZWxlbWVudHNUb1JlbW92ZVtrXTtqcUxpdGUoZWxlbWVudCkucmVtb3ZlKCksZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCksZGVsZXRlIGVsZW1lbnRzVG9SZW1vdmVba119ZWxlbWVudHNUb1JlbW92ZVswXT1uZXdOb2RlLGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoPTF9ZnVuY3Rpb24gY2xvbmVBbmRBbm5vdGF0ZUZuKGZuLGFubm90YXRpb24pe3JldHVybiBleHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZm4uYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmbixhbm5vdGF0aW9uKX1mdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLHNjb3BlLCRlbGVtZW50LGF0dHJzLGNvbnRyb2xsZXJzLHRyYW5zY2x1ZGVGbil7dHJ5e2xpbmtGbihzY29wZSwkZWxlbWVudCxhdHRycyxjb250cm9sbGVycyx0cmFuc2NsdWRlRm4pfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKX19dmFyIEF0dHJpYnV0ZXM9ZnVuY3Rpb24oZWxlbWVudCxhdHRyaWJ1dGVzVG9Db3B5KXtpZihhdHRyaWJ1dGVzVG9Db3B5KXt2YXIgaSxsLGtleSxrZXlzPU9iamVjdC5rZXlzKGF0dHJpYnV0ZXNUb0NvcHkpO2ZvcihpPTAsbD1rZXlzLmxlbmd0aDtsPmk7aSsrKWtleT1rZXlzW2ldLHRoaXNba2V5XT1hdHRyaWJ1dGVzVG9Db3B5W2tleV19ZWxzZSB0aGlzLiRhdHRyPXt9O3RoaXMuJCRlbGVtZW50PWVsZW1lbnR9O0F0dHJpYnV0ZXMucHJvdG90eXBlPXskbm9ybWFsaXplOmRpcmVjdGl2ZU5vcm1hbGl6ZSwkYWRkQ2xhc3M6ZnVuY3Rpb24oY2xhc3NWYWwpe2NsYXNzVmFsJiZjbGFzc1ZhbC5sZW5ndGg+MCYmJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsY2xhc3NWYWwpfSwkcmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oY2xhc3NWYWwpe2NsYXNzVmFsJiZjbGFzc1ZhbC5sZW5ndGg+MCYmJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsY2xhc3NWYWwpfSwkdXBkYXRlQ2xhc3M6ZnVuY3Rpb24obmV3Q2xhc3NlcyxvbGRDbGFzc2VzKXt2YXIgdG9BZGQ9dG9rZW5EaWZmZXJlbmNlKG5ld0NsYXNzZXMsb2xkQ2xhc3Nlcyk7dG9BZGQmJnRvQWRkLmxlbmd0aCYmJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsdG9BZGQpO3ZhciB0b1JlbW92ZT10b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcyxuZXdDbGFzc2VzKTt0b1JlbW92ZSYmdG9SZW1vdmUubGVuZ3RoJiYkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCx0b1JlbW92ZSl9LCRzZXQ6ZnVuY3Rpb24oa2V5LHZhbHVlLHdyaXRlQXR0cixhdHRyTmFtZSl7dmFyIG5vZGVOYW1lLG5vZGU9dGhpcy4kJGVsZW1lbnRbMF0sYm9vbGVhbktleT1nZXRCb29sZWFuQXR0ck5hbWUobm9kZSxrZXkpLGFsaWFzZWRLZXk9Z2V0QWxpYXNlZEF0dHJOYW1lKG5vZGUsa2V5KSxvYnNlcnZlcj1rZXk7aWYoYm9vbGVhbktleT8odGhpcy4kJGVsZW1lbnQucHJvcChrZXksdmFsdWUpLGF0dHJOYW1lPWJvb2xlYW5LZXkpOmFsaWFzZWRLZXkmJih0aGlzW2FsaWFzZWRLZXldPXZhbHVlLG9ic2VydmVyPWFsaWFzZWRLZXkpLHRoaXNba2V5XT12YWx1ZSxhdHRyTmFtZT90aGlzLiRhdHRyW2tleV09YXR0ck5hbWU6KGF0dHJOYW1lPXRoaXMuJGF0dHJba2V5XSxhdHRyTmFtZXx8KHRoaXMuJGF0dHJba2V5XT1hdHRyTmFtZT1zbmFrZV9jYXNlKGtleSwiLSIpKSksbm9kZU5hbWU9bm9kZU5hbWVfKHRoaXMuJCRlbGVtZW50KSwiYSI9PT1ub2RlTmFtZSYmImhyZWYiPT09a2V5fHwiaW1nIj09PW5vZGVOYW1lJiYic3JjIj09PWtleSl0aGlzW2tleV09dmFsdWU9JCRzYW5pdGl6ZVVyaSh2YWx1ZSwic3JjIj09PWtleSk7ZWxzZSBpZigiaW1nIj09PW5vZGVOYW1lJiYic3Jjc2V0Ij09PWtleSl7Zm9yKHZhciByZXN1bHQ9IiIsdHJpbW1lZFNyY3NldD10cmltKHZhbHVlKSxzcmNQYXR0ZXJuPS8oXHMrXGQreFxzKix8XHMrXGQrd1xzKix8XHMrLHwsXHMrKS8scGF0dGVybj0vXHMvLnRlc3QodHJpbW1lZFNyY3NldCk/c3JjUGF0dGVybjovKCwpLyxyYXdVcmlzPXRyaW1tZWRTcmNzZXQuc3BsaXQocGF0dGVybiksbmJyVXJpc1dpdGgycGFydHM9TWF0aC5mbG9vcihyYXdVcmlzLmxlbmd0aC8yKSxpPTA7bmJyVXJpc1dpdGgycGFydHM+aTtpKyspe3ZhciBpbm5lcklkeD0yKmk7cmVzdWx0Kz0kJHNhbml0aXplVXJpKHRyaW0ocmF3VXJpc1tpbm5lcklkeF0pLCEwKSxyZXN1bHQrPSIgIit0cmltKHJhd1VyaXNbaW5uZXJJZHgrMV0pfXZhciBsYXN0VHVwbGU9dHJpbShyYXdVcmlzWzIqaV0pLnNwbGl0KC9ccy8pO3Jlc3VsdCs9JCRzYW5pdGl6ZVVyaSh0cmltKGxhc3RUdXBsZVswXSksITApLDI9PT1sYXN0VHVwbGUubGVuZ3RoJiYocmVzdWx0Kz0iICIrdHJpbShsYXN0VHVwbGVbMV0pKSx0aGlzW2tleV09dmFsdWU9cmVzdWx0fXdyaXRlQXR0ciE9PSExJiYobnVsbD09PXZhbHVlfHx2YWx1ZT09PXVuZGVmaW5lZD90aGlzLiQkZWxlbWVudC5yZW1vdmVBdHRyKGF0dHJOYW1lKTp0aGlzLiQkZWxlbWVudC5hdHRyKGF0dHJOYW1lLHZhbHVlKSk7dmFyICQkb2JzZXJ2ZXJzPXRoaXMuJCRvYnNlcnZlcnM7JCRvYnNlcnZlcnMmJmZvckVhY2goJCRvYnNlcnZlcnNbb2JzZXJ2ZXJdLGZ1bmN0aW9uKGZuKXt0cnl7Zm4odmFsdWUpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfX0pfSwkb2JzZXJ2ZTpmdW5jdGlvbihrZXksZm4pe3ZhciBhdHRycz10aGlzLCQkb2JzZXJ2ZXJzPWF0dHJzLiQkb2JzZXJ2ZXJzfHwoYXR0cnMuJCRvYnNlcnZlcnM9Y3JlYXRlTWFwKCkpLGxpc3RlbmVycz0kJG9ic2VydmVyc1trZXldfHwoJCRvYnNlcnZlcnNba2V5XT1bXSk7cmV0dXJuIGxpc3RlbmVycy5wdXNoKGZuKSwkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtsaXN0ZW5lcnMuJCRpbnRlcnx8Zm4oYXR0cnNba2V5XSl9KSxmdW5jdGlvbigpe2FycmF5UmVtb3ZlKGxpc3RlbmVycyxmbil9fX07dmFyIHN0YXJ0U3ltYm9sPSRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLGVuZFN5bWJvbD0kaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksZGVub3JtYWxpemVUZW1wbGF0ZT0ie3siPT1zdGFydFN5bWJvbHx8In19Ij09ZW5kU3ltYm9sP2lkZW50aXR5OmZ1bmN0aW9uKHRlbXBsYXRlKXtyZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXHtcey9nLHN0YXJ0U3ltYm9sKS5yZXBsYWNlKC99fS9nLGVuZFN5bWJvbCl9LE5HX0FUVFJfQklORElORz0vXm5nQXR0cltBLVpdLztyZXR1cm4gY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvPWRlYnVnSW5mb0VuYWJsZWQ/ZnVuY3Rpb24oJGVsZW1lbnQsYmluZGluZyl7dmFyIGJpbmRpbmdzPSRlbGVtZW50LmRhdGEoIiRiaW5kaW5nIil8fFtdO2lzQXJyYXkoYmluZGluZyk/YmluZGluZ3M9YmluZGluZ3MuY29uY2F0KGJpbmRpbmcpOmJpbmRpbmdzLnB1c2goYmluZGluZyksJGVsZW1lbnQuZGF0YSgiJGJpbmRpbmciLGJpbmRpbmdzKX06bm9vcCxjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzPWRlYnVnSW5mb0VuYWJsZWQ/ZnVuY3Rpb24oJGVsZW1lbnQpe3NhZmVBZGRDbGFzcygkZWxlbWVudCwibmctYmluZGluZyIpfTpub29wLGNvbXBpbGUuJCRhZGRTY29wZUluZm89ZGVidWdJbmZvRW5hYmxlZD9mdW5jdGlvbigkZWxlbWVudCxzY29wZSxpc29sYXRlZCxub1RlbXBsYXRlKXt2YXIgZGF0YU5hbWU9aXNvbGF0ZWQ/bm9UZW1wbGF0ZT8iJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUiOiIkaXNvbGF0ZVNjb3BlIjoiJHNjb3BlIjskZWxlbWVudC5kYXRhKGRhdGFOYW1lLHNjb3BlKX06bm9vcCxjb21waWxlLiQkYWRkU2NvcGVDbGFzcz1kZWJ1Z0luZm9FbmFibGVkP2Z1bmN0aW9uKCRlbGVtZW50LGlzb2xhdGVkKXtzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsaXNvbGF0ZWQ/Im5nLWlzb2xhdGUtc2NvcGUiOiJuZy1zY29wZSIpfTpub29wLGNvbXBpbGV9XX1mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSl7cmV0dXJuIGNhbWVsQ2FzZShuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwiIikpfWZ1bmN0aW9uIHRva2VuRGlmZmVyZW5jZShzdHIxLHN0cjIpe3ZhciB2YWx1ZXM9IiIsdG9rZW5zMT1zdHIxLnNwbGl0KC9ccysvKSx0b2tlbnMyPXN0cjIuc3BsaXQoL1xzKy8pO291dGVyOmZvcih2YXIgaT0wO2k8dG9rZW5zMS5sZW5ndGg7aSsrKXtmb3IodmFyIHRva2VuPXRva2VuczFbaV0saj0wO2o8dG9rZW5zMi5sZW5ndGg7aisrKWlmKHRva2VuPT10b2tlbnMyW2pdKWNvbnRpbnVlIG91dGVyO3ZhbHVlcys9KHZhbHVlcy5sZW5ndGg+MD8iICI6IiIpK3Rva2VufXJldHVybiB2YWx1ZXN9ZnVuY3Rpb24gcmVtb3ZlQ29tbWVudHMoanFOb2Rlcyl7anFOb2Rlcz1qcUxpdGUoanFOb2Rlcyk7dmFyIGk9anFOb2Rlcy5sZW5ndGg7aWYoMT49aSlyZXR1cm4ganFOb2Rlcztmb3IoO2ktLTspe3ZhciBub2RlPWpxTm9kZXNbaV07bm9kZS5ub2RlVHlwZT09PU5PREVfVFlQRV9DT01NRU5UJiZzcGxpY2UuY2FsbChqcU5vZGVzLGksMSl9cmV0dXJuIGpxTm9kZXN9ZnVuY3Rpb24gJENvbnRyb2xsZXJQcm92aWRlcigpe3ZhciBjb250cm9sbGVycz17fSxnbG9iYWxzPSExLENOVFJMX1JFRz0vXihcUyspKFxzK2FzXHMrKFx3KykpPyQvO3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24obmFtZSxjb25zdHJ1Y3Rvcil7YXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwiY29udHJvbGxlciIpLGlzT2JqZWN0KG5hbWUpP2V4dGVuZChjb250cm9sbGVycyxuYW1lKTpjb250cm9sbGVyc1tuYW1lXT1jb25zdHJ1Y3Rvcn0sdGhpcy5hbGxvd0dsb2JhbHM9ZnVuY3Rpb24oKXtnbG9iYWxzPSEwfSx0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLCIkd2luZG93IixmdW5jdGlvbigkaW5qZWN0b3IsJHdpbmRvdyl7ZnVuY3Rpb24gYWRkSWRlbnRpZmllcihsb2NhbHMsaWRlbnRpZmllcixpbnN0YW5jZSxuYW1lKXtpZighbG9jYWxzfHwhaXNPYmplY3QobG9jYWxzLiRzY29wZSkpdGhyb3cgbWluRXJyKCIkY29udHJvbGxlciIpKCJub3NjcCIsIkNhbm5vdCBleHBvcnQgY29udHJvbGxlciAnezB9JyBhcyAnezF9JyEgTm8gJHNjb3BlIG9iamVjdCBwcm92aWRlZCB2aWEgYGxvY2Fsc2AuIixuYW1lLGlkZW50aWZpZXIpO2xvY2Fscy4kc2NvcGVbaWRlbnRpZmllcl09aW5zdGFuY2V9cmV0dXJuIGZ1bmN0aW9uKGV4cHJlc3Npb24sbG9jYWxzLGxhdGVyLGlkZW50KXt2YXIgaW5zdGFuY2UsbWF0Y2gsY29uc3RydWN0b3IsaWRlbnRpZmllcjtpZihsYXRlcj1sYXRlcj09PSEwLGlkZW50JiZpc1N0cmluZyhpZGVudCkmJihpZGVudGlmaWVyPWlkZW50KSxpc1N0cmluZyhleHByZXNzaW9uKSYmKG1hdGNoPWV4cHJlc3Npb24ubWF0Y2goQ05UUkxfUkVHKSxjb25zdHJ1Y3Rvcj1tYXRjaFsxXSxpZGVudGlmaWVyPWlkZW50aWZpZXJ8fG1hdGNoWzNdLGV4cHJlc3Npb249Y29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkoY29uc3RydWN0b3IpP2NvbnRyb2xsZXJzW2NvbnN0cnVjdG9yXTpnZXR0ZXIobG9jYWxzLiRzY29wZSxjb25zdHJ1Y3RvciwhMCl8fChnbG9iYWxzP2dldHRlcigkd2luZG93LGNvbnN0cnVjdG9yLCEwKTp1bmRlZmluZWQpLGFzc2VydEFyZ0ZuKGV4cHJlc3Npb24sY29uc3RydWN0b3IsITApKSxsYXRlcil7dmFyIENvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7fTtyZXR1cm4gQ29uc3RydWN0b3IucHJvdG90eXBlPShpc0FycmF5KGV4cHJlc3Npb24pP2V4cHJlc3Npb25bZXhwcmVzc2lvbi5sZW5ndGgtMV06ZXhwcmVzc2lvbikucHJvdG90eXBlLGluc3RhbmNlPW5ldyBDb25zdHJ1Y3RvcixpZGVudGlmaWVyJiZhZGRJZGVudGlmaWVyKGxvY2FscyxpZGVudGlmaWVyLGluc3RhbmNlLGNvbnN0cnVjdG9yfHxleHByZXNzaW9uLm5hbWUpLGV4dGVuZChmdW5jdGlvbigpe3JldHVybiAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24saW5zdGFuY2UsbG9jYWxzLGNvbnN0cnVjdG9yKSxpbnN0YW5jZX0se2luc3RhbmNlOmluc3RhbmNlLGlkZW50aWZpZXI6aWRlbnRpZmllcn0pfXJldHVybiBpbnN0YW5jZT0kaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbixsb2NhbHMsY29uc3RydWN0b3IpLGlkZW50aWZpZXImJmFkZElkZW50aWZpZXIobG9jYWxzLGlkZW50aWZpZXIsaW5zdGFuY2UsY29uc3RydWN0b3J8fGV4cHJlc3Npb24ubmFtZSksaW5zdGFuY2V9fV19ZnVuY3Rpb24gJERvY3VtZW50UHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IixmdW5jdGlvbih3aW5kb3cpe3JldHVybiBqcUxpdGUod2luZG93LmRvY3VtZW50KX1dfWZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkbG9nIixmdW5jdGlvbigkbG9nKXtyZXR1cm4gZnVuY3Rpb24oKXskbG9nLmVycm9yLmFwcGx5KCRsb2csYXJndW1lbnRzKX19XX1mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycyl7dmFyIGtleSx2YWwsaSxwYXJzZWQ9e307cmV0dXJuIGhlYWRlcnM/KGZvckVhY2goaGVhZGVycy5zcGxpdCgiXG4iKSxmdW5jdGlvbihsaW5lKXtpPWxpbmUuaW5kZXhPZigiOiIpLGtleT1sb3dlcmNhc2UodHJpbShsaW5lLnN1YnN0cigwLGkpKSksdmFsPXRyaW0obGluZS5zdWJzdHIoaSsxKSksa2V5JiYocGFyc2VkW2tleV09cGFyc2VkW2tleV0/cGFyc2VkW2tleV0rIiwgIit2YWw6dmFsKX0pLHBhcnNlZCk6cGFyc2VkfWZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycyl7dmFyIGhlYWRlcnNPYmo9aXNPYmplY3QoaGVhZGVycyk/aGVhZGVyczp1bmRlZmluZWQ7cmV0dXJuIGZ1bmN0aW9uKG5hbWUpe3JldHVybiBoZWFkZXJzT2JqfHwoaGVhZGVyc09iaj1wYXJzZUhlYWRlcnMoaGVhZGVycykpLG5hbWU/aGVhZGVyc09ialtsb3dlcmNhc2UobmFtZSldfHxudWxsOmhlYWRlcnNPYmp9fWZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSxoZWFkZXJzLGZucyl7cmV0dXJuIGlzRnVuY3Rpb24oZm5zKT9mbnMoZGF0YSxoZWFkZXJzKTooZm9yRWFjaChmbnMsZnVuY3Rpb24oZm4pe2RhdGE9Zm4oZGF0YSxoZWFkZXJzKX0pLGRhdGEpfWZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpe3JldHVybiBzdGF0dXM+PTIwMCYmMzAwPnN0YXR1c31mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCl7dmFyIEpTT05fU1RBUlQ9L15ccyooXFt8XHtbXlx7XSkvLEpTT05fRU5EPS9bXH1cXV1ccyokLyxQUk9URUNUSU9OX1BSRUZJWD0vXlwpXF1cfScsP1xuLyxBUFBMSUNBVElPTl9KU09OPSJhcHBsaWNhdGlvbi9qc29uIixDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTj17IkNvbnRlbnQtVHlwZSI6QVBQTElDQVRJT05fSlNPTisiO2NoYXJzZXQ9dXRmLTgifSxkZWZhdWx0cz10aGlzLmRlZmF1bHRzPXt0cmFuc2Zvcm1SZXNwb25zZTpbZnVuY3Rpb24oZGF0YSxoZWFkZXJzKXtpZihpc1N0cmluZyhkYXRhKSl7ZGF0YT1kYXRhLnJlcGxhY2UoUFJPVEVDVElPTl9QUkVGSVgsIiIpO3ZhciBjb250ZW50VHlwZT1oZWFkZXJzKCJDb250ZW50LVR5cGUiKTsoY29udGVudFR5cGUmJjA9PT1jb250ZW50VHlwZS5pbmRleE9mKEFQUExJQ0FUSU9OX0pTT04pfHxKU09OX1NUQVJULnRlc3QoZGF0YSkmJkpTT05fRU5ELnRlc3QoZGF0YSkpJiYoZGF0YT1mcm9tSnNvbihkYXRhKSl9cmV0dXJuIGRhdGF9XSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihkKXtyZXR1cm4haXNPYmplY3QoZCl8fGlzRmlsZShkKXx8aXNCbG9iKGQpP2Q6dG9Kc29uKGQpfV0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9LHBvc3Q6c2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLHB1dDpzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTikscGF0Y2g6c2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pfSx4c3JmQ29va2llTmFtZToiWFNSRi1UT0tFTiIseHNyZkhlYWRlck5hbWU6IlgtWFNSRi1UT0tFTiJ9LHVzZUFwcGx5QXN5bmM9ITE7dGhpcy51c2VBcHBseUFzeW5jPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT8odXNlQXBwbHlBc3luYz0hIXZhbHVlLHRoaXMpOnVzZUFwcGx5QXN5bmN9O3ZhciBpbnRlcmNlcHRvckZhY3Rvcmllcz10aGlzLmludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9WyIkaHR0cEJhY2tlbmQiLCIkYnJvd3NlciIsIiRjYWNoZUZhY3RvcnkiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaW5qZWN0b3IiLGZ1bmN0aW9uKCRodHRwQmFja2VuZCwkYnJvd3NlciwkY2FjaGVGYWN0b3J5LCRyb290U2NvcGUsJHEsJGluamVjdG9yKXtmdW5jdGlvbiAkaHR0cChyZXF1ZXN0Q29uZmlnKXtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSl7dmFyIHJlc3A9ZXh0ZW5kKHt9LHJlc3BvbnNlKTtyZXR1cm4gcmVzcC5kYXRhPXJlc3BvbnNlLmRhdGE/dHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLHJlc3BvbnNlLmhlYWRlcnMsY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlKTpyZXNwb25zZS5kYXRhLGlzU3VjY2VzcyhyZXNwb25zZS5zdGF0dXMpP3Jlc3A6JHEucmVqZWN0KHJlc3ApfWZ1bmN0aW9uIG1lcmdlSGVhZGVycyhjb25maWcpe2Z1bmN0aW9uIGV4ZWNIZWFkZXJzKGhlYWRlcnMpe3ZhciBoZWFkZXJDb250ZW50O2ZvckVhY2goaGVhZGVycyxmdW5jdGlvbihoZWFkZXJGbixoZWFkZXIpe2lzRnVuY3Rpb24oaGVhZGVyRm4pJiYoaGVhZGVyQ29udGVudD1oZWFkZXJGbigpLG51bGwhPWhlYWRlckNvbnRlbnQ/aGVhZGVyc1toZWFkZXJdPWhlYWRlckNvbnRlbnQ6ZGVsZXRlIGhlYWRlcnNbaGVhZGVyXSl9KX12YXIgZGVmSGVhZGVyTmFtZSxsb3dlcmNhc2VEZWZIZWFkZXJOYW1lLHJlcUhlYWRlck5hbWUsZGVmSGVhZGVycz1kZWZhdWx0cy5oZWFkZXJzLHJlcUhlYWRlcnM9ZXh0ZW5kKHt9LGNvbmZpZy5oZWFkZXJzKTtkZWZIZWFkZXJzPWV4dGVuZCh7fSxkZWZIZWFkZXJzLmNvbW1vbixkZWZIZWFkZXJzW2xvd2VyY2FzZShjb25maWcubWV0aG9kKV0pO2RlZmF1bHRIZWFkZXJzSXRlcmF0aW9uOmZvcihkZWZIZWFkZXJOYW1lIGluIGRlZkhlYWRlcnMpe2xvd2VyY2FzZURlZkhlYWRlck5hbWU9bG93ZXJjYXNlKGRlZkhlYWRlck5hbWUpO2ZvcihyZXFIZWFkZXJOYW1lIGluIHJlcUhlYWRlcnMpaWYobG93ZXJjYXNlKHJlcUhlYWRlck5hbWUpPT09bG93ZXJjYXNlRGVmSGVhZGVyTmFtZSljb250aW51ZSBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjtyZXFIZWFkZXJzW2RlZkhlYWRlck5hbWVdPWRlZkhlYWRlcnNbZGVmSGVhZGVyTmFtZV19cmV0dXJuIGV4ZWNIZWFkZXJzKHJlcUhlYWRlcnMpLHJlcUhlYWRlcnN9dmFyIGNvbmZpZz17bWV0aG9kOiJnZXQiLHRyYW5zZm9ybVJlcXVlc3Q6ZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdCx0cmFuc2Zvcm1SZXNwb25zZTpkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZX0saGVhZGVycz1tZXJnZUhlYWRlcnMocmVxdWVzdENvbmZpZyk7ZXh0ZW5kKGNvbmZpZyxyZXF1ZXN0Q29uZmlnKSxjb25maWcuaGVhZGVycz1oZWFkZXJzLGNvbmZpZy5tZXRob2Q9dXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpO3ZhciBzZXJ2ZXJSZXF1ZXN0PWZ1bmN0aW9uKGNvbmZpZyl7aGVhZGVycz1jb25maWcuaGVhZGVyczt2YXIgcmVxRGF0YT10cmFuc2Zvcm1EYXRhKGNvbmZpZy5kYXRhLGhlYWRlcnNHZXR0ZXIoaGVhZGVycyksY29uZmlnLnRyYW5zZm9ybVJlcXVlc3QpO3JldHVybiBpc1VuZGVmaW5lZChyZXFEYXRhKSYmZm9yRWFjaChoZWFkZXJzLGZ1bmN0aW9uKHZhbHVlLGhlYWRlcil7ImNvbnRlbnQtdHlwZSI9PT1sb3dlcmNhc2UoaGVhZGVyKSYmZGVsZXRlIGhlYWRlcnNbaGVhZGVyXX0pLGlzVW5kZWZpbmVkKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpJiYhaXNVbmRlZmluZWQoZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzKSYmKGNvbmZpZy53aXRoQ3JlZGVudGlhbHM9ZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzKSxzZW5kUmVxKGNvbmZpZyxyZXFEYXRhLGhlYWRlcnMpLnRoZW4odHJhbnNmb3JtUmVzcG9uc2UsdHJhbnNmb3JtUmVzcG9uc2UpfSxjaGFpbj1bc2VydmVyUmVxdWVzdCx1bmRlZmluZWRdLHByb21pc2U9JHEud2hlbihjb25maWcpO2Zvcihmb3JFYWNoKHJldmVyc2VkSW50ZXJjZXB0b3JzLGZ1bmN0aW9uKGludGVyY2VwdG9yKXsoaW50ZXJjZXB0b3IucmVxdWVzdHx8aW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSYmY2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5yZXF1ZXN0LGludGVyY2VwdG9yLnJlcXVlc3RFcnJvciksKGludGVyY2VwdG9yLnJlc3BvbnNlfHxpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKSYmY2hhaW4ucHVzaChpbnRlcmNlcHRvci5yZXNwb25zZSxpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKX0pO2NoYWluLmxlbmd0aDspe3ZhciB0aGVuRm49Y2hhaW4uc2hpZnQoKSxyZWplY3RGbj1jaGFpbi5zaGlmdCgpO3Byb21pc2U9cHJvbWlzZS50aGVuKHRoZW5GbixyZWplY3RGbil9cmV0dXJuIHByb21pc2Uuc3VjY2Vzcz1mdW5jdGlvbihmbil7cmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7Zm4ocmVzcG9uc2UuZGF0YSxyZXNwb25zZS5zdGF0dXMscmVzcG9uc2UuaGVhZGVycyxjb25maWcpfSkscHJvbWlzZX0scHJvbWlzZS5lcnJvcj1mdW5jdGlvbihmbil7cmV0dXJuIHByb21pc2UudGhlbihudWxsLGZ1bmN0aW9uKHJlc3BvbnNlKXtmbihyZXNwb25zZS5kYXRhLHJlc3BvbnNlLnN0YXR1cyxyZXNwb25zZS5oZWFkZXJzLGNvbmZpZyl9KSxwcm9taXNlfSxwcm9taXNlfWZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kcygpe2ZvckVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKG5hbWUpeyRodHRwW25hbWVdPWZ1bmN0aW9uKHVybCxjb25maWcpe3JldHVybiAkaHR0cChleHRlbmQoY29uZmlnfHx7fSx7bWV0aG9kOm5hbWUsdXJsOnVybH0pKX19KX1mdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSgpe2ZvckVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKG5hbWUpeyRodHRwW25hbWVdPWZ1bmN0aW9uKHVybCxkYXRhLGNvbmZpZyl7cmV0dXJuICRodHRwKGV4dGVuZChjb25maWd8fHt9LHttZXRob2Q6bmFtZSx1cmw6dXJsLGRhdGE6ZGF0YX0pKX19KX1mdW5jdGlvbiBzZW5kUmVxKGNvbmZpZyxyZXFEYXRhLHJlcUhlYWRlcnMpe2Z1bmN0aW9uIGRvbmUoc3RhdHVzLHJlc3BvbnNlLGhlYWRlcnNTdHJpbmcsc3RhdHVzVGV4dCl7ZnVuY3Rpb24gcmVzb2x2ZUh0dHBQcm9taXNlKCl7cmVzb2x2ZVByb21pc2UocmVzcG9uc2Usc3RhdHVzLGhlYWRlcnNTdHJpbmcsc3RhdHVzVGV4dCl9Y2FjaGUmJihpc1N1Y2Nlc3Moc3RhdHVzKT9jYWNoZS5wdXQodXJsLFtzdGF0dXMscmVzcG9uc2UscGFyc2VIZWFkZXJzKGhlYWRlcnNTdHJpbmcpLHN0YXR1c1RleHRdKTpjYWNoZS5yZW1vdmUodXJsKSksdXNlQXBwbHlBc3luYz8kcm9vdFNjb3BlLiRhcHBseUFzeW5jKHJlc29sdmVIdHRwUHJvbWlzZSk6KHJlc29sdmVIdHRwUHJvbWlzZSgpLCRyb290U2NvcGUuJCRwaGFzZXx8JHJvb3RTY29wZS4kYXBwbHkoKSl9ZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2Usc3RhdHVzLGhlYWRlcnMsc3RhdHVzVGV4dCl7c3RhdHVzPU1hdGgubWF4KHN0YXR1cywwKSwoaXNTdWNjZXNzKHN0YXR1cyk/ZGVmZXJyZWQucmVzb2x2ZTpkZWZlcnJlZC5yZWplY3QpKHtkYXRhOnJlc3BvbnNlLHN0YXR1czpzdGF0dXMsaGVhZGVyczpoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLGNvbmZpZzpjb25maWcsc3RhdHVzVGV4dDpzdGF0dXNUZXh0fSl9ZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpe3ZhciBpZHg9JGh0dHAucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoY29uZmlnKTstMSE9PWlkeCYmJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsMSl9dmFyIGNhY2hlLGNhY2hlZFJlc3AsZGVmZXJyZWQ9JHEuZGVmZXIoKSxwcm9taXNlPWRlZmVycmVkLnByb21pc2UsdXJsPWJ1aWxkVXJsKGNvbmZpZy51cmwsY29uZmlnLnBhcmFtcyk7aWYoJGh0dHAucGVuZGluZ1JlcXVlc3RzLnB1c2goY29uZmlnKSxwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSxyZW1vdmVQZW5kaW5nUmVxKSwhY29uZmlnLmNhY2hlJiYhZGVmYXVsdHMuY2FjaGV8fGNvbmZpZy5jYWNoZT09PSExfHwiR0VUIiE9PWNvbmZpZy5tZXRob2QmJiJKU09OUCIhPT1jb25maWcubWV0aG9kfHwoY2FjaGU9aXNPYmplY3QoY29uZmlnLmNhY2hlKT9jb25maWcuY2FjaGU6aXNPYmplY3QoZGVmYXVsdHMuY2FjaGUpP2RlZmF1bHRzLmNhY2hlOmRlZmF1bHRDYWNoZSksY2FjaGUpaWYoY2FjaGVkUmVzcD1jYWNoZS5nZXQodXJsKSxpc0RlZmluZWQoY2FjaGVkUmVzcCkpe2lmKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpcmV0dXJuIGNhY2hlZFJlc3AudGhlbihyZW1vdmVQZW5kaW5nUmVxLHJlbW92ZVBlbmRpbmdSZXEpLGNhY2hlZFJlc3A7aXNBcnJheShjYWNoZWRSZXNwKT9yZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLGNhY2hlZFJlc3BbMF0sc2hhbGxvd0NvcHkoY2FjaGVkUmVzcFsyXSksY2FjaGVkUmVzcFszXSk6cmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcCwyMDAse30sIk9LIil9ZWxzZSBjYWNoZS5wdXQodXJsLHByb21pc2UpO2lmKGlzVW5kZWZpbmVkKGNhY2hlZFJlc3ApKXt2YXIgeHNyZlZhbHVlPXVybElzU2FtZU9yaWdpbihjb25maWcudXJsKT8kYnJvd3Nlci5jb29raWVzKClbY29uZmlnLnhzcmZDb29raWVOYW1lfHxkZWZhdWx0cy54c3JmQ29va2llTmFtZV06dW5kZWZpbmVkO3hzcmZWYWx1ZSYmKHJlcUhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lfHxkZWZhdWx0cy54c3JmSGVhZGVyTmFtZV09eHNyZlZhbHVlKSwkaHR0cEJhY2tlbmQoY29uZmlnLm1ldGhvZCx1cmwscmVxRGF0YSxkb25lLHJlcUhlYWRlcnMsY29uZmlnLnRpbWVvdXQsY29uZmlnLndpdGhDcmVkZW50aWFscyxjb25maWcucmVzcG9uc2VUeXBlKX1yZXR1cm4gcHJvbWlzZX1mdW5jdGlvbiBidWlsZFVybCh1cmwscGFyYW1zKXtpZighcGFyYW1zKXJldHVybiB1cmw7dmFyIHBhcnRzPVtdO3JldHVybiBmb3JFYWNoU29ydGVkKHBhcmFtcyxmdW5jdGlvbih2YWx1ZSxrZXkpe251bGw9PT12YWx1ZXx8aXNVbmRlZmluZWQodmFsdWUpfHwoaXNBcnJheSh2YWx1ZSl8fCh2YWx1ZT1bdmFsdWVdKSxmb3JFYWNoKHZhbHVlLGZ1bmN0aW9uKHYpe2lzT2JqZWN0KHYpJiYodj1pc0RhdGUodik/di50b0lTT1N0cmluZygpOnRvSnNvbih2KSkscGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpKyI9IitlbmNvZGVVcmlRdWVyeSh2KSl9KSl9KSxwYXJ0cy5sZW5ndGg+MCYmKHVybCs9KC0xPT11cmwuaW5kZXhPZigiPyIpPyI/IjoiJiIpK3BhcnRzLmpvaW4oIiYiKSksdXJsfXZhciBkZWZhdWx0Q2FjaGU9JGNhY2hlRmFjdG9yeSgiJGh0dHAiKSxyZXZlcnNlZEludGVyY2VwdG9ycz1bXTtyZXR1cm4gZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcyxmdW5jdGlvbihpbnRlcmNlcHRvckZhY3Rvcnkpe3JldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KT8kaW5qZWN0b3IuZ2V0KGludGVyY2VwdG9yRmFjdG9yeSk6JGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKX0pLCRodHRwLnBlbmRpbmdSZXF1ZXN0cz1bXSxjcmVhdGVTaG9ydE1ldGhvZHMoImdldCIsImRlbGV0ZSIsImhlYWQiLCJqc29ucCIpLGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKCJwb3N0IiwicHV0IiwicGF0Y2giKSwkaHR0cC5kZWZhdWx0cz1kZWZhdWx0cywkaHR0cH1dfWZ1bmN0aW9uIGNyZWF0ZVhocigpe3JldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0fWZ1bmN0aW9uICRIdHRwQmFja2VuZFByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJGJyb3dzZXIiLCIkd2luZG93IiwiJGRvY3VtZW50IixmdW5jdGlvbigkYnJvd3Nlciwkd2luZG93LCRkb2N1bWVudCl7cmV0dXJuIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLGNyZWF0ZVhociwkYnJvd3Nlci5kZWZlciwkd2luZG93LmFuZ3VsYXIuY2FsbGJhY2tzLCRkb2N1bWVudFswXSl9XX1mdW5jdGlvbiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlcixjcmVhdGVYaHIsJGJyb3dzZXJEZWZlcixjYWxsYmFja3MscmF3RG9jdW1lbnQpe2Z1bmN0aW9uIGpzb25wUmVxKHVybCxjYWxsYmFja0lkLGRvbmUpe3ZhciBzY3JpcHQ9cmF3RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksY2FsbGJhY2s9bnVsbDtyZXR1cm4gc2NyaXB0LnR5cGU9InRleHQvamF2YXNjcmlwdCIsc2NyaXB0LnNyYz11cmwsc2NyaXB0LmFzeW5jPSEwLGNhbGxiYWNrPWZ1bmN0aW9uKGV2ZW50KXtyZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCJsb2FkIixjYWxsYmFjaykscmVtb3ZlRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwiZXJyb3IiLGNhbGxiYWNrKSxyYXdEb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCksc2NyaXB0PW51bGw7dmFyIHN0YXR1cz0tMSx0ZXh0PSJ1bmtub3duIjtldmVudCYmKCJsb2FkIiE9PWV2ZW50LnR5cGV8fGNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWR8fChldmVudD17dHlwZToiZXJyb3IifSksdGV4dD1ldmVudC50eXBlLHN0YXR1cz0iZXJyb3IiPT09ZXZlbnQudHlwZT80MDQ6MjAwKSxkb25lJiZkb25lKHN0YXR1cyx0ZXh0KX0sYWRkRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwibG9hZCIsY2FsbGJhY2spLGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsImVycm9yIixjYWxsYmFjaykscmF3RG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpLGNhbGxiYWNrfXJldHVybiBmdW5jdGlvbihtZXRob2QsdXJsLHBvc3QsY2FsbGJhY2ssaGVhZGVycyx0aW1lb3V0LHdpdGhDcmVkZW50aWFscyxyZXNwb25zZVR5cGUpe2Z1bmN0aW9uIHRpbWVvdXRSZXF1ZXN0KCl7anNvbnBEb25lJiZqc29ucERvbmUoKSx4aHImJnhoci5hYm9ydCgpfWZ1bmN0aW9uIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjayxzdGF0dXMscmVzcG9uc2UsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KXt0aW1lb3V0SWQmJiRicm93c2VyRGVmZXIuY2FuY2VsKHRpbWVvdXRJZCksanNvbnBEb25lPXhocj1udWxsLGNhbGxiYWNrKHN0YXR1cyxyZXNwb25zZSxoZWFkZXJzU3RyaW5nLHN0YXR1c1RleHQpLCRicm93c2VyLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCl9aWYoJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpLHVybD11cmx8fCRicm93c2VyLnVybCgpLCJqc29ucCI9PWxvd2VyY2FzZShtZXRob2QpKXt2YXIgY2FsbGJhY2tJZD0iXyIrKGNhbGxiYWNrcy5jb3VudGVyKyspLnRvU3RyaW5nKDM2KTtjYWxsYmFja3NbY2FsbGJhY2tJZF09ZnVuY3Rpb24oZGF0YSl7Y2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGE9ZGF0YSxjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkPSEwfTt2YXIganNvbnBEb25lPWpzb25wUmVxKHVybC5yZXBsYWNlKCJKU09OX0NBTExCQUNLIiwiYW5ndWxhci5jYWxsYmFja3MuIitjYWxsYmFja0lkKSxjYWxsYmFja0lkLGZ1bmN0aW9uKHN0YXR1cyx0ZXh0KXtjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssc3RhdHVzLGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhLCIiLHRleHQpLGNhbGxiYWNrc1tjYWxsYmFja0lkXT1ub29wfSl9ZWxzZXt2YXIgeGhyPWNyZWF0ZVhocigpO3hoci5vcGVuKG1ldGhvZCx1cmwsITApLGZvckVhY2goaGVhZGVycyxmdW5jdGlvbih2YWx1ZSxrZXkpe2lzRGVmaW5lZCh2YWx1ZSkmJnhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSx2YWx1ZSl9KSx4aHIub25sb2FkPWZ1bmN0aW9uKCl7dmFyIHN0YXR1c1RleHQ9eGhyLnN0YXR1c1RleHR8fCIiLHJlc3BvbnNlPSJyZXNwb25zZSJpbiB4aHI/eGhyLnJlc3BvbnNlOnhoci5yZXNwb25zZVRleHQsc3RhdHVzPTEyMjM9PT14aHIuc3RhdHVzPzIwNDp4aHIuc3RhdHVzOzA9PT1zdGF0dXMmJihzdGF0dXM9cmVzcG9uc2U/MjAwOiJmaWxlIj09dXJsUmVzb2x2ZSh1cmwpLnByb3RvY29sPzQwNDowKSxjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssc3RhdHVzLHJlc3BvbnNlLHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxzdGF0dXNUZXh0KX07dmFyIHJlcXVlc3RFcnJvcj1mdW5jdGlvbigpe2NvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywtMSxudWxsLG51bGwsIiIpfTtpZih4aHIub25lcnJvcj1yZXF1ZXN0RXJyb3IseGhyLm9uYWJvcnQ9cmVxdWVzdEVycm9yLHdpdGhDcmVkZW50aWFscyYmKHhoci53aXRoQ3JlZGVudGlhbHM9ITApLHJlc3BvbnNlVHlwZSl0cnl7eGhyLnJlc3BvbnNlVHlwZT1yZXNwb25zZVR5cGV9Y2F0Y2goZSl7aWYoImpzb24iIT09cmVzcG9uc2VUeXBlKXRocm93IGV9eGhyLnNlbmQocG9zdHx8bnVsbCl9aWYodGltZW91dD4wKXZhciB0aW1lb3V0SWQ9JGJyb3dzZXJEZWZlcih0aW1lb3V0UmVxdWVzdCx0aW1lb3V0KTtlbHNlIGlzUHJvbWlzZUxpa2UodGltZW91dCkmJnRpbWVvdXQudGhlbih0aW1lb3V0UmVxdWVzdCl9fWZ1bmN0aW9uICRJbnRlcnBvbGF0ZVByb3ZpZGVyKCl7dmFyIHN0YXJ0U3ltYm9sPSJ7eyIsZW5kU3ltYm9sPSJ9fSI7dGhpcy5zdGFydFN5bWJvbD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlPyhzdGFydFN5bWJvbD12YWx1ZSx0aGlzKTpzdGFydFN5bWJvbH0sdGhpcy5lbmRTeW1ib2w9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT8oZW5kU3ltYm9sPXZhbHVlLHRoaXMpOmVuZFN5bWJvbH0sdGhpcy4kZ2V0PVsiJHBhcnNlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkc2NlIixmdW5jdGlvbigkcGFyc2UsJGV4Y2VwdGlvbkhhbmRsZXIsJHNjZSl7ZnVuY3Rpb24gZXNjYXBlKGNoKXtyZXR1cm4iXFxcXFxcIitjaH1mdW5jdGlvbiAkaW50ZXJwb2xhdGUodGV4dCxtdXN0SGF2ZUV4cHJlc3Npb24sdHJ1c3RlZENvbnRleHQsYWxsT3JOb3RoaW5nKXtmdW5jdGlvbiB1bmVzY2FwZVRleHQodGV4dCl7cmV0dXJuIHRleHQucmVwbGFjZShlc2NhcGVkU3RhcnRSZWdleHAsc3RhcnRTeW1ib2wpLnJlcGxhY2UoZXNjYXBlZEVuZFJlZ2V4cCxlbmRTeW1ib2wpfWZ1bmN0aW9uIHBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IodmFsdWUpe3RyeXtyZXR1cm4gc3RyaW5naWZ5KGdldFZhbHVlKHZhbHVlKSl9Y2F0Y2goZXJyKXt2YXIgbmV3RXJyPSRpbnRlcnBvbGF0ZU1pbkVycigiaW50ZXJyIiwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxuezF9Iix0ZXh0LGVyci50b1N0cmluZygpKTskZXhjZXB0aW9uSGFuZGxlcihuZXdFcnIpfX1hbGxPck5vdGhpbmc9ISFhbGxPck5vdGhpbmc7Zm9yKHZhciBzdGFydEluZGV4LGVuZEluZGV4LGV4cCxpbmRleD0wLGV4cHJlc3Npb25zPVtdLHBhcnNlRm5zPVtdLHRleHRMZW5ndGg9dGV4dC5sZW5ndGgsY29uY2F0PVtdLGV4cHJlc3Npb25Qb3NpdGlvbnM9W107dGV4dExlbmd0aD5pbmRleDspe2lmKC0xPT0oc3RhcnRJbmRleD10ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsaW5kZXgpKXx8LTE9PShlbmRJbmRleD10ZXh0LmluZGV4T2YoZW5kU3ltYm9sLHN0YXJ0SW5kZXgrc3RhcnRTeW1ib2xMZW5ndGgpKSl7aW5kZXghPT10ZXh0TGVuZ3RoJiZjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgpKSk7YnJlYWt9aW5kZXghPT1zdGFydEluZGV4JiZjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgsc3RhcnRJbmRleCkpKSxleHA9dGV4dC5zdWJzdHJpbmcoc3RhcnRJbmRleCtzdGFydFN5bWJvbExlbmd0aCxlbmRJbmRleCksZXhwcmVzc2lvbnMucHVzaChleHApLHBhcnNlRm5zLnB1c2goJHBhcnNlKGV4cCxwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKSksaW5kZXg9ZW5kSW5kZXgrZW5kU3ltYm9sTGVuZ3RoLGV4cHJlc3Npb25Qb3NpdGlvbnMucHVzaChjb25jYXQubGVuZ3RoKSxjb25jYXQucHVzaCgiIil9aWYodHJ1c3RlZENvbnRleHQmJmNvbmNhdC5sZW5ndGg+MSl0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoIm5vY29uY2F0IiwiRXJyb3Igd2hpbGUgaW50ZXJwb2xhdGluZzogezB9XG5TdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkaXNhbGxvd3MgaW50ZXJwb2xhdGlvbnMgdGhhdCBjb25jYXRlbmF0ZSBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGVuIGEgdHJ1c3RlZCB2YWx1ZSBpcyByZXF1aXJlZC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIix0ZXh0KTtpZighbXVzdEhhdmVFeHByZXNzaW9ufHxleHByZXNzaW9ucy5sZW5ndGgpe3ZhciBjb21wdXRlPWZ1bmN0aW9uKHZhbHVlcyl7Zm9yKHZhciBpPTAsaWk9ZXhwcmVzc2lvbnMubGVuZ3RoO2lpPmk7aSsrKXtpZihhbGxPck5vdGhpbmcmJmlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpcmV0dXJuO2NvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXT12YWx1ZXNbaV19cmV0dXJuIGNvbmNhdC5qb2luKCIiKX0sZ2V0VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0cnVzdGVkQ29udGV4dD8kc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsdmFsdWUpOiRzY2UudmFsdWVPZih2YWx1ZSl9LHN0cmluZ2lmeT1mdW5jdGlvbih2YWx1ZSl7aWYobnVsbD09dmFsdWUpcmV0dXJuIiI7c3dpdGNoKHR5cGVvZiB2YWx1ZSl7Y2FzZSJzdHJpbmciOmJyZWFrO2Nhc2UibnVtYmVyIjp2YWx1ZT0iIit2YWx1ZTticmVhaztkZWZhdWx0OnZhbHVlPXRvSnNvbih2YWx1ZSl9cmV0dXJuIHZhbHVlfTtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKGNvbnRleHQpe3ZhciBpPTAsaWk9ZXhwcmVzc2lvbnMubGVuZ3RoLHZhbHVlcz1uZXcgQXJyYXkoaWkpO3RyeXtmb3IoO2lpPmk7aSsrKXZhbHVlc1tpXT1wYXJzZUZuc1tpXShjb250ZXh0KTtyZXR1cm4gY29tcHV0ZSh2YWx1ZXMpfWNhdGNoKGVycil7dmFyIG5ld0Vycj0kaW50ZXJwb2xhdGVNaW5FcnIoImludGVyciIsIkNhbid0IGludGVycG9sYXRlOiB7MH1cbnsxfSIsdGV4dCxlcnIudG9TdHJpbmcoKSk7JGV4Y2VwdGlvbkhhbmRsZXIobmV3RXJyKX19LHtleHA6dGV4dCxleHByZXNzaW9uczpleHByZXNzaW9ucywkJHdhdGNoRGVsZWdhdGU6ZnVuY3Rpb24oc2NvcGUsbGlzdGVuZXIsb2JqZWN0RXF1YWxpdHkpe3ZhciBsYXN0VmFsdWU7cmV0dXJuIHNjb3BlLiR3YXRjaEdyb3VwKHBhcnNlRm5zLGZ1bmN0aW9uKHZhbHVlcyxvbGRWYWx1ZXMpe3ZhciBjdXJyVmFsdWU9Y29tcHV0ZSh2YWx1ZXMpO2lzRnVuY3Rpb24obGlzdGVuZXIpJiZsaXN0ZW5lci5jYWxsKHRoaXMsY3VyclZhbHVlLHZhbHVlcyE9PW9sZFZhbHVlcz9sYXN0VmFsdWU6Y3VyclZhbHVlLHNjb3BlKSxsYXN0VmFsdWU9Y3VyclZhbHVlfSxvYmplY3RFcXVhbGl0eSl9fSl9fXZhciBzdGFydFN5bWJvbExlbmd0aD1zdGFydFN5bWJvbC5sZW5ndGgsZW5kU3ltYm9sTGVuZ3RoPWVuZFN5bWJvbC5sZW5ndGgsZXNjYXBlZFN0YXJ0UmVnZXhwPW5ldyBSZWdFeHAoc3RhcnRTeW1ib2wucmVwbGFjZSgvLi9nLGVzY2FwZSksImciKSxlc2NhcGVkRW5kUmVnZXhwPW5ldyBSZWdFeHAoZW5kU3ltYm9sLnJlcGxhY2UoLy4vZyxlc2NhcGUpLCJnIik7cmV0dXJuICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBzdGFydFN5bWJvbH0sJGludGVycG9sYXRlLmVuZFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBlbmRTeW1ib2x9LCRpbnRlcnBvbGF0ZX1dfWZ1bmN0aW9uICRJbnRlcnZhbFByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHJvb3RTY29wZSIsIiR3aW5kb3ciLCIkcSIsIiQkcSIsZnVuY3Rpb24oJHJvb3RTY29wZSwkd2luZG93LCRxLCQkcSl7ZnVuY3Rpb24gaW50ZXJ2YWwoZm4sZGVsYXksY291bnQsaW52b2tlQXBwbHkpe3ZhciBzZXRJbnRlcnZhbD0kd2luZG93LnNldEludGVydmFsLGNsZWFySW50ZXJ2YWw9JHdpbmRvdy5jbGVhckludGVydmFsLGl0ZXJhdGlvbj0wLHNraXBBcHBseT1pc0RlZmluZWQoaW52b2tlQXBwbHkpJiYhaW52b2tlQXBwbHksZGVmZXJyZWQ9KHNraXBBcHBseT8kJHE6JHEpLmRlZmVyKCkscHJvbWlzZT1kZWZlcnJlZC5wcm9taXNlO3JldHVybiBjb3VudD1pc0RlZmluZWQoY291bnQpP2NvdW50OjAscHJvbWlzZS50aGVuKG51bGwsbnVsbCxmbikscHJvbWlzZS4kJGludGVydmFsSWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspLGNvdW50PjAmJml0ZXJhdGlvbj49Y291bnQmJihkZWZlcnJlZC5yZXNvbHZlKGl0ZXJhdGlvbiksY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCksZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF0pLHNraXBBcHBseXx8JHJvb3RTY29wZS4kYXBwbHkoKX0sZGVsYXkpLGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF09ZGVmZXJyZWQscHJvbWlzZX12YXIgaW50ZXJ2YWxzPXt9O3JldHVybiBpbnRlcnZhbC5jYW5jZWw9ZnVuY3Rpb24ocHJvbWlzZSl7cmV0dXJuIHByb21pc2UmJnByb21pc2UuJCRpbnRlcnZhbElkIGluIGludGVydmFscz8oaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXS5yZWplY3QoImNhbmNlbGVkIiksJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKSxkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSwhMCk6ITF9LGludGVydmFsfV19ZnVuY3Rpb24gJExvY2FsZVByb3ZpZGVyKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2lkOiJlbi11cyIsTlVNQkVSX0ZPUk1BVFM6e0RFQ0lNQUxfU0VQOiIuIixHUk9VUF9TRVA6IiwiLFBBVFRFUk5TOlt7bWluSW50OjEsbWluRnJhYzowLG1heEZyYWM6Myxwb3NQcmU6IiIscG9zU3VmOiIiLG5lZ1ByZToiLSIsbmVnU3VmOiIiLGdTaXplOjMsbGdTaXplOjN9LHttaW5JbnQ6MSxtaW5GcmFjOjIsbWF4RnJhYzoyLHBvc1ByZToiwqQiLHBvc1N1ZjoiIixuZWdQcmU6IijCpCIsbmVnU3VmOiIpIixnU2l6ZTozLGxnU2l6ZTozfV0sQ1VSUkVOQ1lfU1lNOiIkIn0sREFURVRJTUVfRk9STUFUUzp7TU9OVEg6IkphbnVhcnksRmVicnVhcnksTWFyY2gsQXByaWwsTWF5LEp1bmUsSnVseSxBdWd1c3QsU2VwdGVtYmVyLE9jdG9iZXIsTm92ZW1iZXIsRGVjZW1iZXIiLnNwbGl0KCIsIiksU0hPUlRNT05USDoiSmFuLEZlYixNYXIsQXByLE1heSxKdW4sSnVsLEF1ZyxTZXAsT2N0LE5vdixEZWMiLnNwbGl0KCIsIiksREFZOiJTdW5kYXksTW9uZGF5LFR1ZXNkYXksV2VkbmVzZGF5LFRodXJzZGF5LEZyaWRheSxTYXR1cmRheSIuc3BsaXQoIiwiKSxTSE9SVERBWToiU3VuLE1vbixUdWUsV2VkLFRodSxGcmksU2F0Ii5zcGxpdCgiLCIpLEFNUE1TOlsiQU0iLCJQTSJdLG1lZGl1bToiTU1NIGQsIHkgaDptbTpzcyBhIiwic2hvcnQiOiJNL2QveXkgaDptbSBhIixmdWxsRGF0ZToiRUVFRSwgTU1NTSBkLCB5Iixsb25nRGF0ZToiTU1NTSBkLCB5IixtZWRpdW1EYXRlOiJNTU0gZCwgeSIsc2hvcnREYXRlOiJNL2QveXkiLG1lZGl1bVRpbWU6Img6bW06c3MgYSIsc2hvcnRUaW1lOiJoOm1tIGEifSxwbHVyYWxDYXQ6ZnVuY3Rpb24obnVtKXtyZXR1cm4gMT09PW51bT8ib25lIjoib3RoZXIifX19fWZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCl7Zm9yKHZhciBzZWdtZW50cz1wYXRoLnNwbGl0KCIvIiksaT1zZWdtZW50cy5sZW5ndGg7aS0tOylzZWdtZW50c1tpXT1lbmNvZGVVcmlTZWdtZW50KHNlZ21lbnRzW2ldKTtyZXR1cm4gc2VnbWVudHMuam9pbigiLyIpfWZ1bmN0aW9uIHBhcnNlQWJzb2x1dGVVcmwoYWJzb2x1dGVVcmwsbG9jYXRpb25PYmosYXBwQmFzZSl7dmFyIHBhcnNlZFVybD11cmxSZXNvbHZlKGFic29sdXRlVXJsLGFwcEJhc2UpO2xvY2F0aW9uT2JqLiQkcHJvdG9jb2w9cGFyc2VkVXJsLnByb3RvY29sLGxvY2F0aW9uT2JqLiQkaG9zdD1wYXJzZWRVcmwuaG9zdG5hbWUsbG9jYXRpb25PYmouJCRwb3J0PWludChwYXJzZWRVcmwucG9ydCl8fERFRkFVTFRfUE9SVFNbcGFyc2VkVXJsLnByb3RvY29sXXx8bnVsbH1mdW5jdGlvbiBwYXJzZUFwcFVybChyZWxhdGl2ZVVybCxsb2NhdGlvbk9iaixhcHBCYXNlKXt2YXIgcHJlZml4ZWQ9Ii8iIT09cmVsYXRpdmVVcmwuY2hhckF0KDApO3ByZWZpeGVkJiYocmVsYXRpdmVVcmw9Ii8iK3JlbGF0aXZlVXJsKTt2YXIgbWF0Y2g9dXJsUmVzb2x2ZShyZWxhdGl2ZVVybCxhcHBCYXNlKTtsb2NhdGlvbk9iai4kJHBhdGg9ZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeGVkJiYiLyI9PT1tYXRjaC5wYXRobmFtZS5jaGFyQXQoMCk/bWF0Y2gucGF0aG5hbWUuc3Vic3RyaW5nKDEpOm1hdGNoLnBhdGhuYW1lKSxsb2NhdGlvbk9iai4kJHNlYXJjaD1wYXJzZUtleVZhbHVlKG1hdGNoLnNlYXJjaCksbG9jYXRpb25PYmouJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChtYXRjaC5oYXNoKSxsb2NhdGlvbk9iai4kJHBhdGgmJiIvIiE9bG9jYXRpb25PYmouJCRwYXRoLmNoYXJBdCgwKSYmKGxvY2F0aW9uT2JqLiQkcGF0aD0iLyIrbG9jYXRpb25PYmouJCRwYXRoKX1mdW5jdGlvbiBiZWdpbnNXaXRoKGJlZ2luLHdob2xlKXtyZXR1cm4gMD09PXdob2xlLmluZGV4T2YoYmVnaW4pP3dob2xlLnN1YnN0cihiZWdpbi5sZW5ndGgpOnZvaWQgMH1mdW5jdGlvbiBzdHJpcEhhc2godXJsKXt2YXIgaW5kZXg9dXJsLmluZGV4T2YoIiMiKTtyZXR1cm4tMT09aW5kZXg/dXJsOnVybC5zdWJzdHIoMCxpbmRleCl9ZnVuY3Rpb24gc3RyaXBGaWxlKHVybCl7cmV0dXJuIHVybC5zdWJzdHIoMCxzdHJpcEhhc2godXJsKS5sYXN0SW5kZXhPZigiLyIpKzEpfWZ1bmN0aW9uIHNlcnZlckJhc2UodXJsKXtyZXR1cm4gdXJsLnN1YnN0cmluZygwLHVybC5pbmRleE9mKCIvIix1cmwuaW5kZXhPZigiLy8iKSsyKSl9ZnVuY3Rpb24gTG9jYXRpb25IdG1sNVVybChhcHBCYXNlLGJhc2VQcmVmaXgpe3RoaXMuJCRodG1sNT0hMCxiYXNlUHJlZml4PWJhc2VQcmVmaXh8fCIiO3ZhciBhcHBCYXNlTm9GaWxlPXN0cmlwRmlsZShhcHBCYXNlKTtwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsdGhpcyxhcHBCYXNlKSx0aGlzLiQkcGFyc2U9ZnVuY3Rpb24odXJsKXt2YXIgcGF0aFVybD1iZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsdXJsKTtpZighaXNTdHJpbmcocGF0aFVybCkpdGhyb3cgJGxvY2F0aW9uTWluRXJyKCJpcHRocHJmeCIsJ0ludmFsaWQgdXJsICJ7MH0iLCBtaXNzaW5nIHBhdGggcHJlZml4ICJ7MX0iLicsdXJsLGFwcEJhc2VOb0ZpbGUpO3BhcnNlQXBwVXJsKHBhdGhVcmwsdGhpcyxhcHBCYXNlKSx0aGlzLiQkcGF0aHx8KHRoaXMuJCRwYXRoPSIvIiksdGhpcy4kJGNvbXBvc2UoKX0sdGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgc2VhcmNoPXRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksaGFzaD10aGlzLiQkaGFzaD8iIyIrZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1lbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSsoc2VhcmNoPyI/IitzZWFyY2g6IiIpK2hhc2gsdGhpcy4kJGFic1VybD1hcHBCYXNlTm9GaWxlK3RoaXMuJCR1cmwuc3Vic3RyKDEpfSx0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKHVybCxyZWxIcmVmKXtpZihyZWxIcmVmJiYiIyI9PT1yZWxIcmVmWzBdKXJldHVybiB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSksITA7dmFyIGFwcFVybCxwcmV2QXBwVXJsLHJld3JpdHRlblVybDtyZXR1cm4oYXBwVXJsPWJlZ2luc1dpdGgoYXBwQmFzZSx1cmwpKSE9PXVuZGVmaW5lZD8ocHJldkFwcFVybD1hcHBVcmwscmV3cml0dGVuVXJsPShhcHBVcmw9YmVnaW5zV2l0aChiYXNlUHJlZml4LGFwcFVybCkpIT09dW5kZWZpbmVkP2FwcEJhc2VOb0ZpbGUrKGJlZ2luc1dpdGgoIi8iLGFwcFVybCl8fGFwcFVybCk6YXBwQmFzZStwcmV2QXBwVXJsKTooYXBwVXJsPWJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSx1cmwpKSE9PXVuZGVmaW5lZD9yZXdyaXR0ZW5Vcmw9YXBwQmFzZU5vRmlsZSthcHBVcmw6YXBwQmFzZU5vRmlsZT09dXJsKyIvIiYmKHJld3JpdHRlblVybD1hcHBCYXNlTm9GaWxlKSxyZXdyaXR0ZW5VcmwmJnRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpLCEhcmV3cml0dGVuVXJsfX1mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nVXJsKGFwcEJhc2UsaGFzaFByZWZpeCl7dmFyIGFwcEJhc2VOb0ZpbGU9c3RyaXBGaWxlKGFwcEJhc2UpO3BhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXJzZT1mdW5jdGlvbih1cmwpe2Z1bmN0aW9uIHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUocGF0aCx1cmwsYmFzZSl7dmFyIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCx3aW5kb3dzRmlsZVBhdGhFeHA9L15cL1tBLVpdOihcLy4qKS87cmV0dXJuIDA9PT11cmwuaW5kZXhPZihiYXNlKSYmKHVybD11cmwucmVwbGFjZShiYXNlLCIiKSksd2luZG93c0ZpbGVQYXRoRXhwLmV4ZWModXJsKT9wYXRoOihmaXJzdFBhdGhTZWdtZW50TWF0Y2g9d2luZG93c0ZpbGVQYXRoRXhwLmV4ZWMocGF0aCksZmlyc3RQYXRoU2VnbWVudE1hdGNoP2ZpcnN0UGF0aFNlZ21lbnRNYXRjaFsxXTpwYXRoKX12YXIgd2l0aG91dEJhc2VVcmw9YmVnaW5zV2l0aChhcHBCYXNlLHVybCl8fGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSx1cmwpLHdpdGhvdXRIYXNoVXJsPSIjIj09d2l0aG91dEJhc2VVcmwuY2hhckF0KDApP2JlZ2luc1dpdGgoaGFzaFByZWZpeCx3aXRob3V0QmFzZVVybCk6dGhpcy4kJGh0bWw1P3dpdGhvdXRCYXNlVXJsOiIiO2lmKCFpc1N0cmluZyh3aXRob3V0SGFzaFVybCkpdGhyb3cgJGxvY2F0aW9uTWluRXJyKCJpaHNocHJmeCIsJ0ludmFsaWQgdXJsICJ7MH0iLCBtaXNzaW5nIGhhc2ggcHJlZml4ICJ7MX0iLicsdXJsLGhhc2hQcmVmaXgpO3BhcnNlQXBwVXJsKHdpdGhvdXRIYXNoVXJsLHRoaXMsYXBwQmFzZSksdGhpcy4kJHBhdGg9cmVtb3ZlV2luZG93c0RyaXZlTmFtZSh0aGlzLiQkcGF0aCx3aXRob3V0SGFzaFVybCxhcHBCYXNlKSx0aGlzLiQkY29tcG9zZSgpfSx0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBzZWFyY2g9dG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxoYXNoPXRoaXMuJCRoYXNoPyIjIitlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKToiIjt0aGlzLiQkdXJsPWVuY29kZVBhdGgodGhpcy4kJHBhdGgpKyhzZWFyY2g/Ij8iK3NlYXJjaDoiIikraGFzaCx0aGlzLiQkYWJzVXJsPWFwcEJhc2UrKHRoaXMuJCR1cmw/aGFzaFByZWZpeCt0aGlzLiQkdXJsOiIiKX0sdGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbih1cmwpe3JldHVybiBzdHJpcEhhc2goYXBwQmFzZSk9PXN0cmlwSGFzaCh1cmwpPyh0aGlzLiQkcGFyc2UodXJsKSwhMCk6ITF9fWZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsKGFwcEJhc2UsaGFzaFByZWZpeCl7dGhpcy4kJGh0bWw1PSEwLExvY2F0aW9uSGFzaGJhbmdVcmwuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhcHBCYXNlTm9GaWxlPXN0cmlwRmlsZShhcHBCYXNlKTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKHVybCxyZWxIcmVmKXtpZihyZWxIcmVmJiYiIyI9PT1yZWxIcmVmWzBdKXJldHVybiB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSksITA7dmFyIHJld3JpdHRlblVybCxhcHBVcmw7cmV0dXJuIGFwcEJhc2U9PXN0cmlwSGFzaCh1cmwpP3Jld3JpdHRlblVybD11cmw6KGFwcFVybD1iZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsdXJsKSk/cmV3cml0dGVuVXJsPWFwcEJhc2UraGFzaFByZWZpeCthcHBVcmw6YXBwQmFzZU5vRmlsZT09PXVybCsiLyImJihyZXdyaXR0ZW5Vcmw9YXBwQmFzZU5vRmlsZSkscmV3cml0dGVuVXJsJiZ0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKSwhIXJld3JpdHRlblVybH0sdGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgc2VhcmNoPXRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksaGFzaD10aGlzLiQkaGFzaD8iIyIrZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1lbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSsoc2VhcmNoPyI/IitzZWFyY2g6IiIpK2hhc2gsdGhpcy4kJGFic1VybD1hcHBCYXNlK2hhc2hQcmVmaXgrdGhpcy4kJHVybH19ZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXIocHJvcGVydHkpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW3Byb3BlcnR5XX19ZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXJTZXR0ZXIocHJvcGVydHkscHJlcHJvY2Vzcyl7cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpP3RoaXNbcHJvcGVydHldOih0aGlzW3Byb3BlcnR5XT1wcmVwcm9jZXNzKHZhbHVlKSx0aGlzLiQkY29tcG9zZSgpLHRoaXMpfX1mdW5jdGlvbiAkTG9jYXRpb25Qcm92aWRlcigpe3ZhciBoYXNoUHJlZml4PSIiLGh0bWw1TW9kZT17ZW5hYmxlZDohMSxyZXF1aXJlQmFzZTohMCxyZXdyaXRlTGlua3M6ITB9O3RoaXMuaGFzaFByZWZpeD1mdW5jdGlvbihwcmVmaXgpe3JldHVybiBpc0RlZmluZWQocHJlZml4KT8oaGFzaFByZWZpeD1wcmVmaXgsdGhpcyk6aGFzaFByZWZpeH0sdGhpcy5odG1sNU1vZGU9ZnVuY3Rpb24obW9kZSl7cmV0dXJuIGlzQm9vbGVhbihtb2RlKT8oaHRtbDVNb2RlLmVuYWJsZWQ9bW9kZSx0aGlzKTppc09iamVjdChtb2RlKT8oaXNCb29sZWFuKG1vZGUuZW5hYmxlZCkmJihodG1sNU1vZGUuZW5hYmxlZD1tb2RlLmVuYWJsZWQpLGlzQm9vbGVhbihtb2RlLnJlcXVpcmVCYXNlKSYmKGh0bWw1TW9kZS5yZXF1aXJlQmFzZT1tb2RlLnJlcXVpcmVCYXNlKSxpc0Jvb2xlYW4obW9kZS5yZXdyaXRlTGlua3MpJiYoaHRtbDVNb2RlLnJld3JpdGVMaW5rcz1tb2RlLnJld3JpdGVMaW5rcyksdGhpcyk6aHRtbDVNb2RlfSx0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGJyb3dzZXIiLCIkc25pZmZlciIsIiRyb290RWxlbWVudCIsZnVuY3Rpb24oJHJvb3RTY29wZSwkYnJvd3Nlciwkc25pZmZlciwkcm9vdEVsZW1lbnQpe2Z1bmN0aW9uIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sodXJsLHJlcGxhY2Usc3RhdGUpe3ZhciBvbGRVcmw9JGxvY2F0aW9uLnVybCgpLG9sZFN0YXRlPSRsb2NhdGlvbi4kJHN0YXRlO3RyeXskYnJvd3Nlci51cmwodXJsLHJlcGxhY2Usc3RhdGUpLCRsb2NhdGlvbi4kJHN0YXRlPSRicm93c2VyLnN0YXRlKCl9Y2F0Y2goZSl7dGhyb3cgJGxvY2F0aW9uLnVybChvbGRVcmwpLCRsb2NhdGlvbi4kJHN0YXRlPW9sZFN0YXRlLGV9fWZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLG9sZFN0YXRlKXskcm9vdFNjb3BlLiRicm9hZGNhc3QoIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLCRsb2NhdGlvbi5hYnNVcmwoKSxvbGRVcmwsJGxvY2F0aW9uLiQkc3RhdGUsb2xkU3RhdGUpfXZhciAkbG9jYXRpb24sTG9jYXRpb25Nb2RlLGFwcEJhc2UsYmFzZUhyZWY9JGJyb3dzZXIuYmFzZUhyZWYoKSxpbml0aWFsVXJsPSRicm93c2VyLnVybCgpO2lmKGh0bWw1TW9kZS5lbmFibGVkKXtpZighYmFzZUhyZWYmJmh0bWw1TW9kZS5yZXF1aXJlQmFzZSl0aHJvdyAkbG9jYXRpb25NaW5FcnIoIm5vYmFzZSIsIiRsb2NhdGlvbiBpbiBIVE1MNSBtb2RlIHJlcXVpcmVzIGEgPGJhc2U+IHRhZyB0byBiZSBwcmVzZW50ISIpO2FwcEJhc2U9c2VydmVyQmFzZShpbml0aWFsVXJsKSsoYmFzZUhyZWZ8fCIvIiksTG9jYXRpb25Nb2RlPSRzbmlmZmVyLmhpc3Rvcnk/TG9jYXRpb25IdG1sNVVybDpMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybH1lbHNlIGFwcEJhc2U9c3RyaXBIYXNoKGluaXRpYWxVcmwpLExvY2F0aW9uTW9kZT1Mb2NhdGlvbkhhc2hiYW5nVXJsOyRsb2NhdGlvbj1uZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsIiMiK2hhc2hQcmVmaXgpLCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLGluaXRpYWxVcmwpLCRsb2NhdGlvbi4kJHN0YXRlPSRicm93c2VyLnN0YXRlKCk7dmFyIElHTk9SRV9VUklfUkVHRVhQPS9eXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTskcm9vdEVsZW1lbnQub24oImNsaWNrIixmdW5jdGlvbihldmVudCl7aWYoaHRtbDVNb2RlLnJld3JpdGVMaW5rcyYmIWV2ZW50LmN0cmxLZXkmJiFldmVudC5tZXRhS2V5JiYyIT1ldmVudC53aGljaCl7Zm9yKHZhciBlbG09anFMaXRlKGV2ZW50LnRhcmdldCk7ImEiIT09bm9kZU5hbWVfKGVsbVswXSk7KWlmKGVsbVswXT09PSRyb290RWxlbWVudFswXXx8IShlbG09ZWxtLnBhcmVudCgpKVswXSlyZXR1cm47dmFyIGFic0hyZWY9ZWxtLnByb3AoImhyZWYiKSxyZWxIcmVmPWVsbS5hdHRyKCJocmVmIil8fGVsbS5hdHRyKCJ4bGluazpocmVmIik7aXNPYmplY3QoYWJzSHJlZikmJiJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSI9PT1hYnNIcmVmLnRvU3RyaW5nKCkmJihhYnNIcmVmPXVybFJlc29sdmUoYWJzSHJlZi5hbmltVmFsKS5ocmVmKSxJR05PUkVfVVJJX1JFR0VYUC50ZXN0KGFic0hyZWYpfHwhYWJzSHJlZnx8ZWxtLmF0dHIoInRhcmdldCIpfHxldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8JGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGFic0hyZWYscmVsSHJlZikmJihldmVudC5wcmV2ZW50RGVmYXVsdCgpLCRsb2NhdGlvbi5hYnNVcmwoKSE9JGJyb3dzZXIudXJsKCkmJigkcm9vdFNjb3BlLiRhcHBseSgpLHdpbmRvdy5hbmd1bGFyWyJmZi02ODQyMDgtcHJldmVudERlZmF1bHQiXT0hMCkpfX0pLCRsb2NhdGlvbi5hYnNVcmwoKSE9aW5pdGlhbFVybCYmJGJyb3dzZXIudXJsKCRsb2NhdGlvbi5hYnNVcmwoKSwhMCk7dmFyIGluaXRpYWxpemluZz0hMDtyZXR1cm4gJGJyb3dzZXIub25VcmxDaGFuZ2UoZnVuY3Rpb24obmV3VXJsLG5ld1N0YXRlKXskcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgb2xkVXJsPSRsb2NhdGlvbi5hYnNVcmwoKSxvbGRTdGF0ZT0kbG9jYXRpb24uJCRzdGF0ZTskbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpLCRsb2NhdGlvbi4kJHN0YXRlPW5ld1N0YXRlLCRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3RhcnQiLG5ld1VybCxvbGRVcmwsbmV3U3RhdGUsb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ/KCRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCksJGxvY2F0aW9uLiQkc3RhdGU9b2xkU3RhdGUsc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhvbGRVcmwsITEsb2xkU3RhdGUpKTooaW5pdGlhbGl6aW5nPSExLGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLG9sZFN0YXRlKSl9KSwkcm9vdFNjb3BlLiQkcGhhc2V8fCRyb290U2NvcGUuJGRpZ2VzdCgpfSksJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgb2xkVXJsPSRicm93c2VyLnVybCgpLG9sZFN0YXRlPSRicm93c2VyLnN0YXRlKCksY3VycmVudFJlcGxhY2U9JGxvY2F0aW9uLiQkcmVwbGFjZSx1cmxPclN0YXRlQ2hhbmdlZD1vbGRVcmwhPT0kbG9jYXRpb24uYWJzVXJsKCl8fCRsb2NhdGlvbi4kJGh0bWw1JiYkc25pZmZlci5oaXN0b3J5JiZvbGRTdGF0ZSE9PSRsb2NhdGlvbi4kJHN0YXRlOyhpbml0aWFsaXppbmd8fHVybE9yU3RhdGVDaGFuZ2VkKSYmKGluaXRpYWxpemluZz0hMSwkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXskcm9vdFNjb3BlLiRicm9hZGNhc3QoIiRsb2NhdGlvbkNoYW5nZVN0YXJ0IiwkbG9jYXRpb24uYWJzVXJsKCksb2xkVXJsLCRsb2NhdGlvbi4kJHN0YXRlLG9sZFN0YXRlKS5kZWZhdWx0UHJldmVudGVkPygkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpLCRsb2NhdGlvbi4kJHN0YXRlPW9sZFN0YXRlKToodXJsT3JTdGF0ZUNoYW5nZWQmJnNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2soJGxvY2F0aW9uLmFic1VybCgpLGN1cnJlbnRSZXBsYWNlLG9sZFN0YXRlPT09JGxvY2F0aW9uLiQkc3RhdGU/bnVsbDokbG9jYXRpb24uJCRzdGF0ZSksYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsb2xkU3RhdGUpKQp9KSksJGxvY2F0aW9uLiQkcmVwbGFjZT0hMX0pLCRsb2NhdGlvbn1dfWZ1bmN0aW9uICRMb2dQcm92aWRlcigpe3ZhciBkZWJ1Zz0hMCxzZWxmPXRoaXM7dGhpcy5kZWJ1Z0VuYWJsZWQ9ZnVuY3Rpb24oZmxhZyl7cmV0dXJuIGlzRGVmaW5lZChmbGFnKT8oZGVidWc9ZmxhZyx0aGlzKTpkZWJ1Z30sdGhpcy4kZ2V0PVsiJHdpbmRvdyIsZnVuY3Rpb24oJHdpbmRvdyl7ZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKXtyZXR1cm4gYXJnIGluc3RhbmNlb2YgRXJyb3ImJihhcmcuc3RhY2s/YXJnPWFyZy5tZXNzYWdlJiYtMT09PWFyZy5zdGFjay5pbmRleE9mKGFyZy5tZXNzYWdlKT8iRXJyb3I6ICIrYXJnLm1lc3NhZ2UrIlxuIithcmcuc3RhY2s6YXJnLnN0YWNrOmFyZy5zb3VyY2VVUkwmJihhcmc9YXJnLm1lc3NhZ2UrIlxuIithcmcuc291cmNlVVJMKyI6IithcmcubGluZSkpLGFyZ31mdW5jdGlvbiBjb25zb2xlTG9nKHR5cGUpe3ZhciBjb25zb2xlPSR3aW5kb3cuY29uc29sZXx8e30sbG9nRm49Y29uc29sZVt0eXBlXXx8Y29uc29sZS5sb2d8fG5vb3AsaGFzQXBwbHk9ITE7dHJ5e2hhc0FwcGx5PSEhbG9nRm4uYXBwbHl9Y2F0Y2goZSl7fXJldHVybiBoYXNBcHBseT9mdW5jdGlvbigpe3ZhciBhcmdzPVtdO3JldHVybiBmb3JFYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhcmcpe2FyZ3MucHVzaChmb3JtYXRFcnJvcihhcmcpKX0pLGxvZ0ZuLmFwcGx5KGNvbnNvbGUsYXJncyl9OmZ1bmN0aW9uKGFyZzEsYXJnMil7bG9nRm4oYXJnMSxudWxsPT1hcmcyPyIiOmFyZzIpfX1yZXR1cm57bG9nOmNvbnNvbGVMb2coImxvZyIpLGluZm86Y29uc29sZUxvZygiaW5mbyIpLHdhcm46Y29uc29sZUxvZygid2FybiIpLGVycm9yOmNvbnNvbGVMb2coImVycm9yIiksZGVidWc6ZnVuY3Rpb24oKXt2YXIgZm49Y29uc29sZUxvZygiZGVidWciKTtyZXR1cm4gZnVuY3Rpb24oKXtkZWJ1ZyYmZm4uYXBwbHkoc2VsZixhcmd1bWVudHMpfX0oKX19XX1mdW5jdGlvbiBlbnN1cmVTYWZlTWVtYmVyTmFtZShuYW1lLGZ1bGxFeHByZXNzaW9uKXtpZigiX19kZWZpbmVHZXR0ZXJfXyI9PT1uYW1lfHwiX19kZWZpbmVTZXR0ZXJfXyI9PT1uYW1lfHwiX19sb29rdXBHZXR0ZXJfXyI9PT1uYW1lfHwiX19sb29rdXBTZXR0ZXJfXyI9PT1uYW1lfHwiX19wcm90b19fIj09PW5hbWUpdGhyb3cgJHBhcnNlTWluRXJyKCJpc2VjZmxkIiwiQXR0ZW1wdGluZyB0byBhY2Nlc3MgYSBkaXNhbGxvd2VkIGZpZWxkIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMhIEV4cHJlc3Npb246IHswfSIsZnVsbEV4cHJlc3Npb24pO3JldHVybiBuYW1lfWZ1bmN0aW9uIGVuc3VyZVNhZmVPYmplY3Qob2JqLGZ1bGxFeHByZXNzaW9uKXtpZihvYmope2lmKG9iai5jb25zdHJ1Y3Rvcj09PW9iail0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNmbiIsIlJlZmVyZW5jaW5nIEZ1bmN0aW9uIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7aWYob2JqLndpbmRvdz09PW9iail0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWN3aW5kb3ciLCJSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7aWYob2JqLmNoaWxkcmVuJiYob2JqLm5vZGVOYW1lfHxvYmoucHJvcCYmb2JqLmF0dHImJm9iai5maW5kKSl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNkb20iLCJSZWZlcmVuY2luZyBET00gbm9kZXMgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtpZihvYmo9PT1PYmplY3QpdGhyb3cgJHBhcnNlTWluRXJyKCJpc2Vjb2JqIiwiUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbil9cmV0dXJuIG9ian1mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLGZ1bGxFeHByZXNzaW9uKXtpZihvYmope2lmKG9iai5jb25zdHJ1Y3Rvcj09PW9iail0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNmbiIsIlJlZmVyZW5jaW5nIEZ1bmN0aW9uIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7aWYob2JqPT09Q0FMTHx8b2JqPT09QVBQTFl8fG9iaj09PUJJTkQpdGhyb3cgJHBhcnNlTWluRXJyKCJpc2VjZmYiLCJSZWZlcmVuY2luZyBjYWxsLCBhcHBseSBvciBiaW5kIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbil9fWZ1bmN0aW9uIGlzQ29uc3RhbnQoZXhwKXtyZXR1cm4gZXhwLmNvbnN0YW50fWZ1bmN0aW9uIHNldHRlcihvYmoscGF0aCxzZXRWYWx1ZSxmdWxsRXhwKXtlbnN1cmVTYWZlT2JqZWN0KG9iaixmdWxsRXhwKTtmb3IodmFyIGtleSxlbGVtZW50PXBhdGguc3BsaXQoIi4iKSxpPTA7ZWxlbWVudC5sZW5ndGg+MTtpKyspe2tleT1lbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksZnVsbEV4cCk7dmFyIHByb3BlcnR5T2JqPWVuc3VyZVNhZmVPYmplY3Qob2JqW2tleV0sZnVsbEV4cCk7cHJvcGVydHlPYmp8fChwcm9wZXJ0eU9iaj17fSxvYmpba2V5XT1wcm9wZXJ0eU9iaiksb2JqPXByb3BlcnR5T2JqfXJldHVybiBrZXk9ZW5zdXJlU2FmZU1lbWJlck5hbWUoZWxlbWVudC5zaGlmdCgpLGZ1bGxFeHApLGVuc3VyZVNhZmVPYmplY3Qob2JqW2tleV0sZnVsbEV4cCksb2JqW2tleV09c2V0VmFsdWUsc2V0VmFsdWV9ZnVuY3Rpb24gY3NwU2FmZUdldHRlckZuKGtleTAsa2V5MSxrZXkyLGtleTMsa2V5NCxmdWxsRXhwKXtyZXR1cm4gZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MCxmdWxsRXhwKSxlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkxLGZ1bGxFeHApLGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTIsZnVsbEV4cCksZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MyxmdWxsRXhwKSxlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXk0LGZ1bGxFeHApLGZ1bmN0aW9uKHNjb3BlLGxvY2Fscyl7dmFyIHBhdGhWYWw9bG9jYWxzJiZsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5MCk/bG9jYWxzOnNjb3BlO3JldHVybiBudWxsPT1wYXRoVmFsP3BhdGhWYWw6KHBhdGhWYWw9cGF0aFZhbFtrZXkwXSxrZXkxP251bGw9PXBhdGhWYWw/dW5kZWZpbmVkOihwYXRoVmFsPXBhdGhWYWxba2V5MV0sa2V5Mj9udWxsPT1wYXRoVmFsP3VuZGVmaW5lZDoocGF0aFZhbD1wYXRoVmFsW2tleTJdLGtleTM/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXkzXSxrZXk0P251bGw9PXBhdGhWYWw/dW5kZWZpbmVkOnBhdGhWYWw9cGF0aFZhbFtrZXk0XTpwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKX19ZnVuY3Rpb24gZ2V0dGVyRm4ocGF0aCxvcHRpb25zLGZ1bGxFeHApe3ZhciBmbj1nZXR0ZXJGbkNhY2hlW3BhdGhdO2lmKGZuKXJldHVybiBmbjt2YXIgcGF0aEtleXM9cGF0aC5zcGxpdCgiLiIpLHBhdGhLZXlzTGVuZ3RoPXBhdGhLZXlzLmxlbmd0aDtpZihvcHRpb25zLmNzcClmbj02PnBhdGhLZXlzTGVuZ3RoP2NzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1swXSxwYXRoS2V5c1sxXSxwYXRoS2V5c1syXSxwYXRoS2V5c1szXSxwYXRoS2V5c1s0XSxmdWxsRXhwKTpmdW5jdGlvbihzY29wZSxsb2NhbHMpe3ZhciB2YWwsaT0wO2RvIHZhbD1jc3BTYWZlR2V0dGVyRm4ocGF0aEtleXNbaSsrXSxwYXRoS2V5c1tpKytdLHBhdGhLZXlzW2krK10scGF0aEtleXNbaSsrXSxwYXRoS2V5c1tpKytdLGZ1bGxFeHApKHNjb3BlLGxvY2FscyksbG9jYWxzPXVuZGVmaW5lZCxzY29wZT12YWw7d2hpbGUocGF0aEtleXNMZW5ndGg+aSk7cmV0dXJuIHZhbH07ZWxzZXt2YXIgY29kZT0iIjtmb3JFYWNoKHBhdGhLZXlzLGZ1bmN0aW9uKGtleSxpbmRleCl7ZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5LGZ1bGxFeHApLGNvZGUrPSJpZihzID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5zPSIrKGluZGV4PyJzIjonKChsJiZsLmhhc093blByb3BlcnR5KCInK2tleSsnIikpP2w6cyknKSsiLiIra2V5KyI7XG4ifSksY29kZSs9InJldHVybiBzOyI7dmFyIGV2YWxlZEZuR2V0dGVyPW5ldyBGdW5jdGlvbigicyIsImwiLGNvZGUpO2V2YWxlZEZuR2V0dGVyLnRvU3RyaW5nPXZhbHVlRm4oY29kZSksZm49ZXZhbGVkRm5HZXR0ZXJ9cmV0dXJuIGZuLnNoYXJlZEdldHRlcj0hMCxmbi5hc3NpZ249ZnVuY3Rpb24oc2VsZix2YWx1ZSl7cmV0dXJuIHNldHRlcihzZWxmLHBhdGgsdmFsdWUscGF0aCl9LGdldHRlckZuQ2FjaGVbcGF0aF09Zm4sZm59ZnVuY3Rpb24gJFBhcnNlUHJvdmlkZXIoKXt2YXIgY2FjaGU9Y3JlYXRlTWFwKCksJHBhcnNlT3B0aW9ucz17Y3NwOiExfTt0aGlzLiRnZXQ9WyIkZmlsdGVyIiwiJHNuaWZmZXIiLGZ1bmN0aW9uKCRmaWx0ZXIsJHNuaWZmZXIpe2Z1bmN0aW9uIHdyYXBTaGFyZWRFeHByZXNzaW9uKGV4cCl7dmFyIHdyYXBwZWQ9ZXhwO3JldHVybiBleHAuc2hhcmVkR2V0dGVyJiYod3JhcHBlZD1mdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIGV4cChzZWxmLGxvY2Fscyl9LHdyYXBwZWQubGl0ZXJhbD1leHAubGl0ZXJhbCx3cmFwcGVkLmNvbnN0YW50PWV4cC5jb25zdGFudCx3cmFwcGVkLmFzc2lnbj1leHAuYXNzaWduKSx3cmFwcGVkfWZ1bmN0aW9uIGNvbGxlY3RFeHByZXNzaW9uSW5wdXRzKGlucHV0cyxsaXN0KXtmb3IodmFyIGk9MCxpaT1pbnB1dHMubGVuZ3RoO2lpPmk7aSsrKXt2YXIgaW5wdXQ9aW5wdXRzW2ldO2lucHV0LmNvbnN0YW50fHwoaW5wdXQuaW5wdXRzP2NvbGxlY3RFeHByZXNzaW9uSW5wdXRzKGlucHV0LmlucHV0cyxsaXN0KTotMT09PWxpc3QuaW5kZXhPZihpbnB1dCkmJmxpc3QucHVzaChpbnB1dCkpfXJldHVybiBsaXN0fWZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3VmFsdWUsb2xkVmFsdWVPZlZhbHVlKXtyZXR1cm4gbnVsbD09bmV3VmFsdWV8fG51bGw9PW9sZFZhbHVlT2ZWYWx1ZT9uZXdWYWx1ZT09PW9sZFZhbHVlT2ZWYWx1ZToib2JqZWN0Ij09dHlwZW9mIG5ld1ZhbHVlJiYobmV3VmFsdWU9bmV3VmFsdWUudmFsdWVPZigpLCJvYmplY3QiPT10eXBlb2YgbmV3VmFsdWUpPyExOm5ld1ZhbHVlPT09b2xkVmFsdWVPZlZhbHVlfHxuZXdWYWx1ZSE9PW5ld1ZhbHVlJiZvbGRWYWx1ZU9mVmFsdWUhPT1vbGRWYWx1ZU9mVmFsdWV9ZnVuY3Rpb24gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSxsaXN0ZW5lcixvYmplY3RFcXVhbGl0eSxwYXJzZWRFeHByZXNzaW9uKXt2YXIgbGFzdFJlc3VsdCxpbnB1dEV4cHJlc3Npb25zPXBhcnNlZEV4cHJlc3Npb24uJCRpbnB1dHN8fChwYXJzZWRFeHByZXNzaW9uLiQkaW5wdXRzPWNvbGxlY3RFeHByZXNzaW9uSW5wdXRzKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzLFtdKSk7aWYoMT09PWlucHV0RXhwcmVzc2lvbnMubGVuZ3RoKXt2YXIgb2xkSW5wdXRWYWx1ZT1leHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrO3JldHVybiBpbnB1dEV4cHJlc3Npb25zPWlucHV0RXhwcmVzc2lvbnNbMF0sc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKHNjb3BlKXt2YXIgbmV3SW5wdXRWYWx1ZT1pbnB1dEV4cHJlc3Npb25zKHNjb3BlKTtyZXR1cm4gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLG9sZElucHV0VmFsdWUpfHwobGFzdFJlc3VsdD1wYXJzZWRFeHByZXNzaW9uKHNjb3BlKSxvbGRJbnB1dFZhbHVlPW5ld0lucHV0VmFsdWUmJm5ld0lucHV0VmFsdWUudmFsdWVPZigpKSxsYXN0UmVzdWx0fSxsaXN0ZW5lcixvYmplY3RFcXVhbGl0eSl9Zm9yKHZhciBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXM9W10saT0wLGlpPWlucHV0RXhwcmVzc2lvbnMubGVuZ3RoO2lpPmk7aSsrKW9sZElucHV0VmFsdWVPZlZhbHVlc1tpXT1leHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrO3JldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24oc2NvcGUpe2Zvcih2YXIgY2hhbmdlZD0hMSxpPTAsaWk9aW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7aWk+aTtpKyspe3ZhciBuZXdJbnB1dFZhbHVlPWlucHV0RXhwcmVzc2lvbnNbaV0oc2NvcGUpOyhjaGFuZ2VkfHwoY2hhbmdlZD0hZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSYmKG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXT1uZXdJbnB1dFZhbHVlJiZuZXdJbnB1dFZhbHVlLnZhbHVlT2YoKSl9cmV0dXJuIGNoYW5nZWQmJihsYXN0UmVzdWx0PXBhcnNlZEV4cHJlc3Npb24oc2NvcGUpKSxsYXN0UmVzdWx0fSxsaXN0ZW5lcixvYmplY3RFcXVhbGl0eSl9ZnVuY3Rpb24gb25lVGltZVdhdGNoRGVsZWdhdGUoc2NvcGUsbGlzdGVuZXIsb2JqZWN0RXF1YWxpdHkscGFyc2VkRXhwcmVzc2lvbil7dmFyIHVud2F0Y2gsbGFzdFZhbHVlO3JldHVybiB1bndhdGNoPXNjb3BlLiR3YXRjaChmdW5jdGlvbihzY29wZSl7cmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpfSxmdW5jdGlvbih2YWx1ZSxvbGQsc2NvcGUpe2xhc3RWYWx1ZT12YWx1ZSxpc0Z1bmN0aW9uKGxpc3RlbmVyKSYmbGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGlzRGVmaW5lZCh2YWx1ZSkmJnNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2lzRGVmaW5lZChsYXN0VmFsdWUpJiZ1bndhdGNoKCl9KX0sb2JqZWN0RXF1YWxpdHkpfWZ1bmN0aW9uIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZShzY29wZSxsaXN0ZW5lcixvYmplY3RFcXVhbGl0eSxwYXJzZWRFeHByZXNzaW9uKXtmdW5jdGlvbiBpc0FsbERlZmluZWQodmFsdWUpe3ZhciBhbGxEZWZpbmVkPSEwO3JldHVybiBmb3JFYWNoKHZhbHVlLGZ1bmN0aW9uKHZhbCl7aXNEZWZpbmVkKHZhbCl8fChhbGxEZWZpbmVkPSExKX0pLGFsbERlZmluZWR9dmFyIHVud2F0Y2gsbGFzdFZhbHVlO3JldHVybiB1bndhdGNoPXNjb3BlLiR3YXRjaChmdW5jdGlvbihzY29wZSl7cmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpfSxmdW5jdGlvbih2YWx1ZSxvbGQsc2NvcGUpe2xhc3RWYWx1ZT12YWx1ZSxpc0Z1bmN0aW9uKGxpc3RlbmVyKSYmbGlzdGVuZXIuY2FsbCh0aGlzLHZhbHVlLG9sZCxzY29wZSksaXNBbGxEZWZpbmVkKHZhbHVlKSYmc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7aXNBbGxEZWZpbmVkKGxhc3RWYWx1ZSkmJnVud2F0Y2goKX0pfSxvYmplY3RFcXVhbGl0eSl9ZnVuY3Rpb24gY29uc3RhbnRXYXRjaERlbGVnYXRlKHNjb3BlLGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5LHBhcnNlZEV4cHJlc3Npb24pe3ZhciB1bndhdGNoO3JldHVybiB1bndhdGNoPXNjb3BlLiR3YXRjaChmdW5jdGlvbihzY29wZSl7cmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpfSxmdW5jdGlvbigpe2lzRnVuY3Rpb24obGlzdGVuZXIpJiZsaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdW53YXRjaCgpfSxvYmplY3RFcXVhbGl0eSl9ZnVuY3Rpb24gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbixpbnRlcmNlcHRvckZuKXtpZighaW50ZXJjZXB0b3JGbilyZXR1cm4gcGFyc2VkRXhwcmVzc2lvbjt2YXIgZm49ZnVuY3Rpb24oc2NvcGUsbG9jYWxzKXt2YXIgdmFsdWU9cGFyc2VkRXhwcmVzc2lvbihzY29wZSxsb2NhbHMpLHJlc3VsdD1pbnRlcmNlcHRvckZuKHZhbHVlLHNjb3BlLGxvY2Fscyk7cmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSk/cmVzdWx0OnZhbHVlfTtyZXR1cm4gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUmJnBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlIT09aW5wdXRzV2F0Y2hEZWxlZ2F0ZT9mbi4kJHdhdGNoRGVsZWdhdGU9cGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU6aW50ZXJjZXB0b3JGbi4kc3RhdGVmdWx8fChmbi4kJHdhdGNoRGVsZWdhdGU9aW5wdXRzV2F0Y2hEZWxlZ2F0ZSxmbi5pbnB1dHM9W3BhcnNlZEV4cHJlc3Npb25dKSxmbn1yZXR1cm4gJHBhcnNlT3B0aW9ucy5jc3A9JHNuaWZmZXIuY3NwLGZ1bmN0aW9uKGV4cCxpbnRlcmNlcHRvckZuKXt2YXIgcGFyc2VkRXhwcmVzc2lvbixvbmVUaW1lLGNhY2hlS2V5O3N3aXRjaCh0eXBlb2YgZXhwKXtjYXNlInN0cmluZyI6aWYoY2FjaGVLZXk9ZXhwPWV4cC50cmltKCkscGFyc2VkRXhwcmVzc2lvbj1jYWNoZVtjYWNoZUtleV0sIXBhcnNlZEV4cHJlc3Npb24peyI6Ij09PWV4cC5jaGFyQXQoMCkmJiI6Ij09PWV4cC5jaGFyQXQoMSkmJihvbmVUaW1lPSEwLGV4cD1leHAuc3Vic3RyaW5nKDIpKTt2YXIgbGV4ZXI9bmV3IExleGVyKCRwYXJzZU9wdGlvbnMpLHBhcnNlcj1uZXcgUGFyc2VyKGxleGVyLCRmaWx0ZXIsJHBhcnNlT3B0aW9ucyk7cGFyc2VkRXhwcmVzc2lvbj1wYXJzZXIucGFyc2UoZXhwKSxwYXJzZWRFeHByZXNzaW9uLmNvbnN0YW50P3BhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlPWNvbnN0YW50V2F0Y2hEZWxlZ2F0ZTpvbmVUaW1lPyhwYXJzZWRFeHByZXNzaW9uPXdyYXBTaGFyZWRFeHByZXNzaW9uKHBhcnNlZEV4cHJlc3Npb24pLHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlPXBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbD9vbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGU6b25lVGltZVdhdGNoRGVsZWdhdGUpOnBhcnNlZEV4cHJlc3Npb24uaW5wdXRzJiYocGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU9aW5wdXRzV2F0Y2hEZWxlZ2F0ZSksY2FjaGVbY2FjaGVLZXldPXBhcnNlZEV4cHJlc3Npb259cmV0dXJuIGFkZEludGVyY2VwdG9yKHBhcnNlZEV4cHJlc3Npb24saW50ZXJjZXB0b3JGbik7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIGFkZEludGVyY2VwdG9yKGV4cCxpbnRlcmNlcHRvckZuKTtkZWZhdWx0OnJldHVybiBhZGRJbnRlcmNlcHRvcihub29wLGludGVyY2VwdG9yRm4pfX19XX1mdW5jdGlvbiAkUVByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHJvb3RTY29wZSIsIiRleGNlcHRpb25IYW5kbGVyIixmdW5jdGlvbigkcm9vdFNjb3BlLCRleGNlcHRpb25IYW5kbGVyKXtyZXR1cm4gcUZhY3RvcnkoZnVuY3Rpb24oY2FsbGJhY2speyRyb290U2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayl9LCRleGNlcHRpb25IYW5kbGVyKX1dfWZ1bmN0aW9uICQkUVByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJGJyb3dzZXIiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oJGJyb3dzZXIsJGV4Y2VwdGlvbkhhbmRsZXIpe3JldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjayl7JGJyb3dzZXIuZGVmZXIoY2FsbGJhY2spfSwkZXhjZXB0aW9uSGFuZGxlcil9XX1mdW5jdGlvbiBxRmFjdG9yeShuZXh0VGljayxleGNlcHRpb25IYW5kbGVyKXtmdW5jdGlvbiBjYWxsT25jZShzZWxmLHJlc29sdmVGbixyZWplY3RGbil7ZnVuY3Rpb24gd3JhcChmbil7cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtjYWxsZWR8fChjYWxsZWQ9ITAsZm4uY2FsbChzZWxmLHZhbHVlKSl9fXZhciBjYWxsZWQ9ITE7cmV0dXJuW3dyYXAocmVzb2x2ZUZuKSx3cmFwKHJlamVjdEZuKV19ZnVuY3Rpb24gUHJvbWlzZSgpe3RoaXMuJCRzdGF0ZT17c3RhdHVzOjB9fWZ1bmN0aW9uIHNpbXBsZUJpbmQoY29udGV4dCxmbil7cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtmbi5jYWxsKGNvbnRleHQsdmFsdWUpfX1mdW5jdGlvbiBwcm9jZXNzUXVldWUoc3RhdGUpe3ZhciBmbixwcm9taXNlLHBlbmRpbmc7cGVuZGluZz1zdGF0ZS5wZW5kaW5nLHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQ9ITEsc3RhdGUucGVuZGluZz11bmRlZmluZWQ7Zm9yKHZhciBpPTAsaWk9cGVuZGluZy5sZW5ndGg7aWk+aTsrK2kpe3Byb21pc2U9cGVuZGluZ1tpXVswXSxmbj1wZW5kaW5nW2ldW3N0YXRlLnN0YXR1c107dHJ5e2lzRnVuY3Rpb24oZm4pP3Byb21pc2UucmVzb2x2ZShmbihzdGF0ZS52YWx1ZSkpOjE9PT1zdGF0ZS5zdGF0dXM/cHJvbWlzZS5yZXNvbHZlKHN0YXRlLnZhbHVlKTpwcm9taXNlLnJlamVjdChzdGF0ZS52YWx1ZSl9Y2F0Y2goZSl7cHJvbWlzZS5yZWplY3QoZSksZXhjZXB0aW9uSGFuZGxlcihlKX19fWZ1bmN0aW9uIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHN0YXRlKXshc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCYmc3RhdGUucGVuZGluZyYmKHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQ9ITAsbmV4dFRpY2soZnVuY3Rpb24oKXtwcm9jZXNzUXVldWUoc3RhdGUpfSkpfWZ1bmN0aW9uIERlZmVycmVkKCl7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlLHRoaXMucmVzb2x2ZT1zaW1wbGVCaW5kKHRoaXMsdGhpcy5yZXNvbHZlKSx0aGlzLnJlamVjdD1zaW1wbGVCaW5kKHRoaXMsdGhpcy5yZWplY3QpLHRoaXMubm90aWZ5PXNpbXBsZUJpbmQodGhpcyx0aGlzLm5vdGlmeSl9ZnVuY3Rpb24gYWxsKHByb21pc2VzKXt2YXIgZGVmZXJyZWQ9bmV3IERlZmVycmVkLGNvdW50ZXI9MCxyZXN1bHRzPWlzQXJyYXkocHJvbWlzZXMpP1tdOnt9O3JldHVybiBmb3JFYWNoKHByb21pc2VzLGZ1bmN0aW9uKHByb21pc2Usa2V5KXtjb3VudGVyKyssd2hlbihwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtyZXN1bHRzLmhhc093blByb3BlcnR5KGtleSl8fChyZXN1bHRzW2tleV09dmFsdWUsLS1jb3VudGVyfHxkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpKX0sZnVuY3Rpb24ocmVhc29uKXtyZXN1bHRzLmhhc093blByb3BlcnR5KGtleSl8fGRlZmVycmVkLnJlamVjdChyZWFzb24pfSl9KSwwPT09Y291bnRlciYmZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKSxkZWZlcnJlZC5wcm9taXNlfXZhciAkcU1pbkVycj1taW5FcnIoIiRxIixUeXBlRXJyb3IpLGRlZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEZWZlcnJlZH07UHJvbWlzZS5wcm90b3R5cGU9e3RoZW46ZnVuY3Rpb24ob25GdWxmaWxsZWQsb25SZWplY3RlZCxwcm9ncmVzc0JhY2spe3ZhciByZXN1bHQ9bmV3IERlZmVycmVkO3JldHVybiB0aGlzLiQkc3RhdGUucGVuZGluZz10aGlzLiQkc3RhdGUucGVuZGluZ3x8W10sdGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbcmVzdWx0LG9uRnVsZmlsbGVkLG9uUmVqZWN0ZWQscHJvZ3Jlc3NCYWNrXSksdGhpcy4kJHN0YXRlLnN0YXR1cz4wJiZzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLiQkc3RhdGUpLHJlc3VsdC5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsY2FsbGJhY2spfSwiZmluYWxseSI6ZnVuY3Rpb24oY2FsbGJhY2sscHJvZ3Jlc3NCYWNrKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaGFuZGxlQ2FsbGJhY2sodmFsdWUsITAsY2FsbGJhY2spfSxmdW5jdGlvbihlcnJvcil7cmV0dXJuIGhhbmRsZUNhbGxiYWNrKGVycm9yLCExLGNhbGxiYWNrKX0scHJvZ3Jlc3NCYWNrKX19LERlZmVycmVkLnByb3RvdHlwZT17cmVzb2x2ZTpmdW5jdGlvbih2YWwpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1c3x8KHZhbD09PXRoaXMucHJvbWlzZT90aGlzLiQkcmVqZWN0KCRxTWluRXJyKCJxY3ljbGUiLCJFeHBlY3RlZCBwcm9taXNlIHRvIGJlIHJlc29sdmVkIHdpdGggdmFsdWUgb3RoZXIgdGhhbiBpdHNlbGYgJ3swfSciLHZhbCkpOnRoaXMuJCRyZXNvbHZlKHZhbCkpfSwkJHJlc29sdmU6ZnVuY3Rpb24odmFsKXt2YXIgdGhlbixmbnM7Zm5zPWNhbGxPbmNlKHRoaXMsdGhpcy4kJHJlc29sdmUsdGhpcy4kJHJlamVjdCk7dHJ5eyhpc09iamVjdCh2YWwpfHxpc0Z1bmN0aW9uKHZhbCkpJiYodGhlbj12YWwmJnZhbC50aGVuKSxpc0Z1bmN0aW9uKHRoZW4pPyh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9LTEsdGhlbi5jYWxsKHZhbCxmbnNbMF0sZm5zWzFdLHRoaXMubm90aWZ5KSk6KHRoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlPXZhbCx0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9MSxzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSkpfWNhdGNoKGUpe2Zuc1sxXShlKSxleGNlcHRpb25IYW5kbGVyKGUpfX0scmVqZWN0OmZ1bmN0aW9uKHJlYXNvbil7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzfHx0aGlzLiQkcmVqZWN0KHJlYXNvbil9LCQkcmVqZWN0OmZ1bmN0aW9uKHJlYXNvbil7dGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9cmVhc29uLHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0yLHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKX0sbm90aWZ5OmZ1bmN0aW9uKHByb2dyZXNzKXt2YXIgY2FsbGJhY2tzPXRoaXMucHJvbWlzZS4kJHN0YXRlLnBlbmRpbmc7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPD0wJiZjYWxsYmFja3MmJmNhbGxiYWNrcy5sZW5ndGgmJm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm9yKHZhciBjYWxsYmFjayxyZXN1bHQsaT0wLGlpPWNhbGxiYWNrcy5sZW5ndGg7aWk+aTtpKyspe3Jlc3VsdD1jYWxsYmFja3NbaV1bMF0sY2FsbGJhY2s9Y2FsbGJhY2tzW2ldWzNdO3RyeXtyZXN1bHQubm90aWZ5KGlzRnVuY3Rpb24oY2FsbGJhY2spP2NhbGxiYWNrKHByb2dyZXNzKTpwcm9ncmVzcyl9Y2F0Y2goZSl7ZXhjZXB0aW9uSGFuZGxlcihlKX19fSl9fTt2YXIgcmVqZWN0PWZ1bmN0aW9uKHJlYXNvbil7dmFyIHJlc3VsdD1uZXcgRGVmZXJyZWQ7cmV0dXJuIHJlc3VsdC5yZWplY3QocmVhc29uKSxyZXN1bHQucHJvbWlzZX0sbWFrZVByb21pc2U9ZnVuY3Rpb24odmFsdWUscmVzb2x2ZWQpe3ZhciByZXN1bHQ9bmV3IERlZmVycmVkO3JldHVybiByZXNvbHZlZD9yZXN1bHQucmVzb2x2ZSh2YWx1ZSk6cmVzdWx0LnJlamVjdCh2YWx1ZSkscmVzdWx0LnByb21pc2V9LGhhbmRsZUNhbGxiYWNrPWZ1bmN0aW9uKHZhbHVlLGlzUmVzb2x2ZWQsY2FsbGJhY2spe3ZhciBjYWxsYmFja091dHB1dD1udWxsO3RyeXtpc0Z1bmN0aW9uKGNhbGxiYWNrKSYmKGNhbGxiYWNrT3V0cHV0PWNhbGxiYWNrKCkpfWNhdGNoKGUpe3JldHVybiBtYWtlUHJvbWlzZShlLCExKX1yZXR1cm4gaXNQcm9taXNlTGlrZShjYWxsYmFja091dHB1dCk/Y2FsbGJhY2tPdXRwdXQudGhlbihmdW5jdGlvbigpe3JldHVybiBtYWtlUHJvbWlzZSh2YWx1ZSxpc1Jlc29sdmVkKX0sZnVuY3Rpb24oZXJyb3Ipe3JldHVybiBtYWtlUHJvbWlzZShlcnJvciwhMSl9KTptYWtlUHJvbWlzZSh2YWx1ZSxpc1Jlc29sdmVkKX0sd2hlbj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJiYWNrLHByb2dyZXNzQmFjayl7dmFyIHJlc3VsdD1uZXcgRGVmZXJyZWQ7cmV0dXJuIHJlc3VsdC5yZXNvbHZlKHZhbHVlKSxyZXN1bHQucHJvbWlzZS50aGVuKGNhbGxiYWNrLGVycmJhY2sscHJvZ3Jlc3NCYWNrKX0sJFE9ZnVuY3Rpb24gUShyZXNvbHZlcil7ZnVuY3Rpb24gcmVzb2x2ZUZuKHZhbHVlKXtkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKX1mdW5jdGlvbiByZWplY3RGbihyZWFzb24pe2RlZmVycmVkLnJlamVjdChyZWFzb24pfWlmKCFpc0Z1bmN0aW9uKHJlc29sdmVyKSl0aHJvdyAkcU1pbkVycigibm9yc2x2ciIsIkV4cGVjdGVkIHJlc29sdmVyRm4sIGdvdCAnezB9JyIscmVzb2x2ZXIpO2lmKCEodGhpcyBpbnN0YW5jZW9mIFEpKXJldHVybiBuZXcgUShyZXNvbHZlcik7dmFyIGRlZmVycmVkPW5ldyBEZWZlcnJlZDtyZXR1cm4gcmVzb2x2ZXIocmVzb2x2ZUZuLHJlamVjdEZuKSxkZWZlcnJlZC5wcm9taXNlfTtyZXR1cm4gJFEuZGVmZXI9ZGVmZXIsJFEucmVqZWN0PXJlamVjdCwkUS53aGVuPXdoZW4sJFEuYWxsPWFsbCwkUX1mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiR0aW1lb3V0IixmdW5jdGlvbigkd2luZG93LCR0aW1lb3V0KXt2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPSR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8JHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsY2FuY2VsQW5pbWF0aW9uRnJhbWU9JHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUscmFmU3VwcG9ydGVkPSEhcmVxdWVzdEFuaW1hdGlvbkZyYW1lLHJhZj1yYWZTdXBwb3J0ZWQ/ZnVuY3Rpb24oZm4pe3ZhciBpZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO3JldHVybiBmdW5jdGlvbigpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKX19OmZ1bmN0aW9uKGZuKXt2YXIgdGltZXI9JHRpbWVvdXQoZm4sMTYuNjYsITEpO3JldHVybiBmdW5jdGlvbigpeyR0aW1lb3V0LmNhbmNlbCh0aW1lcil9fTtyZXR1cm4gcmFmLnN1cHBvcnRlZD1yYWZTdXBwb3J0ZWQscmFmfV19ZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCl7dmFyIFRUTD0xMCwkcm9vdFNjb3BlTWluRXJyPW1pbkVycigiJHJvb3RTY29wZSIpLGxhc3REaXJ0eVdhdGNoPW51bGwsYXBwbHlBc3luY0lkPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoVFRMPXZhbHVlKSxUVEx9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsIiRleGNlcHRpb25IYW5kbGVyIiwiJHBhcnNlIiwiJGJyb3dzZXIiLGZ1bmN0aW9uKCRpbmplY3RvciwkZXhjZXB0aW9uSGFuZGxlciwkcGFyc2UsJGJyb3dzZXIpe2Z1bmN0aW9uIFNjb3BlKCl7dGhpcy4kaWQ9bmV4dFVpZCgpLHRoaXMuJCRwaGFzZT10aGlzLiRwYXJlbnQ9dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGwsdGhpcy4kcm9vdD10aGlzLHRoaXMuJCRkZXN0cm95ZWQ9ITEsdGhpcy4kJGxpc3RlbmVycz17fSx0aGlzLiQkbGlzdGVuZXJDb3VudD17fSx0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzPW51bGx9ZnVuY3Rpb24gYmVnaW5QaGFzZShwaGFzZSl7aWYoJHJvb3RTY29wZS4kJHBoYXNlKXRocm93ICRyb290U2NvcGVNaW5FcnIoImlucHJvZyIsInswfSBhbHJlYWR5IGluIHByb2dyZXNzIiwkcm9vdFNjb3BlLiQkcGhhc2UpOyRyb290U2NvcGUuJCRwaGFzZT1waGFzZX1mdW5jdGlvbiBjbGVhclBoYXNlKCl7JHJvb3RTY29wZS4kJHBoYXNlPW51bGx9ZnVuY3Rpb24gZGVjcmVtZW50TGlzdGVuZXJDb3VudChjdXJyZW50LGNvdW50LG5hbWUpe2RvIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdLT1jb3VudCwwPT09Y3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0mJmRlbGV0ZSBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXTt3aGlsZShjdXJyZW50PWN1cnJlbnQuJHBhcmVudCl9ZnVuY3Rpb24gaW5pdFdhdGNoVmFsKCl7fWZ1bmN0aW9uIGZsdXNoQXBwbHlBc3luYygpe2Zvcig7YXBwbHlBc3luY1F1ZXVlLmxlbmd0aDspdHJ5e2FwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9YXBwbHlBc3luY0lkPW51bGx9ZnVuY3Rpb24gc2NoZWR1bGVBcHBseUFzeW5jKCl7bnVsbD09PWFwcGx5QXN5bmNJZCYmKGFwcGx5QXN5bmNJZD0kYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpeyRyb290U2NvcGUuJGFwcGx5KGZsdXNoQXBwbHlBc3luYyl9KSl9U2NvcGUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpTY29wZSwkbmV3OmZ1bmN0aW9uKGlzb2xhdGUscGFyZW50KXtmdW5jdGlvbiBkZXN0cm95Q2hpbGQoKXtjaGlsZC4kJGRlc3Ryb3llZD0hMH12YXIgY2hpbGQ7cmV0dXJuIHBhcmVudD1wYXJlbnR8fHRoaXMsaXNvbGF0ZT8oY2hpbGQ9bmV3IFNjb3BlLGNoaWxkLiRyb290PXRoaXMuJHJvb3QpOih0aGlzLiQkQ2hpbGRTY29wZXx8KHRoaXMuJCRDaGlsZFNjb3BlPWZ1bmN0aW9uKCl7dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9bnVsbCx0aGlzLiQkbGlzdGVuZXJzPXt9LHRoaXMuJCRsaXN0ZW5lckNvdW50PXt9LHRoaXMuJGlkPW5leHRVaWQoKSx0aGlzLiQkQ2hpbGRTY29wZT1udWxsfSx0aGlzLiQkQ2hpbGRTY29wZS5wcm90b3R5cGU9dGhpcyksY2hpbGQ9bmV3IHRoaXMuJCRDaGlsZFNjb3BlKSxjaGlsZC4kcGFyZW50PXBhcmVudCxjaGlsZC4kJHByZXZTaWJsaW5nPXBhcmVudC4kJGNoaWxkVGFpbCxwYXJlbnQuJCRjaGlsZEhlYWQ/KHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nPWNoaWxkLHBhcmVudC4kJGNoaWxkVGFpbD1jaGlsZCk6cGFyZW50LiQkY2hpbGRIZWFkPXBhcmVudC4kJGNoaWxkVGFpbD1jaGlsZCwoaXNvbGF0ZXx8cGFyZW50IT10aGlzKSYmY2hpbGQuJG9uKCIkZGVzdHJveSIsZGVzdHJveUNoaWxkKSxjaGlsZH0sJHdhdGNoOmZ1bmN0aW9uKHdhdGNoRXhwLGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5KXt2YXIgZ2V0PSRwYXJzZSh3YXRjaEV4cCk7aWYoZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSlyZXR1cm4gZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSh0aGlzLGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5LGdldCk7dmFyIHNjb3BlPXRoaXMsYXJyYXk9c2NvcGUuJCR3YXRjaGVycyx3YXRjaGVyPXtmbjpsaXN0ZW5lcixsYXN0OmluaXRXYXRjaFZhbCxnZXQ6Z2V0LGV4cDp3YXRjaEV4cCxlcTohIW9iamVjdEVxdWFsaXR5fTtyZXR1cm4gbGFzdERpcnR5V2F0Y2g9bnVsbCxpc0Z1bmN0aW9uKGxpc3RlbmVyKXx8KHdhdGNoZXIuZm49bm9vcCksYXJyYXl8fChhcnJheT1zY29wZS4kJHdhdGNoZXJzPVtdKSxhcnJheS51bnNoaWZ0KHdhdGNoZXIpLGZ1bmN0aW9uKCl7YXJyYXlSZW1vdmUoYXJyYXksd2F0Y2hlciksbGFzdERpcnR5V2F0Y2g9bnVsbH19LCR3YXRjaEdyb3VwOmZ1bmN0aW9uKHdhdGNoRXhwcmVzc2lvbnMsbGlzdGVuZXIpe2Z1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24oKXtjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZD0hMSxmaXJzdFJ1bj8oZmlyc3RSdW49ITEsbGlzdGVuZXIobmV3VmFsdWVzLG5ld1ZhbHVlcyxzZWxmKSk6bGlzdGVuZXIobmV3VmFsdWVzLG9sZFZhbHVlcyxzZWxmKX12YXIgb2xkVmFsdWVzPW5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCksbmV3VmFsdWVzPW5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCksZGVyZWdpc3RlckZucz1bXSxzZWxmPXRoaXMsY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQ9ITEsZmlyc3RSdW49ITA7aWYoIXdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKXt2YXIgc2hvdWxkQ2FsbD0hMDtyZXR1cm4gc2VsZi4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7c2hvdWxkQ2FsbCYmbGlzdGVuZXIobmV3VmFsdWVzLG5ld1ZhbHVlcyxzZWxmKX0pLGZ1bmN0aW9uKCl7c2hvdWxkQ2FsbD0hMX19cmV0dXJuIDE9PT13YXRjaEV4cHJlc3Npb25zLmxlbmd0aD90aGlzLiR3YXRjaCh3YXRjaEV4cHJlc3Npb25zWzBdLGZ1bmN0aW9uKHZhbHVlLG9sZFZhbHVlLHNjb3BlKXtuZXdWYWx1ZXNbMF09dmFsdWUsb2xkVmFsdWVzWzBdPW9sZFZhbHVlLGxpc3RlbmVyKG5ld1ZhbHVlcyx2YWx1ZT09PW9sZFZhbHVlP25ld1ZhbHVlczpvbGRWYWx1ZXMsc2NvcGUpfSk6KGZvckVhY2god2F0Y2hFeHByZXNzaW9ucyxmdW5jdGlvbihleHByLGkpe3ZhciB1bndhdGNoRm49c2VsZi4kd2F0Y2goZXhwcixmdW5jdGlvbih2YWx1ZSxvbGRWYWx1ZSl7bmV3VmFsdWVzW2ldPXZhbHVlLG9sZFZhbHVlc1tpXT1vbGRWYWx1ZSxjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZHx8KGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkPSEwLHNlbGYuJGV2YWxBc3luYyh3YXRjaEdyb3VwQWN0aW9uKSl9KTtkZXJlZ2lzdGVyRm5zLnB1c2godW53YXRjaEZuKX0pLGZ1bmN0aW9uKCl7Zm9yKDtkZXJlZ2lzdGVyRm5zLmxlbmd0aDspZGVyZWdpc3RlckZucy5zaGlmdCgpKCl9KX0sJHdhdGNoQ29sbGVjdGlvbjpmdW5jdGlvbihvYmosbGlzdGVuZXIpe2Z1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvcihfdmFsdWUpe25ld1ZhbHVlPV92YWx1ZTt2YXIgbmV3TGVuZ3RoLGtleSxib3RoTmFOLG5ld0l0ZW0sb2xkSXRlbTtpZihpc09iamVjdChuZXdWYWx1ZSkpaWYoaXNBcnJheUxpa2UobmV3VmFsdWUpKXtvbGRWYWx1ZSE9PWludGVybmFsQXJyYXkmJihvbGRWYWx1ZT1pbnRlcm5hbEFycmF5LG9sZExlbmd0aD1vbGRWYWx1ZS5sZW5ndGg9MCxjaGFuZ2VEZXRlY3RlZCsrKSxuZXdMZW5ndGg9bmV3VmFsdWUubGVuZ3RoLG9sZExlbmd0aCE9PW5ld0xlbmd0aCYmKGNoYW5nZURldGVjdGVkKyssb2xkVmFsdWUubGVuZ3RoPW9sZExlbmd0aD1uZXdMZW5ndGgpO2Zvcih2YXIgaT0wO25ld0xlbmd0aD5pO2krKylvbGRJdGVtPW9sZFZhbHVlW2ldLG5ld0l0ZW09bmV3VmFsdWVbaV0sYm90aE5hTj1vbGRJdGVtIT09b2xkSXRlbSYmbmV3SXRlbSE9PW5ld0l0ZW0sYm90aE5hTnx8b2xkSXRlbT09PW5ld0l0ZW18fChjaGFuZ2VEZXRlY3RlZCsrLG9sZFZhbHVlW2ldPW5ld0l0ZW0pfWVsc2V7b2xkVmFsdWUhPT1pbnRlcm5hbE9iamVjdCYmKG9sZFZhbHVlPWludGVybmFsT2JqZWN0PXt9LG9sZExlbmd0aD0wLGNoYW5nZURldGVjdGVkKyspLG5ld0xlbmd0aD0wO2ZvcihrZXkgaW4gbmV3VmFsdWUpbmV3VmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSYmKG5ld0xlbmd0aCsrLG5ld0l0ZW09bmV3VmFsdWVba2V5XSxvbGRJdGVtPW9sZFZhbHVlW2tleV0sa2V5IGluIG9sZFZhbHVlPyhib3RoTmFOPW9sZEl0ZW0hPT1vbGRJdGVtJiZuZXdJdGVtIT09bmV3SXRlbSxib3RoTmFOfHxvbGRJdGVtPT09bmV3SXRlbXx8KGNoYW5nZURldGVjdGVkKyssb2xkVmFsdWVba2V5XT1uZXdJdGVtKSk6KG9sZExlbmd0aCsrLG9sZFZhbHVlW2tleV09bmV3SXRlbSxjaGFuZ2VEZXRlY3RlZCsrKSk7aWYob2xkTGVuZ3RoPm5ld0xlbmd0aCl7Y2hhbmdlRGV0ZWN0ZWQrKztmb3Ioa2V5IGluIG9sZFZhbHVlKW5ld1ZhbHVlLmhhc093blByb3BlcnR5KGtleSl8fChvbGRMZW5ndGgtLSxkZWxldGUgb2xkVmFsdWVba2V5XSl9fWVsc2Ugb2xkVmFsdWUhPT1uZXdWYWx1ZSYmKG9sZFZhbHVlPW5ld1ZhbHVlLGNoYW5nZURldGVjdGVkKyspO3JldHVybiBjaGFuZ2VEZXRlY3RlZH1mdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKCl7aWYoaW5pdFJ1bj8oaW5pdFJ1bj0hMSxsaXN0ZW5lcihuZXdWYWx1ZSxuZXdWYWx1ZSxzZWxmKSk6bGlzdGVuZXIobmV3VmFsdWUsdmVyeU9sZFZhbHVlLHNlbGYpLHRyYWNrVmVyeU9sZFZhbHVlKWlmKGlzT2JqZWN0KG5ld1ZhbHVlKSlpZihpc0FycmF5TGlrZShuZXdWYWx1ZSkpe3ZlcnlPbGRWYWx1ZT1uZXcgQXJyYXkobmV3VmFsdWUubGVuZ3RoKTtmb3IodmFyIGk9MDtpPG5ld1ZhbHVlLmxlbmd0aDtpKyspdmVyeU9sZFZhbHVlW2ldPW5ld1ZhbHVlW2ldfWVsc2V7dmVyeU9sZFZhbHVlPXt9O2Zvcih2YXIga2V5IGluIG5ld1ZhbHVlKWhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsa2V5KSYmKHZlcnlPbGRWYWx1ZVtrZXldPW5ld1ZhbHVlW2tleV0pfWVsc2UgdmVyeU9sZFZhbHVlPW5ld1ZhbHVlfSR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvci4kc3RhdGVmdWw9ITA7dmFyIG5ld1ZhbHVlLG9sZFZhbHVlLHZlcnlPbGRWYWx1ZSxzZWxmPXRoaXMsdHJhY2tWZXJ5T2xkVmFsdWU9bGlzdGVuZXIubGVuZ3RoPjEsY2hhbmdlRGV0ZWN0ZWQ9MCxjaGFuZ2VEZXRlY3Rvcj0kcGFyc2Uob2JqLCR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvciksaW50ZXJuYWxBcnJheT1bXSxpbnRlcm5hbE9iamVjdD17fSxpbml0UnVuPSEwLG9sZExlbmd0aD0wO3JldHVybiB0aGlzLiR3YXRjaChjaGFuZ2VEZXRlY3Rvciwkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciB3YXRjaCx2YWx1ZSxsYXN0LHdhdGNoZXJzLGxlbmd0aCxkaXJ0eSxuZXh0LGN1cnJlbnQsbG9nSWR4LGxvZ01zZyxhc3luY1Rhc2ssdHRsPVRUTCx0YXJnZXQ9dGhpcyx3YXRjaExvZz1bXTtiZWdpblBoYXNlKCIkZGlnZXN0IiksJGJyb3dzZXIuJCRjaGVja1VybENoYW5nZSgpLHRoaXM9PT0kcm9vdFNjb3BlJiZudWxsIT09YXBwbHlBc3luY0lkJiYoJGJyb3dzZXIuZGVmZXIuY2FuY2VsKGFwcGx5QXN5bmNJZCksZmx1c2hBcHBseUFzeW5jKCkpLGxhc3REaXJ0eVdhdGNoPW51bGw7ZG97Zm9yKGRpcnR5PSExLGN1cnJlbnQ9dGFyZ2V0O2FzeW5jUXVldWUubGVuZ3RoOyl7dHJ5e2FzeW5jVGFzaz1hc3luY1F1ZXVlLnNoaWZ0KCksYXN5bmNUYXNrLnNjb3BlLiRldmFsKGFzeW5jVGFzay5leHByZXNzaW9uKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1sYXN0RGlydHlXYXRjaD1udWxsfXRyYXZlcnNlU2NvcGVzTG9vcDpkb3tpZih3YXRjaGVycz1jdXJyZW50LiQkd2F0Y2hlcnMpZm9yKGxlbmd0aD13YXRjaGVycy5sZW5ndGg7bGVuZ3RoLS07KXRyeXtpZih3YXRjaD13YXRjaGVyc1tsZW5ndGhdKWlmKCh2YWx1ZT13YXRjaC5nZXQoY3VycmVudCkpPT09KGxhc3Q9d2F0Y2gubGFzdCl8fCh3YXRjaC5lcT9lcXVhbHModmFsdWUsbGFzdCk6Im51bWJlciI9PXR5cGVvZiB2YWx1ZSYmIm51bWJlciI9PXR5cGVvZiBsYXN0JiZpc05hTih2YWx1ZSkmJmlzTmFOKGxhc3QpKSl7aWYod2F0Y2g9PT1sYXN0RGlydHlXYXRjaCl7ZGlydHk9ITE7YnJlYWsgdHJhdmVyc2VTY29wZXNMb29wfX1lbHNlIGRpcnR5PSEwLGxhc3REaXJ0eVdhdGNoPXdhdGNoLHdhdGNoLmxhc3Q9d2F0Y2guZXE/Y29weSh2YWx1ZSxudWxsKTp2YWx1ZSx3YXRjaC5mbih2YWx1ZSxsYXN0PT09aW5pdFdhdGNoVmFsP3ZhbHVlOmxhc3QsY3VycmVudCksNT50dGwmJihsb2dJZHg9NC10dGwsd2F0Y2hMb2dbbG9nSWR4XXx8KHdhdGNoTG9nW2xvZ0lkeF09W10pLGxvZ01zZz1pc0Z1bmN0aW9uKHdhdGNoLmV4cCk/ImZuOiAiKyh3YXRjaC5leHAubmFtZXx8d2F0Y2guZXhwLnRvU3RyaW5nKCkpOndhdGNoLmV4cCxsb2dNc2crPSI7IG5ld1ZhbDogIit0b0pzb24odmFsdWUpKyI7IG9sZFZhbDogIit0b0pzb24obGFzdCksd2F0Y2hMb2dbbG9nSWR4XS5wdXNoKGxvZ01zZykpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfWlmKCEobmV4dD1jdXJyZW50LiQkY2hpbGRIZWFkfHxjdXJyZW50IT09dGFyZ2V0JiZjdXJyZW50LiQkbmV4dFNpYmxpbmcpKWZvcig7Y3VycmVudCE9PXRhcmdldCYmIShuZXh0PWN1cnJlbnQuJCRuZXh0U2libGluZyk7KWN1cnJlbnQ9Y3VycmVudC4kcGFyZW50fXdoaWxlKGN1cnJlbnQ9bmV4dCk7aWYoKGRpcnR5fHxhc3luY1F1ZXVlLmxlbmd0aCkmJiF0dGwtLSl0aHJvdyBjbGVhclBoYXNlKCksJHJvb3RTY29wZU1pbkVycigiaW5mZGlnIiwiezB9ICRkaWdlc3QoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxuV2F0Y2hlcnMgZmlyZWQgaW4gdGhlIGxhc3QgNSBpdGVyYXRpb25zOiB7MX0iLFRUTCx0b0pzb24od2F0Y2hMb2cpKX13aGlsZShkaXJ0eXx8YXN5bmNRdWV1ZS5sZW5ndGgpO2ZvcihjbGVhclBoYXNlKCk7cG9zdERpZ2VzdFF1ZXVlLmxlbmd0aDspdHJ5e3Bvc3REaWdlc3RRdWV1ZS5zaGlmdCgpKCl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSwkZGVzdHJveTpmdW5jdGlvbigpe2lmKCF0aGlzLiQkZGVzdHJveWVkKXt2YXIgcGFyZW50PXRoaXMuJHBhcmVudDtpZih0aGlzLiRicm9hZGNhc3QoIiRkZXN0cm95IiksdGhpcy4kJGRlc3Ryb3llZD0hMCx0aGlzIT09JHJvb3RTY29wZSl7Zm9yKHZhciBldmVudE5hbWUgaW4gdGhpcy4kJGxpc3RlbmVyQ291bnQpZGVjcmVtZW50TGlzdGVuZXJDb3VudCh0aGlzLHRoaXMuJCRsaXN0ZW5lckNvdW50W2V2ZW50TmFtZV0sZXZlbnROYW1lKTtwYXJlbnQuJCRjaGlsZEhlYWQ9PXRoaXMmJihwYXJlbnQuJCRjaGlsZEhlYWQ9dGhpcy4kJG5leHRTaWJsaW5nKSxwYXJlbnQuJCRjaGlsZFRhaWw9PXRoaXMmJihwYXJlbnQuJCRjaGlsZFRhaWw9dGhpcy4kJHByZXZTaWJsaW5nKSx0aGlzLiQkcHJldlNpYmxpbmcmJih0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZz10aGlzLiQkbmV4dFNpYmxpbmcpLHRoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZyksdGhpcy4kZGVzdHJveT10aGlzLiRkaWdlc3Q9dGhpcy4kYXBwbHk9dGhpcy4kZXZhbEFzeW5jPXRoaXMuJGFwcGx5QXN5bmM9bm9vcCx0aGlzLiRvbj10aGlzLiR3YXRjaD10aGlzLiR3YXRjaEdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIG5vb3B9LHRoaXMuJCRsaXN0ZW5lcnM9e30sdGhpcy4kcGFyZW50PXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPXRoaXMuJHJvb3Q9dGhpcy4kJHdhdGNoZXJzPW51bGx9fX0sJGV2YWw6ZnVuY3Rpb24oZXhwcixsb2NhbHMpe3JldHVybiAkcGFyc2UoZXhwcikodGhpcyxsb2NhbHMpfSwkZXZhbEFzeW5jOmZ1bmN0aW9uKGV4cHIpeyRyb290U2NvcGUuJCRwaGFzZXx8YXN5bmNRdWV1ZS5sZW5ndGh8fCRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCl7YXN5bmNRdWV1ZS5sZW5ndGgmJiRyb290U2NvcGUuJGRpZ2VzdCgpfSksYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTp0aGlzLGV4cHJlc3Npb246ZXhwcn0pfSwkJHBvc3REaWdlc3Q6ZnVuY3Rpb24oZm4pe3Bvc3REaWdlc3RRdWV1ZS5wdXNoKGZuKX0sJGFwcGx5OmZ1bmN0aW9uKGV4cHIpe3RyeXtyZXR1cm4gYmVnaW5QaGFzZSgiJGFwcGx5IiksdGhpcy4kZXZhbChleHByKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1maW5hbGx5e2NsZWFyUGhhc2UoKTt0cnl7JHJvb3RTY29wZS4kZGlnZXN0KCl9Y2F0Y2goZSl7dGhyb3cgJGV4Y2VwdGlvbkhhbmRsZXIoZSksZX19fSwkYXBwbHlBc3luYzpmdW5jdGlvbihleHByKXtmdW5jdGlvbiAkYXBwbHlBc3luY0V4cHJlc3Npb24oKXtzY29wZS4kZXZhbChleHByKX12YXIgc2NvcGU9dGhpcztleHByJiZhcHBseUFzeW5jUXVldWUucHVzaCgkYXBwbHlBc3luY0V4cHJlc3Npb24pLHNjaGVkdWxlQXBwbHlBc3luYygpfSwkb246ZnVuY3Rpb24obmFtZSxsaXN0ZW5lcil7dmFyIG5hbWVkTGlzdGVuZXJzPXRoaXMuJCRsaXN0ZW5lcnNbbmFtZV07bmFtZWRMaXN0ZW5lcnN8fCh0aGlzLiQkbGlzdGVuZXJzW25hbWVdPW5hbWVkTGlzdGVuZXJzPVtdKSxuYW1lZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTt2YXIgY3VycmVudD10aGlzO2RvIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdfHwoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV09MCksY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0rKzt3aGlsZShjdXJyZW50PWN1cnJlbnQuJHBhcmVudCk7dmFyIHNlbGY9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtuYW1lZExpc3RlbmVyc1tuYW1lZExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKV09bnVsbCxkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHNlbGYsMSxuYW1lKX19LCRlbWl0OmZ1bmN0aW9uKG5hbWUpe3ZhciBuYW1lZExpc3RlbmVycyxpLGxlbmd0aCxlbXB0eT1bXSxzY29wZT10aGlzLHN0b3BQcm9wYWdhdGlvbj0hMSxldmVudD17bmFtZTpuYW1lLHRhcmdldFNjb3BlOnNjb3BlLHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3N0b3BQcm9wYWdhdGlvbj0hMH0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtldmVudC5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfSxsaXN0ZW5lckFyZ3M9Y29uY2F0KFtldmVudF0sYXJndW1lbnRzLDEpO2Rve2ZvcihuYW1lZExpc3RlbmVycz1zY29wZS4kJGxpc3RlbmVyc1tuYW1lXXx8ZW1wdHksZXZlbnQuY3VycmVudFNjb3BlPXNjb3BlLGk9MCxsZW5ndGg9bmFtZWRMaXN0ZW5lcnMubGVuZ3RoO2xlbmd0aD5pO2krKylpZihuYW1lZExpc3RlbmVyc1tpXSl0cnl7bmFtZWRMaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCxsaXN0ZW5lckFyZ3MpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfWVsc2UgbmFtZWRMaXN0ZW5lcnMuc3BsaWNlKGksMSksaS0tLGxlbmd0aC0tO2lmKHN0b3BQcm9wYWdhdGlvbilyZXR1cm4gZXZlbnQuY3VycmVudFNjb3BlPW51bGwsZXZlbnQ7c2NvcGU9c2NvcGUuJHBhcmVudH13aGlsZShzY29wZSk7cmV0dXJuIGV2ZW50LmN1cnJlbnRTY29wZT1udWxsLGV2ZW50fSwkYnJvYWRjYXN0OmZ1bmN0aW9uKG5hbWUpe3ZhciB0YXJnZXQ9dGhpcyxjdXJyZW50PXRhcmdldCxuZXh0PXRhcmdldCxldmVudD17bmFtZTpuYW1lLHRhcmdldFNjb3BlOnRhcmdldCxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9O2lmKCF0YXJnZXQuJCRsaXN0ZW5lckNvdW50W25hbWVdKXJldHVybiBldmVudDtmb3IodmFyIGxpc3RlbmVycyxpLGxlbmd0aCxsaXN0ZW5lckFyZ3M9Y29uY2F0KFtldmVudF0sYXJndW1lbnRzLDEpO2N1cnJlbnQ9bmV4dDspe2ZvcihldmVudC5jdXJyZW50U2NvcGU9Y3VycmVudCxsaXN0ZW5lcnM9Y3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXXx8W10saT0wLGxlbmd0aD1saXN0ZW5lcnMubGVuZ3RoO2xlbmd0aD5pO2krKylpZihsaXN0ZW5lcnNbaV0pdHJ5e2xpc3RlbmVyc1tpXS5hcHBseShudWxsLGxpc3RlbmVyQXJncyl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9ZWxzZSBsaXN0ZW5lcnMuc3BsaWNlKGksMSksaS0tLGxlbmd0aC0tO2lmKCEobmV4dD1jdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSYmY3VycmVudC4kJGNoaWxkSGVhZHx8Y3VycmVudCE9PXRhcmdldCYmY3VycmVudC4kJG5leHRTaWJsaW5nKSlmb3IoO2N1cnJlbnQhPT10YXJnZXQmJiEobmV4dD1jdXJyZW50LiQkbmV4dFNpYmxpbmcpOyljdXJyZW50PWN1cnJlbnQuJHBhcmVudH1yZXR1cm4gZXZlbnQuY3VycmVudFNjb3BlPW51bGwsZXZlbnR9fTt2YXIgJHJvb3RTY29wZT1uZXcgU2NvcGUsYXN5bmNRdWV1ZT0kcm9vdFNjb3BlLiQkYXN5bmNRdWV1ZT1bXSxwb3N0RGlnZXN0UXVldWU9JHJvb3RTY29wZS4kJHBvc3REaWdlc3RRdWV1ZT1bXSxhcHBseUFzeW5jUXVldWU9JHJvb3RTY29wZS4kJGFwcGx5QXN5bmNRdWV1ZT1bXTtyZXR1cm4gJHJvb3RTY29wZX1dfWZ1bmN0aW9uICQkU2FuaXRpemVVcmlQcm92aWRlcigpe3ZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD0vXlxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9L15ccyooKGh0dHBzP3xmdHB8ZmlsZXxibG9iKTp8ZGF0YTppbWFnZVwvKS87dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihyZWdleHApe3JldHVybiBpc0RlZmluZWQocmVnZXhwKT8oYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9cmVnZXhwLHRoaXMpOmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0fSx0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihyZWdleHApe3JldHVybiBpc0RlZmluZWQocmVnZXhwKT8oaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PXJlZ2V4cCx0aGlzKTppbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3R9LHRoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih1cmksaXNJbWFnZSl7dmFyIG5vcm1hbGl6ZWRWYWwscmVnZXg9aXNJbWFnZT9pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q6YUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7cmV0dXJuIG5vcm1hbGl6ZWRWYWw9dXJsUmVzb2x2ZSh1cmkpLmhyZWYsIiI9PT1ub3JtYWxpemVkVmFsfHxub3JtYWxpemVkVmFsLm1hdGNoKHJlZ2V4KT91cmk6InVuc2FmZToiK25vcm1hbGl6ZWRWYWx9fX1mdW5jdGlvbiBlc2NhcGVGb3JSZWdleHAocyl7cmV0dXJuIHMucmVwbGFjZSgvKFstKClcW1xde30rPyouJFxefCw6IzwhXFxdKS9nLCJcXCQxIikucmVwbGFjZSgvXHgwOC9nLCJcXHgwOCIpfWZ1bmN0aW9uIGFkanVzdE1hdGNoZXIobWF0Y2hlcil7aWYoInNlbGYiPT09bWF0Y2hlcilyZXR1cm4gbWF0Y2hlcjtpZihpc1N0cmluZyhtYXRjaGVyKSl7aWYobWF0Y2hlci5pbmRleE9mKCIqKioiKT4tMSl0aHJvdyAkc2NlTWluRXJyKCJpd2NhcmQiLCJJbGxlZ2FsIHNlcXVlbmNlICoqKiBpbiBzdHJpbmcgbWF0Y2hlci4gIFN0cmluZzogezB9IixtYXRjaGVyKTtyZXR1cm4gbWF0Y2hlcj1lc2NhcGVGb3JSZWdleHAobWF0Y2hlcikucmVwbGFjZSgiXFwqXFwqIiwiLioiKS5yZXBsYWNlKCJcXCoiLCJbXjovLj8mO10qIiksbmV3IFJlZ0V4cCgiXiIrbWF0Y2hlcisiJCIpfWlmKGlzUmVnRXhwKG1hdGNoZXIpKXJldHVybiBuZXcgUmVnRXhwKCJeIittYXRjaGVyLnNvdXJjZSsiJCIpO3Rocm93ICRzY2VNaW5FcnIoImltYXRjaGVyIiwnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgInNlbGYiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKX1mdW5jdGlvbiBhZGp1c3RNYXRjaGVycyhtYXRjaGVycyl7dmFyIGFkanVzdGVkTWF0Y2hlcnM9W107cmV0dXJuIGlzRGVmaW5lZChtYXRjaGVycykmJmZvckVhY2gobWF0Y2hlcnMsZnVuY3Rpb24obWF0Y2hlcil7YWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpfSksYWRqdXN0ZWRNYXRjaGVyc31mdW5jdGlvbiAkU2NlRGVsZWdhdGVQcm92aWRlcigpe3RoaXMuU0NFX0NPTlRFWFRTPVNDRV9DT05URVhUUzt2YXIgcmVzb3VyY2VVcmxXaGl0ZWxpc3Q9WyJzZWxmIl0scmVzb3VyY2VVcmxCbGFja2xpc3Q9W107dGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihyZXNvdXJjZVVybFdoaXRlbGlzdD1hZGp1c3RNYXRjaGVycyh2YWx1ZSkpLHJlc291cmNlVXJsV2hpdGVsaXN0fSx0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKHJlc291cmNlVXJsQmxhY2tsaXN0PWFkanVzdE1hdGNoZXJzKHZhbHVlKSkscmVzb3VyY2VVcmxCbGFja2xpc3R9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsZnVuY3Rpb24oJGluamVjdG9yKXtmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLHBhcnNlZFVybCl7cmV0dXJuInNlbGYiPT09bWF0Y2hlcj91cmxJc1NhbWVPcmlnaW4ocGFyc2VkVXJsKTohIW1hdGNoZXIuZXhlYyhwYXJzZWRVcmwuaHJlZil9ZnVuY3Rpb24gaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSh1cmwpe3ZhciBpLG4scGFyc2VkVXJsPXVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpLGFsbG93ZWQ9ITE7Zm9yKGk9MCxuPXJlc291cmNlVXJsV2hpdGVsaXN0Lmxlbmd0aDtuPmk7aSsrKWlmKG1hdGNoVXJsKHJlc291cmNlVXJsV2hpdGVsaXN0W2ldLHBhcnNlZFVybCkpe2FsbG93ZWQ9ITA7YnJlYWt9aWYoYWxsb3dlZClmb3IoaT0wLG49cmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoO24+aTtpKyspaWYobWF0Y2hVcmwocmVzb3VyY2VVcmxCbGFja2xpc3RbaV0scGFyc2VkVXJsKSl7YWxsb3dlZD0hMTticmVha31yZXR1cm4gYWxsb3dlZH1mdW5jdGlvbiBnZW5lcmF0ZUhvbGRlclR5cGUoQmFzZSl7dmFyIGhvbGRlclR5cGU9ZnVuY3Rpb24odHJ1c3RlZFZhbHVlKXt0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRydXN0ZWRWYWx1ZX19O3JldHVybiBCYXNlJiYoaG9sZGVyVHlwZS5wcm90b3R5cGU9bmV3IEJhc2UpLGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpfSxob2xkZXJUeXBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKX0saG9sZGVyVHlwZX1mdW5jdGlvbiB0cnVzdEFzKHR5cGUsdHJ1c3RlZFZhbHVlKXt2YXIgQ29uc3RydWN0b3I9YnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpP2J5VHlwZVt0eXBlXTpudWxsO2lmKCFDb25zdHJ1Y3Rvcil0aHJvdyAkc2NlTWluRXJyKCJpY29udGV4dCIsIkF0dGVtcHRlZCB0byB0cnVzdCBhIHZhbHVlIGluIGludmFsaWQgY29udGV4dC4gQ29udGV4dDogezB9OyBWYWx1ZTogezF9Iix0eXBlLHRydXN0ZWRWYWx1ZSk7aWYobnVsbD09PXRydXN0ZWRWYWx1ZXx8dHJ1c3RlZFZhbHVlPT09dW5kZWZpbmVkfHwiIj09PXRydXN0ZWRWYWx1ZSlyZXR1cm4gdHJ1c3RlZFZhbHVlO2lmKCJzdHJpbmciIT10eXBlb2YgdHJ1c3RlZFZhbHVlKXRocm93ICRzY2VNaW5FcnIoIml0eXBlIiwiQXR0ZW1wdGVkIHRvIHRydXN0IGEgbm9uLXN0cmluZyB2YWx1ZSBpbiBhIGNvbnRlbnQgcmVxdWlyaW5nIGEgc3RyaW5nOiBDb250ZXh0OiB7MH0iLHR5cGUpO3JldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKX1mdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCl7cmV0dXJuIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2U/bWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk6bWF5YmVUcnVzdGVkfWZ1bmN0aW9uIGdldFRydXN0ZWQodHlwZSxtYXliZVRydXN0ZWQpe2lmKG51bGw9PT1tYXliZVRydXN0ZWR8fG1heWJlVHJ1c3RlZD09PXVuZGVmaW5lZHx8IiI9PT1tYXliZVRydXN0ZWQpcmV0dXJuIG1heWJlVHJ1c3RlZDt2YXIgY29uc3RydWN0b3I9YnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpP2J5VHlwZVt0eXBlXTpudWxsO2lmKGNvbnN0cnVjdG9yJiZtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiBjb25zdHJ1Y3RvcilyZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7aWYodHlwZT09PVNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwpe2lmKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSlyZXR1cm4gbWF5YmVUcnVzdGVkO3Rocm93ICRzY2VNaW5FcnIoImluc2VjdXJsIiwiQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfSIsbWF5YmVUcnVzdGVkLnRvU3RyaW5nKCkpfWlmKHR5cGU9PT1TQ0VfQ09OVEVYVFMuSFRNTClyZXR1cm4gaHRtbFNhbml0aXplcihtYXliZVRydXN0ZWQpO3Rocm93ICRzY2VNaW5FcnIoInVuc2FmZSIsIkF0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4iKX12YXIgaHRtbFNhbml0aXplcj1mdW5jdGlvbigpe3Rocm93ICRzY2VNaW5FcnIoInVuc2FmZSIsIkF0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4iKX07JGluamVjdG9yLmhhcygiJHNhbml0aXplIikmJihodG1sU2FuaXRpemVyPSRpbmplY3Rvci5nZXQoIiRzYW5pdGl6ZSIpKTt2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZT1nZW5lcmF0ZUhvbGRlclR5cGUoKSxieVR5cGU9e307cmV0dXJuIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF09Z2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpLGJ5VHlwZVtTQ0VfQ09OVEVYVFMuQ1NTXT1nZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSksYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdPWdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSxieVR5cGVbU0NFX0NPTlRFWFRTLkpTXT1nZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSksYnlUeXBlW1NDRV9DT05URVhUUy5SRVNPVVJDRV9VUkxdPWdlbmVyYXRlSG9sZGVyVHlwZShieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0pLHt0cnVzdEFzOnRydXN0QXMsZ2V0VHJ1c3RlZDpnZXRUcnVzdGVkLHZhbHVlT2Y6dmFsdWVPZn19XX1mdW5jdGlvbiAkU2NlUHJvdmlkZXIoKXt2YXIgZW5hYmxlZD0hMDt0aGlzLmVuYWJsZWQ9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoZW5hYmxlZD0hIXZhbHVlKSxlbmFibGVkfSx0aGlzLiRnZXQ9WyIkZG9jdW1lbnQiLCIkcGFyc2UiLCIkc2NlRGVsZWdhdGUiLGZ1bmN0aW9uKCRkb2N1bWVudCwkcGFyc2UsJHNjZURlbGVnYXRlKXtpZihlbmFibGVkJiYkZG9jdW1lbnRbMF0uZG9jdW1lbnRNb2RlPDgpdGhyb3cgJHNjZU1pbkVycigiaWVxdWlya3MiLCJTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkb2VzIG5vdCBzdXBwb3J0IEludGVybmV0IEV4cGxvcmVyIHZlcnNpb24gPCAxMSBpbiBxdWlya3MgbW9kZS4gIFlvdSBjYW4gZml4IHRoaXMgYnkgYWRkaW5nIHRoZSB0ZXh0IDwhZG9jdHlwZSBodG1sPiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCBkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLiIpO3ZhciBzY2U9c2hhbGxvd0NvcHkoU0NFX0NPTlRFWFRTKTtzY2UuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGVuYWJsZWR9LHNjZS50cnVzdEFzPSRzY2VEZWxlZ2F0ZS50cnVzdEFzLHNjZS5nZXRUcnVzdGVkPSRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkLHNjZS52YWx1ZU9mPSRzY2VEZWxlZ2F0ZS52YWx1ZU9mLGVuYWJsZWR8fChzY2UudHJ1c3RBcz1zY2UuZ2V0VHJ1c3RlZD1mdW5jdGlvbih0eXBlLHZhbHVlKXtyZXR1cm4gdmFsdWV9LHNjZS52YWx1ZU9mPWlkZW50aXR5KSxzY2UucGFyc2VBcz1mdW5jdGlvbih0eXBlLGV4cHIpe3ZhciBwYXJzZWQ9JHBhcnNlKGV4cHIpO3JldHVybiBwYXJzZWQubGl0ZXJhbCYmcGFyc2VkLmNvbnN0YW50P3BhcnNlZDokcGFyc2UoZXhwcixmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHNjZS5nZXRUcnVzdGVkKHR5cGUsdmFsdWUpfSl9O3ZhciBwYXJzZT1zY2UucGFyc2VBcyxnZXRUcnVzdGVkPXNjZS5nZXRUcnVzdGVkLHRydXN0QXM9c2NlLnRydXN0QXM7cmV0dXJuIGZvckVhY2goU0NFX0NPTlRFWFRTLGZ1bmN0aW9uKGVudW1WYWx1ZSxuYW1lKXt2YXIgbE5hbWU9bG93ZXJjYXNlKG5hbWUpO3NjZVtjYW1lbENhc2UoInBhcnNlX2FzXyIrbE5hbWUpXT1mdW5jdGlvbihleHByKXtyZXR1cm4gcGFyc2UoZW51bVZhbHVlLGV4cHIpfSxzY2VbY2FtZWxDYXNlKCJnZXRfdHJ1c3RlZF8iK2xOYW1lKV09ZnVuY3Rpb24odmFsdWUpe3JldHVybiBnZXRUcnVzdGVkKGVudW1WYWx1ZSx2YWx1ZSl9LHNjZVtjYW1lbENhc2UoInRydXN0X2FzXyIrbE5hbWUpXT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHRydXN0QXMoZW51bVZhbHVlLHZhbHVlKX19KSxzY2V9XX1mdW5jdGlvbiAkU25pZmZlclByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiRkb2N1bWVudCIsZnVuY3Rpb24oJHdpbmRvdywkZG9jdW1lbnQpe3ZhciB2ZW5kb3JQcmVmaXgsbWF0Y2gsZXZlbnRTdXBwb3J0PXt9LGFuZHJvaWQ9aW50KCgvYW5kcm9pZCAoXGQrKS8uZXhlYyhsb3dlcmNhc2UoKCR3aW5kb3cubmF2aWdhdG9yfHx7fSkudXNlckFnZW50KSl8fFtdKVsxXSksYm94ZWU9L0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpLGRvY3VtZW50PSRkb2N1bWVudFswXXx8e30sdmVuZG9yUmVnZXg9L14oTW96fHdlYmtpdHxPfG1zKSg/PVtBLVpdKS8sYm9keVN0eWxlPWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuc3R5bGUsdHJhbnNpdGlvbnM9ITEsYW5pbWF0aW9ucz0hMTtpZihib2R5U3R5bGUpe2Zvcih2YXIgcHJvcCBpbiBib2R5U3R5bGUpaWYobWF0Y2g9dmVuZG9yUmVnZXguZXhlYyhwcm9wKSl7dmVuZG9yUHJlZml4PW1hdGNoWzBdLHZlbmRvclByZWZpeD12ZW5kb3JQcmVmaXguc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSt2ZW5kb3JQcmVmaXguc3Vic3RyKDEpO2JyZWFrfXZlbmRvclByZWZpeHx8KHZlbmRvclByZWZpeD0iV2Via2l0T3BhY2l0eSJpbiBib2R5U3R5bGUmJiJ3ZWJraXQiKSx0cmFuc2l0aW9ucz0hISgidHJhbnNpdGlvbiJpbiBib2R5U3R5bGV8fHZlbmRvclByZWZpeCsiVHJhbnNpdGlvbiJpbiBib2R5U3R5bGUpLGFuaW1hdGlvbnM9ISEoImFuaW1hdGlvbiJpbiBib2R5U3R5bGV8fHZlbmRvclByZWZpeCsiQW5pbWF0aW9uImluIGJvZHlTdHlsZSksIWFuZHJvaWR8fHRyYW5zaXRpb25zJiZhbmltYXRpb25zfHwodHJhbnNpdGlvbnM9aXNTdHJpbmcoZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uKSxhbmltYXRpb25zPWlzU3RyaW5nKGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0QW5pbWF0aW9uKSkKfXJldHVybntoaXN0b3J5OiEoISR3aW5kb3cuaGlzdG9yeXx8ISR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGV8fDQ+YW5kcm9pZHx8Ym94ZWUpLGhhc0V2ZW50OmZ1bmN0aW9uKGV2ZW50KXtpZigiaW5wdXQiPT1ldmVudCYmOT09bXNpZSlyZXR1cm4hMTtpZihpc1VuZGVmaW5lZChldmVudFN1cHBvcnRbZXZlbnRdKSl7dmFyIGRpdkVsbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtldmVudFN1cHBvcnRbZXZlbnRdPSJvbiIrZXZlbnQgaW4gZGl2RWxtfXJldHVybiBldmVudFN1cHBvcnRbZXZlbnRdfSxjc3A6Y3NwKCksdmVuZG9yUHJlZml4OnZlbmRvclByZWZpeCx0cmFuc2l0aW9uczp0cmFuc2l0aW9ucyxhbmltYXRpb25zOmFuaW1hdGlvbnMsYW5kcm9pZDphbmRyb2lkfX1dfWZ1bmN0aW9uICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcigpe3RoaXMuJGdldD1bIiR0ZW1wbGF0ZUNhY2hlIiwiJGh0dHAiLCIkcSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUsJGh0dHAsJHEpe2Z1bmN0aW9uIGhhbmRsZVJlcXVlc3RGbih0cGwsaWdub3JlUmVxdWVzdEVycm9yKXtmdW5jdGlvbiBoYW5kbGVFcnJvcigpe2lmKHNlbGYudG90YWxQZW5kaW5nUmVxdWVzdHMtLSwhaWdub3JlUmVxdWVzdEVycm9yKXRocm93ICRjb21waWxlTWluRXJyKCJ0cGxvYWQiLCJGYWlsZWQgdG8gbG9hZCB0ZW1wbGF0ZTogezB9Iix0cGwpO3JldHVybiAkcS5yZWplY3QoKX12YXIgc2VsZj1oYW5kbGVSZXF1ZXN0Rm47cmV0dXJuIHNlbGYudG90YWxQZW5kaW5nUmVxdWVzdHMrKywkaHR0cC5nZXQodHBsLHtjYWNoZTokdGVtcGxhdGVDYWNoZX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe3ZhciBodG1sPXJlc3BvbnNlLmRhdGE7cmV0dXJuIGh0bWwmJjAhPT1odG1sLmxlbmd0aD8oc2VsZi50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tLCR0ZW1wbGF0ZUNhY2hlLnB1dCh0cGwsaHRtbCksaHRtbCk6aGFuZGxlRXJyb3IoKX0saGFuZGxlRXJyb3IpfXJldHVybiBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHM9MCxoYW5kbGVSZXF1ZXN0Rm59XX1mdW5jdGlvbiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGJyb3dzZXIiLCIkbG9jYXRpb24iLGZ1bmN0aW9uKCRyb290U2NvcGUsJGJyb3dzZXIsJGxvY2F0aW9uKXt2YXIgdGVzdGFiaWxpdHk9e307cmV0dXJuIHRlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncz1mdW5jdGlvbihlbGVtZW50LGV4cHJlc3Npb24sb3B0X2V4YWN0TWF0Y2gpe3ZhciBiaW5kaW5ncz1lbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm5nLWJpbmRpbmciKSxtYXRjaGVzPVtdO3JldHVybiBmb3JFYWNoKGJpbmRpbmdzLGZ1bmN0aW9uKGJpbmRpbmcpe3ZhciBkYXRhQmluZGluZz1hbmd1bGFyLmVsZW1lbnQoYmluZGluZykuZGF0YSgiJGJpbmRpbmciKTtkYXRhQmluZGluZyYmZm9yRWFjaChkYXRhQmluZGluZyxmdW5jdGlvbihiaW5kaW5nTmFtZSl7aWYob3B0X2V4YWN0TWF0Y2gpe3ZhciBtYXRjaGVyPW5ldyBSZWdFeHAoIihefFxccykiK2V4cHJlc3Npb24rIihcXHN8XFx8fCQpIik7bWF0Y2hlci50ZXN0KGJpbmRpbmdOYW1lKSYmbWF0Y2hlcy5wdXNoKGJpbmRpbmcpfWVsc2UtMSE9YmluZGluZ05hbWUuaW5kZXhPZihleHByZXNzaW9uKSYmbWF0Y2hlcy5wdXNoKGJpbmRpbmcpfSl9KSxtYXRjaGVzfSx0ZXN0YWJpbGl0eS5maW5kTW9kZWxzPWZ1bmN0aW9uKGVsZW1lbnQsZXhwcmVzc2lvbixvcHRfZXhhY3RNYXRjaCl7Zm9yKHZhciBwcmVmaXhlcz1bIm5nLSIsImRhdGEtbmctIiwibmdcXDoiXSxwPTA7cDxwcmVmaXhlcy5sZW5ndGg7KytwKXt2YXIgYXR0cmlidXRlRXF1YWxzPW9wdF9leGFjdE1hdGNoPyI9IjoiKj0iLHNlbGVjdG9yPSJbIitwcmVmaXhlc1twXSsibW9kZWwiK2F0dHJpYnV0ZUVxdWFscysnIicrZXhwcmVzc2lvbisnIl0nLGVsZW1lbnRzPWVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7aWYoZWxlbWVudHMubGVuZ3RoKXJldHVybiBlbGVtZW50c319LHRlc3RhYmlsaXR5LmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuICRsb2NhdGlvbi51cmwoKX0sdGVzdGFiaWxpdHkuc2V0TG9jYXRpb249ZnVuY3Rpb24odXJsKXt1cmwhPT0kbG9jYXRpb24udXJsKCkmJigkbG9jYXRpb24udXJsKHVybCksJHJvb3RTY29wZS4kZGlnZXN0KCkpfSx0ZXN0YWJpbGl0eS53aGVuU3RhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrKXskYnJvd3Nlci5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzKGNhbGxiYWNrKX0sdGVzdGFiaWxpdHl9XX1mdW5jdGlvbiAkVGltZW91dFByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHJvb3RTY29wZSIsIiRicm93c2VyIiwiJHEiLCIkJHEiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oJHJvb3RTY29wZSwkYnJvd3NlciwkcSwkJHEsJGV4Y2VwdGlvbkhhbmRsZXIpe2Z1bmN0aW9uIHRpbWVvdXQoZm4sZGVsYXksaW52b2tlQXBwbHkpe3ZhciB0aW1lb3V0SWQsc2tpcEFwcGx5PWlzRGVmaW5lZChpbnZva2VBcHBseSkmJiFpbnZva2VBcHBseSxkZWZlcnJlZD0oc2tpcEFwcGx5PyQkcTokcSkuZGVmZXIoKSxwcm9taXNlPWRlZmVycmVkLnByb21pc2U7cmV0dXJuIHRpbWVvdXRJZD0kYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpe3RyeXtkZWZlcnJlZC5yZXNvbHZlKGZuKCkpfWNhdGNoKGUpe2RlZmVycmVkLnJlamVjdChlKSwkZXhjZXB0aW9uSGFuZGxlcihlKX1maW5hbGx5e2RlbGV0ZSBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF19c2tpcEFwcGx5fHwkcm9vdFNjb3BlLiRhcHBseSgpfSxkZWxheSkscHJvbWlzZS4kJHRpbWVvdXRJZD10aW1lb3V0SWQsZGVmZXJyZWRzW3RpbWVvdXRJZF09ZGVmZXJyZWQscHJvbWlzZX12YXIgZGVmZXJyZWRzPXt9O3JldHVybiB0aW1lb3V0LmNhbmNlbD1mdW5jdGlvbihwcm9taXNlKXtyZXR1cm4gcHJvbWlzZSYmcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHM/KGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXS5yZWplY3QoImNhbmNlbGVkIiksZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXSwkYnJvd3Nlci5kZWZlci5jYW5jZWwocHJvbWlzZS4kJHRpbWVvdXRJZCkpOiExfSx0aW1lb3V0fV19ZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpe3ZhciBocmVmPXVybDtyZXR1cm4gbXNpZSYmKHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgiaHJlZiIsaHJlZiksaHJlZj11cmxQYXJzaW5nTm9kZS5ocmVmKSx1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoImhyZWYiLGhyZWYpLHtocmVmOnVybFBhcnNpbmdOb2RlLmhyZWYscHJvdG9jb2w6dXJsUGFyc2luZ05vZGUucHJvdG9jb2w/dXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCIiKToiIixob3N0OnVybFBhcnNpbmdOb2RlLmhvc3Qsc2VhcmNoOnVybFBhcnNpbmdOb2RlLnNlYXJjaD91cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlw/LywiIik6IiIsaGFzaDp1cmxQYXJzaW5nTm9kZS5oYXNoP3VybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCIiKToiIixob3N0bmFtZTp1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxwb3J0OnVybFBhcnNpbmdOb2RlLnBvcnQscGF0aG5hbWU6Ii8iPT09dXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApP3VybFBhcnNpbmdOb2RlLnBhdGhuYW1lOiIvIit1cmxQYXJzaW5nTm9kZS5wYXRobmFtZX19ZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luKHJlcXVlc3RVcmwpe3ZhciBwYXJzZWQ9aXNTdHJpbmcocmVxdWVzdFVybCk/dXJsUmVzb2x2ZShyZXF1ZXN0VXJsKTpyZXF1ZXN0VXJsO3JldHVybiBwYXJzZWQucHJvdG9jb2w9PT1vcmlnaW5VcmwucHJvdG9jb2wmJnBhcnNlZC5ob3N0PT09b3JpZ2luVXJsLmhvc3R9ZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCl7dGhpcy4kZ2V0PXZhbHVlRm4od2luZG93KX1mdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpe2Z1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsZmFjdG9yeSl7aWYoaXNPYmplY3QobmFtZSkpe3ZhciBmaWx0ZXJzPXt9O3JldHVybiBmb3JFYWNoKG5hbWUsZnVuY3Rpb24oZmlsdGVyLGtleSl7ZmlsdGVyc1trZXldPXJlZ2lzdGVyKGtleSxmaWx0ZXIpfSksZmlsdGVyc31yZXR1cm4gJHByb3ZpZGUuZmFjdG9yeShuYW1lK3N1ZmZpeCxmYWN0b3J5KX12YXIgc3VmZml4PSJGaWx0ZXIiO3RoaXMucmVnaXN0ZXI9cmVnaXN0ZXIsdGhpcy4kZ2V0PVsiJGluamVjdG9yIixmdW5jdGlvbigkaW5qZWN0b3Ipe3JldHVybiBmdW5jdGlvbihuYW1lKXtyZXR1cm4gJGluamVjdG9yLmdldChuYW1lK3N1ZmZpeCl9fV0scmVnaXN0ZXIoImN1cnJlbmN5IixjdXJyZW5jeUZpbHRlcikscmVnaXN0ZXIoImRhdGUiLGRhdGVGaWx0ZXIpLHJlZ2lzdGVyKCJmaWx0ZXIiLGZpbHRlckZpbHRlcikscmVnaXN0ZXIoImpzb24iLGpzb25GaWx0ZXIpLHJlZ2lzdGVyKCJsaW1pdFRvIixsaW1pdFRvRmlsdGVyKSxyZWdpc3RlcigibG93ZXJjYXNlIixsb3dlcmNhc2VGaWx0ZXIpLHJlZ2lzdGVyKCJudW1iZXIiLG51bWJlckZpbHRlcikscmVnaXN0ZXIoIm9yZGVyQnkiLG9yZGVyQnlGaWx0ZXIpLHJlZ2lzdGVyKCJ1cHBlcmNhc2UiLHVwcGVyY2FzZUZpbHRlcil9ZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCl7cmV0dXJuIGZ1bmN0aW9uKGFycmF5LGV4cHJlc3Npb24sY29tcGFyYXRvcil7aWYoIWlzQXJyYXkoYXJyYXkpKXJldHVybiBhcnJheTt2YXIgY29tcGFyYXRvclR5cGU9dHlwZW9mIGNvbXBhcmF0b3IscHJlZGljYXRlcz1bXTtwcmVkaWNhdGVzLmNoZWNrPWZ1bmN0aW9uKHZhbHVlLGluZGV4KXtmb3IodmFyIGo9MDtqPHByZWRpY2F0ZXMubGVuZ3RoO2orKylpZighcHJlZGljYXRlc1tqXSh2YWx1ZSxpbmRleCkpcmV0dXJuITE7cmV0dXJuITB9LCJmdW5jdGlvbiIhPT1jb21wYXJhdG9yVHlwZSYmKGNvbXBhcmF0b3I9ImJvb2xlYW4iPT09Y29tcGFyYXRvclR5cGUmJmNvbXBhcmF0b3I/ZnVuY3Rpb24ob2JqLHRleHQpe3JldHVybiBhbmd1bGFyLmVxdWFscyhvYmosdGV4dCl9OmZ1bmN0aW9uKG9iaix0ZXh0KXtpZihvYmomJnRleHQmJiJvYmplY3QiPT10eXBlb2Ygb2JqJiYib2JqZWN0Ij09dHlwZW9mIHRleHQpe2Zvcih2YXIgb2JqS2V5IGluIG9iailpZigiJCIhPT1vYmpLZXkuY2hhckF0KDApJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixvYmpLZXkpJiZjb21wYXJhdG9yKG9ialtvYmpLZXldLHRleHRbb2JqS2V5XSkpcmV0dXJuITA7cmV0dXJuITF9cmV0dXJuIHRleHQ9KCIiK3RleHQpLnRvTG93ZXJDYXNlKCksKCIiK29iaikudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRleHQpPi0xfSk7dmFyIHNlYXJjaD1mdW5jdGlvbihvYmosdGV4dCl7aWYoInN0cmluZyI9PXR5cGVvZiB0ZXh0JiYiISI9PT10ZXh0LmNoYXJBdCgwKSlyZXR1cm4hc2VhcmNoKG9iaix0ZXh0LnN1YnN0cigxKSk7c3dpdGNoKHR5cGVvZiBvYmope2Nhc2UiYm9vbGVhbiI6Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjpyZXR1cm4gY29tcGFyYXRvcihvYmosdGV4dCk7Y2FzZSJvYmplY3QiOnN3aXRjaCh0eXBlb2YgdGV4dCl7Y2FzZSJvYmplY3QiOnJldHVybiBjb21wYXJhdG9yKG9iaix0ZXh0KTtkZWZhdWx0OmZvcih2YXIgb2JqS2V5IGluIG9iailpZigiJCIhPT1vYmpLZXkuY2hhckF0KDApJiZzZWFyY2gob2JqW29iaktleV0sdGV4dCkpcmV0dXJuITB9cmV0dXJuITE7Y2FzZSJhcnJheSI6Zm9yKHZhciBpPTA7aTxvYmoubGVuZ3RoO2krKylpZihzZWFyY2gob2JqW2ldLHRleHQpKXJldHVybiEwO3JldHVybiExO2RlZmF1bHQ6cmV0dXJuITF9fTtzd2l0Y2godHlwZW9mIGV4cHJlc3Npb24pe2Nhc2UiYm9vbGVhbiI6Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjpleHByZXNzaW9uPXskOmV4cHJlc3Npb259O2Nhc2Uib2JqZWN0Ijpmb3IodmFyIGtleSBpbiBleHByZXNzaW9uKSFmdW5jdGlvbihwYXRoKXsidW5kZWZpbmVkIiE9dHlwZW9mIGV4cHJlc3Npb25bcGF0aF0mJnByZWRpY2F0ZXMucHVzaChmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHNlYXJjaCgiJCI9PXBhdGg/dmFsdWU6dmFsdWUmJnZhbHVlW3BhdGhdLGV4cHJlc3Npb25bcGF0aF0pfSl9KGtleSk7YnJlYWs7Y2FzZSJmdW5jdGlvbiI6cHJlZGljYXRlcy5wdXNoKGV4cHJlc3Npb24pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGFycmF5fWZvcih2YXIgZmlsdGVyZWQ9W10saj0wO2o8YXJyYXkubGVuZ3RoO2orKyl7dmFyIHZhbHVlPWFycmF5W2pdO3ByZWRpY2F0ZXMuY2hlY2sodmFsdWUsaikmJmZpbHRlcmVkLnB1c2godmFsdWUpfXJldHVybiBmaWx0ZXJlZH19ZnVuY3Rpb24gY3VycmVuY3lGaWx0ZXIoJGxvY2FsZSl7dmFyIGZvcm1hdHM9JGxvY2FsZS5OVU1CRVJfRk9STUFUUztyZXR1cm4gZnVuY3Rpb24oYW1vdW50LGN1cnJlbmN5U3ltYm9sLGZyYWN0aW9uU2l6ZSl7cmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJlbmN5U3ltYm9sKSYmKGN1cnJlbmN5U3ltYm9sPWZvcm1hdHMuQ1VSUkVOQ1lfU1lNKSxpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpJiYoZnJhY3Rpb25TaXplPTIpLG51bGw9PWFtb3VudD9hbW91bnQ6Zm9ybWF0TnVtYmVyKGFtb3VudCxmb3JtYXRzLlBBVFRFUk5TWzFdLGZvcm1hdHMuR1JPVVBfU0VQLGZvcm1hdHMuREVDSU1BTF9TRVAsZnJhY3Rpb25TaXplKS5yZXBsYWNlKC9cdTAwQTQvZyxjdXJyZW5jeVN5bWJvbCl9fWZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKXt2YXIgZm9ybWF0cz0kbG9jYWxlLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihudW1iZXIsZnJhY3Rpb25TaXplKXtyZXR1cm4gbnVsbD09bnVtYmVyP251bWJlcjpmb3JtYXROdW1iZXIobnVtYmVyLGZvcm1hdHMuUEFUVEVSTlNbMF0sZm9ybWF0cy5HUk9VUF9TRVAsZm9ybWF0cy5ERUNJTUFMX1NFUCxmcmFjdGlvblNpemUpfX1mdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLHBhdHRlcm4sZ3JvdXBTZXAsZGVjaW1hbFNlcCxmcmFjdGlvblNpemUpe2lmKCFpc0Zpbml0ZShudW1iZXIpfHxpc09iamVjdChudW1iZXIpKXJldHVybiIiO3ZhciBpc05lZ2F0aXZlPTA+bnVtYmVyO251bWJlcj1NYXRoLmFicyhudW1iZXIpO3ZhciBudW1TdHI9bnVtYmVyKyIiLGZvcm1hdGVkVGV4dD0iIixwYXJ0cz1bXSxoYXNFeHBvbmVudD0hMTtpZigtMSE9PW51bVN0ci5pbmRleE9mKCJlIikpe3ZhciBtYXRjaD1udW1TdHIubWF0Y2goLyhbXGRcLl0rKWUoLT8pKFxkKykvKTttYXRjaCYmIi0iPT1tYXRjaFsyXSYmbWF0Y2hbM10+ZnJhY3Rpb25TaXplKzE/KG51bVN0cj0iMCIsbnVtYmVyPTApOihmb3JtYXRlZFRleHQ9bnVtU3RyLGhhc0V4cG9uZW50PSEwKX1pZihoYXNFeHBvbmVudClmcmFjdGlvblNpemU+MCYmbnVtYmVyPi0xJiYxPm51bWJlciYmKGZvcm1hdGVkVGV4dD1udW1iZXIudG9GaXhlZChmcmFjdGlvblNpemUpKTtlbHNle3ZhciBmcmFjdGlvbkxlbj0obnVtU3RyLnNwbGl0KERFQ0lNQUxfU0VQKVsxXXx8IiIpLmxlbmd0aDtpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpJiYoZnJhY3Rpb25TaXplPU1hdGgubWluKE1hdGgubWF4KHBhdHRlcm4ubWluRnJhYyxmcmFjdGlvbkxlbikscGF0dGVybi5tYXhGcmFjKSksbnVtYmVyPSsoTWF0aC5yb3VuZCgrKG51bWJlci50b1N0cmluZygpKyJlIitmcmFjdGlvblNpemUpKS50b1N0cmluZygpKyJlIistZnJhY3Rpb25TaXplKSwwPT09bnVtYmVyJiYoaXNOZWdhdGl2ZT0hMSk7dmFyIGZyYWN0aW9uPSgiIitudW1iZXIpLnNwbGl0KERFQ0lNQUxfU0VQKSx3aG9sZT1mcmFjdGlvblswXTtmcmFjdGlvbj1mcmFjdGlvblsxXXx8IiI7dmFyIGkscG9zPTAsbGdyb3VwPXBhdHRlcm4ubGdTaXplLGdyb3VwPXBhdHRlcm4uZ1NpemU7aWYod2hvbGUubGVuZ3RoPj1sZ3JvdXArZ3JvdXApZm9yKHBvcz13aG9sZS5sZW5ndGgtbGdyb3VwLGk9MDtwb3M+aTtpKyspKHBvcy1pKSVncm91cD09PTAmJjAhPT1pJiYoZm9ybWF0ZWRUZXh0Kz1ncm91cFNlcCksZm9ybWF0ZWRUZXh0Kz13aG9sZS5jaGFyQXQoaSk7Zm9yKGk9cG9zO2k8d2hvbGUubGVuZ3RoO2krKykod2hvbGUubGVuZ3RoLWkpJWxncm91cD09PTAmJjAhPT1pJiYoZm9ybWF0ZWRUZXh0Kz1ncm91cFNlcCksZm9ybWF0ZWRUZXh0Kz13aG9sZS5jaGFyQXQoaSk7Zm9yKDtmcmFjdGlvbi5sZW5ndGg8ZnJhY3Rpb25TaXplOylmcmFjdGlvbis9IjAiO2ZyYWN0aW9uU2l6ZSYmIjAiIT09ZnJhY3Rpb25TaXplJiYoZm9ybWF0ZWRUZXh0Kz1kZWNpbWFsU2VwK2ZyYWN0aW9uLnN1YnN0cigwLGZyYWN0aW9uU2l6ZSkpfXJldHVybiBwYXJ0cy5wdXNoKGlzTmVnYXRpdmU/cGF0dGVybi5uZWdQcmU6cGF0dGVybi5wb3NQcmUpLHBhcnRzLnB1c2goZm9ybWF0ZWRUZXh0KSxwYXJ0cy5wdXNoKGlzTmVnYXRpdmU/cGF0dGVybi5uZWdTdWY6cGF0dGVybi5wb3NTdWYpLHBhcnRzLmpvaW4oIiIpfWZ1bmN0aW9uIHBhZE51bWJlcihudW0sZGlnaXRzLHRyaW0pe3ZhciBuZWc9IiI7Zm9yKDA+bnVtJiYobmVnPSItIixudW09LW51bSksbnVtPSIiK251bTtudW0ubGVuZ3RoPGRpZ2l0czspbnVtPSIwIitudW07cmV0dXJuIHRyaW0mJihudW09bnVtLnN1YnN0cihudW0ubGVuZ3RoLWRpZ2l0cykpLG5lZytudW19ZnVuY3Rpb24gZGF0ZUdldHRlcihuYW1lLHNpemUsb2Zmc2V0LHRyaW0pe3JldHVybiBvZmZzZXQ9b2Zmc2V0fHwwLGZ1bmN0aW9uKGRhdGUpe3ZhciB2YWx1ZT1kYXRlWyJnZXQiK25hbWVdKCk7cmV0dXJuKG9mZnNldD4wfHx2YWx1ZT4tb2Zmc2V0KSYmKHZhbHVlKz1vZmZzZXQpLDA9PT12YWx1ZSYmLTEyPT1vZmZzZXQmJih2YWx1ZT0xMikscGFkTnVtYmVyKHZhbHVlLHNpemUsdHJpbSl9fWZ1bmN0aW9uIGRhdGVTdHJHZXR0ZXIobmFtZSxzaG9ydEZvcm0pe3JldHVybiBmdW5jdGlvbihkYXRlLGZvcm1hdHMpe3ZhciB2YWx1ZT1kYXRlWyJnZXQiK25hbWVdKCksZ2V0PXVwcGVyY2FzZShzaG9ydEZvcm0/IlNIT1JUIituYW1lOm5hbWUpO3JldHVybiBmb3JtYXRzW2dldF1bdmFsdWVdfX1mdW5jdGlvbiB0aW1lWm9uZUdldHRlcihkYXRlKXt2YXIgem9uZT0tMSpkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkscGFkZGVkWm9uZT16b25lPj0wPyIrIjoiIjtyZXR1cm4gcGFkZGVkWm9uZSs9cGFkTnVtYmVyKE1hdGhbem9uZT4wPyJmbG9vciI6ImNlaWwiXSh6b25lLzYwKSwyKStwYWROdW1iZXIoTWF0aC5hYnMoem9uZSU2MCksMil9ZnVuY3Rpb24gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKXt2YXIgZGF5T2ZXZWVrT25GaXJzdD1uZXcgRGF0ZSh5ZWFyLDAsMSkuZ2V0RGF5KCk7cmV0dXJuIG5ldyBEYXRlKHllYXIsMCwoND49ZGF5T2ZXZWVrT25GaXJzdD81OjEyKS1kYXlPZldlZWtPbkZpcnN0KX1mdW5jdGlvbiBnZXRUaHVyc2RheVRoaXNXZWVrKGRhdGV0aW1lKXtyZXR1cm4gbmV3IERhdGUoZGF0ZXRpbWUuZ2V0RnVsbFllYXIoKSxkYXRldGltZS5nZXRNb250aCgpLGRhdGV0aW1lLmdldERhdGUoKSsoNC1kYXRldGltZS5nZXREYXkoKSkpfWZ1bmN0aW9uIHdlZWtHZXR0ZXIoc2l6ZSl7cmV0dXJuIGZ1bmN0aW9uKGRhdGUpe3ZhciBmaXJzdFRodXJzPWdldEZpcnN0VGh1cnNkYXlPZlllYXIoZGF0ZS5nZXRGdWxsWWVhcigpKSx0aGlzVGh1cnM9Z2V0VGh1cnNkYXlUaGlzV2VlayhkYXRlKSxkaWZmPSt0aGlzVGh1cnMtK2ZpcnN0VGh1cnMscmVzdWx0PTErTWF0aC5yb3VuZChkaWZmLzYwNDhlNSk7cmV0dXJuIHBhZE51bWJlcihyZXN1bHQsc2l6ZSl9fWZ1bmN0aW9uIGFtcG1HZXR0ZXIoZGF0ZSxmb3JtYXRzKXtyZXR1cm4gZGF0ZS5nZXRIb3VycygpPDEyP2Zvcm1hdHMuQU1QTVNbMF06Zm9ybWF0cy5BTVBNU1sxXX1mdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpe2Z1bmN0aW9uIGpzb25TdHJpbmdUb0RhdGUoc3RyaW5nKXt2YXIgbWF0Y2g7aWYobWF0Y2g9c3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKXt2YXIgZGF0ZT1uZXcgRGF0ZSgwKSx0ekhvdXI9MCx0ek1pbj0wLGRhdGVTZXR0ZXI9bWF0Y2hbOF0/ZGF0ZS5zZXRVVENGdWxsWWVhcjpkYXRlLnNldEZ1bGxZZWFyLHRpbWVTZXR0ZXI9bWF0Y2hbOF0/ZGF0ZS5zZXRVVENIb3VyczpkYXRlLnNldEhvdXJzO21hdGNoWzldJiYodHpIb3VyPWludChtYXRjaFs5XSttYXRjaFsxMF0pLHR6TWluPWludChtYXRjaFs5XSttYXRjaFsxMV0pKSxkYXRlU2V0dGVyLmNhbGwoZGF0ZSxpbnQobWF0Y2hbMV0pLGludChtYXRjaFsyXSktMSxpbnQobWF0Y2hbM10pKTt2YXIgaD1pbnQobWF0Y2hbNF18fDApLXR6SG91cixtPWludChtYXRjaFs1XXx8MCktdHpNaW4scz1pbnQobWF0Y2hbNl18fDApLG1zPU1hdGgucm91bmQoMWUzKnBhcnNlRmxvYXQoIjAuIisobWF0Y2hbN118fDApKSk7cmV0dXJuIHRpbWVTZXR0ZXIuY2FsbChkYXRlLGgsbSxzLG1zKSxkYXRlfXJldHVybiBzdHJpbmd9dmFyIFJfSVNPODYwMV9TVFI9L14oXGR7NH0pLT8oXGRcZCktPyhcZFxkKSg/OlQoXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86XC4oXGQrKSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKT8pPyQvO3JldHVybiBmdW5jdGlvbihkYXRlLGZvcm1hdCx0aW1lem9uZSl7dmFyIGZuLG1hdGNoLHRleHQ9IiIscGFydHM9W107aWYoZm9ybWF0PWZvcm1hdHx8Im1lZGl1bURhdGUiLGZvcm1hdD0kbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XXx8Zm9ybWF0LGlzU3RyaW5nKGRhdGUpJiYoZGF0ZT1OVU1CRVJfU1RSSU5HLnRlc3QoZGF0ZSk/aW50KGRhdGUpOmpzb25TdHJpbmdUb0RhdGUoZGF0ZSkpLGlzTnVtYmVyKGRhdGUpJiYoZGF0ZT1uZXcgRGF0ZShkYXRlKSksIWlzRGF0ZShkYXRlKSlyZXR1cm4gZGF0ZTtmb3IoO2Zvcm1hdDspbWF0Y2g9REFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KSxtYXRjaD8ocGFydHM9Y29uY2F0KHBhcnRzLG1hdGNoLDEpLGZvcm1hdD1wYXJ0cy5wb3AoKSk6KHBhcnRzLnB1c2goZm9ybWF0KSxmb3JtYXQ9bnVsbCk7cmV0dXJuIHRpbWV6b25lJiYiVVRDIj09PXRpbWV6b25lJiYoZGF0ZT1uZXcgRGF0ZShkYXRlLmdldFRpbWUoKSksZGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpK2RhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSkpLGZvckVhY2gocGFydHMsZnVuY3Rpb24odmFsdWUpe2ZuPURBVEVfRk9STUFUU1t2YWx1ZV0sdGV4dCs9Zm4/Zm4oZGF0ZSwkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMpOnZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywiIikucmVwbGFjZSgvJycvZywiJyIpfSksdGV4dH19ZnVuY3Rpb24ganNvbkZpbHRlcigpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVybiB0b0pzb24ob2JqZWN0LCEwKX19ZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpe3JldHVybiBmdW5jdGlvbihpbnB1dCxsaW1pdCl7aWYoaXNOdW1iZXIoaW5wdXQpJiYoaW5wdXQ9aW5wdXQudG9TdHJpbmcoKSksIWlzQXJyYXkoaW5wdXQpJiYhaXNTdHJpbmcoaW5wdXQpKXJldHVybiBpbnB1dDtpZihsaW1pdD0xLzA9PT1NYXRoLmFicyhOdW1iZXIobGltaXQpKT9OdW1iZXIobGltaXQpOmludChsaW1pdCksaXNTdHJpbmcoaW5wdXQpKXJldHVybiBsaW1pdD9saW1pdD49MD9pbnB1dC5zbGljZSgwLGxpbWl0KTppbnB1dC5zbGljZShsaW1pdCxpbnB1dC5sZW5ndGgpOiIiO3ZhciBpLG4sb3V0PVtdO2ZvcihsaW1pdD5pbnB1dC5sZW5ndGg/bGltaXQ9aW5wdXQubGVuZ3RoOmxpbWl0PC1pbnB1dC5sZW5ndGgmJihsaW1pdD0taW5wdXQubGVuZ3RoKSxsaW1pdD4wPyhpPTAsbj1saW1pdCk6KGk9aW5wdXQubGVuZ3RoK2xpbWl0LG49aW5wdXQubGVuZ3RoKTtuPmk7aSsrKW91dC5wdXNoKGlucHV0W2ldKTtyZXR1cm4gb3V0fX1mdW5jdGlvbiBvcmRlckJ5RmlsdGVyKCRwYXJzZSl7cmV0dXJuIGZ1bmN0aW9uKGFycmF5LHNvcnRQcmVkaWNhdGUscmV2ZXJzZU9yZGVyKXtmdW5jdGlvbiBjb21wYXJhdG9yKG8xLG8yKXtmb3IodmFyIGk9MDtpPHNvcnRQcmVkaWNhdGUubGVuZ3RoO2krKyl7dmFyIGNvbXA9c29ydFByZWRpY2F0ZVtpXShvMSxvMik7aWYoMCE9PWNvbXApcmV0dXJuIGNvbXB9cmV0dXJuIDB9ZnVuY3Rpb24gcmV2ZXJzZUNvbXBhcmF0b3IoY29tcCxkZXNjZW5kaW5nKXtyZXR1cm4gZGVzY2VuZGluZz9mdW5jdGlvbihhLGIpe3JldHVybiBjb21wKGIsYSl9OmNvbXB9ZnVuY3Rpb24gY29tcGFyZSh2MSx2Mil7dmFyIHQxPXR5cGVvZiB2MSx0Mj10eXBlb2YgdjI7cmV0dXJuIHQxPT10Mj8oaXNEYXRlKHYxKSYmaXNEYXRlKHYyKSYmKHYxPXYxLnZhbHVlT2YoKSx2Mj12Mi52YWx1ZU9mKCkpLCJzdHJpbmciPT10MSYmKHYxPXYxLnRvTG93ZXJDYXNlKCksdjI9djIudG9Mb3dlckNhc2UoKSksdjE9PT12Mj8wOnYyPnYxPy0xOjEpOnQyPnQxPy0xOjF9aWYoIWlzQXJyYXlMaWtlKGFycmF5KSlyZXR1cm4gYXJyYXk7c29ydFByZWRpY2F0ZT1pc0FycmF5KHNvcnRQcmVkaWNhdGUpP3NvcnRQcmVkaWNhdGU6W3NvcnRQcmVkaWNhdGVdLDA9PT1zb3J0UHJlZGljYXRlLmxlbmd0aCYmKHNvcnRQcmVkaWNhdGU9WyIrIl0pLHNvcnRQcmVkaWNhdGU9c29ydFByZWRpY2F0ZS5tYXAoZnVuY3Rpb24ocHJlZGljYXRlKXt2YXIgZGVzY2VuZGluZz0hMSxnZXQ9cHJlZGljYXRlfHxpZGVudGl0eTtpZihpc1N0cmluZyhwcmVkaWNhdGUpKXtpZigoIisiPT1wcmVkaWNhdGUuY2hhckF0KDApfHwiLSI9PXByZWRpY2F0ZS5jaGFyQXQoMCkpJiYoZGVzY2VuZGluZz0iLSI9PXByZWRpY2F0ZS5jaGFyQXQoMCkscHJlZGljYXRlPXByZWRpY2F0ZS5zdWJzdHJpbmcoMSkpLCIiPT09cHJlZGljYXRlKXJldHVybiByZXZlcnNlQ29tcGFyYXRvcihmdW5jdGlvbihhLGIpe3JldHVybiBjb21wYXJlKGEsYil9LGRlc2NlbmRpbmcpO2lmKGdldD0kcGFyc2UocHJlZGljYXRlKSxnZXQuY29uc3RhbnQpe3ZhciBrZXk9Z2V0KCk7cmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGNvbXBhcmUoYVtrZXldLGJba2V5XSl9LGRlc2NlbmRpbmcpfX1yZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoZnVuY3Rpb24oYSxiKXtyZXR1cm4gY29tcGFyZShnZXQoYSksZ2V0KGIpKX0sZGVzY2VuZGluZyl9KTtmb3IodmFyIGFycmF5Q29weT1bXSxpPTA7aTxhcnJheS5sZW5ndGg7aSsrKWFycmF5Q29weS5wdXNoKGFycmF5W2ldKTtyZXR1cm4gYXJyYXlDb3B5LnNvcnQocmV2ZXJzZUNvbXBhcmF0b3IoY29tcGFyYXRvcixyZXZlcnNlT3JkZXIpKX19ZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKXtyZXR1cm4gaXNGdW5jdGlvbihkaXJlY3RpdmUpJiYoZGlyZWN0aXZlPXtsaW5rOmRpcmVjdGl2ZX0pLGRpcmVjdGl2ZS5yZXN0cmljdD1kaXJlY3RpdmUucmVzdHJpY3R8fCJBQyIsdmFsdWVGbihkaXJlY3RpdmUpfWZ1bmN0aW9uIG51bGxGb3JtUmVuYW1lQ29udHJvbChjb250cm9sLG5hbWUpe2NvbnRyb2wuJG5hbWU9bmFtZX1mdW5jdGlvbiBGb3JtQ29udHJvbGxlcihlbGVtZW50LGF0dHJzLCRzY29wZSwkYW5pbWF0ZSwkaW50ZXJwb2xhdGUpe3ZhciBmb3JtPXRoaXMsY29udHJvbHM9W10scGFyZW50Rm9ybT1mb3JtLiQkcGFyZW50Rm9ybT1lbGVtZW50LnBhcmVudCgpLmNvbnRyb2xsZXIoImZvcm0iKXx8bnVsbEZvcm1DdHJsO2Zvcm0uJGVycm9yPXt9LGZvcm0uJCRzdWNjZXNzPXt9LGZvcm0uJHBlbmRpbmc9dW5kZWZpbmVkLGZvcm0uJG5hbWU9JGludGVycG9sYXRlKGF0dHJzLm5hbWV8fGF0dHJzLm5nRm9ybXx8IiIpKCRzY29wZSksZm9ybS4kZGlydHk9ITEsZm9ybS4kcHJpc3RpbmU9ITAsZm9ybS4kdmFsaWQ9ITAsZm9ybS4kaW52YWxpZD0hMSxmb3JtLiRzdWJtaXR0ZWQ9ITEscGFyZW50Rm9ybS4kYWRkQ29udHJvbChmb3JtKSxmb3JtLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe2ZvckVhY2goY29udHJvbHMsZnVuY3Rpb24oY29udHJvbCl7Y29udHJvbC4kcm9sbGJhY2tWaWV3VmFsdWUoKX0pfSxmb3JtLiRjb21taXRWaWV3VmFsdWU9ZnVuY3Rpb24oKXtmb3JFYWNoKGNvbnRyb2xzLGZ1bmN0aW9uKGNvbnRyb2wpe2NvbnRyb2wuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9LGZvcm0uJGFkZENvbnRyb2w9ZnVuY3Rpb24oY29udHJvbCl7YXNzZXJ0Tm90SGFzT3duUHJvcGVydHkoY29udHJvbC4kbmFtZSwiaW5wdXQiKSxjb250cm9scy5wdXNoKGNvbnRyb2wpLGNvbnRyb2wuJG5hbWUmJihmb3JtW2NvbnRyb2wuJG5hbWVdPWNvbnRyb2wpfSxmb3JtLiQkcmVuYW1lQ29udHJvbD1mdW5jdGlvbihjb250cm9sLG5ld05hbWUpe3ZhciBvbGROYW1lPWNvbnRyb2wuJG5hbWU7Zm9ybVtvbGROYW1lXT09PWNvbnRyb2wmJmRlbGV0ZSBmb3JtW29sZE5hbWVdLGZvcm1bbmV3TmFtZV09Y29udHJvbCxjb250cm9sLiRuYW1lPW5ld05hbWV9LGZvcm0uJHJlbW92ZUNvbnRyb2w9ZnVuY3Rpb24oY29udHJvbCl7Y29udHJvbC4kbmFtZSYmZm9ybVtjb250cm9sLiRuYW1lXT09PWNvbnRyb2wmJmRlbGV0ZSBmb3JtW2NvbnRyb2wuJG5hbWVdLGZvckVhY2goZm9ybS4kcGVuZGluZyxmdW5jdGlvbih2YWx1ZSxuYW1lKXtmb3JtLiRzZXRWYWxpZGl0eShuYW1lLG51bGwsY29udHJvbCl9KSxmb3JFYWNoKGZvcm0uJGVycm9yLGZ1bmN0aW9uKHZhbHVlLG5hbWUpe2Zvcm0uJHNldFZhbGlkaXR5KG5hbWUsbnVsbCxjb250cm9sKX0pLGFycmF5UmVtb3ZlKGNvbnRyb2xzLGNvbnRyb2wpfSxhZGRTZXRWYWxpZGl0eU1ldGhvZCh7Y3RybDp0aGlzLCRlbGVtZW50OmVsZW1lbnQsc2V0OmZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSxjb250cm9sKXt2YXIgbGlzdD1vYmplY3RbcHJvcGVydHldO2lmKGxpc3Qpe3ZhciBpbmRleD1saXN0LmluZGV4T2YoY29udHJvbCk7LTE9PT1pbmRleCYmbGlzdC5wdXNoKGNvbnRyb2wpfWVsc2Ugb2JqZWN0W3Byb3BlcnR5XT1bY29udHJvbF19LHVuc2V0OmZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSxjb250cm9sKXt2YXIgbGlzdD1vYmplY3RbcHJvcGVydHldO2xpc3QmJihhcnJheVJlbW92ZShsaXN0LGNvbnRyb2wpLDA9PT1saXN0Lmxlbmd0aCYmZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV0pfSxwYXJlbnRGb3JtOnBhcmVudEZvcm0sJGFuaW1hdGU6JGFuaW1hdGV9KSxmb3JtLiRzZXREaXJ0eT1mdW5jdGlvbigpeyRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsUFJJU1RJTkVfQ0xBU1MpLCRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsRElSVFlfQ0xBU1MpLGZvcm0uJGRpcnR5PSEwLGZvcm0uJHByaXN0aW5lPSExLHBhcmVudEZvcm0uJHNldERpcnR5KCl9LGZvcm0uJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7JGFuaW1hdGUuc2V0Q2xhc3MoZWxlbWVudCxQUklTVElORV9DTEFTUyxESVJUWV9DTEFTUysiICIrU1VCTUlUVEVEX0NMQVNTKSxmb3JtLiRkaXJ0eT0hMSxmb3JtLiRwcmlzdGluZT0hMCxmb3JtLiRzdWJtaXR0ZWQ9ITEsZm9yRWFjaChjb250cm9scyxmdW5jdGlvbihjb250cm9sKXtjb250cm9sLiRzZXRQcmlzdGluZSgpfSl9LGZvcm0uJHNldFVudG91Y2hlZD1mdW5jdGlvbigpe2ZvckVhY2goY29udHJvbHMsZnVuY3Rpb24oY29udHJvbCl7Y29udHJvbC4kc2V0VW50b3VjaGVkKCl9KX0sZm9ybS4kc2V0U3VibWl0dGVkPWZ1bmN0aW9uKCl7JGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCxTVUJNSVRURURfQ0xBU1MpLGZvcm0uJHN1Ym1pdHRlZD0hMCxwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKX19ZnVuY3Rpb24gc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCl7Y3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSk/dmFsdWU6dmFsdWUudG9TdHJpbmcoKX0pfWZ1bmN0aW9uIHRleHRJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIpe2Jhc2VJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIpLHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpfWZ1bmN0aW9uIGJhc2VJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIpe3ZhciBwbGFjZWhvbGRlcj0oZWxlbWVudC5wcm9wKFZBTElESVRZX1NUQVRFX1BST1BFUlRZKSxlbGVtZW50WzBdLnBsYWNlaG9sZGVyKSxub2V2ZW50PXt9LHR5cGU9bG93ZXJjYXNlKGVsZW1lbnRbMF0udHlwZSk7aWYoISRzbmlmZmVyLmFuZHJvaWQpe3ZhciBjb21wb3Npbmc9ITE7ZWxlbWVudC5vbigiY29tcG9zaXRpb25zdGFydCIsZnVuY3Rpb24oKXtjb21wb3Npbmc9ITB9KSxlbGVtZW50Lm9uKCJjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oKXtjb21wb3Npbmc9ITEsbGlzdGVuZXIoKX0pfXZhciBsaXN0ZW5lcj1mdW5jdGlvbihldil7aWYoIWNvbXBvc2luZyl7dmFyIHZhbHVlPWVsZW1lbnQudmFsKCksZXZlbnQ9ZXYmJmV2LnR5cGU7aWYobXNpZSYmImlucHV0Ij09PShldnx8bm9ldmVudCkudHlwZSYmZWxlbWVudFswXS5wbGFjZWhvbGRlciE9PXBsYWNlaG9sZGVyKXJldHVybiB2b2lkKHBsYWNlaG9sZGVyPWVsZW1lbnRbMF0ucGxhY2Vob2xkZXIpOyJwYXNzd29yZCI9PT10eXBlfHxhdHRyLm5nVHJpbSYmImZhbHNlIj09PWF0dHIubmdUcmltfHwodmFsdWU9dHJpbSh2YWx1ZSkpLChjdHJsLiR2aWV3VmFsdWUhPT12YWx1ZXx8IiI9PT12YWx1ZSYmY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpJiZjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUsZXZlbnQpfX07aWYoJHNuaWZmZXIuaGFzRXZlbnQoImlucHV0IikpZWxlbWVudC5vbigiaW5wdXQiLGxpc3RlbmVyKTtlbHNle3ZhciB0aW1lb3V0LGRlZmVyTGlzdGVuZXI9ZnVuY3Rpb24oZXYpe3RpbWVvdXR8fCh0aW1lb3V0PSRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCl7bGlzdGVuZXIoZXYpLHRpbWVvdXQ9bnVsbH0pKX07ZWxlbWVudC5vbigia2V5ZG93biIsZnVuY3Rpb24oZXZlbnQpe3ZhciBrZXk9ZXZlbnQua2V5Q29kZTs5MT09PWtleXx8a2V5PjE1JiYxOT5rZXl8fGtleT49MzcmJjQwPj1rZXl8fGRlZmVyTGlzdGVuZXIoZXZlbnQpfSksJHNuaWZmZXIuaGFzRXZlbnQoInBhc3RlIikmJmVsZW1lbnQub24oInBhc3RlIGN1dCIsZGVmZXJMaXN0ZW5lcil9ZWxlbWVudC5vbigiY2hhbmdlIixsaXN0ZW5lciksY3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC52YWwoY3RybC4kaXNFbXB0eShjdHJsLiRtb2RlbFZhbHVlKT8iIjpjdHJsLiR2aWV3VmFsdWUpfX1mdW5jdGlvbiB3ZWVrUGFyc2VyKGlzb1dlZWssZXhpc3RpbmdEYXRlKXtpZihpc0RhdGUoaXNvV2VlaykpcmV0dXJuIGlzb1dlZWs7aWYoaXNTdHJpbmcoaXNvV2Vlaykpe1dFRUtfUkVHRVhQLmxhc3RJbmRleD0wO3ZhciBwYXJ0cz1XRUVLX1JFR0VYUC5leGVjKGlzb1dlZWspO2lmKHBhcnRzKXt2YXIgeWVhcj0rcGFydHNbMV0sd2Vlaz0rcGFydHNbMl0saG91cnM9MCxtaW51dGVzPTAsc2Vjb25kcz0wLG1pbGxpc2Vjb25kcz0wLGZpcnN0VGh1cnM9Z2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSxhZGREYXlzPTcqKHdlZWstMSk7cmV0dXJuIGV4aXN0aW5nRGF0ZSYmKGhvdXJzPWV4aXN0aW5nRGF0ZS5nZXRIb3VycygpLG1pbnV0ZXM9ZXhpc3RpbmdEYXRlLmdldE1pbnV0ZXMoKSxzZWNvbmRzPWV4aXN0aW5nRGF0ZS5nZXRTZWNvbmRzKCksbWlsbGlzZWNvbmRzPWV4aXN0aW5nRGF0ZS5nZXRNaWxsaXNlY29uZHMoKSksbmV3IERhdGUoeWVhciwwLGZpcnN0VGh1cnMuZ2V0RGF0ZSgpK2FkZERheXMsaG91cnMsbWludXRlcyxzZWNvbmRzLG1pbGxpc2Vjb25kcyl9fXJldHVybiAwLzB9ZnVuY3Rpb24gY3JlYXRlRGF0ZVBhcnNlcihyZWdleHAsbWFwcGluZyl7cmV0dXJuIGZ1bmN0aW9uKGlzbyxkYXRlKXt2YXIgcGFydHMsbWFwO2lmKGlzRGF0ZShpc28pKXJldHVybiBpc287aWYoaXNTdHJpbmcoaXNvKSl7aWYoJyInPT1pc28uY2hhckF0KDApJiYnIic9PWlzby5jaGFyQXQoaXNvLmxlbmd0aC0xKSYmKGlzbz1pc28uc3Vic3RyaW5nKDEsaXNvLmxlbmd0aC0xKSksSVNPX0RBVEVfUkVHRVhQLnRlc3QoaXNvKSlyZXR1cm4gbmV3IERhdGUoaXNvKTtpZihyZWdleHAubGFzdEluZGV4PTAscGFydHM9cmVnZXhwLmV4ZWMoaXNvKSlyZXR1cm4gcGFydHMuc2hpZnQoKSxtYXA9ZGF0ZT97eXl5eTpkYXRlLmdldEZ1bGxZZWFyKCksTU06ZGF0ZS5nZXRNb250aCgpKzEsZGQ6ZGF0ZS5nZXREYXRlKCksSEg6ZGF0ZS5nZXRIb3VycygpLG1tOmRhdGUuZ2V0TWludXRlcygpLHNzOmRhdGUuZ2V0U2Vjb25kcygpLHNzczpkYXRlLmdldE1pbGxpc2Vjb25kcygpLzFlM306e3l5eXk6MTk3MCxNTToxLGRkOjEsSEg6MCxtbTowLHNzOjAsc3NzOjB9LGZvckVhY2gocGFydHMsZnVuY3Rpb24ocGFydCxpbmRleCl7aW5kZXg8bWFwcGluZy5sZW5ndGgmJihtYXBbbWFwcGluZ1tpbmRleF1dPStwYXJ0KX0pLG5ldyBEYXRlKG1hcC55eXl5LG1hcC5NTS0xLG1hcC5kZCxtYXAuSEgsbWFwLm1tLG1hcC5zc3x8MCwxZTMqbWFwLnNzc3x8MCl9cmV0dXJuIDAvMH19ZnVuY3Rpb24gY3JlYXRlRGF0ZUlucHV0VHlwZSh0eXBlLHJlZ2V4cCxwYXJzZURhdGUsZm9ybWF0KXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIsJGZpbHRlcil7ZnVuY3Rpb24gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpe3JldHVybiBpc0RlZmluZWQodmFsKT9pc0RhdGUodmFsKT92YWw6cGFyc2VEYXRlKHZhbCk6dW5kZWZpbmVkfWJhZElucHV0Q2hlY2tlcihzY29wZSxlbGVtZW50LGF0dHIsY3RybCksYmFzZUlucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcik7dmFyIHByZXZpb3VzRGF0ZSx0aW1lem9uZT1jdHJsJiZjdHJsLiRvcHRpb25zJiZjdHJsLiRvcHRpb25zLnRpbWV6b25lO2lmKGN0cmwuJCRwYXJzZXJOYW1lPXR5cGUsY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtpZihjdHJsLiRpc0VtcHR5KHZhbHVlKSlyZXR1cm4gbnVsbDtpZihyZWdleHAudGVzdCh2YWx1ZSkpe3ZhciBwYXJzZWREYXRlPXBhcnNlRGF0ZSh2YWx1ZSxwcmV2aW91c0RhdGUpO3JldHVybiJVVEMiPT09dGltZXpvbmUmJnBhcnNlZERhdGUuc2V0TWludXRlcyhwYXJzZWREYXRlLmdldE1pbnV0ZXMoKS1wYXJzZWREYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpLHBhcnNlZERhdGV9cmV0dXJuIHVuZGVmaW5lZH0pLGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSl7aWYoIWN0cmwuJGlzRW1wdHkodmFsdWUpKXtpZighaXNEYXRlKHZhbHVlKSl0aHJvdyAkbmdNb2RlbE1pbkVycigiZGF0ZWZtdCIsIkV4cGVjdGVkIGB7MH1gIHRvIGJlIGEgZGF0ZSIsdmFsdWUpO2lmKHByZXZpb3VzRGF0ZT12YWx1ZSxwcmV2aW91c0RhdGUmJiJVVEMiPT09dGltZXpvbmUpe3ZhciB0aW1lem9uZU9mZnNldD02ZTQqcHJldmlvdXNEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7cHJldmlvdXNEYXRlPW5ldyBEYXRlKHByZXZpb3VzRGF0ZS5nZXRUaW1lKCkrdGltZXpvbmVPZmZzZXQpfXJldHVybiAkZmlsdGVyKCJkYXRlIikodmFsdWUsZm9ybWF0LHRpbWV6b25lKX1yZXR1cm4gcHJldmlvdXNEYXRlPW51bGwsIiJ9KSxpc0RlZmluZWQoYXR0ci5taW4pfHxhdHRyLm5nTWluKXt2YXIgbWluVmFsO2N0cmwuJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSl8fGlzVW5kZWZpbmVkKG1pblZhbCl8fHBhcnNlRGF0ZSh2YWx1ZSk+PW1pblZhbH0sYXR0ci4kb2JzZXJ2ZSgibWluIixmdW5jdGlvbih2YWwpe21pblZhbD1wYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCksY3RybC4kdmFsaWRhdGUoKX0pfWlmKGlzRGVmaW5lZChhdHRyLm1heCl8fGF0dHIubmdNYXgpe3ZhciBtYXhWYWw7Y3RybC4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKXx8aXNVbmRlZmluZWQobWF4VmFsKXx8cGFyc2VEYXRlKHZhbHVlKTw9bWF4VmFsfSxhdHRyLiRvYnNlcnZlKCJtYXgiLGZ1bmN0aW9uKHZhbCl7bWF4VmFsPXBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSxjdHJsLiR2YWxpZGF0ZSgpfSl9Y3RybC4kaXNFbXB0eT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIXZhbHVlfHx2YWx1ZS5nZXRUaW1lJiZ2YWx1ZS5nZXRUaW1lKCkhPT12YWx1ZS5nZXRUaW1lKCl9fX1mdW5jdGlvbiBiYWRJbnB1dENoZWNrZXIoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwpe3ZhciBub2RlPWVsZW1lbnRbMF0sbmF0aXZlVmFsaWRhdGlvbj1jdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycz1pc09iamVjdChub2RlLnZhbGlkaXR5KTtuYXRpdmVWYWxpZGF0aW9uJiZjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3ZhciB2YWxpZGl0eT1lbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpfHx7fTtyZXR1cm4gdmFsaWRpdHkuYmFkSW5wdXQmJiF2YWxpZGl0eS50eXBlTWlzbWF0Y2g/dW5kZWZpbmVkOnZhbHVlfSl9ZnVuY3Rpb24gbnVtYmVySW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXtpZihiYWRJbnB1dENoZWNrZXIoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwpLGJhc2VJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIpLGN0cmwuJCRwYXJzZXJOYW1lPSJudW1iZXIiLGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpP251bGw6TlVNQkVSX1JFR0VYUC50ZXN0KHZhbHVlKT9wYXJzZUZsb2F0KHZhbHVlKTp1bmRlZmluZWR9KSxjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe2lmKCFjdHJsLiRpc0VtcHR5KHZhbHVlKSl7aWYoIWlzTnVtYmVyKHZhbHVlKSl0aHJvdyAkbmdNb2RlbE1pbkVycigibnVtZm10IiwiRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBudW1iZXIiLHZhbHVlKTt2YWx1ZT12YWx1ZS50b1N0cmluZygpfXJldHVybiB2YWx1ZX0pLGF0dHIubWlufHxhdHRyLm5nTWluKXt2YXIgbWluVmFsO2N0cmwuJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSl8fGlzVW5kZWZpbmVkKG1pblZhbCl8fHZhbHVlPj1taW5WYWx9LGF0dHIuJG9ic2VydmUoIm1pbiIsZnVuY3Rpb24odmFsKXtpc0RlZmluZWQodmFsKSYmIWlzTnVtYmVyKHZhbCkmJih2YWw9cGFyc2VGbG9hdCh2YWwsMTApKSxtaW5WYWw9aXNOdW1iZXIodmFsKSYmIWlzTmFOKHZhbCk/dmFsOnVuZGVmaW5lZCxjdHJsLiR2YWxpZGF0ZSgpfSl9aWYoYXR0ci5tYXh8fGF0dHIubmdNYXgpe3ZhciBtYXhWYWw7Y3RybC4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKXx8aXNVbmRlZmluZWQobWF4VmFsKXx8bWF4VmFsPj12YWx1ZX0sYXR0ci4kb2JzZXJ2ZSgibWF4IixmdW5jdGlvbih2YWwpe2lzRGVmaW5lZCh2YWwpJiYhaXNOdW1iZXIodmFsKSYmKHZhbD1wYXJzZUZsb2F0KHZhbCwxMCkpLG1heFZhbD1pc051bWJlcih2YWwpJiYhaXNOYU4odmFsKT92YWw6dW5kZWZpbmVkLGN0cmwuJHZhbGlkYXRlKCl9KX19ZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXtiYXNlSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKSxzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKSxjdHJsLiQkcGFyc2VyTmFtZT0idXJsIixjdHJsLiR2YWxpZGF0b3JzLnVybD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpfHxVUkxfUkVHRVhQLnRlc3QodmFsdWUpfX1mdW5jdGlvbiBlbWFpbElucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcil7YmFzZUlucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlciksc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCksY3RybC4kJHBhcnNlck5hbWU9ImVtYWlsIixjdHJsLiR2YWxpZGF0b3JzLmVtYWlsPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSl8fEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKX19ZnVuY3Rpb24gcmFkaW9JbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwpe2lzVW5kZWZpbmVkKGF0dHIubmFtZSkmJmVsZW1lbnQuYXR0cigibmFtZSIsbmV4dFVpZCgpKTt2YXIgbGlzdGVuZXI9ZnVuY3Rpb24oZXYpe2VsZW1lbnRbMF0uY2hlY2tlZCYmY3RybC4kc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUsZXYmJmV2LnR5cGUpfTtlbGVtZW50Lm9uKCJjbGljayIsbGlzdGVuZXIpLGN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciB2YWx1ZT1hdHRyLnZhbHVlO2VsZW1lbnRbMF0uY2hlY2tlZD12YWx1ZT09Y3RybC4kdmlld1ZhbHVlfSxhdHRyLiRvYnNlcnZlKCJ2YWx1ZSIsY3RybC4kcmVuZGVyKX1mdW5jdGlvbiBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsY29udGV4dCxuYW1lLGV4cHJlc3Npb24sZmFsbGJhY2spe3ZhciBwYXJzZUZuO2lmKGlzRGVmaW5lZChleHByZXNzaW9uKSl7aWYocGFyc2VGbj0kcGFyc2UoZXhwcmVzc2lvbiksIXBhcnNlRm4uY29uc3RhbnQpdGhyb3cgbWluRXJyKCJuZ01vZGVsIikoImNvbnN0ZXhwciIsIkV4cGVjdGVkIGNvbnN0YW50IGV4cHJlc3Npb24gZm9yIGB7MH1gLCBidXQgc2F3IGB7MX1gLiIsbmFtZSxleHByZXNzaW9uKTtyZXR1cm4gcGFyc2VGbihjb250ZXh0KX1yZXR1cm4gZmFsbGJhY2t9ZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIsJGZpbHRlciwkcGFyc2Upe3ZhciB0cnVlVmFsdWU9cGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLHNjb3BlLCJuZ1RydWVWYWx1ZSIsYXR0ci5uZ1RydWVWYWx1ZSwhMCksZmFsc2VWYWx1ZT1wYXJzZUNvbnN0YW50RXhwcigkcGFyc2Usc2NvcGUsIm5nRmFsc2VWYWx1ZSIsYXR0ci5uZ0ZhbHNlVmFsdWUsITEpLGxpc3RlbmVyPWZ1bmN0aW9uKGV2KXtjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudFswXS5jaGVja2VkLGV2JiZldi50eXBlKX07ZWxlbWVudC5vbigiY2xpY2siLGxpc3RlbmVyKSxjdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtlbGVtZW50WzBdLmNoZWNrZWQ9Y3RybC4kdmlld1ZhbHVlfSxjdHJsLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUhPT10cnVlVmFsdWV9LGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGVxdWFscyh2YWx1ZSx0cnVlVmFsdWUpfSksY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU/dHJ1ZVZhbHVlOmZhbHNlVmFsdWV9KX1mdW5jdGlvbiBhZGRTZXRWYWxpZGl0eU1ldGhvZChjb250ZXh0KXtmdW5jdGlvbiBzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksc3RhdGUsb3B0aW9ucyl7c3RhdGU9PT11bmRlZmluZWQ/Y3JlYXRlQW5kU2V0KCIkcGVuZGluZyIsdmFsaWRhdGlvbkVycm9yS2V5LG9wdGlvbnMpOnVuc2V0QW5kQ2xlYW51cCgiJHBlbmRpbmciLHZhbGlkYXRpb25FcnJvcktleSxvcHRpb25zKSxpc0Jvb2xlYW4oc3RhdGUpP3N0YXRlPyh1bnNldChjdHJsLiRlcnJvcix2YWxpZGF0aW9uRXJyb3JLZXksb3B0aW9ucyksc2V0KGN0cmwuJCRzdWNjZXNzLHZhbGlkYXRpb25FcnJvcktleSxvcHRpb25zKSk6KHNldChjdHJsLiRlcnJvcix2YWxpZGF0aW9uRXJyb3JLZXksb3B0aW9ucyksdW5zZXQoY3RybC4kJHN1Y2Nlc3MsdmFsaWRhdGlvbkVycm9yS2V5LG9wdGlvbnMpKToodW5zZXQoY3RybC4kZXJyb3IsdmFsaWRhdGlvbkVycm9yS2V5LG9wdGlvbnMpLHVuc2V0KGN0cmwuJCRzdWNjZXNzLHZhbGlkYXRpb25FcnJvcktleSxvcHRpb25zKSksY3RybC4kcGVuZGluZz8oY2FjaGVkVG9nZ2xlQ2xhc3MoUEVORElOR19DTEFTUywhMCksY3RybC4kdmFsaWQ9Y3RybC4kaW52YWxpZD11bmRlZmluZWQsdG9nZ2xlVmFsaWRhdGlvbkNzcygiIixudWxsKSk6KGNhY2hlZFRvZ2dsZUNsYXNzKFBFTkRJTkdfQ0xBU1MsITEpLGN0cmwuJHZhbGlkPWlzT2JqZWN0RW1wdHkoY3RybC4kZXJyb3IpLGN0cmwuJGludmFsaWQ9IWN0cmwuJHZhbGlkLHRvZ2dsZVZhbGlkYXRpb25Dc3MoIiIsY3RybC4kdmFsaWQpKTt2YXIgY29tYmluZWRTdGF0ZTtjb21iaW5lZFN0YXRlPWN0cmwuJHBlbmRpbmcmJmN0cmwuJHBlbmRpbmdbdmFsaWRhdGlvbkVycm9yS2V5XT91bmRlZmluZWQ6Y3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XT8hMTpjdHJsLiQkc3VjY2Vzc1t2YWxpZGF0aW9uRXJyb3JLZXldPyEwOm51bGwsdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksY29tYmluZWRTdGF0ZSkscGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkodmFsaWRhdGlvbkVycm9yS2V5LGNvbWJpbmVkU3RhdGUsY3RybCl9ZnVuY3Rpb24gY3JlYXRlQW5kU2V0KG5hbWUsdmFsdWUsb3B0aW9ucyl7Y3RybFtuYW1lXXx8KGN0cmxbbmFtZV09e30pLHNldChjdHJsW25hbWVdLHZhbHVlLG9wdGlvbnMpfWZ1bmN0aW9uIHVuc2V0QW5kQ2xlYW51cChuYW1lLHZhbHVlLG9wdGlvbnMpe2N0cmxbbmFtZV0mJnVuc2V0KGN0cmxbbmFtZV0sdmFsdWUsb3B0aW9ucyksaXNPYmplY3RFbXB0eShjdHJsW25hbWVdKSYmKGN0cmxbbmFtZV09dW5kZWZpbmVkKX1mdW5jdGlvbiBjYWNoZWRUb2dnbGVDbGFzcyhjbGFzc05hbWUsc3dpdGNoVmFsdWUpe3N3aXRjaFZhbHVlJiYhY2xhc3NDYWNoZVtjbGFzc05hbWVdPygkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCxjbGFzc05hbWUpLGNsYXNzQ2FjaGVbY2xhc3NOYW1lXT0hMCk6IXN3aXRjaFZhbHVlJiZjbGFzc0NhY2hlW2NsYXNzTmFtZV0mJigkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCxjbGFzc05hbWUpLGNsYXNzQ2FjaGVbY2xhc3NOYW1lXT0hMSl9ZnVuY3Rpb24gdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksaXNWYWxpZCl7dmFsaWRhdGlvbkVycm9yS2V5PXZhbGlkYXRpb25FcnJvcktleT8iLSIrc25ha2VfY2FzZSh2YWxpZGF0aW9uRXJyb3JLZXksIi0iKToiIixjYWNoZWRUb2dnbGVDbGFzcyhWQUxJRF9DTEFTUyt2YWxpZGF0aW9uRXJyb3JLZXksaXNWYWxpZD09PSEwKSxjYWNoZWRUb2dnbGVDbGFzcyhJTlZBTElEX0NMQVNTK3ZhbGlkYXRpb25FcnJvcktleSxpc1ZhbGlkPT09ITEpfXZhciBjdHJsPWNvbnRleHQuY3RybCwkZWxlbWVudD1jb250ZXh0LiRlbGVtZW50LGNsYXNzQ2FjaGU9e30sc2V0PWNvbnRleHQuc2V0LHVuc2V0PWNvbnRleHQudW5zZXQscGFyZW50Rm9ybT1jb250ZXh0LnBhcmVudEZvcm0sJGFuaW1hdGU9Y29udGV4dC4kYW5pbWF0ZTtjbGFzc0NhY2hlW0lOVkFMSURfQ0xBU1NdPSEoY2xhc3NDYWNoZVtWQUxJRF9DTEFTU109JGVsZW1lbnQuaGFzQ2xhc3MoVkFMSURfQ0xBU1MpKSxjdHJsLiRzZXRWYWxpZGl0eT1zZXRWYWxpZGl0eX1mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iail7aWYob2JqKWZvcih2YXIgcHJvcCBpbiBvYmopcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gY2xhc3NEaXJlY3RpdmUobmFtZSxzZWxlY3Rvcil7cmV0dXJuIG5hbWU9Im5nQ2xhc3MiK25hbWUsWyIkYW5pbWF0ZSIsZnVuY3Rpb24oJGFuaW1hdGUpe2Z1bmN0aW9uIGFycmF5RGlmZmVyZW5jZSh0b2tlbnMxLHRva2VuczIpe3ZhciB2YWx1ZXM9W107b3V0ZXI6Zm9yKHZhciBpPTA7aTx0b2tlbnMxLmxlbmd0aDtpKyspe2Zvcih2YXIgdG9rZW49dG9rZW5zMVtpXSxqPTA7ajx0b2tlbnMyLmxlbmd0aDtqKyspaWYodG9rZW49PXRva2VuczJbal0pY29udGludWUgb3V0ZXI7dmFsdWVzLnB1c2godG9rZW4pfXJldHVybiB2YWx1ZXN9ZnVuY3Rpb24gYXJyYXlDbGFzc2VzKGNsYXNzVmFsKXtpZihpc0FycmF5KGNsYXNzVmFsKSlyZXR1cm4gY2xhc3NWYWw7aWYoaXNTdHJpbmcoY2xhc3NWYWwpKXJldHVybiBjbGFzc1ZhbC5zcGxpdCgiICIpO2lmKGlzT2JqZWN0KGNsYXNzVmFsKSl7dmFyIGNsYXNzZXM9W107cmV0dXJuIGZvckVhY2goY2xhc3NWYWwsZnVuY3Rpb24odixrKXt2JiYoY2xhc3Nlcz1jbGFzc2VzLmNvbmNhdChrLnNwbGl0KCIgIikpKX0pLGNsYXNzZXN9cmV0dXJuIGNsYXNzVmFsfXJldHVybntyZXN0cmljdDoiQUMiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtmdW5jdGlvbiBhZGRDbGFzc2VzKGNsYXNzZXMpe3ZhciBuZXdDbGFzc2VzPWRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsMSk7YXR0ci4kYWRkQ2xhc3MobmV3Q2xhc3Nlcyl9ZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcyhjbGFzc2VzKXt2YXIgbmV3Q2xhc3Nlcz1kaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLC0xKTthdHRyLiRyZW1vdmVDbGFzcyhuZXdDbGFzc2VzKX1mdW5jdGlvbiBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLGNvdW50KXt2YXIgY2xhc3NDb3VudHM9ZWxlbWVudC5kYXRhKCIkY2xhc3NDb3VudHMiKXx8e30sY2xhc3Nlc1RvVXBkYXRlPVtdO3JldHVybiBmb3JFYWNoKGNsYXNzZXMsZnVuY3Rpb24oY2xhc3NOYW1lKXsoY291bnQ+MHx8Y2xhc3NDb3VudHNbY2xhc3NOYW1lXSkmJihjbGFzc0NvdW50c1tjbGFzc05hbWVdPShjbGFzc0NvdW50c1tjbGFzc05hbWVdfHwwKStjb3VudCxjbGFzc0NvdW50c1tjbGFzc05hbWVdPT09Kyhjb3VudD4wKSYmY2xhc3Nlc1RvVXBkYXRlLnB1c2goY2xhc3NOYW1lKSl9KSxlbGVtZW50LmRhdGEoIiRjbGFzc0NvdW50cyIsY2xhc3NDb3VudHMpLGNsYXNzZXNUb1VwZGF0ZS5qb2luKCIgIil9ZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLG5ld0NsYXNzZXMpe3ZhciB0b0FkZD1hcnJheURpZmZlcmVuY2UobmV3Q2xhc3NlcyxvbGRDbGFzc2VzKSx0b1JlbW92ZT1hcnJheURpZmZlcmVuY2Uob2xkQ2xhc3NlcyxuZXdDbGFzc2VzKTt0b0FkZD1kaWdlc3RDbGFzc0NvdW50cyh0b0FkZCwxKSx0b1JlbW92ZT1kaWdlc3RDbGFzc0NvdW50cyh0b1JlbW92ZSwtMSksdG9BZGQmJnRvQWRkLmxlbmd0aCYmJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCx0b0FkZCksdG9SZW1vdmUmJnRvUmVtb3ZlLmxlbmd0aCYmJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCx0b1JlbW92ZSl9ZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld1ZhbCl7aWYoc2VsZWN0b3I9PT0hMHx8c2NvcGUuJGluZGV4JTI9PT1zZWxlY3Rvcil7dmFyIG5ld0NsYXNzZXM9YXJyYXlDbGFzc2VzKG5ld1ZhbHx8W10pO2lmKG9sZFZhbCl7aWYoIWVxdWFscyhuZXdWYWwsb2xkVmFsKSl7dmFyIG9sZENsYXNzZXM9YXJyYXlDbGFzc2VzKG9sZFZhbCk7dXBkYXRlQ2xhc3NlcyhvbGRDbGFzc2VzLG5ld0NsYXNzZXMpfX1lbHNlIGFkZENsYXNzZXMobmV3Q2xhc3Nlcyl9b2xkVmFsPXNoYWxsb3dDb3B5KG5ld1ZhbCl9dmFyIG9sZFZhbDtzY29wZS4kd2F0Y2goYXR0cltuYW1lXSxuZ0NsYXNzV2F0Y2hBY3Rpb24sITApLGF0dHIuJG9ic2VydmUoImNsYXNzIixmdW5jdGlvbigpe25nQ2xhc3NXYXRjaEFjdGlvbihzY29wZS4kZXZhbChhdHRyW25hbWVdKSl9KSwibmdDbGFzcyIhPT1uYW1lJiZzY29wZS4kd2F0Y2goIiRpbmRleCIsZnVuY3Rpb24oJGluZGV4LG9sZCRpbmRleCl7dmFyIG1vZD0xJiRpbmRleDtpZihtb2QhPT0oMSZvbGQkaW5kZXgpKXt2YXIgY2xhc3Nlcz1hcnJheUNsYXNzZXMoc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO21vZD09PXNlbGVjdG9yP2FkZENsYXNzZXMoY2xhc3Nlcyk6cmVtb3ZlQ2xhc3NlcyhjbGFzc2VzKX19KX19fV19dmFyIFJFR0VYX1NUUklOR19SRUdFWFA9L15cLyguKylcLyhbYS16XSopJC8sVkFMSURJVFlfU1RBVEVfUFJPUEVSVFk9InZhbGlkaXR5Iixsb3dlcmNhc2U9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKT9zdHJpbmcudG9Mb3dlckNhc2UoKTpzdHJpbmd9LGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdXBwZXJjYXNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIGlzU3RyaW5nKHN0cmluZyk/c3RyaW5nLnRvVXBwZXJDYXNlKCk6c3RyaW5nfSxtYW51YWxMb3dlcmNhc2U9ZnVuY3Rpb24ocyl7cmV0dXJuIGlzU3RyaW5nKHMpP3MucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihjaCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMzJ8Y2guY2hhckNvZGVBdCgwKSl9KTpzfSxtYW51YWxVcHBlcmNhc2U9ZnVuY3Rpb24ocyl7cmV0dXJuIGlzU3RyaW5nKHMpP3MucmVwbGFjZSgvW2Etel0vZyxmdW5jdGlvbihjaCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLTMzJmNoLmNoYXJDb2RlQXQoMCkpfSk6c307ImkiIT09IkkiLnRvTG93ZXJDYXNlKCkmJihsb3dlcmNhc2U9bWFudWFsTG93ZXJjYXNlLHVwcGVyY2FzZT1tYW51YWxVcHBlcmNhc2UpO3ZhciBtc2llLGpxTGl0ZSxqUXVlcnksYW5ndWxhck1vZHVsZSxzbGljZT1bXS5zbGljZSxzcGxpY2U9W10uc3BsaWNlLHB1c2g9W10ucHVzaCx0b1N0cmluZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLG5nTWluRXJyPW1pbkVycigibmciKSxhbmd1bGFyPXdpbmRvdy5hbmd1bGFyfHwod2luZG93LmFuZ3VsYXI9e30pLHVpZD0wO21zaWU9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLG5vb3AuJGluamVjdD1bXSxpZGVudGl0eS4kaW5qZWN0PVtdO3ZhciBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSxpc0FycmF5PUFycmF5LmlzQXJyYXksdHJpbT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzU3RyaW5nKHZhbHVlKT92YWx1ZS50cmltKCk6dmFsdWV9LGNzcD1mdW5jdGlvbigpe2lmKGlzRGVmaW5lZChjc3AuaXNBY3RpdmVfKSlyZXR1cm4gY3NwLmlzQWN0aXZlXzt2YXIgYWN0aXZlPSEoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltuZy1jc3BdIikmJiFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbZGF0YS1uZy1jc3BdIikpO2lmKCFhY3RpdmUpdHJ5e25ldyBGdW5jdGlvbigiIil9Y2F0Y2goZSl7YWN0aXZlPSEwfXJldHVybiBjc3AuaXNBY3RpdmVfPWFjdGl2ZX0sbmdBdHRyUHJlZml4ZXM9WyJuZy0iLCJkYXRhLW5nLSIsIm5nOiIsIngtbmctIl0sU05BS0VfQ0FTRV9SRUdFWFA9L1tBLVpdL2csYmluZEpRdWVyeUZpcmVkPSExLE5PREVfVFlQRV9FTEVNRU5UPTEsTk9ERV9UWVBFX1RFWFQ9MyxOT0RFX1RZUEVfQ09NTUVOVD04LE5PREVfVFlQRV9ET0NVTUVOVD05LE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVD0xMSx2ZXJzaW9uPXtmdWxsOiIxLjMuMCIsbWFqb3I6MSxtaW5vcjozLGRvdDowLGNvZGVOYW1lOiJzdXBlcmx1bWluYWwtbnVkZ2UifTtKUUxpdGUuZXhwYW5kbz0ibmczMzkiO3ZhciBqcUNhY2hlPUpRTGl0ZS5jYWNoZT17fSxqcUlkPTEsYWRkRXZlbnRMaXN0ZW5lckZuPWZ1bmN0aW9uKGVsZW1lbnQsdHlwZSxmbil7ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsZm4sITEpfSxyZW1vdmVFdmVudExpc3RlbmVyRm49ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSxmbiwhMSl9O0pRTGl0ZS5fZGF0YT1mdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5jYWNoZVtub2RlW3RoaXMuZXhwYW5kb11dfHx7fX07dmFyIFNQRUNJQUxfQ0hBUlNfUkVHRVhQPS8oW1w6XC1cX10rKC4pKS9nLE1PWl9IQUNLX1JFR0VYUD0vXm1veihbQS1aXSkvLE1PVVNFX0VWRU5UX01BUD17bW91c2VsZWF2ZToibW91c2VvdXQiLG1vdXNlZW50ZXI6Im1vdXNlb3ZlciJ9LGpxTGl0ZU1pbkVycj1taW5FcnIoImpxTGl0ZSIpLFNJTkdMRV9UQUdfUkVHRVhQPS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sSFRNTF9SRUdFWFA9Lzx8JiM/XHcrOy8sVEFHX05BTUVfUkVHRVhQPS88KFtcdzpdKykvLFhIVE1MX1RBR19SRUdFWFA9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSx3cmFwTWFwPXtvcHRpb246WzEsJzxzZWxlY3QgbXVsdGlwbGU9Im11bHRpcGxlIj4nLCI8L3NlbGVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07d3JhcE1hcC5vcHRncm91cD13cmFwTWFwLm9wdGlvbix3cmFwTWFwLnRib2R5PXdyYXBNYXAudGZvb3Q9d3JhcE1hcC5jb2xncm91cD13cmFwTWFwLmNhcHRpb249d3JhcE1hcC50aGVhZCx3cmFwTWFwLnRoPXdyYXBNYXAudGQ7dmFyIEpRTGl0ZVByb3RvdHlwZT1KUUxpdGUucHJvdG90eXBlPXtyZWFkeTpmdW5jdGlvbihmbil7ZnVuY3Rpb24gdHJpZ2dlcigpe2ZpcmVkfHwoZmlyZWQ9ITAsZm4oKSl9dmFyIGZpcmVkPSExOyJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP3NldFRpbWVvdXQodHJpZ2dlcik6KHRoaXMub24oIkRPTUNvbnRlbnRMb2FkZWQiLHRyaWdnZXIpLEpRTGl0ZSh3aW5kb3cpLm9uKCJsb2FkIix0cmlnZ2VyKSx0aGlzLm9uKCJET01Db250ZW50TG9hZGVkIix0cmlnZ2VyKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHZhbHVlPVtdO3JldHVybiBmb3JFYWNoKHRoaXMsZnVuY3Rpb24oZSl7dmFsdWUucHVzaCgiIitlKX0pLCJbIit2YWx1ZS5qb2luKCIsICIpKyJdIn0sZXE6ZnVuY3Rpb24oaW5kZXgpe3JldHVybiBqcUxpdGUoaW5kZXg+PTA/dGhpc1tpbmRleF06dGhpc1t0aGlzLmxlbmd0aCtpbmRleF0pfSxsZW5ndGg6MCxwdXNoOnB1c2gsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LEJPT0xFQU5fQVRUUj17fTtmb3JFYWNoKCJtdWx0aXBsZSxzZWxlY3RlZCxjaGVja2VkLGRpc2FibGVkLHJlYWRPbmx5LHJlcXVpcmVkLG9wZW4iLnNwbGl0KCIsIiksZnVuY3Rpb24odmFsdWUpe0JPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXT12YWx1ZX0pO3ZhciBCT09MRUFOX0VMRU1FTlRTPXt9O2ZvckVhY2goImlucHV0LHNlbGVjdCxvcHRpb24sdGV4dGFyZWEsYnV0dG9uLGZvcm0sZGV0YWlscyIuc3BsaXQoIiwiKSxmdW5jdGlvbih2YWx1ZSl7Qk9PTEVBTl9FTEVNRU5UU1t2YWx1ZV09ITB9KTt2YXIgQUxJQVNFRF9BVFRSPXtuZ01pbmxlbmd0aDoibWlubGVuZ3RoIixuZ01heGxlbmd0aDoibWF4bGVuZ3RoIixuZ01pbjoibWluIixuZ01heDoibWF4IixuZ1BhdHRlcm46InBhdHRlcm4ifTtmb3JFYWNoKHtkYXRhOmpxTGl0ZURhdGEscmVtb3ZlRGF0YTpqcUxpdGVSZW1vdmVEYXRhfSxmdW5jdGlvbihmbixuYW1lKXtKUUxpdGVbbmFtZV09Zm59KSxmb3JFYWNoKHtkYXRhOmpxTGl0ZURhdGEsaW5oZXJpdGVkRGF0YTpqcUxpdGVJbmhlcml0ZWREYXRhLHNjb3BlOmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCIkc2NvcGUiKXx8anFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LnBhcmVudE5vZGV8fGVsZW1lbnQsWyIkaXNvbGF0ZVNjb3BlIiwiJHNjb3BlIl0pfSxpc29sYXRlU2NvcGU6ZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsIiRpc29sYXRlU2NvcGUiKXx8anFMaXRlLmRhdGEoZWxlbWVudCwiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUiKX0sY29udHJvbGxlcjpqcUxpdGVDb250cm9sbGVyLGluamVjdG9yOmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsIiRpbmplY3RvciIpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSl7ZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSl9LGhhc0NsYXNzOmpxTGl0ZUhhc0NsYXNzLGNzczpmdW5jdGlvbihlbGVtZW50LG5hbWUsdmFsdWUpe3JldHVybiBuYW1lPWNhbWVsQ2FzZShuYW1lKSxpc0RlZmluZWQodmFsdWUpP3ZvaWQoZWxlbWVudC5zdHlsZVtuYW1lXT12YWx1ZSk6ZWxlbWVudC5zdHlsZVtuYW1lXX0sYXR0cjpmdW5jdGlvbihlbGVtZW50LG5hbWUsdmFsdWUpe3ZhciBsb3dlcmNhc2VkTmFtZT1sb3dlcmNhc2UobmFtZSk7aWYoQk9PTEVBTl9BVFRSW2xvd2VyY2FzZWROYW1lXSl7aWYoIWlzRGVmaW5lZCh2YWx1ZSkpcmV0dXJuIGVsZW1lbnRbbmFtZV18fChlbGVtZW50LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKG5hbWUpfHxub29wKS5zcGVjaWZpZWQ/bG93ZXJjYXNlZE5hbWU6dW5kZWZpbmVkOwp2YWx1ZT8oZWxlbWVudFtuYW1lXT0hMCxlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLGxvd2VyY2FzZWROYW1lKSk6KGVsZW1lbnRbbmFtZV09ITEsZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobG93ZXJjYXNlZE5hbWUpKX1lbHNlIGlmKGlzRGVmaW5lZCh2YWx1ZSkpZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSx2YWx1ZSk7ZWxzZSBpZihlbGVtZW50LmdldEF0dHJpYnV0ZSl7dmFyIHJldD1lbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lLDIpO3JldHVybiBudWxsPT09cmV0P3VuZGVmaW5lZDpyZXR9fSxwcm9wOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSx2YWx1ZSl7cmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSk/dm9pZChlbGVtZW50W25hbWVdPXZhbHVlKTplbGVtZW50W25hbWVdfSx0ZXh0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZ2V0VGV4dChlbGVtZW50LHZhbHVlKXtpZihpc1VuZGVmaW5lZCh2YWx1ZSkpe3ZhciBub2RlVHlwZT1lbGVtZW50Lm5vZGVUeXBlO3JldHVybiBub2RlVHlwZT09PU5PREVfVFlQRV9FTEVNRU5UfHxub2RlVHlwZT09PU5PREVfVFlQRV9URVhUP2VsZW1lbnQudGV4dENvbnRlbnQ6IiJ9ZWxlbWVudC50ZXh0Q29udGVudD12YWx1ZX1yZXR1cm4gZ2V0VGV4dC4kZHY9IiIsZ2V0VGV4dH0oKSx2YWw6ZnVuY3Rpb24oZWxlbWVudCx2YWx1ZSl7aWYoaXNVbmRlZmluZWQodmFsdWUpKXtpZihlbGVtZW50Lm11bHRpcGxlJiYic2VsZWN0Ij09PW5vZGVOYW1lXyhlbGVtZW50KSl7dmFyIHJlc3VsdD1bXTtyZXR1cm4gZm9yRWFjaChlbGVtZW50Lm9wdGlvbnMsZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQmJnJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZXx8b3B0aW9uLnRleHQpfSksMD09PXJlc3VsdC5sZW5ndGg/bnVsbDpyZXN1bHR9cmV0dXJuIGVsZW1lbnQudmFsdWV9ZWxlbWVudC52YWx1ZT12YWx1ZX0saHRtbDpmdW5jdGlvbihlbGVtZW50LHZhbHVlKXtyZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpP2VsZW1lbnQuaW5uZXJIVE1MOihqcUxpdGVEZWFsb2MoZWxlbWVudCwhMCksdm9pZChlbGVtZW50LmlubmVySFRNTD12YWx1ZSkpfSxlbXB0eTpqcUxpdGVFbXB0eX0sZnVuY3Rpb24oZm4sbmFtZSl7SlFMaXRlLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbihhcmcxLGFyZzIpe3ZhciBpLGtleSxub2RlQ291bnQ9dGhpcy5sZW5ndGg7aWYoZm4hPT1qcUxpdGVFbXB0eSYmKDI9PWZuLmxlbmd0aCYmZm4hPT1qcUxpdGVIYXNDbGFzcyYmZm4hPT1qcUxpdGVDb250cm9sbGVyP2FyZzE6YXJnMik9PT11bmRlZmluZWQpe2lmKGlzT2JqZWN0KGFyZzEpKXtmb3IoaT0wO25vZGVDb3VudD5pO2krKylpZihmbj09PWpxTGl0ZURhdGEpZm4odGhpc1tpXSxhcmcxKTtlbHNlIGZvcihrZXkgaW4gYXJnMSlmbih0aGlzW2ldLGtleSxhcmcxW2tleV0pO3JldHVybiB0aGlzfWZvcih2YXIgdmFsdWU9Zm4uJGR2LGpqPXZhbHVlPT09dW5kZWZpbmVkP01hdGgubWluKG5vZGVDb3VudCwxKTpub2RlQ291bnQsaj0wO2pqPmo7aisrKXt2YXIgbm9kZVZhbHVlPWZuKHRoaXNbal0sYXJnMSxhcmcyKTt2YWx1ZT12YWx1ZT92YWx1ZStub2RlVmFsdWU6bm9kZVZhbHVlfXJldHVybiB2YWx1ZX1mb3IoaT0wO25vZGVDb3VudD5pO2krKylmbih0aGlzW2ldLGFyZzEsYXJnMik7cmV0dXJuIHRoaXN9fSksZm9yRWFjaCh7cmVtb3ZlRGF0YTpqcUxpdGVSZW1vdmVEYXRhLG9uOmZ1bmN0aW9uIGpxTGl0ZU9uKGVsZW1lbnQsdHlwZSxmbix1bnN1cHBvcnRlZCl7aWYoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSl0aHJvdyBqcUxpdGVNaW5FcnIoIm9uYXJncyIsImpxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycyIpO2lmKGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKXt2YXIgZXhwYW5kb1N0b3JlPWpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCEwKSxldmVudHM9ZXhwYW5kb1N0b3JlLmV2ZW50cyxoYW5kbGU9ZXhwYW5kb1N0b3JlLmhhbmRsZTtoYW5kbGV8fChoYW5kbGU9ZXhwYW5kb1N0b3JlLmhhbmRsZT1jcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCxldmVudHMpKTtmb3IodmFyIHR5cGVzPXR5cGUuaW5kZXhPZigiICIpPj0wP3R5cGUuc3BsaXQoIiAiKTpbdHlwZV0saT10eXBlcy5sZW5ndGg7aS0tOyl7dHlwZT10eXBlc1tpXTt2YXIgZXZlbnRGbnM9ZXZlbnRzW3R5cGVdO2V2ZW50Rm5zfHwoZXZlbnRzW3R5cGVdPVtdLCJtb3VzZWVudGVyIj09PXR5cGV8fCJtb3VzZWxlYXZlIj09PXR5cGU/anFMaXRlT24oZWxlbWVudCxNT1VTRV9FVkVOVF9NQVBbdHlwZV0sZnVuY3Rpb24oZXZlbnQpe3ZhciB0YXJnZXQ9dGhpcyxyZWxhdGVkPWV2ZW50LnJlbGF0ZWRUYXJnZXQ7KCFyZWxhdGVkfHxyZWxhdGVkIT09dGFyZ2V0JiYhdGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWQpKSYmaGFuZGxlKGV2ZW50LHR5cGUpfSk6IiRkZXN0cm95IiE9PXR5cGUmJmFkZEV2ZW50TGlzdGVuZXJGbihlbGVtZW50LHR5cGUsaGFuZGxlKSxldmVudEZucz1ldmVudHNbdHlwZV0pLGV2ZW50Rm5zLnB1c2goZm4pfX19LG9mZjpqcUxpdGVPZmYsb25lOmZ1bmN0aW9uKGVsZW1lbnQsdHlwZSxmbil7ZWxlbWVudD1qcUxpdGUoZWxlbWVudCksZWxlbWVudC5vbih0eXBlLGZ1bmN0aW9uIG9uRm4oKXtlbGVtZW50Lm9mZih0eXBlLGZuKSxlbGVtZW50Lm9mZih0eXBlLG9uRm4pfSksZWxlbWVudC5vbih0eXBlLGZuKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oZWxlbWVudCxyZXBsYWNlTm9kZSl7dmFyIGluZGV4LHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7anFMaXRlRGVhbG9jKGVsZW1lbnQpLGZvckVhY2gobmV3IEpRTGl0ZShyZXBsYWNlTm9kZSksZnVuY3Rpb24obm9kZSl7aW5kZXg/cGFyZW50Lmluc2VydEJlZm9yZShub2RlLGluZGV4Lm5leHRTaWJsaW5nKTpwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsZWxlbWVudCksaW5kZXg9bm9kZX0pfSxjaGlsZHJlbjpmdW5jdGlvbihlbGVtZW50KXt2YXIgY2hpbGRyZW49W107cmV0dXJuIGZvckVhY2goZWxlbWVudC5jaGlsZE5vZGVzLGZ1bmN0aW9uKGVsZW1lbnQpe2VsZW1lbnQubm9kZVR5cGU9PT1OT0RFX1RZUEVfRUxFTUVOVCYmY2hpbGRyZW4ucHVzaChlbGVtZW50KX0pLGNoaWxkcmVufSxjb250ZW50czpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnR8fGVsZW1lbnQuY2hpbGROb2Rlc3x8W119LGFwcGVuZDpmdW5jdGlvbihlbGVtZW50LG5vZGUpe3ZhciBub2RlVHlwZT1lbGVtZW50Lm5vZGVUeXBlO2lmKG5vZGVUeXBlPT09Tk9ERV9UWVBFX0VMRU1FTlR8fG5vZGVUeXBlPT09Tk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKXtub2RlPW5ldyBKUUxpdGUobm9kZSk7Zm9yKHZhciBpPTAsaWk9bm9kZS5sZW5ndGg7aWk+aTtpKyspe3ZhciBjaGlsZD1ub2RlW2ldO2VsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpfX19LHByZXBlbmQ6ZnVuY3Rpb24oZWxlbWVudCxub2RlKXtpZihlbGVtZW50Lm5vZGVUeXBlPT09Tk9ERV9UWVBFX0VMRU1FTlQpe3ZhciBpbmRleD1lbGVtZW50LmZpcnN0Q2hpbGQ7Zm9yRWFjaChuZXcgSlFMaXRlKG5vZGUpLGZ1bmN0aW9uKGNoaWxkKXtlbGVtZW50Lmluc2VydEJlZm9yZShjaGlsZCxpbmRleCl9KX19LHdyYXA6ZnVuY3Rpb24oZWxlbWVudCx3cmFwTm9kZSl7d3JhcE5vZGU9anFMaXRlKHdyYXBOb2RlKS5lcSgwKS5jbG9uZSgpWzBdO3ZhciBwYXJlbnQ9ZWxlbWVudC5wYXJlbnROb2RlO3BhcmVudCYmcGFyZW50LnJlcGxhY2VDaGlsZCh3cmFwTm9kZSxlbGVtZW50KSx3cmFwTm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KX0scmVtb3ZlOmpxTGl0ZVJlbW92ZSxkZXRhY2g6ZnVuY3Rpb24oZWxlbWVudCl7anFMaXRlUmVtb3ZlKGVsZW1lbnQsITApfSxhZnRlcjpmdW5jdGlvbihlbGVtZW50LG5ld0VsZW1lbnQpe3ZhciBpbmRleD1lbGVtZW50LHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7bmV3RWxlbWVudD1uZXcgSlFMaXRlKG5ld0VsZW1lbnQpO2Zvcih2YXIgaT0wLGlpPW5ld0VsZW1lbnQubGVuZ3RoO2lpPmk7aSsrKXt2YXIgbm9kZT1uZXdFbGVtZW50W2ldO3BhcmVudC5pbnNlcnRCZWZvcmUobm9kZSxpbmRleC5uZXh0U2libGluZyksaW5kZXg9bm9kZX19LGFkZENsYXNzOmpxTGl0ZUFkZENsYXNzLHJlbW92ZUNsYXNzOmpxTGl0ZVJlbW92ZUNsYXNzLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsc2VsZWN0b3IsY29uZGl0aW9uKXtzZWxlY3RvciYmZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgiICIpLGZ1bmN0aW9uKGNsYXNzTmFtZSl7dmFyIGNsYXNzQ29uZGl0aW9uPWNvbmRpdGlvbjtpc1VuZGVmaW5lZChjbGFzc0NvbmRpdGlvbikmJihjbGFzc0NvbmRpdGlvbj0hanFMaXRlSGFzQ2xhc3MoZWxlbWVudCxjbGFzc05hbWUpKSwoY2xhc3NDb25kaXRpb24/anFMaXRlQWRkQ2xhc3M6anFMaXRlUmVtb3ZlQ2xhc3MpKGVsZW1lbnQsY2xhc3NOYW1lKX0pfSxwYXJlbnQ6ZnVuY3Rpb24oZWxlbWVudCl7dmFyIHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7cmV0dXJuIHBhcmVudCYmcGFyZW50Lm5vZGVUeXBlIT09Tk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UP3BhcmVudDpudWxsfSxuZXh0OmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZ30sZmluZDpmdW5jdGlvbihlbGVtZW50LHNlbGVjdG9yKXtyZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZT9lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKTpbXX0sY2xvbmU6anFMaXRlQ2xvbmUsdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZWxlbWVudCxldmVudCxleHRyYVBhcmFtZXRlcnMpe3ZhciBkdW1teUV2ZW50LGV2ZW50Rm5zQ29weSxoYW5kbGVyQXJncyxldmVudE5hbWU9ZXZlbnQudHlwZXx8ZXZlbnQsZXhwYW5kb1N0b3JlPWpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KSxldmVudHM9ZXhwYW5kb1N0b3JlJiZleHBhbmRvU3RvcmUuZXZlbnRzLGV2ZW50Rm5zPWV2ZW50cyYmZXZlbnRzW2V2ZW50TmFtZV07ZXZlbnRGbnMmJihkdW1teUV2ZW50PXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0saXNEZWZhdWx0UHJldmVudGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFByZXZlbnRlZD09PSEwfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMH0saXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9PT0hMH0sc3RvcFByb3BhZ2F0aW9uOm5vb3AsdHlwZTpldmVudE5hbWUsdGFyZ2V0OmVsZW1lbnR9LGV2ZW50LnR5cGUmJihkdW1teUV2ZW50PWV4dGVuZChkdW1teUV2ZW50LGV2ZW50KSksZXZlbnRGbnNDb3B5PXNoYWxsb3dDb3B5KGV2ZW50Rm5zKSxoYW5kbGVyQXJncz1leHRyYVBhcmFtZXRlcnM/W2R1bW15RXZlbnRdLmNvbmNhdChleHRyYVBhcmFtZXRlcnMpOltkdW1teUV2ZW50XSxmb3JFYWNoKGV2ZW50Rm5zQ29weSxmdW5jdGlvbihmbil7ZHVtbXlFdmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxmbi5hcHBseShlbGVtZW50LGhhbmRsZXJBcmdzKX0pKX19LGZ1bmN0aW9uKGZuLG5hbWUpe0pRTGl0ZS5wcm90b3R5cGVbbmFtZV09ZnVuY3Rpb24oYXJnMSxhcmcyLGFyZzMpe2Zvcih2YXIgdmFsdWUsaT0wLGlpPXRoaXMubGVuZ3RoO2lpPmk7aSsrKWlzVW5kZWZpbmVkKHZhbHVlKT8odmFsdWU9Zm4odGhpc1tpXSxhcmcxLGFyZzIsYXJnMyksaXNEZWZpbmVkKHZhbHVlKSYmKHZhbHVlPWpxTGl0ZSh2YWx1ZSkpKTpqcUxpdGVBZGROb2Rlcyh2YWx1ZSxmbih0aGlzW2ldLGFyZzEsYXJnMixhcmczKSk7cmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSk/dmFsdWU6dGhpc30sSlFMaXRlLnByb3RvdHlwZS5iaW5kPUpRTGl0ZS5wcm90b3R5cGUub24sSlFMaXRlLnByb3RvdHlwZS51bmJpbmQ9SlFMaXRlLnByb3RvdHlwZS5vZmZ9KSxIYXNoTWFwLnByb3RvdHlwZT17cHV0OmZ1bmN0aW9uKGtleSx2YWx1ZSl7dGhpc1toYXNoS2V5KGtleSx0aGlzLm5leHRVaWQpXT12YWx1ZX0sZ2V0OmZ1bmN0aW9uKGtleSl7cmV0dXJuIHRoaXNbaGFzaEtleShrZXksdGhpcy5uZXh0VWlkKV19LHJlbW92ZTpmdW5jdGlvbihrZXkpe3ZhciB2YWx1ZT10aGlzW2tleT1oYXNoS2V5KGtleSx0aGlzLm5leHRVaWQpXTtyZXR1cm4gZGVsZXRlIHRoaXNba2V5XSx2YWx1ZX19O3ZhciBGTl9BUkdTPS9eZnVuY3Rpb25ccypbXlwoXSpcKFxzKihbXlwpXSopXCkvbSxGTl9BUkdfU1BMSVQ9LywvLEZOX0FSRz0vXlxzKihfPykoXFMrPylcMVxzKiQvLFNUUklQX0NPTU1FTlRTPS8oKFwvXC8uKiQpfChcL1wqW1xzXFNdKj9cKlwvKSkvZ20sJGluamVjdG9yTWluRXJyPW1pbkVycigiJGluamVjdG9yIik7Y3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZT1hbm5vdGF0ZTt2YXIgJGFuaW1hdGVNaW5FcnI9bWluRXJyKCIkYW5pbWF0ZSIpLCRBbmltYXRlUHJvdmlkZXI9WyIkcHJvdmlkZSIsZnVuY3Rpb24oJHByb3ZpZGUpe3RoaXMuJCRzZWxlY3RvcnM9e30sdGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihuYW1lLGZhY3Rvcnkpe3ZhciBrZXk9bmFtZSsiLWFuaW1hdGlvbiI7aWYobmFtZSYmIi4iIT1uYW1lLmNoYXJBdCgwKSl0aHJvdyAkYW5pbWF0ZU1pbkVycigibm90Y3NlbCIsIkV4cGVjdGluZyBjbGFzcyBzZWxlY3RvciBzdGFydGluZyB3aXRoICcuJyBnb3QgJ3swfScuIixuYW1lKTt0aGlzLiQkc2VsZWN0b3JzW25hbWUuc3Vic3RyKDEpXT1rZXksJHByb3ZpZGUuZmFjdG9yeShrZXksZmFjdG9yeSl9LHRoaXMuY2xhc3NOYW1lRmlsdGVyPWZ1bmN0aW9uKGV4cHJlc3Npb24pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI9ZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFJlZ0V4cD9leHByZXNzaW9uOm51bGwpLHRoaXMuJCRjbGFzc05hbWVGaWx0ZXJ9LHRoaXMuJGdldD1bIiQkcSIsIiQkYXN5bmNDYWxsYmFjayIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKCQkcSwkJGFzeW5jQ2FsbGJhY2ssJHJvb3RTY29wZSl7ZnVuY3Rpb24gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmbil7dmFyIGNhbmNlbEZuLGRlZmVyPSQkcS5kZWZlcigpO3JldHVybiBkZWZlci5wcm9taXNlLiQkY2FuY2VsRm49ZnVuY3Rpb24oKXtjYW5jZWxGbiYmY2FuY2VsRm4oKX0sJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtjYW5jZWxGbj1mbihmdW5jdGlvbigpe2RlZmVyLnJlc29sdmUoKX0pfSksZGVmZXIucHJvbWlzZX1mdW5jdGlvbiByZXNvbHZlRWxlbWVudENsYXNzZXMoZWxlbWVudCxjbGFzc2VzKXt2YXIgdG9BZGQ9W10sdG9SZW1vdmU9W10saGFzQ2xhc3Nlcz1jcmVhdGVNYXAoKTtyZXR1cm4gZm9yRWFjaCgoZWxlbWVudC5hdHRyKCJjbGFzcyIpfHwiIikuc3BsaXQoL1xzKy8pLGZ1bmN0aW9uKGNsYXNzTmFtZSl7aGFzQ2xhc3Nlc1tjbGFzc05hbWVdPSEwfSksZm9yRWFjaChjbGFzc2VzLGZ1bmN0aW9uKHN0YXR1cyxjbGFzc05hbWUpe3ZhciBoYXNDbGFzcz1oYXNDbGFzc2VzW2NsYXNzTmFtZV07c3RhdHVzPT09ITEmJmhhc0NsYXNzP3RvUmVtb3ZlLnB1c2goY2xhc3NOYW1lKTpzdGF0dXMhPT0hMHx8aGFzQ2xhc3N8fHRvQWRkLnB1c2goY2xhc3NOYW1lKX0pLHRvQWRkLmxlbmd0aCt0b1JlbW92ZS5sZW5ndGg+MCYmW3RvQWRkLmxlbmd0aD90b0FkZDpudWxsLHRvUmVtb3ZlLmxlbmd0aD90b1JlbW92ZTpudWxsXX1mdW5jdGlvbiBjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjYWNoZSxjbGFzc2VzLG9wKXtmb3IodmFyIGk9MCxpaT1jbGFzc2VzLmxlbmd0aDtpaT5pOysraSl7dmFyIGNsYXNzTmFtZT1jbGFzc2VzW2ldO2NhY2hlW2NsYXNzTmFtZV09b3B9fWZ1bmN0aW9uIGFzeW5jUHJvbWlzZSgpe3JldHVybiBjdXJyZW50RGVmZXJ8fChjdXJyZW50RGVmZXI9JCRxLmRlZmVyKCksJCRhc3luY0NhbGxiYWNrKGZ1bmN0aW9uKCl7Y3VycmVudERlZmVyLnJlc29sdmUoKSxjdXJyZW50RGVmZXI9bnVsbH0pKSxjdXJyZW50RGVmZXIucHJvbWlzZX1mdW5jdGlvbiBhcHBseVN0eWxlcyhlbGVtZW50LG9wdGlvbnMpe2lmKGFuZ3VsYXIuaXNPYmplY3Qob3B0aW9ucykpe3ZhciBzdHlsZXM9ZXh0ZW5kKG9wdGlvbnMuZnJvbXx8e30sb3B0aW9ucy50b3x8e30pO2VsZW1lbnQuY3NzKHN0eWxlcyl9fXZhciBjdXJyZW50RGVmZXI7cmV0dXJue2FuaW1hdGU6ZnVuY3Rpb24oZWxlbWVudCxmcm9tLHRvKXtyZXR1cm4gYXBwbHlTdHlsZXMoZWxlbWVudCx7ZnJvbTpmcm9tLHRvOnRvfSksYXN5bmNQcm9taXNlKCl9LGVudGVyOmZ1bmN0aW9uKGVsZW1lbnQscGFyZW50LGFmdGVyLG9wdGlvbnMpe3JldHVybiBhcHBseVN0eWxlcyhlbGVtZW50LG9wdGlvbnMpLGFmdGVyP2FmdGVyLmFmdGVyKGVsZW1lbnQpOnBhcmVudC5wcmVwZW5kKGVsZW1lbnQpLGFzeW5jUHJvbWlzZSgpfSxsZWF2ZTpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5yZW1vdmUoKSxhc3luY1Byb21pc2UoKX0sbW92ZTpmdW5jdGlvbihlbGVtZW50LHBhcmVudCxhZnRlcixvcHRpb25zKXtyZXR1cm4gdGhpcy5lbnRlcihlbGVtZW50LHBhcmVudCxhZnRlcixvcHRpb25zKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsb3B0aW9ucyl7cmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCxjbGFzc05hbWUsW10sb3B0aW9ucyl9LCQkYWRkQ2xhc3NJbW1lZGlhdGVseTpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxvcHRpb25zKXtyZXR1cm4gZWxlbWVudD1qcUxpdGUoZWxlbWVudCksY2xhc3NOYW1lPWlzU3RyaW5nKGNsYXNzTmFtZSk/Y2xhc3NOYW1lOmlzQXJyYXkoY2xhc3NOYW1lKT9jbGFzc05hbWUuam9pbigiICIpOiIiLGZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVBZGRDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSl9KSxhcHBseVN0eWxlcyhlbGVtZW50LG9wdGlvbnMpLGFzeW5jUHJvbWlzZSgpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxvcHRpb25zKXtyZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LFtdLGNsYXNzTmFtZSxvcHRpb25zKX0sJCRyZW1vdmVDbGFzc0ltbWVkaWF0ZWx5OmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLG9wdGlvbnMpe3JldHVybiBlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxjbGFzc05hbWU9aXNTdHJpbmcoY2xhc3NOYW1lKT9jbGFzc05hbWU6aXNBcnJheShjbGFzc05hbWUpP2NsYXNzTmFtZS5qb2luKCIgIik6IiIsZm9yRWFjaChlbGVtZW50LGZ1bmN0aW9uKGVsZW1lbnQpe2pxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsY2xhc3NOYW1lKX0pLGFwcGx5U3R5bGVzKGVsZW1lbnQsb3B0aW9ucyksYXN5bmNQcm9taXNlKCl9LHNldENsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsYWRkLHJlbW92ZSxvcHRpb25zKXt2YXIgc2VsZj10aGlzLFNUT1JBR0VfS0VZPSIkJGFuaW1hdGVDbGFzc2VzIixjcmVhdGVkQ2FjaGU9ITE7ZWxlbWVudD1qcUxpdGUoZWxlbWVudCk7dmFyIGNhY2hlPWVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7Y2FjaGU/b3B0aW9ucyYmY2FjaGUub3B0aW9ucyYmKGNhY2hlLm9wdGlvbnM9YW5ndWxhci5leHRlbmQoY2FjaGUub3B0aW9uc3x8e30sb3B0aW9ucykpOihjYWNoZT17Y2xhc3Nlczp7fSxvcHRpb25zOm9wdGlvbnN9LGNyZWF0ZWRDYWNoZT0hMCk7dmFyIGNsYXNzZXM9Y2FjaGUuY2xhc3NlcztyZXR1cm4gYWRkPWlzQXJyYXkoYWRkKT9hZGQ6YWRkLnNwbGl0KCIgIikscmVtb3ZlPWlzQXJyYXkocmVtb3ZlKT9yZW1vdmU6cmVtb3ZlLnNwbGl0KCIgIiksY2FjaGVkQ2xhc3NNYW5pcHVsYXRpb24oY2xhc3NlcyxhZGQsITApLGNhY2hlZENsYXNzTWFuaXB1bGF0aW9uKGNsYXNzZXMscmVtb3ZlLCExKSxjcmVhdGVkQ2FjaGUmJihjYWNoZS5wcm9taXNlPXJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSl7dmFyIGNhY2hlPWVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7aWYoZWxlbWVudC5yZW1vdmVEYXRhKFNUT1JBR0VfS0VZKSxjYWNoZSl7dmFyIGNsYXNzZXM9cmVzb2x2ZUVsZW1lbnRDbGFzc2VzKGVsZW1lbnQsY2FjaGUuY2xhc3Nlcyk7Y2xhc3NlcyYmc2VsZi4kJHNldENsYXNzSW1tZWRpYXRlbHkoZWxlbWVudCxjbGFzc2VzWzBdLGNsYXNzZXNbMV0sY2FjaGUub3B0aW9ucyl9ZG9uZSgpfSksZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZLGNhY2hlKSksY2FjaGUucHJvbWlzZX0sJCRzZXRDbGFzc0ltbWVkaWF0ZWx5OmZ1bmN0aW9uKGVsZW1lbnQsYWRkLHJlbW92ZSxvcHRpb25zKXtyZXR1cm4gYWRkJiZ0aGlzLiQkYWRkQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LGFkZCkscmVtb3ZlJiZ0aGlzLiQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LHJlbW92ZSksYXBwbHlTdHlsZXMoZWxlbWVudCxvcHRpb25zKSxhc3luY1Byb21pc2UoKX0sZW5hYmxlZDpub29wLGNhbmNlbDpub29wfX1dfV0sJGNvbXBpbGVNaW5FcnI9bWluRXJyKCIkY29tcGlsZSIpOyRDb21waWxlUHJvdmlkZXIuJGluamVjdD1bIiRwcm92aWRlIiwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIl07dmFyIFBSRUZJWF9SRUdFWFA9L14oeFtcOlwtX118ZGF0YVtcOlwtX10pL2ksJGludGVycG9sYXRlTWluRXJyPW1pbkVycigiJGludGVycG9sYXRlIiksUEFUSF9NQVRDSD0vXihbXlw/I10qKShcPyhbXiNdKikpPygjKC4qKSk/JC8sREVGQVVMVF9QT1JUUz17aHR0cDo4MCxodHRwczo0NDMsZnRwOjIxfSwkbG9jYXRpb25NaW5FcnI9bWluRXJyKCIkbG9jYXRpb24iKSxsb2NhdGlvblByb3RvdHlwZT17JCRodG1sNTohMSwkJHJlcGxhY2U6ITEsYWJzVXJsOmxvY2F0aW9uR2V0dGVyKCIkJGFic1VybCIpLHVybDpmdW5jdGlvbih1cmwpe2lmKGlzVW5kZWZpbmVkKHVybCkpcmV0dXJuIHRoaXMuJCR1cmw7dmFyIG1hdGNoPVBBVEhfTUFUQ0guZXhlYyh1cmwpO3JldHVybiBtYXRjaFsxXSYmdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpLChtYXRjaFsyXXx8bWF0Y2hbMV0pJiZ0aGlzLnNlYXJjaChtYXRjaFszXXx8IiIpLHRoaXMuaGFzaChtYXRjaFs1XXx8IiIpLHRoaXN9LHByb3RvY29sOmxvY2F0aW9uR2V0dGVyKCIkJHByb3RvY29sIiksaG9zdDpsb2NhdGlvbkdldHRlcigiJCRob3N0IikscG9ydDpsb2NhdGlvbkdldHRlcigiJCRwb3J0IikscGF0aDpsb2NhdGlvbkdldHRlclNldHRlcigiJCRwYXRoIixmdW5jdGlvbihwYXRoKXtyZXR1cm4gcGF0aD1udWxsIT09cGF0aD9wYXRoLnRvU3RyaW5nKCk6IiIsIi8iPT1wYXRoLmNoYXJBdCgwKT9wYXRoOiIvIitwYXRofSksc2VhcmNoOmZ1bmN0aW9uKHNlYXJjaCxwYXJhbVZhbHVlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0aGlzLiQkc2VhcmNoO2Nhc2UgMTppZihpc1N0cmluZyhzZWFyY2gpfHxpc051bWJlcihzZWFyY2gpKXNlYXJjaD1zZWFyY2gudG9TdHJpbmcoKSx0aGlzLiQkc2VhcmNoPXBhcnNlS2V5VmFsdWUoc2VhcmNoKTtlbHNle2lmKCFpc09iamVjdChzZWFyY2gpKXRocm93ICRsb2NhdGlvbk1pbkVycigiaXNyY2hhcmciLCJUaGUgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGAkbG9jYXRpb24jc2VhcmNoKClgIGNhbGwgbXVzdCBiZSBhIHN0cmluZyBvciBhbiBvYmplY3QuIik7c2VhcmNoPWNvcHkoc2VhcmNoLHt9KSxmb3JFYWNoKHNlYXJjaCxmdW5jdGlvbih2YWx1ZSxrZXkpe251bGw9PXZhbHVlJiZkZWxldGUgc2VhcmNoW2tleV19KSx0aGlzLiQkc2VhcmNoPXNlYXJjaH1icmVhaztkZWZhdWx0OmlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpfHxudWxsPT09cGFyYW1WYWx1ZT9kZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdOnRoaXMuJCRzZWFyY2hbc2VhcmNoXT1wYXJhbVZhbHVlfXJldHVybiB0aGlzLiQkY29tcG9zZSgpLHRoaXN9LGhhc2g6bG9jYXRpb25HZXR0ZXJTZXR0ZXIoIiQkaGFzaCIsZnVuY3Rpb24oaGFzaCl7cmV0dXJuIG51bGwhPT1oYXNoP2hhc2gudG9TdHJpbmcoKToiIn0pLHJlcGxhY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHJlcGxhY2U9ITAsdGhpc319O2ZvckVhY2goW0xvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsLExvY2F0aW9uSGFzaGJhbmdVcmwsTG9jYXRpb25IdG1sNVVybF0sZnVuY3Rpb24oTG9jYXRpb24pe0xvY2F0aW9uLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKSxMb2NhdGlvbi5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oc3RhdGUpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLiQkc3RhdGU7aWYoTG9jYXRpb24hPT1Mb2NhdGlvbkh0bWw1VXJsfHwhdGhpcy4kJGh0bWw1KXRocm93ICRsb2NhdGlvbk1pbkVycigibm9zdGF0ZSIsIkhpc3RvcnkgQVBJIHN0YXRlIHN1cHBvcnQgaXMgYXZhaWxhYmxlIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nIEhUTUw1IEhpc3RvcnkgQVBJIik7cmV0dXJuIHRoaXMuJCRzdGF0ZT1pc1VuZGVmaW5lZChzdGF0ZSk/bnVsbDpzdGF0ZSx0aGlzfX0pO3ZhciAkcGFyc2VNaW5FcnI9bWluRXJyKCIkcGFyc2UiKSxDQUxMPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLEFQUExZPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxCSU5EPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLENPTlNUQU5UUz1jcmVhdGVNYXAoKTtmb3JFYWNoKHsibnVsbCI6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sInRydWUiOmZ1bmN0aW9uKCl7cmV0dXJuITB9LCJmYWxzZSI6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdW5kZWZpbmVkOmZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oY29uc3RhbnRHZXR0ZXIsbmFtZSl7Y29uc3RhbnRHZXR0ZXIuY29uc3RhbnQ9Y29uc3RhbnRHZXR0ZXIubGl0ZXJhbD1jb25zdGFudEdldHRlci5zaGFyZWRHZXR0ZXI9ITAsQ09OU1RBTlRTW25hbWVdPWNvbnN0YW50R2V0dGVyfSksQ09OU1RBTlRTWyJ0aGlzIl09ZnVuY3Rpb24oc2VsZil7cmV0dXJuIHNlbGZ9LENPTlNUQU5UU1sidGhpcyJdLnNoYXJlZEdldHRlcj0hMDt2YXIgT1BFUkFUT1JTPWV4dGVuZChjcmVhdGVNYXAoKSx7IisiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGE9YShzZWxmLGxvY2FscyksYj1iKHNlbGYsbG9jYWxzKSxpc0RlZmluZWQoYSk/aXNEZWZpbmVkKGIpP2ErYjphOmlzRGVmaW5lZChiKT9iOnVuZGVmaW5lZH0sIi0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGE9YShzZWxmLGxvY2FscyksYj1iKHNlbGYsbG9jYWxzKSwoaXNEZWZpbmVkKGEpP2E6MCktKGlzRGVmaW5lZChiKT9iOjApfSwiKiI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2FscykqYihzZWxmLGxvY2Fscyl9LCIvIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKS9iKHNlbGYsbG9jYWxzKX0sIiUiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpJWIoc2VsZixsb2NhbHMpfSwiPT09IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKT09PWIoc2VsZixsb2NhbHMpfSwiIT09IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSE9PWIoc2VsZixsb2NhbHMpfSwiPT0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPT1iKHNlbGYsbG9jYWxzKX0sIiE9IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSE9YihzZWxmLGxvY2Fscyl9LCI8IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKTxiKHNlbGYsbG9jYWxzKX0sIj4iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPmIoc2VsZixsb2NhbHMpfSwiPD0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPD1iKHNlbGYsbG9jYWxzKX0sIj49IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKT49YihzZWxmLGxvY2Fscyl9LCImJiI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2FscykmJmIoc2VsZixsb2NhbHMpfSwifHwiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpfHxiKHNlbGYsbG9jYWxzKX0sIiEiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEpe3JldHVybiFhKHNlbGYsbG9jYWxzKX0sIj0iOiEwLCJ8IjohMH0pLEVTQ0FQRT17bjoiXG4iLGY6IlxmIixyOiJcciIsdDoiCSIsdjoiCyIsIiciOiInIiwnIic6JyInfSxMZXhlcj1mdW5jdGlvbihvcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9uc307TGV4ZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpMZXhlcixsZXg6ZnVuY3Rpb24odGV4dCl7Zm9yKHRoaXMudGV4dD10ZXh0LHRoaXMuaW5kZXg9MCx0aGlzLmNoPXVuZGVmaW5lZCx0aGlzLnRva2Vucz1bXTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KWlmKHRoaXMuY2g9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSx0aGlzLmlzKCJcIiciKSl0aGlzLnJlYWRTdHJpbmcodGhpcy5jaCk7ZWxzZSBpZih0aGlzLmlzTnVtYmVyKHRoaXMuY2gpfHx0aGlzLmlzKCIuIikmJnRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKXRoaXMucmVhZE51bWJlcigpO2Vsc2UgaWYodGhpcy5pc0lkZW50KHRoaXMuY2gpKXRoaXMucmVhZElkZW50KCk7ZWxzZSBpZih0aGlzLmlzKCIoKXt9W10uLDs6PyIpKXRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDp0aGlzLmNofSksdGhpcy5pbmRleCsrO2Vsc2UgaWYodGhpcy5pc1doaXRlc3BhY2UodGhpcy5jaCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGNoMj10aGlzLmNoK3RoaXMucGVlaygpLGNoMz1jaDIrdGhpcy5wZWVrKDIpLGZuPU9QRVJBVE9SU1t0aGlzLmNoXSxmbjI9T1BFUkFUT1JTW2NoMl0sZm4zPU9QRVJBVE9SU1tjaDNdO2ZuMz8odGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmNoMyxmbjpmbjN9KSx0aGlzLmluZGV4Kz0zKTpmbjI/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDpjaDIsZm46Zm4yfSksdGhpcy5pbmRleCs9Mik6Zm4/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDp0aGlzLmNoLGZuOmZufSksdGhpcy5pbmRleCs9MSk6dGhpcy50aHJvd0Vycm9yKCJVbmV4cGVjdGVkIG5leHQgY2hhcmFjdGVyICIsdGhpcy5pbmRleCx0aGlzLmluZGV4KzEpfXJldHVybiB0aGlzLnRva2Vuc30saXM6ZnVuY3Rpb24oY2hhcnMpe3JldHVybi0xIT09Y2hhcnMuaW5kZXhPZih0aGlzLmNoKX0scGVlazpmdW5jdGlvbihpKXt2YXIgbnVtPWl8fDE7cmV0dXJuIHRoaXMuaW5kZXgrbnVtPHRoaXMudGV4dC5sZW5ndGg/dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4K251bSk6ITF9LGlzTnVtYmVyOmZ1bmN0aW9uKGNoKXtyZXR1cm4gY2g+PSIwIiYmIjkiPj1jaH0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKGNoKXtyZXR1cm4iICI9PT1jaHx8IlxyIj09PWNofHwiCSI9PT1jaHx8IlxuIj09PWNofHwiCyI9PT1jaHx8IsKgIj09PWNofSxpc0lkZW50OmZ1bmN0aW9uKGNoKXtyZXR1cm4gY2g+PSJhIiYmInoiPj1jaHx8Y2g+PSJBIiYmIloiPj1jaHx8Il8iPT09Y2h8fCIkIj09PWNofSxpc0V4cE9wZXJhdG9yOmZ1bmN0aW9uKGNoKXtyZXR1cm4iLSI9PT1jaHx8IisiPT09Y2h8fHRoaXMuaXNOdW1iZXIoY2gpfSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGVycm9yLHN0YXJ0LGVuZCl7ZW5kPWVuZHx8dGhpcy5pbmRleDt2YXIgY29sU3RyPWlzRGVmaW5lZChzdGFydCk/InMgIitzdGFydCsiLSIrdGhpcy5pbmRleCsiIFsiK3RoaXMudGV4dC5zdWJzdHJpbmcoc3RhcnQsZW5kKSsiXSI6IiAiK2VuZDt0aHJvdyAkcGFyc2VNaW5FcnIoImxleGVyciIsIkxleGVyIEVycm9yOiB7MH0gYXQgY29sdW1uezF9IGluIGV4cHJlc3Npb24gW3syfV0uIixlcnJvcixjb2xTdHIsdGhpcy50ZXh0KX0scmVhZE51bWJlcjpmdW5jdGlvbigpe2Zvcih2YXIgbnVtYmVyPSIiLHN0YXJ0PXRoaXMuaW5kZXg7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGNoPWxvd2VyY2FzZSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtpZigiLiI9PWNofHx0aGlzLmlzTnVtYmVyKGNoKSludW1iZXIrPWNoO2Vsc2V7dmFyIHBlZWtDaD10aGlzLnBlZWsoKTtpZigiZSI9PWNoJiZ0aGlzLmlzRXhwT3BlcmF0b3IocGVla0NoKSludW1iZXIrPWNoO2Vsc2UgaWYodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSYmcGVla0NoJiZ0aGlzLmlzTnVtYmVyKHBlZWtDaCkmJiJlIj09bnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoLTEpKW51bWJlcis9Y2g7ZWxzZXtpZighdGhpcy5pc0V4cE9wZXJhdG9yKGNoKXx8cGVla0NoJiZ0aGlzLmlzTnVtYmVyKHBlZWtDaCl8fCJlIiE9bnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoLTEpKWJyZWFrO3RoaXMudGhyb3dFcnJvcigiSW52YWxpZCBleHBvbmVudCIpfX10aGlzLmluZGV4Kyt9bnVtYmVyPTEqbnVtYmVyLHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnN0YXJ0LHRleHQ6bnVtYmVyLGNvbnN0YW50OiEwLGZuOmZ1bmN0aW9uKCl7cmV0dXJuIG51bWJlcn19KX0scmVhZElkZW50OmZ1bmN0aW9uKCl7Zm9yKHZhciBsYXN0RG90LHBlZWtJbmRleCxtZXRob2ROYW1lLGNoLGV4cHJlc3Npb249dGhpcy50ZXh0LGlkZW50PSIiLHN0YXJ0PXRoaXMuaW5kZXg7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoJiYoY2g9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSwiLiI9PT1jaHx8dGhpcy5pc0lkZW50KGNoKXx8dGhpcy5pc051bWJlcihjaCkpOykiLiI9PT1jaCYmKGxhc3REb3Q9dGhpcy5pbmRleCksaWRlbnQrPWNoLHRoaXMuaW5kZXgrKztpZihsYXN0RG90JiYiLiI9PT1pZGVudFtpZGVudC5sZW5ndGgtMV0mJih0aGlzLmluZGV4LS0saWRlbnQ9aWRlbnQuc2xpY2UoMCwtMSksbGFzdERvdD1pZGVudC5sYXN0SW5kZXhPZigiLiIpLC0xPT09bGFzdERvdCYmKGxhc3REb3Q9dW5kZWZpbmVkKSksbGFzdERvdClmb3IocGVla0luZGV4PXRoaXMuaW5kZXg7cGVla0luZGV4PHRoaXMudGV4dC5sZW5ndGg7KXtpZihjaD10aGlzLnRleHQuY2hhckF0KHBlZWtJbmRleCksIigiPT09Y2gpe21ldGhvZE5hbWU9aWRlbnQuc3Vic3RyKGxhc3REb3Qtc3RhcnQrMSksaWRlbnQ9aWRlbnQuc3Vic3RyKDAsbGFzdERvdC1zdGFydCksdGhpcy5pbmRleD1wZWVrSW5kZXg7YnJlYWt9aWYoIXRoaXMuaXNXaGl0ZXNwYWNlKGNoKSlicmVhaztwZWVrSW5kZXgrK310aGlzLnRva2Vucy5wdXNoKHtpbmRleDpzdGFydCx0ZXh0OmlkZW50LGZuOkNPTlNUQU5UU1tpZGVudF18fGdldHRlckZuKGlkZW50LHRoaXMub3B0aW9ucyxleHByZXNzaW9uKX0pLG1ldGhvZE5hbWUmJih0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpsYXN0RG90LHRleHQ6Ii4ifSksdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6bGFzdERvdCsxLHRleHQ6bWV0aG9kTmFtZX0pKX0scmVhZFN0cmluZzpmdW5jdGlvbihxdW90ZSl7dmFyIHN0YXJ0PXRoaXMuaW5kZXg7dGhpcy5pbmRleCsrO2Zvcih2YXIgc3RyaW5nPSIiLHJhd1N0cmluZz1xdW90ZSxlc2NhcGU9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGNoPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7aWYocmF3U3RyaW5nKz1jaCxlc2NhcGUpe2lmKCJ1Ij09PWNoKXt2YXIgaGV4PXRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCsxLHRoaXMuaW5kZXgrNSk7aGV4Lm1hdGNoKC9bXGRhLWZdezR9L2kpfHx0aGlzLnRocm93RXJyb3IoIkludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcdSIraGV4KyJdIiksdGhpcy5pbmRleCs9NCxzdHJpbmcrPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LDE2KSl9ZWxzZXt2YXIgcmVwPUVTQ0FQRVtjaF07c3RyaW5nKz1yZXB8fGNofWVzY2FwZT0hMX1lbHNlIGlmKCJcXCI9PT1jaCllc2NhcGU9ITA7ZWxzZXtpZihjaD09PXF1b3RlKXJldHVybiB0aGlzLmluZGV4Kyssdm9pZCB0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpzdGFydCx0ZXh0OnJhd1N0cmluZyxzdHJpbmc6c3RyaW5nLGNvbnN0YW50OiEwLGZuOmZ1bmN0aW9uKCl7cmV0dXJuIHN0cmluZ319KTtzdHJpbmcrPWNofXRoaXMuaW5kZXgrK310aGlzLnRocm93RXJyb3IoIlVudGVybWluYXRlZCBxdW90ZSIsc3RhcnQpfX07dmFyIFBhcnNlcj1mdW5jdGlvbihsZXhlciwkZmlsdGVyLG9wdGlvbnMpe3RoaXMubGV4ZXI9bGV4ZXIsdGhpcy4kZmlsdGVyPSRmaWx0ZXIsdGhpcy5vcHRpb25zPW9wdGlvbnN9O1BhcnNlci5aRVJPPWV4dGVuZChmdW5jdGlvbigpe3JldHVybiAwfSx7c2hhcmVkR2V0dGVyOiEwLGNvbnN0YW50OiEwfSksUGFyc2VyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6UGFyc2VyLHBhcnNlOmZ1bmN0aW9uKHRleHQpe3RoaXMudGV4dD10ZXh0LHRoaXMudG9rZW5zPXRoaXMubGV4ZXIubGV4KHRleHQpO3ZhciB2YWx1ZT10aGlzLnN0YXRlbWVudHMoKTtyZXR1cm4gMCE9PXRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy50aHJvd0Vycm9yKCJpcyBhbiB1bmV4cGVjdGVkIHRva2VuIix0aGlzLnRva2Vuc1swXSksdmFsdWUubGl0ZXJhbD0hIXZhbHVlLmxpdGVyYWwsdmFsdWUuY29uc3RhbnQ9ISF2YWx1ZS5jb25zdGFudCx2YWx1ZX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBwcmltYXJ5O2lmKHRoaXMuZXhwZWN0KCIoIikpcHJpbWFyeT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKCIpIik7ZWxzZSBpZih0aGlzLmV4cGVjdCgiWyIpKXByaW1hcnk9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk7ZWxzZSBpZih0aGlzLmV4cGVjdCgieyIpKXByaW1hcnk9dGhpcy5vYmplY3QoKTtlbHNle3ZhciB0b2tlbj10aGlzLmV4cGVjdCgpO3ByaW1hcnk9dG9rZW4uZm4scHJpbWFyeXx8dGhpcy50aHJvd0Vycm9yKCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb24iLHRva2VuKSx0b2tlbi5jb25zdGFudCYmKHByaW1hcnkuY29uc3RhbnQ9ITAscHJpbWFyeS5saXRlcmFsPSEwKX1mb3IodmFyIG5leHQsY29udGV4dDtuZXh0PXRoaXMuZXhwZWN0KCIoIiwiWyIsIi4iKTspIigiPT09bmV4dC50ZXh0PyhwcmltYXJ5PXRoaXMuZnVuY3Rpb25DYWxsKHByaW1hcnksY29udGV4dCksY29udGV4dD1udWxsKToiWyI9PT1uZXh0LnRleHQ/KGNvbnRleHQ9cHJpbWFyeSxwcmltYXJ5PXRoaXMub2JqZWN0SW5kZXgocHJpbWFyeSkpOiIuIj09PW5leHQudGV4dD8oY29udGV4dD1wcmltYXJ5LHByaW1hcnk9dGhpcy5maWVsZEFjY2VzcyhwcmltYXJ5KSk6dGhpcy50aHJvd0Vycm9yKCJJTVBPU1NJQkxFIik7cmV0dXJuIHByaW1hcnl9LHRocm93RXJyb3I6ZnVuY3Rpb24obXNnLHRva2VuKXt0aHJvdyAkcGFyc2VNaW5FcnIoInN5bnRheCIsIlN5bnRheCBFcnJvcjogVG9rZW4gJ3swfScgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uIix0b2tlbi50ZXh0LG1zZyx0b2tlbi5pbmRleCsxLHRoaXMudGV4dCx0aGlzLnRleHQuc3Vic3RyaW5nKHRva2VuLmluZGV4KSl9LHBlZWtUb2tlbjpmdW5jdGlvbigpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgJHBhcnNlTWluRXJyKCJ1ZW9lIiwiVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9Iix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihlMSxlMixlMyxlNCl7aWYodGhpcy50b2tlbnMubGVuZ3RoPjApe3ZhciB0b2tlbj10aGlzLnRva2Vuc1swXSx0PXRva2VuLnRleHQ7aWYodD09PWUxfHx0PT09ZTJ8fHQ9PT1lM3x8dD09PWU0fHwhZTEmJiFlMiYmIWUzJiYhZTQpcmV0dXJuIHRva2VufXJldHVybiExfSxleHBlY3Q6ZnVuY3Rpb24oZTEsZTIsZTMsZTQpe3ZhciB0b2tlbj10aGlzLnBlZWsoZTEsZTIsZTMsZTQpO3JldHVybiB0b2tlbj8odGhpcy50b2tlbnMuc2hpZnQoKSx0b2tlbik6ITF9LGNvbnN1bWU6ZnVuY3Rpb24oZTEpe3RoaXMuZXhwZWN0KGUxKXx8dGhpcy50aHJvd0Vycm9yKCJpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWyIrZTErIl0iLHRoaXMucGVlaygpKX0sdW5hcnlGbjpmdW5jdGlvbihmbixyaWdodCl7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIGZuKHNlbGYsbG9jYWxzLHJpZ2h0KX0se2NvbnN0YW50OnJpZ2h0LmNvbnN0YW50LGlucHV0czpbcmlnaHRdfSl9LGJpbmFyeUZuOmZ1bmN0aW9uKGxlZnQsZm4scmlnaHQsaXNCcmFuY2hpbmcpe3JldHVybiBleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe3JldHVybiBmbihzZWxmLGxvY2FscyxsZWZ0LHJpZ2h0KX0se2NvbnN0YW50OmxlZnQuY29uc3RhbnQmJnJpZ2h0LmNvbnN0YW50LGlucHV0czohaXNCcmFuY2hpbmcmJltsZWZ0LHJpZ2h0XX0pfSxzdGF0ZW1lbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBzdGF0ZW1lbnRzPVtdOzspaWYodGhpcy50b2tlbnMubGVuZ3RoPjAmJiF0aGlzLnBlZWsoIn0iLCIpIiwiOyIsIl0iKSYmc3RhdGVtZW50cy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSksIXRoaXMuZXhwZWN0KCI7IikpcmV0dXJuIDE9PT1zdGF0ZW1lbnRzLmxlbmd0aD9zdGF0ZW1lbnRzWzBdOmZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtmb3IodmFyIHZhbHVlLGk9MCxpaT1zdGF0ZW1lbnRzLmxlbmd0aDtpaT5pO2krKyl2YWx1ZT1zdGF0ZW1lbnRzW2ldKHNlbGYsbG9jYWxzKTtyZXR1cm4gdmFsdWV9fSxmaWx0ZXJDaGFpbjpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLmV4cHJlc3Npb24oKTt0b2tlbj10aGlzLmV4cGVjdCgifCIpOylsZWZ0PXRoaXMuZmlsdGVyKGxlZnQpO3JldHVybiBsZWZ0fSxmaWx0ZXI6ZnVuY3Rpb24oaW5wdXRGbil7dmFyIGFyZ3NGbixhcmdzLHRva2VuPXRoaXMuZXhwZWN0KCksZm49dGhpcy4kZmlsdGVyKHRva2VuLnRleHQpO2lmKHRoaXMucGVlaygiOiIpKWZvcihhcmdzRm49W10sYXJncz1bXTt0aGlzLmV4cGVjdCgiOiIpOylhcmdzRm4ucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7dmFyIGlucHV0cz1baW5wdXRGbl0uY29uY2F0KGFyZ3NGbnx8W10pO3JldHVybiBleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe3ZhciBpbnB1dD1pbnB1dEZuKHNlbGYsbG9jYWxzKTtpZihhcmdzKXthcmdzWzBdPWlucHV0O2Zvcih2YXIgaT1hcmdzRm4ubGVuZ3RoO2ktLTspYXJnc1tpKzFdPWFyZ3NGbltpXShzZWxmLGxvY2Fscyk7cmV0dXJuIGZuLmFwcGx5KHVuZGVmaW5lZCxhcmdzKX1yZXR1cm4gZm4oaW5wdXQpfSx7Y29uc3RhbnQ6IWZuLiRzdGF0ZWZ1bCYmaW5wdXRzLmV2ZXJ5KGlzQ29uc3RhbnQpLGlucHV0czohZm4uJHN0YXRlZnVsJiZpbnB1dHN9KX0sZXhwcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzc2lnbm1lbnQoKX0sYXNzaWdubWVudDpmdW5jdGlvbigpe3ZhciByaWdodCx0b2tlbixsZWZ0PXRoaXMudGVybmFyeSgpO3JldHVybih0b2tlbj10aGlzLmV4cGVjdCgiPSIpKT8obGVmdC5hc3NpZ258fHRoaXMudGhyb3dFcnJvcigiaW1wbGllcyBhc3NpZ25tZW50IGJ1dCBbIit0aGlzLnRleHQuc3Vic3RyaW5nKDAsdG9rZW4uaW5kZXgpKyJdIGNhbiBub3QgYmUgYXNzaWduZWQgdG8iLHRva2VuKSxyaWdodD10aGlzLnRlcm5hcnkoKSxleHRlbmQoZnVuY3Rpb24oc2NvcGUsbG9jYWxzKXtyZXR1cm4gbGVmdC5hc3NpZ24oc2NvcGUscmlnaHQoc2NvcGUsbG9jYWxzKSxsb2NhbHMpfSx7aW5wdXRzOltsZWZ0LHJpZ2h0XX0pKTpsZWZ0fSx0ZXJuYXJ5OmZ1bmN0aW9uKCl7dmFyIG1pZGRsZSx0b2tlbixsZWZ0PXRoaXMubG9naWNhbE9SKCk7aWYodG9rZW49dGhpcy5leHBlY3QoIj8iKSl7aWYobWlkZGxlPXRoaXMuYXNzaWdubWVudCgpLHRva2VuPXRoaXMuZXhwZWN0KCI6Iikpe3ZhciByaWdodD10aGlzLmFzc2lnbm1lbnQoKTtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtyZXR1cm4gbGVmdChzZWxmLGxvY2Fscyk/bWlkZGxlKHNlbGYsbG9jYWxzKTpyaWdodChzZWxmLGxvY2Fscyl9LHtjb25zdGFudDpsZWZ0LmNvbnN0YW50JiZtaWRkbGUuY29uc3RhbnQmJnJpZ2h0LmNvbnN0YW50fSl9dGhpcy50aHJvd0Vycm9yKCJleHBlY3RlZCA6Iix0b2tlbil9cmV0dXJuIGxlZnR9LGxvZ2ljYWxPUjpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLmxvZ2ljYWxBTkQoKTt0b2tlbj10aGlzLmV4cGVjdCgifHwiKTspbGVmdD10aGlzLmJpbmFyeUZuKGxlZnQsdG9rZW4uZm4sdGhpcy5sb2dpY2FsQU5EKCksITApO3JldHVybiBsZWZ0fSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7dmFyIHRva2VuLGxlZnQ9dGhpcy5lcXVhbGl0eSgpO3JldHVybih0b2tlbj10aGlzLmV4cGVjdCgiJiYiKSkmJihsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLmxvZ2ljYWxBTkQoKSwhMCkpLGxlZnR9LGVxdWFsaXR5OmZ1bmN0aW9uKCl7dmFyIHRva2VuLGxlZnQ9dGhpcy5yZWxhdGlvbmFsKCk7cmV0dXJuKHRva2VuPXRoaXMuZXhwZWN0KCI9PSIsIiE9IiwiPT09IiwiIT09IikpJiYobGVmdD10aGlzLmJpbmFyeUZuKGxlZnQsdG9rZW4uZm4sdGhpcy5lcXVhbGl0eSgpKSksbGVmdH0scmVsYXRpb25hbDpmdW5jdGlvbigpe3ZhciB0b2tlbixsZWZ0PXRoaXMuYWRkaXRpdmUoKTtyZXR1cm4odG9rZW49dGhpcy5leHBlY3QoIjwiLCI+IiwiPD0iLCI+PSIpKSYmKGxlZnQ9dGhpcy5iaW5hcnlGbihsZWZ0LHRva2VuLmZuLHRoaXMucmVsYXRpb25hbCgpKSksbGVmdH0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIHRva2VuLGxlZnQ9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpO3Rva2VuPXRoaXMuZXhwZWN0KCIrIiwiLSIpOylsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLm11bHRpcGxpY2F0aXZlKCkpO3JldHVybiBsZWZ0fSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLnVuYXJ5KCk7dG9rZW49dGhpcy5leHBlY3QoIioiLCIvIiwiJSIpOylsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLnVuYXJ5KCkpO3JldHVybiBsZWZ0fSx1bmFyeTpmdW5jdGlvbigpe3ZhciB0b2tlbjtyZXR1cm4gdGhpcy5leHBlY3QoIisiKT90aGlzLnByaW1hcnkoKToodG9rZW49dGhpcy5leHBlY3QoIi0iKSk/dGhpcy5iaW5hcnlGbihQYXJzZXIuWkVSTyx0b2tlbi5mbix0aGlzLnVuYXJ5KCkpOih0b2tlbj10aGlzLmV4cGVjdCgiISIpKT90aGlzLnVuYXJ5Rm4odG9rZW4uZm4sdGhpcy51bmFyeSgpKTp0aGlzLnByaW1hcnkoKX0sZmllbGRBY2Nlc3M6ZnVuY3Rpb24ob2JqZWN0KXt2YXIgZXhwcmVzc2lvbj10aGlzLnRleHQsZmllbGQ9dGhpcy5leHBlY3QoKS50ZXh0LGdldHRlcj1nZXR0ZXJGbihmaWVsZCx0aGlzLm9wdGlvbnMsZXhwcmVzc2lvbik7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzY29wZSxsb2NhbHMsc2VsZil7cmV0dXJuIGdldHRlcihzZWxmfHxvYmplY3Qoc2NvcGUsbG9jYWxzKSl9LHthc3NpZ246ZnVuY3Rpb24oc2NvcGUsdmFsdWUsbG9jYWxzKXt2YXIgbz1vYmplY3Qoc2NvcGUsbG9jYWxzKTtyZXR1cm4gb3x8b2JqZWN0LmFzc2lnbihzY29wZSxvPXt9KSxzZXR0ZXIobyxmaWVsZCx2YWx1ZSxleHByZXNzaW9uKX19KX0sb2JqZWN0SW5kZXg6ZnVuY3Rpb24ob2JqKXt2YXIgZXhwcmVzc2lvbj10aGlzLnRleHQsaW5kZXhGbj10aGlzLmV4cHJlc3Npb24oKTtyZXR1cm4gdGhpcy5jb25zdW1lKCJdIiksZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsbG9jYWxzKXt2YXIgdixvPW9iaihzZWxmLGxvY2FscyksaT1pbmRleEZuKHNlbGYsbG9jYWxzKTtyZXR1cm4gZW5zdXJlU2FmZU1lbWJlck5hbWUoaSxleHByZXNzaW9uKSxvP3Y9ZW5zdXJlU2FmZU9iamVjdChvW2ldLGV4cHJlc3Npb24pOnVuZGVmaW5lZH0se2Fzc2lnbjpmdW5jdGlvbihzZWxmLHZhbHVlLGxvY2Fscyl7dmFyIGtleT1lbnN1cmVTYWZlTWVtYmVyTmFtZShpbmRleEZuKHNlbGYsbG9jYWxzKSxleHByZXNzaW9uKSxvPWVuc3VyZVNhZmVPYmplY3Qob2JqKHNlbGYsbG9jYWxzKSxleHByZXNzaW9uKTtyZXR1cm4gb3x8b2JqLmFzc2lnbihzZWxmLG89e30pLG9ba2V5XT12YWx1ZX19KX0sZnVuY3Rpb25DYWxsOmZ1bmN0aW9uKGZuR2V0dGVyLGNvbnRleHRHZXR0ZXIpe3ZhciBhcmdzRm49W107aWYoIikiIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KWRvIGFyZ3NGbi5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTt3aGlsZSh0aGlzLmV4cGVjdCgiLCIpKTt0aGlzLmNvbnN1bWUoIikiKTt2YXIgZXhwcmVzc2lvblRleHQ9dGhpcy50ZXh0LGFyZ3M9YXJnc0ZuLmxlbmd0aD9bXTpudWxsO3JldHVybiBmdW5jdGlvbihzY29wZSxsb2NhbHMpe3ZhciBjb250ZXh0PWNvbnRleHRHZXR0ZXI/Y29udGV4dEdldHRlcihzY29wZSxsb2NhbHMpOnNjb3BlLGZuPWZuR2V0dGVyKHNjb3BlLGxvY2Fscyxjb250ZXh0KXx8bm9vcDtpZihhcmdzKWZvcih2YXIgaT1hcmdzRm4ubGVuZ3RoO2ktLTspYXJnc1tpXT1lbnN1cmVTYWZlT2JqZWN0KGFyZ3NGbltpXShzY29wZSxsb2NhbHMpLGV4cHJlc3Npb25UZXh0KTtlbnN1cmVTYWZlT2JqZWN0KGNvbnRleHQsZXhwcmVzc2lvblRleHQpLGVuc3VyZVNhZmVGdW5jdGlvbihmbixleHByZXNzaW9uVGV4dCk7dmFyIHY9Zm4uYXBwbHk/Zm4uYXBwbHkoY29udGV4dCxhcmdzKTpmbihhcmdzWzBdLGFyZ3NbMV0sYXJnc1syXSxhcmdzWzNdLGFyZ3NbNF0pO3JldHVybiBlbnN1cmVTYWZlT2JqZWN0KHYsZXhwcmVzc2lvblRleHQpfX0sYXJyYXlEZWNsYXJhdGlvbjpmdW5jdGlvbigpe3ZhciBlbGVtZW50Rm5zPVtdO2lmKCJdIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dClkb3tpZih0aGlzLnBlZWsoIl0iKSlicmVhazt2YXIgZWxlbWVudEZuPXRoaXMuZXhwcmVzc2lvbigpO2VsZW1lbnRGbnMucHVzaChlbGVtZW50Rm4pfXdoaWxlKHRoaXMuZXhwZWN0KCIsIikpO3JldHVybiB0aGlzLmNvbnN1bWUoIl0iKSxleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe2Zvcih2YXIgYXJyYXk9W10saT0wLGlpPWVsZW1lbnRGbnMubGVuZ3RoO2lpPmk7aSsrKWFycmF5LnB1c2goZWxlbWVudEZuc1tpXShzZWxmLGxvY2FscykpO3JldHVybiBhcnJheX0se2xpdGVyYWw6ITAsY29uc3RhbnQ6ZWxlbWVudEZucy5ldmVyeShpc0NvbnN0YW50KSxpbnB1dHM6ZWxlbWVudEZuc30pfSxvYmplY3Q6ZnVuY3Rpb24oKXt2YXIga2V5cz1bXSx2YWx1ZUZucz1bXTtpZigifSIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpZG97aWYodGhpcy5wZWVrKCJ9IikpYnJlYWs7dmFyIHRva2VuPXRoaXMuZXhwZWN0KCk7a2V5cy5wdXNoKHRva2VuLnN0cmluZ3x8dG9rZW4udGV4dCksdGhpcy5jb25zdW1lKCI6Iik7dmFyIHZhbHVlPXRoaXMuZXhwcmVzc2lvbigpO3ZhbHVlRm5zLnB1c2godmFsdWUpfXdoaWxlKHRoaXMuZXhwZWN0KCIsIikpO3JldHVybiB0aGlzLmNvbnN1bWUoIn0iKSxleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe2Zvcih2YXIgb2JqZWN0PXt9LGk9MCxpaT12YWx1ZUZucy5sZW5ndGg7aWk+aTtpKyspb2JqZWN0W2tleXNbaV1dPXZhbHVlRm5zW2ldKHNlbGYsbG9jYWxzKTtyZXR1cm4gb2JqZWN0fSx7bGl0ZXJhbDohMCxjb25zdGFudDp2YWx1ZUZucy5ldmVyeShpc0NvbnN0YW50KSxpbnB1dHM6dmFsdWVGbnN9KX19O3ZhciBnZXR0ZXJGbkNhY2hlPWNyZWF0ZU1hcCgpLCRzY2VNaW5FcnI9bWluRXJyKCIkc2NlIiksU0NFX0NPTlRFWFRTPXtIVE1MOiJodG1sIixDU1M6ImNzcyIsVVJMOiJ1cmwiLFJFU09VUkNFX1VSTDoicmVzb3VyY2VVcmwiLEpTOiJqcyJ9LCRjb21waWxlTWluRXJyPW1pbkVycigiJGNvbXBpbGUiKSx1cmxQYXJzaW5nTm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksb3JpZ2luVXJsPXVybFJlc29sdmUod2luZG93LmxvY2F0aW9uLmhyZWYsITApOyRGaWx0ZXJQcm92aWRlci4kaW5qZWN0PVsiJHByb3ZpZGUiXSxjdXJyZW5jeUZpbHRlci4kaW5qZWN0PVsiJGxvY2FsZSJdLG51bWJlckZpbHRlci4kaW5qZWN0PVsiJGxvY2FsZSJdO3ZhciBERUNJTUFMX1NFUD0iLiIsREFURV9GT1JNQVRTPXt5eXl5OmRhdGVHZXR0ZXIoIkZ1bGxZZWFyIiw0KSx5eTpkYXRlR2V0dGVyKCJGdWxsWWVhciIsMiwwLCEwKSx5OmRhdGVHZXR0ZXIoIkZ1bGxZZWFyIiwxKSxNTU1NOmRhdGVTdHJHZXR0ZXIoIk1vbnRoIiksTU1NOmRhdGVTdHJHZXR0ZXIoIk1vbnRoIiwhMCksTU06ZGF0ZUdldHRlcigiTW9udGgiLDIsMSksTTpkYXRlR2V0dGVyKCJNb250aCIsMSwxKSxkZDpkYXRlR2V0dGVyKCJEYXRlIiwyKSxkOmRhdGVHZXR0ZXIoIkRhdGUiLDEpLEhIOmRhdGVHZXR0ZXIoIkhvdXJzIiwyKSxIOmRhdGVHZXR0ZXIoIkhvdXJzIiwxKSxoaDpkYXRlR2V0dGVyKCJIb3VycyIsMiwtMTIpLGg6ZGF0ZUdldHRlcigiSG91cnMiLDEsLTEyKSxtbTpkYXRlR2V0dGVyKCJNaW51dGVzIiwyKSxtOmRhdGVHZXR0ZXIoIk1pbnV0ZXMiLDEpLHNzOmRhdGVHZXR0ZXIoIlNlY29uZHMiLDIpLHM6ZGF0ZUdldHRlcigiU2Vjb25kcyIsMSksc3NzOmRhdGVHZXR0ZXIoIk1pbGxpc2Vjb25kcyIsMyksRUVFRTpkYXRlU3RyR2V0dGVyKCJEYXkiKSxFRUU6ZGF0ZVN0ckdldHRlcigiRGF5IiwhMCksYTphbXBtR2V0dGVyLFo6dGltZVpvbmVHZXR0ZXIsd3c6d2Vla0dldHRlcigyKSx3OndlZWtHZXR0ZXIoMSl9LERBVEVfRk9STUFUU19TUExJVD0vKCg/OlteeU1kSGhtc2FaRXcnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xkK3xIK3xoK3xtK3xzK3xhfFp8dyspKSguKikvLE5VTUJFUl9TVFJJTkc9L15cLT9cZCskLztkYXRlRmlsdGVyLiRpbmplY3Q9WyIkbG9jYWxlIl07dmFyIGxvd2VyY2FzZUZpbHRlcj12YWx1ZUZuKGxvd2VyY2FzZSksdXBwZXJjYXNlRmlsdGVyPXZhbHVlRm4odXBwZXJjYXNlKTtvcmRlckJ5RmlsdGVyLiRpbmplY3Q9WyIkcGFyc2UiXTt2YXIgaHRtbEFuY2hvckRpcmVjdGl2ZT12YWx1ZUZuKHtyZXN0cmljdDoiRSIsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe3JldHVybiBhdHRyLmhyZWZ8fGF0dHIueGxpbmtIcmVmfHxhdHRyLm5hbWU/dm9pZCAwOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQpe3ZhciBocmVmPSJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSI9PT10b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgiaHJlZiIpKT8ieGxpbms6aHJlZiI6ImhyZWYiO2VsZW1lbnQub24oImNsaWNrIixmdW5jdGlvbihldmVudCl7ZWxlbWVudC5hdHRyKGhyZWYpfHxldmVudC5wcmV2ZW50RGVmYXVsdCgpfSl9fX0pLG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzPXt9O2ZvckVhY2goQk9PTEVBTl9BVFRSLGZ1bmN0aW9uKHByb3BOYW1lLGF0dHJOYW1lKXtpZigibXVsdGlwbGUiIT1wcm9wTmFtZSl7dmFyIG5vcm1hbGl6ZWQ9ZGlyZWN0aXZlTm9ybWFsaXplKCJuZy0iK2F0dHJOYW1lKTtuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSxmdW5jdGlvbih2YWx1ZSl7YXR0ci4kc2V0KGF0dHJOYW1lLCEhdmFsdWUpfSl9fX19fSksZm9yRWFjaChBTElBU0VEX0FUVFIsZnVuY3Rpb24oaHRtbEF0dHIsbmdBdHRyKXtuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tuZ0F0dHJdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7aWYoIm5nUGF0dGVybiI9PT1uZ0F0dHImJiIvIj09YXR0ci5uZ1BhdHRlcm4uY2hhckF0KDApKXt2YXIgbWF0Y2g9YXR0ci5uZ1BhdHRlcm4ubWF0Y2goUkVHRVhfU1RSSU5HX1JFR0VYUCk7aWYobWF0Y2gpcmV0dXJuIHZvaWQgYXR0ci4kc2V0KCJuZ1BhdHRlcm4iLG5ldyBSZWdFeHAobWF0Y2hbMV0sbWF0Y2hbMl0pKX1zY29wZS4kd2F0Y2goYXR0cltuZ0F0dHJdLGZ1bmN0aW9uKHZhbHVlKXthdHRyLiRzZXQobmdBdHRyLHZhbHVlKX0pfX19fSksZm9yRWFjaChbInNyYyIsInNyY3NldCIsImhyZWYiXSxmdW5jdGlvbihhdHRyTmFtZSl7dmFyIG5vcm1hbGl6ZWQ9ZGlyZWN0aXZlTm9ybWFsaXplKCJuZy0iK2F0dHJOYW1lKTtuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eTo5OSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyIHByb3BOYW1lPWF0dHJOYW1lLG5hbWU9YXR0ck5hbWU7ImhyZWYiPT09YXR0ck5hbWUmJiJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSI9PT10b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgiaHJlZiIpKSYmKG5hbWU9InhsaW5rSHJlZiIsYXR0ci4kYXR0cltuYW1lXT0ieGxpbms6aHJlZiIscHJvcE5hbWU9bnVsbCksYXR0ci4kb2JzZXJ2ZShub3JtYWxpemVkLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU/KGF0dHIuJHNldChuYW1lLHZhbHVlKSx2b2lkKG1zaWUmJnByb3BOYW1lJiZlbGVtZW50LnByb3AocHJvcE5hbWUsYXR0cltuYW1lXSkpKTp2b2lkKCJocmVmIj09PWF0dHJOYW1lJiZhdHRyLiRzZXQobmFtZSxudWxsKSl9KX19fX0pO3ZhciBudWxsRm9ybUN0cmw9eyRhZGRDb250cm9sOm5vb3AsJCRyZW5hbWVDb250cm9sOm51bGxGb3JtUmVuYW1lQ29udHJvbCwkcmVtb3ZlQ29udHJvbDpub29wLCRzZXRWYWxpZGl0eTpub29wLCRzZXREaXJ0eTpub29wLCRzZXRQcmlzdGluZTpub29wLCRzZXRTdWJtaXR0ZWQ6bm9vcH0sU1VCTUlUVEVEX0NMQVNTPSJuZy1zdWJtaXR0ZWQiO0Zvcm1Db250cm9sbGVyLiRpbmplY3Q9WyIkZWxlbWVudCIsIiRhdHRycyIsIiRzY29wZSIsIiRhbmltYXRlIiwiJGludGVycG9sYXRlIl07dmFyIGZvcm1EaXJlY3RpdmVGYWN0b3J5PWZ1bmN0aW9uKGlzTmdGb3JtKXtyZXR1cm5bIiR0aW1lb3V0IixmdW5jdGlvbigkdGltZW91dCl7dmFyIGZvcm1EaXJlY3RpdmU9e25hbWU6ImZvcm0iLHJlc3RyaWN0OmlzTmdGb3JtPyJFQUMiOiJFIixjb250cm9sbGVyOkZvcm1Db250cm9sbGVyLGNvbXBpbGU6ZnVuY3Rpb24oZm9ybUVsZW1lbnQpe3JldHVybiBmb3JtRWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpLHtwcmU6ZnVuY3Rpb24oc2NvcGUsZm9ybUVsZW1lbnQsYXR0cixjb250cm9sbGVyKXtpZighKCJhY3Rpb24iaW4gYXR0cikpe3ZhciBoYW5kbGVGb3JtU3VibWlzc2lvbj1mdW5jdGlvbihldmVudCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7Y29udHJvbGxlci4kY29tbWl0Vmlld1ZhbHVlKCksY29udHJvbGxlci4kc2V0U3VibWl0dGVkKCl9KSxldmVudC5wcmV2ZW50RGVmYXVsdD9ldmVudC5wcmV2ZW50RGVmYXVsdCgpOmV2ZW50LnJldHVyblZhbHVlPSExfTthZGRFdmVudExpc3RlbmVyRm4oZm9ybUVsZW1lbnRbMF0sInN1Ym1pdCIsaGFuZGxlRm9ybVN1Ym1pc3Npb24pLGZvcm1FbGVtZW50Lm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskdGltZW91dChmdW5jdGlvbigpe3JlbW92ZUV2ZW50TGlzdGVuZXJGbihmb3JtRWxlbWVudFswXSwic3VibWl0IixoYW5kbGVGb3JtU3VibWlzc2lvbil9LDAsITEpfSl9dmFyIHBhcmVudEZvcm1DdHJsPWNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLGFsaWFzPWNvbnRyb2xsZXIuJG5hbWU7YWxpYXMmJihzZXR0ZXIoc2NvcGUsYWxpYXMsY29udHJvbGxlcixhbGlhcyksYXR0ci4kb2JzZXJ2ZShhdHRyLm5hbWU/Im5hbWUiOiJuZ0Zvcm0iLGZ1bmN0aW9uKG5ld1ZhbHVlKXthbGlhcyE9PW5ld1ZhbHVlJiYoc2V0dGVyKHNjb3BlLGFsaWFzLHVuZGVmaW5lZCxhbGlhcyksYWxpYXM9bmV3VmFsdWUsc2V0dGVyKHNjb3BlLGFsaWFzLGNvbnRyb2xsZXIsYWxpYXMpLHBhcmVudEZvcm1DdHJsLiQkcmVuYW1lQ29udHJvbChjb250cm9sbGVyLGFsaWFzKSl9KSksZm9ybUVsZW1lbnQub24oIiRkZXN0cm95IixmdW5jdGlvbigpe3BhcmVudEZvcm1DdHJsLiRyZW1vdmVDb250cm9sKGNvbnRyb2xsZXIpLGFsaWFzJiZzZXR0ZXIoc2NvcGUsYWxpYXMsdW5kZWZpbmVkLGFsaWFzKSxleHRlbmQoY29udHJvbGxlcixudWxsRm9ybUN0cmwpfSl9fX19O3JldHVybiBmb3JtRGlyZWN0aXZlfV19LGZvcm1EaXJlY3RpdmU9Zm9ybURpcmVjdGl2ZUZhY3RvcnkoKSxuZ0Zvcm1EaXJlY3RpdmU9Zm9ybURpcmVjdGl2ZUZhY3RvcnkoITApLElTT19EQVRFX1JFR0VYUD0vXGR7NH0tWzAxXVxkLVswLTNdXGRUWzAtMl1cZDpbMC01XVxkOlswLTVdXGRcLlxkKyhbKy1dWzAtMl1cZDpbMC01XVxkfFopLyxVUkxfUkVHRVhQPS9eKGZ0cHxodHRwfGh0dHBzKTpcL1wvKFx3Kzp7MCwxfVx3KkApPyhcUyspKDpbMC05XSspPyhcL3xcLyhbXHcjITouPys9JiVAIVwtXC9dKSk/JC8sRU1BSUxfUkVHRVhQPS9eW2EtejAtOSEjJCUmJyorXC89P15fYHt8fX4uLV0rQFthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KFwuW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8pKiQvaSxOVU1CRVJfUkVHRVhQPS9eXHMqKFwtfFwrKT8oXGQrfChcZCooXC5cZCopKSlccyokLyxEQVRFX1JFR0VYUD0vXihcZHs0fSktKFxkezJ9KS0oXGR7Mn0pJC8sREFURVRJTUVMT0NBTF9SRUdFWFA9L14oXGR7NH0pLShcZFxkKS0oXGRcZClUKFxkXGQpOihcZFxkKSg/OjooXGRcZCkoXC5cZHsxLDN9KT8pPyQvLFdFRUtfUkVHRVhQPS9eKFxkezR9KS1XKFxkXGQpJC8sTU9OVEhfUkVHRVhQPS9eKFxkezR9KS0oXGRcZCkkLyxUSU1FX1JFR0VYUD0vXihcZFxkKTooXGRcZCkoPzo6KFxkXGQpKFwuXGR7MSwzfSk/KT8kLyxERUZBVUxUX1JFR0VYUD0vKFxzK3xeKWRlZmF1bHQoXHMrfCQpLywkbmdNb2RlbE1pbkVycj1uZXcgbWluRXJyKCJuZ01vZGVsIiksaW5wdXRUeXBlPXt0ZXh0OnRleHRJbnB1dFR5cGUsZGF0ZTpjcmVhdGVEYXRlSW5wdXRUeXBlKCJkYXRlIixEQVRFX1JFR0VYUCxjcmVhdGVEYXRlUGFyc2VyKERBVEVfUkVHRVhQLFsieXl5eSIsIk1NIiwiZGQiXSksInl5eXktTU0tZGQiKSwiZGF0ZXRpbWUtbG9jYWwiOmNyZWF0ZURhdGVJbnB1dFR5cGUoImRhdGV0aW1lbG9jYWwiLERBVEVUSU1FTE9DQUxfUkVHRVhQLGNyZWF0ZURhdGVQYXJzZXIoREFURVRJTUVMT0NBTF9SRUdFWFAsWyJ5eXl5IiwiTU0iLCJkZCIsIkhIIiwibW0iLCJzcyIsInNzcyJdKSwieXl5eS1NTS1kZFRISDptbTpzcy5zc3MiKSx0aW1lOmNyZWF0ZURhdGVJbnB1dFR5cGUoInRpbWUiLFRJTUVfUkVHRVhQLGNyZWF0ZURhdGVQYXJzZXIoVElNRV9SRUdFWFAsWyJISCIsIm1tIiwic3MiLCJzc3MiXSksIkhIOm1tOnNzLnNzcyIpLHdlZWs6Y3JlYXRlRGF0ZUlucHV0VHlwZSgid2VlayIsV0VFS19SRUdFWFAsd2Vla1BhcnNlciwieXl5eS1Xd3ciKSxtb250aDpjcmVhdGVEYXRlSW5wdXRUeXBlKCJtb250aCIsTU9OVEhfUkVHRVhQLGNyZWF0ZURhdGVQYXJzZXIoTU9OVEhfUkVHRVhQLFsieXl5eSIsIk1NIl0pLCJ5eXl5LU1NIiksbnVtYmVyOm51bWJlcklucHV0VHlwZSx1cmw6dXJsSW5wdXRUeXBlLGVtYWlsOmVtYWlsSW5wdXRUeXBlLHJhZGlvOnJhZGlvSW5wdXRUeXBlLGNoZWNrYm94OmNoZWNrYm94SW5wdXRUeXBlLGhpZGRlbjpub29wLGJ1dHRvbjpub29wLHN1Ym1pdDpub29wLHJlc2V0Om5vb3AsZmlsZTpub29wfSxpbnB1dERpcmVjdGl2ZT1bIiRicm93c2VyIiwiJHNuaWZmZXIiLCIkZmlsdGVyIiwiJHBhcnNlIixmdW5jdGlvbigkYnJvd3Nlciwkc25pZmZlciwkZmlsdGVyLCRwYXJzZSl7cmV0dXJue3Jlc3RyaWN0OiJFIixyZXF1aXJlOlsiP25nTW9kZWwiXSxsaW5rOntwcmU6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGN0cmxzKXtjdHJsc1swXSYmKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV18fGlucHV0VHlwZS50ZXh0KShzY29wZSxlbGVtZW50LGF0dHIsY3RybHNbMF0sJHNuaWZmZXIsJGJyb3dzZXIsJGZpbHRlciwkcGFyc2UpfX19fV0sVkFMSURfQ0xBU1M9Im5nLXZhbGlkIixJTlZBTElEX0NMQVNTPSJuZy1pbnZhbGlkIixQUklTVElORV9DTEFTUz0ibmctcHJpc3RpbmUiLERJUlRZX0NMQVNTPSJuZy1kaXJ0eSIsVU5UT1VDSEVEX0NMQVNTPSJuZy11bnRvdWNoZWQiLFRPVUNIRURfQ0xBU1M9Im5nLXRvdWNoZWQiLFBFTkRJTkdfQ0xBU1M9Im5nLXBlbmRpbmciLE5nTW9kZWxDb250cm9sbGVyPVsiJHNjb3BlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkYXR0cnMiLCIkZWxlbWVudCIsIiRwYXJzZSIsIiRhbmltYXRlIiwiJHRpbWVvdXQiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaW50ZXJwb2xhdGUiLGZ1bmN0aW9uKCRzY29wZSwkZXhjZXB0aW9uSGFuZGxlciwkYXR0ciwkZWxlbWVudCwkcGFyc2UsJGFuaW1hdGUsJHRpbWVvdXQsJHJvb3RTY29wZSwkcSwkaW50ZXJwb2xhdGUpe3RoaXMuJHZpZXdWYWx1ZT1OdW1iZXIuTmFOLHRoaXMuJG1vZGVsVmFsdWU9TnVtYmVyLk5hTix0aGlzLiR2YWxpZGF0b3JzPXt9LHRoaXMuJGFzeW5jVmFsaWRhdG9ycz17fSx0aGlzLiRwYXJzZXJzPVtdLHRoaXMuJGZvcm1hdHRlcnM9W10sdGhpcy4kdmlld0NoYW5nZUxpc3RlbmVycz1bXSx0aGlzLiR1bnRvdWNoZWQ9ITAsdGhpcy4kdG91Y2hlZD0hMSx0aGlzLiRwcmlzdGluZT0hMCx0aGlzLiRkaXJ0eT0hMSx0aGlzLiR2YWxpZD0hMCx0aGlzLiRpbnZhbGlkPSExLHRoaXMuJGVycm9yPXt9LHRoaXMuJCRzdWNjZXNzPXt9LHRoaXMuJHBlbmRpbmc9dW5kZWZpbmVkLHRoaXMuJG5hbWU9JGludGVycG9sYXRlKCRhdHRyLm5hbWV8fCIiLCExKSgkc2NvcGUpOwp2YXIgcGFyc2VkTmdNb2RlbD0kcGFyc2UoJGF0dHIubmdNb2RlbCkscGVuZGluZ0RlYm91bmNlPW51bGwsY3RybD10aGlzLG5nTW9kZWxHZXQ9ZnVuY3Rpb24oKXt2YXIgbW9kZWxWYWx1ZT1wYXJzZWROZ01vZGVsKCRzY29wZSk7cmV0dXJuIGN0cmwuJG9wdGlvbnMmJmN0cmwuJG9wdGlvbnMuZ2V0dGVyU2V0dGVyJiZpc0Z1bmN0aW9uKG1vZGVsVmFsdWUpJiYobW9kZWxWYWx1ZT1tb2RlbFZhbHVlKCkpLG1vZGVsVmFsdWV9LG5nTW9kZWxTZXQ9ZnVuY3Rpb24oKXt2YXIgZ2V0dGVyU2V0dGVyO2N0cmwuJG9wdGlvbnMmJmN0cmwuJG9wdGlvbnMuZ2V0dGVyU2V0dGVyJiZpc0Z1bmN0aW9uKGdldHRlclNldHRlcj1wYXJzZWROZ01vZGVsKCRzY29wZSkpP2dldHRlclNldHRlcihjdHJsLiRtb2RlbFZhbHVlKTpwYXJzZWROZ01vZGVsLmFzc2lnbigkc2NvcGUsY3RybC4kbW9kZWxWYWx1ZSl9O3RoaXMuJCRzZXRPcHRpb25zPWZ1bmN0aW9uKG9wdGlvbnMpe2lmKGN0cmwuJG9wdGlvbnM9b3B0aW9ucywhKHBhcnNlZE5nTW9kZWwuYXNzaWdufHxvcHRpb25zJiZvcHRpb25zLmdldHRlclNldHRlcikpdGhyb3cgJG5nTW9kZWxNaW5FcnIoIm5vbmFzc2lnbiIsIkV4cHJlc3Npb24gJ3swfScgaXMgbm9uLWFzc2lnbmFibGUuIEVsZW1lbnQ6IHsxfSIsJGF0dHIubmdNb2RlbCxzdGFydGluZ1RhZygkZWxlbWVudCkpfSx0aGlzLiRyZW5kZXI9bm9vcCx0aGlzLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpfHwiIj09PXZhbHVlfHxudWxsPT09dmFsdWV8fHZhbHVlIT09dmFsdWV9O3ZhciBwYXJlbnRGb3JtPSRlbGVtZW50LmluaGVyaXRlZERhdGEoIiRmb3JtQ29udHJvbGxlciIpfHxudWxsRm9ybUN0cmwsY3VycmVudFZhbGlkYXRpb25SdW5JZD0wO2FkZFNldFZhbGlkaXR5TWV0aG9kKHtjdHJsOnRoaXMsJGVsZW1lbnQ6JGVsZW1lbnQsc2V0OmZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7b2JqZWN0W3Byb3BlcnR5XT0hMH0sdW5zZXQ6ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtkZWxldGUgb2JqZWN0W3Byb3BlcnR5XX0scGFyZW50Rm9ybTpwYXJlbnRGb3JtLCRhbmltYXRlOiRhbmltYXRlfSksdGhpcy4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXtjdHJsLiRkaXJ0eT0hMSxjdHJsLiRwcmlzdGluZT0hMCwkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCxESVJUWV9DTEFTUyksJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsUFJJU1RJTkVfQ0xBU1MpfSx0aGlzLiRzZXRVbnRvdWNoZWQ9ZnVuY3Rpb24oKXtjdHJsLiR0b3VjaGVkPSExLGN0cmwuJHVudG91Y2hlZD0hMCwkYW5pbWF0ZS5zZXRDbGFzcygkZWxlbWVudCxVTlRPVUNIRURfQ0xBU1MsVE9VQ0hFRF9DTEFTUyl9LHRoaXMuJHNldFRvdWNoZWQ9ZnVuY3Rpb24oKXtjdHJsLiR0b3VjaGVkPSEwLGN0cmwuJHVudG91Y2hlZD0hMSwkYW5pbWF0ZS5zZXRDbGFzcygkZWxlbWVudCxUT1VDSEVEX0NMQVNTLFVOVE9VQ0hFRF9DTEFTUyl9LHRoaXMuJHJvbGxiYWNrVmlld1ZhbHVlPWZ1bmN0aW9uKCl7JHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSksY3RybC4kdmlld1ZhbHVlPWN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLGN0cmwuJHJlbmRlcigpfSx0aGlzLiR2YWxpZGF0ZT1mdW5jdGlvbigpe2lzTnVtYmVyKGN0cmwuJG1vZGVsVmFsdWUpJiZpc05hTihjdHJsLiRtb2RlbFZhbHVlKXx8dGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKX0sdGhpcy4kJHJ1blZhbGlkYXRvcnM9ZnVuY3Rpb24ocGFyc2VWYWxpZCxtb2RlbFZhbHVlLHZpZXdWYWx1ZSxkb25lQ2FsbGJhY2spe2Z1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKXt2YXIgZXJyb3JLZXk9Y3RybC4kJHBhcnNlck5hbWV8fCJwYXJzZSI7aWYocGFyc2VWYWxpZD09PXVuZGVmaW5lZClzZXRWYWxpZGl0eShlcnJvcktleSxudWxsKTtlbHNlIGlmKHNldFZhbGlkaXR5KGVycm9yS2V5LHBhcnNlVmFsaWQpLCFwYXJzZVZhbGlkKXJldHVybiBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsZnVuY3Rpb24odixuYW1lKXtzZXRWYWxpZGl0eShuYW1lLG51bGwpfSksZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24odixuYW1lKXtzZXRWYWxpZGl0eShuYW1lLG51bGwpfSksITE7cmV0dXJuITB9ZnVuY3Rpb24gcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCl7dmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQ9ITA7cmV0dXJuIGZvckVhY2goY3RybC4kdmFsaWRhdG9ycyxmdW5jdGlvbih2YWxpZGF0b3IsbmFtZSl7dmFyIHJlc3VsdD12YWxpZGF0b3IobW9kZWxWYWx1ZSx2aWV3VmFsdWUpO3N5bmNWYWxpZGF0b3JzVmFsaWQ9c3luY1ZhbGlkYXRvcnNWYWxpZCYmcmVzdWx0LHNldFZhbGlkaXR5KG5hbWUscmVzdWx0KX0pLHN5bmNWYWxpZGF0b3JzVmFsaWQ/ITA6KGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKHYsbmFtZSl7c2V0VmFsaWRpdHkobmFtZSxudWxsKX0pLCExKX1mdW5jdGlvbiBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCl7dmFyIHZhbGlkYXRvclByb21pc2VzPVtdLGFsbFZhbGlkPSEwO2ZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKHZhbGlkYXRvcixuYW1lKXt2YXIgcHJvbWlzZT12YWxpZGF0b3IobW9kZWxWYWx1ZSx2aWV3VmFsdWUpO2lmKCFpc1Byb21pc2VMaWtlKHByb21pc2UpKXRocm93ICRuZ01vZGVsTWluRXJyKCIkYXN5bmNWYWxpZGF0b3JzIiwiRXhwZWN0ZWQgYXN5bmNocm9ub3VzIHZhbGlkYXRvciB0byByZXR1cm4gYSBwcm9taXNlIGJ1dCBnb3QgJ3swfScgaW5zdGVhZC4iLHByb21pc2UpO3NldFZhbGlkaXR5KG5hbWUsdW5kZWZpbmVkKSx2YWxpZGF0b3JQcm9taXNlcy5wdXNoKHByb21pc2UudGhlbihmdW5jdGlvbigpe3NldFZhbGlkaXR5KG5hbWUsITApfSxmdW5jdGlvbigpe2FsbFZhbGlkPSExLHNldFZhbGlkaXR5KG5hbWUsITEpfSkpfSksdmFsaWRhdG9yUHJvbWlzZXMubGVuZ3RoPyRxLmFsbCh2YWxpZGF0b3JQcm9taXNlcykudGhlbihmdW5jdGlvbigpe3ZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKX0sbm9vcCk6dmFsaWRhdGlvbkRvbmUoITApfWZ1bmN0aW9uIHNldFZhbGlkaXR5KG5hbWUsaXNWYWxpZCl7bG9jYWxWYWxpZGF0aW9uUnVuSWQ9PT1jdXJyZW50VmFsaWRhdGlvblJ1bklkJiZjdHJsLiRzZXRWYWxpZGl0eShuYW1lLGlzVmFsaWQpfWZ1bmN0aW9uIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKXtsb2NhbFZhbGlkYXRpb25SdW5JZD09PWN1cnJlbnRWYWxpZGF0aW9uUnVuSWQmJmRvbmVDYWxsYmFjayhhbGxWYWxpZCl9Y3VycmVudFZhbGlkYXRpb25SdW5JZCsrO3ZhciBsb2NhbFZhbGlkYXRpb25SdW5JZD1jdXJyZW50VmFsaWRhdGlvblJ1bklkO3JldHVybiBwcm9jZXNzUGFyc2VFcnJvcnMocGFyc2VWYWxpZCkmJnByb2Nlc3NTeW5jVmFsaWRhdG9ycygpP3ZvaWQgcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpOnZvaWQgdmFsaWRhdGlvbkRvbmUoITEpfSx0aGlzLiRjb21taXRWaWV3VmFsdWU9ZnVuY3Rpb24oKXt2YXIgdmlld1ZhbHVlPWN0cmwuJHZpZXdWYWx1ZTskdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKSwoY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUhPT12aWV3VmFsdWV8fCIiPT09dmlld1ZhbHVlJiZjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykmJihjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZT12aWV3VmFsdWUsY3RybC4kcHJpc3RpbmUmJihjdHJsLiRkaXJ0eT0hMCxjdHJsLiRwcmlzdGluZT0hMSwkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCxQUklTVElORV9DTEFTUyksJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsRElSVFlfQ0xBU1MpLHBhcmVudEZvcm0uJHNldERpcnR5KCkpLHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlKCkpfSx0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCl7Y3RybC4kbW9kZWxWYWx1ZSE9PXByZXZNb2RlbFZhbHVlJiZjdHJsLiQkd3JpdGVNb2RlbFRvU2NvcGUoKX12YXIgdmlld1ZhbHVlPWN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLG1vZGVsVmFsdWU9dmlld1ZhbHVlLHBhcnNlclZhbGlkPWlzVW5kZWZpbmVkKG1vZGVsVmFsdWUpP3VuZGVmaW5lZDohMDtpZihwYXJzZXJWYWxpZClmb3IodmFyIGk9MDtpPGN0cmwuJHBhcnNlcnMubGVuZ3RoO2krKylpZihtb2RlbFZhbHVlPWN0cmwuJHBhcnNlcnNbaV0obW9kZWxWYWx1ZSksaXNVbmRlZmluZWQobW9kZWxWYWx1ZSkpe3BhcnNlclZhbGlkPSExO2JyZWFrfWlzTnVtYmVyKGN0cmwuJG1vZGVsVmFsdWUpJiZpc05hTihjdHJsLiRtb2RlbFZhbHVlKSYmKGN0cmwuJG1vZGVsVmFsdWU9bmdNb2RlbEdldCgpKTt2YXIgcHJldk1vZGVsVmFsdWU9Y3RybC4kbW9kZWxWYWx1ZSxhbGxvd0ludmFsaWQ9Y3RybC4kb3B0aW9ucyYmY3RybC4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7YWxsb3dJbnZhbGlkJiYoY3RybC4kbW9kZWxWYWx1ZT1tb2RlbFZhbHVlLHdyaXRlVG9Nb2RlbElmTmVlZGVkKCkpLGN0cmwuJCRydW5WYWxpZGF0b3JzKHBhcnNlclZhbGlkLG1vZGVsVmFsdWUsdmlld1ZhbHVlLGZ1bmN0aW9uKGFsbFZhbGlkKXthbGxvd0ludmFsaWR8fChjdHJsLiRtb2RlbFZhbHVlPWFsbFZhbGlkP21vZGVsVmFsdWU6dW5kZWZpbmVkLHdyaXRlVG9Nb2RlbElmTmVlZGVkKCkpfSl9LHRoaXMuJCR3cml0ZU1vZGVsVG9TY29wZT1mdW5jdGlvbigpe25nTW9kZWxTZXQoY3RybC4kbW9kZWxWYWx1ZSksZm9yRWFjaChjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLGZ1bmN0aW9uKGxpc3RlbmVyKXt0cnl7bGlzdGVuZXIoKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX19KX0sdGhpcy4kc2V0Vmlld1ZhbHVlPWZ1bmN0aW9uKHZhbHVlLHRyaWdnZXIpe2N0cmwuJHZpZXdWYWx1ZT12YWx1ZSwoIWN0cmwuJG9wdGlvbnN8fGN0cmwuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0KSYmY3RybC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KHRyaWdnZXIpfSx0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQ9ZnVuY3Rpb24odHJpZ2dlcil7dmFyIGRlYm91bmNlLGRlYm91bmNlRGVsYXk9MCxvcHRpb25zPWN0cmwuJG9wdGlvbnM7b3B0aW9ucyYmaXNEZWZpbmVkKG9wdGlvbnMuZGVib3VuY2UpJiYoZGVib3VuY2U9b3B0aW9ucy5kZWJvdW5jZSxpc051bWJlcihkZWJvdW5jZSk/ZGVib3VuY2VEZWxheT1kZWJvdW5jZTppc051bWJlcihkZWJvdW5jZVt0cmlnZ2VyXSk/ZGVib3VuY2VEZWxheT1kZWJvdW5jZVt0cmlnZ2VyXTppc051bWJlcihkZWJvdW5jZVsiZGVmYXVsdCJdKSYmKGRlYm91bmNlRGVsYXk9ZGVib3VuY2VbImRlZmF1bHQiXSkpLCR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpLGRlYm91bmNlRGVsYXk/cGVuZGluZ0RlYm91bmNlPSR0aW1lb3V0KGZ1bmN0aW9uKCl7Y3RybC4kY29tbWl0Vmlld1ZhbHVlKCl9LGRlYm91bmNlRGVsYXkpOiRyb290U2NvcGUuJCRwaGFzZT9jdHJsLiRjb21taXRWaWV3VmFsdWUoKTokc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7Y3RybC4kY29tbWl0Vmlld1ZhbHVlKCl9KX0sJHNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3ZhciBtb2RlbFZhbHVlPW5nTW9kZWxHZXQoKTtpZihtb2RlbFZhbHVlIT09Y3RybC4kbW9kZWxWYWx1ZSl7Y3RybC4kbW9kZWxWYWx1ZT1tb2RlbFZhbHVlO2Zvcih2YXIgZm9ybWF0dGVycz1jdHJsLiRmb3JtYXR0ZXJzLGlkeD1mb3JtYXR0ZXJzLmxlbmd0aCx2aWV3VmFsdWU9bW9kZWxWYWx1ZTtpZHgtLTspdmlld1ZhbHVlPWZvcm1hdHRlcnNbaWR4XSh2aWV3VmFsdWUpO2N0cmwuJHZpZXdWYWx1ZSE9PXZpZXdWYWx1ZSYmKGN0cmwuJHZpZXdWYWx1ZT1jdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZT12aWV3VmFsdWUsY3RybC4kcmVuZGVyKCksY3RybC4kJHJ1blZhbGlkYXRvcnModW5kZWZpbmVkLG1vZGVsVmFsdWUsdmlld1ZhbHVlLG5vb3ApKX1yZXR1cm4gbW9kZWxWYWx1ZX0pfV0sbmdNb2RlbERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscmVxdWlyZTpbIm5nTW9kZWwiLCJeP2Zvcm0iLCJeP25nTW9kZWxPcHRpb25zIl0sY29udHJvbGxlcjpOZ01vZGVsQ29udHJvbGxlcixwcmlvcml0eToxLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFVOVE9VQ0hFRF9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpLHtwcmU6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGN0cmxzKXt2YXIgbW9kZWxDdHJsPWN0cmxzWzBdLGZvcm1DdHJsPWN0cmxzWzFdfHxudWxsRm9ybUN0cmw7bW9kZWxDdHJsLiQkc2V0T3B0aW9ucyhjdHJsc1syXSYmY3RybHNbMl0uJG9wdGlvbnMpLGZvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCksYXR0ci4kb2JzZXJ2ZSgibmFtZSIsZnVuY3Rpb24obmV3VmFsdWUpe21vZGVsQ3RybC4kbmFtZSE9PW5ld1ZhbHVlJiZmb3JtQ3RybC4kJHJlbmFtZUNvbnRyb2wobW9kZWxDdHJsLG5ld1ZhbHVlKX0pLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Zm9ybUN0cmwuJHJlbW92ZUNvbnRyb2wobW9kZWxDdHJsKX0pfSxwb3N0OmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJscyl7dmFyIG1vZGVsQ3RybD1jdHJsc1swXTttb2RlbEN0cmwuJG9wdGlvbnMmJm1vZGVsQ3RybC4kb3B0aW9ucy51cGRhdGVPbiYmZWxlbWVudC5vbihtb2RlbEN0cmwuJG9wdGlvbnMudXBkYXRlT24sZnVuY3Rpb24oZXYpe21vZGVsQ3RybC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGV2JiZldi50eXBlKX0pLGVsZW1lbnQub24oImJsdXIiLGZ1bmN0aW9uKCl7bW9kZWxDdHJsLiR0b3VjaGVkfHxzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXttb2RlbEN0cmwuJHNldFRvdWNoZWQoKX0pfSl9fX19fSxuZ0NoYW5nZURpcmVjdGl2ZT12YWx1ZUZuKHtyZXN0cmljdDoiQSIscmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7Y3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7c2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSl9KX19KSxyZXF1aXJlZERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiP25nTW9kZWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHIsY3RybCl7Y3RybCYmKGF0dHIucmVxdWlyZWQ9ITAsY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIWF0dHIucmVxdWlyZWR8fCFjdHJsLiRpc0VtcHR5KHZhbHVlKX0sYXR0ci4kb2JzZXJ2ZSgicmVxdWlyZWQiLGZ1bmN0aW9uKCl7Y3RybC4kdmFsaWRhdGUoKX0pKX19fSxwYXR0ZXJuRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cixjdHJsKXtpZihjdHJsKXt2YXIgcmVnZXhwLHBhdHRlcm5FeHA9YXR0ci5uZ1BhdHRlcm58fGF0dHIucGF0dGVybjthdHRyLiRvYnNlcnZlKCJwYXR0ZXJuIixmdW5jdGlvbihyZWdleCl7aWYoaXNTdHJpbmcocmVnZXgpJiZyZWdleC5sZW5ndGg+MCYmKHJlZ2V4PW5ldyBSZWdFeHAocmVnZXgpKSxyZWdleCYmIXJlZ2V4LnRlc3QpdGhyb3cgbWluRXJyKCJuZ1BhdHRlcm4iKSgibm9yZWdleHAiLCJFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfSIscGF0dGVybkV4cCxyZWdleCxzdGFydGluZ1RhZyhlbG0pKTtyZWdleHA9cmVnZXh8fHVuZGVmaW5lZCxjdHJsLiR2YWxpZGF0ZSgpfSksY3RybC4kdmFsaWRhdG9ycy5wYXR0ZXJuPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSl8fGlzVW5kZWZpbmVkKHJlZ2V4cCl8fHJlZ2V4cC50ZXN0KHZhbHVlKX19fX19LG1heGxlbmd0aERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiP25nTW9kZWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHIsY3RybCl7aWYoY3RybCl7dmFyIG1heGxlbmd0aD0wO2F0dHIuJG9ic2VydmUoIm1heGxlbmd0aCIsZnVuY3Rpb24odmFsdWUpe21heGxlbmd0aD1pbnQodmFsdWUpfHwwLGN0cmwuJHZhbGlkYXRlKCl9KSxjdHJsLiR2YWxpZGF0b3JzLm1heGxlbmd0aD1mdW5jdGlvbihtb2RlbFZhbHVlLHZpZXdWYWx1ZSl7cmV0dXJuIGN0cmwuJGlzRW1wdHkobW9kZWxWYWx1ZSl8fHZpZXdWYWx1ZS5sZW5ndGg8PW1heGxlbmd0aH19fX19LG1pbmxlbmd0aERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiP25nTW9kZWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHIsY3RybCl7aWYoY3RybCl7dmFyIG1pbmxlbmd0aD0wO2F0dHIuJG9ic2VydmUoIm1pbmxlbmd0aCIsZnVuY3Rpb24odmFsdWUpe21pbmxlbmd0aD1pbnQodmFsdWUpfHwwLGN0cmwuJHZhbGlkYXRlKCl9KSxjdHJsLiR2YWxpZGF0b3JzLm1pbmxlbmd0aD1mdW5jdGlvbihtb2RlbFZhbHVlLHZpZXdWYWx1ZSl7cmV0dXJuIGN0cmwuJGlzRW1wdHkobW9kZWxWYWx1ZSl8fHZpZXdWYWx1ZS5sZW5ndGg+PW1pbmxlbmd0aH19fX19LG5nTGlzdERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscHJpb3JpdHk6MTAwLHJlcXVpcmU6Im5nTW9kZWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwpe3ZhciBuZ0xpc3Q9ZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIubmdMaXN0KXx8IiwgIix0cmltVmFsdWVzPSJmYWxzZSIhPT1hdHRyLm5nVHJpbSxzZXBhcmF0b3I9dHJpbVZhbHVlcz90cmltKG5nTGlzdCk6bmdMaXN0LHBhcnNlPWZ1bmN0aW9uKHZpZXdWYWx1ZSl7aWYoIWlzVW5kZWZpbmVkKHZpZXdWYWx1ZSkpe3ZhciBsaXN0PVtdO3JldHVybiB2aWV3VmFsdWUmJmZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksZnVuY3Rpb24odmFsdWUpe3ZhbHVlJiZsaXN0LnB1c2godHJpbVZhbHVlcz90cmltKHZhbHVlKTp2YWx1ZSl9KSxsaXN0fX07Y3RybC4kcGFyc2Vycy5wdXNoKHBhcnNlKSxjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc0FycmF5KHZhbHVlKT92YWx1ZS5qb2luKG5nTGlzdCk6dW5kZWZpbmVkfSksY3RybC4kaXNFbXB0eT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIXZhbHVlfHwhdmFsdWUubGVuZ3RofX19fSxDT05TVEFOVF9WQUxVRV9SRUdFWFA9L14odHJ1ZXxmYWxzZXxcZCspJC8sbmdWYWx1ZURpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24odHBsLHRwbEF0dHIpe3JldHVybiBDT05TVEFOVF9WQUxVRV9SRUdFWFAudGVzdCh0cGxBdHRyLm5nVmFsdWUpP2Z1bmN0aW9uKHNjb3BlLGVsbSxhdHRyKXthdHRyLiRzZXQoInZhbHVlIixzY29wZS4kZXZhbChhdHRyLm5nVmFsdWUpKX06ZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHIpe3Njb3BlLiR3YXRjaChhdHRyLm5nVmFsdWUsZnVuY3Rpb24odmFsdWUpe2F0dHIuJHNldCgidmFsdWUiLHZhbHVlKX0pfX19fSxuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIsY29udHJvbGxlcjpbIiRzY29wZSIsIiRhdHRycyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyl7dmFyIHRoYXQ9dGhpczt0aGlzLiRvcHRpb25zPSRzY29wZS4kZXZhbCgkYXR0cnMubmdNb2RlbE9wdGlvbnMpLHRoaXMuJG9wdGlvbnMudXBkYXRlT24hPT11bmRlZmluZWQ/KHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSExLHRoaXMuJG9wdGlvbnMudXBkYXRlT249dHJpbSh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoREVGQVVMVF9SRUdFWFAsZnVuY3Rpb24oKXtyZXR1cm4gdGhhdC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITAsIiAifSkpKTp0aGlzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMH1dfX0sbmdCaW5kRGlyZWN0aXZlPVsiJGNvbXBpbGUiLGZ1bmN0aW9uKCRjb21waWxlKXtyZXR1cm57cmVzdHJpY3Q6IkFDIixjb21waWxlOmZ1bmN0aW9uKHRlbXBsYXRlRWxlbWVudCl7cmV0dXJuICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCksZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXskY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsYXR0ci5uZ0JpbmQpLGVsZW1lbnQ9ZWxlbWVudFswXSxzY29wZS4kd2F0Y2goYXR0ci5uZ0JpbmQsZnVuY3Rpb24odmFsdWUpe2VsZW1lbnQudGV4dENvbnRlbnQ9dmFsdWU9PT11bmRlZmluZWQ/IiI6dmFsdWV9KX19fX1dLG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlPVsiJGludGVycG9sYXRlIiwiJGNvbXBpbGUiLGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSwkY29tcGlsZSl7cmV0dXJue2NvbXBpbGU6ZnVuY3Rpb24odGVtcGxhdGVFbGVtZW50KXtyZXR1cm4gJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KSxmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe3ZhciBpbnRlcnBvbGF0ZUZuPSRpbnRlcnBvbGF0ZShlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpOyRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCxpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKSxlbGVtZW50PWVsZW1lbnRbMF0sYXR0ci4kb2JzZXJ2ZSgibmdCaW5kVGVtcGxhdGUiLGZ1bmN0aW9uKHZhbHVlKXtlbGVtZW50LnRleHRDb250ZW50PXZhbHVlPT09dW5kZWZpbmVkPyIiOnZhbHVlfSl9fX19XSxuZ0JpbmRIdG1sRGlyZWN0aXZlPVsiJHNjZSIsIiRwYXJzZSIsIiRjb21waWxlIixmdW5jdGlvbigkc2NlLCRwYXJzZSwkY29tcGlsZSl7cmV0dXJue3Jlc3RyaWN0OiJBIixjb21waWxlOmZ1bmN0aW9uKHRFbGVtZW50LHRBdHRycyl7dmFyIG5nQmluZEh0bWxHZXR0ZXI9JHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sKSxuZ0JpbmRIdG1sV2F0Y2g9JHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4odmFsdWV8fCIiKS50b1N0cmluZygpfSk7cmV0dXJuICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRFbGVtZW50KSxmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpeyRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCxhdHRyLm5nQmluZEh0bWwpLHNjb3BlLiR3YXRjaChuZ0JpbmRIdG1sV2F0Y2gsZnVuY3Rpb24oKXtlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ0JpbmRIdG1sR2V0dGVyKHNjb3BlKSl8fCIiKX0pfX19fV0sbmdDbGFzc0RpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiIiwhMCksbmdDbGFzc09kZERpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiT2RkIiwwKSxuZ0NsYXNzRXZlbkRpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiRXZlbiIsMSksbmdDbG9ha0RpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7Y29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe2F0dHIuJHNldCgibmdDbG9hayIsdW5kZWZpbmVkKSxlbGVtZW50LnJlbW92ZUNsYXNzKCJuZy1jbG9hayIpfX0pLG5nQ29udHJvbGxlckRpcmVjdGl2ZT1bZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHNjb3BlOiEwLGNvbnRyb2xsZXI6IkAiLHByaW9yaXR5OjUwMH19XSxuZ0V2ZW50RGlyZWN0aXZlcz17fSxmb3JjZUFzeW5jRXZlbnRzPXtibHVyOiEwLGZvY3VzOiEwfTtmb3JFYWNoKCJjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2Vtb3ZlIG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBrZXlkb3duIGtleXVwIGtleXByZXNzIHN1Ym1pdCBmb2N1cyBibHVyIGNvcHkgY3V0IHBhc3RlIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGV2ZW50TmFtZSl7dmFyIGRpcmVjdGl2ZU5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKCJuZy0iK2V2ZW50TmFtZSk7bmdFdmVudERpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV09WyIkcGFyc2UiLCIkcm9vdFNjb3BlIixmdW5jdGlvbigkcGFyc2UsJHJvb3RTY29wZSl7cmV0dXJue3Jlc3RyaWN0OiJBIixjb21waWxlOmZ1bmN0aW9uKCRlbGVtZW50LGF0dHIpe3ZhciBmbj0kcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSk7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQpe2VsZW1lbnQub24oZXZlbnROYW1lLGZ1bmN0aW9uKGV2ZW50KXt2YXIgY2FsbGJhY2s9ZnVuY3Rpb24oKXtmbihzY29wZSx7JGV2ZW50OmV2ZW50fSl9O2ZvcmNlQXN5bmNFdmVudHNbZXZlbnROYW1lXSYmJHJvb3RTY29wZS4kJHBoYXNlP3Njb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spOnNjb3BlLiRhcHBseShjYWxsYmFjayl9KX19fX1dfSk7dmFyIG5nSWZEaXJlY3RpdmU9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oJGFuaW1hdGUpe3JldHVybnttdWx0aUVsZW1lbnQ6ITAsdHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6NjAwLHRlcm1pbmFsOiEwLHJlc3RyaWN0OiJBIiwkJHRsYjohMCxsaW5rOmZ1bmN0aW9uKCRzY29wZSwkZWxlbWVudCwkYXR0cixjdHJsLCR0cmFuc2NsdWRlKXt2YXIgYmxvY2ssY2hpbGRTY29wZSxwcmV2aW91c0VsZW1lbnRzOyRzY29wZS4kd2F0Y2goJGF0dHIubmdJZixmdW5jdGlvbih2YWx1ZSl7dmFsdWU/Y2hpbGRTY29wZXx8JHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUsbmV3U2NvcGUpe2NoaWxkU2NvcGU9bmV3U2NvcGUsY2xvbmVbY2xvbmUubGVuZ3RoKytdPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiBlbmQgbmdJZjogIiskYXR0ci5uZ0lmKyIgIiksYmxvY2s9e2Nsb25lOmNsb25lfSwkYW5pbWF0ZS5lbnRlcihjbG9uZSwkZWxlbWVudC5wYXJlbnQoKSwkZWxlbWVudCl9KToocHJldmlvdXNFbGVtZW50cyYmKHByZXZpb3VzRWxlbWVudHMucmVtb3ZlKCkscHJldmlvdXNFbGVtZW50cz1udWxsKSxjaGlsZFNjb3BlJiYoY2hpbGRTY29wZS4kZGVzdHJveSgpLGNoaWxkU2NvcGU9bnVsbCksYmxvY2smJihwcmV2aW91c0VsZW1lbnRzPWdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLCRhbmltYXRlLmxlYXZlKHByZXZpb3VzRWxlbWVudHMpLnRoZW4oZnVuY3Rpb24oKXtwcmV2aW91c0VsZW1lbnRzPW51bGx9KSxibG9jaz1udWxsKSl9KX19fV0sbmdJbmNsdWRlRGlyZWN0aXZlPVsiJHRlbXBsYXRlUmVxdWVzdCIsIiRhbmNob3JTY3JvbGwiLCIkYW5pbWF0ZSIsIiRzY2UiLGZ1bmN0aW9uKCR0ZW1wbGF0ZVJlcXVlc3QsJGFuY2hvclNjcm9sbCwkYW5pbWF0ZSwkc2NlKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIscHJpb3JpdHk6NDAwLHRlcm1pbmFsOiEwLHRyYW5zY2x1ZGU6ImVsZW1lbnQiLGNvbnRyb2xsZXI6YW5ndWxhci5ub29wLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRyKXt2YXIgc3JjRXhwPWF0dHIubmdJbmNsdWRlfHxhdHRyLnNyYyxvbmxvYWRFeHA9YXR0ci5vbmxvYWR8fCIiLGF1dG9TY3JvbGxFeHA9YXR0ci5hdXRvc2Nyb2xsO3JldHVybiBmdW5jdGlvbihzY29wZSwkZWxlbWVudCwkYXR0cixjdHJsLCR0cmFuc2NsdWRlKXt2YXIgY3VycmVudFNjb3BlLHByZXZpb3VzRWxlbWVudCxjdXJyZW50RWxlbWVudCxjaGFuZ2VDb3VudGVyPTAsY2xlYW51cExhc3RJbmNsdWRlQ29udGVudD1mdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudCYmKHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKSxwcmV2aW91c0VsZW1lbnQ9bnVsbCksY3VycmVudFNjb3BlJiYoY3VycmVudFNjb3BlLiRkZXN0cm95KCksY3VycmVudFNjb3BlPW51bGwpLGN1cnJlbnRFbGVtZW50JiYoJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKXtwcmV2aW91c0VsZW1lbnQ9bnVsbH0pLHByZXZpb3VzRWxlbWVudD1jdXJyZW50RWxlbWVudCxjdXJyZW50RWxlbWVudD1udWxsKX07c2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHNyY0V4cCksZnVuY3Rpb24oc3JjKXt2YXIgYWZ0ZXJBbmltYXRpb249ZnVuY3Rpb24oKXshaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApfHxhdXRvU2Nyb2xsRXhwJiYhc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCl8fCRhbmNob3JTY3JvbGwoKX0sdGhpc0NoYW5nZUlkPSsrY2hhbmdlQ291bnRlcjtzcmM/KCR0ZW1wbGF0ZVJlcXVlc3Qoc3JjLCEwKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtpZih0aGlzQ2hhbmdlSWQ9PT1jaGFuZ2VDb3VudGVyKXt2YXIgbmV3U2NvcGU9c2NvcGUuJG5ldygpO2N0cmwudGVtcGxhdGU9cmVzcG9uc2U7dmFyIGNsb25lPSR0cmFuc2NsdWRlKG5ld1Njb3BlLGZ1bmN0aW9uKGNsb25lKXtjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCksJGFuaW1hdGUuZW50ZXIoY2xvbmUsbnVsbCwkZWxlbWVudCkudGhlbihhZnRlckFuaW1hdGlvbil9KTtjdXJyZW50U2NvcGU9bmV3U2NvcGUsY3VycmVudEVsZW1lbnQ9Y2xvbmUsY3VycmVudFNjb3BlLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRMb2FkZWQiLHNyYyksc2NvcGUuJGV2YWwob25sb2FkRXhwKX19LGZ1bmN0aW9uKCl7dGhpc0NoYW5nZUlkPT09Y2hhbmdlQ291bnRlciYmKGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKSxzY29wZS4kZW1pdCgiJGluY2x1ZGVDb250ZW50RXJyb3IiLHNyYykpfSksc2NvcGUuJGVtaXQoIiRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCIsc3JjKSk6KGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKSxjdHJsLnRlbXBsYXRlPW51bGwpfSl9fX19XSxuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZT1bIiRjb21waWxlIixmdW5jdGlvbigkY29tcGlsZSl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHByaW9yaXR5Oi00MDAscmVxdWlyZToibmdJbmNsdWRlIixsaW5rOmZ1bmN0aW9uKHNjb3BlLCRlbGVtZW50LCRhdHRyLGN0cmwpe3JldHVybi9TVkcvLnRlc3QoJGVsZW1lbnRbMF0udG9TdHJpbmcoKSk/KCRlbGVtZW50LmVtcHR5KCksdm9pZCAkY29tcGlsZShqcUxpdGVCdWlsZEZyYWdtZW50KGN0cmwudGVtcGxhdGUsZG9jdW1lbnQpLmNoaWxkTm9kZXMpKHNjb3BlLGZ1bmN0aW9uKGNsb25lKXskZWxlbWVudC5hcHBlbmQoY2xvbmUpfSx1bmRlZmluZWQsdW5kZWZpbmVkLCRlbGVtZW50KSk6KCRlbGVtZW50Lmh0bWwoY3RybC50ZW1wbGF0ZSksdm9pZCAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSkpfX19XSxuZ0luaXREaXJlY3RpdmU9bmdEaXJlY3RpdmUoe3ByaW9yaXR5OjQ1MCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtzY29wZS4kZXZhbChhdHRycy5uZ0luaXQpfX19fSksbmdOb25CaW5kYWJsZURpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7dGVybWluYWw6ITAscHJpb3JpdHk6MWUzfSksbmdQbHVyYWxpemVEaXJlY3RpdmU9WyIkbG9jYWxlIiwiJGludGVycG9sYXRlIixmdW5jdGlvbigkbG9jYWxlLCRpbnRlcnBvbGF0ZSl7dmFyIEJSQUNFPS97fS9nO3JldHVybntyZXN0cmljdDoiRUEiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgbnVtYmVyRXhwPWF0dHIuY291bnQsd2hlbkV4cD1hdHRyLiRhdHRyLndoZW4mJmVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLndoZW4pLG9mZnNldD1hdHRyLm9mZnNldHx8MCx3aGVucz1zY29wZS4kZXZhbCh3aGVuRXhwKXx8e30sd2hlbnNFeHBGbnM9e30sc3RhcnRTeW1ib2w9JGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksZW5kU3ltYm9sPSRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxpc1doZW49L153aGVuKE1pbnVzKT8oLispJC87Zm9yRWFjaChhdHRyLGZ1bmN0aW9uKGV4cHJlc3Npb24sYXR0cmlidXRlTmFtZSl7aXNXaGVuLnRlc3QoYXR0cmlidXRlTmFtZSkmJih3aGVuc1tsb3dlcmNhc2UoYXR0cmlidXRlTmFtZS5yZXBsYWNlKCJ3aGVuIiwiIikucmVwbGFjZSgiTWludXMiLCItIikpXT1lbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSkpfSksZm9yRWFjaCh3aGVucyxmdW5jdGlvbihleHByZXNzaW9uLGtleSl7d2hlbnNFeHBGbnNba2V5XT0kaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLHN0YXJ0U3ltYm9sK251bWJlckV4cCsiLSIrb2Zmc2V0K2VuZFN5bWJvbCkpfSksc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIHZhbHVlPXBhcnNlRmxvYXQoc2NvcGUuJGV2YWwobnVtYmVyRXhwKSk7cmV0dXJuIGlzTmFOKHZhbHVlKT8iIjoodmFsdWUgaW4gd2hlbnN8fCh2YWx1ZT0kbG9jYWxlLnBsdXJhbENhdCh2YWx1ZS1vZmZzZXQpKSx3aGVuc0V4cEZuc1t2YWx1ZV0oc2NvcGUpKX0sZnVuY3Rpb24obmV3VmFsKXtlbGVtZW50LnRleHQobmV3VmFsKX0pfX19XSxuZ1JlcGVhdERpcmVjdGl2ZT1bIiRwYXJzZSIsIiRhbmltYXRlIixmdW5jdGlvbigkcGFyc2UsJGFuaW1hdGUpe3ZhciBOR19SRU1PVkVEPSIkJE5HX1JFTU9WRUQiLG5nUmVwZWF0TWluRXJyPW1pbkVycigibmdSZXBlYXQiKSx1cGRhdGVTY29wZT1mdW5jdGlvbihzY29wZSxpbmRleCx2YWx1ZUlkZW50aWZpZXIsdmFsdWUsa2V5SWRlbnRpZmllcixrZXksYXJyYXlMZW5ndGgpe3Njb3BlW3ZhbHVlSWRlbnRpZmllcl09dmFsdWUsa2V5SWRlbnRpZmllciYmKHNjb3BlW2tleUlkZW50aWZpZXJdPWtleSksc2NvcGUuJGluZGV4PWluZGV4LHNjb3BlLiRmaXJzdD0wPT09aW5kZXgsc2NvcGUuJGxhc3Q9aW5kZXg9PT1hcnJheUxlbmd0aC0xLHNjb3BlLiRtaWRkbGU9IShzY29wZS4kZmlyc3R8fHNjb3BlLiRsYXN0KSxzY29wZS4kb2RkPSEoc2NvcGUuJGV2ZW49MD09PSgxJmluZGV4KSl9LGdldEJsb2NrU3RhcnQ9ZnVuY3Rpb24oYmxvY2spe3JldHVybiBibG9jay5jbG9uZVswXX0sZ2V0QmxvY2tFbmQ9ZnVuY3Rpb24oYmxvY2spe3JldHVybiBibG9jay5jbG9uZVtibG9jay5jbG9uZS5sZW5ndGgtMV19O3JldHVybntyZXN0cmljdDoiQSIsbXVsdGlFbGVtZW50OiEwLHRyYW5zY2x1ZGU6ImVsZW1lbnQiLHByaW9yaXR5OjFlMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxjb21waWxlOmZ1bmN0aW9uKCRlbGVtZW50LCRhdHRyKXt2YXIgZXhwcmVzc2lvbj0kYXR0ci5uZ1JlcGVhdCxuZ1JlcGVhdEVuZENvbW1lbnQ9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIGVuZCBuZ1JlcGVhdDogIitleHByZXNzaW9uKyIgIiksbWF0Y2g9ZXhwcmVzc2lvbi5tYXRjaCgvXlxzKihbXHNcU10rPylccytpblxzKyhbXHNcU10rPykoPzpccythc1xzKyhbXHNcU10rPykpPyg/OlxzK3RyYWNrXHMrYnlccysoW1xzXFNdKz8pKT9ccyokLyk7aWYoIW1hdGNoKXRocm93IG5nUmVwZWF0TWluRXJyKCJpZXhwIiwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mICdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fWyB0cmFjayBieSBfaWRfXScgYnV0IGdvdCAnezB9Jy4iLGV4cHJlc3Npb24pO3ZhciBsaHM9bWF0Y2hbMV0scmhzPW1hdGNoWzJdLGFsaWFzQXM9bWF0Y2hbM10sdHJhY2tCeUV4cD1tYXRjaFs0XTtpZihtYXRjaD1saHMubWF0Y2goL14oPzooW1wkXHddKyl8XCgoW1wkXHddKylccyosXHMqKFtcJFx3XSspXCkpJC8pLCFtYXRjaCl0aHJvdyBuZ1JlcGVhdE1pbkVycigiaWlkZXhwIiwiJ19pdGVtXycgaW4gJ19pdGVtXyBpbiBfY29sbGVjdGlvbl8nIHNob3VsZCBiZSBhbiBpZGVudGlmaWVyIG9yICcoX2tleV8sIF92YWx1ZV8pJyBleHByZXNzaW9uLCBidXQgZ290ICd7MH0nLiIsbGhzKTt2YXIgdmFsdWVJZGVudGlmaWVyPW1hdGNoWzNdfHxtYXRjaFsxXSxrZXlJZGVudGlmaWVyPW1hdGNoWzJdO2lmKGFsaWFzQXMmJighL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KGFsaWFzQXMpfHwvXihudWxsfHVuZGVmaW5lZHx0aGlzfFwkaW5kZXh8XCRmaXJzdHxcJG1pZGRsZXxcJGxhc3R8XCRldmVufFwkb2RkfFwkcGFyZW50KSQvLnRlc3QoYWxpYXNBcykpKXRocm93IG5nUmVwZWF0TWluRXJyKCJiYWRpZGVudCIsImFsaWFzICd7MH0nIGlzIGludmFsaWQgLS0tIG11c3QgYmUgYSB2YWxpZCBKUyBpZGVudGlmaWVyIHdoaWNoIGlzIG5vdCBhIHJlc2VydmVkIG5hbWUuIixhbGlhc0FzKTt2YXIgdHJhY2tCeUV4cEdldHRlcix0cmFja0J5SWRFeHBGbix0cmFja0J5SWRBcnJheUZuLHRyYWNrQnlJZE9iakZuLGhhc2hGbkxvY2Fscz17JGlkOmhhc2hLZXl9O3JldHVybiB0cmFja0J5RXhwP3RyYWNrQnlFeHBHZXR0ZXI9JHBhcnNlKHRyYWNrQnlFeHApOih0cmFja0J5SWRBcnJheUZuPWZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIGhhc2hLZXkodmFsdWUpfSx0cmFja0J5SWRPYmpGbj1mdW5jdGlvbihrZXkpe3JldHVybiBrZXl9KSxmdW5jdGlvbigkc2NvcGUsJGVsZW1lbnQsJGF0dHIsY3RybCwkdHJhbnNjbHVkZSl7dHJhY2tCeUV4cEdldHRlciYmKHRyYWNrQnlJZEV4cEZuPWZ1bmN0aW9uKGtleSx2YWx1ZSxpbmRleCl7cmV0dXJuIGtleUlkZW50aWZpZXImJihoYXNoRm5Mb2NhbHNba2V5SWRlbnRpZmllcl09a2V5KSxoYXNoRm5Mb2NhbHNbdmFsdWVJZGVudGlmaWVyXT12YWx1ZSxoYXNoRm5Mb2NhbHMuJGluZGV4PWluZGV4LHRyYWNrQnlFeHBHZXR0ZXIoJHNjb3BlLGhhc2hGbkxvY2Fscyl9KTt2YXIgbGFzdEJsb2NrTWFwPWNyZWF0ZU1hcCgpOyRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHJocyxmdW5jdGlvbihjb2xsZWN0aW9uKXt2YXIgaW5kZXgsbGVuZ3RoLG5leHROb2RlLGNvbGxlY3Rpb25MZW5ndGgsa2V5LHZhbHVlLHRyYWNrQnlJZCx0cmFja0J5SWRGbixjb2xsZWN0aW9uS2V5cyxibG9jayxuZXh0QmxvY2tPcmRlcixlbGVtZW50c1RvUmVtb3ZlLHByZXZpb3VzTm9kZT0kZWxlbWVudFswXSxuZXh0QmxvY2tNYXA9Y3JlYXRlTWFwKCk7aWYoYWxpYXNBcyYmKCRzY29wZVthbGlhc0FzXT1jb2xsZWN0aW9uKSxpc0FycmF5TGlrZShjb2xsZWN0aW9uKSljb2xsZWN0aW9uS2V5cz1jb2xsZWN0aW9uLHRyYWNrQnlJZEZuPXRyYWNrQnlJZEV4cEZufHx0cmFja0J5SWRBcnJheUZuO2Vsc2V7dHJhY2tCeUlkRm49dHJhY2tCeUlkRXhwRm58fHRyYWNrQnlJZE9iakZuLGNvbGxlY3Rpb25LZXlzPVtdO2Zvcih2YXIgaXRlbUtleSBpbiBjb2xsZWN0aW9uKWNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkoaXRlbUtleSkmJiIkIiE9aXRlbUtleS5jaGFyQXQoMCkmJmNvbGxlY3Rpb25LZXlzLnB1c2goaXRlbUtleSk7Y29sbGVjdGlvbktleXMuc29ydCgpfWZvcihjb2xsZWN0aW9uTGVuZ3RoPWNvbGxlY3Rpb25LZXlzLmxlbmd0aCxuZXh0QmxvY2tPcmRlcj1uZXcgQXJyYXkoY29sbGVjdGlvbkxlbmd0aCksaW5kZXg9MDtjb2xsZWN0aW9uTGVuZ3RoPmluZGV4O2luZGV4KyspaWYoa2V5PWNvbGxlY3Rpb249PT1jb2xsZWN0aW9uS2V5cz9pbmRleDpjb2xsZWN0aW9uS2V5c1tpbmRleF0sdmFsdWU9Y29sbGVjdGlvbltrZXldLHRyYWNrQnlJZD10cmFja0J5SWRGbihrZXksdmFsdWUsaW5kZXgpLGxhc3RCbG9ja01hcFt0cmFja0J5SWRdKWJsb2NrPWxhc3RCbG9ja01hcFt0cmFja0J5SWRdLGRlbGV0ZSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXSxuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXT1ibG9jayxuZXh0QmxvY2tPcmRlcltpbmRleF09YmxvY2s7ZWxzZXtpZihuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSl0aHJvdyBmb3JFYWNoKG5leHRCbG9ja09yZGVyLGZ1bmN0aW9uKGJsb2NrKXtibG9jayYmYmxvY2suc2NvcGUmJihsYXN0QmxvY2tNYXBbYmxvY2suaWRdPWJsb2NrKX0pLG5nUmVwZWF0TWluRXJyKCJkdXBlcyIsIkR1cGxpY2F0ZXMgaW4gYSByZXBlYXRlciBhcmUgbm90IGFsbG93ZWQuIFVzZSAndHJhY2sgYnknIGV4cHJlc3Npb24gdG8gc3BlY2lmeSB1bmlxdWUga2V5cy4gUmVwZWF0ZXI6IHswfSwgRHVwbGljYXRlIGtleTogezF9LCBEdXBsaWNhdGUgdmFsdWU6IHsyfSIsZXhwcmVzc2lvbix0cmFja0J5SWQsdG9Kc29uKHZhbHVlKSk7bmV4dEJsb2NrT3JkZXJbaW5kZXhdPXtpZDp0cmFja0J5SWQsc2NvcGU6dW5kZWZpbmVkLGNsb25lOnVuZGVmaW5lZH0sbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF09ITB9Zm9yKHZhciBibG9ja0tleSBpbiBsYXN0QmxvY2tNYXApe2lmKGJsb2NrPWxhc3RCbG9ja01hcFtibG9ja0tleV0sZWxlbWVudHNUb1JlbW92ZT1nZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKSwkYW5pbWF0ZS5sZWF2ZShlbGVtZW50c1RvUmVtb3ZlKSxlbGVtZW50c1RvUmVtb3ZlWzBdLnBhcmVudE5vZGUpZm9yKGluZGV4PTAsbGVuZ3RoPWVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoO2xlbmd0aD5pbmRleDtpbmRleCsrKWVsZW1lbnRzVG9SZW1vdmVbaW5kZXhdW05HX1JFTU9WRURdPSEwO2Jsb2NrLnNjb3BlLiRkZXN0cm95KCl9Zm9yKGluZGV4PTA7Y29sbGVjdGlvbkxlbmd0aD5pbmRleDtpbmRleCsrKWlmKGtleT1jb2xsZWN0aW9uPT09Y29sbGVjdGlvbktleXM/aW5kZXg6Y29sbGVjdGlvbktleXNbaW5kZXhdLHZhbHVlPWNvbGxlY3Rpb25ba2V5XSxibG9jaz1uZXh0QmxvY2tPcmRlcltpbmRleF0sYmxvY2suc2NvcGUpe25leHROb2RlPXByZXZpb3VzTm9kZTtkbyBuZXh0Tm9kZT1uZXh0Tm9kZS5uZXh0U2libGluZzt3aGlsZShuZXh0Tm9kZSYmbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO2dldEJsb2NrU3RhcnQoYmxvY2spIT1uZXh0Tm9kZSYmJGFuaW1hdGUubW92ZShnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKSxudWxsLGpxTGl0ZShwcmV2aW91c05vZGUpKSxwcmV2aW91c05vZGU9Z2V0QmxvY2tFbmQoYmxvY2spLHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLGluZGV4LHZhbHVlSWRlbnRpZmllcix2YWx1ZSxrZXlJZGVudGlmaWVyLGtleSxjb2xsZWN0aW9uTGVuZ3RoKX1lbHNlICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLHNjb3BlKXtibG9jay5zY29wZT1zY29wZTt2YXIgZW5kTm9kZT1uZ1JlcGVhdEVuZENvbW1lbnQuY2xvbmVOb2RlKCExKTtjbG9uZVtjbG9uZS5sZW5ndGgrK109ZW5kTm9kZSwkYW5pbWF0ZS5lbnRlcihjbG9uZSxudWxsLGpxTGl0ZShwcmV2aW91c05vZGUpKSxwcmV2aW91c05vZGU9ZW5kTm9kZSxibG9jay5jbG9uZT1jbG9uZSxuZXh0QmxvY2tNYXBbYmxvY2suaWRdPWJsb2NrLHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLGluZGV4LHZhbHVlSWRlbnRpZmllcix2YWx1ZSxrZXlJZGVudGlmaWVyLGtleSxjb2xsZWN0aW9uTGVuZ3RoKX0pO2xhc3RCbG9ja01hcD1uZXh0QmxvY2tNYXB9KX19fX1dLE5HX0hJREVfQ0xBU1M9Im5nLWhpZGUiLE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1M9Im5nLWhpZGUtYW5pbWF0ZSIsbmdTaG93RGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm57cmVzdHJpY3Q6IkEiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LGZ1bmN0aW9uKHZhbHVlKXskYW5pbWF0ZVt2YWx1ZT8icmVtb3ZlQ2xhc3MiOiJhZGRDbGFzcyJdKGVsZW1lbnQsTkdfSElERV9DTEFTUyx7dGVtcENsYXNzZXM6TkdfSElERV9JTl9QUk9HUkVTU19DTEFTU30pfSl9fX1dLG5nSGlkZURpcmVjdGl2ZT1bIiRhbmltYXRlIixmdW5jdGlvbigkYW5pbWF0ZSl7cmV0dXJue3Jlc3RyaWN0OiJBIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe3Njb3BlLiR3YXRjaChhdHRyLm5nSGlkZSxmdW5jdGlvbih2YWx1ZSl7JGFuaW1hdGVbdmFsdWU/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlbGVtZW50LE5HX0hJREVfQ0xBU1Mse3RlbXBDbGFzc2VzOk5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1N9KX0pfX19XSxuZ1N0eWxlRGlyZWN0aXZlPW5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSxmdW5jdGlvbihuZXdTdHlsZXMsb2xkU3R5bGVzKXtvbGRTdHlsZXMmJm5ld1N0eWxlcyE9PW9sZFN0eWxlcyYmZm9yRWFjaChvbGRTdHlsZXMsZnVuY3Rpb24odmFsLHN0eWxlKXtlbGVtZW50LmNzcyhzdHlsZSwiIil9KSxuZXdTdHlsZXMmJmVsZW1lbnQuY3NzKG5ld1N0eWxlcyl9LCEwKX0pLG5nU3dpdGNoRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOiJuZ1N3aXRjaCIsY29udHJvbGxlcjpbIiRzY29wZSIsZnVuY3Rpb24oKXt0aGlzLmNhc2VzPXt9fV0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsbmdTd2l0Y2hDb250cm9sbGVyKXt2YXIgd2F0Y2hFeHByPWF0dHIubmdTd2l0Y2h8fGF0dHIub24sc2VsZWN0ZWRUcmFuc2NsdWRlcz1bXSxzZWxlY3RlZEVsZW1lbnRzPVtdLHByZXZpb3VzTGVhdmVBbmltYXRpb25zPVtdLHNlbGVjdGVkU2NvcGVzPVtdLHNwbGljZUZhY3Rvcnk9ZnVuY3Rpb24oYXJyYXksaW5kZXgpe3JldHVybiBmdW5jdGlvbigpe2FycmF5LnNwbGljZShpbmRleCwxKX19O3Njb3BlLiR3YXRjaCh3YXRjaEV4cHIsZnVuY3Rpb24odmFsdWUpe3ZhciBpLGlpO2ZvcihpPTAsaWk9cHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMubGVuZ3RoO2lpPmk7KytpKSRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSk7Zm9yKHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aD0wLGk9MCxpaT1zZWxlY3RlZFNjb3Blcy5sZW5ndGg7aWk+aTsrK2kpe3ZhciBzZWxlY3RlZD1nZXRCbG9ja05vZGVzKHNlbGVjdGVkRWxlbWVudHNbaV0uY2xvbmUpO3NlbGVjdGVkU2NvcGVzW2ldLiRkZXN0cm95KCk7dmFyIHByb21pc2U9cHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV09JGFuaW1hdGUubGVhdmUoc2VsZWN0ZWQpO3Byb21pc2UudGhlbihzcGxpY2VGYWN0b3J5KHByZXZpb3VzTGVhdmVBbmltYXRpb25zLGkpKX1zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aD0wLHNlbGVjdGVkU2NvcGVzLmxlbmd0aD0wLChzZWxlY3RlZFRyYW5zY2x1ZGVzPW5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1siISIrdmFsdWVdfHxuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbIj8iXSkmJmZvckVhY2goc2VsZWN0ZWRUcmFuc2NsdWRlcyxmdW5jdGlvbihzZWxlY3RlZFRyYW5zY2x1ZGUpe3NlbGVjdGVkVHJhbnNjbHVkZS50cmFuc2NsdWRlKGZ1bmN0aW9uKGNhc2VFbGVtZW50LHNlbGVjdGVkU2NvcGUpe3NlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSk7dmFyIGFuY2hvcj1zZWxlY3RlZFRyYW5zY2x1ZGUuZWxlbWVudDtjYXNlRWxlbWVudFtjYXNlRWxlbWVudC5sZW5ndGgrK109ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIGVuZCBuZ1N3aXRjaFdoZW46ICIpO3ZhciBibG9jaz17Y2xvbmU6Y2FzZUVsZW1lbnR9O3NlbGVjdGVkRWxlbWVudHMucHVzaChibG9jayksJGFuaW1hdGUuZW50ZXIoY2FzZUVsZW1lbnQsYW5jaG9yLnBhcmVudCgpLGFuY2hvcil9KX0pfSl9fX1dLG5nU3dpdGNoV2hlbkRpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOiJebmdTd2l0Y2giLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCwkdHJhbnNjbHVkZSl7Y3RybC5jYXNlc1siISIrYXR0cnMubmdTd2l0Y2hXaGVuXT1jdHJsLmNhc2VzWyIhIithdHRycy5uZ1N3aXRjaFdoZW5dfHxbXSxjdHJsLmNhc2VzWyIhIithdHRycy5uZ1N3aXRjaFdoZW5dLnB1c2goe3RyYW5zY2x1ZGU6JHRyYW5zY2x1ZGUsZWxlbWVudDplbGVtZW50fSl9fSksbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlPW5nRGlyZWN0aXZlKHt0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eToxMjAwLHJlcXVpcmU6Il5uZ1N3aXRjaCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHRyYW5zY2x1ZGUpe2N0cmwuY2FzZXNbIj8iXT1jdHJsLmNhc2VzWyI/Il18fFtdLGN0cmwuY2FzZXNbIj8iXS5wdXNoKHt0cmFuc2NsdWRlOiR0cmFuc2NsdWRlLGVsZW1lbnQ6ZWxlbWVudH0pfX0pLG5nVHJhbnNjbHVkZURpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7cmVzdHJpY3Q6IkVBQyIsbGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW1lbnQsJGF0dHJzLGNvbnRyb2xsZXIsJHRyYW5zY2x1ZGUpe2lmKCEkdHJhbnNjbHVkZSl0aHJvdyBtaW5FcnIoIm5nVHJhbnNjbHVkZSIpKCJvcnBoYW4iLCJJbGxlZ2FsIHVzZSBvZiBuZ1RyYW5zY2x1ZGUgZGlyZWN0aXZlIGluIHRoZSB0ZW1wbGF0ZSEgTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiBFbGVtZW50OiB7MH0iLHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7JHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUpeyRlbGVtZW50LmVtcHR5KCksJGVsZW1lbnQuYXBwZW5kKGNsb25lKX0pfX0pLHNjcmlwdERpcmVjdGl2ZT1bIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7cmV0dXJue3Jlc3RyaWN0OiJFIix0ZXJtaW5hbDohMCxjb21waWxlOmZ1bmN0aW9uKGVsZW1lbnQsYXR0cil7aWYoInRleHQvbmctdGVtcGxhdGUiPT1hdHRyLnR5cGUpe3ZhciB0ZW1wbGF0ZVVybD1hdHRyLmlkLHRleHQ9ZWxlbWVudFswXS50ZXh0OyR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZVVybCx0ZXh0KX19fX1dLG5nT3B0aW9uc01pbkVycj1taW5FcnIoIm5nT3B0aW9ucyIpLG5nT3B0aW9uc0RpcmVjdGl2ZT12YWx1ZUZuKHtyZXN0cmljdDoiQSIsdGVybWluYWw6ITB9KSxzZWxlY3REaXJlY3RpdmU9WyIkY29tcGlsZSIsIiRwYXJzZSIsZnVuY3Rpb24oJGNvbXBpbGUsJHBhcnNlKXt2YXIgTkdfT1BUSU9OU19SRUdFWFA9L15ccyooW1xzXFNdKz8pKD86XHMrYXNccysoW1xzXFNdKz8pKT8oPzpccytncm91cFxzK2J5XHMrKFtcc1xTXSs/KSk/XHMrZm9yXHMrKD86KFtcJFx3XVtcJFx3XSopfCg/OlwoXHMqKFtcJFx3XVtcJFx3XSopXHMqLFxzKihbXCRcd11bXCRcd10qKVxzKlwpKSlccytpblxzKyhbXHNcU10rPykoPzpccyt0cmFja1xzK2J5XHMrKFtcc1xTXSs/KSk/JC8sbnVsbE1vZGVsQ3RybD17JHNldFZpZXdWYWx1ZTpub29wfTtyZXR1cm57cmVzdHJpY3Q6IkUiLHJlcXVpcmU6WyJzZWxlY3QiLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6WyIkZWxlbWVudCIsIiRzY29wZSIsIiRhdHRycyIsZnVuY3Rpb24oJGVsZW1lbnQsJHNjb3BlLCRhdHRycyl7dmFyIG51bGxPcHRpb24sdW5rbm93bk9wdGlvbixzZWxmPXRoaXMsb3B0aW9uc01hcD17fSxuZ01vZGVsQ3RybD1udWxsTW9kZWxDdHJsO3NlbGYuZGF0YWJvdW5kPSRhdHRycy5uZ01vZGVsLHNlbGYuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8sbnVsbE9wdGlvbl8sdW5rbm93bk9wdGlvbl8pe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxudWxsT3B0aW9uPW51bGxPcHRpb25fLHVua25vd25PcHRpb249dW5rbm93bk9wdGlvbl99LHNlbGYuYWRkT3B0aW9uPWZ1bmN0aW9uKHZhbHVlLGVsZW1lbnQpe2Fzc2VydE5vdEhhc093blByb3BlcnR5KHZhbHVlLCcib3B0aW9uIHZhbHVlIicpLG9wdGlvbnNNYXBbdmFsdWVdPSEwLG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU9PXZhbHVlJiYoJGVsZW1lbnQudmFsKHZhbHVlKSx1bmtub3duT3B0aW9uLnBhcmVudCgpJiZ1bmtub3duT3B0aW9uLnJlbW92ZSgpKSxlbGVtZW50JiZlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgic2VsZWN0ZWQiKSYmKGVsZW1lbnRbMF0uc2VsZWN0ZWQ9ITApfSxzZWxmLnJlbW92ZU9wdGlvbj1mdW5jdGlvbih2YWx1ZSl7dGhpcy5oYXNPcHRpb24odmFsdWUpJiYoZGVsZXRlIG9wdGlvbnNNYXBbdmFsdWVdLG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU9PXZhbHVlJiZ0aGlzLnJlbmRlclVua25vd25PcHRpb24odmFsdWUpKX0sc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uPWZ1bmN0aW9uKHZhbCl7dmFyIHVua25vd25WYWw9Ij8gIitoYXNoS2V5KHZhbCkrIiA/Ijt1bmtub3duT3B0aW9uLnZhbCh1bmtub3duVmFsKSwkZWxlbWVudC5wcmVwZW5kKHVua25vd25PcHRpb24pLCRlbGVtZW50LnZhbCh1bmtub3duVmFsKSx1bmtub3duT3B0aW9uLnByb3AoInNlbGVjdGVkIiwhMCl9LHNlbGYuaGFzT3B0aW9uPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gb3B0aW9uc01hcC5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSl9LCRzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3NlbGYucmVuZGVyVW5rbm93bk9wdGlvbj1ub29wfSl9XSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJscyl7ZnVuY3Rpb24gc2V0dXBBc1NpbmdsZShzY29wZSxzZWxlY3RFbGVtZW50LG5nTW9kZWxDdHJsLHNlbGVjdEN0cmwpe25nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdmlld1ZhbHVlPW5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7c2VsZWN0Q3RybC5oYXNPcHRpb24odmlld1ZhbHVlKT8odW5rbm93bk9wdGlvbi5wYXJlbnQoKSYmdW5rbm93bk9wdGlvbi5yZW1vdmUoKSxzZWxlY3RFbGVtZW50LnZhbCh2aWV3VmFsdWUpLCIiPT09dmlld1ZhbHVlJiZlbXB0eU9wdGlvbi5wcm9wKCJzZWxlY3RlZCIsITApKTppc1VuZGVmaW5lZCh2aWV3VmFsdWUpJiZlbXB0eU9wdGlvbj9zZWxlY3RFbGVtZW50LnZhbCgiIik6c2VsZWN0Q3RybC5yZW5kZXJVbmtub3duT3B0aW9uKHZpZXdWYWx1ZSl9LHNlbGVjdEVsZW1lbnQub24oImNoYW5nZSIsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXt1bmtub3duT3B0aW9uLnBhcmVudCgpJiZ1bmtub3duT3B0aW9uLnJlbW92ZSgpLG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoc2VsZWN0RWxlbWVudC52YWwoKSl9KX0pfWZ1bmN0aW9uIHNldHVwQXNNdWx0aXBsZShzY29wZSxzZWxlY3RFbGVtZW50LGN0cmwpe3ZhciBsYXN0VmlldztjdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgaXRlbXM9bmV3IEhhc2hNYXAoY3RybC4kdmlld1ZhbHVlKTtmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgib3B0aW9uIiksZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQ9aXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKX0pfSxzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtlcXVhbHMobGFzdFZpZXcsY3RybC4kdmlld1ZhbHVlKXx8KGxhc3RWaWV3PXNoYWxsb3dDb3B5KGN0cmwuJHZpZXdWYWx1ZSksY3RybC4kcmVuZGVyKCkpfSksc2VsZWN0RWxlbWVudC5vbigiY2hhbmdlIixmdW5jdGlvbigpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe3ZhciBhcnJheT1bXTtmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgib3B0aW9uIiksZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQmJmFycmF5LnB1c2gob3B0aW9uLnZhbHVlKX0pLGN0cmwuJHNldFZpZXdWYWx1ZShhcnJheSl9KX0pfWZ1bmN0aW9uIHNldHVwQXNPcHRpb25zKHNjb3BlLHNlbGVjdEVsZW1lbnQsY3RybCl7ZnVuY3Rpb24gY2FsbEV4cHJlc3Npb24oZXhwckZuLGtleSx2YWx1ZSl7cmV0dXJuIGxvY2Fsc1t2YWx1ZU5hbWVdPXZhbHVlLGtleU5hbWUmJihsb2NhbHNba2V5TmFtZV09a2V5KSxleHByRm4oc2NvcGUsbG9jYWxzKX1mdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2VkKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIHZpZXdWYWx1ZSxjb2xsZWN0aW9uPXZhbHVlc0ZuKHNjb3BlKXx8W107aWYobXVsdGlwbGUpdmlld1ZhbHVlPVtdLGZvckVhY2goc2VsZWN0RWxlbWVudC52YWwoKSxmdW5jdGlvbihzZWxlY3RlZEtleSl7dmlld1ZhbHVlLnB1c2goZ2V0Vmlld1ZhbHVlKHNlbGVjdGVkS2V5LGNvbGxlY3Rpb25bc2VsZWN0ZWRLZXldKSl9KTtlbHNle3ZhciBzZWxlY3RlZEtleT1zZWxlY3RFbGVtZW50LnZhbCgpO3ZpZXdWYWx1ZT1nZXRWaWV3VmFsdWUoc2VsZWN0ZWRLZXksY29sbGVjdGlvbltzZWxlY3RlZEtleV0pfWN0cmwuJHNldFZpZXdWYWx1ZSh2aWV3VmFsdWUpLHJlbmRlcigpfSl9ZnVuY3Rpb24gZ2V0Vmlld1ZhbHVlKGtleSx2YWx1ZSl7aWYoIj8iPT09a2V5KXJldHVybiB1bmRlZmluZWQ7aWYoIiI9PT1rZXkpcmV0dXJuIG51bGw7dmFyIHZpZXdWYWx1ZUZuPXNlbGVjdEFzRm4/c2VsZWN0QXNGbjp2YWx1ZUZuO3JldHVybiBjYWxsRXhwcmVzc2lvbih2aWV3VmFsdWVGbixrZXksdmFsdWUpfWZ1bmN0aW9uIGdldExhYmVscygpe3ZhciB0b0Rpc3BsYXksdmFsdWVzPXZhbHVlc0ZuKHNjb3BlKTtpZih2YWx1ZXMmJmlzQXJyYXkodmFsdWVzKSl7dG9EaXNwbGF5PW5ldyBBcnJheSh2YWx1ZXMubGVuZ3RoKTtmb3IodmFyIGk9MCxpaT12YWx1ZXMubGVuZ3RoO2lpPmk7aSsrKXRvRGlzcGxheVtpXT1jYWxsRXhwcmVzc2lvbihkaXNwbGF5Rm4saSx2YWx1ZXNbaV0pO3JldHVybiB0b0Rpc3BsYXl9aWYodmFsdWVzKXt0b0Rpc3BsYXk9e307Zm9yKHZhciBwcm9wIGluIHZhbHVlcyl2YWx1ZXMuaGFzT3duUHJvcGVydHkocHJvcCkmJih0b0Rpc3BsYXlbcHJvcF09Y2FsbEV4cHJlc3Npb24oZGlzcGxheUZuLHByb3AsdmFsdWVzW3Byb3BdKSl9cmV0dXJuIHRvRGlzcGxheX1mdW5jdGlvbiBjcmVhdGVJc1NlbGVjdGVkRm4odmlld1ZhbHVlKXt2YXIgc2VsZWN0ZWRTZXQ7aWYobXVsdGlwbGUpaWYodHJhY2tGbiYmaXNBcnJheSh2aWV3VmFsdWUpKXtzZWxlY3RlZFNldD1uZXcgSGFzaE1hcChbXSk7Zm9yKHZhciB0cmFja0luZGV4PTA7dHJhY2tJbmRleDx2aWV3VmFsdWUubGVuZ3RoO3RyYWNrSW5kZXgrKylzZWxlY3RlZFNldC5wdXQoY2FsbEV4cHJlc3Npb24odHJhY2tGbixudWxsLHZpZXdWYWx1ZVt0cmFja0luZGV4XSksITApfWVsc2Ugc2VsZWN0ZWRTZXQ9bmV3IEhhc2hNYXAodmlld1ZhbHVlKTtlbHNlIHRyYWNrRm4mJih2aWV3VmFsdWU9Y2FsbEV4cHJlc3Npb24odHJhY2tGbixudWxsLHZpZXdWYWx1ZSkpO3JldHVybiBmdW5jdGlvbihrZXksdmFsdWUpe3ZhciBjb21wYXJlVmFsdWVGbjtyZXR1cm4gY29tcGFyZVZhbHVlRm49dHJhY2tGbj90cmFja0ZuOnNlbGVjdEFzRm4/c2VsZWN0QXNGbjp2YWx1ZUZuLG11bHRpcGxlP2lzRGVmaW5lZChzZWxlY3RlZFNldC5yZW1vdmUoY2FsbEV4cHJlc3Npb24oY29tcGFyZVZhbHVlRm4sa2V5LHZhbHVlKSkpOnZpZXdWYWx1ZT09Y2FsbEV4cHJlc3Npb24oY29tcGFyZVZhbHVlRm4sa2V5LHZhbHVlKX19ZnVuY3Rpb24gc2NoZWR1bGVSZW5kZXJpbmcoKXtyZW5kZXJTY2hlZHVsZWR8fChzY29wZS4kJHBvc3REaWdlc3QocmVuZGVyKSxyZW5kZXJTY2hlZHVsZWQ9ITApfWZ1bmN0aW9uIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLGxhYmVsLGFkZGVkKXtsYWJlbE1hcFtsYWJlbF09bGFiZWxNYXBbbGFiZWxdfHwwLGxhYmVsTWFwW2xhYmVsXSs9YWRkZWQ/MTotMX1mdW5jdGlvbiByZW5kZXIoKXtyZW5kZXJTY2hlZHVsZWQ9ITE7dmFyIG9wdGlvbkdyb3VwTmFtZSxvcHRpb25Hcm91cCxvcHRpb24sZXhpc3RpbmdQYXJlbnQsZXhpc3RpbmdPcHRpb25zLGV4aXN0aW5nT3B0aW9uLGtleSx2YWx1ZSxncm91cExlbmd0aCxsZW5ndGgsZ3JvdXBJbmRleCxpbmRleCxzZWxlY3RlZCxsYXN0RWxlbWVudCxlbGVtZW50LGxhYmVsLG9wdGlvbkdyb3Vwcz17IiI6W119LG9wdGlvbkdyb3VwTmFtZXM9WyIiXSx2aWV3VmFsdWU9Y3RybC4kdmlld1ZhbHVlLHZhbHVlcz12YWx1ZXNGbihzY29wZSl8fFtdLGtleXM9a2V5TmFtZT9zb3J0ZWRLZXlzKHZhbHVlcyk6dmFsdWVzLGxhYmVsTWFwPXt9LGlzU2VsZWN0ZWQ9Y3JlYXRlSXNTZWxlY3RlZEZuKHZpZXdWYWx1ZSksYW55U2VsZWN0ZWQ9ITE7Zm9yKGluZGV4PTA7bGVuZ3RoPWtleXMubGVuZ3RoLGxlbmd0aD5pbmRleDtpbmRleCsrKWtleT1pbmRleCxrZXlOYW1lJiYoa2V5PWtleXNbaW5kZXhdLCIkIj09PWtleS5jaGFyQXQoMCkpfHwodmFsdWU9dmFsdWVzW2tleV0sb3B0aW9uR3JvdXBOYW1lPWNhbGxFeHByZXNzaW9uKGdyb3VwQnlGbixrZXksdmFsdWUpfHwiIiwob3B0aW9uR3JvdXA9b3B0aW9uR3JvdXBzW29wdGlvbkdyb3VwTmFtZV0pfHwob3B0aW9uR3JvdXA9b3B0aW9uR3JvdXBzW29wdGlvbkdyb3VwTmFtZV09W10sb3B0aW9uR3JvdXBOYW1lcy5wdXNoKG9wdGlvbkdyb3VwTmFtZSkpLHNlbGVjdGVkPWlzU2VsZWN0ZWQoa2V5LHZhbHVlKSxhbnlTZWxlY3RlZD1hbnlTZWxlY3RlZHx8c2VsZWN0ZWQsbGFiZWw9Y2FsbEV4cHJlc3Npb24oZGlzcGxheUZuLGtleSx2YWx1ZSksbGFiZWw9aXNEZWZpbmVkKGxhYmVsKT9sYWJlbDoiIixvcHRpb25Hcm91cC5wdXNoKHtpZDprZXlOYW1lP2tleXNbaW5kZXhdOmluZGV4LGxhYmVsOmxhYmVsLHNlbGVjdGVkOnNlbGVjdGVkfSkpO2ZvcihtdWx0aXBsZXx8KG51bGxPcHRpb258fG51bGw9PT12aWV3VmFsdWU/b3B0aW9uR3JvdXBzWyIiXS51bnNoaWZ0KHtpZDoiIixsYWJlbDoiIixzZWxlY3RlZDohYW55U2VsZWN0ZWR9KTphbnlTZWxlY3RlZHx8b3B0aW9uR3JvdXBzWyIiXS51bnNoaWZ0KHtpZDoiPyIsbGFiZWw6IiIsc2VsZWN0ZWQ6ITB9KSksZ3JvdXBJbmRleD0wLGdyb3VwTGVuZ3RoPW9wdGlvbkdyb3VwTmFtZXMubGVuZ3RoO2dyb3VwTGVuZ3RoPmdyb3VwSW5kZXg7Z3JvdXBJbmRleCsrKXtmb3Iob3B0aW9uR3JvdXBOYW1lPW9wdGlvbkdyb3VwTmFtZXNbZ3JvdXBJbmRleF0sb3B0aW9uR3JvdXA9b3B0aW9uR3JvdXBzW29wdGlvbkdyb3VwTmFtZV0sb3B0aW9uR3JvdXBzQ2FjaGUubGVuZ3RoPD1ncm91cEluZGV4PyhleGlzdGluZ1BhcmVudD17ZWxlbWVudDpvcHRHcm91cFRlbXBsYXRlLmNsb25lKCkuYXR0cigibGFiZWwiLG9wdGlvbkdyb3VwTmFtZSksbGFiZWw6b3B0aW9uR3JvdXAubGFiZWx9LGV4aXN0aW5nT3B0aW9ucz1bZXhpc3RpbmdQYXJlbnRdLG9wdGlvbkdyb3Vwc0NhY2hlLnB1c2goZXhpc3RpbmdPcHRpb25zKSxzZWxlY3RFbGVtZW50LmFwcGVuZChleGlzdGluZ1BhcmVudC5lbGVtZW50KSk6KGV4aXN0aW5nT3B0aW9ucz1vcHRpb25Hcm91cHNDYWNoZVtncm91cEluZGV4XSxleGlzdGluZ1BhcmVudD1leGlzdGluZ09wdGlvbnNbMF0sZXhpc3RpbmdQYXJlbnQubGFiZWwhPW9wdGlvbkdyb3VwTmFtZSYmZXhpc3RpbmdQYXJlbnQuZWxlbWVudC5hdHRyKCJsYWJlbCIsZXhpc3RpbmdQYXJlbnQubGFiZWw9b3B0aW9uR3JvdXBOYW1lKSksbGFzdEVsZW1lbnQ9bnVsbCxpbmRleD0wLGxlbmd0aD1vcHRpb25Hcm91cC5sZW5ndGg7bGVuZ3RoPmluZGV4O2luZGV4Kyspb3B0aW9uPW9wdGlvbkdyb3VwW2luZGV4XSwoZXhpc3RpbmdPcHRpb249ZXhpc3RpbmdPcHRpb25zW2luZGV4KzFdKT8obGFzdEVsZW1lbnQ9ZXhpc3RpbmdPcHRpb24uZWxlbWVudCxleGlzdGluZ09wdGlvbi5sYWJlbCE9PW9wdGlvbi5sYWJlbCYmKHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLGV4aXN0aW5nT3B0aW9uLmxhYmVsLCExKSx1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCxvcHRpb24ubGFiZWwsITApLGxhc3RFbGVtZW50LnRleHQoZXhpc3RpbmdPcHRpb24ubGFiZWw9b3B0aW9uLmxhYmVsKSksZXhpc3RpbmdPcHRpb24uaWQhPT1vcHRpb24uaWQmJmxhc3RFbGVtZW50LnZhbChleGlzdGluZ09wdGlvbi5pZD1vcHRpb24uaWQpLGxhc3RFbGVtZW50WzBdLnNlbGVjdGVkIT09b3B0aW9uLnNlbGVjdGVkJiYobGFzdEVsZW1lbnQucHJvcCgic2VsZWN0ZWQiLGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkPW9wdGlvbi5zZWxlY3RlZCksbXNpZSYmbGFzdEVsZW1lbnQucHJvcCgic2VsZWN0ZWQiLGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkKSkpOigiIj09PW9wdGlvbi5pZCYmbnVsbE9wdGlvbj9lbGVtZW50PW51bGxPcHRpb246KGVsZW1lbnQ9b3B0aW9uVGVtcGxhdGUuY2xvbmUoKSkudmFsKG9wdGlvbi5pZCkucHJvcCgic2VsZWN0ZWQiLG9wdGlvbi5zZWxlY3RlZCkuYXR0cigic2VsZWN0ZWQiLG9wdGlvbi5zZWxlY3RlZCkudGV4dChvcHRpb24ubGFiZWwpLGV4aXN0aW5nT3B0aW9ucy5wdXNoKGV4aXN0aW5nT3B0aW9uPXtlbGVtZW50OmVsZW1lbnQsbGFiZWw6b3B0aW9uLmxhYmVsLGlkOm9wdGlvbi5pZCxzZWxlY3RlZDpvcHRpb24uc2VsZWN0ZWR9KSx1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCxvcHRpb24ubGFiZWwsITApLGxhc3RFbGVtZW50P2xhc3RFbGVtZW50LmFmdGVyKGVsZW1lbnQpOmV4aXN0aW5nUGFyZW50LmVsZW1lbnQuYXBwZW5kKGVsZW1lbnQpLGxhc3RFbGVtZW50PWVsZW1lbnQpO2ZvcihpbmRleCsrO2V4aXN0aW5nT3B0aW9ucy5sZW5ndGg+aW5kZXg7KW9wdGlvbj1leGlzdGluZ09wdGlvbnMucG9wKCksdXBkYXRlTGFiZWxNYXAobGFiZWxNYXAsb3B0aW9uLmxhYmVsLCExKSxvcHRpb24uZWxlbWVudC5yZW1vdmUoKTtmb3JFYWNoKGxhYmVsTWFwLGZ1bmN0aW9uKGNvdW50LGxhYmVsKXtjb3VudD4wP3NlbGVjdEN0cmwuYWRkT3B0aW9uKGxhYmVsKTowPmNvdW50JiZzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihsYWJlbCkKfSl9Zm9yKDtvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGg+Z3JvdXBJbmRleDspb3B0aW9uR3JvdXBzQ2FjaGUucG9wKClbMF0uZWxlbWVudC5yZW1vdmUoKX12YXIgbWF0Y2g7aWYoIShtYXRjaD1vcHRpb25zRXhwLm1hdGNoKE5HX09QVElPTlNfUkVHRVhQKSkpdGhyb3cgbmdPcHRpb25zTWluRXJyKCJpZXhwIiwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mICdfc2VsZWN0XyAoYXMgX2xhYmVsXyk/IGZvciAoX2tleV8sKT9fdmFsdWVfIGluIF9jb2xsZWN0aW9uXycgYnV0IGdvdCAnezB9Jy4gRWxlbWVudDogezF9IixvcHRpb25zRXhwLHN0YXJ0aW5nVGFnKHNlbGVjdEVsZW1lbnQpKTt2YXIgZGlzcGxheUZuPSRwYXJzZShtYXRjaFsyXXx8bWF0Y2hbMV0pLHZhbHVlTmFtZT1tYXRjaFs0XXx8bWF0Y2hbNl0sc2VsZWN0QXM9LyBhcyAvLnRlc3QobWF0Y2hbMF0pJiZtYXRjaFsxXSxzZWxlY3RBc0ZuPXNlbGVjdEFzPyRwYXJzZShzZWxlY3RBcyk6bnVsbCxrZXlOYW1lPW1hdGNoWzVdLGdyb3VwQnlGbj0kcGFyc2UobWF0Y2hbM118fCIiKSx2YWx1ZUZuPSRwYXJzZShtYXRjaFsyXT9tYXRjaFsxXTp2YWx1ZU5hbWUpLHZhbHVlc0ZuPSRwYXJzZShtYXRjaFs3XSksdHJhY2s9bWF0Y2hbOF0sdHJhY2tGbj10cmFjaz8kcGFyc2UobWF0Y2hbOF0pOm51bGwsb3B0aW9uR3JvdXBzQ2FjaGU9W1t7ZWxlbWVudDpzZWxlY3RFbGVtZW50LGxhYmVsOiIifV1dLGxvY2Fscz17fTtudWxsT3B0aW9uJiYoJGNvbXBpbGUobnVsbE9wdGlvbikoc2NvcGUpLG51bGxPcHRpb24ucmVtb3ZlQ2xhc3MoIm5nLXNjb3BlIiksbnVsbE9wdGlvbi5yZW1vdmUoKSksc2VsZWN0RWxlbWVudC5lbXB0eSgpLHNlbGVjdEVsZW1lbnQub24oImNoYW5nZSIsc2VsZWN0aW9uQ2hhbmdlZCksY3RybC4kcmVuZGVyPXJlbmRlcixzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHZhbHVlc0ZuLHNjaGVkdWxlUmVuZGVyaW5nKSxzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGdldExhYmVscyxzY2hlZHVsZVJlbmRlcmluZyksbXVsdGlwbGUmJnNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gY3RybC4kbW9kZWxWYWx1ZX0sc2NoZWR1bGVSZW5kZXJpbmcpfWlmKGN0cmxzWzFdKXtmb3IodmFyIGVtcHR5T3B0aW9uLHNlbGVjdEN0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV0sbXVsdGlwbGU9YXR0ci5tdWx0aXBsZSxvcHRpb25zRXhwPWF0dHIubmdPcHRpb25zLG51bGxPcHRpb249ITEscmVuZGVyU2NoZWR1bGVkPSExLG9wdGlvblRlbXBsYXRlPWpxTGl0ZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksb3B0R3JvdXBUZW1wbGF0ZT1qcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0Z3JvdXAiKSksdW5rbm93bk9wdGlvbj1vcHRpb25UZW1wbGF0ZS5jbG9uZSgpLGk9MCxjaGlsZHJlbj1lbGVtZW50LmNoaWxkcmVuKCksaWk9Y2hpbGRyZW4ubGVuZ3RoO2lpPmk7aSsrKWlmKCIiPT09Y2hpbGRyZW5baV0udmFsdWUpe2VtcHR5T3B0aW9uPW51bGxPcHRpb249Y2hpbGRyZW4uZXEoaSk7YnJlYWt9c2VsZWN0Q3RybC5pbml0KG5nTW9kZWxDdHJsLG51bGxPcHRpb24sdW5rbm93bk9wdGlvbiksbXVsdGlwbGUmJihuZ01vZGVsQ3RybC4kaXNFbXB0eT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIXZhbHVlfHwwPT09dmFsdWUubGVuZ3RofSksb3B0aW9uc0V4cD9zZXR1cEFzT3B0aW9ucyhzY29wZSxlbGVtZW50LG5nTW9kZWxDdHJsKTptdWx0aXBsZT9zZXR1cEFzTXVsdGlwbGUoc2NvcGUsZWxlbWVudCxuZ01vZGVsQ3RybCk6c2V0dXBBc1NpbmdsZShzY29wZSxlbGVtZW50LG5nTW9kZWxDdHJsLHNlbGVjdEN0cmwpfX19fV0sb3B0aW9uRGlyZWN0aXZlPVsiJGludGVycG9sYXRlIixmdW5jdGlvbigkaW50ZXJwb2xhdGUpe3ZhciBudWxsU2VsZWN0Q3RybD17YWRkT3B0aW9uOm5vb3AscmVtb3ZlT3B0aW9uOm5vb3B9O3JldHVybntyZXN0cmljdDoiRSIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRyKXtpZihpc1VuZGVmaW5lZChhdHRyLnZhbHVlKSl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKGVsZW1lbnQudGV4dCgpLCEwKTtpbnRlcnBvbGF0ZUZufHxhdHRyLiRzZXQoInZhbHVlIixlbGVtZW50LnRleHQoKSl9cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyIHNlbGVjdEN0cmxOYW1lPSIkc2VsZWN0Q29udHJvbGxlciIscGFyZW50PWVsZW1lbnQucGFyZW50KCksc2VsZWN0Q3RybD1wYXJlbnQuZGF0YShzZWxlY3RDdHJsTmFtZSl8fHBhcmVudC5wYXJlbnQoKS5kYXRhKHNlbGVjdEN0cmxOYW1lKTtzZWxlY3RDdHJsJiZzZWxlY3RDdHJsLmRhdGFib3VuZHx8KHNlbGVjdEN0cmw9bnVsbFNlbGVjdEN0cmwpLGludGVycG9sYXRlRm4/c2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sZnVuY3Rpb24obmV3VmFsLG9sZFZhbCl7YXR0ci4kc2V0KCJ2YWx1ZSIsbmV3VmFsKSxvbGRWYWwhPT1uZXdWYWwmJnNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKG9sZFZhbCksc2VsZWN0Q3RybC5hZGRPcHRpb24obmV3VmFsLGVsZW1lbnQpfSk6c2VsZWN0Q3RybC5hZGRPcHRpb24oYXR0ci52YWx1ZSxlbGVtZW50KSxlbGVtZW50Lm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKX0pfX19fV0sc3R5bGVEaXJlY3RpdmU9dmFsdWVGbih7cmVzdHJpY3Q6IkUiLHRlcm1pbmFsOiExfSk7cmV0dXJuIHdpbmRvdy5hbmd1bGFyLmJvb3RzdHJhcD92b2lkIGNvbnNvbGUubG9nKCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuIik6KGJpbmRKUXVlcnkoKSxwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhciksdm9pZCBqcUxpdGUoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7YW5ndWxhckluaXQoZG9jdW1lbnQsYm9vdHN0cmFwKX0pKX0od2luZG93LGRvY3VtZW50KSwhd2luZG93LmFuZ3VsYXIuJCRjc3AoKSYmd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgiaGVhZCIpLnByZXBlbmQoJzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGNoYXJzZXQgIlVURi04IjtbbmdcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO308L3N0eWxlPicpLCJ1bmRlZmluZWQiPT10eXBlb2YgalF1ZXJ5KXRocm93IG5ldyBFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkiKTsrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHRyYW5zaXRpb25FbmQoKXt2YXIgZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9vdHN0cmFwIiksdHJhbnNFbmRFdmVudE5hbWVzPXtXZWJraXRUcmFuc2l0aW9uOiJ3ZWJraXRUcmFuc2l0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIixPVHJhbnNpdGlvbjoib1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQiLHRyYW5zaXRpb246InRyYW5zaXRpb25lbmQifTtmb3IodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKWlmKHZvaWQgMCE9PWVsLnN0eWxlW25hbWVdKXJldHVybntlbmQ6dHJhbnNFbmRFdmVudE5hbWVzW25hbWVdfTtyZXR1cm4hMX0kLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGR1cmF0aW9uKXt2YXIgY2FsbGVkPSExLCRlbD10aGlzOyQodGhpcykub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7Y2FsbGVkPSEwfSk7dmFyIGNhbGxiYWNrPWZ1bmN0aW9uKCl7Y2FsbGVkfHwkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpfTtyZXR1cm4gc2V0VGltZW91dChjYWxsYmFjayxkdXJhdGlvbiksdGhpc30sJChmdW5jdGlvbigpeyQuc3VwcG9ydC50cmFuc2l0aW9uPXRyYW5zaXRpb25FbmQoKSwkLnN1cHBvcnQudHJhbnNpdGlvbiYmKCQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQ9e2JpbmRUeXBlOiQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxkZWxlZ2F0ZVR5cGU6JC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGhhbmRsZTpmdW5jdGlvbihlKXtyZXR1cm4gJChlLnRhcmdldCkuaXModGhpcyk/ZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5hbGVydCIpO2RhdGF8fCR0aGlzLmRhdGEoImJzLmFsZXJ0IixkYXRhPW5ldyBBbGVydCh0aGlzKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKX0pfXZhciBkaXNtaXNzPSdbZGF0YS1kaXNtaXNzPSJhbGVydCJdJyxBbGVydD1mdW5jdGlvbihlbCl7JChlbCkub24oImNsaWNrIixkaXNtaXNzLHRoaXMuY2xvc2UpfTtBbGVydC5WRVJTSU9OPSIzLjIuMCIsQWxlcnQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKXskcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoImNsb3NlZC5icy5hbGVydCIpLnJlbW92ZSgpfXZhciAkdGhpcz0kKHRoaXMpLHNlbGVjdG9yPSR0aGlzLmF0dHIoImRhdGEtdGFyZ2V0Iik7c2VsZWN0b3J8fChzZWxlY3Rvcj0kdGhpcy5hdHRyKCJocmVmIiksc2VsZWN0b3I9c2VsZWN0b3ImJnNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciAkcGFyZW50PSQoc2VsZWN0b3IpO2UmJmUucHJldmVudERlZmF1bHQoKSwkcGFyZW50Lmxlbmd0aHx8KCRwYXJlbnQ9JHRoaXMuaGFzQ2xhc3MoImFsZXJ0Iik/JHRoaXM6JHRoaXMucGFyZW50KCkpLCRwYXJlbnQudHJpZ2dlcihlPSQuRXZlbnQoImNsb3NlLmJzLmFsZXJ0IikpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgkcGFyZW50LnJlbW92ZUNsYXNzKCJpbiIpLCQuc3VwcG9ydC50cmFuc2l0aW9uJiYkcGFyZW50Lmhhc0NsYXNzKCJmYWRlIik/JHBhcmVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIscmVtb3ZlRWxlbWVudCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpyZW1vdmVFbGVtZW50KCkpfTt2YXIgb2xkPSQuZm4uYWxlcnQ7JC5mbi5hbGVydD1QbHVnaW4sJC5mbi5hbGVydC5Db25zdHJ1Y3Rvcj1BbGVydCwkLmZuLmFsZXJ0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5hbGVydD1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpIixkaXNtaXNzLEFsZXJ0LnByb3RvdHlwZS5jbG9zZSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5idXR0b24iKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247ZGF0YXx8JHRoaXMuZGF0YSgiYnMuYnV0dG9uIixkYXRhPW5ldyBCdXR0b24odGhpcyxvcHRpb25zKSksInRvZ2dsZSI9PW9wdGlvbj9kYXRhLnRvZ2dsZSgpOm9wdGlvbiYmZGF0YS5zZXRTdGF0ZShvcHRpb24pfSl9dmFyIEJ1dHRvbj1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sQnV0dG9uLkRFRkFVTFRTLG9wdGlvbnMpLHRoaXMuaXNMb2FkaW5nPSExfTtCdXR0b24uVkVSU0lPTj0iMy4yLjAiLEJ1dHRvbi5ERUZBVUxUUz17bG9hZGluZ1RleHQ6ImxvYWRpbmcuLi4ifSxCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKHN0YXRlKXt2YXIgZD0iZGlzYWJsZWQiLCRlbD10aGlzLiRlbGVtZW50LHZhbD0kZWwuaXMoImlucHV0Iik/InZhbCI6Imh0bWwiLGRhdGE9JGVsLmRhdGEoKTtzdGF0ZSs9IlRleHQiLG51bGw9PWRhdGEucmVzZXRUZXh0JiYkZWwuZGF0YSgicmVzZXRUZXh0IiwkZWxbdmFsXSgpKSwkZWxbdmFsXShudWxsPT1kYXRhW3N0YXRlXT90aGlzLm9wdGlvbnNbc3RhdGVdOmRhdGFbc3RhdGVdKSxzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKXsibG9hZGluZ1RleHQiPT1zdGF0ZT8odGhpcy5pc0xvYWRpbmc9ITAsJGVsLmFkZENsYXNzKGQpLmF0dHIoZCxkKSk6dGhpcy5pc0xvYWRpbmcmJih0aGlzLmlzTG9hZGluZz0hMSwkZWwucmVtb3ZlQ2xhc3MoZCkucmVtb3ZlQXR0cihkKSl9LHRoaXMpLDApfSxCdXR0b24ucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciBjaGFuZ2VkPSEwLCRwYXJlbnQ9dGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9ImJ1dHRvbnMiXScpO2lmKCRwYXJlbnQubGVuZ3RoKXt2YXIgJGlucHV0PXRoaXMuJGVsZW1lbnQuZmluZCgiaW5wdXQiKTsicmFkaW8iPT0kaW5wdXQucHJvcCgidHlwZSIpJiYoJGlucHV0LnByb3AoImNoZWNrZWQiKSYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIik/Y2hhbmdlZD0hMTokcGFyZW50LmZpbmQoIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIikpLGNoYW5nZWQmJiRpbnB1dC5wcm9wKCJjaGVja2VkIiwhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIikpLnRyaWdnZXIoImNoYW5nZSIpfWNoYW5nZWQmJnRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoImFjdGl2ZSIpfTt2YXIgb2xkPSQuZm4uYnV0dG9uOyQuZm4uYnV0dG9uPVBsdWdpbiwkLmZuLmJ1dHRvbi5Db25zdHJ1Y3Rvcj1CdXR0b24sJC5mbi5idXR0b24ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmJ1dHRvbj1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZV49ImJ1dHRvbiJdJyxmdW5jdGlvbihlKXt2YXIgJGJ0bj0kKGUudGFyZ2V0KTskYnRuLmhhc0NsYXNzKCJidG4iKXx8KCRidG49JGJ0bi5jbG9zZXN0KCIuYnRuIikpLFBsdWdpbi5jYWxsKCRidG4sInRvZ2dsZSIpLGUucHJldmVudERlZmF1bHQoKX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMuY2Fyb3VzZWwiKSxvcHRpb25zPSQuZXh0ZW5kKHt9LENhcm91c2VsLkRFRkFVTFRTLCR0aGlzLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uKSxhY3Rpb249InN0cmluZyI9PXR5cGVvZiBvcHRpb24/b3B0aW9uOm9wdGlvbnMuc2xpZGU7ZGF0YXx8JHRoaXMuZGF0YSgiYnMuY2Fyb3VzZWwiLGRhdGE9bmV3IENhcm91c2VsKHRoaXMsb3B0aW9ucykpLCJudW1iZXIiPT10eXBlb2Ygb3B0aW9uP2RhdGEudG8ob3B0aW9uKTphY3Rpb24/ZGF0YVthY3Rpb25dKCk6b3B0aW9ucy5pbnRlcnZhbCYmZGF0YS5wYXVzZSgpLmN5Y2xlKCl9KX12YXIgQ2Fyb3VzZWw9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLiRlbGVtZW50PSQoZWxlbWVudCkub24oImtleWRvd24uYnMuY2Fyb3VzZWwiLCQucHJveHkodGhpcy5rZXlkb3duLHRoaXMpKSx0aGlzLiRpbmRpY2F0b3JzPXRoaXMuJGVsZW1lbnQuZmluZCgiLmNhcm91c2VsLWluZGljYXRvcnMiKSx0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLnBhdXNlZD10aGlzLnNsaWRpbmc9dGhpcy5pbnRlcnZhbD10aGlzLiRhY3RpdmU9dGhpcy4kaXRlbXM9bnVsbCwiaG92ZXIiPT10aGlzLm9wdGlvbnMucGF1c2UmJnRoaXMuJGVsZW1lbnQub24oIm1vdXNlZW50ZXIuYnMuY2Fyb3VzZWwiLCQucHJveHkodGhpcy5wYXVzZSx0aGlzKSkub24oIm1vdXNlbGVhdmUuYnMuY2Fyb3VzZWwiLCQucHJveHkodGhpcy5jeWNsZSx0aGlzKSl9O0Nhcm91c2VsLlZFUlNJT049IjMuMi4wIixDYXJvdXNlbC5ERUZBVUxUUz17aW50ZXJ2YWw6NWUzLHBhdXNlOiJob3ZlciIsd3JhcDohMH0sQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd249ZnVuY3Rpb24oZSl7c3dpdGNoKGUud2hpY2gpe2Nhc2UgMzc6dGhpcy5wcmV2KCk7YnJlYWs7Y2FzZSAzOTp0aGlzLm5leHQoKTticmVhaztkZWZhdWx0OnJldHVybn1lLnByZXZlbnREZWZhdWx0KCl9LENhcm91c2VsLnByb3RvdHlwZS5jeWNsZT1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KHRoaXMucGF1c2VkPSExKSx0aGlzLmludGVydmFsJiZjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCYmIXRoaXMucGF1c2VkJiYodGhpcy5pbnRlcnZhbD1zZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCx0aGlzKSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKSx0aGlzfSxDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4PWZ1bmN0aW9uKGl0ZW0pe3JldHVybiB0aGlzLiRpdGVtcz1pdGVtLnBhcmVudCgpLmNoaWxkcmVuKCIuaXRlbSIpLHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW18fHRoaXMuJGFjdGl2ZSl9LENhcm91c2VsLnByb3RvdHlwZS50bz1mdW5jdGlvbihwb3Mpe3ZhciB0aGF0PXRoaXMsYWN0aXZlSW5kZXg9dGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlPXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0uYWN0aXZlIikpO3JldHVybiBwb3M+dGhpcy4kaXRlbXMubGVuZ3RoLTF8fDA+cG9zP3ZvaWQgMDp0aGlzLnNsaWRpbmc/dGhpcy4kZWxlbWVudC5vbmUoInNsaWQuYnMuY2Fyb3VzZWwiLGZ1bmN0aW9uKCl7dGhhdC50byhwb3MpfSk6YWN0aXZlSW5kZXg9PXBvcz90aGlzLnBhdXNlKCkuY3ljbGUoKTp0aGlzLnNsaWRlKHBvcz5hY3RpdmVJbmRleD8ibmV4dCI6InByZXYiLCQodGhpcy4kaXRlbXNbcG9zXSkpfSxDYXJvdXNlbC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGV8fCh0aGlzLnBhdXNlZD0hMCksdGhpcy4kZWxlbWVudC5maW5kKCIubmV4dCwgLnByZXYiKS5sZW5ndGgmJiQuc3VwcG9ydC50cmFuc2l0aW9uJiYodGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCksdGhpcy5jeWNsZSghMCkpLHRoaXMuaW50ZXJ2YWw9Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzfSxDYXJvdXNlbC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWRpbmc/dm9pZCAwOnRoaXMuc2xpZGUoIm5leHQiKX0sQ2Fyb3VzZWwucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGlkaW5nP3ZvaWQgMDp0aGlzLnNsaWRlKCJwcmV2Iil9LENhcm91c2VsLnByb3RvdHlwZS5zbGlkZT1mdW5jdGlvbih0eXBlLG5leHQpe3ZhciAkYWN0aXZlPXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0uYWN0aXZlIiksJG5leHQ9bmV4dHx8JGFjdGl2ZVt0eXBlXSgpLGlzQ3ljbGluZz10aGlzLmludGVydmFsLGRpcmVjdGlvbj0ibmV4dCI9PXR5cGU/ImxlZnQiOiJyaWdodCIsZmFsbGJhY2s9Im5leHQiPT10eXBlPyJmaXJzdCI6Imxhc3QiLHRoYXQ9dGhpcztpZighJG5leHQubGVuZ3RoKXtpZighdGhpcy5vcHRpb25zLndyYXApcmV0dXJuOyRuZXh0PXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0iKVtmYWxsYmFja10oKX1pZigkbmV4dC5oYXNDbGFzcygiYWN0aXZlIikpcmV0dXJuIHRoaXMuc2xpZGluZz0hMTt2YXIgcmVsYXRlZFRhcmdldD0kbmV4dFswXSxzbGlkZUV2ZW50PSQuRXZlbnQoInNsaWRlLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDpyZWxhdGVkVGFyZ2V0LGRpcmVjdGlvbjpkaXJlY3Rpb259KTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudCksIXNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHRoaXMuc2xpZGluZz0hMCxpc0N5Y2xpbmcmJnRoaXMucGF1c2UoKSx0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCl7dGhpcy4kaW5kaWNhdG9ycy5maW5kKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciAkbmV4dEluZGljYXRvcj0kKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKTskbmV4dEluZGljYXRvciYmJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoImFjdGl2ZSIpfXZhciBzbGlkRXZlbnQ9JC5FdmVudCgic2xpZC5icy5jYXJvdXNlbCIse3JlbGF0ZWRUYXJnZXQ6cmVsYXRlZFRhcmdldCxkaXJlY3Rpb246ZGlyZWN0aW9ufSk7cmV0dXJuICQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJzbGlkZSIpPygkbmV4dC5hZGRDbGFzcyh0eXBlKSwkbmV4dFswXS5vZmZzZXRXaWR0aCwkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbiksJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKSwkYWN0aXZlLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpeyRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLGRpcmVjdGlvbl0uam9pbigiICIpKS5hZGRDbGFzcygiYWN0aXZlIiksJGFjdGl2ZS5yZW1vdmVDbGFzcyhbImFjdGl2ZSIsZGlyZWN0aW9uXS5qb2luKCIgIikpLHRoYXQuc2xpZGluZz0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudCl9LDApfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMWUzKiRhY3RpdmUuY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIikuc2xpY2UoMCwtMSkpKTooJGFjdGl2ZS5yZW1vdmVDbGFzcygiYWN0aXZlIiksJG5leHQuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuc2xpZGluZz0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KSksaXNDeWNsaW5nJiZ0aGlzLmN5Y2xlKCksdGhpc319O3ZhciBvbGQ9JC5mbi5jYXJvdXNlbDskLmZuLmNhcm91c2VsPVBsdWdpbiwkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yPUNhcm91c2VsLCQuZm4uY2Fyb3VzZWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmNhcm91c2VsPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGkiLCJbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXSIsZnVuY3Rpb24oZSl7dmFyIGhyZWYsJHRoaXM9JCh0aGlzKSwkdGFyZ2V0PSQoJHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKXx8KGhyZWY9JHRoaXMuYXR0cigiaHJlZiIpKSYmaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpKTtpZigkdGFyZ2V0Lmhhc0NsYXNzKCJjYXJvdXNlbCIpKXt2YXIgb3B0aW9ucz0kLmV4dGVuZCh7fSwkdGFyZ2V0LmRhdGEoKSwkdGhpcy5kYXRhKCkpLHNsaWRlSW5kZXg9JHRoaXMuYXR0cigiZGF0YS1zbGlkZS10byIpO3NsaWRlSW5kZXgmJihvcHRpb25zLmludGVydmFsPSExKSxQbHVnaW4uY2FsbCgkdGFyZ2V0LG9wdGlvbnMpLHNsaWRlSW5kZXgmJiR0YXJnZXQuZGF0YSgiYnMuY2Fyb3VzZWwiKS50byhzbGlkZUluZGV4KSxlLnByZXZlbnREZWZhdWx0KCl9fSksJCh3aW5kb3cpLm9uKCJsb2FkIixmdW5jdGlvbigpeyQoJ1tkYXRhLXJpZGU9ImNhcm91c2VsIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyICRjYXJvdXNlbD0kKHRoaXMpO1BsdWdpbi5jYWxsKCRjYXJvdXNlbCwkY2Fyb3VzZWwuZGF0YSgpKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5jb2xsYXBzZSIpLG9wdGlvbnM9JC5leHRlbmQoe30sQ29sbGFwc2UuREVGQVVMVFMsJHRoaXMuZGF0YSgpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb24pOyFkYXRhJiZvcHRpb25zLnRvZ2dsZSYmInNob3ciPT1vcHRpb24mJihvcHRpb249IW9wdGlvbiksZGF0YXx8JHRoaXMuZGF0YSgiYnMuY29sbGFwc2UiLGRhdGE9bmV3IENvbGxhcHNlKHRoaXMsb3B0aW9ucykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKX0pfXZhciBDb2xsYXBzZT1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sQ29sbGFwc2UuREVGQVVMVFMsb3B0aW9ucyksdGhpcy50cmFuc2l0aW9uaW5nPW51bGwsdGhpcy5vcHRpb25zLnBhcmVudCYmKHRoaXMuJHBhcmVudD0kKHRoaXMub3B0aW9ucy5wYXJlbnQpKSx0aGlzLm9wdGlvbnMudG9nZ2xlJiZ0aGlzLnRvZ2dsZSgpfTtDb2xsYXBzZS5WRVJTSU9OPSIzLjIuMCIsQ29sbGFwc2UuREVGQVVMVFM9e3RvZ2dsZTohMH0sQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbj1mdW5jdGlvbigpe3ZhciBoYXNXaWR0aD10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJ3aWR0aCIpO3JldHVybiBoYXNXaWR0aD8id2lkdGgiOiJoZWlnaHQifSxDb2xsYXBzZS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJiF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpKXt2YXIgc3RhcnRFdmVudD0kLkV2ZW50KCJzaG93LmJzLmNvbGxhcHNlIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpLCFzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgYWN0aXZlcz10aGlzLiRwYXJlbnQmJnRoaXMuJHBhcmVudC5maW5kKCI+IC5wYW5lbCA+IC5pbiIpO2lmKGFjdGl2ZXMmJmFjdGl2ZXMubGVuZ3RoKXt2YXIgaGFzRGF0YT1hY3RpdmVzLmRhdGEoImJzLmNvbGxhcHNlIik7aWYoaGFzRGF0YSYmaGFzRGF0YS50cmFuc2l0aW9uaW5nKXJldHVybjtQbHVnaW4uY2FsbChhY3RpdmVzLCJoaWRlIiksaGFzRGF0YXx8YWN0aXZlcy5kYXRhKCJicy5jb2xsYXBzZSIsbnVsbCl9dmFyIGRpbWVuc2lvbj10aGlzLmRpbWVuc2lvbigpO3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIikuYWRkQ2xhc3MoImNvbGxhcHNpbmciKVtkaW1lbnNpb25dKDApLHRoaXMudHJhbnNpdGlvbmluZz0xO3ZhciBjb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UgaW4iKVtkaW1lbnNpb25dKCIiKSx0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInNob3duLmJzLmNvbGxhcHNlIil9O2lmKCEkLnN1cHBvcnQudHJhbnNpdGlvbilyZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKTt2YXIgc2Nyb2xsU2l6ZT0kLmNhbWVsQ2FzZShbInNjcm9sbCIsZGltZW5zaW9uXS5qb2luKCItIikpO3RoaXMuJGVsZW1lbnQub25lKCJic1RyYW5zaXRpb25FbmQiLCQucHJveHkoY29tcGxldGUsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKX19fSxDb2xsYXBzZS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImluIikpe3ZhciBzdGFydEV2ZW50PSQuRXZlbnQoImhpZGUuYnMuY29sbGFwc2UiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudCksIXN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBkaW1lbnNpb249dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodCx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJjb2xsYXBzaW5nIikucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIikucmVtb3ZlQ2xhc3MoImluIiksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy50cmFuc2l0aW9uaW5nPTAsdGhpcy4kZWxlbWVudC50cmlnZ2VyKCJoaWRkZW4uYnMuY29sbGFwc2UiKS5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLmFkZENsYXNzKCJjb2xsYXBzZSIpfTtyZXR1cm4gJC5zdXBwb3J0LnRyYW5zaXRpb24/dm9pZCB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oMCkub25lKCJic1RyYW5zaXRpb25FbmQiLCQucHJveHkoY29tcGxldGUsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MCk6Y29tcGxldGUuY2FsbCh0aGlzKX19fSxDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpPyJoaWRlIjoic2hvdyJdKCl9O3ZhciBvbGQ9JC5mbi5jb2xsYXBzZTskLmZuLmNvbGxhcHNlPVBsdWdpbiwkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yPUNvbGxhcHNlLCQuZm4uY29sbGFwc2Uubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmNvbGxhcHNlPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl0nLGZ1bmN0aW9uKGUpe3ZhciBocmVmLCR0aGlzPSQodGhpcyksdGFyZ2V0PSR0aGlzLmF0dHIoImRhdGEtdGFyZ2V0Iil8fGUucHJldmVudERlZmF1bHQoKXx8KGhyZWY9JHRoaXMuYXR0cigiaHJlZiIpKSYmaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpLCR0YXJnZXQ9JCh0YXJnZXQpLGRhdGE9JHRhcmdldC5kYXRhKCJicy5jb2xsYXBzZSIpLG9wdGlvbj1kYXRhPyJ0b2dnbGUiOiR0aGlzLmRhdGEoKSxwYXJlbnQ9JHRoaXMuYXR0cigiZGF0YS1wYXJlbnQiKSwkcGFyZW50PXBhcmVudCYmJChwYXJlbnQpO2RhdGEmJmRhdGEudHJhbnNpdGlvbmluZ3x8KCRwYXJlbnQmJiRwYXJlbnQuZmluZCgnW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdW2RhdGEtcGFyZW50PSInK3BhcmVudCsnIl0nKS5ub3QoJHRoaXMpLmFkZENsYXNzKCJjb2xsYXBzZWQiKSwkdGhpc1skdGFyZ2V0Lmhhc0NsYXNzKCJpbiIpPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oImNvbGxhcHNlZCIpKSxQbHVnaW4uY2FsbCgkdGFyZ2V0LG9wdGlvbil9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGNsZWFyTWVudXMoZSl7ZSYmMz09PWUud2hpY2h8fCgkKGJhY2tkcm9wKS5yZW1vdmUoKSwkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbigpe3ZhciAkcGFyZW50PWdldFBhcmVudCgkKHRoaXMpKSxyZWxhdGVkVGFyZ2V0PXtyZWxhdGVkVGFyZ2V0OnRoaXN9OyRwYXJlbnQuaGFzQ2xhc3MoIm9wZW4iKSYmKCRwYXJlbnQudHJpZ2dlcihlPSQuRXZlbnQoImhpZGUuYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwkcGFyZW50LnJlbW92ZUNsYXNzKCJvcGVuIikudHJpZ2dlcigiaGlkZGVuLmJzLmRyb3Bkb3duIixyZWxhdGVkVGFyZ2V0KSl9KSl9ZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKXt2YXIgc2VsZWN0b3I9JHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKTtzZWxlY3Rvcnx8KHNlbGVjdG9yPSR0aGlzLmF0dHIoImhyZWYiKSxzZWxlY3Rvcj1zZWxlY3RvciYmLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikmJnNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciAkcGFyZW50PXNlbGVjdG9yJiYkKHNlbGVjdG9yKTtyZXR1cm4gJHBhcmVudCYmJHBhcmVudC5sZW5ndGg/JHBhcmVudDokdGhpcy5wYXJlbnQoKX1mdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5kcm9wZG93biIpO2RhdGF8fCR0aGlzLmRhdGEoImJzLmRyb3Bkb3duIixkYXRhPW5ldyBEcm9wZG93bih0aGlzKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKX0pfXZhciBiYWNrZHJvcD0iLmRyb3Bkb3duLWJhY2tkcm9wIix0b2dnbGU9J1tkYXRhLXRvZ2dsZT0iZHJvcGRvd24iXScsRHJvcGRvd249ZnVuY3Rpb24oZWxlbWVudCl7JChlbGVtZW50KS5vbigiY2xpY2suYnMuZHJvcGRvd24iLHRoaXMudG9nZ2xlKX07RHJvcGRvd24uVkVSU0lPTj0iMy4yLjAiLERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oZSl7dmFyICR0aGlzPSQodGhpcyk7aWYoISR0aGlzLmlzKCIuZGlzYWJsZWQsIDpkaXNhYmxlZCIpKXt2YXIgJHBhcmVudD1nZXRQYXJlbnQoJHRoaXMpLGlzQWN0aXZlPSRwYXJlbnQuaGFzQ2xhc3MoIm9wZW4iKTtpZihjbGVhck1lbnVzKCksIWlzQWN0aXZlKXsib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmISRwYXJlbnQuY2xvc2VzdCgiLm5hdmJhci1uYXYiKS5sZW5ndGgmJiQoJzxkaXYgY2xhc3M9ImRyb3Bkb3duLWJhY2tkcm9wIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oImNsaWNrIixjbGVhck1lbnVzKTt2YXIgcmVsYXRlZFRhcmdldD17cmVsYXRlZFRhcmdldDp0aGlzfTtpZigkcGFyZW50LnRyaWdnZXIoZT0kLkV2ZW50KCJzaG93LmJzLmRyb3Bkb3duIixyZWxhdGVkVGFyZ2V0KSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47JHRoaXMudHJpZ2dlcigiZm9jdXMiKSwkcGFyZW50LnRvZ2dsZUNsYXNzKCJvcGVuIikudHJpZ2dlcigic2hvd24uYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpfXJldHVybiExfX0sRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd249ZnVuY3Rpb24oZSl7aWYoLygzOHw0MHwyNykvLnRlc3QoZS5rZXlDb2RlKSl7dmFyICR0aGlzPSQodGhpcyk7aWYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksISR0aGlzLmlzKCIuZGlzYWJsZWQsIDpkaXNhYmxlZCIpKXt2YXIgJHBhcmVudD1nZXRQYXJlbnQoJHRoaXMpLGlzQWN0aXZlPSRwYXJlbnQuaGFzQ2xhc3MoIm9wZW4iKTtpZighaXNBY3RpdmV8fGlzQWN0aXZlJiYyNz09ZS5rZXlDb2RlKXJldHVybiAyNz09ZS53aGljaCYmJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcigiZm9jdXMiKSwkdGhpcy50cmlnZ2VyKCJjbGljayIpO3ZhciBkZXNjPSIgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEiLCRpdGVtcz0kcGFyZW50LmZpbmQoJ1tyb2xlPSJtZW51Il0nK2Rlc2MrJywgW3JvbGU9Imxpc3Rib3giXScrZGVzYyk7aWYoJGl0ZW1zLmxlbmd0aCl7dmFyIGluZGV4PSRpdGVtcy5pbmRleCgkaXRlbXMuZmlsdGVyKCI6Zm9jdXMiKSk7Mzg9PWUua2V5Q29kZSYmaW5kZXg+MCYmaW5kZXgtLSw0MD09ZS5rZXlDb2RlJiZpbmRleDwkaXRlbXMubGVuZ3RoLTEmJmluZGV4KyssfmluZGV4fHwoaW5kZXg9MCksJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCJmb2N1cyIpfX19fTt2YXIgb2xkPSQuZm4uZHJvcGRvd247JC5mbi5kcm9wZG93bj1QbHVnaW4sJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3Rvcj1Ecm9wZG93biwkLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5kcm9wZG93bj1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIixjbGVhck1lbnVzKS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLCIuZHJvcGRvd24gZm9ybSIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsdG9nZ2xlLERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUpLm9uKCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpIix0b2dnbGUrJywgW3JvbGU9Im1lbnUiXSwgW3JvbGU9Imxpc3Rib3giXScsRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbixfcmVsYXRlZFRhcmdldCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMubW9kYWwiKSxvcHRpb25zPSQuZXh0ZW5kKHt9LE1vZGFsLkRFRkFVTFRTLCR0aGlzLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uKTtkYXRhfHwkdGhpcy5kYXRhKCJicy5tb2RhbCIsZGF0YT1uZXcgTW9kYWwodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24/ZGF0YVtvcHRpb25dKF9yZWxhdGVkVGFyZ2V0KTpvcHRpb25zLnNob3cmJmRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldCl9KX12YXIgTW9kYWw9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLiRib2R5PSQoZG9jdW1lbnQuYm9keSksdGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMuJGJhY2tkcm9wPXRoaXMuaXNTaG93bj1udWxsLHRoaXMuc2Nyb2xsYmFyV2lkdGg9MCx0aGlzLm9wdGlvbnMucmVtb3RlJiZ0aGlzLiRlbGVtZW50LmZpbmQoIi5tb2RhbC1jb250ZW50IikubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCQucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoImxvYWRlZC5icy5tb2RhbCIpfSx0aGlzKSl9O01vZGFsLlZFUlNJT049IjMuMi4wIixNb2RhbC5ERUZBVUxUUz17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsc2hvdzohMH0sTW9kYWwucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihfcmVsYXRlZFRhcmdldCl7cmV0dXJuIHRoaXMuaXNTaG93bj90aGlzLmhpZGUoKTp0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpfSxNb2RhbC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihfcmVsYXRlZFRhcmdldCl7dmFyIHRoYXQ9dGhpcyxlPSQuRXZlbnQoInNob3cuYnMubW9kYWwiLHtyZWxhdGVkVGFyZ2V0Ol9yZWxhdGVkVGFyZ2V0fSk7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLHRoaXMuaXNTaG93bnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuaXNTaG93bj0hMCx0aGlzLmNoZWNrU2Nyb2xsYmFyKCksdGhpcy4kYm9keS5hZGRDbGFzcygibW9kYWwtb3BlbiIpLHRoaXMuc2V0U2Nyb2xsYmFyKCksdGhpcy5lc2NhcGUoKSx0aGlzLiRlbGVtZW50Lm9uKCJjbGljay5kaXNtaXNzLmJzLm1vZGFsIiwnW2RhdGEtZGlzbWlzcz0ibW9kYWwiXScsJC5wcm94eSh0aGlzLmhpZGUsdGhpcykpLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXt2YXIgdHJhbnNpdGlvbj0kLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhhdC4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpO3RoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RofHx0aGF0LiRlbGVtZW50LmFwcGVuZFRvKHRoYXQuJGJvZHkpLHRoYXQuJGVsZW1lbnQuc2hvdygpLnNjcm9sbFRvcCgwKSx0cmFuc2l0aW9uJiZ0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoLHRoYXQuJGVsZW1lbnQuYWRkQ2xhc3MoImluIikuYXR0cigiYXJpYS1oaWRkZW4iLCExKSx0aGF0LmVuZm9yY2VGb2N1cygpO3ZhciBlPSQuRXZlbnQoInNob3duLmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDpfcmVsYXRlZFRhcmdldH0pO3RyYW5zaXRpb24/dGhhdC4kZWxlbWVudC5maW5kKCIubW9kYWwtZGlhbG9nIikub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLnRyaWdnZXIoZSl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApOnRoYXQuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKGUpfSkpfSxNb2RhbC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihlKXtlJiZlLnByZXZlbnREZWZhdWx0KCksZT0kLkV2ZW50KCJoaWRlLmJzLm1vZGFsIiksdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLHRoaXMuaXNTaG93biYmIWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0aGlzLmlzU2hvd249ITEsdGhpcy4kYm9keS5yZW1vdmVDbGFzcygibW9kYWwtb3BlbiIpLHRoaXMucmVzZXRTY3JvbGxiYXIoKSx0aGlzLmVzY2FwZSgpLCQoZG9jdW1lbnQpLm9mZigiZm9jdXNpbi5icy5tb2RhbCIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImluIikuYXR0cigiYXJpYS1oaWRkZW4iLCEwKS5vZmYoImNsaWNrLmRpc21pc3MuYnMubW9kYWwiKSwkLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpP3RoaXMuJGVsZW1lbnQub25lKCJic1RyYW5zaXRpb25FbmQiLCQucHJveHkodGhpcy5oaWRlTW9kYWwsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCk6dGhpcy5oaWRlTW9kYWwoKSl9LE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXM9ZnVuY3Rpb24oKXskKGRvY3VtZW50KS5vZmYoImZvY3VzaW4uYnMubW9kYWwiKS5vbigiZm9jdXNpbi5icy5tb2RhbCIsJC5wcm94eShmdW5jdGlvbihlKXt0aGlzLiRlbGVtZW50WzBdPT09ZS50YXJnZXR8fHRoaXMuJGVsZW1lbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGh8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKX0sdGhpcykpfSxNb2RhbC5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMua2V5Ym9hcmQ/dGhpcy4kZWxlbWVudC5vbigia2V5dXAuZGlzbWlzcy5icy5tb2RhbCIsJC5wcm94eShmdW5jdGlvbihlKXsyNz09ZS53aGljaCYmdGhpcy5oaWRlKCl9LHRoaXMpKTp0aGlzLmlzU2hvd258fHRoaXMuJGVsZW1lbnQub2ZmKCJrZXl1cC5kaXNtaXNzLmJzLm1vZGFsIil9LE1vZGFsLnByb3RvdHlwZS5oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMuJGVsZW1lbnQuaGlkZSgpLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXt0aGF0LiRlbGVtZW50LnRyaWdnZXIoImhpZGRlbi5icy5tb2RhbCIpfSl9LE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wJiZ0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKSx0aGlzLiRiYWNrZHJvcD1udWxsfSxNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3A9ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciB0aGF0PXRoaXMsYW5pbWF0ZT10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/ImZhZGUiOiIiO2lmKHRoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmJhY2tkcm9wKXt2YXIgZG9BbmltYXRlPSQuc3VwcG9ydC50cmFuc2l0aW9uJiZhbmltYXRlO2lmKHRoaXMuJGJhY2tkcm9wPSQoJzxkaXYgY2xhc3M9Im1vZGFsLWJhY2tkcm9wICcrYW5pbWF0ZSsnIiAvPicpLmFwcGVuZFRvKHRoaXMuJGJvZHkpLHRoaXMuJGVsZW1lbnQub24oImNsaWNrLmRpc21pc3MuYnMubW9kYWwiLCQucHJveHkoZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PT1lLmN1cnJlbnRUYXJnZXQmJigic3RhdGljIj09dGhpcy5vcHRpb25zLmJhY2tkcm9wP3RoaXMuJGVsZW1lbnRbMF0uZm9jdXMuY2FsbCh0aGlzLiRlbGVtZW50WzBdKTp0aGlzLmhpZGUuY2FsbCh0aGlzKSl9LHRoaXMpKSxkb0FuaW1hdGUmJnRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoLHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCJpbiIpLCFjYWxsYmFjaylyZXR1cm47ZG9BbmltYXRlP3RoaXMuJGJhY2tkcm9wLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixjYWxsYmFjaykuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpjYWxsYmFjaygpfWVsc2UgaWYoIXRoaXMuaXNTaG93biYmdGhpcy4kYmFja2Ryb3Ape3RoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKCJpbiIpO3ZhciBjYWxsYmFja1JlbW92ZT1mdW5jdGlvbigpe3RoYXQucmVtb3ZlQmFja2Ryb3AoKSxjYWxsYmFjayYmY2FsbGJhY2soKX07JC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKT90aGlzLiRiYWNrZHJvcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsY2FsbGJhY2tSZW1vdmUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6Y2FsbGJhY2tSZW1vdmUoKX1lbHNlIGNhbGxiYWNrJiZjYWxsYmFjaygpfSxNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXI9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoPj13aW5kb3cuaW5uZXJXaWR0aHx8KHRoaXMuc2Nyb2xsYmFyV2lkdGg9dGhpcy5zY3JvbGxiYXJXaWR0aHx8dGhpcy5tZWFzdXJlU2Nyb2xsYmFyKCkpfSxNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGJvZHlQYWQ9cGFyc2VJbnQodGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiKXx8MCwxMCk7dGhpcy5zY3JvbGxiYXJXaWR0aCYmdGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiLGJvZHlQYWQrdGhpcy5zY3JvbGxiYXJXaWR0aCl9LE1vZGFsLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3RoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0IiwiIil9LE1vZGFsLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIHNjcm9sbERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtzY3JvbGxEaXYuY2xhc3NOYW1lPSJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSIsdGhpcy4kYm9keS5hcHBlbmQoc2Nyb2xsRGl2KTt2YXIgc2Nyb2xsYmFyV2lkdGg9c2Nyb2xsRGl2Lm9mZnNldFdpZHRoLXNjcm9sbERpdi5jbGllbnRXaWR0aDtyZXR1cm4gdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpLHNjcm9sbGJhcldpZHRofTt2YXIgb2xkPSQuZm4ubW9kYWw7JC5mbi5tb2RhbD1QbHVnaW4sJC5mbi5tb2RhbC5Db25zdHJ1Y3Rvcj1Nb2RhbCwkLmZuLm1vZGFsLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5tb2RhbD1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLm1vZGFsLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJtb2RhbCJdJyxmdW5jdGlvbihlKXt2YXIgJHRoaXM9JCh0aGlzKSxocmVmPSR0aGlzLmF0dHIoImhyZWYiKSwkdGFyZ2V0PSQoJHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKXx8aHJlZiYmaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpKSxvcHRpb249JHRhcmdldC5kYXRhKCJicy5tb2RhbCIpPyJ0b2dnbGUiOiQuZXh0ZW5kKHtyZW1vdGU6IS8jLy50ZXN0KGhyZWYpJiZocmVmfSwkdGFyZ2V0LmRhdGEoKSwkdGhpcy5kYXRhKCkpOyR0aGlzLmlzKCJhIikmJmUucHJldmVudERlZmF1bHQoKSwkdGFyZ2V0Lm9uZSgic2hvdy5icy5tb2RhbCIsZnVuY3Rpb24oc2hvd0V2ZW50KXtzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fCR0YXJnZXQub25lKCJoaWRkZW4uYnMubW9kYWwiLGZ1bmN0aW9uKCl7JHRoaXMuaXMoIjp2aXNpYmxlIikmJiR0aGlzLnRyaWdnZXIoImZvY3VzIil9KX0pLFBsdWdpbi5jYWxsKCR0YXJnZXQsb3B0aW9uLHRoaXMpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy50b29sdGlwIiksb3B0aW9ucz0ib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uOyhkYXRhfHwiZGVzdHJveSIhPW9wdGlvbikmJihkYXRhfHwkdGhpcy5kYXRhKCJicy50b29sdGlwIixkYXRhPW5ldyBUb29sdGlwKHRoaXMsb3B0aW9ucykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKSl9KX12YXIgVG9vbHRpcD1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMudHlwZT10aGlzLm9wdGlvbnM9dGhpcy5lbmFibGVkPXRoaXMudGltZW91dD10aGlzLmhvdmVyU3RhdGU9dGhpcy4kZWxlbWVudD1udWxsLHRoaXMuaW5pdCgidG9vbHRpcCIsZWxlbWVudCxvcHRpb25zKX07VG9vbHRpcC5WRVJTSU9OPSIzLjIuMCIsVG9vbHRpcC5ERUZBVUxUUz17YW5pbWF0aW9uOiEwLHBsYWNlbWVudDoidG9wIixzZWxlY3RvcjohMSx0ZW1wbGF0ZTonPGRpdiBjbGFzcz0idG9vbHRpcCIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+PGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciI+PC9kaXY+PC9kaXY+Jyx0cmlnZ2VyOiJob3ZlciBmb2N1cyIsdGl0bGU6IiIsZGVsYXk6MCxodG1sOiExLGNvbnRhaW5lcjohMSx2aWV3cG9ydDp7c2VsZWN0b3I6ImJvZHkiLHBhZGRpbmc6MH19LFRvb2x0aXAucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odHlwZSxlbGVtZW50LG9wdGlvbnMpe3RoaXMuZW5hYmxlZD0hMCx0aGlzLnR5cGU9dHlwZSx0aGlzLiRlbGVtZW50PSQoZWxlbWVudCksdGhpcy5vcHRpb25zPXRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKSx0aGlzLiR2aWV3cG9ydD10aGlzLm9wdGlvbnMudmlld3BvcnQmJiQodGhpcy5vcHRpb25zLnZpZXdwb3J0LnNlbGVjdG9yfHx0aGlzLm9wdGlvbnMudmlld3BvcnQpO2Zvcih2YXIgdHJpZ2dlcnM9dGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoIiAiKSxpPXRyaWdnZXJzLmxlbmd0aDtpLS07KXt2YXIgdHJpZ2dlcj10cmlnZ2Vyc1tpXTtpZigiY2xpY2siPT10cmlnZ2VyKXRoaXMuJGVsZW1lbnQub24oImNsaWNrLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvciwkLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKCJtYW51YWwiIT10cmlnZ2VyKXt2YXIgZXZlbnRJbj0iaG92ZXIiPT10cmlnZ2VyPyJtb3VzZWVudGVyIjoiZm9jdXNpbiIsZXZlbnRPdXQ9ImhvdmVyIj09dHJpZ2dlcj8ibW91c2VsZWF2ZSI6ImZvY3Vzb3V0Ijt0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4rIi4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsJC5wcm94eSh0aGlzLmVudGVyLHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0KyIuIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLCQucHJveHkodGhpcy5sZWF2ZSx0aGlzKSl9fXRoaXMub3B0aW9ucy5zZWxlY3Rvcj90aGlzLl9vcHRpb25zPSQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx7dHJpZ2dlcjoibWFudWFsIixzZWxlY3RvcjoiIn0pOnRoaXMuZml4VGl0bGUoKX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHM9ZnVuY3Rpb24oKXtyZXR1cm4gVG9vbHRpcC5ERUZBVUxUU30sVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gb3B0aW9ucz0kLmV4dGVuZCh7fSx0aGlzLmdldERlZmF1bHRzKCksdGhpcy4kZWxlbWVudC5kYXRhKCksb3B0aW9ucyksb3B0aW9ucy5kZWxheSYmIm51bWJlciI9PXR5cGVvZiBvcHRpb25zLmRlbGF5JiYob3B0aW9ucy5kZWxheT17c2hvdzpvcHRpb25zLmRlbGF5LGhpZGU6b3B0aW9ucy5kZWxheX0pLG9wdGlvbnN9LFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciBvcHRpb25zPXt9LGRlZmF1bHRzPXRoaXMuZ2V0RGVmYXVsdHMoKTtyZXR1cm4gdGhpcy5fb3B0aW9ucyYmJC5lYWNoKHRoaXMuX29wdGlvbnMsZnVuY3Rpb24oa2V5LHZhbHVlKXtkZWZhdWx0c1trZXldIT12YWx1ZSYmKG9wdGlvbnNba2V5XT12YWx1ZSl9KSxvcHRpb25zfSxUb29sdGlwLnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbihvYmope3ZhciBzZWxmPW9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/b2JqOiQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlKTtyZXR1cm4gc2VsZnx8KHNlbGY9bmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsc2VsZikpLGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpLHNlbGYuaG92ZXJTdGF0ZT0iaW4iLHNlbGYub3B0aW9ucy5kZWxheSYmc2VsZi5vcHRpb25zLmRlbGF5LnNob3c/dm9pZChzZWxmLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeyJpbiI9PXNlbGYuaG92ZXJTdGF0ZSYmc2VsZi5zaG93KCl9LHNlbGYub3B0aW9ucy5kZWxheS5zaG93KSk6c2VsZi5zaG93KCl9LFRvb2x0aXAucHJvdG90eXBlLmxlYXZlPWZ1bmN0aW9uKG9iail7dmFyIHNlbGY9b2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9vYmo6JChvYmouY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUpO3JldHVybiBzZWxmfHwoc2VsZj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSwkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxzZWxmKSksY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dCksc2VsZi5ob3ZlclN0YXRlPSJvdXQiLHNlbGYub3B0aW9ucy5kZWxheSYmc2VsZi5vcHRpb25zLmRlbGF5LmhpZGU/dm9pZChzZWxmLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeyJvdXQiPT1zZWxmLmhvdmVyU3RhdGUmJnNlbGYuaGlkZSgpfSxzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSkpOnNlbGYuaGlkZSgpfSxUb29sdGlwLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGU9JC5FdmVudCgic2hvdy5icy4iK3RoaXMudHlwZSk7aWYodGhpcy5oYXNDb250ZW50KCkmJnRoaXMuZW5hYmxlZCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpO3ZhciBpbkRvbT0kLmNvbnRhaW5zKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLiRlbGVtZW50WzBdKTtpZihlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhaW5Eb20pcmV0dXJuO3ZhciB0aGF0PXRoaXMsJHRpcD10aGlzLnRpcCgpLHRpcElkPXRoaXMuZ2V0VUlEKHRoaXMudHlwZSk7dGhpcy5zZXRDb250ZW50KCksJHRpcC5hdHRyKCJpZCIsdGlwSWQpLHRoaXMuJGVsZW1lbnQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsdGlwSWQpLHRoaXMub3B0aW9ucy5hbmltYXRpb24mJiR0aXAuYWRkQ2xhc3MoImZhZGUiKTt2YXIgcGxhY2VtZW50PSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50P3RoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCR0aXBbMF0sdGhpcy4kZWxlbWVudFswXSk6dGhpcy5vcHRpb25zLnBsYWNlbWVudCxhdXRvVG9rZW49L1xzP2F1dG8/XHM/L2ksYXV0b1BsYWNlPWF1dG9Ub2tlbi50ZXN0KHBsYWNlbWVudCk7YXV0b1BsYWNlJiYocGxhY2VtZW50PXBsYWNlbWVudC5yZXBsYWNlKGF1dG9Ub2tlbiwiIil8fCJ0b3AiKSwkdGlwLmRldGFjaCgpLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6ImJsb2NrIn0pLmFkZENsYXNzKHBsYWNlbWVudCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsdGhpcyksdGhpcy5vcHRpb25zLmNvbnRhaW5lcj8kdGlwLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpOiR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudCk7dmFyIHBvcz10aGlzLmdldFBvc2l0aW9uKCksYWN0dWFsV2lkdGg9JHRpcFswXS5vZmZzZXRXaWR0aCxhY3R1YWxIZWlnaHQ9JHRpcFswXS5vZmZzZXRIZWlnaHQ7aWYoYXV0b1BsYWNlKXt2YXIgb3JnUGxhY2VtZW50PXBsYWNlbWVudCwkcGFyZW50PXRoaXMuJGVsZW1lbnQucGFyZW50KCkscGFyZW50RGltPXRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudCk7cGxhY2VtZW50PSJib3R0b20iPT1wbGFjZW1lbnQmJnBvcy50b3ArcG9zLmhlaWdodCthY3R1YWxIZWlnaHQtcGFyZW50RGltLnNjcm9sbD5wYXJlbnREaW0uaGVpZ2h0PyJ0b3AiOiJ0b3AiPT1wbGFjZW1lbnQmJnBvcy50b3AtcGFyZW50RGltLnNjcm9sbC1hY3R1YWxIZWlnaHQ8MD8iYm90dG9tIjoicmlnaHQiPT1wbGFjZW1lbnQmJnBvcy5yaWdodCthY3R1YWxXaWR0aD5wYXJlbnREaW0ud2lkdGg/ImxlZnQiOiJsZWZ0Ij09cGxhY2VtZW50JiZwb3MubGVmdC1hY3R1YWxXaWR0aDxwYXJlbnREaW0ubGVmdD8icmlnaHQiOnBsYWNlbWVudCwkdGlwLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudCkuYWRkQ2xhc3MocGxhY2VtZW50KX12YXIgY2FsY3VsYXRlZE9mZnNldD10aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LHBvcyxhY3R1YWxXaWR0aCxhY3R1YWxIZWlnaHQpO3RoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCxwbGFjZW1lbnQpO3ZhciBjb21wbGV0ZT1mdW5jdGlvbigpe3RoYXQuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuIit0aGF0LnR5cGUpLHRoYXQuaG92ZXJTdGF0ZT1udWxsfTskLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKCJmYWRlIik/JHRpcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6Y29tcGxldGUoKX19LFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50PWZ1bmN0aW9uKG9mZnNldCxwbGFjZW1lbnQpe3ZhciAkdGlwPXRoaXMudGlwKCksd2lkdGg9JHRpcFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ9JHRpcFswXS5vZmZzZXRIZWlnaHQsbWFyZ2luVG9wPXBhcnNlSW50KCR0aXAuY3NzKCJtYXJnaW4tdG9wIiksMTApLG1hcmdpbkxlZnQ9cGFyc2VJbnQoJHRpcC5jc3MoIm1hcmdpbi1sZWZ0IiksMTApO2lzTmFOKG1hcmdpblRvcCkmJihtYXJnaW5Ub3A9MCksaXNOYU4obWFyZ2luTGVmdCkmJihtYXJnaW5MZWZ0PTApLG9mZnNldC50b3A9b2Zmc2V0LnRvcCttYXJnaW5Ub3Asb2Zmc2V0LmxlZnQ9b2Zmc2V0LmxlZnQrbWFyZ2luTGVmdCwkLm9mZnNldC5zZXRPZmZzZXQoJHRpcFswXSwkLmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24ocHJvcHMpeyR0aXAuY3NzKHt0b3A6TWF0aC5yb3VuZChwcm9wcy50b3ApLGxlZnQ6TWF0aC5yb3VuZChwcm9wcy5sZWZ0KX0pfX0sb2Zmc2V0KSwwKSwkdGlwLmFkZENsYXNzKCJpbiIpO3ZhciBhY3R1YWxXaWR0aD0kdGlwWzBdLm9mZnNldFdpZHRoLGFjdHVhbEhlaWdodD0kdGlwWzBdLm9mZnNldEhlaWdodDsidG9wIj09cGxhY2VtZW50JiZhY3R1YWxIZWlnaHQhPWhlaWdodCYmKG9mZnNldC50b3A9b2Zmc2V0LnRvcCtoZWlnaHQtYWN0dWFsSGVpZ2h0KTt2YXIgZGVsdGE9dGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LG9mZnNldCxhY3R1YWxXaWR0aCxhY3R1YWxIZWlnaHQpO2RlbHRhLmxlZnQ/b2Zmc2V0LmxlZnQrPWRlbHRhLmxlZnQ6b2Zmc2V0LnRvcCs9ZGVsdGEudG9wO3ZhciBhcnJvd0RlbHRhPWRlbHRhLmxlZnQ/MipkZWx0YS5sZWZ0LXdpZHRoK2FjdHVhbFdpZHRoOjIqZGVsdGEudG9wLWhlaWdodCthY3R1YWxIZWlnaHQsYXJyb3dQb3NpdGlvbj1kZWx0YS5sZWZ0PyJsZWZ0IjoidG9wIixhcnJvd09mZnNldFBvc2l0aW9uPWRlbHRhLmxlZnQ/Im9mZnNldFdpZHRoIjoib2Zmc2V0SGVpZ2h0IjskdGlwLm9mZnNldChvZmZzZXQpLHRoaXMucmVwbGFjZUFycm93KGFycm93RGVsdGEsJHRpcFswXVthcnJvd09mZnNldFBvc2l0aW9uXSxhcnJvd1Bvc2l0aW9uKX0sVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93PWZ1bmN0aW9uKGRlbHRhLGRpbWVuc2lvbixwb3NpdGlvbil7dGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbixkZWx0YT81MCooMS1kZWx0YS9kaW1lbnNpb24pKyIlIjoiIil9LFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgJHRpcD10aGlzLnRpcCgpLHRpdGxlPXRoaXMuZ2V0VGl0bGUoKTskdGlwLmZpbmQoIi50b29sdGlwLWlubmVyIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0odGl0bGUpLCR0aXAucmVtb3ZlQ2xhc3MoImZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0Iil9LFRvb2x0aXAucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjb21wbGV0ZSgpeyJpbiIhPXRoYXQuaG92ZXJTdGF0ZSYmJHRpcC5kZXRhY2goKSx0aGF0LiRlbGVtZW50LnRyaWdnZXIoImhpZGRlbi5icy4iK3RoYXQudHlwZSl9dmFyIHRoYXQ9dGhpcywkdGlwPXRoaXMudGlwKCksZT0kLkV2ZW50KCJoaWRlLmJzLiIrdGhpcy50eXBlKTtyZXR1cm4gdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IiksdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCk/dm9pZCAwOigkdGlwLnJlbW92ZUNsYXNzKCJpbiIpLCQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiR0aXAuaGFzQ2xhc3MoImZhZGUiKT8kdGlwLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpjb21wbGV0ZSgpLHRoaXMuaG92ZXJTdGF0ZT1udWxsLHRoaXMpfSxUb29sdGlwLnByb3RvdHlwZS5maXhUaXRsZT1mdW5jdGlvbigpe3ZhciAkZT10aGlzLiRlbGVtZW50OygkZS5hdHRyKCJ0aXRsZSIpfHwic3RyaW5nIiE9dHlwZW9mICRlLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKSkmJiRlLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiLCRlLmF0dHIoInRpdGxlIil8fCIiKS5hdHRyKCJ0aXRsZSIsIiIpfSxUb29sdGlwLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oJGVsZW1lbnQpeyRlbGVtZW50PSRlbGVtZW50fHx0aGlzLiRlbGVtZW50O3ZhciBlbD0kZWxlbWVudFswXSxpc0JvZHk9IkJPRFkiPT1lbC50YWdOYW1lO3JldHVybiAkLmV4dGVuZCh7fSwiZnVuY3Rpb24iPT10eXBlb2YgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0P2VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGwse3Njcm9sbDppc0JvZHk/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A6JGVsZW1lbnQuc2Nyb2xsVG9wKCksd2lkdGg6aXNCb2R5PyQod2luZG93KS53aWR0aCgpOiRlbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6aXNCb2R5PyQod2luZG93KS5oZWlnaHQoKTokZWxlbWVudC5vdXRlckhlaWdodCgpfSxpc0JvZHk/e3RvcDowLGxlZnQ6MH06JGVsZW1lbnQub2Zmc2V0KCkpfSxUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0PWZ1bmN0aW9uKHBsYWNlbWVudCxwb3MsYWN0dWFsV2lkdGgsYWN0dWFsSGVpZ2h0KXtyZXR1cm4iYm90dG9tIj09cGxhY2VtZW50P3t0b3A6cG9zLnRvcCtwb3MuaGVpZ2h0LGxlZnQ6cG9zLmxlZnQrcG9zLndpZHRoLzItYWN0dWFsV2lkdGgvMn06InRvcCI9PXBsYWNlbWVudD97dG9wOnBvcy50b3AtYWN0dWFsSGVpZ2h0LGxlZnQ6cG9zLmxlZnQrcG9zLndpZHRoLzItYWN0dWFsV2lkdGgvMn06ImxlZnQiPT1wbGFjZW1lbnQ/e3RvcDpwb3MudG9wK3Bvcy5oZWlnaHQvMi1hY3R1YWxIZWlnaHQvMixsZWZ0OnBvcy5sZWZ0LWFjdHVhbFdpZHRofTp7dG9wOnBvcy50b3ArcG9zLmhlaWdodC8yLWFjdHVhbEhlaWdodC8yLGxlZnQ6cG9zLmxlZnQrcG9zLndpZHRofX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhPWZ1bmN0aW9uKHBsYWNlbWVudCxwb3MsYWN0dWFsV2lkdGgsYWN0dWFsSGVpZ2h0KXt2YXIgZGVsdGE9e3RvcDowLGxlZnQ6MH07aWYoIXRoaXMuJHZpZXdwb3J0KXJldHVybiBkZWx0YTt2YXIgdmlld3BvcnRQYWRkaW5nPXRoaXMub3B0aW9ucy52aWV3cG9ydCYmdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmd8fDAsdmlld3BvcnREaW1lbnNpb25zPXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpO2lmKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpe3ZhciB0b3BFZGdlT2Zmc2V0PXBvcy50b3Atdmlld3BvcnRQYWRkaW5nLXZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwsYm90dG9tRWRnZU9mZnNldD1wb3MudG9wK3ZpZXdwb3J0UGFkZGluZy12aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsK2FjdHVhbEhlaWdodDt0b3BFZGdlT2Zmc2V0PHZpZXdwb3J0RGltZW5zaW9ucy50b3A/ZGVsdGEudG9wPXZpZXdwb3J0RGltZW5zaW9ucy50b3AtdG9wRWRnZU9mZnNldDpib3R0b21FZGdlT2Zmc2V0PnZpZXdwb3J0RGltZW5zaW9ucy50b3Ardmlld3BvcnREaW1lbnNpb25zLmhlaWdodCYmKGRlbHRhLnRvcD12aWV3cG9ydERpbWVuc2lvbnMudG9wK3ZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQtYm90dG9tRWRnZU9mZnNldCl9ZWxzZXt2YXIgbGVmdEVkZ2VPZmZzZXQ9cG9zLmxlZnQtdmlld3BvcnRQYWRkaW5nLHJpZ2h0RWRnZU9mZnNldD1wb3MubGVmdCt2aWV3cG9ydFBhZGRpbmcrYWN0dWFsV2lkdGg7bGVmdEVkZ2VPZmZzZXQ8dmlld3BvcnREaW1lbnNpb25zLmxlZnQ/ZGVsdGEubGVmdD12aWV3cG9ydERpbWVuc2lvbnMubGVmdC1sZWZ0RWRnZU9mZnNldDpyaWdodEVkZ2VPZmZzZXQ+dmlld3BvcnREaW1lbnNpb25zLndpZHRoJiYoZGVsdGEubGVmdD12aWV3cG9ydERpbWVuc2lvbnMubGVmdCt2aWV3cG9ydERpbWVuc2lvbnMud2lkdGgtcmlnaHRFZGdlT2Zmc2V0KX1yZXR1cm4gZGVsdGF9LFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIHRpdGxlLCRlPXRoaXMuJGVsZW1lbnQsbz10aGlzLm9wdGlvbnM7cmV0dXJuIHRpdGxlPSRlLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKXx8KCJmdW5jdGlvbiI9PXR5cGVvZiBvLnRpdGxlP28udGl0bGUuY2FsbCgkZVswXSk6by50aXRsZSkKfSxUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQ9ZnVuY3Rpb24ocHJlZml4KXtkbyBwcmVmaXgrPX5+KDFlNipNYXRoLnJhbmRvbSgpKTt3aGlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKTtyZXR1cm4gcHJlZml4fSxUb29sdGlwLnByb3RvdHlwZS50aXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdGlwPXRoaXMuJHRpcHx8JCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpfSxUb29sdGlwLnByb3RvdHlwZS5hcnJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhcnJvdz10aGlzLiRhcnJvd3x8dGhpcy50aXAoKS5maW5kKCIudG9vbHRpcC1hcnJvdyIpfSxUb29sdGlwLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnRbMF0ucGFyZW50Tm9kZXx8KHRoaXMuaGlkZSgpLHRoaXMuJGVsZW1lbnQ9bnVsbCx0aGlzLm9wdGlvbnM9bnVsbCl9LFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMH0sVG9vbHRpcC5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMX0sVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hdGhpcy5lbmFibGVkfSxUb29sdGlwLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oZSl7dmFyIHNlbGY9dGhpcztlJiYoc2VsZj0kKGUuY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUpLHNlbGZ8fChzZWxmPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSwkKGUuY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsc2VsZikpKSxzZWxmLnRpcCgpLmhhc0NsYXNzKCJpbiIpP3NlbGYubGVhdmUoc2VsZik6c2VsZi5lbnRlcihzZWxmKX0sVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMuaGlkZSgpLiRlbGVtZW50Lm9mZigiLiIrdGhpcy50eXBlKS5yZW1vdmVEYXRhKCJicy4iK3RoaXMudHlwZSl9O3ZhciBvbGQ9JC5mbi50b29sdGlwOyQuZm4udG9vbHRpcD1QbHVnaW4sJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yPVRvb2x0aXAsJC5mbi50b29sdGlwLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi50b29sdGlwPW9sZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLnBvcG92ZXIiKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247KGRhdGF8fCJkZXN0cm95IiE9b3B0aW9uKSYmKGRhdGF8fCR0aGlzLmRhdGEoImJzLnBvcG92ZXIiLGRhdGE9bmV3IFBvcG92ZXIodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpKX0pfXZhciBQb3BvdmVyPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5pbml0KCJwb3BvdmVyIixlbGVtZW50LG9wdGlvbnMpfTtpZighJC5mbi50b29sdGlwKXRocm93IG5ldyBFcnJvcigiUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzIik7UG9wb3Zlci5WRVJTSU9OPSIzLjIuMCIsUG9wb3Zlci5ERUZBVUxUUz0kLmV4dGVuZCh7fSwkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IuREVGQVVMVFMse3BsYWNlbWVudDoicmlnaHQiLHRyaWdnZXI6ImNsaWNrIixjb250ZW50OiIiLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJwb3BvdmVyIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJhcnJvdyI+PC9kaXY+PGgzIGNsYXNzPSJwb3BvdmVyLXRpdGxlIj48L2gzPjxkaXYgY2xhc3M9InBvcG92ZXItY29udGVudCI+PC9kaXY+PC9kaXY+J30pLFBvcG92ZXIucHJvdG90eXBlPSQuZXh0ZW5kKHt9LCQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpLFBvcG92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVBvcG92ZXIsUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHM9ZnVuY3Rpb24oKXtyZXR1cm4gUG9wb3Zlci5ERUZBVUxUU30sUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciAkdGlwPXRoaXMudGlwKCksdGl0bGU9dGhpcy5nZXRUaXRsZSgpLGNvbnRlbnQ9dGhpcy5nZXRDb250ZW50KCk7JHRpcC5maW5kKCIucG9wb3Zlci10aXRsZSIpW3RoaXMub3B0aW9ucy5odG1sPyJodG1sIjoidGV4dCJdKHRpdGxlKSwkdGlwLmZpbmQoIi5wb3BvdmVyLWNvbnRlbnQiKS5lbXB0eSgpW3RoaXMub3B0aW9ucy5odG1sPyJzdHJpbmciPT10eXBlb2YgY29udGVudD8iaHRtbCI6ImFwcGVuZCI6InRleHQiXShjb250ZW50KSwkdGlwLnJlbW92ZUNsYXNzKCJmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbiIpLCR0aXAuZmluZCgiLnBvcG92ZXItdGl0bGUiKS5odG1sKCl8fCR0aXAuZmluZCgiLnBvcG92ZXItdGl0bGUiKS5oaWRlKCl9LFBvcG92ZXIucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfHx0aGlzLmdldENvbnRlbnQoKX0sUG9wb3Zlci5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciAkZT10aGlzLiRlbGVtZW50LG89dGhpcy5vcHRpb25zO3JldHVybiAkZS5hdHRyKCJkYXRhLWNvbnRlbnQiKXx8KCJmdW5jdGlvbiI9PXR5cGVvZiBvLmNvbnRlbnQ/by5jb250ZW50LmNhbGwoJGVbMF0pOm8uY29udGVudCl9LFBvcG92ZXIucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoIi5hcnJvdyIpfSxQb3BvdmVyLnByb3RvdHlwZS50aXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdGlwfHwodGhpcy4kdGlwPSQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSksdGhpcy4kdGlwfTt2YXIgb2xkPSQuZm4ucG9wb3ZlcjskLmZuLnBvcG92ZXI9UGx1Z2luLCQuZm4ucG9wb3Zlci5Db25zdHJ1Y3Rvcj1Qb3BvdmVyLCQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4ucG9wb3Zlcj1vbGQsdGhpc319KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCxvcHRpb25zKXt2YXIgcHJvY2Vzcz0kLnByb3h5KHRoaXMucHJvY2Vzcyx0aGlzKTt0aGlzLiRib2R5PSQoImJvZHkiKSx0aGlzLiRzY3JvbGxFbGVtZW50PSQoJChlbGVtZW50KS5pcygiYm9keSIpP3dpbmRvdzplbGVtZW50KSx0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sU2Nyb2xsU3B5LkRFRkFVTFRTLG9wdGlvbnMpLHRoaXMuc2VsZWN0b3I9KHRoaXMub3B0aW9ucy50YXJnZXR8fCIiKSsiIC5uYXYgbGkgPiBhIix0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5zY3JvbGxIZWlnaHQ9MCx0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCJzY3JvbGwuYnMuc2Nyb2xsc3B5Iixwcm9jZXNzKSx0aGlzLnJlZnJlc2goKSx0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5zY3JvbGxzcHkiKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247ZGF0YXx8JHRoaXMuZGF0YSgiYnMuc2Nyb2xsc3B5IixkYXRhPW5ldyBTY3JvbGxTcHkodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpfSl9U2Nyb2xsU3B5LlZFUlNJT049IjMuMi4wIixTY3JvbGxTcHkuREVGQVVMVFM9e29mZnNldDoxMH0sU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHR8fE1hdGgubWF4KHRoaXMuJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpfSxTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgb2Zmc2V0TWV0aG9kPSJvZmZzZXQiLG9mZnNldEJhc2U9MDskLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pfHwob2Zmc2V0TWV0aG9kPSJwb3NpdGlvbiIsb2Zmc2V0QmFzZT10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpKSx0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuc2Nyb2xsSGVpZ2h0PXRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCk7dmFyIHNlbGY9dGhpczt0aGlzLiRib2R5LmZpbmQodGhpcy5zZWxlY3RvcikubWFwKGZ1bmN0aW9uKCl7dmFyICRlbD0kKHRoaXMpLGhyZWY9JGVsLmRhdGEoInRhcmdldCIpfHwkZWwuYXR0cigiaHJlZiIpLCRocmVmPS9eIy4vLnRlc3QoaHJlZikmJiQoaHJlZik7cmV0dXJuICRocmVmJiYkaHJlZi5sZW5ndGgmJiRocmVmLmlzKCI6dmlzaWJsZSIpJiZbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3Arb2Zmc2V0QmFzZSxocmVmXV18fG51bGx9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0tYlswXX0pLmVhY2goZnVuY3Rpb24oKXtzZWxmLm9mZnNldHMucHVzaCh0aGlzWzBdKSxzZWxmLnRhcmdldHMucHVzaCh0aGlzWzFdKX0pfSxTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgaSxzY3JvbGxUb3A9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSt0aGlzLm9wdGlvbnMub2Zmc2V0LHNjcm9sbEhlaWdodD10aGlzLmdldFNjcm9sbEhlaWdodCgpLG1heFNjcm9sbD10aGlzLm9wdGlvbnMub2Zmc2V0K3Njcm9sbEhlaWdodC10aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpLG9mZnNldHM9dGhpcy5vZmZzZXRzLHRhcmdldHM9dGhpcy50YXJnZXRzLGFjdGl2ZVRhcmdldD10aGlzLmFjdGl2ZVRhcmdldDtpZih0aGlzLnNjcm9sbEhlaWdodCE9c2Nyb2xsSGVpZ2h0JiZ0aGlzLnJlZnJlc2goKSxzY3JvbGxUb3A+PW1heFNjcm9sbClyZXR1cm4gYWN0aXZlVGFyZ2V0IT0oaT10YXJnZXRzW3RhcmdldHMubGVuZ3RoLTFdKSYmdGhpcy5hY3RpdmF0ZShpKTtpZihhY3RpdmVUYXJnZXQmJnNjcm9sbFRvcDw9b2Zmc2V0c1swXSlyZXR1cm4gYWN0aXZlVGFyZ2V0IT0oaT10YXJnZXRzWzBdKSYmdGhpcy5hY3RpdmF0ZShpKTtmb3IoaT1vZmZzZXRzLmxlbmd0aDtpLS07KWFjdGl2ZVRhcmdldCE9dGFyZ2V0c1tpXSYmc2Nyb2xsVG9wPj1vZmZzZXRzW2ldJiYoIW9mZnNldHNbaSsxXXx8c2Nyb2xsVG9wPD1vZmZzZXRzW2krMV0pJiZ0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pfSxTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKHRhcmdldCl7dGhpcy5hY3RpdmVUYXJnZXQ9dGFyZ2V0LCQodGhpcy5zZWxlY3RvcikucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7dmFyIHNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrJ1tkYXRhLXRhcmdldD0iJyt0YXJnZXQrJyJdLCcrdGhpcy5zZWxlY3RvcisnW2hyZWY9IicrdGFyZ2V0KyciXScsYWN0aXZlPSQoc2VsZWN0b3IpLnBhcmVudHMoImxpIikuYWRkQ2xhc3MoImFjdGl2ZSIpO2FjdGl2ZS5wYXJlbnQoIi5kcm9wZG93bi1tZW51IikubGVuZ3RoJiYoYWN0aXZlPWFjdGl2ZS5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKSksYWN0aXZlLnRyaWdnZXIoImFjdGl2YXRlLmJzLnNjcm9sbHNweSIpfTt2YXIgb2xkPSQuZm4uc2Nyb2xsc3B5OyQuZm4uc2Nyb2xsc3B5PVBsdWdpbiwkLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3Rvcj1TY3JvbGxTcHksJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLnNjcm9sbHNweT1vbGQsdGhpc30sJCh3aW5kb3cpLm9uKCJsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaSIsZnVuY3Rpb24oKXskKCdbZGF0YS1zcHk9InNjcm9sbCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciAkc3B5PSQodGhpcyk7UGx1Z2luLmNhbGwoJHNweSwkc3B5LmRhdGEoKSl9KX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMudGFiIik7ZGF0YXx8JHRoaXMuZGF0YSgiYnMudGFiIixkYXRhPW5ldyBUYWIodGhpcykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKX0pfXZhciBUYWI9ZnVuY3Rpb24oZWxlbWVudCl7dGhpcy5lbGVtZW50PSQoZWxlbWVudCl9O1RhYi5WRVJTSU9OPSIzLjIuMCIsVGFiLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyICR0aGlzPXRoaXMuZWxlbWVudCwkdWw9JHRoaXMuY2xvc2VzdCgidWw6bm90KC5kcm9wZG93bi1tZW51KSIpLHNlbGVjdG9yPSR0aGlzLmRhdGEoInRhcmdldCIpO2lmKHNlbGVjdG9yfHwoc2VsZWN0b3I9JHRoaXMuYXR0cigiaHJlZiIpLHNlbGVjdG9yPXNlbGVjdG9yJiZzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sIiIpKSwhJHRoaXMucGFyZW50KCJsaSIpLmhhc0NsYXNzKCJhY3RpdmUiKSl7dmFyIHByZXZpb3VzPSR1bC5maW5kKCIuYWN0aXZlOmxhc3QgYSIpWzBdLGU9JC5FdmVudCgic2hvdy5icy50YWIiLHtyZWxhdGVkVGFyZ2V0OnByZXZpb3VzfSk7aWYoJHRoaXMudHJpZ2dlcihlKSwhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyICR0YXJnZXQ9JChzZWxlY3Rvcik7dGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCJsaSIpLCR1bCksdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCR0YXJnZXQucGFyZW50KCksZnVuY3Rpb24oKXskdGhpcy50cmlnZ2VyKHt0eXBlOiJzaG93bi5icy50YWIiLHJlbGF0ZWRUYXJnZXQ6cHJldmlvdXN9KX0pfX19LFRhYi5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oZWxlbWVudCxjb250YWluZXIsY2FsbGJhY2spe2Z1bmN0aW9uIG5leHQoKXskYWN0aXZlLnJlbW92ZUNsYXNzKCJhY3RpdmUiKS5maW5kKCI+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxlbGVtZW50LmFkZENsYXNzKCJhY3RpdmUiKSx0cmFuc2l0aW9uPyhlbGVtZW50WzBdLm9mZnNldFdpZHRoLGVsZW1lbnQuYWRkQ2xhc3MoImluIikpOmVsZW1lbnQucmVtb3ZlQ2xhc3MoImZhZGUiKSxlbGVtZW50LnBhcmVudCgiLmRyb3Bkb3duLW1lbnUiKSYmZWxlbWVudC5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKSxjYWxsYmFjayYmY2FsbGJhY2soKX12YXIgJGFjdGl2ZT1jb250YWluZXIuZmluZCgiPiAuYWN0aXZlIiksdHJhbnNpdGlvbj1jYWxsYmFjayYmJC5zdXBwb3J0LnRyYW5zaXRpb24mJiRhY3RpdmUuaGFzQ2xhc3MoImZhZGUiKTt0cmFuc2l0aW9uPyRhY3RpdmUub25lKCJic1RyYW5zaXRpb25FbmQiLG5leHQpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6bmV4dCgpLCRhY3RpdmUucmVtb3ZlQ2xhc3MoImluIil9O3ZhciBvbGQ9JC5mbi50YWI7JC5mbi50YWI9UGx1Z2luLCQuZm4udGFiLkNvbnN0cnVjdG9yPVRhYiwkLmZuLnRhYi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4udGFiPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMudGFiLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJ0YWIiXSwgW2RhdGEtdG9nZ2xlPSJwaWxsIl0nLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxQbHVnaW4uY2FsbCgkKHRoaXMpLCJzaG93Iil9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmFmZml4Iiksb3B0aW9ucz0ib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uO2RhdGF8fCR0aGlzLmRhdGEoImJzLmFmZml4IixkYXRhPW5ldyBBZmZpeCh0aGlzLG9wdGlvbnMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dKCl9KX12YXIgQWZmaXg9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sQWZmaXguREVGQVVMVFMsb3B0aW9ucyksdGhpcy4kdGFyZ2V0PSQodGhpcy5vcHRpb25zLnRhcmdldCkub24oInNjcm9sbC5icy5hZmZpeC5kYXRhLWFwaSIsJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sdGhpcykpLm9uKCJjbGljay5icy5hZmZpeC5kYXRhLWFwaSIsJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLHRoaXMpKSx0aGlzLiRlbGVtZW50PSQoZWxlbWVudCksdGhpcy5hZmZpeGVkPXRoaXMudW5waW49dGhpcy5waW5uZWRPZmZzZXQ9bnVsbCx0aGlzLmNoZWNrUG9zaXRpb24oKX07QWZmaXguVkVSU0lPTj0iMy4yLjAiLEFmZml4LlJFU0VUPSJhZmZpeCBhZmZpeC10b3AgYWZmaXgtYm90dG9tIixBZmZpeC5ERUZBVUxUUz17b2Zmc2V0OjAsdGFyZ2V0OndpbmRvd30sQWZmaXgucHJvdG90eXBlLmdldFBpbm5lZE9mZnNldD1mdW5jdGlvbigpe2lmKHRoaXMucGlubmVkT2Zmc2V0KXJldHVybiB0aGlzLnBpbm5lZE9mZnNldDt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKS5hZGRDbGFzcygiYWZmaXgiKTt2YXIgc2Nyb2xsVG9wPXRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKSxwb3NpdGlvbj10aGlzLiRlbGVtZW50Lm9mZnNldCgpO3JldHVybiB0aGlzLnBpbm5lZE9mZnNldD1wb3NpdGlvbi50b3Atc2Nyb2xsVG9wfSxBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3A9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpLDEpfSxBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuJGVsZW1lbnQuaXMoIjp2aXNpYmxlIikpe3ZhciBzY3JvbGxIZWlnaHQ9JChkb2N1bWVudCkuaGVpZ2h0KCksc2Nyb2xsVG9wPXRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKSxwb3NpdGlvbj10aGlzLiRlbGVtZW50Lm9mZnNldCgpLG9mZnNldD10aGlzLm9wdGlvbnMub2Zmc2V0LG9mZnNldFRvcD1vZmZzZXQudG9wLG9mZnNldEJvdHRvbT1vZmZzZXQuYm90dG9tOyJvYmplY3QiIT10eXBlb2Ygb2Zmc2V0JiYob2Zmc2V0Qm90dG9tPW9mZnNldFRvcD1vZmZzZXQpLCJmdW5jdGlvbiI9PXR5cGVvZiBvZmZzZXRUb3AmJihvZmZzZXRUb3A9b2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KSksImZ1bmN0aW9uIj09dHlwZW9mIG9mZnNldEJvdHRvbSYmKG9mZnNldEJvdHRvbT1vZmZzZXQuYm90dG9tKHRoaXMuJGVsZW1lbnQpKTt2YXIgYWZmaXg9bnVsbCE9dGhpcy51bnBpbiYmc2Nyb2xsVG9wK3RoaXMudW5waW48PXBvc2l0aW9uLnRvcD8hMTpudWxsIT1vZmZzZXRCb3R0b20mJnBvc2l0aW9uLnRvcCt0aGlzLiRlbGVtZW50LmhlaWdodCgpPj1zY3JvbGxIZWlnaHQtb2Zmc2V0Qm90dG9tPyJib3R0b20iOm51bGwhPW9mZnNldFRvcCYmb2Zmc2V0VG9wPj1zY3JvbGxUb3A/InRvcCI6ITE7aWYodGhpcy5hZmZpeGVkIT09YWZmaXgpe251bGwhPXRoaXMudW5waW4mJnRoaXMuJGVsZW1lbnQuY3NzKCJ0b3AiLCIiKTt2YXIgYWZmaXhUeXBlPSJhZmZpeCIrKGFmZml4PyItIithZmZpeDoiIiksZT0kLkV2ZW50KGFmZml4VHlwZSsiLmJzLmFmZml4Iik7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0aGlzLmFmZml4ZWQ9YWZmaXgsdGhpcy51bnBpbj0iYm90dG9tIj09YWZmaXg/dGhpcy5nZXRQaW5uZWRPZmZzZXQoKTpudWxsLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKGFmZml4VHlwZSkudHJpZ2dlcigkLkV2ZW50KGFmZml4VHlwZS5yZXBsYWNlKCJhZmZpeCIsImFmZml4ZWQiKSkpLCJib3R0b20iPT1hZmZpeCYmdGhpcy4kZWxlbWVudC5vZmZzZXQoe3RvcDpzY3JvbGxIZWlnaHQtdGhpcy4kZWxlbWVudC5oZWlnaHQoKS1vZmZzZXRCb3R0b219KSl9fX07dmFyIG9sZD0kLmZuLmFmZml4OyQuZm4uYWZmaXg9UGx1Z2luLCQuZm4uYWZmaXguQ29uc3RydWN0b3I9QWZmaXgsJC5mbi5hZmZpeC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uYWZmaXg9b2xkLHRoaXN9LCQod2luZG93KS5vbigibG9hZCIsZnVuY3Rpb24oKXskKCdbZGF0YS1zcHk9ImFmZml4Il0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyICRzcHk9JCh0aGlzKSxkYXRhPSRzcHkuZGF0YSgpO2RhdGEub2Zmc2V0PWRhdGEub2Zmc2V0fHx7fSxkYXRhLm9mZnNldEJvdHRvbSYmKGRhdGEub2Zmc2V0LmJvdHRvbT1kYXRhLm9mZnNldEJvdHRvbSksZGF0YS5vZmZzZXRUb3AmJihkYXRhLm9mZnNldC50b3A9ZGF0YS5vZmZzZXRUb3ApLFBsdWdpbi5jYWxsKCRzcHksZGF0YSl9KX0pfShqUXVlcnkpLGZ1bmN0aW9uKHdpbmRvdyxhbmd1bGFyLHVuZGVmaW5lZCl7InVzZSBzdHJpY3QiO2FuZ3VsYXIubW9kdWxlKCJuZ0Nvb2tpZXMiLFsibmciXSkuZmFjdG9yeSgiJGNvb2tpZXMiLFsiJHJvb3RTY29wZSIsIiRicm93c2VyIixmdW5jdGlvbigkcm9vdFNjb3BlLCRicm93c2VyKXtmdW5jdGlvbiBwdXNoKCl7dmFyIG5hbWUsdmFsdWUsYnJvd3NlckNvb2tpZXMsdXBkYXRlZDtmb3IobmFtZSBpbiBsYXN0Q29va2llcylpc1VuZGVmaW5lZChjb29raWVzW25hbWVdKSYmJGJyb3dzZXIuY29va2llcyhuYW1lLHVuZGVmaW5lZCk7Zm9yKG5hbWUgaW4gY29va2llcyl2YWx1ZT1jb29raWVzW25hbWVdLGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpfHwodmFsdWU9IiIrdmFsdWUsY29va2llc1tuYW1lXT12YWx1ZSksdmFsdWUhPT1sYXN0Q29va2llc1tuYW1lXSYmKCRicm93c2VyLmNvb2tpZXMobmFtZSx2YWx1ZSksdXBkYXRlZD0hMCk7aWYodXBkYXRlZCl7dXBkYXRlZD0hMSxicm93c2VyQ29va2llcz0kYnJvd3Nlci5jb29raWVzKCk7Zm9yKG5hbWUgaW4gY29va2llcyljb29raWVzW25hbWVdIT09YnJvd3NlckNvb2tpZXNbbmFtZV0mJihpc1VuZGVmaW5lZChicm93c2VyQ29va2llc1tuYW1lXSk/ZGVsZXRlIGNvb2tpZXNbbmFtZV06Y29va2llc1tuYW1lXT1icm93c2VyQ29va2llc1tuYW1lXSx1cGRhdGVkPSEwKX19dmFyIGxhc3RCcm93c2VyQ29va2llcyxjb29raWVzPXt9LGxhc3RDb29raWVzPXt9LHJ1bkV2YWw9ITEsY29weT1hbmd1bGFyLmNvcHksaXNVbmRlZmluZWQ9YW5ndWxhci5pc1VuZGVmaW5lZDtyZXR1cm4gJGJyb3dzZXIuYWRkUG9sbEZuKGZ1bmN0aW9uKCl7dmFyIGN1cnJlbnRDb29raWVzPSRicm93c2VyLmNvb2tpZXMoKTtsYXN0QnJvd3NlckNvb2tpZXMhPWN1cnJlbnRDb29raWVzJiYobGFzdEJyb3dzZXJDb29raWVzPWN1cnJlbnRDb29raWVzLGNvcHkoY3VycmVudENvb2tpZXMsbGFzdENvb2tpZXMpLGNvcHkoY3VycmVudENvb2tpZXMsY29va2llcykscnVuRXZhbCYmJHJvb3RTY29wZS4kYXBwbHkoKSl9KSgpLHJ1bkV2YWw9ITAsJHJvb3RTY29wZS4kd2F0Y2gocHVzaCksY29va2llc31dKS5mYWN0b3J5KCIkY29va2llU3RvcmUiLFsiJGNvb2tpZXMiLGZ1bmN0aW9uKCRjb29raWVzKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKGtleSl7dmFyIHZhbHVlPSRjb29raWVzW2tleV07cmV0dXJuIHZhbHVlP2FuZ3VsYXIuZnJvbUpzb24odmFsdWUpOnZhbHVlfSxwdXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXskY29va2llc1trZXldPWFuZ3VsYXIudG9Kc29uKHZhbHVlKX0scmVtb3ZlOmZ1bmN0aW9uKGtleSl7ZGVsZXRlICRjb29raWVzW2tleV19fX1dKX0od2luZG93LHdpbmRvdy5hbmd1bGFyKSxmdW5jdGlvbih3aW5kb3csYW5ndWxhcil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uICRSb3V0ZVByb3ZpZGVyKCl7ZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsZXh0cmEpe3JldHVybiBhbmd1bGFyLmV4dGVuZChuZXcoYW5ndWxhci5leHRlbmQoZnVuY3Rpb24oKXt9LHtwcm90b3R5cGU6cGFyZW50fSkpLGV4dHJhKX1mdW5jdGlvbiBwYXRoUmVnRXhwKHBhdGgsb3B0cyl7dmFyIGluc2Vuc2l0aXZlPW9wdHMuY2FzZUluc2Vuc2l0aXZlTWF0Y2gscmV0PXtvcmlnaW5hbFBhdGg6cGF0aCxyZWdleHA6cGF0aH0sa2V5cz1yZXQua2V5cz1bXTtyZXR1cm4gcGF0aD1wYXRoLnJlcGxhY2UoLyhbKCkuXSkvZywiXFwkMSIpLnJlcGxhY2UoLyhcLyk/OihcdyspKFtcP1wqXSk/L2csZnVuY3Rpb24oXyxzbGFzaCxrZXksb3B0aW9uKXt2YXIgb3B0aW9uYWw9Ij8iPT09b3B0aW9uP29wdGlvbjpudWxsLHN0YXI9IioiPT09b3B0aW9uP29wdGlvbjpudWxsO3JldHVybiBrZXlzLnB1c2goe25hbWU6a2V5LG9wdGlvbmFsOiEhb3B0aW9uYWx9KSxzbGFzaD1zbGFzaHx8IiIsIiIrKG9wdGlvbmFsPyIiOnNsYXNoKSsiKD86Iisob3B0aW9uYWw/c2xhc2g6IiIpKyhzdGFyJiYiKC4rPykifHwiKFteL10rKSIpKyhvcHRpb25hbHx8IiIpKyIpIisob3B0aW9uYWx8fCIiKX0pLnJlcGxhY2UoLyhbXC8kXCpdKS9nLCJcXCQxIikscmV0LnJlZ2V4cD1uZXcgUmVnRXhwKCJeIitwYXRoKyIkIixpbnNlbnNpdGl2ZT8iaSI6IiIpLHJldH12YXIgcm91dGVzPXt9O3RoaXMud2hlbj1mdW5jdGlvbihwYXRoLHJvdXRlKXtpZihyb3V0ZXNbcGF0aF09YW5ndWxhci5leHRlbmQoe3JlbG9hZE9uU2VhcmNoOiEwfSxyb3V0ZSxwYXRoJiZwYXRoUmVnRXhwKHBhdGgscm91dGUpKSxwYXRoKXt2YXIgcmVkaXJlY3RQYXRoPSIvIj09cGF0aFtwYXRoLmxlbmd0aC0xXT9wYXRoLnN1YnN0cigwLHBhdGgubGVuZ3RoLTEpOnBhdGgrIi8iO3JvdXRlc1tyZWRpcmVjdFBhdGhdPWFuZ3VsYXIuZXh0ZW5kKHtyZWRpcmVjdFRvOnBhdGh9LHBhdGhSZWdFeHAocmVkaXJlY3RQYXRoLHJvdXRlKSl9cmV0dXJuIHRoaXN9LHRoaXMub3RoZXJ3aXNlPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBwYXJhbXMmJihwYXJhbXM9e3JlZGlyZWN0VG86cGFyYW1zfSksdGhpcy53aGVuKG51bGwscGFyYW1zKSx0aGlzfSx0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJHJvdXRlUGFyYW1zIiwiJHEiLCIkaW5qZWN0b3IiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJHNjZSIsZnVuY3Rpb24oJHJvb3RTY29wZSwkbG9jYXRpb24sJHJvdXRlUGFyYW1zLCRxLCRpbmplY3RvciwkdGVtcGxhdGVSZXF1ZXN0LCRzY2Upe2Z1bmN0aW9uIHN3aXRjaFJvdXRlTWF0Y2hlcihvbixyb3V0ZSl7dmFyIGtleXM9cm91dGUua2V5cyxwYXJhbXM9e307aWYoIXJvdXRlLnJlZ2V4cClyZXR1cm4gbnVsbDt2YXIgbT1yb3V0ZS5yZWdleHAuZXhlYyhvbik7aWYoIW0pcmV0dXJuIG51bGw7Zm9yKHZhciBpPTEsbGVuPW0ubGVuZ3RoO2xlbj5pOysraSl7dmFyIGtleT1rZXlzW2ktMV0sdmFsPW1baV07a2V5JiZ2YWwmJihwYXJhbXNba2V5Lm5hbWVdPXZhbCl9cmV0dXJuIHBhcmFtc31mdW5jdGlvbiBwcmVwYXJlUm91dGUoJGxvY2F0aW9uRXZlbnQpe3ZhciBsYXN0Um91dGU9JHJvdXRlLmN1cnJlbnQ7cHJlcGFyZWRSb3V0ZT1wYXJzZVJvdXRlKCkscHJlcGFyZWRSb3V0ZUlzVXBkYXRlT25seT1wcmVwYXJlZFJvdXRlJiZsYXN0Um91dGUmJnByZXBhcmVkUm91dGUuJCRyb3V0ZT09PWxhc3RSb3V0ZS4kJHJvdXRlJiZhbmd1bGFyLmVxdWFscyhwcmVwYXJlZFJvdXRlLnBhdGhQYXJhbXMsbGFzdFJvdXRlLnBhdGhQYXJhbXMpJiYhcHJlcGFyZWRSb3V0ZS5yZWxvYWRPblNlYXJjaCYmIWZvcmNlUmVsb2FkLHByZXBhcmVkUm91dGVJc1VwZGF0ZU9ubHl8fCFsYXN0Um91dGUmJiFwcmVwYXJlZFJvdXRlfHwkcm9vdFNjb3BlLiRicm9hZGNhc3QoIiRyb3V0ZUNoYW5nZVN0YXJ0IixwcmVwYXJlZFJvdXRlLGxhc3RSb3V0ZSkuZGVmYXVsdFByZXZlbnRlZCYmJGxvY2F0aW9uRXZlbnQmJiRsb2NhdGlvbkV2ZW50LnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gY29tbWl0Um91dGUoKXt2YXIgbGFzdFJvdXRlPSRyb3V0ZS5jdXJyZW50LG5leHRSb3V0ZT1wcmVwYXJlZFJvdXRlO3ByZXBhcmVkUm91dGVJc1VwZGF0ZU9ubHk/KGxhc3RSb3V0ZS5wYXJhbXM9bmV4dFJvdXRlLnBhcmFtcyxhbmd1bGFyLmNvcHkobGFzdFJvdXRlLnBhcmFtcywkcm91dGVQYXJhbXMpLCRyb290U2NvcGUuJGJyb2FkY2FzdCgiJHJvdXRlVXBkYXRlIixsYXN0Um91dGUpKToobmV4dFJvdXRlfHxsYXN0Um91dGUpJiYoZm9yY2VSZWxvYWQ9ITEsJHJvdXRlLmN1cnJlbnQ9bmV4dFJvdXRlLG5leHRSb3V0ZSYmbmV4dFJvdXRlLnJlZGlyZWN0VG8mJihhbmd1bGFyLmlzU3RyaW5nKG5leHRSb3V0ZS5yZWRpcmVjdFRvKT8kbG9jYXRpb24ucGF0aChpbnRlcnBvbGF0ZShuZXh0Um91dGUucmVkaXJlY3RUbyxuZXh0Um91dGUucGFyYW1zKSkuc2VhcmNoKG5leHRSb3V0ZS5wYXJhbXMpLnJlcGxhY2UoKTokbG9jYXRpb24udXJsKG5leHRSb3V0ZS5yZWRpcmVjdFRvKG5leHRSb3V0ZS5wYXRoUGFyYW1zLCRsb2NhdGlvbi5wYXRoKCksJGxvY2F0aW9uLnNlYXJjaCgpKSkucmVwbGFjZSgpKSwkcS53aGVuKG5leHRSb3V0ZSkudGhlbihmdW5jdGlvbigpe2lmKG5leHRSb3V0ZSl7dmFyIHRlbXBsYXRlLHRlbXBsYXRlVXJsLGxvY2Fscz1hbmd1bGFyLmV4dGVuZCh7fSxuZXh0Um91dGUucmVzb2x2ZSk7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChsb2NhbHMsZnVuY3Rpb24odmFsdWUsa2V5KXtsb2NhbHNba2V5XT1hbmd1bGFyLmlzU3RyaW5nKHZhbHVlKT8kaW5qZWN0b3IuZ2V0KHZhbHVlKTokaW5qZWN0b3IuaW52b2tlKHZhbHVlLG51bGwsbnVsbCxrZXkpfSksYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGU9bmV4dFJvdXRlLnRlbXBsYXRlKT9hbmd1bGFyLmlzRnVuY3Rpb24odGVtcGxhdGUpJiYodGVtcGxhdGU9dGVtcGxhdGUobmV4dFJvdXRlLnBhcmFtcykpOmFuZ3VsYXIuaXNEZWZpbmVkKHRlbXBsYXRlVXJsPW5leHRSb3V0ZS50ZW1wbGF0ZVVybCkmJihhbmd1bGFyLmlzRnVuY3Rpb24odGVtcGxhdGVVcmwpJiYodGVtcGxhdGVVcmw9dGVtcGxhdGVVcmwobmV4dFJvdXRlLnBhcmFtcykpLHRlbXBsYXRlVXJsPSRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHRlbXBsYXRlVXJsKSxhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZVVybCkmJihuZXh0Um91dGUubG9hZGVkVGVtcGxhdGVVcmw9dGVtcGxhdGVVcmwsdGVtcGxhdGU9JHRlbXBsYXRlUmVxdWVzdCh0ZW1wbGF0ZVVybCkpKSxhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZSkmJihsb2NhbHMuJHRlbXBsYXRlPXRlbXBsYXRlKSwkcS5hbGwobG9jYWxzKX19KS50aGVuKGZ1bmN0aW9uKGxvY2Fscyl7bmV4dFJvdXRlPT0kcm91dGUuY3VycmVudCYmKG5leHRSb3V0ZSYmKG5leHRSb3V0ZS5sb2NhbHM9bG9jYWxzLGFuZ3VsYXIuY29weShuZXh0Um91dGUucGFyYW1zLCRyb3V0ZVBhcmFtcykpLCRyb290U2NvcGUuJGJyb2FkY2FzdCgiJHJvdXRlQ2hhbmdlU3VjY2VzcyIsbmV4dFJvdXRlLGxhc3RSb3V0ZSkpfSxmdW5jdGlvbihlcnJvcil7bmV4dFJvdXRlPT0kcm91dGUuY3VycmVudCYmJHJvb3RTY29wZS4kYnJvYWRjYXN0KCIkcm91dGVDaGFuZ2VFcnJvciIsbmV4dFJvdXRlLGxhc3RSb3V0ZSxlcnJvcil9KSl9ZnVuY3Rpb24gcGFyc2VSb3V0ZSgpe3ZhciBwYXJhbXMsbWF0Y2g7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChyb3V0ZXMsZnVuY3Rpb24ocm91dGUpeyFtYXRjaCYmKHBhcmFtcz1zd2l0Y2hSb3V0ZU1hdGNoZXIoJGxvY2F0aW9uLnBhdGgoKSxyb3V0ZSkpJiYobWF0Y2g9aW5oZXJpdChyb3V0ZSx7cGFyYW1zOmFuZ3VsYXIuZXh0ZW5kKHt9LCRsb2NhdGlvbi5zZWFyY2goKSxwYXJhbXMpLHBhdGhQYXJhbXM6cGFyYW1zfSksbWF0Y2guJCRyb3V0ZT1yb3V0ZSl9KSxtYXRjaHx8cm91dGVzW251bGxdJiZpbmhlcml0KHJvdXRlc1tudWxsXSx7cGFyYW1zOnt9LHBhdGhQYXJhbXM6e319KX1mdW5jdGlvbiBpbnRlcnBvbGF0ZShzdHJpbmcscGFyYW1zKXt2YXIgcmVzdWx0PVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2goKHN0cmluZ3x8IiIpLnNwbGl0KCI6IiksZnVuY3Rpb24oc2VnbWVudCxpKXtpZigwPT09aSlyZXN1bHQucHVzaChzZWdtZW50KTtlbHNle3ZhciBzZWdtZW50TWF0Y2g9c2VnbWVudC5tYXRjaCgvKFx3KykoLiopLyksa2V5PXNlZ21lbnRNYXRjaFsxXTtyZXN1bHQucHVzaChwYXJhbXNba2V5XSkscmVzdWx0LnB1c2goc2VnbWVudE1hdGNoWzJdfHwiIiksZGVsZXRlIHBhcmFtc1trZXldfX0pLHJlc3VsdC5qb2luKCIiKX12YXIgcHJlcGFyZWRSb3V0ZSxwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5LGZvcmNlUmVsb2FkPSExLCRyb3V0ZT17cm91dGVzOnJvdXRlcyxyZWxvYWQ6ZnVuY3Rpb24oKXtmb3JjZVJlbG9hZD0hMCwkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtwcmVwYXJlUm91dGUoKSxjb21taXRSb3V0ZSgpfSl9LHVwZGF0ZVBhcmFtczpmdW5jdGlvbihuZXdQYXJhbXMpe2lmKCF0aGlzLmN1cnJlbnR8fCF0aGlzLmN1cnJlbnQuJCRyb3V0ZSl0aHJvdyAkcm91dGVNaW5FcnIoIm5vcm91dCIsIlRyaWVkIHVwZGF0aW5nIHJvdXRlIHdoZW4gd2l0aCBubyBjdXJyZW50IHJvdXRlIik7dmFyIHNlYXJjaFBhcmFtcz17fSxzZWxmPXRoaXM7YW5ndWxhci5mb3JFYWNoKE9iamVjdC5rZXlzKG5ld1BhcmFtcyksZnVuY3Rpb24oa2V5KXtzZWxmLmN1cnJlbnQucGF0aFBhcmFtc1trZXldfHwoc2VhcmNoUGFyYW1zW2tleV09bmV3UGFyYW1zW2tleV0pfSksbmV3UGFyYW1zPWFuZ3VsYXIuZXh0ZW5kKHt9LHRoaXMuY3VycmVudC5wYXJhbXMsbmV3UGFyYW1zKSwkbG9jYXRpb24ucGF0aChpbnRlcnBvbGF0ZSh0aGlzLmN1cnJlbnQuJCRyb3V0ZS5vcmlnaW5hbFBhdGgsbmV3UGFyYW1zKSksJGxvY2F0aW9uLnNlYXJjaChhbmd1bGFyLmV4dGVuZCh7fSwkbG9jYXRpb24uc2VhcmNoKCksc2VhcmNoUGFyYW1zKSl9fTtyZXR1cm4gJHJvb3RTY29wZS4kb24oIiRsb2NhdGlvbkNoYW5nZVN0YXJ0IixwcmVwYXJlUm91dGUpLCRyb290U2NvcGUuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixjb21taXRSb3V0ZSksJHJvdXRlfV19ZnVuY3Rpb24gJFJvdXRlUGFyYW1zUHJvdmlkZXIoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm57fX19ZnVuY3Rpb24gbmdWaWV3RmFjdG9yeSgkcm91dGUsJGFuY2hvclNjcm9sbCwkYW5pbWF0ZSl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjQwMCx0cmFuc2NsdWRlOiJlbGVtZW50IixsaW5rOmZ1bmN0aW9uKHNjb3BlLCRlbGVtZW50LGF0dHIsY3RybCwkdHJhbnNjbHVkZSl7ZnVuY3Rpb24gY2xlYW51cExhc3RWaWV3KCl7cHJldmlvdXNMZWF2ZUFuaW1hdGlvbiYmKCRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9uKSxwcmV2aW91c0xlYXZlQW5pbWF0aW9uPW51bGwpLGN1cnJlbnRTY29wZSYmKGN1cnJlbnRTY29wZS4kZGVzdHJveSgpLGN1cnJlbnRTY29wZT1udWxsKSxjdXJyZW50RWxlbWVudCYmKHByZXZpb3VzTGVhdmVBbmltYXRpb249JGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLHByZXZpb3VzTGVhdmVBbmltYXRpb24udGhlbihmdW5jdGlvbigpe3ByZXZpb3VzTGVhdmVBbmltYXRpb249bnVsbH0pLGN1cnJlbnRFbGVtZW50PW51bGwpfWZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBsb2NhbHM9JHJvdXRlLmN1cnJlbnQmJiRyb3V0ZS5jdXJyZW50LmxvY2Fscyx0ZW1wbGF0ZT1sb2NhbHMmJmxvY2Fscy4kdGVtcGxhdGU7aWYoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGUpKXt2YXIgbmV3U2NvcGU9c2NvcGUuJG5ldygpLGN1cnJlbnQ9JHJvdXRlLmN1cnJlbnQsY2xvbmU9JHRyYW5zY2x1ZGUobmV3U2NvcGUsZnVuY3Rpb24oY2xvbmUpeyRhbmltYXRlLmVudGVyKGNsb25lLG51bGwsY3VycmVudEVsZW1lbnR8fCRlbGVtZW50KS50aGVuKGZ1bmN0aW9uKCl7IWFuZ3VsYXIuaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApfHxhdXRvU2Nyb2xsRXhwJiYhc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCl8fCRhbmNob3JTY3JvbGwoKX0pLGNsZWFudXBMYXN0VmlldygpfSk7Y3VycmVudEVsZW1lbnQ9Y2xvbmUsY3VycmVudFNjb3BlPWN1cnJlbnQuc2NvcGU9bmV3U2NvcGUsY3VycmVudFNjb3BlLiRlbWl0KCIkdmlld0NvbnRlbnRMb2FkZWQiKSxjdXJyZW50U2NvcGUuJGV2YWwob25sb2FkRXhwKX1lbHNlIGNsZWFudXBMYXN0VmlldygpfXZhciBjdXJyZW50U2NvcGUsY3VycmVudEVsZW1lbnQscHJldmlvdXNMZWF2ZUFuaW1hdGlvbixhdXRvU2Nyb2xsRXhwPWF0dHIuYXV0b3Njcm9sbCxvbmxvYWRFeHA9YXR0ci5vbmxvYWR8fCIiO3Njb3BlLiRvbigiJHJvdXRlQ2hhbmdlU3VjY2VzcyIsdXBkYXRlKSx1cGRhdGUoKX19fWZ1bmN0aW9uIG5nVmlld0ZpbGxDb250ZW50RmFjdG9yeSgkY29tcGlsZSwkY29udHJvbGxlciwkcm91dGUpe3JldHVybntyZXN0cmljdDoiRUNBIixwcmlvcml0eTotNDAwLGxpbms6ZnVuY3Rpb24oc2NvcGUsJGVsZW1lbnQpe3ZhciBjdXJyZW50PSRyb3V0ZS5jdXJyZW50LGxvY2Fscz1jdXJyZW50LmxvY2FsczskZWxlbWVudC5odG1sKGxvY2Fscy4kdGVtcGxhdGUpO3ZhciBsaW5rPSRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpO2lmKGN1cnJlbnQuY29udHJvbGxlcil7bG9jYWxzLiRzY29wZT1zY29wZTt2YXIgY29udHJvbGxlcj0kY29udHJvbGxlcihjdXJyZW50LmNvbnRyb2xsZXIsbG9jYWxzKTtjdXJyZW50LmNvbnRyb2xsZXJBcyYmKHNjb3BlW2N1cnJlbnQuY29udHJvbGxlckFzXT1jb250cm9sbGVyKSwkZWxlbWVudC5kYXRhKCIkbmdDb250cm9sbGVyQ29udHJvbGxlciIsY29udHJvbGxlciksJGVsZW1lbnQuY2hpbGRyZW4oKS5kYXRhKCIkbmdDb250cm9sbGVyQ29udHJvbGxlciIsY29udHJvbGxlcil9bGluayhzY29wZSl9fX12YXIgbmdSb3V0ZU1vZHVsZT1hbmd1bGFyLm1vZHVsZSgibmdSb3V0ZSIsWyJuZyJdKS5wcm92aWRlcigiJHJvdXRlIiwkUm91dGVQcm92aWRlciksJHJvdXRlTWluRXJyPWFuZ3VsYXIuJCRtaW5FcnIoIm5nUm91dGUiKTtuZ1JvdXRlTW9kdWxlLnByb3ZpZGVyKCIkcm91dGVQYXJhbXMiLCRSb3V0ZVBhcmFtc1Byb3ZpZGVyKSxuZ1JvdXRlTW9kdWxlLmRpcmVjdGl2ZSgibmdWaWV3IixuZ1ZpZXdGYWN0b3J5KSxuZ1JvdXRlTW9kdWxlLmRpcmVjdGl2ZSgibmdWaWV3IixuZ1ZpZXdGaWxsQ29udGVudEZhY3RvcnkpLG5nVmlld0ZhY3RvcnkuJGluamVjdD1bIiRyb3V0ZSIsIiRhbmNob3JTY3JvbGwiLCIkYW5pbWF0ZSJdLG5nVmlld0ZpbGxDb250ZW50RmFjdG9yeS4kaW5qZWN0PVsiJGNvbXBpbGUiLCIkY29udHJvbGxlciIsIiRyb3V0ZSJdfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAiLFsidWkuYm9vdHN0cmFwLnRwbHMiLCJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiIsInVpLmJvb3RzdHJhcC5jb2xsYXBzZSIsInVpLmJvb3RzdHJhcC5hY2NvcmRpb24iLCJ1aS5ib290c3RyYXAuYWxlcnQiLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiLCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIsInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIiwidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLCJ1aS5ib290c3RyYXAuZHJvcGRvd24iLCJ1aS5ib290c3RyYXAubW9kYWwiLCJ1aS5ib290c3RyYXAucGFnaW5hdGlvbiIsInVpLmJvb3RzdHJhcC50b29sdGlwIiwidWkuYm9vdHN0cmFwLnBvcG92ZXIiLCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXIiLCJ1aS5ib290c3RyYXAucmF0aW5nIiwidWkuYm9vdHN0cmFwLnRhYnMiLCJ1aS5ib290c3RyYXAudGltZXBpY2tlciIsInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiXSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50cGxzIixbInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCIsInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIiwidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCIsInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIsInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIsInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIiwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIiwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIiwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwiLCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCIsInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIiwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwiLCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIiwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIiwidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCIsInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCJdKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iLFtdKS5mYWN0b3J5KCIkdHJhbnNpdGlvbiIsWyIkcSIsIiR0aW1lb3V0IiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oJHEsJHRpbWVvdXQsJHJvb3RTY29wZSl7ZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKXtmb3IodmFyIG5hbWUgaW4gZW5kRXZlbnROYW1lcylpZih2b2lkIDAhPT10cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0pcmV0dXJuIGVuZEV2ZW50TmFtZXNbbmFtZV19dmFyICR0cmFuc2l0aW9uPWZ1bmN0aW9uKGVsZW1lbnQsdHJpZ2dlcixvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBkZWZlcnJlZD0kcS5kZWZlcigpLGVuZEV2ZW50TmFtZT0kdHJhbnNpdGlvbltvcHRpb25zLmFuaW1hdGlvbj8iYW5pbWF0aW9uRW5kRXZlbnROYW1lIjoidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSJdLHRyYW5zaXRpb25FbmRIYW5kbGVyPWZ1bmN0aW9uKCl7JHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsdHJhbnNpdGlvbkVuZEhhbmRsZXIpLGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCl9KX07cmV0dXJuIGVuZEV2ZW50TmFtZSYmZWxlbWVudC5iaW5kKGVuZEV2ZW50TmFtZSx0cmFuc2l0aW9uRW5kSGFuZGxlciksJHRpbWVvdXQoZnVuY3Rpb24oKXthbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpP2VsZW1lbnQuYWRkQ2xhc3ModHJpZ2dlcik6YW5ndWxhci5pc0Z1bmN0aW9uKHRyaWdnZXIpP3RyaWdnZXIoZWxlbWVudCk6YW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSYmZWxlbWVudC5jc3ModHJpZ2dlciksZW5kRXZlbnROYW1lfHxkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpfSksZGVmZXJyZWQucHJvbWlzZS5jYW5jZWw9ZnVuY3Rpb24oKXtlbmRFdmVudE5hbWUmJmVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSx0cmFuc2l0aW9uRW5kSGFuZGxlciksZGVmZXJyZWQucmVqZWN0KCJUcmFuc2l0aW9uIGNhbmNlbGxlZCIpfSxkZWZlcnJlZC5wcm9taXNlfSx0cmFuc0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhbnMiKSx0cmFuc2l0aW9uRW5kRXZlbnROYW1lcz17V2Via2l0VHJhbnNpdGlvbjoid2Via2l0VHJhbnNpdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCIsT1RyYW5zaXRpb246Im9UcmFuc2l0aW9uRW5kIix0cmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIn0sYW5pbWF0aW9uRW5kRXZlbnROYW1lcz17V2Via2l0VHJhbnNpdGlvbjoid2Via2l0QW5pbWF0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJhbmltYXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvQW5pbWF0aW9uRW5kIix0cmFuc2l0aW9uOiJhbmltYXRpb25lbmQifTtyZXR1cm4gJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZT1maW5kRW5kRXZlbnROYW1lKHRyYW5zaXRpb25FbmRFdmVudE5hbWVzKSwkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWU9ZmluZEVuZEV2ZW50TmFtZShhbmltYXRpb25FbmRFdmVudE5hbWVzKSwkdHJhbnNpdGlvbn1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNvbGxhcHNlIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmRpcmVjdGl2ZSgiY29sbGFwc2UiLFsiJHRyYW5zaXRpb24iLGZ1bmN0aW9uKCR0cmFuc2l0aW9uKXtyZXR1cm57bGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtmdW5jdGlvbiBkb1RyYW5zaXRpb24oY2hhbmdlKXtmdW5jdGlvbiBuZXdUcmFuc2l0aW9uRG9uZSgpe2N1cnJlbnRUcmFuc2l0aW9uPT09bmV3VHJhbnNpdGlvbiYmKGN1cnJlbnRUcmFuc2l0aW9uPXZvaWQgMCl9dmFyIG5ld1RyYW5zaXRpb249JHRyYW5zaXRpb24oZWxlbWVudCxjaGFuZ2UpO3JldHVybiBjdXJyZW50VHJhbnNpdGlvbiYmY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCksY3VycmVudFRyYW5zaXRpb249bmV3VHJhbnNpdGlvbixuZXdUcmFuc2l0aW9uLnRoZW4obmV3VHJhbnNpdGlvbkRvbmUsbmV3VHJhbnNpdGlvbkRvbmUpLG5ld1RyYW5zaXRpb259ZnVuY3Rpb24gZXhwYW5kKCl7aW5pdGlhbEFuaW1Ta2lwPyhpbml0aWFsQW5pbVNraXA9ITEsZXhwYW5kRG9uZSgpKTooZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLGRvVHJhbnNpdGlvbih7aGVpZ2h0OmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KyJweCJ9KS50aGVuKGV4cGFuZERvbmUpKX1mdW5jdGlvbiBleHBhbmREb25lKCl7ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNlIGluIiksZWxlbWVudC5jc3Moe2hlaWdodDoiYXV0byJ9KX1mdW5jdGlvbiBjb2xsYXBzZSgpe2lmKGluaXRpYWxBbmltU2tpcClpbml0aWFsQW5pbVNraXA9ITEsY29sbGFwc2VEb25lKCksZWxlbWVudC5jc3Moe2hlaWdodDowfSk7ZWxzZXtlbGVtZW50LmNzcyh7aGVpZ2h0OmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KyJweCJ9KTt7ZWxlbWVudFswXS5vZmZzZXRXaWR0aH1lbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzZSBpbiIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIiksZG9UcmFuc2l0aW9uKHtoZWlnaHQ6MH0pLnRoZW4oY29sbGFwc2VEb25lKX19ZnVuY3Rpb24gY29sbGFwc2VEb25lKCl7ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNlIil9dmFyIGN1cnJlbnRUcmFuc2l0aW9uLGluaXRpYWxBbmltU2tpcD0hMDtzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsZnVuY3Rpb24oc2hvdWxkQ29sbGFwc2Upe3Nob3VsZENvbGxhcHNlP2NvbGxhcHNlKCk6ZXhwYW5kKCl9KX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIixbInVpLmJvb3RzdHJhcC5jb2xsYXBzZSJdKS5jb25zdGFudCgiYWNjb3JkaW9uQ29uZmlnIix7Y2xvc2VPdGhlcnM6ITB9KS5jb250cm9sbGVyKCJBY2NvcmRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsImFjY29yZGlvbkNvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxhY2NvcmRpb25Db25maWcpe3RoaXMuZ3JvdXBzPVtdLHRoaXMuY2xvc2VPdGhlcnM9ZnVuY3Rpb24ob3Blbkdyb3VwKXt2YXIgY2xvc2VPdGhlcnM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKT8kc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKTphY2NvcmRpb25Db25maWcuY2xvc2VPdGhlcnM7Y2xvc2VPdGhlcnMmJmFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihncm91cCl7Z3JvdXAhPT1vcGVuR3JvdXAmJihncm91cC5pc09wZW49ITEpfSl9LHRoaXMuYWRkR3JvdXA9ZnVuY3Rpb24oZ3JvdXBTY29wZSl7dmFyIHRoYXQ9dGhpczt0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpLGdyb3VwU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpfSl9LHRoaXMucmVtb3ZlR3JvdXA9ZnVuY3Rpb24oZ3JvdXApe3ZhciBpbmRleD10aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTstMSE9PWluZGV4JiZ0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsMSl9fV0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLGNvbnRyb2xsZXI6IkFjY29yZGlvbkNvbnRyb2xsZXIiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIn19KS5kaXJlY3RpdmUoImFjY29yZGlvbkdyb3VwIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJeYWNjb3JkaW9uIixyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIixzY29wZTp7aGVhZGluZzoiQCIsaXNPcGVuOiI9PyIsaXNEaXNhYmxlZDoiPT8ifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7dGhpcy5zZXRIZWFkaW5nPWZ1bmN0aW9uKGVsZW1lbnQpe3RoaXMuaGVhZGluZz1lbGVtZW50fX0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGFjY29yZGlvbkN0cmwpe2FjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpLHNjb3BlLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbih2YWx1ZSl7dmFsdWUmJmFjY29yZGlvbkN0cmwuY2xvc2VPdGhlcnMoc2NvcGUpfSksc2NvcGUudG9nZ2xlT3Blbj1mdW5jdGlvbigpe3Njb3BlLmlzRGlzYWJsZWR8fChzY29wZS5pc09wZW49IXNjb3BlLmlzT3Blbil9fX19KS5kaXJlY3RpdmUoImFjY29yZGlvbkhlYWRpbmciLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZToiIixyZXBsYWNlOiEwLHJlcXVpcmU6Il5hY2NvcmRpb25Hcm91cCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsYWNjb3JkaW9uR3JvdXBDdHJsLHRyYW5zY2x1ZGUpe2FjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsZnVuY3Rpb24oKXt9KSl9fX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uVHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbkdyb3VwIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjb250cm9sbGVyKXtzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gY29udHJvbGxlclthdHRyLmFjY29yZGlvblRyYW5zY2x1ZGVdfSxmdW5jdGlvbihoZWFkaW5nKXtoZWFkaW5nJiYoZWxlbWVudC5odG1sKCIiKSxlbGVtZW50LmFwcGVuZChoZWFkaW5nKSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5hbGVydCIsW10pLmNvbnRyb2xsZXIoIkFsZXJ0Q29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMpeyRzY29wZS5jbG9zZWFibGU9ImNsb3NlImluICRhdHRyc31dKS5kaXJlY3RpdmUoImFsZXJ0IixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLGNvbnRyb2xsZXI6IkFsZXJ0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCxzY29wZTp7dHlwZToiQCIsY2xvc2U6IiYifX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJpbmRIdG1sIixbXSkuZGlyZWN0aXZlKCJiaW5kSHRtbFVuc2FmZSIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtlbGVtZW50LmFkZENsYXNzKCJuZy1iaW5kaW5nIikuZGF0YSgiJGJpbmRpbmciLGF0dHIuYmluZEh0bWxVbnNhZmUpLHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLGZ1bmN0aW9uKHZhbHVlKXtlbGVtZW50Lmh0bWwodmFsdWV8fCIiKX0pfX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsW10pLmNvbnN0YW50KCJidXR0b25Db25maWciLHthY3RpdmVDbGFzczoiYWN0aXZlIix0b2dnbGVFdmVudDoiY2xpY2sifSkuY29udHJvbGxlcigiQnV0dG9uc0NvbnRyb2xsZXIiLFsiYnV0dG9uQ29uZmlnIixmdW5jdGlvbihidXR0b25Db25maWcpe3RoaXMuYWN0aXZlQ2xhc3M9YnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzfHwiYWN0aXZlIix0aGlzLnRvZ2dsZUV2ZW50PWJ1dHRvbkNvbmZpZy50b2dnbGVFdmVudHx8ImNsaWNrIn1dKS5kaXJlY3RpdmUoImJ0blJhZGlvIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsiYnRuUmFkaW8iLCJuZ01vZGVsIl0sY29udHJvbGxlcjoiQnV0dG9uc0NvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIGJ1dHRvbnNDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLHNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSkpfSxlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsZnVuY3Rpb24oKXt2YXIgaXNBY3RpdmU9ZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7KCFpc0FjdGl2ZXx8YW5ndWxhci5pc0RlZmluZWQoYXR0cnMudW5jaGVja2FibGUpKSYmc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZT9udWxsOnNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSksbmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9KX19fSkuZGlyZWN0aXZlKCJidG5DaGVja2JveCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbImJ0bkNoZWNrYm94IiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IkJ1dHRvbnNDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe2Z1bmN0aW9uIGdldFRydWVWYWx1ZSgpe3JldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94VHJ1ZSwhMCl9ZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpe3JldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94RmFsc2UsITEpfWZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsZGVmYXVsdFZhbHVlKXt2YXIgdmFsPXNjb3BlLiRldmFsKGF0dHJpYnV0ZVZhbHVlKTtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsKT92YWw6ZGVmYXVsdFZhbHVlfXZhciBidXR0b25zQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyxhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSxnZXRUcnVlVmFsdWUoKSkpfSxlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpP2dldEZhbHNlVmFsdWUoKTpnZXRUcnVlVmFsdWUoKSksbmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5jb250cm9sbGVyKCJDYXJvdXNlbENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJHRpbWVvdXQiLCIkdHJhbnNpdGlvbiIsZnVuY3Rpb24oJHNjb3BlLCR0aW1lb3V0LCR0cmFuc2l0aW9uKXtmdW5jdGlvbiByZXN0YXJ0VGltZXIoKXtyZXNldFRpbWVyKCk7dmFyIGludGVydmFsPSskc2NvcGUuaW50ZXJ2YWw7IWlzTmFOKGludGVydmFsKSYmaW50ZXJ2YWw+PTAmJihjdXJyZW50VGltZW91dD0kdGltZW91dCh0aW1lckZuLGludGVydmFsKSl9ZnVuY3Rpb24gcmVzZXRUaW1lcigpe2N1cnJlbnRUaW1lb3V0JiYoJHRpbWVvdXQuY2FuY2VsKGN1cnJlbnRUaW1lb3V0KSxjdXJyZW50VGltZW91dD1udWxsKX1mdW5jdGlvbiB0aW1lckZuKCl7aXNQbGF5aW5nPygkc2NvcGUubmV4dCgpLHJlc3RhcnRUaW1lcigpKTokc2NvcGUucGF1c2UoKX12YXIgY3VycmVudFRpbWVvdXQsaXNQbGF5aW5nLHNlbGY9dGhpcyxzbGlkZXM9c2VsZi5zbGlkZXM9JHNjb3BlLnNsaWRlcz1bXSxjdXJyZW50SW5kZXg9LTE7c2VsZi5jdXJyZW50U2xpZGU9bnVsbDt2YXIgZGVzdHJveWVkPSExO3NlbGYuc2VsZWN0PSRzY29wZS5zZWxlY3Q9ZnVuY3Rpb24obmV4dFNsaWRlLGRpcmVjdGlvbil7ZnVuY3Rpb24gZ29OZXh0KCl7aWYoIWRlc3Ryb3llZCl7aWYoc2VsZi5jdXJyZW50U2xpZGUmJmFuZ3VsYXIuaXNTdHJpbmcoZGlyZWN0aW9uKSYmISRzY29wZS5ub1RyYW5zaXRpb24mJm5leHRTbGlkZS4kZWxlbWVudCl7bmV4dFNsaWRlLiRlbGVtZW50LmFkZENsYXNzKGRpcmVjdGlvbik7e25leHRTbGlkZS4kZWxlbWVudFswXS5vZmZzZXRXaWR0aH1hbmd1bGFyLmZvckVhY2goc2xpZGVzLGZ1bmN0aW9uKHNsaWRlKXthbmd1bGFyLmV4dGVuZChzbGlkZSx7ZGlyZWN0aW9uOiIiLGVudGVyaW5nOiExLGxlYXZpbmc6ITEsYWN0aXZlOiExfSl9KSxhbmd1bGFyLmV4dGVuZChuZXh0U2xpZGUse2RpcmVjdGlvbjpkaXJlY3Rpb24sYWN0aXZlOiEwLGVudGVyaW5nOiEwfSksYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGV8fHt9LHtkaXJlY3Rpb246ZGlyZWN0aW9uLGxlYXZpbmc6ITB9KSwkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uPSR0cmFuc2l0aW9uKG5leHRTbGlkZS4kZWxlbWVudCx7fSksZnVuY3Rpb24obmV4dCxjdXJyZW50KXskc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uLnRoZW4oZnVuY3Rpb24oKXt0cmFuc2l0aW9uRG9uZShuZXh0LGN1cnJlbnQpfSxmdW5jdGlvbigpe3RyYW5zaXRpb25Eb25lKG5leHQsY3VycmVudCl9KX0obmV4dFNsaWRlLHNlbGYuY3VycmVudFNsaWRlKX1lbHNlIHRyYW5zaXRpb25Eb25lKG5leHRTbGlkZSxzZWxmLmN1cnJlbnRTbGlkZSk7c2VsZi5jdXJyZW50U2xpZGU9bmV4dFNsaWRlLGN1cnJlbnRJbmRleD1uZXh0SW5kZXgscmVzdGFydFRpbWVyKCl9fWZ1bmN0aW9uIHRyYW5zaXRpb25Eb25lKG5leHQsY3VycmVudCl7YW5ndWxhci5leHRlbmQobmV4dCx7ZGlyZWN0aW9uOiIiLGFjdGl2ZTohMCxsZWF2aW5nOiExLGVudGVyaW5nOiExfSksYW5ndWxhci5leHRlbmQoY3VycmVudHx8e30se2RpcmVjdGlvbjoiIixhY3RpdmU6ITEsbGVhdmluZzohMSxlbnRlcmluZzohMX0pLCRzY29wZS4kY3VycmVudFRyYW5zaXRpb249bnVsbH12YXIgbmV4dEluZGV4PXNsaWRlcy5pbmRleE9mKG5leHRTbGlkZSk7dm9pZCAwPT09ZGlyZWN0aW9uJiYoZGlyZWN0aW9uPW5leHRJbmRleD5jdXJyZW50SW5kZXg/Im5leHQiOiJwcmV2IiksbmV4dFNsaWRlJiZuZXh0U2xpZGUhPT1zZWxmLmN1cnJlbnRTbGlkZSYmKCRzY29wZS4kY3VycmVudFRyYW5zaXRpb24/KCRzY29wZS4kY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCksJHRpbWVvdXQoZ29OZXh0KSk6Z29OZXh0KCkpfSwkc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtkZXN0cm95ZWQ9ITB9KSxzZWxmLmluZGV4T2ZTbGlkZT1mdW5jdGlvbihzbGlkZSl7cmV0dXJuIHNsaWRlcy5pbmRleE9mKHNsaWRlKX0sJHNjb3BlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbmV3SW5kZXg9KGN1cnJlbnRJbmRleCsxKSVzbGlkZXMubGVuZ3RoO3JldHVybiAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uP3ZvaWQgMDpzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCJuZXh0Iil9LCRzY29wZS5wcmV2PWZ1bmN0aW9uKCl7dmFyIG5ld0luZGV4PTA+Y3VycmVudEluZGV4LTE/c2xpZGVzLmxlbmd0aC0xOmN1cnJlbnRJbmRleC0xO3JldHVybiAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uP3ZvaWQgMDpzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCJwcmV2Iil9LCRzY29wZS5pc0FjdGl2ZT1mdW5jdGlvbihzbGlkZSl7cmV0dXJuIHNlbGYuY3VycmVudFNsaWRlPT09c2xpZGV9LCRzY29wZS4kd2F0Y2goImludGVydmFsIixyZXN0YXJ0VGltZXIpLCRzY29wZS4kb24oIiRkZXN0cm95IixyZXNldFRpbWVyKSwkc2NvcGUucGxheT1mdW5jdGlvbigpe2lzUGxheWluZ3x8KGlzUGxheWluZz0hMCxyZXN0YXJ0VGltZXIoKSl9LCRzY29wZS5wYXVzZT1mdW5jdGlvbigpeyRzY29wZS5ub1BhdXNlfHwoaXNQbGF5aW5nPSExLHJlc2V0VGltZXIoKSl9LHNlbGYuYWRkU2xpZGU9ZnVuY3Rpb24oc2xpZGUsZWxlbWVudCl7c2xpZGUuJGVsZW1lbnQ9ZWxlbWVudCxzbGlkZXMucHVzaChzbGlkZSksMT09PXNsaWRlcy5sZW5ndGh8fHNsaWRlLmFjdGl2ZT8oc2VsZi5zZWxlY3Qoc2xpZGVzW3NsaWRlcy5sZW5ndGgtMV0pLDE9PXNsaWRlcy5sZW5ndGgmJiRzY29wZS5wbGF5KCkpOnNsaWRlLmFjdGl2ZT0hMX0sc2VsZi5yZW1vdmVTbGlkZT1mdW5jdGlvbihzbGlkZSl7dmFyIGluZGV4PXNsaWRlcy5pbmRleE9mKHNsaWRlKTtzbGlkZXMuc3BsaWNlKGluZGV4LDEpLHNsaWRlcy5sZW5ndGg+MCYmc2xpZGUuYWN0aXZlP3NlbGYuc2VsZWN0KGluZGV4Pj1zbGlkZXMubGVuZ3RoP3NsaWRlc1tpbmRleC0xXTpzbGlkZXNbaW5kZXhdKTpjdXJyZW50SW5kZXg+aW5kZXgmJmN1cnJlbnRJbmRleC0tfX1dKS5kaXJlY3RpdmUoImNhcm91c2VsIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsY29udHJvbGxlcjoiQ2Fyb3VzZWxDb250cm9sbGVyIixyZXF1aXJlOiJjYXJvdXNlbCIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLHNjb3BlOntpbnRlcnZhbDoiPSIsbm9UcmFuc2l0aW9uOiI9Iixub1BhdXNlOiI9In19fV0pLmRpcmVjdGl2ZSgic2xpZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5jYXJvdXNlbCIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLHNjb3BlOnthY3RpdmU6Ij0/In0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGNhcm91c2VsQ3RybCl7Y2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLGVsZW1lbnQpLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Y2Fyb3VzZWxDdHJsLnJlbW92ZVNsaWRlKHNjb3BlKX0pLHNjb3BlLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhY3RpdmUpe2FjdGl2ZSYmY2Fyb3VzZWxDdHJsLnNlbGVjdChzY29wZSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIixbXSkuc2VydmljZSgiZGF0ZVBhcnNlciIsWyIkbG9jYWxlIiwib3JkZXJCeUZpbHRlciIsZnVuY3Rpb24oJGxvY2FsZSxvcmRlckJ5RmlsdGVyKXtmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KXt2YXIgbWFwPVtdLHJlZ2V4PWZvcm1hdC5zcGxpdCgiIik7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChmb3JtYXRDb2RlVG9SZWdleCxmdW5jdGlvbihkYXRhLGNvZGUpe3ZhciBpbmRleD1mb3JtYXQuaW5kZXhPZihjb2RlKTtpZihpbmRleD4tMSl7Zm9ybWF0PWZvcm1hdC5zcGxpdCgiIikscmVnZXhbaW5kZXhdPSIoIitkYXRhLnJlZ2V4KyIpIixmb3JtYXRbaW5kZXhdPSIkIjtmb3IodmFyIGk9aW5kZXgrMSxuPWluZGV4K2NvZGUubGVuZ3RoO24+aTtpKyspcmVnZXhbaV09IiIsZm9ybWF0W2ldPSIkIjtmb3JtYXQ9Zm9ybWF0LmpvaW4oIiIpLG1hcC5wdXNoKHtpbmRleDppbmRleCxhcHBseTpkYXRhLmFwcGx5fSl9fSkse3JlZ2V4Om5ldyBSZWdFeHAoIl4iK3JlZ2V4LmpvaW4oIiIpKyIkIiksbWFwOm9yZGVyQnlGaWx0ZXIobWFwLCJpbmRleCIpfQp9ZnVuY3Rpb24gaXNWYWxpZCh5ZWFyLG1vbnRoLGRhdGUpe3JldHVybiAxPT09bW9udGgmJmRhdGU+Mjg/Mjk9PT1kYXRlJiYoeWVhciU0PT09MCYmeWVhciUxMDAhPT0wfHx5ZWFyJTQwMD09PTApOjM9PT1tb250aHx8NT09PW1vbnRofHw4PT09bW9udGh8fDEwPT09bW9udGg/MzE+ZGF0ZTohMH10aGlzLnBhcnNlcnM9e307dmFyIGZvcm1hdENvZGVUb1JlZ2V4PXt5eXl5OntyZWdleDoiXFxkezR9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy55ZWFyPSt2YWx1ZX19LHl5OntyZWdleDoiXFxkezJ9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy55ZWFyPSt2YWx1ZSsyZTN9fSx5OntyZWdleDoiXFxkezEsNH0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlfX0sTU1NTTp7cmVnZXg6JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oInwiKSxhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5tb250aD0kbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguaW5kZXhPZih2YWx1ZSl9fSxNTU06e3JlZ2V4OiRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmpvaW4oInwiKSxhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5tb250aD0kbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKHZhbHVlKX19LE1NOntyZWdleDoiMFsxLTldfDFbMC0yXSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9dmFsdWUtMX19LE06e3JlZ2V4OiJbMS05XXwxWzAtMl0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPXZhbHVlLTF9fSxkZDp7cmVnZXg6IlswLTJdWzAtOV17MX18M1swLTFdezF9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5kYXRlPSt2YWx1ZX19LGQ6e3JlZ2V4OiJbMS0yXT9bMC05XXsxfXwzWzAtMV17MX0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLmRhdGU9K3ZhbHVlfX0sRUVFRTp7cmVnZXg6JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCJ8Iil9LEVFRTp7cmVnZXg6JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oInwiKX19O3RoaXMucGFyc2U9ZnVuY3Rpb24oaW5wdXQsZm9ybWF0KXtpZighYW5ndWxhci5pc1N0cmluZyhpbnB1dCl8fCFmb3JtYXQpcmV0dXJuIGlucHV0O2Zvcm1hdD0kbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XXx8Zm9ybWF0LHRoaXMucGFyc2Vyc1tmb3JtYXRdfHwodGhpcy5wYXJzZXJzW2Zvcm1hdF09Y3JlYXRlUGFyc2VyKGZvcm1hdCkpO3ZhciBwYXJzZXI9dGhpcy5wYXJzZXJzW2Zvcm1hdF0scmVnZXg9cGFyc2VyLnJlZ2V4LG1hcD1wYXJzZXIubWFwLHJlc3VsdHM9aW5wdXQubWF0Y2gocmVnZXgpO2lmKHJlc3VsdHMmJnJlc3VsdHMubGVuZ3RoKXtmb3IodmFyIGR0LGZpZWxkcz17eWVhcjoxOTAwLG1vbnRoOjAsZGF0ZToxLGhvdXJzOjB9LGk9MSxuPXJlc3VsdHMubGVuZ3RoO24+aTtpKyspe3ZhciBtYXBwZXI9bWFwW2ktMV07bWFwcGVyLmFwcGx5JiZtYXBwZXIuYXBwbHkuY2FsbChmaWVsZHMscmVzdWx0c1tpXSl9cmV0dXJuIGlzVmFsaWQoZmllbGRzLnllYXIsZmllbGRzLm1vbnRoLGZpZWxkcy5kYXRlKSYmKGR0PW5ldyBEYXRlKGZpZWxkcy55ZWFyLGZpZWxkcy5tb250aCxmaWVsZHMuZGF0ZSxmaWVsZHMuaG91cnMpKSxkdH19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucG9zaXRpb24iLFtdKS5mYWN0b3J5KCIkcG9zaXRpb24iLFsiJGRvY3VtZW50IiwiJHdpbmRvdyIsZnVuY3Rpb24oJGRvY3VtZW50LCR3aW5kb3cpe2Z1bmN0aW9uIGdldFN0eWxlKGVsLGNzc3Byb3Ape3JldHVybiBlbC5jdXJyZW50U3R5bGU/ZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdOiR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT8kd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpW2Nzc3Byb3BdOmVsLnN0eWxlW2Nzc3Byb3BdfWZ1bmN0aW9uIGlzU3RhdGljUG9zaXRpb25lZChlbGVtZW50KXtyZXR1cm4ic3RhdGljIj09PShnZXRTdHlsZShlbGVtZW50LCJwb3NpdGlvbiIpfHwic3RhdGljIil9dmFyIHBhcmVudE9mZnNldEVsPWZ1bmN0aW9uKGVsZW1lbnQpe2Zvcih2YXIgZG9jRG9tRWw9JGRvY3VtZW50WzBdLG9mZnNldFBhcmVudD1lbGVtZW50Lm9mZnNldFBhcmVudHx8ZG9jRG9tRWw7b2Zmc2V0UGFyZW50JiZvZmZzZXRQYXJlbnQhPT1kb2NEb21FbCYmaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCk7KW9mZnNldFBhcmVudD1vZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O3JldHVybiBvZmZzZXRQYXJlbnR8fGRvY0RvbUVsfTtyZXR1cm57cG9zaXRpb246ZnVuY3Rpb24oZWxlbWVudCl7dmFyIGVsQkNSPXRoaXMub2Zmc2V0KGVsZW1lbnQpLG9mZnNldFBhcmVudEJDUj17dG9wOjAsbGVmdDowfSxvZmZzZXRQYXJlbnRFbD1wYXJlbnRPZmZzZXRFbChlbGVtZW50WzBdKTtvZmZzZXRQYXJlbnRFbCE9JGRvY3VtZW50WzBdJiYob2Zmc2V0UGFyZW50QkNSPXRoaXMub2Zmc2V0KGFuZ3VsYXIuZWxlbWVudChvZmZzZXRQYXJlbnRFbCkpLG9mZnNldFBhcmVudEJDUi50b3ArPW9mZnNldFBhcmVudEVsLmNsaWVudFRvcC1vZmZzZXRQYXJlbnRFbC5zY3JvbGxUb3Asb2Zmc2V0UGFyZW50QkNSLmxlZnQrPW9mZnNldFBhcmVudEVsLmNsaWVudExlZnQtb2Zmc2V0UGFyZW50RWwuc2Nyb2xsTGVmdCk7dmFyIGJvdW5kaW5nQ2xpZW50UmVjdD1lbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDpib3VuZGluZ0NsaWVudFJlY3Qud2lkdGh8fGVsZW1lbnQucHJvcCgib2Zmc2V0V2lkdGgiKSxoZWlnaHQ6Ym91bmRpbmdDbGllbnRSZWN0LmhlaWdodHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSx0b3A6ZWxCQ1IudG9wLW9mZnNldFBhcmVudEJDUi50b3AsbGVmdDplbEJDUi5sZWZ0LW9mZnNldFBhcmVudEJDUi5sZWZ0fX0sb2Zmc2V0OmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBib3VuZGluZ0NsaWVudFJlY3Q9ZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57d2lkdGg6Ym91bmRpbmdDbGllbnRSZWN0LndpZHRofHxlbGVtZW50LnByb3AoIm9mZnNldFdpZHRoIiksaGVpZ2h0OmJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHR8fGVsZW1lbnQucHJvcCgib2Zmc2V0SGVpZ2h0IiksdG9wOmJvdW5kaW5nQ2xpZW50UmVjdC50b3ArKCR3aW5kb3cucGFnZVlPZmZzZXR8fCRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSxsZWZ0OmJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0Kygkd2luZG93LnBhZ2VYT2Zmc2V0fHwkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpfX0scG9zaXRpb25FbGVtZW50czpmdW5jdGlvbihob3N0RWwsdGFyZ2V0RWwscG9zaXRpb25TdHIsYXBwZW5kVG9Cb2R5KXt2YXIgaG9zdEVsUG9zLHRhcmdldEVsV2lkdGgsdGFyZ2V0RWxIZWlnaHQsdGFyZ2V0RWxQb3MscG9zaXRpb25TdHJQYXJ0cz1wb3NpdGlvblN0ci5zcGxpdCgiLSIpLHBvczA9cG9zaXRpb25TdHJQYXJ0c1swXSxwb3MxPXBvc2l0aW9uU3RyUGFydHNbMV18fCJjZW50ZXIiO2hvc3RFbFBvcz1hcHBlbmRUb0JvZHk/dGhpcy5vZmZzZXQoaG9zdEVsKTp0aGlzLnBvc2l0aW9uKGhvc3RFbCksdGFyZ2V0RWxXaWR0aD10YXJnZXRFbC5wcm9wKCJvZmZzZXRXaWR0aCIpLHRhcmdldEVsSGVpZ2h0PXRhcmdldEVsLnByb3AoIm9mZnNldEhlaWdodCIpO3ZhciBzaGlmdFdpZHRoPXtjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLmxlZnQraG9zdEVsUG9zLndpZHRoLzItdGFyZ2V0RWxXaWR0aC8yfSxsZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy5sZWZ0fSxyaWdodDpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MubGVmdCtob3N0RWxQb3Mud2lkdGh9fSxzaGlmdEhlaWdodD17Y2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy50b3AraG9zdEVsUG9zLmhlaWdodC8yLXRhcmdldEVsSGVpZ2h0LzJ9LHRvcDpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MudG9wfSxib3R0b206ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLnRvcCtob3N0RWxQb3MuaGVpZ2h0fX07c3dpdGNoKHBvczApe2Nhc2UicmlnaHQiOnRhcmdldEVsUG9zPXt0b3A6c2hpZnRIZWlnaHRbcG9zMV0oKSxsZWZ0OnNoaWZ0V2lkdGhbcG9zMF0oKX07YnJlYWs7Y2FzZSJsZWZ0Ijp0YXJnZXRFbFBvcz17dG9wOnNoaWZ0SGVpZ2h0W3BvczFdKCksbGVmdDpob3N0RWxQb3MubGVmdC10YXJnZXRFbFdpZHRofTticmVhaztjYXNlImJvdHRvbSI6dGFyZ2V0RWxQb3M9e3RvcDpzaGlmdEhlaWdodFtwb3MwXSgpLGxlZnQ6c2hpZnRXaWR0aFtwb3MxXSgpfTticmVhaztkZWZhdWx0OnRhcmdldEVsUG9zPXt0b3A6aG9zdEVsUG9zLnRvcC10YXJnZXRFbEhlaWdodCxsZWZ0OnNoaWZ0V2lkdGhbcG9zMV0oKX19cmV0dXJuIHRhcmdldEVsUG9zfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kYXRlcGlja2VyIixbInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIiwidWkuYm9vdHN0cmFwLnBvc2l0aW9uIl0pLmNvbnN0YW50KCJkYXRlcGlja2VyQ29uZmlnIix7Zm9ybWF0RGF5OiJkZCIsZm9ybWF0TW9udGg6Ik1NTU0iLGZvcm1hdFllYXI6Inl5eXkiLGZvcm1hdERheUhlYWRlcjoiRUVFIixmb3JtYXREYXlUaXRsZToiTU1NTSB5eXl5Iixmb3JtYXRNb250aFRpdGxlOiJ5eXl5IixkYXRlcGlja2VyTW9kZToiZGF5IixtaW5Nb2RlOiJkYXkiLG1heE1vZGU6InllYXIiLHNob3dXZWVrczohMCxzdGFydGluZ0RheTowLHllYXJSYW5nZToyMCxtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsfSkuY29udHJvbGxlcigiRGF0ZXBpY2tlckNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiJGludGVycG9sYXRlIiwiJHRpbWVvdXQiLCIkbG9nIiwiZGF0ZUZpbHRlciIsImRhdGVwaWNrZXJDb25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlLCRpbnRlcnBvbGF0ZSwkdGltZW91dCwkbG9nLGRhdGVGaWx0ZXIsZGF0ZXBpY2tlckNvbmZpZyl7dmFyIHNlbGY9dGhpcyxuZ01vZGVsQ3RybD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9O3RoaXMubW9kZXM9WyJkYXkiLCJtb250aCIsInllYXIiXSxhbmd1bGFyLmZvckVhY2goWyJmb3JtYXREYXkiLCJmb3JtYXRNb250aCIsImZvcm1hdFllYXIiLCJmb3JtYXREYXlIZWFkZXIiLCJmb3JtYXREYXlUaXRsZSIsImZvcm1hdE1vbnRoVGl0bGUiLCJtaW5Nb2RlIiwibWF4TW9kZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIl0sZnVuY3Rpb24oa2V5LGluZGV4KXtzZWxmW2tleV09YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzW2tleV0pPzg+aW5kZXg/JGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCk6JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzW2tleV0pOmRhdGVwaWNrZXJDb25maWdba2V5XX0pLGFuZ3VsYXIuZm9yRWFjaChbIm1pbkRhdGUiLCJtYXhEYXRlIl0sZnVuY3Rpb24oa2V5KXskYXR0cnNba2V5XT8kc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSxmdW5jdGlvbih2YWx1ZSl7c2VsZltrZXldPXZhbHVlP25ldyBEYXRlKHZhbHVlKTpudWxsLHNlbGYucmVmcmVzaFZpZXcoKX0pOnNlbGZba2V5XT1kYXRlcGlja2VyQ29uZmlnW2tleV0/bmV3IERhdGUoZGF0ZXBpY2tlckNvbmZpZ1trZXldKTpudWxsfSksJHNjb3BlLmRhdGVwaWNrZXJNb2RlPSRzY29wZS5kYXRlcGlja2VyTW9kZXx8ZGF0ZXBpY2tlckNvbmZpZy5kYXRlcGlja2VyTW9kZSwkc2NvcGUudW5pcXVlSWQ9ImRhdGVwaWNrZXItIiskc2NvcGUuJGlkKyItIitNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKSx0aGlzLmFjdGl2ZURhdGU9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmluaXREYXRlKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuaW5pdERhdGUpOm5ldyBEYXRlLCRzY29wZS5pc0FjdGl2ZT1mdW5jdGlvbihkYXRlT2JqZWN0KXtyZXR1cm4gMD09PXNlbGYuY29tcGFyZShkYXRlT2JqZWN0LmRhdGUsc2VsZi5hY3RpdmVEYXRlKT8oJHNjb3BlLmFjdGl2ZURhdGVJZD1kYXRlT2JqZWN0LnVpZCwhMCk6ITF9LHRoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8pe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7c2VsZi5yZW5kZXIoKX19LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7aWYobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpe3ZhciBkYXRlPW5ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSxpc1ZhbGlkPSFpc05hTihkYXRlKTtpc1ZhbGlkP3RoaXMuYWN0aXZlRGF0ZT1kYXRlOiRsb2cuZXJyb3IoJ0RhdGVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSxuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImRhdGUiLGlzVmFsaWQpfXRoaXMucmVmcmVzaFZpZXcoKX0sdGhpcy5yZWZyZXNoVmlldz1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudCl7dGhpcy5fcmVmcmVzaFZpZXcoKTt2YXIgZGF0ZT1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bnVsbDtuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImRhdGUtZGlzYWJsZWQiLCFkYXRlfHx0aGlzLmVsZW1lbnQmJiF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpfX0sdGhpcy5jcmVhdGVEYXRlT2JqZWN0PWZ1bmN0aW9uKGRhdGUsZm9ybWF0KXt2YXIgbW9kZWw9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7cmV0dXJue2RhdGU6ZGF0ZSxsYWJlbDpkYXRlRmlsdGVyKGRhdGUsZm9ybWF0KSxzZWxlY3RlZDptb2RlbCYmMD09PXRoaXMuY29tcGFyZShkYXRlLG1vZGVsKSxkaXNhYmxlZDp0aGlzLmlzRGlzYWJsZWQoZGF0ZSksY3VycmVudDowPT09dGhpcy5jb21wYXJlKGRhdGUsbmV3IERhdGUpfX0sdGhpcy5pc0Rpc2FibGVkPWZ1bmN0aW9uKGRhdGUpe3JldHVybiB0aGlzLm1pbkRhdGUmJnRoaXMuY29tcGFyZShkYXRlLHRoaXMubWluRGF0ZSk8MHx8dGhpcy5tYXhEYXRlJiZ0aGlzLmNvbXBhcmUoZGF0ZSx0aGlzLm1heERhdGUpPjB8fCRhdHRycy5kYXRlRGlzYWJsZWQmJiRzY29wZS5kYXRlRGlzYWJsZWQoe2RhdGU6ZGF0ZSxtb2RlOiRzY29wZS5kYXRlcGlja2VyTW9kZX0pfSx0aGlzLnNwbGl0PWZ1bmN0aW9uKGFycixzaXplKXtmb3IodmFyIGFycmF5cz1bXTthcnIubGVuZ3RoPjA7KWFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCxzaXplKSk7cmV0dXJuIGFycmF5c30sJHNjb3BlLnNlbGVjdD1mdW5jdGlvbihkYXRlKXtpZigkc2NvcGUuZGF0ZXBpY2tlck1vZGU9PT1zZWxmLm1pbk1vZGUpe3ZhciBkdD1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bmV3IERhdGUoMCwwLDAsMCwwLDAsMCk7ZHQuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpLGRhdGUuZ2V0TW9udGgoKSxkYXRlLmdldERhdGUoKSksbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkdCksbmdNb2RlbEN0cmwuJHJlbmRlcigpfWVsc2Ugc2VsZi5hY3RpdmVEYXRlPWRhdGUsJHNjb3BlLmRhdGVwaWNrZXJNb2RlPXNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSktMV19LCRzY29wZS5tb3ZlPWZ1bmN0aW9uKGRpcmVjdGlvbil7dmFyIHllYXI9c2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkrZGlyZWN0aW9uKihzZWxmLnN0ZXAueWVhcnN8fDApLG1vbnRoPXNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpK2RpcmVjdGlvbiooc2VsZi5zdGVwLm1vbnRoc3x8MCk7c2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsbW9udGgsMSksc2VsZi5yZWZyZXNoVmlldygpfSwkc2NvcGUudG9nZ2xlTW9kZT1mdW5jdGlvbihkaXJlY3Rpb24pe2RpcmVjdGlvbj1kaXJlY3Rpb258fDEsJHNjb3BlLmRhdGVwaWNrZXJNb2RlPT09c2VsZi5tYXhNb2RlJiYxPT09ZGlyZWN0aW9ufHwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9PT1zZWxmLm1pbk1vZGUmJi0xPT09ZGlyZWN0aW9ufHwoJHNjb3BlLmRhdGVwaWNrZXJNb2RlPXNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkrZGlyZWN0aW9uXSl9LCRzY29wZS5rZXlzPXsxMzoiZW50ZXIiLDMyOiJzcGFjZSIsMzM6InBhZ2V1cCIsMzQ6InBhZ2Vkb3duIiwzNToiZW5kIiwzNjoiaG9tZSIsMzc6ImxlZnQiLDM4OiJ1cCIsMzk6InJpZ2h0Iiw0MDoiZG93biJ9O3ZhciBmb2N1c0VsZW1lbnQ9ZnVuY3Rpb24oKXskdGltZW91dChmdW5jdGlvbigpe3NlbGYuZWxlbWVudFswXS5mb2N1cygpfSwwLCExKX07JHNjb3BlLiRvbigiZGF0ZXBpY2tlci5mb2N1cyIsZm9jdXNFbGVtZW50KSwkc2NvcGUua2V5ZG93bj1mdW5jdGlvbihldnQpe3ZhciBrZXk9JHNjb3BlLmtleXNbZXZ0LndoaWNoXTtpZihrZXkmJiFldnQuc2hpZnRLZXkmJiFldnQuYWx0S2V5KWlmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSwiZW50ZXIiPT09a2V5fHwic3BhY2UiPT09a2V5KXtpZihzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSlyZXR1cm47JHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpLGZvY3VzRWxlbWVudCgpfWVsc2UhZXZ0LmN0cmxLZXl8fCJ1cCIhPT1rZXkmJiJkb3duIiE9PWtleT8oc2VsZi5oYW5kbGVLZXlEb3duKGtleSxldnQpLHNlbGYucmVmcmVzaFZpZXcoKSk6KCRzY29wZS50b2dnbGVNb2RlKCJ1cCI9PT1rZXk/MTotMSksZm9jdXNFbGVtZW50KCkpfX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLHNjb3BlOntkYXRlcGlja2VyTW9kZToiPT8iLGRhdGVEaXNhYmxlZDoiJiJ9LHJlcXVpcmU6WyJkYXRlcGlja2VyIiwiP15uZ01vZGVsIl0sY29udHJvbGxlcjoiRGF0ZXBpY2tlckNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIGRhdGVwaWNrZXJDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiZkYXRlcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsKX19fSkuZGlyZWN0aXZlKCJkYXlwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oZGF0ZUZpbHRlcil7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJsKXtmdW5jdGlvbiBnZXREYXlzSW5Nb250aCh5ZWFyLG1vbnRoKXtyZXR1cm4gMSE9PW1vbnRofHx5ZWFyJTQhPT0wfHx5ZWFyJTEwMD09PTAmJnllYXIlNDAwIT09MD9EQVlTX0lOX01PTlRIW21vbnRoXToyOX1mdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsbil7dmFyIGRhdGVzPW5ldyBBcnJheShuKSxjdXJyZW50PW5ldyBEYXRlKHN0YXJ0RGF0ZSksaT0wO2ZvcihjdXJyZW50LnNldEhvdXJzKDEyKTtuPmk7KWRhdGVzW2krK109bmV3IERhdGUoY3VycmVudCksY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpKzEpO3JldHVybiBkYXRlc31mdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKXt2YXIgY2hlY2tEYXRlPW5ldyBEYXRlKGRhdGUpO2NoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkrNC0oY2hlY2tEYXRlLmdldERheSgpfHw3KSk7dmFyIHRpbWU9Y2hlY2tEYXRlLmdldFRpbWUoKTtyZXR1cm4gY2hlY2tEYXRlLnNldE1vbnRoKDApLGNoZWNrRGF0ZS5zZXREYXRlKDEpLE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZS1jaGVja0RhdGUpLzg2NGU1KS83KSsxfXNjb3BlLnNob3dXZWVrcz1jdHJsLnNob3dXZWVrcyxjdHJsLnN0ZXA9e21vbnRoczoxfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudDt2YXIgREFZU19JTl9NT05USD1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2N0cmwuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7dmFyIHllYXI9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksbW9udGg9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksZmlyc3REYXlPZk1vbnRoPW5ldyBEYXRlKHllYXIsbW9udGgsMSksZGlmZmVyZW5jZT1jdHJsLnN0YXJ0aW5nRGF5LWZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aD1kaWZmZXJlbmNlPjA/Ny1kaWZmZXJlbmNlOi1kaWZmZXJlbmNlLGZpcnN0RGF0ZT1uZXcgRGF0ZShmaXJzdERheU9mTW9udGgpO251bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoPjAmJmZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCsxKTtmb3IodmFyIGRheXM9Z2V0RGF0ZXMoZmlyc3REYXRlLDQyKSxpPTA7NDI+aTtpKyspZGF5c1tpXT1hbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF5c1tpXSxjdHJsLmZvcm1hdERheSkse3NlY29uZGFyeTpkYXlzW2ldLmdldE1vbnRoKCkhPT1tb250aCx1aWQ6c2NvcGUudW5pcXVlSWQrIi0iK2l9KTtzY29wZS5sYWJlbHM9bmV3IEFycmF5KDcpO2Zvcih2YXIgaj0wOzc+ajtqKyspc2NvcGUubGFiZWxzW2pdPXthYmJyOmRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLGN0cmwuZm9ybWF0RGF5SGVhZGVyKSxmdWxsOmRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCJFRUVFIil9O2lmKHNjb3BlLnRpdGxlPWRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLGN0cmwuZm9ybWF0RGF5VGl0bGUpLHNjb3BlLnJvd3M9Y3RybC5zcGxpdChkYXlzLDcpLHNjb3BlLnNob3dXZWVrcyl7c2NvcGUud2Vla051bWJlcnM9W107Zm9yKHZhciB3ZWVrTnVtYmVyPWdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbMF1bMF0uZGF0ZSksbnVtV2Vla3M9c2NvcGUucm93cy5sZW5ndGg7c2NvcGUud2Vla051bWJlcnMucHVzaCh3ZWVrTnVtYmVyKyspPG51bVdlZWtzOyk7fX0sY3RybC5jb21wYXJlPWZ1bmN0aW9uKGRhdGUxLGRhdGUyKXtyZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSxkYXRlMS5nZXRNb250aCgpLGRhdGUxLmdldERhdGUoKSktbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSxkYXRlMi5nZXRNb250aCgpLGRhdGUyLmdldERhdGUoKSl9LGN0cmwuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihrZXkpe3ZhciBkYXRlPWN0cmwuYWN0aXZlRGF0ZS5nZXREYXRlKCk7aWYoImxlZnQiPT09a2V5KWRhdGUtPTE7ZWxzZSBpZigidXAiPT09a2V5KWRhdGUtPTc7ZWxzZSBpZigicmlnaHQiPT09a2V5KWRhdGUrPTE7ZWxzZSBpZigiZG93biI9PT1rZXkpZGF0ZSs9NztlbHNlIGlmKCJwYWdldXAiPT09a2V5fHwicGFnZWRvd24iPT09a2V5KXt2YXIgbW9udGg9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkrKCJwYWdldXAiPT09a2V5Py0xOjEpO2N0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChtb250aCwxKSxkYXRlPU1hdGgubWluKGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSxkYXRlKX1lbHNlImhvbWUiPT09a2V5P2RhdGU9MToiZW5kIj09PWtleSYmKGRhdGU9Z2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpKTtjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKX0sY3RybC5yZWZyZXNoVmlldygpfX19XSkuZGlyZWN0aXZlKCJtb250aHBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbihkYXRlRmlsdGVyKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLHJlcXVpcmU6Il5kYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCl7Y3RybC5zdGVwPXt5ZWFyczoxfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudCxjdHJsLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgbW9udGhzPW5ldyBBcnJheSgxMikseWVhcj1jdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxpPTA7MTI+aTtpKyspbW9udGhzW2ldPWFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZSh5ZWFyLGksMSksY3RybC5mb3JtYXRNb250aCkse3VpZDpzY29wZS51bmlxdWVJZCsiLSIraX0pO3Njb3BlLnRpdGxlPWRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLGN0cmwuZm9ybWF0TW9udGhUaXRsZSksc2NvcGUucm93cz1jdHJsLnNwbGl0KG1vbnRocywzKX0sY3RybC5jb21wYXJlPWZ1bmN0aW9uKGRhdGUxLGRhdGUyKXtyZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSxkYXRlMS5nZXRNb250aCgpKS1uZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLGRhdGUyLmdldE1vbnRoKCkpfSxjdHJsLmhhbmRsZUtleURvd249ZnVuY3Rpb24oa2V5KXt2YXIgZGF0ZT1jdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTtpZigibGVmdCI9PT1rZXkpZGF0ZS09MTtlbHNlIGlmKCJ1cCI9PT1rZXkpZGF0ZS09MztlbHNlIGlmKCJyaWdodCI9PT1rZXkpZGF0ZSs9MTtlbHNlIGlmKCJkb3duIj09PWtleSlkYXRlKz0zO2Vsc2UgaWYoInBhZ2V1cCI9PT1rZXl8fCJwYWdlZG93biI9PT1rZXkpe3ZhciB5ZWFyPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKygicGFnZXVwIj09PWtleT8tMToxKTtjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcil9ZWxzZSJob21lIj09PWtleT9kYXRlPTA6ImVuZCI9PT1rZXkmJihkYXRlPTExKTtjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSl9LGN0cmwucmVmcmVzaFZpZXcoKX19fV0pLmRpcmVjdGl2ZSgieWVhcnBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmwpe2Z1bmN0aW9uIGdldFN0YXJ0aW5nWWVhcih5ZWFyKXtyZXR1cm4gcGFyc2VJbnQoKHllYXItMSkvcmFuZ2UsMTApKnJhbmdlKzF9dmFyIHJhbmdlPWN0cmwueWVhclJhbmdlO2N0cmwuc3RlcD17eWVhcnM6cmFuZ2V9LGN0cmwuZWxlbWVudD1lbGVtZW50LGN0cmwuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7Zm9yKHZhciB5ZWFycz1uZXcgQXJyYXkocmFuZ2UpLGk9MCxzdGFydD1nZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO3JhbmdlPmk7aSsrKXllYXJzW2ldPWFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZShzdGFydCtpLDAsMSksY3RybC5mb3JtYXRZZWFyKSx7dWlkOnNjb3BlLnVuaXF1ZUlkKyItIitpfSk7c2NvcGUudGl0bGU9W3llYXJzWzBdLmxhYmVsLHllYXJzW3JhbmdlLTFdLmxhYmVsXS5qb2luKCIgLSAiKSxzY29wZS5yb3dzPWN0cmwuc3BsaXQoeWVhcnMsNSl9LGN0cmwuY29tcGFyZT1mdW5jdGlvbihkYXRlMSxkYXRlMil7cmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCktZGF0ZTIuZ2V0RnVsbFllYXIoKX0sY3RybC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGtleSl7dmFyIGRhdGU9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7ImxlZnQiPT09a2V5P2RhdGUtPTE6InVwIj09PWtleT9kYXRlLT01OiJyaWdodCI9PT1rZXk/ZGF0ZSs9MToiZG93biI9PT1rZXk/ZGF0ZSs9NToicGFnZXVwIj09PWtleXx8InBhZ2Vkb3duIj09PWtleT9kYXRlKz0oInBhZ2V1cCI9PT1rZXk/LTE6MSkqY3RybC5zdGVwLnllYXJzOiJob21lIj09PWtleT9kYXRlPWdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk6ImVuZCI9PT1rZXkmJihkYXRlPWdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSkrcmFuZ2UtMSksY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGRhdGUpfSxjdHJsLnJlZnJlc2hWaWV3KCl9fX1dKS5jb25zdGFudCgiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIix7ZGF0ZXBpY2tlclBvcHVwOiJ5eXl5LU1NLWRkIixjdXJyZW50VGV4dDoiVG9kYXkiLGNsZWFyVGV4dDoiQ2xlYXIiLGNsb3NlVGV4dDoiRG9uZSIsY2xvc2VPbkRhdGVTZWxlY3Rpb246ITAsYXBwZW5kVG9Cb2R5OiExLHNob3dCdXR0b25CYXI6ITB9KS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cCIsWyIkY29tcGlsZSIsIiRwYXJzZSIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsImRhdGVGaWx0ZXIiLCJkYXRlUGFyc2VyIiwiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIixmdW5jdGlvbigkY29tcGlsZSwkcGFyc2UsJGRvY3VtZW50LCRwb3NpdGlvbixkYXRlRmlsdGVyLGRhdGVQYXJzZXIsZGF0ZXBpY2tlclBvcHVwQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOiJuZ01vZGVsIixzY29wZTp7aXNPcGVuOiI9PyIsY3VycmVudFRleHQ6IkAiLGNsZWFyVGV4dDoiQCIsY2xvc2VUZXh0OiJAIixkYXRlRGlzYWJsZWQ6IiYifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsbmdNb2RlbCl7ZnVuY3Rpb24gY2FtZWx0b0Rhc2goc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbigkMSl7cmV0dXJuIi0iKyQxLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKXtpZih2aWV3VmFsdWUpe2lmKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkmJiFpc05hTih2aWV3VmFsdWUpKXJldHVybiBuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITApLHZpZXdWYWx1ZTtpZihhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpe3ZhciBkYXRlPWRhdGVQYXJzZXIucGFyc2Uodmlld1ZhbHVlLGRhdGVGb3JtYXQpfHxuZXcgRGF0ZSh2aWV3VmFsdWUpO3JldHVybiBpc05hTihkYXRlKT92b2lkIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMSk6KG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksZGF0ZSl9cmV0dXJuIHZvaWQgbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCExKX1yZXR1cm4gbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSxudWxsfXZhciBkYXRlRm9ybWF0LGNsb3NlT25EYXRlU2VsZWN0aW9uPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKTpkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sYXBwZW5kVG9Cb2R5PWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSk6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmFwcGVuZFRvQm9keTtzY29wZS5zaG93QnV0dG9uQmFyPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnNob3dCdXR0b25CYXIpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuc2hvd0J1dHRvbkJhcik6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXIsc2NvcGUuZ2V0VGV4dD1mdW5jdGlvbihrZXkpe3JldHVybiBzY29wZVtrZXkrIlRleHQiXXx8ZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSsiVGV4dCJdfSxhdHRycy4kb2JzZXJ2ZSgiZGF0ZXBpY2tlclBvcHVwIixmdW5jdGlvbih2YWx1ZSl7ZGF0ZUZvcm1hdD12YWx1ZXx8ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cCxuZ01vZGVsLiRyZW5kZXIoKX0pO3ZhciBwb3B1cEVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PiIpO3BvcHVwRWwuYXR0cih7Im5nLW1vZGVsIjoiZGF0ZSIsIm5nLWNoYW5nZSI6ImRhdGVTZWxlY3Rpb24oKSJ9KTt2YXIgZGF0ZXBpY2tlckVsPWFuZ3VsYXIuZWxlbWVudChwb3B1cEVsLmNoaWxkcmVuKClbMF0pO2F0dHJzLmRhdGVwaWNrZXJPcHRpb25zJiZhbmd1bGFyLmZvckVhY2goc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyT3B0aW9ucyksZnVuY3Rpb24odmFsdWUsb3B0aW9uKXtkYXRlcGlja2VyRWwuYXR0cihjYW1lbHRvRGFzaChvcHRpb24pLHZhbHVlKX0pLHNjb3BlLndhdGNoRGF0YT17fSxhbmd1bGFyLmZvckVhY2goWyJtaW5EYXRlIiwibWF4RGF0ZSIsImRhdGVwaWNrZXJNb2RlIl0sZnVuY3Rpb24oa2V5KXtpZihhdHRyc1trZXldKXt2YXIgZ2V0QXR0cmlidXRlPSRwYXJzZShhdHRyc1trZXldKTtpZihzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsZnVuY3Rpb24odmFsdWUpe3Njb3BlLndhdGNoRGF0YVtrZXldPXZhbHVlfSksZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwid2F0Y2hEYXRhLiIra2V5KSwiZGF0ZXBpY2tlck1vZGUiPT09a2V5KXt2YXIgc2V0QXR0cmlidXRlPWdldEF0dHJpYnV0ZS5hc3NpZ247c2NvcGUuJHdhdGNoKCJ3YXRjaERhdGEuIitrZXksZnVuY3Rpb24odmFsdWUsb2xkdmFsdWUpe3ZhbHVlIT09b2xkdmFsdWUmJnNldEF0dHJpYnV0ZShzY29wZS4kcGFyZW50LHZhbHVlKX0pfX19KSxhdHRycy5kYXRlRGlzYWJsZWQmJmRhdGVwaWNrZXJFbC5hdHRyKCJkYXRlLWRpc2FibGVkIiwiZGF0ZURpc2FibGVkKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KSIpLG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpLHNjb3BlLmRhdGVTZWxlY3Rpb249ZnVuY3Rpb24oZHQpe2FuZ3VsYXIuaXNEZWZpbmVkKGR0KSYmKHNjb3BlLmRhdGU9ZHQpLG5nTW9kZWwuJHNldFZpZXdWYWx1ZShzY29wZS5kYXRlKSxuZ01vZGVsLiRyZW5kZXIoKSxjbG9zZU9uRGF0ZVNlbGVjdGlvbiYmKHNjb3BlLmlzT3Blbj0hMSxlbGVtZW50WzBdLmZvY3VzKCkpfSxlbGVtZW50LmJpbmQoImlucHV0IGNoYW5nZSBrZXl1cCIsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtzY29wZS5kYXRlPW5nTW9kZWwuJG1vZGVsVmFsdWV9KX0pLG5nTW9kZWwuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciBkYXRlPW5nTW9kZWwuJHZpZXdWYWx1ZT9kYXRlRmlsdGVyKG5nTW9kZWwuJHZpZXdWYWx1ZSxkYXRlRm9ybWF0KToiIjtlbGVtZW50LnZhbChkYXRlKSxzY29wZS5kYXRlPXBhcnNlRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKX07dmFyIGRvY3VtZW50Q2xpY2tCaW5kPWZ1bmN0aW9uKGV2ZW50KXtzY29wZS5pc09wZW4mJmV2ZW50LnRhcmdldCE9PWVsZW1lbnRbMF0mJnNjb3BlLiRhcHBseShmdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMX0pfSxrZXlkb3duPWZ1bmN0aW9uKGV2dCl7c2NvcGUua2V5ZG93bihldnQpfTtlbGVtZW50LmJpbmQoImtleWRvd24iLGtleWRvd24pLHNjb3BlLmtleWRvd249ZnVuY3Rpb24oZXZ0KXsyNz09PWV2dC53aGljaD8oZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLHNjb3BlLmNsb3NlKCkpOjQwIT09ZXZ0LndoaWNofHxzY29wZS5pc09wZW58fChzY29wZS5pc09wZW49ITApfSxzY29wZS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24odmFsdWUpe3ZhbHVlPyhzY29wZS4kYnJvYWRjYXN0KCJkYXRlcGlja2VyLmZvY3VzIiksc2NvcGUucG9zaXRpb249YXBwZW5kVG9Cb2R5PyRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCk6JHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpLHNjb3BlLnBvc2l0aW9uLnRvcD1zY29wZS5wb3NpdGlvbi50b3ArZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSwkZG9jdW1lbnQuYmluZCgiY2xpY2siLGRvY3VtZW50Q2xpY2tCaW5kKSk6JGRvY3VtZW50LnVuYmluZCgiY2xpY2siLGRvY3VtZW50Q2xpY2tCaW5kKX0pLHNjb3BlLnNlbGVjdD1mdW5jdGlvbihkYXRlKXtpZigidG9kYXkiPT09ZGF0ZSl7dmFyIHRvZGF5PW5ldyBEYXRlO2FuZ3VsYXIuaXNEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpPyhkYXRlPW5ldyBEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpLGRhdGUuc2V0RnVsbFllYXIodG9kYXkuZ2V0RnVsbFllYXIoKSx0b2RheS5nZXRNb250aCgpLHRvZGF5LmdldERhdGUoKSkpOmRhdGU9bmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwwLDAsMCkpfXNjb3BlLmRhdGVTZWxlY3Rpb24oZGF0ZSl9LHNjb3BlLmNsb3NlPWZ1bmN0aW9uKCl7c2NvcGUuaXNPcGVuPSExLGVsZW1lbnRbMF0uZm9jdXMoKX07dmFyICRwb3B1cD0kY29tcGlsZShwb3B1cEVsKShzY29wZSk7cG9wdXBFbC5yZW1vdmUoKSxhcHBlbmRUb0JvZHk/JGRvY3VtZW50LmZpbmQoImJvZHkiKS5hcHBlbmQoJHBvcHVwKTplbGVtZW50LmFmdGVyKCRwb3B1cCksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskcG9wdXAucmVtb3ZlKCksZWxlbWVudC51bmJpbmQoImtleWRvd24iLGtleWRvd24pLCRkb2N1bWVudC51bmJpbmQoImNsaWNrIixkb2N1bWVudENsaWNrQmluZCl9KX19fV0pLmRpcmVjdGl2ZSgiZGF0ZXBpY2tlclBvcHVwV3JhcCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50KXtlbGVtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKSxldmVudC5zdG9wUHJvcGFnYXRpb24oKX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRyb3Bkb3duIixbXSkuY29uc3RhbnQoImRyb3Bkb3duQ29uZmlnIix7b3BlbkNsYXNzOiJvcGVuIn0pLnNlcnZpY2UoImRyb3Bkb3duU2VydmljZSIsWyIkZG9jdW1lbnQiLGZ1bmN0aW9uKCRkb2N1bWVudCl7dmFyIG9wZW5TY29wZT1udWxsO3RoaXMub3Blbj1mdW5jdGlvbihkcm9wZG93blNjb3BlKXtvcGVuU2NvcGV8fCgkZG9jdW1lbnQuYmluZCgiY2xpY2siLGNsb3NlRHJvcGRvd24pLCRkb2N1bWVudC5iaW5kKCJrZXlkb3duIixlc2NhcGVLZXlCaW5kKSksb3BlblNjb3BlJiZvcGVuU2NvcGUhPT1kcm9wZG93blNjb3BlJiYob3BlblNjb3BlLmlzT3Blbj0hMSksb3BlblNjb3BlPWRyb3Bkb3duU2NvcGV9LHRoaXMuY2xvc2U9ZnVuY3Rpb24oZHJvcGRvd25TY29wZSl7b3BlblNjb3BlPT09ZHJvcGRvd25TY29wZSYmKG9wZW5TY29wZT1udWxsLCRkb2N1bWVudC51bmJpbmQoImNsaWNrIixjbG9zZURyb3Bkb3duKSwkZG9jdW1lbnQudW5iaW5kKCJrZXlkb3duIixlc2NhcGVLZXlCaW5kKSl9O3ZhciBjbG9zZURyb3Bkb3duPWZ1bmN0aW9uKGV2dCl7dmFyIHRvZ2dsZUVsZW1lbnQ9b3BlblNjb3BlLmdldFRvZ2dsZUVsZW1lbnQoKTtldnQmJnRvZ2dsZUVsZW1lbnQmJnRvZ2dsZUVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCl8fG9wZW5TY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtvcGVuU2NvcGUuaXNPcGVuPSExfSl9LGVzY2FwZUtleUJpbmQ9ZnVuY3Rpb24oZXZ0KXsyNz09PWV2dC53aGljaCYmKG9wZW5TY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxjbG9zZURyb3Bkb3duKCkpfX1dKS5jb250cm9sbGVyKCJEcm9wZG93bkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkYW5pbWF0ZSIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2UsZHJvcGRvd25Db25maWcsZHJvcGRvd25TZXJ2aWNlLCRhbmltYXRlKXt2YXIgZ2V0SXNPcGVuLHNlbGY9dGhpcyxzY29wZT0kc2NvcGUuJG5ldygpLG9wZW5DbGFzcz1kcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3Msc2V0SXNPcGVuPWFuZ3VsYXIubm9vcCx0b2dnbGVJbnZva2VyPSRhdHRycy5vblRvZ2dsZT8kcGFyc2UoJGF0dHJzLm9uVG9nZ2xlKTphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKGVsZW1lbnQpe3NlbGYuJGVsZW1lbnQ9ZWxlbWVudCwkYXR0cnMuaXNPcGVuJiYoZ2V0SXNPcGVuPSRwYXJzZSgkYXR0cnMuaXNPcGVuKSxzZXRJc09wZW49Z2V0SXNPcGVuLmFzc2lnbiwkc2NvcGUuJHdhdGNoKGdldElzT3BlbixmdW5jdGlvbih2YWx1ZSl7c2NvcGUuaXNPcGVuPSEhdmFsdWV9KSl9LHRoaXMudG9nZ2xlPWZ1bmN0aW9uKG9wZW4pe3JldHVybiBzY29wZS5pc09wZW49YXJndW1lbnRzLmxlbmd0aD8hIW9wZW46IXNjb3BlLmlzT3Blbn0sdGhpcy5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gc2NvcGUuaXNPcGVufSxzY29wZS5nZXRUb2dnbGVFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHNlbGYudG9nZ2xlRWxlbWVudH0sc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50PWZ1bmN0aW9uKCl7c2VsZi50b2dnbGVFbGVtZW50JiZzZWxmLnRvZ2dsZUVsZW1lbnRbMF0uZm9jdXMoKX0sc2NvcGUuJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKGlzT3Blbix3YXNPcGVuKXskYW5pbWF0ZVtpc09wZW4/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShzZWxmLiRlbGVtZW50LG9wZW5DbGFzcyksaXNPcGVuPyhzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxkcm9wZG93blNlcnZpY2Uub3BlbihzY29wZSkpOmRyb3Bkb3duU2VydmljZS5jbG9zZShzY29wZSksc2V0SXNPcGVuKCRzY29wZSxpc09wZW4pLGFuZ3VsYXIuaXNEZWZpbmVkKGlzT3BlbikmJmlzT3BlbiE9PXdhc09wZW4mJnRvZ2dsZUludm9rZXIoJHNjb3BlLHtvcGVuOiEhaXNPcGVufSl9KSwkc2NvcGUuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixmdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMX0pLCRzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3Njb3BlLiRkZXN0cm95KCl9KX1dKS5kaXJlY3RpdmUoImRyb3Bkb3duIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQ0EiLGNvbnRyb2xsZXI6IkRyb3Bkb3duQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGRyb3Bkb3duQ3RybCl7ZHJvcGRvd25DdHJsLmluaXQoZWxlbWVudCl9fX0pLmRpcmVjdGl2ZSgiZHJvcGRvd25Ub2dnbGUiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJDQSIscmVxdWlyZToiP15kcm9wZG93biIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGRyb3Bkb3duQ3RybCl7aWYoZHJvcGRvd25DdHJsKXtkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudD1lbGVtZW50O3ZhciB0b2dnbGVEcm9wZG93bj1mdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKSxlbGVtZW50Lmhhc0NsYXNzKCJkaXNhYmxlZCIpfHxhdHRycy5kaXNhYmxlZHx8c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7ZHJvcGRvd25DdHJsLnRvZ2dsZSgpfSl9O2VsZW1lbnQuYmluZCgiY2xpY2siLHRvZ2dsZURyb3Bkb3duKSxlbGVtZW50LmF0dHIoeyJhcmlhLWhhc3BvcHVwIjohMCwiYXJpYS1leHBhbmRlZCI6ITF9KSxzY29wZS4kd2F0Y2goZHJvcGRvd25DdHJsLmlzT3BlbixmdW5jdGlvbihpc09wZW4pe2VsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsISFpc09wZW4pfSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZCgiY2xpY2siLHRvZ2dsZURyb3Bkb3duKX0pfX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5tb2RhbCIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5mYWN0b3J5KCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZU5ldzpmdW5jdGlvbigpe3ZhciBzdGFjaz1bXTtyZXR1cm57YWRkOmZ1bmN0aW9uKGtleSx2YWx1ZSl7c3RhY2sucHVzaCh7a2V5OmtleSx2YWx1ZTp2YWx1ZX0pfSxnZXQ6ZnVuY3Rpb24oa2V5KXtmb3IodmFyIGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspaWYoa2V5PT1zdGFja1tpXS5rZXkpcmV0dXJuIHN0YWNrW2ldfSxrZXlzOmZ1bmN0aW9uKCl7Zm9yKHZhciBrZXlzPVtdLGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspa2V5cy5wdXNoKHN0YWNrW2ldLmtleSk7cmV0dXJuIGtleXN9LHRvcDpmdW5jdGlvbigpe3JldHVybiBzdGFja1tzdGFjay5sZW5ndGgtMV19LHJlbW92ZTpmdW5jdGlvbihrZXkpe2Zvcih2YXIgaWR4PS0xLGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspaWYoa2V5PT1zdGFja1tpXS5rZXkpe2lkeD1pO2JyZWFrfXJldHVybiBzdGFjay5zcGxpY2UoaWR4LDEpWzBdfSxyZW1vdmVUb3A6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2suc3BsaWNlKHN0YWNrLmxlbmd0aC0xLDEpWzBdfSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2subGVuZ3RofX19fX0pLmRpcmVjdGl2ZSgibW9kYWxCYWNrZHJvcCIsWyIkdGltZW91dCIsZnVuY3Rpb24oJHRpbWVvdXQpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7c2NvcGUuYmFja2Ryb3BDbGFzcz1hdHRycy5iYWNrZHJvcENsYXNzfHwiIixzY29wZS5hbmltYXRlPSExLCR0aW1lb3V0KGZ1bmN0aW9uKCl7c2NvcGUuYW5pbWF0ZT0hMH0pfX19XSkuZGlyZWN0aXZlKCJtb2RhbFdpbmRvdyIsWyIkbW9kYWxTdGFjayIsIiR0aW1lb3V0IixmdW5jdGlvbigkbW9kYWxTdGFjaywkdGltZW91dCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e2luZGV4OiJAIixhbmltYXRlOiI9In0scmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKHRFbGVtZW50LHRBdHRycyl7cmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIn0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtlbGVtZW50LmFkZENsYXNzKGF0dHJzLndpbmRvd0NsYXNzfHwiIiksc2NvcGUuc2l6ZT1hdHRycy5zaXplLCR0aW1lb3V0KGZ1bmN0aW9uKCl7c2NvcGUuYW5pbWF0ZT0hMCxlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoIlthdXRvZm9jdXNdIikubGVuZ3RofHxlbGVtZW50WzBdLmZvY3VzKCl9KSxzY29wZS5jbG9zZT1mdW5jdGlvbihldnQpe3ZhciBtb2RhbD0kbW9kYWxTdGFjay5nZXRUb3AoKTttb2RhbCYmbW9kYWwudmFsdWUuYmFja2Ryb3AmJiJzdGF0aWMiIT1tb2RhbC52YWx1ZS5iYWNrZHJvcCYmZXZ0LnRhcmdldD09PWV2dC5jdXJyZW50VGFyZ2V0JiYoZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCJiYWNrZHJvcCBjbGljayIpKX19fX1dKS5kaXJlY3RpdmUoIm1vZGFsVHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtyZXR1cm57bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW1lbnQsJGF0dHJzLGNvbnRyb2xsZXIsJHRyYW5zY2x1ZGUpeyR0cmFuc2NsdWRlKCRzY29wZS4kcGFyZW50LGZ1bmN0aW9uKGNsb25lKXskZWxlbWVudC5lbXB0eSgpLCRlbGVtZW50LmFwcGVuZChjbG9uZSl9KX19fSkuZmFjdG9yeSgiJG1vZGFsU3RhY2siLFsiJHRyYW5zaXRpb24iLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRjb21waWxlIiwiJHJvb3RTY29wZSIsIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oJHRyYW5zaXRpb24sJHRpbWVvdXQsJGRvY3VtZW50LCRjb21waWxlLCRyb290U2NvcGUsJCRzdGFja2VkTWFwKXtmdW5jdGlvbiBiYWNrZHJvcEluZGV4KCl7Zm9yKHZhciB0b3BCYWNrZHJvcEluZGV4PS0xLG9wZW5lZD1vcGVuZWRXaW5kb3dzLmtleXMoKSxpPTA7aTxvcGVuZWQubGVuZ3RoO2krKylvcGVuZWRXaW5kb3dzLmdldChvcGVuZWRbaV0pLnZhbHVlLmJhY2tkcm9wJiYodG9wQmFja2Ryb3BJbmRleD1pKTtyZXR1cm4gdG9wQmFja2Ryb3BJbmRleH1mdW5jdGlvbiByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKXt2YXIgYm9keT0kZG9jdW1lbnQuZmluZCgiYm9keSIpLmVxKDApLG1vZGFsV2luZG93PW9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlO29wZW5lZFdpbmRvd3MucmVtb3ZlKG1vZGFsSW5zdGFuY2UpLHJlbW92ZUFmdGVyQW5pbWF0ZShtb2RhbFdpbmRvdy5tb2RhbERvbUVsLG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsMzAwLGZ1bmN0aW9uKCl7bW9kYWxXaW5kb3cubW9kYWxTY29wZS4kZGVzdHJveSgpLGJvZHkudG9nZ2xlQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTLG9wZW5lZFdpbmRvd3MubGVuZ3RoKCk+MCksY2hlY2tSZW1vdmVCYWNrZHJvcCgpfSl9ZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpe2lmKGJhY2tkcm9wRG9tRWwmJi0xPT1iYWNrZHJvcEluZGV4KCkpe3ZhciBiYWNrZHJvcFNjb3BlUmVmPWJhY2tkcm9wU2NvcGU7cmVtb3ZlQWZ0ZXJBbmltYXRlKGJhY2tkcm9wRG9tRWwsYmFja2Ryb3BTY29wZSwxNTAsZnVuY3Rpb24oKXtiYWNrZHJvcFNjb3BlUmVmLiRkZXN0cm95KCksYmFja2Ryb3BTY29wZVJlZj1udWxsfSksYmFja2Ryb3BEb21FbD12b2lkIDAsYmFja2Ryb3BTY29wZT12b2lkIDB9fWZ1bmN0aW9uIHJlbW92ZUFmdGVyQW5pbWF0ZShkb21FbCxzY29wZSxlbXVsYXRlVGltZSxkb25lKXtmdW5jdGlvbiBhZnRlckFuaW1hdGluZygpe2FmdGVyQW5pbWF0aW5nLmRvbmV8fChhZnRlckFuaW1hdGluZy5kb25lPSEwLGRvbUVsLnJlbW92ZSgpLGRvbmUmJmRvbmUoKSl9c2NvcGUuYW5pbWF0ZT0hMTt2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZT0kdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lO2lmKHRyYW5zaXRpb25FbmRFdmVudE5hbWUpe3ZhciB0aW1lb3V0PSR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nLGVtdWxhdGVUaW1lKTtkb21FbC5iaW5kKHRyYW5zaXRpb25FbmRFdmVudE5hbWUsZnVuY3Rpb24oKXskdGltZW91dC5jYW5jZWwodGltZW91dCksYWZ0ZXJBbmltYXRpbmcoKSxzY29wZS4kYXBwbHkoKX0pfWVsc2UgJHRpbWVvdXQoYWZ0ZXJBbmltYXRpbmcpfXZhciBiYWNrZHJvcERvbUVsLGJhY2tkcm9wU2NvcGUsT1BFTkVEX01PREFMX0NMQVNTPSJtb2RhbC1vcGVuIixvcGVuZWRXaW5kb3dzPSQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKSwkbW9kYWxTdGFjaz17fTtyZXR1cm4gJHJvb3RTY29wZS4kd2F0Y2goYmFja2Ryb3BJbmRleCxmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KXtiYWNrZHJvcFNjb3BlJiYoYmFja2Ryb3BTY29wZS5pbmRleD1uZXdCYWNrZHJvcEluZGV4KX0pLCRkb2N1bWVudC5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihldnQpe3ZhciBtb2RhbDsyNz09PWV2dC53aGljaCYmKG1vZGFsPW9wZW5lZFdpbmRvd3MudG9wKCksbW9kYWwmJm1vZGFsLnZhbHVlLmtleWJvYXJkJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKXskbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwiZXNjYXBlIGtleSBwcmVzcyIpfSkpKX0pLCRtb2RhbFN0YWNrLm9wZW49ZnVuY3Rpb24obW9kYWxJbnN0YW5jZSxtb2RhbCl7b3BlbmVkV2luZG93cy5hZGQobW9kYWxJbnN0YW5jZSx7ZGVmZXJyZWQ6bW9kYWwuZGVmZXJyZWQsbW9kYWxTY29wZTptb2RhbC5zY29wZSxiYWNrZHJvcDptb2RhbC5iYWNrZHJvcCxrZXlib2FyZDptb2RhbC5rZXlib2FyZH0pO3ZhciBib2R5PSRkb2N1bWVudC5maW5kKCJib2R5IikuZXEoMCksY3VyckJhY2tkcm9wSW5kZXg9YmFja2Ryb3BJbmRleCgpO2lmKGN1cnJCYWNrZHJvcEluZGV4Pj0wJiYhYmFja2Ryb3BEb21FbCl7YmFja2Ryb3BTY29wZT0kcm9vdFNjb3BlLiRuZXcoITApLGJhY2tkcm9wU2NvcGUuaW5kZXg9Y3VyckJhY2tkcm9wSW5kZXg7dmFyIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IG1vZGFsLWJhY2tkcm9wPjwvZGl2PiIpO2FuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cigiYmFja2Ryb3AtY2xhc3MiLG1vZGFsLmJhY2tkcm9wQ2xhc3MpLGJhY2tkcm9wRG9tRWw9JGNvbXBpbGUoYW5ndWxhckJhY2tncm91bmREb21FbCkoYmFja2Ryb3BTY29wZSksYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCl9dmFyIGFuZ3VsYXJEb21FbD1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgbW9kYWwtd2luZG93PjwvZGl2PiIpO2FuZ3VsYXJEb21FbC5hdHRyKHsidGVtcGxhdGUtdXJsIjptb2RhbC53aW5kb3dUZW1wbGF0ZVVybCwid2luZG93LWNsYXNzIjptb2RhbC53aW5kb3dDbGFzcyxzaXplOm1vZGFsLnNpemUsaW5kZXg6b3BlbmVkV2luZG93cy5sZW5ndGgoKS0xLGFuaW1hdGU6ImFuaW1hdGUifSkuaHRtbChtb2RhbC5jb250ZW50KTt2YXIgbW9kYWxEb21FbD0kY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlLm1vZGFsRG9tRWw9bW9kYWxEb21FbCxib2R5LmFwcGVuZChtb2RhbERvbUVsKSxib2R5LmFkZENsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUyl9LCRtb2RhbFN0YWNrLmNsb3NlPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UscmVzdWx0KXt2YXIgbW9kYWxXaW5kb3c9b3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7bW9kYWxXaW5kb3cmJihtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCkscmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSkpfSwkbW9kYWxTdGFjay5kaXNtaXNzPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UscmVhc29uKXt2YXIgbW9kYWxXaW5kb3c9b3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7bW9kYWxXaW5kb3cmJihtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKSxyZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKSl9LCRtb2RhbFN0YWNrLmRpc21pc3NBbGw9ZnVuY3Rpb24ocmVhc29uKXtmb3IodmFyIHRvcE1vZGFsPXRoaXMuZ2V0VG9wKCk7dG9wTW9kYWw7KXRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXkscmVhc29uKSx0b3BNb2RhbD10aGlzLmdldFRvcCgpfSwkbW9kYWxTdGFjay5nZXRUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKX0sJG1vZGFsU3RhY2t9XSkucHJvdmlkZXIoIiRtb2RhbCIsZnVuY3Rpb24oKXt2YXIgJG1vZGFsUHJvdmlkZXI9e29wdGlvbnM6e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwfSwkZ2V0OlsiJGluamVjdG9yIiwiJHJvb3RTY29wZSIsIiRxIiwiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRjb250cm9sbGVyIiwiJG1vZGFsU3RhY2siLGZ1bmN0aW9uKCRpbmplY3Rvciwkcm9vdFNjb3BlLCRxLCRodHRwLCR0ZW1wbGF0ZUNhY2hlLCRjb250cm9sbGVyLCRtb2RhbFN0YWNrKXtmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucyl7cmV0dXJuIG9wdGlvbnMudGVtcGxhdGU/JHEud2hlbihvcHRpb25zLnRlbXBsYXRlKTokaHR0cC5nZXQoYW5ndWxhci5pc0Z1bmN0aW9uKG9wdGlvbnMudGVtcGxhdGVVcmwpP29wdGlvbnMudGVtcGxhdGVVcmwoKTpvcHRpb25zLnRlbXBsYXRlVXJsLHtjYWNoZTokdGVtcGxhdGVDYWNoZX0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtyZXR1cm4gcmVzdWx0LmRhdGF9KX1mdW5jdGlvbiBnZXRSZXNvbHZlUHJvbWlzZXMocmVzb2x2ZXMpe3ZhciBwcm9taXNlc0Fycj1bXTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKHJlc29sdmVzLGZ1bmN0aW9uKHZhbHVlKXsoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKXx8YW5ndWxhci5pc0FycmF5KHZhbHVlKSkmJnByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuaW52b2tlKHZhbHVlKSkpfSkscHJvbWlzZXNBcnJ9dmFyICRtb2RhbD17fTtyZXR1cm4gJG1vZGFsLm9wZW49ZnVuY3Rpb24obW9kYWxPcHRpb25zKXt2YXIgbW9kYWxSZXN1bHREZWZlcnJlZD0kcS5kZWZlcigpLG1vZGFsT3BlbmVkRGVmZXJyZWQ9JHEuZGVmZXIoKSxtb2RhbEluc3RhbmNlPXtyZXN1bHQ6bW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLG9wZW5lZDptb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsY2xvc2U6ZnVuY3Rpb24ocmVzdWx0KXskbW9kYWxTdGFjay5jbG9zZShtb2RhbEluc3RhbmNlLHJlc3VsdCl9LGRpc21pc3M6ZnVuY3Rpb24ocmVhc29uKXskbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsSW5zdGFuY2UscmVhc29uKX19O2lmKG1vZGFsT3B0aW9ucz1hbmd1bGFyLmV4dGVuZCh7fSwkbW9kYWxQcm92aWRlci5vcHRpb25zLG1vZGFsT3B0aW9ucyksbW9kYWxPcHRpb25zLnJlc29sdmU9bW9kYWxPcHRpb25zLnJlc29sdmV8fHt9LCFtb2RhbE9wdGlvbnMudGVtcGxhdGUmJiFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpdGhyb3cgbmV3IEVycm9yKCJPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4iKTt2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZT0kcS5hbGwoW2dldFRlbXBsYXRlUHJvbWlzZShtb2RhbE9wdGlvbnMpXS5jb25jYXQoZ2V0UmVzb2x2ZVByb21pc2VzKG1vZGFsT3B0aW9ucy5yZXNvbHZlKSkpO3JldHVybiB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24odHBsQW5kVmFycyl7dmFyIG1vZGFsU2NvcGU9KG1vZGFsT3B0aW9ucy5zY29wZXx8JHJvb3RTY29wZSkuJG5ldygpO21vZGFsU2NvcGUuJGNsb3NlPW1vZGFsSW5zdGFuY2UuY2xvc2UsbW9kYWxTY29wZS4kZGlzbWlzcz1tb2RhbEluc3RhbmNlLmRpc21pc3M7dmFyIGN0cmxJbnN0YW5jZSxjdHJsTG9jYWxzPXt9LHJlc29sdmVJdGVyPTE7bW9kYWxPcHRpb25zLmNvbnRyb2xsZXImJihjdHJsTG9jYWxzLiRzY29wZT1tb2RhbFNjb3BlLGN0cmxMb2NhbHMuJG1vZGFsSW5zdGFuY2U9bW9kYWxJbnN0YW5jZSxhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsZnVuY3Rpb24odmFsdWUsa2V5KXtjdHJsTG9jYWxzW2tleV09dHBsQW5kVmFyc1tyZXNvbHZlSXRlcisrXX0pLGN0cmxJbnN0YW5jZT0kY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlcixjdHJsTG9jYWxzKSxtb2RhbE9wdGlvbnMuY29udHJvbGxlckFzJiYobW9kYWxTY29wZVttb2RhbE9wdGlvbnMuY29udHJvbGxlckFzXT1jdHJsSW5zdGFuY2UpKSwkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2Use3Njb3BlOm1vZGFsU2NvcGUsZGVmZXJyZWQ6bW9kYWxSZXN1bHREZWZlcnJlZCxjb250ZW50OnRwbEFuZFZhcnNbMF0sYmFja2Ryb3A6bW9kYWxPcHRpb25zLmJhY2tkcm9wLGtleWJvYXJkOm1vZGFsT3B0aW9ucy5rZXlib2FyZCxiYWNrZHJvcENsYXNzOm1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLHdpbmRvd0NsYXNzOm1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyx3aW5kb3dUZW1wbGF0ZVVybDptb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsc2l6ZTptb2RhbE9wdGlvbnMuc2l6ZX0pfSxmdW5jdGlvbihyZWFzb24pe21vZGFsUmVzdWx0RGVmZXJyZWQucmVqZWN0KHJlYXNvbil9KSx0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXttb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUoITApfSxmdW5jdGlvbigpe21vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KCExKX0pLG1vZGFsSW5zdGFuY2V9LCRtb2RhbH1dfTtyZXR1cm4gJG1vZGFsUHJvdmlkZXJ9KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iLFtdKS5jb250cm9sbGVyKCJQYWdpbmF0aW9uQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlKXt2YXIgc2VsZj10aGlzLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH0sc2V0TnVtUGFnZXM9JGF0dHJzLm51bVBhZ2VzPyRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbjphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyxjb25maWcpe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyx0aGlzLmNvbmZpZz1jb25maWcsbmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3NlbGYucmVuZGVyKCl9LCRhdHRycy5pdGVtc1BlclBhZ2U/JHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaXRlbXNQZXJQYWdlKSxmdW5jdGlvbih2YWx1ZSl7c2VsZi5pdGVtc1BlclBhZ2U9cGFyc2VJbnQodmFsdWUsMTApLCRzY29wZS50b3RhbFBhZ2VzPXNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpfSk6dGhpcy5pdGVtc1BlclBhZ2U9Y29uZmlnLml0ZW1zUGVyUGFnZX0sdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzPWZ1bmN0aW9uKCl7dmFyIHRvdGFsUGFnZXM9dGhpcy5pdGVtc1BlclBhZ2U8MT8xOk1hdGguY2VpbCgkc2NvcGUudG90YWxJdGVtcy90aGlzLml0ZW1zUGVyUGFnZSk7cmV0dXJuIE1hdGgubWF4KHRvdGFsUGFnZXN8fDAsMSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7JHNjb3BlLnBhZ2U9cGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwxMCl8fDF9LCRzY29wZS5zZWxlY3RQYWdlPWZ1bmN0aW9uKHBhZ2UpeyRzY29wZS5wYWdlIT09cGFnZSYmcGFnZT4wJiZwYWdlPD0kc2NvcGUudG90YWxQYWdlcyYmKG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSksbmdNb2RlbEN0cmwuJHJlbmRlcigpKX0sJHNjb3BlLmdldFRleHQ9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gJHNjb3BlW2tleSsiVGV4dCJdfHxzZWxmLmNvbmZpZ1trZXkrIlRleHQiXX0sJHNjb3BlLm5vUHJldmlvdXM9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PSRzY29wZS5wYWdlfSwkc2NvcGUubm9OZXh0PWZ1bmN0aW9uKCl7cmV0dXJuICRzY29wZS5wYWdlPT09JHNjb3BlLnRvdGFsUGFnZXN9LCRzY29wZS4kd2F0Y2goInRvdGFsSXRlbXMiLGZ1bmN0aW9uKCl7JHNjb3BlLnRvdGFsUGFnZXM9c2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KSwkc2NvcGUuJHdhdGNoKCJ0b3RhbFBhZ2VzIixmdW5jdGlvbih2YWx1ZSl7c2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsdmFsdWUpLCRzY29wZS5wYWdlPnZhbHVlPyRzY29wZS5zZWxlY3RQYWdlKHZhbHVlKTpuZ01vZGVsQ3RybC4kcmVuZGVyKCl9KX1dKS5jb25zdGFudCgicGFnaW5hdGlvbkNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxib3VuZGFyeUxpbmtzOiExLGRpcmVjdGlvbkxpbmtzOiEwLGZpcnN0VGV4dDoiRmlyc3QiLHByZXZpb3VzVGV4dDoiUHJldmlvdXMiLG5leHRUZXh0OiJOZXh0IixsYXN0VGV4dDoiTGFzdCIscm90YXRlOiEwfSkuZGlyZWN0aXZlKCJwYWdpbmF0aW9uIixbIiRwYXJzZSIsInBhZ2luYXRpb25Db25maWciLGZ1bmN0aW9uKCRwYXJzZSxwYWdpbmF0aW9uQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7dG90YWxJdGVtczoiPSIsZmlyc3RUZXh0OiJAIixwcmV2aW91c1RleHQ6IkAiLG5leHRUZXh0OiJAIixsYXN0VGV4dDoiQCJ9LHJlcXVpcmU6WyJwYWdpbmF0aW9uIiwiP25nTW9kZWwiXSxjb250cm9sbGVyOiJQYWdpbmF0aW9uQ29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7ZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLHRleHQsaXNBY3RpdmUpe3JldHVybntudW1iZXI6bnVtYmVyLHRleHQ6dGV4dCxhY3RpdmU6aXNBY3RpdmV9fWZ1bmN0aW9uIGdldFBhZ2VzKGN1cnJlbnRQYWdlLHRvdGFsUGFnZXMpe3ZhciBwYWdlcz1bXSxzdGFydFBhZ2U9MSxlbmRQYWdlPXRvdGFsUGFnZXMsaXNNYXhTaXplZD1hbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSYmdG90YWxQYWdlcz5tYXhTaXplO2lzTWF4U2l6ZWQmJihyb3RhdGU/KHN0YXJ0UGFnZT1NYXRoLm1heChjdXJyZW50UGFnZS1NYXRoLmZsb29yKG1heFNpemUvMiksMSksZW5kUGFnZT1zdGFydFBhZ2UrbWF4U2l6ZS0xLGVuZFBhZ2U+dG90YWxQYWdlcyYmKGVuZFBhZ2U9dG90YWxQYWdlcyxzdGFydFBhZ2U9ZW5kUGFnZS1tYXhTaXplKzEpKTooc3RhcnRQYWdlPShNYXRoLmNlaWwoY3VycmVudFBhZ2UvbWF4U2l6ZSktMSkqbWF4U2l6ZSsxLGVuZFBhZ2U9TWF0aC5taW4oc3RhcnRQYWdlK21heFNpemUtMSx0b3RhbFBhZ2VzKSkpOwpmb3IodmFyIG51bWJlcj1zdGFydFBhZ2U7ZW5kUGFnZT49bnVtYmVyO251bWJlcisrKXt2YXIgcGFnZT1tYWtlUGFnZShudW1iZXIsbnVtYmVyLG51bWJlcj09PWN1cnJlbnRQYWdlKTtwYWdlcy5wdXNoKHBhZ2UpfWlmKGlzTWF4U2l6ZWQmJiFyb3RhdGUpe2lmKHN0YXJ0UGFnZT4xKXt2YXIgcHJldmlvdXNQYWdlU2V0PW1ha2VQYWdlKHN0YXJ0UGFnZS0xLCIuLi4iLCExKTtwYWdlcy51bnNoaWZ0KHByZXZpb3VzUGFnZVNldCl9aWYodG90YWxQYWdlcz5lbmRQYWdlKXt2YXIgbmV4dFBhZ2VTZXQ9bWFrZVBhZ2UoZW5kUGFnZSsxLCIuLi4iLCExKTtwYWdlcy5wdXNoKG5leHRQYWdlU2V0KX19cmV0dXJuIHBhZ2VzfXZhciBwYWdpbmF0aW9uQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtpZihuZ01vZGVsQ3RybCl7dmFyIG1heFNpemU9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWF4U2l6ZSk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5tYXhTaXplKTpwYWdpbmF0aW9uQ29uZmlnLm1heFNpemUscm90YXRlPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnJvdGF0ZSk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpOnBhZ2luYXRpb25Db25maWcucm90YXRlO3Njb3BlLmJvdW5kYXJ5TGlua3M9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcyk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5ib3VuZGFyeUxpbmtzKTpwYWdpbmF0aW9uQ29uZmlnLmJvdW5kYXJ5TGlua3Msc2NvcGUuZGlyZWN0aW9uTGlua3M9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGlyZWN0aW9uTGlua3MpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGlyZWN0aW9uTGlua3MpOnBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3MscGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCxwYWdpbmF0aW9uQ29uZmlnKSxhdHRycy5tYXhTaXplJiZzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksZnVuY3Rpb24odmFsdWUpe21heFNpemU9cGFyc2VJbnQodmFsdWUsMTApLHBhZ2luYXRpb25DdHJsLnJlbmRlcigpfSk7dmFyIG9yaWdpbmFsUmVuZGVyPXBhZ2luYXRpb25DdHJsLnJlbmRlcjtwYWdpbmF0aW9uQ3RybC5yZW5kZXI9ZnVuY3Rpb24oKXtvcmlnaW5hbFJlbmRlcigpLHNjb3BlLnBhZ2U+MCYmc2NvcGUucGFnZTw9c2NvcGUudG90YWxQYWdlcyYmKHNjb3BlLnBhZ2VzPWdldFBhZ2VzKHNjb3BlLnBhZ2Usc2NvcGUudG90YWxQYWdlcykpfX19fX1dKS5jb25zdGFudCgicGFnZXJDb25maWciLHtpdGVtc1BlclBhZ2U6MTAscHJldmlvdXNUZXh0OiLCqyBQcmV2aW91cyIsbmV4dFRleHQ6Ik5leHQgwrsiLGFsaWduOiEwfSkuZGlyZWN0aXZlKCJwYWdlciIsWyJwYWdlckNvbmZpZyIsZnVuY3Rpb24ocGFnZXJDb25maWcpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnt0b3RhbEl0ZW1zOiI9IixwcmV2aW91c1RleHQ6IkAiLG5leHRUZXh0OiJAIn0scmVxdWlyZTpbInBhZ2VyIiwiP25nTW9kZWwiXSxjb250cm9sbGVyOiJQYWdpbmF0aW9uQ29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe3ZhciBwYWdpbmF0aW9uQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybCYmKHNjb3BlLmFsaWduPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmFsaWduKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmFsaWduKTpwYWdlckNvbmZpZy5hbGlnbixwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLHBhZ2VyQ29uZmlnKSl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRvb2x0aXAiLFsidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIl0pLnByb3ZpZGVyKCIkdG9vbHRpcCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpe3ZhciByZWdleHA9L1tBLVpdL2csc2VwYXJhdG9yPSItIjtyZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCxmdW5jdGlvbihsZXR0ZXIscG9zKXtyZXR1cm4ocG9zP3NlcGFyYXRvcjoiIikrbGV0dGVyLnRvTG93ZXJDYXNlKCl9KX12YXIgZGVmYXVsdE9wdGlvbnM9e3BsYWNlbWVudDoidG9wIixhbmltYXRpb246ITAscG9wdXBEZWxheTowfSx0cmlnZ2VyTWFwPXttb3VzZWVudGVyOiJtb3VzZWxlYXZlIixjbGljazoiY2xpY2siLGZvY3VzOiJibHVyIn0sZ2xvYmFsT3B0aW9ucz17fTt0aGlzLm9wdGlvbnM9ZnVuY3Rpb24odmFsdWUpe2FuZ3VsYXIuZXh0ZW5kKGdsb2JhbE9wdGlvbnMsdmFsdWUpfSx0aGlzLnNldFRyaWdnZXJzPWZ1bmN0aW9uKHRyaWdnZXJzKXthbmd1bGFyLmV4dGVuZCh0cmlnZ2VyTWFwLHRyaWdnZXJzKX0sdGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiRjb21waWxlIiwiJHRpbWVvdXQiLCIkcGFyc2UiLCIkZG9jdW1lbnQiLCIkcG9zaXRpb24iLCIkaW50ZXJwb2xhdGUiLGZ1bmN0aW9uKCR3aW5kb3csJGNvbXBpbGUsJHRpbWVvdXQsJHBhcnNlLCRkb2N1bWVudCwkcG9zaXRpb24sJGludGVycG9sYXRlKXtyZXR1cm4gZnVuY3Rpb24odHlwZSxwcmVmaXgsZGVmYXVsdFRyaWdnZXJTaG93KXtmdW5jdGlvbiBnZXRUcmlnZ2Vycyh0cmlnZ2VyKXt2YXIgc2hvdz10cmlnZ2VyfHxvcHRpb25zLnRyaWdnZXJ8fGRlZmF1bHRUcmlnZ2VyU2hvdyxoaWRlPXRyaWdnZXJNYXBbc2hvd118fHNob3c7cmV0dXJue3Nob3c6c2hvdyxoaWRlOmhpZGV9fXZhciBvcHRpb25zPWFuZ3VsYXIuZXh0ZW5kKHt9LGRlZmF1bHRPcHRpb25zLGdsb2JhbE9wdGlvbnMpLGRpcmVjdGl2ZU5hbWU9c25ha2VfY2FzZSh0eXBlKSxzdGFydFN5bT0kaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxlbmRTeW09JGludGVycG9sYXRlLmVuZFN5bWJvbCgpLHRlbXBsYXRlPSI8ZGl2ICIrZGlyZWN0aXZlTmFtZSsnLXBvcHVwIHRpdGxlPSInK3N0YXJ0U3ltKyJ0dF90aXRsZSIrZW5kU3ltKyciIGNvbnRlbnQ9Iicrc3RhcnRTeW0rInR0X2NvbnRlbnQiK2VuZFN5bSsnIiBwbGFjZW1lbnQ9Iicrc3RhcnRTeW0rInR0X3BsYWNlbWVudCIrZW5kU3ltKyciIGFuaW1hdGlvbj0idHRfYW5pbWF0aW9uIiBpcy1vcGVuPSJ0dF9pc09wZW4iPjwvZGl2Pic7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6ITAsY29tcGlsZTpmdW5jdGlvbigpe3ZhciB0b29sdGlwTGlua2VyPSRjb21waWxlKHRlbXBsYXRlKTtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7ZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcEJpbmQoKXtzY29wZS50dF9pc09wZW4/aGlkZVRvb2x0aXBCaW5kKCk6c2hvd1Rvb2x0aXBCaW5kKCl9ZnVuY3Rpb24gc2hvd1Rvb2x0aXBCaW5kKCl7KCFoYXNFbmFibGVFeHB8fHNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCsiRW5hYmxlIl0pKSYmKHNjb3BlLnR0X3BvcHVwRGVsYXk/cG9wdXBUaW1lb3V0fHwocG9wdXBUaW1lb3V0PSR0aW1lb3V0KHNob3csc2NvcGUudHRfcG9wdXBEZWxheSwhMSkscG9wdXBUaW1lb3V0LnRoZW4oZnVuY3Rpb24ocmVwb3NpdGlvbil7cmVwb3NpdGlvbigpfSkpOnNob3coKSgpKX1mdW5jdGlvbiBoaWRlVG9vbHRpcEJpbmQoKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtoaWRlKCl9KX1mdW5jdGlvbiBzaG93KCl7cmV0dXJuIHBvcHVwVGltZW91dD1udWxsLHRyYW5zaXRpb25UaW1lb3V0JiYoJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KSx0cmFuc2l0aW9uVGltZW91dD1udWxsKSxzY29wZS50dF9jb250ZW50PyhjcmVhdGVUb29sdGlwKCksdG9vbHRpcC5jc3Moe3RvcDowLGxlZnQ6MCxkaXNwbGF5OiJibG9jayJ9KSxhcHBlbmRUb0JvZHk/JGRvY3VtZW50LmZpbmQoImJvZHkiKS5hcHBlbmQodG9vbHRpcCk6ZWxlbWVudC5hZnRlcih0b29sdGlwKSxwb3NpdGlvblRvb2x0aXAoKSxzY29wZS50dF9pc09wZW49ITAsc2NvcGUuJGRpZ2VzdCgpLHBvc2l0aW9uVG9vbHRpcCk6YW5ndWxhci5ub29wfWZ1bmN0aW9uIGhpZGUoKXtzY29wZS50dF9pc09wZW49ITEsJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCkscG9wdXBUaW1lb3V0PW51bGwsc2NvcGUudHRfYW5pbWF0aW9uP3RyYW5zaXRpb25UaW1lb3V0fHwodHJhbnNpdGlvblRpbWVvdXQ9JHRpbWVvdXQocmVtb3ZlVG9vbHRpcCw1MDApKTpyZW1vdmVUb29sdGlwKCl9ZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCgpe3Rvb2x0aXAmJnJlbW92ZVRvb2x0aXAoKSx0b29sdGlwPXRvb2x0aXBMaW5rZXIoc2NvcGUsZnVuY3Rpb24oKXt9KSxzY29wZS4kZGlnZXN0KCl9ZnVuY3Rpb24gcmVtb3ZlVG9vbHRpcCgpe3RyYW5zaXRpb25UaW1lb3V0PW51bGwsdG9vbHRpcCYmKHRvb2x0aXAucmVtb3ZlKCksdG9vbHRpcD1udWxsKX12YXIgdG9vbHRpcCx0cmFuc2l0aW9uVGltZW91dCxwb3B1cFRpbWVvdXQsYXBwZW5kVG9Cb2R5PWFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYXBwZW5kVG9Cb2R5KT9vcHRpb25zLmFwcGVuZFRvQm9keTohMSx0cmlnZ2Vycz1nZXRUcmlnZ2Vycyh2b2lkIDApLGhhc0VuYWJsZUV4cD1hbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXgrIkVuYWJsZSJdKSxwb3NpdGlvblRvb2x0aXA9ZnVuY3Rpb24oKXt2YXIgdHRQb3NpdGlvbj0kcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhlbGVtZW50LHRvb2x0aXAsc2NvcGUudHRfcGxhY2VtZW50LGFwcGVuZFRvQm9keSk7dHRQb3NpdGlvbi50b3ArPSJweCIsdHRQb3NpdGlvbi5sZWZ0Kz0icHgiLHRvb2x0aXAuY3NzKHR0UG9zaXRpb24pfTtzY29wZS50dF9pc09wZW49ITEsYXR0cnMuJG9ic2VydmUodHlwZSxmdW5jdGlvbih2YWwpe3Njb3BlLnR0X2NvbnRlbnQ9dmFsLCF2YWwmJnNjb3BlLnR0X2lzT3BlbiYmaGlkZSgpfSksYXR0cnMuJG9ic2VydmUocHJlZml4KyJUaXRsZSIsZnVuY3Rpb24odmFsKXtzY29wZS50dF90aXRsZT12YWx9KSxhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIlBsYWNlbWVudCIsZnVuY3Rpb24odmFsKXtzY29wZS50dF9wbGFjZW1lbnQ9YW5ndWxhci5pc0RlZmluZWQodmFsKT92YWw6b3B0aW9ucy5wbGFjZW1lbnR9KSxhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIlBvcHVwRGVsYXkiLGZ1bmN0aW9uKHZhbCl7dmFyIGRlbGF5PXBhcnNlSW50KHZhbCwxMCk7c2NvcGUudHRfcG9wdXBEZWxheT1pc05hTihkZWxheSk/b3B0aW9ucy5wb3B1cERlbGF5OmRlbGF5fSk7dmFyIHVucmVnaXN0ZXJUcmlnZ2Vycz1mdW5jdGlvbigpe2VsZW1lbnQudW5iaW5kKHRyaWdnZXJzLnNob3csc2hvd1Rvb2x0aXBCaW5kKSxlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5oaWRlLGhpZGVUb29sdGlwQmluZCl9O2F0dHJzLiRvYnNlcnZlKHByZWZpeCsiVHJpZ2dlciIsZnVuY3Rpb24odmFsKXt1bnJlZ2lzdGVyVHJpZ2dlcnMoKSx0cmlnZ2Vycz1nZXRUcmlnZ2Vycyh2YWwpLHRyaWdnZXJzLnNob3c9PT10cmlnZ2Vycy5oaWRlP2VsZW1lbnQuYmluZCh0cmlnZ2Vycy5zaG93LHRvZ2dsZVRvb2x0aXBCaW5kKTooZWxlbWVudC5iaW5kKHRyaWdnZXJzLnNob3csc2hvd1Rvb2x0aXBCaW5kKSxlbGVtZW50LmJpbmQodHJpZ2dlcnMuaGlkZSxoaWRlVG9vbHRpcEJpbmQpKX0pO3ZhciBhbmltYXRpb249c2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KyJBbmltYXRpb24iXSk7c2NvcGUudHRfYW5pbWF0aW9uPWFuZ3VsYXIuaXNEZWZpbmVkKGFuaW1hdGlvbik/ISFhbmltYXRpb246b3B0aW9ucy5hbmltYXRpb24sYXR0cnMuJG9ic2VydmUocHJlZml4KyJBcHBlbmRUb0JvZHkiLGZ1bmN0aW9uKHZhbCl7YXBwZW5kVG9Cb2R5PWFuZ3VsYXIuaXNEZWZpbmVkKHZhbCk/JHBhcnNlKHZhbCkoc2NvcGUpOmFwcGVuZFRvQm9keX0pLGFwcGVuZFRvQm9keSYmc2NvcGUuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixmdW5jdGlvbigpe3Njb3BlLnR0X2lzT3BlbiYmaGlkZSgpfSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpLCR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpLHVucmVnaXN0ZXJUcmlnZ2VycygpLHJlbW92ZVRvb2x0aXAoKX0pfX19fX1dfSkuZGlyZWN0aXZlKCJ0b29sdGlwUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCxzY29wZTp7Y29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCJ9fSkuZGlyZWN0aXZlKCJ0b29sdGlwIixbIiR0b29sdGlwIixmdW5jdGlvbigkdG9vbHRpcCl7cmV0dXJuICR0b29sdGlwKCJ0b29sdGlwIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiKX1dKS5kaXJlY3RpdmUoInRvb2x0aXBIdG1sVW5zYWZlUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCxzY29wZTp7Y29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCJ9fSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbFVuc2FmZSIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oJHRvb2x0aXApe3JldHVybiAkdG9vbHRpcCgidG9vbHRpcEh0bWxVbnNhZmUiLCJ0b29sdGlwIiwibW91c2VlbnRlciIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucG9wb3ZlciIsWyJ1aS5ib290c3RyYXAudG9vbHRpcCJdKS5kaXJlY3RpdmUoInBvcG92ZXJQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOnt0aXRsZToiQCIsY29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCJ9fSkuZGlyZWN0aXZlKCJwb3BvdmVyIixbIiR0b29sdGlwIixmdW5jdGlvbigkdG9vbHRpcCl7cmV0dXJuICR0b29sdGlwKCJwb3BvdmVyIiwicG9wb3ZlciIsImNsaWNrIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsW10pLmNvbnN0YW50KCJwcm9ncmVzc0NvbmZpZyIse2FuaW1hdGU6ITAsbWF4OjEwMH0pLmNvbnRyb2xsZXIoIlByb2dyZXNzQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJwcm9ncmVzc0NvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxwcm9ncmVzc0NvbmZpZyl7dmFyIHNlbGY9dGhpcyxhbmltYXRlPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbmltYXRlKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSk6cHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTt0aGlzLmJhcnM9W10sJHNjb3BlLm1heD1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KTpwcm9ncmVzc0NvbmZpZy5tYXgsdGhpcy5hZGRCYXI9ZnVuY3Rpb24oYmFyLGVsZW1lbnQpe2FuaW1hdGV8fGVsZW1lbnQuY3NzKHt0cmFuc2l0aW9uOiJub25lIn0pLHRoaXMuYmFycy5wdXNoKGJhciksYmFyLiR3YXRjaCgidmFsdWUiLGZ1bmN0aW9uKHZhbHVlKXtiYXIucGVyY2VudD0rKDEwMCp2YWx1ZS8kc2NvcGUubWF4KS50b0ZpeGVkKDIpfSksYmFyLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZWxlbWVudD1udWxsLHNlbGYucmVtb3ZlQmFyKGJhcil9KX0sdGhpcy5yZW1vdmVCYXI9ZnVuY3Rpb24oYmFyKXt0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksMSl9fV0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIscmVxdWlyZToicHJvZ3Jlc3MiLHNjb3BlOnt9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIn19KS5kaXJlY3RpdmUoImJhciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAscmVxdWlyZToiXnByb2dyZXNzIixzY29wZTp7dmFsdWU6Ij0iLHR5cGU6IkAifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxwcm9ncmVzc0N0cmwpe3Byb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsZWxlbWVudCl9fX0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3NiYXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxwcm9ncmVzc0N0cmwpe3Byb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSkpfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnJhdGluZyIsW10pLmNvbnN0YW50KCJyYXRpbmdDb25maWciLHttYXg6NSxzdGF0ZU9uOm51bGwsc3RhdGVPZmY6bnVsbH0pLmNvbnRyb2xsZXIoIlJhdGluZ0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwicmF0aW5nQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLHJhdGluZ0NvbmZpZyl7dmFyIG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH07dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG5nTW9kZWxDdHJsLiRyZW5kZXI9dGhpcy5yZW5kZXIsdGhpcy5zdGF0ZU9uPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbik6cmF0aW5nQ29uZmlnLnN0YXRlT24sdGhpcy5zdGF0ZU9mZj1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPZmYpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZik6cmF0aW5nQ29uZmlnLnN0YXRlT2ZmO3ZhciByYXRpbmdTdGF0ZXM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcyk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJhdGluZ1N0YXRlcyk6bmV3IEFycmF5KGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpOnJhdGluZ0NvbmZpZy5tYXgpOyRzY29wZS5yYW5nZT10aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzKHJhdGluZ1N0YXRlcyl9LHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHM9ZnVuY3Rpb24oc3RhdGVzKXtmb3IodmFyIGk9MCxuPXN0YXRlcy5sZW5ndGg7bj5pO2krKylzdGF0ZXNbaV09YW5ndWxhci5leHRlbmQoe2luZGV4Oml9LHtzdGF0ZU9uOnRoaXMuc3RhdGVPbixzdGF0ZU9mZjp0aGlzLnN0YXRlT2ZmfSxzdGF0ZXNbaV0pO3JldHVybiBzdGF0ZXN9LCRzY29wZS5yYXRlPWZ1bmN0aW9uKHZhbHVlKXshJHNjb3BlLnJlYWRvbmx5JiZ2YWx1ZT49MCYmdmFsdWU8PSRzY29wZS5yYW5nZS5sZW5ndGgmJihuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKSxuZ01vZGVsQ3RybC4kcmVuZGVyKCkpfSwkc2NvcGUuZW50ZXI9ZnVuY3Rpb24odmFsdWUpeyRzY29wZS5yZWFkb25seXx8KCRzY29wZS52YWx1ZT12YWx1ZSksJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOnZhbHVlfSl9LCRzY29wZS5yZXNldD1mdW5jdGlvbigpeyRzY29wZS52YWx1ZT1uZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCRzY29wZS5vbkxlYXZlKCl9LCRzY29wZS5vbktleWRvd249ZnVuY3Rpb24oZXZ0KXsvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCRzY29wZS5yYXRlKCRzY29wZS52YWx1ZSsoMzg9PT1ldnQud2hpY2h8fDM5PT09ZXZ0LndoaWNoPzE6LTEpKSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7JHNjb3BlLnZhbHVlPW5nTW9kZWxDdHJsLiR2aWV3VmFsdWV9fV0pLmRpcmVjdGl2ZSgicmF0aW5nIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6WyJyYXRpbmciLCJuZ01vZGVsIl0sc2NvcGU6e3JlYWRvbmx5OiI9PyIsb25Ib3ZlcjoiJiIsb25MZWF2ZToiJiJ9LGNvbnRyb2xsZXI6IlJhdGluZ0NvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgcmF0aW5nQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybCYmcmF0aW5nQ3RybC5pbml0KG5nTW9kZWxDdHJsKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50YWJzIixbXSkuY29udHJvbGxlcigiVGFic2V0Q29udHJvbGxlciIsWyIkc2NvcGUiLGZ1bmN0aW9uKCRzY29wZSl7dmFyIGN0cmw9dGhpcyx0YWJzPWN0cmwudGFicz0kc2NvcGUudGFicz1bXTtjdHJsLnNlbGVjdD1mdW5jdGlvbihzZWxlY3RlZFRhYil7YW5ndWxhci5mb3JFYWNoKHRhYnMsZnVuY3Rpb24odGFiKXt0YWIuYWN0aXZlJiZ0YWIhPT1zZWxlY3RlZFRhYiYmKHRhYi5hY3RpdmU9ITEsdGFiLm9uRGVzZWxlY3QoKSl9KSxzZWxlY3RlZFRhYi5hY3RpdmU9ITAsc2VsZWN0ZWRUYWIub25TZWxlY3QoKX0sY3RybC5hZGRUYWI9ZnVuY3Rpb24odGFiKXt0YWJzLnB1c2godGFiKSwxPT09dGFicy5sZW5ndGg/dGFiLmFjdGl2ZT0hMDp0YWIuYWN0aXZlJiZjdHJsLnNlbGVjdCh0YWIpfSxjdHJsLnJlbW92ZVRhYj1mdW5jdGlvbih0YWIpe3ZhciBpbmRleD10YWJzLmluZGV4T2YodGFiKTtpZih0YWIuYWN0aXZlJiZ0YWJzLmxlbmd0aD4xKXt2YXIgbmV3QWN0aXZlSW5kZXg9aW5kZXg9PXRhYnMubGVuZ3RoLTE/aW5kZXgtMTppbmRleCsxO2N0cmwuc2VsZWN0KHRhYnNbbmV3QWN0aXZlSW5kZXhdKX10YWJzLnNwbGljZShpbmRleCwxKX19XSkuZGlyZWN0aXZlKCJ0YWJzZXQiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIn0sY29udHJvbGxlcjoiVGFic2V0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7c2NvcGUudmVydGljYWw9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudmVydGljYWwpOiExLHNjb3BlLmp1c3RpZmllZD1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5qdXN0aWZpZWQpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKTohMX19fSkuZGlyZWN0aXZlKCJ0YWIiLFsiJHBhcnNlIixmdW5jdGlvbigkcGFyc2Upe3JldHVybntyZXF1aXJlOiJedGFic2V0IixyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6e2FjdGl2ZToiPT8iLGhlYWRpbmc6IkAiLG9uU2VsZWN0OiImc2VsZWN0IixvbkRlc2VsZWN0OiImZGVzZWxlY3QifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7fSxjb21waWxlOmZ1bmN0aW9uKGVsbSxhdHRycyx0cmFuc2NsdWRlKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHJzLHRhYnNldEN0cmwpe3Njb3BlLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhY3RpdmUpe2FjdGl2ZSYmdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpfSksc2NvcGUuZGlzYWJsZWQ9ITEsYXR0cnMuZGlzYWJsZWQmJnNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlZCksZnVuY3Rpb24odmFsdWUpe3Njb3BlLmRpc2FibGVkPSEhdmFsdWV9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oKXtzY29wZS5kaXNhYmxlZHx8KHNjb3BlLmFjdGl2ZT0hMCl9LHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3RhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKX0pLHNjb3BlLiR0cmFuc2NsdWRlRm49dHJhbnNjbHVkZX19fX1dKS5kaXJlY3RpdmUoInRhYkhlYWRpbmdUcmFuc2NsdWRlIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Il50YWIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtKXtzY29wZS4kd2F0Y2goImhlYWRpbmdFbGVtZW50IixmdW5jdGlvbihoZWFkaW5nKXtoZWFkaW5nJiYoZWxtLmh0bWwoIiIpLGVsbS5hcHBlbmQoaGVhZGluZykpfSl9fX1dKS5kaXJlY3RpdmUoInRhYkNvbnRlbnRUcmFuc2NsdWRlIixmdW5jdGlvbigpe2Z1bmN0aW9uIGlzVGFiSGVhZGluZyhub2RlKXtyZXR1cm4gbm9kZS50YWdOYW1lJiYobm9kZS5oYXNBdHRyaWJ1dGUoInRhYi1oZWFkaW5nIil8fG5vZGUuaGFzQXR0cmlidXRlKCJkYXRhLXRhYi1oZWFkaW5nIil8fCJ0YWItaGVhZGluZyI9PT1ub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8ImRhdGEtdGFiLWhlYWRpbmciPT09bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpfXJldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiXnRhYnNldCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cnMpe3ZhciB0YWI9c2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpO3RhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LGZ1bmN0aW9uKGNvbnRlbnRzKXthbmd1bGFyLmZvckVhY2goY29udGVudHMsZnVuY3Rpb24obm9kZSl7aXNUYWJIZWFkaW5nKG5vZGUpP3RhYi5oZWFkaW5nRWxlbWVudD1ub2RlOmVsbS5hcHBlbmQobm9kZSl9KX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXIiLFtdKS5jb25zdGFudCgidGltZXBpY2tlckNvbmZpZyIse2hvdXJTdGVwOjEsbWludXRlU3RlcDoxLHNob3dNZXJpZGlhbjohMCxtZXJpZGlhbnM6bnVsbCxyZWFkb25seUlucHV0OiExLG1vdXNld2hlZWw6ITB9KS5jb250cm9sbGVyKCJUaW1lcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkbG9nIiwiJGxvY2FsZSIsInRpbWVwaWNrZXJDb25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlLCRsb2csJGxvY2FsZSx0aW1lcGlja2VyQ29uZmlnKXtmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpe3ZhciBob3Vycz1wYXJzZUludCgkc2NvcGUuaG91cnMsMTApLHZhbGlkPSRzY29wZS5zaG93TWVyaWRpYW4/aG91cnM+MCYmMTM+aG91cnM6aG91cnM+PTAmJjI0PmhvdXJzO3JldHVybiB2YWxpZD8oJHNjb3BlLnNob3dNZXJpZGlhbiYmKDEyPT09aG91cnMmJihob3Vycz0wKSwkc2NvcGUubWVyaWRpYW49PT1tZXJpZGlhbnNbMV0mJihob3Vycys9MTIpKSxob3Vycyk6dm9pZCAwfWZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKXt2YXIgbWludXRlcz1wYXJzZUludCgkc2NvcGUubWludXRlcywxMCk7cmV0dXJuIG1pbnV0ZXM+PTAmJjYwPm1pbnV0ZXM/bWludXRlczp2b2lkIDB9ZnVuY3Rpb24gcGFkKHZhbHVlKXtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsdWUpJiZ2YWx1ZS50b1N0cmluZygpLmxlbmd0aDwyPyIwIit2YWx1ZTp2YWx1ZX1mdW5jdGlvbiByZWZyZXNoKGtleWJvYXJkQ2hhbmdlKXttYWtlVmFsaWQoKSxuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ldyBEYXRlKHNlbGVjdGVkKSksdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpfWZ1bmN0aW9uIG1ha2VWYWxpZCgpe25nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgidGltZSIsITApLCRzY29wZS5pbnZhbGlkSG91cnM9ITEsJHNjb3BlLmludmFsaWRNaW51dGVzPSExfWZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKXt2YXIgaG91cnM9c2VsZWN0ZWQuZ2V0SG91cnMoKSxtaW51dGVzPXNlbGVjdGVkLmdldE1pbnV0ZXMoKTskc2NvcGUuc2hvd01lcmlkaWFuJiYoaG91cnM9MD09PWhvdXJzfHwxMj09PWhvdXJzPzEyOmhvdXJzJTEyKSwkc2NvcGUuaG91cnM9ImgiPT09a2V5Ym9hcmRDaGFuZ2U/aG91cnM6cGFkKGhvdXJzKSwkc2NvcGUubWludXRlcz0ibSI9PT1rZXlib2FyZENoYW5nZT9taW51dGVzOnBhZChtaW51dGVzKSwkc2NvcGUubWVyaWRpYW49c2VsZWN0ZWQuZ2V0SG91cnMoKTwxMj9tZXJpZGlhbnNbMF06bWVyaWRpYW5zWzFdfWZ1bmN0aW9uIGFkZE1pbnV0ZXMobWludXRlcyl7dmFyIGR0PW5ldyBEYXRlKHNlbGVjdGVkLmdldFRpbWUoKSs2ZTQqbWludXRlcyk7c2VsZWN0ZWQuc2V0SG91cnMoZHQuZ2V0SG91cnMoKSxkdC5nZXRNaW51dGVzKCkpLHJlZnJlc2goKX12YXIgc2VsZWN0ZWQ9bmV3IERhdGUsbmdNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfSxtZXJpZGlhbnM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1lcmlkaWFucyk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucyk6dGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnN8fCRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUzt0aGlzLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfLGlucHV0cyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG5nTW9kZWxDdHJsLiRyZW5kZXI9dGhpcy5yZW5kZXI7dmFyIGhvdXJzSW5wdXRFbD1pbnB1dHMuZXEoMCksbWludXRlc0lucHV0RWw9aW5wdXRzLmVxKDEpLG1vdXNld2hlZWw9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tb3VzZXdoZWVsKTp0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7bW91c2V3aGVlbCYmdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMoaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKSwkc2NvcGUucmVhZG9ubHlJbnB1dD1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmVhZG9ubHlJbnB1dCk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJlYWRvbmx5SW5wdXQpOnRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dCx0aGlzLnNldHVwSW5wdXRFdmVudHMoaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKX07dmFyIGhvdXJTdGVwPXRpbWVwaWNrZXJDb25maWcuaG91clN0ZXA7JGF0dHJzLmhvdXJTdGVwJiYkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5ob3VyU3RlcCksZnVuY3Rpb24odmFsdWUpe2hvdXJTdGVwPXBhcnNlSW50KHZhbHVlLDEwKX0pO3ZhciBtaW51dGVTdGVwPXRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDskYXR0cnMubWludXRlU3RlcCYmJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWludXRlU3RlcCksZnVuY3Rpb24odmFsdWUpe21pbnV0ZVN0ZXA9cGFyc2VJbnQodmFsdWUsMTApfSksJHNjb3BlLnNob3dNZXJpZGlhbj10aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbiwkYXR0cnMuc2hvd01lcmlkaWFuJiYkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5zaG93TWVyaWRpYW4pLGZ1bmN0aW9uKHZhbHVlKXtpZigkc2NvcGUuc2hvd01lcmlkaWFuPSEhdmFsdWUsbmdNb2RlbEN0cmwuJGVycm9yLnRpbWUpe3ZhciBob3Vycz1nZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpLG1pbnV0ZXM9Z2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSYmYW5ndWxhci5pc0RlZmluZWQobWludXRlcykmJihzZWxlY3RlZC5zZXRIb3Vycyhob3VycykscmVmcmVzaCgpKX1lbHNlIHVwZGF0ZVRlbXBsYXRlKCl9KSx0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cz1mdW5jdGlvbihob3Vyc0lucHV0RWwsbWludXRlc0lucHV0RWwpe3ZhciBpc1Njcm9sbGluZ1VwPWZ1bmN0aW9uKGUpe2Uub3JpZ2luYWxFdmVudCYmKGU9ZS5vcmlnaW5hbEV2ZW50KTt2YXIgZGVsdGE9ZS53aGVlbERlbHRhP2Uud2hlZWxEZWx0YTotZS5kZWx0YVk7cmV0dXJuIGUuZGV0YWlsfHxkZWx0YT4wfTtob3Vyc0lucHV0RWwuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oZSl7JHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpPyRzY29wZS5pbmNyZW1lbnRIb3VycygpOiRzY29wZS5kZWNyZW1lbnRIb3VycygpKSxlLnByZXZlbnREZWZhdWx0KCl9KSxtaW51dGVzSW5wdXRFbC5iaW5kKCJtb3VzZXdoZWVsIHdoZWVsIixmdW5jdGlvbihlKXskc2NvcGUuJGFwcGx5KGlzU2Nyb2xsaW5nVXAoZSk/JHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKTokc2NvcGUuZGVjcmVtZW50TWludXRlcygpKSxlLnByZXZlbnREZWZhdWx0KCl9KX0sdGhpcy5zZXR1cElucHV0RXZlbnRzPWZ1bmN0aW9uKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCl7aWYoJHNjb3BlLnJlYWRvbmx5SW5wdXQpcmV0dXJuICRzY29wZS51cGRhdGVIb3Vycz1hbmd1bGFyLm5vb3Asdm9pZCgkc2NvcGUudXBkYXRlTWludXRlcz1hbmd1bGFyLm5vb3ApO3ZhciBpbnZhbGlkYXRlPWZ1bmN0aW9uKGludmFsaWRIb3VycyxpbnZhbGlkTWludXRlcyl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShudWxsKSxuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSxhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkSG91cnMpJiYoJHNjb3BlLmludmFsaWRIb3Vycz1pbnZhbGlkSG91cnMpLGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRNaW51dGVzKSYmKCRzY29wZS5pbnZhbGlkTWludXRlcz1pbnZhbGlkTWludXRlcyl9OyRzY29wZS51cGRhdGVIb3Vycz1mdW5jdGlvbigpe3ZhciBob3Vycz1nZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKT8oc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpLHJlZnJlc2goImgiKSk6aW52YWxpZGF0ZSghMCl9LGhvdXJzSW5wdXRFbC5iaW5kKCJibHVyIixmdW5jdGlvbigpeyEkc2NvcGUuaW52YWxpZEhvdXJzJiYkc2NvcGUuaG91cnM8MTAmJiRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXskc2NvcGUuaG91cnM9cGFkKCRzY29wZS5ob3Vycyl9KX0pLCRzY29wZS51cGRhdGVNaW51dGVzPWZ1bmN0aW9uKCl7dmFyIG1pbnV0ZXM9Z2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpPyhzZWxlY3RlZC5zZXRNaW51dGVzKG1pbnV0ZXMpLHJlZnJlc2goIm0iKSk6aW52YWxpZGF0ZSh2b2lkIDAsITApfSxtaW51dGVzSW5wdXRFbC5iaW5kKCJibHVyIixmdW5jdGlvbigpeyEkc2NvcGUuaW52YWxpZE1pbnV0ZXMmJiRzY29wZS5taW51dGVzPDEwJiYkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7JHNjb3BlLm1pbnV0ZXM9cGFkKCRzY29wZS5taW51dGVzKX0pfSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGRhdGU9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7aXNOYU4oZGF0ZSk/KG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLCRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSk6KGRhdGUmJihzZWxlY3RlZD1kYXRlKSxtYWtlVmFsaWQoKSx1cGRhdGVUZW1wbGF0ZSgpKX0sJHNjb3BlLmluY3JlbWVudEhvdXJzPWZ1bmN0aW9uKCl7YWRkTWludXRlcyg2MCpob3VyU3RlcCl9LCRzY29wZS5kZWNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoNjAqLWhvdXJTdGVwKX0sJHNjb3BlLmluY3JlbWVudE1pbnV0ZXM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKG1pbnV0ZVN0ZXApfSwkc2NvcGUuZGVjcmVtZW50TWludXRlcz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoLW1pbnV0ZVN0ZXApfSwkc2NvcGUudG9nZ2xlTWVyaWRpYW49ZnVuY3Rpb24oKXthZGRNaW51dGVzKDcyMCooc2VsZWN0ZWQuZ2V0SG91cnMoKTwxMj8xOi0xKSl9fV0pLmRpcmVjdGl2ZSgidGltZXBpY2tlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOlsidGltZXBpY2tlciIsIj9ebmdNb2RlbCJdLGNvbnRyb2xsZXI6IlRpbWVwaWNrZXJDb250cm9sbGVyIixyZXBsYWNlOiEwLHNjb3BlOnt9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgdGltZXBpY2tlckN0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJnRpbWVwaWNrZXJDdHJsLmluaXQobmdNb2RlbEN0cmwsZWxlbWVudC5maW5kKCJpbnB1dCIpKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiLFsidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIl0pLmZhY3RvcnkoInR5cGVhaGVhZFBhcnNlciIsWyIkcGFyc2UiLGZ1bmN0aW9uKCRwYXJzZSl7dmFyIFRZUEVBSEVBRF9SRUdFWFA9L15ccyooW1xzXFNdKz8pKD86XHMrYXNccysoW1xzXFNdKz8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHdcZF0qKSlccytpblxzKyhbXHNcU10rPykkLztyZXR1cm57cGFyc2U6ZnVuY3Rpb24oaW5wdXQpe3ZhciBtYXRjaD1pbnB1dC5tYXRjaChUWVBFQUhFQURfUkVHRVhQKTtpZighbWF0Y2gpdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mICJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uXyIgYnV0IGdvdCAiJytpbnB1dCsnIi4nKTtyZXR1cm57aXRlbU5hbWU6bWF0Y2hbM10sc291cmNlOiRwYXJzZShtYXRjaFs0XSksdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl18fG1hdGNoWzFdKSxtb2RlbE1hcHBlcjokcGFyc2UobWF0Y2hbMV0pfX19fV0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkIixbIiRjb21waWxlIiwiJHBhcnNlIiwiJHEiLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsInR5cGVhaGVhZFBhcnNlciIsZnVuY3Rpb24oJGNvbXBpbGUsJHBhcnNlLCRxLCR0aW1lb3V0LCRkb2N1bWVudCwkcG9zaXRpb24sdHlwZWFoZWFkUGFyc2VyKXt2YXIgSE9UX0tFWVM9WzksMTMsMjcsMzgsNDBdO3JldHVybntyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKG9yaWdpbmFsU2NvcGUsZWxlbWVudCxhdHRycyxtb2RlbEN0cmwpe3ZhciBoYXNGb2N1cyxtaW5TZWFyY2g9b3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRNaW5MZW5ndGgpfHwxLHdhaXRUaW1lPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkV2FpdE1zKXx8MCxpc0VkaXRhYmxlPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRWRpdGFibGUpIT09ITEsaXNMb2FkaW5nU2V0dGVyPSRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ258fGFuZ3VsYXIubm9vcCxvblNlbGVjdENhbGxiYWNrPSRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCksaW5wdXRGb3JtYXR0ZXI9YXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXI/JHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKTp2b2lkIDAsYXBwZW5kVG9Cb2R5PWF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keT9vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSk6ITEsJHNldE1vZGVsVmFsdWU9JHBhcnNlKGF0dHJzLm5nTW9kZWwpLmFzc2lnbixwYXJzZXJSZXN1bHQ9dHlwZWFoZWFkUGFyc2VyLnBhcnNlKGF0dHJzLnR5cGVhaGVhZCksc2NvcGU9b3JpZ2luYWxTY29wZS4kbmV3KCk7b3JpZ2luYWxTY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3Njb3BlLiRkZXN0cm95KCl9KTt2YXIgcG9wdXBJZD0idHlwZWFoZWFkLSIrc2NvcGUuJGlkKyItIitNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKTtlbGVtZW50LmF0dHIoeyJhcmlhLWF1dG9jb21wbGV0ZSI6Imxpc3QiLCJhcmlhLWV4cGFuZGVkIjohMSwiYXJpYS1vd25zIjpwb3B1cElkfSk7dmFyIHBvcFVwRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4iKTtwb3BVcEVsLmF0dHIoe2lkOnBvcHVwSWQsbWF0Y2hlczoibWF0Y2hlcyIsYWN0aXZlOiJhY3RpdmVJZHgiLHNlbGVjdDoic2VsZWN0KGFjdGl2ZUlkeCkiLHF1ZXJ5OiJxdWVyeSIscG9zaXRpb246InBvc2l0aW9uIn0pLGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSYmcG9wVXBFbC5hdHRyKCJ0ZW1wbGF0ZS11cmwiLGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTt2YXIgcmVzZXRNYXRjaGVzPWZ1bmN0aW9uKCl7c2NvcGUubWF0Y2hlcz1bXSxzY29wZS5hY3RpdmVJZHg9LTEsZWxlbWVudC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSl9LGdldE1hdGNoSWQ9ZnVuY3Rpb24oaW5kZXgpe3JldHVybiBwb3B1cElkKyItb3B0aW9uLSIraW5kZXh9O3Njb3BlLiR3YXRjaCgiYWN0aXZlSWR4IixmdW5jdGlvbihpbmRleCl7MD5pbmRleD9lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpOmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixnZXRNYXRjaElkKGluZGV4KSl9KTt2YXIgZ2V0TWF0Y2hlc0FzeW5jPWZ1bmN0aW9uKGlucHV0VmFsdWUpe3ZhciBsb2NhbHM9eyR2aWV3VmFsdWU6aW5wdXRWYWx1ZX07aXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITApLCRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLGxvY2FscykpLnRoZW4oZnVuY3Rpb24obWF0Y2hlcyl7dmFyIG9uQ3VycmVudFJlcXVlc3Q9aW5wdXRWYWx1ZT09PW1vZGVsQ3RybC4kdmlld1ZhbHVlO2lmKG9uQ3VycmVudFJlcXVlc3QmJmhhc0ZvY3VzKWlmKG1hdGNoZXMubGVuZ3RoPjApe3Njb3BlLmFjdGl2ZUlkeD0wLHNjb3BlLm1hdGNoZXMubGVuZ3RoPTA7Zm9yKHZhciBpPTA7aTxtYXRjaGVzLmxlbmd0aDtpKyspbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09bWF0Y2hlc1tpXSxzY29wZS5tYXRjaGVzLnB1c2goe2lkOmdldE1hdGNoSWQoaSksbGFiZWw6cGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIoc2NvcGUsbG9jYWxzKSxtb2RlbDptYXRjaGVzW2ldfSk7c2NvcGUucXVlcnk9aW5wdXRWYWx1ZSxzY29wZS5wb3NpdGlvbj1hcHBlbmRUb0JvZHk/JHBvc2l0aW9uLm9mZnNldChlbGVtZW50KTokcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCksc2NvcGUucG9zaXRpb24udG9wPXNjb3BlLnBvc2l0aW9uLnRvcCtlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLGVsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsITApfWVsc2UgcmVzZXRNYXRjaGVzKCk7b25DdXJyZW50UmVxdWVzdCYmaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITEpfSxmdW5jdGlvbigpe3Jlc2V0TWF0Y2hlcygpLGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCExKX0pfTtyZXNldE1hdGNoZXMoKSxzY29wZS5xdWVyeT12b2lkIDA7dmFyIHRpbWVvdXRQcm9taXNlLHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQ9ZnVuY3Rpb24oaW5wdXRWYWx1ZSl7dGltZW91dFByb21pc2U9JHRpbWVvdXQoZnVuY3Rpb24oKXtnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSl9LHdhaXRUaW1lKX0sY2FuY2VsUHJldmlvdXNUaW1lb3V0PWZ1bmN0aW9uKCl7dGltZW91dFByb21pc2UmJiR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSl9O21vZGVsQ3RybC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKGlucHV0VmFsdWUpe3JldHVybiBoYXNGb2N1cz0hMCxpbnB1dFZhbHVlJiZpbnB1dFZhbHVlLmxlbmd0aD49bWluU2VhcmNoP3dhaXRUaW1lPjA/KGNhbmNlbFByZXZpb3VzVGltZW91dCgpLHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQoaW5wdXRWYWx1ZSkpOmdldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKTooaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITEpLGNhbmNlbFByZXZpb3VzVGltZW91dCgpLHJlc2V0TWF0Y2hlcygpKSxpc0VkaXRhYmxlP2lucHV0VmFsdWU6aW5wdXRWYWx1ZT92b2lkIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMSk6KG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMCksaW5wdXRWYWx1ZSl9KSxtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihtb2RlbFZhbHVlKXt2YXIgY2FuZGlkYXRlVmlld1ZhbHVlLGVtcHR5Vmlld1ZhbHVlLGxvY2Fscz17fTtyZXR1cm4gaW5wdXRGb3JtYXR0ZXI/KGxvY2Fscy4kbW9kZWw9bW9kZWxWYWx1ZSxpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLGxvY2FscykpOihsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXT1tb2RlbFZhbHVlLGNhbmRpZGF0ZVZpZXdWYWx1ZT1wYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2FscyksbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09dm9pZCAwLGVtcHR5Vmlld1ZhbHVlPXBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSxjYW5kaWRhdGVWaWV3VmFsdWUhPT1lbXB0eVZpZXdWYWx1ZT9jYW5kaWRhdGVWaWV3VmFsdWU6bW9kZWxWYWx1ZSl9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oYWN0aXZlSWR4KXt2YXIgbW9kZWwsaXRlbSxsb2NhbHM9e307bG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09aXRlbT1zY29wZS5tYXRjaGVzW2FjdGl2ZUlkeF0ubW9kZWwsbW9kZWw9cGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSwkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLG1vZGVsKSxtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSx7JGl0ZW06aXRlbSwkbW9kZWw6bW9kZWwsJGxhYmVsOnBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKX0pLHJlc2V0TWF0Y2hlcygpLCR0aW1lb3V0KGZ1bmN0aW9uKCl7ZWxlbWVudFswXS5mb2N1cygpfSwwLCExKX0sZWxlbWVudC5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihldnQpezAhPT1zY29wZS5tYXRjaGVzLmxlbmd0aCYmLTEhPT1IT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkmJihldnQucHJldmVudERlZmF1bHQoKSw0MD09PWV2dC53aGljaD8oc2NvcGUuYWN0aXZlSWR4PShzY29wZS5hY3RpdmVJZHgrMSklc2NvcGUubWF0Y2hlcy5sZW5ndGgsc2NvcGUuJGRpZ2VzdCgpKTozOD09PWV2dC53aGljaD8oc2NvcGUuYWN0aXZlSWR4PShzY29wZS5hY3RpdmVJZHg/c2NvcGUuYWN0aXZlSWR4OnNjb3BlLm1hdGNoZXMubGVuZ3RoKS0xLHNjb3BlLiRkaWdlc3QoKSk6MTM9PT1ldnQud2hpY2h8fDk9PT1ldnQud2hpY2g/c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7c2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCl9KToyNz09PWV2dC53aGljaCYmKGV2dC5zdG9wUHJvcGFnYXRpb24oKSxyZXNldE1hdGNoZXMoKSxzY29wZS4kZGlnZXN0KCkpKX0pLGVsZW1lbnQuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtoYXNGb2N1cz0hMX0pO3ZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGV2dCl7ZWxlbWVudFswXSE9PWV2dC50YXJnZXQmJihyZXNldE1hdGNoZXMoKSxzY29wZS4kZGlnZXN0KCkpfTskZG9jdW1lbnQuYmluZCgiY2xpY2siLGRpc21pc3NDbGlja0hhbmRsZXIpLG9yaWdpbmFsU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskZG9jdW1lbnQudW5iaW5kKCJjbGljayIsZGlzbWlzc0NsaWNrSGFuZGxlcil9KTt2YXIgJHBvcHVwPSRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTthcHBlbmRUb0JvZHk/JGRvY3VtZW50LmZpbmQoImJvZHkiKS5hcHBlbmQoJHBvcHVwKTplbGVtZW50LmFmdGVyKCRwb3B1cCl9fX1dKS5kaXJlY3RpdmUoInR5cGVhaGVhZFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnttYXRjaGVzOiI9IixxdWVyeToiPSIsYWN0aXZlOiI9Iixwb3NpdGlvbjoiPSIsc2VsZWN0OiImIn0scmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLnRlbXBsYXRlVXJsPWF0dHJzLnRlbXBsYXRlVXJsLHNjb3BlLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBzY29wZS5tYXRjaGVzLmxlbmd0aD4wfSxzY29wZS5pc0FjdGl2ZT1mdW5jdGlvbihtYXRjaElkeCl7cmV0dXJuIHNjb3BlLmFjdGl2ZT09bWF0Y2hJZHh9LHNjb3BlLnNlbGVjdEFjdGl2ZT1mdW5jdGlvbihtYXRjaElkeCl7c2NvcGUuYWN0aXZlPW1hdGNoSWR4fSxzY29wZS5zZWxlY3RNYXRjaD1mdW5jdGlvbihhY3RpdmVJZHgpe3Njb3BlLnNlbGVjdCh7YWN0aXZlSWR4OmFjdGl2ZUlkeH0pfX19fSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWRNYXRjaCIsWyIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGNvbXBpbGUiLCIkcGFyc2UiLGZ1bmN0aW9uKCRodHRwLCR0ZW1wbGF0ZUNhY2hlLCRjb21waWxlLCRwYXJzZSl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e2luZGV4OiI9IixtYXRjaDoiPSIscXVlcnk6Ij0ifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3ZhciB0cGxVcmw9JHBhcnNlKGF0dHJzLnRlbXBsYXRlVXJsKShzY29wZS4kcGFyZW50KXx8InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCI7JGh0dHAuZ2V0KHRwbFVybCx7Y2FjaGU6JHRlbXBsYXRlQ2FjaGV9KS5zdWNjZXNzKGZ1bmN0aW9uKHRwbENvbnRlbnQpe2VsZW1lbnQucmVwbGFjZVdpdGgoJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlKSl9KX19fV0pLmZpbHRlcigidHlwZWFoZWFkSGlnaGxpZ2h0IixmdW5jdGlvbigpe2Z1bmN0aW9uIGVzY2FwZVJlZ2V4cChxdWVyeVRvRXNjYXBlKXtyZXR1cm4gcXVlcnlUb0VzY2FwZS5yZXBsYWNlKC8oWy4/KiteJFtcXVxcKCl7fXwtXSkvZywiXFwkMSIpfXJldHVybiBmdW5jdGlvbihtYXRjaEl0ZW0scXVlcnkpe3JldHVybiBxdWVyeT8oIiIrbWF0Y2hJdGVtKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnZXhwKHF1ZXJ5KSwiZ2kiKSwiPHN0cm9uZz4kJjwvc3Ryb25nPiIpOm1hdGNoSXRlbX19KSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsJzxkaXYgY2xhc3M9InBhbmVsIHBhbmVsLWRlZmF1bHQiPlxuICA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkaW5nIj5cbiAgICA8aDQgY2xhc3M9InBhbmVsLXRpdGxlIj5cbiAgICAgIDxhIGNsYXNzPSJhY2NvcmRpb24tdG9nZ2xlIiBuZy1jbGljaz0idG9nZ2xlT3BlbigpIiBhY2NvcmRpb24tdHJhbnNjbHVkZT0iaGVhZGluZyI+PHNwYW4gbmctY2xhc3M9IntcJ3RleHQtbXV0ZWRcJzogaXNEaXNhYmxlZH0iPnt7aGVhZGluZ319PC9zcGFuPjwvYT5cbiAgICA8L2g0PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtY29sbGFwc2UiIGNvbGxhcHNlPSIhaXNPcGVuIj5cbgkgIDxkaXYgY2xhc3M9InBhbmVsLWJvZHkiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwiLCc8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgbmctdHJhbnNjbHVkZT48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIiwnPGRpdiBjbGFzcz0iYWxlcnQiIG5nLWNsYXNzPSJbXCdhbGVydC1cJyArICh0eXBlIHx8IFwnd2FybmluZ1wnKSwgY2xvc2VhYmxlID8gXCdhbGVydC1kaXNtaXNzYWJsZVwnIDogbnVsbF0iIHJvbGU9ImFsZXJ0Ij5cbiAgICA8YnV0dG9uIG5nLXNob3c9ImNsb3NlYWJsZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iY2xvc2UiIG5nLWNsaWNrPSJjbG9zZSgpIj5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49InRydWUiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzci1vbmx5Ij5DbG9zZTwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgICA8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLCc8ZGl2IG5nLW1vdXNlZW50ZXI9InBhdXNlKCkiIG5nLW1vdXNlbGVhdmU9InBsYXkoKSIgY2xhc3M9ImNhcm91c2VsIiBuZy1zd2lwZS1yaWdodD0icHJldigpIiBuZy1zd2lwZS1sZWZ0PSJuZXh0KCkiPlxuICAgIDxvbCBjbGFzcz0iY2Fyb3VzZWwtaW5kaWNhdG9ycyIgbmctc2hvdz0ic2xpZGVzLmxlbmd0aCA+IDEiPlxuICAgICAgICA8bGkgbmctcmVwZWF0PSJzbGlkZSBpbiBzbGlkZXMgdHJhY2sgYnkgJGluZGV4IiBuZy1jbGFzcz0ie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfSIgbmctY2xpY2s9InNlbGVjdChzbGlkZSkiPjwvbGk+XG4gICAgPC9vbD5cbiAgICA8ZGl2IGNsYXNzPSJjYXJvdXNlbC1pbm5lciIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbiAgICA8YSBjbGFzcz0ibGVmdCBjYXJvdXNlbC1jb250cm9sIiBuZy1jbGljaz0icHJldigpIiBuZy1zaG93PSJzbGlkZXMubGVuZ3RoID4gMSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L3NwYW4+PC9hPlxuICAgIDxhIGNsYXNzPSJyaWdodCBjYXJvdXNlbC1jb250cm9sIiBuZy1jbGljaz0ibmV4dCgpIiBuZy1zaG93PSJzbGlkZXMubGVuZ3RoID4gMSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9zcGFuPjwvYT5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCIsIjxkaXYgbmctY2xhc3M9XCJ7XG4gICAgJ2FjdGl2ZSc6IGxlYXZpbmcgfHwgKGFjdGl2ZSAmJiAhZW50ZXJpbmcpLFxuICAgICdwcmV2JzogKG5leHQgfHwgYWN0aXZlKSAmJiBkaXJlY3Rpb249PSdwcmV2JyxcbiAgICAnbmV4dCc6IChuZXh0IHx8IGFjdGl2ZSkgJiYgZGlyZWN0aW9uPT0nbmV4dCcsXG4gICAgJ3JpZ2h0JzogZGlyZWN0aW9uPT0ncHJldicsXG4gICAgJ2xlZnQnOiBkaXJlY3Rpb249PSduZXh0J1xuICB9XCIgY2xhc3M9XCJpdGVtIHRleHQtY2VudGVyXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbiIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsJzxkaXYgbmctc3dpdGNoPSJkYXRlcGlja2VyTW9kZSIgcm9sZT0iYXBwbGljYXRpb24iIG5nLWtleWRvd249ImtleWRvd24oJGV2ZW50KSI+XG4gIDxkYXlwaWNrZXIgbmctc3dpdGNoLXdoZW49ImRheSIgdGFiaW5kZXg9IjAiPjwvZGF5cGlja2VyPlxuICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49Im1vbnRoIiB0YWJpbmRleD0iMCI+PC9tb250aHBpY2tlcj5cbiAgPHllYXJwaWNrZXIgbmctc3dpdGNoLXdoZW49InllYXIiIHRhYmluZGV4PSIwIj48L3llYXJwaWNrZXI+XG48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIiwnPHRhYmxlIHJvbGU9ImdyaWQiIGFyaWEtbGFiZWxsZWRieT0ie3t1bmlxdWVJZH19LXRpdGxlIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9Int7YWN0aXZlRGF0ZUlkfX0iPlxuICA8dGhlYWQ+XG4gICAgPHRyPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQiIG5nLWNsaWNrPSJtb3ZlKC0xKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoIGNvbHNwYW49Int7NSArIHNob3dXZWVrc319Ij48YnV0dG9uIGlkPSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIHJvbGU9ImhlYWRpbmciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xpY2s9InRvZ2dsZU1vZGUoKSIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0id2lkdGg6MTAwJTsiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCIgbmctY2xpY2s9Im1vdmUoMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgPC90cj5cbiAgICA8dHI+XG4gICAgICA8dGggbmctc2hvdz0ic2hvd1dlZWtzIiBjbGFzcz0idGV4dC1jZW50ZXIiPjwvdGg+XG4gICAgICA8dGggbmctcmVwZWF0PSJsYWJlbCBpbiBsYWJlbHMgdHJhY2sgYnkgJGluZGV4IiBjbGFzcz0idGV4dC1jZW50ZXIiPjxzbWFsbCBhcmlhLWxhYmVsPSJ7e2xhYmVsLmZ1bGx9fSI+e3tsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBuZy1yZXBlYXQ9InJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleCI+XG4gICAgICA8dGQgbmctc2hvdz0ic2hvd1dlZWtzIiBjbGFzcz0idGV4dC1jZW50ZXIgaDYiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxuICAgICAgPHRkIG5nLXJlcGVhdD0iZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGUiIGNsYXNzPSJ0ZXh0LWNlbnRlciIgcm9sZT0iZ3JpZGNlbGwiIGlkPSJ7e2R0LnVpZH19IiBhcmlhLWRpc2FibGVkPSJ7eyEhZHQuZGlzYWJsZWR9fSI+XG4gICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBzdHlsZT0id2lkdGg6MTAwJTsiIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGFzcz0ie1wnYnRuLWluZm9cJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfSIgbmctY2xpY2s9InNlbGVjdChkdC5kYXRlKSIgbmctZGlzYWJsZWQ9ImR0LmRpc2FibGVkIiB0YWJpbmRleD0iLTEiPjxzcGFuIG5nLWNsYXNzPSJ7XCd0ZXh0LW11dGVkXCc6IGR0LnNlY29uZGFyeSwgXCd0ZXh0LWluZm9cJzogZHQuY3VycmVudH0iPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cbiAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIsJzx0YWJsZSByb2xlPSJncmlkIiBhcmlhLWxhYmVsbGVkYnk9Int7dW5pcXVlSWR9fS10aXRsZSIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PSJ7e2FjdGl2ZURhdGVJZH19Ij5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0IiBuZy1jbGljaz0ibW92ZSgtMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIGlkPSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIHJvbGU9ImhlYWRpbmciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xpY2s9InRvZ2dsZU1vZGUoKSIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0id2lkdGg6MTAwJTsiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCIgbmctY2xpY2s9Im1vdmUoMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBuZy1yZXBlYXQ9InJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleCI+XG4gICAgICA8dGQgbmctcmVwZWF0PSJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZSIgY2xhc3M9InRleHQtY2VudGVyIiByb2xlPSJncmlkY2VsbCIgaWQ9Int7ZHQudWlkfX0iIGFyaWEtZGlzYWJsZWQ9Int7ISFkdC5kaXNhYmxlZH19Ij5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIHN0eWxlPSJ3aWR0aDoxMDAlOyIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCIgbmctY2xhc3M9IntcJ2J0bi1pbmZvXCc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX0iIG5nLWNsaWNrPSJzZWxlY3QoZHQuZGF0ZSkiIG5nLWRpc2FibGVkPSJkdC5kaXNhYmxlZCIgdGFiaW5kZXg9Ii0xIj48c3BhbiBuZy1jbGFzcz0ie1wndGV4dC1pbmZvXCc6IGR0LmN1cnJlbnR9Ij57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLCc8dWwgY2xhc3M9ImRyb3Bkb3duLW1lbnUiIG5nLXN0eWxlPSJ7ZGlzcGxheTogKGlzT3BlbiAmJiBcJ2Jsb2NrXCcpIHx8IFwnbm9uZVwnLCB0b3A6IHBvc2l0aW9uLnRvcCtcJ3B4XCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrXCdweFwnfSIgbmcta2V5ZG93bj0ia2V5ZG93bigkZXZlbnQpIj5cbgk8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxuCTxsaSBuZy1pZj0ic2hvd0J1dHRvbkJhciIgc3R5bGU9InBhZGRpbmc6MTBweCA5cHggMnB4Ij5cbgkJPHNwYW4gY2xhc3M9ImJ0bi1ncm91cCI+XG4JCQk8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLWluZm8iIG5nLWNsaWNrPSJzZWxlY3QoXCd0b2RheVwnKSI+e3sgZ2V0VGV4dChcJ2N1cnJlbnRcJykgfX08L2J1dHRvbj5cbgkJCTxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIiBuZy1jbGljaz0ic2VsZWN0KG51bGwpIj57eyBnZXRUZXh0KFwnY2xlYXJcJykgfX08L2J1dHRvbj5cbgkJPC9zcGFuPlxuCQk8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodCIgbmctY2xpY2s9ImNsb3NlKCkiPnt7IGdldFRleHQoXCdjbG9zZVwnKSB9fTwvYnV0dG9uPlxuCTwvbGk+XG48L3VsPlxuJykKfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsJzx0YWJsZSByb2xlPSJncmlkIiBhcmlhLWxhYmVsbGVkYnk9Int7dW5pcXVlSWR9fS10aXRsZSIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PSJ7e2FjdGl2ZURhdGVJZH19Ij5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0IiBuZy1jbGljaz0ibW92ZSgtMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aCBjb2xzcGFuPSIzIj48YnV0dG9uIGlkPSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIHJvbGU9ImhlYWRpbmciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xpY2s9InRvZ2dsZU1vZGUoKSIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0id2lkdGg6MTAwJTsiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCIgbmctY2xpY2s9Im1vdmUoMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBuZy1yZXBlYXQ9InJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleCI+XG4gICAgICA8dGQgbmctcmVwZWF0PSJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZSIgY2xhc3M9InRleHQtY2VudGVyIiByb2xlPSJncmlkY2VsbCIgaWQ9Int7ZHQudWlkfX0iIGFyaWEtZGlzYWJsZWQ9Int7ISFkdC5kaXNhYmxlZH19Ij5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIHN0eWxlPSJ3aWR0aDoxMDAlOyIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCIgbmctY2xhc3M9IntcJ2J0bi1pbmZvXCc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX0iIG5nLWNsaWNrPSJzZWxlY3QoZHQuZGF0ZSkiIG5nLWRpc2FibGVkPSJkdC5kaXNhYmxlZCIgdGFiaW5kZXg9Ii0xIj48c3BhbiBuZy1jbGFzcz0ie1wndGV4dC1pbmZvXCc6IGR0LmN1cnJlbnR9Ij57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsJzxkaXYgY2xhc3M9Im1vZGFsLWJhY2tkcm9wIGZhZGUge3sgYmFja2Ryb3BDbGFzcyB9fSJcbiAgICAgbmctY2xhc3M9IntpbjogYW5pbWF0ZX0iXG4gICAgIG5nLXN0eWxlPSJ7XCd6LWluZGV4XCc6IDEwNDAgKyAoaW5kZXggJiYgMSB8fCAwKSArIGluZGV4KjEwfSJcbj48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCIsJzxkaXYgdGFiaW5kZXg9Ii0xIiByb2xlPSJkaWFsb2ciIGNsYXNzPSJtb2RhbCBmYWRlIiBuZy1jbGFzcz0ie2luOiBhbmltYXRlfSIgbmctc3R5bGU9IntcJ3otaW5kZXhcJzogMTA1MCArIGluZGV4KjEwLCBkaXNwbGF5OiBcJ2Jsb2NrXCd9IiBuZy1jbGljaz0iY2xvc2UoJGV2ZW50KSI+XG4gICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIiBuZy1jbGFzcz0ie1wnbW9kYWwtc21cJzogc2l6ZSA9PSBcJ3NtXCcsIFwnbW9kYWwtbGdcJzogc2l6ZSA9PSBcJ2xnXCd9Ij48ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBtb2RhbC10cmFuc2NsdWRlPjwvZGl2PjwvZGl2PlxuPC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLCc8dWwgY2xhc3M9InBhZ2VyIj5cbiAgPGxpIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKSwgcHJldmlvdXM6IGFsaWdufSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlIC0gMSkiPnt7Z2V0VGV4dChcJ3ByZXZpb3VzXCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vTmV4dCgpLCBuZXh0OiBhbGlnbn0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZSArIDEpIj57e2dldFRleHQoXCduZXh0XCcpfX08L2E+PC9saT5cbjwvdWw+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIiwnPHVsIGNsYXNzPSJwYWdpbmF0aW9uIj5cbiAgPGxpIG5nLWlmPSJib3VuZGFyeUxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKDEpIj57e2dldFRleHQoXCdmaXJzdFwnKX19PC9hPjwvbGk+XG4gIDxsaSBuZy1pZj0iZGlyZWN0aW9uTGlua3MiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKX0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZSAtIDEpIj57e2dldFRleHQoXCdwcmV2aW91c1wnKX19PC9hPjwvbGk+XG4gIDxsaSBuZy1yZXBlYXQ9InBhZ2UgaW4gcGFnZXMgdHJhY2sgYnkgJGluZGV4IiBuZy1jbGFzcz0ie2FjdGl2ZTogcGFnZS5hY3RpdmV9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UubnVtYmVyKSI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxuICA8bGkgbmctaWY9ImRpcmVjdGlvbkxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub05leHQoKX0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZSArIDEpIj57e2dldFRleHQoXCduZXh0XCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLWlmPSJib3VuZGFyeUxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub05leHQoKX0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UodG90YWxQYWdlcykiPnt7Z2V0VGV4dChcJ2xhc3RcJyl9fTwvYT48L2xpPlxuPC91bD4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwiLCc8ZGl2IGNsYXNzPSJ0b29sdGlwIHt7cGxhY2VtZW50fX0iIG5nLWNsYXNzPSJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfSI+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIiBiaW5kLWh0bWwtdW5zYWZlPSJjb250ZW50Ij48L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIiwnPGRpdiBjbGFzcz0idG9vbHRpcCB7e3BsYWNlbWVudH19IiBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCksIGZhZGU6IGFuaW1hdGlvbigpIH0iPlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciIgbmctYmluZD0iY29udGVudCI+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCIsJzxkaXYgY2xhc3M9InBvcG92ZXIge3twbGFjZW1lbnR9fSIgbmctY2xhc3M9InsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9Ij5cbiAgPGRpdiBjbGFzcz0iYXJyb3ciPjwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9InBvcG92ZXItaW5uZXIiPlxuICAgICAgPGgzIGNsYXNzPSJwb3BvdmVyLXRpdGxlIiBuZy1iaW5kPSJ0aXRsZSIgbmctc2hvdz0idGl0bGUiPjwvaDM+XG4gICAgICA8ZGl2IGNsYXNzPSJwb3BvdmVyLWNvbnRlbnQiIG5nLWJpbmQ9ImNvbnRlbnQiPjwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIiwnPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIiBuZy1jbGFzcz0idHlwZSAmJiBcJ3Byb2dyZXNzLWJhci1cJyArIHR5cGUiIHJvbGU9InByb2dyZXNzYmFyIiBhcmlhLXZhbHVlbm93PSJ7e3ZhbHVlfX0iIGFyaWEtdmFsdWVtaW49IjAiIGFyaWEtdmFsdWVtYXg9Int7bWF4fX0iIG5nLXN0eWxlPSJ7d2lkdGg6IHBlcmNlbnQgKyBcJyVcJ30iIGFyaWEtdmFsdWV0ZXh0PSJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JSIgbmctdHJhbnNjbHVkZT48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIiwnPGRpdiBjbGFzcz0icHJvZ3Jlc3MiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsJzxkaXYgY2xhc3M9InByb2dyZXNzIj5cbiAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIiBuZy1jbGFzcz0idHlwZSAmJiBcJ3Byb2dyZXNzLWJhci1cJyArIHR5cGUiIHJvbGU9InByb2dyZXNzYmFyIiBhcmlhLXZhbHVlbm93PSJ7e3ZhbHVlfX0iIGFyaWEtdmFsdWVtaW49IjAiIGFyaWEtdmFsdWVtYXg9Int7bWF4fX0iIG5nLXN0eWxlPSJ7d2lkdGg6IHBlcmNlbnQgKyBcJyVcJ30iIGFyaWEtdmFsdWV0ZXh0PSJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JSIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIiwnPHNwYW4gbmctbW91c2VsZWF2ZT0icmVzZXQoKSIgbmcta2V5ZG93bj0ib25LZXlkb3duKCRldmVudCkiIHRhYmluZGV4PSIwIiByb2xlPSJzbGlkZXIiIGFyaWEtdmFsdWVtaW49IjAiIGFyaWEtdmFsdWVtYXg9Int7cmFuZ2UubGVuZ3RofX0iIGFyaWEtdmFsdWVub3c9Int7dmFsdWV9fSI+XG4gICAgPGkgbmctcmVwZWF0PSJyIGluIHJhbmdlIHRyYWNrIGJ5ICRpbmRleCIgbmctbW91c2VlbnRlcj0iZW50ZXIoJGluZGV4ICsgMSkiIG5nLWNsaWNrPSJyYXRlKCRpbmRleCArIDEpIiBjbGFzcz0iZ2x5cGhpY29uIiBuZy1jbGFzcz0iJGluZGV4IDwgdmFsdWUgJiYgKHIuc3RhdGVPbiB8fCBcJ2dseXBoaWNvbi1zdGFyXCcpIHx8IChyLnN0YXRlT2ZmIHx8IFwnZ2x5cGhpY29uLXN0YXItZW1wdHlcJykiPlxuICAgICAgICA8c3BhbiBjbGFzcz0ic3Itb25seSI+KHt7ICRpbmRleCA8IHZhbHVlID8gXCcqXCcgOiBcJyBcJyB9fSk8L3NwYW4+XG4gICAgPC9pPlxuPC9zcGFuPicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLCc8bGkgbmctY2xhc3M9InthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfSI+XG4gIDxhIG5nLWNsaWNrPSJzZWxlY3QoKSIgdGFiLWhlYWRpbmctdHJhbnNjbHVkZT57e2hlYWRpbmd9fTwvYT5cbjwvbGk+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sIiwnPGRpdj5cbiAgPHVsIGNsYXNzPSJuYXYgbmF2LXt7dHlwZSB8fCBcJ3RhYnNcJ319IiBuZy1jbGFzcz0ie1wnbmF2LXN0YWNrZWRcJzogdmVydGljYWwsIFwnbmF2LWp1c3RpZmllZFwnOiBqdXN0aWZpZWR9IiBuZy10cmFuc2NsdWRlPjwvdWw+XG4gIDxkaXYgY2xhc3M9InRhYi1jb250ZW50Ij5cbiAgICA8ZGl2IGNsYXNzPSJ0YWItcGFuZSIgXG4gICAgICAgICBuZy1yZXBlYXQ9InRhYiBpbiB0YWJzIiBcbiAgICAgICAgIG5nLWNsYXNzPSJ7YWN0aXZlOiB0YWIuYWN0aXZlfSJcbiAgICAgICAgIHRhYi1jb250ZW50LXRyYW5zY2x1ZGU9InRhYiI+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLCc8dGFibGU+XG4JPHRib2R5PlxuCQk8dHIgY2xhc3M9InRleHQtY2VudGVyIj5cbgkJCTx0ZD48YSBuZy1jbGljaz0iaW5jcmVtZW50SG91cnMoKSIgY2xhc3M9ImJ0biBidG4tbGluayI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCI+PC9zcGFuPjwvYT48L3RkPlxuCQkJPHRkPiZuYnNwOzwvdGQ+XG4JCQk8dGQ+PGEgbmctY2xpY2s9ImluY3JlbWVudE1pbnV0ZXMoKSIgY2xhc3M9ImJ0biBidG4tbGluayI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCI+PC9zcGFuPjwvYT48L3RkPlxuCQkJPHRkIG5nLXNob3c9InNob3dNZXJpZGlhbiI+PC90ZD5cbgkJPC90cj5cbgkJPHRyPlxuCQkJPHRkIHN0eWxlPSJ3aWR0aDo1MHB4OyIgY2xhc3M9ImZvcm0tZ3JvdXAiIG5nLWNsYXNzPSJ7XCdoYXMtZXJyb3JcJzogaW52YWxpZEhvdXJzfSI+XG4JCQkJPGlucHV0IHR5cGU9InRleHQiIG5nLW1vZGVsPSJob3VycyIgbmctY2hhbmdlPSJ1cGRhdGVIb3VycygpIiBjbGFzcz0iZm9ybS1jb250cm9sIHRleHQtY2VudGVyIiBuZy1tb3VzZXdoZWVsPSJpbmNyZW1lbnRIb3VycygpIiBuZy1yZWFkb25seT0icmVhZG9ubHlJbnB1dCIgbWF4bGVuZ3RoPSIyIj5cbgkJCTwvdGQ+XG4JCQk8dGQ+OjwvdGQ+XG4JCQk8dGQgc3R5bGU9IndpZHRoOjUwcHg7IiBjbGFzcz0iZm9ybS1ncm91cCIgbmctY2xhc3M9IntcJ2hhcy1lcnJvclwnOiBpbnZhbGlkTWludXRlc30iPlxuCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0ibWludXRlcyIgbmctY2hhbmdlPSJ1cGRhdGVNaW51dGVzKCkiIGNsYXNzPSJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXIiIG5nLXJlYWRvbmx5PSJyZWFkb25seUlucHV0IiBtYXhsZW5ndGg9IjIiPlxuCQkJPC90ZD5cbgkJCTx0ZCBuZy1zaG93PSJzaG93TWVyaWRpYW4iPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IHRleHQtY2VudGVyIiBuZy1jbGljaz0idG9nZ2xlTWVyaWRpYW4oKSI+e3ttZXJpZGlhbn19PC9idXR0b24+PC90ZD5cbgkJPC90cj5cbgkJPHRyIGNsYXNzPSJ0ZXh0LWNlbnRlciI+XG4JCQk8dGQ+PGEgbmctY2xpY2s9ImRlY3JlbWVudEhvdXJzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93biI+PC9zcGFuPjwvYT48L3RkPlxuCQkJPHRkPiZuYnNwOzwvdGQ+XG4JCQk8dGQ+PGEgbmctY2xpY2s9ImRlY3JlbWVudE1pbnV0ZXMoKSIgY2xhc3M9ImJ0biBidG4tbGluayI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duIj48L3NwYW4+PC9hPjwvdGQ+XG4JCQk8dGQgbmctc2hvdz0ic2hvd01lcmlkaWFuIj48L3RkPlxuCQk8L3RyPlxuCTwvdGJvZHk+XG48L3RhYmxlPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLCc8YSB0YWJpbmRleD0iLTEiIGJpbmQtaHRtbC11bnNhZmU9Im1hdGNoLmxhYmVsIHwgdHlwZWFoZWFkSGlnaGxpZ2h0OnF1ZXJ5Ij48L2E+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiLCc8dWwgY2xhc3M9ImRyb3Bkb3duLW1lbnUiIG5nLXNob3c9ImlzT3BlbigpIiBuZy1zdHlsZT0ie3RvcDogcG9zaXRpb24udG9wK1wncHhcJywgbGVmdDogcG9zaXRpb24ubGVmdCtcJ3B4XCd9IiBzdHlsZT0iZGlzcGxheTogYmxvY2s7IiByb2xlPSJsaXN0Ym94IiBhcmlhLWhpZGRlbj0ie3shaXNPcGVuKCl9fSI+XG4gICAgPGxpIG5nLXJlcGVhdD0ibWF0Y2ggaW4gbWF0Y2hlcyB0cmFjayBieSAkaW5kZXgiIG5nLWNsYXNzPSJ7YWN0aXZlOiBpc0FjdGl2ZSgkaW5kZXgpIH0iIG5nLW1vdXNlZW50ZXI9InNlbGVjdEFjdGl2ZSgkaW5kZXgpIiBuZy1jbGljaz0ic2VsZWN0TWF0Y2goJGluZGV4KSIgcm9sZT0ib3B0aW9uIiBpZD0ie3ttYXRjaC5pZH19Ij5cbiAgICAgICAgPGRpdiB0eXBlYWhlYWQtbWF0Y2ggaW5kZXg9IiRpbmRleCIgbWF0Y2g9Im1hdGNoIiBxdWVyeT0icXVlcnkiIHRlbXBsYXRlLXVybD0idGVtcGxhdGVVcmwiPjwvZGl2PlxuICAgIDwvbGk+XG48L3VsPlxuJyl9XSksZnVuY3Rpb24oKXtmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXgpe2Zvcih2YXIgaW5kZXg9KGZyb21JbmRleHx8MCktMSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7KytpbmRleDxsZW5ndGg7KWlmKGFycmF5W2luZGV4XT09PXZhbHVlKXJldHVybiBpbmRleDtyZXR1cm4tMX1mdW5jdGlvbiBjYWNoZUluZGV4T2YoY2FjaGUsdmFsdWUpe3ZhciB0eXBlPXR5cGVvZiB2YWx1ZTtpZihjYWNoZT1jYWNoZS5jYWNoZSwiYm9vbGVhbiI9PXR5cGV8fG51bGw9PXZhbHVlKXJldHVybiBjYWNoZVt2YWx1ZV0/MDotMTsibnVtYmVyIiE9dHlwZSYmInN0cmluZyIhPXR5cGUmJih0eXBlPSJvYmplY3QiKTt2YXIga2V5PSJudW1iZXIiPT10eXBlP3ZhbHVlOmtleVByZWZpeCt2YWx1ZTtyZXR1cm4gY2FjaGU9KGNhY2hlPWNhY2hlW3R5cGVdKSYmY2FjaGVba2V5XSwib2JqZWN0Ij09dHlwZT9jYWNoZSYmYmFzZUluZGV4T2YoY2FjaGUsdmFsdWUpPi0xPzA6LTE6Y2FjaGU/MDotMX1mdW5jdGlvbiBjYWNoZVB1c2godmFsdWUpe3ZhciBjYWNoZT10aGlzLmNhY2hlLHR5cGU9dHlwZW9mIHZhbHVlO2lmKCJib29sZWFuIj09dHlwZXx8bnVsbD09dmFsdWUpY2FjaGVbdmFsdWVdPSEwO2Vsc2V7Im51bWJlciIhPXR5cGUmJiJzdHJpbmciIT10eXBlJiYodHlwZT0ib2JqZWN0Iik7dmFyIGtleT0ibnVtYmVyIj09dHlwZT92YWx1ZTprZXlQcmVmaXgrdmFsdWUsdHlwZUNhY2hlPWNhY2hlW3R5cGVdfHwoY2FjaGVbdHlwZV09e30pOyJvYmplY3QiPT10eXBlPyh0eXBlQ2FjaGVba2V5XXx8KHR5cGVDYWNoZVtrZXldPVtdKSkucHVzaCh2YWx1ZSk6dHlwZUNhY2hlW2tleV09ITB9fWZ1bmN0aW9uIGNoYXJBdENhbGxiYWNrKHZhbHVlKXtyZXR1cm4gdmFsdWUuY2hhckNvZGVBdCgwKX1mdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKGEsYil7Zm9yKHZhciBhYz1hLmNyaXRlcmlhLGJjPWIuY3JpdGVyaWEsaW5kZXg9LTEsbGVuZ3RoPWFjLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1hY1tpbmRleF0sb3RoZXI9YmNbaW5kZXhdO2lmKHZhbHVlIT09b3RoZXIpe2lmKHZhbHVlPm90aGVyfHwidW5kZWZpbmVkIj09dHlwZW9mIHZhbHVlKXJldHVybiAxO2lmKG90aGVyPnZhbHVlfHwidW5kZWZpbmVkIj09dHlwZW9mIG90aGVyKXJldHVybi0xfX1yZXR1cm4gYS5pbmRleC1iLmluZGV4fWZ1bmN0aW9uIGNyZWF0ZUNhY2hlKGFycmF5KXt2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aCxmaXJzdD1hcnJheVswXSxtaWQ9YXJyYXlbbGVuZ3RoLzJ8MF0sbGFzdD1hcnJheVtsZW5ndGgtMV07aWYoZmlyc3QmJiJvYmplY3QiPT10eXBlb2YgZmlyc3QmJm1pZCYmIm9iamVjdCI9PXR5cGVvZiBtaWQmJmxhc3QmJiJvYmplY3QiPT10eXBlb2YgbGFzdClyZXR1cm4hMTt2YXIgY2FjaGU9Z2V0T2JqZWN0KCk7Y2FjaGVbImZhbHNlIl09Y2FjaGVbIm51bGwiXT1jYWNoZVsidHJ1ZSJdPWNhY2hlLnVuZGVmaW5lZD0hMTt2YXIgcmVzdWx0PWdldE9iamVjdCgpO2ZvcihyZXN1bHQuYXJyYXk9YXJyYXkscmVzdWx0LmNhY2hlPWNhY2hlLHJlc3VsdC5wdXNoPWNhY2hlUHVzaDsrK2luZGV4PGxlbmd0aDspcmVzdWx0LnB1c2goYXJyYXlbaW5kZXhdKTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIobWF0Y2gpe3JldHVybiJcXCIrc3RyaW5nRXNjYXBlc1ttYXRjaF19ZnVuY3Rpb24gZ2V0QXJyYXkoKXtyZXR1cm4gYXJyYXlQb29sLnBvcCgpfHxbXX1mdW5jdGlvbiBnZXRPYmplY3QoKXtyZXR1cm4gb2JqZWN0UG9vbC5wb3AoKXx8e2FycmF5Om51bGwsY2FjaGU6bnVsbCxjcml0ZXJpYTpudWxsLCJmYWxzZSI6ITEsaW5kZXg6MCwibnVsbCI6ITEsbnVtYmVyOm51bGwsb2JqZWN0Om51bGwscHVzaDpudWxsLHN0cmluZzpudWxsLCJ0cnVlIjohMSx1bmRlZmluZWQ6ITEsdmFsdWU6bnVsbH19ZnVuY3Rpb24gaXNOb2RlKHZhbHVlKXtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgdmFsdWUudG9TdHJpbmcmJiJzdHJpbmciPT10eXBlb2YodmFsdWUrIiIpfWZ1bmN0aW9uIHJlbGVhc2VBcnJheShhcnJheSl7YXJyYXkubGVuZ3RoPTAsYXJyYXlQb29sLmxlbmd0aDxtYXhQb29sU2l6ZSYmYXJyYXlQb29sLnB1c2goYXJyYXkpfWZ1bmN0aW9uIHJlbGVhc2VPYmplY3Qob2JqZWN0KXt2YXIgY2FjaGU9b2JqZWN0LmNhY2hlO2NhY2hlJiZyZWxlYXNlT2JqZWN0KGNhY2hlKSxvYmplY3QuYXJyYXk9b2JqZWN0LmNhY2hlPW9iamVjdC5jcml0ZXJpYT1vYmplY3Qub2JqZWN0PW9iamVjdC5udW1iZXI9b2JqZWN0LnN0cmluZz1vYmplY3QudmFsdWU9bnVsbCxvYmplY3RQb29sLmxlbmd0aDxtYXhQb29sU2l6ZSYmb2JqZWN0UG9vbC5wdXNoKG9iamVjdCl9ZnVuY3Rpb24gc2xpY2UoYXJyYXksc3RhcnQsZW5kKXtzdGFydHx8KHN0YXJ0PTApLCJ1bmRlZmluZWQiPT10eXBlb2YgZW5kJiYoZW5kPWFycmF5P2FycmF5Lmxlbmd0aDowKTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1lbmQtc3RhcnR8fDAscmVzdWx0PUFycmF5KDA+bGVuZ3RoPzA6bGVuZ3RoKTsrK2luZGV4PGxlbmd0aDspcmVzdWx0W2luZGV4XT1hcnJheVtzdGFydCtpbmRleF07cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCl7ZnVuY3Rpb24gbG9kYXNoKHZhbHVlKXtyZXR1cm4gdmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWUmJiFpc0FycmF5KHZhbHVlKSYmaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwiX193cmFwcGVkX18iKT92YWx1ZTpuZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSl9ZnVuY3Rpb24gbG9kYXNoV3JhcHBlcih2YWx1ZSxjaGFpbkFsbCl7dGhpcy5fX2NoYWluX189ISFjaGFpbkFsbCx0aGlzLl9fd3JhcHBlZF9fPXZhbHVlfWZ1bmN0aW9uIGJhc2VCaW5kKGJpbmREYXRhKXtmdW5jdGlvbiBib3VuZCgpe2lmKHBhcnRpYWxBcmdzKXt2YXIgYXJncz1zbGljZShwYXJ0aWFsQXJncyk7cHVzaC5hcHBseShhcmdzLGFyZ3VtZW50cyl9aWYodGhpcyBpbnN0YW5jZW9mIGJvdW5kKXt2YXIgdGhpc0JpbmRpbmc9YmFzZUNyZWF0ZShmdW5jLnByb3RvdHlwZSkscmVzdWx0PWZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsYXJnc3x8YXJndW1lbnRzKTtyZXR1cm4gaXNPYmplY3QocmVzdWx0KT9yZXN1bHQ6dGhpc0JpbmRpbmd9cmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZyxhcmdzfHxhcmd1bWVudHMpfXZhciBmdW5jPWJpbmREYXRhWzBdLHBhcnRpYWxBcmdzPWJpbmREYXRhWzJdLHRoaXNBcmc9YmluZERhdGFbNF07cmV0dXJuIHNldEJpbmREYXRhKGJvdW5kLGJpbmREYXRhKSxib3VuZH1mdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsaXNEZWVwLGNhbGxiYWNrLHN0YWNrQSxzdGFja0Ipe2lmKGNhbGxiYWNrKXt2YXIgcmVzdWx0PWNhbGxiYWNrKHZhbHVlKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHJlc3VsdClyZXR1cm4gcmVzdWx0fXZhciBpc09iaj1pc09iamVjdCh2YWx1ZSk7aWYoIWlzT2JqKXJldHVybiB2YWx1ZTt2YXIgY2xhc3NOYW1lPXRvU3RyaW5nLmNhbGwodmFsdWUpO2lmKCFjbG9uZWFibGVDbGFzc2VzW2NsYXNzTmFtZV18fCFzdXBwb3J0Lm5vZGVDbGFzcyYmaXNOb2RlKHZhbHVlKSlyZXR1cm4gdmFsdWU7dmFyIGN0b3I9Y3RvckJ5Q2xhc3NbY2xhc3NOYW1lXTtzd2l0Y2goY2xhc3NOYW1lKXtjYXNlIGJvb2xDbGFzczpjYXNlIGRhdGVDbGFzczpyZXR1cm4gbmV3IGN0b3IoK3ZhbHVlKTtjYXNlIG51bWJlckNsYXNzOmNhc2Ugc3RyaW5nQ2xhc3M6cmV0dXJuIG5ldyBjdG9yKHZhbHVlKTtjYXNlIHJlZ2V4cENsYXNzOnJldHVybiByZXN1bHQ9Y3Rvcih2YWx1ZS5zb3VyY2UscmVGbGFncy5leGVjKHZhbHVlKSkscmVzdWx0Lmxhc3RJbmRleD12YWx1ZS5sYXN0SW5kZXgscmVzdWx0fXZhciBpc0Fycj1pc0FycmF5KHZhbHVlKTtpZihpc0RlZXApe3ZhciBpbml0ZWRTdGFjaz0hc3RhY2tBO3N0YWNrQXx8KHN0YWNrQT1nZXRBcnJheSgpKSxzdGFja0J8fChzdGFja0I9Z2V0QXJyYXkoKSk7Zm9yKHZhciBsZW5ndGg9c3RhY2tBLmxlbmd0aDtsZW5ndGgtLTspaWYoc3RhY2tBW2xlbmd0aF09PXZhbHVlKXJldHVybiBzdGFja0JbbGVuZ3RoXTtyZXN1bHQ9aXNBcnI/Y3Rvcih2YWx1ZS5sZW5ndGgpOnt9fWVsc2UgcmVzdWx0PWlzQXJyP3NsaWNlKHZhbHVlKTphc3NpZ24oe30sdmFsdWUpO3JldHVybiBpc0FyciYmKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsImluZGV4IikmJihyZXN1bHQuaW5kZXg9dmFsdWUuaW5kZXgpLGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsImlucHV0IikmJihyZXN1bHQuaW5wdXQ9dmFsdWUuaW5wdXQpKSxpc0RlZXA/KHN0YWNrQS5wdXNoKHZhbHVlKSxzdGFja0IucHVzaChyZXN1bHQpLChpc0Fycj9iYXNlRWFjaDpmb3JPd24pKHZhbHVlLGZ1bmN0aW9uKG9ialZhbHVlLGtleSl7cmVzdWx0W2tleV09YmFzZUNsb25lKG9ialZhbHVlLGlzRGVlcCxjYWxsYmFjayxzdGFja0Esc3RhY2tCKX0pLGluaXRlZFN0YWNrJiYocmVsZWFzZUFycmF5KHN0YWNrQSkscmVsZWFzZUFycmF5KHN0YWNrQikpLHJlc3VsdCk6cmVzdWx0fWZ1bmN0aW9uIGJhc2VDcmVhdGUocHJvdG90eXBlKXtyZXR1cm4gaXNPYmplY3QocHJvdG90eXBlKT9uYXRpdmVDcmVhdGUocHJvdG90eXBlKTp7fX1mdW5jdGlvbiBiYXNlQ3JlYXRlQ2FsbGJhY2soZnVuYyx0aGlzQXJnLGFyZ0NvdW50KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZnVuYylyZXR1cm4gaWRlbnRpdHk7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzQXJnfHwhKCJwcm90b3R5cGUiaW4gZnVuYykpcmV0dXJuIGZ1bmM7dmFyIGJpbmREYXRhPWZ1bmMuX19iaW5kRGF0YV9fO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgYmluZERhdGEmJihzdXBwb3J0LmZ1bmNOYW1lcyYmKGJpbmREYXRhPSFmdW5jLm5hbWUpLGJpbmREYXRhPWJpbmREYXRhfHwhc3VwcG9ydC5mdW5jRGVjb21wLCFiaW5kRGF0YSkpe3ZhciBzb3VyY2U9Zm5Ub1N0cmluZy5jYWxsKGZ1bmMpO3N1cHBvcnQuZnVuY05hbWVzfHwoYmluZERhdGE9IXJlRnVuY05hbWUudGVzdChzb3VyY2UpKSxiaW5kRGF0YXx8KGJpbmREYXRhPXJlVGhpcy50ZXN0KHNvdXJjZSksc2V0QmluZERhdGEoZnVuYyxiaW5kRGF0YSkpfWlmKGJpbmREYXRhPT09ITF8fGJpbmREYXRhIT09ITAmJjEmYmluZERhdGFbMV0pcmV0dXJuIGZ1bmM7c3dpdGNoKGFyZ0NvdW50KXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsdmFsdWUpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLGEsYil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pfTtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKGFjY3VtdWxhdG9yLHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiBmdW5jLmNhbGwodGhpc0FyZyxhY2N1bXVsYXRvcix2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX19cmV0dXJuIGJpbmQoZnVuYyx0aGlzQXJnKX1mdW5jdGlvbiBiYXNlQ3JlYXRlV3JhcHBlcihiaW5kRGF0YSl7ZnVuY3Rpb24gYm91bmQoKXt2YXIgdGhpc0JpbmRpbmc9aXNCaW5kP3RoaXNBcmc6dGhpcztpZihwYXJ0aWFsQXJncyl7dmFyIGFyZ3M9c2xpY2UocGFydGlhbEFyZ3MpO3B1c2guYXBwbHkoYXJncyxhcmd1bWVudHMpfWlmKChwYXJ0aWFsUmlnaHRBcmdzfHxpc0N1cnJ5KSYmKGFyZ3N8fChhcmdzPXNsaWNlKGFyZ3VtZW50cykpLHBhcnRpYWxSaWdodEFyZ3MmJnB1c2guYXBwbHkoYXJncyxwYXJ0aWFsUmlnaHRBcmdzKSxpc0N1cnJ5JiZhcmdzLmxlbmd0aDxhcml0eSkpcmV0dXJuIGJpdG1hc2t8PTE2LGJhc2VDcmVhdGVXcmFwcGVyKFtmdW5jLGlzQ3VycnlCb3VuZD9iaXRtYXNrOi00JmJpdG1hc2ssYXJncyxudWxsLHRoaXNBcmcsYXJpdHldKTtpZihhcmdzfHwoYXJncz1hcmd1bWVudHMpLGlzQmluZEtleSYmKGZ1bmM9dGhpc0JpbmRpbmdba2V5XSksdGhpcyBpbnN0YW5jZW9mIGJvdW5kKXt0aGlzQmluZGluZz1iYXNlQ3JlYXRlKGZ1bmMucHJvdG90eXBlKTt2YXIgcmVzdWx0PWZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsYXJncyk7cmV0dXJuIGlzT2JqZWN0KHJlc3VsdCk/cmVzdWx0OnRoaXNCaW5kaW5nfXJldHVybiBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLGFyZ3MpfXZhciBmdW5jPWJpbmREYXRhWzBdLGJpdG1hc2s9YmluZERhdGFbMV0scGFydGlhbEFyZ3M9YmluZERhdGFbMl0scGFydGlhbFJpZ2h0QXJncz1iaW5kRGF0YVszXSx0aGlzQXJnPWJpbmREYXRhWzRdLGFyaXR5PWJpbmREYXRhWzVdLGlzQmluZD0xJmJpdG1hc2ssaXNCaW5kS2V5PTImYml0bWFzayxpc0N1cnJ5PTQmYml0bWFzayxpc0N1cnJ5Qm91bmQ9OCZiaXRtYXNrLGtleT1mdW5jO3JldHVybiBzZXRCaW5kRGF0YShib3VuZCxiaW5kRGF0YSksYm91bmR9ZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksdmFsdWVzKXt2YXIgaW5kZXg9LTEsaW5kZXhPZj1nZXRJbmRleE9mKCksbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowLGlzTGFyZ2U9bGVuZ3RoPj1sYXJnZUFycmF5U2l6ZSYmaW5kZXhPZj09PWJhc2VJbmRleE9mLHJlc3VsdD1bXTtpZihpc0xhcmdlKXt2YXIgY2FjaGU9Y3JlYXRlQ2FjaGUodmFsdWVzKTtjYWNoZT8oaW5kZXhPZj1jYWNoZUluZGV4T2YsdmFsdWVzPWNhY2hlKTppc0xhcmdlPSExfWZvcig7KytpbmRleDxsZW5ndGg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdO2luZGV4T2YodmFsdWVzLHZhbHVlKTwwJiZyZXN1bHQucHVzaCh2YWx1ZSl9cmV0dXJuIGlzTGFyZ2UmJnJlbGVhc2VPYmplY3QodmFsdWVzKSxyZXN1bHR9ZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksaXNTaGFsbG93LGlzU3RyaWN0LGZyb21JbmRleCl7Zm9yKHZhciBpbmRleD0oZnJvbUluZGV4fHwwKS0xLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MCxyZXN1bHQ9W107KytpbmRleDxsZW5ndGg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdO2lmKHZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIHZhbHVlJiYibnVtYmVyIj09dHlwZW9mIHZhbHVlLmxlbmd0aCYmKGlzQXJyYXkodmFsdWUpfHxpc0FyZ3VtZW50cyh2YWx1ZSkpKXtpc1NoYWxsb3d8fCh2YWx1ZT1iYXNlRmxhdHRlbih2YWx1ZSxpc1NoYWxsb3csaXNTdHJpY3QpKTt2YXIgdmFsSW5kZXg9LTEsdmFsTGVuZ3RoPXZhbHVlLmxlbmd0aCxyZXNJbmRleD1yZXN1bHQubGVuZ3RoO2ZvcihyZXN1bHQubGVuZ3RoKz12YWxMZW5ndGg7Kyt2YWxJbmRleDx2YWxMZW5ndGg7KXJlc3VsdFtyZXNJbmRleCsrXT12YWx1ZVt2YWxJbmRleF19ZWxzZSBpc1N0cmljdHx8cmVzdWx0LnB1c2godmFsdWUpfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYmFzZUlzRXF1YWwoYSxiLGNhbGxiYWNrLGlzV2hlcmUsc3RhY2tBLHN0YWNrQil7aWYoY2FsbGJhY2spe3ZhciByZXN1bHQ9Y2FsbGJhY2soYSxiKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHJlc3VsdClyZXR1cm4hIXJlc3VsdH1pZihhPT09YilyZXR1cm4gMCE9PWF8fDEvYT09MS9iO3ZhciB0eXBlPXR5cGVvZiBhLG90aGVyVHlwZT10eXBlb2YgYjtpZighKGEhPT1hfHxhJiZvYmplY3RUeXBlc1t0eXBlXXx8YiYmb2JqZWN0VHlwZXNbb3RoZXJUeXBlXSkpcmV0dXJuITE7aWYobnVsbD09YXx8bnVsbD09YilyZXR1cm4gYT09PWI7dmFyIGNsYXNzTmFtZT10b1N0cmluZy5jYWxsKGEpLG90aGVyQ2xhc3M9dG9TdHJpbmcuY2FsbChiKTtpZihjbGFzc05hbWU9PWFyZ3NDbGFzcyYmKGNsYXNzTmFtZT1vYmplY3RDbGFzcyksb3RoZXJDbGFzcz09YXJnc0NsYXNzJiYob3RoZXJDbGFzcz1vYmplY3RDbGFzcyksY2xhc3NOYW1lIT1vdGhlckNsYXNzKXJldHVybiExO3N3aXRjaChjbGFzc05hbWUpe2Nhc2UgYm9vbENsYXNzOmNhc2UgZGF0ZUNsYXNzOnJldHVybithPT0rYjtjYXNlIG51bWJlckNsYXNzOnJldHVybiBhIT0rYT9iIT0rYjowPT1hPzEvYT09MS9iOmE9PStiO2Nhc2UgcmVnZXhwQ2xhc3M6Y2FzZSBzdHJpbmdDbGFzczpyZXR1cm4gYT09U3RyaW5nKGIpfXZhciBpc0Fycj1jbGFzc05hbWU9PWFycmF5Q2xhc3M7aWYoIWlzQXJyKXt2YXIgYVdyYXBwZWQ9aGFzT3duUHJvcGVydHkuY2FsbChhLCJfX3dyYXBwZWRfXyIpLGJXcmFwcGVkPWhhc093blByb3BlcnR5LmNhbGwoYiwiX193cmFwcGVkX18iKTtpZihhV3JhcHBlZHx8YldyYXBwZWQpcmV0dXJuIGJhc2VJc0VxdWFsKGFXcmFwcGVkP2EuX193cmFwcGVkX186YSxiV3JhcHBlZD9iLl9fd3JhcHBlZF9fOmIsY2FsbGJhY2ssaXNXaGVyZSxzdGFja0Esc3RhY2tCKTtpZihjbGFzc05hbWUhPW9iamVjdENsYXNzfHwhc3VwcG9ydC5ub2RlQ2xhc3MmJihpc05vZGUoYSl8fGlzTm9kZShiKSkpcmV0dXJuITE7dmFyIGN0b3JBPSFzdXBwb3J0LmFyZ3NPYmplY3QmJmlzQXJndW1lbnRzKGEpP09iamVjdDphLmNvbnN0cnVjdG9yLGN0b3JCPSFzdXBwb3J0LmFyZ3NPYmplY3QmJmlzQXJndW1lbnRzKGIpP09iamVjdDpiLmNvbnN0cnVjdG9yO2lmKGN0b3JBIT1jdG9yQiYmIShpc0Z1bmN0aW9uKGN0b3JBKSYmY3RvckEgaW5zdGFuY2VvZiBjdG9yQSYmaXNGdW5jdGlvbihjdG9yQikmJmN0b3JCIGluc3RhbmNlb2YgY3RvckIpJiYiY29uc3RydWN0b3IiaW4gYSYmImNvbnN0cnVjdG9yImluIGIpcmV0dXJuITF9dmFyIGluaXRlZFN0YWNrPSFzdGFja0E7c3RhY2tBfHwoc3RhY2tBPWdldEFycmF5KCkpLHN0YWNrQnx8KHN0YWNrQj1nZXRBcnJheSgpKTtmb3IodmFyIGxlbmd0aD1zdGFja0EubGVuZ3RoO2xlbmd0aC0tOylpZihzdGFja0FbbGVuZ3RoXT09YSlyZXR1cm4gc3RhY2tCW2xlbmd0aF09PWI7dmFyIHNpemU9MDtpZihyZXN1bHQ9ITAsc3RhY2tBLnB1c2goYSksc3RhY2tCLnB1c2goYiksaXNBcnIpe2lmKGxlbmd0aD1hLmxlbmd0aCxzaXplPWIubGVuZ3RoLHJlc3VsdD1zaXplPT1sZW5ndGgscmVzdWx0fHxpc1doZXJlKWZvcig7c2l6ZS0tOyl7dmFyIGluZGV4PWxlbmd0aCx2YWx1ZT1iW3NpemVdO2lmKGlzV2hlcmUpZm9yKDtpbmRleC0tJiYhKHJlc3VsdD1iYXNlSXNFcXVhbChhW2luZGV4XSx2YWx1ZSxjYWxsYmFjayxpc1doZXJlLHN0YWNrQSxzdGFja0IpKTspO2Vsc2UgaWYoIShyZXN1bHQ9YmFzZUlzRXF1YWwoYVtzaXplXSx2YWx1ZSxjYWxsYmFjayxpc1doZXJlLHN0YWNrQSxzdGFja0IpKSlicmVha319ZWxzZSBmb3JJbihiLGZ1bmN0aW9uKHZhbHVlLGtleSxiKXtyZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChiLGtleSk/KHNpemUrKyxyZXN1bHQ9aGFzT3duUHJvcGVydHkuY2FsbChhLGtleSkmJmJhc2VJc0VxdWFsKGFba2V5XSx2YWx1ZSxjYWxsYmFjayxpc1doZXJlLHN0YWNrQSxzdGFja0IpKTp2b2lkIDB9KSxyZXN1bHQmJiFpc1doZXJlJiZmb3JJbihhLGZ1bmN0aW9uKHZhbHVlLGtleSxhKXtyZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChhLGtleSk/cmVzdWx0PS0tc2l6ZT4tMTp2b2lkIDB9KTtyZXR1cm4gc3RhY2tBLnBvcCgpLHN0YWNrQi5wb3AoKSxpbml0ZWRTdGFjayYmKHJlbGVhc2VBcnJheShzdGFja0EpLHJlbGVhc2VBcnJheShzdGFja0IpKSxyZXN1bHR9ZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCxzb3VyY2UsY2FsbGJhY2ssc3RhY2tBLHN0YWNrQil7KGlzQXJyYXkoc291cmNlKT9mb3JFYWNoOmZvck93bikoc291cmNlLGZ1bmN0aW9uKHNvdXJjZSxrZXkpe3ZhciBmb3VuZCxpc0FycixyZXN1bHQ9c291cmNlLHZhbHVlPW9iamVjdFtrZXldO2lmKHNvdXJjZSYmKChpc0Fycj1pc0FycmF5KHNvdXJjZSkpfHxpc1BsYWluT2JqZWN0KHNvdXJjZSkpKXtmb3IodmFyIHN0YWNrTGVuZ3RoPXN0YWNrQS5sZW5ndGg7c3RhY2tMZW5ndGgtLTspaWYoZm91bmQ9c3RhY2tBW3N0YWNrTGVuZ3RoXT09c291cmNlKXt2YWx1ZT1zdGFja0Jbc3RhY2tMZW5ndGhdO2JyZWFrfWlmKCFmb3VuZCl7dmFyIGlzU2hhbGxvdztjYWxsYmFjayYmKHJlc3VsdD1jYWxsYmFjayh2YWx1ZSxzb3VyY2UpLChpc1NoYWxsb3c9InVuZGVmaW5lZCIhPXR5cGVvZiByZXN1bHQpJiYodmFsdWU9cmVzdWx0KSksaXNTaGFsbG93fHwodmFsdWU9aXNBcnI/aXNBcnJheSh2YWx1ZSk/dmFsdWU6W106aXNQbGFpbk9iamVjdCh2YWx1ZSk/dmFsdWU6e30pLHN0YWNrQS5wdXNoKHNvdXJjZSksc3RhY2tCLnB1c2godmFsdWUpLGlzU2hhbGxvd3x8YmFzZU1lcmdlKHZhbHVlLHNvdXJjZSxjYWxsYmFjayxzdGFja0Esc3RhY2tCKX19ZWxzZSBjYWxsYmFjayYmKHJlc3VsdD1jYWxsYmFjayh2YWx1ZSxzb3VyY2UpLCJ1bmRlZmluZWQiPT10eXBlb2YgcmVzdWx0JiYocmVzdWx0PXNvdXJjZSkpLCJ1bmRlZmluZWQiIT10eXBlb2YgcmVzdWx0JiYodmFsdWU9cmVzdWx0KTtvYmplY3Rba2V5XT12YWx1ZX0pfWZ1bmN0aW9uIGJhc2VSYW5kb20obWluLG1heCl7cmV0dXJuIG1pbitmbG9vcihuYXRpdmVSYW5kb20oKSoobWF4LW1pbisxKSl9ZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksaXNTb3J0ZWQsY2FsbGJhY2spe3ZhciBpbmRleD0tMSxpbmRleE9mPWdldEluZGV4T2YoKSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjAscmVzdWx0PVtdLGlzTGFyZ2U9IWlzU29ydGVkJiZsZW5ndGg+PWxhcmdlQXJyYXlTaXplJiZpbmRleE9mPT09YmFzZUluZGV4T2Ysc2Vlbj1jYWxsYmFja3x8aXNMYXJnZT9nZXRBcnJheSgpOnJlc3VsdDtpZihpc0xhcmdlKXt2YXIgY2FjaGU9Y3JlYXRlQ2FjaGUoc2Vlbik7aW5kZXhPZj1jYWNoZUluZGV4T2Ysc2Vlbj1jYWNoZX1mb3IoOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWFycmF5W2luZGV4XSxjb21wdXRlZD1jYWxsYmFjaz9jYWxsYmFjayh2YWx1ZSxpbmRleCxhcnJheSk6dmFsdWU7KGlzU29ydGVkPyFpbmRleHx8c2VlbltzZWVuLmxlbmd0aC0xXSE9PWNvbXB1dGVkOmluZGV4T2Yoc2Vlbixjb21wdXRlZCk8MCkmJigoY2FsbGJhY2t8fGlzTGFyZ2UpJiZzZWVuLnB1c2goY29tcHV0ZWQpLHJlc3VsdC5wdXNoKHZhbHVlKSl9cmV0dXJuIGlzTGFyZ2U/KHJlbGVhc2VBcnJheShzZWVuLmFycmF5KSxyZWxlYXNlT2JqZWN0KHNlZW4pKTpjYWxsYmFjayYmcmVsZWFzZUFycmF5KHNlZW4pLHJlc3VsdH1mdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlcil7cmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHJlc3VsdD17fTtpZihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxpc0FycmF5KGNvbGxlY3Rpb24pKWZvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWNvbGxlY3Rpb25baW5kZXhdO3NldHRlcihyZXN1bHQsdmFsdWUsY2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbiksY29sbGVjdGlvbil9ZWxzZSBiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGtleSxjb2xsZWN0aW9uKXtzZXR0ZXIocmVzdWx0LHZhbHVlLGNhbGxiYWNrKHZhbHVlLGtleSxjb2xsZWN0aW9uKSxjb2xsZWN0aW9uKX0pO3JldHVybiByZXN1bHR9fWZ1bmN0aW9uIGNyZWF0ZVdyYXBwZXIoZnVuYyxiaXRtYXNrLHBhcnRpYWxBcmdzLHBhcnRpYWxSaWdodEFyZ3MsdGhpc0FyZyxhcml0eSl7dmFyIGlzQmluZD0xJmJpdG1hc2ssaXNCaW5kS2V5PTImYml0bWFzayxpc0N1cnJ5PTQmYml0bWFzayxpc1BhcnRpYWw9MTYmYml0bWFzayxpc1BhcnRpYWxSaWdodD0zMiZiaXRtYXNrO2lmKCFpc0JpbmRLZXkmJiFpc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7aXNQYXJ0aWFsJiYhcGFydGlhbEFyZ3MubGVuZ3RoJiYoYml0bWFzayY9LTE3LGlzUGFydGlhbD1wYXJ0aWFsQXJncz0hMSksaXNQYXJ0aWFsUmlnaHQmJiFwYXJ0aWFsUmlnaHRBcmdzLmxlbmd0aCYmKGJpdG1hc2smPS0zMyxpc1BhcnRpYWxSaWdodD1wYXJ0aWFsUmlnaHRBcmdzPSExKTt2YXIgYmluZERhdGE9ZnVuYyYmZnVuYy5fX2JpbmREYXRhX187aWYoYmluZERhdGEmJmJpbmREYXRhIT09ITApcmV0dXJuIGJpbmREYXRhPXNsaWNlKGJpbmREYXRhKSxiaW5kRGF0YVsyXSYmKGJpbmREYXRhWzJdPXNsaWNlKGJpbmREYXRhWzJdKSksYmluZERhdGFbM10mJihiaW5kRGF0YVszXT1zbGljZShiaW5kRGF0YVszXSkpLCFpc0JpbmR8fDEmYmluZERhdGFbMV18fChiaW5kRGF0YVs0XT10aGlzQXJnKSwhaXNCaW5kJiYxJmJpbmREYXRhWzFdJiYoYml0bWFza3w9OCksIWlzQ3Vycnl8fDQmYmluZERhdGFbMV18fChiaW5kRGF0YVs1XT1hcml0eSksaXNQYXJ0aWFsJiZwdXNoLmFwcGx5KGJpbmREYXRhWzJdfHwoYmluZERhdGFbMl09W10pLHBhcnRpYWxBcmdzKSxpc1BhcnRpYWxSaWdodCYmdW5zaGlmdC5hcHBseShiaW5kRGF0YVszXXx8KGJpbmREYXRhWzNdPVtdKSxwYXJ0aWFsUmlnaHRBcmdzKSxiaW5kRGF0YVsxXXw9Yml0bWFzayxjcmVhdGVXcmFwcGVyLmFwcGx5KG51bGwsYmluZERhdGEpO3ZhciBjcmVhdGVyPTE9PWJpdG1hc2t8fDE3PT09Yml0bWFzaz9iYXNlQmluZDpiYXNlQ3JlYXRlV3JhcHBlcjtyZXR1cm4gY3JlYXRlcihbZnVuYyxiaXRtYXNrLHBhcnRpYWxBcmdzLHBhcnRpYWxSaWdodEFyZ3MsdGhpc0FyZyxhcml0eV0pfWZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yKCl7aXRlcmF0b3JEYXRhLnNoYWRvd2VkUHJvcHM9c2hhZG93ZWRQcm9wcyxpdGVyYXRvckRhdGEuYXJyYXk9aXRlcmF0b3JEYXRhLmJvdHRvbT1pdGVyYXRvckRhdGEubG9vcD1pdGVyYXRvckRhdGEudG9wPSIiLGl0ZXJhdG9yRGF0YS5pbml0PSJpdGVyYWJsZSIsaXRlcmF0b3JEYXRhLnVzZUhhcz0hMDtmb3IodmFyIG9iamVjdCxpbmRleD0wO29iamVjdD1hcmd1bWVudHNbaW5kZXhdO2luZGV4KyspZm9yKHZhciBrZXkgaW4gb2JqZWN0KWl0ZXJhdG9yRGF0YVtrZXldPW9iamVjdFtrZXldO3ZhciBhcmdzPWl0ZXJhdG9yRGF0YS5hcmdzO2l0ZXJhdG9yRGF0YS5maXJzdEFyZz0vXlteLF0rLy5leGVjKGFyZ3MpWzBdO3ZhciBmYWN0b3J5PUZ1bmN0aW9uKCJiYXNlQ3JlYXRlQ2FsbGJhY2ssIGVycm9yQ2xhc3MsIGVycm9yUHJvdG8sIGhhc093blByb3BlcnR5LCBpbmRpY2F0b3JPYmplY3QsIGlzQXJndW1lbnRzLCBpc0FycmF5LCBpc1N0cmluZywga2V5cywgb2JqZWN0UHJvdG8sIG9iamVjdFR5cGVzLCBub25FbnVtUHJvcHMsIHN0cmluZ0NsYXNzLCBzdHJpbmdQcm90bywgdG9TdHJpbmciLCJyZXR1cm4gZnVuY3Rpb24oIithcmdzKyIpIHtcbiIraXRlcmF0b3JUZW1wbGF0ZShpdGVyYXRvckRhdGEpKyJcbn0iKTtyZXR1cm4gZmFjdG9yeShiYXNlQ3JlYXRlQ2FsbGJhY2ssZXJyb3JDbGFzcyxlcnJvclByb3RvLGhhc093blByb3BlcnR5LGluZGljYXRvck9iamVjdCxpc0FyZ3VtZW50cyxpc0FycmF5LGlzU3RyaW5nLGl0ZXJhdG9yRGF0YS5rZXlzLG9iamVjdFByb3RvLG9iamVjdFR5cGVzLG5vbkVudW1Qcm9wcyxzdHJpbmdDbGFzcyxzdHJpbmdQcm90byx0b1N0cmluZyl9ZnVuY3Rpb24gZXNjYXBlSHRtbENoYXIobWF0Y2gpe3JldHVybiBodG1sRXNjYXBlc1ttYXRjaF19ZnVuY3Rpb24gZ2V0SW5kZXhPZigpe3ZhciByZXN1bHQ9KHJlc3VsdD1sb2Rhc2guaW5kZXhPZik9PT1pbmRleE9mP2Jhc2VJbmRleE9mOnJlc3VsdDtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdmFsdWUmJnJlTmF0aXZlLnRlc3QodmFsdWUpfWZ1bmN0aW9uIHNoaW1Jc1BsYWluT2JqZWN0KHZhbHVlKXt2YXIgY3RvcixyZXN1bHQ7cmV0dXJuIXZhbHVlfHx0b1N0cmluZy5jYWxsKHZhbHVlKSE9b2JqZWN0Q2xhc3N8fChjdG9yPXZhbHVlLmNvbnN0cnVjdG9yLGlzRnVuY3Rpb24oY3RvcikmJiEoY3RvciBpbnN0YW5jZW9mIGN0b3IpKXx8IXN1cHBvcnQuYXJnc0NsYXNzJiZpc0FyZ3VtZW50cyh2YWx1ZSl8fCFzdXBwb3J0Lm5vZGVDbGFzcyYmaXNOb2RlKHZhbHVlKT8hMTpzdXBwb3J0Lm93bkxhc3Q/KGZvckluKHZhbHVlLGZ1bmN0aW9uKHZhbHVlLGtleSxvYmplY3Qpe3JldHVybiByZXN1bHQ9aGFzT3duUHJvcGVydHkuY2FsbChvYmplY3Qsa2V5KSwhMX0pLHJlc3VsdCE9PSExKTooZm9ySW4odmFsdWUsZnVuY3Rpb24odmFsdWUsa2V5KXtyZXN1bHQ9a2V5fSksInVuZGVmaW5lZCI9PXR5cGVvZiByZXN1bHR8fGhhc093blByb3BlcnR5LmNhbGwodmFsdWUscmVzdWx0KSl9ZnVuY3Rpb24gdW5lc2NhcGVIdG1sQ2hhcihtYXRjaCl7cmV0dXJuIGh0bWxVbmVzY2FwZXNbbWF0Y2hdfWZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKXtyZXR1cm4gdmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWUmJiJudW1iZXIiPT10eXBlb2YgdmFsdWUubGVuZ3RoJiZ0b1N0cmluZy5jYWxsKHZhbHVlKT09YXJnc0NsYXNzfHwhMX1mdW5jdGlvbiBjbG9uZSh2YWx1ZSxpc0RlZXAsY2FsbGJhY2ssdGhpc0FyZyl7cmV0dXJuImJvb2xlYW4iIT10eXBlb2YgaXNEZWVwJiZudWxsIT1pc0RlZXAmJih0aGlzQXJnPWNhbGxiYWNrLGNhbGxiYWNrPWlzRGVlcCxpc0RlZXA9ITEpLGJhc2VDbG9uZSh2YWx1ZSxpc0RlZXAsImZ1bmN0aW9uIj09dHlwZW9mIGNhbGxiYWNrJiZiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywxKSl9ZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlLGNhbGxiYWNrLHRoaXNBcmcpe3JldHVybiBiYXNlQ2xvbmUodmFsdWUsITAsImZ1bmN0aW9uIj09dHlwZW9mIGNhbGxiYWNrJiZiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywxKSl9ZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSxwcm9wZXJ0aWVzKXt2YXIgcmVzdWx0PWJhc2VDcmVhdGUocHJvdG90eXBlKTtyZXR1cm4gcHJvcGVydGllcz9hc3NpZ24ocmVzdWx0LHByb3BlcnRpZXMpOnJlc3VsdH1mdW5jdGlvbiBmaW5kS2V5KG9iamVjdCxjYWxsYmFjayx0aGlzQXJnKXt2YXIgcmVzdWx0O3JldHVybiBjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxmb3JPd24ob2JqZWN0LGZ1bmN0aW9uKHZhbHVlLGtleSxvYmplY3Qpe3JldHVybiBjYWxsYmFjayh2YWx1ZSxrZXksb2JqZWN0KT8ocmVzdWx0PWtleSwhMSk6dm9pZCAwfSkscmVzdWx0fWZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCxjYWxsYmFjayx0aGlzQXJnKXt2YXIgcmVzdWx0O3JldHVybiBjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxmb3JPd25SaWdodChvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5LG9iamVjdCl7cmV0dXJuIGNhbGxiYWNrKHZhbHVlLGtleSxvYmplY3QpPyhyZXN1bHQ9a2V5LCExKTp2b2lkIDB9KSxyZXN1bHR9ZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHBhaXJzPVtdO2ZvckluKG9iamVjdCxmdW5jdGlvbih2YWx1ZSxrZXkpe3BhaXJzLnB1c2goa2V5LHZhbHVlKX0pO3ZhciBsZW5ndGg9cGFpcnMubGVuZ3RoO2ZvcihjYWxsYmFjaz1iYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKTtsZW5ndGgtLSYmY2FsbGJhY2socGFpcnNbbGVuZ3RoLS1dLHBhaXJzW2xlbmd0aF0sb2JqZWN0KSE9PSExOyk7cmV0dXJuIG9iamVjdH1mdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHByb3BzPWtleXMob2JqZWN0KSxsZW5ndGg9cHJvcHMubGVuZ3RoO2ZvcihjYWxsYmFjaz1iYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKTtsZW5ndGgtLTspe3ZhciBrZXk9cHJvcHNbbGVuZ3RoXTtpZihjYWxsYmFjayhvYmplY3Rba2V5XSxrZXksb2JqZWN0KT09PSExKWJyZWFrfXJldHVybiBvYmplY3R9ZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCl7dmFyIHJlc3VsdD1bXTtyZXR1cm4gZm9ySW4ob2JqZWN0LGZ1bmN0aW9uKHZhbHVlLGtleSl7aXNGdW5jdGlvbih2YWx1ZSkmJnJlc3VsdC5wdXNoKGtleSl9KSxyZXN1bHQuc29ydCgpfWZ1bmN0aW9uIGhhcyhvYmplY3Qsa2V5KXtyZXR1cm4gb2JqZWN0P2hhc093blByb3BlcnR5LmNhbGwob2JqZWN0LGtleSk6ITF9ZnVuY3Rpb24gaW52ZXJ0KG9iamVjdCl7Zm9yKHZhciBpbmRleD0tMSxwcm9wcz1rZXlzKG9iamVjdCksbGVuZ3RoPXByb3BzLmxlbmd0aCxyZXN1bHQ9e307KytpbmRleDxsZW5ndGg7KXt2YXIga2V5PXByb3BzW2luZGV4XTtyZXN1bHRbb2JqZWN0W2tleV1dPWtleX1yZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSl7cmV0dXJuIHZhbHVlPT09ITB8fHZhbHVlPT09ITF8fHZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIHZhbHVlJiZ0b1N0cmluZy5jYWxsKHZhbHVlKT09Ym9vbENsYXNzfHwhMX1mdW5jdGlvbiBpc0RhdGUodmFsdWUpe3JldHVybiB2YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZSYmdG9TdHJpbmcuY2FsbCh2YWx1ZSk9PWRhdGVDbGFzc3x8ITF9ZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKXtyZXR1cm4gdmFsdWUmJjE9PT12YWx1ZS5ub2RlVHlwZXx8ITF9ZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSl7dmFyIHJlc3VsdD0hMDtpZighdmFsdWUpcmV0dXJuIHJlc3VsdDt2YXIgY2xhc3NOYW1lPXRvU3RyaW5nLmNhbGwodmFsdWUpLGxlbmd0aD12YWx1ZS5sZW5ndGg7cmV0dXJuIGNsYXNzTmFtZT09YXJyYXlDbGFzc3x8Y2xhc3NOYW1lPT1zdHJpbmdDbGFzc3x8KHN1cHBvcnQuYXJnc0NsYXNzP2NsYXNzTmFtZT09YXJnc0NsYXNzOmlzQXJndW1lbnRzKHZhbHVlKSl8fGNsYXNzTmFtZT09b2JqZWN0Q2xhc3MmJiJudW1iZXIiPT10eXBlb2YgbGVuZ3RoJiZpc0Z1bmN0aW9uKHZhbHVlLnNwbGljZSk/IWxlbmd0aDooZm9yT3duKHZhbHVlLGZ1bmN0aW9uKCl7cmV0dXJuIHJlc3VsdD0hMX0pLHJlc3VsdCl9ZnVuY3Rpb24gaXNFcXVhbChhLGIsY2FsbGJhY2ssdGhpc0FyZyl7cmV0dXJuIGJhc2VJc0VxdWFsKGEsYiwiZnVuY3Rpb24iPT10eXBlb2YgY2FsbGJhY2smJmJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDIpKX1mdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSl7cmV0dXJuIG5hdGl2ZUlzRmluaXRlKHZhbHVlKSYmIW5hdGl2ZUlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKX1mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpe3JldHVybiEoIXZhbHVlfHwhb2JqZWN0VHlwZXNbdHlwZW9mIHZhbHVlXSl9ZnVuY3Rpb24gaXNOYU4odmFsdWUpe3JldHVybiBpc051bWJlcih2YWx1ZSkmJnZhbHVlIT0rdmFsdWV9ZnVuY3Rpb24gaXNOdWxsKHZhbHVlKXtyZXR1cm4gbnVsbD09PXZhbHVlfWZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHZhbHVlfHx2YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZSYmdG9TdHJpbmcuY2FsbCh2YWx1ZSk9PW51bWJlckNsYXNzfHwhMX1mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSl7cmV0dXJuIHZhbHVlJiZvYmplY3RUeXBlc1t0eXBlb2YgdmFsdWVdJiZ0b1N0cmluZy5jYWxsKHZhbHVlKT09cmVnZXhwQ2xhc3N8fCExfWZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHZhbHVlfHx2YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZSYmdG9TdHJpbmcuY2FsbCh2YWx1ZSk9PXN0cmluZ0NsYXNzfHwhMX1mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciByZXN1bHQ9e307cmV0dXJuIGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGZvck93bihvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5LG9iamVjdCl7cmVzdWx0W2tleV09Y2FsbGJhY2sodmFsdWUsa2V5LG9iamVjdCl9KSxyZXN1bHR9ZnVuY3Rpb24gbWVyZ2Uob2JqZWN0KXt2YXIgYXJncz1hcmd1bWVudHMsbGVuZ3RoPTI7aWYoIWlzT2JqZWN0KG9iamVjdCkpcmV0dXJuIG9iamVjdDtpZigibnVtYmVyIiE9dHlwZW9mIGFyZ3NbMl0mJihsZW5ndGg9YXJncy5sZW5ndGgpLGxlbmd0aD4zJiYiZnVuY3Rpb24iPT10eXBlb2YgYXJnc1tsZW5ndGgtMl0pdmFyIGNhbGxiYWNrPWJhc2VDcmVhdGVDYWxsYmFjayhhcmdzWy0tbGVuZ3RoLTFdLGFyZ3NbbGVuZ3RoLS1dLDIpO2Vsc2UgbGVuZ3RoPjImJiJmdW5jdGlvbiI9PXR5cGVvZiBhcmdzW2xlbmd0aC0xXSYmKGNhbGxiYWNrPWFyZ3NbLS1sZW5ndGhdKTtmb3IodmFyIHNvdXJjZXM9c2xpY2UoYXJndW1lbnRzLDEsbGVuZ3RoKSxpbmRleD0tMSxzdGFja0E9Z2V0QXJyYXkoKSxzdGFja0I9Z2V0QXJyYXkoKTsrK2luZGV4PGxlbmd0aDspYmFzZU1lcmdlKG9iamVjdCxzb3VyY2VzW2luZGV4XSxjYWxsYmFjayxzdGFja0Esc3RhY2tCKTtyZXR1cm4gcmVsZWFzZUFycmF5KHN0YWNrQSkscmVsZWFzZUFycmF5KHN0YWNrQiksb2JqZWN0fWZ1bmN0aW9uIG9taXQob2JqZWN0LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciByZXN1bHQ9e307aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGNhbGxiYWNrKXt2YXIgcHJvcHM9W107Zm9ySW4ob2JqZWN0LGZ1bmN0aW9uKHZhbHVlLGtleSl7cHJvcHMucHVzaChrZXkpfSkscHJvcHM9YmFzZURpZmZlcmVuY2UocHJvcHMsYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCEwLCExLDEpKTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1wcm9wcy5sZW5ndGg7KytpbmRleDxsZW5ndGg7KXt2YXIga2V5PXByb3BzW2luZGV4XTtyZXN1bHRba2V5XT1vYmplY3Rba2V5XX19ZWxzZSBjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxmb3JJbihvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5LG9iamVjdCl7Y2FsbGJhY2sodmFsdWUsa2V5LG9iamVjdCl8fChyZXN1bHRba2V5XT12YWx1ZSl9KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHBhaXJzKG9iamVjdCl7Zm9yKHZhciBpbmRleD0tMSxwcm9wcz1rZXlzKG9iamVjdCksbGVuZ3RoPXByb3BzLmxlbmd0aCxyZXN1bHQ9QXJyYXkobGVuZ3RoKTsrK2luZGV4PGxlbmd0aDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdO3Jlc3VsdFtpbmRleF09W2tleSxvYmplY3Rba2V5XV19cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBwaWNrKG9iamVjdCxjYWxsYmFjayx0aGlzQXJnKXt2YXIgcmVzdWx0PXt9O2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBjYWxsYmFjaylmb3IodmFyIGluZGV4PS0xLHByb3BzPWJhc2VGbGF0dGVuKGFyZ3VtZW50cywhMCwhMSwxKSxsZW5ndGg9aXNPYmplY3Qob2JqZWN0KT9wcm9wcy5sZW5ndGg6MDsrK2luZGV4PGxlbmd0aDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdO2tleSBpbiBvYmplY3QmJihyZXN1bHRba2V5XT1vYmplY3Rba2V5XSl9ZWxzZSBjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxmb3JJbihvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5LG9iamVjdCl7Y2FsbGJhY2sodmFsdWUsa2V5LG9iamVjdCkmJihyZXN1bHRba2V5XT12YWx1ZSl9KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsY2FsbGJhY2ssYWNjdW11bGF0b3IsdGhpc0FyZyl7dmFyIGlzQXJyPWlzQXJyYXkob2JqZWN0KTtpZihudWxsPT1hY2N1bXVsYXRvcilpZihpc0FycilhY2N1bXVsYXRvcj1bXTtlbHNle3ZhciBjdG9yPW9iamVjdCYmb2JqZWN0LmNvbnN0cnVjdG9yLHByb3RvPWN0b3ImJmN0b3IucHJvdG90eXBlO2FjY3VtdWxhdG9yPWJhc2VDcmVhdGUocHJvdG8pfXJldHVybiBjYWxsYmFjayYmKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDQpLChpc0Fycj9iYXNlRWFjaDpmb3JPd24pKG9iamVjdCxmdW5jdGlvbih2YWx1ZSxpbmRleCxvYmplY3Qpe3JldHVybiBjYWxsYmFjayhhY2N1bXVsYXRvcix2YWx1ZSxpbmRleCxvYmplY3QpfSkpLGFjY3VtdWxhdG9yfWZ1bmN0aW9uIHZhbHVlcyhvYmplY3Qpe2Zvcih2YXIgaW5kZXg9LTEscHJvcHM9a2V5cyhvYmplY3QpLGxlbmd0aD1wcm9wcy5sZW5ndGgscmVzdWx0PUFycmF5KGxlbmd0aCk7KytpbmRleDxsZW5ndGg7KXJlc3VsdFtpbmRleF09b2JqZWN0W3Byb3BzW2luZGV4XV07cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBhdChjb2xsZWN0aW9uKXt2YXIgYXJncz1hcmd1bWVudHMsaW5kZXg9LTEscHJvcHM9YmFzZUZsYXR0ZW4oYXJncywhMCwhMSwxKSxsZW5ndGg9YXJnc1syXSYmYXJnc1syXVthcmdzWzFdXT09PWNvbGxlY3Rpb24/MTpwcm9wcy5sZW5ndGgscmVzdWx0PUFycmF5KGxlbmd0aCk7Zm9yKHN1cHBvcnQudW5pbmRleGVkQ2hhcnMmJmlzU3RyaW5nKGNvbGxlY3Rpb24pJiYoY29sbGVjdGlvbj1jb2xsZWN0aW9uLnNwbGl0KCIiKSk7KytpbmRleDxsZW5ndGg7KXJlc3VsdFtpbmRleF09Y29sbGVjdGlvbltwcm9wc1tpbmRleF1dO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gY29udGFpbnMoY29sbGVjdGlvbix0YXJnZXQsZnJvbUluZGV4KXt2YXIgaW5kZXg9LTEsaW5kZXhPZj1nZXRJbmRleE9mKCksbGVuZ3RoPWNvbGxlY3Rpb24/Y29sbGVjdGlvbi5sZW5ndGg6MCxyZXN1bHQ9ITE7cmV0dXJuIGZyb21JbmRleD0oMD5mcm9tSW5kZXg/bmF0aXZlTWF4KDAsbGVuZ3RoK2Zyb21JbmRleCk6ZnJvbUluZGV4KXx8MCxpc0FycmF5KGNvbGxlY3Rpb24pP3Jlc3VsdD1pbmRleE9mKGNvbGxlY3Rpb24sdGFyZ2V0LGZyb21JbmRleCk+LTE6Im51bWJlciI9PXR5cGVvZiBsZW5ndGg/cmVzdWx0PShpc1N0cmluZyhjb2xsZWN0aW9uKT9jb2xsZWN0aW9uLmluZGV4T2YodGFyZ2V0LGZyb21JbmRleCk6aW5kZXhPZihjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpKT4tMTpiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4rK2luZGV4Pj1mcm9tSW5kZXg/IShyZXN1bHQ9dmFsdWU9PT10YXJnZXQpOnZvaWQgMH0pLHJlc3VsdH1mdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLGNhbGxiYWNrLHRoaXNBcmcpe3ZhciByZXN1bHQ9ITA7aWYoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksaXNBcnJheShjb2xsZWN0aW9uKSlmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDsrK2luZGV4PGxlbmd0aCYmKHJlc3VsdD0hIWNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLGluZGV4LGNvbGxlY3Rpb24pKTspO2Vsc2UgYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gcmVzdWx0PSEhY2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbil9KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLGNhbGxiYWNrLHRoaXNBcmcpe3ZhciByZXN1bHQ9W107aWYoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksaXNBcnJheShjb2xsZWN0aW9uKSlmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1jb2xsZWN0aW9uW2luZGV4XTtjYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSYmcmVzdWx0LnB1c2godmFsdWUpfWVsc2UgYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtjYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSYmcmVzdWx0LnB1c2godmFsdWUpfSk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7aWYoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksIWlzQXJyYXkoY29sbGVjdGlvbikpe3ZhciByZXN1bHQ7cmV0dXJuIGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIGNhbGxiYWNrKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pPyhyZXN1bHQ9dmFsdWUsITEpOnZvaWQgMH0pLHJlc3VsdH1mb3IodmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1jb2xsZWN0aW9uW2luZGV4XTtpZihjYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSlyZXR1cm4gdmFsdWV9fWZ1bmN0aW9uIGZpbmRMYXN0KGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHJlc3VsdDtyZXR1cm4gY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIGNhbGxiYWNrKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pPyhyZXN1bHQ9dmFsdWUsITEpOnZvaWQgMAp9KSxyZXN1bHR9ZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLGNhbGxiYWNrLHRoaXNBcmcpe2lmKGNhbGxiYWNrJiYidW5kZWZpbmVkIj09dHlwZW9mIHRoaXNBcmcmJmlzQXJyYXkoY29sbGVjdGlvbikpZm9yKHZhciBpbmRleD0tMSxsZW5ndGg9Y29sbGVjdGlvbi5sZW5ndGg7KytpbmRleDxsZW5ndGgmJmNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLGluZGV4LGNvbGxlY3Rpb24pIT09ITE7KTtlbHNlIGJhc2VFYWNoKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyk7cmV0dXJuIGNvbGxlY3Rpb259ZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGl0ZXJhYmxlPWNvbGxlY3Rpb24sbGVuZ3RoPWNvbGxlY3Rpb24/Y29sbGVjdGlvbi5sZW5ndGg6MDtpZihjYWxsYmFjaz1jYWxsYmFjayYmInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzQXJnP2NhbGxiYWNrOmJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGlzQXJyYXkoY29sbGVjdGlvbikpZm9yKDtsZW5ndGgtLSYmY2FsbGJhY2soY29sbGVjdGlvbltsZW5ndGhdLGxlbmd0aCxjb2xsZWN0aW9uKSE9PSExOyk7ZWxzZXtpZigibnVtYmVyIiE9dHlwZW9mIGxlbmd0aCl7dmFyIHByb3BzPWtleXMoY29sbGVjdGlvbik7bGVuZ3RoPXByb3BzLmxlbmd0aH1lbHNlIHN1cHBvcnQudW5pbmRleGVkQ2hhcnMmJmlzU3RyaW5nKGNvbGxlY3Rpb24pJiYoaXRlcmFibGU9Y29sbGVjdGlvbi5zcGxpdCgiIikpO2Jhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsa2V5LGNvbGxlY3Rpb24pe3JldHVybiBrZXk9cHJvcHM/cHJvcHNbLS1sZW5ndGhdOi0tbGVuZ3RoLGNhbGxiYWNrKGl0ZXJhYmxlW2tleV0sa2V5LGNvbGxlY3Rpb24pfSl9cmV0dXJuIGNvbGxlY3Rpb259ZnVuY3Rpb24gaW52b2tlKGNvbGxlY3Rpb24sbWV0aG9kTmFtZSl7dmFyIGFyZ3M9c2xpY2UoYXJndW1lbnRzLDIpLGluZGV4PS0xLGlzRnVuYz0iZnVuY3Rpb24iPT10eXBlb2YgbWV0aG9kTmFtZSxsZW5ndGg9Y29sbGVjdGlvbj9jb2xsZWN0aW9uLmxlbmd0aDowLHJlc3VsdD1BcnJheSgibnVtYmVyIj09dHlwZW9mIGxlbmd0aD9sZW5ndGg6MCk7cmV0dXJuIGZvckVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSl7cmVzdWx0WysraW5kZXhdPShpc0Z1bmM/bWV0aG9kTmFtZTp2YWx1ZVttZXRob2ROYW1lXSkuYXBwbHkodmFsdWUsYXJncyl9KSxyZXN1bHR9ZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uP2NvbGxlY3Rpb24ubGVuZ3RoOjAscmVzdWx0PUFycmF5KCJudW1iZXIiPT10eXBlb2YgbGVuZ3RoP2xlbmd0aDowKTtpZihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxpc0FycmF5KGNvbGxlY3Rpb24pKWZvcig7KytpbmRleDxsZW5ndGg7KXJlc3VsdFtpbmRleF09Y2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0saW5kZXgsY29sbGVjdGlvbik7ZWxzZSBiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGtleSxjb2xsZWN0aW9uKXtyZXN1bHRbKytpbmRleF09Y2FsbGJhY2sodmFsdWUsa2V5LGNvbGxlY3Rpb24pfSk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBtYXgoY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgY29tcHV0ZWQ9LTEvMCxyZXN1bHQ9Y29tcHV0ZWQ7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGNhbGxiYWNrJiZ0aGlzQXJnJiZ0aGlzQXJnW2NhbGxiYWNrXT09PWNvbGxlY3Rpb24mJihjYWxsYmFjaz1udWxsKSxudWxsPT1jYWxsYmFjayYmaXNBcnJheShjb2xsZWN0aW9uKSlmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1jb2xsZWN0aW9uW2luZGV4XTt2YWx1ZT5yZXN1bHQmJihyZXN1bHQ9dmFsdWUpfWVsc2UgY2FsbGJhY2s9bnVsbD09Y2FsbGJhY2smJmlzU3RyaW5nKGNvbGxlY3Rpb24pP2NoYXJBdENhbGxiYWNrOmxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7dmFyIGN1cnJlbnQ9Y2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbik7Y3VycmVudD5jb21wdXRlZCYmKGNvbXB1dGVkPWN1cnJlbnQscmVzdWx0PXZhbHVlKX0pO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gbWluKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGNvbXB1dGVkPTEvMCxyZXN1bHQ9Y29tcHV0ZWQ7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGNhbGxiYWNrJiZ0aGlzQXJnJiZ0aGlzQXJnW2NhbGxiYWNrXT09PWNvbGxlY3Rpb24mJihjYWxsYmFjaz1udWxsKSxudWxsPT1jYWxsYmFjayYmaXNBcnJheShjb2xsZWN0aW9uKSlmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1jb2xsZWN0aW9uW2luZGV4XTtyZXN1bHQ+dmFsdWUmJihyZXN1bHQ9dmFsdWUpfWVsc2UgY2FsbGJhY2s9bnVsbD09Y2FsbGJhY2smJmlzU3RyaW5nKGNvbGxlY3Rpb24pP2NoYXJBdENhbGxiYWNrOmxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7dmFyIGN1cnJlbnQ9Y2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbik7Y29tcHV0ZWQ+Y3VycmVudCYmKGNvbXB1dGVkPWN1cnJlbnQscmVzdWx0PXZhbHVlKX0pO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sY2FsbGJhY2ssYWNjdW11bGF0b3IsdGhpc0FyZyl7dmFyIG5vYWNjdW09YXJndW1lbnRzLmxlbmd0aDwzO2lmKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDQpLGlzQXJyYXkoY29sbGVjdGlvbikpe3ZhciBpbmRleD0tMSxsZW5ndGg9Y29sbGVjdGlvbi5sZW5ndGg7Zm9yKG5vYWNjdW0mJihhY2N1bXVsYXRvcj1jb2xsZWN0aW9uWysraW5kZXhdKTsrK2luZGV4PGxlbmd0aDspYWNjdW11bGF0b3I9Y2FsbGJhY2soYWNjdW11bGF0b3IsY29sbGVjdGlvbltpbmRleF0saW5kZXgsY29sbGVjdGlvbil9ZWxzZSBiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe2FjY3VtdWxhdG9yPW5vYWNjdW0/KG5vYWNjdW09ITEsdmFsdWUpOmNhbGxiYWNrKGFjY3VtdWxhdG9yLHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pfSk7cmV0dXJuIGFjY3VtdWxhdG9yfWZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sY2FsbGJhY2ssYWNjdW11bGF0b3IsdGhpc0FyZyl7dmFyIG5vYWNjdW09YXJndW1lbnRzLmxlbmd0aDwzO3JldHVybiBjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZyw0KSxmb3JFYWNoUmlnaHQoY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXthY2N1bXVsYXRvcj1ub2FjY3VtPyhub2FjY3VtPSExLHZhbHVlKTpjYWxsYmFjayhhY2N1bXVsYXRvcix2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX0pLGFjY3VtdWxhdG9yfWZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLGNhbGxiYWNrLHRoaXNBcmcpe3JldHVybiBjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxmaWx0ZXIoY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4hY2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbil9KX1mdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbixuLGd1YXJkKXtpZihjb2xsZWN0aW9uJiYibnVtYmVyIiE9dHlwZW9mIGNvbGxlY3Rpb24ubGVuZ3RoP2NvbGxlY3Rpb249dmFsdWVzKGNvbGxlY3Rpb24pOnN1cHBvcnQudW5pbmRleGVkQ2hhcnMmJmlzU3RyaW5nKGNvbGxlY3Rpb24pJiYoY29sbGVjdGlvbj1jb2xsZWN0aW9uLnNwbGl0KCIiKSksbnVsbD09bnx8Z3VhcmQpcmV0dXJuIGNvbGxlY3Rpb24/Y29sbGVjdGlvbltiYXNlUmFuZG9tKDAsY29sbGVjdGlvbi5sZW5ndGgtMSldOnVuZGVmaW5lZDt2YXIgcmVzdWx0PXNodWZmbGUoY29sbGVjdGlvbik7cmV0dXJuIHJlc3VsdC5sZW5ndGg9bmF0aXZlTWluKG5hdGl2ZU1heCgwLG4pLHJlc3VsdC5sZW5ndGgpLHJlc3VsdH1mdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pe3ZhciBpbmRleD0tMSxsZW5ndGg9Y29sbGVjdGlvbj9jb2xsZWN0aW9uLmxlbmd0aDowLHJlc3VsdD1BcnJheSgibnVtYmVyIj09dHlwZW9mIGxlbmd0aD9sZW5ndGg6MCk7cmV0dXJuIGZvckVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSl7dmFyIHJhbmQ9YmFzZVJhbmRvbSgwLCsraW5kZXgpO3Jlc3VsdFtpbmRleF09cmVzdWx0W3JhbmRdLHJlc3VsdFtyYW5kXT12YWx1ZX0pLHJlc3VsdH1mdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pe3ZhciBsZW5ndGg9Y29sbGVjdGlvbj9jb2xsZWN0aW9uLmxlbmd0aDowO3JldHVybiJudW1iZXIiPT10eXBlb2YgbGVuZ3RoP2xlbmd0aDprZXlzKGNvbGxlY3Rpb24pLmxlbmd0aH1mdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHJlc3VsdDtpZihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxpc0FycmF5KGNvbGxlY3Rpb24pKWZvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoOysraW5kZXg8bGVuZ3RoJiYhKHJlc3VsdD1jYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSxpbmRleCxjb2xsZWN0aW9uKSk7KTtlbHNlIGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIShyZXN1bHQ9Y2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbikpfSk7cmV0dXJuISFyZXN1bHR9ZnVuY3Rpb24gc29ydEJ5KGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGluZGV4PS0xLGlzQXJyPWlzQXJyYXkoY2FsbGJhY2spLGxlbmd0aD1jb2xsZWN0aW9uP2NvbGxlY3Rpb24ubGVuZ3RoOjAscmVzdWx0PUFycmF5KCJudW1iZXIiPT10eXBlb2YgbGVuZ3RoP2xlbmd0aDowKTtmb3IoaXNBcnJ8fChjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSksZm9yRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGtleSxjb2xsZWN0aW9uKXt2YXIgb2JqZWN0PXJlc3VsdFsrK2luZGV4XT1nZXRPYmplY3QoKTtpc0Fycj9vYmplY3QuY3JpdGVyaWE9bWFwKGNhbGxiYWNrLGZ1bmN0aW9uKGtleSl7cmV0dXJuIHZhbHVlW2tleV19KToob2JqZWN0LmNyaXRlcmlhPWdldEFycmF5KCkpWzBdPWNhbGxiYWNrKHZhbHVlLGtleSxjb2xsZWN0aW9uKSxvYmplY3QuaW5kZXg9aW5kZXgsb2JqZWN0LnZhbHVlPXZhbHVlfSksbGVuZ3RoPXJlc3VsdC5sZW5ndGgscmVzdWx0LnNvcnQoY29tcGFyZUFzY2VuZGluZyk7bGVuZ3RoLS07KXt2YXIgb2JqZWN0PXJlc3VsdFtsZW5ndGhdO3Jlc3VsdFtsZW5ndGhdPW9iamVjdC52YWx1ZSxpc0Fycnx8cmVsZWFzZUFycmF5KG9iamVjdC5jcml0ZXJpYSkscmVsZWFzZU9iamVjdChvYmplY3QpfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gdG9BcnJheShjb2xsZWN0aW9uKXtyZXR1cm4gY29sbGVjdGlvbiYmIm51bWJlciI9PXR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aD9zdXBwb3J0LnVuaW5kZXhlZENoYXJzJiZpc1N0cmluZyhjb2xsZWN0aW9uKT9jb2xsZWN0aW9uLnNwbGl0KCIiKTpzbGljZShjb2xsZWN0aW9uKTp2YWx1ZXMoY29sbGVjdGlvbil9ZnVuY3Rpb24gY29tcGFjdChhcnJheSl7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjAscmVzdWx0PVtdOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWFycmF5W2luZGV4XTt2YWx1ZSYmcmVzdWx0LnB1c2godmFsdWUpfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gZGlmZmVyZW5jZShhcnJheSl7cmV0dXJuIGJhc2VEaWZmZXJlbmNlKGFycmF5LGJhc2VGbGF0dGVuKGFyZ3VtZW50cywhMCwhMCwxKSl9ZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7Zm9yKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpOysraW5kZXg8bGVuZ3RoOylpZihjYWxsYmFjayhhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpKXJldHVybiBpbmRleDtyZXR1cm4tMX1mdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7Zm9yKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpO2xlbmd0aC0tOylpZihjYWxsYmFjayhhcnJheVtsZW5ndGhdLGxlbmd0aCxhcnJheSkpcmV0dXJuIGxlbmd0aDtyZXR1cm4tMX1mdW5jdGlvbiBmaXJzdChhcnJheSxjYWxsYmFjayx0aGlzQXJnKXt2YXIgbj0wLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtpZigibnVtYmVyIiE9dHlwZW9mIGNhbGxiYWNrJiZudWxsIT1jYWxsYmFjayl7dmFyIGluZGV4PS0xO2ZvcihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKTsrK2luZGV4PGxlbmd0aCYmY2FsbGJhY2soYXJyYXlbaW5kZXhdLGluZGV4LGFycmF5KTspbisrfWVsc2UgaWYobj1jYWxsYmFjayxudWxsPT1ufHx0aGlzQXJnKXJldHVybiBhcnJheT9hcnJheVswXTp1bmRlZmluZWQ7cmV0dXJuIHNsaWNlKGFycmF5LDAsbmF0aXZlTWluKG5hdGl2ZU1heCgwLG4pLGxlbmd0aCkpfWZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXksaXNTaGFsbG93LGNhbGxiYWNrLHRoaXNBcmcpe3JldHVybiJib29sZWFuIiE9dHlwZW9mIGlzU2hhbGxvdyYmbnVsbCE9aXNTaGFsbG93JiYodGhpc0FyZz1jYWxsYmFjayxjYWxsYmFjaz0iZnVuY3Rpb24iIT10eXBlb2YgaXNTaGFsbG93JiZ0aGlzQXJnJiZ0aGlzQXJnW2lzU2hhbGxvd109PT1hcnJheT9udWxsOmlzU2hhbGxvdyxpc1NoYWxsb3c9ITEpLG51bGwhPWNhbGxiYWNrJiYoYXJyYXk9bWFwKGFycmF5LGNhbGxiYWNrLHRoaXNBcmcpKSxiYXNlRmxhdHRlbihhcnJheSxpc1NoYWxsb3cpfWZ1bmN0aW9uIGluZGV4T2YoYXJyYXksdmFsdWUsZnJvbUluZGV4KXtpZigibnVtYmVyIj09dHlwZW9mIGZyb21JbmRleCl7dmFyIGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtmcm9tSW5kZXg9MD5mcm9tSW5kZXg/bmF0aXZlTWF4KDAsbGVuZ3RoK2Zyb21JbmRleCk6ZnJvbUluZGV4fHwwfWVsc2UgaWYoZnJvbUluZGV4KXt2YXIgaW5kZXg9c29ydGVkSW5kZXgoYXJyYXksdmFsdWUpO3JldHVybiBhcnJheVtpbmRleF09PT12YWx1ZT9pbmRleDotMX1yZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksdmFsdWUsZnJvbUluZGV4KX1mdW5jdGlvbiBpbml0aWFsKGFycmF5LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBuPTAsbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowO2lmKCJudW1iZXIiIT10eXBlb2YgY2FsbGJhY2smJm51bGwhPWNhbGxiYWNrKXt2YXIgaW5kZXg9bGVuZ3RoO2ZvcihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKTtpbmRleC0tJiZjYWxsYmFjayhhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpOyluKyt9ZWxzZSBuPW51bGw9PWNhbGxiYWNrfHx0aGlzQXJnPzE6Y2FsbGJhY2t8fG47cmV0dXJuIHNsaWNlKGFycmF5LDAsbmF0aXZlTWluKG5hdGl2ZU1heCgwLGxlbmd0aC1uKSxsZW5ndGgpKX1mdW5jdGlvbiBpbnRlcnNlY3Rpb24oKXtmb3IodmFyIGFyZ3M9W10sYXJnc0luZGV4PS0xLGFyZ3NMZW5ndGg9YXJndW1lbnRzLmxlbmd0aCxjYWNoZXM9Z2V0QXJyYXkoKSxpbmRleE9mPWdldEluZGV4T2YoKSx0cnVzdEluZGV4T2Y9aW5kZXhPZj09PWJhc2VJbmRleE9mLHNlZW49Z2V0QXJyYXkoKTsrK2FyZ3NJbmRleDxhcmdzTGVuZ3RoOyl7dmFyIHZhbHVlPWFyZ3VtZW50c1thcmdzSW5kZXhdOyhpc0FycmF5KHZhbHVlKXx8aXNBcmd1bWVudHModmFsdWUpKSYmKGFyZ3MucHVzaCh2YWx1ZSksY2FjaGVzLnB1c2godHJ1c3RJbmRleE9mJiZ2YWx1ZS5sZW5ndGg+PWxhcmdlQXJyYXlTaXplJiZjcmVhdGVDYWNoZShhcmdzSW5kZXg/YXJnc1thcmdzSW5kZXhdOnNlZW4pKSl9dmFyIGFycmF5PWFyZ3NbMF0saW5kZXg9LTEsbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowLHJlc3VsdD1bXTtvdXRlcjpmb3IoOysraW5kZXg8bGVuZ3RoOyl7dmFyIGNhY2hlPWNhY2hlc1swXTtpZih2YWx1ZT1hcnJheVtpbmRleF0sKGNhY2hlP2NhY2hlSW5kZXhPZihjYWNoZSx2YWx1ZSk6aW5kZXhPZihzZWVuLHZhbHVlKSk8MCl7Zm9yKGFyZ3NJbmRleD1hcmdzTGVuZ3RoLChjYWNoZXx8c2VlbikucHVzaCh2YWx1ZSk7LS1hcmdzSW5kZXg7KWlmKGNhY2hlPWNhY2hlc1thcmdzSW5kZXhdLChjYWNoZT9jYWNoZUluZGV4T2YoY2FjaGUsdmFsdWUpOmluZGV4T2YoYXJnc1thcmdzSW5kZXhdLHZhbHVlKSk8MCljb250aW51ZSBvdXRlcjtyZXN1bHQucHVzaCh2YWx1ZSl9fWZvcig7YXJnc0xlbmd0aC0tOyljYWNoZT1jYWNoZXNbYXJnc0xlbmd0aF0sY2FjaGUmJnJlbGVhc2VPYmplY3QoY2FjaGUpO3JldHVybiByZWxlYXNlQXJyYXkoY2FjaGVzKSxyZWxlYXNlQXJyYXkoc2VlbikscmVzdWx0fWZ1bmN0aW9uIGxhc3QoYXJyYXksY2FsbGJhY2ssdGhpc0FyZyl7dmFyIG49MCxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7aWYoIm51bWJlciIhPXR5cGVvZiBjYWxsYmFjayYmbnVsbCE9Y2FsbGJhY2spe3ZhciBpbmRleD1sZW5ndGg7Zm9yKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpO2luZGV4LS0mJmNhbGxiYWNrKGFycmF5W2luZGV4XSxpbmRleCxhcnJheSk7KW4rK31lbHNlIGlmKG49Y2FsbGJhY2ssbnVsbD09bnx8dGhpc0FyZylyZXR1cm4gYXJyYXk/YXJyYXlbbGVuZ3RoLTFdOnVuZGVmaW5lZDtyZXR1cm4gc2xpY2UoYXJyYXksbmF0aXZlTWF4KDAsbGVuZ3RoLW4pKX1mdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXgpe3ZhciBpbmRleD1hcnJheT9hcnJheS5sZW5ndGg6MDtmb3IoIm51bWJlciI9PXR5cGVvZiBmcm9tSW5kZXgmJihpbmRleD0oMD5mcm9tSW5kZXg/bmF0aXZlTWF4KDAsaW5kZXgrZnJvbUluZGV4KTpuYXRpdmVNaW4oZnJvbUluZGV4LGluZGV4LTEpKSsxKTtpbmRleC0tOylpZihhcnJheVtpbmRleF09PT12YWx1ZSlyZXR1cm4gaW5kZXg7cmV0dXJuLTF9ZnVuY3Rpb24gcHVsbChhcnJheSl7Zm9yKHZhciBhcmdzPWFyZ3VtZW50cyxhcmdzSW5kZXg9MCxhcmdzTGVuZ3RoPWFyZ3MubGVuZ3RoLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDsrK2FyZ3NJbmRleDxhcmdzTGVuZ3RoOylmb3IodmFyIGluZGV4PS0xLHZhbHVlPWFyZ3NbYXJnc0luZGV4XTsrK2luZGV4PGxlbmd0aDspYXJyYXlbaW5kZXhdPT09dmFsdWUmJihzcGxpY2UuY2FsbChhcnJheSxpbmRleC0tLDEpLGxlbmd0aC0tKTtyZXR1cm4gYXJyYXl9ZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsZW5kLHN0ZXApe3N0YXJ0PStzdGFydHx8MCxzdGVwPSJudW1iZXIiPT10eXBlb2Ygc3RlcD9zdGVwOitzdGVwfHwxLG51bGw9PWVuZCYmKGVuZD1zdGFydCxzdGFydD0wKTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1uYXRpdmVNYXgoMCxjZWlsKChlbmQtc3RhcnQpLyhzdGVwfHwxKSkpLHJlc3VsdD1BcnJheShsZW5ndGgpOysraW5kZXg8bGVuZ3RoOylyZXN1bHRbaW5kZXhdPXN0YXJ0LHN0YXJ0Kz1zdGVwO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gcmVtb3ZlKGFycmF5LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjAscmVzdWx0PVtdO2ZvcihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKTsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1hcnJheVtpbmRleF07Y2FsbGJhY2sodmFsdWUsaW5kZXgsYXJyYXkpJiYocmVzdWx0LnB1c2godmFsdWUpLHNwbGljZS5jYWxsKGFycmF5LGluZGV4LS0sMSksbGVuZ3RoLS0pfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gcmVzdChhcnJheSxjYWxsYmFjayx0aGlzQXJnKXtpZigibnVtYmVyIiE9dHlwZW9mIGNhbGxiYWNrJiZudWxsIT1jYWxsYmFjayl7dmFyIG49MCxpbmRleD0tMSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7Zm9yKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpOysraW5kZXg8bGVuZ3RoJiZjYWxsYmFjayhhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpOyluKyt9ZWxzZSBuPW51bGw9PWNhbGxiYWNrfHx0aGlzQXJnPzE6bmF0aXZlTWF4KDAsY2FsbGJhY2spO3JldHVybiBzbGljZShhcnJheSxuKX1mdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSx2YWx1ZSxjYWxsYmFjayx0aGlzQXJnKXt2YXIgbG93PTAsaGlnaD1hcnJheT9hcnJheS5sZW5ndGg6bG93O2ZvcihjYWxsYmFjaz1jYWxsYmFjaz9sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywxKTppZGVudGl0eSx2YWx1ZT1jYWxsYmFjayh2YWx1ZSk7aGlnaD5sb3c7KXt2YXIgbWlkPWxvdytoaWdoPj4+MTtjYWxsYmFjayhhcnJheVttaWRdKTx2YWx1ZT9sb3c9bWlkKzE6aGlnaD1taWR9cmV0dXJuIGxvd31mdW5jdGlvbiB1bmlvbigpe3JldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcmd1bWVudHMsITAsITApKX1mdW5jdGlvbiB1bmlxKGFycmF5LGlzU29ydGVkLGNhbGxiYWNrLHRoaXNBcmcpe3JldHVybiJib29sZWFuIiE9dHlwZW9mIGlzU29ydGVkJiZudWxsIT1pc1NvcnRlZCYmKHRoaXNBcmc9Y2FsbGJhY2ssY2FsbGJhY2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGlzU29ydGVkJiZ0aGlzQXJnJiZ0aGlzQXJnW2lzU29ydGVkXT09PWFycmF5P251bGw6aXNTb3J0ZWQsaXNTb3J0ZWQ9ITEpLG51bGwhPWNhbGxiYWNrJiYoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMykpLGJhc2VVbmlxKGFycmF5LGlzU29ydGVkLGNhbGxiYWNrKX1mdW5jdGlvbiB3aXRob3V0KGFycmF5KXtyZXR1cm4gYmFzZURpZmZlcmVuY2UoYXJyYXksc2xpY2UoYXJndW1lbnRzLDEpKX1mdW5jdGlvbiB4b3IoKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcmd1bWVudHMubGVuZ3RoOysraW5kZXg8bGVuZ3RoOyl7dmFyIGFycmF5PWFyZ3VtZW50c1tpbmRleF07aWYoaXNBcnJheShhcnJheSl8fGlzQXJndW1lbnRzKGFycmF5KSl2YXIgcmVzdWx0PXJlc3VsdD9iYXNlVW5pcShiYXNlRGlmZmVyZW5jZShyZXN1bHQsYXJyYXkpLmNvbmNhdChiYXNlRGlmZmVyZW5jZShhcnJheSxyZXN1bHQpKSk6YXJyYXl9cmV0dXJuIHJlc3VsdHx8W119ZnVuY3Rpb24gemlwKCl7Zm9yKHZhciBhcnJheT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzOmFyZ3VtZW50c1swXSxpbmRleD0tMSxsZW5ndGg9YXJyYXk/bWF4KHBsdWNrKGFycmF5LCJsZW5ndGgiKSk6MCxyZXN1bHQ9QXJyYXkoMD5sZW5ndGg/MDpsZW5ndGgpOysraW5kZXg8bGVuZ3RoOylyZXN1bHRbaW5kZXhdPXBsdWNrKGFycmF5LGluZGV4KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHppcE9iamVjdChrZXlzLHZhbHVlcyl7dmFyIGluZGV4PS0xLGxlbmd0aD1rZXlzP2tleXMubGVuZ3RoOjAscmVzdWx0PXt9O2Zvcih2YWx1ZXN8fCFsZW5ndGh8fGlzQXJyYXkoa2V5c1swXSl8fCh2YWx1ZXM9W10pOysraW5kZXg8bGVuZ3RoOyl7dmFyIGtleT1rZXlzW2luZGV4XTt2YWx1ZXM/cmVzdWx0W2tleV09dmFsdWVzW2luZGV4XTprZXkmJihyZXN1bHRba2V5WzBdXT1rZXlbMV0pfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYWZ0ZXIobixmdW5jKXtpZighaXNGdW5jdGlvbihmdW5jKSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBmdW5jdGlvbigpe3JldHVybi0tbjwxP2Z1bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH19ZnVuY3Rpb24gYmluZChmdW5jLHRoaXNBcmcpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjI/Y3JlYXRlV3JhcHBlcihmdW5jLDE3LHNsaWNlKGFyZ3VtZW50cywyKSxudWxsLHRoaXNBcmcpOmNyZWF0ZVdyYXBwZXIoZnVuYywxLG51bGwsbnVsbCx0aGlzQXJnKX1mdW5jdGlvbiBiaW5kQWxsKG9iamVjdCl7Zm9yKHZhciBmdW5jcz1hcmd1bWVudHMubGVuZ3RoPjE/YmFzZUZsYXR0ZW4oYXJndW1lbnRzLCEwLCExLDEpOmZ1bmN0aW9ucyhvYmplY3QpLGluZGV4PS0xLGxlbmd0aD1mdW5jcy5sZW5ndGg7KytpbmRleDxsZW5ndGg7KXt2YXIga2V5PWZ1bmNzW2luZGV4XTtvYmplY3Rba2V5XT1jcmVhdGVXcmFwcGVyKG9iamVjdFtrZXldLDEsbnVsbCxudWxsLG9iamVjdCl9cmV0dXJuIG9iamVjdH1mdW5jdGlvbiBiaW5kS2V5KG9iamVjdCxrZXkpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjI/Y3JlYXRlV3JhcHBlcihrZXksMTksc2xpY2UoYXJndW1lbnRzLDIpLG51bGwsb2JqZWN0KTpjcmVhdGVXcmFwcGVyKGtleSwzLG51bGwsbnVsbCxvYmplY3QpfWZ1bmN0aW9uIGNvbXBvc2UoKXtmb3IodmFyIGZ1bmNzPWFyZ3VtZW50cyxsZW5ndGg9ZnVuY3MubGVuZ3RoO2xlbmd0aC0tOylpZighaXNGdW5jdGlvbihmdW5jc1tsZW5ndGhdKSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgYXJncz1hcmd1bWVudHMsbGVuZ3RoPWZ1bmNzLmxlbmd0aDtsZW5ndGgtLTspYXJncz1bZnVuY3NbbGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3MpXTtyZXR1cm4gYXJnc1swXX19ZnVuY3Rpb24gY3VycnkoZnVuYyxhcml0eSl7cmV0dXJuIGFyaXR5PSJudW1iZXIiPT10eXBlb2YgYXJpdHk/YXJpdHk6K2FyaXR5fHxmdW5jLmxlbmd0aCxjcmVhdGVXcmFwcGVyKGZ1bmMsNCxudWxsLG51bGwsbnVsbCxhcml0eSl9ZnVuY3Rpb24gZGVib3VuY2UoZnVuYyx3YWl0LG9wdGlvbnMpe3ZhciBhcmdzLG1heFRpbWVvdXRJZCxyZXN1bHQsc3RhbXAsdGhpc0FyZyx0aW1lb3V0SWQsdHJhaWxpbmdDYWxsLGxhc3RDYWxsZWQ9MCxtYXhXYWl0PSExLHRyYWlsaW5nPSEwO2lmKCFpc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7aWYod2FpdD1uYXRpdmVNYXgoMCx3YWl0KXx8MCxvcHRpb25zPT09ITApe3ZhciBsZWFkaW5nPSEwO3RyYWlsaW5nPSExfWVsc2UgaXNPYmplY3Qob3B0aW9ucykmJihsZWFkaW5nPW9wdGlvbnMubGVhZGluZyxtYXhXYWl0PSJtYXhXYWl0ImluIG9wdGlvbnMmJihuYXRpdmVNYXgod2FpdCxvcHRpb25zLm1heFdhaXQpfHwwKSx0cmFpbGluZz0idHJhaWxpbmciaW4gb3B0aW9ucz9vcHRpb25zLnRyYWlsaW5nOnRyYWlsaW5nKTt2YXIgZGVsYXllZD1mdW5jdGlvbigpe3ZhciByZW1haW5pbmc9d2FpdC0obm93KCktc3RhbXApO2lmKDA+PXJlbWFpbmluZyl7bWF4VGltZW91dElkJiZjbGVhclRpbWVvdXQobWF4VGltZW91dElkKTt2YXIgaXNDYWxsZWQ9dHJhaWxpbmdDYWxsO21heFRpbWVvdXRJZD10aW1lb3V0SWQ9dHJhaWxpbmdDYWxsPXVuZGVmaW5lZCxpc0NhbGxlZCYmKGxhc3RDYWxsZWQ9bm93KCkscmVzdWx0PWZ1bmMuYXBwbHkodGhpc0FyZyxhcmdzKSx0aW1lb3V0SWR8fG1heFRpbWVvdXRJZHx8KGFyZ3M9dGhpc0FyZz1udWxsKSl9ZWxzZSB0aW1lb3V0SWQ9c2V0VGltZW91dChkZWxheWVkLHJlbWFpbmluZyl9LG1heERlbGF5ZWQ9ZnVuY3Rpb24oKXt0aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aW1lb3V0SWQpLG1heFRpbWVvdXRJZD10aW1lb3V0SWQ9dHJhaWxpbmdDYWxsPXVuZGVmaW5lZCwodHJhaWxpbmd8fG1heFdhaXQhPT13YWl0KSYmKGxhc3RDYWxsZWQ9bm93KCkscmVzdWx0PWZ1bmMuYXBwbHkodGhpc0FyZyxhcmdzKSx0aW1lb3V0SWR8fG1heFRpbWVvdXRJZHx8KGFyZ3M9dGhpc0FyZz1udWxsKSl9O3JldHVybiBmdW5jdGlvbigpe2lmKGFyZ3M9YXJndW1lbnRzLHN0YW1wPW5vdygpLHRoaXNBcmc9dGhpcyx0cmFpbGluZ0NhbGw9dHJhaWxpbmcmJih0aW1lb3V0SWR8fCFsZWFkaW5nKSxtYXhXYWl0PT09ITEpdmFyIGxlYWRpbmdDYWxsPWxlYWRpbmcmJiF0aW1lb3V0SWQ7ZWxzZXttYXhUaW1lb3V0SWR8fGxlYWRpbmd8fChsYXN0Q2FsbGVkPXN0YW1wKTt2YXIgcmVtYWluaW5nPW1heFdhaXQtKHN0YW1wLWxhc3RDYWxsZWQpLGlzQ2FsbGVkPTA+PXJlbWFpbmluZztpc0NhbGxlZD8obWF4VGltZW91dElkJiYobWF4VGltZW91dElkPWNsZWFyVGltZW91dChtYXhUaW1lb3V0SWQpKSxsYXN0Q2FsbGVkPXN0YW1wLHJlc3VsdD1mdW5jLmFwcGx5KHRoaXNBcmcsYXJncykpOm1heFRpbWVvdXRJZHx8KG1heFRpbWVvdXRJZD1zZXRUaW1lb3V0KG1heERlbGF5ZWQscmVtYWluaW5nKSl9cmV0dXJuIGlzQ2FsbGVkJiZ0aW1lb3V0SWQ/dGltZW91dElkPWNsZWFyVGltZW91dCh0aW1lb3V0SWQpOnRpbWVvdXRJZHx8d2FpdD09PW1heFdhaXR8fCh0aW1lb3V0SWQ9c2V0VGltZW91dChkZWxheWVkLHdhaXQpKSxsZWFkaW5nQ2FsbCYmKGlzQ2FsbGVkPSEwLHJlc3VsdD1mdW5jLmFwcGx5KHRoaXNBcmcsYXJncykpLCFpc0NhbGxlZHx8dGltZW91dElkfHxtYXhUaW1lb3V0SWR8fChhcmdzPXRoaXNBcmc9bnVsbCkscmVzdWx0fX1mdW5jdGlvbiBkZWZlcihmdW5jKXtpZighaXNGdW5jdGlvbihmdW5jKSl0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciBhcmdzPXNsaWNlKGFyZ3VtZW50cywxKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2Z1bmMuYXBwbHkodW5kZWZpbmVkLGFyZ3MpfSwxKX1mdW5jdGlvbiBkZWxheShmdW5jLHdhaXQpe2lmKCFpc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIGFyZ3M9c2xpY2UoYXJndW1lbnRzLDIpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZnVuYy5hcHBseSh1bmRlZmluZWQsYXJncyl9LHdhaXQpfWZ1bmN0aW9uIG1lbW9pemUoZnVuYyxyZXNvbHZlcil7aWYoIWlzRnVuY3Rpb24oZnVuYykpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgbWVtb2l6ZWQ9ZnVuY3Rpb24oKXt2YXIgY2FjaGU9bWVtb2l6ZWQuY2FjaGUsa2V5PXJlc29sdmVyP3Jlc29sdmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTprZXlQcmVmaXgrYXJndW1lbnRzWzBdO3JldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLGtleSk/Y2FjaGVba2V5XTpjYWNoZVtrZXldPWZ1bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gbWVtb2l6ZWQuY2FjaGU9e30sbWVtb2l6ZWR9ZnVuY3Rpb24gb25jZShmdW5jKXt2YXIgcmFuLHJlc3VsdDtpZighaXNGdW5jdGlvbihmdW5jKSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBmdW5jdGlvbigpe3JldHVybiByYW4/cmVzdWx0OihyYW49ITAscmVzdWx0PWZ1bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGZ1bmM9bnVsbCxyZXN1bHQpfX1mdW5jdGlvbiBwYXJ0aWFsKGZ1bmMpe3JldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsMTYsc2xpY2UoYXJndW1lbnRzLDEpKX1mdW5jdGlvbiBwYXJ0aWFsUmlnaHQoZnVuYyl7cmV0dXJuIGNyZWF0ZVdyYXBwZXIoZnVuYywzMixudWxsLHNsaWNlKGFyZ3VtZW50cywxKSl9ZnVuY3Rpb24gdGhyb3R0bGUoZnVuYyx3YWl0LG9wdGlvbnMpe3ZhciBsZWFkaW5nPSEwLHRyYWlsaW5nPSEwO2lmKCFpc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG9wdGlvbnM9PT0hMT9sZWFkaW5nPSExOmlzT2JqZWN0KG9wdGlvbnMpJiYobGVhZGluZz0ibGVhZGluZyJpbiBvcHRpb25zP29wdGlvbnMubGVhZGluZzpsZWFkaW5nLHRyYWlsaW5nPSJ0cmFpbGluZyJpbiBvcHRpb25zP29wdGlvbnMudHJhaWxpbmc6dHJhaWxpbmcpLGRlYm91bmNlT3B0aW9ucy5sZWFkaW5nPWxlYWRpbmcsZGVib3VuY2VPcHRpb25zLm1heFdhaXQ9d2FpdCxkZWJvdW5jZU9wdGlvbnMudHJhaWxpbmc9dHJhaWxpbmcsZGVib3VuY2UoZnVuYyx3YWl0LGRlYm91bmNlT3B0aW9ucyl9ZnVuY3Rpb24gd3JhcCh2YWx1ZSx3cmFwcGVyKXtyZXR1cm4gY3JlYXRlV3JhcHBlcih3cmFwcGVyLDE2LFt2YWx1ZV0pfWZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdmFsdWV9fWZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCl7dmFyIHR5cGU9dHlwZW9mIGZ1bmM7aWYobnVsbD09ZnVuY3x8ImZ1bmN0aW9uIj09dHlwZSlyZXR1cm4gYmFzZUNyZWF0ZUNhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCk7aWYoIm9iamVjdCIhPXR5cGUpcmV0dXJuIHByb3BlcnR5KGZ1bmMpO3ZhciBwcm9wcz1rZXlzKGZ1bmMpLGtleT1wcm9wc1swXSxhPWZ1bmNba2V5XTtyZXR1cm4gMSE9cHJvcHMubGVuZ3RofHxhIT09YXx8aXNPYmplY3QoYSk/ZnVuY3Rpb24ob2JqZWN0KXtmb3IodmFyIGxlbmd0aD1wcm9wcy5sZW5ndGgscmVzdWx0PSExO2xlbmd0aC0tJiYocmVzdWx0PWJhc2VJc0VxdWFsKG9iamVjdFtwcm9wc1tsZW5ndGhdXSxmdW5jW3Byb3BzW2xlbmd0aF1dLG51bGwsITApKTspO3JldHVybiByZXN1bHR9OmZ1bmN0aW9uKG9iamVjdCl7dmFyIGI9b2JqZWN0W2tleV07cmV0dXJuIGE9PT1iJiYoMCE9PWF8fDEvYT09MS9iKX19ZnVuY3Rpb24gZXNjYXBlKHN0cmluZyl7cmV0dXJuIG51bGw9PXN0cmluZz8iIjpTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCxlc2NhcGVIdG1sQ2hhcil9ZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpe3JldHVybiB2YWx1ZX1mdW5jdGlvbiBtaXhpbihvYmplY3Qsc291cmNlLG9wdGlvbnMpe3ZhciBjaGFpbj0hMCxtZXRob2ROYW1lcz1zb3VyY2UmJmZ1bmN0aW9ucyhzb3VyY2UpO3NvdXJjZSYmKG9wdGlvbnN8fG1ldGhvZE5hbWVzLmxlbmd0aCl8fChudWxsPT1vcHRpb25zJiYob3B0aW9ucz1zb3VyY2UpLGN0b3I9bG9kYXNoV3JhcHBlcixzb3VyY2U9b2JqZWN0LG9iamVjdD1sb2Rhc2gsbWV0aG9kTmFtZXM9ZnVuY3Rpb25zKHNvdXJjZSkpLG9wdGlvbnM9PT0hMT9jaGFpbj0hMTppc09iamVjdChvcHRpb25zKSYmImNoYWluImluIG9wdGlvbnMmJihjaGFpbj1vcHRpb25zLmNoYWluKTt2YXIgY3Rvcj1vYmplY3QsaXNGdW5jPWlzRnVuY3Rpb24oY3Rvcik7Zm9yRWFjaChtZXRob2ROYW1lcyxmdW5jdGlvbihtZXRob2ROYW1lKXt2YXIgZnVuYz1vYmplY3RbbWV0aG9kTmFtZV09c291cmNlW21ldGhvZE5hbWVdO2lzRnVuYyYmKGN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdPWZ1bmN0aW9uKCl7dmFyIGNoYWluQWxsPXRoaXMuX19jaGFpbl9fLHZhbHVlPXRoaXMuX193cmFwcGVkX18sYXJncz1bdmFsdWVdO3B1c2guYXBwbHkoYXJncyxhcmd1bWVudHMpO3ZhciByZXN1bHQ9ZnVuYy5hcHBseShvYmplY3QsYXJncyk7aWYoY2hhaW58fGNoYWluQWxsKXtpZih2YWx1ZT09PXJlc3VsdCYmaXNPYmplY3QocmVzdWx0KSlyZXR1cm4gdGhpcztyZXN1bHQ9bmV3IGN0b3IocmVzdWx0KSxyZXN1bHQuX19jaGFpbl9fPWNoYWluQWxsfXJldHVybiByZXN1bHR9KX0pfWZ1bmN0aW9uIG5vQ29uZmxpY3QoKXtyZXR1cm4gY29udGV4dC5fPW9sZERhc2gsdGhpc31mdW5jdGlvbiBub29wKCl7fWZ1bmN0aW9uIHByb3BlcnR5KGtleSl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdFtrZXldfX1mdW5jdGlvbiByYW5kb20obWluLG1heCxmbG9hdGluZyl7dmFyIG5vTWluPW51bGw9PW1pbixub01heD1udWxsPT1tYXg7aWYobnVsbD09ZmxvYXRpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiBtaW4mJm5vTWF4PyhmbG9hdGluZz1taW4sbWluPTEpOm5vTWF4fHwiYm9vbGVhbiIhPXR5cGVvZiBtYXh8fChmbG9hdGluZz1tYXgsbm9NYXg9ITApKSxub01pbiYmbm9NYXgmJihtYXg9MSksbWluPSttaW58fDAsbm9NYXg/KG1heD1taW4sbWluPTApOm1heD0rbWF4fHwwLGZsb2F0aW5nfHxtaW4lMXx8bWF4JTEpe3ZhciByYW5kPW5hdGl2ZVJhbmRvbSgpO3JldHVybiBuYXRpdmVNaW4obWluK3JhbmQqKG1heC1taW4rcGFyc2VGbG9hdCgiMWUtIisoKHJhbmQrIiIpLmxlbmd0aC0xKSkpLG1heCl9cmV0dXJuIGJhc2VSYW5kb20obWluLG1heCl9ZnVuY3Rpb24gcmVzdWx0KG9iamVjdCxrZXkpe2lmKG9iamVjdCl7dmFyIHZhbHVlPW9iamVjdFtrZXldO3JldHVybiBpc0Z1bmN0aW9uKHZhbHVlKT9vYmplY3Rba2V5XSgpOnZhbHVlfX1mdW5jdGlvbiB0ZW1wbGF0ZSh0ZXh0LGRhdGEsb3B0aW9ucyl7dmFyIHNldHRpbmdzPWxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO3RleHQ9U3RyaW5nKHRleHR8fCIiKSxvcHRpb25zPWRlZmF1bHRzKHt9LG9wdGlvbnMsc2V0dGluZ3MpO3ZhciBpc0V2YWx1YXRpbmcsaW1wb3J0cz1kZWZhdWx0cyh7fSxvcHRpb25zLmltcG9ydHMsc2V0dGluZ3MuaW1wb3J0cyksaW1wb3J0c0tleXM9a2V5cyhpbXBvcnRzKSxpbXBvcnRzVmFsdWVzPXZhbHVlcyhpbXBvcnRzKSxpbmRleD0wLGludGVycG9sYXRlPW9wdGlvbnMuaW50ZXJwb2xhdGV8fHJlTm9NYXRjaCxzb3VyY2U9Il9fcCArPSAnIixyZURlbGltaXRlcnM9UmVnRXhwKChvcHRpb25zLmVzY2FwZXx8cmVOb01hdGNoKS5zb3VyY2UrInwiK2ludGVycG9sYXRlLnNvdXJjZSsifCIrKGludGVycG9sYXRlPT09cmVJbnRlcnBvbGF0ZT9yZUVzVGVtcGxhdGU6cmVOb01hdGNoKS5zb3VyY2UrInwiKyhvcHRpb25zLmV2YWx1YXRlfHxyZU5vTWF0Y2gpLnNvdXJjZSsifCQiLCJnIik7dGV4dC5yZXBsYWNlKHJlRGVsaW1pdGVycyxmdW5jdGlvbihtYXRjaCxlc2NhcGVWYWx1ZSxpbnRlcnBvbGF0ZVZhbHVlLGVzVGVtcGxhdGVWYWx1ZSxldmFsdWF0ZVZhbHVlLG9mZnNldCl7cmV0dXJuIGludGVycG9sYXRlVmFsdWV8fChpbnRlcnBvbGF0ZVZhbHVlPWVzVGVtcGxhdGVWYWx1ZSksc291cmNlKz10ZXh0LnNsaWNlKGluZGV4LG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZyxlc2NhcGVTdHJpbmdDaGFyKSxlc2NhcGVWYWx1ZSYmKHNvdXJjZSs9IicgK1xuX19lKCIrZXNjYXBlVmFsdWUrIikgK1xuJyIpLGV2YWx1YXRlVmFsdWUmJihpc0V2YWx1YXRpbmc9ITAsc291cmNlKz0iJztcbiIrZXZhbHVhdGVWYWx1ZSsiO1xuX19wICs9ICciKSxpbnRlcnBvbGF0ZVZhbHVlJiYoc291cmNlKz0iJyArXG4oKF9fdCA9ICgiK2ludGVycG9sYXRlVmFsdWUrIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xuJyIpLGluZGV4PW9mZnNldCttYXRjaC5sZW5ndGgsbWF0Y2h9KSxzb3VyY2UrPSInO1xuIjt2YXIgdmFyaWFibGU9b3B0aW9ucy52YXJpYWJsZSxoYXNWYXJpYWJsZT12YXJpYWJsZTtoYXNWYXJpYWJsZXx8KHZhcmlhYmxlPSJvYmoiLHNvdXJjZT0id2l0aCAoIit2YXJpYWJsZSsiKSB7XG4iK3NvdXJjZSsiXG59XG4iKSxzb3VyY2U9KGlzRXZhbHVhdGluZz9zb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywiIik6c291cmNlKS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsIiQxIikucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsIiQxOyIpLHNvdXJjZT0iZnVuY3Rpb24oIit2YXJpYWJsZSsiKSB7XG4iKyhoYXNWYXJpYWJsZT8iIjp2YXJpYWJsZSsiIHx8ICgiK3ZhcmlhYmxlKyIgPSB7fSk7XG4iKSsidmFyIF9fdCwgX19wID0gJycsIF9fZSA9IF8uZXNjYXBlIisoaXNFdmFsdWF0aW5nPyIsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xuZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XG4iOiI7XG4iKStzb3VyY2UrInJldHVybiBfX3Bcbn0iO3ZhciBzb3VyY2VVUkw9IlxuLypcbi8vIyBzb3VyY2VVUkw9Iisob3B0aW9ucy5zb3VyY2VVUkx8fCIvbG9kYXNoL3RlbXBsYXRlL3NvdXJjZVsiK3RlbXBsYXRlQ291bnRlcisrICsiXSIpKyJcbiovIjt0cnl7dmFyIHJlc3VsdD1GdW5jdGlvbihpbXBvcnRzS2V5cywicmV0dXJuICIrc291cmNlK3NvdXJjZVVSTCkuYXBwbHkodW5kZWZpbmVkLGltcG9ydHNWYWx1ZXMpfWNhdGNoKGUpe3Rocm93IGUuc291cmNlPXNvdXJjZSxlfXJldHVybiBkYXRhP3Jlc3VsdChkYXRhKToocmVzdWx0LnNvdXJjZT1zb3VyY2UscmVzdWx0KX1mdW5jdGlvbiB0aW1lcyhuLGNhbGxiYWNrLHRoaXNBcmcpe249KG49K24pPi0xP246MDt2YXIgaW5kZXg9LTEscmVzdWx0PUFycmF5KG4pO2ZvcihjYWxsYmFjaz1iYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywxKTsrK2luZGV4PG47KXJlc3VsdFtpbmRleF09Y2FsbGJhY2soaW5kZXgpO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKXtyZXR1cm4gbnVsbD09c3RyaW5nPyIiOlN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVFc2NhcGVkSHRtbCx1bmVzY2FwZUh0bWxDaGFyKX1mdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpe3ZhciBpZD0rK2lkQ291bnRlcjtyZXR1cm4gU3RyaW5nKG51bGw9PXByZWZpeD8iIjpwcmVmaXgpK2lkfWZ1bmN0aW9uIGNoYWluKHZhbHVlKXtyZXR1cm4gdmFsdWU9bmV3IGxvZGFzaFdyYXBwZXIodmFsdWUpLHZhbHVlLl9fY2hhaW5fXz0hMCx2YWx1ZX1mdW5jdGlvbiB0YXAodmFsdWUsaW50ZXJjZXB0b3Ipe3JldHVybiBpbnRlcmNlcHRvcih2YWx1ZSksdmFsdWV9ZnVuY3Rpb24gd3JhcHBlckNoYWluKCl7cmV0dXJuIHRoaXMuX19jaGFpbl9fPSEwLHRoaXN9ZnVuY3Rpb24gd3JhcHBlclRvU3RyaW5nKCl7cmV0dXJuIFN0cmluZyh0aGlzLl9fd3JhcHBlZF9fKX1mdW5jdGlvbiB3cmFwcGVyVmFsdWVPZigpe3JldHVybiB0aGlzLl9fd3JhcHBlZF9ffWNvbnRleHQ9Y29udGV4dD9fLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksY29udGV4dCxfLnBpY2socm9vdCxjb250ZXh0UHJvcHMpKTpyb290O3ZhciBBcnJheT1jb250ZXh0LkFycmF5LEJvb2xlYW49Y29udGV4dC5Cb29sZWFuLERhdGU9Y29udGV4dC5EYXRlLEVycm9yPWNvbnRleHQuRXJyb3IsRnVuY3Rpb249Y29udGV4dC5GdW5jdGlvbixNYXRoPWNvbnRleHQuTWF0aCxOdW1iZXI9Y29udGV4dC5OdW1iZXIsT2JqZWN0PWNvbnRleHQuT2JqZWN0LFJlZ0V4cD1jb250ZXh0LlJlZ0V4cCxTdHJpbmc9Y29udGV4dC5TdHJpbmcsVHlwZUVycm9yPWNvbnRleHQuVHlwZUVycm9yLGFycmF5UmVmPVtdLGVycm9yUHJvdG89RXJyb3IucHJvdG90eXBlLG9iamVjdFByb3RvPU9iamVjdC5wcm90b3R5cGUsc3RyaW5nUHJvdG89U3RyaW5nLnByb3RvdHlwZSxvbGREYXNoPWNvbnRleHQuXyx0b1N0cmluZz1vYmplY3RQcm90by50b1N0cmluZyxyZU5hdGl2ZT1SZWdFeHAoIl4iK1N0cmluZyh0b1N0cmluZykucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csIlxcJCYiKS5yZXBsYWNlKC90b1N0cmluZ3wgZm9yIFteXF1dKy9nLCIuKj8iKSsiJCIpLGNlaWw9TWF0aC5jZWlsLGNsZWFyVGltZW91dD1jb250ZXh0LmNsZWFyVGltZW91dCxmbG9vcj1NYXRoLmZsb29yLGZuVG9TdHJpbmc9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLGdldFByb3RvdHlwZU9mPWlzTmF0aXZlKGdldFByb3RvdHlwZU9mPU9iamVjdC5nZXRQcm90b3R5cGVPZikmJmdldFByb3RvdHlwZU9mLGhhc093blByb3BlcnR5PW9iamVjdFByb3RvLmhhc093blByb3BlcnR5LHB1c2g9YXJyYXlSZWYucHVzaCxwcm9wZXJ0eUlzRW51bWVyYWJsZT1vYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxzZXRUaW1lb3V0PWNvbnRleHQuc2V0VGltZW91dCxzcGxpY2U9YXJyYXlSZWYuc3BsaWNlLHVuc2hpZnQ9YXJyYXlSZWYudW5zaGlmdCxkZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbigpe3RyeXt2YXIgbz17fSxmdW5jPWlzTmF0aXZlKGZ1bmM9T2JqZWN0LmRlZmluZVByb3BlcnR5KSYmZnVuYyxyZXN1bHQ9ZnVuYyhvLG8sbykmJmZ1bmN9Y2F0Y2goZSl7fXJldHVybiByZXN1bHR9KCksbmF0aXZlQ3JlYXRlPWlzTmF0aXZlKG5hdGl2ZUNyZWF0ZT1PYmplY3QuY3JlYXRlKSYmbmF0aXZlQ3JlYXRlLG5hdGl2ZUlzQXJyYXk9aXNOYXRpdmUobmF0aXZlSXNBcnJheT1BcnJheS5pc0FycmF5KSYmbmF0aXZlSXNBcnJheSxuYXRpdmVJc0Zpbml0ZT1jb250ZXh0LmlzRmluaXRlLG5hdGl2ZUlzTmFOPWNvbnRleHQuaXNOYU4sbmF0aXZlS2V5cz1pc05hdGl2ZShuYXRpdmVLZXlzPU9iamVjdC5rZXlzKSYmbmF0aXZlS2V5cyxuYXRpdmVNYXg9TWF0aC5tYXgsbmF0aXZlTWluPU1hdGgubWluLG5hdGl2ZVBhcnNlSW50PWNvbnRleHQucGFyc2VJbnQsbmF0aXZlUmFuZG9tPU1hdGgucmFuZG9tLGN0b3JCeUNsYXNzPXt9O2N0b3JCeUNsYXNzW2FycmF5Q2xhc3NdPUFycmF5LGN0b3JCeUNsYXNzW2Jvb2xDbGFzc109Qm9vbGVhbixjdG9yQnlDbGFzc1tkYXRlQ2xhc3NdPURhdGUsY3RvckJ5Q2xhc3NbZnVuY0NsYXNzXT1GdW5jdGlvbixjdG9yQnlDbGFzc1tvYmplY3RDbGFzc109T2JqZWN0LGN0b3JCeUNsYXNzW251bWJlckNsYXNzXT1OdW1iZXIsY3RvckJ5Q2xhc3NbcmVnZXhwQ2xhc3NdPVJlZ0V4cCxjdG9yQnlDbGFzc1tzdHJpbmdDbGFzc109U3RyaW5nO3ZhciBub25FbnVtUHJvcHM9e307bm9uRW51bVByb3BzW2FycmF5Q2xhc3NdPW5vbkVudW1Qcm9wc1tkYXRlQ2xhc3NdPW5vbkVudW1Qcm9wc1tudW1iZXJDbGFzc109e2NvbnN0cnVjdG9yOiEwLHRvTG9jYWxlU3RyaW5nOiEwLHRvU3RyaW5nOiEwLHZhbHVlT2Y6ITB9LG5vbkVudW1Qcm9wc1tib29sQ2xhc3NdPW5vbkVudW1Qcm9wc1tzdHJpbmdDbGFzc109e2NvbnN0cnVjdG9yOiEwLHRvU3RyaW5nOiEwLHZhbHVlT2Y6ITB9LG5vbkVudW1Qcm9wc1tlcnJvckNsYXNzXT1ub25FbnVtUHJvcHNbZnVuY0NsYXNzXT1ub25FbnVtUHJvcHNbcmVnZXhwQ2xhc3NdPXtjb25zdHJ1Y3RvcjohMCx0b1N0cmluZzohMH0sbm9uRW51bVByb3BzW29iamVjdENsYXNzXT17Y29uc3RydWN0b3I6ITB9LGZ1bmN0aW9uKCl7Zm9yKHZhciBsZW5ndGg9c2hhZG93ZWRQcm9wcy5sZW5ndGg7bGVuZ3RoLS07KXt2YXIga2V5PXNoYWRvd2VkUHJvcHNbbGVuZ3RoXTtmb3IodmFyIGNsYXNzTmFtZSBpbiBub25FbnVtUHJvcHMpaGFzT3duUHJvcGVydHkuY2FsbChub25FbnVtUHJvcHMsY2xhc3NOYW1lKSYmIWhhc093blByb3BlcnR5LmNhbGwobm9uRW51bVByb3BzW2NsYXNzTmFtZV0sa2V5KSYmKG5vbkVudW1Qcm9wc1tjbGFzc05hbWVdW2tleV09ITEpfX0oKSxsb2Rhc2hXcmFwcGVyLnByb3RvdHlwZT1sb2Rhc2gucHJvdG90eXBlO3ZhciBzdXBwb3J0PWxvZGFzaC5zdXBwb3J0PXt9OyFmdW5jdGlvbigpe3ZhciBjdG9yPWZ1bmN0aW9uKCl7dGhpcy54PTF9LG9iamVjdD17MDoxLGxlbmd0aDoxfSxwcm9wcz1bXTtjdG9yLnByb3RvdHlwZT17dmFsdWVPZjoxLHk6MX07Zm9yKHZhciBrZXkgaW4gbmV3IGN0b3IpcHJvcHMucHVzaChrZXkpO2ZvcihrZXkgaW4gYXJndW1lbnRzKTtzdXBwb3J0LmFyZ3NDbGFzcz10b1N0cmluZy5jYWxsKGFyZ3VtZW50cyk9PWFyZ3NDbGFzcyxzdXBwb3J0LmFyZ3NPYmplY3Q9YXJndW1lbnRzLmNvbnN0cnVjdG9yPT1PYmplY3QmJiEoYXJndW1lbnRzIGluc3RhbmNlb2YgQXJyYXkpLHN1cHBvcnQuZW51bUVycm9yUHJvcHM9cHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlcnJvclByb3RvLCJtZXNzYWdlIil8fHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZXJyb3JQcm90bywibmFtZSIpLHN1cHBvcnQuZW51bVByb3RvdHlwZXM9cHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChjdG9yLCJwcm90b3R5cGUiKSxzdXBwb3J0LmZ1bmNEZWNvbXA9IWlzTmF0aXZlKGNvbnRleHQuV2luUlRFcnJvcikmJnJlVGhpcy50ZXN0KHJ1bkluQ29udGV4dCksc3VwcG9ydC5mdW5jTmFtZXM9InN0cmluZyI9PXR5cGVvZiBGdW5jdGlvbi5uYW1lLHN1cHBvcnQubm9uRW51bUFyZ3M9MCE9a2V5LHN1cHBvcnQubm9uRW51bVNoYWRvd3M9IS92YWx1ZU9mLy50ZXN0KHByb3BzKSxzdXBwb3J0Lm93bkxhc3Q9IngiIT1wcm9wc1swXSxzdXBwb3J0LnNwbGljZU9iamVjdHM9KGFycmF5UmVmLnNwbGljZS5jYWxsKG9iamVjdCwwLDEpLCFvYmplY3RbMF0pLHN1cHBvcnQudW5pbmRleGVkQ2hhcnM9IngiWzBdK09iamVjdCgieCIpWzBdIT0ieHgiO3RyeXtzdXBwb3J0Lm5vZGVDbGFzcz0hKHRvU3RyaW5nLmNhbGwoZG9jdW1lbnQpPT1vYmplY3RDbGFzcyYmISh7dG9TdHJpbmc6MH0rIiIpKX1jYXRjaChlKXtzdXBwb3J0Lm5vZGVDbGFzcz0hMH19KDEpLGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzPXtlc2NhcGU6LzwlLShbXHNcU10rPyklPi9nLGV2YWx1YXRlOi88JShbXHNcU10rPyklPi9nLGludGVycG9sYXRlOnJlSW50ZXJwb2xhdGUsdmFyaWFibGU6IiIsaW1wb3J0czp7Xzpsb2Rhc2h9fTt2YXIgaXRlcmF0b3JUZW1wbGF0ZT1mdW5jdGlvbihvYmope3ZhciBfX3A9InZhciBpbmRleCwgaXRlcmFibGUgPSAiK29iai5maXJzdEFyZysiLCByZXN1bHQgPSAiK29iai5pbml0KyI7XG5pZiAoIWl0ZXJhYmxlKSByZXR1cm4gcmVzdWx0O1xuIitvYmoudG9wKyI7IjtvYmouYXJyYXk/KF9fcCs9IlxudmFyIGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0aDsgaW5kZXggPSAtMTtcbmlmICgiK29iai5hcnJheSsiKSB7ICAiLHN1cHBvcnQudW5pbmRleGVkQ2hhcnMmJihfX3ArPSJcbiAgaWYgKGlzU3RyaW5nKGl0ZXJhYmxlKSkge1xuICAgIGl0ZXJhYmxlID0gaXRlcmFibGUuc3BsaXQoJycpXG4gIH0gICIpLF9fcCs9IlxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICIrb2JqLmxvb3ArIjtcbiAgfVxufVxuZWxzZSB7ICAiKTpzdXBwb3J0Lm5vbkVudW1BcmdzJiYoX19wKz0iXG4gIHZhciBsZW5ndGggPSBpdGVyYWJsZS5sZW5ndGg7IGluZGV4ID0gLTE7XG4gIGlmIChsZW5ndGggJiYgaXNBcmd1bWVudHMoaXRlcmFibGUpKSB7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGluZGV4ICs9ICcnO1xuICAgICAgIitvYmoubG9vcCsiO1xuICAgIH1cbiAgfSBlbHNlIHsgICIpLHN1cHBvcnQuZW51bVByb3RvdHlwZXMmJihfX3ArPSJcbiAgdmFyIHNraXBQcm90byA9IHR5cGVvZiBpdGVyYWJsZSA9PSAnZnVuY3Rpb24nO1xuICAiKSxzdXBwb3J0LmVudW1FcnJvclByb3BzJiYoX19wKz0iXG4gIHZhciBza2lwRXJyb3JQcm9wcyA9IGl0ZXJhYmxlID09PSBlcnJvclByb3RvIHx8IGl0ZXJhYmxlIGluc3RhbmNlb2YgRXJyb3I7XG4gICIpO3ZhciBjb25kaXRpb25zPVtdO2lmKHN1cHBvcnQuZW51bVByb3RvdHlwZXMmJmNvbmRpdGlvbnMucHVzaCgnIShza2lwUHJvdG8gJiYgaW5kZXggPT0gInByb3RvdHlwZSIpJyksc3VwcG9ydC5lbnVtRXJyb3JQcm9wcyYmY29uZGl0aW9ucy5wdXNoKCchKHNraXBFcnJvclByb3BzICYmIChpbmRleCA9PSAibWVzc2FnZSIgfHwgaW5kZXggPT0gIm5hbWUiKSknKSxvYmoudXNlSGFzJiZvYmoua2V5cylfX3ArPSJcbiAgdmFyIG93bkluZGV4ID0gLTEsXG4gICAgICBvd25Qcm9wcyA9IG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0gJiYga2V5cyhpdGVyYWJsZSksXG4gICAgICBsZW5ndGggPSBvd25Qcm9wcyA/IG93blByb3BzLmxlbmd0aCA6IDA7XG5cbiAgd2hpbGUgKCsrb3duSW5kZXggPCBsZW5ndGgpIHtcbiAgICBpbmRleCA9IG93blByb3BzW293bkluZGV4XTtcbiIsY29uZGl0aW9ucy5sZW5ndGgmJihfX3ArPSIgICAgaWYgKCIrY29uZGl0aW9ucy5qb2luKCIgJiYgIikrIikge1xuICAiKSxfX3ArPW9iai5sb29wKyI7ICAgICIsY29uZGl0aW9ucy5sZW5ndGgmJihfX3ArPSJcbiAgICB9IiksX19wKz0iXG4gIH0gICI7ZWxzZSBpZihfX3ArPSJcbiAgZm9yIChpbmRleCBpbiBpdGVyYWJsZSkge1xuIixvYmoudXNlSGFzJiZjb25kaXRpb25zLnB1c2goImhhc093blByb3BlcnR5LmNhbGwoaXRlcmFibGUsIGluZGV4KSIpLGNvbmRpdGlvbnMubGVuZ3RoJiYoX19wKz0iICAgIGlmICgiK2NvbmRpdGlvbnMuam9pbigiICYmICIpKyIpIHtcbiAgIiksX19wKz1vYmoubG9vcCsiOyAgICAiLGNvbmRpdGlvbnMubGVuZ3RoJiYoX19wKz0iXG4gICAgfSIpLF9fcCs9IlxuICB9ICAgICIsc3VwcG9ydC5ub25FbnVtU2hhZG93cyl7Zm9yKF9fcCs9IlxuXG4gIGlmIChpdGVyYWJsZSAhPT0gb2JqZWN0UHJvdG8pIHtcbiAgICB2YXIgY3RvciA9IGl0ZXJhYmxlLmNvbnN0cnVjdG9yLFxuICAgICAgICBpc1Byb3RvID0gaXRlcmFibGUgPT09IChjdG9yICYmIGN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgY2xhc3NOYW1lID0gaXRlcmFibGUgPT09IHN0cmluZ1Byb3RvID8gc3RyaW5nQ2xhc3MgOiBpdGVyYWJsZSA9PT0gZXJyb3JQcm90byA/IGVycm9yQ2xhc3MgOiB0b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSxcbiAgICAgICAgbm9uRW51bSA9IG5vbkVudW1Qcm9wc1tjbGFzc05hbWVdO1xuICAgICAgIixrPTA7Nz5rO2srKylfX3ArPSJcbiAgICBpbmRleCA9ICciK29iai5zaGFkb3dlZFByb3BzW2tdKyInO1xuICAgIGlmICgoIShpc1Byb3RvICYmIG5vbkVudW1baW5kZXhdKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhYmxlLCBpbmRleCkpIixvYmoudXNlSGFzfHwoX19wKz0iIHx8ICghbm9uRW51bVtpbmRleF0gJiYgaXRlcmFibGVbaW5kZXhdICE9PSBvYmplY3RQcm90b1tpbmRleF0pIiksX19wKz0iKSB7XG4gICAgICAiK29iai5sb29wKyI7XG4gICAgfSAgICAgICI7X19wKz0iXG4gIH0gICAgIn1yZXR1cm4ob2JqLmFycmF5fHxzdXBwb3J0Lm5vbkVudW1BcmdzKSYmKF9fcCs9IlxufSIpLF9fcCs9b2JqLmJvdHRvbSsiO1xucmV0dXJuIHJlc3VsdCJ9O25hdGl2ZUNyZWF0ZXx8KGJhc2VDcmVhdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBPYmplY3QoKXt9cmV0dXJuIGZ1bmN0aW9uKHByb3RvdHlwZSl7aWYoaXNPYmplY3QocHJvdG90eXBlKSl7T2JqZWN0LnByb3RvdHlwZT1wcm90b3R5cGU7dmFyIHJlc3VsdD1uZXcgT2JqZWN0O09iamVjdC5wcm90b3R5cGU9bnVsbH1yZXR1cm4gcmVzdWx0fHxjb250ZXh0Lk9iamVjdCgpfX0oKSk7dmFyIHNldEJpbmREYXRhPWRlZmluZVByb3BlcnR5P2Z1bmN0aW9uKGZ1bmMsdmFsdWUpe2Rlc2NyaXB0b3IudmFsdWU9dmFsdWUsZGVmaW5lUHJvcGVydHkoZnVuYywiX19iaW5kRGF0YV9fIixkZXNjcmlwdG9yKX06bm9vcDtzdXBwb3J0LmFyZ3NDbGFzc3x8KGlzQXJndW1lbnRzPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWUmJiJudW1iZXIiPT10eXBlb2YgdmFsdWUubGVuZ3RoJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCJjYWxsZWUiKSYmIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsImNhbGxlZSIpfHwhMX0pO3ZhciBpc0FycmF5PW5hdGl2ZUlzQXJyYXl8fGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWUmJiJudW1iZXIiPT10eXBlb2YgdmFsdWUubGVuZ3RoJiZ0b1N0cmluZy5jYWxsKHZhbHVlKT09YXJyYXlDbGFzc3x8ITF9LHNoaW1LZXlzPWNyZWF0ZUl0ZXJhdG9yKHthcmdzOiJvYmplY3QiLGluaXQ6IltdIix0b3A6ImlmICghKG9iamVjdFR5cGVzW3R5cGVvZiBvYmplY3RdKSkgcmV0dXJuIHJlc3VsdCIsbG9vcDoicmVzdWx0LnB1c2goaW5kZXgpIn0pLGtleXM9bmF0aXZlS2V5cz9mdW5jdGlvbihvYmplY3Qpe3JldHVybiBpc09iamVjdChvYmplY3QpP3N1cHBvcnQuZW51bVByb3RvdHlwZXMmJiJmdW5jdGlvbiI9PXR5cGVvZiBvYmplY3R8fHN1cHBvcnQubm9uRW51bUFyZ3MmJm9iamVjdC5sZW5ndGgmJmlzQXJndW1lbnRzKG9iamVjdCk/c2hpbUtleXMob2JqZWN0KTpuYXRpdmVLZXlzKG9iamVjdCk6W119OnNoaW1LZXlzLGVhY2hJdGVyYXRvck9wdGlvbnM9e2FyZ3M6ImNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnIix0b3A6ImNhbGxiYWNrID0gY2FsbGJhY2sgJiYgdHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMykiLGFycmF5OiJ0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInIixrZXlzOmtleXMsbG9vcDoiaWYgKGNhbGxiYWNrKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pID09PSBmYWxzZSkgcmV0dXJuIHJlc3VsdCJ9LGRlZmF1bHRzSXRlcmF0b3JPcHRpb25zPXthcmdzOiJvYmplY3QsIHNvdXJjZSwgZ3VhcmQiLHRvcDoidmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgYXJnc0luZGV4ID0gMCxcbiAgICBhcmdzTGVuZ3RoID0gdHlwZW9mIGd1YXJkID09ICdudW1iZXInID8gMiA6IGFyZ3MubGVuZ3RoO1xud2hpbGUgKCsrYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICBpdGVyYWJsZSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgaWYgKGl0ZXJhYmxlICYmIG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHsiLGtleXM6a2V5cyxsb29wOiJpZiAodHlwZW9mIHJlc3VsdFtpbmRleF0gPT0gJ3VuZGVmaW5lZCcpIHJlc3VsdFtpbmRleF0gPSBpdGVyYWJsZVtpbmRleF0iLGJvdHRvbToiICB9XG59In0sZm9yT3duSXRlcmF0b3JPcHRpb25zPXt0b3A6ImlmICghb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSkgcmV0dXJuIHJlc3VsdDtcbiIrZWFjaEl0ZXJhdG9yT3B0aW9ucy50b3AsYXJyYXk6ITF9LGh0bWxFc2NhcGVzPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiMzOTsifSxodG1sVW5lc2NhcGVzPWludmVydChodG1sRXNjYXBlcykscmVFc2NhcGVkSHRtbD1SZWdFeHAoIigiK2tleXMoaHRtbFVuZXNjYXBlcykuam9pbigifCIpKyIpIiwiZyIpLHJlVW5lc2NhcGVkSHRtbD1SZWdFeHAoIlsiK2tleXMoaHRtbEVzY2FwZXMpLmpvaW4oIiIpKyJdIiwiZyIpLGJhc2VFYWNoPWNyZWF0ZUl0ZXJhdG9yKGVhY2hJdGVyYXRvck9wdGlvbnMpLGFzc2lnbj1jcmVhdGVJdGVyYXRvcihkZWZhdWx0c0l0ZXJhdG9yT3B0aW9ucyx7dG9wOmRlZmF1bHRzSXRlcmF0b3JPcHRpb25zLnRvcC5yZXBsYWNlKCI7IiwiO1xuaWYgKGFyZ3NMZW5ndGggPiAzICYmIHR5cGVvZiBhcmdzW2FyZ3NMZW5ndGggLSAyXSA9PSAnZnVuY3Rpb24nKSB7XG4gIHZhciBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhhcmdzWy0tYXJnc0xlbmd0aCAtIDFdLCBhcmdzW2FyZ3NMZW5ndGgtLV0sIDIpO1xufSBlbHNlIGlmIChhcmdzTGVuZ3RoID4gMiAmJiB0eXBlb2YgYXJnc1thcmdzTGVuZ3RoIC0gMV0gPT0gJ2Z1bmN0aW9uJykge1xuICBjYWxsYmFjayA9IGFyZ3NbLS1hcmdzTGVuZ3RoXTtcbn0iKSxsb29wOiJyZXN1bHRbaW5kZXhdID0gY2FsbGJhY2sgPyBjYWxsYmFjayhyZXN1bHRbaW5kZXhdLCBpdGVyYWJsZVtpbmRleF0pIDogaXRlcmFibGVbaW5kZXhdIn0pLGRlZmF1bHRzPWNyZWF0ZUl0ZXJhdG9yKGRlZmF1bHRzSXRlcmF0b3JPcHRpb25zKSxmb3JJbj1jcmVhdGVJdGVyYXRvcihlYWNoSXRlcmF0b3JPcHRpb25zLGZvck93bkl0ZXJhdG9yT3B0aW9ucyx7dXNlSGFzOiExfSksZm9yT3duPWNyZWF0ZUl0ZXJhdG9yKGVhY2hJdGVyYXRvck9wdGlvbnMsZm9yT3duSXRlcmF0b3JPcHRpb25zKTtpc0Z1bmN0aW9uKC94LykmJihpc0Z1bmN0aW9uPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdmFsdWUmJnRvU3RyaW5nLmNhbGwodmFsdWUpPT1mdW5jQ2xhc3N9KTt2YXIgaXNQbGFpbk9iamVjdD1nZXRQcm90b3R5cGVPZj9mdW5jdGlvbih2YWx1ZSl7aWYoIXZhbHVlfHx0b1N0cmluZy5jYWxsKHZhbHVlKSE9b2JqZWN0Q2xhc3N8fCFzdXBwb3J0LmFyZ3NDbGFzcyYmaXNBcmd1bWVudHModmFsdWUpKXJldHVybiExO3ZhciB2YWx1ZU9mPXZhbHVlLnZhbHVlT2Ysb2JqUHJvdG89aXNOYXRpdmUodmFsdWVPZikmJihvYmpQcm90bz1nZXRQcm90b3R5cGVPZih2YWx1ZU9mKSkmJmdldFByb3RvdHlwZU9mKG9ialByb3RvKTtyZXR1cm4gb2JqUHJvdG8/dmFsdWU9PW9ialByb3RvfHxnZXRQcm90b3R5cGVPZih2YWx1ZSk9PW9ialByb3RvOnNoaW1Jc1BsYWluT2JqZWN0KHZhbHVlKX06c2hpbUlzUGxhaW5PYmplY3QsY291bnRCeT1jcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCx2YWx1ZSxrZXkpe2hhc093blByb3BlcnR5LmNhbGwocmVzdWx0LGtleSk/cmVzdWx0W2tleV0rKzpyZXN1bHRba2V5XT0xfSksZ3JvdXBCeT1jcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCx2YWx1ZSxrZXkpeyhoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCxrZXkpP3Jlc3VsdFtrZXldOnJlc3VsdFtrZXldPVtdKS5wdXNoKHZhbHVlKX0pLGluZGV4Qnk9Y3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsdmFsdWUsa2V5KXtyZXN1bHRba2V5XT12YWx1ZX0pLHBsdWNrPW1hcCx3aGVyZT1maWx0ZXIsbm93PWlzTmF0aXZlKG5vdz1EYXRlLm5vdykmJm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0scGFyc2VJbnQ9OD09bmF0aXZlUGFyc2VJbnQod2hpdGVzcGFjZSsiMDgiKT9uYXRpdmVQYXJzZUludDpmdW5jdGlvbih2YWx1ZSxyYWRpeCl7cmV0dXJuIG5hdGl2ZVBhcnNlSW50KGlzU3RyaW5nKHZhbHVlKT92YWx1ZS5yZXBsYWNlKHJlTGVhZGluZ1NwYWNlc0FuZFplcm9zLCIiKTp2YWx1ZSxyYWRpeHx8MCl9O3JldHVybiBsb2Rhc2guYWZ0ZXI9YWZ0ZXIsbG9kYXNoLmFzc2lnbj1hc3NpZ24sbG9kYXNoLmF0PWF0LGxvZGFzaC5iaW5kPWJpbmQsbG9kYXNoLmJpbmRBbGw9YmluZEFsbCxsb2Rhc2guYmluZEtleT1iaW5kS2V5LGxvZGFzaC5jaGFpbj1jaGFpbixsb2Rhc2guY29tcGFjdD1jb21wYWN0LGxvZGFzaC5jb21wb3NlPWNvbXBvc2UsbG9kYXNoLmNvbnN0YW50PWNvbnN0YW50LGxvZGFzaC5jb3VudEJ5PWNvdW50QnksbG9kYXNoLmNyZWF0ZT1jcmVhdGUsbG9kYXNoLmNyZWF0ZUNhbGxiYWNrPWNyZWF0ZUNhbGxiYWNrLGxvZGFzaC5jdXJyeT1jdXJyeSxsb2Rhc2guZGVib3VuY2U9ZGVib3VuY2UsbG9kYXNoLmRlZmF1bHRzPWRlZmF1bHRzLGxvZGFzaC5kZWZlcj1kZWZlcixsb2Rhc2guZGVsYXk9ZGVsYXksbG9kYXNoLmRpZmZlcmVuY2U9ZGlmZmVyZW5jZSxsb2Rhc2guZmlsdGVyPWZpbHRlcixsb2Rhc2guZmxhdHRlbj1mbGF0dGVuLGxvZGFzaC5mb3JFYWNoPWZvckVhY2gsbG9kYXNoLmZvckVhY2hSaWdodD1mb3JFYWNoUmlnaHQsbG9kYXNoLmZvckluPWZvckluLGxvZGFzaC5mb3JJblJpZ2h0PWZvckluUmlnaHQsbG9kYXNoLmZvck93bj1mb3JPd24sbG9kYXNoLmZvck93blJpZ2h0PWZvck93blJpZ2h0LGxvZGFzaC5mdW5jdGlvbnM9ZnVuY3Rpb25zLGxvZGFzaC5ncm91cEJ5PWdyb3VwQnksbG9kYXNoLmluZGV4Qnk9aW5kZXhCeSxsb2Rhc2guaW5pdGlhbD1pbml0aWFsLGxvZGFzaC5pbnRlcnNlY3Rpb249aW50ZXJzZWN0aW9uLGxvZGFzaC5pbnZlcnQ9aW52ZXJ0LGxvZGFzaC5pbnZva2U9aW52b2tlLGxvZGFzaC5rZXlzPWtleXMsbG9kYXNoLm1hcD1tYXAsbG9kYXNoLm1hcFZhbHVlcz1tYXBWYWx1ZXMsbG9kYXNoLm1heD1tYXgsbG9kYXNoLm1lbW9pemU9bWVtb2l6ZSxsb2Rhc2gubWVyZ2U9bWVyZ2UsbG9kYXNoLm1pbj1taW4sbG9kYXNoLm9taXQ9b21pdCxsb2Rhc2gub25jZT1vbmNlLGxvZGFzaC5wYWlycz1wYWlycyxsb2Rhc2gucGFydGlhbD1wYXJ0aWFsLGxvZGFzaC5wYXJ0aWFsUmlnaHQ9cGFydGlhbFJpZ2h0LGxvZGFzaC5waWNrPXBpY2ssbG9kYXNoLnBsdWNrPXBsdWNrLGxvZGFzaC5wcm9wZXJ0eT1wcm9wZXJ0eSxsb2Rhc2gucHVsbD1wdWxsLGxvZGFzaC5yYW5nZT1yYW5nZSxsb2Rhc2gucmVqZWN0PXJlamVjdCxsb2Rhc2gucmVtb3ZlPXJlbW92ZSxsb2Rhc2gucmVzdD1yZXN0LGxvZGFzaC5zaHVmZmxlPXNodWZmbGUsbG9kYXNoLnNvcnRCeT1zb3J0QnksbG9kYXNoLnRhcD10YXAsbG9kYXNoLnRocm90dGxlPXRocm90dGxlLGxvZGFzaC50aW1lcz10aW1lcyxsb2Rhc2gudG9BcnJheT10b0FycmF5LGxvZGFzaC50cmFuc2Zvcm09dHJhbnNmb3JtLGxvZGFzaC51bmlvbj11bmlvbixsb2Rhc2gudW5pcT11bmlxLGxvZGFzaC52YWx1ZXM9dmFsdWVzLGxvZGFzaC53aGVyZT13aGVyZSxsb2Rhc2gud2l0aG91dD13aXRob3V0LGxvZGFzaC53cmFwPXdyYXAsbG9kYXNoLnhvcj14b3IsbG9kYXNoLnppcD16aXAsbG9kYXNoLnppcE9iamVjdD16aXBPYmplY3QsbG9kYXNoLmNvbGxlY3Q9bWFwLGxvZGFzaC5kcm9wPXJlc3QsbG9kYXNoLmVhY2g9Zm9yRWFjaCxsb2Rhc2guZWFjaFJpZ2h0PWZvckVhY2hSaWdodCxsb2Rhc2guZXh0ZW5kPWFzc2lnbixsb2Rhc2gubWV0aG9kcz1mdW5jdGlvbnMsbG9kYXNoLm9iamVjdD16aXBPYmplY3QsbG9kYXNoLnNlbGVjdD1maWx0ZXIsbG9kYXNoLnRhaWw9cmVzdCxsb2Rhc2gudW5pcXVlPXVuaXEsbG9kYXNoLnVuemlwPXppcCxtaXhpbihsb2Rhc2gpLGxvZGFzaC5jbG9uZT1jbG9uZSxsb2Rhc2guY2xvbmVEZWVwPWNsb25lRGVlcCxsb2Rhc2guY29udGFpbnM9Y29udGFpbnMsbG9kYXNoLmVzY2FwZT1lc2NhcGUsbG9kYXNoLmV2ZXJ5PWV2ZXJ5LGxvZGFzaC5maW5kPWZpbmQsbG9kYXNoLmZpbmRJbmRleD1maW5kSW5kZXgsbG9kYXNoLmZpbmRLZXk9ZmluZEtleSxsb2Rhc2guZmluZExhc3Q9ZmluZExhc3QsbG9kYXNoLmZpbmRMYXN0SW5kZXg9ZmluZExhc3RJbmRleCxsb2Rhc2guZmluZExhc3RLZXk9ZmluZExhc3RLZXksbG9kYXNoLmhhcz1oYXMsbG9kYXNoLmlkZW50aXR5PWlkZW50aXR5LGxvZGFzaC5pbmRleE9mPWluZGV4T2YsbG9kYXNoLmlzQXJndW1lbnRzPWlzQXJndW1lbnRzLGxvZGFzaC5pc0FycmF5PWlzQXJyYXksbG9kYXNoLmlzQm9vbGVhbj1pc0Jvb2xlYW4sbG9kYXNoLmlzRGF0ZT1pc0RhdGUsbG9kYXNoLmlzRWxlbWVudD1pc0VsZW1lbnQsbG9kYXNoLmlzRW1wdHk9aXNFbXB0eSxsb2Rhc2guaXNFcXVhbD1pc0VxdWFsLGxvZGFzaC5pc0Zpbml0ZT1pc0Zpbml0ZSxsb2Rhc2guaXNGdW5jdGlvbj1pc0Z1bmN0aW9uLGxvZGFzaC5pc05hTj1pc05hTixsb2Rhc2guaXNOdWxsPWlzTnVsbCxsb2Rhc2guaXNOdW1iZXI9aXNOdW1iZXIsbG9kYXNoLmlzT2JqZWN0PWlzT2JqZWN0LGxvZGFzaC5pc1BsYWluT2JqZWN0PWlzUGxhaW5PYmplY3QsbG9kYXNoLmlzUmVnRXhwPWlzUmVnRXhwLGxvZGFzaC5pc1N0cmluZz1pc1N0cmluZyxsb2Rhc2guaXNVbmRlZmluZWQ9aXNVbmRlZmluZWQsbG9kYXNoLmxhc3RJbmRleE9mPWxhc3RJbmRleE9mLGxvZGFzaC5taXhpbj1taXhpbixsb2Rhc2gubm9Db25mbGljdD1ub0NvbmZsaWN0LGxvZGFzaC5ub29wPW5vb3AsbG9kYXNoLm5vdz1ub3csbG9kYXNoLnBhcnNlSW50PXBhcnNlSW50LGxvZGFzaC5yYW5kb209cmFuZG9tLGxvZGFzaC5yZWR1Y2U9cmVkdWNlLGxvZGFzaC5yZWR1Y2VSaWdodD1yZWR1Y2VSaWdodCxsb2Rhc2gucmVzdWx0PXJlc3VsdCxsb2Rhc2gucnVuSW5Db250ZXh0PXJ1bkluQ29udGV4dCxsb2Rhc2guc2l6ZT1zaXplLGxvZGFzaC5zb21lPXNvbWUsbG9kYXNoLnNvcnRlZEluZGV4PXNvcnRlZEluZGV4LGxvZGFzaC50ZW1wbGF0ZT10ZW1wbGF0ZSxsb2Rhc2gudW5lc2NhcGU9dW5lc2NhcGUsbG9kYXNoLnVuaXF1ZUlkPXVuaXF1ZUlkLGxvZGFzaC5hbGw9ZXZlcnksbG9kYXNoLmFueT1zb21lLGxvZGFzaC5kZXRlY3Q9ZmluZCxsb2Rhc2guZmluZFdoZXJlPWZpbmQsbG9kYXNoLmZvbGRsPXJlZHVjZSxsb2Rhc2guZm9sZHI9cmVkdWNlUmlnaHQsbG9kYXNoLmluY2x1ZGU9Y29udGFpbnMsbG9kYXNoLmluamVjdD1yZWR1Y2UsbWl4aW4oZnVuY3Rpb24oKXt2YXIgc291cmNlPXt9OwpyZXR1cm4gZm9yT3duKGxvZGFzaCxmdW5jdGlvbihmdW5jLG1ldGhvZE5hbWUpe2xvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV18fChzb3VyY2VbbWV0aG9kTmFtZV09ZnVuYyl9KSxzb3VyY2V9KCksITEpLGxvZGFzaC5maXJzdD1maXJzdCxsb2Rhc2gubGFzdD1sYXN0LGxvZGFzaC5zYW1wbGU9c2FtcGxlLGxvZGFzaC50YWtlPWZpcnN0LGxvZGFzaC5oZWFkPWZpcnN0LGZvck93bihsb2Rhc2gsZnVuY3Rpb24oZnVuYyxtZXRob2ROYW1lKXt2YXIgY2FsbGJhY2thYmxlPSJzYW1wbGUiIT09bWV0aG9kTmFtZTtsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdfHwobG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXT1mdW5jdGlvbihuLGd1YXJkKXt2YXIgY2hhaW5BbGw9dGhpcy5fX2NoYWluX18scmVzdWx0PWZ1bmModGhpcy5fX3dyYXBwZWRfXyxuLGd1YXJkKTtyZXR1cm4gY2hhaW5BbGx8fG51bGwhPW4mJighZ3VhcmR8fGNhbGxiYWNrYWJsZSYmImZ1bmN0aW9uIj09dHlwZW9mIG4pP25ldyBsb2Rhc2hXcmFwcGVyKHJlc3VsdCxjaGFpbkFsbCk6cmVzdWx0fSl9KSxsb2Rhc2guVkVSU0lPTj0iMi40LjEiLGxvZGFzaC5wcm90b3R5cGUuY2hhaW49d3JhcHBlckNoYWluLGxvZGFzaC5wcm90b3R5cGUudG9TdHJpbmc9d3JhcHBlclRvU3RyaW5nLGxvZGFzaC5wcm90b3R5cGUudmFsdWU9d3JhcHBlclZhbHVlT2YsbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mPXdyYXBwZXJWYWx1ZU9mLGJhc2VFYWNoKFsiam9pbiIsInBvcCIsInNoaWZ0Il0sZnVuY3Rpb24obWV0aG9kTmFtZSl7dmFyIGZ1bmM9YXJyYXlSZWZbbWV0aG9kTmFtZV07bG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXT1mdW5jdGlvbigpe3ZhciBjaGFpbkFsbD10aGlzLl9fY2hhaW5fXyxyZXN1bHQ9ZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLGFyZ3VtZW50cyk7cmV0dXJuIGNoYWluQWxsP25ldyBsb2Rhc2hXcmFwcGVyKHJlc3VsdCxjaGFpbkFsbCk6cmVzdWx0fX0pLGJhc2VFYWNoKFsicHVzaCIsInJldmVyc2UiLCJzb3J0IiwidW5zaGlmdCJdLGZ1bmN0aW9uKG1ldGhvZE5hbWUpe3ZhciBmdW5jPWFycmF5UmVmW21ldGhvZE5hbWVdO2xvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLGFyZ3VtZW50cyksdGhpc319KSxiYXNlRWFjaChbImNvbmNhdCIsInNsaWNlIiwic3BsaWNlIl0sZnVuY3Rpb24obWV0aG9kTmFtZSl7dmFyIGZ1bmM9YXJyYXlSZWZbbWV0aG9kTmFtZV07bG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXT1mdW5jdGlvbigpe3JldHVybiBuZXcgbG9kYXNoV3JhcHBlcihmdW5jLmFwcGx5KHRoaXMuX193cmFwcGVkX18sYXJndW1lbnRzKSx0aGlzLl9fY2hhaW5fXyl9fSksc3VwcG9ydC5zcGxpY2VPYmplY3RzfHxiYXNlRWFjaChbInBvcCIsInNoaWZ0Iiwic3BsaWNlIl0sZnVuY3Rpb24obWV0aG9kTmFtZSl7dmFyIGZ1bmM9YXJyYXlSZWZbbWV0aG9kTmFtZV0saXNTcGxpY2U9InNwbGljZSI9PW1ldGhvZE5hbWU7bG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXT1mdW5jdGlvbigpe3ZhciBjaGFpbkFsbD10aGlzLl9fY2hhaW5fXyx2YWx1ZT10aGlzLl9fd3JhcHBlZF9fLHJlc3VsdD1mdW5jLmFwcGx5KHZhbHVlLGFyZ3VtZW50cyk7cmV0dXJuIDA9PT12YWx1ZS5sZW5ndGgmJmRlbGV0ZSB2YWx1ZVswXSxjaGFpbkFsbHx8aXNTcGxpY2U/bmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LGNoYWluQWxsKTpyZXN1bHR9fSksbG9kYXNofXZhciB1bmRlZmluZWQsYXJyYXlQb29sPVtdLG9iamVjdFBvb2w9W10saWRDb3VudGVyPTAsaW5kaWNhdG9yT2JqZWN0PXt9LGtleVByZWZpeD0rbmV3IERhdGUrIiIsbGFyZ2VBcnJheVNpemU9NzUsbWF4UG9vbFNpemU9NDAsd2hpdGVzcGFjZT0iIAkLXGbCoO+7v1xuXHJcdTIwMjhcdTIwMjnhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIAiLHJlRW1wdHlTdHJpbmdMZWFkaW5nPS9cYl9fcCBcKz0gJyc7L2cscmVFbXB0eVN0cmluZ01pZGRsZT0vXGIoX19wIFwrPSkgJycgXCsvZyxyZUVtcHR5U3RyaW5nVHJhaWxpbmc9LyhfX2VcKC4qP1wpfFxiX190XCkpIFwrXG4nJzsvZyxyZUVzVGVtcGxhdGU9L1wkXHsoW15cXH1dKig/OlxcLlteXFx9XSopKilcfS9nLHJlRmxhZ3M9L1x3KiQvLHJlRnVuY05hbWU9L15ccypmdW5jdGlvblsgXG5cclx0XStcdy8scmVJbnRlcnBvbGF0ZT0vPCU9KFtcc1xTXSs/KSU+L2cscmVMZWFkaW5nU3BhY2VzQW5kWmVyb3M9UmVnRXhwKCJeWyIrd2hpdGVzcGFjZSsiXSowKyg/PS4kKSIpLHJlTm9NYXRjaD0vKCReKS8scmVUaGlzPS9cYnRoaXNcYi8scmVVbmVzY2FwZWRTdHJpbmc9L1snXG5cclx0XHUyMDI4XHUyMDI5XFxdL2csY29udGV4dFByb3BzPVsiQXJyYXkiLCJCb29sZWFuIiwiRGF0ZSIsIkVycm9yIiwiRnVuY3Rpb24iLCJNYXRoIiwiTnVtYmVyIiwiT2JqZWN0IiwiUmVnRXhwIiwiU3RyaW5nIiwiXyIsImF0dGFjaEV2ZW50IiwiY2xlYXJUaW1lb3V0IiwiaXNGaW5pdGUiLCJpc05hTiIsInBhcnNlSW50Iiwic2V0VGltZW91dCJdLHNoYWRvd2VkUHJvcHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXSx0ZW1wbGF0ZUNvdW50ZXI9MCxhcmdzQ2xhc3M9IltvYmplY3QgQXJndW1lbnRzXSIsYXJyYXlDbGFzcz0iW29iamVjdCBBcnJheV0iLGJvb2xDbGFzcz0iW29iamVjdCBCb29sZWFuXSIsZGF0ZUNsYXNzPSJbb2JqZWN0IERhdGVdIixlcnJvckNsYXNzPSJbb2JqZWN0IEVycm9yXSIsZnVuY0NsYXNzPSJbb2JqZWN0IEZ1bmN0aW9uXSIsbnVtYmVyQ2xhc3M9IltvYmplY3QgTnVtYmVyXSIsb2JqZWN0Q2xhc3M9IltvYmplY3QgT2JqZWN0XSIscmVnZXhwQ2xhc3M9IltvYmplY3QgUmVnRXhwXSIsc3RyaW5nQ2xhc3M9IltvYmplY3QgU3RyaW5nXSIsY2xvbmVhYmxlQ2xhc3Nlcz17fTtjbG9uZWFibGVDbGFzc2VzW2Z1bmNDbGFzc109ITEsY2xvbmVhYmxlQ2xhc3Nlc1thcmdzQ2xhc3NdPWNsb25lYWJsZUNsYXNzZXNbYXJyYXlDbGFzc109Y2xvbmVhYmxlQ2xhc3Nlc1tib29sQ2xhc3NdPWNsb25lYWJsZUNsYXNzZXNbZGF0ZUNsYXNzXT1jbG9uZWFibGVDbGFzc2VzW251bWJlckNsYXNzXT1jbG9uZWFibGVDbGFzc2VzW29iamVjdENsYXNzXT1jbG9uZWFibGVDbGFzc2VzW3JlZ2V4cENsYXNzXT1jbG9uZWFibGVDbGFzc2VzW3N0cmluZ0NsYXNzXT0hMDt2YXIgZGVib3VuY2VPcHRpb25zPXtsZWFkaW5nOiExLG1heFdhaXQ6MCx0cmFpbGluZzohMX0sZGVzY3JpcHRvcj17Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6bnVsbCx3cml0YWJsZTohMX0saXRlcmF0b3JEYXRhPXthcmdzOiIiLGFycmF5Om51bGwsYm90dG9tOiIiLGZpcnN0QXJnOiIiLGluaXQ6IiIsa2V5czpudWxsLGxvb3A6IiIsc2hhZG93ZWRQcm9wczpudWxsLHN1cHBvcnQ6bnVsbCx0b3A6IiIsdXNlSGFzOiExfSxvYmplY3RUeXBlcz17ImJvb2xlYW4iOiExLCJmdW5jdGlvbiI6ITAsb2JqZWN0OiEwLG51bWJlcjohMSxzdHJpbmc6ITEsdW5kZWZpbmVkOiExfSxzdHJpbmdFc2NhcGVzPXsiXFwiOiJcXCIsIiciOiInIiwiXG4iOiJuIiwiXHIiOiJyIiwiCSI6InQiLCJcdTIwMjgiOiJ1MjAyOCIsIlx1MjAyOSI6InUyMDI5In0scm9vdD1vYmplY3RUeXBlc1t0eXBlb2Ygd2luZG93XSYmd2luZG93fHx0aGlzLGZyZWVFeHBvcnRzPW9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHMsZnJlZU1vZHVsZT1vYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSYmbW9kdWxlJiYhbW9kdWxlLm5vZGVUeXBlJiZtb2R1bGUsbW9kdWxlRXhwb3J0cz1mcmVlTW9kdWxlJiZmcmVlTW9kdWxlLmV4cG9ydHM9PT1mcmVlRXhwb3J0cyYmZnJlZUV4cG9ydHMsZnJlZUdsb2JhbD1vYmplY3RUeXBlc1t0eXBlb2YgZ2xvYmFsXSYmZ2xvYmFsOyFmcmVlR2xvYmFsfHxmcmVlR2xvYmFsLmdsb2JhbCE9PWZyZWVHbG9iYWwmJmZyZWVHbG9iYWwud2luZG93IT09ZnJlZUdsb2JhbHx8KHJvb3Q9ZnJlZUdsb2JhbCk7dmFyIF89cnVuSW5Db250ZXh0KCk7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmIm9iamVjdCI9PXR5cGVvZiBkZWZpbmUuYW1kJiZkZWZpbmUuYW1kPyhyb290Ll89XyxkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gX30pKTpmcmVlRXhwb3J0cyYmZnJlZU1vZHVsZT9tb2R1bGVFeHBvcnRzPyhmcmVlTW9kdWxlLmV4cG9ydHM9XykuXz1fOmZyZWVFeHBvcnRzLl89Xzpyb290Ll89X30uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciBtb2R1bGU9YW5ndWxhci5tb2R1bGUoInJlc3Rhbmd1bGFyIixbXSk7bW9kdWxlLnByb3ZpZGVyKCJSZXN0YW5ndWxhciIsZnVuY3Rpb24oKXt2YXIgQ29uZmlndXJlcj17fTtDb25maWd1cmVyLmluaXQ9ZnVuY3Rpb24ob2JqZWN0LGNvbmZpZyl7ZnVuY3Rpb24gUmVzdGFuZ3VsYXJSZXNvdXJjZShjb25maWcsJGh0dHAsdXJsLGNvbmZpZ3VyZXIpe3ZhciByZXNvdXJjZT17fTtyZXR1cm4gXy5lYWNoKF8ua2V5cyhjb25maWd1cmVyKSxmdW5jdGlvbihrZXkpe3ZhciB2YWx1ZT1jb25maWd1cmVyW2tleV07dmFsdWUucGFyYW1zPV8uZXh0ZW5kKHt9LHZhbHVlLnBhcmFtcyxjb25maWcuZGVmYXVsdFJlcXVlc3RQYXJhbXNbdmFsdWUubWV0aG9kLnRvTG93ZXJDYXNlKCldKSxfLmlzRW1wdHkodmFsdWUucGFyYW1zKSYmZGVsZXRlIHZhbHVlLnBhcmFtcyxyZXNvdXJjZVtrZXldPWNvbmZpZy5pc1NhZmUodmFsdWUubWV0aG9kKT9mdW5jdGlvbigpe3JldHVybiAkaHR0cChfLmV4dGVuZCh2YWx1ZSx7dXJsOnVybH0pKX06ZnVuY3Rpb24oZGF0YSl7cmV0dXJuICRodHRwKF8uZXh0ZW5kKHZhbHVlLHt1cmw6dXJsLGRhdGE6ZGF0YX0pKX19KSxyZXNvdXJjZX1vYmplY3QuY29uZmlndXJhdGlvbj1jb25maWc7dmFyIHNhZmVNZXRob2RzPVsiZ2V0IiwiaGVhZCIsIm9wdGlvbnMiLCJ0cmFjZSIsImdldGxpc3QiXTtjb25maWcuaXNTYWZlPWZ1bmN0aW9uKG9wZXJhdGlvbil7cmV0dXJuIF8uY29udGFpbnMoc2FmZU1ldGhvZHMsb3BlcmF0aW9uLnRvTG93ZXJDYXNlKCkpfTt2YXIgYWJzb2x1dGVQYXR0ZXJuPS9eaHR0cHM/OlwvXC8vaTtjb25maWcuaXNBYnNvbHV0ZVVybD1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBfLmlzVW5kZWZpbmVkKGNvbmZpZy5hYnNvbHV0ZVVybCl8fF8uaXNOdWxsKGNvbmZpZy5hYnNvbHV0ZVVybCk/c3RyaW5nJiZhYnNvbHV0ZVBhdHRlcm4udGVzdChzdHJpbmcpOmNvbmZpZy5hYnNvbHV0ZVVybH0sY29uZmlnLmFic29sdXRlVXJsPV8uaXNVbmRlZmluZWQoY29uZmlnLmFic29sdXRlVXJsKT8hMDpjb25maWcuYWJzb2x1dGVVcmwsb2JqZWN0LnNldFNlbGZMaW5rQWJzb2x1dGVVcmw9ZnVuY3Rpb24odmFsdWUpe2NvbmZpZy5hYnNvbHV0ZVVybD12YWx1ZX0sY29uZmlnLmJhc2VVcmw9Xy5pc1VuZGVmaW5lZChjb25maWcuYmFzZVVybCk/IiI6Y29uZmlnLmJhc2VVcmwsb2JqZWN0LnNldEJhc2VVcmw9ZnVuY3Rpb24obmV3QmFzZVVybCl7cmV0dXJuIGNvbmZpZy5iYXNlVXJsPS9cLyQvLnRlc3QobmV3QmFzZVVybCk/bmV3QmFzZVVybC5zdWJzdHJpbmcoMCxuZXdCYXNlVXJsLmxlbmd0aC0xKTpuZXdCYXNlVXJsLHRoaXN9LGNvbmZpZy5leHRyYUZpZWxkcz1jb25maWcuZXh0cmFGaWVsZHN8fFtdLG9iamVjdC5zZXRFeHRyYUZpZWxkcz1mdW5jdGlvbihuZXdFeHRyYUZpZWxkcyl7cmV0dXJuIGNvbmZpZy5leHRyYUZpZWxkcz1uZXdFeHRyYUZpZWxkcyx0aGlzfSxjb25maWcuZGVmYXVsdEh0dHBGaWVsZHM9Y29uZmlnLmRlZmF1bHRIdHRwRmllbGRzfHx7fSxvYmplY3Quc2V0RGVmYXVsdEh0dHBGaWVsZHM9ZnVuY3Rpb24odmFsdWVzKXtyZXR1cm4gY29uZmlnLmRlZmF1bHRIdHRwRmllbGRzPXZhbHVlcyx0aGlzfSxjb25maWcud2l0aEh0dHBWYWx1ZXM9ZnVuY3Rpb24oaHR0cExvY2FsQ29uZmlnLG9iail7cmV0dXJuIF8uZGVmYXVsdHMob2JqLGh0dHBMb2NhbENvbmZpZyxjb25maWcuZGVmYXVsdEh0dHBGaWVsZHMpfSxjb25maWcuZW5jb2RlSWRzPV8uaXNVbmRlZmluZWQoY29uZmlnLmVuY29kZUlkcyk/ITA6Y29uZmlnLmVuY29kZUlkcyxvYmplY3Quc2V0RW5jb2RlSWRzPWZ1bmN0aW9uKGVuY29kZSl7Y29uZmlnLmVuY29kZUlkcz1lbmNvZGV9LGNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtcz1jb25maWcuZGVmYXVsdFJlcXVlc3RQYXJhbXN8fHtnZXQ6e30scG9zdDp7fSxwdXQ6e30scmVtb3ZlOnt9LGNvbW1vbjp7fX0sb2JqZWN0LnNldERlZmF1bHRSZXF1ZXN0UGFyYW1zPWZ1bmN0aW9uKHBhcmFtMSxwYXJhbTIpe3ZhciBtZXRob2RzPVtdLHBhcmFtcz1wYXJhbTJ8fHBhcmFtMTtyZXR1cm4gXy5pc1VuZGVmaW5lZChwYXJhbTIpP21ldGhvZHMucHVzaCgiY29tbW9uIik6Xy5pc0FycmF5KHBhcmFtMSk/bWV0aG9kcz1wYXJhbTE6bWV0aG9kcy5wdXNoKHBhcmFtMSksXy5lYWNoKG1ldGhvZHMsZnVuY3Rpb24obWV0aG9kKXtjb25maWcuZGVmYXVsdFJlcXVlc3RQYXJhbXNbbWV0aG9kXT1wYXJhbXN9KSx0aGlzfSxvYmplY3QucmVxdWVzdFBhcmFtcz1jb25maWcuZGVmYXVsdFJlcXVlc3RQYXJhbXMsY29uZmlnLmRlZmF1bHRIZWFkZXJzPWNvbmZpZy5kZWZhdWx0SGVhZGVyc3x8e30sb2JqZWN0LnNldERlZmF1bHRIZWFkZXJzPWZ1bmN0aW9uKGhlYWRlcnMpe3JldHVybiBjb25maWcuZGVmYXVsdEhlYWRlcnM9aGVhZGVycyxvYmplY3QuZGVmYXVsdEhlYWRlcnM9Y29uZmlnLmRlZmF1bHRIZWFkZXJzLHRoaXN9LG9iamVjdC5kZWZhdWx0SGVhZGVycz1jb25maWcuZGVmYXVsdEhlYWRlcnMsY29uZmlnLm1ldGhvZE92ZXJyaWRlcnM9Y29uZmlnLm1ldGhvZE92ZXJyaWRlcnN8fFtdLG9iamVjdC5zZXRNZXRob2RPdmVycmlkZXJzPWZ1bmN0aW9uKHZhbHVlcyl7dmFyIG92ZXJyaWRlcnM9Xy5leHRlbmQoW10sdmFsdWVzKTtyZXR1cm4gY29uZmlnLmlzT3ZlcnJpZGVuTWV0aG9kKCJkZWxldGUiLG92ZXJyaWRlcnMpJiZvdmVycmlkZXJzLnB1c2goInJlbW92ZSIpLGNvbmZpZy5tZXRob2RPdmVycmlkZXJzPW92ZXJyaWRlcnMsdGhpc30sY29uZmlnLmpzb25wPV8uaXNVbmRlZmluZWQoY29uZmlnLmpzb25wKT8hMTpjb25maWcuanNvbnAsb2JqZWN0LnNldEpzb25wPWZ1bmN0aW9uKGFjdGl2ZSl7Y29uZmlnLmpzb25wPWFjdGl2ZX0sY29uZmlnLmlzT3ZlcnJpZGVuTWV0aG9kPWZ1bmN0aW9uKG1ldGhvZCx2YWx1ZXMpe3ZhciBzZWFyY2g9dmFsdWVzfHxjb25maWcubWV0aG9kT3ZlcnJpZGVycztyZXR1cm4hXy5pc1VuZGVmaW5lZChfLmZpbmQoc2VhcmNoLGZ1bmN0aW9uKG9uZSl7cmV0dXJuIG9uZS50b0xvd2VyQ2FzZSgpPT09bWV0aG9kLnRvTG93ZXJDYXNlKCl9KSl9LGNvbmZpZy51cmxDcmVhdG9yPWNvbmZpZy51cmxDcmVhdG9yfHwicGF0aCIsb2JqZWN0LnNldFVybENyZWF0b3I9ZnVuY3Rpb24obmFtZSl7aWYoIV8uaGFzKGNvbmZpZy51cmxDcmVhdG9yRmFjdG9yeSxuYW1lKSl0aHJvdyBuZXcgRXJyb3IoIlVSTCBQYXRoIHNlbGVjdGVkIGlzbid0IHZhbGlkIik7cmV0dXJuIGNvbmZpZy51cmxDcmVhdG9yPW5hbWUsdGhpc30sY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzPWNvbmZpZy5yZXN0YW5ndWxhckZpZWxkc3x8e2lkOiJpZCIscm91dGU6InJvdXRlIixwYXJlbnRSZXNvdXJjZToicGFyZW50UmVzb3VyY2UiLHJlc3Rhbmd1bGFyQ29sbGVjdGlvbjoicmVzdGFuZ3VsYXJDb2xsZWN0aW9uIixjYW5ub25pY2FsSWQ6Il9fY2Fubm9uaWNhbElkIixldGFnOiJyZXN0YW5ndWxhckV0YWciLHNlbGZMaW5rOiJocmVmIixnZXQ6ImdldCIsZ2V0TGlzdDoiZ2V0TGlzdCIscHV0OiJwdXQiLHBvc3Q6InBvc3QiLHJlbW92ZToicmVtb3ZlIixoZWFkOiJoZWFkIix0cmFjZToidHJhY2UiLG9wdGlvbnM6Im9wdGlvbnMiLHBhdGNoOiJwYXRjaCIsZ2V0UmVzdGFuZ3VsYXJVcmw6ImdldFJlc3Rhbmd1bGFyVXJsIixnZXRSZXF1ZXN0ZWRVcmw6ImdldFJlcXVlc3RlZFVybCIscHV0RWxlbWVudDoicHV0RWxlbWVudCIsYWRkUmVzdGFuZ3VsYXJNZXRob2Q6ImFkZFJlc3Rhbmd1bGFyTWV0aG9kIixnZXRQYXJlbnRMaXN0OiJnZXRQYXJlbnRMaXN0IixjbG9uZToiY2xvbmUiLGlkczoiaWRzIixodHRwQ29uZmlnOiJfJGh0dHBDb25maWciLHJlcVBhcmFtczoicmVxUGFyYW1zIixvbmU6Im9uZSIsYWxsOiJhbGwiLHNldmVyYWw6InNldmVyYWwiLG9uZVVybDoib25lVXJsIixhbGxVcmw6ImFsbFVybCIsY3VzdG9tUFVUOiJjdXN0b21QVVQiLGN1c3RvbVBPU1Q6ImN1c3RvbVBPU1QiLGN1c3RvbURFTEVURToiY3VzdG9tREVMRVRFIixjdXN0b21HRVQ6ImN1c3RvbUdFVCIsY3VzdG9tR0VUTElTVDoiY3VzdG9tR0VUTElTVCIsY3VzdG9tT3BlcmF0aW9uOiJjdXN0b21PcGVyYXRpb24iLGRvUFVUOiJkb1BVVCIsZG9QT1NUOiJkb1BPU1QiLGRvREVMRVRFOiJkb0RFTEVURSIsZG9HRVQ6ImRvR0VUIixkb0dFVExJU1Q6ImRvR0VUTElTVCIsZnJvbVNlcnZlcjoiZnJvbVNlcnZlciIsd2l0aENvbmZpZzoid2l0aENvbmZpZyIsd2l0aEh0dHBDb25maWc6IndpdGhIdHRwQ29uZmlnIixzaW5nbGVPbmU6InNpbmdsZU9uZSIscGxhaW46InBsYWluIixzYXZlOiJzYXZlIn0sb2JqZWN0LnNldFJlc3Rhbmd1bGFyRmllbGRzPWZ1bmN0aW9uKHJlc0ZpZWxkcyl7cmV0dXJuIGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcz1fLmV4dGVuZChjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMscmVzRmllbGRzKSx0aGlzfSxjb25maWcuaXNSZXN0YW5ndWxhcml6ZWQ9ZnVuY3Rpb24ob2JqKXtyZXR1cm4hIW9ialtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMub25lXXx8ISFvYmpbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmFsbF19LGNvbmZpZy5zZXRGaWVsZFRvRWxlbT1mdW5jdGlvbihmaWVsZCxlbGVtLHZhbHVlKXt2YXIgcHJvcGVydGllcz1maWVsZC5zcGxpdCgiLiIpLGlkVmFsdWU9ZWxlbTtyZXR1cm4gXy5lYWNoKF8uaW5pdGlhbChwcm9wZXJ0aWVzKSxmdW5jdGlvbihwcm9wKXtpZFZhbHVlW3Byb3BdPXt9LGlkVmFsdWU9aWRWYWx1ZVtwcm9wXX0pLGlkVmFsdWVbXy5sYXN0KHByb3BlcnRpZXMpXT12YWx1ZSx0aGlzfSxjb25maWcuZ2V0RmllbGRGcm9tRWxlbT1mdW5jdGlvbihmaWVsZCxlbGVtKXt2YXIgcHJvcGVydGllcz1maWVsZC5zcGxpdCgiLiIpLGlkVmFsdWU9ZWxlbTtyZXR1cm4gXy5lYWNoKHByb3BlcnRpZXMsZnVuY3Rpb24ocHJvcCl7aWRWYWx1ZSYmKGlkVmFsdWU9aWRWYWx1ZVtwcm9wXSl9KSxhbmd1bGFyLmNvcHkoaWRWYWx1ZSl9LGNvbmZpZy5zZXRJZFRvRWxlbT1mdW5jdGlvbihlbGVtLGlkKXtyZXR1cm4gY29uZmlnLnNldEZpZWxkVG9FbGVtKGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5pZCxlbGVtLGlkKSx0aGlzfSxjb25maWcuZ2V0SWRGcm9tRWxlbT1mdW5jdGlvbihlbGVtKXtyZXR1cm4gY29uZmlnLmdldEZpZWxkRnJvbUVsZW0oY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmlkLGVsZW0pfSxjb25maWcuaXNWYWxpZElkPWZ1bmN0aW9uKGVsZW1JZCl7cmV0dXJuIiIhPT1lbGVtSWQmJiFfLmlzVW5kZWZpbmVkKGVsZW1JZCkmJiFfLmlzTnVsbChlbGVtSWQpfSxjb25maWcuc2V0VXJsVG9FbGVtPWZ1bmN0aW9uKGVsZW0sdXJsKXtyZXR1cm4gY29uZmlnLnNldEZpZWxkVG9FbGVtKGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zZWxmTGluayxlbGVtLHVybCksdGhpc30sY29uZmlnLmdldFVybEZyb21FbGVtPWZ1bmN0aW9uKGVsZW0pe3JldHVybiBjb25maWcuZ2V0RmllbGRGcm9tRWxlbShjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuc2VsZkxpbmssZWxlbSl9LGNvbmZpZy51c2VDYW5ub25pY2FsSWQ9Xy5pc1VuZGVmaW5lZChjb25maWcudXNlQ2Fubm9uaWNhbElkKT8hMTpjb25maWcudXNlQ2Fubm9uaWNhbElkLG9iamVjdC5zZXRVc2VDYW5ub25pY2FsSWQ9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBjb25maWcudXNlQ2Fubm9uaWNhbElkPXZhbHVlLHRoaXN9LGNvbmZpZy5nZXRDYW5ub25pY2FsSWRGcm9tRWxlbT1mdW5jdGlvbihlbGVtKXt2YXIgY2Fubm9uaWNhbElkPWVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmNhbm5vbmljYWxJZF0sYWN0dWFsSWQ9Y29uZmlnLmlzVmFsaWRJZChjYW5ub25pY2FsSWQpP2Nhbm5vbmljYWxJZDpjb25maWcuZ2V0SWRGcm9tRWxlbShlbGVtKTtyZXR1cm4gYWN0dWFsSWR9LGNvbmZpZy5yZXNwb25zZUludGVyY2VwdG9ycz1jb25maWcucmVzcG9uc2VJbnRlcmNlcHRvcnN8fFtdLGNvbmZpZy5kZWZhdWx0UmVzcG9uc2VJbnRlcmNlcHRvcj1mdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YX0sY29uZmlnLnJlc3BvbnNlRXh0cmFjdG9yPWZ1bmN0aW9uKGRhdGEsb3BlcmF0aW9uLHdoYXQsdXJsLHJlc3BvbnNlLGRlZmVycmVkKXt2YXIgaW50ZXJjZXB0b3JzPWFuZ3VsYXIuY29weShjb25maWcucmVzcG9uc2VJbnRlcmNlcHRvcnMpO2ludGVyY2VwdG9ycy5wdXNoKGNvbmZpZy5kZWZhdWx0UmVzcG9uc2VJbnRlcmNlcHRvcik7dmFyIHRoZURhdGE9ZGF0YTtyZXR1cm4gXy5lYWNoKGludGVyY2VwdG9ycyxmdW5jdGlvbihpbnRlcmNlcHRvcil7dGhlRGF0YT1pbnRlcmNlcHRvcih0aGVEYXRhLG9wZXJhdGlvbix3aGF0LHVybCxyZXNwb25zZSxkZWZlcnJlZCl9KSx0aGVEYXRhfSxvYmplY3QuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcj1mdW5jdGlvbihleHRyYWN0b3Ipe3JldHVybiBjb25maWcucmVzcG9uc2VJbnRlcmNlcHRvcnMucHVzaChleHRyYWN0b3IpLHRoaXN9LG9iamVjdC5zZXRSZXNwb25zZUludGVyY2VwdG9yPW9iamVjdC5hZGRSZXNwb25zZUludGVyY2VwdG9yLG9iamVjdC5zZXRSZXNwb25zZUV4dHJhY3Rvcj1vYmplY3QuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcixjb25maWcucmVxdWVzdEludGVyY2VwdG9ycz1jb25maWcucmVxdWVzdEludGVyY2VwdG9yc3x8W10sY29uZmlnLmRlZmF1bHRJbnRlcmNlcHRvcj1mdW5jdGlvbihlbGVtZW50LG9wZXJhdGlvbixwYXRoLHVybCxoZWFkZXJzLHBhcmFtcyxodHRwQ29uZmlnKXtyZXR1cm57ZWxlbWVudDplbGVtZW50LGhlYWRlcnM6aGVhZGVycyxwYXJhbXM6cGFyYW1zLGh0dHBDb25maWc6aHR0cENvbmZpZ319LGNvbmZpZy5mdWxsUmVxdWVzdEludGVyY2VwdG9yPWZ1bmN0aW9uKGVsZW1lbnQsb3BlcmF0aW9uLHBhdGgsdXJsLGhlYWRlcnMscGFyYW1zLGh0dHBDb25maWcpe3ZhciBpbnRlcmNlcHRvcnM9YW5ndWxhci5jb3B5KGNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzKSxkZWZhdWx0UmVxdWVzdD1jb25maWcuZGVmYXVsdEludGVyY2VwdG9yKGVsZW1lbnQsb3BlcmF0aW9uLHBhdGgsdXJsLGhlYWRlcnMscGFyYW1zLGh0dHBDb25maWcpO3JldHVybiBfLnJlZHVjZShpbnRlcmNlcHRvcnMsZnVuY3Rpb24ocmVxdWVzdCxpbnRlcmNlcHRvcil7cmV0dXJuIF8uZXh0ZW5kKHJlcXVlc3QsaW50ZXJjZXB0b3IocmVxdWVzdC5lbGVtZW50LG9wZXJhdGlvbixwYXRoLHVybCxyZXF1ZXN0LmhlYWRlcnMscmVxdWVzdC5wYXJhbXMscmVxdWVzdC5odHRwQ29uZmlnKSl9LGRlZmF1bHRSZXF1ZXN0KX0sb2JqZWN0LmFkZFJlcXVlc3RJbnRlcmNlcHRvcj1mdW5jdGlvbihpbnRlcmNlcHRvcil7cmV0dXJuIGNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzLnB1c2goZnVuY3Rpb24oZWxlbSxvcGVyYXRpb24scGF0aCx1cmwsaGVhZGVycyxwYXJhbXMsaHR0cENvbmZpZyl7cmV0dXJue2hlYWRlcnM6aGVhZGVycyxwYXJhbXM6cGFyYW1zLGVsZW1lbnQ6aW50ZXJjZXB0b3IoZWxlbSxvcGVyYXRpb24scGF0aCx1cmwpLGh0dHBDb25maWc6aHR0cENvbmZpZ319KSx0aGlzfSxvYmplY3Quc2V0UmVxdWVzdEludGVyY2VwdG9yPW9iamVjdC5hZGRSZXF1ZXN0SW50ZXJjZXB0b3Isb2JqZWN0LmFkZEZ1bGxSZXF1ZXN0SW50ZXJjZXB0b3I9ZnVuY3Rpb24oaW50ZXJjZXB0b3Ipe3JldHVybiBjb25maWcucmVxdWVzdEludGVyY2VwdG9ycy5wdXNoKGludGVyY2VwdG9yKSx0aGlzfSxvYmplY3Quc2V0RnVsbFJlcXVlc3RJbnRlcmNlcHRvcj1vYmplY3QuYWRkRnVsbFJlcXVlc3RJbnRlcmNlcHRvcixjb25maWcuZXJyb3JJbnRlcmNlcHRvcj1jb25maWcuZXJyb3JJbnRlcmNlcHRvcnx8ZnVuY3Rpb24oKXt9LG9iamVjdC5zZXRFcnJvckludGVyY2VwdG9yPWZ1bmN0aW9uKGludGVyY2VwdG9yKXtyZXR1cm4gY29uZmlnLmVycm9ySW50ZXJjZXB0b3I9aW50ZXJjZXB0b3IsdGhpc30sY29uZmlnLm9uQmVmb3JlRWxlbVJlc3Rhbmd1bGFyaXplZD1jb25maWcub25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkfHxmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbX0sb2JqZWN0LnNldE9uQmVmb3JlRWxlbVJlc3Rhbmd1bGFyaXplZD1mdW5jdGlvbihwb3N0KXtyZXR1cm4gY29uZmlnLm9uQmVmb3JlRWxlbVJlc3Rhbmd1bGFyaXplZD1wb3N0LHRoaXN9LGNvbmZpZy5vbkVsZW1SZXN0YW5ndWxhcml6ZWQ9Y29uZmlnLm9uRWxlbVJlc3Rhbmd1bGFyaXplZHx8ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW19LG9iamVjdC5zZXRPbkVsZW1SZXN0YW5ndWxhcml6ZWQ9ZnVuY3Rpb24ocG9zdCl7cmV0dXJuIGNvbmZpZy5vbkVsZW1SZXN0YW5ndWxhcml6ZWQ9cG9zdCx0aGlzfSxjb25maWcuc2hvdWxkU2F2ZVBhcmVudD1jb25maWcuc2hvdWxkU2F2ZVBhcmVudHx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb2JqZWN0LnNldFBhcmVudGxlc3M9ZnVuY3Rpb24odmFsdWVzKXtyZXR1cm4gXy5pc0FycmF5KHZhbHVlcyk/Y29uZmlnLnNob3VsZFNhdmVQYXJlbnQ9ZnVuY3Rpb24ocm91dGUpe3JldHVybiFfLmNvbnRhaW5zKHZhbHVlcyxyb3V0ZSl9Ol8uaXNCb29sZWFuKHZhbHVlcykmJihjb25maWcuc2hvdWxkU2F2ZVBhcmVudD1mdW5jdGlvbigpe3JldHVybiF2YWx1ZXN9KSx0aGlzfSxjb25maWcuc3VmZml4PV8uaXNVbmRlZmluZWQoY29uZmlnLnN1ZmZpeCk/bnVsbDpjb25maWcuc3VmZml4LG9iamVjdC5zZXRSZXF1ZXN0U3VmZml4PWZ1bmN0aW9uKG5ld1N1ZmZpeCl7cmV0dXJuIGNvbmZpZy5zdWZmaXg9bmV3U3VmZml4LHRoaXN9LGNvbmZpZy50cmFuc2Zvcm1lcnM9Y29uZmlnLnRyYW5zZm9ybWVyc3x8e30sb2JqZWN0LmFkZEVsZW1lbnRUcmFuc2Zvcm1lcj1mdW5jdGlvbih0eXBlLHNlY29uZEFyZyx0aGlyZEFyZyl7dmFyIGlzQ29sbGVjdGlvbj1udWxsLHRyYW5zZm9ybWVyPW51bGw7Mj09PWFyZ3VtZW50cy5sZW5ndGg/dHJhbnNmb3JtZXI9c2Vjb25kQXJnOih0cmFuc2Zvcm1lcj10aGlyZEFyZyxpc0NvbGxlY3Rpb249c2Vjb25kQXJnKTt2YXIgdHlwZVRyYW5zZm9ybWVycz1jb25maWcudHJhbnNmb3JtZXJzW3R5cGVdO3JldHVybiB0eXBlVHJhbnNmb3JtZXJzfHwodHlwZVRyYW5zZm9ybWVycz1jb25maWcudHJhbnNmb3JtZXJzW3R5cGVdPVtdKSx0eXBlVHJhbnNmb3JtZXJzLnB1c2goZnVuY3Rpb24oY29sbCxlbGVtKXtyZXR1cm4gXy5pc051bGwoaXNDb2xsZWN0aW9uKXx8Y29sbD09aXNDb2xsZWN0aW9uP3RyYW5zZm9ybWVyKGVsZW0pOmVsZW19KSxvYmplY3R9LG9iamVjdC5leHRlbmRDb2xsZWN0aW9uPWZ1bmN0aW9uKHJvdXRlLGZuKXtyZXR1cm4gb2JqZWN0LmFkZEVsZW1lbnRUcmFuc2Zvcm1lcihyb3V0ZSwhMCxmbil9LG9iamVjdC5leHRlbmRNb2RlbD1mdW5jdGlvbihyb3V0ZSxmbil7cmV0dXJuIG9iamVjdC5hZGRFbGVtZW50VHJhbnNmb3JtZXIocm91dGUsITEsZm4pfSxjb25maWcudHJhbnNmb3JtRWxlbT1mdW5jdGlvbihlbGVtLGlzQ29sbGVjdGlvbixyb3V0ZSxSZXN0YW5ndWxhcixmb3JjZSl7aWYoIWZvcmNlJiYhY29uZmlnLnRyYW5zZm9ybUxvY2FsRWxlbWVudHMmJiFlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5mcm9tU2VydmVyXSlyZXR1cm4gZWxlbTt2YXIgdHlwZVRyYW5zZm9ybWVycz1jb25maWcudHJhbnNmb3JtZXJzW3JvdXRlXSxjaGFuZ2VkRWxlbT1lbGVtO3JldHVybiB0eXBlVHJhbnNmb3JtZXJzJiZfLmVhY2godHlwZVRyYW5zZm9ybWVycyxmdW5jdGlvbih0cmFuc2Zvcm1lcil7Y2hhbmdlZEVsZW09dHJhbnNmb3JtZXIoaXNDb2xsZWN0aW9uLGNoYW5nZWRFbGVtKX0pLGNvbmZpZy5vbkVsZW1SZXN0YW5ndWxhcml6ZWQoY2hhbmdlZEVsZW0saXNDb2xsZWN0aW9uLHJvdXRlLFJlc3Rhbmd1bGFyKX0sY29uZmlnLnRyYW5zZm9ybUxvY2FsRWxlbWVudHM9Xy5pc1VuZGVmaW5lZChjb25maWcudHJhbnNmb3JtTG9jYWxFbGVtZW50cyk/ITE6Y29uZmlnLnRyYW5zZm9ybUxvY2FsRWxlbWVudHMsb2JqZWN0LnNldFRyYW5zZm9ybU9ubHlTZXJ2ZXJFbGVtZW50cz1mdW5jdGlvbihhY3RpdmUpe2NvbmZpZy50cmFuc2Zvcm1Mb2NhbEVsZW1lbnRzPSFhY3RpdmV9LGNvbmZpZy5mdWxsUmVzcG9uc2U9Xy5pc1VuZGVmaW5lZChjb25maWcuZnVsbFJlc3BvbnNlKT8hMTpjb25maWcuZnVsbFJlc3BvbnNlLG9iamVjdC5zZXRGdWxsUmVzcG9uc2U9ZnVuY3Rpb24oZnVsbCl7cmV0dXJuIGNvbmZpZy5mdWxsUmVzcG9uc2U9ZnVsbCx0aGlzfSxjb25maWcudXJsQ3JlYXRvckZhY3Rvcnk9e307dmFyIEJhc2VDcmVhdG9yPWZ1bmN0aW9uKCl7fTtCYXNlQ3JlYXRvci5wcm90b3R5cGUuc2V0Q29uZmlnPWZ1bmN0aW9uKGNvbmZpZyl7cmV0dXJuIHRoaXMuY29uZmlnPWNvbmZpZyx0aGlzfSxCYXNlQ3JlYXRvci5wcm90b3R5cGUucGFyZW50c0FycmF5PWZ1bmN0aW9uKGN1cnJlbnQpe2Zvcih2YXIgcGFyZW50cz1bXTtjdXJyZW50OylwYXJlbnRzLnB1c2goY3VycmVudCksY3VycmVudD1jdXJyZW50W3RoaXMuY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXTtyZXR1cm4gcGFyZW50cy5yZXZlcnNlKCl9LEJhc2VDcmVhdG9yLnByb3RvdHlwZS5yZXNvdXJjZT1mdW5jdGlvbihjdXJyZW50LCRodHRwLGxvY2FsSHR0cENvbmZpZyxjYWxsSGVhZGVycyxjYWxsUGFyYW1zLHdoYXQsZXRhZyxvcGVyYXRpb24pe3ZhciBwYXJhbXM9Xy5kZWZhdWx0cyhjYWxsUGFyYW1zfHx7fSx0aGlzLmNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtcy5jb21tb24pLGhlYWRlcnM9Xy5kZWZhdWx0cyhjYWxsSGVhZGVyc3x8e30sdGhpcy5jb25maWcuZGVmYXVsdEhlYWRlcnMpO2V0YWcmJihjb25maWcuaXNTYWZlKG9wZXJhdGlvbik/aGVhZGVyc1siSWYtTm9uZS1NYXRjaCJdPWV0YWc6aGVhZGVyc1siSWYtTWF0Y2giXT1ldGFnKTt2YXIgdXJsPXRoaXMuYmFzZShjdXJyZW50KTtpZih3aGF0KXt2YXIgYWRkPSIiOy9cLyQvLnRlc3QodXJsKXx8KGFkZCs9Ii8iKSxhZGQrPXdoYXQsdXJsKz1hZGR9cmV0dXJuIHRoaXMuY29uZmlnLnN1ZmZpeCYmLTE9PT11cmwuaW5kZXhPZih0aGlzLmNvbmZpZy5zdWZmaXgsdXJsLmxlbmd0aC10aGlzLmNvbmZpZy5zdWZmaXgubGVuZ3RoKSYmIXRoaXMuY29uZmlnLmdldFVybEZyb21FbGVtKGN1cnJlbnQpJiYodXJsKz10aGlzLmNvbmZpZy5zdWZmaXgpLGN1cnJlbnRbdGhpcy5jb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaHR0cENvbmZpZ109dm9pZCAwLFJlc3Rhbmd1bGFyUmVzb3VyY2UodGhpcy5jb25maWcsJGh0dHAsdXJsLHtnZXRMaXN0OnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJHRVQiLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSksZ2V0OnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJHRVQiLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSksanNvbnA6dGhpcy5jb25maWcud2l0aEh0dHBWYWx1ZXMobG9jYWxIdHRwQ29uZmlnLHttZXRob2Q6Impzb25wIixwYXJhbXM6cGFyYW1zLGhlYWRlcnM6aGVhZGVyc30pLHB1dDp0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcse21ldGhvZDoiUFVUIixwYXJhbXM6cGFyYW1zLGhlYWRlcnM6aGVhZGVyc30pLHBvc3Q6dGhpcy5jb25maWcud2l0aEh0dHBWYWx1ZXMobG9jYWxIdHRwQ29uZmlnLHttZXRob2Q6IlBPU1QiLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSkscmVtb3ZlOnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJERUxFVEUiLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSksaGVhZDp0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcse21ldGhvZDoiSEVBRCIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KSx0cmFjZTp0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcse21ldGhvZDoiVFJBQ0UiLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSksb3B0aW9uczp0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcse21ldGhvZDoiT1BUSU9OUyIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KSxwYXRjaDp0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcse21ldGhvZDoiUEFUQ0giLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSl9KX07dmFyIFBhdGg9ZnVuY3Rpb24oKXt9O1BhdGgucHJvdG90eXBlPW5ldyBCYXNlQ3JlYXRvcixQYXRoLnByb3RvdHlwZS5iYXNlPWZ1bmN0aW9uKGN1cnJlbnQpe3ZhciBfX3RoaXM9dGhpcztyZXR1cm4gXy5yZWR1Y2UodGhpcy5wYXJlbnRzQXJyYXkoY3VycmVudCksZnVuY3Rpb24oYWN1bSxlbGVtKXt2YXIgZWxlbVVybCxlbGVtU2VsZkxpbms9X190aGlzLmNvbmZpZy5nZXRVcmxGcm9tRWxlbShlbGVtKTtpZihlbGVtU2VsZkxpbmspe2lmKF9fdGhpcy5jb25maWcuaXNBYnNvbHV0ZVVybChlbGVtU2VsZkxpbmspKXJldHVybiBlbGVtU2VsZkxpbms7ZWxlbVVybD1lbGVtU2VsZkxpbmt9ZWxzZSBpZihlbGVtVXJsPWVsZW1bX190aGlzLmNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0sZWxlbVtfX3RoaXMuY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0pe3ZhciBpZHM9ZWxlbVtfX3RoaXMuY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmlkc107aWRzJiYoZWxlbVVybCs9Ii8iK2lkcy5qb2luKCIsIikpfWVsc2V7dmFyIGVsZW1JZDtlbGVtSWQ9X190aGlzLmNvbmZpZy51c2VDYW5ub25pY2FsSWQ/X190aGlzLmNvbmZpZy5nZXRDYW5ub25pY2FsSWRGcm9tRWxlbShlbGVtKTpfX3RoaXMuY29uZmlnLmdldElkRnJvbUVsZW0oZWxlbSksY29uZmlnLmlzVmFsaWRJZChlbGVtSWQpJiYhZWxlbS5zaW5nbGVPbmUmJihlbGVtVXJsKz0iLyIrKF9fdGhpcy5jb25maWcuZW5jb2RlSWRzP2VuY29kZVVSSUNvbXBvbmVudChlbGVtSWQpOmVsZW1JZCkpfXJldHVybiBhY3VtLnJlcGxhY2UoL1wvJC8sIiIpKyIvIitlbGVtVXJsfSx0aGlzLmNvbmZpZy5iYXNlVXJsKX0sUGF0aC5wcm90b3R5cGUuZmV0Y2hVcmw9ZnVuY3Rpb24oY3VycmVudCx3aGF0KXt2YXIgYmFzZVVybD10aGlzLmJhc2UoY3VycmVudCk7cmV0dXJuIHdoYXQmJihiYXNlVXJsKz0iLyIrd2hhdCksYmFzZVVybH0sUGF0aC5wcm90b3R5cGUuZmV0Y2hSZXF1ZXN0ZWRVcmw9ZnVuY3Rpb24oY3VycmVudCx3aGF0KXtmdW5jdGlvbiBzb3J0ZWRLZXlzKG9iail7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpJiZrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5cy5zb3J0KCl9ZnVuY3Rpb24gZm9yRWFjaFNvcnRlZChvYmosaXRlcmF0b3IsY29udGV4dCl7Zm9yKHZhciBrZXlzPXNvcnRlZEtleXMob2JqKSxpPTA7aTxrZXlzLmxlbmd0aDtpKyspaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXlzW2ldXSxrZXlzW2ldKTtyZXR1cm4ga2V5c31mdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwscGN0RW5jb2RlU3BhY2VzKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkucmVwbGFjZSgvJTQwL2dpLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2csIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKS5yZXBsYWNlKC8lMjAvZyxwY3RFbmNvZGVTcGFjZXM/IiUyMCI6IisiKX12YXIgdXJsPXRoaXMuZmV0Y2hVcmwoY3VycmVudCx3aGF0KSxwYXJhbXM9Y3VycmVudFtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVxUGFyYW1zXTtpZighcGFyYW1zKXJldHVybiB1cmw7dmFyIHBhcnRzPVtdO3JldHVybiBmb3JFYWNoU29ydGVkKHBhcmFtcyxmdW5jdGlvbih2YWx1ZSxrZXkpe251bGwhPXZhbHVlJiZ2b2lkIDAhPXZhbHVlJiYoYW5ndWxhci5pc0FycmF5KHZhbHVlKXx8KHZhbHVlPVt2YWx1ZV0pLGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZSxmdW5jdGlvbih2KXthbmd1bGFyLmlzT2JqZWN0KHYpJiYodj1hbmd1bGFyLnRvSnNvbih2KSkscGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpKyI9IitlbmNvZGVVcmlRdWVyeSh2KSl9KSl9KSx1cmwrKHRoaXMuY29uZmlnLnN1ZmZpeHx8IiIpKygtMT09PXVybC5pbmRleE9mKCI/Iik/Ij8iOiImIikrcGFydHMuam9pbigiJiIpfSxjb25maWcudXJsQ3JlYXRvckZhY3RvcnkucGF0aD1QYXRofTt2YXIgZ2xvYmFsQ29uZmlndXJhdGlvbj17fTtDb25maWd1cmVyLmluaXQodGhpcyxnbG9iYWxDb25maWd1cmF0aW9uKSx0aGlzLiRnZXQ9WyIkaHR0cCIsIiRxIixmdW5jdGlvbigkaHR0cCwkcSl7ZnVuY3Rpb24gY3JlYXRlU2VydmljZUZvckNvbmZpZ3VyYXRpb24oY29uZmlnKXtmdW5jdGlvbiByZXN0YW5ndWxhcml6ZUJhc2UocGFyZW50LGVsZW0scm91dGUscmVxUGFyYW1zLGZyb21TZXJ2ZXIpe2lmKGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXT1yb3V0ZSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5nZXRSZXN0YW5ndWxhclVybF09Xy5iaW5kKHVybEhhbmRsZXIuZmV0Y2hVcmwsdXJsSGFuZGxlcixlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5nZXRSZXF1ZXN0ZWRVcmxdPV8uYmluZCh1cmxIYW5kbGVyLmZldGNoUmVxdWVzdGVkVXJsLHVybEhhbmRsZXIsZWxlbSksZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuYWRkUmVzdGFuZ3VsYXJNZXRob2RdPV8uYmluZChhZGRSZXN0YW5ndWxhck1ldGhvZEZ1bmN0aW9uLGVsZW0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmNsb25lXT1fLmJpbmQoY29weVJlc3Rhbmd1bGFyaXplZEVsZW1lbnQsZWxlbSxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXFQYXJhbXNdPV8uaXNFbXB0eShyZXFQYXJhbXMpP251bGw6cmVxUGFyYW1zLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLndpdGhIdHRwQ29uZmlnXT1fLmJpbmQod2l0aEh0dHBDb25maWcsZWxlbSksZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGxhaW5dPV8uYmluZChzdHJpcFJlc3Rhbmd1bGFyLGVsZW0sZWxlbSksZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMub25lXT1fLmJpbmQob25lLGVsZW0sZWxlbSksZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuYWxsXT1fLmJpbmQoYWxsLGVsZW0sZWxlbSksZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuc2V2ZXJhbF09Xy5iaW5kKHNldmVyYWwsZWxlbSxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5vbmVVcmxdPV8uYmluZChvbmVVcmwsZWxlbSxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5hbGxVcmxdPV8uYmluZChhbGxVcmwsZWxlbSxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5mcm9tU2VydmVyXT0hIWZyb21TZXJ2ZXIscGFyZW50JiZjb25maWcuc2hvdWxkU2F2ZVBhcmVudChyb3V0ZSkpe3ZhciBwYXJlbnRJZD1jb25maWcuZ2V0SWRGcm9tRWxlbShwYXJlbnQpLHBhcmVudFVybD1jb25maWcuZ2V0VXJsRnJvbUVsZW0ocGFyZW50KSxyZXN0YW5ndWxhckZpZWxkc0ZvclBhcmVudD1fLnVuaW9uKF8udmFsdWVzKF8ucGljayhjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMsWyJyb3V0ZSIsInNpbmdsZU9uZSIsInBhcmVudFJlc291cmNlIl0pKSxjb25maWcuZXh0cmFGaWVsZHMpLHBhcmVudFJlc291cmNlPV8ucGljayhwYXJlbnQscmVzdGFuZ3VsYXJGaWVsZHNGb3JQYXJlbnQpO2NvbmZpZy5pc1ZhbGlkSWQocGFyZW50SWQpJiZjb25maWcuc2V0SWRUb0VsZW0ocGFyZW50UmVzb3VyY2UscGFyZW50SWQpLGNvbmZpZy5pc1ZhbGlkSWQocGFyZW50VXJsKSYmY29uZmlnLnNldFVybFRvRWxlbShwYXJlbnRSZXNvdXJjZSxwYXJlbnRVcmwpLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXT1wYXJlbnRSZXNvdXJjZX1lbHNlIGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXT1udWxsO3JldHVybiBlbGVtfWZ1bmN0aW9uIG9uZShwYXJlbnQscm91dGUsaWQsc2luZ2xlT25lKXtpZihfLmlzTnVtYmVyKHJvdXRlKXx8Xy5pc051bWJlcihwYXJlbnQpKXt2YXIgZXJyb3I9IllvdSdyZSBjcmVhdGluZyBhIFJlc3Rhbmd1bGFyIGVudGl0eSB3aXRoIHRoZSBudW1iZXIgIjt0aHJvdyBlcnJvcis9Imluc3RlYWQgb2YgdGhlIHJvdXRlIG9yIHRoZSBwYXJlbnQuIFlvdSBjYW4ndCBjYWxsIC5vbmUoMTIpIixuZXcgRXJyb3IoZXJyb3IpfXZhciBlbGVtPXt9O3JldHVybiBjb25maWcuc2V0SWRUb0VsZW0oZWxlbSxpZCksY29uZmlnLnNldEZpZWxkVG9FbGVtKGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zaW5nbGVPbmUsZWxlbSxzaW5nbGVPbmUpLHJlc3Rhbmd1bGFyaXplRWxlbShwYXJlbnQsZWxlbSxyb3V0ZSwhMSl9ZnVuY3Rpb24gYWxsKHBhcmVudCxyb3V0ZSl7cmV0dXJuIHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihwYXJlbnQsW10scm91dGUsITEpfWZ1bmN0aW9uIHNldmVyYWwocGFyZW50LHJvdXRlKXt2YXIgY29sbGVjdGlvbj1bXTtyZXR1cm4gY29sbGVjdGlvbltjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaWRzXT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDIpLHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihwYXJlbnQsY29sbGVjdGlvbixyb3V0ZSwhMSl9ZnVuY3Rpb24gb25lVXJsKHBhcmVudCxyb3V0ZSx1cmwpe2lmKCFyb3V0ZSl0aHJvdyBuZXcgRXJyb3IoIlJvdXRlIGlzIG1hbmRhdG9yeSB3aGVuIGNyZWF0aW5nIG5ldyBSZXN0YW5ndWxhciBvYmplY3RzLiIpO3ZhciBlbGVtPXt9O3JldHVybiBjb25maWcuc2V0VXJsVG9FbGVtKGVsZW0sdXJsLHJvdXRlKSxyZXN0YW5ndWxhcml6ZUVsZW0ocGFyZW50LGVsZW0scm91dGUsITEpfWZ1bmN0aW9uIGFsbFVybChwYXJlbnQscm91dGUsdXJsKXtpZighcm91dGUpdGhyb3cgbmV3IEVycm9yKCJSb3V0ZSBpcyBtYW5kYXRvcnkgd2hlbiBjcmVhdGluZyBuZXcgUmVzdGFuZ3VsYXIgb2JqZWN0cy4iKTt2YXIgZWxlbT17fTtyZXR1cm4gY29uZmlnLnNldFVybFRvRWxlbShlbGVtLHVybCxyb3V0ZSkscmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKHBhcmVudCxlbGVtLHJvdXRlLCExKX1mdW5jdGlvbiByZXN0YW5ndWxhcml6ZVByb21pc2UocHJvbWlzZSxpc0NvbGxlY3Rpb24sdmFsdWVUb0ZpbGwpe3JldHVybiBwcm9taXNlLmNhbGw9Xy5iaW5kKHByb21pc2VDYWxsLHByb21pc2UpLHByb21pc2UuZ2V0PV8uYmluZChwcm9taXNlR2V0LHByb21pc2UpLHByb21pc2VbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl09aXNDb2xsZWN0aW9uLGlzQ29sbGVjdGlvbiYmKHByb21pc2UucHVzaD1fLmJpbmQocHJvbWlzZUNhbGwscHJvbWlzZSwicHVzaCIpKSxwcm9taXNlLiRvYmplY3Q9dmFsdWVUb0ZpbGwscHJvbWlzZX1mdW5jdGlvbiBwcm9taXNlQ2FsbChtZXRob2Qpe3ZhciBkZWZlcnJlZD0kcS5kZWZlcigpLGNhbGxBcmdzPWFyZ3VtZW50cyxmaWxsZWRWYWx1ZT17fTtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbCl7dmFyIHBhcmFtcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjYWxsQXJncywxKSxmdW5jPXZhbFttZXRob2RdO2Z1bmMuYXBwbHkodmFsLHBhcmFtcyksZmlsbGVkVmFsdWU9dmFsLGRlZmVycmVkLnJlc29sdmUodmFsKX0pLHJlc3Rhbmd1bGFyaXplUHJvbWlzZShkZWZlcnJlZC5wcm9taXNlLHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0sZmlsbGVkVmFsdWUpfWZ1bmN0aW9uIHByb21pc2VHZXQod2hhdCl7dmFyIGRlZmVycmVkPSRxLmRlZmVyKCksZmlsbGVkVmFsdWU9e307cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWwpe2ZpbGxlZFZhbHVlPXZhbFt3aGF0XSxkZWZlcnJlZC5yZXNvbHZlKGZpbGxlZFZhbHVlKX0pLHJlc3Rhbmd1bGFyaXplUHJvbWlzZShkZWZlcnJlZC5wcm9taXNlLHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0sZmlsbGVkVmFsdWUpfWZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKGRlZmVycmVkLHJlc3BvbnNlLGRhdGEsZmlsbGVkVmFsdWUpe3JldHVybiBfLmV4dGVuZChmaWxsZWRWYWx1ZSxkYXRhKSxjb25maWcuZnVsbFJlc3BvbnNlP2RlZmVycmVkLnJlc29sdmUoXy5leHRlbmQocmVzcG9uc2Use2RhdGE6ZGF0YX0pKTp2b2lkIGRlZmVycmVkLnJlc29sdmUoZGF0YSl9ZnVuY3Rpb24gc3RyaXBSZXN0YW5ndWxhcihlbGVtKXtpZihfLmlzQXJyYXkoZWxlbSkpe3ZhciBhcnJheT1bXTtyZXR1cm4gXy5lYWNoKGVsZW0sZnVuY3Rpb24odmFsdWUpe2FycmF5LnB1c2goc3RyaXBSZXN0YW5ndWxhcih2YWx1ZSkpfSksYXJyYXl9cmV0dXJuIF8ub21pdChlbGVtLF8udmFsdWVzKF8ub21pdChjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMsImlkIikpKX1mdW5jdGlvbiBhZGRDdXN0b21PcGVyYXRpb24oZWxlbSl7ZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY3VzdG9tT3BlcmF0aW9uXT1fLmJpbmQoY3VzdG9tRnVuY3Rpb24sZWxlbSksXy5lYWNoKFsicHV0IiwicG9zdCIsImdldCIsImRlbGV0ZSJdLGZ1bmN0aW9uKG9wZXIpe18uZWFjaChbImRvIiwiY3VzdG9tIl0sZnVuY3Rpb24oYWxpYXMpe3ZhciBjYWxsRnVuY3Rpb24sY2FsbE9wZXJhdGlvbj0iZGVsZXRlIj09PW9wZXI/InJlbW92ZSI6b3BlcixuYW1lPWFsaWFzK29wZXIudG9VcHBlckNhc2UoKTtjYWxsRnVuY3Rpb249InB1dCIhPT1jYWxsT3BlcmF0aW9uJiYicG9zdCIhPT1jYWxsT3BlcmF0aW9uP2N1c3RvbUZ1bmN0aW9uOmZ1bmN0aW9uKG9wZXJhdGlvbixlbGVtLHBhdGgscGFyYW1zLGhlYWRlcnMpe3JldHVybiBfLmJpbmQoY3VzdG9tRnVuY3Rpb24sdGhpcykob3BlcmF0aW9uLHBhdGgscGFyYW1zLGhlYWRlcnMsZWxlbSl9LGVsZW1bbmFtZV09Xy5iaW5kKGNhbGxGdW5jdGlvbixlbGVtLGNhbGxPcGVyYXRpb24pfSl9KSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5jdXN0b21HRVRMSVNUXT1fLmJpbmQoZmV0Y2hGdW5jdGlvbixlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5kb0dFVExJU1RdPWVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmN1c3RvbUdFVExJU1RdfWZ1bmN0aW9uIGNvcHlSZXN0YW5ndWxhcml6ZWRFbGVtZW50KGZyb21FbGVtZW50LHRvRWxlbWVudCl7dmFyIGNvcGllZEVsZW1lbnQ9YW5ndWxhci5jb3B5KGZyb21FbGVtZW50LHRvRWxlbWVudCk7cmV0dXJuIHJlc3Rhbmd1bGFyaXplRWxlbShjb3BpZWRFbGVtZW50W2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXJlbnRSZXNvdXJjZV0sY29waWVkRWxlbWVudCxjb3BpZWRFbGVtZW50W2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0sITApfWZ1bmN0aW9uIHJlc3Rhbmd1bGFyaXplRWxlbShwYXJlbnQsZWxlbWVudCxyb3V0ZSxmcm9tU2VydmVyLGNvbGxlY3Rpb24scmVxUGFyYW1zKXt2YXIgZWxlbT1jb25maWcub25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkKGVsZW1lbnQsITEscm91dGUpLGxvY2FsRWxlbT1yZXN0YW5ndWxhcml6ZUJhc2UocGFyZW50LGVsZW0scm91dGUscmVxUGFyYW1zLGZyb21TZXJ2ZXIpO3JldHVybiBjb25maWcudXNlQ2Fubm9uaWNhbElkJiYobG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5jYW5ub25pY2FsSWRdPWNvbmZpZy5nZXRJZEZyb21FbGVtKGxvY2FsRWxlbSkpLGNvbGxlY3Rpb24mJihsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldFBhcmVudExpc3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbGxlY3Rpb259KSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl09ITEsbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5nZXRdPV8uYmluZChnZXRGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZ2V0TGlzdF09Xy5iaW5kKGZldGNoRnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnB1dF09Xy5iaW5kKHB1dEZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wb3N0XT1fLmJpbmQocG9zdEZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZW1vdmVdPV8uYmluZChkZWxldGVGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaGVhZF09Xy5iaW5kKGhlYWRGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMudHJhY2VdPV8uYmluZCh0cmFjZUZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5vcHRpb25zXT1fLmJpbmQob3B0aW9uc0Z1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXRjaF09Xy5iaW5kKHBhdGNoRnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnNhdmVdPV8uYmluZChzYXZlLGxvY2FsRWxlbSksYWRkQ3VzdG9tT3BlcmF0aW9uKGxvY2FsRWxlbSksY29uZmlnLnRyYW5zZm9ybUVsZW0obG9jYWxFbGVtLCExLHJvdXRlLHNlcnZpY2UsITApfWZ1bmN0aW9uIHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihwYXJlbnQsZWxlbWVudCxyb3V0ZSxmcm9tU2VydmVyLHJlcVBhcmFtcyl7dmFyIGVsZW09Y29uZmlnLm9uQmVmb3JlRWxlbVJlc3Rhbmd1bGFyaXplZChlbGVtZW50LCEwLHJvdXRlKSxsb2NhbEVsZW09cmVzdGFuZ3VsYXJpemVCYXNlKHBhcmVudCxlbGVtLHJvdXRlLHJlcVBhcmFtcyxmcm9tU2VydmVyKTtyZXR1cm4gbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXN0YW5ndWxhckNvbGxlY3Rpb25dPSEwLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucG9zdF09Xy5iaW5kKHBvc3RGdW5jdGlvbixsb2NhbEVsZW0sbnVsbCksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZW1vdmVdPV8uYmluZChkZWxldGVGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaGVhZF09Xy5iaW5kKGhlYWRGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMudHJhY2VdPV8uYmluZCh0cmFjZUZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wdXRFbGVtZW50XT1fLmJpbmQocHV0RWxlbWVudEZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5vcHRpb25zXT1fLmJpbmQob3B0aW9uc0Z1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXRjaF09Xy5iaW5kKHBhdGNoRnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldF09Xy5iaW5kKGdldEJ5SWQsbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldExpc3RdPV8uYmluZChmZXRjaEZ1bmN0aW9uLGxvY2FsRWxlbSxudWxsKSxhZGRDdXN0b21PcGVyYXRpb24obG9jYWxFbGVtKSxjb25maWcudHJhbnNmb3JtRWxlbShsb2NhbEVsZW0sITAscm91dGUsc2VydmljZSwhMCl9ZnVuY3Rpb24gcmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uQW5kRWxlbWVudHMocGFyZW50LGVsZW1lbnQscm91dGUpe3ZhciBjb2xsZWN0aW9uPXJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihwYXJlbnQsZWxlbWVudCxyb3V0ZSwhMSk7cmV0dXJuIF8uZWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKGVsZW0pe3Jlc3Rhbmd1bGFyaXplRWxlbShwYXJlbnQsZWxlbSxyb3V0ZSwhMSl9KSxjb2xsZWN0aW9ufWZ1bmN0aW9uIGdldEJ5SWQoaWQscmVxUGFyYW1zLGhlYWRlcnMpe3JldHVybiB0aGlzLmN1c3RvbUdFVChpZC50b1N0cmluZygpLHJlcVBhcmFtcyxoZWFkZXJzKX1mdW5jdGlvbiBwdXRFbGVtZW50RnVuY3Rpb24oaWR4LHBhcmFtcyxoZWFkZXJzKXt2YXIgX190aGlzPXRoaXMsZWxlbVRvUHV0PXRoaXNbaWR4XSxkZWZlcnJlZD0kcS5kZWZlcigpLGZpbGxlZEFycmF5PVtdO3JldHVybiBmaWxsZWRBcnJheT1jb25maWcudHJhbnNmb3JtRWxlbShmaWxsZWRBcnJheSwhMCxlbGVtVG9QdXRbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSxzZXJ2aWNlKSxlbGVtVG9QdXQucHV0KHBhcmFtcyxoZWFkZXJzKS50aGVuKGZ1bmN0aW9uKHNlcnZlckVsZW0pe3ZhciBuZXdBcnJheT1jb3B5UmVzdGFuZ3VsYXJpemVkRWxlbWVudChfX3RoaXMpO25ld0FycmF5W2lkeF09c2VydmVyRWxlbSxmaWxsZWRBcnJheT1uZXdBcnJheSxkZWZlcnJlZC5yZXNvbHZlKG5ld0FycmF5KX0sZnVuY3Rpb24ocmVzcG9uc2Upe2RlZmVycmVkLnJlamVjdChyZXNwb25zZSl9KSxyZXN0YW5ndWxhcml6ZVByb21pc2UoZGVmZXJyZWQucHJvbWlzZSwhMCxmaWxsZWRBcnJheSl9ZnVuY3Rpb24gcGFyc2VSZXNwb25zZShyZXNEYXRhLG9wZXJhdGlvbixyb3V0ZSxmZXRjaFVybCxyZXNwb25zZSxkZWZlcnJlZCl7dmFyIGRhdGE9Y29uZmlnLnJlc3BvbnNlRXh0cmFjdG9yKHJlc0RhdGEsb3BlcmF0aW9uLHJvdXRlLGZldGNoVXJsLHJlc3BvbnNlLGRlZmVycmVkKSxldGFnPXJlc3BvbnNlLmhlYWRlcnMoIkVUYWciKTtyZXR1cm4gZGF0YSYmZXRhZyYmKGRhdGFbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmV0YWddPWV0YWcpLGRhdGF9ZnVuY3Rpb24gZmV0Y2hGdW5jdGlvbih3aGF0LHJlcVBhcmFtcyxoZWFkZXJzKXt2YXIgX190aGlzPXRoaXMsZGVmZXJyZWQ9JHEuZGVmZXIoKSxvcGVyYXRpb249ImdldExpc3QiLHVybD11cmxIYW5kbGVyLmZldGNoVXJsKHRoaXMsd2hhdCksd2hhdEZldGNoZWQ9d2hhdHx8X190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0scmVxdWVzdD1jb25maWcuZnVsbFJlcXVlc3RJbnRlcmNlcHRvcihudWxsLG9wZXJhdGlvbix3aGF0RmV0Y2hlZCx1cmwsaGVhZGVyc3x8e30scmVxUGFyYW1zfHx7fSx0aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5odHRwQ29uZmlnXXx8e30pLGZpbGxlZEFycmF5PVtdO2ZpbGxlZEFycmF5PWNvbmZpZy50cmFuc2Zvcm1FbGVtKGZpbGxlZEFycmF5LCEwLHdoYXRGZXRjaGVkLHNlcnZpY2UpO3ZhciBtZXRob2Q9ImdldExpc3QiO3JldHVybiBjb25maWcuanNvbnAmJihtZXRob2Q9Impzb25wIiksdXJsSGFuZGxlci5yZXNvdXJjZSh0aGlzLCRodHRwLHJlcXVlc3QuaHR0cENvbmZpZyxyZXF1ZXN0LmhlYWRlcnMscmVxdWVzdC5wYXJhbXMsd2hhdCx0aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5ldGFnXSxvcGVyYXRpb24pW21ldGhvZF0oKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXt2YXIgcmVzRGF0YT1yZXNwb25zZS5kYXRhLGZ1bGxQYXJhbXM9cmVzcG9uc2UuY29uZmlnLnBhcmFtcyxkYXRhPXBhcnNlUmVzcG9uc2UocmVzRGF0YSxvcGVyYXRpb24sd2hhdEZldGNoZWQsdXJsLHJlc3BvbnNlLGRlZmVycmVkKTtpZigoXy5pc1VuZGVmaW5lZChkYXRhKXx8IiI9PT1kYXRhKSYmKGRhdGE9W10pLCFfLmlzQXJyYXkoZGF0YSkpdGhyb3cgbmV3IEVycm9yKCJSZXNwb25zZSBmb3IgZ2V0TGlzdCBTSE9VTEQgYmUgYW4gYXJyYXkgYW5kIG5vdCBhbiBvYmplY3Qgb3Igc29tZXRoaW5nIGVsc2UiKTt2YXIgcHJvY2Vzc2VkRGF0YT1fLm1hcChkYXRhLGZ1bmN0aW9uKGVsZW0pe3JldHVybiBfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0/cmVzdGFuZ3VsYXJpemVFbGVtKF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdLGVsZW0sX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0sITAsZGF0YSk6cmVzdGFuZ3VsYXJpemVFbGVtKF9fdGhpcyxlbGVtLHdoYXQsITAsZGF0YSl9KTtwcm9jZXNzZWREYXRhPV8uZXh0ZW5kKGRhdGEscHJvY2Vzc2VkRGF0YSksX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXN0YW5ndWxhckNvbGxlY3Rpb25dP3Jlc29sdmVQcm9taXNlKGRlZmVycmVkLHJlc3BvbnNlLHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXSxwcm9jZXNzZWREYXRhLF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdLCEwLGZ1bGxQYXJhbXMpLGZpbGxlZEFycmF5KTpyZXNvbHZlUHJvbWlzZShkZWZlcnJlZCxyZXNwb25zZSxyZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb24oX190aGlzLHByb2Nlc3NlZERhdGEsd2hhdCwhMCxmdWxsUGFyYW1zKSxmaWxsZWRBcnJheSl9LGZ1bmN0aW9uKHJlc3BvbnNlKXszMDQ9PT1yZXNwb25zZS5zdGF0dXMmJl9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXT9yZXNvbHZlUHJvbWlzZShkZWZlcnJlZCxyZXNwb25zZSxfX3RoaXMsZmlsbGVkQXJyYXkpOmNvbmZpZy5lcnJvckludGVyY2VwdG9yKHJlc3BvbnNlLGRlZmVycmVkKSE9PSExJiZkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UpfSkscmVzdGFuZ3VsYXJpemVQcm9taXNlKGRlZmVycmVkLnByb21pc2UsITAsZmlsbGVkQXJyYXkpfWZ1bmN0aW9uIHdpdGhIdHRwQ29uZmlnKGh0dHBDb25maWcpe3JldHVybiB0aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5odHRwQ29uZmlnXT1odHRwQ29uZmlnLHRoaXN9ZnVuY3Rpb24gc2F2ZShwYXJhbXMsaGVhZGVycyl7cmV0dXJuIHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmZyb21TZXJ2ZXJdP3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnB1dF0ocGFyYW1zLGhlYWRlcnMpOl8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykoInBvc3QiLHZvaWQgMCxwYXJhbXMsdm9pZCAwLGhlYWRlcnMpfWZ1bmN0aW9uIGVsZW1GdW5jdGlvbihvcGVyYXRpb24sd2hhdCxwYXJhbXMsb2JqLGhlYWRlcnMpe3ZhciBfX3RoaXM9dGhpcyxkZWZlcnJlZD0kcS5kZWZlcigpLHJlc1BhcmFtcz1wYXJhbXN8fHt9LHJvdXRlPXdoYXR8fHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSxmZXRjaFVybD11cmxIYW5kbGVyLmZldGNoVXJsKHRoaXMsd2hhdCksY2FsbE9iaj1vYmp8fHRoaXMsZXRhZz1jYWxsT2JqW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5ldGFnXXx8KCJwb3N0IiE9b3BlcmF0aW9uP3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmV0YWddOm51bGwpO18uaXNPYmplY3QoY2FsbE9iaikmJmNvbmZpZy5pc1Jlc3Rhbmd1bGFyaXplZChjYWxsT2JqKSYmKGNhbGxPYmo9c3RyaXBSZXN0YW5ndWxhcihjYWxsT2JqKSk7dmFyIHJlcXVlc3Q9Y29uZmlnLmZ1bGxSZXF1ZXN0SW50ZXJjZXB0b3IoY2FsbE9iaixvcGVyYXRpb24scm91dGUsZmV0Y2hVcmwsaGVhZGVyc3x8e30scmVzUGFyYW1zfHx7fSx0aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5odHRwQ29uZmlnXXx8e30pLGZpbGxlZE9iamVjdD17fTtmaWxsZWRPYmplY3Q9Y29uZmlnLnRyYW5zZm9ybUVsZW0oZmlsbGVkT2JqZWN0LCExLHJvdXRlLHNlcnZpY2UpO3ZhciBva0NhbGxiYWNrPWZ1bmN0aW9uKHJlc3BvbnNlKXt2YXIgcmVzRGF0YT1yZXNwb25zZS5kYXRhLGZ1bGxQYXJhbXM9cmVzcG9uc2UuY29uZmlnLnBhcmFtcyxlbGVtPXBhcnNlUmVzcG9uc2UocmVzRGF0YSxvcGVyYXRpb24scm91dGUsZmV0Y2hVcmwscmVzcG9uc2UsZGVmZXJyZWQpO2VsZW0/InBvc3QiIT09b3BlcmF0aW9ufHxfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0/KGRhdGE9cmVzdGFuZ3VsYXJpemVFbGVtKF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdLGVsZW0sX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0sITAsbnVsbCxmdWxsUGFyYW1zKSxkYXRhW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zaW5nbGVPbmVdPV9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuc2luZ2xlT25lXSxyZXNvbHZlUHJvbWlzZShkZWZlcnJlZCxyZXNwb25zZSxkYXRhLGZpbGxlZE9iamVjdCkpOnJlc29sdmVQcm9taXNlKGRlZmVycmVkLHJlc3BvbnNlLHJlc3Rhbmd1bGFyaXplRWxlbShfX3RoaXMsZWxlbSx3aGF0LCEwLG51bGwsZnVsbFBhcmFtcyksZmlsbGVkT2JqZWN0KTpyZXNvbHZlUHJvbWlzZShkZWZlcnJlZCxyZXNwb25zZSx2b2lkIDAsZmlsbGVkT2JqZWN0KX0sZXJyb3JDYWxsYmFjaz1mdW5jdGlvbihyZXNwb25zZSl7MzA0PT09cmVzcG9uc2Uuc3RhdHVzJiZjb25maWcuaXNTYWZlKG9wZXJhdGlvbik/cmVzb2x2ZVByb21pc2UoZGVmZXJyZWQscmVzcG9uc2UsX190aGlzLGZpbGxlZE9iamVjdCk6Y29uZmlnLmVycm9ySW50ZXJjZXB0b3IocmVzcG9uc2UsZGVmZXJyZWQpIT09ITEmJmRlZmVycmVkLnJlamVjdChyZXNwb25zZSl9LGNhbGxPcGVyYXRpb249b3BlcmF0aW9uLGNhbGxIZWFkZXJzPV8uZXh0ZW5kKHt9LHJlcXVlc3QuaGVhZGVycyksaXNPdmVycmlkZU9wZXJhdGlvbj1jb25maWcuaXNPdmVycmlkZW5NZXRob2Qob3BlcmF0aW9uKTtyZXR1cm4gaXNPdmVycmlkZU9wZXJhdGlvbj8oY2FsbE9wZXJhdGlvbj0icG9zdCIsY2FsbEhlYWRlcnM9Xy5leHRlbmQoY2FsbEhlYWRlcnMseyJYLUhUVFAtTWV0aG9kLU92ZXJyaWRlIjoicmVtb3ZlIj09PW9wZXJhdGlvbj8iREVMRVRFIjpvcGVyYXRpb259KSk6Y29uZmlnLmpzb25wJiYiZ2V0Ij09PWNhbGxPcGVyYXRpb24mJihjYWxsT3BlcmF0aW9uPSJqc29ucCIpLGNvbmZpZy5pc1NhZmUob3BlcmF0aW9uKT9pc092ZXJyaWRlT3BlcmF0aW9uP3VybEhhbmRsZXIucmVzb3VyY2UodGhpcywkaHR0cCxyZXF1ZXN0Lmh0dHBDb25maWcsY2FsbEhlYWRlcnMscmVxdWVzdC5wYXJhbXMsd2hhdCxldGFnLGNhbGxPcGVyYXRpb24pW2NhbGxPcGVyYXRpb25dKHt9KS50aGVuKG9rQ2FsbGJhY2ssZXJyb3JDYWxsYmFjayk6dXJsSGFuZGxlci5yZXNvdXJjZSh0aGlzLCRodHRwLHJlcXVlc3QuaHR0cENvbmZpZyxjYWxsSGVhZGVycyxyZXF1ZXN0LnBhcmFtcyx3aGF0LGV0YWcsY2FsbE9wZXJhdGlvbilbY2FsbE9wZXJhdGlvbl0oKS50aGVuKG9rQ2FsbGJhY2ssZXJyb3JDYWxsYmFjayk6dXJsSGFuZGxlci5yZXNvdXJjZSh0aGlzLCRodHRwLHJlcXVlc3QuaHR0cENvbmZpZyxjYWxsSGVhZGVycyxyZXF1ZXN0LnBhcmFtcyx3aGF0LGV0YWcsY2FsbE9wZXJhdGlvbilbY2FsbE9wZXJhdGlvbl0ocmVxdWVzdC5lbGVtZW50KS50aGVuKG9rQ2FsbGJhY2ssZXJyb3JDYWxsYmFjaykscmVzdGFuZ3VsYXJpemVQcm9taXNlKGRlZmVycmVkLnByb21pc2UsITEsZmlsbGVkT2JqZWN0KX1mdW5jdGlvbiBnZXRGdW5jdGlvbihwYXJhbXMsaGVhZGVycyl7cmV0dXJuIF8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykoImdldCIsdm9pZCAwLHBhcmFtcyx2b2lkIDAsaGVhZGVycyl9ZnVuY3Rpb24gZGVsZXRlRnVuY3Rpb24ocGFyYW1zLGhlYWRlcnMpe3JldHVybiBfLmJpbmQoZWxlbUZ1bmN0aW9uLHRoaXMpKCJyZW1vdmUiLHZvaWQgMCxwYXJhbXMsdm9pZCAwLGhlYWRlcnMpfWZ1bmN0aW9uIHB1dEZ1bmN0aW9uKHBhcmFtcyxoZWFkZXJzKXtyZXR1cm4gXy5iaW5kKGVsZW1GdW5jdGlvbix0aGlzKSgicHV0Iix2b2lkIDAscGFyYW1zLHZvaWQgMCxoZWFkZXJzKQp9ZnVuY3Rpb24gcG9zdEZ1bmN0aW9uKHdoYXQsZWxlbSxwYXJhbXMsaGVhZGVycyl7cmV0dXJuIF8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykoInBvc3QiLHdoYXQscGFyYW1zLGVsZW0saGVhZGVycyl9ZnVuY3Rpb24gaGVhZEZ1bmN0aW9uKHBhcmFtcyxoZWFkZXJzKXtyZXR1cm4gXy5iaW5kKGVsZW1GdW5jdGlvbix0aGlzKSgiaGVhZCIsdm9pZCAwLHBhcmFtcyx2b2lkIDAsaGVhZGVycyl9ZnVuY3Rpb24gdHJhY2VGdW5jdGlvbihwYXJhbXMsaGVhZGVycyl7cmV0dXJuIF8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykoInRyYWNlIix2b2lkIDAscGFyYW1zLHZvaWQgMCxoZWFkZXJzKX1mdW5jdGlvbiBvcHRpb25zRnVuY3Rpb24ocGFyYW1zLGhlYWRlcnMpe3JldHVybiBfLmJpbmQoZWxlbUZ1bmN0aW9uLHRoaXMpKCJvcHRpb25zIix2b2lkIDAscGFyYW1zLHZvaWQgMCxoZWFkZXJzKX1mdW5jdGlvbiBwYXRjaEZ1bmN0aW9uKGVsZW0scGFyYW1zLGhlYWRlcnMpe3JldHVybiBfLmJpbmQoZWxlbUZ1bmN0aW9uLHRoaXMpKCJwYXRjaCIsdm9pZCAwLHBhcmFtcyxlbGVtLGhlYWRlcnMpfWZ1bmN0aW9uIGN1c3RvbUZ1bmN0aW9uKG9wZXJhdGlvbixwYXRoLHBhcmFtcyxoZWFkZXJzLGVsZW0pe3JldHVybiBfLmJpbmQoZWxlbUZ1bmN0aW9uLHRoaXMpKG9wZXJhdGlvbixwYXRoLHBhcmFtcyxlbGVtLGhlYWRlcnMpfWZ1bmN0aW9uIGFkZFJlc3Rhbmd1bGFyTWV0aG9kRnVuY3Rpb24obmFtZSxvcGVyYXRpb24scGF0aCxkZWZhdWx0UGFyYW1zLGRlZmF1bHRIZWFkZXJzLGRlZmF1bHRFbGVtKXt2YXIgYmluZGVkRnVuY3Rpb247YmluZGVkRnVuY3Rpb249ImdldExpc3QiPT09b3BlcmF0aW9uP18uYmluZChmZXRjaEZ1bmN0aW9uLHRoaXMscGF0aCk6Xy5iaW5kKGN1c3RvbUZ1bmN0aW9uLHRoaXMsb3BlcmF0aW9uLHBhdGgpO3ZhciBjcmVhdGVkRnVuY3Rpb249ZnVuY3Rpb24ocGFyYW1zLGhlYWRlcnMsZWxlbSl7dmFyIGNhbGxQYXJhbXM9Xy5kZWZhdWx0cyh7cGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnMsZWxlbTplbGVtfSx7cGFyYW1zOmRlZmF1bHRQYXJhbXMsaGVhZGVyczpkZWZhdWx0SGVhZGVycyxlbGVtOmRlZmF1bHRFbGVtfSk7cmV0dXJuIGJpbmRlZEZ1bmN0aW9uKGNhbGxQYXJhbXMucGFyYW1zLGNhbGxQYXJhbXMuaGVhZGVycyxjYWxsUGFyYW1zLmVsZW0pfTt0aGlzW25hbWVdPWNvbmZpZy5pc1NhZmUob3BlcmF0aW9uKT9jcmVhdGVkRnVuY3Rpb246ZnVuY3Rpb24oZWxlbSxwYXJhbXMsaGVhZGVycyl7cmV0dXJuIGNyZWF0ZWRGdW5jdGlvbihwYXJhbXMsaGVhZGVycyxlbGVtKX19ZnVuY3Rpb24gd2l0aENvbmZpZ3VyYXRpb25GdW5jdGlvbihjb25maWd1cmVyKXt2YXIgbmV3Q29uZmlnPWFuZ3VsYXIuY29weShfLm9taXQoY29uZmlnLCJjb25maWd1cmF0aW9uIikpO3JldHVybiBDb25maWd1cmVyLmluaXQobmV3Q29uZmlnLG5ld0NvbmZpZyksY29uZmlndXJlcihuZXdDb25maWcpLGNyZWF0ZVNlcnZpY2VGb3JDb25maWd1cmF0aW9uKG5ld0NvbmZpZyl9ZnVuY3Rpb24gdG9TZXJ2aWNlKHJvdXRlLHBhcmVudCl7dmFyIHNlcnY9e30sY29sbGVjdGlvbj0ocGFyZW50fHxzZXJ2aWNlKS5hbGwocm91dGUpO3JldHVybiBzZXJ2Lm9uZT1fLmJpbmQob25lLHBhcmVudHx8c2VydmljZSxwYXJlbnQscm91dGUpLHNlcnYucG9zdD1fLmJpbmQoY29sbGVjdGlvbi5wb3N0LGNvbGxlY3Rpb24pLHNlcnYuZ2V0TGlzdD1fLmJpbmQoY29sbGVjdGlvbi5nZXRMaXN0LGNvbGxlY3Rpb24pLHNlcnZ9dmFyIHNlcnZpY2U9e30sdXJsSGFuZGxlcj1uZXcgY29uZmlnLnVybENyZWF0b3JGYWN0b3J5W2NvbmZpZy51cmxDcmVhdG9yXTtyZXR1cm4gdXJsSGFuZGxlci5zZXRDb25maWcoY29uZmlnKSxDb25maWd1cmVyLmluaXQoc2VydmljZSxjb25maWcpLHNlcnZpY2UuY29weT1fLmJpbmQoY29weVJlc3Rhbmd1bGFyaXplZEVsZW1lbnQsc2VydmljZSksc2VydmljZS5zZXJ2aWNlPV8uYmluZCh0b1NlcnZpY2Usc2VydmljZSksc2VydmljZS53aXRoQ29uZmlnPV8uYmluZCh3aXRoQ29uZmlndXJhdGlvbkZ1bmN0aW9uLHNlcnZpY2UpLHNlcnZpY2Uub25lPV8uYmluZChvbmUsc2VydmljZSxudWxsKSxzZXJ2aWNlLmFsbD1fLmJpbmQoYWxsLHNlcnZpY2UsbnVsbCksc2VydmljZS5zZXZlcmFsPV8uYmluZChzZXZlcmFsLHNlcnZpY2UsbnVsbCksc2VydmljZS5vbmVVcmw9Xy5iaW5kKG9uZVVybCxzZXJ2aWNlLG51bGwpLHNlcnZpY2UuYWxsVXJsPV8uYmluZChhbGxVcmwsc2VydmljZSxudWxsKSxzZXJ2aWNlLnN0cmlwUmVzdGFuZ3VsYXI9Xy5iaW5kKHN0cmlwUmVzdGFuZ3VsYXIsc2VydmljZSksc2VydmljZS5yZXN0YW5ndWxhcml6ZUVsZW1lbnQ9Xy5iaW5kKHJlc3Rhbmd1bGFyaXplRWxlbSxzZXJ2aWNlKSxzZXJ2aWNlLnJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbj1fLmJpbmQocmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uQW5kRWxlbWVudHMsc2VydmljZSksc2VydmljZX1yZXR1cm4gY3JlYXRlU2VydmljZUZvckNvbmZpZ3VyYXRpb24oZ2xvYmFsQ29uZmlndXJhdGlvbil9XX0pfSgpLGZ1bmN0aW9uKCl7dmFyIHJvb3Q9dGhpcyxwcmV2aW91c1VuZGVyc2NvcmU9cm9vdC5fLEFycmF5UHJvdG89QXJyYXkucHJvdG90eXBlLE9ialByb3RvPU9iamVjdC5wcm90b3R5cGUsRnVuY1Byb3RvPUZ1bmN0aW9uLnByb3RvdHlwZSxwdXNoPUFycmF5UHJvdG8ucHVzaCxzbGljZT1BcnJheVByb3RvLnNsaWNlLGNvbmNhdD1BcnJheVByb3RvLmNvbmNhdCx0b1N0cmluZz1PYmpQcm90by50b1N0cmluZyxoYXNPd25Qcm9wZXJ0eT1PYmpQcm90by5oYXNPd25Qcm9wZXJ0eSxuYXRpdmVJc0FycmF5PUFycmF5LmlzQXJyYXksbmF0aXZlS2V5cz1PYmplY3Qua2V5cyxuYXRpdmVCaW5kPUZ1bmNQcm90by5iaW5kLF89ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqIGluc3RhbmNlb2YgXz9vYmo6dGhpcyBpbnN0YW5jZW9mIF8/dm9pZCh0aGlzLl93cmFwcGVkPW9iaik6bmV3IF8ob2JqKX07InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzPygidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPV8pLGV4cG9ydHMuXz1fKTpyb290Ll89XyxfLlZFUlNJT049IjEuNy4wIjt2YXIgY3JlYXRlQ2FsbGJhY2s9ZnVuY3Rpb24oZnVuYyxjb250ZXh0LGFyZ0NvdW50KXtpZih2b2lkIDA9PT1jb250ZXh0KXJldHVybiBmdW5jO3N3aXRjaChudWxsPT1hcmdDb3VudD8zOmFyZ0NvdW50KXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsdmFsdWUpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlLG90aGVyKXtyZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsdmFsdWUsb3RoZXIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiBmdW5jLmNhbGwoY29udGV4dCx2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX07Y2FzZSA0OnJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvcix2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsYWNjdW11bGF0b3IsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsYXJndW1lbnRzKX19O18uaXRlcmF0ZWU9ZnVuY3Rpb24odmFsdWUsY29udGV4dCxhcmdDb3VudCl7cmV0dXJuIG51bGw9PXZhbHVlP18uaWRlbnRpdHk6Xy5pc0Z1bmN0aW9uKHZhbHVlKT9jcmVhdGVDYWxsYmFjayh2YWx1ZSxjb250ZXh0LGFyZ0NvdW50KTpfLmlzT2JqZWN0KHZhbHVlKT9fLm1hdGNoZXModmFsdWUpOl8ucHJvcGVydHkodmFsdWUpfSxfLmVhY2g9Xy5mb3JFYWNoPWZ1bmN0aW9uKG9iaixpdGVyYXRlZSxjb250ZXh0KXtpZihudWxsPT1vYmopcmV0dXJuIG9iajtpdGVyYXRlZT1jcmVhdGVDYWxsYmFjayhpdGVyYXRlZSxjb250ZXh0KTt2YXIgaSxsZW5ndGg9b2JqLmxlbmd0aDtpZihsZW5ndGg9PT0rbGVuZ3RoKWZvcihpPTA7bGVuZ3RoPmk7aSsrKWl0ZXJhdGVlKG9ialtpXSxpLG9iaik7ZWxzZXt2YXIga2V5cz1fLmtleXMob2JqKTtmb3IoaT0wLGxlbmd0aD1rZXlzLmxlbmd0aDtsZW5ndGg+aTtpKyspaXRlcmF0ZWUob2JqW2tleXNbaV1dLGtleXNbaV0sb2JqKX1yZXR1cm4gb2JqfSxfLm1hcD1fLmNvbGxlY3Q9ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLGNvbnRleHQpe2lmKG51bGw9PW9iailyZXR1cm5bXTtpdGVyYXRlZT1fLml0ZXJhdGVlKGl0ZXJhdGVlLGNvbnRleHQpO2Zvcih2YXIgY3VycmVudEtleSxrZXlzPW9iai5sZW5ndGghPT0rb2JqLmxlbmd0aCYmXy5rZXlzKG9iaiksbGVuZ3RoPShrZXlzfHxvYmopLmxlbmd0aCxyZXN1bHRzPUFycmF5KGxlbmd0aCksaW5kZXg9MDtsZW5ndGg+aW5kZXg7aW5kZXgrKyljdXJyZW50S2V5PWtleXM/a2V5c1tpbmRleF06aW5kZXgscmVzdWx0c1tpbmRleF09aXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLGN1cnJlbnRLZXksb2JqKTtyZXR1cm4gcmVzdWx0c307dmFyIHJlZHVjZUVycm9yPSJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIjtfLnJlZHVjZT1fLmZvbGRsPV8uaW5qZWN0PWZ1bmN0aW9uKG9iaixpdGVyYXRlZSxtZW1vLGNvbnRleHQpe251bGw9PW9iaiYmKG9iaj1bXSksaXRlcmF0ZWU9Y3JlYXRlQ2FsbGJhY2soaXRlcmF0ZWUsY29udGV4dCw0KTt2YXIgY3VycmVudEtleSxrZXlzPW9iai5sZW5ndGghPT0rb2JqLmxlbmd0aCYmXy5rZXlzKG9iaiksbGVuZ3RoPShrZXlzfHxvYmopLmxlbmd0aCxpbmRleD0wO2lmKGFyZ3VtZW50cy5sZW5ndGg8Myl7aWYoIWxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKHJlZHVjZUVycm9yKTttZW1vPW9ialtrZXlzP2tleXNbaW5kZXgrK106aW5kZXgrK119Zm9yKDtsZW5ndGg+aW5kZXg7aW5kZXgrKyljdXJyZW50S2V5PWtleXM/a2V5c1tpbmRleF06aW5kZXgsbWVtbz1pdGVyYXRlZShtZW1vLG9ialtjdXJyZW50S2V5XSxjdXJyZW50S2V5LG9iaik7cmV0dXJuIG1lbW99LF8ucmVkdWNlUmlnaHQ9Xy5mb2xkcj1mdW5jdGlvbihvYmosaXRlcmF0ZWUsbWVtbyxjb250ZXh0KXtudWxsPT1vYmomJihvYmo9W10pLGl0ZXJhdGVlPWNyZWF0ZUNhbGxiYWNrKGl0ZXJhdGVlLGNvbnRleHQsNCk7dmFyIGN1cnJlbnRLZXksa2V5cz1vYmoubGVuZ3RoIT09K29iai5sZW5ndGgmJl8ua2V5cyhvYmopLGluZGV4PShrZXlzfHxvYmopLmxlbmd0aDtpZihhcmd1bWVudHMubGVuZ3RoPDMpe2lmKCFpbmRleCl0aHJvdyBuZXcgVHlwZUVycm9yKHJlZHVjZUVycm9yKTttZW1vPW9ialtrZXlzP2tleXNbLS1pbmRleF06LS1pbmRleF19Zm9yKDtpbmRleC0tOyljdXJyZW50S2V5PWtleXM/a2V5c1tpbmRleF06aW5kZXgsbWVtbz1pdGVyYXRlZShtZW1vLG9ialtjdXJyZW50S2V5XSxjdXJyZW50S2V5LG9iaik7cmV0dXJuIG1lbW99LF8uZmluZD1fLmRldGVjdD1mdW5jdGlvbihvYmoscHJlZGljYXRlLGNvbnRleHQpe3ZhciByZXN1bHQ7cmV0dXJuIHByZWRpY2F0ZT1fLml0ZXJhdGVlKHByZWRpY2F0ZSxjb250ZXh0KSxfLnNvbWUob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3JldHVybiBwcmVkaWNhdGUodmFsdWUsaW5kZXgsbGlzdCk/KHJlc3VsdD12YWx1ZSwhMCk6dm9pZCAwfSkscmVzdWx0fSxfLmZpbHRlcj1fLnNlbGVjdD1mdW5jdGlvbihvYmoscHJlZGljYXRlLGNvbnRleHQpe3ZhciByZXN1bHRzPVtdO3JldHVybiBudWxsPT1vYmo/cmVzdWx0czoocHJlZGljYXRlPV8uaXRlcmF0ZWUocHJlZGljYXRlLGNvbnRleHQpLF8uZWFjaChvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7cHJlZGljYXRlKHZhbHVlLGluZGV4LGxpc3QpJiZyZXN1bHRzLnB1c2godmFsdWUpfSkscmVzdWx0cyl9LF8ucmVqZWN0PWZ1bmN0aW9uKG9iaixwcmVkaWNhdGUsY29udGV4dCl7cmV0dXJuIF8uZmlsdGVyKG9iaixfLm5lZ2F0ZShfLml0ZXJhdGVlKHByZWRpY2F0ZSkpLGNvbnRleHQpfSxfLmV2ZXJ5PV8uYWxsPWZ1bmN0aW9uKG9iaixwcmVkaWNhdGUsY29udGV4dCl7aWYobnVsbD09b2JqKXJldHVybiEwO3ByZWRpY2F0ZT1fLml0ZXJhdGVlKHByZWRpY2F0ZSxjb250ZXh0KTt2YXIgaW5kZXgsY3VycmVudEtleSxrZXlzPW9iai5sZW5ndGghPT0rb2JqLmxlbmd0aCYmXy5rZXlzKG9iaiksbGVuZ3RoPShrZXlzfHxvYmopLmxlbmd0aDtmb3IoaW5kZXg9MDtsZW5ndGg+aW5kZXg7aW5kZXgrKylpZihjdXJyZW50S2V5PWtleXM/a2V5c1tpbmRleF06aW5kZXgsIXByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sY3VycmVudEtleSxvYmopKXJldHVybiExO3JldHVybiEwfSxfLnNvbWU9Xy5hbnk9ZnVuY3Rpb24ob2JqLHByZWRpY2F0ZSxjb250ZXh0KXtpZihudWxsPT1vYmopcmV0dXJuITE7cHJlZGljYXRlPV8uaXRlcmF0ZWUocHJlZGljYXRlLGNvbnRleHQpO3ZhciBpbmRleCxjdXJyZW50S2V5LGtleXM9b2JqLmxlbmd0aCE9PStvYmoubGVuZ3RoJiZfLmtleXMob2JqKSxsZW5ndGg9KGtleXN8fG9iaikubGVuZ3RoO2ZvcihpbmRleD0wO2xlbmd0aD5pbmRleDtpbmRleCsrKWlmKGN1cnJlbnRLZXk9a2V5cz9rZXlzW2luZGV4XTppbmRleCxwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLGN1cnJlbnRLZXksb2JqKSlyZXR1cm4hMDtyZXR1cm4hMX0sXy5jb250YWlucz1fLmluY2x1ZGU9ZnVuY3Rpb24ob2JqLHRhcmdldCl7cmV0dXJuIG51bGw9PW9iaj8hMToob2JqLmxlbmd0aCE9PStvYmoubGVuZ3RoJiYob2JqPV8udmFsdWVzKG9iaikpLF8uaW5kZXhPZihvYmosdGFyZ2V0KT49MCl9LF8uaW52b2tlPWZ1bmN0aW9uKG9iaixtZXRob2Qpe3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGlzRnVuYz1fLmlzRnVuY3Rpb24obWV0aG9kKTtyZXR1cm4gXy5tYXAob2JqLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4oaXNGdW5jP21ldGhvZDp2YWx1ZVttZXRob2RdKS5hcHBseSh2YWx1ZSxhcmdzKX0pfSxfLnBsdWNrPWZ1bmN0aW9uKG9iaixrZXkpe3JldHVybiBfLm1hcChvYmosXy5wcm9wZXJ0eShrZXkpKX0sXy53aGVyZT1mdW5jdGlvbihvYmosYXR0cnMpe3JldHVybiBfLmZpbHRlcihvYmosXy5tYXRjaGVzKGF0dHJzKSl9LF8uZmluZFdoZXJlPWZ1bmN0aW9uKG9iaixhdHRycyl7cmV0dXJuIF8uZmluZChvYmosXy5tYXRjaGVzKGF0dHJzKSl9LF8ubWF4PWZ1bmN0aW9uKG9iaixpdGVyYXRlZSxjb250ZXh0KXt2YXIgdmFsdWUsY29tcHV0ZWQscmVzdWx0PS0xLzAsbGFzdENvbXB1dGVkPS0xLzA7aWYobnVsbD09aXRlcmF0ZWUmJm51bGwhPW9iail7b2JqPW9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9vYmo6Xy52YWx1ZXMob2JqKTtmb3IodmFyIGk9MCxsZW5ndGg9b2JqLmxlbmd0aDtsZW5ndGg+aTtpKyspdmFsdWU9b2JqW2ldLHZhbHVlPnJlc3VsdCYmKHJlc3VsdD12YWx1ZSl9ZWxzZSBpdGVyYXRlZT1fLml0ZXJhdGVlKGl0ZXJhdGVlLGNvbnRleHQpLF8uZWFjaChvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7Y29tcHV0ZWQ9aXRlcmF0ZWUodmFsdWUsaW5kZXgsbGlzdCksKGNvbXB1dGVkPmxhc3RDb21wdXRlZHx8Y29tcHV0ZWQ9PT0tMS8wJiZyZXN1bHQ9PT0tMS8wKSYmKHJlc3VsdD12YWx1ZSxsYXN0Q29tcHV0ZWQ9Y29tcHV0ZWQpfSk7cmV0dXJuIHJlc3VsdH0sXy5taW49ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLGNvbnRleHQpe3ZhciB2YWx1ZSxjb21wdXRlZCxyZXN1bHQ9MS8wLGxhc3RDb21wdXRlZD0xLzA7aWYobnVsbD09aXRlcmF0ZWUmJm51bGwhPW9iail7b2JqPW9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9vYmo6Xy52YWx1ZXMob2JqKTtmb3IodmFyIGk9MCxsZW5ndGg9b2JqLmxlbmd0aDtsZW5ndGg+aTtpKyspdmFsdWU9b2JqW2ldLHJlc3VsdD52YWx1ZSYmKHJlc3VsdD12YWx1ZSl9ZWxzZSBpdGVyYXRlZT1fLml0ZXJhdGVlKGl0ZXJhdGVlLGNvbnRleHQpLF8uZWFjaChvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7Y29tcHV0ZWQ9aXRlcmF0ZWUodmFsdWUsaW5kZXgsbGlzdCksKGxhc3RDb21wdXRlZD5jb21wdXRlZHx8MS8wPT09Y29tcHV0ZWQmJjEvMD09PXJlc3VsdCkmJihyZXN1bHQ9dmFsdWUsbGFzdENvbXB1dGVkPWNvbXB1dGVkKX0pO3JldHVybiByZXN1bHR9LF8uc2h1ZmZsZT1mdW5jdGlvbihvYmope2Zvcih2YXIgcmFuZCxzZXQ9b2JqJiZvYmoubGVuZ3RoPT09K29iai5sZW5ndGg/b2JqOl8udmFsdWVzKG9iaiksbGVuZ3RoPXNldC5sZW5ndGgsc2h1ZmZsZWQ9QXJyYXkobGVuZ3RoKSxpbmRleD0wO2xlbmd0aD5pbmRleDtpbmRleCsrKXJhbmQ9Xy5yYW5kb20oMCxpbmRleCkscmFuZCE9PWluZGV4JiYoc2h1ZmZsZWRbaW5kZXhdPXNodWZmbGVkW3JhbmRdKSxzaHVmZmxlZFtyYW5kXT1zZXRbaW5kZXhdO3JldHVybiBzaHVmZmxlZH0sXy5zYW1wbGU9ZnVuY3Rpb24ob2JqLG4sZ3VhcmQpe3JldHVybiBudWxsPT1ufHxndWFyZD8ob2JqLmxlbmd0aCE9PStvYmoubGVuZ3RoJiYob2JqPV8udmFsdWVzKG9iaikpLG9ialtfLnJhbmRvbShvYmoubGVuZ3RoLTEpXSk6Xy5zaHVmZmxlKG9iaikuc2xpY2UoMCxNYXRoLm1heCgwLG4pKX0sXy5zb3J0Qnk9ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLGNvbnRleHQpe3JldHVybiBpdGVyYXRlZT1fLml0ZXJhdGVlKGl0ZXJhdGVlLGNvbnRleHQpLF8ucGx1Y2soXy5tYXAob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3JldHVybnt2YWx1ZTp2YWx1ZSxpbmRleDppbmRleCxjcml0ZXJpYTppdGVyYXRlZSh2YWx1ZSxpbmRleCxsaXN0KX19KS5zb3J0KGZ1bmN0aW9uKGxlZnQscmlnaHQpe3ZhciBhPWxlZnQuY3JpdGVyaWEsYj1yaWdodC5jcml0ZXJpYTtpZihhIT09Yil7aWYoYT5ifHx2b2lkIDA9PT1hKXJldHVybiAxO2lmKGI+YXx8dm9pZCAwPT09YilyZXR1cm4tMX1yZXR1cm4gbGVmdC5pbmRleC1yaWdodC5pbmRleH0pLCJ2YWx1ZSIpfTt2YXIgZ3JvdXA9ZnVuY3Rpb24oYmVoYXZpb3Ipe3JldHVybiBmdW5jdGlvbihvYmosaXRlcmF0ZWUsY29udGV4dCl7dmFyIHJlc3VsdD17fTtyZXR1cm4gaXRlcmF0ZWU9Xy5pdGVyYXRlZShpdGVyYXRlZSxjb250ZXh0KSxfLmVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4KXt2YXIga2V5PWl0ZXJhdGVlKHZhbHVlLGluZGV4LG9iaik7YmVoYXZpb3IocmVzdWx0LHZhbHVlLGtleSl9KSxyZXN1bHR9fTtfLmdyb3VwQnk9Z3JvdXAoZnVuY3Rpb24ocmVzdWx0LHZhbHVlLGtleSl7Xy5oYXMocmVzdWx0LGtleSk/cmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk6cmVzdWx0W2tleV09W3ZhbHVlXX0pLF8uaW5kZXhCeT1ncm91cChmdW5jdGlvbihyZXN1bHQsdmFsdWUsa2V5KXtyZXN1bHRba2V5XT12YWx1ZX0pLF8uY291bnRCeT1ncm91cChmdW5jdGlvbihyZXN1bHQsdmFsdWUsa2V5KXtfLmhhcyhyZXN1bHQsa2V5KT9yZXN1bHRba2V5XSsrOnJlc3VsdFtrZXldPTF9KSxfLnNvcnRlZEluZGV4PWZ1bmN0aW9uKGFycmF5LG9iaixpdGVyYXRlZSxjb250ZXh0KXtpdGVyYXRlZT1fLml0ZXJhdGVlKGl0ZXJhdGVlLGNvbnRleHQsMSk7Zm9yKHZhciB2YWx1ZT1pdGVyYXRlZShvYmopLGxvdz0wLGhpZ2g9YXJyYXkubGVuZ3RoO2hpZ2g+bG93Oyl7dmFyIG1pZD1sb3craGlnaD4+PjE7aXRlcmF0ZWUoYXJyYXlbbWlkXSk8dmFsdWU/bG93PW1pZCsxOmhpZ2g9bWlkfXJldHVybiBsb3d9LF8udG9BcnJheT1mdW5jdGlvbihvYmope3JldHVybiBvYmo/Xy5pc0FycmF5KG9iaik/c2xpY2UuY2FsbChvYmopOm9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9fLm1hcChvYmosXy5pZGVudGl0eSk6Xy52YWx1ZXMob2JqKTpbXX0sXy5zaXplPWZ1bmN0aW9uKG9iail7cmV0dXJuIG51bGw9PW9iaj8wOm9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9vYmoubGVuZ3RoOl8ua2V5cyhvYmopLmxlbmd0aH0sXy5wYXJ0aXRpb249ZnVuY3Rpb24ob2JqLHByZWRpY2F0ZSxjb250ZXh0KXtwcmVkaWNhdGU9Xy5pdGVyYXRlZShwcmVkaWNhdGUsY29udGV4dCk7dmFyIHBhc3M9W10sZmFpbD1bXTtyZXR1cm4gXy5lYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxrZXksb2JqKXsocHJlZGljYXRlKHZhbHVlLGtleSxvYmopP3Bhc3M6ZmFpbCkucHVzaCh2YWx1ZSl9KSxbcGFzcyxmYWlsXX0sXy5maXJzdD1fLmhlYWQ9Xy50YWtlPWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBudWxsPT1hcnJheT92b2lkIDA6bnVsbD09bnx8Z3VhcmQ/YXJyYXlbMF06MD5uP1tdOnNsaWNlLmNhbGwoYXJyYXksMCxuKX0sXy5pbml0aWFsPWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBzbGljZS5jYWxsKGFycmF5LDAsTWF0aC5tYXgoMCxhcnJheS5sZW5ndGgtKG51bGw9PW58fGd1YXJkPzE6bikpKX0sXy5sYXN0PWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBudWxsPT1hcnJheT92b2lkIDA6bnVsbD09bnx8Z3VhcmQ/YXJyYXlbYXJyYXkubGVuZ3RoLTFdOnNsaWNlLmNhbGwoYXJyYXksTWF0aC5tYXgoYXJyYXkubGVuZ3RoLW4sMCkpfSxfLnJlc3Q9Xy50YWlsPV8uZHJvcD1mdW5jdGlvbihhcnJheSxuLGd1YXJkKXtyZXR1cm4gc2xpY2UuY2FsbChhcnJheSxudWxsPT1ufHxndWFyZD8xOm4pfSxfLmNvbXBhY3Q9ZnVuY3Rpb24oYXJyYXkpe3JldHVybiBfLmZpbHRlcihhcnJheSxfLmlkZW50aXR5KX07dmFyIGZsYXR0ZW49ZnVuY3Rpb24oaW5wdXQsc2hhbGxvdyxzdHJpY3Qsb3V0cHV0KXtpZihzaGFsbG93JiZfLmV2ZXJ5KGlucHV0LF8uaXNBcnJheSkpcmV0dXJuIGNvbmNhdC5hcHBseShvdXRwdXQsaW5wdXQpO2Zvcih2YXIgaT0wLGxlbmd0aD1pbnB1dC5sZW5ndGg7bGVuZ3RoPmk7aSsrKXt2YXIgdmFsdWU9aW5wdXRbaV07Xy5pc0FycmF5KHZhbHVlKXx8Xy5pc0FyZ3VtZW50cyh2YWx1ZSk/c2hhbGxvdz9wdXNoLmFwcGx5KG91dHB1dCx2YWx1ZSk6ZmxhdHRlbih2YWx1ZSxzaGFsbG93LHN0cmljdCxvdXRwdXQpOnN0cmljdHx8b3V0cHV0LnB1c2godmFsdWUpfXJldHVybiBvdXRwdXR9O18uZmxhdHRlbj1mdW5jdGlvbihhcnJheSxzaGFsbG93KXtyZXR1cm4gZmxhdHRlbihhcnJheSxzaGFsbG93LCExLFtdKX0sXy53aXRob3V0PWZ1bmN0aW9uKGFycmF5KXtyZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX0sXy51bmlxPV8udW5pcXVlPWZ1bmN0aW9uKGFycmF5LGlzU29ydGVkLGl0ZXJhdGVlLGNvbnRleHQpe2lmKG51bGw9PWFycmF5KXJldHVybltdO18uaXNCb29sZWFuKGlzU29ydGVkKXx8KGNvbnRleHQ9aXRlcmF0ZWUsaXRlcmF0ZWU9aXNTb3J0ZWQsaXNTb3J0ZWQ9ITEpLG51bGwhPWl0ZXJhdGVlJiYoaXRlcmF0ZWU9Xy5pdGVyYXRlZShpdGVyYXRlZSxjb250ZXh0KSk7Zm9yKHZhciByZXN1bHQ9W10sc2Vlbj1bXSxpPTAsbGVuZ3RoPWFycmF5Lmxlbmd0aDtsZW5ndGg+aTtpKyspe3ZhciB2YWx1ZT1hcnJheVtpXTtpZihpc1NvcnRlZClpJiZzZWVuPT09dmFsdWV8fHJlc3VsdC5wdXNoKHZhbHVlKSxzZWVuPXZhbHVlO2Vsc2UgaWYoaXRlcmF0ZWUpe3ZhciBjb21wdXRlZD1pdGVyYXRlZSh2YWx1ZSxpLGFycmF5KTtfLmluZGV4T2Yoc2Vlbixjb21wdXRlZCk8MCYmKHNlZW4ucHVzaChjb21wdXRlZCkscmVzdWx0LnB1c2godmFsdWUpKX1lbHNlIF8uaW5kZXhPZihyZXN1bHQsdmFsdWUpPDAmJnJlc3VsdC5wdXNoKHZhbHVlKX1yZXR1cm4gcmVzdWx0fSxfLnVuaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF8udW5pcShmbGF0dGVuKGFyZ3VtZW50cywhMCwhMCxbXSkpfSxfLmludGVyc2VjdGlvbj1mdW5jdGlvbihhcnJheSl7aWYobnVsbD09YXJyYXkpcmV0dXJuW107Zm9yKHZhciByZXN1bHQ9W10sYXJnc0xlbmd0aD1hcmd1bWVudHMubGVuZ3RoLGk9MCxsZW5ndGg9YXJyYXkubGVuZ3RoO2xlbmd0aD5pO2krKyl7dmFyIGl0ZW09YXJyYXlbaV07aWYoIV8uY29udGFpbnMocmVzdWx0LGl0ZW0pKXtmb3IodmFyIGo9MTthcmdzTGVuZ3RoPmomJl8uY29udGFpbnMoYXJndW1lbnRzW2pdLGl0ZW0pO2orKyk7aj09PWFyZ3NMZW5ndGgmJnJlc3VsdC5wdXNoKGl0ZW0pfX1yZXR1cm4gcmVzdWx0fSxfLmRpZmZlcmVuY2U9ZnVuY3Rpb24oYXJyYXkpe3ZhciByZXN0PWZsYXR0ZW4oc2xpY2UuY2FsbChhcmd1bWVudHMsMSksITAsITAsW10pO3JldHVybiBfLmZpbHRlcihhcnJheSxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIV8uY29udGFpbnMocmVzdCx2YWx1ZSl9KX0sXy56aXA9ZnVuY3Rpb24oYXJyYXkpe2lmKG51bGw9PWFycmF5KXJldHVybltdO2Zvcih2YXIgbGVuZ3RoPV8ubWF4KGFyZ3VtZW50cywibGVuZ3RoIikubGVuZ3RoLHJlc3VsdHM9QXJyYXkobGVuZ3RoKSxpPTA7bGVuZ3RoPmk7aSsrKXJlc3VsdHNbaV09Xy5wbHVjayhhcmd1bWVudHMsaSk7cmV0dXJuIHJlc3VsdHN9LF8ub2JqZWN0PWZ1bmN0aW9uKGxpc3QsdmFsdWVzKXtpZihudWxsPT1saXN0KXJldHVybnt9O2Zvcih2YXIgcmVzdWx0PXt9LGk9MCxsZW5ndGg9bGlzdC5sZW5ndGg7bGVuZ3RoPmk7aSsrKXZhbHVlcz9yZXN1bHRbbGlzdFtpXV09dmFsdWVzW2ldOnJlc3VsdFtsaXN0W2ldWzBdXT1saXN0W2ldWzFdO3JldHVybiByZXN1bHR9LF8uaW5kZXhPZj1mdW5jdGlvbihhcnJheSxpdGVtLGlzU29ydGVkKXtpZihudWxsPT1hcnJheSlyZXR1cm4tMTt2YXIgaT0wLGxlbmd0aD1hcnJheS5sZW5ndGg7aWYoaXNTb3J0ZWQpe2lmKCJudW1iZXIiIT10eXBlb2YgaXNTb3J0ZWQpcmV0dXJuIGk9Xy5zb3J0ZWRJbmRleChhcnJheSxpdGVtKSxhcnJheVtpXT09PWl0ZW0/aTotMTtpPTA+aXNTb3J0ZWQ/TWF0aC5tYXgoMCxsZW5ndGgraXNTb3J0ZWQpOmlzU29ydGVkfWZvcig7bGVuZ3RoPmk7aSsrKWlmKGFycmF5W2ldPT09aXRlbSlyZXR1cm4gaTtyZXR1cm4tMX0sXy5sYXN0SW5kZXhPZj1mdW5jdGlvbihhcnJheSxpdGVtLGZyb20pe2lmKG51bGw9PWFycmF5KXJldHVybi0xO3ZhciBpZHg9YXJyYXkubGVuZ3RoO2ZvcigibnVtYmVyIj09dHlwZW9mIGZyb20mJihpZHg9MD5mcm9tP2lkeCtmcm9tKzE6TWF0aC5taW4oaWR4LGZyb20rMSkpOy0taWR4Pj0wOylpZihhcnJheVtpZHhdPT09aXRlbSlyZXR1cm4gaWR4O3JldHVybi0xfSxfLnJhbmdlPWZ1bmN0aW9uKHN0YXJ0LHN0b3Asc3RlcCl7YXJndW1lbnRzLmxlbmd0aDw9MSYmKHN0b3A9c3RhcnR8fDAsc3RhcnQ9MCksc3RlcD1zdGVwfHwxO2Zvcih2YXIgbGVuZ3RoPU1hdGgubWF4KE1hdGguY2VpbCgoc3RvcC1zdGFydCkvc3RlcCksMCkscmFuZ2U9QXJyYXkobGVuZ3RoKSxpZHg9MDtsZW5ndGg+aWR4O2lkeCsrLHN0YXJ0Kz1zdGVwKXJhbmdlW2lkeF09c3RhcnQ7cmV0dXJuIHJhbmdlfTt2YXIgQ3Rvcj1mdW5jdGlvbigpe307Xy5iaW5kPWZ1bmN0aW9uKGZ1bmMsY29udGV4dCl7dmFyIGFyZ3MsYm91bmQ7aWYobmF0aXZlQmluZCYmZnVuYy5iaW5kPT09bmF0aXZlQmluZClyZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtpZighXy5pc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3IoIkJpbmQgbXVzdCBiZSBjYWxsZWQgb24gYSBmdW5jdGlvbiIpO3JldHVybiBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGJvdW5kPWZ1bmN0aW9uKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgYm91bmQpKXJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7Q3Rvci5wcm90b3R5cGU9ZnVuYy5wcm90b3R5cGU7dmFyIHNlbGY9bmV3IEN0b3I7Q3Rvci5wcm90b3R5cGU9bnVsbDt2YXIgcmVzdWx0PWZ1bmMuYXBwbHkoc2VsZixhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gXy5pc09iamVjdChyZXN1bHQpP3Jlc3VsdDpzZWxmfX0sXy5wYXJ0aWFsPWZ1bmN0aW9uKGZ1bmMpe3ZhciBib3VuZEFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBwb3NpdGlvbj0wLGFyZ3M9Ym91bmRBcmdzLnNsaWNlKCksaT0wLGxlbmd0aD1hcmdzLmxlbmd0aDtsZW5ndGg+aTtpKyspYXJnc1tpXT09PV8mJihhcmdzW2ldPWFyZ3VtZW50c1twb3NpdGlvbisrXSk7Zm9yKDtwb3NpdGlvbjxhcmd1bWVudHMubGVuZ3RoOylhcmdzLnB1c2goYXJndW1lbnRzW3Bvc2l0aW9uKytdKTtyZXR1cm4gZnVuYy5hcHBseSh0aGlzLGFyZ3MpfX0sXy5iaW5kQWxsPWZ1bmN0aW9uKG9iail7dmFyIGksa2V5LGxlbmd0aD1hcmd1bWVudHMubGVuZ3RoO2lmKDE+PWxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImJpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXMiKTtmb3IoaT0xO2xlbmd0aD5pO2krKylrZXk9YXJndW1lbnRzW2ldLG9ialtrZXldPV8uYmluZChvYmpba2V5XSxvYmopO3JldHVybiBvYmp9LF8ubWVtb2l6ZT1mdW5jdGlvbihmdW5jLGhhc2hlcil7dmFyIG1lbW9pemU9ZnVuY3Rpb24oa2V5KXt2YXIgY2FjaGU9bWVtb2l6ZS5jYWNoZSxhZGRyZXNzPWhhc2hlcj9oYXNoZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOmtleTtyZXR1cm4gXy5oYXMoY2FjaGUsYWRkcmVzcyl8fChjYWNoZVthZGRyZXNzXT1mdW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksY2FjaGVbYWRkcmVzc119O3JldHVybiBtZW1vaXplLmNhY2hlPXt9LG1lbW9pemV9LF8uZGVsYXk9ZnVuY3Rpb24oZnVuYyx3YWl0KXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBmdW5jLmFwcGx5KG51bGwsYXJncyl9LHdhaXQpfSxfLmRlZmVyPWZ1bmN0aW9uKGZ1bmMpe3JldHVybiBfLmRlbGF5LmFwcGx5KF8sW2Z1bmMsMV0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSl9LF8udGhyb3R0bGU9ZnVuY3Rpb24oZnVuYyx3YWl0LG9wdGlvbnMpe3ZhciBjb250ZXh0LGFyZ3MscmVzdWx0LHRpbWVvdXQ9bnVsbCxwcmV2aW91cz0wO29wdGlvbnN8fChvcHRpb25zPXt9KTt2YXIgbGF0ZXI9ZnVuY3Rpb24oKXtwcmV2aW91cz1vcHRpb25zLmxlYWRpbmc9PT0hMT8wOl8ubm93KCksdGltZW91dD1udWxsLHJlc3VsdD1mdW5jLmFwcGx5KGNvbnRleHQsYXJncyksdGltZW91dHx8KGNvbnRleHQ9YXJncz1udWxsKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG5vdz1fLm5vdygpO3ByZXZpb3VzfHxvcHRpb25zLmxlYWRpbmchPT0hMXx8KHByZXZpb3VzPW5vdyk7dmFyIHJlbWFpbmluZz13YWl0LShub3ctcHJldmlvdXMpO3JldHVybiBjb250ZXh0PXRoaXMsYXJncz1hcmd1bWVudHMsMD49cmVtYWluaW5nfHxyZW1haW5pbmc+d2FpdD8oY2xlYXJUaW1lb3V0KHRpbWVvdXQpLHRpbWVvdXQ9bnVsbCxwcmV2aW91cz1ub3cscmVzdWx0PWZ1bmMuYXBwbHkoY29udGV4dCxhcmdzKSx0aW1lb3V0fHwoY29udGV4dD1hcmdzPW51bGwpKTp0aW1lb3V0fHxvcHRpb25zLnRyYWlsaW5nPT09ITF8fCh0aW1lb3V0PXNldFRpbWVvdXQobGF0ZXIscmVtYWluaW5nKSkscmVzdWx0fX0sXy5kZWJvdW5jZT1mdW5jdGlvbihmdW5jLHdhaXQsaW1tZWRpYXRlKXt2YXIgdGltZW91dCxhcmdzLGNvbnRleHQsdGltZXN0YW1wLHJlc3VsdCxsYXRlcj1mdW5jdGlvbigpe3ZhciBsYXN0PV8ubm93KCktdGltZXN0YW1wO3dhaXQ+bGFzdCYmbGFzdD4wP3RpbWVvdXQ9c2V0VGltZW91dChsYXRlcix3YWl0LWxhc3QpOih0aW1lb3V0PW51bGwsaW1tZWRpYXRlfHwocmVzdWx0PWZ1bmMuYXBwbHkoY29udGV4dCxhcmdzKSx0aW1lb3V0fHwoY29udGV4dD1hcmdzPW51bGwpKSl9O3JldHVybiBmdW5jdGlvbigpe2NvbnRleHQ9dGhpcyxhcmdzPWFyZ3VtZW50cyx0aW1lc3RhbXA9Xy5ub3coKTt2YXIgY2FsbE5vdz1pbW1lZGlhdGUmJiF0aW1lb3V0O3JldHVybiB0aW1lb3V0fHwodGltZW91dD1zZXRUaW1lb3V0KGxhdGVyLHdhaXQpKSxjYWxsTm93JiYocmVzdWx0PWZ1bmMuYXBwbHkoY29udGV4dCxhcmdzKSxjb250ZXh0PWFyZ3M9bnVsbCkscmVzdWx0fX0sXy53cmFwPWZ1bmN0aW9uKGZ1bmMsd3JhcHBlcil7cmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLGZ1bmMpfSxfLm5lZ2F0ZT1mdW5jdGlvbihwcmVkaWNhdGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiFwcmVkaWNhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sXy5jb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGFyZ3M9YXJndW1lbnRzLHN0YXJ0PWFyZ3MubGVuZ3RoLTE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBpPXN0YXJ0LHJlc3VsdD1hcmdzW3N0YXJ0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aS0tOylyZXN1bHQ9YXJnc1tpXS5jYWxsKHRoaXMscmVzdWx0KTtyZXR1cm4gcmVzdWx0fX0sXy5hZnRlcj1mdW5jdGlvbih0aW1lcyxmdW5jKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLXRpbWVzPDE/ZnVuYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0sXy5iZWZvcmU9ZnVuY3Rpb24odGltZXMsZnVuYyl7dmFyIG1lbW87cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuLS10aW1lcz4wP21lbW89ZnVuYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ZnVuYz1udWxsLG1lbW99fSxfLm9uY2U9Xy5wYXJ0aWFsKF8uYmVmb3JlLDIpLF8ua2V5cz1mdW5jdGlvbihvYmope2lmKCFfLmlzT2JqZWN0KG9iaikpcmV0dXJuW107aWYobmF0aXZlS2V5cylyZXR1cm4gbmF0aXZlS2V5cyhvYmopO3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailfLmhhcyhvYmosa2V5KSYma2V5cy5wdXNoKGtleSk7cmV0dXJuIGtleXN9LF8udmFsdWVzPWZ1bmN0aW9uKG9iail7Zm9yKHZhciBrZXlzPV8ua2V5cyhvYmopLGxlbmd0aD1rZXlzLmxlbmd0aCx2YWx1ZXM9QXJyYXkobGVuZ3RoKSxpPTA7bGVuZ3RoPmk7aSsrKXZhbHVlc1tpXT1vYmpba2V5c1tpXV07cmV0dXJuIHZhbHVlc30sXy5wYWlycz1mdW5jdGlvbihvYmope2Zvcih2YXIga2V5cz1fLmtleXMob2JqKSxsZW5ndGg9a2V5cy5sZW5ndGgscGFpcnM9QXJyYXkobGVuZ3RoKSxpPTA7bGVuZ3RoPmk7aSsrKXBhaXJzW2ldPVtrZXlzW2ldLG9ialtrZXlzW2ldXV07cmV0dXJuIHBhaXJzfSxfLmludmVydD1mdW5jdGlvbihvYmope2Zvcih2YXIgcmVzdWx0PXt9LGtleXM9Xy5rZXlzKG9iaiksaT0wLGxlbmd0aD1rZXlzLmxlbmd0aDtsZW5ndGg+aTtpKyspcmVzdWx0W29ialtrZXlzW2ldXV09a2V5c1tpXTtyZXR1cm4gcmVzdWx0fSxfLmZ1bmN0aW9ucz1fLm1ldGhvZHM9ZnVuY3Rpb24ob2JqKXt2YXIgbmFtZXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKV8uaXNGdW5jdGlvbihvYmpba2V5XSkmJm5hbWVzLnB1c2goa2V5KTtyZXR1cm4gbmFtZXMuc29ydCgpfSxfLmV4dGVuZD1mdW5jdGlvbihvYmope2lmKCFfLmlzT2JqZWN0KG9iaikpcmV0dXJuIG9iajtmb3IodmFyIHNvdXJjZSxwcm9wLGk9MSxsZW5ndGg9YXJndW1lbnRzLmxlbmd0aDtsZW5ndGg+aTtpKyspe3NvdXJjZT1hcmd1bWVudHNbaV07Zm9yKHByb3AgaW4gc291cmNlKWhhc093blByb3BlcnR5LmNhbGwoc291cmNlLHByb3ApJiYob2JqW3Byb3BdPXNvdXJjZVtwcm9wXSl9cmV0dXJuIG9ian0sXy5waWNrPWZ1bmN0aW9uKG9iaixpdGVyYXRlZSxjb250ZXh0KXt2YXIga2V5LHJlc3VsdD17fTtpZihudWxsPT1vYmopcmV0dXJuIHJlc3VsdDtpZihfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKXtpdGVyYXRlZT1jcmVhdGVDYWxsYmFjayhpdGVyYXRlZSxjb250ZXh0KTtmb3Ioa2V5IGluIG9iail7dmFyIHZhbHVlPW9ialtrZXldO2l0ZXJhdGVlKHZhbHVlLGtleSxvYmopJiYocmVzdWx0W2tleV09dmFsdWUpfX1lbHNle3ZhciBrZXlzPWNvbmNhdC5hcHBseShbXSxzbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7b2JqPW5ldyBPYmplY3Qob2JqKTtmb3IodmFyIGk9MCxsZW5ndGg9a2V5cy5sZW5ndGg7bGVuZ3RoPmk7aSsrKWtleT1rZXlzW2ldLGtleSBpbiBvYmomJihyZXN1bHRba2V5XT1vYmpba2V5XSl9cmV0dXJuIHJlc3VsdH0sXy5vbWl0PWZ1bmN0aW9uKG9iaixpdGVyYXRlZSxjb250ZXh0KXtpZihfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKWl0ZXJhdGVlPV8ubmVnYXRlKGl0ZXJhdGVlKTtlbHNle3ZhciBrZXlzPV8ubWFwKGNvbmNhdC5hcHBseShbXSxzbGljZS5jYWxsKGFyZ3VtZW50cywxKSksU3RyaW5nKTtpdGVyYXRlZT1mdW5jdGlvbih2YWx1ZSxrZXkpe3JldHVybiFfLmNvbnRhaW5zKGtleXMsa2V5KX19cmV0dXJuIF8ucGljayhvYmosaXRlcmF0ZWUsY29udGV4dCl9LF8uZGVmYXVsdHM9ZnVuY3Rpb24ob2JqKXtpZighXy5pc09iamVjdChvYmopKXJldHVybiBvYmo7Zm9yKHZhciBpPTEsbGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg7bGVuZ3RoPmk7aSsrKXt2YXIgc291cmNlPWFyZ3VtZW50c1tpXTtmb3IodmFyIHByb3AgaW4gc291cmNlKXZvaWQgMD09PW9ialtwcm9wXSYmKG9ialtwcm9wXT1zb3VyY2VbcHJvcF0pfXJldHVybiBvYmp9LF8uY2xvbmU9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gXy5pc09iamVjdChvYmopP18uaXNBcnJheShvYmopP29iai5zbGljZSgpOl8uZXh0ZW5kKHt9LG9iaik6b2JqfSxfLnRhcD1mdW5jdGlvbihvYmosaW50ZXJjZXB0b3Ipe3JldHVybiBpbnRlcmNlcHRvcihvYmopLG9ian07dmFyIGVxPWZ1bmN0aW9uKGEsYixhU3RhY2ssYlN0YWNrKXtpZihhPT09YilyZXR1cm4gMCE9PWF8fDEvYT09PTEvYjtpZihudWxsPT1hfHxudWxsPT1iKXJldHVybiBhPT09YjthIGluc3RhbmNlb2YgXyYmKGE9YS5fd3JhcHBlZCksYiBpbnN0YW5jZW9mIF8mJihiPWIuX3dyYXBwZWQpO3ZhciBjbGFzc05hbWU9dG9TdHJpbmcuY2FsbChhKTtpZihjbGFzc05hbWUhPT10b1N0cmluZy5jYWxsKGIpKXJldHVybiExO3N3aXRjaChjbGFzc05hbWUpe2Nhc2UiW29iamVjdCBSZWdFeHBdIjpjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuIiIrYT09IiIrYjtjYXNlIltvYmplY3QgTnVtYmVyXSI6cmV0dXJuK2EhPT0rYT8rYiE9PStiOjA9PT0rYT8xLythPT09MS9iOithPT09K2I7Y2FzZSJbb2JqZWN0IERhdGVdIjpjYXNlIltvYmplY3QgQm9vbGVhbl0iOnJldHVybithPT09K2J9aWYoIm9iamVjdCIhPXR5cGVvZiBhfHwib2JqZWN0IiE9dHlwZW9mIGIpcmV0dXJuITE7Zm9yKHZhciBsZW5ndGg9YVN0YWNrLmxlbmd0aDtsZW5ndGgtLTspaWYoYVN0YWNrW2xlbmd0aF09PT1hKXJldHVybiBiU3RhY2tbbGVuZ3RoXT09PWI7dmFyIGFDdG9yPWEuY29uc3RydWN0b3IsYkN0b3I9Yi5jb25zdHJ1Y3RvcjtpZihhQ3RvciE9PWJDdG9yJiYiY29uc3RydWN0b3IiaW4gYSYmImNvbnN0cnVjdG9yImluIGImJiEoXy5pc0Z1bmN0aW9uKGFDdG9yKSYmYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciYmXy5pc0Z1bmN0aW9uKGJDdG9yKSYmYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcikpcmV0dXJuITE7YVN0YWNrLnB1c2goYSksYlN0YWNrLnB1c2goYik7dmFyIHNpemUscmVzdWx0O2lmKCJbb2JqZWN0IEFycmF5XSI9PT1jbGFzc05hbWUpe2lmKHNpemU9YS5sZW5ndGgscmVzdWx0PXNpemU9PT1iLmxlbmd0aClmb3IoO3NpemUtLSYmKHJlc3VsdD1lcShhW3NpemVdLGJbc2l6ZV0sYVN0YWNrLGJTdGFjaykpOyk7fWVsc2V7dmFyIGtleSxrZXlzPV8ua2V5cyhhKTtpZihzaXplPWtleXMubGVuZ3RoLHJlc3VsdD1fLmtleXMoYikubGVuZ3RoPT09c2l6ZSlmb3IoO3NpemUtLSYmKGtleT1rZXlzW3NpemVdLHJlc3VsdD1fLmhhcyhiLGtleSkmJmVxKGFba2V5XSxiW2tleV0sYVN0YWNrLGJTdGFjaykpOyk7fXJldHVybiBhU3RhY2sucG9wKCksYlN0YWNrLnBvcCgpLHJlc3VsdH07Xy5pc0VxdWFsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGVxKGEsYixbXSxbXSl9LF8uaXNFbXB0eT1mdW5jdGlvbihvYmope2lmKG51bGw9PW9iailyZXR1cm4hMDtpZihfLmlzQXJyYXkob2JqKXx8Xy5pc1N0cmluZyhvYmopfHxfLmlzQXJndW1lbnRzKG9iaikpcmV0dXJuIDA9PT1vYmoubGVuZ3RoO2Zvcih2YXIga2V5IGluIG9iailpZihfLmhhcyhvYmosa2V5KSlyZXR1cm4hMTtyZXR1cm4hMH0sXy5pc0VsZW1lbnQ9ZnVuY3Rpb24ob2JqKXtyZXR1cm4hKCFvYmp8fDEhPT1vYmoubm9kZVR5cGUpfSxfLmlzQXJyYXk9bmF0aXZlSXNBcnJheXx8ZnVuY3Rpb24ob2JqKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09dG9TdHJpbmcuY2FsbChvYmopfSxfLmlzT2JqZWN0PWZ1bmN0aW9uKG9iail7dmFyIHR5cGU9dHlwZW9mIG9iajtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZXx8Im9iamVjdCI9PT10eXBlJiYhIW9ian0sXy5lYWNoKFsiQXJndW1lbnRzIiwiRnVuY3Rpb24iLCJTdHJpbmciLCJOdW1iZXIiLCJEYXRlIiwiUmVnRXhwIl0sZnVuY3Rpb24obmFtZSl7X1siaXMiK25hbWVdPWZ1bmN0aW9uKG9iail7cmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKT09PSJbb2JqZWN0ICIrbmFtZSsiXSJ9fSksXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpfHwoXy5pc0FyZ3VtZW50cz1mdW5jdGlvbihvYmope3JldHVybiBfLmhhcyhvYmosImNhbGxlZSIpfSksImZ1bmN0aW9uIiE9dHlwZW9mLy4vJiYoXy5pc0Z1bmN0aW9uPWZ1bmN0aW9uKG9iail7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG9ianx8ITF9KSxfLmlzRmluaXRlPWZ1bmN0aW9uKG9iail7cmV0dXJuIGlzRmluaXRlKG9iaikmJiFpc05hTihwYXJzZUZsb2F0KG9iaikpfSxfLmlzTmFOPWZ1bmN0aW9uKG9iail7cmV0dXJuIF8uaXNOdW1iZXIob2JqKSYmb2JqIT09K29ian0sXy5pc0Jvb2xlYW49ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqPT09ITB8fG9iaj09PSExfHwiW29iamVjdCBCb29sZWFuXSI9PT10b1N0cmluZy5jYWxsKG9iail9LF8uaXNOdWxsPWZ1bmN0aW9uKG9iail7cmV0dXJuIG51bGw9PT1vYmp9LF8uaXNVbmRlZmluZWQ9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gdm9pZCAwPT09b2JqfSxfLmhhcz1mdW5jdGlvbihvYmosa2V5KXtyZXR1cm4gbnVsbCE9b2JqJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpfSxfLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcm9vdC5fPXByZXZpb3VzVW5kZXJzY29yZSx0aGlzfSxfLmlkZW50aXR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWV9LF8uY29uc3RhbnQ9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2YWx1ZX19LF8ubm9vcD1mdW5jdGlvbigpe30sXy5wcm9wZXJ0eT1mdW5jdGlvbihrZXkpe3JldHVybiBmdW5jdGlvbihvYmope3JldHVybiBvYmpba2V5XX19LF8ubWF0Y2hlcz1mdW5jdGlvbihhdHRycyl7dmFyIHBhaXJzPV8ucGFpcnMoYXR0cnMpLGxlbmd0aD1wYWlycy5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKG9iail7aWYobnVsbD09b2JqKXJldHVybiFsZW5ndGg7b2JqPW5ldyBPYmplY3Qob2JqKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspe3ZhciBwYWlyPXBhaXJzW2ldLGtleT1wYWlyWzBdO2lmKHBhaXJbMV0hPT1vYmpba2V5XXx8IShrZXkgaW4gb2JqKSlyZXR1cm4hMX1yZXR1cm4hMH19LF8udGltZXM9ZnVuY3Rpb24obixpdGVyYXRlZSxjb250ZXh0KXt2YXIgYWNjdW09QXJyYXkoTWF0aC5tYXgoMCxuKSk7aXRlcmF0ZWU9Y3JlYXRlQ2FsbGJhY2soaXRlcmF0ZWUsY29udGV4dCwxKTtmb3IodmFyIGk9MDtuPmk7aSsrKWFjY3VtW2ldPWl0ZXJhdGVlKGkpO3JldHVybiBhY2N1bX0sXy5yYW5kb209ZnVuY3Rpb24obWluLG1heCl7cmV0dXJuIG51bGw9PW1heCYmKG1heD1taW4sbWluPTApLG1pbitNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG1heC1taW4rMSkpfSxfLm5vdz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX07dmFyIGVzY2FwZU1hcD17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjeDI3OyIsImAiOiImI3g2MDsifSx1bmVzY2FwZU1hcD1fLmludmVydChlc2NhcGVNYXApLGNyZWF0ZUVzY2FwZXI9ZnVuY3Rpb24obWFwKXt2YXIgZXNjYXBlcj1mdW5jdGlvbihtYXRjaCl7cmV0dXJuIG1hcFttYXRjaF19LHNvdXJjZT0iKD86IitfLmtleXMobWFwKS5qb2luKCJ8IikrIikiLHRlc3RSZWdleHA9UmVnRXhwKHNvdXJjZSkscmVwbGFjZVJlZ2V4cD1SZWdFeHAoc291cmNlLCJnIik7cmV0dXJuIGZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZz1udWxsPT1zdHJpbmc/IiI6IiIrc3RyaW5nLHRlc3RSZWdleHAudGVzdChzdHJpbmcpP3N0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsZXNjYXBlcik6c3RyaW5nfX07Xy5lc2NhcGU9Y3JlYXRlRXNjYXBlcihlc2NhcGVNYXApLF8udW5lc2NhcGU9Y3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCksXy5yZXN1bHQ9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtpZihudWxsPT1vYmplY3QpcmV0dXJuIHZvaWQgMDt2YXIgdmFsdWU9b2JqZWN0W3Byb3BlcnR5XTtyZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKT9vYmplY3RbcHJvcGVydHldKCk6dmFsdWV9O3ZhciBpZENvdW50ZXI9MDtfLnVuaXF1ZUlkPWZ1bmN0aW9uKHByZWZpeCl7dmFyIGlkPSsraWRDb3VudGVyKyIiO3JldHVybiBwcmVmaXg/cHJlZml4K2lkOmlkfSxfLnRlbXBsYXRlU2V0dGluZ3M9e2V2YWx1YXRlOi88JShbXHNcU10rPyklPi9nLGludGVycG9sYXRlOi88JT0oW1xzXFNdKz8pJT4vZyxlc2NhcGU6LzwlLShbXHNcU10rPyklPi9nfTt2YXIgbm9NYXRjaD0vKC4pXi8sZXNjYXBlcz17IiciOiInIiwiXFwiOiJcXCIsIlxyIjoiciIsIlxuIjoibiIsIlx1MjAyOCI6InUyMDI4IiwiXHUyMDI5IjoidTIwMjkifSxlc2NhcGVyPS9cXHwnfFxyfFxufFx1MjAyOHxcdTIwMjkvZyxlc2NhcGVDaGFyPWZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4iXFwiK2VzY2FwZXNbbWF0Y2hdfTtfLnRlbXBsYXRlPWZ1bmN0aW9uKHRleHQsc2V0dGluZ3Msb2xkU2V0dGluZ3MpeyFzZXR0aW5ncyYmb2xkU2V0dGluZ3MmJihzZXR0aW5ncz1vbGRTZXR0aW5ncyksc2V0dGluZ3M9Xy5kZWZhdWx0cyh7fSxzZXR0aW5ncyxfLnRlbXBsYXRlU2V0dGluZ3MpO3ZhciBtYXRjaGVyPVJlZ0V4cChbKHNldHRpbmdzLmVzY2FwZXx8bm9NYXRjaCkuc291cmNlLChzZXR0aW5ncy5pbnRlcnBvbGF0ZXx8bm9NYXRjaCkuc291cmNlLChzZXR0aW5ncy5ldmFsdWF0ZXx8bm9NYXRjaCkuc291cmNlXS5qb2luKCJ8IikrInwkIiwiZyIpLGluZGV4PTAsc291cmNlPSJfX3ArPSciO3RleHQucmVwbGFjZShtYXRjaGVyLGZ1bmN0aW9uKG1hdGNoLGVzY2FwZSxpbnRlcnBvbGF0ZSxldmFsdWF0ZSxvZmZzZXQpe3JldHVybiBzb3VyY2UrPXRleHQuc2xpY2UoaW5kZXgsb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsZXNjYXBlQ2hhciksaW5kZXg9b2Zmc2V0K21hdGNoLmxlbmd0aCxlc2NhcGU/c291cmNlKz0iJytcbigoX190PSgiK2VzY2FwZSsiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXG4nIjppbnRlcnBvbGF0ZT9zb3VyY2UrPSInK1xuKChfX3Q9KCIraW50ZXJwb2xhdGUrIikpPT1udWxsPycnOl9fdCkrXG4nIjpldmFsdWF0ZSYmKHNvdXJjZSs9Iic7XG4iK2V2YWx1YXRlKyJcbl9fcCs9JyIpLG1hdGNofSksc291cmNlKz0iJztcbiIsc2V0dGluZ3MudmFyaWFibGV8fChzb3VyY2U9IndpdGgob2JqfHx7fSl7XG4iK3NvdXJjZSsifVxuIiksc291cmNlPSJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4scHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcbiIrc291cmNlKyJyZXR1cm4gX19wO1xuIjt0cnl7dmFyIHJlbmRlcj1uZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGV8fCJvYmoiLCJfIixzb3VyY2UpfWNhdGNoKGUpe3Rocm93IGUuc291cmNlPXNvdXJjZSxlfXZhciB0ZW1wbGF0ZT1mdW5jdGlvbihkYXRhKXtyZXR1cm4gcmVuZGVyLmNhbGwodGhpcyxkYXRhLF8pfSxhcmd1bWVudD1zZXR0aW5ncy52YXJpYWJsZXx8Im9iaiI7cmV0dXJuIHRlbXBsYXRlLnNvdXJjZT0iZnVuY3Rpb24oIithcmd1bWVudCsiKXtcbiIrc291cmNlKyJ9Iix0ZW1wbGF0ZX0sXy5jaGFpbj1mdW5jdGlvbihvYmope3ZhciBpbnN0YW5jZT1fKG9iaik7cmV0dXJuIGluc3RhbmNlLl9jaGFpbj0hMCxpbnN0YW5jZX07dmFyIHJlc3VsdD1mdW5jdGlvbihvYmope3JldHVybiB0aGlzLl9jaGFpbj9fKG9iaikuY2hhaW4oKTpvYmp9O18ubWl4aW49ZnVuY3Rpb24ob2JqKXtfLmVhY2goXy5mdW5jdGlvbnMob2JqKSxmdW5jdGlvbihuYW1lKXt2YXIgZnVuYz1fW25hbWVdPW9ialtuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3ZhciBhcmdzPVt0aGlzLl93cmFwcGVkXTtyZXR1cm4gcHVzaC5hcHBseShhcmdzLGFyZ3VtZW50cykscmVzdWx0LmNhbGwodGhpcyxmdW5jLmFwcGx5KF8sYXJncykpfX0pfSxfLm1peGluKF8pLF8uZWFjaChbInBvcCIsInB1c2giLCJyZXZlcnNlIiwic2hpZnQiLCJzb3J0Iiwic3BsaWNlIiwidW5zaGlmdCJdLGZ1bmN0aW9uKG5hbWUpe3ZhciBtZXRob2Q9QXJyYXlQcm90b1tuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3ZhciBvYmo9dGhpcy5fd3JhcHBlZDtyZXR1cm4gbWV0aG9kLmFwcGx5KG9iaixhcmd1bWVudHMpLCJzaGlmdCIhPT1uYW1lJiYic3BsaWNlIiE9PW5hbWV8fDAhPT1vYmoubGVuZ3RofHxkZWxldGUgb2JqWzBdLHJlc3VsdC5jYWxsKHRoaXMsb2JqKX19KSxfLmVhY2goWyJjb25jYXQiLCJqb2luIiwic2xpY2UiXSxmdW5jdGlvbihuYW1lKXt2YXIgbWV0aG9kPUFycmF5UHJvdG9bbmFtZV07Xy5wcm90b3R5cGVbbmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gcmVzdWx0LmNhbGwodGhpcyxtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCxhcmd1bWVudHMpKX19KSxfLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoInVuZGVyc2NvcmUiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIF99KX0uY2FsbCh0aGlzKSxmdW5jdGlvbih1bmRlZmluZWQpe2Z1bmN0aW9uIGRmbChhLGIsYyl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMjpyZXR1cm4gbnVsbCE9YT9hOmI7Y2FzZSAzOnJldHVybiBudWxsIT1hP2E6bnVsbCE9Yj9iOmM7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkltcGxlbWVudCBtZSIpfX1mdW5jdGlvbiBoYXNPd25Qcm9wKGEsYil7cmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoYSxiKX1mdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCl7cmV0dXJue2VtcHR5OiExLHVudXNlZFRva2VuczpbXSx1bnVzZWRJbnB1dDpbXSxvdmVyZmxvdzotMixjaGFyc0xlZnRPdmVyOjAsbnVsbElucHV0OiExLGludmFsaWRNb250aDpudWxsLGludmFsaWRGb3JtYXQ6ITEsdXNlckludmFsaWRhdGVkOiExLGlzbzohMX19ZnVuY3Rpb24gcHJpbnRNc2cobXNnKXttb21lbnQuc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzPT09ITEmJiJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oIkRlcHJlY2F0aW9uIHdhcm5pbmc6ICIrbXNnKX1mdW5jdGlvbiBkZXByZWNhdGUobXNnLGZuKXt2YXIgZmlyc3RUaW1lPSEwO3JldHVybiBleHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZmlyc3RUaW1lJiYocHJpbnRNc2cobXNnKSxmaXJzdFRpbWU9ITEpLGZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZm4pfWZ1bmN0aW9uIGRlcHJlY2F0ZVNpbXBsZShuYW1lLG1zZyl7ZGVwcmVjYXRpb25zW25hbWVdfHwocHJpbnRNc2cobXNnKSxkZXByZWNhdGlvbnNbbmFtZV09ITApfWZ1bmN0aW9uIHBhZFRva2VuKGZ1bmMsY291bnQpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gbGVmdFplcm9GaWxsKGZ1bmMuY2FsbCh0aGlzLGEpLGNvdW50KX19ZnVuY3Rpb24gb3JkaW5hbGl6ZVRva2VuKGZ1bmMscGVyaW9kKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5jYWxsKHRoaXMsYSkscGVyaW9kKX19ZnVuY3Rpb24gTG9jYWxlKCl7fWZ1bmN0aW9uIE1vbWVudChjb25maWcsc2tpcE92ZXJmbG93KXtza2lwT3ZlcmZsb3chPT0hMSYmY2hlY2tPdmVyZmxvdyhjb25maWcpLGNvcHlDb25maWcodGhpcyxjb25maWcpLHRoaXMuX2Q9bmV3IERhdGUoK2NvbmZpZy5fZCl9ZnVuY3Rpb24gRHVyYXRpb24oZHVyYXRpb24pe3ZhciBub3JtYWxpemVkSW5wdXQ9bm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLHllYXJzPW5vcm1hbGl6ZWRJbnB1dC55ZWFyfHwwLHF1YXJ0ZXJzPW5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyfHwwLG1vbnRocz1ub3JtYWxpemVkSW5wdXQubW9udGh8fDAsd2Vla3M9bm9ybWFsaXplZElucHV0LndlZWt8fDAsZGF5cz1ub3JtYWxpemVkSW5wdXQuZGF5fHwwLGhvdXJzPW5vcm1hbGl6ZWRJbnB1dC5ob3VyfHwwLG1pbnV0ZXM9bm9ybWFsaXplZElucHV0Lm1pbnV0ZXx8MCxzZWNvbmRzPW5vcm1hbGl6ZWRJbnB1dC5zZWNvbmR8fDAsbWlsbGlzZWNvbmRzPW5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZHx8MDt0aGlzLl9taWxsaXNlY29uZHM9K21pbGxpc2Vjb25kcysxZTMqc2Vjb25kcys2ZTQqbWludXRlcyszNmU1KmhvdXJzLHRoaXMuX2RheXM9K2RheXMrNyp3ZWVrcyx0aGlzLl9tb250aHM9K21vbnRocyszKnF1YXJ0ZXJzKzEyKnllYXJzLHRoaXMuX2RhdGE9e30sdGhpcy5fbG9jYWxlPW1vbWVudC5sb2NhbGVEYXRhKCksdGhpcy5fYnViYmxlKCl9ZnVuY3Rpb24gZXh0ZW5kKGEsYil7Zm9yKHZhciBpIGluIGIpaGFzT3duUHJvcChiLGkpJiYoYVtpXT1iW2ldKTtyZXR1cm4gaGFzT3duUHJvcChiLCJ0b1N0cmluZyIpJiYoYS50b1N0cmluZz1iLnRvU3RyaW5nKSxoYXNPd25Qcm9wKGIsInZhbHVlT2YiKSYmKGEudmFsdWVPZj1iLnZhbHVlT2YpLGF9ZnVuY3Rpb24gY29weUNvbmZpZyh0byxmcm9tKXt2YXIgaSxwcm9wLHZhbDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX2lzQU1vbWVudE9iamVjdCYmKHRvLl9pc0FNb21lbnRPYmplY3Q9ZnJvbS5faXNBTW9tZW50T2JqZWN0KSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX2kmJih0by5faT1mcm9tLl9pKSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX2YmJih0by5fZj1mcm9tLl9mKSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX2wmJih0by5fbD1mcm9tLl9sKSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX3N0cmljdCYmKHRvLl9zdHJpY3Q9ZnJvbS5fc3RyaWN0KSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX3R6bSYmKHRvLl90em09ZnJvbS5fdHptKSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX2lzVVRDJiYodG8uX2lzVVRDPWZyb20uX2lzVVRDKSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX29mZnNldCYmKHRvLl9vZmZzZXQ9ZnJvbS5fb2Zmc2V0KSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX3BmJiYodG8uX3BmPWZyb20uX3BmKSwidW5kZWZpbmVkIiE9dHlwZW9mIGZyb20uX2xvY2FsZSYmKHRvLl9sb2NhbGU9ZnJvbS5fbG9jYWxlKSxtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aD4wKWZvcihpIGluIG1vbWVudFByb3BlcnRpZXMpcHJvcD1tb21lbnRQcm9wZXJ0aWVzW2ldLHZhbD1mcm9tW3Byb3BdLCJ1bmRlZmluZWQiIT10eXBlb2YgdmFsJiYodG9bcHJvcF09dmFsKTtyZXR1cm4gdG99ZnVuY3Rpb24gYWJzUm91bmQobnVtYmVyKXtyZXR1cm4gMD5udW1iZXI/TWF0aC5jZWlsKG51bWJlcik6TWF0aC5mbG9vcihudW1iZXIpfWZ1bmN0aW9uIGxlZnRaZXJvRmlsbChudW1iZXIsdGFyZ2V0TGVuZ3RoLGZvcmNlU2lnbil7Zm9yKHZhciBvdXRwdXQ9IiIrTWF0aC5hYnMobnVtYmVyKSxzaWduPW51bWJlcj49MDtvdXRwdXQubGVuZ3RoPHRhcmdldExlbmd0aDspb3V0cHV0PSIwIitvdXRwdXQ7cmV0dXJuKHNpZ24/Zm9yY2VTaWduPyIrIjoiIjoiLSIpK291dHB1dH1mdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2Usb3RoZXIpe3ZhciByZXM9e21pbGxpc2Vjb25kczowLG1vbnRoczowfTtyZXR1cm4gcmVzLm1vbnRocz1vdGhlci5tb250aCgpLWJhc2UubW9udGgoKSsxMioob3RoZXIueWVhcigpLWJhc2UueWVhcigpKSxiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsIk0iKS5pc0FmdGVyKG90aGVyKSYmLS1yZXMubW9udGhzLHJlcy5taWxsaXNlY29uZHM9K290aGVyLStiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsIk0iKSxyZXN9ZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSxvdGhlcil7dmFyIHJlcztyZXR1cm4gb3RoZXI9bWFrZUFzKG90aGVyLGJhc2UpLGJhc2UuaXNCZWZvcmUob3RoZXIpP3Jlcz1wb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2Usb3RoZXIpOihyZXM9cG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlcixiYXNlKSxyZXMubWlsbGlzZWNvbmRzPS1yZXMubWlsbGlzZWNvbmRzLHJlcy5tb250aHM9LXJlcy5tb250aHMpLHJlc31mdW5jdGlvbiBjcmVhdGVBZGRlcihkaXJlY3Rpb24sbmFtZSl7cmV0dXJuIGZ1bmN0aW9uKHZhbCxwZXJpb2Qpe3ZhciBkdXIsdG1wO3JldHVybiBudWxsPT09cGVyaW9kfHxpc05hTigrcGVyaW9kKXx8KGRlcHJlY2F0ZVNpbXBsZShuYW1lLCJtb21lbnQoKS4iK25hbWUrIihwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4iK25hbWUrIihudW1iZXIsIHBlcmlvZCkuIiksdG1wPXZhbCx2YWw9cGVyaW9kLHBlcmlvZD10bXApLHZhbD0ic3RyaW5nIj09dHlwZW9mIHZhbD8rdmFsOnZhbCxkdXI9bW9tZW50LmR1cmF0aW9uKHZhbCxwZXJpb2QpLGFkZE9yU3VidHJhY3REdXJhdGlvbkZyb21Nb21lbnQodGhpcyxkdXIsZGlyZWN0aW9uKSx0aGlzfX1mdW5jdGlvbiBhZGRPclN1YnRyYWN0RHVyYXRpb25Gcm9tTW9tZW50KG1vbSxkdXJhdGlvbixpc0FkZGluZyx1cGRhdGVPZmZzZXQpe3ZhciBtaWxsaXNlY29uZHM9ZHVyYXRpb24uX21pbGxpc2Vjb25kcyxkYXlzPWR1cmF0aW9uLl9kYXlzLG1vbnRocz1kdXJhdGlvbi5fbW9udGhzO3VwZGF0ZU9mZnNldD1udWxsPT11cGRhdGVPZmZzZXQ/ITA6dXBkYXRlT2Zmc2V0LG1pbGxpc2Vjb25kcyYmbW9tLl9kLnNldFRpbWUoK21vbS5fZCttaWxsaXNlY29uZHMqaXNBZGRpbmcpLGRheXMmJnJhd1NldHRlcihtb20sIkRhdGUiLHJhd0dldHRlcihtb20sIkRhdGUiKStkYXlzKmlzQWRkaW5nKSxtb250aHMmJnJhd01vbnRoU2V0dGVyKG1vbSxyYXdHZXR0ZXIobW9tLCJNb250aCIpK21vbnRocyppc0FkZGluZyksdXBkYXRlT2Zmc2V0JiZtb21lbnQudXBkYXRlT2Zmc2V0KG1vbSxkYXlzfHxtb250aHMpfWZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpfWZ1bmN0aW9uIGlzRGF0ZShpbnB1dCl7cmV0dXJuIltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KXx8aW5wdXQgaW5zdGFuY2VvZiBEYXRlfWZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLGFycmF5Mixkb250Q29udmVydCl7dmFyIGksbGVuPU1hdGgubWluKGFycmF5MS5sZW5ndGgsYXJyYXkyLmxlbmd0aCksbGVuZ3RoRGlmZj1NYXRoLmFicyhhcnJheTEubGVuZ3RoLWFycmF5Mi5sZW5ndGgpLGRpZmZzPTA7Zm9yKGk9MDtsZW4+aTtpKyspKGRvbnRDb252ZXJ0JiZhcnJheTFbaV0hPT1hcnJheTJbaV18fCFkb250Q29udmVydCYmdG9JbnQoYXJyYXkxW2ldKSE9PXRvSW50KGFycmF5MltpXSkpJiZkaWZmcysrO3JldHVybiBkaWZmcytsZW5ndGhEaWZmfWZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKXtpZih1bml0cyl7dmFyIGxvd2VyZWQ9dW5pdHMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oLilzJC8sIiQxIik7dW5pdHM9dW5pdEFsaWFzZXNbdW5pdHNdfHxjYW1lbEZ1bmN0aW9uc1tsb3dlcmVkXXx8bG93ZXJlZH1yZXR1cm4gdW5pdHN9ZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0VW5pdHMoaW5wdXRPYmplY3Qpe3ZhciBub3JtYWxpemVkUHJvcCxwcm9wLG5vcm1hbGl6ZWRJbnB1dD17fTtmb3IocHJvcCBpbiBpbnB1dE9iamVjdCloYXNPd25Qcm9wKGlucHV0T2JqZWN0LHByb3ApJiYobm9ybWFsaXplZFByb3A9bm9ybWFsaXplVW5pdHMocHJvcCksbm9ybWFsaXplZFByb3AmJihub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdPWlucHV0T2JqZWN0W3Byb3BdKSk7cmV0dXJuIG5vcm1hbGl6ZWRJbnB1dH1mdW5jdGlvbiBtYWtlTGlzdChmaWVsZCl7dmFyIGNvdW50LHNldHRlcjtpZigwPT09ZmllbGQuaW5kZXhPZigid2VlayIpKWNvdW50PTcsc2V0dGVyPSJkYXkiO2Vsc2V7aWYoMCE9PWZpZWxkLmluZGV4T2YoIm1vbnRoIikpcmV0dXJuO2NvdW50PTEyLHNldHRlcj0ibW9udGgifW1vbWVudFtmaWVsZF09ZnVuY3Rpb24oZm9ybWF0LGluZGV4KXt2YXIgaSxnZXR0ZXIsbWV0aG9kPW1vbWVudC5fbG9jYWxlW2ZpZWxkXSxyZXN1bHRzPVtdO2lmKCJudW1iZXIiPT10eXBlb2YgZm9ybWF0JiYoaW5kZXg9Zm9ybWF0LGZvcm1hdD11bmRlZmluZWQpLGdldHRlcj1mdW5jdGlvbihpKXt2YXIgbT1tb21lbnQoKS51dGMoKS5zZXQoc2V0dGVyLGkpO3JldHVybiBtZXRob2QuY2FsbChtb21lbnQuX2xvY2FsZSxtLGZvcm1hdHx8IiIpfSxudWxsIT1pbmRleClyZXR1cm4gZ2V0dGVyKGluZGV4KTtmb3IoaT0wO2NvdW50Pmk7aSsrKXJlc3VsdHMucHVzaChnZXR0ZXIoaSkpO3JldHVybiByZXN1bHRzfX1mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKXt2YXIgY29lcmNlZE51bWJlcj0rYXJndW1lbnRGb3JDb2VyY2lvbix2YWx1ZT0wO3JldHVybiAwIT09Y29lcmNlZE51bWJlciYmaXNGaW5pdGUoY29lcmNlZE51bWJlcikmJih2YWx1ZT1jb2VyY2VkTnVtYmVyPj0wP01hdGguZmxvb3IoY29lcmNlZE51bWJlcik6TWF0aC5jZWlsKGNvZXJjZWROdW1iZXIpKSx2YWx1ZX1mdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLG1vbnRoKXtyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhcixtb250aCsxLDApKS5nZXRVVENEYXRlKCl9ZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhcixkb3csZG95KXtyZXR1cm4gd2Vla09mWWVhcihtb21lbnQoW3llYXIsMTEsMzErZG93LWRveV0pLGRvdyxkb3kpLndlZWt9ZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKXtyZXR1cm4gaXNMZWFwWWVhcih5ZWFyKT8zNjY6MzY1fWZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcil7cmV0dXJuIHllYXIlND09PTAmJnllYXIlMTAwIT09MHx8eWVhciU0MDA9PT0wfWZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cobSl7dmFyIG92ZXJmbG93O20uX2EmJi0yPT09bS5fcGYub3ZlcmZsb3cmJihvdmVyZmxvdz1tLl9hW01PTlRIXTwwfHxtLl9hW01PTlRIXT4xMT9NT05USDptLl9hW0RBVEVdPDF8fG0uX2FbREFURV0+ZGF5c0luTW9udGgobS5fYVtZRUFSXSxtLl9hW01PTlRIXSk/REFURTptLl9hW0hPVVJdPDB8fG0uX2FbSE9VUl0+MjM/SE9VUjptLl9hW01JTlVURV08MHx8bS5fYVtNSU5VVEVdPjU5P01JTlVURTptLl9hW1NFQ09ORF08MHx8bS5fYVtTRUNPTkRdPjU5P1NFQ09ORDptLl9hW01JTExJU0VDT05EXTwwfHxtLl9hW01JTExJU0VDT05EXT45OTk/TUlMTElTRUNPTkQ6LTEsbS5fcGYuX292ZXJmbG93RGF5T2ZZZWFyJiYoWUVBUj5vdmVyZmxvd3x8b3ZlcmZsb3c+REFURSkmJihvdmVyZmxvdz1EQVRFKSxtLl9wZi5vdmVyZmxvdz1vdmVyZmxvdyl9ZnVuY3Rpb24gaXNWYWxpZChtKXtyZXR1cm4gbnVsbD09bS5faXNWYWxpZCYmKG0uX2lzVmFsaWQ9IWlzTmFOKG0uX2QuZ2V0VGltZSgpKSYmbS5fcGYub3ZlcmZsb3c8MCYmIW0uX3BmLmVtcHR5JiYhbS5fcGYuaW52YWxpZE1vbnRoJiYhbS5fcGYubnVsbElucHV0JiYhbS5fcGYuaW52YWxpZEZvcm1hdCYmIW0uX3BmLnVzZXJJbnZhbGlkYXRlZCxtLl9zdHJpY3QmJihtLl9pc1ZhbGlkPW0uX2lzVmFsaWQmJjA9PT1tLl9wZi5jaGFyc0xlZnRPdmVyJiYwPT09bS5fcGYudW51c2VkVG9rZW5zLmxlbmd0aCkpLG0uX2lzVmFsaWR9ZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSl7cmV0dXJuIGtleT9rZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCJfIiwiLSIpOmtleX1mdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpe2Zvcih2YXIgaixuZXh0LGxvY2FsZSxzcGxpdCxpPTA7aTxuYW1lcy5sZW5ndGg7KXtmb3Ioc3BsaXQ9bm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgiLSIpLGo9c3BsaXQubGVuZ3RoLG5leHQ9bm9ybWFsaXplTG9jYWxlKG5hbWVzW2krMV0pLG5leHQ9bmV4dD9uZXh0LnNwbGl0KCItIik6bnVsbDtqPjA7KXtpZihsb2NhbGU9bG9hZExvY2FsZShzcGxpdC5zbGljZSgwLGopLmpvaW4oIi0iKSkpcmV0dXJuIGxvY2FsZTsKaWYobmV4dCYmbmV4dC5sZW5ndGg+PWomJmNvbXBhcmVBcnJheXMoc3BsaXQsbmV4dCwhMCk+PWotMSlicmVhaztqLS19aSsrfXJldHVybiBudWxsfWZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSl7dmFyIG9sZExvY2FsZT1udWxsO2lmKCFsb2NhbGVzW25hbWVdJiZoYXNNb2R1bGUpdHJ5e29sZExvY2FsZT1tb21lbnQubG9jYWxlKCkscmVxdWlyZSgiLi9sb2NhbGUvIituYW1lKSxtb21lbnQubG9jYWxlKG9sZExvY2FsZSl9Y2F0Y2goZSl7fXJldHVybiBsb2NhbGVzW25hbWVdfWZ1bmN0aW9uIG1ha2VBcyhpbnB1dCxtb2RlbCl7cmV0dXJuIG1vZGVsLl9pc1VUQz9tb21lbnQoaW5wdXQpLnpvbmUobW9kZWwuX29mZnNldHx8MCk6bW9tZW50KGlucHV0KS5sb2NhbCgpfWZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpe3JldHVybiBpbnB1dC5tYXRjaCgvXFtbXHNcU10vKT9pbnB1dC5yZXBsYWNlKC9eXFt8XF0kL2csIiIpOmlucHV0LnJlcGxhY2UoL1xcL2csIiIpfWZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpe3ZhciBpLGxlbmd0aCxhcnJheT1mb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2Vucyk7Zm9yKGk9MCxsZW5ndGg9YXJyYXkubGVuZ3RoO2xlbmd0aD5pO2krKylhcnJheVtpXT1mb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0/Zm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dOnJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO3JldHVybiBmdW5jdGlvbihtb20pe3ZhciBvdXRwdXQ9IiI7Zm9yKGk9MDtsZW5ndGg+aTtpKyspb3V0cHV0Kz1hcnJheVtpXWluc3RhbmNlb2YgRnVuY3Rpb24/YXJyYXlbaV0uY2FsbChtb20sZm9ybWF0KTphcnJheVtpXTtyZXR1cm4gb3V0cHV0fX1mdW5jdGlvbiBmb3JtYXRNb21lbnQobSxmb3JtYXQpe3JldHVybiBtLmlzVmFsaWQoKT8oZm9ybWF0PWV4cGFuZEZvcm1hdChmb3JtYXQsbS5sb2NhbGVEYXRhKCkpLGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdfHwoZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF09bWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkpLGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pKTptLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsbG9jYWxlKXtmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpe3JldHVybiBsb2NhbGUubG9uZ0RhdGVGb3JtYXQoaW5wdXQpfHxpbnB1dH12YXIgaT01O2Zvcihsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4PTA7aT49MCYmbG9jYWxGb3JtYXR0aW5nVG9rZW5zLnRlc3QoZm9ybWF0KTspZm9ybWF0PWZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucyxyZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpLGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXg9MCxpLT0xO3JldHVybiBmb3JtYXR9ZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLGNvbmZpZyl7dmFyIGEsc3RyaWN0PWNvbmZpZy5fc3RyaWN0O3N3aXRjaCh0b2tlbil7Y2FzZSJRIjpyZXR1cm4gcGFyc2VUb2tlbk9uZURpZ2l0O2Nhc2UiRERERCI6cmV0dXJuIHBhcnNlVG9rZW5UaHJlZURpZ2l0cztjYXNlIllZWVkiOmNhc2UiR0dHRyI6Y2FzZSJnZ2dnIjpyZXR1cm4gc3RyaWN0P3BhcnNlVG9rZW5Gb3VyRGlnaXRzOnBhcnNlVG9rZW5PbmVUb0ZvdXJEaWdpdHM7Y2FzZSJZIjpjYXNlIkciOmNhc2UiZyI6cmV0dXJuIHBhcnNlVG9rZW5TaWduZWROdW1iZXI7Y2FzZSJZWVlZWVkiOmNhc2UiWVlZWVkiOmNhc2UiR0dHR0ciOmNhc2UiZ2dnZ2ciOnJldHVybiBzdHJpY3Q/cGFyc2VUb2tlblNpeERpZ2l0czpwYXJzZVRva2VuT25lVG9TaXhEaWdpdHM7Y2FzZSJTIjppZihzdHJpY3QpcmV0dXJuIHBhcnNlVG9rZW5PbmVEaWdpdDtjYXNlIlNTIjppZihzdHJpY3QpcmV0dXJuIHBhcnNlVG9rZW5Ud29EaWdpdHM7Y2FzZSJTU1MiOmlmKHN0cmljdClyZXR1cm4gcGFyc2VUb2tlblRocmVlRGlnaXRzO2Nhc2UiREREIjpyZXR1cm4gcGFyc2VUb2tlbk9uZVRvVGhyZWVEaWdpdHM7Y2FzZSJNTU0iOmNhc2UiTU1NTSI6Y2FzZSJkZCI6Y2FzZSJkZGQiOmNhc2UiZGRkZCI6cmV0dXJuIHBhcnNlVG9rZW5Xb3JkO2Nhc2UiYSI6Y2FzZSJBIjpyZXR1cm4gY29uZmlnLl9sb2NhbGUuX21lcmlkaWVtUGFyc2U7Y2FzZSJYIjpyZXR1cm4gcGFyc2VUb2tlblRpbWVzdGFtcE1zO2Nhc2UiWiI6Y2FzZSJaWiI6cmV0dXJuIHBhcnNlVG9rZW5UaW1lem9uZTtjYXNlIlQiOnJldHVybiBwYXJzZVRva2VuVDtjYXNlIlNTU1MiOnJldHVybiBwYXJzZVRva2VuRGlnaXRzO2Nhc2UiTU0iOmNhc2UiREQiOmNhc2UiWVkiOmNhc2UiR0ciOmNhc2UiZ2ciOmNhc2UiSEgiOmNhc2UiaGgiOmNhc2UibW0iOmNhc2Uic3MiOmNhc2Uid3ciOmNhc2UiV1ciOnJldHVybiBzdHJpY3Q/cGFyc2VUb2tlblR3b0RpZ2l0czpwYXJzZVRva2VuT25lT3JUd29EaWdpdHM7Y2FzZSJNIjpjYXNlIkQiOmNhc2UiZCI6Y2FzZSJIIjpjYXNlImgiOmNhc2UibSI6Y2FzZSJzIjpjYXNlInciOmNhc2UiVyI6Y2FzZSJlIjpjYXNlIkUiOnJldHVybiBwYXJzZVRva2VuT25lT3JUd29EaWdpdHM7Y2FzZSJEbyI6cmV0dXJuIHBhcnNlVG9rZW5PcmRpbmFsO2RlZmF1bHQ6cmV0dXJuIGE9bmV3IFJlZ0V4cChyZWdleHBFc2NhcGUodW5lc2NhcGVGb3JtYXQodG9rZW4ucmVwbGFjZSgiXFwiLCIiKSksImkiKSl9fWZ1bmN0aW9uIHRpbWV6b25lTWludXRlc0Zyb21TdHJpbmcoc3RyaW5nKXtzdHJpbmc9c3RyaW5nfHwiIjt2YXIgcG9zc2libGVUek1hdGNoZXM9c3RyaW5nLm1hdGNoKHBhcnNlVG9rZW5UaW1lem9uZSl8fFtdLHR6Q2h1bms9cG9zc2libGVUek1hdGNoZXNbcG9zc2libGVUek1hdGNoZXMubGVuZ3RoLTFdfHxbXSxwYXJ0cz0odHpDaHVuaysiIikubWF0Y2gocGFyc2VUaW1lem9uZUNodW5rZXIpfHxbIi0iLDAsMF0sbWludXRlcz0rKDYwKnBhcnRzWzFdKSt0b0ludChwYXJ0c1syXSk7cmV0dXJuIisiPT09cGFydHNbMF0/LW1pbnV0ZXM6bWludXRlc31mdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbixpbnB1dCxjb25maWcpe3ZhciBhLGRhdGVQYXJ0QXJyYXk9Y29uZmlnLl9hO3N3aXRjaCh0b2tlbil7Y2FzZSJRIjpudWxsIT1pbnB1dCYmKGRhdGVQYXJ0QXJyYXlbTU9OVEhdPTMqKHRvSW50KGlucHV0KS0xKSk7YnJlYWs7Y2FzZSJNIjpjYXNlIk1NIjpudWxsIT1pbnB1dCYmKGRhdGVQYXJ0QXJyYXlbTU9OVEhdPXRvSW50KGlucHV0KS0xKTticmVhaztjYXNlIk1NTSI6Y2FzZSJNTU1NIjphPWNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0KSxudWxsIT1hP2RhdGVQYXJ0QXJyYXlbTU9OVEhdPWE6Y29uZmlnLl9wZi5pbnZhbGlkTW9udGg9aW5wdXQ7YnJlYWs7Y2FzZSJEIjpjYXNlIkREIjpudWxsIT1pbnB1dCYmKGRhdGVQYXJ0QXJyYXlbREFURV09dG9JbnQoaW5wdXQpKTticmVhaztjYXNlIkRvIjpudWxsIT1pbnB1dCYmKGRhdGVQYXJ0QXJyYXlbREFURV09dG9JbnQocGFyc2VJbnQoaW5wdXQsMTApKSk7YnJlYWs7Y2FzZSJEREQiOmNhc2UiRERERCI6bnVsbCE9aW5wdXQmJihjb25maWcuX2RheU9mWWVhcj10b0ludChpbnB1dCkpO2JyZWFrO2Nhc2UiWVkiOmRhdGVQYXJ0QXJyYXlbWUVBUl09bW9tZW50LnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTticmVhaztjYXNlIllZWVkiOmNhc2UiWVlZWVkiOmNhc2UiWVlZWVlZIjpkYXRlUGFydEFycmF5W1lFQVJdPXRvSW50KGlucHV0KTticmVhaztjYXNlImEiOmNhc2UiQSI6Y29uZmlnLl9pc1BtPWNvbmZpZy5fbG9jYWxlLmlzUE0oaW5wdXQpO2JyZWFrO2Nhc2UiSCI6Y2FzZSJISCI6Y2FzZSJoIjpjYXNlImhoIjpkYXRlUGFydEFycmF5W0hPVVJdPXRvSW50KGlucHV0KTticmVhaztjYXNlIm0iOmNhc2UibW0iOmRhdGVQYXJ0QXJyYXlbTUlOVVRFXT10b0ludChpbnB1dCk7YnJlYWs7Y2FzZSJzIjpjYXNlInNzIjpkYXRlUGFydEFycmF5W1NFQ09ORF09dG9JbnQoaW5wdXQpO2JyZWFrO2Nhc2UiUyI6Y2FzZSJTUyI6Y2FzZSJTU1MiOmNhc2UiU1NTUyI6ZGF0ZVBhcnRBcnJheVtNSUxMSVNFQ09ORF09dG9JbnQoMWUzKigiMC4iK2lucHV0KSk7YnJlYWs7Y2FzZSJYIjpjb25maWcuX2Q9bmV3IERhdGUoMWUzKnBhcnNlRmxvYXQoaW5wdXQpKTticmVhaztjYXNlIloiOmNhc2UiWloiOmNvbmZpZy5fdXNlVVRDPSEwLGNvbmZpZy5fdHptPXRpbWV6b25lTWludXRlc0Zyb21TdHJpbmcoaW5wdXQpO2JyZWFrO2Nhc2UiZGQiOmNhc2UiZGRkIjpjYXNlImRkZGQiOmE9Y29uZmlnLl9sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCksbnVsbCE9YT8oY29uZmlnLl93PWNvbmZpZy5fd3x8e30sY29uZmlnLl93LmQ9YSk6Y29uZmlnLl9wZi5pbnZhbGlkV2Vla2RheT1pbnB1dDticmVhaztjYXNlInciOmNhc2Uid3ciOmNhc2UiVyI6Y2FzZSJXVyI6Y2FzZSJkIjpjYXNlImUiOmNhc2UiRSI6dG9rZW49dG9rZW4uc3Vic3RyKDAsMSk7Y2FzZSJnZ2dnIjpjYXNlIkdHR0ciOmNhc2UiR0dHR0ciOnRva2VuPXRva2VuLnN1YnN0cigwLDIpLGlucHV0JiYoY29uZmlnLl93PWNvbmZpZy5fd3x8e30sY29uZmlnLl93W3Rva2VuXT10b0ludChpbnB1dCkpO2JyZWFrO2Nhc2UiZ2ciOmNhc2UiR0ciOmNvbmZpZy5fdz1jb25maWcuX3d8fHt9LGNvbmZpZy5fd1t0b2tlbl09bW9tZW50LnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KX19ZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyl7dmFyIHcsd2Vla1llYXIsd2Vlayx3ZWVrZGF5LGRvdyxkb3ksdGVtcDt3PWNvbmZpZy5fdyxudWxsIT13LkdHfHxudWxsIT13Lld8fG51bGwhPXcuRT8oZG93PTEsZG95PTQsd2Vla1llYXI9ZGZsKHcuR0csY29uZmlnLl9hW1lFQVJdLHdlZWtPZlllYXIobW9tZW50KCksMSw0KS55ZWFyKSx3ZWVrPWRmbCh3LlcsMSksd2Vla2RheT1kZmwody5FLDEpKTooZG93PWNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdyxkb3k9Y29uZmlnLl9sb2NhbGUuX3dlZWsuZG95LHdlZWtZZWFyPWRmbCh3LmdnLGNvbmZpZy5fYVtZRUFSXSx3ZWVrT2ZZZWFyKG1vbWVudCgpLGRvdyxkb3kpLnllYXIpLHdlZWs9ZGZsKHcudywxKSxudWxsIT13LmQ/KHdlZWtkYXk9dy5kLGRvdz53ZWVrZGF5JiYrK3dlZWspOndlZWtkYXk9bnVsbCE9dy5lP3cuZStkb3c6ZG93KSx0ZW1wPWRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhcix3ZWVrLHdlZWtkYXksZG95LGRvdyksY29uZmlnLl9hW1lFQVJdPXRlbXAueWVhcixjb25maWcuX2RheU9mWWVhcj10ZW1wLmRheU9mWWVhcn1mdW5jdGlvbiBkYXRlRnJvbUNvbmZpZyhjb25maWcpe3ZhciBpLGRhdGUsY3VycmVudERhdGUseWVhclRvVXNlLGlucHV0PVtdO2lmKCFjb25maWcuX2Qpe2ZvcihjdXJyZW50RGF0ZT1jdXJyZW50RGF0ZUFycmF5KGNvbmZpZyksY29uZmlnLl93JiZudWxsPT1jb25maWcuX2FbREFURV0mJm51bGw9PWNvbmZpZy5fYVtNT05USF0mJmRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpLGNvbmZpZy5fZGF5T2ZZZWFyJiYoeWVhclRvVXNlPWRmbChjb25maWcuX2FbWUVBUl0sY3VycmVudERhdGVbWUVBUl0pLGNvbmZpZy5fZGF5T2ZZZWFyPmRheXNJblllYXIoeWVhclRvVXNlKSYmKGNvbmZpZy5fcGYuX292ZXJmbG93RGF5T2ZZZWFyPSEwKSxkYXRlPW1ha2VVVENEYXRlKHllYXJUb1VzZSwwLGNvbmZpZy5fZGF5T2ZZZWFyKSxjb25maWcuX2FbTU9OVEhdPWRhdGUuZ2V0VVRDTW9udGgoKSxjb25maWcuX2FbREFURV09ZGF0ZS5nZXRVVENEYXRlKCkpLGk9MDszPmkmJm51bGw9PWNvbmZpZy5fYVtpXTsrK2kpY29uZmlnLl9hW2ldPWlucHV0W2ldPWN1cnJlbnREYXRlW2ldO2Zvcig7Nz5pO2krKyljb25maWcuX2FbaV09aW5wdXRbaV09bnVsbD09Y29uZmlnLl9hW2ldPzI9PT1pPzE6MDpjb25maWcuX2FbaV07Y29uZmlnLl9kPShjb25maWcuX3VzZVVUQz9tYWtlVVRDRGF0ZTptYWtlRGF0ZSkuYXBwbHkobnVsbCxpbnB1dCksbnVsbCE9Y29uZmlnLl90em0mJmNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkrY29uZmlnLl90em0pfX1mdW5jdGlvbiBkYXRlRnJvbU9iamVjdChjb25maWcpe3ZhciBub3JtYWxpemVkSW5wdXQ7Y29uZmlnLl9kfHwobm9ybWFsaXplZElucHV0PW5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSksY29uZmlnLl9hPVtub3JtYWxpemVkSW5wdXQueWVhcixub3JtYWxpemVkSW5wdXQubW9udGgsbm9ybWFsaXplZElucHV0LmRheSxub3JtYWxpemVkSW5wdXQuaG91cixub3JtYWxpemVkSW5wdXQubWludXRlLG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQsbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kXSxkYXRlRnJvbUNvbmZpZyhjb25maWcpKX1mdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyl7dmFyIG5vdz1uZXcgRGF0ZTtyZXR1cm4gY29uZmlnLl91c2VVVEM/W25vdy5nZXRVVENGdWxsWWVhcigpLG5vdy5nZXRVVENNb250aCgpLG5vdy5nZXRVVENEYXRlKCldOltub3cuZ2V0RnVsbFllYXIoKSxub3cuZ2V0TW9udGgoKSxub3cuZ2V0RGF0ZSgpXX1mdW5jdGlvbiBtYWtlRGF0ZUZyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKXtpZihjb25maWcuX2Y9PT1tb21lbnQuSVNPXzg2MDEpcmV0dXJuIHZvaWQgcGFyc2VJU08oY29uZmlnKTtjb25maWcuX2E9W10sY29uZmlnLl9wZi5lbXB0eT0hMDt2YXIgaSxwYXJzZWRJbnB1dCx0b2tlbnMsdG9rZW4sc2tpcHBlZCxzdHJpbmc9IiIrY29uZmlnLl9pLHN0cmluZ0xlbmd0aD1zdHJpbmcubGVuZ3RoLHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg9MDtmb3IodG9rZW5zPWV4cGFuZEZvcm1hdChjb25maWcuX2YsY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpfHxbXSxpPTA7aTx0b2tlbnMubGVuZ3RoO2krKyl0b2tlbj10b2tlbnNbaV0scGFyc2VkSW5wdXQ9KHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sY29uZmlnKSl8fFtdKVswXSxwYXJzZWRJbnB1dCYmKHNraXBwZWQ9c3RyaW5nLnN1YnN0cigwLHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSksc2tpcHBlZC5sZW5ndGg+MCYmY29uZmlnLl9wZi51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpLHN0cmluZz1zdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpK3BhcnNlZElucHV0Lmxlbmd0aCksdG90YWxQYXJzZWRJbnB1dExlbmd0aCs9cGFyc2VkSW5wdXQubGVuZ3RoKSxmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0/KHBhcnNlZElucHV0P2NvbmZpZy5fcGYuZW1wdHk9ITE6Y29uZmlnLl9wZi51bnVzZWRUb2tlbnMucHVzaCh0b2tlbiksYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4scGFyc2VkSW5wdXQsY29uZmlnKSk6Y29uZmlnLl9zdHJpY3QmJiFwYXJzZWRJbnB1dCYmY29uZmlnLl9wZi51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7Y29uZmlnLl9wZi5jaGFyc0xlZnRPdmVyPXN0cmluZ0xlbmd0aC10b3RhbFBhcnNlZElucHV0TGVuZ3RoLHN0cmluZy5sZW5ndGg+MCYmY29uZmlnLl9wZi51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyksY29uZmlnLl9pc1BtJiZjb25maWcuX2FbSE9VUl08MTImJihjb25maWcuX2FbSE9VUl0rPTEyKSxjb25maWcuX2lzUG09PT0hMSYmMTI9PT1jb25maWcuX2FbSE9VUl0mJihjb25maWcuX2FbSE9VUl09MCksZGF0ZUZyb21Db25maWcoY29uZmlnKSxjaGVja092ZXJmbG93KGNvbmZpZyl9ZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocyl7cmV0dXJuIHMucmVwbGFjZSgvXFwoXFspfFxcKFxdKXxcWyhbXlxdXFtdKilcXXxcXCguKS9nLGZ1bmN0aW9uKG1hdGNoZWQscDEscDIscDMscDQpe3JldHVybiBwMXx8cDJ8fHAzfHxwNH0pfWZ1bmN0aW9uIHJlZ2V4cEVzY2FwZShzKXtyZXR1cm4gcy5yZXBsYWNlKC9bLVwvXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpfWZ1bmN0aW9uIG1ha2VEYXRlRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyl7dmFyIHRlbXBDb25maWcsYmVzdE1vbWVudCxzY29yZVRvQmVhdCxpLGN1cnJlbnRTY29yZTtpZigwPT09Y29uZmlnLl9mLmxlbmd0aClyZXR1cm4gY29uZmlnLl9wZi5pbnZhbGlkRm9ybWF0PSEwLHZvaWQoY29uZmlnLl9kPW5ldyBEYXRlKDAvMCkpO2ZvcihpPTA7aTxjb25maWcuX2YubGVuZ3RoO2krKyljdXJyZW50U2NvcmU9MCx0ZW1wQ29uZmlnPWNvcHlDb25maWcoe30sY29uZmlnKSxudWxsIT1jb25maWcuX3VzZVVUQyYmKHRlbXBDb25maWcuX3VzZVVUQz1jb25maWcuX3VzZVVUQyksdGVtcENvbmZpZy5fcGY9ZGVmYXVsdFBhcnNpbmdGbGFncygpLHRlbXBDb25maWcuX2Y9Y29uZmlnLl9mW2ldLG1ha2VEYXRlRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKSxpc1ZhbGlkKHRlbXBDb25maWcpJiYoY3VycmVudFNjb3JlKz10ZW1wQ29uZmlnLl9wZi5jaGFyc0xlZnRPdmVyLGN1cnJlbnRTY29yZSs9MTAqdGVtcENvbmZpZy5fcGYudW51c2VkVG9rZW5zLmxlbmd0aCx0ZW1wQ29uZmlnLl9wZi5zY29yZT1jdXJyZW50U2NvcmUsKG51bGw9PXNjb3JlVG9CZWF0fHxzY29yZVRvQmVhdD5jdXJyZW50U2NvcmUpJiYoc2NvcmVUb0JlYXQ9Y3VycmVudFNjb3JlLGJlc3RNb21lbnQ9dGVtcENvbmZpZykpO2V4dGVuZChjb25maWcsYmVzdE1vbWVudHx8dGVtcENvbmZpZyl9ZnVuY3Rpb24gcGFyc2VJU08oY29uZmlnKXt2YXIgaSxsLHN0cmluZz1jb25maWcuX2ksbWF0Y2g9aXNvUmVnZXguZXhlYyhzdHJpbmcpO2lmKG1hdGNoKXtmb3IoY29uZmlnLl9wZi5pc289ITAsaT0wLGw9aXNvRGF0ZXMubGVuZ3RoO2w+aTtpKyspaWYoaXNvRGF0ZXNbaV1bMV0uZXhlYyhzdHJpbmcpKXtjb25maWcuX2Y9aXNvRGF0ZXNbaV1bMF0rKG1hdGNoWzZdfHwiICIpO2JyZWFrfWZvcihpPTAsbD1pc29UaW1lcy5sZW5ndGg7bD5pO2krKylpZihpc29UaW1lc1tpXVsxXS5leGVjKHN0cmluZykpe2NvbmZpZy5fZis9aXNvVGltZXNbaV1bMF07YnJlYWt9c3RyaW5nLm1hdGNoKHBhcnNlVG9rZW5UaW1lem9uZSkmJihjb25maWcuX2YrPSJaIiksbWFrZURhdGVGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyl9ZWxzZSBjb25maWcuX2lzVmFsaWQ9ITF9ZnVuY3Rpb24gbWFrZURhdGVGcm9tU3RyaW5nKGNvbmZpZyl7cGFyc2VJU08oY29uZmlnKSxjb25maWcuX2lzVmFsaWQ9PT0hMSYmKGRlbGV0ZSBjb25maWcuX2lzVmFsaWQsbW9tZW50LmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZykpfWZ1bmN0aW9uIG1hcChhcnIsZm4pe3ZhciBpLHJlcz1bXTtmb3IoaT0wO2k8YXJyLmxlbmd0aDsrK2kpcmVzLnB1c2goZm4oYXJyW2ldLGkpKTtyZXR1cm4gcmVzfWZ1bmN0aW9uIG1ha2VEYXRlRnJvbUlucHV0KGNvbmZpZyl7dmFyIG1hdGNoZWQsaW5wdXQ9Y29uZmlnLl9pO2lucHV0PT09dW5kZWZpbmVkP2NvbmZpZy5fZD1uZXcgRGF0ZTppc0RhdGUoaW5wdXQpP2NvbmZpZy5fZD1uZXcgRGF0ZSgraW5wdXQpOm51bGwhPT0obWF0Y2hlZD1hc3BOZXRKc29uUmVnZXguZXhlYyhpbnB1dCkpP2NvbmZpZy5fZD1uZXcgRGF0ZSgrbWF0Y2hlZFsxXSk6InN0cmluZyI9PXR5cGVvZiBpbnB1dD9tYWtlRGF0ZUZyb21TdHJpbmcoY29uZmlnKTppc0FycmF5KGlucHV0KT8oY29uZmlnLl9hPW1hcChpbnB1dC5zbGljZSgwKSxmdW5jdGlvbihvYmope3JldHVybiBwYXJzZUludChvYmosMTApfSksZGF0ZUZyb21Db25maWcoY29uZmlnKSk6Im9iamVjdCI9PXR5cGVvZiBpbnB1dD9kYXRlRnJvbU9iamVjdChjb25maWcpOiJudW1iZXIiPT10eXBlb2YgaW5wdXQ/Y29uZmlnLl9kPW5ldyBEYXRlKGlucHV0KTptb21lbnQuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKX1mdW5jdGlvbiBtYWtlRGF0ZSh5LG0sZCxoLE0scyxtcyl7dmFyIGRhdGU9bmV3IERhdGUoeSxtLGQsaCxNLHMsbXMpO3JldHVybiAxOTcwPnkmJmRhdGUuc2V0RnVsbFllYXIoeSksZGF0ZX1mdW5jdGlvbiBtYWtlVVRDRGF0ZSh5KXt2YXIgZGF0ZT1uZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLGFyZ3VtZW50cykpO3JldHVybiAxOTcwPnkmJmRhdGUuc2V0VVRDRnVsbFllYXIoeSksZGF0ZX1mdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsbG9jYWxlKXtpZigic3RyaW5nIj09dHlwZW9mIGlucHV0KWlmKGlzTmFOKGlucHV0KSl7aWYoaW5wdXQ9bG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpLCJudW1iZXIiIT10eXBlb2YgaW5wdXQpcmV0dXJuIG51bGx9ZWxzZSBpbnB1dD1wYXJzZUludChpbnB1dCwxMCk7cmV0dXJuIGlucHV0fWZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZyxudW1iZXIsd2l0aG91dFN1ZmZpeCxpc0Z1dHVyZSxsb2NhbGUpe3JldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlcnx8MSwhIXdpdGhvdXRTdWZmaXgsc3RyaW5nLGlzRnV0dXJlKX1mdW5jdGlvbiByZWxhdGl2ZVRpbWUocG9zTmVnRHVyYXRpb24sd2l0aG91dFN1ZmZpeCxsb2NhbGUpe3ZhciBkdXJhdGlvbj1tb21lbnQuZHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpLHNlY29uZHM9cm91bmQoZHVyYXRpb24uYXMoInMiKSksbWludXRlcz1yb3VuZChkdXJhdGlvbi5hcygibSIpKSxob3Vycz1yb3VuZChkdXJhdGlvbi5hcygiaCIpKSxkYXlzPXJvdW5kKGR1cmF0aW9uLmFzKCJkIikpLG1vbnRocz1yb3VuZChkdXJhdGlvbi5hcygiTSIpKSx5ZWFycz1yb3VuZChkdXJhdGlvbi5hcygieSIpKSxhcmdzPXNlY29uZHM8cmVsYXRpdmVUaW1lVGhyZXNob2xkcy5zJiZbInMiLHNlY29uZHNdfHwxPT09bWludXRlcyYmWyJtIl18fG1pbnV0ZXM8cmVsYXRpdmVUaW1lVGhyZXNob2xkcy5tJiZbIm1tIixtaW51dGVzXXx8MT09PWhvdXJzJiZbImgiXXx8aG91cnM8cmVsYXRpdmVUaW1lVGhyZXNob2xkcy5oJiZbImhoIixob3Vyc118fDE9PT1kYXlzJiZbImQiXXx8ZGF5czxyZWxhdGl2ZVRpbWVUaHJlc2hvbGRzLmQmJlsiZGQiLGRheXNdfHwxPT09bW9udGhzJiZbIk0iXXx8bW9udGhzPHJlbGF0aXZlVGltZVRocmVzaG9sZHMuTSYmWyJNTSIsbW9udGhzXXx8MT09PXllYXJzJiZbInkiXXx8WyJ5eSIseWVhcnNdO3JldHVybiBhcmdzWzJdPXdpdGhvdXRTdWZmaXgsYXJnc1szXT0rcG9zTmVnRHVyYXRpb24+MCxhcmdzWzRdPWxvY2FsZSxzdWJzdGl0dXRlVGltZUFnby5hcHBseSh7fSxhcmdzKX1mdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSxmaXJzdERheU9mV2VlayxmaXJzdERheU9mV2Vla09mWWVhcil7dmFyIGFkanVzdGVkTW9tZW50LGVuZD1maXJzdERheU9mV2Vla09mWWVhci1maXJzdERheU9mV2VlayxkYXlzVG9EYXlPZldlZWs9Zmlyc3REYXlPZldlZWtPZlllYXItbW9tLmRheSgpO3JldHVybiBkYXlzVG9EYXlPZldlZWs+ZW5kJiYoZGF5c1RvRGF5T2ZXZWVrLT03KSxlbmQtNz5kYXlzVG9EYXlPZldlZWsmJihkYXlzVG9EYXlPZldlZWsrPTcpLGFkanVzdGVkTW9tZW50PW1vbWVudChtb20pLmFkZChkYXlzVG9EYXlPZldlZWssImQiKSx7d2VlazpNYXRoLmNlaWwoYWRqdXN0ZWRNb21lbnQuZGF5T2ZZZWFyKCkvNykseWVhcjphZGp1c3RlZE1vbWVudC55ZWFyKCl9fWZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLHdlZWssd2Vla2RheSxmaXJzdERheU9mV2Vla09mWWVhcixmaXJzdERheU9mV2Vlayl7dmFyIGRheXNUb0FkZCxkYXlPZlllYXIsZD1tYWtlVVRDRGF0ZSh5ZWFyLDAsMSkuZ2V0VVRDRGF5KCk7cmV0dXJuIGQ9MD09PWQ/NzpkLHdlZWtkYXk9bnVsbCE9d2Vla2RheT93ZWVrZGF5OmZpcnN0RGF5T2ZXZWVrLGRheXNUb0FkZD1maXJzdERheU9mV2Vlay1kKyhkPmZpcnN0RGF5T2ZXZWVrT2ZZZWFyPzc6MCktKGZpcnN0RGF5T2ZXZWVrPmQ/NzowKSxkYXlPZlllYXI9Nyood2Vlay0xKSsod2Vla2RheS1maXJzdERheU9mV2VlaykrZGF5c1RvQWRkKzEse3llYXI6ZGF5T2ZZZWFyPjA/eWVhcjp5ZWFyLTEsZGF5T2ZZZWFyOmRheU9mWWVhcj4wP2RheU9mWWVhcjpkYXlzSW5ZZWFyKHllYXItMSkrZGF5T2ZZZWFyfX1mdW5jdGlvbiBtYWtlTW9tZW50KGNvbmZpZyl7dmFyIGlucHV0PWNvbmZpZy5faSxmb3JtYXQ9Y29uZmlnLl9mO3JldHVybiBjb25maWcuX2xvY2FsZT1jb25maWcuX2xvY2FsZXx8bW9tZW50LmxvY2FsZURhdGEoY29uZmlnLl9sKSxudWxsPT09aW5wdXR8fGZvcm1hdD09PXVuZGVmaW5lZCYmIiI9PT1pbnB1dD9tb21lbnQuaW52YWxpZCh7bnVsbElucHV0OiEwfSk6KCJzdHJpbmciPT10eXBlb2YgaW5wdXQmJihjb25maWcuX2k9aW5wdXQ9Y29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpKSxtb21lbnQuaXNNb21lbnQoaW5wdXQpP25ldyBNb21lbnQoaW5wdXQsITApOihmb3JtYXQ/aXNBcnJheShmb3JtYXQpP21ha2VEYXRlRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk6bWFrZURhdGVGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk6bWFrZURhdGVGcm9tSW5wdXQoY29uZmlnKSxuZXcgTW9tZW50KGNvbmZpZykpKX1mdW5jdGlvbiBwaWNrQnkoZm4sbW9tZW50cyl7dmFyIHJlcyxpO2lmKDE9PT1tb21lbnRzLmxlbmd0aCYmaXNBcnJheShtb21lbnRzWzBdKSYmKG1vbWVudHM9bW9tZW50c1swXSksIW1vbWVudHMubGVuZ3RoKXJldHVybiBtb21lbnQoKTtmb3IocmVzPW1vbWVudHNbMF0saT0xO2k8bW9tZW50cy5sZW5ndGg7KytpKW1vbWVudHNbaV1bZm5dKHJlcykmJihyZXM9bW9tZW50c1tpXSk7cmV0dXJuIHJlc31mdW5jdGlvbiByYXdNb250aFNldHRlcihtb20sdmFsdWUpe3ZhciBkYXlPZk1vbnRoO3JldHVybiJzdHJpbmciPT10eXBlb2YgdmFsdWUmJih2YWx1ZT1tb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKSwibnVtYmVyIiE9dHlwZW9mIHZhbHVlKT9tb206KGRheU9mTW9udGg9TWF0aC5taW4obW9tLmRhdGUoKSxkYXlzSW5Nb250aChtb20ueWVhcigpLHZhbHVlKSksbW9tLl9kWyJzZXQiKyhtb20uX2lzVVRDPyJVVEMiOiIiKSsiTW9udGgiXSh2YWx1ZSxkYXlPZk1vbnRoKSxtb20pfWZ1bmN0aW9uIHJhd0dldHRlcihtb20sdW5pdCl7cmV0dXJuIG1vbS5fZFsiZ2V0IisobW9tLl9pc1VUQz8iVVRDIjoiIikrdW5pdF0oKX1mdW5jdGlvbiByYXdTZXR0ZXIobW9tLHVuaXQsdmFsdWUpe3JldHVybiJNb250aCI9PT11bml0P3Jhd01vbnRoU2V0dGVyKG1vbSx2YWx1ZSk6bW9tLl9kWyJzZXQiKyhtb20uX2lzVVRDPyJVVEMiOiIiKSt1bml0XSh2YWx1ZSl9ZnVuY3Rpb24gbWFrZUFjY2Vzc29yKHVuaXQsa2VlcFRpbWUpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIG51bGwhPXZhbHVlPyhyYXdTZXR0ZXIodGhpcyx1bml0LHZhbHVlKSxtb21lbnQudXBkYXRlT2Zmc2V0KHRoaXMsa2VlcFRpbWUpLHRoaXMpOnJhd0dldHRlcih0aGlzLHVuaXQpfX1mdW5jdGlvbiBkYXlzVG9ZZWFycyhkYXlzKXtyZXR1cm4gNDAwKmRheXMvMTQ2MDk3fWZ1bmN0aW9uIHllYXJzVG9EYXlzKHllYXJzKXtyZXR1cm4gMTQ2MDk3KnllYXJzLzQwMH1mdW5jdGlvbiBtYWtlRHVyYXRpb25HZXR0ZXIobmFtZSl7bW9tZW50LmR1cmF0aW9uLmZuW25hbWVdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFbbmFtZV19fWZ1bmN0aW9uIG1ha2VHbG9iYWwoc2hvdWxkRGVwcmVjYXRlKXsidW5kZWZpbmVkIj09dHlwZW9mIGVuZGVyJiYob2xkR2xvYmFsTW9tZW50PWdsb2JhbFNjb3BlLm1vbWVudCxnbG9iYWxTY29wZS5tb21lbnQ9c2hvdWxkRGVwcmVjYXRlP2RlcHJlY2F0ZSgiQWNjZXNzaW5nIE1vbWVudCB0aHJvdWdoIHRoZSBnbG9iYWwgc2NvcGUgaXMgZGVwcmVjYXRlZCwgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyByZWxlYXNlLiIsbW9tZW50KTptb21lbnQpfWZvcih2YXIgbW9tZW50LG9sZEdsb2JhbE1vbWVudCxpLFZFUlNJT049IjIuOC4zIixnbG9iYWxTY29wZT0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpcyxyb3VuZD1NYXRoLnJvdW5kLGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWUVBUj0wLE1PTlRIPTEsREFURT0yLEhPVVI9MyxNSU5VVEU9NCxTRUNPTkQ9NSxNSUxMSVNFQ09ORD02LGxvY2FsZXM9e30sbW9tZW50UHJvcGVydGllcz1bXSxoYXNNb2R1bGU9InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzLGFzcE5ldEpzb25SZWdleD0vXlwvP0RhdGVcKChcLT9cZCspL2ksYXNwTmV0VGltZVNwYW5Kc29uUmVnZXg9LyhcLSk/KD86KFxkKilcLik/KFxkKylcOihcZCspKD86XDooXGQrKVwuPyhcZHszfSk/KT8vLGlzb0R1cmF0aW9uUmVnZXg9L14oLSk/UCg/Oig/OihbMC05LC5dKilZKT8oPzooWzAtOSwuXSopTSk/KD86KFswLTksLl0qKUQpPyg/OlQoPzooWzAtOSwuXSopSCk/KD86KFswLTksLl0qKU0pPyg/OihbMC05LC5dKilTKT8pP3woWzAtOSwuXSopVykkLyxmb3JtYXR0aW5nVG9rZW5zPS8oXFtbXlxbXSpcXSl8KFxcKT8oTW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UXxZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xtbT98c3M/fFN7MSw0fXxYfHp6P3xaWj98LikvZyxsb2NhbEZvcm1hdHRpbmdUb2tlbnM9LyhcW1teXFtdKlxdKXwoXFwpPyhMVHxMTD9MP0w/fGx7MSw0fSkvZyxwYXJzZVRva2VuT25lT3JUd29EaWdpdHM9L1xkXGQ/LyxwYXJzZVRva2VuT25lVG9UaHJlZURpZ2l0cz0vXGR7MSwzfS8scGFyc2VUb2tlbk9uZVRvRm91ckRpZ2l0cz0vXGR7MSw0fS8scGFyc2VUb2tlbk9uZVRvU2l4RGlnaXRzPS9bK1wtXT9cZHsxLDZ9LyxwYXJzZVRva2VuRGlnaXRzPS9cZCsvLHBhcnNlVG9rZW5Xb3JkPS9bMC05XSpbJ2Etelx1MDBBMC1cdTA1RkZcdTA3MDAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdK3xbXHUwNjAwLVx1MDZGRlwvXSsoXHMqP1tcdTA2MDAtXHUwNkZGXSspezEsMn0vaSxwYXJzZVRva2VuVGltZXpvbmU9L1p8W1wrXC1dXGRcZDo/XGRcZC9naSxwYXJzZVRva2VuVD0vVC9pLHBhcnNlVG9rZW5UaW1lc3RhbXBNcz0vW1wrXC1dP1xkKyhcLlxkezEsM30pPy8scGFyc2VUb2tlbk9yZGluYWw9L1xkezEsMn0vLHBhcnNlVG9rZW5PbmVEaWdpdD0vXGQvLHBhcnNlVG9rZW5Ud29EaWdpdHM9L1xkXGQvLHBhcnNlVG9rZW5UaHJlZURpZ2l0cz0vXGR7M30vLHBhcnNlVG9rZW5Gb3VyRGlnaXRzPS9cZHs0fS8scGFyc2VUb2tlblNpeERpZ2l0cz0vWystXT9cZHs2fS8scGFyc2VUb2tlblNpZ25lZE51bWJlcj0vWystXT9cZCsvLGlzb1JlZ2V4PS9eXHMqKD86WystXVxkezZ9fFxkezR9KS0oPzooXGRcZC1cZFxkKXwoV1xkXGQkKXwoV1xkXGQtXGQpfChcZFxkXGQpKSgoVHwgKShcZFxkKDpcZFxkKDpcZFxkKFwuXGQrKT8pPyk/KT8oW1wrXC1dXGRcZCg/Ojo/XGRcZCk/fFxzKlopPyk/JC8saXNvRm9ybWF0PSJZWVlZLU1NLUREVEhIOm1tOnNzWiIsaXNvRGF0ZXM9W1siWVlZWVlZLU1NLUREIiwvWystXVxkezZ9LVxkezJ9LVxkezJ9L10sWyJZWVlZLU1NLUREIiwvXGR7NH0tXGR7Mn0tXGR7Mn0vXSxbIkdHR0ctW1ddV1ctRSIsL1xkezR9LVdcZHsyfS1cZC9dLFsiR0dHRy1bV11XVyIsL1xkezR9LVdcZHsyfS9dLFsiWVlZWS1EREQiLC9cZHs0fS1cZHszfS9dXSxpc29UaW1lcz1bWyJISDptbTpzcy5TU1NTIiwvKFR8IClcZFxkOlxkXGQ6XGRcZFwuXGQrL10sWyJISDptbTpzcyIsLyhUfCApXGRcZDpcZFxkOlxkXGQvXSxbIkhIOm1tIiwvKFR8IClcZFxkOlxkXGQvXSxbIkhIIiwvKFR8IClcZFxkL11dLHBhcnNlVGltZXpvbmVDaHVua2VyPS8oW1wrXC1dfFxkXGQpL2dpLHVuaXRNaWxsaXNlY29uZEZhY3RvcnM9KCJEYXRlfEhvdXJzfE1pbnV0ZXN8U2Vjb25kc3xNaWxsaXNlY29uZHMiLnNwbGl0KCJ8Iikse01pbGxpc2Vjb25kczoxLFNlY29uZHM6MWUzLE1pbnV0ZXM6NmU0LEhvdXJzOjM2ZTUsRGF5czo4NjRlNSxNb250aHM6MjU5MmU2LFllYXJzOjMxNTM2ZTZ9KSx1bml0QWxpYXNlcz17bXM6Im1pbGxpc2Vjb25kIixzOiJzZWNvbmQiLG06Im1pbnV0ZSIsaDoiaG91ciIsZDoiZGF5IixEOiJkYXRlIix3OiJ3ZWVrIixXOiJpc29XZWVrIixNOiJtb250aCIsUToicXVhcnRlciIseToieWVhciIsREREOiJkYXlPZlllYXIiLGU6IndlZWtkYXkiLEU6Imlzb1dlZWtkYXkiLGdnOiJ3ZWVrWWVhciIsR0c6Imlzb1dlZWtZZWFyIn0sY2FtZWxGdW5jdGlvbnM9e2RheW9meWVhcjoiZGF5T2ZZZWFyIixpc293ZWVrZGF5OiJpc29XZWVrZGF5Iixpc293ZWVrOiJpc29XZWVrIix3ZWVreWVhcjoid2Vla1llYXIiLGlzb3dlZWt5ZWFyOiJpc29XZWVrWWVhciJ9LGZvcm1hdEZ1bmN0aW9ucz17fSxyZWxhdGl2ZVRpbWVUaHJlc2hvbGRzPXtzOjQ1LG06NDUsaDoyMixkOjI2LE06MTF9LG9yZGluYWxpemVUb2tlbnM9IkRERCB3IFcgTSBEIGQiLnNwbGl0KCIgIikscGFkZGVkVG9rZW5zPSJNIEQgSCBoIG0gcyB3IFciLnNwbGl0KCIgIiksZm9ybWF0VG9rZW5GdW5jdGlvbnM9e006ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb250aCgpKzF9LE1NTTpmdW5jdGlvbihmb3JtYXQpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLGZvcm1hdCl9LE1NTU06ZnVuY3Rpb24oZm9ybWF0KXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsZm9ybWF0KX0sRDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGUoKX0sREREOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF5T2ZZZWFyKCl9LGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXkoKX0sZGQ6ZnVuY3Rpb24oZm9ybWF0KXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcyxmb3JtYXQpfSxkZGQ6ZnVuY3Rpb24oZm9ybWF0KXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLGZvcm1hdCl9LGRkZGQ6ZnVuY3Rpb24oZm9ybWF0KXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcyxmb3JtYXQpfSx3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2VlaygpfSxXOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNvV2VlaygpfSxZWTpmdW5jdGlvbigpe3JldHVybiBsZWZ0WmVyb0ZpbGwodGhpcy55ZWFyKCklMTAwLDIpfSxZWVlZOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLnllYXIoKSw0KX0sWVlZWVk6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMueWVhcigpLDUpfSxZWVlZWVk6ZnVuY3Rpb24oKXt2YXIgeT10aGlzLnllYXIoKSxzaWduPXk+PTA/IisiOiItIjtyZXR1cm4gc2lnbitsZWZ0WmVyb0ZpbGwoTWF0aC5hYnMoeSksNil9LGdnOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLndlZWtZZWFyKCklMTAwLDIpfSxnZ2dnOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLndlZWtZZWFyKCksNCl9LGdnZ2dnOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLndlZWtZZWFyKCksNSl9LEdHOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLmlzb1dlZWtZZWFyKCklMTAwLDIpfSxHR0dHOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLmlzb1dlZWtZZWFyKCksNCl9LEdHR0dHOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLmlzb1dlZWtZZWFyKCksNSl9LGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWVrZGF5KCl9LEU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc29XZWVrZGF5KCl9LGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLHRoaXMubWludXRlcygpLCEwKX0sQTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksdGhpcy5taW51dGVzKCksITEpfSxIOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG91cnMoKX0saDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdXJzKCklMTJ8fDEyfSxtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWludXRlcygpfSxzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vjb25kcygpfSxTOmZ1bmN0aW9uKCl7cmV0dXJuIHRvSW50KHRoaXMubWlsbGlzZWNvbmRzKCkvMTAwKX0sU1M6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRvSW50KHRoaXMubWlsbGlzZWNvbmRzKCkvMTApLDIpfSxTU1M6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMubWlsbGlzZWNvbmRzKCksMyl9LFNTU1M6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMubWlsbGlzZWNvbmRzKCksMyl9LFo6ZnVuY3Rpb24oKXt2YXIgYT0tdGhpcy56b25lKCksYj0iKyI7cmV0dXJuIDA+YSYmKGE9LWEsYj0iLSIpLGIrbGVmdFplcm9GaWxsKHRvSW50KGEvNjApLDIpKyI6IitsZWZ0WmVyb0ZpbGwodG9JbnQoYSklNjAsMil9LFpaOmZ1bmN0aW9uKCl7dmFyIGE9LXRoaXMuem9uZSgpLGI9IisiO3JldHVybiAwPmEmJihhPS1hLGI9Ii0iKSxiK2xlZnRaZXJvRmlsbCh0b0ludChhLzYwKSwyKStsZWZ0WmVyb0ZpbGwodG9JbnQoYSklNjAsMil9LHo6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56b25lQWJicigpfSx6ejpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvbmVOYW1lKCl9LFg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bml4KCl9LFE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWFydGVyKCl9fSxkZXByZWNhdGlvbnM9e30sbGlzdHM9WyJtb250aHMiLCJtb250aHNTaG9ydCIsIndlZWtkYXlzIiwid2Vla2RheXNTaG9ydCIsIndlZWtkYXlzTWluIl07b3JkaW5hbGl6ZVRva2Vucy5sZW5ndGg7KWk9b3JkaW5hbGl6ZVRva2Vucy5wb3AoKSxmb3JtYXRUb2tlbkZ1bmN0aW9uc1tpKyJvIl09b3JkaW5hbGl6ZVRva2VuKGZvcm1hdFRva2VuRnVuY3Rpb25zW2ldLGkpO2Zvcig7cGFkZGVkVG9rZW5zLmxlbmd0aDspaT1wYWRkZWRUb2tlbnMucG9wKCksZm9ybWF0VG9rZW5GdW5jdGlvbnNbaStpXT1wYWRUb2tlbihmb3JtYXRUb2tlbkZ1bmN0aW9uc1tpXSwyKTtmb3JtYXRUb2tlbkZ1bmN0aW9ucy5EREREPXBhZFRva2VuKGZvcm1hdFRva2VuRnVuY3Rpb25zLkRERCwzKSxleHRlbmQoTG9jYWxlLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uKGNvbmZpZyl7dmFyIHByb3AsaTtmb3IoaSBpbiBjb25maWcpcHJvcD1jb25maWdbaV0sImZ1bmN0aW9uIj09dHlwZW9mIHByb3A/dGhpc1tpXT1wcm9wOnRoaXNbIl8iK2ldPXByb3B9LF9tb250aHM6IkphbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXIiLnNwbGl0KCJfIiksbW9udGhzOmZ1bmN0aW9uKG0pe3JldHVybiB0aGlzLl9tb250aHNbbS5tb250aCgpXX0sX21vbnRoc1Nob3J0OiJKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYyIuc3BsaXQoIl8iKSxtb250aHNTaG9ydDpmdW5jdGlvbihtKXtyZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXX0sbW9udGhzUGFyc2U6ZnVuY3Rpb24obW9udGhOYW1lKXt2YXIgaSxtb20scmVnZXg7Zm9yKHRoaXMuX21vbnRoc1BhcnNlfHwodGhpcy5fbW9udGhzUGFyc2U9W10pLGk9MDsxMj5pO2krKylpZih0aGlzLl9tb250aHNQYXJzZVtpXXx8KG1vbT1tb21lbnQudXRjKFsyZTMsaV0pLHJlZ2V4PSJeIit0aGlzLm1vbnRocyhtb20sIiIpKyJ8XiIrdGhpcy5tb250aHNTaG9ydChtb20sIiIpLHRoaXMuX21vbnRoc1BhcnNlW2ldPW5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgiLiIsIiIpLCJpIikpLHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSlyZXR1cm4gaX0sX3dlZWtkYXlzOiJTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheSIuc3BsaXQoIl8iKSx3ZWVrZGF5czpmdW5jdGlvbihtKXtyZXR1cm4gdGhpcy5fd2Vla2RheXNbbS5kYXkoKV19LF93ZWVrZGF5c1Nob3J0OiJTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXQiLnNwbGl0KCJfIiksd2Vla2RheXNTaG9ydDpmdW5jdGlvbihtKXtyZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXX0sX3dlZWtkYXlzTWluOiJTdV9Nb19UdV9XZV9UaF9Gcl9TYSIuc3BsaXQoIl8iKSx3ZWVrZGF5c01pbjpmdW5jdGlvbihtKXtyZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV19LHdlZWtkYXlzUGFyc2U6ZnVuY3Rpb24od2Vla2RheU5hbWUpe3ZhciBpLG1vbSxyZWdleDtmb3IodGhpcy5fd2Vla2RheXNQYXJzZXx8KHRoaXMuX3dlZWtkYXlzUGFyc2U9W10pLGk9MDs3Pmk7aSsrKWlmKHRoaXMuX3dlZWtkYXlzUGFyc2VbaV18fChtb209bW9tZW50KFsyZTMsMV0pLmRheShpKSxyZWdleD0iXiIrdGhpcy53ZWVrZGF5cyhtb20sIiIpKyJ8XiIrdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwiIikrInxeIit0aGlzLndlZWtkYXlzTWluKG1vbSwiIiksdGhpcy5fd2Vla2RheXNQYXJzZVtpXT1uZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoIi4iLCIiKSwiaSIpKSx0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKXJldHVybiBpfSxfbG9uZ0RhdGVGb3JtYXQ6e0xUOiJoOm1tIEEiLEw6Ik1NL0REL1lZWVkiLExMOiJNTU1NIEQsIFlZWVkiLExMTDoiTU1NTSBELCBZWVlZIExUIixMTExMOiJkZGRkLCBNTU1NIEQsIFlZWVkgTFQifSxsb25nRGF0ZUZvcm1hdDpmdW5jdGlvbihrZXkpe3ZhciBvdXRwdXQ9dGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtyZXR1cm4hb3V0cHV0JiZ0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV0mJihvdXRwdXQ9dGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLGZ1bmN0aW9uKHZhbCl7cmV0dXJuIHZhbC5zbGljZSgxKX0pLHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV09b3V0cHV0KSxvdXRwdXR9LGlzUE06ZnVuY3Rpb24oaW5wdXQpe3JldHVybiJwIj09PShpbnB1dCsiIikudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCl9LF9tZXJpZGllbVBhcnNlOi9bYXBdXC4/bT9cLj8vaSxtZXJpZGllbTpmdW5jdGlvbihob3VycyxtaW51dGVzLGlzTG93ZXIpe3JldHVybiBob3Vycz4xMT9pc0xvd2VyPyJwbSI6IlBNIjppc0xvd2VyPyJhbSI6IkFNIn0sX2NhbGVuZGFyOntzYW1lRGF5OiJbVG9kYXkgYXRdIExUIixuZXh0RGF5OiJbVG9tb3Jyb3cgYXRdIExUIixuZXh0V2VlazoiZGRkZCBbYXRdIExUIixsYXN0RGF5OiJbWWVzdGVyZGF5IGF0XSBMVCIsbGFzdFdlZWs6IltMYXN0XSBkZGRkIFthdF0gTFQiLHNhbWVFbHNlOiJMIn0sY2FsZW5kYXI6ZnVuY3Rpb24oa2V5LG1vbSl7dmFyIG91dHB1dD10aGlzLl9jYWxlbmRhcltrZXldO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBvdXRwdXQ/b3V0cHV0LmFwcGx5KG1vbSk6b3V0cHV0fSxfcmVsYXRpdmVUaW1lOntmdXR1cmU6ImluICVzIixwYXN0OiIlcyBhZ28iLHM6ImEgZmV3IHNlY29uZHMiLG06ImEgbWludXRlIixtbToiJWQgbWludXRlcyIsaDoiYW4gaG91ciIsaGg6IiVkIGhvdXJzIixkOiJhIGRheSIsZGQ6IiVkIGRheXMiLE06ImEgbW9udGgiLE1NOiIlZCBtb250aHMiLHk6ImEgeWVhciIseXk6IiVkIHllYXJzIn0scmVsYXRpdmVUaW1lOmZ1bmN0aW9uKG51bWJlcix3aXRob3V0U3VmZml4LHN0cmluZyxpc0Z1dHVyZSl7dmFyIG91dHB1dD10aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygb3V0cHV0P291dHB1dChudW1iZXIsd2l0aG91dFN1ZmZpeCxzdHJpbmcsaXNGdXR1cmUpOm91dHB1dC5yZXBsYWNlKC8lZC9pLG51bWJlcil9LHBhc3RGdXR1cmU6ZnVuY3Rpb24oZGlmZixvdXRwdXQpe3ZhciBmb3JtYXQ9dGhpcy5fcmVsYXRpdmVUaW1lW2RpZmY+MD8iZnV0dXJlIjoicGFzdCJdO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBmb3JtYXQ/Zm9ybWF0KG91dHB1dCk6Zm9ybWF0LnJlcGxhY2UoLyVzL2ksb3V0cHV0KX0sb3JkaW5hbDpmdW5jdGlvbihudW1iZXIpe3JldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoIiVkIixudW1iZXIpfSxfb3JkaW5hbDoiJWQiLHByZXBhcnNlOmZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZ30scG9zdGZvcm1hdDpmdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmd9LHdlZWs6ZnVuY3Rpb24obW9tKXtyZXR1cm4gd2Vla09mWWVhcihtb20sdGhpcy5fd2Vlay5kb3csdGhpcy5fd2Vlay5kb3kpLndlZWt9LF93ZWVrOntkb3c6MCxkb3k6Nn0sX2ludmFsaWREYXRlOiJJbnZhbGlkIGRhdGUiLGludmFsaWREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludmFsaWREYXRlfX0pLG1vbWVudD1mdW5jdGlvbihpbnB1dCxmb3JtYXQsbG9jYWxlLHN0cmljdCl7dmFyIGM7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgbG9jYWxlJiYoc3RyaWN0PWxvY2FsZSxsb2NhbGU9dW5kZWZpbmVkKSxjPXt9LGMuX2lzQU1vbWVudE9iamVjdD0hMCxjLl9pPWlucHV0LGMuX2Y9Zm9ybWF0LGMuX2w9bG9jYWxlLGMuX3N0cmljdD1zdHJpY3QsYy5faXNVVEM9ITEsYy5fcGY9ZGVmYXVsdFBhcnNpbmdGbGFncygpLG1ha2VNb21lbnQoYyl9LG1vbWVudC5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3M9ITEsbW9tZW50LmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrPWRlcHJlY2F0ZSgibW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUuIFRoaXMgaXMgZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MDcgZm9yIG1vcmUgaW5mby4iLGZ1bmN0aW9uKGNvbmZpZyl7Y29uZmlnLl9kPW5ldyBEYXRlKGNvbmZpZy5faSl9KSxtb21lbnQubWluPWZ1bmN0aW9uKCl7dmFyIGFyZ3M9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHBpY2tCeSgiaXNCZWZvcmUiLGFyZ3MpfSxtb21lbnQubWF4PWZ1bmN0aW9uKCl7dmFyIGFyZ3M9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHBpY2tCeSgiaXNBZnRlciIsYXJncyl9LG1vbWVudC51dGM9ZnVuY3Rpb24oaW5wdXQsZm9ybWF0LGxvY2FsZSxzdHJpY3Qpe3ZhciBjO3JldHVybiJib29sZWFuIj09dHlwZW9mIGxvY2FsZSYmKHN0cmljdD1sb2NhbGUsbG9jYWxlPXVuZGVmaW5lZCksYz17fSxjLl9pc0FNb21lbnRPYmplY3Q9ITAsYy5fdXNlVVRDPSEwLGMuX2lzVVRDPSEwLGMuX2w9bG9jYWxlLGMuX2k9aW5wdXQsYy5fZj1mb3JtYXQsYy5fc3RyaWN0PXN0cmljdCxjLl9wZj1kZWZhdWx0UGFyc2luZ0ZsYWdzKCksbWFrZU1vbWVudChjKS51dGMoKX0sbW9tZW50LnVuaXg9ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBtb21lbnQoMWUzKmlucHV0KX0sbW9tZW50LmR1cmF0aW9uPWZ1bmN0aW9uKGlucHV0LGtleSl7dmFyIHNpZ24scmV0LHBhcnNlSXNvLGRpZmZSZXMsZHVyYXRpb249aW5wdXQsbWF0Y2g9bnVsbDtyZXR1cm4gbW9tZW50LmlzRHVyYXRpb24oaW5wdXQpP2R1cmF0aW9uPXttczppbnB1dC5fbWlsbGlzZWNvbmRzLGQ6aW5wdXQuX2RheXMsTTppbnB1dC5fbW9udGhzfToibnVtYmVyIj09dHlwZW9mIGlucHV0PyhkdXJhdGlvbj17fSxrZXk/ZHVyYXRpb25ba2V5XT1pbnB1dDpkdXJhdGlvbi5taWxsaXNlY29uZHM9aW5wdXQpOihtYXRjaD1hc3BOZXRUaW1lU3Bhbkpzb25SZWdleC5leGVjKGlucHV0KSk/KHNpZ249Ii0iPT09bWF0Y2hbMV0/LTE6MSxkdXJhdGlvbj17eTowLGQ6dG9JbnQobWF0Y2hbREFURV0pKnNpZ24saDp0b0ludChtYXRjaFtIT1VSXSkqc2lnbixtOnRvSW50KG1hdGNoW01JTlVURV0pKnNpZ24sczp0b0ludChtYXRjaFtTRUNPTkRdKSpzaWduLG1zOnRvSW50KG1hdGNoW01JTExJU0VDT05EXSkqc2lnbn0pOihtYXRjaD1pc29EdXJhdGlvblJlZ2V4LmV4ZWMoaW5wdXQpKT8oc2lnbj0iLSI9PT1tYXRjaFsxXT8tMToxLHBhcnNlSXNvPWZ1bmN0aW9uKGlucCl7dmFyIHJlcz1pbnAmJnBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoIiwiLCIuIikpO3JldHVybihpc05hTihyZXMpPzA6cmVzKSpzaWdufSxkdXJhdGlvbj17eTpwYXJzZUlzbyhtYXRjaFsyXSksTTpwYXJzZUlzbyhtYXRjaFszXSksZDpwYXJzZUlzbyhtYXRjaFs0XSksaDpwYXJzZUlzbyhtYXRjaFs1XSksbTpwYXJzZUlzbyhtYXRjaFs2XSksczpwYXJzZUlzbyhtYXRjaFs3XSksdzpwYXJzZUlzbyhtYXRjaFs4XSl9KToib2JqZWN0Ij09dHlwZW9mIGR1cmF0aW9uJiYoImZyb20iaW4gZHVyYXRpb258fCJ0byJpbiBkdXJhdGlvbikmJihkaWZmUmVzPW1vbWVudHNEaWZmZXJlbmNlKG1vbWVudChkdXJhdGlvbi5mcm9tKSxtb21lbnQoZHVyYXRpb24udG8pKSxkdXJhdGlvbj17fSxkdXJhdGlvbi5tcz1kaWZmUmVzLm1pbGxpc2Vjb25kcyxkdXJhdGlvbi5NPWRpZmZSZXMubW9udGhzKSxyZXQ9bmV3IER1cmF0aW9uKGR1cmF0aW9uKSxtb21lbnQuaXNEdXJhdGlvbihpbnB1dCkmJmhhc093blByb3AoaW5wdXQsIl9sb2NhbGUiKSYmKHJldC5fbG9jYWxlPWlucHV0Ll9sb2NhbGUpLHJldH0sbW9tZW50LnZlcnNpb249VkVSU0lPTixtb21lbnQuZGVmYXVsdEZvcm1hdD1pc29Gb3JtYXQsbW9tZW50LklTT184NjAxPWZ1bmN0aW9uKCl7fSxtb21lbnQubW9tZW50UHJvcGVydGllcz1tb21lbnRQcm9wZXJ0aWVzLG1vbWVudC51cGRhdGVPZmZzZXQ9ZnVuY3Rpb24oKXt9LG1vbWVudC5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQ9ZnVuY3Rpb24odGhyZXNob2xkLGxpbWl0KXtyZXR1cm4gcmVsYXRpdmVUaW1lVGhyZXNob2xkc1t0aHJlc2hvbGRdPT09dW5kZWZpbmVkPyExOmxpbWl0PT09dW5kZWZpbmVkP3JlbGF0aXZlVGltZVRocmVzaG9sZHNbdGhyZXNob2xkXToocmVsYXRpdmVUaW1lVGhyZXNob2xkc1t0aHJlc2hvbGRdPWxpbWl0LCEwKX0sbW9tZW50Lmxhbmc9ZGVwcmVjYXRlKCJtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLiIsZnVuY3Rpb24oa2V5LHZhbHVlKXtyZXR1cm4gbW9tZW50LmxvY2FsZShrZXksdmFsdWUpfSksbW9tZW50LmxvY2FsZT1mdW5jdGlvbihrZXksdmFsdWVzKXt2YXIgZGF0YTtyZXR1cm4ga2V5JiYoZGF0YT0idW5kZWZpbmVkIiE9dHlwZW9mIHZhbHVlcz9tb21lbnQuZGVmaW5lTG9jYWxlKGtleSx2YWx1ZXMpOm1vbWVudC5sb2NhbGVEYXRhKGtleSksZGF0YSYmKG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlPW1vbWVudC5fbG9jYWxlPWRhdGEpKSxtb21lbnQuX2xvY2FsZS5fYWJicn0sbW9tZW50LmRlZmluZUxvY2FsZT1mdW5jdGlvbihuYW1lLHZhbHVlcyl7cmV0dXJuIG51bGwhPT12YWx1ZXM/KHZhbHVlcy5hYmJyPW5hbWUsbG9jYWxlc1tuYW1lXXx8KGxvY2FsZXNbbmFtZV09bmV3IExvY2FsZSksbG9jYWxlc1tuYW1lXS5zZXQodmFsdWVzKSxtb21lbnQubG9jYWxlKG5hbWUpLGxvY2FsZXNbbmFtZV0pOihkZWxldGUgbG9jYWxlc1tuYW1lXSxudWxsKX0sbW9tZW50LmxhbmdEYXRhPWRlcHJlY2F0ZSgibW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLiIsZnVuY3Rpb24oa2V5KXtyZXR1cm4gbW9tZW50LmxvY2FsZURhdGEoa2V5KX0pLG1vbWVudC5sb2NhbGVEYXRhPWZ1bmN0aW9uKGtleSl7dmFyIGxvY2FsZTtpZihrZXkmJmtleS5fbG9jYWxlJiZrZXkuX2xvY2FsZS5fYWJiciYmKGtleT1rZXkuX2xvY2FsZS5fYWJiciksIWtleSlyZXR1cm4gbW9tZW50Ll9sb2NhbGU7aWYoIWlzQXJyYXkoa2V5KSl7aWYobG9jYWxlPWxvYWRMb2NhbGUoa2V5KSlyZXR1cm4gbG9jYWxlO2tleT1ba2V5XX1yZXR1cm4gY2hvb3NlTG9jYWxlKGtleSl9LG1vbWVudC5pc01vbWVudD1mdW5jdGlvbihvYmope3JldHVybiBvYmogaW5zdGFuY2VvZiBNb21lbnR8fG51bGwhPW9iaiYmaGFzT3duUHJvcChvYmosIl9pc0FNb21lbnRPYmplY3QiKX0sbW9tZW50LmlzRHVyYXRpb249ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb259O2ZvcihpPWxpc3RzLmxlbmd0aC0xO2k+PTA7LS1pKW1ha2VMaXN0KGxpc3RzW2ldKTttb21lbnQubm9ybWFsaXplVW5pdHM9ZnVuY3Rpb24odW5pdHMpe3JldHVybiBub3JtYWxpemVVbml0cyh1bml0cyl9LG1vbWVudC5pbnZhbGlkPWZ1bmN0aW9uKGZsYWdzKXt2YXIgbT1tb21lbnQudXRjKDAvMCk7cmV0dXJuIG51bGwhPWZsYWdzP2V4dGVuZChtLl9wZixmbGFncyk6bS5fcGYudXNlckludmFsaWRhdGVkPSEwLG19LG1vbWVudC5wYXJzZVpvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbW9tZW50LmFwcGx5KG51bGwsYXJndW1lbnRzKS5wYXJzZVpvbmUoKX0sbW9tZW50LnBhcnNlVHdvRGlnaXRZZWFyPWZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gdG9JbnQoaW5wdXQpKyh0b0ludChpbnB1dCk+Njg/MTkwMDoyZTMpfSxleHRlbmQobW9tZW50LmZuPU1vbWVudC5wcm90b3R5cGUse2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG1vbWVudCh0aGlzKX0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybit0aGlzLl9kKzZlNCoodGhpcy5fb2Zmc2V0fHwwKX0sdW5peDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKCt0aGlzLzFlMyl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoImVuIikuZm9ybWF0KCJkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWiIpfSx0b0RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2Zmc2V0P25ldyBEYXRlKCt0aGlzKTp0aGlzLl9kfSx0b0lTT1N0cmluZzpmdW5jdGlvbigpe3ZhciBtPW1vbWVudCh0aGlzKS51dGMoKTtyZXR1cm4gMDxtLnllYXIoKSYmbS55ZWFyKCk8PTk5OTk/Zm9ybWF0TW9tZW50KG0sIllZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0iKTpmb3JtYXRNb21lbnQobSwiWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdIil9LHRvQXJyYXk6ZnVuY3Rpb24oKXt2YXIgbT10aGlzO3JldHVyblttLnllYXIoKSxtLm1vbnRoKCksbS5kYXRlKCksbS5ob3VycygpLG0ubWludXRlcygpLG0uc2Vjb25kcygpLG0ubWlsbGlzZWNvbmRzKCldfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIGlzVmFsaWQodGhpcyl9LGlzRFNUU2hpZnRlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hP3RoaXMuaXNWYWxpZCgpJiZjb21wYXJlQXJyYXlzKHRoaXMuX2EsKHRoaXMuX2lzVVRDP21vbWVudC51dGModGhpcy5fYSk6bW9tZW50KHRoaXMuX2EpKS50b0FycmF5KCkpPjA6ITF9LHBhcnNpbmdGbGFnczpmdW5jdGlvbigpe3JldHVybiBleHRlbmQoe30sdGhpcy5fcGYpfSxpbnZhbGlkQXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGYub3ZlcmZsb3d9LHV0YzpmdW5jdGlvbihrZWVwTG9jYWxUaW1lKXtyZXR1cm4gdGhpcy56b25lKDAsa2VlcExvY2FsVGltZSl9LGxvY2FsOmZ1bmN0aW9uKGtlZXBMb2NhbFRpbWUpe3JldHVybiB0aGlzLl9pc1VUQyYmKHRoaXMuem9uZSgwLGtlZXBMb2NhbFRpbWUpLHRoaXMuX2lzVVRDPSExLGtlZXBMb2NhbFRpbWUmJnRoaXMuYWRkKHRoaXMuX2RhdGVUek9mZnNldCgpLCJtIikpLHRoaXN9LGZvcm1hdDpmdW5jdGlvbihpbnB1dFN0cmluZyl7dmFyIG91dHB1dD1mb3JtYXRNb21lbnQodGhpcyxpbnB1dFN0cmluZ3x8bW9tZW50LmRlZmF1bHRGb3JtYXQpO3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCl9LGFkZDpjcmVhdGVBZGRlcigxLCJhZGQiKSxzdWJ0cmFjdDpjcmVhdGVBZGRlcigtMSwic3VidHJhY3QiKSxkaWZmOmZ1bmN0aW9uKGlucHV0LHVuaXRzLGFzRmxvYXQpe3ZhciBkaWZmLG91dHB1dCxkYXlzQWRqdXN0LHRoYXQ9bWFrZUFzKGlucHV0LHRoaXMpLHpvbmVEaWZmPTZlNCoodGhpcy56b25lKCktdGhhdC56b25lKCkpO3JldHVybiB1bml0cz1ub3JtYWxpemVVbml0cyh1bml0cyksInllYXIiPT09dW5pdHN8fCJtb250aCI9PT11bml0cz8oZGlmZj00MzJlNSoodGhpcy5kYXlzSW5Nb250aCgpK3RoYXQuZGF5c0luTW9udGgoKSksb3V0cHV0PTEyKih0aGlzLnllYXIoKS10aGF0LnllYXIoKSkrKHRoaXMubW9udGgoKS10aGF0Lm1vbnRoKCkpLGRheXNBZGp1c3Q9dGhpcy1tb21lbnQodGhpcykuc3RhcnRPZigibW9udGgiKS0odGhhdC1tb21lbnQodGhhdCkuc3RhcnRPZigibW9udGgiKSksZGF5c0FkanVzdC09NmU0Kih0aGlzLnpvbmUoKS1tb21lbnQodGhpcykuc3RhcnRPZigibW9udGgiKS56b25lKCktKHRoYXQuem9uZSgpLW1vbWVudCh0aGF0KS5zdGFydE9mKCJtb250aCIpLnpvbmUoKSkpLG91dHB1dCs9ZGF5c0FkanVzdC9kaWZmLCJ5ZWFyIj09PXVuaXRzJiYob3V0cHV0Lz0xMikpOihkaWZmPXRoaXMtdGhhdCxvdXRwdXQ9InNlY29uZCI9PT11bml0cz9kaWZmLzFlMzoibWludXRlIj09PXVuaXRzP2RpZmYvNmU0OiJob3VyIj09PXVuaXRzP2RpZmYvMzZlNToiZGF5Ij09PXVuaXRzPyhkaWZmLXpvbmVEaWZmKS84NjRlNToid2VlayI9PT11bml0cz8oZGlmZi16b25lRGlmZikvNjA0OGU1OmRpZmYpLGFzRmxvYXQ/b3V0cHV0OmFic1JvdW5kKG91dHB1dCl9LGZyb206ZnVuY3Rpb24odGltZSx3aXRob3V0U3VmZml4KXtyZXR1cm4gbW9tZW50LmR1cmF0aW9uKHt0bzp0aGlzLGZyb206dGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCl9LGZyb21Ob3c6ZnVuY3Rpb24od2l0aG91dFN1ZmZpeCl7cmV0dXJuIHRoaXMuZnJvbShtb21lbnQoKSx3aXRob3V0U3VmZml4KX0sY2FsZW5kYXI6ZnVuY3Rpb24odGltZSl7dmFyIG5vdz10aW1lfHxtb21lbnQoKSxzb2Q9bWFrZUFzKG5vdyx0aGlzKS5zdGFydE9mKCJkYXkiKSxkaWZmPXRoaXMuZGlmZihzb2QsImRheXMiLCEwKSxmb3JtYXQ9LTY+ZGlmZj8ic2FtZUVsc2UiOi0xPmRpZmY/Imxhc3RXZWVrIjowPmRpZmY/Imxhc3REYXkiOjE+ZGlmZj8ic2FtZURheSI6Mj5kaWZmPyJuZXh0RGF5Ijo3PmRpZmY/Im5leHRXZWVrIjoic2FtZUVsc2UiO3JldHVybiB0aGlzLmZvcm1hdCh0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsdGhpcykpfSxpc0xlYXBZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGlzTGVhcFllYXIodGhpcy55ZWFyKCkpfSxpc0RTVDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvbmUoKTx0aGlzLmNsb25lKCkubW9udGgoMCkuem9uZSgpfHx0aGlzLnpvbmUoKTx0aGlzLmNsb25lKCkubW9udGgoNSkuem9uZSgpfSxkYXk6ZnVuY3Rpb24oaW5wdXQpe3ZhciBkYXk9dGhpcy5faXNVVEM/dGhpcy5fZC5nZXRVVENEYXkoKTp0aGlzLl9kLmdldERheSgpO3JldHVybiBudWxsIT1pbnB1dD8oaW5wdXQ9cGFyc2VXZWVrZGF5KGlucHV0LHRoaXMubG9jYWxlRGF0YSgpKSx0aGlzLmFkZChpbnB1dC1kYXksImQiKSk6ZGF5fSxtb250aDptYWtlQWNjZXNzb3IoIk1vbnRoIiwhMCksc3RhcnRPZjpmdW5jdGlvbih1bml0cyl7c3dpdGNoKHVuaXRzPW5vcm1hbGl6ZVVuaXRzKHVuaXRzKSl7Y2FzZSJ5ZWFyIjp0aGlzLm1vbnRoKDApO2Nhc2UicXVhcnRlciI6Y2FzZSJtb250aCI6dGhpcy5kYXRlKDEpO2Nhc2Uid2VlayI6Y2FzZSJpc29XZWVrIjpjYXNlImRheSI6dGhpcy5ob3VycygwKTtjYXNlImhvdXIiOnRoaXMubWludXRlcygwKTtjYXNlIm1pbnV0ZSI6dGhpcy5zZWNvbmRzKDApO2Nhc2Uic2Vjb25kIjp0aGlzLm1pbGxpc2Vjb25kcygwKX1yZXR1cm4id2VlayI9PT11bml0cz90aGlzLndlZWtkYXkoMCk6Imlzb1dlZWsiPT09dW5pdHMmJnRoaXMuaXNvV2Vla2RheSgxKSwicXVhcnRlciI9PT11bml0cyYmdGhpcy5tb250aCgzKk1hdGguZmxvb3IodGhpcy5tb250aCgpLzMpKSx0aGlzfSxlbmRPZjpmdW5jdGlvbih1bml0cyl7cmV0dXJuIHVuaXRzPW5vcm1hbGl6ZVVuaXRzKHVuaXRzKSx0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCJpc29XZWVrIj09PXVuaXRzPyJ3ZWVrIjp1bml0cykuc3VidHJhY3QoMSwibXMiKX0saXNBZnRlcjpmdW5jdGlvbihpbnB1dCx1bml0cyl7cmV0dXJuIHVuaXRzPW5vcm1hbGl6ZVVuaXRzKCJ1bmRlZmluZWQiIT10eXBlb2YgdW5pdHM/dW5pdHM6Im1pbGxpc2Vjb25kIiksIm1pbGxpc2Vjb25kIj09PXVuaXRzPyhpbnB1dD1tb21lbnQuaXNNb21lbnQoaW5wdXQpP2lucHV0Om1vbWVudChpbnB1dCksK3RoaXM+K2lucHV0KTordGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpPittb21lbnQoaW5wdXQpLnN0YXJ0T2YodW5pdHMpfSxpc0JlZm9yZTpmdW5jdGlvbihpbnB1dCx1bml0cyl7cmV0dXJuIHVuaXRzPW5vcm1hbGl6ZVVuaXRzKCJ1bmRlZmluZWQiIT10eXBlb2YgdW5pdHM/dW5pdHM6Im1pbGxpc2Vjb25kIiksIm1pbGxpc2Vjb25kIj09PXVuaXRzPyhpbnB1dD1tb21lbnQuaXNNb21lbnQoaW5wdXQpP2lucHV0Om1vbWVudChpbnB1dCksK2lucHV0Pit0aGlzKTordGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpPCttb21lbnQoaW5wdXQpLnN0YXJ0T2YodW5pdHMpfSxpc1NhbWU6ZnVuY3Rpb24oaW5wdXQsdW5pdHMpe3JldHVybiB1bml0cz1ub3JtYWxpemVVbml0cyh1bml0c3x8Im1pbGxpc2Vjb25kIiksIm1pbGxpc2Vjb25kIj09PXVuaXRzPyhpbnB1dD1tb21lbnQuaXNNb21lbnQoaW5wdXQpP2lucHV0Om1vbWVudChpbnB1dCksK3RoaXM9PT0raW5wdXQpOit0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cyk9PT0rbWFrZUFzKGlucHV0LHRoaXMpLnN0YXJ0T2YodW5pdHMpfSxtaW46ZGVwcmVjYXRlKCJtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE1NDgiLGZ1bmN0aW9uKG90aGVyKXtyZXR1cm4gb3RoZXI9bW9tZW50LmFwcGx5KG51bGwsYXJndW1lbnRzKSx0aGlzPm90aGVyP3RoaXM6b3RoZXJ9KSxtYXg6ZGVwcmVjYXRlKCJtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE1NDgiLGZ1bmN0aW9uKG90aGVyKXtyZXR1cm4gb3RoZXI9bW9tZW50LmFwcGx5KG51bGwsYXJndW1lbnRzKSxvdGhlcj50aGlzP3RoaXM6b3RoZXJ9KSx6b25lOmZ1bmN0aW9uKGlucHV0LGtlZXBMb2NhbFRpbWUpe3ZhciBsb2NhbEFkanVzdCxvZmZzZXQ9dGhpcy5fb2Zmc2V0fHwwO3JldHVybiBudWxsPT1pbnB1dD90aGlzLl9pc1VUQz9vZmZzZXQ6dGhpcy5fZGF0ZVR6T2Zmc2V0KCk6KCJzdHJpbmciPT10eXBlb2YgaW5wdXQmJihpbnB1dD10aW1lem9uZU1pbnV0ZXNGcm9tU3RyaW5nKGlucHV0KSksTWF0aC5hYnMoaW5wdXQpPDE2JiYoaW5wdXQ9NjAqaW5wdXQpLCF0aGlzLl9pc1VUQyYma2VlcExvY2FsVGltZSYmKGxvY2FsQWRqdXN0PXRoaXMuX2RhdGVUek9mZnNldCgpKSx0aGlzLl9vZmZzZXQ9aW5wdXQsdGhpcy5faXNVVEM9ITAsbnVsbCE9bG9jYWxBZGp1c3QmJnRoaXMuc3VidHJhY3QobG9jYWxBZGp1c3QsIm0iKSxvZmZzZXQhPT1pbnB1dCYmKCFrZWVwTG9jYWxUaW1lfHx0aGlzLl9jaGFuZ2VJblByb2dyZXNzP2FkZE9yU3VidHJhY3REdXJhdGlvbkZyb21Nb21lbnQodGhpcyxtb21lbnQuZHVyYXRpb24ob2Zmc2V0LWlucHV0LCJtIiksMSwhMSk6dGhpcy5fY2hhbmdlSW5Qcm9ncmVzc3x8KHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3M9ITAsbW9tZW50LnVwZGF0ZU9mZnNldCh0aGlzLCEwKSx0aGlzLl9jaGFuZ2VJblByb2dyZXNzPW51bGwpKSx0aGlzKX0sem9uZUFiYnI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNVVEM/IlVUQyI6IiJ9LHpvbmVOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzVVRDPyJDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZSI6IiJ9LHBhcnNlWm9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90em0/dGhpcy56b25lKHRoaXMuX3R6bSk6InN0cmluZyI9PXR5cGVvZiB0aGlzLl9pJiZ0aGlzLnpvbmUodGhpcy5faSksdGhpc30saGFzQWxpZ25lZEhvdXJPZmZzZXQ6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBpbnB1dD1pbnB1dD9tb21lbnQoaW5wdXQpLnpvbmUoKTowLCh0aGlzLnpvbmUoKS1pbnB1dCklNjA9PT0wfSxkYXlzSW5Nb250aDpmdW5jdGlvbigpe3JldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSx0aGlzLm1vbnRoKCkpfSxkYXlPZlllYXI6ZnVuY3Rpb24oaW5wdXQpe3ZhciBkYXlPZlllYXI9cm91bmQoKG1vbWVudCh0aGlzKS5zdGFydE9mKCJkYXkiKS1tb21lbnQodGhpcykuc3RhcnRPZigieWVhciIpKS84NjRlNSkrMTsKcmV0dXJuIG51bGw9PWlucHV0P2RheU9mWWVhcjp0aGlzLmFkZChpbnB1dC1kYXlPZlllYXIsImQiKX0scXVhcnRlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIG51bGw9PWlucHV0P01hdGguY2VpbCgodGhpcy5tb250aCgpKzEpLzMpOnRoaXMubW9udGgoMyooaW5wdXQtMSkrdGhpcy5tb250aCgpJTMpfSx3ZWVrWWVhcjpmdW5jdGlvbihpbnB1dCl7dmFyIHllYXI9d2Vla09mWWVhcih0aGlzLHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyx0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpLnllYXI7cmV0dXJuIG51bGw9PWlucHV0P3llYXI6dGhpcy5hZGQoaW5wdXQteWVhciwieSIpfSxpc29XZWVrWWVhcjpmdW5jdGlvbihpbnB1dCl7dmFyIHllYXI9d2Vla09mWWVhcih0aGlzLDEsNCkueWVhcjtyZXR1cm4gbnVsbD09aW5wdXQ/eWVhcjp0aGlzLmFkZChpbnB1dC15ZWFyLCJ5Iil9LHdlZWs6ZnVuY3Rpb24oaW5wdXQpe3ZhciB3ZWVrPXRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7cmV0dXJuIG51bGw9PWlucHV0P3dlZWs6dGhpcy5hZGQoNyooaW5wdXQtd2VlayksImQiKX0saXNvV2VlazpmdW5jdGlvbihpbnB1dCl7dmFyIHdlZWs9d2Vla09mWWVhcih0aGlzLDEsNCkud2VlaztyZXR1cm4gbnVsbD09aW5wdXQ/d2Vlazp0aGlzLmFkZCg3KihpbnB1dC13ZWVrKSwiZCIpfSx3ZWVrZGF5OmZ1bmN0aW9uKGlucHV0KXt2YXIgd2Vla2RheT0odGhpcy5kYXkoKSs3LXRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyklNztyZXR1cm4gbnVsbD09aW5wdXQ/d2Vla2RheTp0aGlzLmFkZChpbnB1dC13ZWVrZGF5LCJkIil9LGlzb1dlZWtkYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBudWxsPT1pbnB1dD90aGlzLmRheSgpfHw3OnRoaXMuZGF5KHRoaXMuZGF5KCklNz9pbnB1dDppbnB1dC03KX0saXNvV2Vla3NJblllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksMSw0KX0sd2Vla3NJblllYXI6ZnVuY3Rpb24oKXt2YXIgd2Vla0luZm89dGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7cmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLHdlZWtJbmZvLmRvdyx3ZWVrSW5mby5kb3kpfSxnZXQ6ZnVuY3Rpb24odW5pdHMpe3JldHVybiB1bml0cz1ub3JtYWxpemVVbml0cyh1bml0cyksdGhpc1t1bml0c10oKX0sc2V0OmZ1bmN0aW9uKHVuaXRzLHZhbHVlKXtyZXR1cm4gdW5pdHM9bm9ybWFsaXplVW5pdHModW5pdHMpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW3VuaXRzXSYmdGhpc1t1bml0c10odmFsdWUpLHRoaXN9LGxvY2FsZTpmdW5jdGlvbihrZXkpe3ZhciBuZXdMb2NhbGVEYXRhO3JldHVybiBrZXk9PT11bmRlZmluZWQ/dGhpcy5fbG9jYWxlLl9hYmJyOihuZXdMb2NhbGVEYXRhPW1vbWVudC5sb2NhbGVEYXRhKGtleSksbnVsbCE9bmV3TG9jYWxlRGF0YSYmKHRoaXMuX2xvY2FsZT1uZXdMb2NhbGVEYXRhKSx0aGlzKX0sbGFuZzpkZXByZWNhdGUoIm1vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIGluc3RlYWQuIixmdW5jdGlvbihrZXkpe3JldHVybiBrZXk9PT11bmRlZmluZWQ/dGhpcy5sb2NhbGVEYXRhKCk6dGhpcy5sb2NhbGUoa2V5KX0pLGxvY2FsZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9jYWxlfSxfZGF0ZVR6T2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE1Kk1hdGgucm91bmQodGhpcy5fZC5nZXRUaW1lem9uZU9mZnNldCgpLzE1KX19KSxtb21lbnQuZm4ubWlsbGlzZWNvbmQ9bW9tZW50LmZuLm1pbGxpc2Vjb25kcz1tYWtlQWNjZXNzb3IoIk1pbGxpc2Vjb25kcyIsITEpLG1vbWVudC5mbi5zZWNvbmQ9bW9tZW50LmZuLnNlY29uZHM9bWFrZUFjY2Vzc29yKCJTZWNvbmRzIiwhMSksbW9tZW50LmZuLm1pbnV0ZT1tb21lbnQuZm4ubWludXRlcz1tYWtlQWNjZXNzb3IoIk1pbnV0ZXMiLCExKSxtb21lbnQuZm4uaG91cj1tb21lbnQuZm4uaG91cnM9bWFrZUFjY2Vzc29yKCJIb3VycyIsITApLG1vbWVudC5mbi5kYXRlPW1ha2VBY2Nlc3NvcigiRGF0ZSIsITApLG1vbWVudC5mbi5kYXRlcz1kZXByZWNhdGUoImRhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuIixtYWtlQWNjZXNzb3IoIkRhdGUiLCEwKSksbW9tZW50LmZuLnllYXI9bWFrZUFjY2Vzc29yKCJGdWxsWWVhciIsITApLG1vbWVudC5mbi55ZWFycz1kZXByZWNhdGUoInllYXJzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSB5ZWFyIGluc3RlYWQuIixtYWtlQWNjZXNzb3IoIkZ1bGxZZWFyIiwhMCkpLG1vbWVudC5mbi5kYXlzPW1vbWVudC5mbi5kYXksbW9tZW50LmZuLm1vbnRocz1tb21lbnQuZm4ubW9udGgsbW9tZW50LmZuLndlZWtzPW1vbWVudC5mbi53ZWVrLG1vbWVudC5mbi5pc29XZWVrcz1tb21lbnQuZm4uaXNvV2Vlayxtb21lbnQuZm4ucXVhcnRlcnM9bW9tZW50LmZuLnF1YXJ0ZXIsbW9tZW50LmZuLnRvSlNPTj1tb21lbnQuZm4udG9JU09TdHJpbmcsZXh0ZW5kKG1vbWVudC5kdXJhdGlvbi5mbj1EdXJhdGlvbi5wcm90b3R5cGUse19idWJibGU6ZnVuY3Rpb24oKXt2YXIgc2Vjb25kcyxtaW51dGVzLGhvdXJzLG1pbGxpc2Vjb25kcz10aGlzLl9taWxsaXNlY29uZHMsZGF5cz10aGlzLl9kYXlzLG1vbnRocz10aGlzLl9tb250aHMsZGF0YT10aGlzLl9kYXRhLHllYXJzPTA7ZGF0YS5taWxsaXNlY29uZHM9bWlsbGlzZWNvbmRzJTFlMyxzZWNvbmRzPWFic1JvdW5kKG1pbGxpc2Vjb25kcy8xZTMpLGRhdGEuc2Vjb25kcz1zZWNvbmRzJTYwLG1pbnV0ZXM9YWJzUm91bmQoc2Vjb25kcy82MCksZGF0YS5taW51dGVzPW1pbnV0ZXMlNjAsaG91cnM9YWJzUm91bmQobWludXRlcy82MCksZGF0YS5ob3Vycz1ob3VycyUyNCxkYXlzKz1hYnNSb3VuZChob3Vycy8yNCkseWVhcnM9YWJzUm91bmQoZGF5c1RvWWVhcnMoZGF5cykpLGRheXMtPWFic1JvdW5kKHllYXJzVG9EYXlzKHllYXJzKSksbW9udGhzKz1hYnNSb3VuZChkYXlzLzMwKSxkYXlzJT0zMCx5ZWFycys9YWJzUm91bmQobW9udGhzLzEyKSxtb250aHMlPTEyLGRhdGEuZGF5cz1kYXlzLGRhdGEubW9udGhzPW1vbnRocyxkYXRhLnllYXJzPXllYXJzfSxhYnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlsbGlzZWNvbmRzPU1hdGguYWJzKHRoaXMuX21pbGxpc2Vjb25kcyksdGhpcy5fZGF5cz1NYXRoLmFicyh0aGlzLl9kYXlzKSx0aGlzLl9tb250aHM9TWF0aC5hYnModGhpcy5fbW9udGhzKSx0aGlzLl9kYXRhLm1pbGxpc2Vjb25kcz1NYXRoLmFicyh0aGlzLl9kYXRhLm1pbGxpc2Vjb25kcyksdGhpcy5fZGF0YS5zZWNvbmRzPU1hdGguYWJzKHRoaXMuX2RhdGEuc2Vjb25kcyksdGhpcy5fZGF0YS5taW51dGVzPU1hdGguYWJzKHRoaXMuX2RhdGEubWludXRlcyksdGhpcy5fZGF0YS5ob3Vycz1NYXRoLmFicyh0aGlzLl9kYXRhLmhvdXJzKSx0aGlzLl9kYXRhLm1vbnRocz1NYXRoLmFicyh0aGlzLl9kYXRhLm1vbnRocyksdGhpcy5fZGF0YS55ZWFycz1NYXRoLmFicyh0aGlzLl9kYXRhLnllYXJzKSx0aGlzfSx3ZWVrczpmdW5jdGlvbigpe3JldHVybiBhYnNSb3VuZCh0aGlzLmRheXMoKS83KX0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWxsaXNlY29uZHMrODY0ZTUqdGhpcy5fZGF5cyt0aGlzLl9tb250aHMlMTIqMjU5MmU2KzMxNTM2ZTYqdG9JbnQodGhpcy5fbW9udGhzLzEyKX0saHVtYW5pemU6ZnVuY3Rpb24od2l0aFN1ZmZpeCl7dmFyIG91dHB1dD1yZWxhdGl2ZVRpbWUodGhpcywhd2l0aFN1ZmZpeCx0aGlzLmxvY2FsZURhdGEoKSk7cmV0dXJuIHdpdGhTdWZmaXgmJihvdXRwdXQ9dGhpcy5sb2NhbGVEYXRhKCkucGFzdEZ1dHVyZSgrdGhpcyxvdXRwdXQpKSx0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCl9LGFkZDpmdW5jdGlvbihpbnB1dCx2YWwpe3ZhciBkdXI9bW9tZW50LmR1cmF0aW9uKGlucHV0LHZhbCk7cmV0dXJuIHRoaXMuX21pbGxpc2Vjb25kcys9ZHVyLl9taWxsaXNlY29uZHMsdGhpcy5fZGF5cys9ZHVyLl9kYXlzLHRoaXMuX21vbnRocys9ZHVyLl9tb250aHMsdGhpcy5fYnViYmxlKCksdGhpc30sc3VidHJhY3Q6ZnVuY3Rpb24oaW5wdXQsdmFsKXt2YXIgZHVyPW1vbWVudC5kdXJhdGlvbihpbnB1dCx2YWwpO3JldHVybiB0aGlzLl9taWxsaXNlY29uZHMtPWR1ci5fbWlsbGlzZWNvbmRzLHRoaXMuX2RheXMtPWR1ci5fZGF5cyx0aGlzLl9tb250aHMtPWR1ci5fbW9udGhzLHRoaXMuX2J1YmJsZSgpLHRoaXN9LGdldDpmdW5jdGlvbih1bml0cyl7cmV0dXJuIHVuaXRzPW5vcm1hbGl6ZVVuaXRzKHVuaXRzKSx0aGlzW3VuaXRzLnRvTG93ZXJDYXNlKCkrInMiXSgpfSxhczpmdW5jdGlvbih1bml0cyl7dmFyIGRheXMsbW9udGhzO2lmKHVuaXRzPW5vcm1hbGl6ZVVuaXRzKHVuaXRzKSwibW9udGgiPT09dW5pdHN8fCJ5ZWFyIj09PXVuaXRzKXJldHVybiBkYXlzPXRoaXMuX2RheXMrdGhpcy5fbWlsbGlzZWNvbmRzLzg2NGU1LG1vbnRocz10aGlzLl9tb250aHMrMTIqZGF5c1RvWWVhcnMoZGF5cyksIm1vbnRoIj09PXVuaXRzP21vbnRoczptb250aHMvMTI7c3dpdGNoKGRheXM9dGhpcy5fZGF5cyt5ZWFyc1RvRGF5cyh0aGlzLl9tb250aHMvMTIpLHVuaXRzKXtjYXNlIndlZWsiOnJldHVybiBkYXlzLzcrdGhpcy5fbWlsbGlzZWNvbmRzLzYwNDhlNTtjYXNlImRheSI6cmV0dXJuIGRheXMrdGhpcy5fbWlsbGlzZWNvbmRzLzg2NGU1O2Nhc2UiaG91ciI6cmV0dXJuIDI0KmRheXMrdGhpcy5fbWlsbGlzZWNvbmRzLzM2ZTU7Y2FzZSJtaW51dGUiOnJldHVybiAyNCpkYXlzKjYwK3RoaXMuX21pbGxpc2Vjb25kcy82ZTQ7Y2FzZSJzZWNvbmQiOnJldHVybiAyNCpkYXlzKjYwKjYwK3RoaXMuX21pbGxpc2Vjb25kcy8xZTM7Y2FzZSJtaWxsaXNlY29uZCI6cmV0dXJuIE1hdGguZmxvb3IoMjQqZGF5cyo2MCo2MCoxZTMpK3RoaXMuX21pbGxpc2Vjb25kcztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biB1bml0ICIrdW5pdHMpfX0sbGFuZzptb21lbnQuZm4ubGFuZyxsb2NhbGU6bW9tZW50LmZuLmxvY2FsZSx0b0lzb1N0cmluZzpkZXByZWNhdGUoInRvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpIixmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvSVNPU3RyaW5nKCl9KSx0b0lTT1N0cmluZzpmdW5jdGlvbigpe3ZhciB5ZWFycz1NYXRoLmFicyh0aGlzLnllYXJzKCkpLG1vbnRocz1NYXRoLmFicyh0aGlzLm1vbnRocygpKSxkYXlzPU1hdGguYWJzKHRoaXMuZGF5cygpKSxob3Vycz1NYXRoLmFicyh0aGlzLmhvdXJzKCkpLG1pbnV0ZXM9TWF0aC5hYnModGhpcy5taW51dGVzKCkpLHNlY29uZHM9TWF0aC5hYnModGhpcy5zZWNvbmRzKCkrdGhpcy5taWxsaXNlY29uZHMoKS8xZTMpO3JldHVybiB0aGlzLmFzU2Vjb25kcygpPyh0aGlzLmFzU2Vjb25kcygpPDA/Ii0iOiIiKSsiUCIrKHllYXJzP3llYXJzKyJZIjoiIikrKG1vbnRocz9tb250aHMrIk0iOiIiKSsoZGF5cz9kYXlzKyJEIjoiIikrKGhvdXJzfHxtaW51dGVzfHxzZWNvbmRzPyJUIjoiIikrKGhvdXJzP2hvdXJzKyJIIjoiIikrKG1pbnV0ZXM/bWludXRlcysiTSI6IiIpKyhzZWNvbmRzP3NlY29uZHMrIlMiOiIiKToiUDBEIn0sbG9jYWxlRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbGV9fSksbW9tZW50LmR1cmF0aW9uLmZuLnRvU3RyaW5nPW1vbWVudC5kdXJhdGlvbi5mbi50b0lTT1N0cmluZztmb3IoaSBpbiB1bml0TWlsbGlzZWNvbmRGYWN0b3JzKWhhc093blByb3AodW5pdE1pbGxpc2Vjb25kRmFjdG9ycyxpKSYmbWFrZUR1cmF0aW9uR2V0dGVyKGkudG9Mb3dlckNhc2UoKSk7bW9tZW50LmR1cmF0aW9uLmZuLmFzTWlsbGlzZWNvbmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXMoIm1zIil9LG1vbWVudC5kdXJhdGlvbi5mbi5hc1NlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygicyIpfSxtb21lbnQuZHVyYXRpb24uZm4uYXNNaW51dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXMoIm0iKX0sbW9tZW50LmR1cmF0aW9uLmZuLmFzSG91cnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygiaCIpfSxtb21lbnQuZHVyYXRpb24uZm4uYXNEYXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXMoImQiKX0sbW9tZW50LmR1cmF0aW9uLmZuLmFzV2Vla3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygid2Vla3MiKX0sbW9tZW50LmR1cmF0aW9uLmZuLmFzTW9udGhzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXMoIk0iKX0sbW9tZW50LmR1cmF0aW9uLmZuLmFzWWVhcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygieSIpfSxtb21lbnQubG9jYWxlKCJlbiIse29yZGluYWw6ZnVuY3Rpb24obnVtYmVyKXt2YXIgYj1udW1iZXIlMTAsb3V0cHV0PTE9PT10b0ludChudW1iZXIlMTAwLzEwKT8idGgiOjE9PT1iPyJzdCI6Mj09PWI/Im5kIjozPT09Yj8icmQiOiJ0aCI7cmV0dXJuIG51bWJlcitvdXRwdXR9fSksaGFzTW9kdWxlP21vZHVsZS5leHBvcnRzPW1vbWVudDoiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kPyhkZWZpbmUoIm1vbWVudCIsZnVuY3Rpb24ocmVxdWlyZSxleHBvcnRzLG1vZHVsZSl7cmV0dXJuIG1vZHVsZS5jb25maWcmJm1vZHVsZS5jb25maWcoKSYmbW9kdWxlLmNvbmZpZygpLm5vR2xvYmFsPT09ITAmJihnbG9iYWxTY29wZS5tb21lbnQ9b2xkR2xvYmFsTW9tZW50KSxtb21lbnR9KSxtYWtlR2xvYmFsKCEwKSk6bWFrZUdsb2JhbCgpfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKHJvb3QsZmFjdG9yeSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoWyJtb21lbnQiLCJqcXVlcnkiLCJleHBvcnRzIl0sZnVuY3Rpb24obW9tZW50anMsJCxleHBvcnRzKXtyb290LmRhdGVyYW5nZXBpY2tlcj1mYWN0b3J5KHJvb3QsZXhwb3J0cyxtb21lbnRqcywkKX0pO2Vsc2UgaWYoInVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzKXt2YXIgalF1ZXJ5LG1vbWVudGpzPXJlcXVpcmUoIm1vbWVudCIpO3RyeXtqUXVlcnk9cmVxdWlyZSgianF1ZXJ5Iil9Y2F0Y2goZXJyKXtpZihqUXVlcnk9d2luZG93LmpRdWVyeSwhalF1ZXJ5KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IGRlcGVuZGVuY3kgbm90IGZvdW5kIil9ZmFjdG9yeShyb290LGV4cG9ydHMsbW9tZW50anMsalF1ZXJ5KX1lbHNlIHJvb3QuZGF0ZXJhbmdlcGlja2VyPWZhY3Rvcnkocm9vdCx7fSxyb290Lm1vbWVudCxyb290LmpRdWVyeXx8cm9vdC5aZXB0b3x8cm9vdC5lbmRlcnx8cm9vdC4kKX0odGhpcyxmdW5jdGlvbihyb290LGRhdGVyYW5nZXBpY2tlcixtb21lbnQsJCl7dmFyIERhdGVSYW5nZVBpY2tlcj1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMsY2Ipe3RoaXMucGFyZW50RWw9ImJvZHkiLHRoaXMuZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMuaXNTaG93aW5nPSExO3ZhciBEUlBUZW1wbGF0ZT0nPGRpdiBjbGFzcz0iZGF0ZXJhbmdlcGlja2VyIGRyb3Bkb3duLW1lbnUiPjxkaXYgY2xhc3M9ImNhbGVuZGFyIGxlZnQiPjwvZGl2PjxkaXYgY2xhc3M9ImNhbGVuZGFyIHJpZ2h0Ij48L2Rpdj48ZGl2IGNsYXNzPSJyYW5nZXMiPjxkaXYgY2xhc3M9InJhbmdlX2lucHV0cyI+PGRpdiBjbGFzcz0iZGF0ZXJhbmdlcGlja2VyX3N0YXJ0X2lucHV0Ij48bGFiZWwgZm9yPSJkYXRlcmFuZ2VwaWNrZXJfc3RhcnQiPjwvbGFiZWw+PGlucHV0IGNsYXNzPSJpbnB1dC1taW5pIiB0eXBlPSJ0ZXh0IiBuYW1lPSJkYXRlcmFuZ2VwaWNrZXJfc3RhcnQiIHZhbHVlPSIiIC8+PC9kaXY+PGRpdiBjbGFzcz0iZGF0ZXJhbmdlcGlja2VyX2VuZF9pbnB1dCI+PGxhYmVsIGZvcj0iZGF0ZXJhbmdlcGlja2VyX2VuZCI+PC9sYWJlbD48aW5wdXQgY2xhc3M9ImlucHV0LW1pbmkiIHR5cGU9InRleHQiIG5hbWU9ImRhdGVyYW5nZXBpY2tlcl9lbmQiIHZhbHVlPSIiIC8+PC9kaXY+PGJ1dHRvbiBjbGFzcz0iYXBwbHlCdG4iIGRpc2FibGVkPSJkaXNhYmxlZCI+PC9idXR0b24+Jm5ic3A7PGJ1dHRvbiBjbGFzcz0iY2FuY2VsQnRuIj48L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj4nOygib2JqZWN0IiE9dHlwZW9mIG9wdGlvbnN8fG51bGw9PT1vcHRpb25zKSYmKG9wdGlvbnM9e30pLHRoaXMucGFyZW50RWw9JCgib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMmJm9wdGlvbnMucGFyZW50RWwmJiQob3B0aW9ucy5wYXJlbnRFbCkubGVuZ3RoP29wdGlvbnMucGFyZW50RWw6dGhpcy5wYXJlbnRFbCksdGhpcy5jb250YWluZXI9JChEUlBUZW1wbGF0ZSkuYXBwZW5kVG8odGhpcy5wYXJlbnRFbCksdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMsY2IpO3ZhciBjPXRoaXMuY29udGFpbmVyOyQuZWFjaCh0aGlzLmJ1dHRvbkNsYXNzZXMsZnVuY3Rpb24oaWR4LHZhbCl7Yy5maW5kKCJidXR0b24iKS5hZGRDbGFzcyh2YWwpfSksdGhpcy5jb250YWluZXIuZmluZCgiLmRhdGVyYW5nZXBpY2tlcl9zdGFydF9pbnB1dCBsYWJlbCIpLmh0bWwodGhpcy5sb2NhbGUuZnJvbUxhYmVsKSx0aGlzLmNvbnRhaW5lci5maW5kKCIuZGF0ZXJhbmdlcGlja2VyX2VuZF9pbnB1dCBsYWJlbCIpLmh0bWwodGhpcy5sb2NhbGUudG9MYWJlbCksdGhpcy5hcHBseUNsYXNzLmxlbmd0aCYmdGhpcy5jb250YWluZXIuZmluZCgiLmFwcGx5QnRuIikuYWRkQ2xhc3ModGhpcy5hcHBseUNsYXNzKSx0aGlzLmNhbmNlbENsYXNzLmxlbmd0aCYmdGhpcy5jb250YWluZXIuZmluZCgiLmNhbmNlbEJ0biIpLmFkZENsYXNzKHRoaXMuY2FuY2VsQ2xhc3MpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5hcHBseUJ0biIpLmh0bWwodGhpcy5sb2NhbGUuYXBwbHlMYWJlbCksdGhpcy5jb250YWluZXIuZmluZCgiLmNhbmNlbEJ0biIpLmh0bWwodGhpcy5sb2NhbGUuY2FuY2VsTGFiZWwpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhciIpLm9uKCJjbGljay5kYXRlcmFuZ2VwaWNrZXIiLCIucHJldiIsJC5wcm94eSh0aGlzLmNsaWNrUHJldix0aGlzKSkub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsIi5uZXh0IiwkLnByb3h5KHRoaXMuY2xpY2tOZXh0LHRoaXMpKS5vbigiY2xpY2suZGF0ZXJhbmdlcGlja2VyIiwidGQuYXZhaWxhYmxlIiwkLnByb3h5KHRoaXMuY2xpY2tEYXRlLHRoaXMpKS5vbigibW91c2VlbnRlci5kYXRlcmFuZ2VwaWNrZXIiLCJ0ZC5hdmFpbGFibGUiLCQucHJveHkodGhpcy5ob3ZlckRhdGUsdGhpcykpLm9uKCJtb3VzZWxlYXZlLmRhdGVyYW5nZXBpY2tlciIsInRkLmF2YWlsYWJsZSIsJC5wcm94eSh0aGlzLnVwZGF0ZUZvcm1JbnB1dHMsdGhpcykpLm9uKCJjaGFuZ2UuZGF0ZXJhbmdlcGlja2VyIiwic2VsZWN0LnllYXJzZWxlY3QiLCQucHJveHkodGhpcy51cGRhdGVNb250aFllYXIsdGhpcykpLm9uKCJjaGFuZ2UuZGF0ZXJhbmdlcGlja2VyIiwic2VsZWN0Lm1vbnRoc2VsZWN0IiwkLnByb3h5KHRoaXMudXBkYXRlTW9udGhZZWFyLHRoaXMpKS5vbigiY2hhbmdlLmRhdGVyYW5nZXBpY2tlciIsInNlbGVjdC5ob3Vyc2VsZWN0LHNlbGVjdC5taW51dGVzZWxlY3Qsc2VsZWN0LmFtcG1zZWxlY3QiLCQucHJveHkodGhpcy51cGRhdGVUaW1lLHRoaXMpKSx0aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIikub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsImJ1dHRvbi5hcHBseUJ0biIsJC5wcm94eSh0aGlzLmNsaWNrQXBwbHksdGhpcykpLm9uKCJjbGljay5kYXRlcmFuZ2VwaWNrZXIiLCJidXR0b24uY2FuY2VsQnRuIiwkLnByb3h5KHRoaXMuY2xpY2tDYW5jZWwsdGhpcykpLm9uKCJjbGljay5kYXRlcmFuZ2VwaWNrZXIiLCIuZGF0ZXJhbmdlcGlja2VyX3N0YXJ0X2lucHV0LC5kYXRlcmFuZ2VwaWNrZXJfZW5kX2lucHV0IiwkLnByb3h5KHRoaXMuc2hvd0NhbGVuZGFycyx0aGlzKSkub24oImNoYW5nZS5kYXRlcmFuZ2VwaWNrZXIiLCIuZGF0ZXJhbmdlcGlja2VyX3N0YXJ0X2lucHV0LC5kYXRlcmFuZ2VwaWNrZXJfZW5kX2lucHV0IiwkLnByb3h5KHRoaXMuaW5wdXRzQ2hhbmdlZCx0aGlzKSkub24oImtleWRvd24uZGF0ZXJhbmdlcGlja2VyIiwiLmRhdGVyYW5nZXBpY2tlcl9zdGFydF9pbnB1dCwuZGF0ZXJhbmdlcGlja2VyX2VuZF9pbnB1dCIsJC5wcm94eSh0aGlzLmlucHV0c0tleWRvd24sdGhpcykpLm9uKCJjbGljay5kYXRlcmFuZ2VwaWNrZXIiLCJsaSIsJC5wcm94eSh0aGlzLmNsaWNrUmFuZ2UsdGhpcykpLm9uKCJtb3VzZWVudGVyLmRhdGVyYW5nZXBpY2tlciIsImxpIiwkLnByb3h5KHRoaXMuZW50ZXJSYW5nZSx0aGlzKSkub24oIm1vdXNlbGVhdmUuZGF0ZXJhbmdlcGlja2VyIiwibGkiLCQucHJveHkodGhpcy51cGRhdGVGb3JtSW5wdXRzLHRoaXMpKSx0aGlzLmVsZW1lbnQuaXMoImlucHV0Iik/dGhpcy5lbGVtZW50Lm9uKHsiY2xpY2suZGF0ZXJhbmdlcGlja2VyIjokLnByb3h5KHRoaXMuc2hvdyx0aGlzKSwiZm9jdXMuZGF0ZXJhbmdlcGlja2VyIjokLnByb3h5KHRoaXMuc2hvdyx0aGlzKSwia2V5dXAuZGF0ZXJhbmdlcGlja2VyIjokLnByb3h5KHRoaXMudXBkYXRlRnJvbUNvbnRyb2wsdGhpcyl9KTp0aGlzLmVsZW1lbnQub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsJC5wcm94eSh0aGlzLnRvZ2dsZSx0aGlzKSl9O0RhdGVSYW5nZVBpY2tlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkRhdGVSYW5nZVBpY2tlcixzZXRPcHRpb25zOmZ1bmN0aW9uKG9wdGlvbnMsY2FsbGJhY2spe2lmKHRoaXMuc3RhcnREYXRlPW1vbWVudCgpLnN0YXJ0T2YoImRheSIpLHRoaXMuZW5kRGF0ZT1tb21lbnQoKS5lbmRPZigiZGF5IiksdGhpcy5taW5EYXRlPSExLHRoaXMubWF4RGF0ZT0hMSx0aGlzLmRhdGVMaW1pdD0hMSx0aGlzLnNob3dEcm9wZG93bnM9ITEsdGhpcy5zaG93V2Vla051bWJlcnM9ITEsdGhpcy50aW1lUGlja2VyPSExLHRoaXMudGltZVBpY2tlckluY3JlbWVudD0zMCx0aGlzLnRpbWVQaWNrZXIxMkhvdXI9ITAsdGhpcy5zaW5nbGVEYXRlUGlja2VyPSExLHRoaXMucmFuZ2VzPXt9LHRoaXMub3BlbnM9InJpZ2h0Iix0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoInB1bGwtcmlnaHQiKSYmKHRoaXMub3BlbnM9ImxlZnQiKSx0aGlzLmJ1dHRvbkNsYXNzZXM9WyJidG4iLCJidG4tc21hbGwgYnRuLXNtIl0sdGhpcy5hcHBseUNsYXNzPSJidG4tc3VjY2VzcyIsdGhpcy5jYW5jZWxDbGFzcz0iYnRuLWRlZmF1bHQiLHRoaXMuZm9ybWF0PSJNTS9ERC9ZWVlZIix0aGlzLnNlcGFyYXRvcj0iIC0gIix0aGlzLmxvY2FsZT17YXBwbHlMYWJlbDoiQXBwbHkiLGNhbmNlbExhYmVsOiJDYW5jZWwiLGZyb21MYWJlbDoiRnJvbSIsdG9MYWJlbDoiVG8iLHdlZWtMYWJlbDoiVyIsY3VzdG9tUmFuZ2VMYWJlbDoiQ3VzdG9tIFJhbmdlIixkYXlzT2ZXZWVrOm1vbWVudC53ZWVrZGF5c01pbigpLG1vbnRoTmFtZXM6bW9tZW50Lm1vbnRoc1Nob3J0KCksZmlyc3REYXk6bW9tZW50LmxvY2FsZURhdGEoKS5fd2Vlay5kb3d9LHRoaXMuY2I9ZnVuY3Rpb24oKXt9LCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5mb3JtYXQmJih0aGlzLmZvcm1hdD1vcHRpb25zLmZvcm1hdCksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLnNlcGFyYXRvciYmKHRoaXMuc2VwYXJhdG9yPW9wdGlvbnMuc2VwYXJhdG9yKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMuc3RhcnREYXRlJiYodGhpcy5zdGFydERhdGU9bW9tZW50KG9wdGlvbnMuc3RhcnREYXRlLHRoaXMuZm9ybWF0KSksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmVuZERhdGUmJih0aGlzLmVuZERhdGU9bW9tZW50KG9wdGlvbnMuZW5kRGF0ZSx0aGlzLmZvcm1hdCkpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5taW5EYXRlJiYodGhpcy5taW5EYXRlPW1vbWVudChvcHRpb25zLm1pbkRhdGUsdGhpcy5mb3JtYXQpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMubWF4RGF0ZSYmKHRoaXMubWF4RGF0ZT1tb21lbnQob3B0aW9ucy5tYXhEYXRlLHRoaXMuZm9ybWF0KSksIm9iamVjdCI9PXR5cGVvZiBvcHRpb25zLnN0YXJ0RGF0ZSYmKHRoaXMuc3RhcnREYXRlPW1vbWVudChvcHRpb25zLnN0YXJ0RGF0ZSkpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucy5lbmREYXRlJiYodGhpcy5lbmREYXRlPW1vbWVudChvcHRpb25zLmVuZERhdGUpKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMubWluRGF0ZSYmKHRoaXMubWluRGF0ZT1tb21lbnQob3B0aW9ucy5taW5EYXRlKSksIm9iamVjdCI9PXR5cGVvZiBvcHRpb25zLm1heERhdGUmJih0aGlzLm1heERhdGU9bW9tZW50KG9wdGlvbnMubWF4RGF0ZSkpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5hcHBseUNsYXNzJiYodGhpcy5hcHBseUNsYXNzPW9wdGlvbnMuYXBwbHlDbGFzcyksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmNhbmNlbENsYXNzJiYodGhpcy5jYW5jZWxDbGFzcz1vcHRpb25zLmNhbmNlbENsYXNzKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMuZGF0ZUxpbWl0JiYodGhpcy5kYXRlTGltaXQ9b3B0aW9ucy5kYXRlTGltaXQpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucy5sb2NhbGUmJigib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMubG9jYWxlLmRheXNPZldlZWsmJih0aGlzLmxvY2FsZS5kYXlzT2ZXZWVrPW9wdGlvbnMubG9jYWxlLmRheXNPZldlZWsuc2xpY2UoKSksIm9iamVjdCI9PXR5cGVvZiBvcHRpb25zLmxvY2FsZS5tb250aE5hbWVzJiYodGhpcy5sb2NhbGUubW9udGhOYW1lcz1vcHRpb25zLmxvY2FsZS5tb250aE5hbWVzLnNsaWNlKCkpLCJudW1iZXIiPT10eXBlb2Ygb3B0aW9ucy5sb2NhbGUuZmlyc3REYXkmJih0aGlzLmxvY2FsZS5maXJzdERheT1vcHRpb25zLmxvY2FsZS5maXJzdERheSksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmxvY2FsZS5hcHBseUxhYmVsJiYodGhpcy5sb2NhbGUuYXBwbHlMYWJlbD1vcHRpb25zLmxvY2FsZS5hcHBseUxhYmVsKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMubG9jYWxlLmNhbmNlbExhYmVsJiYodGhpcy5sb2NhbGUuY2FuY2VsTGFiZWw9b3B0aW9ucy5sb2NhbGUuY2FuY2VsTGFiZWwpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5sb2NhbGUuZnJvbUxhYmVsJiYodGhpcy5sb2NhbGUuZnJvbUxhYmVsPW9wdGlvbnMubG9jYWxlLmZyb21MYWJlbCksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmxvY2FsZS50b0xhYmVsJiYodGhpcy5sb2NhbGUudG9MYWJlbD1vcHRpb25zLmxvY2FsZS50b0xhYmVsKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMubG9jYWxlLndlZWtMYWJlbCYmKHRoaXMubG9jYWxlLndlZWtMYWJlbD1vcHRpb25zLmxvY2FsZS53ZWVrTGFiZWwpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5sb2NhbGUuY3VzdG9tUmFuZ2VMYWJlbCYmKHRoaXMubG9jYWxlLmN1c3RvbVJhbmdlTGFiZWw9b3B0aW9ucy5sb2NhbGUuY3VzdG9tUmFuZ2VMYWJlbCkpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5vcGVucyYmKHRoaXMub3BlbnM9b3B0aW9ucy5vcGVucyksImJvb2xlYW4iPT10eXBlb2Ygb3B0aW9ucy5zaG93V2Vla051bWJlcnMmJih0aGlzLnNob3dXZWVrTnVtYmVycz1vcHRpb25zLnNob3dXZWVrTnVtYmVycyksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmJ1dHRvbkNsYXNzZXMmJih0aGlzLmJ1dHRvbkNsYXNzZXM9W29wdGlvbnMuYnV0dG9uQ2xhc3Nlc10pLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucy5idXR0b25DbGFzc2VzJiYodGhpcy5idXR0b25DbGFzc2VzPW9wdGlvbnMuYnV0dG9uQ2xhc3NlcyksImJvb2xlYW4iPT10eXBlb2Ygb3B0aW9ucy5zaG93RHJvcGRvd25zJiYodGhpcy5zaG93RHJvcGRvd25zPW9wdGlvbnMuc2hvd0Ryb3Bkb3ducyksImJvb2xlYW4iPT10eXBlb2Ygb3B0aW9ucy5zaW5nbGVEYXRlUGlja2VyJiYodGhpcy5zaW5nbGVEYXRlUGlja2VyPW9wdGlvbnMuc2luZ2xlRGF0ZVBpY2tlcix0aGlzLnNpbmdsZURhdGVQaWNrZXImJih0aGlzLmVuZERhdGU9dGhpcy5zdGFydERhdGUuY2xvbmUoKSkpLCJib29sZWFuIj09dHlwZW9mIG9wdGlvbnMudGltZVBpY2tlciYmKHRoaXMudGltZVBpY2tlcj1vcHRpb25zLnRpbWVQaWNrZXIpLCJudW1iZXIiPT10eXBlb2Ygb3B0aW9ucy50aW1lUGlja2VySW5jcmVtZW50JiYodGhpcy50aW1lUGlja2VySW5jcmVtZW50PW9wdGlvbnMudGltZVBpY2tlckluY3JlbWVudCksImJvb2xlYW4iPT10eXBlb2Ygb3B0aW9ucy50aW1lUGlja2VyMTJIb3VyJiYodGhpcy50aW1lUGlja2VyMTJIb3VyPW9wdGlvbnMudGltZVBpY2tlcjEySG91ciksMCE9dGhpcy5sb2NhbGUuZmlyc3REYXkpZm9yKHZhciBpdGVyYXRvcj10aGlzLmxvY2FsZS5maXJzdERheTtpdGVyYXRvcj4wOyl0aGlzLmxvY2FsZS5kYXlzT2ZXZWVrLnB1c2godGhpcy5sb2NhbGUuZGF5c09mV2Vlay5zaGlmdCgpKSxpdGVyYXRvci0tO3ZhciBzdGFydCxlbmQscmFuZ2U7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBvcHRpb25zLnN0YXJ0RGF0ZSYmInVuZGVmaW5lZCI9PXR5cGVvZiBvcHRpb25zLmVuZERhdGUmJiQodGhpcy5lbGVtZW50KS5pcygiaW5wdXRbdHlwZT10ZXh0XSIpKXt2YXIgdmFsPSQodGhpcy5lbGVtZW50KS52YWwoKSxzcGxpdD12YWwuc3BsaXQodGhpcy5zZXBhcmF0b3IpO3N0YXJ0PWVuZD1udWxsLDI9PXNwbGl0Lmxlbmd0aD8oc3RhcnQ9bW9tZW50KHNwbGl0WzBdLHRoaXMuZm9ybWF0KSxlbmQ9bW9tZW50KHNwbGl0WzFdLHRoaXMuZm9ybWF0KSk6dGhpcy5zaW5nbGVEYXRlUGlja2VyJiYoc3RhcnQ9bW9tZW50KHZhbCx0aGlzLmZvcm1hdCksZW5kPW1vbWVudCh2YWwsdGhpcy5mb3JtYXQpKSxudWxsIT09c3RhcnQmJm51bGwhPT1lbmQmJih0aGlzLnN0YXJ0RGF0ZT1zdGFydCx0aGlzLmVuZERhdGU9ZW5kKX1pZigib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMucmFuZ2VzKXtmb3IocmFuZ2UgaW4gb3B0aW9ucy5yYW5nZXMpc3RhcnQ9bW9tZW50KG9wdGlvbnMucmFuZ2VzW3JhbmdlXVswXSksZW5kPW1vbWVudChvcHRpb25zLnJhbmdlc1tyYW5nZV1bMV0pLHRoaXMubWluRGF0ZSYmc3RhcnQuaXNCZWZvcmUodGhpcy5taW5EYXRlKSYmKHN0YXJ0PW1vbWVudCh0aGlzLm1pbkRhdGUpKSx0aGlzLm1heERhdGUmJmVuZC5pc0FmdGVyKHRoaXMubWF4RGF0ZSkmJihlbmQ9bW9tZW50KHRoaXMubWF4RGF0ZSkpLHRoaXMubWluRGF0ZSYmZW5kLmlzQmVmb3JlKHRoaXMubWluRGF0ZSl8fHRoaXMubWF4RGF0ZSYmc3RhcnQuaXNBZnRlcih0aGlzLm1heERhdGUpfHwodGhpcy5yYW5nZXNbcmFuZ2VdPVtzdGFydCxlbmRdKTt2YXIgbGlzdD0iPHVsPiI7Zm9yKHJhbmdlIGluIHRoaXMucmFuZ2VzKWxpc3QrPSI8bGk+IityYW5nZSsiPC9saT4iO2xpc3QrPSI8bGk+Iit0aGlzLmxvY2FsZS5jdXN0b21SYW5nZUxhYmVsKyI8L2xpPiIsbGlzdCs9IjwvdWw+Iix0aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIHVsIikucmVtb3ZlKCksdGhpcy5jb250YWluZXIuZmluZCgiLnJhbmdlcyIpLnByZXBlbmQobGlzdCl9aWYoImZ1bmN0aW9uIj09dHlwZW9mIGNhbGxiYWNrJiYodGhpcy5jYj1jYWxsYmFjayksdGhpcy50aW1lUGlja2VyfHwodGhpcy5zdGFydERhdGU9dGhpcy5zdGFydERhdGUuc3RhcnRPZigiZGF5IiksdGhpcy5lbmREYXRlPXRoaXMuZW5kRGF0ZS5lbmRPZigiZGF5IikpLHRoaXMuc2luZ2xlRGF0ZVBpY2tlcj8odGhpcy5vcGVucz0icmlnaHQiLHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCJzaW5nbGUiKSx0aGlzLmNvbnRhaW5lci5maW5kKCIuY2FsZW5kYXIucmlnaHQiKS5zaG93KCksdGhpcy5jb250YWluZXIuZmluZCgiLmNhbGVuZGFyLmxlZnQiKS5oaWRlKCksdGhpcy50aW1lUGlja2VyP3RoaXMuY29udGFpbmVyLmZpbmQoIi5yYW5nZXMgLmRhdGVyYW5nZXBpY2tlcl9zdGFydF9pbnB1dCwgLnJhbmdlcyAuZGF0ZXJhbmdlcGlja2VyX2VuZF9pbnB1dCIpLmhpZGUoKTp0aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIikuaGlkZSgpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhci5yaWdodCIpLmhhc0NsYXNzKCJzaW5nbGUiKXx8dGhpcy5jb250YWluZXIuZmluZCgiLmNhbGVuZGFyLnJpZ2h0IikuYWRkQ2xhc3MoInNpbmdsZSIpKToodGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoInNpbmdsZSIpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhci5yaWdodCIpLnJlbW92ZUNsYXNzKCJzaW5nbGUiKSx0aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIikuc2hvdygpKSx0aGlzLm9sZFN0YXJ0RGF0ZT10aGlzLnN0YXJ0RGF0ZS5jbG9uZSgpLHRoaXMub2xkRW5kRGF0ZT10aGlzLmVuZERhdGUuY2xvbmUoKSx0aGlzLm9sZENob3NlbkxhYmVsPXRoaXMuY2hvc2VuTGFiZWwsdGhpcy5sZWZ0Q2FsZW5kYXI9e21vbnRoOm1vbWVudChbdGhpcy5zdGFydERhdGUueWVhcigpLHRoaXMuc3RhcnREYXRlLm1vbnRoKCksMSx0aGlzLnN0YXJ0RGF0ZS5ob3VyKCksdGhpcy5zdGFydERhdGUubWludXRlKCldKSxjYWxlbmRhcjpbXX0sdGhpcy5yaWdodENhbGVuZGFyPXttb250aDptb21lbnQoW3RoaXMuZW5kRGF0ZS55ZWFyKCksdGhpcy5lbmREYXRlLm1vbnRoKCksMSx0aGlzLmVuZERhdGUuaG91cigpLHRoaXMuZW5kRGF0ZS5taW51dGUoKV0pLGNhbGVuZGFyOltdfSwicmlnaHQiPT10aGlzLm9wZW5zfHwiY2VudGVyIj09dGhpcy5vcGVucyl7dmFyIGxlZnQ9dGhpcy5jb250YWluZXIuZmluZCgiLmNhbGVuZGFyLmxlZnQiKSxyaWdodD10aGlzLmNvbnRhaW5lci5maW5kKCIuY2FsZW5kYXIucmlnaHQiKTtyaWdodC5oYXNDbGFzcygic2luZ2xlIikmJihyaWdodC5yZW1vdmVDbGFzcygic2luZ2xlIiksbGVmdC5hZGRDbGFzcygic2luZ2xlIikpLGxlZnQucmVtb3ZlQ2xhc3MoImxlZnQiKS5hZGRDbGFzcygicmlnaHQiKSxyaWdodC5yZW1vdmVDbGFzcygicmlnaHQiKS5hZGRDbGFzcygibGVmdCIpLHRoaXMuc2luZ2xlRGF0ZVBpY2tlciYmKGxlZnQuc2hvdygpLHJpZ2h0LmhpZGUoKSl9InVuZGVmaW5lZCIhPXR5cGVvZiBvcHRpb25zLnJhbmdlc3x8dGhpcy5zaW5nbGVEYXRlUGlja2VyfHx0aGlzLmNvbnRhaW5lci5hZGRDbGFzcygic2hvdy1jYWxlbmRhciIpLHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCJvcGVucyIrdGhpcy5vcGVucyksdGhpcy51cGRhdGVWaWV3KCksdGhpcy51cGRhdGVDYWxlbmRhcnMoKX0sc2V0U3RhcnREYXRlOmZ1bmN0aW9uKHN0YXJ0RGF0ZSl7InN0cmluZyI9PXR5cGVvZiBzdGFydERhdGUmJih0aGlzLnN0YXJ0RGF0ZT1tb21lbnQoc3RhcnREYXRlLHRoaXMuZm9ybWF0KSksIm9iamVjdCI9PXR5cGVvZiBzdGFydERhdGUmJih0aGlzLnN0YXJ0RGF0ZT1tb21lbnQoc3RhcnREYXRlKSksdGhpcy50aW1lUGlja2VyfHwodGhpcy5zdGFydERhdGU9dGhpcy5zdGFydERhdGUuc3RhcnRPZigiZGF5IikpLHRoaXMub2xkU3RhcnREYXRlPXRoaXMuc3RhcnREYXRlLmNsb25lKCksdGhpcy51cGRhdGVWaWV3KCksdGhpcy51cGRhdGVDYWxlbmRhcnMoKSx0aGlzLnVwZGF0ZUlucHV0VGV4dCgpfSxzZXRFbmREYXRlOmZ1bmN0aW9uKGVuZERhdGUpeyJzdHJpbmciPT10eXBlb2YgZW5kRGF0ZSYmKHRoaXMuZW5kRGF0ZT1tb21lbnQoZW5kRGF0ZSx0aGlzLmZvcm1hdCkpLCJvYmplY3QiPT10eXBlb2YgZW5kRGF0ZSYmKHRoaXMuZW5kRGF0ZT1tb21lbnQoZW5kRGF0ZSkpLHRoaXMudGltZVBpY2tlcnx8KHRoaXMuZW5kRGF0ZT10aGlzLmVuZERhdGUuZW5kT2YoImRheSIpKSx0aGlzLm9sZEVuZERhdGU9dGhpcy5lbmREYXRlLmNsb25lKCksdGhpcy51cGRhdGVWaWV3KCksdGhpcy51cGRhdGVDYWxlbmRhcnMoKSx0aGlzLnVwZGF0ZUlucHV0VGV4dCgpfSx1cGRhdGVWaWV3OmZ1bmN0aW9uKCl7dGhpcy5sZWZ0Q2FsZW5kYXIubW9udGgubW9udGgodGhpcy5zdGFydERhdGUubW9udGgoKSkueWVhcih0aGlzLnN0YXJ0RGF0ZS55ZWFyKCkpLmhvdXIodGhpcy5zdGFydERhdGUuaG91cigpKS5taW51dGUodGhpcy5zdGFydERhdGUubWludXRlKCkpLHRoaXMucmlnaHRDYWxlbmRhci5tb250aC5tb250aCh0aGlzLmVuZERhdGUubW9udGgoKSkueWVhcih0aGlzLmVuZERhdGUueWVhcigpKS5ob3VyKHRoaXMuZW5kRGF0ZS5ob3VyKCkpLm1pbnV0ZSh0aGlzLmVuZERhdGUubWludXRlKCkpLHRoaXMudXBkYXRlRm9ybUlucHV0cygpfSx1cGRhdGVGb3JtSW5wdXRzOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuZmluZCgiaW5wdXRbbmFtZT1kYXRlcmFuZ2VwaWNrZXJfc3RhcnRdIikudmFsKHRoaXMuc3RhcnREYXRlLmZvcm1hdCh0aGlzLmZvcm1hdCkpLHRoaXMuY29udGFpbmVyLmZpbmQoImlucHV0W25hbWU9ZGF0ZXJhbmdlcGlja2VyX2VuZF0iKS52YWwodGhpcy5lbmREYXRlLmZvcm1hdCh0aGlzLmZvcm1hdCkpLHRoaXMuc3RhcnREYXRlLmlzU2FtZSh0aGlzLmVuZERhdGUpfHx0aGlzLnN0YXJ0RGF0ZS5pc0JlZm9yZSh0aGlzLmVuZERhdGUpP3RoaXMuY29udGFpbmVyLmZpbmQoImJ1dHRvbi5hcHBseUJ0biIpLnJlbW92ZUF0dHIoImRpc2FibGVkIik6dGhpcy5jb250YWluZXIuZmluZCgiYnV0dG9uLmFwcGx5QnRuIikuYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpfSx1cGRhdGVGcm9tQ29udHJvbDpmdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudC5pcygiaW5wdXQiKSYmdGhpcy5lbGVtZW50LnZhbCgpLmxlbmd0aCl7dmFyIGRhdGVTdHJpbmc9dGhpcy5lbGVtZW50LnZhbCgpLnNwbGl0KHRoaXMuc2VwYXJhdG9yKSxzdGFydD1udWxsLGVuZD1udWxsOzI9PT1kYXRlU3RyaW5nLmxlbmd0aCYmKHN0YXJ0PW1vbWVudChkYXRlU3RyaW5nWzBdLHRoaXMuZm9ybWF0KSxlbmQ9bW9tZW50KGRhdGVTdHJpbmdbMV0sdGhpcy5mb3JtYXQpKSwodGhpcy5zaW5nbGVEYXRlUGlja2VyfHxudWxsPT09c3RhcnR8fG51bGw9PT1lbmQpJiYoc3RhcnQ9bW9tZW50KHRoaXMuZWxlbWVudC52YWwoKSx0aGlzLmZvcm1hdCksZW5kPXN0YXJ0KSxlbmQuaXNCZWZvcmUoc3RhcnQpfHwodGhpcy5vbGRTdGFydERhdGU9dGhpcy5zdGFydERhdGUuY2xvbmUoKSx0aGlzLm9sZEVuZERhdGU9dGhpcy5lbmREYXRlLmNsb25lKCksdGhpcy5zdGFydERhdGU9c3RhcnQsdGhpcy5lbmREYXRlPWVuZCx0aGlzLnN0YXJ0RGF0ZS5pc1NhbWUodGhpcy5vbGRTdGFydERhdGUpJiZ0aGlzLmVuZERhdGUuaXNTYW1lKHRoaXMub2xkRW5kRGF0ZSl8fHRoaXMubm90aWZ5KCksdGhpcy51cGRhdGVDYWxlbmRhcnMoKSl9fSxub3RpZnk6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLmNiKHRoaXMuc3RhcnREYXRlLHRoaXMuZW5kRGF0ZSx0aGlzLmNob3NlbkxhYmVsKX0sbW92ZTpmdW5jdGlvbigpe3ZhciBwYXJlbnRPZmZzZXQ9e3RvcDowLGxlZnQ6MH0scGFyZW50UmlnaHRFZGdlPSQod2luZG93KS53aWR0aCgpO3RoaXMucGFyZW50RWwuaXMoImJvZHkiKXx8KHBhcmVudE9mZnNldD17dG9wOnRoaXMucGFyZW50RWwub2Zmc2V0KCkudG9wLXRoaXMucGFyZW50RWwuc2Nyb2xsVG9wKCksbGVmdDp0aGlzLnBhcmVudEVsLm9mZnNldCgpLmxlZnQtdGhpcy5wYXJlbnRFbC5zY3JvbGxMZWZ0KCl9LHBhcmVudFJpZ2h0RWRnZT10aGlzLnBhcmVudEVsWzBdLmNsaWVudFdpZHRoK3RoaXMucGFyZW50RWwub2Zmc2V0KCkubGVmdCksImxlZnQiPT10aGlzLm9wZW5zPyh0aGlzLmNvbnRhaW5lci5jc3Moe3RvcDp0aGlzLmVsZW1lbnQub2Zmc2V0KCkudG9wK3RoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXBhcmVudE9mZnNldC50b3AscmlnaHQ6cGFyZW50UmlnaHRFZGdlLXRoaXMuZWxlbWVudC5vZmZzZXQoKS5sZWZ0LXRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksbGVmdDoiYXV0byJ9KSx0aGlzLmNvbnRhaW5lci5vZmZzZXQoKS5sZWZ0PDAmJnRoaXMuY29udGFpbmVyLmNzcyh7cmlnaHQ6ImF1dG8iLGxlZnQ6OX0pKToiY2VudGVyIj09dGhpcy5vcGVucz8odGhpcy5jb250YWluZXIuY3NzKHt0b3A6dGhpcy5lbGVtZW50Lm9mZnNldCgpLnRvcCt0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS1wYXJlbnRPZmZzZXQudG9wLGxlZnQ6dGhpcy5lbGVtZW50Lm9mZnNldCgpLmxlZnQtcGFyZW50T2Zmc2V0LmxlZnQrdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKS8yLXRoaXMuY29udGFpbmVyLm91dGVyV2lkdGgoKS8yLHJpZ2h0OiJhdXRvIn0pLHRoaXMuY29udGFpbmVyLm9mZnNldCgpLmxlZnQ8MCYmdGhpcy5jb250YWluZXIuY3NzKHtyaWdodDoiYXV0byIsbGVmdDo5fSkpOih0aGlzLmNvbnRhaW5lci5jc3Moe3RvcDp0aGlzLmVsZW1lbnQub2Zmc2V0KCkudG9wK3RoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXBhcmVudE9mZnNldC50b3AsbGVmdDp0aGlzLmVsZW1lbnQub2Zmc2V0KCkubGVmdC1wYXJlbnRPZmZzZXQubGVmdCxyaWdodDoiYXV0byJ9KSx0aGlzLmNvbnRhaW5lci5vZmZzZXQoKS5sZWZ0K3RoaXMuY29udGFpbmVyLm91dGVyV2lkdGgoKT4kKHdpbmRvdykud2lkdGgoKSYmdGhpcy5jb250YWluZXIuY3NzKHtsZWZ0OiJhdXRvIixyaWdodDowfSkpfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoImFjdGl2ZSIpP3RoaXMuaGlkZSgpOnRoaXMuc2hvdygpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5pc1Nob3dpbmd8fCh0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuY29udGFpbmVyLnNob3coKSx0aGlzLm1vdmUoKSx0aGlzLl9vdXRzaWRlQ2xpY2tQcm94eT0kLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMub3V0c2lkZUNsaWNrKGUpfSx0aGlzKSwkKGRvY3VtZW50KS5vbigibW91c2Vkb3duLmRhdGVyYW5nZXBpY2tlciIsdGhpcy5fb3V0c2lkZUNsaWNrUHJveHkpLm9uKCJjbGljay5kYXRlcmFuZ2VwaWNrZXIiLCJbZGF0YS10b2dnbGU9ZHJvcGRvd25dIix0aGlzLl9vdXRzaWRlQ2xpY2tQcm94eSkub24oImZvY3VzaW4uZGF0ZXJhbmdlcGlja2VyIix0aGlzLl9vdXRzaWRlQ2xpY2tQcm94eSksdGhpcy5pc1Nob3dpbmc9ITAsdGhpcy5lbGVtZW50LnRyaWdnZXIoInNob3cuZGF0ZXJhbmdlcGlja2VyIix0aGlzKSl9LG91dHNpZGVDbGljazpmdW5jdGlvbihlKXt2YXIgdGFyZ2V0PSQoZS50YXJnZXQpO3RhcmdldC5jbG9zZXN0KHRoaXMuZWxlbWVudCkubGVuZ3RofHx0YXJnZXQuY2xvc2VzdCh0aGlzLmNvbnRhaW5lcikubGVuZ3RofHx0YXJnZXQuY2xvc2VzdCgiLmNhbGVuZGFyLWRhdGUiKS5sZW5ndGh8fHRoaXMuaGlkZSgpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5pc1Nob3dpbmcmJigkKGRvY3VtZW50KS5vZmYoIm1vdXNlZG93bi5kYXRlcmFuZ2VwaWNrZXIiKS5vZmYoImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsIltkYXRhLXRvZ2dsZT1kcm9wZG93bl0iKS5vZmYoImZvY3VzaW4uZGF0ZXJhbmdlcGlja2VyIiksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLmNvbnRhaW5lci5oaWRlKCksdGhpcy5zdGFydERhdGUuaXNTYW1lKHRoaXMub2xkU3RhcnREYXRlKSYmdGhpcy5lbmREYXRlLmlzU2FtZSh0aGlzLm9sZEVuZERhdGUpfHx0aGlzLm5vdGlmeSgpLHRoaXMub2xkU3RhcnREYXRlPXRoaXMuc3RhcnREYXRlLmNsb25lKCksdGhpcy5vbGRFbmREYXRlPXRoaXMuZW5kRGF0ZS5jbG9uZSgpLHRoaXMuaXNTaG93aW5nPSExLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJoaWRlLmRhdGVyYW5nZXBpY2tlciIsdGhpcykpfSxlbnRlclJhbmdlOmZ1bmN0aW9uKGUpe3ZhciBsYWJlbD1lLnRhcmdldC5pbm5lckhUTUw7aWYobGFiZWw9PXRoaXMubG9jYWxlLmN1c3RvbVJhbmdlTGFiZWwpdGhpcy51cGRhdGVWaWV3KCk7ZWxzZXt2YXIgZGF0ZXM9dGhpcy5yYW5nZXNbbGFiZWxdO3RoaXMuY29udGFpbmVyLmZpbmQoImlucHV0W25hbWU9ZGF0ZXJhbmdlcGlja2VyX3N0YXJ0XSIpLnZhbChkYXRlc1swXS5mb3JtYXQodGhpcy5mb3JtYXQpKSx0aGlzLmNvbnRhaW5lci5maW5kKCJpbnB1dFtuYW1lPWRhdGVyYW5nZXBpY2tlcl9lbmRdIikudmFsKGRhdGVzWzFdLmZvcm1hdCh0aGlzLmZvcm1hdCkpfX0sc2hvd0NhbGVuZGFyczpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLmFkZENsYXNzKCJzaG93LWNhbGVuZGFyIiksdGhpcy5tb3ZlKCksdGhpcy5lbGVtZW50LnRyaWdnZXIoInNob3dDYWxlbmRhci5kYXRlcmFuZ2VwaWNrZXIiLHRoaXMpfSxoaWRlQ2FsZW5kYXJzOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoInNob3ctY2FsZW5kYXIiKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiaGlkZUNhbGVuZGFyLmRhdGVyYW5nZXBpY2tlciIsdGhpcyl9LGlucHV0c0NoYW5nZWQ6ZnVuY3Rpb24oZSl7dmFyIGVsPSQoZS50YXJnZXQpLGRhdGU9bW9tZW50KGVsLnZhbCgpLHRoaXMuZm9ybWF0KTtpZihkYXRlLmlzVmFsaWQoKSl7dmFyIHN0YXJ0RGF0ZSxlbmREYXRlOyJkYXRlcmFuZ2VwaWNrZXJfc3RhcnQiPT09ZWwuYXR0cigibmFtZSIpPyhzdGFydERhdGU9ZGF0ZSxlbmREYXRlPXRoaXMuZW5kRGF0ZSk6KHN0YXJ0RGF0ZT10aGlzLnN0YXJ0RGF0ZSxlbmREYXRlPWRhdGUpLHRoaXMuc2V0Q3VzdG9tRGF0ZXMoc3RhcnREYXRlLGVuZERhdGUpfX0saW5wdXRzS2V5ZG93bjpmdW5jdGlvbihlKXsxMz09PWUua2V5Q29kZSYmKHRoaXMuaW5wdXRzQ2hhbmdlZChlKSx0aGlzLm5vdGlmeSgpKX0sdXBkYXRlSW5wdXRUZXh0OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpJiYhdGhpcy5zaW5nbGVEYXRlUGlja2VyP3RoaXMuZWxlbWVudC52YWwodGhpcy5zdGFydERhdGUuZm9ybWF0KHRoaXMuZm9ybWF0KSt0aGlzLnNlcGFyYXRvcit0aGlzLmVuZERhdGUuZm9ybWF0KHRoaXMuZm9ybWF0KSk6dGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpJiZ0aGlzLmVsZW1lbnQudmFsKHRoaXMuZW5kRGF0ZS5mb3JtYXQodGhpcy5mb3JtYXQpKX0sY2xpY2tSYW5nZTpmdW5jdGlvbihlKXt2YXIgbGFiZWw9ZS50YXJnZXQuaW5uZXJIVE1MO2lmKHRoaXMuY2hvc2VuTGFiZWw9bGFiZWwsbGFiZWw9PXRoaXMubG9jYWxlLmN1c3RvbVJhbmdlTGFiZWwpdGhpcy5zaG93Q2FsZW5kYXJzKCk7ZWxzZXt2YXIgZGF0ZXM9dGhpcy5yYW5nZXNbbGFiZWxdO3RoaXMuc3RhcnREYXRlPWRhdGVzWzBdLHRoaXMuZW5kRGF0ZT1kYXRlc1sxXSx0aGlzLnRpbWVQaWNrZXJ8fCh0aGlzLnN0YXJ0RGF0ZS5zdGFydE9mKCJkYXkiKSx0aGlzLmVuZERhdGUuZW5kT2YoImRheSIpKSx0aGlzLmxlZnRDYWxlbmRhci5tb250aC5tb250aCh0aGlzLnN0YXJ0RGF0ZS5tb250aCgpKS55ZWFyKHRoaXMuc3RhcnREYXRlLnllYXIoKSkuaG91cih0aGlzLnN0YXJ0RGF0ZS5ob3VyKCkpLm1pbnV0ZSh0aGlzLnN0YXJ0RGF0ZS5taW51dGUoKSksdGhpcy5yaWdodENhbGVuZGFyLm1vbnRoLm1vbnRoKHRoaXMuZW5kRGF0ZS5tb250aCgpKS55ZWFyKHRoaXMuZW5kRGF0ZS55ZWFyKCkpLmhvdXIodGhpcy5lbmREYXRlLmhvdXIoKSkubWludXRlKHRoaXMuZW5kRGF0ZS5taW51dGUoKSksdGhpcy51cGRhdGVDYWxlbmRhcnMoKSx0aGlzLnVwZGF0ZUlucHV0VGV4dCgpLHRoaXMuaGlkZUNhbGVuZGFycygpLHRoaXMuaGlkZSgpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJhcHBseS5kYXRlcmFuZ2VwaWNrZXIiLHRoaXMpfX0sY2xpY2tQcmV2OmZ1bmN0aW9uKGUpe3ZhciBjYWw9JChlLnRhcmdldCkucGFyZW50cygiLmNhbGVuZGFyIik7Y2FsLmhhc0NsYXNzKCJsZWZ0Iik/dGhpcy5sZWZ0Q2FsZW5kYXIubW9udGguc3VidHJhY3QoMSwibW9udGgiKTp0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGguc3VidHJhY3QoMSwibW9udGgiKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpfSxjbGlja05leHQ6ZnVuY3Rpb24oZSl7dmFyIGNhbD0kKGUudGFyZ2V0KS5wYXJlbnRzKCIuY2FsZW5kYXIiKTtjYWwuaGFzQ2xhc3MoImxlZnQiKT90aGlzLmxlZnRDYWxlbmRhci5tb250aC5hZGQoMSwibW9udGgiKTp0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGguYWRkKDEsIm1vbnRoIiksdGhpcy51cGRhdGVDYWxlbmRhcnMoKX0saG92ZXJEYXRlOmZ1bmN0aW9uKGUpe3ZhciB0aXRsZT0kKGUudGFyZ2V0KS5hdHRyKCJkYXRhLXRpdGxlIikscm93PXRpdGxlLnN1YnN0cigxLDEpLGNvbD10aXRsZS5zdWJzdHIoMywxKSxjYWw9JChlLnRhcmdldCkucGFyZW50cygiLmNhbGVuZGFyIik7Y2FsLmhhc0NsYXNzKCJsZWZ0Iik/dGhpcy5jb250YWluZXIuZmluZCgiaW5wdXRbbmFtZT1kYXRlcmFuZ2VwaWNrZXJfc3RhcnRdIikudmFsKHRoaXMubGVmdENhbGVuZGFyLmNhbGVuZGFyW3Jvd11bY29sXS5mb3JtYXQodGhpcy5mb3JtYXQpKTp0aGlzLmNvbnRhaW5lci5maW5kKCJpbnB1dFtuYW1lPWRhdGVyYW5nZXBpY2tlcl9lbmRdIikudmFsKHRoaXMucmlnaHRDYWxlbmRhci5jYWxlbmRhcltyb3ddW2NvbF0uZm9ybWF0KHRoaXMuZm9ybWF0KSl9LHNldEN1c3RvbURhdGVzOmZ1bmN0aW9uKHN0YXJ0RGF0ZSxlbmREYXRlKXtpZih0aGlzLmNob3NlbkxhYmVsPXRoaXMubG9jYWxlLmN1c3RvbVJhbmdlTGFiZWwsc3RhcnREYXRlLmlzQWZ0ZXIoZW5kRGF0ZSkpe3ZhciBkaWZmZXJlbmNlPXRoaXMuZW5kRGF0ZS5kaWZmKHRoaXMuc3RhcnREYXRlKTtlbmREYXRlPW1vbWVudChzdGFydERhdGUpLmFkZChkaWZmZXJlbmNlLCJtcyIpfXRoaXMuc3RhcnREYXRlPXN0YXJ0RGF0ZSx0aGlzLmVuZERhdGU9ZW5kRGF0ZSx0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpfSxjbGlja0RhdGU6ZnVuY3Rpb24oZSl7dmFyIHN0YXJ0RGF0ZSxlbmREYXRlLHRpdGxlPSQoZS50YXJnZXQpLmF0dHIoImRhdGEtdGl0bGUiKSxyb3c9dGl0bGUuc3Vic3RyKDEsMSksY29sPXRpdGxlLnN1YnN0cigzLDEpLGNhbD0kKGUudGFyZ2V0KS5wYXJlbnRzKCIuY2FsZW5kYXIiKTtpZihjYWwuaGFzQ2xhc3MoImxlZnQiKSl7aWYoc3RhcnREYXRlPXRoaXMubGVmdENhbGVuZGFyLmNhbGVuZGFyW3Jvd11bY29sXSxlbmREYXRlPXRoaXMuZW5kRGF0ZSwib2JqZWN0Ij09dHlwZW9mIHRoaXMuZGF0ZUxpbWl0KXt2YXIgbWF4RGF0ZT1tb21lbnQoc3RhcnREYXRlKS5hZGQodGhpcy5kYXRlTGltaXQpLnN0YXJ0T2YoImRheSIpO2VuZERhdGUuaXNBZnRlcihtYXhEYXRlKSYmKGVuZERhdGU9bWF4RGF0ZSl9fWVsc2UgaWYoc3RhcnREYXRlPXRoaXMuc3RhcnREYXRlLGVuZERhdGU9dGhpcy5yaWdodENhbGVuZGFyLmNhbGVuZGFyW3Jvd11bY29sXSwib2JqZWN0Ij09dHlwZW9mIHRoaXMuZGF0ZUxpbWl0KXt2YXIgbWluRGF0ZT1tb21lbnQoZW5kRGF0ZSkuc3VidHJhY3QodGhpcy5kYXRlTGltaXQpLnN0YXJ0T2YoImRheSIpO3N0YXJ0RGF0ZS5pc0JlZm9yZShtaW5EYXRlKSYmKHN0YXJ0RGF0ZT1taW5EYXRlKX10aGlzLnNpbmdsZURhdGVQaWNrZXImJmNhbC5oYXNDbGFzcygibGVmdCIpP2VuZERhdGU9c3RhcnREYXRlLmNsb25lKCk6dGhpcy5zaW5nbGVEYXRlUGlja2VyJiZjYWwuaGFzQ2xhc3MoInJpZ2h0IikmJihzdGFydERhdGU9ZW5kRGF0ZS5jbG9uZSgpKSxjYWwuZmluZCgidGQiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksJChlLnRhcmdldCkuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuc2V0Q3VzdG9tRGF0ZXMoc3RhcnREYXRlLGVuZERhdGUpLHRoaXMudGltZVBpY2tlcnx8ZW5kRGF0ZS5lbmRPZigiZGF5IiksdGhpcy5zaW5nbGVEYXRlUGlja2VyJiYhdGhpcy50aW1lUGlja2VyJiZ0aGlzLmNsaWNrQXBwbHkoKX0sY2xpY2tBcHBseTpmdW5jdGlvbigpe3RoaXMudXBkYXRlSW5wdXRUZXh0KCksdGhpcy5oaWRlKCksdGhpcy5lbGVtZW50LnRyaWdnZXIoImFwcGx5LmRhdGVyYW5nZXBpY2tlciIsdGhpcyl9LGNsaWNrQ2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5zdGFydERhdGU9dGhpcy5vbGRTdGFydERhdGUsdGhpcy5lbmREYXRlPXRoaXMub2xkRW5kRGF0ZSx0aGlzLmNob3NlbkxhYmVsPXRoaXMub2xkQ2hvc2VuTGFiZWwsdGhpcy51cGRhdGVWaWV3KCksdGhpcy51cGRhdGVDYWxlbmRhcnMoKSx0aGlzLmhpZGUoKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2FuY2VsLmRhdGVyYW5nZXBpY2tlciIsdGhpcyl9LHVwZGF0ZU1vbnRoWWVhcjpmdW5jdGlvbihlKXt2YXIgaXNMZWZ0PSQoZS50YXJnZXQpLmNsb3Nlc3QoIi5jYWxlbmRhciIpLmhhc0NsYXNzKCJsZWZ0IiksbGVmdE9yUmlnaHQ9aXNMZWZ0PyJsZWZ0IjoicmlnaHQiLGNhbD10aGlzLmNvbnRhaW5lci5maW5kKCIuY2FsZW5kYXIuIitsZWZ0T3JSaWdodCksbW9udGg9cGFyc2VJbnQoY2FsLmZpbmQoIi5tb250aHNlbGVjdCIpLnZhbCgpLDEwKSx5ZWFyPWNhbC5maW5kKCIueWVhcnNlbGVjdCIpLnZhbCgpO3RoaXNbbGVmdE9yUmlnaHQrIkNhbGVuZGFyIl0ubW9udGgubW9udGgobW9udGgpLnllYXIoeWVhciksdGhpcy51cGRhdGVDYWxlbmRhcnMoKX0sdXBkYXRlVGltZTpmdW5jdGlvbihlKXt2YXIgY2FsPSQoZS50YXJnZXQpLmNsb3Nlc3QoIi5jYWxlbmRhciIpLGlzTGVmdD1jYWwuaGFzQ2xhc3MoImxlZnQiKSxob3VyPXBhcnNlSW50KGNhbC5maW5kKCIuaG91cnNlbGVjdCIpLnZhbCgpLDEwKSxtaW51dGU9cGFyc2VJbnQoY2FsLmZpbmQoIi5taW51dGVzZWxlY3QiKS52YWwoKSwxMCk7aWYodGhpcy50aW1lUGlja2VyMTJIb3VyKXt2YXIgYW1wbT1jYWwuZmluZCgiLmFtcG1zZWxlY3QiKS52YWwoKTsiUE0iPT09YW1wbSYmMTI+aG91ciYmKGhvdXIrPTEyKSwiQU0iPT09YW1wbSYmMTI9PT1ob3VyJiYoaG91cj0wKX1pZihpc0xlZnQpe3ZhciBzdGFydD10aGlzLnN0YXJ0RGF0ZS5jbG9uZSgpO3N0YXJ0LmhvdXIoaG91ciksc3RhcnQubWludXRlKG1pbnV0ZSksdGhpcy5zdGFydERhdGU9c3RhcnQsdGhpcy5sZWZ0Q2FsZW5kYXIubW9udGguaG91cihob3VyKS5taW51dGUobWludXRlKSx0aGlzLnNpbmdsZURhdGVQaWNrZXImJih0aGlzLmVuZERhdGU9c3RhcnQuY2xvbmUoKSl9ZWxzZXt2YXIgZW5kPXRoaXMuZW5kRGF0ZS5jbG9uZSgpO2VuZC5ob3VyKGhvdXIpLGVuZC5taW51dGUobWludXRlKSx0aGlzLmVuZERhdGU9ZW5kLHRoaXMuc2luZ2xlRGF0ZVBpY2tlciYmKHRoaXMuc3RhcnREYXRlPWVuZC5jbG9uZSgpKSx0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGguaG91cihob3VyKS5taW51dGUobWludXRlKX10aGlzLnVwZGF0ZUNhbGVuZGFycygpfSx1cGRhdGVDYWxlbmRhcnM6ZnVuY3Rpb24oKXt0aGlzLmxlZnRDYWxlbmRhci5jYWxlbmRhcj10aGlzLmJ1aWxkQ2FsZW5kYXIodGhpcy5sZWZ0Q2FsZW5kYXIubW9udGgubW9udGgoKSx0aGlzLmxlZnRDYWxlbmRhci5tb250aC55ZWFyKCksdGhpcy5sZWZ0Q2FsZW5kYXIubW9udGguaG91cigpLHRoaXMubGVmdENhbGVuZGFyLm1vbnRoLm1pbnV0ZSgpLCJsZWZ0IiksdGhpcy5yaWdodENhbGVuZGFyLmNhbGVuZGFyPXRoaXMuYnVpbGRDYWxlbmRhcih0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGgubW9udGgoKSx0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGgueWVhcigpLHRoaXMucmlnaHRDYWxlbmRhci5tb250aC5ob3VyKCksdGhpcy5yaWdodENhbGVuZGFyLm1vbnRoLm1pbnV0ZSgpLCJyaWdodCIpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhci5sZWZ0IikuZW1wdHkoKS5odG1sKHRoaXMucmVuZGVyQ2FsZW5kYXIodGhpcy5sZWZ0Q2FsZW5kYXIuY2FsZW5kYXIsdGhpcy5zdGFydERhdGUsdGhpcy5taW5EYXRlLHRoaXMubWF4RGF0ZSwibGVmdCIpKSx0aGlzLmNvbnRhaW5lci5maW5kKCIuY2FsZW5kYXIucmlnaHQiKS5lbXB0eSgpLmh0bWwodGhpcy5yZW5kZXJDYWxlbmRhcih0aGlzLnJpZ2h0Q2FsZW5kYXIuY2FsZW5kYXIsdGhpcy5lbmREYXRlLHRoaXMuc2luZ2xlRGF0ZVBpY2tlcj90aGlzLm1pbkRhdGU6dGhpcy5zdGFydERhdGUsdGhpcy5tYXhEYXRlLCJyaWdodCIpKSx0aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIGxpIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciBjdXN0b21SYW5nZT0hMCxpPTA7Zm9yKHZhciByYW5nZSBpbiB0aGlzLnJhbmdlcyl0aGlzLnRpbWVQaWNrZXI/dGhpcy5zdGFydERhdGUuaXNTYW1lKHRoaXMucmFuZ2VzW3JhbmdlXVswXSkmJnRoaXMuZW5kRGF0ZS5pc1NhbWUodGhpcy5yYW5nZXNbcmFuZ2VdWzFdKSYmKGN1c3RvbVJhbmdlPSExLHRoaXMuY2hvc2VuTGFiZWw9dGhpcy5jb250YWluZXIuZmluZCgiLnJhbmdlcyBsaTplcSgiK2krIikiKS5hZGRDbGFzcygiYWN0aXZlIikuaHRtbCgpKTp0aGlzLnN0YXJ0RGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKT09dGhpcy5yYW5nZXNbcmFuZ2VdWzBdLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiZ0aGlzLmVuZERhdGUuZm9ybWF0KCJZWVlZLU1NLUREIik9PXRoaXMucmFuZ2VzW3JhbmdlXVsxXS5mb3JtYXQoIllZWVktTU0tREQiKSYmKGN1c3RvbVJhbmdlPSExLHRoaXMuY2hvc2VuTGFiZWw9dGhpcy5jb250YWluZXIuZmluZCgiLnJhbmdlcyBsaTplcSgiK2krIikiKS5hZGRDbGFzcygiYWN0aXZlIikuaHRtbCgpKSxpKys7Y3VzdG9tUmFuZ2UmJih0aGlzLmNob3NlbkxhYmVsPXRoaXMuY29udGFpbmVyLmZpbmQoIi5yYW5nZXMgbGk6bGFzdCIpLmFkZENsYXNzKCJhY3RpdmUiKS5odG1sKCksdGhpcy5zaG93Q2FsZW5kYXJzKCkpfSxidWlsZENhbGVuZGFyOmZ1bmN0aW9uKG1vbnRoLHllYXIsaG91cixtaW51dGUsc2lkZSl7dmFyIGksZGF5c0luTW9udGg9bW9tZW50KFt5ZWFyLG1vbnRoXSkuZGF5c0luTW9udGgoKSxmaXJzdERheT1tb21lbnQoW3llYXIsbW9udGgsMV0pLGxhc3REYXk9bW9tZW50KFt5ZWFyLG1vbnRoLGRheXNJbk1vbnRoXSksbGFzdE1vbnRoPW1vbWVudChmaXJzdERheSkuc3VidHJhY3QoMSwibW9udGgiKS5tb250aCgpLGxhc3RZZWFyPW1vbWVudChmaXJzdERheSkuc3VidHJhY3QoMSwibW9udGgiKS55ZWFyKCksZGF5c0luTGFzdE1vbnRoPW1vbWVudChbbGFzdFllYXIsbGFzdE1vbnRoXSkuZGF5c0luTW9udGgoKSxkYXlPZldlZWs9Zmlyc3REYXkuZGF5KCksY2FsZW5kYXI9W107Zm9yKGNhbGVuZGFyLmZpcnN0RGF5PWZpcnN0RGF5LGNhbGVuZGFyLmxhc3REYXk9bGFzdERheSxpPTA7Nj5pO2krKyljYWxlbmRhcltpXT1bXTt2YXIgc3RhcnREYXk9ZGF5c0luTGFzdE1vbnRoLWRheU9mV2Vlayt0aGlzLmxvY2FsZS5maXJzdERheSsxO3N0YXJ0RGF5PmRheXNJbkxhc3RNb250aCYmKHN0YXJ0RGF5LT03KSxkYXlPZldlZWs9PXRoaXMubG9jYWxlLmZpcnN0RGF5JiYoc3RhcnREYXk9ZGF5c0luTGFzdE1vbnRoLTYpO3ZhciBjb2wscm93LGN1ckRhdGU9bW9tZW50KFtsYXN0WWVhcixsYXN0TW9udGgsc3RhcnREYXksMTIsbWludXRlXSk7Zm9yKGk9MCxjb2w9MCxyb3c9MDs0Mj5pO2krKyxjb2wrKyxjdXJEYXRlPW1vbWVudChjdXJEYXRlKS5hZGQoMjQsImhvdXIiKSlpPjAmJmNvbCU3PT09MCYmKGNvbD0wLHJvdysrKSxjYWxlbmRhcltyb3ddW2NvbF09Y3VyRGF0ZS5jbG9uZSgpLmhvdXIoaG91ciksY3VyRGF0ZS5ob3VyKDEyKSx0aGlzLm1pbkRhdGUmJmNhbGVuZGFyW3Jvd11bY29sXS5mb3JtYXQoIllZWVktTU0tREQiKT09dGhpcy5taW5EYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiZjYWxlbmRhcltyb3ddW2NvbF0uaXNCZWZvcmUodGhpcy5taW5EYXRlKSYmImxlZnQiPT1zaWRlJiYoY2FsZW5kYXJbcm93XVtjb2xdPXRoaXMubWluRGF0ZS5jbG9uZSgpKSx0aGlzLm1heERhdGUmJmNhbGVuZGFyW3Jvd11bY29sXS5mb3JtYXQoIllZWVktTU0tREQiKT09dGhpcy5tYXhEYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiZjYWxlbmRhcltyb3ddW2NvbF0uaXNBZnRlcih0aGlzLm1heERhdGUpJiYicmlnaHQiPT1zaWRlJiYoY2FsZW5kYXJbcm93XVtjb2xdPXRoaXMubWF4RGF0ZS5jbG9uZSgpKTtyZXR1cm4gY2FsZW5kYXJ9LHJlbmRlckRyb3Bkb3duczpmdW5jdGlvbihzZWxlY3RlZCxtaW5EYXRlLG1heERhdGUpe2Zvcih2YXIgY3VycmVudE1vbnRoPXNlbGVjdGVkLm1vbnRoKCksY3VycmVudFllYXI9c2VsZWN0ZWQueWVhcigpLG1heFllYXI9bWF4RGF0ZSYmbWF4RGF0ZS55ZWFyKCl8fGN1cnJlbnRZZWFyKzUsbWluWWVhcj1taW5EYXRlJiZtaW5EYXRlLnllYXIoKXx8Y3VycmVudFllYXItNTAsbW9udGhIdG1sPSc8c2VsZWN0IGNsYXNzPSJtb250aHNlbGVjdCI+Jyxpbk1pblllYXI9Y3VycmVudFllYXI9PW1pblllYXIsaW5NYXhZZWFyPWN1cnJlbnRZZWFyPT1tYXhZZWFyLG09MDsxMj5tO20rKykoIWluTWluWWVhcnx8bT49bWluRGF0ZS5tb250aCgpKSYmKCFpbk1heFllYXJ8fG08PW1heERhdGUubW9udGgoKSkmJihtb250aEh0bWwrPSI8b3B0aW9uIHZhbHVlPSciK20rIiciKyhtPT09Y3VycmVudE1vbnRoPyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+Iit0aGlzLmxvY2FsZS5tb250aE5hbWVzW21dKyI8L29wdGlvbj4iKTttb250aEh0bWwrPSI8L3NlbGVjdD4iO2Zvcih2YXIgeWVhckh0bWw9JzxzZWxlY3QgY2xhc3M9InllYXJzZWxlY3QiPicseT1taW5ZZWFyO21heFllYXI+PXk7eSsrKXllYXJIdG1sKz0nPG9wdGlvbiB2YWx1ZT0iJyt5KyciJysoeT09PWN1cnJlbnRZZWFyPycgc2VsZWN0ZWQ9InNlbGVjdGVkIic6IiIpKyI+Iit5KyI8L29wdGlvbj4iO3JldHVybiB5ZWFySHRtbCs9Ijwvc2VsZWN0PiIsbW9udGhIdG1sK3llYXJIdG1sfSxyZW5kZXJDYWxlbmRhcjpmdW5jdGlvbihjYWxlbmRhcixzZWxlY3RlZCxtaW5EYXRlLG1heERhdGUsc2lkZSl7dmFyIGh0bWw9JzxkaXYgY2xhc3M9ImNhbGVuZGFyLWRhdGUiPic7aHRtbCs9Jzx0YWJsZSBjbGFzcz0idGFibGUtY29uZGVuc2VkIj4nLGh0bWwrPSI8dGhlYWQ+IixodG1sKz0iPHRyPiIsdGhpcy5zaG93V2Vla051bWJlcnMmJihodG1sKz0iPHRoPjwvdGg+IiksaHRtbCs9IW1pbkRhdGV8fG1pbkRhdGUuaXNCZWZvcmUoY2FsZW5kYXIuZmlyc3REYXkpPyc8dGggY2xhc3M9InByZXYgYXZhaWxhYmxlIj48aSBjbGFzcz0iZmEgZmEtYXJyb3ctbGVmdCBpY29uLWFycm93LWxlZnQgZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy1sZWZ0Ij48L2k+PC90aD4nOiI8dGg+PC90aD4iO3ZhciBkYXRlSHRtbD10aGlzLmxvY2FsZS5tb250aE5hbWVzW2NhbGVuZGFyWzFdWzFdLm1vbnRoKCldK2NhbGVuZGFyWzFdWzFdLmZvcm1hdCgiIFlZWVkiKTt0aGlzLnNob3dEcm9wZG93bnMmJihkYXRlSHRtbD10aGlzLnJlbmRlckRyb3Bkb3ducyhjYWxlbmRhclsxXVsxXSxtaW5EYXRlLG1heERhdGUpKSxodG1sKz0nPHRoIGNvbHNwYW49IjUiIGNsYXNzPSJtb250aCI+JytkYXRlSHRtbCsiPC90aD4iLGh0bWwrPSFtYXhEYXRlfHxtYXhEYXRlLmlzQWZ0ZXIoY2FsZW5kYXIubGFzdERheSk/Jzx0aCBjbGFzcz0ibmV4dCBhdmFpbGFibGUiPjxpIGNsYXNzPSJmYSBmYS1hcnJvdy1yaWdodCBpY29uLWFycm93LXJpZ2h0IGdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctcmlnaHQiPjwvaT48L3RoPic6Ijx0aD48L3RoPiIsaHRtbCs9IjwvdHI+IixodG1sKz0iPHRyPiIsdGhpcy5zaG93V2Vla051bWJlcnMmJihodG1sKz0nPHRoIGNsYXNzPSJ3ZWVrIj4nK3RoaXMubG9jYWxlLndlZWtMYWJlbCsiPC90aD4iKSwkLmVhY2godGhpcy5sb2NhbGUuZGF5c09mV2VlayxmdW5jdGlvbihpbmRleCxkYXlPZldlZWspe2h0bWwrPSI8dGg+IitkYXlPZldlZWsrIjwvdGg+In0pLGh0bWwrPSI8L3RyPiIsaHRtbCs9IjwvdGhlYWQ+IixodG1sKz0iPHRib2R5PiI7Zm9yKHZhciByb3c9MDs2PnJvdztyb3crKyl7aHRtbCs9Ijx0cj4iLHRoaXMuc2hvd1dlZWtOdW1iZXJzJiYoaHRtbCs9Jzx0ZCBjbGFzcz0id2VlayI+JytjYWxlbmRhcltyb3ddWzBdLndlZWsoKSsiPC90ZD4iKTtmb3IodmFyIGNvbD0wOzc+Y29sO2NvbCsrKXt2YXIgY25hbWU9ImF2YWlsYWJsZSAiO2NuYW1lKz1jYWxlbmRhcltyb3ddW2NvbF0ubW9udGgoKT09Y2FsZW5kYXJbMV1bMV0ubW9udGgoKT8iIjoib2ZmIixtaW5EYXRlJiZjYWxlbmRhcltyb3ddW2NvbF0uaXNCZWZvcmUobWluRGF0ZSwiZGF5Iil8fG1heERhdGUmJmNhbGVuZGFyW3Jvd11bY29sXS5pc0FmdGVyKG1heERhdGUsImRheSIpP2NuYW1lPSIgb2ZmIGRpc2FibGVkICI6Y2FsZW5kYXJbcm93XVtjb2xdLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT1zZWxlY3RlZC5mb3JtYXQoIllZWVktTU0tREQiKT8oY25hbWUrPSIgYWN0aXZlICIsY2FsZW5kYXJbcm93XVtjb2xdLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT10aGlzLnN0YXJ0RGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKSYmKGNuYW1lKz0iIHN0YXJ0LWRhdGUgIiksY2FsZW5kYXJbcm93XVtjb2xdLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT10aGlzLmVuZERhdGUuZm9ybWF0KCJZWVlZLU1NLUREIikmJihjbmFtZSs9IiBlbmQtZGF0ZSAiKSk6Y2FsZW5kYXJbcm93XVtjb2xdPj10aGlzLnN0YXJ0RGF0ZSYmY2FsZW5kYXJbcm93XVtjb2xdPD10aGlzLmVuZERhdGUmJihjbmFtZSs9IiBpbi1yYW5nZSAiLGNhbGVuZGFyW3Jvd11bY29sXS5pc1NhbWUodGhpcy5zdGFydERhdGUpJiYoY25hbWUrPSIgc3RhcnQtZGF0ZSAiKSxjYWxlbmRhcltyb3ddW2NvbF0uaXNTYW1lKHRoaXMuZW5kRGF0ZSkmJihjbmFtZSs9IiBlbmQtZGF0ZSAiKSk7CnZhciB0aXRsZT0iciIrcm93KyJjIitjb2w7aHRtbCs9Jzx0ZCBjbGFzcz0iJytjbmFtZS5yZXBsYWNlKC9ccysvZywiICIpLnJlcGxhY2UoL15ccz8oLio/KVxzPyQvLCIkMSIpKyciIGRhdGEtdGl0bGU9IicrdGl0bGUrJyI+JytjYWxlbmRhcltyb3ddW2NvbF0uZGF0ZSgpKyI8L3RkPiJ9aHRtbCs9IjwvdHI+In1odG1sKz0iPC90Ym9keT4iLGh0bWwrPSI8L3RhYmxlPiIsaHRtbCs9IjwvZGl2PiI7dmFyIGk7aWYodGhpcy50aW1lUGlja2VyKXtodG1sKz0nPGRpdiBjbGFzcz0iY2FsZW5kYXItdGltZSI+JyxodG1sKz0nPHNlbGVjdCBjbGFzcz0iaG91cnNlbGVjdCI+Jzt2YXIgbWluX2hvdXI9MCxtYXhfaG91cj0yMzttaW5EYXRlJiYoImxlZnQiPT1zaWRlfHx0aGlzLnNpbmdsZURhdGVQaWNrZXIpJiZzZWxlY3RlZC5mb3JtYXQoIllZWVktTU0tREQiKT09bWluRGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKSYmKG1pbl9ob3VyPW1pbkRhdGUuaG91cigpLHNlbGVjdGVkLmhvdXIoKTxtaW5faG91ciYmc2VsZWN0ZWQuaG91cihtaW5faG91ciksdGhpcy50aW1lUGlja2VyMTJIb3VyJiZtaW5faG91cj49MTImJnNlbGVjdGVkLmhvdXIoKT49MTImJihtaW5faG91ci09MTIpLHRoaXMudGltZVBpY2tlcjEySG91ciYmMTI9PW1pbl9ob3VyJiYobWluX2hvdXI9MSkpLG1heERhdGUmJigicmlnaHQiPT1zaWRlfHx0aGlzLnNpbmdsZURhdGVQaWNrZXIpJiZzZWxlY3RlZC5mb3JtYXQoIllZWVktTU0tREQiKT09bWF4RGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKSYmKG1heF9ob3VyPW1heERhdGUuaG91cigpLHNlbGVjdGVkLmhvdXIoKT5tYXhfaG91ciYmc2VsZWN0ZWQuaG91cihtYXhfaG91ciksdGhpcy50aW1lUGlja2VyMTJIb3VyJiZtYXhfaG91cj49MTImJnNlbGVjdGVkLmhvdXIoKT49MTImJihtYXhfaG91ci09MTIpKTt2YXIgc3RhcnQ9MCxlbmQ9MjMsc2VsZWN0ZWRfaG91cj1zZWxlY3RlZC5ob3VyKCk7Zm9yKHRoaXMudGltZVBpY2tlcjEySG91ciYmKHN0YXJ0PTEsZW5kPTEyLHNlbGVjdGVkX2hvdXI+PTEyJiYoc2VsZWN0ZWRfaG91ci09MTIpLDA9PT1zZWxlY3RlZF9ob3VyJiYoc2VsZWN0ZWRfaG91cj0xMikpLGk9c3RhcnQ7ZW5kPj1pO2krKylodG1sKz1pPT1zZWxlY3RlZF9ob3VyPyc8b3B0aW9uIHZhbHVlPSInK2krJyIgc2VsZWN0ZWQ9InNlbGVjdGVkIj4nK2krIjwvb3B0aW9uPiI6bWluX2hvdXI+aXx8aT5tYXhfaG91cj8nPG9wdGlvbiB2YWx1ZT0iJytpKyciIGRpc2FibGVkPSJkaXNhYmxlZCIgY2xhc3M9ImRpc2FibGVkIj4nK2krIjwvb3B0aW9uPiI6JzxvcHRpb24gdmFsdWU9IicraSsnIj4nK2krIjwvb3B0aW9uPiI7aHRtbCs9Ijwvc2VsZWN0PiA6ICIsaHRtbCs9JzxzZWxlY3QgY2xhc3M9Im1pbnV0ZXNlbGVjdCI+Jzt2YXIgbWluX21pbnV0ZT0wLG1heF9taW51dGU9NTk7Zm9yKG1pbkRhdGUmJigibGVmdCI9PXNpZGV8fHRoaXMuc2luZ2xlRGF0ZVBpY2tlcikmJnNlbGVjdGVkLmZvcm1hdCgiWVlZWS1NTS1ERCBoIEEiKT09bWluRGF0ZS5mb3JtYXQoIllZWVktTU0tREQgaCBBIikmJihtaW5fbWludXRlPW1pbkRhdGUubWludXRlKCksc2VsZWN0ZWQubWludXRlKCk8bWluX21pbnV0ZSYmc2VsZWN0ZWQubWludXRlKG1pbl9taW51dGUpKSxtYXhEYXRlJiYoInJpZ2h0Ij09c2lkZXx8dGhpcy5zaW5nbGVEYXRlUGlja2VyKSYmc2VsZWN0ZWQuZm9ybWF0KCJZWVlZLU1NLUREIGggQSIpPT1tYXhEYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCBoIEEiKSYmKG1heF9taW51dGU9bWF4RGF0ZS5taW51dGUoKSxzZWxlY3RlZC5taW51dGUoKT5tYXhfbWludXRlJiZzZWxlY3RlZC5taW51dGUobWF4X21pbnV0ZSkpLGk9MDs2MD5pO2krPXRoaXMudGltZVBpY2tlckluY3JlbWVudCl7dmFyIG51bT1pOzEwPm51bSYmKG51bT0iMCIrbnVtKSxodG1sKz1pPT1zZWxlY3RlZC5taW51dGUoKT8nPG9wdGlvbiB2YWx1ZT0iJytpKyciIHNlbGVjdGVkPSJzZWxlY3RlZCI+JytudW0rIjwvb3B0aW9uPiI6bWluX21pbnV0ZT5pfHxpPm1heF9taW51dGU/JzxvcHRpb24gdmFsdWU9IicraSsnIiBkaXNhYmxlZD0iZGlzYWJsZWQiIGNsYXNzPSJkaXNhYmxlZCI+JytudW0rIjwvb3B0aW9uPiI6JzxvcHRpb24gdmFsdWU9IicraSsnIj4nK251bSsiPC9vcHRpb24+In1pZihodG1sKz0iPC9zZWxlY3Q+ICIsdGhpcy50aW1lUGlja2VyMTJIb3VyKXtodG1sKz0nPHNlbGVjdCBjbGFzcz0iYW1wbXNlbGVjdCI+Jzt2YXIgYW1faHRtbD0iIixwbV9odG1sPSIiO21pbkRhdGUmJigibGVmdCI9PXNpZGV8fHRoaXMuc2luZ2xlRGF0ZVBpY2tlcikmJnNlbGVjdGVkLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT1taW5EYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiZtaW5EYXRlLmhvdXIoKT49MTImJihhbV9odG1sPScgZGlzYWJsZWQ9ImRpc2FibGVkIiBjbGFzcz0iZGlzYWJsZWQiJyksbWF4RGF0ZSYmKCJyaWdodCI9PXNpZGV8fHRoaXMuc2luZ2xlRGF0ZVBpY2tlcikmJnNlbGVjdGVkLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT1tYXhEYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiZtYXhEYXRlLmhvdXIoKTwxMiYmKHBtX2h0bWw9JyBkaXNhYmxlZD0iZGlzYWJsZWQiIGNsYXNzPSJkaXNhYmxlZCInKSxodG1sKz1zZWxlY3RlZC5ob3VyKCk+PTEyPyc8b3B0aW9uIHZhbHVlPSJBTSInK2FtX2h0bWwrJz5BTTwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IlBNIiBzZWxlY3RlZD0ic2VsZWN0ZWQiJytwbV9odG1sKyI+UE08L29wdGlvbj4iOic8b3B0aW9uIHZhbHVlPSJBTSIgc2VsZWN0ZWQ9InNlbGVjdGVkIicrYW1faHRtbCsnPkFNPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iUE0iJytwbV9odG1sKyI+UE08L29wdGlvbj4iLGh0bWwrPSI8L3NlbGVjdD4ifWh0bWwrPSI8L2Rpdj4ifXJldHVybiBodG1sfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLmVsZW1lbnQub2ZmKCIuZGF0ZXJhbmdlcGlja2VyIiksdGhpcy5lbGVtZW50LnJlbW92ZURhdGEoImRhdGVyYW5nZXBpY2tlciIpfX0sJC5mbi5kYXRlcmFuZ2VwaWNrZXI9ZnVuY3Rpb24ob3B0aW9ucyxjYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlbD0kKHRoaXMpO2VsLmRhdGEoImRhdGVyYW5nZXBpY2tlciIpJiZlbC5kYXRhKCJkYXRlcmFuZ2VwaWNrZXIiKS5yZW1vdmUoKSxlbC5kYXRhKCJkYXRlcmFuZ2VwaWNrZXIiLG5ldyBEYXRlUmFuZ2VQaWNrZXIoZWwsb3B0aW9ucyxjYikpfSksdGhpc319KSxmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7dmFyIEZpbGVzdHlsZT1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGU9W10sdGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpfTtGaWxlc3R5bGUucHJvdG90eXBlPXtjbGVhcjpmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQudmFsKCIiKSx0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIjp0ZXh0IikudmFsKCIiKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cigic3R5bGUiKS5yZW1vdmVEYXRhKCJmaWxlc3R5bGUiKS52YWwoIiIpLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUucmVtb3ZlKCl9LGRpc2FibGVkOmZ1bmN0aW9uKHZhbHVlKXtpZih2YWx1ZT09PSEwKXRoaXMub3B0aW9ucy5kaXNhYmxlZHx8KHRoaXMuJGVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCIpLmF0dHIoImRpc2FibGVkIiwidHJ1ZSIpLHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCk7ZWxzZXtpZih2YWx1ZSE9PSExKXJldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWQ7dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgibGFiZWwiKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMSl9fSxidXR0b25CZWZvcmU6ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlPT09ITApdGhpcy5vcHRpb25zLmJ1dHRvbkJlZm9yZXx8KHRoaXMub3B0aW9ucy5idXR0b25CZWZvcmU9ITAsdGhpcy5vcHRpb25zLmlucHV0JiYodGhpcy4kZWxlbWVudEZpbGVzdHlsZS5yZW1vdmUoKSx0aGlzLmNvbnN0cnVjdG9yKCksdGhpcy5wdXNoTmFtZUZpbGVzKCkpKTtlbHNle2lmKHZhbHVlIT09ITEpcmV0dXJuIHRoaXMub3B0aW9ucy5idXR0b25CZWZvcmU7dGhpcy5vcHRpb25zLmJ1dHRvbkJlZm9yZSYmKHRoaXMub3B0aW9ucy5idXR0b25CZWZvcmU9ITEsdGhpcy5vcHRpb25zLmlucHV0JiYodGhpcy4kZWxlbWVudEZpbGVzdHlsZS5yZW1vdmUoKSx0aGlzLmNvbnN0cnVjdG9yKCksdGhpcy5wdXNoTmFtZUZpbGVzKCkpKX19LGljb246ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlPT09ITApdGhpcy5vcHRpb25zLmljb258fCh0aGlzLm9wdGlvbnMuaWNvbj0hMCx0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIikucHJlcGVuZCh0aGlzLmh0bWxJY29uKCkpKTtlbHNle2lmKHZhbHVlIT09ITEpcmV0dXJuIHRoaXMub3B0aW9ucy5pY29uO3RoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLmljb249ITEsdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJpIikucmVtb3ZlKCkpfX0saW5wdXQ6ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlPT09ITApe2lmKCF0aGlzLm9wdGlvbnMuaW5wdXQpe3RoaXMub3B0aW9ucy5pbnB1dD0hMCx0aGlzLm9wdGlvbnMuYnV0dG9uQmVmb3JlP3RoaXMuJGVsZW1lbnRGaWxlc3R5bGUuYXBwZW5kKHRoaXMuaHRtbElucHV0KCkpOnRoaXMuJGVsZW1lbnRGaWxlc3R5bGUucHJlcGVuZCh0aGlzLmh0bWxJbnB1dCgpKSx0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIi5xdWFudC1maWxlcy1maWxlc3R5bGUiKS5yZW1vdmUoKTt2YXIgY29udGVudD0iIixmaWxlcz1bXTt2b2lkIDA9PT10aGlzLiRlbGVtZW50WzBdLmZpbGVzP2ZpbGVzWzBdPXtuYW1lOnRoaXMuJGVsZW1lbnRbMF0udmFsdWV9OmZpbGVzPXRoaXMuJGVsZW1lbnRbMF0uZmlsZXM7Zm9yKHZhciBpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKWNvbnRlbnQrPWZpbGVzW2ldLm5hbWUuc3BsaXQoIlxcIikucG9wKCkrIiwgIjsiIiE9PWNvbnRlbnQmJnRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiOnRleHQiKS52YWwoY29udGVudC5yZXBsYWNlKC9cLCAkL2csIiIpKX19ZWxzZXtpZih2YWx1ZSE9PSExKXJldHVybiB0aGlzLm9wdGlvbnMuaW5wdXQ7aWYodGhpcy5vcHRpb25zLmlucHV0KXt0aGlzLm9wdGlvbnMuaW5wdXQ9ITEsdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCI6dGV4dCIpLnJlbW92ZSgpO3ZhciBmaWxlcz1bXTtpZih2b2lkIDA9PT10aGlzLiRlbGVtZW50WzBdLmZpbGVzP2ZpbGVzWzBdPXtuYW1lOnRoaXMuJGVsZW1lbnRbMF0udmFsdWV9OmZpbGVzPXRoaXMuJGVsZW1lbnRbMF0uZmlsZXMsZmlsZXMubGVuZ3RoPjApe3ZhciBzdHlsZTtzdHlsZT0tMSE9PXRoaXMub3B0aW9ucy5jbGFzc0J1dHRvbi5zZWFyY2goL2J0bi1pbnZlcnNlfGJ0bi1wcmltYXJ5fGJ0bi1kYW5nZXJ8YnRuLXdhcm5pbmd8YnRuLXN1Y2Nlc3MvaSk/J3N0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7IGNvbG9yOiAwMDA7Iic6J3N0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7IGNvbG9yOiBmZmY7IicsdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCIpLmFwcGVuZCgiIDxzcGFuICIrc3R5bGUrJyBjbGFzcz0icXVhbnQtZmlsZXMtZmlsZXN0eWxlIGJhZGdlIj4nK2ZpbGVzLmxlbmd0aCsiPC9zcGFuPiIpfX19fSxidXR0b25UZXh0OmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdm9pZCAwPT09dmFsdWU/dGhpcy5vcHRpb25zLmJ1dHRvblRleHQ6KHRoaXMub3B0aW9ucy5idXR0b25UZXh0PXZhbHVlLHZvaWQgdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCBzcGFuIikuaHRtbCh0aGlzLm9wdGlvbnMuYnV0dG9uVGV4dCkpfSxjbGFzc0J1dHRvbjpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZvaWQgMD09PXZhbHVlP3RoaXMub3B0aW9ucy5jbGFzc0J1dHRvbjoodGhpcy5vcHRpb25zLmNsYXNzQnV0dG9uPXZhbHVlLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgibGFiZWwiKS5hdHRyKHsiY2xhc3MiOnRoaXMub3B0aW9ucy5jbGFzc0J1dHRvbn0pLC0xIT09dGhpcy5vcHRpb25zLmNsYXNzQnV0dG9uLnNlYXJjaCgvYnRuLWludmVyc2V8YnRuLXByaW1hcnl8YnRuLWRhbmdlcnxidG4td2FybmluZ3xidG4tc3VjY2Vzcy9pKT90aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIGkiKS5hZGRDbGFzcygiaWNvbi13aGl0ZSIpOnRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgibGFiZWwgaSIpLnJlbW92ZUNsYXNzKCJpY29uLXdoaXRlIiksdm9pZCAwKX0sY2xhc3NJY29uOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdm9pZCAwPT09dmFsdWU/dGhpcy5vcHRpb25zLmNsYXNzSWNvbjoodGhpcy5vcHRpb25zLmNsYXNzSWNvbj12YWx1ZSx2b2lkIHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgibGFiZWwiKS5maW5kKCJpIikuYXR0cigtMSE9PXRoaXMub3B0aW9ucy5jbGFzc0J1dHRvbi5zZWFyY2goL2J0bi1pbnZlcnNlfGJ0bi1wcmltYXJ5fGJ0bi1kYW5nZXJ8YnRuLXdhcm5pbmd8YnRuLXN1Y2Nlc3MvaSk/eyJjbGFzcyI6Imljb24td2hpdGUgIit0aGlzLm9wdGlvbnMuY2xhc3NJY29ufTp7ImNsYXNzIjp0aGlzLm9wdGlvbnMuY2xhc3NJY29ufSkpfSxjbGFzc0lucHV0OmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdm9pZCAwPT09dmFsdWU/dGhpcy5vcHRpb25zLmNsYXNzSW5wdXQ6KHRoaXMub3B0aW9ucy5jbGFzc0lucHV0PXZhbHVlLHZvaWQgdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCI6dGV4dCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc0lucHV0KSl9LGh0bWxJY29uOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmljb24pe3ZhciBjb2xvckljb249IiI7cmV0dXJuLTEhPT10aGlzLm9wdGlvbnMuY2xhc3NCdXR0b24uc2VhcmNoKC9idG4taW52ZXJzZXxidG4tcHJpbWFyeXxidG4tZGFuZ2VyfGJ0bi13YXJuaW5nfGJ0bi1zdWNjZXNzL2kpJiYoY29sb3JJY29uPSIgaWNvbi13aGl0ZSAiKSwnPGkgY2xhc3M9IicrY29sb3JJY29uK3RoaXMub3B0aW9ucy5jbGFzc0ljb24rJyI+PC9pPiAnfXJldHVybiIifSxodG1sSW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlucHV0Pyc8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9IicrdGhpcy5vcHRpb25zLmNsYXNzSW5wdXQrJyIgZGlzYWJsZWQ+ICc6IiJ9LHB1c2hOYW1lRmlsZXM6ZnVuY3Rpb24oKXt2YXIgY29udGVudD0iIixmaWxlcz1bXTt2b2lkIDA9PT10aGlzLiRlbGVtZW50WzBdLmZpbGVzP2ZpbGVzWzBdPXtuYW1lOnRoaXMuJGVsZW1lbnQudmFsdWV9OmZpbGVzPXRoaXMuJGVsZW1lbnRbMF0uZmlsZXM7Zm9yKHZhciBpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKWNvbnRlbnQrPWZpbGVzW2ldLm5hbWUuc3BsaXQoIlxcIikucG9wKCkrIiwgIjt0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIjp0ZXh0IikudmFsKCIiIT09Y29udGVudD9jb250ZW50LnJlcGxhY2UoL1wsICQvZywiIik6IiIpfSxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3ZhciBfc2VsZj10aGlzLGh0bWw9IiIsaWQ9dGhpcy4kZWxlbWVudC5hdHRyKCJpZCIpLGZpbGVzPVtdOyIiIT09aWQmJmlkfHwoaWQ9ImZpbGVzdHlsZS0iKyQoIi5ib290c3RyYXAtZmlsZXN0eWxlIikubGVuZ3RoLHRoaXMuJGVsZW1lbnQuYXR0cih7aWQ6aWR9KSksaHRtbD10aGlzLm9wdGlvbnMuYnV0dG9uQmVmb3JlPyc8bGFiZWwgZm9yPSInK2lkKyciIHN0eWxlPSJtYXJnaW4tcmlnaHQ6IDRweDsiIGNsYXNzPSInK3RoaXMub3B0aW9ucy5jbGFzc0J1dHRvbisnIiAnKyh0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/J2Rpc2FibGVkPSJ0cnVlIic6IiIpKyI+Iit0aGlzLmh0bWxJY29uKCkrIjxzcGFuPiIrdGhpcy5vcHRpb25zLmJ1dHRvblRleHQrIjwvc3Bhbj48L2xhYmVsPiIrdGhpcy5odG1sSW5wdXQoKTp0aGlzLmh0bWxJbnB1dCgpKyc8bGFiZWwgZm9yPSInK2lkKyciIGNsYXNzPSInK3RoaXMub3B0aW9ucy5jbGFzc0J1dHRvbisnIiAnKyh0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/J2Rpc2FibGVkPSJ0cnVlIic6IiIpKyI+ICIrdGhpcy5odG1sSWNvbigpKyI8c3Bhbj4iK3RoaXMub3B0aW9ucy5idXR0b25UZXh0KyI8L3NwYW4+PC9sYWJlbD4iLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGU9JCgnPGRpdiBjbGFzcz0iYm9vdHN0cmFwLWZpbGVzdHlsZSIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsiPicraHRtbCsiPC9kaXY+Iik7dmFyICRsYWJlbD10aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIiksJGxhYmVsRm9jdXNhYmxlQ29udGFpbmVyPSRsYWJlbC5wYXJlbnQoKTskbGFiZWxGb2N1c2FibGVDb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikua2V5cHJlc3MoZnVuY3Rpb24oZSl7KDEzPT09ZS5rZXlDb2RlfHwzMj09PWUuY2hhckNvZGUpJiYkbGFiZWwuY2xpY2soKX0pLHRoaXMuJGVsZW1lbnQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGNsaXA6InJlY3QoMCwwLDAsMCkifSkuYXR0cigidGFiaW5kZXgiLCItMSIpLmFmdGVyKHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy4kZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsInRydWUiKSx0aGlzLiRlbGVtZW50LmNoYW5nZShmdW5jdGlvbigpe3ZhciBjb250ZW50PSIiO3ZvaWQgMD09PXRoaXMuZmlsZXM/ZmlsZXNbMF09e25hbWU6dGhpcy52YWx1ZX06ZmlsZXM9dGhpcy5maWxlcztmb3IodmFyIGk9MDtpPGZpbGVzLmxlbmd0aDtpKyspY29udGVudCs9ZmlsZXNbaV0ubmFtZS5zcGxpdCgiXFwiKS5wb3AoKSsiLCAiO2lmKF9zZWxmLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIjp0ZXh0IikudmFsKCIiIT09Y29udGVudD9jb250ZW50LnJlcGxhY2UoL1wsICQvZywiIik6IiIpLDA9PV9zZWxmLm9wdGlvbnMuaW5wdXQpe3ZhciBzdHlsZTtzdHlsZT0tMSE9PV9zZWxmLm9wdGlvbnMuY2xhc3NCdXR0b24uc2VhcmNoKC9idG4taW52ZXJzZXxidG4tcHJpbWFyeXxidG4tZGFuZ2VyfGJ0bi13YXJuaW5nfGJ0bi1zdWNjZXNzL2kpPydzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogI2ZmZiAhaW1wb3J0YW50OyBjb2xvcjogIzAwMDsiJzonc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICMwMDAgIWltcG9ydGFudDsgY29sb3I6ICNmZmY7IicsMD09X3NlbGYuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiLnF1YW50LWZpbGVzLWZpbGVzdHlsZSIpLmxlbmd0aD9fc2VsZi4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCIpLmFwcGVuZCgiIDxzcGFuICIrc3R5bGUrJyBjbGFzcz0icXVhbnQtZmlsZXMtZmlsZXN0eWxlIGJhZGdlIj4nK2ZpbGVzLmxlbmd0aCsiPC9zcGFuPiIpOjA9PWZpbGVzLmxlbmd0aD9fc2VsZi4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCIucXVhbnQtZmlsZXMtZmlsZXN0eWxlIikucmVtb3ZlKCk6X3NlbGYuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiLnF1YW50LWZpbGVzLWZpbGVzdHlsZSIpLmh0bWwoZmlsZXMubGVuZ3RoKX1lbHNlIF9zZWxmLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIi5xdWFudC1maWxlcy1maWxlc3R5bGUiKS5yZW1vdmUoKX0pLHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgvZmlyZWZveC9pKT4tMSYmdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCIpLmNsaWNrKGZ1bmN0aW9uKCl7cmV0dXJuIF9zZWxmLiRlbGVtZW50LmNsaWNrKCksITF9KX19O3ZhciBvbGQ9JC5mbi5maWxlc3R5bGU7JC5mbi5maWxlc3R5bGU9ZnVuY3Rpb24ob3B0aW9uLHZhbHVlKXt2YXIgZ2V0PSIiLGVsZW1lbnQ9dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoImZpbGUiPT09JCh0aGlzKS5hdHRyKCJ0eXBlIikpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiZmlsZXN0eWxlIiksb3B0aW9ucz0kLmV4dGVuZCh7fSwkLmZuLmZpbGVzdHlsZS5kZWZhdWx0cyxvcHRpb24sIm9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbik7ZGF0YXx8KCR0aGlzLmRhdGEoImZpbGVzdHlsZSIsZGF0YT1uZXcgRmlsZXN0eWxlKHRoaXMsb3B0aW9ucykpLGRhdGEuY29uc3RydWN0b3IoKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJihnZXQ9ZGF0YVtvcHRpb25dKHZhbHVlKSl9fSk7cmV0dXJuIHZvaWQgMCE9PXR5cGVvZiBnZXQ/Z2V0OmVsZW1lbnR9LCQuZm4uZmlsZXN0eWxlLmRlZmF1bHRzPXtidXR0b25UZXh0OiJDaG9vc2UgZmlsZSIsaW5wdXQ6ITAsaWNvbjohMCxidXR0b25CZWZvcmU6ITEsZGlzYWJsZWQ6ITEsY2xhc3NCdXR0b246ImJ0biBidG4tZGVmYXVsdCIsY2xhc3NJbnB1dDoiaW5wdXQtbGFyZ2UiLGNsYXNzSWNvbjoiaWNvbi1mb2xkZXItb3BlbiJ9LCQuZm4uZmlsZXN0eWxlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5maWxlc3R5bGU9b2xkLHRoaXN9LCQoZnVuY3Rpb24oKXskKCIuZmlsZXN0eWxlIikuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLG9wdGlvbnM9e2lucHV0OiJmYWxzZSI9PT0kdGhpcy5hdHRyKCJkYXRhLWlucHV0Iik/ITE6ITAsaWNvbjoiZmFsc2UiPT09JHRoaXMuYXR0cigiZGF0YS1pY29uIik/ITE6ITAsYnV0dG9uQmVmb3JlOiJ0cnVlIj09PSR0aGlzLmF0dHIoImRhdGEtYnV0dG9uQmVmb3JlIik/ITA6ITEsZGlzYWJsZWQ6InRydWUiPT09JHRoaXMuYXR0cigiZGF0YS1kaXNhYmxlZCIpPyEwOiExLGJ1dHRvblRleHQ6JHRoaXMuYXR0cigiZGF0YS1idXR0b25UZXh0IiksY2xhc3NCdXR0b246JHRoaXMuYXR0cigiZGF0YS1jbGFzc0J1dHRvbiIpLGNsYXNzSW5wdXQ6JHRoaXMuYXR0cigiZGF0YS1jbGFzc0lucHV0IiksY2xhc3NJY29uOiR0aGlzLmF0dHIoImRhdGEtY2xhc3NJY29uIil9OyR0aGlzLmZpbGVzdHlsZShvcHRpb25zKX0pfSl9KHdpbmRvdy5qUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMuYWZmaXgiKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247ZGF0YXx8JHRoaXMuZGF0YSgiYnMuYWZmaXgiLGRhdGE9bmV3IEFmZml4KHRoaXMsb3B0aW9ucykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKX0pfXZhciBBZmZpeD1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxBZmZpeC5ERUZBVUxUUyxvcHRpb25zKSx0aGlzLiR0YXJnZXQ9JCh0aGlzLm9wdGlvbnMudGFyZ2V0KS5vbigic2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpIiwkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSkub24oImNsaWNrLmJzLmFmZml4LmRhdGEtYXBpIiwkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsdGhpcykpLHRoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLmFmZml4ZWQ9dGhpcy51bnBpbj10aGlzLnBpbm5lZE9mZnNldD1udWxsLHRoaXMuY2hlY2tQb3NpdGlvbigpfTtBZmZpeC5WRVJTSU9OPSIzLjIuMCIsQWZmaXguUkVTRVQ9ImFmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20iLEFmZml4LkRFRkFVTFRTPXtvZmZzZXQ6MCx0YXJnZXQ6d2luZG93fSxBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5waW5uZWRPZmZzZXQpcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0O3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCJhZmZpeCIpO3ZhciBzY3JvbGxUb3A9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLHBvc2l0aW9uPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7cmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0PXBvc2l0aW9uLnRvcC1zY3JvbGxUb3B9LEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcD1mdW5jdGlvbigpe3NldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sdGhpcyksMSl9LEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy4kZWxlbWVudC5pcygiOnZpc2libGUiKSl7dmFyIHNjcm9sbEhlaWdodD0kKGRvY3VtZW50KS5oZWlnaHQoKSxzY3JvbGxUb3A9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLHBvc2l0aW9uPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCksb2Zmc2V0PXRoaXMub3B0aW9ucy5vZmZzZXQsb2Zmc2V0VG9wPW9mZnNldC50b3Asb2Zmc2V0Qm90dG9tPW9mZnNldC5ib3R0b207Im9iamVjdCIhPXR5cGVvZiBvZmZzZXQmJihvZmZzZXRCb3R0b209b2Zmc2V0VG9wPW9mZnNldCksImZ1bmN0aW9uIj09dHlwZW9mIG9mZnNldFRvcCYmKG9mZnNldFRvcD1vZmZzZXQudG9wKHRoaXMuJGVsZW1lbnQpKSwiZnVuY3Rpb24iPT10eXBlb2Ygb2Zmc2V0Qm90dG9tJiYob2Zmc2V0Qm90dG9tPW9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudCkpO3ZhciBhZmZpeD1udWxsIT10aGlzLnVucGluJiZzY3JvbGxUb3ArdGhpcy51bnBpbjw9cG9zaXRpb24udG9wPyExOm51bGwhPW9mZnNldEJvdHRvbSYmcG9zaXRpb24udG9wK3RoaXMuJGVsZW1lbnQuaGVpZ2h0KCk+PXNjcm9sbEhlaWdodC1vZmZzZXRCb3R0b20/ImJvdHRvbSI6bnVsbCE9b2Zmc2V0VG9wJiZvZmZzZXRUb3A+PXNjcm9sbFRvcD8idG9wIjohMTtpZih0aGlzLmFmZml4ZWQhPT1hZmZpeCl7bnVsbCE9dGhpcy51bnBpbiYmdGhpcy4kZWxlbWVudC5jc3MoInRvcCIsIiIpO3ZhciBhZmZpeFR5cGU9ImFmZml4IisoYWZmaXg/Ii0iK2FmZml4OiIiKSxlPSQuRXZlbnQoYWZmaXhUeXBlKyIuYnMuYWZmaXgiKTt0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuYWZmaXhlZD1hZmZpeCx0aGlzLnVucGluPSJib3R0b20iPT1hZmZpeD90aGlzLmdldFBpbm5lZE9mZnNldCgpOm51bGwsdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoYWZmaXhUeXBlKS50cmlnZ2VyKCQuRXZlbnQoYWZmaXhUeXBlLnJlcGxhY2UoImFmZml4IiwiYWZmaXhlZCIpKSksImJvdHRvbSI9PWFmZml4JiZ0aGlzLiRlbGVtZW50Lm9mZnNldCh7dG9wOnNjcm9sbEhlaWdodC10aGlzLiRlbGVtZW50LmhlaWdodCgpLW9mZnNldEJvdHRvbX0pKX19fTt2YXIgb2xkPSQuZm4uYWZmaXg7JC5mbi5hZmZpeD1QbHVnaW4sJC5mbi5hZmZpeC5Db25zdHJ1Y3Rvcj1BZmZpeCwkLmZuLmFmZml4Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5hZmZpeD1vbGQsdGhpc30sJCh3aW5kb3cpLm9uKCJsb2FkIixmdW5jdGlvbigpeyQoJ1tkYXRhLXNweT0iYWZmaXgiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgJHNweT0kKHRoaXMpLGRhdGE9JHNweS5kYXRhKCk7ZGF0YS5vZmZzZXQ9ZGF0YS5vZmZzZXR8fHt9LGRhdGEub2Zmc2V0Qm90dG9tJiYoZGF0YS5vZmZzZXQuYm90dG9tPWRhdGEub2Zmc2V0Qm90dG9tKSxkYXRhLm9mZnNldFRvcCYmKGRhdGEub2Zmc2V0LnRvcD1kYXRhLm9mZnNldFRvcCksUGx1Z2luLmNhbGwoJHNweSxkYXRhKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5hbGVydCIpO2RhdGF8fCR0aGlzLmRhdGEoImJzLmFsZXJ0IixkYXRhPW5ldyBBbGVydCh0aGlzKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKX0pfXZhciBkaXNtaXNzPSdbZGF0YS1kaXNtaXNzPSJhbGVydCJdJyxBbGVydD1mdW5jdGlvbihlbCl7JChlbCkub24oImNsaWNrIixkaXNtaXNzLHRoaXMuY2xvc2UpfTtBbGVydC5WRVJTSU9OPSIzLjIuMCIsQWxlcnQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKXskcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoImNsb3NlZC5icy5hbGVydCIpLnJlbW92ZSgpfXZhciAkdGhpcz0kKHRoaXMpLHNlbGVjdG9yPSR0aGlzLmF0dHIoImRhdGEtdGFyZ2V0Iik7c2VsZWN0b3J8fChzZWxlY3Rvcj0kdGhpcy5hdHRyKCJocmVmIiksc2VsZWN0b3I9c2VsZWN0b3ImJnNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciAkcGFyZW50PSQoc2VsZWN0b3IpO2UmJmUucHJldmVudERlZmF1bHQoKSwkcGFyZW50Lmxlbmd0aHx8KCRwYXJlbnQ9JHRoaXMuaGFzQ2xhc3MoImFsZXJ0Iik/JHRoaXM6JHRoaXMucGFyZW50KCkpLCRwYXJlbnQudHJpZ2dlcihlPSQuRXZlbnQoImNsb3NlLmJzLmFsZXJ0IikpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgkcGFyZW50LnJlbW92ZUNsYXNzKCJpbiIpLCQuc3VwcG9ydC50cmFuc2l0aW9uJiYkcGFyZW50Lmhhc0NsYXNzKCJmYWRlIik/JHBhcmVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIscmVtb3ZlRWxlbWVudCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpyZW1vdmVFbGVtZW50KCkpfTt2YXIgb2xkPSQuZm4uYWxlcnQ7JC5mbi5hbGVydD1QbHVnaW4sJC5mbi5hbGVydC5Db25zdHJ1Y3Rvcj1BbGVydCwkLmZuLmFsZXJ0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5hbGVydD1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpIixkaXNtaXNzLEFsZXJ0LnByb3RvdHlwZS5jbG9zZSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5idXR0b24iKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247ZGF0YXx8JHRoaXMuZGF0YSgiYnMuYnV0dG9uIixkYXRhPW5ldyBCdXR0b24odGhpcyxvcHRpb25zKSksInRvZ2dsZSI9PW9wdGlvbj9kYXRhLnRvZ2dsZSgpOm9wdGlvbiYmZGF0YS5zZXRTdGF0ZShvcHRpb24pfSl9dmFyIEJ1dHRvbj1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sQnV0dG9uLkRFRkFVTFRTLG9wdGlvbnMpLHRoaXMuaXNMb2FkaW5nPSExfTtCdXR0b24uVkVSU0lPTj0iMy4yLjAiLEJ1dHRvbi5ERUZBVUxUUz17bG9hZGluZ1RleHQ6ImxvYWRpbmcuLi4ifSxCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKHN0YXRlKXt2YXIgZD0iZGlzYWJsZWQiLCRlbD10aGlzLiRlbGVtZW50LHZhbD0kZWwuaXMoImlucHV0Iik/InZhbCI6Imh0bWwiLGRhdGE9JGVsLmRhdGEoKTtzdGF0ZSs9IlRleHQiLG51bGw9PWRhdGEucmVzZXRUZXh0JiYkZWwuZGF0YSgicmVzZXRUZXh0IiwkZWxbdmFsXSgpKSwkZWxbdmFsXShudWxsPT1kYXRhW3N0YXRlXT90aGlzLm9wdGlvbnNbc3RhdGVdOmRhdGFbc3RhdGVdKSxzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKXsibG9hZGluZ1RleHQiPT1zdGF0ZT8odGhpcy5pc0xvYWRpbmc9ITAsJGVsLmFkZENsYXNzKGQpLmF0dHIoZCxkKSk6dGhpcy5pc0xvYWRpbmcmJih0aGlzLmlzTG9hZGluZz0hMSwkZWwucmVtb3ZlQ2xhc3MoZCkucmVtb3ZlQXR0cihkKSl9LHRoaXMpLDApfSxCdXR0b24ucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciBjaGFuZ2VkPSEwLCRwYXJlbnQ9dGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9ImJ1dHRvbnMiXScpO2lmKCRwYXJlbnQubGVuZ3RoKXt2YXIgJGlucHV0PXRoaXMuJGVsZW1lbnQuZmluZCgiaW5wdXQiKTsicmFkaW8iPT0kaW5wdXQucHJvcCgidHlwZSIpJiYoJGlucHV0LnByb3AoImNoZWNrZWQiKSYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIik/Y2hhbmdlZD0hMTokcGFyZW50LmZpbmQoIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIikpLGNoYW5nZWQmJiRpbnB1dC5wcm9wKCJjaGVja2VkIiwhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIikpLnRyaWdnZXIoImNoYW5nZSIpfWNoYW5nZWQmJnRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoImFjdGl2ZSIpfTt2YXIgb2xkPSQuZm4uYnV0dG9uOyQuZm4uYnV0dG9uPVBsdWdpbiwkLmZuLmJ1dHRvbi5Db25zdHJ1Y3Rvcj1CdXR0b24sJC5mbi5idXR0b24ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmJ1dHRvbj1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZV49ImJ1dHRvbiJdJyxmdW5jdGlvbihlKXt2YXIgJGJ0bj0kKGUudGFyZ2V0KTskYnRuLmhhc0NsYXNzKCJidG4iKXx8KCRidG49JGJ0bi5jbG9zZXN0KCIuYnRuIikpLFBsdWdpbi5jYWxsKCRidG4sInRvZ2dsZSIpLGUucHJldmVudERlZmF1bHQoKX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMuY2Fyb3VzZWwiKSxvcHRpb25zPSQuZXh0ZW5kKHt9LENhcm91c2VsLkRFRkFVTFRTLCR0aGlzLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uKSxhY3Rpb249InN0cmluZyI9PXR5cGVvZiBvcHRpb24/b3B0aW9uOm9wdGlvbnMuc2xpZGU7ZGF0YXx8JHRoaXMuZGF0YSgiYnMuY2Fyb3VzZWwiLGRhdGE9bmV3IENhcm91c2VsKHRoaXMsb3B0aW9ucykpLCJudW1iZXIiPT10eXBlb2Ygb3B0aW9uP2RhdGEudG8ob3B0aW9uKTphY3Rpb24/ZGF0YVthY3Rpb25dKCk6b3B0aW9ucy5pbnRlcnZhbCYmZGF0YS5wYXVzZSgpLmN5Y2xlKCl9KX12YXIgQ2Fyb3VzZWw9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLiRlbGVtZW50PSQoZWxlbWVudCkub24oImtleWRvd24uYnMuY2Fyb3VzZWwiLCQucHJveHkodGhpcy5rZXlkb3duLHRoaXMpKSx0aGlzLiRpbmRpY2F0b3JzPXRoaXMuJGVsZW1lbnQuZmluZCgiLmNhcm91c2VsLWluZGljYXRvcnMiKSx0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLnBhdXNlZD10aGlzLnNsaWRpbmc9dGhpcy5pbnRlcnZhbD10aGlzLiRhY3RpdmU9dGhpcy4kaXRlbXM9bnVsbCwiaG92ZXIiPT10aGlzLm9wdGlvbnMucGF1c2UmJnRoaXMuJGVsZW1lbnQub24oIm1vdXNlZW50ZXIuYnMuY2Fyb3VzZWwiLCQucHJveHkodGhpcy5wYXVzZSx0aGlzKSkub24oIm1vdXNlbGVhdmUuYnMuY2Fyb3VzZWwiLCQucHJveHkodGhpcy5jeWNsZSx0aGlzKSl9O0Nhcm91c2VsLlZFUlNJT049IjMuMi4wIixDYXJvdXNlbC5ERUZBVUxUUz17aW50ZXJ2YWw6NWUzLHBhdXNlOiJob3ZlciIsd3JhcDohMH0sQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd249ZnVuY3Rpb24oZSl7c3dpdGNoKGUud2hpY2gpe2Nhc2UgMzc6dGhpcy5wcmV2KCk7YnJlYWs7Y2FzZSAzOTp0aGlzLm5leHQoKTticmVhaztkZWZhdWx0OnJldHVybn1lLnByZXZlbnREZWZhdWx0KCl9LENhcm91c2VsLnByb3RvdHlwZS5jeWNsZT1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KHRoaXMucGF1c2VkPSExKSx0aGlzLmludGVydmFsJiZjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCYmIXRoaXMucGF1c2VkJiYodGhpcy5pbnRlcnZhbD1zZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCx0aGlzKSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKSx0aGlzfSxDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4PWZ1bmN0aW9uKGl0ZW0pe3JldHVybiB0aGlzLiRpdGVtcz1pdGVtLnBhcmVudCgpLmNoaWxkcmVuKCIuaXRlbSIpLHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW18fHRoaXMuJGFjdGl2ZSl9LENhcm91c2VsLnByb3RvdHlwZS50bz1mdW5jdGlvbihwb3Mpe3ZhciB0aGF0PXRoaXMsYWN0aXZlSW5kZXg9dGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlPXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0uYWN0aXZlIikpO3JldHVybiBwb3M+dGhpcy4kaXRlbXMubGVuZ3RoLTF8fDA+cG9zP3ZvaWQgMDp0aGlzLnNsaWRpbmc/dGhpcy4kZWxlbWVudC5vbmUoInNsaWQuYnMuY2Fyb3VzZWwiLGZ1bmN0aW9uKCl7dGhhdC50byhwb3MpfSk6YWN0aXZlSW5kZXg9PXBvcz90aGlzLnBhdXNlKCkuY3ljbGUoKTp0aGlzLnNsaWRlKHBvcz5hY3RpdmVJbmRleD8ibmV4dCI6InByZXYiLCQodGhpcy4kaXRlbXNbcG9zXSkpfSxDYXJvdXNlbC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGV8fCh0aGlzLnBhdXNlZD0hMCksdGhpcy4kZWxlbWVudC5maW5kKCIubmV4dCwgLnByZXYiKS5sZW5ndGgmJiQuc3VwcG9ydC50cmFuc2l0aW9uJiYodGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCksdGhpcy5jeWNsZSghMCkpLHRoaXMuaW50ZXJ2YWw9Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzfSxDYXJvdXNlbC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWRpbmc/dm9pZCAwOnRoaXMuc2xpZGUoIm5leHQiKX0sQ2Fyb3VzZWwucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGlkaW5nP3ZvaWQgMDp0aGlzLnNsaWRlKCJwcmV2Iil9LENhcm91c2VsLnByb3RvdHlwZS5zbGlkZT1mdW5jdGlvbih0eXBlLG5leHQpe3ZhciAkYWN0aXZlPXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0uYWN0aXZlIiksJG5leHQ9bmV4dHx8JGFjdGl2ZVt0eXBlXSgpLGlzQ3ljbGluZz10aGlzLmludGVydmFsLGRpcmVjdGlvbj0ibmV4dCI9PXR5cGU/ImxlZnQiOiJyaWdodCIsZmFsbGJhY2s9Im5leHQiPT10eXBlPyJmaXJzdCI6Imxhc3QiLHRoYXQ9dGhpcztpZighJG5leHQubGVuZ3RoKXtpZighdGhpcy5vcHRpb25zLndyYXApcmV0dXJuOyRuZXh0PXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0iKVtmYWxsYmFja10oKX1pZigkbmV4dC5oYXNDbGFzcygiYWN0aXZlIikpcmV0dXJuIHRoaXMuc2xpZGluZz0hMTt2YXIgcmVsYXRlZFRhcmdldD0kbmV4dFswXSxzbGlkZUV2ZW50PSQuRXZlbnQoInNsaWRlLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDpyZWxhdGVkVGFyZ2V0LGRpcmVjdGlvbjpkaXJlY3Rpb259KTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudCksIXNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHRoaXMuc2xpZGluZz0hMCxpc0N5Y2xpbmcmJnRoaXMucGF1c2UoKSx0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCl7dGhpcy4kaW5kaWNhdG9ycy5maW5kKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciAkbmV4dEluZGljYXRvcj0kKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKTskbmV4dEluZGljYXRvciYmJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoImFjdGl2ZSIpfXZhciBzbGlkRXZlbnQ9JC5FdmVudCgic2xpZC5icy5jYXJvdXNlbCIse3JlbGF0ZWRUYXJnZXQ6cmVsYXRlZFRhcmdldCxkaXJlY3Rpb246ZGlyZWN0aW9ufSk7cmV0dXJuICQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJzbGlkZSIpPygkbmV4dC5hZGRDbGFzcyh0eXBlKSwkbmV4dFswXS5vZmZzZXRXaWR0aCwkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbiksJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKSwkYWN0aXZlLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpeyRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLGRpcmVjdGlvbl0uam9pbigiICIpKS5hZGRDbGFzcygiYWN0aXZlIiksJGFjdGl2ZS5yZW1vdmVDbGFzcyhbImFjdGl2ZSIsZGlyZWN0aW9uXS5qb2luKCIgIikpLHRoYXQuc2xpZGluZz0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudCl9LDApfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMWUzKiRhY3RpdmUuY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIikuc2xpY2UoMCwtMSkpKTooJGFjdGl2ZS5yZW1vdmVDbGFzcygiYWN0aXZlIiksJG5leHQuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuc2xpZGluZz0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KSksaXNDeWNsaW5nJiZ0aGlzLmN5Y2xlKCksdGhpc319O3ZhciBvbGQ9JC5mbi5jYXJvdXNlbDskLmZuLmNhcm91c2VsPVBsdWdpbiwkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yPUNhcm91c2VsLCQuZm4uY2Fyb3VzZWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmNhcm91c2VsPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGkiLCJbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXSIsZnVuY3Rpb24oZSl7dmFyIGhyZWYsJHRoaXM9JCh0aGlzKSwkdGFyZ2V0PSQoJHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKXx8KGhyZWY9JHRoaXMuYXR0cigiaHJlZiIpKSYmaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpKTtpZigkdGFyZ2V0Lmhhc0NsYXNzKCJjYXJvdXNlbCIpKXt2YXIgb3B0aW9ucz0kLmV4dGVuZCh7fSwkdGFyZ2V0LmRhdGEoKSwkdGhpcy5kYXRhKCkpLHNsaWRlSW5kZXg9JHRoaXMuYXR0cigiZGF0YS1zbGlkZS10byIpO3NsaWRlSW5kZXgmJihvcHRpb25zLmludGVydmFsPSExKSxQbHVnaW4uY2FsbCgkdGFyZ2V0LG9wdGlvbnMpLHNsaWRlSW5kZXgmJiR0YXJnZXQuZGF0YSgiYnMuY2Fyb3VzZWwiKS50byhzbGlkZUluZGV4KSxlLnByZXZlbnREZWZhdWx0KCl9fSksJCh3aW5kb3cpLm9uKCJsb2FkIixmdW5jdGlvbigpeyQoJ1tkYXRhLXJpZGU9ImNhcm91c2VsIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyICRjYXJvdXNlbD0kKHRoaXMpO1BsdWdpbi5jYWxsKCRjYXJvdXNlbCwkY2Fyb3VzZWwuZGF0YSgpKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5jb2xsYXBzZSIpLG9wdGlvbnM9JC5leHRlbmQoe30sQ29sbGFwc2UuREVGQVVMVFMsJHRoaXMuZGF0YSgpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb24pOyFkYXRhJiZvcHRpb25zLnRvZ2dsZSYmInNob3ciPT1vcHRpb24mJihvcHRpb249IW9wdGlvbiksZGF0YXx8JHRoaXMuZGF0YSgiYnMuY29sbGFwc2UiLGRhdGE9bmV3IENvbGxhcHNlKHRoaXMsb3B0aW9ucykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKX0pfXZhciBDb2xsYXBzZT1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sQ29sbGFwc2UuREVGQVVMVFMsb3B0aW9ucyksdGhpcy50cmFuc2l0aW9uaW5nPW51bGwsdGhpcy5vcHRpb25zLnBhcmVudCYmKHRoaXMuJHBhcmVudD0kKHRoaXMub3B0aW9ucy5wYXJlbnQpKSx0aGlzLm9wdGlvbnMudG9nZ2xlJiZ0aGlzLnRvZ2dsZSgpfTtDb2xsYXBzZS5WRVJTSU9OPSIzLjIuMCIsQ29sbGFwc2UuREVGQVVMVFM9e3RvZ2dsZTohMH0sQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbj1mdW5jdGlvbigpe3ZhciBoYXNXaWR0aD10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJ3aWR0aCIpO3JldHVybiBoYXNXaWR0aD8id2lkdGgiOiJoZWlnaHQifSxDb2xsYXBzZS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJiF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpKXt2YXIgc3RhcnRFdmVudD0kLkV2ZW50KCJzaG93LmJzLmNvbGxhcHNlIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpLCFzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgYWN0aXZlcz10aGlzLiRwYXJlbnQmJnRoaXMuJHBhcmVudC5maW5kKCI+IC5wYW5lbCA+IC5pbiIpO2lmKGFjdGl2ZXMmJmFjdGl2ZXMubGVuZ3RoKXt2YXIgaGFzRGF0YT1hY3RpdmVzLmRhdGEoImJzLmNvbGxhcHNlIik7aWYoaGFzRGF0YSYmaGFzRGF0YS50cmFuc2l0aW9uaW5nKXJldHVybjtQbHVnaW4uY2FsbChhY3RpdmVzLCJoaWRlIiksaGFzRGF0YXx8YWN0aXZlcy5kYXRhKCJicy5jb2xsYXBzZSIsbnVsbCl9dmFyIGRpbWVuc2lvbj10aGlzLmRpbWVuc2lvbigpO3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIikuYWRkQ2xhc3MoImNvbGxhcHNpbmciKVtkaW1lbnNpb25dKDApLHRoaXMudHJhbnNpdGlvbmluZz0xO3ZhciBjb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UgaW4iKVtkaW1lbnNpb25dKCIiKSx0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInNob3duLmJzLmNvbGxhcHNlIil9O2lmKCEkLnN1cHBvcnQudHJhbnNpdGlvbilyZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKTt2YXIgc2Nyb2xsU2l6ZT0kLmNhbWVsQ2FzZShbInNjcm9sbCIsZGltZW5zaW9uXS5qb2luKCItIikpO3RoaXMuJGVsZW1lbnQub25lKCJic1RyYW5zaXRpb25FbmQiLCQucHJveHkoY29tcGxldGUsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKX19fSxDb2xsYXBzZS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImluIikpe3ZhciBzdGFydEV2ZW50PSQuRXZlbnQoImhpZGUuYnMuY29sbGFwc2UiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudCksIXN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBkaW1lbnNpb249dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodCx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJjb2xsYXBzaW5nIikucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIikucmVtb3ZlQ2xhc3MoImluIiksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy50cmFuc2l0aW9uaW5nPTAsdGhpcy4kZWxlbWVudC50cmlnZ2VyKCJoaWRkZW4uYnMuY29sbGFwc2UiKS5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLmFkZENsYXNzKCJjb2xsYXBzZSIpfTtyZXR1cm4gJC5zdXBwb3J0LnRyYW5zaXRpb24/dm9pZCB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oMCkub25lKCJic1RyYW5zaXRpb25FbmQiLCQucHJveHkoY29tcGxldGUsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MCk6Y29tcGxldGUuY2FsbCh0aGlzKX19fSxDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpPyJoaWRlIjoic2hvdyJdKCl9O3ZhciBvbGQ9JC5mbi5jb2xsYXBzZTskLmZuLmNvbGxhcHNlPVBsdWdpbiwkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yPUNvbGxhcHNlLCQuZm4uY29sbGFwc2Uubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmNvbGxhcHNlPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl0nLGZ1bmN0aW9uKGUpe3ZhciBocmVmLCR0aGlzPSQodGhpcyksdGFyZ2V0PSR0aGlzLmF0dHIoImRhdGEtdGFyZ2V0Iil8fGUucHJldmVudERlZmF1bHQoKXx8KGhyZWY9JHRoaXMuYXR0cigiaHJlZiIpKSYmaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpLCR0YXJnZXQ9JCh0YXJnZXQpLGRhdGE9JHRhcmdldC5kYXRhKCJicy5jb2xsYXBzZSIpLG9wdGlvbj1kYXRhPyJ0b2dnbGUiOiR0aGlzLmRhdGEoKSxwYXJlbnQ9JHRoaXMuYXR0cigiZGF0YS1wYXJlbnQiKSwkcGFyZW50PXBhcmVudCYmJChwYXJlbnQpO2RhdGEmJmRhdGEudHJhbnNpdGlvbmluZ3x8KCRwYXJlbnQmJiRwYXJlbnQuZmluZCgnW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdW2RhdGEtcGFyZW50PSInK3BhcmVudCsnIl0nKS5ub3QoJHRoaXMpLmFkZENsYXNzKCJjb2xsYXBzZWQiKSwkdGhpc1skdGFyZ2V0Lmhhc0NsYXNzKCJpbiIpPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oImNvbGxhcHNlZCIpKSxQbHVnaW4uY2FsbCgkdGFyZ2V0LG9wdGlvbil9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGNsZWFyTWVudXMoZSl7ZSYmMz09PWUud2hpY2h8fCgkKGJhY2tkcm9wKS5yZW1vdmUoKSwkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbigpe3ZhciAkcGFyZW50PWdldFBhcmVudCgkKHRoaXMpKSxyZWxhdGVkVGFyZ2V0PXtyZWxhdGVkVGFyZ2V0OnRoaXN9OyRwYXJlbnQuaGFzQ2xhc3MoIm9wZW4iKSYmKCRwYXJlbnQudHJpZ2dlcihlPSQuRXZlbnQoImhpZGUuYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwkcGFyZW50LnJlbW92ZUNsYXNzKCJvcGVuIikudHJpZ2dlcigiaGlkZGVuLmJzLmRyb3Bkb3duIixyZWxhdGVkVGFyZ2V0KSl9KSl9ZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKXt2YXIgc2VsZWN0b3I9JHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKTtzZWxlY3Rvcnx8KHNlbGVjdG9yPSR0aGlzLmF0dHIoImhyZWYiKSxzZWxlY3Rvcj1zZWxlY3RvciYmLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikmJnNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciAkcGFyZW50PXNlbGVjdG9yJiYkKHNlbGVjdG9yKTtyZXR1cm4gJHBhcmVudCYmJHBhcmVudC5sZW5ndGg/JHBhcmVudDokdGhpcy5wYXJlbnQoKX1mdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5kcm9wZG93biIpO2RhdGF8fCR0aGlzLmRhdGEoImJzLmRyb3Bkb3duIixkYXRhPW5ldyBEcm9wZG93bih0aGlzKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKX0pfXZhciBiYWNrZHJvcD0iLmRyb3Bkb3duLWJhY2tkcm9wIix0b2dnbGU9J1tkYXRhLXRvZ2dsZT0iZHJvcGRvd24iXScsRHJvcGRvd249ZnVuY3Rpb24oZWxlbWVudCl7JChlbGVtZW50KS5vbigiY2xpY2suYnMuZHJvcGRvd24iLHRoaXMudG9nZ2xlKX07RHJvcGRvd24uVkVSU0lPTj0iMy4yLjAiLERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oZSl7dmFyICR0aGlzPSQodGhpcyk7aWYoISR0aGlzLmlzKCIuZGlzYWJsZWQsIDpkaXNhYmxlZCIpKXt2YXIgJHBhcmVudD1nZXRQYXJlbnQoJHRoaXMpLGlzQWN0aXZlPSRwYXJlbnQuaGFzQ2xhc3MoIm9wZW4iKTtpZihjbGVhck1lbnVzKCksIWlzQWN0aXZlKXsib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmISRwYXJlbnQuY2xvc2VzdCgiLm5hdmJhci1uYXYiKS5sZW5ndGgmJiQoJzxkaXYgY2xhc3M9ImRyb3Bkb3duLWJhY2tkcm9wIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oImNsaWNrIixjbGVhck1lbnVzKTt2YXIgcmVsYXRlZFRhcmdldD17cmVsYXRlZFRhcmdldDp0aGlzfTtpZigkcGFyZW50LnRyaWdnZXIoZT0kLkV2ZW50KCJzaG93LmJzLmRyb3Bkb3duIixyZWxhdGVkVGFyZ2V0KSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47JHRoaXMudHJpZ2dlcigiZm9jdXMiKSwkcGFyZW50LnRvZ2dsZUNsYXNzKCJvcGVuIikudHJpZ2dlcigic2hvd24uYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpfXJldHVybiExfX0sRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd249ZnVuY3Rpb24oZSl7aWYoLygzOHw0MHwyNykvLnRlc3QoZS5rZXlDb2RlKSl7dmFyICR0aGlzPSQodGhpcyk7aWYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksISR0aGlzLmlzKCIuZGlzYWJsZWQsIDpkaXNhYmxlZCIpKXt2YXIgJHBhcmVudD1nZXRQYXJlbnQoJHRoaXMpLGlzQWN0aXZlPSRwYXJlbnQuaGFzQ2xhc3MoIm9wZW4iKTtpZighaXNBY3RpdmV8fGlzQWN0aXZlJiYyNz09ZS5rZXlDb2RlKXJldHVybiAyNz09ZS53aGljaCYmJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcigiZm9jdXMiKSwkdGhpcy50cmlnZ2VyKCJjbGljayIpO3ZhciBkZXNjPSIgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEiLCRpdGVtcz0kcGFyZW50LmZpbmQoJ1tyb2xlPSJtZW51Il0nK2Rlc2MrJywgW3JvbGU9Imxpc3Rib3giXScrZGVzYyk7aWYoJGl0ZW1zLmxlbmd0aCl7dmFyIGluZGV4PSRpdGVtcy5pbmRleCgkaXRlbXMuZmlsdGVyKCI6Zm9jdXMiKSk7Mzg9PWUua2V5Q29kZSYmaW5kZXg+MCYmaW5kZXgtLSw0MD09ZS5rZXlDb2RlJiZpbmRleDwkaXRlbXMubGVuZ3RoLTEmJmluZGV4KyssfmluZGV4fHwoaW5kZXg9MCksJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCJmb2N1cyIpfX19fTt2YXIgb2xkPSQuZm4uZHJvcGRvd247JC5mbi5kcm9wZG93bj1QbHVnaW4sJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3Rvcj1Ecm9wZG93biwkLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5kcm9wZG93bj1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIixjbGVhck1lbnVzKS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLCIuZHJvcGRvd24gZm9ybSIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsdG9nZ2xlLERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUpLm9uKCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpIix0b2dnbGUrJywgW3JvbGU9Im1lbnUiXSwgW3JvbGU9Imxpc3Rib3giXScsRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMudGFiIik7ZGF0YXx8JHRoaXMuZGF0YSgiYnMudGFiIixkYXRhPW5ldyBUYWIodGhpcykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKX0pfXZhciBUYWI9ZnVuY3Rpb24oZWxlbWVudCl7dGhpcy5lbGVtZW50PSQoZWxlbWVudCl9O1RhYi5WRVJTSU9OPSIzLjIuMCIsVGFiLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyICR0aGlzPXRoaXMuZWxlbWVudCwkdWw9JHRoaXMuY2xvc2VzdCgidWw6bm90KC5kcm9wZG93bi1tZW51KSIpLHNlbGVjdG9yPSR0aGlzLmRhdGEoInRhcmdldCIpO2lmKHNlbGVjdG9yfHwoc2VsZWN0b3I9JHRoaXMuYXR0cigiaHJlZiIpLHNlbGVjdG9yPXNlbGVjdG9yJiZzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sIiIpKSwhJHRoaXMucGFyZW50KCJsaSIpLmhhc0NsYXNzKCJhY3RpdmUiKSl7dmFyIHByZXZpb3VzPSR1bC5maW5kKCIuYWN0aXZlOmxhc3QgYSIpWzBdLGU9JC5FdmVudCgic2hvdy5icy50YWIiLHtyZWxhdGVkVGFyZ2V0OnByZXZpb3VzfSk7aWYoJHRoaXMudHJpZ2dlcihlKSwhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyICR0YXJnZXQ9JChzZWxlY3Rvcik7dGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCJsaSIpLCR1bCksdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCR0YXJnZXQucGFyZW50KCksZnVuY3Rpb24oKXskdGhpcy50cmlnZ2VyKHt0eXBlOiJzaG93bi5icy50YWIiLHJlbGF0ZWRUYXJnZXQ6cHJldmlvdXN9KX0pfX19LFRhYi5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oZWxlbWVudCxjb250YWluZXIsY2FsbGJhY2spe2Z1bmN0aW9uIG5leHQoKXskYWN0aXZlLnJlbW92ZUNsYXNzKCJhY3RpdmUiKS5maW5kKCI+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxlbGVtZW50LmFkZENsYXNzKCJhY3RpdmUiKSx0cmFuc2l0aW9uPyhlbGVtZW50WzBdLm9mZnNldFdpZHRoLGVsZW1lbnQuYWRkQ2xhc3MoImluIikpOmVsZW1lbnQucmVtb3ZlQ2xhc3MoImZhZGUiKSxlbGVtZW50LnBhcmVudCgiLmRyb3Bkb3duLW1lbnUiKSYmZWxlbWVudC5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKSxjYWxsYmFjayYmY2FsbGJhY2soKX12YXIgJGFjdGl2ZT1jb250YWluZXIuZmluZCgiPiAuYWN0aXZlIiksdHJhbnNpdGlvbj1jYWxsYmFjayYmJC5zdXBwb3J0LnRyYW5zaXRpb24mJiRhY3RpdmUuaGFzQ2xhc3MoImZhZGUiKTt0cmFuc2l0aW9uPyRhY3RpdmUub25lKCJic1RyYW5zaXRpb25FbmQiLG5leHQpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6bmV4dCgpLCRhY3RpdmUucmVtb3ZlQ2xhc3MoImluIil9O3ZhciBvbGQ9JC5mbi50YWI7JC5mbi50YWI9UGx1Z2luLCQuZm4udGFiLkNvbnN0cnVjdG9yPVRhYiwkLmZuLnRhYi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4udGFiPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMudGFiLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJ0YWIiXSwgW2RhdGEtdG9nZ2xlPSJwaWxsIl0nLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxQbHVnaW4uY2FsbCgkKHRoaXMpLCJzaG93Iil9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHRyYW5zaXRpb25FbmQoKXt2YXIgZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9vdHN0cmFwIiksdHJhbnNFbmRFdmVudE5hbWVzPXtXZWJraXRUcmFuc2l0aW9uOiJ3ZWJraXRUcmFuc2l0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIixPVHJhbnNpdGlvbjoib1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQiLHRyYW5zaXRpb246InRyYW5zaXRpb25lbmQifTtmb3IodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKWlmKHZvaWQgMCE9PWVsLnN0eWxlW25hbWVdKXJldHVybntlbmQ6dHJhbnNFbmRFdmVudE5hbWVzW25hbWVdfTtyZXR1cm4hMX0kLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGR1cmF0aW9uKXt2YXIgY2FsbGVkPSExLCRlbD10aGlzOyQodGhpcykub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7Y2FsbGVkPSEwfSk7dmFyIGNhbGxiYWNrPWZ1bmN0aW9uKCl7Y2FsbGVkfHwkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpfTtyZXR1cm4gc2V0VGltZW91dChjYWxsYmFjayxkdXJhdGlvbiksdGhpc30sJChmdW5jdGlvbigpeyQuc3VwcG9ydC50cmFuc2l0aW9uPXRyYW5zaXRpb25FbmQoKSwkLnN1cHBvcnQudHJhbnNpdGlvbiYmKCQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQ9e2JpbmRUeXBlOiQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxkZWxlZ2F0ZVR5cGU6JC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGhhbmRsZTpmdW5jdGlvbihlKXtyZXR1cm4gJChlLnRhcmdldCkuaXModGhpcyk/ZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCxvcHRpb25zKXt2YXIgcHJvY2Vzcz0kLnByb3h5KHRoaXMucHJvY2Vzcyx0aGlzKTt0aGlzLiRib2R5PSQoImJvZHkiKSx0aGlzLiRzY3JvbGxFbGVtZW50PSQoJChlbGVtZW50KS5pcygiYm9keSIpP3dpbmRvdzplbGVtZW50KSx0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sU2Nyb2xsU3B5LkRFRkFVTFRTLG9wdGlvbnMpLHRoaXMuc2VsZWN0b3I9KHRoaXMub3B0aW9ucy50YXJnZXR8fCIiKSsiIC5uYXYgbGkgPiBhIix0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5zY3JvbGxIZWlnaHQ9MCx0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCJzY3JvbGwuYnMuc2Nyb2xsc3B5Iixwcm9jZXNzKSx0aGlzLnJlZnJlc2goKSx0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5zY3JvbGxzcHkiKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247ZGF0YXx8JHRoaXMuZGF0YSgiYnMuc2Nyb2xsc3B5IixkYXRhPW5ldyBTY3JvbGxTcHkodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpfSl9U2Nyb2xsU3B5LlZFUlNJT049IjMuMi4wIixTY3JvbGxTcHkuREVGQVVMVFM9e29mZnNldDoxMH0sU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHR8fE1hdGgubWF4KHRoaXMuJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpfSxTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgb2Zmc2V0TWV0aG9kPSJvZmZzZXQiLG9mZnNldEJhc2U9MDskLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pfHwob2Zmc2V0TWV0aG9kPSJwb3NpdGlvbiIsb2Zmc2V0QmFzZT10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpKSx0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuc2Nyb2xsSGVpZ2h0PXRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCk7dmFyIHNlbGY9dGhpczt0aGlzLiRib2R5LmZpbmQodGhpcy5zZWxlY3RvcikubWFwKGZ1bmN0aW9uKCl7dmFyICRlbD0kKHRoaXMpLGhyZWY9JGVsLmRhdGEoInRhcmdldCIpfHwkZWwuYXR0cigiaHJlZiIpLCRocmVmPS9eIy4vLnRlc3QoaHJlZikmJiQoaHJlZik7cmV0dXJuICRocmVmJiYkaHJlZi5sZW5ndGgmJiRocmVmLmlzKCI6dmlzaWJsZSIpJiZbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3Arb2Zmc2V0QmFzZSxocmVmXV18fG51bGx9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0tYlswXX0pLmVhY2goZnVuY3Rpb24oKXtzZWxmLm9mZnNldHMucHVzaCh0aGlzWzBdKSxzZWxmLnRhcmdldHMucHVzaCh0aGlzWzFdKX0pfSxTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgaSxzY3JvbGxUb3A9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSt0aGlzLm9wdGlvbnMub2Zmc2V0LHNjcm9sbEhlaWdodD10aGlzLmdldFNjcm9sbEhlaWdodCgpLG1heFNjcm9sbD10aGlzLm9wdGlvbnMub2Zmc2V0K3Njcm9sbEhlaWdodC10aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpLG9mZnNldHM9dGhpcy5vZmZzZXRzLHRhcmdldHM9dGhpcy50YXJnZXRzLGFjdGl2ZVRhcmdldD10aGlzLmFjdGl2ZVRhcmdldDtpZih0aGlzLnNjcm9sbEhlaWdodCE9c2Nyb2xsSGVpZ2h0JiZ0aGlzLnJlZnJlc2goKSxzY3JvbGxUb3A+PW1heFNjcm9sbClyZXR1cm4gYWN0aXZlVGFyZ2V0IT0oaT10YXJnZXRzW3RhcmdldHMubGVuZ3RoLTFdKSYmdGhpcy5hY3RpdmF0ZShpKTtpZihhY3RpdmVUYXJnZXQmJnNjcm9sbFRvcDw9b2Zmc2V0c1swXSlyZXR1cm4gYWN0aXZlVGFyZ2V0IT0oaT10YXJnZXRzWzBdKSYmdGhpcy5hY3RpdmF0ZShpKTtmb3IoaT1vZmZzZXRzLmxlbmd0aDtpLS07KWFjdGl2ZVRhcmdldCE9dGFyZ2V0c1tpXSYmc2Nyb2xsVG9wPj1vZmZzZXRzW2ldJiYoIW9mZnNldHNbaSsxXXx8c2Nyb2xsVG9wPD1vZmZzZXRzW2krMV0pJiZ0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pfSxTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKHRhcmdldCl7dGhpcy5hY3RpdmVUYXJnZXQ9dGFyZ2V0LCQodGhpcy5zZWxlY3RvcikucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7CnZhciBzZWxlY3Rvcj10aGlzLnNlbGVjdG9yKydbZGF0YS10YXJnZXQ9IicrdGFyZ2V0KyciXSwnK3RoaXMuc2VsZWN0b3IrJ1tocmVmPSInK3RhcmdldCsnIl0nLGFjdGl2ZT0kKHNlbGVjdG9yKS5wYXJlbnRzKCJsaSIpLmFkZENsYXNzKCJhY3RpdmUiKTthY3RpdmUucGFyZW50KCIuZHJvcGRvd24tbWVudSIpLmxlbmd0aCYmKGFjdGl2ZT1hY3RpdmUuY2xvc2VzdCgibGkuZHJvcGRvd24iKS5hZGRDbGFzcygiYWN0aXZlIikpLGFjdGl2ZS50cmlnZ2VyKCJhY3RpdmF0ZS5icy5zY3JvbGxzcHkiKX07dmFyIG9sZD0kLmZuLnNjcm9sbHNweTskLmZuLnNjcm9sbHNweT1QbHVnaW4sJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3I9U2Nyb2xsU3B5LCQuZm4uc2Nyb2xsc3B5Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5zY3JvbGxzcHk9b2xkLHRoaXN9LCQod2luZG93KS5vbigibG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGkiLGZ1bmN0aW9uKCl7JCgnW2RhdGEtc3B5PSJzY3JvbGwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgJHNweT0kKHRoaXMpO1BsdWdpbi5jYWxsKCRzcHksJHNweS5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24sX3JlbGF0ZWRUYXJnZXQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLm1vZGFsIiksb3B0aW9ucz0kLmV4dGVuZCh7fSxNb2RhbC5ERUZBVUxUUywkdGhpcy5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbik7ZGF0YXx8JHRoaXMuZGF0YSgiYnMubW9kYWwiLGRhdGE9bmV3IE1vZGFsKHRoaXMsb3B0aW9ucykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uP2RhdGFbb3B0aW9uXShfcmVsYXRlZFRhcmdldCk6b3B0aW9ucy5zaG93JiZkYXRhLnNob3coX3JlbGF0ZWRUYXJnZXQpfSl9dmFyIE1vZGFsPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnMsdGhpcy4kYm9keT0kKGRvY3VtZW50LmJvZHkpLHRoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLiRiYWNrZHJvcD10aGlzLmlzU2hvd249bnVsbCx0aGlzLnNjcm9sbGJhcldpZHRoPTAsdGhpcy5vcHRpb25zLnJlbW90ZSYmdGhpcy4kZWxlbWVudC5maW5kKCIubW9kYWwtY29udGVudCIpLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSwkLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKCJsb2FkZWQuYnMubW9kYWwiKX0sdGhpcykpfTtNb2RhbC5WRVJTSU9OPSIzLjIuMCIsTW9kYWwuREVGQVVMVFM9e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwLHNob3c6ITB9LE1vZGFsLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oX3JlbGF0ZWRUYXJnZXQpe3JldHVybiB0aGlzLmlzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KF9yZWxhdGVkVGFyZ2V0KX0sTW9kYWwucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oX3JlbGF0ZWRUYXJnZXQpe3ZhciB0aGF0PXRoaXMsZT0kLkV2ZW50KCJzaG93LmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDpfcmVsYXRlZFRhcmdldH0pO3RoaXMuJGVsZW1lbnQudHJpZ2dlcihlKSx0aGlzLmlzU2hvd258fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0aGlzLmlzU2hvd249ITAsdGhpcy5jaGVja1Njcm9sbGJhcigpLHRoaXMuJGJvZHkuYWRkQ2xhc3MoIm1vZGFsLW9wZW4iKSx0aGlzLnNldFNjcm9sbGJhcigpLHRoaXMuZXNjYXBlKCksdGhpcy4kZWxlbWVudC5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsJ1tkYXRhLWRpc21pc3M9Im1vZGFsIl0nLCQucHJveHkodGhpcy5oaWRlLHRoaXMpKSx0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uKCl7dmFyIHRyYW5zaXRpb249JC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKTt0aGF0LiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aHx8dGhhdC4kZWxlbWVudC5hcHBlbmRUbyh0aGF0LiRib2R5KSx0aGF0LiRlbGVtZW50LnNob3coKS5zY3JvbGxUb3AoMCksdHJhbnNpdGlvbiYmdGhhdC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCx0aGF0LiRlbGVtZW50LmFkZENsYXNzKCJpbiIpLmF0dHIoImFyaWEtaGlkZGVuIiwhMSksdGhhdC5lbmZvcmNlRm9jdXMoKTt2YXIgZT0kLkV2ZW50KCJzaG93bi5icy5tb2RhbCIse3JlbGF0ZWRUYXJnZXQ6X3JlbGF0ZWRUYXJnZXR9KTt0cmFuc2l0aW9uP3RoYXQuJGVsZW1lbnQuZmluZCgiLm1vZGFsLWRpYWxvZyIpLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe3RoYXQuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKGUpfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKTp0aGF0LiRlbGVtZW50LnRyaWdnZXIoImZvY3VzIikudHJpZ2dlcihlKX0pKX0sTW9kYWwucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oZSl7ZSYmZS5wcmV2ZW50RGVmYXVsdCgpLGU9JC5FdmVudCgiaGlkZS5icy5tb2RhbCIpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKSx0aGlzLmlzU2hvd24mJiFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodGhpcy5pc1Nob3duPSExLHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoIm1vZGFsLW9wZW4iKSx0aGlzLnJlc2V0U2Nyb2xsYmFyKCksdGhpcy5lc2NhcGUoKSwkKGRvY3VtZW50KS5vZmYoImZvY3VzaW4uYnMubW9kYWwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJpbiIpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkub2ZmKCJjbGljay5kaXNtaXNzLmJzLm1vZGFsIiksJC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKT90aGlzLiRlbGVtZW50Lm9uZSgiYnNUcmFuc2l0aW9uRW5kIiwkLnByb3h5KHRoaXMuaGlkZU1vZGFsLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApOnRoaXMuaGlkZU1vZGFsKCkpfSxNb2RhbC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzPWZ1bmN0aW9uKCl7JChkb2N1bWVudCkub2ZmKCJmb2N1c2luLmJzLm1vZGFsIikub24oImZvY3VzaW4uYnMubW9kYWwiLCQucHJveHkoZnVuY3Rpb24oZSl7dGhpcy4kZWxlbWVudFswXT09PWUudGFyZ2V0fHx0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RofHx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImZvY3VzIil9LHRoaXMpKX0sTW9kYWwucHJvdG90eXBlLmVzY2FwZT1mdW5jdGlvbigpe3RoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmtleWJvYXJkP3RoaXMuJGVsZW1lbnQub24oImtleXVwLmRpc21pc3MuYnMubW9kYWwiLCQucHJveHkoZnVuY3Rpb24oZSl7Mjc9PWUud2hpY2gmJnRoaXMuaGlkZSgpfSx0aGlzKSk6dGhpcy5pc1Nob3dufHx0aGlzLiRlbGVtZW50Lm9mZigia2V5dXAuZGlzbWlzcy5icy5tb2RhbCIpfSxNb2RhbC5wcm90b3R5cGUuaGlkZU1vZGFsPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLiRlbGVtZW50LmhpZGUoKSx0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC50cmlnZ2VyKCJoaWRkZW4uYnMubW9kYWwiKX0pfSxNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3A9ZnVuY3Rpb24oKXt0aGlzLiRiYWNrZHJvcCYmdGhpcy4kYmFja2Ryb3AucmVtb3ZlKCksdGhpcy4kYmFja2Ryb3A9bnVsbH0sTW9kYWwucHJvdG90eXBlLmJhY2tkcm9wPWZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgdGhhdD10aGlzLGFuaW1hdGU9dGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpPyJmYWRlIjoiIjtpZih0aGlzLmlzU2hvd24mJnRoaXMub3B0aW9ucy5iYWNrZHJvcCl7dmFyIGRvQW5pbWF0ZT0kLnN1cHBvcnQudHJhbnNpdGlvbiYmYW5pbWF0ZTtpZih0aGlzLiRiYWNrZHJvcD0kKCc8ZGl2IGNsYXNzPSJtb2RhbC1iYWNrZHJvcCAnK2FuaW1hdGUrJyIgLz4nKS5hcHBlbmRUbyh0aGlzLiRib2R5KSx0aGlzLiRlbGVtZW50Lm9uKCJjbGljay5kaXNtaXNzLmJzLm1vZGFsIiwkLnByb3h5KGZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09ZS5jdXJyZW50VGFyZ2V0JiYoInN0YXRpYyI9PXRoaXMub3B0aW9ucy5iYWNrZHJvcD90aGlzLiRlbGVtZW50WzBdLmZvY3VzLmNhbGwodGhpcy4kZWxlbWVudFswXSk6dGhpcy5oaWRlLmNhbGwodGhpcykpfSx0aGlzKSksZG9BbmltYXRlJiZ0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCx0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygiaW4iKSwhY2FsbGJhY2spcmV0dXJuO2RvQW5pbWF0ZT90aGlzLiRiYWNrZHJvcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsY2FsbGJhY2spLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6Y2FsbGJhY2soKX1lbHNlIGlmKCF0aGlzLmlzU2hvd24mJnRoaXMuJGJhY2tkcm9wKXt0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygiaW4iKTt2YXIgY2FsbGJhY2tSZW1vdmU9ZnVuY3Rpb24oKXt0aGF0LnJlbW92ZUJhY2tkcm9wKCksY2FsbGJhY2smJmNhbGxiYWNrKCl9OyQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/dGhpcy4kYmFja2Ryb3Aub25lKCJic1RyYW5zaXRpb25FbmQiLGNhbGxiYWNrUmVtb3ZlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApOmNhbGxiYWNrUmVtb3ZlKCl9ZWxzZSBjYWxsYmFjayYmY2FsbGJhY2soKX0sTW9kYWwucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aD49d2luZG93LmlubmVyV2lkdGh8fCh0aGlzLnNjcm9sbGJhcldpZHRoPXRoaXMuc2Nyb2xsYmFyV2lkdGh8fHRoaXMubWVhc3VyZVNjcm9sbGJhcigpKX0sTW9kYWwucHJvdG90eXBlLnNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBib2R5UGFkPXBhcnNlSW50KHRoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0Iil8fDAsMTApO3RoaXMuc2Nyb2xsYmFyV2lkdGgmJnRoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0Iixib2R5UGFkK3RoaXMuc2Nyb2xsYmFyV2lkdGgpfSxNb2RhbC5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt0aGlzLiRib2R5LmNzcygicGFkZGluZy1yaWdodCIsIiIpfSxNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBzY3JvbGxEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7c2Nyb2xsRGl2LmNsYXNzTmFtZT0ibW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUiLHRoaXMuJGJvZHkuYXBwZW5kKHNjcm9sbERpdik7dmFyIHNjcm9sbGJhcldpZHRoPXNjcm9sbERpdi5vZmZzZXRXaWR0aC1zY3JvbGxEaXYuY2xpZW50V2lkdGg7cmV0dXJuIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KSxzY3JvbGxiYXJXaWR0aH07dmFyIG9sZD0kLmZuLm1vZGFsOyQuZm4ubW9kYWw9UGx1Z2luLCQuZm4ubW9kYWwuQ29uc3RydWN0b3I9TW9kYWwsJC5mbi5tb2RhbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4ubW9kYWw9b2xkLHRoaXN9LCQoZG9jdW1lbnQpLm9uKCJjbGljay5icy5tb2RhbC5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0ibW9kYWwiXScsZnVuY3Rpb24oZSl7dmFyICR0aGlzPSQodGhpcyksaHJlZj0kdGhpcy5hdHRyKCJocmVmIiksJHRhcmdldD0kKCR0aGlzLmF0dHIoImRhdGEtdGFyZ2V0Iil8fGhyZWYmJmhyZWYucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCIiKSksb3B0aW9uPSR0YXJnZXQuZGF0YSgiYnMubW9kYWwiKT8idG9nZ2xlIjokLmV4dGVuZCh7cmVtb3RlOiEvIy8udGVzdChocmVmKSYmaHJlZn0sJHRhcmdldC5kYXRhKCksJHRoaXMuZGF0YSgpKTskdGhpcy5pcygiYSIpJiZlLnByZXZlbnREZWZhdWx0KCksJHRhcmdldC5vbmUoInNob3cuYnMubW9kYWwiLGZ1bmN0aW9uKHNob3dFdmVudCl7c2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwkdGFyZ2V0Lm9uZSgiaGlkZGVuLmJzLm1vZGFsIixmdW5jdGlvbigpeyR0aGlzLmlzKCI6dmlzaWJsZSIpJiYkdGhpcy50cmlnZ2VyKCJmb2N1cyIpfSl9KSxQbHVnaW4uY2FsbCgkdGFyZ2V0LG9wdGlvbix0aGlzKX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMudG9vbHRpcCIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjsoZGF0YXx8ImRlc3Ryb3kiIT1vcHRpb24pJiYoZGF0YXx8JHRoaXMuZGF0YSgiYnMudG9vbHRpcCIsZGF0YT1uZXcgVG9vbHRpcCh0aGlzLG9wdGlvbnMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dKCkpfSl9dmFyIFRvb2x0aXA9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLnR5cGU9dGhpcy5vcHRpb25zPXRoaXMuZW5hYmxlZD10aGlzLnRpbWVvdXQ9dGhpcy5ob3ZlclN0YXRlPXRoaXMuJGVsZW1lbnQ9bnVsbCx0aGlzLmluaXQoInRvb2x0aXAiLGVsZW1lbnQsb3B0aW9ucyl9O1Rvb2x0aXAuVkVSU0lPTj0iMy4yLjAiLFRvb2x0aXAuREVGQVVMVFM9e2FuaW1hdGlvbjohMCxwbGFjZW1lbnQ6InRvcCIsc2VsZWN0b3I6ITEsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InRvb2x0aXAiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PjxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiPjwvZGl2PjwvZGl2PicsdHJpZ2dlcjoiaG92ZXIgZm9jdXMiLHRpdGxlOiIiLGRlbGF5OjAsaHRtbDohMSxjb250YWluZXI6ITEsdmlld3BvcnQ6e3NlbGVjdG9yOiJib2R5IixwYWRkaW5nOjB9fSxUb29sdGlwLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHR5cGUsZWxlbWVudCxvcHRpb25zKXt0aGlzLmVuYWJsZWQ9ITAsdGhpcy50eXBlPXR5cGUsdGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMub3B0aW9ucz10aGlzLmdldE9wdGlvbnMob3B0aW9ucyksdGhpcy4kdmlld3BvcnQ9dGhpcy5vcHRpb25zLnZpZXdwb3J0JiYkKHRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3Rvcnx8dGhpcy5vcHRpb25zLnZpZXdwb3J0KTtmb3IodmFyIHRyaWdnZXJzPXRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KCIgIiksaT10cmlnZ2Vycy5sZW5ndGg7aS0tOyl7dmFyIHRyaWdnZXI9dHJpZ2dlcnNbaV07aWYoImNsaWNrIj09dHJpZ2dlcil0aGlzLiRlbGVtZW50Lm9uKCJjbGljay4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsJC5wcm94eSh0aGlzLnRvZ2dsZSx0aGlzKSk7ZWxzZSBpZigibWFudWFsIiE9dHJpZ2dlcil7dmFyIGV2ZW50SW49ImhvdmVyIj09dHJpZ2dlcj8ibW91c2VlbnRlciI6ImZvY3VzaW4iLGV2ZW50T3V0PSJob3ZlciI9PXRyaWdnZXI/Im1vdXNlbGVhdmUiOiJmb2N1c291dCI7dGhpcy4kZWxlbWVudC5vbihldmVudEluKyIuIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLCQucHJveHkodGhpcy5lbnRlcix0aGlzKSksdGhpcy4kZWxlbWVudC5vbihldmVudE91dCsiLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvciwkLnByb3h5KHRoaXMubGVhdmUsdGhpcykpfX10aGlzLm9wdGlvbnMuc2VsZWN0b3I/dGhpcy5fb3B0aW9ucz0kLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMse3RyaWdnZXI6Im1hbnVhbCIsc2VsZWN0b3I6IiJ9KTp0aGlzLmZpeFRpdGxlKCl9LFRvb2x0aXAucHJvdG90eXBlLmdldERlZmF1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIFRvb2x0aXAuREVGQVVMVFN9LFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIG9wdGlvbnM9JC5leHRlbmQoe30sdGhpcy5nZXREZWZhdWx0cygpLHRoaXMuJGVsZW1lbnQuZGF0YSgpLG9wdGlvbnMpLG9wdGlvbnMuZGVsYXkmJiJudW1iZXIiPT10eXBlb2Ygb3B0aW9ucy5kZWxheSYmKG9wdGlvbnMuZGVsYXk9e3Nob3c6b3B0aW9ucy5kZWxheSxoaWRlOm9wdGlvbnMuZGVsYXl9KSxvcHRpb25zfSxUb29sdGlwLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgb3B0aW9ucz17fSxkZWZhdWx0cz10aGlzLmdldERlZmF1bHRzKCk7cmV0dXJuIHRoaXMuX29wdGlvbnMmJiQuZWFjaCh0aGlzLl9vcHRpb25zLGZ1bmN0aW9uKGtleSx2YWx1ZSl7ZGVmYXVsdHNba2V5XSE9dmFsdWUmJihvcHRpb25zW2tleV09dmFsdWUpfSksb3B0aW9uc30sVG9vbHRpcC5wcm90b3R5cGUuZW50ZXI9ZnVuY3Rpb24ob2JqKXt2YXIgc2VsZj1vYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP29iajokKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7cmV0dXJuIHNlbGZ8fChzZWxmPW5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLCQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlLHNlbGYpKSxjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KSxzZWxmLmhvdmVyU3RhdGU9ImluIixzZWxmLm9wdGlvbnMuZGVsYXkmJnNlbGYub3B0aW9ucy5kZWxheS5zaG93P3ZvaWQoc2VsZi50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXsiaW4iPT1zZWxmLmhvdmVyU3RhdGUmJnNlbGYuc2hvdygpfSxzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykpOnNlbGYuc2hvdygpfSxUb29sdGlwLnByb3RvdHlwZS5sZWF2ZT1mdW5jdGlvbihvYmope3ZhciBzZWxmPW9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/b2JqOiQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlKTtyZXR1cm4gc2VsZnx8KHNlbGY9bmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsc2VsZikpLGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpLHNlbGYuaG92ZXJTdGF0ZT0ib3V0IixzZWxmLm9wdGlvbnMuZGVsYXkmJnNlbGYub3B0aW9ucy5kZWxheS5oaWRlP3ZvaWQoc2VsZi50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXsib3V0Ij09c2VsZi5ob3ZlclN0YXRlJiZzZWxmLmhpZGUoKX0sc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpKTpzZWxmLmhpZGUoKX0sVG9vbHRpcC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBlPSQuRXZlbnQoInNob3cuYnMuIit0aGlzLnR5cGUpO2lmKHRoaXMuaGFzQ29udGVudCgpJiZ0aGlzLmVuYWJsZWQpe3RoaXMuJGVsZW1lbnQudHJpZ2dlcihlKTt2YXIgaW5Eb209JC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy4kZWxlbWVudFswXSk7aWYoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8IWluRG9tKXJldHVybjt2YXIgdGhhdD10aGlzLCR0aXA9dGhpcy50aXAoKSx0aXBJZD10aGlzLmdldFVJRCh0aGlzLnR5cGUpO3RoaXMuc2V0Q29udGVudCgpLCR0aXAuYXR0cigiaWQiLHRpcElkKSx0aGlzLiRlbGVtZW50LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLHRpcElkKSx0aGlzLm9wdGlvbnMuYW5pbWF0aW9uJiYkdGlwLmFkZENsYXNzKCJmYWRlIik7dmFyIHBsYWNlbWVudD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudD90aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywkdGlwWzBdLHRoaXMuJGVsZW1lbnRbMF0pOnRoaXMub3B0aW9ucy5wbGFjZW1lbnQsYXV0b1Rva2VuPS9ccz9hdXRvP1xzPy9pLGF1dG9QbGFjZT1hdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpO2F1dG9QbGFjZSYmKHBsYWNlbWVudD1wbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sIiIpfHwidG9wIiksJHRpcC5kZXRhY2goKS5jc3Moe3RvcDowLGxlZnQ6MCxkaXNwbGF5OiJibG9jayJ9KS5hZGRDbGFzcyhwbGFjZW1lbnQpLmRhdGEoImJzLiIrdGhpcy50eXBlLHRoaXMpLHRoaXMub3B0aW9ucy5jb250YWluZXI/JHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKTokdGlwLmluc2VydEFmdGVyKHRoaXMuJGVsZW1lbnQpO3ZhciBwb3M9dGhpcy5nZXRQb3NpdGlvbigpLGFjdHVhbFdpZHRoPSR0aXBbMF0ub2Zmc2V0V2lkdGgsYWN0dWFsSGVpZ2h0PSR0aXBbMF0ub2Zmc2V0SGVpZ2h0O2lmKGF1dG9QbGFjZSl7dmFyIG9yZ1BsYWNlbWVudD1wbGFjZW1lbnQsJHBhcmVudD10aGlzLiRlbGVtZW50LnBhcmVudCgpLHBhcmVudERpbT10aGlzLmdldFBvc2l0aW9uKCRwYXJlbnQpO3BsYWNlbWVudD0iYm90dG9tIj09cGxhY2VtZW50JiZwb3MudG9wK3Bvcy5oZWlnaHQrYWN0dWFsSGVpZ2h0LXBhcmVudERpbS5zY3JvbGw+cGFyZW50RGltLmhlaWdodD8idG9wIjoidG9wIj09cGxhY2VtZW50JiZwb3MudG9wLXBhcmVudERpbS5zY3JvbGwtYWN0dWFsSGVpZ2h0PDA/ImJvdHRvbSI6InJpZ2h0Ij09cGxhY2VtZW50JiZwb3MucmlnaHQrYWN0dWFsV2lkdGg+cGFyZW50RGltLndpZHRoPyJsZWZ0IjoibGVmdCI9PXBsYWNlbWVudCYmcG9zLmxlZnQtYWN0dWFsV2lkdGg8cGFyZW50RGltLmxlZnQ/InJpZ2h0IjpwbGFjZW1lbnQsJHRpcC5yZW1vdmVDbGFzcyhvcmdQbGFjZW1lbnQpLmFkZENsYXNzKHBsYWNlbWVudCl9dmFyIGNhbGN1bGF0ZWRPZmZzZXQ9dGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KHBsYWNlbWVudCxwb3MsYWN0dWFsV2lkdGgsYWN0dWFsSGVpZ2h0KTt0aGlzLmFwcGx5UGxhY2VtZW50KGNhbGN1bGF0ZWRPZmZzZXQscGxhY2VtZW50KTt2YXIgY29tcGxldGU9ZnVuY3Rpb24oKXt0aGF0LiRlbGVtZW50LnRyaWdnZXIoInNob3duLmJzLiIrdGhhdC50eXBlKSx0aGF0LmhvdmVyU3RhdGU9bnVsbH07JC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJHRpcC5oYXNDbGFzcygiZmFkZSIpPyR0aXAub25lKCJic1RyYW5zaXRpb25FbmQiLGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApOmNvbXBsZXRlKCl9fSxUb29sdGlwLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudD1mdW5jdGlvbihvZmZzZXQscGxhY2VtZW50KXt2YXIgJHRpcD10aGlzLnRpcCgpLHdpZHRoPSR0aXBbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0PSR0aXBbMF0ub2Zmc2V0SGVpZ2h0LG1hcmdpblRvcD1wYXJzZUludCgkdGlwLmNzcygibWFyZ2luLXRvcCIpLDEwKSxtYXJnaW5MZWZ0PXBhcnNlSW50KCR0aXAuY3NzKCJtYXJnaW4tbGVmdCIpLDEwKTtpc05hTihtYXJnaW5Ub3ApJiYobWFyZ2luVG9wPTApLGlzTmFOKG1hcmdpbkxlZnQpJiYobWFyZ2luTGVmdD0wKSxvZmZzZXQudG9wPW9mZnNldC50b3ArbWFyZ2luVG9wLG9mZnNldC5sZWZ0PW9mZnNldC5sZWZ0K21hcmdpbkxlZnQsJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sJC5leHRlbmQoe3VzaW5nOmZ1bmN0aW9uKHByb3BzKXskdGlwLmNzcyh7dG9wOk1hdGgucm91bmQocHJvcHMudG9wKSxsZWZ0Ok1hdGgucm91bmQocHJvcHMubGVmdCl9KX19LG9mZnNldCksMCksJHRpcC5hZGRDbGFzcygiaW4iKTt2YXIgYWN0dWFsV2lkdGg9JHRpcFswXS5vZmZzZXRXaWR0aCxhY3R1YWxIZWlnaHQ9JHRpcFswXS5vZmZzZXRIZWlnaHQ7InRvcCI9PXBsYWNlbWVudCYmYWN0dWFsSGVpZ2h0IT1oZWlnaHQmJihvZmZzZXQudG9wPW9mZnNldC50b3AraGVpZ2h0LWFjdHVhbEhlaWdodCk7dmFyIGRlbHRhPXRoaXMuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhKHBsYWNlbWVudCxvZmZzZXQsYWN0dWFsV2lkdGgsYWN0dWFsSGVpZ2h0KTtkZWx0YS5sZWZ0P29mZnNldC5sZWZ0Kz1kZWx0YS5sZWZ0Om9mZnNldC50b3ArPWRlbHRhLnRvcDt2YXIgYXJyb3dEZWx0YT1kZWx0YS5sZWZ0PzIqZGVsdGEubGVmdC13aWR0aCthY3R1YWxXaWR0aDoyKmRlbHRhLnRvcC1oZWlnaHQrYWN0dWFsSGVpZ2h0LGFycm93UG9zaXRpb249ZGVsdGEubGVmdD8ibGVmdCI6InRvcCIsYXJyb3dPZmZzZXRQb3NpdGlvbj1kZWx0YS5sZWZ0PyJvZmZzZXRXaWR0aCI6Im9mZnNldEhlaWdodCI7JHRpcC5vZmZzZXQob2Zmc2V0KSx0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCR0aXBbMF1bYXJyb3dPZmZzZXRQb3NpdGlvbl0sYXJyb3dQb3NpdGlvbil9LFRvb2x0aXAucHJvdG90eXBlLnJlcGxhY2VBcnJvdz1mdW5jdGlvbihkZWx0YSxkaW1lbnNpb24scG9zaXRpb24pe3RoaXMuYXJyb3coKS5jc3MocG9zaXRpb24sZGVsdGE/NTAqKDEtZGVsdGEvZGltZW5zaW9uKSsiJSI6IiIpfSxUb29sdGlwLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyICR0aXA9dGhpcy50aXAoKSx0aXRsZT10aGlzLmdldFRpdGxlKCk7JHRpcC5maW5kKCIudG9vbHRpcC1pbm5lciIpW3RoaXMub3B0aW9ucy5odG1sPyJodG1sIjoidGV4dCJdKHRpdGxlKSwkdGlwLnJlbW92ZUNsYXNzKCJmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCIpfSxUb29sdGlwLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gY29tcGxldGUoKXsiaW4iIT10aGF0LmhvdmVyU3RhdGUmJiR0aXAuZGV0YWNoKCksdGhhdC4kZWxlbWVudC50cmlnZ2VyKCJoaWRkZW4uYnMuIit0aGF0LnR5cGUpfXZhciB0aGF0PXRoaXMsJHRpcD10aGlzLnRpcCgpLGU9JC5FdmVudCgiaGlkZS5icy4iK3RoaXMudHlwZSk7cmV0dXJuIHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1kZXNjcmliZWRieSIpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpP3ZvaWQgMDooJHRpcC5yZW1vdmVDbGFzcygiaW4iKSwkLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKCJmYWRlIik/JHRpcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6Y29tcGxldGUoKSx0aGlzLmhvdmVyU3RhdGU9bnVsbCx0aGlzKX0sVG9vbHRpcC5wcm90b3R5cGUuZml4VGl0bGU9ZnVuY3Rpb24oKXt2YXIgJGU9dGhpcy4kZWxlbWVudDsoJGUuYXR0cigidGl0bGUiKXx8InN0cmluZyIhPXR5cGVvZiAkZS5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIikpJiYkZS5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIiwkZS5hdHRyKCJ0aXRsZSIpfHwiIikuYXR0cigidGl0bGUiLCIiKX0sVG9vbHRpcC5wcm90b3R5cGUuaGFzQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl9LFRvb2x0aXAucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCRlbGVtZW50KXskZWxlbWVudD0kZWxlbWVudHx8dGhpcy4kZWxlbWVudDt2YXIgZWw9JGVsZW1lbnRbMF0saXNCb2R5PSJCT0RZIj09ZWwudGFnTmFtZTtyZXR1cm4gJC5leHRlbmQoe30sImZ1bmN0aW9uIj09dHlwZW9mIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdD9lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsLHtzY3JvbGw6aXNCb2R5P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOiRlbGVtZW50LnNjcm9sbFRvcCgpLHdpZHRoOmlzQm9keT8kKHdpbmRvdykud2lkdGgoKTokZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OmlzQm9keT8kKHdpbmRvdykuaGVpZ2h0KCk6JGVsZW1lbnQub3V0ZXJIZWlnaHQoKX0saXNCb2R5P3t0b3A6MCxsZWZ0OjB9OiRlbGVtZW50Lm9mZnNldCgpKX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldD1mdW5jdGlvbihwbGFjZW1lbnQscG9zLGFjdHVhbFdpZHRoLGFjdHVhbEhlaWdodCl7cmV0dXJuImJvdHRvbSI9PXBsYWNlbWVudD97dG9wOnBvcy50b3ArcG9zLmhlaWdodCxsZWZ0OnBvcy5sZWZ0K3Bvcy53aWR0aC8yLWFjdHVhbFdpZHRoLzJ9OiJ0b3AiPT1wbGFjZW1lbnQ/e3RvcDpwb3MudG9wLWFjdHVhbEhlaWdodCxsZWZ0OnBvcy5sZWZ0K3Bvcy53aWR0aC8yLWFjdHVhbFdpZHRoLzJ9OiJsZWZ0Ij09cGxhY2VtZW50P3t0b3A6cG9zLnRvcCtwb3MuaGVpZ2h0LzItYWN0dWFsSGVpZ2h0LzIsbGVmdDpwb3MubGVmdC1hY3R1YWxXaWR0aH06e3RvcDpwb3MudG9wK3Bvcy5oZWlnaHQvMi1hY3R1YWxIZWlnaHQvMixsZWZ0OnBvcy5sZWZ0K3Bvcy53aWR0aH19LFRvb2x0aXAucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YT1mdW5jdGlvbihwbGFjZW1lbnQscG9zLGFjdHVhbFdpZHRoLGFjdHVhbEhlaWdodCl7dmFyIGRlbHRhPXt0b3A6MCxsZWZ0OjB9O2lmKCF0aGlzLiR2aWV3cG9ydClyZXR1cm4gZGVsdGE7dmFyIHZpZXdwb3J0UGFkZGluZz10aGlzLm9wdGlvbnMudmlld3BvcnQmJnRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nfHwwLHZpZXdwb3J0RGltZW5zaW9ucz10aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KTtpZigvcmlnaHR8bGVmdC8udGVzdChwbGFjZW1lbnQpKXt2YXIgdG9wRWRnZU9mZnNldD1wb3MudG9wLXZpZXdwb3J0UGFkZGluZy12aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsLGJvdHRvbUVkZ2VPZmZzZXQ9cG9zLnRvcCt2aWV3cG9ydFBhZGRpbmctdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCthY3R1YWxIZWlnaHQ7dG9wRWRnZU9mZnNldDx2aWV3cG9ydERpbWVuc2lvbnMudG9wP2RlbHRhLnRvcD12aWV3cG9ydERpbWVuc2lvbnMudG9wLXRvcEVkZ2VPZmZzZXQ6Ym90dG9tRWRnZU9mZnNldD52aWV3cG9ydERpbWVuc2lvbnMudG9wK3ZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQmJihkZWx0YS50b3A9dmlld3BvcnREaW1lbnNpb25zLnRvcCt2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0LWJvdHRvbUVkZ2VPZmZzZXQpfWVsc2V7dmFyIGxlZnRFZGdlT2Zmc2V0PXBvcy5sZWZ0LXZpZXdwb3J0UGFkZGluZyxyaWdodEVkZ2VPZmZzZXQ9cG9zLmxlZnQrdmlld3BvcnRQYWRkaW5nK2FjdHVhbFdpZHRoO2xlZnRFZGdlT2Zmc2V0PHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0P2RlbHRhLmxlZnQ9dmlld3BvcnREaW1lbnNpb25zLmxlZnQtbGVmdEVkZ2VPZmZzZXQ6cmlnaHRFZGdlT2Zmc2V0PnZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCYmKGRlbHRhLmxlZnQ9dmlld3BvcnREaW1lbnNpb25zLmxlZnQrdmlld3BvcnREaW1lbnNpb25zLndpZHRoLXJpZ2h0RWRnZU9mZnNldCl9cmV0dXJuIGRlbHRhfSxUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpe3ZhciB0aXRsZSwkZT10aGlzLiRlbGVtZW50LG89dGhpcy5vcHRpb25zO3JldHVybiB0aXRsZT0kZS5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIil8fCgiZnVuY3Rpb24iPT10eXBlb2Ygby50aXRsZT9vLnRpdGxlLmNhbGwoJGVbMF0pOm8udGl0bGUpfSxUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQ9ZnVuY3Rpb24ocHJlZml4KXtkbyBwcmVmaXgrPX5+KDFlNipNYXRoLnJhbmRvbSgpKTt3aGlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKTtyZXR1cm4gcHJlZml4fSxUb29sdGlwLnByb3RvdHlwZS50aXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdGlwPXRoaXMuJHRpcHx8JCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpfSxUb29sdGlwLnByb3RvdHlwZS5hcnJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhcnJvdz10aGlzLiRhcnJvd3x8dGhpcy50aXAoKS5maW5kKCIudG9vbHRpcC1hcnJvdyIpfSxUb29sdGlwLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnRbMF0ucGFyZW50Tm9kZXx8KHRoaXMuaGlkZSgpLHRoaXMuJGVsZW1lbnQ9bnVsbCx0aGlzLm9wdGlvbnM9bnVsbCl9LFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMH0sVG9vbHRpcC5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMX0sVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hdGhpcy5lbmFibGVkfSxUb29sdGlwLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oZSl7dmFyIHNlbGY9dGhpcztlJiYoc2VsZj0kKGUuY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUpLHNlbGZ8fChzZWxmPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSwkKGUuY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsc2VsZikpKSxzZWxmLnRpcCgpLmhhc0NsYXNzKCJpbiIpP3NlbGYubGVhdmUoc2VsZik6c2VsZi5lbnRlcihzZWxmKX0sVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMuaGlkZSgpLiRlbGVtZW50Lm9mZigiLiIrdGhpcy50eXBlKS5yZW1vdmVEYXRhKCJicy4iK3RoaXMudHlwZSl9O3ZhciBvbGQ9JC5mbi50b29sdGlwOyQuZm4udG9vbHRpcD1QbHVnaW4sJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yPVRvb2x0aXAsJC5mbi50b29sdGlwLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi50b29sdGlwPW9sZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLnBvcG92ZXIiKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247KGRhdGF8fCJkZXN0cm95IiE9b3B0aW9uKSYmKGRhdGF8fCR0aGlzLmRhdGEoImJzLnBvcG92ZXIiLGRhdGE9bmV3IFBvcG92ZXIodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpKX0pfXZhciBQb3BvdmVyPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5pbml0KCJwb3BvdmVyIixlbGVtZW50LG9wdGlvbnMpfTtpZighJC5mbi50b29sdGlwKXRocm93IG5ldyBFcnJvcigiUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzIik7UG9wb3Zlci5WRVJTSU9OPSIzLjIuMCIsUG9wb3Zlci5ERUZBVUxUUz0kLmV4dGVuZCh7fSwkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IuREVGQVVMVFMse3BsYWNlbWVudDoicmlnaHQiLHRyaWdnZXI6ImNsaWNrIixjb250ZW50OiIiLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJwb3BvdmVyIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJhcnJvdyI+PC9kaXY+PGgzIGNsYXNzPSJwb3BvdmVyLXRpdGxlIj48L2gzPjxkaXYgY2xhc3M9InBvcG92ZXItY29udGVudCI+PC9kaXY+PC9kaXY+J30pLFBvcG92ZXIucHJvdG90eXBlPSQuZXh0ZW5kKHt9LCQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpLFBvcG92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVBvcG92ZXIsUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHM9ZnVuY3Rpb24oKXtyZXR1cm4gUG9wb3Zlci5ERUZBVUxUU30sUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciAkdGlwPXRoaXMudGlwKCksdGl0bGU9dGhpcy5nZXRUaXRsZSgpLGNvbnRlbnQ9dGhpcy5nZXRDb250ZW50KCk7JHRpcC5maW5kKCIucG9wb3Zlci10aXRsZSIpW3RoaXMub3B0aW9ucy5odG1sPyJodG1sIjoidGV4dCJdKHRpdGxlKSwkdGlwLmZpbmQoIi5wb3BvdmVyLWNvbnRlbnQiKS5lbXB0eSgpW3RoaXMub3B0aW9ucy5odG1sPyJzdHJpbmciPT10eXBlb2YgY29udGVudD8iaHRtbCI6ImFwcGVuZCI6InRleHQiXShjb250ZW50KSwkdGlwLnJlbW92ZUNsYXNzKCJmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbiIpLCR0aXAuZmluZCgiLnBvcG92ZXItdGl0bGUiKS5odG1sKCl8fCR0aXAuZmluZCgiLnBvcG92ZXItdGl0bGUiKS5oaWRlKCl9LFBvcG92ZXIucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfHx0aGlzLmdldENvbnRlbnQoKX0sUG9wb3Zlci5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciAkZT10aGlzLiRlbGVtZW50LG89dGhpcy5vcHRpb25zO3JldHVybiAkZS5hdHRyKCJkYXRhLWNvbnRlbnQiKXx8KCJmdW5jdGlvbiI9PXR5cGVvZiBvLmNvbnRlbnQ/by5jb250ZW50LmNhbGwoJGVbMF0pOm8uY29udGVudCl9LFBvcG92ZXIucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoIi5hcnJvdyIpfSxQb3BvdmVyLnByb3RvdHlwZS50aXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdGlwfHwodGhpcy4kdGlwPSQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSksdGhpcy4kdGlwfTt2YXIgb2xkPSQuZm4ucG9wb3ZlcjskLmZuLnBvcG92ZXI9UGx1Z2luLCQuZm4ucG9wb3Zlci5Db25zdHJ1Y3Rvcj1Qb3BvdmVyLCQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4ucG9wb3Zlcj1vbGQsdGhpc319KGpRdWVyeSksZnVuY3Rpb24oKXtmdW5jdGlvbiBtKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBwKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2FdfX1mdW5jdGlvbiByKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiB0KGEsYyxkKXtpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKDA9PT1hLmluZGV4T2YoIiMiKSYmKGE9YS5zbGljZSgxKSksdC5DYVthXSlyZXR1cm4gdC5DYVthXTthPXQudyhhKX1pZighYXx8IWEubm9kZU5hbWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGVsZW1lbnQgb3IgSUQgc3VwcGxpZWQgaXMgbm90IHZhbGlkLiAodmlkZW9qcykiKTtyZXR1cm4gYS5wbGF5ZXJ8fG5ldyB0LlBsYXllcihhLGMsZCl9ZnVuY3Rpb24gdShhLGMsZCxlKXt0LmpjLmZvckVhY2goZCxmdW5jdGlvbihkKXthKGMsZCxlKX0pfWZ1bmN0aW9uIEQoKXt9ZnVuY3Rpb24gRihhLGMpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGMpO2E/ZC51bnNoaWZ0KGEudG9VcHBlckNhc2UoKSsiOiIpOmE9ImxvZyIsdC5sb2cuaGlzdG9yeS5wdXNoKGQpLGQudW5zaGlmdCgiVklERU9KUzoiKSxFW2FdLmFwcGx5P0VbYV0uYXBwbHkoRSxkKTpFW2FdKGQuam9pbigiICIpKX1mdW5jdGlvbiBHKGEpe2EucSgidmpzLWxvY2stc2hvd2luZyIpfWZ1bmN0aW9uIEgoYSxjLGQsZSl7cmV0dXJuIGQhPT1iPyhhLmIuc3R5bGVbY109LTEhPT0oIiIrZCkuaW5kZXhPZigiJSIpfHwtMSE9PSgiIitkKS5pbmRleE9mKCJweCIpP2Q6ImF1dG8iPT09ZD8iIjpkKyJweCIsZXx8YS5sKCJyZXNpemUiKSxhKTphLmI/KGQ9YS5iLnN0eWxlW2NdLGU9ZC5pbmRleE9mKCJweCIpLC0xIT09ZT9wYXJzZUludChkLnNsaWNlKDAsZSksMTApOnBhcnNlSW50KGEuYlsib2Zmc2V0Iit0LmJhKGMpXSwxMCkpOjB9ZnVuY3Rpb24gSShhKXt2YXIgYyxkLGUsZyxoLGosbixxO2M9MCxkPWssYS5kKCJ0b3VjaHN0YXJ0IixmdW5jdGlvbihhKXsxPT09YS50b3VjaGVzLmxlbmd0aCYmKGQ9YS50b3VjaGVzWzBdLGM9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz1mKX0pLGEuZCgidG91Y2htb3ZlIixmdW5jdGlvbihhKXsxPGEudG91Y2hlcy5sZW5ndGg/Zz1sOmQmJihqPWEudG91Y2hlc1swXS5wYWdlWC1kLnBhZ2VYLG49YS50b3VjaGVzWzBdLnBhZ2VZLWQucGFnZVkscT1NYXRoLnNxcnQoaipqK24qbikscT4yMiYmKGc9bCkpfSksaD1mdW5jdGlvbigpe2c9bH0sYS5kKCJ0b3VjaGxlYXZlIixoKSxhLmQoInRvdWNoY2FuY2VsIixoKSxhLmQoInRvdWNoZW5kIixmdW5jdGlvbihhKXtkPWssZz09PWYmJihlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWMsMjUwPmUmJihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5sKCJ0YXAiKSkpfSl9ZnVuY3Rpb24gSihhLGMpe3ZhciBkLGUsZyxoO3JldHVybiBkPWEuYixlPXQudWQoZCksaD1nPWQub2Zmc2V0V2lkdGgsZD1hLmhhbmRsZSxhLm9wdGlvbnMoKS52ZXJ0aWNhbD8oaD1lLnRvcCxlPWMuY2hhbmdlZFRvdWNoZXM/Yy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTpjLnBhZ2VZLGQmJihkPWQudygpLm9mZnNldEhlaWdodCxoKz1kLzIsZy09ZCksTWF0aC5tYXgoMCxNYXRoLm1pbigxLChoLWUrZykvZykpKTooZz1lLmxlZnQsZT1jLmNoYW5nZWRUb3VjaGVzP2MuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg6Yy5wYWdlWCxkJiYoZD1kLncoKS5vZmZzZXRXaWR0aCxnKz1kLzIsaC09ZCksTWF0aC5tYXgoMCxNYXRoLm1pbigxLChlLWcpL2gpKSl9ZnVuY3Rpb24gY2EoYSxjKXthLlIoYyksYy5kKCJjbGljayIsdC5iaW5kKGEsZnVuY3Rpb24oKXtHKHRoaXMpfSkpfWZ1bmN0aW9uIEwoYSl7YS50YT1mLGEuQmEubigidmpzLWxvY2stc2hvd2luZyIpLGEuYi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsZiksYS5PJiYwPGEuTy5sZW5ndGgmJmEuT1swXS53KCkuZm9jdXMoKX1mdW5jdGlvbiBLKGEpe2EudGE9bCxHKGEuQmEpLGEuYi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsbCl9ZnVuY3Rpb24gZGEoYSl7dmFyIGM9e3NvdXJjZXM6W10sdHJhY2tzOltdfTtpZih0LmguQShjLHQuQWEoYSkpLGEuaGFzQ2hpbGROb2RlcygpKXt2YXIgZCxlLGcsaDtmb3IoYT1hLmNoaWxkTm9kZXMsZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZT1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksInNvdXJjZSI9PT1lP2Muc291cmNlcy5wdXNoKHQuQWEoZCkpOiJ0cmFjayI9PT1lJiZjLnRyYWNrcy5wdXNoKHQuQWEoZCkpfXJldHVybiBjfWZ1bmN0aW9uIFIoYSxjLGQpe2EuaSYmKGEubGE9bCxhLkxiJiYoYS5MYj1sLGNsZWFySW50ZXJ2YWwoYS5iYikpLGEuTWImJlMoYSksYS5pLmRpc3Bvc2UoKSxhLmk9bCksIkh0bWw1IiE9PWMmJmEuUCYmKHQuZy5DYihhLlApLGEuUD1rKSxhLmZiPWMsYS5sYT1sO3ZhciBlPXQuaC5BKHtzb3VyY2U6ZCxwYXJlbnRFbDphLmJ9LGEua1tjLnRvTG93ZXJDYXNlKCldKTtkJiYoYS5vYz1kLnR5cGUsZC5zcmM9PWEuQy5zcmMmJjA8YS5DLmN1cnJlbnRUaW1lJiYoZS5zdGFydFRpbWU9YS5DLmN1cnJlbnRUaW1lKSxhLkMuc3JjPWQuc3JjKSxhLmk9bmV3IHdpbmRvdy52aWRlb2pzW2NdKGEsZSksYS5pLkooZnVuY3Rpb24oKXtpZih0aGlzLmMuSGEoKSwhdGhpcy5vLnByb2dyZXNzRXZlbnRzKXt2YXIgYT10aGlzLmM7YS5MYj1mLGEuYmI9c2V0SW50ZXJ2YWwodC5iaW5kKGEsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmJ1ZmZlcmVkUGVyY2VudCgpO3RoaXMuQy5idWZmZXJlZFBlcmNlbnQhPWEmJnRoaXMubCgicHJvZ3Jlc3MiKSx0aGlzLkMuYnVmZmVyZWRQZXJjZW50PWEsMT09YSYmY2xlYXJJbnRlcnZhbCh0aGlzLmJiKX0pLDUwMCksYS5pJiZhLmkuVigicHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7dGhpcy5vLnByb2dyZXNzRXZlbnRzPWY7dmFyIGE9dGhpcy5jO2EuTGI9bCxjbGVhckludGVydmFsKGEuYmIpfSl9dGhpcy5vLnRpbWV1cGRhdGVFdmVudHN8fChhPXRoaXMuYyxhLk1iPWYsYS5kKCJwbGF5IixhLk9jKSxhLmQoInBhdXNlIixhLkVhKSxhLmkmJmEuaS5WKCJ0aW1ldXBkYXRlIixmdW5jdGlvbigpe3RoaXMuby50aW1ldXBkYXRlRXZlbnRzPWYsUyh0aGlzLmMpfSkpfSl9ZnVuY3Rpb24gUyhhKXthLk1iPWwsYS5FYSgpLGEucCgicGxheSIsYS5PYyksYS5wKCJwYXVzZSIsYS5FYSl9ZnVuY3Rpb24gZWEoYSxjKXtjIT09YiYmYS52YyE9PWMmJigoYS52Yz1jKT8oYS5uKCJ2anMtaGFzLXN0YXJ0ZWQiKSxhLmwoImZpcnN0cGxheSIpKTphLnEoInZqcy1oYXMtc3RhcnRlZCIpKX1mdW5jdGlvbiBVKGEsYyxkKXtpZihhLmkmJiFhLmkubGEpYS5pLkooZnVuY3Rpb24oKXt0aGlzW2NdKGQpfSk7ZWxzZSB0cnl7YS5pW2NdKGQpfWNhdGNoKGUpe3Rocm93IHQubG9nKGUpLGV9fWZ1bmN0aW9uIFQoYSxjKXtpZihhLmkmJmEuaS5sYSl0cnl7cmV0dXJuIGEuaVtjXSgpfWNhdGNoKGQpe3Rocm93IGEuaVtjXT09PWI/dC5sb2coIlZpZGVvLmpzOiAiK2MrIiBtZXRob2Qgbm90IGRlZmluZWQgZm9yICIrYS5mYisiIHBsYXliYWNrIHRlY2hub2xvZ3kuIixkKToiVHlwZUVycm9yIj09ZC5uYW1lPyh0LmxvZygiVmlkZW8uanM6ICIrYysiIHVuYXZhaWxhYmxlIG9uICIrYS5mYisiIHBsYXliYWNrIHRlY2hub2xvZ3kgZWxlbWVudC4iLGQpLGEuaS5sYT1sKTp0LmxvZyhkKSxkfX1mdW5jdGlvbiBmYShhLGMpe3ZhciBkO2E6e2Q9MDtmb3IodmFyIGU9YS5rLnRlY2hPcmRlcjtkPGUubGVuZ3RoO2QrKyl7dmFyIGc9dC5iYShlW2RdKSxoPXdpbmRvdy52aWRlb2pzW2ddO2lmKGgpe2lmKGguaXNTdXBwb3J0ZWQoKSlmb3IodmFyIGo9MCxuPWM7ajxuLmxlbmd0aDtqKyspe3ZhciBxPW5bal07aWYoaC5jYW5QbGF5U291cmNlKHEpKXtkPXtzb3VyY2U6cSxpOmd9O2JyZWFrIGF9fX1lbHNlIHQubG9nLmVycm9yKCdUaGUgIicrZysnIiB0ZWNoIGlzIHVuZGVmaW5lZC4gU2tpcHBlZCBicm93c2VyIHN1cHBvcnQgY2hlY2sgZm9yIHRoYXQgdGVjaC4nKX1kPWx9ZD9kLmk9PT1hLmZiP2Euc3JjKGQuc291cmNlKTpSKGEsZC5pLGQuc291cmNlKTooYS5lcnJvcih7Y29kZTo0LG1lc3NhZ2U6YS5vcHRpb25zKCkubm90U3VwcG9ydGVkTWVzc2FnZX0pLGEuSGEoKSl9ZnVuY3Rpb24gZ2EoYSl7cmV0dXJuIGEubSgpLmkmJmEubSgpLmkuby5wbGF5YmFja1JhdGUmJmEubSgpLm9wdGlvbnMoKS5wbGF5YmFja1JhdGVzJiYwPGEubSgpLm9wdGlvbnMoKS5wbGF5YmFja1JhdGVzLmxlbmd0aH1mdW5jdGlvbiBrYSgpe3ZhciBhPVdbWF0sYz1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSk7bGFbInNldCIrY109ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuYi52anNfc2V0UHJvcGVydHkoYSxjKX19ZnVuY3Rpb24gbWEoYSl7bGFbYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLnZqc19nZXRQcm9wZXJ0eShhKX19ZnVuY3Rpb24gb2EoYSxjLGQsZSxnKXt2YXIgaD1hLkdhPWEuR2F8fFtdO2c9Z3x8e30sZy5raW5kPWMsZy5sYWJlbD1kLGcubGFuZ3VhZ2U9ZSxjPXQuYmEoY3x8InN1YnRpdGxlcyIpO3ZhciBqPW5ldyB3aW5kb3cudmlkZW9qc1tjKyJUcmFjayJdKGEsZyk7aC5wdXNoKGopLGouQmIoKSYmYS5KKGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe1koai5tKCksai5pZCgpKX0sMCl9KX1mdW5jdGlvbiBZKGEsYyxkKXtmb3IodmFyIGosbixlPWEuR2EsZz0wLGg9ZS5sZW5ndGg7aD5nO2crKylqPWVbZ10sai5pZCgpPT09Yz8oai5zaG93KCksbj1qKTpkJiZqLksoKT09ZCYmMDxqLm1vZGUoKSYmai5kaXNhYmxlKCk7KGM9bj9uLksoKTpkP2Q6bCkmJmEubChjKyJ0cmFja2NoYW5nZSIpfWZ1bmN0aW9uIHBhKGEpezA9PT1hLm5hJiZhLmxvYWQoKSwwPT09YS5tYSYmKGEuYy5kKCJ0aW1ldXBkYXRlIix0LmJpbmQoYSxhLnVwZGF0ZSxhLlUpKSxhLmMuZCgiZW5kZWQiLHQuYmluZChhLGEucmVzZXQsYS5VKSksKCJjYXB0aW9ucyI9PT1hLkh8fCJzdWJ0aXRsZXMiPT09YS5IKSYmYS5jLmthKCJ0ZXh0VHJhY2tEaXNwbGF5IikuUihhKSl9ZnVuY3Rpb24gcWEoYSl7dmFyIGM9YS5zcGxpdCgiOiIpO2E9MDt2YXIgZCxlLGc7cmV0dXJuIDM9PWMubGVuZ3RoPyhkPWNbMF0sZT1jWzFdLGM9Y1syXSk6KGQ9MCxlPWNbMF0sYz1jWzFdKSxjPWMuc3BsaXQoL1xzKy8pLGM9Yy5zcGxpY2UoMCwxKVswXSxjPWMuc3BsaXQoL1wufCwvKSxnPXBhcnNlRmxvYXQoY1sxXSksYz1jWzBdLGErPTM2MDAqcGFyc2VGbG9hdChkKSxhKz02MCpwYXJzZUZsb2F0KGUpLGErPXBhcnNlRmxvYXQoYyksZyYmKGErPWcvMWUzKSxhfWZ1bmN0aW9uICQoYSxjKXt2YXIgZD1hLnNwbGl0KCIuIiksZT1yYTshKGRbMF1pbiBlKSYmZS5leGVjU2NyaXB0JiZlLmV4ZWNTY3JpcHQoInZhciAiK2RbMF0pO2Zvcih2YXIgZztkLmxlbmd0aCYmKGc9ZC5zaGlmdCgpKTspZC5sZW5ndGh8fGM9PT1iP2U9ZVtnXT9lW2ddOmVbZ109e306ZVtnXT1jfXZhciBiPXZvaWQgMCxmPSEwLGs9bnVsbCxsPSExLHM7ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidmlkZW8iKSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dmFyIHZpZGVvanM9d2luZG93LnZpZGVvanM9dDt0LldiPSI0LjciLHQuVGM9Imh0dHBzOiI9PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sPyJodHRwczovLyI6Imh0dHA6Ly8iLHQub3B0aW9ucz17dGVjaE9yZGVyOlsiaHRtbDUiLCJmbGFzaCJdLGh0bWw1Ont9LGZsYXNoOnt9LHdpZHRoOjMwMCxoZWlnaHQ6MTUwLGRlZmF1bHRWb2x1bWU6MCxwbGF5YmFja1JhdGVzOltdLGNoaWxkcmVuOnttZWRpYUxvYWRlcjp7fSxwb3N0ZXJJbWFnZTp7fSx0ZXh0VHJhY2tEaXNwbGF5Ont9LGxvYWRpbmdTcGlubmVyOnt9LGJpZ1BsYXlCdXR0b246e30sY29udHJvbEJhcjp7fSxlcnJvckRpc3BsYXk6e319LGxhbmd1YWdlOmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJodG1sIilbMF0uZ2V0QXR0cmlidXRlKCJsYW5nIil8fG5hdmlnYXRvci5XYSYmbmF2aWdhdG9yLldhWzBdfHxuYXZpZ2F0b3IudGV8fG5hdmlnYXRvci5sYW5ndWFnZXx8ImVuIixsYW5ndWFnZXM6e30sbm90U3VwcG9ydGVkTWVzc2FnZToiTm8gY29tcGF0aWJsZSBzb3VyY2Ugd2FzIGZvdW5kIGZvciB0aGlzIHZpZGVvLiJ9LCJHRU5FUkFURURfQ0ROX1ZTTiIhPT10LldiJiYodmlkZW9qcy5vcHRpb25zLmZsYXNoLnN3Zj10LlRjKyJ2anMuemVuY2RuLm5ldC8iK3QuV2IrIi92aWRlby1qcy5zd2YiKSx0LkNhPXt9LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHZpZGVvanN9KToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9dmlkZW9qcyksdC5yYT10LkNvcmVPYmplY3Q9bSgpLHQucmEuZXh0ZW5kPWZ1bmN0aW9uKGEpe3ZhciBjLGQ7YT1hfHx7fSxjPWEuaW5pdHx8YS5qfHx0aGlzLnByb3RvdHlwZS5pbml0fHx0aGlzLnByb3RvdHlwZS5qfHxtKCksZD1mdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkLnByb3RvdHlwZT10LmguY3JlYXRlKHRoaXMucHJvdG90eXBlKSxkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kLGQuZXh0ZW5kPXQucmEuZXh0ZW5kLGQuY3JlYXRlPXQucmEuY3JlYXRlO2Zvcih2YXIgZSBpbiBhKWEuaGFzT3duUHJvcGVydHkoZSkmJihkLnByb3RvdHlwZVtlXT1hW2VdKTtyZXR1cm4gZH0sdC5yYS5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgYT10LmguY3JlYXRlKHRoaXMucHJvdG90eXBlKTtyZXR1cm4gdGhpcy5hcHBseShhLGFyZ3VtZW50cyksYX0sdC5kPWZ1bmN0aW9uKGEsYyxkKXtpZih0LmguaXNBcnJheShjKSlyZXR1cm4gdSh0LmQsYSxjLGQpO3ZhciBlPXQuZ2V0RGF0YShhKTtlLkZ8fChlLkY9e30pLGUuRltjXXx8KGUuRltjXT1bXSksZC56fHwoZC56PXQueisrKSxlLkZbY10ucHVzaChkKSxlLll8fChlLmRpc2FibGVkPWwsZS5ZPWZ1bmN0aW9uKGMpe2lmKCFlLmRpc2FibGVkKXtjPXQucmMoYyk7dmFyIGQ9ZS5GW2MudHlwZV07aWYoZClmb3IodmFyIGQ9ZC5zbGljZSgwKSxqPTAsbj1kLmxlbmd0aDtuPmomJiFjLnljKCk7aisrKWRbal0uY2FsbChhLGMpfX0pLDE9PWUuRltjXS5sZW5ndGgmJihhLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGMsZS5ZLGwpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitjLGUuWSkpfSx0LnA9ZnVuY3Rpb24oYSxjLGQpe2lmKHQudWMoYSkpe3ZhciBlPXQuZ2V0RGF0YShhKTtpZihlLkYpe2lmKHQuaC5pc0FycmF5KGMpKXJldHVybiB1KHQucCxhLGMsZCk7aWYoYyl7dmFyIGc9ZS5GW2NdO2lmKGcpe2lmKGQpe2lmKGQueilmb3IoZT0wO2U8Zy5sZW5ndGg7ZSsrKWdbZV0uej09PWQueiYmZy5zcGxpY2UoZS0tLDEpfWVsc2UgZS5GW2NdPVtdO3QubGMoYSxjKX19ZWxzZSBmb3IoZyBpbiBlLkYpYz1nLGUuRltjXT1bXSx0LmxjKGEsYyl9fX0sdC5sYz1mdW5jdGlvbihhLGMpe3ZhciBkPXQuZ2V0RGF0YShhKTswPT09ZC5GW2NdLmxlbmd0aCYmKGRlbGV0ZSBkLkZbY10sYS5yZW1vdmVFdmVudExpc3RlbmVyP2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGQuWSxsKTphLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYyxkLlkpKSx0LkliKGQuRikmJihkZWxldGUgZC5GLGRlbGV0ZSBkLlksZGVsZXRlIGQuZGlzYWJsZWQpLHQuSWIoZCkmJnQuRmMoYSl9LHQucmM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe3JldHVybiBmfWZ1bmN0aW9uIGQoKXtyZXR1cm4gbH1pZighYXx8IWEuSmIpe3ZhciBlPWF8fHdpbmRvdy5ldmVudDthPXt9O2Zvcih2YXIgZyBpbiBlKSJsYXllclgiIT09ZyYmImxheWVyWSIhPT1nJiYia2V5Ym9hcmRFdmVudC5rZXlMb2NhdGlvbiIhPT1nJiYoInJldHVyblZhbHVlIj09ZyYmZS5wcmV2ZW50RGVmYXVsdHx8KGFbZ109ZVtnXSkpO2lmKGEudGFyZ2V0fHwoYS50YXJnZXQ9YS5zcmNFbGVtZW50fHxkb2N1bWVudCksYS5yZWxhdGVkVGFyZ2V0PWEuZnJvbUVsZW1lbnQ9PT1hLnRhcmdldD9hLnRvRWxlbWVudDphLmZyb21FbGVtZW50LGEucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCksYS5yZXR1cm5WYWx1ZT1sLGEueWQ9YyxhLmRlZmF1bHRQcmV2ZW50ZWQ9Zn0sYS55ZD1kLGEuZGVmYXVsdFByZXZlbnRlZD1sLGEuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7ZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksYS5jYW5jZWxCdWJibGU9ZixhLkpiPWN9LGEuSmI9ZCxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJiZlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEueWM9YyxhLnN0b3BQcm9wYWdhdGlvbigpfSxhLnljPWQsYS5jbGllbnRYIT1rKXtnPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt2YXIgaD1kb2N1bWVudC5ib2R5O2EucGFnZVg9YS5jbGllbnRYKyhnJiZnLnNjcm9sbExlZnR8fGgmJmguc2Nyb2xsTGVmdHx8MCktKGcmJmcuY2xpZW50TGVmdHx8aCYmaC5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWEuY2xpZW50WSsoZyYmZy5zY3JvbGxUb3B8fGgmJmguc2Nyb2xsVG9wfHwwKS0oZyYmZy5jbGllbnRUb3B8fGgmJmguY2xpZW50VG9wfHwwKX1hLndoaWNoPWEuY2hhckNvZGV8fGEua2V5Q29kZSxhLmJ1dHRvbiE9ayYmKGEuYnV0dG9uPTEmYS5idXR0b24/MDo0JmEuYnV0dG9uPzE6MiZhLmJ1dHRvbj8yOjApfXJldHVybiBhfSx0Lmw9ZnVuY3Rpb24oYSxjKXt2YXIgZD10LnVjKGEpP3QuZ2V0RGF0YShhKTp7fSxlPWEucGFyZW50Tm9kZXx8YS5vd25lckRvY3VtZW50O3JldHVybiJzdHJpbmciPT10eXBlb2YgYyYmKGM9e3R5cGU6Yyx0YXJnZXQ6YX0pLGM9dC5yYyhjKSxkLlkmJmQuWS5jYWxsKGEsYyksZSYmIWMuSmIoKSYmYy5idWJibGVzIT09bD90LmwoZSxjKTplfHxjLmRlZmF1bHRQcmV2ZW50ZWR8fChkPXQuZ2V0RGF0YShjLnRhcmdldCksIWMudGFyZ2V0W2MudHlwZV0pfHwoZC5kaXNhYmxlZD1mLCJmdW5jdGlvbiI9PXR5cGVvZiBjLnRhcmdldFtjLnR5cGVdJiZjLnRhcmdldFtjLnR5cGVdKCksZC5kaXNhYmxlZD1sKSwhYy5kZWZhdWx0UHJldmVudGVkfSx0LlY9ZnVuY3Rpb24oYSxjLGQpe2Z1bmN0aW9uIGUoKXt0LnAoYSxjLGUpLGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0LmguaXNBcnJheShjKT91KHQuVixhLGMsZCk6KGUuej1kLno9ZC56fHx0LnorKyx2b2lkIHQuZChhLGMsZSkpfTt2YXIgdz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3QuZT1mdW5jdGlvbihhLGMpe3ZhciBkO3JldHVybiBjPWN8fHt9LGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhfHwiZGl2IiksdC5oLlooYyxmdW5jdGlvbihhLGMpey0xIT09YS5pbmRleE9mKCJhcmlhLSIpfHwicm9sZSI9PWE/ZC5zZXRBdHRyaWJ1dGUoYSxjKTpkW2FdPWN9KSxkfSx0LmJhPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSl9LHQuaD17fSx0LmguY3JlYXRlPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXt9cmV0dXJuIGMucHJvdG90eXBlPWEsbmV3IGN9LHQuaC5aPWZ1bmN0aW9uKGEsYyxkKXtmb3IodmFyIGUgaW4gYSl3LmNhbGwoYSxlKSYmYy5jYWxsKGR8fHRoaXMsZSxhW2VdKX0sdC5oLkE9ZnVuY3Rpb24oYSxjKXtpZighYylyZXR1cm4gYTtmb3IodmFyIGQgaW4gYyl3LmNhbGwoYyxkKSYmKGFbZF09Y1tkXSk7cmV0dXJuIGF9LHQuaC5tZD1mdW5jdGlvbihhLGMpe3ZhciBkLGUsZzthPXQuaC5jb3B5KGEpO2ZvcihkIGluIGMpdy5jYWxsKGMsZCkmJihlPWFbZF0sZz1jW2RdLGFbZF09dC5oLlVhKGUpJiZ0LmguVWEoZyk/dC5oLm1kKGUsZyk6Y1tkXSk7cmV0dXJuIGF9LHQuaC5jb3B5PWZ1bmN0aW9uKGEpe3JldHVybiB0LmguQSh7fSxhKX0sdC5oLlVhPWZ1bmN0aW9uKGEpe3JldHVybiEhYSYmIm9iamVjdCI9PXR5cGVvZiBhJiYiW29iamVjdCBPYmplY3RdIj09PWEudG9TdHJpbmcoKSYmYS5jb25zdHJ1Y3Rvcj09PU9iamVjdH0sdC5oLmlzQXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX0sdC5iaW5kPWZ1bmN0aW9uKGEsYyxkKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfXJldHVybiBjLnp8fChjLno9dC56KyspLGUuej1kP2QrIl8iK2MuejpjLnosZX0sdC52YT17fSx0Lno9MSx0LmV4cGFuZG89InZkYXRhIisobmV3IERhdGUpLmdldFRpbWUoKSx0LmdldERhdGE9ZnVuY3Rpb24oYSl7dmFyIGM9YVt0LmV4cGFuZG9dO3JldHVybiBjfHwoYz1hW3QuZXhwYW5kb109dC56KyssdC52YVtjXT17fSksdC52YVtjXX0sdC51Yz1mdW5jdGlvbihhKXtyZXR1cm4gYT1hW3QuZXhwYW5kb10sISghYXx8dC5JYih0LnZhW2FdKSl9LHQuRmM9ZnVuY3Rpb24oYSl7dmFyIGM9YVt0LmV4cGFuZG9dO2lmKGMpe2RlbGV0ZSB0LnZhW2NdO3RyeXtkZWxldGUgYVt0LmV4cGFuZG9dfWNhdGNoKGQpe2EucmVtb3ZlQXR0cmlidXRlP2EucmVtb3ZlQXR0cmlidXRlKHQuZXhwYW5kbyk6YVt0LmV4cGFuZG9dPWt9fX0sdC5JYj1mdW5jdGlvbihhKXtmb3IodmFyIGMgaW4gYSlpZihhW2NdIT09aylyZXR1cm4gbDtyZXR1cm4gZn0sdC5uPWZ1bmN0aW9uKGEsYyl7LTE9PSgiICIrYS5jbGFzc05hbWUrIiAiKS5pbmRleE9mKCIgIitjKyIgIikmJihhLmNsYXNzTmFtZT0iIj09PWEuY2xhc3NOYW1lP2M6YS5jbGFzc05hbWUrIiAiK2MpfSx0LnE9ZnVuY3Rpb24oYSxjKXt2YXIgZCxlO2lmKC0xIT1hLmNsYXNzTmFtZS5pbmRleE9mKGMpKXtmb3IoZD1hLmNsYXNzTmFtZS5zcGxpdCgiICIpLGU9ZC5sZW5ndGgtMTtlPj0wO2UtLSlkW2VdPT09YyYmZC5zcGxpY2UoZSwxKTthLmNsYXNzTmFtZT1kLmpvaW4oIiAiKX19LHQuQj10LmUoInZpZGVvIiksdC5NPW5hdmlnYXRvci51c2VyQWdlbnQsdC5aYz0vaVBob25lL2kudGVzdCh0Lk0pLHQuWWM9L2lQYWQvaS50ZXN0KHQuTSksdC4kYz0vaVBvZC9pLnRlc3QodC5NKSx0LlhjPXQuWmN8fHQuWWN8fHQuJGM7dmFyIGFhPXQseCx5PXQuTS5tYXRjaCgvT1MgKFxkKylfL2kpO3g9eSYmeVsxXT95WzFdOmIsYWEua2U9eCx0LlZjPS9BbmRyb2lkL2kudGVzdCh0Lk0pO3ZhciBiYT10LHosQT10Lk0ubWF0Y2goL0FuZHJvaWQgKFxkKykoPzpcLihcZCspKT8oPzpcLihcZCspKSovaSksQixDO0E/KEI9QVsxXSYmcGFyc2VGbG9hdChBWzFdKSxDPUFbMl0mJnBhcnNlRmxvYXQoQVsyXSksej1CJiZDP3BhcnNlRmxvYXQoQVsxXSsiLiIrQVsyXSk6Qj9COmspOno9ayxiYS5WYj16LHQuYWQ9dC5WYyYmL3dlYmtpdC9pLnRlc3QodC5NKSYmMi4zPnQuVmIsdC5XYz0vRmlyZWZveC9pLnRlc3QodC5NKSx0LmxlPS9DaHJvbWUvaS50ZXN0KHQuTSksdC5mYz0hISgib250b3VjaHN0YXJ0ImluIHdpbmRvd3x8d2luZG93LlVjJiZkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5VYyksdC5IYz1mdW5jdGlvbihhLGMpe3QuaC5aKGMsZnVuY3Rpb24oYyxlKXtlPT09a3x8InVuZGVmaW5lZCI9PXR5cGVvZiBlfHxlPT09bD9hLnJlbW92ZUF0dHJpYnV0ZShjKTphLnNldEF0dHJpYnV0ZShjLGU9PT1mPyIiOmUpfSl9LHQuQWE9ZnVuY3Rpb24oYSl7dmFyIGMsZCxlLGc7aWYoYz17fSxhJiZhLmF0dHJpYnV0ZXMmJjA8YS5hdHRyaWJ1dGVzLmxlbmd0aCl7ZD1hLmF0dHJpYnV0ZXM7Zm9yKHZhciBoPWQubGVuZ3RoLTE7aD49MDtoLS0pZT1kW2hdLm5hbWUsZz1kW2hdLnZhbHVlLCgiYm9vbGVhbiI9PXR5cGVvZiBhW2VdfHwtMSE9PSIsYXV0b3BsYXksY29udHJvbHMsbG9vcCxtdXRlZCxkZWZhdWx0LCIuaW5kZXhPZigiLCIrZSsiLCIpKSYmKGc9ZyE9PWs/ZjpsKSxjW2VdPWd9cmV0dXJuIGN9LHQubmU9ZnVuY3Rpb24oYSxjKXt2YXIgZD0iIjtyZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZD1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsIiIpLmdldFByb3BlcnR5VmFsdWUoYyk6YS5jdXJyZW50U3R5bGUmJihkPWFbImNsaWVudCIrYy5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyKDEpXSsicHgiKSxkfSx0LkhiPWZ1bmN0aW9uKGEsYyl7Yy5maXJzdENoaWxkP2MuaW5zZXJ0QmVmb3JlKGEsYy5maXJzdENoaWxkKTpjLmFwcGVuZENoaWxkKGEpfSx0LlFhPXt9LHQudz1mdW5jdGlvbihhKXtyZXR1cm4gMD09PWEuaW5kZXhPZigiIyIpJiYoYT1hLnNsaWNlKDEpKSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKX0sdC56YT1mdW5jdGlvbihhLGMpe2M9Y3x8YTt2YXIgZD1NYXRoLmZsb29yKGElNjApLGU9TWF0aC5mbG9vcihhLzYwJTYwKSxnPU1hdGguZmxvb3IoYS8zNjAwKSxoPU1hdGguZmxvb3IoYy82MCU2MCksaj1NYXRoLmZsb29yKGMvMzYwMCk7cmV0dXJuKGlzTmFOKGEpfHwxLzA9PT1hKSYmKGc9ZT1kPSItIiksZz1nPjB8fGo+MD9nKyI6IjoiIixnKygoKGd8fGg+PTEwKSYmMTA+ZT8iMCIrZTplKSsiOiIpKygxMD5kPyIwIitkOmQpfSx0LmdkPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5mb2N1cygpLGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9cihsKX0sdC5nZT1mdW5jdGlvbigpe2RvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9cihmKX0sdC50cmltPWZ1bmN0aW9uKGEpe3JldHVybihhKyIiKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9LHQucm91bmQ9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gY3x8KGM9MCksTWF0aC5yb3VuZChhKk1hdGgucG93KDEwLGMpKS9NYXRoLnBvdygxMCxjKX0sdC5BYj1mdW5jdGlvbihhLGMpe3JldHVybntsZW5ndGg6MSxzdGFydDpmdW5jdGlvbigpe3JldHVybiBhfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gY319fSx0LmdldD1mdW5jdGlvbihhLGMsZCxlKXt2YXIgZyxoLGosbjtkPWR8fG0oKSwidW5kZWZpbmVkIj09dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiYod2luZG93LlhNTEh0dHBSZXF1ZXN0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoIk1zeG1sMi5YTUxIVFRQLjYuMCIpfWNhdGNoKGEpe310cnl7cmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAuMy4wIil9Y2F0Y2goYyl7fXRyeXtyZXR1cm4gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpfWNhdGNoKGQpe310aHJvdyBFcnJvcigiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QuIil9KSxoPW5ldyBYTUxIdHRwUmVxdWVzdCxqPXQuU2QoYSksbj13aW5kb3cubG9jYXRpb24sai5wcm90b2NvbCtqLmhvc3Q9PT1uLnByb3RvY29sK24uaG9zdHx8IXdpbmRvdy5YRG9tYWluUmVxdWVzdHx8IndpdGhDcmVkZW50aWFscyJpbiBoPyhnPSJmaWxlOiI9PWoucHJvdG9jb2x8fCJmaWxlOiI9PW4ucHJvdG9jb2wsaC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09aC5yZWFkeVN0YXRlJiYoMjAwPT09aC5zdGF0dXN8fGcmJjA9PT1oLnN0YXR1cz9jKGgucmVzcG9uc2VUZXh0KTpkKGgucmVzcG9uc2VUZXh0KSl9KTooaD1uZXcgd2luZG93LlhEb21haW5SZXF1ZXN0LGgub25sb2FkPWZ1bmN0aW9uKCl7YyhoLnJlc3BvbnNlVGV4dCl9LGgub25lcnJvcj1kLGgub25wcm9ncmVzcz1tKCksaC5vbnRpbWVvdXQ9ZCk7dHJ5e2gub3BlbigiR0VUIixhLGYpLGUmJihoLndpdGhDcmVkZW50aWFscz1mKX1jYXRjaChxKXtyZXR1cm4gdm9pZCBkKHEpfXRyeXtoLnNlbmQoKX1jYXRjaCh2KXtkKHYpfX0sdC5YZD1mdW5jdGlvbihhKXt0cnl7dmFyIGM9d2luZG93LmxvY2FsU3RvcmFnZXx8bDsKYyYmKGMudm9sdW1lPWEpfWNhdGNoKGQpezIyPT1kLmNvZGV8fDEwMTQ9PWQuY29kZT90LmxvZygiTG9jYWxTdG9yYWdlIEZ1bGwgKFZpZGVvSlMpIixkKToxOD09ZC5jb2RlP3QubG9nKCJMb2NhbFN0b3JhZ2Ugbm90IGFsbG93ZWQgKFZpZGVvSlMpIixkKTp0LmxvZygiTG9jYWxTdG9yYWdlIEVycm9yIChWaWRlb0pTKSIsZCl9fSx0LnRjPWZ1bmN0aW9uKGEpe3JldHVybiBhLm1hdGNoKC9eaHR0cHM/OlwvXC8vKXx8KGE9dC5lKCJkaXYiLHtpbm5lckhUTUw6JzxhIGhyZWY9IicrYSsnIj54PC9hPid9KS5maXJzdENoaWxkLmhyZWYpLGF9LHQuU2Q9ZnVuY3Rpb24oYSl7dmFyIGMsZCxlLGc7Zz0icHJvdG9jb2wgaG9zdG5hbWUgcG9ydCBwYXRobmFtZSBzZWFyY2ggaGFzaCBob3N0Ii5zcGxpdCgiICIpLGQ9dC5lKCJhIix7aHJlZjphfSksKGU9IiI9PT1kLmhvc3QmJiJmaWxlOiIhPT1kLnByb3RvY29sKSYmKGM9dC5lKCJkaXYiKSxjLmlubmVySFRNTD0nPGEgaHJlZj0iJythKyciPjwvYT4nLGQ9Yy5maXJzdENoaWxkLGMuc2V0QXR0cmlidXRlKCJzdHlsZSIsImRpc3BsYXk6bm9uZTsgcG9zaXRpb246YWJzb2x1dGU7IiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjKSksYT17fTtmb3IodmFyIGg9MDtoPGcubGVuZ3RoO2grKylhW2dbaF1dPWRbZ1toXV07cmV0dXJuIGUmJmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYyksYX07dmFyIEU9d2luZG93LmNvbnNvbGV8fHtsb2c6RCx3YXJuOkQsZXJyb3I6RH07dC5sb2c9ZnVuY3Rpb24oKXtGKGssYXJndW1lbnRzKX0sdC5sb2cuaGlzdG9yeT1bXSx0LmxvZy5lcnJvcj1mdW5jdGlvbigpe0YoImVycm9yIixhcmd1bWVudHMpfSx0LmxvZy53YXJuPWZ1bmN0aW9uKCl7Rigid2FybiIsYXJndW1lbnRzKX0sdC51ZD1mdW5jdGlvbihhKXt2YXIgYyxkO3JldHVybiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmYS5wYXJlbnROb2RlJiYoYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxjPyhhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkPWRvY3VtZW50LmJvZHkse2xlZnQ6dC5yb3VuZChjLmxlZnQrKHdpbmRvdy5wYWdlWE9mZnNldHx8ZC5zY3JvbGxMZWZ0KS0oYS5jbGllbnRMZWZ0fHxkLmNsaWVudExlZnR8fDApKSx0b3A6dC5yb3VuZChjLnRvcCsod2luZG93LnBhZ2VZT2Zmc2V0fHxkLnNjcm9sbFRvcCktKGEuY2xpZW50VG9wfHxkLmNsaWVudFRvcHx8MCkpfSk6e2xlZnQ6MCx0b3A6MH19LHQuamM9e30sdC5qYy5mb3JFYWNoPWZ1bmN0aW9uKGEsYyxkKXtpZih0LmguaXNBcnJheShhKSYmYyBpbnN0YW5jZW9mIEZ1bmN0aW9uKWZvcih2YXIgZT0wLGc9YS5sZW5ndGg7Zz5lOysrZSljLmNhbGwoZHx8dCxhW2VdLGUsYSk7cmV0dXJuIGF9LHQucWE9e30sdC5xYS5OYj1mdW5jdGlvbihhLGMpe3ZhciBkLGUsZzthPXQuaC5jb3B5KGEpO2ZvcihkIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShkKSYmKGU9YVtkXSxnPWNbZF0sYVtkXT10LmguVWEoZSkmJnQuaC5VYShnKT90LnFhLk5iKGUsZyk6Y1tkXSk7cmV0dXJuIGF9LHQuYT10LnJhLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7aWYodGhpcy5jPWEsdGhpcy5rPXQuaC5jb3B5KHRoaXMuayksYz10aGlzLm9wdGlvbnMoYyksdGhpcy5VPWMuaWR8fChjLmVsJiZjLmVsLmlkP2MuZWwuaWQ6YS5pZCgpKyJfY29tcG9uZW50XyIrdC56KyspLHRoaXMuRmQ9Yy5uYW1lfHxrLHRoaXMuYj1jLmVsfHx0aGlzLmUoKSx0aGlzLk49W10sdGhpcy5SYT17fSx0aGlzLlNhPXt9LHRoaXMud2MoKSx0aGlzLkooZCksYy5HYyE9PWwpe3ZhciBlLGc7ZT10LmJpbmQodGhpcy5tKCksdGhpcy5tKCkucmVwb3J0VXNlckFjdGl2aXR5KSx0aGlzLmQoInRvdWNoc3RhcnQiLGZ1bmN0aW9uKCl7ZSgpLGNsZWFySW50ZXJ2YWwoZyksZz1zZXRJbnRlcnZhbChlLDI1MCl9KSxhPWZ1bmN0aW9uKCl7ZSgpLGNsZWFySW50ZXJ2YWwoZyl9LHRoaXMuZCgidG91Y2htb3ZlIixlKSx0aGlzLmQoInRvdWNoZW5kIixhKSx0aGlzLmQoInRvdWNoY2FuY2VsIixhKX19fSkscz10LmEucHJvdG90eXBlLHMuZGlzcG9zZT1mdW5jdGlvbigpe2lmKHRoaXMubCh7dHlwZToiZGlzcG9zZSIsYnViYmxlczpsfSksdGhpcy5OKWZvcih2YXIgYT10aGlzLk4ubGVuZ3RoLTE7YT49MDthLS0pdGhpcy5OW2FdLmRpc3Bvc2UmJnRoaXMuTlthXS5kaXNwb3NlKCk7dGhpcy5TYT10aGlzLlJhPXRoaXMuTj1rLHRoaXMucCgpLHRoaXMuYi5wYXJlbnROb2RlJiZ0aGlzLmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmIpLHQuRmModGhpcy5iKSx0aGlzLmI9a30scy5jPWYscy5tPXAoImMiKSxzLm9wdGlvbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iP3RoaXMuazp0aGlzLms9dC5xYS5OYih0aGlzLmssYSl9LHMuZT1mdW5jdGlvbihhLGMpe3JldHVybiB0LmUoYSxjKX0scy5zPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuYy5sYW5ndWFnZSgpLGQ9dGhpcy5jLldhKCk7cmV0dXJuIGQmJmRbY10mJmRbY11bYV0/ZFtjXVthXTphfSxzLnc9cCgiYiIpLHMuamE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52fHx0aGlzLmJ9LHMuaWQ9cCgiVSIpLHMubmFtZT1wKCJGZCIpLHMuY2hpbGRyZW49cCgiTiIpLHMud2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuUmFbYV19LHMua2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuU2FbYV19LHMuUj1mdW5jdGlvbihhLGMpe3ZhciBkLGU7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhlPWEsYz1jfHx7fSxkPWMuY29tcG9uZW50Q2xhc3N8fHQuYmEoZSksYy5uYW1lPWUsZD1uZXcgd2luZG93LnZpZGVvanNbZF0odGhpcy5jfHx0aGlzLGMpKTpkPWEsdGhpcy5OLnB1c2goZCksImZ1bmN0aW9uIj09dHlwZW9mIGQuaWQmJih0aGlzLlJhW2QuaWQoKV09ZCksKGU9ZXx8ZC5uYW1lJiZkLm5hbWUoKSkmJih0aGlzLlNhW2VdPWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBkLmVsJiZkLmVsKCkmJnRoaXMuamEoKS5hcHBlbmRDaGlsZChkLmVsKCkpLGR9LHMucmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24oYSl7aWYoInN0cmluZyI9PXR5cGVvZiBhJiYoYT10aGlzLmthKGEpKSxhJiZ0aGlzLk4pe2Zvcih2YXIgYz1sLGQ9dGhpcy5OLmxlbmd0aC0xO2Q+PTA7ZC0tKWlmKHRoaXMuTltkXT09PWEpe2M9Zix0aGlzLk4uc3BsaWNlKGQsMSk7YnJlYWt9YyYmKHRoaXMuUmFbYS5pZF09ayx0aGlzLlNhW2EubmFtZV09aywoYz1hLncoKSkmJmMucGFyZW50Tm9kZT09PXRoaXMuamEoKSYmdGhpcy5qYSgpLnJlbW92ZUNoaWxkKGEudygpKSl9fSxzLndjPWZ1bmN0aW9uKCl7dmFyIGEsYyxkLGU7aWYoYT10aGlzLGM9dGhpcy5vcHRpb25zKCkuY2hpbGRyZW4paWYodC5oLmlzQXJyYXkoYykpZm9yKHZhciBnPTA7ZzxjLmxlbmd0aDtnKyspZD1jW2ddLCJzdHJpbmciPT10eXBlb2YgZD8oZT1kLGQ9e30pOmU9ZC5uYW1lLGFbZV09YS5SKGUsZCk7ZWxzZSB0LmguWihjLGZ1bmN0aW9uKGMsZCl7ZCE9PWwmJihhW2NdPWEuUihjLGQpKX0pfSxzLlQ9cigiIikscy5kPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHQuZCh0aGlzLmIsYSx0LmJpbmQodGhpcyxjKSksdGhpc30scy5wPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHQucCh0aGlzLmIsYSxjKSx0aGlzfSxzLlY9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdC5WKHRoaXMuYixhLHQuYmluZCh0aGlzLGMpKSx0aGlzfSxzLmw9ZnVuY3Rpb24oYSl7cmV0dXJuIHQubCh0aGlzLmIsYSksdGhpc30scy5KPWZ1bmN0aW9uKGEpe3JldHVybiBhJiYodGhpcy5sYT9hLmNhbGwodGhpcyk6KHRoaXMuY2I9PT1iJiYodGhpcy5jYj1bXSksdGhpcy5jYi5wdXNoKGEpKSksdGhpc30scy5IYT1mdW5jdGlvbigpe3RoaXMubGE9Zjt2YXIgYT10aGlzLmNiO2lmKGEmJjA8YS5sZW5ndGgpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylhW2NdLmNhbGwodGhpcyk7dGhpcy5jYj1bXSx0aGlzLmwoInJlYWR5Iil9fSxzLm49ZnVuY3Rpb24oYSl7cmV0dXJuIHQubih0aGlzLmIsYSksdGhpc30scy5xPWZ1bmN0aW9uKGEpe3JldHVybiB0LnEodGhpcy5iLGEpLHRoaXN9LHMuc2hvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuc3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXN9LHMuWD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpc30scy5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5YKCksdGhpcy5zaG93PW0oKX0scy53aWR0aD1mdW5jdGlvbihhLGMpe3JldHVybiBIKHRoaXMsIndpZHRoIixhLGMpfSxzLmhlaWdodD1mdW5jdGlvbihhLGMpe3JldHVybiBIKHRoaXMsImhlaWdodCIsYSxjKX0scy5wZD1mdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLndpZHRoKGEsZikuaGVpZ2h0KGMpfSx0LnQ9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSxJKHRoaXMpLHRoaXMuZCgidGFwIix0aGlzLnIpLHRoaXMuZCgiY2xpY2siLHRoaXMuciksdGhpcy5kKCJmb2N1cyIsdGhpcy5aYSksdGhpcy5kKCJibHVyIix0aGlzLllhKX19KSxzPXQudC5wcm90b3R5cGUscy5lPWZ1bmN0aW9uKGEsYyl7dmFyIGQ7cmV0dXJuIGM9dC5oLkEoe2NsYXNzTmFtZTp0aGlzLlQoKSxyb2xlOiJidXR0b24iLCJhcmlhLWxpdmUiOiJwb2xpdGUiLHRhYkluZGV4OjB9LGMpLGQ9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxhLGMpLGMuaW5uZXJIVE1MfHwodGhpcy52PXQuZSgiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtY29udHJvbC1jb250ZW50In0pLHRoaXMueWI9dC5lKCJzcGFuIix7Y2xhc3NOYW1lOiJ2anMtY29udHJvbC10ZXh0Iixpbm5lckhUTUw6dGhpcy5zKHRoaXMudWEpfHwiTmVlZCBUZXh0In0pLHRoaXMudi5hcHBlbmRDaGlsZCh0aGlzLnliKSxkLmFwcGVuZENoaWxkKHRoaXMudikpLGR9LHMuVD1mdW5jdGlvbigpe3JldHVybiJ2anMtY29udHJvbCAiK3QuYS5wcm90b3R5cGUuVC5jYWxsKHRoaXMpfSxzLnI9bSgpLHMuWmE9ZnVuY3Rpb24oKXt0LmQoZG9jdW1lbnQsImtleXVwIix0LmJpbmQodGhpcyx0aGlzLmVhKSl9LHMuZWE9ZnVuY3Rpb24oYSl7KDMyPT1hLndoaWNofHwxMz09YS53aGljaCkmJihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5yKCkpfSxzLllhPWZ1bmN0aW9uKCl7dC5wKGRvY3VtZW50LCJrZXl1cCIsdC5iaW5kKHRoaXMsdGhpcy5lYSkpfSx0LlE9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSx0aGlzLmZkPXRoaXMua2EodGhpcy5rLmJhck5hbWUpLHRoaXMuaGFuZGxlPXRoaXMua2EodGhpcy5rLmhhbmRsZU5hbWUpLHRoaXMuZCgibW91c2Vkb3duIix0aGlzLiRhKSx0aGlzLmQoInRvdWNoc3RhcnQiLHRoaXMuJGEpLHRoaXMuZCgiZm9jdXMiLHRoaXMuWmEpLHRoaXMuZCgiYmx1ciIsdGhpcy5ZYSksdGhpcy5kKCJjbGljayIsdGhpcy5yKSx0aGlzLmMuZCgiY29udHJvbHN2aXNpYmxlIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpLGEuZCh0aGlzLkNjLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlKSksdGhpcy5TPXt9LHRoaXMuUy5tb3ZlPXQuYmluZCh0aGlzLHRoaXMuYWIpLHRoaXMuUy5lbmQ9dC5iaW5kKHRoaXMsdGhpcy5PYil9fSkscz10LlEucHJvdG90eXBlLHMuZT1mdW5jdGlvbihhLGMpe3JldHVybiBjPWN8fHt9LGMuY2xhc3NOYW1lKz0iIHZqcy1zbGlkZXIiLGM9dC5oLkEoe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVub3ciOjAsImFyaWEtdmFsdWVtaW4iOjAsImFyaWEtdmFsdWVtYXgiOjEwMCx0YWJJbmRleDowfSxjKSx0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLGEsYyl9LHMuJGE9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLHQuZ2QoKSx0aGlzLm4oInZqcy1zbGlkaW5nIiksdC5kKGRvY3VtZW50LCJtb3VzZW1vdmUiLHRoaXMuUy5tb3ZlKSx0LmQoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuUy5lbmQpLHQuZChkb2N1bWVudCwidG91Y2htb3ZlIix0aGlzLlMubW92ZSksdC5kKGRvY3VtZW50LCJ0b3VjaGVuZCIsdGhpcy5TLmVuZCksdGhpcy5hYihhKX0scy5hYj1tKCkscy5PYj1mdW5jdGlvbigpe3QuZ2UoKSx0aGlzLnEoInZqcy1zbGlkaW5nIiksdC5wKGRvY3VtZW50LCJtb3VzZW1vdmUiLHRoaXMuUy5tb3ZlLGwpLHQucChkb2N1bWVudCwibW91c2V1cCIsdGhpcy5TLmVuZCxsKSx0LnAoZG9jdW1lbnQsInRvdWNobW92ZSIsdGhpcy5TLm1vdmUsbCksdC5wKGRvY3VtZW50LCJ0b3VjaGVuZCIsdGhpcy5TLmVuZCxsKSx0aGlzLnVwZGF0ZSgpfSxzLnVwZGF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYil7dmFyIGEsYz10aGlzLkdiKCksZD10aGlzLmhhbmRsZSxlPXRoaXMuZmQ7aWYoaXNOYU4oYykmJihjPTApLGE9YyxkKXthPXRoaXMuYi5vZmZzZXRXaWR0aDt2YXIgZz1kLncoKS5vZmZzZXRXaWR0aDthPWc/Zy9hOjAsYyo9MS1hLGE9YythLzIsZC53KCkuc3R5bGUubGVmdD10LnJvdW5kKDEwMCpjLDIpKyIlIn1lJiYoZS53KCkuc3R5bGUud2lkdGg9dC5yb3VuZCgxMDAqYSwyKSsiJSIpfX0scy5aYT1mdW5jdGlvbigpe3QuZChkb2N1bWVudCwia2V5dXAiLHQuYmluZCh0aGlzLHRoaXMuZWEpKX0scy5lYT1mdW5jdGlvbihhKXszNz09YS53aGljaHx8NDA9PWEud2hpY2g/KGEucHJldmVudERlZmF1bHQoKSx0aGlzLktjKCkpOigzOD09YS53aGljaHx8Mzk9PWEud2hpY2gpJiYoYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuTGMoKSl9LHMuWWE9ZnVuY3Rpb24oKXt0LnAoZG9jdW1lbnQsImtleXVwIix0LmJpbmQodGhpcyx0aGlzLmVhKSl9LHMucj1mdW5jdGlvbihhKXthLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKX0sdC4kPXQuYS5leHRlbmQoKSx0LiQucHJvdG90eXBlLmRlZmF1bHRWYWx1ZT0wLHQuJC5wcm90b3R5cGUuZT1mdW5jdGlvbihhLGMpe3JldHVybiBjPWN8fHt9LGMuY2xhc3NOYW1lKz0iIHZqcy1zbGlkZXItaGFuZGxlIixjPXQuaC5BKHtpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMuZGVmYXVsdFZhbHVlKyI8L3NwYW4+In0sYyksdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2IixjKX0sdC5oYT10LmEuZXh0ZW5kKCksdC5oYS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucygpLm1jfHwidWwiO3JldHVybiB0aGlzLnY9dC5lKGEse2NsYXNzTmFtZToidmpzLW1lbnUtY29udGVudCJ9KSxhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2FwcGVuZDp0aGlzLnYsY2xhc3NOYW1lOiJ2anMtbWVudSJ9KSxhLmFwcGVuZENoaWxkKHRoaXMudiksdC5kKGEsImNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pLGF9LHQuST10LnQuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC50LmNhbGwodGhpcyxhLGMpLHRoaXMuc2VsZWN0ZWQoYy5zZWxlY3RlZCl9fSksdC5JLnByb3RvdHlwZS5lPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHQudC5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImxpIix0LmguQSh7Y2xhc3NOYW1lOiJ2anMtbWVudS1pdGVtIixpbm5lckhUTUw6dGhpcy5rLmxhYmVsfSxjKSl9LHQuSS5wcm90b3R5cGUucj1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQoZil9LHQuSS5wcm90b3R5cGUuc2VsZWN0ZWQ9ZnVuY3Rpb24oYSl7YT8odGhpcy5uKCJ2anMtc2VsZWN0ZWQiKSx0aGlzLmIuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIixmKSk6KHRoaXMucSgidmpzLXNlbGVjdGVkIiksdGhpcy5iLnNldEF0dHJpYnV0ZSgiYXJpYS1zZWxlY3RlZCIsbCkpfSx0Lkw9dC50LmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QudC5jYWxsKHRoaXMsYSxjKSx0aGlzLkJhPXRoaXMueGEoKSx0aGlzLlIodGhpcy5CYSksdGhpcy5PJiYwPT09dGhpcy5PLmxlbmd0aCYmdGhpcy5YKCksdGhpcy5kKCJrZXl1cCIsdGhpcy5lYSksdGhpcy5iLnNldEF0dHJpYnV0ZSgiYXJpYS1oYXNwb3B1cCIsZiksdGhpcy5iLnNldEF0dHJpYnV0ZSgicm9sZSIsImJ1dHRvbiIpfX0pLHM9dC5MLnByb3RvdHlwZSxzLnRhPWwscy54YT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0LmhhKHRoaXMuYyk7aWYodGhpcy5vcHRpb25zKCkudGl0bGUmJmEuamEoKS5hcHBlbmRDaGlsZCh0LmUoImxpIix7Y2xhc3NOYW1lOiJ2anMtbWVudS10aXRsZSIsaW5uZXJIVE1MOnQuYmEodGhpcy5vcHRpb25zKCkudGl0bGUpLGRlOi0xfSkpLHRoaXMuTz10aGlzLmNyZWF0ZUl0ZW1zKCkpZm9yKHZhciBjPTA7Yzx0aGlzLk8ubGVuZ3RoO2MrKyljYShhLHRoaXMuT1tjXSk7cmV0dXJuIGF9LHMud2E9bSgpLHMuVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsYXNzTmFtZSsiIHZqcy1tZW51LWJ1dHRvbiAiK3QudC5wcm90b3R5cGUuVC5jYWxsKHRoaXMpfSxzLlphPW0oKSxzLllhPW0oKSxzLnI9ZnVuY3Rpb24oKXt0aGlzLlYoIm1vdXNlb3V0Iix0LmJpbmQodGhpcyxmdW5jdGlvbigpe0codGhpcy5CYSksdGhpcy5iLmJsdXIoKX0pKSx0aGlzLnRhP0sodGhpcyk6TCh0aGlzKX0scy5lYT1mdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksMzI9PWEud2hpY2h8fDEzPT1hLndoaWNoP3RoaXMudGE/Syh0aGlzKTpMKHRoaXMpOjI3PT1hLndoaWNoJiZ0aGlzLnRhJiZLKHRoaXMpfSx0Lkc9ZnVuY3Rpb24oYSl7Im51bWJlciI9PXR5cGVvZiBhP3RoaXMuY29kZT1hOiJzdHJpbmciPT10eXBlb2YgYT90aGlzLm1lc3NhZ2U9YToib2JqZWN0Ij09dHlwZW9mIGEmJnQuaC5BKHRoaXMsYSksdGhpcy5tZXNzYWdlfHwodGhpcy5tZXNzYWdlPXQuRy5uZFt0aGlzLmNvZGVdfHwiIil9LHQuRy5wcm90b3R5cGUuY29kZT0wLHQuRy5wcm90b3R5cGUubWVzc2FnZT0iIix0LkcucHJvdG90eXBlLnN0YXR1cz1rLHQuRy5UYT0iTUVESUFfRVJSX0NVU1RPTSBNRURJQV9FUlJfQUJPUlRFRCBNRURJQV9FUlJfTkVUV09SSyBNRURJQV9FUlJfREVDT0RFIE1FRElBX0VSUl9TUkNfTk9UX1NVUFBPUlRFRCBNRURJQV9FUlJfRU5DUllQVEVEIi5zcGxpdCgiICIpLHQuRy5uZD17MToiWW91IGFib3J0ZWQgdGhlIHZpZGVvIHBsYXliYWNrIiwyOiJBIG5ldHdvcmsgZXJyb3IgY2F1c2VkIHRoZSB2aWRlbyBkb3dubG9hZCB0byBmYWlsIHBhcnQtd2F5LiIsMzoiVGhlIHZpZGVvIHBsYXliYWNrIHdhcyBhYm9ydGVkIGR1ZSB0byBhIGNvcnJ1cHRpb24gcHJvYmxlbSBvciBiZWNhdXNlIHRoZSB2aWRlbyB1c2VkIGZlYXR1cmVzIHlvdXIgYnJvd3NlciBkaWQgbm90IHN1cHBvcnQuIiw0OiJUaGUgdmlkZW8gY291bGQgbm90IGJlIGxvYWRlZCwgZWl0aGVyIGJlY2F1c2UgdGhlIHNlcnZlciBvciBuZXR3b3JrIGZhaWxlZCBvciBiZWNhdXNlIHRoZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC4iLDU6IlRoZSB2aWRlbyBpcyBlbmNyeXB0ZWQgYW5kIHdlIGRvIG5vdCBoYXZlIHRoZSBrZXlzIHRvIGRlY3J5cHQgaXQuIn07Zm9yKHZhciBNPTA7TTx0LkcuVGEubGVuZ3RoO00rKyl0LkdbdC5HLlRhW01dXT1NLHQuRy5wcm90b3R5cGVbdC5HLlRhW01dXT1NO3ZhciBOLE8sUCxRO2ZvcihOPVsicmVxdWVzdEZ1bGxzY3JlZW4gZXhpdEZ1bGxzY3JlZW4gZnVsbHNjcmVlbkVsZW1lbnQgZnVsbHNjcmVlbkVuYWJsZWQgZnVsbHNjcmVlbmNoYW5nZSBmdWxsc2NyZWVuZXJyb3IiLnNwbGl0KCIgIiksIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIHdlYmtpdEV4aXRGdWxsc2NyZWVuIHdlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHdlYmtpdEZ1bGxzY3JlZW5FbmFibGVkIHdlYmtpdGZ1bGxzY3JlZW5jaGFuZ2Ugd2Via2l0ZnVsbHNjcmVlbmVycm9yIi5zcGxpdCgiICIpLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB3ZWJraXRDYW5jZWxGdWxsU2NyZWVuIHdlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudCB3ZWJraXRDYW5jZWxGdWxsU2NyZWVuIHdlYmtpdGZ1bGxzY3JlZW5jaGFuZ2Ugd2Via2l0ZnVsbHNjcmVlbmVycm9yIi5zcGxpdCgiICIpLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiBtb3pDYW5jZWxGdWxsU2NyZWVuIG1vekZ1bGxTY3JlZW5FbGVtZW50IG1vekZ1bGxTY3JlZW5FbmFibGVkIG1vemZ1bGxzY3JlZW5jaGFuZ2UgbW96ZnVsbHNjcmVlbmVycm9yIi5zcGxpdCgiICIpLCJtc1JlcXVlc3RGdWxsc2NyZWVuIG1zRXhpdEZ1bGxzY3JlZW4gbXNGdWxsc2NyZWVuRWxlbWVudCBtc0Z1bGxzY3JlZW5FbmFibGVkIE1TRnVsbHNjcmVlbkNoYW5nZSBNU0Z1bGxzY3JlZW5FcnJvciIuc3BsaXQoIiAiKV0sTz1OWzBdLFE9MDtRPE4ubGVuZ3RoO1ErKylpZihOW1FdWzFdaW4gZG9jdW1lbnQpe1A9TltRXTticmVha31pZihQKWZvcih0LlFhLkZiPXt9LFE9MDtRPFAubGVuZ3RoO1ErKyl0LlFhLkZiW09bUV1dPVBbUV07dC5QbGF5ZXI9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dGhpcy5QPWEsYS5pZD1hLmlkfHwidmpzX3ZpZGVvXyIrdC56KyssdGhpcy5lZT1hJiZ0LkFhKGEpLGM9dC5oLkEoZGEoYSksYyksdGhpcy5WYT1jLmxhbmd1YWdlfHx0Lm9wdGlvbnMubGFuZ3VhZ2UsdGhpcy5EZD1jLmxhbmd1YWdlc3x8dC5vcHRpb25zLmxhbmd1YWdlcyx0aGlzLkM9e30sdGhpcy5EYz1jLnBvc3Rlcix0aGlzLnpiPWMuY29udHJvbHMsYS5jb250cm9scz1sLGMuR2M9bCx0LmEuY2FsbCh0aGlzLHRoaXMsYyxkKSx0aGlzLm4odGhpcy5jb250cm9scygpPyJ2anMtY29udHJvbHMtZW5hYmxlZCI6InZqcy1jb250cm9scy1kaXNhYmxlZCIpLHQuQ2FbdGhpcy5VXT10aGlzLGMucGx1Z2lucyYmdC5oLlooYy5wbHVnaW5zLGZ1bmN0aW9uKGEsYyl7dGhpc1thXShjKX0sdGhpcyk7dmFyIGUsZyxoLGosbixxO2U9dC5iaW5kKHRoaXMsdGhpcy5yZXBvcnRVc2VyQWN0aXZpdHkpLHRoaXMuZCgibW91c2Vkb3duIixmdW5jdGlvbigpe2UoKSxjbGVhckludGVydmFsKGcpLGc9c2V0SW50ZXJ2YWwoZSwyNTApfSksdGhpcy5kKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpeyhhLnNjcmVlblghPW58fGEuc2NyZWVuWSE9cSkmJihuPWEuc2NyZWVuWCxxPWEuc2NyZWVuWSxlKCkpfSksdGhpcy5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2UoKSxjbGVhckludGVydmFsKGcpfSksdGhpcy5kKCJrZXlkb3duIixlKSx0aGlzLmQoImtleXVwIixlKSxoPXNldEludGVydmFsKHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5wYSYmKHRoaXMucGE9bCx0aGlzLnVzZXJBY3RpdmUoZiksY2xlYXJUaW1lb3V0KGopLGo9c2V0VGltZW91dCh0LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucGF8fHRoaXMudXNlckFjdGl2ZShsKX0pLDJlMykpfSksMjUwKSx0aGlzLmQoImRpc3Bvc2UiLGZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChoKSxjbGVhclRpbWVvdXQoail9KX19KSxzPXQuUGxheWVyLnByb3RvdHlwZSxzLmxhbmd1YWdlPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yj90aGlzLlZhOih0aGlzLlZhPWEsdGhpcyl9LHMuV2E9cCgiRGQiKSxzLms9dC5vcHRpb25zLHMuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMubCgiZGlzcG9zZSIpLHRoaXMucCgiZGlzcG9zZSIpLHQuQ2FbdGhpcy5VXT1rLHRoaXMuUCYmdGhpcy5QLnBsYXllciYmKHRoaXMuUC5wbGF5ZXI9ayksdGhpcy5iJiZ0aGlzLmIucGxheWVyJiYodGhpcy5iLnBsYXllcj1rKSxjbGVhckludGVydmFsKHRoaXMuYmIpLHRoaXMuRWEoKSx0aGlzLmkmJnRoaXMuaS5kaXNwb3NlKCksdC5hLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHMuZT1mdW5jdGlvbigpe3ZhciBkLGE9dGhpcy5iPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIpLGM9dGhpcy5QO2lmKGMucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpLGMucmVtb3ZlQXR0cmlidXRlKCJoZWlnaHQiKSxjLmhhc0NoaWxkTm9kZXMoKSl7dmFyIGUsZyxoLGosbjtmb3IoZT1jLmNoaWxkTm9kZXMsZz1lLmxlbmd0aCxuPVtdO2ctLTspaD1lW2ddLGo9aC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCJ0cmFjayI9PT1qJiZuLnB1c2goaCk7Zm9yKGU9MDtlPG4ubGVuZ3RoO2UrKyljLnJlbW92ZUNoaWxkKG5bZV0pfXJldHVybiBkPXQuQWEoYyksdC5oLlooZCxmdW5jdGlvbihjKXthLnNldEF0dHJpYnV0ZShjLGRbY10pfSksYy5pZCs9Il9odG1sNV9hcGkiLGMuY2xhc3NOYW1lPSJ2anMtdGVjaCIsYy5wbGF5ZXI9YS5wbGF5ZXI9dGhpcyx0aGlzLm4oInZqcy1wYXVzZWQiKSx0aGlzLndpZHRoKHRoaXMuay53aWR0aCxmKSx0aGlzLmhlaWdodCh0aGlzLmsuaGVpZ2h0LGYpLGMucGFyZW50Tm9kZSYmYy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLGMpLHQuSGIoYyxhKSx0aGlzLmI9YSx0aGlzLmQoImxvYWRzdGFydCIsdGhpcy5LZCksdGhpcy5kKCJ3YWl0aW5nIix0aGlzLlFkKSx0aGlzLmQoWyJjYW5wbGF5IiwiY2FucGxheXRocm91Z2giLCJwbGF5aW5nIiwiZW5kZWQiXSx0aGlzLlBkKSx0aGlzLmQoInNlZWtpbmciLHRoaXMuTmQpLHRoaXMuZCgic2Vla2VkIix0aGlzLk1kKSx0aGlzLmQoImVuZGVkIix0aGlzLkdkKSx0aGlzLmQoInBsYXkiLHRoaXMuUWIpLHRoaXMuZCgiZmlyc3RwbGF5Iix0aGlzLklkKSx0aGlzLmQoInBhdXNlIix0aGlzLlBiKSx0aGlzLmQoInByb2dyZXNzIix0aGlzLkxkKSx0aGlzLmQoImR1cmF0aW9uY2hhbmdlIix0aGlzLkFjKSx0aGlzLmQoImZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuSmQpLGF9LHMuT2M9ZnVuY3Rpb24oKXt0aGlzLm5jJiZ0aGlzLkVhKCksdGhpcy5uYz1zZXRJbnRlcnZhbCh0LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubCgidGltZXVwZGF0ZSIpfSksMjUwKX0scy5FYT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy5uYyksdGhpcy5sKCJ0aW1ldXBkYXRlIil9LHMuS2Q9ZnVuY3Rpb24oKXt0aGlzLmVycm9yKGspLHRoaXMucGF1c2VkKCk/KGVhKHRoaXMsbCksdGhpcy5WKCJwbGF5IixmdW5jdGlvbigpe2VhKHRoaXMsZil9KSk6dGhpcy5sKCJmaXJzdHBsYXkiKX0scy52Yz1sLHMuUWI9ZnVuY3Rpb24oKXt0aGlzLnEoInZqcy1wYXVzZWQiKSx0aGlzLm4oInZqcy1wbGF5aW5nIil9LHMuUWQ9ZnVuY3Rpb24oKXt0aGlzLm4oInZqcy13YWl0aW5nIil9LHMuUGQ9ZnVuY3Rpb24oKXt0aGlzLnEoInZqcy13YWl0aW5nIil9LHMuTmQ9ZnVuY3Rpb24oKXt0aGlzLm4oInZqcy1zZWVraW5nIil9LHMuTWQ9ZnVuY3Rpb24oKXt0aGlzLnEoInZqcy1zZWVraW5nIil9LHMuSWQ9ZnVuY3Rpb24oKXt0aGlzLmsuc3RhcnR0aW1lJiZ0aGlzLmN1cnJlbnRUaW1lKHRoaXMuay5zdGFydHRpbWUpLHRoaXMubigidmpzLWhhcy1zdGFydGVkIil9LHMuUGI9ZnVuY3Rpb24oKXt0aGlzLnEoInZqcy1wbGF5aW5nIiksdGhpcy5uKCJ2anMtcGF1c2VkIil9LHMuTGQ9ZnVuY3Rpb24oKXsxPT10aGlzLmJ1ZmZlcmVkUGVyY2VudCgpJiZ0aGlzLmwoImxvYWRlZGFsbGRhdGEiKX0scy5HZD1mdW5jdGlvbigpe3RoaXMuay5sb29wJiYodGhpcy5jdXJyZW50VGltZSgwKSx0aGlzLnBsYXkoKSl9LHMuQWM9ZnVuY3Rpb24oKXt2YXIgYT1UKHRoaXMsImR1cmF0aW9uIik7YSYmKDA+YSYmKGE9MS8wKSx0aGlzLmR1cmF0aW9uKGEpLDEvMD09PWE/dGhpcy5uKCJ2anMtbGl2ZSIpOnRoaXMucSgidmpzLWxpdmUiKSl9LHMuSmQ9ZnVuY3Rpb24oKXt0aGlzLmlzRnVsbHNjcmVlbigpP3RoaXMubigidmpzLWZ1bGxzY3JlZW4iKTp0aGlzLnEoInZqcy1mdWxsc2NyZWVuIil9LHMucGxheT1mdW5jdGlvbigpe3JldHVybiBVKHRoaXMsInBsYXkiKSx0aGlzfSxzLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIFUodGhpcywicGF1c2UiKSx0aGlzfSxzLnBhdXNlZD1mdW5jdGlvbigpe3JldHVybiBUKHRoaXMsInBhdXNlZCIpPT09bD9sOmZ9LHMuY3VycmVudFRpbWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhVKHRoaXMsInNldEN1cnJlbnRUaW1lIixhKSx0aGlzLk1iJiZ0aGlzLmwoInRpbWV1cGRhdGUiKSx0aGlzKTp0aGlzLkMuY3VycmVudFRpbWU9VCh0aGlzLCJjdXJyZW50VGltZSIpfHwwfSxzLmR1cmF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8odGhpcy5DLmR1cmF0aW9uPXBhcnNlRmxvYXQoYSksdGhpcyk6KHRoaXMuQy5kdXJhdGlvbj09PWImJnRoaXMuQWMoKSx0aGlzLkMuZHVyYXRpb258fDApfSxzLnJlbWFpbmluZ1RpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbigpLXRoaXMuY3VycmVudFRpbWUoKX0scy5idWZmZXJlZD1mdW5jdGlvbigpe3ZhciBhPVQodGhpcywiYnVmZmVyZWQiKTtyZXR1cm4gYSYmYS5sZW5ndGh8fChhPXQuQWIoMCwwKSksYX0scy5idWZmZXJlZFBlcmNlbnQ9ZnVuY3Rpb24oKXt2YXIgZSxnLGE9dGhpcy5kdXJhdGlvbigpLGM9dGhpcy5idWZmZXJlZCgpLGQ9MDtpZighYSlyZXR1cm4gMDtmb3IodmFyIGg9MDtoPGMubGVuZ3RoO2grKyllPWMuc3RhcnQoaCksZz1jLmVuZChoKSxnPmEmJihnPWEpLGQrPWctZTtyZXR1cm4gZC9hfSxzLnZvbHVtZT1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQoYSkpKSx0aGlzLkMudm9sdW1lPWEsVSh0aGlzLCJzZXRWb2x1bWUiLGEpLHQuWGQoYSksdGhpcyk6KGE9cGFyc2VGbG9hdChUKHRoaXMsInZvbHVtZSIpKSxpc05hTihhKT8xOmEpfSxzLm11dGVkPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oVSh0aGlzLCJzZXRNdXRlZCIsYSksdGhpcyk6VCh0aGlzLCJtdXRlZCIpfHxsfSxzLkZhPWZ1bmN0aW9uKCl7cmV0dXJuIFQodGhpcywic3VwcG9ydHNGdWxsU2NyZWVuIil8fGx9LHMueGM9bCxzLmlzRnVsbHNjcmVlbj1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KHRoaXMueGM9ISFhLHRoaXMpOnRoaXMueGN9LHMuaXNGdWxsU2NyZWVuPWZ1bmN0aW9uKGEpe3JldHVybiB0LmxvZy53YXJuKCdwbGF5ZXIuaXNGdWxsU2NyZWVuKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIHBsYXllci5pc0Z1bGxzY3JlZW4oKSB3aXRoIGEgbG93ZXJjYXNlICJzIiknKSx0aGlzLmlzRnVsbHNjcmVlbihhKX0scy5yZXF1ZXN0RnVsbHNjcmVlbj1mdW5jdGlvbigpe3ZhciBhPXQuUWEuRmI7cmV0dXJuIHRoaXMuaXNGdWxsc2NyZWVuKGYpLGE/KHQuZChkb2N1bWVudCxhLmZ1bGxzY3JlZW5jaGFuZ2UsdC5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzRnVsbHNjcmVlbihkb2N1bWVudFthLmZ1bGxzY3JlZW5FbGVtZW50XSksdGhpcy5pc0Z1bGxzY3JlZW4oKT09PWwmJnQucChkb2N1bWVudCxhLmZ1bGxzY3JlZW5jaGFuZ2UsYXJndW1lbnRzLmNhbGxlZSksdGhpcy5sKCJmdWxsc2NyZWVuY2hhbmdlIil9KSksdGhpcy5iW2EucmVxdWVzdEZ1bGxzY3JlZW5dKCkpOnRoaXMuaS5GYSgpP1UodGhpcywiZW50ZXJGdWxsU2NyZWVuIik6KHRoaXMucWMoKSx0aGlzLmwoImZ1bGxzY3JlZW5jaGFuZ2UiKSksdGhpc30scy5leGl0RnVsbHNjcmVlbj1mdW5jdGlvbigpe3ZhciBhPXQuUWEuRmI7cmV0dXJuIHRoaXMuaXNGdWxsc2NyZWVuKGwpLGE/ZG9jdW1lbnRbYS5leGl0RnVsbHNjcmVlbl0oKTp0aGlzLmkuRmEoKT9VKHRoaXMsImV4aXRGdWxsU2NyZWVuIik6KHRoaXMuRGIoKSx0aGlzLmwoImZ1bGxzY3JlZW5jaGFuZ2UiKSksdGhpc30scy5xYz1mdW5jdGlvbigpe3RoaXMuemQ9Zix0aGlzLnFkPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyx0LmQoZG9jdW1lbnQsImtleWRvd24iLHQuYmluZCh0aGlzLHRoaXMuc2MpKSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsdC5uKGRvY3VtZW50LmJvZHksInZqcy1mdWxsLXdpbmRvdyIpLHRoaXMubCgiZW50ZXJGdWxsV2luZG93Iil9LHMuc2M9ZnVuY3Rpb24oYSl7Mjc9PT1hLmtleUNvZGUmJih0aGlzLmlzRnVsbHNjcmVlbigpPT09Zj90aGlzLmV4aXRGdWxsc2NyZWVuKCk6dGhpcy5EYigpKX0scy5EYj1mdW5jdGlvbigpe3RoaXMuemQ9bCx0LnAoZG9jdW1lbnQsImtleWRvd24iLHRoaXMuc2MpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdz10aGlzLnFkLHQucShkb2N1bWVudC5ib2R5LCJ2anMtZnVsbC13aW5kb3ciKSx0aGlzLmwoImV4aXRGdWxsV2luZG93Iil9LHMuc3JjPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yj9UKHRoaXMsInNyYyIpOih0LmguaXNBcnJheShhKT9mYSh0aGlzLGEpOiJzdHJpbmciPT10eXBlb2YgYT90aGlzLnNyYyh7c3JjOmF9KTphIGluc3RhbmNlb2YgT2JqZWN0JiYoYS50eXBlJiYhd2luZG93LnZpZGVvanNbdGhpcy5mYl0uY2FuUGxheVNvdXJjZShhKT9mYSh0aGlzLFthXSk6KHRoaXMuQy5zcmM9YS5zcmMsdGhpcy5vYz1hLnR5cGV8fCIiLHRoaXMuSihmdW5jdGlvbigpe1UodGhpcywic3JjIixhLnNyYyksImF1dG8iPT10aGlzLmsucHJlbG9hZCYmdGhpcy5sb2FkKCksdGhpcy5rLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKX0pKSksdGhpcyl9LHMubG9hZD1mdW5jdGlvbigpe3JldHVybiBVKHRoaXMsImxvYWQiKSx0aGlzfSxzLmN1cnJlbnRTcmM9ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLCJjdXJyZW50U3JjIil8fHRoaXMuQy5zcmN8fCIifSxzLmxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2N8fCIifSxzLkRhPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oVSh0aGlzLCJzZXRQcmVsb2FkIixhKSx0aGlzLmsucHJlbG9hZD1hLHRoaXMpOlQodGhpcywicHJlbG9hZCIpfSxzLmF1dG9wbGF5PWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oVSh0aGlzLCJzZXRBdXRvcGxheSIsYSksdGhpcy5rLmF1dG9wbGF5PWEsdGhpcyk6VCh0aGlzLCJhdXRvcGxheSIpfSxzLmxvb3A9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhVKHRoaXMsInNldExvb3AiLGEpLHRoaXMuay5sb29wPWEsdGhpcyk6VCh0aGlzLCJsb29wIil9LHMucG9zdGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yj90aGlzLkRjOih0aGlzLkRjPWEsVSh0aGlzLCJzZXRQb3N0ZXIiLGEpLHZvaWQgdGhpcy5sKCJwb3N0ZXJjaGFuZ2UiKSl9LHMuY29udHJvbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhhPSEhYSx0aGlzLnpiIT09YSYmKCh0aGlzLnpiPWEpPyh0aGlzLnEoInZqcy1jb250cm9scy1kaXNhYmxlZCIpLHRoaXMubigidmpzLWNvbnRyb2xzLWVuYWJsZWQiKSx0aGlzLmwoImNvbnRyb2xzZW5hYmxlZCIpKToodGhpcy5xKCJ2anMtY29udHJvbHMtZW5hYmxlZCIpLHRoaXMubigidmpzLWNvbnRyb2xzLWRpc2FibGVkIiksdGhpcy5sKCJjb250cm9sc2Rpc2FibGVkIikpKSx0aGlzKTp0aGlzLnpifSx0LlBsYXllci5wcm90b3R5cGUuVWIscz10LlBsYXllci5wcm90b3R5cGUscy51c2luZ05hdGl2ZUNvbnRyb2xzPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oYT0hIWEsdGhpcy5VYiE9PWEmJigodGhpcy5VYj1hKT8odGhpcy5uKCJ2anMtdXNpbmctbmF0aXZlLWNvbnRyb2xzIiksdGhpcy5sKCJ1c2luZ25hdGl2ZWNvbnRyb2xzIikpOih0aGlzLnEoInZqcy11c2luZy1uYXRpdmUtY29udHJvbHMiKSx0aGlzLmwoInVzaW5nY3VzdG9tY29udHJvbHMiKSkpLHRoaXMpOnRoaXMuVWJ9LHMuZGE9ayxzLmVycm9yPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yj90aGlzLmRhOmE9PT1rPyh0aGlzLmRhPWEsdGhpcy5xKCJ2anMtZXJyb3IiKSx0aGlzKToodGhpcy5kYT1hIGluc3RhbmNlb2YgdC5HP2E6bmV3IHQuRyhhKSx0aGlzLmwoImVycm9yIiksdGhpcy5uKCJ2anMtZXJyb3IiKSx0LmxvZy5lcnJvcigiKENPREU6Iit0aGlzLmRhLmNvZGUrIiAiK3QuRy5UYVt0aGlzLmRhLmNvZGVdKyIpIix0aGlzLmRhLm1lc3NhZ2UsdGhpcy5kYSksdGhpcyl9LHMuZW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLCJlbmRlZCIpfSxzLnNlZWtpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLCJzZWVraW5nIil9LHMucGE9ZixzLnJlcG9ydFVzZXJBY3Rpdml0eT1mdW5jdGlvbigpe3RoaXMucGE9Zn0scy5UYj1mLHMudXNlckFjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KGE9ISFhLGEhPT10aGlzLlRiJiYoKHRoaXMuVGI9YSk/KHRoaXMucGE9Zix0aGlzLnEoInZqcy11c2VyLWluYWN0aXZlIiksdGhpcy5uKCJ2anMtdXNlci1hY3RpdmUiKSx0aGlzLmwoInVzZXJhY3RpdmUiKSk6KHRoaXMucGE9bCx0aGlzLmkmJnRoaXMuaS5WKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5xKCJ2anMtdXNlci1hY3RpdmUiKSx0aGlzLm4oInZqcy11c2VyLWluYWN0aXZlIiksdGhpcy5sKCJ1c2VyaW5hY3RpdmUiKSkpLHRoaXMpOnRoaXMuVGJ9LHMucGxheWJhY2tSYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oVSh0aGlzLCJzZXRQbGF5YmFja1JhdGUiLGEpLHRoaXMpOnRoaXMuaSYmdGhpcy5pLm8mJnRoaXMuaS5vLnBsYXliYWNrUmF0ZT9UKHRoaXMsInBsYXliYWNrUmF0ZSIpOjF9LHQuS2E9dC5hLmV4dGVuZCgpLHQuS2EucHJvdG90eXBlLms9e29lOiJwbGF5IixjaGlsZHJlbjp7cGxheVRvZ2dsZTp7fSxjdXJyZW50VGltZURpc3BsYXk6e30sdGltZURpdmlkZXI6e30sZHVyYXRpb25EaXNwbGF5Ont9LHJlbWFpbmluZ1RpbWVEaXNwbGF5Ont9LGxpdmVEaXNwbGF5Ont9LHByb2dyZXNzQ29udHJvbDp7fSxmdWxsc2NyZWVuVG9nZ2xlOnt9LHZvbHVtZUNvbnRyb2w6e30sbXV0ZVRvZ2dsZTp7fSxwbGF5YmFja1JhdGVNZW51QnV0dG9uOnt9fX0sdC5LYS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmUoImRpdiIse2NsYXNzTmFtZToidmpzLWNvbnRyb2wtYmFyIn0pfSx0LlpiPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyl9fSksdC5aYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLWxpdmUtY29udHJvbHMgdmpzLWNvbnRyb2wifSk7cmV0dXJuIHRoaXMudj10LmUoImRpdiIse2NsYXNzTmFtZToidmpzLWxpdmUtZGlzcGxheSIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+Jyt0aGlzLnMoIlN0cmVhbSBUeXBlIikrIjwvc3Bhbj4iK3RoaXMucygiTElWRSIpLCJhcmlhLWxpdmUiOiJvZmYifSksYS5hcHBlbmRDaGlsZCh0aGlzLnYpLGF9LHQuYmM9dC50LmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QudC5jYWxsKHRoaXMsYSxjKSxhLmQoInBsYXkiLHQuYmluZCh0aGlzLHRoaXMuUWIpKSxhLmQoInBhdXNlIix0LmJpbmQodGhpcyx0aGlzLlBiKSl9fSkscz10LmJjLnByb3RvdHlwZSxzLnVhPSJQbGF5IixzLlQ9ZnVuY3Rpb24oKXtyZXR1cm4idmpzLXBsYXktY29udHJvbCAiK3QudC5wcm90b3R5cGUuVC5jYWxsKHRoaXMpfSxzLnI9ZnVuY3Rpb24oKXt0aGlzLmMucGF1c2VkKCk/dGhpcy5jLnBsYXkoKTp0aGlzLmMucGF1c2UoKX0scy5RYj1mdW5jdGlvbigpe3QucSh0aGlzLmIsInZqcy1wYXVzZWQiKSx0Lm4odGhpcy5iLCJ2anMtcGxheWluZyIpLHRoaXMuYi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9dGhpcy5zKCJQYXVzZSIpfSxzLlBiPWZ1bmN0aW9uKCl7dC5xKHRoaXMuYiwidmpzLXBsYXlpbmciKSx0Lm4odGhpcy5iLCJ2anMtcGF1c2VkIiksdGhpcy5iLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTD10aGlzLnMoIlBsYXkiKX0sdC5pYj10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpLGEuZCgidGltZXVwZGF0ZSIsdC5iaW5kKHRoaXMsdGhpcy5nYSkpfX0pLHQuaWIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXt2YXIgYT10LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1jdXJyZW50LXRpbWUgdmpzLXRpbWUtY29udHJvbHMgdmpzLWNvbnRyb2wifSk7cmV0dXJuIHRoaXMudj10LmUoImRpdiIse2NsYXNzTmFtZToidmpzLWN1cnJlbnQtdGltZS1kaXNwbGF5Iixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij5DdXJyZW50IFRpbWUgPC9zcGFuPjA6MDAnLCJhcmlhLWxpdmUiOiJvZmYifSksYS5hcHBlbmRDaGlsZCh0aGlzLnYpLGF9LHQuaWIucHJvdG90eXBlLmdhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLmViP3RoaXMuYy5DLmN1cnJlbnRUaW1lOnRoaXMuYy5jdXJyZW50VGltZSgpO3RoaXMudi5pbm5lckhUTUw9JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiQ3VycmVudCBUaW1lIikrIjwvc3Bhbj4gIit0LnphKGEsdGhpcy5jLmR1cmF0aW9uKCkpfSx0LmpiPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyksYS5kKCJ0aW1ldXBkYXRlIix0LmJpbmQodGhpcyx0aGlzLmdhKSl9fSksdC5qYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLWR1cmF0aW9uIHZqcy10aW1lLWNvbnRyb2xzIHZqcy1jb250cm9sIn0pO3JldHVybiB0aGlzLnY9dC5lKCJkaXYiLHtjbGFzc05hbWU6InZqcy1kdXJhdGlvbi1kaXNwbGF5Iixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiRHVyYXRpb24gVGltZSIpKyI8L3NwYW4+IDA6MDAiLCJhcmlhLWxpdmUiOiJvZmYifSksYS5hcHBlbmRDaGlsZCh0aGlzLnYpLGF9LHQuamIucHJvdG90eXBlLmdhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLmR1cmF0aW9uKCk7YSYmKHRoaXMudi5pbm5lckhUTUw9JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiRHVyYXRpb24gVGltZSIpKyI8L3NwYW4+ICIrdC56YShhKSl9LHQuaGM9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KSx0LmhjLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXRpbWUtZGl2aWRlciIsaW5uZXJIVE1MOiI8ZGl2PjxzcGFuPi88L3NwYW4+PC9kaXY+In0pfSx0LnFiPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyksYS5kKCJ0aW1ldXBkYXRlIix0LmJpbmQodGhpcyx0aGlzLmdhKSl9fSksdC5xYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXJlbWFpbmluZy10aW1lIHZqcy10aW1lLWNvbnRyb2xzIHZqcy1jb250cm9sIn0pO3JldHVybiB0aGlzLnY9dC5lKCJkaXYiLHtjbGFzc05hbWU6InZqcy1yZW1haW5pbmctdGltZS1kaXNwbGF5Iixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiUmVtYWluaW5nIFRpbWUiKSsiPC9zcGFuPiAtMDowMCIsImFyaWEtbGl2ZSI6Im9mZiJ9KSxhLmFwcGVuZENoaWxkKHRoaXMudiksYX0sdC5xYi5wcm90b3R5cGUuZ2E9ZnVuY3Rpb24oKXt0aGlzLmMuZHVyYXRpb24oKSYmKHRoaXMudi5pbm5lckhUTUw9JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiUmVtYWluaW5nIFRpbWUiKSsiPC9zcGFuPiAtIit0LnphKHRoaXMuYy5yZW1haW5pbmdUaW1lKCkpKX0sdC5MYT10LnQuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC50LmNhbGwodGhpcyxhLGMpfX0pLHQuTGEucHJvdG90eXBlLnVhPSJGdWxsc2NyZWVuIix0LkxhLnByb3RvdHlwZS5UPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1mdWxsc2NyZWVuLWNvbnRyb2wgIit0LnQucHJvdG90eXBlLlQuY2FsbCh0aGlzKX0sdC5MYS5wcm90b3R5cGUucj1mdW5jdGlvbigpe3RoaXMuYy5pc0Z1bGxzY3JlZW4oKT8odGhpcy5jLmV4aXRGdWxsc2NyZWVuKCksdGhpcy55Yi5pbm5lckhUTUw9dGhpcy5zKCJGdWxsc2NyZWVuIikpOih0aGlzLmMucmVxdWVzdEZ1bGxzY3JlZW4oKSx0aGlzLnliLmlubmVySFRNTD10aGlzLnMoIk5vbi1GdWxsc2NyZWVuIikpfSx0LnBiPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyl9fSksdC5wYi5wcm90b3R5cGUuaz17Y2hpbGRyZW46e3NlZWtCYXI6e319fSx0LnBiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXByb2dyZXNzLWNvbnRyb2wgdmpzLWNvbnRyb2wifSl9LHQuZGM9dC5RLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuUS5jYWxsKHRoaXMsYSxjKSxhLmQoInRpbWV1cGRhdGUiLHQuYmluZCh0aGlzLHRoaXMub2EpKSxhLkoodC5iaW5kKHRoaXMsdGhpcy5vYSkpfX0pLHM9dC5kYy5wcm90b3R5cGUscy5rPXtjaGlsZHJlbjp7bG9hZFByb2dyZXNzQmFyOnt9LHBsYXlQcm9ncmVzc0Jhcjp7fSxzZWVrSGFuZGxlOnt9fSxiYXJOYW1lOiJwbGF5UHJvZ3Jlc3NCYXIiLGhhbmRsZU5hbWU6InNlZWtIYW5kbGUifSxzLkNjPSJ0aW1ldXBkYXRlIixzLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5RLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtcHJvZ3Jlc3MtaG9sZGVyIiwiYXJpYS1sYWJlbCI6InZpZGVvIHByb2dyZXNzIGJhciJ9KX0scy5vYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy5lYj90aGlzLmMuQy5jdXJyZW50VGltZTp0aGlzLmMuY3VycmVudFRpbWUoKTt0aGlzLmIuc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93Iix0LnJvdW5kKDEwMCp0aGlzLkdiKCksMikpLHRoaXMuYi5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWV0ZXh0Iix0LnphKGEsdGhpcy5jLmR1cmF0aW9uKCkpKX0scy5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuY3VycmVudFRpbWUoKS90aGlzLmMuZHVyYXRpb24oKX0scy4kYT1mdW5jdGlvbihhKXt0LlEucHJvdG90eXBlLiRhLmNhbGwodGhpcyxhKSx0aGlzLmMuZWI9Zix0aGlzLmllPSF0aGlzLmMucGF1c2VkKCksdGhpcy5jLnBhdXNlKCl9LHMuYWI9ZnVuY3Rpb24oYSl7YT1KKHRoaXMsYSkqdGhpcy5jLmR1cmF0aW9uKCksYT09dGhpcy5jLmR1cmF0aW9uKCkmJihhLT0uMSksdGhpcy5jLmN1cnJlbnRUaW1lKGEpfSxzLk9iPWZ1bmN0aW9uKGEpe3QuUS5wcm90b3R5cGUuT2IuY2FsbCh0aGlzLGEpLHRoaXMuYy5lYj1sLHRoaXMuaWUmJnRoaXMuYy5wbGF5KCl9LHMuTGM9ZnVuY3Rpb24oKXt0aGlzLmMuY3VycmVudFRpbWUodGhpcy5jLmN1cnJlbnRUaW1lKCkrNSl9LHMuS2M9ZnVuY3Rpb24oKXt0aGlzLmMuY3VycmVudFRpbWUodGhpcy5jLmN1cnJlbnRUaW1lKCktNSl9LHQubWI9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSxhLmQoInByb2dyZXNzIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpfX0pLHQubWIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtbG9hZC1wcm9ncmVzcyIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+PHNwYW4+Jyt0aGlzLnMoIkxvYWRlZCIpKyI8L3NwYW4+OiAwJTwvc3Bhbj4ifSl9LHQubWIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhLGMsZCxlLGc9dGhpcy5jLmJ1ZmZlcmVkKCk7YT10aGlzLmMuZHVyYXRpb24oKTt2YXIgaCxqPXRoaXMuYztmb3IoaD1qLmJ1ZmZlcmVkKCksaj1qLmR1cmF0aW9uKCksaD1oLmVuZChoLmxlbmd0aC0xKSxoPmomJihoPWopLGo9dGhpcy5iLmNoaWxkcmVuLHRoaXMuYi5zdHlsZS53aWR0aD0xMDAqKGgvYXx8MCkrIiUiLGE9MDthPGcubGVuZ3RoO2ErKyljPWcuc3RhcnQoYSksZD1nLmVuZChhKSwoZT1qW2FdKXx8KGU9dGhpcy5iLmFwcGVuZENoaWxkKHQuZSgpKSksZS5zdHlsZS5sZWZ0PTEwMCooYy9ofHwwKSsiJSIsZS5zdHlsZS53aWR0aD0xMDAqKChkLWMpL2h8fDApKyIlIjtmb3IoYT1qLmxlbmd0aDthPmcubGVuZ3RoO2EtLSl0aGlzLmIucmVtb3ZlQ2hpbGQoalthLTFdKX0sdC5hYz10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpfX0pLHQuYWMucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtcGxheS1wcm9ncmVzcyIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+PHNwYW4+Jyt0aGlzLnMoIlByb2dyZXNzIikrIjwvc3Bhbj46IDAlPC9zcGFuPiJ9KX0sdC5OYT10LiQuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC4kLmNhbGwodGhpcyxhLGMpLGEuZCgidGltZXVwZGF0ZSIsdC5iaW5kKHRoaXMsdGhpcy5nYSkpfX0pLHQuTmEucHJvdG90eXBlLmRlZmF1bHRWYWx1ZT0iMDA6MDAiLHQuTmEucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC4kLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtc2Vlay1oYW5kbGUiLCJhcmlhLWxpdmUiOiJvZmYifSl9LHQuTmEucHJvdG90eXBlLmdhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLmViP3RoaXMuYy5DLmN1cnJlbnRUaW1lOnRoaXMuYy5jdXJyZW50VGltZSgpO3RoaXMuYi5pbm5lckhUTUw9JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3QuemEoYSx0aGlzLmMuZHVyYXRpb24oKSkrIjwvc3Bhbj4ifSx0LnNiPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyksYS5pJiZhLmkubyYmYS5pLm8udm9sdW1lQ29udHJvbD09PWwmJnRoaXMubigidmpzLWhpZGRlbiIpLGEuZCgibG9hZHN0YXJ0Iix0LmJpbmQodGhpcyxmdW5jdGlvbigpe2EuaS5vJiZhLmkuby52b2x1bWVDb250cm9sPT09bD90aGlzLm4oInZqcy1oaWRkZW4iKTp0aGlzLnEoInZqcy1oaWRkZW4iKX0pKX19KSx0LnNiLnByb3RvdHlwZS5rPXtjaGlsZHJlbjp7dm9sdW1lQmFyOnt9fX0sdC5zYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy12b2x1bWUtY29udHJvbCB2anMtY29udHJvbCJ9KX0sdC5yYj10LlEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5RLmNhbGwodGhpcyxhLGMpLGEuZCgidm9sdW1lY2hhbmdlIix0LmJpbmQodGhpcyx0aGlzLm9hKSksYS5KKHQuYmluZCh0aGlzLHRoaXMub2EpKX19KSxzPXQucmIucHJvdG90eXBlLHMub2E9ZnVuY3Rpb24oKXt0aGlzLmIuc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93Iix0LnJvdW5kKDEwMCp0aGlzLmMudm9sdW1lKCksMikpLHRoaXMuYi5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWV0ZXh0Iix0LnJvdW5kKDEwMCp0aGlzLmMudm9sdW1lKCksMikrIiUiKX0scy5rPXtjaGlsZHJlbjp7dm9sdW1lTGV2ZWw6e30sdm9sdW1lSGFuZGxlOnt9fSxiYXJOYW1lOiJ2b2x1bWVMZXZlbCIsaGFuZGxlTmFtZToidm9sdW1lSGFuZGxlIn0scy5DYz0idm9sdW1lY2hhbmdlIixzLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5RLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtdm9sdW1lLWJhciIsImFyaWEtbGFiZWwiOiJ2b2x1bWUgbGV2ZWwifSl9LHMuYWI9ZnVuY3Rpb24oYSl7dGhpcy5jLm11dGVkKCkmJnRoaXMuYy5tdXRlZChsKSx0aGlzLmMudm9sdW1lKEoodGhpcyxhKSl9LHMuR2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLm11dGVkKCk/MDp0aGlzLmMudm9sdW1lKCl9LHMuTGM9ZnVuY3Rpb24oKXt0aGlzLmMudm9sdW1lKHRoaXMuYy52b2x1bWUoKSsuMSl9LHMuS2M9ZnVuY3Rpb24oKXt0aGlzLmMudm9sdW1lKHRoaXMuYy52b2x1bWUoKS0uMSl9LHQuaWM9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KSx0LmljLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXZvbHVtZS1sZXZlbCIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+PC9zcGFuPid9KX0sdC50Yj10LiQuZXh0ZW5kKCksdC50Yi5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPSIwMDowMCIsdC50Yi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LiQucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy12b2x1bWUtaGFuZGxlIn0pfSx0LmlhPXQudC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LnQuY2FsbCh0aGlzLGEsYyksYS5kKCJ2b2x1bWVjaGFuZ2UiLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlKSksYS5pJiZhLmkubyYmYS5pLm8udm9sdW1lQ29udHJvbD09PWwmJnRoaXMubigidmpzLWhpZGRlbiIpLGEuZCgibG9hZHN0YXJ0Iix0LmJpbmQodGhpcyxmdW5jdGlvbigpe2EuaS5vJiZhLmkuby52b2x1bWVDb250cm9sPT09bD90aGlzLm4oInZqcy1oaWRkZW4iKTp0aGlzLnEoInZqcy1oaWRkZW4iKX0pKX19KSx0LmlhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQudC5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLW11dGUtY29udHJvbCB2anMtY29udHJvbCIsaW5uZXJIVE1MOic8ZGl2PjxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiTXV0ZSIpKyI8L3NwYW4+PC9kaXY+In0pfSx0LmlhLnByb3RvdHlwZS5yPWZ1bmN0aW9uKCl7dGhpcy5jLm11dGVkKHRoaXMuYy5tdXRlZCgpP2w6Zil9LHQuaWEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52b2x1bWUoKSxjPTM7Zm9yKDA9PT1hfHx0aGlzLmMubXV0ZWQoKT9jPTA6LjMzPmE/Yz0xOi42Nz5hJiYoYz0yKSx0aGlzLmMubXV0ZWQoKT90aGlzLmIuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MIT10aGlzLnMoIlVubXV0ZSIpJiYodGhpcy5iLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTD10aGlzLnMoIlVubXV0ZSIpKTp0aGlzLmIuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MIT10aGlzLnMoIk11dGUiKSYmKHRoaXMuYi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9dGhpcy5zKCJNdXRlIikpLGE9MDs0PmE7YSsrKXQucSh0aGlzLmIsInZqcy12b2wtIithKTt0Lm4odGhpcy5iLCJ2anMtdm9sLSIrYyl9LHQuc2E9dC5MLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuTC5jYWxsKHRoaXMsYSxjKSxhLmQoInZvbHVtZWNoYW5nZSIsdC5iaW5kKHRoaXMsdGhpcy51cGRhdGUpKSxhLmkmJmEuaS5vJiZhLmkuby5SYz09PWwmJnRoaXMubigidmpzLWhpZGRlbiIpLGEuZCgibG9hZHN0YXJ0Iix0LmJpbmQodGhpcyxmdW5jdGlvbigpe2EuaS5vJiZhLmkuby5SYz09PWw/dGhpcy5uKCJ2anMtaGlkZGVuIik6dGhpcy5xKCJ2anMtaGlkZGVuIil9KSksdGhpcy5uKCJ2anMtbWVudS1idXR0b24iKX19KSx0LnNhLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0LmhhKHRoaXMuYyx7bWM6ImRpdiJ9KSxjPW5ldyB0LnJiKHRoaXMuYyx0LmguQSh7dmVydGljYWw6Zn0sdGhpcy5rLnVlKSk7cmV0dXJuIGEuUihjKSxhfSx0LnNhLnByb3RvdHlwZS5yPWZ1bmN0aW9uKCl7dC5pYS5wcm90b3R5cGUuci5jYWxsKHRoaXMpLHQuTC5wcm90b3R5cGUuci5jYWxsKHRoaXMpfSx0LnNhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQudC5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXZvbHVtZS1tZW51LWJ1dHRvbiB2anMtbWVudS1idXR0b24gdmpzLWNvbnRyb2wiLGlubmVySFRNTDonPGRpdj48c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+Jyt0aGlzLnMoIk11dGUiKSsiPC9zcGFuPjwvZGl2PiJ9KX0sdC5zYS5wcm90b3R5cGUudXBkYXRlPXQuaWEucHJvdG90eXBlLnVwZGF0ZSx0LmNjPXQuTC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LkwuY2FsbCh0aGlzLGEsYyksdGhpcy5RYygpLHRoaXMuUGMoKSxhLmQoImxvYWRzdGFydCIsdC5iaW5kKHRoaXMsdGhpcy5RYykpLGEuZCgicmF0ZWNoYW5nZSIsdC5iaW5kKHRoaXMsdGhpcy5QYykpfX0pLHM9dC5jYy5wcm90b3R5cGUscy5lPWZ1bmN0aW9uKCl7dmFyIGE9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtcGxheWJhY2stcmF0ZSB2anMtbWVudS1idXR0b24gdmpzLWNvbnRyb2wiLGlubmVySFRNTDonPGRpdiBjbGFzcz0idmpzLWNvbnRyb2wtY29udGVudCI+PHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5zKCJQbGF5YmFjayBSYXRlIikrIjwvc3Bhbj48L2Rpdj4ifSk7cmV0dXJuIHRoaXMuemM9dC5lKCJkaXYiLHtjbGFzc05hbWU6InZqcy1wbGF5YmFjay1yYXRlLXZhbHVlIixpbm5lckhUTUw6MX0pLGEuYXBwZW5kQ2hpbGQodGhpcy56YyksYX0scy54YT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0LmhhKHRoaXMubSgpKSxjPXRoaXMubSgpLm9wdGlvbnMoKS5wbGF5YmFja1JhdGVzO2lmKGMpZm9yKHZhciBkPWMubGVuZ3RoLTE7ZD49MDtkLS0pYS5SKG5ldyB0Lm9iKHRoaXMubSgpLHtyYXRlOmNbZF0rIngifSkpO3JldHVybiBhfSxzLm9hPWZ1bmN0aW9uKCl7dGhpcy53KCkuc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93Iix0aGlzLm0oKS5wbGF5YmFja1JhdGUoKSl9LHMucj1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm0oKS5wbGF5YmFja1JhdGUoKSxjPXRoaXMubSgpLm9wdGlvbnMoKS5wbGF5YmFja1JhdGVzLGQ9Y1swXSxlPTA7ZTxjLmxlbmd0aDtlKyspaWYoY1tlXT5hKXtkPWNbZV07YnJlYWt9dGhpcy5tKCkucGxheWJhY2tSYXRlKGQpfSxzLlFjPWZ1bmN0aW9uKCl7Z2EodGhpcyk/dGhpcy5xKCJ2anMtaGlkZGVuIik6dGhpcy5uKCJ2anMtaGlkZGVuIil9LHMuUGM9ZnVuY3Rpb24oKXtnYSh0aGlzKSYmKHRoaXMuemMuaW5uZXJIVE1MPXRoaXMubSgpLnBsYXliYWNrUmF0ZSgpKyJ4Iil9LHQub2I9dC5JLmV4dGVuZCh7bWM6ImJ1dHRvbiIsajpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMubGFiZWw9Yy5yYXRlLGU9dGhpcy5FYz1wYXJzZUZsb2F0KGQsMTApO2MubGFiZWw9ZCxjLnNlbGVjdGVkPTE9PT1lLHQuSS5jYWxsKHRoaXMsYSxjKSx0aGlzLm0oKS5kKCJyYXRlY2hhbmdlIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpfX0pLHQub2IucHJvdG90eXBlLnI9ZnVuY3Rpb24oKXt0LkkucHJvdG90eXBlLnIuY2FsbCh0aGlzKSx0aGlzLm0oKS5wbGF5YmFja1JhdGUodGhpcy5FYyl9LHQub2IucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQodGhpcy5tKCkucGxheWJhY2tSYXRlKCk9PXRoaXMuRWMpfSx0Lk1hPXQudC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LnQuY2FsbCh0aGlzLGEsYyksYS5wb3N0ZXIoKSYmdGhpcy5zcmMoYS5wb3N0ZXIoKSksKCFhLnBvc3RlcigpfHwhYS5jb250cm9scygpKSYmdGhpcy5YKCksYS5kKCJwb3N0ZXJjaGFuZ2UiLHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zcmMoYS5wb3N0ZXIoKSl9KSksYS5kKCJwbGF5Iix0LmJpbmQodGhpcyx0aGlzLlgpKX19KTt2YXIgaGE9ImJhY2tncm91bmRTaXplImluIHQuQi5zdHlsZTt0Lk1hLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dC5lKCJkaXYiLHtjbGFzc05hbWU6InZqcy1wb3N0ZXIiLHRhYkluZGV4Oi0xfSk7cmV0dXJuIGhhfHxhLmFwcGVuZENoaWxkKHQuZSgiaW1nIikpLGF9LHQuTWEucHJvdG90eXBlLnNyYz1mdW5jdGlvbihhKXt2YXIgYz10aGlzLncoKTthIT09YiYmKGhhP2Muc3R5bGUuYmFja2dyb3VuZEltYWdlPSd1cmwoIicrYSsnIiknOmMuZmlyc3RDaGlsZC5zcmM9YSl9LHQuTWEucHJvdG90eXBlLnI9ZnVuY3Rpb24oKXt0aGlzLm0oKS5jb250cm9scygpJiZ0aGlzLmMucGxheSgpfSx0LiRiPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyl9fSksdC4kYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1sb2FkaW5nLXNwaW5uZXIifSl9LHQuZ2I9dC50LmV4dGVuZCgpLHQuZ2IucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC50LnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtYmlnLXBsYXktYnV0dG9uIixpbm5lckhUTUw6JzxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIj48L3NwYW4+JywiYXJpYS1sYWJlbCI6InBsYXkgdmlkZW8ifSl9LHQuZ2IucHJvdG90eXBlLnI9ZnVuY3Rpb24oKXt0aGlzLmMucGxheSgpfSx0LmtiPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyksdGhpcy51cGRhdGUoKSxhLmQoImVycm9yIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpfX0pLHQua2IucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXt2YXIgYT10LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1lcnJvci1kaXNwbGF5In0pO3JldHVybiB0aGlzLnY9dC5lKCJkaXYiKSxhLmFwcGVuZENoaWxkKHRoaXMudiksYX0sdC5rYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5tKCkuZXJyb3IoKSYmKHRoaXMudi5pbm5lckhUTUw9dGhpcy5zKHRoaXMubSgpLmVycm9yKCkubWVzc2FnZSkpfSx0LnU9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7Yz1jfHx7fSxjLkdjPWwsdC5hLmNhbGwodGhpcyxhLGMsZCk7dmFyIGUsZztnPXRoaXMsZT10aGlzLm0oKSxhPWZ1bmN0aW9uKCl7aWYoZS5jb250cm9scygpJiYhZS51c2luZ05hdGl2ZUNvbnRyb2xzKCkpe3ZhciBhO2cuZCgibW91c2Vkb3duIixnLnIpLGcuZCgidG91Y2hzdGFydCIsZnVuY3Rpb24oKXthPXRoaXMuYy51c2VyQWN0aXZlKCl9KSxnLmQoInRvdWNobW92ZSIsZnVuY3Rpb24oKXthJiZ0aGlzLm0oKS5yZXBvcnRVc2VyQWN0aXZpdHkoKX0pLGcuZCgidG91Y2hlbmQiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pLEkoZyksZy5kKCJ0YXAiLGcuT2QpfX0sYz10LmJpbmQoZyxnLlVkKSx0aGlzLkooYSksZS5kKCJjb250cm9sc2VuYWJsZWQiLGEpLGUuZCgiY29udHJvbHNkaXNhYmxlZCIsYyksdGhpcy5KKGZ1bmN0aW9uKCl7dGhpcy5uZXR3b3JrU3RhdGUmJjA8dGhpcy5uZXR3b3JrU3RhdGUoKSYmdGhpcy5tKCkubCgibG9hZHN0YXJ0Iil9KX19KSxzPXQudS5wcm90b3R5cGUscy5VZD1mdW5jdGlvbigpe3RoaXMucCgidGFwIiksdGhpcy5wKCJ0b3VjaHN0YXJ0IiksdGhpcy5wKCJ0b3VjaG1vdmUiKSx0aGlzLnAoInRvdWNobGVhdmUiKSx0aGlzLnAoInRvdWNoY2FuY2VsIiksdGhpcy5wKCJ0b3VjaGVuZCIpLHRoaXMucCgiY2xpY2siKSx0aGlzLnAoIm1vdXNlZG93biIpfSxzLnI9ZnVuY3Rpb24oYSl7MD09PWEuYnV0dG9uJiZ0aGlzLm0oKS5jb250cm9scygpJiYodGhpcy5tKCkucGF1c2VkKCk/dGhpcy5tKCkucGxheSgpOnRoaXMubSgpLnBhdXNlKCkpfSxzLk9kPWZ1bmN0aW9uKCl7dGhpcy5tKCkudXNlckFjdGl2ZSghdGhpcy5tKCkudXNlckFjdGl2ZSgpKX0scy5JYz1tKCkscy5vPXt2b2x1bWVDb250cm9sOmYsZnVsbHNjcmVlblJlc2l6ZTpsLHBsYXliYWNrUmF0ZTpsLHByb2dyZXNzRXZlbnRzOmwsdGltZXVwZGF0ZUV2ZW50czpsfSx0Lm1lZGlhPXt9LHQuZz10LnUuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXtmb3IodGhpcy5vLnZvbHVtZUNvbnRyb2w9dC5nLmpkKCksdGhpcy5vLnBsYXliYWNrUmF0ZT10LmcuaGQoKSx0aGlzLm8ubW92aW5nTWVkaWFFbGVtZW50SW5ET009IXQuWGMsdGhpcy5vLmZ1bGxzY3JlZW5SZXNpemU9Zix0LnUuY2FsbCh0aGlzLGEsYyxkKSxkPXQuZy5sYi5sZW5ndGgtMTtkPj0wO2QtLSl0LmQodGhpcy5iLHQuZy5sYltkXSx0LmJpbmQodGhpcyx0aGlzLnNkKSk7aWYoKGM9Yy5zb3VyY2UpJiZ0aGlzLmIuY3VycmVudFNyYyE9PWMuc3JjJiYodGhpcy5iLnNyYz1jLnNyYyksdC5mYyYmYS5vcHRpb25zKCkubmF0aXZlQ29udHJvbHNGb3JUb3VjaCE9PWwpe3ZhciBlLGcsaCxqO2U9dGhpcyxnPXRoaXMubSgpLGM9Zy5jb250cm9scygpLGUuYi5jb250cm9scz0hIWMsaD1mdW5jdGlvbigpe2UuYi5jb250cm9scz1mfSxqPWZ1bmN0aW9uKCl7ZS5iLmNvbnRyb2xzPWx9LGcuZCgiY29udHJvbHNlbmFibGVkIixoKSxnLmQoImNvbnRyb2xzZGlzYWJsZWQiLGopLGM9ZnVuY3Rpb24oKXtnLnAoImNvbnRyb2xzZW5hYmxlZCIsaCksZy5wKCJjb250cm9sc2Rpc2FibGVkIixqKX0sZS5kKCJkaXNwb3NlIixjKSxnLmQoInVzaW5nY3VzdG9tY29udHJvbHMiLGMpLGcudXNpbmdOYXRpdmVDb250cm9scyhmKX1hLkooZnVuY3Rpb24oKXt0aGlzLlAmJnRoaXMuay5hdXRvcGxheSYmdGhpcy5wYXVzZWQoKSYmKGRlbGV0ZSB0aGlzLlAucG9zdGVyLHRoaXMucGxheSgpKQp9KSx0aGlzLkhhKCl9fSkscz10LmcucHJvdG90eXBlLHMuZGlzcG9zZT1mdW5jdGlvbigpe3QuZy5DYih0aGlzLmIpLHQudS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSxzLmU9ZnVuY3Rpb24oKXt2YXIgZCxhPXRoaXMuYyxjPWEuUDtjJiZ0aGlzLm8ubW92aW5nTWVkaWFFbGVtZW50SW5ET00hPT1sfHwoYz8oZD1jLmNsb25lTm9kZShsKSx0LmcuQ2IoYyksYz1kLGEuUD1rKTooYz10LmUoInZpZGVvIiksdC5IYyhjLHQuaC5BKGEuZWV8fHt9LHtpZDphLmlkKCkrIl9odG1sNV9hcGkiLCJjbGFzcyI6InZqcy10ZWNoIn0pKSksYy5wbGF5ZXI9YSx0LkhiKGMsYS53KCkpKSxkPVsiYXV0b3BsYXkiLCJwcmVsb2FkIiwibG9vcCIsIm11dGVkIl07Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBnPWRbZV0saD17fTsidW5kZWZpbmVkIiE9dHlwZW9mIGEua1tnXSYmKGhbZ109YS5rW2ddKSx0LkhjKGMsaCl9cmV0dXJuIGN9LHMuc2Q9ZnVuY3Rpb24oYSl7ImVycm9yIj09YS50eXBlP3RoaXMubSgpLmVycm9yKHRoaXMuZXJyb3IoKS5jb2RlKTooYS5idWJibGVzPWwsdGhpcy5tKCkubChhKSl9LHMucGxheT1mdW5jdGlvbigpe3RoaXMuYi5wbGF5KCl9LHMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLmIucGF1c2UoKX0scy5wYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLnBhdXNlZH0scy5jdXJyZW50VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuY3VycmVudFRpbWV9LHMuV2Q9ZnVuY3Rpb24oYSl7dHJ5e3RoaXMuYi5jdXJyZW50VGltZT1hfWNhdGNoKGMpe3QubG9nKGMsIlZpZGVvIGlzIG5vdCByZWFkeS4gKFZpZGVvLmpzKSIpfX0scy5kdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuZHVyYXRpb258fDB9LHMuYnVmZmVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmJ1ZmZlcmVkfSxzLnZvbHVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIudm9sdW1lfSxzLmJlPWZ1bmN0aW9uKGEpe3RoaXMuYi52b2x1bWU9YX0scy5tdXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIubXV0ZWR9LHMuWmQ9ZnVuY3Rpb24oYSl7dGhpcy5iLm11dGVkPWF9LHMud2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLm9mZnNldFdpZHRofSxzLmhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIub2Zmc2V0SGVpZ2h0fSxzLkZhPWZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMuYi53ZWJraXRFbnRlckZ1bGxTY3JlZW58fCEvQW5kcm9pZC8udGVzdCh0Lk0pJiYvQ2hyb21lfE1hYyBPUyBYIDEwLjUvLnRlc3QodC5NKT9sOmZ9LHMucGM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmI7YS5wYXVzZWQmJmEubmV0d29ya1N0YXRlPD1hLmplPyh0aGlzLmIucGxheSgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnBhdXNlKCksYS53ZWJraXRFbnRlckZ1bGxTY3JlZW4oKX0sMCkpOmEud2Via2l0RW50ZXJGdWxsU2NyZWVuKCl9LHMudGQ9ZnVuY3Rpb24oKXt0aGlzLmIud2Via2l0RXhpdEZ1bGxTY3JlZW4oKX0scy5zcmM9ZnVuY3Rpb24oYSl7dGhpcy5iLnNyYz1hfSxzLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLmIubG9hZCgpfSxzLmN1cnJlbnRTcmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmN1cnJlbnRTcmN9LHMucG9zdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5wb3N0ZXJ9LHMuSWM9ZnVuY3Rpb24oYSl7dGhpcy5iLnBvc3Rlcj1hfSxzLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5EYX0scy5hZT1mdW5jdGlvbihhKXt0aGlzLmIuRGE9YX0scy5hdXRvcGxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuYXV0b3BsYXl9LHMuVmQ9ZnVuY3Rpb24oYSl7dGhpcy5iLmF1dG9wbGF5PWF9LHMuY29udHJvbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmNvbnRyb2xzfSxzLmxvb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmxvb3B9LHMuWWQ9ZnVuY3Rpb24oYSl7dGhpcy5iLmxvb3A9YX0scy5lcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuZXJyb3J9LHMuc2Vla2luZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuc2Vla2luZ30scy5lbmRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuZW5kZWR9LHMucGxheWJhY2tSYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5wbGF5YmFja1JhdGV9LHMuJGQ9ZnVuY3Rpb24oYSl7dGhpcy5iLnBsYXliYWNrUmF0ZT1hfSxzLm5ldHdvcmtTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIubmV0d29ya1N0YXRlfSx0LmcuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt0cnl7dC5CLnZvbHVtZT0uNX1jYXRjaChhKXtyZXR1cm4gbH1yZXR1cm4hIXQuQi5jYW5QbGF5VHlwZX0sdC5nLndiPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4hIXQuQi5jYW5QbGF5VHlwZShhLnR5cGUpfWNhdGNoKGMpe3JldHVybiIifX0sdC5nLmpkPWZ1bmN0aW9uKCl7dmFyIGE9dC5CLnZvbHVtZTtyZXR1cm4gdC5CLnZvbHVtZT1hLzIrLjEsYSE9PXQuQi52b2x1bWV9LHQuZy5oZD1mdW5jdGlvbigpe3ZhciBhPXQuQi5wbGF5YmFja1JhdGU7cmV0dXJuIHQuQi5wbGF5YmFja1JhdGU9YS8yKy4xLGEhPT10LkIucGxheWJhY2tSYXRlfTt2YXIgVixpYT0vXmFwcGxpY2F0aW9uXC8oPzp4LXx2bmRcLmFwcGxlXC4pbXBlZ3VybC9pLGphPS9edmlkZW9cL21wNC9pO3QuZy5CYz1mdW5jdGlvbigpezQ8PXQuVmImJihWfHwoVj10LkIuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlKSx0LkIuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZpYS50ZXN0KGEpPyJtYXliZSI6Vi5jYWxsKHRoaXMsYSl9KSx0LmFkJiYoVnx8KFY9dC5CLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZSksdC5CLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmamEudGVzdChhKT8ibWF5YmUiOlYuY2FsbCh0aGlzLGEpfSl9LHQuZy5oZT1mdW5jdGlvbigpe3ZhciBhPXQuQi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU7cmV0dXJuIHQuQi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU9VixWPWssYX0sdC5nLkJjKCksdC5nLmxiPSJsb2Fkc3RhcnQgc3VzcGVuZCBhYm9ydCBlcnJvciBlbXB0aWVkIHN0YWxsZWQgbG9hZGVkbWV0YWRhdGEgbG9hZGVkZGF0YSBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIHBsYXlpbmcgd2FpdGluZyBzZWVraW5nIHNlZWtlZCBlbmRlZCBkdXJhdGlvbmNoYW5nZSB0aW1ldXBkYXRlIHByb2dyZXNzIHBsYXkgcGF1c2UgcmF0ZWNoYW5nZSB2b2x1bWVjaGFuZ2UiLnNwbGl0KCIgIiksdC5nLkNiPWZ1bmN0aW9uKGEpe2lmKGEpe2ZvcihhLnBsYXllcj1rLGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO2EuaGFzQ2hpbGROb2RlcygpOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCk7aWYoYS5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLCJmdW5jdGlvbiI9PXR5cGVvZiBhLmxvYWQpdHJ5e2EubG9hZCgpfWNhdGNoKGMpe319fSx0LmY9dC51LmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dC51LmNhbGwodGhpcyxhLGMsZCk7dmFyIGU9Yy5zb3VyY2U7ZD1jLnBhcmVudEVsO3ZhciBnPXRoaXMuYj10LmUoImRpdiIse2lkOmEuaWQoKSsiX3RlbXBfZmxhc2gifSksaD1hLmlkKCkrIl9mbGFzaF9hcGkiLGo9YS5rLGo9dC5oLkEoe3JlYWR5RnVuY3Rpb246InZpZGVvanMuRmxhc2gub25SZWFkeSIsZXZlbnRQcm94eUZ1bmN0aW9uOiJ2aWRlb2pzLkZsYXNoLm9uRXZlbnQiLGVycm9yRXZlbnRQcm94eUZ1bmN0aW9uOiJ2aWRlb2pzLkZsYXNoLm9uRXJyb3IiLGF1dG9wbGF5OmouYXV0b3BsYXkscHJlbG9hZDpqLkRhLGxvb3A6ai5sb29wLG11dGVkOmoubXV0ZWR9LGMuZmxhc2hWYXJzKSxuPXQuaC5BKHt3bW9kZToib3BhcXVlIixiZ2NvbG9yOiIjMDAwMDAwIn0sYy5wYXJhbXMpLGg9dC5oLkEoe2lkOmgsbmFtZTpoLCJjbGFzcyI6InZqcy10ZWNoIn0sYy5hdHRyaWJ1dGVzKTtlJiYoZS50eXBlJiZ0LmYuQmQoZS50eXBlKT8oZT10LmYuTWMoZS5zcmMpLGoucnRtcENvbm5lY3Rpb249ZW5jb2RlVVJJQ29tcG9uZW50KGUueGIpLGoucnRtcFN0cmVhbT1lbmNvZGVVUklDb21wb25lbnQoZS5TYikpOmouc3JjPWVuY29kZVVSSUNvbXBvbmVudCh0LnRjKGUuc3JjKSkpLHQuSGIoZyxkKSxjLnN0YXJ0VGltZSYmdGhpcy5KKGZ1bmN0aW9uKCl7dGhpcy5sb2FkKCksdGhpcy5wbGF5KCksdGhpcy5jdXJyZW50VGltZShjLnN0YXJ0VGltZSl9KSx0LldjJiZ0aGlzLkooZnVuY3Rpb24oKXt0LmQodGhpcy53KCksIm1vdXNlbW92ZSIsdC5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLm0oKS5sKHt0eXBlOiJtb3VzZW1vdmUiLGJ1YmJsZXM6bH0pfSkpfSksYS5kKCJzdGFnZWNsaWNrIixhLnJlcG9ydFVzZXJBY3Rpdml0eSksdGhpcy5iPXQuZi5yZChjLnN3ZixnLGosbixoKX19KSx0LmYucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0LnUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC5mLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5iLnZqc19wbGF5KCl9LHQuZi5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLmIudmpzX3BhdXNlKCl9LHQuZi5wcm90b3R5cGUuc3JjPWZ1bmN0aW9uKGEpe2lmKGE9PT1iKXJldHVybiB0aGlzLmN1cnJlbnRTcmMoKTtpZih0LmYuQWQoYSk/KGE9dC5mLk1jKGEpLHRoaXMucWUoYS54YiksdGhpcy5yZShhLlNiKSk6KGE9dC50YyhhKSx0aGlzLmIudmpzX3NyYyhhKSksdGhpcy5jLmF1dG9wbGF5KCkpe3ZhciBjPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2MucGxheSgpfSwwKX19LHQuZi5wcm90b3R5cGUuc2V0Q3VycmVudFRpbWU9ZnVuY3Rpb24oYSl7dGhpcy5FZD1hLHRoaXMuYi52anNfc2V0UHJvcGVydHkoImN1cnJlbnRUaW1lIixhKX0sdC5mLnByb3RvdHlwZS5jdXJyZW50VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlZWtpbmcoKT90aGlzLkVkfHwwOnRoaXMuYi52anNfZ2V0UHJvcGVydHkoImN1cnJlbnRUaW1lIil9LHQuZi5wcm90b3R5cGUuY3VycmVudFNyYz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYi52anNfZ2V0UHJvcGVydHkoImN1cnJlbnRTcmMiKTtpZihhPT1rKXt2YXIgYz10aGlzLnJ0bXBDb25uZWN0aW9uKCksZD10aGlzLnJ0bXBTdHJlYW0oKTtjJiZkJiYoYT10LmYuY2UoYyxkKSl9cmV0dXJuIGF9LHQuZi5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3RoaXMuYi52anNfbG9hZCgpfSx0LmYucHJvdG90eXBlLnBvc3Rlcj1mdW5jdGlvbigpe3RoaXMuYi52anNfZ2V0UHJvcGVydHkoInBvc3RlciIpfSx0LmYucHJvdG90eXBlLnNldFBvc3Rlcj1tKCksdC5mLnByb3RvdHlwZS5idWZmZXJlZD1mdW5jdGlvbigpe3JldHVybiB0LkFiKDAsdGhpcy5iLnZqc19nZXRQcm9wZXJ0eSgiYnVmZmVyZWQiKSl9LHQuZi5wcm90b3R5cGUuRmE9cihsKSx0LmYucHJvdG90eXBlLnBjPXIobCk7dmFyIGxhPXQuZi5wcm90b3R5cGUsVz0icnRtcENvbm5lY3Rpb24gcnRtcFN0cmVhbSBwcmVsb2FkIGRlZmF1bHRQbGF5YmFja1JhdGUgcGxheWJhY2tSYXRlIGF1dG9wbGF5IGxvb3AgbWVkaWFHcm91cCBjb250cm9sbGVyIGNvbnRyb2xzIHZvbHVtZSBtdXRlZCBkZWZhdWx0TXV0ZWQiLnNwbGl0KCIgIiksbmE9ImVycm9yIG5ldHdvcmtTdGF0ZSByZWFkeVN0YXRlIHNlZWtpbmcgaW5pdGlhbFRpbWUgZHVyYXRpb24gc3RhcnRPZmZzZXRUaW1lIHBhdXNlZCBwbGF5ZWQgc2Vla2FibGUgZW5kZWQgdmlkZW9UcmFja3MgYXVkaW9UcmFja3MgdmlkZW9XaWR0aCB2aWRlb0hlaWdodCB0ZXh0VHJhY2tzIi5zcGxpdCgiICIpLFg7Zm9yKFg9MDtYPFcubGVuZ3RoO1grKyltYShXW1hdKSxrYSgpO2ZvcihYPTA7WDxuYS5sZW5ndGg7WCsrKW1hKG5hW1hdKTtpZih0LmYuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTA8PXQuZi52ZXJzaW9uKClbMF19LHQuZi53Yj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPyhhPWEudHlwZS5yZXBsYWNlKC87LiovLCIiKS50b0xvd2VyQ2FzZSgpLGEgaW4gdC5mLnZkfHxhIGluIHQuZi5OYz8ibWF5YmUiOnZvaWQgMCk6IiJ9LHQuZi52ZD17InZpZGVvL2ZsdiI6IkZMViIsInZpZGVvL3gtZmx2IjoiRkxWIiwidmlkZW8vbXA0IjoiTVA0IiwidmlkZW8vbTR2IjoiTVA0In0sdC5mLk5jPXsicnRtcC9tcDQiOiJNUDQiLCJydG1wL2ZsdiI6IkZMViJ9LHQuZi5vblJlYWR5PWZ1bmN0aW9uKGEpe3ZhciBjOyhjPShhPXQudyhhKSkmJmEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnBsYXllcikmJihhLnBsYXllcj1jLHQuZi5jaGVja1JlYWR5KGMuaSkpfSx0LmYuY2hlY2tSZWFkeT1mdW5jdGlvbihhKXthLncoKSYmKGEudygpLnZqc19nZXRQcm9wZXJ0eT9hLkhhKCk6c2V0VGltZW91dChmdW5jdGlvbigpe3QuZi5jaGVja1JlYWR5KGEpfSw1MCkpfSx0LmYub25FdmVudD1mdW5jdGlvbihhLGMpe3QudyhhKS5wbGF5ZXIubChjKX0sdC5mLm9uRXJyb3I9ZnVuY3Rpb24oYSxjKXt2YXIgZD10LncoYSkucGxheWVyLGU9IkZMQVNIOiAiK2M7ZC5lcnJvcigic3Jjbm90Zm91bmQiPT1jP3tjb2RlOjQsbWVzc2FnZTplfTplKX0sdC5mLnZlcnNpb249ZnVuY3Rpb24oKXt2YXIgYT0iMCwwLDAiO3RyeXthPW5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2giKS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKS5yZXBsYWNlKC9cRCsvZywiLCIpLm1hdGNoKC9eLD8oLispLD8kLylbMV19Y2F0Y2goYyl7dHJ5e25hdmlnYXRvci5taW1lVHlwZXNbImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIl0uZW5hYmxlZFBsdWdpbiYmKGE9KG5hdmlnYXRvci5wbHVnaW5zWyJTaG9ja3dhdmUgRmxhc2ggMi4wIl18fG5hdmlnYXRvci5wbHVnaW5zWyJTaG9ja3dhdmUgRmxhc2giXSkuZGVzY3JpcHRpb24ucmVwbGFjZSgvXEQrL2csIiwiKS5tYXRjaCgvXiw/KC4rKSw/JC8pWzFdKX1jYXRjaChkKXt9fXJldHVybiBhLnNwbGl0KCIsIil9LHQuZi5yZD1mdW5jdGlvbihhLGMsZCxlLGcpe2E9dC5mLnhkKGEsZCxlLGcpLGE9dC5lKCJkaXYiLHtpbm5lckhUTUw6YX0pLmNoaWxkTm9kZXNbMF0sZD1jLnBhcmVudE5vZGUsYy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLGMpO3ZhciBoPWQuY2hpbGROb2Rlc1swXTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2guc3R5bGUuZGlzcGxheT0iYmxvY2sifSwxZTMpLGF9LHQuZi54ZD1mdW5jdGlvbihhLGMsZCxlKXt2YXIgZz0iIixoPSIiLGo9IiI7cmV0dXJuIGMmJnQuaC5aKGMsZnVuY3Rpb24oYSxjKXtnKz1hKyI9IitjKyImYW1wOyJ9KSxkPXQuaC5BKHttb3ZpZTphLGZsYXNodmFyczpnLGFsbG93U2NyaXB0QWNjZXNzOiJhbHdheXMiLGFsbG93TmV0d29ya2luZzoiYWxsIn0sZCksdC5oLlooZCxmdW5jdGlvbihhLGMpe2grPSc8cGFyYW0gbmFtZT0iJythKyciIHZhbHVlPSInK2MrJyIgLz4nfSksZT10LmguQSh7ZGF0YTphLHdpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUifSxlKSx0LmguWihlLGZ1bmN0aW9uKGEsYyl7ais9YSsnPSInK2MrJyIgJ30pLCc8b2JqZWN0IHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIicraisiPiIraCsiPC9vYmplY3Q+In0sdC5mLmNlPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGErIiYiK2N9LHQuZi5NYz1mdW5jdGlvbihhKXt2YXIgYz17eGI6IiIsU2I6IiJ9O2lmKCFhKXJldHVybiBjO3ZhciBlLGQ9YS5pbmRleE9mKCImIik7cmV0dXJuLTEhPT1kP2U9ZCsxOihkPWU9YS5sYXN0SW5kZXhPZigiLyIpKzEsMD09PWQmJihkPWU9YS5sZW5ndGgpKSxjLnhiPWEuc3Vic3RyaW5nKDAsZCksYy5TYj1hLnN1YnN0cmluZyhlLGEubGVuZ3RoKSxjfSx0LmYuQmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gdC5mLk5jfSx0LmYuY2Q9L15ydG1wW3NldF0/OlwvXC8vaSx0LmYuQWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHQuZi5jZC50ZXN0KGEpfSx0LmJkPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe2lmKHQuYS5jYWxsKHRoaXMsYSxjLGQpLGEuay5zb3VyY2VzJiYwIT09YS5rLnNvdXJjZXMubGVuZ3RoKWEuc3JjKGEuay5zb3VyY2VzKTtlbHNlIGZvcihjPTAsZD1hLmsudGVjaE9yZGVyO2M8ZC5sZW5ndGg7YysrKXt2YXIgZT10LmJhKGRbY10pLGc9d2luZG93LnZpZGVvanNbZV07aWYoZyYmZy5pc1N1cHBvcnRlZCgpKXtSKGEsZSk7YnJlYWt9fX19KSx0LlBsYXllci5wcm90b3R5cGUudGV4dFRyYWNrcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkdhPXRoaXMuR2F8fFtdfSx0LkQ9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSx0aGlzLlU9Yy5pZHx8InZqc18iK2Mua2luZCsiXyIrYy5sYW5ndWFnZSsiXyIrdC56KyssdGhpcy5KYz1jLnNyYyx0aGlzLm9kPWNbImRlZmF1bHQiXXx8Yy5kZmx0LHRoaXMuZmU9Yy50aXRsZSx0aGlzLlZhPWMuc3JjbGFuZyx0aGlzLkNkPWMubGFiZWwsdGhpcy5jYT1bXSx0aGlzLnViPVtdLHRoaXMubWE9dGhpcy5uYT0wLHRoaXMuYy5kKCJmdWxsc2NyZWVuY2hhbmdlIix0LmJpbmQodGhpcyx0aGlzLmVkKSl9fSkscz10LkQucHJvdG90eXBlLHMuSz1wKCJIIikscy5zcmM9cCgiSmMiKSxzLkJiPXAoIm9kIikscy50aXRsZT1wKCJmZSIpLHMubGFuZ3VhZ2U9cCgiVmEiKSxzLmxhYmVsPXAoIkNkIikscy5rZD1wKCJjYSIpLHMuZGQ9cCgidWIiKSxzLnJlYWR5U3RhdGU9cCgibmEiKSxzLm1vZGU9cCgibWEiKSxzLmVkPWZ1bmN0aW9uKCl7dGhpcy5iLnN0eWxlLmZvbnRTaXplPXRoaXMuYy5pc0Z1bGxTY3JlZW4oKT8xNDAqKHNjcmVlbi53aWR0aC90aGlzLmMud2lkdGgoKSkrIiUiOiIifSxzLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtIit0aGlzLkgrIiB2anMtdGV4dC10cmFjayJ9KX0scy5zaG93PWZ1bmN0aW9uKCl7cGEodGhpcyksdGhpcy5tYT0yLHQuYS5wcm90b3R5cGUuc2hvdy5jYWxsKHRoaXMpfSxzLlg9ZnVuY3Rpb24oKXtwYSh0aGlzKSx0aGlzLm1hPTEsdC5hLnByb3RvdHlwZS5YLmNhbGwodGhpcyl9LHMuZGlzYWJsZT1mdW5jdGlvbigpezI9PXRoaXMubWEmJnRoaXMuWCgpLHRoaXMuYy5wKCJ0aW1ldXBkYXRlIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSx0aGlzLlUpKSx0aGlzLmMucCgiZW5kZWQiLHQuYmluZCh0aGlzLHRoaXMucmVzZXQsdGhpcy5VKSksdGhpcy5yZXNldCgpLHRoaXMuYy5rYSgidGV4dFRyYWNrRGlzcGxheSIpLnJlbW92ZUNoaWxkKHRoaXMpLHRoaXMubWE9MH0scy5sb2FkPWZ1bmN0aW9uKCl7MD09PXRoaXMubmEmJih0aGlzLm5hPTEsdC5nZXQodGhpcy5KYyx0LmJpbmQodGhpcyx0aGlzLlJkKSx0LmJpbmQodGhpcyx0aGlzLkhkKSkpfSxzLkhkPWZ1bmN0aW9uKGEpe3RoaXMuZXJyb3I9YSx0aGlzLm5hPTMsdGhpcy5sKCJlcnJvciIpfSxzLlJkPWZ1bmN0aW9uKGEpe3ZhciBjLGQ7YT1hLnNwbGl0KCJcbiIpO2Zvcih2YXIgZT0iIixnPTEsaD1hLmxlbmd0aDtoPmc7ZysrKWlmKGU9dC50cmltKGFbZ10pKXtmb3IoLTE9PWUuaW5kZXhPZigiLS0+Iik/KGM9ZSxlPXQudHJpbShhWysrZ10pKTpjPXRoaXMuY2EubGVuZ3RoLGM9e2lkOmMsaW5kZXg6dGhpcy5jYS5sZW5ndGh9LGQ9ZS5zcGxpdCgvW1x0IF0rLyksYy5zdGFydFRpbWU9cWEoZFswXSksYy55YT1xYShkWzJdKSxkPVtdO2FbKytnXSYmKGU9dC50cmltKGFbZ10pKTspZC5wdXNoKGUpO2MudGV4dD1kLmpvaW4oIjxici8+IiksdGhpcy5jYS5wdXNoKGMpfXRoaXMubmE9Mix0aGlzLmwoImxvYWRlZCIpfSxzLnVwZGF0ZT1mdW5jdGlvbigpe2lmKDA8dGhpcy5jYS5sZW5ndGgpe3ZhciBhPXRoaXMuYy5vcHRpb25zKCkudHJhY2tUaW1lT2Zmc2V0fHwwLGE9dGhpcy5jLmN1cnJlbnRUaW1lKCkrYTtpZih0aGlzLlJiPT09Ynx8YTx0aGlzLlJifHx0aGlzLlhhPD1hKXt2YXIgaixuLHEsdixjPXRoaXMuY2EsZD10aGlzLmMuZHVyYXRpb24oKSxlPTAsZz1sLGg9W107Zm9yKGE+PXRoaXMuWGF8fHRoaXMuWGE9PT1iP3Y9dGhpcy5FYiE9PWI/dGhpcy5FYjowOihnPWYsdj10aGlzLktiIT09Yj90aGlzLktiOmMubGVuZ3RoLTEpOzspe2lmKHE9Y1t2XSxxLnlhPD1hKWU9TWF0aC5tYXgoZSxxLnlhKSxxLlBhJiYocS5QYT1sKTtlbHNlIGlmKGE8cS5zdGFydFRpbWUpe2lmKGQ9TWF0aC5taW4oZCxxLnN0YXJ0VGltZSkscS5QYSYmKHEuUGE9bCksIWcpYnJlYWt9ZWxzZSBnPyhoLnNwbGljZSgwLDAscSksbj09PWImJihuPXYpLGo9dik6KGgucHVzaChxKSxqPT09YiYmKGo9diksbj12KSxkPU1hdGgubWluKGQscS55YSksZT1NYXRoLm1heChlLHEuc3RhcnRUaW1lKSxxLlBhPWY7aWYoZyl7aWYoMD09PXYpYnJlYWs7di0tfWVsc2V7aWYodj09PWMubGVuZ3RoLTEpYnJlYWs7disrfX1mb3IodGhpcy51Yj1oLHRoaXMuWGE9ZCx0aGlzLlJiPWUsdGhpcy5FYj1qLHRoaXMuS2I9bixqPXRoaXMudWIsbj0iIixhPTAsYz1qLmxlbmd0aDtjPmE7YSsrKW4rPSc8c3BhbiBjbGFzcz0idmpzLXR0LWN1ZSI+JytqW2FdLnRleHQrIjwvc3Bhbj4iO3RoaXMuYi5pbm5lckhUTUw9bix0aGlzLmwoImN1ZWNoYW5nZSIpfX19LHMucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLlhhPTAsdGhpcy5SYj10aGlzLmMuZHVyYXRpb24oKSx0aGlzLktiPXRoaXMuRWI9MH0sdC5YYj10LkQuZXh0ZW5kKCksdC5YYi5wcm90b3R5cGUuSD0iY2FwdGlvbnMiLHQuZWM9dC5ELmV4dGVuZCgpLHQuZWMucHJvdG90eXBlLkg9InN1YnRpdGxlcyIsdC5ZYj10LkQuZXh0ZW5kKCksdC5ZYi5wcm90b3R5cGUuSD0iY2hhcHRlcnMiLHQuZ2M9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7aWYodC5hLmNhbGwodGhpcyxhLGMsZCksYS5rLnRyYWNrcyYmMDxhLmsudHJhY2tzLmxlbmd0aCl7Yz10aGlzLmMsYT1hLmsudHJhY2tzO2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWQ9YVtlXSxvYShjLGQua2luZCxkLmxhYmVsLGQubGFuZ3VhZ2UsZCl9fX0pLHQuZ2MucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtdGV4dC10cmFjay1kaXNwbGF5In0pfSx0LmFhPXQuSS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmZhPWMudHJhY2s7Yy5sYWJlbD1kLmxhYmVsKCksYy5zZWxlY3RlZD1kLkJiKCksdC5JLmNhbGwodGhpcyxhLGMpLHRoaXMuYy5kKGQuSygpKyJ0cmFja2NoYW5nZSIsdC5iaW5kKHRoaXMsdGhpcy51cGRhdGUpKX19KSx0LmFhLnByb3RvdHlwZS5yPWZ1bmN0aW9uKCl7dC5JLnByb3RvdHlwZS5yLmNhbGwodGhpcyksWSh0aGlzLmMsdGhpcy5mYS5VLHRoaXMuZmEuSygpKX0sdC5hYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZCgyPT10aGlzLmZhLm1vZGUoKSl9LHQubmI9dC5hYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXtjLnRyYWNrPXtLOmZ1bmN0aW9uKCl7cmV0dXJuIGMua2luZH0sbTphLGxhYmVsOmZ1bmN0aW9uKCl7cmV0dXJuIGMua2luZCsiIG9mZiJ9LEJiOnIobCksbW9kZTpyKGwpfSx0LmFhLmNhbGwodGhpcyxhLGMpLHRoaXMuc2VsZWN0ZWQoZil9fSksdC5uYi5wcm90b3R5cGUucj1mdW5jdGlvbigpe3QuYWEucHJvdG90eXBlLnIuY2FsbCh0aGlzKSxZKHRoaXMuYyx0aGlzLmZhLlUsdGhpcy5mYS5LKCkpfSx0Lm5iLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGUsYT10aGlzLmMudGV4dFRyYWNrcygpLGM9MCxkPWEubGVuZ3RoLGc9ZjtkPmM7YysrKWU9YVtjXSxlLksoKT09dGhpcy5mYS5LKCkmJjI9PWUubW9kZSgpJiYoZz1sKTt0aGlzLnNlbGVjdGVkKGcpfSx0Llc9dC5MLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuTC5jYWxsKHRoaXMsYSxjKSwxPj10aGlzLk8ubGVuZ3RoJiZ0aGlzLlgoKX19KSx0LlcucHJvdG90eXBlLndhPWZ1bmN0aW9uKCl7dmFyIGMsYT1bXTthLnB1c2gobmV3IHQubmIodGhpcy5jLHtraW5kOnRoaXMuSH0pKTtmb3IodmFyIGQ9MDtkPHRoaXMuYy50ZXh0VHJhY2tzKCkubGVuZ3RoO2QrKyljPXRoaXMuYy50ZXh0VHJhY2tzKClbZF0sYy5LKCk9PT10aGlzLkgmJmEucHVzaChuZXcgdC5hYSh0aGlzLmMse3RyYWNrOmN9KSk7cmV0dXJuIGF9LHQuSWE9dC5XLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dC5XLmNhbGwodGhpcyxhLGMsZCksdGhpcy5iLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsIkNhcHRpb25zIE1lbnUiKX19KSx0LklhLnByb3RvdHlwZS5IPSJjYXB0aW9ucyIsdC5JYS5wcm90b3R5cGUudWE9IkNhcHRpb25zIix0LklhLnByb3RvdHlwZS5jbGFzc05hbWU9InZqcy1jYXB0aW9ucy1idXR0b24iLHQuT2E9dC5XLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dC5XLmNhbGwodGhpcyxhLGMsZCksdGhpcy5iLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsIlN1YnRpdGxlcyBNZW51Iil9fSksdC5PYS5wcm90b3R5cGUuSD0ic3VidGl0bGVzIix0Lk9hLnByb3RvdHlwZS51YT0iU3VidGl0bGVzIix0Lk9hLnByb3RvdHlwZS5jbGFzc05hbWU9InZqcy1zdWJ0aXRsZXMtYnV0dG9uIix0LkphPXQuVy5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe3QuVy5jYWxsKHRoaXMsYSxjLGQpLHRoaXMuYi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLCJDaGFwdGVycyBNZW51Iil9fSkscz10LkphLnByb3RvdHlwZSxzLkg9ImNoYXB0ZXJzIixzLnVhPSJDaGFwdGVycyIscy5jbGFzc05hbWU9InZqcy1jaGFwdGVycy1idXR0b24iLHMud2E9ZnVuY3Rpb24oKXtmb3IodmFyIGMsYT1bXSxkPTA7ZDx0aGlzLmMudGV4dFRyYWNrcygpLmxlbmd0aDtkKyspYz10aGlzLmMudGV4dFRyYWNrcygpW2RdLGMuSygpPT09dGhpcy5IJiZhLnB1c2gobmV3IHQuYWEodGhpcy5jLHt0cmFjazpjfSkpO3JldHVybiBhfSxzLnhhPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLGcsYT10aGlzLmMudGV4dFRyYWNrcygpLGM9MCxkPWEubGVuZ3RoLGg9dGhpcy5PPVtdO2Q+YztjKyspaWYoZT1hW2NdLGUuSygpPT10aGlzLkgpe2lmKDAhPT1lLnJlYWR5U3RhdGUoKSl7Zz1lO2JyZWFrfWUubG9hZCgpLGUuZCgibG9hZGVkIix0LmJpbmQodGhpcyx0aGlzLnhhKSl9aWYoYT10aGlzLkJhLGE9PT1iJiYoYT1uZXcgdC5oYSh0aGlzLmMpLGEuamEoKS5hcHBlbmRDaGlsZCh0LmUoImxpIix7Y2xhc3NOYW1lOiJ2anMtbWVudS10aXRsZSIsaW5uZXJIVE1MOnQuYmEodGhpcy5IKSxkZTotMX0pKSksZyl7ZT1nLmNhO2Zvcih2YXIgaixjPTAsZD1lLmxlbmd0aDtkPmM7YysrKWo9ZVtjXSxqPW5ldyB0LmhiKHRoaXMuYyx7dHJhY2s6ZyxjdWU6an0pLGgucHVzaChqKSxhLlIoaik7dGhpcy5SKGEpfXJldHVybiAwPHRoaXMuTy5sZW5ndGgmJnRoaXMuc2hvdygpLGF9LHQuaGI9dC5JLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuZmE9Yy50cmFjayxlPXRoaXMuY3VlPWMuY3VlLGc9YS5jdXJyZW50VGltZSgpO2MubGFiZWw9ZS50ZXh0LGMuc2VsZWN0ZWQ9ZS5zdGFydFRpbWU8PWcmJmc8ZS55YSx0LkkuY2FsbCh0aGlzLGEsYyksZC5kKCJjdWVjaGFuZ2UiLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlKSl9fSksdC5oYi5wcm90b3R5cGUucj1mdW5jdGlvbigpe3QuSS5wcm90b3R5cGUuci5jYWxsKHRoaXMpLHRoaXMuYy5jdXJyZW50VGltZSh0aGlzLmN1ZS5zdGFydFRpbWUpLHRoaXMudXBkYXRlKHRoaXMuY3VlLnN0YXJ0VGltZSl9LHQuaGIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VlLGM9dGhpcy5jLmN1cnJlbnRUaW1lKCk7dGhpcy5zZWxlY3RlZChhLnN0YXJ0VGltZTw9YyYmYzxhLnlhKX0sdC5oLkEodC5LYS5wcm90b3R5cGUuay5jaGlsZHJlbix7c3VidGl0bGVzQnV0dG9uOnt9LGNhcHRpb25zQnV0dG9uOnt9LGNoYXB0ZXJzQnV0dG9uOnt9fSksInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuSlNPTiYmImZ1bmN0aW9uIj09PXdpbmRvdy5KU09OLnBhcnNlKXQuSlNPTj13aW5kb3cuSlNPTjtlbHNle3QuSlNPTj17fTt2YXIgWj0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nO3QuSlNPTi5wYXJzZT1mdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSxlKXt2YXIgaixuLHE9YVtlXTtpZihxJiYib2JqZWN0Ij09dHlwZW9mIHEpZm9yKGogaW4gcSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocSxqKSYmKG49ZChxLGopLG4hPT1iP3Fbal09bjpkZWxldGUgcVtqXSk7cmV0dXJuIGMuY2FsbChhLGUscSl9dmFyIGU7aWYoYT1TdHJpbmcoYSksWi5sYXN0SW5kZXg9MCxaLnRlc3QoYSkmJihhPWEucmVwbGFjZShaLGZ1bmN0aW9uKGEpe3JldHVybiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpLC9eW1xdLDp7fVxzXSokLy50ZXN0KGEucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCJAIikucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csIl0iKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csIiIpKSlyZXR1cm4gZT1ldmFsKCIoIithKyIpIiksImZ1bmN0aW9uIj09dHlwZW9mIGM/ZCh7IiI6ZX0sIiIpOmU7dGhyb3cgbmV3IFN5bnRheEVycm9yKCJKU09OLnBhcnNlKCk6IGludmFsaWQgb3IgbWFsZm9ybWVkIEpTT04gZGF0YSIpfX10LmtjPWZ1bmN0aW9uKCl7dmFyIGEsYyxkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2aWRlbyIpO2lmKGQmJjA8ZC5sZW5ndGgpZm9yKHZhciBlPTAsZz1kLmxlbmd0aDtnPmU7ZSsrKXtpZighKGM9ZFtlXSl8fCFjLmdldEF0dHJpYnV0ZSl7dC52YigpO2JyZWFrfWMucGxheWVyPT09YiYmKGE9Yy5nZXRBdHRyaWJ1dGUoImRhdGEtc2V0dXAiKSxhIT09ayYmKGE9dC5KU09OLnBhcnNlKGF8fCJ7fSIpLHZpZGVvanMoYyxhKSkpfWVsc2UgdC5TY3x8dC52YigpfSx0LnZiPWZ1bmN0aW9uKCl7c2V0VGltZW91dCh0LmtjLDEpfSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZT90LlNjPWY6dC5WKHdpbmRvdywibG9hZCIsZnVuY3Rpb24oKXt0LlNjPWZ9KSx0LnZiKCksdC5UZD1mdW5jdGlvbihhLGMpe3QuUGxheWVyLnByb3RvdHlwZVthXT1jfTt2YXIgcmE9dGhpczskKCJ2aWRlb2pzIix0KSwkKCJfVl8iLHQpLCQoInZpZGVvanMub3B0aW9ucyIsdC5vcHRpb25zKSwkKCJ2aWRlb2pzLnBsYXllcnMiLHQuQ2EpLCQoInZpZGVvanMuVE9VQ0hfRU5BQkxFRCIsdC5mYyksJCgidmlkZW9qcy5jYWNoZSIsdC52YSksJCgidmlkZW9qcy5Db21wb25lbnQiLHQuYSksdC5hLnByb3RvdHlwZS5wbGF5ZXI9dC5hLnByb3RvdHlwZS5tLHQuYS5wcm90b3R5cGUub3B0aW9ucz10LmEucHJvdG90eXBlLm9wdGlvbnMsdC5hLnByb3RvdHlwZS5pbml0PXQuYS5wcm90b3R5cGUuaix0LmEucHJvdG90eXBlLmRpc3Bvc2U9dC5hLnByb3RvdHlwZS5kaXNwb3NlLHQuYS5wcm90b3R5cGUuY3JlYXRlRWw9dC5hLnByb3RvdHlwZS5lLHQuYS5wcm90b3R5cGUuY29udGVudEVsPXQuYS5wcm90b3R5cGUuamEsdC5hLnByb3RvdHlwZS5lbD10LmEucHJvdG90eXBlLncsdC5hLnByb3RvdHlwZS5hZGRDaGlsZD10LmEucHJvdG90eXBlLlIsdC5hLnByb3RvdHlwZS5nZXRDaGlsZD10LmEucHJvdG90eXBlLmthLHQuYS5wcm90b3R5cGUuZ2V0Q2hpbGRCeUlkPXQuYS5wcm90b3R5cGUud2QsdC5hLnByb3RvdHlwZS5jaGlsZHJlbj10LmEucHJvdG90eXBlLmNoaWxkcmVuLHQuYS5wcm90b3R5cGUuaW5pdENoaWxkcmVuPXQuYS5wcm90b3R5cGUud2MsdC5hLnByb3RvdHlwZS5yZW1vdmVDaGlsZD10LmEucHJvdG90eXBlLnJlbW92ZUNoaWxkLHQuYS5wcm90b3R5cGUub249dC5hLnByb3RvdHlwZS5kLHQuYS5wcm90b3R5cGUub2ZmPXQuYS5wcm90b3R5cGUucCx0LmEucHJvdG90eXBlLm9uZT10LmEucHJvdG90eXBlLlYsdC5hLnByb3RvdHlwZS50cmlnZ2VyPXQuYS5wcm90b3R5cGUubCx0LmEucHJvdG90eXBlLnRyaWdnZXJSZWFkeT10LmEucHJvdG90eXBlLkhhLHQuYS5wcm90b3R5cGUuc2hvdz10LmEucHJvdG90eXBlLnNob3csdC5hLnByb3RvdHlwZS5oaWRlPXQuYS5wcm90b3R5cGUuWCx0LmEucHJvdG90eXBlLndpZHRoPXQuYS5wcm90b3R5cGUud2lkdGgsdC5hLnByb3RvdHlwZS5oZWlnaHQ9dC5hLnByb3RvdHlwZS5oZWlnaHQsdC5hLnByb3RvdHlwZS5kaW1lbnNpb25zPXQuYS5wcm90b3R5cGUucGQsdC5hLnByb3RvdHlwZS5yZWFkeT10LmEucHJvdG90eXBlLkosdC5hLnByb3RvdHlwZS5hZGRDbGFzcz10LmEucHJvdG90eXBlLm4sdC5hLnByb3RvdHlwZS5yZW1vdmVDbGFzcz10LmEucHJvdG90eXBlLnEsdC5hLnByb3RvdHlwZS5idWlsZENTU0NsYXNzPXQuYS5wcm90b3R5cGUuVCx0LmEucHJvdG90eXBlLmxvY2FsaXplPXQuYS5wcm90b3R5cGUucyx0LlBsYXllci5wcm90b3R5cGUuZW5kZWQ9dC5QbGF5ZXIucHJvdG90eXBlLmVuZGVkLHQuUGxheWVyLnByb3RvdHlwZS5lbnRlckZ1bGxXaW5kb3c9dC5QbGF5ZXIucHJvdG90eXBlLnFjLHQuUGxheWVyLnByb3RvdHlwZS5leGl0RnVsbFdpbmRvdz10LlBsYXllci5wcm90b3R5cGUuRGIsdC5QbGF5ZXIucHJvdG90eXBlLnByZWxvYWQ9dC5QbGF5ZXIucHJvdG90eXBlLkRhLHQuUGxheWVyLnByb3RvdHlwZS5yZW1haW5pbmdUaW1lPXQuUGxheWVyLnByb3RvdHlwZS5yZW1haW5pbmdUaW1lLHQuUGxheWVyLnByb3RvdHlwZS5zdXBwb3J0c0Z1bGxTY3JlZW49dC5QbGF5ZXIucHJvdG90eXBlLkZhLHQuUGxheWVyLnByb3RvdHlwZS5jdXJyZW50VHlwZT10LlBsYXllci5wcm90b3R5cGUubGQsdC5QbGF5ZXIucHJvdG90eXBlLmxhbmd1YWdlPXQuUGxheWVyLnByb3RvdHlwZS5sYW5ndWFnZSx0LlBsYXllci5wcm90b3R5cGUubGFuZ3VhZ2VzPXQuUGxheWVyLnByb3RvdHlwZS5XYSwkKCJ2aWRlb2pzLk1lZGlhTG9hZGVyIix0LmJkKSwkKCJ2aWRlb2pzLlRleHRUcmFja0Rpc3BsYXkiLHQuZ2MpLCQoInZpZGVvanMuQ29udHJvbEJhciIsdC5LYSksJCgidmlkZW9qcy5CdXR0b24iLHQudCksJCgidmlkZW9qcy5QbGF5VG9nZ2xlIix0LmJjKSwkKCJ2aWRlb2pzLkZ1bGxzY3JlZW5Ub2dnbGUiLHQuTGEpLCQoInZpZGVvanMuQmlnUGxheUJ1dHRvbiIsdC5nYiksJCgidmlkZW9qcy5Mb2FkaW5nU3Bpbm5lciIsdC4kYiksJCgidmlkZW9qcy5DdXJyZW50VGltZURpc3BsYXkiLHQuaWIpLCQoInZpZGVvanMuRHVyYXRpb25EaXNwbGF5Iix0LmpiKSwkKCJ2aWRlb2pzLlRpbWVEaXZpZGVyIix0LmhjKSwkKCJ2aWRlb2pzLlJlbWFpbmluZ1RpbWVEaXNwbGF5Iix0LnFiKSwkKCJ2aWRlb2pzLkxpdmVEaXNwbGF5Iix0LlpiKSwkKCJ2aWRlb2pzLkVycm9yRGlzcGxheSIsdC5rYiksJCgidmlkZW9qcy5TbGlkZXIiLHQuUSksJCgidmlkZW9qcy5Qcm9ncmVzc0NvbnRyb2wiLHQucGIpLCQoInZpZGVvanMuU2Vla0JhciIsdC5kYyksJCgidmlkZW9qcy5Mb2FkUHJvZ3Jlc3NCYXIiLHQubWIpLCQoInZpZGVvanMuUGxheVByb2dyZXNzQmFyIix0LmFjKSwkKCJ2aWRlb2pzLlNlZWtIYW5kbGUiLHQuTmEpLCQoInZpZGVvanMuVm9sdW1lQ29udHJvbCIsdC5zYiksJCgidmlkZW9qcy5Wb2x1bWVCYXIiLHQucmIpLCQoInZpZGVvanMuVm9sdW1lTGV2ZWwiLHQuaWMpLCQoInZpZGVvanMuVm9sdW1lTWVudUJ1dHRvbiIsdC5zYSksJCgidmlkZW9qcy5Wb2x1bWVIYW5kbGUiLHQudGIpLCQoInZpZGVvanMuTXV0ZVRvZ2dsZSIsdC5pYSksJCgidmlkZW9qcy5Qb3N0ZXJJbWFnZSIsdC5NYSksJCgidmlkZW9qcy5NZW51Iix0LmhhKSwkKCJ2aWRlb2pzLk1lbnVJdGVtIix0LkkpLCQoInZpZGVvanMuTWVudUJ1dHRvbiIsdC5MKSwkKCJ2aWRlb2pzLlBsYXliYWNrUmF0ZU1lbnVCdXR0b24iLHQuY2MpLHQuTC5wcm90b3R5cGUuY3JlYXRlSXRlbXM9dC5MLnByb3RvdHlwZS53YSx0LlcucHJvdG90eXBlLmNyZWF0ZUl0ZW1zPXQuVy5wcm90b3R5cGUud2EsdC5KYS5wcm90b3R5cGUuY3JlYXRlSXRlbXM9dC5KYS5wcm90b3R5cGUud2EsJCgidmlkZW9qcy5TdWJ0aXRsZXNCdXR0b24iLHQuT2EpLCQoInZpZGVvanMuQ2FwdGlvbnNCdXR0b24iLHQuSWEpLCQoInZpZGVvanMuQ2hhcHRlcnNCdXR0b24iLHQuSmEpLCQoInZpZGVvanMuTWVkaWFUZWNoQ29udHJvbGxlciIsdC51KSx0LnUucHJvdG90eXBlLmZlYXR1cmVzPXQudS5wcm90b3R5cGUubyx0LnUucHJvdG90eXBlLm8udm9sdW1lQ29udHJvbD10LnUucHJvdG90eXBlLm8uUmMsdC51LnByb3RvdHlwZS5vLmZ1bGxzY3JlZW5SZXNpemU9dC51LnByb3RvdHlwZS5vLm1lLHQudS5wcm90b3R5cGUuby5wcm9ncmVzc0V2ZW50cz10LnUucHJvdG90eXBlLm8ucGUsdC51LnByb3RvdHlwZS5vLnRpbWV1cGRhdGVFdmVudHM9dC51LnByb3RvdHlwZS5vLnNlLHQudS5wcm90b3R5cGUuc2V0UG9zdGVyPXQudS5wcm90b3R5cGUuSWMsJCgidmlkZW9qcy5IdG1sNSIsdC5nKSx0LmcuRXZlbnRzPXQuZy5sYix0LmcuaXNTdXBwb3J0ZWQ9dC5nLmlzU3VwcG9ydGVkLHQuZy5jYW5QbGF5U291cmNlPXQuZy53Yix0LmcucGF0Y2hDYW5QbGF5VHlwZT10LmcuQmMsdC5nLnVucGF0Y2hDYW5QbGF5VHlwZT10LmcuaGUsdC5nLnByb3RvdHlwZS5zZXRDdXJyZW50VGltZT10LmcucHJvdG90eXBlLldkLHQuZy5wcm90b3R5cGUuc2V0Vm9sdW1lPXQuZy5wcm90b3R5cGUuYmUsdC5nLnByb3RvdHlwZS5zZXRNdXRlZD10LmcucHJvdG90eXBlLlpkLHQuZy5wcm90b3R5cGUuc2V0UHJlbG9hZD10LmcucHJvdG90eXBlLmFlLHQuZy5wcm90b3R5cGUuc2V0QXV0b3BsYXk9dC5nLnByb3RvdHlwZS5WZCx0LmcucHJvdG90eXBlLnNldExvb3A9dC5nLnByb3RvdHlwZS5ZZCx0LmcucHJvdG90eXBlLmVudGVyRnVsbFNjcmVlbj10LmcucHJvdG90eXBlLnBjLHQuZy5wcm90b3R5cGUuZXhpdEZ1bGxTY3JlZW49dC5nLnByb3RvdHlwZS50ZCx0LmcucHJvdG90eXBlLnBsYXliYWNrUmF0ZT10LmcucHJvdG90eXBlLnBsYXliYWNrUmF0ZSx0LmcucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT10LmcucHJvdG90eXBlLiRkLCQoInZpZGVvanMuRmxhc2giLHQuZiksdC5mLmlzU3VwcG9ydGVkPXQuZi5pc1N1cHBvcnRlZCx0LmYuY2FuUGxheVNvdXJjZT10LmYud2IsdC5mLm9uUmVhZHk9dC5mLm9uUmVhZHksJCgidmlkZW9qcy5UZXh0VHJhY2siLHQuRCksdC5ELnByb3RvdHlwZS5sYWJlbD10LkQucHJvdG90eXBlLmxhYmVsLHQuRC5wcm90b3R5cGUua2luZD10LkQucHJvdG90eXBlLkssdC5ELnByb3RvdHlwZS5tb2RlPXQuRC5wcm90b3R5cGUubW9kZSx0LkQucHJvdG90eXBlLmN1ZXM9dC5ELnByb3RvdHlwZS5rZCx0LkQucHJvdG90eXBlLmFjdGl2ZUN1ZXM9dC5ELnByb3RvdHlwZS5kZCwkKCJ2aWRlb2pzLkNhcHRpb25zVHJhY2siLHQuWGIpLCQoInZpZGVvanMuU3VidGl0bGVzVHJhY2siLHQuZWMpLCQoInZpZGVvanMuQ2hhcHRlcnNUcmFjayIsdC5ZYiksJCgidmlkZW9qcy5hdXRvU2V0dXAiLHQua2MpLCQoInZpZGVvanMucGx1Z2luIix0LlRkKSwkKCJ2aWRlb2pzLmNyZWF0ZVRpbWVSYW5nZSIsdC5BYiksJCgidmlkZW9qcy51dGlsIix0LnFhKSx0LnFhLm1lcmdlT3B0aW9ucz10LnFhLk5ifSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihhLGIpe3ZhciBjO2F8fChhPXt9KTtmb3IoYyBpbiBiKWFbY109YltjXTtyZXR1cm4gYX1mdW5jdGlvbiB3KCl7dmFyIGEsYyxiPWFyZ3VtZW50cyxkPXt9LGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkOyJvYmplY3QiIT10eXBlb2YgYSYmKGE9e30pO2ZvcihkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmKGM9YltkXSxhW2RdPWMmJiJvYmplY3QiPT10eXBlb2YgYyYmIltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjKSYmInJlbmRlclRvIiE9PWQmJiJudW1iZXIiIT10eXBlb2YgYy5ub2RlVHlwZT9lKGFbZF18fHt9LGMpOmJbZF0pO3JldHVybiBhfTtmb3IoYlswXT09PSEwJiYoZD1iWzFdLGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYiwyKSksYz1iLmxlbmd0aCxhPTA7Yz5hO2ErKylkPWUoZCxiW2FdKTtyZXR1cm4gZH1mdW5jdGlvbiB5KGEsYil7cmV0dXJuIHBhcnNlSW50KGEsYnx8MTApfWZ1bmN0aW9uIEdhKGEpe3JldHVybiJzdHJpbmciPT10eXBlb2YgYX1mdW5jdGlvbiBkYShhKXtyZXR1cm4gYSYmIm9iamVjdCI9PXR5cGVvZiBhfWZ1bmN0aW9uIEhhKGEpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9ZnVuY3Rpb24gamEoYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhfWZ1bmN0aW9uIHphKGEpe3JldHVybiBWLmxvZyhhKS9WLkxOMTB9ZnVuY3Rpb24ga2EoYSl7cmV0dXJuIFYucG93KDEwLGEpfWZ1bmN0aW9uIGxhKGEsYil7Zm9yKHZhciBjPWEubGVuZ3RoO2MtLTspaWYoYVtjXT09PWIpe2Euc3BsaWNlKGMsMSk7YnJlYWt9fWZ1bmN0aW9uIHMoYSl7cmV0dXJuIGEhPT11JiZudWxsIT09YX1mdW5jdGlvbiBGKGEsYixjKXt2YXIgZCxlO2lmKEdhKGIpKXMoYyk/YS5zZXRBdHRyaWJ1dGUoYixjKTphJiZhLmdldEF0dHJpYnV0ZSYmKGU9YS5nZXRBdHRyaWJ1dGUoYikpO2Vsc2UgaWYocyhiKSYmZGEoYikpZm9yKGQgaW4gYilhLnNldEF0dHJpYnV0ZShkLGJbZF0pO3JldHVybiBlfWZ1bmN0aW9uIHJhKGEpe3JldHVybiBIYShhKT9hOlthXX1mdW5jdGlvbiBwKCl7dmFyIGIsYyxhPWFyZ3VtZW50cyxkPWEubGVuZ3RoO2ZvcihiPTA7ZD5iO2IrKylpZihjPWFbYl0sYyE9PXUmJm51bGwhPT1jKXJldHVybiBjfWZ1bmN0aW9uIEIoYSxiKXtBYSYmIWJhJiZiJiZiLm9wYWNpdHkhPT11JiYoYi5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqYi5vcGFjaXR5KyIpIikscihhLnN0eWxlLGIpfWZ1bmN0aW9uICQoYSxiLGMsZCxlKXtyZXR1cm4gYT14LmNyZWF0ZUVsZW1lbnQoYSksYiYmcihhLGIpLGUmJkIoYSx7cGFkZGluZzowLGJvcmRlcjpQLG1hcmdpbjowfSksYyYmQihhLGMpLGQmJmQuYXBwZW5kQ2hpbGQoYSksYX1mdW5jdGlvbiBtYShhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuIHV9O3JldHVybiBjLnByb3RvdHlwZT1uZXcgYSxyKGMucHJvdG90eXBlLGIpLGN9ZnVuY3Rpb24gQmEoYSxiLGMsZCl7dmFyIGU9Sy5udW1iZXJGb3JtYXQsZj1FLmxhbmcsZz0rYXx8MCxoPS0xPT09Yj8oZy50b1N0cmluZygpLnNwbGl0KCIuIilbMV18fCIiKS5sZW5ndGg6aXNOYU4oYj1RKGIpKT8yOmIsaT12b2lkIDA9PT1jP2YuZGVjaW1hbFBvaW50OmMsZj12b2lkIDA9PT1kP2YudGhvdXNhbmRzU2VwOmQsaj0wPmc/Ii0iOiIiLGs9U3RyaW5nKHkoZz1RKGcpLnRvRml4ZWQoaCkpKSxsPWsubGVuZ3RoPjM/ay5sZW5ndGglMzowO3JldHVybiBlIT09QmE/ZShhLGIsYyxkKTpqKyhsP2suc3Vic3RyKDAsbCkrZjoiIikray5zdWJzdHIobCkucmVwbGFjZSgvKFxkezN9KSg/PVxkKS9nLCIkMSIrZikrKGg/aStRKGctaykudG9GaXhlZChoKS5zbGljZSgyKToiIil9ZnVuY3Rpb24gSWEoYSxiKXtyZXR1cm4gQXJyYXkoKGJ8fDIpKzEtU3RyaW5nKGEpLmxlbmd0aCkuam9pbigwKSthfWZ1bmN0aW9uIE5hKGEsYixjKXt2YXIgZD1hW2JdO2FbYl09ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBhLnVuc2hpZnQoZCksYy5hcHBseSh0aGlzLGEpfX1mdW5jdGlvbiBKYShhLGIpe2Zvcih2YXIgZSxmLGcsaCxpLGM9InsiLGQ9ITEsaj1bXTstMSE9PShjPWEuaW5kZXhPZihjKSk7KXtpZihlPWEuc2xpY2UoMCxjKSxkKXtmb3IoZj1lLnNwbGl0KCI6IiksZz1mLnNoaWZ0KCkuc3BsaXQoIi4iKSxpPWcubGVuZ3RoLGU9YixoPTA7aT5oO2grKyllPWVbZ1toXV07Zi5sZW5ndGgmJihmPWYuam9pbigiOiIpLGc9L1wuKFswLTldKS8saD1FLmxhbmcsaT12b2lkIDAsL2YkLy50ZXN0KGYpPyhpPShpPWYubWF0Y2goZykpP2lbMV06LTEsbnVsbCE9PWUmJihlPUJhKGUsaSxoLmRlY2ltYWxQb2ludCxmLmluZGV4T2YoIiwiKT4tMT9oLnRob3VzYW5kc1NlcDoiIikpKTplPWNiKGYsZSkpfWoucHVzaChlKSxhPWEuc2xpY2UoYysxKSxjPShkPSFkKT8ifSI6InsifXJldHVybiBqLnB1c2goYSksai5qb2luKCIiKX1mdW5jdGlvbiBtYihhKXtyZXR1cm4gVi5wb3coMTAsVShWLmxvZyhhKS9WLkxOMTApKX1mdW5jdGlvbiBuYihhLGIsYyxkKXt2YXIgZSxjPXAoYywxKTtmb3IoZT1hL2MsYnx8KGI9WzEsMiwyLjUsNSwxMF0sZD09PSExJiYoMT09PWM/Yj1bMSwyLDUsMTBdOi4xPj1jJiYoYj1bMS9jXSkpKSxkPTA7ZDxiLmxlbmd0aCYmKGE9YltkXSwhKGU8PShiW2RdKyhiW2QrMV18fGJbZF0pKS8yKSk7ZCsrKTtyZXR1cm4gYSo9Y31mdW5jdGlvbiBvYihhLGIpe3ZhciBkLGUsYz1hLmxlbmd0aDtmb3IoZT0wO2M+ZTtlKyspYVtlXS5zc19pPWU7Zm9yKGEuc29ydChmdW5jdGlvbihhLGMpe3JldHVybiBkPWIoYSxjKSwwPT09ZD9hLnNzX2ktYy5zc19pOmR9KSxlPTA7Yz5lO2UrKylkZWxldGUgYVtlXS5zc19pfWZ1bmN0aW9uIE9hKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPWFbMF07Yi0tOylhW2JdPGMmJihjPWFbYl0pO3JldHVybiBjfWZ1bmN0aW9uIENhKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPWFbMF07Yi0tOylhW2JdPmMmJihjPWFbYl0pO3JldHVybiBjfWZ1bmN0aW9uIFBhKGEsYil7Zm9yKHZhciBjIGluIGEpYVtjXSYmYVtjXSE9PWImJmFbY10uZGVzdHJveSYmYVtjXS5kZXN0cm95KCksZGVsZXRlIGFbY119ZnVuY3Rpb24gUWEoYSl7ZGJ8fChkYj0kKEthKSksYSYmZGIuYXBwZW5kQ2hpbGQoYSksZGIuaW5uZXJIVE1MPSIifWZ1bmN0aW9uIGVhKGEpe3JldHVybiBwYXJzZUZsb2F0KGEudG9QcmVjaXNpb24oMTQpKX1mdW5jdGlvbiBSYShhLGIpe3ZhPXAoYSxiLmFuaW1hdGlvbil9ZnVuY3Rpb24gQmIoKXt2YXIgYT1FLmdsb2JhbC51c2VVVEMsYj1hPyJnZXRVVEMiOiJnZXQiLGM9YT8ic2V0VVRDIjoic2V0IjtEYT1FLmdsb2JhbC5EYXRlfHx3aW5kb3cuRGF0ZSxTYT02ZTQqKGEmJkUuZ2xvYmFsLnRpbWV6b25lT2Zmc2V0fHwwKSxlYj1hP0RhLlVUQzpmdW5jdGlvbihhLGIsYyxnLGgsaSl7cmV0dXJuIG5ldyBEYShhLGIscChjLDEpLHAoZywwKSxwKGgsMCkscChpLDApKS5nZXRUaW1lKCl9LHBiPWIrIk1pbnV0ZXMiLHFiPWIrIkhvdXJzIixyYj1iKyJEYXkiLFhhPWIrIkRhdGUiLGZiPWIrIk1vbnRoIixnYj1iKyJGdWxsWWVhciIsQ2I9YysiTWludXRlcyIsRGI9YysiSG91cnMiLHNiPWMrIkRhdGUiLEViPWMrIk1vbnRoIixGYj1jKyJGdWxsWWVhciJ9ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBUYShhLGIsYyxkKXt0aGlzLmF4aXM9YSx0aGlzLnBvcz1iLHRoaXMudHlwZT1jfHwiIix0aGlzLmlzTmV3PSEwLCFjJiYhZCYmdGhpcy5hZGRMYWJlbCgpfWZ1bmN0aW9uIG5hKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBZYSgpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gR2IoYSxiLGMsZCxlKXt2YXIgZj1hLmNoYXJ0LmludmVydGVkO3RoaXMuYXhpcz1hLHRoaXMuaXNOZWdhdGl2ZT1jLHRoaXMub3B0aW9ucz1iLHRoaXMueD1kLHRoaXMudG90YWw9bnVsbCx0aGlzLnBvaW50cz17fSx0aGlzLnN0YWNrPWUsdGhpcy5hbGlnbk9wdGlvbnM9e2FsaWduOmIuYWxpZ258fChmP2M/ImxlZnQiOiJyaWdodCI6ImNlbnRlciIpLHZlcnRpY2FsQWxpZ246Yi52ZXJ0aWNhbEFsaWdufHwoZj8ibWlkZGxlIjpjPyJib3R0b20iOiJ0b3AiKSx5OnAoYi55LGY/NDpjPzE0Oi02KSx4OnAoYi54LGY/Yz8tNjo2OjApfSx0aGlzLnRleHRBbGlnbj1iLnRleHRBbGlnbnx8KGY/Yz8icmlnaHQiOiJsZWZ0IjoiY2VudGVyIil9dmFyIHUsWmEsJGEsZGIsRSxjYix2YSx2YixBLGhhLERhLGViLFNhLHBiLHFiLHJiLFhhLGZiLGdiLENiLERiLHNiLEViLEZiLEsseD1kb2N1bWVudCxHPXdpbmRvdyxWPU1hdGgsdj1WLnJvdW5kLFU9Vi5mbG9vcixMYT1WLmNlaWwsdD1WLm1heCxMPVYubWluLFE9Vi5hYnMsYWE9Vi5jb3MsZmE9Vi5zaW4sb2E9Vi5QSSxFYT0yKm9hLzM2MCx3YT1uYXZpZ2F0b3IudXNlckFnZW50LEhiPUcub3BlcmEsQWE9L21zaWUvaS50ZXN0KHdhKSYmIUhiLGhiPTg9PT14LmRvY3VtZW50TW9kZSx0Yj0vQXBwbGVXZWJLaXQvLnRlc3Qod2EpLFVhPS9GaXJlZm94Ly50ZXN0KHdhKSxJYj0vKE1vYmlsZXxBbmRyb2lkfFdpbmRvd3MgUGhvbmUpLy50ZXN0KHdhKSx4YT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGJhPSEheC5jcmVhdGVFbGVtZW50TlMmJiEheC5jcmVhdGVFbGVtZW50TlMoeGEsInN2ZyIpLmNyZWF0ZVNWR1JlY3QsT2I9VWEmJnBhcnNlSW50KHdhLnNwbGl0KCJGaXJlZm94LyIpWzFdLDEwKTw0LGdhPSFiYSYmIUFhJiYhIXguY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCxKYj17fSx1Yj0wLHNhPWZ1bmN0aW9uKCl7cmV0dXJuIHV9LFc9W10sYWI9MCxLYT0iZGl2IixQPSJub25lIixQYj0vXlswLTldKyQvLFFiPSJzdHJva2Utd2lkdGgiLEg9e307Ry5IaWdoY2hhcnRzP2hhKDE2LCEwKTpLPUcuSGlnaGNoYXJ0cz17fSxjYj1mdW5jdGlvbihhLGIsYyl7aWYoIXMoYil8fGlzTmFOKGIpKXJldHVybiJJbnZhbGlkIGRhdGUiO3ZhciBlLGE9cChhLCIlWS0lbS0lZCAlSDolTTolUyIpLGQ9bmV3IERhKGItU2EpLGY9ZFtxYl0oKSxnPWRbcmJdKCksaD1kW1hhXSgpLGk9ZFtmYl0oKSxqPWRbZ2JdKCksaz1FLmxhbmcsbD1rLndlZWtkYXlzLGQ9cih7YTpsW2ddLnN1YnN0cigwLDMpLEE6bFtnXSxkOklhKGgpLGU6aCxiOmsuc2hvcnRNb250aHNbaV0sQjprLm1vbnRoc1tpXSxtOklhKGkrMSkseTpqLnRvU3RyaW5nKCkuc3Vic3RyKDIsMiksWTpqLEg6SWEoZiksSTpJYShmJTEyfHwxMiksbDpmJTEyfHwxMixNOklhKGRbcGJdKCkpLHA6MTI+Zj8iQU0iOiJQTSIsUDoxMj5mPyJhbSI6InBtIixTOklhKGQuZ2V0U2Vjb25kcygpKSxMOklhKHYoYiUxZTMpLDMpfSxLLmRhdGVGb3JtYXRzKTtmb3IoZSBpbiBkKWZvcig7LTEhPT1hLmluZGV4T2YoIiUiK2UpOylhPWEucmVwbGFjZSgiJSIrZSwiZnVuY3Rpb24iPT10eXBlb2YgZFtlXT9kW2VdKGIpOmRbZV0pO3JldHVybiBjP2Euc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKTphfSxoYT1mdW5jdGlvbihhLGIpe3ZhciBjPSJIaWdoY2hhcnRzIGVycm9yICMiK2ErIjogd3d3LmhpZ2hjaGFydHMuY29tL2Vycm9ycy8iK2E7aWYoYil0aHJvdyBjO0cuY29uc29sZSYmY29uc29sZS5sb2coYyl9LEE9e21pbGxpc2Vjb25kOjEsc2Vjb25kOjFlMyxtaW51dGU6NmU0LGhvdXI6MzZlNSxkYXk6ODY0ZTUsd2Vlazo2MDQ4ZTUsbW9udGg6MjY3ODRlNSx5ZWFyOjMxNTU2OTUyZTN9LHZiPXtpbml0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZyxoLGksYj1ifHwiIixkPWEuc2hpZnQsZT1iLmluZGV4T2YoIkMiKT4tMSxmPWU/NzozLGI9Yi5zcGxpdCgiICIpLGM9W10uY29uY2F0KGMpLGo9ZnVuY3Rpb24oYSl7Zm9yKGc9YS5sZW5ndGg7Zy0tOykiTSI9PT1hW2ddJiZhLnNwbGljZShnKzEsMCxhW2crMV0sYVtnKzJdLGFbZysxXSxhW2crMl0pfTtpZihlJiYoaihiKSxqKGMpKSxhLmlzQXJlYSYmKGg9Yi5zcGxpY2UoYi5sZW5ndGgtNiw2KSxpPWMuc3BsaWNlKGMubGVuZ3RoLTYsNikpLGQ8PWMubGVuZ3RoL2YmJmIubGVuZ3RoPT09Yy5sZW5ndGgpZm9yKDtkLS07KWM9W10uY29uY2F0KGMpLnNwbGljZSgwLGYpLmNvbmNhdChjKTtpZihhLnNoaWZ0PTAsYi5sZW5ndGgpZm9yKGE9Yy5sZW5ndGg7Yi5sZW5ndGg8YTspZD1bXS5jb25jYXQoYikuc3BsaWNlKGIubGVuZ3RoLWYsZiksZSYmKGRbZi02XT1kW2YtMl0sZFtmLTVdPWRbZi0xXSksYj1iLmNvbmNhdChkKTtyZXR1cm4gaCYmKGI9Yi5jb25jYXQoaCksYz1jLmNvbmNhdChpKSksW2IsY119LHN0ZXA6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9W10sZj1hLmxlbmd0aDtpZigxPT09YyllPWQ7ZWxzZSBpZihmPT09Yi5sZW5ndGgmJjE+Yylmb3IoO2YtLTspZD1wYXJzZUZsb2F0KGFbZl0pLGVbZl09aXNOYU4oZCk/YVtmXTpjKnBhcnNlRmxvYXQoYltmXS1kKStkO2Vsc2UgZT1iO3JldHVybiBlfX0sZnVuY3Rpb24oYSl7Ry5IaWdoY2hhcnRzQWRhcHRlcj1HLkhpZ2hjaGFydHNBZGFwdGVyfHxhJiZ7aW5pdDpmdW5jdGlvbihiKXt2YXIgYz1hLmZ4O2EuZXh0ZW5kKGEuZWFzaW5nLHtlYXNlT3V0UXVhZDpmdW5jdGlvbihhLGIsYyxnLGgpe3JldHVybi1nKihiLz1oKSooYi0yKStjfX0pLGEuZWFjaChbImN1ciIsIl9kZWZhdWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJvcGFjaXR5Il0sZnVuY3Rpb24oYixlKXt2YXIgZyxmPWMuc3RlcDsiY3VyIj09PWU/Zj1jLnByb3RvdHlwZToiX2RlZmF1bHQiPT09ZSYmYS5Ud2VlbiYmKGY9YS5Ud2Vlbi5wcm9wSG9va3NbZV0sZT0ic2V0IiksKGc9ZltlXSkmJihmW2VdPWZ1bmN0aW9uKGEpe3ZhciBjLGE9Yj9hOnRoaXM7cmV0dXJuImFsaWduIiE9PWEucHJvcD8oYz1hLmVsZW0sYy5hdHRyP2MuYXR0cihhLnByb3AsImN1ciI9PT1lP3U6YS5ub3cpOmcuYXBwbHkodGhpcyxhcmd1bWVudHMpKTp2b2lkIDB9KX0pLE5hKGEuY3NzSG9va3Mub3BhY2l0eSwiZ2V0IixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIuYXR0cj9iLm9wYWNpdHl8fDA6YS5jYWxsKHRoaXMsYixjKX0pLHRoaXMuYWRkQW5pbVNldHRlcigiZCIsZnVuY3Rpb24oYSl7dmFyIGYsYz1hLmVsZW07YS5zdGFydGVkfHwoZj1iLmluaXQoYyxjLmQsYy50b0QpLGEuc3RhcnQ9ZlswXSxhLmVuZD1mWzFdLGEuc3RhcnRlZD0hMCksYy5hdHRyKCJkIixiLnN0ZXAoYS5zdGFydCxhLmVuZCxhLnBvcyxjLnRvRCkpfSksdGhpcy5lYWNoPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxiKX06ZnVuY3Rpb24oYSxiKXt2YXIgYyxnPWEubGVuZ3RoO2ZvcihjPTA7Zz5jO2MrKylpZihiLmNhbGwoYVtjXSxhW2NdLGMsYSk9PT0hMSlyZXR1cm4gY30sYS5mbi5oaWdoY2hhcnRzPWZ1bmN0aW9uKCl7dmFyIGMsZyxhPSJDaGFydCIsYj1hcmd1bWVudHM7cmV0dXJuIHRoaXNbMF0mJihHYShiWzBdKSYmKGE9YlswXSxiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGIsMSkpLGM9YlswXSxjIT09dSYmKGMuY2hhcnQ9Yy5jaGFydHx8e30sYy5jaGFydC5yZW5kZXJUbz10aGlzWzBdLG5ldyBLW2FdKGMsYlsxXSksZz10aGlzKSxjPT09dSYmKGc9V1tGKHRoaXNbMF0sImRhdGEtaGlnaGNoYXJ0cy1jaGFydCIpXSkpLGd9fSxhZGRBbmltU2V0dGVyOmZ1bmN0aW9uKGIsYyl7YS5Ud2Vlbj9hLlR3ZWVuLnByb3BIb29rc1tiXT17c2V0OmN9OmEuZnguc3RlcFtiXT1jfSxnZXRTY3JpcHQ6YS5nZXRTY3JpcHQsaW5BcnJheTphLmluQXJyYXksYWRhcHRlclJ1bjpmdW5jdGlvbihiLGMpe3JldHVybiBhKGIpW2NdKCl9LGdyZXA6YS5ncmVwLG1hcDpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD1bXSxlPTAsZj1hLmxlbmd0aDtmPmU7ZSsrKWRbZV09Yy5jYWxsKGFbZV0sYVtlXSxlLGEpO3JldHVybiBkfSxvZmZzZXQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEoYikub2Zmc2V0KCl9LGFkZEV2ZW50OmZ1bmN0aW9uKGIsYyxkKXthKGIpLmJpbmQoYyxkKX0scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXgucmVtb3ZlRXZlbnRMaXN0ZW5lcj8icmVtb3ZlRXZlbnRMaXN0ZW5lciI6ImRldGFjaEV2ZW50Ijt4W2VdJiZiJiYhYltlXSYmKGJbZV09ZnVuY3Rpb24oKXt9KSxhKGIpLnVuYmluZChjLGQpfSxmaXJlRXZlbnQ6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGgsZj1hLkV2ZW50KGMpLGc9ImRldGFjaGVkIitjOyFBYSYmZCYmKGRlbGV0ZSBkLmxheWVyWCxkZWxldGUgZC5sYXllclksZGVsZXRlIGQucmV0dXJuVmFsdWUpLHIoZixkKSxiW2NdJiYoYltnXT1iW2NdLGJbY109bnVsbCksYS5lYWNoKFsicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iXSxmdW5jdGlvbihhLGIpe3ZhciBjPWZbYl07ZltiXT1mdW5jdGlvbigpe3RyeXtjLmNhbGwoZil9Y2F0Y2goYSl7InByZXZlbnREZWZhdWx0Ij09PWImJihoPSEwKX19fSksYShiKS50cmlnZ2VyKGYpLGJbZ10mJihiW2NdPWJbZ10sYltnXT1udWxsKSxlJiYhZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmIWgmJmUoZil9LHdhc2hNb3VzZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBjPWEub3JpZ2luYWxFdmVudHx8YTtyZXR1cm4gYy5wYWdlWD09PXUmJihjLnBhZ2VYPWEucGFnZVgsYy5wYWdlWT1hLnBhZ2VZKSxjfSxhbmltYXRlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hKGIpO2Iuc3R5bGV8fChiLnN0eWxlPXt9KSxjLmQmJihiLnRvRD1jLmQsYy5kPTEpLGUuc3RvcCgpLGMub3BhY2l0eSE9PXUmJmIuYXR0ciYmKGMub3BhY2l0eSs9InB4IiksYi5oYXNBbmltPTEsZS5hbmltYXRlKGMsZCl9LHN0b3A6ZnVuY3Rpb24oYil7Yi5oYXNBbmltJiZhKGIpLnN0b3AoKX19fShHLmpRdWVyeSk7dmFyIFQ9Ry5IaWdoY2hhcnRzQWRhcHRlcixNPVR8fHt9O1QmJlQuaW5pdC5jYWxsKFQsdmIpO3ZhciBpYj1NLmFkYXB0ZXJSdW4sUmI9TS5nZXRTY3JpcHQsTWE9TS5pbkFycmF5LHE9TS5lYWNoLHdiPU0uZ3JlcCxTYj1NLm9mZnNldCxWYT1NLm1hcCxOPU0uYWRkRXZlbnQsWD1NLnJlbW92ZUV2ZW50LEk9TS5maXJlRXZlbnQsVGI9TS53YXNoTW91c2VFdmVudCxqYj1NLmFuaW1hdGUsYmI9TS5zdG9wLE09e2VuYWJsZWQ6ITAseDowLHk6MTUsc3R5bGU6e2NvbG9yOiIjNjA2MDYwIixjdXJzb3I6ImRlZmF1bHQiLGZvbnRTaXplOiIxMXB4In19O0U9e2NvbG9yczoiIzdjYjVlYywjNDM0MzQ4LCM5MGVkN2QsI2Y3YTM1YywjODA4NWU5LCNmMTVjODAsI2U0ZDM1NCwjODA4NWU4LCM4ZDQ2NTMsIzkxZThlMSIuc3BsaXQoIiwiKSxzeW1ib2xzOlsiY2lyY2xlIiwiZGlhbW9uZCIsInNxdWFyZSIsInRyaWFuZ2xlIiwidHJpYW5nbGUtZG93biJdLGxhbmc6e2xvYWRpbmc6IkxvYWRpbmcuLi4iLG1vbnRoczoiSmFudWFyeSxGZWJydWFyeSxNYXJjaCxBcHJpbCxNYXksSnVuZSxKdWx5LEF1Z3VzdCxTZXB0ZW1iZXIsT2N0b2JlcixOb3ZlbWJlcixEZWNlbWJlciIuc3BsaXQoIiwiKSxzaG9ydE1vbnRoczoiSmFuLEZlYixNYXIsQXByLE1heSxKdW4sSnVsLEF1ZyxTZXAsT2N0LE5vdixEZWMiLnNwbGl0KCIsIiksd2Vla2RheXM6IlN1bmRheSxNb25kYXksVHVlc2RheSxXZWRuZXNkYXksVGh1cnNkYXksRnJpZGF5LFNhdHVyZGF5Ii5zcGxpdCgiLCIpLGRlY2ltYWxQb2ludDoiLiIsbnVtZXJpY1N5bWJvbHM6ImssTSxHLFQsUCxFIi5zcGxpdCgiLCIpLHJlc2V0Wm9vbToiUmVzZXQgem9vbSIscmVzZXRab29tVGl0bGU6IlJlc2V0IHpvb20gbGV2ZWwgMToxIix0aG91c2FuZHNTZXA6IiwifSxnbG9iYWw6e3VzZVVUQzohMCxjYW52YXNUb29sc1VSTDoiaHR0cDovL2NvZGUuaGlnaGNoYXJ0cy5jb20vNC4wLjQvbW9kdWxlcy9jYW52YXMtdG9vbHMuanMiLFZNTFJhZGlhbEdyYWRpZW50VVJMOiJodHRwOi8vY29kZS5oaWdoY2hhcnRzLmNvbS80LjAuNC9nZngvdm1sLXJhZGlhbC1ncmFkaWVudC5wbmcifSxjaGFydDp7Ym9yZGVyQ29sb3I6IiM0NTcyQTciLGJvcmRlclJhZGl1czowLGRlZmF1bHRTZXJpZXNUeXBlOiJsaW5lIixpZ25vcmVIaWRkZW5TZXJpZXM6ITAsc3BhY2luZzpbMTAsMTAsMTUsMTBdLGJhY2tncm91bmRDb2xvcjoiI0ZGRkZGRiIscGxvdEJvcmRlckNvbG9yOiIjQzBDMEMwIixyZXNldFpvb21CdXR0b246e3RoZW1lOnt6SW5kZXg6MjB9LHBvc2l0aW9uOnthbGlnbjoicmlnaHQiLHg6LTEwLHk6MTB9fX0sdGl0bGU6e3RleHQ6IkNoYXJ0IHRpdGxlIixhbGlnbjoiY2VudGVyIixtYXJnaW46MTUsc3R5bGU6e2NvbG9yOiIjMzMzMzMzIixmb250U2l6ZToiMThweCJ9fSxzdWJ0aXRsZTp7dGV4dDoiIixhbGlnbjoiY2VudGVyIixzdHlsZTp7Y29sb3I6IiM1NTU1NTUifX0scGxvdE9wdGlvbnM6e2xpbmU6e2FsbG93UG9pbnRTZWxlY3Q6ITEsc2hvd0NoZWNrYm94OiExLGFuaW1hdGlvbjp7ZHVyYXRpb246MWUzfSxldmVudHM6e30sbGluZVdpZHRoOjIsbWFya2VyOntsaW5lV2lkdGg6MCxyYWRpdXM6NCxsaW5lQ29sb3I6IiNGRkZGRkYiLHN0YXRlczp7aG92ZXI6e2VuYWJsZWQ6ITAsbGluZVdpZHRoUGx1czoxLHJhZGl1c1BsdXM6Mn0sc2VsZWN0OntmaWxsQ29sb3I6IiNGRkZGRkYiLGxpbmVDb2xvcjoiIzAwMDAwMCIsbGluZVdpZHRoOjJ9fX0scG9pbnQ6e2V2ZW50czp7fX0sZGF0YUxhYmVsczp3KE0se2FsaWduOiJjZW50ZXIiLGVuYWJsZWQ6ITEsZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnk/IiI6QmEodGhpcy55LC0xKX0sdmVydGljYWxBbGlnbjoiYm90dG9tIix5OjB9KSxjcm9wVGhyZXNob2xkOjMwMCxwb2ludFJhbmdlOjAsc3RhdGVzOntob3Zlcjp7bGluZVdpZHRoUGx1czoxLG1hcmtlcjp7fSxoYWxvOntzaXplOjEwLG9wYWNpdHk6LjI1fX0sc2VsZWN0OnttYXJrZXI6e319fSxzdGlja3lUcmFja2luZzohMCx0dXJib1RocmVzaG9sZDoxZTN9fSxsYWJlbHM6e3N0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLGNvbG9yOiIjM0U1NzZGIn19LGxlZ2VuZDp7ZW5hYmxlZDohMCxhbGlnbjoiY2VudGVyIixsYXlvdXQ6Imhvcml6b250YWwiLGxhYmVsRm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX0sYm9yZGVyQ29sb3I6IiM5MDkwOTAiLGJvcmRlclJhZGl1czowLG5hdmlnYXRpb246e2FjdGl2ZUNvbG9yOiIjMjc0YjZkIixpbmFjdGl2ZUNvbG9yOiIjQ0NDIn0sc2hhZG93OiExLGl0ZW1TdHlsZTp7Y29sb3I6IiMzMzMzMzMiLGZvbnRTaXplOiIxMnB4Iixmb250V2VpZ2h0OiJib2xkIn0saXRlbUhvdmVyU3R5bGU6e2NvbG9yOiIjMDAwIn0saXRlbUhpZGRlblN0eWxlOntjb2xvcjoiI0NDQyJ9LGl0ZW1DaGVja2JveFN0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOiIxM3B4IixoZWlnaHQ6IjEzcHgifSxzeW1ib2xQYWRkaW5nOjUsdmVydGljYWxBbGlnbjoiYm90dG9tIix4OjAseTowLHRpdGxlOntzdHlsZTp7Zm9udFdlaWdodDoiYm9sZCJ9fX0sbG9hZGluZzp7bGFiZWxTdHlsZTp7Zm9udFdlaWdodDoiYm9sZCIscG9zaXRpb246InJlbGF0aXZlIix0b3A6IjQ1JSJ9LHN0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLGJhY2tncm91bmRDb2xvcjoid2hpdGUiLG9wYWNpdHk6LjUsdGV4dEFsaWduOiJjZW50ZXIifX0sdG9vbHRpcDp7ZW5hYmxlZDohMCxhbmltYXRpb246YmEsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDI0OSwgMjQ5LCAyNDksIC44NSkiLGJvcmRlcldpZHRoOjEsYm9yZGVyUmFkaXVzOjMsZGF0ZVRpbWVMYWJlbEZvcm1hdHM6e21pbGxpc2Vjb25kOiIlQSwgJWIgJWUsICVIOiVNOiVTLiVMIixzZWNvbmQ6IiVBLCAlYiAlZSwgJUg6JU06JVMiLG1pbnV0ZToiJUEsICViICVlLCAlSDolTSIsaG91cjoiJUEsICViICVlLCAlSDolTSIsZGF5OiIlQSwgJWIgJWUsICVZIix3ZWVrOiJXZWVrIGZyb20gJUEsICViICVlLCAlWSIsbW9udGg6IiVCICVZIix5ZWFyOiIlWSJ9LGhlYWRlckZvcm1hdDonPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMTBweCI+e3BvaW50LmtleX08L3NwYW4+PGJyLz4nLHBvaW50Rm9ybWF0Oic8c3BhbiBzdHlsZT0iY29sb3I6e3Nlcmllcy5jb2xvcn0iPuKXjzwvc3Bhbj4ge3Nlcmllcy5uYW1lfTogPGI+e3BvaW50Lnl9PC9iPjxici8+JyxzaGFkb3c6ITAsc25hcDpJYj8yNToxMCxzdHlsZTp7Y29sb3I6IiMzMzMzMzMiLGN1cnNvcjoiZGVmYXVsdCIsZm9udFNpemU6IjEycHgiLHBhZGRpbmc6IjhweCIsd2hpdGVTcGFjZToibm93cmFwIn19LGNyZWRpdHM6e2VuYWJsZWQ6ITAsdGV4dDoiSGlnaGNoYXJ0cy5jb20iLGhyZWY6Imh0dHA6Ly93d3cuaGlnaGNoYXJ0cy5jb20iLHBvc2l0aW9uOnthbGlnbjoicmlnaHQiLHg6LTEwLHZlcnRpY2FsQWxpZ246ImJvdHRvbSIseTotNX0sc3R5bGU6e2N1cnNvcjoicG9pbnRlciIsY29sb3I6IiM5MDkwOTAiLGZvbnRTaXplOiI5cHgifX19Owp2YXIgY2E9RS5wbG90T3B0aW9ucyxUPWNhLmxpbmU7QmIoKTt2YXIgVWI9L3JnYmFcKFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XT8oPzpcLlswLTldKyk/KVxzKlwpLyxWYj0vIyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8sV2I9L3JnYlwoXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccypcKS8seWE9ZnVuY3Rpb24oYSl7dmFyIGMsZCxiPVtdO3JldHVybiBmdW5jdGlvbihhKXthJiZhLnN0b3BzP2Q9VmEoYS5zdG9wcyxmdW5jdGlvbihhKXtyZXR1cm4geWEoYVsxXSl9KTooYz1VYi5leGVjKGEpKT9iPVt5KGNbMV0pLHkoY1syXSkseShjWzNdKSxwYXJzZUZsb2F0KGNbNF0sMTApXTooYz1WYi5leGVjKGEpKT9iPVt5KGNbMV0sMTYpLHkoY1syXSwxNikseShjWzNdLDE2KSwxXTooYz1XYi5leGVjKGEpKSYmKGI9W3koY1sxXSkseShjWzJdKSx5KGNbM10pLDFdKX0oYSkse2dldDpmdW5jdGlvbihjKXt2YXIgZjtyZXR1cm4gZD8oZj13KGEpLGYuc3RvcHM9W10uY29uY2F0KGYuc3RvcHMpLHEoZCxmdW5jdGlvbihhLGIpe2Yuc3RvcHNbYl09W2Yuc3RvcHNbYl1bMF0sYS5nZXQoYyldfSkpOmY9YiYmIWlzTmFOKGJbMF0pPyJyZ2IiPT09Yz8icmdiKCIrYlswXSsiLCIrYlsxXSsiLCIrYlsyXSsiKSI6ImEiPT09Yz9iWzNdOiJyZ2JhKCIrYi5qb2luKCIsIikrIikiOmEsZn0sYnJpZ2h0ZW46ZnVuY3Rpb24oYSl7aWYoZClxKGQsZnVuY3Rpb24oYil7Yi5icmlnaHRlbihhKX0pO2Vsc2UgaWYoamEoYSkmJjAhPT1hKXt2YXIgYztmb3IoYz0wOzM+YztjKyspYltjXSs9eSgyNTUqYSksYltjXTwwJiYoYltjXT0wKSxiW2NdPjI1NSYmKGJbY109MjU1KX1yZXR1cm4gdGhpc30scmdiYTpiLHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIGJbM109YSx0aGlzfX19O1MucHJvdG90eXBlPXtvcGFjaXR5OjEsdGV4dFByb3BzOiJmb250U2l6ZSxmb250V2VpZ2h0LGZvbnRGYW1pbHksY29sb3IsbGluZUhlaWdodCx3aWR0aCx0ZXh0RGVjb3JhdGlvbix0ZXh0U2hhZG93LEhjVGV4dFN0cm9rZSIuc3BsaXQoIiwiKSxpbml0OmZ1bmN0aW9uKGEsYil7dGhpcy5lbGVtZW50PSJzcGFuIj09PWI/JChiKTp4LmNyZWF0ZUVsZW1lbnROUyh4YSxiKSx0aGlzLnJlbmRlcmVyPWF9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPXAoYix2YSwhMCksYmIodGhpcyksYj8oYj13KGIse30pLGMmJihiLmNvbXBsZXRlPWMpLGpiKHRoaXMsYSxiKSk6KHRoaXMuYXR0cihhKSxjJiZjKCkpLHRoaXN9LGNvbG9yR3JhZGllbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGYsZyxoLGksaixrLGwsbixtLGQ9dGhpcy5yZW5kZXJlcixvPVtdO2lmKGEubGluZWFyR3JhZGllbnQ/Zj0ibGluZWFyR3JhZGllbnQiOmEucmFkaWFsR3JhZGllbnQmJihmPSJyYWRpYWxHcmFkaWVudCIpLGYpe2c9YVtmXSxoPWQuZ3JhZGllbnRzLGo9YS5zdG9wcyxuPWMucmFkaWFsUmVmZXJlbmNlLEhhKGcpJiYoYVtmXT1nPXt4MTpnWzBdLHkxOmdbMV0seDI6Z1syXSx5MjpnWzNdLGdyYWRpZW50VW5pdHM6InVzZXJTcGFjZU9uVXNlIn0pLCJyYWRpYWxHcmFkaWVudCI9PT1mJiZuJiYhcyhnLmdyYWRpZW50VW5pdHMpJiYoZz13KGcse2N4Om5bMF0tblsyXS8yK2cuY3gqblsyXSxjeTpuWzFdLW5bMl0vMitnLmN5Km5bMl0scjpnLnIqblsyXSxncmFkaWVudFVuaXRzOiJ1c2VyU3BhY2VPblVzZSJ9KSk7Zm9yKG0gaW4gZykiaWQiIT09bSYmby5wdXNoKG0sZ1ttXSk7Zm9yKG0gaW4gailvLnB1c2goalttXSk7bz1vLmpvaW4oIiwiKSxoW29dP2E9aFtvXS5hdHRyKCJpZCIpOihnLmlkPWE9ImhpZ2hjaGFydHMtIit1YisrLGhbb109aT1kLmNyZWF0ZUVsZW1lbnQoZikuYXR0cihnKS5hZGQoZC5kZWZzKSxpLnN0b3BzPVtdLHEoaixmdW5jdGlvbihhKXswPT09YVsxXS5pbmRleE9mKCJyZ2JhIik/KGU9eWEoYVsxXSksaz1lLmdldCgicmdiIiksbD1lLmdldCgiYSIpKTooaz1hWzFdLGw9MSksYT1kLmNyZWF0ZUVsZW1lbnQoInN0b3AiKS5hdHRyKHtvZmZzZXQ6YVswXSwic3RvcC1jb2xvciI6aywic3RvcC1vcGFjaXR5IjpsfSkuYWRkKGkpLGkuc3RvcHMucHVzaChhKX0pKSxjLnNldEF0dHJpYnV0ZShiLCJ1cmwoIitkLnVybCsiIyIrYSsiKSIpfX0sYXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZixoLGU9dGhpcy5lbGVtZW50LGc9dGhpcztpZigic3RyaW5nIj09dHlwZW9mIGEmJmIhPT11JiYoYz1hLGE9e30sYVtjXT1iKSwic3RyaW5nIj09dHlwZW9mIGEpZz0odGhpc1thKyJHZXR0ZXIiXXx8dGhpcy5fZGVmYXVsdEdldHRlcikuY2FsbCh0aGlzLGEsZSk7ZWxzZXtmb3IoYyBpbiBhKWQ9YVtjXSxoPSExLHRoaXMuc3ltYm9sTmFtZSYmL14oeHx5fHdpZHRofGhlaWdodHxyfHN0YXJ0fGVuZHxpbm5lclJ8YW5jaG9yWHxhbmNob3JZKS8udGVzdChjKSYmKGZ8fCh0aGlzLnN5bWJvbEF0dHIoYSksZj0hMCksaD0hMCksIXRoaXMucm90YXRpb258fCJ4IiE9PWMmJiJ5IiE9PWN8fCh0aGlzLmRvVHJhbnNmb3JtPSEwKSxofHwodGhpc1tjKyJTZXR0ZXIiXXx8dGhpcy5fZGVmYXVsdFNldHRlcikuY2FsbCh0aGlzLGQsYyxlKSx0aGlzLnNoYWRvd3MmJi9eKHdpZHRofGhlaWdodHx2aXNpYmlsaXR5fHh8eXxkfHRyYW5zZm9ybXxjeHxjeXxyKSQvLnRlc3QoYykmJnRoaXMudXBkYXRlU2hhZG93cyhjLGQpO3RoaXMuZG9UcmFuc2Zvcm0mJih0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuZG9UcmFuc2Zvcm09ITEpfXJldHVybiBnfSx1cGRhdGVTaGFkb3dzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuc2hhZG93cyxkPWMubGVuZ3RoO2QtLTspY1tkXS5zZXRBdHRyaWJ1dGUoYSwiaGVpZ2h0Ij09PWE/dChiLShjW2RdLmN1dEhlaWdodHx8MCksMCk6ImQiPT09YT90aGlzLmQ6Yil9LGFkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudCxjPUYoYiwiY2xhc3MiKXx8IiI7cmV0dXJuLTE9PT1jLmluZGV4T2YoYSkmJkYoYiwiY2xhc3MiLGMrIiAiK2EpLHRoaXN9LHN5bWJvbEF0dHI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztxKCJ4LHkscixzdGFydCxlbmQsd2lkdGgsaGVpZ2h0LGlubmVyUixhbmNob3JYLGFuY2hvclkiLnNwbGl0KCIsIiksZnVuY3Rpb24oYyl7YltjXT1wKGFbY10sYltjXSl9KSxiLmF0dHIoe2Q6Yi5yZW5kZXJlci5zeW1ib2xzW2Iuc3ltYm9sTmFtZV0oYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0LGIpfSl9LGNsaXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cigiY2xpcC1wYXRoIixhPyJ1cmwoIit0aGlzLnJlbmRlcmVyLnVybCsiIyIrYS5pZCsiKSI6UCl9LGNyaXNwOmZ1bmN0aW9uKGEpe3ZhciBiLGQsYz17fSxlPWEuc3Ryb2tlV2lkdGh8fHRoaXMuc3Ryb2tlV2lkdGh8fDA7ZD12KGUpJTIvMixhLng9VShhLnh8fHRoaXMueHx8MCkrZCxhLnk9VShhLnl8fHRoaXMueXx8MCkrZCxhLndpZHRoPVUoKGEud2lkdGh8fHRoaXMud2lkdGh8fDApLTIqZCksYS5oZWlnaHQ9VSgoYS5oZWlnaHR8fHRoaXMuaGVpZ2h0fHwwKS0yKmQpLGEuc3Ryb2tlV2lkdGg9ZTtmb3IoYiBpbiBhKXRoaXNbYl0hPT1hW2JdJiYodGhpc1tiXT1jW2JdPWFbYl0pO3JldHVybiBjfSxjc3M6ZnVuY3Rpb24oYSl7dmFyIGUsZixiPXRoaXMuc3R5bGVzLGM9e30sZD10aGlzLmVsZW1lbnQsZz0iIjtpZihlPSFiLGEmJmEuY29sb3ImJihhLmZpbGw9YS5jb2xvciksYilmb3IoZiBpbiBhKWFbZl0hPT1iW2ZdJiYoY1tmXT1hW2ZdLGU9ITApO2lmKGUpe2lmKGU9dGhpcy50ZXh0V2lkdGg9YSYmYS53aWR0aCYmInRleHQiPT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ5KGEud2lkdGgpLGImJihhPXIoYixjKSksdGhpcy5zdHlsZXM9YSxlJiYoZ2F8fCFiYSYmdGhpcy5yZW5kZXJlci5mb3JFeHBvcnQpJiZkZWxldGUgYS53aWR0aCxBYSYmIWJhKUIodGhpcy5lbGVtZW50LGEpO2Vsc2V7Yj1mdW5jdGlvbihhLGIpe3JldHVybiItIitiLnRvTG93ZXJDYXNlKCl9O2ZvcihmIGluIGEpZys9Zi5yZXBsYWNlKC8oW0EtWl0pL2csYikrIjoiK2FbZl0rIjsiO0YoZCwic3R5bGUiLGcpfWUmJnRoaXMuYWRkZWQmJnRoaXMucmVuZGVyZXIuYnVpbGRUZXh0KHRoaXMpfXJldHVybiB0aGlzfSxvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmVsZW1lbnQ7cmV0dXJuICRhJiYiY2xpY2siPT09YT8oZC5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24oYSl7Yy50b3VjaEV2ZW50RmlyZWQ9RGEubm93KCksYS5wcmV2ZW50RGVmYXVsdCgpLGIuY2FsbChkLGEpfSxkLm9uY2xpY2s9ZnVuY3Rpb24oYSl7KC0xPT09d2EuaW5kZXhPZigiQW5kcm9pZCIpfHxEYS5ub3coKS0oYy50b3VjaEV2ZW50RmlyZWR8fDApPjExMDApJiZiLmNhbGwoZCxhKX0pOmRbIm9uIithXT1iLHRoaXN9LHNldFJhZGlhbFJlZmVyZW5jZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LnJhZGlhbFJlZmVyZW5jZT1hLHRoaXN9LHRyYW5zbGF0ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmF0dHIoe3RyYW5zbGF0ZVg6YSx0cmFuc2xhdGVZOmJ9KX0saW52ZXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW52ZXJ0ZWQ9ITAsdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zbGF0ZVh8fDAsYj10aGlzLnRyYW5zbGF0ZVl8fDAsYz10aGlzLnNjYWxlWCxkPXRoaXMuc2NhbGVZLGU9dGhpcy5pbnZlcnRlZCxmPXRoaXMucm90YXRpb24sZz10aGlzLmVsZW1lbnQ7ZSYmKGErPXRoaXMuYXR0cigid2lkdGgiKSxiKz10aGlzLmF0dHIoImhlaWdodCIpKSxhPVsidHJhbnNsYXRlKCIrYSsiLCIrYisiKSJdLGU/YS5wdXNoKCJyb3RhdGUoOTApIHNjYWxlKC0xLDEpIik6ZiYmYS5wdXNoKCJyb3RhdGUoIitmKyIgIisoZy5nZXRBdHRyaWJ1dGUoIngiKXx8MCkrIiAiKyhnLmdldEF0dHJpYnV0ZSgieSIpfHwwKSsiKSIpLChzKGMpfHxzKGQpKSYmYS5wdXNoKCJzY2FsZSgiK3AoYywxKSsiICIrcChkLDEpKyIpIiksYS5sZW5ndGgmJmcuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGEuam9pbigiICIpKX0sdG9Gcm9udDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDtyZXR1cm4gYS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGEpLHRoaXN9LGFsaWduOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPXt9O3JldHVybiBlPXRoaXMucmVuZGVyZXIsZj1lLmFsaWduZWRPYmplY3RzLGE/KHRoaXMuYWxpZ25PcHRpb25zPWEsdGhpcy5hbGlnbkJ5VHJhbnNsYXRlPWIsKCFjfHxHYShjKSkmJih0aGlzLmFsaWduVG89ZD1jfHwicmVuZGVyZXIiLGxhKGYsdGhpcyksZi5wdXNoKHRoaXMpLGM9bnVsbCkpOihhPXRoaXMuYWxpZ25PcHRpb25zLGI9dGhpcy5hbGlnbkJ5VHJhbnNsYXRlLGQ9dGhpcy5hbGlnblRvKSxjPXAoYyxlW2RdLGUpLGQ9YS5hbGlnbixlPWEudmVydGljYWxBbGlnbixmPShjLnh8fDApKyhhLnh8fDApLGc9KGMueXx8MCkrKGEueXx8MCksKCJyaWdodCI9PT1kfHwiY2VudGVyIj09PWQpJiYoZis9KGMud2lkdGgtKGEud2lkdGh8fDApKS97cmlnaHQ6MSxjZW50ZXI6Mn1bZF0pLGhbYj8idHJhbnNsYXRlWCI6IngiXT12KGYpLCgiYm90dG9tIj09PWV8fCJtaWRkbGUiPT09ZSkmJihnKz0oYy5oZWlnaHQtKGEuaGVpZ2h0fHwwKSkvKHtib3R0b206MSxtaWRkbGU6Mn1bZV18fDEpKSxoW2I/InRyYW5zbGF0ZVkiOiJ5Il09dihnKSx0aGlzW3RoaXMucGxhY2VkPyJhbmltYXRlIjoiYXR0ciJdKGgpLHRoaXMucGxhY2VkPSEwLHRoaXMuYWxpZ25BdHRyPWgsdGhpc30sZ2V0QkJveDpmdW5jdGlvbigpe3ZhciBjLGQsYT10aGlzLmJCb3gsYj10aGlzLnJlbmRlcmVyLGU9dGhpcy5yb3RhdGlvbjtjPXRoaXMuZWxlbWVudDt2YXIgZj10aGlzLnN0eWxlcyxnPWUqRWE7ZD10aGlzLnRleHRTdHI7dmFyIGg7aWYoKCIiPT09ZHx8UGIudGVzdChkKSkmJihoPSJudW0uIitkLnRvU3RyaW5nKCkubGVuZ3RoKyhmPyJ8IitmLmZvbnRTaXplKyJ8IitmLmZvbnRGYW1pbHk6IiIpKSxoJiYoYT1iLmNhY2hlW2hdKSwhYSl7aWYoYy5uYW1lc3BhY2VVUkk9PT14YXx8Yi5mb3JFeHBvcnQpe3RyeXthPWMuZ2V0QkJveD9yKHt9LGMuZ2V0QkJveCgpKTp7d2lkdGg6Yy5vZmZzZXRXaWR0aCxoZWlnaHQ6Yy5vZmZzZXRIZWlnaHR9fWNhdGNoKGkpe30oIWF8fGEud2lkdGg8MCkmJihhPXt3aWR0aDowLGhlaWdodDowfSl9ZWxzZSBhPXRoaXMuaHRtbEdldEJCb3goKTtiLmlzU1ZHJiYoYz1hLndpZHRoLGQ9YS5oZWlnaHQsQWEmJmYmJiIxMXB4Ij09PWYuZm9udFNpemUmJiIxNi45Ij09PWQudG9QcmVjaXNpb24oMykmJihhLmhlaWdodD1kPTE0KSxlJiYoYS53aWR0aD1RKGQqZmEoZykpK1EoYyphYShnKSksYS5oZWlnaHQ9UShkKmFhKGcpKStRKGMqZmEoZykpKSksdGhpcy5iQm94PWEsaCYmKGIuY2FjaGVbaF09YSl9cmV0dXJuIGF9LHNob3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnRoaXMuZWxlbWVudC5uYW1lc3BhY2VVUkk9PT14YT90aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJ2aXNpYmlsaXR5Iik6dGhpcy5hdHRyKHt2aXNpYmlsaXR5OmE/ImluaGVyaXQiOiJ2aXNpYmxlIn0pLHRoaXN9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyKHt2aXNpYmlsaXR5OiJoaWRkZW4ifSl9LGZhZGVPdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmFuaW1hdGUoe29wYWNpdHk6MH0se2R1cmF0aW9uOmF8fDE1MCxjb21wbGV0ZTpmdW5jdGlvbigpe2IuYXR0cih7eTotOTk5OX0pfX0pfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGcsaCxiPXRoaXMucmVuZGVyZXIsYz1hfHxiLGQ9Yy5lbGVtZW50fHxiLmJveCxlPXRoaXMuZWxlbWVudCxmPXRoaXMuekluZGV4O2lmKGEmJih0aGlzLnBhcmVudEdyb3VwPWEpLHRoaXMucGFyZW50SW52ZXJ0ZWQ9YSYmYS5pbnZlcnRlZCx2b2lkIDAhPT10aGlzLnRleHRTdHImJmIuYnVpbGRUZXh0KHRoaXMpLGYmJihjLmhhbmRsZVo9ITAsZj15KGYpKSxjLmhhbmRsZVopZm9yKGE9ZC5jaGlsZE5vZGVzLGc9MDtnPGEubGVuZ3RoO2crKylpZihiPWFbZ10sYz1GKGIsInpJbmRleCIpLGIhPT1lJiYoeShjKT5mfHwhcyhmKSYmcyhjKSkpe2QuaW5zZXJ0QmVmb3JlKGUsYiksaD0hMDticmVha31yZXR1cm4gaHx8ZC5hcHBlbmRDaGlsZChlKSx0aGlzLmFkZGVkPSEwLHRoaXMub25BZGQmJnRoaXMub25BZGQoKSx0aGlzfSxzYWZlUmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJmIucmVtb3ZlQ2hpbGQoYSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZSxmLGE9dGhpcyxiPWEuZWxlbWVudHx8e30sYz1hLnNoYWRvd3MsZD1hLnJlbmRlcmVyLmlzU1ZHJiYiU1BBTiI9PT1iLm5vZGVOYW1lJiZhLnBhcmVudEdyb3VwO2lmKGIub25jbGljaz1iLm9ubW91c2VvdXQ9Yi5vbm1vdXNlb3Zlcj1iLm9ubW91c2Vtb3ZlPWIucG9pbnQ9bnVsbCxiYihhKSxhLmNsaXBQYXRoJiYoYS5jbGlwUGF0aD1hLmNsaXBQYXRoLmRlc3Ryb3koKSksYS5zdG9wcyl7Zm9yKGY9MDtmPGEuc3RvcHMubGVuZ3RoO2YrKylhLnN0b3BzW2ZdPWEuc3RvcHNbZl0uZGVzdHJveSgpO2Euc3RvcHM9bnVsbH1mb3IoYS5zYWZlUmVtb3ZlQ2hpbGQoYiksYyYmcShjLGZ1bmN0aW9uKGIpe2Euc2FmZVJlbW92ZUNoaWxkKGIpfSk7ZCYmZC5kaXYmJjA9PT1kLmRpdi5jaGlsZE5vZGVzLmxlbmd0aDspYj1kLnBhcmVudEdyb3VwLGEuc2FmZVJlbW92ZUNoaWxkKGQuZGl2KSxkZWxldGUgZC5kaXYsZD1iO2EuYWxpZ25UbyYmbGEoYS5yZW5kZXJlci5hbGlnbmVkT2JqZWN0cyxhKTtmb3IoZSBpbiBhKWRlbGV0ZSBhW2VdO3JldHVybiBudWxsfSxzaGFkb3c6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGYsaCxpLGosayxkPVtdLGc9dGhpcy5lbGVtZW50O2lmKGEpe2ZvcihpPXAoYS53aWR0aCwzKSxqPShhLm9wYWNpdHl8fC4xNSkvaSxrPXRoaXMucGFyZW50SW52ZXJ0ZWQ/IigtMSwtMSkiOiIoIitwKGEub2Zmc2V0WCwxKSsiLCAiK3AoYS5vZmZzZXRZLDEpKyIpIixlPTE7aT49ZTtlKyspZj1nLmNsb25lTm9kZSgwKSxoPTIqaSsxLTIqZSxGKGYse2lzU2hhZG93OiJ0cnVlIixzdHJva2U6YS5jb2xvcnx8ImJsYWNrIiwic3Ryb2tlLW9wYWNpdHkiOmoqZSwic3Ryb2tlLXdpZHRoIjpoLHRyYW5zZm9ybToidHJhbnNsYXRlIitrLGZpbGw6UH0pLGMmJihGKGYsImhlaWdodCIsdChGKGYsImhlaWdodCIpLWgsMCkpLGYuY3V0SGVpZ2h0PWgpLGI/Yi5lbGVtZW50LmFwcGVuZENoaWxkKGYpOmcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZixnKSxkLnB1c2goZik7dGhpcy5zaGFkb3dzPWR9cmV0dXJuIHRoaXN9LHhHZXR0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuImNpcmNsZSI9PT10aGlzLmVsZW1lbnQubm9kZU5hbWUmJihhPXt4OiJjeCIseToiY3kifVthXXx8YSksdGhpcy5fZGVmYXVsdEdldHRlcihhKX0sX2RlZmF1bHRHZXR0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9cCh0aGlzW2FdLHRoaXMuZWxlbWVudD90aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGEpOm51bGwsMCksL15bXC0wLTlcLl0rJC8udGVzdChhKSYmKGE9cGFyc2VGbG9hdChhKSksYX0sZFNldHRlcjpmdW5jdGlvbihhLGIsYyl7YSYmYS5qb2luJiYoYT1hLmpvaW4oIiAiKSksLyhOYU58IHsyfXxeJCkvLnRlc3QoYSkmJihhPSJNIDAgMCIpLGMuc2V0QXR0cmlidXRlKGIsYSksdGhpc1tiXT1hfSxkYXNoc3R5bGVTZXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYT1hJiZhLnRvTG93ZXJDYXNlKCkpe2ZvcihhPWEucmVwbGFjZSgic2hvcnRkYXNoZG90ZG90IiwiMywxLDEsMSwxLDEsIikucmVwbGFjZSgic2hvcnRkYXNoZG90IiwiMywxLDEsMSIpLnJlcGxhY2UoInNob3J0ZG90IiwiMSwxLCIpLnJlcGxhY2UoInNob3J0ZGFzaCIsIjMsMSwiKS5yZXBsYWNlKCJsb25nZGFzaCIsIjgsMywiKS5yZXBsYWNlKC9kb3QvZywiMSwzLCIpLnJlcGxhY2UoImRhc2giLCI0LDMsIikucmVwbGFjZSgvLCQvLCIiKS5zcGxpdCgiLCIpLGI9YS5sZW5ndGg7Yi0tOylhW2JdPXkoYVtiXSkqdGhpc1sic3Ryb2tlLXdpZHRoIl07YT1hLmpvaW4oIiwiKS5yZXBsYWNlKCJOYU4iLCJub25lIiksdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hhcnJheSIsYSl9fSxhbGlnblNldHRlcjpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJ0ZXh0LWFuY2hvciIse2xlZnQ6InN0YXJ0IixjZW50ZXI6Im1pZGRsZSIscmlnaHQ6ImVuZCJ9W2FdKX0sb3BhY2l0eVNldHRlcjpmdW5jdGlvbihhLGIsYyl7dGhpc1tiXT1hLGMuc2V0QXR0cmlidXRlKGIsYSl9LHRpdGxlU2V0dGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGl0bGUiKVswXTtifHwoYj14LmNyZWF0ZUVsZW1lbnROUyh4YSwidGl0bGUiKSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoYikpLGIudGV4dENvbnRlbnQ9cChhLCIiKS5yZXBsYWNlKC88W14+XSo+L2csIiIpfSx0ZXh0U2V0dGVyOmZ1bmN0aW9uKGEpe2EhPT10aGlzLnRleHRTdHImJihkZWxldGUgdGhpcy5iQm94LHRoaXMudGV4dFN0cj1hLHRoaXMuYWRkZWQmJnRoaXMucmVuZGVyZXIuYnVpbGRUZXh0KHRoaXMpKX0sZmlsbFNldHRlcjpmdW5jdGlvbihhLGIsYyl7InN0cmluZyI9PXR5cGVvZiBhP2Muc2V0QXR0cmlidXRlKGIsYSk6YSYmdGhpcy5jb2xvckdyYWRpZW50KGEsYixjKX0sekluZGV4U2V0dGVyOmZ1bmN0aW9uKGEsYixjKXtjLnNldEF0dHJpYnV0ZShiLGEpLHRoaXNbYl09YX0sX2RlZmF1bHRTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe2Muc2V0QXR0cmlidXRlKGIsYSl9fSxTLnByb3RvdHlwZS55R2V0dGVyPVMucHJvdG90eXBlLnhHZXR0ZXIsUy5wcm90b3R5cGUudHJhbnNsYXRlWFNldHRlcj1TLnByb3RvdHlwZS50cmFuc2xhdGVZU2V0dGVyPVMucHJvdG90eXBlLnJvdGF0aW9uU2V0dGVyPVMucHJvdG90eXBlLnZlcnRpY2FsQWxpZ25TZXR0ZXI9Uy5wcm90b3R5cGUuc2NhbGVYU2V0dGVyPVMucHJvdG90eXBlLnNjYWxlWVNldHRlcj1mdW5jdGlvbihhLGIpe3RoaXNbYl09YSx0aGlzLmRvVHJhbnNmb3JtPSEwfSxTLnByb3RvdHlwZVsic3Ryb2tlLXdpZHRoU2V0dGVyIl09Uy5wcm90b3R5cGUuc3Ryb2tlU2V0dGVyPWZ1bmN0aW9uKGEsYixjKXt0aGlzW2JdPWEsdGhpcy5zdHJva2UmJnRoaXNbInN0cm9rZS13aWR0aCJdPyh0aGlzLnN0cm9rZVdpZHRoPXRoaXNbInN0cm9rZS13aWR0aCJdLFMucHJvdG90eXBlLmZpbGxTZXR0ZXIuY2FsbCh0aGlzLHRoaXMuc3Ryb2tlLCJzdHJva2UiLGMpLGMuc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLHRoaXNbInN0cm9rZS13aWR0aCJdKSx0aGlzLmhhc1N0cm9rZT0hMCk6InN0cm9rZS13aWR0aCI9PT1iJiYwPT09YSYmdGhpcy5oYXNTdHJva2UmJihjLnJlbW92ZUF0dHJpYnV0ZSgic3Ryb2tlIiksdGhpcy5oYXNTdHJva2U9ITEpfTt2YXIgdGE9ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0YS5wcm90b3R5cGU9e0VsZW1lbnQ6Uyxpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGcsZj1sb2NhdGlvbixkPXRoaXMuY3JlYXRlRWxlbWVudCgic3ZnIikuYXR0cih7dmVyc2lvbjoiMS4xIn0pLmNzcyh0aGlzLmdldFN0eWxlKGQpKTtnPWQuZWxlbWVudCxhLmFwcGVuZENoaWxkKGcpLC0xPT09YS5pbm5lckhUTUwuaW5kZXhPZigieG1sbnMiKSYmRihnLCJ4bWxucyIseGEpLHRoaXMuaXNTVkc9ITAsdGhpcy5ib3g9Zyx0aGlzLmJveFdyYXBwZXI9ZCx0aGlzLmFsaWduZWRPYmplY3RzPVtdLHRoaXMudXJsPShVYXx8dGIpJiZ4LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiYXNlIikubGVuZ3RoP2YuaHJlZi5yZXBsYWNlKC8jLio/JC8sIiIpLnJlcGxhY2UoLyhbXCgnXCldKS9nLCJcXCQxIikucmVwbGFjZSgvIC9nLCIlMjAiKToiIix0aGlzLmNyZWF0ZUVsZW1lbnQoImRlc2MiKS5hZGQoKS5lbGVtZW50LmFwcGVuZENoaWxkKHguY3JlYXRlVGV4dE5vZGUoIkNyZWF0ZWQgd2l0aCBIaWdoY2hhcnRzIDQuMC40IikpLHRoaXMuZGVmcz10aGlzLmNyZWF0ZUVsZW1lbnQoImRlZnMiKS5hZGQoKSx0aGlzLmZvckV4cG9ydD1lLHRoaXMuZ3JhZGllbnRzPXt9LHRoaXMuY2FjaGU9e30sdGhpcy5zZXRTaXplKGIsYywhMSk7dmFyIGg7VWEmJmEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYodGhpcy5zdWJQaXhlbEZpeD1iPWZ1bmN0aW9uKCl7QihhLHtsZWZ0OjAsdG9wOjB9KSxoPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksQihhLHtsZWZ0OkxhKGgubGVmdCktaC5sZWZ0KyJweCIsdG9wOkxhKGgudG9wKS1oLnRvcCsicHgifSl9LGIoKSxOKEcsInJlc2l6ZSIsYikpfSxnZXRTdHlsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdHlsZT1yKHtmb250RmFtaWx5OiciTHVjaWRhIEdyYW5kZSIsICJMdWNpZGEgU2FucyBVbmljb2RlIiwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZicsZm9udFNpemU6IjEycHgifSxhKX0saXNIaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ib3hXcmFwcGVyLmdldEJCb3goKS53aWR0aH0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVmcztyZXR1cm4gdGhpcy5ib3g9bnVsbCx0aGlzLmJveFdyYXBwZXI9dGhpcy5ib3hXcmFwcGVyLmRlc3Ryb3koKSxQYSh0aGlzLmdyYWRpZW50c3x8e30pLHRoaXMuZ3JhZGllbnRzPW51bGwsYSYmKHRoaXMuZGVmcz1hLmRlc3Ryb3koKSksdGhpcy5zdWJQaXhlbEZpeCYmWChHLCJyZXNpemUiLHRoaXMuc3ViUGl4ZWxGaXgpLHRoaXMuYWxpZ25lZE9iamVjdHM9bnVsbH0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgdGhpcy5FbGVtZW50O3JldHVybiBiLmluaXQodGhpcyxhKSxifSxkcmF3OmZ1bmN0aW9uKCl7fSxidWlsZFRleHQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBoLGksYj1hLmVsZW1lbnQsYz10aGlzLGQ9Yy5mb3JFeHBvcnQsZT1wKGEudGV4dFN0ciwiIikudG9TdHJpbmcoKSxmPS0xIT09ZS5pbmRleE9mKCI8IiksZz1iLmNoaWxkTm9kZXMsaj1GKGIsIngiKSxrPWEuc3R5bGVzLGw9YS50ZXh0V2lkdGgsbj1rJiZrLmxpbmVIZWlnaHQsbT1rJiZrLkhjVGV4dFN0cm9rZSxvPWcubGVuZ3RoLFk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4/eShuKTpjLmZvbnRNZXRyaWNzKC8ocHh8ZW0pJC8udGVzdChhJiZhLnN0eWxlLmZvbnRTaXplKT9hLnN0eWxlLmZvbnRTaXplOmsmJmsuZm9udFNpemV8fGMuc3R5bGUuZm9udFNpemV8fDEyLGEpLmh9O28tLTspYi5yZW1vdmVDaGlsZChnW29dKTtmfHxtfHwtMSE9PWUuaW5kZXhPZigiICIpPyhoPS88LipzdHlsZT0iKFteIl0rKSIuKj4vLGk9LzwuKmhyZWY9IihodHRwW14iXSspIi4qPi8sbCYmIWEuYWRkZWQmJnRoaXMuYm94LmFwcGVuZENoaWxkKGIpLGU9Zj9lLnJlcGxhY2UoLzwoYnxzdHJvbmcpPi9nLCc8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZCI+JykucmVwbGFjZSgvPChpfGVtKT4vZywnPHNwYW4gc3R5bGU9ImZvbnQtc3R5bGU6aXRhbGljIj4nKS5yZXBsYWNlKC88YS9nLCI8c3BhbiIpLnJlcGxhY2UoLzxcLyhifHN0cm9uZ3xpfGVtfGEpPi9nLCI8L3NwYW4+Iikuc3BsaXQoLzxici4qPz4vZyk6W2VdLCIiPT09ZVtlLmxlbmd0aC0xXSYmZS5wb3AoKSxxKGUsZnVuY3Rpb24oZSxmKXt2YXIgZyxuPTAsZT1lLnJlcGxhY2UoLzxzcGFuL2csInx8fDxzcGFuIikucmVwbGFjZSgvPFwvc3Bhbj4vZywiPC9zcGFuPnx8fCIpO2c9ZS5zcGxpdCgifHx8IikscShnLGZ1bmN0aW9uKGUpe2lmKCIiIT09ZXx8MT09PWcubGVuZ3RoKXt2YXIgcCxtPXt9LG89eC5jcmVhdGVFbGVtZW50TlMoeGEsInRzcGFuIik7aWYoaC50ZXN0KGUpJiYocD1lLm1hdGNoKGgpWzFdLnJlcGxhY2UoLyg7fCB8Xiljb2xvcihbIDpdKS8sIiQxZmlsbCQyIiksRihvLCJzdHlsZSIscCkpLGkudGVzdChlKSYmIWQmJihGKG8sIm9uY2xpY2siLCdsb2NhdGlvbi5ocmVmPSInK2UubWF0Y2goaSlbMV0rJyInKSxCKG8se2N1cnNvcjoicG9pbnRlciJ9KSksZT0oZS5yZXBsYWNlKC88KC58XG4pKj8+L2csIiIpfHwiICIpLnJlcGxhY2UoLyZsdDsvZywiPCIpLnJlcGxhY2UoLyZndDsvZywiPiIpLCIgIiE9PWUpe2lmKG8uYXBwZW5kQ2hpbGQoeC5jcmVhdGVUZXh0Tm9kZShlKSksbj9tLmR4PTA6ZiYmbnVsbCE9PWomJihtLng9aiksRihvLG0pLGIuYXBwZW5kQ2hpbGQobyksIW4mJmYmJighYmEmJmQmJkIobyx7ZGlzcGxheToiYmxvY2sifSksRihvLCJkeSIsWShvKSkpLGwpZm9yKHZhciBxLEQsZT1lLnJlcGxhY2UoLyhbXlxeXSktL2csIiQxLSAiKS5zcGxpdCgiICIpLG09Zy5sZW5ndGg+MXx8ZS5sZW5ndGg+MSYmIm5vd3JhcCIhPT1rLndoaXRlU3BhY2Uscz1rLkhjSGVpZ2h0LHQ9W10sdT1ZKG8pLExiPTE7bSYmKGUubGVuZ3RofHx0Lmxlbmd0aCk7KWRlbGV0ZSBhLmJCb3gscT1hLmdldEJCb3goKSxEPXEud2lkdGgsIWJhJiZjLmZvckV4cG9ydCYmKEQ9Yy5tZWFzdXJlU3BhbldpZHRoKG8uZmlyc3RDaGlsZC5kYXRhLGEuc3R5bGVzKSkscT1EPmwscSYmMSE9PWUubGVuZ3RoPyhvLnJlbW92ZUNoaWxkKG8uZmlyc3RDaGlsZCksdC51bnNoaWZ0KGUucG9wKCkpKTooZT10LHQ9W10sZS5sZW5ndGgmJihMYisrLHMmJkxiKnU+cz8oZT1bIi4uLiJdLGEuYXR0cigidGl0bGUiLGEudGV4dFN0cikpOihvPXguY3JlYXRlRWxlbWVudE5TKHhhLCJ0c3BhbiIpLEYobyx7ZHk6dSx4Omp9KSxwJiZGKG8sInN0eWxlIixwKSxiLmFwcGVuZENoaWxkKG8pKSksRD5sJiYobD1EKSksZS5sZW5ndGgmJm8uYXBwZW5kQ2hpbGQoeC5jcmVhdGVUZXh0Tm9kZShlLmpvaW4oIiAiKS5yZXBsYWNlKC8tIC9nLCItIikpKTtuKyt9fX0pfSkpOmIuYXBwZW5kQ2hpbGQoeC5jcmVhdGVUZXh0Tm9kZShlKSl9LGJ1dHRvbjpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7dmFyIGwsbixtLG8scCxxLGo9dGhpcy5sYWJlbChhLGIsYyxpLG51bGwsbnVsbCxudWxsLG51bGwsImJ1dHRvbiIpLGs9MCxhPXt4MTowLHkxOjAseDI6MCx5MjoxfSxlPXcoeyJzdHJva2Utd2lkdGgiOjEsc3Ryb2tlOiIjQ0NDQ0NDIixmaWxsOntsaW5lYXJHcmFkaWVudDphLHN0b3BzOltbMCwiI0ZFRkVGRSJdLFsxLCIjRjZGNkY2Il1dfSxyOjIscGFkZGluZzo1LHN0eWxlOntjb2xvcjoiYmxhY2sifX0sZSk7cmV0dXJuIG09ZS5zdHlsZSxkZWxldGUgZS5zdHlsZSxmPXcoZSx7c3Ryb2tlOiIjNjhBIixmaWxsOntsaW5lYXJHcmFkaWVudDphLHN0b3BzOltbMCwiI0ZGRiJdLFsxLCIjQUNGIl1dfX0sZiksbz1mLnN0eWxlLGRlbGV0ZSBmLnN0eWxlLGc9dyhlLHtzdHJva2U6IiM2OEEiLGZpbGw6e2xpbmVhckdyYWRpZW50OmEsc3RvcHM6W1swLCIjOUJEIl0sWzEsIiNDREYiXV19fSxnKSxwPWcuc3R5bGUsZGVsZXRlIGcuc3R5bGUsaD13KGUse3N0eWxlOntjb2xvcjoiI0NDQyJ9fSxoKSxxPWguc3R5bGUsZGVsZXRlIGguc3R5bGUsTihqLmVsZW1lbnQsQWE/Im1vdXNlb3ZlciI6Im1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7MyE9PWsmJmouYXR0cihmKS5jc3Mobyl9KSxOKGouZWxlbWVudCxBYT8ibW91c2VvdXQiOiJtb3VzZWxlYXZlIixmdW5jdGlvbigpezMhPT1rJiYobD1bZSxmLGddW2tdLG49W20sbyxwXVtrXSxqLmF0dHIobCkuY3NzKG4pKX0pLGouc2V0U3RhdGU9ZnVuY3Rpb24oYSl7KGouc3RhdGU9az1hKT8yPT09YT9qLmF0dHIoZykuY3NzKHApOjM9PT1hJiZqLmF0dHIoaCkuY3NzKHEpOmouYXR0cihlKS5jc3MobSl9LGoub24oImNsaWNrIixmdW5jdGlvbigpezMhPT1rJiZkLmNhbGwoail9KS5hdHRyKGUpLmNzcyhyKHtjdXJzb3I6ImRlZmF1bHQifSxtKSl9LGNyaXNwTGluZTpmdW5jdGlvbihhLGIpe3JldHVybiBhWzFdPT09YVs0XSYmKGFbMV09YVs0XT12KGFbMV0pLWIlMi8yKSxhWzJdPT09YVs1XSYmKGFbMl09YVs1XT12KGFbMl0pK2IlMi8yKSxhfSxwYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPXtmaWxsOlB9O3JldHVybiBIYShhKT9iLmQ9YTpkYShhKSYmcihiLGEpLHRoaXMuY3JlYXRlRWxlbWVudCgicGF0aCIpLmF0dHIoYil9LGNpcmNsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE9ZGEoYSk/YTp7eDphLHk6YixyOmN9LGI9dGhpcy5jcmVhdGVFbGVtZW50KCJjaXJjbGUiKSxiLnhTZXR0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiY3giLGEpfSxiLnlTZXR0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiY3kiLGEpfSxiLmF0dHIoYSl9LGFyYzpmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIGRhKGEpJiYoYj1hLnksYz1hLnIsZD1hLmlubmVyUixlPWEuc3RhcnQsZj1hLmVuZCxhPWEueCksYT10aGlzLnN5bWJvbCgiYXJjIixhfHwwLGJ8fDAsY3x8MCxjfHwwLHtpbm5lclI6ZHx8MCxzdGFydDplfHwwLGVuZDpmfHwwfSksYS5yPWMsYX0scmVjdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGU9ZGEoYSk/YS5yOmUsZz10aGlzLmNyZWF0ZUVsZW1lbnQoInJlY3QiKSxhPWRhKGEpP2E6YT09PXU/e306e3g6YSx5OmIsd2lkdGg6dChjLDApLGhlaWdodDp0KGQsMCl9O3JldHVybiBmIT09dSYmKGEuc3Ryb2tlV2lkdGg9ZixhPWcuY3Jpc3AoYSkpLGUmJihhLnI9ZSksZy5yU2V0dGVyPWZ1bmN0aW9uKGEpe0YodGhpcy5lbGVtZW50LHtyeDphLHJ5OmF9KX0sZy5hdHRyKGEpfSxzZXRTaXplOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmFsaWduZWRPYmplY3RzLGU9ZC5sZW5ndGg7Zm9yKHRoaXMud2lkdGg9YSx0aGlzLmhlaWdodD1iLHRoaXMuYm94V3JhcHBlcltwKGMsITApPyJhbmltYXRlIjoiYXR0ciJdKHt3aWR0aDphLGhlaWdodDpifSk7ZS0tOylkW2VdLmFsaWduKCl9LGc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJnIik7cmV0dXJuIHMoYSk/Yi5hdHRyKHsiY2xhc3MiOiJoaWdoY2hhcnRzLSIrYX0pOmJ9LGltYWdlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9e3ByZXNlcnZlQXNwZWN0UmF0aW86UH07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MSYmcihmLHt4OmIseTpjLHdpZHRoOmQsaGVpZ2h0OmV9KSxmPXRoaXMuY3JlYXRlRWxlbWVudCgiaW1hZ2UiKS5hdHRyKGYpLGYuZWxlbWVudC5zZXRBdHRyaWJ1dGVOUz9mLmVsZW1lbnQuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCJocmVmIixhKTpmLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJoYy1zdmctaHJlZiIsYSksZn0sc3ltYm9sOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZyxqLGssaD10aGlzLnN5bWJvbHNbYV0saD1oJiZoKHYoYiksdihjKSxkLGUsZiksaT0vXnVybFwoKC4qPylcKSQvO3JldHVybiBoPyhnPXRoaXMucGF0aChoKSxyKGcse3N5bWJvbE5hbWU6YSx4OmIseTpjLHdpZHRoOmQsaGVpZ2h0OmV9KSxmJiZyKGcsZikpOmkudGVzdChhKSYmKGs9ZnVuY3Rpb24oYSxiKXthLmVsZW1lbnQmJihhLmF0dHIoe3dpZHRoOmJbMF0saGVpZ2h0OmJbMV19KSxhLmFsaWduQnlUcmFuc2xhdGV8fGEudHJhbnNsYXRlKHYoKGQtYlswXSkvMiksdigoZS1iWzFdKS8yKSkpfSxqPWEubWF0Y2goaSlbMV0sYT1KYltqXXx8ZiYmZi53aWR0aCYmZi5oZWlnaHQmJltmLndpZHRoLGYuaGVpZ2h0XSxnPXRoaXMuaW1hZ2UoaikuYXR0cih7eDpiLHk6Y30pLGcuaXNJbWc9ITAsYT9rKGcsYSk6KGcuYXR0cih7d2lkdGg6MCxoZWlnaHQ6MH0pLCQoImltZyIse29ubG9hZDpmdW5jdGlvbigpe2soZyxKYltqXT1bdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pfSxzcmM6an0pKSksZ30sc3ltYm9sczp7Y2lyY2xlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPS4xNjYqYztyZXR1cm5bIk0iLGErYy8yLGIsIkMiLGErYytlLGIsYStjK2UsYitkLGErYy8yLGIrZCwiQyIsYS1lLGIrZCxhLWUsYixhK2MvMixiLCJaIl19LHNxdWFyZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm5bIk0iLGEsYiwiTCIsYStjLGIsYStjLGIrZCxhLGIrZCwiWiJdfSx0cmlhbmdsZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm5bIk0iLGErYy8yLGIsIkwiLGErYyxiK2QsYSxiK2QsIloiXX0sInRyaWFuZ2xlLWRvd24iOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVyblsiTSIsYSxiLCJMIixhK2MsYixhK2MvMixiK2QsIloiXX0sZGlhbW9uZDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm5bIk0iLGErYy8yLGIsIkwiLGErYyxiK2QvMixhK2MvMixiK2QsYSxiK2QvMiwiWiJdfSxhcmM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1lLnN0YXJ0LGM9ZS5yfHxjfHxkLGc9ZS5lbmQtLjAwMSxkPWUuaW5uZXJSLGg9ZS5vcGVuLGk9YWEoZiksaj1mYShmKSxrPWFhKGcpLGc9ZmEoZyksZT1lLmVuZC1mPG9hPzA6MTtyZXR1cm5bIk0iLGErYyppLGIrYypqLCJBIixjLGMsMCxlLDEsYStjKmssYitjKmcsaD8iTSI6IkwiLGErZCprLGIrZCpnLCJBIixkLGQsMCxlLDAsYStkKmksYitkKmosaD8iIjoiWiJdfSxjYWxsb3V0OmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9TChlJiZlLnJ8fDAsYyxkKSxnPWYrNixoPWUmJmUuYW5jaG9yWCxpPWUmJmUuYW5jaG9yWSxlPXYoZS5zdHJva2VXaWR0aHx8MCklMi8yO3JldHVybiBhKz1lLGIrPWUsZT1bIk0iLGErZixiLCJMIixhK2MtZixiLCJDIixhK2MsYixhK2MsYixhK2MsYitmLCJMIixhK2MsYitkLWYsIkMiLGErYyxiK2QsYStjLGIrZCxhK2MtZixiK2QsIkwiLGErZixiK2QsIkMiLGEsYitkLGEsYitkLGEsYitkLWYsIkwiLGEsYitmLCJDIixhLGIsYSxiLGErZixiXSxoJiZoPmMmJmk+YitnJiZiK2QtZz5pP2Uuc3BsaWNlKDEzLDMsIkwiLGErYyxpLTYsYStjKzYsaSxhK2MsaSs2LGErYyxiK2QtZik6aCYmMD5oJiZpPmIrZyYmYitkLWc+aT9lLnNwbGljZSgzMywzLCJMIixhLGkrNixhLTYsaSxhLGktNixhLGIrZik6aSYmaT5kJiZoPmErZyYmYStjLWc+aD9lLnNwbGljZSgyMywzLCJMIixoKzYsYitkLGgsYitkKzYsaC02LGIrZCxhK2YsYitkKTppJiYwPmkmJmg+YStnJiZhK2MtZz5oJiZlLnNwbGljZSgzLDMsIkwiLGgtNixiLGgsYi02LGgrNixiLGMtZixiKSxlfX0sY2xpcFJlY3Q6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ImhpZ2hjaGFydHMtIit1YisrLGY9dGhpcy5jcmVhdGVFbGVtZW50KCJjbGlwUGF0aCIpLmF0dHIoe2lkOmV9KS5hZGQodGhpcy5kZWZzKSxhPXRoaXMucmVjdChhLGIsYyxkLDApLmFkZChmKTtyZXR1cm4gYS5pZD1lLGEuY2xpcFBhdGg9ZixhfSx0ZXh0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWdhfHwhYmEmJnRoaXMuZm9yRXhwb3J0LGY9e307cmV0dXJuIGQmJiF0aGlzLmZvckV4cG9ydD90aGlzLmh0bWwoYSxiLGMpOihmLng9TWF0aC5yb3VuZChifHwwKSxjJiYoZi55PU1hdGgucm91bmQoYykpLChhfHwwPT09YSkmJihmLnRleHQ9YSksYT10aGlzLmNyZWF0ZUVsZW1lbnQoInRleHQiKS5hdHRyKGYpLGUmJmEuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUifSksZHx8KGEueFNldHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGUsbixkPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRzcGFuIiksZj1jLmdldEF0dHJpYnV0ZShiKTtmb3Iobj0wO248ZC5sZW5ndGg7bisrKWU9ZFtuXSxlLmdldEF0dHJpYnV0ZShiKT09PWYmJmUuc2V0QXR0cmlidXRlKGIsYSk7Yy5zZXRBdHRyaWJ1dGUoYixhKX0pLGEpfSxmb250TWV0cmljczpmdW5jdGlvbihhLGIpe2E9YXx8dGhpcy5zdHlsZS5mb250U2l6ZSxiJiZHLmdldENvbXB1dGVkU3R5bGUmJihiPWIuZWxlbWVudHx8YixhPUcuZ2V0Q29tcHV0ZWRTdHlsZShiLCIiKS5mb250U2l6ZSk7dmFyIGE9L3B4Ly50ZXN0KGEpP3koYSk6L2VtLy50ZXN0KGEpPzEyKnBhcnNlRmxvYXQoYSk6MTIsYz0yND5hP2ErNDp2KDEuMiphKSxkPXYoLjgqYyk7cmV0dXJue2g6YyxiOmQsZjphfX0sbGFiZWw6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe2Z1bmN0aW9uIGooKXt2YXIgYSxiO2E9by5lbGVtZW50LnN0eWxlLEQ9KHZvaWQgMD09PXR8fHZvaWQgMD09PXhifHxtLnN0eWxlcy50ZXh0QWxpZ24pJiZvLnRleHRTdHImJm8uZ2V0QkJveCgpLG0ud2lkdGg9KHR8fEQud2lkdGh8fDApKzIqQytrYixtLmhlaWdodD0oeGJ8fEQuaGVpZ2h0fHwwKSsyKkMsUj1DK24uZm9udE1ldHJpY3MoYSYmYS5mb250U2l6ZSxvKS5iLHkmJihwfHwoYT12KC1KKkMpLGI9aD8tUjowLG0uYm94PXA9ZD9uLnN5bWJvbChkLGEsYixtLndpZHRoLG0uaGVpZ2h0LHopOm4ucmVjdChhLGIsbS53aWR0aCxtLmhlaWdodCwwLHpbUWJdKSxwLmF0dHIoImZpbGwiLFApLmFkZChtKSkscC5pc0ltZ3x8cC5hdHRyKHIoe3dpZHRoOnYobS53aWR0aCksaGVpZ2h0OnYobS5oZWlnaHQpfSx6KSksej1udWxsKX1mdW5jdGlvbiBrKCl7dmFyIGMsYT1tLnN0eWxlcyxhPWEmJmEudGV4dEFsaWduLGI9a2IrQyooMS1KKTtjPWg/MDpSLHModCkmJkQmJigiY2VudGVyIj09PWF8fCJyaWdodCI9PT1hKSYmKGIrPXtjZW50ZXI6LjUscmlnaHQ6MX1bYV0qKHQtRC53aWR0aCkpLChiIT09by54fHxjIT09by55KSYmKG8uYXR0cigieCIsYiksYyE9PXUmJm8uYXR0cigieSIsYykpLG8ueD1iLG8ueT1jfWZ1bmN0aW9uIGwoYSxiKXtwP3AuYXR0cihhLGIpOnpbYV09Yn12YXIgcCxELHQseGIseWIseCxSLHksbj10aGlzLG09bi5nKGkpLG89bi50ZXh0KCIiLDAsMCxnKS5hdHRyKHt6SW5kZXg6MX0pLEo9MCxDPTMsa2I9MCxLYj0wLHo9e307bS5vbkFkZD1mdW5jdGlvbigpe28uYWRkKG0pLG0uYXR0cih7dGV4dDphfHwwPT09YT9hOiIiLHg6Yix5OmN9KSxwJiZzKGUpJiZtLmF0dHIoe2FuY2hvclg6ZSxhbmNob3JZOmZ9KX0sbS53aWR0aFNldHRlcj1mdW5jdGlvbihhKXt0PWF9LG0uaGVpZ2h0U2V0dGVyPWZ1bmN0aW9uKGEpe3hiPWF9LG0ucGFkZGluZ1NldHRlcj1mdW5jdGlvbihhKXtzKGEpJiZhIT09QyYmKEM9YSxrKCkpfSxtLnBhZGRpbmdMZWZ0U2V0dGVyPWZ1bmN0aW9uKGEpe3MoYSkmJmEhPT1rYiYmKGtiPWEsaygpKX0sbS5hbGlnblNldHRlcj1mdW5jdGlvbihhKXtKPXtsZWZ0OjAsY2VudGVyOi41LHJpZ2h0OjF9W2FdfSxtLnRleHRTZXR0ZXI9ZnVuY3Rpb24oYSl7YSE9PXUmJm8udGV4dFNldHRlcihhKSxqKCksaygpfSxtWyJzdHJva2Utd2lkdGhTZXR0ZXIiXT1mdW5jdGlvbihhLGIpe2EmJih5PSEwKSxLYj1hJTIvMixsKGIsYSl9LG0uc3Ryb2tlU2V0dGVyPW0uZmlsbFNldHRlcj1tLnJTZXR0ZXI9ZnVuY3Rpb24oYSxiKXsiZmlsbCI9PT1iJiZhJiYoeT0hMCksbChiLGEpfSxtLmFuY2hvclhTZXR0ZXI9ZnVuY3Rpb24oYSxiKXtlPWEsbChiLGErS2IteWIpfSxtLmFuY2hvcllTZXR0ZXI9ZnVuY3Rpb24oYSxiKXtmPWEsbChiLGEteCl9LG0ueFNldHRlcj1mdW5jdGlvbihhKXttLng9YSxKJiYoYS09SiooKHR8fEQud2lkdGgpK0MpKSx5Yj12KGEpLG0uYXR0cigidHJhbnNsYXRlWCIseWIpfSxtLnlTZXR0ZXI9ZnVuY3Rpb24oYSl7eD1tLnk9dihhKSxtLmF0dHIoInRyYW5zbGF0ZVkiLHgpfTt2YXIgQT1tLmNzcztyZXR1cm4gcihtLHtjc3M6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9e30sYT13KGEpO3EobS50ZXh0UHJvcHMsZnVuY3Rpb24oYyl7YVtjXSE9PXUmJihiW2NdPWFbY10sZGVsZXRlIGFbY10pfSksby5jc3MoYil9cmV0dXJuIEEuY2FsbChtLGEpfSxnZXRCQm94OmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOkQud2lkdGgrMipDLGhlaWdodDpELmhlaWdodCsyKkMseDpELngtQyx5OkQueS1DfX0sc2hhZG93OmZ1bmN0aW9uKGEpe3JldHVybiBwJiZwLnNoYWRvdyhhKSxtfSxkZXN0cm95OmZ1bmN0aW9uKCl7WChtLmVsZW1lbnQsIm1vdXNlZW50ZXIiKSxYKG0uZWxlbWVudCwibW91c2VsZWF2ZSIpLG8mJihvPW8uZGVzdHJveSgpKSxwJiYocD1wLmRlc3Ryb3koKSksUy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKG0pLG09bj1qPWs9bD1udWxsfX0pfX0sWmE9dGEscihTLnByb3RvdHlwZSx7aHRtbENzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQ7cmV0dXJuKGI9YSYmIlNQQU4iPT09Yi50YWdOYW1lJiZhLndpZHRoKSYmKGRlbGV0ZSBhLndpZHRoLHRoaXMudGV4dFdpZHRoPWIsdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSksdGhpcy5zdHlsZXM9cih0aGlzLnN0eWxlcyxhKSxCKHRoaXMuZWxlbWVudCxhKSx0aGlzfSxodG1sR2V0QkJveDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPXRoaXMuYkJveDtyZXR1cm4gYnx8KCJ0ZXh0Ij09PWEubm9kZU5hbWUmJihhLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpLGI9dGhpcy5iQm94PXt4OmEub2Zmc2V0TGVmdCx5OmEub2Zmc2V0VG9wLHdpZHRoOmEub2Zmc2V0V2lkdGgsaGVpZ2h0OmEub2Zmc2V0SGVpZ2h0fSksYn0saHRtbFVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbigpe2lmKHRoaXMuYWRkZWQpe3ZhciBhPXRoaXMucmVuZGVyZXIsYj10aGlzLmVsZW1lbnQsYz10aGlzLnRyYW5zbGF0ZVh8fDAsZD10aGlzLnRyYW5zbGF0ZVl8fDAsZT10aGlzLnh8fDAsZj10aGlzLnl8fDAsZz10aGlzLnRleHRBbGlnbnx8ImxlZnQiLGg9e2xlZnQ6MCxjZW50ZXI6LjUscmlnaHQ6MX1bZ10saT10aGlzLnNoYWRvd3M7aWYoQihiLHttYXJnaW5MZWZ0OmMsbWFyZ2luVG9wOmR9KSxpJiZxKGksZnVuY3Rpb24oYSl7QihhLHttYXJnaW5MZWZ0OmMrMSxtYXJnaW5Ub3A6ZCsxfSl9KSx0aGlzLmludmVydGVkJiZxKGIuY2hpbGROb2RlcyxmdW5jdGlvbihjKXthLmludmVydENoaWxkKGMsYil9KSwiU1BBTiI9PT1iLnRhZ05hbWUpe3ZhciBrLGo9dGhpcy5yb3RhdGlvbixsPXkodGhpcy50ZXh0V2lkdGgpLG49W2osZyxiLmlubmVySFRNTCx0aGlzLnRleHRXaWR0aF0uam9pbigiLCIpO24hPT10aGlzLmNUVCYmKGs9YS5mb250TWV0cmljcyhiLnN0eWxlLmZvbnRTaXplKS5iLHMoaikmJnRoaXMuc2V0U3BhblJvdGF0aW9uKGosaCxrKSxpPXAodGhpcy5lbGVtV2lkdGgsYi5vZmZzZXRXaWR0aCksaT5sJiYvWyBcLV0vLnRlc3QoYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHQpJiYoQihiLHt3aWR0aDpsKyJweCIsZGlzcGxheToiYmxvY2siLHdoaXRlU3BhY2U6Im5vcm1hbCJ9KSxpPWwpLHRoaXMuZ2V0U3BhbkNvcnJlY3Rpb24oaSxrLGgsaixnKSksQihiLHtsZWZ0OmUrKHRoaXMueENvcnJ8fDApKyJweCIsdG9wOmYrKHRoaXMueUNvcnJ8fDApKyJweCJ9KSx0YiYmKGs9Yi5vZmZzZXRIZWlnaHQpLHRoaXMuY1RUPW59fWVsc2UgdGhpcy5hbGlnbk9uQWRkPSEwfSxzZXRTcGFuUm90YXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9LGU9QWE/Ii1tcy10cmFuc2Zvcm0iOnRiPyItd2Via2l0LXRyYW5zZm9ybSI6VWE/Ik1velRyYW5zZm9ybSI6SGI/Ii1vLXRyYW5zZm9ybSI6IiI7ZFtlXT1kLnRyYW5zZm9ybT0icm90YXRlKCIrYSsiZGVnKSIsZFtlKyhVYT8iT3JpZ2luIjoiLW9yaWdpbiIpXT1kLnRyYW5zZm9ybU9yaWdpbj0xMDAqYisiJSAiK2MrInB4IixCKHRoaXMuZWxlbWVudCxkKX0sZ2V0U3BhbkNvcnJlY3Rpb246ZnVuY3Rpb24oYSxiLGMpe3RoaXMueENvcnI9LWEqYyx0aGlzLnlDb3JyPS1ifX0pLHIodGEucHJvdG90eXBlLHtodG1sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxlPWQuZWxlbWVudCxmPWQucmVuZGVyZXI7cmV0dXJuIGQudGV4dFNldHRlcj1mdW5jdGlvbihhKXthIT09ZS5pbm5lckhUTUwmJmRlbGV0ZSB0aGlzLmJCb3gsZS5pbm5lckhUTUw9dGhpcy50ZXh0U3RyPWF9LGQueFNldHRlcj1kLnlTZXR0ZXI9ZC5hbGlnblNldHRlcj1kLnJvdGF0aW9uU2V0dGVyPWZ1bmN0aW9uKGEsYil7ImFsaWduIj09PWImJihiPSJ0ZXh0QWxpZ24iKSxkW2JdPWEsZC5odG1sVXBkYXRlVHJhbnNmb3JtKCl9LGQuYXR0cih7dGV4dDphLHg6dihiKSx5OnYoYyl9KS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2hpdGVTcGFjZToibm93cmFwIixmb250RmFtaWx5OnRoaXMuc3R5bGUuZm9udEZhbWlseSxmb250U2l6ZTp0aGlzLnN0eWxlLmZvbnRTaXplfSksZC5jc3M9ZC5odG1sQ3NzLGYuaXNTVkcmJihkLmFkZD1mdW5jdGlvbihhKXt2YXIgYixjPWYuYm94LnBhcmVudE5vZGUsaj1bXTtpZih0aGlzLnBhcmVudEdyb3VwPWEpe2lmKGI9YS5kaXYsIWIpe2Zvcig7YTspai5wdXNoKGEpLGE9YS5wYXJlbnRHcm91cDtxKGoucmV2ZXJzZSgpLGZ1bmN0aW9uKGEpe3ZhciBkO2I9YS5kaXY9YS5kaXZ8fCQoS2Ese2NsYXNzTmFtZTpGKGEuZWxlbWVudCwiY2xhc3MiKX0se3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDooYS50cmFuc2xhdGVYfHwwKSsicHgiLHRvcDooYS50cmFuc2xhdGVZfHwwKSsicHgifSxifHxjKSxkPWIuc3R5bGUscihhLHt0cmFuc2xhdGVYU2V0dGVyOmZ1bmN0aW9uKGIsYyl7ZC5sZWZ0PWIrInB4IixhW2NdPWIsYS5kb1RyYW5zZm9ybT0hMH0sdHJhbnNsYXRlWVNldHRlcjpmdW5jdGlvbihiLGMpe2QudG9wPWIrInB4IixhW2NdPWIsYS5kb1RyYW5zZm9ybT0hMH0sdmlzaWJpbGl0eVNldHRlcjpmdW5jdGlvbihhLGIpe2RbYl09YX19KX0pfX1lbHNlIGI9YztyZXR1cm4gYi5hcHBlbmRDaGlsZChlKSxkLmFkZGVkPSEwLGQuYWxpZ25PbkFkZCYmZC5odG1sVXBkYXRlVHJhbnNmb3JtKCksZH0pLGR9fSk7dmFyIFo7aWYoIWJhJiYhZ2Epe1o9e2luaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bIjwiLGIsJyBmaWxsZWQ9ImYiIHN0cm9rZWQ9ImYiJ10sZD1bInBvc2l0aW9uOiAiLCJhYnNvbHV0ZSIsIjsiXSxlPWI9PT1LYTsoInNoYXBlIj09PWJ8fGUpJiZkLnB1c2goImxlZnQ6MDt0b3A6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsiKSxkLnB1c2goInZpc2liaWxpdHk6ICIsZT8iaGlkZGVuIjoidmlzaWJsZSIpLGMucHVzaCgnIHN0eWxlPSInLGQuam9pbigiIiksJyIvPicpLGImJihjPWV8fCJzcGFuIj09PWJ8fCJpbWciPT09Yj9jLmpvaW4oIiIpOmEucHJlcFZNTChjKSx0aGlzLmVsZW1lbnQ9JChjKSksdGhpcy5yZW5kZXJlcj1hfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZW5kZXJlcixjPXRoaXMuZWxlbWVudCxkPWIuYm94LGQ9YT9hLmVsZW1lbnR8fGE6ZDtyZXR1cm4gYSYmYS5pbnZlcnRlZCYmYi5pbnZlcnRDaGlsZChjLGQpLGQuYXBwZW5kQ2hpbGQoYyksdGhpcy5hZGRlZD0hMCx0aGlzLmFsaWduT25BZGQmJiF0aGlzLmRlZmVyVXBkYXRlVHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMub25BZGQmJnRoaXMub25BZGQoKSx0aGlzfSx1cGRhdGVUcmFuc2Zvcm06Uy5wcm90b3R5cGUuaHRtbFVwZGF0ZVRyYW5zZm9ybSxzZXRTcGFuUm90YXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJvdGF0aW9uLGI9YWEoYSpFYSksYz1mYShhKkVhKTtCKHRoaXMuZWxlbWVudCx7ZmlsdGVyOmE/WyJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0iLGIsIiwgTTEyPSIsLWMsIiwgTTIxPSIsYywiLCBNMjI9IixiLCIsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSJdLmpvaW4oIiIpOlB9KX0sZ2V0U3BhbkNvcnJlY3Rpb246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgaSxmPWQ/YWEoZCpFYSk6MSxnPWQ/ZmEoZCpFYSk6MCxoPXAodGhpcy5lbGVtSGVpZ2h0LHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQpO3RoaXMueENvcnI9MD5mJiYtYSx0aGlzLnlDb3JyPTA+ZyYmLWgsaT0wPmYqZyx0aGlzLnhDb3JyKz1nKmIqKGk/MS1jOmMpLHRoaXMueUNvcnItPWYqYiooZD9pP2M6MS1jOjEpLGUmJiJsZWZ0IiE9PWUmJih0aGlzLnhDb3JyLT1hKmMqKDA+Zj8tMToxKSxkJiYodGhpcy55Q29yci09aCpjKigwPmc/LTE6MSkpLEIodGhpcy5lbGVtZW50LHt0ZXh0QWxpZ246ZX0pKX0scGF0aFRvVk1MOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPVtdO2ItLTspamEoYVtiXSk/Y1tiXT12KDEwKmFbYl0pLTU6IloiPT09YVtiXT9jW2JdPSJ4IjooY1tiXT1hW2JdLCFhLmlzQXJjfHwid2EiIT09YVtiXSYmImF0IiE9PWFbYl18fChjW2IrNV09PT1jW2IrN10mJihjW2IrN10rPWFbYis3XT5hW2IrNV0/MTotMSksY1tiKzZdPT09Y1tiKzhdJiYoY1tiKzhdKz1hW2IrOF0+YVtiKzZdPzE6LTEpKSk7cmV0dXJuIGMuam9pbigiICIpfHwieCJ9LGNsaXA6ZnVuY3Rpb24oYSl7dmFyIGMsYj10aGlzO3JldHVybiBhPyhjPWEubWVtYmVycyxsYShjLGIpLGMucHVzaChiKSxiLmRlc3Ryb3lDbGlwPWZ1bmN0aW9uKCl7bGEoYyxiKX0sYT1hLmdldENTUyhiKSk6KGIuZGVzdHJveUNsaXAmJmIuZGVzdHJveUNsaXAoKSxhPXtjbGlwOmhiPyJpbmhlcml0IjoicmVjdChhdXRvKSJ9KSxiLmNzcyhhKX0sY3NzOlMucHJvdG90eXBlLmh0bWxDc3Msc2FmZVJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEpe2EucGFyZW50Tm9kZSYmUWEoYSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZXN0cm95Q2xpcCYmdGhpcy5kZXN0cm95Q2xpcCgpLFMucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LG9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWxlbWVudFsib24iK2FdPWZ1bmN0aW9uKCl7dmFyIGE9Ry5ldmVudDthLnRhcmdldD1hLnNyY0VsZW1lbnQsYihhKX0sdGhpc30sY3V0T2ZmUGF0aDpmdW5jdGlvbihhLGIpe3ZhciBjLGE9YS5zcGxpdCgvWyAsXS8pO3JldHVybiBjPWEubGVuZ3RoLCg5PT09Y3x8MTE9PT1jKSYmKGFbYy00XT1hW2MtMl09eShhW2MtMl0pLTEwKmIpLGEuam9pbigiICIpfSxzaGFkb3c6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGgsaixsLG4sbSxvLGQ9W10sZj10aGlzLmVsZW1lbnQsZz10aGlzLnJlbmRlcmVyLGk9Zi5zdHlsZSxrPWYucGF0aDtpZihrJiYic3RyaW5nIiE9dHlwZW9mIGsudmFsdWUmJihrPSJ4Iiksbj1rLGEpe2ZvcihtPXAoYS53aWR0aCwzKSxvPShhLm9wYWNpdHl8fC4xNSkvbSxlPTE7Mz49ZTtlKyspbD0yKm0rMS0yKmUsYyYmKG49dGhpcy5jdXRPZmZQYXRoKGsudmFsdWUsbCsuNSkpLGo9Wyc8c2hhcGUgaXNTaGFkb3c9InRydWUiIHN0cm9rZXdlaWdodD0iJyxsLCciIGZpbGxlZD0iZmFsc2UiIHBhdGg9IicsbiwnIiBjb29yZHNpemU9IjEwIDEwIiBzdHlsZT0iJyxmLnN0eWxlLmNzc1RleHQsJyIgLz4nXSxoPSQoZy5wcmVwVk1MKGopLG51bGwse2xlZnQ6eShpLmxlZnQpK3AoYS5vZmZzZXRYLDEpLHRvcDp5KGkudG9wKStwKGEub2Zmc2V0WSwxKX0pLGMmJihoLmN1dE9mZj1sKzEpLGo9Wyc8c3Ryb2tlIGNvbG9yPSInLGEuY29sb3J8fCJibGFjayIsJyIgb3BhY2l0eT0iJyxvKmUsJyIvPiddLCQoZy5wcmVwVk1MKGopLG51bGwsbnVsbCxoKSxiP2IuZWxlbWVudC5hcHBlbmRDaGlsZChoKTpmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGgsZiksZC5wdXNoKGgpO3RoaXMuc2hhZG93cz1kfXJldHVybiB0aGlzfSx1cGRhdGVTaGFkb3dzOnNhLHNldEF0dHI6ZnVuY3Rpb24oYSxiKXtoYj90aGlzLmVsZW1lbnRbYV09Yjp0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKGEsYil9LGNsYXNzU2V0dGVyOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5jbGFzc05hbWU9YX0sZGFzaHN0eWxlU2V0dGVyOmZ1bmN0aW9uKGEsYixjKXsoYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3Ryb2tlIilbMF18fCQodGhpcy5yZW5kZXJlci5wcmVwVk1MKFsiPHN0cm9rZS8+Il0pLG51bGwsbnVsbCxjKSlbYl09YXx8InNvbGlkIix0aGlzW2JdPWF9LGRTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuc2hhZG93cyxhPWF8fFtdO2lmKHRoaXMuZD1hLmpvaW4mJmEuam9pbigiICIpLGMucGF0aD1hPXRoaXMucGF0aFRvVk1MKGEpLGQpZm9yKGM9ZC5sZW5ndGg7Yy0tOylkW2NdLnBhdGg9ZFtjXS5jdXRPZmY/dGhpcy5jdXRPZmZQYXRoKGEsZFtjXS5jdXRPZmYpOmE7dGhpcy5zZXRBdHRyKGIsYSl9LGZpbGxTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMubm9kZU5hbWU7IlNQQU4iPT09ZD9jLnN0eWxlLmNvbG9yPWE6IklNRyIhPT1kJiYoYy5maWxsZWQ9YSE9PVAsdGhpcy5zZXRBdHRyKCJmaWxsY29sb3IiLHRoaXMucmVuZGVyZXIuY29sb3IoYSxjLGIsdGhpcykpKX0sb3BhY2l0eVNldHRlcjpzYSxyb3RhdGlvblNldHRlcjpmdW5jdGlvbihhLGIsYyl7Yz1jLnN0eWxlLHRoaXNbYl09Y1tiXT1hLGMubGVmdD0tdihmYShhKkVhKSsxKSsicHgiLGMudG9wPXYoYWEoYSpFYSkpKyJweCJ9LHN0cm9rZVNldHRlcjpmdW5jdGlvbihhLGIsYyl7dGhpcy5zZXRBdHRyKCJzdHJva2Vjb2xvciIsdGhpcy5yZW5kZXJlci5jb2xvcihhLGMsYikpfSwic3Ryb2tlLXdpZHRoU2V0dGVyIjpmdW5jdGlvbihhLGIsYyl7Yy5zdHJva2VkPSEhYSx0aGlzW2JdPWEsamEoYSkmJihhKz0icHgiKSx0aGlzLnNldEF0dHIoInN0cm9rZXdlaWdodCIsYSl9LHRpdGxlU2V0dGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRBdHRyKGIsYSl9LHZpc2liaWxpdHlTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpeyJpbmhlcml0Ij09PWEmJihhPSJ2aXNpYmxlIiksdGhpcy5zaGFkb3dzJiZxKHRoaXMuc2hhZG93cyxmdW5jdGlvbihjKXtjLnN0eWxlW2JdPWF9KSwiRElWIj09PWMubm9kZU5hbWUmJihhPSJoaWRkZW4iPT09YT8iLTk5OWVtIjowLGhifHwoYy5zdHlsZVtiXT1hPyJ2aXNpYmxlIjoiaGlkZGVuIiksYj0idG9wIiksYy5zdHlsZVtiXT1hfSx4U2V0dGVyOmZ1bmN0aW9uKGEsYixjKXt0aGlzW2JdPWEsIngiPT09Yj9iPSJsZWZ0IjoieSI9PT1iJiYoYj0idG9wIiksdGhpcy51cGRhdGVDbGlwcGluZz8odGhpc1tiXT1hLHRoaXMudXBkYXRlQ2xpcHBpbmcoKSk6Yy5zdHlsZVtiXT1hfSx6SW5kZXhTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe2Muc3R5bGVbYl09YX19LEsuVk1MRWxlbWVudD1aPW1hKFMsWiksWi5wcm90b3R5cGUueVNldHRlcj1aLnByb3RvdHlwZS53aWR0aFNldHRlcj1aLnByb3RvdHlwZS5oZWlnaHRTZXR0ZXI9Wi5wcm90b3R5cGUueFNldHRlcjt2YXIgaWE9e0VsZW1lbnQ6Wixpc0lFODp3YS5pbmRleE9mKCJNU0lFIDguMCIpPi0xLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7aWYodGhpcy5hbGlnbmVkT2JqZWN0cz1bXSxkPXRoaXMuY3JlYXRlRWxlbWVudChLYSkuY3NzKHIodGhpcy5nZXRTdHlsZShkKSx7cG9zaXRpb246InJlbGF0aXZlIn0pKSxlPWQuZWxlbWVudCxhLmFwcGVuZENoaWxkKGQuZWxlbWVudCksdGhpcy5pc1ZNTD0hMCx0aGlzLmJveD1lLHRoaXMuYm94V3JhcHBlcj1kLHRoaXMuY2FjaGU9e30sdGhpcy5zZXRTaXplKGIsYywhMSksIXgubmFtZXNwYWNlcy5oY3Ype3gubmFtZXNwYWNlcy5hZGQoImhjdiIsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIik7dHJ5e3guY3JlYXRlU3R5bGVTaGVldCgpLmNzc1RleHQ9ImhjdlxcOmZpbGwsIGhjdlxcOnBhdGgsIGhjdlxcOnNoYXBlLCBoY3ZcXDpzdHJva2V7IGJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0gIn1jYXRjaChmKXt4LnN0eWxlU2hlZXRzWzBdLmNzc1RleHQrPSJoY3ZcXDpmaWxsLCBoY3ZcXDpwYXRoLCBoY3ZcXDpzaGFwZSwgaGN2XFw6c3Ryb2tleyBiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9ICJ9fX0saXNIaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ib3gub2Zmc2V0V2lkdGh9LGNsaXBSZWN0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudCgpLGY9ZGEoYSk7cmV0dXJuIHIoZSx7bWVtYmVyczpbXSxsZWZ0OihmP2EueDphKSsxLHRvcDooZj9hLnk6YikrMSx3aWR0aDooZj9hLndpZHRoOmMpLTEsaGVpZ2h0OihmP2EuaGVpZ2h0OmQpLTEsZ2V0Q1NTOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWxlbWVudCxjPWIubm9kZU5hbWUsYT1hLmludmVydGVkLGQ9dGhpcy50b3AtKCJzaGFwZSI9PT1jP2Iub2Zmc2V0VG9wOjApLGU9dGhpcy5sZWZ0LGI9ZSt0aGlzLndpZHRoLGY9ZCt0aGlzLmhlaWdodCxkPXtjbGlwOiJyZWN0KCIrdihhP2U6ZCkrInB4LCIrdihhP2Y6YikrInB4LCIrdihhP2I6ZikrInB4LCIrdihhP2Q6ZSkrInB4KSJ9O3JldHVybiFhJiZoYiYmIkRJViI9PT1jJiZyKGQse3dpZHRoOmIrInB4IixoZWlnaHQ6ZisicHgifSksZH0sdXBkYXRlQ2xpcHBpbmc6ZnVuY3Rpb24oKXtxKGUubWVtYmVycyxmdW5jdGlvbihhKXthLmVsZW1lbnQmJmEuY3NzKGUuZ2V0Q1NTKGEpKX0pfX0pfSxjb2xvcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZixoLGksZT10aGlzLGc9L15yZ2JhLyxqPVA7aWYoYSYmYS5saW5lYXJHcmFkaWVudD9pPSJncmFkaWVudCI6YSYmYS5yYWRpYWxHcmFkaWVudCYmKGk9InBhdHRlcm4iKSxpKXt2YXIgayxsLG0sbyxwLEQsSix0LG49YS5saW5lYXJHcmFkaWVudHx8YS5yYWRpYWxHcmFkaWVudCxDPSIiLGE9YS5zdG9wcyxzPVtdLHU9ZnVuY3Rpb24oKXtoPVsnPGZpbGwgY29sb3JzPSInK3Muam9pbigiLCIpKyciIG9wYWNpdHk9IicscCwnIiBvOm9wYWNpdHkyPSInLG8sJyIgdHlwZT0iJyxpLCciICcsQywnZm9jdXM9IjEwMCUiIG1ldGhvZD0iYW55IiAvPiddLCQoZS5wcmVwVk1MKGgpLG51bGwsbnVsbCxiKX07aWYobT1hWzBdLHQ9YVthLmxlbmd0aC0xXSxtWzBdPjAmJmEudW5zaGlmdChbMCxtWzFdXSksdFswXTwxJiZhLnB1c2goWzEsdFsxXV0pLHEoYSxmdW5jdGlvbihhLGIpe2cudGVzdChhWzFdKT8oZj15YShhWzFdKSxrPWYuZ2V0KCJyZ2IiKSxsPWYuZ2V0KCJhIikpOihrPWFbMV0sbD0xKSxzLnB1c2goMTAwKmFbMF0rIiUgIitrKSxiPyhwPWwsRD1rKToobz1sLEo9ayl9KSwiZmlsbCI9PT1jKWlmKCJncmFkaWVudCI9PT1pKWM9bi54MXx8blswXXx8MCxhPW4ueTF8fG5bMV18fDAsbT1uLngyfHxuWzJdfHwwLG49bi55Mnx8blszXXx8MCxDPSdhbmdsZT0iJysoOTAtMTgwKlYuYXRhbigobi1hKS8obS1jKSkvb2EpKyciJyx1KCk7ZWxzZXt2YXIgdyxqPW4ucixyPTIqaix2PTIqaix4PW4uY3gsej1uLmN5LFI9Yi5yYWRpYWxSZWZlcmVuY2Usaj1mdW5jdGlvbigpe1ImJih3PWQuZ2V0QkJveCgpLHgrPShSWzBdLXcueCkvdy53aWR0aC0uNSx6Kz0oUlsxXS13LnkpL3cuaGVpZ2h0LS41LHIqPVJbMl0vdy53aWR0aCx2Kj1SWzJdL3cuaGVpZ2h0KSxDPSdzcmM9IicrRS5nbG9iYWwuVk1MUmFkaWFsR3JhZGllbnRVUkwrJyIgc2l6ZT0iJytyKyIsIit2KyciIG9yaWdpbj0iMC41LDAuNSIgcG9zaXRpb249IicreCsiLCIreisnIiBjb2xvcjI9IicrSisnIiAnLHUoKX07ZC5hZGRlZD9qKCk6ZC5vbkFkZD1qLGo9RH1lbHNlIGo9a31lbHNlIGcudGVzdChhKSYmIklNRyIhPT1iLnRhZ05hbWU/KGY9eWEoYSksaD1bIjwiLGMsJyBvcGFjaXR5PSInLGYuZ2V0KCJhIiksJyIvPiddLCQodGhpcy5wcmVwVk1MKGgpLG51bGwsbnVsbCxiKSxqPWYuZ2V0KCJyZ2IiKSk6KGo9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShjKSxqLmxlbmd0aCYmKGpbMF0ub3BhY2l0eT0xLGpbMF0udHlwZT0ic29saWQiKSxqPWEpO3JldHVybiBqfSxwcmVwVk1MOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXNJRTgsYT1hLmpvaW4oIiIpO3JldHVybiBiPyhhPWEucmVwbGFjZSgiLz4iLCcgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiAvPicpLGE9LTE9PT1hLmluZGV4T2YoJ3N0eWxlPSInKT9hLnJlcGxhY2UoIi8+IiwnIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jaztiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTsiIC8+Jyk6YS5yZXBsYWNlKCdzdHlsZT0iJywnc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOycpKTphPWEucmVwbGFjZSgiPCIsIjxoY3Y6IiksYX0sdGV4dDp0YS5wcm90b3R5cGUuaHRtbCxwYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPXtjb29yZHNpemU6IjEwIDEwIn07cmV0dXJuIEhhKGEpP2IuZD1hOmRhKGEpJiZyKGIsYSksdGhpcy5jcmVhdGVFbGVtZW50KCJzaGFwZSIpLmF0dHIoYil9LGNpcmNsZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zeW1ib2woImNpcmNsZSIpO3JldHVybiBkYShhKSYmKGM9YS5yLGI9YS55LGE9YS54KSxkLmlzQ2lyY2xlPSEwLGQucj1jLGQuYXR0cih7eDphLHk6Yn0pfSxnOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBhJiYoYj17Y2xhc3NOYW1lOiJoaWdoY2hhcnRzLSIrYSwiY2xhc3MiOiJoaWdoY2hhcnRzLSIrYX0pLHRoaXMuY3JlYXRlRWxlbWVudChLYSkuYXR0cihiKX0saW1hZ2U6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmNyZWF0ZUVsZW1lbnQoImltZyIpLmF0dHIoe3NyYzphfSk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MSYmZi5hdHRyKHt4OmIseTpjLHdpZHRoOmQsaGVpZ2h0OmV9KSxmfSxjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiJyZWN0Ij09PWE/dGhpcy5zeW1ib2woYSk6dGEucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQuY2FsbCh0aGlzLGEpfSxpbnZlcnRDaGlsZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1iLnN0eWxlLGU9IklNRyI9PT1hLnRhZ05hbWUmJmEuc3R5bGU7QihhLHtmbGlwOiJ4IixsZWZ0OnkoZC53aWR0aCktKGU/eShlLnRvcCk6MSksdG9wOnkoZC5oZWlnaHQpLShlP3koZS5sZWZ0KToxKSxyb3RhdGlvbjotOTB9KSxxKGEuY2hpbGROb2RlcyxmdW5jdGlvbihiKXtjLmludmVydENoaWxkKGIsYSl9KX0sc3ltYm9sczp7YXJjOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZS5zdGFydCxnPWUuZW5kLGg9ZS5yfHxjfHxkLGM9ZS5pbm5lclIsZD1hYShmKSxpPWZhKGYpLGo9YWEoZyksaz1mYShnKTtyZXR1cm4gZy1mPT09MD9bIngiXTooZj1bIndhIixhLWgsYi1oLGEraCxiK2gsYStoKmQsYitoKmksYStoKmosYitoKmtdLGUub3BlbiYmIWMmJmYucHVzaCgiZSIsIk0iLGEsYiksZi5wdXNoKCJhdCIsYS1jLGItYyxhK2MsYitjLGErYypqLGIrYyprLGErYypkLGIrYyppLCJ4IiwiZSIpLGYuaXNBcmM9ITAsZil9LGNpcmNsZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBlJiYoYz1kPTIqZS5yKSxlJiZlLmlzQ2lyY2xlJiYoYS09Yy8yLGItPWQvMiksWyJ3YSIsYSxiLGErYyxiK2QsYStjLGIrZC8yLGErYyxiK2QvMiwiZSJdfSxyZWN0OmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRhLnByb3RvdHlwZS5zeW1ib2xzW3MoZSkmJmUucj8iY2FsbG91dCI6InNxdWFyZSJdLmNhbGwoMCxhLGIsYyxkLGUpfX19O0suVk1MUmVuZGVyZXI9Wj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LFoucHJvdG90eXBlPXcodGEucHJvdG90eXBlLGlhKSxaYT1aCn10YS5wcm90b3R5cGUubWVhc3VyZVNwYW5XaWR0aD1mdW5jdGlvbihhLGIpe3ZhciBkLGM9eC5jcmVhdGVFbGVtZW50KCJzcGFuIik7cmV0dXJuIGQ9eC5jcmVhdGVUZXh0Tm9kZShhKSxjLmFwcGVuZENoaWxkKGQpLEIoYyxiKSx0aGlzLmJveC5hcHBlbmRDaGlsZChjKSxkPWMub2Zmc2V0V2lkdGgsUWEoYyksZH07dmFyIE1iO2dhJiYoSy5DYW5WR1JlbmRlcmVyPVo9ZnVuY3Rpb24oKXt4YT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCJ9LFoucHJvdG90eXBlLnN5bWJvbHM9e30sTWI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGQsYT1iLmxlbmd0aDtmb3IoZD0wO2E+ZDtkKyspYltkXSgpO2I9W119dmFyIGI9W107cmV0dXJue3B1c2g6ZnVuY3Rpb24oYyxkKXswPT09Yi5sZW5ndGgmJlJiKGQsYSksYi5wdXNoKGMpfX19KCksWmE9WiksVGEucHJvdG90eXBlPXthZGRMYWJlbDpmdW5jdGlvbigpe3ZhciBuLGE9dGhpcy5heGlzLGI9YS5vcHRpb25zLGM9YS5jaGFydCxkPWEuaG9yaXosZT1hLmNhdGVnb3JpZXMsZj1hLm5hbWVzLGc9dGhpcy5wb3MsaD1iLmxhYmVscyxpPWgucm90YXRpb24saj1hLnRpY2tQb3NpdGlvbnMsZD1kJiZlJiYhaC5zdGVwJiYhaC5zdGFnZ2VyTGluZXMmJiFoLnJvdGF0aW9uJiZjLnBsb3RXaWR0aC9qLmxlbmd0aHx8IWQmJihjLm1hcmdpblszXXx8LjMzKmMuY2hhcnRXaWR0aCksaz1nPT09alswXSxsPWc9PT1qW2oubGVuZ3RoLTFdLGY9ZT9wKGVbZ10sZltnXSxnKTpnLGU9dGhpcy5sYWJlbCxtPWouaW5mbzthLmlzRGF0ZXRpbWVBeGlzJiZtJiYobj1iLmRhdGVUaW1lTGFiZWxGb3JtYXRzW20uaGlnaGVyUmFua3NbZ118fG0udW5pdE5hbWVdKSx0aGlzLmlzRmlyc3Q9ayx0aGlzLmlzTGFzdD1sLGI9YS5sYWJlbEZvcm1hdHRlci5jYWxsKHtheGlzOmEsY2hhcnQ6Yyxpc0ZpcnN0OmssaXNMYXN0OmwsZGF0ZVRpbWVMYWJlbEZvcm1hdDpuLHZhbHVlOmEuaXNMb2c/ZWEoa2EoZikpOmZ9KSxnPWQmJnt3aWR0aDp0KDEsdihkLTIqKGgucGFkZGluZ3x8MTApKSkrInB4In0scyhlKT9lJiZlLmF0dHIoe3RleHQ6Yn0pLmNzcyhnKToobj17YWxpZ246YS5sYWJlbEFsaWdufSxqYShpKSYmKG4ucm90YXRpb249aSksZCYmaC5lbGxpcHNpcyYmKGcuSGNIZWlnaHQ9YS5sZW4vai5sZW5ndGgpLHRoaXMubGFiZWw9ZT1zKGIpJiZoLmVuYWJsZWQ/Yy5yZW5kZXJlci50ZXh0KGIsMCwwLGgudXNlSFRNTCkuYXR0cihuKS5jc3MocihnLGguc3R5bGUpKS5hZGQoYS5sYWJlbEdyb3VwKTpudWxsLGEudGlja0Jhc2VsaW5lPWMucmVuZGVyZXIuZm9udE1ldHJpY3MoaC5zdHlsZS5mb250U2l6ZSxlKS5iLGkmJjI9PT1hLnNpZGUmJihhLnRpY2tCYXNlbGluZSo9YWEoaSpFYSkpKSx0aGlzLnlPZmZzZXQ9ZT9wKGgueSxhLnRpY2tCYXNlbGluZSsoMj09PWEuc2lkZT84Oi0oZS5nZXRCQm94KCkuaGVpZ2h0LzIpKSk6MH0sZ2V0TGFiZWxTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sYWJlbCxiPXRoaXMuYXhpcztyZXR1cm4gYT9hLmdldEJCb3goKVtiLmhvcml6PyJoZWlnaHQiOiJ3aWR0aCJdOjB9LGdldExhYmVsU2lkZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxhYmVsLmdldEJCb3goKSxiPXRoaXMuYXhpcyxjPWIuaG9yaXosZD1iLm9wdGlvbnMubGFiZWxzLGE9Yz9hLndpZHRoOmEuaGVpZ2h0LGI9Yz9kLngtYSp7bGVmdDowLGNlbnRlcjouNSxyaWdodDoxfVtiLmxhYmVsQWxpZ25dOjA7cmV0dXJuW2IsYz9hK2I6YV19LGhhbmRsZU92ZXJmbG93OmZ1bmN0aW9uKGEsYil7dmFyIGwsbixtLGM9ITAsZD10aGlzLmF4aXMsZT10aGlzLmlzRmlyc3QsZj10aGlzLmlzTGFzdCxnPWQuaG9yaXo/Yi54OmIueSxoPWQucmV2ZXJzZWQsaT1kLnRpY2tQb3NpdGlvbnMsaj10aGlzLmdldExhYmVsU2lkZXMoKSxrPWpbMF0saj1qWzFdLG89dGhpcy5sYWJlbC5saW5lO2lmKGw9b3x8MCxuPWQubGFiZWxFZGdlLG09ZC5qdXN0aWZ5TGFiZWxzJiYoZXx8ZiksbltsXT09PXV8fGcraz5uW2xdP25bbF09ZytqOm18fChjPSExKSxtKXtsPShuPWQuanVzdGlmeVRvUGxvdCk/ZC5wb3M6MCxuPW4/bCtkLmxlbjpkLmNoYXJ0LmNoYXJ0V2lkdGg7ZG8gYSs9ZT8xOi0xLG09ZC50aWNrc1tpW2FdXTt3aGlsZShpW2FdJiYoIW18fCFtLmxhYmVsfHxtLmxhYmVsLmxpbmUhPT1vKSk7ZD1tJiZtLmxhYmVsLnh5JiZtLmxhYmVsLnh5LngrbS5nZXRMYWJlbFNpZGVzKClbZT8wOjFdLGUmJiFofHxmJiZoP2w+ZytrJiYoZz1sLWssbSYmZytqPmQmJihjPSExKSk6ZytqPm4mJihnPW4taixtJiZkPmcrayYmKGM9ITEpKSxiLng9Z31yZXR1cm4gY30sZ2V0UG9zaXRpb246ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5heGlzLGY9ZS5jaGFydCxnPWQmJmYub2xkQ2hhcnRIZWlnaHR8fGYuY2hhcnRIZWlnaHQ7cmV0dXJue3g6YT9lLnRyYW5zbGF0ZShiK2MsbnVsbCxudWxsLGQpK2UudHJhbnNCOmUubGVmdCtlLm9mZnNldCsoZS5vcHBvc2l0ZT8oZCYmZi5vbGRDaGFydFdpZHRofHxmLmNoYXJ0V2lkdGgpLWUucmlnaHQtZS5sZWZ0OjApLHk6YT9nLWUuYm90dG9tK2Uub2Zmc2V0LShlLm9wcG9zaXRlP2UuaGVpZ2h0OjApOmctZS50cmFuc2xhdGUoYitjLG51bGwsbnVsbCxkKS1lLnRyYW5zQn19LGdldExhYmVsUG9zaXRpb246ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaT10aGlzLmF4aXMsaj1pLnRyYW5zQSxrPWkucmV2ZXJzZWQsbD1pLnN0YWdnZXJMaW5lcyxhPWErZS54LShmJiZkP2Yqaiooaz8tMToxKTowKSxiPWIrdGhpcy55T2Zmc2V0LShmJiYhZD9mKmoqKGs/MTotMSk6MCk7cmV0dXJuIGwmJihjLmxpbmU9Zy8oaHx8MSklbCxiKz1jLmxpbmUqKGkubGFiZWxPZmZzZXQvbCkpLHt4OmEseTpifX0sZ2V0TWFya1BhdGg6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBmLmNyaXNwTGluZShbIk0iLGEsYiwiTCIsYSsoZT8wOi1jKSxiKyhlP2M6MCldLGQpfSxyZW5kZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuYXhpcyxlPWQub3B0aW9ucyxmPWQuY2hhcnQucmVuZGVyZXIsZz1kLmhvcml6LGg9dGhpcy50eXBlLGk9dGhpcy5sYWJlbCxqPXRoaXMucG9zLGs9ZS5sYWJlbHMsbD10aGlzLmdyaWRMaW5lLG49aD9oKyJHcmlkIjoiZ3JpZCIsbT1oP2grIlRpY2siOiJ0aWNrIixvPWVbbisiTGluZVdpZHRoIl0scT1lW24rIkxpbmVDb2xvciJdLEQ9ZVtuKyJMaW5lRGFzaFN0eWxlIl0sSj1lW20rIkxlbmd0aCJdLG49ZVttKyJXaWR0aCJdfHwwLEM9ZVttKyJDb2xvciJdLHQ9ZVttKyJQb3NpdGlvbiJdLG09dGhpcy5tYXJrLHM9ay5zdGVwLHI9ITAsdj1kLnRpY2ttYXJrT2Zmc2V0LHc9dGhpcy5nZXRQb3NpdGlvbihnLGosdixiKSx4PXcueCx3PXcueSx6PWcmJng9PT1kLnBvcytkLmxlbnx8IWcmJnc9PT1kLnBvcz8tMToxLGM9cChjLDEpO3RoaXMuaXNBY3RpdmU9ITAsbyYmKGo9ZC5nZXRQbG90TGluZVBhdGgoait2LG8qeixiLCEwKSxsPT09dSYmKGw9e3N0cm9rZTpxLCJzdHJva2Utd2lkdGgiOm99LEQmJihsLmRhc2hzdHlsZT1EKSxofHwobC56SW5kZXg9MSksYiYmKGwub3BhY2l0eT0wKSx0aGlzLmdyaWRMaW5lPWw9bz9mLnBhdGgoaikuYXR0cihsKS5hZGQoZC5ncmlkR3JvdXApOm51bGwpLCFiJiZsJiZqJiZsW3RoaXMuaXNOZXc/ImF0dHIiOiJhbmltYXRlIl0oe2Q6aixvcGFjaXR5OmN9KSksbiYmSiYmKCJpbnNpZGUiPT09dCYmKEo9LUopLGQub3Bwb3NpdGUmJihKPS1KKSxoPXRoaXMuZ2V0TWFya1BhdGgoeCx3LEosbip6LGcsZiksbT9tLmFuaW1hdGUoe2Q6aCxvcGFjaXR5OmN9KTp0aGlzLm1hcms9Zi5wYXRoKGgpLmF0dHIoe3N0cm9rZTpDLCJzdHJva2Utd2lkdGgiOm4sb3BhY2l0eTpjfSkuYWRkKGQuYXhpc0dyb3VwKSksaSYmIWlzTmFOKHgpJiYoaS54eT13PXRoaXMuZ2V0TGFiZWxQb3NpdGlvbih4LHcsaSxnLGssdixhLHMpLHRoaXMuaXNGaXJzdCYmIXRoaXMuaXNMYXN0JiYhcChlLnNob3dGaXJzdExhYmVsLDEpfHx0aGlzLmlzTGFzdCYmIXRoaXMuaXNGaXJzdCYmIXAoZS5zaG93TGFzdExhYmVsLDEpP3I9ITE6IWQuaXNSYWRpYWwmJiFrLnN0ZXAmJiFrLnJvdGF0aW9uJiYhYiYmMCE9PWMmJihyPXRoaXMuaGFuZGxlT3ZlcmZsb3coYSx3KSkscyYmYSVzJiYocj0hMSksciYmIWlzTmFOKHcueSk/KHcub3BhY2l0eT1jLGlbdGhpcy5pc05ldz8iYXR0ciI6ImFuaW1hdGUiXSh3KSx0aGlzLmlzTmV3PSExKTppLmF0dHIoInkiLC05OTk5KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtQYSh0aGlzLHRoaXMuYXhpcyl9fSxLLlBsb3RMaW5lT3JCYW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5heGlzPWEsYiYmKHRoaXMub3B0aW9ucz1iLHRoaXMuaWQ9Yi5pZCl9LEsuUGxvdExpbmVPckJhbmQucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgcCxhPXRoaXMsYj1hLmF4aXMsYz1iLmhvcml6LGQ9KGIucG9pbnRSYW5nZXx8MCkvMixlPWEub3B0aW9ucyxmPWUubGFiZWwsZz1hLmxhYmVsLGg9ZS53aWR0aCxpPWUudG8saj1lLmZyb20saz1zKGopJiZzKGkpLGw9ZS52YWx1ZSxuPWUuZGFzaFN0eWxlLG09YS5zdmdFbGVtLG89W10scT1lLmNvbG9yLEo9ZS56SW5kZXgsQz1lLmV2ZW50cyxyPXt9LHU9Yi5jaGFydC5yZW5kZXJlcjtpZihiLmlzTG9nJiYoaj16YShqKSxpPXphKGkpLGw9emEobCkpLGgpbz1iLmdldFBsb3RMaW5lUGF0aChsLGgpLHI9e3N0cm9rZTpxLCJzdHJva2Utd2lkdGgiOmh9LG4mJihyLmRhc2hzdHlsZT1uKTtlbHNle2lmKCFrKXJldHVybjtqPXQoaixiLm1pbi1kKSxpPUwoaSxiLm1heCtkKSxvPWIuZ2V0UGxvdEJhbmRQYXRoKGosaSxlKSxxJiYoci5maWxsPXEpLGUuYm9yZGVyV2lkdGgmJihyLnN0cm9rZT1lLmJvcmRlckNvbG9yLHJbInN0cm9rZS13aWR0aCJdPWUuYm9yZGVyV2lkdGgpfWlmKHMoSikmJihyLnpJbmRleD1KKSxtKW8/bS5hbmltYXRlKHtkOm99LG51bGwsbS5vbkdldFBhdGgpOihtLmhpZGUoKSxtLm9uR2V0UGF0aD1mdW5jdGlvbigpe20uc2hvdygpfSxnJiYoYS5sYWJlbD1nPWcuZGVzdHJveSgpKSk7ZWxzZSBpZihvJiZvLmxlbmd0aCYmKGEuc3ZnRWxlbT1tPXUucGF0aChvKS5hdHRyKHIpLmFkZCgpLEMpKWZvcihwIGluIGQ9ZnVuY3Rpb24oYil7bS5vbihiLGZ1bmN0aW9uKGMpe0NbYl0uYXBwbHkoYSxbY10pfSl9LEMpZChwKTtyZXR1cm4gZiYmcyhmLnRleHQpJiZvJiZvLmxlbmd0aCYmYi53aWR0aD4wJiZiLmhlaWdodD4wPyhmPXcoe2FsaWduOmMmJmsmJiJjZW50ZXIiLHg6Yz8hayYmNDoxMCx2ZXJ0aWNhbEFsaWduOiFjJiZrJiYibWlkZGxlIix5OmM/az8xNjoxMDprPzY6LTQscm90YXRpb246YyYmIWsmJjkwfSxmKSxnfHwocj17YWxpZ246Zi50ZXh0QWxpZ258fGYuYWxpZ24scm90YXRpb246Zi5yb3RhdGlvbn0scyhKKSYmKHIuekluZGV4PUopLGEubGFiZWw9Zz11LnRleHQoZi50ZXh0LDAsMCxmLnVzZUhUTUwpLmF0dHIocikuY3NzKGYuc3R5bGUpLmFkZCgpKSxiPVtvWzFdLG9bNF0saz9vWzZdOm9bMV1dLGs9W29bMl0sb1s1XSxrP29bN106b1syXV0sbz1PYShiKSxjPU9hKGspLGcuYWxpZ24oZiwhMSx7eDpvLHk6Yyx3aWR0aDpDYShiKS1vLGhlaWdodDpDYShrKS1jfSksZy5zaG93KCkpOmcmJmcuaGlkZSgpLGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtsYSh0aGlzLmF4aXMucGxvdExpbmVzQW5kQmFuZHMsdGhpcyksZGVsZXRlIHRoaXMuYXhpcyxQYSh0aGlzKX19LG5hLnByb3RvdHlwZT17ZGVmYXVsdE9wdGlvbnM6e2RhdGVUaW1lTGFiZWxGb3JtYXRzOnttaWxsaXNlY29uZDoiJUg6JU06JVMuJUwiLHNlY29uZDoiJUg6JU06JVMiLG1pbnV0ZToiJUg6JU0iLGhvdXI6IiVIOiVNIixkYXk6IiVlLiAlYiIsd2VlazoiJWUuICViIixtb250aDoiJWIgJyV5Iix5ZWFyOiIlWSJ9LGVuZE9uVGljazohMSxncmlkTGluZUNvbG9yOiIjQzBDMEMwIixsYWJlbHM6TSxsaW5lQ29sb3I6IiNDMEQwRTAiLGxpbmVXaWR0aDoxLG1pblBhZGRpbmc6LjAxLG1heFBhZGRpbmc6LjAxLG1pbm9yR3JpZExpbmVDb2xvcjoiI0UwRTBFMCIsbWlub3JHcmlkTGluZVdpZHRoOjEsbWlub3JUaWNrQ29sb3I6IiNBMEEwQTAiLG1pbm9yVGlja0xlbmd0aDoyLG1pbm9yVGlja1Bvc2l0aW9uOiJvdXRzaWRlIixzdGFydE9mV2VlazoxLHN0YXJ0T25UaWNrOiExLHRpY2tDb2xvcjoiI0MwRDBFMCIsdGlja0xlbmd0aDoxMCx0aWNrbWFya1BsYWNlbWVudDoiYmV0d2VlbiIsdGlja1BpeGVsSW50ZXJ2YWw6MTAwLHRpY2tQb3NpdGlvbjoib3V0c2lkZSIsdGlja1dpZHRoOjEsdGl0bGU6e2FsaWduOiJtaWRkbGUiLHN0eWxlOntjb2xvcjoiIzcwNzA3MCJ9fSx0eXBlOiJsaW5lYXIifSxkZWZhdWx0WUF4aXNPcHRpb25zOntlbmRPblRpY2s6ITAsZ3JpZExpbmVXaWR0aDoxLHRpY2tQaXhlbEludGVydmFsOjcyLHNob3dMYXN0TGFiZWw6ITAsbGFiZWxzOnt4Oi04LHk6M30sbGluZVdpZHRoOjAsbWF4UGFkZGluZzouMDUsbWluUGFkZGluZzouMDUsc3RhcnRPblRpY2s6ITAsdGlja1dpZHRoOjAsdGl0bGU6e3JvdGF0aW9uOjI3MCx0ZXh0OiJWYWx1ZXMifSxzdGFja0xhYmVsczp7ZW5hYmxlZDohMSxmb3JtYXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gQmEodGhpcy50b3RhbCwtMSl9LHN0eWxlOk0uc3R5bGV9fSxkZWZhdWx0TGVmdEF4aXNPcHRpb25zOntsYWJlbHM6e3g6LTE1LHk6bnVsbH0sdGl0bGU6e3JvdGF0aW9uOjI3MH19LGRlZmF1bHRSaWdodEF4aXNPcHRpb25zOntsYWJlbHM6e3g6MTUseTpudWxsfSx0aXRsZTp7cm90YXRpb246OTB9fSxkZWZhdWx0Qm90dG9tQXhpc09wdGlvbnM6e2xhYmVsczp7eDowLHk6bnVsbH0sdGl0bGU6e3JvdGF0aW9uOjB9fSxkZWZhdWx0VG9wQXhpc09wdGlvbnM6e2xhYmVsczp7eDowLHk6LTE1fSx0aXRsZTp7cm90YXRpb246MH19LGluaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmlzWDt0aGlzLmhvcml6PWEuaW52ZXJ0ZWQ/IWM6Yyx0aGlzLmNvbGw9KHRoaXMuaXNYQXhpcz1jKT8ieEF4aXMiOiJ5QXhpcyIsdGhpcy5vcHBvc2l0ZT1iLm9wcG9zaXRlLHRoaXMuc2lkZT1iLnNpZGV8fCh0aGlzLmhvcml6P3RoaXMub3Bwb3NpdGU/MDoyOnRoaXMub3Bwb3NpdGU/MTozKSx0aGlzLnNldE9wdGlvbnMoYik7dmFyIGQ9dGhpcy5vcHRpb25zLGU9ZC50eXBlO3RoaXMubGFiZWxGb3JtYXR0ZXI9ZC5sYWJlbHMuZm9ybWF0dGVyfHx0aGlzLmRlZmF1bHRMYWJlbEZvcm1hdHRlcix0aGlzLnVzZXJPcHRpb25zPWIsdGhpcy5taW5QaXhlbFBhZGRpbmc9MCx0aGlzLmNoYXJ0PWEsdGhpcy5yZXZlcnNlZD1kLnJldmVyc2VkLHRoaXMuem9vbUVuYWJsZWQ9ZC56b29tRW5hYmxlZCE9PSExLHRoaXMuY2F0ZWdvcmllcz1kLmNhdGVnb3JpZXN8fCJjYXRlZ29yeSI9PT1lLHRoaXMubmFtZXM9W10sdGhpcy5pc0xvZz0ibG9nYXJpdGhtaWMiPT09ZSx0aGlzLmlzRGF0ZXRpbWVBeGlzPSJkYXRldGltZSI9PT1lLHRoaXMuaXNMaW5rZWQ9cyhkLmxpbmtlZFRvKSx0aGlzLnRpY2ttYXJrT2Zmc2V0PXRoaXMuY2F0ZWdvcmllcyYmImJldHdlZW4iPT09ZC50aWNrbWFya1BsYWNlbWVudCYmMT09PXAoZC50aWNrSW50ZXJ2YWwsMSk/LjU6MCx0aGlzLnRpY2tzPXt9LHRoaXMubGFiZWxFZGdlPVtdLHRoaXMubWlub3JUaWNrcz17fSx0aGlzLnBsb3RMaW5lc0FuZEJhbmRzPVtdLHRoaXMuYWx0ZXJuYXRlQmFuZHM9e30sdGhpcy5sZW49MCx0aGlzLm1pblJhbmdlPXRoaXMudXNlck1pblJhbmdlPWQubWluUmFuZ2V8fGQubWF4Wm9vbSx0aGlzLnJhbmdlPWQucmFuZ2UsdGhpcy5vZmZzZXQ9ZC5vZmZzZXR8fDAsdGhpcy5zdGFja3M9e30sdGhpcy5vbGRTdGFja3M9e30sdGhpcy5taW49dGhpcy5tYXg9bnVsbCx0aGlzLmNyb3NzaGFpcj1wKGQuY3Jvc3NoYWlyLHJhKGEub3B0aW9ucy50b29sdGlwLmNyb3NzaGFpcnMpW2M/MDoxXSwhMSk7dmFyIGYsZD10aGlzLm9wdGlvbnMuZXZlbnRzOy0xPT09TWEodGhpcyxhLmF4ZXMpJiYoYyYmIXRoaXMuaXNDb2xvckF4aXM/YS5heGVzLnNwbGljZShhLnhBeGlzLmxlbmd0aCwwLHRoaXMpOmEuYXhlcy5wdXNoKHRoaXMpLGFbdGhpcy5jb2xsXS5wdXNoKHRoaXMpKSx0aGlzLnNlcmllcz10aGlzLnNlcmllc3x8W10sYS5pbnZlcnRlZCYmYyYmdGhpcy5yZXZlcnNlZD09PXUmJih0aGlzLnJldmVyc2VkPSEwKSx0aGlzLnJlbW92ZVBsb3RMaW5lPXRoaXMucmVtb3ZlUGxvdEJhbmQ9dGhpcy5yZW1vdmVQbG90QmFuZE9yTGluZTtmb3IoZiBpbiBkKU4odGhpcyxmLGRbZl0pO3RoaXMuaXNMb2cmJih0aGlzLnZhbDJsaW49emEsdGhpcy5saW4ydmFsPWthKX0sc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9dyh0aGlzLmRlZmF1bHRPcHRpb25zLHRoaXMuaXNYQXhpcz97fTp0aGlzLmRlZmF1bHRZQXhpc09wdGlvbnMsW3RoaXMuZGVmYXVsdFRvcEF4aXNPcHRpb25zLHRoaXMuZGVmYXVsdFJpZ2h0QXhpc09wdGlvbnMsdGhpcy5kZWZhdWx0Qm90dG9tQXhpc09wdGlvbnMsdGhpcy5kZWZhdWx0TGVmdEF4aXNPcHRpb25zXVt0aGlzLnNpZGVdLHcoRVt0aGlzLmNvbGxdLGEpKX0sZGVmYXVsdExhYmVsRm9ybWF0dGVyOmZ1bmN0aW9uKCl7dmFyIGcsYT10aGlzLmF4aXMsYj10aGlzLnZhbHVlLGM9YS5jYXRlZ29yaWVzLGQ9dGhpcy5kYXRlVGltZUxhYmVsRm9ybWF0LGU9RS5sYW5nLm51bWVyaWNTeW1ib2xzLGY9ZSYmZS5sZW5ndGgsaD1hLm9wdGlvbnMubGFiZWxzLmZvcm1hdCxhPWEuaXNMb2c/YjphLnRpY2tJbnRlcnZhbDtpZihoKWc9SmEoaCx0aGlzKTtlbHNlIGlmKGMpZz1iO2Vsc2UgaWYoZClnPWNiKGQsYik7ZWxzZSBpZihmJiZhPj0xZTMpZm9yKDtmLS0mJmc9PT11OyljPU1hdGgucG93KDFlMyxmKzEpLGE+PWMmJm51bGwhPT1lW2ZdJiYoZz1CYShiL2MsLTEpK2VbZl0pO3JldHVybiBnPT09dSYmKGc9UShiKT49MWU0P0JhKGIsMCk6QmEoYiwtMSx1LCIiKSksZ30sZ2V0U2VyaWVzRXh0cmVtZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydDthLmhhc1Zpc2libGVTZXJpZXM9ITEsYS5kYXRhTWluPWEuZGF0YU1heD1hLmlnbm9yZU1pblBhZGRpbmc9YS5pZ25vcmVNYXhQYWRkaW5nPW51bGwsYS5idWlsZFN0YWNrcyYmYS5idWlsZFN0YWNrcygpLHEoYS5zZXJpZXMsZnVuY3Rpb24oYyl7aWYoYy52aXNpYmxlfHwhYi5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcyl7dmFyIGQ7ZD1jLm9wdGlvbnMudGhyZXNob2xkO3ZhciBlO2EuaGFzVmlzaWJsZVNlcmllcz0hMCxhLmlzTG9nJiYwPj1kJiYoZD1udWxsKSxhLmlzWEF4aXM/KGQ9Yy54RGF0YSxkLmxlbmd0aCYmKGEuZGF0YU1pbj1MKHAoYS5kYXRhTWluLGRbMF0pLE9hKGQpKSxhLmRhdGFNYXg9dChwKGEuZGF0YU1heCxkWzBdKSxDYShkKSkpKTooYy5nZXRFeHRyZW1lcygpLGU9Yy5kYXRhTWF4LGM9Yy5kYXRhTWluLHMoYykmJnMoZSkmJihhLmRhdGFNaW49TChwKGEuZGF0YU1pbixjKSxjKSxhLmRhdGFNYXg9dChwKGEuZGF0YU1heCxlKSxlKSkscyhkKSYmKGEuZGF0YU1pbj49ZD8oYS5kYXRhTWluPWQsYS5pZ25vcmVNaW5QYWRkaW5nPSEwKTphLmRhdGFNYXg8ZCYmKGEuZGF0YU1heD1kLGEuaWdub3JlTWF4UGFkZGluZz0hMCkpKX19KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0xLGg9MCxpPWQ/dGhpcy5vbGRUcmFuc0E6dGhpcy50cmFuc0EsZD1kP3RoaXMub2xkTWluOnRoaXMubWluLGo9dGhpcy5taW5QaXhlbFBhZGRpbmcsZT0odGhpcy5vcHRpb25zLm9yZGluYWx8fHRoaXMuaXNMb2cmJmUpJiZ0aGlzLmxpbjJ2YWw7cmV0dXJuIGl8fChpPXRoaXMudHJhbnNBKSxjJiYoZyo9LTEsaD10aGlzLmxlbiksdGhpcy5yZXZlcnNlZCYmKGcqPS0xLGgtPWcqKHRoaXMuc2VjdG9yfHx0aGlzLmxlbikpLGI/KGE9YSpnK2gsYS09aixhPWEvaStkLGUmJihhPXRoaXMubGluMnZhbChhKSkpOihlJiYoYT10aGlzLnZhbDJsaW4oYSkpLCJiZXR3ZWVuIj09PWYmJihmPS41KSxhPWcqKGEtZCkqaStoK2cqaisoamEoZik/aSpmKnRoaXMucG9pbnRSYW5nZTowKSksYX0sdG9QaXhlbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50cmFuc2xhdGUoYSwhMSwhdGhpcy5ob3JpeixudWxsLCEwKSsoYj8wOnRoaXMucG9zKX0sdG9WYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRyYW5zbGF0ZShhLShiPzA6dGhpcy5wb3MpLCEwLCF0aGlzLmhvcml6LG51bGwsITApfSxnZXRQbG90TGluZVBhdGg6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgaSxqLG4sZj10aGlzLmNoYXJ0LGc9dGhpcy5sZWZ0LGg9dGhpcy50b3Asaz1jJiZmLm9sZENoYXJ0SGVpZ2h0fHxmLmNoYXJ0SGVpZ2h0LGw9YyYmZi5vbGRDaGFydFdpZHRofHxmLmNoYXJ0V2lkdGg7cmV0dXJuIGk9dGhpcy50cmFuc0IsZT1wKGUsdGhpcy50cmFuc2xhdGUoYSxudWxsLG51bGwsYykpLGE9Yz12KGUraSksaT1qPXYoay1lLWkpLGlzTmFOKGUpP249ITA6dGhpcy5ob3Jpej8oaT1oLGo9ay10aGlzLmJvdHRvbSwoZz5hfHxhPmcrdGhpcy53aWR0aCkmJihuPSEwKSk6KGE9ZyxjPWwtdGhpcy5yaWdodCwoaD5pfHxpPmgrdGhpcy5oZWlnaHQpJiYobj0hMCkpLG4mJiFkP251bGw6Zi5yZW5kZXJlci5jcmlzcExpbmUoWyJNIixhLGksIkwiLGMsal0sYnx8MSl9LGdldExpbmVhclRpY2tQb3NpdGlvbnM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9ZWEoVShiL2EpKmEpLGY9ZWEoTGEoYy9hKSphKSxnPVtdO2lmKGI9PT1jJiZqYShiKSlyZXR1cm5bYl07Zm9yKGI9ZTtmPj1iJiYoZy5wdXNoKGIpLGI9ZWEoYithKSxiIT09ZCk7KWQ9YjtyZXR1cm4gZ30sZ2V0TWlub3JUaWNrUG9zaXRpb25zOmZ1bmN0aW9uKCl7dmFyIGUsYT10aGlzLm9wdGlvbnMsYj10aGlzLnRpY2tQb3NpdGlvbnMsYz10aGlzLm1pbm9yVGlja0ludGVydmFsLGQ9W107aWYodGhpcy5pc0xvZylmb3IoZT1iLmxlbmd0aCxhPTE7ZT5hO2ErKylkPWQuY29uY2F0KHRoaXMuZ2V0TG9nVGlja1Bvc2l0aW9ucyhjLGJbYS0xXSxiW2FdLCEwKSk7ZWxzZSBpZih0aGlzLmlzRGF0ZXRpbWVBeGlzJiYiYXV0byI9PT1hLm1pbm9yVGlja0ludGVydmFsKWQ9ZC5jb25jYXQodGhpcy5nZXRUaW1lVGlja3ModGhpcy5ub3JtYWxpemVUaW1lVGlja0ludGVydmFsKGMpLHRoaXMubWluLHRoaXMubWF4LGEuc3RhcnRPZldlZWspKSxkWzBdPHRoaXMubWluJiZkLnNoaWZ0KCk7ZWxzZSBmb3IoYj10aGlzLm1pbisoYlswXS10aGlzLm1pbiklYztiPD10aGlzLm1heDtiKz1jKWQucHVzaChiKTtyZXR1cm4gZH0sYWRqdXN0Rm9yTWluUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZCxmLGcsaCxpLGosYT10aGlzLm9wdGlvbnMsYj10aGlzLm1pbixjPXRoaXMubWF4LGU9dGhpcy5kYXRhTWF4LXRoaXMuZGF0YU1pbj49dGhpcy5taW5SYW5nZTtpZih0aGlzLmlzWEF4aXMmJnRoaXMubWluUmFuZ2U9PT11JiYhdGhpcy5pc0xvZyYmKHMoYS5taW4pfHxzKGEubWF4KT90aGlzLm1pblJhbmdlPW51bGw6KHEodGhpcy5zZXJpZXMsZnVuY3Rpb24oYSl7Zm9yKGk9YS54RGF0YSxnPWo9YS54SW5jcmVtZW50PzE6aS5sZW5ndGgtMTtnPjA7Zy0tKWg9aVtnXS1pW2ctMV0sKGY9PT11fHxmPmgpJiYoZj1oKX0pLHRoaXMubWluUmFuZ2U9TCg1KmYsdGhpcy5kYXRhTWF4LXRoaXMuZGF0YU1pbikpKSxjLWI8dGhpcy5taW5SYW5nZSl7dmFyIGs9dGhpcy5taW5SYW5nZTtkPShrLWMrYikvMixkPVtiLWQscChhLm1pbixiLWQpXSxlJiYoZFsyXT10aGlzLmRhdGFNaW4pLGI9Q2EoZCksYz1bYitrLHAoYS5tYXgsYitrKV0sZSYmKGNbMl09dGhpcy5kYXRhTWF4KSxjPU9hKGMpLGs+Yy1iJiYoZFswXT1jLWssZFsxXT1wKGEubWluLGMtayksYj1DYShkKSl9dGhpcy5taW49Yix0aGlzLm1heD1jfSxzZXRBeGlzVHJhbnNsYXRpb246ZnVuY3Rpb24oYSl7dmFyIGUsYj10aGlzLGM9Yi5tYXgtYi5taW4sZD1iLmF4aXNQb2ludFJhbmdlfHwwLGY9MCxnPTAsaD1iLmxpbmtlZFBhcmVudCxpPSEhYi5jYXRlZ29yaWVzLGo9Yi50cmFuc0E7KGIuaXNYQXhpc3x8aXx8ZCkmJihoPyhmPWgubWluUG9pbnRPZmZzZXQsZz1oLnBvaW50UmFuZ2VQYWRkaW5nKTpxKGIuc2VyaWVzLGZ1bmN0aW9uKGEpe3ZhciBoPWk/MTpiLmlzWEF4aXM/YS5wb2ludFJhbmdlOmIuYXhpc1BvaW50UmFuZ2V8fDAsaj1hLm9wdGlvbnMucG9pbnRQbGFjZW1lbnQsbT1hLmNsb3Nlc3RQb2ludFJhbmdlO2g+YyYmKGg9MCksZD10KGQsaCksZj10KGYsR2Eoaik/MDpoLzIpLGc9dChnLCJvbiI9PT1qPzA6aCksIWEubm9TaGFyZWRUb29sdGlwJiZzKG0pJiYoZT1zKGUpP0woZSxtKTptKX0pLGg9Yi5vcmRpbmFsU2xvcGUmJmU/Yi5vcmRpbmFsU2xvcGUvZToxLGIubWluUG9pbnRPZmZzZXQ9Zio9aCxiLnBvaW50UmFuZ2VQYWRkaW5nPWcqPWgsYi5wb2ludFJhbmdlPUwoZCxjKSxiLmNsb3Nlc3RQb2ludFJhbmdlPWUpLGEmJihiLm9sZFRyYW5zQT1qKSxiLnRyYW5zbGF0aW9uU2xvcGU9Yi50cmFuc0E9aj1iLmxlbi8oYytnfHwxKSxiLnRyYW5zQj1iLmhvcml6P2IubGVmdDpiLmJvdHRvbSxiLm1pblBpeGVsUGFkZGluZz1qKmZ9LHNldFRpY2tQb3NpdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIEQsYj10aGlzLGM9Yi5jaGFydCxkPWIub3B0aW9ucyxlPWQuc3RhcnRPblRpY2ssZj1kLmVuZE9uVGljayxnPWIuaXNMb2csaD1iLmlzRGF0ZXRpbWVBeGlzLGk9Yi5pc1hBeGlzLGo9Yi5pc0xpbmtlZCxrPWIub3B0aW9ucy50aWNrUG9zaXRpb25lcixsPWQubWF4UGFkZGluZyxuPWQubWluUGFkZGluZyxtPWQudGlja0ludGVydmFsLG89ZC5taW5UaWNrSW50ZXJ2YWwsWT1kLnRpY2tQaXhlbEludGVydmFsLEo9Yi5jYXRlZ29yaWVzO2o/KGIubGlua2VkUGFyZW50PWNbYi5jb2xsXVtkLmxpbmtlZFRvXSxjPWIubGlua2VkUGFyZW50LmdldEV4dHJlbWVzKCksYi5taW49cChjLm1pbixjLmRhdGFNaW4pLGIubWF4PXAoYy5tYXgsYy5kYXRhTWF4KSxkLnR5cGUhPT1iLmxpbmtlZFBhcmVudC5vcHRpb25zLnR5cGUmJmhhKDExLDEpKTooYi5taW49cChiLnVzZXJNaW4sZC5taW4sYi5kYXRhTWluKSxiLm1heD1wKGIudXNlck1heCxkLm1heCxiLmRhdGFNYXgpKSxnJiYoIWEmJkwoYi5taW4scChiLmRhdGFNaW4sYi5taW4pKTw9MCYmaGEoMTAsMSksYi5taW49ZWEoemEoYi5taW4pKSxiLm1heD1lYSh6YShiLm1heCkpKSxiLnJhbmdlJiZzKGIubWF4KSYmKGIudXNlck1pbj1iLm1pbj10KGIubWluLGIubWF4LWIucmFuZ2UpLGIudXNlck1heD1iLm1heCxiLnJhbmdlPW51bGwpLGIuYmVmb3JlUGFkZGluZyYmYi5iZWZvcmVQYWRkaW5nKCksYi5hZGp1c3RGb3JNaW5SYW5nZSgpLEp8fGIuYXhpc1BvaW50UmFuZ2V8fGIudXNlUGVyY2VudGFnZXx8anx8IXMoYi5taW4pfHwhcyhiLm1heCl8fCEoYz1iLm1heC1iLm1pbil8fChzKGQubWluKXx8cyhiLnVzZXJNaW4pfHwhbnx8IShiLmRhdGFNaW48MCkmJmIuaWdub3JlTWluUGFkZGluZ3x8KGIubWluLT1jKm4pLHMoZC5tYXgpfHxzKGIudXNlck1heCl8fCFsfHwhKGIuZGF0YU1heD4wKSYmYi5pZ25vcmVNYXhQYWRkaW5nfHwoYi5tYXgrPWMqbCkpLGphKGQuZmxvb3IpJiYoYi5taW49dChiLm1pbixkLmZsb29yKSksamEoZC5jZWlsaW5nKSYmKGIubWF4PUwoYi5tYXgsZC5jZWlsaW5nKSksYi5taW49PT1iLm1heHx8dm9pZCAwPT09Yi5taW58fHZvaWQgMD09PWIubWF4P2IudGlja0ludGVydmFsPTE6aiYmIW0mJlk9PT1iLmxpbmtlZFBhcmVudC5vcHRpb25zLnRpY2tQaXhlbEludGVydmFsP2IudGlja0ludGVydmFsPWIubGlua2VkUGFyZW50LnRpY2tJbnRlcnZhbDooYi50aWNrSW50ZXJ2YWw9cChtLEo/MTooYi5tYXgtYi5taW4pKlkvdChiLmxlbixZKSksIXMobSkmJmIubGVuPFkmJiF0aGlzLmlzUmFkaWFsJiYhdGhpcy5pc0xvZyYmIUomJmUmJmYmJihEPSEwLGIudGlja0ludGVydmFsLz00KSksaSYmIWEmJnEoYi5zZXJpZXMsZnVuY3Rpb24oYSl7YS5wcm9jZXNzRGF0YShiLm1pbiE9PWIub2xkTWlufHxiLm1heCE9PWIub2xkTWF4KX0pLGIuc2V0QXhpc1RyYW5zbGF0aW9uKCEwKSxiLmJlZm9yZVNldFRpY2tQb3NpdGlvbnMmJmIuYmVmb3JlU2V0VGlja1Bvc2l0aW9ucygpLGIucG9zdFByb2Nlc3NUaWNrSW50ZXJ2YWwmJihiLnRpY2tJbnRlcnZhbD1iLnBvc3RQcm9jZXNzVGlja0ludGVydmFsKGIudGlja0ludGVydmFsKSksYi5wb2ludFJhbmdlJiYoYi50aWNrSW50ZXJ2YWw9dChiLnBvaW50UmFuZ2UsYi50aWNrSW50ZXJ2YWwpKSwhbSYmYi50aWNrSW50ZXJ2YWw8byYmKGIudGlja0ludGVydmFsPW8pLGh8fGd8fG18fChiLnRpY2tJbnRlcnZhbD1uYihiLnRpY2tJbnRlcnZhbCxudWxsLG1iKGIudGlja0ludGVydmFsKSxwKGQuYWxsb3dEZWNpbWFscywhKGIudGlja0ludGVydmFsPjEmJmIudGlja0ludGVydmFsPDUmJmIubWF4PjFlMyYmYi5tYXg8OTk5OSkpKSksYi5taW5vclRpY2tJbnRlcnZhbD0iYXV0byI9PT1kLm1pbm9yVGlja0ludGVydmFsJiZiLnRpY2tJbnRlcnZhbD9iLnRpY2tJbnRlcnZhbC81OmQubWlub3JUaWNrSW50ZXJ2YWwsYi50aWNrUG9zaXRpb25zPWE9ZC50aWNrUG9zaXRpb25zP1tdLmNvbmNhdChkLnRpY2tQb3NpdGlvbnMpOmsmJmsuYXBwbHkoYixbYi5taW4sYi5tYXhdKSxhfHwoIWIub3JkaW5hbFBvc2l0aW9ucyYmKGIubWF4LWIubWluKS9iLnRpY2tJbnRlcnZhbD50KDIqYi5sZW4sMjAwKSYmaGEoMTksITApLGE9aD9iLmdldFRpbWVUaWNrcyhiLm5vcm1hbGl6ZVRpbWVUaWNrSW50ZXJ2YWwoYi50aWNrSW50ZXJ2YWwsZC51bml0cyksYi5taW4sYi5tYXgsZC5zdGFydE9mV2VlayxiLm9yZGluYWxQb3NpdGlvbnMsYi5jbG9zZXN0UG9pbnRSYW5nZSwhMCk6Zz9iLmdldExvZ1RpY2tQb3NpdGlvbnMoYi50aWNrSW50ZXJ2YWwsYi5taW4sYi5tYXgpOmIuZ2V0TGluZWFyVGlja1Bvc2l0aW9ucyhiLnRpY2tJbnRlcnZhbCxiLm1pbixiLm1heCksRCYmYS5zcGxpY2UoMSxhLmxlbmd0aC0yKSxiLnRpY2tQb3NpdGlvbnM9YSksanx8KGQ9YVswXSxnPWFbYS5sZW5ndGgtMV0saD1iLm1pblBvaW50T2Zmc2V0fHwwLGU/Yi5taW49ZDpiLm1pbi1oPmQmJmEuc2hpZnQoKSxmP2IubWF4PWc6Yi5tYXgraDxnJiZhLnBvcCgpLDA9PT1hLmxlbmd0aCYmcyhkKSYmYS5wdXNoKChnK2QpLzIpLDE9PT1hLmxlbmd0aCYmKGU9UShiLm1heCk+MWUxMz8xOi4wMDEsYi5taW4tPWUsYi5tYXgrPWUpKX0sc2V0TWF4VGlja3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9YS5tYXhUaWNrc3x8e30sYz10aGlzLnRpY2tQb3NpdGlvbnMsZD10aGlzLl9tYXhUaWNrc0tleT1bdGhpcy5jb2xsLHRoaXMucG9zLHRoaXMubGVuXS5qb2luKCItIik7IXRoaXMuaXNMaW5rZWQmJiF0aGlzLmlzRGF0ZXRpbWVBeGlzJiZjJiZjLmxlbmd0aD4oYltkXXx8MCkmJnRoaXMub3B0aW9ucy5hbGlnblRpY2tzIT09ITEmJihiW2RdPWMubGVuZ3RoKSxhLm1heFRpY2tzPWJ9LGFkanVzdFRpY2tBbW91bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9tYXhUaWNrc0tleSxiPXRoaXMudGlja1Bvc2l0aW9ucyxjPXRoaXMuY2hhcnQubWF4VGlja3M7aWYoYyYmY1thXSYmIXRoaXMuaXNEYXRldGltZUF4aXMmJiF0aGlzLmNhdGVnb3JpZXMmJiF0aGlzLmlzTGlua2VkJiZ0aGlzLm9wdGlvbnMuYWxpZ25UaWNrcyE9PSExJiZ0aGlzLm1pbiE9PXUpe3ZhciBkPXRoaXMudGlja0Ftb3VudCxlPWIubGVuZ3RoO2lmKHRoaXMudGlja0Ftb3VudD1hPWNbYV0sYT5lKXtmb3IoO2IubGVuZ3RoPGE7KWIucHVzaChlYShiW2IubGVuZ3RoLTFdK3RoaXMudGlja0ludGVydmFsKSk7dGhpcy50cmFuc0EqPShlLTEpLyhhLTEpLHRoaXMubWF4PWJbYi5sZW5ndGgtMV19cyhkKSYmYSE9PWQmJih0aGlzLmlzRGlydHk9ITApfX0sc2V0U2NhbGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxhPXRoaXMuc3RhY2tzO2lmKHRoaXMub2xkTWluPXRoaXMubWluLHRoaXMub2xkTWF4PXRoaXMubWF4LHRoaXMub2xkQXhpc0xlbmd0aD10aGlzLmxlbix0aGlzLnNldEF4aXNTaXplKCksZT10aGlzLmxlbiE9PXRoaXMub2xkQXhpc0xlbmd0aCxxKHRoaXMuc2VyaWVzLGZ1bmN0aW9uKGEpeyhhLmlzRGlydHlEYXRhfHxhLmlzRGlydHl8fGEueEF4aXMuaXNEaXJ0eSkmJihkPSEwKX0pLGV8fGR8fHRoaXMuaXNMaW5rZWR8fHRoaXMuZm9yY2VSZWRyYXd8fHRoaXMudXNlck1pbiE9PXRoaXMub2xkVXNlck1pbnx8dGhpcy51c2VyTWF4IT09dGhpcy5vbGRVc2VyTWF4KXtpZighdGhpcy5pc1hBeGlzKWZvcihiIGluIGEpZm9yKGMgaW4gYVtiXSlhW2JdW2NdLnRvdGFsPW51bGwsYVtiXVtjXS5jdW09MDt0aGlzLmZvcmNlUmVkcmF3PSExLHRoaXMuZ2V0U2VyaWVzRXh0cmVtZXMoKSx0aGlzLnNldFRpY2tQb3NpdGlvbnMoKSx0aGlzLm9sZFVzZXJNaW49dGhpcy51c2VyTWluLHRoaXMub2xkVXNlck1heD10aGlzLnVzZXJNYXgsdGhpcy5pc0RpcnR5fHwodGhpcy5pc0RpcnR5PWV8fHRoaXMubWluIT09dGhpcy5vbGRNaW58fHRoaXMubWF4IT09dGhpcy5vbGRNYXgpfWVsc2UgaWYoIXRoaXMuaXNYQXhpcyl7dGhpcy5vbGRTdGFja3MmJihhPXRoaXMuc3RhY2tzPXRoaXMub2xkU3RhY2tzKTtmb3IoYiBpbiBhKWZvcihjIGluIGFbYl0pYVtiXVtjXS5jdW09YVtiXVtjXS50b3RhbH10aGlzLnNldE1heFRpY2tzKCl9LHNldEV4dHJlbWVzOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcyxnPWYuY2hhcnQsYz1wKGMsITApLGU9cihlLHttaW46YSxtYXg6Yn0pO0koZiwic2V0RXh0cmVtZXMiLGUsZnVuY3Rpb24oKXtmLnVzZXJNaW49YSxmLnVzZXJNYXg9YixmLmV2ZW50QXJncz1lLGYuaXNEaXJ0eUV4dHJlbWVzPSEwLGMmJmcucmVkcmF3KGQpfSl9LHpvb206ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmRhdGFNaW4sZD10aGlzLmRhdGFNYXgsZT10aGlzLm9wdGlvbnM7cmV0dXJuIHRoaXMuYWxsb3dab29tT3V0c2lkZXx8KHMoYykmJmE8PUwoYyxwKGUubWluLGMpKSYmKGE9dSkscyhkKSYmYj49dChkLHAoZS5tYXgsZCkpJiYoYj11KSksdGhpcy5kaXNwbGF5QnRuPWEhPT11fHxiIT09dSx0aGlzLnNldEV4dHJlbWVzKGEsYiwhMSx1LHt0cmlnZ2VyOiJ6b29tIn0pLCEwfSxzZXRBeGlzU2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj10aGlzLm9wdGlvbnMsYz1iLm9mZnNldExlZnR8fDAsZD10aGlzLmhvcml6LGU9cChiLndpZHRoLGEucGxvdFdpZHRoLWMrKGIub2Zmc2V0UmlnaHR8fDApKSxmPXAoYi5oZWlnaHQsYS5wbG90SGVpZ2h0KSxnPXAoYi50b3AsYS5wbG90VG9wKSxiPXAoYi5sZWZ0LGEucGxvdExlZnQrYyksYz0vJSQvO2MudGVzdChmKSYmKGY9cGFyc2VJbnQoZiwxMCkvMTAwKmEucGxvdEhlaWdodCksYy50ZXN0KGcpJiYoZz1wYXJzZUludChnLDEwKS8xMDAqYS5wbG90SGVpZ2h0K2EucGxvdFRvcCksdGhpcy5sZWZ0PWIsdGhpcy50b3A9Zyx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9Zix0aGlzLmJvdHRvbT1hLmNoYXJ0SGVpZ2h0LWYtZyx0aGlzLnJpZ2h0PWEuY2hhcnRXaWR0aC1lLWIsdGhpcy5sZW49dChkP2U6ZiwwKSx0aGlzLnBvcz1kP2I6Z30sZ2V0RXh0cmVtZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmlzTG9nO3JldHVybnttaW46YT9lYShrYSh0aGlzLm1pbikpOnRoaXMubWluLG1heDphP2VhKGthKHRoaXMubWF4KSk6dGhpcy5tYXgsZGF0YU1pbjp0aGlzLmRhdGFNaW4sZGF0YU1heDp0aGlzLmRhdGFNYXgsdXNlck1pbjp0aGlzLnVzZXJNaW4sdXNlck1heDp0aGlzLnVzZXJNYXh9fSxnZXRUaHJlc2hvbGQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pc0xvZyxjPWI/a2EodGhpcy5taW4pOnRoaXMubWluLGI9Yj9rYSh0aGlzLm1heCk6dGhpcy5tYXg7cmV0dXJuIGM+YXx8bnVsbD09PWE/YT1jOmE+YiYmKGE9YiksdGhpcy50cmFuc2xhdGUoYSwwLDEsMCwxKX0sYXV0b0xhYmVsQWxpZ246ZnVuY3Rpb24oYSl7cmV0dXJuIGE9KHAoYSwwKS05MCp0aGlzLnNpZGUrNzIwKSUzNjAsYT4xNSYmMTY1PmE/InJpZ2h0IjphPjE5NSYmMzQ1PmE/ImxlZnQiOiJjZW50ZXIifSxnZXRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgaixrLG4scix4LHksQSx6LFIsYT10aGlzLGI9YS5jaGFydCxjPWIucmVuZGVyZXIsZD1hLm9wdGlvbnMsZT1hLnRpY2tQb3NpdGlvbnMsZj1hLnRpY2tzLGc9YS5ob3JpeixoPWEuc2lkZSxpPWIuaW52ZXJ0ZWQ/WzEsMCwzLDJdW2hdOmgsbD0wLG09MCxvPWQudGl0bGUsWT1kLmxhYmVscyxEPTAsSj1iLmF4aXNPZmZzZXQsYj1iLmNsaXBPZmZzZXQsQz1bLTEsMSwxLC0xXVtoXSx2PTEsdz1wKFkubWF4U3RhZ2dlckxpbmVzLDUpO2lmKGEuaGFzRGF0YT1qPWEuaGFzVmlzaWJsZVNlcmllc3x8cyhhLm1pbikmJnMoYS5tYXgpJiYhIWUsYS5zaG93QXhpcz1rPWp8fHAoZC5zaG93RW1wdHksITApLGEuc3RhZ2dlckxpbmVzPWEuaG9yaXomJlkuc3RhZ2dlckxpbmVzLGEuYXhpc0dyb3VwfHwoYS5ncmlkR3JvdXA9Yy5nKCJncmlkIikuYXR0cih7ekluZGV4OmQuZ3JpZFpJbmRleHx8MX0pLmFkZCgpLGEuYXhpc0dyb3VwPWMuZygiYXhpcyIpLmF0dHIoe3pJbmRleDpkLnpJbmRleHx8Mn0pLmFkZCgpLGEubGFiZWxHcm91cD1jLmcoImF4aXMtbGFiZWxzIikuYXR0cih7ekluZGV4OlkuekluZGV4fHw3fSkuYWRkQ2xhc3MoImhpZ2hjaGFydHMtIithLmNvbGwudG9Mb3dlckNhc2UoKSsiLWxhYmVscyIpLmFkZCgpKSxqfHxhLmlzTGlua2VkKXtpZihhLmxhYmVsQWxpZ249cChZLmFsaWdufHxhLmF1dG9MYWJlbEFsaWduKFkucm90YXRpb24pKSxxKGUsZnVuY3Rpb24oYil7ZltiXT9mW2JdLmFkZExhYmVsKCk6ZltiXT1uZXcgVGEoYSxiKX0pLGEuaG9yaXomJiFhLnN0YWdnZXJMaW5lcyYmdyYmIVkucm90YXRpb24pe2ZvcihqPWEucmV2ZXJzZWQ/W10uY29uY2F0KGUpLnJldmVyc2UoKTplO3c+djspe2Zvcih4PVtdLHk9ITEscj0wO3I8ai5sZW5ndGg7cisrKUE9altyXSx6PSh6PWZbQV0ubGFiZWwmJmZbQV0ubGFiZWwuZ2V0QkJveCgpKT96LndpZHRoOjAsUj1yJXYseiYmKEE9YS50cmFuc2xhdGUoQSkseFtSXSE9PXUmJkE8eFtSXSYmKHk9ITApLHhbUl09QSt6KTtpZigheSlicmVhazt2Kyt9dj4xJiYoYS5zdGFnZ2VyTGluZXM9dil9cShlLGZ1bmN0aW9uKGIpeygwPT09aHx8Mj09PWh8fHsxOiJsZWZ0IiwzOiJyaWdodCJ9W2hdPT09YS5sYWJlbEFsaWduKSYmKEQ9dChmW2JdLmdldExhYmVsU2l6ZSgpLEQpKX0pLGEuc3RhZ2dlckxpbmVzJiYoRCo9YS5zdGFnZ2VyTGluZXMsYS5sYWJlbE9mZnNldD1EKX1lbHNlIGZvcihyIGluIGYpZltyXS5kZXN0cm95KCksZGVsZXRlIGZbcl07byYmby50ZXh0JiZvLmVuYWJsZWQhPT0hMSYmKGEuYXhpc1RpdGxlfHwoYS5heGlzVGl0bGU9Yy50ZXh0KG8udGV4dCwwLDAsby51c2VIVE1MKS5hdHRyKHt6SW5kZXg6Nyxyb3RhdGlvbjpvLnJvdGF0aW9ufHwwLGFsaWduOm8udGV4dEFsaWdufHx7bG93OiJsZWZ0IixtaWRkbGU6ImNlbnRlciIsaGlnaDoicmlnaHQifVtvLmFsaWduXX0pLmFkZENsYXNzKCJoaWdoY2hhcnRzLSIrdGhpcy5jb2xsLnRvTG93ZXJDYXNlKCkrIi10aXRsZSIpLmNzcyhvLnN0eWxlKS5hZGQoYS5heGlzR3JvdXApLGEuYXhpc1RpdGxlLmlzTmV3PSEwKSxrJiYobD1hLmF4aXNUaXRsZS5nZXRCQm94KClbZz8iaGVpZ2h0Ijoid2lkdGgiXSxuPW8ub2Zmc2V0LG09cyhuKT8wOnAoby5tYXJnaW4sZz81OjEwKSksYS5heGlzVGl0bGVbaz8ic2hvdyI6ImhpZGUiXSgpKSxhLm9mZnNldD1DKnAoZC5vZmZzZXQsSltoXSksYz0yPT09aD9hLnRpY2tCYXNlbGluZTowLGc9RCttKyhEJiZDKihnP3AoWS55LGEudGlja0Jhc2VsaW5lKzgpOlkueCktYyksYS5heGlzVGl0bGVNYXJnaW49cChuLGcpLEpbaF09dChKW2hdLGEuYXhpc1RpdGxlTWFyZ2luK2wrQyphLm9mZnNldCxnKSxiW2ldPXQoYltpXSwyKlUoZC5saW5lV2lkdGgvMikpfSxnZXRMaW5lUGF0aDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9dGhpcy5vcHBvc2l0ZSxkPXRoaXMub2Zmc2V0LGU9dGhpcy5ob3JpeixmPXRoaXMubGVmdCsoYz90aGlzLndpZHRoOjApK2QsZD1iLmNoYXJ0SGVpZ2h0LXRoaXMuYm90dG9tLShjP3RoaXMuaGVpZ2h0OjApK2Q7cmV0dXJuIGMmJihhKj0tMSksYi5yZW5kZXJlci5jcmlzcExpbmUoWyJNIixlP3RoaXMubGVmdDpmLGU/ZDp0aGlzLnRvcCwiTCIsZT9iLmNoYXJ0V2lkdGgtdGhpcy5yaWdodDpmLGU/ZDpiLmNoYXJ0SGVpZ2h0LXRoaXMuYm90dG9tXSxhKX0sZ2V0VGl0bGVQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaG9yaXosYj10aGlzLmxlZnQsYz10aGlzLnRvcCxkPXRoaXMubGVuLGU9dGhpcy5vcHRpb25zLnRpdGxlLGY9YT9iOmMsZz10aGlzLm9wcG9zaXRlLGg9dGhpcy5vZmZzZXQsaT15KGUuc3R5bGUuZm9udFNpemV8fDEyKSxkPXtsb3c6ZisoYT8wOmQpLG1pZGRsZTpmK2QvMixoaWdoOmYrKGE/ZDowKX1bZS5hbGlnbl0sYj0oYT9jK3RoaXMuaGVpZ2h0OmIpKyhhPzE6LTEpKihnPy0xOjEpKnRoaXMuYXhpc1RpdGxlTWFyZ2luKygyPT09dGhpcy5zaWRlP2k6MCk7cmV0dXJue3g6YT9kOmIrKGc/dGhpcy53aWR0aDowKStoKyhlLnh8fDApLHk6YT9iLShnP3RoaXMuaGVpZ2h0OjApK2g6ZCsoZS55fHwwKX19LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBqLHYsQSxhPXRoaXMsYj1hLmhvcml6LGM9YS5yZXZlcnNlZCxkPWEuY2hhcnQsZT1kLnJlbmRlcmVyLGY9YS5vcHRpb25zLGc9YS5pc0xvZyxoPWEuaXNMaW5rZWQsaT1hLnRpY2tQb3NpdGlvbnMsaz1hLmF4aXNUaXRsZSxsPWEudGlja3Msbj1hLm1pbm9yVGlja3MsbT1hLmFsdGVybmF0ZUJhbmRzLG89Zi5zdGFja0xhYmVscyxwPWYuYWx0ZXJuYXRlR3JpZENvbG9yLEQ9YS50aWNrbWFya09mZnNldCxKPWYubGluZVdpZHRoLEM9ZC5oYXNSZW5kZXJlZCYmcyhhLm9sZE1pbikmJiFpc05hTihhLm9sZE1pbikscj1hLmhhc0RhdGEsdD1hLnNob3dBeGlzLHc9Zi5sYWJlbHMub3ZlcmZsb3cseD1hLmp1c3RpZnlMYWJlbHM9YiYmdyE9PSExO2EubGFiZWxFZGdlLmxlbmd0aD0wLGEuanVzdGlmeVRvUGxvdD0ianVzdGlmeSI9PT13LHEoW2wsbixtXSxmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSlhW2JdLmlzQWN0aXZlPSExfSksKHJ8fGgpJiYoYS5taW5vclRpY2tJbnRlcnZhbCYmIWEuY2F0ZWdvcmllcyYmcShhLmdldE1pbm9yVGlja1Bvc2l0aW9ucygpLGZ1bmN0aW9uKGIpe25bYl18fChuW2JdPW5ldyBUYShhLGIsIm1pbm9yIikpLEMmJm5bYl0uaXNOZXcmJm5bYl0ucmVuZGVyKG51bGwsITApLG5bYl0ucmVuZGVyKG51bGwsITEsMSl9KSxpLmxlbmd0aCYmKGo9aS5zbGljZSgpLChiJiZjfHwhYiYmIWMpJiZqLnJldmVyc2UoKSx4JiYoaj1qLnNsaWNlKDEpLmNvbmNhdChbalswXV0pKSxxKGosZnVuY3Rpb24oYixjKXt4JiYoYz1jPT09ai5sZW5ndGgtMT8wOmMrMSksKCFofHxiPj1hLm1pbiYmYjw9YS5tYXgpJiYobFtiXXx8KGxbYl09bmV3IFRhKGEsYikpLEMmJmxbYl0uaXNOZXcmJmxbYl0ucmVuZGVyKGMsITAsLjEpLGxbYl0ucmVuZGVyKGMpKX0pLEQmJjA9PT1hLm1pbiYmKGxbLTFdfHwobFstMV09bmV3IFRhKGEsLTEsbnVsbCwhMCkpLGxbLTFdLnJlbmRlcigtMSkpKSxwJiZxKGksZnVuY3Rpb24oYixjKXtjJTI9PT0wJiZiPGEubWF4JiYobVtiXXx8KG1bYl09bmV3IEsuUGxvdExpbmVPckJhbmQoYSkpLHY9YitELEE9aVtjKzFdIT09dT9pW2MrMV0rRDphLm1heCxtW2JdLm9wdGlvbnM9e2Zyb206Zz9rYSh2KTp2LHRvOmc/a2EoQSk6QSxjb2xvcjpwfSxtW2JdLnJlbmRlcigpLG1bYl0uaXNBY3RpdmU9ITApfSksYS5fYWRkZWRQbG90TEJ8fChxKChmLnBsb3RMaW5lc3x8W10pLmNvbmNhdChmLnBsb3RCYW5kc3x8W10pLGZ1bmN0aW9uKGIpe2EuYWRkUGxvdEJhbmRPckxpbmUoYil9KSxhLl9hZGRlZFBsb3RMQj0hMCkpLHEoW2wsbixtXSxmdW5jdGlvbihhKXt2YXIgYixjLGU9W10sZj12YT92YS5kdXJhdGlvbnx8NTAwOjAsZz1mdW5jdGlvbigpe2ZvcihjPWUubGVuZ3RoO2MtLTspYVtlW2NdXSYmIWFbZVtjXV0uaXNBY3RpdmUmJihhW2VbY11dLmRlc3Ryb3koKSxkZWxldGUgYVtlW2NdXSl9O2ZvcihiIGluIGEpYVtiXS5pc0FjdGl2ZXx8KGFbYl0ucmVuZGVyKGIsITEsMCksYVtiXS5pc0FjdGl2ZT0hMSxlLnB1c2goYikpO2EhPT1tJiZkLmhhc1JlbmRlcmVkJiZmP2YmJnNldFRpbWVvdXQoZyxmKTpnKCl9KSxKJiYoYj1hLmdldExpbmVQYXRoKEopLGEuYXhpc0xpbmU/YS5heGlzTGluZS5hbmltYXRlKHtkOmJ9KTphLmF4aXNMaW5lPWUucGF0aChiKS5hdHRyKHtzdHJva2U6Zi5saW5lQ29sb3IsInN0cm9rZS13aWR0aCI6Six6SW5kZXg6N30pLmFkZChhLmF4aXNHcm91cCksYS5heGlzTGluZVt0PyJzaG93IjoiaGlkZSJdKCkpLGsmJnQmJihrW2suaXNOZXc/ImF0dHIiOiJhbmltYXRlIl0oYS5nZXRUaXRsZVBvc2l0aW9uKCkpLGsuaXNOZXc9ITEpLG8mJm8uZW5hYmxlZCYmYS5yZW5kZXJTdGFja1RvdGFscygpLGEuaXNEaXJ0eT0hMX0scmVkcmF3OmZ1bmN0aW9uKCl7dGhpcy5yZW5kZXIoKSxxKHRoaXMucGxvdExpbmVzQW5kQmFuZHMsZnVuY3Rpb24oYSl7YS5yZW5kZXIoKX0pLHEodGhpcy5zZXJpZXMsZnVuY3Rpb24oYSl7YS5pc0RpcnR5PSEwfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dmFyIGQsYj10aGlzLGM9Yi5zdGFja3MsZT1iLnBsb3RMaW5lc0FuZEJhbmRzO2F8fFgoYik7Zm9yKGQgaW4gYylQYShjW2RdKSxjW2RdPW51bGw7Zm9yKHEoW2IudGlja3MsYi5taW5vclRpY2tzLGIuYWx0ZXJuYXRlQmFuZHNdLGZ1bmN0aW9uKGEpe1BhKGEpfSksYT1lLmxlbmd0aDthLS07KWVbYV0uZGVzdHJveSgpO3EoInN0YWNrVG90YWxHcm91cCxheGlzTGluZSxheGlzVGl0bGUsYXhpc0dyb3VwLGNyb3NzLGdyaWRHcm91cCxsYWJlbEdyb3VwIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKGEpe2JbYV0mJihiW2FdPWJbYV0uZGVzdHJveSgpKX0pLHRoaXMuY3Jvc3MmJnRoaXMuY3Jvc3MuZGVzdHJveSgpfSxkcmF3Q3Jvc3NoYWlyOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5jcm9zc2hhaXIpaWYoKHMoYil8fCFwKHRoaXMuY3Jvc3NoYWlyLnNuYXAsITApKT09PSExKXRoaXMuaGlkZUNyb3NzaGFpcigpO2Vsc2V7dmFyIGMsZD10aGlzLmNyb3NzaGFpcixlPWQuYW5pbWF0aW9uO3AoZC5zbmFwLCEwKT9zKGIpJiYoYz10aGlzLmNoYXJ0LmludmVydGVkIT10aGlzLmhvcml6P2IucGxvdFg6dGhpcy5sZW4tYi5wbG90WSk6Yz10aGlzLmhvcml6P2EuY2hhcnRYLXRoaXMucG9zOnRoaXMubGVuLWEuY2hhcnRZK3RoaXMucG9zLGM9dGhpcy5pc1JhZGlhbD90aGlzLmdldFBsb3RMaW5lUGF0aCh0aGlzLmlzWEF4aXM/Yi54OnAoYi5zdGFja1ksYi55KSk6dGhpcy5nZXRQbG90TGluZVBhdGgobnVsbCxudWxsLG51bGwsbnVsbCxjKSxudWxsPT09Yz90aGlzLmhpZGVDcm9zc2hhaXIoKTp0aGlzLmNyb3NzP3RoaXMuY3Jvc3MuYXR0cih7dmlzaWJpbGl0eToidmlzaWJsZSJ9KVtlPyJhbmltYXRlIjoiYXR0ciJdKHtkOmN9LGUpOihlPXsic3Ryb2tlLXdpZHRoIjpkLndpZHRofHwxLHN0cm9rZTpkLmNvbG9yfHwiI0MwQzBDMCIsekluZGV4OmQuekluZGV4fHwyfSxkLmRhc2hTdHlsZSYmKGUuZGFzaHN0eWxlPWQuZGFzaFN0eWxlKSx0aGlzLmNyb3NzPXRoaXMuY2hhcnQucmVuZGVyZXIucGF0aChjKS5hdHRyKGUpLmFkZCgpKX19LGhpZGVDcm9zc2hhaXI6ZnVuY3Rpb24oKXt0aGlzLmNyb3NzJiZ0aGlzLmNyb3NzLmhpZGUoKX19LHIobmEucHJvdG90eXBlLHtnZXRQbG90QmFuZFBhdGg6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFBsb3RMaW5lUGF0aChiKSxkPXRoaXMuZ2V0UGxvdExpbmVQYXRoKGEpO3JldHVybiBkJiZjP2QucHVzaChjWzRdLGNbNV0sY1sxXSxjWzJdKTpkPW51bGwsZH0sYWRkUGxvdEJhbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkUGxvdEJhbmRPckxpbmUoYSwicGxvdEJhbmRzIil9LGFkZFBsb3RMaW5lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZFBsb3RCYW5kT3JMaW5lKGEsInBsb3RMaW5lcyIpfSxhZGRQbG90QmFuZE9yTGluZTpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBLLlBsb3RMaW5lT3JCYW5kKHRoaXMsYSkucmVuZGVyKCksZD10aGlzLnVzZXJPcHRpb25zO3JldHVybiBjJiYoYiYmKGRbYl09ZFtiXXx8W10sZFtiXS5wdXNoKGEpKSx0aGlzLnBsb3RMaW5lc0FuZEJhbmRzLnB1c2goYykpLGN9LHJlbW92ZVBsb3RCYW5kT3JMaW5lOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLnBsb3RMaW5lc0FuZEJhbmRzLGM9dGhpcy5vcHRpb25zLGQ9dGhpcy51c2VyT3B0aW9ucyxlPWIubGVuZ3RoO2UtLTspYltlXS5pZD09PWEmJmJbZV0uZGVzdHJveSgpO3EoW2MucGxvdExpbmVzfHxbXSxkLnBsb3RMaW5lc3x8W10sYy5wbG90QmFuZHN8fFtdLGQucGxvdEJhbmRzfHxbXV0sZnVuY3Rpb24oYil7Zm9yKGU9Yi5sZW5ndGg7ZS0tOyliW2VdLmlkPT09YSYmbGEoYixiW2VdKX0pfX0pLG5hLnByb3RvdHlwZS5nZXRUaW1lVGlja3M9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGgsZT1bXSxmPXt9LGc9RS5nbG9iYWwudXNlVVRDLGk9bmV3IERhKGItU2EpLGo9YS51bml0UmFuZ2Usaz1hLmNvdW50O2lmKHMoYikpe2o+PUEuc2Vjb25kJiYoaS5zZXRNaWxsaXNlY29uZHMoMCksaS5zZXRTZWNvbmRzKGo+PUEubWludXRlPzA6aypVKGkuZ2V0U2Vjb25kcygpL2spKSksaj49QS5taW51dGUmJmlbQ2JdKGo+PUEuaG91cj8wOmsqVShpW3BiXSgpL2spKSxqPj1BLmhvdXImJmlbRGJdKGo+PUEuZGF5PzA6aypVKGlbcWJdKCkvaykpLGo+PUEuZGF5JiZpW3NiXShqPj1BLm1vbnRoPzE6aypVKGlbWGFdKCkvaykpLGo+PUEubW9udGgmJihpW0ViXShqPj1BLnllYXI/MDprKlUoaVtmYl0oKS9rKSksaD1pW2diXSgpKSxqPj1BLnllYXImJihoLT1oJWssaVtGYl0oaCkpLGo9PT1BLndlZWsmJmlbc2JdKGlbWGFdKCktaVtyYl0oKStwKGQsMSkpLGI9MSxTYSYmKGk9bmV3IERhKGkuZ2V0VGltZSgpK1NhKSksaD1pW2diXSgpO2Zvcih2YXIgZD1pLmdldFRpbWUoKSxsPWlbZmJdKCksbj1pW1hhXSgpLG09KEEuZGF5KyhnP1NhOjZlNCppLmdldFRpbWV6b25lT2Zmc2V0KCkpKSVBLmRheTtjPmQ7KWUucHVzaChkKSxqPT09QS55ZWFyP2Q9ZWIoaCtiKmssMCk6aj09PUEubW9udGg/ZD1lYihoLGwrYiprKTpnfHxqIT09QS5kYXkmJmohPT1BLndlZWs/ZCs9aiprOmQ9ZWIoaCxsLG4rYiprKihqPT09QS5kYXk/MTo3KSksYisrO2UucHVzaChkKSxxKHdiKGUsZnVuY3Rpb24oYSl7cmV0dXJuIGo8PUEuaG91ciYmYSVBLmRheT09PW19KSxmdW5jdGlvbihhKXtmW2FdPSJkYXkifSl9cmV0dXJuIGUuaW5mbz1yKGEse2hpZ2hlclJhbmtzOmYsdG90YWxSYW5nZTpqKmt9KSxlfSxuYS5wcm90b3R5cGUubm9ybWFsaXplVGltZVRpY2tJbnRlcnZhbD1mdW5jdGlvbihhLGIpe3ZhciBnLGM9Ynx8W1sibWlsbGlzZWNvbmQiLFsxLDIsNSwxMCwyMCwyNSw1MCwxMDAsMjAwLDUwMF1dLFsic2Vjb25kIixbMSwyLDUsMTAsMTUsMzBdXSxbIm1pbnV0ZSIsWzEsMiw1LDEwLDE1LDMwXV0sWyJob3VyIixbMSwyLDMsNCw2LDgsMTJdXSxbImRheSIsWzEsMl1dLFsid2VlayIsWzEsMl1dLFsibW9udGgiLFsxLDIsMyw0LDZdXSxbInllYXIiLG51bGxdXSxkPWNbYy5sZW5ndGgtMV0sZT1BW2RbMF1dLGY9ZFsxXTtmb3IoZz0wO2c8Yy5sZW5ndGgmJihkPWNbZ10sZT1BW2RbMF1dLGY9ZFsxXSwhKGNbZysxXSYmYTw9KGUqZltmLmxlbmd0aC0xXStBW2NbZysxXVswXV0pLzIpKTtnKyspO3JldHVybiBlPT09QS55ZWFyJiY1KmU+YSYmKGY9WzEsMiw1XSksYz1uYihhL2UsZiwieWVhciI9PT1kWzBdP3QobWIoYS9lKSwxKToxKSx7dW5pdFJhbmdlOmUsY291bnQ6Yyx1bml0TmFtZTpkWzBdfX0sbmEucHJvdG90eXBlLmdldExvZ1RpY2tQb3NpdGlvbnM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5vcHRpb25zLGY9dGhpcy5sZW4sZz1bXTtpZihkfHwodGhpcy5fbWlub3JBdXRvSW50ZXJ2YWw9bnVsbCksYT49LjUpYT12KGEpLGc9dGhpcy5nZXRMaW5lYXJUaWNrUG9zaXRpb25zKGEsYixjKTtlbHNlIGlmKGE+PS4wOClmb3IodmFyIGgsaSxqLGssbCxmPVUoYiksZT1hPi4zP1sxLDIsNF06YT4uMTU/WzEsMiw0LDYsOF06WzEsMiwzLDQsNSw2LDcsOCw5XTtjKzE+ZiYmIWw7ZisrKWZvcihpPWUubGVuZ3RoLGg9MDtpPmgmJiFsO2grKylqPXphKGthKGYpKmVbaF0pLGo+YiYmKCFkfHxjPj1rKSYmayE9PXUmJmcucHVzaChrKSxrPmMmJihsPSEwKSxrPWo7ZWxzZSBiPWthKGIpLGM9a2EoYyksYT1lW2Q/Im1pbm9yVGlja0ludGVydmFsIjoidGlja0ludGVydmFsIl0sYT1wKCJhdXRvIj09PWE/bnVsbDphLHRoaXMuX21pbm9yQXV0b0ludGVydmFsLChjLWIpKihlLnRpY2tQaXhlbEludGVydmFsLyhkPzU6MSkpLygoZD9mL3RoaXMudGlja1Bvc2l0aW9ucy5sZW5ndGg6Zil8fDEpKSxhPW5iKGEsbnVsbCxtYihhKSksZz1WYSh0aGlzLmdldExpbmVhclRpY2tQb3NpdGlvbnMoYSxiLGMpLHphKSxkfHwodGhpcy5fbWlub3JBdXRvSW50ZXJ2YWw9YS81KTtyZXR1cm4gZHx8KHRoaXMudGlja0ludGVydmFsPWEpLGd9O3ZhciBOYj1LLlRvb2x0aXA9ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtOYi5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmJvcmRlcldpZHRoLGQ9Yi5zdHlsZSxlPXkoZC5wYWRkaW5nKTt0aGlzLmNoYXJ0PWEsdGhpcy5vcHRpb25zPWIsdGhpcy5jcm9zc2hhaXJzPVtdLHRoaXMubm93PXt4OjAseTowfSx0aGlzLmlzSGlkZGVuPSEwLHRoaXMubGFiZWw9YS5yZW5kZXJlci5sYWJlbCgiIiwwLDAsYi5zaGFwZXx8ImNhbGxvdXQiLG51bGwsbnVsbCxiLnVzZUhUTUwsbnVsbCwidG9vbHRpcCIpLmF0dHIoe3BhZGRpbmc6ZSxmaWxsOmIuYmFja2dyb3VuZENvbG9yLCJzdHJva2Utd2lkdGgiOmMscjpiLmJvcmRlclJhZGl1cyx6SW5kZXg6OH0pLmNzcyhkKS5jc3Moe3BhZGRpbmc6MH0pLmFkZCgpLmF0dHIoe3k6LTk5OTl9KSxnYXx8dGhpcy5sYWJlbC5zaGFkb3coYi5zaGFkb3cpLHRoaXMuc2hhcmVkPWIuc2hhcmVkfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5sYWJlbCYmKHRoaXMubGFiZWw9dGhpcy5sYWJlbC5kZXN0cm95KCkpLGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lciksY2xlYXJUaW1lb3V0KHRoaXMudG9vbHRpcFRpbWVvdXQpfSxtb3ZlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMsZj1lLm5vdyxnPWUub3B0aW9ucy5hbmltYXRpb24hPT0hMSYmIWUuaXNIaWRkZW4mJihRKGEtZi54KT4xfHxRKGItZi55KT4xKSxoPWUuZm9sbG93UG9pbnRlcnx8ZS5sZW4+MTtyKGYse3g6Zz8oMipmLngrYSkvMzphLHk6Zz8oZi55K2IpLzI6YixhbmNob3JYOmg/dTpnPygyKmYuYW5jaG9yWCtjKS8zOmMsYW5jaG9yWTpoP3U6Zz8oZi5hbmNob3JZK2QpLzI6ZH0pLGUubGFiZWwuYXR0cihmKSxnJiYoY2xlYXJUaW1lb3V0KHRoaXMudG9vbHRpcFRpbWVvdXQpLHRoaXMudG9vbHRpcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UmJmUubW92ZShhLGIsYyxkKX0sMzIpKX0saGlkZTpmdW5jdGlvbihhKXt2YXIgYyxiPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKSx0aGlzLmlzSGlkZGVufHwoYz10aGlzLmNoYXJ0LmhvdmVyUG9pbnRzLHRoaXMuaGlkZVRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmxhYmVsLmZhZGVPdXQoKSxiLmlzSGlkZGVuPSEwfSxwKGEsdGhpcy5vcHRpb25zLmhpZGVEZWxheSw1MDApKSxjJiZxKGMsZnVuY3Rpb24oYSl7YS5zZXRTdGF0ZSgpfSksdGhpcy5jaGFydC5ob3ZlclBvaW50cz1udWxsKX0sZ2V0QW5jaG9yOmZ1bmN0aW9uKGEsYil7dmFyIGMsaSxkPXRoaXMuY2hhcnQsZT1kLmludmVydGVkLGY9ZC5wbG90VG9wLGc9MCxoPTAsYT1yYShhKTtyZXR1cm4gYz1hWzBdLnRvb2x0aXBQb3MsdGhpcy5mb2xsb3dQb2ludGVyJiZiJiYoYi5jaGFydFg9PT11JiYoYj1kLnBvaW50ZXIubm9ybWFsaXplKGIpKSxjPVtiLmNoYXJ0WC1kLnBsb3RMZWZ0LGIuY2hhcnRZLWZdKSxjfHwocShhLGZ1bmN0aW9uKGEpe2k9YS5zZXJpZXMueUF4aXMsZys9YS5wbG90WCxoKz0oYS5wbG90TG93PyhhLnBsb3RMb3crYS5wbG90SGlnaCkvMjphLnBsb3RZKSsoIWUmJmk/aS50b3AtZjowKX0pLGcvPWEubGVuZ3RoLGgvPWEubGVuZ3RoLGM9W2U/ZC5wbG90V2lkdGgtaDpnLHRoaXMuc2hhcmVkJiYhZSYmYS5sZW5ndGg+MSYmYj9iLmNoYXJ0WS1mOmU/ZC5wbG90SGVpZ2h0LWc6aF0pLFZhKGMsdil9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZyxkPXRoaXMuY2hhcnQsZT10aGlzLmRpc3RhbmNlLGY9e30saD1bInkiLGQuY2hhcnRIZWlnaHQsYixjLnBsb3RZK2QucGxvdFRvcF0saT1bIngiLGQuY2hhcnRXaWR0aCxhLGMucGxvdFgrZC5wbG90TGVmdF0saj1jLnR0QmVsb3d8fGQuaW52ZXJ0ZWQmJiFjLm5lZ2F0aXZlfHwhZC5pbnZlcnRlZCYmYy5uZWdhdGl2ZSxrPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBnPWQtZT5jLGI9Yj5kK2UrYyxjPWQtZS1jO2lmKGQrPWUsaiYmYilmW2FdPWQ7ZWxzZSBpZighaiYmZylmW2FdPWM7ZWxzZSBpZihnKWZbYV09YztlbHNle2lmKCFiKXJldHVybiExO2ZbYV09ZH19LGw9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGU+ZHx8ZD5iLWU/ITE6dm9pZChmW2FdPWMvMj5kPzE6ZD5iLWMvMj9iLWMtMjpkLWMvMil9LG49ZnVuY3Rpb24oYSl7dmFyIGI9aDtoPWksaT1iLGc9YX0sbT1mdW5jdGlvbigpe2suYXBwbHkoMCxoKSE9PSExP2wuYXBwbHkoMCxpKT09PSExJiYhZyYmKG4oITApLG0oKSk6Zz9mLng9Zi55PTA6KG4oITApLG0oKSl9O3JldHVybihkLmludmVydGVkfHx0aGlzLmxlbj4xKSYmbigpLG0oKSxmfSxkZWZhdWx0Rm9ybWF0dGVyOmZ1bmN0aW9uKGEpe3ZhciBkLGI9dGhpcy5wb2ludHN8fHJhKHRoaXMpLGM9YlswXS5zZXJpZXM7cmV0dXJuIGQ9W2EudG9vbHRpcEhlYWRlckZvcm1hdHRlcihiWzBdKV0scShiLGZ1bmN0aW9uKGEpe2M9YS5zZXJpZXMsZC5wdXNoKGMudG9vbHRpcEZvcm1hdHRlciYmYy50b29sdGlwRm9ybWF0dGVyKGEpfHxhLnBvaW50LnRvb2x0aXBGb3JtYXR0ZXIoYy50b29sdGlwT3B0aW9ucy5wb2ludEZvcm1hdCkpfSksZC5wdXNoKGEub3B0aW9ucy5mb290ZXJGb3JtYXR8fCIiKSxkLmpvaW4oIiIpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dmFyIGYsZyxpLGM9dGhpcy5jaGFydCxkPXRoaXMubGFiZWwsZT10aGlzLm9wdGlvbnMsaD17fSxqPVtdO2k9ZS5mb3JtYXR0ZXJ8fHRoaXMuZGVmYXVsdEZvcm1hdHRlcjt2YXIgayxoPWMuaG92ZXJQb2ludHMsbD10aGlzLnNoYXJlZDtjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZXIpLHRoaXMuZm9sbG93UG9pbnRlcj1yYShhKVswXS5zZXJpZXMudG9vbHRpcE9wdGlvbnMuZm9sbG93UG9pbnRlcixnPXRoaXMuZ2V0QW5jaG9yKGEsYiksZj1nWzBdLGc9Z1sxXSwhbHx8YS5zZXJpZXMmJmEuc2VyaWVzLm5vU2hhcmVkVG9vbHRpcD9oPWEuZ2V0TGFiZWxDb25maWcoKTooYy5ob3ZlclBvaW50cz1hLGgmJnEoaCxmdW5jdGlvbihhKXthLnNldFN0YXRlKCl9KSxxKGEsZnVuY3Rpb24oYSl7YS5zZXRTdGF0ZSgiaG92ZXIiKSxqLnB1c2goYS5nZXRMYWJlbENvbmZpZygpKX0pLGg9e3g6YVswXS5jYXRlZ29yeSx5OmFbMF0ueX0saC5wb2ludHM9aix0aGlzLmxlbj1qLmxlbmd0aCxhPWFbMF0pLGk9aS5jYWxsKGgsdGhpcyksaD1hLnNlcmllcyx0aGlzLmRpc3RhbmNlPXAoaC50b29sdGlwT3B0aW9ucy5kaXN0YW5jZSwxNiksaT09PSExP3RoaXMuaGlkZSgpOih0aGlzLmlzSGlkZGVuJiYoYmIoZCksZC5hdHRyKCJvcGFjaXR5IiwxKS5zaG93KCkpLGQuYXR0cih7dGV4dDppfSksaz1lLmJvcmRlckNvbG9yfHxhLmNvbG9yfHxoLmNvbG9yfHwiIzYwNjA2MCIsZC5hdHRyKHtzdHJva2U6a30pLHRoaXMudXBkYXRlUG9zaXRpb24oe3Bsb3RYOmYscGxvdFk6ZyxuZWdhdGl2ZTphLm5lZ2F0aXZlLHR0QmVsb3c6YS50dEJlbG93fSksdGhpcy5pc0hpZGRlbj0hMSksSShjLCJ0b29sdGlwUmVmcmVzaCIse3RleHQ6aSx4OmYrYy5wbG90TGVmdCx5OmcrYy5wbG90VG9wLGJvcmRlckNvbG9yOmt9KX0sdXBkYXRlUG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPXRoaXMubGFiZWwsYz0odGhpcy5vcHRpb25zLnBvc2l0aW9uZXJ8fHRoaXMuZ2V0UG9zaXRpb24pLmNhbGwodGhpcyxjLndpZHRoLGMuaGVpZ2h0LGEpO3RoaXMubW92ZSh2KGMueCksdihjLnkpLGEucGxvdFgrYi5wbG90TGVmdCxhLnBsb3RZK2IucGxvdFRvcCl9LHRvb2x0aXBIZWFkZXJGb3JtYXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIGgsYj1hLnNlcmllcyxjPWIudG9vbHRpcE9wdGlvbnMsZD1jLmRhdGVUaW1lTGFiZWxGb3JtYXRzLGU9Yy54RGF0ZUZvcm1hdCxmPWIueEF4aXMsZz1mJiYiZGF0ZXRpbWUiPT09Zi5vcHRpb25zLnR5cGUmJmphKGEua2V5KSxjPWMuaGVhZGVyRm9ybWF0LGY9ZiYmZi5jbG9zZXN0UG9pbnRSYW5nZTtpZihnJiYhZSl7aWYoZil7Zm9yKGggaW4gQSlpZihBW2hdPj1mfHxBW2hdPD1BLmRheSYmYS5rZXklQVtoXT4wKXtlPWRbaF07YnJlYWt9fWVsc2UgZT1kLmRheTtlPWV8fGQueWVhcn1yZXR1cm4gZyYmZSYmKGM9Yy5yZXBsYWNlKCJ7cG9pbnQua2V5fSIsIntwb2ludC5rZXk6IitlKyJ9IikpLEphKGMse3BvaW50OmEsc2VyaWVzOmJ9KX19O3ZhciBwYTskYT14LmRvY3VtZW50RWxlbWVudC5vbnRvdWNoc3RhcnQhPT11O3ZhciBXYT1LLlBvaW50ZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXQoYSxiKX07aWYoV2EucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGEsYil7dmFyIGYsYz1iLmNoYXJ0LGQ9Yy5ldmVudHMsZT1nYT8iIjpjLnpvb21UeXBlLGM9YS5pbnZlcnRlZDt0aGlzLm9wdGlvbnM9Yix0aGlzLmNoYXJ0PWEsdGhpcy56b29tWD1mPS94Ly50ZXN0KGUpLHRoaXMuem9vbVk9ZT0veS8udGVzdChlKSx0aGlzLnpvb21Ib3I9ZiYmIWN8fGUmJmMsdGhpcy56b29tVmVydD1lJiYhY3x8ZiYmYyx0aGlzLmhhc1pvb209Znx8ZSx0aGlzLnJ1bkNoYXJ0Q2xpY2s9ZCYmISFkLmNsaWNrLHRoaXMucGluY2hEb3duPVtdLHRoaXMubGFzdFZhbGlkVG91Y2g9e30sSy5Ub29sdGlwJiZiLnRvb2x0aXAuZW5hYmxlZCYmKGEudG9vbHRpcD1uZXcgTmIoYSxiLnRvb2x0aXApLHRoaXMuZm9sbG93VG91Y2hNb3ZlPWIudG9vbHRpcC5mb2xsb3dUb3VjaE1vdmUpLHRoaXMuc2V0RE9NRXZlbnRzKCl9LG5vcm1hbGl6ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsYT1hfHx3aW5kb3cuZXZlbnQsYT1UYihhKTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1hLnNyY0VsZW1lbnQpLGQ9YS50b3VjaGVzP2EudG91Y2hlcy5sZW5ndGg/YS50b3VjaGVzLml0ZW0oMCk6YS5jaGFuZ2VkVG91Y2hlc1swXTphLGJ8fCh0aGlzLmNoYXJ0UG9zaXRpb249Yj1TYih0aGlzLmNoYXJ0LmNvbnRhaW5lcikpLGQucGFnZVg9PT11PyhjPXQoYS54LGEuY2xpZW50WC1iLmxlZnQpLGQ9YS55KTooYz1kLnBhZ2VYLWIubGVmdCxkPWQucGFnZVktYi50b3ApLHIoYSx7Y2hhcnRYOnYoYyksY2hhcnRZOnYoZCl9KX0sZ2V0Q29vcmRpbmF0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e3hBeGlzOltdLHlBeGlzOltdfTtyZXR1cm4gcSh0aGlzLmNoYXJ0LmF4ZXMsZnVuY3Rpb24oYyl7YltjLmlzWEF4aXM/InhBeGlzIjoieUF4aXMiXS5wdXNoKHtheGlzOmMsdmFsdWU6Yy50b1ZhbHVlKGFbYy5ob3Jpej8iY2hhcnRYIjoiY2hhcnRZIl0pfSl9KSxifSxnZXRJbmRleDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0O3JldHVybiBiLmludmVydGVkP2IucGxvdEhlaWdodCtiLnBsb3RUb3AtYS5jaGFydFk6YS5jaGFydFgtYi5wbG90TGVmdH0scnVuUG9pbnRBY3Rpb25zOmZ1bmN0aW9uKGEpe3ZhciBlLGYsaSxqLGI9dGhpcy5jaGFydCxjPWIuc2VyaWVzLGQ9Yi50b29sdGlwLGc9Yi5ob3ZlclBvaW50LGg9Yi5ob3ZlclNlcmllcyxrPWIuY2hhcnRXaWR0aCxsPXRoaXMuZ2V0SW5kZXgoYSk7aWYoZCYmdGhpcy5vcHRpb25zLnRvb2x0aXAuc2hhcmVkJiYoIWh8fCFoLm5vU2hhcmVkVG9vbHRpcCkpe2ZvcihmPVtdLGk9Yy5sZW5ndGgsaj0wO2k+ajtqKyspY1tqXS52aXNpYmxlJiZjW2pdLm9wdGlvbnMuZW5hYmxlTW91c2VUcmFja2luZyE9PSExJiYhY1tqXS5ub1NoYXJlZFRvb2x0aXAmJmNbal0uc2luZ3VsYXJUb29sdGlwcyE9PSEwJiZjW2pdLnRvb2x0aXBQb2ludHMubGVuZ3RoJiYoZT1jW2pdLnRvb2x0aXBQb2ludHNbbF0pJiZlLnNlcmllcyYmKGUuX2Rpc3Q9UShsLWUuY2xpZW50WCksaz1MKGssZS5fZGlzdCksZi5wdXNoKGUpKTsKZm9yKGk9Zi5sZW5ndGg7aS0tOylmW2ldLl9kaXN0PmsmJmYuc3BsaWNlKGksMSk7Zi5sZW5ndGgmJmZbMF0uY2xpZW50WCE9PXRoaXMuaG92ZXJYJiYoZC5yZWZyZXNoKGYsYSksdGhpcy5ob3Zlclg9ZlswXS5jbGllbnRYKX1jPWgmJmgudG9vbHRpcE9wdGlvbnMuZm9sbG93UG9pbnRlcixoJiZoLnRyYWNrZXImJiFjPyhlPWgudG9vbHRpcFBvaW50c1tsXSkmJmUhPT1nJiZlLm9uTW91c2VPdmVyKGEpOmQmJmMmJiFkLmlzSGlkZGVuJiYoaD1kLmdldEFuY2hvcihbe31dLGEpLGQudXBkYXRlUG9zaXRpb24oe3Bsb3RYOmhbMF0scGxvdFk6aFsxXX0pKSxkJiYhdGhpcy5fb25Eb2N1bWVudE1vdXNlTW92ZSYmKHRoaXMuX29uRG9jdW1lbnRNb3VzZU1vdmU9ZnVuY3Rpb24oYSl7V1twYV0mJldbcGFdLnBvaW50ZXIub25Eb2N1bWVudE1vdXNlTW92ZShhKX0sTih4LCJtb3VzZW1vdmUiLHRoaXMuX29uRG9jdW1lbnRNb3VzZU1vdmUpKSxxKGIuYXhlcyxmdW5jdGlvbihiKXtiLmRyYXdDcm9zc2hhaXIoYSxwKGUsZykpfSl9LHJlc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGFydCxkPWMuaG92ZXJTZXJpZXMsZT1jLmhvdmVyUG9pbnQsZj1jLnRvb2x0aXAsZz1mJiZmLnNoYXJlZD9jLmhvdmVyUG9pbnRzOmU7KGE9YSYmZiYmZykmJnJhKGcpWzBdLnBsb3RYPT09dSYmKGE9ITEpLGE/KGYucmVmcmVzaChnKSxlJiZlLnNldFN0YXRlKGUuc3RhdGUsITApKTooZSYmZS5vbk1vdXNlT3V0KCksZCYmZC5vbk1vdXNlT3V0KCksZiYmZi5oaWRlKGIpLHRoaXMuX29uRG9jdW1lbnRNb3VzZU1vdmUmJihYKHgsIm1vdXNlbW92ZSIsdGhpcy5fb25Eb2N1bWVudE1vdXNlTW92ZSksdGhpcy5fb25Eb2N1bWVudE1vdXNlTW92ZT1udWxsKSxxKGMuYXhlcyxmdW5jdGlvbihhKXthLmhpZGVDcm9zc2hhaXIoKX0pLHRoaXMuaG92ZXJYPW51bGwpfSxzY2FsZUdyb3VwczpmdW5jdGlvbihhLGIpe3ZhciBkLGM9dGhpcy5jaGFydDtxKGMuc2VyaWVzLGZ1bmN0aW9uKGUpe2Q9YXx8ZS5nZXRQbG90Qm94KCksZS54QXhpcyYmZS54QXhpcy56b29tRW5hYmxlZCYmKGUuZ3JvdXAuYXR0cihkKSxlLm1hcmtlckdyb3VwJiYoZS5tYXJrZXJHcm91cC5hdHRyKGQpLGUubWFya2VyR3JvdXAuY2xpcChiP2MuY2xpcFJlY3Q6bnVsbCkpLGUuZGF0YUxhYmVsc0dyb3VwJiZlLmRhdGFMYWJlbHNHcm91cC5hdHRyKGQpKX0pLGMuY2xpcFJlY3QuYXR0cihifHxjLmNsaXBCb3gpfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydDtiLm1vdXNlSXNEb3duPWEudHlwZSxiLmNhbmNlbENsaWNrPSExLGIubW91c2VEb3duWD10aGlzLm1vdXNlRG93blg9YS5jaGFydFgsYi5tb3VzZURvd25ZPXRoaXMubW91c2VEb3duWT1hLmNoYXJ0WX0sZHJhZzpmdW5jdGlvbihhKXt2YXIgbCxiPXRoaXMuY2hhcnQsYz1iLm9wdGlvbnMuY2hhcnQsZD1hLmNoYXJ0WCxlPWEuY2hhcnRZLGY9dGhpcy56b29tSG9yLGc9dGhpcy56b29tVmVydCxoPWIucGxvdExlZnQsaT1iLnBsb3RUb3Asaj1iLnBsb3RXaWR0aCxrPWIucGxvdEhlaWdodCxuPXRoaXMubW91c2VEb3duWCxtPXRoaXMubW91c2VEb3duWSxvPWMucGFuS2V5JiZhW2MucGFuS2V5KyJLZXkiXTtoPmQ/ZD1oOmQ+aCtqJiYoZD1oK2opLGk+ZT9lPWk6ZT5pK2smJihlPWkrayksdGhpcy5oYXNEcmFnZ2VkPU1hdGguc3FydChNYXRoLnBvdyhuLWQsMikrTWF0aC5wb3cobS1lLDIpKSx0aGlzLmhhc0RyYWdnZWQ+MTAmJihsPWIuaXNJbnNpZGVQbG90KG4taCxtLWkpLGIuaGFzQ2FydGVzaWFuU2VyaWVzJiYodGhpcy56b29tWHx8dGhpcy56b29tWSkmJmwmJiFvJiYhdGhpcy5zZWxlY3Rpb25NYXJrZXImJih0aGlzLnNlbGVjdGlvbk1hcmtlcj1iLnJlbmRlcmVyLnJlY3QoaCxpLGY/MTpqLGc/MTprLDApLmF0dHIoe2ZpbGw6Yy5zZWxlY3Rpb25NYXJrZXJGaWxsfHwicmdiYSg2OSwxMTQsMTY3LDAuMjUpIix6SW5kZXg6N30pLmFkZCgpKSx0aGlzLnNlbGVjdGlvbk1hcmtlciYmZiYmKGQtPW4sdGhpcy5zZWxlY3Rpb25NYXJrZXIuYXR0cih7d2lkdGg6UShkKSx4OihkPjA/MDpkKStufSkpLHRoaXMuc2VsZWN0aW9uTWFya2VyJiZnJiYoZD1lLW0sdGhpcy5zZWxlY3Rpb25NYXJrZXIuYXR0cih7aGVpZ2h0OlEoZCkseTooZD4wPzA6ZCkrbX0pKSxsJiYhdGhpcy5zZWxlY3Rpb25NYXJrZXImJmMucGFubmluZyYmYi5wYW4oYSxjLnBhbm5pbmcpKX0sZHJvcDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9dGhpcy5oYXNQaW5jaGVkO2lmKHRoaXMuc2VsZWN0aW9uTWFya2VyKXt2YXIgaixkPXt4QXhpczpbXSx5QXhpczpbXSxvcmlnaW5hbEV2ZW50OmEub3JpZ2luYWxFdmVudHx8YX0sZT10aGlzLnNlbGVjdGlvbk1hcmtlcixmPWUuYXR0cj9lLmF0dHIoIngiKTplLngsZz1lLmF0dHI/ZS5hdHRyKCJ5Iik6ZS55LGg9ZS5hdHRyP2UuYXR0cigid2lkdGgiKTplLndpZHRoLGk9ZS5hdHRyP2UuYXR0cigiaGVpZ2h0Iik6ZS5oZWlnaHQ7KHRoaXMuaGFzRHJhZ2dlZHx8YykmJihxKGIuYXhlcyxmdW5jdGlvbihiKXtpZihiLnpvb21FbmFibGVkKXt2YXIgYz1iLmhvcml6LGU9InRvdWNoZW5kIj09PWEudHlwZT9iLm1pblBpeGVsUGFkZGluZzowLG09Yi50b1ZhbHVlKChjP2Y6ZykrZSksYz1iLnRvVmFsdWUoKGM/ZitoOmcraSktZSk7IWlzTmFOKG0pJiYhaXNOYU4oYykmJihkW2IuY29sbF0ucHVzaCh7YXhpczpiLG1pbjpMKG0sYyksbWF4OnQobSxjKX0pLGo9ITApfX0pLGomJkkoYiwic2VsZWN0aW9uIixkLGZ1bmN0aW9uKGEpe2Iuem9vbShyKGEsYz97YW5pbWF0aW9uOiExfTpudWxsKSl9KSksdGhpcy5zZWxlY3Rpb25NYXJrZXI9dGhpcy5zZWxlY3Rpb25NYXJrZXIuZGVzdHJveSgpLGMmJnRoaXMuc2NhbGVHcm91cHMoKX1iJiYoQihiLmNvbnRhaW5lcix7Y3Vyc29yOmIuX2N1cnNvcn0pLGIuY2FuY2VsQ2xpY2s9dGhpcy5oYXNEcmFnZ2VkPjEwLGIubW91c2VJc0Rvd249dGhpcy5oYXNEcmFnZ2VkPXRoaXMuaGFzUGluY2hlZD0hMSx0aGlzLnBpbmNoRG93bj1bXSl9LG9uQ29udGFpbmVyTW91c2VEb3duOmZ1bmN0aW9uKGEpe2E9dGhpcy5ub3JtYWxpemUoYSksYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZHJhZ1N0YXJ0KGEpfSxvbkRvY3VtZW50TW91c2VVcDpmdW5jdGlvbihhKXtXW3BhXSYmV1twYV0ucG9pbnRlci5kcm9wKGEpfSxvbkRvY3VtZW50TW91c2VNb3ZlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsYz10aGlzLmNoYXJ0UG9zaXRpb24sZD1iLmhvdmVyU2VyaWVzLGE9dGhpcy5ub3JtYWxpemUoYSxjKTtjJiZkJiYhdGhpcy5pbkNsYXNzKGEudGFyZ2V0LCJoaWdoY2hhcnRzLXRyYWNrZXIiKSYmIWIuaXNJbnNpZGVQbG90KGEuY2hhcnRYLWIucGxvdExlZnQsYS5jaGFydFktYi5wbG90VG9wKSYmdGhpcy5yZXNldCgpfSxvbkNvbnRhaW5lck1vdXNlTGVhdmU6ZnVuY3Rpb24oKXt2YXIgYT1XW3BhXTthJiYoYS5wb2ludGVyLnJlc2V0KCksYS5wb2ludGVyLmNoYXJ0UG9zaXRpb249bnVsbCl9LG9uQ29udGFpbmVyTW91c2VNb3ZlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQ7cGE9Yi5pbmRleCxhPXRoaXMubm9ybWFsaXplKGEpLGEucmV0dXJuVmFsdWU9ITEsIm1vdXNlZG93biI9PT1iLm1vdXNlSXNEb3duJiZ0aGlzLmRyYWcoYSksKHRoaXMuaW5DbGFzcyhhLnRhcmdldCwiaGlnaGNoYXJ0cy10cmFja2VyIil8fGIuaXNJbnNpZGVQbG90KGEuY2hhcnRYLWIucGxvdExlZnQsYS5jaGFydFktYi5wbG90VG9wKSkmJiFiLm9wZW5NZW51JiZ0aGlzLnJ1blBvaW50QWN0aW9ucyhhKX0saW5DbGFzczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYzthOyl7aWYoYz1GKGEsImNsYXNzIikpe2lmKC0xIT09Yy5pbmRleE9mKGIpKXJldHVybiEwO2lmKC0xIT09Yy5pbmRleE9mKCJoaWdoY2hhcnRzLWNvbnRhaW5lciIpKXJldHVybiExfWE9YS5wYXJlbnROb2RlfX0sb25UcmFja2VyTW91c2VPdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydC5ob3ZlclNlcmllcyxjPShhPWEucmVsYXRlZFRhcmdldHx8YS50b0VsZW1lbnQpJiZhLnBvaW50JiZhLnBvaW50LnNlcmllczshYnx8Yi5vcHRpb25zLnN0aWNreVRyYWNraW5nfHx0aGlzLmluQ2xhc3MoYSwiaGlnaGNoYXJ0cy10b29sdGlwIil8fGM9PT1ifHxiLm9uTW91c2VPdXQoKX0sb25Db250YWluZXJDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9Yi5ob3ZlclBvaW50LGQ9Yi5wbG90TGVmdCxlPWIucGxvdFRvcCxhPXRoaXMubm9ybWFsaXplKGEpO2EuY2FuY2VsQnViYmxlPSEwLGIuY2FuY2VsQ2xpY2t8fChjJiZ0aGlzLmluQ2xhc3MoYS50YXJnZXQsImhpZ2hjaGFydHMtdHJhY2tlciIpPyhJKGMuc2VyaWVzLCJjbGljayIscihhLHtwb2ludDpjfSkpLGIuaG92ZXJQb2ludCYmYy5maXJlUG9pbnRFdmVudCgiY2xpY2siLGEpKToocihhLHRoaXMuZ2V0Q29vcmRpbmF0ZXMoYSkpLGIuaXNJbnNpZGVQbG90KGEuY2hhcnRYLWQsYS5jaGFydFktZSkmJkkoYiwiY2xpY2siLGEpKSl9LHNldERPTUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0LmNvbnRhaW5lcjtiLm9ubW91c2Vkb3duPWZ1bmN0aW9uKGIpe2Eub25Db250YWluZXJNb3VzZURvd24oYil9LGIub25tb3VzZW1vdmU9ZnVuY3Rpb24oYil7YS5vbkNvbnRhaW5lck1vdXNlTW92ZShiKX0sYi5vbmNsaWNrPWZ1bmN0aW9uKGIpe2Eub25Db250YWluZXJDbGljayhiKX0sTihiLCJtb3VzZWxlYXZlIixhLm9uQ29udGFpbmVyTW91c2VMZWF2ZSksMT09PWFiJiZOKHgsIm1vdXNldXAiLGEub25Eb2N1bWVudE1vdXNlVXApLCRhJiYoYi5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24oYil7YS5vbkNvbnRhaW5lclRvdWNoU3RhcnQoYil9LGIub250b3VjaG1vdmU9ZnVuY3Rpb24oYil7YS5vbkNvbnRhaW5lclRvdWNoTW92ZShiKX0sMT09PWFiJiZOKHgsInRvdWNoZW5kIixhLm9uRG9jdW1lbnRUb3VjaEVuZCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE7WCh0aGlzLmNoYXJ0LmNvbnRhaW5lciwibW91c2VsZWF2ZSIsdGhpcy5vbkNvbnRhaW5lck1vdXNlTGVhdmUpLGFifHwoWCh4LCJtb3VzZXVwIix0aGlzLm9uRG9jdW1lbnRNb3VzZVVwKSxYKHgsInRvdWNoZW5kIix0aGlzLm9uRG9jdW1lbnRUb3VjaEVuZCkpLGNsZWFySW50ZXJ2YWwodGhpcy50b29sdGlwVGltZW91dCk7Zm9yKGEgaW4gdGhpcyl0aGlzW2FdPW51bGx9fSxyKEsuUG9pbnRlci5wcm90b3R5cGUse3BpbmNoVHJhbnNsYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXsodGhpcy56b29tSG9yfHx0aGlzLnBpbmNoSG9yKSYmdGhpcy5waW5jaFRyYW5zbGF0ZURpcmVjdGlvbighMCxhLGIsYyxkLGUsZiksKHRoaXMuem9vbVZlcnR8fHRoaXMucGluY2hWZXJ0KSYmdGhpcy5waW5jaFRyYW5zbGF0ZURpcmVjdGlvbighMSxhLGIsYyxkLGUsZil9LHBpbmNoVHJhbnNsYXRlRGlyZWN0aW9uOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIG8scCx4LGk9dGhpcy5jaGFydCxqPWE/IngiOiJ5IixrPWE/IlgiOiJZIixsPSJjaGFydCIrayxuPWE/IndpZHRoIjoiaGVpZ2h0IixtPWlbInBsb3QiKyhhPyJMZWZ0IjoiVG9wIildLHE9aHx8MSxyPWkuaW52ZXJ0ZWQsQz1pLmJvdW5kc1thPyJoIjoidiJdLHQ9MT09PWIubGVuZ3RoLHM9YlswXVtsXSx2PWNbMF1bbF0sdT0hdCYmYlsxXVtsXSx3PSF0JiZjWzFdW2xdLGM9ZnVuY3Rpb24oKXshdCYmUShzLXUpPjIwJiYocT1ofHxRKHYtdykvUShzLXUpKSxwPShtLXYpL3ErcyxvPWlbInBsb3QiKyhhPyJXaWR0aCI6IkhlaWdodCIpXS9xfTtjKCksYj1wLGI8Qy5taW4/KGI9Qy5taW4seD0hMCk6YitvPkMubWF4JiYoYj1DLm1heC1vLHg9ITApLHg/KHYtPS44Kih2LWdbal1bMF0pLHR8fCh3LT0uOCoody1nW2pdWzFdKSksYygpKTpnW2pdPVt2LHddLHJ8fChmW2pdPXAtbSxmW25dPW8pLGY9cj8xL3E6cSxlW25dPW8sZVtqXT1iLGRbcj9hPyJzY2FsZVkiOiJzY2FsZVgiOiJzY2FsZSIra109cSxkWyJ0cmFuc2xhdGUiK2tdPWYqbSsodi1mKnMpfSxwaW5jaDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jaGFydCxkPWIucGluY2hEb3duLGU9Yi5mb2xsb3dUb3VjaE1vdmUsZj1hLnRvdWNoZXMsZz1mLmxlbmd0aCxoPWIubGFzdFZhbGlkVG91Y2gsaT1iLmhhc1pvb20saj1iLnNlbGVjdGlvbk1hcmtlcixrPXt9LGw9MT09PWcmJihiLmluQ2xhc3MoYS50YXJnZXQsImhpZ2hjaGFydHMtdHJhY2tlciIpJiZjLnJ1blRyYWNrZXJDbGlja3x8Yi5ydW5DaGFydENsaWNrKSxuPXt9OyhpfHxlKSYmIWwmJmEucHJldmVudERlZmF1bHQoKSxWYShmLGZ1bmN0aW9uKGEpe3JldHVybiBiLm5vcm1hbGl6ZShhKX0pLCJ0b3VjaHN0YXJ0Ij09PWEudHlwZT8ocShmLGZ1bmN0aW9uKGEsYil7ZFtiXT17Y2hhcnRYOmEuY2hhcnRYLGNoYXJ0WTphLmNoYXJ0WX19KSxoLng9W2RbMF0uY2hhcnRYLGRbMV0mJmRbMV0uY2hhcnRYXSxoLnk9W2RbMF0uY2hhcnRZLGRbMV0mJmRbMV0uY2hhcnRZXSxxKGMuYXhlcyxmdW5jdGlvbihhKXtpZihhLnpvb21FbmFibGVkKXt2YXIgYj1jLmJvdW5kc1thLmhvcml6PyJoIjoidiJdLGQ9YS5taW5QaXhlbFBhZGRpbmcsZT1hLnRvUGl4ZWxzKHAoYS5vcHRpb25zLm1pbixhLmRhdGFNaW4pKSxmPWEudG9QaXhlbHMocChhLm9wdGlvbnMubWF4LGEuZGF0YU1heCkpLGc9TChlLGYpLGU9dChlLGYpO2IubWluPUwoYS5wb3MsZy1kKSxiLm1heD10KGEucG9zK2EubGVuLGUrZCl9fSksYi5yZXM9ITApOmQubGVuZ3RoJiYoanx8KGIuc2VsZWN0aW9uTWFya2VyPWo9cih7ZGVzdHJveTpzYX0sYy5wbG90Qm94KSksYi5waW5jaFRyYW5zbGF0ZShkLGYsayxqLG4saCksYi5oYXNQaW5jaGVkPWksYi5zY2FsZUdyb3VwcyhrLG4pLCFpJiZlJiYxPT09Zz90aGlzLnJ1blBvaW50QWN0aW9ucyhiLm5vcm1hbGl6ZShhKSk6Yi5yZXMmJihiLnJlcz0hMSx0aGlzLnJlc2V0KCExLDApKSl9LG9uQ29udGFpbmVyVG91Y2hTdGFydDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0O3BhPWIuaW5kZXgsMT09PWEudG91Y2hlcy5sZW5ndGg/KGE9dGhpcy5ub3JtYWxpemUoYSksYi5pc0luc2lkZVBsb3QoYS5jaGFydFgtYi5wbG90TGVmdCxhLmNoYXJ0WS1iLnBsb3RUb3ApPyh0aGlzLnJ1blBvaW50QWN0aW9ucyhhKSx0aGlzLnBpbmNoKGEpKTp0aGlzLnJlc2V0KCkpOjI9PT1hLnRvdWNoZXMubGVuZ3RoJiZ0aGlzLnBpbmNoKGEpfSxvbkNvbnRhaW5lclRvdWNoTW92ZTpmdW5jdGlvbihhKXsoMT09PWEudG91Y2hlcy5sZW5ndGh8fDI9PT1hLnRvdWNoZXMubGVuZ3RoKSYmdGhpcy5waW5jaChhKX0sb25Eb2N1bWVudFRvdWNoRW5kOmZ1bmN0aW9uKGEpe1dbcGFdJiZXW3BhXS5wb2ludGVyLmRyb3AoYSl9fSksRy5Qb2ludGVyRXZlbnR8fEcuTVNQb2ludGVyRXZlbnQpe3ZhciB1YT17fSx6Yj0hIUcuUG9pbnRlckV2ZW50LFhiPWZ1bmN0aW9uKCl7dmFyIGEsYj1bXTtiLml0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19O2ZvcihhIGluIHVhKXVhLmhhc093blByb3BlcnR5KGEpJiZiLnB1c2goe3BhZ2VYOnVhW2FdLnBhZ2VYLHBhZ2VZOnVhW2FdLnBhZ2VZLHRhcmdldDp1YVthXS50YXJnZXR9KTtyZXR1cm4gYn0sQWI9ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLm9yaWdpbmFsRXZlbnR8fGEsInRvdWNoIiE9PWEucG9pbnRlclR5cGUmJmEucG9pbnRlclR5cGUhPT1hLk1TUE9JTlRFUl9UWVBFX1RPVUNIfHwhV1twYV18fChkKGEpLGQ9V1twYV0ucG9pbnRlcixkW2JdKHt0eXBlOmMsdGFyZ2V0OmEuY3VycmVudFRhcmdldCxwcmV2ZW50RGVmYXVsdDpzYSx0b3VjaGVzOlhiKCl9KSl9O3IoV2EucHJvdG90eXBlLHtvbkNvbnRhaW5lclBvaW50ZXJEb3duOmZ1bmN0aW9uKGEpe0FiKGEsIm9uQ29udGFpbmVyVG91Y2hTdGFydCIsInRvdWNoc3RhcnQiLGZ1bmN0aW9uKGEpe3VhW2EucG9pbnRlcklkXT17cGFnZVg6YS5wYWdlWCxwYWdlWTphLnBhZ2VZLHRhcmdldDphLmN1cnJlbnRUYXJnZXR9fSl9LG9uQ29udGFpbmVyUG9pbnRlck1vdmU6ZnVuY3Rpb24oYSl7QWIoYSwib25Db250YWluZXJUb3VjaE1vdmUiLCJ0b3VjaG1vdmUiLGZ1bmN0aW9uKGEpe3VhW2EucG9pbnRlcklkXT17cGFnZVg6YS5wYWdlWCxwYWdlWTphLnBhZ2VZfSx1YVthLnBvaW50ZXJJZF0udGFyZ2V0fHwodWFbYS5wb2ludGVySWRdLnRhcmdldD1hLmN1cnJlbnRUYXJnZXQpfSl9LG9uRG9jdW1lbnRQb2ludGVyVXA6ZnVuY3Rpb24oYSl7QWIoYSwib25Db250YWluZXJUb3VjaEVuZCIsInRvdWNoZW5kIixmdW5jdGlvbihhKXtkZWxldGUgdWFbYS5wb2ludGVySWRdfSl9LGJhdGNoTVNFdmVudHM6ZnVuY3Rpb24oYSl7YSh0aGlzLmNoYXJ0LmNvbnRhaW5lcix6Yj8icG9pbnRlcmRvd24iOiJNU1BvaW50ZXJEb3duIix0aGlzLm9uQ29udGFpbmVyUG9pbnRlckRvd24pLGEodGhpcy5jaGFydC5jb250YWluZXIsemI/InBvaW50ZXJtb3ZlIjoiTVNQb2ludGVyTW92ZSIsdGhpcy5vbkNvbnRhaW5lclBvaW50ZXJNb3ZlKSxhKHgsemI/InBvaW50ZXJ1cCI6Ik1TUG9pbnRlclVwIix0aGlzLm9uRG9jdW1lbnRQb2ludGVyVXApfX0pLE5hKFdhLnByb3RvdHlwZSwiaW5pdCIsZnVuY3Rpb24oYSxiLGMpe2EuY2FsbCh0aGlzLGIsYyksKHRoaXMuaGFzWm9vbXx8dGhpcy5mb2xsb3dUb3VjaE1vdmUpJiZCKGIuY29udGFpbmVyLHsiLW1zLXRvdWNoLWFjdGlvbiI6UCwidG91Y2gtYWN0aW9uIjpQfSl9KSxOYShXYS5wcm90b3R5cGUsInNldERPTUV2ZW50cyIsZnVuY3Rpb24oYSl7YS5hcHBseSh0aGlzKSwodGhpcy5oYXNab29tfHx0aGlzLmZvbGxvd1RvdWNoTW92ZSkmJnRoaXMuYmF0Y2hNU0V2ZW50cyhOKX0pLE5hKFdhLnByb3RvdHlwZSwiZGVzdHJveSIsZnVuY3Rpb24oYSl7dGhpcy5iYXRjaE1TRXZlbnRzKFgpLGEuY2FsbCh0aGlzKX0pfXZhciBsYj1LLkxlZ2VuZD1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChhLGIpfTtsYi5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yi5pdGVtU3R5bGUsZT1wKGIucGFkZGluZyw4KSxmPWIuaXRlbU1hcmdpblRvcHx8MDt0aGlzLm9wdGlvbnM9YixiLmVuYWJsZWQmJihjLml0ZW1TdHlsZT1kLGMuaXRlbUhpZGRlblN0eWxlPXcoZCxiLml0ZW1IaWRkZW5TdHlsZSksYy5pdGVtTWFyZ2luVG9wPWYsYy5wYWRkaW5nPWUsYy5pbml0aWFsSXRlbVg9ZSxjLmluaXRpYWxJdGVtWT1lLTUsYy5tYXhJdGVtV2lkdGg9MCxjLmNoYXJ0PWEsYy5pdGVtSGVpZ2h0PTAsYy5sYXN0TGluZUhlaWdodD0wLGMuc3ltYm9sV2lkdGg9cChiLnN5bWJvbFdpZHRoLDE2KSxjLnBhZ2VzPVtdLGMucmVuZGVyKCksTihjLmNoYXJ0LCJlbmRSZXNpemUiLGZ1bmN0aW9uKCl7Yy5wb3NpdGlvbkNoZWNrYm94ZXMoKX0pKX0sY29sb3JpemVJdGVtOmZ1bmN0aW9uKGEsYil7dmFyIGosYz10aGlzLm9wdGlvbnMsZD1hLmxlZ2VuZEl0ZW0sZT1hLmxlZ2VuZExpbmUsZj1hLmxlZ2VuZFN5bWJvbCxnPXRoaXMuaXRlbUhpZGRlblN0eWxlLmNvbG9yLGM9Yj9jLml0ZW1TdHlsZS5jb2xvcjpnLGg9Yj9hLmxlZ2VuZENvbG9yfHxhLmNvbG9yfHwiI0NDQyI6ZyxnPWEub3B0aW9ucyYmYS5vcHRpb25zLm1hcmtlcixpPXtmaWxsOmh9O2lmKGQmJmQuY3NzKHtmaWxsOmMsY29sb3I6Y30pLGUmJmUuYXR0cih7c3Ryb2tlOmh9KSxmKXtpZihnJiZmLmlzTWFya2VyKWZvcihqIGluIGkuc3Ryb2tlPWgsZz1hLmNvbnZlcnRBdHRyaWJzKGcpKWQ9Z1tqXSxkIT09dSYmKGlbal09ZCk7Zi5hdHRyKGkpfX0scG9zaXRpb25JdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWIuc3ltYm9sUGFkZGluZyxiPSFiLnJ0bCxkPWEuX2xlZ2VuZEl0ZW1Qb3MsZT1kWzBdLGQ9ZFsxXSxmPWEuY2hlY2tib3g7YS5sZWdlbmRHcm91cCYmYS5sZWdlbmRHcm91cC50cmFuc2xhdGUoYj9lOnRoaXMubGVnZW5kV2lkdGgtZS0yKmMtNCxkKSxmJiYoZi54PWUsZi55PWQpfSxkZXN0cm95SXRlbTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoZWNrYm94O3EoWyJsZWdlbmRJdGVtIiwibGVnZW5kTGluZSIsImxlZ2VuZFN5bWJvbCIsImxlZ2VuZEdyb3VwIl0sZnVuY3Rpb24oYil7YVtiXSYmKGFbYl09YVtiXS5kZXN0cm95KCkpfSksYiYmUWEoYS5jaGVja2JveCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyb3VwLGI9dGhpcy5ib3g7YiYmKHRoaXMuYm94PWIuZGVzdHJveSgpKSxhJiYodGhpcy5ncm91cD1hLmRlc3Ryb3koKSl9LHBvc2l0aW9uQ2hlY2tib3hlczpmdW5jdGlvbihhKXt2YXIgYyxiPXRoaXMuZ3JvdXAuYWxpZ25BdHRyLGQ9dGhpcy5jbGlwSGVpZ2h0fHx0aGlzLmxlZ2VuZEhlaWdodDtiJiYoYz1iLnRyYW5zbGF0ZVkscSh0aGlzLmFsbEl0ZW1zLGZ1bmN0aW9uKGUpe3ZhciBnLGY9ZS5jaGVja2JveDtmJiYoZz1jK2YueSsoYXx8MCkrMyxCKGYse2xlZnQ6Yi50cmFuc2xhdGVYK2UuY2hlY2tib3hPZmZzZXQrZi54LTIwKyJweCIsdG9wOmcrInB4IixkaXNwbGF5Omc+Yy02JiZjK2QtNj5nPyIiOlB9KSl9KSl9LHJlbmRlclRpdGxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYWRkaW5nLGI9dGhpcy5vcHRpb25zLnRpdGxlLGM9MDtiLnRleHQmJih0aGlzLnRpdGxlfHwodGhpcy50aXRsZT10aGlzLmNoYXJ0LnJlbmRlcmVyLmxhYmVsKGIudGV4dCxhLTMsYS00LG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCwibGVnZW5kLXRpdGxlIikuYXR0cih7ekluZGV4OjF9KS5jc3MoYi5zdHlsZSkuYWRkKHRoaXMuZ3JvdXApKSxhPXRoaXMudGl0bGUuZ2V0QkJveCgpLGM9YS5oZWlnaHQsdGhpcy5vZmZzZXRXaWR0aD1hLndpZHRoLHRoaXMuY29udGVudEdyb3VwLmF0dHIoe3RyYW5zbGF0ZVk6Y30pKSx0aGlzLnRpdGxlSGVpZ2h0PWN9LHJlbmRlckl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPWIucmVuZGVyZXIsZD10aGlzLm9wdGlvbnMsZT0iaG9yaXpvbnRhbCI9PT1kLmxheW91dCxmPXRoaXMuc3ltYm9sV2lkdGgsZz1kLnN5bWJvbFBhZGRpbmcsaD10aGlzLml0ZW1TdHlsZSxpPXRoaXMuaXRlbUhpZGRlblN0eWxlLGo9dGhpcy5wYWRkaW5nLGs9ZT9wKGQuaXRlbURpc3RhbmNlLDIwKTowLGw9IWQucnRsLG49ZC53aWR0aCxtPWQuaXRlbU1hcmdpbkJvdHRvbXx8MCxvPXRoaXMuaXRlbU1hcmdpblRvcCxxPXRoaXMuaW5pdGlhbEl0ZW1YLHI9YS5sZWdlbmRJdGVtLHM9YS5zZXJpZXMmJmEuc2VyaWVzLmRyYXdMZWdlbmRTeW1ib2w/YS5zZXJpZXM6YSxDPXMub3B0aW9ucyxDPXRoaXMuY3JlYXRlQ2hlY2tib3hGb3JJdGVtJiZDJiZDLnNob3dDaGVja2JveCx1PWQudXNlSFRNTDtyfHwoYS5sZWdlbmRHcm91cD1jLmcoImxlZ2VuZC1pdGVtIikuYXR0cih7ekluZGV4OjF9KS5hZGQodGhpcy5zY3JvbGxHcm91cCksYS5sZWdlbmRJdGVtPXI9Yy50ZXh0KGQubGFiZWxGb3JtYXQ/SmEoZC5sYWJlbEZvcm1hdCxhKTpkLmxhYmVsRm9ybWF0dGVyLmNhbGwoYSksbD9mK2c6LWcsdGhpcy5iYXNlbGluZXx8MCx1KS5jc3ModyhhLnZpc2libGU/aDppKSkuYXR0cih7YWxpZ246bD8ibGVmdCI6InJpZ2h0Iix6SW5kZXg6Mn0pLmFkZChhLmxlZ2VuZEdyb3VwKSx0aGlzLmJhc2VsaW5lfHwodGhpcy5iYXNlbGluZT1jLmZvbnRNZXRyaWNzKGguZm9udFNpemUscikuZiszK28sci5hdHRyKCJ5Iix0aGlzLmJhc2VsaW5lKSkscy5kcmF3TGVnZW5kU3ltYm9sKHRoaXMsYSksdGhpcy5zZXRJdGVtRXZlbnRzJiZ0aGlzLnNldEl0ZW1FdmVudHMoYSxyLHUsaCxpKSx0aGlzLmNvbG9yaXplSXRlbShhLGEudmlzaWJsZSksQyYmdGhpcy5jcmVhdGVDaGVja2JveEZvckl0ZW0oYSkpLGM9ci5nZXRCQm94KCksZj1hLmNoZWNrYm94T2Zmc2V0PWQuaXRlbVdpZHRofHxhLmxlZ2VuZEl0ZW1XaWR0aHx8ZitnK2Mud2lkdGgraysoQz8yMDowKSx0aGlzLml0ZW1IZWlnaHQ9Zz12KGEubGVnZW5kSXRlbUhlaWdodHx8Yy5oZWlnaHQpLGUmJnRoaXMuaXRlbVgtcStmPihufHxiLmNoYXJ0V2lkdGgtMipqLXEtZC54KSYmKHRoaXMuaXRlbVg9cSx0aGlzLml0ZW1ZKz1vK3RoaXMubGFzdExpbmVIZWlnaHQrbSx0aGlzLmxhc3RMaW5lSGVpZ2h0PTApLHRoaXMubWF4SXRlbVdpZHRoPXQodGhpcy5tYXhJdGVtV2lkdGgsZiksdGhpcy5sYXN0SXRlbVk9byt0aGlzLml0ZW1ZK20sdGhpcy5sYXN0TGluZUhlaWdodD10KGcsdGhpcy5sYXN0TGluZUhlaWdodCksYS5fbGVnZW5kSXRlbVBvcz1bdGhpcy5pdGVtWCx0aGlzLml0ZW1ZXSxlP3RoaXMuaXRlbVgrPWY6KHRoaXMuaXRlbVkrPW8rZyttLHRoaXMubGFzdExpbmVIZWlnaHQ9ZyksdGhpcy5vZmZzZXRXaWR0aD1ufHx0KChlP3RoaXMuaXRlbVgtcS1rOmYpK2osdGhpcy5vZmZzZXRXaWR0aCl9LGdldEFsbEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIHEodGhpcy5jaGFydC5zZXJpZXMsZnVuY3Rpb24oYil7dmFyIGM9Yi5vcHRpb25zO3AoYy5zaG93SW5MZWdlbmQscyhjLmxpbmtlZFRvKT8hMTp1LCEwKSYmKGE9YS5jb25jYXQoYi5sZWdlbmRJdGVtc3x8KCJwb2ludCI9PT1jLmxlZ2VuZFR5cGU/Yi5kYXRhOmIpKSl9KSxhfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgZSxmLGcsaCxhPXRoaXMsYj1hLmNoYXJ0LGM9Yi5yZW5kZXJlcixkPWEuZ3JvdXAsaT1hLmJveCxqPWEub3B0aW9ucyxrPWEucGFkZGluZyxsPWouYm9yZGVyV2lkdGgsbj1qLmJhY2tncm91bmRDb2xvcjthLml0ZW1YPWEuaW5pdGlhbEl0ZW1YLGEuaXRlbVk9YS5pbml0aWFsSXRlbVksYS5vZmZzZXRXaWR0aD0wLGEubGFzdEl0ZW1ZPTAsZHx8KGEuZ3JvdXA9ZD1jLmcoImxlZ2VuZCIpLmF0dHIoe3pJbmRleDo3fSkuYWRkKCksYS5jb250ZW50R3JvdXA9Yy5nKCkuYXR0cih7ekluZGV4OjF9KS5hZGQoZCksYS5zY3JvbGxHcm91cD1jLmcoKS5hZGQoYS5jb250ZW50R3JvdXApKSxhLnJlbmRlclRpdGxlKCksZT1hLmdldEFsbEl0ZW1zKCksb2IoZSxmdW5jdGlvbihhLGIpe3JldHVybihhLm9wdGlvbnMmJmEub3B0aW9ucy5sZWdlbmRJbmRleHx8MCktKGIub3B0aW9ucyYmYi5vcHRpb25zLmxlZ2VuZEluZGV4fHwwKX0pLGoucmV2ZXJzZWQmJmUucmV2ZXJzZSgpLGEuYWxsSXRlbXM9ZSxhLmRpc3BsYXk9Zj0hIWUubGVuZ3RoLHEoZSxmdW5jdGlvbihiKXthLnJlbmRlckl0ZW0oYil9KSxnPWoud2lkdGh8fGEub2Zmc2V0V2lkdGgsaD1hLmxhc3RJdGVtWSthLmxhc3RMaW5lSGVpZ2h0K2EudGl0bGVIZWlnaHQsaD1hLmhhbmRsZU92ZXJmbG93KGgpLChsfHxuKSYmKGcrPWssaCs9ayxpP2c+MCYmaD4wJiYoaVtpLmlzTmV3PyJhdHRyIjoiYW5pbWF0ZSJdKGkuY3Jpc3Aoe3dpZHRoOmcsaGVpZ2h0Omh9KSksaS5pc05ldz0hMSk6KGEuYm94PWk9Yy5yZWN0KDAsMCxnLGgsai5ib3JkZXJSYWRpdXMsbHx8MCkuYXR0cih7c3Ryb2tlOmouYm9yZGVyQ29sb3IsInN0cm9rZS13aWR0aCI6bHx8MCxmaWxsOm58fFB9KS5hZGQoZCkuc2hhZG93KGouc2hhZG93KSxpLmlzTmV3PSEwKSxpW2Y/InNob3ciOiJoaWRlIl0oKSksYS5sZWdlbmRXaWR0aD1nLGEubGVnZW5kSGVpZ2h0PWgscShlLGZ1bmN0aW9uKGIpe2EucG9zaXRpb25JdGVtKGIpfSksZiYmZC5hbGlnbihyKHt3aWR0aDpnLGhlaWdodDpofSxqKSwhMCwic3BhY2luZ0JveCIpLGIuaXNSZXNpemluZ3x8dGhpcy5wb3NpdGlvbkNoZWNrYm94ZXMoKX0saGFuZGxlT3ZlcmZsb3c6ZnVuY3Rpb24oYSl7dmFyIGgsbyxiPXRoaXMsYz10aGlzLmNoYXJ0LGQ9Yy5yZW5kZXJlcixlPXRoaXMub3B0aW9ucyxmPWUueSxmPWMuc3BhY2luZ0JveC5oZWlnaHQrKCJ0b3AiPT09ZS52ZXJ0aWNhbEFsaWduPy1mOmYpLXRoaXMucGFkZGluZyxnPWUubWF4SGVpZ2h0LGk9dGhpcy5jbGlwUmVjdCxqPWUubmF2aWdhdGlvbixrPXAoai5hbmltYXRpb24sITApLGw9ai5hcnJvd1NpemV8fDEyLG49dGhpcy5uYXYsbT10aGlzLnBhZ2VzLHI9dGhpcy5hbGxJdGVtcztyZXR1cm4iaG9yaXpvbnRhbCI9PT1lLmxheW91dCYmKGYvPTIpLGcmJihmPUwoZixnKSksbS5sZW5ndGg9MCxhPmYmJiFlLnVzZUhUTUw/KHRoaXMuY2xpcEhlaWdodD1oPXQoZi0yMC10aGlzLnRpdGxlSGVpZ2h0LXRoaXMucGFkZGluZywwKSx0aGlzLmN1cnJlbnRQYWdlPXAodGhpcy5jdXJyZW50UGFnZSwxKSx0aGlzLmZ1bGxIZWlnaHQ9YSxxKHIsZnVuY3Rpb24oYSxiKXt2YXIgYz1hLl9sZWdlbmRJdGVtUG9zWzFdLGQ9dihhLmxlZ2VuZEl0ZW0uZ2V0QkJveCgpLmhlaWdodCksZT1tLmxlbmd0aDsoIWV8fGMtbVtlLTFdPmgmJihvfHxjKSE9PW1bZS0xXSkmJihtLnB1c2gob3x8YyksZSsrKSxiPT09ci5sZW5ndGgtMSYmYytkLW1bZS0xXT5oJiZtLnB1c2goYyksYyE9PW8mJihvPWMpfSksaXx8KGk9Yi5jbGlwUmVjdD1kLmNsaXBSZWN0KDAsdGhpcy5wYWRkaW5nLDk5OTksMCksYi5jb250ZW50R3JvdXAuY2xpcChpKSksaS5hdHRyKHtoZWlnaHQ6aH0pLG58fCh0aGlzLm5hdj1uPWQuZygpLmF0dHIoe3pJbmRleDoxfSkuYWRkKHRoaXMuZ3JvdXApLHRoaXMudXA9ZC5zeW1ib2woInRyaWFuZ2xlIiwwLDAsbCxsKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7Yi5zY3JvbGwoLTEsayl9KS5hZGQobiksdGhpcy5wYWdlcj1kLnRleHQoIiIsMTUsMTApLmNzcyhqLnN0eWxlKS5hZGQobiksdGhpcy5kb3duPWQuc3ltYm9sKCJ0cmlhbmdsZS1kb3duIiwwLDAsbCxsKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7Yi5zY3JvbGwoMSxrKX0pLmFkZChuKSksYi5zY3JvbGwoMCksYT1mKTpuJiYoaS5hdHRyKHtoZWlnaHQ6Yy5jaGFydEhlaWdodH0pLG4uaGlkZSgpLHRoaXMuc2Nyb2xsR3JvdXAuYXR0cih7dHJhbnNsYXRlWToxfSksdGhpcy5jbGlwSGVpZ2h0PTApLGF9LHNjcm9sbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucGFnZXMsZD1jLmxlbmd0aCxlPXRoaXMuY3VycmVudFBhZ2UrYSxmPXRoaXMuY2xpcEhlaWdodCxnPXRoaXMub3B0aW9ucy5uYXZpZ2F0aW9uLGg9Zy5hY3RpdmVDb2xvcixnPWcuaW5hY3RpdmVDb2xvcixpPXRoaXMucGFnZXIsaj10aGlzLnBhZGRpbmc7ZT5kJiYoZT1kKSxlPjAmJihiIT09dSYmUmEoYix0aGlzLmNoYXJ0KSx0aGlzLm5hdi5hdHRyKHt0cmFuc2xhdGVYOmosdHJhbnNsYXRlWTpmK3RoaXMucGFkZGluZys3K3RoaXMudGl0bGVIZWlnaHQsdmlzaWJpbGl0eToidmlzaWJsZSJ9KSx0aGlzLnVwLmF0dHIoe2ZpbGw6MT09PWU/ZzpofSkuY3NzKHtjdXJzb3I6MT09PWU/ImRlZmF1bHQiOiJwb2ludGVyIn0pLGkuYXR0cih7dGV4dDplKyIvIitkfSksdGhpcy5kb3duLmF0dHIoe3g6MTgrdGhpcy5wYWdlci5nZXRCQm94KCkud2lkdGgsZmlsbDplPT09ZD9nOmh9KS5jc3Moe2N1cnNvcjplPT09ZD8iZGVmYXVsdCI6InBvaW50ZXIifSksYz0tY1tlLTFdK3RoaXMuaW5pdGlhbEl0ZW1ZLHRoaXMuc2Nyb2xsR3JvdXAuYW5pbWF0ZSh7dHJhbnNsYXRlWTpjfSksdGhpcy5jdXJyZW50UGFnZT1lLHRoaXMucG9zaXRpb25DaGVja2JveGVzKGMpKX19LE09Sy5MZWdlbmRTeW1ib2xNaXhpbj17ZHJhd1JlY3RhbmdsZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEub3B0aW9ucy5zeW1ib2xIZWlnaHR8fDEyO2IubGVnZW5kU3ltYm9sPXRoaXMuY2hhcnQucmVuZGVyZXIucmVjdCgwLGEuYmFzZWxpbmUtNS1jLzIsYS5zeW1ib2xXaWR0aCxjLGEub3B0aW9ucy5zeW1ib2xSYWRpdXN8fDApLmF0dHIoe3pJbmRleDozfSkuYWRkKGIubGVnZW5kR3JvdXApfSxkcmF3TGluZU1hcmtlcjpmdW5jdGlvbihhKXt2YXIgZCxiPXRoaXMub3B0aW9ucyxjPWIubWFya2VyO2Q9YS5zeW1ib2xXaWR0aDt2YXIgZyxlPXRoaXMuY2hhcnQucmVuZGVyZXIsZj10aGlzLmxlZ2VuZEdyb3VwLGE9YS5iYXNlbGluZS12KC4zKmUuZm9udE1ldHJpY3MoYS5vcHRpb25zLml0ZW1TdHlsZS5mb250U2l6ZSx0aGlzLmxlZ2VuZEl0ZW0pLmIpO2IubGluZVdpZHRoJiYoZz17InN0cm9rZS13aWR0aCI6Yi5saW5lV2lkdGh9LGIuZGFzaFN0eWxlJiYoZy5kYXNoc3R5bGU9Yi5kYXNoU3R5bGUpLHRoaXMubGVnZW5kTGluZT1lLnBhdGgoWyJNIiwwLGEsIkwiLGQsYV0pLmF0dHIoZykuYWRkKGYpKSxjJiZjLmVuYWJsZWQhPT0hMSYmKGI9Yy5yYWRpdXMsdGhpcy5sZWdlbmRTeW1ib2w9ZD1lLnN5bWJvbCh0aGlzLnN5bWJvbCxkLzItYixhLWIsMipiLDIqYikuYWRkKGYpLGQuaXNNYXJrZXI9ITApfX0sKC9UcmlkZW50XC83XC4wLy50ZXN0KHdhKXx8VWEpJiZOYShsYi5wcm90b3R5cGUsInBvc2l0aW9uSXRlbSIsZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9ZnVuY3Rpb24oKXtiLl9sZWdlbmRJdGVtUG9zJiZhLmNhbGwoYyxiKX07ZCgpLHNldFRpbWVvdXQoZCl9KSxZYS5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEuc2VyaWVzO2Euc2VyaWVzPW51bGwsYz13KEUsYSksYy5zZXJpZXM9YS5zZXJpZXM9ZCx0aGlzLnVzZXJPcHRpb25zPWEsZD1jLmNoYXJ0LHRoaXMubWFyZ2luPXRoaXMuc3BsYXNoQXJyYXkoIm1hcmdpbiIsZCksdGhpcy5zcGFjaW5nPXRoaXMuc3BsYXNoQXJyYXkoInNwYWNpbmciLGQpO3ZhciBlPWQuZXZlbnRzO3RoaXMuYm91bmRzPXtoOnt9LHY6e319LHRoaXMuY2FsbGJhY2s9Yix0aGlzLmlzUmVzaXppbmc9MCx0aGlzLm9wdGlvbnM9Yyx0aGlzLmF4ZXM9W10sdGhpcy5zZXJpZXM9W10sdGhpcy5oYXNDYXJ0ZXNpYW5TZXJpZXM9ZC5zaG93QXhlczt2YXIgZyxmPXRoaXM7aWYoZi5pbmRleD1XLmxlbmd0aCxXLnB1c2goZiksYWIrKyxkLnJlZmxvdyE9PSExJiZOKGYsImxvYWQiLGZ1bmN0aW9uKCl7Zi5pbml0UmVmbG93KCl9KSxlKWZvcihnIGluIGUpTihmLGcsZVtnXSk7Zi54QXhpcz1bXSxmLnlBeGlzPVtdLGYuYW5pbWF0aW9uPWdhPyExOnAoZC5hbmltYXRpb24sITApLGYucG9pbnRDb3VudD1mLmNvbG9yQ291bnRlcj1mLnN5bWJvbENvdW50ZXI9MCxmLmZpcnN0UmVuZGVyKCl9LGluaXRTZXJpZXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLmNoYXJ0O3JldHVybihiPUhbYS50eXBlfHxiLnR5cGV8fGIuZGVmYXVsdFNlcmllc1R5cGVdKXx8aGEoMTcsITApLGI9bmV3IGIsYi5pbml0KHRoaXMsYSksYn0saXNJbnNpZGVQbG90OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jP2I6YSxhPWM/YTpiO3JldHVybiBkPj0wJiZkPD10aGlzLnBsb3RXaWR0aCYmYT49MCYmYTw9dGhpcy5wbG90SGVpZ2h0fSxhZGp1c3RUaWNrQW1vdW50czpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5jaGFydC5hbGlnblRpY2tzIT09ITEmJnEodGhpcy5heGVzLGZ1bmN0aW9uKGEpe2EuYWRqdXN0VGlja0Ftb3VudCgpfSksdGhpcy5tYXhUaWNrcz1udWxsfSxyZWRyYXc6ZnVuY3Rpb24oYSl7dmFyIGcsaCxiPXRoaXMuYXhlcyxjPXRoaXMuc2VyaWVzLGQ9dGhpcy5wb2ludGVyLGU9dGhpcy5sZWdlbmQsZj10aGlzLmlzRGlydHlMZWdlbmQsaT10aGlzLmhhc0NhcnRlc2lhblNlcmllcyxqPXRoaXMuaXNEaXJ0eUJveCxrPWMubGVuZ3RoLGw9ayxuPXRoaXMucmVuZGVyZXIsbT1uLmlzSGlkZGVuKCksbz1bXTtmb3IoUmEoYSx0aGlzKSxtJiZ0aGlzLmNsb25lUmVuZGVyVG8oKSx0aGlzLmxheU91dFRpdGxlcygpO2wtLTspaWYoYT1jW2xdLGEub3B0aW9ucy5zdGFja2luZyYmKGc9ITAsYS5pc0RpcnR5KSl7aD0hMDticmVha31pZihoKWZvcihsPWs7bC0tOylhPWNbbF0sYS5vcHRpb25zLnN0YWNraW5nJiYoYS5pc0RpcnR5PSEwKTtxKGMsZnVuY3Rpb24oYSl7YS5pc0RpcnR5JiYicG9pbnQiPT09YS5vcHRpb25zLmxlZ2VuZFR5cGUmJihmPSEwKX0pLGYmJmUub3B0aW9ucy5lbmFibGVkJiYoZS5yZW5kZXIoKSx0aGlzLmlzRGlydHlMZWdlbmQ9ITEpLGcmJnRoaXMuZ2V0U3RhY2tzKCksaSYmKHRoaXMuaXNSZXNpemluZ3x8KHRoaXMubWF4VGlja3M9bnVsbCxxKGIsZnVuY3Rpb24oYSl7YS5zZXRTY2FsZSgpfSkpLHRoaXMuYWRqdXN0VGlja0Ftb3VudHMoKSksdGhpcy5nZXRNYXJnaW5zKCksaSYmKHEoYixmdW5jdGlvbihhKXthLmlzRGlydHkmJihqPSEwKX0pLHEoYixmdW5jdGlvbihhKXthLmlzRGlydHlFeHRyZW1lcyYmKGEuaXNEaXJ0eUV4dHJlbWVzPSExLG8ucHVzaChmdW5jdGlvbigpe0koYSwiYWZ0ZXJTZXRFeHRyZW1lcyIscihhLmV2ZW50QXJncyxhLmdldEV4dHJlbWVzKCkpKSxkZWxldGUgYS5ldmVudEFyZ3N9KSksKGp8fGcpJiZhLnJlZHJhdygpfSkpLGomJnRoaXMuZHJhd0NoYXJ0Qm94KCkscShjLGZ1bmN0aW9uKGEpe2EuaXNEaXJ0eSYmYS52aXNpYmxlJiYoIWEuaXNDYXJ0ZXNpYW58fGEueEF4aXMpJiZhLnJlZHJhdygpfSksZCYmZC5yZXNldCghMCksbi5kcmF3KCksSSh0aGlzLCJyZWRyYXciKSxtJiZ0aGlzLmNsb25lUmVuZGVyVG8oITApLHEobyxmdW5jdGlvbihhKXthLmNhbGwoKX0pfSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGQsZSxiPXRoaXMuYXhlcyxjPXRoaXMuc2VyaWVzO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspaWYoYltkXS5vcHRpb25zLmlkPT09YSlyZXR1cm4gYltkXTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKGNbZF0ub3B0aW9ucy5pZD09PWEpcmV0dXJuIGNbZF07Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylmb3IoZT1jW2RdLnBvaW50c3x8W10sYj0wO2I8ZS5sZW5ndGg7YisrKWlmKGVbYl0uaWQ9PT1hKXJldHVybiBlW2JdO3JldHVybiBudWxsfSxnZXRBeGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMub3B0aW9ucyxjPWIueEF4aXM9cmEoYi54QXhpc3x8e30pLGI9Yi55QXhpcz1yYShiLnlBeGlzfHx7fSk7cShjLGZ1bmN0aW9uKGEsYil7YS5pbmRleD1iLGEuaXNYPSEwfSkscShiLGZ1bmN0aW9uKGEsYil7YS5pbmRleD1ifSksYz1jLmNvbmNhdChiKSxxKGMsZnVuY3Rpb24oYil7bmV3IG5hKGEsYil9KSxhLmFkanVzdFRpY2tBbW91bnRzKCl9LGdldFNlbGVjdGVkUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIHEodGhpcy5zZXJpZXMsZnVuY3Rpb24oYil7YT1hLmNvbmNhdCh3YihiLnBvaW50c3x8W10sZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWR9KSl9KSxhfSxnZXRTZWxlY3RlZFNlcmllczpmdW5jdGlvbigpe3JldHVybiB3Yih0aGlzLnNlcmllcyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pfSxnZXRTdGFja3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3EoYS55QXhpcyxmdW5jdGlvbihhKXthLnN0YWNrcyYmYS5oYXNWaXNpYmxlU2VyaWVzJiYoYS5vbGRTdGFja3M9YS5zdGFja3MpfSkscShhLnNlcmllcyxmdW5jdGlvbihiKXshYi5vcHRpb25zLnN0YWNraW5nfHxiLnZpc2libGUhPT0hMCYmYS5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcyE9PSExfHwoYi5zdGFja0tleT1iLnR5cGUrcChiLm9wdGlvbnMuc3RhY2ssIiIpKX0pfSxzZXRUaXRsZTpmdW5jdGlvbihhLGIsYyl7dmFyIGcsZixkPXRoaXMsZT1kLm9wdGlvbnM7Zj1lLnRpdGxlPXcoZS50aXRsZSxhKSxnPWUuc3VidGl0bGU9dyhlLnN1YnRpdGxlLGIpLGU9ZyxxKFtbInRpdGxlIixhLGZdLFsic3VidGl0bGUiLGIsZV1dLGZ1bmN0aW9uKGEpe3ZhciBiPWFbMF0sYz1kW2JdLGU9YVsxXSxhPWFbMl07YyYmZSYmKGRbYl09Yz1jLmRlc3Ryb3koKSksYSYmYS50ZXh0JiYhYyYmKGRbYl09ZC5yZW5kZXJlci50ZXh0KGEudGV4dCwwLDAsYS51c2VIVE1MKS5hdHRyKHthbGlnbjphLmFsaWduLCJjbGFzcyI6ImhpZ2hjaGFydHMtIitiLHpJbmRleDphLnpJbmRleHx8NH0pLmNzcyhhLnN0eWxlKS5hZGQoKSl9KSxkLmxheU91dFRpdGxlcyhjKX0sbGF5T3V0VGl0bGVzOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz10aGlzLnRpdGxlLGQ9dGhpcy5zdWJ0aXRsZSxlPXRoaXMub3B0aW9ucyxmPWUudGl0bGUsZT1lLnN1YnRpdGxlLGc9dGhpcy5yZW5kZXJlcixoPXRoaXMuc3BhY2luZ0JveC53aWR0aC00NDshY3x8KGMuY3NzKHt3aWR0aDooZi53aWR0aHx8aCkrInB4In0pLmFsaWduKHIoe3k6Zy5mb250TWV0cmljcyhmLnN0eWxlLmZvbnRTaXplLGMpLmItM30sZiksITEsInNwYWNpbmdCb3giKSxmLmZsb2F0aW5nfHxmLnZlcnRpY2FsQWxpZ24pfHwoYj1jLmdldEJCb3goKS5oZWlnaHQpLGQmJihkLmNzcyh7d2lkdGg6KGUud2lkdGh8fGgpKyJweCJ9KS5hbGlnbihyKHt5OmIrKGYubWFyZ2luLTEzKStnLmZvbnRNZXRyaWNzKGYuc3R5bGUuZm9udFNpemUsZCkuYn0sZSksITEsInNwYWNpbmdCb3giKSwhZS5mbG9hdGluZyYmIWUudmVydGljYWxBbGlnbiYmKGI9TGEoYitkLmdldEJCb3goKS5oZWlnaHQpKSksYz10aGlzLnRpdGxlT2Zmc2V0IT09Yix0aGlzLnRpdGxlT2Zmc2V0PWIsIXRoaXMuaXNEaXJ0eUJveCYmYyYmKHRoaXMuaXNEaXJ0eUJveD1jLHRoaXMuaGFzUmVuZGVyZWQmJnAoYSwhMCkmJnRoaXMuaXNEaXJ0eUJveCYmdGhpcy5yZWRyYXcoKSl9LGdldENoYXJ0U2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5jaGFydCxiPWEud2lkdGgsYT1hLmhlaWdodCxjPXRoaXMucmVuZGVyVG9DbG9uZXx8dGhpcy5yZW5kZXJUbztzKGIpfHwodGhpcy5jb250YWluZXJXaWR0aD1pYihjLCJ3aWR0aCIpKSxzKGEpfHwodGhpcy5jb250YWluZXJIZWlnaHQ9aWIoYywiaGVpZ2h0IikpLHRoaXMuY2hhcnRXaWR0aD10KDAsYnx8dGhpcy5jb250YWluZXJXaWR0aHx8NjAwKSx0aGlzLmNoYXJ0SGVpZ2h0PXQoMCxwKGEsdGhpcy5jb250YWluZXJIZWlnaHQ+MTk/dGhpcy5jb250YWluZXJIZWlnaHQ6NDAwKSl9LGNsb25lUmVuZGVyVG86ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZW5kZXJUb0Nsb25lLGM9dGhpcy5jb250YWluZXI7YT9iJiYodGhpcy5yZW5kZXJUby5hcHBlbmRDaGlsZChjKSxRYShiKSxkZWxldGUgdGhpcy5yZW5kZXJUb0Nsb25lKTooYyYmYy5wYXJlbnROb2RlPT09dGhpcy5yZW5kZXJUbyYmdGhpcy5yZW5kZXJUby5yZW1vdmVDaGlsZChjKSx0aGlzLnJlbmRlclRvQ2xvbmU9Yj10aGlzLnJlbmRlclRvLmNsb25lTm9kZSgwKSxCKGIse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOiItOTk5OXB4IixkaXNwbGF5OiJibG9jayJ9KSxiLnN0eWxlLnNldFByb3BlcnR5JiZiLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5IiwiYmxvY2siLCJpbXBvcnRhbnQiKSx4LmJvZHkuYXBwZW5kQ2hpbGQoYiksYyYmYi5hcHBlbmRDaGlsZChjKSl9LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3ZhciBhLGMsZCxlLGI9dGhpcy5vcHRpb25zLmNoYXJ0O3RoaXMucmVuZGVyVG89YT1iLnJlbmRlclRvLGU9ImhpZ2hjaGFydHMtIit1YisrLEdhKGEpJiYodGhpcy5yZW5kZXJUbz1hPXguZ2V0RWxlbWVudEJ5SWQoYSkpLGF8fGhhKDEzLCEwKSxjPXkoRihhLCJkYXRhLWhpZ2hjaGFydHMtY2hhcnQiKSksIWlzTmFOKGMpJiZXW2NdJiZXW2NdLmhhc1JlbmRlcmVkJiZXW2NdLmRlc3Ryb3koKSxGKGEsImRhdGEtaGlnaGNoYXJ0cy1jaGFydCIsdGhpcy5pbmRleCksYS5pbm5lckhUTUw9IiIsIWIuc2tpcENsb25lJiYhYS5vZmZzZXRXaWR0aCYmdGhpcy5jbG9uZVJlbmRlclRvKCksdGhpcy5nZXRDaGFydFNpemUoKSxjPXRoaXMuY2hhcnRXaWR0aCxkPXRoaXMuY2hhcnRIZWlnaHQsdGhpcy5jb250YWluZXI9YT0kKEthLHtjbGFzc05hbWU6ImhpZ2hjaGFydHMtY29udGFpbmVyIisoYi5jbGFzc05hbWU/IiAiK2IuY2xhc3NOYW1lOiIiKSxpZDplfSxyKHtwb3NpdGlvbjoicmVsYXRpdmUiLG92ZXJmbG93OiJoaWRkZW4iLHdpZHRoOmMrInB4IixoZWlnaHQ6ZCsicHgiLHRleHRBbGlnbjoibGVmdCIsbGluZUhlaWdodDoibm9ybWFsIix6SW5kZXg6MCwiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yIjoicmdiYSgwLDAsMCwwKSJ9LGIuc3R5bGUpLHRoaXMucmVuZGVyVG9DbG9uZXx8YSksdGhpcy5fY3Vyc29yPWEuc3R5bGUuY3Vyc29yLHRoaXMucmVuZGVyZXI9Yi5mb3JFeHBvcnQ/bmV3IHRhKGEsYyxkLGIuc3R5bGUsITApOm5ldyBaYShhLGMsZCxiLnN0eWxlKSxnYSYmdGhpcy5yZW5kZXJlci5jcmVhdGUodGhpcyxhLGMsZCl9LGdldE1hcmdpbnM6ZnVuY3Rpb24oKXt2YXIgYixhPXRoaXMuc3BhY2luZyxjPXRoaXMubGVnZW5kLGQ9dGhpcy5tYXJnaW4sZT10aGlzLm9wdGlvbnMubGVnZW5kLGY9cChlLm1hcmdpbiwyMCksZz1lLngsaD1lLnksaT1lLmFsaWduLGo9ZS52ZXJ0aWNhbEFsaWduLGs9dGhpcy50aXRsZU9mZnNldDt0aGlzLnJlc2V0TWFyZ2lucygpLGI9dGhpcy5heGlzT2Zmc2V0LGsmJiFzKGRbMF0pJiYodGhpcy5wbG90VG9wPXQodGhpcy5wbG90VG9wLGsrdGhpcy5vcHRpb25zLnRpdGxlLm1hcmdpbithWzBdKSksYy5kaXNwbGF5JiYhZS5mbG9hdGluZyYmKCJyaWdodCI9PT1pP3MoZFsxXSl8fCh0aGlzLm1hcmdpblJpZ2h0PXQodGhpcy5tYXJnaW5SaWdodCxjLmxlZ2VuZFdpZHRoLWcrZithWzFdKSk6ImxlZnQiPT09aT9zKGRbM10pfHwodGhpcy5wbG90TGVmdD10KHRoaXMucGxvdExlZnQsYy5sZWdlbmRXaWR0aCtnK2YrYVszXSkpOiJ0b3AiPT09aj9zKGRbMF0pfHwodGhpcy5wbG90VG9wPXQodGhpcy5wbG90VG9wLGMubGVnZW5kSGVpZ2h0K2grZithWzBdKSk6ImJvdHRvbSIhPT1qfHxzKGRbMl0pfHwodGhpcy5tYXJnaW5Cb3R0b209dCh0aGlzLm1hcmdpbkJvdHRvbSxjLmxlZ2VuZEhlaWdodC1oK2YrYVsyXSkpKSx0aGlzLmV4dHJhQm90dG9tTWFyZ2luJiYodGhpcy5tYXJnaW5Cb3R0b20rPXRoaXMuZXh0cmFCb3R0b21NYXJnaW4pLHRoaXMuZXh0cmFUb3BNYXJnaW4mJih0aGlzLnBsb3RUb3ArPXRoaXMuZXh0cmFUb3BNYXJnaW4pLHRoaXMuaGFzQ2FydGVzaWFuU2VyaWVzJiZxKHRoaXMuYXhlcyxmdW5jdGlvbihhKXthLmdldE9mZnNldCgpfSkscyhkWzNdKXx8KHRoaXMucGxvdExlZnQrPWJbM10pLHMoZFswXSl8fCh0aGlzLnBsb3RUb3ArPWJbMF0pLHMoZFsyXSl8fCh0aGlzLm1hcmdpbkJvdHRvbSs9YlsyXSkscyhkWzFdKXx8KHRoaXMubWFyZ2luUmlnaHQrPWJbMV0pLHRoaXMuc2V0Q2hhcnRTaXplKCl9LHJlZmxvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5vcHRpb25zLmNoYXJ0LGQ9Yi5yZW5kZXJUbyxlPWMud2lkdGh8fGliKGQsIndpZHRoIiksZj1jLmhlaWdodHx8aWIoZCwiaGVpZ2h0IiksYz1hP2EudGFyZ2V0OkcsZD1mdW5jdGlvbigpe2IuY29udGFpbmVyJiYoYi5zZXRTaXplKGUsZiwhMSksYi5oYXNVc2VyU2l6ZT1udWxsKX07Yi5oYXNVc2VyU2l6ZXx8IWV8fCFmfHxjIT09RyYmYyE9PXh8fCgoZSE9PWIuY29udGFpbmVyV2lkdGh8fGYhPT1iLmNvbnRhaW5lckhlaWdodCkmJihjbGVhclRpbWVvdXQoYi5yZWZsb3dUaW1lb3V0KSxhP2IucmVmbG93VGltZW91dD1zZXRUaW1lb3V0KGQsMTAwKTpkKCkpLGIuY29udGFpbmVyV2lkdGg9ZSxiLmNvbnRhaW5lckhlaWdodD1mKX0saW5pdFJlZmxvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1mdW5jdGlvbihiKXthLnJlZmxvdyhiKX07TihHLCJyZXNpemUiLGIpLE4oYSwiZGVzdHJveSIsZnVuY3Rpb24oKXtYKEcsInJlc2l6ZSIsYil9KX0sc2V0U2l6ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZixnLGQ9dGhpcztkLmlzUmVzaXppbmcrPTEsZz1mdW5jdGlvbigpe2QmJkkoZCwiZW5kUmVzaXplIixudWxsLGZ1bmN0aW9uKCl7ZC5pc1Jlc2l6aW5nLT0xfSl9LFJhKGMsZCksZC5vbGRDaGFydEhlaWdodD1kLmNoYXJ0SGVpZ2h0LGQub2xkQ2hhcnRXaWR0aD1kLmNoYXJ0V2lkdGgscyhhKSYmKGQuY2hhcnRXaWR0aD1lPXQoMCx2KGEpKSxkLmhhc1VzZXJTaXplPSEhZSkscyhiKSYmKGQuY2hhcnRIZWlnaHQ9Zj10KDAsdihiKSkpLCh2YT9qYjpCKShkLmNvbnRhaW5lcix7d2lkdGg6ZSsicHgiLGhlaWdodDpmKyJweCJ9LHZhKSxkLnNldENoYXJ0U2l6ZSghMCksZC5yZW5kZXJlci5zZXRTaXplKGUsZixjKSxkLm1heFRpY2tzPW51bGwscShkLmF4ZXMsZnVuY3Rpb24oYSl7YS5pc0RpcnR5PSEwLGEuc2V0U2NhbGUoKX0pLHEoZC5zZXJpZXMsZnVuY3Rpb24oYSl7YS5pc0RpcnR5PSEwfSksZC5pc0RpcnR5TGVnZW5kPSEwLGQuaXNEaXJ0eUJveD0hMCxkLmxheU91dFRpdGxlcygpLGQuZ2V0TWFyZ2lucygpLGQucmVkcmF3KGMpLGQub2xkQ2hhcnRIZWlnaHQ9bnVsbCxJKGQsInJlc2l6ZSIpLHZhPT09ITE/ZygpOnNldFRpbWVvdXQoZyx2YSYmdmEuZHVyYXRpb258fDUwMCl9LHNldENoYXJ0U2l6ZTpmdW5jdGlvbihhKXt2YXIgaSxqLGssbCxiPXRoaXMuaW52ZXJ0ZWQsYz10aGlzLnJlbmRlcmVyLGQ9dGhpcy5jaGFydFdpZHRoLGU9dGhpcy5jaGFydEhlaWdodCxmPXRoaXMub3B0aW9ucy5jaGFydCxnPXRoaXMuc3BhY2luZyxoPXRoaXMuY2xpcE9mZnNldDt0aGlzLnBsb3RMZWZ0PWk9dih0aGlzLnBsb3RMZWZ0KSx0aGlzLnBsb3RUb3A9aj12KHRoaXMucGxvdFRvcCksdGhpcy5wbG90V2lkdGg9az10KDAsdihkLWktdGhpcy5tYXJnaW5SaWdodCkpLHRoaXMucGxvdEhlaWdodD1sPXQoMCx2KGUtai10aGlzLm1hcmdpbkJvdHRvbSkpLHRoaXMucGxvdFNpemVYPWI/bDprLHRoaXMucGxvdFNpemVZPWI/azpsLHRoaXMucGxvdEJvcmRlcldpZHRoPWYucGxvdEJvcmRlcldpZHRofHwwLHRoaXMuc3BhY2luZ0JveD1jLnNwYWNpbmdCb3g9e3g6Z1szXSx5OmdbMF0sd2lkdGg6ZC1nWzNdLWdbMV0saGVpZ2h0OmUtZ1swXS1nWzJdfSx0aGlzLnBsb3RCb3g9Yy5wbG90Qm94PXt4OmkseTpqLHdpZHRoOmssaGVpZ2h0Omx9LGQ9MipVKHRoaXMucGxvdEJvcmRlcldpZHRoLzIpLGI9TGEodChkLGhbM10pLzIpLGM9TGEodChkLGhbMF0pLzIpLHRoaXMuY2xpcEJveD17eDpiLHk6Yyx3aWR0aDpVKHRoaXMucGxvdFNpemVYLXQoZCxoWzFdKS8yLWIpLGhlaWdodDp0KDAsVSh0aGlzLnBsb3RTaXplWS10KGQsaFsyXSkvMi1jKSl9LGF8fHEodGhpcy5heGVzLGZ1bmN0aW9uKGEpe2Euc2V0QXhpc1NpemUoKSxhLnNldEF4aXNUcmFuc2xhdGlvbigpfSl9LHJlc2V0TWFyZ2luczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3BhY2luZyxiPXRoaXMubWFyZ2luO3RoaXMucGxvdFRvcD1wKGJbMF0sYVswXSksdGhpcy5tYXJnaW5SaWdodD1wKGJbMV0sYVsxXSksdGhpcy5tYXJnaW5Cb3R0b209cChiWzJdLGFbMl0pLHRoaXMucGxvdExlZnQ9cChiWzNdLGFbM10pLHRoaXMuYXhpc09mZnNldD1bMCwwLDAsMF0sdGhpcy5jbGlwT2Zmc2V0PVswLDAsMCwwXX0sZHJhd0NoYXJ0Qm94OmZ1bmN0aW9uKCl7dmFyIG0sYT10aGlzLm9wdGlvbnMuY2hhcnQsYj10aGlzLnJlbmRlcmVyLGM9dGhpcy5jaGFydFdpZHRoLGQ9dGhpcy5jaGFydEhlaWdodCxlPXRoaXMuY2hhcnRCYWNrZ3JvdW5kLGY9dGhpcy5wbG90QmFja2dyb3VuZCxnPXRoaXMucGxvdEJvcmRlcixoPXRoaXMucGxvdEJHSW1hZ2UsaT1hLmJvcmRlcldpZHRofHwwLGo9YS5iYWNrZ3JvdW5kQ29sb3Isaz1hLnBsb3RCYWNrZ3JvdW5kQ29sb3IsbD1hLnBsb3RCYWNrZ3JvdW5kSW1hZ2Usbj1hLnBsb3RCb3JkZXJXaWR0aHx8MCxvPXRoaXMucGxvdExlZnQscD10aGlzLnBsb3RUb3AscT10aGlzLnBsb3RXaWR0aCxyPXRoaXMucGxvdEhlaWdodCx0PXRoaXMucGxvdEJveCxzPXRoaXMuY2xpcFJlY3Qsdj10aGlzLmNsaXBCb3g7bT1pKyhhLnNoYWRvdz84OjApLChpfHxqKSYmKGU/ZS5hbmltYXRlKGUuY3Jpc3Aoe3dpZHRoOmMtbSxoZWlnaHQ6ZC1tfSkpOihlPXtmaWxsOmp8fFB9LGkmJihlLnN0cm9rZT1hLmJvcmRlckNvbG9yLGVbInN0cm9rZS13aWR0aCJdPWkpLHRoaXMuY2hhcnRCYWNrZ3JvdW5kPWIucmVjdChtLzIsbS8yLGMtbSxkLW0sYS5ib3JkZXJSYWRpdXMsaSkuYXR0cihlKS5hZGRDbGFzcygiaGlnaGNoYXJ0cy1iYWNrZ3JvdW5kIikuYWRkKCkuc2hhZG93KGEuc2hhZG93KSkpLGsmJihmP2YuYW5pbWF0ZSh0KTp0aGlzLnBsb3RCYWNrZ3JvdW5kPWIucmVjdChvLHAscSxyLDApLmF0dHIoe2ZpbGw6a30pLmFkZCgpLnNoYWRvdyhhLnBsb3RTaGFkb3cpKSxsJiYoaD9oLmFuaW1hdGUodCk6dGhpcy5wbG90QkdJbWFnZT1iLmltYWdlKGwsbyxwLHEscikuYWRkKCkpLHM/cy5hbmltYXRlKHt3aWR0aDp2LndpZHRoLGhlaWdodDp2LmhlaWdodH0pOnRoaXMuY2xpcFJlY3Q9Yi5jbGlwUmVjdCh2KSxuJiYoZz9nLmFuaW1hdGUoZy5jcmlzcCh7eDpvLHk6cCx3aWR0aDpxLGhlaWdodDpyLHN0cm9rZVdpZHRoOi1ufSkpOnRoaXMucGxvdEJvcmRlcj1iLnJlY3QobyxwLHEsciwwLC1uKS5hdHRyKHtzdHJva2U6YS5wbG90Qm9yZGVyQ29sb3IsInN0cm9rZS13aWR0aCI6bixmaWxsOlAsekluZGV4OjF9KS5hZGQoKSksdGhpcy5pc0RpcnR5Qm94PSExfSxwcm9wRnJvbVNlcmllczpmdW5jdGlvbigpe3ZhciBjLGUsZixhPXRoaXMsYj1hLm9wdGlvbnMuY2hhcnQsZD1hLm9wdGlvbnMuc2VyaWVzO3EoWyJpbnZlcnRlZCIsImFuZ3VsYXIiLCJwb2xhciJdLGZ1bmN0aW9uKGcpe2ZvcihjPUhbYi50eXBlfHxiLmRlZmF1bHRTZXJpZXNUeXBlXSxmPWFbZ118fGJbZ118fGMmJmMucHJvdG90eXBlW2ddLGU9ZCYmZC5sZW5ndGg7IWYmJmUtLTspKGM9SFtkW2VdLnR5cGVdKSYmYy5wcm90b3R5cGVbZ10mJihmPSEwKTthW2ddPWZ9KX0sbGlua1NlcmllczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnNlcmllcztxKGIsZnVuY3Rpb24oYSl7YS5saW5rZWRTZXJpZXMubGVuZ3RoPTB9KSxxKGIsZnVuY3Rpb24oYil7dmFyIGQ9Yi5vcHRpb25zLmxpbmtlZFRvO0dhKGQpJiYoZD0iOnByZXZpb3VzIj09PWQ/YS5zZXJpZXNbYi5pbmRleC0xXTphLmdldChkKSkmJihkLmxpbmtlZFNlcmllcy5wdXNoKGIpLGIubGlua2VkUGFyZW50PWQpfSl9LHJlbmRlclNlcmllczpmdW5jdGlvbigpe3EodGhpcy5zZXJpZXMsZnVuY3Rpb24oYSl7YS50cmFuc2xhdGUoKSxhLnNldFRvb2x0aXBQb2ludHMmJmEuc2V0VG9vbHRpcFBvaW50cygpLGEucmVuZGVyKCl9KX0scmVuZGVyTGFiZWxzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEub3B0aW9ucy5sYWJlbHM7Yi5pdGVtcyYmcShiLml0ZW1zLGZ1bmN0aW9uKGMpe3ZhciBkPXIoYi5zdHlsZSxjLnN0eWxlKSxlPXkoZC5sZWZ0KSthLnBsb3RMZWZ0LGY9eShkLnRvcCkrYS5wbG90VG9wKzEyO2RlbGV0ZSBkLmxlZnQsZGVsZXRlIGQudG9wLGEucmVuZGVyZXIudGV4dChjLmh0bWwsZSxmKS5hdHRyKHt6SW5kZXg6Mn0pLmNzcyhkKS5hZGQoKX0pfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmF4ZXMsYj10aGlzLnJlbmRlcmVyLGM9dGhpcy5vcHRpb25zO3RoaXMuc2V0VGl0bGUoKSx0aGlzLmxlZ2VuZD1uZXcgbGIodGhpcyxjLmxlZ2VuZCksdGhpcy5nZXRTdGFja3MoKSxxKGEsZnVuY3Rpb24oYSl7YS5zZXRTY2FsZSgpfSksdGhpcy5nZXRNYXJnaW5zKCksdGhpcy5tYXhUaWNrcz1udWxsLHEoYSxmdW5jdGlvbihhKXthLnNldFRpY2tQb3NpdGlvbnMoITApLGEuc2V0TWF4VGlja3MoKX0pLHRoaXMuYWRqdXN0VGlja0Ftb3VudHMoKSx0aGlzLmdldE1hcmdpbnMoKSx0aGlzLmRyYXdDaGFydEJveCgpLHRoaXMuaGFzQ2FydGVzaWFuU2VyaWVzJiZxKGEsZnVuY3Rpb24oYSl7YS5yZW5kZXIoKX0pLHRoaXMuc2VyaWVzR3JvdXB8fCh0aGlzLnNlcmllc0dyb3VwPWIuZygic2VyaWVzLWdyb3VwIikuYXR0cih7ekluZGV4OjN9KS5hZGQoKSksdGhpcy5yZW5kZXJTZXJpZXMoKSx0aGlzLnJlbmRlckxhYmVscygpLHRoaXMuc2hvd0NyZWRpdHMoYy5jcmVkaXRzKSx0aGlzLmhhc1JlbmRlcmVkPSEwfSxzaG93Q3JlZGl0czpmdW5jdGlvbihhKXthLmVuYWJsZWQmJiF0aGlzLmNyZWRpdHMmJih0aGlzLmNyZWRpdHM9dGhpcy5yZW5kZXJlci50ZXh0KGEudGV4dCwwLDApLm9uKCJjbGljayIsZnVuY3Rpb24oKXthLmhyZWYmJihsb2NhdGlvbi5ocmVmPWEuaHJlZil9KS5hdHRyKHthbGlnbjphLnBvc2l0aW9uLmFsaWduLHpJbmRleDo4fSkuY3NzKGEuc3R5bGUpLmFkZCgpLmFsaWduKGEucG9zaXRpb24pKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlLGE9dGhpcyxiPWEuYXhlcyxjPWEuc2VyaWVzLGQ9YS5jb250YWluZXIsZj1kJiZkLnBhcmVudE5vZGU7Zm9yKEkoYSwiZGVzdHJveSIpLFdbYS5pbmRleF09dSxhYi0tLGEucmVuZGVyVG8ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLWhpZ2hjaGFydHMtY2hhcnQiKSxYKGEpLGU9Yi5sZW5ndGg7ZS0tOyliW2VdPWJbZV0uZGVzdHJveSgpO2ZvcihlPWMubGVuZ3RoO2UtLTspY1tlXT1jW2VdLmRlc3Ryb3koKTtxKCJ0aXRsZSxzdWJ0aXRsZSxjaGFydEJhY2tncm91bmQscGxvdEJhY2tncm91bmQscGxvdEJHSW1hZ2UscGxvdEJvcmRlcixzZXJpZXNHcm91cCxjbGlwUmVjdCxjcmVkaXRzLHBvaW50ZXIsc2Nyb2xsZXIscmFuZ2VTZWxlY3RvcixsZWdlbmQscmVzZXRab29tQnV0dG9uLHRvb2x0aXAscmVuZGVyZXIiLnNwbGl0KCIsIiksZnVuY3Rpb24oYil7dmFyIGM9YVtiXTtjJiZjLmRlc3Ryb3kmJihhW2JdPWMuZGVzdHJveSgpKX0pLGQmJihkLmlubmVySFRNTD0iIixYKGQpLGYmJlFhKGQpKTtmb3IoZSBpbiBhKWRlbGV0ZSBhW2VdfSxpc1JlYWR5VG9SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiFiYSYmRz09Ry50b3AmJiJjb21wbGV0ZSIhPT14LnJlYWR5U3RhdGV8fGdhJiYhRy5jYW52Zz8oZ2E/TWIucHVzaChmdW5jdGlvbigpe2EuZmlyc3RSZW5kZXIoKX0sYS5vcHRpb25zLmdsb2JhbC5jYW52YXNUb29sc1VSTCk6eC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe3guZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsYS5maXJzdFJlbmRlciksImNvbXBsZXRlIj09PXgucmVhZHlTdGF0ZSYmYS5maXJzdFJlbmRlcigpfSksITEpOiEwfSxmaXJzdFJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLm9wdGlvbnMsYz1hLmNhbGxiYWNrO2EuaXNSZWFkeVRvUmVuZGVyKCkmJihhLmdldENvbnRhaW5lcigpLEkoYSwiaW5pdCIpLGEucmVzZXRNYXJnaW5zKCksYS5zZXRDaGFydFNpemUoKSxhLnByb3BGcm9tU2VyaWVzKCksYS5nZXRBeGVzKCkscShiLnNlcmllc3x8W10sZnVuY3Rpb24oYil7YS5pbml0U2VyaWVzKGIpfSksYS5saW5rU2VyaWVzKCksSShhLCJiZWZvcmVSZW5kZXIiKSxLLlBvaW50ZXImJihhLnBvaW50ZXI9bmV3IFdhKGEsYikpLGEucmVuZGVyKCksYS5yZW5kZXJlci5kcmF3KCksYyYmYy5hcHBseShhLFthXSkscShhLmNhbGxiYWNrcyxmdW5jdGlvbihiKXtiLmFwcGx5KGEsW2FdKX0pLGEuY2xvbmVSZW5kZXJUbyghMCksSShhLCJsb2FkIikpfSxzcGxhc2hBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJbYV0sYz1kYShjKT9jOltjLGMsYyxjXTtyZXR1cm5bcChiW2ErIlRvcCJdLGNbMF0pLHAoYlthKyJSaWdodCJdLGNbMV0pLHAoYlthKyJCb3R0b20iXSxjWzJdKSxwKGJbYSsiTGVmdCJdLGNbM10pXX19LFlhLnByb3RvdHlwZS5jYWxsYmFja3M9W10sWj1LLkNlbnRlcmVkU2VyaWVzTWl4aW49e2dldENlbnRlcjpmdW5jdGlvbigpe3ZhciBkLGgsYT10aGlzLm9wdGlvbnMsYj10aGlzLmNoYXJ0LGM9MiooYS5zbGljZWRPZmZzZXR8fDApLGU9Yi5wbG90V2lkdGgtMipjLGY9Yi5wbG90SGVpZ2h0LTIqYyxiPWEuY2VudGVyLGE9W3AoYlswXSwiNTAlIikscChiWzFdLCI1MCUiKSxhLnNpemV8fCIxMDAlIixhLmlubmVyU2l6ZXx8MF0sZz1MKGUsZik7cmV0dXJuIFZhKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm4gaD0vJSQvLnRlc3QoYSksZD0yPmJ8fDI9PT1iJiZoLChoP1tlLGYsZyxnXVtiXSp5KGEpLzEwMDphKSsoZD9jOjApfSl9fTt2YXIgRmE9ZnVuY3Rpb24oKXt9O0ZhLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuc2VyaWVzPWEsdGhpcy5hcHBseU9wdGlvbnMoYixjKSx0aGlzLnBvaW50QXR0cj17fSxhLm9wdGlvbnMuY29sb3JCeVBvaW50JiYoYj1hLm9wdGlvbnMuY29sb3JzfHxhLmNoYXJ0Lm9wdGlvbnMuY29sb3JzLHRoaXMuY29sb3I9dGhpcy5jb2xvcnx8YlthLmNvbG9yQ291bnRlcisrXSxhLmNvbG9yQ291bnRlcj09PWIubGVuZ3RoKSYmKGEuY29sb3JDb3VudGVyPTApLGEuY2hhcnQucG9pbnRDb3VudCsrLHRoaXN9LGFwcGx5T3B0aW9uczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2VyaWVzLGQ9Yy5vcHRpb25zLnBvaW50VmFsS2V5fHxjLnBvaW50VmFsS2V5LGE9RmEucHJvdG90eXBlLm9wdGlvbnNUb09iamVjdC5jYWxsKHRoaXMsYSk7cmV0dXJuIHIodGhpcyxhKSx0aGlzLm9wdGlvbnM9dGhpcy5vcHRpb25zP3IodGhpcy5vcHRpb25zLGEpOmEsZCYmKHRoaXMueT10aGlzW2RdKSx0aGlzLng9PT11JiZjJiYodGhpcy54PWI9PT11P2MuYXV0b0luY3JlbWVudCgpOmIpLHRoaXN9LG9wdGlvbnNUb09iamVjdDpmdW5jdGlvbihhKXt2YXIgYj17fSxjPXRoaXMuc2VyaWVzLGQ9Yy5wb2ludEFycmF5TWFwfHxbInkiXSxlPWQubGVuZ3RoLGY9MCxnPTA7aWYoIm51bWJlciI9PXR5cGVvZiBhfHxudWxsPT09YSliW2RbMF1dPWE7ZWxzZSBpZihIYShhKSlmb3IoYS5sZW5ndGg+ZSYmKGM9dHlwZW9mIGFbMF0sInN0cmluZyI9PT1jP2IubmFtZT1hWzBdOiJudW1iZXIiPT09YyYmKGIueD1hWzBdKSxmKyspO2U+ZzspYltkW2crK11dPWFbZisrXTtlbHNlIm9iamVjdCI9PXR5cGVvZiBhJiYoYj1hLGEuZGF0YUxhYmVscyYmKGMuX2hhc1BvaW50TGFiZWxzPSEwKSxhLm1hcmtlciYmKGMuX2hhc1BvaW50TWFya2Vycz0hMCkpO3JldHVybiBifSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGMsYT10aGlzLnNlcmllcy5jaGFydCxiPWEuaG92ZXJQb2ludHM7YS5wb2ludENvdW50LS0sYiYmKHRoaXMuc2V0U3RhdGUoKSxsYShiLHRoaXMpLCFiLmxlbmd0aCkmJihhLmhvdmVyUG9pbnRzPW51bGwpLHRoaXM9PT1hLmhvdmVyUG9pbnQmJnRoaXMub25Nb3VzZU91dCgpLCh0aGlzLmdyYXBoaWN8fHRoaXMuZGF0YUxhYmVsKSYmKFgodGhpcyksdGhpcy5kZXN0cm95RWxlbWVudHMoKSksdGhpcy5sZWdlbmRJdGVtJiZhLmxlZ2VuZC5kZXN0cm95SXRlbSh0aGlzKTtmb3IoYyBpbiB0aGlzKXRoaXNbY109bnVsbH0sZGVzdHJveUVsZW1lbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBiLGE9ImdyYXBoaWMsZGF0YUxhYmVsLGRhdGFMYWJlbFVwcGVyLGdyb3VwLGNvbm5lY3RvcixzaGFkb3dHcm91cCIuc3BsaXQoIiwiKSxjPTY7Yy0tOyliPWFbY10sdGhpc1tiXSYmKHRoaXNbYl09dGhpc1tiXS5kZXN0cm95KCkpfSxnZXRMYWJlbENvbmZpZzpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMuY2F0ZWdvcnkseTp0aGlzLnksa2V5OnRoaXMubmFtZXx8dGhpcy5jYXRlZ29yeSxzZXJpZXM6dGhpcy5zZXJpZXMscG9pbnQ6dGhpcyxwZXJjZW50YWdlOnRoaXMucGVyY2VudGFnZSx0b3RhbDp0aGlzLnRvdGFsfHx0aGlzLnN0YWNrVG90YWx9fSx0b29sdGlwRm9ybWF0dGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2VyaWVzLGM9Yi50b29sdGlwT3B0aW9ucyxkPXAoYy52YWx1ZURlY2ltYWxzLCIiKSxlPWMudmFsdWVQcmVmaXh8fCIiLGY9Yy52YWx1ZVN1ZmZpeHx8IiI7cmV0dXJuIHEoYi5wb2ludEFycmF5TWFwfHxbInkiXSxmdW5jdGlvbihiKXtiPSJ7cG9pbnQuIitiLChlfHxmKSYmKGE9YS5yZXBsYWNlKGIrIn0iLGUrYisifSIrZikpLGE9YS5yZXBsYWNlKGIrIn0iLGIrIjosLiIrZCsiZn0iKX0pLEphKGEse3BvaW50OnRoaXMsc2VyaWVzOnRoaXMuc2VyaWVzfSl9LGZpcmVQb2ludEV2ZW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9dGhpcy5zZXJpZXMub3B0aW9uczsoZS5wb2ludC5ldmVudHNbYV18fGQub3B0aW9ucyYmZC5vcHRpb25zLmV2ZW50cyYmZC5vcHRpb25zLmV2ZW50c1thXSkmJnRoaXMuaW1wb3J0RXZlbnRzKCksImNsaWNrIj09PWEmJmUuYWxsb3dQb2ludFNlbGVjdCYmKGM9ZnVuY3Rpb24oYSl7ZC5zZWxlY3QobnVsbCxhLmN0cmxLZXl8fGEubWV0YUtleXx8YS5zaGlmdEtleSl9KSxJKHRoaXMsYSxiLGMpfX07dmFyIE89ZnVuY3Rpb24oKXt9O08ucHJvdG90eXBlPXtpc0NhcnRlc2lhbjohMCx0eXBlOiJsaW5lIixwb2ludENsYXNzOkZhLHNvcnRlZDohMCxyZXF1aXJlU29ydGluZzohMCxwb2ludEF0dHJUb09wdGlvbnM6e3N0cm9rZToibGluZUNvbG9yIiwic3Ryb2tlLXdpZHRoIjoibGluZVdpZHRoIixmaWxsOiJmaWxsQ29sb3IiLHI6InJhZGl1cyJ9LGF4aXNUeXBlczpbInhBeGlzIiwieUF4aXMiXSxjb2xvckNvdW50ZXI6MCxwYXJhbGxlbEFycmF5czpbIngiLCJ5Il0saW5pdDpmdW5jdGlvbihhLGIpe3ZhciBkLGUsYz10aGlzLGY9YS5zZXJpZXMsZz1mdW5jdGlvbihhLGIpe3JldHVybiBwKGEub3B0aW9ucy5pbmRleCxhLl9pKS1wKGIub3B0aW9ucy5pbmRleCxiLl9pKX07CmMuY2hhcnQ9YSxjLm9wdGlvbnM9Yj1jLnNldE9wdGlvbnMoYiksYy5saW5rZWRTZXJpZXM9W10sYy5iaW5kQXhlcygpLHIoYyx7bmFtZTpiLm5hbWUsc3RhdGU6IiIscG9pbnRBdHRyOnt9LHZpc2libGU6Yi52aXNpYmxlIT09ITEsc2VsZWN0ZWQ6Yi5zZWxlY3RlZD09PSEwfSksZ2EmJihiLmFuaW1hdGlvbj0hMSksZT1iLmV2ZW50cztmb3IoZCBpbiBlKU4oYyxkLGVbZF0pOyhlJiZlLmNsaWNrfHxiLnBvaW50JiZiLnBvaW50LmV2ZW50cyYmYi5wb2ludC5ldmVudHMuY2xpY2t8fGIuYWxsb3dQb2ludFNlbGVjdCkmJihhLnJ1blRyYWNrZXJDbGljaz0hMCksYy5nZXRDb2xvcigpLGMuZ2V0U3ltYm9sKCkscShjLnBhcmFsbGVsQXJyYXlzLGZ1bmN0aW9uKGEpe2NbYSsiRGF0YSJdPVtdfSksYy5zZXREYXRhKGIuZGF0YSwhMSksYy5pc0NhcnRlc2lhbiYmKGEuaGFzQ2FydGVzaWFuU2VyaWVzPSEwKSxmLnB1c2goYyksYy5faT1mLmxlbmd0aC0xLG9iKGYsZyksdGhpcy55QXhpcyYmb2IodGhpcy55QXhpcy5zZXJpZXMsZykscShmLGZ1bmN0aW9uKGEsYil7YS5pbmRleD1iLGEubmFtZT1hLm5hbWV8fCJTZXJpZXMgIisoYisxKX0pfSxiaW5kQXhlczpmdW5jdGlvbigpe3ZhciBkLGE9dGhpcyxiPWEub3B0aW9ucyxjPWEuY2hhcnQ7cShhLmF4aXNUeXBlc3x8W10sZnVuY3Rpb24oZSl7cShjW2VdLGZ1bmN0aW9uKGMpe2Q9Yy5vcHRpb25zLChiW2VdPT09ZC5pbmRleHx8YltlXSE9PXUmJmJbZV09PT1kLmlkfHxiW2VdPT09dSYmMD09PWQuaW5kZXgpJiYoYy5zZXJpZXMucHVzaChhKSxhW2VdPWMsYy5pc0RpcnR5PSEwKX0pLCFhW2VdJiZhLm9wdGlvbmFsQXhpcyE9PWUmJmhhKDE4LCEwKX0pfSx1cGRhdGVQYXJhbGxlbEFycmF5czpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc2VyaWVzLGQ9YXJndW1lbnRzO3EoYy5wYXJhbGxlbEFycmF5cywibnVtYmVyIj09dHlwZW9mIGI/ZnVuY3Rpb24oZCl7dmFyIGY9InkiPT09ZCYmYy50b1lEYXRhP2MudG9ZRGF0YShhKTphW2RdO2NbZCsiRGF0YSJdW2JdPWZ9OmZ1bmN0aW9uKGEpe0FycmF5LnByb3RvdHlwZVtiXS5hcHBseShjW2ErIkRhdGEiXSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkLDIpKX0pfSxhdXRvSW5jcmVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy54SW5jcmVtZW50LGI9cChiLGEucG9pbnRTdGFydCwwKTtyZXR1cm4gdGhpcy5wb2ludEludGVydmFsPXAodGhpcy5wb2ludEludGVydmFsLGEucG9pbnRJbnRlcnZhbCwxKSx0aGlzLnhJbmNyZW1lbnQ9Yit0aGlzLnBvaW50SW50ZXJ2YWwsYn0sZ2V0U2VnbWVudHM6ZnVuY3Rpb24oKXt2YXIgYyxhPS0xLGI9W10sZD10aGlzLnBvaW50cyxlPWQubGVuZ3RoO2lmKGUpaWYodGhpcy5vcHRpb25zLmNvbm5lY3ROdWxscyl7Zm9yKGM9ZTtjLS07KW51bGw9PT1kW2NdLnkmJmQuc3BsaWNlKGMsMSk7ZC5sZW5ndGgmJihiPVtkXSl9ZWxzZSBxKGQsZnVuY3Rpb24oYyxnKXtudWxsPT09Yy55PyhnPmErMSYmYi5wdXNoKGQuc2xpY2UoYSsxLGcpKSxhPWcpOmc9PT1lLTEmJmIucHVzaChkLnNsaWNlKGErMSxnKzEpKX0pO3RoaXMuc2VnbWVudHM9Yn0sc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9Yi5vcHRpb25zLnBsb3RPcHRpb25zLGI9Yi51c2VyT3B0aW9uc3x8e30sZD1iLnBsb3RPcHRpb25zfHx7fSxlPWNbdGhpcy50eXBlXTtyZXR1cm4gdGhpcy51c2VyT3B0aW9ucz1hLGM9dyhlLGMuc2VyaWVzLGEpLHRoaXMudG9vbHRpcE9wdGlvbnM9dyhFLnRvb2x0aXAsRS5wbG90T3B0aW9uc1t0aGlzLnR5cGVdLnRvb2x0aXAsYi50b29sdGlwLGQuc2VyaWVzJiZkLnNlcmllcy50b29sdGlwLGRbdGhpcy50eXBlXSYmZFt0aGlzLnR5cGVdLnRvb2x0aXAsYS50b29sdGlwKSxudWxsPT09ZS5tYXJrZXImJmRlbGV0ZSBjLm1hcmtlcixjfSxnZXRDeWNsaWM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMudXNlck9wdGlvbnMsZT0iXyIrYSsiSW5kZXgiLGY9YSsiQ291bnRlciI7Ynx8KHMoZFtlXSk/Yj1kW2VdOihkW2VdPWI9dGhpcy5jaGFydFtmXSVjLmxlbmd0aCx0aGlzLmNoYXJ0W2ZdKz0xKSxiPWNbYl0pLHRoaXNbYV09Yn0sZ2V0Q29sb3I6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuY29sb3JCeVBvaW50fHx0aGlzLmdldEN5Y2xpYygiY29sb3IiLHRoaXMub3B0aW9ucy5jb2xvcnx8Y2FbdGhpcy50eXBlXS5jb2xvcix0aGlzLmNoYXJ0Lm9wdGlvbnMuY29sb3JzKX0sZ2V0U3ltYm9sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLm1hcmtlcjt0aGlzLmdldEN5Y2xpYygic3ltYm9sIixhLnN5bWJvbCx0aGlzLmNoYXJ0Lm9wdGlvbnMuc3ltYm9scyksL151cmwvLnRlc3QodGhpcy5zeW1ib2wpJiYoYS5yYWRpdXM9MCl9LGRyYXdMZWdlbmRTeW1ib2w6TS5kcmF3TGluZU1hcmtlcixzZXREYXRhOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBoLGU9dGhpcyxmPWUucG9pbnRzLGc9ZiYmZi5sZW5ndGh8fDAsaT1lLm9wdGlvbnMsaj1lLmNoYXJ0LGs9bnVsbCxsPWUueEF4aXMsbj1sJiYhIWwuY2F0ZWdvcmllcyxtPWUudG9vbHRpcFBvaW50cyxvPWkudHVyYm9UaHJlc2hvbGQscj10aGlzLnhEYXRhLHQ9dGhpcy55RGF0YSxzPShoPWUucG9pbnRBcnJheU1hcCkmJmgubGVuZ3RoLGE9YXx8W107aWYoaD1hLmxlbmd0aCxiPXAoYiwhMCksZD09PSExfHwhaHx8ZyE9PWh8fGUuY3JvcHBlZHx8ZS5oYXNHcm91cGVkRGF0YSl7aWYoZS54SW5jcmVtZW50PW51bGwsZS5wb2ludFJhbmdlPW4/MTppLnBvaW50UmFuZ2UsZS5jb2xvckNvdW50ZXI9MCxxKHRoaXMucGFyYWxsZWxBcnJheXMsZnVuY3Rpb24oYSl7ZVthKyJEYXRhIl0ubGVuZ3RoPTB9KSxvJiZoPm8pe2ZvcihjPTA7bnVsbD09PWsmJmg+Yzspaz1hW2NdLGMrKztpZihqYShrKSl7Zm9yKG49cChpLnBvaW50U3RhcnQsMCksaT1wKGkucG9pbnRJbnRlcnZhbCwxKSxjPTA7aD5jO2MrKylyW2NdPW4sdFtjXT1hW2NdLG4rPWk7ZS54SW5jcmVtZW50PW59ZWxzZSBpZihIYShrKSlpZihzKWZvcihjPTA7aD5jO2MrKylpPWFbY10scltjXT1pWzBdLHRbY109aS5zbGljZSgxLHMrMSk7ZWxzZSBmb3IoYz0wO2g+YztjKyspaT1hW2NdLHJbY109aVswXSx0W2NdPWlbMV07ZWxzZSBoYSgxMil9ZWxzZSBmb3IoYz0wO2g+YztjKyspYVtjXSE9PXUmJihpPXtzZXJpZXM6ZX0sZS5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkoaSxbYVtjXV0pLGUudXBkYXRlUGFyYWxsZWxBcnJheXMoaSxjKSxuJiZpLm5hbWUpJiYobC5uYW1lc1tpLnhdPWkubmFtZSk7Zm9yKEdhKHRbMF0pJiZoYSgxNCwhMCksZS5kYXRhPVtdLGUub3B0aW9ucy5kYXRhPWEsYz1nO2MtLTspZltjXSYmZltjXS5kZXN0cm95JiZmW2NdLmRlc3Ryb3koKTttJiYobS5sZW5ndGg9MCksbCYmKGwubWluUmFuZ2U9bC51c2VyTWluUmFuZ2UpLGUuaXNEaXJ0eT1lLmlzRGlydHlEYXRhPWouaXNEaXJ0eUJveD0hMCxjPSExfWVsc2UgcShhLGZ1bmN0aW9uKGEsYil7ZltiXS51cGRhdGUoYSwhMSxudWxsLCExKX0pO2ImJmoucmVkcmF3KGMpfSxwcm9jZXNzRGF0YTpmdW5jdGlvbihhKXt2YXIgZSxiPXRoaXMueERhdGEsYz10aGlzLnlEYXRhLGQ9Yi5sZW5ndGg7ZT0wO3ZhciBmLGcsaSxoPXRoaXMueEF4aXMsaj10aGlzLm9wdGlvbnM7aT1qLmNyb3BUaHJlc2hvbGQ7dmFyIG4sbSxrPTAsbD10aGlzLmlzQ2FydGVzaWFuO2lmKGwmJiF0aGlzLmlzRGlydHkmJiFoLmlzRGlydHkmJiF0aGlzLnlBeGlzLmlzRGlydHkmJiFhKXJldHVybiExO2ZvcihoJiYobj1oLmdldEV4dHJlbWVzKCksbT1uLm1pbixuPW4ubWF4KSxsJiZ0aGlzLnNvcnRlZCYmKCFpfHxkPml8fHRoaXMuZm9yY2VDcm9wKSYmKGJbZC0xXTxtfHxiWzBdPm4/KGI9W10sYz1bXSk6KGJbMF08bXx8YltkLTFdPm4pJiYoZT10aGlzLmNyb3BEYXRhKHRoaXMueERhdGEsdGhpcy55RGF0YSxtLG4pLGI9ZS54RGF0YSxjPWUueURhdGEsZT1lLnN0YXJ0LGY9ITAsaz1iLmxlbmd0aCkpLGk9Yi5sZW5ndGgtMTtpPj0wO2ktLSlkPWJbaV0tYltpLTFdLCFmJiZiW2ldPm0mJmJbaV08biYmaysrLGQ+MCYmKGc9PT11fHxnPmQpP2c9ZDowPmQmJnRoaXMucmVxdWlyZVNvcnRpbmcmJmhhKDE1KTt0aGlzLmNyb3BwZWQ9Zix0aGlzLmNyb3BTdGFydD1lLHRoaXMucHJvY2Vzc2VkWERhdGE9Yix0aGlzLnByb2Nlc3NlZFlEYXRhPWMsdGhpcy5hY3RpdmVQb2ludENvdW50PWssbnVsbD09PWoucG9pbnRSYW5nZSYmKHRoaXMucG9pbnRSYW5nZT1nfHwxKSx0aGlzLmNsb3Nlc3RQb2ludFJhbmdlPWd9LGNyb3BEYXRhOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBpLGU9YS5sZW5ndGgsZj0wLGc9ZSxoPXAodGhpcy5jcm9wU2hvdWxkZXIsMSk7Zm9yKGk9MDtlPmk7aSsrKWlmKGFbaV0+PWMpe2Y9dCgwLGktaCk7YnJlYWt9Zm9yKDtlPmk7aSsrKWlmKGFbaV0+ZCl7Zz1pK2g7YnJlYWt9cmV0dXJue3hEYXRhOmEuc2xpY2UoZixnKSx5RGF0YTpiLnNsaWNlKGYsZyksc3RhcnQ6ZixlbmQ6Z319LGdlbmVyYXRlUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGMsaSxrLG4sYT10aGlzLm9wdGlvbnMuZGF0YSxiPXRoaXMuZGF0YSxkPXRoaXMucHJvY2Vzc2VkWERhdGEsZT10aGlzLnByb2Nlc3NlZFlEYXRhLGY9dGhpcy5wb2ludENsYXNzLGc9ZC5sZW5ndGgsaD10aGlzLmNyb3BTdGFydHx8MCxqPXRoaXMuaGFzR3JvdXBlZERhdGEsbD1bXTtmb3IoYnx8anx8KGI9W10sYi5sZW5ndGg9YS5sZW5ndGgsYj10aGlzLmRhdGE9Yiksbj0wO2c+bjtuKyspaT1oK24saj9sW25dPShuZXcgZikuaW5pdCh0aGlzLFtkW25dXS5jb25jYXQocmEoZVtuXSkpKTooYltpXT9rPWJbaV06YVtpXSE9PXUmJihiW2ldPWs9KG5ldyBmKS5pbml0KHRoaXMsYVtpXSxkW25dKSksbFtuXT1rKSxsW25dLmluZGV4PWk7aWYoYiYmKGchPT0oYz1iLmxlbmd0aCl8fGopKWZvcihuPTA7Yz5uO24rKyluPT09aCYmIWomJihuKz1nKSxiW25dJiYoYltuXS5kZXN0cm95RWxlbWVudHMoKSxiW25dLnBsb3RYPXUpO3RoaXMuZGF0YT1iLHRoaXMucG9pbnRzPWx9LGdldEV4dHJlbWVzOmZ1bmN0aW9uKGEpe3ZhciBkLGI9dGhpcy55QXhpcyxjPXRoaXMucHJvY2Vzc2VkWERhdGEsZT1bXSxmPTA7ZD10aGlzLnhBeGlzLmdldEV4dHJlbWVzKCk7dmFyIGksaixrLGwsZz1kLm1pbixoPWQubWF4LGE9YXx8dGhpcy5zdGFja2VkWURhdGF8fHRoaXMucHJvY2Vzc2VkWURhdGE7Zm9yKGQ9YS5sZW5ndGgsbD0wO2Q+bDtsKyspaWYoaj1jW2xdLGs9YVtsXSxpPW51bGwhPT1rJiZrIT09dSYmKCFiLmlzTG9nfHxrLmxlbmd0aHx8az4wKSxqPXRoaXMuZ2V0RXh0cmVtZXNGcm9tQWxsfHx0aGlzLmNyb3BwZWR8fChjW2wrMV18fGopPj1nJiYoY1tsLTFdfHxqKTw9aCxpJiZqKWlmKGk9ay5sZW5ndGgpZm9yKDtpLS07KW51bGwhPT1rW2ldJiYoZVtmKytdPWtbaV0pO2Vsc2UgZVtmKytdPWs7dGhpcy5kYXRhTWluPXAodm9pZCAwLE9hKGUpKSx0aGlzLmRhdGFNYXg9cCh2b2lkIDAsQ2EoZSkpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oKXt0aGlzLnByb2Nlc3NlZFhEYXRhfHx0aGlzLnByb2Nlc3NEYXRhKCksdGhpcy5nZW5lcmF0ZVBvaW50cygpO2Zvcih2YXIgYT10aGlzLm9wdGlvbnMsYj1hLnN0YWNraW5nLGM9dGhpcy54QXhpcyxkPWMuY2F0ZWdvcmllcyxlPXRoaXMueUF4aXMsZj10aGlzLnBvaW50cyxnPWYubGVuZ3RoLGg9ISF0aGlzLm1vZGlmeVZhbHVlLGk9YS5wb2ludFBsYWNlbWVudCxqPSJiZXR3ZWVuIj09PWl8fGphKGkpLGs9YS50aHJlc2hvbGQsYT0wO2c+YTthKyspe3ZhciBsPWZbYV0sbj1sLngsbT1sLnksbz1sLmxvdyxxPWImJmUuc3RhY2tzWyh0aGlzLm5lZ1N0YWNrcyYmaz5tPyItIjoiIikrdGhpcy5zdGFja0tleV07ZS5pc0xvZyYmMD49bSYmKGwueT1tPW51bGwsaGEoMTApKSxsLnBsb3RYPWMudHJhbnNsYXRlKG4sMCwwLDAsMSxpLCJmbGFncyI9PT10aGlzLnR5cGUpLGImJnRoaXMudmlzaWJsZSYmcSYmcVtuXSYmKHE9cVtuXSxtPXEucG9pbnRzW3RoaXMuaW5kZXgrIiwiK2FdLG89bVswXSxtPW1bMV0sMD09PW8mJihvPXAoayxlLm1pbikpLGUuaXNMb2cmJjA+PW8mJihvPW51bGwpLGwudG90YWw9bC5zdGFja1RvdGFsPXEudG90YWwsbC5wZXJjZW50YWdlPXEudG90YWwmJmwueS9xLnRvdGFsKjEwMCxsLnN0YWNrWT1tLHEuc2V0T2Zmc2V0KHRoaXMucG9pbnRYT2Zmc2V0fHwwLHRoaXMuYmFyV3x8MCkpLGwueUJvdHRvbT1zKG8pP2UudHJhbnNsYXRlKG8sMCwxLDAsMSk6bnVsbCxoJiYobT10aGlzLm1vZGlmeVZhbHVlKG0sbCkpLGwucGxvdFk9Im51bWJlciI9PXR5cGVvZiBtJiYxLzAhPT1tP2UudHJhbnNsYXRlKG0sMCwxLDAsMSk6dSxsLmNsaWVudFg9aj9jLnRyYW5zbGF0ZShuLDAsMCwwLDEpOmwucGxvdFgsbC5uZWdhdGl2ZT1sLnk8KGt8fDApLGwuY2F0ZWdvcnk9ZCYmZFtsLnhdIT09dT9kW2wueF06bC54fXRoaXMuZ2V0U2VnbWVudHMoKX0sYW5pbWF0ZTpmdW5jdGlvbihhKXt2YXIgZCxiPXRoaXMuY2hhcnQsYz1iLnJlbmRlcmVyO2Q9dGhpcy5vcHRpb25zLmFuaW1hdGlvbjt2YXIgZyxlPXRoaXMuY2xpcEJveHx8Yi5jbGlwQm94LGY9Yi5pbnZlcnRlZDtkJiYhZGEoZCkmJihkPWNhW3RoaXMudHlwZV0uYW5pbWF0aW9uKSxnPVsiX3NoYXJlZENsaXAiLGQuZHVyYXRpb24sZC5lYXNpbmcsZS5oZWlnaHRdLmpvaW4oIiwiKSxhPyhhPWJbZ10sZD1iW2crIm0iXSxhfHwoYltnXT1hPWMuY2xpcFJlY3QocihlLHt3aWR0aDowfSkpLGJbZysibSJdPWQ9Yy5jbGlwUmVjdCgtOTksZj8tYi5wbG90TGVmdDotYi5wbG90VG9wLDk5LGY/Yi5jaGFydFdpZHRoOmIuY2hhcnRIZWlnaHQpKSx0aGlzLmdyb3VwLmNsaXAoYSksdGhpcy5tYXJrZXJHcm91cC5jbGlwKGQpLHRoaXMuc2hhcmVkQ2xpcEtleT1nKTooKGE9YltnXSkmJmEuYW5pbWF0ZSh7d2lkdGg6Yi5wbG90U2l6ZVh9LGQpLGJbZysibSJdJiZiW2crIm0iXS5hbmltYXRlKHt3aWR0aDpiLnBsb3RTaXplWCs5OX0sZCksdGhpcy5hbmltYXRlPW51bGwpfSxhZnRlckFuaW1hdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy5zaGFyZWRDbGlwS2V5LGM9dGhpcy5ncm91cCxkPXRoaXMuY2xpcEJveDtjJiZ0aGlzLm9wdGlvbnMuY2xpcCE9PSExJiYoYiYmZHx8Yy5jbGlwKGQ/YS5yZW5kZXJlci5jbGlwUmVjdChkKTphLmNsaXBSZWN0KSx0aGlzLm1hcmtlckdyb3VwLmNsaXAoKSksSSh0aGlzLCJhZnRlckFuaW1hdGUiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YiYmYVtiXSYmKGR8fChhW2JdPWFbYl0uZGVzdHJveSgpKSxhW2IrIm0iXSYmKGFbYisibSJdPWFbYisibSJdLmRlc3Ryb3koKSkpfSwxMDApfSxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGEsZCxlLGYsZyxoLGksaixrLG0sbyxxLGI9dGhpcy5wb2ludHMsYz10aGlzLmNoYXJ0LGw9dGhpcy5vcHRpb25zLm1hcmtlcixuPXRoaXMucG9pbnRBdHRyWyIiXSx0PXRoaXMubWFya2VyR3JvdXAscz1wKGwuZW5hYmxlZCwhdGhpcy5yZXF1aXJlU29ydGluZ3x8dGhpcy5hY3RpdmVQb2ludENvdW50PC41KnRoaXMueEF4aXMubGVuL2wucmFkaXVzKTtpZihsLmVuYWJsZWQhPT0hMXx8dGhpcy5faGFzUG9pbnRNYXJrZXJzKWZvcihmPWIubGVuZ3RoO2YtLTspZz1iW2ZdLGQ9VShnLnBsb3RYKSxlPWcucGxvdFksaz1nLmdyYXBoaWMsbT1nLm1hcmtlcnx8e30sbz0hIWcubWFya2VyLGE9cyYmbS5lbmFibGVkPT09dXx8bS5lbmFibGVkLHE9Yy5pc0luc2lkZVBsb3QodihkKSxlLGMuaW52ZXJ0ZWQpLGEmJmUhPT11JiYhaXNOYU4oZSkmJm51bGwhPT1nLnk/KGE9Zy5wb2ludEF0dHJbZy5zZWxlY3RlZD8ic2VsZWN0IjoiIl18fG4saD1hLnIsaT1wKG0uc3ltYm9sLHRoaXMuc3ltYm9sKSxqPTA9PT1pLmluZGV4T2YoInVybCIpLGs/a1txPyJzaG93IjoiaGlkZSJdKCEwKS5hbmltYXRlKHIoe3g6ZC1oLHk6ZS1ofSxrLnN5bWJvbE5hbWU/e3dpZHRoOjIqaCxoZWlnaHQ6MipofTp7fSkpOnEmJihoPjB8fGopJiYoZy5ncmFwaGljPWMucmVuZGVyZXIuc3ltYm9sKGksZC1oLGUtaCwyKmgsMipoLG8/bTpsKS5hdHRyKGEpLmFkZCh0KSkpOmsmJihnLmdyYXBoaWM9ay5kZXN0cm95KCkpfSxjb252ZXJ0QXR0cmliczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZixnLGU9dGhpcy5wb2ludEF0dHJUb09wdGlvbnMsaD17fSxhPWF8fHt9LGI9Ynx8e30sYz1jfHx7fSxkPWR8fHt9O2ZvcihmIGluIGUpZz1lW2ZdLGhbZl09cChhW2ddLGJbZl0sY1tmXSxkW2ZdKTtyZXR1cm4gaH0sZ2V0QXR0cmliczpmdW5jdGlvbigpe3ZhciBmLGE9dGhpcyxiPWEub3B0aW9ucyxjPWNhW2EudHlwZV0ubWFya2VyP2IubWFya2VyOmIsZD1jLnN0YXRlcyxlPWQuaG92ZXIsZz1hLmNvbG9yO2Y9e3N0cm9rZTpnLGZpbGw6Z307dmFyIGksayxoPWEucG9pbnRzfHxbXSxqPVtdLGw9YS5wb2ludEF0dHJUb09wdGlvbnM7az1hLmhhc1BvaW50U3BlY2lmaWNPcHRpb25zO3ZhciBuPWIubmVnYXRpdmVDb2xvcixtPWMubGluZUNvbG9yLG89Yy5maWxsQ29sb3I7aT1iLnR1cmJvVGhyZXNob2xkO3ZhciBwO2lmKGIubWFya2VyPyhlLnJhZGl1cz1lLnJhZGl1c3x8Yy5yYWRpdXMrZS5yYWRpdXNQbHVzLGUubGluZVdpZHRoPWUubGluZVdpZHRofHxjLmxpbmVXaWR0aCtlLmxpbmVXaWR0aFBsdXMpOmUuY29sb3I9ZS5jb2xvcnx8eWEoZS5jb2xvcnx8ZykuYnJpZ2h0ZW4oZS5icmlnaHRuZXNzKS5nZXQoKSxqWyIiXT1hLmNvbnZlcnRBdHRyaWJzKGMsZikscShbImhvdmVyIiwic2VsZWN0Il0sZnVuY3Rpb24oYil7altiXT1hLmNvbnZlcnRBdHRyaWJzKGRbYl0salsiIl0pfSksYS5wb2ludEF0dHI9aixnPWgubGVuZ3RoLCFpfHxpPmd8fGspZm9yKDtnLS07KXtpZihpPWhbZ10sKGM9aS5vcHRpb25zJiZpLm9wdGlvbnMubWFya2VyfHxpLm9wdGlvbnMpJiZjLmVuYWJsZWQ9PT0hMSYmKGMucmFkaXVzPTApLGkubmVnYXRpdmUmJm4mJihpLmNvbG9yPWkuZmlsbENvbG9yPW4pLGs9Yi5jb2xvckJ5UG9pbnR8fGkuY29sb3IsaS5vcHRpb25zKWZvcihwIGluIGwpcyhjW2xbcF1dKSYmKGs9ITApO2s/KGM9Y3x8e30saz1bXSxkPWMuc3RhdGVzfHx7fSxmPWQuaG92ZXI9ZC5ob3Zlcnx8e30sYi5tYXJrZXJ8fChmLmNvbG9yPWYuY29sb3J8fCFpLm9wdGlvbnMuY29sb3ImJmUuY29sb3J8fHlhKGkuY29sb3IpLmJyaWdodGVuKGYuYnJpZ2h0bmVzc3x8ZS5icmlnaHRuZXNzKS5nZXQoKSksZj17Y29sb3I6aS5jb2xvcn0sb3x8KGYuZmlsbENvbG9yPWkuY29sb3IpLG18fChmLmxpbmVDb2xvcj1pLmNvbG9yKSxrWyIiXT1hLmNvbnZlcnRBdHRyaWJzKHIoZixjKSxqWyIiXSksay5ob3Zlcj1hLmNvbnZlcnRBdHRyaWJzKGQuaG92ZXIsai5ob3ZlcixrWyIiXSksay5zZWxlY3Q9YS5jb252ZXJ0QXR0cmlicyhkLnNlbGVjdCxqLnNlbGVjdCxrWyIiXSkpOms9aixpLnBvaW50QXR0cj1rfX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBkLGUsZyxoLGksYT10aGlzLGI9YS5jaGFydCxjPS9BcHBsZVdlYktpdFwvNTMzLy50ZXN0KHdhKSxmPWEuZGF0YXx8W107Zm9yKEkoYSwiZGVzdHJveSIpLFgoYSkscShhLmF4aXNUeXBlc3x8W10sZnVuY3Rpb24oYil7KGk9YVtiXSkmJihsYShpLnNlcmllcyxhKSxpLmlzRGlydHk9aS5mb3JjZVJlZHJhdz0hMCl9KSxhLmxlZ2VuZEl0ZW0mJmEuY2hhcnQubGVnZW5kLmRlc3Ryb3lJdGVtKGEpLGU9Zi5sZW5ndGg7ZS0tOykoZz1mW2VdKSYmZy5kZXN0cm95JiZnLmRlc3Ryb3koKTthLnBvaW50cz1udWxsLGNsZWFyVGltZW91dChhLmFuaW1hdGlvblRpbWVvdXQpLHEoImFyZWEsZ3JhcGgsZGF0YUxhYmVsc0dyb3VwLGdyb3VwLG1hcmtlckdyb3VwLHRyYWNrZXIsZ3JhcGhOZWcsYXJlYU5lZyxwb3NDbGlwLG5lZ0NsaXAiLnNwbGl0KCIsIiksZnVuY3Rpb24oYil7YVtiXSYmKGQ9YyYmImdyb3VwIj09PWI/ImhpZGUiOiJkZXN0cm95IixhW2JdW2RdKCkpfSksYi5ob3ZlclNlcmllcz09PWEmJihiLmhvdmVyU2VyaWVzPW51bGwpLGxhKGIuc2VyaWVzLGEpO2ZvcihoIGluIGEpZGVsZXRlIGFbaF19LGdldFNlZ21lbnRQYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1bXSxkPWIub3B0aW9ucy5zdGVwO3JldHVybiBxKGEsZnVuY3Rpb24oZSxmKXt2YXIgaSxnPWUucGxvdFgsaD1lLnBsb3RZO2IuZ2V0UG9pbnRTcGxpbmU/Yy5wdXNoLmFwcGx5KGMsYi5nZXRQb2ludFNwbGluZShhLGUsZikpOihjLnB1c2goZj8iTCI6Ik0iKSxkJiZmJiYoaT1hW2YtMV0sInJpZ2h0Ij09PWQ/Yy5wdXNoKGkucGxvdFgsaCk6ImNlbnRlciI9PT1kP2MucHVzaCgoaS5wbG90WCtnKS8yLGkucGxvdFksKGkucGxvdFgrZykvMixoKTpjLnB1c2goZyxpLnBsb3RZKSksYy5wdXNoKGUucGxvdFgsZS5wbG90WSkpfSksY30sZ2V0R3JhcGhQYXRoOmZ1bmN0aW9uKCl7dmFyIGMsYT10aGlzLGI9W10sZD1bXTtyZXR1cm4gcShhLnNlZ21lbnRzLGZ1bmN0aW9uKGUpe2M9YS5nZXRTZWdtZW50UGF0aChlKSxlLmxlbmd0aD4xP2I9Yi5jb25jYXQoYyk6ZC5wdXNoKGVbMF0pfSksYS5zaW5nbGVQb2ludHM9ZCxhLmdyYXBoUGF0aD1ifSxkcmF3R3JhcGg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9dGhpcy5vcHRpb25zLGM9W1siZ3JhcGgiLGIubGluZUNvbG9yfHx0aGlzLmNvbG9yXV0sZD1iLmxpbmVXaWR0aCxlPWIuZGFzaFN0eWxlLGY9InNxdWFyZSIhPT1iLmxpbmVjYXAsZz10aGlzLmdldEdyYXBoUGF0aCgpLGg9Yi5uZWdhdGl2ZUNvbG9yO2gmJmMucHVzaChbImdyYXBoTmVnIixoXSkscShjLGZ1bmN0aW9uKGMsaCl7dmFyIGs9Y1swXSxsPWFba107bD8oYmIobCksbC5hbmltYXRlKHtkOmd9KSk6ZCYmZy5sZW5ndGgmJihsPXtzdHJva2U6Y1sxXSwic3Ryb2tlLXdpZHRoIjpkLGZpbGw6UCx6SW5kZXg6MX0sZT9sLmRhc2hzdHlsZT1lOmYmJihsWyJzdHJva2UtbGluZWNhcCJdPWxbInN0cm9rZS1saW5lam9pbiJdPSJyb3VuZCIpLGFba109YS5jaGFydC5yZW5kZXJlci5wYXRoKGcpLmF0dHIobCkuYWRkKGEuZ3JvdXApLnNoYWRvdyghaCYmYi5zaGFkb3cpKX0pfSxjbGlwTmVnOmZ1bmN0aW9uKCl7dmFyIGUsYT10aGlzLm9wdGlvbnMsYj10aGlzLmNoYXJ0LGM9Yi5yZW5kZXJlcixkPWEubmVnYXRpdmVDb2xvcnx8YS5uZWdhdGl2ZUZpbGxDb2xvcixmPXRoaXMuZ3JhcGgsZz10aGlzLmFyZWEsaD10aGlzLnBvc0NsaXAsaT10aGlzLm5lZ0NsaXA7ZT1iLmNoYXJ0V2lkdGg7dmFyIGo9Yi5jaGFydEhlaWdodCxrPXQoZSxqKSxsPXRoaXMueUF4aXM7ZCYmKGZ8fGcpJiYoZD12KGwudG9QaXhlbHMoYS50aHJlc2hvbGR8fDAsITApKSwwPmQmJihrLT1kKSxhPXt4OjAseTowLHdpZHRoOmssaGVpZ2h0OmR9LGs9e3g6MCx5OmQsd2lkdGg6ayxoZWlnaHQ6a30sYi5pbnZlcnRlZCYmKGEuaGVpZ2h0PWsueT1iLnBsb3RXaWR0aC1kLGMuaXNWTUwmJihhPXt4OmIucGxvdFdpZHRoLWQtYi5wbG90TGVmdCx5OjAsd2lkdGg6ZSxoZWlnaHQ6an0saz17eDpkK2IucGxvdExlZnQtZSx5OjAsd2lkdGg6Yi5wbG90TGVmdCtkLGhlaWdodDplfSkpLGwucmV2ZXJzZWQ/KGI9ayxlPWEpOihiPWEsZT1rKSxoPyhoLmFuaW1hdGUoYiksaS5hbmltYXRlKGUpKToodGhpcy5wb3NDbGlwPWg9Yy5jbGlwUmVjdChiKSx0aGlzLm5lZ0NsaXA9aT1jLmNsaXBSZWN0KGUpLGYmJnRoaXMuZ3JhcGhOZWcmJihmLmNsaXAoaCksdGhpcy5ncmFwaE5lZy5jbGlwKGkpKSxnJiYoZy5jbGlwKGgpLHRoaXMuYXJlYU5lZy5jbGlwKGkpKSkpfSxpbnZlcnRHcm91cHM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGE9e3dpZHRoOmIueUF4aXMubGVuLGhlaWdodDpiLnhBeGlzLmxlbn07cShbImdyb3VwIiwibWFya2VyR3JvdXAiXSxmdW5jdGlvbihjKXtiW2NdJiZiW2NdLmF0dHIoYSkuaW52ZXJ0KCl9KX12YXIgYj10aGlzLGM9Yi5jaGFydDtiLnhBeGlzJiYoTihjLCJyZXNpemUiLGEpLE4oYiwiZGVzdHJveSIsZnVuY3Rpb24oKXtYKGMsInJlc2l6ZSIsYSl9KSxhKCksYi5pbnZlcnRHcm91cHM9YSl9LHBsb3RHcm91cDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXNbYV0sZz0hZjtyZXR1cm4gZyYmKHRoaXNbYV09Zj10aGlzLmNoYXJ0LnJlbmRlcmVyLmcoYikuYXR0cih7dmlzaWJpbGl0eTpjLHpJbmRleDpkfHwuMX0pLmFkZChlKSksZltnPyJhdHRyIjoiYW5pbWF0ZSJdKHRoaXMuZ2V0UGxvdEJveCgpKSxmfSxnZXRQbG90Qm94OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPXRoaXMueEF4aXMsYz10aGlzLnlBeGlzO3JldHVybiBhLmludmVydGVkJiYoYj1jLGM9dGhpcy54QXhpcykse3RyYW5zbGF0ZVg6Yj9iLmxlZnQ6YS5wbG90TGVmdCx0cmFuc2xhdGVZOmM/Yy50b3A6YS5wbG90VG9wLHNjYWxlWDoxLHNjYWxlWToxfX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGMsYT10aGlzLGI9YS5jaGFydCxkPWEub3B0aW9ucyxlPShjPWQuYW5pbWF0aW9uKSYmISFhLmFuaW1hdGUmJmIucmVuZGVyZXIuaXNTVkcmJnAoYy5kdXJhdGlvbiw1MDApfHwwLGY9YS52aXNpYmxlPyJ2aXNpYmxlIjoiaGlkZGVuIixnPWQuekluZGV4LGg9YS5oYXNSZW5kZXJlZCxpPWIuc2VyaWVzR3JvdXA7Yz1hLnBsb3RHcm91cCgiZ3JvdXAiLCJzZXJpZXMiLGYsZyxpKSxhLm1hcmtlckdyb3VwPWEucGxvdEdyb3VwKCJtYXJrZXJHcm91cCIsIm1hcmtlcnMiLGYsZyxpKSxlJiZhLmFuaW1hdGUoITApLGEuZ2V0QXR0cmlicygpLGMuaW52ZXJ0ZWQ9YS5pc0NhcnRlc2lhbj9iLmludmVydGVkOiExLGEuZHJhd0dyYXBoJiYoYS5kcmF3R3JhcGgoKSxhLmNsaXBOZWcoKSkscShhLnBvaW50cyxmdW5jdGlvbihhKXthLnJlZHJhdyYmYS5yZWRyYXcoKX0pLGEuZHJhd0RhdGFMYWJlbHMmJmEuZHJhd0RhdGFMYWJlbHMoKSxhLnZpc2libGUmJmEuZHJhd1BvaW50cygpLGEuZHJhd1RyYWNrZXImJmEub3B0aW9ucy5lbmFibGVNb3VzZVRyYWNraW5nIT09ITEmJmEuZHJhd1RyYWNrZXIoKSxiLmludmVydGVkJiZhLmludmVydEdyb3VwcygpLGQuY2xpcCE9PSExJiYhYS5zaGFyZWRDbGlwS2V5JiYhaCYmYy5jbGlwKGIuY2xpcFJlY3QpLGUmJmEuYW5pbWF0ZSgpLGh8fChlP2EuYW5pbWF0aW9uVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5hZnRlckFuaW1hdGUoKX0sZSk6YS5hZnRlckFuaW1hdGUoKSksYS5pc0RpcnR5PWEuaXNEaXJ0eURhdGE9ITEsYS5oYXNSZW5kZXJlZD0hMH0scmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPXRoaXMuaXNEaXJ0eURhdGEsYz10aGlzLmdyb3VwLGQ9dGhpcy54QXhpcyxlPXRoaXMueUF4aXM7YyYmKGEuaW52ZXJ0ZWQmJmMuYXR0cih7d2lkdGg6YS5wbG90V2lkdGgsaGVpZ2h0OmEucGxvdEhlaWdodH0pLGMuYW5pbWF0ZSh7dHJhbnNsYXRlWDpwKGQmJmQubGVmdCxhLnBsb3RMZWZ0KSx0cmFuc2xhdGVZOnAoZSYmZS50b3AsYS5wbG90VG9wKX0pKSx0aGlzLnRyYW5zbGF0ZSgpLHRoaXMuc2V0VG9vbHRpcFBvaW50cyYmdGhpcy5zZXRUb29sdGlwUG9pbnRzKCEwKSx0aGlzLnJlbmRlcigpLGImJkkodGhpcywidXBkYXRlZERhdGEiKX19LEdiLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe1BhKHRoaXMsdGhpcy5heGlzKX0scmVuZGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWIuZm9ybWF0LGM9Yz9KYShjLHRoaXMpOmIuZm9ybWF0dGVyLmNhbGwodGhpcyk7dGhpcy5sYWJlbD90aGlzLmxhYmVsLmF0dHIoe3RleHQ6Yyx2aXNpYmlsaXR5OiJoaWRkZW4ifSk6dGhpcy5sYWJlbD10aGlzLmF4aXMuY2hhcnQucmVuZGVyZXIudGV4dChjLG51bGwsbnVsbCxiLnVzZUhUTUwpLmNzcyhiLnN0eWxlKS5hdHRyKHthbGlnbjp0aGlzLnRleHRBbGlnbixyb3RhdGlvbjpiLnJvdGF0aW9uLHZpc2liaWxpdHk6ImhpZGRlbiJ9KS5hZGQoYSl9LHNldE9mZnNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYXhpcyxkPWMuY2hhcnQsZT1kLmludmVydGVkLGY9dGhpcy5pc05lZ2F0aXZlLGc9Yy50cmFuc2xhdGUoYy51c2VQZXJjZW50YWdlPzEwMDp0aGlzLnRvdGFsLDAsMCwwLDEpLGM9Yy50cmFuc2xhdGUoMCksYz1RKGctYyksaD1kLnhBeGlzWzBdLnRyYW5zbGF0ZSh0aGlzLngpK2EsaT1kLnBsb3RIZWlnaHQsZj17eDplP2Y/ZzpnLWM6aCx5OmU/aS1oLWI6Zj9pLWctYzppLWcsd2lkdGg6ZT9jOmIsaGVpZ2h0OmU/YjpjfTsoZT10aGlzLmxhYmVsKSYmKGUuYWxpZ24odGhpcy5hbGlnbk9wdGlvbnMsbnVsbCxmKSxmPWUuYWxpZ25BdHRyLGVbdGhpcy5vcHRpb25zLmNyb3A9PT0hMXx8ZC5pc0luc2lkZVBsb3QoZi54LGYueSk/InNob3ciOiJoaWRlIl0oITApKX19LG5hLnByb3RvdHlwZS5idWlsZFN0YWNrcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VyaWVzLGI9cCh0aGlzLm9wdGlvbnMucmV2ZXJzZWRTdGFja3MsITApLGM9YS5sZW5ndGg7aWYoIXRoaXMuaXNYQXhpcyl7Zm9yKHRoaXMudXNlUGVyY2VudGFnZT0hMTtjLS07KWFbYj9jOmEubGVuZ3RoLWMtMV0uc2V0U3RhY2tlZFBvaW50cygpO2lmKHRoaXMudXNlUGVyY2VudGFnZSlmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWFbY10uc2V0UGVyY2VudFN0YWNrcygpfX0sbmEucHJvdG90eXBlLnJlbmRlclN0YWNrVG90YWxzPWZ1bmN0aW9uKCl7dmFyIGQsZSxhPXRoaXMuY2hhcnQsYj1hLnJlbmRlcmVyLGM9dGhpcy5zdGFja3MsZj10aGlzLnN0YWNrVG90YWxHcm91cDtmfHwodGhpcy5zdGFja1RvdGFsR3JvdXA9Zj1iLmcoInN0YWNrLWxhYmVscyIpLmF0dHIoe3Zpc2liaWxpdHk6InZpc2libGUiLHpJbmRleDo2fSkuYWRkKCkpLGYudHJhbnNsYXRlKGEucGxvdExlZnQsYS5wbG90VG9wKTtmb3IoZCBpbiBjKWZvcihlIGluIGE9Y1tkXSlhW2VdLnJlbmRlcihmKX0sTy5wcm90b3R5cGUuc2V0U3RhY2tlZFBvaW50cz1mdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5zdGFja2luZyYmKHRoaXMudmlzaWJsZT09PSEwfHx0aGlzLmNoYXJ0Lm9wdGlvbnMuY2hhcnQuaWdub3JlSGlkZGVuU2VyaWVzPT09ITEpKXt2YXIgbSxvLHAscSxyLHMsYT10aGlzLnByb2Nlc3NlZFhEYXRhLGI9dGhpcy5wcm9jZXNzZWRZRGF0YSxjPVtdLGQ9Yi5sZW5ndGgsZT10aGlzLm9wdGlvbnMsZj1lLnRocmVzaG9sZCxnPWUuc3RhY2ssZT1lLnN0YWNraW5nLGg9dGhpcy5zdGFja0tleSxpPSItIitoLGo9dGhpcy5uZWdTdGFja3Msaz10aGlzLnlBeGlzLGw9ay5zdGFja3Msbj1rLm9sZFN0YWNrcztmb3IocT0wO2Q+cTtxKyspcj1hW3FdLHM9YltxXSxwPXRoaXMuaW5kZXgrIiwiK3Esbz0obT1qJiZmPnMpP2k6aCxsW29dfHwobFtvXT17fSksbFtvXVtyXXx8KG5bb10mJm5bb11bcl0/KGxbb11bcl09bltvXVtyXSxsW29dW3JdLnRvdGFsPW51bGwpOmxbb11bcl09bmV3IEdiKGssay5vcHRpb25zLnN0YWNrTGFiZWxzLG0scixnKSksbz1sW29dW3JdLG8ucG9pbnRzW3BdPVtvLmN1bXx8MF0sInBlcmNlbnQiPT09ZT8obT1tP2g6aSxqJiZsW21dJiZsW21dW3JdPyhtPWxbbV1bcl0sby50b3RhbD1tLnRvdGFsPXQobS50b3RhbCxvLnRvdGFsKStRKHMpfHwwKTpvLnRvdGFsPWVhKG8udG90YWwrKFEocyl8fDApKSk6by50b3RhbD1lYShvLnRvdGFsKyhzfHwwKSksby5jdW09KG8uY3VtfHwwKSsoc3x8MCksby5wb2ludHNbcF0ucHVzaChvLmN1bSksY1txXT1vLmN1bTsicGVyY2VudCI9PT1lJiYoay51c2VQZXJjZW50YWdlPSEwKSx0aGlzLnN0YWNrZWRZRGF0YT1jLGsub2xkU3RhY2tzPXt9fX0sTy5wcm90b3R5cGUuc2V0UGVyY2VudFN0YWNrcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnN0YWNrS2V5LGM9YS55QXhpcy5zdGFja3MsZD1hLnByb2Nlc3NlZFhEYXRhO3EoW2IsIi0iK2JdLGZ1bmN0aW9uKGIpe2Zvcih2YXIgZSxnLGgsZj1kLmxlbmd0aDtmLS07KWc9ZFtmXSxlPShoPWNbYl0mJmNbYl1bZ10pJiZoLnBvaW50c1thLmluZGV4KyIsIitmXSwoZz1lKSYmKGg9aC50b3RhbD8xMDAvaC50b3RhbDowLGdbMF09ZWEoZ1swXSpoKSxnWzFdPWVhKGdbMV0qaCksYS5zdGFja2VkWURhdGFbZl09Z1sxXSl9KX0scihZYS5wcm90b3R5cGUse2FkZFNlcmllczpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzO3JldHVybiBhJiYoYj1wKGIsITApLEkoZSwiYWRkU2VyaWVzIix7b3B0aW9uczphfSxmdW5jdGlvbigpe2Q9ZS5pbml0U2VyaWVzKGEpLGUuaXNEaXJ0eUxlZ2VuZD0hMCxlLmxpbmtTZXJpZXMoKSxiJiZlLnJlZHJhdyhjKX0pKSxkfSxhZGRBeGlzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWI/InhBeGlzIjoieUF4aXMiLGY9dGhpcy5vcHRpb25zO25ldyBuYSh0aGlzLHcoYSx7aW5kZXg6dGhpc1tlXS5sZW5ndGgsaXNYOmJ9KSksZltlXT1yYShmW2VdfHx7fSksZltlXS5wdXNoKGEpLHAoYywhMCkmJnRoaXMucmVkcmF3KGQpfSxzaG93TG9hZGluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5vcHRpb25zLGQ9Yi5sb2FkaW5nRGl2LGU9Yy5sb2FkaW5nLGY9ZnVuY3Rpb24oKXtkJiZCKGQse2xlZnQ6Yi5wbG90TGVmdCsicHgiLHRvcDpiLnBsb3RUb3ArInB4Iix3aWR0aDpiLnBsb3RXaWR0aCsicHgiLGhlaWdodDpiLnBsb3RIZWlnaHQrInB4In0pfTtkfHwoYi5sb2FkaW5nRGl2PWQ9JChLYSx7Y2xhc3NOYW1lOiJoaWdoY2hhcnRzLWxvYWRpbmcifSxyKGUuc3R5bGUse3pJbmRleDoxMCxkaXNwbGF5OlB9KSxiLmNvbnRhaW5lciksYi5sb2FkaW5nU3Bhbj0kKCJzcGFuIixudWxsLGUubGFiZWxTdHlsZSxkKSxOKGIsInJlZHJhdyIsZikpLGIubG9hZGluZ1NwYW4uaW5uZXJIVE1MPWF8fGMubGFuZy5sb2FkaW5nLGIubG9hZGluZ1Nob3dufHwoQihkLHtvcGFjaXR5OjAsZGlzcGxheToiIn0pLGpiKGQse29wYWNpdHk6ZS5zdHlsZS5vcGFjaXR5fSx7ZHVyYXRpb246ZS5zaG93RHVyYXRpb258fDB9KSxiLmxvYWRpbmdTaG93bj0hMCksZigpfSxoaWRlTG9hZGluZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMubG9hZGluZ0RpdjtiJiZqYihiLHtvcGFjaXR5OjB9LHtkdXJhdGlvbjphLmxvYWRpbmcuaGlkZUR1cmF0aW9ufHwxMDAsY29tcGxldGU6ZnVuY3Rpb24oKXtCKGIse2Rpc3BsYXk6UH0pfX0pLHRoaXMubG9hZGluZ1Nob3duPSExfX0pLHIoRmEucHJvdG90eXBlLHt1cGRhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2YuYXBwbHlPcHRpb25zKGEpLGRhKGEpJiYhSGEoYSkmJihmLnJlZHJhdz1mdW5jdGlvbigpe2gmJihhJiZhLm1hcmtlciYmYS5tYXJrZXIuc3ltYm9sP2YuZ3JhcGhpYz1oLmRlc3Ryb3koKTpoLmF0dHIoZi5wb2ludEF0dHJbZi5zdGF0ZXx8IiJdKSksYSYmYS5kYXRhTGFiZWxzJiZmLmRhdGFMYWJlbCYmKGYuZGF0YUxhYmVsPWYuZGF0YUxhYmVsLmRlc3Ryb3koKSksZi5yZWRyYXc9bnVsbH0pLGk9Zi5pbmRleCxnLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGYsaSksay5kYXRhW2ldPWYub3B0aW9ucyxnLmlzRGlydHk9Zy5pc0RpcnR5RGF0YT0hMCwhZy5maXhlZEJveCYmZy5oYXNDYXJ0ZXNpYW5TZXJpZXMmJihqLmlzRGlydHlCb3g9ITApLCJwb2ludCI9PT1rLmxlZ2VuZFR5cGUmJmoubGVnZW5kLmRlc3Ryb3lJdGVtKGYpLGImJmoucmVkcmF3KGMpfXZhciBpLGY9dGhpcyxnPWYuc2VyaWVzLGg9Zi5ncmFwaGljLGo9Zy5jaGFydCxrPWcub3B0aW9ucyxiPXAoYiwhMCk7ZD09PSExP2UoKTpmLmZpcmVQb2ludEV2ZW50KCJ1cGRhdGUiLHtvcHRpb25zOmF9LGUpfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgZyxjPXRoaXMsZD1jLnNlcmllcyxlPWQucG9pbnRzLGY9ZC5jaGFydCxoPWQuZGF0YTtSYShiLGYpLGE9cChhLCEwKSxjLmZpcmVQb2ludEV2ZW50KCJyZW1vdmUiLG51bGwsZnVuY3Rpb24oKXtnPU1hKGMsaCksaC5sZW5ndGg9PT1lLmxlbmd0aCYmZS5zcGxpY2UoZywxKSxoLnNwbGljZShnLDEpLGQub3B0aW9ucy5kYXRhLnNwbGljZShnLDEpLGQudXBkYXRlUGFyYWxsZWxBcnJheXMoYywic3BsaWNlIixnLDEpLGMuZGVzdHJveSgpLGQuaXNEaXJ0eT0hMCxkLmlzRGlydHlEYXRhPSEwLGEmJmYucmVkcmF3KCl9KX19KSxyKE8ucHJvdG90eXBlLHthZGRQb2ludDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgbixlPXRoaXMub3B0aW9ucyxmPXRoaXMuZGF0YSxnPXRoaXMuZ3JhcGgsaD10aGlzLmFyZWEsaT10aGlzLmNoYXJ0LGo9dGhpcy54QXhpcyYmdGhpcy54QXhpcy5uYW1lcyxrPWcmJmcuc2hpZnR8fDAsbD1lLmRhdGEsbT10aGlzLnhEYXRhO2lmKFJhKGQsaSksYyYmcShbZyxoLHRoaXMuZ3JhcGhOZWcsdGhpcy5hcmVhTmVnXSxmdW5jdGlvbihhKXthJiYoYS5zaGlmdD1rKzEpfSksaCYmKGguaXNBcmVhPSEwKSxiPXAoYiwhMCksZD17c2VyaWVzOnRoaXN9LHRoaXMucG9pbnRDbGFzcy5wcm90b3R5cGUuYXBwbHlPcHRpb25zLmFwcGx5KGQsW2FdKSxnPWQueCxoPW0ubGVuZ3RoLHRoaXMucmVxdWlyZVNvcnRpbmcmJmc8bVtoLTFdKWZvcihuPSEwO2gmJm1baC0xXT5nOyloLS07dGhpcy51cGRhdGVQYXJhbGxlbEFycmF5cyhkLCJzcGxpY2UiLGgsMCwwKSx0aGlzLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGQsaCksaiYmZC5uYW1lJiYoaltnXT1kLm5hbWUpLGwuc3BsaWNlKGgsMCxhKSxuJiYodGhpcy5kYXRhLnNwbGljZShoLDAsbnVsbCksdGhpcy5wcm9jZXNzRGF0YSgpKSwicG9pbnQiPT09ZS5sZWdlbmRUeXBlJiZ0aGlzLmdlbmVyYXRlUG9pbnRzKCksYyYmKGZbMF0mJmZbMF0ucmVtb3ZlP2ZbMF0ucmVtb3ZlKCExKTooZi5zaGlmdCgpLHRoaXMudXBkYXRlUGFyYWxsZWxBcnJheXMoZCwic2hpZnQiKSxsLnNoaWZ0KCkpKSx0aGlzLmlzRGlydHlEYXRhPXRoaXMuaXNEaXJ0eT0hMCxiJiYodGhpcy5nZXRBdHRyaWJzKCksaS5yZWRyYXcoKSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNoYXJ0LGE9cChhLCEwKTtjLmlzUmVtb3Zpbmd8fChjLmlzUmVtb3Zpbmc9ITAsSShjLCJyZW1vdmUiLG51bGwsZnVuY3Rpb24oKXtjLmRlc3Ryb3koKSxkLmlzRGlydHlMZWdlbmQ9ZC5pc0RpcnR5Qm94PSEwLGQubGlua1NlcmllcygpLGEmJmQucmVkcmF3KGIpfSkpLGMuaXNSZW1vdmluZz0hMX0sdXBkYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGksYz10aGlzLGQ9dGhpcy5jaGFydCxlPXRoaXMudXNlck9wdGlvbnMsZj10aGlzLnR5cGUsZz1IW2ZdLnByb3RvdHlwZSxoPVsiZ3JvdXAiLCJtYXJrZXJHcm91cCIsImRhdGFMYWJlbHNHcm91cCJdO3EoaCxmdW5jdGlvbihhKXtoW2FdPWNbYV0sZGVsZXRlIGNbYV19KSxhPXcoZSx7YW5pbWF0aW9uOiExLGluZGV4OnRoaXMuaW5kZXgscG9pbnRTdGFydDp0aGlzLnhEYXRhWzBdfSx7ZGF0YTp0aGlzLm9wdGlvbnMuZGF0YX0sYSksdGhpcy5yZW1vdmUoITEpO2ZvcihpIGluIGcpZy5oYXNPd25Qcm9wZXJ0eShpKSYmKHRoaXNbaV09dSk7cih0aGlzLEhbYS50eXBlfHxmXS5wcm90b3R5cGUpLHEoaCxmdW5jdGlvbihhKXtjW2FdPWhbYV19KSx0aGlzLmluaXQoZCxhKSxkLmxpbmtTZXJpZXMoKSxwKGIsITApJiZkLnJlZHJhdyghMSl9fSkscihuYS5wcm90b3R5cGUse3VwZGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2hhcnQsYT1jLm9wdGlvbnNbdGhpcy5jb2xsXVt0aGlzLm9wdGlvbnMuaW5kZXhdPXcodGhpcy51c2VyT3B0aW9ucyxhKTt0aGlzLmRlc3Ryb3koITApLHRoaXMuX2FkZGVkUGxvdExCPXUsdGhpcy5pbml0KGMscihhLHtldmVudHM6dX0pKSxjLmlzRGlydHlCb3g9ITAscChiLCEwKSYmYy5yZWRyYXcoKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNoYXJ0LGM9dGhpcy5jb2xsLGQ9dGhpcy5zZXJpZXMsZT1kLmxlbmd0aDtlLS07KWRbZV0mJmRbZV0ucmVtb3ZlKCExKTtsYShiLmF4ZXMsdGhpcyksbGEoYltjXSx0aGlzKSxiLm9wdGlvbnNbY10uc3BsaWNlKHRoaXMub3B0aW9ucy5pbmRleCwxKSxxKGJbY10sZnVuY3Rpb24oYSxiKXthLm9wdGlvbnMuaW5kZXg9Yn0pLHRoaXMuZGVzdHJveSgpLGIuaXNEaXJ0eUJveD0hMCxwKGEsITApJiZiLnJlZHJhdygpfSxzZXRUaXRsZTpmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlKHt0aXRsZTphfSxiKX0sc2V0Q2F0ZWdvcmllczpmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlKHtjYXRlZ29yaWVzOmF9LGIpfX0pLGlhPW1hKE8pLEgubGluZT1pYSxjYS5hcmVhPXcoVCx7dGhyZXNob2xkOjB9KTt2YXIgcWE9bWEoTyx7dHlwZToiYXJlYSIsZ2V0U2VnbWVudHM6ZnVuY3Rpb24oKXt2YXIgaSxqLG4sbSxhPXRoaXMsYj1bXSxjPVtdLGQ9W10sZT10aGlzLnhBeGlzLGY9dGhpcy55QXhpcyxnPWYuc3RhY2tzW3RoaXMuc3RhY2tLZXldLGg9e30saz10aGlzLnBvaW50cyxsPXRoaXMub3B0aW9ucy5jb25uZWN0TnVsbHM7aWYodGhpcy5vcHRpb25zLnN0YWNraW5nJiYhdGhpcy5jcm9wcGVkKXtmb3Iobj0wO248ay5sZW5ndGg7bisrKWhba1tuXS54XT1rW25dO2ZvcihtIGluIGcpbnVsbCE9PWdbbV0udG90YWwmJmQucHVzaCgrbSk7ZC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pLHEoZCxmdW5jdGlvbihiKXt2YXIgayxkPTA7aWYoIWx8fGhbYl0mJm51bGwhPT1oW2JdLnkpaWYoaFtiXSljLnB1c2goaFtiXSk7ZWxzZXtmb3Iobj1hLmluZGV4O248PWYuc2VyaWVzLmxlbmd0aDtuKyspaWYoaz1nW2JdLnBvaW50c1tuKyIsIitiXSl7ZD1rWzFdO2JyZWFrfWk9ZS50cmFuc2xhdGUoYiksaj1mLnRvUGl4ZWxzKGQsITApLGMucHVzaCh7eTpudWxsLHBsb3RYOmksY2xpZW50WDppLHBsb3RZOmoseUJvdHRvbTpqLG9uTW91c2VPdmVyOnNhfSl9fSksYy5sZW5ndGgmJmIucHVzaChjKX1lbHNlIE8ucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksYj10aGlzLnNlZ21lbnRzO3RoaXMuc2VnbWVudHM9Yn0sZ2V0U2VnbWVudFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGQsYj1PLnByb3RvdHlwZS5nZXRTZWdtZW50UGF0aC5jYWxsKHRoaXMsYSksYz1bXS5jb25jYXQoYiksZT10aGlzLm9wdGlvbnM7ZD1iLmxlbmd0aDt2YXIgZyxmPXRoaXMueUF4aXMuZ2V0VGhyZXNob2xkKGUudGhyZXNob2xkKTtpZigzPT09ZCYmYy5wdXNoKCJMIixiWzFdLGJbMl0pLGUuc3RhY2tpbmcmJiF0aGlzLmNsb3NlZFN0YWNrcylmb3IoZD1hLmxlbmd0aC0xO2Q+PTA7ZC0tKWc9cChhW2RdLnlCb3R0b20sZiksZDxhLmxlbmd0aC0xJiZlLnN0ZXAmJmMucHVzaChhW2QrMV0ucGxvdFgsZyksYy5wdXNoKGFbZF0ucGxvdFgsZyk7ZWxzZSB0aGlzLmNsb3NlU2VnbWVudChjLGEsZik7cmV0dXJuIHRoaXMuYXJlYVBhdGg9dGhpcy5hcmVhUGF0aC5jb25jYXQoYyksYn0sY2xvc2VTZWdtZW50OmZ1bmN0aW9uKGEsYixjKXthLnB1c2goIkwiLGJbYi5sZW5ndGgtMV0ucGxvdFgsYywiTCIsYlswXS5wbG90WCxjKX0sZHJhd0dyYXBoOmZ1bmN0aW9uKCl7dGhpcy5hcmVhUGF0aD1bXSxPLnByb3RvdHlwZS5kcmF3R3JhcGguYXBwbHkodGhpcyk7dmFyIGE9dGhpcyxiPXRoaXMuYXJlYVBhdGgsYz10aGlzLm9wdGlvbnMsZD1jLm5lZ2F0aXZlQ29sb3IsZT1jLm5lZ2F0aXZlRmlsbENvbG9yLGY9W1siYXJlYSIsdGhpcy5jb2xvcixjLmZpbGxDb2xvcl1dOyhkfHxlKSYmZi5wdXNoKFsiYXJlYU5lZyIsZCxlXSkscShmLGZ1bmN0aW9uKGQpe3ZhciBlPWRbMF0sZj1hW2VdO2Y/Zi5hbmltYXRlKHtkOmJ9KTphW2VdPWEuY2hhcnQucmVuZGVyZXIucGF0aChiKS5hdHRyKHtmaWxsOnAoZFsyXSx5YShkWzFdKS5zZXRPcGFjaXR5KHAoYy5maWxsT3BhY2l0eSwuNzUpKS5nZXQoKSksekluZGV4OjB9KS5hZGQoYS5ncm91cCl9KX0sZHJhd0xlZ2VuZFN5bWJvbDpNLmRyYXdSZWN0YW5nbGV9KTtILmFyZWE9cWEsY2Euc3BsaW5lPXcoVCksaWE9bWEoTyx7dHlwZToic3BsaW5lIixnZXRQb2ludFNwbGluZTpmdW5jdGlvbihhLGIsYyl7dmFyIGgsaSxqLGssZD1iLnBsb3RYLGU9Yi5wbG90WSxmPWFbYy0xXSxnPWFbYysxXTtpZihmJiZnKXthPWYucGxvdFksaj1nLnBsb3RYO3ZhciBsLGc9Zy5wbG90WTtoPSgxLjUqZCtmLnBsb3RYKS8yLjUsaT0oMS41KmUrYSkvMi41LGo9KDEuNSpkK2opLzIuNSxrPSgxLjUqZStnKS8yLjUsbD0oay1pKSooai1kKS8oai1oKStlLWssaSs9bCxrKz1sLGk+YSYmaT5lPyhpPXQoYSxlKSxrPTIqZS1pKTphPmkmJmU+aSYmKGk9TChhLGUpLGs9MiplLWkpLGs+ZyYmaz5lPyhrPXQoZyxlKSxpPTIqZS1rKTpnPmsmJmU+ayYmKGs9TChnLGUpLGk9MiplLWspLGIucmlnaHRDb250WD1qLGIucmlnaHRDb250WT1rfXJldHVybiBjPyhiPVsiQyIsZi5yaWdodENvbnRYfHxmLnBsb3RYLGYucmlnaHRDb250WXx8Zi5wbG90WSxofHxkLGl8fGUsZCxlXSxmLnJpZ2h0Q29udFg9Zi5yaWdodENvbnRZPW51bGwpOmI9WyJNIixkLGVdLGJ9fSksSC5zcGxpbmU9aWEsY2EuYXJlYXNwbGluZT13KGNhLmFyZWEpLHFhPXFhLnByb3RvdHlwZSxpYT1tYShpYSx7dHlwZToiYXJlYXNwbGluZSIsY2xvc2VkU3RhY2tzOiEwLGdldFNlZ21lbnRQYXRoOnFhLmdldFNlZ21lbnRQYXRoLGNsb3NlU2VnbWVudDpxYS5jbG9zZVNlZ21lbnQsZHJhd0dyYXBoOnFhLmRyYXdHcmFwaCxkcmF3TGVnZW5kU3ltYm9sOk0uZHJhd1JlY3RhbmdsZX0pLEguYXJlYXNwbGluZT1pYSxjYS5jb2x1bW49dyhULHtib3JkZXJDb2xvcjoiI0ZGRkZGRiIsYm9yZGVyUmFkaXVzOjAsZ3JvdXBQYWRkaW5nOi4yLG1hcmtlcjpudWxsLHBvaW50UGFkZGluZzouMSxtaW5Qb2ludExlbmd0aDowLGNyb3BUaHJlc2hvbGQ6NTAscG9pbnRSYW5nZTpudWxsLHN0YXRlczp7aG92ZXI6e2JyaWdodG5lc3M6LjEsc2hhZG93OiExLGhhbG86ITF9LHNlbGVjdDp7Y29sb3I6IiNDMEMwQzAiLGJvcmRlckNvbG9yOiIjMDAwMDAwIixzaGFkb3c6ITF9fSxkYXRhTGFiZWxzOnthbGlnbjpudWxsLHZlcnRpY2FsQWxpZ246bnVsbCx5Om51bGx9LHN0aWNreVRyYWNraW5nOiExLHRvb2x0aXA6e2Rpc3RhbmNlOjZ9LHRocmVzaG9sZDowfSksaWE9bWEoTyx7dHlwZToiY29sdW1uIixwb2ludEF0dHJUb09wdGlvbnM6e3N0cm9rZToiYm9yZGVyQ29sb3IiLGZpbGw6ImNvbG9yIixyOiJib3JkZXJSYWRpdXMifSxjcm9wU2hvdWxkZXI6MCx0cmFja2VyR3JvdXBzOlsiZ3JvdXAiLCJkYXRhTGFiZWxzR3JvdXAiXSxuZWdTdGFja3M6ITAsaW5pdDpmdW5jdGlvbigpe08ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhPXRoaXMsYj1hLmNoYXJ0O2IuaGFzUmVuZGVyZWQmJnEoYi5zZXJpZXMsZnVuY3Rpb24oYil7Yi50eXBlPT09YS50eXBlJiYoYi5pc0RpcnR5PSEwKX0pfSxnZXRDb2x1bW5NZXRyaWNzOmZ1bmN0aW9uKCl7dmFyIGYsaCxhPXRoaXMsYj1hLm9wdGlvbnMsYz1hLnhBeGlzLGQ9YS55QXhpcyxlPWMucmV2ZXJzZWQsZz17fSxpPTA7Yi5ncm91cGluZz09PSExP2k9MTpxKGEuY2hhcnQuc2VyaWVzLGZ1bmN0aW9uKGIpe3ZhciBjPWIub3B0aW9ucyxlPWIueUF4aXM7Yi50eXBlPT09YS50eXBlJiZiLnZpc2libGUmJmQubGVuPT09ZS5sZW4mJmQucG9zPT09ZS5wb3MmJihjLnN0YWNraW5nPyhmPWIuc3RhY2tLZXksZ1tmXT09PXUmJihnW2ZdPWkrKyksaD1nW2ZdKTpjLmdyb3VwaW5nIT09ITEmJihoPWkrKyksYi5jb2x1bW5JbmRleD1oKX0pO3ZhciBjPUwoUShjLnRyYW5zQSkqKGMub3JkaW5hbFNsb3BlfHxiLnBvaW50UmFuZ2V8fGMuY2xvc2VzdFBvaW50UmFuZ2V8fGMudGlja0ludGVydmFsfHwxKSxjLmxlbiksaj1jKmIuZ3JvdXBQYWRkaW5nLGs9KGMtMipqKS9pLGw9Yi5wb2ludFdpZHRoLGI9cyhsKT8oay1sKS8yOmsqYi5wb2ludFBhZGRpbmcsbD1wKGwsay0yKmIpO3JldHVybiBhLmNvbHVtbk1ldHJpY3M9e3dpZHRoOmwsb2Zmc2V0OmIrKGorKChlP2ktKGEuY29sdW1uSW5kZXh8fDApOmEuY29sdW1uSW5kZXgpfHwwKSprLWMvMikqKGU/LTE6MSl9fSx0cmFuc2xhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydCxjPWEub3B0aW9ucyxkPWEuYm9yZGVyV2lkdGg9cChjLmJvcmRlcldpZHRoLGEuYWN0aXZlUG9pbnRDb3VudD4uNSphLnhBeGlzLmxlbj8wOjEpLGU9YS55QXhpcyxmPWEudHJhbnNsYXRlZFRocmVzaG9sZD1lLmdldFRocmVzaG9sZChjLnRocmVzaG9sZCksZz1wKGMubWluUG9pbnRMZW5ndGgsNSksaD1hLmdldENvbHVtbk1ldHJpY3MoKSxpPWgud2lkdGgsaj1hLmJhclc9dChpLDErMipkKSxrPWEucG9pbnRYT2Zmc2V0PWgub2Zmc2V0LGw9LShkJTI/LjU6MCksbj1kJTI/LjU6MTtiLnJlbmRlcmVyLmlzVk1MJiZiLmludmVydGVkJiYobis9MSksYy5wb2ludFBhZGRpbmcmJihqPUxhKGopKSxPLnByb3RvdHlwZS50cmFuc2xhdGUuYXBwbHkoYSkscShhLnBvaW50cyxmdW5jdGlvbihjKXt2YXIgdSxkPXAoYy55Qm90dG9tLGYpLGg9TCh0KC05OTktZCxjLnBsb3RZKSxlLmxlbis5OTkrZCkscT1jLnBsb3RYK2sscj1qLHM9TChoLGQpO3U9dChoLGQpLXMsUSh1KTxnJiZnJiYodT1nLHM9dihRKHMtZik+Zz9kLWc6Zi0oZS50cmFuc2xhdGUoYy55LDAsMSwwLDEpPD1mP2c6MCkpKSxjLmJhclg9cSxjLnBvaW50V2lkdGg9aSxjLnRvb2x0aXBQb3M9Yi5pbnZlcnRlZD9bZS5sZW4taCxhLnhBeGlzLmxlbi1xLXIvMl06W3Erci8yLGgrZS5wb3MtYi5wbG90VG9wXSxyPXYocStyKStsLHE9dihxKStsLHItPXEsZD1RKHMpPC41LHU9dihzK3UpK24scz12KHMpK24sdS09cyxkJiYocy09MSx1Kz0xKSxjLnNoYXBlVHlwZT0icmVjdCIsYy5zaGFwZUFyZ3M9e3g6cSx5OnMsd2lkdGg6cixoZWlnaHQ6dX19KX0sZ2V0U3ltYm9sOnNhLGRyYXdMZWdlbmRTeW1ib2w6TS5kcmF3UmVjdGFuZ2xlLGRyYXdHcmFwaDpzYSxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGYsZyxhPXRoaXMsYj10aGlzLmNoYXJ0LGM9YS5vcHRpb25zLGQ9Yi5yZW5kZXJlcixlPWMuYW5pbWF0aW9uTGltaXR8fDI1MDtxKGEucG9pbnRzLGZ1bmN0aW9uKGgpe3ZhciBpPWgucGxvdFksaj1oLmdyYXBoaWM7aT09PXV8fGlzTmFOKGkpfHxudWxsPT09aC55P2omJihoLmdyYXBoaWM9ai5kZXN0cm95KCkpOihmPWguc2hhcGVBcmdzLGk9cyhhLmJvcmRlcldpZHRoKT97InN0cm9rZS13aWR0aCI6YS5ib3JkZXJXaWR0aH06e30sZz1oLnBvaW50QXR0cltoLnNlbGVjdGVkPyJzZWxlY3QiOiIiXXx8YS5wb2ludEF0dHJbIiJdLGo/KGJiKGopLGouYXR0cihpKVtiLnBvaW50Q291bnQ8ZT8iYW5pbWF0ZSI6ImF0dHIiXSh3KGYpKSk6aC5ncmFwaGljPWRbaC5zaGFwZVR5cGVdKGYpLmF0dHIoZykuYXR0cihpKS5hZGQoYS5ncm91cCkuc2hhZG93KGMuc2hhZG93LG51bGwsYy5zdGFja2luZyYmIWMuYm9yZGVyUmFkaXVzKSl9KX0sYW5pbWF0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnlBeGlzLGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5jaGFydC5pbnZlcnRlZCxlPXt9O2JhJiYoYT8oZS5zY2FsZVk9LjAwMSxhPUwoYi5wb3MrYi5sZW4sdChiLnBvcyxiLnRvUGl4ZWxzKGMudGhyZXNob2xkKSkpLGQ/ZS50cmFuc2xhdGVYPWEtYi5sZW46ZS50cmFuc2xhdGVZPWEsdGhpcy5ncm91cC5hdHRyKGUpKTooZS5zY2FsZVk9MSxlW2Q/InRyYW5zbGF0ZVgiOiJ0cmFuc2xhdGVZIl09Yi5wb3MsdGhpcy5ncm91cC5hbmltYXRlKGUsdGhpcy5vcHRpb25zLmFuaW1hdGlvbiksdGhpcy5hbmltYXRlPW51bGwpKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQ7Yi5oYXNSZW5kZXJlZCYmcShiLnNlcmllcyxmdW5jdGlvbihiKXtiLnR5cGU9PT1hLnR5cGUmJihiLmlzRGlydHk9ITApfSksTy5wcm90b3R5cGUucmVtb3ZlLmFwcGx5KGEsYXJndW1lbnRzKX19KSxILmNvbHVtbj1pYSxjYS5iYXI9dyhjYS5jb2x1bW4pLHFhPW1hKGlhLHt0eXBlOiJiYXIiLGludmVydGVkOiEwfSksSC5iYXI9cWEsY2Euc2NhdHRlcj13KFQse2xpbmVXaWR0aDowLHRvb2x0aXA6e2hlYWRlckZvcm1hdDonPHNwYW4gc3R5bGU9ImNvbG9yOntzZXJpZXMuY29sb3J9Ij7il488L3NwYW4+IDxzcGFuIHN0eWxlPSJmb250LXNpemU6IDEwcHg7Ij4ge3Nlcmllcy5uYW1lfTwvc3Bhbj48YnIvPicscG9pbnRGb3JtYXQ6Ing6IDxiPntwb2ludC54fTwvYj48YnIvPnk6IDxiPntwb2ludC55fTwvYj48YnIvPiJ9LHN0aWNreVRyYWNraW5nOiExfSkscWE9bWEoTyx7dHlwZToic2NhdHRlciIsc29ydGVkOiExLHJlcXVpcmVTb3J0aW5nOiExLG5vU2hhcmVkVG9vbHRpcDohMCx0cmFja2VyR3JvdXBzOlsibWFya2VyR3JvdXAiLCJkYXRhTGFiZWxzR3JvdXAiXSx0YWtlT3JkaW5hbFBvc2l0aW9uOiExLHNpbmd1bGFyVG9vbHRpcHM6ITAsZHJhd0dyYXBoOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmxpbmVXaWR0aCYmTy5wcm90b3R5cGUuZHJhd0dyYXBoLmNhbGwodGhpcyl9fSksSC5zY2F0dGVyPXFhLGNhLnBpZT13KFQse2JvcmRlckNvbG9yOiIjRkZGRkZGIixib3JkZXJXaWR0aDoxLGNlbnRlcjpbbnVsbCxudWxsXSxjbGlwOiExLGNvbG9yQnlQb2ludDohMCxkYXRhTGFiZWxzOntkaXN0YW5jZTozMCxlbmFibGVkOiEwLGZvcm1hdHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvaW50Lm5hbWV9fSxpZ25vcmVIaWRkZW5Qb2ludDohMCxsZWdlbmRUeXBlOiJwb2ludCIsbWFya2VyOm51bGwsc2l6ZTpudWxsLHNob3dJbkxlZ2VuZDohMSxzbGljZWRPZmZzZXQ6MTAsc3RhdGVzOntob3Zlcjp7YnJpZ2h0bmVzczouMSxzaGFkb3c6ITF9fSxzdGlja3lUcmFja2luZzohMSx0b29sdGlwOntmb2xsb3dQb2ludGVyOiEwfX0pLFQ9e3R5cGU6InBpZSIsaXNDYXJ0ZXNpYW46ITEscG9pbnRDbGFzczptYShGYSx7aW5pdDpmdW5jdGlvbigpe0ZhLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYixhPXRoaXM7cmV0dXJuIGEueTwwJiYoYS55PW51bGwpLHIoYSx7dmlzaWJsZTphLnZpc2libGUhPT0hMSxuYW1lOnAoYS5uYW1lLCJTbGljZSIpfSksYj1mdW5jdGlvbihiKXthLnNsaWNlKCJzZWxlY3QiPT09Yi50eXBlKX0sTihhLCJzZWxlY3QiLGIpLE4oYSwidW5zZWxlY3QiLGIpLGF9LHNldFZpc2libGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuc2VyaWVzLGQ9Yy5jaGFydDtiLnZpc2libGU9Yi5vcHRpb25zLnZpc2libGU9YT1hPT09dT8hYi52aXNpYmxlOmEsYy5vcHRpb25zLmRhdGFbTWEoYixjLmRhdGEpXT1iLm9wdGlvbnMscShbImdyYXBoaWMiLCJkYXRhTGFiZWwiLCJjb25uZWN0b3IiLCJzaGFkb3dHcm91cCJdLGZ1bmN0aW9uKGMpe2JbY10mJmJbY11bYT8ic2hvdyI6ImhpZGUiXSghMCl9KSxiLmxlZ2VuZEl0ZW0mJmQubGVnZW5kLmNvbG9yaXplSXRlbShiLGEpLCFjLmlzRGlydHkmJmMub3B0aW9ucy5pZ25vcmVIaWRkZW5Qb2ludCYmKGMuaXNEaXJ0eT0hMCxkLnJlZHJhdygpKX0sc2xpY2U6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuc2VyaWVzO1JhKGMsZC5jaGFydCkscChiLCEwKSx0aGlzLnNsaWNlZD10aGlzLm9wdGlvbnMuc2xpY2VkPWE9cyhhKT9hOiF0aGlzLnNsaWNlZCxkLm9wdGlvbnMuZGF0YVtNYSh0aGlzLGQuZGF0YSldPXRoaXMub3B0aW9ucyxhPWE/dGhpcy5zbGljZWRUcmFuc2xhdGlvbjp7dHJhbnNsYXRlWDowLHRyYW5zbGF0ZVk6MH0sdGhpcy5ncmFwaGljLmFuaW1hdGUoYSksdGhpcy5zaGFkb3dHcm91cCYmdGhpcy5zaGFkb3dHcm91cC5hbmltYXRlKGEpfSxoYWxvUGF0aDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNoYXBlQXJncyxjPXRoaXMuc2VyaWVzLmNoYXJ0O3JldHVybiB0aGlzLnNsaWNlZHx8IXRoaXMudmlzaWJsZT9bXTp0aGlzLnNlcmllcy5jaGFydC5yZW5kZXJlci5zeW1ib2xzLmFyYyhjLnBsb3RMZWZ0K2IueCxjLnBsb3RUb3ArYi55LGIucithLGIucithLHtpbm5lclI6dGhpcy5zaGFwZUFyZ3MucixzdGFydDpiLnN0YXJ0LGVuZDpiLmVuZH0pfX0pLHJlcXVpcmVTb3J0aW5nOiExLG5vU2hhcmVkVG9vbHRpcDohMCx0cmFja2VyR3JvdXBzOlsiZ3JvdXAiLCJkYXRhTGFiZWxzR3JvdXAiXSxheGlzVHlwZXM6W10scG9pbnRBdHRyVG9PcHRpb25zOntzdHJva2U6ImJvcmRlckNvbG9yIiwic3Ryb2tlLXdpZHRoIjoiYm9yZGVyV2lkdGgiLGZpbGw6ImNvbG9yIn0sc2luZ3VsYXJUb29sdGlwczohMCxnZXRDb2xvcjpzYSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLnBvaW50cyxkPWIuc3RhcnRBbmdsZVJhZDthfHwocShjLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZ3JhcGhpYyxhPWEuc2hhcGVBcmdzO2MmJihjLmF0dHIoe3I6Yi5jZW50ZXJbM10vMixzdGFydDpkLGVuZDpkfSksYy5hbmltYXRlKHtyOmEucixzdGFydDphLnN0YXJ0LGVuZDphLmVuZH0sYi5vcHRpb25zLmFuaW1hdGlvbikpfSksYi5hbmltYXRlPW51bGwpfSxzZXREYXRhOmZ1bmN0aW9uKGEsYixjLGQpe08ucHJvdG90eXBlLnNldERhdGEuY2FsbCh0aGlzLGEsITEsYyxkKSx0aGlzLnByb2Nlc3NEYXRhKCksdGhpcy5nZW5lcmF0ZVBvaW50cygpLHAoYiwhMCkmJnRoaXMuY2hhcnQucmVkcmF3KGMpfSxnZW5lcmF0ZVBvaW50czpmdW5jdGlvbigpe3ZhciBhLGMsZCxlLGI9MCxmPXRoaXMub3B0aW9ucy5pZ25vcmVIaWRkZW5Qb2ludDtmb3IoTy5wcm90b3R5cGUuZ2VuZXJhdGVQb2ludHMuY2FsbCh0aGlzKSxjPXRoaXMucG9pbnRzLGQ9Yy5sZW5ndGgsYT0wO2Q+YTthKyspZT1jW2FdLGIrPWYmJiFlLnZpc2libGU/MDplLnk7Zm9yKHRoaXMudG90YWw9YixhPTA7ZD5hO2ErKyllPWNbYV0sZS5wZXJjZW50YWdlPWI+MD9lLnkvYioxMDA6MCxlLnRvdGFsPWJ9LHRyYW5zbGF0ZTpmdW5jdGlvbihhKXt0aGlzLmdlbmVyYXRlUG9pbnRzKCk7dmFyIGYsZyxoLG4sbyxiPTAsYz10aGlzLm9wdGlvbnMsZD1jLnNsaWNlZE9mZnNldCxlPWQrYy5ib3JkZXJXaWR0aCxpPWMuc3RhcnRBbmdsZXx8MCxqPXRoaXMuc3RhcnRBbmdsZVJhZD1vYS8xODAqKGktOTApLGk9KHRoaXMuZW5kQW5nbGVSYWQ9b2EvMTgwKihwKGMuZW5kQW5nbGUsaSszNjApLTkwKSktaixrPXRoaXMucG9pbnRzLGw9Yy5kYXRhTGFiZWxzLmRpc3RhbmNlLGM9Yy5pZ25vcmVIaWRkZW5Qb2ludCxtPWsubGVuZ3RoO2ZvcihhfHwodGhpcy5jZW50ZXI9YT10aGlzLmdldENlbnRlcigpKSx0aGlzLmdldFg9ZnVuY3Rpb24oYixjKXtyZXR1cm4gaD1WLmFzaW4oTCgoYi1hWzFdKS8oYVsyXS8yK2wpLDEpKSxhWzBdKyhjPy0xOjEpKmFhKGgpKihhWzJdLzIrbCl9LG49MDttPm47bisrKW89a1tuXSxmPWorYippLCghY3x8by52aXNpYmxlKSYmKGIrPW8ucGVyY2VudGFnZS8xMDApLGc9aitiKmksby5zaGFwZVR5cGU9ImFyYyIsby5zaGFwZUFyZ3M9e3g6YVswXSx5OmFbMV0scjphWzJdLzIsaW5uZXJSOmFbM10vMixzdGFydDp2KDFlMypmKS8xZTMsZW5kOnYoMWUzKmcpLzFlM30saD0oZytmKS8yLGg+MS41Km9hP2gtPTIqb2E6LW9hLzI+aCYmKGgrPTIqb2EpLG8uc2xpY2VkVHJhbnNsYXRpb249e3RyYW5zbGF0ZVg6dihhYShoKSpkKSx0cmFuc2xhdGVZOnYoZmEoaCkqZCl9LGY9YWEoaCkqYVsyXS8yLGc9ZmEoaCkqYVsyXS8yLG8udG9vbHRpcFBvcz1bYVswXSsuNypmLGFbMV0rLjcqZ10sby5oYWxmPS1vYS8yPmh8fGg+b2EvMj8xOjAsby5hbmdsZT1oLGU9TChlLGwvMiksby5sYWJlbFBvcz1bYVswXStmK2FhKGgpKmwsYVsxXStnK2ZhKGgpKmwsYVswXStmK2FhKGgpKmUsYVsxXStnK2ZhKGgpKmUsYVswXStmLGFbMV0rZywwPmw/ImNlbnRlciI6by5oYWxmPyJyaWdodCI6ImxlZnQiLGhdfSxkcmF3R3JhcGg6bnVsbCxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGMsZCxmLGcsYT10aGlzLGI9YS5jaGFydC5yZW5kZXJlcixlPWEub3B0aW9ucy5zaGFkb3c7ZSYmIWEuc2hhZG93R3JvdXAmJihhLnNoYWRvd0dyb3VwPWIuZygic2hhZG93IikuYWRkKGEuZ3JvdXApKSxxKGEucG9pbnRzLGZ1bmN0aW9uKGgpe2Q9aC5ncmFwaGljLGc9aC5zaGFwZUFyZ3MsZj1oLnNoYWRvd0dyb3VwLGUmJiFmJiYoZj1oLnNoYWRvd0dyb3VwPWIuZygic2hhZG93IikuYWRkKGEuc2hhZG93R3JvdXApKSxjPWguc2xpY2VkP2guc2xpY2VkVHJhbnNsYXRpb246e3RyYW5zbGF0ZVg6MCx0cmFuc2xhdGVZOjB9LGYmJmYuYXR0cihjKSxkP2QuYW5pbWF0ZShyKGcsYykpOmguZ3JhcGhpYz1kPWJbaC5zaGFwZVR5cGVdKGcpLnNldFJhZGlhbFJlZmVyZW5jZShhLmNlbnRlcikuYXR0cihoLnBvaW50QXR0cltoLnNlbGVjdGVkPyJzZWxlY3QiOiIiXSkuYXR0cih7InN0cm9rZS1saW5lam9pbiI6InJvdW5kIn0pLmF0dHIoYykuYWRkKGEuZ3JvdXApLnNoYWRvdyhlLGYpLHZvaWQgMCE9PWgudmlzaWJsZSYmaC5zZXRWaXNpYmxlKGgudmlzaWJsZSl9KX0sc29ydEJ5QW5nbGU6ZnVuY3Rpb24oYSxiKXthLnNvcnQoZnVuY3Rpb24oYSxkKXtyZXR1cm4gdm9pZCAwIT09YS5hbmdsZSYmKGQuYW5nbGUtYS5hbmdsZSkqYn0pfSxkcmF3TGVnZW5kU3ltYm9sOk0uZHJhd1JlY3RhbmdsZSxnZXRDZW50ZXI6Wi5nZXRDZW50ZXIsZ2V0U3ltYm9sOnNhfSxUPW1hKE8sVCksSC5waWU9VCxPLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscz1mdW5jdGlvbigpe3ZhciBmLGcsaSxqLGE9dGhpcyxiPWEub3B0aW9ucyxjPWIuY3Vyc29yLGQ9Yi5kYXRhTGFiZWxzLGU9YS5wb2ludHMsaD1hLmhhc1JlbmRlcmVkfHwwOyhkLmVuYWJsZWR8fGEuX2hhc1BvaW50TGFiZWxzKSYmKGEuZGxQcm9jZXNzT3B0aW9ucyYmYS5kbFByb2Nlc3NPcHRpb25zKGQpLGo9YS5wbG90R3JvdXAoImRhdGFMYWJlbHNHcm91cCIsImRhdGEtbGFiZWxzIixkLmRlZmVyPyJoaWRkZW4iOiJ2aXNpYmxlIixkLnpJbmRleHx8NikscChkLmRlZmVyLCEwKSYmKGouYXR0cih7b3BhY2l0eToraH0pLGh8fE4oYSwiYWZ0ZXJBbmltYXRlIixmdW5jdGlvbigpe2EudmlzaWJsZSYmai5zaG93KCksaltiLmFuaW1hdGlvbj8iYW5pbWF0ZSI6ImF0dHIiXSh7b3BhY2l0eToxfSx7ZHVyYXRpb246MjAwfSl9KSksZz1kLHEoZSxmdW5jdGlvbihiKXt2YXIgZSxtLG8saD1iLmRhdGFMYWJlbCxxPWIuY29ubmVjdG9yLHQ9ITA7aWYoZj1iLm9wdGlvbnMmJmIub3B0aW9ucy5kYXRhTGFiZWxzLGU9cChmJiZmLmVuYWJsZWQsZy5lbmFibGVkKSxoJiYhZSliLmRhdGFMYWJlbD1oLmRlc3Ryb3koKTtlbHNlIGlmKGUpe2lmKGQ9dyhnLGYpLGU9ZC5yb3RhdGlvbixtPWIuZ2V0TGFiZWxDb25maWcoKSxpPWQuZm9ybWF0P0phKGQuZm9ybWF0LG0pOmQuZm9ybWF0dGVyLmNhbGwobSxkKSxkLnN0eWxlLmNvbG9yPXAoZC5jb2xvcixkLnN0eWxlLmNvbG9yLGEuY29sb3IsImJsYWNrIiksaClzKGkpPyhoLmF0dHIoe3RleHQ6aX0pLHQ9ITEpOihiLmRhdGFMYWJlbD1oPWguZGVzdHJveSgpLHEmJihiLmNvbm5lY3Rvcj1xLmRlc3Ryb3koKSkpO2Vsc2UgaWYocyhpKSl7aD17ZmlsbDpkLmJhY2tncm91bmRDb2xvcixzdHJva2U6ZC5ib3JkZXJDb2xvciwic3Ryb2tlLXdpZHRoIjpkLmJvcmRlcldpZHRoLHI6ZC5ib3JkZXJSYWRpdXN8fDAscm90YXRpb246ZSxwYWRkaW5nOmQucGFkZGluZyx6SW5kZXg6MX07Zm9yKG8gaW4gaCloW29dPT09dSYmZGVsZXRlIGhbb107aD1iLmRhdGFMYWJlbD1hLmNoYXJ0LnJlbmRlcmVyW2U/InRleHQiOiJsYWJlbCJdKGksMCwtOTk5LG51bGwsbnVsbCxudWxsLGQudXNlSFRNTCkuYXR0cihoKS5jc3MocihkLnN0eWxlLGMmJntjdXJzb3I6Y30pKS5hZGQoaikuc2hhZG93KGQuc2hhZG93KX1oJiZhLmFsaWduRGF0YUxhYmVsKGIsaCxkLG51bGwsdCl9fSkpfSxPLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuY2hhcnQsZz1mLmludmVydGVkLGg9cChhLnBsb3RYLC05OTkpLGk9cChhLnBsb3RZLC05OTkpLGo9Yi5nZXRCQm94KCk7KGE9dGhpcy52aXNpYmxlJiYoYS5zZXJpZXMuZm9yY2VETHx8Zi5pc0luc2lkZVBsb3QoaCx2KGkpLGcpfHxkJiZmLmlzSW5zaWRlUGxvdChoLGc/ZC54KzE6ZC55K2QuaGVpZ2h0LTEsZykpKSYmKGQ9cih7eDpnP2YucGxvdFdpZHRoLWk6aCx5OnYoZz9mLnBsb3RIZWlnaHQtaDppKSx3aWR0aDowLGhlaWdodDowfSxkKSxyKGMse3dpZHRoOmoud2lkdGgsaGVpZ2h0OmouaGVpZ2h0fSksYy5yb3RhdGlvbj9iW2U/ImF0dHIiOiJhbmltYXRlIl0oe3g6ZC54K2MueCtkLndpZHRoLzIseTpkLnkrYy55K2QuaGVpZ2h0LzJ9KS5hdHRyKHthbGlnbjpjLmFsaWdufSk6KGIuYWxpZ24oYyxudWxsLGQpLGc9Yi5hbGlnbkF0dHIsImp1c3RpZnkiPT09cChjLm92ZXJmbG93LCJqdXN0aWZ5Iik/dGhpcy5qdXN0aWZ5RGF0YUxhYmVsKGIsYyxnLGosZCxlKTpwKGMuY3JvcCwhMCkmJihhPWYuaXNJbnNpZGVQbG90KGcueCxnLnkpJiZmLmlzSW5zaWRlUGxvdChnLngrai53aWR0aCxnLnkrai5oZWlnaHQpKSkpLGF8fChiLmF0dHIoe3k6LTk5OX0pLGIucGxhY2VkPSExKQp9LE8ucHJvdG90eXBlLmp1c3RpZnlEYXRhTGFiZWw9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBqLGssZz10aGlzLmNoYXJ0LGg9Yi5hbGlnbixpPWIudmVydGljYWxBbGlnbjtqPWMueCwwPmomJigicmlnaHQiPT09aD9iLmFsaWduPSJsZWZ0IjpiLng9LWosaz0hMCksaj1jLngrZC53aWR0aCxqPmcucGxvdFdpZHRoJiYoImxlZnQiPT09aD9iLmFsaWduPSJyaWdodCI6Yi54PWcucGxvdFdpZHRoLWosaz0hMCksaj1jLnksMD5qJiYoImJvdHRvbSI9PT1pP2IudmVydGljYWxBbGlnbj0idG9wIjpiLnk9LWosaz0hMCksaj1jLnkrZC5oZWlnaHQsaj5nLnBsb3RIZWlnaHQmJigidG9wIj09PWk/Yi52ZXJ0aWNhbEFsaWduPSJib3R0b20iOmIueT1nLnBsb3RIZWlnaHQtaixrPSEwKSxrJiYoYS5wbGFjZWQ9IWYsYS5hbGlnbihiLG51bGwsZSkpfSxILnBpZSYmKEgucGllLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscz1mdW5jdGlvbigpe3ZhciBjLGosayx1LHcseCx5LEIsSSxILHosYT10aGlzLGI9YS5kYXRhLGQ9YS5jaGFydCxlPWEub3B0aW9ucy5kYXRhTGFiZWxzLGY9cChlLmNvbm5lY3RvclBhZGRpbmcsMTApLGc9cChlLmNvbm5lY3RvcldpZHRoLDEpLGg9ZC5wbG90V2lkdGgsaT1kLnBsb3RIZWlnaHQsbD1wKGUuc29mdENvbm5lY3RvciwhMCksbj1lLmRpc3RhbmNlLG09YS5jZW50ZXIsbz1tWzJdLzIscj1tWzFdLHM9bj4wLEE9W1tdLFtdXSxSPVswLDAsMCwwXSxOPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIueS1hLnl9O2lmKGEudmlzaWJsZSYmKGUuZW5hYmxlZHx8YS5faGFzUG9pbnRMYWJlbHMpKXtmb3IoTy5wcm90b3R5cGUuZHJhd0RhdGFMYWJlbHMuYXBwbHkoYSkscShiLGZ1bmN0aW9uKGEpe2EuZGF0YUxhYmVsJiZhLnZpc2libGUmJkFbYS5oYWxmXS5wdXNoKGEpfSksSD0yO0gtLTspe3ZhciBFLEc9W10sTT1bXSxGPUFbSF0sSz1GLmxlbmd0aDtpZihLKXtmb3IoYS5zb3J0QnlBbmdsZShGLEgtLjUpLHo9Yj0wOyFiJiZGW3pdOyliPUZbel0mJkZbel0uZGF0YUxhYmVsJiYoRlt6XS5kYXRhTGFiZWwuZ2V0QkJveCgpLmhlaWdodHx8MjEpLHorKztpZihuPjApe2Zvcih3PUwocitvK24sZC5wbG90SGVpZ2h0KSx6PXQoMCxyLW8tbik7dz49ejt6Kz1iKUcucHVzaCh6KTtpZih3PUcubGVuZ3RoLEs+dyl7Zm9yKGM9W10uY29uY2F0KEYpLGMuc29ydChOKSx6PUs7ei0tOyljW3pdLnJhbms9ejtmb3Ioej1LO3otLTspRlt6XS5yYW5rPj13JiZGLnNwbGljZSh6LDEpO0s9Ri5sZW5ndGh9Zm9yKHo9MDtLPno7eisrKXtjPUZbel0seD1jLmxhYmVsUG9zLGM9OTk5OTt2YXIgUyxQO2ZvcihQPTA7dz5QO1ArKylTPVEoR1tQXS14WzFdKSxjPlMmJihjPVMsRT1QKTtpZih6PkUmJm51bGwhPT1HW3pdKUU9ejtlbHNlIGZvcihLLXorRT53JiZudWxsIT09R1t6XSYmKEU9dy1LK3opO251bGw9PT1HW0VdOylFKys7TS5wdXNoKHtpOkUseTpHW0VdfSksR1tFXT1udWxsfU0uc29ydChOKX1mb3Ioej0wO0s+ejt6KyspYz1GW3pdLHg9Yy5sYWJlbFBvcyx1PWMuZGF0YUxhYmVsLEk9Yy52aXNpYmxlPT09ITE/ImhpZGRlbiI6InZpc2libGUiLGM9eFsxXSxuPjA/KHc9TS5wb3AoKSxFPXcuaSxCPXcueSwoYz5CJiZudWxsIT09R1tFKzFdfHxCPmMmJm51bGwhPT1HW0UtMV0pJiYoQj1MKHQoMCxjKSxkLnBsb3RIZWlnaHQpKSk6Qj1jLHk9ZS5qdXN0aWZ5P21bMF0rKEg/LTE6MSkqKG8rbik6YS5nZXRYKEI9PT1yLW8tbnx8Qj09PXIrbytuP2M6QixIKSx1Ll9hdHRyPXt2aXNpYmlsaXR5OkksYWxpZ246eFs2XX0sdS5fcG9zPXt4OnkrZS54Kyh7bGVmdDpmLHJpZ2h0Oi1mfVt4WzZdXXx8MCkseTpCK2UueS0xMH0sdS5jb25uWD15LHUuY29ublk9QixudWxsPT09dGhpcy5vcHRpb25zLnNpemUmJih3PXUud2lkdGgsZj55LXc/UlszXT10KHYody15K2YpLFJbM10pOnkrdz5oLWYmJihSWzFdPXQodih5K3ctaCtmKSxSWzFdKSksMD5CLWIvMj9SWzBdPXQodigtQitiLzIpLFJbMF0pOkIrYi8yPmkmJihSWzJdPXQodihCK2IvMi1pKSxSWzJdKSkpfX0oMD09PUNhKFIpfHx0aGlzLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93KFIpKSYmKHRoaXMucGxhY2VEYXRhTGFiZWxzKCkscyYmZyYmcSh0aGlzLnBvaW50cyxmdW5jdGlvbihiKXtqPWIuY29ubmVjdG9yLHg9Yi5sYWJlbFBvcywodT1iLmRhdGFMYWJlbCkmJnUuX3Bvcz8oST11Ll9hdHRyLnZpc2liaWxpdHkseT11LmNvbm5YLEI9dS5jb25uWSxrPWw/WyJNIix5KygibGVmdCI9PT14WzZdPzU6LTUpLEIsIkMiLHksQiwyKnhbMl0teFs0XSwyKnhbM10teFs1XSx4WzJdLHhbM10sIkwiLHhbNF0seFs1XV06WyJNIix5KygibGVmdCI9PT14WzZdPzU6LTUpLEIsIkwiLHhbMl0seFszXSwiTCIseFs0XSx4WzVdXSxqPyhqLmFuaW1hdGUoe2Q6a30pLGouYXR0cigidmlzaWJpbGl0eSIsSSkpOmIuY29ubmVjdG9yPWo9YS5jaGFydC5yZW5kZXJlci5wYXRoKGspLmF0dHIoeyJzdHJva2Utd2lkdGgiOmcsc3Ryb2tlOmUuY29ubmVjdG9yQ29sb3J8fGIuY29sb3J8fCIjNjA2MDYwIix2aXNpYmlsaXR5Okl9KS5hZGQoYS5kYXRhTGFiZWxzR3JvdXApKTpqJiYoYi5jb25uZWN0b3I9ai5kZXN0cm95KCkpfSkpfX0sSC5waWUucHJvdG90eXBlLnBsYWNlRGF0YUxhYmVscz1mdW5jdGlvbigpe3EodGhpcy5wb2ludHMsZnVuY3Rpb24oYSl7dmFyIGIsYT1hLmRhdGFMYWJlbDthJiYoKGI9YS5fcG9zKT8oYS5hdHRyKGEuX2F0dHIpLGFbYS5tb3ZlZD8iYW5pbWF0ZSI6ImF0dHIiXShiKSxhLm1vdmVkPSEwKTphJiZhLmF0dHIoe3k6LTk5OX0pKX0pfSxILnBpZS5wcm90b3R5cGUuYWxpZ25EYXRhTGFiZWw9c2EsSC5waWUucHJvdG90eXBlLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93PWZ1bmN0aW9uKGEpe3ZhciBmLGI9dGhpcy5jZW50ZXIsYz10aGlzLm9wdGlvbnMsZD1jLmNlbnRlcixlPWM9Yy5taW5TaXplfHw4MDtyZXR1cm4gbnVsbCE9PWRbMF0/ZT10KGJbMl0tdChhWzFdLGFbM10pLGMpOihlPXQoYlsyXS1hWzFdLWFbM10sYyksYlswXSs9KGFbM10tYVsxXSkvMiksbnVsbCE9PWRbMV0/ZT10KEwoZSxiWzJdLXQoYVswXSxhWzJdKSksYyk6KGU9dChMKGUsYlsyXS1hWzBdLWFbMl0pLGMpLGJbMV0rPShhWzBdLWFbMl0pLzIpLGU8YlsyXT8oYlsyXT1lLHRoaXMudHJhbnNsYXRlKGIpLHEodGhpcy5wb2ludHMsZnVuY3Rpb24oYSl7YS5kYXRhTGFiZWwmJihhLmRhdGFMYWJlbC5fcG9zPW51bGwpfSksdGhpcy5kcmF3RGF0YUxhYmVscyYmdGhpcy5kcmF3RGF0YUxhYmVscygpKTpmPSEwLGZ9KSxILmNvbHVtbiYmKEguY29sdW1uLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuY2hhcnQsZz1mLmludmVydGVkLGg9YS5kbEJveHx8YS5zaGFwZUFyZ3MsaT1hLmJlbG93fHxhLnBsb3RZPnAodGhpcy50cmFuc2xhdGVkVGhyZXNob2xkLGYucGxvdFNpemVZKSxqPXAoYy5pbnNpZGUsISF0aGlzLm9wdGlvbnMuc3RhY2tpbmcpO2gmJihkPXcoaCksZyYmKGQ9e3g6Zi5wbG90V2lkdGgtZC55LWQuaGVpZ2h0LHk6Zi5wbG90SGVpZ2h0LWQueC1kLndpZHRoLHdpZHRoOmQuaGVpZ2h0LGhlaWdodDpkLndpZHRofSksIWopJiYoZz8oZC54Kz1pPzA6ZC53aWR0aCxkLndpZHRoPTApOihkLnkrPWk/ZC5oZWlnaHQ6MCxkLmhlaWdodD0wKSksYy5hbGlnbj1wKGMuYWxpZ24sIWd8fGo/ImNlbnRlciI6aT8icmlnaHQiOiJsZWZ0IiksYy52ZXJ0aWNhbEFsaWduPXAoYy52ZXJ0aWNhbEFsaWduLGd8fGo/Im1pZGRsZSI6aT8idG9wIjoiYm90dG9tIiksTy5wcm90b3R5cGUuYWxpZ25EYXRhTGFiZWwuY2FsbCh0aGlzLGEsYixjLGQsZSl9KSxUPUsuVHJhY2tlck1peGluPXtkcmF3VHJhY2tlclBvaW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQsYz1iLnBvaW50ZXIsZD1hLm9wdGlvbnMuY3Vyc29yLGU9ZCYme2N1cnNvcjpkfSxmPWZ1bmN0aW9uKGMpe3ZhciBlLGQ9Yy50YXJnZXQ7Zm9yKGIuaG92ZXJTZXJpZXMhPT1hJiZhLm9uTW91c2VPdmVyKCk7ZCYmIWU7KWU9ZC5wb2ludCxkPWQucGFyZW50Tm9kZTtlIT09dSYmZSE9PWIuaG92ZXJQb2ludCYmZS5vbk1vdXNlT3ZlcihjKX07cShhLnBvaW50cyxmdW5jdGlvbihhKXthLmdyYXBoaWMmJihhLmdyYXBoaWMuZWxlbWVudC5wb2ludD1hKSxhLmRhdGFMYWJlbCYmKGEuZGF0YUxhYmVsLmVsZW1lbnQucG9pbnQ9YSl9KSxhLl9oYXNUcmFja2luZ3x8KHEoYS50cmFja2VyR3JvdXBzLGZ1bmN0aW9uKGIpe2FbYl0mJihhW2JdLmFkZENsYXNzKCJoaWdoY2hhcnRzLXRyYWNrZXIiKS5vbigibW91c2VvdmVyIixmKS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKGEpe2Mub25UcmFja2VyTW91c2VPdXQoYSl9KS5jc3MoZSksJGEpJiZhW2JdLm9uKCJ0b3VjaHN0YXJ0IixmKX0pLGEuX2hhc1RyYWNraW5nPSEwKX0sZHJhd1RyYWNrZXJHcmFwaDpmdW5jdGlvbigpe3ZhciBuLGE9dGhpcyxiPWEub3B0aW9ucyxjPWIudHJhY2tCeUFyZWEsZD1bXS5jb25jYXQoYz9hLmFyZWFQYXRoOmEuZ3JhcGhQYXRoKSxlPWQubGVuZ3RoLGY9YS5jaGFydCxnPWYucG9pbnRlcixoPWYucmVuZGVyZXIsaT1mLm9wdGlvbnMudG9vbHRpcC5zbmFwLGo9YS50cmFja2VyLGs9Yi5jdXJzb3IsbD1rJiZ7Y3Vyc29yOmt9LGs9YS5zaW5nbGVQb2ludHMsbT1mdW5jdGlvbigpe2YuaG92ZXJTZXJpZXMhPT1hJiZhLm9uTW91c2VPdmVyKCl9LG89InJnYmEoMTkyLDE5MiwxOTIsIisoYmE/MWUtNDouMDAyKSsiKSI7aWYoZSYmIWMpZm9yKG49ZSsxO24tLTspIk0iPT09ZFtuXSYmZC5zcGxpY2UobisxLDAsZFtuKzFdLWksZFtuKzJdLCJMIiksKG4mJiJNIj09PWRbbl18fG49PT1lKSYmZC5zcGxpY2UobiwwLCJMIixkW24tMl0raSxkW24tMV0pO2ZvcihuPTA7bjxrLmxlbmd0aDtuKyspZT1rW25dLGQucHVzaCgiTSIsZS5wbG90WC1pLGUucGxvdFksIkwiLGUucGxvdFgraSxlLnBsb3RZKTtqP2ouYXR0cih7ZDpkfSk6KGEudHJhY2tlcj1oLnBhdGgoZCkuYXR0cih7InN0cm9rZS1saW5lam9pbiI6InJvdW5kIix2aXNpYmlsaXR5OmEudmlzaWJsZT8idmlzaWJsZSI6ImhpZGRlbiIsc3Ryb2tlOm8sZmlsbDpjP286UCwic3Ryb2tlLXdpZHRoIjpiLmxpbmVXaWR0aCsoYz8wOjIqaSksekluZGV4OjJ9KS5hZGQoYS5ncm91cCkscShbYS50cmFja2VyLGEubWFya2VyR3JvdXBdLGZ1bmN0aW9uKGEpe2EuYWRkQ2xhc3MoImhpZ2hjaGFydHMtdHJhY2tlciIpLm9uKCJtb3VzZW92ZXIiLG0pLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oYSl7Zy5vblRyYWNrZXJNb3VzZU91dChhKX0pLmNzcyhsKSwkYSYmYS5vbigidG91Y2hzdGFydCIsbSl9KSl9fSxILmNvbHVtbiYmKGlhLnByb3RvdHlwZS5kcmF3VHJhY2tlcj1ULmRyYXdUcmFja2VyUG9pbnQpLEgucGllJiYoSC5waWUucHJvdG90eXBlLmRyYXdUcmFja2VyPVQuZHJhd1RyYWNrZXJQb2ludCksSC5zY2F0dGVyJiYocWEucHJvdG90eXBlLmRyYXdUcmFja2VyPVQuZHJhd1RyYWNrZXJQb2ludCkscihsYi5wcm90b3R5cGUse3NldEl0ZW1FdmVudHM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzOyhjP2I6YS5sZWdlbmRHcm91cCkub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXthLnNldFN0YXRlKCJob3ZlciIpLGIuY3NzKGYub3B0aW9ucy5pdGVtSG92ZXJTdHlsZSl9KS5vbigibW91c2VvdXQiLGZ1bmN0aW9uKCl7Yi5jc3MoYS52aXNpYmxlP2Q6ZSksYS5zZXRTdGF0ZSgpfSkub24oImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz1mdW5jdGlvbigpe2Euc2V0VmlzaWJsZSgpfSxiPXticm93c2VyRXZlbnQ6Yn07YS5maXJlUG9pbnRFdmVudD9hLmZpcmVQb2ludEV2ZW50KCJsZWdlbmRJdGVtQ2xpY2siLGIsYyk6SShhLCJsZWdlbmRJdGVtQ2xpY2siLGIsYyl9KX0sY3JlYXRlQ2hlY2tib3hGb3JJdGVtOmZ1bmN0aW9uKGEpe2EuY2hlY2tib3g9JCgiaW5wdXQiLHt0eXBlOiJjaGVja2JveCIsY2hlY2tlZDphLnNlbGVjdGVkLGRlZmF1bHRDaGVja2VkOmEuc2VsZWN0ZWR9LHRoaXMub3B0aW9ucy5pdGVtQ2hlY2tib3hTdHlsZSx0aGlzLmNoYXJ0LmNvbnRhaW5lciksTihhLmNoZWNrYm94LCJjbGljayIsZnVuY3Rpb24oYil7SShhLCJjaGVja2JveENsaWNrIix7Y2hlY2tlZDpiLnRhcmdldC5jaGVja2VkfSxmdW5jdGlvbigpe2Euc2VsZWN0KCl9KX0pfX0pLEUubGVnZW5kLml0ZW1TdHlsZS5jdXJzb3I9InBvaW50ZXIiLHIoWWEucHJvdG90eXBlLHtzaG93UmVzZXRab29tOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPUUubGFuZyxjPWEub3B0aW9ucy5jaGFydC5yZXNldFpvb21CdXR0b24sZD1jLnRoZW1lLGU9ZC5zdGF0ZXMsZj0iY2hhcnQiPT09Yy5yZWxhdGl2ZVRvP251bGw6InBsb3RCb3giO3RoaXMucmVzZXRab29tQnV0dG9uPWEucmVuZGVyZXIuYnV0dG9uKGIucmVzZXRab29tLG51bGwsbnVsbCxmdW5jdGlvbigpe2Euem9vbU91dCgpfSxkLGUmJmUuaG92ZXIpLmF0dHIoe2FsaWduOmMucG9zaXRpb24uYWxpZ24sdGl0bGU6Yi5yZXNldFpvb21UaXRsZX0pLmFkZCgpLmFsaWduKGMucG9zaXRpb24sITEsZil9LHpvb21PdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO0koYSwic2VsZWN0aW9uIix7cmVzZXRTZWxlY3Rpb246ITB9LGZ1bmN0aW9uKCl7YS56b29tKCl9KX0sem9vbTpmdW5jdGlvbihhKXt2YXIgYixlLGM9dGhpcy5wb2ludGVyLGQ9ITE7IWF8fGEucmVzZXRTZWxlY3Rpb24/cSh0aGlzLmF4ZXMsZnVuY3Rpb24oYSl7Yj1hLnpvb20oKX0pOnEoYS54QXhpcy5jb25jYXQoYS55QXhpcyksZnVuY3Rpb24oYSl7dmFyIGU9YS5heGlzLGg9ZS5pc1hBeGlzOyhjW2g/Inpvb21YIjoiem9vbVkiXXx8Y1toPyJwaW5jaFgiOiJwaW5jaFkiXSkmJihiPWUuem9vbShhLm1pbixhLm1heCksZS5kaXNwbGF5QnRuJiYoZD0hMCkpfSksZT10aGlzLnJlc2V0Wm9vbUJ1dHRvbixkJiYhZT90aGlzLnNob3dSZXNldFpvb20oKTohZCYmZGEoZSkmJih0aGlzLnJlc2V0Wm9vbUJ1dHRvbj1lLmRlc3Ryb3koKSksYiYmdGhpcy5yZWRyYXcocCh0aGlzLm9wdGlvbnMuY2hhcnQuYW5pbWF0aW9uLGEmJmEuYW5pbWF0aW9uLHRoaXMucG9pbnRDb3VudDwxMDApKX0scGFuOmZ1bmN0aW9uKGEsYil7dmFyIGUsYz10aGlzLGQ9Yy5ob3ZlclBvaW50cztkJiZxKGQsZnVuY3Rpb24oYSl7YS5zZXRTdGF0ZSgpfSkscSgieHkiPT09Yj9bMSwwXTpbMV0sZnVuY3Rpb24oYil7dmFyIGQ9YVtiPyJjaGFydFgiOiJjaGFydFkiXSxoPWNbYj8ieEF4aXMiOiJ5QXhpcyJdWzBdLGk9Y1tiPyJtb3VzZURvd25YIjoibW91c2VEb3duWSJdLGo9KGgucG9pbnRSYW5nZXx8MCkvMixrPWguZ2V0RXh0cmVtZXMoKSxsPWgudG9WYWx1ZShpLWQsITApK2osaT1oLnRvVmFsdWUoaStjW2I/InBsb3RXaWR0aCI6InBsb3RIZWlnaHQiXS1kLCEwKS1qO2guc2VyaWVzLmxlbmd0aCYmbD5MKGsuZGF0YU1pbixrLm1pbikmJmk8dChrLmRhdGFNYXgsay5tYXgpJiYoaC5zZXRFeHRyZW1lcyhsLGksITEsITEse3RyaWdnZXI6InBhbiJ9KSxlPSEwKSxjW2I/Im1vdXNlRG93blgiOiJtb3VzZURvd25ZIl09ZH0pLGUmJmMucmVkcmF3KCExKSxCKGMuY29udGFpbmVyLHtjdXJzb3I6Im1vdmUifSl9fSkscihGYS5wcm90b3R5cGUse3NlbGVjdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLnNlcmllcyxlPWQuY2hhcnQsYT1wKGEsIWMuc2VsZWN0ZWQpO2MuZmlyZVBvaW50RXZlbnQoYT8ic2VsZWN0IjoidW5zZWxlY3QiLHthY2N1bXVsYXRlOmJ9LGZ1bmN0aW9uKCl7Yy5zZWxlY3RlZD1jLm9wdGlvbnMuc2VsZWN0ZWQ9YSxkLm9wdGlvbnMuZGF0YVtNYShjLGQuZGF0YSldPWMub3B0aW9ucyxjLnNldFN0YXRlKGEmJiJzZWxlY3QiKSxifHxxKGUuZ2V0U2VsZWN0ZWRQb2ludHMoKSxmdW5jdGlvbihhKXthLnNlbGVjdGVkJiZhIT09YyYmKGEuc2VsZWN0ZWQ9YS5vcHRpb25zLnNlbGVjdGVkPSExLGQub3B0aW9ucy5kYXRhW01hKGEsZC5kYXRhKV09YS5vcHRpb25zLGEuc2V0U3RhdGUoIiIpLGEuZmlyZVBvaW50RXZlbnQoInVuc2VsZWN0IikpfSl9KX0sb25Nb3VzZU92ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zZXJpZXMsYz1iLmNoYXJ0LGQ9Yy50b29sdGlwLGU9Yy5ob3ZlclBvaW50O2UmJmUhPT10aGlzJiZlLm9uTW91c2VPdXQoKSx0aGlzLmZpcmVQb2ludEV2ZW50KCJtb3VzZU92ZXIiKSxkJiYoIWQuc2hhcmVkfHxiLm5vU2hhcmVkVG9vbHRpcCkmJmQucmVmcmVzaCh0aGlzLGEpLHRoaXMuc2V0U3RhdGUoImhvdmVyIiksYy5ob3ZlclBvaW50PXRoaXN9LG9uTW91c2VPdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlcmllcy5jaGFydCxiPWEuaG92ZXJQb2ludHM7dGhpcy5maXJlUG9pbnRFdmVudCgibW91c2VPdXQiKSxiJiYtMSE9PU1hKHRoaXMsYil8fCh0aGlzLnNldFN0YXRlKCksYS5ob3ZlclBvaW50PW51bGwpfSxpbXBvcnRFdmVudHM6ZnVuY3Rpb24oKXtpZighdGhpcy5oYXNJbXBvcnRlZEV2ZW50cyl7dmFyIGIsYT13KHRoaXMuc2VyaWVzLm9wdGlvbnMucG9pbnQsdGhpcy5vcHRpb25zKS5ldmVudHM7dGhpcy5ldmVudHM9YTtmb3IoYiBpbiBhKU4odGhpcyxiLGFbYl0pO3RoaXMuaGFzSW1wb3J0ZWRFdmVudHM9ITB9fSxzZXRTdGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBvLGM9dGhpcy5wbG90WCxkPXRoaXMucGxvdFksZT10aGlzLnNlcmllcyxmPWUub3B0aW9ucy5zdGF0ZXMsZz1jYVtlLnR5cGVdLm1hcmtlciYmZS5vcHRpb25zLm1hcmtlcixoPWcmJiFnLmVuYWJsZWQsaT1nJiZnLnN0YXRlc1thXSxqPWkmJmkuZW5hYmxlZD09PSExLGs9ZS5zdGF0ZU1hcmtlckdyYXBoaWMsbD10aGlzLm1hcmtlcnx8e30sbj1lLmNoYXJ0LG09ZS5oYWxvLGE9YXx8IiI7bz10aGlzLnBvaW50QXR0clthXXx8ZS5wb2ludEF0dHJbYV0sYT09PXRoaXMuc3RhdGUmJiFifHx0aGlzLnNlbGVjdGVkJiYic2VsZWN0IiE9PWF8fGZbYV0mJmZbYV0uZW5hYmxlZD09PSExfHxhJiYoanx8aCYmaS5lbmFibGVkPT09ITEpfHxhJiZsLnN0YXRlcyYmbC5zdGF0ZXNbYV0mJmwuc3RhdGVzW2FdLmVuYWJsZWQ9PT0hMXx8KHRoaXMuZ3JhcGhpYz8oZz1nJiZ0aGlzLmdyYXBoaWMuc3ltYm9sTmFtZSYmby5yLHRoaXMuZ3JhcGhpYy5hdHRyKHcobyxnP3t4OmMtZyx5OmQtZyx3aWR0aDoyKmcsaGVpZ2h0OjIqZ306e30pKSxrJiZrLmhpZGUoKSk6KGEmJmkmJihnPWkucmFkaXVzLGw9bC5zeW1ib2x8fGUuc3ltYm9sLGsmJmsuY3VycmVudFN5bWJvbCE9PWwmJihrPWsuZGVzdHJveSgpKSxrP2tbYj8iYW5pbWF0ZSI6ImF0dHIiXSh7eDpjLWcseTpkLWd9KTpsJiYoZS5zdGF0ZU1hcmtlckdyYXBoaWM9az1uLnJlbmRlcmVyLnN5bWJvbChsLGMtZyxkLWcsMipnLDIqZykuYXR0cihvKS5hZGQoZS5tYXJrZXJHcm91cCksay5jdXJyZW50U3ltYm9sPWwpKSxrJiZrW2EmJm4uaXNJbnNpZGVQbG90KGMsZCxuLmludmVydGVkKT8ic2hvdyI6ImhpZGUiXSgpKSwoYz1mW2FdJiZmW2FdLmhhbG8pJiZjLnNpemU/KG18fChlLmhhbG89bT1uLnJlbmRlcmVyLnBhdGgoKS5hZGQoZS5zZXJpZXNHcm91cCkpLG0uYXR0cihyKHtmaWxsOnlhKHRoaXMuY29sb3J8fGUuY29sb3IpLnNldE9wYWNpdHkoYy5vcGFjaXR5KS5nZXQoKX0sYy5hdHRyaWJ1dGVzKSlbYj8iYW5pbWF0ZSI6ImF0dHIiXSh7ZDp0aGlzLmhhbG9QYXRoKGMuc2l6ZSl9KSk6bSYmbS5hdHRyKHtkOltdfSksdGhpcy5zdGF0ZT1hKX0saGFsb1BhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zZXJpZXMsYz1iLmNoYXJ0LGQ9Yi5nZXRQbG90Qm94KCksZT1jLmludmVydGVkO3JldHVybiBjLnJlbmRlcmVyLnN5bWJvbHMuY2lyY2xlKGQudHJhbnNsYXRlWCsoZT9iLnlBeGlzLmxlbi10aGlzLnBsb3RZOnRoaXMucGxvdFgpLWEsZC50cmFuc2xhdGVZKyhlP2IueEF4aXMubGVuLXRoaXMucGxvdFg6dGhpcy5wbG90WSktYSwyKmEsMiphKX19KSxyKE8ucHJvdG90eXBlLHtvbk1vdXNlT3ZlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj1hLmhvdmVyU2VyaWVzO2ImJmIhPT10aGlzJiZiLm9uTW91c2VPdXQoKSx0aGlzLm9wdGlvbnMuZXZlbnRzLm1vdXNlT3ZlciYmSSh0aGlzLCJtb3VzZU92ZXIiKSx0aGlzLnNldFN0YXRlKCJob3ZlciIpLGEuaG92ZXJTZXJpZXM9dGhpc30sb25Nb3VzZU91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMuY2hhcnQsYz1iLnRvb2x0aXAsZD1iLmhvdmVyUG9pbnQ7ZCYmZC5vbk1vdXNlT3V0KCksdGhpcyYmYS5ldmVudHMubW91c2VPdXQmJkkodGhpcywibW91c2VPdXQiKSxjJiYhYS5zdGlja3lUcmFja2luZyYmKCFjLnNoYXJlZHx8dGhpcy5ub1NoYXJlZFRvb2x0aXApJiZjLmhpZGUoKSx0aGlzLnNldFN0YXRlKCksYi5ob3ZlclNlcmllcz1udWxsfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLmdyYXBoLGQ9dGhpcy5ncmFwaE5lZyxlPWIuc3RhdGVzLGI9Yi5saW5lV2lkdGgsYT1hfHwiIjt0aGlzLnN0YXRlIT09YSYmKHRoaXMuc3RhdGU9YSxlW2FdJiZlW2FdLmVuYWJsZWQ9PT0hMXx8KGEmJihiPWVbYV0ubGluZVdpZHRofHxiKyhlW2FdLmxpbmVXaWR0aFBsdXN8fDApKSxjJiYhYy5kYXNoc3R5bGUmJihhPXsic3Ryb2tlLXdpZHRoIjpifSxjLmF0dHIoYSksZCYmZC5hdHRyKGEpKSkpfSxzZXRWaXNpYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGYsYz10aGlzLGQ9Yy5jaGFydCxlPWMubGVnZW5kSXRlbSxnPWQub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMsaD1jLnZpc2libGU7Zj0oYy52aXNpYmxlPWE9Yy51c2VyT3B0aW9ucy52aXNpYmxlPWE9PT11PyFoOmEpPyJzaG93IjoiaGlkZSIscShbImdyb3VwIiwiZGF0YUxhYmVsc0dyb3VwIiwibWFya2VyR3JvdXAiLCJ0cmFja2VyIl0sZnVuY3Rpb24oYSl7Y1thXSYmY1thXVtmXSgpfSksZC5ob3ZlclNlcmllcz09PWMmJmMub25Nb3VzZU91dCgpLGUmJmQubGVnZW5kLmNvbG9yaXplSXRlbShjLGEpLGMuaXNEaXJ0eT0hMCxjLm9wdGlvbnMuc3RhY2tpbmcmJnEoZC5zZXJpZXMsZnVuY3Rpb24oYSl7YS5vcHRpb25zLnN0YWNraW5nJiZhLnZpc2libGUmJihhLmlzRGlydHk9ITApfSkscShjLmxpbmtlZFNlcmllcyxmdW5jdGlvbihiKXtiLnNldFZpc2libGUoYSwhMSl9KSxnJiYoZC5pc0RpcnR5Qm94PSEwKSxiIT09ITEmJmQucmVkcmF3KCksSShjLGYpfSxzZXRUb29sdGlwUG9pbnRzOmZ1bmN0aW9uKGEpe3ZhciBjLGQsaCxpLGI9W10sZT10aGlzLnhBeGlzLGY9ZSYmZS5nZXRFeHRyZW1lcygpLGc9ZT9lLnRvb2x0aXBMZW58fGUubGVuOnRoaXMuY2hhcnQucGxvdFNpemVYLGo9W107aWYodGhpcy5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmchPT0hMSYmIXRoaXMuc2luZ3VsYXJUb29sdGlwcyl7Zm9yKGEmJih0aGlzLnRvb2x0aXBQb2ludHM9bnVsbCkscSh0aGlzLnNlZ21lbnRzfHx0aGlzLnBvaW50cyxmdW5jdGlvbihhKXtiPWIuY29uY2F0KGEpfSksZSYmZS5yZXZlcnNlZCYmKGI9Yi5yZXZlcnNlKCkpLHRoaXMub3JkZXJUb29sdGlwUG9pbnRzJiZ0aGlzLm9yZGVyVG9vbHRpcFBvaW50cyhiKSxhPWIubGVuZ3RoLGk9MDthPmk7aSsrKWlmKGU9YltpXSxjPWUueCxjPj1mLm1pbiYmYzw9Zi5tYXgpZm9yKGg9YltpKzFdLGM9ZD09PXU/MDpkKzEsZD1iW2krMV0/TCh0KDAsVSgoZS5jbGllbnRYKyhoP2gud3JhcHBlZENsaWVudFh8fGguY2xpZW50WDpnKSkvMikpLGcpOmc7Yz49MCYmZD49YzspaltjKytdPWU7dGhpcy50b29sdGlwUG9pbnRzPWp9fSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRWaXNpYmxlKCEwKX0saGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0VmlzaWJsZSghMSl9LHNlbGVjdDpmdW5jdGlvbihhKXt0aGlzLnNlbGVjdGVkPWE9YT09PXU/IXRoaXMuc2VsZWN0ZWQ6YSx0aGlzLmNoZWNrYm94JiYodGhpcy5jaGVja2JveC5jaGVja2VkPWEpLEkodGhpcyxhPyJzZWxlY3QiOiJ1bnNlbGVjdCIpfSxkcmF3VHJhY2tlcjpULmRyYXdUcmFja2VyR3JhcGh9KSxyKEsse0F4aXM6bmEsQ2hhcnQ6WWEsQ29sb3I6eWEsUG9pbnQ6RmEsVGljazpUYSxSZW5kZXJlcjpaYSxTZXJpZXM6TyxTVkdFbGVtZW50OlMsU1ZHUmVuZGVyZXI6dGEsYXJyYXlNaW46T2EsYXJyYXlNYXg6Q2EsY2hhcnRzOlcsZGF0ZUZvcm1hdDpjYixmb3JtYXQ6SmEscGF0aEFuaW06dmIsZ2V0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiBFfSxoYXNCaWRpQnVnOk9iLGlzVG91Y2hEZXZpY2U6SWIsbnVtYmVyRm9ybWF0OkJhLHNlcmllc1R5cGVzOkgsc2V0T3B0aW9uczpmdW5jdGlvbihhKXtyZXR1cm4gRT13KCEwLEUsYSksQmIoKSxFfSxhZGRFdmVudDpOLHJlbW92ZUV2ZW50OlgsY3JlYXRlRWxlbWVudDokLGRpc2NhcmRFbGVtZW50OlFhLGNzczpCLGVhY2g6cSxleHRlbmQ6cixtYXA6VmEsbWVyZ2U6dyxwaWNrOnAsc3BsYXQ6cmEsZXh0ZW5kQ2xhc3M6bWEscEludDp5LHdyYXA6TmEsc3ZnOmJhLGNhbnZhczpnYSx2bWw6IWJhJiYhZ2EscHJvZHVjdDoiSGlnaGNoYXJ0cyIsdmVyc2lvbjoiNC4wLjQifSl9KCksZnVuY3Rpb24obCxDKXtmdW5jdGlvbiBLKGEsYixjKXt0aGlzLmluaXQuY2FsbCh0aGlzLGEsYixjKX12YXIgUD1sLmFycmF5TWluLFE9bC5hcnJheU1heCxzPWwuZWFjaCxGPWwuZXh0ZW5kLHE9bC5tZXJnZSxSPWwubWFwLG89bC5waWNrLHg9bC5wSW50LHA9bC5nZXRPcHRpb25zKCkucGxvdE9wdGlvbnMsZz1sLnNlcmllc1R5cGVzLHY9bC5leHRlbmRDbGFzcyxMPWwuc3BsYXQscj1sLndyYXAsTT1sLkF4aXMseT1sLlRpY2ssSD1sLlBvaW50LFM9bC5Qb2ludGVyLFQ9bC5DZW50ZXJlZFNlcmllc01peGluLHo9bC5UcmFja2VyTWl4aW4sdD1sLlNlcmllcyx3PU1hdGgsRD13LnJvdW5kLEE9dy5mbG9vcixOPXcubWF4LFU9bC5Db2xvcix1PWZ1bmN0aW9uKCl7fTtGKEsucHJvdG90eXBlLHtpbml0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZC5kZWZhdWx0T3B0aW9ucztkLmNoYXJ0PWIsYi5hbmd1bGFyJiYoZS5iYWNrZ3JvdW5kPXt9KSxkLm9wdGlvbnM9YT1xKGUsYSksKGE9YS5iYWNrZ3JvdW5kKSYmcyhbXS5jb25jYXQoTChhKSkucmV2ZXJzZSgpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuYmFja2dyb3VuZENvbG9yLGE9cShkLmRlZmF1bHRCYWNrZ3JvdW5kT3B0aW9ucyxhKTtiJiYoYS5iYWNrZ3JvdW5kQ29sb3I9YiksYS5jb2xvcj1hLmJhY2tncm91bmRDb2xvcixjLm9wdGlvbnMucGxvdEJhbmRzLnVuc2hpZnQoYSl9KX0sZGVmYXVsdE9wdGlvbnM6e2NlbnRlcjpbIjUwJSIsIjUwJSJdLHNpemU6Ijg1JSIsc3RhcnRBbmdsZTowfSxkZWZhdWx0QmFja2dyb3VuZE9wdGlvbnM6e3NoYXBlOiJjaXJjbGUiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6InNpbHZlciIsYmFja2dyb3VuZENvbG9yOntsaW5lYXJHcmFkaWVudDp7eDE6MCx5MTowLHgyOjAseTI6MX0sc3RvcHM6W1swLCIjRkZGIl0sWzEsIiNEREQiXV19LGZyb206LU51bWJlci5NQVhfVkFMVUUsaW5uZXJSYWRpdXM6MCx0bzpOdW1iZXIuTUFYX1ZBTFVFLG91dGVyUmFkaXVzOiIxMDUlIn19KTt2YXIgRz1NLnByb3RvdHlwZSx5PXkucHJvdG90eXBlLFY9e2dldE9mZnNldDp1LHJlZHJhdzpmdW5jdGlvbigpe3RoaXMuaXNEaXJ0eT0hMX0scmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5pc0RpcnR5PSExfSxzZXRTY2FsZTp1LHNldENhdGVnb3JpZXM6dSxzZXRUaXRsZTp1fSxPPXtpc1JhZGlhbDohMCxkZWZhdWx0UmFkaWFsR2F1Z2VPcHRpb25zOntsYWJlbHM6e2FsaWduOiJjZW50ZXIiLHg6MCx5Om51bGx9LG1pbm9yR3JpZExpbmVXaWR0aDowLG1pbm9yVGlja0ludGVydmFsOiJhdXRvIixtaW5vclRpY2tMZW5ndGg6MTAsbWlub3JUaWNrUG9zaXRpb246Imluc2lkZSIsbWlub3JUaWNrV2lkdGg6MSx0aWNrTGVuZ3RoOjEwLHRpY2tQb3NpdGlvbjoiaW5zaWRlIix0aWNrV2lkdGg6Mix0aXRsZTp7cm90YXRpb246MH0sekluZGV4OjJ9LGRlZmF1bHRSYWRpYWxYT3B0aW9uczp7Z3JpZExpbmVXaWR0aDoxLGxhYmVsczp7YWxpZ246bnVsbCxkaXN0YW5jZToxNSx4OjAseTpudWxsfSxtYXhQYWRkaW5nOjAsbWluUGFkZGluZzowLHNob3dMYXN0TGFiZWw6ITEsdGlja0xlbmd0aDowfSxkZWZhdWx0UmFkaWFsWU9wdGlvbnM6e2dyaWRMaW5lSW50ZXJwb2xhdGlvbjoiY2lyY2xlIixsYWJlbHM6e2FsaWduOiJyaWdodCIseDotMyx5Oi0yfSxzaG93TGFzdExhYmVsOiExLHRpdGxlOnt4OjQsdGV4dDpudWxsLHJvdGF0aW9uOjkwfX0sc2V0T3B0aW9uczpmdW5jdGlvbihhKXthPXRoaXMub3B0aW9ucz1xKHRoaXMuZGVmYXVsdE9wdGlvbnMsdGhpcy5kZWZhdWx0UmFkaWFsT3B0aW9ucyxhKSxhLnBsb3RCYW5kc3x8KGEucGxvdEJhbmRzPVtdKX0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKCl7Ry5nZXRPZmZzZXQuY2FsbCh0aGlzKSx0aGlzLmNoYXJ0LmF4aXNPZmZzZXRbdGhpcy5zaWRlXT0wLHRoaXMuY2VudGVyPXRoaXMucGFuZS5jZW50ZXI9VC5nZXRDZW50ZXIuY2FsbCh0aGlzLnBhbmUpfSxnZXRMaW5lUGF0aDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2VudGVyLGI9byhiLGNbMl0vMi10aGlzLm9mZnNldCk7cmV0dXJuIHRoaXMuY2hhcnQucmVuZGVyZXIuc3ltYm9scy5hcmModGhpcy5sZWZ0K2NbMF0sdGhpcy50b3ArY1sxXSxiLGIse3N0YXJ0OnRoaXMuc3RhcnRBbmdsZVJhZCxlbmQ6dGhpcy5lbmRBbmdsZVJhZCxvcGVuOiEwLGlubmVyUjowfSl9LHNldEF4aXNUcmFuc2xhdGlvbjpmdW5jdGlvbigpe0cuc2V0QXhpc1RyYW5zbGF0aW9uLmNhbGwodGhpcyksdGhpcy5jZW50ZXImJih0aGlzLnRyYW5zQT10aGlzLmlzQ2lyY3VsYXI/KHRoaXMuZW5kQW5nbGVSYWQtdGhpcy5zdGFydEFuZ2xlUmFkKS8odGhpcy5tYXgtdGhpcy5taW58fDEpOnRoaXMuY2VudGVyWzJdLzIvKHRoaXMubWF4LXRoaXMubWlufHwxKSx0aGlzLm1pblBpeGVsUGFkZGluZz10aGlzLmlzWEF4aXM/dGhpcy50cmFuc0EqdGhpcy5taW5Qb2ludE9mZnNldDowKX0sYmVmb3JlU2V0VGlja1Bvc2l0aW9uczpmdW5jdGlvbigpe3RoaXMuYXV0b0Nvbm5lY3QmJih0aGlzLm1heCs9dGhpcy5jYXRlZ29yaWVzJiYxfHx0aGlzLnBvaW50UmFuZ2V8fHRoaXMuY2xvc2VzdFBvaW50UmFuZ2V8fDApfSxzZXRBeGlzU2l6ZTpmdW5jdGlvbigpe0cuc2V0QXhpc1NpemUuY2FsbCh0aGlzKSx0aGlzLmlzUmFkaWFsJiYodGhpcy5jZW50ZXI9dGhpcy5wYW5lLmNlbnRlcj1sLkNlbnRlcmVkU2VyaWVzTWl4aW4uZ2V0Q2VudGVyLmNhbGwodGhpcy5wYW5lKSx0aGlzLmlzQ2lyY3VsYXImJih0aGlzLnNlY3Rvcj10aGlzLmVuZEFuZ2xlUmFkLXRoaXMuc3RhcnRBbmdsZVJhZCksdGhpcy5sZW49dGhpcy53aWR0aD10aGlzLmhlaWdodD10aGlzLmNlbnRlclsyXSpvKHRoaXMuc2VjdG9yLDEpLzIpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnBvc3RUcmFuc2xhdGUodGhpcy5pc0NpcmN1bGFyP3RoaXMudHJhbnNsYXRlKGEpOjAsbyh0aGlzLmlzQ2lyY3VsYXI/Yjp0aGlzLnRyYW5zbGF0ZShhKSx0aGlzLmNlbnRlclsyXS8yKS10aGlzLm9mZnNldCl9LHBvc3RUcmFuc2xhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNoYXJ0LGQ9dGhpcy5jZW50ZXIsYT10aGlzLnN0YXJ0QW5nbGVSYWQrYTtyZXR1cm57eDpjLnBsb3RMZWZ0K2RbMF0rTWF0aC5jb3MoYSkqYix5OmMucGxvdFRvcCtkWzFdK01hdGguc2luKGEpKmJ9fSxnZXRQbG90QmFuZFBhdGg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBrLGQ9dGhpcy5jZW50ZXIsZT10aGlzLnN0YXJ0QW5nbGVSYWQsZj1kWzJdLzIsaD1bbyhjLm91dGVyUmFkaXVzLCIxMDAlIiksYy5pbm5lclJhZGl1cyxvKGMudGhpY2tuZXNzLDEwKV0saj0vJSQvLG09dGhpcy5pc0NpcmN1bGFyO3JldHVybiJwb2x5Z29uIj09PXRoaXMub3B0aW9ucy5ncmlkTGluZUludGVycG9sYXRpb24/ZD10aGlzLmdldFBsb3RMaW5lUGF0aChhKS5jb25jYXQodGhpcy5nZXRQbG90TGluZVBhdGgoYiwhMCkpOihtfHwoaFswXT10aGlzLnRyYW5zbGF0ZShhKSxoWzFdPXRoaXMudHJhbnNsYXRlKGIpKSxoPVIoaCxmdW5jdGlvbihhKXtyZXR1cm4gai50ZXN0KGEpJiYoYT14KGEsMTApKmYvMTAwKSxhfSksImNpcmNsZSIhPT1jLnNoYXBlJiZtPyhhPWUrdGhpcy50cmFuc2xhdGUoYSksYj1lK3RoaXMudHJhbnNsYXRlKGIpKTooYT0tTWF0aC5QSS8yLGI9MS41Kk1hdGguUEksaz0hMCksZD10aGlzLmNoYXJ0LnJlbmRlcmVyLnN5bWJvbHMuYXJjKHRoaXMubGVmdCtkWzBdLHRoaXMudG9wK2RbMV0saFswXSxoWzBdLHtzdGFydDphLGVuZDpiLGlubmVyUjpvKGhbMV0saFswXS1oWzJdKSxvcGVuOmt9KSksZH0sZ2V0UGxvdExpbmVQYXRoOmZ1bmN0aW9uKGEsYil7dmFyIGgsaixrLGM9dGhpcyxkPWMuY2VudGVyLGU9Yy5jaGFydCxmPWMuZ2V0UG9zaXRpb24oYSk7cmV0dXJuIGMuaXNDaXJjdWxhcj9rPVsiTSIsZFswXStlLnBsb3RMZWZ0LGRbMV0rZS5wbG90VG9wLCJMIixmLngsZi55XToiY2lyY2xlIj09PWMub3B0aW9ucy5ncmlkTGluZUludGVycG9sYXRpb24/KGE9Yy50cmFuc2xhdGUoYSkpJiYoaz1jLmdldExpbmVQYXRoKDAsYSkpOihzKGUueEF4aXMsZnVuY3Rpb24oYSl7YS5wYW5lPT09Yy5wYW5lJiYoaD1hKX0pLGs9W10sYT1jLnRyYW5zbGF0ZShhKSxkPWgudGlja1Bvc2l0aW9ucyxoLmF1dG9Db25uZWN0JiYoZD1kLmNvbmNhdChbZFswXV0pKSxiJiYoZD1bXS5jb25jYXQoZCkucmV2ZXJzZSgpKSxzKGQsZnVuY3Rpb24oZixjKXtqPWguZ2V0UG9zaXRpb24oZixhKSxrLnB1c2goYz8iTCI6Ik0iLGoueCxqLnkpfSkpLGt9LGdldFRpdGxlUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNlbnRlcixiPXRoaXMuY2hhcnQsYz10aGlzLm9wdGlvbnMudGl0bGU7cmV0dXJue3g6Yi5wbG90TGVmdCthWzBdKyhjLnh8fDApLHk6Yi5wbG90VG9wK2FbMV0te2hpZ2g6LjUsbWlkZGxlOi4yNSxsb3c6MH1bYy5hbGlnbl0qYVsyXSsoYy55fHwwKX19fTtyKEcsImluaXQiLGZ1bmN0aW9uKGEsYixjKXt2YXIgaSxqLGssZD1iLmFuZ3VsYXIsZT1iLnBvbGFyLGY9Yy5pc1gsaD1kJiZmO2s9Yi5vcHRpb25zO3ZhciBtPWMucGFuZXx8MDtkPyhGKHRoaXMsaD9WOk8pLChqPSFmKSYmKHRoaXMuZGVmYXVsdFJhZGlhbE9wdGlvbnM9dGhpcy5kZWZhdWx0UmFkaWFsR2F1Z2VPcHRpb25zKSk6ZSYmKEYodGhpcyxPKSx0aGlzLmRlZmF1bHRSYWRpYWxPcHRpb25zPShqPWYpP3RoaXMuZGVmYXVsdFJhZGlhbFhPcHRpb25zOnEodGhpcy5kZWZhdWx0WUF4aXNPcHRpb25zLHRoaXMuZGVmYXVsdFJhZGlhbFlPcHRpb25zKSksYS5jYWxsKHRoaXMsYixjKSxofHwhZCYmIWV8fChhPXRoaXMub3B0aW9ucyxiLnBhbmVzfHwoYi5wYW5lcz1bXSksdGhpcy5wYW5lPShpPWIucGFuZXNbbV09Yi5wYW5lc1ttXXx8bmV3IEsoTChrLnBhbmUpW21dLGIsdGhpcyksbT1pKSxtPW0ub3B0aW9ucyxiLmludmVydGVkPSExLGsuY2hhcnQuem9vbVR5cGU9bnVsbCx0aGlzLnN0YXJ0QW5nbGVSYWQ9Yj0obS5zdGFydEFuZ2xlLTkwKSpNYXRoLlBJLzE4MCx0aGlzLmVuZEFuZ2xlUmFkPWs9KG8obS5lbmRBbmdsZSxtLnN0YXJ0QW5nbGUrMzYwKS05MCkqTWF0aC5QSS8xODAsdGhpcy5vZmZzZXQ9YS5vZmZzZXR8fDAsKHRoaXMuaXNDaXJjdWxhcj1qKSYmYy5tYXg9PT1DJiZrLWI9PT0yKk1hdGguUEkmJih0aGlzLmF1dG9Db25uZWN0PSEwKSl9KSxyKHksImdldFBvc2l0aW9uIixmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuYXhpcztyZXR1cm4gZi5nZXRQb3NpdGlvbj9mLmdldFBvc2l0aW9uKGMpOmEuY2FsbCh0aGlzLGIsYyxkLGUpfSkscih5LCJnZXRMYWJlbFBvc2l0aW9uIixmdW5jdGlvbihhLGIsYyxkLGUsZixoLGosayl7dmFyIG09dGhpcy5heGlzLGk9Zi55LG49Zi5hbGlnbixnPShtLnRyYW5zbGF0ZSh0aGlzLnBvcykrbS5zdGFydEFuZ2xlUmFkK01hdGguUEkvMikvTWF0aC5QSSoxODAlMzYwO3JldHVybiBtLmlzUmFkaWFsPyhhPW0uZ2V0UG9zaXRpb24odGhpcy5wb3MsbS5jZW50ZXJbMl0vMitvKGYuZGlzdGFuY2UsLTI1KSksImF1dG8iPT09Zi5yb3RhdGlvbj9kLmF0dHIoe3JvdGF0aW9uOmd9KTpudWxsPT09aSYmKGk9bS5jaGFydC5yZW5kZXJlci5mb250TWV0cmljcyhkLnN0eWxlcy5mb250U2l6ZSkuYi1kLmdldEJCb3goKS5oZWlnaHQvMiksbnVsbD09PW4mJihuPW0uaXNDaXJjdWxhcj9nPjIwJiYxNjA+Zz8ibGVmdCI6Zz4yMDAmJjM0MD5nPyJyaWdodCI6ImNlbnRlciI6ImNlbnRlciIsZC5hdHRyKHthbGlnbjpufSkpLGEueCs9Zi54LGEueSs9aSk6YT1hLmNhbGwodGhpcyxiLGMsZCxlLGYsaCxqLGspLGF9KSxyKHksImdldE1hcmtQYXRoIixmdW5jdGlvbihhLGIsYyxkLGUsZixoKXt2YXIgaj10aGlzLmF4aXM7cmV0dXJuIGouaXNSYWRpYWw/KGE9ai5nZXRQb3NpdGlvbih0aGlzLnBvcyxqLmNlbnRlclsyXS8yK2QpLGI9WyJNIixiLGMsIkwiLGEueCxhLnldKTpiPWEuY2FsbCh0aGlzLGIsYyxkLGUsZixoKSxifSkscC5hcmVhcmFuZ2U9cShwLmFyZWEse2xpbmVXaWR0aDoxLG1hcmtlcjpudWxsLHRocmVzaG9sZDpudWxsLHRvb2x0aXA6e3BvaW50Rm9ybWF0Oic8c3BhbiBzdHlsZT0iY29sb3I6e3Nlcmllcy5jb2xvcn0iPuKXjzwvc3Bhbj4ge3Nlcmllcy5uYW1lfTogPGI+e3BvaW50Lmxvd308L2I+IC0gPGI+e3BvaW50LmhpZ2h9PC9iPjxici8+J30sdHJhY2tCeUFyZWE6ITAsZGF0YUxhYmVsczp7YWxpZ246bnVsbCx2ZXJ0aWNhbEFsaWduOm51bGwseExvdzowLHhIaWdoOjAseUxvdzowLHlIaWdoOjB9LHN0YXRlczp7aG92ZXI6e2hhbG86ITF9fX0pLGcuYXJlYXJhbmdlPXYoZy5hcmVhLHt0eXBlOiJhcmVhcmFuZ2UiLHBvaW50QXJyYXlNYXA6WyJsb3ciLCJoaWdoIl0sdG9ZRGF0YTpmdW5jdGlvbihhKXtyZXR1cm5bYS5sb3csYS5oaWdoXX0scG9pbnRWYWxLZXk6ImxvdyIsZ2V0U2VnbWVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3MoYS5wb2ludHMsZnVuY3Rpb24oYil7YS5vcHRpb25zLmNvbm5lY3ROdWxsc3x8bnVsbCE9PWIubG93JiZudWxsIT09Yi5oaWdoP251bGw9PT1iLmxvdyYmbnVsbCE9PWIuaGlnaCYmKGIueT1iLmhpZ2gpOmIueT1udWxsfSksdC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy55QXhpcztnLmFyZWEucHJvdG90eXBlLnRyYW5zbGF0ZS5hcHBseSh0aGlzKSxzKHRoaXMucG9pbnRzLGZ1bmN0aW9uKGIpe3ZhciBjPWIubG93LGQ9Yi5oaWdoLGU9Yi5wbG90WTtudWxsPT09ZCYmbnVsbD09PWM/Yi55PW51bGw6bnVsbD09PWM/KGIucGxvdExvdz1iLnBsb3RZPW51bGwsYi5wbG90SGlnaD1hLnRyYW5zbGF0ZShkLDAsMSwwLDEpKTpudWxsPT09ZD8oYi5wbG90TG93PWUsYi5wbG90SGlnaD1udWxsKTooYi5wbG90TG93PWUsYi5wbG90SGlnaD1hLnRyYW5zbGF0ZShkLDAsMSwwLDEpKX0pfSxnZXRTZWdtZW50UGF0aDpmdW5jdGlvbihhKXt2YXIgYixmLGgsYz1bXSxkPWEubGVuZ3RoLGU9dC5wcm90b3R5cGUuZ2V0U2VnbWVudFBhdGg7aD10aGlzLm9wdGlvbnM7dmFyIGo9aC5zdGVwO2ZvcihiPUhpZ2hjaGFydHNBZGFwdGVyLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEucGxvdExvd30pO2QtLTspZj1hW2RdLG51bGwhPT1mLnBsb3RIaWdoJiZjLnB1c2goe3Bsb3RYOmYucGxvdFgscGxvdFk6Zi5wbG90SGlnaH0pO3JldHVybiBhPWUuY2FsbCh0aGlzLGIpLGomJihqPT09ITAmJihqPSJsZWZ0IiksaC5zdGVwPXtsZWZ0OiJyaWdodCIsY2VudGVyOiJjZW50ZXIiLHJpZ2h0OiJsZWZ0In1bal0pLGM9ZS5jYWxsKHRoaXMsYyksaC5zdGVwPWosaD1bXS5jb25jYXQoYSxjKSxjWzBdPSJMIix0aGlzLmFyZWFQYXRoPXRoaXMuYXJlYVBhdGguY29uY2F0KGEsYyksaH0sZHJhd0RhdGFMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgYyxqLGE9dGhpcy5kYXRhLGI9YS5sZW5ndGgsZD1bXSxlPXQucHJvdG90eXBlLGY9dGhpcy5vcHRpb25zLmRhdGFMYWJlbHMsaD1mLmFsaWduLGs9dGhpcy5jaGFydC5pbnZlcnRlZDtpZihmLmVuYWJsZWR8fHRoaXMuX2hhc1BvaW50TGFiZWxzKXtmb3IoYz1iO2MtLTspaj1hW2NdLGoueT1qLmhpZ2gsai5fcGxvdFk9ai5wbG90WSxqLnBsb3RZPWoucGxvdEhpZ2gsZFtjXT1qLmRhdGFMYWJlbCxqLmRhdGFMYWJlbD1qLmRhdGFMYWJlbFVwcGVyLGouYmVsb3c9ITEsaz8oaHx8KGYuYWxpZ249ImxlZnQiKSxmLng9Zi54SGlnaCk6Zi55PWYueUhpZ2g7Zm9yKGUuZHJhd0RhdGFMYWJlbHMmJmUuZHJhd0RhdGFMYWJlbHMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGM9YjtjLS07KWo9YVtjXSxqLmRhdGFMYWJlbFVwcGVyPWouZGF0YUxhYmVsLGouZGF0YUxhYmVsPWRbY10sai55PWoubG93LGoucGxvdFk9ai5fcGxvdFksai5iZWxvdz0hMCxrPyhofHwoZi5hbGlnbj0icmlnaHQiKSxmLng9Zi54TG93KTpmLnk9Zi55TG93O2UuZHJhd0RhdGFMYWJlbHMmJmUuZHJhd0RhdGFMYWJlbHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWYuYWxpZ249aH0sYWxpZ25EYXRhTGFiZWw6ZnVuY3Rpb24oKXtnLmNvbHVtbi5wcm90b3R5cGUuYWxpZ25EYXRhTGFiZWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnZXRTeW1ib2w6dSxkcmF3UG9pbnRzOnV9KSxwLmFyZWFzcGxpbmVyYW5nZT1xKHAuYXJlYXJhbmdlKSxnLmFyZWFzcGxpbmVyYW5nZT12KGcuYXJlYXJhbmdlLHt0eXBlOiJhcmVhc3BsaW5lcmFuZ2UiLGdldFBvaW50U3BsaW5lOmcuc3BsaW5lLnByb3RvdHlwZS5nZXRQb2ludFNwbGluZX0pLGZ1bmN0aW9uKCl7dmFyIGE9Zy5jb2x1bW4ucHJvdG90eXBlO3AuY29sdW1ucmFuZ2U9cShwLmNvbHVtbixwLmFyZWFyYW5nZSx7bGluZVdpZHRoOjEscG9pbnRSYW5nZTpudWxsfSksZy5jb2x1bW5yYW5nZT12KGcuYXJlYXJhbmdlLHt0eXBlOiJjb2x1bW5yYW5nZSIsdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGQsYj10aGlzLGM9Yi55QXhpczthLnRyYW5zbGF0ZS5hcHBseShiKSxzKGIucG9pbnRzLGZ1bmN0aW9uKGEpe3ZhciBqLGY9YS5zaGFwZUFyZ3MsaD1iLm9wdGlvbnMubWluUG9pbnRMZW5ndGg7YS50b29sdGlwUG9zPW51bGwsYS5wbG90SGlnaD1kPWMudHJhbnNsYXRlKGEuaGlnaCwwLDEsMCwxKSxhLnBsb3RMb3c9YS5wbG90WSxqPWQsYT1hLnBsb3RZLWQsaD5hJiYoaC09YSxhKz1oLGotPWgvMiksZi5oZWlnaHQ9YSxmLnk9an0pfSx0cmFja2VyR3JvdXBzOlsiZ3JvdXAiLCJkYXRhTGFiZWxzR3JvdXAiXSxkcmF3R3JhcGg6dSxwb2ludEF0dHJUb09wdGlvbnM6YS5wb2ludEF0dHJUb09wdGlvbnMsZHJhd1BvaW50czphLmRyYXdQb2ludHMsZHJhd1RyYWNrZXI6YS5kcmF3VHJhY2tlcixhbmltYXRlOmEuYW5pbWF0ZSxnZXRDb2x1bW5NZXRyaWNzOmEuZ2V0Q29sdW1uTWV0cmljc30pfSgpLHAuZ2F1Z2U9cShwLmxpbmUse2RhdGFMYWJlbHM6e2VuYWJsZWQ6ITAsZGVmZXI6ITEseToxNSxib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiJzaWx2ZXIiLGJvcmRlclJhZGl1czozLGNyb3A6ITEsc3R5bGU6e2ZvbnRXZWlnaHQ6ImJvbGQifSx2ZXJ0aWNhbEFsaWduOiJ0b3AiLHpJbmRleDoyfSxkaWFsOnt9LHBpdm90Ont9LHRvb2x0aXA6e2hlYWRlckZvcm1hdDoiIn0sc2hvd0luTGVnZW5kOiExfSksej17dHlwZToiZ2F1Z2UiLHBvaW50Q2xhc3M6dihILHtzZXRTdGF0ZTpmdW5jdGlvbihhKXt0aGlzLnN0YXRlPWF9fSksYW5ndWxhcjohMCxkcmF3R3JhcGg6dSxmaXhlZEJveDohMCxmb3JjZURMOiEwLHRyYWNrZXJHcm91cHM6WyJncm91cCIsImRhdGFMYWJlbHNHcm91cCJdLHRyYW5zbGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMueUF4aXMsYj10aGlzLm9wdGlvbnMsYz1hLmNlbnRlcjt0aGlzLmdlbmVyYXRlUG9pbnRzKCkscyh0aGlzLnBvaW50cyxmdW5jdGlvbihkKXt2YXIgZT1xKGIuZGlhbCxkLmRpYWwpLGY9eChvKGUucmFkaXVzLDgwKSkqY1syXS8yMDAsaD14KG8oZS5iYXNlTGVuZ3RoLDcwKSkqZi8xMDAsaj14KG8oZS5yZWFyTGVuZ3RoLDEwKSkqZi8xMDAsaz1lLmJhc2VXaWR0aHx8MyxtPWUudG9wV2lkdGh8fDEsaT1iLm92ZXJzaG9vdCxuPWEuc3RhcnRBbmdsZVJhZCthLnRyYW5zbGF0ZShkLnksbnVsbCxudWxsLG51bGwsITApO2kmJiJudW1iZXIiPT10eXBlb2YgaT8oaT1pLzE4MCpNYXRoLlBJLG49TWF0aC5tYXgoYS5zdGFydEFuZ2xlUmFkLWksTWF0aC5taW4oYS5lbmRBbmdsZVJhZCtpLG4pKSk6Yi53cmFwPT09ITEmJihuPU1hdGgubWF4KGEuc3RhcnRBbmdsZVJhZCxNYXRoLm1pbihhLmVuZEFuZ2xlUmFkLG4pKSksbj0xODAqbi9NYXRoLlBJLGQuc2hhcGVUeXBlPSJwYXRoIixkLnNoYXBlQXJncz17ZDplLnBhdGh8fFsiTSIsLWosLWsvMiwiTCIsaCwtay8yLGYsLW0vMixmLG0vMixoLGsvMiwtaixrLzIsInoiXSx0cmFuc2xhdGVYOmNbMF0sdHJhbnNsYXRlWTpjWzFdLHJvdGF0aW9uOm59LGQucGxvdFg9Y1swXSxkLnBsb3RZPWNbMV19KX0sZHJhd1BvaW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnlBeGlzLmNlbnRlcixjPWEucGl2b3QsZD1hLm9wdGlvbnMsZT1kLnBpdm90LGY9YS5jaGFydC5yZW5kZXJlcjtzKGEucG9pbnRzLGZ1bmN0aW9uKGMpe3ZhciBiPWMuZ3JhcGhpYyxrPWMuc2hhcGVBcmdzLGU9ay5kLGk9cShkLmRpYWwsYy5kaWFsKTtiPyhiLmFuaW1hdGUoayksay5kPWUpOmMuZ3JhcGhpYz1mW2Muc2hhcGVUeXBlXShrKS5hdHRyKHtzdHJva2U6aS5ib3JkZXJDb2xvcnx8Im5vbmUiLCJzdHJva2Utd2lkdGgiOmkuYm9yZGVyV2lkdGh8fDAsZmlsbDppLmJhY2tncm91bmRDb2xvcnx8ImJsYWNrIixyb3RhdGlvbjprLnJvdGF0aW9ufSkuYWRkKGEuZ3JvdXApfSksYz9jLmFuaW1hdGUoe3RyYW5zbGF0ZVg6YlswXSx0cmFuc2xhdGVZOmJbMV19KTphLnBpdm90PWYuY2lyY2xlKDAsMCxvKGUucmFkaXVzLDUpKS5hdHRyKHsic3Ryb2tlLXdpZHRoIjplLmJvcmRlcldpZHRofHwwLHN0cm9rZTplLmJvcmRlckNvbG9yfHwic2lsdmVyIixmaWxsOmUuYmFja2dyb3VuZENvbG9yfHwiYmxhY2sifSkudHJhbnNsYXRlKGJbMF0sYlsxXSkuYWRkKGEuZ3JvdXApfSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YXx8KHMoYi5wb2ludHMsZnVuY3Rpb24oYSl7dmFyIGQ9YS5ncmFwaGljO2QmJihkLmF0dHIoe3JvdGF0aW9uOjE4MCpiLnlBeGlzLnN0YXJ0QW5nbGVSYWQvTWF0aC5QSX0pLGQuYW5pbWF0ZSh7cm90YXRpb246YS5zaGFwZUFyZ3Mucm90YXRpb259LGIub3B0aW9ucy5hbmltYXRpb24pKX0pLGIuYW5pbWF0ZT1udWxsKX0scmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5ncm91cD10aGlzLnBsb3RHcm91cCgiZ3JvdXAiLCJzZXJpZXMiLHRoaXMudmlzaWJsZT8idmlzaWJsZSI6ImhpZGRlbiIsdGhpcy5vcHRpb25zLnpJbmRleCx0aGlzLmNoYXJ0LnNlcmllc0dyb3VwKSx0LnByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzKSx0aGlzLmdyb3VwLmNsaXAodGhpcy5jaGFydC5jbGlwUmVjdCl9LHNldERhdGE6ZnVuY3Rpb24oYSxiKXt0LnByb3RvdHlwZS5zZXREYXRhLmNhbGwodGhpcyxhLCExKSx0aGlzLnByb2Nlc3NEYXRhKCksdGhpcy5nZW5lcmF0ZVBvaW50cygpLG8oYiwhMCkmJnRoaXMuY2hhcnQucmVkcmF3KCl9LGRyYXdUcmFja2VyOnomJnouZHJhd1RyYWNrZXJQb2ludH0sZy5nYXVnZT12KGcubGluZSx6KSxwLmJveHBsb3Q9cShwLmNvbHVtbix7ZmlsbENvbG9yOiIjRkZGRkZGIixsaW5lV2lkdGg6MSxtZWRpYW5XaWR0aDoyLHN0YXRlczp7aG92ZXI6e2JyaWdodG5lc3M6LS4zfX0sdGhyZXNob2xkOm51bGwsdG9vbHRpcDp7cG9pbnRGb3JtYXQ6JzxzcGFuIHN0eWxlPSJjb2xvcjp7c2VyaWVzLmNvbG9yfSI+4pePPC9zcGFuPiA8Yj4ge3Nlcmllcy5uYW1lfTwvYj48YnIvPk1heGltdW06IHtwb2ludC5oaWdofTxici8+VXBwZXIgcXVhcnRpbGU6IHtwb2ludC5xM308YnIvPk1lZGlhbjoge3BvaW50Lm1lZGlhbn08YnIvPkxvd2VyIHF1YXJ0aWxlOiB7cG9pbnQucTF9PGJyLz5NaW5pbXVtOiB7cG9pbnQubG93fTxici8+J30sd2hpc2tlckxlbmd0aDoiNTAlIix3aGlza2VyV2lkdGg6Mn0pLGcuYm94cGxvdD12KGcuY29sdW1uLHt0eXBlOiJib3hwbG90Iixwb2ludEFycmF5TWFwOlsibG93IiwicTEiLCJtZWRpYW4iLCJxMyIsImhpZ2giXSx0b1lEYXRhOmZ1bmN0aW9uKGEpe3JldHVyblthLmxvdyxhLnExLGEubWVkaWFuLGEucTMsYS5oaWdoXX0scG9pbnRWYWxLZXk6ImhpZ2giLHBvaW50QXR0clRvT3B0aW9uczp7ZmlsbDoiZmlsbENvbG9yIixzdHJva2U6ImNvbG9yIiwic3Ryb2tlLXdpZHRoIjoibGluZVdpZHRoIn0sZHJhd0RhdGFMYWJlbHM6dSx0cmFuc2xhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnlBeGlzLGI9dGhpcy5wb2ludEFycmF5TWFwO2cuY29sdW1uLnByb3RvdHlwZS50cmFuc2xhdGUuYXBwbHkodGhpcykscyh0aGlzLnBvaW50cyxmdW5jdGlvbihjKXtzKGIsZnVuY3Rpb24oYil7bnVsbCE9PWNbYl0mJihjW2IrIlBsb3QiXT1hLnRyYW5zbGF0ZShjW2JdLDAsMSwwLDEpKX0pfSl9LGRyYXdQb2ludHM6ZnVuY3Rpb24oKXt2YXIgZSxmLGgsaixrLG0saSxuLGcsbCxwLEkscixxLEosdSx2LHQsdyx4LHoseSxhPXRoaXMsYj1hLnBvaW50cyxjPWEub3B0aW9ucyxkPWEuY2hhcnQucmVuZGVyZXIsRT1hLmRvUXVhcnRpbGVzIT09ITEsQj1wYXJzZUludChhLm9wdGlvbnMud2hpc2tlckxlbmd0aCwxMCkvMTAwO3MoYixmdW5jdGlvbihiKXtnPWIuZ3JhcGhpYyx6PWIuc2hhcGVBcmdzLHA9e30scT17fSx1PXt9LHk9Yi5jb2xvcnx8YS5jb2xvcixiLnBsb3RZIT09QyYmKGU9Yi5wb2ludEF0dHJbYi5zZWxlY3RlZD8ic2VsZWN0ZWQiOiIiXSx2PXoud2lkdGgsdD1BKHoueCksdz10K3YseD1EKHYvMiksZj1BKEU/Yi5xMVBsb3Q6Yi5sb3dQbG90KSxoPUEoRT9iLnEzUGxvdDpiLmxvd1Bsb3QpLGo9QShiLmhpZ2hQbG90KSxrPUEoYi5sb3dQbG90KSxwLnN0cm9rZT1iLnN0ZW1Db2xvcnx8Yy5zdGVtQ29sb3J8fHkscFsic3Ryb2tlLXdpZHRoIl09byhiLnN0ZW1XaWR0aCxjLnN0ZW1XaWR0aCxjLmxpbmVXaWR0aCkscC5kYXNoc3R5bGU9Yi5zdGVtRGFzaFN0eWxlfHxjLnN0ZW1EYXNoU3R5bGUscS5zdHJva2U9Yi53aGlza2VyQ29sb3J8fGMud2hpc2tlckNvbG9yfHx5LHFbInN0cm9rZS13aWR0aCJdPW8oYi53aGlza2VyV2lkdGgsYy53aGlza2VyV2lkdGgsYy5saW5lV2lkdGgpLHUuc3Ryb2tlPWIubWVkaWFuQ29sb3J8fGMubWVkaWFuQ29sb3J8fHksdVsic3Ryb2tlLXdpZHRoIl09byhiLm1lZGlhbldpZHRoLGMubWVkaWFuV2lkdGgsYy5saW5lV2lkdGgpLHVbInN0cm9rZS1saW5lY2FwIl09InJvdW5kIixpPXBbInN0cm9rZS13aWR0aCJdJTIvMixuPXQreCtpLGw9WyJNIixuLGgsIkwiLG4saiwiTSIsbixmLCJMIixuLGtdLEUmJihpPWVbInN0cm9rZS13aWR0aCJdJTIvMixuPUEobikraSxmPUEoZikraSxoPUEoaCkraSx0Kz1pLHcrPWksST1bIk0iLHQsaCwiTCIsdCxmLCJMIix3LGYsIkwiLHcsaCwiTCIsdCxoLCJ6Il0pLEImJihpPXFbInN0cm9rZS13aWR0aCJdJTIvMixqKz1pLGsrPWkscj1bIk0iLG4teCpCLGosIkwiLG4reCpCLGosIk0iLG4teCpCLGssIkwiLG4reCpCLGtdKSxpPXVbInN0cm9rZS13aWR0aCJdJTIvMixtPUQoYi5tZWRpYW5QbG90KStpLEo9WyJNIix0LG0sIkwiLHcsbV0sZz8oYi5zdGVtLmFuaW1hdGUoe2Q6bH0pLEImJmIud2hpc2tlcnMuYW5pbWF0ZSh7ZDpyfSksRSYmYi5ib3guYW5pbWF0ZSh7ZDpJfSksYi5tZWRpYW5TaGFwZS5hbmltYXRlKHtkOkp9KSk6KGIuZ3JhcGhpYz1nPWQuZygpLmFkZChhLmdyb3VwKSxiLnN0ZW09ZC5wYXRoKGwpLmF0dHIocCkuYWRkKGcpLEImJihiLndoaXNrZXJzPWQucGF0aChyKS5hdHRyKHEpLmFkZChnKSksRSYmKGIuYm94PWQucGF0aChJKS5hdHRyKGUpLmFkZChnKSksYi5tZWRpYW5TaGFwZT1kLnBhdGgoSikuYXR0cih1KS5hZGQoZykpKX0pfX0pLHAuZXJyb3JiYXI9cShwLmJveHBsb3Qse2NvbG9yOiIjMDAwMDAwIixncm91cGluZzohMSxsaW5rZWRUbzoiOnByZXZpb3VzIix0b29sdGlwOntwb2ludEZvcm1hdDonPHNwYW4gc3R5bGU9ImNvbG9yOntzZXJpZXMuY29sb3J9Ij7il488L3NwYW4+IHtzZXJpZXMubmFtZX06IDxiPntwb2ludC5sb3d9PC9iPiAtIDxiPntwb2ludC5oaWdofTwvYj48YnIvPid9LHdoaXNrZXJXaWR0aDpudWxsfSksZy5lcnJvcmJhcj12KGcuYm94cGxvdCx7dHlwZToiZXJyb3JiYXIiLHBvaW50QXJyYXlNYXA6WyJsb3ciLCJoaWdoIl0sdG9ZRGF0YTpmdW5jdGlvbihhKXtyZXR1cm5bYS5sb3csYS5oaWdoXX0scG9pbnRWYWxLZXk6ImhpZ2giLGRvUXVhcnRpbGVzOiExLGRyYXdEYXRhTGFiZWxzOmcuYXJlYXJhbmdlP2cuYXJlYXJhbmdlLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVsczp1LGdldENvbHVtbk1ldHJpY3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5rZWRQYXJlbnQmJnRoaXMubGlua2VkUGFyZW50LmNvbHVtbk1ldHJpY3N8fGcuY29sdW1uLnByb3RvdHlwZS5nZXRDb2x1bW5NZXRyaWNzLmNhbGwodGhpcyl9fSkscC53YXRlcmZhbGw9cShwLmNvbHVtbix7bGluZVdpZHRoOjEsbGluZUNvbG9yOiIjMzMzIixkYXNoU3R5bGU6ImRvdCIsYm9yZGVyQ29sb3I6IiMzMzMiLHN0YXRlczp7aG92ZXI6e2xpbmVXaWR0aFBsdXM6MH19fSksZy53YXRlcmZhbGw9dihnLmNvbHVtbix7dHlwZToid2F0ZXJmYWxsIix1cENvbG9yUHJvcDoiZmlsbCIscG9pbnRBcnJheU1hcDpbImxvdyIsInkiXSxwb2ludFZhbEtleToieSIsaW5pdDpmdW5jdGlvbihhLGIpe2Iuc3RhY2tpbmc9ITAsZy5jb2x1bW4ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLGEsYil9LHRyYW5zbGF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGYsaCxqLGssbSxpLGE9dGhpcy55QXhpcztmb3IoYj10aGlzLm9wdGlvbnMudGhyZXNob2xkLGcuY29sdW1uLnByb3RvdHlwZS50cmFuc2xhdGUuYXBwbHkodGhpcyksaz1tPWIsZD10aGlzLnBvaW50cyxjPTAsYj1kLmxlbmd0aDtiPmM7YysrKWU9ZFtjXSxmPWUuc2hhcGVBcmdzLGg9dGhpcy5nZXRTdGFjayhjKSxpPWgucG9pbnRzW3RoaXMuaW5kZXgrIiwiK2NdLGlzTmFOKGUueSkmJihlLnk9dGhpcy55RGF0YVtjXSksaj1OKGssaytlLnkpK2lbMF0sZi55PWEudHJhbnNsYXRlKGosMCwxKSxlLmlzU3VtPyhmLnk9YS50cmFuc2xhdGUoaVsxXSwwLDEpLGYuaGVpZ2h0PWEudHJhbnNsYXRlKGlbMF0sMCwxKS1mLnkpOmUuaXNJbnRlcm1lZGlhdGVTdW0/KGYueT1hLnRyYW5zbGF0ZShpWzFdLDAsMSksZi5oZWlnaHQ9YS50cmFuc2xhdGUobSwwLDEpLWYueSxtPWlbMV0pOmsrPWgudG90YWwsZi5oZWlnaHQ8MCYmKGYueSs9Zi5oZWlnaHQsZi5oZWlnaHQqPS0xKSxlLnBsb3RZPWYueT1EKGYueSktdGhpcy5ib3JkZXJXaWR0aCUyLzIsZi5oZWlnaHQ9TihEKGYuaGVpZ2h0KSwuMDAxKSxlLnlCb3R0b209Zi55K2YuaGVpZ2h0LGY9ZS5wbG90WSsoZS5uZWdhdGl2ZT9mLmhlaWdodDowKSx0aGlzLmNoYXJ0LmludmVydGVkP2UudG9vbHRpcFBvc1swXT1hLmxlbi1mOmUudG9vbHRpcFBvc1sxXT1mfSxwcm9jZXNzRGF0YTpmdW5jdGlvbihhKXt2YXIgZCxmLGgsaixrLG0saSxiPXRoaXMueURhdGEsYz10aGlzLnBvaW50cyxlPWIubGVuZ3RoO2ZvcihoPWY9aj1rPXRoaXMub3B0aW9ucy50aHJlc2hvbGR8fDAsaT0wO2U+aTtpKyspbT1iW2ldLGQ9YyYmY1tpXT9jW2ldOnt9LCJzdW0iPT09bXx8ZC5pc1N1bT9iW2ldPWg6ImludGVybWVkaWF0ZVN1bSI9PT1tfHxkLmlzSW50ZXJtZWRpYXRlU3VtP2JbaV09ZjooaCs9bSxmKz1tKSxqPU1hdGgubWluKGgsaiksaz1NYXRoLm1heChoLGspO3QucHJvdG90eXBlLnByb2Nlc3NEYXRhLmNhbGwodGhpcyxhKSx0aGlzLmRhdGFNaW49aix0aGlzLmRhdGFNYXg9a30sdG9ZRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5pc1N1bT8wPT09YS54P251bGw6InN1bSI6YS5pc0ludGVybWVkaWF0ZVN1bT8wPT09YS54P251bGw6ImludGVybWVkaWF0ZVN1bSI6YS55fSxnZXRBdHRyaWJzOmZ1bmN0aW9uKCl7Zy5jb2x1bW4ucHJvdG90eXBlLmdldEF0dHJpYnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhPXRoaXMub3B0aW9ucyxiPWEuc3RhdGVzLGM9YS51cENvbG9yfHx0aGlzLmNvbG9yLGE9bC5Db2xvcihjKS5icmlnaHRlbiguMSkuZ2V0KCksZD1xKHRoaXMucG9pbnRBdHRyKSxlPXRoaXMudXBDb2xvclByb3A7ZFsiIl1bZV09YyxkLmhvdmVyW2VdPWIuaG92ZXIudXBDb2xvcnx8YSxkLnNlbGVjdFtlXT1iLnNlbGVjdC51cENvbG9yfHxjLHModGhpcy5wb2ludHMsZnVuY3Rpb24oYSl7YS55PjAmJiFhLmNvbG9yJiYoYS5wb2ludEF0dHI9ZCxhLmNvbG9yPWMpfSl9LGdldEdyYXBoUGF0aDpmdW5jdGlvbigpe3ZhciBlLGYsaCxhPXRoaXMuZGF0YSxiPWEubGVuZ3RoLGM9RCh0aGlzLm9wdGlvbnMubGluZVdpZHRoK3RoaXMuYm9yZGVyV2lkdGgpJTIvMixkPVtdO2ZvcihoPTE7Yj5oO2grKylmPWFbaF0uc2hhcGVBcmdzLGU9YVtoLTFdLnNoYXBlQXJncyxmPVsiTSIsZS54K2Uud2lkdGgsZS55K2MsIkwiLGYueCxlLnkrY10sYVtoLTFdLnk8MCYmKGZbMl0rPWUuaGVpZ2h0LGZbNV0rPWUuaGVpZ2h0KSxkPWQuY29uY2F0KGYpO3JldHVybiBkfSxnZXRFeHRyZW1lczp1LGdldFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueUF4aXMuc3RhY2tzLGM9dGhpcy5zdGFja0tleTtyZXR1cm4gdGhpcy5wcm9jZXNzZWRZRGF0YVthXTx0aGlzLm9wdGlvbnMudGhyZXNob2xkJiYoYz0iLSIrYyksYltjXVthXX0sZHJhd0dyYXBoOnQucHJvdG90eXBlLmRyYXdHcmFwaH0pLHAuYnViYmxlPXEocC5zY2F0dGVyLHtkYXRhTGFiZWxzOntmb3JtYXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb2ludC56fSxpbnNpZGU6ITAsc3R5bGU6e2NvbG9yOiJ3aGl0ZSIsdGV4dFNoYWRvdzoiMHB4IDBweCAzcHggYmxhY2sifSx2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSxtYXJrZXI6e2xpbmVDb2xvcjpudWxsLGxpbmVXaWR0aDoxfSxtaW5TaXplOjgsbWF4U2l6ZToiMjAlIixzdGF0ZXM6e2hvdmVyOntoYWxvOntzaXplOjV9fX0sdG9vbHRpcDp7cG9pbnRGb3JtYXQ6Iih7cG9pbnQueH0sIHtwb2ludC55fSksIFNpemU6IHtwb2ludC56fSJ9LHR1cmJvVGhyZXNob2xkOjAselRocmVzaG9sZDowfSksej12KEgse2hhbG9QYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIEgucHJvdG90eXBlLmhhbG9QYXRoLmNhbGwodGhpcyx0aGlzLnNoYXBlQXJncy5yK3RoaXMuc2VyaWVzLm9wdGlvbnMuc3RhdGVzLmhvdmVyLmhhbG8uc2l6ZSl9fSksZy5idWJibGU9dihnLnNjYXR0ZXIse3R5cGU6ImJ1YmJsZSIscG9pbnRDbGFzczp6LHBvaW50QXJyYXlNYXA6WyJ5IiwieiJdLHBhcmFsbGVsQXJyYXlzOlsieCIsInkiLCJ6Il0sdHJhY2tlckdyb3VwczpbImdyb3VwIiwiZGF0YUxhYmVsc0dyb3VwIl0sYnViYmxlUGFkZGluZzohMCxwb2ludEF0dHJUb09wdGlvbnM6e3N0cm9rZToibGluZUNvbG9yIiwic3Ryb2tlLXdpZHRoIjoibGluZVdpZHRoIixmaWxsOiJmaWxsQ29sb3IifSxhcHBseU9wYWNpdHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLm1hcmtlcixjPW8oYi5maWxsT3BhY2l0eSwuNSksYT1hfHxiLmZpbGxDb2xvcnx8dGhpcy5jb2xvcjtyZXR1cm4gMSE9PWMmJihhPVUoYSkuc2V0T3BhY2l0eShjKS5nZXQoInJnYmEiKSksYX0sY29udmVydEF0dHJpYnM6ZnVuY3Rpb24oKXt2YXIgYT10LnByb3RvdHlwZS5jb252ZXJ0QXR0cmlicy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGEuZmlsbD10aGlzLmFwcGx5T3BhY2l0eShhLmZpbGwpLGF9LGdldFJhZGlpOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsaCxqPXRoaXMuekRhdGEsaz1bXSxtPSJ3aWR0aCIhPT10aGlzLm9wdGlvbnMuc2l6ZUJ5O2ZvcihmPTAsZT1qLmxlbmd0aDtlPmY7ZisrKWg9Yi1hLGg9aD4wPyhqW2ZdLWEpLyhiLWEpOi41LG0mJmg+PTAmJihoPU1hdGguc3FydChoKSksay5wdXNoKHcuY2VpbChjK2gqKGQtYykpLzIpO3RoaXMucmFkaWk9a30sYW5pbWF0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMuYW5pbWF0aW9uO2F8fChzKHRoaXMucG9pbnRzLGZ1bmN0aW9uKGEpe3ZhciBkPWEuZ3JhcGhpYyxhPWEuc2hhcGVBcmdzO2QmJmEmJihkLmF0dHIoInIiLDEpLGQuYW5pbWF0ZSh7cjphLnJ9LGIpKX0pLHRoaXMuYW5pbWF0ZT1udWxsKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGEsYyxkLGI9dGhpcy5kYXRhLGU9dGhpcy5yYWRpaTtmb3IoZy5zY2F0dGVyLnByb3RvdHlwZS50cmFuc2xhdGUuY2FsbCh0aGlzKSxhPWIubGVuZ3RoO2EtLTspYz1iW2FdLGQ9ZT9lW2FdOjAsYy5uZWdhdGl2ZT1jLno8KHRoaXMub3B0aW9ucy56VGhyZXNob2xkfHwwKSxkPj10aGlzLm1pblB4U2l6ZS8yPyhjLnNoYXBlVHlwZT0iY2lyY2xlIixjLnNoYXBlQXJncz17eDpjLnBsb3RYLHk6Yy5wbG90WSxyOmR9LGMuZGxCb3g9e3g6Yy5wbG90WC1kLHk6Yy5wbG90WS1kLHdpZHRoOjIqZCxoZWlnaHQ6MipkfSk6Yy5zaGFwZUFyZ3M9Yy5wbG90WT1jLmRsQm94PUN9LGRyYXdMZWdlbmRTeW1ib2w6ZnVuY3Rpb24oYSxiKXt2YXIgYz14KGEuaXRlbVN0eWxlLmZvbnRTaXplKS8yO2IubGVnZW5kU3ltYm9sPXRoaXMuY2hhcnQucmVuZGVyZXIuY2lyY2xlKGMsYS5iYXNlbGluZS1jLGMpLmF0dHIoe3pJbmRleDozfSkuYWRkKGIubGVnZW5kR3JvdXApLGIubGVnZW5kU3ltYm9sLmlzTWFya2VyPSEwfSxkcmF3UG9pbnRzOmcuY29sdW1uLnByb3RvdHlwZS5kcmF3UG9pbnRzLGFsaWduRGF0YUxhYmVsOmcuY29sdW1uLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbH0pLE0ucHJvdG90eXBlLmJlZm9yZVBhZGRpbmc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9dGhpcy5sZW4sYz10aGlzLmNoYXJ0LGQ9MCxlPWIsZj10aGlzLmlzWEF4aXMsaD1mPyJ4RGF0YSI6InlEYXRhIixqPXRoaXMubWluLGs9e30sbT13Lm1pbihjLnBsb3RXaWR0aCxjLnBsb3RIZWlnaHQpLGk9TnVtYmVyLk1BWF9WQUxVRSxuPS1OdW1iZXIuTUFYX1ZBTFVFLGc9dGhpcy5tYXgtaixsPWIvZyxwPVtdO3RoaXMudGlja1Bvc2l0aW9ucyYmKHModGhpcy5zZXJpZXMsZnVuY3Rpb24oYil7dmFyIGg9Yi5vcHRpb25zOyFiLmJ1YmJsZVBhZGRpbmd8fCFiLnZpc2libGUmJmMub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXN8fChhLmFsbG93Wm9vbU91dHNpZGU9ITAscC5wdXNoKGIpLGYmJihzKFsibWluU2l6ZSIsIm1heFNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1oW2FdLGY9LyUkLy50ZXN0KGIpLGI9eChiKTtrW2FdPWY/bSpiLzEwMDpifSksYi5taW5QeFNpemU9ay5taW5TaXplLGI9Yi56RGF0YSxiLmxlbmd0aCYmKGk9byhoLnpNaW4sdy5taW4oaSx3Lm1heChQKGIpLGguZGlzcGxheU5lZ2F0aXZlPT09ITE/aC56VGhyZXNob2xkOi1OdW1iZXIuTUFYX1ZBTFVFKSkpLG49byhoLnpNYXgsdy5tYXgobixRKGIpKSkpKSl9KSxzKHAsZnVuY3Rpb24oYSl7dmFyIG0sYj1hW2hdLGM9Yi5sZW5ndGg7aWYoZiYmYS5nZXRSYWRpaShpLG4say5taW5TaXplLGsubWF4U2l6ZSksZz4wKWZvcig7Yy0tOykibnVtYmVyIj09dHlwZW9mIGJbY10mJihtPWEucmFkaWlbY10sZD1NYXRoLm1pbigoYltjXS1qKSpsLW0sZCksZT1NYXRoLm1heCgoYltjXS1qKSpsK20sZSkpfSkscC5sZW5ndGgmJmc+MCYmbyh0aGlzLm9wdGlvbnMubWluLHRoaXMudXNlck1pbik9PT1DJiZvKHRoaXMub3B0aW9ucy5tYXgsdGhpcy51c2VyTWF4KT09PUMmJihlLT1iLGwqPShiK2QtZSkvYix0aGlzLm1pbis9ZC9sLHRoaXMubWF4Kz1lL2wpKX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXthLmNhbGwodGhpcyxiLGMpLHRoaXMuY2hhcnQucG9sYXImJih0aGlzLmNsb3NlU2VnbWVudD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnhBeGlzLmNlbnRlcjthLnB1c2goIkwiLGJbMF0sYlsxXSl9LHRoaXMuY2xvc2VkU3RhY2tzPSEwKX1mdW5jdGlvbiBiKGEsYil7dmFyIGM9dGhpcy5jaGFydCxkPXRoaXMub3B0aW9ucy5hbmltYXRpb24sZT10aGlzLmdyb3VwLGk9dGhpcy5tYXJrZXJHcm91cCxuPXRoaXMueEF4aXMuY2VudGVyLGc9Yy5wbG90TGVmdCxsPWMucGxvdFRvcDtjLnBvbGFyP2MucmVuZGVyZXIuaXNTVkcmJihkPT09ITAmJihkPXt9KSxiPyhjPXt0cmFuc2xhdGVYOm5bMF0rZyx0cmFuc2xhdGVZOm5bMV0rbCxzY2FsZVg6LjAwMSxzY2FsZVk6LjAwMX0sZS5hdHRyKGMpLGkmJmkuYXR0cihjKSk6KGM9e3RyYW5zbGF0ZVg6Zyx0cmFuc2xhdGVZOmwsc2NhbGVYOjEsc2NhbGVZOjF9LGUuYW5pbWF0ZShjLGQpLGkmJmkuYW5pbWF0ZShjLGQpLHRoaXMuYW5pbWF0ZT1udWxsKSk6YS5jYWxsKHRoaXMsYikKfXZhciBlLGM9dC5wcm90b3R5cGUsZD1TLnByb3RvdHlwZTtjLnRvWFk9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmNoYXJ0LGQ9YS5wbG90WDtiPWEucGxvdFksYS5yZWN0UGxvdFg9ZCxhLnJlY3RQbG90WT1iLGQ9KGQvTWF0aC5QSSoxODArdGhpcy54QXhpcy5wYW5lLm9wdGlvbnMuc3RhcnRBbmdsZSklMzYwLDA+ZCYmKGQrPTM2MCksYS5jbGllbnRYPWQsYj10aGlzLnhBeGlzLnBvc3RUcmFuc2xhdGUoYS5wbG90WCx0aGlzLnlBeGlzLmxlbi1iKSxhLnBsb3RYPWEucG9sYXJQbG90WD1iLngtYy5wbG90TGVmdCxhLnBsb3RZPWEucG9sYXJQbG90WT1iLnktYy5wbG90VG9wfSxjLm9yZGVyVG9vbHRpcFBvaW50cz1mdW5jdGlvbihhKXt0aGlzLmNoYXJ0LnBvbGFyJiYoYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY2xpZW50WC1iLmNsaWVudFh9KSxhWzBdKSYmKGFbMF0ud3JhcHBlZENsaWVudFg9YVswXS5jbGllbnRYKzM2MCxhLnB1c2goYVswXSkpfSxnLmFyZWEmJnIoZy5hcmVhLnByb3RvdHlwZSwiaW5pdCIsYSksZy5hcmVhc3BsaW5lJiZyKGcuYXJlYXNwbGluZS5wcm90b3R5cGUsImluaXQiLGEpLGcuc3BsaW5lJiZyKGcuc3BsaW5lLnByb3RvdHlwZSwiZ2V0UG9pbnRTcGxpbmUiLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGksbixnLGwscCxvO3JldHVybiB0aGlzLmNoYXJ0LnBvbGFyPyhlPWMucGxvdFgsaT1jLnBsb3RZLGE9YltkLTFdLG49YltkKzFdLHRoaXMuY29ubmVjdEVuZHMmJihhfHwoYT1iW2IubGVuZ3RoLTJdKSxufHwobj1iWzFdKSksYSYmbiYmKGc9YS5wbG90WCxsPWEucGxvdFksYj1uLnBsb3RYLHA9bi5wbG90WSxnPSgxLjUqZStnKS8yLjUsbD0oMS41KmkrbCkvMi41LG49KDEuNSplK2IpLzIuNSxvPSgxLjUqaStwKS8yLjUsYj1NYXRoLnNxcnQoTWF0aC5wb3coZy1lLDIpK01hdGgucG93KGwtaSwyKSkscD1NYXRoLnNxcnQoTWF0aC5wb3cobi1lLDIpK01hdGgucG93KG8taSwyKSksZz1NYXRoLmF0YW4yKGwtaSxnLWUpLGw9TWF0aC5hdGFuMihvLWksbi1lKSxvPU1hdGguUEkvMisoZytsKS8yLE1hdGguYWJzKGctbyk+TWF0aC5QSS8yJiYoby09TWF0aC5QSSksZz1lK01hdGguY29zKG8pKmIsbD1pK01hdGguc2luKG8pKmIsbj1lK01hdGguY29zKE1hdGguUEkrbykqcCxvPWkrTWF0aC5zaW4oTWF0aC5QSStvKSpwLGMucmlnaHRDb250WD1uLGMucmlnaHRDb250WT1vKSxkPyhjPVsiQyIsYS5yaWdodENvbnRYfHxhLnBsb3RYLGEucmlnaHRDb250WXx8YS5wbG90WSxnfHxlLGx8fGksZSxpXSxhLnJpZ2h0Q29udFg9YS5yaWdodENvbnRZPW51bGwpOmM9WyJNIixlLGldKTpjPWEuY2FsbCh0aGlzLGIsYyxkKSxjfSkscihjLCJ0cmFuc2xhdGUiLGZ1bmN0aW9uKGEpe2lmKGEuY2FsbCh0aGlzKSx0aGlzLmNoYXJ0LnBvbGFyJiYhdGhpcy5wcmV2ZW50UG9zdFRyYW5zbGF0ZSlmb3IodmFyIGE9dGhpcy5wb2ludHMsYj1hLmxlbmd0aDtiLS07KXRoaXMudG9YWShhW2JdKX0pLHIoYywiZ2V0U2VnbWVudFBhdGgiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5wb2ludHM7cmV0dXJuIHRoaXMuY2hhcnQucG9sYXImJnRoaXMub3B0aW9ucy5jb25uZWN0RW5kcyE9PSExJiZiW2IubGVuZ3RoLTFdPT09Y1tjLmxlbmd0aC0xXSYmbnVsbCE9PWNbMF0ueSYmKHRoaXMuY29ubmVjdEVuZHM9ITAsYj1bXS5jb25jYXQoYixbY1swXV0pKSxhLmNhbGwodGhpcyxiKX0pLHIoYywiYW5pbWF0ZSIsYikscihjLCJzZXRUb29sdGlwUG9pbnRzIixmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNoYXJ0LnBvbGFyJiZGKHRoaXMueEF4aXMse3Rvb2x0aXBMZW46MzYwfSksYS5jYWxsKHRoaXMsYil9KSxnLmNvbHVtbiYmKGU9Zy5jb2x1bW4ucHJvdG90eXBlLHIoZSwiYW5pbWF0ZSIsYikscihlLCJ0cmFuc2xhdGUiLGZ1bmN0aW9uKGEpe3ZhciBnLGwsYj10aGlzLnhBeGlzLGM9dGhpcy55QXhpcy5sZW4sZD1iLmNlbnRlcixlPWIuc3RhcnRBbmdsZVJhZCxpPXRoaXMuY2hhcnQucmVuZGVyZXI7aWYodGhpcy5wcmV2ZW50UG9zdFRyYW5zbGF0ZT0hMCxhLmNhbGwodGhpcyksYi5pc1JhZGlhbClmb3IoYj10aGlzLnBvaW50cyxsPWIubGVuZ3RoO2wtLTspZz1iW2xdLGE9Zy5iYXJYK2UsZy5zaGFwZVR5cGU9InBhdGgiLGcuc2hhcGVBcmdzPXtkOmkuc3ltYm9scy5hcmMoZFswXSxkWzFdLGMtZy5wbG90WSxudWxsLHtzdGFydDphLGVuZDphK2cucG9pbnRXaWR0aCxpbm5lclI6Yy1vKGcueUJvdHRvbSxjKX0pfSx0aGlzLnRvWFkoZyksZy50b29sdGlwUG9zPVtnLnBsb3RYLGcucGxvdFldLGcudHRCZWxvdz1nLnBsb3RZPmRbMV19KSxyKGUsImFsaWduRGF0YUxhYmVsIixmdW5jdGlvbihhLGIsZCxlLGcsaSl7dGhpcy5jaGFydC5wb2xhcj8oYT1iLnJlY3RQbG90WC9NYXRoLlBJKjE4MCxudWxsPT09ZS5hbGlnbiYmKGUuYWxpZ249YT4yMCYmMTYwPmE/ImxlZnQiOmE+MjAwJiYzNDA+YT8icmlnaHQiOiJjZW50ZXIiKSxudWxsPT09ZS52ZXJ0aWNhbEFsaWduJiYoZS52ZXJ0aWNhbEFsaWduPTQ1PmF8fGE+MzE1PyJib3R0b20iOmE+MTM1JiYyMjU+YT8idG9wIjoibWlkZGxlIiksYy5hbGlnbkRhdGFMYWJlbC5jYWxsKHRoaXMsYixkLGUsZyxpKSk6YS5jYWxsKHRoaXMsYixkLGUsZyxpKX0pKSxyKGQsImdldEluZGV4IixmdW5jdGlvbihhLGIpe3ZhciBjLGUsZD10aGlzLmNoYXJ0O3JldHVybiBkLnBvbGFyPyhlPWQueEF4aXNbMF0uY2VudGVyLGM9Yi5jaGFydFgtZVswXS1kLnBsb3RMZWZ0LGQ9Yi5jaGFydFktZVsxXS1kLnBsb3RUb3AsYz0xODAtTWF0aC5yb3VuZChNYXRoLmF0YW4yKGMsZCkvTWF0aC5QSSoxODApKTpjPWEuY2FsbCh0aGlzLGIpLGN9KSxyKGQsImdldENvb3JkaW5hdGVzIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2hhcnQsZD17eEF4aXM6W10seUF4aXM6W119O3JldHVybiBjLnBvbGFyP3MoYy5heGVzLGZ1bmN0aW9uKGEpe3ZhciBlPWEuaXNYQXhpcyxmPWEuY2VudGVyLGc9Yi5jaGFydFgtZlswXS1jLnBsb3RMZWZ0LGY9Yi5jaGFydFktZlsxXS1jLnBsb3RUb3A7ZFtlPyJ4QXhpcyI6InlBeGlzIl0ucHVzaCh7YXhpczphLHZhbHVlOmEudHJhbnNsYXRlKGU/TWF0aC5QSS1NYXRoLmF0YW4yKGcsZik6TWF0aC5zcXJ0KE1hdGgucG93KGcsMikrTWF0aC5wb3coZiwyKSksITApfSl9KTpkPWEuY2FsbCh0aGlzLGIpLGR9KX0oKX0oSGlnaGNoYXJ0cyksZnVuY3Rpb24oZil7dmFyIHksQT1mLkNoYXJ0LHQ9Zi5hZGRFdmVudCxCPWYucmVtb3ZlRXZlbnQsbD1mLmNyZWF0ZUVsZW1lbnQsbz1mLmRpc2NhcmRFbGVtZW50LHY9Zi5jc3Msaz1mLm1lcmdlLHI9Zi5lYWNoLHA9Zi5leHRlbmQsRD1NYXRoLm1heCxqPWRvY3VtZW50LEM9d2luZG93LEU9Zi5pc1RvdWNoRGV2aWNlLEY9Zi5SZW5kZXJlci5wcm90b3R5cGUuc3ltYm9scyxzPWYuZ2V0T3B0aW9ucygpO3Aocy5sYW5nLHtwcmludENoYXJ0OiJQcmludCBjaGFydCIsZG93bmxvYWRQTkc6IkRvd25sb2FkIFBORyBpbWFnZSIsZG93bmxvYWRKUEVHOiJEb3dubG9hZCBKUEVHIGltYWdlIixkb3dubG9hZFBERjoiRG93bmxvYWQgUERGIGRvY3VtZW50Iixkb3dubG9hZFNWRzoiRG93bmxvYWQgU1ZHIHZlY3RvciBpbWFnZSIsY29udGV4dEJ1dHRvblRpdGxlOiJDaGFydCBjb250ZXh0IG1lbnUifSkscy5uYXZpZ2F0aW9uPXttZW51U3R5bGU6e2JvcmRlcjoiMXB4IHNvbGlkICNBMEEwQTAiLGJhY2tncm91bmQ6IiNGRkZGRkYiLHBhZGRpbmc6IjVweCAwIn0sbWVudUl0ZW1TdHlsZTp7cGFkZGluZzoiMCAxMHB4IixiYWNrZ3JvdW5kOiJub25lIixjb2xvcjoiIzMwMzAzMCIsZm9udFNpemU6RT8iMTRweCI6IjExcHgifSxtZW51SXRlbUhvdmVyU3R5bGU6e2JhY2tncm91bmQ6IiM0NTcyQTUiLGNvbG9yOiIjRkZGRkZGIn0sYnV0dG9uT3B0aW9uczp7c3ltYm9sRmlsbDoiI0UwRTBFMCIsc3ltYm9sU2l6ZToxNCxzeW1ib2xTdHJva2U6IiM2NjYiLHN5bWJvbFN0cm9rZVdpZHRoOjMsc3ltYm9sWDoxMi41LHN5bWJvbFk6MTAuNSxhbGlnbjoicmlnaHQiLGJ1dHRvblNwYWNpbmc6MyxoZWlnaHQ6MjIsdGhlbWU6e2ZpbGw6IndoaXRlIixzdHJva2U6Im5vbmUifSx2ZXJ0aWNhbEFsaWduOiJ0b3AiLHdpZHRoOjI0fX0scy5leHBvcnRpbmc9e3R5cGU6ImltYWdlL3BuZyIsdXJsOiJodHRwOi8vZXhwb3J0LmhpZ2hjaGFydHMuY29tLyIsYnV0dG9uczp7Y29udGV4dEJ1dHRvbjp7bWVudUNsYXNzTmFtZToiaGlnaGNoYXJ0cy1jb250ZXh0bWVudSIsc3ltYm9sOiJtZW51IixfdGl0bGVLZXk6ImNvbnRleHRCdXR0b25UaXRsZSIsbWVudUl0ZW1zOlt7dGV4dEtleToicHJpbnRDaGFydCIsb25jbGljazpmdW5jdGlvbigpe3RoaXMucHJpbnQoKX19LHtzZXBhcmF0b3I6ITB9LHt0ZXh0S2V5OiJkb3dubG9hZFBORyIsb25jbGljazpmdW5jdGlvbigpe3RoaXMuZXhwb3J0Q2hhcnQoKX19LHt0ZXh0S2V5OiJkb3dubG9hZEpQRUciLG9uY2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmV4cG9ydENoYXJ0KHt0eXBlOiJpbWFnZS9qcGVnIn0pfX0se3RleHRLZXk6ImRvd25sb2FkUERGIixvbmNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5leHBvcnRDaGFydCh7dHlwZToiYXBwbGljYXRpb24vcGRmIn0pfX0se3RleHRLZXk6ImRvd25sb2FkU1ZHIixvbmNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5leHBvcnRDaGFydCh7dHlwZToiaW1hZ2Uvc3ZnK3htbCJ9KX19XX19fSxmLnBvc3Q9ZnVuY3Rpb24oYixhLGQpe3ZhciBjLGI9bCgiZm9ybSIsayh7bWV0aG9kOiJwb3N0IixhY3Rpb246YixlbmN0eXBlOiJtdWx0aXBhcnQvZm9ybS1kYXRhIn0sZCkse2Rpc3BsYXk6Im5vbmUifSxqLmJvZHkpO2ZvcihjIGluIGEpbCgiaW5wdXQiLHt0eXBlOiJoaWRkZW4iLG5hbWU6Yyx2YWx1ZTphW2NdfSxudWxsLGIpO2Iuc3VibWl0KCksbyhiKX0scChBLnByb3RvdHlwZSx7Z2V0U1ZHOmZ1bmN0aW9uKGIpe3ZhciBkLGMseixoLGE9dGhpcyxnPWsoYS5vcHRpb25zLGIpO3JldHVybiBqLmNyZWF0ZUVsZW1lbnROU3x8KGouY3JlYXRlRWxlbWVudE5TPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGouY3JlYXRlRWxlbWVudChiKX0pLGI9bCgiZGl2IixudWxsLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTk5OTllbSIsd2lkdGg6YS5jaGFydFdpZHRoKyJweCIsaGVpZ2h0OmEuY2hhcnRIZWlnaHQrInB4In0sai5ib2R5KSxjPWEucmVuZGVyVG8uc3R5bGUud2lkdGgsaD1hLnJlbmRlclRvLnN0eWxlLmhlaWdodCxjPWcuZXhwb3J0aW5nLnNvdXJjZVdpZHRofHxnLmNoYXJ0LndpZHRofHwvcHgkLy50ZXN0KGMpJiZwYXJzZUludChjLDEwKXx8NjAwLGg9Zy5leHBvcnRpbmcuc291cmNlSGVpZ2h0fHxnLmNoYXJ0LmhlaWdodHx8L3B4JC8udGVzdChoKSYmcGFyc2VJbnQoaCwxMCl8fDQwMCxwKGcuY2hhcnQse2FuaW1hdGlvbjohMSxyZW5kZXJUbzpiLGZvckV4cG9ydDohMCx3aWR0aDpjLGhlaWdodDpofSksZy5leHBvcnRpbmcuZW5hYmxlZD0hMSxnLnNlcmllcz1bXSxyKGEuc2VyaWVzLGZ1bmN0aW9uKGEpe3o9ayhhLm9wdGlvbnMse2FuaW1hdGlvbjohMSxlbmFibGVNb3VzZVRyYWNraW5nOiExLHNob3dDaGVja2JveDohMSx2aXNpYmxlOmEudmlzaWJsZX0pLHouaXNJbnRlcm5hbHx8Zy5zZXJpZXMucHVzaCh6KX0pLGQ9bmV3IGYuQ2hhcnQoZyxhLmNhbGxiYWNrKSxyKFsieEF4aXMiLCJ5QXhpcyJdLGZ1bmN0aW9uKGIpe3IoYVtiXSxmdW5jdGlvbihhLGMpe3ZhciBnPWRbYl1bY10sZj1hLmdldEV4dHJlbWVzKCksaD1mLnVzZXJNaW4sZj1mLnVzZXJNYXg7ZyYmKHZvaWQgMCE9PWh8fHZvaWQgMCE9PWYpJiZnLnNldEV4dHJlbWVzKGgsZiwhMCwhMSl9KX0pLGM9ZC5jb250YWluZXIuaW5uZXJIVE1MLGc9bnVsbCxkLmRlc3Ryb3koKSxvKGIpLGM9Yy5yZXBsYWNlKC96SW5kZXg9IlteIl0rIi9nLCIiKS5yZXBsYWNlKC9pc1NoYWRvdz0iW14iXSsiL2csIiIpLnJlcGxhY2UoL3N5bWJvbE5hbWU9IlteIl0rIi9nLCIiKS5yZXBsYWNlKC9qUXVlcnlbMC05XSs9IlteIl0rIi9nLCIiKS5yZXBsYWNlKC91cmxcKFteI10rIy9nLCJ1cmwoIyIpLnJlcGxhY2UoLzxzdmcgLywnPHN2ZyB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgJykucmVwbGFjZSgvIGhyZWY9L2csIiB4bGluazpocmVmPSIpLnJlcGxhY2UoL1xuLywiICIpLnJlcGxhY2UoLzxcL3N2Zz4uKj8kLywiPC9zdmc+IikucmVwbGFjZSgvKGZpbGx8c3Ryb2tlKT0icmdiYVwoKFsgMC05XSssWyAwLTldKyxbIDAtOV0rKSwoWyAwLTlcLl0rKVwpIi9nLCckMT0icmdiKCQyKSIgJDEtb3BhY2l0eT0iJDMiJykucmVwbGFjZSgvJm5ic3A7L2csIsKgIikucmVwbGFjZSgvJnNoeTsvZywiwq0iKS5yZXBsYWNlKC88SU1HIC9nLCI8aW1hZ2UgIikucmVwbGFjZSgvaGVpZ2h0PShbXiIgXSspL2csJ2hlaWdodD0iJDEiJykucmVwbGFjZSgvd2lkdGg9KFteIiBdKykvZywnd2lkdGg9IiQxIicpLnJlcGxhY2UoL2hjLXN2Zy1ocmVmPSIoW14iXSspIj4vZywneGxpbms6aHJlZj0iJDEiLz4nKS5yZXBsYWNlKC9pZD0oW14iID5dKykvZywnaWQ9IiQxIicpLnJlcGxhY2UoL2NsYXNzPShbXiIgPl0rKS9nLCdjbGFzcz0iJDEiJykucmVwbGFjZSgvIHRyYW5zZm9ybSAvZywiICIpLnJlcGxhY2UoLzoocGF0aHxyZWN0KS9nLCIkMSIpLnJlcGxhY2UoL3N0eWxlPSIoW14iXSspIi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCl9KSxjPWMucmVwbGFjZSgvKHVybFwoI2hpZ2hjaGFydHMtWzAtOV0rKSZxdW90Oy9nLCIkMSIpLnJlcGxhY2UoLyZxdW90Oy9nLCInIil9LGV4cG9ydENoYXJ0OmZ1bmN0aW9uKGIsYSl7dmFyIGI9Ynx8e30sZD10aGlzLm9wdGlvbnMuZXhwb3J0aW5nLGQ9dGhpcy5nZXRTVkcoayh7Y2hhcnQ6e2JvcmRlclJhZGl1czowfX0sZC5jaGFydE9wdGlvbnMsYSx7ZXhwb3J0aW5nOntzb3VyY2VXaWR0aDpiLnNvdXJjZVdpZHRofHxkLnNvdXJjZVdpZHRoLHNvdXJjZUhlaWdodDpiLnNvdXJjZUhlaWdodHx8ZC5zb3VyY2VIZWlnaHR9fSkpLGI9ayh0aGlzLm9wdGlvbnMuZXhwb3J0aW5nLGIpO2YucG9zdChiLnVybCx7ZmlsZW5hbWU6Yi5maWxlbmFtZXx8ImNoYXJ0Iix0eXBlOmIudHlwZSx3aWR0aDpiLndpZHRofHwwLHNjYWxlOmIuc2NhbGV8fDIsc3ZnOmR9LGIuZm9ybUF0dHJpYnV0ZXMpfSxwcmludDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmNvbnRhaW5lcixkPVtdLGM9YS5wYXJlbnROb2RlLGY9ai5ib2R5LGg9Zi5jaGlsZE5vZGVzO2IuaXNQcmludGluZ3x8KGIuaXNQcmludGluZz0hMCxyKGgsZnVuY3Rpb24oYSxiKXsxPT09YS5ub2RlVHlwZSYmKGRbYl09YS5zdHlsZS5kaXNwbGF5LGEuc3R5bGUuZGlzcGxheT0ibm9uZSIpfSksZi5hcHBlbmRDaGlsZChhKSxDLmZvY3VzKCksQy5wcmludCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmFwcGVuZENoaWxkKGEpLHIoaCxmdW5jdGlvbihhLGIpezE9PT1hLm5vZGVUeXBlJiYoYS5zdHlsZS5kaXNwbGF5PWRbYl0pfSksYi5pc1ByaW50aW5nPSExfSwxZTMpKX0sY29udGV4dE1lbnU6ZnVuY3Rpb24oYixhLGQsYyxmLGgsZyl7dmFyIHcseCxvLGU9dGhpcyxrPWUub3B0aW9ucy5uYXZpZ2F0aW9uLHE9ay5tZW51SXRlbVN0eWxlLG09ZS5jaGFydFdpZHRoLG49ZS5jaGFydEhlaWdodCxqPSJjYWNoZS0iK2IsaT1lW2pdLHU9RChmLGgpLHM9ZnVuY3Rpb24oYSl7ZS5wb2ludGVyLmluQ2xhc3MoYS50YXJnZXQsYil8fHgoKX07aXx8KGVbal09aT1sKCJkaXYiLHtjbGFzc05hbWU6Yn0se3Bvc2l0aW9uOiJhYnNvbHV0ZSIsekluZGV4OjFlMyxwYWRkaW5nOnUrInB4In0sZS5jb250YWluZXIpLHc9bCgiZGl2IixudWxsLHAoe01vekJveFNoYWRvdzoiM3B4IDNweCAxMHB4ICM4ODgiLFdlYmtpdEJveFNoYWRvdzoiM3B4IDNweCAxMHB4ICM4ODgiLGJveFNoYWRvdzoiM3B4IDNweCAxMHB4ICM4ODgifSxrLm1lbnVTdHlsZSksaSkseD1mdW5jdGlvbigpe3YoaSx7ZGlzcGxheToibm9uZSJ9KSxnJiZnLnNldFN0YXRlKDApLGUub3Blbk1lbnU9ITF9LHQoaSwibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtvPXNldFRpbWVvdXQoeCw1MDApfSksdChpLCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChvKX0pLHQoZG9jdW1lbnQsIm1vdXNldXAiLHMpLHQoZSwiZGVzdHJveSIsZnVuY3Rpb24oKXtCKGRvY3VtZW50LCJtb3VzZXVwIixzKX0pLHIoYSxmdW5jdGlvbihhKXtpZihhKXt2YXIgYj1hLnNlcGFyYXRvcj9sKCJociIsbnVsbCxudWxsLHcpOmwoImRpdiIse29ubW91c2VvdmVyOmZ1bmN0aW9uKCl7dih0aGlzLGsubWVudUl0ZW1Ib3ZlclN0eWxlKX0sb25tb3VzZW91dDpmdW5jdGlvbigpe3YodGhpcyxxKX0sb25jbGljazpmdW5jdGlvbigpe3goKSxhLm9uY2xpY2suYXBwbHkoZSxhcmd1bWVudHMpfSxpbm5lckhUTUw6YS50ZXh0fHxlLm9wdGlvbnMubGFuZ1thLnRleHRLZXldfSxwKHtjdXJzb3I6InBvaW50ZXIifSxxKSx3KTtlLmV4cG9ydERpdkVsZW1lbnRzLnB1c2goYil9fSksZS5leHBvcnREaXZFbGVtZW50cy5wdXNoKHcsaSksZS5leHBvcnRNZW51V2lkdGg9aS5vZmZzZXRXaWR0aCxlLmV4cG9ydE1lbnVIZWlnaHQ9aS5vZmZzZXRIZWlnaHQpLGE9e2Rpc3BsYXk6ImJsb2NrIn0sZCtlLmV4cG9ydE1lbnVXaWR0aD5tP2EucmlnaHQ9bS1kLWYtdSsicHgiOmEubGVmdD1kLXUrInB4IixjK2grZS5leHBvcnRNZW51SGVpZ2h0Pm4mJiJ0b3AiIT09Zy5hbGlnbk9wdGlvbnMudmVydGljYWxBbGlnbj9hLmJvdHRvbT1uLWMtdSsicHgiOmEudG9wPWMraC11KyJweCIsdihpLGEpLGUub3Blbk1lbnU9ITB9LGFkZEJ1dHRvbjpmdW5jdGlvbihiKXt2YXIgZyxlLGE9dGhpcyxkPWEucmVuZGVyZXIsYz1rKGEub3B0aW9ucy5uYXZpZ2F0aW9uLmJ1dHRvbk9wdGlvbnMsYiksaj1jLm9uY2xpY2ssaD1jLm1lbnVJdGVtcyxsPXtzdHJva2U6Yy5zeW1ib2xTdHJva2UsZmlsbDpjLnN5bWJvbEZpbGx9LHE9Yy5zeW1ib2xTaXplfHwxMjtpZihhLmJ0bkNvdW50fHwoYS5idG5Db3VudD0wKSxhLmV4cG9ydERpdkVsZW1lbnRzfHwoYS5leHBvcnREaXZFbGVtZW50cz1bXSxhLmV4cG9ydFNWR0VsZW1lbnRzPVtdKSxjLmVuYWJsZWQhPT0hMSl7dmFyIGksbT1jLnRoZW1lLG49bS5zdGF0ZXMsbz1uJiZuLmhvdmVyLG49biYmbi5zZWxlY3Q7ZGVsZXRlIG0uc3RhdGVzLGo/aT1mdW5jdGlvbigpe2ouYXBwbHkoYSxhcmd1bWVudHMpfTpoJiYoaT1mdW5jdGlvbigpe2EuY29udGV4dE1lbnUoZS5tZW51Q2xhc3NOYW1lLGgsZS50cmFuc2xhdGVYLGUudHJhbnNsYXRlWSxlLndpZHRoLGUuaGVpZ2h0LGUpLGUuc2V0U3RhdGUoMil9KSxjLnRleHQmJmMuc3ltYm9sP20ucGFkZGluZ0xlZnQ9Zi5waWNrKG0ucGFkZGluZ0xlZnQsMjUpOmMudGV4dHx8cChtLHt3aWR0aDpjLndpZHRoLGhlaWdodDpjLmhlaWdodCxwYWRkaW5nOjB9KSxlPWQuYnV0dG9uKGMudGV4dCwwLDAsaSxtLG8sbikuYXR0cih7dGl0bGU6YS5vcHRpb25zLmxhbmdbYy5fdGl0bGVLZXldLCJzdHJva2UtbGluZWNhcCI6InJvdW5kIn0pLGUubWVudUNsYXNzTmFtZT1iLm1lbnVDbGFzc05hbWV8fCJoaWdoY2hhcnRzLW1lbnUtIithLmJ0bkNvdW50KyssYy5zeW1ib2wmJihnPWQuc3ltYm9sKGMuc3ltYm9sLGMuc3ltYm9sWC1xLzIsYy5zeW1ib2xZLXEvMixxLHEpLmF0dHIocChsLHsic3Ryb2tlLXdpZHRoIjpjLnN5bWJvbFN0cm9rZVdpZHRofHwxLHpJbmRleDoxfSkpLmFkZChlKSksZS5hZGQoKS5hbGlnbihwKGMse3dpZHRoOmUud2lkdGgseDpmLnBpY2soYy54LHkpfSksITAsInNwYWNpbmdCb3giKSx5Kz0oZS53aWR0aCtjLmJ1dHRvblNwYWNpbmcpKigicmlnaHQiPT09Yy5hbGlnbj8tMToxKSxhLmV4cG9ydFNWR0VsZW1lbnRzLnB1c2goZSxnKX19LGRlc3Ryb3lFeHBvcnQ6ZnVuY3Rpb24oYil7dmFyIGEsZCxiPWIudGFyZ2V0O2ZvcihhPTA7YTxiLmV4cG9ydFNWR0VsZW1lbnRzLmxlbmd0aDthKyspKGQ9Yi5leHBvcnRTVkdFbGVtZW50c1thXSkmJihkLm9uY2xpY2s9ZC5vbnRvdWNoc3RhcnQ9bnVsbCxiLmV4cG9ydFNWR0VsZW1lbnRzW2FdPWQuZGVzdHJveSgpKTtmb3IoYT0wO2E8Yi5leHBvcnREaXZFbGVtZW50cy5sZW5ndGg7YSsrKWQ9Yi5leHBvcnREaXZFbGVtZW50c1thXSxCKGQsIm1vdXNlbGVhdmUiKSxiLmV4cG9ydERpdkVsZW1lbnRzW2FdPWQub25tb3VzZW91dD1kLm9ubW91c2VvdmVyPWQub250b3VjaHN0YXJ0PWQub25jbGljaz1udWxsLG8oZCl9fSksRi5tZW51PWZ1bmN0aW9uKGIsYSxkLGMpe3JldHVyblsiTSIsYixhKzIuNSwiTCIsYitkLGErMi41LCJNIixiLGErYy8yKy41LCJMIixiK2QsYStjLzIrLjUsIk0iLGIsYStjLTEuNSwiTCIsYitkLGErYy0xLjVdfSxBLnByb3RvdHlwZS5jYWxsYmFja3MucHVzaChmdW5jdGlvbihiKXt2YXIgYSxkPWIub3B0aW9ucy5leHBvcnRpbmcsYz1kLmJ1dHRvbnM7aWYoeT0wLGQuZW5hYmxlZCE9PSExKXtmb3IoYSBpbiBjKWIuYWRkQnV0dG9uKGNbYV0pO3QoYiwiZGVzdHJveSIsYi5kZXN0cm95RXhwb3J0KX19KX0oSGlnaGNoYXJ0cyksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaGlnaGNoYXJ0c05HVXRpbHMoKXtyZXR1cm57aW5kZXhPZjpmdW5jdGlvbihhcnIsZmluZCxpKXt2b2lkIDA9PT1pJiYoaT0wKSwwPmkmJihpKz1hcnIubGVuZ3RoKSwwPmkmJihpPTApO2Zvcih2YXIgbj1hcnIubGVuZ3RoO24+aTtpKyspaWYoaSBpbiBhcnImJmFycltpXT09PWZpbmQpcmV0dXJuIGk7cmV0dXJuLTF9LHByZXBlbmRNZXRob2Q6ZnVuY3Rpb24ob2JqLG1ldGhvZCxmdW5jKXt2YXIgb3JpZ2luYWw9b2JqW21ldGhvZF07b2JqW21ldGhvZF09ZnVuY3Rpb24oKXt2YXIgYXJncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBmdW5jLmFwcGx5KHRoaXMsYXJncyksb3JpZ2luYWw/b3JpZ2luYWwuYXBwbHkodGhpcyxhcmdzKTp2b2lkIDB9fSxkZWVwRXh0ZW5kOmZ1bmN0aW9uIGRlZXBFeHRlbmQoZGVzdGluYXRpb24sc291cmNlKXtpZihhbmd1bGFyLmlzQXJyYXkoc291cmNlKSl7ZGVzdGluYXRpb249YW5ndWxhci5pc0FycmF5KGRlc3RpbmF0aW9uKT9kZXN0aW5hdGlvbjpbXTtmb3IodmFyIGk9MDtpPHNvdXJjZS5sZW5ndGg7aSsrKWRlc3RpbmF0aW9uW2ldPWRlZXBFeHRlbmQoZGVzdGluYXRpb25baV18fHt9LHNvdXJjZVtpXSl9ZWxzZSBpZihhbmd1bGFyLmlzT2JqZWN0KHNvdXJjZSkpZm9yKHZhciBwcm9wZXJ0eSBpbiBzb3VyY2UpZGVzdGluYXRpb25bcHJvcGVydHldPWRlZXBFeHRlbmQoZGVzdGluYXRpb25bcHJvcGVydHldfHx7fSxzb3VyY2VbcHJvcGVydHldKTtlbHNlIGRlc3RpbmF0aW9uPXNvdXJjZTtyZXR1cm4gZGVzdGluYXRpb259fX1mdW5jdGlvbiBoaWdoY2hhcnQoaGlnaGNoYXJ0c05HVXRpbHMpe3ZhciBzZXJpZXNJZD0wLGVuc3VyZUlkcz1mdW5jdGlvbihzZXJpZXMpe3ZhciBjaGFuZ2VkPSExO3JldHVybiBhbmd1bGFyLmZvckVhY2goc2VyaWVzLGZ1bmN0aW9uKHMpe2FuZ3VsYXIuaXNEZWZpbmVkKHMuaWQpfHwocy5pZD0ic2VyaWVzLSIrc2VyaWVzSWQrKyxjaGFuZ2VkPSEwKX0pLGNoYW5nZWR9LGF4aXNOYW1lcz1bInhBeGlzIiwieUF4aXMiXSxnZXRNZXJnZWRPcHRpb25zPWZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsY29uZmlnKXt2YXIgbWVyZ2VkT3B0aW9ucz17fSxkZWZhdWx0T3B0aW9ucz17Y2hhcnQ6e2V2ZW50czp7fX0sdGl0bGU6e30sc3VidGl0bGU6e30sc2VyaWVzOltdLGNyZWRpdHM6e30scGxvdE9wdGlvbnM6e30sbmF2aWdhdG9yOntlbmFibGVkOiExfX07cmV0dXJuIG1lcmdlZE9wdGlvbnM9Y29uZmlnLm9wdGlvbnM/aGlnaGNoYXJ0c05HVXRpbHMuZGVlcEV4dGVuZChkZWZhdWx0T3B0aW9ucyxjb25maWcub3B0aW9ucyk6ZGVmYXVsdE9wdGlvbnMsbWVyZ2VkT3B0aW9ucy5jaGFydC5yZW5kZXJUbz1lbGVtZW50WzBdLGFuZ3VsYXIuZm9yRWFjaChheGlzTmFtZXMsZnVuY3Rpb24oYXhpc05hbWUpe2FuZ3VsYXIuaXNEZWZpbmVkKGNvbmZpZ1theGlzTmFtZV0pJiYobWVyZ2VkT3B0aW9uc1theGlzTmFtZV09YW5ndWxhci5jb3B5KGNvbmZpZ1theGlzTmFtZV0pLChhbmd1bGFyLmlzRGVmaW5lZChjb25maWdbYXhpc05hbWVdLmN1cnJlbnRNaW4pfHxhbmd1bGFyLmlzRGVmaW5lZChjb25maWdbYXhpc05hbWVdLmN1cnJlbnRNYXgpKSYmKGhpZ2hjaGFydHNOR1V0aWxzLnByZXBlbmRNZXRob2QobWVyZ2VkT3B0aW9ucy5jaGFydC5ldmVudHMsInNlbGVjdGlvbiIsZnVuY3Rpb24oZSl7dmFyIHRoaXNDaGFydD10aGlzO3Njb3BlLiRhcHBseShlW2F4aXNOYW1lXT9mdW5jdGlvbigpe3Njb3BlLmNvbmZpZ1theGlzTmFtZV0uY3VycmVudE1pbj1lW2F4aXNOYW1lXVswXS5taW4sc2NvcGUuY29uZmlnW2F4aXNOYW1lXS5jdXJyZW50TWF4PWVbYXhpc05hbWVdWzBdLm1heH06ZnVuY3Rpb24oKXtzY29wZS5jb25maWdbYXhpc05hbWVdLmN1cnJlbnRNaW49dGhpc0NoYXJ0W2F4aXNOYW1lXVswXS5kYXRhTWluLHNjb3BlLmNvbmZpZ1theGlzTmFtZV0uY3VycmVudE1heD10aGlzQ2hhcnRbYXhpc05hbWVdWzBdLmRhdGFNYXh9KX0pLGhpZ2hjaGFydHNOR1V0aWxzLnByZXBlbmRNZXRob2QobWVyZ2VkT3B0aW9ucy5jaGFydC5ldmVudHMsImFkZFNlcmllcyIsZnVuY3Rpb24oKXtzY29wZS5jb25maWdbYXhpc05hbWVdLmN1cnJlbnRNaW49dGhpc1theGlzTmFtZV1bMF0ubWlufHxzY29wZS5jb25maWdbYXhpc05hbWVdLmN1cnJlbnRNaW4sc2NvcGUuY29uZmlnW2F4aXNOYW1lXS5jdXJyZW50TWF4PXRoaXNbYXhpc05hbWVdWzBdLm1heHx8c2NvcGUuY29uZmlnW2F4aXNOYW1lXS5jdXJyZW50TWF4fSkpKX0pLGNvbmZpZy50aXRsZSYmKG1lcmdlZE9wdGlvbnMudGl0bGU9Y29uZmlnLnRpdGxlKSxjb25maWcuc3VidGl0bGUmJihtZXJnZWRPcHRpb25zLnN1YnRpdGxlPWNvbmZpZy5zdWJ0aXRsZSksY29uZmlnLmNyZWRpdHMmJihtZXJnZWRPcHRpb25zLmNyZWRpdHM9Y29uZmlnLmNyZWRpdHMpLGNvbmZpZy5zaXplJiYoY29uZmlnLnNpemUud2lkdGgmJihtZXJnZWRPcHRpb25zLmNoYXJ0LndpZHRoPWNvbmZpZy5zaXplLndpZHRoKSxjb25maWcuc2l6ZS5oZWlnaHQmJihtZXJnZWRPcHRpb25zLmNoYXJ0LmhlaWdodD1jb25maWcuc2l6ZS5oZWlnaHQpKSxtZXJnZWRPcHRpb25zfSx1cGRhdGVab29tPWZ1bmN0aW9uKGF4aXMsbW9kZWxBeGlzKXt2YXIgZXh0cmVtZXM9YXhpcy5nZXRFeHRyZW1lcygpOyhtb2RlbEF4aXMuY3VycmVudE1pbiE9PWV4dHJlbWVzLmRhdGFNaW58fG1vZGVsQXhpcy5jdXJyZW50TWF4IT09ZXh0cmVtZXMuZGF0YU1heCkmJmF4aXMuc2V0RXh0cmVtZXMobW9kZWxBeGlzLmN1cnJlbnRNaW4sbW9kZWxBeGlzLmN1cnJlbnRNYXgsITEpfSxwcm9jZXNzRXh0cmVtZXM9ZnVuY3Rpb24oY2hhcnQsYXhpcyxheGlzTmFtZSl7KGF4aXMuY3VycmVudE1pbnx8YXhpcy5jdXJyZW50TWF4KSYmY2hhcnRbYXhpc05hbWVdWzBdLnNldEV4dHJlbWVzKGF4aXMuY3VycmVudE1pbixheGlzLmN1cnJlbnRNYXgsITApfSxjaGFydE9wdGlvbnNXaXRob3V0RWFzeU9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKHt9LG9wdGlvbnMse2RhdGE6bnVsbCx2aXNpYmxlOm51bGx9KX07cmV0dXJue3Jlc3RyaWN0OiJFQUMiLHJlcGxhY2U6ITAsdGVtcGxhdGU6IjxkaXY+PC9kaXY+IixzY29wZTp7Y29uZmlnOiI9IixkaXNhYmxlRGF0YVdhdGNoOiI9In0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50KXt2YXIgcHJldlNlcmllc09wdGlvbnM9e30scHJvY2Vzc1Nlcmllcz1mdW5jdGlvbihzZXJpZXMpe3ZhciBpLGlkcz1bXTtpZihzZXJpZXMpe3ZhciBzZXRJZHM9ZW5zdXJlSWRzKHNlcmllcyk7aWYoc2V0SWRzKXJldHVybiExO2lmKGFuZ3VsYXIuZm9yRWFjaChzZXJpZXMsZnVuY3Rpb24ocyl7aWRzLnB1c2gocy5pZCk7dmFyIGNoYXJ0U2VyaWVzPWNoYXJ0LmdldChzLmlkKTtjaGFydFNlcmllcz9hbmd1bGFyLmVxdWFscyhwcmV2U2VyaWVzT3B0aW9uc1tzLmlkXSxjaGFydE9wdGlvbnNXaXRob3V0RWFzeU9wdGlvbnMocykpPyh2b2lkIDAhPT1zLnZpc2libGUmJmNoYXJ0U2VyaWVzLnZpc2libGUhPT1zLnZpc2libGUmJmNoYXJ0U2VyaWVzLnNldFZpc2libGUocy52aXNpYmxlLCExKSxjaGFydFNlcmllcy5zZXREYXRhKGFuZ3VsYXIuY29weShzLmRhdGEpLCExKSk6Y2hhcnRTZXJpZXMudXBkYXRlKGFuZ3VsYXIuY29weShzKSwhMSk6Y2hhcnQuYWRkU2VyaWVzKGFuZ3VsYXIuY29weShzKSwhMSkscHJldlNlcmllc09wdGlvbnNbcy5pZF09Y2hhcnRPcHRpb25zV2l0aG91dEVhc3lPcHRpb25zKHMpfSksc2NvcGUuY29uZmlnLm5vRGF0YSl7dmFyIGNoYXJ0Q29udGFpbnNEYXRhPSExO2ZvcihpPTA7aTxzZXJpZXMubGVuZ3RoO2krKylpZihzZXJpZXNbaV0uZGF0YSYmc2VyaWVzW2ldLmRhdGEubGVuZ3RoPjApe2NoYXJ0Q29udGFpbnNEYXRhPSEwO2JyZWFrfWNoYXJ0Q29udGFpbnNEYXRhP2NoYXJ0LmhpZGVMb2FkaW5nKCk6Y2hhcnQuc2hvd0xvYWRpbmcoc2NvcGUuY29uZmlnLm5vRGF0YSl9fWZvcihpPWNoYXJ0LnNlcmllcy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIHM9Y2hhcnQuc2VyaWVzW2ldOyJoaWdoY2hhcnRzLW5hdmlnYXRvci1zZXJpZXMiIT09cy5vcHRpb25zLmlkJiZoaWdoY2hhcnRzTkdVdGlscy5pbmRleE9mKGlkcyxzLm9wdGlvbnMuaWQpPDAmJnMucmVtb3ZlKCExKX1yZXR1cm4hMH0sY2hhcnQ9ITEsaW5pdENoYXJ0PWZ1bmN0aW9uKCl7Y2hhcnQmJmNoYXJ0LmRlc3Ryb3koKSxwcmV2U2VyaWVzT3B0aW9ucz17fTt2YXIgY29uZmlnPXNjb3BlLmNvbmZpZ3x8e30sbWVyZ2VkT3B0aW9ucz1nZXRNZXJnZWRPcHRpb25zKHNjb3BlLGVsZW1lbnQsY29uZmlnKSxmdW5jPWNvbmZpZy5mdW5jfHx2b2lkIDA7Y2hhcnQ9Y29uZmlnLnVzZUhpZ2hTdG9ja3M/bmV3IEhpZ2hjaGFydHMuU3RvY2tDaGFydChtZXJnZWRPcHRpb25zLGZ1bmMpOm5ldyBIaWdoY2hhcnRzLkNoYXJ0KG1lcmdlZE9wdGlvbnMsZnVuYyk7Zm9yKHZhciBpPTA7aTxheGlzTmFtZXMubGVuZ3RoO2krKyljb25maWdbYXhpc05hbWVzW2ldXSYmcHJvY2Vzc0V4dHJlbWVzKGNoYXJ0LGNvbmZpZ1theGlzTmFtZXNbaV1dLGF4aXNOYW1lc1tpXSk7Y29uZmlnLmxvYWRpbmcmJmNoYXJ0LnNob3dMb2FkaW5nKCl9O2luaXRDaGFydCgpLHNjb3BlLmRpc2FibGVEYXRhV2F0Y2g/c2NvcGUuJHdhdGNoQ29sbGVjdGlvbigiY29uZmlnLnNlcmllcyIsZnVuY3Rpb24obmV3U2VyaWVzKXtwcm9jZXNzU2VyaWVzKG5ld1NlcmllcyksY2hhcnQucmVkcmF3KCl9KTpzY29wZS4kd2F0Y2goImNvbmZpZy5zZXJpZXMiLGZ1bmN0aW9uKG5ld1Nlcmllcyl7dmFyIG5lZWRzUmVkcmF3PXByb2Nlc3NTZXJpZXMobmV3U2VyaWVzKTtuZWVkc1JlZHJhdyYmY2hhcnQucmVkcmF3KCl9LCEwKSxzY29wZS4kd2F0Y2goImNvbmZpZy50aXRsZSIsZnVuY3Rpb24obmV3VGl0bGUpe2NoYXJ0LnNldFRpdGxlKG5ld1RpdGxlLCEwKX0sITApLHNjb3BlLiR3YXRjaCgiY29uZmlnLnN1YnRpdGxlIixmdW5jdGlvbihuZXdTdWJ0aXRsZSl7Y2hhcnQuc2V0VGl0bGUoITAsbmV3U3VidGl0bGUpfSwhMCksc2NvcGUuJHdhdGNoKCJjb25maWcubG9hZGluZyIsZnVuY3Rpb24obG9hZGluZyl7bG9hZGluZz9jaGFydC5zaG93TG9hZGluZygpOmNoYXJ0LmhpZGVMb2FkaW5nKCl9KSxzY29wZS4kd2F0Y2goImNvbmZpZy5jcmVkaXRzLmVuYWJsZWQiLGZ1bmN0aW9uKGVuYWJsZWQpe2VuYWJsZWQ/Y2hhcnQuY3JlZGl0cy5zaG93KCk6Y2hhcnQuY3JlZGl0cyYmY2hhcnQuY3JlZGl0cy5oaWRlKCl9KSxzY29wZS4kd2F0Y2goImNvbmZpZy51c2VIaWdoU3RvY2tzIixmdW5jdGlvbih1c2VIaWdoU3RvY2tzLG9sZFVzZUhpZ2hTdG9ja3Mpe3VzZUhpZ2hTdG9ja3MhPT1vbGRVc2VIaWdoU3RvY2tzJiZpbml0Q2hhcnQoKX0pLGFuZ3VsYXIuZm9yRWFjaChheGlzTmFtZXMsZnVuY3Rpb24oYXhpc05hbWUpe3Njb3BlLiR3YXRjaCgiY29uZmlnLiIrYXhpc05hbWUsZnVuY3Rpb24obmV3QXhlcyxvbGRBeGVzKXtuZXdBeGVzIT09b2xkQXhlcyYmbmV3QXhlcyYmKGNoYXJ0W2F4aXNOYW1lXVswXS51cGRhdGUobmV3QXhlcywhMSksdXBkYXRlWm9vbShjaGFydFtheGlzTmFtZV1bMF0sYW5ndWxhci5jb3B5KG5ld0F4ZXMpKSxjaGFydC5yZWRyYXcoKSl9LCEwKX0pLHNjb3BlLiR3YXRjaCgiY29uZmlnLm9wdGlvbnMiLGZ1bmN0aW9uKG5ld09wdGlvbnMsb2xkT3B0aW9ucyxzY29wZSl7bmV3T3B0aW9ucyE9PW9sZE9wdGlvbnMmJihpbml0Q2hhcnQoKSxwcm9jZXNzU2VyaWVzKHNjb3BlLmNvbmZpZy5zZXJpZXMpLGNoYXJ0LnJlZHJhdygpKX0sITApLHNjb3BlLiR3YXRjaCgiY29uZmlnLnNpemUiLGZ1bmN0aW9uKG5ld1NpemUsb2xkU2l6ZSl7bmV3U2l6ZSE9PW9sZFNpemUmJm5ld1NpemUmJmNoYXJ0LnNldFNpemUobmV3U2l6ZS53aWR0aHx8dm9pZCAwLG5ld1NpemUuaGVpZ2h0fHx2b2lkIDApfSwhMCksc2NvcGUuJG9uKCJoaWdoY2hhcnRzbmcucmVmbG93IixmdW5jdGlvbigpe2NoYXJ0LnJlZmxvdygpfSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtjaGFydCYmKGNoYXJ0LmRlc3Ryb3koKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZWxlbWVudC5yZW1vdmUoKX0sMCkpfSl9fX1hbmd1bGFyLm1vZHVsZSgiaGlnaGNoYXJ0cy1uZyIsW10pLmZhY3RvcnkoImhpZ2hjaGFydHNOR1V0aWxzIixoaWdoY2hhcnRzTkdVdGlscykuZGlyZWN0aXZlKCJoaWdoY2hhcnQiLFsiaGlnaGNoYXJ0c05HVXRpbHMiLGhpZ2hjaGFydF0pfSgpLGZ1bmN0aW9uKHdpbmRvdyxhbmd1bGFyLHVuZGVmaW5lZCl7InVzZSBzdHJpY3QiO2FuZ3VsYXIubW9kdWxlKCJuZ0FuaW1hdGUiLFsibmciXSkuZGlyZWN0aXZlKCJuZ0FuaW1hdGVDaGlsZHJlbiIsZnVuY3Rpb24oKXt2YXIgTkdfQU5JTUFURV9DSElMRFJFTj0iJCRuZ0FuaW1hdGVDaGlsZHJlbiI7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3ZhciB2YWw9YXR0cnMubmdBbmltYXRlQ2hpbGRyZW47YW5ndWxhci5pc1N0cmluZyh2YWwpJiYwPT09dmFsLmxlbmd0aD9lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DSElMRFJFTiwhMCk6c2NvcGUuJHdhdGNoKHZhbCxmdW5jdGlvbih2YWx1ZSl7ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ0hJTERSRU4sISF2YWx1ZSl9KX19KS5mYWN0b3J5KCIkJGFuaW1hdGVSZWZsb3ciLFsiJCRyQUYiLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKCQkckFGLCRkb2N1bWVudCl7dmFyIGJvZD0kZG9jdW1lbnRbMF0uYm9keTtyZXR1cm4gZnVuY3Rpb24oZm4pe3JldHVybiAkJHJBRihmdW5jdGlvbigpe2JvZC5vZmZzZXRXaWR0aCsxO2ZuKCl9KX19XSkuY29uZmlnKFsiJHByb3ZpZGUiLCIkYW5pbWF0ZVByb3ZpZGVyIixmdW5jdGlvbigkcHJvdmlkZSwkYW5pbWF0ZVByb3ZpZGVyKXtmdW5jdGlvbiBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCl7Zm9yKHZhciBpPTA7aTxlbGVtZW50Lmxlbmd0aDtpKyspe3ZhciBlbG09ZWxlbWVudFtpXTtpZihlbG0ubm9kZVR5cGU9PUVMRU1FTlRfTk9ERSlyZXR1cm4gZWxtfX1mdW5jdGlvbiBwcmVwYXJlRWxlbWVudChlbGVtZW50KXtyZXR1cm4gZWxlbWVudCYmYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpfWZ1bmN0aW9uIHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KXtyZXR1cm4gYW5ndWxhci5lbGVtZW50KGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSl9ZnVuY3Rpb24gaXNNYXRjaGluZ0VsZW1lbnQoZWxtMSxlbG0yKXtyZXR1cm4gZXh0cmFjdEVsZW1lbnROb2RlKGVsbTEpPT1leHRyYWN0RWxlbWVudE5vZGUoZWxtMil9dmFyIG5vb3A9YW5ndWxhci5ub29wLGZvckVhY2g9YW5ndWxhci5mb3JFYWNoLHNlbGVjdG9ycz0kYW5pbWF0ZVByb3ZpZGVyLiQkc2VsZWN0b3JzLGlzQXJyYXk9YW5ndWxhci5pc0FycmF5LGlzU3RyaW5nPWFuZ3VsYXIuaXNTdHJpbmcsaXNPYmplY3Q9YW5ndWxhci5pc09iamVjdCxFTEVNRU5UX05PREU9MSxOR19BTklNQVRFX1NUQVRFPSIkJG5nQW5pbWF0ZVN0YXRlIixOR19BTklNQVRFX0NISUxEUkVOPSIkJG5nQW5pbWF0ZUNoaWxkcmVuIixOR19BTklNQVRFX0NMQVNTX05BTUU9Im5nLWFuaW1hdGUiLHJvb3RBbmltYXRlU3RhdGU9e3J1bm5pbmc6ITB9OyRwcm92aWRlLmRlY29yYXRvcigiJGFuaW1hdGUiLFsiJGRlbGVnYXRlIiwiJCRxIiwiJGluamVjdG9yIiwiJHNuaWZmZXIiLCIkcm9vdEVsZW1lbnQiLCIkJGFzeW5jQ2FsbGJhY2siLCIkcm9vdFNjb3BlIiwiJGRvY3VtZW50IiwiJHRlbXBsYXRlUmVxdWVzdCIsZnVuY3Rpb24oJGRlbGVnYXRlLCQkcSwkaW5qZWN0b3IsJHNuaWZmZXIsJHJvb3RFbGVtZW50LCQkYXN5bmNDYWxsYmFjaywkcm9vdFNjb3BlLCRkb2N1bWVudCwkdGVtcGxhdGVSZXF1ZXN0KXtmdW5jdGlvbiBjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCxzZXR0ZXIpe3ZhciBkYXRhPWVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKXx8e307cmV0dXJuIHNldHRlciYmKGRhdGEucnVubmluZz0hMCxkYXRhLnN0cnVjdHVyYWw9ITAsZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUsZGF0YSkpLGRhdGEuZGlzYWJsZWR8fGRhdGEucnVubmluZyYmZGF0YS5zdHJ1Y3R1cmFsfWZ1bmN0aW9uIHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZm4pe3ZhciBjYW5jZWxGbixkZWZlcj0kJHEuZGVmZXIoKTtyZXR1cm4gZGVmZXIucHJvbWlzZS4kJGNhbmNlbEZuPWZ1bmN0aW9uKCl7Y2FuY2VsRm4mJmNhbmNlbEZuKCl9LCRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7Y2FuY2VsRm49Zm4oZnVuY3Rpb24oKXtkZWZlci5yZXNvbHZlKCl9KX0pLGRlZmVyLnByb21pc2V9ZnVuY3Rpb24gcGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKXtyZXR1cm4gaXNPYmplY3Qob3B0aW9ucyk/KG9wdGlvbnMudGVtcENsYXNzZXMmJmlzU3RyaW5nKG9wdGlvbnMudGVtcENsYXNzZXMpJiYob3B0aW9ucy50ZW1wQ2xhc3Nlcz1vcHRpb25zLnRlbXBDbGFzc2VzLnNwbGl0KC9ccysvKSksb3B0aW9ucyk6dm9pZCAwfWZ1bmN0aW9uIHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LGNhY2hlLHJ1bm5pbmdBbmltYXRpb25zKXtydW5uaW5nQW5pbWF0aW9ucz1ydW5uaW5nQW5pbWF0aW9uc3x8e307dmFyIGxvb2t1cD17fTtmb3JFYWNoKHJ1bm5pbmdBbmltYXRpb25zLGZ1bmN0aW9uKGRhdGEsc2VsZWN0b3Ipe2ZvckVhY2goc2VsZWN0b3Iuc3BsaXQoIiAiKSxmdW5jdGlvbihzKXtsb29rdXBbc109ZGF0YX0pfSk7dmFyIGhhc0NsYXNzZXM9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3JFYWNoKChlbGVtZW50LmF0dHIoImNsYXNzIil8fCIiKS5zcGxpdCgvXHMrLyksZnVuY3Rpb24oY2xhc3NOYW1lKXtoYXNDbGFzc2VzW2NsYXNzTmFtZV09ITB9KTt2YXIgdG9BZGQ9W10sdG9SZW1vdmU9W107cmV0dXJuIGZvckVhY2goY2FjaGUuY2xhc3NlcyxmdW5jdGlvbihzdGF0dXMsY2xhc3NOYW1lKXt2YXIgaGFzQ2xhc3M9aGFzQ2xhc3Nlc1tjbGFzc05hbWVdLG1hdGNoaW5nQW5pbWF0aW9uPWxvb2t1cFtjbGFzc05hbWVdfHx7fTtzdGF0dXM9PT0hMT8oaGFzQ2xhc3N8fCJhZGRDbGFzcyI9PW1hdGNoaW5nQW5pbWF0aW9uLmV2ZW50KSYmdG9SZW1vdmUucHVzaChjbGFzc05hbWUpOnN0YXR1cz09PSEwJiYoaGFzQ2xhc3MmJiJyZW1vdmVDbGFzcyIhPW1hdGNoaW5nQW5pbWF0aW9uLmV2ZW50fHx0b0FkZC5wdXNoKGNsYXNzTmFtZSkpfSksdG9BZGQubGVuZ3RoK3RvUmVtb3ZlLmxlbmd0aD4wJiZbdG9BZGQuam9pbigiICIpLHRvUmVtb3ZlLmpvaW4oIiAiKV19ZnVuY3Rpb24gbG9va3VwKG5hbWUpe2lmKG5hbWUpe3ZhciBtYXRjaGVzPVtdLGZsYWdNYXA9e30sY2xhc3Nlcz1uYW1lLnN1YnN0cigxKS5zcGxpdCgiLiIpOygkc25pZmZlci50cmFuc2l0aW9uc3x8JHNuaWZmZXIuYW5pbWF0aW9ucykmJm1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KHNlbGVjdG9yc1siIl0pKTtmb3IodmFyIGk9MDtpPGNsYXNzZXMubGVuZ3RoO2krKyl7dmFyIGtsYXNzPWNsYXNzZXNbaV0sc2VsZWN0b3JGYWN0b3J5TmFtZT1zZWxlY3RvcnNba2xhc3NdO3NlbGVjdG9yRmFjdG9yeU5hbWUmJiFmbGFnTWFwW2tsYXNzXSYmKG1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KHNlbGVjdG9yRmFjdG9yeU5hbWUpKSxmbGFnTWFwW2tsYXNzXT0hMCl9cmV0dXJuIG1hdGNoZXN9fWZ1bmN0aW9uIGFuaW1hdGlvblJ1bm5lcihlbGVtZW50LGFuaW1hdGlvbkV2ZW50LGNsYXNzTmFtZSxvcHRpb25zKXtmdW5jdGlvbiByZWdpc3RlckFuaW1hdGlvbihhbmltYXRpb25GYWN0b3J5LGV2ZW50KXt2YXIgYWZ0ZXJGbj1hbmltYXRpb25GYWN0b3J5W2V2ZW50XSxiZWZvcmVGbj1hbmltYXRpb25GYWN0b3J5WyJiZWZvcmUiK2V2ZW50LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2V2ZW50LnN1YnN0cigxKV07cmV0dXJuIGFmdGVyRm58fGJlZm9yZUZuPygibGVhdmUiPT1ldmVudCYmKGJlZm9yZUZuPWFmdGVyRm4sYWZ0ZXJGbj1udWxsKSxhZnRlci5wdXNoKHtldmVudDpldmVudCxmbjphZnRlckZufSksYmVmb3JlLnB1c2goe2V2ZW50OmV2ZW50LGZuOmJlZm9yZUZufSksITApOnZvaWQgMH1mdW5jdGlvbiBydW4oZm5zLGNhbmNlbGxhdGlvbnMsYWxsQ29tcGxldGVGbil7ZnVuY3Rpb24gYWZ0ZXJBbmltYXRpb25Db21wbGV0ZShpbmRleCl7aWYoY2FuY2VsbGF0aW9ucyl7aWYoKGNhbmNlbGxhdGlvbnNbaW5kZXhdfHxub29wKSgpLCsrY291bnQ8YW5pbWF0aW9ucy5sZW5ndGgpcmV0dXJuO2NhbmNlbGxhdGlvbnM9bnVsbH1hbGxDb21wbGV0ZUZuKCl9dmFyIGFuaW1hdGlvbnM9W107Zm9yRWFjaChmbnMsZnVuY3Rpb24oYW5pbWF0aW9uKXthbmltYXRpb24uZm4mJmFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pfSk7dmFyIGNvdW50PTA7Zm9yRWFjaChhbmltYXRpb25zLGZ1bmN0aW9uKGFuaW1hdGlvbixpbmRleCl7dmFyIHByb2dyZXNzPWZ1bmN0aW9uKCl7YWZ0ZXJBbmltYXRpb25Db21wbGV0ZShpbmRleCl9O3N3aXRjaChhbmltYXRpb24uZXZlbnQpe2Nhc2Uic2V0Q2xhc3MiOmNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCxjbGFzc05hbWVBZGQsY2xhc3NOYW1lUmVtb3ZlLHByb2dyZXNzLG9wdGlvbnMpKTticmVhaztjYXNlImFuaW1hdGUiOmNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCxjbGFzc05hbWUsb3B0aW9ucy5mcm9tLG9wdGlvbnMudG8scHJvZ3Jlc3MpKTticmVhaztjYXNlImFkZENsYXNzIjpjYW5jZWxsYXRpb25zLnB1c2goYW5pbWF0aW9uLmZuKGVsZW1lbnQsY2xhc3NOYW1lQWRkfHxjbGFzc05hbWUscHJvZ3Jlc3Msb3B0aW9ucykpO2JyZWFrO2Nhc2UicmVtb3ZlQ2xhc3MiOmNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCxjbGFzc05hbWVSZW1vdmV8fGNsYXNzTmFtZSxwcm9ncmVzcyxvcHRpb25zKSk7YnJlYWs7ZGVmYXVsdDpjYW5jZWxsYXRpb25zLnB1c2goYW5pbWF0aW9uLmZuKGVsZW1lbnQscHJvZ3Jlc3Msb3B0aW9ucykpfX0pLGNhbmNlbGxhdGlvbnMmJjA9PT1jYW5jZWxsYXRpb25zLmxlbmd0aCYmYWxsQ29tcGxldGVGbigpfXZhciBub2RlPWVsZW1lbnRbMF07aWYobm9kZSl7b3B0aW9ucyYmKG9wdGlvbnMudG89b3B0aW9ucy50b3x8e30sb3B0aW9ucy5mcm9tPW9wdGlvbnMuZnJvbXx8e30pO3ZhciBjbGFzc05hbWVBZGQsY2xhc3NOYW1lUmVtb3ZlO2lzQXJyYXkoY2xhc3NOYW1lKSYmKGNsYXNzTmFtZUFkZD1jbGFzc05hbWVbMF0sY2xhc3NOYW1lUmVtb3ZlPWNsYXNzTmFtZVsxXSxjbGFzc05hbWVBZGQ/Y2xhc3NOYW1lUmVtb3ZlP2NsYXNzTmFtZT1jbGFzc05hbWVBZGQrIiAiK2NsYXNzTmFtZVJlbW92ZTooY2xhc3NOYW1lPWNsYXNzTmFtZUFkZCxhbmltYXRpb25FdmVudD0iYWRkQ2xhc3MiKTooY2xhc3NOYW1lPWNsYXNzTmFtZVJlbW92ZSxhbmltYXRpb25FdmVudD0icmVtb3ZlQ2xhc3MiKSk7dmFyIGlzU2V0Q2xhc3NPcGVyYXRpb249InNldENsYXNzIj09YW5pbWF0aW9uRXZlbnQsaXNDbGFzc0Jhc2VkPWlzU2V0Q2xhc3NPcGVyYXRpb258fCJhZGRDbGFzcyI9PWFuaW1hdGlvbkV2ZW50fHwicmVtb3ZlQ2xhc3MiPT1hbmltYXRpb25FdmVudHx8ImFuaW1hdGUiPT1hbmltYXRpb25FdmVudCxjdXJyZW50Q2xhc3NOYW1lPWVsZW1lbnQuYXR0cigiY2xhc3MiKSxjbGFzc2VzPWN1cnJlbnRDbGFzc05hbWUrIiAiK2NsYXNzTmFtZTtpZihpc0FuaW1hdGFibGVDbGFzc05hbWUoY2xhc3Nlcykpe3ZhciBiZWZvcmVDb21wbGV0ZT1ub29wLGJlZm9yZUNhbmNlbD1bXSxiZWZvcmU9W10sYWZ0ZXJDb21wbGV0ZT1ub29wLGFmdGVyQ2FuY2VsPVtdLGFmdGVyPVtdLGFuaW1hdGlvbkxvb2t1cD0oIiAiK2NsYXNzZXMpLnJlcGxhY2UoL1xzKy9nLCIuIik7cmV0dXJuIGZvckVhY2gobG9va3VwKGFuaW1hdGlvbkxvb2t1cCksZnVuY3Rpb24oYW5pbWF0aW9uRmFjdG9yeSl7dmFyIGNyZWF0ZWQ9cmVnaXN0ZXJBbmltYXRpb24oYW5pbWF0aW9uRmFjdG9yeSxhbmltYXRpb25FdmVudCk7IWNyZWF0ZWQmJmlzU2V0Q2xhc3NPcGVyYXRpb24mJihyZWdpc3RlckFuaW1hdGlvbihhbmltYXRpb25GYWN0b3J5LCJhZGRDbGFzcyIpLHJlZ2lzdGVyQW5pbWF0aW9uKGFuaW1hdGlvbkZhY3RvcnksInJlbW92ZUNsYXNzIikpfSkse25vZGU6bm9kZSxldmVudDphbmltYXRpb25FdmVudCxjbGFzc05hbWU6Y2xhc3NOYW1lLGlzQ2xhc3NCYXNlZDppc0NsYXNzQmFzZWQsaXNTZXRDbGFzc09wZXJhdGlvbjppc1NldENsYXNzT3BlcmF0aW9uLGFwcGx5U3R5bGVzOmZ1bmN0aW9uKCl7b3B0aW9ucyYmZWxlbWVudC5jc3MoYW5ndWxhci5leHRlbmQob3B0aW9ucy5mcm9tfHx7fSxvcHRpb25zLnRvfHx7fSkpfSxiZWZvcmU6ZnVuY3Rpb24oYWxsQ29tcGxldGVGbil7YmVmb3JlQ29tcGxldGU9YWxsQ29tcGxldGVGbixydW4oYmVmb3JlLGJlZm9yZUNhbmNlbCxmdW5jdGlvbigpe2JlZm9yZUNvbXBsZXRlPW5vb3AsYWxsQ29tcGxldGVGbigpfSl9LGFmdGVyOmZ1bmN0aW9uKGFsbENvbXBsZXRlRm4pe2FmdGVyQ29tcGxldGU9YWxsQ29tcGxldGVGbixydW4oYWZ0ZXIsYWZ0ZXJDYW5jZWwsZnVuY3Rpb24oKXthZnRlckNvbXBsZXRlPW5vb3AsYWxsQ29tcGxldGVGbigpfSl9LGNhbmNlbDpmdW5jdGlvbigpe2JlZm9yZUNhbmNlbCYmKGZvckVhY2goYmVmb3JlQ2FuY2VsLGZ1bmN0aW9uKGNhbmNlbEZuKXsoY2FuY2VsRm58fG5vb3ApKCEwKX0pLGJlZm9yZUNvbXBsZXRlKCEwKSksYWZ0ZXJDYW5jZWwmJihmb3JFYWNoKGFmdGVyQ2FuY2VsLGZ1bmN0aW9uKGNhbmNlbEZuKXsoY2FuY2VsRm58fG5vb3ApKCEwKX0pLGFmdGVyQ29tcGxldGUoITApKX19fX19ZnVuY3Rpb24gcGVyZm9ybUFuaW1hdGlvbihhbmltYXRpb25FdmVudCxjbGFzc05hbWUsZWxlbWVudCxwYXJlbnRFbGVtZW50LGFmdGVyRWxlbWVudCxkb21PcGVyYXRpb24sb3B0aW9ucyxkb25lQ2FsbGJhY2spe2Z1bmN0aW9uIGZpcmVET01DYWxsYmFjayhhbmltYXRpb25QaGFzZSl7dmFyIGV2ZW50TmFtZT0iJGFuaW1hdGU6IithbmltYXRpb25QaGFzZTtlbGVtZW50RXZlbnRzJiZlbGVtZW50RXZlbnRzW2V2ZW50TmFtZV0mJmVsZW1lbnRFdmVudHNbZXZlbnROYW1lXS5sZW5ndGg+MCYmJCRhc3luY0NhbGxiYWNrKGZ1bmN0aW9uKCl7ZWxlbWVudC50cmlnZ2VySGFuZGxlcihldmVudE5hbWUse2V2ZW50OmFuaW1hdGlvbkV2ZW50LGNsYXNzTmFtZTpjbGFzc05hbWV9KX0pfWZ1bmN0aW9uIGZpcmVCZWZvcmVDYWxsYmFja0FzeW5jKCl7ZmlyZURPTUNhbGxiYWNrKCJiZWZvcmUiKX1mdW5jdGlvbiBmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCl7ZmlyZURPTUNhbGxiYWNrKCJhZnRlciIpfWZ1bmN0aW9uIGZpcmVEb25lQ2FsbGJhY2tBc3luYygpe2ZpcmVET01DYWxsYmFjaygiY2xvc2UiKSxkb25lQ2FsbGJhY2soKX1mdW5jdGlvbiBmaXJlRE9NT3BlcmF0aW9uKCl7ZmlyZURPTU9wZXJhdGlvbi5oYXNCZWVuUnVufHwoZmlyZURPTU9wZXJhdGlvbi5oYXNCZWVuUnVuPSEwLGRvbU9wZXJhdGlvbigpKX1mdW5jdGlvbiBjbG9zZUFuaW1hdGlvbigpe2lmKCFjbG9zZUFuaW1hdGlvbi5oYXNCZWVuUnVuKXtydW5uZXImJnJ1bm5lci5hcHBseVN0eWxlcygpLGNsb3NlQW5pbWF0aW9uLmhhc0JlZW5SdW49ITAsb3B0aW9ucyYmb3B0aW9ucy50ZW1wQ2xhc3NlcyYmZm9yRWFjaChvcHRpb25zLnRlbXBDbGFzc2VzLGZ1bmN0aW9uKGNsYXNzTmFtZSl7ZWxlbWVudC5yZW1vdmVDbGFzcyhjbGFzc05hbWUpfSk7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO2RhdGEmJihydW5uZXImJnJ1bm5lci5pc0NsYXNzQmFzZWQ/Y2xlYW51cChlbGVtZW50LGNsYXNzTmFtZSk6KCQkYXN5bmNDYWxsYmFjayhmdW5jdGlvbigpe3ZhciBkYXRhPWVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKXx8e307bG9jYWxBbmltYXRpb25Db3VudD09ZGF0YS5pbmRleCYmY2xlYW51cChlbGVtZW50LGNsYXNzTmFtZSxhbmltYXRpb25FdmVudCl9KSxlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSxkYXRhKSkpLGZpcmVEb25lQ2FsbGJhY2tBc3luYygpfX12YXIgbm9vcENhbmNlbD1ub29wLHJ1bm5lcj1hbmltYXRpb25SdW5uZXIoZWxlbWVudCxhbmltYXRpb25FdmVudCxjbGFzc05hbWUsb3B0aW9ucyk7aWYoIXJ1bm5lcilyZXR1cm4gZmlyZURPTU9wZXJhdGlvbigpLGZpcmVCZWZvcmVDYWxsYmFja0FzeW5jKCksZmlyZUFmdGVyQ2FsbGJhY2tBc3luYygpLGNsb3NlQW5pbWF0aW9uKCksbm9vcENhbmNlbDthbmltYXRpb25FdmVudD1ydW5uZXIuZXZlbnQsY2xhc3NOYW1lPXJ1bm5lci5jbGFzc05hbWU7dmFyIGVsZW1lbnRFdmVudHM9YW5ndWxhci5lbGVtZW50Ll9kYXRhKHJ1bm5lci5ub2RlKTtpZihlbGVtZW50RXZlbnRzPWVsZW1lbnRFdmVudHMmJmVsZW1lbnRFdmVudHMuZXZlbnRzLHBhcmVudEVsZW1lbnR8fChwYXJlbnRFbGVtZW50PWFmdGVyRWxlbWVudD9hZnRlckVsZW1lbnQucGFyZW50KCk6ZWxlbWVudC5wYXJlbnQoKSksYW5pbWF0aW9uc0Rpc2FibGVkKGVsZW1lbnQscGFyZW50RWxlbWVudCkpcmV0dXJuIGZpcmVET01PcGVyYXRpb24oKSxmaXJlQmVmb3JlQ2FsbGJhY2tBc3luYygpLGZpcmVBZnRlckNhbGxiYWNrQXN5bmMoKSxjbG9zZUFuaW1hdGlvbigpLG5vb3BDYW5jZWw7dmFyIG5nQW5pbWF0ZVN0YXRlPWVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKXx8e30scnVubmluZ0FuaW1hdGlvbnM9bmdBbmltYXRlU3RhdGUuYWN0aXZlfHx7fSx0b3RhbEFjdGl2ZUFuaW1hdGlvbnM9bmdBbmltYXRlU3RhdGUudG90YWxBY3RpdmV8fDAsbGFzdEFuaW1hdGlvbj1uZ0FuaW1hdGVTdGF0ZS5sYXN0LHNraXBBbmltYXRpb249ITE7aWYodG90YWxBY3RpdmVBbmltYXRpb25zPjApe3ZhciBhbmltYXRpb25zVG9DYW5jZWw9W107aWYocnVubmVyLmlzQ2xhc3NCYXNlZCl7aWYoInNldENsYXNzIj09bGFzdEFuaW1hdGlvbi5ldmVudClhbmltYXRpb25zVG9DYW5jZWwucHVzaChsYXN0QW5pbWF0aW9uKSxjbGVhbnVwKGVsZW1lbnQsY2xhc3NOYW1lKTtlbHNlIGlmKHJ1bm5pbmdBbmltYXRpb25zW2NsYXNzTmFtZV0pe3ZhciBjdXJyZW50PXJ1bm5pbmdBbmltYXRpb25zW2NsYXNzTmFtZV07Y3VycmVudC5ldmVudD09YW5pbWF0aW9uRXZlbnQ/c2tpcEFuaW1hdGlvbj0hMDooYW5pbWF0aW9uc1RvQ2FuY2VsLnB1c2goY3VycmVudCksY2xlYW51cChlbGVtZW50LGNsYXNzTmFtZSkpfX1lbHNlIGlmKCJsZWF2ZSI9PWFuaW1hdGlvbkV2ZW50JiZydW5uaW5nQW5pbWF0aW9uc1sibmctbGVhdmUiXSlza2lwQW5pbWF0aW9uPSEwO2Vsc2V7Zm9yKHZhciBrbGFzcyBpbiBydW5uaW5nQW5pbWF0aW9ucylhbmltYXRpb25zVG9DYW5jZWwucHVzaChydW5uaW5nQW5pbWF0aW9uc1trbGFzc10pO25nQW5pbWF0ZVN0YXRlPXt9LGNsZWFudXAoZWxlbWVudCwhMCl9YW5pbWF0aW9uc1RvQ2FuY2VsLmxlbmd0aD4wJiZmb3JFYWNoKGFuaW1hdGlvbnNUb0NhbmNlbCxmdW5jdGlvbihvcGVyYXRpb24pe29wZXJhdGlvbi5jYW5jZWwoKX0pfWlmKCFydW5uZXIuaXNDbGFzc0Jhc2VkfHxydW5uZXIuaXNTZXRDbGFzc09wZXJhdGlvbnx8ImFuaW1hdGUiPT1hbmltYXRpb25FdmVudHx8c2tpcEFuaW1hdGlvbnx8KHNraXBBbmltYXRpb249ImFkZENsYXNzIj09YW5pbWF0aW9uRXZlbnQ9PWVsZW1lbnQuaGFzQ2xhc3MoY2xhc3NOYW1lKSksc2tpcEFuaW1hdGlvbilyZXR1cm4gZmlyZURPTU9wZXJhdGlvbigpLGZpcmVCZWZvcmVDYWxsYmFja0FzeW5jKCksZmlyZUFmdGVyQ2FsbGJhY2tBc3luYygpLGZpcmVEb25lQ2FsbGJhY2tBc3luYygpLG5vb3BDYW5jZWw7cnVubmluZ0FuaW1hdGlvbnM9bmdBbmltYXRlU3RhdGUuYWN0aXZlfHx7fSx0b3RhbEFjdGl2ZUFuaW1hdGlvbnM9bmdBbmltYXRlU3RhdGUudG90YWxBY3RpdmV8fDAsImxlYXZlIj09YW5pbWF0aW9uRXZlbnQmJmVsZW1lbnQub25lKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt2YXIgZWxlbWVudD1hbmd1bGFyLmVsZW1lbnQodGhpcyksc3RhdGU9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO2lmKHN0YXRlKXt2YXIgYWN0aXZlTGVhdmVBbmltYXRpb249c3RhdGUuYWN0aXZlWyJuZy1sZWF2ZSJdO2FjdGl2ZUxlYXZlQW5pbWF0aW9uJiYoYWN0aXZlTGVhdmVBbmltYXRpb24uY2FuY2VsKCksY2xlYW51cChlbGVtZW50LCJuZy1sZWF2ZSIpKX19KSxlbGVtZW50LmFkZENsYXNzKE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSksb3B0aW9ucyYmb3B0aW9ucy50ZW1wQ2xhc3NlcyYmZm9yRWFjaChvcHRpb25zLnRlbXBDbGFzc2VzLGZ1bmN0aW9uKGNsYXNzTmFtZSl7ZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpfSk7dmFyIGxvY2FsQW5pbWF0aW9uQ291bnQ9Z2xvYmFsQW5pbWF0aW9uQ291bnRlcisrO3JldHVybiB0b3RhbEFjdGl2ZUFuaW1hdGlvbnMrKyxydW5uaW5nQW5pbWF0aW9uc1tjbGFzc05hbWVdPXJ1bm5lcixlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSx7bGFzdDpydW5uZXIsYWN0aXZlOnJ1bm5pbmdBbmltYXRpb25zLGluZGV4OmxvY2FsQW5pbWF0aW9uQ291bnQsdG90YWxBY3RpdmU6dG90YWxBY3RpdmVBbmltYXRpb25zfSksZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKSxydW5uZXIuYmVmb3JlKGZ1bmN0aW9uKGNhbmNlbGxlZCl7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO2NhbmNlbGxlZD1jYW5jZWxsZWR8fCFkYXRhfHwhZGF0YS5hY3RpdmVbY2xhc3NOYW1lXXx8cnVubmVyLmlzQ2xhc3NCYXNlZCYmZGF0YS5hY3RpdmVbY2xhc3NOYW1lXS5ldmVudCE9YW5pbWF0aW9uRXZlbnQsZmlyZURPTU9wZXJhdGlvbigpLGNhbmNlbGxlZD09PSEwP2Nsb3NlQW5pbWF0aW9uKCk6KGZpcmVBZnRlckNhbGxiYWNrQXN5bmMoKSxydW5uZXIuYWZ0ZXIoY2xvc2VBbmltYXRpb24pKX0pLHJ1bm5lci5jYW5jZWx9ZnVuY3Rpb24gY2FuY2VsQ2hpbGRBbmltYXRpb25zKGVsZW1lbnQpe3ZhciBub2RlPWV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtpZihub2RlKXt2YXIgbm9kZXM9YW5ndWxhci5pc0Z1bmN0aW9uKG5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSk/bm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKE5HX0FOSU1BVEVfQ0xBU1NfTkFNRSk6bm9kZS5xdWVyeVNlbGVjdG9yQWxsKCIuIitOR19BTklNQVRFX0NMQVNTX05BTUUpO2ZvckVhY2gobm9kZXMsZnVuY3Rpb24oZWxlbWVudCl7ZWxlbWVudD1hbmd1bGFyLmVsZW1lbnQoZWxlbWVudCk7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpO2RhdGEmJmRhdGEuYWN0aXZlJiZmb3JFYWNoKGRhdGEuYWN0aXZlLGZ1bmN0aW9uKHJ1bm5lcil7cnVubmVyLmNhbmNlbCgpfSl9KX19ZnVuY3Rpb24gY2xlYW51cChlbGVtZW50LGNsYXNzTmFtZSl7aWYoaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwkcm9vdEVsZW1lbnQpKXJvb3RBbmltYXRlU3RhdGUuZGlzYWJsZWR8fChyb290QW5pbWF0ZVN0YXRlLnJ1bm5pbmc9ITEscm9vdEFuaW1hdGVTdGF0ZS5zdHJ1Y3R1cmFsPSExKTtlbHNlIGlmKGNsYXNzTmFtZSl7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpfHx7fSxyZW1vdmVBbmltYXRpb25zPWNsYXNzTmFtZT09PSEwOyFyZW1vdmVBbmltYXRpb25zJiZkYXRhLmFjdGl2ZSYmZGF0YS5hY3RpdmVbY2xhc3NOYW1lXSYmKGRhdGEudG90YWxBY3RpdmUtLSxkZWxldGUgZGF0YS5hY3RpdmVbY2xhc3NOYW1lXSksKHJlbW92ZUFuaW1hdGlvbnN8fCFkYXRhLnRvdGFsQWN0aXZlKSYmKGVsZW1lbnQucmVtb3ZlQ2xhc3MoTkdfQU5JTUFURV9DTEFTU19OQU1FKSxlbGVtZW50LnJlbW92ZURhdGEoTkdfQU5JTUFURV9TVEFURSkpfX1mdW5jdGlvbiBhbmltYXRpb25zRGlzYWJsZWQoZWxlbWVudCxwYXJlbnRFbGVtZW50KXtpZihyb290QW5pbWF0ZVN0YXRlLmRpc2FibGVkKXJldHVybiEwO2lmKGlzTWF0Y2hpbmdFbGVtZW50KGVsZW1lbnQsJHJvb3RFbGVtZW50KSlyZXR1cm4gcm9vdEFuaW1hdGVTdGF0ZS5ydW5uaW5nO3ZhciBhbGxvd0NoaWxkQW5pbWF0aW9ucyxwYXJlbnRSdW5uaW5nQW5pbWF0aW9uLGhhc1BhcmVudDtkb3tpZigwPT09cGFyZW50RWxlbWVudC5sZW5ndGgpYnJlYWs7dmFyIGlzUm9vdD1pc01hdGNoaW5nRWxlbWVudChwYXJlbnRFbGVtZW50LCRyb290RWxlbWVudCksc3RhdGU9aXNSb290P3Jvb3RBbmltYXRlU3RhdGU6cGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpfHx7fTtpZihzdGF0ZS5kaXNhYmxlZClyZXR1cm4hMDtpZihpc1Jvb3QmJihoYXNQYXJlbnQ9ITApLGFsbG93Q2hpbGRBbmltYXRpb25zIT09ITEpe3ZhciBhbmltYXRlQ2hpbGRyZW5GbGFnPXBhcmVudEVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NISUxEUkVOKTthbmd1bGFyLmlzRGVmaW5lZChhbmltYXRlQ2hpbGRyZW5GbGFnKSYmKGFsbG93Q2hpbGRBbmltYXRpb25zPWFuaW1hdGVDaGlsZHJlbkZsYWcpfXBhcmVudFJ1bm5pbmdBbmltYXRpb249cGFyZW50UnVubmluZ0FuaW1hdGlvbnx8c3RhdGUucnVubmluZ3x8c3RhdGUubGFzdCYmIXN0YXRlLmxhc3QuaXNDbGFzc0Jhc2VkfXdoaWxlKHBhcmVudEVsZW1lbnQ9cGFyZW50RWxlbWVudC5wYXJlbnQoKSk7cmV0dXJuIWhhc1BhcmVudHx8IWFsbG93Q2hpbGRBbmltYXRpb25zJiZwYXJlbnRSdW5uaW5nQW5pbWF0aW9ufSRyb290RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUscm9vdEFuaW1hdGVTdGF0ZSk7dmFyIGRlcmVnaXN0ZXJXYXRjaD0kcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiAkdGVtcGxhdGVSZXF1ZXN0LnRvdGFsUGVuZGluZ1JlcXVlc3RzfSxmdW5jdGlvbih2YWwpezA9PT12YWwmJihkZXJlZ2lzdGVyV2F0Y2goKSwkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpeyRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7cm9vdEFuaW1hdGVTdGF0ZS5ydW5uaW5nPSExfSl9KSl9KSxnbG9iYWxBbmltYXRpb25Db3VudGVyPTAsY2xhc3NOYW1lRmlsdGVyPSRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKCksaXNBbmltYXRhYmxlQ2xhc3NOYW1lPWNsYXNzTmFtZUZpbHRlcj9mdW5jdGlvbihjbGFzc05hbWUpe3JldHVybiBjbGFzc05hbWVGaWx0ZXIudGVzdChjbGFzc05hbWUpfTpmdW5jdGlvbigpe3JldHVybiEwfTtyZXR1cm57YW5pbWF0ZTpmdW5jdGlvbihlbGVtZW50LGZyb20sdG8sY2xhc3NOYW1lLG9wdGlvbnMpe3JldHVybiBjbGFzc05hbWU9Y2xhc3NOYW1lfHwibmctaW5saW5lLWFuaW1hdGUiLG9wdGlvbnM9cGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKXx8e30sb3B0aW9ucy5mcm9tPXRvP2Zyb206bnVsbCxvcHRpb25zLnRvPXRvP3RvOmZyb20scnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKXtyZXR1cm4gcGVyZm9ybUFuaW1hdGlvbigiYW5pbWF0ZSIsY2xhc3NOYW1lLHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSxudWxsLG51bGwsbm9vcCxvcHRpb25zLGRvbmUpfSl9LGVudGVyOmZ1bmN0aW9uKGVsZW1lbnQscGFyZW50RWxlbWVudCxhZnRlckVsZW1lbnQsb3B0aW9ucyl7cmV0dXJuIG9wdGlvbnM9cGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKSxlbGVtZW50PWFuZ3VsYXIuZWxlbWVudChlbGVtZW50KSxwYXJlbnRFbGVtZW50PXByZXBhcmVFbGVtZW50KHBhcmVudEVsZW1lbnQpLGFmdGVyRWxlbWVudD1wcmVwYXJlRWxlbWVudChhZnRlckVsZW1lbnQpLGNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZChlbGVtZW50LCEwKSwkZGVsZWdhdGUuZW50ZXIoZWxlbWVudCxwYXJlbnRFbGVtZW50LGFmdGVyRWxlbWVudCkscnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKXtyZXR1cm4gcGVyZm9ybUFuaW1hdGlvbigiZW50ZXIiLCJuZy1lbnRlciIsc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLHBhcmVudEVsZW1lbnQsYWZ0ZXJFbGVtZW50LG5vb3Asb3B0aW9ucyxkb25lKX0pfSxsZWF2ZTpmdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3JldHVybiBvcHRpb25zPXBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyksZWxlbWVudD1hbmd1bGFyLmVsZW1lbnQoZWxlbWVudCksY2FuY2VsQ2hpbGRBbmltYXRpb25zKGVsZW1lbnQpLGNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZChlbGVtZW50LCEwKSxydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZ1bmN0aW9uKGRvbmUpe3JldHVybiBwZXJmb3JtQW5pbWF0aW9uKCJsZWF2ZSIsIm5nLWxlYXZlIixzdHJpcENvbW1lbnRzRnJvbUVsZW1lbnQoZWxlbWVudCksbnVsbCxudWxsLGZ1bmN0aW9uKCl7JGRlbGVnYXRlLmxlYXZlKGVsZW1lbnQpfSxvcHRpb25zLGRvbmUpfSl9LG1vdmU6ZnVuY3Rpb24oZWxlbWVudCxwYXJlbnRFbGVtZW50LGFmdGVyRWxlbWVudCxvcHRpb25zKXtyZXR1cm4gb3B0aW9ucz1wYXJzZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpLGVsZW1lbnQ9YW5ndWxhci5lbGVtZW50KGVsZW1lbnQpLHBhcmVudEVsZW1lbnQ9cHJlcGFyZUVsZW1lbnQocGFyZW50RWxlbWVudCksYWZ0ZXJFbGVtZW50PXByZXBhcmVFbGVtZW50KGFmdGVyRWxlbWVudCksY2FuY2VsQ2hpbGRBbmltYXRpb25zKGVsZW1lbnQpLGNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZChlbGVtZW50LCEwKSwkZGVsZWdhdGUubW92ZShlbGVtZW50LHBhcmVudEVsZW1lbnQsYWZ0ZXJFbGVtZW50KSxydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZ1bmN0aW9uKGRvbmUpe3JldHVybiBwZXJmb3JtQW5pbWF0aW9uKCJtb3ZlIiwibmctbW92ZSIsc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLHBhcmVudEVsZW1lbnQsYWZ0ZXJFbGVtZW50LG5vb3Asb3B0aW9ucyxkb25lKX0pfSxhZGRDbGFzczpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxvcHRpb25zKXtyZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSxbXSxvcHRpb25zKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsb3B0aW9ucyl7cmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCxbXSxjbGFzc05hbWUsb3B0aW9ucyl9LHNldENsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsYWRkLHJlbW92ZSxvcHRpb25zKXtvcHRpb25zPXBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7dmFyIFNUT1JBR0VfS0VZPSIkJGFuaW1hdGVDbGFzc2VzIjtpZihlbGVtZW50PWFuZ3VsYXIuZWxlbWVudChlbGVtZW50KSxlbGVtZW50PXN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSxjbGFzc0Jhc2VkQW5pbWF0aW9uc0Jsb2NrZWQoZWxlbWVudCkpcmV0dXJuICRkZWxlZ2F0ZS4kJHNldENsYXNzSW1tZWRpYXRlbHkoZWxlbWVudCxhZGQscmVtb3ZlLG9wdGlvbnMpO3ZhciBjbGFzc2VzLGNhY2hlPWVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSksaGFzQ2FjaGU9ISFjYWNoZTtyZXR1cm4gY2FjaGV8fChjYWNoZT17fSxjYWNoZS5jbGFzc2VzPXt9KSxjbGFzc2VzPWNhY2hlLmNsYXNzZXMsYWRkPWlzQXJyYXkoYWRkKT9hZGQ6YWRkLnNwbGl0KCIgIiksZm9yRWFjaChhZGQsZnVuY3Rpb24oYyl7YyYmYy5sZW5ndGgmJihjbGFzc2VzW2NdPSEwKQp9KSxyZW1vdmU9aXNBcnJheShyZW1vdmUpP3JlbW92ZTpyZW1vdmUuc3BsaXQoIiAiKSxmb3JFYWNoKHJlbW92ZSxmdW5jdGlvbihjKXtjJiZjLmxlbmd0aCYmKGNsYXNzZXNbY109ITEpfSksaGFzQ2FjaGU/KG9wdGlvbnMmJmNhY2hlLm9wdGlvbnMmJihjYWNoZS5vcHRpb25zPWFuZ3VsYXIuZXh0ZW5kKGNhY2hlLm9wdGlvbnN8fHt9LG9wdGlvbnMpKSxjYWNoZS5wcm9taXNlKTooZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZLGNhY2hlPXtjbGFzc2VzOmNsYXNzZXMsb3B0aW9uczpvcHRpb25zfSksY2FjaGUucHJvbWlzZT1ydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZ1bmN0aW9uKGRvbmUpe3ZhciBwYXJlbnRFbGVtZW50PWVsZW1lbnQucGFyZW50KCksZWxlbWVudE5vZGU9ZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpLHBhcmVudE5vZGU9ZWxlbWVudE5vZGUucGFyZW50Tm9kZTtpZighcGFyZW50Tm9kZXx8cGFyZW50Tm9kZS4kJE5HX1JFTU9WRUR8fGVsZW1lbnROb2RlLiQkTkdfUkVNT1ZFRClyZXR1cm4gdm9pZCBkb25lKCk7dmFyIGNhY2hlPWVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7ZWxlbWVudC5yZW1vdmVEYXRhKFNUT1JBR0VfS0VZKTt2YXIgc3RhdGU9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpfHx7fSxjbGFzc2VzPXJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LGNhY2hlLHN0YXRlLmFjdGl2ZSk7cmV0dXJuIGNsYXNzZXM/cGVyZm9ybUFuaW1hdGlvbigic2V0Q2xhc3MiLGNsYXNzZXMsZWxlbWVudCxwYXJlbnRFbGVtZW50LG51bGwsZnVuY3Rpb24oKXtjbGFzc2VzWzBdJiYkZGVsZWdhdGUuJCRhZGRDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsY2xhc3Nlc1swXSksY2xhc3Nlc1sxXSYmJGRlbGVnYXRlLiQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LGNsYXNzZXNbMV0pfSxjYWNoZS5vcHRpb25zLGRvbmUpOmRvbmUoKX0pKX0sY2FuY2VsOmZ1bmN0aW9uKHByb21pc2Upe3Byb21pc2UuJCRjYW5jZWxGbigpfSxlbmFibGVkOmZ1bmN0aW9uKHZhbHVlLGVsZW1lbnQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDI6aWYodmFsdWUpY2xlYW51cChlbGVtZW50KTtlbHNle3ZhciBkYXRhPWVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFKXx8e307ZGF0YS5kaXNhYmxlZD0hMCxlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSxkYXRhKX1icmVhaztjYXNlIDE6cm9vdEFuaW1hdGVTdGF0ZS5kaXNhYmxlZD0hdmFsdWU7YnJlYWs7ZGVmYXVsdDp2YWx1ZT0hcm9vdEFuaW1hdGVTdGF0ZS5kaXNhYmxlZH1yZXR1cm4hIXZhbHVlfX19XSksJGFuaW1hdGVQcm92aWRlci5yZWdpc3RlcigiIixbIiR3aW5kb3ciLCIkc25pZmZlciIsIiR0aW1lb3V0IiwiJCRhbmltYXRlUmVmbG93IixmdW5jdGlvbigkd2luZG93LCRzbmlmZmVyLCR0aW1lb3V0LCQkYW5pbWF0ZVJlZmxvdyl7ZnVuY3Rpb24gY2xlYXJDYWNoZUFmdGVyUmVmbG93KCl7Y2FuY2VsQW5pbWF0aW9uUmVmbG93fHwoY2FuY2VsQW5pbWF0aW9uUmVmbG93PSQkYW5pbWF0ZVJlZmxvdyhmdW5jdGlvbigpe2FuaW1hdGlvblJlZmxvd1F1ZXVlPVtdLGNhbmNlbEFuaW1hdGlvblJlZmxvdz1udWxsLGxvb2t1cENhY2hlPXt9fSkpfWZ1bmN0aW9uIGFmdGVyUmVmbG93KGVsZW1lbnQsY2FsbGJhY2spe2NhbmNlbEFuaW1hdGlvblJlZmxvdyYmY2FuY2VsQW5pbWF0aW9uUmVmbG93KCksYW5pbWF0aW9uUmVmbG93UXVldWUucHVzaChjYWxsYmFjayksY2FuY2VsQW5pbWF0aW9uUmVmbG93PSQkYW5pbWF0ZVJlZmxvdyhmdW5jdGlvbigpe2ZvckVhY2goYW5pbWF0aW9uUmVmbG93UXVldWUsZnVuY3Rpb24oZm4pe2ZuKCl9KSxhbmltYXRpb25SZWZsb3dRdWV1ZT1bXSxjYW5jZWxBbmltYXRpb25SZWZsb3c9bnVsbCxsb29rdXBDYWNoZT17fX0pfWZ1bmN0aW9uIGFuaW1hdGlvbkNsb3NlSGFuZGxlcihlbGVtZW50LHRvdGFsVGltZSl7dmFyIG5vZGU9ZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpO2VsZW1lbnQ9YW5ndWxhci5lbGVtZW50KG5vZGUpLGFuaW1hdGlvbkVsZW1lbnRRdWV1ZS5wdXNoKGVsZW1lbnQpO3ZhciBmdXR1cmVUaW1lc3RhbXA9RGF0ZS5ub3coKSt0b3RhbFRpbWU7Y2xvc2luZ1RpbWVzdGFtcD49ZnV0dXJlVGltZXN0YW1wfHwoJHRpbWVvdXQuY2FuY2VsKGNsb3NpbmdUaW1lciksY2xvc2luZ1RpbWVzdGFtcD1mdXR1cmVUaW1lc3RhbXAsY2xvc2luZ1RpbWVyPSR0aW1lb3V0KGZ1bmN0aW9uKCl7Y2xvc2VBbGxBbmltYXRpb25zKGFuaW1hdGlvbkVsZW1lbnRRdWV1ZSksYW5pbWF0aW9uRWxlbWVudFF1ZXVlPVtdfSx0b3RhbFRpbWUsITEpKX1mdW5jdGlvbiBjbG9zZUFsbEFuaW1hdGlvbnMoZWxlbWVudHMpe2ZvckVhY2goZWxlbWVudHMsZnVuY3Rpb24oZWxlbWVudCl7dmFyIGVsZW1lbnREYXRhPWVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSk7ZWxlbWVudERhdGEmJmZvckVhY2goZWxlbWVudERhdGEuY2xvc2VBbmltYXRpb25GbnMsZnVuY3Rpb24oZm4pe2ZuKCl9KX0pfWZ1bmN0aW9uIGdldEVsZW1lbnRBbmltYXRpb25EZXRhaWxzKGVsZW1lbnQsY2FjaGVLZXkpe3ZhciBkYXRhPWNhY2hlS2V5P2xvb2t1cENhY2hlW2NhY2hlS2V5XTpudWxsO2lmKCFkYXRhKXt2YXIgdHJhbnNpdGlvbkR1cmF0aW9uPTAsdHJhbnNpdGlvbkRlbGF5PTAsYW5pbWF0aW9uRHVyYXRpb249MCxhbmltYXRpb25EZWxheT0wO2ZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtpZihlbGVtZW50Lm5vZGVUeXBlPT1FTEVNRU5UX05PREUpe3ZhciBlbGVtZW50U3R5bGVzPSR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KXx8e30sdHJhbnNpdGlvbkR1cmF0aW9uU3R5bGU9ZWxlbWVudFN0eWxlc1tUUkFOU0lUSU9OX1BST1ArRFVSQVRJT05fS0VZXTt0cmFuc2l0aW9uRHVyYXRpb249TWF0aC5tYXgocGFyc2VNYXhUaW1lKHRyYW5zaXRpb25EdXJhdGlvblN0eWxlKSx0cmFuc2l0aW9uRHVyYXRpb24pO3ZhciB0cmFuc2l0aW9uRGVsYXlTdHlsZT1lbGVtZW50U3R5bGVzW1RSQU5TSVRJT05fUFJPUCtERUxBWV9LRVldO3RyYW5zaXRpb25EZWxheT1NYXRoLm1heChwYXJzZU1heFRpbWUodHJhbnNpdGlvbkRlbGF5U3R5bGUpLHRyYW5zaXRpb25EZWxheSk7e2VsZW1lbnRTdHlsZXNbQU5JTUFUSU9OX1BST1ArREVMQVlfS0VZXX1hbmltYXRpb25EZWxheT1NYXRoLm1heChwYXJzZU1heFRpbWUoZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCtERUxBWV9LRVldKSxhbmltYXRpb25EZWxheSk7dmFyIGFEdXJhdGlvbj1wYXJzZU1heFRpbWUoZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCtEVVJBVElPTl9LRVldKTthRHVyYXRpb24+MCYmKGFEdXJhdGlvbio9cGFyc2VJbnQoZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCtBTklNQVRJT05fSVRFUkFUSU9OX0NPVU5UX0tFWV0sMTApfHwxKSxhbmltYXRpb25EdXJhdGlvbj1NYXRoLm1heChhRHVyYXRpb24sYW5pbWF0aW9uRHVyYXRpb24pfX0pLGRhdGE9e3RvdGFsOjAsdHJhbnNpdGlvbkRlbGF5OnRyYW5zaXRpb25EZWxheSx0cmFuc2l0aW9uRHVyYXRpb246dHJhbnNpdGlvbkR1cmF0aW9uLGFuaW1hdGlvbkRlbGF5OmFuaW1hdGlvbkRlbGF5LGFuaW1hdGlvbkR1cmF0aW9uOmFuaW1hdGlvbkR1cmF0aW9ufSxjYWNoZUtleSYmKGxvb2t1cENhY2hlW2NhY2hlS2V5XT1kYXRhKX1yZXR1cm4gZGF0YX1mdW5jdGlvbiBwYXJzZU1heFRpbWUoc3RyKXt2YXIgbWF4VmFsdWU9MCx2YWx1ZXM9aXNTdHJpbmcoc3RyKT9zdHIuc3BsaXQoL1xzKixccyovKTpbXTtyZXR1cm4gZm9yRWFjaCh2YWx1ZXMsZnVuY3Rpb24odmFsdWUpe21heFZhbHVlPU1hdGgubWF4KHBhcnNlRmxvYXQodmFsdWUpfHwwLG1heFZhbHVlKX0pLG1heFZhbHVlfWZ1bmN0aW9uIGdldENhY2hlS2V5KGVsZW1lbnQpe3ZhciBwYXJlbnRFbGVtZW50PWVsZW1lbnQucGFyZW50KCkscGFyZW50SUQ9cGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUEFSRU5UX0tFWSk7cmV0dXJuIHBhcmVudElEfHwocGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUEFSRU5UX0tFWSwrK3BhcmVudENvdW50ZXIpLHBhcmVudElEPXBhcmVudENvdW50ZXIpLHBhcmVudElEKyItIitleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCkuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfWZ1bmN0aW9uIGFuaW1hdGVTZXR1cChhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxzdHlsZXMpe3ZhciBzdHJ1Y3R1cmFsPVsibmctZW50ZXIiLCJuZy1sZWF2ZSIsIm5nLW1vdmUiXS5pbmRleE9mKGNsYXNzTmFtZSk+PTAsY2FjaGVLZXk9Z2V0Q2FjaGVLZXkoZWxlbWVudCksZXZlbnRDYWNoZUtleT1jYWNoZUtleSsiICIrY2xhc3NOYW1lLGl0ZW1JbmRleD1sb29rdXBDYWNoZVtldmVudENhY2hlS2V5XT8rK2xvb2t1cENhY2hlW2V2ZW50Q2FjaGVLZXldLnRvdGFsOjAsc3RhZ2dlcj17fTtpZihpdGVtSW5kZXg+MCl7dmFyIHN0YWdnZXJDbGFzc05hbWU9Y2xhc3NOYW1lKyItc3RhZ2dlciIsc3RhZ2dlckNhY2hlS2V5PWNhY2hlS2V5KyIgIitzdGFnZ2VyQ2xhc3NOYW1lLGFwcGx5Q2xhc3Nlcz0hbG9va3VwQ2FjaGVbc3RhZ2dlckNhY2hlS2V5XTthcHBseUNsYXNzZXMmJmVsZW1lbnQuYWRkQ2xhc3Moc3RhZ2dlckNsYXNzTmFtZSksc3RhZ2dlcj1nZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LHN0YWdnZXJDYWNoZUtleSksYXBwbHlDbGFzc2VzJiZlbGVtZW50LnJlbW92ZUNsYXNzKHN0YWdnZXJDbGFzc05hbWUpfWVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTt2YXIgZm9ybWVyRGF0YT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DU1NfREFUQV9LRVkpfHx7fSx0aW1pbmdzPWdldEVsZW1lbnRBbmltYXRpb25EZXRhaWxzKGVsZW1lbnQsZXZlbnRDYWNoZUtleSksdHJhbnNpdGlvbkR1cmF0aW9uPXRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uLGFuaW1hdGlvbkR1cmF0aW9uPXRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb247aWYoc3RydWN0dXJhbCYmMD09PXRyYW5zaXRpb25EdXJhdGlvbiYmMD09PWFuaW1hdGlvbkR1cmF0aW9uKXJldHVybiBlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSksITE7dmFyIGJsb2NrVHJhbnNpdGlvbj1zdHlsZXN8fHN0cnVjdHVyYWwmJnRyYW5zaXRpb25EdXJhdGlvbj4wLGJsb2NrQW5pbWF0aW9uPWFuaW1hdGlvbkR1cmF0aW9uPjAmJnN0YWdnZXIuYW5pbWF0aW9uRGVsYXk+MCYmMD09PXN0YWdnZXIuYW5pbWF0aW9uRHVyYXRpb24sY2xvc2VBbmltYXRpb25GbnM9Zm9ybWVyRGF0YS5jbG9zZUFuaW1hdGlvbkZuc3x8W107ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZLHtzdGFnZ2VyOnN0YWdnZXIsY2FjaGVLZXk6ZXZlbnRDYWNoZUtleSxydW5uaW5nOmZvcm1lckRhdGEucnVubmluZ3x8MCxpdGVtSW5kZXg6aXRlbUluZGV4LGJsb2NrVHJhbnNpdGlvbjpibG9ja1RyYW5zaXRpb24sY2xvc2VBbmltYXRpb25GbnM6Y2xvc2VBbmltYXRpb25GbnN9KTt2YXIgbm9kZT1leHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCk7cmV0dXJuIGJsb2NrVHJhbnNpdGlvbiYmKGJsb2NrVHJhbnNpdGlvbnMobm9kZSwhMCksc3R5bGVzJiZlbGVtZW50LmNzcyhzdHlsZXMpKSxibG9ja0FuaW1hdGlvbiYmYmxvY2tBbmltYXRpb25zKG5vZGUsITApLCEwfWZ1bmN0aW9uIGFuaW1hdGVSdW4oYW5pbWF0aW9uRXZlbnQsZWxlbWVudCxjbGFzc05hbWUsYWN0aXZlQW5pbWF0aW9uQ29tcGxldGUsc3R5bGVzKXtmdW5jdGlvbiBvbkVuZCgpe2VsZW1lbnQub2ZmKGNzczNBbmltYXRpb25FdmVudHMsb25BbmltYXRpb25Qcm9ncmVzcyksZWxlbWVudC5yZW1vdmVDbGFzcyhhY3RpdmVDbGFzc05hbWUpLGVsZW1lbnQucmVtb3ZlQ2xhc3MocGVuZGluZ0NsYXNzTmFtZSksc3RhZ2dlclRpbWVvdXQmJiR0aW1lb3V0LmNhbmNlbChzdGFnZ2VyVGltZW91dCksYW5pbWF0ZUNsb3NlKGVsZW1lbnQsY2xhc3NOYW1lKTt2YXIgbm9kZT1leHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCk7Zm9yKHZhciBpIGluIGFwcGxpZWRTdHlsZXMpbm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShhcHBsaWVkU3R5bGVzW2ldKX1mdW5jdGlvbiBvbkFuaW1hdGlvblByb2dyZXNzKGV2ZW50KXtldmVudC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgZXY9ZXZlbnQub3JpZ2luYWxFdmVudHx8ZXZlbnQsdGltZVN0YW1wPWV2LiRtYW51YWxUaW1lU3RhbXB8fGV2LnRpbWVTdGFtcHx8RGF0ZS5ub3coKSxlbGFwc2VkVGltZT1wYXJzZUZsb2F0KGV2LmVsYXBzZWRUaW1lLnRvRml4ZWQoRUxBUFNFRF9USU1FX01BWF9ERUNJTUFMX1BMQUNFUykpO01hdGgubWF4KHRpbWVTdGFtcC1zdGFydFRpbWUsMCk+PW1heERlbGF5VGltZSYmZWxhcHNlZFRpbWU+PW1heER1cmF0aW9uJiZhY3RpdmVBbmltYXRpb25Db21wbGV0ZSgpfXZhciBub2RlPWV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSxlbGVtZW50RGF0YT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DU1NfREFUQV9LRVkpO2lmKC0xPT1ub2RlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKS5pbmRleE9mKGNsYXNzTmFtZSl8fCFlbGVtZW50RGF0YSlyZXR1cm4gdm9pZCBhY3RpdmVBbmltYXRpb25Db21wbGV0ZSgpO3ZhciBhY3RpdmVDbGFzc05hbWU9IiIscGVuZGluZ0NsYXNzTmFtZT0iIjtmb3JFYWNoKGNsYXNzTmFtZS5zcGxpdCgiICIpLGZ1bmN0aW9uKGtsYXNzLGkpe3ZhciBwcmVmaXg9KGk+MD8iICI6IiIpK2tsYXNzO2FjdGl2ZUNsYXNzTmFtZSs9cHJlZml4KyItYWN0aXZlIixwZW5kaW5nQ2xhc3NOYW1lKz1wcmVmaXgrIi1wZW5kaW5nIn0pO3ZhciBzdHlsZT0iIixhcHBsaWVkU3R5bGVzPVtdLGl0ZW1JbmRleD1lbGVtZW50RGF0YS5pdGVtSW5kZXgsc3RhZ2dlcj1lbGVtZW50RGF0YS5zdGFnZ2VyLHN0YWdnZXJUaW1lPTA7aWYoaXRlbUluZGV4PjApe3ZhciB0cmFuc2l0aW9uU3RhZ2dlckRlbGF5PTA7c3RhZ2dlci50cmFuc2l0aW9uRGVsYXk+MCYmMD09PXN0YWdnZXIudHJhbnNpdGlvbkR1cmF0aW9uJiYodHJhbnNpdGlvblN0YWdnZXJEZWxheT1zdGFnZ2VyLnRyYW5zaXRpb25EZWxheSppdGVtSW5kZXgpO3ZhciBhbmltYXRpb25TdGFnZ2VyRGVsYXk9MDtzdGFnZ2VyLmFuaW1hdGlvbkRlbGF5PjAmJjA9PT1zdGFnZ2VyLmFuaW1hdGlvbkR1cmF0aW9uJiYoYW5pbWF0aW9uU3RhZ2dlckRlbGF5PXN0YWdnZXIuYW5pbWF0aW9uRGVsYXkqaXRlbUluZGV4LGFwcGxpZWRTdHlsZXMucHVzaChDU1NfUFJFRklYKyJhbmltYXRpb24tcGxheS1zdGF0ZSIpKSxzdGFnZ2VyVGltZT1NYXRoLnJvdW5kKDEwMCpNYXRoLm1heCh0cmFuc2l0aW9uU3RhZ2dlckRlbGF5LGFuaW1hdGlvblN0YWdnZXJEZWxheSkpLzEwMH1zdGFnZ2VyVGltZXx8KGVsZW1lbnQuYWRkQ2xhc3MoYWN0aXZlQ2xhc3NOYW1lKSxlbGVtZW50RGF0YS5ibG9ja1RyYW5zaXRpb24mJmJsb2NrVHJhbnNpdGlvbnMobm9kZSwhMSkpO3ZhciBldmVudENhY2hlS2V5PWVsZW1lbnREYXRhLmNhY2hlS2V5KyIgIithY3RpdmVDbGFzc05hbWUsdGltaW5ncz1nZXRFbGVtZW50QW5pbWF0aW9uRGV0YWlscyhlbGVtZW50LGV2ZW50Q2FjaGVLZXkpLG1heER1cmF0aW9uPU1hdGgubWF4KHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uLHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24pO2lmKDA9PT1tYXhEdXJhdGlvbilyZXR1cm4gZWxlbWVudC5yZW1vdmVDbGFzcyhhY3RpdmVDbGFzc05hbWUpLGFuaW1hdGVDbG9zZShlbGVtZW50LGNsYXNzTmFtZSksdm9pZCBhY3RpdmVBbmltYXRpb25Db21wbGV0ZSgpOyFzdGFnZ2VyVGltZSYmc3R5bGVzJiYodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb258fChlbGVtZW50LmNzcygidHJhbnNpdGlvbiIsdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbisicyBsaW5lYXIgYWxsIiksYXBwbGllZFN0eWxlcy5wdXNoKCJ0cmFuc2l0aW9uIikpLGVsZW1lbnQuY3NzKHN0eWxlcykpO3ZhciBtYXhEZWxheT1NYXRoLm1heCh0aW1pbmdzLnRyYW5zaXRpb25EZWxheSx0aW1pbmdzLmFuaW1hdGlvbkRlbGF5KSxtYXhEZWxheVRpbWU9bWF4RGVsYXkqT05FX1NFQ09ORDtpZihhcHBsaWVkU3R5bGVzLmxlbmd0aD4wKXt2YXIgb2xkU3R5bGU9bm9kZS5nZXRBdHRyaWJ1dGUoInN0eWxlIil8fCIiOyI7IiE9PW9sZFN0eWxlLmNoYXJBdChvbGRTdHlsZS5sZW5ndGgtMSkmJihvbGRTdHlsZSs9IjsiKSxub2RlLnNldEF0dHJpYnV0ZSgic3R5bGUiLG9sZFN0eWxlKyIgIitzdHlsZSl9dmFyIHN0YWdnZXJUaW1lb3V0LHN0YXJ0VGltZT1EYXRlLm5vdygpLGNzczNBbmltYXRpb25FdmVudHM9QU5JTUFUSU9ORU5EX0VWRU5UKyIgIitUUkFOU0lUSU9ORU5EX0VWRU5ULGFuaW1hdGlvblRpbWU9KG1heERlbGF5K21heER1cmF0aW9uKSpDTE9TSU5HX1RJTUVfQlVGRkVSLHRvdGFsVGltZT0oc3RhZ2dlclRpbWUrYW5pbWF0aW9uVGltZSkqT05FX1NFQ09ORDtyZXR1cm4gc3RhZ2dlclRpbWU+MCYmKGVsZW1lbnQuYWRkQ2xhc3MocGVuZGluZ0NsYXNzTmFtZSksc3RhZ2dlclRpbWVvdXQ9JHRpbWVvdXQoZnVuY3Rpb24oKXtzdGFnZ2VyVGltZW91dD1udWxsLHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uPjAmJmJsb2NrVHJhbnNpdGlvbnMobm9kZSwhMSksdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbj4wJiZibG9ja0FuaW1hdGlvbnMobm9kZSwhMSksZWxlbWVudC5hZGRDbGFzcyhhY3RpdmVDbGFzc05hbWUpLGVsZW1lbnQucmVtb3ZlQ2xhc3MocGVuZGluZ0NsYXNzTmFtZSksc3R5bGVzJiYoMD09PXRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uJiZlbGVtZW50LmNzcygidHJhbnNpdGlvbiIsdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbisicyBsaW5lYXIgYWxsIiksZWxlbWVudC5jc3Moc3R5bGVzKSxhcHBsaWVkU3R5bGVzLnB1c2goInRyYW5zaXRpb24iKSl9LHN0YWdnZXJUaW1lKk9ORV9TRUNPTkQsITEpKSxlbGVtZW50Lm9uKGNzczNBbmltYXRpb25FdmVudHMsb25BbmltYXRpb25Qcm9ncmVzcyksZWxlbWVudERhdGEuY2xvc2VBbmltYXRpb25GbnMucHVzaChmdW5jdGlvbigpe29uRW5kKCksYWN0aXZlQW5pbWF0aW9uQ29tcGxldGUoKX0pLGVsZW1lbnREYXRhLnJ1bm5pbmcrKyxhbmltYXRpb25DbG9zZUhhbmRsZXIoZWxlbWVudCx0b3RhbFRpbWUpLG9uRW5kfWZ1bmN0aW9uIGJsb2NrVHJhbnNpdGlvbnMobm9kZSxib29sKXtub2RlLnN0eWxlW1RSQU5TSVRJT05fUFJPUCtQUk9QRVJUWV9LRVldPWJvb2w/Im5vbmUiOiIifWZ1bmN0aW9uIGJsb2NrQW5pbWF0aW9ucyhub2RlLGJvb2wpe25vZGUuc3R5bGVbQU5JTUFUSU9OX1BST1ArQU5JTUFUSU9OX1BMQVlTVEFURV9LRVldPWJvb2w/InBhdXNlZCI6IiJ9ZnVuY3Rpb24gYW5pbWF0ZUJlZm9yZShhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxzdHlsZXMpe3JldHVybiBhbmltYXRlU2V0dXAoYW5pbWF0aW9uRXZlbnQsZWxlbWVudCxjbGFzc05hbWUsc3R5bGVzKT9mdW5jdGlvbihjYW5jZWxsZWQpe2NhbmNlbGxlZCYmYW5pbWF0ZUNsb3NlKGVsZW1lbnQsY2xhc3NOYW1lKX06dm9pZCAwfWZ1bmN0aW9uIGFuaW1hdGVBZnRlcihhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxhZnRlckFuaW1hdGlvbkNvbXBsZXRlLHN0eWxlcyl7cmV0dXJuIGVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSk/YW5pbWF0ZVJ1bihhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxhZnRlckFuaW1hdGlvbkNvbXBsZXRlLHN0eWxlcyk6KGFuaW1hdGVDbG9zZShlbGVtZW50LGNsYXNzTmFtZSksdm9pZCBhZnRlckFuaW1hdGlvbkNvbXBsZXRlKCkpfWZ1bmN0aW9uIGFuaW1hdGUoYW5pbWF0aW9uRXZlbnQsZWxlbWVudCxjbGFzc05hbWUsYW5pbWF0aW9uQ29tcGxldGUsb3B0aW9ucyl7dmFyIHByZVJlZmxvd0NhbmNlbGxhdGlvbj1hbmltYXRlQmVmb3JlKGFuaW1hdGlvbkV2ZW50LGVsZW1lbnQsY2xhc3NOYW1lLG9wdGlvbnMuZnJvbSk7aWYoIXByZVJlZmxvd0NhbmNlbGxhdGlvbilyZXR1cm4gY2xlYXJDYWNoZUFmdGVyUmVmbG93KCksdm9pZCBhbmltYXRpb25Db21wbGV0ZSgpO3ZhciBjYW5jZWw9cHJlUmVmbG93Q2FuY2VsbGF0aW9uO3JldHVybiBhZnRlclJlZmxvdyhlbGVtZW50LGZ1bmN0aW9uKCl7Y2FuY2VsPWFuaW1hdGVBZnRlcihhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxhbmltYXRpb25Db21wbGV0ZSxvcHRpb25zLnRvKX0pLGZ1bmN0aW9uKGNhbmNlbGxlZCl7KGNhbmNlbHx8bm9vcCkoY2FuY2VsbGVkKX19ZnVuY3Rpb24gYW5pbWF0ZUNsb3NlKGVsZW1lbnQsY2xhc3NOYW1lKXtlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKTtkYXRhJiYoZGF0YS5ydW5uaW5nJiZkYXRhLnJ1bm5pbmctLSxkYXRhLnJ1bm5pbmcmJjAhPT1kYXRhLnJ1bm5pbmd8fGVsZW1lbnQucmVtb3ZlRGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSkpfWZ1bmN0aW9uIHN1ZmZpeENsYXNzZXMoY2xhc3NlcyxzdWZmaXgpe3ZhciBjbGFzc05hbWU9IiI7cmV0dXJuIGNsYXNzZXM9aXNBcnJheShjbGFzc2VzKT9jbGFzc2VzOmNsYXNzZXMuc3BsaXQoL1xzKy8pLGZvckVhY2goY2xhc3NlcyxmdW5jdGlvbihrbGFzcyxpKXtrbGFzcyYma2xhc3MubGVuZ3RoPjAmJihjbGFzc05hbWUrPShpPjA/IiAiOiIiKStrbGFzcytzdWZmaXgpfSksY2xhc3NOYW1lfXZhciBUUkFOU0lUSU9OX1BST1AsVFJBTlNJVElPTkVORF9FVkVOVCxBTklNQVRJT05fUFJPUCxBTklNQVRJT05FTkRfRVZFTlQsQ1NTX1BSRUZJWD0iIjt3aW5kb3cub250cmFuc2l0aW9uZW5kPT09dW5kZWZpbmVkJiZ3aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kIT09dW5kZWZpbmVkPyhDU1NfUFJFRklYPSItd2Via2l0LSIsVFJBTlNJVElPTl9QUk9QPSJXZWJraXRUcmFuc2l0aW9uIixUUkFOU0lUSU9ORU5EX0VWRU5UPSJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQiKTooVFJBTlNJVElPTl9QUk9QPSJ0cmFuc2l0aW9uIixUUkFOU0lUSU9ORU5EX0VWRU5UPSJ0cmFuc2l0aW9uZW5kIiksd2luZG93Lm9uYW5pbWF0aW9uZW5kPT09dW5kZWZpbmVkJiZ3aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQhPT11bmRlZmluZWQ/KENTU19QUkVGSVg9Ii13ZWJraXQtIixBTklNQVRJT05fUFJPUD0iV2Via2l0QW5pbWF0aW9uIixBTklNQVRJT05FTkRfRVZFTlQ9IndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiKTooQU5JTUFUSU9OX1BST1A9ImFuaW1hdGlvbiIsQU5JTUFUSU9ORU5EX0VWRU5UPSJhbmltYXRpb25lbmQiKTt2YXIgY2FuY2VsQW5pbWF0aW9uUmVmbG93LERVUkFUSU9OX0tFWT0iRHVyYXRpb24iLFBST1BFUlRZX0tFWT0iUHJvcGVydHkiLERFTEFZX0tFWT0iRGVsYXkiLEFOSU1BVElPTl9JVEVSQVRJT05fQ09VTlRfS0VZPSJJdGVyYXRpb25Db3VudCIsQU5JTUFUSU9OX1BMQVlTVEFURV9LRVk9IlBsYXlTdGF0ZSIsTkdfQU5JTUFURV9QQVJFTlRfS0VZPSIkJG5nQW5pbWF0ZUtleSIsTkdfQU5JTUFURV9DU1NfREFUQV9LRVk9IiQkbmdBbmltYXRlQ1NTM0RhdGEiLEVMQVBTRURfVElNRV9NQVhfREVDSU1BTF9QTEFDRVM9MyxDTE9TSU5HX1RJTUVfQlVGRkVSPTEuNSxPTkVfU0VDT05EPTFlMyxsb29rdXBDYWNoZT17fSxwYXJlbnRDb3VudGVyPTAsYW5pbWF0aW9uUmVmbG93UXVldWU9W10sY2xvc2luZ1RpbWVyPW51bGwsY2xvc2luZ1RpbWVzdGFtcD0wLGFuaW1hdGlvbkVsZW1lbnRRdWV1ZT1bXTtyZXR1cm57YW5pbWF0ZTpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxmcm9tLHRvLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKXtyZXR1cm4gb3B0aW9ucz1vcHRpb25zfHx7fSxvcHRpb25zLmZyb209ZnJvbSxvcHRpb25zLnRvPXRvLGFuaW1hdGUoImFuaW1hdGUiLGVsZW1lbnQsY2xhc3NOYW1lLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKX0sZW50ZXI6ZnVuY3Rpb24oZWxlbWVudCxhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucyl7cmV0dXJuIG9wdGlvbnM9b3B0aW9uc3x8e30sYW5pbWF0ZSgiZW50ZXIiLGVsZW1lbnQsIm5nLWVudGVyIixhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucyl9LGxlYXZlOmZ1bmN0aW9uKGVsZW1lbnQsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe3JldHVybiBvcHRpb25zPW9wdGlvbnN8fHt9LGFuaW1hdGUoImxlYXZlIixlbGVtZW50LCJuZy1sZWF2ZSIsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpfSxtb3ZlOmZ1bmN0aW9uKGVsZW1lbnQsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe3JldHVybiBvcHRpb25zPW9wdGlvbnN8fHt9LGFuaW1hdGUoIm1vdmUiLGVsZW1lbnQsIm5nLW1vdmUiLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKX0sYmVmb3JlU2V0Q2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxhZGQscmVtb3ZlLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBjbGFzc05hbWU9c3VmZml4Q2xhc3NlcyhyZW1vdmUsIi1yZW1vdmUiKSsiICIrc3VmZml4Q2xhc3NlcyhhZGQsIi1hZGQiKSxjYW5jZWxsYXRpb25NZXRob2Q9YW5pbWF0ZUJlZm9yZSgic2V0Q2xhc3MiLGVsZW1lbnQsY2xhc3NOYW1lLG9wdGlvbnMuZnJvbSk7cmV0dXJuIGNhbmNlbGxhdGlvbk1ldGhvZD8oYWZ0ZXJSZWZsb3coZWxlbWVudCxhbmltYXRpb25Db21wbGV0ZWQpLGNhbmNlbGxhdGlvbk1ldGhvZCk6KGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpLHZvaWQgYW5pbWF0aW9uQ29tcGxldGVkKCkpfSxiZWZvcmVBZGRDbGFzczpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTt2YXIgY2FuY2VsbGF0aW9uTWV0aG9kPWFuaW1hdGVCZWZvcmUoImFkZENsYXNzIixlbGVtZW50LHN1ZmZpeENsYXNzZXMoY2xhc3NOYW1lLCItYWRkIiksb3B0aW9ucy5mcm9tKTtyZXR1cm4gY2FuY2VsbGF0aW9uTWV0aG9kPyhhZnRlclJlZmxvdyhlbGVtZW50LGFuaW1hdGlvbkNvbXBsZXRlZCksY2FuY2VsbGF0aW9uTWV0aG9kKTooY2xlYXJDYWNoZUFmdGVyUmVmbG93KCksdm9pZCBhbmltYXRpb25Db21wbGV0ZWQoKSl9LGJlZm9yZVJlbW92ZUNsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBjYW5jZWxsYXRpb25NZXRob2Q9YW5pbWF0ZUJlZm9yZSgicmVtb3ZlQ2xhc3MiLGVsZW1lbnQsc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsIi1yZW1vdmUiKSxvcHRpb25zLmZyb20pO3JldHVybiBjYW5jZWxsYXRpb25NZXRob2Q/KGFmdGVyUmVmbG93KGVsZW1lbnQsYW5pbWF0aW9uQ29tcGxldGVkKSxjYW5jZWxsYXRpb25NZXRob2QpOihjbGVhckNhY2hlQWZ0ZXJSZWZsb3coKSx2b2lkIGFuaW1hdGlvbkNvbXBsZXRlZCgpKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxhZGQscmVtb3ZlLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9LHJlbW92ZT1zdWZmaXhDbGFzc2VzKHJlbW92ZSwiLXJlbW92ZSIpLGFkZD1zdWZmaXhDbGFzc2VzKGFkZCwiLWFkZCIpO3ZhciBjbGFzc05hbWU9cmVtb3ZlKyIgIithZGQ7cmV0dXJuIGFuaW1hdGVBZnRlcigic2V0Q2xhc3MiLGVsZW1lbnQsY2xhc3NOYW1lLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zLnRvKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe3JldHVybiBvcHRpb25zPW9wdGlvbnN8fHt9LGFuaW1hdGVBZnRlcigiYWRkQ2xhc3MiLGVsZW1lbnQsc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsIi1hZGQiKSxhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucy50byl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKXtyZXR1cm4gb3B0aW9ucz1vcHRpb25zfHx7fSxhbmltYXRlQWZ0ZXIoInJlbW92ZUNsYXNzIixlbGVtZW50LHN1ZmZpeENsYXNzZXMoY2xhc3NOYW1lLCItcmVtb3ZlIiksYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMudG8pfX19XSl9XSl9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlbmRvci5taW4uanMubWFw",
                "body": "aWYoZnVuY3Rpb24oZ2xvYmFsLGZhY3RvcnkpeyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWdsb2JhbC5kb2N1bWVudD9mYWN0b3J5KGdsb2JhbCwhMCk6ZnVuY3Rpb24odyl7aWYoIXcuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIGZhY3Rvcnkodyl9OmZhY3RvcnkoZ2xvYmFsKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24od2luZG93LG5vR2xvYmFsKXtmdW5jdGlvbiBpc0FycmF5bGlrZShvYmope3ZhciBsZW5ndGg9b2JqLmxlbmd0aCx0eXBlPWpRdWVyeS50eXBlKG9iaik7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGV8fGpRdWVyeS5pc1dpbmRvdyhvYmopPyExOjE9PT1vYmoubm9kZVR5cGUmJmxlbmd0aD8hMDoiYXJyYXkiPT09dHlwZXx8MD09PWxlbmd0aHx8Im51bWJlciI9PXR5cGVvZiBsZW5ndGgmJmxlbmd0aD4wJiZsZW5ndGgtMSBpbiBvYmp9ZnVuY3Rpb24gd2lubm93KGVsZW1lbnRzLHF1YWxpZmllcixub3Qpe2lmKGpRdWVyeS5pc0Z1bmN0aW9uKHF1YWxpZmllcikpcmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW0saSl7cmV0dXJuISFxdWFsaWZpZXIuY2FsbChlbGVtLGksZWxlbSkhPT1ub3R9KTtpZihxdWFsaWZpZXIubm9kZVR5cGUpcmV0dXJuIGpRdWVyeS5ncmVwKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtPT09cXVhbGlmaWVyIT09bm90fSk7aWYoInN0cmluZyI9PXR5cGVvZiBxdWFsaWZpZXIpe2lmKHJpc1NpbXBsZS50ZXN0KHF1YWxpZmllcikpcmV0dXJuIGpRdWVyeS5maWx0ZXIocXVhbGlmaWVyLGVsZW1lbnRzLG5vdCk7cXVhbGlmaWVyPWpRdWVyeS5maWx0ZXIocXVhbGlmaWVyLGVsZW1lbnRzKX1yZXR1cm4galF1ZXJ5LmdyZXAoZWxlbWVudHMsZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGluZGV4T2YuY2FsbChxdWFsaWZpZXIsZWxlbSk+PTAhPT1ub3R9KX1mdW5jdGlvbiBzaWJsaW5nKGN1cixkaXIpe2Zvcig7KGN1cj1jdXJbZGlyXSkmJjEhPT1jdXIubm9kZVR5cGU7KTtyZXR1cm4gY3VyfWZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMob3B0aW9ucyl7dmFyIG9iamVjdD1vcHRpb25zQ2FjaGVbb3B0aW9uc109e307cmV0dXJuIGpRdWVyeS5lYWNoKG9wdGlvbnMubWF0Y2gocm5vdHdoaXRlKXx8W10sZnVuY3Rpb24oXyxmbGFnKXtvYmplY3RbZmxhZ109ITB9KSxvYmplY3R9ZnVuY3Rpb24gY29tcGxldGVkKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsY29tcGxldGVkLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsY29tcGxldGVkLCExKSxqUXVlcnkucmVhZHkoKX1mdW5jdGlvbiBEYXRhKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuY2FjaGU9e30sMCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue319fSksdGhpcy5leHBhbmRvPWpRdWVyeS5leHBhbmRvK01hdGgucmFuZG9tKCl9ZnVuY3Rpb24gZGF0YUF0dHIoZWxlbSxrZXksZGF0YSl7dmFyIG5hbWU7aWYodm9pZCAwPT09ZGF0YSYmMT09PWVsZW0ubm9kZVR5cGUpaWYobmFtZT0iZGF0YS0iK2tleS5yZXBsYWNlKHJtdWx0aURhc2gsIi0kMSIpLnRvTG93ZXJDYXNlKCksZGF0YT1lbGVtLmdldEF0dHJpYnV0ZShuYW1lKSwic3RyaW5nIj09dHlwZW9mIGRhdGEpe3RyeXtkYXRhPSJ0cnVlIj09PWRhdGE/ITA6ImZhbHNlIj09PWRhdGE/ITE6Im51bGwiPT09ZGF0YT9udWxsOitkYXRhKyIiPT09ZGF0YT8rZGF0YTpyYnJhY2UudGVzdChkYXRhKT9qUXVlcnkucGFyc2VKU09OKGRhdGEpOmRhdGF9Y2F0Y2goZSl7fWRhdGFfdXNlci5zZXQoZWxlbSxrZXksZGF0YSl9ZWxzZSBkYXRhPXZvaWQgMDtyZXR1cm4gZGF0YX1mdW5jdGlvbiByZXR1cm5UcnVlKCl7cmV0dXJuITB9ZnVuY3Rpb24gcmV0dXJuRmFsc2UoKXtyZXR1cm4hMX1mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpe3RyeXtyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChlcnIpe319ZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KGVsZW0sY29udGVudCl7cmV0dXJuIGpRdWVyeS5ub2RlTmFtZShlbGVtLCJ0YWJsZSIpJiZqUXVlcnkubm9kZU5hbWUoMTEhPT1jb250ZW50Lm5vZGVUeXBlP2NvbnRlbnQ6Y29udGVudC5maXJzdENoaWxkLCJ0ciIpP2VsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGVsZW0uYXBwZW5kQ2hpbGQoZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmVsZW19ZnVuY3Rpb24gZGlzYWJsZVNjcmlwdChlbGVtKXtyZXR1cm4gZWxlbS50eXBlPShudWxsIT09ZWxlbS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2VsZW0udHlwZSxlbGVtfWZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoZWxlbSl7dmFyIG1hdGNoPXJzY3JpcHRUeXBlTWFza2VkLmV4ZWMoZWxlbS50eXBlKTtyZXR1cm4gbWF0Y2g/ZWxlbS50eXBlPW1hdGNoWzFdOmVsZW0ucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZWxlbX1mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKGVsZW1zLHJlZkVsZW1lbnRzKXtmb3IodmFyIGk9MCxsPWVsZW1zLmxlbmd0aDtsPmk7aSsrKWRhdGFfcHJpdi5zZXQoZWxlbXNbaV0sImdsb2JhbEV2YWwiLCFyZWZFbGVtZW50c3x8ZGF0YV9wcml2LmdldChyZWZFbGVtZW50c1tpXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiBjbG9uZUNvcHlFdmVudChzcmMsZGVzdCl7dmFyIGksbCx0eXBlLHBkYXRhT2xkLHBkYXRhQ3VyLHVkYXRhT2xkLHVkYXRhQ3VyLGV2ZW50cztpZigxPT09ZGVzdC5ub2RlVHlwZSl7aWYoZGF0YV9wcml2Lmhhc0RhdGEoc3JjKSYmKHBkYXRhT2xkPWRhdGFfcHJpdi5hY2Nlc3Moc3JjKSxwZGF0YUN1cj1kYXRhX3ByaXYuc2V0KGRlc3QscGRhdGFPbGQpLGV2ZW50cz1wZGF0YU9sZC5ldmVudHMpKXtkZWxldGUgcGRhdGFDdXIuaGFuZGxlLHBkYXRhQ3VyLmV2ZW50cz17fTtmb3IodHlwZSBpbiBldmVudHMpZm9yKGk9MCxsPWV2ZW50c1t0eXBlXS5sZW5ndGg7bD5pO2krKylqUXVlcnkuZXZlbnQuYWRkKGRlc3QsdHlwZSxldmVudHNbdHlwZV1baV0pfWRhdGFfdXNlci5oYXNEYXRhKHNyYykmJih1ZGF0YU9sZD1kYXRhX3VzZXIuYWNjZXNzKHNyYyksdWRhdGFDdXI9alF1ZXJ5LmV4dGVuZCh7fSx1ZGF0YU9sZCksZGF0YV91c2VyLnNldChkZXN0LHVkYXRhQ3VyKSl9fWZ1bmN0aW9uIGdldEFsbChjb250ZXh0LHRhZyl7dmFyIHJldD1jb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lP2NvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnfHwiKiIpOmNvbnRleHQucXVlcnlTZWxlY3RvckFsbD9jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwodGFnfHwiKiIpOltdO3JldHVybiB2b2lkIDA9PT10YWd8fHRhZyYmalF1ZXJ5Lm5vZGVOYW1lKGNvbnRleHQsdGFnKT9qUXVlcnkubWVyZ2UoW2NvbnRleHRdLHJldCk6cmV0fWZ1bmN0aW9uIGZpeElucHV0KHNyYyxkZXN0KXt2YXIgbm9kZU5hbWU9ZGVzdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOyJpbnB1dCI9PT1ub2RlTmFtZSYmcmNoZWNrYWJsZVR5cGUudGVzdChzcmMudHlwZSk/ZGVzdC5jaGVja2VkPXNyYy5jaGVja2VkOigiaW5wdXQiPT09bm9kZU5hbWV8fCJ0ZXh0YXJlYSI9PT1ub2RlTmFtZSkmJihkZXN0LmRlZmF1bHRWYWx1ZT1zcmMuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiBhY3R1YWxEaXNwbGF5KG5hbWUsZG9jKXt2YXIgc3R5bGUsZWxlbT1qUXVlcnkoZG9jLmNyZWF0ZUVsZW1lbnQobmFtZSkpLmFwcGVuZFRvKGRvYy5ib2R5KSxkaXNwbGF5PXdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSYmKHN0eWxlPXdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShlbGVtWzBdKSk/c3R5bGUuZGlzcGxheTpqUXVlcnkuY3NzKGVsZW1bMF0sImRpc3BsYXkiKTtyZXR1cm4gZWxlbS5kZXRhY2goKSxkaXNwbGF5fWZ1bmN0aW9uIGRlZmF1bHREaXNwbGF5KG5vZGVOYW1lKXt2YXIgZG9jPWRvY3VtZW50LGRpc3BsYXk9ZWxlbWRpc3BsYXlbbm9kZU5hbWVdO3JldHVybiBkaXNwbGF5fHwoZGlzcGxheT1hY3R1YWxEaXNwbGF5KG5vZGVOYW1lLGRvYyksIm5vbmUiIT09ZGlzcGxheSYmZGlzcGxheXx8KGlmcmFtZT0oaWZyYW1lfHxqUXVlcnkoIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz4iKSkuYXBwZW5kVG8oZG9jLmRvY3VtZW50RWxlbWVudCksZG9jPWlmcmFtZVswXS5jb250ZW50RG9jdW1lbnQsZG9jLndyaXRlKCksZG9jLmNsb3NlKCksZGlzcGxheT1hY3R1YWxEaXNwbGF5KG5vZGVOYW1lLGRvYyksaWZyYW1lLmRldGFjaCgpKSxlbGVtZGlzcGxheVtub2RlTmFtZV09ZGlzcGxheSksZGlzcGxheX1mdW5jdGlvbiBjdXJDU1MoZWxlbSxuYW1lLGNvbXB1dGVkKXt2YXIgd2lkdGgsbWluV2lkdGgsbWF4V2lkdGgscmV0LHN0eWxlPWVsZW0uc3R5bGU7cmV0dXJuIGNvbXB1dGVkPWNvbXB1dGVkfHxnZXRTdHlsZXMoZWxlbSksY29tcHV0ZWQmJihyZXQ9Y29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKXx8Y29tcHV0ZWRbbmFtZV0pLGNvbXB1dGVkJiYoIiIhPT1yZXR8fGpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsZWxlbSl8fChyZXQ9alF1ZXJ5LnN0eWxlKGVsZW0sbmFtZSkpLHJudW1ub25weC50ZXN0KHJldCkmJnJtYXJnaW4udGVzdChuYW1lKSYmKHdpZHRoPXN0eWxlLndpZHRoLG1pbldpZHRoPXN0eWxlLm1pbldpZHRoLG1heFdpZHRoPXN0eWxlLm1heFdpZHRoLHN0eWxlLm1pbldpZHRoPXN0eWxlLm1heFdpZHRoPXN0eWxlLndpZHRoPXJldCxyZXQ9Y29tcHV0ZWQud2lkdGgsc3R5bGUud2lkdGg9d2lkdGgsc3R5bGUubWluV2lkdGg9bWluV2lkdGgsc3R5bGUubWF4V2lkdGg9bWF4V2lkdGgpKSx2b2lkIDAhPT1yZXQ/cmV0KyIiOnJldH1mdW5jdGlvbiBhZGRHZXRIb29rSWYoY29uZGl0aW9uRm4saG9va0ZuKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbmRpdGlvbkZuKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PWhvb2tGbikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19ZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoc3R5bGUsbmFtZSl7aWYobmFtZSBpbiBzdHlsZSlyZXR1cm4gbmFtZTtmb3IodmFyIGNhcE5hbWU9bmFtZVswXS50b1VwcGVyQ2FzZSgpK25hbWUuc2xpY2UoMSksb3JpZ05hbWU9bmFtZSxpPWNzc1ByZWZpeGVzLmxlbmd0aDtpLS07KWlmKG5hbWU9Y3NzUHJlZml4ZXNbaV0rY2FwTmFtZSxuYW1lIGluIHN0eWxlKXJldHVybiBuYW1lO3JldHVybiBvcmlnTmFtZX1mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlcihlbGVtLHZhbHVlLHN1YnRyYWN0KXt2YXIgbWF0Y2hlcz1ybnVtc3BsaXQuZXhlYyh2YWx1ZSk7cmV0dXJuIG1hdGNoZXM/TWF0aC5tYXgoMCxtYXRjaGVzWzFdLShzdWJ0cmFjdHx8MCkpKyhtYXRjaGVzWzJdfHwicHgiKTp2YWx1ZX1mdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodChlbGVtLG5hbWUsZXh0cmEsaXNCb3JkZXJCb3gsc3R5bGVzKXtmb3IodmFyIGk9ZXh0cmE9PT0oaXNCb3JkZXJCb3g/ImJvcmRlciI6ImNvbnRlbnQiKT80OiJ3aWR0aCI9PT1uYW1lPzE6MCx2YWw9MDs0Pmk7aSs9MikibWFyZ2luIj09PWV4dHJhJiYodmFsKz1qUXVlcnkuY3NzKGVsZW0sZXh0cmErY3NzRXhwYW5kW2ldLCEwLHN0eWxlcykpLGlzQm9yZGVyQm94PygiY29udGVudCI9PT1leHRyYSYmKHZhbC09alF1ZXJ5LmNzcyhlbGVtLCJwYWRkaW5nIitjc3NFeHBhbmRbaV0sITAsc3R5bGVzKSksIm1hcmdpbiIhPT1leHRyYSYmKHZhbC09alF1ZXJ5LmNzcyhlbGVtLCJib3JkZXIiK2Nzc0V4cGFuZFtpXSsiV2lkdGgiLCEwLHN0eWxlcykpKToodmFsKz1qUXVlcnkuY3NzKGVsZW0sInBhZGRpbmciK2Nzc0V4cGFuZFtpXSwhMCxzdHlsZXMpLCJwYWRkaW5nIiE9PWV4dHJhJiYodmFsKz1qUXVlcnkuY3NzKGVsZW0sImJvcmRlciIrY3NzRXhwYW5kW2ldKyJXaWR0aCIsITAsc3R5bGVzKSkpO3JldHVybiB2YWx9ZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodChlbGVtLG5hbWUsZXh0cmEpe3ZhciB2YWx1ZUlzQm9yZGVyQm94PSEwLHZhbD0id2lkdGgiPT09bmFtZT9lbGVtLm9mZnNldFdpZHRoOmVsZW0ub2Zmc2V0SGVpZ2h0LHN0eWxlcz1nZXRTdHlsZXMoZWxlbSksaXNCb3JkZXJCb3g9ImJvcmRlci1ib3giPT09alF1ZXJ5LmNzcyhlbGVtLCJib3hTaXppbmciLCExLHN0eWxlcyk7aWYoMD49dmFsfHxudWxsPT12YWwpe2lmKHZhbD1jdXJDU1MoZWxlbSxuYW1lLHN0eWxlcyksKDA+dmFsfHxudWxsPT12YWwpJiYodmFsPWVsZW0uc3R5bGVbbmFtZV0pLHJudW1ub25weC50ZXN0KHZhbCkpcmV0dXJuIHZhbDt2YWx1ZUlzQm9yZGVyQm94PWlzQm9yZGVyQm94JiYoc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpfHx2YWw9PT1lbGVtLnN0eWxlW25hbWVdKSx2YWw9cGFyc2VGbG9hdCh2YWwpfHwwfXJldHVybiB2YWwrYXVnbWVudFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhfHwoaXNCb3JkZXJCb3g/ImJvcmRlciI6ImNvbnRlbnQiKSx2YWx1ZUlzQm9yZGVyQm94LHN0eWxlcykrInB4In1mdW5jdGlvbiBzaG93SGlkZShlbGVtZW50cyxzaG93KXtmb3IodmFyIGRpc3BsYXksZWxlbSxoaWRkZW4sdmFsdWVzPVtdLGluZGV4PTAsbGVuZ3RoPWVsZW1lbnRzLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKyllbGVtPWVsZW1lbnRzW2luZGV4XSxlbGVtLnN0eWxlJiYodmFsdWVzW2luZGV4XT1kYXRhX3ByaXYuZ2V0KGVsZW0sIm9sZGRpc3BsYXkiKSxkaXNwbGF5PWVsZW0uc3R5bGUuZGlzcGxheSxzaG93Pyh2YWx1ZXNbaW5kZXhdfHwibm9uZSIhPT1kaXNwbGF5fHwoZWxlbS5zdHlsZS5kaXNwbGF5PSIiKSwiIj09PWVsZW0uc3R5bGUuZGlzcGxheSYmaXNIaWRkZW4oZWxlbSkmJih2YWx1ZXNbaW5kZXhdPWRhdGFfcHJpdi5hY2Nlc3MoZWxlbSwib2xkZGlzcGxheSIsZGVmYXVsdERpc3BsYXkoZWxlbS5ub2RlTmFtZSkpKSk6KGhpZGRlbj1pc0hpZGRlbihlbGVtKSwibm9uZSI9PT1kaXNwbGF5JiZoaWRkZW58fGRhdGFfcHJpdi5zZXQoZWxlbSwib2xkZGlzcGxheSIsaGlkZGVuP2Rpc3BsYXk6alF1ZXJ5LmNzcyhlbGVtLCJkaXNwbGF5IikpKSk7Zm9yKGluZGV4PTA7bGVuZ3RoPmluZGV4O2luZGV4KyspZWxlbT1lbGVtZW50c1tpbmRleF0sZWxlbS5zdHlsZSYmKHNob3cmJiJub25lIiE9PWVsZW0uc3R5bGUuZGlzcGxheSYmIiIhPT1lbGVtLnN0eWxlLmRpc3BsYXl8fChlbGVtLnN0eWxlLmRpc3BsYXk9c2hvdz92YWx1ZXNbaW5kZXhdfHwiIjoibm9uZSIpKTtyZXR1cm4gZWxlbWVudHN9ZnVuY3Rpb24gVHdlZW4oZWxlbSxvcHRpb25zLHByb3AsZW5kLGVhc2luZyl7cmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdChlbGVtLG9wdGlvbnMscHJvcCxlbmQsZWFzaW5nKX1mdW5jdGlvbiBjcmVhdGVGeE5vdygpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZnhOb3c9dm9pZCAwfSksZnhOb3c9alF1ZXJ5Lm5vdygpfWZ1bmN0aW9uIGdlbkZ4KHR5cGUsaW5jbHVkZVdpZHRoKXt2YXIgd2hpY2gsaT0wLGF0dHJzPXtoZWlnaHQ6dHlwZX07Zm9yKGluY2x1ZGVXaWR0aD1pbmNsdWRlV2lkdGg/MTowOzQ+aTtpKz0yLWluY2x1ZGVXaWR0aCl3aGljaD1jc3NFeHBhbmRbaV0sYXR0cnNbIm1hcmdpbiIrd2hpY2hdPWF0dHJzWyJwYWRkaW5nIit3aGljaF09dHlwZTtyZXR1cm4gaW5jbHVkZVdpZHRoJiYoYXR0cnMub3BhY2l0eT1hdHRycy53aWR0aD10eXBlKSxhdHRyc31mdW5jdGlvbiBjcmVhdGVUd2Vlbih2YWx1ZSxwcm9wLGFuaW1hdGlvbil7Zm9yKHZhciB0d2Vlbixjb2xsZWN0aW9uPSh0d2VlbmVyc1twcm9wXXx8W10pLmNvbmNhdCh0d2VlbmVyc1siKiJdKSxpbmRleD0wLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKylpZih0d2Vlbj1jb2xsZWN0aW9uW2luZGV4XS5jYWxsKGFuaW1hdGlvbixwcm9wLHZhbHVlKSlyZXR1cm4gdHdlZW59ZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlcihlbGVtLHByb3BzLG9wdHMpe3ZhciBwcm9wLHZhbHVlLHRvZ2dsZSx0d2Vlbixob29rcyxvbGRmaXJlLGRpc3BsYXksY2hlY2tEaXNwbGF5LGFuaW09dGhpcyxvcmlnPXt9LHN0eWxlPWVsZW0uc3R5bGUsaGlkZGVuPWVsZW0ubm9kZVR5cGUmJmlzSGlkZGVuKGVsZW0pLGRhdGFTaG93PWRhdGFfcHJpdi5nZXQoZWxlbSwiZnhzaG93Iik7b3B0cy5xdWV1ZXx8KGhvb2tzPWpRdWVyeS5fcXVldWVIb29rcyhlbGVtLCJmeCIpLG51bGw9PWhvb2tzLnVucXVldWVkJiYoaG9va3MudW5xdWV1ZWQ9MCxvbGRmaXJlPWhvb2tzLmVtcHR5LmZpcmUsaG9va3MuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2hvb2tzLnVucXVldWVkfHxvbGRmaXJlKCl9KSxob29rcy51bnF1ZXVlZCsrLGFuaW0uYWx3YXlzKGZ1bmN0aW9uKCl7YW5pbS5hbHdheXMoZnVuY3Rpb24oKXtob29rcy51bnF1ZXVlZC0tLGpRdWVyeS5xdWV1ZShlbGVtLCJmeCIpLmxlbmd0aHx8aG9va3MuZW1wdHkuZmlyZSgpfSl9KSksMT09PWVsZW0ubm9kZVR5cGUmJigiaGVpZ2h0ImluIHByb3BzfHwid2lkdGgiaW4gcHJvcHMpJiYob3B0cy5vdmVyZmxvdz1bc3R5bGUub3ZlcmZsb3csc3R5bGUub3ZlcmZsb3dYLHN0eWxlLm92ZXJmbG93WV0sZGlzcGxheT1qUXVlcnkuY3NzKGVsZW0sImRpc3BsYXkiKSxjaGVja0Rpc3BsYXk9Im5vbmUiPT09ZGlzcGxheT9kYXRhX3ByaXYuZ2V0KGVsZW0sIm9sZGRpc3BsYXkiKXx8ZGVmYXVsdERpc3BsYXkoZWxlbS5ub2RlTmFtZSk6ZGlzcGxheSwiaW5saW5lIj09PWNoZWNrRGlzcGxheSYmIm5vbmUiPT09alF1ZXJ5LmNzcyhlbGVtLCJmbG9hdCIpJiYoc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLG9wdHMub3ZlcmZsb3cmJihzdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixhbmltLmFsd2F5cyhmdW5jdGlvbigpe3N0eWxlLm92ZXJmbG93PW9wdHMub3ZlcmZsb3dbMF0sc3R5bGUub3ZlcmZsb3dYPW9wdHMub3ZlcmZsb3dbMV0sc3R5bGUub3ZlcmZsb3dZPW9wdHMub3ZlcmZsb3dbMl19KSk7Zm9yKHByb3AgaW4gcHJvcHMpaWYodmFsdWU9cHJvcHNbcHJvcF0scmZ4dHlwZXMuZXhlYyh2YWx1ZSkpe2lmKGRlbGV0ZSBwcm9wc1twcm9wXSx0b2dnbGU9dG9nZ2xlfHwidG9nZ2xlIj09PXZhbHVlLHZhbHVlPT09KGhpZGRlbj8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09dmFsdWV8fCFkYXRhU2hvd3x8dm9pZCAwPT09ZGF0YVNob3dbcHJvcF0pY29udGludWU7aGlkZGVuPSEwfW9yaWdbcHJvcF09ZGF0YVNob3cmJmRhdGFTaG93W3Byb3BdfHxqUXVlcnkuc3R5bGUoZWxlbSxwcm9wKX1lbHNlIGRpc3BsYXk9dm9pZCAwO2lmKGpRdWVyeS5pc0VtcHR5T2JqZWN0KG9yaWcpKSJpbmxpbmUiPT09KCJub25lIj09PWRpc3BsYXk/ZGVmYXVsdERpc3BsYXkoZWxlbS5ub2RlTmFtZSk6ZGlzcGxheSkmJihzdHlsZS5kaXNwbGF5PWRpc3BsYXkpO2Vsc2V7ZGF0YVNob3c/ImhpZGRlbiJpbiBkYXRhU2hvdyYmKGhpZGRlbj1kYXRhU2hvdy5oaWRkZW4pOmRhdGFTaG93PWRhdGFfcHJpdi5hY2Nlc3MoZWxlbSwiZnhzaG93Iix7fSksdG9nZ2xlJiYoZGF0YVNob3cuaGlkZGVuPSFoaWRkZW4pLGhpZGRlbj9qUXVlcnkoZWxlbSkuc2hvdygpOmFuaW0uZG9uZShmdW5jdGlvbigpe2pRdWVyeShlbGVtKS5oaWRlKCl9KSxhbmltLmRvbmUoZnVuY3Rpb24oKXt2YXIgcHJvcDtkYXRhX3ByaXYucmVtb3ZlKGVsZW0sImZ4c2hvdyIpO2Zvcihwcm9wIGluIG9yaWcpalF1ZXJ5LnN0eWxlKGVsZW0scHJvcCxvcmlnW3Byb3BdKX0pO2Zvcihwcm9wIGluIG9yaWcpdHdlZW49Y3JlYXRlVHdlZW4oaGlkZGVuP2RhdGFTaG93W3Byb3BdOjAscHJvcCxhbmltKSxwcm9wIGluIGRhdGFTaG93fHwoZGF0YVNob3dbcHJvcF09dHdlZW4uc3RhcnQsaGlkZGVuJiYodHdlZW4uZW5kPXR3ZWVuLnN0YXJ0LHR3ZWVuLnN0YXJ0PSJ3aWR0aCI9PT1wcm9wfHwiaGVpZ2h0Ij09PXByb3A/MTowKSl9fWZ1bmN0aW9uIHByb3BGaWx0ZXIocHJvcHMsc3BlY2lhbEVhc2luZyl7dmFyIGluZGV4LG5hbWUsZWFzaW5nLHZhbHVlLGhvb2tzO2ZvcihpbmRleCBpbiBwcm9wcylpZihuYW1lPWpRdWVyeS5jYW1lbENhc2UoaW5kZXgpLGVhc2luZz1zcGVjaWFsRWFzaW5nW25hbWVdLHZhbHVlPXByb3BzW2luZGV4XSxqUXVlcnkuaXNBcnJheSh2YWx1ZSkmJihlYXNpbmc9dmFsdWVbMV0sdmFsdWU9cHJvcHNbaW5kZXhdPXZhbHVlWzBdKSxpbmRleCE9PW5hbWUmJihwcm9wc1tuYW1lXT12YWx1ZSxkZWxldGUgcHJvcHNbaW5kZXhdKSxob29rcz1qUXVlcnkuY3NzSG9va3NbbmFtZV0saG9va3MmJiJleHBhbmQiaW4gaG9va3Mpe3ZhbHVlPWhvb2tzLmV4cGFuZCh2YWx1ZSksZGVsZXRlIHByb3BzW25hbWVdO2ZvcihpbmRleCBpbiB2YWx1ZSlpbmRleCBpbiBwcm9wc3x8KHByb3BzW2luZGV4XT12YWx1ZVtpbmRleF0sc3BlY2lhbEVhc2luZ1tpbmRleF09ZWFzaW5nKX1lbHNlIHNwZWNpYWxFYXNpbmdbbmFtZV09ZWFzaW5nfWZ1bmN0aW9uIEFuaW1hdGlvbihlbGVtLHByb3BlcnRpZXMsb3B0aW9ucyl7dmFyIHJlc3VsdCxzdG9wcGVkLGluZGV4PTAsbGVuZ3RoPWFuaW1hdGlvblByZWZpbHRlcnMubGVuZ3RoLGRlZmVycmVkPWpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB0aWNrLmVsZW19KSx0aWNrPWZ1bmN0aW9uKCl7aWYoc3RvcHBlZClyZXR1cm4hMTtmb3IodmFyIGN1cnJlbnRUaW1lPWZ4Tm93fHxjcmVhdGVGeE5vdygpLHJlbWFpbmluZz1NYXRoLm1heCgwLGFuaW1hdGlvbi5zdGFydFRpbWUrYW5pbWF0aW9uLmR1cmF0aW9uLWN1cnJlbnRUaW1lKSx0ZW1wPXJlbWFpbmluZy9hbmltYXRpb24uZHVyYXRpb258fDAscGVyY2VudD0xLXRlbXAsaW5kZXg9MCxsZW5ndGg9YW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7bGVuZ3RoPmluZGV4O2luZGV4KyspYW5pbWF0aW9uLnR3ZWVuc1tpbmRleF0ucnVuKHBlcmNlbnQpO3JldHVybiBkZWZlcnJlZC5ub3RpZnlXaXRoKGVsZW0sW2FuaW1hdGlvbixwZXJjZW50LHJlbWFpbmluZ10pLDE+cGVyY2VudCYmbGVuZ3RoP3JlbWFpbmluZzooZGVmZXJyZWQucmVzb2x2ZVdpdGgoZWxlbSxbYW5pbWF0aW9uXSksITEpfSxhbmltYXRpb249ZGVmZXJyZWQucHJvbWlzZSh7ZWxlbTplbGVtLHByb3BzOmpRdWVyeS5leHRlbmQoe30scHJvcGVydGllcyksb3B0czpqUXVlcnkuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxvcHRpb25zKSxvcmlnaW5hbFByb3BlcnRpZXM6cHJvcGVydGllcyxvcmlnaW5hbE9wdGlvbnM6b3B0aW9ucyxzdGFydFRpbWU6ZnhOb3d8fGNyZWF0ZUZ4Tm93KCksZHVyYXRpb246b3B0aW9ucy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24ocHJvcCxlbmQpe3ZhciB0d2Vlbj1qUXVlcnkuVHdlZW4oZWxlbSxhbmltYXRpb24ub3B0cyxwcm9wLGVuZCxhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nW3Byb3BdfHxhbmltYXRpb24ub3B0cy5lYXNpbmcpO3JldHVybiBhbmltYXRpb24udHdlZW5zLnB1c2godHdlZW4pLHR3ZWVufSxzdG9wOmZ1bmN0aW9uKGdvdG9FbmQpe3ZhciBpbmRleD0wLGxlbmd0aD1nb3RvRW5kP2FuaW1hdGlvbi50d2VlbnMubGVuZ3RoOjA7aWYoc3RvcHBlZClyZXR1cm4gdGhpcztmb3Ioc3RvcHBlZD0hMDtsZW5ndGg+aW5kZXg7aW5kZXgrKylhbmltYXRpb24udHdlZW5zW2luZGV4XS5ydW4oMSk7cmV0dXJuIGdvdG9FbmQ/ZGVmZXJyZWQucmVzb2x2ZVdpdGgoZWxlbSxbYW5pbWF0aW9uLGdvdG9FbmRdKTpkZWZlcnJlZC5yZWplY3RXaXRoKGVsZW0sW2FuaW1hdGlvbixnb3RvRW5kXSksdGhpc319KSxwcm9wcz1hbmltYXRpb24ucHJvcHM7Zm9yKHByb3BGaWx0ZXIocHJvcHMsYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyk7bGVuZ3RoPmluZGV4O2luZGV4KyspaWYocmVzdWx0PWFuaW1hdGlvblByZWZpbHRlcnNbaW5kZXhdLmNhbGwoYW5pbWF0aW9uLGVsZW0scHJvcHMsYW5pbWF0aW9uLm9wdHMpKXJldHVybiByZXN1bHQ7cmV0dXJuIGpRdWVyeS5tYXAocHJvcHMsY3JlYXRlVHdlZW4sYW5pbWF0aW9uKSxqUXVlcnkuaXNGdW5jdGlvbihhbmltYXRpb24ub3B0cy5zdGFydCkmJmFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoZWxlbSxhbmltYXRpb24pLGpRdWVyeS5meC50aW1lcihqUXVlcnkuZXh0ZW5kKHRpY2sse2VsZW06ZWxlbSxhbmltOmFuaW1hdGlvbixxdWV1ZTphbmltYXRpb24ub3B0cy5xdWV1ZX0pKSxhbmltYXRpb24ucHJvZ3Jlc3MoYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MpLmRvbmUoYW5pbWF0aW9uLm9wdHMuZG9uZSxhbmltYXRpb24ub3B0cy5jb21wbGV0ZSkuZmFpbChhbmltYXRpb24ub3B0cy5mYWlsKS5hbHdheXMoYW5pbWF0aW9uLm9wdHMuYWx3YXlzKX1mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoc3RydWN0dXJlKXtyZXR1cm4gZnVuY3Rpb24oZGF0YVR5cGVFeHByZXNzaW9uLGZ1bmMpeyJzdHJpbmciIT10eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uJiYoZnVuYz1kYXRhVHlwZUV4cHJlc3Npb24sZGF0YVR5cGVFeHByZXNzaW9uPSIqIik7dmFyIGRhdGFUeXBlLGk9MCxkYXRhVHlwZXM9ZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2gocm5vdHdoaXRlKXx8W107aWYoalF1ZXJ5LmlzRnVuY3Rpb24oZnVuYykpZm9yKDtkYXRhVHlwZT1kYXRhVHlwZXNbaSsrXTspIisiPT09ZGF0YVR5cGVbMF0/KGRhdGFUeXBlPWRhdGFUeXBlLnNsaWNlKDEpfHwiKiIsKHN0cnVjdHVyZVtkYXRhVHlwZV09c3RydWN0dXJlW2RhdGFUeXBlXXx8W10pLnVuc2hpZnQoZnVuYykpOihzdHJ1Y3R1cmVbZGF0YVR5cGVdPXN0cnVjdHVyZVtkYXRhVHlwZV18fFtdKS5wdXNoKGZ1bmMpfX1mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyhzdHJ1Y3R1cmUsb3B0aW9ucyxvcmlnaW5hbE9wdGlvbnMsanFYSFIpe2Z1bmN0aW9uIGluc3BlY3QoZGF0YVR5cGUpe3ZhciBzZWxlY3RlZDtyZXR1cm4gaW5zcGVjdGVkW2RhdGFUeXBlXT0hMCxqUXVlcnkuZWFjaChzdHJ1Y3R1cmVbZGF0YVR5cGVdfHxbXSxmdW5jdGlvbihfLHByZWZpbHRlck9yRmFjdG9yeSl7dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQ9cHJlZmlsdGVyT3JGYWN0b3J5KG9wdGlvbnMsb3JpZ2luYWxPcHRpb25zLGpxWEhSKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnR8fHNlZWtpbmdUcmFuc3BvcnR8fGluc3BlY3RlZFtkYXRhVHlwZU9yVHJhbnNwb3J0XT9zZWVraW5nVHJhbnNwb3J0PyEoc2VsZWN0ZWQ9ZGF0YVR5cGVPclRyYW5zcG9ydCk6dm9pZCAwOihvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KGRhdGFUeXBlT3JUcmFuc3BvcnQpLGluc3BlY3QoZGF0YVR5cGVPclRyYW5zcG9ydCksITEpfSksc2VsZWN0ZWR9dmFyIGluc3BlY3RlZD17fSxzZWVraW5nVHJhbnNwb3J0PXN0cnVjdHVyZT09PXRyYW5zcG9ydHM7cmV0dXJuIGluc3BlY3Qob3B0aW9ucy5kYXRhVHlwZXNbMF0pfHwhaW5zcGVjdGVkWyIqIl0mJmluc3BlY3QoIioiKX1mdW5jdGlvbiBhamF4RXh0ZW5kKHRhcmdldCxzcmMpe3ZhciBrZXksZGVlcCxmbGF0T3B0aW9ucz1qUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3Ioa2V5IGluIHNyYyl2b2lkIDAhPT1zcmNba2V5XSYmKChmbGF0T3B0aW9uc1trZXldP3RhcmdldDpkZWVwfHwoZGVlcD17fSkpW2tleV09c3JjW2tleV0pO3JldHVybiBkZWVwJiZqUXVlcnkuZXh0ZW5kKCEwLHRhcmdldCxkZWVwKSx0YXJnZXR9ZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyhzLGpxWEhSLHJlc3BvbnNlcyl7Zm9yKHZhciBjdCx0eXBlLGZpbmFsRGF0YVR5cGUsZmlyc3REYXRhVHlwZSxjb250ZW50cz1zLmNvbnRlbnRzLGRhdGFUeXBlcz1zLmRhdGFUeXBlczsiKiI9PT1kYXRhVHlwZXNbMF07KWRhdGFUeXBlcy5zaGlmdCgpLHZvaWQgMD09PWN0JiYoY3Q9cy5taW1lVHlwZXx8anFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihjdClmb3IodHlwZSBpbiBjb250ZW50cylpZihjb250ZW50c1t0eXBlXSYmY29udGVudHNbdHlwZV0udGVzdChjdCkpe2RhdGFUeXBlcy51bnNoaWZ0KHR5cGUpO2JyZWFrfWlmKGRhdGFUeXBlc1swXWluIHJlc3BvbnNlcylmaW5hbERhdGFUeXBlPWRhdGFUeXBlc1swXTtlbHNle2Zvcih0eXBlIGluIHJlc3BvbnNlcyl7aWYoIWRhdGFUeXBlc1swXXx8cy5jb252ZXJ0ZXJzW3R5cGUrIiAiK2RhdGFUeXBlc1swXV0pe2ZpbmFsRGF0YVR5cGU9dHlwZTticmVha31maXJzdERhdGFUeXBlfHwoZmlyc3REYXRhVHlwZT10eXBlKX1maW5hbERhdGFUeXBlPWZpbmFsRGF0YVR5cGV8fGZpcnN0RGF0YVR5cGV9cmV0dXJuIGZpbmFsRGF0YVR5cGU/KGZpbmFsRGF0YVR5cGUhPT1kYXRhVHlwZXNbMF0mJmRhdGFUeXBlcy51bnNoaWZ0KGZpbmFsRGF0YVR5cGUpLHJlc3BvbnNlc1tmaW5hbERhdGFUeXBlXSk6dm9pZCAwfWZ1bmN0aW9uIGFqYXhDb252ZXJ0KHMscmVzcG9uc2UsanFYSFIsaXNTdWNjZXNzKXt2YXIgY29udjIsY3VycmVudCxjb252LHRtcCxwcmV2LGNvbnZlcnRlcnM9e30sZGF0YVR5cGVzPXMuZGF0YVR5cGVzLnNsaWNlKCk7aWYoZGF0YVR5cGVzWzFdKWZvcihjb252IGluIHMuY29udmVydGVycyljb252ZXJ0ZXJzW2NvbnYudG9Mb3dlckNhc2UoKV09cy5jb252ZXJ0ZXJzW2NvbnZdO2ZvcihjdXJyZW50PWRhdGFUeXBlcy5zaGlmdCgpO2N1cnJlbnQ7KWlmKHMucmVzcG9uc2VGaWVsZHNbY3VycmVudF0mJihqcVhIUltzLnJlc3BvbnNlRmllbGRzW2N1cnJlbnRdXT1yZXNwb25zZSksIXByZXYmJmlzU3VjY2VzcyYmcy5kYXRhRmlsdGVyJiYocmVzcG9uc2U9cy5kYXRhRmlsdGVyKHJlc3BvbnNlLHMuZGF0YVR5cGUpKSxwcmV2PWN1cnJlbnQsY3VycmVudD1kYXRhVHlwZXMuc2hpZnQoKSlpZigiKiI9PT1jdXJyZW50KWN1cnJlbnQ9cHJldjtlbHNlIGlmKCIqIiE9PXByZXYmJnByZXYhPT1jdXJyZW50KXtpZihjb252PWNvbnZlcnRlcnNbcHJldisiICIrY3VycmVudF18fGNvbnZlcnRlcnNbIiogIitjdXJyZW50XSwhY29udilmb3IoY29udjIgaW4gY29udmVydGVycylpZih0bXA9Y29udjIuc3BsaXQoIiAiKSx0bXBbMV09PT1jdXJyZW50JiYoY29udj1jb252ZXJ0ZXJzW3ByZXYrIiAiK3RtcFswXV18fGNvbnZlcnRlcnNbIiogIit0bXBbMF1dKSl7Y29udj09PSEwP2NvbnY9Y29udmVydGVyc1tjb252Ml06Y29udmVydGVyc1tjb252Ml0hPT0hMCYmKGN1cnJlbnQ9dG1wWzBdLGRhdGFUeXBlcy51bnNoaWZ0KHRtcFsxXSkpO2JyZWFrfWlmKGNvbnYhPT0hMClpZihjb252JiZzWyJ0aHJvd3MiXSlyZXNwb25zZT1jb252KHJlc3BvbnNlKTtlbHNlIHRyeXtyZXNwb25zZT1jb252KHJlc3BvbnNlKX1jYXRjaChlKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpjb252P2U6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK3ByZXYrIiB0byAiK2N1cnJlbnR9fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6cmVzcG9uc2V9fWZ1bmN0aW9uIGJ1aWxkUGFyYW1zKHByZWZpeCxvYmosdHJhZGl0aW9uYWwsYWRkKXt2YXIgbmFtZTtpZihqUXVlcnkuaXNBcnJheShvYmopKWpRdWVyeS5lYWNoKG9iaixmdW5jdGlvbihpLHYpe3RyYWRpdGlvbmFsfHxyYnJhY2tldC50ZXN0KHByZWZpeCk/YWRkKHByZWZpeCx2KTpidWlsZFBhcmFtcyhwcmVmaXgrIlsiKygib2JqZWN0Ij09dHlwZW9mIHY/aToiIikrIl0iLHYsdHJhZGl0aW9uYWwsYWRkKX0pO2Vsc2UgaWYodHJhZGl0aW9uYWx8fCJvYmplY3QiIT09alF1ZXJ5LnR5cGUob2JqKSlhZGQocHJlZml4LG9iaik7ZWxzZSBmb3IobmFtZSBpbiBvYmopYnVpbGRQYXJhbXMocHJlZml4KyJbIituYW1lKyJdIixvYmpbbmFtZV0sdHJhZGl0aW9uYWwsYWRkKX1mdW5jdGlvbiBnZXRXaW5kb3coZWxlbSl7cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyhlbGVtKT9lbGVtOjk9PT1lbGVtLm5vZGVUeXBlJiZlbGVtLmRlZmF1bHRWaWV3fXZhciBhcnI9W10sc2xpY2U9YXJyLnNsaWNlLGNvbmNhdD1hcnIuY29uY2F0LHB1c2g9YXJyLnB1c2gsaW5kZXhPZj1hcnIuaW5kZXhPZixjbGFzczJ0eXBlPXt9LHRvU3RyaW5nPWNsYXNzMnR5cGUudG9TdHJpbmcsaGFzT3duPWNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHksc3VwcG9ydD17fSxkb2N1bWVudD13aW5kb3cuZG9jdW1lbnQsdmVyc2lvbj0iMi4xLjEiLGpRdWVyeT1mdW5jdGlvbihzZWxlY3Rvcixjb250ZXh0KXtyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KHNlbGVjdG9yLGNvbnRleHQpfSxydHJpbT0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscm1zUHJlZml4PS9eLW1zLS8scmRhc2hBbHBoYT0vLShbXGRhLXpdKS9naSxmY2FtZWxDYXNlPWZ1bmN0aW9uKGFsbCxsZXR0ZXIpe3JldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKX07alF1ZXJ5LmZuPWpRdWVyeS5wcm90b3R5cGU9e2pxdWVyeTp2ZXJzaW9uLGNvbnN0cnVjdG9yOmpRdWVyeSxzZWxlY3RvcjoiIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHNsaWNlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihudW0pe3JldHVybiBudWxsIT1udW0/MD5udW0/dGhpc1tudW0rdGhpcy5sZW5ndGhdOnRoaXNbbnVtXTpzbGljZS5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZWxlbXMpe3ZhciByZXQ9alF1ZXJ5Lm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxlbGVtcyk7cmV0dXJuIHJldC5wcmV2T2JqZWN0PXRoaXMscmV0LmNvbnRleHQ9dGhpcy5jb250ZXh0LHJldH0sZWFjaDpmdW5jdGlvbihjYWxsYmFjayxhcmdzKXtyZXR1cm4galF1ZXJ5LmVhY2godGhpcyxjYWxsYmFjayxhcmdzKX0sbWFwOmZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5Lm1hcCh0aGlzLGZ1bmN0aW9uKGVsZW0saSl7cmV0dXJuIGNhbGxiYWNrLmNhbGwoZWxlbSxpLGVsZW0pfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhzbGljZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihpKXt2YXIgbGVuPXRoaXMubGVuZ3RoLGo9K2krKDA+aT9sZW46MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGo+PTAmJmxlbj5qP1t0aGlzW2pdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6cHVzaCxzb3J0OmFyci5zb3J0LHNwbGljZTphcnIuc3BsaWNlfSxqUXVlcnkuZXh0ZW5kPWpRdWVyeS5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgb3B0aW9ucyxuYW1lLHNyYyxjb3B5LGNvcHlJc0FycmF5LGNsb25lLHRhcmdldD1hcmd1bWVudHNbMF18fHt9LGk9MSxsZW5ndGg9YXJndW1lbnRzLmxlbmd0aCxkZWVwPSExO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiB0YXJnZXQmJihkZWVwPXRhcmdldCx0YXJnZXQ9YXJndW1lbnRzW2ldfHx7fSxpKyspLCJvYmplY3QiPT10eXBlb2YgdGFyZ2V0fHxqUXVlcnkuaXNGdW5jdGlvbih0YXJnZXQpfHwodGFyZ2V0PXt9KSxpPT09bGVuZ3RoJiYodGFyZ2V0PXRoaXMsaS0tKTtsZW5ndGg+aTtpKyspaWYobnVsbCE9KG9wdGlvbnM9YXJndW1lbnRzW2ldKSlmb3IobmFtZSBpbiBvcHRpb25zKXNyYz10YXJnZXRbbmFtZV0sY29weT1vcHRpb25zW25hbWVdLHRhcmdldCE9PWNvcHkmJihkZWVwJiZjb3B5JiYoalF1ZXJ5LmlzUGxhaW5PYmplY3QoY29weSl8fChjb3B5SXNBcnJheT1qUXVlcnkuaXNBcnJheShjb3B5KSkpPyhjb3B5SXNBcnJheT8oY29weUlzQXJyYXk9ITEsY2xvbmU9c3JjJiZqUXVlcnkuaXNBcnJheShzcmMpP3NyYzpbXSk6Y2xvbmU9c3JjJiZqUXVlcnkuaXNQbGFpbk9iamVjdChzcmMpP3NyYzp7fSx0YXJnZXRbbmFtZV09alF1ZXJ5LmV4dGVuZChkZWVwLGNsb25lLGNvcHkpKTp2b2lkIDAhPT1jb3B5JiYodGFyZ2V0W25hbWVdPWNvcHkpKTtyZXR1cm4gdGFyZ2V0fSxqUXVlcnkuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyh2ZXJzaW9uK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24obXNnKXt0aHJvdyBuZXcgRXJyb3IobXNnKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihvYmope3JldHVybiJmdW5jdGlvbiI9PT1qUXVlcnkudHlwZShvYmopfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24ob2JqKXtyZXR1cm4gbnVsbCE9b2JqJiZvYmo9PT1vYmoud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24ob2JqKXtyZXR1cm4halF1ZXJ5LmlzQXJyYXkob2JqKSYmb2JqLXBhcnNlRmxvYXQob2JqKT49MH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihvYmope3JldHVybiJvYmplY3QiIT09alF1ZXJ5LnR5cGUob2JqKXx8b2JqLm5vZGVUeXBlfHxqUXVlcnkuaXNXaW5kb3cob2JqKT8hMTpvYmouY29uc3RydWN0b3ImJiFoYXNPd24uY2FsbChvYmouY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIik/ITE6ITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24ob2JqKXt2YXIgbmFtZTtmb3IobmFtZSBpbiBvYmopcmV0dXJuITE7cmV0dXJuITB9LHR5cGU6ZnVuY3Rpb24ob2JqKXtyZXR1cm4gbnVsbD09b2JqP29iaisiIjoib2JqZWN0Ij09dHlwZW9mIG9ianx8ImZ1bmN0aW9uIj09dHlwZW9mIG9iaj9jbGFzczJ0eXBlW3RvU3RyaW5nLmNhbGwob2JqKV18fCJvYmplY3QiOnR5cGVvZiBvYmp9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oY29kZSl7dmFyIHNjcmlwdCxpbmRpcmVjdD1ldmFsO2NvZGU9alF1ZXJ5LnRyaW0oY29kZSksY29kZSYmKDE9PT1jb2RlLmluZGV4T2YoInVzZSBzdHJpY3QiKT8oc2NyaXB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLHNjcmlwdC50ZXh0PWNvZGUsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KSk6aW5kaXJlY3QoY29kZSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2Uocm1zUHJlZml4LCJtcy0iKS5yZXBsYWNlKHJkYXNoQWxwaGEsZmNhbWVsQ2FzZSl9LG5vZGVOYW1lOmZ1bmN0aW9uKGVsZW0sbmFtZSl7cmV0dXJuIGVsZW0ubm9kZU5hbWUmJmVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW5hbWUudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihvYmosY2FsbGJhY2ssYXJncyl7dmFyIHZhbHVlLGk9MCxsZW5ndGg9b2JqLmxlbmd0aCxpc0FycmF5PWlzQXJyYXlsaWtlKG9iaik7aWYoYXJncyl7aWYoaXNBcnJheSlmb3IoO2xlbmd0aD5pJiYodmFsdWU9Y2FsbGJhY2suYXBwbHkob2JqW2ldLGFyZ3MpLHZhbHVlIT09ITEpO2krKyk7ZWxzZSBmb3IoaSBpbiBvYmopaWYodmFsdWU9Y2FsbGJhY2suYXBwbHkob2JqW2ldLGFyZ3MpLHZhbHVlPT09ITEpYnJlYWt9ZWxzZSBpZihpc0FycmF5KWZvcig7bGVuZ3RoPmkmJih2YWx1ZT1jYWxsYmFjay5jYWxsKG9ialtpXSxpLG9ialtpXSksdmFsdWUhPT0hMSk7aSsrKTtlbHNlIGZvcihpIGluIG9iailpZih2YWx1ZT1jYWxsYmFjay5jYWxsKG9ialtpXSxpLG9ialtpXSksdmFsdWU9PT0hMSlicmVhaztyZXR1cm4gb2JqfSx0cmltOmZ1bmN0aW9uKHRleHQpe3JldHVybiBudWxsPT10ZXh0PyIiOih0ZXh0KyIiKS5yZXBsYWNlKHJ0cmltLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGFycixyZXN1bHRzKXt2YXIgcmV0PXJlc3VsdHN8fFtdO3JldHVybiBudWxsIT1hcnImJihpc0FycmF5bGlrZShPYmplY3QoYXJyKSk/alF1ZXJ5Lm1lcmdlKHJldCwic3RyaW5nIj09dHlwZW9mIGFycj9bYXJyXTphcnIpOnB1c2guY2FsbChyZXQsYXJyKSkscmV0fSxpbkFycmF5OmZ1bmN0aW9uKGVsZW0sYXJyLGkpe3JldHVybiBudWxsPT1hcnI/LTE6aW5kZXhPZi5jYWxsKGFycixlbGVtLGkpfSxtZXJnZTpmdW5jdGlvbihmaXJzdCxzZWNvbmQpe2Zvcih2YXIgbGVuPStzZWNvbmQubGVuZ3RoLGo9MCxpPWZpcnN0Lmxlbmd0aDtsZW4+ajtqKyspZmlyc3RbaSsrXT1zZWNvbmRbal07cmV0dXJuIGZpcnN0Lmxlbmd0aD1pLGZpcnN0fSxncmVwOmZ1bmN0aW9uKGVsZW1zLGNhbGxiYWNrLGludmVydCl7Zm9yKHZhciBjYWxsYmFja0ludmVyc2UsbWF0Y2hlcz1bXSxpPTAsbGVuZ3RoPWVsZW1zLmxlbmd0aCxjYWxsYmFja0V4cGVjdD0haW52ZXJ0O2xlbmd0aD5pO2krKyljYWxsYmFja0ludmVyc2U9IWNhbGxiYWNrKGVsZW1zW2ldLGkpLGNhbGxiYWNrSW52ZXJzZSE9PWNhbGxiYWNrRXhwZWN0JiZtYXRjaGVzLnB1c2goZWxlbXNbaV0pO3JldHVybiBtYXRjaGVzfSxtYXA6ZnVuY3Rpb24oZWxlbXMsY2FsbGJhY2ssYXJnKXt2YXIgdmFsdWUsaT0wLGxlbmd0aD1lbGVtcy5sZW5ndGgsaXNBcnJheT1pc0FycmF5bGlrZShlbGVtcykscmV0PVtdO2lmKGlzQXJyYXkpZm9yKDtsZW5ndGg+aTtpKyspdmFsdWU9Y2FsbGJhY2soZWxlbXNbaV0saSxhcmcpLG51bGwhPXZhbHVlJiZyZXQucHVzaCh2YWx1ZSk7ZWxzZSBmb3IoaSBpbiBlbGVtcyl2YWx1ZT1jYWxsYmFjayhlbGVtc1tpXSxpLGFyZyksbnVsbCE9dmFsdWUmJnJldC5wdXNoKHZhbHVlKTtyZXR1cm4gY29uY2F0LmFwcGx5KFtdLHJldCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihmbixjb250ZXh0KXt2YXIgdG1wLGFyZ3MscHJveHk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBjb250ZXh0JiYodG1wPWZuW2NvbnRleHRdLGNvbnRleHQ9Zm4sZm49dG1wKSxqUXVlcnkuaXNGdW5jdGlvbihmbik/KGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMikscHJveHk9ZnVuY3Rpb24oKXtyZXR1cm4gZm4uYXBwbHkoY29udGV4dHx8dGhpcyxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKX0scHJveHkuZ3VpZD1mbi5ndWlkPWZuLmd1aWR8fGpRdWVyeS5ndWlkKysscHJveHkpOnZvaWQgMH0sbm93OkRhdGUubm93LHN1cHBvcnQ6c3VwcG9ydH0pLGpRdWVyeS5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGksbmFtZSl7Y2xhc3MydHlwZVsiW29iamVjdCAiK25hbWUrIl0iXT1uYW1lLnRvTG93ZXJDYXNlKCl9KTt2YXIgU2l6emxlPWZ1bmN0aW9uKHdpbmRvdyl7ZnVuY3Rpb24gU2l6emxlKHNlbGVjdG9yLGNvbnRleHQscmVzdWx0cyxzZWVkKXt2YXIgbWF0Y2gsZWxlbSxtLG5vZGVUeXBlLGksZ3JvdXBzLG9sZCxuaWQsbmV3Q29udGV4dCxuZXdTZWxlY3RvcjtpZigoY29udGV4dD9jb250ZXh0Lm93bmVyRG9jdW1lbnR8fGNvbnRleHQ6cHJlZmVycmVkRG9jKSE9PWRvY3VtZW50JiZzZXREb2N1bWVudChjb250ZXh0KSxjb250ZXh0PWNvbnRleHR8fGRvY3VtZW50LHJlc3VsdHM9cmVzdWx0c3x8W10sIXNlbGVjdG9yfHwic3RyaW5nIiE9dHlwZW9mIHNlbGVjdG9yKXJldHVybiByZXN1bHRzO2lmKDEhPT0obm9kZVR5cGU9Y29udGV4dC5ub2RlVHlwZSkmJjkhPT1ub2RlVHlwZSlyZXR1cm5bXTtpZihkb2N1bWVudElzSFRNTCYmIXNlZWQpe2lmKG1hdGNoPXJxdWlja0V4cHIuZXhlYyhzZWxlY3RvcikpaWYobT1tYXRjaFsxXSl7aWYoOT09PW5vZGVUeXBlKXtpZihlbGVtPWNvbnRleHQuZ2V0RWxlbWVudEJ5SWQobSksIWVsZW18fCFlbGVtLnBhcmVudE5vZGUpcmV0dXJuIHJlc3VsdHM7aWYoZWxlbS5pZD09PW0pcmV0dXJuIHJlc3VsdHMucHVzaChlbGVtKSxyZXN1bHRzfWVsc2UgaWYoY29udGV4dC5vd25lckRvY3VtZW50JiYoZWxlbT1jb250ZXh0Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobSkpJiZjb250YWlucyhjb250ZXh0LGVsZW0pJiZlbGVtLmlkPT09bSlyZXR1cm4gcmVzdWx0cy5wdXNoKGVsZW0pLHJlc3VsdHN9ZWxzZXtpZihtYXRjaFsyXSlyZXR1cm4gcHVzaC5hcHBseShyZXN1bHRzLGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpKSxyZXN1bHRzO2lmKChtPW1hdGNoWzNdKSYmc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIHB1c2guYXBwbHkocmVzdWx0cyxjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobSkpLHJlc3VsdHN9aWYoc3VwcG9ydC5xc2EmJighcmJ1Z2d5UVNBfHwhcmJ1Z2d5UVNBLnRlc3Qoc2VsZWN0b3IpKSl7aWYobmlkPW9sZD1leHBhbmRvLG5ld0NvbnRleHQ9Y29udGV4dCxuZXdTZWxlY3Rvcj05PT09bm9kZVR5cGUmJnNlbGVjdG9yLDE9PT1ub2RlVHlwZSYmIm9iamVjdCIhPT1jb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Zvcihncm91cHM9dG9rZW5pemUoc2VsZWN0b3IpLChvbGQ9Y29udGV4dC5nZXRBdHRyaWJ1dGUoImlkIikpP25pZD1vbGQucmVwbGFjZShyZXNjYXBlLCJcXCQmIik6Y29udGV4dC5zZXRBdHRyaWJ1dGUoImlkIixuaWQpLG5pZD0iW2lkPSciK25pZCsiJ10gIixpPWdyb3Vwcy5sZW5ndGg7aS0tOylncm91cHNbaV09bmlkK3RvU2VsZWN0b3IoZ3JvdXBzW2ldKTtuZXdDb250ZXh0PXJzaWJsaW5nLnRlc3Qoc2VsZWN0b3IpJiZ0ZXN0Q29udGV4dChjb250ZXh0LnBhcmVudE5vZGUpfHxjb250ZXh0LG5ld1NlbGVjdG9yPWdyb3Vwcy5qb2luKCIsIil9aWYobmV3U2VsZWN0b3IpdHJ5e3JldHVybiBwdXNoLmFwcGx5KHJlc3VsdHMsbmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKG5ld1NlbGVjdG9yKSkscmVzdWx0c31jYXRjaChxc2FFcnJvcil7fWZpbmFsbHl7b2xkfHxjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBzZWxlY3Qoc2VsZWN0b3IucmVwbGFjZShydHJpbSwiJDEiKSxjb250ZXh0LHJlc3VsdHMsc2VlZCl9ZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKXtmdW5jdGlvbiBjYWNoZShrZXksdmFsdWUpe3JldHVybiBrZXlzLnB1c2goa2V5KyIgIik+RXhwci5jYWNoZUxlbmd0aCYmZGVsZXRlIGNhY2hlW2tleXMuc2hpZnQoKV0sY2FjaGVba2V5KyIgIl09dmFsdWV9dmFyIGtleXM9W107cmV0dXJuIGNhY2hlfWZ1bmN0aW9uIG1hcmtGdW5jdGlvbihmbil7cmV0dXJuIGZuW2V4cGFuZG9dPSEwLGZufWZ1bmN0aW9uIGFzc2VydChmbil7dmFyIGRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFmbihkaXYpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7ZGl2LnBhcmVudE5vZGUmJmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdiksZGl2PW51bGx9fWZ1bmN0aW9uIGFkZEhhbmRsZShhdHRycyxoYW5kbGVyKXtmb3IodmFyIGFycj1hdHRycy5zcGxpdCgifCIpLGk9YXR0cnMubGVuZ3RoO2ktLTspRXhwci5hdHRySGFuZGxlW2FycltpXV09aGFuZGxlcn1mdW5jdGlvbiBzaWJsaW5nQ2hlY2soYSxiKXt2YXIgY3VyPWImJmEsZGlmZj1jdXImJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxNQVhfTkVHQVRJVkUpLSh+YS5zb3VyY2VJbmRleHx8TUFYX05FR0FUSVZFKTtpZihkaWZmKXJldHVybiBkaWZmO2lmKGN1cilmb3IoO2N1cj1jdXIubmV4dFNpYmxpbmc7KWlmKGN1cj09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyh0eXBlKXtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7dmFyIG5hbWU9ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1uYW1lJiZlbGVtLnR5cGU9PT10eXBlfX1mdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8odHlwZSl7cmV0dXJuIGZ1bmN0aW9uKGVsZW0pe3ZhciBuYW1lPWVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PW5hbWV8fCJidXR0b24iPT09bmFtZSkmJmVsZW0udHlwZT09PXR5cGV9fWZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZm4pe3JldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oYXJndW1lbnQpe3JldHVybiBhcmd1bWVudD0rYXJndW1lbnQsbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlZWQsbWF0Y2hlcyl7Zm9yKHZhciBqLG1hdGNoSW5kZXhlcz1mbihbXSxzZWVkLmxlbmd0aCxhcmd1bWVudCksaT1tYXRjaEluZGV4ZXMubGVuZ3RoO2ktLTspc2VlZFtqPW1hdGNoSW5kZXhlc1tpXV0mJihzZWVkW2pdPSEobWF0Y2hlc1tqXT1zZWVkW2pdKSl9KX0pfWZ1bmN0aW9uIHRlc3RDb250ZXh0KGNvbnRleHQpe3JldHVybiBjb250ZXh0JiZ0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PXN0cnVuZGVmaW5lZCYmY29udGV4dH1mdW5jdGlvbiBzZXRGaWx0ZXJzKCl7fWZ1bmN0aW9uIHRvU2VsZWN0b3IodG9rZW5zKXtmb3IodmFyIGk9MCxsZW49dG9rZW5zLmxlbmd0aCxzZWxlY3Rvcj0iIjtsZW4+aTtpKyspc2VsZWN0b3IrPXRva2Vuc1tpXS52YWx1ZTtyZXR1cm4gc2VsZWN0b3J9ZnVuY3Rpb24gYWRkQ29tYmluYXRvcihtYXRjaGVyLGNvbWJpbmF0b3IsYmFzZSl7dmFyIGRpcj1jb21iaW5hdG9yLmRpcixjaGVja05vbkVsZW1lbnRzPWJhc2UmJiJwYXJlbnROb2RlIj09PWRpcixkb25lTmFtZT1kb25lKys7cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3Q/ZnVuY3Rpb24oZWxlbSxjb250ZXh0LHhtbCl7Zm9yKDtlbGVtPWVsZW1bZGlyXTspaWYoMT09PWVsZW0ubm9kZVR5cGV8fGNoZWNrTm9uRWxlbWVudHMpcmV0dXJuIG1hdGNoZXIoZWxlbSxjb250ZXh0LHhtbCl9OmZ1bmN0aW9uKGVsZW0sY29udGV4dCx4bWwpe3ZhciBvbGRDYWNoZSxvdXRlckNhY2hlLG5ld0NhY2hlPVtkaXJydW5zLGRvbmVOYW1lXTtpZih4bWwpe2Zvcig7ZWxlbT1lbGVtW2Rpcl07KWlmKCgxPT09ZWxlbS5ub2RlVHlwZXx8Y2hlY2tOb25FbGVtZW50cykmJm1hdGNoZXIoZWxlbSxjb250ZXh0LHhtbCkpcmV0dXJuITB9ZWxzZSBmb3IoO2VsZW09ZWxlbVtkaXJdOylpZigxPT09ZWxlbS5ub2RlVHlwZXx8Y2hlY2tOb25FbGVtZW50cyl7aWYob3V0ZXJDYWNoZT1lbGVtW2V4cGFuZG9dfHwoZWxlbVtleHBhbmRvXT17fSksKG9sZENhY2hlPW91dGVyQ2FjaGVbZGlyXSkmJm9sZENhY2hlWzBdPT09ZGlycnVucyYmb2xkQ2FjaGVbMV09PT1kb25lTmFtZSlyZXR1cm4gbmV3Q2FjaGVbMl09b2xkQ2FjaGVbMl07aWYob3V0ZXJDYWNoZVtkaXJdPW5ld0NhY2hlLG5ld0NhY2hlWzJdPW1hdGNoZXIoZWxlbSxjb250ZXh0LHhtbCkpcmV0dXJuITB9fX1mdW5jdGlvbiBlbGVtZW50TWF0Y2hlcihtYXRjaGVycyl7cmV0dXJuIG1hdGNoZXJzLmxlbmd0aD4xP2Z1bmN0aW9uKGVsZW0sY29udGV4dCx4bWwpe2Zvcih2YXIgaT1tYXRjaGVycy5sZW5ndGg7aS0tOylpZighbWF0Y2hlcnNbaV0oZWxlbSxjb250ZXh0LHhtbCkpcmV0dXJuITE7cmV0dXJuITB9Om1hdGNoZXJzWzBdfWZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoc2VsZWN0b3IsY29udGV4dHMscmVzdWx0cyl7Zm9yKHZhciBpPTAsbGVuPWNvbnRleHRzLmxlbmd0aDtsZW4+aTtpKyspU2l6emxlKHNlbGVjdG9yLGNvbnRleHRzW2ldLHJlc3VsdHMpO3JldHVybiByZXN1bHRzfWZ1bmN0aW9uIGNvbmRlbnNlKHVubWF0Y2hlZCxtYXAsZmlsdGVyLGNvbnRleHQseG1sKXtmb3IodmFyIGVsZW0sbmV3VW5tYXRjaGVkPVtdLGk9MCxsZW49dW5tYXRjaGVkLmxlbmd0aCxtYXBwZWQ9bnVsbCE9bWFwO2xlbj5pO2krKykoZWxlbT11bm1hdGNoZWRbaV0pJiYoIWZpbHRlcnx8ZmlsdGVyKGVsZW0sY29udGV4dCx4bWwpKSYmKG5ld1VubWF0Y2hlZC5wdXNoKGVsZW0pLG1hcHBlZCYmbWFwLnB1c2goaSkpO3JldHVybiBuZXdVbm1hdGNoZWR9ZnVuY3Rpb24gc2V0TWF0Y2hlcihwcmVGaWx0ZXIsc2VsZWN0b3IsbWF0Y2hlcixwb3N0RmlsdGVyLHBvc3RGaW5kZXIscG9zdFNlbGVjdG9yKXtyZXR1cm4gcG9zdEZpbHRlciYmIXBvc3RGaWx0ZXJbZXhwYW5kb10mJihwb3N0RmlsdGVyPXNldE1hdGNoZXIocG9zdEZpbHRlcikpLHBvc3RGaW5kZXImJiFwb3N0RmluZGVyW2V4cGFuZG9dJiYocG9zdEZpbmRlcj1zZXRNYXRjaGVyKHBvc3RGaW5kZXIscG9zdFNlbGVjdG9yKSksbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlZWQscmVzdWx0cyxjb250ZXh0LHhtbCl7dmFyIHRlbXAsaSxlbGVtLHByZU1hcD1bXSxwb3N0TWFwPVtdLHByZWV4aXN0aW5nPXJlc3VsdHMubGVuZ3RoLGVsZW1zPXNlZWR8fG11bHRpcGxlQ29udGV4dHMoc2VsZWN0b3J8fCIqIixjb250ZXh0Lm5vZGVUeXBlP1tjb250ZXh0XTpjb250ZXh0LFtdKSxtYXRjaGVySW49IXByZUZpbHRlcnx8IXNlZWQmJnNlbGVjdG9yP2VsZW1zOmNvbmRlbnNlKGVsZW1zLHByZU1hcCxwcmVGaWx0ZXIsY29udGV4dCx4bWwpLG1hdGNoZXJPdXQ9bWF0Y2hlcj9wb3N0RmluZGVyfHwoc2VlZD9wcmVGaWx0ZXI6cHJlZXhpc3Rpbmd8fHBvc3RGaWx0ZXIpP1tdOnJlc3VsdHM6bWF0Y2hlckluO2lmKG1hdGNoZXImJm1hdGNoZXIobWF0Y2hlckluLG1hdGNoZXJPdXQsY29udGV4dCx4bWwpLHBvc3RGaWx0ZXIpZm9yKHRlbXA9Y29uZGVuc2UobWF0Y2hlck91dCxwb3N0TWFwKSxwb3N0RmlsdGVyKHRlbXAsW10sY29udGV4dCx4bWwpLGk9dGVtcC5sZW5ndGg7aS0tOykoZWxlbT10ZW1wW2ldKSYmKG1hdGNoZXJPdXRbcG9zdE1hcFtpXV09IShtYXRjaGVySW5bcG9zdE1hcFtpXV09ZWxlbSkpO2lmKHNlZWQpe2lmKHBvc3RGaW5kZXJ8fHByZUZpbHRlcil7aWYocG9zdEZpbmRlcil7Zm9yKHRlbXA9W10saT1tYXRjaGVyT3V0Lmxlbmd0aDtpLS07KShlbGVtPW1hdGNoZXJPdXRbaV0pJiZ0ZW1wLnB1c2gobWF0Y2hlckluW2ldPWVsZW0pO3Bvc3RGaW5kZXIobnVsbCxtYXRjaGVyT3V0PVtdLHRlbXAseG1sKX1mb3IoaT1tYXRjaGVyT3V0Lmxlbmd0aDtpLS07KShlbGVtPW1hdGNoZXJPdXRbaV0pJiYodGVtcD1wb3N0RmluZGVyP2luZGV4T2YuY2FsbChzZWVkLGVsZW0pOnByZU1hcFtpXSk+LTEmJihzZWVkW3RlbXBdPSEocmVzdWx0c1t0ZW1wXT1lbGVtKSl9fWVsc2UgbWF0Y2hlck91dD1jb25kZW5zZShtYXRjaGVyT3V0PT09cmVzdWx0cz9tYXRjaGVyT3V0LnNwbGljZShwcmVleGlzdGluZyxtYXRjaGVyT3V0Lmxlbmd0aCk6bWF0Y2hlck91dCkscG9zdEZpbmRlcj9wb3N0RmluZGVyKG51bGwscmVzdWx0cyxtYXRjaGVyT3V0LHhtbCk6cHVzaC5hcHBseShyZXN1bHRzLG1hdGNoZXJPdXQpfSl9ZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zKXtmb3IodmFyIGNoZWNrQ29udGV4dCxtYXRjaGVyLGosbGVuPXRva2Vucy5sZW5ndGgsbGVhZGluZ1JlbGF0aXZlPUV4cHIucmVsYXRpdmVbdG9rZW5zWzBdLnR5cGVdLGltcGxpY2l0UmVsYXRpdmU9bGVhZGluZ1JlbGF0aXZlfHxFeHByLnJlbGF0aXZlWyIgIl0saT1sZWFkaW5nUmVsYXRpdmU/MTowLG1hdGNoQ29udGV4dD1hZGRDb21iaW5hdG9yKGZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtPT09Y2hlY2tDb250ZXh0fSxpbXBsaWNpdFJlbGF0aXZlLCEwKSxtYXRjaEFueUNvbnRleHQ9YWRkQ29tYmluYXRvcihmdW5jdGlvbihlbGVtKXtyZXR1cm4gaW5kZXhPZi5jYWxsKGNoZWNrQ29udGV4dCxlbGVtKT4tMX0saW1wbGljaXRSZWxhdGl2ZSwhMCksbWF0Y2hlcnM9W2Z1bmN0aW9uKGVsZW0sY29udGV4dCx4bWwpe3JldHVybiFsZWFkaW5nUmVsYXRpdmUmJih4bWx8fGNvbnRleHQhPT1vdXRlcm1vc3RDb250ZXh0KXx8KChjaGVja0NvbnRleHQ9Y29udGV4dCkubm9kZVR5cGU/bWF0Y2hDb250ZXh0KGVsZW0sY29udGV4dCx4bWwpOm1hdGNoQW55Q29udGV4dChlbGVtLGNvbnRleHQseG1sKSl9XTtsZW4+aTtpKyspaWYobWF0Y2hlcj1FeHByLnJlbGF0aXZlW3Rva2Vuc1tpXS50eXBlXSltYXRjaGVycz1bYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlcihtYXRjaGVycyksbWF0Y2hlcildO2Vsc2V7aWYobWF0Y2hlcj1FeHByLmZpbHRlclt0b2tlbnNbaV0udHlwZV0uYXBwbHkobnVsbCx0b2tlbnNbaV0ubWF0Y2hlcyksbWF0Y2hlcltleHBhbmRvXSl7Zm9yKGo9KytpO2xlbj5qJiYhRXhwci5yZWxhdGl2ZVt0b2tlbnNbal0udHlwZV07aisrKTtyZXR1cm4gc2V0TWF0Y2hlcihpPjEmJmVsZW1lbnRNYXRjaGVyKG1hdGNoZXJzKSxpPjEmJnRvU2VsZWN0b3IodG9rZW5zLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PXRva2Vuc1tpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UocnRyaW0sIiQxIiksbWF0Y2hlcixqPmkmJm1hdGNoZXJGcm9tVG9rZW5zKHRva2Vucy5zbGljZShpLGopKSxsZW4+aiYmbWF0Y2hlckZyb21Ub2tlbnModG9rZW5zPXRva2Vucy5zbGljZShqKSksbGVuPmomJnRvU2VsZWN0b3IodG9rZW5zKSl9bWF0Y2hlcnMucHVzaChtYXRjaGVyKX1yZXR1cm4gZWxlbWVudE1hdGNoZXIobWF0Y2hlcnMpfWZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyhlbGVtZW50TWF0Y2hlcnMsc2V0TWF0Y2hlcnMpe3ZhciBieVNldD1zZXRNYXRjaGVycy5sZW5ndGg+MCxieUVsZW1lbnQ9ZWxlbWVudE1hdGNoZXJzLmxlbmd0aD4wLHN1cGVyTWF0Y2hlcj1mdW5jdGlvbihzZWVkLGNvbnRleHQseG1sLHJlc3VsdHMsb3V0ZXJtb3N0KXt2YXIgZWxlbSxqLG1hdGNoZXIsbWF0Y2hlZENvdW50PTAsaT0iMCIsdW5tYXRjaGVkPXNlZWQmJltdLHNldE1hdGNoZWQ9W10sY29udGV4dEJhY2t1cD1vdXRlcm1vc3RDb250ZXh0LGVsZW1zPXNlZWR8fGJ5RWxlbWVudCYmRXhwci5maW5kLlRBRygiKiIsb3V0ZXJtb3N0KSxkaXJydW5zVW5pcXVlPWRpcnJ1bnMrPW51bGw9PWNvbnRleHRCYWNrdXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxsZW49ZWxlbXMubGVuZ3RoO2ZvcihvdXRlcm1vc3QmJihvdXRlcm1vc3RDb250ZXh0PWNvbnRleHQhPT1kb2N1bWVudCYmY29udGV4dCk7aSE9PWxlbiYmbnVsbCE9KGVsZW09ZWxlbXNbaV0pO2krKyl7aWYoYnlFbGVtZW50JiZlbGVtKXtmb3Ioaj0wO21hdGNoZXI9ZWxlbWVudE1hdGNoZXJzW2orK107KWlmKG1hdGNoZXIoZWxlbSxjb250ZXh0LHhtbCkpe3Jlc3VsdHMucHVzaChlbGVtKTticmVha31vdXRlcm1vc3QmJihkaXJydW5zPWRpcnJ1bnNVbmlxdWUpfWJ5U2V0JiYoKGVsZW09IW1hdGNoZXImJmVsZW0pJiZtYXRjaGVkQ291bnQtLSxzZWVkJiZ1bm1hdGNoZWQucHVzaChlbGVtKSl9aWYobWF0Y2hlZENvdW50Kz1pLGJ5U2V0JiZpIT09bWF0Y2hlZENvdW50KXtmb3Ioaj0wO21hdGNoZXI9c2V0TWF0Y2hlcnNbaisrXTspbWF0Y2hlcih1bm1hdGNoZWQsc2V0TWF0Y2hlZCxjb250ZXh0LHhtbCk7aWYoc2VlZCl7aWYobWF0Y2hlZENvdW50PjApZm9yKDtpLS07KXVubWF0Y2hlZFtpXXx8c2V0TWF0Y2hlZFtpXXx8KHNldE1hdGNoZWRbaV09cG9wLmNhbGwocmVzdWx0cykpO3NldE1hdGNoZWQ9Y29uZGVuc2Uoc2V0TWF0Y2hlZCl9cHVzaC5hcHBseShyZXN1bHRzLHNldE1hdGNoZWQpLG91dGVybW9zdCYmIXNlZWQmJnNldE1hdGNoZWQubGVuZ3RoPjAmJm1hdGNoZWRDb3VudCtzZXRNYXRjaGVycy5sZW5ndGg+MSYmU2l6emxlLnVuaXF1ZVNvcnQocmVzdWx0cyl9cmV0dXJuIG91dGVybW9zdCYmKGRpcnJ1bnM9ZGlycnVuc1VuaXF1ZSxvdXRlcm1vc3RDb250ZXh0PWNvbnRleHRCYWNrdXApLHVubWF0Y2hlZH07cmV0dXJuIGJ5U2V0P21hcmtGdW5jdGlvbihzdXBlck1hdGNoZXIpOnN1cGVyTWF0Y2hlcn12YXIgaSxzdXBwb3J0LEV4cHIsZ2V0VGV4dCxpc1hNTCx0b2tlbml6ZSxjb21waWxlLHNlbGVjdCxvdXRlcm1vc3RDb250ZXh0LHNvcnRJbnB1dCxoYXNEdXBsaWNhdGUsc2V0RG9jdW1lbnQsZG9jdW1lbnQsZG9jRWxlbSxkb2N1bWVudElzSFRNTCxyYnVnZ3lRU0EscmJ1Z2d5TWF0Y2hlcyxtYXRjaGVzLGNvbnRhaW5zLGV4cGFuZG89InNpenpsZSIrLW5ldyBEYXRlLHByZWZlcnJlZERvYz13aW5kb3cuZG9jdW1lbnQsZGlycnVucz0wLGRvbmU9MCxjbGFzc0NhY2hlPWNyZWF0ZUNhY2hlKCksdG9rZW5DYWNoZT1jcmVhdGVDYWNoZSgpLGNvbXBpbGVyQ2FjaGU9Y3JlYXRlQ2FjaGUoKSxzb3J0T3JkZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihoYXNEdXBsaWNhdGU9ITApLDB9LHN0cnVuZGVmaW5lZD0idW5kZWZpbmVkIixNQVhfTkVHQVRJVkU9MTw8MzEsaGFzT3duPXt9Lmhhc093blByb3BlcnR5LGFycj1bXSxwb3A9YXJyLnBvcCxwdXNoX25hdGl2ZT1hcnIucHVzaCxwdXNoPWFyci5wdXNoLHNsaWNlPWFyci5zbGljZSxpbmRleE9mPWFyci5pbmRleE9mfHxmdW5jdGlvbihlbGVtKXtmb3IodmFyIGk9MCxsZW49dGhpcy5sZW5ndGg7bGVuPmk7aSsrKWlmKHRoaXNbaV09PT1lbGVtKXJldHVybiBpO3JldHVybi0xfSxib29sZWFucz0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHdoaXRlc3BhY2U9IltcXHgyMFxcdFxcclxcblxcZl0iLGNoYXJhY3RlckVuY29kaW5nPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsaWRlbnRpZmllcj1jaGFyYWN0ZXJFbmNvZGluZy5yZXBsYWNlKCJ3IiwidyMiKSxhdHRyaWJ1dGVzPSJcXFsiK3doaXRlc3BhY2UrIiooIitjaGFyYWN0ZXJFbmNvZGluZysiKSg/OiIrd2hpdGVzcGFjZSsiKihbKl4kfCF+XT89KSIrd2hpdGVzcGFjZSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK2lkZW50aWZpZXIrIikpfCkiK3doaXRlc3BhY2UrIipcXF0iLHBzZXVkb3M9IjooIitjaGFyYWN0ZXJFbmNvZGluZysiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrYXR0cmlidXRlcysiKSopfC4qKVxcKXwpIixydHJpbT1uZXcgUmVnRXhwKCJeIit3aGl0ZXNwYWNlKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK3doaXRlc3BhY2UrIiskIiwiZyIpLHJjb21tYT1uZXcgUmVnRXhwKCJeIit3aGl0ZXNwYWNlKyIqLCIrd2hpdGVzcGFjZSsiKiIpLHJjb21iaW5hdG9ycz1uZXcgUmVnRXhwKCJeIit3aGl0ZXNwYWNlKyIqKFs+K35dfCIrd2hpdGVzcGFjZSsiKSIrd2hpdGVzcGFjZSsiKiIpLHJhdHRyaWJ1dGVRdW90ZXM9bmV3IFJlZ0V4cCgiPSIrd2hpdGVzcGFjZSsiKihbXlxcXSdcIl0qPykiK3doaXRlc3BhY2UrIipcXF0iLCJnIikscnBzZXVkbz1uZXcgUmVnRXhwKHBzZXVkb3MpLHJpZGVudGlmaWVyPW5ldyBSZWdFeHAoIl4iK2lkZW50aWZpZXIrIiQiKSxtYXRjaEV4cHI9e0lEOm5ldyBSZWdFeHAoIl4jKCIrY2hhcmFjdGVyRW5jb2RpbmcrIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrY2hhcmFjdGVyRW5jb2RpbmcrIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK2NoYXJhY3RlckVuY29kaW5nLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIithdHRyaWJ1dGVzKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrcHNldWRvcyksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIit3aGl0ZXNwYWNlKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIit3aGl0ZXNwYWNlKyIqKD86KFsrLV18KSIrd2hpdGVzcGFjZSsiKihcXGQrKXwpKSIrd2hpdGVzcGFjZSsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrYm9vbGVhbnMrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIit3aGl0ZXNwYWNlKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK3doaXRlc3BhY2UrIiooKD86LVxcZCk/XFxkKikiK3doaXRlc3BhY2UrIipcXCl8KSg/PVteLV18JCkiLCJpIil9LHJpbnB1dHM9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxyaGVhZGVyPS9eaFxkJC9pLHJuYXRpdmU9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLHJxdWlja0V4cHI9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxyc2libGluZz0vWyt+XS8scmVzY2FwZT0vJ3xcXC9nLHJ1bmVzY2FwZT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK3doaXRlc3BhY2UrIj98KCIrd2hpdGVzcGFjZSsiKXwuKSIsImlnIiksZnVuZXNjYXBlPWZ1bmN0aW9uKF8sZXNjYXBlZCxlc2NhcGVkV2hpdGVzcGFjZSl7dmFyIGhpZ2g9IjB4Iitlc2NhcGVkLTY1NTM2OwpyZXR1cm4gaGlnaCE9PWhpZ2h8fGVzY2FwZWRXaGl0ZXNwYWNlP2VzY2FwZWQ6MD5oaWdoP1N0cmluZy5mcm9tQ2hhckNvZGUoaGlnaCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShoaWdoPj4xMHw1NTI5NiwxMDIzJmhpZ2h8NTYzMjApfTt0cnl7cHVzaC5hcHBseShhcnI9c2xpY2UuY2FsbChwcmVmZXJyZWREb2MuY2hpbGROb2RlcykscHJlZmVycmVkRG9jLmNoaWxkTm9kZXMpLGFycltwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGUpe3B1c2g9e2FwcGx5OmFyci5sZW5ndGg/ZnVuY3Rpb24odGFyZ2V0LGVscyl7cHVzaF9uYXRpdmUuYXBwbHkodGFyZ2V0LHNsaWNlLmNhbGwoZWxzKSl9OmZ1bmN0aW9uKHRhcmdldCxlbHMpe2Zvcih2YXIgaj10YXJnZXQubGVuZ3RoLGk9MDt0YXJnZXRbaisrXT1lbHNbaSsrXTspO3RhcmdldC5sZW5ndGg9ai0xfX19c3VwcG9ydD1TaXp6bGUuc3VwcG9ydD17fSxpc1hNTD1TaXp6bGUuaXNYTUw9ZnVuY3Rpb24oZWxlbSl7dmFyIGRvY3VtZW50RWxlbWVudD1lbGVtJiYoZWxlbS5vd25lckRvY3VtZW50fHxlbGVtKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGRvY3VtZW50RWxlbWVudD8iSFRNTCIhPT1kb2N1bWVudEVsZW1lbnQubm9kZU5hbWU6ITF9LHNldERvY3VtZW50PVNpenpsZS5zZXREb2N1bWVudD1mdW5jdGlvbihub2RlKXt2YXIgaGFzQ29tcGFyZSxkb2M9bm9kZT9ub2RlLm93bmVyRG9jdW1lbnR8fG5vZGU6cHJlZmVycmVkRG9jLHBhcmVudD1kb2MuZGVmYXVsdFZpZXc7cmV0dXJuIGRvYyE9PWRvY3VtZW50JiY5PT09ZG9jLm5vZGVUeXBlJiZkb2MuZG9jdW1lbnRFbGVtZW50Pyhkb2N1bWVudD1kb2MsZG9jRWxlbT1kb2MuZG9jdW1lbnRFbGVtZW50LGRvY3VtZW50SXNIVE1MPSFpc1hNTChkb2MpLHBhcmVudCYmcGFyZW50IT09cGFyZW50LnRvcCYmKHBhcmVudC5hZGRFdmVudExpc3RlbmVyP3BhcmVudC5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7c2V0RG9jdW1lbnQoKX0sITEpOnBhcmVudC5hdHRhY2hFdmVudCYmcGFyZW50LmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZnVuY3Rpb24oKXtzZXREb2N1bWVudCgpfSkpLHN1cHBvcnQuYXR0cmlidXRlcz1hc3NlcnQoZnVuY3Rpb24oZGl2KXtyZXR1cm4gZGl2LmNsYXNzTmFtZT0iaSIsIWRpdi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZT1hc3NlcnQoZnVuY3Rpb24oZGl2KXtyZXR1cm4gZGl2LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVDb21tZW50KCIiKSksIWRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1ybmF0aXZlLnRlc3QoZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpJiZhc3NlcnQoZnVuY3Rpb24oZGl2KXtyZXR1cm4gZGl2LmlubmVySFRNTD0iPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj4iLGRpdi5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSIsMj09PWRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSksc3VwcG9ydC5nZXRCeUlkPWFzc2VydChmdW5jdGlvbihkaXYpe3JldHVybiBkb2NFbGVtLmFwcGVuZENoaWxkKGRpdikuaWQ9ZXhwYW5kbywhZG9jLmdldEVsZW1lbnRzQnlOYW1lfHwhZG9jLmdldEVsZW1lbnRzQnlOYW1lKGV4cGFuZG8pLmxlbmd0aH0pLHN1cHBvcnQuZ2V0QnlJZD8oRXhwci5maW5kLklEPWZ1bmN0aW9uKGlkLGNvbnRleHQpe2lmKHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkIT09c3RydW5kZWZpbmVkJiZkb2N1bWVudElzSFRNTCl7dmFyIG09Y29udGV4dC5nZXRFbGVtZW50QnlJZChpZCk7cmV0dXJuIG0mJm0ucGFyZW50Tm9kZT9bbV06W119fSxFeHByLmZpbHRlci5JRD1mdW5jdGlvbihpZCl7dmFyIGF0dHJJZD1pZC5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpO3JldHVybiBmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoImlkIik9PT1hdHRySWR9fSk6KGRlbGV0ZSBFeHByLmZpbmQuSUQsRXhwci5maWx0ZXIuSUQ9ZnVuY3Rpb24oaWQpe3ZhciBhdHRySWQ9aWQucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKTtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7dmFyIG5vZGU9dHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSE9PXN0cnVuZGVmaW5lZCYmZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBub2RlJiZub2RlLnZhbHVlPT09YXR0cklkfX0pLEV4cHIuZmluZC5UQUc9c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbih0YWcsY29udGV4dCl7cmV0dXJuIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lIT09c3RydW5kZWZpbmVkP2NvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKTp2b2lkIDB9OmZ1bmN0aW9uKHRhZyxjb250ZXh0KXt2YXIgZWxlbSx0bXA9W10saT0wLHJlc3VsdHM9Y29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcpO2lmKCIqIj09PXRhZyl7Zm9yKDtlbGVtPXJlc3VsdHNbaSsrXTspMT09PWVsZW0ubm9kZVR5cGUmJnRtcC5wdXNoKGVsZW0pO3JldHVybiB0bXB9cmV0dXJuIHJlc3VsdHN9LEV4cHIuZmluZC5DTEFTUz1zdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGNsYXNzTmFtZSxjb250ZXh0KXtyZXR1cm4gdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PXN0cnVuZGVmaW5lZCYmZG9jdW1lbnRJc0hUTUw/Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk6dm9pZCAwfSxyYnVnZ3lNYXRjaGVzPVtdLHJidWdneVFTQT1bXSwoc3VwcG9ydC5xc2E9cm5hdGl2ZS50ZXN0KGRvYy5xdWVyeVNlbGVjdG9yQWxsKSkmJihhc3NlcnQoZnVuY3Rpb24oZGl2KXtkaXYuaW5uZXJIVE1MPSI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixkaXYucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djbGlwXj0nJ10iKS5sZW5ndGgmJnJidWdneVFTQS5wdXNoKCJbKl4kXT0iK3doaXRlc3BhY2UrIiooPzonJ3xcIlwiKSIpLGRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxyYnVnZ3lRU0EucHVzaCgiXFxbIit3aGl0ZXNwYWNlKyIqKD86dmFsdWV8Iitib29sZWFucysiKSIpLGRpdi5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8cmJ1Z2d5UVNBLnB1c2goIjpjaGVja2VkIil9KSxhc3NlcnQoZnVuY3Rpb24oZGl2KXt2YXIgaW5wdXQ9ZG9jLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7aW5wdXQuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZGl2LmFwcGVuZENoaWxkKGlucHV0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZyYnVnZ3lRU0EucHVzaCgibmFtZSIrd2hpdGVzcGFjZSsiKlsqXiR8IX5dPz0iKSxkaXYucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGh8fHJidWdneVFTQS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGRpdi5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscmJ1Z2d5UVNBLnB1c2goIiwuKjoiKX0pKSwoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3I9cm5hdGl2ZS50ZXN0KG1hdGNoZXM9ZG9jRWxlbS5tYXRjaGVzfHxkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3J8fGRvY0VsZW0ub01hdGNoZXNTZWxlY3Rvcnx8ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikpJiZhc3NlcnQoZnVuY3Rpb24oZGl2KXtzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoPW1hdGNoZXMuY2FsbChkaXYsImRpdiIpLG1hdGNoZXMuY2FsbChkaXYsIltzIT0nJ106eCIpLHJidWdneU1hdGNoZXMucHVzaCgiIT0iLHBzZXVkb3MpfSkscmJ1Z2d5UVNBPXJidWdneVFTQS5sZW5ndGgmJm5ldyBSZWdFeHAocmJ1Z2d5UVNBLmpvaW4oInwiKSkscmJ1Z2d5TWF0Y2hlcz1yYnVnZ3lNYXRjaGVzLmxlbmd0aCYmbmV3IFJlZ0V4cChyYnVnZ3lNYXRjaGVzLmpvaW4oInwiKSksaGFzQ29tcGFyZT1ybmF0aXZlLnRlc3QoZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksY29udGFpbnM9aGFzQ29tcGFyZXx8cm5hdGl2ZS50ZXN0KGRvY0VsZW0uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGFkb3duPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsYnVwPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWJ1cHx8ISghYnVwfHwxIT09YnVwLm5vZGVUeXBlfHwhKGFkb3duLmNvbnRhaW5zP2Fkb3duLmNvbnRhaW5zKGJ1cCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihidXApKSl9OmZ1bmN0aW9uKGEsYil7aWYoYilmb3IoO2I9Yi5wYXJlbnROb2RlOylpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sc29ydE9yZGVyPWhhc0NvbXBhcmU/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gaGFzRHVwbGljYXRlPSEwLDA7dmFyIGNvbXBhcmU9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGNvbXBhcmU/Y29tcGFyZTooY29tcGFyZT0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmNvbXBhcmV8fCFzdXBwb3J0LnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWNvbXBhcmU/YT09PWRvY3x8YS5vd25lckRvY3VtZW50PT09cHJlZmVycmVkRG9jJiZjb250YWlucyhwcmVmZXJyZWREb2MsYSk/LTE6Yj09PWRvY3x8Yi5vd25lckRvY3VtZW50PT09cHJlZmVycmVkRG9jJiZjb250YWlucyhwcmVmZXJyZWREb2MsYik/MTpzb3J0SW5wdXQ/aW5kZXhPZi5jYWxsKHNvcnRJbnB1dCxhKS1pbmRleE9mLmNhbGwoc29ydElucHV0LGIpOjA6NCZjb21wYXJlPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBoYXNEdXBsaWNhdGU9ITAsMDt2YXIgY3VyLGk9MCxhdXA9YS5wYXJlbnROb2RlLGJ1cD1iLnBhcmVudE5vZGUsYXA9W2FdLGJwPVtiXTtpZighYXVwfHwhYnVwKXJldHVybiBhPT09ZG9jPy0xOmI9PT1kb2M/MTphdXA/LTE6YnVwPzE6c29ydElucHV0P2luZGV4T2YuY2FsbChzb3J0SW5wdXQsYSktaW5kZXhPZi5jYWxsKHNvcnRJbnB1dCxiKTowO2lmKGF1cD09PWJ1cClyZXR1cm4gc2libGluZ0NoZWNrKGEsYik7Zm9yKGN1cj1hO2N1cj1jdXIucGFyZW50Tm9kZTspYXAudW5zaGlmdChjdXIpO2ZvcihjdXI9YjtjdXI9Y3VyLnBhcmVudE5vZGU7KWJwLnVuc2hpZnQoY3VyKTtmb3IoO2FwW2ldPT09YnBbaV07KWkrKztyZXR1cm4gaT9zaWJsaW5nQ2hlY2soYXBbaV0sYnBbaV0pOmFwW2ldPT09cHJlZmVycmVkRG9jPy0xOmJwW2ldPT09cHJlZmVycmVkRG9jPzE6MH0sZG9jKTpkb2N1bWVudH0sU2l6emxlLm1hdGNoZXM9ZnVuY3Rpb24oZXhwcixlbGVtZW50cyl7cmV0dXJuIFNpenpsZShleHByLG51bGwsbnVsbCxlbGVtZW50cyl9LFNpenpsZS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZWxlbSxleHByKXtpZigoZWxlbS5vd25lckRvY3VtZW50fHxlbGVtKSE9PWRvY3VtZW50JiZzZXREb2N1bWVudChlbGVtKSxleHByPWV4cHIucmVwbGFjZShyYXR0cmlidXRlUXVvdGVzLCI9JyQxJ10iKSwhKCFzdXBwb3J0Lm1hdGNoZXNTZWxlY3Rvcnx8IWRvY3VtZW50SXNIVE1MfHxyYnVnZ3lNYXRjaGVzJiZyYnVnZ3lNYXRjaGVzLnRlc3QoZXhwcil8fHJidWdneVFTQSYmcmJ1Z2d5UVNBLnRlc3QoZXhwcikpKXRyeXt2YXIgcmV0PW1hdGNoZXMuY2FsbChlbGVtLGV4cHIpO2lmKHJldHx8c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaHx8ZWxlbS5kb2N1bWVudCYmMTEhPT1lbGVtLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByZXR9Y2F0Y2goZSl7fXJldHVybiBTaXp6bGUoZXhwcixkb2N1bWVudCxudWxsLFtlbGVtXSkubGVuZ3RoPjB9LFNpenpsZS5jb250YWlucz1mdW5jdGlvbihjb250ZXh0LGVsZW0pe3JldHVybihjb250ZXh0Lm93bmVyRG9jdW1lbnR8fGNvbnRleHQpIT09ZG9jdW1lbnQmJnNldERvY3VtZW50KGNvbnRleHQpLGNvbnRhaW5zKGNvbnRleHQsZWxlbSl9LFNpenpsZS5hdHRyPWZ1bmN0aW9uKGVsZW0sbmFtZSl7KGVsZW0ub3duZXJEb2N1bWVudHx8ZWxlbSkhPT1kb2N1bWVudCYmc2V0RG9jdW1lbnQoZWxlbSk7dmFyIGZuPUV4cHIuYXR0ckhhbmRsZVtuYW1lLnRvTG93ZXJDYXNlKCldLHZhbD1mbiYmaGFzT3duLmNhbGwoRXhwci5hdHRySGFuZGxlLG5hbWUudG9Mb3dlckNhc2UoKSk/Zm4oZWxlbSxuYW1lLCFkb2N1bWVudElzSFRNTCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT12YWw/dmFsOnN1cHBvcnQuYXR0cmlidXRlc3x8IWRvY3VtZW50SXNIVE1MP2VsZW0uZ2V0QXR0cmlidXRlKG5hbWUpOih2YWw9ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSYmdmFsLnNwZWNpZmllZD92YWwudmFsdWU6bnVsbH0sU2l6emxlLmVycm9yPWZ1bmN0aW9uKG1zZyl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK21zZyl9LFNpenpsZS51bmlxdWVTb3J0PWZ1bmN0aW9uKHJlc3VsdHMpe3ZhciBlbGVtLGR1cGxpY2F0ZXM9W10saj0wLGk9MDtpZihoYXNEdXBsaWNhdGU9IXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyxzb3J0SW5wdXQ9IXN1cHBvcnQuc29ydFN0YWJsZSYmcmVzdWx0cy5zbGljZSgwKSxyZXN1bHRzLnNvcnQoc29ydE9yZGVyKSxoYXNEdXBsaWNhdGUpe2Zvcig7ZWxlbT1yZXN1bHRzW2krK107KWVsZW09PT1yZXN1bHRzW2ldJiYoaj1kdXBsaWNhdGVzLnB1c2goaSkpO2Zvcig7ai0tOylyZXN1bHRzLnNwbGljZShkdXBsaWNhdGVzW2pdLDEpfXJldHVybiBzb3J0SW5wdXQ9bnVsbCxyZXN1bHRzfSxnZXRUZXh0PVNpenpsZS5nZXRUZXh0PWZ1bmN0aW9uKGVsZW0pe3ZhciBub2RlLHJldD0iIixpPTAsbm9kZVR5cGU9ZWxlbS5ub2RlVHlwZTtpZihub2RlVHlwZSl7aWYoMT09PW5vZGVUeXBlfHw5PT09bm9kZVR5cGV8fDExPT09bm9kZVR5cGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZWxlbS50ZXh0Q29udGVudClyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtmb3IoZWxlbT1lbGVtLmZpcnN0Q2hpbGQ7ZWxlbTtlbGVtPWVsZW0ubmV4dFNpYmxpbmcpcmV0Kz1nZXRUZXh0KGVsZW0pfWVsc2UgaWYoMz09PW5vZGVUeXBlfHw0PT09bm9kZVR5cGUpcmV0dXJuIGVsZW0ubm9kZVZhbHVlfWVsc2UgZm9yKDtub2RlPWVsZW1baSsrXTspcmV0Kz1nZXRUZXh0KG5vZGUpO3JldHVybiByZXR9LEV4cHI9U2l6emxlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOm1hcmtGdW5jdGlvbixtYXRjaDptYXRjaEV4cHIsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4gbWF0Y2hbMV09bWF0Y2hbMV0ucmVwbGFjZShydW5lc2NhcGUsZnVuZXNjYXBlKSxtYXRjaFszXT0obWF0Y2hbM118fG1hdGNoWzRdfHxtYXRjaFs1XXx8IiIpLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSksIn49Ij09PW1hdGNoWzJdJiYobWF0Y2hbM109IiAiK21hdGNoWzNdKyIgIiksbWF0Y2guc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24obWF0Y2gpe3JldHVybiBtYXRjaFsxXT1tYXRjaFsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09bWF0Y2hbMV0uc2xpY2UoMCwzKT8obWF0Y2hbM118fFNpenpsZS5lcnJvcihtYXRjaFswXSksbWF0Y2hbNF09KyhtYXRjaFs0XT9tYXRjaFs1XSsobWF0Y2hbNl18fDEpOjIqKCJldmVuIj09PW1hdGNoWzNdfHwib2RkIj09PW1hdGNoWzNdKSksbWF0Y2hbNV09KyhtYXRjaFs3XSttYXRjaFs4XXx8Im9kZCI9PT1tYXRjaFszXSkpOm1hdGNoWzNdJiZTaXp6bGUuZXJyb3IobWF0Y2hbMF0pLG1hdGNofSxQU0VVRE86ZnVuY3Rpb24obWF0Y2gpe3ZhciBleGNlc3MsdW5xdW90ZWQ9IW1hdGNoWzZdJiZtYXRjaFsyXTtyZXR1cm4gbWF0Y2hFeHByLkNISUxELnRlc3QobWF0Y2hbMF0pP251bGw6KG1hdGNoWzNdP21hdGNoWzJdPW1hdGNoWzRdfHxtYXRjaFs1XXx8IiI6dW5xdW90ZWQmJnJwc2V1ZG8udGVzdCh1bnF1b3RlZCkmJihleGNlc3M9dG9rZW5pemUodW5xdW90ZWQsITApKSYmKGV4Y2Vzcz11bnF1b3RlZC5pbmRleE9mKCIpIix1bnF1b3RlZC5sZW5ndGgtZXhjZXNzKS11bnF1b3RlZC5sZW5ndGgpJiYobWF0Y2hbMF09bWF0Y2hbMF0uc2xpY2UoMCxleGNlc3MpLG1hdGNoWzJdPXVucXVvdGVkLnNsaWNlKDAsZXhjZXNzKSksbWF0Y2guc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihub2RlTmFtZVNlbGVjdG9yKXt2YXIgbm9kZU5hbWU9bm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09bm9kZU5hbWVTZWxlY3Rvcj9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5ub2RlTmFtZSYmZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bm9kZU5hbWV9fSxDTEFTUzpmdW5jdGlvbihjbGFzc05hbWUpe3ZhciBwYXR0ZXJuPWNsYXNzQ2FjaGVbY2xhc3NOYW1lKyIgIl07cmV0dXJuIHBhdHRlcm58fChwYXR0ZXJuPW5ldyBSZWdFeHAoIihefCIrd2hpdGVzcGFjZSsiKSIrY2xhc3NOYW1lKyIoIit3aGl0ZXNwYWNlKyJ8JCkiKSkmJmNsYXNzQ2FjaGUoY2xhc3NOYW1lLGZ1bmN0aW9uKGVsZW0pe3JldHVybiBwYXR0ZXJuLnRlc3QoInN0cmluZyI9PXR5cGVvZiBlbGVtLmNsYXNzTmFtZSYmZWxlbS5jbGFzc05hbWV8fHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSE9PXN0cnVuZGVmaW5lZCYmZWxlbS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKG5hbWUsb3BlcmF0b3IsY2hlY2spe3JldHVybiBmdW5jdGlvbihlbGVtKXt2YXIgcmVzdWx0PVNpenpsZS5hdHRyKGVsZW0sbmFtZSk7cmV0dXJuIG51bGw9PXJlc3VsdD8iIT0iPT09b3BlcmF0b3I6b3BlcmF0b3I/KHJlc3VsdCs9IiIsIj0iPT09b3BlcmF0b3I/cmVzdWx0PT09Y2hlY2s6IiE9Ij09PW9wZXJhdG9yP3Jlc3VsdCE9PWNoZWNrOiJePSI9PT1vcGVyYXRvcj9jaGVjayYmMD09PXJlc3VsdC5pbmRleE9mKGNoZWNrKToiKj0iPT09b3BlcmF0b3I/Y2hlY2smJnJlc3VsdC5pbmRleE9mKGNoZWNrKT4tMToiJD0iPT09b3BlcmF0b3I/Y2hlY2smJnJlc3VsdC5zbGljZSgtY2hlY2subGVuZ3RoKT09PWNoZWNrOiJ+PSI9PT1vcGVyYXRvcj8oIiAiK3Jlc3VsdCsiICIpLmluZGV4T2YoY2hlY2spPi0xOiJ8PSI9PT1vcGVyYXRvcj9yZXN1bHQ9PT1jaGVja3x8cmVzdWx0LnNsaWNlKDAsY2hlY2subGVuZ3RoKzEpPT09Y2hlY2srIi0iOiExKTohMH19LENISUxEOmZ1bmN0aW9uKHR5cGUsd2hhdCxhcmd1bWVudCxmaXJzdCxsYXN0KXt2YXIgc2ltcGxlPSJudGgiIT09dHlwZS5zbGljZSgwLDMpLGZvcndhcmQ9Imxhc3QiIT09dHlwZS5zbGljZSgtNCksb2ZUeXBlPSJvZi10eXBlIj09PXdoYXQ7cmV0dXJuIDE9PT1maXJzdCYmMD09PWxhc3Q/ZnVuY3Rpb24oZWxlbSl7cmV0dXJuISFlbGVtLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGVsZW0sY29udGV4dCx4bWwpe3ZhciBjYWNoZSxvdXRlckNhY2hlLG5vZGUsZGlmZixub2RlSW5kZXgsc3RhcnQsZGlyPXNpbXBsZSE9PWZvcndhcmQ/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixwYXJlbnQ9ZWxlbS5wYXJlbnROb2RlLG5hbWU9b2ZUeXBlJiZlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdXNlQ2FjaGU9IXhtbCYmIW9mVHlwZTtpZihwYXJlbnQpe2lmKHNpbXBsZSl7Zm9yKDtkaXI7KXtmb3Iobm9kZT1lbGVtO25vZGU9bm9kZVtkaXJdOylpZihvZlR5cGU/bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bmFtZToxPT09bm9kZS5ub2RlVHlwZSlyZXR1cm4hMTtzdGFydD1kaXI9Im9ubHkiPT09dHlwZSYmIXN0YXJ0JiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKHN0YXJ0PVtmb3J3YXJkP3BhcmVudC5maXJzdENoaWxkOnBhcmVudC5sYXN0Q2hpbGRdLGZvcndhcmQmJnVzZUNhY2hlKXtmb3Iob3V0ZXJDYWNoZT1wYXJlbnRbZXhwYW5kb118fChwYXJlbnRbZXhwYW5kb109e30pLGNhY2hlPW91dGVyQ2FjaGVbdHlwZV18fFtdLG5vZGVJbmRleD1jYWNoZVswXT09PWRpcnJ1bnMmJmNhY2hlWzFdLGRpZmY9Y2FjaGVbMF09PT1kaXJydW5zJiZjYWNoZVsyXSxub2RlPW5vZGVJbmRleCYmcGFyZW50LmNoaWxkTm9kZXNbbm9kZUluZGV4XTtub2RlPSsrbm9kZUluZGV4JiZub2RlJiZub2RlW2Rpcl18fChkaWZmPW5vZGVJbmRleD0wKXx8c3RhcnQucG9wKCk7KWlmKDE9PT1ub2RlLm5vZGVUeXBlJiYrK2RpZmYmJm5vZGU9PT1lbGVtKXtvdXRlckNhY2hlW3R5cGVdPVtkaXJydW5zLG5vZGVJbmRleCxkaWZmXTticmVha319ZWxzZSBpZih1c2VDYWNoZSYmKGNhY2hlPShlbGVtW2V4cGFuZG9dfHwoZWxlbVtleHBhbmRvXT17fSkpW3R5cGVdKSYmY2FjaGVbMF09PT1kaXJydW5zKWRpZmY9Y2FjaGVbMV07ZWxzZSBmb3IoOyhub2RlPSsrbm9kZUluZGV4JiZub2RlJiZub2RlW2Rpcl18fChkaWZmPW5vZGVJbmRleD0wKXx8c3RhcnQucG9wKCkpJiYoKG9mVHlwZT9ub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT1uYW1lOjEhPT1ub2RlLm5vZGVUeXBlKXx8ISsrZGlmZnx8KHVzZUNhY2hlJiYoKG5vZGVbZXhwYW5kb118fChub2RlW2V4cGFuZG9dPXt9KSlbdHlwZV09W2RpcnJ1bnMsZGlmZl0pLG5vZGUhPT1lbGVtKSk7KTtyZXR1cm4gZGlmZi09bGFzdCxkaWZmPT09Zmlyc3R8fGRpZmYlZmlyc3Q9PT0wJiZkaWZmL2ZpcnN0Pj0wfX19LFBTRVVETzpmdW5jdGlvbihwc2V1ZG8sYXJndW1lbnQpe3ZhciBhcmdzLGZuPUV4cHIucHNldWRvc1twc2V1ZG9dfHxFeHByLnNldEZpbHRlcnNbcHNldWRvLnRvTG93ZXJDYXNlKCldfHxTaXp6bGUuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitwc2V1ZG8pO3JldHVybiBmbltleHBhbmRvXT9mbihhcmd1bWVudCk6Zm4ubGVuZ3RoPjE/KGFyZ3M9W3BzZXVkbyxwc2V1ZG8sIiIsYXJndW1lbnRdLEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShwc2V1ZG8udG9Mb3dlckNhc2UoKSk/bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKHNlZWQsbWF0Y2hlcyl7Zm9yKHZhciBpZHgsbWF0Y2hlZD1mbihzZWVkLGFyZ3VtZW50KSxpPW1hdGNoZWQubGVuZ3RoO2ktLTspaWR4PWluZGV4T2YuY2FsbChzZWVkLG1hdGNoZWRbaV0pLHNlZWRbaWR4XT0hKG1hdGNoZXNbaWR4XT1tYXRjaGVkW2ldKX0pOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBmbihlbGVtLDAsYXJncyl9KTpmbn19LHBzZXVkb3M6e25vdDptYXJrRnVuY3Rpb24oZnVuY3Rpb24oc2VsZWN0b3Ipe3ZhciBpbnB1dD1bXSxyZXN1bHRzPVtdLG1hdGNoZXI9Y29tcGlsZShzZWxlY3Rvci5yZXBsYWNlKHJ0cmltLCIkMSIpKTtyZXR1cm4gbWF0Y2hlcltleHBhbmRvXT9tYXJrRnVuY3Rpb24oZnVuY3Rpb24oc2VlZCxtYXRjaGVzLGNvbnRleHQseG1sKXtmb3IodmFyIGVsZW0sdW5tYXRjaGVkPW1hdGNoZXIoc2VlZCxudWxsLHhtbCxbXSksaT1zZWVkLmxlbmd0aDtpLS07KShlbGVtPXVubWF0Y2hlZFtpXSkmJihzZWVkW2ldPSEobWF0Y2hlc1tpXT1lbGVtKSl9KTpmdW5jdGlvbihlbGVtLGNvbnRleHQseG1sKXtyZXR1cm4gaW5wdXRbMF09ZWxlbSxtYXRjaGVyKGlucHV0LG51bGwseG1sLHJlc3VsdHMpLCFyZXN1bHRzLnBvcCgpfX0pLGhhczptYXJrRnVuY3Rpb24oZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiBmdW5jdGlvbihlbGVtKXtyZXR1cm4gU2l6emxlKHNlbGVjdG9yLGVsZW0pLmxlbmd0aD4wfX0pLGNvbnRhaW5zOm1hcmtGdW5jdGlvbihmdW5jdGlvbih0ZXh0KXtyZXR1cm4gZnVuY3Rpb24oZWxlbSl7cmV0dXJuKGVsZW0udGV4dENvbnRlbnR8fGVsZW0uaW5uZXJUZXh0fHxnZXRUZXh0KGVsZW0pKS5pbmRleE9mKHRleHQpPi0xfX0pLGxhbmc6bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKGxhbmcpe3JldHVybiByaWRlbnRpZmllci50ZXN0KGxhbmd8fCIiKXx8U2l6emxlLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2xhbmcpLGxhbmc9bGFuZy5yZXBsYWNlKHJ1bmVzY2FwZSxmdW5lc2NhcGUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oZWxlbSl7dmFyIGVsZW1MYW5nO2RvIGlmKGVsZW1MYW5nPWRvY3VtZW50SXNIVE1MP2VsZW0ubGFuZzplbGVtLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8ZWxlbS5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gZWxlbUxhbmc9ZWxlbUxhbmcudG9Mb3dlckNhc2UoKSxlbGVtTGFuZz09PWxhbmd8fDA9PT1lbGVtTGFuZy5pbmRleE9mKGxhbmcrIi0iKTt3aGlsZSgoZWxlbT1lbGVtLnBhcmVudE5vZGUpJiYxPT09ZWxlbS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGVsZW0pe3ZhciBoYXNoPXdpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLmhhc2g7cmV0dXJuIGhhc2gmJmhhc2guc2xpY2UoMSk9PT1lbGVtLmlkfSxyb290OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtPT09ZG9jRWxlbX0sZm9jdXM6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW09PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiYoIWRvY3VtZW50Lmhhc0ZvY3VzfHxkb2N1bWVudC5oYXNGb2N1cygpKSYmISEoZWxlbS50eXBlfHxlbGVtLmhyZWZ8fH5lbGVtLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGVsZW0pe3ZhciBub2RlTmFtZT1lbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PW5vZGVOYW1lJiYhIWVsZW0uY2hlY2tlZHx8Im9wdGlvbiI9PT1ub2RlTmFtZSYmISFlbGVtLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbS5wYXJlbnROb2RlJiZlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxlbGVtLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGVsZW0pe2ZvcihlbGVtPWVsZW0uZmlyc3RDaGlsZDtlbGVtO2VsZW09ZWxlbS5uZXh0U2libGluZylpZihlbGVtLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlbGVtKXtyZXR1cm4hRXhwci5wc2V1ZG9zLmVtcHR5KGVsZW0pfSxoZWFkZXI6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIHJoZWFkZXIudGVzdChlbGVtLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIHJpbnB1dHMudGVzdChlbGVtLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGVsZW0pe3ZhciBuYW1lPWVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09bmFtZSYmImJ1dHRvbiI9PT1lbGVtLnR5cGV8fCJidXR0b24iPT09bmFtZX0sdGV4dDpmdW5jdGlvbihlbGVtKXt2YXIgYXR0cjtyZXR1cm4iaW5wdXQiPT09ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1lbGVtLnR5cGUmJihudWxsPT0oYXR0cj1lbGVtLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09YXR0ci50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoKXtyZXR1cm5bbGVuZ3RoLTFdfSksZXE6Y3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbihtYXRjaEluZGV4ZXMsbGVuZ3RoLGFyZ3VtZW50KXtyZXR1cm5bMD5hcmd1bWVudD9hcmd1bWVudCtsZW5ndGg6YXJndW1lbnRdfSksZXZlbjpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgpe2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krPTIpbWF0Y2hJbmRleGVzLnB1c2goaSk7cmV0dXJuIG1hdGNoSW5kZXhlc30pLG9kZDpjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKG1hdGNoSW5kZXhlcyxsZW5ndGgpe2Zvcih2YXIgaT0xO2xlbmd0aD5pO2krPTIpbWF0Y2hJbmRleGVzLnB1c2goaSk7cmV0dXJuIG1hdGNoSW5kZXhlc30pLGx0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCxhcmd1bWVudCl7Zm9yKHZhciBpPTA+YXJndW1lbnQ/YXJndW1lbnQrbGVuZ3RoOmFyZ3VtZW50Oy0taT49MDspbWF0Y2hJbmRleGVzLnB1c2goaSk7cmV0dXJuIG1hdGNoSW5kZXhlc30pLGd0OmNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24obWF0Y2hJbmRleGVzLGxlbmd0aCxhcmd1bWVudCl7Zm9yKHZhciBpPTA+YXJndW1lbnQ/YXJndW1lbnQrbGVuZ3RoOmFyZ3VtZW50OysraTxsZW5ndGg7KW1hdGNoSW5kZXhlcy5wdXNoKGkpO3JldHVybiBtYXRjaEluZGV4ZXN9KX19LEV4cHIucHNldWRvcy5udGg9RXhwci5wc2V1ZG9zLmVxO2ZvcihpIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KUV4cHIucHNldWRvc1tpXT1jcmVhdGVJbnB1dFBzZXVkbyhpKTtmb3IoaSBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KUV4cHIucHNldWRvc1tpXT1jcmVhdGVCdXR0b25Qc2V1ZG8oaSk7cmV0dXJuIHNldEZpbHRlcnMucHJvdG90eXBlPUV4cHIuZmlsdGVycz1FeHByLnBzZXVkb3MsRXhwci5zZXRGaWx0ZXJzPW5ldyBzZXRGaWx0ZXJzLHRva2VuaXplPVNpenpsZS50b2tlbml6ZT1mdW5jdGlvbihzZWxlY3RvcixwYXJzZU9ubHkpe3ZhciBtYXRjaGVkLG1hdGNoLHRva2Vucyx0eXBlLHNvRmFyLGdyb3VwcyxwcmVGaWx0ZXJzLGNhY2hlZD10b2tlbkNhY2hlW3NlbGVjdG9yKyIgIl07aWYoY2FjaGVkKXJldHVybiBwYXJzZU9ubHk/MDpjYWNoZWQuc2xpY2UoMCk7Zm9yKHNvRmFyPXNlbGVjdG9yLGdyb3Vwcz1bXSxwcmVGaWx0ZXJzPUV4cHIucHJlRmlsdGVyO3NvRmFyOyl7KCFtYXRjaGVkfHwobWF0Y2g9cmNvbW1hLmV4ZWMoc29GYXIpKSkmJihtYXRjaCYmKHNvRmFyPXNvRmFyLnNsaWNlKG1hdGNoWzBdLmxlbmd0aCl8fHNvRmFyKSxncm91cHMucHVzaCh0b2tlbnM9W10pKSxtYXRjaGVkPSExLChtYXRjaD1yY29tYmluYXRvcnMuZXhlYyhzb0ZhcikpJiYobWF0Y2hlZD1tYXRjaC5zaGlmdCgpLHRva2Vucy5wdXNoKHt2YWx1ZTptYXRjaGVkLHR5cGU6bWF0Y2hbMF0ucmVwbGFjZShydHJpbSwiICIpfSksc29GYXI9c29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpKTtmb3IodHlwZSBpbiBFeHByLmZpbHRlcikhKG1hdGNoPW1hdGNoRXhwclt0eXBlXS5leGVjKHNvRmFyKSl8fHByZUZpbHRlcnNbdHlwZV0mJiEobWF0Y2g9cHJlRmlsdGVyc1t0eXBlXShtYXRjaCkpfHwobWF0Y2hlZD1tYXRjaC5zaGlmdCgpLHRva2Vucy5wdXNoKHt2YWx1ZTptYXRjaGVkLHR5cGU6dHlwZSxtYXRjaGVzOm1hdGNofSksc29GYXI9c29GYXIuc2xpY2UobWF0Y2hlZC5sZW5ndGgpKTtpZighbWF0Y2hlZClicmVha31yZXR1cm4gcGFyc2VPbmx5P3NvRmFyLmxlbmd0aDpzb0Zhcj9TaXp6bGUuZXJyb3Ioc2VsZWN0b3IpOnRva2VuQ2FjaGUoc2VsZWN0b3IsZ3JvdXBzKS5zbGljZSgwKX0sY29tcGlsZT1TaXp6bGUuY29tcGlsZT1mdW5jdGlvbihzZWxlY3RvcixtYXRjaCl7dmFyIGksc2V0TWF0Y2hlcnM9W10sZWxlbWVudE1hdGNoZXJzPVtdLGNhY2hlZD1jb21waWxlckNhY2hlW3NlbGVjdG9yKyIgIl07aWYoIWNhY2hlZCl7Zm9yKG1hdGNofHwobWF0Y2g9dG9rZW5pemUoc2VsZWN0b3IpKSxpPW1hdGNoLmxlbmd0aDtpLS07KWNhY2hlZD1tYXRjaGVyRnJvbVRva2VucyhtYXRjaFtpXSksY2FjaGVkW2V4cGFuZG9dP3NldE1hdGNoZXJzLnB1c2goY2FjaGVkKTplbGVtZW50TWF0Y2hlcnMucHVzaChjYWNoZWQpO2NhY2hlZD1jb21waWxlckNhY2hlKHNlbGVjdG9yLG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyhlbGVtZW50TWF0Y2hlcnMsc2V0TWF0Y2hlcnMpKSxjYWNoZWQuc2VsZWN0b3I9c2VsZWN0b3J9cmV0dXJuIGNhY2hlZH0sc2VsZWN0PVNpenpsZS5zZWxlY3Q9ZnVuY3Rpb24oc2VsZWN0b3IsY29udGV4dCxyZXN1bHRzLHNlZWQpe3ZhciBpLHRva2Vucyx0b2tlbix0eXBlLGZpbmQsY29tcGlsZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHNlbGVjdG9yJiZzZWxlY3RvcixtYXRjaD0hc2VlZCYmdG9rZW5pemUoc2VsZWN0b3I9Y29tcGlsZWQuc2VsZWN0b3J8fHNlbGVjdG9yKTtpZihyZXN1bHRzPXJlc3VsdHN8fFtdLDE9PT1tYXRjaC5sZW5ndGgpe2lmKHRva2Vucz1tYXRjaFswXT1tYXRjaFswXS5zbGljZSgwKSx0b2tlbnMubGVuZ3RoPjImJiJJRCI9PT0odG9rZW49dG9rZW5zWzBdKS50eXBlJiZzdXBwb3J0LmdldEJ5SWQmJjk9PT1jb250ZXh0Lm5vZGVUeXBlJiZkb2N1bWVudElzSFRNTCYmRXhwci5yZWxhdGl2ZVt0b2tlbnNbMV0udHlwZV0pe2lmKGNvbnRleHQ9KEV4cHIuZmluZC5JRCh0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSksY29udGV4dCl8fFtdKVswXSwhY29udGV4dClyZXR1cm4gcmVzdWx0cztjb21waWxlZCYmKGNvbnRleHQ9Y29udGV4dC5wYXJlbnROb2RlKSxzZWxlY3Rvcj1zZWxlY3Rvci5zbGljZSh0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWZvcihpPW1hdGNoRXhwci5uZWVkc0NvbnRleHQudGVzdChzZWxlY3Rvcik/MDp0b2tlbnMubGVuZ3RoO2ktLSYmKHRva2VuPXRva2Vuc1tpXSwhRXhwci5yZWxhdGl2ZVt0eXBlPXRva2VuLnR5cGVdKTspaWYoKGZpbmQ9RXhwci5maW5kW3R5cGVdKSYmKHNlZWQ9ZmluZCh0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLGZ1bmVzY2FwZSkscnNpYmxpbmcudGVzdCh0b2tlbnNbMF0udHlwZSkmJnRlc3RDb250ZXh0KGNvbnRleHQucGFyZW50Tm9kZSl8fGNvbnRleHQpKSl7aWYodG9rZW5zLnNwbGljZShpLDEpLHNlbGVjdG9yPXNlZWQubGVuZ3RoJiZ0b1NlbGVjdG9yKHRva2VucyksIXNlbGVjdG9yKXJldHVybiBwdXNoLmFwcGx5KHJlc3VsdHMsc2VlZCkscmVzdWx0czticmVha319cmV0dXJuKGNvbXBpbGVkfHxjb21waWxlKHNlbGVjdG9yLG1hdGNoKSkoc2VlZCxjb250ZXh0LCFkb2N1bWVudElzSFRNTCxyZXN1bHRzLHJzaWJsaW5nLnRlc3Qoc2VsZWN0b3IpJiZ0ZXN0Q29udGV4dChjb250ZXh0LnBhcmVudE5vZGUpfHxjb250ZXh0KSxyZXN1bHRzfSxzdXBwb3J0LnNvcnRTdGFibGU9ZXhwYW5kby5zcGxpdCgiIikuc29ydChzb3J0T3JkZXIpLmpvaW4oIiIpPT09ZXhwYW5kbyxzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM9ISFoYXNEdXBsaWNhdGUsc2V0RG9jdW1lbnQoKSxzdXBwb3J0LnNvcnREZXRhY2hlZD1hc3NlcnQoZnVuY3Rpb24oZGl2MSl7cmV0dXJuIDEmZGl2MS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSl9KSxhc3NlcnQoZnVuY3Rpb24oZGl2KXtyZXR1cm4gZGl2LmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09ZGl2LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8YWRkSGFuZGxlKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihlbGVtLG5hbWUsaXNYTUwpe3JldHVybiBpc1hNTD92b2lkIDA6ZWxlbS5nZXRBdHRyaWJ1dGUobmFtZSwidHlwZSI9PT1uYW1lLnRvTG93ZXJDYXNlKCk/MToyKX0pLHN1cHBvcnQuYXR0cmlidXRlcyYmYXNzZXJ0KGZ1bmN0aW9uKGRpdil7cmV0dXJuIGRpdi5pbm5lckhUTUw9IjxpbnB1dC8+IixkaXYuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1kaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8YWRkSGFuZGxlKCJ2YWx1ZSIsZnVuY3Rpb24oZWxlbSxuYW1lLGlzWE1MKXtyZXR1cm4gaXNYTUx8fCJpbnB1dCIhPT1lbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmVsZW0uZGVmYXVsdFZhbHVlfSksYXNzZXJ0KGZ1bmN0aW9uKGRpdil7cmV0dXJuIG51bGw9PWRpdi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8YWRkSGFuZGxlKGJvb2xlYW5zLGZ1bmN0aW9uKGVsZW0sbmFtZSxpc1hNTCl7dmFyIHZhbDtyZXR1cm4gaXNYTUw/dm9pZCAwOmVsZW1bbmFtZV09PT0hMD9uYW1lLnRvTG93ZXJDYXNlKCk6KHZhbD1lbGVtLmdldEF0dHJpYnV0ZU5vZGUobmFtZSkpJiZ2YWwuc3BlY2lmaWVkP3ZhbC52YWx1ZTpudWxsfSksU2l6emxlfSh3aW5kb3cpO2pRdWVyeS5maW5kPVNpenpsZSxqUXVlcnkuZXhwcj1TaXp6bGUuc2VsZWN0b3JzLGpRdWVyeS5leHByWyI6Il09alF1ZXJ5LmV4cHIucHNldWRvcyxqUXVlcnkudW5pcXVlPVNpenpsZS51bmlxdWVTb3J0LGpRdWVyeS50ZXh0PVNpenpsZS5nZXRUZXh0LGpRdWVyeS5pc1hNTERvYz1TaXp6bGUuaXNYTUwsalF1ZXJ5LmNvbnRhaW5zPVNpenpsZS5jb250YWluczt2YXIgcm5lZWRzQ29udGV4dD1qUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQscnNpbmdsZVRhZz0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLHJpc1NpbXBsZT0vXi5bXjojXFtcLixdKiQvO2pRdWVyeS5maWx0ZXI9ZnVuY3Rpb24oZXhwcixlbGVtcyxub3Qpe3ZhciBlbGVtPWVsZW1zWzBdO3JldHVybiBub3QmJihleHByPSI6bm90KCIrZXhwcisiKSIpLDE9PT1lbGVtcy5sZW5ndGgmJjE9PT1lbGVtLm5vZGVUeXBlP2pRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihlbGVtLGV4cHIpP1tlbGVtXTpbXTpqUXVlcnkuZmluZC5tYXRjaGVzKGV4cHIsalF1ZXJ5LmdyZXAoZWxlbXMsZnVuY3Rpb24oZWxlbSl7cmV0dXJuIDE9PT1lbGVtLm5vZGVUeXBlfSkpfSxqUXVlcnkuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKHNlbGVjdG9yKXt2YXIgaSxsZW49dGhpcy5sZW5ndGgscmV0PVtdLHNlbGY9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIHNlbGVjdG9yKXJldHVybiB0aGlzLnB1c2hTdGFjayhqUXVlcnkoc2VsZWN0b3IpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihpPTA7bGVuPmk7aSsrKWlmKGpRdWVyeS5jb250YWlucyhzZWxmW2ldLHRoaXMpKXJldHVybiEwfSkpO2ZvcihpPTA7bGVuPmk7aSsrKWpRdWVyeS5maW5kKHNlbGVjdG9yLHNlbGZbaV0scmV0KTtyZXR1cm4gcmV0PXRoaXMucHVzaFN0YWNrKGxlbj4xP2pRdWVyeS51bmlxdWUocmV0KTpyZXQpLHJldC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK3NlbGVjdG9yOnNlbGVjdG9yLHJldH0sZmlsdGVyOmZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sod2lubm93KHRoaXMsc2VsZWN0b3J8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihzZWxlY3Rvcil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHdpbm5vdyh0aGlzLHNlbGVjdG9yfHxbXSwhMCkpfSxpczpmdW5jdGlvbihzZWxlY3Rvcil7cmV0dXJuISF3aW5ub3codGhpcywic3RyaW5nIj09dHlwZW9mIHNlbGVjdG9yJiZybmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3IpP2pRdWVyeShzZWxlY3Rvcik6c2VsZWN0b3J8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHJvb3RqUXVlcnkscnF1aWNrRXhwcj0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLGluaXQ9alF1ZXJ5LmZuLmluaXQ9ZnVuY3Rpb24oc2VsZWN0b3IsY29udGV4dCl7dmFyIG1hdGNoLGVsZW07aWYoIXNlbGVjdG9yKXJldHVybiB0aGlzO2lmKCJzdHJpbmciPT10eXBlb2Ygc2VsZWN0b3Ipe2lmKG1hdGNoPSI8Ij09PXNlbGVjdG9yWzBdJiYiPiI9PT1zZWxlY3RvcltzZWxlY3Rvci5sZW5ndGgtMV0mJnNlbGVjdG9yLmxlbmd0aD49Mz9bbnVsbCxzZWxlY3RvcixudWxsXTpycXVpY2tFeHByLmV4ZWMoc2VsZWN0b3IpLCFtYXRjaHx8IW1hdGNoWzFdJiZjb250ZXh0KXJldHVybiFjb250ZXh0fHxjb250ZXh0LmpxdWVyeT8oY29udGV4dHx8cm9vdGpRdWVyeSkuZmluZChzZWxlY3Rvcik6dGhpcy5jb25zdHJ1Y3Rvcihjb250ZXh0KS5maW5kKHNlbGVjdG9yKTtpZihtYXRjaFsxXSl7aWYoY29udGV4dD1jb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5P2NvbnRleHRbMF06Y29udGV4dCxqUXVlcnkubWVyZ2UodGhpcyxqUXVlcnkucGFyc2VIVE1MKG1hdGNoWzFdLGNvbnRleHQmJmNvbnRleHQubm9kZVR5cGU/Y29udGV4dC5vd25lckRvY3VtZW50fHxjb250ZXh0OmRvY3VtZW50LCEwKSkscnNpbmdsZVRhZy50ZXN0KG1hdGNoWzFdKSYmalF1ZXJ5LmlzUGxhaW5PYmplY3QoY29udGV4dCkpZm9yKG1hdGNoIGluIGNvbnRleHQpalF1ZXJ5LmlzRnVuY3Rpb24odGhpc1ttYXRjaF0pP3RoaXNbbWF0Y2hdKGNvbnRleHRbbWF0Y2hdKTp0aGlzLmF0dHIobWF0Y2gsY29udGV4dFttYXRjaF0pO3JldHVybiB0aGlzfXJldHVybiBlbGVtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hdGNoWzJdKSxlbGVtJiZlbGVtLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZWxlbSksdGhpcy5jb250ZXh0PWRvY3VtZW50LHRoaXMuc2VsZWN0b3I9c2VsZWN0b3IsdGhpc31yZXR1cm4gc2VsZWN0b3Iubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPXNlbGVjdG9yLHRoaXMubGVuZ3RoPTEsdGhpcyk6alF1ZXJ5LmlzRnVuY3Rpb24oc2VsZWN0b3IpPyJ1bmRlZmluZWQiIT10eXBlb2Ygcm9vdGpRdWVyeS5yZWFkeT9yb290alF1ZXJ5LnJlYWR5KHNlbGVjdG9yKTpzZWxlY3RvcihqUXVlcnkpOih2b2lkIDAhPT1zZWxlY3Rvci5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9c2VsZWN0b3Iuc2VsZWN0b3IsdGhpcy5jb250ZXh0PXNlbGVjdG9yLmNvbnRleHQpLGpRdWVyeS5tYWtlQXJyYXkoc2VsZWN0b3IsdGhpcykpfTtpbml0LnByb3RvdHlwZT1qUXVlcnkuZm4scm9vdGpRdWVyeT1qUXVlcnkoZG9jdW1lbnQpO3ZhciBycGFyZW50c3ByZXY9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sZ3VhcmFudGVlZFVuaXF1ZT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtqUXVlcnkuZXh0ZW5kKHtkaXI6ZnVuY3Rpb24oZWxlbSxkaXIsdW50aWwpe2Zvcih2YXIgbWF0Y2hlZD1bXSx0cnVuY2F0ZT12b2lkIDAhPT11bnRpbDsoZWxlbT1lbGVtW2Rpcl0pJiY5IT09ZWxlbS5ub2RlVHlwZTspaWYoMT09PWVsZW0ubm9kZVR5cGUpe2lmKHRydW5jYXRlJiZqUXVlcnkoZWxlbSkuaXModW50aWwpKWJyZWFrO21hdGNoZWQucHVzaChlbGVtKX1yZXR1cm4gbWF0Y2hlZH0sc2libGluZzpmdW5jdGlvbihuLGVsZW0pe2Zvcih2YXIgbWF0Y2hlZD1bXTtuO249bi5uZXh0U2libGluZykxPT09bi5ub2RlVHlwZSYmbiE9PWVsZW0mJm1hdGNoZWQucHVzaChuKTtyZXR1cm4gbWF0Y2hlZH19KSxqUXVlcnkuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24odGFyZ2V0KXt2YXIgdGFyZ2V0cz1qUXVlcnkodGFyZ2V0LHRoaXMpLGw9dGFyZ2V0cy5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7bD5pO2krKylpZihqUXVlcnkuY29udGFpbnModGhpcyx0YXJnZXRzW2ldKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKHNlbGVjdG9ycyxjb250ZXh0KXtmb3IodmFyIGN1cixpPTAsbD10aGlzLmxlbmd0aCxtYXRjaGVkPVtdLHBvcz1ybmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3JzKXx8InN0cmluZyIhPXR5cGVvZiBzZWxlY3RvcnM/alF1ZXJ5KHNlbGVjdG9ycyxjb250ZXh0fHx0aGlzLmNvbnRleHQpOjA7bD5pO2krKylmb3IoY3VyPXRoaXNbaV07Y3VyJiZjdXIhPT1jb250ZXh0O2N1cj1jdXIucGFyZW50Tm9kZSlpZihjdXIubm9kZVR5cGU8MTEmJihwb3M/cG9zLmluZGV4KGN1cik+LTE6MT09PWN1ci5ub2RlVHlwZSYmalF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKGN1cixzZWxlY3RvcnMpKSl7bWF0Y2hlZC5wdXNoKGN1cik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKG1hdGNoZWQubGVuZ3RoPjE/alF1ZXJ5LnVuaXF1ZShtYXRjaGVkKTptYXRjaGVkKX0saW5kZXg6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0/InN0cmluZyI9PXR5cGVvZiBlbGVtP2luZGV4T2YuY2FsbChqUXVlcnkoZWxlbSksdGhpc1swXSk6aW5kZXhPZi5jYWxsKHRoaXMsZWxlbS5qcXVlcnk/ZWxlbVswXTplbGVtKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihzZWxlY3Rvcixjb250ZXh0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soalF1ZXJ5LnVuaXF1ZShqUXVlcnkubWVyZ2UodGhpcy5nZXQoKSxqUXVlcnkoc2VsZWN0b3IsY29udGV4dCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiB0aGlzLmFkZChudWxsPT1zZWxlY3Rvcj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihzZWxlY3RvcikpfX0pLGpRdWVyeS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZWxlbSl7dmFyIHBhcmVudD1lbGVtLnBhcmVudE5vZGU7cmV0dXJuIHBhcmVudCYmMTEhPT1wYXJlbnQubm9kZVR5cGU/cGFyZW50Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGpRdWVyeS5kaXIoZWxlbSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZWxlbSxpLHVudGlsKXtyZXR1cm4galF1ZXJ5LmRpcihlbGVtLCJwYXJlbnROb2RlIix1bnRpbCl9LG5leHQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIHNpYmxpbmcoZWxlbSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlbGVtKXtyZXR1cm4gc2libGluZyhlbGVtLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlbGVtKXtyZXR1cm4galF1ZXJ5LmRpcihlbGVtLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGVsZW0pe3JldHVybiBqUXVlcnkuZGlyKGVsZW0sInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZWxlbSxpLHVudGlsKXtyZXR1cm4galF1ZXJ5LmRpcihlbGVtLCJuZXh0U2libGluZyIsdW50aWwpfSxwcmV2VW50aWw6ZnVuY3Rpb24oZWxlbSxpLHVudGlsKXtyZXR1cm4galF1ZXJ5LmRpcihlbGVtLCJwcmV2aW91c1NpYmxpbmciLHVudGlsKX0sc2libGluZ3M6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGpRdWVyeS5zaWJsaW5nKChlbGVtLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGVsZW0pfSxjaGlsZHJlbjpmdW5jdGlvbihlbGVtKXtyZXR1cm4galF1ZXJ5LnNpYmxpbmcoZWxlbS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50fHxqUXVlcnkubWVyZ2UoW10sZWxlbS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKG5hbWUsZm4pe2pRdWVyeS5mbltuYW1lXT1mdW5jdGlvbih1bnRpbCxzZWxlY3Rvcil7dmFyIG1hdGNoZWQ9alF1ZXJ5Lm1hcCh0aGlzLGZuLHVudGlsKTtyZXR1cm4iVW50aWwiIT09bmFtZS5zbGljZSgtNSkmJihzZWxlY3Rvcj11bnRpbCksc2VsZWN0b3ImJiJzdHJpbmciPT10eXBlb2Ygc2VsZWN0b3ImJihtYXRjaGVkPWpRdWVyeS5maWx0ZXIoc2VsZWN0b3IsbWF0Y2hlZCkpLHRoaXMubGVuZ3RoPjEmJihndWFyYW50ZWVkVW5pcXVlW25hbWVdfHxqUXVlcnkudW5pcXVlKG1hdGNoZWQpLHJwYXJlbnRzcHJldi50ZXN0KG5hbWUpJiZtYXRjaGVkLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobWF0Y2hlZCl9fSk7dmFyIHJub3R3aGl0ZT0vXFMrL2csb3B0aW9uc0NhY2hlPXt9O2pRdWVyeS5DYWxsYmFja3M9ZnVuY3Rpb24ob3B0aW9ucyl7b3B0aW9ucz0ic3RyaW5nIj09dHlwZW9mIG9wdGlvbnM/b3B0aW9uc0NhY2hlW29wdGlvbnNdfHxjcmVhdGVPcHRpb25zKG9wdGlvbnMpOmpRdWVyeS5leHRlbmQoe30sb3B0aW9ucyk7dmFyIG1lbW9yeSxmaXJlZCxmaXJpbmcsZmlyaW5nU3RhcnQsZmlyaW5nTGVuZ3RoLGZpcmluZ0luZGV4LGxpc3Q9W10sc3RhY2s9IW9wdGlvbnMub25jZSYmW10sZmlyZT1mdW5jdGlvbihkYXRhKXtmb3IobWVtb3J5PW9wdGlvbnMubWVtb3J5JiZkYXRhLGZpcmVkPSEwLGZpcmluZ0luZGV4PWZpcmluZ1N0YXJ0fHwwLGZpcmluZ1N0YXJ0PTAsZmlyaW5nTGVuZ3RoPWxpc3QubGVuZ3RoLGZpcmluZz0hMDtsaXN0JiZmaXJpbmdMZW5ndGg+ZmlyaW5nSW5kZXg7ZmlyaW5nSW5kZXgrKylpZihsaXN0W2ZpcmluZ0luZGV4XS5hcHBseShkYXRhWzBdLGRhdGFbMV0pPT09ITEmJm9wdGlvbnMuc3RvcE9uRmFsc2Upe21lbW9yeT0hMTticmVha31maXJpbmc9ITEsbGlzdCYmKHN0YWNrP3N0YWNrLmxlbmd0aCYmZmlyZShzdGFjay5zaGlmdCgpKTptZW1vcnk/bGlzdD1bXTpzZWxmLmRpc2FibGUoKSl9LHNlbGY9e2FkZDpmdW5jdGlvbigpe2lmKGxpc3Qpe3ZhciBzdGFydD1saXN0Lmxlbmd0aDshZnVuY3Rpb24gYWRkKGFyZ3Mpe2pRdWVyeS5lYWNoKGFyZ3MsZnVuY3Rpb24oXyxhcmcpe3ZhciB0eXBlPWpRdWVyeS50eXBlKGFyZyk7ImZ1bmN0aW9uIj09PXR5cGU/b3B0aW9ucy51bmlxdWUmJnNlbGYuaGFzKGFyZyl8fGxpc3QucHVzaChhcmcpOmFyZyYmYXJnLmxlbmd0aCYmInN0cmluZyIhPT10eXBlJiZhZGQoYXJnKX0pfShhcmd1bWVudHMpLGZpcmluZz9maXJpbmdMZW5ndGg9bGlzdC5sZW5ndGg6bWVtb3J5JiYoZmlyaW5nU3RhcnQ9c3RhcnQsZmlyZShtZW1vcnkpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGxpc3QmJmpRdWVyeS5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihfLGFyZyl7Zm9yKHZhciBpbmRleDsoaW5kZXg9alF1ZXJ5LmluQXJyYXkoYXJnLGxpc3QsaW5kZXgpKT4tMTspbGlzdC5zcGxpY2UoaW5kZXgsMSksZmlyaW5nJiYoZmlyaW5nTGVuZ3RoPj1pbmRleCYmZmlyaW5nTGVuZ3RoLS0sZmlyaW5nSW5kZXg+PWluZGV4JiZmaXJpbmdJbmRleC0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihmbil7cmV0dXJuIGZuP2pRdWVyeS5pbkFycmF5KGZuLGxpc3QpPi0xOiEoIWxpc3R8fCFsaXN0Lmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGxpc3Q9W10sZmlyaW5nTGVuZ3RoPTAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBsaXN0PXN0YWNrPW1lbW9yeT12b2lkIDAsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hbGlzdH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBzdGFjaz12b2lkIDAsbWVtb3J5fHxzZWxmLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hc3RhY2t9LGZpcmVXaXRoOmZ1bmN0aW9uKGNvbnRleHQsYXJncyl7cmV0dXJuIWxpc3R8fGZpcmVkJiYhc3RhY2t8fChhcmdzPWFyZ3N8fFtdLGFyZ3M9W2NvbnRleHQsYXJncy5zbGljZT9hcmdzLnNsaWNlKCk6YXJnc10sZmlyaW5nP3N0YWNrLnB1c2goYXJncyk6ZmlyZShhcmdzKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBzZWxmLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZmlyZWR9fTtyZXR1cm4gc2VsZn0salF1ZXJ5LmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oZnVuYyl7dmFyIHR1cGxlcz1bWyJyZXNvbHZlIiwiZG9uZSIsalF1ZXJ5LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLGpRdWVyeS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsalF1ZXJ5LkNhbGxiYWNrcygibWVtb3J5IildXSxzdGF0ZT0icGVuZGluZyIscHJvbWlzZT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGV9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBkZWZlcnJlZC5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgZm5zPWFyZ3VtZW50cztyZXR1cm4galF1ZXJ5LkRlZmVycmVkKGZ1bmN0aW9uKG5ld0RlZmVyKXtqUXVlcnkuZWFjaCh0dXBsZXMsZnVuY3Rpb24oaSx0dXBsZSl7dmFyIGZuPWpRdWVyeS5pc0Z1bmN0aW9uKGZuc1tpXSkmJmZuc1tpXTtkZWZlcnJlZFt0dXBsZVsxXV0oZnVuY3Rpb24oKXt2YXIgcmV0dXJuZWQ9Zm4mJmZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm5lZCYmalF1ZXJ5LmlzRnVuY3Rpb24ocmV0dXJuZWQucHJvbWlzZSk/cmV0dXJuZWQucHJvbWlzZSgpLmRvbmUobmV3RGVmZXIucmVzb2x2ZSkuZmFpbChuZXdEZWZlci5yZWplY3QpLnByb2dyZXNzKG5ld0RlZmVyLm5vdGlmeSk6bmV3RGVmZXJbdHVwbGVbMF0rIldpdGgiXSh0aGlzPT09cHJvbWlzZT9uZXdEZWZlci5wcm9taXNlKCk6dGhpcyxmbj9bcmV0dXJuZWRdOmFyZ3VtZW50cyl9KX0pLGZucz1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKG9iail7cmV0dXJuIG51bGwhPW9iaj9qUXVlcnkuZXh0ZW5kKG9iaixwcm9taXNlKTpwcm9taXNlfX0sZGVmZXJyZWQ9e307cmV0dXJuIHByb21pc2UucGlwZT1wcm9taXNlLnRoZW4salF1ZXJ5LmVhY2godHVwbGVzLGZ1bmN0aW9uKGksdHVwbGUpe3ZhciBsaXN0PXR1cGxlWzJdLHN0YXRlU3RyaW5nPXR1cGxlWzNdO3Byb21pc2VbdHVwbGVbMV1dPWxpc3QuYWRkLHN0YXRlU3RyaW5nJiZsaXN0LmFkZChmdW5jdGlvbigpe3N0YXRlPXN0YXRlU3RyaW5nfSx0dXBsZXNbMV5pXVsyXS5kaXNhYmxlLHR1cGxlc1syXVsyXS5sb2NrKSxkZWZlcnJlZFt0dXBsZVswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZGVmZXJyZWRbdHVwbGVbMF0rIldpdGgiXSh0aGlzPT09ZGVmZXJyZWQ/cHJvbWlzZTp0aGlzLGFyZ3VtZW50cyksdGhpc30sZGVmZXJyZWRbdHVwbGVbMF0rIldpdGgiXT1saXN0LmZpcmVXaXRofSkscHJvbWlzZS5wcm9taXNlKGRlZmVycmVkKSxmdW5jJiZmdW5jLmNhbGwoZGVmZXJyZWQsZGVmZXJyZWQpLGRlZmVycmVkfSx3aGVuOmZ1bmN0aW9uKHN1Ym9yZGluYXRlKXt2YXIgcHJvZ3Jlc3NWYWx1ZXMscHJvZ3Jlc3NDb250ZXh0cyxyZXNvbHZlQ29udGV4dHMsaT0wLHJlc29sdmVWYWx1ZXM9c2xpY2UuY2FsbChhcmd1bWVudHMpLGxlbmd0aD1yZXNvbHZlVmFsdWVzLmxlbmd0aCxyZW1haW5pbmc9MSE9PWxlbmd0aHx8c3Vib3JkaW5hdGUmJmpRdWVyeS5pc0Z1bmN0aW9uKHN1Ym9yZGluYXRlLnByb21pc2UpP2xlbmd0aDowLGRlZmVycmVkPTE9PT1yZW1haW5pbmc/c3Vib3JkaW5hdGU6alF1ZXJ5LkRlZmVycmVkKCksdXBkYXRlRnVuYz1mdW5jdGlvbihpLGNvbnRleHRzLHZhbHVlcyl7cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtjb250ZXh0c1tpXT10aGlzLHZhbHVlc1tpXT1hcmd1bWVudHMubGVuZ3RoPjE/c2xpY2UuY2FsbChhcmd1bWVudHMpOnZhbHVlLHZhbHVlcz09PXByb2dyZXNzVmFsdWVzP2RlZmVycmVkLm5vdGlmeVdpdGgoY29udGV4dHMsdmFsdWVzKTotLXJlbWFpbmluZ3x8ZGVmZXJyZWQucmVzb2x2ZVdpdGgoY29udGV4dHMsdmFsdWVzKX19O2lmKGxlbmd0aD4xKWZvcihwcm9ncmVzc1ZhbHVlcz1uZXcgQXJyYXkobGVuZ3RoKSxwcm9ncmVzc0NvbnRleHRzPW5ldyBBcnJheShsZW5ndGgpLHJlc29sdmVDb250ZXh0cz1uZXcgQXJyYXkobGVuZ3RoKTtsZW5ndGg+aTtpKyspcmVzb2x2ZVZhbHVlc1tpXSYmalF1ZXJ5LmlzRnVuY3Rpb24ocmVzb2x2ZVZhbHVlc1tpXS5wcm9taXNlKT9yZXNvbHZlVmFsdWVzW2ldLnByb21pc2UoKS5kb25lKHVwZGF0ZUZ1bmMoaSxyZXNvbHZlQ29udGV4dHMscmVzb2x2ZVZhbHVlcykpLmZhaWwoZGVmZXJyZWQucmVqZWN0KS5wcm9ncmVzcyh1cGRhdGVGdW5jKGkscHJvZ3Jlc3NDb250ZXh0cyxwcm9ncmVzc1ZhbHVlcykpOi0tcmVtYWluaW5nO3JldHVybiByZW1haW5pbmd8fGRlZmVycmVkLnJlc29sdmVXaXRoKHJlc29sdmVDb250ZXh0cyxyZXNvbHZlVmFsdWVzKSxkZWZlcnJlZC5wcm9taXNlKCl9fSk7dmFyIHJlYWR5TGlzdDtqUXVlcnkuZm4ucmVhZHk9ZnVuY3Rpb24oZm4pe3JldHVybiBqUXVlcnkucmVhZHkucHJvbWlzZSgpLmRvbmUoZm4pLHRoaXN9LGpRdWVyeS5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGhvbGQpe2hvbGQ/alF1ZXJ5LnJlYWR5V2FpdCsrOmpRdWVyeS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKHdhaXQpeyh3YWl0PT09ITA/LS1qUXVlcnkucmVhZHlXYWl0OmpRdWVyeS5pc1JlYWR5KXx8KGpRdWVyeS5pc1JlYWR5PSEwLHdhaXQhPT0hMCYmLS1qUXVlcnkucmVhZHlXYWl0PjB8fChyZWFkeUxpc3QucmVzb2x2ZVdpdGgoZG9jdW1lbnQsW2pRdWVyeV0pLGpRdWVyeS5mbi50cmlnZ2VySGFuZGxlciYmKGpRdWVyeShkb2N1bWVudCkudHJpZ2dlckhhbmRsZXIoInJlYWR5IiksalF1ZXJ5KGRvY3VtZW50KS5vZmYoInJlYWR5IikpKSl9fSksalF1ZXJ5LnJlYWR5LnByb21pc2U9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gcmVhZHlMaXN0fHwocmVhZHlMaXN0PWpRdWVyeS5EZWZlcnJlZCgpLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP3NldFRpbWVvdXQoalF1ZXJ5LnJlYWR5KTooZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsY29tcGxldGVkLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsY29tcGxldGVkLCExKSkpLHJlYWR5TGlzdC5wcm9taXNlKG9iail9LGpRdWVyeS5yZWFkeS5wcm9taXNlKCk7dmFyIGFjY2Vzcz1qUXVlcnkuYWNjZXNzPWZ1bmN0aW9uKGVsZW1zLGZuLGtleSx2YWx1ZSxjaGFpbmFibGUsZW1wdHlHZXQscmF3KXt2YXIgaT0wLGxlbj1lbGVtcy5sZW5ndGgsYnVsaz1udWxsPT1rZXk7aWYoIm9iamVjdCI9PT1qUXVlcnkudHlwZShrZXkpKXtjaGFpbmFibGU9ITA7Zm9yKGkgaW4ga2V5KWpRdWVyeS5hY2Nlc3MoZWxlbXMsZm4saSxrZXlbaV0sITAsZW1wdHlHZXQscmF3KX1lbHNlIGlmKHZvaWQgMCE9PXZhbHVlJiYoY2hhaW5hYmxlPSEwLGpRdWVyeS5pc0Z1bmN0aW9uKHZhbHVlKXx8KHJhdz0hMCksYnVsayYmKHJhdz8oZm4uY2FsbChlbGVtcyx2YWx1ZSksZm49bnVsbCk6KGJ1bGs9Zm4sZm49ZnVuY3Rpb24oZWxlbSxrZXksdmFsdWUpe3JldHVybiBidWxrLmNhbGwoalF1ZXJ5KGVsZW0pLHZhbHVlKX0pKSxmbikpZm9yKDtsZW4+aTtpKyspZm4oZWxlbXNbaV0sa2V5LHJhdz92YWx1ZTp2YWx1ZS5jYWxsKGVsZW1zW2ldLGksZm4oZWxlbXNbaV0sa2V5KSkpO3JldHVybiBjaGFpbmFibGU/ZWxlbXM6YnVsaz9mbi5jYWxsKGVsZW1zKTpsZW4/Zm4oZWxlbXNbMF0sa2V5KTplbXB0eUdldH07alF1ZXJ5LmFjY2VwdERhdGE9ZnVuY3Rpb24ob3duZXIpe3JldHVybiAxPT09b3duZXIubm9kZVR5cGV8fDk9PT1vd25lci5ub2RlVHlwZXx8IStvd25lci5ub2RlVHlwZX0sRGF0YS51aWQ9MSxEYXRhLmFjY2VwdHM9alF1ZXJ5LmFjY2VwdERhdGEsRGF0YS5wcm90b3R5cGU9e2tleTpmdW5jdGlvbihvd25lcil7aWYoIURhdGEuYWNjZXB0cyhvd25lcikpcmV0dXJuIDA7dmFyIGRlc2NyaXB0b3I9e30sdW5sb2NrPW93bmVyW3RoaXMuZXhwYW5kb107aWYoIXVubG9jayl7dW5sb2NrPURhdGEudWlkKys7dHJ5e2Rlc2NyaXB0b3JbdGhpcy5leHBhbmRvXT17dmFsdWU6dW5sb2NrfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvd25lcixkZXNjcmlwdG9yKX1jYXRjaChlKXtkZXNjcmlwdG9yW3RoaXMuZXhwYW5kb109dW5sb2NrLGpRdWVyeS5leHRlbmQob3duZXIsZGVzY3JpcHRvcil9fXJldHVybiB0aGlzLmNhY2hlW3VubG9ja118fCh0aGlzLmNhY2hlW3VubG9ja109e30pLHVubG9ja30sc2V0OmZ1bmN0aW9uKG93bmVyLGRhdGEsdmFsdWUpe3ZhciBwcm9wLHVubG9jaz10aGlzLmtleShvd25lciksY2FjaGU9dGhpcy5jYWNoZVt1bmxvY2tdO2lmKCJzdHJpbmciPT10eXBlb2YgZGF0YSljYWNoZVtkYXRhXT12YWx1ZTtlbHNlIGlmKGpRdWVyeS5pc0VtcHR5T2JqZWN0KGNhY2hlKSlqUXVlcnkuZXh0ZW5kKHRoaXMuY2FjaGVbdW5sb2NrXSxkYXRhKTtlbHNlIGZvcihwcm9wIGluIGRhdGEpY2FjaGVbcHJvcF09ZGF0YVtwcm9wXTtyZXR1cm4gY2FjaGV9LGdldDpmdW5jdGlvbihvd25lcixrZXkpe3ZhciBjYWNoZT10aGlzLmNhY2hlW3RoaXMua2V5KG93bmVyKV07cmV0dXJuIHZvaWQgMD09PWtleT9jYWNoZTpjYWNoZVtrZXldfSxhY2Nlc3M6ZnVuY3Rpb24ob3duZXIsa2V5LHZhbHVlKXt2YXIgc3RvcmVkO3JldHVybiB2b2lkIDA9PT1rZXl8fGtleSYmInN0cmluZyI9PXR5cGVvZiBrZXkmJnZvaWQgMD09PXZhbHVlPyhzdG9yZWQ9dGhpcy5nZXQob3duZXIsa2V5KSx2b2lkIDAhPT1zdG9yZWQ/c3RvcmVkOnRoaXMuZ2V0KG93bmVyLGpRdWVyeS5jYW1lbENhc2Uoa2V5KSkpOih0aGlzLnNldChvd25lcixrZXksdmFsdWUpLHZvaWQgMCE9PXZhbHVlP3ZhbHVlOmtleSl9LHJlbW92ZTpmdW5jdGlvbihvd25lcixrZXkpe3ZhciBpLG5hbWUsY2FtZWwsdW5sb2NrPXRoaXMua2V5KG93bmVyKSxjYWNoZT10aGlzLmNhY2hlW3VubG9ja107aWYodm9pZCAwPT09a2V5KXRoaXMuY2FjaGVbdW5sb2NrXT17fTtlbHNle2pRdWVyeS5pc0FycmF5KGtleSk/bmFtZT1rZXkuY29uY2F0KGtleS5tYXAoalF1ZXJ5LmNhbWVsQ2FzZSkpOihjYW1lbD1qUXVlcnkuY2FtZWxDYXNlKGtleSksa2V5IGluIGNhY2hlP25hbWU9W2tleSxjYW1lbF06KG5hbWU9Y2FtZWwsbmFtZT1uYW1lIGluIGNhY2hlP1tuYW1lXTpuYW1lLm1hdGNoKHJub3R3aGl0ZSl8fFtdKSksaT1uYW1lLmxlbmd0aDtmb3IoO2ktLTspZGVsZXRlIGNhY2hlW25hbWVbaV1dfX0saGFzRGF0YTpmdW5jdGlvbihvd25lcil7cmV0dXJuIWpRdWVyeS5pc0VtcHR5T2JqZWN0KHRoaXMuY2FjaGVbb3duZXJbdGhpcy5leHBhbmRvXV18fHt9KX0sZGlzY2FyZDpmdW5jdGlvbihvd25lcil7b3duZXJbdGhpcy5leHBhbmRvXSYmZGVsZXRlIHRoaXMuY2FjaGVbb3duZXJbdGhpcy5leHBhbmRvXV19fTt2YXIgZGF0YV9wcml2PW5ldyBEYXRhLGRhdGFfdXNlcj1uZXcgRGF0YSxyYnJhY2U9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxybXVsdGlEYXNoPS8oW0EtWl0pL2c7alF1ZXJ5LmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihlbGVtKXtyZXR1cm4gZGF0YV91c2VyLmhhc0RhdGEoZWxlbSl8fGRhdGFfcHJpdi5oYXNEYXRhKGVsZW0pfSxkYXRhOmZ1bmN0aW9uKGVsZW0sbmFtZSxkYXRhKXtyZXR1cm4gZGF0YV91c2VyLmFjY2VzcyhlbGVtLG5hbWUsZGF0YSl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZWxlbSxuYW1lKXtkYXRhX3VzZXIucmVtb3ZlKGVsZW0sbmFtZSl9LF9kYXRhOmZ1bmN0aW9uKGVsZW0sbmFtZSxkYXRhKXtyZXR1cm4gZGF0YV9wcml2LmFjY2VzcyhlbGVtLG5hbWUsZGF0YSl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGVsZW0sbmFtZSl7ZGF0YV9wcml2LnJlbW92ZShlbGVtLG5hbWUpfX0pLGpRdWVyeS5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oa2V5LHZhbHVlKXt2YXIgaSxuYW1lLGRhdGEsZWxlbT10aGlzWzBdLGF0dHJzPWVsZW0mJmVsZW0uYXR0cmlidXRlcztpZih2b2lkIDA9PT1rZXkpe2lmKHRoaXMubGVuZ3RoJiYoZGF0YT1kYXRhX3VzZXIuZ2V0KGVsZW0pLDE9PT1lbGVtLm5vZGVUeXBlJiYhZGF0YV9wcml2LmdldChlbGVtLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihpPWF0dHJzLmxlbmd0aDtpLS07KWF0dHJzW2ldJiYobmFtZT1hdHRyc1tpXS5uYW1lLDA9PT1uYW1lLmluZGV4T2YoImRhdGEtIikmJihuYW1lPWpRdWVyeS5jYW1lbENhc2UobmFtZS5zbGljZSg1KSksZGF0YUF0dHIoZWxlbSxuYW1lLGRhdGFbbmFtZV0pKSk7ZGF0YV9wcml2LnNldChlbGVtLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gZGF0YX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGtleT90aGlzLmVhY2goZnVuY3Rpb24oKXtkYXRhX3VzZXIuc2V0KHRoaXMsa2V5KX0pOmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHZhbHVlKXt2YXIgZGF0YSxjYW1lbEtleT1qUXVlcnkuY2FtZWxDYXNlKGtleSk7aWYoZWxlbSYmdm9pZCAwPT09dmFsdWUpe2lmKGRhdGE9ZGF0YV91c2VyLmdldChlbGVtLGtleSksdm9pZCAwIT09ZGF0YSlyZXR1cm4gZGF0YTtpZihkYXRhPWRhdGFfdXNlci5nZXQoZWxlbSxjYW1lbEtleSksdm9pZCAwIT09ZGF0YSlyZXR1cm4gZGF0YTsKaWYoZGF0YT1kYXRhQXR0cihlbGVtLGNhbWVsS2V5LHZvaWQgMCksdm9pZCAwIT09ZGF0YSlyZXR1cm4gZGF0YX1lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkYXRhPWRhdGFfdXNlci5nZXQodGhpcyxjYW1lbEtleSk7ZGF0YV91c2VyLnNldCh0aGlzLGNhbWVsS2V5LHZhbHVlKSwtMSE9PWtleS5pbmRleE9mKCItIikmJnZvaWQgMCE9PWRhdGEmJmRhdGFfdXNlci5zZXQodGhpcyxrZXksdmFsdWUpfSl9LG51bGwsdmFsdWUsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGtleSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RhdGFfdXNlci5yZW1vdmUodGhpcyxrZXkpfSl9fSksalF1ZXJ5LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZWxlbSx0eXBlLGRhdGEpe3ZhciBxdWV1ZTtyZXR1cm4gZWxlbT8odHlwZT0odHlwZXx8ImZ4IikrInF1ZXVlIixxdWV1ZT1kYXRhX3ByaXYuZ2V0KGVsZW0sdHlwZSksZGF0YSYmKCFxdWV1ZXx8alF1ZXJ5LmlzQXJyYXkoZGF0YSk/cXVldWU9ZGF0YV9wcml2LmFjY2VzcyhlbGVtLHR5cGUsalF1ZXJ5Lm1ha2VBcnJheShkYXRhKSk6cXVldWUucHVzaChkYXRhKSkscXVldWV8fFtdKTp2b2lkIDB9LGRlcXVldWU6ZnVuY3Rpb24oZWxlbSx0eXBlKXt0eXBlPXR5cGV8fCJmeCI7dmFyIHF1ZXVlPWpRdWVyeS5xdWV1ZShlbGVtLHR5cGUpLHN0YXJ0TGVuZ3RoPXF1ZXVlLmxlbmd0aCxmbj1xdWV1ZS5zaGlmdCgpLGhvb2tzPWpRdWVyeS5fcXVldWVIb29rcyhlbGVtLHR5cGUpLG5leHQ9ZnVuY3Rpb24oKXtqUXVlcnkuZGVxdWV1ZShlbGVtLHR5cGUpfTsiaW5wcm9ncmVzcyI9PT1mbiYmKGZuPXF1ZXVlLnNoaWZ0KCksc3RhcnRMZW5ndGgtLSksZm4mJigiZngiPT09dHlwZSYmcXVldWUudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBob29rcy5zdG9wLGZuLmNhbGwoZWxlbSxuZXh0LGhvb2tzKSksIXN0YXJ0TGVuZ3RoJiZob29rcyYmaG9va3MuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlbGVtLHR5cGUpe3ZhciBrZXk9dHlwZSsicXVldWVIb29rcyI7cmV0dXJuIGRhdGFfcHJpdi5nZXQoZWxlbSxrZXkpfHxkYXRhX3ByaXYuYWNjZXNzKGVsZW0sa2V5LHtlbXB0eTpqUXVlcnkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe2RhdGFfcHJpdi5yZW1vdmUoZWxlbSxbdHlwZSsicXVldWUiLGtleV0pfSl9KX19KSxqUXVlcnkuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbih0eXBlLGRhdGEpe3ZhciBzZXR0ZXI9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR5cGUmJihkYXRhPXR5cGUsdHlwZT0iZngiLHNldHRlci0tKSxhcmd1bWVudHMubGVuZ3RoPHNldHRlcj9qUXVlcnkucXVldWUodGhpc1swXSx0eXBlKTp2b2lkIDA9PT1kYXRhP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHF1ZXVlPWpRdWVyeS5xdWV1ZSh0aGlzLHR5cGUsZGF0YSk7alF1ZXJ5Ll9xdWV1ZUhvb2tzKHRoaXMsdHlwZSksImZ4Ij09PXR5cGUmJiJpbnByb2dyZXNzIiE9PXF1ZXVlWzBdJiZqUXVlcnkuZGVxdWV1ZSh0aGlzLHR5cGUpfSl9LGRlcXVldWU6ZnVuY3Rpb24odHlwZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS5kZXF1ZXVlKHRoaXMsdHlwZSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbih0eXBlKXtyZXR1cm4gdGhpcy5xdWV1ZSh0eXBlfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbih0eXBlLG9iail7dmFyIHRtcCxjb3VudD0xLGRlZmVyPWpRdWVyeS5EZWZlcnJlZCgpLGVsZW1lbnRzPXRoaXMsaT10aGlzLmxlbmd0aCxyZXNvbHZlPWZ1bmN0aW9uKCl7LS1jb3VudHx8ZGVmZXIucmVzb2x2ZVdpdGgoZWxlbWVudHMsW2VsZW1lbnRzXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIHR5cGUmJihvYmo9dHlwZSx0eXBlPXZvaWQgMCksdHlwZT10eXBlfHwiZngiO2ktLTspdG1wPWRhdGFfcHJpdi5nZXQoZWxlbWVudHNbaV0sdHlwZSsicXVldWVIb29rcyIpLHRtcCYmdG1wLmVtcHR5JiYoY291bnQrKyx0bXAuZW1wdHkuYWRkKHJlc29sdmUpKTtyZXR1cm4gcmVzb2x2ZSgpLGRlZmVyLnByb21pc2Uob2JqKX19KTt2YXIgcG51bT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxjc3NFeHBhbmQ9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxpc0hpZGRlbj1mdW5jdGlvbihlbGVtLGVsKXtyZXR1cm4gZWxlbT1lbHx8ZWxlbSwibm9uZSI9PT1qUXVlcnkuY3NzKGVsZW0sImRpc3BsYXkiKXx8IWpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsZWxlbSl9LHJjaGVja2FibGVUeXBlPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyFmdW5jdGlvbigpe3ZhciBmcmFnbWVudD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZGl2PWZyYWdtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxpbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2lucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksaW5wdXQuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGlucHV0LnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpLHN1cHBvcnQuY2hlY2tDbG9uZT1kaXYuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGRpdi5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PC90ZXh0YXJlYT4iLHN1cHBvcnQubm9DbG9uZUNoZWNrZWQ9ISFkaXYuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBzdHJ1bmRlZmluZWQ9InVuZGVmaW5lZCI7c3VwcG9ydC5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImluIHdpbmRvdzt2YXIgcmtleUV2ZW50PS9ea2V5LyxybW91c2VFdmVudD0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLyxyZm9jdXNNb3JwaD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8scnR5cGVuYW1lc3BhY2U9L14oW14uXSopKD86XC4oLispfCkkLztqUXVlcnkuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZWxlbSx0eXBlcyxoYW5kbGVyLGRhdGEsc2VsZWN0b3Ipe3ZhciBoYW5kbGVPYmpJbixldmVudEhhbmRsZSx0bXAsZXZlbnRzLHQsaGFuZGxlT2JqLHNwZWNpYWwsaGFuZGxlcnMsdHlwZSxuYW1lc3BhY2VzLG9yaWdUeXBlLGVsZW1EYXRhPWRhdGFfcHJpdi5nZXQoZWxlbSk7aWYoZWxlbURhdGEpZm9yKGhhbmRsZXIuaGFuZGxlciYmKGhhbmRsZU9iakluPWhhbmRsZXIsaGFuZGxlcj1oYW5kbGVPYmpJbi5oYW5kbGVyLHNlbGVjdG9yPWhhbmRsZU9iakluLnNlbGVjdG9yKSxoYW5kbGVyLmd1aWR8fChoYW5kbGVyLmd1aWQ9alF1ZXJ5Lmd1aWQrKyksKGV2ZW50cz1lbGVtRGF0YS5ldmVudHMpfHwoZXZlbnRzPWVsZW1EYXRhLmV2ZW50cz17fSksKGV2ZW50SGFuZGxlPWVsZW1EYXRhLmhhbmRsZSl8fChldmVudEhhbmRsZT1lbGVtRGF0YS5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBqUXVlcnkhPT1zdHJ1bmRlZmluZWQmJmpRdWVyeS5ldmVudC50cmlnZ2VyZWQhPT1lLnR5cGU/alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KGVsZW0sYXJndW1lbnRzKTp2b2lkIDB9KSx0eXBlcz0odHlwZXN8fCIiKS5tYXRjaChybm90d2hpdGUpfHxbIiJdLHQ9dHlwZXMubGVuZ3RoO3QtLTspdG1wPXJ0eXBlbmFtZXNwYWNlLmV4ZWModHlwZXNbdF0pfHxbXSx0eXBlPW9yaWdUeXBlPXRtcFsxXSxuYW1lc3BhY2VzPSh0bXBbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSx0eXBlJiYoc3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXXx8e30sdHlwZT0oc2VsZWN0b3I/c3BlY2lhbC5kZWxlZ2F0ZVR5cGU6c3BlY2lhbC5iaW5kVHlwZSl8fHR5cGUsc3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbFt0eXBlXXx8e30saGFuZGxlT2JqPWpRdWVyeS5leHRlbmQoe3R5cGU6dHlwZSxvcmlnVHlwZTpvcmlnVHlwZSxkYXRhOmRhdGEsaGFuZGxlcjpoYW5kbGVyLGd1aWQ6aGFuZGxlci5ndWlkLHNlbGVjdG9yOnNlbGVjdG9yLG5lZWRzQ29udGV4dDpzZWxlY3RvciYmalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3Qoc2VsZWN0b3IpLG5hbWVzcGFjZTpuYW1lc3BhY2VzLmpvaW4oIi4iKX0saGFuZGxlT2JqSW4pLChoYW5kbGVycz1ldmVudHNbdHlwZV0pfHwoaGFuZGxlcnM9ZXZlbnRzW3R5cGVdPVtdLGhhbmRsZXJzLmRlbGVnYXRlQ291bnQ9MCxzcGVjaWFsLnNldHVwJiZzcGVjaWFsLnNldHVwLmNhbGwoZWxlbSxkYXRhLG5hbWVzcGFjZXMsZXZlbnRIYW5kbGUpIT09ITF8fGVsZW0uYWRkRXZlbnRMaXN0ZW5lciYmZWxlbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsZXZlbnRIYW5kbGUsITEpKSxzcGVjaWFsLmFkZCYmKHNwZWNpYWwuYWRkLmNhbGwoZWxlbSxoYW5kbGVPYmopLGhhbmRsZU9iai5oYW5kbGVyLmd1aWR8fChoYW5kbGVPYmouaGFuZGxlci5ndWlkPWhhbmRsZXIuZ3VpZCkpLHNlbGVjdG9yP2hhbmRsZXJzLnNwbGljZShoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssMCxoYW5kbGVPYmopOmhhbmRsZXJzLnB1c2goaGFuZGxlT2JqKSxqUXVlcnkuZXZlbnQuZ2xvYmFsW3R5cGVdPSEwKX0scmVtb3ZlOmZ1bmN0aW9uKGVsZW0sdHlwZXMsaGFuZGxlcixzZWxlY3RvcixtYXBwZWRUeXBlcyl7dmFyIGosb3JpZ0NvdW50LHRtcCxldmVudHMsdCxoYW5kbGVPYmosc3BlY2lhbCxoYW5kbGVycyx0eXBlLG5hbWVzcGFjZXMsb3JpZ1R5cGUsZWxlbURhdGE9ZGF0YV9wcml2Lmhhc0RhdGEoZWxlbSkmJmRhdGFfcHJpdi5nZXQoZWxlbSk7aWYoZWxlbURhdGEmJihldmVudHM9ZWxlbURhdGEuZXZlbnRzKSl7Zm9yKHR5cGVzPSh0eXBlc3x8IiIpLm1hdGNoKHJub3R3aGl0ZSl8fFsiIl0sdD10eXBlcy5sZW5ndGg7dC0tOylpZih0bXA9cnR5cGVuYW1lc3BhY2UuZXhlYyh0eXBlc1t0XSl8fFtdLHR5cGU9b3JpZ1R5cGU9dG1wWzFdLG5hbWVzcGFjZXM9KHRtcFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLHR5cGUpe2ZvcihzcGVjaWFsPWpRdWVyeS5ldmVudC5zcGVjaWFsW3R5cGVdfHx7fSx0eXBlPShzZWxlY3Rvcj9zcGVjaWFsLmRlbGVnYXRlVHlwZTpzcGVjaWFsLmJpbmRUeXBlKXx8dHlwZSxoYW5kbGVycz1ldmVudHNbdHlwZV18fFtdLHRtcD10bXBbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK25hbWVzcGFjZXMuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksb3JpZ0NvdW50PWo9aGFuZGxlcnMubGVuZ3RoO2otLTspaGFuZGxlT2JqPWhhbmRsZXJzW2pdLCFtYXBwZWRUeXBlcyYmb3JpZ1R5cGUhPT1oYW5kbGVPYmoub3JpZ1R5cGV8fGhhbmRsZXImJmhhbmRsZXIuZ3VpZCE9PWhhbmRsZU9iai5ndWlkfHx0bXAmJiF0bXAudGVzdChoYW5kbGVPYmoubmFtZXNwYWNlKXx8c2VsZWN0b3ImJnNlbGVjdG9yIT09aGFuZGxlT2JqLnNlbGVjdG9yJiYoIioqIiE9PXNlbGVjdG9yfHwhaGFuZGxlT2JqLnNlbGVjdG9yKXx8KGhhbmRsZXJzLnNwbGljZShqLDEpLGhhbmRsZU9iai5zZWxlY3RvciYmaGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tLHNwZWNpYWwucmVtb3ZlJiZzcGVjaWFsLnJlbW92ZS5jYWxsKGVsZW0saGFuZGxlT2JqKSk7b3JpZ0NvdW50JiYhaGFuZGxlcnMubGVuZ3RoJiYoc3BlY2lhbC50ZWFyZG93biYmc3BlY2lhbC50ZWFyZG93bi5jYWxsKGVsZW0sbmFtZXNwYWNlcyxlbGVtRGF0YS5oYW5kbGUpIT09ITF8fGpRdWVyeS5yZW1vdmVFdmVudChlbGVtLHR5cGUsZWxlbURhdGEuaGFuZGxlKSxkZWxldGUgZXZlbnRzW3R5cGVdKX1lbHNlIGZvcih0eXBlIGluIGV2ZW50cylqUXVlcnkuZXZlbnQucmVtb3ZlKGVsZW0sdHlwZSt0eXBlc1t0XSxoYW5kbGVyLHNlbGVjdG9yLCEwKTtqUXVlcnkuaXNFbXB0eU9iamVjdChldmVudHMpJiYoZGVsZXRlIGVsZW1EYXRhLmhhbmRsZSxkYXRhX3ByaXYucmVtb3ZlKGVsZW0sImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oZXZlbnQsZGF0YSxlbGVtLG9ubHlIYW5kbGVycyl7dmFyIGksY3VyLHRtcCxidWJibGVUeXBlLG9udHlwZSxoYW5kbGUsc3BlY2lhbCxldmVudFBhdGg9W2VsZW18fGRvY3VtZW50XSx0eXBlPWhhc093bi5jYWxsKGV2ZW50LCJ0eXBlIik/ZXZlbnQudHlwZTpldmVudCxuYW1lc3BhY2VzPWhhc093bi5jYWxsKGV2ZW50LCJuYW1lc3BhY2UiKT9ldmVudC5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihjdXI9dG1wPWVsZW09ZWxlbXx8ZG9jdW1lbnQsMyE9PWVsZW0ubm9kZVR5cGUmJjghPT1lbGVtLm5vZGVUeXBlJiYhcmZvY3VzTW9ycGgudGVzdCh0eXBlK2pRdWVyeS5ldmVudC50cmlnZ2VyZWQpJiYodHlwZS5pbmRleE9mKCIuIik+PTAmJihuYW1lc3BhY2VzPXR5cGUuc3BsaXQoIi4iKSx0eXBlPW5hbWVzcGFjZXMuc2hpZnQoKSxuYW1lc3BhY2VzLnNvcnQoKSksb250eXBlPXR5cGUuaW5kZXhPZigiOiIpPDAmJiJvbiIrdHlwZSxldmVudD1ldmVudFtqUXVlcnkuZXhwYW5kb10/ZXZlbnQ6bmV3IGpRdWVyeS5FdmVudCh0eXBlLCJvYmplY3QiPT10eXBlb2YgZXZlbnQmJmV2ZW50KSxldmVudC5pc1RyaWdnZXI9b25seUhhbmRsZXJzPzI6MyxldmVudC5uYW1lc3BhY2U9bmFtZXNwYWNlcy5qb2luKCIuIiksZXZlbnQubmFtZXNwYWNlX3JlPWV2ZW50Lm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIituYW1lc3BhY2VzLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZXZlbnQucmVzdWx0PXZvaWQgMCxldmVudC50YXJnZXR8fChldmVudC50YXJnZXQ9ZWxlbSksZGF0YT1udWxsPT1kYXRhP1tldmVudF06alF1ZXJ5Lm1ha2VBcnJheShkYXRhLFtldmVudF0pLHNwZWNpYWw9alF1ZXJ5LmV2ZW50LnNwZWNpYWxbdHlwZV18fHt9LG9ubHlIYW5kbGVyc3x8IXNwZWNpYWwudHJpZ2dlcnx8c3BlY2lhbC50cmlnZ2VyLmFwcGx5KGVsZW0sZGF0YSkhPT0hMSkpe2lmKCFvbmx5SGFuZGxlcnMmJiFzcGVjaWFsLm5vQnViYmxlJiYhalF1ZXJ5LmlzV2luZG93KGVsZW0pKXtmb3IoYnViYmxlVHlwZT1zcGVjaWFsLmRlbGVnYXRlVHlwZXx8dHlwZSxyZm9jdXNNb3JwaC50ZXN0KGJ1YmJsZVR5cGUrdHlwZSl8fChjdXI9Y3VyLnBhcmVudE5vZGUpO2N1cjtjdXI9Y3VyLnBhcmVudE5vZGUpZXZlbnRQYXRoLnB1c2goY3VyKSx0bXA9Y3VyO3RtcD09PShlbGVtLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50KSYmZXZlbnRQYXRoLnB1c2godG1wLmRlZmF1bHRWaWV3fHx0bXAucGFyZW50V2luZG93fHx3aW5kb3cpfWZvcihpPTA7KGN1cj1ldmVudFBhdGhbaSsrXSkmJiFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylldmVudC50eXBlPWk+MT9idWJibGVUeXBlOnNwZWNpYWwuYmluZFR5cGV8fHR5cGUsaGFuZGxlPShkYXRhX3ByaXYuZ2V0KGN1ciwiZXZlbnRzIil8fHt9KVtldmVudC50eXBlXSYmZGF0YV9wcml2LmdldChjdXIsImhhbmRsZSIpLGhhbmRsZSYmaGFuZGxlLmFwcGx5KGN1cixkYXRhKSxoYW5kbGU9b250eXBlJiZjdXJbb250eXBlXSxoYW5kbGUmJmhhbmRsZS5hcHBseSYmalF1ZXJ5LmFjY2VwdERhdGEoY3VyKSYmKGV2ZW50LnJlc3VsdD1oYW5kbGUuYXBwbHkoY3VyLGRhdGEpLGV2ZW50LnJlc3VsdD09PSExJiZldmVudC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gZXZlbnQudHlwZT10eXBlLG9ubHlIYW5kbGVyc3x8ZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fHNwZWNpYWwuX2RlZmF1bHQmJnNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoZXZlbnRQYXRoLnBvcCgpLGRhdGEpIT09ITF8fCFqUXVlcnkuYWNjZXB0RGF0YShlbGVtKXx8b250eXBlJiZqUXVlcnkuaXNGdW5jdGlvbihlbGVtW3R5cGVdKSYmIWpRdWVyeS5pc1dpbmRvdyhlbGVtKSYmKHRtcD1lbGVtW29udHlwZV0sdG1wJiYoZWxlbVtvbnR5cGVdPW51bGwpLGpRdWVyeS5ldmVudC50cmlnZ2VyZWQ9dHlwZSxlbGVtW3R5cGVdKCksalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsdG1wJiYoZWxlbVtvbnR5cGVdPXRtcCkpLGV2ZW50LnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGV2ZW50KXtldmVudD1qUXVlcnkuZXZlbnQuZml4KGV2ZW50KTt2YXIgaSxqLHJldCxtYXRjaGVkLGhhbmRsZU9iaixoYW5kbGVyUXVldWU9W10sYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cyksaGFuZGxlcnM9KGRhdGFfcHJpdi5nZXQodGhpcywiZXZlbnRzIil8fHt9KVtldmVudC50eXBlXXx8W10sc3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbFtldmVudC50eXBlXXx8e307aWYoYXJnc1swXT1ldmVudCxldmVudC5kZWxlZ2F0ZVRhcmdldD10aGlzLCFzcGVjaWFsLnByZURpc3BhdGNofHxzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwodGhpcyxldmVudCkhPT0hMSl7Zm9yKGhhbmRsZXJRdWV1ZT1qUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGV2ZW50LGhhbmRsZXJzKSxpPTA7KG1hdGNoZWQ9aGFuZGxlclF1ZXVlW2krK10pJiYhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspZm9yKGV2ZW50LmN1cnJlbnRUYXJnZXQ9bWF0Y2hlZC5lbGVtLGo9MDsoaGFuZGxlT2JqPW1hdGNoZWQuaGFuZGxlcnNbaisrXSkmJiFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOykoIWV2ZW50Lm5hbWVzcGFjZV9yZXx8ZXZlbnQubmFtZXNwYWNlX3JlLnRlc3QoaGFuZGxlT2JqLm5hbWVzcGFjZSkpJiYoZXZlbnQuaGFuZGxlT2JqPWhhbmRsZU9iaixldmVudC5kYXRhPWhhbmRsZU9iai5kYXRhLHJldD0oKGpRdWVyeS5ldmVudC5zcGVjaWFsW2hhbmRsZU9iai5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGhhbmRsZU9iai5oYW5kbGVyKS5hcHBseShtYXRjaGVkLmVsZW0sYXJncyksdm9pZCAwIT09cmV0JiYoZXZlbnQucmVzdWx0PXJldCk9PT0hMSYmKGV2ZW50LnByZXZlbnREZWZhdWx0KCksZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkpKTtyZXR1cm4gc3BlY2lhbC5wb3N0RGlzcGF0Y2gmJnNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwodGhpcyxldmVudCksZXZlbnQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZXZlbnQsaGFuZGxlcnMpe3ZhciBpLG1hdGNoZXMsc2VsLGhhbmRsZU9iaixoYW5kbGVyUXVldWU9W10sZGVsZWdhdGVDb3VudD1oYW5kbGVycy5kZWxlZ2F0ZUNvdW50LGN1cj1ldmVudC50YXJnZXQ7aWYoZGVsZWdhdGVDb3VudCYmY3VyLm5vZGVUeXBlJiYoIWV2ZW50LmJ1dHRvbnx8ImNsaWNrIiE9PWV2ZW50LnR5cGUpKWZvcig7Y3VyIT09dGhpcztjdXI9Y3VyLnBhcmVudE5vZGV8fHRoaXMpaWYoY3VyLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1ldmVudC50eXBlKXtmb3IobWF0Y2hlcz1bXSxpPTA7ZGVsZWdhdGVDb3VudD5pO2krKyloYW5kbGVPYmo9aGFuZGxlcnNbaV0sc2VsPWhhbmRsZU9iai5zZWxlY3RvcisiICIsdm9pZCAwPT09bWF0Y2hlc1tzZWxdJiYobWF0Y2hlc1tzZWxdPWhhbmRsZU9iai5uZWVkc0NvbnRleHQ/alF1ZXJ5KHNlbCx0aGlzKS5pbmRleChjdXIpPj0wOmpRdWVyeS5maW5kKHNlbCx0aGlzLG51bGwsW2N1cl0pLmxlbmd0aCksbWF0Y2hlc1tzZWxdJiZtYXRjaGVzLnB1c2goaGFuZGxlT2JqKTttYXRjaGVzLmxlbmd0aCYmaGFuZGxlclF1ZXVlLnB1c2goe2VsZW06Y3VyLGhhbmRsZXJzOm1hdGNoZXN9KX1yZXR1cm4gZGVsZWdhdGVDb3VudDxoYW5kbGVycy5sZW5ndGgmJmhhbmRsZXJRdWV1ZS5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6aGFuZGxlcnMuc2xpY2UoZGVsZWdhdGVDb3VudCl9KSxoYW5kbGVyUXVldWV9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihldmVudCxvcmlnaW5hbCl7cmV0dXJuIG51bGw9PWV2ZW50LndoaWNoJiYoZXZlbnQud2hpY2g9bnVsbCE9b3JpZ2luYWwuY2hhckNvZGU/b3JpZ2luYWwuY2hhckNvZGU6b3JpZ2luYWwua2V5Q29kZSksZXZlbnR9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihldmVudCxvcmlnaW5hbCl7dmFyIGV2ZW50RG9jLGRvYyxib2R5LGJ1dHRvbj1vcmlnaW5hbC5idXR0b247cmV0dXJuIG51bGw9PWV2ZW50LnBhZ2VYJiZudWxsIT1vcmlnaW5hbC5jbGllbnRYJiYoZXZlbnREb2M9ZXZlbnQudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGRvY3VtZW50LGRvYz1ldmVudERvYy5kb2N1bWVudEVsZW1lbnQsYm9keT1ldmVudERvYy5ib2R5LGV2ZW50LnBhZ2VYPW9yaWdpbmFsLmNsaWVudFgrKGRvYyYmZG9jLnNjcm9sbExlZnR8fGJvZHkmJmJvZHkuc2Nyb2xsTGVmdHx8MCktKGRvYyYmZG9jLmNsaWVudExlZnR8fGJvZHkmJmJvZHkuY2xpZW50TGVmdHx8MCksZXZlbnQucGFnZVk9b3JpZ2luYWwuY2xpZW50WSsoZG9jJiZkb2Muc2Nyb2xsVG9wfHxib2R5JiZib2R5LnNjcm9sbFRvcHx8MCktKGRvYyYmZG9jLmNsaWVudFRvcHx8Ym9keSYmYm9keS5jbGllbnRUb3B8fDApKSxldmVudC53aGljaHx8dm9pZCAwPT09YnV0dG9ufHwoZXZlbnQud2hpY2g9MSZidXR0b24/MToyJmJ1dHRvbj8zOjQmYnV0dG9uPzI6MCksZXZlbnR9fSxmaXg6ZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50W2pRdWVyeS5leHBhbmRvXSlyZXR1cm4gZXZlbnQ7dmFyIGkscHJvcCxjb3B5LHR5cGU9ZXZlbnQudHlwZSxvcmlnaW5hbEV2ZW50PWV2ZW50LGZpeEhvb2s9dGhpcy5maXhIb29rc1t0eXBlXTtmb3IoZml4SG9va3x8KHRoaXMuZml4SG9va3NbdHlwZV09Zml4SG9vaz1ybW91c2VFdmVudC50ZXN0KHR5cGUpP3RoaXMubW91c2VIb29rczpya2V5RXZlbnQudGVzdCh0eXBlKT90aGlzLmtleUhvb2tzOnt9KSxjb3B5PWZpeEhvb2sucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZml4SG9vay5wcm9wcyk6dGhpcy5wcm9wcyxldmVudD1uZXcgalF1ZXJ5LkV2ZW50KG9yaWdpbmFsRXZlbnQpLGk9Y29weS5sZW5ndGg7aS0tOylwcm9wPWNvcHlbaV0sZXZlbnRbcHJvcF09b3JpZ2luYWxFdmVudFtwcm9wXTtyZXR1cm4gZXZlbnQudGFyZ2V0fHwoZXZlbnQudGFyZ2V0PWRvY3VtZW50KSwzPT09ZXZlbnQudGFyZ2V0Lm5vZGVUeXBlJiYoZXZlbnQudGFyZ2V0PWV2ZW50LnRhcmdldC5wYXJlbnROb2RlKSxmaXhIb29rLmZpbHRlcj9maXhIb29rLmZpbHRlcihldmVudCxvcmlnaW5hbEV2ZW50KTpldmVudH0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1zYWZlQWN0aXZlRWxlbWVudCgpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09c2FmZUFjdGl2ZUVsZW1lbnQoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4iY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZqUXVlcnkubm9kZU5hbWUodGhpcywiaW5wdXQiKT8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKGV2ZW50LnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZXZlbnQpe3ZvaWQgMCE9PWV2ZW50LnJlc3VsdCYmZXZlbnQub3JpZ2luYWxFdmVudCYmKGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZXZlbnQucmVzdWx0KX19fSxzaW11bGF0ZTpmdW5jdGlvbih0eXBlLGVsZW0sZXZlbnQsYnViYmxlKXt2YXIgZT1qUXVlcnkuZXh0ZW5kKG5ldyBqUXVlcnkuRXZlbnQsZXZlbnQse3R5cGU6dHlwZSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7YnViYmxlP2pRdWVyeS5ldmVudC50cmlnZ2VyKGUsbnVsbCxlbGVtKTpqUXVlcnkuZXZlbnQuZGlzcGF0Y2guY2FsbChlbGVtLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmV2ZW50LnByZXZlbnREZWZhdWx0KCl9fSxqUXVlcnkucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZWxlbSx0eXBlLGhhbmRsZSl7ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyJiZlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSxoYW5kbGUsITEpfSxqUXVlcnkuRXZlbnQ9ZnVuY3Rpb24oc3JjLHByb3BzKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudD8oc3JjJiZzcmMudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PXNyYyx0aGlzLnR5cGU9c3JjLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9c3JjLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PXNyYy5kZWZhdWx0UHJldmVudGVkJiZzcmMucmV0dXJuVmFsdWU9PT0hMT9yZXR1cm5UcnVlOnJldHVybkZhbHNlKTp0aGlzLnR5cGU9c3JjLHByb3BzJiZqUXVlcnkuZXh0ZW5kKHRoaXMscHJvcHMpLHRoaXMudGltZVN0YW1wPXNyYyYmc3JjLnRpbWVTdGFtcHx8alF1ZXJ5Lm5vdygpLHZvaWQodGhpc1tqUXVlcnkuZXhwYW5kb109ITApKTpuZXcgalF1ZXJ5LkV2ZW50KHNyYyxwcm9wcyl9LGpRdWVyeS5FdmVudC5wcm90b3R5cGU9e2lzRGVmYXVsdFByZXZlbnRlZDpyZXR1cm5GYWxzZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpyZXR1cm5GYWxzZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpyZXR1cm5GYWxzZSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1yZXR1cm5UcnVlLGUmJmUucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9cmV0dXJuVHJ1ZSxlJiZlLnN0b3BQcm9wYWdhdGlvbiYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9cmV0dXJuVHJ1ZSxlJiZlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0salF1ZXJ5LmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQiLHBvaW50ZXJlbnRlcjoicG9pbnRlcm92ZXIiLHBvaW50ZXJsZWF2ZToicG9pbnRlcm91dCJ9LGZ1bmN0aW9uKG9yaWcsZml4KXtqUXVlcnkuZXZlbnQuc3BlY2lhbFtvcmlnXT17ZGVsZWdhdGVUeXBlOmZpeCxiaW5kVHlwZTpmaXgsaGFuZGxlOmZ1bmN0aW9uKGV2ZW50KXt2YXIgcmV0LHRhcmdldD10aGlzLHJlbGF0ZWQ9ZXZlbnQucmVsYXRlZFRhcmdldCxoYW5kbGVPYmo9ZXZlbnQuaGFuZGxlT2JqO3JldHVybighcmVsYXRlZHx8cmVsYXRlZCE9PXRhcmdldCYmIWpRdWVyeS5jb250YWlucyh0YXJnZXQscmVsYXRlZCkpJiYoZXZlbnQudHlwZT1oYW5kbGVPYmoub3JpZ1R5cGUscmV0PWhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxldmVudC50eXBlPWZpeCkscmV0fX19KSxzdXBwb3J0LmZvY3VzaW5CdWJibGVzfHxqUXVlcnkuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24ob3JpZyxmaXgpe3ZhciBoYW5kbGVyPWZ1bmN0aW9uKGV2ZW50KXtqUXVlcnkuZXZlbnQuc2ltdWxhdGUoZml4LGV2ZW50LnRhcmdldCxqUXVlcnkuZXZlbnQuZml4KGV2ZW50KSwhMCl9O2pRdWVyeS5ldmVudC5zcGVjaWFsW2ZpeF09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGRvYz10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsYXR0YWNoZXM9ZGF0YV9wcml2LmFjY2Vzcyhkb2MsZml4KTthdHRhY2hlc3x8ZG9jLmFkZEV2ZW50TGlzdGVuZXIob3JpZyxoYW5kbGVyLCEwKSxkYXRhX3ByaXYuYWNjZXNzKGRvYyxmaXgsKGF0dGFjaGVzfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZG9jPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxhdHRhY2hlcz1kYXRhX3ByaXYuYWNjZXNzKGRvYyxmaXgpLTE7YXR0YWNoZXM/ZGF0YV9wcml2LmFjY2Vzcyhkb2MsZml4LGF0dGFjaGVzKTooZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIob3JpZyxoYW5kbGVyLCEwKSxkYXRhX3ByaXYucmVtb3ZlKGRvYyxmaXgpKX19fSksalF1ZXJ5LmZuLmV4dGVuZCh7b246ZnVuY3Rpb24odHlwZXMsc2VsZWN0b3IsZGF0YSxmbixvbmUpe3ZhciBvcmlnRm4sdHlwZTtpZigib2JqZWN0Ij09dHlwZW9mIHR5cGVzKXsic3RyaW5nIiE9dHlwZW9mIHNlbGVjdG9yJiYoZGF0YT1kYXRhfHxzZWxlY3RvcixzZWxlY3Rvcj12b2lkIDApO2Zvcih0eXBlIGluIHR5cGVzKXRoaXMub24odHlwZSxzZWxlY3RvcixkYXRhLHR5cGVzW3R5cGVdLG9uZSk7cmV0dXJuIHRoaXN9aWYobnVsbD09ZGF0YSYmbnVsbD09Zm4/KGZuPXNlbGVjdG9yLGRhdGE9c2VsZWN0b3I9dm9pZCAwKTpudWxsPT1mbiYmKCJzdHJpbmciPT10eXBlb2Ygc2VsZWN0b3I/KGZuPWRhdGEsZGF0YT12b2lkIDApOihmbj1kYXRhLGRhdGE9c2VsZWN0b3Isc2VsZWN0b3I9dm9pZCAwKSksZm49PT0hMSlmbj1yZXR1cm5GYWxzZTtlbHNlIGlmKCFmbilyZXR1cm4gdGhpcztyZXR1cm4gMT09PW9uZSYmKG9yaWdGbj1mbixmbj1mdW5jdGlvbihldmVudCl7cmV0dXJuIGpRdWVyeSgpLm9mZihldmVudCksb3JpZ0ZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZm4uZ3VpZD1vcmlnRm4uZ3VpZHx8KG9yaWdGbi5ndWlkPWpRdWVyeS5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtqUXVlcnkuZXZlbnQuYWRkKHRoaXMsdHlwZXMsZm4sZGF0YSxzZWxlY3Rvcil9KX0sb25lOmZ1bmN0aW9uKHR5cGVzLHNlbGVjdG9yLGRhdGEsZm4pe3JldHVybiB0aGlzLm9uKHR5cGVzLHNlbGVjdG9yLGRhdGEsZm4sMSl9LG9mZjpmdW5jdGlvbih0eXBlcyxzZWxlY3Rvcixmbil7dmFyIGhhbmRsZU9iaix0eXBlO2lmKHR5cGVzJiZ0eXBlcy5wcmV2ZW50RGVmYXVsdCYmdHlwZXMuaGFuZGxlT2JqKXJldHVybiBoYW5kbGVPYmo9dHlwZXMuaGFuZGxlT2JqLGpRdWVyeSh0eXBlcy5kZWxlZ2F0ZVRhcmdldCkub2ZmKGhhbmRsZU9iai5uYW1lc3BhY2U/aGFuZGxlT2JqLm9yaWdUeXBlKyIuIitoYW5kbGVPYmoubmFtZXNwYWNlOmhhbmRsZU9iai5vcmlnVHlwZSxoYW5kbGVPYmouc2VsZWN0b3IsaGFuZGxlT2JqLmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiB0eXBlcyl7Zm9yKHR5cGUgaW4gdHlwZXMpdGhpcy5vZmYodHlwZSxzZWxlY3Rvcix0eXBlc1t0eXBlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKHNlbGVjdG9yPT09ITF8fCJmdW5jdGlvbiI9PXR5cGVvZiBzZWxlY3RvcikmJihmbj1zZWxlY3RvcixzZWxlY3Rvcj12b2lkIDApLGZuPT09ITEmJihmbj1yZXR1cm5GYWxzZSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LmV2ZW50LnJlbW92ZSh0aGlzLHR5cGVzLGZuLHNlbGVjdG9yKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKHR5cGUsZGF0YSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2pRdWVyeS5ldmVudC50cmlnZ2VyKHR5cGUsZGF0YSx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbih0eXBlLGRhdGEpe3ZhciBlbGVtPXRoaXNbMF07cmV0dXJuIGVsZW0/alF1ZXJ5LmV2ZW50LnRyaWdnZXIodHlwZSxkYXRhLGVsZW0sITApOnZvaWQgMH19KTt2YXIgcnhodG1sVGFnPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2kscnRhZ05hbWU9LzwoW1x3Ol0rKS8scmh0bWw9Lzx8JiM/XHcrOy8scm5vSW5uZXJodG1sPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2kscmNoZWNrZWQ9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2kscnNjcmlwdFR5cGU9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLHJzY3JpcHRUeXBlTWFza2VkPS9edHJ1ZVwvKC4qKS8scmNsZWFuU2NyaXB0PS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZyx3cmFwTWFwPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07d3JhcE1hcC5vcHRncm91cD13cmFwTWFwLm9wdGlvbix3cmFwTWFwLnRib2R5PXdyYXBNYXAudGZvb3Q9d3JhcE1hcC5jb2xncm91cD13cmFwTWFwLmNhcHRpb249d3JhcE1hcC50aGVhZCx3cmFwTWFwLnRoPXdyYXBNYXAudGQsalF1ZXJ5LmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oZWxlbSxkYXRhQW5kRXZlbnRzLGRlZXBEYXRhQW5kRXZlbnRzKXt2YXIgaSxsLHNyY0VsZW1lbnRzLGRlc3RFbGVtZW50cyxjbG9uZT1lbGVtLmNsb25lTm9kZSghMCksaW5QYWdlPWpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsZWxlbSk7aWYoIShzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkfHwxIT09ZWxlbS5ub2RlVHlwZSYmMTEhPT1lbGVtLm5vZGVUeXBlfHxqUXVlcnkuaXNYTUxEb2MoZWxlbSkpKWZvcihkZXN0RWxlbWVudHM9Z2V0QWxsKGNsb25lKSxzcmNFbGVtZW50cz1nZXRBbGwoZWxlbSksaT0wLGw9c3JjRWxlbWVudHMubGVuZ3RoO2w+aTtpKyspZml4SW5wdXQoc3JjRWxlbWVudHNbaV0sZGVzdEVsZW1lbnRzW2ldKTtpZihkYXRhQW5kRXZlbnRzKWlmKGRlZXBEYXRhQW5kRXZlbnRzKWZvcihzcmNFbGVtZW50cz1zcmNFbGVtZW50c3x8Z2V0QWxsKGVsZW0pLGRlc3RFbGVtZW50cz1kZXN0RWxlbWVudHN8fGdldEFsbChjbG9uZSksaT0wLGw9c3JjRWxlbWVudHMubGVuZ3RoO2w+aTtpKyspY2xvbmVDb3B5RXZlbnQoc3JjRWxlbWVudHNbaV0sZGVzdEVsZW1lbnRzW2ldKTtlbHNlIGNsb25lQ29weUV2ZW50KGVsZW0sY2xvbmUpO3JldHVybiBkZXN0RWxlbWVudHM9Z2V0QWxsKGNsb25lLCJzY3JpcHQiKSxkZXN0RWxlbWVudHMubGVuZ3RoPjAmJnNldEdsb2JhbEV2YWwoZGVzdEVsZW1lbnRzLCFpblBhZ2UmJmdldEFsbChlbGVtLCJzY3JpcHQiKSksY2xvbmV9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oZWxlbXMsY29udGV4dCxzY3JpcHRzLHNlbGVjdGlvbil7Zm9yKHZhciBlbGVtLHRtcCx0YWcsd3JhcCxjb250YWlucyxqLGZyYWdtZW50PWNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG5vZGVzPVtdLGk9MCxsPWVsZW1zLmxlbmd0aDtsPmk7aSsrKWlmKGVsZW09ZWxlbXNbaV0sZWxlbXx8MD09PWVsZW0paWYoIm9iamVjdCI9PT1qUXVlcnkudHlwZShlbGVtKSlqUXVlcnkubWVyZ2Uobm9kZXMsZWxlbS5ub2RlVHlwZT9bZWxlbV06ZWxlbSk7ZWxzZSBpZihyaHRtbC50ZXN0KGVsZW0pKXtmb3IodG1wPXRtcHx8ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KCJkaXYiKSksdGFnPShydGFnTmFtZS5leGVjKGVsZW0pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHdyYXA9d3JhcE1hcFt0YWddfHx3cmFwTWFwLl9kZWZhdWx0LHRtcC5pbm5lckhUTUw9d3JhcFsxXStlbGVtLnJlcGxhY2UocnhodG1sVGFnLCI8JDE+PC8kMj4iKSt3cmFwWzJdLGo9d3JhcFswXTtqLS07KXRtcD10bXAubGFzdENoaWxkO2pRdWVyeS5tZXJnZShub2Rlcyx0bXAuY2hpbGROb2RlcyksdG1wPWZyYWdtZW50LmZpcnN0Q2hpbGQsdG1wLnRleHRDb250ZW50PSIifWVsc2Ugbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGVsZW0pKTtmb3IoZnJhZ21lbnQudGV4dENvbnRlbnQ9IiIsaT0wO2VsZW09bm9kZXNbaSsrXTspaWYoKCFzZWxlY3Rpb258fC0xPT09alF1ZXJ5LmluQXJyYXkoZWxlbSxzZWxlY3Rpb24pKSYmKGNvbnRhaW5zPWpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsZWxlbSksdG1wPWdldEFsbChmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtKSwic2NyaXB0IiksY29udGFpbnMmJnNldEdsb2JhbEV2YWwodG1wKSxzY3JpcHRzKSlmb3Ioaj0wO2VsZW09dG1wW2orK107KXJzY3JpcHRUeXBlLnRlc3QoZWxlbS50eXBlfHwiIikmJnNjcmlwdHMucHVzaChlbGVtKTtyZXR1cm4gZnJhZ21lbnR9LGNsZWFuRGF0YTpmdW5jdGlvbihlbGVtcyl7Zm9yKHZhciBkYXRhLGVsZW0sdHlwZSxrZXksc3BlY2lhbD1qUXVlcnkuZXZlbnQuc3BlY2lhbCxpPTA7dm9pZCAwIT09KGVsZW09ZWxlbXNbaV0pO2krKyl7aWYoalF1ZXJ5LmFjY2VwdERhdGEoZWxlbSkmJihrZXk9ZWxlbVtkYXRhX3ByaXYuZXhwYW5kb10sa2V5JiYoZGF0YT1kYXRhX3ByaXYuY2FjaGVba2V5XSkpKXtpZihkYXRhLmV2ZW50cylmb3IodHlwZSBpbiBkYXRhLmV2ZW50cylzcGVjaWFsW3R5cGVdP2pRdWVyeS5ldmVudC5yZW1vdmUoZWxlbSx0eXBlKTpqUXVlcnkucmVtb3ZlRXZlbnQoZWxlbSx0eXBlLGRhdGEuaGFuZGxlKTtkYXRhX3ByaXYuY2FjaGVba2V5XSYmZGVsZXRlIGRhdGFfcHJpdi5jYWNoZVtrZXldfWRlbGV0ZSBkYXRhX3VzZXIuY2FjaGVbZWxlbVtkYXRhX3VzZXIuZXhwYW5kb11dfX19KSxqUXVlcnkuZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYWNjZXNzKHRoaXMsZnVuY3Rpb24odmFsdWUpe3JldHVybiB2b2lkIDA9PT12YWx1ZT9qUXVlcnkudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpeygxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSkmJih0aGlzLnRleHRDb250ZW50PXZhbHVlKX0pfSxudWxsLHZhbHVlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZWxlbSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0YXJnZXQ9bWFuaXB1bGF0aW9uVGFyZ2V0KHRoaXMsZWxlbSk7dGFyZ2V0LmFwcGVuZENoaWxkKGVsZW0pfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGVsZW0pe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdGFyZ2V0PW1hbmlwdWxhdGlvblRhcmdldCh0aGlzLGVsZW0pO3RhcmdldC5pbnNlcnRCZWZvcmUoZWxlbSx0YXJnZXQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlbGVtKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlbGVtKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbSx0aGlzLm5leHRTaWJsaW5nKX0pfSxyZW1vdmU6ZnVuY3Rpb24oc2VsZWN0b3Isa2VlcERhdGEpe2Zvcih2YXIgZWxlbSxlbGVtcz1zZWxlY3Rvcj9qUXVlcnkuZmlsdGVyKHNlbGVjdG9yLHRoaXMpOnRoaXMsaT0wO251bGwhPShlbGVtPWVsZW1zW2ldKTtpKyspa2VlcERhdGF8fDEhPT1lbGVtLm5vZGVUeXBlfHxqUXVlcnkuY2xlYW5EYXRhKGdldEFsbChlbGVtKSksZWxlbS5wYXJlbnROb2RlJiYoa2VlcERhdGEmJmpRdWVyeS5jb250YWlucyhlbGVtLm93bmVyRG9jdW1lbnQsZWxlbSkmJnNldEdsb2JhbEV2YWwoZ2V0QWxsKGVsZW0sInNjcmlwdCIpKSxlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSkpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZWxlbSxpPTA7bnVsbCE9KGVsZW09dGhpc1tpXSk7aSsrKTE9PT1lbGVtLm5vZGVUeXBlJiYoalF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwoZWxlbSwhMSkpLGVsZW0udGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihkYXRhQW5kRXZlbnRzLGRlZXBEYXRhQW5kRXZlbnRzKXtyZXR1cm4gZGF0YUFuZEV2ZW50cz1udWxsPT1kYXRhQW5kRXZlbnRzPyExOmRhdGFBbmRFdmVudHMsZGVlcERhdGFBbmRFdmVudHM9bnVsbD09ZGVlcERhdGFBbmRFdmVudHM/ZGF0YUFuZEV2ZW50czpkZWVwRGF0YUFuZEV2ZW50cyx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBqUXVlcnkuY2xvbmUodGhpcyxkYXRhQW5kRXZlbnRzLGRlZXBEYXRhQW5kRXZlbnRzKX0pfSxodG1sOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYWNjZXNzKHRoaXMsZnVuY3Rpb24odmFsdWUpe3ZhciBlbGVtPXRoaXNbMF18fHt9LGk9MCxsPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PXZhbHVlJiYxPT09ZWxlbS5ub2RlVHlwZSlyZXR1cm4gZWxlbS5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiB2YWx1ZSYmIXJub0lubmVyaHRtbC50ZXN0KHZhbHVlKSYmIXdyYXBNYXBbKHJ0YWdOYW1lLmV4ZWModmFsdWUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7dmFsdWU9dmFsdWUucmVwbGFjZShyeGh0bWxUYWcsIjwkMT48LyQyPiIpO3RyeXtmb3IoO2w+aTtpKyspZWxlbT10aGlzW2ldfHx7fSwxPT09ZWxlbS5ub2RlVHlwZSYmKGpRdWVyeS5jbGVhbkRhdGEoZ2V0QWxsKGVsZW0sITEpKSxlbGVtLmlubmVySFRNTD12YWx1ZSk7ZWxlbT0wfWNhdGNoKGUpe319ZWxlbSYmdGhpcy5lbXB0eSgpLmFwcGVuZCh2YWx1ZSl9LG51bGwsdmFsdWUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGFyZz1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGVsZW0pe2FyZz10aGlzLnBhcmVudE5vZGUsalF1ZXJ5LmNsZWFuRGF0YShnZXRBbGwodGhpcykpLGFyZyYmYXJnLnJlcGxhY2VDaGlsZChlbGVtLHRoaXMpfSksYXJnJiYoYXJnLmxlbmd0aHx8YXJnLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihzZWxlY3Rvcil7cmV0dXJuIHRoaXMucmVtb3ZlKHNlbGVjdG9yLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYXJncyxjYWxsYmFjayl7YXJncz1jb25jYXQuYXBwbHkoW10sYXJncyk7dmFyIGZyYWdtZW50LGZpcnN0LHNjcmlwdHMsaGFzU2NyaXB0cyxub2RlLGRvYyxpPTAsbD10aGlzLmxlbmd0aCxzZXQ9dGhpcyxpTm9DbG9uZT1sLTEsdmFsdWU9YXJnc1swXSxpc0Z1bmN0aW9uPWpRdWVyeS5pc0Z1bmN0aW9uKHZhbHVlKTtpZihpc0Z1bmN0aW9ufHxsPjEmJiJzdHJpbmciPT10eXBlb2YgdmFsdWUmJiFzdXBwb3J0LmNoZWNrQ2xvbmUmJnJjaGVja2VkLnRlc3QodmFsdWUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaW5kZXgpe3ZhciBzZWxmPXNldC5lcShpbmRleCk7aXNGdW5jdGlvbiYmKGFyZ3NbMF09dmFsdWUuY2FsbCh0aGlzLGluZGV4LHNlbGYuaHRtbCgpKSksc2VsZi5kb21NYW5pcChhcmdzLGNhbGxiYWNrKX0pO2lmKGwmJihmcmFnbWVudD1qUXVlcnkuYnVpbGRGcmFnbWVudChhcmdzLHRoaXNbMF0ub3duZXJEb2N1bWVudCwhMSx0aGlzKSxmaXJzdD1mcmFnbWVudC5maXJzdENoaWxkLDE9PT1mcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCYmKGZyYWdtZW50PWZpcnN0KSxmaXJzdCkpe2ZvcihzY3JpcHRzPWpRdWVyeS5tYXAoZ2V0QWxsKGZyYWdtZW50LCJzY3JpcHQiKSxkaXNhYmxlU2NyaXB0KSxoYXNTY3JpcHRzPXNjcmlwdHMubGVuZ3RoO2w+aTtpKyspbm9kZT1mcmFnbWVudCxpIT09aU5vQ2xvbmUmJihub2RlPWpRdWVyeS5jbG9uZShub2RlLCEwLCEwKSxoYXNTY3JpcHRzJiZqUXVlcnkubWVyZ2Uoc2NyaXB0cyxnZXRBbGwobm9kZSwic2NyaXB0IikpKSxjYWxsYmFjay5jYWxsKHRoaXNbaV0sbm9kZSxpKTtpZihoYXNTY3JpcHRzKWZvcihkb2M9c2NyaXB0c1tzY3JpcHRzLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LGpRdWVyeS5tYXAoc2NyaXB0cyxyZXN0b3JlU2NyaXB0KSxpPTA7aGFzU2NyaXB0cz5pO2krKylub2RlPXNjcmlwdHNbaV0scnNjcmlwdFR5cGUudGVzdChub2RlLnR5cGV8fCIiKSYmIWRhdGFfcHJpdi5hY2Nlc3Mobm9kZSwiZ2xvYmFsRXZhbCIpJiZqUXVlcnkuY29udGFpbnMoZG9jLG5vZGUpJiYobm9kZS5zcmM/alF1ZXJ5Ll9ldmFsVXJsJiZqUXVlcnkuX2V2YWxVcmwobm9kZS5zcmMpOmpRdWVyeS5nbG9iYWxFdmFsKG5vZGUudGV4dENvbnRlbnQucmVwbGFjZShyY2xlYW5TY3JpcHQsIiIpKSl9cmV0dXJuIHRoaXN9fSksalF1ZXJ5LmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihuYW1lLG9yaWdpbmFsKXtqUXVlcnkuZm5bbmFtZV09ZnVuY3Rpb24oc2VsZWN0b3Ipe2Zvcih2YXIgZWxlbXMscmV0PVtdLGluc2VydD1qUXVlcnkoc2VsZWN0b3IpLGxhc3Q9aW5zZXJ0Lmxlbmd0aC0xLGk9MDtsYXN0Pj1pO2krKyllbGVtcz1pPT09bGFzdD90aGlzOnRoaXMuY2xvbmUoITApLGpRdWVyeShpbnNlcnRbaV0pW29yaWdpbmFsXShlbGVtcykscHVzaC5hcHBseShyZXQsZWxlbXMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhyZXQpfX0pO3ZhciBpZnJhbWUsZWxlbWRpc3BsYXk9e30scm1hcmdpbj0vXm1hcmdpbi8scm51bW5vbnB4PW5ldyBSZWdFeHAoIl4oIitwbnVtKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksZ2V0U3R5bGVzPWZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLG51bGwpfTshZnVuY3Rpb24oKXtmdW5jdGlvbiBjb21wdXRlUGl4ZWxQb3NpdGlvbkFuZEJveFNpemluZ1JlbGlhYmxlKCl7ZGl2LnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIixkaXYuaW5uZXJIVE1MPSIiLGRvY0VsZW0uYXBwZW5kQ2hpbGQoY29udGFpbmVyKTt2YXIgZGl2U3R5bGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2LG51bGwpO3BpeGVsUG9zaXRpb25WYWw9IjElIiE9PWRpdlN0eWxlLnRvcCxib3hTaXppbmdSZWxpYWJsZVZhbD0iNHB4Ij09PWRpdlN0eWxlLndpZHRoLGRvY0VsZW0ucmVtb3ZlQ2hpbGQoY29udGFpbmVyKX12YXIgcGl4ZWxQb3NpdGlvblZhbCxib3hTaXppbmdSZWxpYWJsZVZhbCxkb2NFbGVtPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxjb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Rpdi5zdHlsZSYmKGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGRpdi5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1kaXYuc3R5bGUuYmFja2dyb3VuZENsaXAsY29udGFpbmVyLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KSx3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSYmalF1ZXJ5LmV4dGVuZChzdXBwb3J0LHtwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbXB1dGVQaXhlbFBvc2l0aW9uQW5kQm94U2l6aW5nUmVsaWFibGUoKSxwaXhlbFBvc2l0aW9uVmFsfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1ib3hTaXppbmdSZWxpYWJsZVZhbCYmY29tcHV0ZVBpeGVsUG9zaXRpb25BbmRCb3hTaXppbmdSZWxpYWJsZSgpLGJveFNpemluZ1JlbGlhYmxlVmFsfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIHJldCxtYXJnaW5EaXY9ZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtyZXR1cm4gbWFyZ2luRGl2LnN0eWxlLmNzc1RleHQ9ZGl2LnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsbWFyZ2luRGl2LnN0eWxlLm1hcmdpblJpZ2h0PW1hcmdpbkRpdi5zdHlsZS53aWR0aD0iMCIsZGl2LnN0eWxlLndpZHRoPSIxcHgiLGRvY0VsZW0uYXBwZW5kQ2hpbGQoY29udGFpbmVyKSxyZXQ9IXBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUobWFyZ2luRGl2LG51bGwpLm1hcmdpblJpZ2h0KSxkb2NFbGVtLnJlbW92ZUNoaWxkKGNvbnRhaW5lcikscmV0fX0pKX0oKSxqUXVlcnkuc3dhcD1mdW5jdGlvbihlbGVtLG9wdGlvbnMsY2FsbGJhY2ssYXJncyl7dmFyIHJldCxuYW1lLG9sZD17fTtmb3IobmFtZSBpbiBvcHRpb25zKW9sZFtuYW1lXT1lbGVtLnN0eWxlW25hbWVdLGVsZW0uc3R5bGVbbmFtZV09b3B0aW9uc1tuYW1lXTtyZXQ9Y2FsbGJhY2suYXBwbHkoZWxlbSxhcmdzfHxbXSk7Zm9yKG5hbWUgaW4gb3B0aW9ucyllbGVtLnN0eWxlW25hbWVdPW9sZFtuYW1lXTtyZXR1cm4gcmV0fTt2YXIgcmRpc3BsYXlzd2FwPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxybnVtc3BsaXQ9bmV3IFJlZ0V4cCgiXigiK3BudW0rIikoLiopJCIsImkiKSxycmVsTnVtPW5ldyBSZWdFeHAoIl4oWystXSk9KCIrcG51bSsiKSIsImkiKSxjc3NTaG93PXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxjc3NOb3JtYWxUcmFuc2Zvcm09e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LGNzc1ByZWZpeGVzPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl07alF1ZXJ5LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlbGVtLGNvbXB1dGVkKXtpZihjb21wdXRlZCl7dmFyIHJldD1jdXJDU1MoZWxlbSwib3BhY2l0eSIpO3JldHVybiIiPT09cmV0PyIxIjpyZXR9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6ImNzc0Zsb2F0In0sc3R5bGU6ZnVuY3Rpb24oZWxlbSxuYW1lLHZhbHVlLGV4dHJhKXtpZihlbGVtJiYzIT09ZWxlbS5ub2RlVHlwZSYmOCE9PWVsZW0ubm9kZVR5cGUmJmVsZW0uc3R5bGUpe3ZhciByZXQsdHlwZSxob29rcyxvcmlnTmFtZT1qUXVlcnkuY2FtZWxDYXNlKG5hbWUpLHN0eWxlPWVsZW0uc3R5bGU7cmV0dXJuIG5hbWU9alF1ZXJ5LmNzc1Byb3BzW29yaWdOYW1lXXx8KGpRdWVyeS5jc3NQcm9wc1tvcmlnTmFtZV09dmVuZG9yUHJvcE5hbWUoc3R5bGUsb3JpZ05hbWUpKSxob29rcz1qUXVlcnkuY3NzSG9va3NbbmFtZV18fGpRdWVyeS5jc3NIb29rc1tvcmlnTmFtZV0sdm9pZCAwPT09dmFsdWU/aG9va3MmJiJnZXQiaW4gaG9va3MmJnZvaWQgMCE9PShyZXQ9aG9va3MuZ2V0KGVsZW0sITEsZXh0cmEpKT9yZXQ6c3R5bGVbbmFtZV06KHR5cGU9dHlwZW9mIHZhbHVlLCJzdHJpbmciPT09dHlwZSYmKHJldD1ycmVsTnVtLmV4ZWModmFsdWUpKSYmKHZhbHVlPShyZXRbMV0rMSkqcmV0WzJdK3BhcnNlRmxvYXQoalF1ZXJ5LmNzcyhlbGVtLG5hbWUpKSx0eXBlPSJudW1iZXIiKSxudWxsIT12YWx1ZSYmdmFsdWU9PT12YWx1ZSYmKCJudW1iZXIiIT09dHlwZXx8alF1ZXJ5LmNzc051bWJlcltvcmlnTmFtZV18fCh2YWx1ZSs9InB4Iiksc3VwcG9ydC5jbGVhckNsb25lU3R5bGV8fCIiIT09dmFsdWV8fDAhPT1uYW1lLmluZGV4T2YoImJhY2tncm91bmQiKXx8KHN0eWxlW25hbWVdPSJpbmhlcml0IiksaG9va3MmJiJzZXQiaW4gaG9va3MmJnZvaWQgMD09PSh2YWx1ZT1ob29rcy5zZXQoZWxlbSx2YWx1ZSxleHRyYSkpfHwoc3R5bGVbbmFtZV09dmFsdWUpKSx2b2lkIDApfX0sY3NzOmZ1bmN0aW9uKGVsZW0sbmFtZSxleHRyYSxzdHlsZXMpe3ZhciB2YWwsbnVtLGhvb2tzLG9yaWdOYW1lPWpRdWVyeS5jYW1lbENhc2UobmFtZSk7cmV0dXJuIG5hbWU9alF1ZXJ5LmNzc1Byb3BzW29yaWdOYW1lXXx8KGpRdWVyeS5jc3NQcm9wc1tvcmlnTmFtZV09dmVuZG9yUHJvcE5hbWUoZWxlbS5zdHlsZSxvcmlnTmFtZSkpLGhvb2tzPWpRdWVyeS5jc3NIb29rc1tuYW1lXXx8alF1ZXJ5LmNzc0hvb2tzW29yaWdOYW1lXSxob29rcyYmImdldCJpbiBob29rcyYmKHZhbD1ob29rcy5nZXQoZWxlbSwhMCxleHRyYSkpLHZvaWQgMD09PXZhbCYmKHZhbD1jdXJDU1MoZWxlbSxuYW1lLHN0eWxlcykpLCJub3JtYWwiPT09dmFsJiZuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSYmKHZhbD1jc3NOb3JtYWxUcmFuc2Zvcm1bbmFtZV0pLCIiPT09ZXh0cmF8fGV4dHJhPyhudW09cGFyc2VGbG9hdCh2YWwpLGV4dHJhPT09ITB8fGpRdWVyeS5pc051bWVyaWMobnVtKT9udW18fDA6dmFsKTp2YWx9fSksalF1ZXJ5LmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGksbmFtZSl7alF1ZXJ5LmNzc0hvb2tzW25hbWVdPXtnZXQ6ZnVuY3Rpb24oZWxlbSxjb21wdXRlZCxleHRyYSl7cmV0dXJuIGNvbXB1dGVkP3JkaXNwbGF5c3dhcC50ZXN0KGpRdWVyeS5jc3MoZWxlbSwiZGlzcGxheSIpKSYmMD09PWVsZW0ub2Zmc2V0V2lkdGg/alF1ZXJ5LnN3YXAoZWxlbSxjc3NTaG93LGZ1bmN0aW9uKCl7cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhKX0pOmdldFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhKTp2b2lkIDB9LHNldDpmdW5jdGlvbihlbGVtLHZhbHVlLGV4dHJhKXt2YXIgc3R5bGVzPWV4dHJhJiZnZXRTdHlsZXMoZWxlbSk7cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKGVsZW0sdmFsdWUsZXh0cmE/YXVnbWVudFdpZHRoT3JIZWlnaHQoZWxlbSxuYW1lLGV4dHJhLCJib3JkZXItYm94Ij09PWpRdWVyeS5jc3MoZWxlbSwiYm94U2l6aW5nIiwhMSxzdHlsZXMpLHN0eWxlcyk6MCl9fX0pLGpRdWVyeS5jc3NIb29rcy5tYXJnaW5SaWdodD1hZGRHZXRIb29rSWYoc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGVsZW0sY29tcHV0ZWQpe3JldHVybiBjb21wdXRlZD9qUXVlcnkuc3dhcChlbGVtLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxjdXJDU1MsW2VsZW0sIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLGpRdWVyeS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24ocHJlZml4LHN1ZmZpeCl7alF1ZXJ5LmNzc0hvb2tzW3ByZWZpeCtzdWZmaXhdPXtleHBhbmQ6ZnVuY3Rpb24odmFsdWUpe2Zvcih2YXIgaT0wLGV4cGFuZGVkPXt9LHBhcnRzPSJzdHJpbmciPT10eXBlb2YgdmFsdWU/dmFsdWUuc3BsaXQoIiAiKTpbdmFsdWVdOzQ+aTtpKyspZXhwYW5kZWRbcHJlZml4K2Nzc0V4cGFuZFtpXStzdWZmaXhdPXBhcnRzW2ldfHxwYXJ0c1tpLTJdfHxwYXJ0c1swXTtyZXR1cm4gZXhwYW5kZWR9fSxybWFyZ2luLnRlc3QocHJlZml4KXx8KGpRdWVyeS5jc3NIb29rc1twcmVmaXgrc3VmZml4XS5zZXQ9c2V0UG9zaXRpdmVOdW1iZXIpfSksalF1ZXJ5LmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3JldHVybiBhY2Nlc3ModGhpcyxmdW5jdGlvbihlbGVtLG5hbWUsdmFsdWUpe3ZhciBzdHlsZXMsbGVuLG1hcD17fSxpPTA7aWYoalF1ZXJ5LmlzQXJyYXkobmFtZSkpe2ZvcihzdHlsZXM9Z2V0U3R5bGVzKGVsZW0pLGxlbj1uYW1lLmxlbmd0aDtsZW4+aTtpKyspbWFwW25hbWVbaV1dPWpRdWVyeS5jc3MoZWxlbSxuYW1lW2ldLCExLHN0eWxlcyk7cmV0dXJuIG1hcH1yZXR1cm4gdm9pZCAwIT09dmFsdWU/alF1ZXJ5LnN0eWxlKGVsZW0sbmFtZSx2YWx1ZSk6alF1ZXJ5LmNzcyhlbGVtLG5hbWUpfSxuYW1lLHZhbHVlLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd0hpZGUodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd0hpZGUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihzdGF0ZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygc3RhdGU/c3RhdGU/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aXNIaWRkZW4odGhpcyk/alF1ZXJ5KHRoaXMpLnNob3coKTpqUXVlcnkodGhpcykuaGlkZSgpfSl9fSksalF1ZXJ5LlR3ZWVuPVR3ZWVuLFR3ZWVuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VHdlZW4saW5pdDpmdW5jdGlvbihlbGVtLG9wdGlvbnMscHJvcCxlbmQsZWFzaW5nLHVuaXQpe3RoaXMuZWxlbT1lbGVtLHRoaXMucHJvcD1wcm9wLHRoaXMuZWFzaW5nPWVhc2luZ3x8InN3aW5nIix0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZW5kLHRoaXMudW5pdD11bml0fHwoalF1ZXJ5LmNzc051bWJlcltwcm9wXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGhvb2tzPVR3ZWVuLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBob29rcyYmaG9va3MuZ2V0P2hvb2tzLmdldCh0aGlzKTpUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24ocGVyY2VudCl7dmFyIGVhc2VkLGhvb2tzPVR3ZWVuLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz1lYXNlZD10aGlzLm9wdGlvbnMuZHVyYXRpb24/alF1ZXJ5LmVhc2luZ1t0aGlzLmVhc2luZ10ocGVyY2VudCx0aGlzLm9wdGlvbnMuZHVyYXRpb24qcGVyY2VudCwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTpwZXJjZW50LHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSplYXNlZCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxob29rcyYmaG9va3Muc2V0P2hvb2tzLnNldCh0aGlzKTpUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxUd2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9VHdlZW4ucHJvdG90eXBlLFR3ZWVuLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbih0d2Vlbil7dmFyIHJlc3VsdDtyZXR1cm4gbnVsbD09dHdlZW4uZWxlbVt0d2Vlbi5wcm9wXXx8dHdlZW4uZWxlbS5zdHlsZSYmbnVsbCE9dHdlZW4uZWxlbS5zdHlsZVt0d2Vlbi5wcm9wXT8ocmVzdWx0PWpRdWVyeS5jc3ModHdlZW4uZWxlbSx0d2Vlbi5wcm9wLCIiKSxyZXN1bHQmJiJhdXRvIiE9PXJlc3VsdD9yZXN1bHQ6MCk6dHdlZW4uZWxlbVt0d2Vlbi5wcm9wXX0sc2V0OmZ1bmN0aW9uKHR3ZWVuKXtqUXVlcnkuZnguc3RlcFt0d2Vlbi5wcm9wXT9qUXVlcnkuZnguc3RlcFt0d2Vlbi5wcm9wXSh0d2Vlbik6dHdlZW4uZWxlbS5zdHlsZSYmKG51bGwhPXR3ZWVuLmVsZW0uc3R5bGVbalF1ZXJ5LmNzc1Byb3BzW3R3ZWVuLnByb3BdXXx8alF1ZXJ5LmNzc0hvb2tzW3R3ZWVuLnByb3BdKT9qUXVlcnkuc3R5bGUodHdlZW4uZWxlbSx0d2Vlbi5wcm9wLHR3ZWVuLm5vdyt0d2Vlbi51bml0KTp0d2Vlbi5lbGVtW3R3ZWVuLnByb3BdPXR3ZWVuLm5vd319fSxUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wPVR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24odHdlZW4pe3R3ZWVuLmVsZW0ubm9kZVR5cGUmJnR3ZWVuLmVsZW0ucGFyZW50Tm9kZSYmKHR3ZWVuLmVsZW1bdHdlZW4ucHJvcF09dHdlZW4ubm93KX19LGpRdWVyeS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihwKXtyZXR1cm4gcH0sc3dpbmc6ZnVuY3Rpb24ocCl7cmV0dXJuLjUtTWF0aC5jb3MocCpNYXRoLlBJKS8yfX0salF1ZXJ5LmZ4PVR3ZWVuLnByb3RvdHlwZS5pbml0LGpRdWVyeS5meC5zdGVwPXt9O3ZhciBmeE5vdyx0aW1lcklkLHJmeHR5cGVzPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxyZnhudW09bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK3BudW0rIikoW2EteiVdKikkIiwiaSIpLHJydW49L3F1ZXVlSG9va3MkLyxhbmltYXRpb25QcmVmaWx0ZXJzPVtkZWZhdWx0UHJlZmlsdGVyXSx0d2VlbmVycz17IioiOltmdW5jdGlvbihwcm9wLHZhbHVlKXt2YXIgdHdlZW49dGhpcy5jcmVhdGVUd2Vlbihwcm9wLHZhbHVlKSx0YXJnZXQ9dHdlZW4uY3VyKCkscGFydHM9cmZ4bnVtLmV4ZWModmFsdWUpLHVuaXQ9cGFydHMmJnBhcnRzWzNdfHwoalF1ZXJ5LmNzc051bWJlcltwcm9wXT8iIjoicHgiKSxzdGFydD0oalF1ZXJ5LmNzc051bWJlcltwcm9wXXx8InB4IiE9PXVuaXQmJit0YXJnZXQpJiZyZnhudW0uZXhlYyhqUXVlcnkuY3NzKHR3ZWVuLmVsZW0scHJvcCkpLHNjYWxlPTEsbWF4SXRlcmF0aW9ucz0yMDtpZihzdGFydCYmc3RhcnRbM10hPT11bml0KXt1bml0PXVuaXR8fHN0YXJ0WzNdLHBhcnRzPXBhcnRzfHxbXSxzdGFydD0rdGFyZ2V0fHwxO2RvIHNjYWxlPXNjYWxlfHwiLjUiLHN0YXJ0Lz1zY2FsZSxqUXVlcnkuc3R5bGUodHdlZW4uZWxlbSxwcm9wLHN0YXJ0K3VuaXQpO3doaWxlKHNjYWxlIT09KHNjYWxlPXR3ZWVuLmN1cigpL3RhcmdldCkmJjEhPT1zY2FsZSYmLS1tYXhJdGVyYXRpb25zKX1yZXR1cm4gcGFydHMmJihzdGFydD10d2Vlbi5zdGFydD0rc3RhcnR8fCt0YXJnZXR8fDAsdHdlZW4udW5pdD11bml0LHR3ZWVuLmVuZD1wYXJ0c1sxXT9zdGFydCsocGFydHNbMV0rMSkqcGFydHNbMl06K3BhcnRzWzJdKSx0d2Vlbn1dfTtqUXVlcnkuQW5pbWF0aW9uPWpRdWVyeS5leHRlbmQoQW5pbWF0aW9uLHt0d2VlbmVyOmZ1bmN0aW9uKHByb3BzLGNhbGxiYWNrKXtqUXVlcnkuaXNGdW5jdGlvbihwcm9wcyk/KGNhbGxiYWNrPXByb3BzLHByb3BzPVsiKiJdKTpwcm9wcz1wcm9wcy5zcGxpdCgiICIpO2Zvcih2YXIgcHJvcCxpbmRleD0wLGxlbmd0aD1wcm9wcy5sZW5ndGg7bGVuZ3RoPmluZGV4O2luZGV4KyspcHJvcD1wcm9wc1tpbmRleF0sdHdlZW5lcnNbcHJvcF09dHdlZW5lcnNbcHJvcF18fFtdLHR3ZWVuZXJzW3Byb3BdLnVuc2hpZnQoY2FsbGJhY2spfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oY2FsbGJhY2sscHJlcGVuZCl7cHJlcGVuZD9hbmltYXRpb25QcmVmaWx0ZXJzLnVuc2hpZnQoY2FsbGJhY2spOmFuaW1hdGlvblByZWZpbHRlcnMucHVzaChjYWxsYmFjayl9fSksalF1ZXJ5LnNwZWVkPWZ1bmN0aW9uKHNwZWVkLGVhc2luZyxmbil7dmFyIG9wdD1zcGVlZCYmIm9iamVjdCI9PXR5cGVvZiBzcGVlZD9qUXVlcnkuZXh0ZW5kKHt9LHNwZWVkKTp7Y29tcGxldGU6Zm58fCFmbiYmZWFzaW5nfHxqUXVlcnkuaXNGdW5jdGlvbihzcGVlZCkmJnNwZWVkLGR1cmF0aW9uOnNwZWVkLGVhc2luZzpmbiYmZWFzaW5nfHxlYXNpbmcmJiFqUXVlcnkuaXNGdW5jdGlvbihlYXNpbmcpJiZlYXNpbmd9O3JldHVybiBvcHQuZHVyYXRpb249alF1ZXJ5LmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2Ygb3B0LmR1cmF0aW9uP29wdC5kdXJhdGlvbjpvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcz9qUXVlcnkuZnguc3BlZWRzW29wdC5kdXJhdGlvbl06alF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09b3B0LnF1ZXVlfHxvcHQucXVldWU9PT0hMCkmJihvcHQucXVldWU9ImZ4Iiksb3B0Lm9sZD1vcHQuY29tcGxldGUsb3B0LmNvbXBsZXRlPWZ1bmN0aW9uKCl7alF1ZXJ5LmlzRnVuY3Rpb24ob3B0Lm9sZCkmJm9wdC5vbGQuY2FsbCh0aGlzKSxvcHQucXVldWUmJmpRdWVyeS5kZXF1ZXVlKHRoaXMsb3B0LnF1ZXVlKQp9LG9wdH0salF1ZXJ5LmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKHNwZWVkLHRvLGVhc2luZyxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZmlsdGVyKGlzSGlkZGVuKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnRvfSxzcGVlZCxlYXNpbmcsY2FsbGJhY2spfSxhbmltYXRlOmZ1bmN0aW9uKHByb3Asc3BlZWQsZWFzaW5nLGNhbGxiYWNrKXt2YXIgZW1wdHk9alF1ZXJ5LmlzRW1wdHlPYmplY3QocHJvcCksb3B0YWxsPWpRdWVyeS5zcGVlZChzcGVlZCxlYXNpbmcsY2FsbGJhY2spLGRvQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dmFyIGFuaW09QW5pbWF0aW9uKHRoaXMsalF1ZXJ5LmV4dGVuZCh7fSxwcm9wKSxvcHRhbGwpOyhlbXB0eXx8ZGF0YV9wcml2LmdldCh0aGlzLCJmaW5pc2giKSkmJmFuaW0uc3RvcCghMCl9O3JldHVybiBkb0FuaW1hdGlvbi5maW5pc2g9ZG9BbmltYXRpb24sZW1wdHl8fG9wdGFsbC5xdWV1ZT09PSExP3RoaXMuZWFjaChkb0FuaW1hdGlvbik6dGhpcy5xdWV1ZShvcHRhbGwucXVldWUsZG9BbmltYXRpb24pfSxzdG9wOmZ1bmN0aW9uKHR5cGUsY2xlYXJRdWV1ZSxnb3RvRW5kKXt2YXIgc3RvcFF1ZXVlPWZ1bmN0aW9uKGhvb2tzKXt2YXIgc3RvcD1ob29rcy5zdG9wO2RlbGV0ZSBob29rcy5zdG9wLHN0b3AoZ290b0VuZCl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgdHlwZSYmKGdvdG9FbmQ9Y2xlYXJRdWV1ZSxjbGVhclF1ZXVlPXR5cGUsdHlwZT12b2lkIDApLGNsZWFyUXVldWUmJnR5cGUhPT0hMSYmdGhpcy5xdWV1ZSh0eXBlfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZGVxdWV1ZT0hMCxpbmRleD1udWxsIT10eXBlJiZ0eXBlKyJxdWV1ZUhvb2tzIix0aW1lcnM9alF1ZXJ5LnRpbWVycyxkYXRhPWRhdGFfcHJpdi5nZXQodGhpcyk7aWYoaW5kZXgpZGF0YVtpbmRleF0mJmRhdGFbaW5kZXhdLnN0b3AmJnN0b3BRdWV1ZShkYXRhW2luZGV4XSk7ZWxzZSBmb3IoaW5kZXggaW4gZGF0YSlkYXRhW2luZGV4XSYmZGF0YVtpbmRleF0uc3RvcCYmcnJ1bi50ZXN0KGluZGV4KSYmc3RvcFF1ZXVlKGRhdGFbaW5kZXhdKTtmb3IoaW5kZXg9dGltZXJzLmxlbmd0aDtpbmRleC0tOyl0aW1lcnNbaW5kZXhdLmVsZW0hPT10aGlzfHxudWxsIT10eXBlJiZ0aW1lcnNbaW5kZXhdLnF1ZXVlIT09dHlwZXx8KHRpbWVyc1tpbmRleF0uYW5pbS5zdG9wKGdvdG9FbmQpLGRlcXVldWU9ITEsdGltZXJzLnNwbGljZShpbmRleCwxKSk7KGRlcXVldWV8fCFnb3RvRW5kKSYmalF1ZXJ5LmRlcXVldWUodGhpcyx0eXBlKX0pfSxmaW5pc2g6ZnVuY3Rpb24odHlwZSl7cmV0dXJuIHR5cGUhPT0hMSYmKHR5cGU9dHlwZXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGluZGV4LGRhdGE9ZGF0YV9wcml2LmdldCh0aGlzKSxxdWV1ZT1kYXRhW3R5cGUrInF1ZXVlIl0saG9va3M9ZGF0YVt0eXBlKyJxdWV1ZUhvb2tzIl0sdGltZXJzPWpRdWVyeS50aW1lcnMsbGVuZ3RoPXF1ZXVlP3F1ZXVlLmxlbmd0aDowO2ZvcihkYXRhLmZpbmlzaD0hMCxqUXVlcnkucXVldWUodGhpcyx0eXBlLFtdKSxob29rcyYmaG9va3Muc3RvcCYmaG9va3Muc3RvcC5jYWxsKHRoaXMsITApLGluZGV4PXRpbWVycy5sZW5ndGg7aW5kZXgtLTspdGltZXJzW2luZGV4XS5lbGVtPT09dGhpcyYmdGltZXJzW2luZGV4XS5xdWV1ZT09PXR5cGUmJih0aW1lcnNbaW5kZXhdLmFuaW0uc3RvcCghMCksdGltZXJzLnNwbGljZShpbmRleCwxKSk7Zm9yKGluZGV4PTA7bGVuZ3RoPmluZGV4O2luZGV4KyspcXVldWVbaW5kZXhdJiZxdWV1ZVtpbmRleF0uZmluaXNoJiZxdWV1ZVtpbmRleF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGRhdGEuZmluaXNofSl9fSksalF1ZXJ5LmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGksbmFtZSl7dmFyIGNzc0ZuPWpRdWVyeS5mbltuYW1lXTtqUXVlcnkuZm5bbmFtZV09ZnVuY3Rpb24oc3BlZWQsZWFzaW5nLGNhbGxiYWNrKXtyZXR1cm4gbnVsbD09c3BlZWR8fCJib29sZWFuIj09dHlwZW9mIHNwZWVkP2Nzc0ZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoZ2VuRngobmFtZSwhMCksc3BlZWQsZWFzaW5nLGNhbGxiYWNrKX19KSxqUXVlcnkuZWFjaCh7c2xpZGVEb3duOmdlbkZ4KCJzaG93Iiksc2xpZGVVcDpnZW5GeCgiaGlkZSIpLHNsaWRlVG9nZ2xlOmdlbkZ4KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKG5hbWUscHJvcHMpe2pRdWVyeS5mbltuYW1lXT1mdW5jdGlvbihzcGVlZCxlYXNpbmcsY2FsbGJhY2spe3JldHVybiB0aGlzLmFuaW1hdGUocHJvcHMsc3BlZWQsZWFzaW5nLGNhbGxiYWNrKX19KSxqUXVlcnkudGltZXJzPVtdLGpRdWVyeS5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIHRpbWVyLGk9MCx0aW1lcnM9alF1ZXJ5LnRpbWVycztmb3IoZnhOb3c9alF1ZXJ5Lm5vdygpO2k8dGltZXJzLmxlbmd0aDtpKyspdGltZXI9dGltZXJzW2ldLHRpbWVyKCl8fHRpbWVyc1tpXSE9PXRpbWVyfHx0aW1lcnMuc3BsaWNlKGktLSwxKTt0aW1lcnMubGVuZ3RofHxqUXVlcnkuZnguc3RvcCgpLGZ4Tm93PXZvaWQgMH0salF1ZXJ5LmZ4LnRpbWVyPWZ1bmN0aW9uKHRpbWVyKXtqUXVlcnkudGltZXJzLnB1c2godGltZXIpLHRpbWVyKCk/alF1ZXJ5LmZ4LnN0YXJ0KCk6alF1ZXJ5LnRpbWVycy5wb3AoKX0salF1ZXJ5LmZ4LmludGVydmFsPTEzLGpRdWVyeS5meC5zdGFydD1mdW5jdGlvbigpe3RpbWVySWR8fCh0aW1lcklkPXNldEludGVydmFsKGpRdWVyeS5meC50aWNrLGpRdWVyeS5meC5pbnRlcnZhbCkpfSxqUXVlcnkuZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGltZXJJZCksdGltZXJJZD1udWxsfSxqUXVlcnkuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LGpRdWVyeS5mbi5kZWxheT1mdW5jdGlvbih0aW1lLHR5cGUpe3JldHVybiB0aW1lPWpRdWVyeS5meD9qUXVlcnkuZnguc3BlZWRzW3RpbWVdfHx0aW1lOnRpbWUsdHlwZT10eXBlfHwiZngiLHRoaXMucXVldWUodHlwZSxmdW5jdGlvbihuZXh0LGhvb2tzKXt2YXIgdGltZW91dD1zZXRUaW1lb3V0KG5leHQsdGltZSk7aG9va3Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aW1lb3V0KX19KX0sZnVuY3Rpb24oKXt2YXIgaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxzZWxlY3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iiksb3B0PXNlbGVjdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7aW5wdXQudHlwZT0iY2hlY2tib3giLHN1cHBvcnQuY2hlY2tPbj0iIiE9PWlucHV0LnZhbHVlLHN1cHBvcnQub3B0U2VsZWN0ZWQ9b3B0LnNlbGVjdGVkLHNlbGVjdC5kaXNhYmxlZD0hMCxzdXBwb3J0Lm9wdERpc2FibGVkPSFvcHQuZGlzYWJsZWQsaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxpbnB1dC52YWx1ZT0idCIsaW5wdXQudHlwZT0icmFkaW8iLHN1cHBvcnQucmFkaW9WYWx1ZT0idCI9PT1pbnB1dC52YWx1ZX0oKTt2YXIgbm9kZUhvb2ssYm9vbEhvb2ssYXR0ckhhbmRsZT1qUXVlcnkuZXhwci5hdHRySGFuZGxlO2pRdWVyeS5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7cmV0dXJuIGFjY2Vzcyh0aGlzLGpRdWVyeS5hdHRyLG5hbWUsdmFsdWUsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuYW1lKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5LnJlbW92ZUF0dHIodGhpcyxuYW1lKX0pfX0pLGpRdWVyeS5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZWxlbSxuYW1lLHZhbHVlKXt2YXIgaG9va3MscmV0LG5UeXBlPWVsZW0ubm9kZVR5cGU7aWYoZWxlbSYmMyE9PW5UeXBlJiY4IT09blR5cGUmJjIhPT1uVHlwZSlyZXR1cm4gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlPT09c3RydW5kZWZpbmVkP2pRdWVyeS5wcm9wKGVsZW0sbmFtZSx2YWx1ZSk6KDE9PT1uVHlwZSYmalF1ZXJ5LmlzWE1MRG9jKGVsZW0pfHwobmFtZT1uYW1lLnRvTG93ZXJDYXNlKCksaG9va3M9alF1ZXJ5LmF0dHJIb29rc1tuYW1lXXx8KGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdChuYW1lKT9ib29sSG9vazpub2RlSG9vaykpLHZvaWQgMD09PXZhbHVlP2hvb2tzJiYiZ2V0ImluIGhvb2tzJiZudWxsIT09KHJldD1ob29rcy5nZXQoZWxlbSxuYW1lKSk/cmV0OihyZXQ9alF1ZXJ5LmZpbmQuYXR0cihlbGVtLG5hbWUpLG51bGw9PXJldD92b2lkIDA6cmV0KTpudWxsIT09dmFsdWU/aG9va3MmJiJzZXQiaW4gaG9va3MmJnZvaWQgMCE9PShyZXQ9aG9va3Muc2V0KGVsZW0sdmFsdWUsbmFtZSkpP3JldDooZWxlbS5zZXRBdHRyaWJ1dGUobmFtZSx2YWx1ZSsiIiksdmFsdWUpOnZvaWQgalF1ZXJ5LnJlbW92ZUF0dHIoZWxlbSxuYW1lKSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZWxlbSx2YWx1ZSl7dmFyIG5hbWUscHJvcE5hbWUsaT0wLGF0dHJOYW1lcz12YWx1ZSYmdmFsdWUubWF0Y2gocm5vdHdoaXRlKTtpZihhdHRyTmFtZXMmJjE9PT1lbGVtLm5vZGVUeXBlKWZvcig7bmFtZT1hdHRyTmFtZXNbaSsrXTspcHJvcE5hbWU9alF1ZXJ5LnByb3BGaXhbbmFtZV18fG5hbWUsalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KG5hbWUpJiYoZWxlbVtwcm9wTmFtZV09ITEpLGVsZW0ucmVtb3ZlQXR0cmlidXRlKG5hbWUpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtpZighc3VwcG9ydC5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dmFsdWUmJmpRdWVyeS5ub2RlTmFtZShlbGVtLCJpbnB1dCIpKXt2YXIgdmFsPWVsZW0udmFsdWU7cmV0dXJuIGVsZW0uc2V0QXR0cmlidXRlKCJ0eXBlIix2YWx1ZSksdmFsJiYoZWxlbS52YWx1ZT12YWwpLHZhbHVlfX19fX0pLGJvb2xIb29rPXtzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSxuYW1lKXtyZXR1cm4gdmFsdWU9PT0hMT9qUXVlcnkucmVtb3ZlQXR0cihlbGVtLG5hbWUpOmVsZW0uc2V0QXR0cmlidXRlKG5hbWUsbmFtZSksbmFtZX19LGpRdWVyeS5lYWNoKGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oaSxuYW1lKXt2YXIgZ2V0dGVyPWF0dHJIYW5kbGVbbmFtZV18fGpRdWVyeS5maW5kLmF0dHI7YXR0ckhhbmRsZVtuYW1lXT1mdW5jdGlvbihlbGVtLG5hbWUsaXNYTUwpe3ZhciByZXQsaGFuZGxlO3JldHVybiBpc1hNTHx8KGhhbmRsZT1hdHRySGFuZGxlW25hbWVdLGF0dHJIYW5kbGVbbmFtZV09cmV0LHJldD1udWxsIT1nZXR0ZXIoZWxlbSxuYW1lLGlzWE1MKT9uYW1lLnRvTG93ZXJDYXNlKCk6bnVsbCxhdHRySGFuZGxlW25hbWVdPWhhbmRsZSkscmV0fX0pO3ZhciByZm9jdXNhYmxlPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7alF1ZXJ5LmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihuYW1lLHZhbHVlKXtyZXR1cm4gYWNjZXNzKHRoaXMsalF1ZXJ5LnByb3AsbmFtZSx2YWx1ZSxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tqUXVlcnkucHJvcEZpeFtuYW1lXXx8bmFtZV19KX19KSxqUXVlcnkuZXh0ZW5kKHtwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn0scHJvcDpmdW5jdGlvbihlbGVtLG5hbWUsdmFsdWUpe3ZhciByZXQsaG9va3Msbm90eG1sLG5UeXBlPWVsZW0ubm9kZVR5cGU7aWYoZWxlbSYmMyE9PW5UeXBlJiY4IT09blR5cGUmJjIhPT1uVHlwZSlyZXR1cm4gbm90eG1sPTEhPT1uVHlwZXx8IWpRdWVyeS5pc1hNTERvYyhlbGVtKSxub3R4bWwmJihuYW1lPWpRdWVyeS5wcm9wRml4W25hbWVdfHxuYW1lLGhvb2tzPWpRdWVyeS5wcm9wSG9va3NbbmFtZV0pLHZvaWQgMCE9PXZhbHVlP2hvb2tzJiYic2V0ImluIGhvb2tzJiZ2b2lkIDAhPT0ocmV0PWhvb2tzLnNldChlbGVtLHZhbHVlLG5hbWUpKT9yZXQ6ZWxlbVtuYW1lXT12YWx1ZTpob29rcyYmImdldCJpbiBob29rcyYmbnVsbCE9PShyZXQ9aG9va3MuZ2V0KGVsZW0sbmFtZSkpP3JldDplbGVtW25hbWVdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0uaGFzQXR0cmlidXRlKCJ0YWJpbmRleCIpfHxyZm9jdXNhYmxlLnRlc3QoZWxlbS5ub2RlTmFtZSl8fGVsZW0uaHJlZj9lbGVtLnRhYkluZGV4Oi0xfX19fSksc3VwcG9ydC5vcHRTZWxlY3RlZHx8KGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihlbGVtKXt2YXIgcGFyZW50PWVsZW0ucGFyZW50Tm9kZTtyZXR1cm4gcGFyZW50JiZwYXJlbnQucGFyZW50Tm9kZSYmcGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLGpRdWVyeS5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtqUXVlcnkucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgcmNsYXNzPS9bXHRcclxuXGZdL2c7alF1ZXJ5LmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odmFsdWUpe3ZhciBjbGFzc2VzLGVsZW0sY3VyLGNsYXp6LGosZmluYWxWYWx1ZSxwcm9jZWVkPSJzdHJpbmciPT10eXBlb2YgdmFsdWUmJnZhbHVlLGk9MCxsZW49dGhpcy5sZW5ndGg7aWYoalF1ZXJ5LmlzRnVuY3Rpb24odmFsdWUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oail7alF1ZXJ5KHRoaXMpLmFkZENsYXNzKHZhbHVlLmNhbGwodGhpcyxqLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihwcm9jZWVkKWZvcihjbGFzc2VzPSh2YWx1ZXx8IiIpLm1hdGNoKHJub3R3aGl0ZSl8fFtdO2xlbj5pO2krKylpZihlbGVtPXRoaXNbaV0sY3VyPTE9PT1lbGVtLm5vZGVUeXBlJiYoZWxlbS5jbGFzc05hbWU/KCIgIitlbGVtLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UocmNsYXNzLCIgIik6IiAiKSl7Zm9yKGo9MDtjbGF6ej1jbGFzc2VzW2orK107KWN1ci5pbmRleE9mKCIgIitjbGF6eisiICIpPDAmJihjdXIrPWNsYXp6KyIgIik7ZmluYWxWYWx1ZT1qUXVlcnkudHJpbShjdXIpLGVsZW0uY2xhc3NOYW1lIT09ZmluYWxWYWx1ZSYmKGVsZW0uY2xhc3NOYW1lPWZpbmFsVmFsdWUpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih2YWx1ZSl7dmFyIGNsYXNzZXMsZWxlbSxjdXIsY2xhenosaixmaW5hbFZhbHVlLHByb2NlZWQ9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT10eXBlb2YgdmFsdWUmJnZhbHVlLGk9MCxsZW49dGhpcy5sZW5ndGg7aWYoalF1ZXJ5LmlzRnVuY3Rpb24odmFsdWUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oail7alF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKHZhbHVlLmNhbGwodGhpcyxqLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihwcm9jZWVkKWZvcihjbGFzc2VzPSh2YWx1ZXx8IiIpLm1hdGNoKHJub3R3aGl0ZSl8fFtdO2xlbj5pO2krKylpZihlbGVtPXRoaXNbaV0sY3VyPTE9PT1lbGVtLm5vZGVUeXBlJiYoZWxlbS5jbGFzc05hbWU/KCIgIitlbGVtLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UocmNsYXNzLCIgIik6IiIpKXtmb3Ioaj0wO2NsYXp6PWNsYXNzZXNbaisrXTspZm9yKDtjdXIuaW5kZXhPZigiICIrY2xhenorIiAiKT49MDspY3VyPWN1ci5yZXBsYWNlKCIgIitjbGF6eisiICIsIiAiKTtmaW5hbFZhbHVlPXZhbHVlP2pRdWVyeS50cmltKGN1cik6IiIsZWxlbS5jbGFzc05hbWUhPT1maW5hbFZhbHVlJiYoZWxlbS5jbGFzc05hbWU9ZmluYWxWYWx1ZSl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKHZhbHVlLHN0YXRlVmFsKXt2YXIgdHlwZT10eXBlb2YgdmFsdWU7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygc3RhdGVWYWwmJiJzdHJpbmciPT09dHlwZT9zdGF0ZVZhbD90aGlzLmFkZENsYXNzKHZhbHVlKTp0aGlzLnJlbW92ZUNsYXNzKHZhbHVlKTp0aGlzLmVhY2goalF1ZXJ5LmlzRnVuY3Rpb24odmFsdWUpP2Z1bmN0aW9uKGkpe2pRdWVyeSh0aGlzKS50b2dnbGVDbGFzcyh2YWx1ZS5jYWxsKHRoaXMsaSx0aGlzLmNsYXNzTmFtZSxzdGF0ZVZhbCksc3RhdGVWYWwpfTpmdW5jdGlvbigpe2lmKCJzdHJpbmciPT09dHlwZSlmb3IodmFyIGNsYXNzTmFtZSxpPTAsc2VsZj1qUXVlcnkodGhpcyksY2xhc3NOYW1lcz12YWx1ZS5tYXRjaChybm90d2hpdGUpfHxbXTtjbGFzc05hbWU9Y2xhc3NOYW1lc1tpKytdOylzZWxmLmhhc0NsYXNzKGNsYXNzTmFtZSk/c2VsZi5yZW1vdmVDbGFzcyhjbGFzc05hbWUpOnNlbGYuYWRkQ2xhc3MoY2xhc3NOYW1lKTtlbHNlKHR5cGU9PT1zdHJ1bmRlZmluZWR8fCJib29sZWFuIj09PXR5cGUpJiYodGhpcy5jbGFzc05hbWUmJmRhdGFfcHJpdi5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHx2YWx1ZT09PSExPyIiOmRhdGFfcHJpdi5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oc2VsZWN0b3Ipe2Zvcih2YXIgY2xhc3NOYW1lPSIgIitzZWxlY3RvcisiICIsaT0wLGw9dGhpcy5sZW5ndGg7bD5pO2krKylpZigxPT09dGhpc1tpXS5ub2RlVHlwZSYmKCIgIit0aGlzW2ldLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UocmNsYXNzLCIgIikuaW5kZXhPZihjbGFzc05hbWUpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBycmV0dXJuPS9cci9nO2pRdWVyeS5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbih2YWx1ZSl7dmFyIGhvb2tzLHJldCxpc0Z1bmN0aW9uLGVsZW09dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gaXNGdW5jdGlvbj1qUXVlcnkuaXNGdW5jdGlvbih2YWx1ZSksdGhpcy5lYWNoKGZ1bmN0aW9uKGkpe3ZhciB2YWw7MT09PXRoaXMubm9kZVR5cGUmJih2YWw9aXNGdW5jdGlvbj92YWx1ZS5jYWxsKHRoaXMsaSxqUXVlcnkodGhpcykudmFsKCkpOnZhbHVlLG51bGw9PXZhbD92YWw9IiI6Im51bWJlciI9PXR5cGVvZiB2YWw/dmFsKz0iIjpqUXVlcnkuaXNBcnJheSh2YWwpJiYodmFsPWpRdWVyeS5tYXAodmFsLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gbnVsbD09dmFsdWU/IiI6dmFsdWUrIiJ9KSksaG9va3M9alF1ZXJ5LnZhbEhvb2tzW3RoaXMudHlwZV18fGpRdWVyeS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGhvb2tzJiYic2V0ImluIGhvb2tzJiZ2b2lkIDAhPT1ob29rcy5zZXQodGhpcyx2YWwsInZhbHVlIil8fCh0aGlzLnZhbHVlPXZhbCkpfSk7aWYoZWxlbSlyZXR1cm4gaG9va3M9alF1ZXJ5LnZhbEhvb2tzW2VsZW0udHlwZV18fGpRdWVyeS52YWxIb29rc1tlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGhvb2tzJiYiZ2V0ImluIGhvb2tzJiZ2b2lkIDAhPT0ocmV0PWhvb2tzLmdldChlbGVtLCJ2YWx1ZSIpKT9yZXQ6KHJldD1lbGVtLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgcmV0P3JldC5yZXBsYWNlKHJyZXR1cm4sIiIpOm51bGw9PXJldD8iIjpyZXQpfX19KSxqUXVlcnkuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZWxlbSl7dmFyIHZhbD1qUXVlcnkuZmluZC5hdHRyKGVsZW0sInZhbHVlIik7cmV0dXJuIG51bGwhPXZhbD92YWw6alF1ZXJ5LnRyaW0oalF1ZXJ5LnRleHQoZWxlbSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZWxlbSl7Zm9yKHZhciB2YWx1ZSxvcHRpb24sb3B0aW9ucz1lbGVtLm9wdGlvbnMsaW5kZXg9ZWxlbS5zZWxlY3RlZEluZGV4LG9uZT0ic2VsZWN0LW9uZSI9PT1lbGVtLnR5cGV8fDA+aW5kZXgsdmFsdWVzPW9uZT9udWxsOltdLG1heD1vbmU/aW5kZXgrMTpvcHRpb25zLmxlbmd0aCxpPTA+aW5kZXg/bWF4Om9uZT9pbmRleDowO21heD5pO2krKylpZihvcHRpb249b3B0aW9uc1tpXSwhKCFvcHRpb24uc2VsZWN0ZWQmJmkhPT1pbmRleHx8KHN1cHBvcnQub3B0RGlzYWJsZWQ/b3B0aW9uLmRpc2FibGVkOm51bGwhPT1vcHRpb24uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8b3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQmJmpRdWVyeS5ub2RlTmFtZShvcHRpb24ucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKHZhbHVlPWpRdWVyeShvcHRpb24pLnZhbCgpLG9uZSlyZXR1cm4gdmFsdWU7dmFsdWVzLnB1c2godmFsdWUpfXJldHVybiB2YWx1ZXN9LHNldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtmb3IodmFyIG9wdGlvblNldCxvcHRpb24sb3B0aW9ucz1lbGVtLm9wdGlvbnMsdmFsdWVzPWpRdWVyeS5tYWtlQXJyYXkodmFsdWUpLGk9b3B0aW9ucy5sZW5ndGg7aS0tOylvcHRpb249b3B0aW9uc1tpXSwob3B0aW9uLnNlbGVjdGVkPWpRdWVyeS5pbkFycmF5KG9wdGlvbi52YWx1ZSx2YWx1ZXMpPj0wKSYmKG9wdGlvblNldD0hMCk7cmV0dXJuIG9wdGlvblNldHx8KGVsZW0uc2VsZWN0ZWRJbmRleD0tMSksdmFsdWVzfX19fSksalF1ZXJ5LmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtqUXVlcnkudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtyZXR1cm4galF1ZXJ5LmlzQXJyYXkodmFsdWUpP2VsZW0uY2hlY2tlZD1qUXVlcnkuaW5BcnJheShqUXVlcnkoZWxlbSkudmFsKCksdmFsdWUpPj0wOnZvaWQgMH19LHN1cHBvcnQuY2hlY2tPbnx8KGpRdWVyeS52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIG51bGw9PT1lbGVtLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmVsZW0udmFsdWV9KX0pLGpRdWVyeS5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGksbmFtZSl7alF1ZXJ5LmZuW25hbWVdPWZ1bmN0aW9uKGRhdGEsZm4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihuYW1lLG51bGwsZGF0YSxmbik6dGhpcy50cmlnZ2VyKG5hbWUpfX0pLGpRdWVyeS5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGZuT3Zlcixmbk91dCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihmbk92ZXIpLm1vdXNlbGVhdmUoZm5PdXR8fGZuT3Zlcil9LGJpbmQ6ZnVuY3Rpb24odHlwZXMsZGF0YSxmbil7cmV0dXJuIHRoaXMub24odHlwZXMsbnVsbCxkYXRhLGZuKX0sdW5iaW5kOmZ1bmN0aW9uKHR5cGVzLGZuKXtyZXR1cm4gdGhpcy5vZmYodHlwZXMsbnVsbCxmbil9LGRlbGVnYXRlOmZ1bmN0aW9uKHNlbGVjdG9yLHR5cGVzLGRhdGEsZm4pe3JldHVybiB0aGlzLm9uKHR5cGVzLHNlbGVjdG9yLGRhdGEsZm4pfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKHNlbGVjdG9yLHR5cGVzLGZuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoc2VsZWN0b3IsIioqIik6dGhpcy5vZmYodHlwZXMsc2VsZWN0b3J8fCIqKiIsZm4pfX0pO3ZhciBub25jZT1qUXVlcnkubm93KCkscnF1ZXJ5PS9cPy87alF1ZXJ5LnBhcnNlSlNPTj1mdW5jdGlvbihkYXRhKXtyZXR1cm4gSlNPTi5wYXJzZShkYXRhKyIiKX0salF1ZXJ5LnBhcnNlWE1MPWZ1bmN0aW9uKGRhdGEpe3ZhciB4bWwsdG1wO2lmKCFkYXRhfHwic3RyaW5nIiE9dHlwZW9mIGRhdGEpcmV0dXJuIG51bGw7dHJ5e3RtcD1uZXcgRE9NUGFyc2VyLHhtbD10bXAucGFyc2VGcm9tU3RyaW5nKGRhdGEsInRleHQveG1sIil9Y2F0Y2goZSl7eG1sPXZvaWQgMH1yZXR1cm4oIXhtbHx8eG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aCkmJmpRdWVyeS5lcnJvcigiSW52YWxpZCBYTUw6ICIrZGF0YSkseG1sfTt2YXIgYWpheExvY1BhcnRzLGFqYXhMb2NhdGlvbixyaGFzaD0vIy4qJC8scnRzPS8oWz8mXSlfPVteJl0qLyxyaGVhZGVycz0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLHJsb2NhbFByb3RvY29sPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHJub0NvbnRlbnQ9L14oPzpHRVR8SEVBRCkkLyxycHJvdG9jb2w9L15cL1wvLyxydXJsPS9eKFtcdy4rLV0rOikoPzpcL1wvKD86W15cLz8jXSpAfCkoW15cLz8jOl0qKSg/OjooXGQrKXwpfCkvLHByZWZpbHRlcnM9e30sdHJhbnNwb3J0cz17fSxhbGxUeXBlcz0iKi8iLmNvbmNhdCgiKiIpO3RyeXthamF4TG9jYXRpb249bG9jYXRpb24uaHJlZn1jYXRjaChlKXthamF4TG9jYXRpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGFqYXhMb2NhdGlvbi5ocmVmPSIiLGFqYXhMb2NhdGlvbj1hamF4TG9jYXRpb24uaHJlZn1hamF4TG9jUGFydHM9cnVybC5leGVjKGFqYXhMb2NhdGlvbi50b0xvd2VyQ2FzZSgpKXx8W10salF1ZXJ5LmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YWpheExvY2F0aW9uLHR5cGU6IkdFVCIsaXNMb2NhbDpybG9jYWxQcm90b2NvbC50ZXN0KGFqYXhMb2NQYXJ0c1sxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjphbGxUeXBlcyx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOmpRdWVyeS5wYXJzZUpTT04sInRleHQgeG1sIjpqUXVlcnkucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbih0YXJnZXQsc2V0dGluZ3Mpe3JldHVybiBzZXR0aW5ncz9hamF4RXh0ZW5kKGFqYXhFeHRlbmQodGFyZ2V0LGpRdWVyeS5hamF4U2V0dGluZ3MpLHNldHRpbmdzKTphamF4RXh0ZW5kKGpRdWVyeS5hamF4U2V0dGluZ3MsdGFyZ2V0KX0sYWpheFByZWZpbHRlcjphZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMocHJlZmlsdGVycyksYWpheFRyYW5zcG9ydDphZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHModHJhbnNwb3J0cyksYWpheDpmdW5jdGlvbih1cmwsb3B0aW9ucyl7ZnVuY3Rpb24gZG9uZShzdGF0dXMsbmF0aXZlU3RhdHVzVGV4dCxyZXNwb25zZXMsaGVhZGVycyl7dmFyIGlzU3VjY2VzcyxzdWNjZXNzLGVycm9yLHJlc3BvbnNlLG1vZGlmaWVkLHN0YXR1c1RleHQ9bmF0aXZlU3RhdHVzVGV4dDsyIT09c3RhdGUmJihzdGF0ZT0yLHRpbWVvdXRUaW1lciYmY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lciksdHJhbnNwb3J0PXZvaWQgMCxyZXNwb25zZUhlYWRlcnNTdHJpbmc9aGVhZGVyc3x8IiIsanFYSFIucmVhZHlTdGF0ZT1zdGF0dXM+MD80OjAsaXNTdWNjZXNzPXN0YXR1cz49MjAwJiYzMDA+c3RhdHVzfHwzMDQ9PT1zdGF0dXMscmVzcG9uc2VzJiYocmVzcG9uc2U9YWpheEhhbmRsZVJlc3BvbnNlcyhzLGpxWEhSLHJlc3BvbnNlcykpLHJlc3BvbnNlPWFqYXhDb252ZXJ0KHMscmVzcG9uc2UsanFYSFIsaXNTdWNjZXNzKSxpc1N1Y2Nlc3M/KHMuaWZNb2RpZmllZCYmKG1vZGlmaWVkPWpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksbW9kaWZpZWQmJihqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXT1tb2RpZmllZCksbW9kaWZpZWQ9anFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSxtb2RpZmllZCYmKGpRdWVyeS5ldGFnW2NhY2hlVVJMXT1tb2RpZmllZCkpLDIwND09PXN0YXR1c3x8IkhFQUQiPT09cy50eXBlP3N0YXR1c1RleHQ9Im5vY29udGVudCI6MzA0PT09c3RhdHVzP3N0YXR1c1RleHQ9Im5vdG1vZGlmaWVkIjooc3RhdHVzVGV4dD1yZXNwb25zZS5zdGF0ZSxzdWNjZXNzPXJlc3BvbnNlLmRhdGEsZXJyb3I9cmVzcG9uc2UuZXJyb3IsaXNTdWNjZXNzPSFlcnJvcikpOihlcnJvcj1zdGF0dXNUZXh0LChzdGF0dXN8fCFzdGF0dXNUZXh0KSYmKHN0YXR1c1RleHQ9ImVycm9yIiwwPnN0YXR1cyYmKHN0YXR1cz0wKSkpLGpxWEhSLnN0YXR1cz1zdGF0dXMsanFYSFIuc3RhdHVzVGV4dD0obmF0aXZlU3RhdHVzVGV4dHx8c3RhdHVzVGV4dCkrIiIsaXNTdWNjZXNzP2RlZmVycmVkLnJlc29sdmVXaXRoKGNhbGxiYWNrQ29udGV4dCxbc3VjY2VzcyxzdGF0dXNUZXh0LGpxWEhSXSk6ZGVmZXJyZWQucmVqZWN0V2l0aChjYWxsYmFja0NvbnRleHQsW2pxWEhSLHN0YXR1c1RleHQsZXJyb3JdKSxqcVhIUi5zdGF0dXNDb2RlKHN0YXR1c0NvZGUpLHN0YXR1c0NvZGU9dm9pZCAwLGZpcmVHbG9iYWxzJiZnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlcihpc1N1Y2Nlc3M/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbanFYSFIscyxpc1N1Y2Nlc3M/c3VjY2VzczplcnJvcl0pLGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoY2FsbGJhY2tDb250ZXh0LFtqcVhIUixzdGF0dXNUZXh0XSksZmlyZUdsb2JhbHMmJihnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlcigiYWpheENvbXBsZXRlIixbanFYSFIsc10pLC0talF1ZXJ5LmFjdGl2ZXx8alF1ZXJ5LmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX0ib2JqZWN0Ij09dHlwZW9mIHVybCYmKG9wdGlvbnM9dXJsLHVybD12b2lkIDApLG9wdGlvbnM9b3B0aW9uc3x8e307dmFyIHRyYW5zcG9ydCxjYWNoZVVSTCxyZXNwb25zZUhlYWRlcnNTdHJpbmcscmVzcG9uc2VIZWFkZXJzLHRpbWVvdXRUaW1lcixwYXJ0cyxmaXJlR2xvYmFscyxpLHM9alF1ZXJ5LmFqYXhTZXR1cCh7fSxvcHRpb25zKSxjYWxsYmFja0NvbnRleHQ9cy5jb250ZXh0fHxzLGdsb2JhbEV2ZW50Q29udGV4dD1zLmNvbnRleHQmJihjYWxsYmFja0NvbnRleHQubm9kZVR5cGV8fGNhbGxiYWNrQ29udGV4dC5qcXVlcnkpP2pRdWVyeShjYWxsYmFja0NvbnRleHQpOmpRdWVyeS5ldmVudCxkZWZlcnJlZD1qUXVlcnkuRGVmZXJyZWQoKSxjb21wbGV0ZURlZmVycmVkPWpRdWVyeS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksc3RhdHVzQ29kZT1zLnN0YXR1c0NvZGV8fHt9LHJlcXVlc3RIZWFkZXJzPXt9LHJlcXVlc3RIZWFkZXJzTmFtZXM9e30sc3RhdGU9MCxzdHJBYm9ydD0iY2FuY2VsZWQiLGpxWEhSPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oa2V5KXt2YXIgbWF0Y2g7aWYoMj09PXN0YXRlKXtpZighcmVzcG9uc2VIZWFkZXJzKWZvcihyZXNwb25zZUhlYWRlcnM9e307bWF0Y2g9cmhlYWRlcnMuZXhlYyhyZXNwb25zZUhlYWRlcnNTdHJpbmcpOylyZXNwb25zZUhlYWRlcnNbbWF0Y2hbMV0udG9Mb3dlckNhc2UoKV09bWF0Y2hbMl07bWF0Y2g9cmVzcG9uc2VIZWFkZXJzW2tleS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09bWF0Y2g/bnVsbDptYXRjaH0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT1zdGF0ZT9yZXNwb25zZUhlYWRlcnNTdHJpbmc6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihuYW1lLHZhbHVlKXt2YXIgbG5hbWU9bmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBzdGF0ZXx8KG5hbWU9cmVxdWVzdEhlYWRlcnNOYW1lc1tsbmFtZV09cmVxdWVzdEhlYWRlcnNOYW1lc1tsbmFtZV18fG5hbWUscmVxdWVzdEhlYWRlcnNbbmFtZV09dmFsdWUpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24odHlwZSl7cmV0dXJuIHN0YXRlfHwocy5taW1lVHlwZT10eXBlKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKG1hcCl7dmFyIGNvZGU7aWYobWFwKWlmKDI+c3RhdGUpZm9yKGNvZGUgaW4gbWFwKXN0YXR1c0NvZGVbY29kZV09W3N0YXR1c0NvZGVbY29kZV0sbWFwW2NvZGVdXTtlbHNlIGpxWEhSLmFsd2F5cyhtYXBbanFYSFIuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKHN0YXR1c1RleHQpe3ZhciBmaW5hbFRleHQ9c3RhdHVzVGV4dHx8c3RyQWJvcnQ7cmV0dXJuIHRyYW5zcG9ydCYmdHJhbnNwb3J0LmFib3J0KGZpbmFsVGV4dCksZG9uZSgwLGZpbmFsVGV4dCksdGhpc319O2lmKGRlZmVycmVkLnByb21pc2UoanFYSFIpLmNvbXBsZXRlPWNvbXBsZXRlRGVmZXJyZWQuYWRkLGpxWEhSLnN1Y2Nlc3M9anFYSFIuZG9uZSxqcVhIUi5lcnJvcj1qcVhIUi5mYWlsLHMudXJsPSgodXJsfHxzLnVybHx8YWpheExvY2F0aW9uKSsiIikucmVwbGFjZShyaGFzaCwiIikucmVwbGFjZShycHJvdG9jb2wsYWpheExvY1BhcnRzWzFdKyIvLyIpLHMudHlwZT1vcHRpb25zLm1ldGhvZHx8b3B0aW9ucy50eXBlfHxzLm1ldGhvZHx8cy50eXBlLHMuZGF0YVR5cGVzPWpRdWVyeS50cmltKHMuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChybm90d2hpdGUpfHxbIiJdLG51bGw9PXMuY3Jvc3NEb21haW4mJihwYXJ0cz1ydXJsLmV4ZWMocy51cmwudG9Mb3dlckNhc2UoKSkscy5jcm9zc0RvbWFpbj0hKCFwYXJ0c3x8cGFydHNbMV09PT1hamF4TG9jUGFydHNbMV0mJnBhcnRzWzJdPT09YWpheExvY1BhcnRzWzJdJiYocGFydHNbM118fCgiaHR0cDoiPT09cGFydHNbMV0/IjgwIjoiNDQzIikpPT09KGFqYXhMb2NQYXJ0c1szXXx8KCJodHRwOiI9PT1hamF4TG9jUGFydHNbMV0/IjgwIjoiNDQzIikpKSkscy5kYXRhJiZzLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIHMuZGF0YSYmKHMuZGF0YT1qUXVlcnkucGFyYW0ocy5kYXRhLHMudHJhZGl0aW9uYWwpKSxpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyhwcmVmaWx0ZXJzLHMsb3B0aW9ucyxqcVhIUiksMj09PXN0YXRlKXJldHVybiBqcVhIUjtmaXJlR2xvYmFscz1zLmdsb2JhbCxmaXJlR2xvYmFscyYmMD09PWpRdWVyeS5hY3RpdmUrKyYmalF1ZXJ5LmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHMudHlwZT1zLnR5cGUudG9VcHBlckNhc2UoKSxzLmhhc0NvbnRlbnQ9IXJub0NvbnRlbnQudGVzdChzLnR5cGUpLGNhY2hlVVJMPXMudXJsLHMuaGFzQ29udGVudHx8KHMuZGF0YSYmKGNhY2hlVVJMPXMudXJsKz0ocnF1ZXJ5LnRlc3QoY2FjaGVVUkwpPyImIjoiPyIpK3MuZGF0YSxkZWxldGUgcy5kYXRhKSxzLmNhY2hlPT09ITEmJihzLnVybD1ydHMudGVzdChjYWNoZVVSTCk/Y2FjaGVVUkwucmVwbGFjZShydHMsIiQxXz0iK25vbmNlKyspOmNhY2hlVVJMKyhycXVlcnkudGVzdChjYWNoZVVSTCk/IiYiOiI/IikrIl89Iitub25jZSsrKSkscy5pZk1vZGlmaWVkJiYoalF1ZXJ5Lmxhc3RNb2RpZmllZFtjYWNoZVVSTF0mJmpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixqUXVlcnkubGFzdE1vZGlmaWVkW2NhY2hlVVJMXSksalF1ZXJ5LmV0YWdbY2FjaGVVUkxdJiZqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixqUXVlcnkuZXRhZ1tjYWNoZVVSTF0pKSwocy5kYXRhJiZzLmhhc0NvbnRlbnQmJnMuY29udGVudFR5cGUhPT0hMXx8b3B0aW9ucy5jb250ZW50VHlwZSkmJmpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIscy5jb250ZW50VHlwZSksanFYSFIuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixzLmRhdGFUeXBlc1swXSYmcy5hY2NlcHRzW3MuZGF0YVR5cGVzWzBdXT9zLmFjY2VwdHNbcy5kYXRhVHlwZXNbMF1dKygiKiIhPT1zLmRhdGFUeXBlc1swXT8iLCAiK2FsbFR5cGVzKyI7IHE9MC4wMSI6IiIpOnMuYWNjZXB0c1siKiJdKTtmb3IoaSBpbiBzLmhlYWRlcnMpanFYSFIuc2V0UmVxdWVzdEhlYWRlcihpLHMuaGVhZGVyc1tpXSk7aWYocy5iZWZvcmVTZW5kJiYocy5iZWZvcmVTZW5kLmNhbGwoY2FsbGJhY2tDb250ZXh0LGpxWEhSLHMpPT09ITF8fDI9PT1zdGF0ZSkpcmV0dXJuIGpxWEhSLmFib3J0KCk7c3RyQWJvcnQ9ImFib3J0Ijtmb3IoaSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSlqcVhIUltpXShzW2ldKTtpZih0cmFuc3BvcnQ9aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHModHJhbnNwb3J0cyxzLG9wdGlvbnMsanFYSFIpKXtqcVhIUi5yZWFkeVN0YXRlPTEsZmlyZUdsb2JhbHMmJmdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCJhamF4U2VuZCIsW2pxWEhSLHNdKSxzLmFzeW5jJiZzLnRpbWVvdXQ+MCYmKHRpbWVvdXRUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7anFYSFIuYWJvcnQoInRpbWVvdXQiKX0scy50aW1lb3V0KSk7dHJ5e3N0YXRlPTEsdHJhbnNwb3J0LnNlbmQocmVxdWVzdEhlYWRlcnMsZG9uZSl9Y2F0Y2goZSl7aWYoISgyPnN0YXRlKSl0aHJvdyBlO2RvbmUoLTEsZSl9fWVsc2UgZG9uZSgtMSwiTm8gVHJhbnNwb3J0Iik7cmV0dXJuIGpxWEhSfSxnZXRKU09OOmZ1bmN0aW9uKHVybCxkYXRhLGNhbGxiYWNrKXtyZXR1cm4galF1ZXJ5LmdldCh1cmwsZGF0YSxjYWxsYmFjaywianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4galF1ZXJ5LmdldCh1cmwsdm9pZCAwLGNhbGxiYWNrLCJzY3JpcHQiKX19KSxqUXVlcnkuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihpLG1ldGhvZCl7alF1ZXJ5W21ldGhvZF09ZnVuY3Rpb24odXJsLGRhdGEsY2FsbGJhY2ssdHlwZSl7cmV0dXJuIGpRdWVyeS5pc0Z1bmN0aW9uKGRhdGEpJiYodHlwZT10eXBlfHxjYWxsYmFjayxjYWxsYmFjaz1kYXRhLGRhdGE9dm9pZCAwKSxqUXVlcnkuYWpheCh7dXJsOnVybCx0eXBlOm1ldGhvZCxkYXRhVHlwZTp0eXBlLGRhdGE6ZGF0YSxzdWNjZXNzOmNhbGxiYWNrfSl9fSksalF1ZXJ5LmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihpLHR5cGUpe2pRdWVyeS5mblt0eXBlXT1mdW5jdGlvbihmbil7cmV0dXJuIHRoaXMub24odHlwZSxmbil9fSksalF1ZXJ5Ll9ldmFsVXJsPWZ1bmN0aW9uKHVybCl7cmV0dXJuIGpRdWVyeS5hamF4KHt1cmw6dXJsLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsYXN5bmM6ITEsZ2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9LGpRdWVyeS5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oaHRtbCl7dmFyIHdyYXA7cmV0dXJuIGpRdWVyeS5pc0Z1bmN0aW9uKGh0bWwpP3RoaXMuZWFjaChmdW5jdGlvbihpKXtqUXVlcnkodGhpcykud3JhcEFsbChodG1sLmNhbGwodGhpcyxpKSl9KToodGhpc1swXSYmKHdyYXA9alF1ZXJ5KGh0bWwsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ3cmFwLmluc2VydEJlZm9yZSh0aGlzWzBdKSx3cmFwLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgZWxlbT10aGlzO2VsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7KWVsZW09ZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZWxlbX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihodG1sKXtyZXR1cm4gdGhpcy5lYWNoKGpRdWVyeS5pc0Z1bmN0aW9uKGh0bWwpP2Z1bmN0aW9uKGkpe2pRdWVyeSh0aGlzKS53cmFwSW5uZXIoaHRtbC5jYWxsKHRoaXMsaSkpfTpmdW5jdGlvbigpe3ZhciBzZWxmPWpRdWVyeSh0aGlzKSxjb250ZW50cz1zZWxmLmNvbnRlbnRzKCk7Y29udGVudHMubGVuZ3RoP2NvbnRlbnRzLndyYXBBbGwoaHRtbCk6c2VsZi5hcHBlbmQoaHRtbCl9KX0sd3JhcDpmdW5jdGlvbihodG1sKXt2YXIgaXNGdW5jdGlvbj1qUXVlcnkuaXNGdW5jdGlvbihodG1sKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpe2pRdWVyeSh0aGlzKS53cmFwQWxsKGlzRnVuY3Rpb24/aHRtbC5jYWxsKHRoaXMsaSk6aHRtbCl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2pRdWVyeS5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fGpRdWVyeSh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksalF1ZXJ5LmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGVsZW0ub2Zmc2V0V2lkdGg8PTAmJmVsZW0ub2Zmc2V0SGVpZ2h0PD0wfSxqUXVlcnkuZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIWpRdWVyeS5leHByLmZpbHRlcnMuaGlkZGVuKGVsZW0pfTt2YXIgcjIwPS8lMjAvZyxyYnJhY2tldD0vXFtcXSQvLHJDUkxGPS9ccj9cbi9nLHJzdWJtaXR0ZXJUeXBlcz0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2kscnN1Ym1pdHRhYmxlPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtqUXVlcnkucGFyYW09ZnVuY3Rpb24oYSx0cmFkaXRpb25hbCl7dmFyIHByZWZpeCxzPVtdLGFkZD1mdW5jdGlvbihrZXksdmFsdWUpe3ZhbHVlPWpRdWVyeS5pc0Z1bmN0aW9uKHZhbHVlKT92YWx1ZSgpOm51bGw9PXZhbHVlPyIiOnZhbHVlLHNbcy5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChrZXkpKyI9IitlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfTtpZih2b2lkIDA9PT10cmFkaXRpb25hbCYmKHRyYWRpdGlvbmFsPWpRdWVyeS5hamF4U2V0dGluZ3MmJmpRdWVyeS5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLGpRdWVyeS5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIWpRdWVyeS5pc1BsYWluT2JqZWN0KGEpKWpRdWVyeS5lYWNoKGEsZnVuY3Rpb24oKXthZGQodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IocHJlZml4IGluIGEpYnVpbGRQYXJhbXMocHJlZml4LGFbcHJlZml4XSx0cmFkaXRpb25hbCxhZGQpO3JldHVybiBzLmpvaW4oIiYiKS5yZXBsYWNlKHIyMCwiKyIpfSxqUXVlcnkuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4galF1ZXJ5LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGVsZW1lbnRzPWpRdWVyeS5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIGVsZW1lbnRzP2pRdWVyeS5tYWtlQXJyYXkoZWxlbWVudHMpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdHlwZT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIWpRdWVyeSh0aGlzKS5pcygiOmRpc2FibGVkIikmJnJzdWJtaXR0YWJsZS50ZXN0KHRoaXMubm9kZU5hbWUpJiYhcnN1Ym1pdHRlclR5cGVzLnRlc3QodHlwZSkmJih0aGlzLmNoZWNrZWR8fCFyY2hlY2thYmxlVHlwZS50ZXN0KHR5cGUpKX0pLm1hcChmdW5jdGlvbihpLGVsZW0pe3ZhciB2YWw9alF1ZXJ5KHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT12YWw/bnVsbDpqUXVlcnkuaXNBcnJheSh2YWwpP2pRdWVyeS5tYXAodmFsLGZ1bmN0aW9uKHZhbCl7cmV0dXJue25hbWU6ZWxlbS5uYW1lLHZhbHVlOnZhbC5yZXBsYWNlKHJDUkxGLCJcclxuIil9fSk6e25hbWU6ZWxlbS5uYW1lLHZhbHVlOnZhbC5yZXBsYWNlKHJDUkxGLCJcclxuIil9fSkuZ2V0KCl9fSksalF1ZXJ5LmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9fTt2YXIgeGhySWQ9MCx4aHJDYWxsYmFja3M9e30seGhyU3VjY2Vzc1N0YXR1cz17MDoyMDAsMTIyMzoyMDR9LHhoclN1cHBvcnRlZD1qUXVlcnkuYWpheFNldHRpbmdzLnhocigpO3dpbmRvdy5BY3RpdmVYT2JqZWN0JiZqUXVlcnkod2luZG93KS5vbigidW5sb2FkIixmdW5jdGlvbigpe2Zvcih2YXIga2V5IGluIHhockNhbGxiYWNrcyl4aHJDYWxsYmFja3Nba2V5XSgpfSksc3VwcG9ydC5jb3JzPSEheGhyU3VwcG9ydGVkJiYid2l0aENyZWRlbnRpYWxzImluIHhoclN1cHBvcnRlZCxzdXBwb3J0LmFqYXg9eGhyU3VwcG9ydGVkPSEheGhyU3VwcG9ydGVkLGpRdWVyeS5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBjYWxsYmFjaztyZXR1cm4gc3VwcG9ydC5jb3JzfHx4aHJTdXBwb3J0ZWQmJiFvcHRpb25zLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKGhlYWRlcnMsY29tcGxldGUpe3ZhciBpLHhocj1vcHRpb25zLnhocigpLGlkPSsreGhySWQ7aWYoeGhyLm9wZW4ob3B0aW9ucy50eXBlLG9wdGlvbnMudXJsLG9wdGlvbnMuYXN5bmMsb3B0aW9ucy51c2VybmFtZSxvcHRpb25zLnBhc3N3b3JkKSxvcHRpb25zLnhockZpZWxkcylmb3IoaSBpbiBvcHRpb25zLnhockZpZWxkcyl4aHJbaV09b3B0aW9ucy54aHJGaWVsZHNbaV07b3B0aW9ucy5taW1lVHlwZSYmeGhyLm92ZXJyaWRlTWltZVR5cGUmJnhoci5vdmVycmlkZU1pbWVUeXBlKG9wdGlvbnMubWltZVR5cGUpLG9wdGlvbnMuY3Jvc3NEb21haW58fGhlYWRlcnNbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGhlYWRlcnNbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoaSBpbiBoZWFkZXJzKXhoci5zZXRSZXF1ZXN0SGVhZGVyKGksaGVhZGVyc1tpXSk7Y2FsbGJhY2s9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y2FsbGJhY2smJihkZWxldGUgeGhyQ2FsbGJhY2tzW2lkXSxjYWxsYmFjaz14aHIub25sb2FkPXhoci5vbmVycm9yPW51bGwsImFib3J0Ij09PXR5cGU/eGhyLmFib3J0KCk6ImVycm9yIj09PXR5cGU/Y29tcGxldGUoeGhyLnN0YXR1cyx4aHIuc3RhdHVzVGV4dCk6Y29tcGxldGUoeGhyU3VjY2Vzc1N0YXR1c1t4aHIuc3RhdHVzXXx8eGhyLnN0YXR1cyx4aHIuc3RhdHVzVGV4dCwic3RyaW5nIj09dHlwZW9mIHhoci5yZXNwb25zZVRleHQ/e3RleHQ6eGhyLnJlc3BvbnNlVGV4dH06dm9pZCAwLHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0seGhyLm9ubG9hZD1jYWxsYmFjaygpLHhoci5vbmVycm9yPWNhbGxiYWNrKCJlcnJvciIpLGNhbGxiYWNrPXhockNhbGxiYWNrc1tpZF09Y2FsbGJhY2soImFib3J0Iik7dHJ5e3hoci5zZW5kKG9wdGlvbnMuaGFzQ29udGVudCYmb3B0aW9ucy5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihjYWxsYmFjayl0aHJvdyBlfX0sYWJvcnQ6ZnVuY3Rpb24oKXtjYWxsYmFjayYmY2FsbGJhY2soKX19OnZvaWQgMH0pLGpRdWVyeS5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbih0ZXh0KXtyZXR1cm4galF1ZXJ5Lmdsb2JhbEV2YWwodGV4dCksdGV4dH19fSksalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24ocyl7dm9pZCAwPT09cy5jYWNoZSYmKHMuY2FjaGU9ITEpLHMuY3Jvc3NEb21haW4mJihzLnR5cGU9IkdFVCIpfSksalF1ZXJ5LmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24ocyl7aWYocy5jcm9zc0RvbWFpbil7dmFyIHNjcmlwdCxjYWxsYmFjaztyZXR1cm57c2VuZDpmdW5jdGlvbihfLGNvbXBsZXRlKXtzY3JpcHQ9alF1ZXJ5KCI8c2NyaXB0PiIpLnByb3Aoe2FzeW5jOiEwLGNoYXJzZXQ6cy5zY3JpcHRDaGFyc2V0LHNyYzpzLnVybH0pLm9uKCJsb2FkIGVycm9yIixjYWxsYmFjaz1mdW5jdGlvbihldnQpe3NjcmlwdC5yZW1vdmUoKSxjYWxsYmFjaz1udWxsLGV2dCYmY29tcGxldGUoImVycm9yIj09PWV2dC50eXBlPzQwNDoyMDAsZXZ0LnR5cGUpfSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2NhbGxiYWNrJiZjYWxsYmFjaygpfX19fSk7dmFyIG9sZENhbGxiYWNrcz1bXSxyanNvbnA9Lyg9KVw/KD89JnwkKXxcP1w/LztqUXVlcnkuYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgY2FsbGJhY2s9b2xkQ2FsbGJhY2tzLnBvcCgpfHxqUXVlcnkuZXhwYW5kbysiXyIrbm9uY2UrKztyZXR1cm4gdGhpc1tjYWxsYmFja109ITAsY2FsbGJhY2t9fSksalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHMsb3JpZ2luYWxTZXR0aW5ncyxqcVhIUil7dmFyIGNhbGxiYWNrTmFtZSxvdmVyd3JpdHRlbixyZXNwb25zZUNvbnRhaW5lcixqc29uUHJvcD1zLmpzb25wIT09ITEmJihyanNvbnAudGVzdChzLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBzLmRhdGEmJiEocy5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZyanNvbnAudGVzdChzLmRhdGEpJiYiZGF0YSIpO3JldHVybiBqc29uUHJvcHx8Impzb25wIj09PXMuZGF0YVR5cGVzWzBdPyhjYWxsYmFja05hbWU9cy5qc29ucENhbGxiYWNrPWpRdWVyeS5pc0Z1bmN0aW9uKHMuanNvbnBDYWxsYmFjayk/cy5qc29ucENhbGxiYWNrKCk6cy5qc29ucENhbGxiYWNrLGpzb25Qcm9wP3NbanNvblByb3BdPXNbanNvblByb3BdLnJlcGxhY2Uocmpzb25wLCIkMSIrY2FsbGJhY2tOYW1lKTpzLmpzb25wIT09ITEmJihzLnVybCs9KHJxdWVyeS50ZXN0KHMudXJsKT8iJiI6Ij8iKStzLmpzb25wKyI9IitjYWxsYmFja05hbWUpLHMuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiByZXNwb25zZUNvbnRhaW5lcnx8alF1ZXJ5LmVycm9yKGNhbGxiYWNrTmFtZSsiIHdhcyBub3QgY2FsbGVkIikscmVzcG9uc2VDb250YWluZXJbMF19LHMuZGF0YVR5cGVzWzBdPSJqc29uIixvdmVyd3JpdHRlbj13aW5kb3dbY2FsbGJhY2tOYW1lXSx3aW5kb3dbY2FsbGJhY2tOYW1lXT1mdW5jdGlvbigpe3Jlc3BvbnNlQ29udGFpbmVyPWFyZ3VtZW50c30sanFYSFIuYWx3YXlzKGZ1bmN0aW9uKCl7d2luZG93W2NhbGxiYWNrTmFtZV09b3ZlcndyaXR0ZW4sc1tjYWxsYmFja05hbWVdJiYocy5qc29ucENhbGxiYWNrPW9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjayxvbGRDYWxsYmFja3MucHVzaChjYWxsYmFja05hbWUpKSxyZXNwb25zZUNvbnRhaW5lciYmalF1ZXJ5LmlzRnVuY3Rpb24ob3ZlcndyaXR0ZW4pJiZvdmVyd3JpdHRlbihyZXNwb25zZUNvbnRhaW5lclswXSkscmVzcG9uc2VDb250YWluZXI9b3ZlcndyaXR0ZW49dm9pZCAwfSksInNjcmlwdCIpOnZvaWQgMH0pLGpRdWVyeS5wYXJzZUhUTUw9ZnVuY3Rpb24oZGF0YSxjb250ZXh0LGtlZXBTY3JpcHRzKXtpZighZGF0YXx8InN0cmluZyIhPXR5cGVvZiBkYXRhKXJldHVybiBudWxsOyJib29sZWFuIj09dHlwZW9mIGNvbnRleHQmJihrZWVwU2NyaXB0cz1jb250ZXh0LGNvbnRleHQ9ITEpLGNvbnRleHQ9Y29udGV4dHx8ZG9jdW1lbnQ7dmFyIHBhcnNlZD1yc2luZ2xlVGFnLmV4ZWMoZGF0YSksc2NyaXB0cz0ha2VlcFNjcmlwdHMmJltdO3JldHVybiBwYXJzZWQ/W2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXToocGFyc2VkPWpRdWVyeS5idWlsZEZyYWdtZW50KFtkYXRhXSxjb250ZXh0LHNjcmlwdHMpLHNjcmlwdHMmJnNjcmlwdHMubGVuZ3RoJiZqUXVlcnkoc2NyaXB0cykucmVtb3ZlKCksalF1ZXJ5Lm1lcmdlKFtdLHBhcnNlZC5jaGlsZE5vZGVzKSl9O3ZhciBfbG9hZD1qUXVlcnkuZm4ubG9hZDtqUXVlcnkuZm4ubG9hZD1mdW5jdGlvbih1cmwscGFyYW1zLGNhbGxiYWNrKXtpZigic3RyaW5nIiE9dHlwZW9mIHVybCYmX2xvYWQpcmV0dXJuIF9sb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgc2VsZWN0b3IsdHlwZSxyZXNwb25zZSxzZWxmPXRoaXMsb2ZmPXVybC5pbmRleE9mKCIgIik7cmV0dXJuIG9mZj49MCYmKHNlbGVjdG9yPWpRdWVyeS50cmltKHVybC5zbGljZShvZmYpKSx1cmw9dXJsLnNsaWNlKDAsb2ZmKSksalF1ZXJ5LmlzRnVuY3Rpb24ocGFyYW1zKT8oY2FsbGJhY2s9cGFyYW1zLHBhcmFtcz12b2lkIDApOnBhcmFtcyYmIm9iamVjdCI9PXR5cGVvZiBwYXJhbXMmJih0eXBlPSJQT1NUIiksc2VsZi5sZW5ndGg+MCYmalF1ZXJ5LmFqYXgoe3VybDp1cmwsdHlwZTp0eXBlLGRhdGFUeXBlOiJodG1sIixkYXRhOnBhcmFtc30pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2VUZXh0KXtyZXNwb25zZT1hcmd1bWVudHMsc2VsZi5odG1sKHNlbGVjdG9yP2pRdWVyeSgiPGRpdj4iKS5hcHBlbmQoalF1ZXJ5LnBhcnNlSFRNTChyZXNwb25zZVRleHQpKS5maW5kKHNlbGVjdG9yKTpyZXNwb25zZVRleHQpfSkuY29tcGxldGUoY2FsbGJhY2smJmZ1bmN0aW9uKGpxWEhSLHN0YXR1cyl7c2VsZi5lYWNoKGNhbGxiYWNrLHJlc3BvbnNlfHxbanFYSFIucmVzcG9uc2VUZXh0LHN0YXR1cyxqcVhIUl0pfSksdGhpc30salF1ZXJ5LmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihlbGVtKXtyZXR1cm4galF1ZXJ5LmdyZXAoalF1ZXJ5LnRpbWVycyxmdW5jdGlvbihmbil7cmV0dXJuIGVsZW09PT1mbi5lbGVtfSkubGVuZ3RofTt2YXIgZG9jRWxlbT13aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2pRdWVyeS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlbGVtLG9wdGlvbnMsaSl7dmFyIGN1clBvc2l0aW9uLGN1ckxlZnQsY3VyQ1NTVG9wLGN1clRvcCxjdXJPZmZzZXQsY3VyQ1NTTGVmdCxjYWxjdWxhdGVQb3NpdGlvbixwb3NpdGlvbj1qUXVlcnkuY3NzKGVsZW0sInBvc2l0aW9uIiksY3VyRWxlbT1qUXVlcnkoZWxlbSkscHJvcHM9e307InN0YXRpYyI9PT1wb3NpdGlvbiYmKGVsZW0uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksY3VyT2Zmc2V0PWN1ckVsZW0ub2Zmc2V0KCksY3VyQ1NTVG9wPWpRdWVyeS5jc3MoZWxlbSwidG9wIiksY3VyQ1NTTGVmdD1qUXVlcnkuY3NzKGVsZW0sImxlZnQiKSxjYWxjdWxhdGVQb3NpdGlvbj0oImFic29sdXRlIj09PXBvc2l0aW9ufHwiZml4ZWQiPT09cG9zaXRpb24pJiYoY3VyQ1NTVG9wK2N1ckNTU0xlZnQpLmluZGV4T2YoImF1dG8iKT4tMSxjYWxjdWxhdGVQb3NpdGlvbj8oY3VyUG9zaXRpb249Y3VyRWxlbS5wb3NpdGlvbigpLGN1clRvcD1jdXJQb3NpdGlvbi50b3AsY3VyTGVmdD1jdXJQb3NpdGlvbi5sZWZ0KTooY3VyVG9wPXBhcnNlRmxvYXQoY3VyQ1NTVG9wKXx8MCxjdXJMZWZ0PXBhcnNlRmxvYXQoY3VyQ1NTTGVmdCl8fDApLGpRdWVyeS5pc0Z1bmN0aW9uKG9wdGlvbnMpJiYob3B0aW9ucz1vcHRpb25zLmNhbGwoZWxlbSxpLGN1ck9mZnNldCkpLG51bGwhPW9wdGlvbnMudG9wJiYocHJvcHMudG9wPW9wdGlvbnMudG9wLWN1ck9mZnNldC50b3ArY3VyVG9wKSxudWxsIT1vcHRpb25zLmxlZnQmJihwcm9wcy5sZWZ0PW9wdGlvbnMubGVmdC1jdXJPZmZzZXQubGVmdCtjdXJMZWZ0KSwidXNpbmciaW4gb3B0aW9ucz9vcHRpb25zLnVzaW5nLmNhbGwoZWxlbSxwcm9wcyk6Y3VyRWxlbS5jc3MocHJvcHMpfX0salF1ZXJ5LmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKG9wdGlvbnMpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PW9wdGlvbnM/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oaSl7alF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQodGhpcyxvcHRpb25zLGkpfSk7dmFyIGRvY0VsZW0sd2luLGVsZW09dGhpc1swXSxib3g9e3RvcDowLGxlZnQ6MH0sZG9jPWVsZW0mJmVsZW0ub3duZXJEb2N1bWVudDtpZihkb2MpcmV0dXJuIGRvY0VsZW09ZG9jLmRvY3VtZW50RWxlbWVudCxqUXVlcnkuY29udGFpbnMoZG9jRWxlbSxlbGVtKT8odHlwZW9mIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09c3RydW5kZWZpbmVkJiYoYm94PWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLHdpbj1nZXRXaW5kb3coZG9jKSx7dG9wOmJveC50b3Ard2luLnBhZ2VZT2Zmc2V0LWRvY0VsZW0uY2xpZW50VG9wLGxlZnQ6Ym94LmxlZnQrd2luLnBhZ2VYT2Zmc2V0LWRvY0VsZW0uY2xpZW50TGVmdH0pOmJveH0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgb2Zmc2V0UGFyZW50LG9mZnNldCxlbGVtPXRoaXNbMF0scGFyZW50T2Zmc2V0PXt0b3A6MCxsZWZ0OjB9O3JldHVybiJmaXhlZCI9PT1qUXVlcnkuY3NzKGVsZW0sInBvc2l0aW9uIik/b2Zmc2V0PWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KG9mZnNldFBhcmVudD10aGlzLm9mZnNldFBhcmVudCgpLG9mZnNldD10aGlzLm9mZnNldCgpLGpRdWVyeS5ub2RlTmFtZShvZmZzZXRQYXJlbnRbMF0sImh0bWwiKXx8KHBhcmVudE9mZnNldD1vZmZzZXRQYXJlbnQub2Zmc2V0KCkpLHBhcmVudE9mZnNldC50b3ArPWpRdWVyeS5jc3Mob2Zmc2V0UGFyZW50WzBdLCJib3JkZXJUb3BXaWR0aCIsITApLHBhcmVudE9mZnNldC5sZWZ0Kz1qUXVlcnkuY3NzKG9mZnNldFBhcmVudFswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6b2Zmc2V0LnRvcC1wYXJlbnRPZmZzZXQudG9wLWpRdWVyeS5jc3MoZWxlbSwibWFyZ2luVG9wIiwhMCksbGVmdDpvZmZzZXQubGVmdC1wYXJlbnRPZmZzZXQubGVmdC1qUXVlcnkuY3NzKGVsZW0sIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIG9mZnNldFBhcmVudD10aGlzLm9mZnNldFBhcmVudHx8ZG9jRWxlbTtvZmZzZXRQYXJlbnQmJiFqUXVlcnkubm9kZU5hbWUob2Zmc2V0UGFyZW50LCJodG1sIikmJiJzdGF0aWMiPT09alF1ZXJ5LmNzcyhvZmZzZXRQYXJlbnQsInBvc2l0aW9uIik7KW9mZnNldFBhcmVudD1vZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O3JldHVybiBvZmZzZXRQYXJlbnR8fGRvY0VsZW19KX19KSxqUXVlcnkuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihtZXRob2QscHJvcCl7dmFyIHRvcD0icGFnZVlPZmZzZXQiPT09cHJvcDtqUXVlcnkuZm5bbWV0aG9kXT1mdW5jdGlvbih2YWwpe3JldHVybiBhY2Nlc3ModGhpcyxmdW5jdGlvbihlbGVtLG1ldGhvZCx2YWwpe3ZhciB3aW49Z2V0V2luZG93KGVsZW0pO3JldHVybiB2b2lkIDA9PT12YWw/d2luP3dpbltwcm9wXTplbGVtW21ldGhvZF06dm9pZCh3aW4/d2luLnNjcm9sbFRvKHRvcD93aW5kb3cucGFnZVhPZmZzZXQ6dmFsLHRvcD92YWw6d2luZG93LnBhZ2VZT2Zmc2V0KTplbGVtW21ldGhvZF09dmFsKX0sbWV0aG9kLHZhbCxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLGpRdWVyeS5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGkscHJvcCl7alF1ZXJ5LmNzc0hvb2tzW3Byb3BdPWFkZEdldEhvb2tJZihzdXBwb3J0LnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZWxlbSxjb21wdXRlZCl7cmV0dXJuIGNvbXB1dGVkPyhjb21wdXRlZD1jdXJDU1MoZWxlbSxwcm9wKSxybnVtbm9ucHgudGVzdChjb21wdXRlZCk/alF1ZXJ5KGVsZW0pLnBvc2l0aW9uKClbcHJvcF0rInB4Ijpjb21wdXRlZCk6dm9pZCAwfSl9KSxqUXVlcnkuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKG5hbWUsdHlwZSl7alF1ZXJ5LmVhY2goe3BhZGRpbmc6ImlubmVyIituYW1lLGNvbnRlbnQ6dHlwZSwiIjoib3V0ZXIiK25hbWV9LGZ1bmN0aW9uKGRlZmF1bHRFeHRyYSxmdW5jTmFtZSl7alF1ZXJ5LmZuW2Z1bmNOYW1lXT1mdW5jdGlvbihtYXJnaW4sdmFsdWUpe3ZhciBjaGFpbmFibGU9YXJndW1lbnRzLmxlbmd0aCYmKGRlZmF1bHRFeHRyYXx8ImJvb2xlYW4iIT10eXBlb2YgbWFyZ2luKSxleHRyYT1kZWZhdWx0RXh0cmF8fChtYXJnaW49PT0hMHx8dmFsdWU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIGFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGVsZW0sdHlwZSx2YWx1ZSl7dmFyIGRvYztyZXR1cm4galF1ZXJ5LmlzV2luZG93KGVsZW0pP2VsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK25hbWVdOjk9PT1lbGVtLm5vZGVUeXBlPyhkb2M9ZWxlbS5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoZWxlbS5ib2R5WyJzY3JvbGwiK25hbWVdLGRvY1sic2Nyb2xsIituYW1lXSxlbGVtLmJvZHlbIm9mZnNldCIrbmFtZV0sZG9jWyJvZmZzZXQiK25hbWVdLGRvY1siY2xpZW50IituYW1lXSkpOnZvaWQgMD09PXZhbHVlP2pRdWVyeS5jc3MoZWxlbSx0eXBlLGV4dHJhKTpqUXVlcnkuc3R5bGUoZWxlbSx0eXBlLHZhbHVlLGV4dHJhKX0sdHlwZSxjaGFpbmFibGU/bWFyZ2luOnZvaWQgMCxjaGFpbmFibGUsbnVsbCl9fSl9KSxqUXVlcnkuZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0salF1ZXJ5LmZuLmFuZFNlbGY9alF1ZXJ5LmZuLmFkZEJhY2ssImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGpRdWVyeX0pO3ZhciBfalF1ZXJ5PXdpbmRvdy5qUXVlcnksXyQ9d2luZG93LiQ7cmV0dXJuIGpRdWVyeS5ub0NvbmZsaWN0PWZ1bmN0aW9uKGRlZXApe3JldHVybiB3aW5kb3cuJD09PWpRdWVyeSYmKHdpbmRvdy4kPV8kKSxkZWVwJiZ3aW5kb3cualF1ZXJ5PT09alF1ZXJ5JiYod2luZG93LmpRdWVyeT1falF1ZXJ5KSxqUXVlcnl9LHR5cGVvZiBub0dsb2JhbD09PXN0cnVuZGVmaW5lZCYmKHdpbmRvdy5qUXVlcnk9d2luZG93LiQ9alF1ZXJ5KSxqUXVlcnl9KSxmdW5jdGlvbih3aW5kb3csZG9jdW1lbnQsdW5kZWZpbmVkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbWluRXJyKG1vZHVsZSxFcnJvckNvbnN0cnVjdG9yKXtyZXR1cm4gRXJyb3JDb25zdHJ1Y3Rvcj1FcnJvckNvbnN0cnVjdG9yfHxFcnJvcixmdW5jdGlvbigpe3ZhciBtZXNzYWdlLGksY29kZT1hcmd1bWVudHNbMF0scHJlZml4PSJbIisobW9kdWxlP21vZHVsZSsiOiI6IiIpK2NvZGUrIl0gIix0ZW1wbGF0ZT1hcmd1bWVudHNbMV0sdGVtcGxhdGVBcmdzPWFyZ3VtZW50cyxzdHJpbmdpZnk9ZnVuY3Rpb24ob2JqKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygb2JqP29iai50b1N0cmluZygpLnJlcGxhY2UoLyBce1tcc1xTXSokLywiIik6InVuZGVmaW5lZCI9PXR5cGVvZiBvYmo/InVuZGVmaW5lZCI6InN0cmluZyIhPXR5cGVvZiBvYmo/SlNPTi5zdHJpbmdpZnkob2JqKTpvYmp9O2ZvcihtZXNzYWdlPXByZWZpeCt0ZW1wbGF0ZS5yZXBsYWNlKC9ce1xkK1x9L2csZnVuY3Rpb24obWF0Y2gpe3ZhciBhcmcsaW5kZXg9K21hdGNoLnNsaWNlKDEsLTEpO3JldHVybiBpbmRleCsyPHRlbXBsYXRlQXJncy5sZW5ndGg/KGFyZz10ZW1wbGF0ZUFyZ3NbaW5kZXgrMl0sImZ1bmN0aW9uIj09dHlwZW9mIGFyZz9hcmcudG9TdHJpbmcoKS5yZXBsYWNlKC8gP1x7W1xzXFNdKiQvLCIiKToidW5kZWZpbmVkIj09dHlwZW9mIGFyZz8idW5kZWZpbmVkIjoic3RyaW5nIiE9dHlwZW9mIGFyZz90b0pzb24oYXJnKTphcmcpOm1hdGNofSksbWVzc2FnZT1tZXNzYWdlKyJcbmh0dHA6Ly9lcnJvcnMuYW5ndWxhcmpzLm9yZy8xLjMuMC8iKyhtb2R1bGU/bW9kdWxlKyIvIjoiIikrY29kZSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKyltZXNzYWdlPW1lc3NhZ2UrKDI9PWk/Ij8iOiImIikrInAiKyhpLTIpKyI9IitlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5KGFyZ3VtZW50c1tpXSkpO3JldHVybiBuZXcgRXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKX19ZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKXtpZihudWxsPT1vYmp8fGlzV2luZG93KG9iaikpcmV0dXJuITE7dmFyIGxlbmd0aD1vYmoubGVuZ3RoO3JldHVybiBvYmoubm9kZVR5cGU9PT1OT0RFX1RZUEVfRUxFTUVOVCYmbGVuZ3RoPyEwOmlzU3RyaW5nKG9iail8fGlzQXJyYXkob2JqKXx8MD09PWxlbmd0aHx8Im51bWJlciI9PXR5cGVvZiBsZW5ndGgmJmxlbmd0aD4wJiZsZW5ndGgtMSBpbiBvYmp9ZnVuY3Rpb24gZm9yRWFjaChvYmosaXRlcmF0b3IsY29udGV4dCl7dmFyIGtleSxsZW5ndGg7aWYob2JqKWlmKGlzRnVuY3Rpb24ob2JqKSlmb3Ioa2V5IGluIG9iaikicHJvdG90eXBlIj09a2V5fHwibGVuZ3RoIj09a2V5fHwibmFtZSI9PWtleXx8b2JqLmhhc093blByb3BlcnR5JiYhb2JqLmhhc093blByb3BlcnR5KGtleSl8fGl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5XSxrZXksb2JqKTsKZWxzZSBpZihpc0FycmF5KG9iail8fGlzQXJyYXlMaWtlKG9iaikpe3ZhciBpc1ByaW1pdGl2ZT0ib2JqZWN0IiE9dHlwZW9mIG9iajtmb3Ioa2V5PTAsbGVuZ3RoPW9iai5sZW5ndGg7bGVuZ3RoPmtleTtrZXkrKykoaXNQcmltaXRpdmV8fGtleSBpbiBvYmopJiZpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2tleV0sa2V5LG9iail9ZWxzZSBpZihvYmouZm9yRWFjaCYmb2JqLmZvckVhY2ghPT1mb3JFYWNoKW9iai5mb3JFYWNoKGl0ZXJhdG9yLGNvbnRleHQsb2JqKTtlbHNlIGZvcihrZXkgaW4gb2JqKW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpJiZpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2tleV0sa2V5LG9iaik7cmV0dXJuIG9ian1mdW5jdGlvbiBzb3J0ZWRLZXlzKG9iail7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpJiZrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5cy5zb3J0KCl9ZnVuY3Rpb24gZm9yRWFjaFNvcnRlZChvYmosaXRlcmF0b3IsY29udGV4dCl7Zm9yKHZhciBrZXlzPXNvcnRlZEtleXMob2JqKSxpPTA7aTxrZXlzLmxlbmd0aDtpKyspaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXlzW2ldXSxrZXlzW2ldKTtyZXR1cm4ga2V5c31mdW5jdGlvbiByZXZlcnNlUGFyYW1zKGl0ZXJhdG9yRm4pe3JldHVybiBmdW5jdGlvbih2YWx1ZSxrZXkpe2l0ZXJhdG9yRm4oa2V5LHZhbHVlKX19ZnVuY3Rpb24gbmV4dFVpZCgpe3JldHVybisrdWlkfWZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLGgpe2g/b2JqLiQkaGFzaEtleT1oOmRlbGV0ZSBvYmouJCRoYXNoS2V5fWZ1bmN0aW9uIGV4dGVuZChkc3Qpe2Zvcih2YXIgaD1kc3QuJCRoYXNoS2V5LGk9MSxpaT1hcmd1bWVudHMubGVuZ3RoO2lpPmk7aSsrKXt2YXIgb2JqPWFyZ3VtZW50c1tpXTtpZihvYmopZm9yKHZhciBrZXlzPU9iamVjdC5rZXlzKG9iaiksaj0wLGpqPWtleXMubGVuZ3RoO2pqPmo7aisrKXt2YXIga2V5PWtleXNbal07ZHN0W2tleV09b2JqW2tleV19fXJldHVybiBzZXRIYXNoS2V5KGRzdCxoKSxkc3R9ZnVuY3Rpb24gaW50KHN0cil7cmV0dXJuIHBhcnNlSW50KHN0ciwxMCl9ZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsZXh0cmEpe3JldHVybiBleHRlbmQobmV3KGV4dGVuZChmdW5jdGlvbigpe30se3Byb3RvdHlwZTpwYXJlbnR9KSksZXh0cmEpfWZ1bmN0aW9uIG5vb3AoKXt9ZnVuY3Rpb24gaWRlbnRpdHkoJCl7cmV0dXJuICR9ZnVuY3Rpb24gdmFsdWVGbih2YWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlfX1mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpe3JldHVybiBudWxsIT09dmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNEYXRlKHZhbHVlKXtyZXR1cm4iW29iamVjdCBEYXRlXSI9PT10b1N0cmluZy5jYWxsKHZhbHVlKX1mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpe3JldHVybiJbb2JqZWN0IFJlZ0V4cF0iPT09dG9TdHJpbmcuY2FsbCh2YWx1ZSl9ZnVuY3Rpb24gaXNXaW5kb3cob2JqKXtyZXR1cm4gb2JqJiZvYmoud2luZG93PT09b2JqfWZ1bmN0aW9uIGlzU2NvcGUob2JqKXtyZXR1cm4gb2JqJiZvYmouJGV2YWxBc3luYyYmb2JqLiR3YXRjaH1mdW5jdGlvbiBpc0ZpbGUob2JqKXtyZXR1cm4iW29iamVjdCBGaWxlXSI9PT10b1N0cmluZy5jYWxsKG9iail9ZnVuY3Rpb24gaXNCbG9iKG9iail7cmV0dXJuIltvYmplY3QgQmxvYl0iPT09dG9TdHJpbmcuY2FsbChvYmopfWZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNQcm9taXNlTGlrZShvYmope3JldHVybiBvYmomJmlzRnVuY3Rpb24ob2JqLnRoZW4pfWZ1bmN0aW9uIGlzRWxlbWVudChub2RlKXtyZXR1cm4hKCFub2RlfHwhKG5vZGUubm9kZU5hbWV8fG5vZGUucHJvcCYmbm9kZS5hdHRyJiZub2RlLmZpbmQpKX1mdW5jdGlvbiBtYWtlTWFwKHN0cil7dmFyIGksb2JqPXt9LGl0ZW1zPXN0ci5zcGxpdCgiLCIpO2ZvcihpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKW9ialtpdGVtc1tpXV09ITA7cmV0dXJuIG9ian1mdW5jdGlvbiBub2RlTmFtZV8oZWxlbWVudCl7cmV0dXJuIGxvd2VyY2FzZShlbGVtZW50Lm5vZGVOYW1lfHxlbGVtZW50WzBdLm5vZGVOYW1lKX1mdW5jdGlvbiBhcnJheVJlbW92ZShhcnJheSx2YWx1ZSl7dmFyIGluZGV4PWFycmF5LmluZGV4T2YodmFsdWUpO3JldHVybiBpbmRleD49MCYmYXJyYXkuc3BsaWNlKGluZGV4LDEpLHZhbHVlfWZ1bmN0aW9uIGNvcHkoc291cmNlLGRlc3RpbmF0aW9uLHN0YWNrU291cmNlLHN0YWNrRGVzdCl7aWYoaXNXaW5kb3coc291cmNlKXx8aXNTY29wZShzb3VyY2UpKXRocm93IG5nTWluRXJyKCJjcHdzIiwiQ2FuJ3QgY29weSEgTWFraW5nIGNvcGllcyBvZiBXaW5kb3cgb3IgU2NvcGUgaW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQuIik7aWYoZGVzdGluYXRpb24pe2lmKHNvdXJjZT09PWRlc3RpbmF0aW9uKXRocm93IG5nTWluRXJyKCJjcGkiLCJDYW4ndCBjb3B5ISBTb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGFyZSBpZGVudGljYWwuIik7aWYoc3RhY2tTb3VyY2U9c3RhY2tTb3VyY2V8fFtdLHN0YWNrRGVzdD1zdGFja0Rlc3R8fFtdLGlzT2JqZWN0KHNvdXJjZSkpe3ZhciBpbmRleD1zdGFja1NvdXJjZS5pbmRleE9mKHNvdXJjZSk7aWYoLTEhPT1pbmRleClyZXR1cm4gc3RhY2tEZXN0W2luZGV4XTtzdGFja1NvdXJjZS5wdXNoKHNvdXJjZSksc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pfXZhciByZXN1bHQ7aWYoaXNBcnJheShzb3VyY2UpKXtkZXN0aW5hdGlvbi5sZW5ndGg9MDtmb3IodmFyIGk9MDtpPHNvdXJjZS5sZW5ndGg7aSsrKXJlc3VsdD1jb3B5KHNvdXJjZVtpXSxudWxsLHN0YWNrU291cmNlLHN0YWNrRGVzdCksaXNPYmplY3Qoc291cmNlW2ldKSYmKHN0YWNrU291cmNlLnB1c2goc291cmNlW2ldKSxzdGFja0Rlc3QucHVzaChyZXN1bHQpKSxkZXN0aW5hdGlvbi5wdXNoKHJlc3VsdCl9ZWxzZXt2YXIgaD1kZXN0aW5hdGlvbi4kJGhhc2hLZXk7aXNBcnJheShkZXN0aW5hdGlvbik/ZGVzdGluYXRpb24ubGVuZ3RoPTA6Zm9yRWFjaChkZXN0aW5hdGlvbixmdW5jdGlvbih2YWx1ZSxrZXkpe2RlbGV0ZSBkZXN0aW5hdGlvbltrZXldfSk7Zm9yKHZhciBrZXkgaW4gc291cmNlKXNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpJiYocmVzdWx0PWNvcHkoc291cmNlW2tleV0sbnVsbCxzdGFja1NvdXJjZSxzdGFja0Rlc3QpLGlzT2JqZWN0KHNvdXJjZVtrZXldKSYmKHN0YWNrU291cmNlLnB1c2goc291cmNlW2tleV0pLHN0YWNrRGVzdC5wdXNoKHJlc3VsdCkpLGRlc3RpbmF0aW9uW2tleV09cmVzdWx0KTtzZXRIYXNoS2V5KGRlc3RpbmF0aW9uLGgpfX1lbHNlIGlmKGRlc3RpbmF0aW9uPXNvdXJjZSxzb3VyY2UpaWYoaXNBcnJheShzb3VyY2UpKWRlc3RpbmF0aW9uPWNvcHkoc291cmNlLFtdLHN0YWNrU291cmNlLHN0YWNrRGVzdCk7ZWxzZSBpZihpc0RhdGUoc291cmNlKSlkZXN0aW5hdGlvbj1uZXcgRGF0ZShzb3VyY2UuZ2V0VGltZSgpKTtlbHNlIGlmKGlzUmVnRXhwKHNvdXJjZSkpZGVzdGluYXRpb249bmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLHNvdXJjZS50b1N0cmluZygpLm1hdGNoKC9bXlwvXSokLylbMF0pLGRlc3RpbmF0aW9uLmxhc3RJbmRleD1zb3VyY2UubGFzdEluZGV4O2Vsc2UgaWYoaXNPYmplY3Qoc291cmNlKSl7dmFyIGVtcHR5T2JqZWN0PU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHNvdXJjZSkpO2Rlc3RpbmF0aW9uPWNvcHkoc291cmNlLGVtcHR5T2JqZWN0LHN0YWNrU291cmNlLHN0YWNrRGVzdCl9cmV0dXJuIGRlc3RpbmF0aW9ufWZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNyYyxkc3Qpe2lmKGlzQXJyYXkoc3JjKSl7ZHN0PWRzdHx8W107Zm9yKHZhciBpPTAsaWk9c3JjLmxlbmd0aDtpaT5pO2krKylkc3RbaV09c3JjW2ldfWVsc2UgaWYoaXNPYmplY3Qoc3JjKSl7ZHN0PWRzdHx8e307Zm9yKHZhciBrZXkgaW4gc3JjKSgiJCIhPT1rZXkuY2hhckF0KDApfHwiJCIhPT1rZXkuY2hhckF0KDEpKSYmKGRzdFtrZXldPXNyY1trZXldKX1yZXR1cm4gZHN0fHxzcmN9ZnVuY3Rpb24gZXF1YWxzKG8xLG8yKXtpZihvMT09PW8yKXJldHVybiEwO2lmKG51bGw9PT1vMXx8bnVsbD09PW8yKXJldHVybiExO2lmKG8xIT09bzEmJm8yIT09bzIpcmV0dXJuITA7dmFyIGxlbmd0aCxrZXksa2V5U2V0LHQxPXR5cGVvZiBvMSx0Mj10eXBlb2YgbzI7aWYodDE9PXQyJiYib2JqZWN0Ij09dDEpe2lmKCFpc0FycmF5KG8xKSl7aWYoaXNEYXRlKG8xKSlyZXR1cm4gaXNEYXRlKG8yKT9lcXVhbHMobzEuZ2V0VGltZSgpLG8yLmdldFRpbWUoKSk6ITE7aWYoaXNSZWdFeHAobzEpJiZpc1JlZ0V4cChvMikpcmV0dXJuIG8xLnRvU3RyaW5nKCk9PW8yLnRvU3RyaW5nKCk7aWYoaXNTY29wZShvMSl8fGlzU2NvcGUobzIpfHxpc1dpbmRvdyhvMSl8fGlzV2luZG93KG8yKXx8aXNBcnJheShvMikpcmV0dXJuITE7a2V5U2V0PXt9O2ZvcihrZXkgaW4gbzEpaWYoIiQiIT09a2V5LmNoYXJBdCgwKSYmIWlzRnVuY3Rpb24obzFba2V5XSkpe2lmKCFlcXVhbHMobzFba2V5XSxvMltrZXldKSlyZXR1cm4hMTtrZXlTZXRba2V5XT0hMH1mb3Ioa2V5IGluIG8yKWlmKCFrZXlTZXQuaGFzT3duUHJvcGVydHkoa2V5KSYmIiQiIT09a2V5LmNoYXJBdCgwKSYmbzJba2V5XSE9PXVuZGVmaW5lZCYmIWlzRnVuY3Rpb24obzJba2V5XSkpcmV0dXJuITE7cmV0dXJuITB9aWYoIWlzQXJyYXkobzIpKXJldHVybiExO2lmKChsZW5ndGg9bzEubGVuZ3RoKT09bzIubGVuZ3RoKXtmb3Ioa2V5PTA7bGVuZ3RoPmtleTtrZXkrKylpZighZXF1YWxzKG8xW2tleV0sbzJba2V5XSkpcmV0dXJuITE7cmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIGNvbmNhdChhcnJheTEsYXJyYXkyLGluZGV4KXtyZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MixpbmRleCkpfWZ1bmN0aW9uIHNsaWNlQXJncyhhcmdzLHN0YXJ0SW5kZXgpe3JldHVybiBzbGljZS5jYWxsKGFyZ3Msc3RhcnRJbmRleHx8MCl9ZnVuY3Rpb24gYmluZChzZWxmLGZuKXt2YXIgY3VycnlBcmdzPWFyZ3VtZW50cy5sZW5ndGg+Mj9zbGljZUFyZ3MoYXJndW1lbnRzLDIpOltdO3JldHVybiFpc0Z1bmN0aW9uKGZuKXx8Zm4gaW5zdGFuY2VvZiBSZWdFeHA/Zm46Y3VycnlBcmdzLmxlbmd0aD9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2ZuLmFwcGx5KHNlbGYsY3VycnlBcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywwKSkpOmZuLmFwcGx5KHNlbGYsY3VycnlBcmdzKX06ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9mbi5hcHBseShzZWxmLGFyZ3VtZW50cyk6Zm4uY2FsbChzZWxmKX19ZnVuY3Rpb24gdG9Kc29uUmVwbGFjZXIoa2V5LHZhbHVlKXt2YXIgdmFsPXZhbHVlO3JldHVybiJzdHJpbmciPT10eXBlb2Yga2V5JiYiJCI9PT1rZXkuY2hhckF0KDApJiYiJCI9PT1rZXkuY2hhckF0KDEpP3ZhbD11bmRlZmluZWQ6aXNXaW5kb3codmFsdWUpP3ZhbD0iJFdJTkRPVyI6dmFsdWUmJmRvY3VtZW50PT09dmFsdWU/dmFsPSIkRE9DVU1FTlQiOmlzU2NvcGUodmFsdWUpJiYodmFsPSIkU0NPUEUiKSx2YWx9ZnVuY3Rpb24gdG9Kc29uKG9iaixwcmV0dHkpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygb2JqP3VuZGVmaW5lZDpKU09OLnN0cmluZ2lmeShvYmosdG9Kc29uUmVwbGFjZXIscHJldHR5PyIgICI6bnVsbCl9ZnVuY3Rpb24gZnJvbUpzb24oanNvbil7cmV0dXJuIGlzU3RyaW5nKGpzb24pP0pTT04ucGFyc2UoanNvbik6anNvbn1mdW5jdGlvbiBzdGFydGluZ1RhZyhlbGVtZW50KXtlbGVtZW50PWpxTGl0ZShlbGVtZW50KS5jbG9uZSgpO3RyeXtlbGVtZW50LmVtcHR5KCl9Y2F0Y2goZSl7fXZhciBlbGVtSHRtbD1qcUxpdGUoIjxkaXY+IikuYXBwZW5kKGVsZW1lbnQpLmh0bWwoKTt0cnl7cmV0dXJuIGVsZW1lbnRbMF0ubm9kZVR5cGU9PT1OT0RFX1RZUEVfVEVYVD9sb3dlcmNhc2UoZWxlbUh0bWwpOmVsZW1IdG1sLm1hdGNoKC9eKDxbXj5dKz4pLylbMV0ucmVwbGFjZSgvXjwoW1x3XC1dKykvLGZ1bmN0aW9uKG1hdGNoLG5vZGVOYW1lKXtyZXR1cm4iPCIrbG93ZXJjYXNlKG5vZGVOYW1lKX0pfWNhdGNoKGUpe3JldHVybiBsb3dlcmNhc2UoZWxlbUh0bWwpfX1mdW5jdGlvbiB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1jYXRjaChlKXt9fWZ1bmN0aW9uIHBhcnNlS2V5VmFsdWUoa2V5VmFsdWUpe3ZhciBrZXlfdmFsdWUsa2V5LG9iaj17fTtyZXR1cm4gZm9yRWFjaCgoa2V5VmFsdWV8fCIiKS5zcGxpdCgiJiIpLGZ1bmN0aW9uKGtleVZhbHVlKXtpZihrZXlWYWx1ZSYmKGtleV92YWx1ZT1rZXlWYWx1ZS5yZXBsYWNlKC9cKy9nLCIlMjAiKS5zcGxpdCgiPSIpLGtleT10cnlEZWNvZGVVUklDb21wb25lbnQoa2V5X3ZhbHVlWzBdKSxpc0RlZmluZWQoa2V5KSkpe3ZhciB2YWw9aXNEZWZpbmVkKGtleV92YWx1ZVsxXSk/dHJ5RGVjb2RlVVJJQ29tcG9uZW50KGtleV92YWx1ZVsxXSk6ITA7aGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KT9pc0FycmF5KG9ialtrZXldKT9vYmpba2V5XS5wdXNoKHZhbCk6b2JqW2tleV09W29ialtrZXldLHZhbF06b2JqW2tleV09dmFsfX0pLG9ian1mdW5jdGlvbiB0b0tleVZhbHVlKG9iail7dmFyIHBhcnRzPVtdO3JldHVybiBmb3JFYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxrZXkpe2lzQXJyYXkodmFsdWUpP2ZvckVhY2godmFsdWUsZnVuY3Rpb24oYXJyYXlWYWx1ZSl7cGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksITApKyhhcnJheVZhbHVlPT09ITA/IiI6Ij0iK2VuY29kZVVyaVF1ZXJ5KGFycmF5VmFsdWUsITApKSl9KTpwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwhMCkrKHZhbHVlPT09ITA/IiI6Ij0iK2VuY29kZVVyaVF1ZXJ5KHZhbHVlLCEwKSkpfSkscGFydHMubGVuZ3RoP3BhcnRzLmpvaW4oIiYiKToiIn1mdW5jdGlvbiBlbmNvZGVVcmlTZWdtZW50KHZhbCl7cmV0dXJuIGVuY29kZVVyaVF1ZXJ5KHZhbCwhMCkucmVwbGFjZSgvJTI2L2dpLCImIikucmVwbGFjZSgvJTNEL2dpLCI9IikucmVwbGFjZSgvJTJCL2dpLCIrIil9ZnVuY3Rpb24gZW5jb2RlVXJpUXVlcnkodmFsLHBjdEVuY29kZVNwYWNlcyl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLnJlcGxhY2UoLyU0MC9naSwiQCIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTNCL2dpLCI7IikucmVwbGFjZSgvJTIwL2cscGN0RW5jb2RlU3BhY2VzPyIlMjAiOiIrIil9ZnVuY3Rpb24gZ2V0TmdBdHRyaWJ1dGUoZWxlbWVudCxuZ0F0dHIpe3ZhciBhdHRyLGksaWk9bmdBdHRyUHJlZml4ZXMubGVuZ3RoO2ZvcihlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxpPTA7aWk+aTsrK2kpaWYoYXR0cj1uZ0F0dHJQcmVmaXhlc1tpXStuZ0F0dHIsaXNTdHJpbmcoYXR0cj1lbGVtZW50LmF0dHIoYXR0cikpKXJldHVybiBhdHRyO3JldHVybiBudWxsfWZ1bmN0aW9uIGFuZ3VsYXJJbml0KGVsZW1lbnQsYm9vdHN0cmFwKXt2YXIgYXBwRWxlbWVudCxtb2R1bGUsY29uZmlnPXt9O2ZvckVhY2gobmdBdHRyUHJlZml4ZXMsZnVuY3Rpb24ocHJlZml4KXt2YXIgbmFtZT1wcmVmaXgrImFwcCI7IWFwcEVsZW1lbnQmJmVsZW1lbnQuaGFzQXR0cmlidXRlJiZlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSYmKGFwcEVsZW1lbnQ9ZWxlbWVudCxtb2R1bGU9ZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSkpfSksZm9yRWFjaChuZ0F0dHJQcmVmaXhlcyxmdW5jdGlvbihwcmVmaXgpe3ZhciBjYW5kaWRhdGUsbmFtZT1wcmVmaXgrImFwcCI7IWFwcEVsZW1lbnQmJihjYW5kaWRhdGU9ZWxlbWVudC5xdWVyeVNlbGVjdG9yKCJbIituYW1lLnJlcGxhY2UoIjoiLCJcXDoiKSsiXSIpKSYmKGFwcEVsZW1lbnQ9Y2FuZGlkYXRlLG1vZHVsZT1jYW5kaWRhdGUuZ2V0QXR0cmlidXRlKG5hbWUpKX0pLGFwcEVsZW1lbnQmJihjb25maWcuc3RyaWN0RGk9bnVsbCE9PWdldE5nQXR0cmlidXRlKGFwcEVsZW1lbnQsInN0cmljdC1kaSIpLGJvb3RzdHJhcChhcHBFbGVtZW50LG1vZHVsZT9bbW9kdWxlXTpbXSxjb25maWcpKX1mdW5jdGlvbiBib290c3RyYXAoZWxlbWVudCxtb2R1bGVzLGNvbmZpZyl7aXNPYmplY3QoY29uZmlnKXx8KGNvbmZpZz17fSk7dmFyIGRlZmF1bHRDb25maWc9e3N0cmljdERpOiExfTtjb25maWc9ZXh0ZW5kKGRlZmF1bHRDb25maWcsY29uZmlnKTt2YXIgZG9Cb290c3RyYXA9ZnVuY3Rpb24oKXtpZihlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxlbGVtZW50LmluamVjdG9yKCkpe3ZhciB0YWc9ZWxlbWVudFswXT09PWRvY3VtZW50PyJkb2N1bWVudCI6c3RhcnRpbmdUYWcoZWxlbWVudCk7dGhyb3cgbmdNaW5FcnIoImJ0c3RycGQiLCJBcHAgQWxyZWFkeSBCb290c3RyYXBwZWQgd2l0aCB0aGlzIEVsZW1lbnQgJ3swfSciLHRhZy5yZXBsYWNlKC88LywiJmx0OyIpLnJlcGxhY2UoLz4vLCImZ3Q7IikpfW1vZHVsZXM9bW9kdWxlc3x8W10sbW9kdWxlcy51bnNoaWZ0KFsiJHByb3ZpZGUiLGZ1bmN0aW9uKCRwcm92aWRlKXskcHJvdmlkZS52YWx1ZSgiJHJvb3RFbGVtZW50IixlbGVtZW50KX1dKSxjb25maWcuZGVidWdJbmZvRW5hYmxlZCYmbW9kdWxlcy5wdXNoKFsiJGNvbXBpbGVQcm92aWRlciIsZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcil7JGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKCEwKX1dKSxtb2R1bGVzLnVuc2hpZnQoIm5nIik7dmFyIGluamVjdG9yPWNyZWF0ZUluamVjdG9yKG1vZHVsZXMsY29uZmlnLnN0cmljdERpKTtyZXR1cm4gaW5qZWN0b3IuaW52b2tlKFsiJHJvb3RTY29wZSIsIiRyb290RWxlbWVudCIsIiRjb21waWxlIiwiJGluamVjdG9yIixmdW5jdGlvbihzY29wZSxlbGVtZW50LGNvbXBpbGUsaW5qZWN0b3Ipe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe2VsZW1lbnQuZGF0YSgiJGluamVjdG9yIixpbmplY3RvciksY29tcGlsZShlbGVtZW50KShzY29wZSl9KX1dKSxpbmplY3Rvcn0sTkdfRU5BQkxFX0RFQlVHX0lORk89L15OR19FTkFCTEVfREVCVUdfSU5GTyEvLE5HX0RFRkVSX0JPT1RTVFJBUD0vXk5HX0RFRkVSX0JPT1RTVFJBUCEvO3JldHVybiB3aW5kb3cmJk5HX0VOQUJMRV9ERUJVR19JTkZPLnRlc3Qod2luZG93Lm5hbWUpJiYoY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQ9ITAsd2luZG93Lm5hbWU9d2luZG93Lm5hbWUucmVwbGFjZShOR19FTkFCTEVfREVCVUdfSU5GTywiIikpLHdpbmRvdyYmIU5HX0RFRkVSX0JPT1RTVFJBUC50ZXN0KHdpbmRvdy5uYW1lKT9kb0Jvb3RzdHJhcCgpOih3aW5kb3cubmFtZT13aW5kb3cubmFtZS5yZXBsYWNlKE5HX0RFRkVSX0JPT1RTVFJBUCwiIiksdm9pZChhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcD1mdW5jdGlvbihleHRyYU1vZHVsZXMpe2ZvckVhY2goZXh0cmFNb2R1bGVzLGZ1bmN0aW9uKG1vZHVsZSl7bW9kdWxlcy5wdXNoKG1vZHVsZSl9KSxkb0Jvb3RzdHJhcCgpfSkpfWZ1bmN0aW9uIHJlbG9hZFdpdGhEZWJ1Z0luZm8oKXt3aW5kb3cubmFtZT0iTkdfRU5BQkxFX0RFQlVHX0lORk8hIit3aW5kb3cubmFtZSx3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9ZnVuY3Rpb24gZ2V0VGVzdGFiaWxpdHkocm9vdEVsZW1lbnQpe3JldHVybiBhbmd1bGFyLmVsZW1lbnQocm9vdEVsZW1lbnQpLmluamVjdG9yKCkuZ2V0KCIkJHRlc3RhYmlsaXR5Iil9ZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lLHNlcGFyYXRvcil7cmV0dXJuIHNlcGFyYXRvcj1zZXBhcmF0b3J8fCJfIixuYW1lLnJlcGxhY2UoU05BS0VfQ0FTRV9SRUdFWFAsZnVuY3Rpb24obGV0dGVyLHBvcyl7cmV0dXJuKHBvcz9zZXBhcmF0b3I6IiIpK2xldHRlci50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gYmluZEpRdWVyeSgpe3ZhciBvcmlnaW5hbENsZWFuRGF0YTtiaW5kSlF1ZXJ5RmlyZWR8fChqUXVlcnk9d2luZG93LmpRdWVyeSxqUXVlcnkmJmpRdWVyeS5mbi5vbj8oanFMaXRlPWpRdWVyeSxleHRlbmQoalF1ZXJ5LmZuLHtzY29wZTpKUUxpdGVQcm90b3R5cGUuc2NvcGUsaXNvbGF0ZVNjb3BlOkpRTGl0ZVByb3RvdHlwZS5pc29sYXRlU2NvcGUsY29udHJvbGxlcjpKUUxpdGVQcm90b3R5cGUuY29udHJvbGxlcixpbmplY3RvcjpKUUxpdGVQcm90b3R5cGUuaW5qZWN0b3IsaW5oZXJpdGVkRGF0YTpKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YX0pLG9yaWdpbmFsQ2xlYW5EYXRhPWpRdWVyeS5jbGVhbkRhdGEsalF1ZXJ5LmNsZWFuRGF0YT1mdW5jdGlvbihlbGVtcyl7dmFyIGV2ZW50cztpZihza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSlza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YT0hMTtlbHNlIGZvcih2YXIgZWxlbSxpPTA7bnVsbCE9KGVsZW09ZWxlbXNbaV0pO2krKylldmVudHM9alF1ZXJ5Ll9kYXRhKGVsZW0sImV2ZW50cyIpLGV2ZW50cyYmZXZlbnRzLiRkZXN0cm95JiZqUXVlcnkoZWxlbSkudHJpZ2dlckhhbmRsZXIoIiRkZXN0cm95Iik7b3JpZ2luYWxDbGVhbkRhdGEoZWxlbXMpfSk6anFMaXRlPUpRTGl0ZSxhbmd1bGFyLmVsZW1lbnQ9anFMaXRlLGJpbmRKUXVlcnlGaXJlZD0hMCl9ZnVuY3Rpb24gYXNzZXJ0QXJnKGFyZyxuYW1lLHJlYXNvbil7aWYoIWFyZyl0aHJvdyBuZ01pbkVycigiYXJlcSIsIkFyZ3VtZW50ICd7MH0nIGlzIHsxfSIsbmFtZXx8Ij8iLHJlYXNvbnx8InJlcXVpcmVkIik7cmV0dXJuIGFyZ31mdW5jdGlvbiBhc3NlcnRBcmdGbihhcmcsbmFtZSxhY2NlcHRBcnJheUFubm90YXRpb24pe3JldHVybiBhY2NlcHRBcnJheUFubm90YXRpb24mJmlzQXJyYXkoYXJnKSYmKGFyZz1hcmdbYXJnLmxlbmd0aC0xXSksYXNzZXJ0QXJnKGlzRnVuY3Rpb24oYXJnKSxuYW1lLCJub3QgYSBmdW5jdGlvbiwgZ290ICIrKGFyZyYmIm9iamVjdCI9PXR5cGVvZiBhcmc/YXJnLmNvbnN0cnVjdG9yLm5hbWV8fCJPYmplY3QiOnR5cGVvZiBhcmcpKSxhcmd9ZnVuY3Rpb24gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSxjb250ZXh0KXtpZigiaGFzT3duUHJvcGVydHkiPT09bmFtZSl0aHJvdyBuZ01pbkVycigiYmFkbmFtZSIsImhhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lIixjb250ZXh0KX1mdW5jdGlvbiBnZXR0ZXIob2JqLHBhdGgsYmluZEZuVG9TY29wZSl7aWYoIXBhdGgpcmV0dXJuIG9iajtmb3IodmFyIGtleSxrZXlzPXBhdGguc3BsaXQoIi4iKSxsYXN0SW5zdGFuY2U9b2JqLGxlbj1rZXlzLmxlbmd0aCxpPTA7bGVuPmk7aSsrKWtleT1rZXlzW2ldLG9iaiYmKG9iaj0obGFzdEluc3RhbmNlPW9iailba2V5XSk7cmV0dXJuIWJpbmRGblRvU2NvcGUmJmlzRnVuY3Rpb24ob2JqKT9iaW5kKGxhc3RJbnN0YW5jZSxvYmopOm9ian1mdW5jdGlvbiBnZXRCbG9ja05vZGVzKG5vZGVzKXt2YXIgbm9kZT1ub2Rlc1swXSxlbmROb2RlPW5vZGVzW25vZGVzLmxlbmd0aC0xXSxibG9ja05vZGVzPVtub2RlXTtkb3tpZihub2RlPW5vZGUubmV4dFNpYmxpbmcsIW5vZGUpYnJlYWs7YmxvY2tOb2Rlcy5wdXNoKG5vZGUpfXdoaWxlKG5vZGUhPT1lbmROb2RlKTtyZXR1cm4ganFMaXRlKGJsb2NrTm9kZXMpfWZ1bmN0aW9uIGNyZWF0ZU1hcCgpe3JldHVybiBPYmplY3QuY3JlYXRlKG51bGwpfWZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyl7ZnVuY3Rpb24gZW5zdXJlKG9iaixuYW1lLGZhY3Rvcnkpe3JldHVybiBvYmpbbmFtZV18fChvYmpbbmFtZV09ZmFjdG9yeSgpKX12YXIgJGluamVjdG9yTWluRXJyPW1pbkVycigiJGluamVjdG9yIiksbmdNaW5FcnI9bWluRXJyKCJuZyIpLGFuZ3VsYXI9ZW5zdXJlKHdpbmRvdywiYW5ndWxhciIsT2JqZWN0KTtyZXR1cm4gYW5ndWxhci4kJG1pbkVycj1hbmd1bGFyLiQkbWluRXJyfHxtaW5FcnIsZW5zdXJlKGFuZ3VsYXIsIm1vZHVsZSIsZnVuY3Rpb24oKXt2YXIgbW9kdWxlcz17fTtyZXR1cm4gZnVuY3Rpb24obmFtZSxyZXF1aXJlcyxjb25maWdGbil7dmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5PWZ1bmN0aW9uKG5hbWUsY29udGV4dCl7aWYoImhhc093blByb3BlcnR5Ij09PW5hbWUpdGhyb3cgbmdNaW5FcnIoImJhZG5hbWUiLCJoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZSIsY29udGV4dCl9O3JldHVybiBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCJtb2R1bGUiKSxyZXF1aXJlcyYmbW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSYmKG1vZHVsZXNbbmFtZV09bnVsbCksZW5zdXJlKG1vZHVsZXMsbmFtZSxmdW5jdGlvbigpe2Z1bmN0aW9uIGludm9rZUxhdGVyKHByb3ZpZGVyLG1ldGhvZCxpbnNlcnRNZXRob2QscXVldWUpe3JldHVybiBxdWV1ZXx8KHF1ZXVlPWludm9rZVF1ZXVlKSxmdW5jdGlvbigpe3JldHVybiBxdWV1ZVtpbnNlcnRNZXRob2R8fCJwdXNoIl0oW3Byb3ZpZGVyLG1ldGhvZCxhcmd1bWVudHNdKSxtb2R1bGVJbnN0YW5jZX19aWYoIXJlcXVpcmVzKXRocm93ICRpbmplY3Rvck1pbkVycigibm9tb2QiLCJNb2R1bGUgJ3swfScgaXMgbm90IGF2YWlsYWJsZSEgWW91IGVpdGhlciBtaXNzcGVsbGVkIHRoZSBtb2R1bGUgbmFtZSBvciBmb3Jnb3QgdG8gbG9hZCBpdC4gSWYgcmVnaXN0ZXJpbmcgYSBtb2R1bGUgZW5zdXJlIHRoYXQgeW91IHNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LiIsbmFtZSk7dmFyIGludm9rZVF1ZXVlPVtdLGNvbmZpZ0Jsb2Nrcz1bXSxydW5CbG9ja3M9W10sY29uZmlnPWludm9rZUxhdGVyKCIkaW5qZWN0b3IiLCJpbnZva2UiLCJwdXNoIixjb25maWdCbG9ja3MpLG1vZHVsZUluc3RhbmNlPXtfaW52b2tlUXVldWU6aW52b2tlUXVldWUsX2NvbmZpZ0Jsb2Nrczpjb25maWdCbG9ja3MsX3J1bkJsb2NrczpydW5CbG9ja3MscmVxdWlyZXM6cmVxdWlyZXMsbmFtZTpuYW1lLHByb3ZpZGVyOmludm9rZUxhdGVyKCIkcHJvdmlkZSIsInByb3ZpZGVyIiksZmFjdG9yeTppbnZva2VMYXRlcigiJHByb3ZpZGUiLCJmYWN0b3J5Iiksc2VydmljZTppbnZva2VMYXRlcigiJHByb3ZpZGUiLCJzZXJ2aWNlIiksdmFsdWU6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwidmFsdWUiKSxjb25zdGFudDppbnZva2VMYXRlcigiJHByb3ZpZGUiLCJjb25zdGFudCIsInVuc2hpZnQiKSxhbmltYXRpb246aW52b2tlTGF0ZXIoIiRhbmltYXRlUHJvdmlkZXIiLCJyZWdpc3RlciIpLGZpbHRlcjppbnZva2VMYXRlcigiJGZpbHRlclByb3ZpZGVyIiwicmVnaXN0ZXIiKSxjb250cm9sbGVyOmludm9rZUxhdGVyKCIkY29udHJvbGxlclByb3ZpZGVyIiwicmVnaXN0ZXIiKSxkaXJlY3RpdmU6aW52b2tlTGF0ZXIoIiRjb21waWxlUHJvdmlkZXIiLCJkaXJlY3RpdmUiKSxjb25maWc6Y29uZmlnLHJ1bjpmdW5jdGlvbihibG9jayl7cmV0dXJuIHJ1bkJsb2Nrcy5wdXNoKGJsb2NrKSx0aGlzfX07cmV0dXJuIGNvbmZpZ0ZuJiZjb25maWcoY29uZmlnRm4pLG1vZHVsZUluc3RhbmNlfSl9fSl9ZnVuY3Rpb24gcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpe2V4dGVuZChhbmd1bGFyLHtib290c3RyYXA6Ym9vdHN0cmFwLGNvcHk6Y29weSxleHRlbmQ6ZXh0ZW5kLGVxdWFsczplcXVhbHMsZWxlbWVudDpqcUxpdGUsZm9yRWFjaDpmb3JFYWNoLGluamVjdG9yOmNyZWF0ZUluamVjdG9yLG5vb3A6bm9vcCxiaW5kOmJpbmQsdG9Kc29uOnRvSnNvbixmcm9tSnNvbjpmcm9tSnNvbixpZGVudGl0eTppZGVudGl0eSxpc1VuZGVmaW5lZDppc1VuZGVmaW5lZCxpc0RlZmluZWQ6aXNEZWZpbmVkLGlzU3RyaW5nOmlzU3RyaW5nLGlzRnVuY3Rpb246aXNGdW5jdGlvbixpc09iamVjdDppc09iamVjdCxpc051bWJlcjppc051bWJlcixpc0VsZW1lbnQ6aXNFbGVtZW50LGlzQXJyYXk6aXNBcnJheSx2ZXJzaW9uOnZlcnNpb24saXNEYXRlOmlzRGF0ZSxsb3dlcmNhc2U6bG93ZXJjYXNlLHVwcGVyY2FzZTp1cHBlcmNhc2UsY2FsbGJhY2tzOntjb3VudGVyOjB9LGdldFRlc3RhYmlsaXR5OmdldFRlc3RhYmlsaXR5LCQkbWluRXJyOm1pbkVyciwkJGNzcDpjc3AscmVsb2FkV2l0aERlYnVnSW5mbzpyZWxvYWRXaXRoRGVidWdJbmZvfSksYW5ndWxhck1vZHVsZT1zZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpO3RyeXthbmd1bGFyTW9kdWxlKCJuZ0xvY2FsZSIpfWNhdGNoKGUpe2FuZ3VsYXJNb2R1bGUoIm5nTG9jYWxlIixbXSkucHJvdmlkZXIoIiRsb2NhbGUiLCRMb2NhbGVQcm92aWRlcil9YW5ndWxhck1vZHVsZSgibmciLFsibmdMb2NhbGUiXSxbIiRwcm92aWRlIixmdW5jdGlvbigkcHJvdmlkZSl7JHByb3ZpZGUucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6JCRTYW5pdGl6ZVVyaVByb3ZpZGVyfSksJHByb3ZpZGUucHJvdmlkZXIoIiRjb21waWxlIiwkQ29tcGlsZVByb3ZpZGVyKS5kaXJlY3RpdmUoe2E6aHRtbEFuY2hvckRpcmVjdGl2ZSxpbnB1dDppbnB1dERpcmVjdGl2ZSx0ZXh0YXJlYTppbnB1dERpcmVjdGl2ZSxmb3JtOmZvcm1EaXJlY3RpdmUsc2NyaXB0OnNjcmlwdERpcmVjdGl2ZSxzZWxlY3Q6c2VsZWN0RGlyZWN0aXZlLHN0eWxlOnN0eWxlRGlyZWN0aXZlLG9wdGlvbjpvcHRpb25EaXJlY3RpdmUsbmdCaW5kOm5nQmluZERpcmVjdGl2ZSxuZ0JpbmRIdG1sOm5nQmluZEh0bWxEaXJlY3RpdmUsbmdCaW5kVGVtcGxhdGU6bmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsbmdDbGFzczpuZ0NsYXNzRGlyZWN0aXZlLG5nQ2xhc3NFdmVuOm5nQ2xhc3NFdmVuRGlyZWN0aXZlLG5nQ2xhc3NPZGQ6bmdDbGFzc09kZERpcmVjdGl2ZSxuZ0Nsb2FrOm5nQ2xvYWtEaXJlY3RpdmUsbmdDb250cm9sbGVyOm5nQ29udHJvbGxlckRpcmVjdGl2ZSxuZ0Zvcm06bmdGb3JtRGlyZWN0aXZlLG5nSGlkZTpuZ0hpZGVEaXJlY3RpdmUsbmdJZjpuZ0lmRGlyZWN0aXZlLG5nSW5jbHVkZTpuZ0luY2x1ZGVEaXJlY3RpdmUsbmdJbml0Om5nSW5pdERpcmVjdGl2ZSxuZ05vbkJpbmRhYmxlOm5nTm9uQmluZGFibGVEaXJlY3RpdmUsbmdQbHVyYWxpemU6bmdQbHVyYWxpemVEaXJlY3RpdmUsbmdSZXBlYXQ6bmdSZXBlYXREaXJlY3RpdmUsbmdTaG93Om5nU2hvd0RpcmVjdGl2ZSxuZ1N0eWxlOm5nU3R5bGVEaXJlY3RpdmUsbmdTd2l0Y2g6bmdTd2l0Y2hEaXJlY3RpdmUsbmdTd2l0Y2hXaGVuOm5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxuZ1N3aXRjaERlZmF1bHQ6bmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLG5nT3B0aW9uczpuZ09wdGlvbnNEaXJlY3RpdmUsbmdUcmFuc2NsdWRlOm5nVHJhbnNjbHVkZURpcmVjdGl2ZSxuZ01vZGVsOm5nTW9kZWxEaXJlY3RpdmUsbmdMaXN0Om5nTGlzdERpcmVjdGl2ZSxuZ0NoYW5nZTpuZ0NoYW5nZURpcmVjdGl2ZSxwYXR0ZXJuOnBhdHRlcm5EaXJlY3RpdmUsbmdQYXR0ZXJuOnBhdHRlcm5EaXJlY3RpdmUscmVxdWlyZWQ6cmVxdWlyZWREaXJlY3RpdmUsbmdSZXF1aXJlZDpyZXF1aXJlZERpcmVjdGl2ZSxtaW5sZW5ndGg6bWlubGVuZ3RoRGlyZWN0aXZlLG5nTWlubGVuZ3RoOm1pbmxlbmd0aERpcmVjdGl2ZSxtYXhsZW5ndGg6bWF4bGVuZ3RoRGlyZWN0aXZlLG5nTWF4bGVuZ3RoOm1heGxlbmd0aERpcmVjdGl2ZSxuZ1ZhbHVlOm5nVmFsdWVEaXJlY3RpdmUsbmdNb2RlbE9wdGlvbnM6bmdNb2RlbE9wdGlvbnNEaXJlY3RpdmV9KS5kaXJlY3RpdmUoe25nSW5jbHVkZTpuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZX0pLmRpcmVjdGl2ZShuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcykuZGlyZWN0aXZlKG5nRXZlbnREaXJlY3RpdmVzKSwkcHJvdmlkZS5wcm92aWRlcih7JGFuY2hvclNjcm9sbDokQW5jaG9yU2Nyb2xsUHJvdmlkZXIsJGFuaW1hdGU6JEFuaW1hdGVQcm92aWRlciwkYnJvd3NlcjokQnJvd3NlclByb3ZpZGVyLCRjYWNoZUZhY3Rvcnk6JENhY2hlRmFjdG9yeVByb3ZpZGVyLCRjb250cm9sbGVyOiRDb250cm9sbGVyUHJvdmlkZXIsJGRvY3VtZW50OiREb2N1bWVudFByb3ZpZGVyLCRleGNlcHRpb25IYW5kbGVyOiRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIsJGZpbHRlcjokRmlsdGVyUHJvdmlkZXIsJGludGVycG9sYXRlOiRJbnRlcnBvbGF0ZVByb3ZpZGVyLCRpbnRlcnZhbDokSW50ZXJ2YWxQcm92aWRlciwkaHR0cDokSHR0cFByb3ZpZGVyLCRodHRwQmFja2VuZDokSHR0cEJhY2tlbmRQcm92aWRlciwkbG9jYXRpb246JExvY2F0aW9uUHJvdmlkZXIsJGxvZzokTG9nUHJvdmlkZXIsJHBhcnNlOiRQYXJzZVByb3ZpZGVyLCRyb290U2NvcGU6JFJvb3RTY29wZVByb3ZpZGVyLCRxOiRRUHJvdmlkZXIsJCRxOiQkUVByb3ZpZGVyLCRzY2U6JFNjZVByb3ZpZGVyLCRzY2VEZWxlZ2F0ZTokU2NlRGVsZWdhdGVQcm92aWRlciwkc25pZmZlcjokU25pZmZlclByb3ZpZGVyLCR0ZW1wbGF0ZUNhY2hlOiRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsJHRlbXBsYXRlUmVxdWVzdDokVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsJCR0ZXN0YWJpbGl0eTokJFRlc3RhYmlsaXR5UHJvdmlkZXIsJHRpbWVvdXQ6JFRpbWVvdXRQcm92aWRlciwkd2luZG93OiRXaW5kb3dQcm92aWRlciwkJHJBRjokJFJBRlByb3ZpZGVyLCQkYXN5bmNDYWxsYmFjazokJEFzeW5jQ2FsbGJhY2tQcm92aWRlcn0pfV0pfWZ1bmN0aW9uIGpxTmV4dElkKCl7cmV0dXJuKytqcUlkfWZ1bmN0aW9uIGNhbWVsQ2FzZShuYW1lKXtyZXR1cm4gbmFtZS5yZXBsYWNlKFNQRUNJQUxfQ0hBUlNfUkVHRVhQLGZ1bmN0aW9uKF8sc2VwYXJhdG9yLGxldHRlcixvZmZzZXQpe3JldHVybiBvZmZzZXQ/bGV0dGVyLnRvVXBwZXJDYXNlKCk6bGV0dGVyfSkucmVwbGFjZShNT1pfSEFDS19SRUdFWFAsIk1veiQxIil9ZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKXtyZXR1cm4hSFRNTF9SRUdFWFAudGVzdChodG1sKX1mdW5jdGlvbiBqcUxpdGVBY2NlcHRzRGF0YShub2RlKXt2YXIgbm9kZVR5cGU9bm9kZS5ub2RlVHlwZTtyZXR1cm4gbm9kZVR5cGU9PT1OT0RFX1RZUEVfRUxFTUVOVHx8IW5vZGVUeXBlfHxub2RlVHlwZT09PU5PREVfVFlQRV9ET0NVTUVOVH1mdW5jdGlvbiBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsY29udGV4dCl7dmFyIHRtcCx0YWcsd3JhcCxpLGZyYWdtZW50PWNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG5vZGVzPVtdO2lmKGpxTGl0ZUlzVGV4dE5vZGUoaHRtbCkpbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGh0bWwpKTtlbHNle2Zvcih0bXA9dG1wfHxmcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSx0YWc9KFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHdyYXA9d3JhcE1hcFt0YWddfHx3cmFwTWFwLl9kZWZhdWx0LHRtcC5pbm5lckhUTUw9d3JhcFsxXStodG1sLnJlcGxhY2UoWEhUTUxfVEFHX1JFR0VYUCwiPCQxPjwvJDI+Iikrd3JhcFsyXSxpPXdyYXBbMF07aS0tOyl0bXA9dG1wLmxhc3RDaGlsZDtub2Rlcz1jb25jYXQobm9kZXMsdG1wLmNoaWxkTm9kZXMpLHRtcD1mcmFnbWVudC5maXJzdENoaWxkLHRtcC50ZXh0Q29udGVudD0iIn1yZXR1cm4gZnJhZ21lbnQudGV4dENvbnRlbnQ9IiIsZnJhZ21lbnQuaW5uZXJIVE1MPSIiLGZvckVhY2gobm9kZXMsZnVuY3Rpb24obm9kZSl7ZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSl9KSxmcmFnbWVudH1mdW5jdGlvbiBqcUxpdGVQYXJzZUhUTUwoaHRtbCxjb250ZXh0KXtjb250ZXh0PWNvbnRleHR8fGRvY3VtZW50O3ZhciBwYXJzZWQ7cmV0dXJuKHBhcnNlZD1TSU5HTEVfVEFHX1JFR0VYUC5leGVjKGh0bWwpKT9bY29udGV4dC5jcmVhdGVFbGVtZW50KHBhcnNlZFsxXSldOihwYXJzZWQ9anFMaXRlQnVpbGRGcmFnbWVudChodG1sLGNvbnRleHQpKT9wYXJzZWQuY2hpbGROb2RlczpbXX1mdW5jdGlvbiBKUUxpdGUoZWxlbWVudCl7aWYoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSlyZXR1cm4gZWxlbWVudDt2YXIgYXJnSXNTdHJpbmc7aWYoaXNTdHJpbmcoZWxlbWVudCkmJihlbGVtZW50PXRyaW0oZWxlbWVudCksYXJnSXNTdHJpbmc9ITApLCEodGhpcyBpbnN0YW5jZW9mIEpRTGl0ZSkpe2lmKGFyZ0lzU3RyaW5nJiYiPCIhPWVsZW1lbnQuY2hhckF0KDApKXRocm93IGpxTGl0ZU1pbkVycigibm9zZWwiLCJMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Iik7cmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCl9YXJnSXNTdHJpbmc/anFMaXRlQWRkTm9kZXModGhpcyxqcUxpdGVQYXJzZUhUTUwoZWxlbWVudCkpOmpxTGl0ZUFkZE5vZGVzKHRoaXMsZWxlbWVudCl9ZnVuY3Rpb24ganFMaXRlQ2xvbmUoZWxlbWVudCl7cmV0dXJuIGVsZW1lbnQuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiBqcUxpdGVEZWFsb2MoZWxlbWVudCxvbmx5RGVzY2VuZGFudHMpe2lmKG9ubHlEZXNjZW5kYW50c3x8anFMaXRlUmVtb3ZlRGF0YShlbGVtZW50KSxlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpZm9yKHZhciBkZXNjZW5kYW50cz1lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxpPTAsbD1kZXNjZW5kYW50cy5sZW5ndGg7bD5pO2krKylqcUxpdGVSZW1vdmVEYXRhKGRlc2NlbmRhbnRzW2ldKX1mdW5jdGlvbiBqcUxpdGVPZmYoZWxlbWVudCx0eXBlLGZuLHVuc3VwcG9ydGVkKXtpZihpc0RlZmluZWQodW5zdXBwb3J0ZWQpKXRocm93IGpxTGl0ZU1pbkVycigib2ZmYXJncyIsImpxTGl0ZSNvZmYoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIGFyZ3VtZW50Iik7dmFyIGV4cGFuZG9TdG9yZT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCksZXZlbnRzPWV4cGFuZG9TdG9yZSYmZXhwYW5kb1N0b3JlLmV2ZW50cyxoYW5kbGU9ZXhwYW5kb1N0b3JlJiZleHBhbmRvU3RvcmUuaGFuZGxlO2lmKGhhbmRsZSlpZih0eXBlKWZvckVhY2godHlwZS5zcGxpdCgiICIpLGZ1bmN0aW9uKHR5cGUpe2lmKGlzRGVmaW5lZChmbikpe3ZhciBsaXN0ZW5lckZucz1ldmVudHNbdHlwZV07aWYoYXJyYXlSZW1vdmUobGlzdGVuZXJGbnN8fFtdLGZuKSxsaXN0ZW5lckZucyYmbGlzdGVuZXJGbnMubGVuZ3RoPjApcmV0dXJufXJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LHR5cGUsaGFuZGxlKSxkZWxldGUgZXZlbnRzW3R5cGVdfSk7ZWxzZSBmb3IodHlwZSBpbiBldmVudHMpIiRkZXN0cm95IiE9PXR5cGUmJnJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LHR5cGUsaGFuZGxlKSxkZWxldGUgZXZlbnRzW3R5cGVdfWZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCxuYW1lKXt2YXIgZXhwYW5kb0lkPWVsZW1lbnQubmczMzksZXhwYW5kb1N0b3JlPWV4cGFuZG9JZCYmanFDYWNoZVtleHBhbmRvSWRdO2lmKGV4cGFuZG9TdG9yZSl7aWYobmFtZSlyZXR1cm4gdm9pZCBkZWxldGUgZXhwYW5kb1N0b3JlLmRhdGFbbmFtZV07ZXhwYW5kb1N0b3JlLmhhbmRsZSYmKGV4cGFuZG9TdG9yZS5ldmVudHMuJGRlc3Ryb3kmJmV4cGFuZG9TdG9yZS5oYW5kbGUoe30sIiRkZXN0cm95IiksanFMaXRlT2ZmKGVsZW1lbnQpKSxkZWxldGUganFDYWNoZVtleHBhbmRvSWRdLGVsZW1lbnQubmczMzk9dW5kZWZpbmVkfX1mdW5jdGlvbiBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCxjcmVhdGVJZk5lY2Vzc2FyeSl7dmFyIGV4cGFuZG9JZD1lbGVtZW50Lm5nMzM5LGV4cGFuZG9TdG9yZT1leHBhbmRvSWQmJmpxQ2FjaGVbZXhwYW5kb0lkXTtyZXR1cm4gY3JlYXRlSWZOZWNlc3NhcnkmJiFleHBhbmRvU3RvcmUmJihlbGVtZW50Lm5nMzM5PWV4cGFuZG9JZD1qcU5leHRJZCgpLGV4cGFuZG9TdG9yZT1qcUNhY2hlW2V4cGFuZG9JZF09e2V2ZW50czp7fSxkYXRhOnt9LGhhbmRsZTp1bmRlZmluZWR9KSxleHBhbmRvU3RvcmV9ZnVuY3Rpb24ganFMaXRlRGF0YShlbGVtZW50LGtleSx2YWx1ZSl7aWYoanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpe3ZhciBpc1NpbXBsZVNldHRlcj1pc0RlZmluZWQodmFsdWUpLGlzU2ltcGxlR2V0dGVyPSFpc1NpbXBsZVNldHRlciYma2V5JiYhaXNPYmplY3Qoa2V5KSxtYXNzR2V0dGVyPSFrZXksZXhwYW5kb1N0b3JlPWpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCFpc1NpbXBsZUdldHRlciksZGF0YT1leHBhbmRvU3RvcmUmJmV4cGFuZG9TdG9yZS5kYXRhO2lmKGlzU2ltcGxlU2V0dGVyKWRhdGFba2V5XT12YWx1ZTtlbHNle2lmKG1hc3NHZXR0ZXIpcmV0dXJuIGRhdGE7aWYoaXNTaW1wbGVHZXR0ZXIpcmV0dXJuIGRhdGEmJmRhdGFba2V5XTtleHRlbmQoZGF0YSxrZXkpfX19ZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCxzZWxlY3Rvcil7cmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlPygiICIrKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywiICIpLmluZGV4T2YoIiAiK3NlbGVjdG9yKyIgIik+LTE6ITF9ZnVuY3Rpb24ganFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCxjc3NDbGFzc2VzKXtjc3NDbGFzc2VzJiZlbGVtZW50LnNldEF0dHJpYnV0ZSYmZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCIgIiksZnVuY3Rpb24oY3NzQ2xhc3Mpe2VsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsdHJpbSgoIiAiKyhlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIikucmVwbGFjZSgvW1xuXHRdL2csIiAiKS5yZXBsYWNlKCIgIit0cmltKGNzc0NsYXNzKSsiICIsIiAiKSkpfSl9ZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCxjc3NDbGFzc2VzKXtpZihjc3NDbGFzc2VzJiZlbGVtZW50LnNldEF0dHJpYnV0ZSl7dmFyIGV4aXN0aW5nQ2xhc3Nlcz0oIiAiKyhlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIikucmVwbGFjZSgvW1xuXHRdL2csIiAiKTtmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoIiAiKSxmdW5jdGlvbihjc3NDbGFzcyl7Y3NzQ2xhc3M9dHJpbShjc3NDbGFzcyksLTE9PT1leGlzdGluZ0NsYXNzZXMuaW5kZXhPZigiICIrY3NzQ2xhc3MrIiAiKSYmKGV4aXN0aW5nQ2xhc3Nlcys9Y3NzQ2xhc3MrIiAiKX0pLGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsdHJpbShleGlzdGluZ0NsYXNzZXMpKX19ZnVuY3Rpb24ganFMaXRlQWRkTm9kZXMocm9vdCxlbGVtZW50cyl7aWYoZWxlbWVudHMpaWYoZWxlbWVudHMubm9kZVR5cGUpcm9vdFtyb290Lmxlbmd0aCsrXT1lbGVtZW50cztlbHNle3ZhciBsZW5ndGg9ZWxlbWVudHMubGVuZ3RoO2lmKCJudW1iZXIiPT10eXBlb2YgbGVuZ3RoJiZlbGVtZW50cy53aW5kb3chPT1lbGVtZW50cyl7aWYobGVuZ3RoKWZvcih2YXIgaT0wO2xlbmd0aD5pO2krKylyb290W3Jvb3QubGVuZ3RoKytdPWVsZW1lbnRzW2ldfWVsc2Ugcm9vdFtyb290Lmxlbmd0aCsrXT1lbGVtZW50c319ZnVuY3Rpb24ganFMaXRlQ29udHJvbGxlcihlbGVtZW50LG5hbWUpe3JldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsIiQiKyhuYW1lfHwibmdDb250cm9sbGVyIikrIkNvbnRyb2xsZXIiKX1mdW5jdGlvbiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsbmFtZSx2YWx1ZSl7ZWxlbWVudC5ub2RlVHlwZT09Tk9ERV9UWVBFX0RPQ1VNRU5UJiYoZWxlbWVudD1lbGVtZW50LmRvY3VtZW50RWxlbWVudCk7Zm9yKHZhciBuYW1lcz1pc0FycmF5KG5hbWUpP25hbWU6W25hbWVdO2VsZW1lbnQ7KXtmb3IodmFyIGk9MCxpaT1uYW1lcy5sZW5ndGg7aWk+aTtpKyspaWYoKHZhbHVlPWpxTGl0ZS5kYXRhKGVsZW1lbnQsbmFtZXNbaV0pKSE9PXVuZGVmaW5lZClyZXR1cm4gdmFsdWU7ZWxlbWVudD1lbGVtZW50LnBhcmVudE5vZGV8fGVsZW1lbnQubm9kZVR5cGU9PT1OT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQmJmVsZW1lbnQuaG9zdH19ZnVuY3Rpb24ganFMaXRlRW1wdHkoZWxlbWVudCl7Zm9yKGpxTGl0ZURlYWxvYyhlbGVtZW50LCEwKTtlbGVtZW50LmZpcnN0Q2hpbGQ7KWVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKX1mdW5jdGlvbiBqcUxpdGVSZW1vdmUoZWxlbWVudCxrZWVwRGF0YSl7a2VlcERhdGF8fGpxTGl0ZURlYWxvYyhlbGVtZW50KTt2YXIgcGFyZW50PWVsZW1lbnQucGFyZW50Tm9kZTtwYXJlbnQmJnBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KX1mdW5jdGlvbiBqcUxpdGVEb2N1bWVudExvYWRlZChhY3Rpb24sd2luKXt3aW49d2lufHx3aW5kb3csImNvbXBsZXRlIj09PXdpbi5kb2N1bWVudC5yZWFkeVN0YXRlP3dpbi5zZXRUaW1lb3V0KGFjdGlvbik6anFMaXRlKHdpbikub24oImxvYWQiLGFjdGlvbil9ZnVuY3Rpb24gZ2V0Qm9vbGVhbkF0dHJOYW1lKGVsZW1lbnQsbmFtZSl7dmFyIGJvb2xlYW5BdHRyPUJPT0xFQU5fQVRUUltuYW1lLnRvTG93ZXJDYXNlKCldO3JldHVybiBib29sZWFuQXR0ciYmQk9PTEVBTl9FTEVNRU5UU1tub2RlTmFtZV8oZWxlbWVudCldJiZib29sZWFuQXR0cn1mdW5jdGlvbiBnZXRBbGlhc2VkQXR0ck5hbWUoZWxlbWVudCxuYW1lKXt2YXIgbm9kZU5hbWU9ZWxlbWVudC5ub2RlTmFtZTtyZXR1cm4oIklOUFVUIj09PW5vZGVOYW1lfHwiVEVYVEFSRUEiPT09bm9kZU5hbWUpJiZBTElBU0VEX0FUVFJbbmFtZV19ZnVuY3Rpb24gY3JlYXRlRXZlbnRIYW5kbGVyKGVsZW1lbnQsZXZlbnRzKXt2YXIgZXZlbnRIYW5kbGVyPWZ1bmN0aW9uKGV2ZW50LHR5cGUpe2V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZD1mdW5jdGlvbigpe3JldHVybiBldmVudC5kZWZhdWx0UHJldmVudGVkfTt2YXIgZXZlbnRGbnM9ZXZlbnRzW3R5cGV8fGV2ZW50LnR5cGVdLGV2ZW50Rm5zTGVuZ3RoPWV2ZW50Rm5zP2V2ZW50Rm5zLmxlbmd0aDowO2lmKGV2ZW50Rm5zTGVuZ3RoKXtpZihpc1VuZGVmaW5lZChldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpKXt2YXIgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO2V2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2V2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMCxldmVudC5zdG9wUHJvcGFnYXRpb24mJmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpLG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJiZvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKGV2ZW50KX19ZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPT09ITB9LGV2ZW50Rm5zTGVuZ3RoPjEmJihldmVudEZucz1zaGFsbG93Q29weShldmVudEZucykpO2Zvcih2YXIgaT0wO2V2ZW50Rm5zTGVuZ3RoPmk7aSsrKWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fGV2ZW50Rm5zW2ldLmNhbGwoZWxlbWVudCxldmVudCl9fTtyZXR1cm4gZXZlbnRIYW5kbGVyLmVsZW09ZWxlbWVudCxldmVudEhhbmRsZXJ9ZnVuY3Rpb24gaGFzaEtleShvYmosbmV4dFVpZEZuKXt2YXIga2V5PW9iaiYmb2JqLiQkaGFzaEtleTtpZihrZXkpcmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGtleSYmKGtleT1vYmouJCRoYXNoS2V5KCkpLGtleTt2YXIgb2JqVHlwZT10eXBlb2Ygb2JqO3JldHVybiBrZXk9ImZ1bmN0aW9uIj09b2JqVHlwZXx8Im9iamVjdCI9PW9ialR5cGUmJm51bGwhPT1vYmo/b2JqLiQkaGFzaEtleT1vYmpUeXBlKyI6IisobmV4dFVpZEZufHxuZXh0VWlkKSgpOm9ialR5cGUrIjoiK29ian1mdW5jdGlvbiBIYXNoTWFwKGFycmF5LGlzb2xhdGVkVWlkKXtpZihpc29sYXRlZFVpZCl7dmFyIHVpZD0wO3RoaXMubmV4dFVpZD1mdW5jdGlvbigpe3JldHVybisrdWlkfX1mb3JFYWNoKGFycmF5LHRoaXMucHV0LHRoaXMpfWZ1bmN0aW9uIGFub25Gbihmbil7dmFyIGZuVGV4dD1mbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsIiIpLGFyZ3M9Zm5UZXh0Lm1hdGNoKEZOX0FSR1MpO3JldHVybiBhcmdzPyJmdW5jdGlvbigiKyhhcmdzWzFdfHwiIikucmVwbGFjZSgvW1xzXHJcbl0rLywiICIpKyIpIjoiZm4ifWZ1bmN0aW9uIGFubm90YXRlKGZuLHN0cmljdERpLG5hbWUpe3ZhciAkaW5qZWN0LGZuVGV4dCxhcmdEZWNsLGxhc3Q7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGZuKXtpZighKCRpbmplY3Q9Zm4uJGluamVjdCkpe2lmKCRpbmplY3Q9W10sZm4ubGVuZ3RoKXtpZihzdHJpY3REaSl0aHJvdyBpc1N0cmluZyhuYW1lKSYmbmFtZXx8KG5hbWU9Zm4ubmFtZXx8YW5vbkZuKGZuKSksJGluamVjdG9yTWluRXJyKCJzdHJpY3RkaSIsInswfSBpcyBub3QgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBhbmQgY2Fubm90IGJlIGludm9rZWQgaW4gc3RyaWN0IG1vZGUiLG5hbWUpO2ZuVGV4dD1mbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsIiIpLGFyZ0RlY2w9Zm5UZXh0Lm1hdGNoKEZOX0FSR1MpLGZvckVhY2goYXJnRGVjbFsxXS5zcGxpdChGTl9BUkdfU1BMSVQpLGZ1bmN0aW9uKGFyZyl7YXJnLnJlcGxhY2UoRk5fQVJHLGZ1bmN0aW9uKGFsbCx1bmRlcnNjb3JlLG5hbWUpeyRpbmplY3QucHVzaChuYW1lKX0pfSl9Zm4uJGluamVjdD0kaW5qZWN0fX1lbHNlIGlzQXJyYXkoZm4pPyhsYXN0PWZuLmxlbmd0aC0xLGFzc2VydEFyZ0ZuKGZuW2xhc3RdLCJmbiIpLCRpbmplY3Q9Zm4uc2xpY2UoMCxsYXN0KSk6YXNzZXJ0QXJnRm4oZm4sImZuIiwhMCk7cmV0dXJuICRpbmplY3R9ZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCxzdHJpY3REaSl7ZnVuY3Rpb24gc3VwcG9ydE9iamVjdChkZWxlZ2F0ZSl7cmV0dXJuIGZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0KGtleSk/dm9pZCBmb3JFYWNoKGtleSxyZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk6ZGVsZWdhdGUoa2V5LHZhbHVlKX19ZnVuY3Rpb24gcHJvdmlkZXIobmFtZSxwcm92aWRlcl8pe2lmKGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsInNlcnZpY2UiKSwoaXNGdW5jdGlvbihwcm92aWRlcl8pfHxpc0FycmF5KHByb3ZpZGVyXykpJiYocHJvdmlkZXJfPXByb3ZpZGVySW5qZWN0b3IuaW5zdGFudGlhdGUocHJvdmlkZXJfKSksIXByb3ZpZGVyXy4kZ2V0KXRocm93ICRpbmplY3Rvck1pbkVycigicGdldCIsIlByb3ZpZGVyICd7MH0nIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuIixuYW1lKTtyZXR1cm4gcHJvdmlkZXJDYWNoZVtuYW1lK3Byb3ZpZGVyU3VmZml4XT1wcm92aWRlcl99ZnVuY3Rpb24gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsZmFjdG9yeSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHJlc3VsdD1pbnN0YW5jZUluamVjdG9yLmludm9rZShmYWN0b3J5LHRoaXMsdW5kZWZpbmVkLG5hbWUpO2lmKGlzVW5kZWZpbmVkKHJlc3VsdCkpdGhyb3cgJGluamVjdG9yTWluRXJyKCJ1bmRlZiIsIlByb3ZpZGVyICd7MH0nIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLiIsbmFtZSk7cmV0dXJuIHJlc3VsdH19ZnVuY3Rpb24gZmFjdG9yeShuYW1lLGZhY3RvcnlGbixlbmZvcmNlKXtyZXR1cm4gcHJvdmlkZXIobmFtZSx7JGdldDplbmZvcmNlIT09ITE/ZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsZmFjdG9yeUZuKTpmYWN0b3J5Rm59KX1mdW5jdGlvbiBzZXJ2aWNlKG5hbWUsY29uc3RydWN0b3Ipe3JldHVybiBmYWN0b3J5KG5hbWUsWyIkaW5qZWN0b3IiLGZ1bmN0aW9uKCRpbmplY3Rvcil7cmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcil9XSl9ZnVuY3Rpb24gdmFsdWUobmFtZSx2YWwpe3JldHVybiBmYWN0b3J5KG5hbWUsdmFsdWVGbih2YWwpLCExKX1mdW5jdGlvbiBjb25zdGFudChuYW1lLHZhbHVlKXthc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCJjb25zdGFudCIpLHByb3ZpZGVyQ2FjaGVbbmFtZV09dmFsdWUsaW5zdGFuY2VDYWNoZVtuYW1lXT12YWx1ZX1mdW5jdGlvbiBkZWNvcmF0b3Ioc2VydmljZU5hbWUsZGVjb3JGbil7dmFyIG9yaWdQcm92aWRlcj1wcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZStwcm92aWRlclN1ZmZpeCksb3JpZyRnZXQ9b3JpZ1Byb3ZpZGVyLiRnZXQ7b3JpZ1Byb3ZpZGVyLiRnZXQ9ZnVuY3Rpb24oKXt2YXIgb3JpZ0luc3RhbmNlPWluc3RhbmNlSW5qZWN0b3IuaW52b2tlKG9yaWckZ2V0LG9yaWdQcm92aWRlcik7cmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGRlY29yRm4sbnVsbCx7JGRlbGVnYXRlOm9yaWdJbnN0YW5jZX0pfX1mdW5jdGlvbiBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKXt2YXIgbW9kdWxlRm4scnVuQmxvY2tzPVtdO3JldHVybiBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsZnVuY3Rpb24obW9kdWxlKXtmdW5jdGlvbiBydW5JbnZva2VRdWV1ZShxdWV1ZSl7dmFyIGksaWk7Zm9yKGk9MCxpaT1xdWV1ZS5sZW5ndGg7aWk+aTtpKyspe3ZhciBpbnZva2VBcmdzPXF1ZXVlW2ldLHByb3ZpZGVyPXByb3ZpZGVySW5qZWN0b3IuZ2V0KGludm9rZUFyZ3NbMF0pO3Byb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLGludm9rZUFyZ3NbMl0pfX1pZighbG9hZGVkTW9kdWxlcy5nZXQobW9kdWxlKSl7bG9hZGVkTW9kdWxlcy5wdXQobW9kdWxlLCEwKTt0cnl7aXNTdHJpbmcobW9kdWxlKT8obW9kdWxlRm49YW5ndWxhck1vZHVsZShtb2R1bGUpLHJ1bkJsb2Nrcz1ydW5CbG9ja3MuY29uY2F0KGxvYWRNb2R1bGVzKG1vZHVsZUZuLnJlcXVpcmVzKSkuY29uY2F0KG1vZHVsZUZuLl9ydW5CbG9ja3MpLHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9pbnZva2VRdWV1ZSkscnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2NvbmZpZ0Jsb2NrcykpOmlzRnVuY3Rpb24obW9kdWxlKT9ydW5CbG9ja3MucHVzaChwcm92aWRlckluamVjdG9yLmludm9rZShtb2R1bGUpKTppc0FycmF5KG1vZHVsZSk/cnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk6YXNzZXJ0QXJnRm4obW9kdWxlLCJtb2R1bGUiKX1jYXRjaChlKXt0aHJvdyBpc0FycmF5KG1vZHVsZSkmJihtb2R1bGU9bW9kdWxlW21vZHVsZS5sZW5ndGgtMV0pLGUubWVzc2FnZSYmZS5zdGFjayYmLTE9PWUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpJiYoZT1lLm1lc3NhZ2UrIlxuIitlLnN0YWNrKSwkaW5qZWN0b3JNaW5FcnIoIm1vZHVsZXJyIiwiRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxuezF9Iixtb2R1bGUsZS5zdGFja3x8ZS5tZXNzYWdlfHxlKX19fSkscnVuQmxvY2tzfWZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsZmFjdG9yeSl7ZnVuY3Rpb24gZ2V0U2VydmljZShzZXJ2aWNlTmFtZSl7aWYoY2FjaGUuaGFzT3duUHJvcGVydHkoc2VydmljZU5hbWUpKXtpZihjYWNoZVtzZXJ2aWNlTmFtZV09PT1JTlNUQU5USUFUSU5HKXRocm93ICRpbmplY3Rvck1pbkVycigiY2RlcCIsIkNpcmN1bGFyIGRlcGVuZGVuY3kgZm91bmQ6IHswfSIsc2VydmljZU5hbWUrIiA8LSAiK3BhdGguam9pbigiIDwtICIpKTtyZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdfXRyeXtyZXR1cm4gcGF0aC51bnNoaWZ0KHNlcnZpY2VOYW1lKSxjYWNoZVtzZXJ2aWNlTmFtZV09SU5TVEFOVElBVElORyxjYWNoZVtzZXJ2aWNlTmFtZV09ZmFjdG9yeShzZXJ2aWNlTmFtZSl9Y2F0Y2goZXJyKXt0aHJvdyBjYWNoZVtzZXJ2aWNlTmFtZV09PT1JTlNUQU5USUFUSU5HJiZkZWxldGUgY2FjaGVbc2VydmljZU5hbWVdLGVycn1maW5hbGx5e3BhdGguc2hpZnQoKX19ZnVuY3Rpb24gaW52b2tlKGZuLHNlbGYsbG9jYWxzLHNlcnZpY2VOYW1lKXsic3RyaW5nIj09dHlwZW9mIGxvY2FscyYmKHNlcnZpY2VOYW1lPWxvY2Fscyxsb2NhbHM9bnVsbCk7dmFyIGxlbmd0aCxpLGtleSxhcmdzPVtdLCRpbmplY3Q9YW5ub3RhdGUoZm4sc3RyaWN0RGksc2VydmljZU5hbWUpO2ZvcihpPTAsbGVuZ3RoPSRpbmplY3QubGVuZ3RoO2xlbmd0aD5pO2krKyl7aWYoa2V5PSRpbmplY3RbaV0sInN0cmluZyIhPXR5cGVvZiBrZXkpdGhyb3cgJGluamVjdG9yTWluRXJyKCJpdGtuIiwiSW5jb3JyZWN0IGluamVjdGlvbiB0b2tlbiEgRXhwZWN0ZWQgc2VydmljZSBuYW1lIGFzIHN0cmluZywgZ290IHswfSIsa2V5KTthcmdzLnB1c2gobG9jYWxzJiZsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5KT9sb2NhbHNba2V5XTpnZXRTZXJ2aWNlKGtleSkpfXJldHVybiBpc0FycmF5KGZuKSYmKGZuPWZuW2xlbmd0aF0pLGZuLmFwcGx5KHNlbGYsYXJncyl9ZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSxsb2NhbHMsc2VydmljZU5hbWUpe3ZhciBpbnN0YW5jZSxyZXR1cm5lZFZhbHVlLENvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7fTtyZXR1cm4gQ29uc3RydWN0b3IucHJvdG90eXBlPShpc0FycmF5KFR5cGUpP1R5cGVbVHlwZS5sZW5ndGgtMV06VHlwZSkucHJvdG90eXBlLGluc3RhbmNlPW5ldyBDb25zdHJ1Y3RvcixyZXR1cm5lZFZhbHVlPWludm9rZShUeXBlLGluc3RhbmNlLGxvY2FscyxzZXJ2aWNlTmFtZSksaXNPYmplY3QocmV0dXJuZWRWYWx1ZSl8fGlzRnVuY3Rpb24ocmV0dXJuZWRWYWx1ZSk/cmV0dXJuZWRWYWx1ZTppbnN0YW5jZX1yZXR1cm57aW52b2tlOmludm9rZSxpbnN0YW50aWF0ZTppbnN0YW50aWF0ZSxnZXQ6Z2V0U2VydmljZSxhbm5vdGF0ZTphbm5vdGF0ZSxoYXM6ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZStwcm92aWRlclN1ZmZpeCl8fGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpfX19c3RyaWN0RGk9c3RyaWN0RGk9PT0hMDt2YXIgSU5TVEFOVElBVElORz17fSxwcm92aWRlclN1ZmZpeD0iUHJvdmlkZXIiLHBhdGg9W10sbG9hZGVkTW9kdWxlcz1uZXcgSGFzaE1hcChbXSwhMCkscHJvdmlkZXJDYWNoZT17JHByb3ZpZGU6e3Byb3ZpZGVyOnN1cHBvcnRPYmplY3QocHJvdmlkZXIpLGZhY3Rvcnk6c3VwcG9ydE9iamVjdChmYWN0b3J5KSxzZXJ2aWNlOnN1cHBvcnRPYmplY3Qoc2VydmljZSksdmFsdWU6c3VwcG9ydE9iamVjdCh2YWx1ZSksY29uc3RhbnQ6c3VwcG9ydE9iamVjdChjb25zdGFudCksZGVjb3JhdG9yOmRlY29yYXRvcn19LHByb3ZpZGVySW5qZWN0b3I9cHJvdmlkZXJDYWNoZS4kaW5qZWN0b3I9Y3JlYXRlSW50ZXJuYWxJbmplY3Rvcihwcm92aWRlckNhY2hlLGZ1bmN0aW9uKCl7dGhyb3cgJGluamVjdG9yTWluRXJyKCJ1bnByIiwiVW5rbm93biBwcm92aWRlcjogezB9IixwYXRoLmpvaW4oIiA8LSAiKSl9KSxpbnN0YW5jZUNhY2hlPXt9LGluc3RhbmNlSW5qZWN0b3I9aW5zdGFuY2VDYWNoZS4kaW5qZWN0b3I9Y3JlYXRlSW50ZXJuYWxJbmplY3RvcihpbnN0YW5jZUNhY2hlLGZ1bmN0aW9uKHNlcnZpY2VuYW1lKXt2YXIgcHJvdmlkZXI9cHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZW5hbWUrcHJvdmlkZXJTdWZmaXgpO3JldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShwcm92aWRlci4kZ2V0LHByb3ZpZGVyLHVuZGVmaW5lZCxzZXJ2aWNlbmFtZSl9KTtyZXR1cm4gZm9yRWFjaChsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSxmdW5jdGlvbihmbil7aW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm58fG5vb3ApfSksaW5zdGFuY2VJbmplY3Rvcn1mdW5jdGlvbiAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIoKXt2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQ9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2F1dG9TY3JvbGxpbmdFbmFibGVkPSExfSx0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvY2F0aW9uIiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oJHdpbmRvdywkbG9jYXRpb24sJHJvb3RTY29wZSl7ZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCl7dmFyIHJlc3VsdD1udWxsO3JldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGxpc3QsZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuImEiPT09bm9kZU5hbWVfKGVsZW1lbnQpPyhyZXN1bHQ9ZWxlbWVudCwhMCk6dm9pZCAwfSkscmVzdWx0fWZ1bmN0aW9uIGdldFlPZmZzZXQoKXt2YXIgb2Zmc2V0PXNjcm9sbC55T2Zmc2V0O2lmKGlzRnVuY3Rpb24ob2Zmc2V0KSlvZmZzZXQ9b2Zmc2V0KCk7ZWxzZSBpZihpc0VsZW1lbnQob2Zmc2V0KSl7dmFyIGVsZW09b2Zmc2V0WzBdLHN0eWxlPSR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtvZmZzZXQ9ImZpeGVkIiE9PXN0eWxlLnBvc2l0aW9uPzA6ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b219ZWxzZSBpc051bWJlcihvZmZzZXQpfHwob2Zmc2V0PTApO3JldHVybiBvZmZzZXR9ZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbSl7aWYoZWxlbSl7ZWxlbS5zY3JvbGxJbnRvVmlldygpO3ZhciBvZmZzZXQ9Z2V0WU9mZnNldCgpO2lmKG9mZnNldCl7dmFyIGVsZW1Ub3A9ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7JHdpbmRvdy5zY3JvbGxCeSgwLGVsZW1Ub3Atb2Zmc2V0KX19ZWxzZSAkd2luZG93LnNjcm9sbFRvKDAsMCl9ZnVuY3Rpb24gc2Nyb2xsKCl7dmFyIGVsbSxoYXNoPSRsb2NhdGlvbi5oYXNoKCk7aGFzaD8oZWxtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKT9zY3JvbGxUbyhlbG0pOihlbG09Z2V0Rmlyc3RBbmNob3IoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaGFzaCkpKT9zY3JvbGxUbyhlbG0pOiJ0b3AiPT09aGFzaCYmc2Nyb2xsVG8obnVsbCk6c2Nyb2xsVG8obnVsbCl9dmFyIGRvY3VtZW50PSR3aW5kb3cuZG9jdW1lbnQ7cmV0dXJuIGF1dG9TY3JvbGxpbmdFbmFibGVkJiYkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiAkbG9jYXRpb24uaGFzaCgpfSxmdW5jdGlvbihuZXdWYWwsb2xkVmFsKXsobmV3VmFsIT09b2xkVmFsfHwiIiE9PW5ld1ZhbCkmJmpxTGl0ZURvY3VtZW50TG9hZGVkKGZ1bmN0aW9uKCl7JHJvb3RTY29wZS4kZXZhbEFzeW5jKHNjcm9sbCl9KX0pLHNjcm9sbH1dfWZ1bmN0aW9uICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJCRyQUYiLCIkdGltZW91dCIsZnVuY3Rpb24oJCRyQUYsJHRpbWVvdXQpe3JldHVybiAkJHJBRi5zdXBwb3J0ZWQ/ZnVuY3Rpb24oZm4pe3JldHVybiAkJHJBRihmbil9OmZ1bmN0aW9uKGZuKXtyZXR1cm4gJHRpbWVvdXQoZm4sMCwhMSl9fV19ZnVuY3Rpb24gQnJvd3Nlcih3aW5kb3csZG9jdW1lbnQsJGxvZywkc25pZmZlcil7ZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pe3RyeXtmbi5hcHBseShudWxsLHNsaWNlQXJncyhhcmd1bWVudHMsMSkpfWZpbmFsbHl7aWYob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLSwwPT09b3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQpZm9yKDtvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MubGVuZ3RoOyl0cnl7b3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnBvcCgpKCl9Y2F0Y2goZSl7JGxvZy5lcnJvcihlKX19fWZ1bmN0aW9uIHN0YXJ0UG9sbGVyKGludGVydmFsLHNldFRpbWVvdXQpeyFmdW5jdGlvbiBjaGVjaygpe2ZvckVhY2gocG9sbEZucyxmdW5jdGlvbihwb2xsRm4pe3BvbGxGbigpfSkscG9sbFRpbWVvdXQ9c2V0VGltZW91dChjaGVjayxpbnRlcnZhbCl9KCl9ZnVuY3Rpb24gY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UoKXtjYWNoZVN0YXRlKCksZmlyZVVybENoYW5nZSgpfWZ1bmN0aW9uIGNhY2hlU3RhdGUoKXtjYWNoZWRTdGF0ZT13aW5kb3cuaGlzdG9yeS5zdGF0ZSxjYWNoZWRTdGF0ZT1pc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSk/bnVsbDpjYWNoZWRTdGF0ZSxlcXVhbHMoY2FjaGVkU3RhdGUsbGFzdENhY2hlZFN0YXRlKSYmKGNhY2hlZFN0YXRlPWxhc3RDYWNoZWRTdGF0ZSksbGFzdENhY2hlZFN0YXRlPWNhY2hlZFN0YXRlCn1mdW5jdGlvbiBmaXJlVXJsQ2hhbmdlKCl7KGxhc3RCcm93c2VyVXJsIT09c2VsZi51cmwoKXx8bGFzdEhpc3RvcnlTdGF0ZSE9PWNhY2hlZFN0YXRlKSYmKGxhc3RCcm93c2VyVXJsPXNlbGYudXJsKCksbGFzdEhpc3RvcnlTdGF0ZT1jYWNoZWRTdGF0ZSxmb3JFYWNoKHVybENoYW5nZUxpc3RlbmVycyxmdW5jdGlvbihsaXN0ZW5lcil7bGlzdGVuZXIoc2VsZi51cmwoKSxjYWNoZWRTdGF0ZSl9KSl9ZnVuY3Rpb24gc2FmZURlY29kZVVSSUNvbXBvbmVudChzdHIpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cil9Y2F0Y2goZSl7cmV0dXJuIHN0cn19dmFyIHNlbGY9dGhpcyxyYXdEb2N1bWVudD1kb2N1bWVudFswXSxsb2NhdGlvbj13aW5kb3cubG9jYXRpb24saGlzdG9yeT13aW5kb3cuaGlzdG9yeSxzZXRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0LGNsZWFyVGltZW91dD13aW5kb3cuY2xlYXJUaW1lb3V0LHBlbmRpbmdEZWZlcklkcz17fTtzZWxmLmlzTW9jaz0hMTt2YXIgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQ9MCxvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3M9W107c2VsZi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0PWNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0LHNlbGYuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudD1mdW5jdGlvbigpe291dHN0YW5kaW5nUmVxdWVzdENvdW50Kyt9LHNlbGYubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cz1mdW5jdGlvbihjYWxsYmFjayl7Zm9yRWFjaChwb2xsRm5zLGZ1bmN0aW9uKHBvbGxGbil7cG9sbEZuKCl9KSwwPT09b3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQ/Y2FsbGJhY2soKTpvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucHVzaChjYWxsYmFjayl9O3ZhciBwb2xsVGltZW91dCxwb2xsRm5zPVtdO3NlbGYuYWRkUG9sbEZuPWZ1bmN0aW9uKGZuKXtyZXR1cm4gaXNVbmRlZmluZWQocG9sbFRpbWVvdXQpJiZzdGFydFBvbGxlcigxMDAsc2V0VGltZW91dCkscG9sbEZucy5wdXNoKGZuKSxmbn07dmFyIGNhY2hlZFN0YXRlLGxhc3RIaXN0b3J5U3RhdGUsbGFzdEJyb3dzZXJVcmw9bG9jYXRpb24uaHJlZixiYXNlRWxlbWVudD1kb2N1bWVudC5maW5kKCJiYXNlIikscmVsb2FkTG9jYXRpb249bnVsbDtjYWNoZVN0YXRlKCksbGFzdEhpc3RvcnlTdGF0ZT1jYWNoZWRTdGF0ZSxzZWxmLnVybD1mdW5jdGlvbih1cmwscmVwbGFjZSxzdGF0ZSl7aWYoaXNVbmRlZmluZWQoc3RhdGUpJiYoc3RhdGU9bnVsbCksbG9jYXRpb24hPT13aW5kb3cubG9jYXRpb24mJihsb2NhdGlvbj13aW5kb3cubG9jYXRpb24pLGhpc3RvcnkhPT13aW5kb3cuaGlzdG9yeSYmKGhpc3Rvcnk9d2luZG93Lmhpc3RvcnkpLHVybCl7dmFyIHNhbWVTdGF0ZT1sYXN0SGlzdG9yeVN0YXRlPT09c3RhdGU7aWYobGFzdEJyb3dzZXJVcmw9PT11cmwmJighJHNuaWZmZXIuaGlzdG9yeXx8c2FtZVN0YXRlKSlyZXR1cm47dmFyIHNhbWVCYXNlPWxhc3RCcm93c2VyVXJsJiZzdHJpcEhhc2gobGFzdEJyb3dzZXJVcmwpPT09c3RyaXBIYXNoKHVybCk7cmV0dXJuIGxhc3RCcm93c2VyVXJsPXVybCxsYXN0SGlzdG9yeVN0YXRlPXN0YXRlLCEkc25pZmZlci5oaXN0b3J5fHxzYW1lQmFzZSYmc2FtZVN0YXRlPyhzYW1lQmFzZXx8KHJlbG9hZExvY2F0aW9uPXVybCkscmVwbGFjZT9sb2NhdGlvbi5yZXBsYWNlKHVybCk6bG9jYXRpb24uaHJlZj11cmwpOihoaXN0b3J5W3JlcGxhY2U/InJlcGxhY2VTdGF0ZSI6InB1c2hTdGF0ZSJdKHN0YXRlLCIiLHVybCksY2FjaGVTdGF0ZSgpLGxhc3RIaXN0b3J5U3RhdGU9Y2FjaGVkU3RhdGUpLHNlbGZ9cmV0dXJuIHJlbG9hZExvY2F0aW9ufHxsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLCInIil9LHNlbGYuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gY2FjaGVkU3RhdGV9O3ZhciB1cmxDaGFuZ2VMaXN0ZW5lcnM9W10sdXJsQ2hhbmdlSW5pdD0hMSxsYXN0Q2FjaGVkU3RhdGU9bnVsbDtzZWxmLm9uVXJsQ2hhbmdlPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdXJsQ2hhbmdlSW5pdHx8KCRzbmlmZmVyLmhpc3RvcnkmJmpxTGl0ZSh3aW5kb3cpLm9uKCJwb3BzdGF0ZSIsY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpLGpxTGl0ZSh3aW5kb3cpLm9uKCJoYXNoY2hhbmdlIixjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSksdXJsQ2hhbmdlSW5pdD0hMCksdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spLGNhbGxiYWNrfSxzZWxmLiQkY2hlY2tVcmxDaGFuZ2U9ZmlyZVVybENoYW5nZSxzZWxmLmJhc2VIcmVmPWZ1bmN0aW9uKCl7dmFyIGhyZWY9YmFzZUVsZW1lbnQuYXR0cigiaHJlZiIpO3JldHVybiBocmVmP2hyZWYucmVwbGFjZSgvXihodHRwcz9cOik/XC9cL1teXC9dKi8sIiIpOiIifTt2YXIgbGFzdENvb2tpZXM9e30sbGFzdENvb2tpZVN0cmluZz0iIixjb29raWVQYXRoPXNlbGYuYmFzZUhyZWYoKTtzZWxmLmNvb2tpZXM9ZnVuY3Rpb24obmFtZSx2YWx1ZSl7dmFyIGNvb2tpZUxlbmd0aCxjb29raWVBcnJheSxjb29raWUsaSxpbmRleDtpZighbmFtZSl7aWYocmF3RG9jdW1lbnQuY29va2llIT09bGFzdENvb2tpZVN0cmluZylmb3IobGFzdENvb2tpZVN0cmluZz1yYXdEb2N1bWVudC5jb29raWUsY29va2llQXJyYXk9bGFzdENvb2tpZVN0cmluZy5zcGxpdCgiOyAiKSxsYXN0Q29va2llcz17fSxpPTA7aTxjb29raWVBcnJheS5sZW5ndGg7aSsrKWNvb2tpZT1jb29raWVBcnJheVtpXSxpbmRleD1jb29raWUuaW5kZXhPZigiPSIpLGluZGV4PjAmJihuYW1lPXNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZygwLGluZGV4KSksbGFzdENvb2tpZXNbbmFtZV09PT11bmRlZmluZWQmJihsYXN0Q29va2llc1tuYW1lXT1zYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoaW5kZXgrMSkpKSk7cmV0dXJuIGxhc3RDb29raWVzfXZhbHVlPT09dW5kZWZpbmVkP3Jhd0RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQobmFtZSkrIj07cGF0aD0iK2Nvb2tpZVBhdGgrIjtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UIjppc1N0cmluZyh2YWx1ZSkmJihjb29raWVMZW5ndGg9KHJhd0RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQobmFtZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkrIjtwYXRoPSIrY29va2llUGF0aCkubGVuZ3RoKzEsY29va2llTGVuZ3RoPjQwOTYmJiRsb2cud2FybigiQ29va2llICciK25hbWUrIicgcG9zc2libHkgbm90IHNldCBvciBvdmVyZmxvd2VkIGJlY2F1c2UgaXQgd2FzIHRvbyBsYXJnZSAoIitjb29raWVMZW5ndGgrIiA+IDQwOTYgYnl0ZXMpISIpKX0sc2VsZi5kZWZlcj1mdW5jdGlvbihmbixkZWxheSl7dmFyIHRpbWVvdXRJZDtyZXR1cm4gb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKyx0aW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSxjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbil9LGRlbGF5fHwwKSxwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXT0hMCx0aW1lb3V0SWR9LHNlbGYuZGVmZXIuY2FuY2VsPWZ1bmN0aW9uKGRlZmVySWQpe3JldHVybiBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF0/KGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF0sY2xlYXJUaW1lb3V0KGRlZmVySWQpLGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApLCEwKTohMX19ZnVuY3Rpb24gJEJyb3dzZXJQcm92aWRlcigpe3RoaXMuJGdldD1bIiR3aW5kb3ciLCIkbG9nIiwiJHNuaWZmZXIiLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKCR3aW5kb3csJGxvZywkc25pZmZlciwkZG9jdW1lbnQpe3JldHVybiBuZXcgQnJvd3Nlcigkd2luZG93LCRkb2N1bWVudCwkbG9nLCRzbmlmZmVyKX1dfWZ1bmN0aW9uICRDYWNoZUZhY3RvcnlQcm92aWRlcigpe3RoaXMuJGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIGNhY2hlRmFjdG9yeShjYWNoZUlkLG9wdGlvbnMpe2Z1bmN0aW9uIHJlZnJlc2goZW50cnkpe2VudHJ5IT1mcmVzaEVuZCYmKHN0YWxlRW5kP3N0YWxlRW5kPT1lbnRyeSYmKHN0YWxlRW5kPWVudHJ5Lm4pOnN0YWxlRW5kPWVudHJ5LGxpbmsoZW50cnkubixlbnRyeS5wKSxsaW5rKGVudHJ5LGZyZXNoRW5kKSxmcmVzaEVuZD1lbnRyeSxmcmVzaEVuZC5uPW51bGwpfWZ1bmN0aW9uIGxpbmsobmV4dEVudHJ5LHByZXZFbnRyeSl7bmV4dEVudHJ5IT1wcmV2RW50cnkmJihuZXh0RW50cnkmJihuZXh0RW50cnkucD1wcmV2RW50cnkpLHByZXZFbnRyeSYmKHByZXZFbnRyeS5uPW5leHRFbnRyeSkpfWlmKGNhY2hlSWQgaW4gY2FjaGVzKXRocm93IG1pbkVycigiJGNhY2hlRmFjdG9yeSIpKCJpaWQiLCJDYWNoZUlkICd7MH0nIGlzIGFscmVhZHkgdGFrZW4hIixjYWNoZUlkKTt2YXIgc2l6ZT0wLHN0YXRzPWV4dGVuZCh7fSxvcHRpb25zLHtpZDpjYWNoZUlkfSksZGF0YT17fSxjYXBhY2l0eT1vcHRpb25zJiZvcHRpb25zLmNhcGFjaXR5fHxOdW1iZXIuTUFYX1ZBTFVFLGxydUhhc2g9e30sZnJlc2hFbmQ9bnVsbCxzdGFsZUVuZD1udWxsO3JldHVybiBjYWNoZXNbY2FjaGVJZF09e3B1dDpmdW5jdGlvbihrZXksdmFsdWUpe2lmKGNhcGFjaXR5PE51bWJlci5NQVhfVkFMVUUpe3ZhciBscnVFbnRyeT1scnVIYXNoW2tleV18fChscnVIYXNoW2tleV09e2tleTprZXl9KTtyZWZyZXNoKGxydUVudHJ5KX1pZighaXNVbmRlZmluZWQodmFsdWUpKXJldHVybiBrZXkgaW4gZGF0YXx8c2l6ZSsrLGRhdGFba2V5XT12YWx1ZSxzaXplPmNhcGFjaXR5JiZ0aGlzLnJlbW92ZShzdGFsZUVuZC5rZXkpLHZhbHVlfSxnZXQ6ZnVuY3Rpb24oa2V5KXtpZihjYXBhY2l0eTxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgbHJ1RW50cnk9bHJ1SGFzaFtrZXldO2lmKCFscnVFbnRyeSlyZXR1cm47cmVmcmVzaChscnVFbnRyeSl9cmV0dXJuIGRhdGFba2V5XX0scmVtb3ZlOmZ1bmN0aW9uKGtleSl7aWYoY2FwYWNpdHk8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGxydUVudHJ5PWxydUhhc2hba2V5XTtpZighbHJ1RW50cnkpcmV0dXJuO2xydUVudHJ5PT1mcmVzaEVuZCYmKGZyZXNoRW5kPWxydUVudHJ5LnApLGxydUVudHJ5PT1zdGFsZUVuZCYmKHN0YWxlRW5kPWxydUVudHJ5Lm4pLGxpbmsobHJ1RW50cnkubixscnVFbnRyeS5wKSxkZWxldGUgbHJ1SGFzaFtrZXldfWRlbGV0ZSBkYXRhW2tleV0sc2l6ZS0tfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXtkYXRhPXt9LHNpemU9MCxscnVIYXNoPXt9LGZyZXNoRW5kPXN0YWxlRW5kPW51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkYXRhPW51bGwsc3RhdHM9bnVsbCxscnVIYXNoPW51bGwsZGVsZXRlIGNhY2hlc1tjYWNoZUlkXX0saW5mbzpmdW5jdGlvbigpe3JldHVybiBleHRlbmQoe30sc3RhdHMse3NpemU6c2l6ZX0pfX19dmFyIGNhY2hlcz17fTtyZXR1cm4gY2FjaGVGYWN0b3J5LmluZm89ZnVuY3Rpb24oKXt2YXIgaW5mbz17fTtyZXR1cm4gZm9yRWFjaChjYWNoZXMsZnVuY3Rpb24oY2FjaGUsY2FjaGVJZCl7aW5mb1tjYWNoZUlkXT1jYWNoZS5pbmZvKCl9KSxpbmZvfSxjYWNoZUZhY3RvcnkuZ2V0PWZ1bmN0aW9uKGNhY2hlSWQpe3JldHVybiBjYWNoZXNbY2FjaGVJZF19LGNhY2hlRmFjdG9yeX19ZnVuY3Rpb24gJFRlbXBsYXRlQ2FjaGVQcm92aWRlcigpe3RoaXMuJGdldD1bIiRjYWNoZUZhY3RvcnkiLGZ1bmN0aW9uKCRjYWNoZUZhY3Rvcnkpe3JldHVybiAkY2FjaGVGYWN0b3J5KCJ0ZW1wbGF0ZXMiKX1dfWZ1bmN0aW9uICRDb21waWxlUHJvdmlkZXIoJHByb3ZpZGUsJCRzYW5pdGl6ZVVyaVByb3ZpZGVyKXtmdW5jdGlvbiBwYXJzZUlzb2xhdGVCaW5kaW5ncyhzY29wZSxkaXJlY3RpdmVOYW1lKXt2YXIgTE9DQUxfUkVHRVhQPS9eXHMqKFtAPSZdKShcPz8pXHMqKFx3KilccyokLyxiaW5kaW5ncz17fTtyZXR1cm4gZm9yRWFjaChzY29wZSxmdW5jdGlvbihkZWZpbml0aW9uLHNjb3BlTmFtZSl7dmFyIG1hdGNoPWRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKTtpZighbWF0Y2gpdGhyb3cgJGNvbXBpbGVNaW5FcnIoImlzY3AiLCJJbnZhbGlkIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBmb3IgZGlyZWN0aXZlICd7MH0nLiBEZWZpbml0aW9uOiB7Li4uIHsxfTogJ3syfScgLi4ufSIsZGlyZWN0aXZlTmFtZSxzY29wZU5hbWUsZGVmaW5pdGlvbik7YmluZGluZ3Nbc2NvcGVOYW1lXT17YXR0ck5hbWU6bWF0Y2hbM118fHNjb3BlTmFtZSxtb2RlOm1hdGNoWzFdLG9wdGlvbmFsOiI/Ij09PW1hdGNoWzJdfX0pLGJpbmRpbmdzfXZhciBoYXNEaXJlY3RpdmVzPXt9LFN1ZmZpeD0iRGlyZWN0aXZlIixDT01NRU5UX0RJUkVDVElWRV9SRUdFWFA9L15ccypkaXJlY3RpdmVcOlxzKihbXGRcd19cLV0rKVxzKyguKikkLyxDTEFTU19ESVJFQ1RJVkVfUkVHRVhQPS8oKFtcZFx3X1wtXSspKD86XDooW147XSspKT87PykvLEFMTF9PUl9OT1RISU5HX0FUVFJTPW1ha2VNYXAoIm5nU3JjLG5nU3Jjc2V0LHNyYyxzcmNzZXQiKSxSRVFVSVJFX1BSRUZJWF9SRUdFWFA9L14oPzooXF5cXj8pPyhcPyk/KFxeXF4/KT8pPy8sRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUD0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO3RoaXMuZGlyZWN0aXZlPWZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsZGlyZWN0aXZlRmFjdG9yeSl7cmV0dXJuIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsImRpcmVjdGl2ZSIpLGlzU3RyaW5nKG5hbWUpPyhhc3NlcnRBcmcoZGlyZWN0aXZlRmFjdG9yeSwiZGlyZWN0aXZlRmFjdG9yeSIpLGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSl8fChoYXNEaXJlY3RpdmVzW25hbWVdPVtdLCRwcm92aWRlLmZhY3RvcnkobmFtZStTdWZmaXgsWyIkaW5qZWN0b3IiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oJGluamVjdG9yLCRleGNlcHRpb25IYW5kbGVyKXt2YXIgZGlyZWN0aXZlcz1bXTtyZXR1cm4gZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLGZ1bmN0aW9uKGRpcmVjdGl2ZUZhY3RvcnksaW5kZXgpe3RyeXt2YXIgZGlyZWN0aXZlPSRpbmplY3Rvci5pbnZva2UoZGlyZWN0aXZlRmFjdG9yeSk7aXNGdW5jdGlvbihkaXJlY3RpdmUpP2RpcmVjdGl2ZT17Y29tcGlsZTp2YWx1ZUZuKGRpcmVjdGl2ZSl9OiFkaXJlY3RpdmUuY29tcGlsZSYmZGlyZWN0aXZlLmxpbmsmJihkaXJlY3RpdmUuY29tcGlsZT12YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKSksZGlyZWN0aXZlLnByaW9yaXR5PWRpcmVjdGl2ZS5wcmlvcml0eXx8MCxkaXJlY3RpdmUuaW5kZXg9aW5kZXgsZGlyZWN0aXZlLm5hbWU9ZGlyZWN0aXZlLm5hbWV8fG5hbWUsZGlyZWN0aXZlLnJlcXVpcmU9ZGlyZWN0aXZlLnJlcXVpcmV8fGRpcmVjdGl2ZS5jb250cm9sbGVyJiZkaXJlY3RpdmUubmFtZSxkaXJlY3RpdmUucmVzdHJpY3Q9ZGlyZWN0aXZlLnJlc3RyaWN0fHwiRUEiLGlzT2JqZWN0KGRpcmVjdGl2ZS5zY29wZSkmJihkaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3M9cGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLGRpcmVjdGl2ZS5uYW1lKSksZGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSksZGlyZWN0aXZlc31dKSksaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpKTpmb3JFYWNoKG5hbWUscmV2ZXJzZVBhcmFtcyhyZWdpc3RlckRpcmVjdGl2ZSkpLHRoaXN9LHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KCQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApLHRoaXMpOiQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpfSx0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihyZWdleHApe3JldHVybiBpc0RlZmluZWQocmVnZXhwKT8oJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApLHRoaXMpOiQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dmFyIGRlYnVnSW5mb0VuYWJsZWQ9ITA7dGhpcy5kZWJ1Z0luZm9FbmFibGVkPWZ1bmN0aW9uKGVuYWJsZWQpe3JldHVybiBpc0RlZmluZWQoZW5hYmxlZCk/KGRlYnVnSW5mb0VuYWJsZWQ9ZW5hYmxlZCx0aGlzKTpkZWJ1Z0luZm9FbmFibGVkfSx0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLCIkaW50ZXJwb2xhdGUiLCIkZXhjZXB0aW9uSGFuZGxlciIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkcGFyc2UiLCIkY29udHJvbGxlciIsIiRyb290U2NvcGUiLCIkZG9jdW1lbnQiLCIkc2NlIiwiJGFuaW1hdGUiLCIkJHNhbml0aXplVXJpIixmdW5jdGlvbigkaW5qZWN0b3IsJGludGVycG9sYXRlLCRleGNlcHRpb25IYW5kbGVyLCR0ZW1wbGF0ZVJlcXVlc3QsJHBhcnNlLCRjb250cm9sbGVyLCRyb290U2NvcGUsJGRvY3VtZW50LCRzY2UsJGFuaW1hdGUsJCRzYW5pdGl6ZVVyaSl7ZnVuY3Rpb24gc2FmZUFkZENsYXNzKCRlbGVtZW50LGNsYXNzTmFtZSl7dHJ5eyRlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBjb21waWxlKCRjb21waWxlTm9kZXMsdHJhbnNjbHVkZUZuLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxwcmV2aW91c0NvbXBpbGVDb250ZXh0KXskY29tcGlsZU5vZGVzIGluc3RhbmNlb2YganFMaXRlfHwoJGNvbXBpbGVOb2Rlcz1qcUxpdGUoJGNvbXBpbGVOb2RlcykpLGZvckVhY2goJGNvbXBpbGVOb2RlcyxmdW5jdGlvbihub2RlLGluZGV4KXtub2RlLm5vZGVUeXBlPT1OT0RFX1RZUEVfVEVYVCYmbm9kZS5ub2RlVmFsdWUubWF0Y2goL1xTKy8pJiYoJGNvbXBpbGVOb2Rlc1tpbmRleF09anFMaXRlKG5vZGUpLndyYXAoIjxzcGFuPjwvc3Bhbj4iKS5wYXJlbnQoKVswXSl9KTt2YXIgY29tcG9zaXRlTGlua0ZuPWNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVzLHRyYW5zY2x1ZGVGbiwkY29tcGlsZU5vZGVzLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkY29tcGlsZU5vZGVzKTt2YXIgbmFtZXNwYWNlPW51bGw7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGNsb25lQ29ubmVjdEZuLHRyYW5zY2x1ZGVDb250cm9sbGVycyxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixmdXR1cmVQYXJlbnRFbGVtZW50KXthc3NlcnRBcmcoc2NvcGUsInNjb3BlIiksbmFtZXNwYWNlfHwobmFtZXNwYWNlPWRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMoZnV0dXJlUGFyZW50RWxlbWVudCkpO3ZhciAkbGlua05vZGU7aWYoJGxpbmtOb2RlPSJodG1sIiE9PW5hbWVzcGFjZT9qcUxpdGUod3JhcFRlbXBsYXRlKG5hbWVzcGFjZSxqcUxpdGUoIjxkaXY+IikuYXBwZW5kKCRjb21waWxlTm9kZXMpLmh0bWwoKSkpOmNsb25lQ29ubmVjdEZuP0pRTGl0ZVByb3RvdHlwZS5jbG9uZS5jYWxsKCRjb21waWxlTm9kZXMpOiRjb21waWxlTm9kZXMsdHJhbnNjbHVkZUNvbnRyb2xsZXJzKWZvcih2YXIgY29udHJvbGxlck5hbWUgaW4gdHJhbnNjbHVkZUNvbnRyb2xsZXJzKSRsaW5rTm9kZS5kYXRhKCIkIitjb250cm9sbGVyTmFtZSsiQ29udHJvbGxlciIsdHJhbnNjbHVkZUNvbnRyb2xsZXJzW2NvbnRyb2xsZXJOYW1lXS5pbnN0YW5jZSk7cmV0dXJuIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGxpbmtOb2RlLHNjb3BlKSxjbG9uZUNvbm5lY3RGbiYmY2xvbmVDb25uZWN0Rm4oJGxpbmtOb2RlLHNjb3BlKSxjb21wb3NpdGVMaW5rRm4mJmNvbXBvc2l0ZUxpbmtGbihzY29wZSwkbGlua05vZGUsJGxpbmtOb2RlLHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSwkbGlua05vZGV9fWZ1bmN0aW9uIGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMocGFyZW50RWxlbWVudCl7dmFyIG5vZGU9cGFyZW50RWxlbWVudCYmcGFyZW50RWxlbWVudFswXTtyZXR1cm4gbm9kZSYmImZvcmVpZ25vYmplY3QiIT09bm9kZU5hbWVfKG5vZGUpJiZub2RlLnRvU3RyaW5nKCkubWF0Y2goL1NWRy8pPyJzdmciOiJodG1sIn1mdW5jdGlvbiBjb21waWxlTm9kZXMobm9kZUxpc3QsdHJhbnNjbHVkZUZuLCRyb290RWxlbWVudCxtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUscHJldmlvdXNDb21waWxlQ29udGV4dCl7ZnVuY3Rpb24gY29tcG9zaXRlTGlua0ZuKHNjb3BlLG5vZGVMaXN0LCRyb290RWxlbWVudCxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbil7dmFyIG5vZGVMaW5rRm4sY2hpbGRMaW5rRm4sbm9kZSxjaGlsZFNjb3BlLGksaWksaWR4LGNoaWxkQm91bmRUcmFuc2NsdWRlRm4sc3RhYmxlTm9kZUxpc3Q7aWYobm9kZUxpbmtGbkZvdW5kKXt2YXIgbm9kZUxpc3RMZW5ndGg9bm9kZUxpc3QubGVuZ3RoO2ZvcihzdGFibGVOb2RlTGlzdD1uZXcgQXJyYXkobm9kZUxpc3RMZW5ndGgpLGk9MDtpPGxpbmtGbnMubGVuZ3RoO2krPTMpaWR4PWxpbmtGbnNbaV0sc3RhYmxlTm9kZUxpc3RbaWR4XT1ub2RlTGlzdFtpZHhdfWVsc2Ugc3RhYmxlTm9kZUxpc3Q9bm9kZUxpc3Q7Zm9yKGk9MCxpaT1saW5rRm5zLmxlbmd0aDtpaT5pOylub2RlPXN0YWJsZU5vZGVMaXN0W2xpbmtGbnNbaSsrXV0sbm9kZUxpbmtGbj1saW5rRm5zW2krK10sY2hpbGRMaW5rRm49bGlua0Zuc1tpKytdLG5vZGVMaW5rRm4/KG5vZGVMaW5rRm4uc2NvcGU/KGNoaWxkU2NvcGU9c2NvcGUuJG5ldygpLGNvbXBpbGUuJCRhZGRTY29wZUluZm8oanFMaXRlKG5vZGUpLGNoaWxkU2NvcGUpKTpjaGlsZFNjb3BlPXNjb3BlLGNoaWxkQm91bmRUcmFuc2NsdWRlRm49bm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9jcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSxub2RlTGlua0ZuLnRyYW5zY2x1ZGUscGFyZW50Qm91bmRUcmFuc2NsdWRlRm4sbm9kZUxpbmtGbi5lbGVtZW50VHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpOiFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCYmcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4/cGFyZW50Qm91bmRUcmFuc2NsdWRlRm46IXBhcmVudEJvdW5kVHJhbnNjbHVkZUZuJiZ0cmFuc2NsdWRlRm4/Y3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsdHJhbnNjbHVkZUZuKTpudWxsLG5vZGVMaW5rRm4oY2hpbGRMaW5rRm4sY2hpbGRTY29wZSxub2RlLCRyb290RWxlbWVudCxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKSk6Y2hpbGRMaW5rRm4mJmNoaWxkTGlua0ZuKHNjb3BlLG5vZGUuY2hpbGROb2Rlcyx1bmRlZmluZWQscGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pfWZvcih2YXIgYXR0cnMsZGlyZWN0aXZlcyxub2RlTGlua0ZuLGNoaWxkTm9kZXMsY2hpbGRMaW5rRm4sbGlua0ZuRm91bmQsbm9kZUxpbmtGbkZvdW5kLGxpbmtGbnM9W10saT0wO2k8bm9kZUxpc3QubGVuZ3RoO2krKylhdHRycz1uZXcgQXR0cmlidXRlcyxkaXJlY3RpdmVzPWNvbGxlY3REaXJlY3RpdmVzKG5vZGVMaXN0W2ldLFtdLGF0dHJzLDA9PT1pP21heFByaW9yaXR5OnVuZGVmaW5lZCxpZ25vcmVEaXJlY3RpdmUpLG5vZGVMaW5rRm49ZGlyZWN0aXZlcy5sZW5ndGg/YXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsbm9kZUxpc3RbaV0sYXR0cnMsdHJhbnNjbHVkZUZuLCRyb290RWxlbWVudCxudWxsLFtdLFtdLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpOm51bGwsbm9kZUxpbmtGbiYmbm9kZUxpbmtGbi5zY29wZSYmY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoYXR0cnMuJCRlbGVtZW50KSxjaGlsZExpbmtGbj1ub2RlTGlua0ZuJiZub2RlTGlua0ZuLnRlcm1pbmFsfHwhKGNoaWxkTm9kZXM9bm9kZUxpc3RbaV0uY2hpbGROb2Rlcyl8fCFjaGlsZE5vZGVzLmxlbmd0aD9udWxsOmNvbXBpbGVOb2RlcyhjaGlsZE5vZGVzLG5vZGVMaW5rRm4/KG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnR8fCFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCkmJm5vZGVMaW5rRm4udHJhbnNjbHVkZTp0cmFuc2NsdWRlRm4pLChub2RlTGlua0ZufHxjaGlsZExpbmtGbikmJihsaW5rRm5zLnB1c2goaSxub2RlTGlua0ZuLGNoaWxkTGlua0ZuKSxsaW5rRm5Gb3VuZD0hMCxub2RlTGlua0ZuRm91bmQ9bm9kZUxpbmtGbkZvdW5kfHxub2RlTGlua0ZuKSxwcmV2aW91c0NvbXBpbGVDb250ZXh0PW51bGw7cmV0dXJuIGxpbmtGbkZvdW5kP2NvbXBvc2l0ZUxpbmtGbjpudWxsfWZ1bmN0aW9uIGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLHRyYW5zY2x1ZGVGbixwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuKXt2YXIgYm91bmRUcmFuc2NsdWRlRm49ZnVuY3Rpb24odHJhbnNjbHVkZWRTY29wZSxjbG9uZUZuLGNvbnRyb2xsZXJzLGZ1dHVyZVBhcmVudEVsZW1lbnQsY29udGFpbmluZ1Njb3BlKXtyZXR1cm4gdHJhbnNjbHVkZWRTY29wZXx8KHRyYW5zY2x1ZGVkU2NvcGU9c2NvcGUuJG5ldyghMSxjb250YWluaW5nU2NvcGUpLHRyYW5zY2x1ZGVkU2NvcGUuJCR0cmFuc2NsdWRlZD0hMCksdHJhbnNjbHVkZUZuKHRyYW5zY2x1ZGVkU2NvcGUsY2xvbmVGbixjb250cm9sbGVycyxwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuLGZ1dHVyZVBhcmVudEVsZW1lbnQpfTtyZXR1cm4gYm91bmRUcmFuc2NsdWRlRm59ZnVuY3Rpb24gY29sbGVjdERpcmVjdGl2ZXMobm9kZSxkaXJlY3RpdmVzLGF0dHJzLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSl7dmFyIG1hdGNoLGNsYXNzTmFtZSxub2RlVHlwZT1ub2RlLm5vZGVUeXBlLGF0dHJzTWFwPWF0dHJzLiRhdHRyO3N3aXRjaChub2RlVHlwZSl7Y2FzZSBOT0RFX1RZUEVfRUxFTUVOVDphZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpKSwiRSIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlKTtmb3IodmFyIGF0dHIsbmFtZSxuTmFtZSxuZ0F0dHJOYW1lLHZhbHVlLGlzTmdBdHRyLG5BdHRycz1ub2RlLmF0dHJpYnV0ZXMsaj0wLGpqPW5BdHRycyYmbkF0dHJzLmxlbmd0aDtqaj5qO2orKyl7dmFyIGF0dHJTdGFydE5hbWU9ITEsYXR0ckVuZE5hbWU9ITE7YXR0cj1uQXR0cnNbal0sbmFtZT1hdHRyLm5hbWUsdmFsdWU9dHJpbShhdHRyLnZhbHVlKSxuZ0F0dHJOYW1lPWRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKSwoaXNOZ0F0dHI9TkdfQVRUUl9CSU5ESU5HLnRlc3QobmdBdHRyTmFtZSkpJiYobmFtZT1zbmFrZV9jYXNlKG5nQXR0ck5hbWUuc3Vic3RyKDYpLCItIikpO3ZhciBkaXJlY3RpdmVOTmFtZT1uZ0F0dHJOYW1lLnJlcGxhY2UoLyhTdGFydHxFbmQpJC8sIiIpO2RpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KGRpcmVjdGl2ZU5OYW1lKSYmbmdBdHRyTmFtZT09PWRpcmVjdGl2ZU5OYW1lKyJTdGFydCImJihhdHRyU3RhcnROYW1lPW5hbWUsYXR0ckVuZE5hbWU9bmFtZS5zdWJzdHIoMCxuYW1lLmxlbmd0aC01KSsiZW5kIixuYW1lPW5hbWUuc3Vic3RyKDAsbmFtZS5sZW5ndGgtNikpLG5OYW1lPWRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lLnRvTG93ZXJDYXNlKCkpLGF0dHJzTWFwW25OYW1lXT1uYW1lLChpc05nQXR0cnx8IWF0dHJzLmhhc093blByb3BlcnR5KG5OYW1lKSkmJihhdHRyc1tuTmFtZV09dmFsdWUsZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsbk5hbWUpJiYoYXR0cnNbbk5hbWVdPSEwKSksYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsZGlyZWN0aXZlcyx2YWx1ZSxuTmFtZSxpc05nQXR0ciksYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsbk5hbWUsIkEiLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxhdHRyU3RhcnROYW1lLGF0dHJFbmROYW1lKX1pZihjbGFzc05hbWU9bm9kZS5jbGFzc05hbWUsaXNTdHJpbmcoY2xhc3NOYW1lKSYmIiIhPT1jbGFzc05hbWUpZm9yKDttYXRjaD1DTEFTU19ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMoY2xhc3NOYW1lKTspbk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiQyIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlKSYmKGF0dHJzW25OYW1lXT10cmltKG1hdGNoWzNdKSksY2xhc3NOYW1lPWNsYXNzTmFtZS5zdWJzdHIobWF0Y2guaW5kZXgrbWF0Y2hbMF0ubGVuZ3RoKTticmVhaztjYXNlIE5PREVfVFlQRV9URVhUOmFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLG5vZGUubm9kZVZhbHVlKTticmVhaztjYXNlIE5PREVfVFlQRV9DT01NRU5UOnRyeXttYXRjaD1DT01NRU5UX0RJUkVDVElWRV9SRUdFWFAuZXhlYyhub2RlLm5vZGVWYWx1ZSksbWF0Y2gmJihuTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMV0pLGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLG5OYW1lLCJNIixtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUpJiYoYXR0cnNbbk5hbWVdPXRyaW0obWF0Y2hbMl0pKSl9Y2F0Y2goZSl7fX1yZXR1cm4gZGlyZWN0aXZlcy5zb3J0KGJ5UHJpb3JpdHkpLGRpcmVjdGl2ZXN9ZnVuY3Rpb24gZ3JvdXBTY2FuKG5vZGUsYXR0clN0YXJ0LGF0dHJFbmQpe3ZhciBub2Rlcz1bXSxkZXB0aD0wO2lmKGF0dHJTdGFydCYmbm9kZS5oYXNBdHRyaWJ1dGUmJm5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpe2Rve2lmKCFub2RlKXRocm93ICRjb21waWxlTWluRXJyKCJ1dGVyZGlyIiwiVW50ZXJtaW5hdGVkIGF0dHJpYnV0ZSwgZm91bmQgJ3swfScgYnV0IG5vIG1hdGNoaW5nICd7MX0nIGZvdW5kLiIsYXR0clN0YXJ0LGF0dHJFbmQpO25vZGUubm9kZVR5cGU9PU5PREVfVFlQRV9FTEVNRU5UJiYobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSYmZGVwdGgrKyxub2RlLmhhc0F0dHJpYnV0ZShhdHRyRW5kKSYmZGVwdGgtLSksbm9kZXMucHVzaChub2RlKSxub2RlPW5vZGUubmV4dFNpYmxpbmd9d2hpbGUoZGVwdGg+MCl9ZWxzZSBub2Rlcy5wdXNoKG5vZGUpO3JldHVybiBqcUxpdGUobm9kZXMpfWZ1bmN0aW9uIGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKGxpbmtGbixhdHRyU3RhcnQsYXR0ckVuZCl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY29udHJvbGxlcnMsdHJhbnNjbHVkZUZuKXtyZXR1cm4gZWxlbWVudD1ncm91cFNjYW4oZWxlbWVudFswXSxhdHRyU3RhcnQsYXR0ckVuZCksbGlua0ZuKHNjb3BlLGVsZW1lbnQsYXR0cnMsY29udHJvbGxlcnMsdHJhbnNjbHVkZUZuKX19ZnVuY3Rpb24gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsY29tcGlsZU5vZGUsdGVtcGxhdGVBdHRycyx0cmFuc2NsdWRlRm4sanFDb2xsZWN0aW9uLG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpe2Z1bmN0aW9uIGFkZExpbmtGbnMocHJlLHBvc3QsYXR0clN0YXJ0LGF0dHJFbmQpe3ByZSYmKGF0dHJTdGFydCYmKHByZT1ncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsYXR0clN0YXJ0LGF0dHJFbmQpKSxwcmUucmVxdWlyZT1kaXJlY3RpdmUucmVxdWlyZSxwcmUuZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOYW1lLChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU9PT1kaXJlY3RpdmV8fGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkmJihwcmU9Y2xvbmVBbmRBbm5vdGF0ZUZuKHByZSx7aXNvbGF0ZVNjb3BlOiEwfSkpLHByZUxpbmtGbnMucHVzaChwcmUpKSxwb3N0JiYoYXR0clN0YXJ0JiYocG9zdD1ncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LGF0dHJTdGFydCxhdHRyRW5kKSkscG9zdC5yZXF1aXJlPWRpcmVjdGl2ZS5yZXF1aXJlLHBvc3QuZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOYW1lLChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU9PT1kaXJlY3RpdmV8fGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkmJihwb3N0PWNsb25lQW5kQW5ub3RhdGVGbihwb3N0LHtpc29sYXRlU2NvcGU6ITB9KSkscG9zdExpbmtGbnMucHVzaChwb3N0KSl9ZnVuY3Rpb24gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSxyZXF1aXJlLCRlbGVtZW50LGVsZW1lbnRDb250cm9sbGVycyl7dmFyIHZhbHVlLG1hdGNoLHJldHJpZXZhbE1ldGhvZD0iZGF0YSIsb3B0aW9uYWw9ITEsJHNlYXJjaEVsZW1lbnQ9JGVsZW1lbnQ7aWYoaXNTdHJpbmcocmVxdWlyZSkpe2lmKG1hdGNoPXJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKSxyZXF1aXJlPXJlcXVpcmUuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCksbWF0Y2hbM10mJihtYXRjaFsxXT9tYXRjaFszXT1udWxsOm1hdGNoWzFdPW1hdGNoWzNdKSwiXiI9PT1tYXRjaFsxXT9yZXRyaWV2YWxNZXRob2Q9ImluaGVyaXRlZERhdGEiOiJeXiI9PT1tYXRjaFsxXSYmKHJldHJpZXZhbE1ldGhvZD0iaW5oZXJpdGVkRGF0YSIsJHNlYXJjaEVsZW1lbnQ9JGVsZW1lbnQucGFyZW50KCkpLCI/Ij09PW1hdGNoWzJdJiYob3B0aW9uYWw9ITApLHZhbHVlPW51bGwsZWxlbWVudENvbnRyb2xsZXJzJiYiZGF0YSI9PT1yZXRyaWV2YWxNZXRob2QmJih2YWx1ZT1lbGVtZW50Q29udHJvbGxlcnNbcmVxdWlyZV0pJiYodmFsdWU9dmFsdWUuaW5zdGFuY2UpLHZhbHVlPXZhbHVlfHwkc2VhcmNoRWxlbWVudFtyZXRyaWV2YWxNZXRob2RdKCIkIityZXF1aXJlKyJDb250cm9sbGVyIiksIXZhbHVlJiYhb3B0aW9uYWwpdGhyb3cgJGNvbXBpbGVNaW5FcnIoImN0cmVxIiwiQ29udHJvbGxlciAnezB9JywgcmVxdWlyZWQgYnkgZGlyZWN0aXZlICd7MX0nLCBjYW4ndCBiZSBmb3VuZCEiLHJlcXVpcmUsZGlyZWN0aXZlTmFtZSk7cmV0dXJuIHZhbHVlfXJldHVybiBpc0FycmF5KHJlcXVpcmUpJiYodmFsdWU9W10sZm9yRWFjaChyZXF1aXJlLGZ1bmN0aW9uKHJlcXVpcmUpe3ZhbHVlLnB1c2goZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSxyZXF1aXJlLCRlbGVtZW50LGVsZW1lbnRDb250cm9sbGVycykpfSkpLHZhbHVlfWZ1bmN0aW9uIG5vZGVMaW5rRm4oY2hpbGRMaW5rRm4sc2NvcGUsbGlua05vZGUsJHJvb3RFbGVtZW50LGJvdW5kVHJhbnNjbHVkZUZuKXtmdW5jdGlvbiBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZShzY29wZSxjbG9uZUF0dGFjaEZuLGZ1dHVyZVBhcmVudEVsZW1lbnQpe3ZhciB0cmFuc2NsdWRlQ29udHJvbGxlcnM7cmV0dXJuIGlzU2NvcGUoc2NvcGUpfHwoZnV0dXJlUGFyZW50RWxlbWVudD1jbG9uZUF0dGFjaEZuLGNsb25lQXR0YWNoRm49c2NvcGUsc2NvcGU9dW5kZWZpbmVkKSxoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSYmKHRyYW5zY2x1ZGVDb250cm9sbGVycz1lbGVtZW50Q29udHJvbGxlcnMpLGZ1dHVyZVBhcmVudEVsZW1lbnR8fChmdXR1cmVQYXJlbnRFbGVtZW50PWhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlPyRlbGVtZW50LnBhcmVudCgpOiRlbGVtZW50KSxib3VuZFRyYW5zY2x1ZGVGbihzY29wZSxjbG9uZUF0dGFjaEZuLHRyYW5zY2x1ZGVDb250cm9sbGVycyxmdXR1cmVQYXJlbnRFbGVtZW50LHNjb3BlVG9DaGlsZCl9dmFyIGksaWksbGlua0ZuLGNvbnRyb2xsZXIsaXNvbGF0ZVNjb3BlLGVsZW1lbnRDb250cm9sbGVycyx0cmFuc2NsdWRlRm4sJGVsZW1lbnQsYXR0cnM7aWYoY29tcGlsZU5vZGU9PT1saW5rTm9kZT8oYXR0cnM9dGVtcGxhdGVBdHRycywkZWxlbWVudD10ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCk6KCRlbGVtZW50PWpxTGl0ZShsaW5rTm9kZSksYXR0cnM9bmV3IEF0dHJpYnV0ZXMoJGVsZW1lbnQsdGVtcGxhdGVBdHRycykpLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSYmKGlzb2xhdGVTY29wZT1zY29wZS4kbmV3KCEwKSksdHJhbnNjbHVkZUZuPWJvdW5kVHJhbnNjbHVkZUZuJiZjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZSxjb250cm9sbGVyRGlyZWN0aXZlcyYmKGNvbnRyb2xsZXJzPXt9LGVsZW1lbnRDb250cm9sbGVycz17fSxmb3JFYWNoKGNvbnRyb2xsZXJEaXJlY3RpdmVzLGZ1bmN0aW9uKGRpcmVjdGl2ZSl7dmFyIGNvbnRyb2xsZXJJbnN0YW5jZSxsb2NhbHM9eyRzY29wZTpkaXJlY3RpdmU9PT1uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmV8fGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZT9pc29sYXRlU2NvcGU6c2NvcGUsJGVsZW1lbnQ6JGVsZW1lbnQsJGF0dHJzOmF0dHJzLCR0cmFuc2NsdWRlOnRyYW5zY2x1ZGVGbn07Y29udHJvbGxlcj1kaXJlY3RpdmUuY29udHJvbGxlciwiQCI9PWNvbnRyb2xsZXImJihjb250cm9sbGVyPWF0dHJzW2RpcmVjdGl2ZS5uYW1lXSksY29udHJvbGxlckluc3RhbmNlPSRjb250cm9sbGVyKGNvbnRyb2xsZXIsbG9jYWxzLCEwLGRpcmVjdGl2ZS5jb250cm9sbGVyQXMpLGVsZW1lbnRDb250cm9sbGVyc1tkaXJlY3RpdmUubmFtZV09Y29udHJvbGxlckluc3RhbmNlLGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlfHwkZWxlbWVudC5kYXRhKCIkIitkaXJlY3RpdmUubmFtZSsiQ29udHJvbGxlciIsY29udHJvbGxlckluc3RhbmNlLmluc3RhbmNlKSxjb250cm9sbGVyc1tkaXJlY3RpdmUubmFtZV09Y29udHJvbGxlckluc3RhbmNlfSkpLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSl7Y29tcGlsZS4kJGFkZFNjb3BlSW5mbygkZWxlbWVudCxpc29sYXRlU2NvcGUsITAsISh0ZW1wbGF0ZURpcmVjdGl2ZSYmKHRlbXBsYXRlRGlyZWN0aXZlPT09bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlfHx0ZW1wbGF0ZURpcmVjdGl2ZT09PW5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpLGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCEwKTt2YXIgaXNvbGF0ZVNjb3BlQ29udHJvbGxlcj1jb250cm9sbGVycyYmY29udHJvbGxlcnNbbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLm5hbWVdLGlzb2xhdGVCaW5kaW5nQ29udGV4dD1pc29sYXRlU2NvcGU7aXNvbGF0ZVNjb3BlQ29udHJvbGxlciYmaXNvbGF0ZVNjb3BlQ29udHJvbGxlci5pZGVudGlmaWVyJiZuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlcj09PSEwJiYoaXNvbGF0ZUJpbmRpbmdDb250ZXh0PWlzb2xhdGVTY29wZUNvbnRyb2xsZXIuaW5zdGFuY2UpLGZvckVhY2goaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzPW5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJGlzb2xhdGVCaW5kaW5ncyxmdW5jdGlvbihkZWZpbml0aW9uLHNjb3BlTmFtZSl7dmFyIGxhc3RWYWx1ZSxwYXJlbnRHZXQscGFyZW50U2V0LGNvbXBhcmUsYXR0ck5hbWU9ZGVmaW5pdGlvbi5hdHRyTmFtZSxvcHRpb25hbD1kZWZpbml0aW9uLm9wdGlvbmFsLG1vZGU9ZGVmaW5pdGlvbi5tb2RlO3N3aXRjaChtb2RlKXtjYXNlIkAiOmF0dHJzLiRvYnNlcnZlKGF0dHJOYW1lLGZ1bmN0aW9uKHZhbHVlKXtpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXT12YWx1ZX0pLGF0dHJzLiQkb2JzZXJ2ZXJzW2F0dHJOYW1lXS4kJHNjb3BlPXNjb3BlLGF0dHJzW2F0dHJOYW1lXSYmKGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdPSRpbnRlcnBvbGF0ZShhdHRyc1thdHRyTmFtZV0pKHNjb3BlKSk7YnJlYWs7Y2FzZSI9IjppZihvcHRpb25hbCYmIWF0dHJzW2F0dHJOYW1lXSlyZXR1cm47cGFyZW50R2V0PSRwYXJzZShhdHRyc1thdHRyTmFtZV0pLGNvbXBhcmU9cGFyZW50R2V0LmxpdGVyYWw/ZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifHxhIT09YSYmYiE9PWJ9LHBhcmVudFNldD1wYXJlbnRHZXQuYXNzaWdufHxmdW5jdGlvbigpe3Rocm93IGxhc3RWYWx1ZT1pc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXT1wYXJlbnRHZXQoc2NvcGUpLCRjb21waWxlTWluRXJyKCJub25hc3NpZ24iLCJFeHByZXNzaW9uICd7MH0nIHVzZWQgd2l0aCBkaXJlY3RpdmUgJ3sxfScgaXMgbm9uLWFzc2lnbmFibGUhIixhdHRyc1thdHRyTmFtZV0sbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLm5hbWUpfSxsYXN0VmFsdWU9aXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV09cGFyZW50R2V0KHNjb3BlKTt2YXIgcGFyZW50VmFsdWVXYXRjaD1mdW5jdGlvbihwYXJlbnRWYWx1ZSl7cmV0dXJuIGNvbXBhcmUocGFyZW50VmFsdWUsaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0pfHwoY29tcGFyZShwYXJlbnRWYWx1ZSxsYXN0VmFsdWUpP3BhcmVudFNldChzY29wZSxwYXJlbnRWYWx1ZT1pc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSk6aXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV09cGFyZW50VmFsdWUpLGxhc3RWYWx1ZT1wYXJlbnRWYWx1ZX07cGFyZW50VmFsdWVXYXRjaC4kc3RhdGVmdWw9ITA7dmFyIHVud2F0Y2g9c2NvcGUuJHdhdGNoKCRwYXJzZShhdHRyc1thdHRyTmFtZV0scGFyZW50VmFsdWVXYXRjaCksbnVsbCxwYXJlbnRHZXQubGl0ZXJhbCk7aXNvbGF0ZVNjb3BlLiRvbigiJGRlc3Ryb3kiLHVud2F0Y2gpO2JyZWFrO2Nhc2UiJiI6cGFyZW50R2V0PSRwYXJzZShhdHRyc1thdHRyTmFtZV0pLGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdPWZ1bmN0aW9uKGxvY2Fscyl7cmV0dXJuIHBhcmVudEdldChzY29wZSxsb2NhbHMpfX19KX1mb3IoY29udHJvbGxlcnMmJihmb3JFYWNoKGNvbnRyb2xsZXJzLGZ1bmN0aW9uKGNvbnRyb2xsZXIpe2NvbnRyb2xsZXIoKX0pLGNvbnRyb2xsZXJzPW51bGwpLGk9MCxpaT1wcmVMaW5rRm5zLmxlbmd0aDtpaT5pO2krKylsaW5rRm49cHJlTGlua0Zuc1tpXSxpbnZva2VMaW5rRm4obGlua0ZuLGxpbmtGbi5pc29sYXRlU2NvcGU/aXNvbGF0ZVNjb3BlOnNjb3BlLCRlbGVtZW50LGF0dHJzLGxpbmtGbi5yZXF1aXJlJiZnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSxsaW5rRm4ucmVxdWlyZSwkZWxlbWVudCxlbGVtZW50Q29udHJvbGxlcnMpLHRyYW5zY2x1ZGVGbik7dmFyIHNjb3BlVG9DaGlsZD1zY29wZTtmb3IobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlJiYobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlfHxudWxsPT09bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSYmKHNjb3BlVG9DaGlsZD1pc29sYXRlU2NvcGUpLGNoaWxkTGlua0ZuJiZjaGlsZExpbmtGbihzY29wZVRvQ2hpbGQsbGlua05vZGUuY2hpbGROb2Rlcyx1bmRlZmluZWQsYm91bmRUcmFuc2NsdWRlRm4pLGk9cG9zdExpbmtGbnMubGVuZ3RoLTE7aT49MDtpLS0pbGlua0ZuPXBvc3RMaW5rRm5zW2ldLGludm9rZUxpbmtGbihsaW5rRm4sbGlua0ZuLmlzb2xhdGVTY29wZT9pc29sYXRlU2NvcGU6c2NvcGUsJGVsZW1lbnQsYXR0cnMsbGlua0ZuLnJlcXVpcmUmJmdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLGxpbmtGbi5yZXF1aXJlLCRlbGVtZW50LGVsZW1lbnRDb250cm9sbGVycyksdHJhbnNjbHVkZUZuKX1wcmV2aW91c0NvbXBpbGVDb250ZXh0PXByZXZpb3VzQ29tcGlsZUNvbnRleHR8fHt9O2Zvcih2YXIgbmV3U2NvcGVEaXJlY3RpdmUsY29udHJvbGxlcnMsZGlyZWN0aXZlLGRpcmVjdGl2ZU5hbWUsJHRlbXBsYXRlLGxpbmtGbixkaXJlY3RpdmVWYWx1ZSx0ZXJtaW5hbFByaW9yaXR5PS1OdW1iZXIuTUFYX1ZBTFVFLGNvbnRyb2xsZXJEaXJlY3RpdmVzPXByZXZpb3VzQ29tcGlsZUNvbnRleHQuY29udHJvbGxlckRpcmVjdGl2ZXMsbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlPXByZXZpb3VzQ29tcGlsZUNvbnRleHQubmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLHRlbXBsYXRlRGlyZWN0aXZlPXByZXZpb3VzQ29tcGlsZUNvbnRleHQudGVtcGxhdGVEaXJlY3RpdmUsbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsaGFzVHJhbnNjbHVkZURpcmVjdGl2ZT0hMSxoYXNUZW1wbGF0ZT0hMSxoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlLCRjb21waWxlTm9kZT10ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudD1qcUxpdGUoY29tcGlsZU5vZGUpLHJlcGxhY2VEaXJlY3RpdmU9b3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLGNoaWxkVHJhbnNjbHVkZUZuPXRyYW5zY2x1ZGVGbixpPTAsaWk9ZGlyZWN0aXZlcy5sZW5ndGg7aWk+aTtpKyspe2RpcmVjdGl2ZT1kaXJlY3RpdmVzW2ldO3ZhciBhdHRyU3RhcnQ9ZGlyZWN0aXZlLiQkc3RhcnQsYXR0ckVuZD1kaXJlY3RpdmUuJCRlbmQ7aWYoYXR0clN0YXJ0JiYoJGNvbXBpbGVOb2RlPWdyb3VwU2Nhbihjb21waWxlTm9kZSxhdHRyU3RhcnQsYXR0ckVuZCkpLCR0ZW1wbGF0ZT11bmRlZmluZWQsdGVybWluYWxQcmlvcml0eT5kaXJlY3RpdmUucHJpb3JpdHkpYnJlYWs7aWYoKGRpcmVjdGl2ZVZhbHVlPWRpcmVjdGl2ZS5zY29wZSkmJihkaXJlY3RpdmUudGVtcGxhdGVVcmx8fChpc09iamVjdChkaXJlY3RpdmVWYWx1ZSk/KGFzc2VydE5vRHVwbGljYXRlKCJuZXcvaXNvbGF0ZWQgc2NvcGUiLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZXx8bmV3U2NvcGVEaXJlY3RpdmUsZGlyZWN0aXZlLCRjb21waWxlTm9kZSksbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlPWRpcmVjdGl2ZSk6YXNzZXJ0Tm9EdXBsaWNhdGUoIm5ldy9pc29sYXRlZCBzY29wZSIsbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpKSxuZXdTY29wZURpcmVjdGl2ZT1uZXdTY29wZURpcmVjdGl2ZXx8ZGlyZWN0aXZlKSxkaXJlY3RpdmVOYW1lPWRpcmVjdGl2ZS5uYW1lLCFkaXJlY3RpdmUudGVtcGxhdGVVcmwmJmRpcmVjdGl2ZS5jb250cm9sbGVyJiYoZGlyZWN0aXZlVmFsdWU9ZGlyZWN0aXZlLmNvbnRyb2xsZXIsY29udHJvbGxlckRpcmVjdGl2ZXM9Y29udHJvbGxlckRpcmVjdGl2ZXN8fHt9LGFzc2VydE5vRHVwbGljYXRlKCInIitkaXJlY3RpdmVOYW1lKyInIGNvbnRyb2xsZXIiLGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdPWRpcmVjdGl2ZSksKGRpcmVjdGl2ZVZhbHVlPWRpcmVjdGl2ZS50cmFuc2NsdWRlKSYmKGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU9ITAsZGlyZWN0aXZlLiQkdGxifHwoYXNzZXJ0Tm9EdXBsaWNhdGUoInRyYW5zY2x1c2lvbiIsbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxkaXJlY3RpdmUsJGNvbXBpbGVOb2RlKSxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlPWRpcmVjdGl2ZSksImVsZW1lbnQiPT1kaXJlY3RpdmVWYWx1ZT8oaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9ITAsdGVybWluYWxQcmlvcml0eT1kaXJlY3RpdmUucHJpb3JpdHksJHRlbXBsYXRlPSRjb21waWxlTm9kZSwkY29tcGlsZU5vZGU9dGVtcGxhdGVBdHRycy4kJGVsZW1lbnQ9anFMaXRlKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiAiK2RpcmVjdGl2ZU5hbWUrIjogIit0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdKyIgIikpLGNvbXBpbGVOb2RlPSRjb21waWxlTm9kZVswXSxyZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sc2xpY2VBcmdzKCR0ZW1wbGF0ZSksY29tcGlsZU5vZGUpLGNoaWxkVHJhbnNjbHVkZUZuPWNvbXBpbGUoJHRlbXBsYXRlLHRyYW5zY2x1ZGVGbix0ZXJtaW5hbFByaW9yaXR5LHJlcGxhY2VEaXJlY3RpdmUmJnJlcGxhY2VEaXJlY3RpdmUubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlfSkpOigkdGVtcGxhdGU9anFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKSwkY29tcGlsZU5vZGUuZW1wdHkoKSxjaGlsZFRyYW5zY2x1ZGVGbj1jb21waWxlKCR0ZW1wbGF0ZSx0cmFuc2NsdWRlRm4pKSksZGlyZWN0aXZlLnRlbXBsYXRlKWlmKGhhc1RlbXBsYXRlPSEwLGFzc2VydE5vRHVwbGljYXRlKCJ0ZW1wbGF0ZSIsdGVtcGxhdGVEaXJlY3RpdmUsZGlyZWN0aXZlLCRjb21waWxlTm9kZSksdGVtcGxhdGVEaXJlY3RpdmU9ZGlyZWN0aXZlLGRpcmVjdGl2ZVZhbHVlPWlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKT9kaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLHRlbXBsYXRlQXR0cnMpOmRpcmVjdGl2ZS50ZW1wbGF0ZSxkaXJlY3RpdmVWYWx1ZT1kZW5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZVZhbHVlKSxkaXJlY3RpdmUucmVwbGFjZSl7aWYocmVwbGFjZURpcmVjdGl2ZT1kaXJlY3RpdmUsJHRlbXBsYXRlPWpxTGl0ZUlzVGV4dE5vZGUoZGlyZWN0aXZlVmFsdWUpP1tdOnJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZShkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2UsdHJpbShkaXJlY3RpdmVWYWx1ZSkpKSxjb21waWxlTm9kZT0kdGVtcGxhdGVbMF0sMSE9JHRlbXBsYXRlLmxlbmd0aHx8Y29tcGlsZU5vZGUubm9kZVR5cGUhPT1OT0RFX1RZUEVfRUxFTUVOVCl0aHJvdyAkY29tcGlsZU1pbkVycigidHBscnQiLCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfSIsZGlyZWN0aXZlTmFtZSwiIik7cmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCRjb21waWxlTm9kZSxjb21waWxlTm9kZSk7dmFyIG5ld1RlbXBsYXRlQXR0cnM9eyRhdHRyOnt9fSx0ZW1wbGF0ZURpcmVjdGl2ZXM9Y29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsW10sbmV3VGVtcGxhdGVBdHRycyksdW5wcm9jZXNzZWREaXJlY3RpdmVzPWRpcmVjdGl2ZXMuc3BsaWNlKGkrMSxkaXJlY3RpdmVzLmxlbmd0aC0oaSsxKSk7bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlJiZtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZSh0ZW1wbGF0ZURpcmVjdGl2ZXMpLGRpcmVjdGl2ZXM9ZGlyZWN0aXZlcy5jb25jYXQodGVtcGxhdGVEaXJlY3RpdmVzKS5jb25jYXQodW5wcm9jZXNzZWREaXJlY3RpdmVzKSxtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLG5ld1RlbXBsYXRlQXR0cnMpLGlpPWRpcmVjdGl2ZXMubGVuZ3RofWVsc2UgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO2lmKGRpcmVjdGl2ZS50ZW1wbGF0ZVVybCloYXNUZW1wbGF0ZT0hMCxhc3NlcnROb0R1cGxpY2F0ZSgidGVtcGxhdGUiLHRlbXBsYXRlRGlyZWN0aXZlLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLHRlbXBsYXRlRGlyZWN0aXZlPWRpcmVjdGl2ZSxkaXJlY3RpdmUucmVwbGFjZSYmKHJlcGxhY2VEaXJlY3RpdmU9ZGlyZWN0aXZlKSxub2RlTGlua0ZuPWNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLGRpcmVjdGl2ZXMubGVuZ3RoLWkpLCRjb21waWxlTm9kZSx0ZW1wbGF0ZUF0dHJzLGpxQ29sbGVjdGlvbixoYXNUcmFuc2NsdWRlRGlyZWN0aXZlJiZjaGlsZFRyYW5zY2x1ZGVGbixwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHtjb250cm9sbGVyRGlyZWN0aXZlczpjb250cm9sbGVyRGlyZWN0aXZlcyxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLHRlbXBsYXRlRGlyZWN0aXZlOnRlbXBsYXRlRGlyZWN0aXZlLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZX0pLGlpPWRpcmVjdGl2ZXMubGVuZ3RoO2Vsc2UgaWYoZGlyZWN0aXZlLmNvbXBpbGUpdHJ5e2xpbmtGbj1kaXJlY3RpdmUuY29tcGlsZSgkY29tcGlsZU5vZGUsdGVtcGxhdGVBdHRycyxjaGlsZFRyYW5zY2x1ZGVGbiksaXNGdW5jdGlvbihsaW5rRm4pP2FkZExpbmtGbnMobnVsbCxsaW5rRm4sYXR0clN0YXJ0LGF0dHJFbmQpOmxpbmtGbiYmYWRkTGlua0ZucyhsaW5rRm4ucHJlLGxpbmtGbi5wb3N0LGF0dHJTdGFydCxhdHRyRW5kKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlLHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpfWRpcmVjdGl2ZS50ZXJtaW5hbCYmKG5vZGVMaW5rRm4udGVybWluYWw9ITAsdGVybWluYWxQcmlvcml0eT1NYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LGRpcmVjdGl2ZS5wcmlvcml0eSkpfXJldHVybiBub2RlTGlua0ZuLnNjb3BlPW5ld1Njb3BlRGlyZWN0aXZlJiZuZXdTY29wZURpcmVjdGl2ZS5zY29wZT09PSEwLG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9aGFzVHJhbnNjbHVkZURpcmVjdGl2ZSxub2RlTGlua0ZuLmVsZW1lbnRUcmFuc2NsdWRlT25UaGlzRWxlbWVudD1oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudD1oYXNUZW1wbGF0ZSxub2RlTGlua0ZuLnRyYW5zY2x1ZGU9Y2hpbGRUcmFuc2NsdWRlRm4scHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZT1oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxub2RlTGlua0ZufWZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKGRpcmVjdGl2ZXMpe2Zvcih2YXIgaj0wLGpqPWRpcmVjdGl2ZXMubGVuZ3RoO2pqPmo7aisrKWRpcmVjdGl2ZXNbal09aW5oZXJpdChkaXJlY3RpdmVzW2pdLHskJGlzb2xhdGVTY29wZTohMH0pfWZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcyxuYW1lLGxvY2F0aW9uLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxzdGFydEF0dHJOYW1lLGVuZEF0dHJOYW1lKXtpZihuYW1lPT09aWdub3JlRGlyZWN0aXZlKXJldHVybiBudWxsO3ZhciBtYXRjaD1udWxsO2lmKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpZm9yKHZhciBkaXJlY3RpdmUsZGlyZWN0aXZlcz0kaW5qZWN0b3IuZ2V0KG5hbWUrU3VmZml4KSxpPTAsaWk9ZGlyZWN0aXZlcy5sZW5ndGg7aWk+aTtpKyspdHJ5e2RpcmVjdGl2ZT1kaXJlY3RpdmVzW2ldLChtYXhQcmlvcml0eT09PXVuZGVmaW5lZHx8bWF4UHJpb3JpdHk+ZGlyZWN0aXZlLnByaW9yaXR5KSYmLTEhPWRpcmVjdGl2ZS5yZXN0cmljdC5pbmRleE9mKGxvY2F0aW9uKSYmKHN0YXJ0QXR0ck5hbWUmJihkaXJlY3RpdmU9aW5oZXJpdChkaXJlY3RpdmUseyQkc3RhcnQ6c3RhcnRBdHRyTmFtZSwkJGVuZDplbmRBdHRyTmFtZX0pKSx0RGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSksbWF0Y2g9ZGlyZWN0aXZlKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1yZXR1cm4gbWF0Y2h9ZnVuY3Rpb24gZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQobmFtZSl7aWYoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSlmb3IodmFyIGRpcmVjdGl2ZSxkaXJlY3RpdmVzPSRpbmplY3Rvci5nZXQobmFtZStTdWZmaXgpLGk9MCxpaT1kaXJlY3RpdmVzLmxlbmd0aDtpaT5pO2krKylpZihkaXJlY3RpdmU9ZGlyZWN0aXZlc1tpXSxkaXJlY3RpdmUubXVsdGlFbGVtZW50KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKGRzdCxzcmMpe3ZhciBzcmNBdHRyPXNyYy4kYXR0cixkc3RBdHRyPWRzdC4kYXR0ciwkZWxlbWVudD1kc3QuJCRlbGVtZW50O2ZvckVhY2goZHN0LGZ1bmN0aW9uKHZhbHVlLGtleSl7IiQiIT1rZXkuY2hhckF0KDApJiYoc3JjW2tleV0mJnNyY1trZXldIT09dmFsdWUmJih2YWx1ZSs9KCJzdHlsZSI9PT1rZXk/IjsiOiIgIikrc3JjW2tleV0pLGRzdC4kc2V0KGtleSx2YWx1ZSwhMCxzcmNBdHRyW2tleV0pKX0pLGZvckVhY2goc3JjLGZ1bmN0aW9uKHZhbHVlLGtleSl7ImNsYXNzIj09a2V5PyhzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsdmFsdWUpLGRzdFsiY2xhc3MiXT0oZHN0WyJjbGFzcyJdP2RzdFsiY2xhc3MiXSsiICI6IiIpK3ZhbHVlKToic3R5bGUiPT1rZXk/KCRlbGVtZW50LmF0dHIoInN0eWxlIiwkZWxlbWVudC5hdHRyKCJzdHlsZSIpKyI7Iit2YWx1ZSksZHN0LnN0eWxlPShkc3Quc3R5bGU/ZHN0LnN0eWxlKyI7IjoiIikrdmFsdWUpOiIkIj09a2V5LmNoYXJBdCgwKXx8ZHN0Lmhhc093blByb3BlcnR5KGtleSl8fChkc3Rba2V5XT12YWx1ZSxkc3RBdHRyW2tleV09c3JjQXR0cltrZXldKX0pfWZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCRjb21waWxlTm9kZSx0QXR0cnMsJHJvb3RFbGVtZW50LGNoaWxkVHJhbnNjbHVkZUZuLHByZUxpbmtGbnMscG9zdExpbmtGbnMscHJldmlvdXNDb21waWxlQ29udGV4dCl7dmFyIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbixsaW5rUXVldWU9W10sYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZT0kY29tcGlsZU5vZGVbMF0sb3JpZ0FzeW5jRGlyZWN0aXZlPWRpcmVjdGl2ZXMuc2hpZnQoKSxkZXJpdmVkU3luY0RpcmVjdGl2ZT1leHRlbmQoe30sb3JpZ0FzeW5jRGlyZWN0aXZlLHt0ZW1wbGF0ZVVybDpudWxsLHRyYW5zY2x1ZGU6bnVsbCxyZXBsYWNlOm51bGwsJCRvcmlnaW5hbERpcmVjdGl2ZTpvcmlnQXN5bmNEaXJlY3RpdmV9KSx0ZW1wbGF0ZVVybD1pc0Z1bmN0aW9uKG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCk/b3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKCRjb21waWxlTm9kZSx0QXR0cnMpOm9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCx0ZW1wbGF0ZU5hbWVzcGFjZT1vcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2U7cmV0dXJuICRjb21waWxlTm9kZS5lbXB0eSgpLCR0ZW1wbGF0ZVJlcXVlc3QoJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodGVtcGxhdGVVcmwpKS50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpe3ZhciBjb21waWxlTm9kZSx0ZW1wVGVtcGxhdGVBdHRycywkdGVtcGxhdGUsY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtpZihjb250ZW50PWRlbm9ybWFsaXplVGVtcGxhdGUoY29udGVudCksb3JpZ0FzeW5jRGlyZWN0aXZlLnJlcGxhY2Upe2lmKCR0ZW1wbGF0ZT1qcUxpdGVJc1RleHROb2RlKGNvbnRlbnQpP1tdOnJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWVzcGFjZSx0cmltKGNvbnRlbnQpKSksY29tcGlsZU5vZGU9JHRlbXBsYXRlWzBdLDEhPSR0ZW1wbGF0ZS5sZW5ndGh8fGNvbXBpbGVOb2RlLm5vZGVUeXBlIT09Tk9ERV9UWVBFX0VMRU1FTlQpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInRwbHJ0IiwiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0iLG9yaWdBc3luY0RpcmVjdGl2ZS5uYW1lLHRlbXBsYXRlVXJsKTt0ZW1wVGVtcGxhdGVBdHRycz17JGF0dHI6e319LHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwkY29tcGlsZU5vZGUsY29tcGlsZU5vZGUpO3ZhciB0ZW1wbGF0ZURpcmVjdGl2ZXM9Y29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsW10sdGVtcFRlbXBsYXRlQXR0cnMpO2lzT2JqZWN0KG9yaWdBc3luY0RpcmVjdGl2ZS5zY29wZSkmJm1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyksZGlyZWN0aXZlcz10ZW1wbGF0ZURpcmVjdGl2ZXMuY29uY2F0KGRpcmVjdGl2ZXMpLG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycyx0ZW1wVGVtcGxhdGVBdHRycyl9ZWxzZSBjb21waWxlTm9kZT1iZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlLCRjb21waWxlTm9kZS5odG1sKGNvbnRlbnQpO2ZvcihkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuPWFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLGNvbXBpbGVOb2RlLHRBdHRycyxjaGlsZFRyYW5zY2x1ZGVGbiwkY29tcGlsZU5vZGUsb3JpZ0FzeW5jRGlyZWN0aXZlLHByZUxpbmtGbnMscG9zdExpbmtGbnMscHJldmlvdXNDb21waWxlQ29udGV4dCksZm9yRWFjaCgkcm9vdEVsZW1lbnQsZnVuY3Rpb24obm9kZSxpKXtub2RlPT1jb21waWxlTm9kZSYmKCRyb290RWxlbWVudFtpXT0kY29tcGlsZU5vZGVbMF0pfSksYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuPWNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVbMF0uY2hpbGROb2RlcyxjaGlsZFRyYW5zY2x1ZGVGbik7bGlua1F1ZXVlLmxlbmd0aDspe3ZhciBzY29wZT1saW5rUXVldWUuc2hpZnQoKSxiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlPWxpbmtRdWV1ZS5zaGlmdCgpLGxpbmtSb290RWxlbWVudD1saW5rUXVldWUuc2hpZnQoKSxib3VuZFRyYW5zY2x1ZGVGbj1saW5rUXVldWUuc2hpZnQoKSxsaW5rTm9kZT0kY29tcGlsZU5vZGVbMF07aWYoIXNjb3BlLiQkZGVzdHJveWVkKXtpZihiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlIT09YmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSl7dmFyIG9sZENsYXNzZXM9YmVmb3JlVGVtcGxhdGVMaW5rTm9kZS5jbGFzc05hbWU7cHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSYmb3JpZ0FzeW5jRGlyZWN0aXZlLnJlcGxhY2V8fChsaW5rTm9kZT1qcUxpdGVDbG9uZShjb21waWxlTm9kZSkpLHJlcGxhY2VXaXRoKGxpbmtSb290RWxlbWVudCxqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksbGlua05vZGUpLHNhZmVBZGRDbGFzcyhqcUxpdGUobGlua05vZGUpLG9sZENsYXNzZXMpfWNoaWxkQm91bmRUcmFuc2NsdWRlRm49YWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/Y3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZSxib3VuZFRyYW5zY2x1ZGVGbik6Ym91bmRUcmFuc2NsdWRlRm4sYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLHNjb3BlLGxpbmtOb2RlLCRyb290RWxlbWVudCxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKX19bGlua1F1ZXVlPW51bGx9KSxmdW5jdGlvbihpZ25vcmVDaGlsZExpbmtGbixzY29wZSxub2RlLHJvb3RFbGVtZW50LGJvdW5kVHJhbnNjbHVkZUZuKXt2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbj1ib3VuZFRyYW5zY2x1ZGVGbjtzY29wZS4kJGRlc3Ryb3llZHx8KGxpbmtRdWV1ZT8obGlua1F1ZXVlLnB1c2goc2NvcGUpLGxpbmtRdWV1ZS5wdXNoKG5vZGUpLGxpbmtRdWV1ZS5wdXNoKHJvb3RFbGVtZW50KSxsaW5rUXVldWUucHVzaChjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKSk6KGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbj1jcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSxhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLGJvdW5kVHJhbnNjbHVkZUZuKSksYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLHNjb3BlLG5vZGUscm9vdEVsZW1lbnQsY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbikpKX19ZnVuY3Rpb24gYnlQcmlvcml0eShhLGIpe3ZhciBkaWZmPWIucHJpb3JpdHktYS5wcmlvcml0eTtyZXR1cm4gMCE9PWRpZmY/ZGlmZjphLm5hbWUhPT1iLm5hbWU/YS5uYW1lPGIubmFtZT8tMToxOmEuaW5kZXgtYi5pbmRleH1mdW5jdGlvbiBhc3NlcnROb0R1cGxpY2F0ZSh3aGF0LHByZXZpb3VzRGlyZWN0aXZlLGRpcmVjdGl2ZSxlbGVtZW50KXtpZihwcmV2aW91c0RpcmVjdGl2ZSl0aHJvdyAkY29tcGlsZU1pbkVycigibXVsdGlkaXIiLCJNdWx0aXBsZSBkaXJlY3RpdmVzIFt7MH0sIHsxfV0gYXNraW5nIGZvciB7Mn0gb246IHszfSIscHJldmlvdXNEaXJlY3RpdmUubmFtZSxkaXJlY3RpdmUubmFtZSx3aGF0LHN0YXJ0aW5nVGFnKGVsZW1lbnQpKX1mdW5jdGlvbiBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcyx0ZXh0KXt2YXIgaW50ZXJwb2xhdGVGbj0kaW50ZXJwb2xhdGUodGV4dCwhMCk7aW50ZXJwb2xhdGVGbiYmZGlyZWN0aXZlcy5wdXNoKHtwcmlvcml0eTowLGNvbXBpbGU6ZnVuY3Rpb24odGVtcGxhdGVOb2RlKXt2YXIgdGVtcGxhdGVOb2RlUGFyZW50PXRlbXBsYXRlTm9kZS5wYXJlbnQoKSxoYXNDb21waWxlUGFyZW50PSEhdGVtcGxhdGVOb2RlUGFyZW50Lmxlbmd0aDtyZXR1cm4gaGFzQ29tcGlsZVBhcmVudCYmY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZU5vZGVQYXJlbnQpLGZ1bmN0aW9uKHNjb3BlLG5vZGUpe3ZhciBwYXJlbnQ9bm9kZS5wYXJlbnQoKTtoYXNDb21waWxlUGFyZW50fHxjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHBhcmVudCksY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKHBhcmVudCxpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKSxzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbixmdW5jdGlvbih2YWx1ZSl7bm9kZVswXS5ub2RlVmFsdWU9dmFsdWUKfSl9fX0pfWZ1bmN0aW9uIHdyYXBUZW1wbGF0ZSh0eXBlLHRlbXBsYXRlKXtzd2l0Y2godHlwZT1sb3dlcmNhc2UodHlwZXx8Imh0bWwiKSl7Y2FzZSJzdmciOmNhc2UibWF0aCI6dmFyIHdyYXBwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHdyYXBwZXIuaW5uZXJIVE1MPSI8Iit0eXBlKyI+Iit0ZW1wbGF0ZSsiPC8iK3R5cGUrIj4iLHdyYXBwZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO2RlZmF1bHQ6cmV0dXJuIHRlbXBsYXRlfX1mdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLGF0dHJOb3JtYWxpemVkTmFtZSl7aWYoInNyY2RvYyI9PWF0dHJOb3JtYWxpemVkTmFtZSlyZXR1cm4gJHNjZS5IVE1MO3ZhciB0YWc9bm9kZU5hbWVfKG5vZGUpO3JldHVybiJ4bGlua0hyZWYiPT1hdHRyTm9ybWFsaXplZE5hbWV8fCJmb3JtIj09dGFnJiYiYWN0aW9uIj09YXR0ck5vcm1hbGl6ZWROYW1lfHwiaW1nIiE9dGFnJiYoInNyYyI9PWF0dHJOb3JtYWxpemVkTmFtZXx8Im5nU3JjIj09YXR0ck5vcm1hbGl6ZWROYW1lKT8kc2NlLlJFU09VUkNFX1VSTDp2b2lkIDB9ZnVuY3Rpb24gYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsZGlyZWN0aXZlcyx2YWx1ZSxuYW1lLGFsbE9yTm90aGluZyl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKHZhbHVlLCEwKTtpZihpbnRlcnBvbGF0ZUZuKXtpZigibXVsdGlwbGUiPT09bmFtZSYmInNlbGVjdCI9PT1ub2RlTmFtZV8obm9kZSkpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInNlbG11bHRpIiwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9IixzdGFydGluZ1RhZyhub2RlKSk7ZGlyZWN0aXZlcy5wdXNoKHtwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgJCRvYnNlcnZlcnM9YXR0ci4kJG9ic2VydmVyc3x8KGF0dHIuJCRvYnNlcnZlcnM9e30pO2lmKEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAudGVzdChuYW1lKSl0aHJvdyAkY29tcGlsZU1pbkVycigibm9kb21ldmVudHMiLCJJbnRlcnBvbGF0aW9ucyBmb3IgSFRNTCBET00gZXZlbnQgYXR0cmlidXRlcyBhcmUgZGlzYWxsb3dlZC4gIFBsZWFzZSB1c2UgdGhlIG5nLSB2ZXJzaW9ucyAoc3VjaCBhcyBuZy1jbGljayBpbnN0ZWFkIG9mIG9uY2xpY2spIGluc3RlYWQuIik7YXR0cltuYW1lXSYmKGludGVycG9sYXRlRm49JGludGVycG9sYXRlKGF0dHJbbmFtZV0sITAsZ2V0VHJ1c3RlZENvbnRleHQobm9kZSxuYW1lKSxBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXXx8YWxsT3JOb3RoaW5nKSxpbnRlcnBvbGF0ZUZuJiYoYXR0cltuYW1lXT1pbnRlcnBvbGF0ZUZuKHNjb3BlKSwoJCRvYnNlcnZlcnNbbmFtZV18fCgkJG9ic2VydmVyc1tuYW1lXT1bXSkpLiQkaW50ZXI9ITAsKGF0dHIuJCRvYnNlcnZlcnMmJmF0dHIuJCRvYnNlcnZlcnNbbmFtZV0uJCRzY29wZXx8c2NvcGUpLiR3YXRjaChpbnRlcnBvbGF0ZUZuLGZ1bmN0aW9uKG5ld1ZhbHVlLG9sZFZhbHVlKXsiY2xhc3MiPT09bmFtZSYmbmV3VmFsdWUhPW9sZFZhbHVlP2F0dHIuJHVwZGF0ZUNsYXNzKG5ld1ZhbHVlLG9sZFZhbHVlKTphdHRyLiRzZXQobmFtZSxuZXdWYWx1ZSl9KSkpfX19fSl9fWZ1bmN0aW9uIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCxlbGVtZW50c1RvUmVtb3ZlLG5ld05vZGUpe3ZhciBpLGlpLGZpcnN0RWxlbWVudFRvUmVtb3ZlPWVsZW1lbnRzVG9SZW1vdmVbMF0scmVtb3ZlQ291bnQ9ZWxlbWVudHNUb1JlbW92ZS5sZW5ndGgscGFyZW50PWZpcnN0RWxlbWVudFRvUmVtb3ZlLnBhcmVudE5vZGU7aWYoJHJvb3RFbGVtZW50KWZvcihpPTAsaWk9JHJvb3RFbGVtZW50Lmxlbmd0aDtpaT5pO2krKylpZigkcm9vdEVsZW1lbnRbaV09PWZpcnN0RWxlbWVudFRvUmVtb3ZlKXskcm9vdEVsZW1lbnRbaSsrXT1uZXdOb2RlO2Zvcih2YXIgaj1pLGoyPWorcmVtb3ZlQ291bnQtMSxqaj0kcm9vdEVsZW1lbnQubGVuZ3RoO2pqPmo7aisrLGoyKyspamo+ajI/JHJvb3RFbGVtZW50W2pdPSRyb290RWxlbWVudFtqMl06ZGVsZXRlICRyb290RWxlbWVudFtqXTskcm9vdEVsZW1lbnQubGVuZ3RoLT1yZW1vdmVDb3VudC0xLCRyb290RWxlbWVudC5jb250ZXh0PT09Zmlyc3RFbGVtZW50VG9SZW1vdmUmJigkcm9vdEVsZW1lbnQuY29udGV4dD1uZXdOb2RlKTticmVha31wYXJlbnQmJnBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSxmaXJzdEVsZW1lbnRUb1JlbW92ZSk7dmFyIGZyYWdtZW50PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmcmFnbWVudC5hcHBlbmRDaGlsZChmaXJzdEVsZW1lbnRUb1JlbW92ZSksanFMaXRlKG5ld05vZGUpLmRhdGEoanFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5kYXRhKCkpLGpRdWVyeT8oc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGE9ITAsalF1ZXJ5LmNsZWFuRGF0YShbZmlyc3RFbGVtZW50VG9SZW1vdmVdKSk6ZGVsZXRlIGpxTGl0ZS5jYWNoZVtmaXJzdEVsZW1lbnRUb1JlbW92ZVtqcUxpdGUuZXhwYW5kb11dO2Zvcih2YXIgaz0xLGtrPWVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoO2trPms7aysrKXt2YXIgZWxlbWVudD1lbGVtZW50c1RvUmVtb3ZlW2tdO2pxTGl0ZShlbGVtZW50KS5yZW1vdmUoKSxmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KSxkZWxldGUgZWxlbWVudHNUb1JlbW92ZVtrXX1lbGVtZW50c1RvUmVtb3ZlWzBdPW5ld05vZGUsZWxlbWVudHNUb1JlbW92ZS5sZW5ndGg9MX1mdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sYW5ub3RhdGlvbil7cmV0dXJuIGV4dGVuZChmdW5jdGlvbigpe3JldHVybiBmbi5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZuLGFubm90YXRpb24pfWZ1bmN0aW9uIGludm9rZUxpbmtGbihsaW5rRm4sc2NvcGUsJGVsZW1lbnQsYXR0cnMsY29udHJvbGxlcnMsdHJhbnNjbHVkZUZuKXt0cnl7bGlua0ZuKHNjb3BlLCRlbGVtZW50LGF0dHJzLGNvbnRyb2xsZXJzLHRyYW5zY2x1ZGVGbil9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSxzdGFydGluZ1RhZygkZWxlbWVudCkpfX12YXIgQXR0cmlidXRlcz1mdW5jdGlvbihlbGVtZW50LGF0dHJpYnV0ZXNUb0NvcHkpe2lmKGF0dHJpYnV0ZXNUb0NvcHkpe3ZhciBpLGwsa2V5LGtleXM9T2JqZWN0LmtleXMoYXR0cmlidXRlc1RvQ29weSk7Zm9yKGk9MCxsPWtleXMubGVuZ3RoO2w+aTtpKyspa2V5PWtleXNbaV0sdGhpc1trZXldPWF0dHJpYnV0ZXNUb0NvcHlba2V5XX1lbHNlIHRoaXMuJGF0dHI9e307dGhpcy4kJGVsZW1lbnQ9ZWxlbWVudH07QXR0cmlidXRlcy5wcm90b3R5cGU9eyRub3JtYWxpemU6ZGlyZWN0aXZlTm9ybWFsaXplLCRhZGRDbGFzczpmdW5jdGlvbihjbGFzc1ZhbCl7Y2xhc3NWYWwmJmNsYXNzVmFsLmxlbmd0aD4wJiYkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxjbGFzc1ZhbCl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihjbGFzc1ZhbCl7Y2xhc3NWYWwmJmNsYXNzVmFsLmxlbmd0aD4wJiYkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxjbGFzc1ZhbCl9LCR1cGRhdGVDbGFzczpmdW5jdGlvbihuZXdDbGFzc2VzLG9sZENsYXNzZXMpe3ZhciB0b0FkZD10b2tlbkRpZmZlcmVuY2UobmV3Q2xhc3NlcyxvbGRDbGFzc2VzKTt0b0FkZCYmdG9BZGQubGVuZ3RoJiYkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCx0b0FkZCk7dmFyIHRvUmVtb3ZlPXRva2VuRGlmZmVyZW5jZShvbGRDbGFzc2VzLG5ld0NsYXNzZXMpO3RvUmVtb3ZlJiZ0b1JlbW92ZS5sZW5ndGgmJiRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LHRvUmVtb3ZlKX0sJHNldDpmdW5jdGlvbihrZXksdmFsdWUsd3JpdGVBdHRyLGF0dHJOYW1lKXt2YXIgbm9kZU5hbWUsbm9kZT10aGlzLiQkZWxlbWVudFswXSxib29sZWFuS2V5PWdldEJvb2xlYW5BdHRyTmFtZShub2RlLGtleSksYWxpYXNlZEtleT1nZXRBbGlhc2VkQXR0ck5hbWUobm9kZSxrZXkpLG9ic2VydmVyPWtleTtpZihib29sZWFuS2V5Pyh0aGlzLiQkZWxlbWVudC5wcm9wKGtleSx2YWx1ZSksYXR0ck5hbWU9Ym9vbGVhbktleSk6YWxpYXNlZEtleSYmKHRoaXNbYWxpYXNlZEtleV09dmFsdWUsb2JzZXJ2ZXI9YWxpYXNlZEtleSksdGhpc1trZXldPXZhbHVlLGF0dHJOYW1lP3RoaXMuJGF0dHJba2V5XT1hdHRyTmFtZTooYXR0ck5hbWU9dGhpcy4kYXR0cltrZXldLGF0dHJOYW1lfHwodGhpcy4kYXR0cltrZXldPWF0dHJOYW1lPXNuYWtlX2Nhc2Uoa2V5LCItIikpKSxub2RlTmFtZT1ub2RlTmFtZV8odGhpcy4kJGVsZW1lbnQpLCJhIj09PW5vZGVOYW1lJiYiaHJlZiI9PT1rZXl8fCJpbWciPT09bm9kZU5hbWUmJiJzcmMiPT09a2V5KXRoaXNba2V5XT12YWx1ZT0kJHNhbml0aXplVXJpKHZhbHVlLCJzcmMiPT09a2V5KTtlbHNlIGlmKCJpbWciPT09bm9kZU5hbWUmJiJzcmNzZXQiPT09a2V5KXtmb3IodmFyIHJlc3VsdD0iIix0cmltbWVkU3Jjc2V0PXRyaW0odmFsdWUpLHNyY1BhdHRlcm49LyhccytcZCt4XHMqLHxccytcZCt3XHMqLHxccyssfCxccyspLyxwYXR0ZXJuPS9ccy8udGVzdCh0cmltbWVkU3Jjc2V0KT9zcmNQYXR0ZXJuOi8oLCkvLHJhd1VyaXM9dHJpbW1lZFNyY3NldC5zcGxpdChwYXR0ZXJuKSxuYnJVcmlzV2l0aDJwYXJ0cz1NYXRoLmZsb29yKHJhd1VyaXMubGVuZ3RoLzIpLGk9MDtuYnJVcmlzV2l0aDJwYXJ0cz5pO2krKyl7dmFyIGlubmVySWR4PTIqaTtyZXN1bHQrPSQkc2FuaXRpemVVcmkodHJpbShyYXdVcmlzW2lubmVySWR4XSksITApLHJlc3VsdCs9IiAiK3RyaW0ocmF3VXJpc1tpbm5lcklkeCsxXSl9dmFyIGxhc3RUdXBsZT10cmltKHJhd1VyaXNbMippXSkuc3BsaXQoL1xzLyk7cmVzdWx0Kz0kJHNhbml0aXplVXJpKHRyaW0obGFzdFR1cGxlWzBdKSwhMCksMj09PWxhc3RUdXBsZS5sZW5ndGgmJihyZXN1bHQrPSIgIit0cmltKGxhc3RUdXBsZVsxXSkpLHRoaXNba2V5XT12YWx1ZT1yZXN1bHR9d3JpdGVBdHRyIT09ITEmJihudWxsPT09dmFsdWV8fHZhbHVlPT09dW5kZWZpbmVkP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpOnRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsdmFsdWUpKTt2YXIgJCRvYnNlcnZlcnM9dGhpcy4kJG9ic2VydmVyczskJG9ic2VydmVycyYmZm9yRWFjaCgkJG9ic2VydmVyc1tvYnNlcnZlcl0sZnVuY3Rpb24oZm4pe3RyeXtmbih2YWx1ZSl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSl9LCRvYnNlcnZlOmZ1bmN0aW9uKGtleSxmbil7dmFyIGF0dHJzPXRoaXMsJCRvYnNlcnZlcnM9YXR0cnMuJCRvYnNlcnZlcnN8fChhdHRycy4kJG9ic2VydmVycz1jcmVhdGVNYXAoKSksbGlzdGVuZXJzPSQkb2JzZXJ2ZXJzW2tleV18fCgkJG9ic2VydmVyc1trZXldPVtdKTtyZXR1cm4gbGlzdGVuZXJzLnB1c2goZm4pLCRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpe2xpc3RlbmVycy4kJGludGVyfHxmbihhdHRyc1trZXldKX0pLGZ1bmN0aW9uKCl7YXJyYXlSZW1vdmUobGlzdGVuZXJzLGZuKX19fTt2YXIgc3RhcnRTeW1ib2w9JGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksZW5kU3ltYm9sPSRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxkZW5vcm1hbGl6ZVRlbXBsYXRlPSJ7eyI9PXN0YXJ0U3ltYm9sfHwifX0iPT1lbmRTeW1ib2w/aWRlbnRpdHk6ZnVuY3Rpb24odGVtcGxhdGUpe3JldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9ce1x7L2csc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csZW5kU3ltYm9sKX0sTkdfQVRUUl9CSU5ESU5HPS9ebmdBdHRyW0EtWl0vO3JldHVybiBjb21waWxlLiQkYWRkQmluZGluZ0luZm89ZGVidWdJbmZvRW5hYmxlZD9mdW5jdGlvbigkZWxlbWVudCxiaW5kaW5nKXt2YXIgYmluZGluZ3M9JGVsZW1lbnQuZGF0YSgiJGJpbmRpbmciKXx8W107aXNBcnJheShiaW5kaW5nKT9iaW5kaW5ncz1iaW5kaW5ncy5jb25jYXQoYmluZGluZyk6YmluZGluZ3MucHVzaChiaW5kaW5nKSwkZWxlbWVudC5kYXRhKCIkYmluZGluZyIsYmluZGluZ3MpfTpub29wLGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3M9ZGVidWdJbmZvRW5hYmxlZD9mdW5jdGlvbigkZWxlbWVudCl7c2FmZUFkZENsYXNzKCRlbGVtZW50LCJuZy1iaW5kaW5nIil9Om5vb3AsY29tcGlsZS4kJGFkZFNjb3BlSW5mbz1kZWJ1Z0luZm9FbmFibGVkP2Z1bmN0aW9uKCRlbGVtZW50LHNjb3BlLGlzb2xhdGVkLG5vVGVtcGxhdGUpe3ZhciBkYXRhTmFtZT1pc29sYXRlZD9ub1RlbXBsYXRlPyIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZSI6IiRpc29sYXRlU2NvcGUiOiIkc2NvcGUiOyRlbGVtZW50LmRhdGEoZGF0YU5hbWUsc2NvcGUpfTpub29wLGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzPWRlYnVnSW5mb0VuYWJsZWQ/ZnVuY3Rpb24oJGVsZW1lbnQsaXNvbGF0ZWQpe3NhZmVBZGRDbGFzcygkZWxlbWVudCxpc29sYXRlZD8ibmctaXNvbGF0ZS1zY29wZSI6Im5nLXNjb3BlIil9Om5vb3AsY29tcGlsZX1dfWZ1bmN0aW9uIGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKXtyZXR1cm4gY2FtZWxDYXNlKG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCIiKSl9ZnVuY3Rpb24gdG9rZW5EaWZmZXJlbmNlKHN0cjEsc3RyMil7dmFyIHZhbHVlcz0iIix0b2tlbnMxPXN0cjEuc3BsaXQoL1xzKy8pLHRva2VuczI9c3RyMi5zcGxpdCgvXHMrLyk7b3V0ZXI6Zm9yKHZhciBpPTA7aTx0b2tlbnMxLmxlbmd0aDtpKyspe2Zvcih2YXIgdG9rZW49dG9rZW5zMVtpXSxqPTA7ajx0b2tlbnMyLmxlbmd0aDtqKyspaWYodG9rZW49PXRva2VuczJbal0pY29udGludWUgb3V0ZXI7dmFsdWVzKz0odmFsdWVzLmxlbmd0aD4wPyIgIjoiIikrdG9rZW59cmV0dXJuIHZhbHVlc31mdW5jdGlvbiByZW1vdmVDb21tZW50cyhqcU5vZGVzKXtqcU5vZGVzPWpxTGl0ZShqcU5vZGVzKTt2YXIgaT1qcU5vZGVzLmxlbmd0aDtpZigxPj1pKXJldHVybiBqcU5vZGVzO2Zvcig7aS0tOyl7dmFyIG5vZGU9anFOb2Rlc1tpXTtub2RlLm5vZGVUeXBlPT09Tk9ERV9UWVBFX0NPTU1FTlQmJnNwbGljZS5jYWxsKGpxTm9kZXMsaSwxKX1yZXR1cm4ganFOb2Rlc31mdW5jdGlvbiAkQ29udHJvbGxlclByb3ZpZGVyKCl7dmFyIGNvbnRyb2xsZXJzPXt9LGdsb2JhbHM9ITEsQ05UUkxfUkVHPS9eKFxTKykoXHMrYXNccysoXHcrKSk/JC87dGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihuYW1lLGNvbnN0cnVjdG9yKXthc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCJjb250cm9sbGVyIiksaXNPYmplY3QobmFtZSk/ZXh0ZW5kKGNvbnRyb2xsZXJzLG5hbWUpOmNvbnRyb2xsZXJzW25hbWVdPWNvbnN0cnVjdG9yfSx0aGlzLmFsbG93R2xvYmFscz1mdW5jdGlvbigpe2dsb2JhbHM9ITB9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsIiR3aW5kb3ciLGZ1bmN0aW9uKCRpbmplY3Rvciwkd2luZG93KXtmdW5jdGlvbiBhZGRJZGVudGlmaWVyKGxvY2FscyxpZGVudGlmaWVyLGluc3RhbmNlLG5hbWUpe2lmKCFsb2NhbHN8fCFpc09iamVjdChsb2NhbHMuJHNjb3BlKSl0aHJvdyBtaW5FcnIoIiRjb250cm9sbGVyIikoIm5vc2NwIiwiQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyICd7MH0nIGFzICd7MX0nISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC4iLG5hbWUsaWRlbnRpZmllcik7bG9jYWxzLiRzY29wZVtpZGVudGlmaWVyXT1pbnN0YW5jZX1yZXR1cm4gZnVuY3Rpb24oZXhwcmVzc2lvbixsb2NhbHMsbGF0ZXIsaWRlbnQpe3ZhciBpbnN0YW5jZSxtYXRjaCxjb25zdHJ1Y3RvcixpZGVudGlmaWVyO2lmKGxhdGVyPWxhdGVyPT09ITAsaWRlbnQmJmlzU3RyaW5nKGlkZW50KSYmKGlkZW50aWZpZXI9aWRlbnQpLGlzU3RyaW5nKGV4cHJlc3Npb24pJiYobWF0Y2g9ZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpLGNvbnN0cnVjdG9yPW1hdGNoWzFdLGlkZW50aWZpZXI9aWRlbnRpZmllcnx8bWF0Y2hbM10sZXhwcmVzc2lvbj1jb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3Rvcik/Y29udHJvbGxlcnNbY29uc3RydWN0b3JdOmdldHRlcihsb2NhbHMuJHNjb3BlLGNvbnN0cnVjdG9yLCEwKXx8KGdsb2JhbHM/Z2V0dGVyKCR3aW5kb3csY29uc3RydWN0b3IsITApOnVuZGVmaW5lZCksYXNzZXJ0QXJnRm4oZXhwcmVzc2lvbixjb25zdHJ1Y3RvciwhMCkpLGxhdGVyKXt2YXIgQ29uc3RydWN0b3I9ZnVuY3Rpb24oKXt9O3JldHVybiBDb25zdHJ1Y3Rvci5wcm90b3R5cGU9KGlzQXJyYXkoZXhwcmVzc2lvbik/ZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aC0xXTpleHByZXNzaW9uKS5wcm90b3R5cGUsaW5zdGFuY2U9bmV3IENvbnN0cnVjdG9yLGlkZW50aWZpZXImJmFkZElkZW50aWZpZXIobG9jYWxzLGlkZW50aWZpZXIsaW5zdGFuY2UsY29uc3RydWN0b3J8fGV4cHJlc3Npb24ubmFtZSksZXh0ZW5kKGZ1bmN0aW9uKCl7cmV0dXJuICRpbmplY3Rvci5pbnZva2UoZXhwcmVzc2lvbixpbnN0YW5jZSxsb2NhbHMsY29uc3RydWN0b3IpLGluc3RhbmNlfSx7aW5zdGFuY2U6aW5zdGFuY2UsaWRlbnRpZmllcjppZGVudGlmaWVyfSl9cmV0dXJuIGluc3RhbmNlPSRpbmplY3Rvci5pbnN0YW50aWF0ZShleHByZXNzaW9uLGxvY2Fscyxjb25zdHJ1Y3RvciksaWRlbnRpZmllciYmYWRkSWRlbnRpZmllcihsb2NhbHMsaWRlbnRpZmllcixpbnN0YW5jZSxjb25zdHJ1Y3Rvcnx8ZXhwcmVzc2lvbi5uYW1lKSxpbnN0YW5jZX19XX1mdW5jdGlvbiAkRG9jdW1lbnRQcm92aWRlcigpe3RoaXMuJGdldD1bIiR3aW5kb3ciLGZ1bmN0aW9uKHdpbmRvdyl7cmV0dXJuIGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQpfV19ZnVuY3Rpb24gJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcigpe3RoaXMuJGdldD1bIiRsb2ciLGZ1bmN0aW9uKCRsb2cpe3JldHVybiBmdW5jdGlvbigpeyRsb2cuZXJyb3IuYXBwbHkoJGxvZyxhcmd1bWVudHMpfX1dfWZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKXt2YXIga2V5LHZhbCxpLHBhcnNlZD17fTtyZXR1cm4gaGVhZGVycz8oZm9yRWFjaChoZWFkZXJzLnNwbGl0KCJcbiIpLGZ1bmN0aW9uKGxpbmUpe2k9bGluZS5pbmRleE9mKCI6Iiksa2V5PWxvd2VyY2FzZSh0cmltKGxpbmUuc3Vic3RyKDAsaSkpKSx2YWw9dHJpbShsaW5lLnN1YnN0cihpKzEpKSxrZXkmJihwYXJzZWRba2V5XT1wYXJzZWRba2V5XT9wYXJzZWRba2V5XSsiLCAiK3ZhbDp2YWwpfSkscGFyc2VkKTpwYXJzZWR9ZnVuY3Rpb24gaGVhZGVyc0dldHRlcihoZWFkZXJzKXt2YXIgaGVhZGVyc09iaj1pc09iamVjdChoZWFkZXJzKT9oZWFkZXJzOnVuZGVmaW5lZDtyZXR1cm4gZnVuY3Rpb24obmFtZSl7cmV0dXJuIGhlYWRlcnNPYmp8fChoZWFkZXJzT2JqPXBhcnNlSGVhZGVycyhoZWFkZXJzKSksbmFtZT9oZWFkZXJzT2JqW2xvd2VyY2FzZShuYW1lKV18fG51bGw6aGVhZGVyc09ian19ZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLGhlYWRlcnMsZm5zKXtyZXR1cm4gaXNGdW5jdGlvbihmbnMpP2ZucyhkYXRhLGhlYWRlcnMpOihmb3JFYWNoKGZucyxmdW5jdGlvbihmbil7ZGF0YT1mbihkYXRhLGhlYWRlcnMpfSksZGF0YSl9ZnVuY3Rpb24gaXNTdWNjZXNzKHN0YXR1cyl7cmV0dXJuIHN0YXR1cz49MjAwJiYzMDA+c3RhdHVzfWZ1bmN0aW9uICRIdHRwUHJvdmlkZXIoKXt2YXIgSlNPTl9TVEFSVD0vXlxzKihcW3xce1teXHtdKS8sSlNPTl9FTkQ9L1tcfVxdXVxzKiQvLFBST1RFQ1RJT05fUFJFRklYPS9eXClcXVx9Jyw/XG4vLEFQUExJQ0FUSU9OX0pTT049ImFwcGxpY2F0aW9uL2pzb24iLENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OPXsiQ29udGVudC1UeXBlIjpBUFBMSUNBVElPTl9KU09OKyI7Y2hhcnNldD11dGYtOCJ9LGRlZmF1bHRzPXRoaXMuZGVmYXVsdHM9e3RyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihkYXRhLGhlYWRlcnMpe2lmKGlzU3RyaW5nKGRhdGEpKXtkYXRhPWRhdGEucmVwbGFjZShQUk9URUNUSU9OX1BSRUZJWCwiIik7dmFyIGNvbnRlbnRUeXBlPWhlYWRlcnMoIkNvbnRlbnQtVHlwZSIpOyhjb250ZW50VHlwZSYmMD09PWNvbnRlbnRUeXBlLmluZGV4T2YoQVBQTElDQVRJT05fSlNPTil8fEpTT05fU1RBUlQudGVzdChkYXRhKSYmSlNPTl9FTkQudGVzdChkYXRhKSkmJihkYXRhPWZyb21Kc29uKGRhdGEpKX1yZXR1cm4gZGF0YX1dLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uKGQpe3JldHVybiFpc09iamVjdChkKXx8aXNGaWxlKGQpfHxpc0Jsb2IoZCk/ZDp0b0pzb24oZCl9XSxoZWFkZXJzOntjb21tb246e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIn0scG9zdDpzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTikscHV0OnNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxwYXRjaDpzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTil9LHhzcmZDb29raWVOYW1lOiJYU1JGLVRPS0VOIix4c3JmSGVhZGVyTmFtZToiWC1YU1JGLVRPS0VOIn0sdXNlQXBwbHlBc3luYz0hMTt0aGlzLnVzZUFwcGx5QXN5bmM9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc0RlZmluZWQodmFsdWUpPyh1c2VBcHBseUFzeW5jPSEhdmFsdWUsdGhpcyk6dXNlQXBwbHlBc3luY307dmFyIGludGVyY2VwdG9yRmFjdG9yaWVzPXRoaXMuaW50ZXJjZXB0b3JzPVtdO3RoaXMuJGdldD1bIiRodHRwQmFja2VuZCIsIiRicm93c2VyIiwiJGNhY2hlRmFjdG9yeSIsIiRyb290U2NvcGUiLCIkcSIsIiRpbmplY3RvciIsZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCRicm93c2VyLCRjYWNoZUZhY3RvcnksJHJvb3RTY29wZSwkcSwkaW5qZWN0b3Ipe2Z1bmN0aW9uICRodHRwKHJlcXVlc3RDb25maWcpe2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKHJlc3BvbnNlKXt2YXIgcmVzcD1leHRlbmQoe30scmVzcG9uc2UpO3JldHVybiByZXNwLmRhdGE9cmVzcG9uc2UuZGF0YT90cmFuc2Zvcm1EYXRhKHJlc3BvbnNlLmRhdGEscmVzcG9uc2UuaGVhZGVycyxjb25maWcudHJhbnNmb3JtUmVzcG9uc2UpOnJlc3BvbnNlLmRhdGEsaXNTdWNjZXNzKHJlc3BvbnNlLnN0YXR1cyk/cmVzcDokcS5yZWplY3QocmVzcCl9ZnVuY3Rpb24gbWVyZ2VIZWFkZXJzKGNvbmZpZyl7ZnVuY3Rpb24gZXhlY0hlYWRlcnMoaGVhZGVycyl7dmFyIGhlYWRlckNvbnRlbnQ7Zm9yRWFjaChoZWFkZXJzLGZ1bmN0aW9uKGhlYWRlckZuLGhlYWRlcil7aXNGdW5jdGlvbihoZWFkZXJGbikmJihoZWFkZXJDb250ZW50PWhlYWRlckZuKCksbnVsbCE9aGVhZGVyQ29udGVudD9oZWFkZXJzW2hlYWRlcl09aGVhZGVyQ29udGVudDpkZWxldGUgaGVhZGVyc1toZWFkZXJdKX0pfXZhciBkZWZIZWFkZXJOYW1lLGxvd2VyY2FzZURlZkhlYWRlck5hbWUscmVxSGVhZGVyTmFtZSxkZWZIZWFkZXJzPWRlZmF1bHRzLmhlYWRlcnMscmVxSGVhZGVycz1leHRlbmQoe30sY29uZmlnLmhlYWRlcnMpO2RlZkhlYWRlcnM9ZXh0ZW5kKHt9LGRlZkhlYWRlcnMuY29tbW9uLGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7ZGVmYXVsdEhlYWRlcnNJdGVyYXRpb246Zm9yKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycyl7bG93ZXJjYXNlRGVmSGVhZGVyTmFtZT1sb3dlcmNhc2UoZGVmSGVhZGVyTmFtZSk7Zm9yKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycylpZihsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSk9PT1sb3dlcmNhc2VEZWZIZWFkZXJOYW1lKWNvbnRpbnVlIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uO3JlcUhlYWRlcnNbZGVmSGVhZGVyTmFtZV09ZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXX1yZXR1cm4gZXhlY0hlYWRlcnMocmVxSGVhZGVycykscmVxSGVhZGVyc312YXIgY29uZmlnPXttZXRob2Q6ImdldCIsdHJhbnNmb3JtUmVxdWVzdDpkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LHRyYW5zZm9ybVJlc3BvbnNlOmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlfSxoZWFkZXJzPW1lcmdlSGVhZGVycyhyZXF1ZXN0Q29uZmlnKTtleHRlbmQoY29uZmlnLHJlcXVlc3RDb25maWcpLGNvbmZpZy5oZWFkZXJzPWhlYWRlcnMsY29uZmlnLm1ldGhvZD11cHBlcmNhc2UoY29uZmlnLm1ldGhvZCk7dmFyIHNlcnZlclJlcXVlc3Q9ZnVuY3Rpb24oY29uZmlnKXtoZWFkZXJzPWNvbmZpZy5oZWFkZXJzO3ZhciByZXFEYXRhPXRyYW5zZm9ybURhdGEoY29uZmlnLmRhdGEsaGVhZGVyc0dldHRlcihoZWFkZXJzKSxjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7cmV0dXJuIGlzVW5kZWZpbmVkKHJlcURhdGEpJiZmb3JFYWNoKGhlYWRlcnMsZnVuY3Rpb24odmFsdWUsaGVhZGVyKXsiY29udGVudC10eXBlIj09PWxvd2VyY2FzZShoZWFkZXIpJiZkZWxldGUgaGVhZGVyc1toZWFkZXJdfSksaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykmJiFpc1VuZGVmaW5lZChkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMpJiYoY29uZmlnLndpdGhDcmVkZW50aWFscz1kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMpLHNlbmRSZXEoY29uZmlnLHJlcURhdGEsaGVhZGVycykudGhlbih0cmFuc2Zvcm1SZXNwb25zZSx0cmFuc2Zvcm1SZXNwb25zZSl9LGNoYWluPVtzZXJ2ZXJSZXF1ZXN0LHVuZGVmaW5lZF0scHJvbWlzZT0kcS53aGVuKGNvbmZpZyk7Zm9yKGZvckVhY2gocmV2ZXJzZWRJbnRlcmNlcHRvcnMsZnVuY3Rpb24oaW50ZXJjZXB0b3IpeyhpbnRlcmNlcHRvci5yZXF1ZXN0fHxpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpJiZjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSwoaW50ZXJjZXB0b3IucmVzcG9uc2V8fGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpJiZjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpfSk7Y2hhaW4ubGVuZ3RoOyl7dmFyIHRoZW5Gbj1jaGFpbi5zaGlmdCgpLHJlamVjdEZuPWNoYWluLnNoaWZ0KCk7cHJvbWlzZT1wcm9taXNlLnRoZW4odGhlbkZuLHJlamVjdEZuKX1yZXR1cm4gcHJvbWlzZS5zdWNjZXNzPWZ1bmN0aW9uKGZuKXtyZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtmbihyZXNwb25zZS5kYXRhLHJlc3BvbnNlLnN0YXR1cyxyZXNwb25zZS5oZWFkZXJzLGNvbmZpZyl9KSxwcm9taXNlfSxwcm9taXNlLmVycm9yPWZ1bmN0aW9uKGZuKXtyZXR1cm4gcHJvbWlzZS50aGVuKG51bGwsZnVuY3Rpb24ocmVzcG9uc2Upe2ZuKHJlc3BvbnNlLmRhdGEscmVzcG9uc2Uuc3RhdHVzLHJlc3BvbnNlLmhlYWRlcnMsY29uZmlnKX0pLHByb21pc2V9LHByb21pc2V9ZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKCl7Zm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24obmFtZSl7JGh0dHBbbmFtZV09ZnVuY3Rpb24odXJsLGNvbmZpZyl7cmV0dXJuICRodHRwKGV4dGVuZChjb25maWd8fHt9LHttZXRob2Q6bmFtZSx1cmw6dXJsfSkpfX0pfWZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKCl7Zm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24obmFtZSl7JGh0dHBbbmFtZV09ZnVuY3Rpb24odXJsLGRhdGEsY29uZmlnKXtyZXR1cm4gJGh0dHAoZXh0ZW5kKGNvbmZpZ3x8e30se21ldGhvZDpuYW1lLHVybDp1cmwsZGF0YTpkYXRhfSkpfX0pfWZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLHJlcURhdGEscmVxSGVhZGVycyl7ZnVuY3Rpb24gZG9uZShzdGF0dXMscmVzcG9uc2UsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KXtmdW5jdGlvbiByZXNvbHZlSHR0cFByb21pc2UoKXtyZXNvbHZlUHJvbWlzZShyZXNwb25zZSxzdGF0dXMsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KX1jYWNoZSYmKGlzU3VjY2VzcyhzdGF0dXMpP2NhY2hlLnB1dCh1cmwsW3N0YXR1cyxyZXNwb25zZSxwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksc3RhdHVzVGV4dF0pOmNhY2hlLnJlbW92ZSh1cmwpKSx1c2VBcHBseUFzeW5jPyRyb290U2NvcGUuJGFwcGx5QXN5bmMocmVzb2x2ZUh0dHBQcm9taXNlKToocmVzb2x2ZUh0dHBQcm9taXNlKCksJHJvb3RTY29wZS4kJHBoYXNlfHwkcm9vdFNjb3BlLiRhcHBseSgpKX1mdW5jdGlvbiByZXNvbHZlUHJvbWlzZShyZXNwb25zZSxzdGF0dXMsaGVhZGVycyxzdGF0dXNUZXh0KXtzdGF0dXM9TWF0aC5tYXgoc3RhdHVzLDApLChpc1N1Y2Nlc3Moc3RhdHVzKT9kZWZlcnJlZC5yZXNvbHZlOmRlZmVycmVkLnJlamVjdCkoe2RhdGE6cmVzcG9uc2Usc3RhdHVzOnN0YXR1cyxoZWFkZXJzOmhlYWRlcnNHZXR0ZXIoaGVhZGVycyksY29uZmlnOmNvbmZpZyxzdGF0dXNUZXh0OnN0YXR1c1RleHR9KX1mdW5jdGlvbiByZW1vdmVQZW5kaW5nUmVxKCl7dmFyIGlkeD0kaHR0cC5wZW5kaW5nUmVxdWVzdHMuaW5kZXhPZihjb25maWcpOy0xIT09aWR4JiYkaHR0cC5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGlkeCwxKX12YXIgY2FjaGUsY2FjaGVkUmVzcCxkZWZlcnJlZD0kcS5kZWZlcigpLHByb21pc2U9ZGVmZXJyZWQucHJvbWlzZSx1cmw9YnVpbGRVcmwoY29uZmlnLnVybCxjb25maWcucGFyYW1zKTtpZigkaHR0cC5wZW5kaW5nUmVxdWVzdHMucHVzaChjb25maWcpLHByb21pc2UudGhlbihyZW1vdmVQZW5kaW5nUmVxLHJlbW92ZVBlbmRpbmdSZXEpLCFjb25maWcuY2FjaGUmJiFkZWZhdWx0cy5jYWNoZXx8Y29uZmlnLmNhY2hlPT09ITF8fCJHRVQiIT09Y29uZmlnLm1ldGhvZCYmIkpTT05QIiE9PWNvbmZpZy5tZXRob2R8fChjYWNoZT1pc09iamVjdChjb25maWcuY2FjaGUpP2NvbmZpZy5jYWNoZTppc09iamVjdChkZWZhdWx0cy5jYWNoZSk/ZGVmYXVsdHMuY2FjaGU6ZGVmYXVsdENhY2hlKSxjYWNoZSlpZihjYWNoZWRSZXNwPWNhY2hlLmdldCh1cmwpLGlzRGVmaW5lZChjYWNoZWRSZXNwKSl7aWYoaXNQcm9taXNlTGlrZShjYWNoZWRSZXNwKSlyZXR1cm4gY2FjaGVkUmVzcC50aGVuKHJlbW92ZVBlbmRpbmdSZXEscmVtb3ZlUGVuZGluZ1JlcSksY2FjaGVkUmVzcDtpc0FycmF5KGNhY2hlZFJlc3ApP3Jlc29sdmVQcm9taXNlKGNhY2hlZFJlc3BbMV0sY2FjaGVkUmVzcFswXSxzaGFsbG93Q29weShjYWNoZWRSZXNwWzJdKSxjYWNoZWRSZXNwWzNdKTpyZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwLDIwMCx7fSwiT0siKX1lbHNlIGNhY2hlLnB1dCh1cmwscHJvbWlzZSk7aWYoaXNVbmRlZmluZWQoY2FjaGVkUmVzcCkpe3ZhciB4c3JmVmFsdWU9dXJsSXNTYW1lT3JpZ2luKGNvbmZpZy51cmwpPyRicm93c2VyLmNvb2tpZXMoKVtjb25maWcueHNyZkNvb2tpZU5hbWV8fGRlZmF1bHRzLnhzcmZDb29raWVOYW1lXTp1bmRlZmluZWQ7eHNyZlZhbHVlJiYocmVxSGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWV8fGRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lXT14c3JmVmFsdWUpLCRodHRwQmFja2VuZChjb25maWcubWV0aG9kLHVybCxyZXFEYXRhLGRvbmUscmVxSGVhZGVycyxjb25maWcudGltZW91dCxjb25maWcud2l0aENyZWRlbnRpYWxzLGNvbmZpZy5yZXNwb25zZVR5cGUpfXJldHVybiBwcm9taXNlfWZ1bmN0aW9uIGJ1aWxkVXJsKHVybCxwYXJhbXMpe2lmKCFwYXJhbXMpcmV0dXJuIHVybDt2YXIgcGFydHM9W107cmV0dXJuIGZvckVhY2hTb3J0ZWQocGFyYW1zLGZ1bmN0aW9uKHZhbHVlLGtleSl7bnVsbD09PXZhbHVlfHxpc1VuZGVmaW5lZCh2YWx1ZSl8fChpc0FycmF5KHZhbHVlKXx8KHZhbHVlPVt2YWx1ZV0pLGZvckVhY2godmFsdWUsZnVuY3Rpb24odil7aXNPYmplY3QodikmJih2PWlzRGF0ZSh2KT92LnRvSVNPU3RyaW5nKCk6dG9Kc29uKHYpKSxwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSkrIj0iK2VuY29kZVVyaVF1ZXJ5KHYpKX0pKX0pLHBhcnRzLmxlbmd0aD4wJiYodXJsKz0oLTE9PXVybC5pbmRleE9mKCI/Iik/Ij8iOiImIikrcGFydHMuam9pbigiJiIpKSx1cmx9dmFyIGRlZmF1bHRDYWNoZT0kY2FjaGVGYWN0b3J5KCIkaHR0cCIpLHJldmVyc2VkSW50ZXJjZXB0b3JzPVtdO3JldHVybiBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLGZ1bmN0aW9uKGludGVyY2VwdG9yRmFjdG9yeSl7cmV2ZXJzZWRJbnRlcmNlcHRvcnMudW5zaGlmdChpc1N0cmluZyhpbnRlcmNlcHRvckZhY3RvcnkpPyRpbmplY3Rvci5nZXQoaW50ZXJjZXB0b3JGYWN0b3J5KTokaW5qZWN0b3IuaW52b2tlKGludGVyY2VwdG9yRmFjdG9yeSkpfSksJGh0dHAucGVuZGluZ1JlcXVlc3RzPVtdLGNyZWF0ZVNob3J0TWV0aG9kcygiZ2V0IiwiZGVsZXRlIiwiaGVhZCIsImpzb25wIiksY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEoInBvc3QiLCJwdXQiLCJwYXRjaCIpLCRodHRwLmRlZmF1bHRzPWRlZmF1bHRzLCRodHRwfV19ZnVuY3Rpb24gY3JlYXRlWGhyKCl7cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3R9ZnVuY3Rpb24gJEh0dHBCYWNrZW5kUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkYnJvd3NlciIsIiR3aW5kb3ciLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKCRicm93c2VyLCR3aW5kb3csJGRvY3VtZW50KXtyZXR1cm4gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsY3JlYXRlWGhyLCRicm93c2VyLmRlZmVyLCR3aW5kb3cuYW5ndWxhci5jYWxsYmFja3MsJGRvY3VtZW50WzBdKX1dfWZ1bmN0aW9uIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLGNyZWF0ZVhociwkYnJvd3NlckRlZmVyLGNhbGxiYWNrcyxyYXdEb2N1bWVudCl7ZnVuY3Rpb24ganNvbnBSZXEodXJsLGNhbGxiYWNrSWQsZG9uZSl7dmFyIHNjcmlwdD1yYXdEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxjYWxsYmFjaz1udWxsO3JldHVybiBzY3JpcHQudHlwZT0idGV4dC9qYXZhc2NyaXB0IixzY3JpcHQuc3JjPXVybCxzY3JpcHQuYXN5bmM9ITAsY2FsbGJhY2s9ZnVuY3Rpb24oZXZlbnQpe3JlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsImxvYWQiLGNhbGxiYWNrKSxyZW1vdmVFdmVudExpc3RlbmVyRm4oc2NyaXB0LCJlcnJvciIsY2FsbGJhY2spLHJhd0RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KSxzY3JpcHQ9bnVsbDt2YXIgc3RhdHVzPS0xLHRleHQ9InVua25vd24iO2V2ZW50JiYoImxvYWQiIT09ZXZlbnQudHlwZXx8Y2FsbGJhY2tzW2NhbGxiYWNrSWRdLmNhbGxlZHx8KGV2ZW50PXt0eXBlOiJlcnJvciJ9KSx0ZXh0PWV2ZW50LnR5cGUsc3RhdHVzPSJlcnJvciI9PT1ldmVudC50eXBlPzQwNDoyMDApLGRvbmUmJmRvbmUoc3RhdHVzLHRleHQpfSxhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCJsb2FkIixjYWxsYmFjayksYWRkRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwiZXJyb3IiLGNhbGxiYWNrKSxyYXdEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCksY2FsbGJhY2t9cmV0dXJuIGZ1bmN0aW9uKG1ldGhvZCx1cmwscG9zdCxjYWxsYmFjayxoZWFkZXJzLHRpbWVvdXQsd2l0aENyZWRlbnRpYWxzLHJlc3BvbnNlVHlwZSl7ZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKXtqc29ucERvbmUmJmpzb25wRG9uZSgpLHhociYmeGhyLmFib3J0KCl9ZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLHN0YXR1cyxyZXNwb25zZSxoZWFkZXJzU3RyaW5nLHN0YXR1c1RleHQpe3RpbWVvdXRJZCYmJGJyb3dzZXJEZWZlci5jYW5jZWwodGltZW91dElkKSxqc29ucERvbmU9eGhyPW51bGwsY2FsbGJhY2soc3RhdHVzLHJlc3BvbnNlLGhlYWRlcnNTdHJpbmcsc3RhdHVzVGV4dCksJGJyb3dzZXIuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKX1pZigkYnJvd3Nlci4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCksdXJsPXVybHx8JGJyb3dzZXIudXJsKCksImpzb25wIj09bG93ZXJjYXNlKG1ldGhvZCkpe3ZhciBjYWxsYmFja0lkPSJfIisoY2FsbGJhY2tzLmNvdW50ZXIrKykudG9TdHJpbmcoMzYpO2NhbGxiYWNrc1tjYWxsYmFja0lkXT1mdW5jdGlvbihkYXRhKXtjYWxsYmFja3NbY2FsbGJhY2tJZF0uZGF0YT1kYXRhLGNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQ9ITB9O3ZhciBqc29ucERvbmU9anNvbnBSZXEodXJsLnJlcGxhY2UoIkpTT05fQ0FMTEJBQ0siLCJhbmd1bGFyLmNhbGxiYWNrcy4iK2NhbGxiYWNrSWQpLGNhbGxiYWNrSWQsZnVuY3Rpb24oc3RhdHVzLHRleHQpe2NvbXBsZXRlUmVxdWVzdChjYWxsYmFjayxzdGF0dXMsY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGEsIiIsdGV4dCksY2FsbGJhY2tzW2NhbGxiYWNrSWRdPW5vb3B9KX1lbHNle3ZhciB4aHI9Y3JlYXRlWGhyKCk7eGhyLm9wZW4obWV0aG9kLHVybCwhMCksZm9yRWFjaChoZWFkZXJzLGZ1bmN0aW9uKHZhbHVlLGtleSl7aXNEZWZpbmVkKHZhbHVlKSYmeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LHZhbHVlKX0pLHhoci5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgc3RhdHVzVGV4dD14aHIuc3RhdHVzVGV4dHx8IiIscmVzcG9uc2U9InJlc3BvbnNlImluIHhocj94aHIucmVzcG9uc2U6eGhyLnJlc3BvbnNlVGV4dCxzdGF0dXM9MTIyMz09PXhoci5zdGF0dXM/MjA0Onhoci5zdGF0dXM7MD09PXN0YXR1cyYmKHN0YXR1cz1yZXNwb25zZT8yMDA6ImZpbGUiPT11cmxSZXNvbHZlKHVybCkucHJvdG9jb2w/NDA0OjApLGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjayxzdGF0dXMscmVzcG9uc2UseGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLHN0YXR1c1RleHQpfTt2YXIgcmVxdWVzdEVycm9yPWZ1bmN0aW9uKCl7Y29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLC0xLG51bGwsbnVsbCwiIil9O2lmKHhoci5vbmVycm9yPXJlcXVlc3RFcnJvcix4aHIub25hYm9ydD1yZXF1ZXN0RXJyb3Isd2l0aENyZWRlbnRpYWxzJiYoeGhyLndpdGhDcmVkZW50aWFscz0hMCkscmVzcG9uc2VUeXBlKXRyeXt4aHIucmVzcG9uc2VUeXBlPXJlc3BvbnNlVHlwZX1jYXRjaChlKXtpZigianNvbiIhPT1yZXNwb25zZVR5cGUpdGhyb3cgZX14aHIuc2VuZChwb3N0fHxudWxsKX1pZih0aW1lb3V0PjApdmFyIHRpbWVvdXRJZD0kYnJvd3NlckRlZmVyKHRpbWVvdXRSZXF1ZXN0LHRpbWVvdXQpO2Vsc2UgaXNQcm9taXNlTGlrZSh0aW1lb3V0KSYmdGltZW91dC50aGVuKHRpbWVvdXRSZXF1ZXN0KX19ZnVuY3Rpb24gJEludGVycG9sYXRlUHJvdmlkZXIoKXt2YXIgc3RhcnRTeW1ib2w9Int7IixlbmRTeW1ib2w9In19Ijt0aGlzLnN0YXJ0U3ltYm9sPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU/KHN0YXJ0U3ltYm9sPXZhbHVlLHRoaXMpOnN0YXJ0U3ltYm9sfSx0aGlzLmVuZFN5bWJvbD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlPyhlbmRTeW1ib2w9dmFsdWUsdGhpcyk6ZW5kU3ltYm9sfSx0aGlzLiRnZXQ9WyIkcGFyc2UiLCIkZXhjZXB0aW9uSGFuZGxlciIsIiRzY2UiLGZ1bmN0aW9uKCRwYXJzZSwkZXhjZXB0aW9uSGFuZGxlciwkc2NlKXtmdW5jdGlvbiBlc2NhcGUoY2gpe3JldHVybiJcXFxcXFwiK2NofWZ1bmN0aW9uICRpbnRlcnBvbGF0ZSh0ZXh0LG11c3RIYXZlRXhwcmVzc2lvbix0cnVzdGVkQ29udGV4dCxhbGxPck5vdGhpbmcpe2Z1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKGVzY2FwZWRTdGFydFJlZ2V4cCxzdGFydFN5bWJvbCkucmVwbGFjZShlc2NhcGVkRW5kUmVnZXhwLGVuZFN5bWJvbCl9ZnVuY3Rpb24gcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcih2YWx1ZSl7dHJ5e3JldHVybiBzdHJpbmdpZnkoZ2V0VmFsdWUodmFsdWUpKX1jYXRjaChlcnIpe3ZhciBuZXdFcnI9JGludGVycG9sYXRlTWluRXJyKCJpbnRlcnIiLCJDYW4ndCBpbnRlcnBvbGF0ZTogezB9XG57MX0iLHRleHQsZXJyLnRvU3RyaW5nKCkpOyRleGNlcHRpb25IYW5kbGVyKG5ld0Vycil9fWFsbE9yTm90aGluZz0hIWFsbE9yTm90aGluZztmb3IodmFyIHN0YXJ0SW5kZXgsZW5kSW5kZXgsZXhwLGluZGV4PTAsZXhwcmVzc2lvbnM9W10scGFyc2VGbnM9W10sdGV4dExlbmd0aD10ZXh0Lmxlbmd0aCxjb25jYXQ9W10sZXhwcmVzc2lvblBvc2l0aW9ucz1bXTt0ZXh0TGVuZ3RoPmluZGV4Oyl7aWYoLTE9PShzdGFydEluZGV4PXRleHQuaW5kZXhPZihzdGFydFN5bWJvbCxpbmRleCkpfHwtMT09KGVuZEluZGV4PXRleHQuaW5kZXhPZihlbmRTeW1ib2wsc3RhcnRJbmRleCtzdGFydFN5bWJvbExlbmd0aCkpKXtpbmRleCE9PXRleHRMZW5ndGgmJmNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCkpKTticmVha31pbmRleCE9PXN0YXJ0SW5kZXgmJmNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCxzdGFydEluZGV4KSkpLGV4cD10ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4K3N0YXJ0U3ltYm9sTGVuZ3RoLGVuZEluZGV4KSxleHByZXNzaW9ucy5wdXNoKGV4cCkscGFyc2VGbnMucHVzaCgkcGFyc2UoZXhwLHBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IpKSxpbmRleD1lbmRJbmRleCtlbmRTeW1ib2xMZW5ndGgsZXhwcmVzc2lvblBvc2l0aW9ucy5wdXNoKGNvbmNhdC5sZW5ndGgpLGNvbmNhdC5wdXNoKCIiKX1pZih0cnVzdGVkQ29udGV4dCYmY29uY2F0Lmxlbmd0aD4xKXRocm93ICRpbnRlcnBvbGF0ZU1pbkVycigibm9jb25jYXQiLCJFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cblN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRpc2FsbG93cyBpbnRlcnBvbGF0aW9ucyB0aGF0IGNvbmNhdGVuYXRlIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoZW4gYSB0cnVzdGVkIHZhbHVlIGlzIHJlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UiLHRleHQpO2lmKCFtdXN0SGF2ZUV4cHJlc3Npb258fGV4cHJlc3Npb25zLmxlbmd0aCl7dmFyIGNvbXB1dGU9ZnVuY3Rpb24odmFsdWVzKXtmb3IodmFyIGk9MCxpaT1leHByZXNzaW9ucy5sZW5ndGg7aWk+aTtpKyspe2lmKGFsbE9yTm90aGluZyYmaXNVbmRlZmluZWQodmFsdWVzW2ldKSlyZXR1cm47Y29uY2F0W2V4cHJlc3Npb25Qb3NpdGlvbnNbaV1dPXZhbHVlc1tpXX1yZXR1cm4gY29uY2F0LmpvaW4oIiIpfSxnZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHRydXN0ZWRDb250ZXh0PyRzY2UuZ2V0VHJ1c3RlZCh0cnVzdGVkQ29udGV4dCx2YWx1ZSk6JHNjZS52YWx1ZU9mKHZhbHVlKX0sc3RyaW5naWZ5PWZ1bmN0aW9uKHZhbHVlKXtpZihudWxsPT12YWx1ZSlyZXR1cm4iIjtzd2l0Y2godHlwZW9mIHZhbHVlKXtjYXNlInN0cmluZyI6YnJlYWs7Y2FzZSJudW1iZXIiOnZhbHVlPSIiK3ZhbHVlO2JyZWFrO2RlZmF1bHQ6dmFsdWU9dG9Kc29uKHZhbHVlKX1yZXR1cm4gdmFsdWV9O3JldHVybiBleHRlbmQoZnVuY3Rpb24oY29udGV4dCl7dmFyIGk9MCxpaT1leHByZXNzaW9ucy5sZW5ndGgsdmFsdWVzPW5ldyBBcnJheShpaSk7dHJ5e2Zvcig7aWk+aTtpKyspdmFsdWVzW2ldPXBhcnNlRm5zW2ldKGNvbnRleHQpO3JldHVybiBjb21wdXRlKHZhbHVlcyl9Y2F0Y2goZXJyKXt2YXIgbmV3RXJyPSRpbnRlcnBvbGF0ZU1pbkVycigiaW50ZXJyIiwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxuezF9Iix0ZXh0LGVyci50b1N0cmluZygpKTskZXhjZXB0aW9uSGFuZGxlcihuZXdFcnIpfX0se2V4cDp0ZXh0LGV4cHJlc3Npb25zOmV4cHJlc3Npb25zLCQkd2F0Y2hEZWxlZ2F0ZTpmdW5jdGlvbihzY29wZSxsaXN0ZW5lcixvYmplY3RFcXVhbGl0eSl7dmFyIGxhc3RWYWx1ZTtyZXR1cm4gc2NvcGUuJHdhdGNoR3JvdXAocGFyc2VGbnMsZnVuY3Rpb24odmFsdWVzLG9sZFZhbHVlcyl7dmFyIGN1cnJWYWx1ZT1jb21wdXRlKHZhbHVlcyk7aXNGdW5jdGlvbihsaXN0ZW5lcikmJmxpc3RlbmVyLmNhbGwodGhpcyxjdXJyVmFsdWUsdmFsdWVzIT09b2xkVmFsdWVzP2xhc3RWYWx1ZTpjdXJyVmFsdWUsc2NvcGUpLGxhc3RWYWx1ZT1jdXJyVmFsdWV9LG9iamVjdEVxdWFsaXR5KX19KX19dmFyIHN0YXJ0U3ltYm9sTGVuZ3RoPXN0YXJ0U3ltYm9sLmxlbmd0aCxlbmRTeW1ib2xMZW5ndGg9ZW5kU3ltYm9sLmxlbmd0aCxlc2NhcGVkU3RhcnRSZWdleHA9bmV3IFJlZ0V4cChzdGFydFN5bWJvbC5yZXBsYWNlKC8uL2csZXNjYXBlKSwiZyIpLGVzY2FwZWRFbmRSZWdleHA9bmV3IFJlZ0V4cChlbmRTeW1ib2wucmVwbGFjZSgvLi9nLGVzY2FwZSksImciKTtyZXR1cm4gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sPWZ1bmN0aW9uKCl7cmV0dXJuIHN0YXJ0U3ltYm9sfSwkaW50ZXJwb2xhdGUuZW5kU3ltYm9sPWZ1bmN0aW9uKCl7cmV0dXJuIGVuZFN5bWJvbH0sJGludGVycG9sYXRlfV19ZnVuY3Rpb24gJEludGVydmFsUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJHdpbmRvdyIsIiRxIiwiJCRxIixmdW5jdGlvbigkcm9vdFNjb3BlLCR3aW5kb3csJHEsJCRxKXtmdW5jdGlvbiBpbnRlcnZhbChmbixkZWxheSxjb3VudCxpbnZva2VBcHBseSl7dmFyIHNldEludGVydmFsPSR3aW5kb3cuc2V0SW50ZXJ2YWwsY2xlYXJJbnRlcnZhbD0kd2luZG93LmNsZWFySW50ZXJ2YWwsaXRlcmF0aW9uPTAsc2tpcEFwcGx5PWlzRGVmaW5lZChpbnZva2VBcHBseSkmJiFpbnZva2VBcHBseSxkZWZlcnJlZD0oc2tpcEFwcGx5PyQkcTokcSkuZGVmZXIoKSxwcm9taXNlPWRlZmVycmVkLnByb21pc2U7cmV0dXJuIGNvdW50PWlzRGVmaW5lZChjb3VudCk/Y291bnQ6MCxwcm9taXNlLnRoZW4obnVsbCxudWxsLGZuKSxwcm9taXNlLiQkaW50ZXJ2YWxJZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2RlZmVycmVkLm5vdGlmeShpdGVyYXRpb24rKyksY291bnQ+MCYmaXRlcmF0aW9uPj1jb3VudCYmKGRlZmVycmVkLnJlc29sdmUoaXRlcmF0aW9uKSxjbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKSxkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSksc2tpcEFwcGx5fHwkcm9vdFNjb3BlLiRhcHBseSgpfSxkZWxheSksaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXT1kZWZlcnJlZCxwcm9taXNlfXZhciBpbnRlcnZhbHM9e307cmV0dXJuIGludGVydmFsLmNhbmNlbD1mdW5jdGlvbihwcm9taXNlKXtyZXR1cm4gcHJvbWlzZSYmcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzPyhpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnJlamVjdCgiY2FuY2VsZWQiKSwkd2luZG93LmNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpLGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLCEwKTohMX0saW50ZXJ2YWx9XX1mdW5jdGlvbiAkTG9jYWxlUHJvdmlkZXIoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm57aWQ6ImVuLXVzIixOVU1CRVJfRk9STUFUUzp7REVDSU1BTF9TRVA6Ii4iLEdST1VQX1NFUDoiLCIsUEFUVEVSTlM6W3ttaW5JbnQ6MSxtaW5GcmFjOjAsbWF4RnJhYzozLHBvc1ByZToiIixwb3NTdWY6IiIsbmVnUHJlOiItIixuZWdTdWY6IiIsZ1NpemU6MyxsZ1NpemU6M30se21pbkludDoxLG1pbkZyYWM6MixtYXhGcmFjOjIscG9zUHJlOiLCpCIscG9zU3VmOiIiLG5lZ1ByZToiKMKkIixuZWdTdWY6IikiLGdTaXplOjMsbGdTaXplOjN9XSxDVVJSRU5DWV9TWU06IiQifSxEQVRFVElNRV9GT1JNQVRTOntNT05USDoiSmFudWFyeSxGZWJydWFyeSxNYXJjaCxBcHJpbCxNYXksSnVuZSxKdWx5LEF1Z3VzdCxTZXB0ZW1iZXIsT2N0b2JlcixOb3ZlbWJlcixEZWNlbWJlciIuc3BsaXQoIiwiKSxTSE9SVE1PTlRIOiJKYW4sRmViLE1hcixBcHIsTWF5LEp1bixKdWwsQXVnLFNlcCxPY3QsTm92LERlYyIuc3BsaXQoIiwiKSxEQVk6IlN1bmRheSxNb25kYXksVHVlc2RheSxXZWRuZXNkYXksVGh1cnNkYXksRnJpZGF5LFNhdHVyZGF5Ii5zcGxpdCgiLCIpLFNIT1JUREFZOiJTdW4sTW9uLFR1ZSxXZWQsVGh1LEZyaSxTYXQiLnNwbGl0KCIsIiksQU1QTVM6WyJBTSIsIlBNIl0sbWVkaXVtOiJNTU0gZCwgeSBoOm1tOnNzIGEiLCJzaG9ydCI6Ik0vZC95eSBoOm1tIGEiLGZ1bGxEYXRlOiJFRUVFLCBNTU1NIGQsIHkiLGxvbmdEYXRlOiJNTU1NIGQsIHkiLG1lZGl1bURhdGU6Ik1NTSBkLCB5IixzaG9ydERhdGU6Ik0vZC95eSIsbWVkaXVtVGltZToiaDptbTpzcyBhIixzaG9ydFRpbWU6Img6bW0gYSJ9LHBsdXJhbENhdDpmdW5jdGlvbihudW0pe3JldHVybiAxPT09bnVtPyJvbmUiOiJvdGhlciJ9fX19ZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKXtmb3IodmFyIHNlZ21lbnRzPXBhdGguc3BsaXQoIi8iKSxpPXNlZ21lbnRzLmxlbmd0aDtpLS07KXNlZ21lbnRzW2ldPWVuY29kZVVyaVNlZ21lbnQoc2VnbWVudHNbaV0pO3JldHVybiBzZWdtZW50cy5qb2luKCIvIil9ZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChhYnNvbHV0ZVVybCxsb2NhdGlvbk9iaixhcHBCYXNlKXt2YXIgcGFyc2VkVXJsPXVybFJlc29sdmUoYWJzb2x1dGVVcmwsYXBwQmFzZSk7bG9jYXRpb25PYmouJCRwcm90b2NvbD1wYXJzZWRVcmwucHJvdG9jb2wsbG9jYXRpb25PYmouJCRob3N0PXBhcnNlZFVybC5ob3N0bmFtZSxsb2NhdGlvbk9iai4kJHBvcnQ9aW50KHBhcnNlZFVybC5wb3J0KXx8REVGQVVMVF9QT1JUU1twYXJzZWRVcmwucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIHBhcnNlQXBwVXJsKHJlbGF0aXZlVXJsLGxvY2F0aW9uT2JqLGFwcEJhc2Upe3ZhciBwcmVmaXhlZD0iLyIhPT1yZWxhdGl2ZVVybC5jaGFyQXQoMCk7cHJlZml4ZWQmJihyZWxhdGl2ZVVybD0iLyIrcmVsYXRpdmVVcmwpO3ZhciBtYXRjaD11cmxSZXNvbHZlKHJlbGF0aXZlVXJsLGFwcEJhc2UpO2xvY2F0aW9uT2JqLiQkcGF0aD1kZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQmJiIvIj09PW1hdGNoLnBhdGhuYW1lLmNoYXJBdCgwKT9tYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSk6bWF0Y2gucGF0aG5hbWUpLGxvY2F0aW9uT2JqLiQkc2VhcmNoPXBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKSxsb2NhdGlvbk9iai4kJGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpLGxvY2F0aW9uT2JqLiQkcGF0aCYmIi8iIT1sb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApJiYobG9jYXRpb25PYmouJCRwYXRoPSIvIitsb2NhdGlvbk9iai4kJHBhdGgpfWZ1bmN0aW9uIGJlZ2luc1dpdGgoYmVnaW4sd2hvbGUpe3JldHVybiAwPT09d2hvbGUuaW5kZXhPZihiZWdpbik/d2hvbGUuc3Vic3RyKGJlZ2luLmxlbmd0aCk6dm9pZCAwfWZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpe3ZhciBpbmRleD11cmwuaW5kZXhPZigiIyIpO3JldHVybi0xPT1pbmRleD91cmw6dXJsLnN1YnN0cigwLGluZGV4KX1mdW5jdGlvbiBzdHJpcEZpbGUodXJsKXtyZXR1cm4gdXJsLnN1YnN0cigwLHN0cmlwSGFzaCh1cmwpLmxhc3RJbmRleE9mKCIvIikrMSl9ZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpe3JldHVybiB1cmwuc3Vic3RyaW5nKDAsdXJsLmluZGV4T2YoIi8iLHVybC5pbmRleE9mKCIvLyIpKzIpKX1mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsYmFzZVByZWZpeCl7dGhpcy4kJGh0bWw1PSEwLGJhc2VQcmVmaXg9YmFzZVByZWZpeHx8IiI7dmFyIGFwcEJhc2VOb0ZpbGU9c3RyaXBGaWxlKGFwcEJhc2UpO3BhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXJzZT1mdW5jdGlvbih1cmwpe3ZhciBwYXRoVXJsPWJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSx1cmwpO2lmKCFpc1N0cmluZyhwYXRoVXJsKSl0aHJvdyAkbG9jYXRpb25NaW5FcnIoImlwdGhwcmZ4IiwnSW52YWxpZCB1cmwgInswfSIsIG1pc3NpbmcgcGF0aCBwcmVmaXggInsxfSIuJyx1cmwsYXBwQmFzZU5vRmlsZSk7cGFyc2VBcHBVcmwocGF0aFVybCx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9Ii8iKSx0aGlzLiQkY29tcG9zZSgpfSx0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBzZWFyY2g9dG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxoYXNoPXRoaXMuJCRoYXNoPyIjIitlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKToiIjt0aGlzLiQkdXJsPWVuY29kZVBhdGgodGhpcy4kJHBhdGgpKyhzZWFyY2g/Ij8iK3NlYXJjaDoiIikraGFzaCx0aGlzLiQkYWJzVXJsPWFwcEJhc2VOb0ZpbGUrdGhpcy4kJHVybC5zdWJzdHIoMSl9LHRoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24odXJsLHJlbEhyZWYpe2lmKHJlbEhyZWYmJiIjIj09PXJlbEhyZWZbMF0pcmV0dXJuIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKSwhMDt2YXIgYXBwVXJsLHByZXZBcHBVcmwscmV3cml0dGVuVXJsO3JldHVybihhcHBVcmw9YmVnaW5zV2l0aChhcHBCYXNlLHVybCkpIT09dW5kZWZpbmVkPyhwcmV2QXBwVXJsPWFwcFVybCxyZXdyaXR0ZW5Vcmw9KGFwcFVybD1iZWdpbnNXaXRoKGJhc2VQcmVmaXgsYXBwVXJsKSkhPT11bmRlZmluZWQ/YXBwQmFzZU5vRmlsZSsoYmVnaW5zV2l0aCgiLyIsYXBwVXJsKXx8YXBwVXJsKTphcHBCYXNlK3ByZXZBcHBVcmwpOihhcHBVcmw9YmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLHVybCkpIT09dW5kZWZpbmVkP3Jld3JpdHRlblVybD1hcHBCYXNlTm9GaWxlK2FwcFVybDphcHBCYXNlTm9GaWxlPT11cmwrIi8iJiYocmV3cml0dGVuVXJsPWFwcEJhc2VOb0ZpbGUpLHJld3JpdHRlblVybCYmdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCksISFyZXdyaXR0ZW5Vcmx9fWZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdVcmwoYXBwQmFzZSxoYXNoUHJlZml4KXt2YXIgYXBwQmFzZU5vRmlsZT1zdHJpcEZpbGUoYXBwQmFzZSk7cGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLHRoaXMsYXBwQmFzZSksdGhpcy4kJHBhcnNlPWZ1bmN0aW9uKHVybCl7ZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZShwYXRoLHVybCxiYXNlKXt2YXIgZmlyc3RQYXRoU2VnbWVudE1hdGNoLHdpbmRvd3NGaWxlUGF0aEV4cD0vXlwvW0EtWl06KFwvLiopLztyZXR1cm4gMD09PXVybC5pbmRleE9mKGJhc2UpJiYodXJsPXVybC5yZXBsYWNlKGJhc2UsIiIpKSx3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyh1cmwpP3BhdGg6KGZpcnN0UGF0aFNlZ21lbnRNYXRjaD13aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyhwYXRoKSxmaXJzdFBhdGhTZWdtZW50TWF0Y2g/Zmlyc3RQYXRoU2VnbWVudE1hdGNoWzFdOnBhdGgpfXZhciB3aXRob3V0QmFzZVVybD1iZWdpbnNXaXRoKGFwcEJhc2UsdXJsKXx8YmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLHVybCksd2l0aG91dEhhc2hVcmw9IiMiPT13aXRob3V0QmFzZVVybC5jaGFyQXQoMCk/YmVnaW5zV2l0aChoYXNoUHJlZml4LHdpdGhvdXRCYXNlVXJsKTp0aGlzLiQkaHRtbDU/d2l0aG91dEJhc2VVcmw6IiI7aWYoIWlzU3RyaW5nKHdpdGhvdXRIYXNoVXJsKSl0aHJvdyAkbG9jYXRpb25NaW5FcnIoImloc2hwcmZ4IiwnSW52YWxpZCB1cmwgInswfSIsIG1pc3NpbmcgaGFzaCBwcmVmaXggInsxfSIuJyx1cmwsaGFzaFByZWZpeCk7cGFyc2VBcHBVcmwod2l0aG91dEhhc2hVcmwsdGhpcyxhcHBCYXNlKSx0aGlzLiQkcGF0aD1yZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHRoaXMuJCRwYXRoLHdpdGhvdXRIYXNoVXJsLGFwcEJhc2UpLHRoaXMuJCRjb21wb3NlKCl9LHRoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIHNlYXJjaD10b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLGhhc2g9dGhpcy4kJGhhc2g/IiMiK2VuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpOiIiO3RoaXMuJCR1cmw9ZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkrKHNlYXJjaD8iPyIrc2VhcmNoOiIiKStoYXNoLHRoaXMuJCRhYnNVcmw9YXBwQmFzZSsodGhpcy4kJHVybD9oYXNoUHJlZml4K3RoaXMuJCR1cmw6IiIpfSx0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKHVybCl7cmV0dXJuIHN0cmlwSGFzaChhcHBCYXNlKT09c3RyaXBIYXNoKHVybCk/KHRoaXMuJCRwYXJzZSh1cmwpLCEwKTohMX19ZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwoYXBwQmFzZSxoYXNoUHJlZml4KXt0aGlzLiQkaHRtbDU9ITAsTG9jYXRpb25IYXNoYmFuZ1VybC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGFwcEJhc2VOb0ZpbGU9c3RyaXBGaWxlKGFwcEJhc2UpO3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24odXJsLHJlbEhyZWYpe2lmKHJlbEhyZWYmJiIjIj09PXJlbEhyZWZbMF0pcmV0dXJuIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKSwhMDt2YXIgcmV3cml0dGVuVXJsLGFwcFVybDtyZXR1cm4gYXBwQmFzZT09c3RyaXBIYXNoKHVybCk/cmV3cml0dGVuVXJsPXVybDooYXBwVXJsPWJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSx1cmwpKT9yZXdyaXR0ZW5Vcmw9YXBwQmFzZStoYXNoUHJlZml4K2FwcFVybDphcHBCYXNlTm9GaWxlPT09dXJsKyIvIiYmKHJld3JpdHRlblVybD1hcHBCYXNlTm9GaWxlKSxyZXdyaXR0ZW5VcmwmJnRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpLCEhcmV3cml0dGVuVXJsfSx0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBzZWFyY2g9dG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxoYXNoPXRoaXMuJCRoYXNoPyIjIitlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKToiIjt0aGlzLiQkdXJsPWVuY29kZVBhdGgodGhpcy4kJHBhdGgpKyhzZWFyY2g/Ij8iK3NlYXJjaDoiIikraGFzaCx0aGlzLiQkYWJzVXJsPWFwcEJhc2UraGFzaFByZWZpeCt0aGlzLiQkdXJsfX1mdW5jdGlvbiBsb2NhdGlvbkdldHRlcihwcm9wZXJ0eSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcHJvcGVydHldfX1mdW5jdGlvbiBsb2NhdGlvbkdldHRlclNldHRlcihwcm9wZXJ0eSxwcmVwcm9jZXNzKXtyZXR1cm4gZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSk/dGhpc1twcm9wZXJ0eV06KHRoaXNbcHJvcGVydHldPXByZXByb2Nlc3ModmFsdWUpLHRoaXMuJCRjb21wb3NlKCksdGhpcyl9fWZ1bmN0aW9uICRMb2NhdGlvblByb3ZpZGVyKCl7dmFyIGhhc2hQcmVmaXg9IiIsaHRtbDVNb2RlPXtlbmFibGVkOiExLHJlcXVpcmVCYXNlOiEwLHJld3JpdGVMaW5rczohMH07dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKHByZWZpeCl7cmV0dXJuIGlzRGVmaW5lZChwcmVmaXgpPyhoYXNoUHJlZml4PXByZWZpeCx0aGlzKTpoYXNoUHJlZml4fSx0aGlzLmh0bWw1TW9kZT1mdW5jdGlvbihtb2RlKXtyZXR1cm4gaXNCb29sZWFuKG1vZGUpPyhodG1sNU1vZGUuZW5hYmxlZD1tb2RlLHRoaXMpOmlzT2JqZWN0KG1vZGUpPyhpc0Jvb2xlYW4obW9kZS5lbmFibGVkKSYmKGh0bWw1TW9kZS5lbmFibGVkPW1vZGUuZW5hYmxlZCksaXNCb29sZWFuKG1vZGUucmVxdWlyZUJhc2UpJiYoaHRtbDVNb2RlLnJlcXVpcmVCYXNlPW1vZGUucmVxdWlyZUJhc2UpLGlzQm9vbGVhbihtb2RlLnJld3JpdGVMaW5rcykmJihodG1sNU1vZGUucmV3cml0ZUxpbmtzPW1vZGUucmV3cml0ZUxpbmtzKSx0aGlzKTpodG1sNU1vZGV9LHRoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkYnJvd3NlciIsIiRzbmlmZmVyIiwiJHJvb3RFbGVtZW50IixmdW5jdGlvbigkcm9vdFNjb3BlLCRicm93c2VyLCRzbmlmZmVyLCRyb290RWxlbWVudCl7ZnVuY3Rpb24gc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayh1cmwscmVwbGFjZSxzdGF0ZSl7dmFyIG9sZFVybD0kbG9jYXRpb24udXJsKCksb2xkU3RhdGU9JGxvY2F0aW9uLiQkc3RhdGU7dHJ5eyRicm93c2VyLnVybCh1cmwscmVwbGFjZSxzdGF0ZSksJGxvY2F0aW9uLiQkc3RhdGU9JGJyb3dzZXIuc3RhdGUoKX1jYXRjaChlKXt0aHJvdyAkbG9jYXRpb24udXJsKG9sZFVybCksJGxvY2F0aW9uLiQkc3RhdGU9b2xkU3RhdGUsZX19ZnVuY3Rpb24gYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsb2xkU3RhdGUpeyRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsJGxvY2F0aW9uLmFic1VybCgpLG9sZFVybCwkbG9jYXRpb24uJCRzdGF0ZSxvbGRTdGF0ZSl9dmFyICRsb2NhdGlvbixMb2NhdGlvbk1vZGUsYXBwQmFzZSxiYXNlSHJlZj0kYnJvd3Nlci5iYXNlSHJlZigpLGluaXRpYWxVcmw9JGJyb3dzZXIudXJsKCk7aWYoaHRtbDVNb2RlLmVuYWJsZWQpe2lmKCFiYXNlSHJlZiYmaHRtbDVNb2RlLnJlcXVpcmVCYXNlKXRocm93ICRsb2NhdGlvbk1pbkVycigibm9iYXNlIiwiJGxvY2F0aW9uIGluIEhUTUw1IG1vZGUgcmVxdWlyZXMgYSA8YmFzZT4gdGFnIHRvIGJlIHByZXNlbnQhIik7YXBwQmFzZT1zZXJ2ZXJCYXNlKGluaXRpYWxVcmwpKyhiYXNlSHJlZnx8Ii8iKSxMb2NhdGlvbk1vZGU9JHNuaWZmZXIuaGlzdG9yeT9Mb2NhdGlvbkh0bWw1VXJsOkxvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsfWVsc2UgYXBwQmFzZT1zdHJpcEhhc2goaW5pdGlhbFVybCksTG9jYXRpb25Nb2RlPUxvY2F0aW9uSGFzaGJhbmdVcmw7JGxvY2F0aW9uPW5ldyBMb2NhdGlvbk1vZGUoYXBwQmFzZSwiIyIraGFzaFByZWZpeCksJGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGluaXRpYWxVcmwsaW5pdGlhbFVybCksJGxvY2F0aW9uLiQkc3RhdGU9JGJyb3dzZXIuc3RhdGUoKTt2YXIgSUdOT1JFX1VSSV9SRUdFWFA9L15ccyooamF2YXNjcmlwdHxtYWlsdG8pOi9pOyRyb290RWxlbWVudC5vbigiY2xpY2siLGZ1bmN0aW9uKGV2ZW50KXtpZihodG1sNU1vZGUucmV3cml0ZUxpbmtzJiYhZXZlbnQuY3RybEtleSYmIWV2ZW50Lm1ldGFLZXkmJjIhPWV2ZW50LndoaWNoKXtmb3IodmFyIGVsbT1qcUxpdGUoZXZlbnQudGFyZ2V0KTsiYSIhPT1ub2RlTmFtZV8oZWxtWzBdKTspaWYoZWxtWzBdPT09JHJvb3RFbGVtZW50WzBdfHwhKGVsbT1lbG0ucGFyZW50KCkpWzBdKXJldHVybjt2YXIgYWJzSHJlZj1lbG0ucHJvcCgiaHJlZiIpLHJlbEhyZWY9ZWxtLmF0dHIoImhyZWYiKXx8ZWxtLmF0dHIoInhsaW5rOmhyZWYiKTtpc09iamVjdChhYnNIcmVmKSYmIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddIj09PWFic0hyZWYudG9TdHJpbmcoKSYmKGFic0hyZWY9dXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWYpLElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZil8fCFhYnNIcmVmfHxlbG0uYXR0cigidGFyZ2V0Iil8fGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwkbG9jYXRpb24uJCRwYXJzZUxpbmtVcmwoYWJzSHJlZixyZWxIcmVmKSYmKGV2ZW50LnByZXZlbnREZWZhdWx0KCksJGxvY2F0aW9uLmFic1VybCgpIT0kYnJvd3Nlci51cmwoKSYmKCRyb290U2NvcGUuJGFwcGx5KCksd2luZG93LmFuZ3VsYXJbImZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdCJdPSEwKSl9fSksJGxvY2F0aW9uLmFic1VybCgpIT1pbml0aWFsVXJsJiYkYnJvd3Nlci51cmwoJGxvY2F0aW9uLmFic1VybCgpLCEwKTt2YXIgaW5pdGlhbGl6aW5nPSEwO3JldHVybiAkYnJvd3Nlci5vblVybENoYW5nZShmdW5jdGlvbihuZXdVcmwsbmV3U3RhdGUpeyRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBvbGRVcmw9JGxvY2F0aW9uLmFic1VybCgpLG9sZFN0YXRlPSRsb2NhdGlvbi4kJHN0YXRlOyRsb2NhdGlvbi4kJHBhcnNlKG5ld1VybCksJGxvY2F0aW9uLiQkc3RhdGU9bmV3U3RhdGUsJHJvb3RTY29wZS4kYnJvYWRjYXN0KCIkbG9jYXRpb25DaGFuZ2VTdGFydCIsbmV3VXJsLG9sZFVybCxuZXdTdGF0ZSxvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZD8oJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKSwkbG9jYXRpb24uJCRzdGF0ZT1vbGRTdGF0ZSxzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG9sZFVybCwhMSxvbGRTdGF0ZSkpOihpbml0aWFsaXppbmc9ITEsYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsb2xkU3RhdGUpKX0pLCRyb290U2NvcGUuJCRwaGFzZXx8JHJvb3RTY29wZS4kZGlnZXN0KCl9KSwkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3ZhciBvbGRVcmw9JGJyb3dzZXIudXJsKCksb2xkU3RhdGU9JGJyb3dzZXIuc3RhdGUoKSxjdXJyZW50UmVwbGFjZT0kbG9jYXRpb24uJCRyZXBsYWNlLHVybE9yU3RhdGVDaGFuZ2VkPW9sZFVybCE9PSRsb2NhdGlvbi5hYnNVcmwoKXx8JGxvY2F0aW9uLiQkaHRtbDUmJiRzbmlmZmVyLmhpc3RvcnkmJm9sZFN0YXRlIT09JGxvY2F0aW9uLiQkc3RhdGU7KGluaXRpYWxpemluZ3x8dXJsT3JTdGF0ZUNoYW5nZWQpJiYoaW5pdGlhbGl6aW5nPSExLCRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpeyRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3RhcnQiLCRsb2NhdGlvbi5hYnNVcmwoKSxvbGRVcmwsJGxvY2F0aW9uLiQkc3RhdGUsb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ/KCRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCksJGxvY2F0aW9uLiQkc3RhdGU9b2xkU3RhdGUpOih1cmxPclN0YXRlQ2hhbmdlZCYmc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjaygkbG9jYXRpb24uYWJzVXJsKCksY3VycmVudFJlcGxhY2Usb2xkU3RhdGU9PT0kbG9jYXRpb24uJCRzdGF0ZT9udWxsOiRsb2NhdGlvbi4kJHN0YXRlKSxhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCxvbGRTdGF0ZSkpCn0pKSwkbG9jYXRpb24uJCRyZXBsYWNlPSExfSksJGxvY2F0aW9ufV19ZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCl7dmFyIGRlYnVnPSEwLHNlbGY9dGhpczt0aGlzLmRlYnVnRW5hYmxlZD1mdW5jdGlvbihmbGFnKXtyZXR1cm4gaXNEZWZpbmVkKGZsYWcpPyhkZWJ1Zz1mbGFnLHRoaXMpOmRlYnVnfSx0aGlzLiRnZXQ9WyIkd2luZG93IixmdW5jdGlvbigkd2luZG93KXtmdW5jdGlvbiBmb3JtYXRFcnJvcihhcmcpe3JldHVybiBhcmcgaW5zdGFuY2VvZiBFcnJvciYmKGFyZy5zdGFjaz9hcmc9YXJnLm1lc3NhZ2UmJi0xPT09YXJnLnN0YWNrLmluZGV4T2YoYXJnLm1lc3NhZ2UpPyJFcnJvcjogIithcmcubWVzc2FnZSsiXG4iK2FyZy5zdGFjazphcmcuc3RhY2s6YXJnLnNvdXJjZVVSTCYmKGFyZz1hcmcubWVzc2FnZSsiXG4iK2FyZy5zb3VyY2VVUkwrIjoiK2FyZy5saW5lKSksYXJnfWZ1bmN0aW9uIGNvbnNvbGVMb2codHlwZSl7dmFyIGNvbnNvbGU9JHdpbmRvdy5jb25zb2xlfHx7fSxsb2dGbj1jb25zb2xlW3R5cGVdfHxjb25zb2xlLmxvZ3x8bm9vcCxoYXNBcHBseT0hMTt0cnl7aGFzQXBwbHk9ISFsb2dGbi5hcHBseX1jYXRjaChlKXt9cmV0dXJuIGhhc0FwcGx5P2Z1bmN0aW9uKCl7dmFyIGFyZ3M9W107cmV0dXJuIGZvckVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGFyZyl7YXJncy5wdXNoKGZvcm1hdEVycm9yKGFyZykpfSksbG9nRm4uYXBwbHkoY29uc29sZSxhcmdzKX06ZnVuY3Rpb24oYXJnMSxhcmcyKXtsb2dGbihhcmcxLG51bGw9PWFyZzI/IiI6YXJnMil9fXJldHVybntsb2c6Y29uc29sZUxvZygibG9nIiksaW5mbzpjb25zb2xlTG9nKCJpbmZvIiksd2Fybjpjb25zb2xlTG9nKCJ3YXJuIiksZXJyb3I6Y29uc29sZUxvZygiZXJyb3IiKSxkZWJ1ZzpmdW5jdGlvbigpe3ZhciBmbj1jb25zb2xlTG9nKCJkZWJ1ZyIpO3JldHVybiBmdW5jdGlvbigpe2RlYnVnJiZmbi5hcHBseShzZWxmLGFyZ3VtZW50cyl9fSgpfX1dfWZ1bmN0aW9uIGVuc3VyZVNhZmVNZW1iZXJOYW1lKG5hbWUsZnVsbEV4cHJlc3Npb24pe2lmKCJfX2RlZmluZUdldHRlcl9fIj09PW5hbWV8fCJfX2RlZmluZVNldHRlcl9fIj09PW5hbWV8fCJfX2xvb2t1cEdldHRlcl9fIj09PW5hbWV8fCJfX2xvb2t1cFNldHRlcl9fIj09PW5hbWV8fCJfX3Byb3RvX18iPT09bmFtZSl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNmbGQiLCJBdHRlbXB0aW5nIHRvIGFjY2VzcyBhIGRpc2FsbG93ZWQgZmllbGQgaW4gQW5ndWxhciBleHByZXNzaW9ucyEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7cmV0dXJuIG5hbWV9ZnVuY3Rpb24gZW5zdXJlU2FmZU9iamVjdChvYmosZnVsbEV4cHJlc3Npb24pe2lmKG9iail7aWYob2JqLmNvbnN0cnVjdG9yPT09b2JqKXRocm93ICRwYXJzZU1pbkVycigiaXNlY2ZuIiwiUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtpZihvYmoud2luZG93PT09b2JqKXRocm93ICRwYXJzZU1pbkVycigiaXNlY3dpbmRvdyIsIlJlZmVyZW5jaW5nIHRoZSBXaW5kb3cgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtpZihvYmouY2hpbGRyZW4mJihvYmoubm9kZU5hbWV8fG9iai5wcm9wJiZvYmouYXR0ciYmb2JqLmZpbmQpKXRocm93ICRwYXJzZU1pbkVycigiaXNlY2RvbSIsIlJlZmVyZW5jaW5nIERPTSBub2RlcyBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfSIsZnVsbEV4cHJlc3Npb24pO2lmKG9iaj09PU9iamVjdCl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNvYmoiLCJSZWZlcmVuY2luZyBPYmplY3QgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKX1yZXR1cm4gb2JqfWZ1bmN0aW9uIGVuc3VyZVNhZmVGdW5jdGlvbihvYmosZnVsbEV4cHJlc3Npb24pe2lmKG9iail7aWYob2JqLmNvbnN0cnVjdG9yPT09b2JqKXRocm93ICRwYXJzZU1pbkVycigiaXNlY2ZuIiwiUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtpZihvYmo9PT1DQUxMfHxvYmo9PT1BUFBMWXx8b2JqPT09QklORCl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNmZiIsIlJlZmVyZW5jaW5nIGNhbGwsIGFwcGx5IG9yIGJpbmQgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKX19ZnVuY3Rpb24gaXNDb25zdGFudChleHApe3JldHVybiBleHAuY29uc3RhbnR9ZnVuY3Rpb24gc2V0dGVyKG9iaixwYXRoLHNldFZhbHVlLGZ1bGxFeHApe2Vuc3VyZVNhZmVPYmplY3Qob2JqLGZ1bGxFeHApO2Zvcih2YXIga2V5LGVsZW1lbnQ9cGF0aC5zcGxpdCgiLiIpLGk9MDtlbGVtZW50Lmxlbmd0aD4xO2krKyl7a2V5PWVuc3VyZVNhZmVNZW1iZXJOYW1lKGVsZW1lbnQuc2hpZnQoKSxmdWxsRXhwKTt2YXIgcHJvcGVydHlPYmo9ZW5zdXJlU2FmZU9iamVjdChvYmpba2V5XSxmdWxsRXhwKTtwcm9wZXJ0eU9ianx8KHByb3BlcnR5T2JqPXt9LG9ialtrZXldPXByb3BlcnR5T2JqKSxvYmo9cHJvcGVydHlPYmp9cmV0dXJuIGtleT1lbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksZnVsbEV4cCksZW5zdXJlU2FmZU9iamVjdChvYmpba2V5XSxmdWxsRXhwKSxvYmpba2V5XT1zZXRWYWx1ZSxzZXRWYWx1ZX1mdW5jdGlvbiBjc3BTYWZlR2V0dGVyRm4oa2V5MCxrZXkxLGtleTIsa2V5MyxrZXk0LGZ1bGxFeHApe3JldHVybiBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkwLGZ1bGxFeHApLGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTEsZnVsbEV4cCksZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MixmdWxsRXhwKSxlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkzLGZ1bGxFeHApLGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTQsZnVsbEV4cCksZnVuY3Rpb24oc2NvcGUsbG9jYWxzKXt2YXIgcGF0aFZhbD1sb2NhbHMmJmxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkwKT9sb2NhbHM6c2NvcGU7cmV0dXJuIG51bGw9PXBhdGhWYWw/cGF0aFZhbDoocGF0aFZhbD1wYXRoVmFsW2tleTBdLGtleTE/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXkxXSxrZXkyP251bGw9PXBhdGhWYWw/dW5kZWZpbmVkOihwYXRoVmFsPXBhdGhWYWxba2V5Ml0sa2V5Mz9udWxsPT1wYXRoVmFsP3VuZGVmaW5lZDoocGF0aFZhbD1wYXRoVmFsW2tleTNdLGtleTQ/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6cGF0aFZhbD1wYXRoVmFsW2tleTRdOnBhdGhWYWwpOnBhdGhWYWwpOnBhdGhWYWwpOnBhdGhWYWwpfX1mdW5jdGlvbiBnZXR0ZXJGbihwYXRoLG9wdGlvbnMsZnVsbEV4cCl7dmFyIGZuPWdldHRlckZuQ2FjaGVbcGF0aF07aWYoZm4pcmV0dXJuIGZuO3ZhciBwYXRoS2V5cz1wYXRoLnNwbGl0KCIuIikscGF0aEtleXNMZW5ndGg9cGF0aEtleXMubGVuZ3RoO2lmKG9wdGlvbnMuY3NwKWZuPTY+cGF0aEtleXNMZW5ndGg/Y3NwU2FmZUdldHRlckZuKHBhdGhLZXlzWzBdLHBhdGhLZXlzWzFdLHBhdGhLZXlzWzJdLHBhdGhLZXlzWzNdLHBhdGhLZXlzWzRdLGZ1bGxFeHApOmZ1bmN0aW9uKHNjb3BlLGxvY2Fscyl7dmFyIHZhbCxpPTA7ZG8gdmFsPWNzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1tpKytdLHBhdGhLZXlzW2krK10scGF0aEtleXNbaSsrXSxwYXRoS2V5c1tpKytdLHBhdGhLZXlzW2krK10sZnVsbEV4cCkoc2NvcGUsbG9jYWxzKSxsb2NhbHM9dW5kZWZpbmVkLHNjb3BlPXZhbDt3aGlsZShwYXRoS2V5c0xlbmd0aD5pKTtyZXR1cm4gdmFsfTtlbHNle3ZhciBjb2RlPSIiO2ZvckVhY2gocGF0aEtleXMsZnVuY3Rpb24oa2V5LGluZGV4KXtlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXksZnVsbEV4cCksY29kZSs9ImlmKHMgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcbnM9IisoaW5kZXg/InMiOicoKGwmJmwuaGFzT3duUHJvcGVydHkoIicra2V5KyciKSk/bDpzKScpKyIuIitrZXkrIjtcbiJ9KSxjb2RlKz0icmV0dXJuIHM7Ijt2YXIgZXZhbGVkRm5HZXR0ZXI9bmV3IEZ1bmN0aW9uKCJzIiwibCIsY29kZSk7ZXZhbGVkRm5HZXR0ZXIudG9TdHJpbmc9dmFsdWVGbihjb2RlKSxmbj1ldmFsZWRGbkdldHRlcn1yZXR1cm4gZm4uc2hhcmVkR2V0dGVyPSEwLGZuLmFzc2lnbj1mdW5jdGlvbihzZWxmLHZhbHVlKXtyZXR1cm4gc2V0dGVyKHNlbGYscGF0aCx2YWx1ZSxwYXRoKX0sZ2V0dGVyRm5DYWNoZVtwYXRoXT1mbixmbn1mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpe3ZhciBjYWNoZT1jcmVhdGVNYXAoKSwkcGFyc2VPcHRpb25zPXtjc3A6ITF9O3RoaXMuJGdldD1bIiRmaWx0ZXIiLCIkc25pZmZlciIsZnVuY3Rpb24oJGZpbHRlciwkc25pZmZlcil7ZnVuY3Rpb24gd3JhcFNoYXJlZEV4cHJlc3Npb24oZXhwKXt2YXIgd3JhcHBlZD1leHA7cmV0dXJuIGV4cC5zaGFyZWRHZXR0ZXImJih3cmFwcGVkPWZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtyZXR1cm4gZXhwKHNlbGYsbG9jYWxzKX0sd3JhcHBlZC5saXRlcmFsPWV4cC5saXRlcmFsLHdyYXBwZWQuY29uc3RhbnQ9ZXhwLmNvbnN0YW50LHdyYXBwZWQuYXNzaWduPWV4cC5hc3NpZ24pLHdyYXBwZWR9ZnVuY3Rpb24gY29sbGVjdEV4cHJlc3Npb25JbnB1dHMoaW5wdXRzLGxpc3Qpe2Zvcih2YXIgaT0wLGlpPWlucHV0cy5sZW5ndGg7aWk+aTtpKyspe3ZhciBpbnB1dD1pbnB1dHNbaV07aW5wdXQuY29uc3RhbnR8fChpbnB1dC5pbnB1dHM/Y29sbGVjdEV4cHJlc3Npb25JbnB1dHMoaW5wdXQuaW5wdXRzLGxpc3QpOi0xPT09bGlzdC5pbmRleE9mKGlucHV0KSYmbGlzdC5wdXNoKGlucHV0KSl9cmV0dXJuIGxpc3R9ZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdWYWx1ZSxvbGRWYWx1ZU9mVmFsdWUpe3JldHVybiBudWxsPT1uZXdWYWx1ZXx8bnVsbD09b2xkVmFsdWVPZlZhbHVlP25ld1ZhbHVlPT09b2xkVmFsdWVPZlZhbHVlOiJvYmplY3QiPT10eXBlb2YgbmV3VmFsdWUmJihuZXdWYWx1ZT1uZXdWYWx1ZS52YWx1ZU9mKCksIm9iamVjdCI9PXR5cGVvZiBuZXdWYWx1ZSk/ITE6bmV3VmFsdWU9PT1vbGRWYWx1ZU9mVmFsdWV8fG5ld1ZhbHVlIT09bmV3VmFsdWUmJm9sZFZhbHVlT2ZWYWx1ZSE9PW9sZFZhbHVlT2ZWYWx1ZX1mdW5jdGlvbiBpbnB1dHNXYXRjaERlbGVnYXRlKHNjb3BlLGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5LHBhcnNlZEV4cHJlc3Npb24pe3ZhciBsYXN0UmVzdWx0LGlucHV0RXhwcmVzc2lvbnM9cGFyc2VkRXhwcmVzc2lvbi4kJGlucHV0c3x8KHBhcnNlZEV4cHJlc3Npb24uJCRpbnB1dHM9Y29sbGVjdEV4cHJlc3Npb25JbnB1dHMocGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMsW10pKTtpZigxPT09aW5wdXRFeHByZXNzaW9ucy5sZW5ndGgpe3ZhciBvbGRJbnB1dFZhbHVlPWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7cmV0dXJuIGlucHV0RXhwcmVzc2lvbnM9aW5wdXRFeHByZXNzaW9uc1swXSxzY29wZS4kd2F0Y2goZnVuY3Rpb24oc2NvcGUpe3ZhciBuZXdJbnB1dFZhbHVlPWlucHV0RXhwcmVzc2lvbnMoc2NvcGUpO3JldHVybiBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsb2xkSW5wdXRWYWx1ZSl8fChsYXN0UmVzdWx0PXBhcnNlZEV4cHJlc3Npb24oc2NvcGUpLG9sZElucHV0VmFsdWU9bmV3SW5wdXRWYWx1ZSYmbmV3SW5wdXRWYWx1ZS52YWx1ZU9mKCkpLGxhc3RSZXN1bHR9LGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5KX1mb3IodmFyIG9sZElucHV0VmFsdWVPZlZhbHVlcz1bXSxpPTAsaWk9aW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7aWk+aTtpKyspb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldPWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7cmV0dXJuIHNjb3BlLiR3YXRjaChmdW5jdGlvbihzY29wZSl7Zm9yKHZhciBjaGFuZ2VkPSExLGk9MCxpaT1pbnB1dEV4cHJlc3Npb25zLmxlbmd0aDtpaT5pO2krKyl7dmFyIG5ld0lucHV0VmFsdWU9aW5wdXRFeHByZXNzaW9uc1tpXShzY29wZSk7KGNoYW5nZWR8fChjaGFuZ2VkPSFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldKSkpJiYob2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldPW5ld0lucHV0VmFsdWUmJm5ld0lucHV0VmFsdWUudmFsdWVPZigpKX1yZXR1cm4gY2hhbmdlZCYmKGxhc3RSZXN1bHQ9cGFyc2VkRXhwcmVzc2lvbihzY29wZSkpLGxhc3RSZXN1bHR9LGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5KX1mdW5jdGlvbiBvbmVUaW1lV2F0Y2hEZWxlZ2F0ZShzY29wZSxsaXN0ZW5lcixvYmplY3RFcXVhbGl0eSxwYXJzZWRFeHByZXNzaW9uKXt2YXIgdW53YXRjaCxsYXN0VmFsdWU7cmV0dXJuIHVud2F0Y2g9c2NvcGUuJHdhdGNoKGZ1bmN0aW9uKHNjb3BlKXtyZXR1cm4gcGFyc2VkRXhwcmVzc2lvbihzY29wZSl9LGZ1bmN0aW9uKHZhbHVlLG9sZCxzY29wZSl7bGFzdFZhbHVlPXZhbHVlLGlzRnVuY3Rpb24obGlzdGVuZXIpJiZsaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyksaXNEZWZpbmVkKHZhbHVlKSYmc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7aXNEZWZpbmVkKGxhc3RWYWx1ZSkmJnVud2F0Y2goKX0pfSxvYmplY3RFcXVhbGl0eSl9ZnVuY3Rpb24gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlKHNjb3BlLGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5LHBhcnNlZEV4cHJlc3Npb24pe2Z1bmN0aW9uIGlzQWxsRGVmaW5lZCh2YWx1ZSl7dmFyIGFsbERlZmluZWQ9ITA7cmV0dXJuIGZvckVhY2godmFsdWUsZnVuY3Rpb24odmFsKXtpc0RlZmluZWQodmFsKXx8KGFsbERlZmluZWQ9ITEpfSksYWxsRGVmaW5lZH12YXIgdW53YXRjaCxsYXN0VmFsdWU7cmV0dXJuIHVud2F0Y2g9c2NvcGUuJHdhdGNoKGZ1bmN0aW9uKHNjb3BlKXtyZXR1cm4gcGFyc2VkRXhwcmVzc2lvbihzY29wZSl9LGZ1bmN0aW9uKHZhbHVlLG9sZCxzY29wZSl7bGFzdFZhbHVlPXZhbHVlLGlzRnVuY3Rpb24obGlzdGVuZXIpJiZsaXN0ZW5lci5jYWxsKHRoaXMsdmFsdWUsb2xkLHNjb3BlKSxpc0FsbERlZmluZWQodmFsdWUpJiZzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtpc0FsbERlZmluZWQobGFzdFZhbHVlKSYmdW53YXRjaCgpfSl9LG9iamVjdEVxdWFsaXR5KX1mdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsbGlzdGVuZXIsb2JqZWN0RXF1YWxpdHkscGFyc2VkRXhwcmVzc2lvbil7dmFyIHVud2F0Y2g7cmV0dXJuIHVud2F0Y2g9c2NvcGUuJHdhdGNoKGZ1bmN0aW9uKHNjb3BlKXtyZXR1cm4gcGFyc2VkRXhwcmVzc2lvbihzY29wZSl9LGZ1bmN0aW9uKCl7aXNGdW5jdGlvbihsaXN0ZW5lcikmJmxpc3RlbmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx1bndhdGNoKCl9LG9iamVjdEVxdWFsaXR5KX1mdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLGludGVyY2VwdG9yRm4pe2lmKCFpbnRlcmNlcHRvckZuKXJldHVybiBwYXJzZWRFeHByZXNzaW9uO3ZhciBmbj1mdW5jdGlvbihzY29wZSxsb2NhbHMpe3ZhciB2YWx1ZT1wYXJzZWRFeHByZXNzaW9uKHNjb3BlLGxvY2FscykscmVzdWx0PWludGVyY2VwdG9yRm4odmFsdWUsc2NvcGUsbG9jYWxzKTtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT9yZXN1bHQ6dmFsdWV9O3JldHVybiBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSYmcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUhPT1pbnB1dHNXYXRjaERlbGVnYXRlP2ZuLiQkd2F0Y2hEZWxlZ2F0ZT1wYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZTppbnRlcmNlcHRvckZuLiRzdGF0ZWZ1bHx8KGZuLiQkd2F0Y2hEZWxlZ2F0ZT1pbnB1dHNXYXRjaERlbGVnYXRlLGZuLmlucHV0cz1bcGFyc2VkRXhwcmVzc2lvbl0pLGZufXJldHVybiAkcGFyc2VPcHRpb25zLmNzcD0kc25pZmZlci5jc3AsZnVuY3Rpb24oZXhwLGludGVyY2VwdG9yRm4pe3ZhciBwYXJzZWRFeHByZXNzaW9uLG9uZVRpbWUsY2FjaGVLZXk7c3dpdGNoKHR5cGVvZiBleHApe2Nhc2Uic3RyaW5nIjppZihjYWNoZUtleT1leHA9ZXhwLnRyaW0oKSxwYXJzZWRFeHByZXNzaW9uPWNhY2hlW2NhY2hlS2V5XSwhcGFyc2VkRXhwcmVzc2lvbil7IjoiPT09ZXhwLmNoYXJBdCgwKSYmIjoiPT09ZXhwLmNoYXJBdCgxKSYmKG9uZVRpbWU9ITAsZXhwPWV4cC5zdWJzdHJpbmcoMikpO3ZhciBsZXhlcj1uZXcgTGV4ZXIoJHBhcnNlT3B0aW9ucykscGFyc2VyPW5ldyBQYXJzZXIobGV4ZXIsJGZpbHRlciwkcGFyc2VPcHRpb25zKTtwYXJzZWRFeHByZXNzaW9uPXBhcnNlci5wYXJzZShleHApLHBhcnNlZEV4cHJlc3Npb24uY29uc3RhbnQ/cGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU9Y29uc3RhbnRXYXRjaERlbGVnYXRlOm9uZVRpbWU/KHBhcnNlZEV4cHJlc3Npb249d3JhcFNoYXJlZEV4cHJlc3Npb24ocGFyc2VkRXhwcmVzc2lvbikscGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU9cGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsP29uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZTpvbmVUaW1lV2F0Y2hEZWxlZ2F0ZSk6cGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMmJihwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZT1pbnB1dHNXYXRjaERlbGVnYXRlKSxjYWNoZVtjYWNoZUtleV09cGFyc2VkRXhwcmVzc2lvbn1yZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbixpbnRlcmNlcHRvckZuKTtjYXNlImZ1bmN0aW9uIjpyZXR1cm4gYWRkSW50ZXJjZXB0b3IoZXhwLGludGVyY2VwdG9yRm4pO2RlZmF1bHQ6cmV0dXJuIGFkZEludGVyY2VwdG9yKG5vb3AsaW50ZXJjZXB0b3JGbil9fX1dfWZ1bmN0aW9uICRRUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKCRyb290U2NvcGUsJGV4Y2VwdGlvbkhhbmRsZXIpe3JldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjayl7JHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKX0sJGV4Y2VwdGlvbkhhbmRsZXIpfV19ZnVuY3Rpb24gJCRRUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkYnJvd3NlciIsIiRleGNlcHRpb25IYW5kbGVyIixmdW5jdGlvbigkYnJvd3NlciwkZXhjZXB0aW9uSGFuZGxlcil7cmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKXskYnJvd3Nlci5kZWZlcihjYWxsYmFjayl9LCRleGNlcHRpb25IYW5kbGVyKX1dfWZ1bmN0aW9uIHFGYWN0b3J5KG5leHRUaWNrLGV4Y2VwdGlvbkhhbmRsZXIpe2Z1bmN0aW9uIGNhbGxPbmNlKHNlbGYscmVzb2x2ZUZuLHJlamVjdEZuKXtmdW5jdGlvbiB3cmFwKGZuKXtyZXR1cm4gZnVuY3Rpb24odmFsdWUpe2NhbGxlZHx8KGNhbGxlZD0hMCxmbi5jYWxsKHNlbGYsdmFsdWUpKX19dmFyIGNhbGxlZD0hMTtyZXR1cm5bd3JhcChyZXNvbHZlRm4pLHdyYXAocmVqZWN0Rm4pXX1mdW5jdGlvbiBQcm9taXNlKCl7dGhpcy4kJHN0YXRlPXtzdGF0dXM6MH19ZnVuY3Rpb24gc2ltcGxlQmluZChjb250ZXh0LGZuKXtyZXR1cm4gZnVuY3Rpb24odmFsdWUpe2ZuLmNhbGwoY29udGV4dCx2YWx1ZSl9fWZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShzdGF0ZSl7dmFyIGZuLHByb21pc2UscGVuZGluZztwZW5kaW5nPXN0YXRlLnBlbmRpbmcsc3RhdGUucHJvY2Vzc1NjaGVkdWxlZD0hMSxzdGF0ZS5wZW5kaW5nPXVuZGVmaW5lZDtmb3IodmFyIGk9MCxpaT1wZW5kaW5nLmxlbmd0aDtpaT5pOysraSl7cHJvbWlzZT1wZW5kaW5nW2ldWzBdLGZuPXBlbmRpbmdbaV1bc3RhdGUuc3RhdHVzXTt0cnl7aXNGdW5jdGlvbihmbik/cHJvbWlzZS5yZXNvbHZlKGZuKHN0YXRlLnZhbHVlKSk6MT09PXN0YXRlLnN0YXR1cz9wcm9taXNlLnJlc29sdmUoc3RhdGUudmFsdWUpOnByb21pc2UucmVqZWN0KHN0YXRlLnZhbHVlKX1jYXRjaChlKXtwcm9taXNlLnJlamVjdChlKSxleGNlcHRpb25IYW5kbGVyKGUpfX19ZnVuY3Rpb24gc2NoZWR1bGVQcm9jZXNzUXVldWUoc3RhdGUpeyFzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkJiZzdGF0ZS5wZW5kaW5nJiYoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZD0hMCxuZXh0VGljayhmdW5jdGlvbigpe3Byb2Nlc3NRdWV1ZShzdGF0ZSl9KSl9ZnVuY3Rpb24gRGVmZXJyZWQoKXt0aGlzLnByb21pc2U9bmV3IFByb21pc2UsdGhpcy5yZXNvbHZlPXNpbXBsZUJpbmQodGhpcyx0aGlzLnJlc29sdmUpLHRoaXMucmVqZWN0PXNpbXBsZUJpbmQodGhpcyx0aGlzLnJlamVjdCksdGhpcy5ub3RpZnk9c2ltcGxlQmluZCh0aGlzLHRoaXMubm90aWZ5KX1mdW5jdGlvbiBhbGwocHJvbWlzZXMpe3ZhciBkZWZlcnJlZD1uZXcgRGVmZXJyZWQsY291bnRlcj0wLHJlc3VsdHM9aXNBcnJheShwcm9taXNlcyk/W106e307cmV0dXJuIGZvckVhY2gocHJvbWlzZXMsZnVuY3Rpb24ocHJvbWlzZSxrZXkpe2NvdW50ZXIrKyx3aGVuKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpe3Jlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KXx8KHJlc3VsdHNba2V5XT12YWx1ZSwtLWNvdW50ZXJ8fGRlZmVycmVkLnJlc29sdmUocmVzdWx0cykpfSxmdW5jdGlvbihyZWFzb24pe3Jlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KXx8ZGVmZXJyZWQucmVqZWN0KHJlYXNvbil9KX0pLDA9PT1jb3VudGVyJiZkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpLGRlZmVycmVkLnByb21pc2V9dmFyICRxTWluRXJyPW1pbkVycigiJHEiLFR5cGVFcnJvciksZGVmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERlZmVycmVkfTtQcm9taXNlLnByb3RvdHlwZT17dGhlbjpmdW5jdGlvbihvbkZ1bGZpbGxlZCxvblJlamVjdGVkLHByb2dyZXNzQmFjayl7dmFyIHJlc3VsdD1uZXcgRGVmZXJyZWQ7cmV0dXJuIHRoaXMuJCRzdGF0ZS5wZW5kaW5nPXRoaXMuJCRzdGF0ZS5wZW5kaW5nfHxbXSx0aGlzLiQkc3RhdGUucGVuZGluZy5wdXNoKFtyZXN1bHQsb25GdWxmaWxsZWQsb25SZWplY3RlZCxwcm9ncmVzc0JhY2tdKSx0aGlzLiQkc3RhdGUuc3RhdHVzPjAmJnNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMuJCRzdGF0ZSkscmVzdWx0LnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLnRoZW4obnVsbCxjYWxsYmFjayl9LCJmaW5hbGx5IjpmdW5jdGlvbihjYWxsYmFjayxwcm9ncmVzc0JhY2spe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsdWUpe3JldHVybiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwhMCxjYWxsYmFjayl9LGZ1bmN0aW9uKGVycm9yKXtyZXR1cm4gaGFuZGxlQ2FsbGJhY2soZXJyb3IsITEsY2FsbGJhY2spfSxwcm9ncmVzc0JhY2spfX0sRGVmZXJyZWQucHJvdG90eXBlPXtyZXNvbHZlOmZ1bmN0aW9uKHZhbCl7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzfHwodmFsPT09dGhpcy5wcm9taXNlP3RoaXMuJCRyZWplY3QoJHFNaW5FcnIoInFjeWNsZSIsIkV4cGVjdGVkIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCB2YWx1ZSBvdGhlciB0aGFuIGl0c2VsZiAnezB9JyIsdmFsKSk6dGhpcy4kJHJlc29sdmUodmFsKSl9LCQkcmVzb2x2ZTpmdW5jdGlvbih2YWwpe3ZhciB0aGVuLGZucztmbnM9Y2FsbE9uY2UodGhpcyx0aGlzLiQkcmVzb2x2ZSx0aGlzLiQkcmVqZWN0KTt0cnl7KGlzT2JqZWN0KHZhbCl8fGlzRnVuY3Rpb24odmFsKSkmJih0aGVuPXZhbCYmdmFsLnRoZW4pLGlzRnVuY3Rpb24odGhlbik/KHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0tMSx0aGVuLmNhbGwodmFsLGZuc1swXSxmbnNbMV0sdGhpcy5ub3RpZnkpKToodGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9dmFsLHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0xLHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMucHJvbWlzZS4kJHN0YXRlKSl9Y2F0Y2goZSl7Zm5zWzFdKGUpLGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSxyZWplY3Q6ZnVuY3Rpb24ocmVhc29uKXt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXN8fHRoaXMuJCRyZWplY3QocmVhc29uKX0sJCRyZWplY3Q6ZnVuY3Rpb24ocmVhc29uKXt0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZT1yZWFzb24sdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPTIsc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy5wcm9taXNlLiQkc3RhdGUpfSxub3RpZnk6ZnVuY3Rpb24ocHJvZ3Jlc3Mpe3ZhciBjYWxsYmFja3M9dGhpcy5wcm9taXNlLiQkc3RhdGUucGVuZGluZzt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM8PTAmJmNhbGxiYWNrcyYmY2FsbGJhY2tzLmxlbmd0aCYmbmV4dFRpY2soZnVuY3Rpb24oKXtmb3IodmFyIGNhbGxiYWNrLHJlc3VsdCxpPTAsaWk9Y2FsbGJhY2tzLmxlbmd0aDtpaT5pO2krKyl7cmVzdWx0PWNhbGxiYWNrc1tpXVswXSxjYWxsYmFjaz1jYWxsYmFja3NbaV1bM107dHJ5e3Jlc3VsdC5ub3RpZnkoaXNGdW5jdGlvbihjYWxsYmFjayk/Y2FsbGJhY2socHJvZ3Jlc3MpOnByb2dyZXNzKX1jYXRjaChlKXtleGNlcHRpb25IYW5kbGVyKGUpfX19KX19O3ZhciByZWplY3Q9ZnVuY3Rpb24ocmVhc29uKXt2YXIgcmVzdWx0PW5ldyBEZWZlcnJlZDtyZXR1cm4gcmVzdWx0LnJlamVjdChyZWFzb24pLHJlc3VsdC5wcm9taXNlfSxtYWtlUHJvbWlzZT1mdW5jdGlvbih2YWx1ZSxyZXNvbHZlZCl7dmFyIHJlc3VsdD1uZXcgRGVmZXJyZWQ7cmV0dXJuIHJlc29sdmVkP3Jlc3VsdC5yZXNvbHZlKHZhbHVlKTpyZXN1bHQucmVqZWN0KHZhbHVlKSxyZXN1bHQucHJvbWlzZX0saGFuZGxlQ2FsbGJhY2s9ZnVuY3Rpb24odmFsdWUsaXNSZXNvbHZlZCxjYWxsYmFjayl7dmFyIGNhbGxiYWNrT3V0cHV0PW51bGw7dHJ5e2lzRnVuY3Rpb24oY2FsbGJhY2spJiYoY2FsbGJhY2tPdXRwdXQ9Y2FsbGJhY2soKSl9Y2F0Y2goZSl7cmV0dXJuIG1ha2VQcm9taXNlKGUsITEpfXJldHVybiBpc1Byb21pc2VMaWtlKGNhbGxiYWNrT3V0cHV0KT9jYWxsYmFja091dHB1dC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG1ha2VQcm9taXNlKHZhbHVlLGlzUmVzb2x2ZWQpfSxmdW5jdGlvbihlcnJvcil7cmV0dXJuIG1ha2VQcm9taXNlKGVycm9yLCExKX0pOm1ha2VQcm9taXNlKHZhbHVlLGlzUmVzb2x2ZWQpfSx3aGVuPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycmJhY2sscHJvZ3Jlc3NCYWNrKXt2YXIgcmVzdWx0PW5ldyBEZWZlcnJlZDtyZXR1cm4gcmVzdWx0LnJlc29sdmUodmFsdWUpLHJlc3VsdC5wcm9taXNlLnRoZW4oY2FsbGJhY2ssZXJyYmFjayxwcm9ncmVzc0JhY2spfSwkUT1mdW5jdGlvbiBRKHJlc29sdmVyKXtmdW5jdGlvbiByZXNvbHZlRm4odmFsdWUpe2RlZmVycmVkLnJlc29sdmUodmFsdWUpfWZ1bmN0aW9uIHJlamVjdEZuKHJlYXNvbil7ZGVmZXJyZWQucmVqZWN0KHJlYXNvbil9aWYoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKXRocm93ICRxTWluRXJyKCJub3JzbHZyIiwiRXhwZWN0ZWQgcmVzb2x2ZXJGbiwgZ290ICd7MH0nIixyZXNvbHZlcik7aWYoISh0aGlzIGluc3RhbmNlb2YgUSkpcmV0dXJuIG5ldyBRKHJlc29sdmVyKTt2YXIgZGVmZXJyZWQ9bmV3IERlZmVycmVkO3JldHVybiByZXNvbHZlcihyZXNvbHZlRm4scmVqZWN0Rm4pLGRlZmVycmVkLnByb21pc2V9O3JldHVybiAkUS5kZWZlcj1kZWZlciwkUS5yZWplY3Q9cmVqZWN0LCRRLndoZW49d2hlbiwkUS5hbGw9YWxsLCRRfWZ1bmN0aW9uICQkUkFGUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJHRpbWVvdXQiLGZ1bmN0aW9uKCR3aW5kb3csJHRpbWVvdXQpe3ZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWU9JHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwkd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSxjYW5jZWxBbmltYXRpb25GcmFtZT0kd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHwkd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHwkd2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSxyYWZTdXBwb3J0ZWQ9ISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWUscmFmPXJhZlN1cHBvcnRlZD9mdW5jdGlvbihmbil7dmFyIGlkPXJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7cmV0dXJuIGZ1bmN0aW9uKCl7Y2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpfX06ZnVuY3Rpb24oZm4pe3ZhciB0aW1lcj0kdGltZW91dChmbiwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7JHRpbWVvdXQuY2FuY2VsKHRpbWVyKX19O3JldHVybiByYWYuc3VwcG9ydGVkPXJhZlN1cHBvcnRlZCxyYWZ9XX1mdW5jdGlvbiAkUm9vdFNjb3BlUHJvdmlkZXIoKXt2YXIgVFRMPTEwLCRyb290U2NvcGVNaW5FcnI9bWluRXJyKCIkcm9vdFNjb3BlIiksbGFzdERpcnR5V2F0Y2g9bnVsbCxhcHBseUFzeW5jSWQ9bnVsbDt0aGlzLmRpZ2VzdFR0bD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihUVEw9dmFsdWUpLFRUTH0sdGhpcy4kZ2V0PVsiJGluamVjdG9yIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkcGFyc2UiLCIkYnJvd3NlciIsZnVuY3Rpb24oJGluamVjdG9yLCRleGNlcHRpb25IYW5kbGVyLCRwYXJzZSwkYnJvd3Nlcil7ZnVuY3Rpb24gU2NvcGUoKXt0aGlzLiRpZD1uZXh0VWlkKCksdGhpcy4kJHBoYXNlPXRoaXMuJHBhcmVudD10aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9bnVsbCx0aGlzLiRyb290PXRoaXMsdGhpcy4kJGRlc3Ryb3llZD0hMSx0aGlzLiQkbGlzdGVuZXJzPXt9LHRoaXMuJCRsaXN0ZW5lckNvdW50PXt9LHRoaXMuJCRpc29sYXRlQmluZGluZ3M9bnVsbH1mdW5jdGlvbiBiZWdpblBoYXNlKHBoYXNlKXtpZigkcm9vdFNjb3BlLiQkcGhhc2UpdGhyb3cgJHJvb3RTY29wZU1pbkVycigiaW5wcm9nIiwiezB9IGFscmVhZHkgaW4gcHJvZ3Jlc3MiLCRyb290U2NvcGUuJCRwaGFzZSk7JHJvb3RTY29wZS4kJHBoYXNlPXBoYXNlfWZ1bmN0aW9uIGNsZWFyUGhhc2UoKXskcm9vdFNjb3BlLiQkcGhhc2U9bnVsbH1mdW5jdGlvbiBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KGN1cnJlbnQsY291bnQsbmFtZSl7ZG8gY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0tPWNvdW50LDA9PT1jdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSYmZGVsZXRlIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdO3doaWxlKGN1cnJlbnQ9Y3VycmVudC4kcGFyZW50KX1mdW5jdGlvbiBpbml0V2F0Y2hWYWwoKXt9ZnVuY3Rpb24gZmx1c2hBcHBseUFzeW5jKCl7Zm9yKDthcHBseUFzeW5jUXVldWUubGVuZ3RoOyl0cnl7YXBwbHlBc3luY1F1ZXVlLnNoaWZ0KCkoKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1hcHBseUFzeW5jSWQ9bnVsbH1mdW5jdGlvbiBzY2hlZHVsZUFwcGx5QXN5bmMoKXtudWxsPT09YXBwbHlBc3luY0lkJiYoYXBwbHlBc3luY0lkPSRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCl7JHJvb3RTY29wZS4kYXBwbHkoZmx1c2hBcHBseUFzeW5jKX0pKX1TY29wZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlNjb3BlLCRuZXc6ZnVuY3Rpb24oaXNvbGF0ZSxwYXJlbnQpe2Z1bmN0aW9uIGRlc3Ryb3lDaGlsZCgpe2NoaWxkLiQkZGVzdHJveWVkPSEwfXZhciBjaGlsZDtyZXR1cm4gcGFyZW50PXBhcmVudHx8dGhpcyxpc29sYXRlPyhjaGlsZD1uZXcgU2NvcGUsY2hpbGQuJHJvb3Q9dGhpcy4kcm9vdCk6KHRoaXMuJCRDaGlsZFNjb3BlfHwodGhpcy4kJENoaWxkU2NvcGU9ZnVuY3Rpb24oKXt0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsLHRoaXMuJCRsaXN0ZW5lcnM9e30sdGhpcy4kJGxpc3RlbmVyQ291bnQ9e30sdGhpcy4kaWQ9bmV4dFVpZCgpLHRoaXMuJCRDaGlsZFNjb3BlPW51bGx9LHRoaXMuJCRDaGlsZFNjb3BlLnByb3RvdHlwZT10aGlzKSxjaGlsZD1uZXcgdGhpcy4kJENoaWxkU2NvcGUpLGNoaWxkLiRwYXJlbnQ9cGFyZW50LGNoaWxkLiQkcHJldlNpYmxpbmc9cGFyZW50LiQkY2hpbGRUYWlsLHBhcmVudC4kJGNoaWxkSGVhZD8ocGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmc9Y2hpbGQscGFyZW50LiQkY2hpbGRUYWlsPWNoaWxkKTpwYXJlbnQuJCRjaGlsZEhlYWQ9cGFyZW50LiQkY2hpbGRUYWlsPWNoaWxkLChpc29sYXRlfHxwYXJlbnQhPXRoaXMpJiZjaGlsZC4kb24oIiRkZXN0cm95IixkZXN0cm95Q2hpbGQpLGNoaWxkfSwkd2F0Y2g6ZnVuY3Rpb24od2F0Y2hFeHAsbGlzdGVuZXIsb2JqZWN0RXF1YWxpdHkpe3ZhciBnZXQ9JHBhcnNlKHdhdGNoRXhwKTtpZihnZXQuJCR3YXRjaERlbGVnYXRlKXJldHVybiBnZXQuJCR3YXRjaERlbGVnYXRlKHRoaXMsbGlzdGVuZXIsb2JqZWN0RXF1YWxpdHksZ2V0KTt2YXIgc2NvcGU9dGhpcyxhcnJheT1zY29wZS4kJHdhdGNoZXJzLHdhdGNoZXI9e2ZuOmxpc3RlbmVyLGxhc3Q6aW5pdFdhdGNoVmFsLGdldDpnZXQsZXhwOndhdGNoRXhwLGVxOiEhb2JqZWN0RXF1YWxpdHl9O3JldHVybiBsYXN0RGlydHlXYXRjaD1udWxsLGlzRnVuY3Rpb24obGlzdGVuZXIpfHwod2F0Y2hlci5mbj1ub29wKSxhcnJheXx8KGFycmF5PXNjb3BlLiQkd2F0Y2hlcnM9W10pLGFycmF5LnVuc2hpZnQod2F0Y2hlciksZnVuY3Rpb24oKXthcnJheVJlbW92ZShhcnJheSx3YXRjaGVyKSxsYXN0RGlydHlXYXRjaD1udWxsfX0sJHdhdGNoR3JvdXA6ZnVuY3Rpb24od2F0Y2hFeHByZXNzaW9ucyxsaXN0ZW5lcil7ZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbigpe2NoYW5nZVJlYWN0aW9uU2NoZWR1bGVkPSExLGZpcnN0UnVuPyhmaXJzdFJ1bj0hMSxsaXN0ZW5lcihuZXdWYWx1ZXMsbmV3VmFsdWVzLHNlbGYpKTpsaXN0ZW5lcihuZXdWYWx1ZXMsb2xkVmFsdWVzLHNlbGYpfXZhciBvbGRWYWx1ZXM9bmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKSxuZXdWYWx1ZXM9bmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKSxkZXJlZ2lzdGVyRm5zPVtdLHNlbGY9dGhpcyxjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZD0hMSxmaXJzdFJ1bj0hMDtpZighd2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpe3ZhciBzaG91bGRDYWxsPSEwO3JldHVybiBzZWxmLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtzaG91bGRDYWxsJiZsaXN0ZW5lcihuZXdWYWx1ZXMsbmV3VmFsdWVzLHNlbGYpfSksZnVuY3Rpb24oKXtzaG91bGRDYWxsPSExfX1yZXR1cm4gMT09PXdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoP3RoaXMuJHdhdGNoKHdhdGNoRXhwcmVzc2lvbnNbMF0sZnVuY3Rpb24odmFsdWUsb2xkVmFsdWUsc2NvcGUpe25ld1ZhbHVlc1swXT12YWx1ZSxvbGRWYWx1ZXNbMF09b2xkVmFsdWUsbGlzdGVuZXIobmV3VmFsdWVzLHZhbHVlPT09b2xkVmFsdWU/bmV3VmFsdWVzOm9sZFZhbHVlcyxzY29wZSl9KTooZm9yRWFjaCh3YXRjaEV4cHJlc3Npb25zLGZ1bmN0aW9uKGV4cHIsaSl7dmFyIHVud2F0Y2hGbj1zZWxmLiR3YXRjaChleHByLGZ1bmN0aW9uKHZhbHVlLG9sZFZhbHVlKXtuZXdWYWx1ZXNbaV09dmFsdWUsb2xkVmFsdWVzW2ldPW9sZFZhbHVlLGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkfHwoY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQ9ITAsc2VsZi4kZXZhbEFzeW5jKHdhdGNoR3JvdXBBY3Rpb24pKX0pO2RlcmVnaXN0ZXJGbnMucHVzaCh1bndhdGNoRm4pfSksZnVuY3Rpb24oKXtmb3IoO2RlcmVnaXN0ZXJGbnMubGVuZ3RoOylkZXJlZ2lzdGVyRm5zLnNoaWZ0KCkoKX0pfSwkd2F0Y2hDb2xsZWN0aW9uOmZ1bmN0aW9uKG9iaixsaXN0ZW5lcil7ZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKF92YWx1ZSl7bmV3VmFsdWU9X3ZhbHVlO3ZhciBuZXdMZW5ndGgsa2V5LGJvdGhOYU4sbmV3SXRlbSxvbGRJdGVtO2lmKGlzT2JqZWN0KG5ld1ZhbHVlKSlpZihpc0FycmF5TGlrZShuZXdWYWx1ZSkpe29sZFZhbHVlIT09aW50ZXJuYWxBcnJheSYmKG9sZFZhbHVlPWludGVybmFsQXJyYXksb2xkTGVuZ3RoPW9sZFZhbHVlLmxlbmd0aD0wLGNoYW5nZURldGVjdGVkKyspLG5ld0xlbmd0aD1uZXdWYWx1ZS5sZW5ndGgsb2xkTGVuZ3RoIT09bmV3TGVuZ3RoJiYoY2hhbmdlRGV0ZWN0ZWQrKyxvbGRWYWx1ZS5sZW5ndGg9b2xkTGVuZ3RoPW5ld0xlbmd0aCk7Zm9yKHZhciBpPTA7bmV3TGVuZ3RoPmk7aSsrKW9sZEl0ZW09b2xkVmFsdWVbaV0sbmV3SXRlbT1uZXdWYWx1ZVtpXSxib3RoTmFOPW9sZEl0ZW0hPT1vbGRJdGVtJiZuZXdJdGVtIT09bmV3SXRlbSxib3RoTmFOfHxvbGRJdGVtPT09bmV3SXRlbXx8KGNoYW5nZURldGVjdGVkKyssb2xkVmFsdWVbaV09bmV3SXRlbSl9ZWxzZXtvbGRWYWx1ZSE9PWludGVybmFsT2JqZWN0JiYob2xkVmFsdWU9aW50ZXJuYWxPYmplY3Q9e30sb2xkTGVuZ3RoPTAsY2hhbmdlRGV0ZWN0ZWQrKyksbmV3TGVuZ3RoPTA7Zm9yKGtleSBpbiBuZXdWYWx1ZSluZXdWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpJiYobmV3TGVuZ3RoKyssbmV3SXRlbT1uZXdWYWx1ZVtrZXldLG9sZEl0ZW09b2xkVmFsdWVba2V5XSxrZXkgaW4gb2xkVmFsdWU/KGJvdGhOYU49b2xkSXRlbSE9PW9sZEl0ZW0mJm5ld0l0ZW0hPT1uZXdJdGVtLGJvdGhOYU58fG9sZEl0ZW09PT1uZXdJdGVtfHwoY2hhbmdlRGV0ZWN0ZWQrKyxvbGRWYWx1ZVtrZXldPW5ld0l0ZW0pKToob2xkTGVuZ3RoKyssb2xkVmFsdWVba2V5XT1uZXdJdGVtLGNoYW5nZURldGVjdGVkKyspKTtpZihvbGRMZW5ndGg+bmV3TGVuZ3RoKXtjaGFuZ2VEZXRlY3RlZCsrO2ZvcihrZXkgaW4gb2xkVmFsdWUpbmV3VmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KXx8KG9sZExlbmd0aC0tLGRlbGV0ZSBvbGRWYWx1ZVtrZXldKX19ZWxzZSBvbGRWYWx1ZSE9PW5ld1ZhbHVlJiYob2xkVmFsdWU9bmV3VmFsdWUsY2hhbmdlRGV0ZWN0ZWQrKyk7cmV0dXJuIGNoYW5nZURldGVjdGVkfWZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKXtpZihpbml0UnVuPyhpbml0UnVuPSExLGxpc3RlbmVyKG5ld1ZhbHVlLG5ld1ZhbHVlLHNlbGYpKTpsaXN0ZW5lcihuZXdWYWx1ZSx2ZXJ5T2xkVmFsdWUsc2VsZiksdHJhY2tWZXJ5T2xkVmFsdWUpaWYoaXNPYmplY3QobmV3VmFsdWUpKWlmKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSl7dmVyeU9sZFZhbHVlPW5ldyBBcnJheShuZXdWYWx1ZS5sZW5ndGgpO2Zvcih2YXIgaT0wO2k8bmV3VmFsdWUubGVuZ3RoO2krKyl2ZXJ5T2xkVmFsdWVbaV09bmV3VmFsdWVbaV19ZWxzZXt2ZXJ5T2xkVmFsdWU9e307Zm9yKHZhciBrZXkgaW4gbmV3VmFsdWUpaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSxrZXkpJiYodmVyeU9sZFZhbHVlW2tleV09bmV3VmFsdWVba2V5XSl9ZWxzZSB2ZXJ5T2xkVmFsdWU9bmV3VmFsdWV9JHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yLiRzdGF0ZWZ1bD0hMDt2YXIgbmV3VmFsdWUsb2xkVmFsdWUsdmVyeU9sZFZhbHVlLHNlbGY9dGhpcyx0cmFja1ZlcnlPbGRWYWx1ZT1saXN0ZW5lci5sZW5ndGg+MSxjaGFuZ2VEZXRlY3RlZD0wLGNoYW5nZURldGVjdG9yPSRwYXJzZShvYmosJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKSxpbnRlcm5hbEFycmF5PVtdLGludGVybmFsT2JqZWN0PXt9LGluaXRSdW49ITAsb2xkTGVuZ3RoPTA7cmV0dXJuIHRoaXMuJHdhdGNoKGNoYW5nZURldGVjdG9yLCR3YXRjaENvbGxlY3Rpb25BY3Rpb24pfSwkZGlnZXN0OmZ1bmN0aW9uKCl7dmFyIHdhdGNoLHZhbHVlLGxhc3Qsd2F0Y2hlcnMsbGVuZ3RoLGRpcnR5LG5leHQsY3VycmVudCxsb2dJZHgsbG9nTXNnLGFzeW5jVGFzayx0dGw9VFRMLHRhcmdldD10aGlzLHdhdGNoTG9nPVtdO2JlZ2luUGhhc2UoIiRkaWdlc3QiKSwkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCksdGhpcz09PSRyb290U2NvcGUmJm51bGwhPT1hcHBseUFzeW5jSWQmJigkYnJvd3Nlci5kZWZlci5jYW5jZWwoYXBwbHlBc3luY0lkKSxmbHVzaEFwcGx5QXN5bmMoKSksbGFzdERpcnR5V2F0Y2g9bnVsbDtkb3tmb3IoZGlydHk9ITEsY3VycmVudD10YXJnZXQ7YXN5bmNRdWV1ZS5sZW5ndGg7KXt0cnl7YXN5bmNUYXNrPWFzeW5jUXVldWUuc2hpZnQoKSxhc3luY1Rhc2suc2NvcGUuJGV2YWwoYXN5bmNUYXNrLmV4cHJlc3Npb24pfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfWxhc3REaXJ0eVdhdGNoPW51bGx9dHJhdmVyc2VTY29wZXNMb29wOmRve2lmKHdhdGNoZXJzPWN1cnJlbnQuJCR3YXRjaGVycylmb3IobGVuZ3RoPXdhdGNoZXJzLmxlbmd0aDtsZW5ndGgtLTspdHJ5e2lmKHdhdGNoPXdhdGNoZXJzW2xlbmd0aF0paWYoKHZhbHVlPXdhdGNoLmdldChjdXJyZW50KSk9PT0obGFzdD13YXRjaC5sYXN0KXx8KHdhdGNoLmVxP2VxdWFscyh2YWx1ZSxsYXN0KToibnVtYmVyIj09dHlwZW9mIHZhbHVlJiYibnVtYmVyIj09dHlwZW9mIGxhc3QmJmlzTmFOKHZhbHVlKSYmaXNOYU4obGFzdCkpKXtpZih3YXRjaD09PWxhc3REaXJ0eVdhdGNoKXtkaXJ0eT0hMTticmVhayB0cmF2ZXJzZVNjb3Blc0xvb3B9fWVsc2UgZGlydHk9ITAsbGFzdERpcnR5V2F0Y2g9d2F0Y2gsd2F0Y2gubGFzdD13YXRjaC5lcT9jb3B5KHZhbHVlLG51bGwpOnZhbHVlLHdhdGNoLmZuKHZhbHVlLGxhc3Q9PT1pbml0V2F0Y2hWYWw/dmFsdWU6bGFzdCxjdXJyZW50KSw1PnR0bCYmKGxvZ0lkeD00LXR0bCx3YXRjaExvZ1tsb2dJZHhdfHwod2F0Y2hMb2dbbG9nSWR4XT1bXSksbG9nTXNnPWlzRnVuY3Rpb24od2F0Y2guZXhwKT8iZm46ICIrKHdhdGNoLmV4cC5uYW1lfHx3YXRjaC5leHAudG9TdHJpbmcoKSk6d2F0Y2guZXhwLGxvZ01zZys9IjsgbmV3VmFsOiAiK3RvSnNvbih2YWx1ZSkrIjsgb2xkVmFsOiAiK3RvSnNvbihsYXN0KSx3YXRjaExvZ1tsb2dJZHhdLnB1c2gobG9nTXNnKSl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9aWYoIShuZXh0PWN1cnJlbnQuJCRjaGlsZEhlYWR8fGN1cnJlbnQhPT10YXJnZXQmJmN1cnJlbnQuJCRuZXh0U2libGluZykpZm9yKDtjdXJyZW50IT09dGFyZ2V0JiYhKG5leHQ9Y3VycmVudC4kJG5leHRTaWJsaW5nKTspY3VycmVudD1jdXJyZW50LiRwYXJlbnR9d2hpbGUoY3VycmVudD1uZXh0KTtpZigoZGlydHl8fGFzeW5jUXVldWUubGVuZ3RoKSYmIXR0bC0tKXRocm93IGNsZWFyUGhhc2UoKSwkcm9vdFNjb3BlTWluRXJyKCJpbmZkaWciLCJ7MH0gJGRpZ2VzdCgpIGl0ZXJhdGlvbnMgcmVhY2hlZC4gQWJvcnRpbmchXG5XYXRjaGVycyBmaXJlZCBpbiB0aGUgbGFzdCA1IGl0ZXJhdGlvbnM6IHsxfSIsVFRMLHRvSnNvbih3YXRjaExvZykpfXdoaWxlKGRpcnR5fHxhc3luY1F1ZXVlLmxlbmd0aCk7Zm9yKGNsZWFyUGhhc2UoKTtwb3N0RGlnZXN0UXVldWUubGVuZ3RoOyl0cnl7cG9zdERpZ2VzdFF1ZXVlLnNoaWZ0KCkoKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX19LCRkZXN0cm95OmZ1bmN0aW9uKCl7aWYoIXRoaXMuJCRkZXN0cm95ZWQpe3ZhciBwYXJlbnQ9dGhpcy4kcGFyZW50O2lmKHRoaXMuJGJyb2FkY2FzdCgiJGRlc3Ryb3kiKSx0aGlzLiQkZGVzdHJveWVkPSEwLHRoaXMhPT0kcm9vdFNjb3BlKXtmb3IodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudClkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHRoaXMsdGhpcy4kJGxpc3RlbmVyQ291bnRbZXZlbnROYW1lXSxldmVudE5hbWUpO3BhcmVudC4kJGNoaWxkSGVhZD09dGhpcyYmKHBhcmVudC4kJGNoaWxkSGVhZD10aGlzLiQkbmV4dFNpYmxpbmcpLHBhcmVudC4kJGNoaWxkVGFpbD09dGhpcyYmKHBhcmVudC4kJGNoaWxkVGFpbD10aGlzLiQkcHJldlNpYmxpbmcpLHRoaXMuJCRwcmV2U2libGluZyYmKHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nPXRoaXMuJCRuZXh0U2libGluZyksdGhpcy4kJG5leHRTaWJsaW5nJiYodGhpcy4kJG5leHRTaWJsaW5nLiQkcHJldlNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nKSx0aGlzLiRkZXN0cm95PXRoaXMuJGRpZ2VzdD10aGlzLiRhcHBseT10aGlzLiRldmFsQXN5bmM9dGhpcy4kYXBwbHlBc3luYz1ub29wLHRoaXMuJG9uPXRoaXMuJHdhdGNoPXRoaXMuJHdhdGNoR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gbm9vcH0sdGhpcy4kJGxpc3RlbmVycz17fSx0aGlzLiRwYXJlbnQ9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9dGhpcy4kcm9vdD10aGlzLiQkd2F0Y2hlcnM9bnVsbH19fSwkZXZhbDpmdW5jdGlvbihleHByLGxvY2Fscyl7cmV0dXJuICRwYXJzZShleHByKSh0aGlzLGxvY2Fscyl9LCRldmFsQXN5bmM6ZnVuY3Rpb24oZXhwcil7JHJvb3RTY29wZS4kJHBoYXNlfHxhc3luY1F1ZXVlLmxlbmd0aHx8JGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKXthc3luY1F1ZXVlLmxlbmd0aCYmJHJvb3RTY29wZS4kZGlnZXN0KCl9KSxhc3luY1F1ZXVlLnB1c2goe3Njb3BlOnRoaXMsZXhwcmVzc2lvbjpleHByfSl9LCQkcG9zdERpZ2VzdDpmdW5jdGlvbihmbil7cG9zdERpZ2VzdFF1ZXVlLnB1c2goZm4pfSwkYXBwbHk6ZnVuY3Rpb24oZXhwcil7dHJ5e3JldHVybiBiZWdpblBoYXNlKCIkYXBwbHkiKSx0aGlzLiRldmFsKGV4cHIpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfWZpbmFsbHl7Y2xlYXJQaGFzZSgpO3RyeXskcm9vdFNjb3BlLiRkaWdlc3QoKX1jYXRjaChlKXt0aHJvdyAkZXhjZXB0aW9uSGFuZGxlcihlKSxlfX19LCRhcHBseUFzeW5jOmZ1bmN0aW9uKGV4cHIpe2Z1bmN0aW9uICRhcHBseUFzeW5jRXhwcmVzc2lvbigpe3Njb3BlLiRldmFsKGV4cHIpfXZhciBzY29wZT10aGlzO2V4cHImJmFwcGx5QXN5bmNRdWV1ZS5wdXNoKCRhcHBseUFzeW5jRXhwcmVzc2lvbiksc2NoZWR1bGVBcHBseUFzeW5jKCl9LCRvbjpmdW5jdGlvbihuYW1lLGxpc3RlbmVyKXt2YXIgbmFtZWRMaXN0ZW5lcnM9dGhpcy4kJGxpc3RlbmVyc1tuYW1lXTtuYW1lZExpc3RlbmVyc3x8KHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV09bmFtZWRMaXN0ZW5lcnM9W10pLG5hbWVkTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO3ZhciBjdXJyZW50PXRoaXM7ZG8gY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV18fChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXT0wKSxjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSsrO3doaWxlKGN1cnJlbnQ9Y3VycmVudC4kcGFyZW50KTt2YXIgc2VsZj10aGlzO3JldHVybiBmdW5jdGlvbigpe25hbWVkTGlzdGVuZXJzW25hbWVkTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpXT1udWxsLGRlY3JlbWVudExpc3RlbmVyQ291bnQoc2VsZiwxLG5hbWUpfX0sJGVtaXQ6ZnVuY3Rpb24obmFtZSl7dmFyIG5hbWVkTGlzdGVuZXJzLGksbGVuZ3RoLGVtcHR5PVtdLHNjb3BlPXRoaXMsc3RvcFByb3BhZ2F0aW9uPSExLGV2ZW50PXtuYW1lOm5hbWUsdGFyZ2V0U2NvcGU6c2NvcGUsc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7c3RvcFByb3BhZ2F0aW9uPSEwfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9LGxpc3RlbmVyQXJncz1jb25jYXQoW2V2ZW50XSxhcmd1bWVudHMsMSk7ZG97Zm9yKG5hbWVkTGlzdGVuZXJzPXNjb3BlLiQkbGlzdGVuZXJzW25hbWVdfHxlbXB0eSxldmVudC5jdXJyZW50U2NvcGU9c2NvcGUsaT0wLGxlbmd0aD1uYW1lZExpc3RlbmVycy5sZW5ndGg7bGVuZ3RoPmk7aSsrKWlmKG5hbWVkTGlzdGVuZXJzW2ldKXRyeXtuYW1lZExpc3RlbmVyc1tpXS5hcHBseShudWxsLGxpc3RlbmVyQXJncyl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9ZWxzZSBuYW1lZExpc3RlbmVycy5zcGxpY2UoaSwxKSxpLS0sbGVuZ3RoLS07aWYoc3RvcFByb3BhZ2F0aW9uKXJldHVybiBldmVudC5jdXJyZW50U2NvcGU9bnVsbCxldmVudDtzY29wZT1zY29wZS4kcGFyZW50fXdoaWxlKHNjb3BlKTtyZXR1cm4gZXZlbnQuY3VycmVudFNjb3BlPW51bGwsZXZlbnR9LCRicm9hZGNhc3Q6ZnVuY3Rpb24obmFtZSl7dmFyIHRhcmdldD10aGlzLGN1cnJlbnQ9dGFyZ2V0LG5leHQ9dGFyZ2V0LGV2ZW50PXtuYW1lOm5hbWUsdGFyZ2V0U2NvcGU6dGFyZ2V0LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZXZlbnQuZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX07aWYoIXRhcmdldC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pcmV0dXJuIGV2ZW50O2Zvcih2YXIgbGlzdGVuZXJzLGksbGVuZ3RoLGxpc3RlbmVyQXJncz1jb25jYXQoW2V2ZW50XSxhcmd1bWVudHMsMSk7Y3VycmVudD1uZXh0Oyl7Zm9yKGV2ZW50LmN1cnJlbnRTY29wZT1jdXJyZW50LGxpc3RlbmVycz1jdXJyZW50LiQkbGlzdGVuZXJzW25hbWVdfHxbXSxpPTAsbGVuZ3RoPWxpc3RlbmVycy5sZW5ndGg7bGVuZ3RoPmk7aSsrKWlmKGxpc3RlbmVyc1tpXSl0cnl7bGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsbGlzdGVuZXJBcmdzKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1lbHNlIGxpc3RlbmVycy5zcGxpY2UoaSwxKSxpLS0sbGVuZ3RoLS07aWYoIShuZXh0PWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdJiZjdXJyZW50LiQkY2hpbGRIZWFkfHxjdXJyZW50IT09dGFyZ2V0JiZjdXJyZW50LiQkbmV4dFNpYmxpbmcpKWZvcig7Y3VycmVudCE9PXRhcmdldCYmIShuZXh0PWN1cnJlbnQuJCRuZXh0U2libGluZyk7KWN1cnJlbnQ9Y3VycmVudC4kcGFyZW50fXJldHVybiBldmVudC5jdXJyZW50U2NvcGU9bnVsbCxldmVudH19O3ZhciAkcm9vdFNjb3BlPW5ldyBTY29wZSxhc3luY1F1ZXVlPSRyb290U2NvcGUuJCRhc3luY1F1ZXVlPVtdLHBvc3REaWdlc3RRdWV1ZT0kcm9vdFNjb3BlLiQkcG9zdERpZ2VzdFF1ZXVlPVtdLGFwcGx5QXN5bmNRdWV1ZT0kcm9vdFNjb3BlLiQkYXBwbHlBc3luY1F1ZXVlPVtdO3JldHVybiAkcm9vdFNjb3BlfV19ZnVuY3Rpb24gJCRTYW5pdGl6ZVVyaVByb3ZpZGVyKCl7dmFyIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PS9eXHMqKGh0dHBzP3xmdHB8bWFpbHRvfHRlbHxmaWxlKTovLGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD0vXlxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXC8pLzt0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKHJlZ2V4cCl7cmV0dXJuIGlzRGVmaW5lZChyZWdleHApPyhhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1yZWdleHAsdGhpcyk6YUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3R9LHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKHJlZ2V4cCl7cmV0dXJuIGlzRGVmaW5lZChyZWdleHApPyhpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9cmVnZXhwLHRoaXMpOmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdH0sdGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHVyaSxpc0ltYWdlKXt2YXIgbm9ybWFsaXplZFZhbCxyZWdleD1pc0ltYWdlP2ltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdDphSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdDtyZXR1cm4gbm9ybWFsaXplZFZhbD11cmxSZXNvbHZlKHVyaSkuaHJlZiwiIj09PW5vcm1hbGl6ZWRWYWx8fG5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpP3VyaToidW5zYWZlOiIrbm9ybWFsaXplZFZhbH19fWZ1bmN0aW9uIGVzY2FwZUZvclJlZ2V4cChzKXtyZXR1cm4gcy5yZXBsYWNlKC8oWy0oKVxbXF17fSs/Ki4kXF58LDojPCFcXF0pL2csIlxcJDEiKS5yZXBsYWNlKC9ceDA4L2csIlxceDA4Iil9ZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKXtpZigic2VsZiI9PT1tYXRjaGVyKXJldHVybiBtYXRjaGVyO2lmKGlzU3RyaW5nKG1hdGNoZXIpKXtpZihtYXRjaGVyLmluZGV4T2YoIioqKiIpPi0xKXRocm93ICRzY2VNaW5FcnIoIml3Y2FyZCIsIklsbGVnYWwgc2VxdWVuY2UgKioqIGluIHN0cmluZyBtYXRjaGVyLiAgU3RyaW5nOiB7MH0iLG1hdGNoZXIpO3JldHVybiBtYXRjaGVyPWVzY2FwZUZvclJlZ2V4cChtYXRjaGVyKS5yZXBsYWNlKCJcXCpcXCoiLCIuKiIpLnJlcGxhY2UoIlxcKiIsIlteOi8uPyY7XSoiKSxuZXcgUmVnRXhwKCJeIittYXRjaGVyKyIkIil9aWYoaXNSZWdFeHAobWF0Y2hlcikpcmV0dXJuIG5ldyBSZWdFeHAoIl4iK21hdGNoZXIuc291cmNlKyIkIik7dGhyb3cgJHNjZU1pbkVycigiaW1hdGNoZXIiLCdNYXRjaGVycyBtYXkgb25seSBiZSAic2VsZiIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpfWZ1bmN0aW9uIGFkanVzdE1hdGNoZXJzKG1hdGNoZXJzKXt2YXIgYWRqdXN0ZWRNYXRjaGVycz1bXTtyZXR1cm4gaXNEZWZpbmVkKG1hdGNoZXJzKSYmZm9yRWFjaChtYXRjaGVycyxmdW5jdGlvbihtYXRjaGVyKXthZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSl9KSxhZGp1c3RlZE1hdGNoZXJzfWZ1bmN0aW9uICRTY2VEZWxlZ2F0ZVByb3ZpZGVyKCl7dGhpcy5TQ0VfQ09OVEVYVFM9U0NFX0NPTlRFWFRTO3ZhciByZXNvdXJjZVVybFdoaXRlbGlzdD1bInNlbGYiXSxyZXNvdXJjZVVybEJsYWNrbGlzdD1bXTt0aGlzLnJlc291cmNlVXJsV2hpdGVsaXN0PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKHJlc291cmNlVXJsV2hpdGVsaXN0PWFkanVzdE1hdGNoZXJzKHZhbHVlKSkscmVzb3VyY2VVcmxXaGl0ZWxpc3R9LHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3Q9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYocmVzb3VyY2VVcmxCbGFja2xpc3Q9YWRqdXN0TWF0Y2hlcnModmFsdWUpKSxyZXNvdXJjZVVybEJsYWNrbGlzdH0sdGhpcy4kZ2V0PVsiJGluamVjdG9yIixmdW5jdGlvbigkaW5qZWN0b3Ipe2Z1bmN0aW9uIG1hdGNoVXJsKG1hdGNoZXIscGFyc2VkVXJsKXtyZXR1cm4ic2VsZiI9PT1tYXRjaGVyP3VybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpOiEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKX1mdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCl7dmFyIGksbixwYXJzZWRVcmw9dXJsUmVzb2x2ZSh1cmwudG9TdHJpbmcoKSksYWxsb3dlZD0hMTtmb3IoaT0wLG49cmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoO24+aTtpKyspaWYobWF0Y2hVcmwocmVzb3VyY2VVcmxXaGl0ZWxpc3RbaV0scGFyc2VkVXJsKSl7YWxsb3dlZD0hMDticmVha31pZihhbGxvd2VkKWZvcihpPTAsbj1yZXNvdXJjZVVybEJsYWNrbGlzdC5sZW5ndGg7bj5pO2krKylpZihtYXRjaFVybChyZXNvdXJjZVVybEJsYWNrbGlzdFtpXSxwYXJzZWRVcmwpKXthbGxvd2VkPSExO2JyZWFrfXJldHVybiBhbGxvd2VkfWZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKXt2YXIgaG9sZGVyVHlwZT1mdW5jdGlvbih0cnVzdGVkVmFsdWUpe3RoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1c3RlZFZhbHVlfX07cmV0dXJuIEJhc2UmJihob2xkZXJUeXBlLnByb3RvdHlwZT1uZXcgQmFzZSksaG9sZGVyVHlwZS5wcm90b3R5cGUudmFsdWVPZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCl9LGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpfSxob2xkZXJUeXBlfWZ1bmN0aW9uIHRydXN0QXModHlwZSx0cnVzdGVkVmFsdWUpe3ZhciBDb25zdHJ1Y3Rvcj1ieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSk/YnlUeXBlW3R5cGVdOm51bGw7aWYoIUNvbnN0cnVjdG9yKXRocm93ICRzY2VNaW5FcnIoImljb250ZXh0IiwiQXR0ZW1wdGVkIHRvIHRydXN0IGEgdmFsdWUgaW4gaW52YWxpZCBjb250ZXh0LiBDb250ZXh0OiB7MH07IFZhbHVlOiB7MX0iLHR5cGUsdHJ1c3RlZFZhbHVlKTtpZihudWxsPT09dHJ1c3RlZFZhbHVlfHx0cnVzdGVkVmFsdWU9PT11bmRlZmluZWR8fCIiPT09dHJ1c3RlZFZhbHVlKXJldHVybiB0cnVzdGVkVmFsdWU7aWYoInN0cmluZyIhPXR5cGVvZiB0cnVzdGVkVmFsdWUpdGhyb3cgJHNjZU1pbkVycigiaXR5cGUiLCJBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfSIsdHlwZSk7cmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0cnVzdGVkVmFsdWUpfWZ1bmN0aW9uIHZhbHVlT2YobWF5YmVUcnVzdGVkKXtyZXR1cm4gbWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZT9tYXliZVRydXN0ZWQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTptYXliZVRydXN0ZWR9ZnVuY3Rpb24gZ2V0VHJ1c3RlZCh0eXBlLG1heWJlVHJ1c3RlZCl7aWYobnVsbD09PW1heWJlVHJ1c3RlZHx8bWF5YmVUcnVzdGVkPT09dW5kZWZpbmVkfHwiIj09PW1heWJlVHJ1c3RlZClyZXR1cm4gbWF5YmVUcnVzdGVkO3ZhciBjb25zdHJ1Y3Rvcj1ieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSk/YnlUeXBlW3R5cGVdOm51bGw7aWYoY29uc3RydWN0b3ImJm1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKXJldHVybiBtYXliZVRydXN0ZWQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtpZih0eXBlPT09U0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTCl7aWYoaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeShtYXliZVRydXN0ZWQpKXJldHVybiBtYXliZVRydXN0ZWQ7dGhyb3cgJHNjZU1pbkVycigiaW5zZWN1cmwiLCJCbG9ja2VkIGxvYWRpbmcgcmVzb3VyY2UgZnJvbSB1cmwgbm90IGFsbG93ZWQgYnkgJHNjZURlbGVnYXRlIHBvbGljeS4gIFVSTDogezB9IixtYXliZVRydXN0ZWQudG9TdHJpbmcoKSl9aWYodHlwZT09PVNDRV9DT05URVhUUy5IVE1MKXJldHVybiBodG1sU2FuaXRpemVyKG1heWJlVHJ1c3RlZCk7dGhyb3cgJHNjZU1pbkVycigidW5zYWZlIiwiQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LiIpfXZhciBodG1sU2FuaXRpemVyPWZ1bmN0aW9uKCl7dGhyb3cgJHNjZU1pbkVycigidW5zYWZlIiwiQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LiIpfTskaW5qZWN0b3IuaGFzKCIkc2FuaXRpemUiKSYmKGh0bWxTYW5pdGl6ZXI9JGluamVjdG9yLmdldCgiJHNhbml0aXplIikpO3ZhciB0cnVzdGVkVmFsdWVIb2xkZXJCYXNlPWdlbmVyYXRlSG9sZGVyVHlwZSgpLGJ5VHlwZT17fTtyZXR1cm4gYnlUeXBlW1NDRV9DT05URVhUUy5IVE1MXT1nZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSksYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdPWdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSxieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF09Z2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpLGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSlNdPWdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSxieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF09Z2VuZXJhdGVIb2xkZXJUeXBlKGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSkse3RydXN0QXM6dHJ1c3RBcyxnZXRUcnVzdGVkOmdldFRydXN0ZWQsdmFsdWVPZjp2YWx1ZU9mfX1dfWZ1bmN0aW9uICRTY2VQcm92aWRlcigpe3ZhciBlbmFibGVkPSEwO3RoaXMuZW5hYmxlZD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihlbmFibGVkPSEhdmFsdWUpLGVuYWJsZWR9LHRoaXMuJGdldD1bIiRkb2N1bWVudCIsIiRwYXJzZSIsIiRzY2VEZWxlZ2F0ZSIsZnVuY3Rpb24oJGRvY3VtZW50LCRwYXJzZSwkc2NlRGVsZWdhdGUpe2lmKGVuYWJsZWQmJiRkb2N1bWVudFswXS5kb2N1bWVudE1vZGU8OCl0aHJvdyAkc2NlTWluRXJyKCJpZXF1aXJrcyIsIlN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDExIGluIHF1aXJrcyBtb2RlLiAgWW91IGNhbiBmaXggdGhpcyBieSBhZGRpbmcgdGhlIHRleHQgPCFkb2N0eXBlIGh0bWw+IHRvIHRoZSB0b3Agb2YgeW91ciBIVE1MIGRvY3VtZW50LiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UgZm9yIG1vcmUgaW5mb3JtYXRpb24uIik7dmFyIHNjZT1zaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO3NjZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZW5hYmxlZH0sc2NlLnRydXN0QXM9JHNjZURlbGVnYXRlLnRydXN0QXMsc2NlLmdldFRydXN0ZWQ9JHNjZURlbGVnYXRlLmdldFRydXN0ZWQsc2NlLnZhbHVlT2Y9JHNjZURlbGVnYXRlLnZhbHVlT2YsZW5hYmxlZHx8KHNjZS50cnVzdEFzPXNjZS5nZXRUcnVzdGVkPWZ1bmN0aW9uKHR5cGUsdmFsdWUpe3JldHVybiB2YWx1ZX0sc2NlLnZhbHVlT2Y9aWRlbnRpdHkpLHNjZS5wYXJzZUFzPWZ1bmN0aW9uKHR5cGUsZXhwcil7dmFyIHBhcnNlZD0kcGFyc2UoZXhwcik7cmV0dXJuIHBhcnNlZC5saXRlcmFsJiZwYXJzZWQuY29uc3RhbnQ/cGFyc2VkOiRwYXJzZShleHByLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gc2NlLmdldFRydXN0ZWQodHlwZSx2YWx1ZSl9KX07dmFyIHBhcnNlPXNjZS5wYXJzZUFzLGdldFRydXN0ZWQ9c2NlLmdldFRydXN0ZWQsdHJ1c3RBcz1zY2UudHJ1c3RBcztyZXR1cm4gZm9yRWFjaChTQ0VfQ09OVEVYVFMsZnVuY3Rpb24oZW51bVZhbHVlLG5hbWUpe3ZhciBsTmFtZT1sb3dlcmNhc2UobmFtZSk7c2NlW2NhbWVsQ2FzZSgicGFyc2VfYXNfIitsTmFtZSldPWZ1bmN0aW9uKGV4cHIpe3JldHVybiBwYXJzZShlbnVtVmFsdWUsZXhwcil9LHNjZVtjYW1lbENhc2UoImdldF90cnVzdGVkXyIrbE5hbWUpXT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGdldFRydXN0ZWQoZW51bVZhbHVlLHZhbHVlKX0sc2NlW2NhbWVsQ2FzZSgidHJ1c3RfYXNfIitsTmFtZSldPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdHJ1c3RBcyhlbnVtVmFsdWUsdmFsdWUpfX0pLHNjZX1dfWZ1bmN0aW9uICRTbmlmZmVyUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGRvY3VtZW50IixmdW5jdGlvbigkd2luZG93LCRkb2N1bWVudCl7dmFyIHZlbmRvclByZWZpeCxtYXRjaCxldmVudFN1cHBvcnQ9e30sYW5kcm9pZD1pbnQoKC9hbmRyb2lkIChcZCspLy5leGVjKGxvd2VyY2FzZSgoJHdpbmRvdy5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpKXx8W10pWzFdKSxib3hlZT0vQm94ZWUvaS50ZXN0KCgkd2luZG93Lm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCksZG9jdW1lbnQ9JGRvY3VtZW50WzBdfHx7fSx2ZW5kb3JSZWdleD0vXihNb3p8d2Via2l0fE98bXMpKD89W0EtWl0pLyxib2R5U3R5bGU9ZG9jdW1lbnQuYm9keSYmZG9jdW1lbnQuYm9keS5zdHlsZSx0cmFuc2l0aW9ucz0hMSxhbmltYXRpb25zPSExO2lmKGJvZHlTdHlsZSl7Zm9yKHZhciBwcm9wIGluIGJvZHlTdHlsZSlpZihtYXRjaD12ZW5kb3JSZWdleC5leGVjKHByb3ApKXt2ZW5kb3JQcmVmaXg9bWF0Y2hbMF0sdmVuZG9yUHJlZml4PXZlbmRvclByZWZpeC5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK3ZlbmRvclByZWZpeC5zdWJzdHIoMSk7YnJlYWt9dmVuZG9yUHJlZml4fHwodmVuZG9yUHJlZml4PSJXZWJraXRPcGFjaXR5ImluIGJvZHlTdHlsZSYmIndlYmtpdCIpLHRyYW5zaXRpb25zPSEhKCJ0cmFuc2l0aW9uImluIGJvZHlTdHlsZXx8dmVuZG9yUHJlZml4KyJUcmFuc2l0aW9uImluIGJvZHlTdHlsZSksYW5pbWF0aW9ucz0hISgiYW5pbWF0aW9uImluIGJvZHlTdHlsZXx8dmVuZG9yUHJlZml4KyJBbmltYXRpb24iaW4gYm9keVN0eWxlKSwhYW5kcm9pZHx8dHJhbnNpdGlvbnMmJmFuaW1hdGlvbnN8fCh0cmFuc2l0aW9ucz1pc1N0cmluZyhkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zaXRpb24pLGFuaW1hdGlvbnM9aXNTdHJpbmcoZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRBbmltYXRpb24pKQp9cmV0dXJue2hpc3Rvcnk6ISghJHdpbmRvdy5oaXN0b3J5fHwhJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZXx8ND5hbmRyb2lkfHxib3hlZSksaGFzRXZlbnQ6ZnVuY3Rpb24oZXZlbnQpe2lmKCJpbnB1dCI9PWV2ZW50JiY5PT1tc2llKXJldHVybiExO2lmKGlzVW5kZWZpbmVkKGV2ZW50U3VwcG9ydFtldmVudF0pKXt2YXIgZGl2RWxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2V2ZW50U3VwcG9ydFtldmVudF09Im9uIitldmVudCBpbiBkaXZFbG19cmV0dXJuIGV2ZW50U3VwcG9ydFtldmVudF19LGNzcDpjc3AoKSx2ZW5kb3JQcmVmaXg6dmVuZG9yUHJlZml4LHRyYW5zaXRpb25zOnRyYW5zaXRpb25zLGFuaW1hdGlvbnM6YW5pbWF0aW9ucyxhbmRyb2lkOmFuZHJvaWR9fV19ZnVuY3Rpb24gJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHRlbXBsYXRlQ2FjaGUiLCIkaHR0cCIsIiRxIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSwkaHR0cCwkcSl7ZnVuY3Rpb24gaGFuZGxlUmVxdWVzdEZuKHRwbCxpZ25vcmVSZXF1ZXN0RXJyb3Ipe2Z1bmN0aW9uIGhhbmRsZUVycm9yKCl7aWYoc2VsZi50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tLCFpZ25vcmVSZXF1ZXN0RXJyb3IpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInRwbG9hZCIsIkZhaWxlZCB0byBsb2FkIHRlbXBsYXRlOiB7MH0iLHRwbCk7cmV0dXJuICRxLnJlamVjdCgpfXZhciBzZWxmPWhhbmRsZVJlcXVlc3RGbjtyZXR1cm4gc2VsZi50b3RhbFBlbmRpbmdSZXF1ZXN0cysrLCRodHRwLmdldCh0cGwse2NhY2hlOiR0ZW1wbGF0ZUNhY2hlfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7dmFyIGh0bWw9cmVzcG9uc2UuZGF0YTtyZXR1cm4gaHRtbCYmMCE9PWh0bWwubGVuZ3RoPyhzZWxmLnRvdGFsUGVuZGluZ1JlcXVlc3RzLS0sJHRlbXBsYXRlQ2FjaGUucHV0KHRwbCxodG1sKSxodG1sKTpoYW5kbGVFcnJvcigpfSxoYW5kbGVFcnJvcil9cmV0dXJuIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cz0wLGhhbmRsZVJlcXVlc3RGbn1dfWZ1bmN0aW9uICQkVGVzdGFiaWxpdHlQcm92aWRlcigpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkYnJvd3NlciIsIiRsb2NhdGlvbiIsZnVuY3Rpb24oJHJvb3RTY29wZSwkYnJvd3NlciwkbG9jYXRpb24pe3ZhciB0ZXN0YWJpbGl0eT17fTtyZXR1cm4gdGVzdGFiaWxpdHkuZmluZEJpbmRpbmdzPWZ1bmN0aW9uKGVsZW1lbnQsZXhwcmVzc2lvbixvcHRfZXhhY3RNYXRjaCl7dmFyIGJpbmRpbmdzPWVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibmctYmluZGluZyIpLG1hdGNoZXM9W107cmV0dXJuIGZvckVhY2goYmluZGluZ3MsZnVuY3Rpb24oYmluZGluZyl7dmFyIGRhdGFCaW5kaW5nPWFuZ3VsYXIuZWxlbWVudChiaW5kaW5nKS5kYXRhKCIkYmluZGluZyIpO2RhdGFCaW5kaW5nJiZmb3JFYWNoKGRhdGFCaW5kaW5nLGZ1bmN0aW9uKGJpbmRpbmdOYW1lKXtpZihvcHRfZXhhY3RNYXRjaCl7dmFyIG1hdGNoZXI9bmV3IFJlZ0V4cCgiKF58XFxzKSIrZXhwcmVzc2lvbisiKFxcc3xcXHx8JCkiKTttYXRjaGVyLnRlc3QoYmluZGluZ05hbWUpJiZtYXRjaGVzLnB1c2goYmluZGluZyl9ZWxzZS0xIT1iaW5kaW5nTmFtZS5pbmRleE9mKGV4cHJlc3Npb24pJiZtYXRjaGVzLnB1c2goYmluZGluZyl9KX0pLG1hdGNoZXN9LHRlc3RhYmlsaXR5LmZpbmRNb2RlbHM9ZnVuY3Rpb24oZWxlbWVudCxleHByZXNzaW9uLG9wdF9leGFjdE1hdGNoKXtmb3IodmFyIHByZWZpeGVzPVsibmctIiwiZGF0YS1uZy0iLCJuZ1xcOiJdLHA9MDtwPHByZWZpeGVzLmxlbmd0aDsrK3Ape3ZhciBhdHRyaWJ1dGVFcXVhbHM9b3B0X2V4YWN0TWF0Y2g/Ij0iOiIqPSIsc2VsZWN0b3I9IlsiK3ByZWZpeGVzW3BdKyJtb2RlbCIrYXR0cmlidXRlRXF1YWxzKyciJytleHByZXNzaW9uKyciXScsZWxlbWVudHM9ZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtpZihlbGVtZW50cy5sZW5ndGgpcmV0dXJuIGVsZW1lbnRzfX0sdGVzdGFiaWxpdHkuZ2V0TG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gJGxvY2F0aW9uLnVybCgpfSx0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbj1mdW5jdGlvbih1cmwpe3VybCE9PSRsb2NhdGlvbi51cmwoKSYmKCRsb2NhdGlvbi51cmwodXJsKSwkcm9vdFNjb3BlLiRkaWdlc3QoKSl9LHRlc3RhYmlsaXR5LndoZW5TdGFibGU9ZnVuY3Rpb24oY2FsbGJhY2speyRicm93c2VyLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoY2FsbGJhY2spfSx0ZXN0YWJpbGl0eX1dfWZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGJyb3dzZXIiLCIkcSIsIiQkcSIsIiRleGNlcHRpb25IYW5kbGVyIixmdW5jdGlvbigkcm9vdFNjb3BlLCRicm93c2VyLCRxLCQkcSwkZXhjZXB0aW9uSGFuZGxlcil7ZnVuY3Rpb24gdGltZW91dChmbixkZWxheSxpbnZva2VBcHBseSl7dmFyIHRpbWVvdXRJZCxza2lwQXBwbHk9aXNEZWZpbmVkKGludm9rZUFwcGx5KSYmIWludm9rZUFwcGx5LGRlZmVycmVkPShza2lwQXBwbHk/JCRxOiRxKS5kZWZlcigpLHByb21pc2U9ZGVmZXJyZWQucHJvbWlzZTtyZXR1cm4gdGltZW91dElkPSRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCl7dHJ5e2RlZmVycmVkLnJlc29sdmUoZm4oKSl9Y2F0Y2goZSl7ZGVmZXJyZWQucmVqZWN0KGUpLCRleGNlcHRpb25IYW5kbGVyKGUpfWZpbmFsbHl7ZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXX1za2lwQXBwbHl8fCRyb290U2NvcGUuJGFwcGx5KCl9LGRlbGF5KSxwcm9taXNlLiQkdGltZW91dElkPXRpbWVvdXRJZCxkZWZlcnJlZHNbdGltZW91dElkXT1kZWZlcnJlZCxwcm9taXNlfXZhciBkZWZlcnJlZHM9e307cmV0dXJuIHRpbWVvdXQuY2FuY2VsPWZ1bmN0aW9uKHByb21pc2Upe3JldHVybiBwcm9taXNlJiZwcm9taXNlLiQkdGltZW91dElkIGluIGRlZmVycmVkcz8oZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLnJlamVjdCgiY2FuY2VsZWQiKSxkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLCRicm93c2VyLmRlZmVyLmNhbmNlbChwcm9taXNlLiQkdGltZW91dElkKSk6ITF9LHRpbWVvdXR9XX1mdW5jdGlvbiB1cmxSZXNvbHZlKHVybCl7dmFyIGhyZWY9dXJsO3JldHVybiBtc2llJiYodXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCJocmVmIixocmVmKSxocmVmPXVybFBhcnNpbmdOb2RlLmhyZWYpLHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgiaHJlZiIsaHJlZikse2hyZWY6dXJsUGFyc2luZ05vZGUuaHJlZixwcm90b2NvbDp1cmxQYXJzaW5nTm9kZS5wcm90b2NvbD91cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sIiIpOiIiLGhvc3Q6dXJsUGFyc2luZ05vZGUuaG9zdCxzZWFyY2g6dXJsUGFyc2luZ05vZGUuc2VhcmNoP3VybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXD8vLCIiKToiIixoYXNoOnVybFBhcnNpbmdOb2RlLmhhc2g/dXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sIiIpOiIiLGhvc3RuYW1lOnVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLHBvcnQ6dXJsUGFyc2luZ05vZGUucG9ydCxwYXRobmFtZToiLyI9PT11cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCk/dXJsUGFyc2luZ05vZGUucGF0aG5hbWU6Ii8iK3VybFBhcnNpbmdOb2RlLnBhdGhuYW1lfX1mdW5jdGlvbiB1cmxJc1NhbWVPcmlnaW4ocmVxdWVzdFVybCl7dmFyIHBhcnNlZD1pc1N0cmluZyhyZXF1ZXN0VXJsKT91cmxSZXNvbHZlKHJlcXVlc3RVcmwpOnJlcXVlc3RVcmw7cmV0dXJuIHBhcnNlZC5wcm90b2NvbD09PW9yaWdpblVybC5wcm90b2NvbCYmcGFyc2VkLmhvc3Q9PT1vcmlnaW5VcmwuaG9zdH1mdW5jdGlvbiAkV2luZG93UHJvdmlkZXIoKXt0aGlzLiRnZXQ9dmFsdWVGbih3aW5kb3cpfWZ1bmN0aW9uICRGaWx0ZXJQcm92aWRlcigkcHJvdmlkZSl7ZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSxmYWN0b3J5KXtpZihpc09iamVjdChuYW1lKSl7dmFyIGZpbHRlcnM9e307cmV0dXJuIGZvckVhY2gobmFtZSxmdW5jdGlvbihmaWx0ZXIsa2V5KXtmaWx0ZXJzW2tleV09cmVnaXN0ZXIoa2V5LGZpbHRlcil9KSxmaWx0ZXJzfXJldHVybiAkcHJvdmlkZS5mYWN0b3J5KG5hbWUrc3VmZml4LGZhY3RvcnkpfXZhciBzdWZmaXg9IkZpbHRlciI7dGhpcy5yZWdpc3Rlcj1yZWdpc3Rlcix0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLGZ1bmN0aW9uKCRpbmplY3Rvcil7cmV0dXJuIGZ1bmN0aW9uKG5hbWUpe3JldHVybiAkaW5qZWN0b3IuZ2V0KG5hbWUrc3VmZml4KX19XSxyZWdpc3RlcigiY3VycmVuY3kiLGN1cnJlbmN5RmlsdGVyKSxyZWdpc3RlcigiZGF0ZSIsZGF0ZUZpbHRlcikscmVnaXN0ZXIoImZpbHRlciIsZmlsdGVyRmlsdGVyKSxyZWdpc3RlcigianNvbiIsanNvbkZpbHRlcikscmVnaXN0ZXIoImxpbWl0VG8iLGxpbWl0VG9GaWx0ZXIpLHJlZ2lzdGVyKCJsb3dlcmNhc2UiLGxvd2VyY2FzZUZpbHRlcikscmVnaXN0ZXIoIm51bWJlciIsbnVtYmVyRmlsdGVyKSxyZWdpc3Rlcigib3JkZXJCeSIsb3JkZXJCeUZpbHRlcikscmVnaXN0ZXIoInVwcGVyY2FzZSIsdXBwZXJjYXNlRmlsdGVyKX1mdW5jdGlvbiBmaWx0ZXJGaWx0ZXIoKXtyZXR1cm4gZnVuY3Rpb24oYXJyYXksZXhwcmVzc2lvbixjb21wYXJhdG9yKXtpZighaXNBcnJheShhcnJheSkpcmV0dXJuIGFycmF5O3ZhciBjb21wYXJhdG9yVHlwZT10eXBlb2YgY29tcGFyYXRvcixwcmVkaWNhdGVzPVtdO3ByZWRpY2F0ZXMuY2hlY2s9ZnVuY3Rpb24odmFsdWUsaW5kZXgpe2Zvcih2YXIgaj0wO2o8cHJlZGljYXRlcy5sZW5ndGg7aisrKWlmKCFwcmVkaWNhdGVzW2pdKHZhbHVlLGluZGV4KSlyZXR1cm4hMTtyZXR1cm4hMH0sImZ1bmN0aW9uIiE9PWNvbXBhcmF0b3JUeXBlJiYoY29tcGFyYXRvcj0iYm9vbGVhbiI9PT1jb21wYXJhdG9yVHlwZSYmY29tcGFyYXRvcj9mdW5jdGlvbihvYmosdGV4dCl7cmV0dXJuIGFuZ3VsYXIuZXF1YWxzKG9iaix0ZXh0KX06ZnVuY3Rpb24ob2JqLHRleHQpe2lmKG9iaiYmdGV4dCYmIm9iamVjdCI9PXR5cGVvZiBvYmomJiJvYmplY3QiPT10eXBlb2YgdGV4dCl7Zm9yKHZhciBvYmpLZXkgaW4gb2JqKWlmKCIkIiE9PW9iaktleS5jaGFyQXQoMCkmJmhhc093blByb3BlcnR5LmNhbGwob2JqLG9iaktleSkmJmNvbXBhcmF0b3Iob2JqW29iaktleV0sdGV4dFtvYmpLZXldKSlyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4gdGV4dD0oIiIrdGV4dCkudG9Mb3dlckNhc2UoKSwoIiIrb2JqKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dCk+LTF9KTt2YXIgc2VhcmNoPWZ1bmN0aW9uKG9iaix0ZXh0KXtpZigic3RyaW5nIj09dHlwZW9mIHRleHQmJiIhIj09PXRleHQuY2hhckF0KDApKXJldHVybiFzZWFyY2gob2JqLHRleHQuc3Vic3RyKDEpKTtzd2l0Y2godHlwZW9mIG9iail7Y2FzZSJib29sZWFuIjpjYXNlIm51bWJlciI6Y2FzZSJzdHJpbmciOnJldHVybiBjb21wYXJhdG9yKG9iaix0ZXh0KTtjYXNlIm9iamVjdCI6c3dpdGNoKHR5cGVvZiB0ZXh0KXtjYXNlIm9iamVjdCI6cmV0dXJuIGNvbXBhcmF0b3Iob2JqLHRleHQpO2RlZmF1bHQ6Zm9yKHZhciBvYmpLZXkgaW4gb2JqKWlmKCIkIiE9PW9iaktleS5jaGFyQXQoMCkmJnNlYXJjaChvYmpbb2JqS2V5XSx0ZXh0KSlyZXR1cm4hMH1yZXR1cm4hMTtjYXNlImFycmF5Ijpmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKWlmKHNlYXJjaChvYmpbaV0sdGV4dCkpcmV0dXJuITA7cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMX19O3N3aXRjaCh0eXBlb2YgZXhwcmVzc2lvbil7Y2FzZSJib29sZWFuIjpjYXNlIm51bWJlciI6Y2FzZSJzdHJpbmciOmV4cHJlc3Npb249eyQ6ZXhwcmVzc2lvbn07Y2FzZSJvYmplY3QiOmZvcih2YXIga2V5IGluIGV4cHJlc3Npb24pIWZ1bmN0aW9uKHBhdGgpeyJ1bmRlZmluZWQiIT10eXBlb2YgZXhwcmVzc2lvbltwYXRoXSYmcHJlZGljYXRlcy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gc2VhcmNoKCIkIj09cGF0aD92YWx1ZTp2YWx1ZSYmdmFsdWVbcGF0aF0sZXhwcmVzc2lvbltwYXRoXSl9KX0oa2V5KTticmVhaztjYXNlImZ1bmN0aW9uIjpwcmVkaWNhdGVzLnB1c2goZXhwcmVzc2lvbik7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gYXJyYXl9Zm9yKHZhciBmaWx0ZXJlZD1bXSxqPTA7ajxhcnJheS5sZW5ndGg7aisrKXt2YXIgdmFsdWU9YXJyYXlbal07cHJlZGljYXRlcy5jaGVjayh2YWx1ZSxqKSYmZmlsdGVyZWQucHVzaCh2YWx1ZSl9cmV0dXJuIGZpbHRlcmVkfX1mdW5jdGlvbiBjdXJyZW5jeUZpbHRlcigkbG9jYWxlKXt2YXIgZm9ybWF0cz0kbG9jYWxlLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihhbW91bnQsY3VycmVuY3lTeW1ib2wsZnJhY3Rpb25TaXplKXtyZXR1cm4gaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpJiYoY3VycmVuY3lTeW1ib2w9Zm9ybWF0cy5DVVJSRU5DWV9TWU0pLGlzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkmJihmcmFjdGlvblNpemU9MiksbnVsbD09YW1vdW50P2Ftb3VudDpmb3JtYXROdW1iZXIoYW1vdW50LGZvcm1hdHMuUEFUVEVSTlNbMV0sZm9ybWF0cy5HUk9VUF9TRVAsZm9ybWF0cy5ERUNJTUFMX1NFUCxmcmFjdGlvblNpemUpLnJlcGxhY2UoL1x1MDBBNC9nLGN1cnJlbmN5U3ltYm9sKX19ZnVuY3Rpb24gbnVtYmVyRmlsdGVyKCRsb2NhbGUpe3ZhciBmb3JtYXRzPSRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKG51bWJlcixmcmFjdGlvblNpemUpe3JldHVybiBudWxsPT1udW1iZXI/bnVtYmVyOmZvcm1hdE51bWJlcihudW1iZXIsZm9ybWF0cy5QQVRURVJOU1swXSxmb3JtYXRzLkdST1VQX1NFUCxmb3JtYXRzLkRFQ0lNQUxfU0VQLGZyYWN0aW9uU2l6ZSl9fWZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIscGF0dGVybixncm91cFNlcCxkZWNpbWFsU2VwLGZyYWN0aW9uU2l6ZSl7aWYoIWlzRmluaXRlKG51bWJlcil8fGlzT2JqZWN0KG51bWJlcikpcmV0dXJuIiI7dmFyIGlzTmVnYXRpdmU9MD5udW1iZXI7bnVtYmVyPU1hdGguYWJzKG51bWJlcik7dmFyIG51bVN0cj1udW1iZXIrIiIsZm9ybWF0ZWRUZXh0PSIiLHBhcnRzPVtdLGhhc0V4cG9uZW50PSExO2lmKC0xIT09bnVtU3RyLmluZGV4T2YoImUiKSl7dmFyIG1hdGNoPW51bVN0ci5tYXRjaCgvKFtcZFwuXSspZSgtPykoXGQrKS8pO21hdGNoJiYiLSI9PW1hdGNoWzJdJiZtYXRjaFszXT5mcmFjdGlvblNpemUrMT8obnVtU3RyPSIwIixudW1iZXI9MCk6KGZvcm1hdGVkVGV4dD1udW1TdHIsaGFzRXhwb25lbnQ9ITApfWlmKGhhc0V4cG9uZW50KWZyYWN0aW9uU2l6ZT4wJiZudW1iZXI+LTEmJjE+bnVtYmVyJiYoZm9ybWF0ZWRUZXh0PW51bWJlci50b0ZpeGVkKGZyYWN0aW9uU2l6ZSkpO2Vsc2V7dmFyIGZyYWN0aW9uTGVuPShudW1TdHIuc3BsaXQoREVDSU1BTF9TRVApWzFdfHwiIikubGVuZ3RoO2lzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkmJihmcmFjdGlvblNpemU9TWF0aC5taW4oTWF0aC5tYXgocGF0dGVybi5taW5GcmFjLGZyYWN0aW9uTGVuKSxwYXR0ZXJuLm1heEZyYWMpKSxudW1iZXI9KyhNYXRoLnJvdW5kKCsobnVtYmVyLnRvU3RyaW5nKCkrImUiK2ZyYWN0aW9uU2l6ZSkpLnRvU3RyaW5nKCkrImUiKy1mcmFjdGlvblNpemUpLDA9PT1udW1iZXImJihpc05lZ2F0aXZlPSExKTt2YXIgZnJhY3Rpb249KCIiK251bWJlcikuc3BsaXQoREVDSU1BTF9TRVApLHdob2xlPWZyYWN0aW9uWzBdO2ZyYWN0aW9uPWZyYWN0aW9uWzFdfHwiIjt2YXIgaSxwb3M9MCxsZ3JvdXA9cGF0dGVybi5sZ1NpemUsZ3JvdXA9cGF0dGVybi5nU2l6ZTtpZih3aG9sZS5sZW5ndGg+PWxncm91cCtncm91cClmb3IocG9zPXdob2xlLmxlbmd0aC1sZ3JvdXAsaT0wO3Bvcz5pO2krKykocG9zLWkpJWdyb3VwPT09MCYmMCE9PWkmJihmb3JtYXRlZFRleHQrPWdyb3VwU2VwKSxmb3JtYXRlZFRleHQrPXdob2xlLmNoYXJBdChpKTtmb3IoaT1wb3M7aTx3aG9sZS5sZW5ndGg7aSsrKSh3aG9sZS5sZW5ndGgtaSklbGdyb3VwPT09MCYmMCE9PWkmJihmb3JtYXRlZFRleHQrPWdyb3VwU2VwKSxmb3JtYXRlZFRleHQrPXdob2xlLmNoYXJBdChpKTtmb3IoO2ZyYWN0aW9uLmxlbmd0aDxmcmFjdGlvblNpemU7KWZyYWN0aW9uKz0iMCI7ZnJhY3Rpb25TaXplJiYiMCIhPT1mcmFjdGlvblNpemUmJihmb3JtYXRlZFRleHQrPWRlY2ltYWxTZXArZnJhY3Rpb24uc3Vic3RyKDAsZnJhY3Rpb25TaXplKSl9cmV0dXJuIHBhcnRzLnB1c2goaXNOZWdhdGl2ZT9wYXR0ZXJuLm5lZ1ByZTpwYXR0ZXJuLnBvc1ByZSkscGFydHMucHVzaChmb3JtYXRlZFRleHQpLHBhcnRzLnB1c2goaXNOZWdhdGl2ZT9wYXR0ZXJuLm5lZ1N1ZjpwYXR0ZXJuLnBvc1N1ZikscGFydHMuam9pbigiIil9ZnVuY3Rpb24gcGFkTnVtYmVyKG51bSxkaWdpdHMsdHJpbSl7dmFyIG5lZz0iIjtmb3IoMD5udW0mJihuZWc9Ii0iLG51bT0tbnVtKSxudW09IiIrbnVtO251bS5sZW5ndGg8ZGlnaXRzOyludW09IjAiK251bTtyZXR1cm4gdHJpbSYmKG51bT1udW0uc3Vic3RyKG51bS5sZW5ndGgtZGlnaXRzKSksbmVnK251bX1mdW5jdGlvbiBkYXRlR2V0dGVyKG5hbWUsc2l6ZSxvZmZzZXQsdHJpbSl7cmV0dXJuIG9mZnNldD1vZmZzZXR8fDAsZnVuY3Rpb24oZGF0ZSl7dmFyIHZhbHVlPWRhdGVbImdldCIrbmFtZV0oKTtyZXR1cm4ob2Zmc2V0PjB8fHZhbHVlPi1vZmZzZXQpJiYodmFsdWUrPW9mZnNldCksMD09PXZhbHVlJiYtMTI9PW9mZnNldCYmKHZhbHVlPTEyKSxwYWROdW1iZXIodmFsdWUsc2l6ZSx0cmltKX19ZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLHNob3J0Rm9ybSl7cmV0dXJuIGZ1bmN0aW9uKGRhdGUsZm9ybWF0cyl7dmFyIHZhbHVlPWRhdGVbImdldCIrbmFtZV0oKSxnZXQ9dXBwZXJjYXNlKHNob3J0Rm9ybT8iU0hPUlQiK25hbWU6bmFtZSk7cmV0dXJuIGZvcm1hdHNbZ2V0XVt2YWx1ZV19fWZ1bmN0aW9uIHRpbWVab25lR2V0dGVyKGRhdGUpe3ZhciB6b25lPS0xKmRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSxwYWRkZWRab25lPXpvbmU+PTA/IisiOiIiO3JldHVybiBwYWRkZWRab25lKz1wYWROdW1iZXIoTWF0aFt6b25lPjA/ImZsb29yIjoiY2VpbCJdKHpvbmUvNjApLDIpK3BhZE51bWJlcihNYXRoLmFicyh6b25lJTYwKSwyKX1mdW5jdGlvbiBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKHllYXIpe3ZhciBkYXlPZldlZWtPbkZpcnN0PW5ldyBEYXRlKHllYXIsMCwxKS5nZXREYXkoKTtyZXR1cm4gbmV3IERhdGUoeWVhciwwLCg0Pj1kYXlPZldlZWtPbkZpcnN0PzU6MTIpLWRheU9mV2Vla09uRmlyc3QpfWZ1bmN0aW9uIGdldFRodXJzZGF5VGhpc1dlZWsoZGF0ZXRpbWUpe3JldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLGRhdGV0aW1lLmdldE1vbnRoKCksZGF0ZXRpbWUuZ2V0RGF0ZSgpKyg0LWRhdGV0aW1lLmdldERheSgpKSl9ZnVuY3Rpb24gd2Vla0dldHRlcihzaXplKXtyZXR1cm4gZnVuY3Rpb24oZGF0ZSl7dmFyIGZpcnN0VGh1cnM9Z2V0Rmlyc3RUaHVyc2RheU9mWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpLHRoaXNUaHVycz1nZXRUaHVyc2RheVRoaXNXZWVrKGRhdGUpLGRpZmY9K3RoaXNUaHVycy0rZmlyc3RUaHVycyxyZXN1bHQ9MStNYXRoLnJvdW5kKGRpZmYvNjA0OGU1KTtyZXR1cm4gcGFkTnVtYmVyKHJlc3VsdCxzaXplKX19ZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLGZvcm1hdHMpe3JldHVybiBkYXRlLmdldEhvdXJzKCk8MTI/Zm9ybWF0cy5BTVBNU1swXTpmb3JtYXRzLkFNUE1TWzFdfWZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSl7ZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpe3ZhciBtYXRjaDtpZihtYXRjaD1zdHJpbmcubWF0Y2goUl9JU084NjAxX1NUUikpe3ZhciBkYXRlPW5ldyBEYXRlKDApLHR6SG91cj0wLHR6TWluPTAsZGF0ZVNldHRlcj1tYXRjaFs4XT9kYXRlLnNldFVUQ0Z1bGxZZWFyOmRhdGUuc2V0RnVsbFllYXIsdGltZVNldHRlcj1tYXRjaFs4XT9kYXRlLnNldFVUQ0hvdXJzOmRhdGUuc2V0SG91cnM7bWF0Y2hbOV0mJih0ekhvdXI9aW50KG1hdGNoWzldK21hdGNoWzEwXSksdHpNaW49aW50KG1hdGNoWzldK21hdGNoWzExXSkpLGRhdGVTZXR0ZXIuY2FsbChkYXRlLGludChtYXRjaFsxXSksaW50KG1hdGNoWzJdKS0xLGludChtYXRjaFszXSkpO3ZhciBoPWludChtYXRjaFs0XXx8MCktdHpIb3VyLG09aW50KG1hdGNoWzVdfHwwKS10ek1pbixzPWludChtYXRjaFs2XXx8MCksbXM9TWF0aC5yb3VuZCgxZTMqcGFyc2VGbG9hdCgiMC4iKyhtYXRjaFs3XXx8MCkpKTtyZXR1cm4gdGltZVNldHRlci5jYWxsKGRhdGUsaCxtLHMsbXMpLGRhdGV9cmV0dXJuIHN0cmluZ312YXIgUl9JU084NjAxX1NUUj0vXihcZHs0fSktPyhcZFxkKS0/KFxkXGQpKD86VChcZFxkKSg/Ojo/KFxkXGQpKD86Oj8oXGRcZCkoPzpcLihcZCspKT8pPyk/KFp8KFsrLV0pKFxkXGQpOj8oXGRcZCkpPyk/JC87cmV0dXJuIGZ1bmN0aW9uKGRhdGUsZm9ybWF0LHRpbWV6b25lKXt2YXIgZm4sbWF0Y2gsdGV4dD0iIixwYXJ0cz1bXTtpZihmb3JtYXQ9Zm9ybWF0fHwibWVkaXVtRGF0ZSIsZm9ybWF0PSRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdfHxmb3JtYXQsaXNTdHJpbmcoZGF0ZSkmJihkYXRlPU5VTUJFUl9TVFJJTkcudGVzdChkYXRlKT9pbnQoZGF0ZSk6anNvblN0cmluZ1RvRGF0ZShkYXRlKSksaXNOdW1iZXIoZGF0ZSkmJihkYXRlPW5ldyBEYXRlKGRhdGUpKSwhaXNEYXRlKGRhdGUpKXJldHVybiBkYXRlO2Zvcig7Zm9ybWF0OyltYXRjaD1EQVRFX0ZPUk1BVFNfU1BMSVQuZXhlYyhmb3JtYXQpLG1hdGNoPyhwYXJ0cz1jb25jYXQocGFydHMsbWF0Y2gsMSksZm9ybWF0PXBhcnRzLnBvcCgpKToocGFydHMucHVzaChmb3JtYXQpLGZvcm1hdD1udWxsKTtyZXR1cm4gdGltZXpvbmUmJiJVVEMiPT09dGltZXpvbmUmJihkYXRlPW5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKSxkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkrZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKSksZm9yRWFjaChwYXJ0cyxmdW5jdGlvbih2YWx1ZSl7Zm49REFURV9GT1JNQVRTW3ZhbHVlXSx0ZXh0Kz1mbj9mbihkYXRlLCRsb2NhbGUuREFURVRJTUVfRk9STUFUUyk6dmFsdWUucmVwbGFjZSgvKF4nfCckKS9nLCIiKS5yZXBsYWNlKC8nJy9nLCInIil9KSx0ZXh0fX1mdW5jdGlvbiBqc29uRmlsdGVyKCl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIHRvSnNvbihvYmplY3QsITApfX1mdW5jdGlvbiBsaW1pdFRvRmlsdGVyKCl7cmV0dXJuIGZ1bmN0aW9uKGlucHV0LGxpbWl0KXtpZihpc051bWJlcihpbnB1dCkmJihpbnB1dD1pbnB1dC50b1N0cmluZygpKSwhaXNBcnJheShpbnB1dCkmJiFpc1N0cmluZyhpbnB1dCkpcmV0dXJuIGlucHV0O2lmKGxpbWl0PTEvMD09PU1hdGguYWJzKE51bWJlcihsaW1pdCkpP051bWJlcihsaW1pdCk6aW50KGxpbWl0KSxpc1N0cmluZyhpbnB1dCkpcmV0dXJuIGxpbWl0P2xpbWl0Pj0wP2lucHV0LnNsaWNlKDAsbGltaXQpOmlucHV0LnNsaWNlKGxpbWl0LGlucHV0Lmxlbmd0aCk6IiI7dmFyIGksbixvdXQ9W107Zm9yKGxpbWl0PmlucHV0Lmxlbmd0aD9saW1pdD1pbnB1dC5sZW5ndGg6bGltaXQ8LWlucHV0Lmxlbmd0aCYmKGxpbWl0PS1pbnB1dC5sZW5ndGgpLGxpbWl0PjA/KGk9MCxuPWxpbWl0KTooaT1pbnB1dC5sZW5ndGgrbGltaXQsbj1pbnB1dC5sZW5ndGgpO24+aTtpKyspb3V0LnB1c2goaW5wdXRbaV0pO3JldHVybiBvdXR9fWZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKXtyZXR1cm4gZnVuY3Rpb24oYXJyYXksc29ydFByZWRpY2F0ZSxyZXZlcnNlT3JkZXIpe2Z1bmN0aW9uIGNvbXBhcmF0b3IobzEsbzIpe2Zvcih2YXIgaT0wO2k8c29ydFByZWRpY2F0ZS5sZW5ndGg7aSsrKXt2YXIgY29tcD1zb3J0UHJlZGljYXRlW2ldKG8xLG8yKTtpZigwIT09Y29tcClyZXR1cm4gY29tcH1yZXR1cm4gMH1mdW5jdGlvbiByZXZlcnNlQ29tcGFyYXRvcihjb21wLGRlc2NlbmRpbmcpe3JldHVybiBkZXNjZW5kaW5nP2Z1bmN0aW9uKGEsYil7cmV0dXJuIGNvbXAoYixhKX06Y29tcH1mdW5jdGlvbiBjb21wYXJlKHYxLHYyKXt2YXIgdDE9dHlwZW9mIHYxLHQyPXR5cGVvZiB2MjtyZXR1cm4gdDE9PXQyPyhpc0RhdGUodjEpJiZpc0RhdGUodjIpJiYodjE9djEudmFsdWVPZigpLHYyPXYyLnZhbHVlT2YoKSksInN0cmluZyI9PXQxJiYodjE9djEudG9Mb3dlckNhc2UoKSx2Mj12Mi50b0xvd2VyQ2FzZSgpKSx2MT09PXYyPzA6djI+djE/LTE6MSk6dDI+dDE/LTE6MX1pZighaXNBcnJheUxpa2UoYXJyYXkpKXJldHVybiBhcnJheTtzb3J0UHJlZGljYXRlPWlzQXJyYXkoc29ydFByZWRpY2F0ZSk/c29ydFByZWRpY2F0ZTpbc29ydFByZWRpY2F0ZV0sMD09PXNvcnRQcmVkaWNhdGUubGVuZ3RoJiYoc29ydFByZWRpY2F0ZT1bIisiXSksc29ydFByZWRpY2F0ZT1zb3J0UHJlZGljYXRlLm1hcChmdW5jdGlvbihwcmVkaWNhdGUpe3ZhciBkZXNjZW5kaW5nPSExLGdldD1wcmVkaWNhdGV8fGlkZW50aXR5O2lmKGlzU3RyaW5nKHByZWRpY2F0ZSkpe2lmKCgiKyI9PXByZWRpY2F0ZS5jaGFyQXQoMCl8fCItIj09cHJlZGljYXRlLmNoYXJBdCgwKSkmJihkZXNjZW5kaW5nPSItIj09cHJlZGljYXRlLmNoYXJBdCgwKSxwcmVkaWNhdGU9cHJlZGljYXRlLnN1YnN0cmluZygxKSksIiI9PT1wcmVkaWNhdGUpcmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGNvbXBhcmUoYSxiKX0sZGVzY2VuZGluZyk7aWYoZ2V0PSRwYXJzZShwcmVkaWNhdGUpLGdldC5jb25zdGFudCl7dmFyIGtleT1nZXQoKTtyZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoZnVuY3Rpb24oYSxiKXtyZXR1cm4gY29tcGFyZShhW2tleV0sYltrZXldKX0sZGVzY2VuZGluZyl9fXJldHVybiByZXZlcnNlQ29tcGFyYXRvcihmdW5jdGlvbihhLGIpe3JldHVybiBjb21wYXJlKGdldChhKSxnZXQoYikpfSxkZXNjZW5kaW5nKX0pO2Zvcih2YXIgYXJyYXlDb3B5PVtdLGk9MDtpPGFycmF5Lmxlbmd0aDtpKyspYXJyYXlDb3B5LnB1c2goYXJyYXlbaV0pO3JldHVybiBhcnJheUNvcHkuc29ydChyZXZlcnNlQ29tcGFyYXRvcihjb21wYXJhdG9yLHJldmVyc2VPcmRlcikpfX1mdW5jdGlvbiBuZ0RpcmVjdGl2ZShkaXJlY3RpdmUpe3JldHVybiBpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkmJihkaXJlY3RpdmU9e2xpbms6ZGlyZWN0aXZlfSksZGlyZWN0aXZlLnJlc3RyaWN0PWRpcmVjdGl2ZS5yZXN0cmljdHx8IkFDIix2YWx1ZUZuKGRpcmVjdGl2ZSl9ZnVuY3Rpb24gbnVsbEZvcm1SZW5hbWVDb250cm9sKGNvbnRyb2wsbmFtZSl7Y29udHJvbC4kbmFtZT1uYW1lfWZ1bmN0aW9uIEZvcm1Db250cm9sbGVyKGVsZW1lbnQsYXR0cnMsJHNjb3BlLCRhbmltYXRlLCRpbnRlcnBvbGF0ZSl7dmFyIGZvcm09dGhpcyxjb250cm9scz1bXSxwYXJlbnRGb3JtPWZvcm0uJCRwYXJlbnRGb3JtPWVsZW1lbnQucGFyZW50KCkuY29udHJvbGxlcigiZm9ybSIpfHxudWxsRm9ybUN0cmw7Zm9ybS4kZXJyb3I9e30sZm9ybS4kJHN1Y2Nlc3M9e30sZm9ybS4kcGVuZGluZz11bmRlZmluZWQsZm9ybS4kbmFtZT0kaW50ZXJwb2xhdGUoYXR0cnMubmFtZXx8YXR0cnMubmdGb3JtfHwiIikoJHNjb3BlKSxmb3JtLiRkaXJ0eT0hMSxmb3JtLiRwcmlzdGluZT0hMCxmb3JtLiR2YWxpZD0hMCxmb3JtLiRpbnZhbGlkPSExLGZvcm0uJHN1Ym1pdHRlZD0hMSxwYXJlbnRGb3JtLiRhZGRDb250cm9sKGZvcm0pLGZvcm0uJHJvbGxiYWNrVmlld1ZhbHVlPWZ1bmN0aW9uKCl7Zm9yRWFjaChjb250cm9scyxmdW5jdGlvbihjb250cm9sKXtjb250cm9sLiRyb2xsYmFja1ZpZXdWYWx1ZSgpfSl9LGZvcm0uJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe2ZvckVhY2goY29udHJvbHMsZnVuY3Rpb24oY29udHJvbCl7Y29udHJvbC4kY29tbWl0Vmlld1ZhbHVlKCl9KX0sZm9ybS4kYWRkQ29udHJvbD1mdW5jdGlvbihjb250cm9sKXthc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShjb250cm9sLiRuYW1lLCJpbnB1dCIpLGNvbnRyb2xzLnB1c2goY29udHJvbCksY29udHJvbC4kbmFtZSYmKGZvcm1bY29udHJvbC4kbmFtZV09Y29udHJvbCl9LGZvcm0uJCRyZW5hbWVDb250cm9sPWZ1bmN0aW9uKGNvbnRyb2wsbmV3TmFtZSl7dmFyIG9sZE5hbWU9Y29udHJvbC4kbmFtZTtmb3JtW29sZE5hbWVdPT09Y29udHJvbCYmZGVsZXRlIGZvcm1bb2xkTmFtZV0sZm9ybVtuZXdOYW1lXT1jb250cm9sLGNvbnRyb2wuJG5hbWU9bmV3TmFtZX0sZm9ybS4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihjb250cm9sKXtjb250cm9sLiRuYW1lJiZmb3JtW2NvbnRyb2wuJG5hbWVdPT09Y29udHJvbCYmZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV0sZm9yRWFjaChmb3JtLiRwZW5kaW5nLGZ1bmN0aW9uKHZhbHVlLG5hbWUpe2Zvcm0uJHNldFZhbGlkaXR5KG5hbWUsbnVsbCxjb250cm9sKX0pLGZvckVhY2goZm9ybS4kZXJyb3IsZnVuY3Rpb24odmFsdWUsbmFtZSl7Zm9ybS4kc2V0VmFsaWRpdHkobmFtZSxudWxsLGNvbnRyb2wpfSksYXJyYXlSZW1vdmUoY29udHJvbHMsY29udHJvbCl9LGFkZFNldFZhbGlkaXR5TWV0aG9kKHtjdHJsOnRoaXMsJGVsZW1lbnQ6ZWxlbWVudCxzZXQ6ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5LGNvbnRyb2wpe3ZhciBsaXN0PW9iamVjdFtwcm9wZXJ0eV07aWYobGlzdCl7dmFyIGluZGV4PWxpc3QuaW5kZXhPZihjb250cm9sKTstMT09PWluZGV4JiZsaXN0LnB1c2goY29udHJvbCl9ZWxzZSBvYmplY3RbcHJvcGVydHldPVtjb250cm9sXX0sdW5zZXQ6ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5LGNvbnRyb2wpe3ZhciBsaXN0PW9iamVjdFtwcm9wZXJ0eV07bGlzdCYmKGFycmF5UmVtb3ZlKGxpc3QsY29udHJvbCksMD09PWxpc3QubGVuZ3RoJiZkZWxldGUgb2JqZWN0W3Byb3BlcnR5XSl9LHBhcmVudEZvcm06cGFyZW50Rm9ybSwkYW5pbWF0ZTokYW5pbWF0ZX0pLGZvcm0uJHNldERpcnR5PWZ1bmN0aW9uKCl7JGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCxQUklTVElORV9DTEFTUyksJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCxESVJUWV9DTEFTUyksZm9ybS4kZGlydHk9ITAsZm9ybS4kcHJpc3RpbmU9ITEscGFyZW50Rm9ybS4kc2V0RGlydHkoKX0sZm9ybS4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXskYW5pbWF0ZS5zZXRDbGFzcyhlbGVtZW50LFBSSVNUSU5FX0NMQVNTLERJUlRZX0NMQVNTKyIgIitTVUJNSVRURURfQ0xBU1MpLGZvcm0uJGRpcnR5PSExLGZvcm0uJHByaXN0aW5lPSEwLGZvcm0uJHN1Ym1pdHRlZD0hMSxmb3JFYWNoKGNvbnRyb2xzLGZ1bmN0aW9uKGNvbnRyb2wpe2NvbnRyb2wuJHNldFByaXN0aW5lKCl9KX0sZm9ybS4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7Zm9yRWFjaChjb250cm9scyxmdW5jdGlvbihjb250cm9sKXtjb250cm9sLiRzZXRVbnRvdWNoZWQoKX0pfSxmb3JtLiRzZXRTdWJtaXR0ZWQ9ZnVuY3Rpb24oKXskYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LFNVQk1JVFRFRF9DTEFTUyksZm9ybS4kc3VibWl0dGVkPSEwLHBhcmVudEZvcm0uJHNldFN1Ym1pdHRlZCgpfX1mdW5jdGlvbiBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKXtjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKT92YWx1ZTp2YWx1ZS50b1N0cmluZygpfSl9ZnVuY3Rpb24gdGV4dElucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcil7YmFzZUlucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlciksc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCl9ZnVuY3Rpb24gYmFzZUlucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcil7dmFyIHBsYWNlaG9sZGVyPShlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpLGVsZW1lbnRbMF0ucGxhY2Vob2xkZXIpLG5vZXZlbnQ9e30sdHlwZT1sb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtpZighJHNuaWZmZXIuYW5kcm9pZCl7dmFyIGNvbXBvc2luZz0hMTtlbGVtZW50Lm9uKCJjb21wb3NpdGlvbnN0YXJ0IixmdW5jdGlvbigpe2NvbXBvc2luZz0hMH0pLGVsZW1lbnQub24oImNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbigpe2NvbXBvc2luZz0hMSxsaXN0ZW5lcigpfSl9dmFyIGxpc3RlbmVyPWZ1bmN0aW9uKGV2KXtpZighY29tcG9zaW5nKXt2YXIgdmFsdWU9ZWxlbWVudC52YWwoKSxldmVudD1ldiYmZXYudHlwZTtpZihtc2llJiYiaW5wdXQiPT09KGV2fHxub2V2ZW50KS50eXBlJiZlbGVtZW50WzBdLnBsYWNlaG9sZGVyIT09cGxhY2Vob2xkZXIpcmV0dXJuIHZvaWQocGxhY2Vob2xkZXI9ZWxlbWVudFswXS5wbGFjZWhvbGRlcik7InBhc3N3b3JkIj09PXR5cGV8fGF0dHIubmdUcmltJiYiZmFsc2UiPT09YXR0ci5uZ1RyaW18fCh2YWx1ZT10cmltKHZhbHVlKSksKGN0cmwuJHZpZXdWYWx1ZSE9PXZhbHVlfHwiIj09PXZhbHVlJiZjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykmJmN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSxldmVudCl9fTtpZigkc25pZmZlci5oYXNFdmVudCgiaW5wdXQiKSllbGVtZW50Lm9uKCJpbnB1dCIsbGlzdGVuZXIpO2Vsc2V7dmFyIHRpbWVvdXQsZGVmZXJMaXN0ZW5lcj1mdW5jdGlvbihldil7dGltZW91dHx8KHRpbWVvdXQ9JGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKXtsaXN0ZW5lcihldiksdGltZW91dD1udWxsfSkpfTtlbGVtZW50Lm9uKCJrZXlkb3duIixmdW5jdGlvbihldmVudCl7dmFyIGtleT1ldmVudC5rZXlDb2RlOzkxPT09a2V5fHxrZXk+MTUmJjE5PmtleXx8a2V5Pj0zNyYmNDA+PWtleXx8ZGVmZXJMaXN0ZW5lcihldmVudCl9KSwkc25pZmZlci5oYXNFdmVudCgicGFzdGUiKSYmZWxlbWVudC5vbigicGFzdGUgY3V0IixkZWZlckxpc3RlbmVyKX1lbGVtZW50Lm9uKCJjaGFuZ2UiLGxpc3RlbmVyKSxjdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtlbGVtZW50LnZhbChjdHJsLiRpc0VtcHR5KGN0cmwuJG1vZGVsVmFsdWUpPyIiOmN0cmwuJHZpZXdWYWx1ZSl9fWZ1bmN0aW9uIHdlZWtQYXJzZXIoaXNvV2VlayxleGlzdGluZ0RhdGUpe2lmKGlzRGF0ZShpc29XZWVrKSlyZXR1cm4gaXNvV2VlaztpZihpc1N0cmluZyhpc29XZWVrKSl7V0VFS19SRUdFWFAubGFzdEluZGV4PTA7dmFyIHBhcnRzPVdFRUtfUkVHRVhQLmV4ZWMoaXNvV2Vlayk7aWYocGFydHMpe3ZhciB5ZWFyPStwYXJ0c1sxXSx3ZWVrPStwYXJ0c1syXSxob3Vycz0wLG1pbnV0ZXM9MCxzZWNvbmRzPTAsbWlsbGlzZWNvbmRzPTAsZmlyc3RUaHVycz1nZXRGaXJzdFRodXJzZGF5T2ZZZWFyKHllYXIpLGFkZERheXM9Nyood2Vlay0xKTtyZXR1cm4gZXhpc3RpbmdEYXRlJiYoaG91cnM9ZXhpc3RpbmdEYXRlLmdldEhvdXJzKCksbWludXRlcz1leGlzdGluZ0RhdGUuZ2V0TWludXRlcygpLHNlY29uZHM9ZXhpc3RpbmdEYXRlLmdldFNlY29uZHMoKSxtaWxsaXNlY29uZHM9ZXhpc3RpbmdEYXRlLmdldE1pbGxpc2Vjb25kcygpKSxuZXcgRGF0ZSh5ZWFyLDAsZmlyc3RUaHVycy5nZXREYXRlKCkrYWRkRGF5cyxob3VycyxtaW51dGVzLHNlY29uZHMsbWlsbGlzZWNvbmRzKX19cmV0dXJuIDAvMH1mdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKHJlZ2V4cCxtYXBwaW5nKXtyZXR1cm4gZnVuY3Rpb24oaXNvLGRhdGUpe3ZhciBwYXJ0cyxtYXA7aWYoaXNEYXRlKGlzbykpcmV0dXJuIGlzbztpZihpc1N0cmluZyhpc28pKXtpZignIic9PWlzby5jaGFyQXQoMCkmJiciJz09aXNvLmNoYXJBdChpc28ubGVuZ3RoLTEpJiYoaXNvPWlzby5zdWJzdHJpbmcoMSxpc28ubGVuZ3RoLTEpKSxJU09fREFURV9SRUdFWFAudGVzdChpc28pKXJldHVybiBuZXcgRGF0ZShpc28pO2lmKHJlZ2V4cC5sYXN0SW5kZXg9MCxwYXJ0cz1yZWdleHAuZXhlYyhpc28pKXJldHVybiBwYXJ0cy5zaGlmdCgpLG1hcD1kYXRlP3t5eXl5OmRhdGUuZ2V0RnVsbFllYXIoKSxNTTpkYXRlLmdldE1vbnRoKCkrMSxkZDpkYXRlLmdldERhdGUoKSxISDpkYXRlLmdldEhvdXJzKCksbW06ZGF0ZS5nZXRNaW51dGVzKCksc3M6ZGF0ZS5nZXRTZWNvbmRzKCksc3NzOmRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkvMWUzfTp7eXl5eToxOTcwLE1NOjEsZGQ6MSxISDowLG1tOjAsc3M6MCxzc3M6MH0sZm9yRWFjaChwYXJ0cyxmdW5jdGlvbihwYXJ0LGluZGV4KXtpbmRleDxtYXBwaW5nLmxlbmd0aCYmKG1hcFttYXBwaW5nW2luZGV4XV09K3BhcnQpfSksbmV3IERhdGUobWFwLnl5eXksbWFwLk1NLTEsbWFwLmRkLG1hcC5ISCxtYXAubW0sbWFwLnNzfHwwLDFlMyptYXAuc3NzfHwwKX1yZXR1cm4gMC8wfX1mdW5jdGlvbiBjcmVhdGVEYXRlSW5wdXRUeXBlKHR5cGUscmVnZXhwLHBhcnNlRGF0ZSxmb3JtYXQpe3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3NlciwkZmlsdGVyKXtmdW5jdGlvbiBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCl7cmV0dXJuIGlzRGVmaW5lZCh2YWwpP2lzRGF0ZSh2YWwpP3ZhbDpwYXJzZURhdGUodmFsKTp1bmRlZmluZWR9YmFkSW5wdXRDaGVja2VyKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsKSxiYXNlSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKTt2YXIgcHJldmlvdXNEYXRlLHRpbWV6b25lPWN0cmwmJmN0cmwuJG9wdGlvbnMmJmN0cmwuJG9wdGlvbnMudGltZXpvbmU7aWYoY3RybC4kJHBhcnNlck5hbWU9dHlwZSxjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe2lmKGN0cmwuJGlzRW1wdHkodmFsdWUpKXJldHVybiBudWxsO2lmKHJlZ2V4cC50ZXN0KHZhbHVlKSl7dmFyIHBhcnNlZERhdGU9cGFyc2VEYXRlKHZhbHVlLHByZXZpb3VzRGF0ZSk7cmV0dXJuIlVUQyI9PT10aW1lem9uZSYmcGFyc2VkRGF0ZS5zZXRNaW51dGVzKHBhcnNlZERhdGUuZ2V0TWludXRlcygpLXBhcnNlZERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSkscGFyc2VkRGF0ZX1yZXR1cm4gdW5kZWZpbmVkfSksY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtpZighY3RybC4kaXNFbXB0eSh2YWx1ZSkpe2lmKCFpc0RhdGUodmFsdWUpKXRocm93ICRuZ01vZGVsTWluRXJyKCJkYXRlZm10IiwiRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlIix2YWx1ZSk7aWYocHJldmlvdXNEYXRlPXZhbHVlLHByZXZpb3VzRGF0ZSYmIlVUQyI9PT10aW1lem9uZSl7dmFyIHRpbWV6b25lT2Zmc2V0PTZlNCpwcmV2aW91c0RhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtwcmV2aW91c0RhdGU9bmV3IERhdGUocHJldmlvdXNEYXRlLmdldFRpbWUoKSt0aW1lem9uZU9mZnNldCl9cmV0dXJuICRmaWx0ZXIoImRhdGUiKSh2YWx1ZSxmb3JtYXQsdGltZXpvbmUpfXJldHVybiBwcmV2aW91c0RhdGU9bnVsbCwiIn0pLGlzRGVmaW5lZChhdHRyLm1pbil8fGF0dHIubmdNaW4pe3ZhciBtaW5WYWw7Y3RybC4kdmFsaWRhdG9ycy5taW49ZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKXx8aXNVbmRlZmluZWQobWluVmFsKXx8cGFyc2VEYXRlKHZhbHVlKT49bWluVmFsfSxhdHRyLiRvYnNlcnZlKCJtaW4iLGZ1bmN0aW9uKHZhbCl7bWluVmFsPXBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSxjdHJsLiR2YWxpZGF0ZSgpfSl9aWYoaXNEZWZpbmVkKGF0dHIubWF4KXx8YXR0ci5uZ01heCl7dmFyIG1heFZhbDtjdHJsLiR2YWxpZGF0b3JzLm1heD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpfHxpc1VuZGVmaW5lZChtYXhWYWwpfHxwYXJzZURhdGUodmFsdWUpPD1tYXhWYWx9LGF0dHIuJG9ic2VydmUoIm1heCIsZnVuY3Rpb24odmFsKXttYXhWYWw9cGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpLGN0cmwuJHZhbGlkYXRlKCl9KX1jdHJsLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4hdmFsdWV8fHZhbHVlLmdldFRpbWUmJnZhbHVlLmdldFRpbWUoKSE9PXZhbHVlLmdldFRpbWUoKX19fWZ1bmN0aW9uIGJhZElucHV0Q2hlY2tlcihzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7dmFyIG5vZGU9ZWxlbWVudFswXSxuYXRpdmVWYWxpZGF0aW9uPWN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzPWlzT2JqZWN0KG5vZGUudmFsaWRpdHkpO25hdGl2ZVZhbGlkYXRpb24mJmN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSl7dmFyIHZhbGlkaXR5PWVsZW1lbnQucHJvcChWQUxJRElUWV9TVEFURV9QUk9QRVJUWSl8fHt9O3JldHVybiB2YWxpZGl0eS5iYWRJbnB1dCYmIXZhbGlkaXR5LnR5cGVNaXNtYXRjaD91bmRlZmluZWQ6dmFsdWV9KX1mdW5jdGlvbiBudW1iZXJJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIpe2lmKGJhZElucHV0Q2hlY2tlcihzY29wZSxlbGVtZW50LGF0dHIsY3RybCksYmFzZUlucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3NlciksY3RybC4kJHBhcnNlck5hbWU9Im51bWJlciIsY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSk/bnVsbDpOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpP3BhcnNlRmxvYXQodmFsdWUpOnVuZGVmaW5lZH0pLGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSl7aWYoIWN0cmwuJGlzRW1wdHkodmFsdWUpKXtpZighaXNOdW1iZXIodmFsdWUpKXRocm93ICRuZ01vZGVsTWluRXJyKCJudW1mbXQiLCJFeHBlY3RlZCBgezB9YCB0byBiZSBhIG51bWJlciIsdmFsdWUpO3ZhbHVlPXZhbHVlLnRvU3RyaW5nKCl9cmV0dXJuIHZhbHVlfSksYXR0ci5taW58fGF0dHIubmdNaW4pe3ZhciBtaW5WYWw7Y3RybC4kdmFsaWRhdG9ycy5taW49ZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKXx8aXNVbmRlZmluZWQobWluVmFsKXx8dmFsdWU+PW1pblZhbH0sYXR0ci4kb2JzZXJ2ZSgibWluIixmdW5jdGlvbih2YWwpe2lzRGVmaW5lZCh2YWwpJiYhaXNOdW1iZXIodmFsKSYmKHZhbD1wYXJzZUZsb2F0KHZhbCwxMCkpLG1pblZhbD1pc051bWJlcih2YWwpJiYhaXNOYU4odmFsKT92YWw6dW5kZWZpbmVkLGN0cmwuJHZhbGlkYXRlKCl9KX1pZihhdHRyLm1heHx8YXR0ci5uZ01heCl7dmFyIG1heFZhbDtjdHJsLiR2YWxpZGF0b3JzLm1heD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpfHxpc1VuZGVmaW5lZChtYXhWYWwpfHxtYXhWYWw+PXZhbHVlfSxhdHRyLiRvYnNlcnZlKCJtYXgiLGZ1bmN0aW9uKHZhbCl7aXNEZWZpbmVkKHZhbCkmJiFpc051bWJlcih2YWwpJiYodmFsPXBhcnNlRmxvYXQodmFsLDEwKSksbWF4VmFsPWlzTnVtYmVyKHZhbCkmJiFpc05hTih2YWwpP3ZhbDp1bmRlZmluZWQsY3RybC4kdmFsaWRhdGUoKX0pfX1mdW5jdGlvbiB1cmxJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIpe2Jhc2VJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwsJHNuaWZmZXIsJGJyb3dzZXIpLHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpLGN0cmwuJCRwYXJzZXJOYW1lPSJ1cmwiLGN0cmwuJHZhbGlkYXRvcnMudXJsPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSl8fFVSTF9SRUdFWFAudGVzdCh2YWx1ZSl9fWZ1bmN0aW9uIGVtYWlsSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXtiYXNlSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKSxzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKSxjdHJsLiQkcGFyc2VyTmFtZT0iZW1haWwiLGN0cmwuJHZhbGlkYXRvcnMuZW1haWw9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKXx8RU1BSUxfUkVHRVhQLnRlc3QodmFsdWUpfX1mdW5jdGlvbiByYWRpb0lucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7aXNVbmRlZmluZWQoYXR0ci5uYW1lKSYmZWxlbWVudC5hdHRyKCJuYW1lIixuZXh0VWlkKCkpO3ZhciBsaXN0ZW5lcj1mdW5jdGlvbihldil7ZWxlbWVudFswXS5jaGVja2VkJiZjdHJsLiRzZXRWaWV3VmFsdWUoYXR0ci52YWx1ZSxldiYmZXYudHlwZSl9O2VsZW1lbnQub24oImNsaWNrIixsaXN0ZW5lciksY3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHZhbHVlPWF0dHIudmFsdWU7ZWxlbWVudFswXS5jaGVja2VkPXZhbHVlPT1jdHJsLiR2aWV3VmFsdWV9LGF0dHIuJG9ic2VydmUoInZhbHVlIixjdHJsLiRyZW5kZXIpfWZ1bmN0aW9uIHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSxjb250ZXh0LG5hbWUsZXhwcmVzc2lvbixmYWxsYmFjayl7dmFyIHBhcnNlRm47aWYoaXNEZWZpbmVkKGV4cHJlc3Npb24pKXtpZihwYXJzZUZuPSRwYXJzZShleHByZXNzaW9uKSwhcGFyc2VGbi5jb25zdGFudCl0aHJvdyBtaW5FcnIoIm5nTW9kZWwiKSgiY29uc3RleHByIiwiRXhwZWN0ZWQgY29uc3RhbnQgZXhwcmVzc2lvbiBmb3IgYHswfWAsIGJ1dCBzYXcgYHsxfWAuIixuYW1lLGV4cHJlc3Npb24pO3JldHVybiBwYXJzZUZuKGNvbnRleHQpfXJldHVybiBmYWxsYmFja31mdW5jdGlvbiBjaGVja2JveElucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3NlciwkZmlsdGVyLCRwYXJzZSl7dmFyIHRydWVWYWx1ZT1wYXJzZUNvbnN0YW50RXhwcigkcGFyc2Usc2NvcGUsIm5nVHJ1ZVZhbHVlIixhdHRyLm5nVHJ1ZVZhbHVlLCEwKSxmYWxzZVZhbHVlPXBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSxzY29wZSwibmdGYWxzZVZhbHVlIixhdHRyLm5nRmFsc2VWYWx1ZSwhMSksbGlzdGVuZXI9ZnVuY3Rpb24oZXYpe2N0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50WzBdLmNoZWNrZWQsZXYmJmV2LnR5cGUpfTtlbGVtZW50Lm9uKCJjbGljayIsbGlzdGVuZXIpLGN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe2VsZW1lbnRbMF0uY2hlY2tlZD1jdHJsLiR2aWV3VmFsdWV9LGN0cmwuJGlzRW1wdHk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSE9PXRydWVWYWx1ZX0sY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZXF1YWxzKHZhbHVlLHRydWVWYWx1ZSl9KSxjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT90cnVlVmFsdWU6ZmFsc2VWYWx1ZX0pfWZ1bmN0aW9uIGFkZFNldFZhbGlkaXR5TWV0aG9kKGNvbnRleHQpe2Z1bmN0aW9uIHNldFZhbGlkaXR5KHZhbGlkYXRpb25FcnJvcktleSxzdGF0ZSxvcHRpb25zKXtzdGF0ZT09PXVuZGVmaW5lZD9jcmVhdGVBbmRTZXQoIiRwZW5kaW5nIix2YWxpZGF0aW9uRXJyb3JLZXksb3B0aW9ucyk6dW5zZXRBbmRDbGVhbnVwKCIkcGVuZGluZyIsdmFsaWRhdGlvbkVycm9yS2V5LG9wdGlvbnMpLGlzQm9vbGVhbihzdGF0ZSk/c3RhdGU/KHVuc2V0KGN0cmwuJGVycm9yLHZhbGlkYXRpb25FcnJvcktleSxvcHRpb25zKSxzZXQoY3RybC4kJHN1Y2Nlc3MsdmFsaWRhdGlvbkVycm9yS2V5LG9wdGlvbnMpKTooc2V0KGN0cmwuJGVycm9yLHZhbGlkYXRpb25FcnJvcktleSxvcHRpb25zKSx1bnNldChjdHJsLiQkc3VjY2Vzcyx2YWxpZGF0aW9uRXJyb3JLZXksb3B0aW9ucykpOih1bnNldChjdHJsLiRlcnJvcix2YWxpZGF0aW9uRXJyb3JLZXksb3B0aW9ucyksdW5zZXQoY3RybC4kJHN1Y2Nlc3MsdmFsaWRhdGlvbkVycm9yS2V5LG9wdGlvbnMpKSxjdHJsLiRwZW5kaW5nPyhjYWNoZWRUb2dnbGVDbGFzcyhQRU5ESU5HX0NMQVNTLCEwKSxjdHJsLiR2YWxpZD1jdHJsLiRpbnZhbGlkPXVuZGVmaW5lZCx0b2dnbGVWYWxpZGF0aW9uQ3NzKCIiLG51bGwpKTooY2FjaGVkVG9nZ2xlQ2xhc3MoUEVORElOR19DTEFTUywhMSksY3RybC4kdmFsaWQ9aXNPYmplY3RFbXB0eShjdHJsLiRlcnJvciksY3RybC4kaW52YWxpZD0hY3RybC4kdmFsaWQsdG9nZ2xlVmFsaWRhdGlvbkNzcygiIixjdHJsLiR2YWxpZCkpO3ZhciBjb21iaW5lZFN0YXRlO2NvbWJpbmVkU3RhdGU9Y3RybC4kcGVuZGluZyYmY3RybC4kcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldP3VuZGVmaW5lZDpjdHJsLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldPyExOmN0cmwuJCRzdWNjZXNzW3ZhbGlkYXRpb25FcnJvcktleV0/ITA6bnVsbCx0b2dnbGVWYWxpZGF0aW9uQ3NzKHZhbGlkYXRpb25FcnJvcktleSxjb21iaW5lZFN0YXRlKSxwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksY29tYmluZWRTdGF0ZSxjdHJsKX1mdW5jdGlvbiBjcmVhdGVBbmRTZXQobmFtZSx2YWx1ZSxvcHRpb25zKXtjdHJsW25hbWVdfHwoY3RybFtuYW1lXT17fSksc2V0KGN0cmxbbmFtZV0sdmFsdWUsb3B0aW9ucyl9ZnVuY3Rpb24gdW5zZXRBbmRDbGVhbnVwKG5hbWUsdmFsdWUsb3B0aW9ucyl7Y3RybFtuYW1lXSYmdW5zZXQoY3RybFtuYW1lXSx2YWx1ZSxvcHRpb25zKSxpc09iamVjdEVtcHR5KGN0cmxbbmFtZV0pJiYoY3RybFtuYW1lXT11bmRlZmluZWQpfWZ1bmN0aW9uIGNhY2hlZFRvZ2dsZUNsYXNzKGNsYXNzTmFtZSxzd2l0Y2hWYWx1ZSl7c3dpdGNoVmFsdWUmJiFjbGFzc0NhY2hlW2NsYXNzTmFtZV0/KCRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LGNsYXNzTmFtZSksY2xhc3NDYWNoZVtjbGFzc05hbWVdPSEwKTohc3dpdGNoVmFsdWUmJmNsYXNzQ2FjaGVbY2xhc3NOYW1lXSYmKCRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LGNsYXNzTmFtZSksY2xhc3NDYWNoZVtjbGFzc05hbWVdPSExKX1mdW5jdGlvbiB0b2dnbGVWYWxpZGF0aW9uQ3NzKHZhbGlkYXRpb25FcnJvcktleSxpc1ZhbGlkKXt2YWxpZGF0aW9uRXJyb3JLZXk9dmFsaWRhdGlvbkVycm9yS2V5PyItIitzbmFrZV9jYXNlKHZhbGlkYXRpb25FcnJvcktleSwiLSIpOiIiLGNhY2hlZFRvZ2dsZUNsYXNzKFZBTElEX0NMQVNTK3ZhbGlkYXRpb25FcnJvcktleSxpc1ZhbGlkPT09ITApLGNhY2hlZFRvZ2dsZUNsYXNzKElOVkFMSURfQ0xBU1MrdmFsaWRhdGlvbkVycm9yS2V5LGlzVmFsaWQ9PT0hMSl9dmFyIGN0cmw9Y29udGV4dC5jdHJsLCRlbGVtZW50PWNvbnRleHQuJGVsZW1lbnQsY2xhc3NDYWNoZT17fSxzZXQ9Y29udGV4dC5zZXQsdW5zZXQ9Y29udGV4dC51bnNldCxwYXJlbnRGb3JtPWNvbnRleHQucGFyZW50Rm9ybSwkYW5pbWF0ZT1jb250ZXh0LiRhbmltYXRlO2NsYXNzQ2FjaGVbSU5WQUxJRF9DTEFTU109IShjbGFzc0NhY2hlW1ZBTElEX0NMQVNTXT0kZWxlbWVudC5oYXNDbGFzcyhWQUxJRF9DTEFTUykpLGN0cmwuJHNldFZhbGlkaXR5PXNldFZhbGlkaXR5fWZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKXtpZihvYmopZm9yKHZhciBwcm9wIGluIG9iailyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBjbGFzc0RpcmVjdGl2ZShuYW1lLHNlbGVjdG9yKXtyZXR1cm4gbmFtZT0ibmdDbGFzcyIrbmFtZSxbIiRhbmltYXRlIixmdW5jdGlvbigkYW5pbWF0ZSl7ZnVuY3Rpb24gYXJyYXlEaWZmZXJlbmNlKHRva2VuczEsdG9rZW5zMil7dmFyIHZhbHVlcz1bXTtvdXRlcjpmb3IodmFyIGk9MDtpPHRva2VuczEubGVuZ3RoO2krKyl7Zm9yKHZhciB0b2tlbj10b2tlbnMxW2ldLGo9MDtqPHRva2VuczIubGVuZ3RoO2orKylpZih0b2tlbj09dG9rZW5zMltqXSljb250aW51ZSBvdXRlcjt2YWx1ZXMucHVzaCh0b2tlbil9cmV0dXJuIHZhbHVlc31mdW5jdGlvbiBhcnJheUNsYXNzZXMoY2xhc3NWYWwpe2lmKGlzQXJyYXkoY2xhc3NWYWwpKXJldHVybiBjbGFzc1ZhbDtpZihpc1N0cmluZyhjbGFzc1ZhbCkpcmV0dXJuIGNsYXNzVmFsLnNwbGl0KCIgIik7aWYoaXNPYmplY3QoY2xhc3NWYWwpKXt2YXIgY2xhc3Nlcz1bXTtyZXR1cm4gZm9yRWFjaChjbGFzc1ZhbCxmdW5jdGlvbih2LGspe3YmJihjbGFzc2VzPWNsYXNzZXMuY29uY2F0KGsuc3BsaXQoIiAiKSkpfSksY2xhc3Nlc31yZXR1cm4gY2xhc3NWYWx9cmV0dXJue3Jlc3RyaWN0OiJBQyIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe2Z1bmN0aW9uIGFkZENsYXNzZXMoY2xhc3Nlcyl7dmFyIG5ld0NsYXNzZXM9ZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywxKTthdHRyLiRhZGRDbGFzcyhuZXdDbGFzc2VzKX1mdW5jdGlvbiByZW1vdmVDbGFzc2VzKGNsYXNzZXMpe3ZhciBuZXdDbGFzc2VzPWRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsLTEpO2F0dHIuJHJlbW92ZUNsYXNzKG5ld0NsYXNzZXMpfWZ1bmN0aW9uIGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsY291bnQpe3ZhciBjbGFzc0NvdW50cz1lbGVtZW50LmRhdGEoIiRjbGFzc0NvdW50cyIpfHx7fSxjbGFzc2VzVG9VcGRhdGU9W107cmV0dXJuIGZvckVhY2goY2xhc3NlcyxmdW5jdGlvbihjbGFzc05hbWUpeyhjb3VudD4wfHxjbGFzc0NvdW50c1tjbGFzc05hbWVdKSYmKGNsYXNzQ291bnRzW2NsYXNzTmFtZV09KGNsYXNzQ291bnRzW2NsYXNzTmFtZV18fDApK2NvdW50LGNsYXNzQ291bnRzW2NsYXNzTmFtZV09PT0rKGNvdW50PjApJiZjbGFzc2VzVG9VcGRhdGUucHVzaChjbGFzc05hbWUpKX0pLGVsZW1lbnQuZGF0YSgiJGNsYXNzQ291bnRzIixjbGFzc0NvdW50cyksY2xhc3Nlc1RvVXBkYXRlLmpvaW4oIiAiKX1mdW5jdGlvbiB1cGRhdGVDbGFzc2VzKG9sZENsYXNzZXMsbmV3Q2xhc3Nlcyl7dmFyIHRvQWRkPWFycmF5RGlmZmVyZW5jZShuZXdDbGFzc2VzLG9sZENsYXNzZXMpLHRvUmVtb3ZlPWFycmF5RGlmZmVyZW5jZShvbGRDbGFzc2VzLG5ld0NsYXNzZXMpO3RvQWRkPWRpZ2VzdENsYXNzQ291bnRzKHRvQWRkLDEpLHRvUmVtb3ZlPWRpZ2VzdENsYXNzQ291bnRzKHRvUmVtb3ZlLC0xKSx0b0FkZCYmdG9BZGQubGVuZ3RoJiYkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LHRvQWRkKSx0b1JlbW92ZSYmdG9SZW1vdmUubGVuZ3RoJiYkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LHRvUmVtb3ZlKX1mdW5jdGlvbiBuZ0NsYXNzV2F0Y2hBY3Rpb24obmV3VmFsKXtpZihzZWxlY3Rvcj09PSEwfHxzY29wZS4kaW5kZXglMj09PXNlbGVjdG9yKXt2YXIgbmV3Q2xhc3Nlcz1hcnJheUNsYXNzZXMobmV3VmFsfHxbXSk7aWYob2xkVmFsKXtpZighZXF1YWxzKG5ld1ZhbCxvbGRWYWwpKXt2YXIgb2xkQ2xhc3Nlcz1hcnJheUNsYXNzZXMob2xkVmFsKTt1cGRhdGVDbGFzc2VzKG9sZENsYXNzZXMsbmV3Q2xhc3Nlcyl9fWVsc2UgYWRkQ2xhc3NlcyhuZXdDbGFzc2VzKX1vbGRWYWw9c2hhbGxvd0NvcHkobmV3VmFsKX12YXIgb2xkVmFsO3Njb3BlLiR3YXRjaChhdHRyW25hbWVdLG5nQ2xhc3NXYXRjaEFjdGlvbiwhMCksYXR0ci4kb2JzZXJ2ZSgiY2xhc3MiLGZ1bmN0aW9uKCl7bmdDbGFzc1dhdGNoQWN0aW9uKHNjb3BlLiRldmFsKGF0dHJbbmFtZV0pKX0pLCJuZ0NsYXNzIiE9PW5hbWUmJnNjb3BlLiR3YXRjaCgiJGluZGV4IixmdW5jdGlvbigkaW5kZXgsb2xkJGluZGV4KXt2YXIgbW9kPTEmJGluZGV4O2lmKG1vZCE9PSgxJm9sZCRpbmRleCkpe3ZhciBjbGFzc2VzPWFycmF5Q2xhc3NlcyhzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7bW9kPT09c2VsZWN0b3I/YWRkQ2xhc3NlcyhjbGFzc2VzKTpyZW1vdmVDbGFzc2VzKGNsYXNzZXMpfX0pfX19XX12YXIgUkVHRVhfU1RSSU5HX1JFR0VYUD0vXlwvKC4rKVwvKFthLXpdKikkLyxWQUxJRElUWV9TVEFURV9QUk9QRVJUWT0idmFsaWRpdHkiLGxvd2VyY2FzZT1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBpc1N0cmluZyhzdHJpbmcpP3N0cmluZy50b0xvd2VyQ2FzZSgpOnN0cmluZ30saGFzT3duUHJvcGVydHk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx1cHBlcmNhc2U9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKT9zdHJpbmcudG9VcHBlckNhc2UoKTpzdHJpbmd9LG1hbnVhbExvd2VyY2FzZT1mdW5jdGlvbihzKXtyZXR1cm4gaXNTdHJpbmcocyk/cy5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGNoKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgzMnxjaC5jaGFyQ29kZUF0KDApKX0pOnN9LG1hbnVhbFVwcGVyY2FzZT1mdW5jdGlvbihzKXtyZXR1cm4gaXNTdHJpbmcocyk/cy5yZXBsYWNlKC9bYS16XS9nLGZ1bmN0aW9uKGNoKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgtMzMmY2guY2hhckNvZGVBdCgwKSl9KTpzfTsiaSIhPT0iSSIudG9Mb3dlckNhc2UoKSYmKGxvd2VyY2FzZT1tYW51YWxMb3dlcmNhc2UsdXBwZXJjYXNlPW1hbnVhbFVwcGVyY2FzZSk7dmFyIG1zaWUsanFMaXRlLGpRdWVyeSxhbmd1bGFyTW9kdWxlLHNsaWNlPVtdLnNsaWNlLHNwbGljZT1bXS5zcGxpY2UscHVzaD1bXS5wdXNoLHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbmdNaW5FcnI9bWluRXJyKCJuZyIpLGFuZ3VsYXI9d2luZG93LmFuZ3VsYXJ8fCh3aW5kb3cuYW5ndWxhcj17fSksdWlkPTA7bXNpZT1kb2N1bWVudC5kb2N1bWVudE1vZGUsbm9vcC4kaW5qZWN0PVtdLGlkZW50aXR5LiRpbmplY3Q9W107dmFyIHNraXBEZXN0cm95T25OZXh0SlF1ZXJ5Q2xlYW5EYXRhLGlzQXJyYXk9QXJyYXkuaXNBcnJheSx0cmltPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNTdHJpbmcodmFsdWUpP3ZhbHVlLnRyaW0oKTp2YWx1ZX0sY3NwPWZ1bmN0aW9uKCl7aWYoaXNEZWZpbmVkKGNzcC5pc0FjdGl2ZV8pKXJldHVybiBjc3AuaXNBY3RpdmVfO3ZhciBhY3RpdmU9ISghZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW25nLWNzcF0iKSYmIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltkYXRhLW5nLWNzcF0iKSk7aWYoIWFjdGl2ZSl0cnl7bmV3IEZ1bmN0aW9uKCIiKX1jYXRjaChlKXthY3RpdmU9ITB9cmV0dXJuIGNzcC5pc0FjdGl2ZV89YWN0aXZlfSxuZ0F0dHJQcmVmaXhlcz1bIm5nLSIsImRhdGEtbmctIiwibmc6IiwieC1uZy0iXSxTTkFLRV9DQVNFX1JFR0VYUD0vW0EtWl0vZyxiaW5kSlF1ZXJ5RmlyZWQ9ITEsTk9ERV9UWVBFX0VMRU1FTlQ9MSxOT0RFX1RZUEVfVEVYVD0zLE5PREVfVFlQRV9DT01NRU5UPTgsTk9ERV9UWVBFX0RPQ1VNRU5UPTksTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UPTExLHZlcnNpb249e2Z1bGw6IjEuMy4wIixtYWpvcjoxLG1pbm9yOjMsZG90OjAsY29kZU5hbWU6InN1cGVybHVtaW5hbC1udWRnZSJ9O0pRTGl0ZS5leHBhbmRvPSJuZzMzOSI7dmFyIGpxQ2FjaGU9SlFMaXRlLmNhY2hlPXt9LGpxSWQ9MSxhZGRFdmVudExpc3RlbmVyRm49ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSxmbiwhMSl9LHJlbW92ZUV2ZW50TGlzdGVuZXJGbj1mdW5jdGlvbihlbGVtZW50LHR5cGUsZm4pe2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLGZuLCExKX07SlFMaXRlLl9kYXRhPWZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLmNhY2hlW25vZGVbdGhpcy5leHBhbmRvXV18fHt9fTt2YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFA9LyhbXDpcLVxfXSsoLikpL2csTU9aX0hBQ0tfUkVHRVhQPS9ebW96KFtBLVpdKS8sTU9VU0VfRVZFTlRfTUFQPXttb3VzZWxlYXZlOiJtb3VzZW91dCIsbW91c2VlbnRlcjoibW91c2VvdmVyIn0sanFMaXRlTWluRXJyPW1pbkVycigianFMaXRlIiksU0lOR0xFX1RBR19SRUdFWFA9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyxIVE1MX1JFR0VYUD0vPHwmIz9cdys7LyxUQUdfTkFNRV9SRUdFWFA9LzwoW1x3Ol0rKS8sWEhUTUxfVEFHX1JFR0VYUD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLHdyYXBNYXA9e29wdGlvbjpbMSwnPHNlbGVjdCBtdWx0aXBsZT0ibXVsdGlwbGUiPicsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTt3cmFwTWFwLm9wdGdyb3VwPXdyYXBNYXAub3B0aW9uLHdyYXBNYXAudGJvZHk9d3JhcE1hcC50Zm9vdD13cmFwTWFwLmNvbGdyb3VwPXdyYXBNYXAuY2FwdGlvbj13cmFwTWFwLnRoZWFkLHdyYXBNYXAudGg9d3JhcE1hcC50ZDt2YXIgSlFMaXRlUHJvdG90eXBlPUpRTGl0ZS5wcm90b3R5cGU9e3JlYWR5OmZ1bmN0aW9uKGZuKXtmdW5jdGlvbiB0cmlnZ2VyKCl7ZmlyZWR8fChmaXJlZD0hMCxmbigpKX12YXIgZmlyZWQ9ITE7ImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/c2V0VGltZW91dCh0cmlnZ2VyKToodGhpcy5vbigiRE9NQ29udGVudExvYWRlZCIsdHJpZ2dlciksSlFMaXRlKHdpbmRvdykub24oImxvYWQiLHRyaWdnZXIpLHRoaXMub24oIkRPTUNvbnRlbnRMb2FkZWQiLHRyaWdnZXIpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdmFsdWU9W107cmV0dXJuIGZvckVhY2godGhpcyxmdW5jdGlvbihlKXt2YWx1ZS5wdXNoKCIiK2UpfSksIlsiK3ZhbHVlLmpvaW4oIiwgIikrIl0ifSxlcTpmdW5jdGlvbihpbmRleCl7cmV0dXJuIGpxTGl0ZShpbmRleD49MD90aGlzW2luZGV4XTp0aGlzW3RoaXMubGVuZ3RoK2luZGV4XSl9LGxlbmd0aDowLHB1c2g6cHVzaCxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sQk9PTEVBTl9BVFRSPXt9O2ZvckVhY2goIm11bHRpcGxlLHNlbGVjdGVkLGNoZWNrZWQsZGlzYWJsZWQscmVhZE9ubHkscmVxdWlyZWQsb3BlbiIuc3BsaXQoIiwiKSxmdW5jdGlvbih2YWx1ZSl7Qk9PTEVBTl9BVFRSW2xvd2VyY2FzZSh2YWx1ZSldPXZhbHVlfSk7dmFyIEJPT0xFQU5fRUxFTUVOVFM9e307Zm9yRWFjaCgiaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKHZhbHVlKXtCT09MRUFOX0VMRU1FTlRTW3ZhbHVlXT0hMH0pO3ZhciBBTElBU0VEX0FUVFI9e25nTWlubGVuZ3RoOiJtaW5sZW5ndGgiLG5nTWF4bGVuZ3RoOiJtYXhsZW5ndGgiLG5nTWluOiJtaW4iLG5nTWF4OiJtYXgiLG5nUGF0dGVybjoicGF0dGVybiJ9O2ZvckVhY2goe2RhdGE6anFMaXRlRGF0YSxyZW1vdmVEYXRhOmpxTGl0ZVJlbW92ZURhdGF9LGZ1bmN0aW9uKGZuLG5hbWUpe0pRTGl0ZVtuYW1lXT1mbn0pLGZvckVhY2goe2RhdGE6anFMaXRlRGF0YSxpbmhlcml0ZWREYXRhOmpxTGl0ZUluaGVyaXRlZERhdGEsc2NvcGU6ZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsIiRzY29wZSIpfHxqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQucGFyZW50Tm9kZXx8ZWxlbWVudCxbIiRpc29sYXRlU2NvcGUiLCIkc2NvcGUiXSl9LGlzb2xhdGVTY29wZTpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwiJGlzb2xhdGVTY29wZSIpfHxqcUxpdGUuZGF0YShlbGVtZW50LCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZSIpfSxjb250cm9sbGVyOmpxTGl0ZUNvbnRyb2xsZXIsaW5qZWN0b3I6ZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwiJGluamVjdG9yIil9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZWxlbWVudCxuYW1lKXtlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKX0saGFzQ2xhc3M6anFMaXRlSGFzQ2xhc3MsY3NzOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSx2YWx1ZSl7cmV0dXJuIG5hbWU9Y2FtZWxDYXNlKG5hbWUpLGlzRGVmaW5lZCh2YWx1ZSk/dm9pZChlbGVtZW50LnN0eWxlW25hbWVdPXZhbHVlKTplbGVtZW50LnN0eWxlW25hbWVdfSxhdHRyOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSx2YWx1ZSl7dmFyIGxvd2VyY2FzZWROYW1lPWxvd2VyY2FzZShuYW1lKTtpZihCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKXtpZighaXNEZWZpbmVkKHZhbHVlKSlyZXR1cm4gZWxlbWVudFtuYW1lXXx8KGVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSl8fG5vb3ApLnNwZWNpZmllZD9sb3dlcmNhc2VkTmFtZTp1bmRlZmluZWQ7CnZhbHVlPyhlbGVtZW50W25hbWVdPSEwLGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsbG93ZXJjYXNlZE5hbWUpKTooZWxlbWVudFtuYW1lXT0hMSxlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShsb3dlcmNhc2VkTmFtZSkpfWVsc2UgaWYoaXNEZWZpbmVkKHZhbHVlKSllbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLHZhbHVlKTtlbHNlIGlmKGVsZW1lbnQuZ2V0QXR0cmlidXRlKXt2YXIgcmV0PWVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUsMik7cmV0dXJuIG51bGw9PT1yZXQ/dW5kZWZpbmVkOnJldH19LHByb3A6ZnVuY3Rpb24oZWxlbWVudCxuYW1lLHZhbHVlKXtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT92b2lkKGVsZW1lbnRbbmFtZV09dmFsdWUpOmVsZW1lbnRbbmFtZV19LHRleHQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQsdmFsdWUpe2lmKGlzVW5kZWZpbmVkKHZhbHVlKSl7dmFyIG5vZGVUeXBlPWVsZW1lbnQubm9kZVR5cGU7cmV0dXJuIG5vZGVUeXBlPT09Tk9ERV9UWVBFX0VMRU1FTlR8fG5vZGVUeXBlPT09Tk9ERV9UWVBFX1RFWFQ/ZWxlbWVudC50ZXh0Q29udGVudDoiIn1lbGVtZW50LnRleHRDb250ZW50PXZhbHVlfXJldHVybiBnZXRUZXh0LiRkdj0iIixnZXRUZXh0fSgpLHZhbDpmdW5jdGlvbihlbGVtZW50LHZhbHVlKXtpZihpc1VuZGVmaW5lZCh2YWx1ZSkpe2lmKGVsZW1lbnQubXVsdGlwbGUmJiJzZWxlY3QiPT09bm9kZU5hbWVfKGVsZW1lbnQpKXt2YXIgcmVzdWx0PVtdO3JldHVybiBmb3JFYWNoKGVsZW1lbnQub3B0aW9ucyxmdW5jdGlvbihvcHRpb24pe29wdGlvbi5zZWxlY3RlZCYmcmVzdWx0LnB1c2gob3B0aW9uLnZhbHVlfHxvcHRpb24udGV4dCl9KSwwPT09cmVzdWx0Lmxlbmd0aD9udWxsOnJlc3VsdH1yZXR1cm4gZWxlbWVudC52YWx1ZX1lbGVtZW50LnZhbHVlPXZhbHVlfSxodG1sOmZ1bmN0aW9uKGVsZW1lbnQsdmFsdWUpe3JldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSk/ZWxlbWVudC5pbm5lckhUTUw6KGpxTGl0ZURlYWxvYyhlbGVtZW50LCEwKSx2b2lkKGVsZW1lbnQuaW5uZXJIVE1MPXZhbHVlKSl9LGVtcHR5OmpxTGl0ZUVtcHR5fSxmdW5jdGlvbihmbixuYW1lKXtKUUxpdGUucHJvdG90eXBlW25hbWVdPWZ1bmN0aW9uKGFyZzEsYXJnMil7dmFyIGksa2V5LG5vZGVDb3VudD10aGlzLmxlbmd0aDtpZihmbiE9PWpxTGl0ZUVtcHR5JiYoMj09Zm4ubGVuZ3RoJiZmbiE9PWpxTGl0ZUhhc0NsYXNzJiZmbiE9PWpxTGl0ZUNvbnRyb2xsZXI/YXJnMTphcmcyKT09PXVuZGVmaW5lZCl7aWYoaXNPYmplY3QoYXJnMSkpe2ZvcihpPTA7bm9kZUNvdW50Pmk7aSsrKWlmKGZuPT09anFMaXRlRGF0YSlmbih0aGlzW2ldLGFyZzEpO2Vsc2UgZm9yKGtleSBpbiBhcmcxKWZuKHRoaXNbaV0sa2V5LGFyZzFba2V5XSk7cmV0dXJuIHRoaXN9Zm9yKHZhciB2YWx1ZT1mbi4kZHYsamo9dmFsdWU9PT11bmRlZmluZWQ/TWF0aC5taW4obm9kZUNvdW50LDEpOm5vZGVDb3VudCxqPTA7amo+ajtqKyspe3ZhciBub2RlVmFsdWU9Zm4odGhpc1tqXSxhcmcxLGFyZzIpO3ZhbHVlPXZhbHVlP3ZhbHVlK25vZGVWYWx1ZTpub2RlVmFsdWV9cmV0dXJuIHZhbHVlfWZvcihpPTA7bm9kZUNvdW50Pmk7aSsrKWZuKHRoaXNbaV0sYXJnMSxhcmcyKTtyZXR1cm4gdGhpc319KSxmb3JFYWNoKHtyZW1vdmVEYXRhOmpxTGl0ZVJlbW92ZURhdGEsb246ZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCx0eXBlLGZuLHVuc3VwcG9ydGVkKXtpZihpc0RlZmluZWQodW5zdXBwb3J0ZWQpKXRocm93IGpxTGl0ZU1pbkVycigib25hcmdzIiwianFMaXRlI29uKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBvciBgZXZlbnREYXRhYCBwYXJhbWV0ZXJzIik7aWYoanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpe3ZhciBleHBhbmRvU3RvcmU9anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsITApLGV2ZW50cz1leHBhbmRvU3RvcmUuZXZlbnRzLGhhbmRsZT1leHBhbmRvU3RvcmUuaGFuZGxlO2hhbmRsZXx8KGhhbmRsZT1leHBhbmRvU3RvcmUuaGFuZGxlPWNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LGV2ZW50cykpO2Zvcih2YXIgdHlwZXM9dHlwZS5pbmRleE9mKCIgIik+PTA/dHlwZS5zcGxpdCgiICIpOlt0eXBlXSxpPXR5cGVzLmxlbmd0aDtpLS07KXt0eXBlPXR5cGVzW2ldO3ZhciBldmVudEZucz1ldmVudHNbdHlwZV07ZXZlbnRGbnN8fChldmVudHNbdHlwZV09W10sIm1vdXNlZW50ZXIiPT09dHlwZXx8Im1vdXNlbGVhdmUiPT09dHlwZT9qcUxpdGVPbihlbGVtZW50LE1PVVNFX0VWRU5UX01BUFt0eXBlXSxmdW5jdGlvbihldmVudCl7dmFyIHRhcmdldD10aGlzLHJlbGF0ZWQ9ZXZlbnQucmVsYXRlZFRhcmdldDsoIXJlbGF0ZWR8fHJlbGF0ZWQhPT10YXJnZXQmJiF0YXJnZXQuY29udGFpbnMocmVsYXRlZCkpJiZoYW5kbGUoZXZlbnQsdHlwZSl9KToiJGRlc3Ryb3kiIT09dHlwZSYmYWRkRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsdHlwZSxoYW5kbGUpLGV2ZW50Rm5zPWV2ZW50c1t0eXBlXSksZXZlbnRGbnMucHVzaChmbil9fX0sb2ZmOmpxTGl0ZU9mZixvbmU6ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxlbGVtZW50Lm9uKHR5cGUsZnVuY3Rpb24gb25Gbigpe2VsZW1lbnQub2ZmKHR5cGUsZm4pLGVsZW1lbnQub2ZmKHR5cGUsb25Gbil9KSxlbGVtZW50Lm9uKHR5cGUsZm4pfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihlbGVtZW50LHJlcGxhY2VOb2RlKXt2YXIgaW5kZXgscGFyZW50PWVsZW1lbnQucGFyZW50Tm9kZTtqcUxpdGVEZWFsb2MoZWxlbWVudCksZm9yRWFjaChuZXcgSlFMaXRlKHJlcGxhY2VOb2RlKSxmdW5jdGlvbihub2RlKXtpbmRleD9wYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsaW5kZXgubmV4dFNpYmxpbmcpOnBhcmVudC5yZXBsYWNlQ2hpbGQobm9kZSxlbGVtZW50KSxpbmRleD1ub2RlfSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBjaGlsZHJlbj1bXTtyZXR1cm4gZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsZnVuY3Rpb24oZWxlbWVudCl7ZWxlbWVudC5ub2RlVHlwZT09PU5PREVfVFlQRV9FTEVNRU5UJiZjaGlsZHJlbi5wdXNoKGVsZW1lbnQpfSksY2hpbGRyZW59LGNvbnRlbnRzOmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBlbGVtZW50LmNvbnRlbnREb2N1bWVudHx8ZWxlbWVudC5jaGlsZE5vZGVzfHxbXX0sYXBwZW5kOmZ1bmN0aW9uKGVsZW1lbnQsbm9kZSl7dmFyIG5vZGVUeXBlPWVsZW1lbnQubm9kZVR5cGU7aWYobm9kZVR5cGU9PT1OT0RFX1RZUEVfRUxFTUVOVHx8bm9kZVR5cGU9PT1OT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQpe25vZGU9bmV3IEpRTGl0ZShub2RlKTtmb3IodmFyIGk9MCxpaT1ub2RlLmxlbmd0aDtpaT5pO2krKyl7dmFyIGNoaWxkPW5vZGVbaV07ZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCl9fX0scHJlcGVuZDpmdW5jdGlvbihlbGVtZW50LG5vZGUpe2lmKGVsZW1lbnQubm9kZVR5cGU9PT1OT0RFX1RZUEVfRUxFTUVOVCl7dmFyIGluZGV4PWVsZW1lbnQuZmlyc3RDaGlsZDtmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksZnVuY3Rpb24oY2hpbGQpe2VsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLGluZGV4KX0pfX0sd3JhcDpmdW5jdGlvbihlbGVtZW50LHdyYXBOb2RlKXt3cmFwTm9kZT1qcUxpdGUod3JhcE5vZGUpLmVxKDApLmNsb25lKClbMF07dmFyIHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7cGFyZW50JiZwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBOb2RlLGVsZW1lbnQpLHdyYXBOb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpfSxyZW1vdmU6anFMaXRlUmVtb3ZlLGRldGFjaDpmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVSZW1vdmUoZWxlbWVudCwhMCl9LGFmdGVyOmZ1bmN0aW9uKGVsZW1lbnQsbmV3RWxlbWVudCl7dmFyIGluZGV4PWVsZW1lbnQscGFyZW50PWVsZW1lbnQucGFyZW50Tm9kZTtuZXdFbGVtZW50PW5ldyBKUUxpdGUobmV3RWxlbWVudCk7Zm9yKHZhciBpPTAsaWk9bmV3RWxlbWVudC5sZW5ndGg7aWk+aTtpKyspe3ZhciBub2RlPW5ld0VsZW1lbnRbaV07cGFyZW50Lmluc2VydEJlZm9yZShub2RlLGluZGV4Lm5leHRTaWJsaW5nKSxpbmRleD1ub2RlfX0sYWRkQ2xhc3M6anFMaXRlQWRkQ2xhc3MscmVtb3ZlQ2xhc3M6anFMaXRlUmVtb3ZlQ2xhc3MsdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxzZWxlY3Rvcixjb25kaXRpb24pe3NlbGVjdG9yJiZmb3JFYWNoKHNlbGVjdG9yLnNwbGl0KCIgIiksZnVuY3Rpb24oY2xhc3NOYW1lKXt2YXIgY2xhc3NDb25kaXRpb249Y29uZGl0aW9uO2lzVW5kZWZpbmVkKGNsYXNzQ29uZGl0aW9uKSYmKGNsYXNzQ29uZGl0aW9uPSFqcUxpdGVIYXNDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSkpLChjbGFzc0NvbmRpdGlvbj9qcUxpdGVBZGRDbGFzczpqcUxpdGVSZW1vdmVDbGFzcykoZWxlbWVudCxjbGFzc05hbWUpfSl9LHBhcmVudDpmdW5jdGlvbihlbGVtZW50KXt2YXIgcGFyZW50PWVsZW1lbnQucGFyZW50Tm9kZTtyZXR1cm4gcGFyZW50JiZwYXJlbnQubm9kZVR5cGUhPT1OT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQ/cGFyZW50Om51bGx9LG5leHQ6ZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nfSxmaW5kOmZ1bmN0aW9uKGVsZW1lbnQsc2VsZWN0b3Ipe3JldHVybiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lP2VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpOltdfSxjbG9uZTpqcUxpdGVDbG9uZSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlbGVtZW50LGV2ZW50LGV4dHJhUGFyYW1ldGVycyl7dmFyIGR1bW15RXZlbnQsZXZlbnRGbnNDb3B5LGhhbmRsZXJBcmdzLGV2ZW50TmFtZT1ldmVudC50eXBlfHxldmVudCxleHBhbmRvU3RvcmU9anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpLGV2ZW50cz1leHBhbmRvU3RvcmUmJmV4cGFuZG9TdG9yZS5ldmVudHMsZXZlbnRGbnM9ZXZlbnRzJiZldmVudHNbZXZlbnROYW1lXTtldmVudEZucyYmKGR1bW15RXZlbnQ9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkPT09ITB9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPSEwfSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD09PSEwfSxzdG9wUHJvcGFnYXRpb246bm9vcCx0eXBlOmV2ZW50TmFtZSx0YXJnZXQ6ZWxlbWVudH0sZXZlbnQudHlwZSYmKGR1bW15RXZlbnQ9ZXh0ZW5kKGR1bW15RXZlbnQsZXZlbnQpKSxldmVudEZuc0NvcHk9c2hhbGxvd0NvcHkoZXZlbnRGbnMpLGhhbmRsZXJBcmdzPWV4dHJhUGFyYW1ldGVycz9bZHVtbXlFdmVudF0uY29uY2F0KGV4dHJhUGFyYW1ldGVycyk6W2R1bW15RXZlbnRdLGZvckVhY2goZXZlbnRGbnNDb3B5LGZ1bmN0aW9uKGZuKXtkdW1teUV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fGZuLmFwcGx5KGVsZW1lbnQsaGFuZGxlckFyZ3MpfSkpfX0sZnVuY3Rpb24oZm4sbmFtZSl7SlFMaXRlLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbihhcmcxLGFyZzIsYXJnMyl7Zm9yKHZhciB2YWx1ZSxpPTAsaWk9dGhpcy5sZW5ndGg7aWk+aTtpKyspaXNVbmRlZmluZWQodmFsdWUpPyh2YWx1ZT1mbih0aGlzW2ldLGFyZzEsYXJnMixhcmczKSxpc0RlZmluZWQodmFsdWUpJiYodmFsdWU9anFMaXRlKHZhbHVlKSkpOmpxTGl0ZUFkZE5vZGVzKHZhbHVlLGZuKHRoaXNbaV0sYXJnMSxhcmcyLGFyZzMpKTtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT92YWx1ZTp0aGlzfSxKUUxpdGUucHJvdG90eXBlLmJpbmQ9SlFMaXRlLnByb3RvdHlwZS5vbixKUUxpdGUucHJvdG90eXBlLnVuYmluZD1KUUxpdGUucHJvdG90eXBlLm9mZn0pLEhhc2hNYXAucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXt0aGlzW2hhc2hLZXkoa2V5LHRoaXMubmV4dFVpZCldPXZhbHVlfSxnZXQ6ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpc1toYXNoS2V5KGtleSx0aGlzLm5leHRVaWQpXX0scmVtb3ZlOmZ1bmN0aW9uKGtleSl7dmFyIHZhbHVlPXRoaXNba2V5PWhhc2hLZXkoa2V5LHRoaXMubmV4dFVpZCldO3JldHVybiBkZWxldGUgdGhpc1trZXldLHZhbHVlfX07dmFyIEZOX0FSR1M9L15mdW5jdGlvblxzKlteXChdKlwoXHMqKFteXCldKilcKS9tLEZOX0FSR19TUExJVD0vLC8sRk5fQVJHPS9eXHMqKF8/KShcUys/KVwxXHMqJC8sU1RSSVBfQ09NTUVOVFM9LygoXC9cLy4qJCl8KFwvXCpbXHNcU10qP1wqXC8pKS9nbSwkaW5qZWN0b3JNaW5FcnI9bWluRXJyKCIkaW5qZWN0b3IiKTtjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlPWFubm90YXRlO3ZhciAkYW5pbWF0ZU1pbkVycj1taW5FcnIoIiRhbmltYXRlIiksJEFuaW1hdGVQcm92aWRlcj1bIiRwcm92aWRlIixmdW5jdGlvbigkcHJvdmlkZSl7dGhpcy4kJHNlbGVjdG9ycz17fSx0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKG5hbWUsZmFjdG9yeSl7dmFyIGtleT1uYW1lKyItYW5pbWF0aW9uIjtpZihuYW1lJiYiLiIhPW5hbWUuY2hhckF0KDApKXRocm93ICRhbmltYXRlTWluRXJyKCJub3Rjc2VsIiwiRXhwZWN0aW5nIGNsYXNzIHNlbGVjdG9yIHN0YXJ0aW5nIHdpdGggJy4nIGdvdCAnezB9Jy4iLG5hbWUpO3RoaXMuJCRzZWxlY3RvcnNbbmFtZS5zdWJzdHIoMSldPWtleSwkcHJvdmlkZS5mYWN0b3J5KGtleSxmYWN0b3J5KX0sdGhpcy5jbGFzc05hbWVGaWx0ZXI9ZnVuY3Rpb24oZXhwcmVzc2lvbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiYodGhpcy4kJGNsYXNzTmFtZUZpbHRlcj1leHByZXNzaW9uIGluc3RhbmNlb2YgUmVnRXhwP2V4cHJlc3Npb246bnVsbCksdGhpcy4kJGNsYXNzTmFtZUZpbHRlcn0sdGhpcy4kZ2V0PVsiJCRxIiwiJCRhc3luY0NhbGxiYWNrIiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oJCRxLCQkYXN5bmNDYWxsYmFjaywkcm9vdFNjb3BlKXtmdW5jdGlvbiBydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZuKXt2YXIgY2FuY2VsRm4sZGVmZXI9JCRxLmRlZmVyKCk7cmV0dXJuIGRlZmVyLnByb21pc2UuJCRjYW5jZWxGbj1mdW5jdGlvbigpe2NhbmNlbEZuJiZjYW5jZWxGbigpfSwkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2NhbmNlbEZuPWZuKGZ1bmN0aW9uKCl7ZGVmZXIucmVzb2x2ZSgpfSl9KSxkZWZlci5wcm9taXNlfWZ1bmN0aW9uIHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LGNsYXNzZXMpe3ZhciB0b0FkZD1bXSx0b1JlbW92ZT1bXSxoYXNDbGFzc2VzPWNyZWF0ZU1hcCgpO3JldHVybiBmb3JFYWNoKChlbGVtZW50LmF0dHIoImNsYXNzIil8fCIiKS5zcGxpdCgvXHMrLyksZnVuY3Rpb24oY2xhc3NOYW1lKXtoYXNDbGFzc2VzW2NsYXNzTmFtZV09ITB9KSxmb3JFYWNoKGNsYXNzZXMsZnVuY3Rpb24oc3RhdHVzLGNsYXNzTmFtZSl7dmFyIGhhc0NsYXNzPWhhc0NsYXNzZXNbY2xhc3NOYW1lXTtzdGF0dXM9PT0hMSYmaGFzQ2xhc3M/dG9SZW1vdmUucHVzaChjbGFzc05hbWUpOnN0YXR1cyE9PSEwfHxoYXNDbGFzc3x8dG9BZGQucHVzaChjbGFzc05hbWUpfSksdG9BZGQubGVuZ3RoK3RvUmVtb3ZlLmxlbmd0aD4wJiZbdG9BZGQubGVuZ3RoP3RvQWRkOm51bGwsdG9SZW1vdmUubGVuZ3RoP3RvUmVtb3ZlOm51bGxdfWZ1bmN0aW9uIGNhY2hlZENsYXNzTWFuaXB1bGF0aW9uKGNhY2hlLGNsYXNzZXMsb3Ape2Zvcih2YXIgaT0wLGlpPWNsYXNzZXMubGVuZ3RoO2lpPmk7KytpKXt2YXIgY2xhc3NOYW1lPWNsYXNzZXNbaV07Y2FjaGVbY2xhc3NOYW1lXT1vcH19ZnVuY3Rpb24gYXN5bmNQcm9taXNlKCl7cmV0dXJuIGN1cnJlbnREZWZlcnx8KGN1cnJlbnREZWZlcj0kJHEuZGVmZXIoKSwkJGFzeW5jQ2FsbGJhY2soZnVuY3Rpb24oKXtjdXJyZW50RGVmZXIucmVzb2x2ZSgpLGN1cnJlbnREZWZlcj1udWxsfSkpLGN1cnJlbnREZWZlci5wcm9taXNlfWZ1bmN0aW9uIGFwcGx5U3R5bGVzKGVsZW1lbnQsb3B0aW9ucyl7aWYoYW5ndWxhci5pc09iamVjdChvcHRpb25zKSl7dmFyIHN0eWxlcz1leHRlbmQob3B0aW9ucy5mcm9tfHx7fSxvcHRpb25zLnRvfHx7fSk7ZWxlbWVudC5jc3Moc3R5bGVzKX19dmFyIGN1cnJlbnREZWZlcjtyZXR1cm57YW5pbWF0ZTpmdW5jdGlvbihlbGVtZW50LGZyb20sdG8pe3JldHVybiBhcHBseVN0eWxlcyhlbGVtZW50LHtmcm9tOmZyb20sdG86dG99KSxhc3luY1Byb21pc2UoKX0sZW50ZXI6ZnVuY3Rpb24oZWxlbWVudCxwYXJlbnQsYWZ0ZXIsb3B0aW9ucyl7cmV0dXJuIGFwcGx5U3R5bGVzKGVsZW1lbnQsb3B0aW9ucyksYWZ0ZXI/YWZ0ZXIuYWZ0ZXIoZWxlbWVudCk6cGFyZW50LnByZXBlbmQoZWxlbWVudCksYXN5bmNQcm9taXNlKCl9LGxlYXZlOmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBlbGVtZW50LnJlbW92ZSgpLGFzeW5jUHJvbWlzZSgpfSxtb3ZlOmZ1bmN0aW9uKGVsZW1lbnQscGFyZW50LGFmdGVyLG9wdGlvbnMpe3JldHVybiB0aGlzLmVudGVyKGVsZW1lbnQscGFyZW50LGFmdGVyLG9wdGlvbnMpfSxhZGRDbGFzczpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxvcHRpb25zKXtyZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSxbXSxvcHRpb25zKX0sJCRhZGRDbGFzc0ltbWVkaWF0ZWx5OmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLG9wdGlvbnMpe3JldHVybiBlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxjbGFzc05hbWU9aXNTdHJpbmcoY2xhc3NOYW1lKT9jbGFzc05hbWU6aXNBcnJheShjbGFzc05hbWUpP2NsYXNzTmFtZS5qb2luKCIgIik6IiIsZm9yRWFjaChlbGVtZW50LGZ1bmN0aW9uKGVsZW1lbnQpe2pxTGl0ZUFkZENsYXNzKGVsZW1lbnQsY2xhc3NOYW1lKX0pLGFwcGx5U3R5bGVzKGVsZW1lbnQsb3B0aW9ucyksYXN5bmNQcm9taXNlKCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLG9wdGlvbnMpe3JldHVybiB0aGlzLnNldENsYXNzKGVsZW1lbnQsW10sY2xhc3NOYW1lLG9wdGlvbnMpfSwkJHJlbW92ZUNsYXNzSW1tZWRpYXRlbHk6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsb3B0aW9ucyl7cmV0dXJuIGVsZW1lbnQ9anFMaXRlKGVsZW1lbnQpLGNsYXNzTmFtZT1pc1N0cmluZyhjbGFzc05hbWUpP2NsYXNzTmFtZTppc0FycmF5KGNsYXNzTmFtZSk/Y2xhc3NOYW1lLmpvaW4oIiAiKToiIixmb3JFYWNoKGVsZW1lbnQsZnVuY3Rpb24oZWxlbWVudCl7anFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCxjbGFzc05hbWUpfSksYXBwbHlTdHlsZXMoZWxlbWVudCxvcHRpb25zKSxhc3luY1Byb21pc2UoKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxhZGQscmVtb3ZlLG9wdGlvbnMpe3ZhciBzZWxmPXRoaXMsU1RPUkFHRV9LRVk9IiQkYW5pbWF0ZUNsYXNzZXMiLGNyZWF0ZWRDYWNoZT0hMTtlbGVtZW50PWpxTGl0ZShlbGVtZW50KTt2YXIgY2FjaGU9ZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZKTtjYWNoZT9vcHRpb25zJiZjYWNoZS5vcHRpb25zJiYoY2FjaGUub3B0aW9ucz1hbmd1bGFyLmV4dGVuZChjYWNoZS5vcHRpb25zfHx7fSxvcHRpb25zKSk6KGNhY2hlPXtjbGFzc2VzOnt9LG9wdGlvbnM6b3B0aW9uc30sY3JlYXRlZENhY2hlPSEwKTt2YXIgY2xhc3Nlcz1jYWNoZS5jbGFzc2VzO3JldHVybiBhZGQ9aXNBcnJheShhZGQpP2FkZDphZGQuc3BsaXQoIiAiKSxyZW1vdmU9aXNBcnJheShyZW1vdmUpP3JlbW92ZTpyZW1vdmUuc3BsaXQoIiAiKSxjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjbGFzc2VzLGFkZCwhMCksY2FjaGVkQ2xhc3NNYW5pcHVsYXRpb24oY2xhc3NlcyxyZW1vdmUsITEpLGNyZWF0ZWRDYWNoZSYmKGNhY2hlLnByb21pc2U9cnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmdW5jdGlvbihkb25lKXt2YXIgY2FjaGU9ZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZKTtpZihlbGVtZW50LnJlbW92ZURhdGEoU1RPUkFHRV9LRVkpLGNhY2hlKXt2YXIgY2xhc3Nlcz1yZXNvbHZlRWxlbWVudENsYXNzZXMoZWxlbWVudCxjYWNoZS5jbGFzc2VzKTtjbGFzc2VzJiZzZWxmLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShlbGVtZW50LGNsYXNzZXNbMF0sY2xhc3Nlc1sxXSxjYWNoZS5vcHRpb25zKX1kb25lKCl9KSxlbGVtZW50LmRhdGEoU1RPUkFHRV9LRVksY2FjaGUpKSxjYWNoZS5wcm9taXNlfSwkJHNldENsYXNzSW1tZWRpYXRlbHk6ZnVuY3Rpb24oZWxlbWVudCxhZGQscmVtb3ZlLG9wdGlvbnMpe3JldHVybiBhZGQmJnRoaXMuJCRhZGRDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsYWRkKSxyZW1vdmUmJnRoaXMuJCRyZW1vdmVDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQscmVtb3ZlKSxhcHBseVN0eWxlcyhlbGVtZW50LG9wdGlvbnMpLGFzeW5jUHJvbWlzZSgpfSxlbmFibGVkOm5vb3AsY2FuY2VsOm5vb3B9fV19XSwkY29tcGlsZU1pbkVycj1taW5FcnIoIiRjb21waWxlIik7JENvbXBpbGVQcm92aWRlci4kaW5qZWN0PVsiJHByb3ZpZGUiLCIkJHNhbml0aXplVXJpUHJvdmlkZXIiXTt2YXIgUFJFRklYX1JFR0VYUD0vXih4W1w6XC1fXXxkYXRhW1w6XC1fXSkvaSwkaW50ZXJwb2xhdGVNaW5FcnI9bWluRXJyKCIkaW50ZXJwb2xhdGUiKSxQQVRIX01BVENIPS9eKFteXD8jXSopKFw/KFteI10qKSk/KCMoLiopKT8kLyxERUZBVUxUX1BPUlRTPXtodHRwOjgwLGh0dHBzOjQ0MyxmdHA6MjF9LCRsb2NhdGlvbk1pbkVycj1taW5FcnIoIiRsb2NhdGlvbiIpLGxvY2F0aW9uUHJvdG90eXBlPXskJGh0bWw1OiExLCQkcmVwbGFjZTohMSxhYnNVcmw6bG9jYXRpb25HZXR0ZXIoIiQkYWJzVXJsIiksdXJsOmZ1bmN0aW9uKHVybCl7aWYoaXNVbmRlZmluZWQodXJsKSlyZXR1cm4gdGhpcy4kJHVybDt2YXIgbWF0Y2g9UEFUSF9NQVRDSC5leGVjKHVybCk7cmV0dXJuIG1hdGNoWzFdJiZ0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSksKG1hdGNoWzJdfHxtYXRjaFsxXSkmJnRoaXMuc2VhcmNoKG1hdGNoWzNdfHwiIiksdGhpcy5oYXNoKG1hdGNoWzVdfHwiIiksdGhpc30scHJvdG9jb2w6bG9jYXRpb25HZXR0ZXIoIiQkcHJvdG9jb2wiKSxob3N0OmxvY2F0aW9uR2V0dGVyKCIkJGhvc3QiKSxwb3J0OmxvY2F0aW9uR2V0dGVyKCIkJHBvcnQiKSxwYXRoOmxvY2F0aW9uR2V0dGVyU2V0dGVyKCIkJHBhdGgiLGZ1bmN0aW9uKHBhdGgpe3JldHVybiBwYXRoPW51bGwhPT1wYXRoP3BhdGgudG9TdHJpbmcoKToiIiwiLyI9PXBhdGguY2hhckF0KDApP3BhdGg6Ii8iK3BhdGh9KSxzZWFyY2g6ZnVuY3Rpb24oc2VhcmNoLHBhcmFtVmFsdWUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHRoaXMuJCRzZWFyY2g7Y2FzZSAxOmlmKGlzU3RyaW5nKHNlYXJjaCl8fGlzTnVtYmVyKHNlYXJjaCkpc2VhcmNoPXNlYXJjaC50b1N0cmluZygpLHRoaXMuJCRzZWFyY2g9cGFyc2VLZXlWYWx1ZShzZWFyY2gpO2Vsc2V7aWYoIWlzT2JqZWN0KHNlYXJjaCkpdGhyb3cgJGxvY2F0aW9uTWluRXJyKCJpc3JjaGFyZyIsIlRoZSBmaXJzdCBhcmd1bWVudCBvZiB0aGUgYCRsb2NhdGlvbiNzZWFyY2goKWAgY2FsbCBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIG9iamVjdC4iKTtzZWFyY2g9Y29weShzZWFyY2gse30pLGZvckVhY2goc2VhcmNoLGZ1bmN0aW9uKHZhbHVlLGtleSl7bnVsbD09dmFsdWUmJmRlbGV0ZSBzZWFyY2hba2V5XX0pLHRoaXMuJCRzZWFyY2g9c2VhcmNofWJyZWFrO2RlZmF1bHQ6aXNVbmRlZmluZWQocGFyYW1WYWx1ZSl8fG51bGw9PT1wYXJhbVZhbHVlP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW3NlYXJjaF06dGhpcy4kJHNlYXJjaFtzZWFyY2hdPXBhcmFtVmFsdWV9cmV0dXJuIHRoaXMuJCRjb21wb3NlKCksdGhpc30saGFzaDpsb2NhdGlvbkdldHRlclNldHRlcigiJCRoYXNoIixmdW5jdGlvbihoYXNoKXtyZXR1cm4gbnVsbCE9PWhhc2g/aGFzaC50b1N0cmluZygpOiIifSkscmVwbGFjZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQkcmVwbGFjZT0hMCx0aGlzfX07Zm9yRWFjaChbTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwsTG9jYXRpb25IYXNoYmFuZ1VybCxMb2NhdGlvbkh0bWw1VXJsXSxmdW5jdGlvbihMb2NhdGlvbil7TG9jYXRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobG9jYXRpb25Qcm90b3R5cGUpLExvY2F0aW9uLnByb3RvdHlwZS5zdGF0ZT1mdW5jdGlvbihzdGF0ZSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuJCRzdGF0ZTtpZihMb2NhdGlvbiE9PUxvY2F0aW9uSHRtbDVVcmx8fCF0aGlzLiQkaHRtbDUpdGhyb3cgJGxvY2F0aW9uTWluRXJyKCJub3N0YXRlIiwiSGlzdG9yeSBBUEkgc3RhdGUgc3VwcG9ydCBpcyBhdmFpbGFibGUgb25seSBpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmcgSFRNTDUgSGlzdG9yeSBBUEkiKTtyZXR1cm4gdGhpcy4kJHN0YXRlPWlzVW5kZWZpbmVkKHN0YXRlKT9udWxsOnN0YXRlLHRoaXN9fSk7dmFyICRwYXJzZU1pbkVycj1taW5FcnIoIiRwYXJzZSIpLENBTEw9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsQVBQTFk9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LEJJTkQ9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsQ09OU1RBTlRTPWNyZWF0ZU1hcCgpO2ZvckVhY2goeyJudWxsIjpmdW5jdGlvbigpe3JldHVybiBudWxsfSwidHJ1ZSI6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sImZhbHNlIjpmdW5jdGlvbigpe3JldHVybiExfSx1bmRlZmluZWQ6ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihjb25zdGFudEdldHRlcixuYW1lKXtjb25zdGFudEdldHRlci5jb25zdGFudD1jb25zdGFudEdldHRlci5saXRlcmFsPWNvbnN0YW50R2V0dGVyLnNoYXJlZEdldHRlcj0hMCxDT05TVEFOVFNbbmFtZV09Y29uc3RhbnRHZXR0ZXJ9KSxDT05TVEFOVFNbInRoaXMiXT1mdW5jdGlvbihzZWxmKXtyZXR1cm4gc2VsZn0sQ09OU1RBTlRTWyJ0aGlzIl0uc2hhcmVkR2V0dGVyPSEwO3ZhciBPUEVSQVRPUlM9ZXh0ZW5kKGNyZWF0ZU1hcCgpLHsiKyI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYT1hKHNlbGYsbG9jYWxzKSxiPWIoc2VsZixsb2NhbHMpLGlzRGVmaW5lZChhKT9pc0RlZmluZWQoYik/YStiOmE6aXNEZWZpbmVkKGIpP2I6dW5kZWZpbmVkfSwiLSI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYT1hKHNlbGYsbG9jYWxzKSxiPWIoc2VsZixsb2NhbHMpLChpc0RlZmluZWQoYSk/YTowKS0oaXNEZWZpbmVkKGIpP2I6MCl9LCIqIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSpiKHNlbGYsbG9jYWxzKX0sIi8iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpL2Ioc2VsZixsb2NhbHMpfSwiJSI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2FscyklYihzZWxmLGxvY2Fscyl9LCI9PT0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPT09YihzZWxmLGxvY2Fscyl9LCIhPT0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpIT09YihzZWxmLGxvY2Fscyl9LCI9PSI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2Fscyk9PWIoc2VsZixsb2NhbHMpfSwiIT0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpIT1iKHNlbGYsbG9jYWxzKX0sIjwiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPGIoc2VsZixsb2NhbHMpfSwiPiI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2Fscyk+YihzZWxmLGxvY2Fscyl9LCI8PSI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2Fscyk8PWIoc2VsZixsb2NhbHMpfSwiPj0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPj1iKHNlbGYsbG9jYWxzKX0sIiYmIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSYmYihzZWxmLGxvY2Fscyl9LCJ8fCI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2Fscyl8fGIoc2VsZixsb2NhbHMpfSwiISI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSl7cmV0dXJuIWEoc2VsZixsb2NhbHMpfSwiPSI6ITAsInwiOiEwfSksRVNDQVBFPXtuOiJcbiIsZjoiXGYiLHI6IlxyIix0OiIJIix2OiILIiwiJyI6IiciLCciJzonIid9LExleGVyPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zfTtMZXhlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxleGVyLGxleDpmdW5jdGlvbih0ZXh0KXtmb3IodGhpcy50ZXh0PXRleHQsdGhpcy5pbmRleD0wLHRoaXMuY2g9dW5kZWZpbmVkLHRoaXMudG9rZW5zPVtdO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspaWYodGhpcy5jaD10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLHRoaXMuaXMoIlwiJyIpKXRoaXMucmVhZFN0cmluZyh0aGlzLmNoKTtlbHNlIGlmKHRoaXMuaXNOdW1iZXIodGhpcy5jaCl8fHRoaXMuaXMoIi4iKSYmdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpdGhpcy5yZWFkTnVtYmVyKCk7ZWxzZSBpZih0aGlzLmlzSWRlbnQodGhpcy5jaCkpdGhpcy5yZWFkSWRlbnQoKTtlbHNlIGlmKHRoaXMuaXMoIigpe31bXS4sOzo/IikpdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OnRoaXMuY2h9KSx0aGlzLmluZGV4Kys7ZWxzZSBpZih0aGlzLmlzV2hpdGVzcGFjZSh0aGlzLmNoKSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgY2gyPXRoaXMuY2grdGhpcy5wZWVrKCksY2gzPWNoMit0aGlzLnBlZWsoMiksZm49T1BFUkFUT1JTW3RoaXMuY2hdLGZuMj1PUEVSQVRPUlNbY2gyXSxmbjM9T1BFUkFUT1JTW2NoM107Zm4zPyh0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6Y2gzLGZuOmZuM30pLHRoaXMuaW5kZXgrPTMpOmZuMj8odGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmNoMixmbjpmbjJ9KSx0aGlzLmluZGV4Kz0yKTpmbj8odGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OnRoaXMuY2gsZm46Zm59KSx0aGlzLmluZGV4Kz0xKTp0aGlzLnRocm93RXJyb3IoIlVuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgIix0aGlzLmluZGV4LHRoaXMuaW5kZXgrMSl9cmV0dXJuIHRoaXMudG9rZW5zfSxpczpmdW5jdGlvbihjaGFycyl7cmV0dXJuLTEhPT1jaGFycy5pbmRleE9mKHRoaXMuY2gpfSxwZWVrOmZ1bmN0aW9uKGkpe3ZhciBudW09aXx8MTtyZXR1cm4gdGhpcy5pbmRleCtudW08dGhpcy50ZXh0Lmxlbmd0aD90aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgrbnVtKTohMX0saXNOdW1iZXI6ZnVuY3Rpb24oY2gpe3JldHVybiBjaD49IjAiJiYiOSI+PWNofSxpc1doaXRlc3BhY2U6ZnVuY3Rpb24oY2gpe3JldHVybiIgIj09PWNofHwiXHIiPT09Y2h8fCIJIj09PWNofHwiXG4iPT09Y2h8fCILIj09PWNofHwiwqAiPT09Y2h9LGlzSWRlbnQ6ZnVuY3Rpb24oY2gpe3JldHVybiBjaD49ImEiJiYieiI+PWNofHxjaD49IkEiJiYiWiI+PWNofHwiXyI9PT1jaHx8IiQiPT09Y2h9LGlzRXhwT3BlcmF0b3I6ZnVuY3Rpb24oY2gpe3JldHVybiItIj09PWNofHwiKyI9PT1jaHx8dGhpcy5pc051bWJlcihjaCl9LHRocm93RXJyb3I6ZnVuY3Rpb24oZXJyb3Isc3RhcnQsZW5kKXtlbmQ9ZW5kfHx0aGlzLmluZGV4O3ZhciBjb2xTdHI9aXNEZWZpbmVkKHN0YXJ0KT8icyAiK3N0YXJ0KyItIit0aGlzLmluZGV4KyIgWyIrdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCxlbmQpKyJdIjoiICIrZW5kO3Rocm93ICRwYXJzZU1pbkVycigibGV4ZXJyIiwiTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4iLGVycm9yLGNvbFN0cix0aGlzLnRleHQpfSxyZWFkTnVtYmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBudW1iZXI9IiIsc3RhcnQ9dGhpcy5pbmRleDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgY2g9bG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO2lmKCIuIj09Y2h8fHRoaXMuaXNOdW1iZXIoY2gpKW51bWJlcis9Y2g7ZWxzZXt2YXIgcGVla0NoPXRoaXMucGVlaygpO2lmKCJlIj09Y2gmJnRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKW51bWJlcis9Y2g7ZWxzZSBpZih0aGlzLmlzRXhwT3BlcmF0b3IoY2gpJiZwZWVrQ2gmJnRoaXMuaXNOdW1iZXIocGVla0NoKSYmImUiPT1udW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGgtMSkpbnVtYmVyKz1jaDtlbHNle2lmKCF0aGlzLmlzRXhwT3BlcmF0b3IoY2gpfHxwZWVrQ2gmJnRoaXMuaXNOdW1iZXIocGVla0NoKXx8ImUiIT1udW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGgtMSkpYnJlYWs7dGhpcy50aHJvd0Vycm9yKCJJbnZhbGlkIGV4cG9uZW50Iil9fXRoaXMuaW5kZXgrK31udW1iZXI9MSpudW1iZXIsdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6c3RhcnQsdGV4dDpudW1iZXIsY29uc3RhbnQ6ITAsZm46ZnVuY3Rpb24oKXtyZXR1cm4gbnVtYmVyfX0pfSxyZWFkSWRlbnQ6ZnVuY3Rpb24oKXtmb3IodmFyIGxhc3REb3QscGVla0luZGV4LG1ldGhvZE5hbWUsY2gsZXhwcmVzc2lvbj10aGlzLnRleHQsaWRlbnQ9IiIsc3RhcnQ9dGhpcy5pbmRleDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGgmJihjaD10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLCIuIj09PWNofHx0aGlzLmlzSWRlbnQoY2gpfHx0aGlzLmlzTnVtYmVyKGNoKSk7KSIuIj09PWNoJiYobGFzdERvdD10aGlzLmluZGV4KSxpZGVudCs9Y2gsdGhpcy5pbmRleCsrO2lmKGxhc3REb3QmJiIuIj09PWlkZW50W2lkZW50Lmxlbmd0aC0xXSYmKHRoaXMuaW5kZXgtLSxpZGVudD1pZGVudC5zbGljZSgwLC0xKSxsYXN0RG90PWlkZW50Lmxhc3RJbmRleE9mKCIuIiksLTE9PT1sYXN0RG90JiYobGFzdERvdD11bmRlZmluZWQpKSxsYXN0RG90KWZvcihwZWVrSW5kZXg9dGhpcy5pbmRleDtwZWVrSW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe2lmKGNoPXRoaXMudGV4dC5jaGFyQXQocGVla0luZGV4KSwiKCI9PT1jaCl7bWV0aG9kTmFtZT1pZGVudC5zdWJzdHIobGFzdERvdC1zdGFydCsxKSxpZGVudD1pZGVudC5zdWJzdHIoMCxsYXN0RG90LXN0YXJ0KSx0aGlzLmluZGV4PXBlZWtJbmRleDticmVha31pZighdGhpcy5pc1doaXRlc3BhY2UoY2gpKWJyZWFrO3BlZWtJbmRleCsrfXRoaXMudG9rZW5zLnB1c2goe2luZGV4OnN0YXJ0LHRleHQ6aWRlbnQsZm46Q09OU1RBTlRTW2lkZW50XXx8Z2V0dGVyRm4oaWRlbnQsdGhpcy5vcHRpb25zLGV4cHJlc3Npb24pfSksbWV0aG9kTmFtZSYmKHRoaXMudG9rZW5zLnB1c2goe2luZGV4Omxhc3REb3QsdGV4dDoiLiJ9KSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpsYXN0RG90KzEsdGV4dDptZXRob2ROYW1lfSkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKHF1b3RlKXt2YXIgc3RhcnQ9dGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBzdHJpbmc9IiIscmF3U3RyaW5nPXF1b3RlLGVzY2FwZT0hMTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgY2g9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtpZihyYXdTdHJpbmcrPWNoLGVzY2FwZSl7aWYoInUiPT09Y2gpe3ZhciBoZXg9dGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4KzEsdGhpcy5pbmRleCs1KTtoZXgubWF0Y2goL1tcZGEtZl17NH0vaSl8fHRoaXMudGhyb3dFcnJvcigiSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFx1IitoZXgrIl0iKSx0aGlzLmluZGV4Kz00LHN0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsMTYpKX1lbHNle3ZhciByZXA9RVNDQVBFW2NoXTtzdHJpbmcrPXJlcHx8Y2h9ZXNjYXBlPSExfWVsc2UgaWYoIlxcIj09PWNoKWVzY2FwZT0hMDtlbHNle2lmKGNoPT09cXVvdGUpcmV0dXJuIHRoaXMuaW5kZXgrKyx2b2lkIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnN0YXJ0LHRleHQ6cmF3U3RyaW5nLHN0cmluZzpzdHJpbmcsY29uc3RhbnQ6ITAsZm46ZnVuY3Rpb24oKXtyZXR1cm4gc3RyaW5nfX0pO3N0cmluZys9Y2h9dGhpcy5pbmRleCsrfXRoaXMudGhyb3dFcnJvcigiVW50ZXJtaW5hdGVkIHF1b3RlIixzdGFydCl9fTt2YXIgUGFyc2VyPWZ1bmN0aW9uKGxleGVyLCRmaWx0ZXIsb3B0aW9ucyl7dGhpcy5sZXhlcj1sZXhlcix0aGlzLiRmaWx0ZXI9JGZpbHRlcix0aGlzLm9wdGlvbnM9b3B0aW9uc307UGFyc2VyLlpFUk89ZXh0ZW5kKGZ1bmN0aW9uKCl7cmV0dXJuIDB9LHtzaGFyZWRHZXR0ZXI6ITAsY29uc3RhbnQ6ITB9KSxQYXJzZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpQYXJzZXIscGFyc2U6ZnVuY3Rpb24odGV4dCl7dGhpcy50ZXh0PXRleHQsdGhpcy50b2tlbnM9dGhpcy5sZXhlci5sZXgodGV4dCk7dmFyIHZhbHVlPXRoaXMuc3RhdGVtZW50cygpO3JldHVybiAwIT09dGhpcy50b2tlbnMubGVuZ3RoJiZ0aGlzLnRocm93RXJyb3IoImlzIGFuIHVuZXhwZWN0ZWQgdG9rZW4iLHRoaXMudG9rZW5zWzBdKSx2YWx1ZS5saXRlcmFsPSEhdmFsdWUubGl0ZXJhbCx2YWx1ZS5jb25zdGFudD0hIXZhbHVlLmNvbnN0YW50LHZhbHVlfSxwcmltYXJ5OmZ1bmN0aW9uKCl7dmFyIHByaW1hcnk7aWYodGhpcy5leHBlY3QoIigiKSlwcmltYXJ5PXRoaXMuZmlsdGVyQ2hhaW4oKSx0aGlzLmNvbnN1bWUoIikiKTtlbHNlIGlmKHRoaXMuZXhwZWN0KCJbIikpcHJpbWFyeT10aGlzLmFycmF5RGVjbGFyYXRpb24oKTtlbHNlIGlmKHRoaXMuZXhwZWN0KCJ7IikpcHJpbWFyeT10aGlzLm9iamVjdCgpO2Vsc2V7dmFyIHRva2VuPXRoaXMuZXhwZWN0KCk7cHJpbWFyeT10b2tlbi5mbixwcmltYXJ5fHx0aGlzLnRocm93RXJyb3IoIm5vdCBhIHByaW1hcnkgZXhwcmVzc2lvbiIsdG9rZW4pLHRva2VuLmNvbnN0YW50JiYocHJpbWFyeS5jb25zdGFudD0hMCxwcmltYXJ5LmxpdGVyYWw9ITApfWZvcih2YXIgbmV4dCxjb250ZXh0O25leHQ9dGhpcy5leHBlY3QoIigiLCJbIiwiLiIpOykiKCI9PT1uZXh0LnRleHQ/KHByaW1hcnk9dGhpcy5mdW5jdGlvbkNhbGwocHJpbWFyeSxjb250ZXh0KSxjb250ZXh0PW51bGwpOiJbIj09PW5leHQudGV4dD8oY29udGV4dD1wcmltYXJ5LHByaW1hcnk9dGhpcy5vYmplY3RJbmRleChwcmltYXJ5KSk6Ii4iPT09bmV4dC50ZXh0Pyhjb250ZXh0PXByaW1hcnkscHJpbWFyeT10aGlzLmZpZWxkQWNjZXNzKHByaW1hcnkpKTp0aGlzLnRocm93RXJyb3IoIklNUE9TU0lCTEUiKTtyZXR1cm4gcHJpbWFyeX0sdGhyb3dFcnJvcjpmdW5jdGlvbihtc2csdG9rZW4pe3Rocm93ICRwYXJzZU1pbkVycigic3ludGF4IiwiU3ludGF4IEVycm9yOiBUb2tlbiAnezB9JyB7MX0gYXQgY29sdW1uIHsyfSBvZiB0aGUgZXhwcmVzc2lvbiBbezN9XSBzdGFydGluZyBhdCBbezR9XS4iLHRva2VuLnRleHQsbXNnLHRva2VuLmluZGV4KzEsdGhpcy50ZXh0LHRoaXMudGV4dC5zdWJzdHJpbmcodG9rZW4uaW5kZXgpKX0scGVla1Rva2VuOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyAkcGFyc2VNaW5FcnIoInVlb2UiLCJVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0iLHRoaXMudGV4dCk7cmV0dXJuIHRoaXMudG9rZW5zWzBdfSxwZWVrOmZ1bmN0aW9uKGUxLGUyLGUzLGU0KXtpZih0aGlzLnRva2Vucy5sZW5ndGg+MCl7dmFyIHRva2VuPXRoaXMudG9rZW5zWzBdLHQ9dG9rZW4udGV4dDtpZih0PT09ZTF8fHQ9PT1lMnx8dD09PWUzfHx0PT09ZTR8fCFlMSYmIWUyJiYhZTMmJiFlNClyZXR1cm4gdG9rZW59cmV0dXJuITF9LGV4cGVjdDpmdW5jdGlvbihlMSxlMixlMyxlNCl7dmFyIHRva2VuPXRoaXMucGVlayhlMSxlMixlMyxlNCk7cmV0dXJuIHRva2VuPyh0aGlzLnRva2Vucy5zaGlmdCgpLHRva2VuKTohMX0sY29uc3VtZTpmdW5jdGlvbihlMSl7dGhpcy5leHBlY3QoZTEpfHx0aGlzLnRocm93RXJyb3IoImlzIHVuZXhwZWN0ZWQsIGV4cGVjdGluZyBbIitlMSsiXSIsdGhpcy5wZWVrKCkpfSx1bmFyeUZuOmZ1bmN0aW9uKGZuLHJpZ2h0KXtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtyZXR1cm4gZm4oc2VsZixsb2NhbHMscmlnaHQpfSx7Y29uc3RhbnQ6cmlnaHQuY29uc3RhbnQsaW5wdXRzOltyaWdodF19KX0sYmluYXJ5Rm46ZnVuY3Rpb24obGVmdCxmbixyaWdodCxpc0JyYW5jaGluZyl7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIGZuKHNlbGYsbG9jYWxzLGxlZnQscmlnaHQpfSx7Y29uc3RhbnQ6bGVmdC5jb25zdGFudCYmcmlnaHQuY29uc3RhbnQsaW5wdXRzOiFpc0JyYW5jaGluZyYmW2xlZnQscmlnaHRdfSl9LHN0YXRlbWVudHM6ZnVuY3Rpb24oKXtmb3IodmFyIHN0YXRlbWVudHM9W107OylpZih0aGlzLnRva2Vucy5sZW5ndGg+MCYmIXRoaXMucGVlaygifSIsIikiLCI7IiwiXSIpJiZzdGF0ZW1lbnRzLnB1c2godGhpcy5maWx0ZXJDaGFpbigpKSwhdGhpcy5leHBlY3QoIjsiKSlyZXR1cm4gMT09PXN0YXRlbWVudHMubGVuZ3RoP3N0YXRlbWVudHNbMF06ZnVuY3Rpb24oc2VsZixsb2NhbHMpe2Zvcih2YXIgdmFsdWUsaT0wLGlpPXN0YXRlbWVudHMubGVuZ3RoO2lpPmk7aSsrKXZhbHVlPXN0YXRlbWVudHNbaV0oc2VsZixsb2NhbHMpO3JldHVybiB2YWx1ZX19LGZpbHRlckNoYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciB0b2tlbixsZWZ0PXRoaXMuZXhwcmVzc2lvbigpO3Rva2VuPXRoaXMuZXhwZWN0KCJ8Iik7KWxlZnQ9dGhpcy5maWx0ZXIobGVmdCk7cmV0dXJuIGxlZnR9LGZpbHRlcjpmdW5jdGlvbihpbnB1dEZuKXt2YXIgYXJnc0ZuLGFyZ3MsdG9rZW49dGhpcy5leHBlY3QoKSxmbj10aGlzLiRmaWx0ZXIodG9rZW4udGV4dCk7aWYodGhpcy5wZWVrKCI6IikpZm9yKGFyZ3NGbj1bXSxhcmdzPVtdO3RoaXMuZXhwZWN0KCI6Iik7KWFyZ3NGbi5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTt2YXIgaW5wdXRzPVtpbnB1dEZuXS5jb25jYXQoYXJnc0ZufHxbXSk7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7dmFyIGlucHV0PWlucHV0Rm4oc2VsZixsb2NhbHMpO2lmKGFyZ3Mpe2FyZ3NbMF09aW5wdXQ7Zm9yKHZhciBpPWFyZ3NGbi5sZW5ndGg7aS0tOylhcmdzW2krMV09YXJnc0ZuW2ldKHNlbGYsbG9jYWxzKTtyZXR1cm4gZm4uYXBwbHkodW5kZWZpbmVkLGFyZ3MpfXJldHVybiBmbihpbnB1dCl9LHtjb25zdGFudDohZm4uJHN0YXRlZnVsJiZpbnB1dHMuZXZlcnkoaXNDb25zdGFudCksaW5wdXRzOiFmbi4kc3RhdGVmdWwmJmlucHV0c30pfSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIHJpZ2h0LHRva2VuLGxlZnQ9dGhpcy50ZXJuYXJ5KCk7cmV0dXJuKHRva2VuPXRoaXMuZXhwZWN0KCI9IikpPyhsZWZ0LmFzc2lnbnx8dGhpcy50aHJvd0Vycm9yKCJpbXBsaWVzIGFzc2lnbm1lbnQgYnV0IFsiK3RoaXMudGV4dC5zdWJzdHJpbmcoMCx0b2tlbi5pbmRleCkrIl0gY2FuIG5vdCBiZSBhc3NpZ25lZCB0byIsdG9rZW4pLHJpZ2h0PXRoaXMudGVybmFyeSgpLGV4dGVuZChmdW5jdGlvbihzY29wZSxsb2NhbHMpe3JldHVybiBsZWZ0LmFzc2lnbihzY29wZSxyaWdodChzY29wZSxsb2NhbHMpLGxvY2Fscyl9LHtpbnB1dHM6W2xlZnQscmlnaHRdfSkpOmxlZnR9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgbWlkZGxlLHRva2VuLGxlZnQ9dGhpcy5sb2dpY2FsT1IoKTtpZih0b2tlbj10aGlzLmV4cGVjdCgiPyIpKXtpZihtaWRkbGU9dGhpcy5hc3NpZ25tZW50KCksdG9rZW49dGhpcy5leHBlY3QoIjoiKSl7dmFyIHJpZ2h0PXRoaXMuYXNzaWdubWVudCgpO3JldHVybiBleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe3JldHVybiBsZWZ0KHNlbGYsbG9jYWxzKT9taWRkbGUoc2VsZixsb2NhbHMpOnJpZ2h0KHNlbGYsbG9jYWxzKX0se2NvbnN0YW50OmxlZnQuY29uc3RhbnQmJm1pZGRsZS5jb25zdGFudCYmcmlnaHQuY29uc3RhbnR9KX10aGlzLnRocm93RXJyb3IoImV4cGVjdGVkIDoiLHRva2VuKX1yZXR1cm4gbGVmdH0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciB0b2tlbixsZWZ0PXRoaXMubG9naWNhbEFORCgpO3Rva2VuPXRoaXMuZXhwZWN0KCJ8fCIpOylsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLmxvZ2ljYWxBTkQoKSwhMCk7cmV0dXJuIGxlZnR9LGxvZ2ljYWxBTkQ6ZnVuY3Rpb24oKXt2YXIgdG9rZW4sbGVmdD10aGlzLmVxdWFsaXR5KCk7cmV0dXJuKHRva2VuPXRoaXMuZXhwZWN0KCImJiIpKSYmKGxlZnQ9dGhpcy5iaW5hcnlGbihsZWZ0LHRva2VuLmZuLHRoaXMubG9naWNhbEFORCgpLCEwKSksbGVmdH0sZXF1YWxpdHk6ZnVuY3Rpb24oKXt2YXIgdG9rZW4sbGVmdD10aGlzLnJlbGF0aW9uYWwoKTtyZXR1cm4odG9rZW49dGhpcy5leHBlY3QoIj09IiwiIT0iLCI9PT0iLCIhPT0iKSkmJihsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLmVxdWFsaXR5KCkpKSxsZWZ0fSxyZWxhdGlvbmFsOmZ1bmN0aW9uKCl7dmFyIHRva2VuLGxlZnQ9dGhpcy5hZGRpdGl2ZSgpO3JldHVybih0b2tlbj10aGlzLmV4cGVjdCgiPCIsIj4iLCI8PSIsIj49IikpJiYobGVmdD10aGlzLmJpbmFyeUZuKGxlZnQsdG9rZW4uZm4sdGhpcy5yZWxhdGlvbmFsKCkpKSxsZWZ0fSxhZGRpdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLm11bHRpcGxpY2F0aXZlKCk7dG9rZW49dGhpcy5leHBlY3QoIisiLCItIik7KWxlZnQ9dGhpcy5iaW5hcnlGbihsZWZ0LHRva2VuLmZuLHRoaXMubXVsdGlwbGljYXRpdmUoKSk7cmV0dXJuIGxlZnR9LG11bHRpcGxpY2F0aXZlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0b2tlbixsZWZ0PXRoaXMudW5hcnkoKTt0b2tlbj10aGlzLmV4cGVjdCgiKiIsIi8iLCIlIik7KWxlZnQ9dGhpcy5iaW5hcnlGbihsZWZ0LHRva2VuLmZuLHRoaXMudW5hcnkoKSk7cmV0dXJuIGxlZnR9LHVuYXJ5OmZ1bmN0aW9uKCl7dmFyIHRva2VuO3JldHVybiB0aGlzLmV4cGVjdCgiKyIpP3RoaXMucHJpbWFyeSgpOih0b2tlbj10aGlzLmV4cGVjdCgiLSIpKT90aGlzLmJpbmFyeUZuKFBhcnNlci5aRVJPLHRva2VuLmZuLHRoaXMudW5hcnkoKSk6KHRva2VuPXRoaXMuZXhwZWN0KCIhIikpP3RoaXMudW5hcnlGbih0b2tlbi5mbix0aGlzLnVuYXJ5KCkpOnRoaXMucHJpbWFyeSgpfSxmaWVsZEFjY2VzczpmdW5jdGlvbihvYmplY3Qpe3ZhciBleHByZXNzaW9uPXRoaXMudGV4dCxmaWVsZD10aGlzLmV4cGVjdCgpLnRleHQsZ2V0dGVyPWdldHRlckZuKGZpZWxkLHRoaXMub3B0aW9ucyxleHByZXNzaW9uKTtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNjb3BlLGxvY2FscyxzZWxmKXtyZXR1cm4gZ2V0dGVyKHNlbGZ8fG9iamVjdChzY29wZSxsb2NhbHMpKX0se2Fzc2lnbjpmdW5jdGlvbihzY29wZSx2YWx1ZSxsb2NhbHMpe3ZhciBvPW9iamVjdChzY29wZSxsb2NhbHMpO3JldHVybiBvfHxvYmplY3QuYXNzaWduKHNjb3BlLG89e30pLHNldHRlcihvLGZpZWxkLHZhbHVlLGV4cHJlc3Npb24pfX0pfSxvYmplY3RJbmRleDpmdW5jdGlvbihvYmope3ZhciBleHByZXNzaW9uPXRoaXMudGV4dCxpbmRleEZuPXRoaXMuZXhwcmVzc2lvbigpO3JldHVybiB0aGlzLmNvbnN1bWUoIl0iKSxleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe3ZhciB2LG89b2JqKHNlbGYsbG9jYWxzKSxpPWluZGV4Rm4oc2VsZixsb2NhbHMpO3JldHVybiBlbnN1cmVTYWZlTWVtYmVyTmFtZShpLGV4cHJlc3Npb24pLG8/dj1lbnN1cmVTYWZlT2JqZWN0KG9baV0sZXhwcmVzc2lvbik6dW5kZWZpbmVkfSx7YXNzaWduOmZ1bmN0aW9uKHNlbGYsdmFsdWUsbG9jYWxzKXt2YXIga2V5PWVuc3VyZVNhZmVNZW1iZXJOYW1lKGluZGV4Rm4oc2VsZixsb2NhbHMpLGV4cHJlc3Npb24pLG89ZW5zdXJlU2FmZU9iamVjdChvYmooc2VsZixsb2NhbHMpLGV4cHJlc3Npb24pO3JldHVybiBvfHxvYmouYXNzaWduKHNlbGYsbz17fSksb1trZXldPXZhbHVlfX0pfSxmdW5jdGlvbkNhbGw6ZnVuY3Rpb24oZm5HZXR0ZXIsY29udGV4dEdldHRlcil7dmFyIGFyZ3NGbj1bXTtpZigiKSIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpZG8gYXJnc0ZuLnB1c2godGhpcy5leHByZXNzaW9uKCkpO3doaWxlKHRoaXMuZXhwZWN0KCIsIikpO3RoaXMuY29uc3VtZSgiKSIpO3ZhciBleHByZXNzaW9uVGV4dD10aGlzLnRleHQsYXJncz1hcmdzRm4ubGVuZ3RoP1tdOm51bGw7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGxvY2Fscyl7dmFyIGNvbnRleHQ9Y29udGV4dEdldHRlcj9jb250ZXh0R2V0dGVyKHNjb3BlLGxvY2Fscyk6c2NvcGUsZm49Zm5HZXR0ZXIoc2NvcGUsbG9jYWxzLGNvbnRleHQpfHxub29wO2lmKGFyZ3MpZm9yKHZhciBpPWFyZ3NGbi5sZW5ndGg7aS0tOylhcmdzW2ldPWVuc3VyZVNhZmVPYmplY3QoYXJnc0ZuW2ldKHNjb3BlLGxvY2FscyksZXhwcmVzc2lvblRleHQpO2Vuc3VyZVNhZmVPYmplY3QoY29udGV4dCxleHByZXNzaW9uVGV4dCksZW5zdXJlU2FmZUZ1bmN0aW9uKGZuLGV4cHJlc3Npb25UZXh0KTt2YXIgdj1mbi5hcHBseT9mbi5hcHBseShjb250ZXh0LGFyZ3MpOmZuKGFyZ3NbMF0sYXJnc1sxXSxhcmdzWzJdLGFyZ3NbM10sYXJnc1s0XSk7cmV0dXJuIGVuc3VyZVNhZmVPYmplY3QodixleHByZXNzaW9uVGV4dCl9fSxhcnJheURlY2xhcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGVsZW1lbnRGbnM9W107aWYoIl0iIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KWRve2lmKHRoaXMucGVlaygiXSIpKWJyZWFrO3ZhciBlbGVtZW50Rm49dGhpcy5leHByZXNzaW9uKCk7ZWxlbWVudEZucy5wdXNoKGVsZW1lbnRGbil9d2hpbGUodGhpcy5leHBlY3QoIiwiKSk7cmV0dXJuIHRoaXMuY29uc3VtZSgiXSIpLGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7Zm9yKHZhciBhcnJheT1bXSxpPTAsaWk9ZWxlbWVudEZucy5sZW5ndGg7aWk+aTtpKyspYXJyYXkucHVzaChlbGVtZW50Rm5zW2ldKHNlbGYsbG9jYWxzKSk7cmV0dXJuIGFycmF5fSx7bGl0ZXJhbDohMCxjb25zdGFudDplbGVtZW50Rm5zLmV2ZXJ5KGlzQ29uc3RhbnQpLGlucHV0czplbGVtZW50Rm5zfSl9LG9iamVjdDpmdW5jdGlvbigpe3ZhciBrZXlzPVtdLHZhbHVlRm5zPVtdO2lmKCJ9IiE9PXRoaXMucGVla1Rva2VuKCkudGV4dClkb3tpZih0aGlzLnBlZWsoIn0iKSlicmVhazt2YXIgdG9rZW49dGhpcy5leHBlY3QoKTtrZXlzLnB1c2godG9rZW4uc3RyaW5nfHx0b2tlbi50ZXh0KSx0aGlzLmNvbnN1bWUoIjoiKTt2YXIgdmFsdWU9dGhpcy5leHByZXNzaW9uKCk7dmFsdWVGbnMucHVzaCh2YWx1ZSl9d2hpbGUodGhpcy5leHBlY3QoIiwiKSk7cmV0dXJuIHRoaXMuY29uc3VtZSgifSIpLGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7Zm9yKHZhciBvYmplY3Q9e30saT0wLGlpPXZhbHVlRm5zLmxlbmd0aDtpaT5pO2krKylvYmplY3Rba2V5c1tpXV09dmFsdWVGbnNbaV0oc2VsZixsb2NhbHMpO3JldHVybiBvYmplY3R9LHtsaXRlcmFsOiEwLGNvbnN0YW50OnZhbHVlRm5zLmV2ZXJ5KGlzQ29uc3RhbnQpLGlucHV0czp2YWx1ZUZuc30pfX07dmFyIGdldHRlckZuQ2FjaGU9Y3JlYXRlTWFwKCksJHNjZU1pbkVycj1taW5FcnIoIiRzY2UiKSxTQ0VfQ09OVEVYVFM9e0hUTUw6Imh0bWwiLENTUzoiY3NzIixVUkw6InVybCIsUkVTT1VSQ0VfVVJMOiJyZXNvdXJjZVVybCIsSlM6ImpzIn0sJGNvbXBpbGVNaW5FcnI9bWluRXJyKCIkY29tcGlsZSIpLHVybFBhcnNpbmdOb2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxvcmlnaW5Vcmw9dXJsUmVzb2x2ZSh3aW5kb3cubG9jYXRpb24uaHJlZiwhMCk7JEZpbHRlclByb3ZpZGVyLiRpbmplY3Q9WyIkcHJvdmlkZSJdLGN1cnJlbmN5RmlsdGVyLiRpbmplY3Q9WyIkbG9jYWxlIl0sbnVtYmVyRmlsdGVyLiRpbmplY3Q9WyIkbG9jYWxlIl07dmFyIERFQ0lNQUxfU0VQPSIuIixEQVRFX0ZPUk1BVFM9e3l5eXk6ZGF0ZUdldHRlcigiRnVsbFllYXIiLDQpLHl5OmRhdGVHZXR0ZXIoIkZ1bGxZZWFyIiwyLDAsITApLHk6ZGF0ZUdldHRlcigiRnVsbFllYXIiLDEpLE1NTU06ZGF0ZVN0ckdldHRlcigiTW9udGgiKSxNTU06ZGF0ZVN0ckdldHRlcigiTW9udGgiLCEwKSxNTTpkYXRlR2V0dGVyKCJNb250aCIsMiwxKSxNOmRhdGVHZXR0ZXIoIk1vbnRoIiwxLDEpLGRkOmRhdGVHZXR0ZXIoIkRhdGUiLDIpLGQ6ZGF0ZUdldHRlcigiRGF0ZSIsMSksSEg6ZGF0ZUdldHRlcigiSG91cnMiLDIpLEg6ZGF0ZUdldHRlcigiSG91cnMiLDEpLGhoOmRhdGVHZXR0ZXIoIkhvdXJzIiwyLC0xMiksaDpkYXRlR2V0dGVyKCJIb3VycyIsMSwtMTIpLG1tOmRhdGVHZXR0ZXIoIk1pbnV0ZXMiLDIpLG06ZGF0ZUdldHRlcigiTWludXRlcyIsMSksc3M6ZGF0ZUdldHRlcigiU2Vjb25kcyIsMiksczpkYXRlR2V0dGVyKCJTZWNvbmRzIiwxKSxzc3M6ZGF0ZUdldHRlcigiTWlsbGlzZWNvbmRzIiwzKSxFRUVFOmRhdGVTdHJHZXR0ZXIoIkRheSIpLEVFRTpkYXRlU3RyR2V0dGVyKCJEYXkiLCEwKSxhOmFtcG1HZXR0ZXIsWjp0aW1lWm9uZUdldHRlcix3dzp3ZWVrR2V0dGVyKDIpLHc6d2Vla0dldHRlcigxKX0sREFURV9GT1JNQVRTX1NQTElUPS8oKD86W155TWRIaG1zYVpFdyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfGQrfEgrfGgrfG0rfHMrfGF8Wnx3KykpKC4qKS8sTlVNQkVSX1NUUklORz0vXlwtP1xkKyQvO2RhdGVGaWx0ZXIuJGluamVjdD1bIiRsb2NhbGUiXTt2YXIgbG93ZXJjYXNlRmlsdGVyPXZhbHVlRm4obG93ZXJjYXNlKSx1cHBlcmNhc2VGaWx0ZXI9dmFsdWVGbih1cHBlcmNhc2UpO29yZGVyQnlGaWx0ZXIuJGluamVjdD1bIiRwYXJzZSJdO3ZhciBodG1sQW5jaG9yRGlyZWN0aXZlPXZhbHVlRm4oe3Jlc3RyaWN0OiJFIixjb21waWxlOmZ1bmN0aW9uKGVsZW1lbnQsYXR0cil7cmV0dXJuIGF0dHIuaHJlZnx8YXR0ci54bGlua0hyZWZ8fGF0dHIubmFtZT92b2lkIDA6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCl7dmFyIGhyZWY9IltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddIj09PXRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCJocmVmIikpPyJ4bGluazpocmVmIjoiaHJlZiI7ZWxlbWVudC5vbigiY2xpY2siLGZ1bmN0aW9uKGV2ZW50KXtlbGVtZW50LmF0dHIoaHJlZil8fGV2ZW50LnByZXZlbnREZWZhdWx0KCl9KX19fSksbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXM9e307Zm9yRWFjaChCT09MRUFOX0FUVFIsZnVuY3Rpb24ocHJvcE5hbWUsYXR0ck5hbWUpe2lmKCJtdWx0aXBsZSIhPXByb3BOYW1lKXt2YXIgbm9ybWFsaXplZD1kaXJlY3RpdmVOb3JtYWxpemUoIm5nLSIrYXR0ck5hbWUpO25nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25vcm1hbGl6ZWRdPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixwcmlvcml0eToxMDAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe3Njb3BlLiR3YXRjaChhdHRyW25vcm1hbGl6ZWRdLGZ1bmN0aW9uKHZhbHVlKXthdHRyLiRzZXQoYXR0ck5hbWUsISF2YWx1ZSl9KX19fX19KSxmb3JFYWNoKEFMSUFTRURfQVRUUixmdW5jdGlvbihodG1sQXR0cixuZ0F0dHIpe25nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25nQXR0cl09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtpZigibmdQYXR0ZXJuIj09PW5nQXR0ciYmIi8iPT1hdHRyLm5nUGF0dGVybi5jaGFyQXQoMCkpe3ZhciBtYXRjaD1hdHRyLm5nUGF0dGVybi5tYXRjaChSRUdFWF9TVFJJTkdfUkVHRVhQKTtpZihtYXRjaClyZXR1cm4gdm9pZCBhdHRyLiRzZXQoIm5nUGF0dGVybiIsbmV3IFJlZ0V4cChtYXRjaFsxXSxtYXRjaFsyXSkpfXNjb3BlLiR3YXRjaChhdHRyW25nQXR0cl0sZnVuY3Rpb24odmFsdWUpe2F0dHIuJHNldChuZ0F0dHIsdmFsdWUpfSl9fX19KSxmb3JFYWNoKFsic3JjIiwic3Jjc2V0IiwiaHJlZiJdLGZ1bmN0aW9uKGF0dHJOYW1lKXt2YXIgbm9ybWFsaXplZD1kaXJlY3RpdmVOb3JtYWxpemUoIm5nLSIrYXR0ck5hbWUpO25nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzW25vcm1hbGl6ZWRdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5Ojk5LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgcHJvcE5hbWU9YXR0ck5hbWUsbmFtZT1hdHRyTmFtZTsiaHJlZiI9PT1hdHRyTmFtZSYmIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddIj09PXRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCJocmVmIikpJiYobmFtZT0ieGxpbmtIcmVmIixhdHRyLiRhdHRyW25hbWVdPSJ4bGluazpocmVmIixwcm9wTmFtZT1udWxsKSxhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT8oYXR0ci4kc2V0KG5hbWUsdmFsdWUpLHZvaWQobXNpZSYmcHJvcE5hbWUmJmVsZW1lbnQucHJvcChwcm9wTmFtZSxhdHRyW25hbWVdKSkpOnZvaWQoImhyZWYiPT09YXR0ck5hbWUmJmF0dHIuJHNldChuYW1lLG51bGwpKX0pfX19fSk7dmFyIG51bGxGb3JtQ3RybD17JGFkZENvbnRyb2w6bm9vcCwkJHJlbmFtZUNvbnRyb2w6bnVsbEZvcm1SZW5hbWVDb250cm9sLCRyZW1vdmVDb250cm9sOm5vb3AsJHNldFZhbGlkaXR5Om5vb3AsJHNldERpcnR5Om5vb3AsJHNldFByaXN0aW5lOm5vb3AsJHNldFN1Ym1pdHRlZDpub29wfSxTVUJNSVRURURfQ0xBU1M9Im5nLXN1Ym1pdHRlZCI7Rm9ybUNvbnRyb2xsZXIuJGluamVjdD1bIiRlbGVtZW50IiwiJGF0dHJzIiwiJHNjb3BlIiwiJGFuaW1hdGUiLCIkaW50ZXJwb2xhdGUiXTt2YXIgZm9ybURpcmVjdGl2ZUZhY3Rvcnk9ZnVuY3Rpb24oaXNOZ0Zvcm0pe3JldHVyblsiJHRpbWVvdXQiLGZ1bmN0aW9uKCR0aW1lb3V0KXt2YXIgZm9ybURpcmVjdGl2ZT17bmFtZToiZm9ybSIscmVzdHJpY3Q6aXNOZ0Zvcm0/IkVBQyI6IkUiLGNvbnRyb2xsZXI6Rm9ybUNvbnRyb2xsZXIsY29tcGlsZTpmdW5jdGlvbihmb3JtRWxlbWVudCl7cmV0dXJuIGZvcm1FbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUykse3ByZTpmdW5jdGlvbihzY29wZSxmb3JtRWxlbWVudCxhdHRyLGNvbnRyb2xsZXIpe2lmKCEoImFjdGlvbiJpbiBhdHRyKSl7dmFyIGhhbmRsZUZvcm1TdWJtaXNzaW9uPWZ1bmN0aW9uKGV2ZW50KXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtjb250cm9sbGVyLiRjb21taXRWaWV3VmFsdWUoKSxjb250cm9sbGVyLiRzZXRTdWJtaXR0ZWQoKX0pLGV2ZW50LnByZXZlbnREZWZhdWx0P2V2ZW50LnByZXZlbnREZWZhdWx0KCk6ZXZlbnQucmV0dXJuVmFsdWU9ITF9O2FkZEV2ZW50TGlzdGVuZXJGbihmb3JtRWxlbWVudFswXSwic3VibWl0IixoYW5kbGVGb3JtU3VibWlzc2lvbiksZm9ybUVsZW1lbnQub24oIiRkZXN0cm95IixmdW5jdGlvbigpeyR0aW1lb3V0KGZ1bmN0aW9uKCl7cmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCJzdWJtaXQiLGhhbmRsZUZvcm1TdWJtaXNzaW9uKX0sMCwhMSl9KX12YXIgcGFyZW50Rm9ybUN0cmw9Y29udHJvbGxlci4kJHBhcmVudEZvcm0sYWxpYXM9Y29udHJvbGxlci4kbmFtZTthbGlhcyYmKHNldHRlcihzY29wZSxhbGlhcyxjb250cm9sbGVyLGFsaWFzKSxhdHRyLiRvYnNlcnZlKGF0dHIubmFtZT8ibmFtZSI6Im5nRm9ybSIsZnVuY3Rpb24obmV3VmFsdWUpe2FsaWFzIT09bmV3VmFsdWUmJihzZXR0ZXIoc2NvcGUsYWxpYXMsdW5kZWZpbmVkLGFsaWFzKSxhbGlhcz1uZXdWYWx1ZSxzZXR0ZXIoc2NvcGUsYWxpYXMsY29udHJvbGxlcixhbGlhcykscGFyZW50Rm9ybUN0cmwuJCRyZW5hbWVDb250cm9sKGNvbnRyb2xsZXIsYWxpYXMpKX0pKSxmb3JtRWxlbWVudC5vbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7cGFyZW50Rm9ybUN0cmwuJHJlbW92ZUNvbnRyb2woY29udHJvbGxlciksYWxpYXMmJnNldHRlcihzY29wZSxhbGlhcyx1bmRlZmluZWQsYWxpYXMpLGV4dGVuZChjb250cm9sbGVyLG51bGxGb3JtQ3RybCl9KX19fX07cmV0dXJuIGZvcm1EaXJlY3RpdmV9XX0sZm9ybURpcmVjdGl2ZT1mb3JtRGlyZWN0aXZlRmFjdG9yeSgpLG5nRm9ybURpcmVjdGl2ZT1mb3JtRGlyZWN0aXZlRmFjdG9yeSghMCksSVNPX0RBVEVfUkVHRVhQPS9cZHs0fS1bMDFdXGQtWzAtM11cZFRbMC0yXVxkOlswLTVdXGQ6WzAtNV1cZFwuXGQrKFsrLV1bMC0yXVxkOlswLTVdXGR8WikvLFVSTF9SRUdFWFA9L14oZnRwfGh0dHB8aHR0cHMpOlwvXC8oXHcrOnswLDF9XHcqQCk/KFxTKykoOlswLTldKyk/KFwvfFwvKFtcdyMhOi4/Kz0mJUAhXC1cL10pKT8kLyxFTUFJTF9SRUdFWFA9L15bYS16MC05ISMkJSYnKitcLz0/Xl9ge3x9fi4tXStAW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8oXC5bYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPykqJC9pLE5VTUJFUl9SRUdFWFA9L15ccyooXC18XCspPyhcZCt8KFxkKihcLlxkKikpKVxzKiQvLERBVEVfUkVHRVhQPS9eKFxkezR9KS0oXGR7Mn0pLShcZHsyfSkkLyxEQVRFVElNRUxPQ0FMX1JFR0VYUD0vXihcZHs0fSktKFxkXGQpLShcZFxkKVQoXGRcZCk6KFxkXGQpKD86OihcZFxkKShcLlxkezEsM30pPyk/JC8sV0VFS19SRUdFWFA9L14oXGR7NH0pLVcoXGRcZCkkLyxNT05USF9SRUdFWFA9L14oXGR7NH0pLShcZFxkKSQvLFRJTUVfUkVHRVhQPS9eKFxkXGQpOihcZFxkKSg/OjooXGRcZCkoXC5cZHsxLDN9KT8pPyQvLERFRkFVTFRfUkVHRVhQPS8oXHMrfF4pZGVmYXVsdChccyt8JCkvLCRuZ01vZGVsTWluRXJyPW5ldyBtaW5FcnIoIm5nTW9kZWwiKSxpbnB1dFR5cGU9e3RleHQ6dGV4dElucHV0VHlwZSxkYXRlOmNyZWF0ZURhdGVJbnB1dFR5cGUoImRhdGUiLERBVEVfUkVHRVhQLGNyZWF0ZURhdGVQYXJzZXIoREFURV9SRUdFWFAsWyJ5eXl5IiwiTU0iLCJkZCJdKSwieXl5eS1NTS1kZCIpLCJkYXRldGltZS1sb2NhbCI6Y3JlYXRlRGF0ZUlucHV0VHlwZSgiZGF0ZXRpbWVsb2NhbCIsREFURVRJTUVMT0NBTF9SRUdFWFAsY3JlYXRlRGF0ZVBhcnNlcihEQVRFVElNRUxPQ0FMX1JFR0VYUCxbInl5eXkiLCJNTSIsImRkIiwiSEgiLCJtbSIsInNzIiwic3NzIl0pLCJ5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcyIpLHRpbWU6Y3JlYXRlRGF0ZUlucHV0VHlwZSgidGltZSIsVElNRV9SRUdFWFAsY3JlYXRlRGF0ZVBhcnNlcihUSU1FX1JFR0VYUCxbIkhIIiwibW0iLCJzcyIsInNzcyJdKSwiSEg6bW06c3Muc3NzIiksd2VlazpjcmVhdGVEYXRlSW5wdXRUeXBlKCJ3ZWVrIixXRUVLX1JFR0VYUCx3ZWVrUGFyc2VyLCJ5eXl5LVd3dyIpLG1vbnRoOmNyZWF0ZURhdGVJbnB1dFR5cGUoIm1vbnRoIixNT05USF9SRUdFWFAsY3JlYXRlRGF0ZVBhcnNlcihNT05USF9SRUdFWFAsWyJ5eXl5IiwiTU0iXSksInl5eXktTU0iKSxudW1iZXI6bnVtYmVySW5wdXRUeXBlLHVybDp1cmxJbnB1dFR5cGUsZW1haWw6ZW1haWxJbnB1dFR5cGUscmFkaW86cmFkaW9JbnB1dFR5cGUsY2hlY2tib3g6Y2hlY2tib3hJbnB1dFR5cGUsaGlkZGVuOm5vb3AsYnV0dG9uOm5vb3Asc3VibWl0Om5vb3AscmVzZXQ6bm9vcCxmaWxlOm5vb3B9LGlucHV0RGlyZWN0aXZlPVsiJGJyb3dzZXIiLCIkc25pZmZlciIsIiRmaWx0ZXIiLCIkcGFyc2UiLGZ1bmN0aW9uKCRicm93c2VyLCRzbmlmZmVyLCRmaWx0ZXIsJHBhcnNlKXtyZXR1cm57cmVzdHJpY3Q6IkUiLHJlcXVpcmU6WyI/bmdNb2RlbCJdLGxpbms6e3ByZTpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybHMpe2N0cmxzWzBdJiYoaW5wdXRUeXBlW2xvd2VyY2FzZShhdHRyLnR5cGUpXXx8aW5wdXRUeXBlLnRleHQpKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsc1swXSwkc25pZmZlciwkYnJvd3NlciwkZmlsdGVyLCRwYXJzZSl9fX19XSxWQUxJRF9DTEFTUz0ibmctdmFsaWQiLElOVkFMSURfQ0xBU1M9Im5nLWludmFsaWQiLFBSSVNUSU5FX0NMQVNTPSJuZy1wcmlzdGluZSIsRElSVFlfQ0xBU1M9Im5nLWRpcnR5IixVTlRPVUNIRURfQ0xBU1M9Im5nLXVudG91Y2hlZCIsVE9VQ0hFRF9DTEFTUz0ibmctdG91Y2hlZCIsUEVORElOR19DTEFTUz0ibmctcGVuZGluZyIsTmdNb2RlbENvbnRyb2xsZXI9WyIkc2NvcGUiLCIkZXhjZXB0aW9uSGFuZGxlciIsIiRhdHRycyIsIiRlbGVtZW50IiwiJHBhcnNlIiwiJGFuaW1hdGUiLCIkdGltZW91dCIsIiRyb290U2NvcGUiLCIkcSIsIiRpbnRlcnBvbGF0ZSIsZnVuY3Rpb24oJHNjb3BlLCRleGNlcHRpb25IYW5kbGVyLCRhdHRyLCRlbGVtZW50LCRwYXJzZSwkYW5pbWF0ZSwkdGltZW91dCwkcm9vdFNjb3BlLCRxLCRpbnRlcnBvbGF0ZSl7dGhpcy4kdmlld1ZhbHVlPU51bWJlci5OYU4sdGhpcy4kbW9kZWxWYWx1ZT1OdW1iZXIuTmFOLHRoaXMuJHZhbGlkYXRvcnM9e30sdGhpcy4kYXN5bmNWYWxpZGF0b3JzPXt9LHRoaXMuJHBhcnNlcnM9W10sdGhpcy4kZm9ybWF0dGVycz1bXSx0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuJHVudG91Y2hlZD0hMCx0aGlzLiR0b3VjaGVkPSExLHRoaXMuJHByaXN0aW5lPSEwLHRoaXMuJGRpcnR5PSExLHRoaXMuJHZhbGlkPSEwLHRoaXMuJGludmFsaWQ9ITEsdGhpcy4kZXJyb3I9e30sdGhpcy4kJHN1Y2Nlc3M9e30sdGhpcy4kcGVuZGluZz11bmRlZmluZWQsdGhpcy4kbmFtZT0kaW50ZXJwb2xhdGUoJGF0dHIubmFtZXx8IiIsITEpKCRzY29wZSk7CnZhciBwYXJzZWROZ01vZGVsPSRwYXJzZSgkYXR0ci5uZ01vZGVsKSxwZW5kaW5nRGVib3VuY2U9bnVsbCxjdHJsPXRoaXMsbmdNb2RlbEdldD1mdW5jdGlvbigpe3ZhciBtb2RlbFZhbHVlPXBhcnNlZE5nTW9kZWwoJHNjb3BlKTtyZXR1cm4gY3RybC4kb3B0aW9ucyYmY3RybC4kb3B0aW9ucy5nZXR0ZXJTZXR0ZXImJmlzRnVuY3Rpb24obW9kZWxWYWx1ZSkmJihtb2RlbFZhbHVlPW1vZGVsVmFsdWUoKSksbW9kZWxWYWx1ZX0sbmdNb2RlbFNldD1mdW5jdGlvbigpe3ZhciBnZXR0ZXJTZXR0ZXI7Y3RybC4kb3B0aW9ucyYmY3RybC4kb3B0aW9ucy5nZXR0ZXJTZXR0ZXImJmlzRnVuY3Rpb24oZ2V0dGVyU2V0dGVyPXBhcnNlZE5nTW9kZWwoJHNjb3BlKSk/Z2V0dGVyU2V0dGVyKGN0cmwuJG1vZGVsVmFsdWUpOnBhcnNlZE5nTW9kZWwuYXNzaWduKCRzY29wZSxjdHJsLiRtb2RlbFZhbHVlKX07dGhpcy4kJHNldE9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7aWYoY3RybC4kb3B0aW9ucz1vcHRpb25zLCEocGFyc2VkTmdNb2RlbC5hc3NpZ258fG9wdGlvbnMmJm9wdGlvbnMuZ2V0dGVyU2V0dGVyKSl0aHJvdyAkbmdNb2RlbE1pbkVycigibm9uYXNzaWduIiwiRXhwcmVzc2lvbiAnezB9JyBpcyBub24tYXNzaWduYWJsZS4gRWxlbWVudDogezF9IiwkYXR0ci5uZ01vZGVsLHN0YXJ0aW5nVGFnKCRlbGVtZW50KSl9LHRoaXMuJHJlbmRlcj1ub29wLHRoaXMuJGlzRW1wdHk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSl8fCIiPT09dmFsdWV8fG51bGw9PT12YWx1ZXx8dmFsdWUhPT12YWx1ZX07dmFyIHBhcmVudEZvcm09JGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgiJGZvcm1Db250cm9sbGVyIil8fG51bGxGb3JtQ3RybCxjdXJyZW50VmFsaWRhdGlvblJ1bklkPTA7YWRkU2V0VmFsaWRpdHlNZXRob2Qoe2N0cmw6dGhpcywkZWxlbWVudDokZWxlbWVudCxzZXQ6ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtvYmplY3RbcHJvcGVydHldPSEwfSx1bnNldDpmdW5jdGlvbihvYmplY3QscHJvcGVydHkpe2RlbGV0ZSBvYmplY3RbcHJvcGVydHldfSxwYXJlbnRGb3JtOnBhcmVudEZvcm0sJGFuaW1hdGU6JGFuaW1hdGV9KSx0aGlzLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe2N0cmwuJGRpcnR5PSExLGN0cmwuJHByaXN0aW5lPSEwLCRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LERJUlRZX0NMQVNTKSwkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCxQUklTVElORV9DTEFTUyl9LHRoaXMuJHNldFVudG91Y2hlZD1mdW5jdGlvbigpe2N0cmwuJHRvdWNoZWQ9ITEsY3RybC4kdW50b3VjaGVkPSEwLCRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LFVOVE9VQ0hFRF9DTEFTUyxUT1VDSEVEX0NMQVNTKX0sdGhpcy4kc2V0VG91Y2hlZD1mdW5jdGlvbigpe2N0cmwuJHRvdWNoZWQ9ITAsY3RybC4kdW50b3VjaGVkPSExLCRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LFRPVUNIRURfQ0xBU1MsVU5UT1VDSEVEX0NMQVNTKX0sdGhpcy4kcm9sbGJhY2tWaWV3VmFsdWU9ZnVuY3Rpb24oKXskdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKSxjdHJsLiR2aWV3VmFsdWU9Y3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsY3RybC4kcmVuZGVyKCl9LHRoaXMuJHZhbGlkYXRlPWZ1bmN0aW9uKCl7aXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkmJmlzTmFOKGN0cmwuJG1vZGVsVmFsdWUpfHx0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSgpfSx0aGlzLiQkcnVuVmFsaWRhdG9ycz1mdW5jdGlvbihwYXJzZVZhbGlkLG1vZGVsVmFsdWUsdmlld1ZhbHVlLGRvbmVDYWxsYmFjayl7ZnVuY3Rpb24gcHJvY2Vzc1BhcnNlRXJyb3JzKHBhcnNlVmFsaWQpe3ZhciBlcnJvcktleT1jdHJsLiQkcGFyc2VyTmFtZXx8InBhcnNlIjtpZihwYXJzZVZhbGlkPT09dW5kZWZpbmVkKXNldFZhbGlkaXR5KGVycm9yS2V5LG51bGwpO2Vsc2UgaWYoc2V0VmFsaWRpdHkoZXJyb3JLZXkscGFyc2VWYWxpZCksIXBhcnNlVmFsaWQpcmV0dXJuIGZvckVhY2goY3RybC4kdmFsaWRhdG9ycyxmdW5jdGlvbih2LG5hbWUpe3NldFZhbGlkaXR5KG5hbWUsbnVsbCl9KSxmb3JFYWNoKGN0cmwuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbih2LG5hbWUpe3NldFZhbGlkaXR5KG5hbWUsbnVsbCl9KSwhMTtyZXR1cm4hMH1mdW5jdGlvbiBwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKXt2YXIgc3luY1ZhbGlkYXRvcnNWYWxpZD0hMDtyZXR1cm4gZm9yRWFjaChjdHJsLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKHZhbGlkYXRvcixuYW1lKXt2YXIgcmVzdWx0PXZhbGlkYXRvcihtb2RlbFZhbHVlLHZpZXdWYWx1ZSk7c3luY1ZhbGlkYXRvcnNWYWxpZD1zeW5jVmFsaWRhdG9yc1ZhbGlkJiZyZXN1bHQsc2V0VmFsaWRpdHkobmFtZSxyZXN1bHQpfSksc3luY1ZhbGlkYXRvcnNWYWxpZD8hMDooZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24odixuYW1lKXtzZXRWYWxpZGl0eShuYW1lLG51bGwpfSksITEpfWZ1bmN0aW9uIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKXt2YXIgdmFsaWRhdG9yUHJvbWlzZXM9W10sYWxsVmFsaWQ9ITA7Zm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24odmFsaWRhdG9yLG5hbWUpe3ZhciBwcm9taXNlPXZhbGlkYXRvcihtb2RlbFZhbHVlLHZpZXdWYWx1ZSk7aWYoIWlzUHJvbWlzZUxpa2UocHJvbWlzZSkpdGhyb3cgJG5nTW9kZWxNaW5FcnIoIiRhc3luY1ZhbGlkYXRvcnMiLCJFeHBlY3RlZCBhc3luY2hyb25vdXMgdmFsaWRhdG9yIHRvIHJldHVybiBhIHByb21pc2UgYnV0IGdvdCAnezB9JyBpbnN0ZWFkLiIscHJvbWlzZSk7c2V0VmFsaWRpdHkobmFtZSx1bmRlZmluZWQpLHZhbGlkYXRvclByb21pc2VzLnB1c2gocHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7c2V0VmFsaWRpdHkobmFtZSwhMCl9LGZ1bmN0aW9uKCl7YWxsVmFsaWQ9ITEsc2V0VmFsaWRpdHkobmFtZSwhMSl9KSl9KSx2YWxpZGF0b3JQcm9taXNlcy5sZW5ndGg/JHEuYWxsKHZhbGlkYXRvclByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCl7dmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpfSxub29wKTp2YWxpZGF0aW9uRG9uZSghMCl9ZnVuY3Rpb24gc2V0VmFsaWRpdHkobmFtZSxpc1ZhbGlkKXtsb2NhbFZhbGlkYXRpb25SdW5JZD09PWN1cnJlbnRWYWxpZGF0aW9uUnVuSWQmJmN0cmwuJHNldFZhbGlkaXR5KG5hbWUsaXNWYWxpZCl9ZnVuY3Rpb24gdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpe2xvY2FsVmFsaWRhdGlvblJ1bklkPT09Y3VycmVudFZhbGlkYXRpb25SdW5JZCYmZG9uZUNhbGxiYWNrKGFsbFZhbGlkKX1jdXJyZW50VmFsaWRhdGlvblJ1bklkKys7dmFyIGxvY2FsVmFsaWRhdGlvblJ1bklkPWN1cnJlbnRWYWxpZGF0aW9uUnVuSWQ7cmV0dXJuIHByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKSYmcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCk/dm9pZCBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCk6dm9pZCB2YWxpZGF0aW9uRG9uZSghMSl9LHRoaXMuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3ZhciB2aWV3VmFsdWU9Y3RybC4kdmlld1ZhbHVlOyR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpLChjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSE9PXZpZXdWYWx1ZXx8IiI9PT12aWV3VmFsdWUmJmN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSYmKGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPXZpZXdWYWx1ZSxjdHJsLiRwcmlzdGluZSYmKGN0cmwuJGRpcnR5PSEwLGN0cmwuJHByaXN0aW5lPSExLCRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LFBSSVNUSU5FX0NMQVNTKSwkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCxESVJUWV9DTEFTUykscGFyZW50Rm9ybS4kc2V0RGlydHkoKSksdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKSl9LHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gd3JpdGVUb01vZGVsSWZOZWVkZWQoKXtjdHJsLiRtb2RlbFZhbHVlIT09cHJldk1vZGVsVmFsdWUmJmN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpfXZhciB2aWV3VmFsdWU9Y3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsbW9kZWxWYWx1ZT12aWV3VmFsdWUscGFyc2VyVmFsaWQ9aXNVbmRlZmluZWQobW9kZWxWYWx1ZSk/dW5kZWZpbmVkOiEwO2lmKHBhcnNlclZhbGlkKWZvcih2YXIgaT0wO2k8Y3RybC4kcGFyc2Vycy5sZW5ndGg7aSsrKWlmKG1vZGVsVmFsdWU9Y3RybC4kcGFyc2Vyc1tpXShtb2RlbFZhbHVlKSxpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSl7cGFyc2VyVmFsaWQ9ITE7YnJlYWt9aXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkmJmlzTmFOKGN0cmwuJG1vZGVsVmFsdWUpJiYoY3RybC4kbW9kZWxWYWx1ZT1uZ01vZGVsR2V0KCkpO3ZhciBwcmV2TW9kZWxWYWx1ZT1jdHJsLiRtb2RlbFZhbHVlLGFsbG93SW52YWxpZD1jdHJsLiRvcHRpb25zJiZjdHJsLiRvcHRpb25zLmFsbG93SW52YWxpZDthbGxvd0ludmFsaWQmJihjdHJsLiRtb2RlbFZhbHVlPW1vZGVsVmFsdWUsd3JpdGVUb01vZGVsSWZOZWVkZWQoKSksY3RybC4kJHJ1blZhbGlkYXRvcnMocGFyc2VyVmFsaWQsbW9kZWxWYWx1ZSx2aWV3VmFsdWUsZnVuY3Rpb24oYWxsVmFsaWQpe2FsbG93SW52YWxpZHx8KGN0cmwuJG1vZGVsVmFsdWU9YWxsVmFsaWQ/bW9kZWxWYWx1ZTp1bmRlZmluZWQsd3JpdGVUb01vZGVsSWZOZWVkZWQoKSl9KX0sdGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlPWZ1bmN0aW9uKCl7bmdNb2RlbFNldChjdHJsLiRtb2RlbFZhbHVlKSxmb3JFYWNoKGN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsZnVuY3Rpb24obGlzdGVuZXIpe3RyeXtsaXN0ZW5lcigpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfX0pfSx0aGlzLiRzZXRWaWV3VmFsdWU9ZnVuY3Rpb24odmFsdWUsdHJpZ2dlcil7Y3RybC4kdmlld1ZhbHVlPXZhbHVlLCghY3RybC4kb3B0aW9uc3x8Y3RybC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQpJiZjdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcil9LHRoaXMuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdD1mdW5jdGlvbih0cmlnZ2VyKXt2YXIgZGVib3VuY2UsZGVib3VuY2VEZWxheT0wLG9wdGlvbnM9Y3RybC4kb3B0aW9ucztvcHRpb25zJiZpc0RlZmluZWQob3B0aW9ucy5kZWJvdW5jZSkmJihkZWJvdW5jZT1vcHRpb25zLmRlYm91bmNlLGlzTnVtYmVyKGRlYm91bmNlKT9kZWJvdW5jZURlbGF5PWRlYm91bmNlOmlzTnVtYmVyKGRlYm91bmNlW3RyaWdnZXJdKT9kZWJvdW5jZURlbGF5PWRlYm91bmNlW3RyaWdnZXJdOmlzTnVtYmVyKGRlYm91bmNlWyJkZWZhdWx0Il0pJiYoZGVib3VuY2VEZWxheT1kZWJvdW5jZVsiZGVmYXVsdCJdKSksJHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSksZGVib3VuY2VEZWxheT9wZW5kaW5nRGVib3VuY2U9JHRpbWVvdXQoZnVuY3Rpb24oKXtjdHJsLiRjb21taXRWaWV3VmFsdWUoKX0sZGVib3VuY2VEZWxheSk6JHJvb3RTY29wZS4kJHBoYXNlP2N0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpOiRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtjdHJsLiRjb21taXRWaWV3VmFsdWUoKX0pfSwkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIG1vZGVsVmFsdWU9bmdNb2RlbEdldCgpO2lmKG1vZGVsVmFsdWUhPT1jdHJsLiRtb2RlbFZhbHVlKXtjdHJsLiRtb2RlbFZhbHVlPW1vZGVsVmFsdWU7Zm9yKHZhciBmb3JtYXR0ZXJzPWN0cmwuJGZvcm1hdHRlcnMsaWR4PWZvcm1hdHRlcnMubGVuZ3RoLHZpZXdWYWx1ZT1tb2RlbFZhbHVlO2lkeC0tOyl2aWV3VmFsdWU9Zm9ybWF0dGVyc1tpZHhdKHZpZXdWYWx1ZSk7Y3RybC4kdmlld1ZhbHVlIT09dmlld1ZhbHVlJiYoY3RybC4kdmlld1ZhbHVlPWN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPXZpZXdWYWx1ZSxjdHJsLiRyZW5kZXIoKSxjdHJsLiQkcnVuVmFsaWRhdG9ycyh1bmRlZmluZWQsbW9kZWxWYWx1ZSx2aWV3VmFsdWUsbm9vcCkpfXJldHVybiBtb2RlbFZhbHVlfSl9XSxuZ01vZGVsRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOlsibmdNb2RlbCIsIl4/Zm9ybSIsIl4/bmdNb2RlbE9wdGlvbnMiXSxjb250cm9sbGVyOk5nTW9kZWxDb250cm9sbGVyLHByaW9yaXR5OjEsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVU5UT1VDSEVEX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUykse3ByZTpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybHMpe3ZhciBtb2RlbEN0cmw9Y3RybHNbMF0sZm9ybUN0cmw9Y3RybHNbMV18fG51bGxGb3JtQ3RybDttb2RlbEN0cmwuJCRzZXRPcHRpb25zKGN0cmxzWzJdJiZjdHJsc1syXS4kb3B0aW9ucyksZm9ybUN0cmwuJGFkZENvbnRyb2wobW9kZWxDdHJsKSxhdHRyLiRvYnNlcnZlKCJuYW1lIixmdW5jdGlvbihuZXdWYWx1ZSl7bW9kZWxDdHJsLiRuYW1lIT09bmV3VmFsdWUmJmZvcm1DdHJsLiQkcmVuYW1lQ29udHJvbChtb2RlbEN0cmwsbmV3VmFsdWUpfSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtmb3JtQ3RybC4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpfSl9LHBvc3Q6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGN0cmxzKXt2YXIgbW9kZWxDdHJsPWN0cmxzWzBdO21vZGVsQ3RybC4kb3B0aW9ucyYmbW9kZWxDdHJsLiRvcHRpb25zLnVwZGF0ZU9uJiZlbGVtZW50Lm9uKG1vZGVsQ3RybC4kb3B0aW9ucy51cGRhdGVPbixmdW5jdGlvbihldil7bW9kZWxDdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoZXYmJmV2LnR5cGUpfSksZWxlbWVudC5vbigiYmx1ciIsZnVuY3Rpb24oKXttb2RlbEN0cmwuJHRvdWNoZWR8fHNjb3BlLiRhcHBseShmdW5jdGlvbigpe21vZGVsQ3RybC4kc2V0VG91Y2hlZCgpfSl9KX19fX19LG5nQ2hhbmdlRGlyZWN0aXZlPXZhbHVlRm4oe3Jlc3RyaWN0OiJBIixyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsKXtjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKXtzY29wZS4kZXZhbChhdHRyLm5nQ2hhbmdlKX0pfX0pLHJlcXVpcmVkRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cixjdHJsKXtjdHJsJiYoYXR0ci5yZXF1aXJlZD0hMCxjdHJsLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4hYXR0ci5yZXF1aXJlZHx8IWN0cmwuJGlzRW1wdHkodmFsdWUpfSxhdHRyLiRvYnNlcnZlKCJyZXF1aXJlZCIsZnVuY3Rpb24oKXtjdHJsLiR2YWxpZGF0ZSgpfSkpfX19LHBhdHRlcm5EaXJlY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Ij9uZ01vZGVsIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsbSxhdHRyLGN0cmwpe2lmKGN0cmwpe3ZhciByZWdleHAscGF0dGVybkV4cD1hdHRyLm5nUGF0dGVybnx8YXR0ci5wYXR0ZXJuO2F0dHIuJG9ic2VydmUoInBhdHRlcm4iLGZ1bmN0aW9uKHJlZ2V4KXtpZihpc1N0cmluZyhyZWdleCkmJnJlZ2V4Lmxlbmd0aD4wJiYocmVnZXg9bmV3IFJlZ0V4cChyZWdleCkpLHJlZ2V4JiYhcmVnZXgudGVzdCl0aHJvdyBtaW5FcnIoIm5nUGF0dGVybiIpKCJub3JlZ2V4cCIsIkV4cGVjdGVkIHswfSB0byBiZSBhIFJlZ0V4cCBidXQgd2FzIHsxfS4gRWxlbWVudDogezJ9IixwYXR0ZXJuRXhwLHJlZ2V4LHN0YXJ0aW5nVGFnKGVsbSkpO3JlZ2V4cD1yZWdleHx8dW5kZWZpbmVkLGN0cmwuJHZhbGlkYXRlKCl9KSxjdHJsLiR2YWxpZGF0b3JzLnBhdHRlcm49ZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKXx8aXNVbmRlZmluZWQocmVnZXhwKXx8cmVnZXhwLnRlc3QodmFsdWUpfX19fX0sbWF4bGVuZ3RoRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cixjdHJsKXtpZihjdHJsKXt2YXIgbWF4bGVuZ3RoPTA7YXR0ci4kb2JzZXJ2ZSgibWF4bGVuZ3RoIixmdW5jdGlvbih2YWx1ZSl7bWF4bGVuZ3RoPWludCh2YWx1ZSl8fDAsY3RybC4kdmFsaWRhdGUoKX0pLGN0cmwuJHZhbGlkYXRvcnMubWF4bGVuZ3RoPWZ1bmN0aW9uKG1vZGVsVmFsdWUsdmlld1ZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eShtb2RlbFZhbHVlKXx8dmlld1ZhbHVlLmxlbmd0aDw9bWF4bGVuZ3RofX19fX0sbWlubGVuZ3RoRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cixjdHJsKXtpZihjdHJsKXt2YXIgbWlubGVuZ3RoPTA7YXR0ci4kb2JzZXJ2ZSgibWlubGVuZ3RoIixmdW5jdGlvbih2YWx1ZSl7bWlubGVuZ3RoPWludCh2YWx1ZSl8fDAsY3RybC4kdmFsaWRhdGUoKX0pLGN0cmwuJHZhbGlkYXRvcnMubWlubGVuZ3RoPWZ1bmN0aW9uKG1vZGVsVmFsdWUsdmlld1ZhbHVlKXtyZXR1cm4gY3RybC4kaXNFbXB0eShtb2RlbFZhbHVlKXx8dmlld1ZhbHVlLmxlbmd0aD49bWlubGVuZ3RofX19fX0sbmdMaXN0RGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixwcmlvcml0eToxMDAscmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7dmFyIG5nTGlzdD1lbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0xpc3QpfHwiLCAiLHRyaW1WYWx1ZXM9ImZhbHNlIiE9PWF0dHIubmdUcmltLHNlcGFyYXRvcj10cmltVmFsdWVzP3RyaW0obmdMaXN0KTpuZ0xpc3QscGFyc2U9ZnVuY3Rpb24odmlld1ZhbHVlKXtpZighaXNVbmRlZmluZWQodmlld1ZhbHVlKSl7dmFyIGxpc3Q9W107cmV0dXJuIHZpZXdWYWx1ZSYmZm9yRWFjaCh2aWV3VmFsdWUuc3BsaXQoc2VwYXJhdG9yKSxmdW5jdGlvbih2YWx1ZSl7dmFsdWUmJmxpc3QucHVzaCh0cmltVmFsdWVzP3RyaW0odmFsdWUpOnZhbHVlKX0pLGxpc3R9fTtjdHJsLiRwYXJzZXJzLnB1c2gocGFyc2UpLGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzQXJyYXkodmFsdWUpP3ZhbHVlLmpvaW4obmdMaXN0KTp1bmRlZmluZWR9KSxjdHJsLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4hdmFsdWV8fCF2YWx1ZS5sZW5ndGh9fX19LENPTlNUQU5UX1ZBTFVFX1JFR0VYUD0vXih0cnVlfGZhbHNlfFxkKykkLyxuZ1ZhbHVlRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbih0cGwsdHBsQXR0cil7cmV0dXJuIENPTlNUQU5UX1ZBTFVFX1JFR0VYUC50ZXN0KHRwbEF0dHIubmdWYWx1ZSk/ZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHIpe2F0dHIuJHNldCgidmFsdWUiLHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSkpfTpmdW5jdGlvbihzY29wZSxlbG0sYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdWYWx1ZSxmdW5jdGlvbih2YWx1ZSl7YXR0ci4kc2V0KCJ2YWx1ZSIsdmFsdWUpfSl9fX19LG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixjb250cm9sbGVyOlsiJHNjb3BlIiwiJGF0dHJzIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzKXt2YXIgdGhhdD10aGlzO3RoaXMuJG9wdGlvbnM9JHNjb3BlLiRldmFsKCRhdHRycy5uZ01vZGVsT3B0aW9ucyksdGhpcy4kb3B0aW9ucy51cGRhdGVPbiE9PXVuZGVmaW5lZD8odGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITEsdGhpcy4kb3B0aW9ucy51cGRhdGVPbj10cmltKHRoaXMuJG9wdGlvbnMudXBkYXRlT24ucmVwbGFjZShERUZBVUxUX1JFR0VYUCxmdW5jdGlvbigpe3JldHVybiB0aGF0LiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMCwiICJ9KSkpOnRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSEwfV19fSxuZ0JpbmREaXJlY3RpdmU9WyIkY29tcGlsZSIsZnVuY3Rpb24oJGNvbXBpbGUpe3JldHVybntyZXN0cmljdDoiQUMiLGNvbXBpbGU6ZnVuY3Rpb24odGVtcGxhdGVFbGVtZW50KXtyZXR1cm4gJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KSxmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpeyRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCxhdHRyLm5nQmluZCksZWxlbWVudD1lbGVtZW50WzBdLHNjb3BlLiR3YXRjaChhdHRyLm5nQmluZCxmdW5jdGlvbih2YWx1ZSl7ZWxlbWVudC50ZXh0Q29udGVudD12YWx1ZT09PXVuZGVmaW5lZD8iIjp2YWx1ZX0pfX19fV0sbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmU9WyIkaW50ZXJwb2xhdGUiLCIkY29tcGlsZSIsZnVuY3Rpb24oJGludGVycG9sYXRlLCRjb21waWxlKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbih0ZW1wbGF0ZUVsZW1lbnQpe3JldHVybiAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpLGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7JGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LGludGVycG9sYXRlRm4uZXhwcmVzc2lvbnMpLGVsZW1lbnQ9ZWxlbWVudFswXSxhdHRyLiRvYnNlcnZlKCJuZ0JpbmRUZW1wbGF0ZSIsZnVuY3Rpb24odmFsdWUpe2VsZW1lbnQudGV4dENvbnRlbnQ9dmFsdWU9PT11bmRlZmluZWQ/IiI6dmFsdWV9KX19fX1dLG5nQmluZEh0bWxEaXJlY3RpdmU9WyIkc2NlIiwiJHBhcnNlIiwiJGNvbXBpbGUiLGZ1bmN0aW9uKCRzY2UsJHBhcnNlLCRjb21waWxlKXtyZXR1cm57cmVzdHJpY3Q6IkEiLGNvbXBpbGU6ZnVuY3Rpb24odEVsZW1lbnQsdEF0dHJzKXt2YXIgbmdCaW5kSHRtbEdldHRlcj0kcGFyc2UodEF0dHJzLm5nQmluZEh0bWwpLG5nQmluZEh0bWxXYXRjaD0kcGFyc2UodEF0dHJzLm5nQmluZEh0bWwsZnVuY3Rpb24odmFsdWUpe3JldHVybih2YWx1ZXx8IiIpLnRvU3RyaW5nKCl9KTtyZXR1cm4gJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModEVsZW1lbnQpLGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7JGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LGF0dHIubmdCaW5kSHRtbCksc2NvcGUuJHdhdGNoKG5nQmluZEh0bWxXYXRjaCxmdW5jdGlvbigpe2VsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKG5nQmluZEh0bWxHZXR0ZXIoc2NvcGUpKXx8IiIpfSl9fX19XSxuZ0NsYXNzRGlyZWN0aXZlPWNsYXNzRGlyZWN0aXZlKCIiLCEwKSxuZ0NsYXNzT2RkRGlyZWN0aXZlPWNsYXNzRGlyZWN0aXZlKCJPZGQiLDApLG5nQ2xhc3NFdmVuRGlyZWN0aXZlPWNsYXNzRGlyZWN0aXZlKCJFdmVuIiwxKSxuZ0Nsb2FrRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHtjb21waWxlOmZ1bmN0aW9uKGVsZW1lbnQsYXR0cil7YXR0ci4kc2V0KCJuZ0Nsb2FrIix1bmRlZmluZWQpLGVsZW1lbnQucmVtb3ZlQ2xhc3MoIm5nLWNsb2FrIil9fSksbmdDb250cm9sbGVyRGlyZWN0aXZlPVtmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIsc2NvcGU6ITAsY29udHJvbGxlcjoiQCIscHJpb3JpdHk6NTAwfX1dLG5nRXZlbnREaXJlY3RpdmVzPXt9LGZvcmNlQXN5bmNFdmVudHM9e2JsdXI6ITAsZm9jdXM6ITB9O2ZvckVhY2goImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZXZlbnROYW1lKXt2YXIgZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUoIm5nLSIrZXZlbnROYW1lKTtuZ0V2ZW50RGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXT1bIiRwYXJzZSIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKCRwYXJzZSwkcm9vdFNjb3BlKXtyZXR1cm57cmVzdHJpY3Q6IkEiLGNvbXBpbGU6ZnVuY3Rpb24oJGVsZW1lbnQsYXR0cil7dmFyIGZuPSRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdKTtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCl7ZWxlbWVudC5vbihldmVudE5hbWUsZnVuY3Rpb24oZXZlbnQpe3ZhciBjYWxsYmFjaz1mdW5jdGlvbigpe2ZuKHNjb3BlLHskZXZlbnQ6ZXZlbnR9KX07Zm9yY2VBc3luY0V2ZW50c1tldmVudE5hbWVdJiYkcm9vdFNjb3BlLiQkcGhhc2U/c2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk6c2NvcGUuJGFwcGx5KGNhbGxiYWNrKX0pfX19fV19KTt2YXIgbmdJZkRpcmVjdGl2ZT1bIiRhbmltYXRlIixmdW5jdGlvbigkYW5pbWF0ZSl7cmV0dXJue211bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eTo2MDAsdGVybWluYWw6ITAscmVzdHJpY3Q6IkEiLCQkdGxiOiEwLGxpbms6ZnVuY3Rpb24oJHNjb3BlLCRlbGVtZW50LCRhdHRyLGN0cmwsJHRyYW5zY2x1ZGUpe3ZhciBibG9jayxjaGlsZFNjb3BlLHByZXZpb3VzRWxlbWVudHM7JHNjb3BlLiR3YXRjaCgkYXR0ci5uZ0lmLGZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT9jaGlsZFNjb3BlfHwkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSxuZXdTY29wZSl7Y2hpbGRTY29wZT1uZXdTY29wZSxjbG9uZVtjbG9uZS5sZW5ndGgrK109ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIGVuZCBuZ0lmOiAiKyRhdHRyLm5nSWYrIiAiKSxibG9jaz17Y2xvbmU6Y2xvbmV9LCRhbmltYXRlLmVudGVyKGNsb25lLCRlbGVtZW50LnBhcmVudCgpLCRlbGVtZW50KX0pOihwcmV2aW91c0VsZW1lbnRzJiYocHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKSxwcmV2aW91c0VsZW1lbnRzPW51bGwpLGNoaWxkU2NvcGUmJihjaGlsZFNjb3BlLiRkZXN0cm95KCksY2hpbGRTY29wZT1udWxsKSxibG9jayYmKHByZXZpb3VzRWxlbWVudHM9Z2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSksJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cykudGhlbihmdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudHM9bnVsbH0pLGJsb2NrPW51bGwpKX0pfX19XSxuZ0luY2x1ZGVEaXJlY3RpdmU9WyIkdGVtcGxhdGVSZXF1ZXN0IiwiJGFuY2hvclNjcm9sbCIsIiRhbmltYXRlIiwiJHNjZSIsZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwkYW5jaG9yU2Nyb2xsLCRhbmltYXRlLCRzY2Upe3JldHVybntyZXN0cmljdDoiRUNBIixwcmlvcml0eTo0MDAsdGVybWluYWw6ITAsdHJhbnNjbHVkZToiZWxlbWVudCIsY29udHJvbGxlcjphbmd1bGFyLm5vb3AsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe3ZhciBzcmNFeHA9YXR0ci5uZ0luY2x1ZGV8fGF0dHIuc3JjLG9ubG9hZEV4cD1hdHRyLm9ubG9hZHx8IiIsYXV0b1Njcm9sbEV4cD1hdHRyLmF1dG9zY3JvbGw7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCRlbGVtZW50LCRhdHRyLGN0cmwsJHRyYW5zY2x1ZGUpe3ZhciBjdXJyZW50U2NvcGUscHJldmlvdXNFbGVtZW50LGN1cnJlbnRFbGVtZW50LGNoYW5nZUNvdW50ZXI9MCxjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50PWZ1bmN0aW9uKCl7cHJldmlvdXNFbGVtZW50JiYocHJldmlvdXNFbGVtZW50LnJlbW92ZSgpLHByZXZpb3VzRWxlbWVudD1udWxsKSxjdXJyZW50U2NvcGUmJihjdXJyZW50U2NvcGUuJGRlc3Ryb3koKSxjdXJyZW50U2NvcGU9bnVsbCksY3VycmVudEVsZW1lbnQmJigkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkudGhlbihmdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudD1udWxsfSkscHJldmlvdXNFbGVtZW50PWN1cnJlbnRFbGVtZW50LGN1cnJlbnRFbGVtZW50PW51bGwpfTtzY29wZS4kd2F0Y2goJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwoc3JjRXhwKSxmdW5jdGlvbihzcmMpe3ZhciBhZnRlckFuaW1hdGlvbj1mdW5jdGlvbigpeyFpc0RlZmluZWQoYXV0b1Njcm9sbEV4cCl8fGF1dG9TY3JvbGxFeHAmJiFzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKXx8JGFuY2hvclNjcm9sbCgpfSx0aGlzQ2hhbmdlSWQ9KytjaGFuZ2VDb3VudGVyO3NyYz8oJHRlbXBsYXRlUmVxdWVzdChzcmMsITApLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe2lmKHRoaXNDaGFuZ2VJZD09PWNoYW5nZUNvdW50ZXIpe3ZhciBuZXdTY29wZT1zY29wZS4kbmV3KCk7Y3RybC50ZW1wbGF0ZT1yZXNwb25zZTt2YXIgY2xvbmU9JHRyYW5zY2x1ZGUobmV3U2NvcGUsZnVuY3Rpb24oY2xvbmUpe2NsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKSwkYW5pbWF0ZS5lbnRlcihjbG9uZSxudWxsLCRlbGVtZW50KS50aGVuKGFmdGVyQW5pbWF0aW9uKX0pO2N1cnJlbnRTY29wZT1uZXdTY29wZSxjdXJyZW50RWxlbWVudD1jbG9uZSxjdXJyZW50U2NvcGUuJGVtaXQoIiRpbmNsdWRlQ29udGVudExvYWRlZCIsc3JjKSxzY29wZS4kZXZhbChvbmxvYWRFeHApfX0sZnVuY3Rpb24oKXt0aGlzQ2hhbmdlSWQ9PT1jaGFuZ2VDb3VudGVyJiYoY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpLHNjb3BlLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRFcnJvciIsc3JjKSl9KSxzY29wZS4kZW1pdCgiJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkIixzcmMpKTooY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpLGN0cmwudGVtcGxhdGU9bnVsbCl9KX19fX1dLG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlPVsiJGNvbXBpbGUiLGZ1bmN0aW9uKCRjb21waWxlKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIscHJpb3JpdHk6LTQwMCxyZXF1aXJlOiJuZ0luY2x1ZGUiLGxpbms6ZnVuY3Rpb24oc2NvcGUsJGVsZW1lbnQsJGF0dHIsY3RybCl7cmV0dXJuL1NWRy8udGVzdCgkZWxlbWVudFswXS50b1N0cmluZygpKT8oJGVsZW1lbnQuZW1wdHkoKSx2b2lkICRjb21waWxlKGpxTGl0ZUJ1aWxkRnJhZ21lbnQoY3RybC50ZW1wbGF0ZSxkb2N1bWVudCkuY2hpbGROb2Rlcykoc2NvcGUsZnVuY3Rpb24oY2xvbmUpeyRlbGVtZW50LmFwcGVuZChjbG9uZSl9LHVuZGVmaW5lZCx1bmRlZmluZWQsJGVsZW1lbnQpKTooJGVsZW1lbnQuaHRtbChjdHJsLnRlbXBsYXRlKSx2b2lkICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKSl9fX1dLG5nSW5pdERpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7cHJpb3JpdHk6NDUwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLiRldmFsKGF0dHJzLm5nSW5pdCl9fX19KSxuZ05vbkJpbmRhYmxlRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHt0ZXJtaW5hbDohMCxwcmlvcml0eToxZTN9KSxuZ1BsdXJhbGl6ZURpcmVjdGl2ZT1bIiRsb2NhbGUiLCIkaW50ZXJwb2xhdGUiLGZ1bmN0aW9uKCRsb2NhbGUsJGludGVycG9sYXRlKXt2YXIgQlJBQ0U9L3t9L2c7cmV0dXJue3Jlc3RyaWN0OiJFQSIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe3ZhciBudW1iZXJFeHA9YXR0ci5jb3VudCx3aGVuRXhwPWF0dHIuJGF0dHIud2hlbiYmZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIud2hlbiksb2Zmc2V0PWF0dHIub2Zmc2V0fHwwLHdoZW5zPXNjb3BlLiRldmFsKHdoZW5FeHApfHx7fSx3aGVuc0V4cEZucz17fSxzdGFydFN5bWJvbD0kaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxlbmRTeW1ib2w9JGludGVycG9sYXRlLmVuZFN5bWJvbCgpLGlzV2hlbj0vXndoZW4oTWludXMpPyguKykkLztmb3JFYWNoKGF0dHIsZnVuY3Rpb24oZXhwcmVzc2lvbixhdHRyaWJ1dGVOYW1lKXtpc1doZW4udGVzdChhdHRyaWJ1dGVOYW1lKSYmKHdoZW5zW2xvd2VyY2FzZShhdHRyaWJ1dGVOYW1lLnJlcGxhY2UoIndoZW4iLCIiKS5yZXBsYWNlKCJNaW51cyIsIi0iKSldPWVsZW1lbnQuYXR0cihhdHRyLiRhdHRyW2F0dHJpYnV0ZU5hbWVdKSl9KSxmb3JFYWNoKHdoZW5zLGZ1bmN0aW9uKGV4cHJlc3Npb24sa2V5KXt3aGVuc0V4cEZuc1trZXldPSRpbnRlcnBvbGF0ZShleHByZXNzaW9uLnJlcGxhY2UoQlJBQ0Usc3RhcnRTeW1ib2wrbnVtYmVyRXhwKyItIitvZmZzZXQrZW5kU3ltYm9sKSl9KSxzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgdmFsdWU9cGFyc2VGbG9hdChzY29wZS4kZXZhbChudW1iZXJFeHApKTtyZXR1cm4gaXNOYU4odmFsdWUpPyIiOih2YWx1ZSBpbiB3aGVuc3x8KHZhbHVlPSRsb2NhbGUucGx1cmFsQ2F0KHZhbHVlLW9mZnNldCkpLHdoZW5zRXhwRm5zW3ZhbHVlXShzY29wZSkpfSxmdW5jdGlvbihuZXdWYWwpe2VsZW1lbnQudGV4dChuZXdWYWwpfSl9fX1dLG5nUmVwZWF0RGlyZWN0aXZlPVsiJHBhcnNlIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKCRwYXJzZSwkYW5pbWF0ZSl7dmFyIE5HX1JFTU9WRUQ9IiQkTkdfUkVNT1ZFRCIsbmdSZXBlYXRNaW5FcnI9bWluRXJyKCJuZ1JlcGVhdCIpLHVwZGF0ZVNjb3BlPWZ1bmN0aW9uKHNjb3BlLGluZGV4LHZhbHVlSWRlbnRpZmllcix2YWx1ZSxrZXlJZGVudGlmaWVyLGtleSxhcnJheUxlbmd0aCl7c2NvcGVbdmFsdWVJZGVudGlmaWVyXT12YWx1ZSxrZXlJZGVudGlmaWVyJiYoc2NvcGVba2V5SWRlbnRpZmllcl09a2V5KSxzY29wZS4kaW5kZXg9aW5kZXgsc2NvcGUuJGZpcnN0PTA9PT1pbmRleCxzY29wZS4kbGFzdD1pbmRleD09PWFycmF5TGVuZ3RoLTEsc2NvcGUuJG1pZGRsZT0hKHNjb3BlLiRmaXJzdHx8c2NvcGUuJGxhc3QpLHNjb3BlLiRvZGQ9IShzY29wZS4kZXZlbj0wPT09KDEmaW5kZXgpKX0sZ2V0QmxvY2tTdGFydD1mdW5jdGlvbihibG9jayl7cmV0dXJuIGJsb2NrLmNsb25lWzBdfSxnZXRCbG9ja0VuZD1mdW5jdGlvbihibG9jayl7cmV0dXJuIGJsb2NrLmNsb25lW2Jsb2NrLmNsb25lLmxlbmd0aC0xXX07cmV0dXJue3Jlc3RyaWN0OiJBIixtdWx0aUVsZW1lbnQ6ITAsdHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6MWUzLHRlcm1pbmFsOiEwLCQkdGxiOiEwLGNvbXBpbGU6ZnVuY3Rpb24oJGVsZW1lbnQsJGF0dHIpe3ZhciBleHByZXNzaW9uPSRhdHRyLm5nUmVwZWF0LG5nUmVwZWF0RW5kQ29tbWVudD1kb2N1bWVudC5jcmVhdGVDb21tZW50KCIgZW5kIG5nUmVwZWF0OiAiK2V4cHJlc3Npb24rIiAiKSxtYXRjaD1leHByZXNzaW9uLm1hdGNoKC9eXHMqKFtcc1xTXSs/KVxzK2luXHMrKFtcc1xTXSs/KSg/OlxzK2FzXHMrKFtcc1xTXSs/KSk/KD86XHMrdHJhY2tccytieVxzKyhbXHNcU10rPykpP1xzKiQvKTtpZighbWF0Y2gpdGhyb3cgbmdSZXBlYXRNaW5FcnIoImlleHAiLCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9bIHRyYWNrIGJ5IF9pZF9dJyBidXQgZ290ICd7MH0nLiIsZXhwcmVzc2lvbik7dmFyIGxocz1tYXRjaFsxXSxyaHM9bWF0Y2hbMl0sYWxpYXNBcz1tYXRjaFszXSx0cmFja0J5RXhwPW1hdGNoWzRdO2lmKG1hdGNoPWxocy5tYXRjaCgvXig/OihbXCRcd10rKXxcKChbXCRcd10rKVxzKixccyooW1wkXHddKylcKSkkLyksIW1hdGNoKXRocm93IG5nUmVwZWF0TWluRXJyKCJpaWRleHAiLCInX2l0ZW1fJyBpbiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uXycgc2hvdWxkIGJlIGFuIGlkZW50aWZpZXIgb3IgJyhfa2V5XywgX3ZhbHVlXyknIGV4cHJlc3Npb24sIGJ1dCBnb3QgJ3swfScuIixsaHMpO3ZhciB2YWx1ZUlkZW50aWZpZXI9bWF0Y2hbM118fG1hdGNoWzFdLGtleUlkZW50aWZpZXI9bWF0Y2hbMl07aWYoYWxpYXNBcyYmKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QoYWxpYXNBcyl8fC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XCRpbmRleHxcJGZpcnN0fFwkbWlkZGxlfFwkbGFzdHxcJGV2ZW58XCRvZGR8XCRwYXJlbnQpJC8udGVzdChhbGlhc0FzKSkpdGhyb3cgbmdSZXBlYXRNaW5FcnIoImJhZGlkZW50IiwiYWxpYXMgJ3swfScgaXMgaW52YWxpZCAtLS0gbXVzdCBiZSBhIHZhbGlkIEpTIGlkZW50aWZpZXIgd2hpY2ggaXMgbm90IGEgcmVzZXJ2ZWQgbmFtZS4iLGFsaWFzQXMpO3ZhciB0cmFja0J5RXhwR2V0dGVyLHRyYWNrQnlJZEV4cEZuLHRyYWNrQnlJZEFycmF5Rm4sdHJhY2tCeUlkT2JqRm4saGFzaEZuTG9jYWxzPXskaWQ6aGFzaEtleX07cmV0dXJuIHRyYWNrQnlFeHA/dHJhY2tCeUV4cEdldHRlcj0kcGFyc2UodHJhY2tCeUV4cCk6KHRyYWNrQnlJZEFycmF5Rm49ZnVuY3Rpb24oa2V5LHZhbHVlKXtyZXR1cm4gaGFzaEtleSh2YWx1ZSl9LHRyYWNrQnlJZE9iakZuPWZ1bmN0aW9uKGtleSl7cmV0dXJuIGtleX0pLGZ1bmN0aW9uKCRzY29wZSwkZWxlbWVudCwkYXR0cixjdHJsLCR0cmFuc2NsdWRlKXt0cmFja0J5RXhwR2V0dGVyJiYodHJhY2tCeUlkRXhwRm49ZnVuY3Rpb24oa2V5LHZhbHVlLGluZGV4KXtyZXR1cm4ga2V5SWRlbnRpZmllciYmKGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXT1rZXkpLGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdPXZhbHVlLGhhc2hGbkxvY2Fscy4kaW5kZXg9aW5kZXgsdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsaGFzaEZuTG9jYWxzKX0pO3ZhciBsYXN0QmxvY2tNYXA9Y3JlYXRlTWFwKCk7JHNjb3BlLiR3YXRjaENvbGxlY3Rpb24ocmhzLGZ1bmN0aW9uKGNvbGxlY3Rpb24pe3ZhciBpbmRleCxsZW5ndGgsbmV4dE5vZGUsY29sbGVjdGlvbkxlbmd0aCxrZXksdmFsdWUsdHJhY2tCeUlkLHRyYWNrQnlJZEZuLGNvbGxlY3Rpb25LZXlzLGJsb2NrLG5leHRCbG9ja09yZGVyLGVsZW1lbnRzVG9SZW1vdmUscHJldmlvdXNOb2RlPSRlbGVtZW50WzBdLG5leHRCbG9ja01hcD1jcmVhdGVNYXAoKTtpZihhbGlhc0FzJiYoJHNjb3BlW2FsaWFzQXNdPWNvbGxlY3Rpb24pLGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKWNvbGxlY3Rpb25LZXlzPWNvbGxlY3Rpb24sdHJhY2tCeUlkRm49dHJhY2tCeUlkRXhwRm58fHRyYWNrQnlJZEFycmF5Rm47ZWxzZXt0cmFja0J5SWRGbj10cmFja0J5SWRFeHBGbnx8dHJhY2tCeUlkT2JqRm4sY29sbGVjdGlvbktleXM9W107Zm9yKHZhciBpdGVtS2V5IGluIGNvbGxlY3Rpb24pY29sbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShpdGVtS2V5KSYmIiQiIT1pdGVtS2V5LmNoYXJBdCgwKSYmY29sbGVjdGlvbktleXMucHVzaChpdGVtS2V5KTtjb2xsZWN0aW9uS2V5cy5zb3J0KCl9Zm9yKGNvbGxlY3Rpb25MZW5ndGg9Y29sbGVjdGlvbktleXMubGVuZ3RoLG5leHRCbG9ja09yZGVyPW5ldyBBcnJheShjb2xsZWN0aW9uTGVuZ3RoKSxpbmRleD0wO2NvbGxlY3Rpb25MZW5ndGg+aW5kZXg7aW5kZXgrKylpZihrZXk9Y29sbGVjdGlvbj09PWNvbGxlY3Rpb25LZXlzP2luZGV4OmNvbGxlY3Rpb25LZXlzW2luZGV4XSx2YWx1ZT1jb2xsZWN0aW9uW2tleV0sdHJhY2tCeUlkPXRyYWNrQnlJZEZuKGtleSx2YWx1ZSxpbmRleCksbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF0pYmxvY2s9bGFzdEJsb2NrTWFwW3RyYWNrQnlJZF0sZGVsZXRlIGxhc3RCbG9ja01hcFt0cmFja0J5SWRdLG5leHRCbG9ja01hcFt0cmFja0J5SWRdPWJsb2NrLG5leHRCbG9ja09yZGVyW2luZGV4XT1ibG9jaztlbHNle2lmKG5leHRCbG9ja01hcFt0cmFja0J5SWRdKXRocm93IGZvckVhY2gobmV4dEJsb2NrT3JkZXIsZnVuY3Rpb24oYmxvY2spe2Jsb2NrJiZibG9jay5zY29wZSYmKGxhc3RCbG9ja01hcFtibG9jay5pZF09YmxvY2spfSksbmdSZXBlYXRNaW5FcnIoImR1cGVzIiwiRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlICd0cmFjayBieScgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9IixleHByZXNzaW9uLHRyYWNrQnlJZCx0b0pzb24odmFsdWUpKTtuZXh0QmxvY2tPcmRlcltpbmRleF09e2lkOnRyYWNrQnlJZCxzY29wZTp1bmRlZmluZWQsY2xvbmU6dW5kZWZpbmVkfSxuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXT0hMH1mb3IodmFyIGJsb2NrS2V5IGluIGxhc3RCbG9ja01hcCl7aWYoYmxvY2s9bGFzdEJsb2NrTWFwW2Jsb2NrS2V5XSxlbGVtZW50c1RvUmVtb3ZlPWdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLCRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpLGVsZW1lbnRzVG9SZW1vdmVbMF0ucGFyZW50Tm9kZSlmb3IoaW5kZXg9MCxsZW5ndGg9ZWxlbWVudHNUb1JlbW92ZS5sZW5ndGg7bGVuZ3RoPmluZGV4O2luZGV4KyspZWxlbWVudHNUb1JlbW92ZVtpbmRleF1bTkdfUkVNT1ZFRF09ITA7YmxvY2suc2NvcGUuJGRlc3Ryb3koKX1mb3IoaW5kZXg9MDtjb2xsZWN0aW9uTGVuZ3RoPmluZGV4O2luZGV4KyspaWYoa2V5PWNvbGxlY3Rpb249PT1jb2xsZWN0aW9uS2V5cz9pbmRleDpjb2xsZWN0aW9uS2V5c1tpbmRleF0sdmFsdWU9Y29sbGVjdGlvbltrZXldLGJsb2NrPW5leHRCbG9ja09yZGVyW2luZGV4XSxibG9jay5zY29wZSl7bmV4dE5vZGU9cHJldmlvdXNOb2RlO2RvIG5leHROb2RlPW5leHROb2RlLm5leHRTaWJsaW5nO3doaWxlKG5leHROb2RlJiZuZXh0Tm9kZVtOR19SRU1PVkVEXSk7Z2V0QmxvY2tTdGFydChibG9jaykhPW5leHROb2RlJiYkYW5pbWF0ZS5tb3ZlKGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLG51bGwsanFMaXRlKHByZXZpb3VzTm9kZSkpLHByZXZpb3VzTm9kZT1nZXRCbG9ja0VuZChibG9jayksdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsaW5kZXgsdmFsdWVJZGVudGlmaWVyLHZhbHVlLGtleUlkZW50aWZpZXIsa2V5LGNvbGxlY3Rpb25MZW5ndGgpfWVsc2UgJHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUsc2NvcGUpe2Jsb2NrLnNjb3BlPXNjb3BlO3ZhciBlbmROb2RlPW5nUmVwZWF0RW5kQ29tbWVudC5jbG9uZU5vZGUoITEpO2Nsb25lW2Nsb25lLmxlbmd0aCsrXT1lbmROb2RlLCRhbmltYXRlLmVudGVyKGNsb25lLG51bGwsanFMaXRlKHByZXZpb3VzTm9kZSkpLHByZXZpb3VzTm9kZT1lbmROb2RlLGJsb2NrLmNsb25lPWNsb25lLG5leHRCbG9ja01hcFtibG9jay5pZF09YmxvY2ssdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsaW5kZXgsdmFsdWVJZGVudGlmaWVyLHZhbHVlLGtleUlkZW50aWZpZXIsa2V5LGNvbGxlY3Rpb25MZW5ndGgpfSk7bGFzdEJsb2NrTWFwPW5leHRCbG9ja01hcH0pfX19fV0sTkdfSElERV9DTEFTUz0ibmctaGlkZSIsTkdfSElERV9JTl9QUk9HUkVTU19DTEFTUz0ibmctaGlkZS1hbmltYXRlIixuZ1Nob3dEaXJlY3RpdmU9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oJGFuaW1hdGUpe3JldHVybntyZXN0cmljdDoiQSIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtzY29wZS4kd2F0Y2goYXR0ci5uZ1Nob3csZnVuY3Rpb24odmFsdWUpeyRhbmltYXRlW3ZhbHVlPyJyZW1vdmVDbGFzcyI6ImFkZENsYXNzIl0oZWxlbWVudCxOR19ISURFX0NMQVNTLHt0ZW1wQ2xhc3NlczpOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTfSl9KX19fV0sbmdIaWRlRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm57cmVzdHJpY3Q6IkEiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdIaWRlLGZ1bmN0aW9uKHZhbHVlKXskYW5pbWF0ZVt2YWx1ZT8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKGVsZW1lbnQsTkdfSElERV9DTEFTUyx7dGVtcENsYXNzZXM6TkdfSElERV9JTl9QUk9HUkVTU19DTEFTU30pfSl9fX1dLG5nU3R5bGVEaXJlY3RpdmU9bmdEaXJlY3RpdmUoZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtzY29wZS4kd2F0Y2goYXR0ci5uZ1N0eWxlLGZ1bmN0aW9uKG5ld1N0eWxlcyxvbGRTdHlsZXMpe29sZFN0eWxlcyYmbmV3U3R5bGVzIT09b2xkU3R5bGVzJiZmb3JFYWNoKG9sZFN0eWxlcyxmdW5jdGlvbih2YWwsc3R5bGUpe2VsZW1lbnQuY3NzKHN0eWxlLCIiKX0pLG5ld1N0eWxlcyYmZWxlbWVudC5jc3MobmV3U3R5bGVzKX0sITApfSksbmdTd2l0Y2hEaXJlY3RpdmU9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oJGFuaW1hdGUpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6Im5nU3dpdGNoIixjb250cm9sbGVyOlsiJHNjb3BlIixmdW5jdGlvbigpe3RoaXMuY2FzZXM9e319XSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixuZ1N3aXRjaENvbnRyb2xsZXIpe3ZhciB3YXRjaEV4cHI9YXR0ci5uZ1N3aXRjaHx8YXR0ci5vbixzZWxlY3RlZFRyYW5zY2x1ZGVzPVtdLHNlbGVjdGVkRWxlbWVudHM9W10scHJldmlvdXNMZWF2ZUFuaW1hdGlvbnM9W10sc2VsZWN0ZWRTY29wZXM9W10sc3BsaWNlRmFjdG9yeT1mdW5jdGlvbihhcnJheSxpbmRleCl7cmV0dXJuIGZ1bmN0aW9uKCl7YXJyYXkuc3BsaWNlKGluZGV4LDEpfX07c2NvcGUuJHdhdGNoKHdhdGNoRXhwcixmdW5jdGlvbih2YWx1ZSl7dmFyIGksaWk7Zm9yKGk9MCxpaT1wcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5sZW5ndGg7aWk+aTsrK2kpJGFuaW1hdGUuY2FuY2VsKHByZXZpb3VzTGVhdmVBbmltYXRpb25zW2ldKTtmb3IocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMubGVuZ3RoPTAsaT0wLGlpPXNlbGVjdGVkU2NvcGVzLmxlbmd0aDtpaT5pOysraSl7dmFyIHNlbGVjdGVkPWdldEJsb2NrTm9kZXMoc2VsZWN0ZWRFbGVtZW50c1tpXS5jbG9uZSk7c2VsZWN0ZWRTY29wZXNbaV0uJGRlc3Ryb3koKTt2YXIgcHJvbWlzZT1wcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXT0kYW5pbWF0ZS5sZWF2ZShzZWxlY3RlZCk7cHJvbWlzZS50aGVuKHNwbGljZUZhY3RvcnkocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMsaSkpfXNlbGVjdGVkRWxlbWVudHMubGVuZ3RoPTAsc2VsZWN0ZWRTY29wZXMubGVuZ3RoPTAsKHNlbGVjdGVkVHJhbnNjbHVkZXM9bmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWyIhIit2YWx1ZV18fG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1siPyJdKSYmZm9yRWFjaChzZWxlY3RlZFRyYW5zY2x1ZGVzLGZ1bmN0aW9uKHNlbGVjdGVkVHJhbnNjbHVkZSl7c2VsZWN0ZWRUcmFuc2NsdWRlLnRyYW5zY2x1ZGUoZnVuY3Rpb24oY2FzZUVsZW1lbnQsc2VsZWN0ZWRTY29wZSl7c2VsZWN0ZWRTY29wZXMucHVzaChzZWxlY3RlZFNjb3BlKTt2YXIgYW5jaG9yPXNlbGVjdGVkVHJhbnNjbHVkZS5lbGVtZW50O2Nhc2VFbGVtZW50W2Nhc2VFbGVtZW50Lmxlbmd0aCsrXT1kb2N1bWVudC5jcmVhdGVDb21tZW50KCIgZW5kIG5nU3dpdGNoV2hlbjogIik7dmFyIGJsb2NrPXtjbG9uZTpjYXNlRWxlbWVudH07c2VsZWN0ZWRFbGVtZW50cy5wdXNoKGJsb2NrKSwkYW5pbWF0ZS5lbnRlcihjYXNlRWxlbWVudCxhbmNob3IucGFyZW50KCksYW5jaG9yKX0pfSl9KX19fV0sbmdTd2l0Y2hXaGVuRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHt0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eToxMjAwLHJlcXVpcmU6Il5uZ1N3aXRjaCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJsLCR0cmFuc2NsdWRlKXtjdHJsLmNhc2VzWyIhIithdHRycy5uZ1N3aXRjaFdoZW5dPWN0cmwuY2FzZXNbIiEiK2F0dHJzLm5nU3dpdGNoV2hlbl18fFtdLGN0cmwuY2FzZXNbIiEiK2F0dHJzLm5nU3dpdGNoV2hlbl0ucHVzaCh7dHJhbnNjbHVkZTokdHJhbnNjbHVkZSxlbGVtZW50OmVsZW1lbnR9KX19KSxuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmU9bmdEaXJlY3RpdmUoe3RyYW5zY2x1ZGU6ImVsZW1lbnQiLHByaW9yaXR5OjEyMDAscmVxdWlyZToiXm5nU3dpdGNoIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkdHJhbnNjbHVkZSl7Y3RybC5jYXNlc1siPyJdPWN0cmwuY2FzZXNbIj8iXXx8W10sY3RybC5jYXNlc1siPyJdLnB1c2goe3RyYW5zY2x1ZGU6JHRyYW5zY2x1ZGUsZWxlbWVudDplbGVtZW50fSl9fSksbmdUcmFuc2NsdWRlRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHtyZXN0cmljdDoiRUFDIixsaW5rOmZ1bmN0aW9uKCRzY29wZSwkZWxlbWVudCwkYXR0cnMsY29udHJvbGxlciwkdHJhbnNjbHVkZSl7aWYoISR0cmFuc2NsdWRlKXRocm93IG1pbkVycigibmdUcmFuc2NsdWRlIikoIm9ycGhhbiIsIklsbGVnYWwgdXNlIG9mIG5nVHJhbnNjbHVkZSBkaXJlY3RpdmUgaW4gdGhlIHRlbXBsYXRlISBObyBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgcmVxdWlyZXMgYSB0cmFuc2NsdXNpb24gZm91bmQuIEVsZW1lbnQ6IHswfSIsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTskdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSl7JGVsZW1lbnQuZW1wdHkoKSwkZWxlbWVudC5hcHBlbmQoY2xvbmUpfSl9fSksc2NyaXB0RGlyZWN0aXZlPVsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXtyZXR1cm57cmVzdHJpY3Q6IkUiLHRlcm1pbmFsOiEwLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRyKXtpZigidGV4dC9uZy10ZW1wbGF0ZSI9PWF0dHIudHlwZSl7dmFyIHRlbXBsYXRlVXJsPWF0dHIuaWQsdGV4dD1lbGVtZW50WzBdLnRleHQ7JHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLHRleHQpfX19fV0sbmdPcHRpb25zTWluRXJyPW1pbkVycigibmdPcHRpb25zIiksbmdPcHRpb25zRGlyZWN0aXZlPXZhbHVlRm4oe3Jlc3RyaWN0OiJBIix0ZXJtaW5hbDohMH0pLHNlbGVjdERpcmVjdGl2ZT1bIiRjb21waWxlIiwiJHBhcnNlIixmdW5jdGlvbigkY29tcGlsZSwkcGFyc2Upe3ZhciBOR19PUFRJT05TX1JFR0VYUD0vXlxzKihbXHNcU10rPykoPzpccythc1xzKyhbXHNcU10rPykpPyg/OlxzK2dyb3VwXHMrYnlccysoW1xzXFNdKz8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHddKil8KD86XChccyooW1wkXHddW1wkXHddKilccyosXHMqKFtcJFx3XVtcJFx3XSopXHMqXCkpKVxzK2luXHMrKFtcc1xTXSs/KSg/OlxzK3RyYWNrXHMrYnlccysoW1xzXFNdKz8pKT8kLyxudWxsTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOm5vb3B9O3JldHVybntyZXN0cmljdDoiRSIscmVxdWlyZTpbInNlbGVjdCIsIj9uZ01vZGVsIl0sY29udHJvbGxlcjpbIiRlbGVtZW50IiwiJHNjb3BlIiwiJGF0dHJzIixmdW5jdGlvbigkZWxlbWVudCwkc2NvcGUsJGF0dHJzKXt2YXIgbnVsbE9wdGlvbix1bmtub3duT3B0aW9uLHNlbGY9dGhpcyxvcHRpb25zTWFwPXt9LG5nTW9kZWxDdHJsPW51bGxNb2RlbEN0cmw7c2VsZi5kYXRhYm91bmQ9JGF0dHJzLm5nTW9kZWwsc2VsZi5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyxudWxsT3B0aW9uXyx1bmtub3duT3B0aW9uXyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG51bGxPcHRpb249bnVsbE9wdGlvbl8sdW5rbm93bk9wdGlvbj11bmtub3duT3B0aW9uX30sc2VsZi5hZGRPcHRpb249ZnVuY3Rpb24odmFsdWUsZWxlbWVudCl7YXNzZXJ0Tm90SGFzT3duUHJvcGVydHkodmFsdWUsJyJvcHRpb24gdmFsdWUiJyksb3B0aW9uc01hcFt2YWx1ZV09ITAsbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZT09dmFsdWUmJigkZWxlbWVudC52YWwodmFsdWUpLHVua25vd25PcHRpb24ucGFyZW50KCkmJnVua25vd25PcHRpb24ucmVtb3ZlKCkpLGVsZW1lbnQmJmVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCJzZWxlY3RlZCIpJiYoZWxlbWVudFswXS5zZWxlY3RlZD0hMCl9LHNlbGYucmVtb3ZlT3B0aW9uPWZ1bmN0aW9uKHZhbHVlKXt0aGlzLmhhc09wdGlvbih2YWx1ZSkmJihkZWxldGUgb3B0aW9uc01hcFt2YWx1ZV0sbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZT09dmFsdWUmJnRoaXMucmVuZGVyVW5rbm93bk9wdGlvbih2YWx1ZSkpfSxzZWxmLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24odmFsKXt2YXIgdW5rbm93blZhbD0iPyAiK2hhc2hLZXkodmFsKSsiID8iO3Vua25vd25PcHRpb24udmFsKHVua25vd25WYWwpLCRlbGVtZW50LnByZXBlbmQodW5rbm93bk9wdGlvbiksJGVsZW1lbnQudmFsKHVua25vd25WYWwpLHVua25vd25PcHRpb24ucHJvcCgic2VsZWN0ZWQiLCEwKX0sc2VsZi5oYXNPcHRpb249ZnVuY3Rpb24odmFsdWUpe3JldHVybiBvcHRpb25zTWFwLmhhc093blByb3BlcnR5KHZhbHVlKX0sJHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7c2VsZi5yZW5kZXJVbmtub3duT3B0aW9uPW5vb3B9KX1dLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGN0cmxzKXtmdW5jdGlvbiBzZXR1cEFzU2luZ2xlKHNjb3BlLHNlbGVjdEVsZW1lbnQsbmdNb2RlbEN0cmwsc2VsZWN0Q3RybCl7bmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciB2aWV3VmFsdWU9bmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtzZWxlY3RDdHJsLmhhc09wdGlvbih2aWV3VmFsdWUpPyh1bmtub3duT3B0aW9uLnBhcmVudCgpJiZ1bmtub3duT3B0aW9uLnJlbW92ZSgpLHNlbGVjdEVsZW1lbnQudmFsKHZpZXdWYWx1ZSksIiI9PT12aWV3VmFsdWUmJmVtcHR5T3B0aW9uLnByb3AoInNlbGVjdGVkIiwhMCkpOmlzVW5kZWZpbmVkKHZpZXdWYWx1ZSkmJmVtcHR5T3B0aW9uP3NlbGVjdEVsZW1lbnQudmFsKCIiKTpzZWxlY3RDdHJsLnJlbmRlclVua25vd25PcHRpb24odmlld1ZhbHVlKX0sc2VsZWN0RWxlbWVudC5vbigiY2hhbmdlIixmdW5jdGlvbigpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe3Vua25vd25PcHRpb24ucGFyZW50KCkmJnVua25vd25PcHRpb24ucmVtb3ZlKCksbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxlY3RFbGVtZW50LnZhbCgpKX0pfSl9ZnVuY3Rpb24gc2V0dXBBc011bHRpcGxlKHNjb3BlLHNlbGVjdEVsZW1lbnQsY3RybCl7dmFyIGxhc3RWaWV3O2N0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciBpdGVtcz1uZXcgSGFzaE1hcChjdHJsLiR2aWV3VmFsdWUpO2ZvckVhY2goc2VsZWN0RWxlbWVudC5maW5kKCJvcHRpb24iKSxmdW5jdGlvbihvcHRpb24pe29wdGlvbi5zZWxlY3RlZD1pc0RlZmluZWQoaXRlbXMuZ2V0KG9wdGlvbi52YWx1ZSkpfSl9LHNjb3BlLiR3YXRjaChmdW5jdGlvbigpe2VxdWFscyhsYXN0VmlldyxjdHJsLiR2aWV3VmFsdWUpfHwobGFzdFZpZXc9c2hhbGxvd0NvcHkoY3RybC4kdmlld1ZhbHVlKSxjdHJsLiRyZW5kZXIoKSl9KSxzZWxlY3RFbGVtZW50Lm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIGFycmF5PVtdO2ZvckVhY2goc2VsZWN0RWxlbWVudC5maW5kKCJvcHRpb24iKSxmdW5jdGlvbihvcHRpb24pe29wdGlvbi5zZWxlY3RlZCYmYXJyYXkucHVzaChvcHRpb24udmFsdWUpfSksY3RybC4kc2V0Vmlld1ZhbHVlKGFycmF5KX0pfSl9ZnVuY3Rpb24gc2V0dXBBc09wdGlvbnMoc2NvcGUsc2VsZWN0RWxlbWVudCxjdHJsKXtmdW5jdGlvbiBjYWxsRXhwcmVzc2lvbihleHByRm4sa2V5LHZhbHVlKXtyZXR1cm4gbG9jYWxzW3ZhbHVlTmFtZV09dmFsdWUsa2V5TmFtZSYmKGxvY2Fsc1trZXlOYW1lXT1rZXkpLGV4cHJGbihzY29wZSxsb2NhbHMpfWZ1bmN0aW9uIHNlbGVjdGlvbkNoYW5nZWQoKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXt2YXIgdmlld1ZhbHVlLGNvbGxlY3Rpb249dmFsdWVzRm4oc2NvcGUpfHxbXTtpZihtdWx0aXBsZSl2aWV3VmFsdWU9W10sZm9yRWFjaChzZWxlY3RFbGVtZW50LnZhbCgpLGZ1bmN0aW9uKHNlbGVjdGVkS2V5KXt2aWV3VmFsdWUucHVzaChnZXRWaWV3VmFsdWUoc2VsZWN0ZWRLZXksY29sbGVjdGlvbltzZWxlY3RlZEtleV0pKX0pO2Vsc2V7dmFyIHNlbGVjdGVkS2V5PXNlbGVjdEVsZW1lbnQudmFsKCk7dmlld1ZhbHVlPWdldFZpZXdWYWx1ZShzZWxlY3RlZEtleSxjb2xsZWN0aW9uW3NlbGVjdGVkS2V5XSl9Y3RybC4kc2V0Vmlld1ZhbHVlKHZpZXdWYWx1ZSkscmVuZGVyKCl9KX1mdW5jdGlvbiBnZXRWaWV3VmFsdWUoa2V5LHZhbHVlKXtpZigiPyI9PT1rZXkpcmV0dXJuIHVuZGVmaW5lZDtpZigiIj09PWtleSlyZXR1cm4gbnVsbDt2YXIgdmlld1ZhbHVlRm49c2VsZWN0QXNGbj9zZWxlY3RBc0ZuOnZhbHVlRm47cmV0dXJuIGNhbGxFeHByZXNzaW9uKHZpZXdWYWx1ZUZuLGtleSx2YWx1ZSl9ZnVuY3Rpb24gZ2V0TGFiZWxzKCl7dmFyIHRvRGlzcGxheSx2YWx1ZXM9dmFsdWVzRm4oc2NvcGUpO2lmKHZhbHVlcyYmaXNBcnJheSh2YWx1ZXMpKXt0b0Rpc3BsYXk9bmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO2Zvcih2YXIgaT0wLGlpPXZhbHVlcy5sZW5ndGg7aWk+aTtpKyspdG9EaXNwbGF5W2ldPWNhbGxFeHByZXNzaW9uKGRpc3BsYXlGbixpLHZhbHVlc1tpXSk7cmV0dXJuIHRvRGlzcGxheX1pZih2YWx1ZXMpe3RvRGlzcGxheT17fTtmb3IodmFyIHByb3AgaW4gdmFsdWVzKXZhbHVlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSYmKHRvRGlzcGxheVtwcm9wXT1jYWxsRXhwcmVzc2lvbihkaXNwbGF5Rm4scHJvcCx2YWx1ZXNbcHJvcF0pKX1yZXR1cm4gdG9EaXNwbGF5fWZ1bmN0aW9uIGNyZWF0ZUlzU2VsZWN0ZWRGbih2aWV3VmFsdWUpe3ZhciBzZWxlY3RlZFNldDtpZihtdWx0aXBsZSlpZih0cmFja0ZuJiZpc0FycmF5KHZpZXdWYWx1ZSkpe3NlbGVjdGVkU2V0PW5ldyBIYXNoTWFwKFtdKTtmb3IodmFyIHRyYWNrSW5kZXg9MDt0cmFja0luZGV4PHZpZXdWYWx1ZS5sZW5ndGg7dHJhY2tJbmRleCsrKXNlbGVjdGVkU2V0LnB1dChjYWxsRXhwcmVzc2lvbih0cmFja0ZuLG51bGwsdmlld1ZhbHVlW3RyYWNrSW5kZXhdKSwhMCl9ZWxzZSBzZWxlY3RlZFNldD1uZXcgSGFzaE1hcCh2aWV3VmFsdWUpO2Vsc2UgdHJhY2tGbiYmKHZpZXdWYWx1ZT1jYWxsRXhwcmVzc2lvbih0cmFja0ZuLG51bGwsdmlld1ZhbHVlKSk7cmV0dXJuIGZ1bmN0aW9uKGtleSx2YWx1ZSl7dmFyIGNvbXBhcmVWYWx1ZUZuO3JldHVybiBjb21wYXJlVmFsdWVGbj10cmFja0ZuP3RyYWNrRm46c2VsZWN0QXNGbj9zZWxlY3RBc0ZuOnZhbHVlRm4sbXVsdGlwbGU/aXNEZWZpbmVkKHNlbGVjdGVkU2V0LnJlbW92ZShjYWxsRXhwcmVzc2lvbihjb21wYXJlVmFsdWVGbixrZXksdmFsdWUpKSk6dmlld1ZhbHVlPT1jYWxsRXhwcmVzc2lvbihjb21wYXJlVmFsdWVGbixrZXksdmFsdWUpfX1mdW5jdGlvbiBzY2hlZHVsZVJlbmRlcmluZygpe3JlbmRlclNjaGVkdWxlZHx8KHNjb3BlLiQkcG9zdERpZ2VzdChyZW5kZXIpLHJlbmRlclNjaGVkdWxlZD0hMCl9ZnVuY3Rpb24gdXBkYXRlTGFiZWxNYXAobGFiZWxNYXAsbGFiZWwsYWRkZWQpe2xhYmVsTWFwW2xhYmVsXT1sYWJlbE1hcFtsYWJlbF18fDAsbGFiZWxNYXBbbGFiZWxdKz1hZGRlZD8xOi0xfWZ1bmN0aW9uIHJlbmRlcigpe3JlbmRlclNjaGVkdWxlZD0hMTt2YXIgb3B0aW9uR3JvdXBOYW1lLG9wdGlvbkdyb3VwLG9wdGlvbixleGlzdGluZ1BhcmVudCxleGlzdGluZ09wdGlvbnMsZXhpc3RpbmdPcHRpb24sa2V5LHZhbHVlLGdyb3VwTGVuZ3RoLGxlbmd0aCxncm91cEluZGV4LGluZGV4LHNlbGVjdGVkLGxhc3RFbGVtZW50LGVsZW1lbnQsbGFiZWwsb3B0aW9uR3JvdXBzPXsiIjpbXX0sb3B0aW9uR3JvdXBOYW1lcz1bIiJdLHZpZXdWYWx1ZT1jdHJsLiR2aWV3VmFsdWUsdmFsdWVzPXZhbHVlc0ZuKHNjb3BlKXx8W10sa2V5cz1rZXlOYW1lP3NvcnRlZEtleXModmFsdWVzKTp2YWx1ZXMsbGFiZWxNYXA9e30saXNTZWxlY3RlZD1jcmVhdGVJc1NlbGVjdGVkRm4odmlld1ZhbHVlKSxhbnlTZWxlY3RlZD0hMTtmb3IoaW5kZXg9MDtsZW5ndGg9a2V5cy5sZW5ndGgsbGVuZ3RoPmluZGV4O2luZGV4Kyspa2V5PWluZGV4LGtleU5hbWUmJihrZXk9a2V5c1tpbmRleF0sIiQiPT09a2V5LmNoYXJBdCgwKSl8fCh2YWx1ZT12YWx1ZXNba2V5XSxvcHRpb25Hcm91cE5hbWU9Y2FsbEV4cHJlc3Npb24oZ3JvdXBCeUZuLGtleSx2YWx1ZSl8fCIiLChvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXSl8fChvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXT1bXSxvcHRpb25Hcm91cE5hbWVzLnB1c2gob3B0aW9uR3JvdXBOYW1lKSksc2VsZWN0ZWQ9aXNTZWxlY3RlZChrZXksdmFsdWUpLGFueVNlbGVjdGVkPWFueVNlbGVjdGVkfHxzZWxlY3RlZCxsYWJlbD1jYWxsRXhwcmVzc2lvbihkaXNwbGF5Rm4sa2V5LHZhbHVlKSxsYWJlbD1pc0RlZmluZWQobGFiZWwpP2xhYmVsOiIiLG9wdGlvbkdyb3VwLnB1c2goe2lkOmtleU5hbWU/a2V5c1tpbmRleF06aW5kZXgsbGFiZWw6bGFiZWwsc2VsZWN0ZWQ6c2VsZWN0ZWR9KSk7Zm9yKG11bHRpcGxlfHwobnVsbE9wdGlvbnx8bnVsbD09PXZpZXdWYWx1ZT9vcHRpb25Hcm91cHNbIiJdLnVuc2hpZnQoe2lkOiIiLGxhYmVsOiIiLHNlbGVjdGVkOiFhbnlTZWxlY3RlZH0pOmFueVNlbGVjdGVkfHxvcHRpb25Hcm91cHNbIiJdLnVuc2hpZnQoe2lkOiI/IixsYWJlbDoiIixzZWxlY3RlZDohMH0pKSxncm91cEluZGV4PTAsZ3JvdXBMZW5ndGg9b3B0aW9uR3JvdXBOYW1lcy5sZW5ndGg7Z3JvdXBMZW5ndGg+Z3JvdXBJbmRleDtncm91cEluZGV4Kyspe2ZvcihvcHRpb25Hcm91cE5hbWU9b3B0aW9uR3JvdXBOYW1lc1tncm91cEluZGV4XSxvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXSxvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGg8PWdyb3VwSW5kZXg/KGV4aXN0aW5nUGFyZW50PXtlbGVtZW50Om9wdEdyb3VwVGVtcGxhdGUuY2xvbmUoKS5hdHRyKCJsYWJlbCIsb3B0aW9uR3JvdXBOYW1lKSxsYWJlbDpvcHRpb25Hcm91cC5sYWJlbH0sZXhpc3RpbmdPcHRpb25zPVtleGlzdGluZ1BhcmVudF0sb3B0aW9uR3JvdXBzQ2FjaGUucHVzaChleGlzdGluZ09wdGlvbnMpLHNlbGVjdEVsZW1lbnQuYXBwZW5kKGV4aXN0aW5nUGFyZW50LmVsZW1lbnQpKTooZXhpc3RpbmdPcHRpb25zPW9wdGlvbkdyb3Vwc0NhY2hlW2dyb3VwSW5kZXhdLGV4aXN0aW5nUGFyZW50PWV4aXN0aW5nT3B0aW9uc1swXSxleGlzdGluZ1BhcmVudC5sYWJlbCE9b3B0aW9uR3JvdXBOYW1lJiZleGlzdGluZ1BhcmVudC5lbGVtZW50LmF0dHIoImxhYmVsIixleGlzdGluZ1BhcmVudC5sYWJlbD1vcHRpb25Hcm91cE5hbWUpKSxsYXN0RWxlbWVudD1udWxsLGluZGV4PTAsbGVuZ3RoPW9wdGlvbkdyb3VwLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKylvcHRpb249b3B0aW9uR3JvdXBbaW5kZXhdLChleGlzdGluZ09wdGlvbj1leGlzdGluZ09wdGlvbnNbaW5kZXgrMV0pPyhsYXN0RWxlbWVudD1leGlzdGluZ09wdGlvbi5lbGVtZW50LGV4aXN0aW5nT3B0aW9uLmxhYmVsIT09b3B0aW9uLmxhYmVsJiYodXBkYXRlTGFiZWxNYXAobGFiZWxNYXAsZXhpc3RpbmdPcHRpb24ubGFiZWwsITEpLHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLG9wdGlvbi5sYWJlbCwhMCksbGFzdEVsZW1lbnQudGV4dChleGlzdGluZ09wdGlvbi5sYWJlbD1vcHRpb24ubGFiZWwpKSxleGlzdGluZ09wdGlvbi5pZCE9PW9wdGlvbi5pZCYmbGFzdEVsZW1lbnQudmFsKGV4aXN0aW5nT3B0aW9uLmlkPW9wdGlvbi5pZCksbGFzdEVsZW1lbnRbMF0uc2VsZWN0ZWQhPT1vcHRpb24uc2VsZWN0ZWQmJihsYXN0RWxlbWVudC5wcm9wKCJzZWxlY3RlZCIsZXhpc3RpbmdPcHRpb24uc2VsZWN0ZWQ9b3B0aW9uLnNlbGVjdGVkKSxtc2llJiZsYXN0RWxlbWVudC5wcm9wKCJzZWxlY3RlZCIsZXhpc3RpbmdPcHRpb24uc2VsZWN0ZWQpKSk6KCIiPT09b3B0aW9uLmlkJiZudWxsT3B0aW9uP2VsZW1lbnQ9bnVsbE9wdGlvbjooZWxlbWVudD1vcHRpb25UZW1wbGF0ZS5jbG9uZSgpKS52YWwob3B0aW9uLmlkKS5wcm9wKCJzZWxlY3RlZCIsb3B0aW9uLnNlbGVjdGVkKS5hdHRyKCJzZWxlY3RlZCIsb3B0aW9uLnNlbGVjdGVkKS50ZXh0KG9wdGlvbi5sYWJlbCksZXhpc3RpbmdPcHRpb25zLnB1c2goZXhpc3RpbmdPcHRpb249e2VsZW1lbnQ6ZWxlbWVudCxsYWJlbDpvcHRpb24ubGFiZWwsaWQ6b3B0aW9uLmlkLHNlbGVjdGVkOm9wdGlvbi5zZWxlY3RlZH0pLHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLG9wdGlvbi5sYWJlbCwhMCksbGFzdEVsZW1lbnQ/bGFzdEVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk6ZXhpc3RpbmdQYXJlbnQuZWxlbWVudC5hcHBlbmQoZWxlbWVudCksbGFzdEVsZW1lbnQ9ZWxlbWVudCk7Zm9yKGluZGV4Kys7ZXhpc3RpbmdPcHRpb25zLmxlbmd0aD5pbmRleDspb3B0aW9uPWV4aXN0aW5nT3B0aW9ucy5wb3AoKSx1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCxvcHRpb24ubGFiZWwsITEpLG9wdGlvbi5lbGVtZW50LnJlbW92ZSgpO2ZvckVhY2gobGFiZWxNYXAsZnVuY3Rpb24oY291bnQsbGFiZWwpe2NvdW50PjA/c2VsZWN0Q3RybC5hZGRPcHRpb24obGFiZWwpOjA+Y291bnQmJnNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKGxhYmVsKQp9KX1mb3IoO29wdGlvbkdyb3Vwc0NhY2hlLmxlbmd0aD5ncm91cEluZGV4OylvcHRpb25Hcm91cHNDYWNoZS5wb3AoKVswXS5lbGVtZW50LnJlbW92ZSgpfXZhciBtYXRjaDtpZighKG1hdGNoPW9wdGlvbnNFeHAubWF0Y2goTkdfT1BUSU9OU19SRUdFWFApKSl0aHJvdyBuZ09wdGlvbnNNaW5FcnIoImlleHAiLCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJ19zZWxlY3RfIChhcyBfbGFiZWxfKT8gZm9yIChfa2V5XywpP192YWx1ZV8gaW4gX2NvbGxlY3Rpb25fJyBidXQgZ290ICd7MH0nLiBFbGVtZW50OiB7MX0iLG9wdGlvbnNFeHAsc3RhcnRpbmdUYWcoc2VsZWN0RWxlbWVudCkpO3ZhciBkaXNwbGF5Rm49JHBhcnNlKG1hdGNoWzJdfHxtYXRjaFsxXSksdmFsdWVOYW1lPW1hdGNoWzRdfHxtYXRjaFs2XSxzZWxlY3RBcz0vIGFzIC8udGVzdChtYXRjaFswXSkmJm1hdGNoWzFdLHNlbGVjdEFzRm49c2VsZWN0QXM/JHBhcnNlKHNlbGVjdEFzKTpudWxsLGtleU5hbWU9bWF0Y2hbNV0sZ3JvdXBCeUZuPSRwYXJzZShtYXRjaFszXXx8IiIpLHZhbHVlRm49JHBhcnNlKG1hdGNoWzJdP21hdGNoWzFdOnZhbHVlTmFtZSksdmFsdWVzRm49JHBhcnNlKG1hdGNoWzddKSx0cmFjaz1tYXRjaFs4XSx0cmFja0ZuPXRyYWNrPyRwYXJzZShtYXRjaFs4XSk6bnVsbCxvcHRpb25Hcm91cHNDYWNoZT1bW3tlbGVtZW50OnNlbGVjdEVsZW1lbnQsbGFiZWw6IiJ9XV0sbG9jYWxzPXt9O251bGxPcHRpb24mJigkY29tcGlsZShudWxsT3B0aW9uKShzY29wZSksbnVsbE9wdGlvbi5yZW1vdmVDbGFzcygibmctc2NvcGUiKSxudWxsT3B0aW9uLnJlbW92ZSgpKSxzZWxlY3RFbGVtZW50LmVtcHR5KCksc2VsZWN0RWxlbWVudC5vbigiY2hhbmdlIixzZWxlY3Rpb25DaGFuZ2VkKSxjdHJsLiRyZW5kZXI9cmVuZGVyLHNjb3BlLiR3YXRjaENvbGxlY3Rpb24odmFsdWVzRm4sc2NoZWR1bGVSZW5kZXJpbmcpLHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZ2V0TGFiZWxzLHNjaGVkdWxlUmVuZGVyaW5nKSxtdWx0aXBsZSYmc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpe3JldHVybiBjdHJsLiRtb2RlbFZhbHVlfSxzY2hlZHVsZVJlbmRlcmluZyl9aWYoY3RybHNbMV0pe2Zvcih2YXIgZW1wdHlPcHRpb24sc2VsZWN0Q3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXSxtdWx0aXBsZT1hdHRyLm11bHRpcGxlLG9wdGlvbnNFeHA9YXR0ci5uZ09wdGlvbnMsbnVsbE9wdGlvbj0hMSxyZW5kZXJTY2hlZHVsZWQ9ITEsb3B0aW9uVGVtcGxhdGU9anFMaXRlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxvcHRHcm91cFRlbXBsYXRlPWpxTGl0ZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRncm91cCIpKSx1bmtub3duT3B0aW9uPW9wdGlvblRlbXBsYXRlLmNsb25lKCksaT0wLGNoaWxkcmVuPWVsZW1lbnQuY2hpbGRyZW4oKSxpaT1jaGlsZHJlbi5sZW5ndGg7aWk+aTtpKyspaWYoIiI9PT1jaGlsZHJlbltpXS52YWx1ZSl7ZW1wdHlPcHRpb249bnVsbE9wdGlvbj1jaGlsZHJlbi5lcShpKTticmVha31zZWxlY3RDdHJsLmluaXQobmdNb2RlbEN0cmwsbnVsbE9wdGlvbix1bmtub3duT3B0aW9uKSxtdWx0aXBsZSYmKG5nTW9kZWxDdHJsLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4hdmFsdWV8fDA9PT12YWx1ZS5sZW5ndGh9KSxvcHRpb25zRXhwP3NldHVwQXNPcHRpb25zKHNjb3BlLGVsZW1lbnQsbmdNb2RlbEN0cmwpOm11bHRpcGxlP3NldHVwQXNNdWx0aXBsZShzY29wZSxlbGVtZW50LG5nTW9kZWxDdHJsKTpzZXR1cEFzU2luZ2xlKHNjb3BlLGVsZW1lbnQsbmdNb2RlbEN0cmwsc2VsZWN0Q3RybCl9fX19XSxvcHRpb25EaXJlY3RpdmU9WyIkaW50ZXJwb2xhdGUiLGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSl7dmFyIG51bGxTZWxlY3RDdHJsPXthZGRPcHRpb246bm9vcCxyZW1vdmVPcHRpb246bm9vcH07cmV0dXJue3Jlc3RyaWN0OiJFIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe2lmKGlzVW5kZWZpbmVkKGF0dHIudmFsdWUpKXt2YXIgaW50ZXJwb2xhdGVGbj0kaW50ZXJwb2xhdGUoZWxlbWVudC50ZXh0KCksITApO2ludGVycG9sYXRlRm58fGF0dHIuJHNldCgidmFsdWUiLGVsZW1lbnQudGV4dCgpKX1yZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgc2VsZWN0Q3RybE5hbWU9IiRzZWxlY3RDb250cm9sbGVyIixwYXJlbnQ9ZWxlbWVudC5wYXJlbnQoKSxzZWxlY3RDdHJsPXBhcmVudC5kYXRhKHNlbGVjdEN0cmxOYW1lKXx8cGFyZW50LnBhcmVudCgpLmRhdGEoc2VsZWN0Q3RybE5hbWUpO3NlbGVjdEN0cmwmJnNlbGVjdEN0cmwuZGF0YWJvdW5kfHwoc2VsZWN0Q3RybD1udWxsU2VsZWN0Q3RybCksaW50ZXJwb2xhdGVGbj9zY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbixmdW5jdGlvbihuZXdWYWwsb2xkVmFsKXthdHRyLiRzZXQoInZhbHVlIixuZXdWYWwpLG9sZFZhbCE9PW5ld1ZhbCYmc2VsZWN0Q3RybC5yZW1vdmVPcHRpb24ob2xkVmFsKSxzZWxlY3RDdHJsLmFkZE9wdGlvbihuZXdWYWwsZWxlbWVudCl9KTpzZWxlY3RDdHJsLmFkZE9wdGlvbihhdHRyLnZhbHVlLGVsZW1lbnQpLGVsZW1lbnQub24oIiRkZXN0cm95IixmdW5jdGlvbigpe3NlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKGF0dHIudmFsdWUpfSl9fX19XSxzdHlsZURpcmVjdGl2ZT12YWx1ZUZuKHtyZXN0cmljdDoiRSIsdGVybWluYWw6ITF9KTtyZXR1cm4gd2luZG93LmFuZ3VsYXIuYm9vdHN0cmFwP3ZvaWQgY29uc29sZS5sb2coIldBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS4iKTooYmluZEpRdWVyeSgpLHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKSx2b2lkIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXthbmd1bGFySW5pdChkb2N1bWVudCxib290c3RyYXApfSkpfSh3aW5kb3csZG9jdW1lbnQpLCF3aW5kb3cuYW5ndWxhci4kJGNzcCgpJiZ3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCJoZWFkIikucHJlcGVuZCgnPHN0eWxlIHR5cGU9InRleHQvY3NzIj5AY2hhcnNldCAiVVRGLTgiO1tuZ1xcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fTwvc3R5bGU+JyksInVuZGVmaW5lZCI9PXR5cGVvZiBqUXVlcnkpdGhyb3cgbmV3IEVycm9yKCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSIpOytmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpe3ZhciBlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJib290c3RyYXAiKSx0cmFuc0VuZEV2ZW50TmFtZXM9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9O2Zvcih2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpaWYodm9pZCAwIT09ZWwuc3R5bGVbbmFtZV0pcmV0dXJue2VuZDp0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV19O3JldHVybiExfSQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oZHVyYXRpb24pe3ZhciBjYWxsZWQ9ITEsJGVsPXRoaXM7JCh0aGlzKS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtjYWxsZWQ9ITB9KTt2YXIgY2FsbGJhY2s9ZnVuY3Rpb24oKXtjYWxsZWR8fCQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCl9O3JldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLGR1cmF0aW9uKSx0aGlzfSwkKGZ1bmN0aW9uKCl7JC5zdXBwb3J0LnRyYW5zaXRpb249dHJhbnNpdGlvbkVuZCgpLCQuc3VwcG9ydC50cmFuc2l0aW9uJiYoJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZD17YmluZFR5cGU6JC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGRlbGVnYXRlVHlwZTokLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsaGFuZGxlOmZ1bmN0aW9uKGUpe3JldHVybiAkKGUudGFyZ2V0KS5pcyh0aGlzKT9lLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmFsZXJ0Iik7ZGF0YXx8JHRoaXMuZGF0YSgiYnMuYWxlcnQiLGRhdGE9bmV3IEFsZXJ0KHRoaXMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpfSl9dmFyIGRpc21pc3M9J1tkYXRhLWRpc21pc3M9ImFsZXJ0Il0nLEFsZXJ0PWZ1bmN0aW9uKGVsKXskKGVsKS5vbigiY2xpY2siLGRpc21pc3MsdGhpcy5jbG9zZSl9O0FsZXJ0LlZFUlNJT049IjMuMi4wIixBbGVydC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpeyRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcigiY2xvc2VkLmJzLmFsZXJ0IikucmVtb3ZlKCl9dmFyICR0aGlzPSQodGhpcyksc2VsZWN0b3I9JHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKTtzZWxlY3Rvcnx8KHNlbGVjdG9yPSR0aGlzLmF0dHIoImhyZWYiKSxzZWxlY3Rvcj1zZWxlY3RvciYmc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCIiKSk7dmFyICRwYXJlbnQ9JChzZWxlY3Rvcik7ZSYmZS5wcmV2ZW50RGVmYXVsdCgpLCRwYXJlbnQubGVuZ3RofHwoJHBhcmVudD0kdGhpcy5oYXNDbGFzcygiYWxlcnQiKT8kdGhpczokdGhpcy5wYXJlbnQoKSksJHBhcmVudC50cmlnZ2VyKGU9JC5FdmVudCgiY2xvc2UuYnMuYWxlcnQiKSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KCRwYXJlbnQucmVtb3ZlQ2xhc3MoImluIiksJC5zdXBwb3J0LnRyYW5zaXRpb24mJiRwYXJlbnQuaGFzQ2xhc3MoImZhZGUiKT8kcGFyZW50Lm9uZSgiYnNUcmFuc2l0aW9uRW5kIixyZW1vdmVFbGVtZW50KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApOnJlbW92ZUVsZW1lbnQoKSl9O3ZhciBvbGQ9JC5mbi5hbGVydDskLmZuLmFsZXJ0PVBsdWdpbiwkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yPUFsZXJ0LCQuZm4uYWxlcnQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmFsZXJ0PW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuYWxlcnQuZGF0YS1hcGkiLGRpc21pc3MsQWxlcnQucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmJ1dHRvbiIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjtkYXRhfHwkdGhpcy5kYXRhKCJicy5idXR0b24iLGRhdGE9bmV3IEJ1dHRvbih0aGlzLG9wdGlvbnMpKSwidG9nZ2xlIj09b3B0aW9uP2RhdGEudG9nZ2xlKCk6b3B0aW9uJiZkYXRhLnNldFN0YXRlKG9wdGlvbil9KX12YXIgQnV0dG9uPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxCdXR0b24uREVGQVVMVFMsb3B0aW9ucyksdGhpcy5pc0xvYWRpbmc9ITF9O0J1dHRvbi5WRVJTSU9OPSIzLjIuMCIsQnV0dG9uLkRFRkFVTFRTPXtsb2FkaW5nVGV4dDoibG9hZGluZy4uLiJ9LEJ1dHRvbi5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oc3RhdGUpe3ZhciBkPSJkaXNhYmxlZCIsJGVsPXRoaXMuJGVsZW1lbnQsdmFsPSRlbC5pcygiaW5wdXQiKT8idmFsIjoiaHRtbCIsZGF0YT0kZWwuZGF0YSgpO3N0YXRlKz0iVGV4dCIsbnVsbD09ZGF0YS5yZXNldFRleHQmJiRlbC5kYXRhKCJyZXNldFRleHQiLCRlbFt2YWxdKCkpLCRlbFt2YWxdKG51bGw9PWRhdGFbc3RhdGVdP3RoaXMub3B0aW9uc1tzdGF0ZV06ZGF0YVtzdGF0ZV0pLHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpeyJsb2FkaW5nVGV4dCI9PXN0YXRlPyh0aGlzLmlzTG9hZGluZz0hMCwkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLGQpKTp0aGlzLmlzTG9hZGluZyYmKHRoaXMuaXNMb2FkaW5nPSExLCRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpKX0sdGhpcyksMCl9LEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dmFyIGNoYW5nZWQ9ITAsJHBhcmVudD10aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT0iYnV0dG9ucyJdJyk7aWYoJHBhcmVudC5sZW5ndGgpe3ZhciAkaW5wdXQ9dGhpcy4kZWxlbWVudC5maW5kKCJpbnB1dCIpOyJyYWRpbyI9PSRpbnB1dC5wcm9wKCJ0eXBlIikmJigkaW5wdXQucHJvcCgiY2hlY2tlZCIpJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJhY3RpdmUiKT9jaGFuZ2VkPSExOiRwYXJlbnQuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSksY2hhbmdlZCYmJGlucHV0LnByb3AoImNoZWNrZWQiLCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJhY3RpdmUiKSkudHJpZ2dlcigiY2hhbmdlIil9Y2hhbmdlZCYmdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygiYWN0aXZlIil9O3ZhciBvbGQ9JC5mbi5idXR0b247JC5mbi5idXR0b249UGx1Z2luLCQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yPUJ1dHRvbiwkLmZuLmJ1dHRvbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uYnV0dG9uPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlXj0iYnV0dG9uIl0nLGZ1bmN0aW9uKGUpe3ZhciAkYnRuPSQoZS50YXJnZXQpOyRidG4uaGFzQ2xhc3MoImJ0biIpfHwoJGJ0bj0kYnRuLmNsb3Nlc3QoIi5idG4iKSksUGx1Z2luLmNhbGwoJGJ0biwidG9nZ2xlIiksZS5wcmV2ZW50RGVmYXVsdCgpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5jYXJvdXNlbCIpLG9wdGlvbnM9JC5leHRlbmQoe30sQ2Fyb3VzZWwuREVGQVVMVFMsJHRoaXMuZGF0YSgpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb24pLGFjdGlvbj0ic3RyaW5nIj09dHlwZW9mIG9wdGlvbj9vcHRpb246b3B0aW9ucy5zbGlkZTtkYXRhfHwkdGhpcy5kYXRhKCJicy5jYXJvdXNlbCIsZGF0YT1uZXcgQ2Fyb3VzZWwodGhpcyxvcHRpb25zKSksIm51bWJlciI9PXR5cGVvZiBvcHRpb24/ZGF0YS50byhvcHRpb24pOmFjdGlvbj9kYXRhW2FjdGlvbl0oKTpvcHRpb25zLmludGVydmFsJiZkYXRhLnBhdXNlKCkuY3ljbGUoKX0pfXZhciBDYXJvdXNlbD1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMuJGVsZW1lbnQ9JChlbGVtZW50KS5vbigia2V5ZG93bi5icy5jYXJvdXNlbCIsJC5wcm94eSh0aGlzLmtleWRvd24sdGhpcykpLHRoaXMuJGluZGljYXRvcnM9dGhpcy4kZWxlbWVudC5maW5kKCIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIpLHRoaXMub3B0aW9ucz1vcHRpb25zLHRoaXMucGF1c2VkPXRoaXMuc2xpZGluZz10aGlzLmludGVydmFsPXRoaXMuJGFjdGl2ZT10aGlzLiRpdGVtcz1udWxsLCJob3ZlciI9PXRoaXMub3B0aW9ucy5wYXVzZSYmdGhpcy4kZWxlbWVudC5vbigibW91c2VlbnRlci5icy5jYXJvdXNlbCIsJC5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbigibW91c2VsZWF2ZS5icy5jYXJvdXNlbCIsJC5wcm94eSh0aGlzLmN5Y2xlLHRoaXMpKX07Q2Fyb3VzZWwuVkVSU0lPTj0iMy4yLjAiLENhcm91c2VsLkRFRkFVTFRTPXtpbnRlcnZhbDo1ZTMscGF1c2U6ImhvdmVyIix3cmFwOiEwfSxDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihlKXtzd2l0Y2goZS53aGljaCl7Y2FzZSAzNzp0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnRoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWUucHJldmVudERlZmF1bHQoKX0sQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlPWZ1bmN0aW9uKGUpe3JldHVybiBlfHwodGhpcy5wYXVzZWQ9ITEpLHRoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5vcHRpb25zLmludGVydmFsJiYhdGhpcy5wYXVzZWQmJih0aGlzLmludGVydmFsPXNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LHRoaXMpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpLHRoaXN9LENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXg9ZnVuY3Rpb24oaXRlbSl7cmV0dXJuIHRoaXMuJGl0ZW1zPWl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oIi5pdGVtIiksdGhpcy4kaXRlbXMuaW5kZXgoaXRlbXx8dGhpcy4kYWN0aXZlKX0sQ2Fyb3VzZWwucHJvdG90eXBlLnRvPWZ1bmN0aW9uKHBvcyl7dmFyIHRoYXQ9dGhpcyxhY3RpdmVJbmRleD10aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmU9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbS5hY3RpdmUiKSk7cmV0dXJuIHBvcz50aGlzLiRpdGVtcy5sZW5ndGgtMXx8MD5wb3M/dm9pZCAwOnRoaXMuc2xpZGluZz90aGlzLiRlbGVtZW50Lm9uZSgic2xpZC5icy5jYXJvdXNlbCIsZnVuY3Rpb24oKXt0aGF0LnRvKHBvcyl9KTphY3RpdmVJbmRleD09cG9zP3RoaXMucGF1c2UoKS5jeWNsZSgpOnRoaXMuc2xpZGUocG9zPmFjdGl2ZUluZGV4PyJuZXh0IjoicHJldiIsJCh0aGlzLiRpdGVtc1twb3NdKSl9LENhcm91c2VsLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KHRoaXMucGF1c2VkPSEwKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5uZXh0LCAucHJldiIpLmxlbmd0aCYmJC5zdXBwb3J0LnRyYW5zaXRpb24mJih0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSx0aGlzLmN5Y2xlKCEwKSksdGhpcy5pbnRlcnZhbD1jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXN9LENhcm91c2VsLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2xpZGluZz92b2lkIDA6dGhpcy5zbGlkZSgibmV4dCIpfSxDYXJvdXNlbC5wcm90b3R5cGUucHJldj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWRpbmc/dm9pZCAwOnRoaXMuc2xpZGUoInByZXYiKX0sQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlPWZ1bmN0aW9uKHR5cGUsbmV4dCl7dmFyICRhY3RpdmU9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbS5hY3RpdmUiKSwkbmV4dD1uZXh0fHwkYWN0aXZlW3R5cGVdKCksaXNDeWNsaW5nPXRoaXMuaW50ZXJ2YWwsZGlyZWN0aW9uPSJuZXh0Ij09dHlwZT8ibGVmdCI6InJpZ2h0IixmYWxsYmFjaz0ibmV4dCI9PXR5cGU/ImZpcnN0IjoibGFzdCIsdGhhdD10aGlzO2lmKCEkbmV4dC5sZW5ndGgpe2lmKCF0aGlzLm9wdGlvbnMud3JhcClyZXR1cm47JG5leHQ9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbSIpW2ZhbGxiYWNrXSgpfWlmKCRuZXh0Lmhhc0NsYXNzKCJhY3RpdmUiKSlyZXR1cm4gdGhpcy5zbGlkaW5nPSExO3ZhciByZWxhdGVkVGFyZ2V0PSRuZXh0WzBdLHNsaWRlRXZlbnQ9JC5FdmVudCgic2xpZGUuYnMuY2Fyb3VzZWwiLHtyZWxhdGVkVGFyZ2V0OnJlbGF0ZWRUYXJnZXQsZGlyZWN0aW9uOmRpcmVjdGlvbn0pO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KSwhc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYodGhpcy5zbGlkaW5nPSEwLGlzQ3ljbGluZyYmdGhpcy5wYXVzZSgpLHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKXt0aGlzLiRpbmRpY2F0b3JzLmZpbmQoIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7dmFyICRuZXh0SW5kaWNhdG9yPSQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pOyRuZXh0SW5kaWNhdG9yJiYkbmV4dEluZGljYXRvci5hZGRDbGFzcygiYWN0aXZlIil9dmFyIHNsaWRFdmVudD0kLkV2ZW50KCJzbGlkLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDpyZWxhdGVkVGFyZ2V0LGRpcmVjdGlvbjpkaXJlY3Rpb259KTtyZXR1cm4gJC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoInNsaWRlIik/KCRuZXh0LmFkZENsYXNzKHR5cGUpLCRuZXh0WzBdLm9mZnNldFdpZHRoLCRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKSwkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pLCRhY3RpdmUub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7JG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsZGlyZWN0aW9uXS5qb2luKCIgIikpLmFkZENsYXNzKCJhY3RpdmUiKSwkYWN0aXZlLnJlbW92ZUNsYXNzKFsiYWN0aXZlIixkaXJlY3Rpb25dLmpvaW4oIiAiKSksdGhhdC5zbGlkaW5nPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KX0sMCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxZTMqJGFjdGl2ZS5jc3MoInRyYW5zaXRpb24tZHVyYXRpb24iKS5zbGljZSgwLC0xKSkpOigkYWN0aXZlLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSwkbmV4dC5hZGRDbGFzcygiYWN0aXZlIiksdGhpcy5zbGlkaW5nPSExLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpKSxpc0N5Y2xpbmcmJnRoaXMuY3ljbGUoKSx0aGlzfX07dmFyIG9sZD0kLmZuLmNhcm91c2VsOyQuZm4uY2Fyb3VzZWw9UGx1Z2luLCQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3I9Q2Fyb3VzZWwsJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uY2Fyb3VzZWw9b2xkLHRoaXN9LCQoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaSIsIltkYXRhLXNsaWRlXSwgW2RhdGEtc2xpZGUtdG9dIixmdW5jdGlvbihlKXt2YXIgaHJlZiwkdGhpcz0kKHRoaXMpLCR0YXJnZXQ9JCgkdGhpcy5hdHRyKCJkYXRhLXRhcmdldCIpfHwoaHJlZj0kdGhpcy5hdHRyKCJocmVmIikpJiZocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIikpO2lmKCR0YXJnZXQuaGFzQ2xhc3MoImNhcm91c2VsIikpe3ZhciBvcHRpb25zPSQuZXh0ZW5kKHt9LCR0YXJnZXQuZGF0YSgpLCR0aGlzLmRhdGEoKSksc2xpZGVJbmRleD0kdGhpcy5hdHRyKCJkYXRhLXNsaWRlLXRvIik7c2xpZGVJbmRleCYmKG9wdGlvbnMuaW50ZXJ2YWw9ITEpLFBsdWdpbi5jYWxsKCR0YXJnZXQsb3B0aW9ucyksc2xpZGVJbmRleCYmJHRhcmdldC5kYXRhKCJicy5jYXJvdXNlbCIpLnRvKHNsaWRlSW5kZXgpLGUucHJldmVudERlZmF1bHQoKX19KSwkKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7JCgnW2RhdGEtcmlkZT0iY2Fyb3VzZWwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgJGNhcm91c2VsPSQodGhpcyk7UGx1Z2luLmNhbGwoJGNhcm91c2VsLCRjYXJvdXNlbC5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmNvbGxhcHNlIiksb3B0aW9ucz0kLmV4dGVuZCh7fSxDb2xsYXBzZS5ERUZBVUxUUywkdGhpcy5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbik7IWRhdGEmJm9wdGlvbnMudG9nZ2xlJiYic2hvdyI9PW9wdGlvbiYmKG9wdGlvbj0hb3B0aW9uKSxkYXRhfHwkdGhpcy5kYXRhKCJicy5jb2xsYXBzZSIsZGF0YT1uZXcgQ29sbGFwc2UodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpfSl9dmFyIENvbGxhcHNlPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxDb2xsYXBzZS5ERUZBVUxUUyxvcHRpb25zKSx0aGlzLnRyYW5zaXRpb25pbmc9bnVsbCx0aGlzLm9wdGlvbnMucGFyZW50JiYodGhpcy4kcGFyZW50PSQodGhpcy5vcHRpb25zLnBhcmVudCkpLHRoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9O0NvbGxhcHNlLlZFUlNJT049IjMuMi4wIixDb2xsYXBzZS5ERUZBVUxUUz17dG9nZ2xlOiEwfSxDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uPWZ1bmN0aW9uKCl7dmFyIGhhc1dpZHRoPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoIndpZHRoIik7cmV0dXJuIGhhc1dpZHRoPyJ3aWR0aCI6ImhlaWdodCJ9LENvbGxhcHNlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImluIikpe3ZhciBzdGFydEV2ZW50PSQuRXZlbnQoInNob3cuYnMuY29sbGFwc2UiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudCksIXN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBhY3RpdmVzPXRoaXMuJHBhcmVudCYmdGhpcy4kcGFyZW50LmZpbmQoIj4gLnBhbmVsID4gLmluIik7aWYoYWN0aXZlcyYmYWN0aXZlcy5sZW5ndGgpe3ZhciBoYXNEYXRhPWFjdGl2ZXMuZGF0YSgiYnMuY29sbGFwc2UiKTtpZihoYXNEYXRhJiZoYXNEYXRhLnRyYW5zaXRpb25pbmcpcmV0dXJuO1BsdWdpbi5jYWxsKGFjdGl2ZXMsImhpZGUiKSxoYXNEYXRhfHxhY3RpdmVzLmRhdGEoImJzLmNvbGxhcHNlIixudWxsKX12YXIgZGltZW5zaW9uPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpW2RpbWVuc2lvbl0oMCksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLmFkZENsYXNzKCJjb2xsYXBzZSBpbiIpW2RpbWVuc2lvbl0oIiIpLHRoaXMudHJhbnNpdGlvbmluZz0wLHRoaXMuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuY29sbGFwc2UiKX07aWYoISQuc3VwcG9ydC50cmFuc2l0aW9uKXJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpO3ZhciBzY3JvbGxTaXplPSQuY2FtZWxDYXNlKFsic2Nyb2xsIixkaW1lbnNpb25dLmpvaW4oIi0iKSk7dGhpcy4kZWxlbWVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsJC5wcm94eShjb21wbGV0ZSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pfX19LENvbGxhcHNlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiaW4iKSl7dmFyIHN0YXJ0RXZlbnQ9JC5FdmVudCgiaGlkZS5icy5jb2xsYXBzZSIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KSwhc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGRpbWVuc2lvbj10aGlzLmRpbWVuc2lvbigpO3RoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0LHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNpbmciKS5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5yZW1vdmVDbGFzcygiaW4iKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImhpZGRlbi5icy5jb2xsYXBzZSIpLnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIikuYWRkQ2xhc3MoImNvbGxhcHNlIil9O3JldHVybiAkLnN1cHBvcnQudHJhbnNpdGlvbj92b2lkIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgwKS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsJC5wcm94eShjb21wbGV0ZSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKTpjb21wbGV0ZS5jYWxsKHRoaXMpfX19LENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImluIik/ImhpZGUiOiJzaG93Il0oKX07dmFyIG9sZD0kLmZuLmNvbGxhcHNlOyQuZm4uY29sbGFwc2U9UGx1Z2luLCQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3I9Q29sbGFwc2UsJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uY29sbGFwc2U9b2xkLHRoaXN9LCQoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXScsZnVuY3Rpb24oZSl7dmFyIGhyZWYsJHRoaXM9JCh0aGlzKSx0YXJnZXQ9JHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKXx8ZS5wcmV2ZW50RGVmYXVsdCgpfHwoaHJlZj0kdGhpcy5hdHRyKCJocmVmIikpJiZocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIiksJHRhcmdldD0kKHRhcmdldCksZGF0YT0kdGFyZ2V0LmRhdGEoImJzLmNvbGxhcHNlIiksb3B0aW9uPWRhdGE/InRvZ2dsZSI6JHRoaXMuZGF0YSgpLHBhcmVudD0kdGhpcy5hdHRyKCJkYXRhLXBhcmVudCIpLCRwYXJlbnQ9cGFyZW50JiYkKHBhcmVudCk7ZGF0YSYmZGF0YS50cmFuc2l0aW9uaW5nfHwoJHBhcmVudCYmJHBhcmVudC5maW5kKCdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1bZGF0YS1wYXJlbnQ9IicrcGFyZW50KyciXScpLm5vdCgkdGhpcykuYWRkQ2xhc3MoImNvbGxhcHNlZCIpLCR0aGlzWyR0YXJnZXQuaGFzQ2xhc3MoImluIik/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgiY29sbGFwc2VkIikpLFBsdWdpbi5jYWxsKCR0YXJnZXQsb3B0aW9uKX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gY2xlYXJNZW51cyhlKXtlJiYzPT09ZS53aGljaHx8KCQoYmFja2Ryb3ApLnJlbW92ZSgpLCQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyICRwYXJlbnQ9Z2V0UGFyZW50KCQodGhpcykpLHJlbGF0ZWRUYXJnZXQ9e3JlbGF0ZWRUYXJnZXQ6dGhpc307JHBhcmVudC5oYXNDbGFzcygib3BlbiIpJiYoJHBhcmVudC50cmlnZ2VyKGU9JC5FdmVudCgiaGlkZS5icy5kcm9wZG93biIscmVsYXRlZFRhcmdldCkpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fCRwYXJlbnQucmVtb3ZlQ2xhc3MoIm9wZW4iKS50cmlnZ2VyKCJoaWRkZW4uYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpKX0pKX1mdW5jdGlvbiBnZXRQYXJlbnQoJHRoaXMpe3ZhciBzZWxlY3Rvcj0kdGhpcy5hdHRyKCJkYXRhLXRhcmdldCIpO3NlbGVjdG9yfHwoc2VsZWN0b3I9JHRoaXMuYXR0cigiaHJlZiIpLHNlbGVjdG9yPXNlbGVjdG9yJiYvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSYmc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCIiKSk7dmFyICRwYXJlbnQ9c2VsZWN0b3ImJiQoc2VsZWN0b3IpO3JldHVybiAkcGFyZW50JiYkcGFyZW50Lmxlbmd0aD8kcGFyZW50OiR0aGlzLnBhcmVudCgpfWZ1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmRyb3Bkb3duIik7ZGF0YXx8JHRoaXMuZGF0YSgiYnMuZHJvcGRvd24iLGRhdGE9bmV3IERyb3Bkb3duKHRoaXMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpfSl9dmFyIGJhY2tkcm9wPSIuZHJvcGRvd24tYmFja2Ryb3AiLHRvZ2dsZT0nW2RhdGEtdG9nZ2xlPSJkcm9wZG93biJdJyxEcm9wZG93bj1mdW5jdGlvbihlbGVtZW50KXskKGVsZW1lbnQpLm9uKCJjbGljay5icy5kcm9wZG93biIsdGhpcy50b2dnbGUpfTtEcm9wZG93bi5WRVJTSU9OPSIzLjIuMCIsRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihlKXt2YXIgJHRoaXM9JCh0aGlzKTtpZighJHRoaXMuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpe3ZhciAkcGFyZW50PWdldFBhcmVudCgkdGhpcyksaXNBY3RpdmU9JHBhcmVudC5oYXNDbGFzcygib3BlbiIpO2lmKGNsZWFyTWVudXMoKSwhaXNBY3RpdmUpeyJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYhJHBhcmVudC5jbG9zZXN0KCIubmF2YmFyLW5hdiIpLmxlbmd0aCYmJCgnPGRpdiBjbGFzcz0iZHJvcGRvd24tYmFja2Ryb3AiLz4nKS5pbnNlcnRBZnRlcigkKHRoaXMpKS5vbigiY2xpY2siLGNsZWFyTWVudXMpO3ZhciByZWxhdGVkVGFyZ2V0PXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2lmKCRwYXJlbnQudHJpZ2dlcihlPSQuRXZlbnQoInNob3cuYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjskdGhpcy50cmlnZ2VyKCJmb2N1cyIpLCRwYXJlbnQudG9nZ2xlQ2xhc3MoIm9wZW4iKS50cmlnZ2VyKCJzaG93bi5icy5kcm9wZG93biIscmVsYXRlZFRhcmdldCl9cmV0dXJuITF9fSxEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihlKXtpZigvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKXt2YXIgJHRoaXM9JCh0aGlzKTtpZihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSwhJHRoaXMuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpe3ZhciAkcGFyZW50PWdldFBhcmVudCgkdGhpcyksaXNBY3RpdmU9JHBhcmVudC5oYXNDbGFzcygib3BlbiIpO2lmKCFpc0FjdGl2ZXx8aXNBY3RpdmUmJjI3PT1lLmtleUNvZGUpcmV0dXJuIDI3PT1lLndoaWNoJiYkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCJmb2N1cyIpLCR0aGlzLnRyaWdnZXIoImNsaWNrIik7dmFyIGRlc2M9IiBsaTpub3QoLmRpdmlkZXIpOnZpc2libGUgYSIsJGl0ZW1zPSRwYXJlbnQuZmluZCgnW3JvbGU9Im1lbnUiXScrZGVzYysnLCBbcm9sZT0ibGlzdGJveCJdJytkZXNjKTtpZigkaXRlbXMubGVuZ3RoKXt2YXIgaW5kZXg9JGl0ZW1zLmluZGV4KCRpdGVtcy5maWx0ZXIoIjpmb2N1cyIpKTszOD09ZS5rZXlDb2RlJiZpbmRleD4wJiZpbmRleC0tLDQwPT1lLmtleUNvZGUmJmluZGV4PCRpdGVtcy5sZW5ndGgtMSYmaW5kZXgrKyx+aW5kZXh8fChpbmRleD0wKSwkaXRlbXMuZXEoaW5kZXgpLnRyaWdnZXIoImZvY3VzIil9fX19O3ZhciBvbGQ9JC5mbi5kcm9wZG93bjskLmZuLmRyb3Bkb3duPVBsdWdpbiwkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yPURyb3Bkb3duLCQuZm4uZHJvcGRvd24ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmRyb3Bkb3duPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLGNsZWFyTWVudXMpLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsIi5kcm9wZG93biBmb3JtIixmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfSkub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIix0b2dnbGUsRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSkub24oImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGkiLHRvZ2dsZSsnLCBbcm9sZT0ibWVudSJdLCBbcm9sZT0ibGlzdGJveCJdJyxEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bil9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLF9yZWxhdGVkVGFyZ2V0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5tb2RhbCIpLG9wdGlvbnM9JC5leHRlbmQoe30sTW9kYWwuREVGQVVMVFMsJHRoaXMuZGF0YSgpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb24pO2RhdGF8fCR0aGlzLmRhdGEoImJzLm1vZGFsIixkYXRhPW5ldyBNb2RhbCh0aGlzLG9wdGlvbnMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbj9kYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpOm9wdGlvbnMuc2hvdyYmZGF0YS5zaG93KF9yZWxhdGVkVGFyZ2V0KX0pfXZhciBNb2RhbD1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zLHRoaXMuJGJvZHk9JChkb2N1bWVudC5ib2R5KSx0aGlzLiRlbGVtZW50PSQoZWxlbWVudCksdGhpcy4kYmFja2Ryb3A9dGhpcy5pc1Nob3duPW51bGwsdGhpcy5zY3JvbGxiYXJXaWR0aD0wLHRoaXMub3B0aW9ucy5yZW1vdGUmJnRoaXMuJGVsZW1lbnQuZmluZCgiLm1vZGFsLWNvbnRlbnQiKS5sb2FkKHRoaXMub3B0aW9ucy5yZW1vdGUsJC5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQudHJpZ2dlcigibG9hZGVkLmJzLm1vZGFsIil9LHRoaXMpKX07TW9kYWwuVkVSU0lPTj0iMy4yLjAiLE1vZGFsLkRFRkFVTFRTPXtiYWNrZHJvcDohMCxrZXlib2FyZDohMCxzaG93OiEwfSxNb2RhbC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKF9yZWxhdGVkVGFyZ2V0KXtyZXR1cm4gdGhpcy5pc1Nob3duP3RoaXMuaGlkZSgpOnRoaXMuc2hvdyhfcmVsYXRlZFRhcmdldCl9LE1vZGFsLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKF9yZWxhdGVkVGFyZ2V0KXt2YXIgdGhhdD10aGlzLGU9JC5FdmVudCgic2hvdy5icy5tb2RhbCIse3JlbGF0ZWRUYXJnZXQ6X3JlbGF0ZWRUYXJnZXR9KTt0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksdGhpcy5pc1Nob3dufHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodGhpcy5pc1Nob3duPSEwLHRoaXMuY2hlY2tTY3JvbGxiYXIoKSx0aGlzLiRib2R5LmFkZENsYXNzKCJtb2RhbC1vcGVuIiksdGhpcy5zZXRTY3JvbGxiYXIoKSx0aGlzLmVzY2FwZSgpLHRoaXMuJGVsZW1lbnQub24oImNsaWNrLmRpc21pc3MuYnMubW9kYWwiLCdbZGF0YS1kaXNtaXNzPSJtb2RhbCJdJywkLnByb3h5KHRoaXMuaGlkZSx0aGlzKSksdGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe3ZhciB0cmFuc2l0aW9uPSQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik7dGhhdC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGh8fHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSksdGhhdC4kZWxlbWVudC5zaG93KCkuc2Nyb2xsVG9wKDApLHRyYW5zaXRpb24mJnRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsdGhhdC4kZWxlbWVudC5hZGRDbGFzcygiaW4iKS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpLHRoYXQuZW5mb3JjZUZvY3VzKCk7dmFyIGU9JC5FdmVudCgic2hvd24uYnMubW9kYWwiLHtyZWxhdGVkVGFyZ2V0Ol9yZWxhdGVkVGFyZ2V0fSk7dHJhbnNpdGlvbj90aGF0LiRlbGVtZW50LmZpbmQoIi5tb2RhbC1kaWFsb2ciKS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXt0aGF0LiRlbGVtZW50LnRyaWdnZXIoImZvY3VzIikudHJpZ2dlcihlKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCk6dGhhdC4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLnRyaWdnZXIoZSl9KSl9LE1vZGFsLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGUpe2UmJmUucHJldmVudERlZmF1bHQoKSxlPSQuRXZlbnQoImhpZGUuYnMubW9kYWwiKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksdGhpcy5pc1Nob3duJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHRoaXMuaXNTaG93bj0hMSx0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCJtb2RhbC1vcGVuIiksdGhpcy5yZXNldFNjcm9sbGJhcigpLHRoaXMuZXNjYXBlKCksJChkb2N1bWVudCkub2ZmKCJmb2N1c2luLmJzLm1vZGFsIiksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiaW4iKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLm9mZigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIpLCQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/dGhpcy4kZWxlbWVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsJC5wcm94eSh0aGlzLmhpZGVNb2RhbCx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKTp0aGlzLmhpZGVNb2RhbCgpKX0sTW9kYWwucHJvdG90eXBlLmVuZm9yY2VGb2N1cz1mdW5jdGlvbigpeyQoZG9jdW1lbnQpLm9mZigiZm9jdXNpbi5icy5tb2RhbCIpLm9uKCJmb2N1c2luLmJzLm1vZGFsIiwkLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuJGVsZW1lbnRbMF09PT1lLnRhcmdldHx8dGhpcy4kZWxlbWVudC5oYXMoZS50YXJnZXQpLmxlbmd0aHx8dGhpcy4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpfSx0aGlzKSl9LE1vZGFsLnByb3RvdHlwZS5lc2NhcGU9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd24mJnRoaXMub3B0aW9ucy5rZXlib2FyZD90aGlzLiRlbGVtZW50Lm9uKCJrZXl1cC5kaXNtaXNzLmJzLm1vZGFsIiwkLnByb3h5KGZ1bmN0aW9uKGUpezI3PT1lLndoaWNoJiZ0aGlzLmhpZGUoKX0sdGhpcykpOnRoaXMuaXNTaG93bnx8dGhpcy4kZWxlbWVudC5vZmYoImtleXVwLmRpc21pc3MuYnMubW9kYWwiKX0sTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbD1mdW5jdGlvbigpe3ZhciB0aGF0PXRoaXM7dGhpcy4kZWxlbWVudC5oaWRlKCksdGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe3RoYXQuJGVsZW1lbnQudHJpZ2dlcigiaGlkZGVuLmJzLm1vZGFsIil9KX0sTW9kYWwucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wPWZ1bmN0aW9uKCl7dGhpcy4kYmFja2Ryb3AmJnRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpLHRoaXMuJGJhY2tkcm9wPW51bGx9LE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcD1mdW5jdGlvbihjYWxsYmFjayl7dmFyIHRoYXQ9dGhpcyxhbmltYXRlPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKT8iZmFkZSI6IiI7aWYodGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMuYmFja2Ryb3Ape3ZhciBkb0FuaW1hdGU9JC5zdXBwb3J0LnRyYW5zaXRpb24mJmFuaW1hdGU7aWYodGhpcy4kYmFja2Ryb3A9JCgnPGRpdiBjbGFzcz0ibW9kYWwtYmFja2Ryb3AgJythbmltYXRlKyciIC8+JykuYXBwZW5kVG8odGhpcy4kYm9keSksdGhpcy4kZWxlbWVudC5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsJC5wcm94eShmdW5jdGlvbihlKXtlLnRhcmdldD09PWUuY3VycmVudFRhcmdldCYmKCJzdGF0aWMiPT10aGlzLm9wdGlvbnMuYmFja2Ryb3A/dGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pOnRoaXMuaGlkZS5jYWxsKHRoaXMpKX0sdGhpcykpLGRvQW5pbWF0ZSYmdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGgsdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoImluIiksIWNhbGxiYWNrKXJldHVybjtkb0FuaW1hdGU/dGhpcy4kYmFja2Ryb3Aub25lKCJic1RyYW5zaXRpb25FbmQiLGNhbGxiYWNrKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApOmNhbGxiYWNrKCl9ZWxzZSBpZighdGhpcy5pc1Nob3duJiZ0aGlzLiRiYWNrZHJvcCl7dGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoImluIik7dmFyIGNhbGxiYWNrUmVtb3ZlPWZ1bmN0aW9uKCl7dGhhdC5yZW1vdmVCYWNrZHJvcCgpLGNhbGxiYWNrJiZjYWxsYmFjaygpfTskLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpP3RoaXMuJGJhY2tkcm9wLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixjYWxsYmFja1JlbW92ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpjYWxsYmFja1JlbW92ZSgpfWVsc2UgY2FsbGJhY2smJmNhbGxiYWNrKCl9LE1vZGFsLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhcj1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg+PXdpbmRvdy5pbm5lcldpZHRofHwodGhpcy5zY3JvbGxiYXJXaWR0aD10aGlzLnNjcm9sbGJhcldpZHRofHx0aGlzLm1lYXN1cmVTY3JvbGxiYXIoKSl9LE1vZGFsLnByb3RvdHlwZS5zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgYm9keVBhZD1wYXJzZUludCh0aGlzLiRib2R5LmNzcygicGFkZGluZy1yaWdodCIpfHwwLDEwKTt0aGlzLnNjcm9sbGJhcldpZHRoJiZ0aGlzLiRib2R5LmNzcygicGFkZGluZy1yaWdodCIsYm9keVBhZCt0aGlzLnNjcm9sbGJhcldpZHRoKX0sTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiLCIiKX0sTW9kYWwucHJvdG90eXBlLm1lYXN1cmVTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgc2Nyb2xsRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Njcm9sbERpdi5jbGFzc05hbWU9Im1vZGFsLXNjcm9sbGJhci1tZWFzdXJlIix0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpO3ZhciBzY3JvbGxiYXJXaWR0aD1zY3JvbGxEaXYub2Zmc2V0V2lkdGgtc2Nyb2xsRGl2LmNsaWVudFdpZHRoO3JldHVybiB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKHNjcm9sbERpdiksc2Nyb2xsYmFyV2lkdGh9O3ZhciBvbGQ9JC5mbi5tb2RhbDskLmZuLm1vZGFsPVBsdWdpbiwkLmZuLm1vZGFsLkNvbnN0cnVjdG9yPU1vZGFsLCQuZm4ubW9kYWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLm1vZGFsPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMubW9kYWwuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9Im1vZGFsIl0nLGZ1bmN0aW9uKGUpe3ZhciAkdGhpcz0kKHRoaXMpLGhyZWY9JHRoaXMuYXR0cigiaHJlZiIpLCR0YXJnZXQ9JCgkdGhpcy5hdHRyKCJkYXRhLXRhcmdldCIpfHxocmVmJiZocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIikpLG9wdGlvbj0kdGFyZ2V0LmRhdGEoImJzLm1vZGFsIik/InRvZ2dsZSI6JC5leHRlbmQoe3JlbW90ZTohLyMvLnRlc3QoaHJlZikmJmhyZWZ9LCR0YXJnZXQuZGF0YSgpLCR0aGlzLmRhdGEoKSk7JHRoaXMuaXMoImEiKSYmZS5wcmV2ZW50RGVmYXVsdCgpLCR0YXJnZXQub25lKCJzaG93LmJzLm1vZGFsIixmdW5jdGlvbihzaG93RXZlbnQpe3Nob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8JHRhcmdldC5vbmUoImhpZGRlbi5icy5tb2RhbCIsZnVuY3Rpb24oKXskdGhpcy5pcygiOnZpc2libGUiKSYmJHRoaXMudHJpZ2dlcigiZm9jdXMiKX0pfSksUGx1Z2luLmNhbGwoJHRhcmdldCxvcHRpb24sdGhpcyl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLnRvb2x0aXAiKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247KGRhdGF8fCJkZXN0cm95IiE9b3B0aW9uKSYmKGRhdGF8fCR0aGlzLmRhdGEoImJzLnRvb2x0aXAiLGRhdGE9bmV3IFRvb2x0aXAodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpKX0pfXZhciBUb29sdGlwPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy50eXBlPXRoaXMub3B0aW9ucz10aGlzLmVuYWJsZWQ9dGhpcy50aW1lb3V0PXRoaXMuaG92ZXJTdGF0ZT10aGlzLiRlbGVtZW50PW51bGwsdGhpcy5pbml0KCJ0b29sdGlwIixlbGVtZW50LG9wdGlvbnMpfTtUb29sdGlwLlZFUlNJT049IjMuMi4wIixUb29sdGlwLkRFRkFVTFRTPXthbmltYXRpb246ITAscGxhY2VtZW50OiJ0b3AiLHNlbGVjdG9yOiExLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJ0b29sdGlwIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48L2Rpdj48L2Rpdj4nLHRyaWdnZXI6ImhvdmVyIGZvY3VzIix0aXRsZToiIixkZWxheTowLGh0bWw6ITEsY29udGFpbmVyOiExLHZpZXdwb3J0OntzZWxlY3RvcjoiYm9keSIscGFkZGluZzowfX0sVG9vbHRpcC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0eXBlLGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5lbmFibGVkPSEwLHRoaXMudHlwZT10eXBlLHRoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLm9wdGlvbnM9dGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpLHRoaXMuJHZpZXdwb3J0PXRoaXMub3B0aW9ucy52aWV3cG9ydCYmJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3J8fHRoaXMub3B0aW9ucy52aWV3cG9ydCk7Zm9yKHZhciB0cmlnZ2Vycz10aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgiICIpLGk9dHJpZ2dlcnMubGVuZ3RoO2ktLTspe3ZhciB0cmlnZ2VyPXRyaWdnZXJzW2ldO2lmKCJjbGljayI9PXRyaWdnZXIpdGhpcy4kZWxlbWVudC5vbigiY2xpY2suIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLCQucHJveHkodGhpcy50b2dnbGUsdGhpcykpO2Vsc2UgaWYoIm1hbnVhbCIhPXRyaWdnZXIpe3ZhciBldmVudEluPSJob3ZlciI9PXRyaWdnZXI/Im1vdXNlZW50ZXIiOiJmb2N1c2luIixldmVudE91dD0iaG92ZXIiPT10cmlnZ2VyPyJtb3VzZWxlYXZlIjoiZm9jdXNvdXQiO3RoaXMuJGVsZW1lbnQub24oZXZlbnRJbisiLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvciwkLnByb3h5KHRoaXMuZW50ZXIsdGhpcykpLHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQrIi4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsJC5wcm94eSh0aGlzLmxlYXZlLHRoaXMpKX19dGhpcy5vcHRpb25zLnNlbGVjdG9yP3RoaXMuX29wdGlvbnM9JC5leHRlbmQoe30sdGhpcy5vcHRpb25zLHt0cmlnZ2VyOiJtYW51YWwiLHNlbGVjdG9yOiIifSk6dGhpcy5maXhUaXRsZSgpfSxUb29sdGlwLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBUb29sdGlwLkRFRkFVTFRTfSxUb29sdGlwLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiBvcHRpb25zPSQuZXh0ZW5kKHt9LHRoaXMuZ2V0RGVmYXVsdHMoKSx0aGlzLiRlbGVtZW50LmRhdGEoKSxvcHRpb25zKSxvcHRpb25zLmRlbGF5JiYibnVtYmVyIj09dHlwZW9mIG9wdGlvbnMuZGVsYXkmJihvcHRpb25zLmRlbGF5PXtzaG93Om9wdGlvbnMuZGVsYXksaGlkZTpvcHRpb25zLmRlbGF5fSksb3B0aW9uc30sVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIG9wdGlvbnM9e30sZGVmYXVsdHM9dGhpcy5nZXREZWZhdWx0cygpO3JldHVybiB0aGlzLl9vcHRpb25zJiYkLmVhY2godGhpcy5fb3B0aW9ucyxmdW5jdGlvbihrZXksdmFsdWUpe2RlZmF1bHRzW2tleV0hPXZhbHVlJiYob3B0aW9uc1trZXldPXZhbHVlKX0pLG9wdGlvbnN9LFRvb2x0aXAucHJvdG90eXBlLmVudGVyPWZ1bmN0aW9uKG9iail7dmFyIHNlbGY9b2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9vYmo6JChvYmouY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUpO3JldHVybiBzZWxmfHwoc2VsZj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSwkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxzZWxmKSksY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dCksc2VsZi5ob3ZlclN0YXRlPSJpbiIsc2VsZi5vcHRpb25zLmRlbGF5JiZzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdz92b2lkKHNlbGYudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ImluIj09c2VsZi5ob3ZlclN0YXRlJiZzZWxmLnNob3coKX0sc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpKTpzZWxmLnNob3coKX0sVG9vbHRpcC5wcm90b3R5cGUubGVhdmU9ZnVuY3Rpb24ob2JqKXt2YXIgc2VsZj1vYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP29iajokKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7cmV0dXJuIHNlbGZ8fChzZWxmPW5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLCQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlLHNlbGYpKSxjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KSxzZWxmLmhvdmVyU3RhdGU9Im91dCIsc2VsZi5vcHRpb25zLmRlbGF5JiZzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZT92b2lkKHNlbGYudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Im91dCI9PXNlbGYuaG92ZXJTdGF0ZSYmc2VsZi5oaWRlKCl9LHNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSk6c2VsZi5oaWRlKCl9LFRvb2x0aXAucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgZT0kLkV2ZW50KCJzaG93LmJzLiIrdGhpcy50eXBlKTtpZih0aGlzLmhhc0NvbnRlbnQoKSYmdGhpcy5lbmFibGVkKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSk7dmFyIGluRG9tPSQuY29udGFpbnMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuJGVsZW1lbnRbMF0pO2lmKGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFpbkRvbSlyZXR1cm47dmFyIHRoYXQ9dGhpcywkdGlwPXRoaXMudGlwKCksdGlwSWQ9dGhpcy5nZXRVSUQodGhpcy50eXBlKTt0aGlzLnNldENvbnRlbnQoKSwkdGlwLmF0dHIoImlkIix0aXBJZCksdGhpcy4kZWxlbWVudC5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iix0aXBJZCksdGhpcy5vcHRpb25zLmFuaW1hdGlvbiYmJHRpcC5hZGRDbGFzcygiZmFkZSIpO3ZhciBwbGFjZW1lbnQ9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQ/dGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsJHRpcFswXSx0aGlzLiRlbGVtZW50WzBdKTp0aGlzLm9wdGlvbnMucGxhY2VtZW50LGF1dG9Ub2tlbj0vXHM/YXV0bz9ccz8vaSxhdXRvUGxhY2U9YXV0b1Rva2VuLnRlc3QocGxhY2VtZW50KTthdXRvUGxhY2UmJihwbGFjZW1lbnQ9cGxhY2VtZW50LnJlcGxhY2UoYXV0b1Rva2VuLCIiKXx8InRvcCIpLCR0aXAuZGV0YWNoKCkuY3NzKHt0b3A6MCxsZWZ0OjAsZGlzcGxheToiYmxvY2sifSkuYWRkQ2xhc3MocGxhY2VtZW50KS5kYXRhKCJicy4iK3RoaXMudHlwZSx0aGlzKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyPyR0aXAuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcik6JHRpcC5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KTt2YXIgcG9zPXRoaXMuZ2V0UG9zaXRpb24oKSxhY3R1YWxXaWR0aD0kdGlwWzBdLm9mZnNldFdpZHRoLGFjdHVhbEhlaWdodD0kdGlwWzBdLm9mZnNldEhlaWdodDtpZihhdXRvUGxhY2Upe3ZhciBvcmdQbGFjZW1lbnQ9cGxhY2VtZW50LCRwYXJlbnQ9dGhpcy4kZWxlbWVudC5wYXJlbnQoKSxwYXJlbnREaW09dGhpcy5nZXRQb3NpdGlvbigkcGFyZW50KTtwbGFjZW1lbnQ9ImJvdHRvbSI9PXBsYWNlbWVudCYmcG9zLnRvcCtwb3MuaGVpZ2h0K2FjdHVhbEhlaWdodC1wYXJlbnREaW0uc2Nyb2xsPnBhcmVudERpbS5oZWlnaHQ/InRvcCI6InRvcCI9PXBsYWNlbWVudCYmcG9zLnRvcC1wYXJlbnREaW0uc2Nyb2xsLWFjdHVhbEhlaWdodDwwPyJib3R0b20iOiJyaWdodCI9PXBsYWNlbWVudCYmcG9zLnJpZ2h0K2FjdHVhbFdpZHRoPnBhcmVudERpbS53aWR0aD8ibGVmdCI6ImxlZnQiPT1wbGFjZW1lbnQmJnBvcy5sZWZ0LWFjdHVhbFdpZHRoPHBhcmVudERpbS5sZWZ0PyJyaWdodCI6cGxhY2VtZW50LCR0aXAucmVtb3ZlQ2xhc3Mob3JnUGxhY2VtZW50KS5hZGRDbGFzcyhwbGFjZW1lbnQpfXZhciBjYWxjdWxhdGVkT2Zmc2V0PXRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQscG9zLGFjdHVhbFdpZHRoLGFjdHVhbEhlaWdodCk7dGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LHBsYWNlbWVudCk7dmFyIGNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC50cmlnZ2VyKCJzaG93bi5icy4iK3RoYXQudHlwZSksdGhhdC5ob3ZlclN0YXRlPW51bGx9OyQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiR0aXAuaGFzQ2xhc3MoImZhZGUiKT8kdGlwLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpjb21wbGV0ZSgpfX0sVG9vbHRpcC5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQ9ZnVuY3Rpb24ob2Zmc2V0LHBsYWNlbWVudCl7dmFyICR0aXA9dGhpcy50aXAoKSx3aWR0aD0kdGlwWzBdLm9mZnNldFdpZHRoLGhlaWdodD0kdGlwWzBdLm9mZnNldEhlaWdodCxtYXJnaW5Ub3A9cGFyc2VJbnQoJHRpcC5jc3MoIm1hcmdpbi10b3AiKSwxMCksbWFyZ2luTGVmdD1wYXJzZUludCgkdGlwLmNzcygibWFyZ2luLWxlZnQiKSwxMCk7aXNOYU4obWFyZ2luVG9wKSYmKG1hcmdpblRvcD0wKSxpc05hTihtYXJnaW5MZWZ0KSYmKG1hcmdpbkxlZnQ9MCksb2Zmc2V0LnRvcD1vZmZzZXQudG9wK21hcmdpblRvcCxvZmZzZXQubGVmdD1vZmZzZXQubGVmdCttYXJnaW5MZWZ0LCQub2Zmc2V0LnNldE9mZnNldCgkdGlwWzBdLCQuZXh0ZW5kKHt1c2luZzpmdW5jdGlvbihwcm9wcyl7JHRpcC5jc3Moe3RvcDpNYXRoLnJvdW5kKHByb3BzLnRvcCksbGVmdDpNYXRoLnJvdW5kKHByb3BzLmxlZnQpfSl9fSxvZmZzZXQpLDApLCR0aXAuYWRkQ2xhc3MoImluIik7dmFyIGFjdHVhbFdpZHRoPSR0aXBbMF0ub2Zmc2V0V2lkdGgsYWN0dWFsSGVpZ2h0PSR0aXBbMF0ub2Zmc2V0SGVpZ2h0OyJ0b3AiPT1wbGFjZW1lbnQmJmFjdHVhbEhlaWdodCE9aGVpZ2h0JiYob2Zmc2V0LnRvcD1vZmZzZXQudG9wK2hlaWdodC1hY3R1YWxIZWlnaHQpO3ZhciBkZWx0YT10aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShwbGFjZW1lbnQsb2Zmc2V0LGFjdHVhbFdpZHRoLGFjdHVhbEhlaWdodCk7ZGVsdGEubGVmdD9vZmZzZXQubGVmdCs9ZGVsdGEubGVmdDpvZmZzZXQudG9wKz1kZWx0YS50b3A7dmFyIGFycm93RGVsdGE9ZGVsdGEubGVmdD8yKmRlbHRhLmxlZnQtd2lkdGgrYWN0dWFsV2lkdGg6MipkZWx0YS50b3AtaGVpZ2h0K2FjdHVhbEhlaWdodCxhcnJvd1Bvc2l0aW9uPWRlbHRhLmxlZnQ/ImxlZnQiOiJ0b3AiLGFycm93T2Zmc2V0UG9zaXRpb249ZGVsdGEubGVmdD8ib2Zmc2V0V2lkdGgiOiJvZmZzZXRIZWlnaHQiOyR0aXAub2Zmc2V0KG9mZnNldCksdGhpcy5yZXBsYWNlQXJyb3coYXJyb3dEZWx0YSwkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLGFycm93UG9zaXRpb24pfSxUb29sdGlwLnByb3RvdHlwZS5yZXBsYWNlQXJyb3c9ZnVuY3Rpb24oZGVsdGEsZGltZW5zaW9uLHBvc2l0aW9uKXt0aGlzLmFycm93KCkuY3NzKHBvc2l0aW9uLGRlbHRhPzUwKigxLWRlbHRhL2RpbWVuc2lvbikrIiUiOiIiKX0sVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciAkdGlwPXRoaXMudGlwKCksdGl0bGU9dGhpcy5nZXRUaXRsZSgpOyR0aXAuZmluZCgiLnRvb2x0aXAtaW5uZXIiKVt0aGlzLm9wdGlvbnMuaHRtbD8iaHRtbCI6InRleHQiXSh0aXRsZSksJHRpcC5yZW1vdmVDbGFzcygiZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQiKX0sVG9vbHRpcC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGNvbXBsZXRlKCl7ImluIiE9dGhhdC5ob3ZlclN0YXRlJiYkdGlwLmRldGFjaCgpLHRoYXQuJGVsZW1lbnQudHJpZ2dlcigiaGlkZGVuLmJzLiIrdGhhdC50eXBlKX12YXIgdGhhdD10aGlzLCR0aXA9dGhpcy50aXAoKSxlPSQuRXZlbnQoImhpZGUuYnMuIit0aGlzLnR5cGUpO3JldHVybiB0aGlzLiRlbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KCR0aXAucmVtb3ZlQ2xhc3MoImluIiksJC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJHRpcC5oYXNDbGFzcygiZmFkZSIpPyR0aXAub25lKCJic1RyYW5zaXRpb25FbmQiLGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApOmNvbXBsZXRlKCksdGhpcy5ob3ZlclN0YXRlPW51bGwsdGhpcyl9LFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlPWZ1bmN0aW9uKCl7dmFyICRlPXRoaXMuJGVsZW1lbnQ7KCRlLmF0dHIoInRpdGxlIil8fCJzdHJpbmciIT10eXBlb2YgJGUuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIpKSYmJGUuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIsJGUuYXR0cigidGl0bGUiKXx8IiIpLmF0dHIoInRpdGxlIiwiIil9LFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfSxUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigkZWxlbWVudCl7JGVsZW1lbnQ9JGVsZW1lbnR8fHRoaXMuJGVsZW1lbnQ7dmFyIGVsPSRlbGVtZW50WzBdLGlzQm9keT0iQk9EWSI9PWVsLnRhZ05hbWU7cmV0dXJuICQuZXh0ZW5kKHt9LCJmdW5jdGlvbiI9PXR5cGVvZiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/ZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6bnVsbCx7c2Nyb2xsOmlzQm9keT9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDokZWxlbWVudC5zY3JvbGxUb3AoKSx3aWR0aDppc0JvZHk/JCh3aW5kb3cpLndpZHRoKCk6JGVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDppc0JvZHk/JCh3aW5kb3cpLmhlaWdodCgpOiRlbGVtZW50Lm91dGVySGVpZ2h0KCl9LGlzQm9keT97dG9wOjAsbGVmdDowfTokZWxlbWVudC5vZmZzZXQoKSl9LFRvb2x0aXAucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQ9ZnVuY3Rpb24ocGxhY2VtZW50LHBvcyxhY3R1YWxXaWR0aCxhY3R1YWxIZWlnaHQpe3JldHVybiJib3R0b20iPT1wbGFjZW1lbnQ/e3RvcDpwb3MudG9wK3Bvcy5oZWlnaHQsbGVmdDpwb3MubGVmdCtwb3Mud2lkdGgvMi1hY3R1YWxXaWR0aC8yfToidG9wIj09cGxhY2VtZW50P3t0b3A6cG9zLnRvcC1hY3R1YWxIZWlnaHQsbGVmdDpwb3MubGVmdCtwb3Mud2lkdGgvMi1hY3R1YWxXaWR0aC8yfToibGVmdCI9PXBsYWNlbWVudD97dG9wOnBvcy50b3ArcG9zLmhlaWdodC8yLWFjdHVhbEhlaWdodC8yLGxlZnQ6cG9zLmxlZnQtYWN0dWFsV2lkdGh9Ont0b3A6cG9zLnRvcCtwb3MuaGVpZ2h0LzItYWN0dWFsSGVpZ2h0LzIsbGVmdDpwb3MubGVmdCtwb3Mud2lkdGh9fSxUb29sdGlwLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGE9ZnVuY3Rpb24ocGxhY2VtZW50LHBvcyxhY3R1YWxXaWR0aCxhY3R1YWxIZWlnaHQpe3ZhciBkZWx0YT17dG9wOjAsbGVmdDowfTtpZighdGhpcy4kdmlld3BvcnQpcmV0dXJuIGRlbHRhO3ZhciB2aWV3cG9ydFBhZGRpbmc9dGhpcy5vcHRpb25zLnZpZXdwb3J0JiZ0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZ3x8MCx2aWV3cG9ydERpbWVuc2lvbnM9dGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydCk7aWYoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSl7dmFyIHRvcEVkZ2VPZmZzZXQ9cG9zLnRvcC12aWV3cG9ydFBhZGRpbmctdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCxib3R0b21FZGdlT2Zmc2V0PXBvcy50b3Ardmlld3BvcnRQYWRkaW5nLXZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwrYWN0dWFsSGVpZ2h0O3RvcEVkZ2VPZmZzZXQ8dmlld3BvcnREaW1lbnNpb25zLnRvcD9kZWx0YS50b3A9dmlld3BvcnREaW1lbnNpb25zLnRvcC10b3BFZGdlT2Zmc2V0OmJvdHRvbUVkZ2VPZmZzZXQ+dmlld3BvcnREaW1lbnNpb25zLnRvcCt2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0JiYoZGVsdGEudG9wPXZpZXdwb3J0RGltZW5zaW9ucy50b3Ardmlld3BvcnREaW1lbnNpb25zLmhlaWdodC1ib3R0b21FZGdlT2Zmc2V0KX1lbHNle3ZhciBsZWZ0RWRnZU9mZnNldD1wb3MubGVmdC12aWV3cG9ydFBhZGRpbmcscmlnaHRFZGdlT2Zmc2V0PXBvcy5sZWZ0K3ZpZXdwb3J0UGFkZGluZythY3R1YWxXaWR0aDtsZWZ0RWRnZU9mZnNldDx2aWV3cG9ydERpbWVuc2lvbnMubGVmdD9kZWx0YS5sZWZ0PXZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0LWxlZnRFZGdlT2Zmc2V0OnJpZ2h0RWRnZU9mZnNldD52aWV3cG9ydERpbWVuc2lvbnMud2lkdGgmJihkZWx0YS5sZWZ0PXZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0K3ZpZXdwb3J0RGltZW5zaW9ucy53aWR0aC1yaWdodEVkZ2VPZmZzZXQpfXJldHVybiBkZWx0YX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXt2YXIgdGl0bGUsJGU9dGhpcy4kZWxlbWVudCxvPXRoaXMub3B0aW9ucztyZXR1cm4gdGl0bGU9JGUuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIpfHwoImZ1bmN0aW9uIj09dHlwZW9mIG8udGl0bGU/by50aXRsZS5jYWxsKCRlWzBdKTpvLnRpdGxlKQp9LFRvb2x0aXAucHJvdG90eXBlLmdldFVJRD1mdW5jdGlvbihwcmVmaXgpe2RvIHByZWZpeCs9fn4oMWU2Kk1hdGgucmFuZG9tKCkpO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO3JldHVybiBwcmVmaXh9LFRvb2x0aXAucHJvdG90eXBlLnRpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0aXA9dGhpcy4kdGlwfHwkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSl9LFRvb2x0aXAucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoIi50b29sdGlwLWFycm93Iil9LFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlfHwodGhpcy5oaWRlKCksdGhpcy4kZWxlbWVudD1udWxsLHRoaXMub3B0aW9ucz1udWxsKX0sVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfSxUb29sdGlwLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfSxUb29sdGlwLnByb3RvdHlwZS50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSF0aGlzLmVuYWJsZWR9LFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihlKXt2YXIgc2VsZj10aGlzO2UmJihzZWxmPSQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSksc2VsZnx8KHNlbGY9bmV3IHRoaXMuY29uc3RydWN0b3IoZS5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLCQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxzZWxmKSkpLHNlbGYudGlwKCkuaGFzQ2xhc3MoImluIik/c2VsZi5sZWF2ZShzZWxmKTpzZWxmLmVudGVyKHNlbGYpfSxUb29sdGlwLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksdGhpcy5oaWRlKCkuJGVsZW1lbnQub2ZmKCIuIit0aGlzLnR5cGUpLnJlbW92ZURhdGEoImJzLiIrdGhpcy50eXBlKX07dmFyIG9sZD0kLmZuLnRvb2x0aXA7JC5mbi50b29sdGlwPVBsdWdpbiwkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3I9VG9vbHRpcCwkLmZuLnRvb2x0aXAubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLnRvb2x0aXA9b2xkLHRoaXN9fShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMucG9wb3ZlciIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjsoZGF0YXx8ImRlc3Ryb3kiIT1vcHRpb24pJiYoZGF0YXx8JHRoaXMuZGF0YSgiYnMucG9wb3ZlciIsZGF0YT1uZXcgUG9wb3Zlcih0aGlzLG9wdGlvbnMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dKCkpfSl9dmFyIFBvcG92ZXI9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLmluaXQoInBvcG92ZXIiLGVsZW1lbnQsb3B0aW9ucyl9O2lmKCEkLmZuLnRvb2x0aXApdGhyb3cgbmV3IEVycm9yKCJQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanMiKTtQb3BvdmVyLlZFUlNJT049IjMuMi4wIixQb3BvdmVyLkRFRkFVTFRTPSQuZXh0ZW5kKHt9LCQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUyx7cGxhY2VtZW50OiJyaWdodCIsdHJpZ2dlcjoiY2xpY2siLGNvbnRlbnQ6IiIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InBvcG92ZXIiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj48aDMgY2xhc3M9InBvcG92ZXItdGl0bGUiPjwvaDM+PGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50Ij48L2Rpdj48L2Rpdj4nfSksUG9wb3Zlci5wcm90b3R5cGU9JC5leHRlbmQoe30sJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSksUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3I9UG9wb3ZlcixQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBQb3BvdmVyLkRFRkFVTFRTfSxQb3BvdmVyLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyICR0aXA9dGhpcy50aXAoKSx0aXRsZT10aGlzLmdldFRpdGxlKCksY29udGVudD10aGlzLmdldENvbnRlbnQoKTskdGlwLmZpbmQoIi5wb3BvdmVyLXRpdGxlIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0odGl0bGUpLCR0aXAuZmluZCgiLnBvcG92ZXItY29udGVudCIpLmVtcHR5KClbdGhpcy5vcHRpb25zLmh0bWw/InN0cmluZyI9PXR5cGVvZiBjb250ZW50PyJodG1sIjoiYXBwZW5kIjoidGV4dCJdKGNvbnRlbnQpLCR0aXAucmVtb3ZlQ2xhc3MoImZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluIiksJHRpcC5maW5kKCIucG9wb3Zlci10aXRsZSIpLmh0bWwoKXx8JHRpcC5maW5kKCIucG9wb3Zlci10aXRsZSIpLmhpZGUoKX0sUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuZ2V0Q29udGVudCgpfSxQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyICRlPXRoaXMuJGVsZW1lbnQsbz10aGlzLm9wdGlvbnM7cmV0dXJuICRlLmF0dHIoImRhdGEtY29udGVudCIpfHwoImZ1bmN0aW9uIj09dHlwZW9mIG8uY29udGVudD9vLmNvbnRlbnQuY2FsbCgkZVswXSk6by5jb250ZW50KX0sUG9wb3Zlci5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZCgiLmFycm93Iil9LFBvcG92ZXIucHJvdG90eXBlLnRpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0aXB8fCh0aGlzLiR0aXA9JCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpKSx0aGlzLiR0aXB9O3ZhciBvbGQ9JC5mbi5wb3BvdmVyOyQuZm4ucG9wb3Zlcj1QbHVnaW4sJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yPVBvcG92ZXIsJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5wb3BvdmVyPW9sZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LG9wdGlvbnMpe3ZhciBwcm9jZXNzPSQucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpO3RoaXMuJGJvZHk9JCgiYm9keSIpLHRoaXMuJHNjcm9sbEVsZW1lbnQ9JCgkKGVsZW1lbnQpLmlzKCJib2R5Iik/d2luZG93OmVsZW1lbnQpLHRoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxTY3JvbGxTcHkuREVGQVVMVFMsb3B0aW9ucyksdGhpcy5zZWxlY3Rvcj0odGhpcy5vcHRpb25zLnRhcmdldHx8IiIpKyIgLm5hdiBsaSA+IGEiLHRoaXMub2Zmc2V0cz1bXSx0aGlzLnRhcmdldHM9W10sdGhpcy5hY3RpdmVUYXJnZXQ9bnVsbCx0aGlzLnNjcm9sbEhlaWdodD0wLHRoaXMuJHNjcm9sbEVsZW1lbnQub24oInNjcm9sbC5icy5zY3JvbGxzcHkiLHByb2Nlc3MpLHRoaXMucmVmcmVzaCgpLHRoaXMucHJvY2VzcygpfWZ1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLnNjcm9sbHNweSIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjtkYXRhfHwkdGhpcy5kYXRhKCJicy5zY3JvbGxzcHkiLGRhdGE9bmV3IFNjcm9sbFNweSh0aGlzLG9wdGlvbnMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dKCl9KX1TY3JvbGxTcHkuVkVSU0lPTj0iMy4yLjAiLFNjcm9sbFNweS5ERUZBVUxUUz17b2Zmc2V0OjEwfSxTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodHx8TWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9LFNjcm9sbFNweS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBvZmZzZXRNZXRob2Q9Im9mZnNldCIsb2Zmc2V0QmFzZT0wOyQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSl8fChvZmZzZXRNZXRob2Q9InBvc2l0aW9uIixvZmZzZXRCYXNlPXRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkpLHRoaXMub2Zmc2V0cz1bXSx0aGlzLnRhcmdldHM9W10sdGhpcy5zY3JvbGxIZWlnaHQ9dGhpcy5nZXRTY3JvbGxIZWlnaHQoKTt2YXIgc2VsZj10aGlzO3RoaXMuJGJvZHkuZmluZCh0aGlzLnNlbGVjdG9yKS5tYXAoZnVuY3Rpb24oKXt2YXIgJGVsPSQodGhpcyksaHJlZj0kZWwuZGF0YSgidGFyZ2V0Iil8fCRlbC5hdHRyKCJocmVmIiksJGhyZWY9L14jLi8udGVzdChocmVmKSYmJChocmVmKTtyZXR1cm4gJGhyZWYmJiRocmVmLmxlbmd0aCYmJGhyZWYuaXMoIjp2aXNpYmxlIikmJltbJGhyZWZbb2Zmc2V0TWV0aG9kXSgpLnRvcCtvZmZzZXRCYXNlLGhyZWZdXXx8bnVsbH0pLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVswXS1iWzBdfSkuZWFjaChmdW5jdGlvbigpe3NlbGYub2Zmc2V0cy5wdXNoKHRoaXNbMF0pLHNlbGYudGFyZ2V0cy5wdXNoKHRoaXNbMV0pfSl9LFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe3ZhciBpLHNjcm9sbFRvcD10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpK3RoaXMub3B0aW9ucy5vZmZzZXQsc2Nyb2xsSGVpZ2h0PXRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCksbWF4U2Nyb2xsPXRoaXMub3B0aW9ucy5vZmZzZXQrc2Nyb2xsSGVpZ2h0LXRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KCksb2Zmc2V0cz10aGlzLm9mZnNldHMsdGFyZ2V0cz10aGlzLnRhcmdldHMsYWN0aXZlVGFyZ2V0PXRoaXMuYWN0aXZlVGFyZ2V0O2lmKHRoaXMuc2Nyb2xsSGVpZ2h0IT1zY3JvbGxIZWlnaHQmJnRoaXMucmVmcmVzaCgpLHNjcm9sbFRvcD49bWF4U2Nyb2xsKXJldHVybiBhY3RpdmVUYXJnZXQhPShpPXRhcmdldHNbdGFyZ2V0cy5sZW5ndGgtMV0pJiZ0aGlzLmFjdGl2YXRlKGkpO2lmKGFjdGl2ZVRhcmdldCYmc2Nyb2xsVG9wPD1vZmZzZXRzWzBdKXJldHVybiBhY3RpdmVUYXJnZXQhPShpPXRhcmdldHNbMF0pJiZ0aGlzLmFjdGl2YXRlKGkpO2ZvcihpPW9mZnNldHMubGVuZ3RoO2ktLTspYWN0aXZlVGFyZ2V0IT10YXJnZXRzW2ldJiZzY3JvbGxUb3A+PW9mZnNldHNbaV0mJighb2Zmc2V0c1tpKzFdfHxzY3JvbGxUb3A8PW9mZnNldHNbaSsxXSkmJnRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSl9LFNjcm9sbFNweS5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24odGFyZ2V0KXt0aGlzLmFjdGl2ZVRhcmdldD10YXJnZXQsJCh0aGlzLnNlbGVjdG9yKS5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTt2YXIgc2VsZWN0b3I9dGhpcy5zZWxlY3RvcisnW2RhdGEtdGFyZ2V0PSInK3RhcmdldCsnIl0sJyt0aGlzLnNlbGVjdG9yKydbaHJlZj0iJyt0YXJnZXQrJyJdJyxhY3RpdmU9JChzZWxlY3RvcikucGFyZW50cygibGkiKS5hZGRDbGFzcygiYWN0aXZlIik7YWN0aXZlLnBhcmVudCgiLmRyb3Bkb3duLW1lbnUiKS5sZW5ndGgmJihhY3RpdmU9YWN0aXZlLmNsb3Nlc3QoImxpLmRyb3Bkb3duIikuYWRkQ2xhc3MoImFjdGl2ZSIpKSxhY3RpdmUudHJpZ2dlcigiYWN0aXZhdGUuYnMuc2Nyb2xsc3B5Iil9O3ZhciBvbGQ9JC5mbi5zY3JvbGxzcHk7JC5mbi5zY3JvbGxzcHk9UGx1Z2luLCQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yPVNjcm9sbFNweSwkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uc2Nyb2xsc3B5PW9sZCx0aGlzfSwkKHdpbmRvdykub24oImxvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpIixmdW5jdGlvbigpeyQoJ1tkYXRhLXNweT0ic2Nyb2xsIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyICRzcHk9JCh0aGlzKTtQbHVnaW4uY2FsbCgkc3B5LCRzcHkuZGF0YSgpKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy50YWIiKTtkYXRhfHwkdGhpcy5kYXRhKCJicy50YWIiLGRhdGE9bmV3IFRhYih0aGlzKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpfSl9dmFyIFRhYj1mdW5jdGlvbihlbGVtZW50KXt0aGlzLmVsZW1lbnQ9JChlbGVtZW50KX07VGFiLlZFUlNJT049IjMuMi4wIixUYWIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgJHRoaXM9dGhpcy5lbGVtZW50LCR1bD0kdGhpcy5jbG9zZXN0KCJ1bDpub3QoLmRyb3Bkb3duLW1lbnUpIiksc2VsZWN0b3I9JHRoaXMuZGF0YSgidGFyZ2V0Iik7aWYoc2VsZWN0b3J8fChzZWxlY3Rvcj0kdGhpcy5hdHRyKCJocmVmIiksc2VsZWN0b3I9c2VsZWN0b3ImJnNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpLCEkdGhpcy5wYXJlbnQoImxpIikuaGFzQ2xhc3MoImFjdGl2ZSIpKXt2YXIgcHJldmlvdXM9JHVsLmZpbmQoIi5hY3RpdmU6bGFzdCBhIilbMF0sZT0kLkV2ZW50KCJzaG93LmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6cHJldmlvdXN9KTtpZigkdGhpcy50cmlnZ2VyKGUpLCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgJHRhcmdldD0kKHNlbGVjdG9yKTt0aGlzLmFjdGl2YXRlKCR0aGlzLmNsb3Nlc3QoImxpIiksJHVsKSx0aGlzLmFjdGl2YXRlKCR0YXJnZXQsJHRhcmdldC5wYXJlbnQoKSxmdW5jdGlvbigpeyR0aGlzLnRyaWdnZXIoe3R5cGU6InNob3duLmJzLnRhYiIscmVsYXRlZFRhcmdldDpwcmV2aW91c30pfSl9fX0sVGFiLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlbGVtZW50LGNvbnRhaW5lcixjYWxsYmFjayl7ZnVuY3Rpb24gbmV4dCgpeyRhY3RpdmUucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmZpbmQoIj4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLGVsZW1lbnQuYWRkQ2xhc3MoImFjdGl2ZSIpLHRyYW5zaXRpb24/KGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsZWxlbWVudC5hZGRDbGFzcygiaW4iKSk6ZWxlbWVudC5yZW1vdmVDbGFzcygiZmFkZSIpLGVsZW1lbnQucGFyZW50KCIuZHJvcGRvd24tbWVudSIpJiZlbGVtZW50LmNsb3Nlc3QoImxpLmRyb3Bkb3duIikuYWRkQ2xhc3MoImFjdGl2ZSIpLGNhbGxiYWNrJiZjYWxsYmFjaygpfXZhciAkYWN0aXZlPWNvbnRhaW5lci5maW5kKCI+IC5hY3RpdmUiKSx0cmFuc2l0aW9uPWNhbGxiYWNrJiYkLnN1cHBvcnQudHJhbnNpdGlvbiYmJGFjdGl2ZS5oYXNDbGFzcygiZmFkZSIpO3RyYW5zaXRpb24/JGFjdGl2ZS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsbmV4dCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpuZXh0KCksJGFjdGl2ZS5yZW1vdmVDbGFzcygiaW4iKX07dmFyIG9sZD0kLmZuLnRhYjskLmZuLnRhYj1QbHVnaW4sJC5mbi50YWIuQ29uc3RydWN0b3I9VGFiLCQuZm4udGFiLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi50YWI9b2xkLHRoaXN9LCQoZG9jdW1lbnQpLm9uKCJjbGljay5icy50YWIuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9InRhYiJdLCBbZGF0YS10b2dnbGU9InBpbGwiXScsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLFBsdWdpbi5jYWxsKCQodGhpcyksInNob3ciKX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMuYWZmaXgiKSxvcHRpb25zPSJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb247ZGF0YXx8JHRoaXMuZGF0YSgiYnMuYWZmaXgiLGRhdGE9bmV3IEFmZml4KHRoaXMsb3B0aW9ucykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKX0pfXZhciBBZmZpeD1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxBZmZpeC5ERUZBVUxUUyxvcHRpb25zKSx0aGlzLiR0YXJnZXQ9JCh0aGlzLm9wdGlvbnMudGFyZ2V0KS5vbigic2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpIiwkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSkub24oImNsaWNrLmJzLmFmZml4LmRhdGEtYXBpIiwkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsdGhpcykpLHRoaXMuJGVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLmFmZml4ZWQ9dGhpcy51bnBpbj10aGlzLnBpbm5lZE9mZnNldD1udWxsLHRoaXMuY2hlY2tQb3NpdGlvbigpfTtBZmZpeC5WRVJTSU9OPSIzLjIuMCIsQWZmaXguUkVTRVQ9ImFmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20iLEFmZml4LkRFRkFVTFRTPXtvZmZzZXQ6MCx0YXJnZXQ6d2luZG93fSxBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5waW5uZWRPZmZzZXQpcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0O3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCJhZmZpeCIpO3ZhciBzY3JvbGxUb3A9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLHBvc2l0aW9uPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7cmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0PXBvc2l0aW9uLnRvcC1zY3JvbGxUb3B9LEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcD1mdW5jdGlvbigpe3NldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sdGhpcyksMSl9LEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy4kZWxlbWVudC5pcygiOnZpc2libGUiKSl7dmFyIHNjcm9sbEhlaWdodD0kKGRvY3VtZW50KS5oZWlnaHQoKSxzY3JvbGxUb3A9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLHBvc2l0aW9uPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCksb2Zmc2V0PXRoaXMub3B0aW9ucy5vZmZzZXQsb2Zmc2V0VG9wPW9mZnNldC50b3Asb2Zmc2V0Qm90dG9tPW9mZnNldC5ib3R0b207Im9iamVjdCIhPXR5cGVvZiBvZmZzZXQmJihvZmZzZXRCb3R0b209b2Zmc2V0VG9wPW9mZnNldCksImZ1bmN0aW9uIj09dHlwZW9mIG9mZnNldFRvcCYmKG9mZnNldFRvcD1vZmZzZXQudG9wKHRoaXMuJGVsZW1lbnQpKSwiZnVuY3Rpb24iPT10eXBlb2Ygb2Zmc2V0Qm90dG9tJiYob2Zmc2V0Qm90dG9tPW9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudCkpO3ZhciBhZmZpeD1udWxsIT10aGlzLnVucGluJiZzY3JvbGxUb3ArdGhpcy51bnBpbjw9cG9zaXRpb24udG9wPyExOm51bGwhPW9mZnNldEJvdHRvbSYmcG9zaXRpb24udG9wK3RoaXMuJGVsZW1lbnQuaGVpZ2h0KCk+PXNjcm9sbEhlaWdodC1vZmZzZXRCb3R0b20/ImJvdHRvbSI6bnVsbCE9b2Zmc2V0VG9wJiZvZmZzZXRUb3A+PXNjcm9sbFRvcD8idG9wIjohMTtpZih0aGlzLmFmZml4ZWQhPT1hZmZpeCl7bnVsbCE9dGhpcy51bnBpbiYmdGhpcy4kZWxlbWVudC5jc3MoInRvcCIsIiIpO3ZhciBhZmZpeFR5cGU9ImFmZml4IisoYWZmaXg/Ii0iK2FmZml4OiIiKSxlPSQuRXZlbnQoYWZmaXhUeXBlKyIuYnMuYWZmaXgiKTt0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuYWZmaXhlZD1hZmZpeCx0aGlzLnVucGluPSJib3R0b20iPT1hZmZpeD90aGlzLmdldFBpbm5lZE9mZnNldCgpOm51bGwsdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoYWZmaXhUeXBlKS50cmlnZ2VyKCQuRXZlbnQoYWZmaXhUeXBlLnJlcGxhY2UoImFmZml4IiwiYWZmaXhlZCIpKSksImJvdHRvbSI9PWFmZml4JiZ0aGlzLiRlbGVtZW50Lm9mZnNldCh7dG9wOnNjcm9sbEhlaWdodC10aGlzLiRlbGVtZW50LmhlaWdodCgpLW9mZnNldEJvdHRvbX0pKX19fTt2YXIgb2xkPSQuZm4uYWZmaXg7JC5mbi5hZmZpeD1QbHVnaW4sJC5mbi5hZmZpeC5Db25zdHJ1Y3Rvcj1BZmZpeCwkLmZuLmFmZml4Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5hZmZpeD1vbGQsdGhpc30sJCh3aW5kb3cpLm9uKCJsb2FkIixmdW5jdGlvbigpeyQoJ1tkYXRhLXNweT0iYWZmaXgiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgJHNweT0kKHRoaXMpLGRhdGE9JHNweS5kYXRhKCk7ZGF0YS5vZmZzZXQ9ZGF0YS5vZmZzZXR8fHt9LGRhdGEub2Zmc2V0Qm90dG9tJiYoZGF0YS5vZmZzZXQuYm90dG9tPWRhdGEub2Zmc2V0Qm90dG9tKSxkYXRhLm9mZnNldFRvcCYmKGRhdGEub2Zmc2V0LnRvcD1kYXRhLm9mZnNldFRvcCksUGx1Z2luLmNhbGwoJHNweSxkYXRhKX0pfSl9KGpRdWVyeSksZnVuY3Rpb24od2luZG93LGFuZ3VsYXIsdW5kZWZpbmVkKXsidXNlIHN0cmljdCI7YW5ndWxhci5tb2R1bGUoIm5nQ29va2llcyIsWyJuZyJdKS5mYWN0b3J5KCIkY29va2llcyIsWyIkcm9vdFNjb3BlIiwiJGJyb3dzZXIiLGZ1bmN0aW9uKCRyb290U2NvcGUsJGJyb3dzZXIpe2Z1bmN0aW9uIHB1c2goKXt2YXIgbmFtZSx2YWx1ZSxicm93c2VyQ29va2llcyx1cGRhdGVkO2ZvcihuYW1lIGluIGxhc3RDb29raWVzKWlzVW5kZWZpbmVkKGNvb2tpZXNbbmFtZV0pJiYkYnJvd3Nlci5jb29raWVzKG5hbWUsdW5kZWZpbmVkKTtmb3IobmFtZSBpbiBjb29raWVzKXZhbHVlPWNvb2tpZXNbbmFtZV0sYW5ndWxhci5pc1N0cmluZyh2YWx1ZSl8fCh2YWx1ZT0iIit2YWx1ZSxjb29raWVzW25hbWVdPXZhbHVlKSx2YWx1ZSE9PWxhc3RDb29raWVzW25hbWVdJiYoJGJyb3dzZXIuY29va2llcyhuYW1lLHZhbHVlKSx1cGRhdGVkPSEwKTtpZih1cGRhdGVkKXt1cGRhdGVkPSExLGJyb3dzZXJDb29raWVzPSRicm93c2VyLmNvb2tpZXMoKTtmb3IobmFtZSBpbiBjb29raWVzKWNvb2tpZXNbbmFtZV0hPT1icm93c2VyQ29va2llc1tuYW1lXSYmKGlzVW5kZWZpbmVkKGJyb3dzZXJDb29raWVzW25hbWVdKT9kZWxldGUgY29va2llc1tuYW1lXTpjb29raWVzW25hbWVdPWJyb3dzZXJDb29raWVzW25hbWVdLHVwZGF0ZWQ9ITApfX12YXIgbGFzdEJyb3dzZXJDb29raWVzLGNvb2tpZXM9e30sbGFzdENvb2tpZXM9e30scnVuRXZhbD0hMSxjb3B5PWFuZ3VsYXIuY29weSxpc1VuZGVmaW5lZD1hbmd1bGFyLmlzVW5kZWZpbmVkO3JldHVybiAkYnJvd3Nlci5hZGRQb2xsRm4oZnVuY3Rpb24oKXt2YXIgY3VycmVudENvb2tpZXM9JGJyb3dzZXIuY29va2llcygpO2xhc3RCcm93c2VyQ29va2llcyE9Y3VycmVudENvb2tpZXMmJihsYXN0QnJvd3NlckNvb2tpZXM9Y3VycmVudENvb2tpZXMsY29weShjdXJyZW50Q29va2llcyxsYXN0Q29va2llcyksY29weShjdXJyZW50Q29va2llcyxjb29raWVzKSxydW5FdmFsJiYkcm9vdFNjb3BlLiRhcHBseSgpKX0pKCkscnVuRXZhbD0hMCwkcm9vdFNjb3BlLiR3YXRjaChwdXNoKSxjb29raWVzfV0pLmZhY3RvcnkoIiRjb29raWVTdG9yZSIsWyIkY29va2llcyIsZnVuY3Rpb24oJGNvb2tpZXMpe3JldHVybntnZXQ6ZnVuY3Rpb24oa2V5KXt2YXIgdmFsdWU9JGNvb2tpZXNba2V5XTtyZXR1cm4gdmFsdWU/YW5ndWxhci5mcm9tSnNvbih2YWx1ZSk6dmFsdWV9LHB1dDpmdW5jdGlvbihrZXksdmFsdWUpeyRjb29raWVzW2tleV09YW5ndWxhci50b0pzb24odmFsdWUpfSxyZW1vdmU6ZnVuY3Rpb24oa2V5KXtkZWxldGUgJGNvb2tpZXNba2V5XX19fV0pfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpLGZ1bmN0aW9uKHdpbmRvdyxhbmd1bGFyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gJFJvdXRlUHJvdmlkZXIoKXtmdW5jdGlvbiBpbmhlcml0KHBhcmVudCxleHRyYSl7cmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKG5ldyhhbmd1bGFyLmV4dGVuZChmdW5jdGlvbigpe30se3Byb3RvdHlwZTpwYXJlbnR9KSksZXh0cmEpfWZ1bmN0aW9uIHBhdGhSZWdFeHAocGF0aCxvcHRzKXt2YXIgaW5zZW5zaXRpdmU9b3B0cy5jYXNlSW5zZW5zaXRpdmVNYXRjaCxyZXQ9e29yaWdpbmFsUGF0aDpwYXRoLHJlZ2V4cDpwYXRofSxrZXlzPXJldC5rZXlzPVtdO3JldHVybiBwYXRoPXBhdGgucmVwbGFjZSgvKFsoKS5dKS9nLCJcXCQxIikucmVwbGFjZSgvKFwvKT86KFx3KykoW1w/XCpdKT8vZyxmdW5jdGlvbihfLHNsYXNoLGtleSxvcHRpb24pe3ZhciBvcHRpb25hbD0iPyI9PT1vcHRpb24/b3B0aW9uOm51bGwsc3Rhcj0iKiI9PT1vcHRpb24/b3B0aW9uOm51bGw7cmV0dXJuIGtleXMucHVzaCh7bmFtZTprZXksb3B0aW9uYWw6ISFvcHRpb25hbH0pLHNsYXNoPXNsYXNofHwiIiwiIisob3B0aW9uYWw/IiI6c2xhc2gpKyIoPzoiKyhvcHRpb25hbD9zbGFzaDoiIikrKHN0YXImJiIoLis/KSJ8fCIoW14vXSspIikrKG9wdGlvbmFsfHwiIikrIikiKyhvcHRpb25hbHx8IiIpfSkucmVwbGFjZSgvKFtcLyRcKl0pL2csIlxcJDEiKSxyZXQucmVnZXhwPW5ldyBSZWdFeHAoIl4iK3BhdGgrIiQiLGluc2Vuc2l0aXZlPyJpIjoiIikscmV0fXZhciByb3V0ZXM9e307dGhpcy53aGVuPWZ1bmN0aW9uKHBhdGgscm91dGUpe2lmKHJvdXRlc1twYXRoXT1hbmd1bGFyLmV4dGVuZCh7cmVsb2FkT25TZWFyY2g6ITB9LHJvdXRlLHBhdGgmJnBhdGhSZWdFeHAocGF0aCxyb3V0ZSkpLHBhdGgpe3ZhciByZWRpcmVjdFBhdGg9Ii8iPT1wYXRoW3BhdGgubGVuZ3RoLTFdP3BhdGguc3Vic3RyKDAscGF0aC5sZW5ndGgtMSk6cGF0aCsiLyI7cm91dGVzW3JlZGlyZWN0UGF0aF09YW5ndWxhci5leHRlbmQoe3JlZGlyZWN0VG86cGF0aH0scGF0aFJlZ0V4cChyZWRpcmVjdFBhdGgscm91dGUpKX1yZXR1cm4gdGhpc30sdGhpcy5vdGhlcndpc2U9ZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHBhcmFtcyYmKHBhcmFtcz17cmVkaXJlY3RUbzpwYXJhbXN9KSx0aGlzLndoZW4obnVsbCxwYXJhbXMpLHRoaXN9LHRoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCIkcm91dGVQYXJhbXMiLCIkcSIsIiRpbmplY3RvciIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkc2NlIixmdW5jdGlvbigkcm9vdFNjb3BlLCRsb2NhdGlvbiwkcm91dGVQYXJhbXMsJHEsJGluamVjdG9yLCR0ZW1wbGF0ZVJlcXVlc3QsJHNjZSl7ZnVuY3Rpb24gc3dpdGNoUm91dGVNYXRjaGVyKG9uLHJvdXRlKXt2YXIga2V5cz1yb3V0ZS5rZXlzLHBhcmFtcz17fTtpZighcm91dGUucmVnZXhwKXJldHVybiBudWxsO3ZhciBtPXJvdXRlLnJlZ2V4cC5leGVjKG9uKTtpZighbSlyZXR1cm4gbnVsbDtmb3IodmFyIGk9MSxsZW49bS5sZW5ndGg7bGVuPmk7KytpKXt2YXIga2V5PWtleXNbaS0xXSx2YWw9bVtpXTtrZXkmJnZhbCYmKHBhcmFtc1trZXkubmFtZV09dmFsKX1yZXR1cm4gcGFyYW1zfWZ1bmN0aW9uIHByZXBhcmVSb3V0ZSgkbG9jYXRpb25FdmVudCl7dmFyIGxhc3RSb3V0ZT0kcm91dGUuY3VycmVudDtwcmVwYXJlZFJvdXRlPXBhcnNlUm91dGUoKSxwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5PXByZXBhcmVkUm91dGUmJmxhc3RSb3V0ZSYmcHJlcGFyZWRSb3V0ZS4kJHJvdXRlPT09bGFzdFJvdXRlLiQkcm91dGUmJmFuZ3VsYXIuZXF1YWxzKHByZXBhcmVkUm91dGUucGF0aFBhcmFtcyxsYXN0Um91dGUucGF0aFBhcmFtcykmJiFwcmVwYXJlZFJvdXRlLnJlbG9hZE9uU2VhcmNoJiYhZm9yY2VSZWxvYWQscHJlcGFyZWRSb3V0ZUlzVXBkYXRlT25seXx8IWxhc3RSb3V0ZSYmIXByZXBhcmVkUm91dGV8fCRyb290U2NvcGUuJGJyb2FkY2FzdCgiJHJvdXRlQ2hhbmdlU3RhcnQiLHByZXBhcmVkUm91dGUsbGFzdFJvdXRlKS5kZWZhdWx0UHJldmVudGVkJiYkbG9jYXRpb25FdmVudCYmJGxvY2F0aW9uRXZlbnQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBjb21taXRSb3V0ZSgpe3ZhciBsYXN0Um91dGU9JHJvdXRlLmN1cnJlbnQsbmV4dFJvdXRlPXByZXBhcmVkUm91dGU7cHJlcGFyZWRSb3V0ZUlzVXBkYXRlT25seT8obGFzdFJvdXRlLnBhcmFtcz1uZXh0Um91dGUucGFyYW1zLGFuZ3VsYXIuY29weShsYXN0Um91dGUucGFyYW1zLCRyb3V0ZVBhcmFtcyksJHJvb3RTY29wZS4kYnJvYWRjYXN0KCIkcm91dGVVcGRhdGUiLGxhc3RSb3V0ZSkpOihuZXh0Um91dGV8fGxhc3RSb3V0ZSkmJihmb3JjZVJlbG9hZD0hMSwkcm91dGUuY3VycmVudD1uZXh0Um91dGUsbmV4dFJvdXRlJiZuZXh0Um91dGUucmVkaXJlY3RUbyYmKGFuZ3VsYXIuaXNTdHJpbmcobmV4dFJvdXRlLnJlZGlyZWN0VG8pPyRsb2NhdGlvbi5wYXRoKGludGVycG9sYXRlKG5leHRSb3V0ZS5yZWRpcmVjdFRvLG5leHRSb3V0ZS5wYXJhbXMpKS5zZWFyY2gobmV4dFJvdXRlLnBhcmFtcykucmVwbGFjZSgpOiRsb2NhdGlvbi51cmwobmV4dFJvdXRlLnJlZGlyZWN0VG8obmV4dFJvdXRlLnBhdGhQYXJhbXMsJGxvY2F0aW9uLnBhdGgoKSwkbG9jYXRpb24uc2VhcmNoKCkpKS5yZXBsYWNlKCkpLCRxLndoZW4obmV4dFJvdXRlKS50aGVuKGZ1bmN0aW9uKCl7aWYobmV4dFJvdXRlKXt2YXIgdGVtcGxhdGUsdGVtcGxhdGVVcmwsbG9jYWxzPWFuZ3VsYXIuZXh0ZW5kKHt9LG5leHRSb3V0ZS5yZXNvbHZlKTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGxvY2FscyxmdW5jdGlvbih2YWx1ZSxrZXkpe2xvY2Fsc1trZXldPWFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpPyRpbmplY3Rvci5nZXQodmFsdWUpOiRpbmplY3Rvci5pbnZva2UodmFsdWUsbnVsbCxudWxsLGtleSl9KSxhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZT1uZXh0Um91dGUudGVtcGxhdGUpP2FuZ3VsYXIuaXNGdW5jdGlvbih0ZW1wbGF0ZSkmJih0ZW1wbGF0ZT10ZW1wbGF0ZShuZXh0Um91dGUucGFyYW1zKSk6YW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGVVcmw9bmV4dFJvdXRlLnRlbXBsYXRlVXJsKSYmKGFuZ3VsYXIuaXNGdW5jdGlvbih0ZW1wbGF0ZVVybCkmJih0ZW1wbGF0ZVVybD10ZW1wbGF0ZVVybChuZXh0Um91dGUucGFyYW1zKSksdGVtcGxhdGVVcmw9JHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodGVtcGxhdGVVcmwpLGFuZ3VsYXIuaXNEZWZpbmVkKHRlbXBsYXRlVXJsKSYmKG5leHRSb3V0ZS5sb2FkZWRUZW1wbGF0ZVVybD10ZW1wbGF0ZVVybCx0ZW1wbGF0ZT0kdGVtcGxhdGVSZXF1ZXN0KHRlbXBsYXRlVXJsKSkpLGFuZ3VsYXIuaXNEZWZpbmVkKHRlbXBsYXRlKSYmKGxvY2Fscy4kdGVtcGxhdGU9dGVtcGxhdGUpLCRxLmFsbChsb2NhbHMpfX0pLnRoZW4oZnVuY3Rpb24obG9jYWxzKXtuZXh0Um91dGU9PSRyb3V0ZS5jdXJyZW50JiYobmV4dFJvdXRlJiYobmV4dFJvdXRlLmxvY2Fscz1sb2NhbHMsYW5ndWxhci5jb3B5KG5leHRSb3V0ZS5wYXJhbXMsJHJvdXRlUGFyYW1zKSksJHJvb3RTY29wZS4kYnJvYWRjYXN0KCIkcm91dGVDaGFuZ2VTdWNjZXNzIixuZXh0Um91dGUsbGFzdFJvdXRlKSl9LGZ1bmN0aW9uKGVycm9yKXtuZXh0Um91dGU9PSRyb3V0ZS5jdXJyZW50JiYkcm9vdFNjb3BlLiRicm9hZGNhc3QoIiRyb3V0ZUNoYW5nZUVycm9yIixuZXh0Um91dGUsbGFzdFJvdXRlLGVycm9yKX0pKX1mdW5jdGlvbiBwYXJzZVJvdXRlKCl7dmFyIHBhcmFtcyxtYXRjaDtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKHJvdXRlcyxmdW5jdGlvbihyb3V0ZSl7IW1hdGNoJiYocGFyYW1zPXN3aXRjaFJvdXRlTWF0Y2hlcigkbG9jYXRpb24ucGF0aCgpLHJvdXRlKSkmJihtYXRjaD1pbmhlcml0KHJvdXRlLHtwYXJhbXM6YW5ndWxhci5leHRlbmQoe30sJGxvY2F0aW9uLnNlYXJjaCgpLHBhcmFtcykscGF0aFBhcmFtczpwYXJhbXN9KSxtYXRjaC4kJHJvdXRlPXJvdXRlKX0pLG1hdGNofHxyb3V0ZXNbbnVsbF0mJmluaGVyaXQocm91dGVzW251bGxdLHtwYXJhbXM6e30scGF0aFBhcmFtczp7fX0pfWZ1bmN0aW9uIGludGVycG9sYXRlKHN0cmluZyxwYXJhbXMpe3ZhciByZXN1bHQ9W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaCgoc3RyaW5nfHwiIikuc3BsaXQoIjoiKSxmdW5jdGlvbihzZWdtZW50LGkpe2lmKDA9PT1pKXJlc3VsdC5wdXNoKHNlZ21lbnQpO2Vsc2V7dmFyIHNlZ21lbnRNYXRjaD1zZWdtZW50Lm1hdGNoKC8oXHcrKSguKikvKSxrZXk9c2VnbWVudE1hdGNoWzFdO3Jlc3VsdC5wdXNoKHBhcmFtc1trZXldKSxyZXN1bHQucHVzaChzZWdtZW50TWF0Y2hbMl18fCIiKSxkZWxldGUgcGFyYW1zW2tleV19fSkscmVzdWx0LmpvaW4oIiIpfXZhciBwcmVwYXJlZFJvdXRlLHByZXBhcmVkUm91dGVJc1VwZGF0ZU9ubHksZm9yY2VSZWxvYWQ9ITEsJHJvdXRlPXtyb3V0ZXM6cm91dGVzLHJlbG9hZDpmdW5jdGlvbigpe2ZvcmNlUmVsb2FkPSEwLCRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ByZXBhcmVSb3V0ZSgpLGNvbW1pdFJvdXRlKCl9KX0sdXBkYXRlUGFyYW1zOmZ1bmN0aW9uKG5ld1BhcmFtcyl7aWYoIXRoaXMuY3VycmVudHx8IXRoaXMuY3VycmVudC4kJHJvdXRlKXRocm93ICRyb3V0ZU1pbkVycigibm9yb3V0IiwiVHJpZWQgdXBkYXRpbmcgcm91dGUgd2hlbiB3aXRoIG5vIGN1cnJlbnQgcm91dGUiKTt2YXIgc2VhcmNoUGFyYW1zPXt9LHNlbGY9dGhpczthbmd1bGFyLmZvckVhY2goT2JqZWN0LmtleXMobmV3UGFyYW1zKSxmdW5jdGlvbihrZXkpe3NlbGYuY3VycmVudC5wYXRoUGFyYW1zW2tleV18fChzZWFyY2hQYXJhbXNba2V5XT1uZXdQYXJhbXNba2V5XSl9KSxuZXdQYXJhbXM9YW5ndWxhci5leHRlbmQoe30sdGhpcy5jdXJyZW50LnBhcmFtcyxuZXdQYXJhbXMpLCRsb2NhdGlvbi5wYXRoKGludGVycG9sYXRlKHRoaXMuY3VycmVudC4kJHJvdXRlLm9yaWdpbmFsUGF0aCxuZXdQYXJhbXMpKSwkbG9jYXRpb24uc2VhcmNoKGFuZ3VsYXIuZXh0ZW5kKHt9LCRsb2NhdGlvbi5zZWFyY2goKSxzZWFyY2hQYXJhbXMpKX19O3JldHVybiAkcm9vdFNjb3BlLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3RhcnQiLHByZXBhcmVSb3V0ZSksJHJvb3RTY29wZS4kb24oIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLGNvbW1pdFJvdXRlKSwkcm91dGV9XX1mdW5jdGlvbiAkUm91dGVQYXJhbXNQcm92aWRlcigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybnt9fX1mdW5jdGlvbiBuZ1ZpZXdGYWN0b3J5KCRyb3V0ZSwkYW5jaG9yU2Nyb2xsLCRhbmltYXRlKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIsdGVybWluYWw6ITAscHJpb3JpdHk6NDAwLHRyYW5zY2x1ZGU6ImVsZW1lbnQiLGxpbms6ZnVuY3Rpb24oc2NvcGUsJGVsZW1lbnQsYXR0cixjdHJsLCR0cmFuc2NsdWRlKXtmdW5jdGlvbiBjbGVhbnVwTGFzdFZpZXcoKXtwcmV2aW91c0xlYXZlQW5pbWF0aW9uJiYoJGFuaW1hdGUuY2FuY2VsKHByZXZpb3VzTGVhdmVBbmltYXRpb24pLHByZXZpb3VzTGVhdmVBbmltYXRpb249bnVsbCksY3VycmVudFNjb3BlJiYoY3VycmVudFNjb3BlLiRkZXN0cm95KCksY3VycmVudFNjb3BlPW51bGwpLGN1cnJlbnRFbGVtZW50JiYocHJldmlvdXNMZWF2ZUFuaW1hdGlvbj0kYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkscHJldmlvdXNMZWF2ZUFuaW1hdGlvbi50aGVuKGZ1bmN0aW9uKCl7cHJldmlvdXNMZWF2ZUFuaW1hdGlvbj1udWxsfSksY3VycmVudEVsZW1lbnQ9bnVsbCl9ZnVuY3Rpb24gdXBkYXRlKCl7dmFyIGxvY2Fscz0kcm91dGUuY3VycmVudCYmJHJvdXRlLmN1cnJlbnQubG9jYWxzLHRlbXBsYXRlPWxvY2FscyYmbG9jYWxzLiR0ZW1wbGF0ZTtpZihhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZSkpe3ZhciBuZXdTY29wZT1zY29wZS4kbmV3KCksY3VycmVudD0kcm91dGUuY3VycmVudCxjbG9uZT0kdHJhbnNjbHVkZShuZXdTY29wZSxmdW5jdGlvbihjbG9uZSl7JGFuaW1hdGUuZW50ZXIoY2xvbmUsbnVsbCxjdXJyZW50RWxlbWVudHx8JGVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKXshYW5ndWxhci5pc0RlZmluZWQoYXV0b1Njcm9sbEV4cCl8fGF1dG9TY3JvbGxFeHAmJiFzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKXx8JGFuY2hvclNjcm9sbCgpfSksY2xlYW51cExhc3RWaWV3KCl9KTtjdXJyZW50RWxlbWVudD1jbG9uZSxjdXJyZW50U2NvcGU9Y3VycmVudC5zY29wZT1uZXdTY29wZSxjdXJyZW50U2NvcGUuJGVtaXQoIiR2aWV3Q29udGVudExvYWRlZCIpLGN1cnJlbnRTY29wZS4kZXZhbChvbmxvYWRFeHApfWVsc2UgY2xlYW51cExhc3RWaWV3KCl9dmFyIGN1cnJlbnRTY29wZSxjdXJyZW50RWxlbWVudCxwcmV2aW91c0xlYXZlQW5pbWF0aW9uLGF1dG9TY3JvbGxFeHA9YXR0ci5hdXRvc2Nyb2xsLG9ubG9hZEV4cD1hdHRyLm9ubG9hZHx8IiI7c2NvcGUuJG9uKCIkcm91dGVDaGFuZ2VTdWNjZXNzIix1cGRhdGUpLHVwZGF0ZSgpfX19ZnVuY3Rpb24gbmdWaWV3RmlsbENvbnRlbnRGYWN0b3J5KCRjb21waWxlLCRjb250cm9sbGVyLCRyb3V0ZSl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHByaW9yaXR5Oi00MDAsbGluazpmdW5jdGlvbihzY29wZSwkZWxlbWVudCl7dmFyIGN1cnJlbnQ9JHJvdXRlLmN1cnJlbnQsbG9jYWxzPWN1cnJlbnQubG9jYWxzOyRlbGVtZW50Lmh0bWwobG9jYWxzLiR0ZW1wbGF0ZSk7dmFyIGxpbms9JGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSk7aWYoY3VycmVudC5jb250cm9sbGVyKXtsb2NhbHMuJHNjb3BlPXNjb3BlO3ZhciBjb250cm9sbGVyPSRjb250cm9sbGVyKGN1cnJlbnQuY29udHJvbGxlcixsb2NhbHMpO2N1cnJlbnQuY29udHJvbGxlckFzJiYoc2NvcGVbY3VycmVudC5jb250cm9sbGVyQXNdPWNvbnRyb2xsZXIpLCRlbGVtZW50LmRhdGEoIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyIixjb250cm9sbGVyKSwkZWxlbWVudC5jaGlsZHJlbigpLmRhdGEoIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyIixjb250cm9sbGVyKX1saW5rKHNjb3BlKX19fXZhciBuZ1JvdXRlTW9kdWxlPWFuZ3VsYXIubW9kdWxlKCJuZ1JvdXRlIixbIm5nIl0pLnByb3ZpZGVyKCIkcm91dGUiLCRSb3V0ZVByb3ZpZGVyKSwkcm91dGVNaW5FcnI9YW5ndWxhci4kJG1pbkVycigibmdSb3V0ZSIpO25nUm91dGVNb2R1bGUucHJvdmlkZXIoIiRyb3V0ZVBhcmFtcyIsJFJvdXRlUGFyYW1zUHJvdmlkZXIpLG5nUm91dGVNb2R1bGUuZGlyZWN0aXZlKCJuZ1ZpZXciLG5nVmlld0ZhY3RvcnkpLG5nUm91dGVNb2R1bGUuZGlyZWN0aXZlKCJuZ1ZpZXciLG5nVmlld0ZpbGxDb250ZW50RmFjdG9yeSksbmdWaWV3RmFjdG9yeS4kaW5qZWN0PVsiJHJvdXRlIiwiJGFuY2hvclNjcm9sbCIsIiRhbmltYXRlIl0sbmdWaWV3RmlsbENvbnRlbnRGYWN0b3J5LiRpbmplY3Q9WyIkY29tcGlsZSIsIiRjb250cm9sbGVyIiwiJHJvdXRlIl19KHdpbmRvdyx3aW5kb3cuYW5ndWxhciksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcCIsWyJ1aS5ib290c3RyYXAudHBscyIsInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIiwidWkuYm9vdHN0cmFwLmNvbGxhcHNlIiwidWkuYm9vdHN0cmFwLmFjY29yZGlvbiIsInVpLmJvb3RzdHJhcC5hbGVydCIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCIsInVpLmJvb3RzdHJhcC5idXR0b25zIiwidWkuYm9vdHN0cmFwLmNhcm91c2VsIiwidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsInVpLmJvb3RzdHJhcC5kcm9wZG93biIsInVpLmJvb3RzdHJhcC5tb2RhbCIsInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uIiwidWkuYm9vdHN0cmFwLnRvb2x0aXAiLCJ1aS5ib290c3RyYXAucG9wb3ZlciIsInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsInVpLmJvb3RzdHJhcC5yYXRpbmciLCJ1aS5ib290c3RyYXAudGFicyIsInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIiwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZCJdKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRwbHMiLFsidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIiwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwiLCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIiwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIiwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCIsInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIiwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIiwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIiwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIl0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiIsW10pLmZhY3RvcnkoIiR0cmFuc2l0aW9uIixbIiRxIiwiJHRpbWVvdXQiLCIkcm9vdFNjb3BlIixmdW5jdGlvbigkcSwkdGltZW91dCwkcm9vdFNjb3BlKXtmdW5jdGlvbiBmaW5kRW5kRXZlbnROYW1lKGVuZEV2ZW50TmFtZXMpe2Zvcih2YXIgbmFtZSBpbiBlbmRFdmVudE5hbWVzKWlmKHZvaWQgMCE9PXRyYW5zRWxlbWVudC5zdHlsZVtuYW1lXSlyZXR1cm4gZW5kRXZlbnROYW1lc1tuYW1lXX12YXIgJHRyYW5zaXRpb249ZnVuY3Rpb24oZWxlbWVudCx0cmlnZ2VyLG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307dmFyIGRlZmVycmVkPSRxLmRlZmVyKCksZW5kRXZlbnROYW1lPSR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uPyJhbmltYXRpb25FbmRFdmVudE5hbWUiOiJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lIl0sdHJhbnNpdGlvbkVuZEhhbmRsZXI9ZnVuY3Rpb24oKXskcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpe2VsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSx0cmFuc2l0aW9uRW5kSGFuZGxlciksZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KX0pfTtyZXR1cm4gZW5kRXZlbnROYW1lJiZlbGVtZW50LmJpbmQoZW5kRXZlbnROYW1lLHRyYW5zaXRpb25FbmRIYW5kbGVyKSwkdGltZW91dChmdW5jdGlvbigpe2FuZ3VsYXIuaXNTdHJpbmcodHJpZ2dlcik/ZWxlbWVudC5hZGRDbGFzcyh0cmlnZ2VyKTphbmd1bGFyLmlzRnVuY3Rpb24odHJpZ2dlcik/dHJpZ2dlcihlbGVtZW50KTphbmd1bGFyLmlzT2JqZWN0KHRyaWdnZXIpJiZlbGVtZW50LmNzcyh0cmlnZ2VyKSxlbmRFdmVudE5hbWV8fGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCl9KSxkZWZlcnJlZC5wcm9taXNlLmNhbmNlbD1mdW5jdGlvbigpe2VuZEV2ZW50TmFtZSYmZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLHRyYW5zaXRpb25FbmRIYW5kbGVyKSxkZWZlcnJlZC5yZWplY3QoIlRyYW5zaXRpb24gY2FuY2VsbGVkIil9LGRlZmVycmVkLnByb21pc2V9LHRyYW5zRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0cmFucyIpLHRyYW5zaXRpb25FbmRFdmVudE5hbWVzPXtXZWJraXRUcmFuc2l0aW9uOiJ3ZWJraXRUcmFuc2l0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIixPVHJhbnNpdGlvbjoib1RyYW5zaXRpb25FbmQiLHRyYW5zaXRpb246InRyYW5zaXRpb25lbmQifSxhbmltYXRpb25FbmRFdmVudE5hbWVzPXtXZWJraXRUcmFuc2l0aW9uOiJ3ZWJraXRBbmltYXRpb25FbmQiLE1velRyYW5zaXRpb246ImFuaW1hdGlvbmVuZCIsT1RyYW5zaXRpb246Im9BbmltYXRpb25FbmQiLHRyYW5zaXRpb246ImFuaW1hdGlvbmVuZCJ9O3JldHVybiAkdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lPWZpbmRFbmRFdmVudE5hbWUodHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMpLCR0cmFuc2l0aW9uLmFuaW1hdGlvbkVuZEV2ZW50TmFtZT1maW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpLCR0cmFuc2l0aW9ufV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuY29sbGFwc2UiLFsidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iXSkuZGlyZWN0aXZlKCJjb2xsYXBzZSIsWyIkdHJhbnNpdGlvbiIsZnVuY3Rpb24oJHRyYW5zaXRpb24pe3JldHVybntsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe2Z1bmN0aW9uIGRvVHJhbnNpdGlvbihjaGFuZ2Upe2Z1bmN0aW9uIG5ld1RyYW5zaXRpb25Eb25lKCl7Y3VycmVudFRyYW5zaXRpb249PT1uZXdUcmFuc2l0aW9uJiYoY3VycmVudFRyYW5zaXRpb249dm9pZCAwKX12YXIgbmV3VHJhbnNpdGlvbj0kdHJhbnNpdGlvbihlbGVtZW50LGNoYW5nZSk7cmV0dXJuIGN1cnJlbnRUcmFuc2l0aW9uJiZjdXJyZW50VHJhbnNpdGlvbi5jYW5jZWwoKSxjdXJyZW50VHJhbnNpdGlvbj1uZXdUcmFuc2l0aW9uLG5ld1RyYW5zaXRpb24udGhlbihuZXdUcmFuc2l0aW9uRG9uZSxuZXdUcmFuc2l0aW9uRG9uZSksbmV3VHJhbnNpdGlvbn1mdW5jdGlvbiBleHBhbmQoKXtpbml0aWFsQW5pbVNraXA/KGluaXRpYWxBbmltU2tpcD0hMSxleHBhbmREb25lKCkpOihlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzZSIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIiksZG9UcmFuc2l0aW9uKHtoZWlnaHQ6ZWxlbWVudFswXS5zY3JvbGxIZWlnaHQrInB4In0pLnRoZW4oZXhwYW5kRG9uZSkpfWZ1bmN0aW9uIGV4cGFuZERvbmUoKXtlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIiksZWxlbWVudC5hZGRDbGFzcygiY29sbGFwc2UgaW4iKSxlbGVtZW50LmNzcyh7aGVpZ2h0OiJhdXRvIn0pfWZ1bmN0aW9uIGNvbGxhcHNlKCl7aWYoaW5pdGlhbEFuaW1Ta2lwKWluaXRpYWxBbmltU2tpcD0hMSxjb2xsYXBzZURvbmUoKSxlbGVtZW50LmNzcyh7aGVpZ2h0OjB9KTtlbHNle2VsZW1lbnQuY3NzKHtoZWlnaHQ6ZWxlbWVudFswXS5zY3JvbGxIZWlnaHQrInB4In0pO3tlbGVtZW50WzBdLm9mZnNldFdpZHRofWVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIGluIikuYWRkQ2xhc3MoImNvbGxhcHNpbmciKSxkb1RyYW5zaXRpb24oe2hlaWdodDowfSkudGhlbihjb2xsYXBzZURvbmUpfX1mdW5jdGlvbiBjb2xsYXBzZURvbmUoKXtlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIiksZWxlbWVudC5hZGRDbGFzcygiY29sbGFwc2UiKX12YXIgY3VycmVudFRyYW5zaXRpb24saW5pdGlhbEFuaW1Ta2lwPSEwO3Njb3BlLiR3YXRjaChhdHRycy5jb2xsYXBzZSxmdW5jdGlvbihzaG91bGRDb2xsYXBzZSl7c2hvdWxkQ29sbGFwc2U/Y29sbGFwc2UoKTpleHBhbmQoKX0pfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5hY2NvcmRpb24iLFsidWkuYm9vdHN0cmFwLmNvbGxhcHNlIl0pLmNvbnN0YW50KCJhY2NvcmRpb25Db25maWciLHtjbG9zZU90aGVyczohMH0pLmNvbnRyb2xsZXIoIkFjY29yZGlvbkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiYWNjb3JkaW9uQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLGFjY29yZGlvbkNvbmZpZyl7dGhpcy5ncm91cHM9W10sdGhpcy5jbG9zZU90aGVycz1mdW5jdGlvbihvcGVuR3JvdXApe3ZhciBjbG9zZU90aGVycz1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuY2xvc2VPdGhlcnMpPyRzY29wZS4kZXZhbCgkYXR0cnMuY2xvc2VPdGhlcnMpOmFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVycztjbG9zZU90aGVycyYmYW5ndWxhci5mb3JFYWNoKHRoaXMuZ3JvdXBzLGZ1bmN0aW9uKGdyb3VwKXtncm91cCE9PW9wZW5Hcm91cCYmKGdyb3VwLmlzT3Blbj0hMSl9KX0sdGhpcy5hZGRHcm91cD1mdW5jdGlvbihncm91cFNjb3BlKXt2YXIgdGhhdD10aGlzO3RoaXMuZ3JvdXBzLnB1c2goZ3JvdXBTY29wZSksZ3JvdXBTY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3RoYXQucmVtb3ZlR3JvdXAoZ3JvdXBTY29wZSl9KX0sdGhpcy5yZW1vdmVHcm91cD1mdW5jdGlvbihncm91cCl7dmFyIGluZGV4PXRoaXMuZ3JvdXBzLmluZGV4T2YoZ3JvdXApOy0xIT09aW5kZXgmJnRoaXMuZ3JvdXBzLnNwbGljZShpbmRleCwxKX19XSkuZGlyZWN0aXZlKCJhY2NvcmRpb24iLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsY29udHJvbGxlcjoiQWNjb3JkaW9uQ29udHJvbGxlciIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiExLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwifX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uR3JvdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5hY2NvcmRpb24iLHJlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLHNjb3BlOntoZWFkaW5nOiJAIixpc09wZW46Ij0/Iixpc0Rpc2FibGVkOiI9PyJ9LGNvbnRyb2xsZXI6ZnVuY3Rpb24oKXt0aGlzLnNldEhlYWRpbmc9ZnVuY3Rpb24oZWxlbWVudCl7dGhpcy5oZWFkaW5nPWVsZW1lbnR9fSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsYWNjb3JkaW9uQ3RybCl7YWNjb3JkaW9uQ3RybC5hZGRHcm91cChzY29wZSksc2NvcGUuJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKHZhbHVlKXt2YWx1ZSYmYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSl9KSxzY29wZS50b2dnbGVPcGVuPWZ1bmN0aW9uKCl7c2NvcGUuaXNEaXNhYmxlZHx8KHNjb3BlLmlzT3Blbj0hc2NvcGUuaXNPcGVuKX19fX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uSGVhZGluZyIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHRlbXBsYXRlOiIiLHJlcGxhY2U6ITAscmVxdWlyZToiXmFjY29yZGlvbkdyb3VwIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixhY2NvcmRpb25Hcm91cEN0cmwsdHJhbnNjbHVkZSl7YWNjb3JkaW9uR3JvdXBDdHJsLnNldEhlYWRpbmcodHJhbnNjbHVkZShzY29wZSxmdW5jdGlvbigpe30pKX19fSkuZGlyZWN0aXZlKCJhY2NvcmRpb25UcmFuc2NsdWRlIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJeYWNjb3JkaW9uR3JvdXAiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGNvbnRyb2xsZXIpe3Njb3BlLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBjb250cm9sbGVyW2F0dHIuYWNjb3JkaW9uVHJhbnNjbHVkZV19LGZ1bmN0aW9uKGhlYWRpbmcpe2hlYWRpbmcmJihlbGVtZW50Lmh0bWwoIiIpLGVsZW1lbnQuYXBwZW5kKGhlYWRpbmcpKX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmFsZXJ0IixbXSkuY29udHJvbGxlcigiQWxlcnRDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyl7JHNjb3BlLmNsb3NlYWJsZT0iY2xvc2UiaW4gJGF0dHJzfV0pLmRpcmVjdGl2ZSgiYWxlcnQiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsY29udHJvbGxlcjoiQWxlcnRDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIixjbG9zZToiJiJ9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYmluZEh0bWwiLFtdKS5kaXJlY3RpdmUoImJpbmRIdG1sVW5zYWZlIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe2VsZW1lbnQuYWRkQ2xhc3MoIm5nLWJpbmRpbmciKS5kYXRhKCIkYmluZGluZyIsYXR0ci5iaW5kSHRtbFVuc2FmZSksc2NvcGUuJHdhdGNoKGF0dHIuYmluZEh0bWxVbnNhZmUsZnVuY3Rpb24odmFsdWUpe2VsZW1lbnQuaHRtbCh2YWx1ZXx8IiIpfSl9fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5idXR0b25zIixbXSkuY29uc3RhbnQoImJ1dHRvbkNvbmZpZyIse2FjdGl2ZUNsYXNzOiJhY3RpdmUiLHRvZ2dsZUV2ZW50OiJjbGljayJ9KS5jb250cm9sbGVyKCJCdXR0b25zQ29udHJvbGxlciIsWyJidXR0b25Db25maWciLGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZyl7dGhpcy5hY3RpdmVDbGFzcz1idXR0b25Db25maWcuYWN0aXZlQ2xhc3N8fCJhY3RpdmUiLHRoaXMudG9nZ2xlRXZlbnQ9YnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50fHwiY2xpY2sifV0pLmRpcmVjdGl2ZSgiYnRuUmFkaW8iLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6WyJidG5SYWRpbyIsIm5nTW9kZWwiXSxjb250cm9sbGVyOiJCdXR0b25zQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgYnV0dG9uc0N0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe2VsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKSl9LGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCxmdW5jdGlvbigpe3ZhciBpc0FjdGl2ZT1lbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKTsoIWlzQWN0aXZlfHxhbmd1bGFyLmlzRGVmaW5lZChhdHRycy51bmNoZWNrYWJsZSkpJiZzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGlzQWN0aXZlP251bGw6c2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKSxuZ01vZGVsQ3RybC4kcmVuZGVyKCl9KX0pfX19KS5kaXJlY3RpdmUoImJ0bkNoZWNrYm94IixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsiYnRuQ2hlY2tib3giLCJuZ01vZGVsIl0sY29udHJvbGxlcjoiQnV0dG9uc0NvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7ZnVuY3Rpb24gZ2V0VHJ1ZVZhbHVlKCl7cmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hUcnVlLCEwKX1mdW5jdGlvbiBnZXRGYWxzZVZhbHVlKCl7cmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwhMSl9ZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShhdHRyaWJ1dGVWYWx1ZSxkZWZhdWx0VmFsdWUpe3ZhciB2YWw9c2NvcGUuJGV2YWwoYXR0cmlidXRlVmFsdWUpO3JldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh2YWwpP3ZhbDpkZWZhdWx0VmFsdWV9dmFyIGJ1dHRvbnNDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLGdldFRydWVWYWx1ZSgpKSl9LGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCxmdW5jdGlvbigpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe25nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk/Z2V0RmFsc2VWYWx1ZSgpOmdldFRydWVWYWx1ZSgpKSxuZ01vZGVsQ3RybC4kcmVuZGVyKCl9KX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNhcm91c2VsIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmNvbnRyb2xsZXIoIkNhcm91c2VsQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkdGltZW91dCIsIiR0cmFuc2l0aW9uIixmdW5jdGlvbigkc2NvcGUsJHRpbWVvdXQsJHRyYW5zaXRpb24pe2Z1bmN0aW9uIHJlc3RhcnRUaW1lcigpe3Jlc2V0VGltZXIoKTt2YXIgaW50ZXJ2YWw9KyRzY29wZS5pbnRlcnZhbDshaXNOYU4oaW50ZXJ2YWwpJiZpbnRlcnZhbD49MCYmKGN1cnJlbnRUaW1lb3V0PSR0aW1lb3V0KHRpbWVyRm4saW50ZXJ2YWwpKX1mdW5jdGlvbiByZXNldFRpbWVyKCl7Y3VycmVudFRpbWVvdXQmJigkdGltZW91dC5jYW5jZWwoY3VycmVudFRpbWVvdXQpLGN1cnJlbnRUaW1lb3V0PW51bGwpfWZ1bmN0aW9uIHRpbWVyRm4oKXtpc1BsYXlpbmc/KCRzY29wZS5uZXh0KCkscmVzdGFydFRpbWVyKCkpOiRzY29wZS5wYXVzZSgpfXZhciBjdXJyZW50VGltZW91dCxpc1BsYXlpbmcsc2VsZj10aGlzLHNsaWRlcz1zZWxmLnNsaWRlcz0kc2NvcGUuc2xpZGVzPVtdLGN1cnJlbnRJbmRleD0tMTtzZWxmLmN1cnJlbnRTbGlkZT1udWxsO3ZhciBkZXN0cm95ZWQ9ITE7c2VsZi5zZWxlY3Q9JHNjb3BlLnNlbGVjdD1mdW5jdGlvbihuZXh0U2xpZGUsZGlyZWN0aW9uKXtmdW5jdGlvbiBnb05leHQoKXtpZighZGVzdHJveWVkKXtpZihzZWxmLmN1cnJlbnRTbGlkZSYmYW5ndWxhci5pc1N0cmluZyhkaXJlY3Rpb24pJiYhJHNjb3BlLm5vVHJhbnNpdGlvbiYmbmV4dFNsaWRlLiRlbGVtZW50KXtuZXh0U2xpZGUuJGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTt7bmV4dFNsaWRlLiRlbGVtZW50WzBdLm9mZnNldFdpZHRofWFuZ3VsYXIuZm9yRWFjaChzbGlkZXMsZnVuY3Rpb24oc2xpZGUpe2FuZ3VsYXIuZXh0ZW5kKHNsaWRlLHtkaXJlY3Rpb246IiIsZW50ZXJpbmc6ITEsbGVhdmluZzohMSxhY3RpdmU6ITF9KX0pLGFuZ3VsYXIuZXh0ZW5kKG5leHRTbGlkZSx7ZGlyZWN0aW9uOmRpcmVjdGlvbixhY3RpdmU6ITAsZW50ZXJpbmc6ITB9KSxhbmd1bGFyLmV4dGVuZChzZWxmLmN1cnJlbnRTbGlkZXx8e30se2RpcmVjdGlvbjpkaXJlY3Rpb24sbGVhdmluZzohMH0pLCRzY29wZS4kY3VycmVudFRyYW5zaXRpb249JHRyYW5zaXRpb24obmV4dFNsaWRlLiRlbGVtZW50LHt9KSxmdW5jdGlvbihuZXh0LGN1cnJlbnQpeyRzY29wZS4kY3VycmVudFRyYW5zaXRpb24udGhlbihmdW5jdGlvbigpe3RyYW5zaXRpb25Eb25lKG5leHQsY3VycmVudCl9LGZ1bmN0aW9uKCl7dHJhbnNpdGlvbkRvbmUobmV4dCxjdXJyZW50KX0pfShuZXh0U2xpZGUsc2VsZi5jdXJyZW50U2xpZGUpfWVsc2UgdHJhbnNpdGlvbkRvbmUobmV4dFNsaWRlLHNlbGYuY3VycmVudFNsaWRlKTtzZWxmLmN1cnJlbnRTbGlkZT1uZXh0U2xpZGUsY3VycmVudEluZGV4PW5leHRJbmRleCxyZXN0YXJ0VGltZXIoKX19ZnVuY3Rpb24gdHJhbnNpdGlvbkRvbmUobmV4dCxjdXJyZW50KXthbmd1bGFyLmV4dGVuZChuZXh0LHtkaXJlY3Rpb246IiIsYWN0aXZlOiEwLGxlYXZpbmc6ITEsZW50ZXJpbmc6ITF9KSxhbmd1bGFyLmV4dGVuZChjdXJyZW50fHx7fSx7ZGlyZWN0aW9uOiIiLGFjdGl2ZTohMSxsZWF2aW5nOiExLGVudGVyaW5nOiExfSksJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj1udWxsfXZhciBuZXh0SW5kZXg9c2xpZGVzLmluZGV4T2YobmV4dFNsaWRlKTt2b2lkIDA9PT1kaXJlY3Rpb24mJihkaXJlY3Rpb249bmV4dEluZGV4PmN1cnJlbnRJbmRleD8ibmV4dCI6InByZXYiKSxuZXh0U2xpZGUmJm5leHRTbGlkZSE9PXNlbGYuY3VycmVudFNsaWRlJiYoJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj8oJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbi5jYW5jZWwoKSwkdGltZW91dChnb05leHQpKTpnb05leHQoKSl9LCRzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2Rlc3Ryb3llZD0hMH0pLHNlbGYuaW5kZXhPZlNsaWRlPWZ1bmN0aW9uKHNsaWRlKXtyZXR1cm4gc2xpZGVzLmluZGV4T2Yoc2xpZGUpfSwkc2NvcGUubmV4dD1mdW5jdGlvbigpe3ZhciBuZXdJbmRleD0oY3VycmVudEluZGV4KzEpJXNsaWRlcy5sZW5ndGg7cmV0dXJuICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24/dm9pZCAwOnNlbGYuc2VsZWN0KHNsaWRlc1tuZXdJbmRleF0sIm5leHQiKX0sJHNjb3BlLnByZXY9ZnVuY3Rpb24oKXt2YXIgbmV3SW5kZXg9MD5jdXJyZW50SW5kZXgtMT9zbGlkZXMubGVuZ3RoLTE6Y3VycmVudEluZGV4LTE7cmV0dXJuICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24/dm9pZCAwOnNlbGYuc2VsZWN0KHNsaWRlc1tuZXdJbmRleF0sInByZXYiKX0sJHNjb3BlLmlzQWN0aXZlPWZ1bmN0aW9uKHNsaWRlKXtyZXR1cm4gc2VsZi5jdXJyZW50U2xpZGU9PT1zbGlkZX0sJHNjb3BlLiR3YXRjaCgiaW50ZXJ2YWwiLHJlc3RhcnRUaW1lciksJHNjb3BlLiRvbigiJGRlc3Ryb3kiLHJlc2V0VGltZXIpLCRzY29wZS5wbGF5PWZ1bmN0aW9uKCl7aXNQbGF5aW5nfHwoaXNQbGF5aW5nPSEwLHJlc3RhcnRUaW1lcigpKX0sJHNjb3BlLnBhdXNlPWZ1bmN0aW9uKCl7JHNjb3BlLm5vUGF1c2V8fChpc1BsYXlpbmc9ITEscmVzZXRUaW1lcigpKX0sc2VsZi5hZGRTbGlkZT1mdW5jdGlvbihzbGlkZSxlbGVtZW50KXtzbGlkZS4kZWxlbWVudD1lbGVtZW50LHNsaWRlcy5wdXNoKHNsaWRlKSwxPT09c2xpZGVzLmxlbmd0aHx8c2xpZGUuYWN0aXZlPyhzZWxmLnNlbGVjdChzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSksMT09c2xpZGVzLmxlbmd0aCYmJHNjb3BlLnBsYXkoKSk6c2xpZGUuYWN0aXZlPSExfSxzZWxmLnJlbW92ZVNsaWRlPWZ1bmN0aW9uKHNsaWRlKXt2YXIgaW5kZXg9c2xpZGVzLmluZGV4T2Yoc2xpZGUpO3NsaWRlcy5zcGxpY2UoaW5kZXgsMSksc2xpZGVzLmxlbmd0aD4wJiZzbGlkZS5hY3RpdmU/c2VsZi5zZWxlY3QoaW5kZXg+PXNsaWRlcy5sZW5ndGg/c2xpZGVzW2luZGV4LTFdOnNsaWRlc1tpbmRleF0pOmN1cnJlbnRJbmRleD5pbmRleCYmY3VycmVudEluZGV4LS19fV0pLmRpcmVjdGl2ZSgiY2Fyb3VzZWwiLFtmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCxjb250cm9sbGVyOiJDYXJvdXNlbENvbnRyb2xsZXIiLHJlcXVpcmU6ImNhcm91c2VsIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsc2NvcGU6e2ludGVydmFsOiI9Iixub1RyYW5zaXRpb246Ij0iLG5vUGF1c2U6Ij0ifX19XSkuZGlyZWN0aXZlKCJzbGlkZSIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmNhcm91c2VsIixyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCIsc2NvcGU6e2FjdGl2ZToiPT8ifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY2Fyb3VzZWxDdHJsKXtjYXJvdXNlbEN0cmwuYWRkU2xpZGUoc2NvcGUsZWxlbWVudCksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtjYXJvdXNlbEN0cmwucmVtb3ZlU2xpZGUoc2NvcGUpfSksc2NvcGUuJHdhdGNoKCJhY3RpdmUiLGZ1bmN0aW9uKGFjdGl2ZSl7YWN0aXZlJiZjYXJvdXNlbEN0cmwuc2VsZWN0KHNjb3BlKX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLFtdKS5zZXJ2aWNlKCJkYXRlUGFyc2VyIixbIiRsb2NhbGUiLCJvcmRlckJ5RmlsdGVyIixmdW5jdGlvbigkbG9jYWxlLG9yZGVyQnlGaWx0ZXIpe2Z1bmN0aW9uIGNyZWF0ZVBhcnNlcihmb3JtYXQpe3ZhciBtYXA9W10scmVnZXg9Zm9ybWF0LnNwbGl0KCIiKTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGZvcm1hdENvZGVUb1JlZ2V4LGZ1bmN0aW9uKGRhdGEsY29kZSl7dmFyIGluZGV4PWZvcm1hdC5pbmRleE9mKGNvZGUpO2lmKGluZGV4Pi0xKXtmb3JtYXQ9Zm9ybWF0LnNwbGl0KCIiKSxyZWdleFtpbmRleF09IigiK2RhdGEucmVnZXgrIikiLGZvcm1hdFtpbmRleF09IiQiO2Zvcih2YXIgaT1pbmRleCsxLG49aW5kZXgrY29kZS5sZW5ndGg7bj5pO2krKylyZWdleFtpXT0iIixmb3JtYXRbaV09IiQiO2Zvcm1hdD1mb3JtYXQuam9pbigiIiksbWFwLnB1c2goe2luZGV4OmluZGV4LGFwcGx5OmRhdGEuYXBwbHl9KX19KSx7cmVnZXg6bmV3IFJlZ0V4cCgiXiIrcmVnZXguam9pbigiIikrIiQiKSxtYXA6b3JkZXJCeUZpbHRlcihtYXAsImluZGV4Iil9Cn1mdW5jdGlvbiBpc1ZhbGlkKHllYXIsbW9udGgsZGF0ZSl7cmV0dXJuIDE9PT1tb250aCYmZGF0ZT4yOD8yOT09PWRhdGUmJih5ZWFyJTQ9PT0wJiZ5ZWFyJTEwMCE9PTB8fHllYXIlNDAwPT09MCk6Mz09PW1vbnRofHw1PT09bW9udGh8fDg9PT1tb250aHx8MTA9PT1tb250aD8zMT5kYXRlOiEwfXRoaXMucGFyc2Vycz17fTt2YXIgZm9ybWF0Q29kZVRvUmVnZXg9e3l5eXk6e3JlZ2V4OiJcXGR7NH0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlfX0seXk6e3JlZ2V4OiJcXGR7Mn0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlKzJlM319LHk6e3JlZ2V4OiJcXGR7MSw0fSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMueWVhcj0rdmFsdWV9fSxNTU1NOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPSRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKHZhbHVlKX19LE1NTTp7cmVnZXg6JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPSRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YodmFsdWUpfX0sTU06e3JlZ2V4OiIwWzEtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5tb250aD12YWx1ZS0xfX0sTTp7cmVnZXg6IlsxLTldfDFbMC0yXSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9dmFsdWUtMX19LGRkOntyZWdleDoiWzAtMl1bMC05XXsxfXwzWzAtMV17MX0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLmRhdGU9K3ZhbHVlfX0sZDp7cmVnZXg6IlsxLTJdP1swLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMuZGF0ZT0rdmFsdWV9fSxFRUVFOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuREFZLmpvaW4oInwiKX0sRUVFOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlREQVkuam9pbigifCIpfX07dGhpcy5wYXJzZT1mdW5jdGlvbihpbnB1dCxmb3JtYXQpe2lmKCFhbmd1bGFyLmlzU3RyaW5nKGlucHV0KXx8IWZvcm1hdClyZXR1cm4gaW5wdXQ7Zm9ybWF0PSRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdfHxmb3JtYXQsdGhpcy5wYXJzZXJzW2Zvcm1hdF18fCh0aGlzLnBhcnNlcnNbZm9ybWF0XT1jcmVhdGVQYXJzZXIoZm9ybWF0KSk7dmFyIHBhcnNlcj10aGlzLnBhcnNlcnNbZm9ybWF0XSxyZWdleD1wYXJzZXIucmVnZXgsbWFwPXBhcnNlci5tYXAscmVzdWx0cz1pbnB1dC5tYXRjaChyZWdleCk7aWYocmVzdWx0cyYmcmVzdWx0cy5sZW5ndGgpe2Zvcih2YXIgZHQsZmllbGRzPXt5ZWFyOjE5MDAsbW9udGg6MCxkYXRlOjEsaG91cnM6MH0saT0xLG49cmVzdWx0cy5sZW5ndGg7bj5pO2krKyl7dmFyIG1hcHBlcj1tYXBbaS0xXTttYXBwZXIuYXBwbHkmJm1hcHBlci5hcHBseS5jYWxsKGZpZWxkcyxyZXN1bHRzW2ldKX1yZXR1cm4gaXNWYWxpZChmaWVsZHMueWVhcixmaWVsZHMubW9udGgsZmllbGRzLmRhdGUpJiYoZHQ9bmV3IERhdGUoZmllbGRzLnllYXIsZmllbGRzLm1vbnRoLGZpZWxkcy5kYXRlLGZpZWxkcy5ob3VycykpLGR0fX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsW10pLmZhY3RvcnkoIiRwb3NpdGlvbiIsWyIkZG9jdW1lbnQiLCIkd2luZG93IixmdW5jdGlvbigkZG9jdW1lbnQsJHdpbmRvdyl7ZnVuY3Rpb24gZ2V0U3R5bGUoZWwsY3NzcHJvcCl7cmV0dXJuIGVsLmN1cnJlbnRTdHlsZT9lbC5jdXJyZW50U3R5bGVbY3NzcHJvcF06JHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlPyR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF06ZWwuc3R5bGVbY3NzcHJvcF19ZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpe3JldHVybiJzdGF0aWMiPT09KGdldFN0eWxlKGVsZW1lbnQsInBvc2l0aW9uIil8fCJzdGF0aWMiKX12YXIgcGFyZW50T2Zmc2V0RWw9ZnVuY3Rpb24oZWxlbWVudCl7Zm9yKHZhciBkb2NEb21FbD0kZG9jdW1lbnRbMF0sb2Zmc2V0UGFyZW50PWVsZW1lbnQub2Zmc2V0UGFyZW50fHxkb2NEb21FbDtvZmZzZXRQYXJlbnQmJm9mZnNldFBhcmVudCE9PWRvY0RvbUVsJiZpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KTspb2Zmc2V0UGFyZW50PW9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7cmV0dXJuIG9mZnNldFBhcmVudHx8ZG9jRG9tRWx9O3JldHVybntwb3NpdGlvbjpmdW5jdGlvbihlbGVtZW50KXt2YXIgZWxCQ1I9dGhpcy5vZmZzZXQoZWxlbWVudCksb2Zmc2V0UGFyZW50QkNSPXt0b3A6MCxsZWZ0OjB9LG9mZnNldFBhcmVudEVsPXBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO29mZnNldFBhcmVudEVsIT0kZG9jdW1lbnRbMF0mJihvZmZzZXRQYXJlbnRCQ1I9dGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSksb2Zmc2V0UGFyZW50QkNSLnRvcCs9b2Zmc2V0UGFyZW50RWwuY2xpZW50VG9wLW9mZnNldFBhcmVudEVsLnNjcm9sbFRvcCxvZmZzZXRQYXJlbnRCQ1IubGVmdCs9b2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdC1vZmZzZXRQYXJlbnRFbC5zY3JvbGxMZWZ0KTt2YXIgYm91bmRpbmdDbGllbnRSZWN0PWVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRXaWR0aCIpLGhlaWdodDpib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0fHxlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLHRvcDplbEJDUi50b3Atb2Zmc2V0UGFyZW50QkNSLnRvcCxsZWZ0OmVsQkNSLmxlZnQtb2Zmc2V0UGFyZW50QkNSLmxlZnR9fSxvZmZzZXQ6ZnVuY3Rpb24oZWxlbWVudCl7dmFyIGJvdW5kaW5nQ2xpZW50UmVjdD1lbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDpib3VuZGluZ0NsaWVudFJlY3Qud2lkdGh8fGVsZW1lbnQucHJvcCgib2Zmc2V0V2lkdGgiKSxoZWlnaHQ6Ym91bmRpbmdDbGllbnRSZWN0LmhlaWdodHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSx0b3A6Ym91bmRpbmdDbGllbnRSZWN0LnRvcCsoJHdpbmRvdy5wYWdlWU9mZnNldHx8JGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLGxlZnQ6Ym91bmRpbmdDbGllbnRSZWN0LmxlZnQrKCR3aW5kb3cucGFnZVhPZmZzZXR8fCRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCl9fSxwb3NpdGlvbkVsZW1lbnRzOmZ1bmN0aW9uKGhvc3RFbCx0YXJnZXRFbCxwb3NpdGlvblN0cixhcHBlbmRUb0JvZHkpe3ZhciBob3N0RWxQb3MsdGFyZ2V0RWxXaWR0aCx0YXJnZXRFbEhlaWdodCx0YXJnZXRFbFBvcyxwb3NpdGlvblN0clBhcnRzPXBvc2l0aW9uU3RyLnNwbGl0KCItIikscG9zMD1wb3NpdGlvblN0clBhcnRzWzBdLHBvczE9cG9zaXRpb25TdHJQYXJ0c1sxXXx8ImNlbnRlciI7aG9zdEVsUG9zPWFwcGVuZFRvQm9keT90aGlzLm9mZnNldChob3N0RWwpOnRoaXMucG9zaXRpb24oaG9zdEVsKSx0YXJnZXRFbFdpZHRoPXRhcmdldEVsLnByb3AoIm9mZnNldFdpZHRoIiksdGFyZ2V0RWxIZWlnaHQ9dGFyZ2V0RWwucHJvcCgib2Zmc2V0SGVpZ2h0Iik7dmFyIHNoaWZ0V2lkdGg9e2NlbnRlcjpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MubGVmdCtob3N0RWxQb3Mud2lkdGgvMi10YXJnZXRFbFdpZHRoLzJ9LGxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLmxlZnR9LHJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy5sZWZ0K2hvc3RFbFBvcy53aWR0aH19LHNoaWZ0SGVpZ2h0PXtjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLnRvcCtob3N0RWxQb3MuaGVpZ2h0LzItdGFyZ2V0RWxIZWlnaHQvMn0sdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy50b3B9LGJvdHRvbTpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MudG9wK2hvc3RFbFBvcy5oZWlnaHR9fTtzd2l0Y2gocG9zMCl7Y2FzZSJyaWdodCI6dGFyZ2V0RWxQb3M9e3RvcDpzaGlmdEhlaWdodFtwb3MxXSgpLGxlZnQ6c2hpZnRXaWR0aFtwb3MwXSgpfTticmVhaztjYXNlImxlZnQiOnRhcmdldEVsUG9zPXt0b3A6c2hpZnRIZWlnaHRbcG9zMV0oKSxsZWZ0Omhvc3RFbFBvcy5sZWZ0LXRhcmdldEVsV2lkdGh9O2JyZWFrO2Nhc2UiYm90dG9tIjp0YXJnZXRFbFBvcz17dG9wOnNoaWZ0SGVpZ2h0W3BvczBdKCksbGVmdDpzaGlmdFdpZHRoW3BvczFdKCl9O2JyZWFrO2RlZmF1bHQ6dGFyZ2V0RWxQb3M9e3RvcDpob3N0RWxQb3MudG9wLXRhcmdldEVsSGVpZ2h0LGxlZnQ6c2hpZnRXaWR0aFtwb3MxXSgpfX1yZXR1cm4gdGFyZ2V0RWxQb3N9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLFsidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iXSkuY29uc3RhbnQoImRhdGVwaWNrZXJDb25maWciLHtmb3JtYXREYXk6ImRkIixmb3JtYXRNb250aDoiTU1NTSIsZm9ybWF0WWVhcjoieXl5eSIsZm9ybWF0RGF5SGVhZGVyOiJFRUUiLGZvcm1hdERheVRpdGxlOiJNTU1NIHl5eXkiLGZvcm1hdE1vbnRoVGl0bGU6Inl5eXkiLGRhdGVwaWNrZXJNb2RlOiJkYXkiLG1pbk1vZGU6ImRheSIsbWF4TW9kZToieWVhciIsc2hvd1dlZWtzOiEwLHN0YXJ0aW5nRGF5OjAseWVhclJhbmdlOjIwLG1pbkRhdGU6bnVsbCxtYXhEYXRlOm51bGx9KS5jb250cm9sbGVyKCJEYXRlcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkaW50ZXJwb2xhdGUiLCIkdGltZW91dCIsIiRsb2ciLCJkYXRlRmlsdGVyIiwiZGF0ZXBpY2tlckNvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2UsJGludGVycG9sYXRlLCR0aW1lb3V0LCRsb2csZGF0ZUZpbHRlcixkYXRlcGlja2VyQ29uZmlnKXt2YXIgc2VsZj10aGlzLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH07dGhpcy5tb2Rlcz1bImRheSIsIm1vbnRoIiwieWVhciJdLGFuZ3VsYXIuZm9yRWFjaChbImZvcm1hdERheSIsImZvcm1hdE1vbnRoIiwiZm9ybWF0WWVhciIsImZvcm1hdERheUhlYWRlciIsImZvcm1hdERheVRpdGxlIiwiZm9ybWF0TW9udGhUaXRsZSIsIm1pbk1vZGUiLCJtYXhNb2RlIiwic2hvd1dlZWtzIiwic3RhcnRpbmdEYXkiLCJ5ZWFyUmFuZ2UiXSxmdW5jdGlvbihrZXksaW5kZXgpe3NlbGZba2V5XT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSk/OD5pbmRleD8kaW50ZXJwb2xhdGUoJGF0dHJzW2tleV0pKCRzY29wZS4kcGFyZW50KTokc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSk6ZGF0ZXBpY2tlckNvbmZpZ1trZXldfSksYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiXSxmdW5jdGlvbihrZXkpeyRhdHRyc1trZXldPyRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLGZ1bmN0aW9uKHZhbHVlKXtzZWxmW2tleV09dmFsdWU/bmV3IERhdGUodmFsdWUpOm51bGwsc2VsZi5yZWZyZXNoVmlldygpfSk6c2VsZltrZXldPWRhdGVwaWNrZXJDb25maWdba2V5XT9uZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pOm51bGx9KSwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9JHNjb3BlLmRhdGVwaWNrZXJNb2RlfHxkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlLCRzY29wZS51bmlxdWVJZD0iZGF0ZXBpY2tlci0iKyRzY29wZS4kaWQrIi0iK01hdGguZmxvb3IoMWU0Kk1hdGgucmFuZG9tKCkpLHRoaXMuYWN0aXZlRGF0ZT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuaW5pdERhdGUpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSk6bmV3IERhdGUsJHNjb3BlLmlzQWN0aXZlPWZ1bmN0aW9uKGRhdGVPYmplY3Qpe3JldHVybiAwPT09c2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSxzZWxmLmFjdGl2ZURhdGUpPygkc2NvcGUuYWN0aXZlRGF0ZUlkPWRhdGVPYmplY3QudWlkLCEwKTohMX0sdGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG5nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtzZWxmLnJlbmRlcigpfX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXtpZihuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSl7dmFyIGRhdGU9bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpLGlzVmFsaWQ9IWlzTmFOKGRhdGUpO2lzVmFsaWQ/dGhpcy5hY3RpdmVEYXRlPWRhdGU6JGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6ICJuZy1tb2RlbCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpLG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsaXNWYWxpZCl9dGhpcy5yZWZyZXNoVmlldygpfSx0aGlzLnJlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50KXt0aGlzLl9yZWZyZXNoVmlldygpO3ZhciBkYXRlPW5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlP25ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKTpudWxsO25nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgiZGF0ZS1kaXNhYmxlZCIsIWRhdGV8fHRoaXMuZWxlbWVudCYmIXRoaXMuaXNEaXNhYmxlZChkYXRlKSl9fSx0aGlzLmNyZWF0ZURhdGVPYmplY3Q9ZnVuY3Rpb24oZGF0ZSxmb3JtYXQpe3ZhciBtb2RlbD1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bnVsbDtyZXR1cm57ZGF0ZTpkYXRlLGxhYmVsOmRhdGVGaWx0ZXIoZGF0ZSxmb3JtYXQpLHNlbGVjdGVkOm1vZGVsJiYwPT09dGhpcy5jb21wYXJlKGRhdGUsbW9kZWwpLGRpc2FibGVkOnRoaXMuaXNEaXNhYmxlZChkYXRlKSxjdXJyZW50OjA9PT10aGlzLmNvbXBhcmUoZGF0ZSxuZXcgRGF0ZSl9fSx0aGlzLmlzRGlzYWJsZWQ9ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIHRoaXMubWluRGF0ZSYmdGhpcy5jb21wYXJlKGRhdGUsdGhpcy5taW5EYXRlKTwwfHx0aGlzLm1heERhdGUmJnRoaXMuY29tcGFyZShkYXRlLHRoaXMubWF4RGF0ZSk+MHx8JGF0dHJzLmRhdGVEaXNhYmxlZCYmJHNjb3BlLmRhdGVEaXNhYmxlZCh7ZGF0ZTpkYXRlLG1vZGU6JHNjb3BlLmRhdGVwaWNrZXJNb2RlfSl9LHRoaXMuc3BsaXQ9ZnVuY3Rpb24oYXJyLHNpemUpe2Zvcih2YXIgYXJyYXlzPVtdO2Fyci5sZW5ndGg+MDspYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLHNpemUpKTtyZXR1cm4gYXJyYXlzfSwkc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKGRhdGUpe2lmKCRzY29wZS5kYXRlcGlja2VyTW9kZT09PXNlbGYubWluTW9kZSl7dmFyIGR0PW5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlP25ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKTpuZXcgRGF0ZSgwLDAsMCwwLDAsMCwwKTtkdC5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCksZGF0ZS5nZXRNb250aCgpLGRhdGUuZ2V0RGF0ZSgpKSxuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGR0KSxuZ01vZGVsQ3RybC4kcmVuZGVyKCl9ZWxzZSBzZWxmLmFjdGl2ZURhdGU9ZGF0ZSwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9c2VsZi5tb2Rlc1tzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKS0xXX0sJHNjb3BlLm1vdmU9ZnVuY3Rpb24oZGlyZWN0aW9uKXt2YXIgeWVhcj1zZWxmLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKStkaXJlY3Rpb24qKHNlbGYuc3RlcC55ZWFyc3x8MCksbW9udGg9c2VsZi5hY3RpdmVEYXRlLmdldE1vbnRoKCkrZGlyZWN0aW9uKihzZWxmLnN0ZXAubW9udGhzfHwwKTtzZWxmLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcixtb250aCwxKSxzZWxmLnJlZnJlc2hWaWV3KCl9LCRzY29wZS50b2dnbGVNb2RlPWZ1bmN0aW9uKGRpcmVjdGlvbil7ZGlyZWN0aW9uPWRpcmVjdGlvbnx8MSwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9PT1zZWxmLm1heE1vZGUmJjE9PT1kaXJlY3Rpb258fCRzY29wZS5kYXRlcGlja2VyTW9kZT09PXNlbGYubWluTW9kZSYmLTE9PT1kaXJlY3Rpb258fCgkc2NvcGUuZGF0ZXBpY2tlck1vZGU9c2VsZi5tb2Rlc1tzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKStkaXJlY3Rpb25dKX0sJHNjb3BlLmtleXM9ezEzOiJlbnRlciIsMzI6InNwYWNlIiwzMzoicGFnZXVwIiwzNDoicGFnZWRvd24iLDM1OiJlbmQiLDM2OiJob21lIiwzNzoibGVmdCIsMzg6InVwIiwzOToicmlnaHQiLDQwOiJkb3duIn07dmFyIGZvY3VzRWxlbWVudD1mdW5jdGlvbigpeyR0aW1lb3V0KGZ1bmN0aW9uKCl7c2VsZi5lbGVtZW50WzBdLmZvY3VzKCl9LDAsITEpfTskc2NvcGUuJG9uKCJkYXRlcGlja2VyLmZvY3VzIixmb2N1c0VsZW1lbnQpLCRzY29wZS5rZXlkb3duPWZ1bmN0aW9uKGV2dCl7dmFyIGtleT0kc2NvcGUua2V5c1tldnQud2hpY2hdO2lmKGtleSYmIWV2dC5zaGlmdEtleSYmIWV2dC5hbHRLZXkpaWYoZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCJlbnRlciI9PT1rZXl8fCJzcGFjZSI9PT1rZXkpe2lmKHNlbGYuaXNEaXNhYmxlZChzZWxmLmFjdGl2ZURhdGUpKXJldHVybjskc2NvcGUuc2VsZWN0KHNlbGYuYWN0aXZlRGF0ZSksZm9jdXNFbGVtZW50KCl9ZWxzZSFldnQuY3RybEtleXx8InVwIiE9PWtleSYmImRvd24iIT09a2V5PyhzZWxmLmhhbmRsZUtleURvd24oa2V5LGV2dCksc2VsZi5yZWZyZXNoVmlldygpKTooJHNjb3BlLnRvZ2dsZU1vZGUoInVwIj09PWtleT8xOi0xKSxmb2N1c0VsZW1lbnQoKSl9fV0pLmRpcmVjdGl2ZSgiZGF0ZXBpY2tlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsc2NvcGU6e2RhdGVwaWNrZXJNb2RlOiI9PyIsZGF0ZURpc2FibGVkOiImIn0scmVxdWlyZTpbImRhdGVwaWNrZXIiLCI/Xm5nTW9kZWwiXSxjb250cm9sbGVyOiJEYXRlcGlja2VyQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgZGF0ZXBpY2tlckN0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJmRhdGVwaWNrZXJDdHJsLmluaXQobmdNb2RlbEN0cmwpfX19KS5kaXJlY3RpdmUoImRheXBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbihkYXRlRmlsdGVyKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmwpe2Z1bmN0aW9uIGdldERheXNJbk1vbnRoKHllYXIsbW9udGgpe3JldHVybiAxIT09bW9udGh8fHllYXIlNCE9PTB8fHllYXIlMTAwPT09MCYmeWVhciU0MDAhPT0wP0RBWVNfSU5fTU9OVEhbbW9udGhdOjI5fWZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSxuKXt2YXIgZGF0ZXM9bmV3IEFycmF5KG4pLGN1cnJlbnQ9bmV3IERhdGUoc3RhcnREYXRlKSxpPTA7Zm9yKGN1cnJlbnQuc2V0SG91cnMoMTIpO24+aTspZGF0ZXNbaSsrXT1uZXcgRGF0ZShjdXJyZW50KSxjdXJyZW50LnNldERhdGUoY3VycmVudC5nZXREYXRlKCkrMSk7cmV0dXJuIGRhdGVzfWZ1bmN0aW9uIGdldElTTzg2MDFXZWVrTnVtYmVyKGRhdGUpe3ZhciBjaGVja0RhdGU9bmV3IERhdGUoZGF0ZSk7Y2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSs0LShjaGVja0RhdGUuZ2V0RGF5KCl8fDcpKTt2YXIgdGltZT1jaGVja0RhdGUuZ2V0VGltZSgpO3JldHVybiBjaGVja0RhdGUuc2V0TW9udGgoMCksY2hlY2tEYXRlLnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0aW1lLWNoZWNrRGF0ZSkvODY0ZTUpLzcpKzF9c2NvcGUuc2hvd1dlZWtzPWN0cmwuc2hvd1dlZWtzLGN0cmwuc3RlcD17bW9udGhzOjF9LGN0cmwuZWxlbWVudD1lbGVtZW50O3ZhciBEQVlTX0lOX01PTlRIPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07Y3RybC5fcmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXt2YXIgeWVhcj1jdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxtb250aD1jdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSxmaXJzdERheU9mTW9udGg9bmV3IERhdGUoeWVhcixtb250aCwxKSxkaWZmZXJlbmNlPWN0cmwuc3RhcnRpbmdEYXktZmlyc3REYXlPZk1vbnRoLmdldERheSgpLG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoPWRpZmZlcmVuY2U+MD83LWRpZmZlcmVuY2U6LWRpZmZlcmVuY2UsZmlyc3REYXRlPW5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCk7bnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGg+MCYmZmlyc3REYXRlLnNldERhdGUoLW51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoKzEpO2Zvcih2YXIgZGF5cz1nZXREYXRlcyhmaXJzdERhdGUsNDIpLGk9MDs0Mj5pO2krKylkYXlzW2ldPWFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXlzW2ldLGN0cmwuZm9ybWF0RGF5KSx7c2Vjb25kYXJ5OmRheXNbaV0uZ2V0TW9udGgoKSE9PW1vbnRoLHVpZDpzY29wZS51bmlxdWVJZCsiLSIraX0pO3Njb3BlLmxhYmVscz1uZXcgQXJyYXkoNyk7Zm9yKHZhciBqPTA7Nz5qO2orKylzY29wZS5sYWJlbHNbal09e2FiYnI6ZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsY3RybC5mb3JtYXREYXlIZWFkZXIpLGZ1bGw6ZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsIkVFRUUiKX07aWYoc2NvcGUudGl0bGU9ZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsY3RybC5mb3JtYXREYXlUaXRsZSksc2NvcGUucm93cz1jdHJsLnNwbGl0KGRheXMsNyksc2NvcGUuc2hvd1dlZWtzKXtzY29wZS53ZWVrTnVtYmVycz1bXTtmb3IodmFyIHdlZWtOdW1iZXI9Z2V0SVNPODYwMVdlZWtOdW1iZXIoc2NvcGUucm93c1swXVswXS5kYXRlKSxudW1XZWVrcz1zY29wZS5yb3dzLmxlbmd0aDtzY29wZS53ZWVrTnVtYmVycy5wdXNoKHdlZWtOdW1iZXIrKyk8bnVtV2Vla3M7KTt9fSxjdHJsLmNvbXBhcmU9ZnVuY3Rpb24oZGF0ZTEsZGF0ZTIpe3JldHVybiBuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLGRhdGUxLmdldE1vbnRoKCksZGF0ZTEuZ2V0RGF0ZSgpKS1uZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLGRhdGUyLmdldE1vbnRoKCksZGF0ZTIuZ2V0RGF0ZSgpKX0sY3RybC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGtleSl7dmFyIGRhdGU9Y3RybC5hY3RpdmVEYXRlLmdldERhdGUoKTtpZigibGVmdCI9PT1rZXkpZGF0ZS09MTtlbHNlIGlmKCJ1cCI9PT1rZXkpZGF0ZS09NztlbHNlIGlmKCJyaWdodCI9PT1rZXkpZGF0ZSs9MTtlbHNlIGlmKCJkb3duIj09PWtleSlkYXRlKz03O2Vsc2UgaWYoInBhZ2V1cCI9PT1rZXl8fCJwYWdlZG93biI9PT1rZXkpe3ZhciBtb250aD1jdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSsoInBhZ2V1cCI9PT1rZXk/LTE6MSk7Y3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLDEpLGRhdGU9TWF0aC5taW4oZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLGRhdGUpfWVsc2UiaG9tZSI9PT1rZXk/ZGF0ZT0xOiJlbmQiPT09a2V5JiYoZGF0ZT1nZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSkpO2N0cmwuYWN0aXZlRGF0ZS5zZXREYXRlKGRhdGUpfSxjdHJsLnJlZnJlc2hWaWV3KCl9fX1dKS5kaXJlY3RpdmUoIm1vbnRocGlja2VyIixbImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKGRhdGVGaWx0ZXIpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJsKXtjdHJsLnN0ZXA9e3llYXJzOjF9LGN0cmwuZWxlbWVudD1lbGVtZW50LGN0cmwuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7Zm9yKHZhciBtb250aHM9bmV3IEFycmF5KDEyKSx5ZWFyPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGk9MDsxMj5pO2krKyltb250aHNbaV09YW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KG5ldyBEYXRlKHllYXIsaSwxKSxjdHJsLmZvcm1hdE1vbnRoKSx7dWlkOnNjb3BlLnVuaXF1ZUlkKyItIitpfSk7c2NvcGUudGl0bGU9ZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsY3RybC5mb3JtYXRNb250aFRpdGxlKSxzY29wZS5yb3dzPWN0cmwuc3BsaXQobW9udGhzLDMpfSxjdHJsLmNvbXBhcmU9ZnVuY3Rpb24oZGF0ZTEsZGF0ZTIpe3JldHVybiBuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLGRhdGUxLmdldE1vbnRoKCkpLW5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksZGF0ZTIuZ2V0TW9udGgoKSl9LGN0cmwuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihrZXkpe3ZhciBkYXRlPWN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpO2lmKCJsZWZ0Ij09PWtleSlkYXRlLT0xO2Vsc2UgaWYoInVwIj09PWtleSlkYXRlLT0zO2Vsc2UgaWYoInJpZ2h0Ij09PWtleSlkYXRlKz0xO2Vsc2UgaWYoImRvd24iPT09a2V5KWRhdGUrPTM7ZWxzZSBpZigicGFnZXVwIj09PWtleXx8InBhZ2Vkb3duIj09PWtleSl7dmFyIHllYXI9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkrKCJwYWdldXAiPT09a2V5Py0xOjEpO2N0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyKX1lbHNlImhvbWUiPT09a2V5P2RhdGU9MDoiZW5kIj09PWtleSYmKGRhdGU9MTEpO2N0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChkYXRlKX0sY3RybC5yZWZyZXNoVmlldygpfX19XSkuZGlyZWN0aXZlKCJ5ZWFycGlja2VyIixbImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwiLHJlcXVpcmU6Il5kYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCl7ZnVuY3Rpb24gZ2V0U3RhcnRpbmdZZWFyKHllYXIpe3JldHVybiBwYXJzZUludCgoeWVhci0xKS9yYW5nZSwxMCkqcmFuZ2UrMX12YXIgcmFuZ2U9Y3RybC55ZWFyUmFuZ2U7Y3RybC5zdGVwPXt5ZWFyczpyYW5nZX0sY3RybC5lbGVtZW50PWVsZW1lbnQsY3RybC5fcmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtmb3IodmFyIHllYXJzPW5ldyBBcnJheShyYW5nZSksaT0wLHN0YXJ0PWdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7cmFuZ2U+aTtpKyspeWVhcnNbaV09YW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KG5ldyBEYXRlKHN0YXJ0K2ksMCwxKSxjdHJsLmZvcm1hdFllYXIpLHt1aWQ6c2NvcGUudW5pcXVlSWQrIi0iK2l9KTtzY29wZS50aXRsZT1beWVhcnNbMF0ubGFiZWwseWVhcnNbcmFuZ2UtMV0ubGFiZWxdLmpvaW4oIiAtICIpLHNjb3BlLnJvd3M9Y3RybC5zcGxpdCh5ZWFycyw1KX0sY3RybC5jb21wYXJlPWZ1bmN0aW9uKGRhdGUxLGRhdGUyKXtyZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKS1kYXRlMi5nZXRGdWxsWWVhcigpfSxjdHJsLmhhbmRsZUtleURvd249ZnVuY3Rpb24oa2V5KXt2YXIgZGF0ZT1jdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKTsibGVmdCI9PT1rZXk/ZGF0ZS09MToidXAiPT09a2V5P2RhdGUtPTU6InJpZ2h0Ij09PWtleT9kYXRlKz0xOiJkb3duIj09PWtleT9kYXRlKz01OiJwYWdldXAiPT09a2V5fHwicGFnZWRvd24iPT09a2V5P2RhdGUrPSgicGFnZXVwIj09PWtleT8tMToxKSpjdHJsLnN0ZXAueWVhcnM6ImhvbWUiPT09a2V5P2RhdGU9Z2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKToiZW5kIj09PWtleSYmKGRhdGU9Z2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKStyYW5nZS0xKSxjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoZGF0ZSl9LGN0cmwucmVmcmVzaFZpZXcoKX19fV0pLmNvbnN0YW50KCJkYXRlcGlja2VyUG9wdXBDb25maWciLHtkYXRlcGlja2VyUG9wdXA6Inl5eXktTU0tZGQiLGN1cnJlbnRUZXh0OiJUb2RheSIsY2xlYXJUZXh0OiJDbGVhciIsY2xvc2VUZXh0OiJEb25lIixjbG9zZU9uRGF0ZVNlbGVjdGlvbjohMCxhcHBlbmRUb0JvZHk6ITEsc2hvd0J1dHRvbkJhcjohMH0pLmRpcmVjdGl2ZSgiZGF0ZXBpY2tlclBvcHVwIixbIiRjb21waWxlIiwiJHBhcnNlIiwiJGRvY3VtZW50IiwiJHBvc2l0aW9uIiwiZGF0ZUZpbHRlciIsImRhdGVQYXJzZXIiLCJkYXRlcGlja2VyUG9wdXBDb25maWciLGZ1bmN0aW9uKCRjb21waWxlLCRwYXJzZSwkZG9jdW1lbnQsJHBvc2l0aW9uLGRhdGVGaWx0ZXIsZGF0ZVBhcnNlcixkYXRlcGlja2VyUG9wdXBDb25maWcpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6Im5nTW9kZWwiLHNjb3BlOntpc09wZW46Ij0/IixjdXJyZW50VGV4dDoiQCIsY2xlYXJUZXh0OiJAIixjbG9zZVRleHQ6IkAiLGRhdGVEaXNhYmxlZDoiJiJ9LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxuZ01vZGVsKXtmdW5jdGlvbiBjYW1lbHRvRGFzaChzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSgvKFtBLVpdKS9nLGZ1bmN0aW9uKCQxKXtyZXR1cm4iLSIrJDEudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIHBhcnNlRGF0ZSh2aWV3VmFsdWUpe2lmKHZpZXdWYWx1ZSl7aWYoYW5ndWxhci5pc0RhdGUodmlld1ZhbHVlKSYmIWlzTmFOKHZpZXdWYWx1ZSkpcmV0dXJuIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksdmlld1ZhbHVlO2lmKGFuZ3VsYXIuaXNTdHJpbmcodmlld1ZhbHVlKSl7dmFyIGRhdGU9ZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsZGF0ZUZvcm1hdCl8fG5ldyBEYXRlKHZpZXdWYWx1ZSk7cmV0dXJuIGlzTmFOKGRhdGUpP3ZvaWQgbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCExKToobmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSxkYXRlKX1yZXR1cm4gdm9pZCBuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITEpfXJldHVybiBuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITApLG51bGx9dmFyIGRhdGVGb3JtYXQsY2xvc2VPbkRhdGVTZWxlY3Rpb249YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pOmRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZU9uRGF0ZVNlbGVjdGlvbixhcHBlbmRUb0JvZHk9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KTpkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5O3Njb3BlLnNob3dCdXR0b25CYXI9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2hvd0J1dHRvbkJhcik/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5zaG93QnV0dG9uQmFyKTpkYXRlcGlja2VyUG9wdXBDb25maWcuc2hvd0J1dHRvbkJhcixzY29wZS5nZXRUZXh0PWZ1bmN0aW9uKGtleSl7cmV0dXJuIHNjb3BlW2tleSsiVGV4dCJdfHxkYXRlcGlja2VyUG9wdXBDb25maWdba2V5KyJUZXh0Il19LGF0dHJzLiRvYnNlcnZlKCJkYXRlcGlja2VyUG9wdXAiLGZ1bmN0aW9uKHZhbHVlKXtkYXRlRm9ybWF0PXZhbHVlfHxkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwLG5nTW9kZWwuJHJlbmRlcigpfSk7dmFyIHBvcHVwRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IGRhdGVwaWNrZXItcG9wdXAtd3JhcD48ZGl2IGRhdGVwaWNrZXI+PC9kaXY+PC9kaXY+Iik7cG9wdXBFbC5hdHRyKHsibmctbW9kZWwiOiJkYXRlIiwibmctY2hhbmdlIjoiZGF0ZVNlbGVjdGlvbigpIn0pO3ZhciBkYXRlcGlja2VyRWw9YW5ndWxhci5lbGVtZW50KHBvcHVwRWwuY2hpbGRyZW4oKVswXSk7YXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMmJmFuZ3VsYXIuZm9yRWFjaChzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJPcHRpb25zKSxmdW5jdGlvbih2YWx1ZSxvcHRpb24pe2RhdGVwaWNrZXJFbC5hdHRyKGNhbWVsdG9EYXNoKG9wdGlvbiksdmFsdWUpfSksc2NvcGUud2F0Y2hEYXRhPXt9LGFuZ3VsYXIuZm9yRWFjaChbIm1pbkRhdGUiLCJtYXhEYXRlIiwiZGF0ZXBpY2tlck1vZGUiXSxmdW5jdGlvbihrZXkpe2lmKGF0dHJzW2tleV0pe3ZhciBnZXRBdHRyaWJ1dGU9JHBhcnNlKGF0dHJzW2tleV0pO2lmKHNjb3BlLiRwYXJlbnQuJHdhdGNoKGdldEF0dHJpYnV0ZSxmdW5jdGlvbih2YWx1ZSl7c2NvcGUud2F0Y2hEYXRhW2tleV09dmFsdWV9KSxkYXRlcGlja2VyRWwuYXR0cihjYW1lbHRvRGFzaChrZXkpLCJ3YXRjaERhdGEuIitrZXkpLCJkYXRlcGlja2VyTW9kZSI9PT1rZXkpe3ZhciBzZXRBdHRyaWJ1dGU9Z2V0QXR0cmlidXRlLmFzc2lnbjtzY29wZS4kd2F0Y2goIndhdGNoRGF0YS4iK2tleSxmdW5jdGlvbih2YWx1ZSxvbGR2YWx1ZSl7dmFsdWUhPT1vbGR2YWx1ZSYmc2V0QXR0cmlidXRlKHNjb3BlLiRwYXJlbnQsdmFsdWUpfSl9fX0pLGF0dHJzLmRhdGVEaXNhYmxlZCYmZGF0ZXBpY2tlckVsLmF0dHIoImRhdGUtZGlzYWJsZWQiLCJkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pIiksbmdNb2RlbC4kcGFyc2Vycy51bnNoaWZ0KHBhcnNlRGF0ZSksc2NvcGUuZGF0ZVNlbGVjdGlvbj1mdW5jdGlvbihkdCl7YW5ndWxhci5pc0RlZmluZWQoZHQpJiYoc2NvcGUuZGF0ZT1kdCksbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHNjb3BlLmRhdGUpLG5nTW9kZWwuJHJlbmRlcigpLGNsb3NlT25EYXRlU2VsZWN0aW9uJiYoc2NvcGUuaXNPcGVuPSExLGVsZW1lbnRbMF0uZm9jdXMoKSl9LGVsZW1lbnQuYmluZCgiaW5wdXQgY2hhbmdlIGtleXVwIixmdW5jdGlvbigpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe3Njb3BlLmRhdGU9bmdNb2RlbC4kbW9kZWxWYWx1ZX0pfSksbmdNb2RlbC4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGRhdGU9bmdNb2RlbC4kdmlld1ZhbHVlP2RhdGVGaWx0ZXIobmdNb2RlbC4kdmlld1ZhbHVlLGRhdGVGb3JtYXQpOiIiO2VsZW1lbnQudmFsKGRhdGUpLHNjb3BlLmRhdGU9cGFyc2VEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpfTt2YXIgZG9jdW1lbnRDbGlja0JpbmQ9ZnVuY3Rpb24oZXZlbnQpe3Njb3BlLmlzT3BlbiYmZXZlbnQudGFyZ2V0IT09ZWxlbWVudFswXSYmc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7c2NvcGUuaXNPcGVuPSExfSl9LGtleWRvd249ZnVuY3Rpb24oZXZ0KXtzY29wZS5rZXlkb3duKGV2dCl9O2VsZW1lbnQuYmluZCgia2V5ZG93biIsa2V5ZG93biksc2NvcGUua2V5ZG93bj1mdW5jdGlvbihldnQpezI3PT09ZXZ0LndoaWNoPyhldnQucHJldmVudERlZmF1bHQoKSxldnQuc3RvcFByb3BhZ2F0aW9uKCksc2NvcGUuY2xvc2UoKSk6NDAhPT1ldnQud2hpY2h8fHNjb3BlLmlzT3Blbnx8KHNjb3BlLmlzT3Blbj0hMCl9LHNjb3BlLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbih2YWx1ZSl7dmFsdWU/KHNjb3BlLiRicm9hZGNhc3QoImRhdGVwaWNrZXIuZm9jdXMiKSxzY29wZS5wb3NpdGlvbj1hcHBlbmRUb0JvZHk/JHBvc2l0aW9uLm9mZnNldChlbGVtZW50KTokcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCksc2NvcGUucG9zaXRpb24udG9wPXNjb3BlLnBvc2l0aW9uLnRvcCtlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLCRkb2N1bWVudC5iaW5kKCJjbGljayIsZG9jdW1lbnRDbGlja0JpbmQpKTokZG9jdW1lbnQudW5iaW5kKCJjbGljayIsZG9jdW1lbnRDbGlja0JpbmQpfSksc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKGRhdGUpe2lmKCJ0b2RheSI9PT1kYXRlKXt2YXIgdG9kYXk9bmV3IERhdGU7YW5ndWxhci5pc0RhdGUobmdNb2RlbC4kbW9kZWxWYWx1ZSk/KGRhdGU9bmV3IERhdGUobmdNb2RlbC4kbW9kZWxWYWx1ZSksZGF0ZS5zZXRGdWxsWWVhcih0b2RheS5nZXRGdWxsWWVhcigpLHRvZGF5LmdldE1vbnRoKCksdG9kYXkuZ2V0RGF0ZSgpKSk6ZGF0ZT1uZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLDAsMCwwKSl9c2NvcGUuZGF0ZVNlbGVjdGlvbihkYXRlKX0sc2NvcGUuY2xvc2U9ZnVuY3Rpb24oKXtzY29wZS5pc09wZW49ITEsZWxlbWVudFswXS5mb2N1cygpfTt2YXIgJHBvcHVwPSRjb21waWxlKHBvcHVwRWwpKHNjb3BlKTtwb3B1cEVsLnJlbW92ZSgpLGFwcGVuZFRvQm9keT8kZG9jdW1lbnQuZmluZCgiYm9keSIpLmFwcGVuZCgkcG9wdXApOmVsZW1lbnQuYWZ0ZXIoJHBvcHVwKSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpeyRwb3B1cC5yZW1vdmUoKSxlbGVtZW50LnVuYmluZCgia2V5ZG93biIsa2V5ZG93biksJGRvY3VtZW50LnVuYmluZCgiY2xpY2siLGRvY3VtZW50Q2xpY2tCaW5kKX0pfX19XSkuZGlyZWN0aXZlKCJkYXRlcGlja2VyUG9wdXBXcmFwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQpe2VsZW1lbnQuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdCgpLGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZHJvcGRvd24iLFtdKS5jb25zdGFudCgiZHJvcGRvd25Db25maWciLHtvcGVuQ2xhc3M6Im9wZW4ifSkuc2VydmljZSgiZHJvcGRvd25TZXJ2aWNlIixbIiRkb2N1bWVudCIsZnVuY3Rpb24oJGRvY3VtZW50KXt2YXIgb3BlblNjb3BlPW51bGw7dGhpcy5vcGVuPWZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpe29wZW5TY29wZXx8KCRkb2N1bWVudC5iaW5kKCJjbGljayIsY2xvc2VEcm9wZG93biksJGRvY3VtZW50LmJpbmQoImtleWRvd24iLGVzY2FwZUtleUJpbmQpKSxvcGVuU2NvcGUmJm9wZW5TY29wZSE9PWRyb3Bkb3duU2NvcGUmJihvcGVuU2NvcGUuaXNPcGVuPSExKSxvcGVuU2NvcGU9ZHJvcGRvd25TY29wZX0sdGhpcy5jbG9zZT1mdW5jdGlvbihkcm9wZG93blNjb3BlKXtvcGVuU2NvcGU9PT1kcm9wZG93blNjb3BlJiYob3BlblNjb3BlPW51bGwsJGRvY3VtZW50LnVuYmluZCgiY2xpY2siLGNsb3NlRHJvcGRvd24pLCRkb2N1bWVudC51bmJpbmQoImtleWRvd24iLGVzY2FwZUtleUJpbmQpKX07dmFyIGNsb3NlRHJvcGRvd249ZnVuY3Rpb24oZXZ0KXt2YXIgdG9nZ2xlRWxlbWVudD1vcGVuU2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCgpO2V2dCYmdG9nZ2xlRWxlbWVudCYmdG9nZ2xlRWxlbWVudFswXS5jb250YWlucyhldnQudGFyZ2V0KXx8b3BlblNjb3BlLiRhcHBseShmdW5jdGlvbigpe29wZW5TY29wZS5pc09wZW49ITF9KX0sZXNjYXBlS2V5QmluZD1mdW5jdGlvbihldnQpezI3PT09ZXZ0LndoaWNoJiYob3BlblNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpLGNsb3NlRHJvcGRvd24oKSl9fV0pLmNvbnRyb2xsZXIoIkRyb3Bkb3duQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCJkcm9wZG93bkNvbmZpZyIsImRyb3Bkb3duU2VydmljZSIsIiRhbmltYXRlIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLCRwYXJzZSxkcm9wZG93bkNvbmZpZyxkcm9wZG93blNlcnZpY2UsJGFuaW1hdGUpe3ZhciBnZXRJc09wZW4sc2VsZj10aGlzLHNjb3BlPSRzY29wZS4kbmV3KCksb3BlbkNsYXNzPWRyb3Bkb3duQ29uZmlnLm9wZW5DbGFzcyxzZXRJc09wZW49YW5ndWxhci5ub29wLHRvZ2dsZUludm9rZXI9JGF0dHJzLm9uVG9nZ2xlPyRwYXJzZSgkYXR0cnMub25Ub2dnbGUpOmFuZ3VsYXIubm9vcDt0aGlzLmluaXQ9ZnVuY3Rpb24oZWxlbWVudCl7c2VsZi4kZWxlbWVudD1lbGVtZW50LCRhdHRycy5pc09wZW4mJihnZXRJc09wZW49JHBhcnNlKCRhdHRycy5pc09wZW4pLHNldElzT3Blbj1nZXRJc09wZW4uYXNzaWduLCRzY29wZS4kd2F0Y2goZ2V0SXNPcGVuLGZ1bmN0aW9uKHZhbHVlKXtzY29wZS5pc09wZW49ISF2YWx1ZX0pKX0sdGhpcy50b2dnbGU9ZnVuY3Rpb24ob3Blbil7cmV0dXJuIHNjb3BlLmlzT3Blbj1hcmd1bWVudHMubGVuZ3RoPyEhb3Blbjohc2NvcGUuaXNPcGVufSx0aGlzLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBzY29wZS5pc09wZW59LHNjb3BlLmdldFRvZ2dsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gc2VsZi50b2dnbGVFbGVtZW50fSxzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtzZWxmLnRvZ2dsZUVsZW1lbnQmJnNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpfSxzY29wZS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24oaXNPcGVuLHdhc09wZW4peyRhbmltYXRlW2lzT3Blbj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKHNlbGYuJGVsZW1lbnQsb3BlbkNsYXNzKSxpc09wZW4/KHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpLGRyb3Bkb3duU2VydmljZS5vcGVuKHNjb3BlKSk6ZHJvcGRvd25TZXJ2aWNlLmNsb3NlKHNjb3BlKSxzZXRJc09wZW4oJHNjb3BlLGlzT3BlbiksYW5ndWxhci5pc0RlZmluZWQoaXNPcGVuKSYmaXNPcGVuIT09d2FzT3BlbiYmdG9nZ2xlSW52b2tlcigkc2NvcGUse29wZW46ISFpc09wZW59KX0pLCRzY29wZS4kb24oIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLGZ1bmN0aW9uKCl7c2NvcGUuaXNPcGVuPSExfSksJHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7c2NvcGUuJGRlc3Ryb3koKX0pfV0pLmRpcmVjdGl2ZSgiZHJvcGRvd24iLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJDQSIsY29udHJvbGxlcjoiRHJvcGRvd25Db250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsZHJvcGRvd25DdHJsKXtkcm9wZG93bkN0cmwuaW5pdChlbGVtZW50KX19fSkuZGlyZWN0aXZlKCJkcm9wZG93blRvZ2dsZSIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkNBIixyZXF1aXJlOiI/XmRyb3Bkb3duIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsZHJvcGRvd25DdHJsKXtpZihkcm9wZG93bkN0cmwpe2Ryb3Bkb3duQ3RybC50b2dnbGVFbGVtZW50PWVsZW1lbnQ7dmFyIHRvZ2dsZURyb3Bkb3duPWZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdCgpLGVsZW1lbnQuaGFzQ2xhc3MoImRpc2FibGVkIil8fGF0dHJzLmRpc2FibGVkfHxzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtkcm9wZG93bkN0cmwudG9nZ2xlKCl9KX07ZWxlbWVudC5iaW5kKCJjbGljayIsdG9nZ2xlRHJvcGRvd24pLGVsZW1lbnQuYXR0cih7ImFyaWEtaGFzcG9wdXAiOiEwLCJhcmlhLWV4cGFuZGVkIjohMX0pLHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLGZ1bmN0aW9uKGlzT3Blbil7ZWxlbWVudC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhIWlzT3Blbil9KSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2VsZW1lbnQudW5iaW5kKCJjbGljayIsdG9nZ2xlRHJvcGRvd24pfSl9fX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLm1vZGFsIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmZhY3RvcnkoIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oKXtyZXR1cm57Y3JlYXRlTmV3OmZ1bmN0aW9uKCl7dmFyIHN0YWNrPVtdO3JldHVybnthZGQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXtzdGFjay5wdXNoKHtrZXk6a2V5LHZhbHVlOnZhbHVlfSl9LGdldDpmdW5jdGlvbihrZXkpe2Zvcih2YXIgaT0wO2k8c3RhY2subGVuZ3RoO2krKylpZihrZXk9PXN0YWNrW2ldLmtleSlyZXR1cm4gc3RhY2tbaV19LGtleXM6ZnVuY3Rpb24oKXtmb3IodmFyIGtleXM9W10saT0wO2k8c3RhY2subGVuZ3RoO2krKylrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtyZXR1cm4ga2V5c30sdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YWNrW3N0YWNrLmxlbmd0aC0xXX0scmVtb3ZlOmZ1bmN0aW9uKGtleSl7Zm9yKHZhciBpZHg9LTEsaT0wO2k8c3RhY2subGVuZ3RoO2krKylpZihrZXk9PXN0YWNrW2ldLmtleSl7aWR4PWk7YnJlYWt9cmV0dXJuIHN0YWNrLnNwbGljZShpZHgsMSlbMF19LHJlbW92ZVRvcDpmdW5jdGlvbigpe3JldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoLTEsMSlbMF19LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBzdGFjay5sZW5ndGh9fX19fSkuZGlyZWN0aXZlKCJtb2RhbEJhY2tkcm9wIixbIiR0aW1lb3V0IixmdW5jdGlvbigkdGltZW91dCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtzY29wZS5iYWNrZHJvcENsYXNzPWF0dHJzLmJhY2tkcm9wQ2xhc3N8fCIiLHNjb3BlLmFuaW1hdGU9ITEsJHRpbWVvdXQoZnVuY3Rpb24oKXtzY29wZS5hbmltYXRlPSEwfSl9fX1dKS5kaXJlY3RpdmUoIm1vZGFsV2luZG93IixbIiRtb2RhbFN0YWNrIiwiJHRpbWVvdXQiLGZ1bmN0aW9uKCRtb2RhbFN0YWNrLCR0aW1lb3V0KXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7aW5kZXg6IkAiLGFuaW1hdGU6Ij0ifSxyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24odEVsZW1lbnQsdEF0dHJzKXtyZXR1cm4gdEF0dHJzLnRlbXBsYXRlVXJsfHwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe2VsZW1lbnQuYWRkQ2xhc3MoYXR0cnMud2luZG93Q2xhc3N8fCIiKSxzY29wZS5zaXplPWF0dHJzLnNpemUsJHRpbWVvdXQoZnVuY3Rpb24oKXtzY29wZS5hbmltYXRlPSEwLGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgiW2F1dG9mb2N1c10iKS5sZW5ndGh8fGVsZW1lbnRbMF0uZm9jdXMoKX0pLHNjb3BlLmNsb3NlPWZ1bmN0aW9uKGV2dCl7dmFyIG1vZGFsPSRtb2RhbFN0YWNrLmdldFRvcCgpO21vZGFsJiZtb2RhbC52YWx1ZS5iYWNrZHJvcCYmInN0YXRpYyIhPW1vZGFsLnZhbHVlLmJhY2tkcm9wJiZldnQudGFyZ2V0PT09ZXZ0LmN1cnJlbnRUYXJnZXQmJihldnQucHJldmVudERlZmF1bHQoKSxldnQuc3RvcFByb3BhZ2F0aW9uKCksJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksImJhY2tkcm9wIGNsaWNrIikpfX19fV0pLmRpcmVjdGl2ZSgibW9kYWxUcmFuc2NsdWRlIixmdW5jdGlvbigpe3JldHVybntsaW5rOmZ1bmN0aW9uKCRzY29wZSwkZWxlbWVudCwkYXR0cnMsY29udHJvbGxlciwkdHJhbnNjbHVkZSl7JHRyYW5zY2x1ZGUoJHNjb3BlLiRwYXJlbnQsZnVuY3Rpb24oY2xvbmUpeyRlbGVtZW50LmVtcHR5KCksJGVsZW1lbnQuYXBwZW5kKGNsb25lKX0pfX19KS5mYWN0b3J5KCIkbW9kYWxTdGFjayIsWyIkdHJhbnNpdGlvbiIsIiR0aW1lb3V0IiwiJGRvY3VtZW50IiwiJGNvbXBpbGUiLCIkcm9vdFNjb3BlIiwiJCRzdGFja2VkTWFwIixmdW5jdGlvbigkdHJhbnNpdGlvbiwkdGltZW91dCwkZG9jdW1lbnQsJGNvbXBpbGUsJHJvb3RTY29wZSwkJHN0YWNrZWRNYXApe2Z1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKXtmb3IodmFyIHRvcEJhY2tkcm9wSW5kZXg9LTEsb3BlbmVkPW9wZW5lZFdpbmRvd3Mua2V5cygpLGk9MDtpPG9wZW5lZC5sZW5ndGg7aSsrKW9wZW5lZFdpbmRvd3MuZ2V0KG9wZW5lZFtpXSkudmFsdWUuYmFja2Ryb3AmJih0b3BCYWNrZHJvcEluZGV4PWkpO3JldHVybiB0b3BCYWNrZHJvcEluZGV4fWZ1bmN0aW9uIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2Upe3ZhciBib2R5PSRkb2N1bWVudC5maW5kKCJib2R5IikuZXEoMCksbW9kYWxXaW5kb3c9b3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7b3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSkscmVtb3ZlQWZ0ZXJBbmltYXRlKG1vZGFsV2luZG93Lm1vZGFsRG9tRWwsbW9kYWxXaW5kb3cubW9kYWxTY29wZSwzMDAsZnVuY3Rpb24oKXttb2RhbFdpbmRvdy5tb2RhbFNjb3BlLiRkZXN0cm95KCksYm9keS50b2dnbGVDbGFzcyhPUEVORURfTU9EQUxfQ0xBU1Msb3BlbmVkV2luZG93cy5sZW5ndGgoKT4wKSxjaGVja1JlbW92ZUJhY2tkcm9wKCl9KX1mdW5jdGlvbiBjaGVja1JlbW92ZUJhY2tkcm9wKCl7aWYoYmFja2Ryb3BEb21FbCYmLTE9PWJhY2tkcm9wSW5kZXgoKSl7dmFyIGJhY2tkcm9wU2NvcGVSZWY9YmFja2Ryb3BTY29wZTtyZW1vdmVBZnRlckFuaW1hdGUoYmFja2Ryb3BEb21FbCxiYWNrZHJvcFNjb3BlLDE1MCxmdW5jdGlvbigpe2JhY2tkcm9wU2NvcGVSZWYuJGRlc3Ryb3koKSxiYWNrZHJvcFNjb3BlUmVmPW51bGx9KSxiYWNrZHJvcERvbUVsPXZvaWQgMCxiYWNrZHJvcFNjb3BlPXZvaWQgMH19ZnVuY3Rpb24gcmVtb3ZlQWZ0ZXJBbmltYXRlKGRvbUVsLHNjb3BlLGVtdWxhdGVUaW1lLGRvbmUpe2Z1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCl7YWZ0ZXJBbmltYXRpbmcuZG9uZXx8KGFmdGVyQW5pbWF0aW5nLmRvbmU9ITAsZG9tRWwucmVtb3ZlKCksZG9uZSYmZG9uZSgpKX1zY29wZS5hbmltYXRlPSExO3ZhciB0cmFuc2l0aW9uRW5kRXZlbnROYW1lPSR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWU7aWYodHJhbnNpdGlvbkVuZEV2ZW50TmFtZSl7dmFyIHRpbWVvdXQ9JHRpbWVvdXQoYWZ0ZXJBbmltYXRpbmcsZW11bGF0ZVRpbWUpO2RvbUVsLmJpbmQodHJhbnNpdGlvbkVuZEV2ZW50TmFtZSxmdW5jdGlvbigpeyR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0KSxhZnRlckFuaW1hdGluZygpLHNjb3BlLiRhcHBseSgpfSl9ZWxzZSAkdGltZW91dChhZnRlckFuaW1hdGluZyl9dmFyIGJhY2tkcm9wRG9tRWwsYmFja2Ryb3BTY29wZSxPUEVORURfTU9EQUxfQ0xBU1M9Im1vZGFsLW9wZW4iLG9wZW5lZFdpbmRvd3M9JCRzdGFja2VkTWFwLmNyZWF0ZU5ldygpLCRtb2RhbFN0YWNrPXt9O3JldHVybiAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LGZ1bmN0aW9uKG5ld0JhY2tkcm9wSW5kZXgpe2JhY2tkcm9wU2NvcGUmJihiYWNrZHJvcFNjb3BlLmluZGV4PW5ld0JhY2tkcm9wSW5kZXgpfSksJGRvY3VtZW50LmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGV2dCl7dmFyIG1vZGFsOzI3PT09ZXZ0LndoaWNoJiYobW9kYWw9b3BlbmVkV2luZG93cy50b3AoKSxtb2RhbCYmbW9kYWwudmFsdWUua2V5Ym9hcmQmJihldnQucHJldmVudERlZmF1bHQoKSwkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpeyRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCJlc2NhcGUga2V5IHByZXNzIil9KSkpfSksJG1vZGFsU3RhY2sub3Blbj1mdW5jdGlvbihtb2RhbEluc3RhbmNlLG1vZGFsKXtvcGVuZWRXaW5kb3dzLmFkZChtb2RhbEluc3RhbmNlLHtkZWZlcnJlZDptb2RhbC5kZWZlcnJlZCxtb2RhbFNjb3BlOm1vZGFsLnNjb3BlLGJhY2tkcm9wOm1vZGFsLmJhY2tkcm9wLGtleWJvYXJkOm1vZGFsLmtleWJvYXJkfSk7dmFyIGJvZHk9JGRvY3VtZW50LmZpbmQoImJvZHkiKS5lcSgwKSxjdXJyQmFja2Ryb3BJbmRleD1iYWNrZHJvcEluZGV4KCk7aWYoY3VyckJhY2tkcm9wSW5kZXg+PTAmJiFiYWNrZHJvcERvbUVsKXtiYWNrZHJvcFNjb3BlPSRyb290U2NvcGUuJG5ldyghMCksYmFja2Ryb3BTY29wZS5pbmRleD1jdXJyQmFja2Ryb3BJbmRleDt2YXIgYW5ndWxhckJhY2tncm91bmREb21FbD1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgbW9kYWwtYmFja2Ryb3A+PC9kaXY+Iik7YW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCJiYWNrZHJvcC1jbGFzcyIsbW9kYWwuYmFja2Ryb3BDbGFzcyksYmFja2Ryb3BEb21FbD0kY29tcGlsZShhbmd1bGFyQmFja2dyb3VuZERvbUVsKShiYWNrZHJvcFNjb3BlKSxib2R5LmFwcGVuZChiYWNrZHJvcERvbUVsKX12YXIgYW5ndWxhckRvbUVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiBtb2RhbC13aW5kb3c+PC9kaXY+Iik7YW5ndWxhckRvbUVsLmF0dHIoeyJ0ZW1wbGF0ZS11cmwiOm1vZGFsLndpbmRvd1RlbXBsYXRlVXJsLCJ3aW5kb3ctY2xhc3MiOm1vZGFsLndpbmRvd0NsYXNzLHNpemU6bW9kYWwuc2l6ZSxpbmRleDpvcGVuZWRXaW5kb3dzLmxlbmd0aCgpLTEsYW5pbWF0ZToiYW5pbWF0ZSJ9KS5odG1sKG1vZGFsLmNvbnRlbnQpO3ZhciBtb2RhbERvbUVsPSRjb21waWxlKGFuZ3VsYXJEb21FbCkobW9kYWwuc2NvcGUpO29wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxEb21FbD1tb2RhbERvbUVsLGJvZHkuYXBwZW5kKG1vZGFsRG9tRWwpLGJvZHkuYWRkQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTKX0sJG1vZGFsU3RhY2suY2xvc2U9ZnVuY3Rpb24obW9kYWxJbnN0YW5jZSxyZXN1bHQpe3ZhciBtb2RhbFdpbmRvdz1vcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTttb2RhbFdpbmRvdyYmKG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlc29sdmUocmVzdWx0KSxyZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKSl9LCRtb2RhbFN0YWNrLmRpc21pc3M9ZnVuY3Rpb24obW9kYWxJbnN0YW5jZSxyZWFzb24pe3ZhciBtb2RhbFdpbmRvdz1vcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTttb2RhbFdpbmRvdyYmKG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlamVjdChyZWFzb24pLHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpKX0sJG1vZGFsU3RhY2suZGlzbWlzc0FsbD1mdW5jdGlvbihyZWFzb24pe2Zvcih2YXIgdG9wTW9kYWw9dGhpcy5nZXRUb3AoKTt0b3BNb2RhbDspdGhpcy5kaXNtaXNzKHRvcE1vZGFsLmtleSxyZWFzb24pLHRvcE1vZGFsPXRoaXMuZ2V0VG9wKCl9LCRtb2RhbFN0YWNrLmdldFRvcD1mdW5jdGlvbigpe3JldHVybiBvcGVuZWRXaW5kb3dzLnRvcCgpfSwkbW9kYWxTdGFja31dKS5wcm92aWRlcigiJG1vZGFsIixmdW5jdGlvbigpe3ZhciAkbW9kYWxQcm92aWRlcj17b3B0aW9uczp7YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITB9LCRnZXQ6WyIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGNvbnRyb2xsZXIiLCIkbW9kYWxTdGFjayIsZnVuY3Rpb24oJGluamVjdG9yLCRyb290U2NvcGUsJHEsJGh0dHAsJHRlbXBsYXRlQ2FjaGUsJGNvbnRyb2xsZXIsJG1vZGFsU3RhY2spe2Z1bmN0aW9uIGdldFRlbXBsYXRlUHJvbWlzZShvcHRpb25zKXtyZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZT8kcS53aGVuKG9wdGlvbnMudGVtcGxhdGUpOiRodHRwLmdldChhbmd1bGFyLmlzRnVuY3Rpb24ob3B0aW9ucy50ZW1wbGF0ZVVybCk/b3B0aW9ucy50ZW1wbGF0ZVVybCgpOm9wdGlvbnMudGVtcGxhdGVVcmwse2NhY2hlOiR0ZW1wbGF0ZUNhY2hlfSkudGhlbihmdW5jdGlvbihyZXN1bHQpe3JldHVybiByZXN1bHQuZGF0YX0pfWZ1bmN0aW9uIGdldFJlc29sdmVQcm9taXNlcyhyZXNvbHZlcyl7dmFyIHByb21pc2VzQXJyPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZXMsZnVuY3Rpb24odmFsdWUpeyhhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpfHxhbmd1bGFyLmlzQXJyYXkodmFsdWUpKSYmcHJvbWlzZXNBcnIucHVzaCgkcS53aGVuKCRpbmplY3Rvci5pbnZva2UodmFsdWUpKSl9KSxwcm9taXNlc0Fycn12YXIgJG1vZGFsPXt9O3JldHVybiAkbW9kYWwub3Blbj1mdW5jdGlvbihtb2RhbE9wdGlvbnMpe3ZhciBtb2RhbFJlc3VsdERlZmVycmVkPSRxLmRlZmVyKCksbW9kYWxPcGVuZWREZWZlcnJlZD0kcS5kZWZlcigpLG1vZGFsSW5zdGFuY2U9e3Jlc3VsdDptb2RhbFJlc3VsdERlZmVycmVkLnByb21pc2Usb3BlbmVkOm1vZGFsT3BlbmVkRGVmZXJyZWQucHJvbWlzZSxjbG9zZTpmdW5jdGlvbihyZXN1bHQpeyRtb2RhbFN0YWNrLmNsb3NlKG1vZGFsSW5zdGFuY2UscmVzdWx0KX0sZGlzbWlzczpmdW5jdGlvbihyZWFzb24peyRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWxJbnN0YW5jZSxyZWFzb24pfX07aWYobW9kYWxPcHRpb25zPWFuZ3VsYXIuZXh0ZW5kKHt9LCRtb2RhbFByb3ZpZGVyLm9wdGlvbnMsbW9kYWxPcHRpb25zKSxtb2RhbE9wdGlvbnMucmVzb2x2ZT1tb2RhbE9wdGlvbnMucmVzb2x2ZXx8e30sIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZSYmIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZVVybCl0aHJvdyBuZXcgRXJyb3IoIk9uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLiIpO3ZhciB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlPSRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyldLmNvbmNhdChnZXRSZXNvbHZlUHJvbWlzZXMobW9kYWxPcHRpb25zLnJlc29sdmUpKSk7cmV0dXJuIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UudGhlbihmdW5jdGlvbih0cGxBbmRWYXJzKXt2YXIgbW9kYWxTY29wZT0obW9kYWxPcHRpb25zLnNjb3BlfHwkcm9vdFNjb3BlKS4kbmV3KCk7bW9kYWxTY29wZS4kY2xvc2U9bW9kYWxJbnN0YW5jZS5jbG9zZSxtb2RhbFNjb3BlLiRkaXNtaXNzPW1vZGFsSW5zdGFuY2UuZGlzbWlzczt2YXIgY3RybEluc3RhbmNlLGN0cmxMb2NhbHM9e30scmVzb2x2ZUl0ZXI9MTttb2RhbE9wdGlvbnMuY29udHJvbGxlciYmKGN0cmxMb2NhbHMuJHNjb3BlPW1vZGFsU2NvcGUsY3RybExvY2Fscy4kbW9kYWxJbnN0YW5jZT1tb2RhbEluc3RhbmNlLGFuZ3VsYXIuZm9yRWFjaChtb2RhbE9wdGlvbnMucmVzb2x2ZSxmdW5jdGlvbih2YWx1ZSxrZXkpe2N0cmxMb2NhbHNba2V5XT10cGxBbmRWYXJzW3Jlc29sdmVJdGVyKytdfSksY3RybEluc3RhbmNlPSRjb250cm9sbGVyKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyLGN0cmxMb2NhbHMpLG1vZGFsT3B0aW9ucy5jb250cm9sbGVyQXMmJihtb2RhbFNjb3BlW21vZGFsT3B0aW9ucy5jb250cm9sbGVyQXNdPWN0cmxJbnN0YW5jZSkpLCRtb2RhbFN0YWNrLm9wZW4obW9kYWxJbnN0YW5jZSx7c2NvcGU6bW9kYWxTY29wZSxkZWZlcnJlZDptb2RhbFJlc3VsdERlZmVycmVkLGNvbnRlbnQ6dHBsQW5kVmFyc1swXSxiYWNrZHJvcDptb2RhbE9wdGlvbnMuYmFja2Ryb3Asa2V5Ym9hcmQ6bW9kYWxPcHRpb25zLmtleWJvYXJkLGJhY2tkcm9wQ2xhc3M6bW9kYWxPcHRpb25zLmJhY2tkcm9wQ2xhc3Msd2luZG93Q2xhc3M6bW9kYWxPcHRpb25zLndpbmRvd0NsYXNzLHdpbmRvd1RlbXBsYXRlVXJsOm1vZGFsT3B0aW9ucy53aW5kb3dUZW1wbGF0ZVVybCxzaXplOm1vZGFsT3B0aW9ucy5zaXplfSl9LGZ1bmN0aW9uKHJlYXNvbil7bW9kYWxSZXN1bHREZWZlcnJlZC5yZWplY3QocmVhc29uKX0pLHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UudGhlbihmdW5jdGlvbigpe21vZGFsT3BlbmVkRGVmZXJyZWQucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKCl7bW9kYWxPcGVuZWREZWZlcnJlZC5yZWplY3QoITEpfSksbW9kYWxJbnN0YW5jZX0sJG1vZGFsfV19O3JldHVybiAkbW9kYWxQcm92aWRlcn0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucGFnaW5hdGlvbiIsW10pLmNvbnRyb2xsZXIoIlBhZ2luYXRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2Upe3ZhciBzZWxmPXRoaXMsbmdNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfSxzZXROdW1QYWdlcz0kYXR0cnMubnVtUGFnZXM/JHBhcnNlKCRhdHRycy5udW1QYWdlcykuYXNzaWduOmFuZ3VsYXIubm9vcDt0aGlzLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfLGNvbmZpZyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLHRoaXMuY29uZmlnPWNvbmZpZyxuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7c2VsZi5yZW5kZXIoKX0sJGF0dHJzLml0ZW1zUGVyUGFnZT8kc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5pdGVtc1BlclBhZ2UpLGZ1bmN0aW9uKHZhbHVlKXtzZWxmLml0ZW1zUGVyUGFnZT1wYXJzZUludCh2YWx1ZSwxMCksJHNjb3BlLnRvdGFsUGFnZXM9c2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KTp0aGlzLml0ZW1zUGVyUGFnZT1jb25maWcuaXRlbXNQZXJQYWdlfSx0aGlzLmNhbGN1bGF0ZVRvdGFsUGFnZXM9ZnVuY3Rpb24oKXt2YXIgdG90YWxQYWdlcz10aGlzLml0ZW1zUGVyUGFnZTwxPzE6TWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zL3RoaXMuaXRlbXNQZXJQYWdlKTtyZXR1cm4gTWF0aC5tYXgodG90YWxQYWdlc3x8MCwxKX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXskc2NvcGUucGFnZT1wYXJzZUludChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLDEwKXx8MX0sJHNjb3BlLnNlbGVjdFBhZ2U9ZnVuY3Rpb24ocGFnZSl7JHNjb3BlLnBhZ2UhPT1wYWdlJiZwYWdlPjAmJnBhZ2U8PSRzY29wZS50b3RhbFBhZ2VzJiYobmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShwYWdlKSxuZ01vZGVsQ3RybC4kcmVuZGVyKCkpfSwkc2NvcGUuZ2V0VGV4dD1mdW5jdGlvbihrZXkpe3JldHVybiAkc2NvcGVba2V5KyJUZXh0Il18fHNlbGYuY29uZmlnW2tleSsiVGV4dCJdfSwkc2NvcGUubm9QcmV2aW91cz1mdW5jdGlvbigpe3JldHVybiAxPT09JHNjb3BlLnBhZ2V9LCRzY29wZS5ub05leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gJHNjb3BlLnBhZ2U9PT0kc2NvcGUudG90YWxQYWdlc30sJHNjb3BlLiR3YXRjaCgidG90YWxJdGVtcyIsZnVuY3Rpb24oKXskc2NvcGUudG90YWxQYWdlcz1zZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKX0pLCRzY29wZS4kd2F0Y2goInRvdGFsUGFnZXMiLGZ1bmN0aW9uKHZhbHVlKXtzZXROdW1QYWdlcygkc2NvcGUuJHBhcmVudCx2YWx1ZSksJHNjb3BlLnBhZ2U+dmFsdWU/JHNjb3BlLnNlbGVjdFBhZ2UodmFsdWUpOm5nTW9kZWxDdHJsLiRyZW5kZXIoKX0pfV0pLmNvbnN0YW50KCJwYWdpbmF0aW9uQ29uZmlnIix7aXRlbXNQZXJQYWdlOjEwLGJvdW5kYXJ5TGlua3M6ITEsZGlyZWN0aW9uTGlua3M6ITAsZmlyc3RUZXh0OiJGaXJzdCIscHJldmlvdXNUZXh0OiJQcmV2aW91cyIsbmV4dFRleHQ6Ik5leHQiLGxhc3RUZXh0OiJMYXN0Iixyb3RhdGU6ITB9KS5kaXJlY3RpdmUoInBhZ2luYXRpb24iLFsiJHBhcnNlIiwicGFnaW5hdGlvbkNvbmZpZyIsZnVuY3Rpb24oJHBhcnNlLHBhZ2luYXRpb25Db25maWcpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnt0b3RhbEl0ZW1zOiI9IixmaXJzdFRleHQ6IkAiLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAiLGxhc3RUZXh0OiJAIn0scmVxdWlyZTpbInBhZ2luYXRpb24iLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXtmdW5jdGlvbiBtYWtlUGFnZShudW1iZXIsdGV4dCxpc0FjdGl2ZSl7cmV0dXJue251bWJlcjpudW1iZXIsdGV4dDp0ZXh0LGFjdGl2ZTppc0FjdGl2ZX19ZnVuY3Rpb24gZ2V0UGFnZXMoY3VycmVudFBhZ2UsdG90YWxQYWdlcyl7dmFyIHBhZ2VzPVtdLHN0YXJ0UGFnZT0xLGVuZFBhZ2U9dG90YWxQYWdlcyxpc01heFNpemVkPWFuZ3VsYXIuaXNEZWZpbmVkKG1heFNpemUpJiZ0b3RhbFBhZ2VzPm1heFNpemU7aXNNYXhTaXplZCYmKHJvdGF0ZT8oc3RhcnRQYWdlPU1hdGgubWF4KGN1cnJlbnRQYWdlLU1hdGguZmxvb3IobWF4U2l6ZS8yKSwxKSxlbmRQYWdlPXN0YXJ0UGFnZSttYXhTaXplLTEsZW5kUGFnZT50b3RhbFBhZ2VzJiYoZW5kUGFnZT10b3RhbFBhZ2VzLHN0YXJ0UGFnZT1lbmRQYWdlLW1heFNpemUrMSkpOihzdGFydFBhZ2U9KE1hdGguY2VpbChjdXJyZW50UGFnZS9tYXhTaXplKS0xKSptYXhTaXplKzEsZW5kUGFnZT1NYXRoLm1pbihzdGFydFBhZ2UrbWF4U2l6ZS0xLHRvdGFsUGFnZXMpKSk7CmZvcih2YXIgbnVtYmVyPXN0YXJ0UGFnZTtlbmRQYWdlPj1udW1iZXI7bnVtYmVyKyspe3ZhciBwYWdlPW1ha2VQYWdlKG51bWJlcixudW1iZXIsbnVtYmVyPT09Y3VycmVudFBhZ2UpO3BhZ2VzLnB1c2gocGFnZSl9aWYoaXNNYXhTaXplZCYmIXJvdGF0ZSl7aWYoc3RhcnRQYWdlPjEpe3ZhciBwcmV2aW91c1BhZ2VTZXQ9bWFrZVBhZ2Uoc3RhcnRQYWdlLTEsIi4uLiIsITEpO3BhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KX1pZih0b3RhbFBhZ2VzPmVuZFBhZ2Upe3ZhciBuZXh0UGFnZVNldD1tYWtlUGFnZShlbmRQYWdlKzEsIi4uLiIsITEpO3BhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpfX1yZXR1cm4gcGFnZXN9dmFyIHBhZ2luYXRpb25DdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO2lmKG5nTW9kZWxDdHJsKXt2YXIgbWF4U2l6ZT1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5tYXhTaXplKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm1heFNpemUpOnBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxyb3RhdGU9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMucm90YXRlKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnJvdGF0ZSk6cGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7c2NvcGUuYm91bmRhcnlMaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5ib3VuZGFyeUxpbmtzKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpOnBhZ2luYXRpb25Db25maWcuYm91bmRhcnlMaW5rcyxzY29wZS5kaXJlY3Rpb25MaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcyk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kaXJlY3Rpb25MaW5rcyk6cGFnaW5hdGlvbkNvbmZpZy5kaXJlY3Rpb25MaW5rcyxwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLHBhZ2luYXRpb25Db25maWcpLGF0dHJzLm1heFNpemUmJnNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5tYXhTaXplKSxmdW5jdGlvbih2YWx1ZSl7bWF4U2l6ZT1wYXJzZUludCh2YWx1ZSwxMCkscGFnaW5hdGlvbkN0cmwucmVuZGVyKCl9KTt2YXIgb3JpZ2luYWxSZW5kZXI9cGFnaW5hdGlvbkN0cmwucmVuZGVyO3BhZ2luYXRpb25DdHJsLnJlbmRlcj1mdW5jdGlvbigpe29yaWdpbmFsUmVuZGVyKCksc2NvcGUucGFnZT4wJiZzY29wZS5wYWdlPD1zY29wZS50b3RhbFBhZ2VzJiYoc2NvcGUucGFnZXM9Z2V0UGFnZXMoc2NvcGUucGFnZSxzY29wZS50b3RhbFBhZ2VzKSl9fX19fV0pLmNvbnN0YW50KCJwYWdlckNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxwcmV2aW91c1RleHQ6IsKrIFByZXZpb3VzIixuZXh0VGV4dDoiTmV4dCDCuyIsYWxpZ246ITB9KS5kaXJlY3RpdmUoInBhZ2VyIixbInBhZ2VyQ29uZmlnIixmdW5jdGlvbihwYWdlckNvbmZpZyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAifSxyZXF1aXJlOlsicGFnZXIiLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIHBhZ2luYXRpb25DdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiYoc2NvcGUuYWxpZ249YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYWxpZ24pP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pOnBhZ2VyQ29uZmlnLmFsaWduLHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwscGFnZXJDb25maWcpKX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudG9vbHRpcCIsWyJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiXSkucHJvdmlkZXIoIiR0b29sdGlwIixmdW5jdGlvbigpe2Z1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSl7dmFyIHJlZ2V4cD0vW0EtWl0vZyxzZXBhcmF0b3I9Ii0iO3JldHVybiBuYW1lLnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKGxldHRlcixwb3Mpe3JldHVybihwb3M/c2VwYXJhdG9yOiIiKStsZXR0ZXIudG9Mb3dlckNhc2UoKX0pfXZhciBkZWZhdWx0T3B0aW9ucz17cGxhY2VtZW50OiJ0b3AiLGFuaW1hdGlvbjohMCxwb3B1cERlbGF5OjB9LHRyaWdnZXJNYXA9e21vdXNlZW50ZXI6Im1vdXNlbGVhdmUiLGNsaWNrOiJjbGljayIsZm9jdXM6ImJsdXIifSxnbG9iYWxPcHRpb25zPXt9O3RoaXMub3B0aW9ucz1mdW5jdGlvbih2YWx1ZSl7YW5ndWxhci5leHRlbmQoZ2xvYmFsT3B0aW9ucyx2YWx1ZSl9LHRoaXMuc2V0VHJpZ2dlcnM9ZnVuY3Rpb24odHJpZ2dlcnMpe2FuZ3VsYXIuZXh0ZW5kKHRyaWdnZXJNYXAsdHJpZ2dlcnMpfSx0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGNvbXBpbGUiLCIkdGltZW91dCIsIiRwYXJzZSIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsIiRpbnRlcnBvbGF0ZSIsZnVuY3Rpb24oJHdpbmRvdywkY29tcGlsZSwkdGltZW91dCwkcGFyc2UsJGRvY3VtZW50LCRwb3NpdGlvbiwkaW50ZXJwb2xhdGUpe3JldHVybiBmdW5jdGlvbih0eXBlLHByZWZpeCxkZWZhdWx0VHJpZ2dlclNob3cpe2Z1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpe3ZhciBzaG93PXRyaWdnZXJ8fG9wdGlvbnMudHJpZ2dlcnx8ZGVmYXVsdFRyaWdnZXJTaG93LGhpZGU9dHJpZ2dlck1hcFtzaG93XXx8c2hvdztyZXR1cm57c2hvdzpzaG93LGhpZGU6aGlkZX19dmFyIG9wdGlvbnM9YW5ndWxhci5leHRlbmQoe30sZGVmYXVsdE9wdGlvbnMsZ2xvYmFsT3B0aW9ucyksZGlyZWN0aXZlTmFtZT1zbmFrZV9jYXNlKHR5cGUpLHN0YXJ0U3ltPSRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLGVuZFN5bT0kaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksdGVtcGxhdGU9IjxkaXYgIitkaXJlY3RpdmVOYW1lKyctcG9wdXAgdGl0bGU9Iicrc3RhcnRTeW0rInR0X3RpdGxlIitlbmRTeW0rJyIgY29udGVudD0iJytzdGFydFN5bSsidHRfY29udGVudCIrZW5kU3ltKyciIHBsYWNlbWVudD0iJytzdGFydFN5bSsidHRfcGxhY2VtZW50IitlbmRTeW0rJyIgYW5pbWF0aW9uPSJ0dF9hbmltYXRpb24iIGlzLW9wZW49InR0X2lzT3BlbiI+PC9kaXY+JztyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTohMCxjb21waWxlOmZ1bmN0aW9uKCl7dmFyIHRvb2x0aXBMaW5rZXI9JGNvbXBpbGUodGVtcGxhdGUpO3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtmdW5jdGlvbiB0b2dnbGVUb29sdGlwQmluZCgpe3Njb3BlLnR0X2lzT3Blbj9oaWRlVG9vbHRpcEJpbmQoKTpzaG93VG9vbHRpcEJpbmQoKX1mdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKXsoIWhhc0VuYWJsZUV4cHx8c2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KyJFbmFibGUiXSkpJiYoc2NvcGUudHRfcG9wdXBEZWxheT9wb3B1cFRpbWVvdXR8fChwb3B1cFRpbWVvdXQ9JHRpbWVvdXQoc2hvdyxzY29wZS50dF9wb3B1cERlbGF5LCExKSxwb3B1cFRpbWVvdXQudGhlbihmdW5jdGlvbihyZXBvc2l0aW9uKXtyZXBvc2l0aW9uKCl9KSk6c2hvdygpKCkpfWZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCgpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe2hpZGUoKX0pfWZ1bmN0aW9uIHNob3coKXtyZXR1cm4gcG9wdXBUaW1lb3V0PW51bGwsdHJhbnNpdGlvblRpbWVvdXQmJigkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpLHRyYW5zaXRpb25UaW1lb3V0PW51bGwpLHNjb3BlLnR0X2NvbnRlbnQ/KGNyZWF0ZVRvb2x0aXAoKSx0b29sdGlwLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6ImJsb2NrIn0pLGFwcGVuZFRvQm9keT8kZG9jdW1lbnQuZmluZCgiYm9keSIpLmFwcGVuZCh0b29sdGlwKTplbGVtZW50LmFmdGVyKHRvb2x0aXApLHBvc2l0aW9uVG9vbHRpcCgpLHNjb3BlLnR0X2lzT3Blbj0hMCxzY29wZS4kZGlnZXN0KCkscG9zaXRpb25Ub29sdGlwKTphbmd1bGFyLm5vb3B9ZnVuY3Rpb24gaGlkZSgpe3Njb3BlLnR0X2lzT3Blbj0hMSwkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KSxwb3B1cFRpbWVvdXQ9bnVsbCxzY29wZS50dF9hbmltYXRpb24/dHJhbnNpdGlvblRpbWVvdXR8fCh0cmFuc2l0aW9uVGltZW91dD0kdGltZW91dChyZW1vdmVUb29sdGlwLDUwMCkpOnJlbW92ZVRvb2x0aXAoKX1mdW5jdGlvbiBjcmVhdGVUb29sdGlwKCl7dG9vbHRpcCYmcmVtb3ZlVG9vbHRpcCgpLHRvb2x0aXA9dG9vbHRpcExpbmtlcihzY29wZSxmdW5jdGlvbigpe30pLHNjb3BlLiRkaWdlc3QoKX1mdW5jdGlvbiByZW1vdmVUb29sdGlwKCl7dHJhbnNpdGlvblRpbWVvdXQ9bnVsbCx0b29sdGlwJiYodG9vbHRpcC5yZW1vdmUoKSx0b29sdGlwPW51bGwpfXZhciB0b29sdGlwLHRyYW5zaXRpb25UaW1lb3V0LHBvcHVwVGltZW91dCxhcHBlbmRUb0JvZHk9YW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hcHBlbmRUb0JvZHkpP29wdGlvbnMuYXBwZW5kVG9Cb2R5OiExLHRyaWdnZXJzPWdldFRyaWdnZXJzKHZvaWQgMCksaGFzRW5hYmxlRXhwPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCsiRW5hYmxlIl0pLHBvc2l0aW9uVG9vbHRpcD1mdW5jdGlvbigpe3ZhciB0dFBvc2l0aW9uPSRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKGVsZW1lbnQsdG9vbHRpcCxzY29wZS50dF9wbGFjZW1lbnQsYXBwZW5kVG9Cb2R5KTt0dFBvc2l0aW9uLnRvcCs9InB4Iix0dFBvc2l0aW9uLmxlZnQrPSJweCIsdG9vbHRpcC5jc3ModHRQb3NpdGlvbil9O3Njb3BlLnR0X2lzT3Blbj0hMSxhdHRycy4kb2JzZXJ2ZSh0eXBlLGZ1bmN0aW9uKHZhbCl7c2NvcGUudHRfY29udGVudD12YWwsIXZhbCYmc2NvcGUudHRfaXNPcGVuJiZoaWRlKCl9KSxhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIlRpdGxlIixmdW5jdGlvbih2YWwpe3Njb3BlLnR0X3RpdGxlPXZhbH0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiUGxhY2VtZW50IixmdW5jdGlvbih2YWwpe3Njb3BlLnR0X3BsYWNlbWVudD1hbmd1bGFyLmlzRGVmaW5lZCh2YWwpP3ZhbDpvcHRpb25zLnBsYWNlbWVudH0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiUG9wdXBEZWxheSIsZnVuY3Rpb24odmFsKXt2YXIgZGVsYXk9cGFyc2VJbnQodmFsLDEwKTtzY29wZS50dF9wb3B1cERlbGF5PWlzTmFOKGRlbGF5KT9vcHRpb25zLnBvcHVwRGVsYXk6ZGVsYXl9KTt2YXIgdW5yZWdpc3RlclRyaWdnZXJzPWZ1bmN0aW9uKCl7ZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuc2hvdyxzaG93VG9vbHRpcEJpbmQpLGVsZW1lbnQudW5iaW5kKHRyaWdnZXJzLmhpZGUsaGlkZVRvb2x0aXBCaW5kKX07YXR0cnMuJG9ic2VydmUocHJlZml4KyJUcmlnZ2VyIixmdW5jdGlvbih2YWwpe3VucmVnaXN0ZXJUcmlnZ2VycygpLHRyaWdnZXJzPWdldFRyaWdnZXJzKHZhbCksdHJpZ2dlcnMuc2hvdz09PXRyaWdnZXJzLmhpZGU/ZWxlbWVudC5iaW5kKHRyaWdnZXJzLnNob3csdG9nZ2xlVG9vbHRpcEJpbmQpOihlbGVtZW50LmJpbmQodHJpZ2dlcnMuc2hvdyxzaG93VG9vbHRpcEJpbmQpLGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5oaWRlLGhpZGVUb29sdGlwQmluZCkpfSk7dmFyIGFuaW1hdGlvbj1zY29wZS4kZXZhbChhdHRyc1twcmVmaXgrIkFuaW1hdGlvbiJdKTtzY29wZS50dF9hbmltYXRpb249YW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKT8hIWFuaW1hdGlvbjpvcHRpb25zLmFuaW1hdGlvbixhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIkFwcGVuZFRvQm9keSIsZnVuY3Rpb24odmFsKXthcHBlbmRUb0JvZHk9YW5ndWxhci5pc0RlZmluZWQodmFsKT8kcGFyc2UodmFsKShzY29wZSk6YXBwZW5kVG9Cb2R5fSksYXBwZW5kVG9Cb2R5JiZzY29wZS4kb24oIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLGZ1bmN0aW9uKCl7c2NvcGUudHRfaXNPcGVuJiZoaWRlKCl9KSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpeyR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCksJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCksdW5yZWdpc3RlclRyaWdnZXJzKCkscmVtb3ZlVG9vbHRpcCgpfSl9fX19fV19KS5kaXJlY3RpdmUoInRvb2x0aXBQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIn19KS5kaXJlY3RpdmUoInRvb2x0aXAiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKCR0b29sdGlwKXtyZXR1cm4gJHRvb2x0aXAoInRvb2x0aXAiLCJ0b29sdGlwIiwibW91c2VlbnRlciIpfV0pLmRpcmVjdGl2ZSgidG9vbHRpcEh0bWxVbnNhZmVQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIn19KS5kaXJlY3RpdmUoInRvb2x0aXBIdG1sVW5zYWZlIixbIiR0b29sdGlwIixmdW5jdGlvbigkdG9vbHRpcCl7cmV0dXJuICR0b29sdGlwKCJ0b29sdGlwSHRtbFVuc2FmZSIsInRvb2x0aXAiLCJtb3VzZWVudGVyIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3BvdmVyIixbInVpLmJvb3RzdHJhcC50b29sdGlwIl0pLmRpcmVjdGl2ZSgicG9wb3ZlclBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e3RpdGxlOiJAIixjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIn19KS5kaXJlY3RpdmUoInBvcG92ZXIiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKCR0b29sdGlwKXtyZXR1cm4gJHRvb2x0aXAoInBvcG92ZXIiLCJwb3BvdmVyIiwiY2xpY2siKX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyIixbXSkuY29uc3RhbnQoInByb2dyZXNzQ29uZmlnIix7YW5pbWF0ZTohMCxtYXg6MTAwfSkuY29udHJvbGxlcigiUHJvZ3Jlc3NDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsInByb2dyZXNzQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLHByb2dyZXNzQ29uZmlnKXt2YXIgc2VsZj10aGlzLGFuaW1hdGU9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFuaW1hdGUpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hbmltYXRlKTpwcm9ncmVzc0NvbmZpZy5hbmltYXRlO3RoaXMuYmFycz1bXSwkc2NvcGUubWF4PWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpOnByb2dyZXNzQ29uZmlnLm1heCx0aGlzLmFkZEJhcj1mdW5jdGlvbihiYXIsZWxlbWVudCl7YW5pbWF0ZXx8ZWxlbWVudC5jc3Moe3RyYW5zaXRpb246Im5vbmUifSksdGhpcy5iYXJzLnB1c2goYmFyKSxiYXIuJHdhdGNoKCJ2YWx1ZSIsZnVuY3Rpb24odmFsdWUpe2Jhci5wZXJjZW50PSsoMTAwKnZhbHVlLyRzY29wZS5tYXgpLnRvRml4ZWQoMil9KSxiYXIuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtlbGVtZW50PW51bGwsc2VsZi5yZW1vdmVCYXIoYmFyKX0pfSx0aGlzLnJlbW92ZUJhcj1mdW5jdGlvbihiYXIpe3RoaXMuYmFycy5zcGxpY2UodGhpcy5iYXJzLmluZGV4T2YoYmFyKSwxKX19XSkuZGlyZWN0aXZlKCJwcm9ncmVzcyIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsY29udHJvbGxlcjoiUHJvZ3Jlc3NDb250cm9sbGVyIixyZXF1aXJlOiJwcm9ncmVzcyIsc2NvcGU6e30sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwifX0pLmRpcmVjdGl2ZSgiYmFyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxyZXF1aXJlOiJecHJvZ3Jlc3MiLHNjb3BlOnt2YWx1ZToiPSIsdHlwZToiQCJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLHByb2dyZXNzQ3RybCl7cHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSxlbGVtZW50KX19fSkuZGlyZWN0aXZlKCJwcm9ncmVzc2JhciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsY29udHJvbGxlcjoiUHJvZ3Jlc3NDb250cm9sbGVyIixzY29wZTp7dmFsdWU6Ij0iLHR5cGU6IkAifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLHByb2dyZXNzQ3RybCl7cHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSxhbmd1bGFyLmVsZW1lbnQoZWxlbWVudC5jaGlsZHJlbigpWzBdKSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucmF0aW5nIixbXSkuY29uc3RhbnQoInJhdGluZ0NvbmZpZyIse21heDo1LHN0YXRlT246bnVsbCxzdGF0ZU9mZjpudWxsfSkuY29udHJvbGxlcigiUmF0aW5nQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJyYXRpbmdDb25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMscmF0aW5nQ29uZmlnKXt2YXIgbmdNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfTt0aGlzLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sbmdNb2RlbEN0cmwuJHJlbmRlcj10aGlzLnJlbmRlcix0aGlzLnN0YXRlT249YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT24pPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9uKTpyYXRpbmdDb25maWcuc3RhdGVPbix0aGlzLnN0YXRlT2ZmPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9mZik/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT2ZmKTpyYXRpbmdDb25maWcuc3RhdGVPZmY7dmFyIHJhdGluZ1N0YXRlcz1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmF0aW5nU3RhdGVzKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmF0aW5nU3RhdGVzKTpuZXcgQXJyYXkoYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1heCk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCk6cmF0aW5nQ29uZmlnLm1heCk7JHNjb3BlLnJhbmdlPXRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMocmF0aW5nU3RhdGVzKX0sdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cz1mdW5jdGlvbihzdGF0ZXMpe2Zvcih2YXIgaT0wLG49c3RhdGVzLmxlbmd0aDtuPmk7aSsrKXN0YXRlc1tpXT1hbmd1bGFyLmV4dGVuZCh7aW5kZXg6aX0se3N0YXRlT246dGhpcy5zdGF0ZU9uLHN0YXRlT2ZmOnRoaXMuc3RhdGVPZmZ9LHN0YXRlc1tpXSk7cmV0dXJuIHN0YXRlc30sJHNjb3BlLnJhdGU9ZnVuY3Rpb24odmFsdWUpeyEkc2NvcGUucmVhZG9ubHkmJnZhbHVlPj0wJiZ2YWx1ZTw9JHNjb3BlLnJhbmdlLmxlbmd0aCYmKG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKSl9LCRzY29wZS5lbnRlcj1mdW5jdGlvbih2YWx1ZSl7JHNjb3BlLnJlYWRvbmx5fHwoJHNjb3BlLnZhbHVlPXZhbHVlKSwkc2NvcGUub25Ib3Zlcih7dmFsdWU6dmFsdWV9KX0sJHNjb3BlLnJlc2V0PWZ1bmN0aW9uKCl7JHNjb3BlLnZhbHVlPW5nTW9kZWxDdHJsLiR2aWV3VmFsdWUsJHNjb3BlLm9uTGVhdmUoKX0sJHNjb3BlLm9uS2V5ZG93bj1mdW5jdGlvbihldnQpey8oMzd8Mzh8Mzl8NDApLy50ZXN0KGV2dC53aGljaCkmJihldnQucHJldmVudERlZmF1bHQoKSxldnQuc3RvcFByb3BhZ2F0aW9uKCksJHNjb3BlLnJhdGUoJHNjb3BlLnZhbHVlKygzOD09PWV2dC53aGljaHx8Mzk9PT1ldnQud2hpY2g/MTotMSkpKX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXskc2NvcGUudmFsdWU9bmdNb2RlbEN0cmwuJHZpZXdWYWx1ZX19XSkuZGlyZWN0aXZlKCJyYXRpbmciLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZTpbInJhdGluZyIsIm5nTW9kZWwiXSxzY29wZTp7cmVhZG9ubHk6Ij0/IixvbkhvdmVyOiImIixvbkxlYXZlOiImIn0sY29udHJvbGxlcjoiUmF0aW5nQ29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe3ZhciByYXRpbmdDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiZyYXRpbmdDdHJsLmluaXQobmdNb2RlbEN0cmwpfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRhYnMiLFtdKS5jb250cm9sbGVyKCJUYWJzZXRDb250cm9sbGVyIixbIiRzY29wZSIsZnVuY3Rpb24oJHNjb3BlKXt2YXIgY3RybD10aGlzLHRhYnM9Y3RybC50YWJzPSRzY29wZS50YWJzPVtdO2N0cmwuc2VsZWN0PWZ1bmN0aW9uKHNlbGVjdGVkVGFiKXthbmd1bGFyLmZvckVhY2godGFicyxmdW5jdGlvbih0YWIpe3RhYi5hY3RpdmUmJnRhYiE9PXNlbGVjdGVkVGFiJiYodGFiLmFjdGl2ZT0hMSx0YWIub25EZXNlbGVjdCgpKX0pLHNlbGVjdGVkVGFiLmFjdGl2ZT0hMCxzZWxlY3RlZFRhYi5vblNlbGVjdCgpfSxjdHJsLmFkZFRhYj1mdW5jdGlvbih0YWIpe3RhYnMucHVzaCh0YWIpLDE9PT10YWJzLmxlbmd0aD90YWIuYWN0aXZlPSEwOnRhYi5hY3RpdmUmJmN0cmwuc2VsZWN0KHRhYil9LGN0cmwucmVtb3ZlVGFiPWZ1bmN0aW9uKHRhYil7dmFyIGluZGV4PXRhYnMuaW5kZXhPZih0YWIpO2lmKHRhYi5hY3RpdmUmJnRhYnMubGVuZ3RoPjEpe3ZhciBuZXdBY3RpdmVJbmRleD1pbmRleD09dGFicy5sZW5ndGgtMT9pbmRleC0xOmluZGV4KzE7Y3RybC5zZWxlY3QodGFic1tuZXdBY3RpdmVJbmRleF0pfXRhYnMuc3BsaWNlKGluZGV4LDEpfX1dKS5kaXJlY3RpdmUoInRhYnNldCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsc2NvcGU6e3R5cGU6IkAifSxjb250cm9sbGVyOiJUYWJzZXRDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtzY29wZS52ZXJ0aWNhbD1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy52ZXJ0aWNhbCk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy52ZXJ0aWNhbCk6ITEsc2NvcGUuanVzdGlmaWVkPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmp1c3RpZmllZCk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5qdXN0aWZpZWQpOiExfX19KS5kaXJlY3RpdmUoInRhYiIsWyIkcGFyc2UiLGZ1bmN0aW9uKCRwYXJzZSl7cmV0dXJue3JlcXVpcmU6Il50YWJzZXQiLHJlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsdHJhbnNjbHVkZTohMCxzY29wZTp7YWN0aXZlOiI9PyIsaGVhZGluZzoiQCIsb25TZWxlY3Q6IiZzZWxlY3QiLG9uRGVzZWxlY3Q6IiZkZXNlbGVjdCJ9LGNvbnRyb2xsZXI6ZnVuY3Rpb24oKXt9LGNvbXBpbGU6ZnVuY3Rpb24oZWxtLGF0dHJzLHRyYW5zY2x1ZGUpe3JldHVybiBmdW5jdGlvbihzY29wZSxlbG0sYXR0cnMsdGFic2V0Q3RybCl7c2NvcGUuJHdhdGNoKCJhY3RpdmUiLGZ1bmN0aW9uKGFjdGl2ZSl7YWN0aXZlJiZ0YWJzZXRDdHJsLnNlbGVjdChzY29wZSl9KSxzY29wZS5kaXNhYmxlZD0hMSxhdHRycy5kaXNhYmxlZCYmc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGVkKSxmdW5jdGlvbih2YWx1ZSl7c2NvcGUuZGlzYWJsZWQ9ISF2YWx1ZX0pLHNjb3BlLnNlbGVjdD1mdW5jdGlvbigpe3Njb3BlLmRpc2FibGVkfHwoc2NvcGUuYWN0aXZlPSEwKX0sdGFic2V0Q3RybC5hZGRUYWIoc2NvcGUpLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7dGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpfSksc2NvcGUuJHRyYW5zY2x1ZGVGbj10cmFuc2NsdWRlfX19fV0pLmRpcmVjdGl2ZSgidGFiSGVhZGluZ1RyYW5zY2x1ZGUiLFtmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiXnRhYiIsbGluazpmdW5jdGlvbihzY29wZSxlbG0pe3Njb3BlLiR3YXRjaCgiaGVhZGluZ0VsZW1lbnQiLGZ1bmN0aW9uKGhlYWRpbmcpe2hlYWRpbmcmJihlbG0uaHRtbCgiIiksZWxtLmFwcGVuZChoZWFkaW5nKSl9KX19fV0pLmRpcmVjdGl2ZSgidGFiQ29udGVudFRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaXNUYWJIZWFkaW5nKG5vZGUpe3JldHVybiBub2RlLnRhZ05hbWUmJihub2RlLmhhc0F0dHJpYnV0ZSgidGFiLWhlYWRpbmciKXx8bm9kZS5oYXNBdHRyaWJ1dGUoImRhdGEtdGFiLWhlYWRpbmciKXx8InRhYi1oZWFkaW5nIj09PW5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHwiZGF0YS10YWItaGVhZGluZyI9PT1ub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl9cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiJedGFic2V0IixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsbSxhdHRycyl7dmFyIHRhYj1zY29wZS4kZXZhbChhdHRycy50YWJDb250ZW50VHJhbnNjbHVkZSk7dGFiLiR0cmFuc2NsdWRlRm4odGFiLiRwYXJlbnQsZnVuY3Rpb24oY29udGVudHMpe2FuZ3VsYXIuZm9yRWFjaChjb250ZW50cyxmdW5jdGlvbihub2RlKXtpc1RhYkhlYWRpbmcobm9kZSk/dGFiLmhlYWRpbmdFbGVtZW50PW5vZGU6ZWxtLmFwcGVuZChub2RlKX0pfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudGltZXBpY2tlciIsW10pLmNvbnN0YW50KCJ0aW1lcGlja2VyQ29uZmlnIix7aG91clN0ZXA6MSxtaW51dGVTdGVwOjEsc2hvd01lcmlkaWFuOiEwLG1lcmlkaWFuczpudWxsLHJlYWRvbmx5SW5wdXQ6ITEsbW91c2V3aGVlbDohMH0pLmNvbnRyb2xsZXIoIlRpbWVwaWNrZXJDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRsb2ciLCIkbG9jYWxlIiwidGltZXBpY2tlckNvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2UsJGxvZywkbG9jYWxlLHRpbWVwaWNrZXJDb25maWcpe2Z1bmN0aW9uIGdldEhvdXJzRnJvbVRlbXBsYXRlKCl7dmFyIGhvdXJzPXBhcnNlSW50KCRzY29wZS5ob3VycywxMCksdmFsaWQ9JHNjb3BlLnNob3dNZXJpZGlhbj9ob3Vycz4wJiYxMz5ob3Vyczpob3Vycz49MCYmMjQ+aG91cnM7cmV0dXJuIHZhbGlkPygkc2NvcGUuc2hvd01lcmlkaWFuJiYoMTI9PT1ob3VycyYmKGhvdXJzPTApLCRzY29wZS5tZXJpZGlhbj09PW1lcmlkaWFuc1sxXSYmKGhvdXJzKz0xMikpLGhvdXJzKTp2b2lkIDB9ZnVuY3Rpb24gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpe3ZhciBtaW51dGVzPXBhcnNlSW50KCRzY29wZS5taW51dGVzLDEwKTtyZXR1cm4gbWludXRlcz49MCYmNjA+bWludXRlcz9taW51dGVzOnZvaWQgMH1mdW5jdGlvbiBwYWQodmFsdWUpe3JldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkmJnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoPDI/IjAiK3ZhbHVlOnZhbHVlfWZ1bmN0aW9uIHJlZnJlc2goa2V5Ym9hcmRDaGFuZ2Upe21ha2VWYWxpZCgpLG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmV3IERhdGUoc2VsZWN0ZWQpKSx1cGRhdGVUZW1wbGF0ZShrZXlib2FyZENoYW5nZSl9ZnVuY3Rpb24gbWFrZVZhbGlkKCl7bmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJ0aW1lIiwhMCksJHNjb3BlLmludmFsaWRIb3Vycz0hMSwkc2NvcGUuaW52YWxpZE1pbnV0ZXM9ITF9ZnVuY3Rpb24gdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2Upe3ZhciBob3Vycz1zZWxlY3RlZC5nZXRIb3VycygpLG1pbnV0ZXM9c2VsZWN0ZWQuZ2V0TWludXRlcygpOyRzY29wZS5zaG93TWVyaWRpYW4mJihob3Vycz0wPT09aG91cnN8fDEyPT09aG91cnM/MTI6aG91cnMlMTIpLCRzY29wZS5ob3Vycz0iaCI9PT1rZXlib2FyZENoYW5nZT9ob3VyczpwYWQoaG91cnMpLCRzY29wZS5taW51dGVzPSJtIj09PWtleWJvYXJkQ2hhbmdlP21pbnV0ZXM6cGFkKG1pbnV0ZXMpLCRzY29wZS5tZXJpZGlhbj1zZWxlY3RlZC5nZXRIb3VycygpPDEyP21lcmlkaWFuc1swXTptZXJpZGlhbnNbMV19ZnVuY3Rpb24gYWRkTWludXRlcyhtaW51dGVzKXt2YXIgZHQ9bmV3IERhdGUoc2VsZWN0ZWQuZ2V0VGltZSgpKzZlNCptaW51dGVzKTtzZWxlY3RlZC5zZXRIb3VycyhkdC5nZXRIb3VycygpLGR0LmdldE1pbnV0ZXMoKSkscmVmcmVzaCgpfXZhciBzZWxlY3RlZD1uZXcgRGF0ZSxuZ01vZGVsQ3RybD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9LG1lcmlkaWFucz1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWVyaWRpYW5zKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWVyaWRpYW5zKTp0aW1lcGlja2VyQ29uZmlnLm1lcmlkaWFuc3x8JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TO3RoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8saW5wdXRzKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sbmdNb2RlbEN0cmwuJHJlbmRlcj10aGlzLnJlbmRlcjt2YXIgaG91cnNJbnB1dEVsPWlucHV0cy5lcSgwKSxtaW51dGVzSW5wdXRFbD1pbnB1dHMuZXEoMSksbW91c2V3aGVlbD1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubW91c2V3aGVlbCk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1vdXNld2hlZWwpOnRpbWVwaWNrZXJDb25maWcubW91c2V3aGVlbDttb3VzZXdoZWVsJiZ0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyhob3Vyc0lucHV0RWwsbWludXRlc0lucHV0RWwpLCRzY29wZS5yZWFkb25seUlucHV0PWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmVhZG9ubHlJbnB1dCk6dGltZXBpY2tlckNvbmZpZy5yZWFkb25seUlucHV0LHRoaXMuc2V0dXBJbnB1dEV2ZW50cyhob3Vyc0lucHV0RWwsbWludXRlc0lucHV0RWwpfTt2YXIgaG91clN0ZXA9dGltZXBpY2tlckNvbmZpZy5ob3VyU3RlcDskYXR0cnMuaG91clN0ZXAmJiRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLmhvdXJTdGVwKSxmdW5jdGlvbih2YWx1ZSl7aG91clN0ZXA9cGFyc2VJbnQodmFsdWUsMTApfSk7dmFyIG1pbnV0ZVN0ZXA9dGltZXBpY2tlckNvbmZpZy5taW51dGVTdGVwOyRhdHRycy5taW51dGVTdGVwJiYkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW51dGVTdGVwKSxmdW5jdGlvbih2YWx1ZSl7bWludXRlU3RlcD1wYXJzZUludCh2YWx1ZSwxMCl9KSwkc2NvcGUuc2hvd01lcmlkaWFuPXRpbWVwaWNrZXJDb25maWcuc2hvd01lcmlkaWFuLCRhdHRycy5zaG93TWVyaWRpYW4mJiRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLnNob3dNZXJpZGlhbiksZnVuY3Rpb24odmFsdWUpe2lmKCRzY29wZS5zaG93TWVyaWRpYW49ISF2YWx1ZSxuZ01vZGVsQ3RybC4kZXJyb3IudGltZSl7dmFyIGhvdXJzPWdldEhvdXJzRnJvbVRlbXBsYXRlKCksbWludXRlcz1nZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7YW5ndWxhci5pc0RlZmluZWQoaG91cnMpJiZhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSYmKHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKSxyZWZyZXNoKCkpfWVsc2UgdXBkYXRlVGVtcGxhdGUoKX0pLHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzPWZ1bmN0aW9uKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCl7dmFyIGlzU2Nyb2xsaW5nVXA9ZnVuY3Rpb24oZSl7ZS5vcmlnaW5hbEV2ZW50JiYoZT1lLm9yaWdpbmFsRXZlbnQpO3ZhciBkZWx0YT1lLndoZWVsRGVsdGE/ZS53aGVlbERlbHRhOi1lLmRlbHRhWTtyZXR1cm4gZS5kZXRhaWx8fGRlbHRhPjB9O2hvdXJzSW5wdXRFbC5iaW5kKCJtb3VzZXdoZWVsIHdoZWVsIixmdW5jdGlvbihlKXskc2NvcGUuJGFwcGx5KGlzU2Nyb2xsaW5nVXAoZSk/JHNjb3BlLmluY3JlbWVudEhvdXJzKCk6JHNjb3BlLmRlY3JlbWVudEhvdXJzKCkpLGUucHJldmVudERlZmF1bHQoKX0pLG1pbnV0ZXNJbnB1dEVsLmJpbmQoIm1vdXNld2hlZWwgd2hlZWwiLGZ1bmN0aW9uKGUpeyRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKT8kc2NvcGUuaW5jcmVtZW50TWludXRlcygpOiRzY29wZS5kZWNyZW1lbnRNaW51dGVzKCkpLGUucHJldmVudERlZmF1bHQoKX0pfSx0aGlzLnNldHVwSW5wdXRFdmVudHM9ZnVuY3Rpb24oaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKXtpZigkc2NvcGUucmVhZG9ubHlJbnB1dClyZXR1cm4gJHNjb3BlLnVwZGF0ZUhvdXJzPWFuZ3VsYXIubm9vcCx2b2lkKCRzY29wZS51cGRhdGVNaW51dGVzPWFuZ3VsYXIubm9vcCk7dmFyIGludmFsaWRhdGU9ZnVuY3Rpb24oaW52YWxpZEhvdXJzLGludmFsaWRNaW51dGVzKXtuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG51bGwpLG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykmJigkc2NvcGUuaW52YWxpZEhvdXJzPWludmFsaWRIb3VycyksYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZE1pbnV0ZXMpJiYoJHNjb3BlLmludmFsaWRNaW51dGVzPWludmFsaWRNaW51dGVzKX07JHNjb3BlLnVwZGF0ZUhvdXJzPWZ1bmN0aW9uKCl7dmFyIGhvdXJzPWdldEhvdXJzRnJvbVRlbXBsYXRlKCk7YW5ndWxhci5pc0RlZmluZWQoaG91cnMpPyhzZWxlY3RlZC5zZXRIb3Vycyhob3VycykscmVmcmVzaCgiaCIpKTppbnZhbGlkYXRlKCEwKX0saG91cnNJbnB1dEVsLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7ISRzY29wZS5pbnZhbGlkSG91cnMmJiRzY29wZS5ob3VyczwxMCYmJHNjb3BlLiRhcHBseShmdW5jdGlvbigpeyRzY29wZS5ob3Vycz1wYWQoJHNjb3BlLmhvdXJzKX0pfSksJHNjb3BlLnVwZGF0ZU1pbnV0ZXM9ZnVuY3Rpb24oKXt2YXIgbWludXRlcz1nZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7YW5ndWxhci5pc0RlZmluZWQobWludXRlcyk/KHNlbGVjdGVkLnNldE1pbnV0ZXMobWludXRlcykscmVmcmVzaCgibSIpKTppbnZhbGlkYXRlKHZvaWQgMCwhMCl9LG1pbnV0ZXNJbnB1dEVsLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7ISRzY29wZS5pbnZhbGlkTWludXRlcyYmJHNjb3BlLm1pbnV0ZXM8MTAmJiRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXskc2NvcGUubWludXRlcz1wYWQoJHNjb3BlLm1pbnV0ZXMpfSl9KX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZGF0ZT1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bnVsbDtpc05hTihkYXRlKT8obmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJ0aW1lIiwhMSksJGxvZy5lcnJvcignVGltZXBpY2tlciBkaXJlY3RpdmU6ICJuZy1tb2RlbCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpKTooZGF0ZSYmKHNlbGVjdGVkPWRhdGUpLG1ha2VWYWxpZCgpLHVwZGF0ZVRlbXBsYXRlKCkpfSwkc2NvcGUuaW5jcmVtZW50SG91cnM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKDYwKmhvdXJTdGVwKX0sJHNjb3BlLmRlY3JlbWVudEhvdXJzPWZ1bmN0aW9uKCl7YWRkTWludXRlcyg2MCotaG91clN0ZXApfSwkc2NvcGUuaW5jcmVtZW50TWludXRlcz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMobWludXRlU3RlcCl9LCRzY29wZS5kZWNyZW1lbnRNaW51dGVzPWZ1bmN0aW9uKCl7YWRkTWludXRlcygtbWludXRlU3RlcCl9LCRzY29wZS50b2dnbGVNZXJpZGlhbj1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoNzIwKihzZWxlY3RlZC5nZXRIb3VycygpPDEyPzE6LTEpKX19XSkuZGlyZWN0aXZlKCJ0aW1lcGlja2VyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6WyJ0aW1lcGlja2VyIiwiP15uZ01vZGVsIl0sY29udHJvbGxlcjoiVGltZXBpY2tlckNvbnRyb2xsZXIiLHJlcGxhY2U6ITAsc2NvcGU6e30sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe3ZhciB0aW1lcGlja2VyQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybCYmdGltZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCxlbGVtZW50LmZpbmQoImlucHV0IikpfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnR5cGVhaGVhZCIsWyJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiXSkuZmFjdG9yeSgidHlwZWFoZWFkUGFyc2VyIixbIiRwYXJzZSIsZnVuY3Rpb24oJHBhcnNlKXt2YXIgVFlQRUFIRUFEX1JFR0VYUD0vXlxzKihbXHNcU10rPykoPzpccythc1xzKyhbXHNcU10rPykpP1xzK2ZvclxzKyg/OihbXCRcd11bXCRcd1xkXSopKVxzK2luXHMrKFtcc1xTXSs/KSQvO3JldHVybntwYXJzZTpmdW5jdGlvbihpbnB1dCl7dmFyIG1hdGNoPWlucHV0Lm1hdGNoKFRZUEVBSEVBRF9SRUdFWFApO2lmKCFtYXRjaCl0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHR5cGVhaGVhZCBzcGVjaWZpY2F0aW9uIGluIGZvcm0gb2YgIl9tb2RlbFZhbHVlXyAoYXMgX2xhYmVsXyk/IGZvciBfaXRlbV8gaW4gX2NvbGxlY3Rpb25fIiBidXQgZ290ICInK2lucHV0KyciLicpO3JldHVybntpdGVtTmFtZTptYXRjaFszXSxzb3VyY2U6JHBhcnNlKG1hdGNoWzRdKSx2aWV3TWFwcGVyOiRwYXJzZShtYXRjaFsyXXx8bWF0Y2hbMV0pLG1vZGVsTWFwcGVyOiRwYXJzZShtYXRjaFsxXSl9fX19XSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWQiLFsiJGNvbXBpbGUiLCIkcGFyc2UiLCIkcSIsIiR0aW1lb3V0IiwiJGRvY3VtZW50IiwiJHBvc2l0aW9uIiwidHlwZWFoZWFkUGFyc2VyIixmdW5jdGlvbigkY29tcGlsZSwkcGFyc2UsJHEsJHRpbWVvdXQsJGRvY3VtZW50LCRwb3NpdGlvbix0eXBlYWhlYWRQYXJzZXIpe3ZhciBIT1RfS0VZUz1bOSwxMywyNywzOCw0MF07cmV0dXJue3JlcXVpcmU6Im5nTW9kZWwiLGxpbms6ZnVuY3Rpb24ob3JpZ2luYWxTY29wZSxlbGVtZW50LGF0dHJzLG1vZGVsQ3RybCl7dmFyIGhhc0ZvY3VzLG1pblNlYXJjaD1vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZE1pbkxlbmd0aCl8fDEsd2FpdFRpbWU9b3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRXYWl0TXMpfHwwLGlzRWRpdGFibGU9b3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRFZGl0YWJsZSkhPT0hMSxpc0xvYWRpbmdTZXR0ZXI9JHBhcnNlKGF0dHJzLnR5cGVhaGVhZExvYWRpbmcpLmFzc2lnbnx8YW5ndWxhci5ub29wLG9uU2VsZWN0Q2FsbGJhY2s9JHBhcnNlKGF0dHJzLnR5cGVhaGVhZE9uU2VsZWN0KSxpbnB1dEZvcm1hdHRlcj1hdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcj8kcGFyc2UoYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIpOnZvaWQgMCxhcHBlbmRUb0JvZHk9YXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5P29yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KTohMSwkc2V0TW9kZWxWYWx1ZT0kcGFyc2UoYXR0cnMubmdNb2RlbCkuYXNzaWduLHBhcnNlclJlc3VsdD10eXBlYWhlYWRQYXJzZXIucGFyc2UoYXR0cnMudHlwZWFoZWFkKSxzY29wZT1vcmlnaW5hbFNjb3BlLiRuZXcoKTtvcmlnaW5hbFNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7c2NvcGUuJGRlc3Ryb3koKX0pO3ZhciBwb3B1cElkPSJ0eXBlYWhlYWQtIitzY29wZS4kaWQrIi0iK01hdGguZmxvb3IoMWU0Kk1hdGgucmFuZG9tKCkpO2VsZW1lbnQuYXR0cih7ImFyaWEtYXV0b2NvbXBsZXRlIjoibGlzdCIsImFyaWEtZXhwYW5kZWQiOiExLCJhcmlhLW93bnMiOnBvcHVwSWR9KTt2YXIgcG9wVXBFbD1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgdHlwZWFoZWFkLXBvcHVwPjwvZGl2PiIpO3BvcFVwRWwuYXR0cih7aWQ6cG9wdXBJZCxtYXRjaGVzOiJtYXRjaGVzIixhY3RpdmU6ImFjdGl2ZUlkeCIsc2VsZWN0OiJzZWxlY3QoYWN0aXZlSWR4KSIscXVlcnk6InF1ZXJ5Iixwb3NpdGlvbjoicG9zaXRpb24ifSksYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpJiZwb3BVcEVsLmF0dHIoInRlbXBsYXRlLXVybCIsYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpO3ZhciByZXNldE1hdGNoZXM9ZnVuY3Rpb24oKXtzY29wZS5tYXRjaGVzPVtdLHNjb3BlLmFjdGl2ZUlkeD0tMSxlbGVtZW50LmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKX0sZ2V0TWF0Y2hJZD1mdW5jdGlvbihpbmRleCl7cmV0dXJuIHBvcHVwSWQrIi1vcHRpb24tIitpbmRleH07c2NvcGUuJHdhdGNoKCJhY3RpdmVJZHgiLGZ1bmN0aW9uKGluZGV4KXswPmluZGV4P2VsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50Iik6ZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGdldE1hdGNoSWQoaW5kZXgpKX0pO3ZhciBnZXRNYXRjaGVzQXN5bmM9ZnVuY3Rpb24oaW5wdXRWYWx1ZSl7dmFyIGxvY2Fscz17JHZpZXdWYWx1ZTppbnB1dFZhbHVlfTtpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwhMCksJHEud2hlbihwYXJzZXJSZXN1bHQuc291cmNlKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSkudGhlbihmdW5jdGlvbihtYXRjaGVzKXt2YXIgb25DdXJyZW50UmVxdWVzdD1pbnB1dFZhbHVlPT09bW9kZWxDdHJsLiR2aWV3VmFsdWU7aWYob25DdXJyZW50UmVxdWVzdCYmaGFzRm9jdXMpaWYobWF0Y2hlcy5sZW5ndGg+MCl7c2NvcGUuYWN0aXZlSWR4PTAsc2NvcGUubWF0Y2hlcy5sZW5ndGg9MDtmb3IodmFyIGk9MDtpPG1hdGNoZXMubGVuZ3RoO2krKylsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXT1tYXRjaGVzW2ldLHNjb3BlLm1hdGNoZXMucHVzaCh7aWQ6Z2V0TWF0Y2hJZChpKSxsYWJlbDpwYXJzZXJSZXN1bHQudmlld01hcHBlcihzY29wZSxsb2NhbHMpLG1vZGVsOm1hdGNoZXNbaV19KTtzY29wZS5xdWVyeT1pbnB1dFZhbHVlLHNjb3BlLnBvc2l0aW9uPWFwcGVuZFRvQm9keT8kcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpOiRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KSxzY29wZS5wb3NpdGlvbi50b3A9c2NvcGUucG9zaXRpb24udG9wK2VsZW1lbnQucHJvcCgib2Zmc2V0SGVpZ2h0IiksZWxlbWVudC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCl9ZWxzZSByZXNldE1hdGNoZXMoKTtvbkN1cnJlbnRSZXF1ZXN0JiZpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwhMSl9LGZ1bmN0aW9uKCl7cmVzZXRNYXRjaGVzKCksaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITEpfSl9O3Jlc2V0TWF0Y2hlcygpLHNjb3BlLnF1ZXJ5PXZvaWQgMDt2YXIgdGltZW91dFByb21pc2Usc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dD1mdW5jdGlvbihpbnB1dFZhbHVlKXt0aW1lb3V0UHJvbWlzZT0kdGltZW91dChmdW5jdGlvbigpe2dldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKX0sd2FpdFRpbWUpfSxjYW5jZWxQcmV2aW91c1RpbWVvdXQ9ZnVuY3Rpb24oKXt0aW1lb3V0UHJvbWlzZSYmJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRQcm9taXNlKX07bW9kZWxDdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24oaW5wdXRWYWx1ZSl7cmV0dXJuIGhhc0ZvY3VzPSEwLGlucHV0VmFsdWUmJmlucHV0VmFsdWUubGVuZ3RoPj1taW5TZWFyY2g/d2FpdFRpbWU+MD8oY2FuY2VsUHJldmlvdXNUaW1lb3V0KCksc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dChpbnB1dFZhbHVlKSk6Z2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpOihpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwhMSksY2FuY2VsUHJldmlvdXNUaW1lb3V0KCkscmVzZXRNYXRjaGVzKCkpLGlzRWRpdGFibGU/aW5wdXRWYWx1ZTppbnB1dFZhbHVlP3ZvaWQgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCExKToobW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCEwKSxpbnB1dFZhbHVlKX0pLG1vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKG1vZGVsVmFsdWUpe3ZhciBjYW5kaWRhdGVWaWV3VmFsdWUsZW1wdHlWaWV3VmFsdWUsbG9jYWxzPXt9O3JldHVybiBpbnB1dEZvcm1hdHRlcj8obG9jYWxzLiRtb2RlbD1tb2RlbFZhbHVlLGlucHV0Rm9ybWF0dGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSk6KGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdPW1vZGVsVmFsdWUsY2FuZGlkYXRlVmlld1ZhbHVlPXBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSxsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXT12b2lkIDAsZW1wdHlWaWV3VmFsdWU9cGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSxsb2NhbHMpLGNhbmRpZGF0ZVZpZXdWYWx1ZSE9PWVtcHR5Vmlld1ZhbHVlP2NhbmRpZGF0ZVZpZXdWYWx1ZTptb2RlbFZhbHVlKX0pLHNjb3BlLnNlbGVjdD1mdW5jdGlvbihhY3RpdmVJZHgpe3ZhciBtb2RlbCxpdGVtLGxvY2Fscz17fTtsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXT1pdGVtPXNjb3BlLm1hdGNoZXNbYWN0aXZlSWR4XS5tb2RlbCxtb2RlbD1wYXJzZXJSZXN1bHQubW9kZWxNYXBwZXIob3JpZ2luYWxTY29wZSxsb2NhbHMpLCRzZXRNb2RlbFZhbHVlKG9yaWdpbmFsU2NvcGUsbW9kZWwpLG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMCksb25TZWxlY3RDYWxsYmFjayhvcmlnaW5hbFNjb3BlLHskaXRlbTppdGVtLCRtb2RlbDptb2RlbCwkbGFiZWw6cGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSxsb2NhbHMpfSkscmVzZXRNYXRjaGVzKCksJHRpbWVvdXQoZnVuY3Rpb24oKXtlbGVtZW50WzBdLmZvY3VzKCl9LDAsITEpfSxlbGVtZW50LmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGV2dCl7MCE9PXNjb3BlLm1hdGNoZXMubGVuZ3RoJiYtMSE9PUhPVF9LRVlTLmluZGV4T2YoZXZ0LndoaWNoKSYmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLDQwPT09ZXZ0LndoaWNoPyhzY29wZS5hY3RpdmVJZHg9KHNjb3BlLmFjdGl2ZUlkeCsxKSVzY29wZS5tYXRjaGVzLmxlbmd0aCxzY29wZS4kZGlnZXN0KCkpOjM4PT09ZXZ0LndoaWNoPyhzY29wZS5hY3RpdmVJZHg9KHNjb3BlLmFjdGl2ZUlkeD9zY29wZS5hY3RpdmVJZHg6c2NvcGUubWF0Y2hlcy5sZW5ndGgpLTEsc2NvcGUuJGRpZ2VzdCgpKToxMz09PWV2dC53aGljaHx8OT09PWV2dC53aGljaD9zY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KX0pOjI3PT09ZXZ0LndoaWNoJiYoZXZ0LnN0b3BQcm9wYWdhdGlvbigpLHJlc2V0TWF0Y2hlcygpLHNjb3BlLiRkaWdlc3QoKSkpfSksZWxlbWVudC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2hhc0ZvY3VzPSExfSk7dmFyIGRpc21pc3NDbGlja0hhbmRsZXI9ZnVuY3Rpb24oZXZ0KXtlbGVtZW50WzBdIT09ZXZ0LnRhcmdldCYmKHJlc2V0TWF0Y2hlcygpLHNjb3BlLiRkaWdlc3QoKSl9OyRkb2N1bWVudC5iaW5kKCJjbGljayIsZGlzbWlzc0NsaWNrSGFuZGxlciksb3JpZ2luYWxTY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpeyRkb2N1bWVudC51bmJpbmQoImNsaWNrIixkaXNtaXNzQ2xpY2tIYW5kbGVyKX0pO3ZhciAkcG9wdXA9JGNvbXBpbGUocG9wVXBFbCkoc2NvcGUpO2FwcGVuZFRvQm9keT8kZG9jdW1lbnQuZmluZCgiYm9keSIpLmFwcGVuZCgkcG9wdXApOmVsZW1lbnQuYWZ0ZXIoJHBvcHVwKX19fV0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e21hdGNoZXM6Ij0iLHF1ZXJ5OiI9IixhY3RpdmU6Ij0iLHBvc2l0aW9uOiI9IixzZWxlY3Q6IiYifSxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7c2NvcGUudGVtcGxhdGVVcmw9YXR0cnMudGVtcGxhdGVVcmwsc2NvcGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHNjb3BlLm1hdGNoZXMubGVuZ3RoPjB9LHNjb3BlLmlzQWN0aXZlPWZ1bmN0aW9uKG1hdGNoSWR4KXtyZXR1cm4gc2NvcGUuYWN0aXZlPT1tYXRjaElkeH0sc2NvcGUuc2VsZWN0QWN0aXZlPWZ1bmN0aW9uKG1hdGNoSWR4KXtzY29wZS5hY3RpdmU9bWF0Y2hJZHh9LHNjb3BlLnNlbGVjdE1hdGNoPWZ1bmN0aW9uKGFjdGl2ZUlkeCl7c2NvcGUuc2VsZWN0KHthY3RpdmVJZHg6YWN0aXZlSWR4fSl9fX19KS5kaXJlY3RpdmUoInR5cGVhaGVhZE1hdGNoIixbIiRodHRwIiwiJHRlbXBsYXRlQ2FjaGUiLCIkY29tcGlsZSIsIiRwYXJzZSIsZnVuY3Rpb24oJGh0dHAsJHRlbXBsYXRlQ2FjaGUsJGNvbXBpbGUsJHBhcnNlKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7aW5kZXg6Ij0iLG1hdGNoOiI9IixxdWVyeToiPSJ9LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7dmFyIHRwbFVybD0kcGFyc2UoYXR0cnMudGVtcGxhdGVVcmwpKHNjb3BlLiRwYXJlbnQpfHwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIjskaHR0cC5nZXQodHBsVXJsLHtjYWNoZTokdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odHBsQ29udGVudCl7ZWxlbWVudC5yZXBsYWNlV2l0aCgkY29tcGlsZSh0cGxDb250ZW50LnRyaW0oKSkoc2NvcGUpKX0pfX19XSkuZmlsdGVyKCJ0eXBlYWhlYWRIaWdobGlnaHQiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZXNjYXBlUmVnZXhwKHF1ZXJ5VG9Fc2NhcGUpe3JldHVybiBxdWVyeVRvRXNjYXBlLnJlcGxhY2UoLyhbLj8qK14kW1xdXFwoKXt9fC1dKS9nLCJcXCQxIil9cmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSxxdWVyeSl7cmV0dXJuIHF1ZXJ5PygiIittYXRjaEl0ZW0pLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVSZWdleHAocXVlcnkpLCJnaSIpLCI8c3Ryb25nPiQmPC9zdHJvbmc+Iik6bWF0Y2hJdGVtfX0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIiwnPGRpdiBjbGFzcz0icGFuZWwgcGFuZWwtZGVmYXVsdCI+XG4gIDxkaXYgY2xhc3M9InBhbmVsLWhlYWRpbmciPlxuICAgIDxoNCBjbGFzcz0icGFuZWwtdGl0bGUiPlxuICAgICAgPGEgY2xhc3M9ImFjY29yZGlvbi10b2dnbGUiIG5nLWNsaWNrPSJ0b2dnbGVPcGVuKCkiIGFjY29yZGlvbi10cmFuc2NsdWRlPSJoZWFkaW5nIj48c3BhbiBuZy1jbGFzcz0ie1wndGV4dC1tdXRlZFwnOiBpc0Rpc2FibGVkfSI+e3toZWFkaW5nfX08L3NwYW4+PC9hPlxuICAgIDwvaDQ+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJwYW5lbC1jb2xsYXBzZSIgY29sbGFwc2U9IiFpc09wZW4iPlxuCSAgPGRpdiBjbGFzcz0icGFuZWwtYm9keSIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCIsJzxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBuZy10cmFuc2NsdWRlPjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLCc8ZGl2IGNsYXNzPSJhbGVydCIgbmctY2xhc3M9IltcJ2FsZXJ0LVwnICsgKHR5cGUgfHwgXCd3YXJuaW5nXCcpLCBjbG9zZWFibGUgPyBcJ2FsZXJ0LWRpc21pc3NhYmxlXCcgOiBudWxsXSIgcm9sZT0iYWxlcnQiPlxuICAgIDxidXR0b24gbmctc2hvdz0iY2xvc2VhYmxlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZSIgbmctY2xpY2s9ImNsb3NlKCkiPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj0idHJ1ZSI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNyLW9ubHkiPkNsb3NlPC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICAgIDxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsJzxkaXYgbmctbW91c2VlbnRlcj0icGF1c2UoKSIgbmctbW91c2VsZWF2ZT0icGxheSgpIiBjbGFzcz0iY2Fyb3VzZWwiIG5nLXN3aXBlLXJpZ2h0PSJwcmV2KCkiIG5nLXN3aXBlLWxlZnQ9Im5leHQoKSI+XG4gICAgPG9sIGNsYXNzPSJjYXJvdXNlbC1pbmRpY2F0b3JzIiBuZy1zaG93PSJzbGlkZXMubGVuZ3RoID4gMSI+XG4gICAgICAgIDxsaSBuZy1yZXBlYXQ9InNsaWRlIGluIHNsaWRlcyB0cmFjayBieSAkaW5kZXgiIG5nLWNsYXNzPSJ7YWN0aXZlOiBpc0FjdGl2ZShzbGlkZSl9IiBuZy1jbGljaz0ic2VsZWN0KHNsaWRlKSI+PC9saT5cbiAgICA8L29sPlxuICAgIDxkaXYgY2xhc3M9ImNhcm91c2VsLWlubmVyIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuICAgIDxhIGNsYXNzPSJsZWZ0IGNhcm91c2VsLWNvbnRyb2wiIG5nLWNsaWNrPSJwcmV2KCkiIG5nLXNob3c9InNsaWRlcy5sZW5ndGggPiAxIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQiPjwvc3Bhbj48L2E+XG4gICAgPGEgY2xhc3M9InJpZ2h0IGNhcm91c2VsLWNvbnRyb2wiIG5nLWNsaWNrPSJuZXh0KCkiIG5nLXNob3c9InNsaWRlcy5sZW5ndGggPiAxIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0Ij48L3NwYW4+PC9hPlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIiwiPGRpdiBuZy1jbGFzcz1cIntcbiAgICAnYWN0aXZlJzogbGVhdmluZyB8fCAoYWN0aXZlICYmICFlbnRlcmluZyksXG4gICAgJ3ByZXYnOiAobmV4dCB8fCBhY3RpdmUpICYmIGRpcmVjdGlvbj09J3ByZXYnLFxuICAgICduZXh0JzogKG5leHQgfHwgYWN0aXZlKSAmJiBkaXJlY3Rpb249PSduZXh0JyxcbiAgICAncmlnaHQnOiBkaXJlY3Rpb249PSdwcmV2JyxcbiAgICAnbGVmdCc6IGRpcmVjdGlvbj09J25leHQnXG4gIH1cIiBjbGFzcz1cIml0ZW0gdGV4dC1jZW50ZXJcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuIil9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sIiwnPGRpdiBuZy1zd2l0Y2g9ImRhdGVwaWNrZXJNb2RlIiByb2xlPSJhcHBsaWNhdGlvbiIgbmcta2V5ZG93bj0ia2V5ZG93bigkZXZlbnQpIj5cbiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj0iZGF5IiB0YWJpbmRleD0iMCI+PC9kYXlwaWNrZXI+XG4gIDxtb250aHBpY2tlciBuZy1zd2l0Y2gtd2hlbj0ibW9udGgiIHRhYmluZGV4PSIwIj48L21vbnRocGlja2VyPlxuICA8eWVhcnBpY2tlciBuZy1zd2l0Y2gtd2hlbj0ieWVhciIgdGFiaW5kZXg9IjAiPjwveWVhcnBpY2tlcj5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLCc8dGFibGUgcm9sZT0iZ3JpZCIgYXJpYS1sYWJlbGxlZGJ5PSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD0ie3thY3RpdmVEYXRlSWR9fSI+XG4gIDx0aGVhZD5cbiAgICA8dHI+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdCIgbmctY2xpY2s9Im1vdmUoLTEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGggY29sc3Bhbj0ie3s1ICsgc2hvd1dlZWtzfX0iPjxidXR0b24gaWQ9Int7dW5pcXVlSWR9fS10aXRsZSIgcm9sZT0iaGVhZGluZyIgYXJpYS1saXZlPSJhc3NlcnRpdmUiIGFyaWEtYXRvbWljPSJ0cnVlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGljaz0idG9nZ2xlTW9kZSgpIiB0YWJpbmRleD0iLTEiIHN0eWxlPSJ3aWR0aDoxMDAlOyI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0IiBuZy1jbGljaz0ibW92ZSgxKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgIDx0aCBuZy1zaG93PSJzaG93V2Vla3MiIGNsYXNzPSJ0ZXh0LWNlbnRlciI+PC90aD5cbiAgICAgIDx0aCBuZy1yZXBlYXQ9ImxhYmVsIGluIGxhYmVscyB0cmFjayBieSAkaW5kZXgiIGNsYXNzPSJ0ZXh0LWNlbnRlciI+PHNtYWxsIGFyaWEtbGFiZWw9Int7bGFiZWwuZnVsbH19Ij57e2xhYmVsLmFiYnJ9fTwvc21hbGw+PC90aD5cbiAgICA8L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyIG5nLXJlcGVhdD0icm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4Ij5cbiAgICAgIDx0ZCBuZy1zaG93PSJzaG93V2Vla3MiIGNsYXNzPSJ0ZXh0LWNlbnRlciBoNiI+PGVtPnt7IHdlZWtOdW1iZXJzWyRpbmRleF0gfX08L2VtPjwvdGQ+XG4gICAgICA8dGQgbmctcmVwZWF0PSJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZSIgY2xhc3M9InRleHQtY2VudGVyIiByb2xlPSJncmlkY2VsbCIgaWQ9Int7ZHQudWlkfX0iIGFyaWEtZGlzYWJsZWQ9Int7ISFkdC5kaXNhYmxlZH19Ij5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIHN0eWxlPSJ3aWR0aDoxMDAlOyIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20iIG5nLWNsYXNzPSJ7XCdidG4taW5mb1wnOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9IiBuZy1jbGljaz0ic2VsZWN0KGR0LmRhdGUpIiBuZy1kaXNhYmxlZD0iZHQuZGlzYWJsZWQiIHRhYmluZGV4PSItMSI+PHNwYW4gbmctY2xhc3M9IntcJ3RleHQtbXV0ZWRcJzogZHQuc2Vjb25kYXJ5LCBcJ3RleHQtaW5mb1wnOiBkdC5jdXJyZW50fSI+e3tkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgPC90ZD5cbiAgICA8L3RyPlxuICA8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIiwnPHRhYmxlIHJvbGU9ImdyaWQiIGFyaWEtbGFiZWxsZWRieT0ie3t1bmlxdWVJZH19LXRpdGxlIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9Int7YWN0aXZlRGF0ZUlkfX0iPlxuICA8dGhlYWQ+XG4gICAgPHRyPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQiIG5nLWNsaWNrPSJtb3ZlKC0xKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoPjxidXR0b24gaWQ9Int7dW5pcXVlSWR9fS10aXRsZSIgcm9sZT0iaGVhZGluZyIgYXJpYS1saXZlPSJhc3NlcnRpdmUiIGFyaWEtYXRvbWljPSJ0cnVlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGljaz0idG9nZ2xlTW9kZSgpIiB0YWJpbmRleD0iLTEiIHN0eWxlPSJ3aWR0aDoxMDAlOyI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0IiBuZy1jbGljaz0ibW92ZSgxKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICA8L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyIG5nLXJlcGVhdD0icm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4Ij5cbiAgICAgIDx0ZCBuZy1yZXBlYXQ9ImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlIiBjbGFzcz0idGV4dC1jZW50ZXIiIHJvbGU9ImdyaWRjZWxsIiBpZD0ie3tkdC51aWR9fSIgYXJpYS1kaXNhYmxlZD0ie3shIWR0LmRpc2FibGVkfX0iPlxuICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgc3R5bGU9IndpZHRoOjEwMCU7IiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IiBuZy1jbGFzcz0ie1wnYnRuLWluZm9cJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfSIgbmctY2xpY2s9InNlbGVjdChkdC5kYXRlKSIgbmctZGlzYWJsZWQ9ImR0LmRpc2FibGVkIiB0YWJpbmRleD0iLTEiPjxzcGFuIG5nLWNsYXNzPSJ7XCd0ZXh0LWluZm9cJzogZHQuY3VycmVudH0iPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cbiAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsJzx1bCBjbGFzcz0iZHJvcGRvd24tbWVudSIgbmctc3R5bGU9IntkaXNwbGF5OiAoaXNPcGVuICYmIFwnYmxvY2tcJykgfHwgXCdub25lXCcsIHRvcDogcG9zaXRpb24udG9wK1wncHhcJywgbGVmdDogcG9zaXRpb24ubGVmdCtcJ3B4XCd9IiBuZy1rZXlkb3duPSJrZXlkb3duKCRldmVudCkiPlxuCTxsaSBuZy10cmFuc2NsdWRlPjwvbGk+XG4JPGxpIG5nLWlmPSJzaG93QnV0dG9uQmFyIiBzdHlsZT0icGFkZGluZzoxMHB4IDlweCAycHgiPlxuCQk8c3BhbiBjbGFzcz0iYnRuLWdyb3VwIj5cbgkJCTxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4taW5mbyIgbmctY2xpY2s9InNlbGVjdChcJ3RvZGF5XCcpIj57eyBnZXRUZXh0KFwnY3VycmVudFwnKSB9fTwvYnV0dG9uPlxuCQkJPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1kYW5nZXIiIG5nLWNsaWNrPSJzZWxlY3QobnVsbCkiPnt7IGdldFRleHQoXCdjbGVhclwnKSB9fTwvYnV0dG9uPlxuCQk8L3NwYW4+XG4JCTxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0IiBuZy1jbGljaz0iY2xvc2UoKSI+e3sgZ2V0VGV4dChcJ2Nsb3NlXCcpIH19PC9idXR0b24+XG4JPC9saT5cbjwvdWw+XG4nKQp9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIiwnPHRhYmxlIHJvbGU9ImdyaWQiIGFyaWEtbGFiZWxsZWRieT0ie3t1bmlxdWVJZH19LXRpdGxlIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9Int7YWN0aXZlRGF0ZUlkfX0iPlxuICA8dGhlYWQ+XG4gICAgPHRyPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQiIG5nLWNsaWNrPSJtb3ZlKC0xKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoIGNvbHNwYW49IjMiPjxidXR0b24gaWQ9Int7dW5pcXVlSWR9fS10aXRsZSIgcm9sZT0iaGVhZGluZyIgYXJpYS1saXZlPSJhc3NlcnRpdmUiIGFyaWEtYXRvbWljPSJ0cnVlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGljaz0idG9nZ2xlTW9kZSgpIiB0YWJpbmRleD0iLTEiIHN0eWxlPSJ3aWR0aDoxMDAlOyI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0IiBuZy1jbGljaz0ibW92ZSgxKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICA8L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyIG5nLXJlcGVhdD0icm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4Ij5cbiAgICAgIDx0ZCBuZy1yZXBlYXQ9ImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlIiBjbGFzcz0idGV4dC1jZW50ZXIiIHJvbGU9ImdyaWRjZWxsIiBpZD0ie3tkdC51aWR9fSIgYXJpYS1kaXNhYmxlZD0ie3shIWR0LmRpc2FibGVkfX0iPlxuICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgc3R5bGU9IndpZHRoOjEwMCU7IiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IiBuZy1jbGFzcz0ie1wnYnRuLWluZm9cJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfSIgbmctY2xpY2s9InNlbGVjdChkdC5kYXRlKSIgbmctZGlzYWJsZWQ9ImR0LmRpc2FibGVkIiB0YWJpbmRleD0iLTEiPjxzcGFuIG5nLWNsYXNzPSJ7XCd0ZXh0LWluZm9cJzogZHQuY3VycmVudH0iPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cbiAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIiwnPGRpdiBjbGFzcz0ibW9kYWwtYmFja2Ryb3AgZmFkZSB7eyBiYWNrZHJvcENsYXNzIH19IlxuICAgICBuZy1jbGFzcz0ie2luOiBhbmltYXRlfSJcbiAgICAgbmctc3R5bGU9IntcJ3otaW5kZXhcJzogMTA0MCArIChpbmRleCAmJiAxIHx8IDApICsgaW5kZXgqMTB9IlxuPjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIiwnPGRpdiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyIgY2xhc3M9Im1vZGFsIGZhZGUiIG5nLWNsYXNzPSJ7aW46IGFuaW1hdGV9IiBuZy1zdHlsZT0ie1wnei1pbmRleFwnOiAxMDUwICsgaW5kZXgqMTAsIGRpc3BsYXk6IFwnYmxvY2tcJ30iIG5nLWNsaWNrPSJjbG9zZSgkZXZlbnQpIj5cbiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIG5nLWNsYXNzPSJ7XCdtb2RhbC1zbVwnOiBzaXplID09IFwnc21cJywgXCdtb2RhbC1sZ1wnOiBzaXplID09IFwnbGdcJ30iPjxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIG1vZGFsLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XG48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIsJzx1bCBjbGFzcz0icGFnZXIiPlxuICA8bGkgbmctY2xhc3M9IntkaXNhYmxlZDogbm9QcmV2aW91cygpLCBwcmV2aW91czogYWxpZ259Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgLSAxKSI+e3tnZXRUZXh0KFwncHJldmlvdXNcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctY2xhc3M9IntkaXNhYmxlZDogbm9OZXh0KCksIG5leHQ6IGFsaWdufSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlICsgMSkiPnt7Z2V0VGV4dChcJ25leHRcJyl9fTwvYT48L2xpPlxuPC91bD4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwiLCc8dWwgY2xhc3M9InBhZ2luYXRpb24iPlxuICA8bGkgbmctaWY9ImJvdW5kYXJ5TGlua3MiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKX0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UoMSkiPnt7Z2V0VGV4dChcJ2ZpcnN0XCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLWlmPSJkaXJlY3Rpb25MaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9QcmV2aW91cygpfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlIC0gMSkiPnt7Z2V0VGV4dChcJ3ByZXZpb3VzXCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLXJlcGVhdD0icGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXgiIG5nLWNsYXNzPSJ7YWN0aXZlOiBwYWdlLmFjdGl2ZX0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZS5udW1iZXIpIj57e3BhZ2UudGV4dH19PC9hPjwvbGk+XG4gIDxsaSBuZy1pZj0iZGlyZWN0aW9uTGlua3MiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlICsgMSkiPnt7Z2V0VGV4dChcJ25leHRcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctaWY9ImJvdW5kYXJ5TGlua3MiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZSh0b3RhbFBhZ2VzKSI+e3tnZXRUZXh0KFwnbGFzdFwnKX19PC9hPjwvbGk+XG48L3VsPicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCIsJzxkaXYgY2xhc3M9InRvb2x0aXAge3twbGFjZW1lbnR9fSIgbmctY2xhc3M9InsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9Ij5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiIGJpbmQtaHRtbC11bnNhZmU9ImNvbnRlbnQiPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLCc8ZGl2IGNsYXNzPSJ0b29sdGlwIHt7cGxhY2VtZW50fX0iIG5nLWNsYXNzPSJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfSI+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIiBuZy1iaW5kPSJjb250ZW50Ij48L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIiwnPGRpdiBjbGFzcz0icG9wb3ZlciB7e3BsYWNlbWVudH19IiBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCksIGZhZGU6IGFuaW1hdGlvbigpIH0iPlxuICA8ZGl2IGNsYXNzPSJhcnJvdyI+PC9kaXY+XG5cbiAgPGRpdiBjbGFzcz0icG9wb3Zlci1pbm5lciI+XG4gICAgICA8aDMgY2xhc3M9InBvcG92ZXItdGl0bGUiIG5nLWJpbmQ9InRpdGxlIiBuZy1zaG93PSJ0aXRsZSI+PC9oMz5cbiAgICAgIDxkaXYgY2xhc3M9InBvcG92ZXItY29udGVudCIgbmctYmluZD0iY29udGVudCI+PC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwcm9ncmVzcy1iYXIiIG5nLWNsYXNzPSJ0eXBlICYmIFwncHJvZ3Jlc3MtYmFyLVwnICsgdHlwZSIgcm9sZT0icHJvZ3Jlc3NiYXIiIGFyaWEtdmFsdWVub3c9Int7dmFsdWV9fSIgYXJpYS12YWx1ZW1pbj0iMCIgYXJpYS12YWx1ZW1heD0ie3ttYXh9fSIgbmctc3R5bGU9Int3aWR0aDogcGVyY2VudCArIFwnJVwnfSIgYXJpYS12YWx1ZXRleHQ9Int7cGVyY2VudCB8IG51bWJlcjowfX0lIiBuZy10cmFuc2NsdWRlPjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwiLCc8ZGl2IGNsYXNzPSJwcm9ncmVzcyIgbmctdHJhbnNjbHVkZT48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIiwnPGRpdiBjbGFzcz0icHJvZ3Jlc3MiPlxuICA8ZGl2IGNsYXNzPSJwcm9ncmVzcy1iYXIiIG5nLWNsYXNzPSJ0eXBlICYmIFwncHJvZ3Jlc3MtYmFyLVwnICsgdHlwZSIgcm9sZT0icHJvZ3Jlc3NiYXIiIGFyaWEtdmFsdWVub3c9Int7dmFsdWV9fSIgYXJpYS12YWx1ZW1pbj0iMCIgYXJpYS12YWx1ZW1heD0ie3ttYXh9fSIgbmctc3R5bGU9Int3aWR0aDogcGVyY2VudCArIFwnJVwnfSIgYXJpYS12YWx1ZXRleHQ9Int7cGVyY2VudCB8IG51bWJlcjowfX0lIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuPC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLCc8c3BhbiBuZy1tb3VzZWxlYXZlPSJyZXNldCgpIiBuZy1rZXlkb3duPSJvbktleWRvd24oJGV2ZW50KSIgdGFiaW5kZXg9IjAiIHJvbGU9InNsaWRlciIgYXJpYS12YWx1ZW1pbj0iMCIgYXJpYS12YWx1ZW1heD0ie3tyYW5nZS5sZW5ndGh9fSIgYXJpYS12YWx1ZW5vdz0ie3t2YWx1ZX19Ij5cbiAgICA8aSBuZy1yZXBlYXQ9InIgaW4gcmFuZ2UgdHJhY2sgYnkgJGluZGV4IiBuZy1tb3VzZWVudGVyPSJlbnRlcigkaW5kZXggKyAxKSIgbmctY2xpY2s9InJhdGUoJGluZGV4ICsgMSkiIGNsYXNzPSJnbHlwaGljb24iIG5nLWNsYXNzPSIkaW5kZXggPCB2YWx1ZSAmJiAoci5zdGF0ZU9uIHx8IFwnZ2x5cGhpY29uLXN0YXJcJykgfHwgKHIuc3RhdGVPZmYgfHwgXCdnbHlwaGljb24tc3Rhci1lbXB0eVwnKSI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzci1vbmx5Ij4oe3sgJGluZGV4IDwgdmFsdWUgPyBcJypcJyA6IFwnIFwnIH19KTwvc3Bhbj5cbiAgICA8L2k+XG48L3NwYW4+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsJzxsaSBuZy1jbGFzcz0ie2FjdGl2ZTogYWN0aXZlLCBkaXNhYmxlZDogZGlzYWJsZWR9Ij5cbiAgPGEgbmctY2xpY2s9InNlbGVjdCgpIiB0YWItaGVhZGluZy10cmFuc2NsdWRlPnt7aGVhZGluZ319PC9hPlxuPC9saT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLCc8ZGl2PlxuICA8dWwgY2xhc3M9Im5hdiBuYXYte3t0eXBlIHx8IFwndGFic1wnfX0iIG5nLWNsYXNzPSJ7XCduYXYtc3RhY2tlZFwnOiB2ZXJ0aWNhbCwgXCduYXYtanVzdGlmaWVkXCc6IGp1c3RpZmllZH0iIG5nLXRyYW5zY2x1ZGU+PC91bD5cbiAgPGRpdiBjbGFzcz0idGFiLWNvbnRlbnQiPlxuICAgIDxkaXYgY2xhc3M9InRhYi1wYW5lIiBcbiAgICAgICAgIG5nLXJlcGVhdD0idGFiIGluIHRhYnMiIFxuICAgICAgICAgbmctY2xhc3M9InthY3RpdmU6IHRhYi5hY3RpdmV9IlxuICAgICAgICAgdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT0idGFiIj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsJzx0YWJsZT5cbgk8dGJvZHk+XG4JCTx0ciBjbGFzcz0idGV4dC1jZW50ZXIiPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJpbmNyZW1lbnRIb3VycygpIiBjbGFzcz0iYnRuIGJ0bi1saW5rIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwIj48L3NwYW4+PC9hPjwvdGQ+XG4JCQk8dGQ+Jm5ic3A7PC90ZD5cbgkJCTx0ZD48YSBuZy1jbGljaz0iaW5jcmVtZW50TWludXRlcygpIiBjbGFzcz0iYnRuIGJ0bi1saW5rIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwIj48L3NwYW4+PC9hPjwvdGQ+XG4JCQk8dGQgbmctc2hvdz0ic2hvd01lcmlkaWFuIj48L3RkPlxuCQk8L3RyPlxuCQk8dHI+XG4JCQk8dGQgc3R5bGU9IndpZHRoOjUwcHg7IiBjbGFzcz0iZm9ybS1ncm91cCIgbmctY2xhc3M9IntcJ2hhcy1lcnJvclwnOiBpbnZhbGlkSG91cnN9Ij5cbgkJCQk8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9ImhvdXJzIiBuZy1jaGFuZ2U9InVwZGF0ZUhvdXJzKCkiIGNsYXNzPSJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXIiIG5nLW1vdXNld2hlZWw9ImluY3JlbWVudEhvdXJzKCkiIG5nLXJlYWRvbmx5PSJyZWFkb25seUlucHV0IiBtYXhsZW5ndGg9IjIiPlxuCQkJPC90ZD5cbgkJCTx0ZD46PC90ZD5cbgkJCTx0ZCBzdHlsZT0id2lkdGg6NTBweDsiIGNsYXNzPSJmb3JtLWdyb3VwIiBuZy1jbGFzcz0ie1wnaGFzLWVycm9yXCc6IGludmFsaWRNaW51dGVzfSI+XG4JCQkJPGlucHV0IHR5cGU9InRleHQiIG5nLW1vZGVsPSJtaW51dGVzIiBuZy1jaGFuZ2U9InVwZGF0ZU1pbnV0ZXMoKSIgY2xhc3M9ImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlciIgbmctcmVhZG9ubHk9InJlYWRvbmx5SW5wdXQiIG1heGxlbmd0aD0iMiI+XG4JCQk8L3RkPlxuCQkJPHRkIG5nLXNob3c9InNob3dNZXJpZGlhbiI+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgdGV4dC1jZW50ZXIiIG5nLWNsaWNrPSJ0b2dnbGVNZXJpZGlhbigpIj57e21lcmlkaWFufX08L2J1dHRvbj48L3RkPlxuCQk8L3RyPlxuCQk8dHIgY2xhc3M9InRleHQtY2VudGVyIj5cbgkJCTx0ZD48YSBuZy1jbGljaz0iZGVjcmVtZW50SG91cnMoKSIgY2xhc3M9ImJ0biBidG4tbGluayI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duIj48L3NwYW4+PC9hPjwvdGQ+XG4JCQk8dGQ+Jm5ic3A7PC90ZD5cbgkJCTx0ZD48YSBuZy1jbGljaz0iZGVjcmVtZW50TWludXRlcygpIiBjbGFzcz0iYnRuIGJ0bi1saW5rIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24iPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZCBuZy1zaG93PSJzaG93TWVyaWRpYW4iPjwvdGQ+XG4JCTwvdHI+XG4JPC90Ym9keT5cbjwvdGFibGU+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCIsJzxhIHRhYmluZGV4PSItMSIgYmluZC1odG1sLXVuc2FmZT0ibWF0Y2gubGFiZWwgfCB0eXBlYWhlYWRIaWdobGlnaHQ6cXVlcnkiPjwvYT4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCIsJzx1bCBjbGFzcz0iZHJvcGRvd24tbWVudSIgbmctc2hvdz0iaXNPcGVuKCkiIG5nLXN0eWxlPSJ7dG9wOiBwb3NpdGlvbi50b3ArXCdweFwnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0K1wncHhcJ30iIHN0eWxlPSJkaXNwbGF5OiBibG9jazsiIHJvbGU9Imxpc3Rib3giIGFyaWEtaGlkZGVuPSJ7eyFpc09wZW4oKX19Ij5cbiAgICA8bGkgbmctcmVwZWF0PSJtYXRjaCBpbiBtYXRjaGVzIHRyYWNrIGJ5ICRpbmRleCIgbmctY2xhc3M9InthY3RpdmU6IGlzQWN0aXZlKCRpbmRleCkgfSIgbmctbW91c2VlbnRlcj0ic2VsZWN0QWN0aXZlKCRpbmRleCkiIG5nLWNsaWNrPSJzZWxlY3RNYXRjaCgkaW5kZXgpIiByb2xlPSJvcHRpb24iIGlkPSJ7e21hdGNoLmlkfX0iPlxuICAgICAgICA8ZGl2IHR5cGVhaGVhZC1tYXRjaCBpbmRleD0iJGluZGV4IiBtYXRjaD0ibWF0Y2giIHF1ZXJ5PSJxdWVyeSIgdGVtcGxhdGUtdXJsPSJ0ZW1wbGF0ZVVybCI+PC9kaXY+XG4gICAgPC9saT5cbjwvdWw+XG4nKX1dKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LHZhbHVlLGZyb21JbmRleCl7Zm9yKHZhciBpbmRleD0oZnJvbUluZGV4fHwwKS0xLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDsrK2luZGV4PGxlbmd0aDspaWYoYXJyYXlbaW5kZXhdPT09dmFsdWUpcmV0dXJuIGluZGV4O3JldHVybi0xfWZ1bmN0aW9uIGNhY2hlSW5kZXhPZihjYWNoZSx2YWx1ZSl7dmFyIHR5cGU9dHlwZW9mIHZhbHVlO2lmKGNhY2hlPWNhY2hlLmNhY2hlLCJib29sZWFuIj09dHlwZXx8bnVsbD09dmFsdWUpcmV0dXJuIGNhY2hlW3ZhbHVlXT8wOi0xOyJudW1iZXIiIT10eXBlJiYic3RyaW5nIiE9dHlwZSYmKHR5cGU9Im9iamVjdCIpO3ZhciBrZXk9Im51bWJlciI9PXR5cGU/dmFsdWU6a2V5UHJlZml4K3ZhbHVlO3JldHVybiBjYWNoZT0oY2FjaGU9Y2FjaGVbdHlwZV0pJiZjYWNoZVtrZXldLCJvYmplY3QiPT10eXBlP2NhY2hlJiZiYXNlSW5kZXhPZihjYWNoZSx2YWx1ZSk+LTE/MDotMTpjYWNoZT8wOi0xfWZ1bmN0aW9uIGNhY2hlUHVzaCh2YWx1ZSl7dmFyIGNhY2hlPXRoaXMuY2FjaGUsdHlwZT10eXBlb2YgdmFsdWU7aWYoImJvb2xlYW4iPT10eXBlfHxudWxsPT12YWx1ZSljYWNoZVt2YWx1ZV09ITA7ZWxzZXsibnVtYmVyIiE9dHlwZSYmInN0cmluZyIhPXR5cGUmJih0eXBlPSJvYmplY3QiKTt2YXIga2V5PSJudW1iZXIiPT10eXBlP3ZhbHVlOmtleVByZWZpeCt2YWx1ZSx0eXBlQ2FjaGU9Y2FjaGVbdHlwZV18fChjYWNoZVt0eXBlXT17fSk7Im9iamVjdCI9PXR5cGU/KHR5cGVDYWNoZVtrZXldfHwodHlwZUNhY2hlW2tleV09W10pKS5wdXNoKHZhbHVlKTp0eXBlQ2FjaGVba2V5XT0hMH19ZnVuY3Rpb24gY2hhckF0Q2FsbGJhY2sodmFsdWUpe3JldHVybiB2YWx1ZS5jaGFyQ29kZUF0KDApfWZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcoYSxiKXtmb3IodmFyIGFjPWEuY3JpdGVyaWEsYmM9Yi5jcml0ZXJpYSxpbmRleD0tMSxsZW5ndGg9YWMubGVuZ3RoOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWFjW2luZGV4XSxvdGhlcj1iY1tpbmRleF07aWYodmFsdWUhPT1vdGhlcil7aWYodmFsdWU+b3RoZXJ8fCJ1bmRlZmluZWQiPT10eXBlb2YgdmFsdWUpcmV0dXJuIDE7aWYob3RoZXI+dmFsdWV8fCJ1bmRlZmluZWQiPT10eXBlb2Ygb3RoZXIpcmV0dXJuLTF9fXJldHVybiBhLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gY3JlYXRlQ2FjaGUoYXJyYXkpe3ZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXkubGVuZ3RoLGZpcnN0PWFycmF5WzBdLG1pZD1hcnJheVtsZW5ndGgvMnwwXSxsYXN0PWFycmF5W2xlbmd0aC0xXTtpZihmaXJzdCYmIm9iamVjdCI9PXR5cGVvZiBmaXJzdCYmbWlkJiYib2JqZWN0Ij09dHlwZW9mIG1pZCYmbGFzdCYmIm9iamVjdCI9PXR5cGVvZiBsYXN0KXJldHVybiExO3ZhciBjYWNoZT1nZXRPYmplY3QoKTtjYWNoZVsiZmFsc2UiXT1jYWNoZVsibnVsbCJdPWNhY2hlWyJ0cnVlIl09Y2FjaGUudW5kZWZpbmVkPSExO3ZhciByZXN1bHQ9Z2V0T2JqZWN0KCk7Zm9yKHJlc3VsdC5hcnJheT1hcnJheSxyZXN1bHQuY2FjaGU9Y2FjaGUscmVzdWx0LnB1c2g9Y2FjaGVQdXNoOysraW5kZXg8bGVuZ3RoOylyZXN1bHQucHVzaChhcnJheVtpbmRleF0pO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihtYXRjaCl7cmV0dXJuIlxcIitzdHJpbmdFc2NhcGVzW21hdGNoXX1mdW5jdGlvbiBnZXRBcnJheSgpe3JldHVybiBhcnJheVBvb2wucG9wKCl8fFtdfWZ1bmN0aW9uIGdldE9iamVjdCgpe3JldHVybiBvYmplY3RQb29sLnBvcCgpfHx7YXJyYXk6bnVsbCxjYWNoZTpudWxsLGNyaXRlcmlhOm51bGwsImZhbHNlIjohMSxpbmRleDowLCJudWxsIjohMSxudW1iZXI6bnVsbCxvYmplY3Q6bnVsbCxwdXNoOm51bGwsc3RyaW5nOm51bGwsInRydWUiOiExLHVuZGVmaW5lZDohMSx2YWx1ZTpudWxsfX1mdW5jdGlvbiBpc05vZGUodmFsdWUpe3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiB2YWx1ZS50b1N0cmluZyYmInN0cmluZyI9PXR5cGVvZih2YWx1ZSsiIil9ZnVuY3Rpb24gcmVsZWFzZUFycmF5KGFycmF5KXthcnJheS5sZW5ndGg9MCxhcnJheVBvb2wubGVuZ3RoPG1heFBvb2xTaXplJiZhcnJheVBvb2wucHVzaChhcnJheSl9ZnVuY3Rpb24gcmVsZWFzZU9iamVjdChvYmplY3Qpe3ZhciBjYWNoZT1vYmplY3QuY2FjaGU7Y2FjaGUmJnJlbGVhc2VPYmplY3QoY2FjaGUpLG9iamVjdC5hcnJheT1vYmplY3QuY2FjaGU9b2JqZWN0LmNyaXRlcmlhPW9iamVjdC5vYmplY3Q9b2JqZWN0Lm51bWJlcj1vYmplY3Quc3RyaW5nPW9iamVjdC52YWx1ZT1udWxsLG9iamVjdFBvb2wubGVuZ3RoPG1heFBvb2xTaXplJiZvYmplY3RQb29sLnB1c2gob2JqZWN0KX1mdW5jdGlvbiBzbGljZShhcnJheSxzdGFydCxlbmQpe3N0YXJ0fHwoc3RhcnQ9MCksInVuZGVmaW5lZCI9PXR5cGVvZiBlbmQmJihlbmQ9YXJyYXk/YXJyYXkubGVuZ3RoOjApO2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWVuZC1zdGFydHx8MCxyZXN1bHQ9QXJyYXkoMD5sZW5ndGg/MDpsZW5ndGgpOysraW5kZXg8bGVuZ3RoOylyZXN1bHRbaW5kZXhdPWFycmF5W3N0YXJ0K2luZGV4XTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KXtmdW5jdGlvbiBsb2Rhc2godmFsdWUpe3JldHVybiB2YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZSYmIWlzQXJyYXkodmFsdWUpJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCJfX3dyYXBwZWRfXyIpP3ZhbHVlOm5ldyBsb2Rhc2hXcmFwcGVyKHZhbHVlKX1mdW5jdGlvbiBsb2Rhc2hXcmFwcGVyKHZhbHVlLGNoYWluQWxsKXt0aGlzLl9fY2hhaW5fXz0hIWNoYWluQWxsLHRoaXMuX193cmFwcGVkX189dmFsdWV9ZnVuY3Rpb24gYmFzZUJpbmQoYmluZERhdGEpe2Z1bmN0aW9uIGJvdW5kKCl7aWYocGFydGlhbEFyZ3Mpe3ZhciBhcmdzPXNsaWNlKHBhcnRpYWxBcmdzKTtwdXNoLmFwcGx5KGFyZ3MsYXJndW1lbnRzKX1pZih0aGlzIGluc3RhbmNlb2YgYm91bmQpe3ZhciB0aGlzQmluZGluZz1iYXNlQ3JlYXRlKGZ1bmMucHJvdG90eXBlKSxyZXN1bHQ9ZnVuYy5hcHBseSh0aGlzQmluZGluZyxhcmdzfHxhcmd1bWVudHMpO3JldHVybiBpc09iamVjdChyZXN1bHQpP3Jlc3VsdDp0aGlzQmluZGluZ31yZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLGFyZ3N8fGFyZ3VtZW50cyl9dmFyIGZ1bmM9YmluZERhdGFbMF0scGFydGlhbEFyZ3M9YmluZERhdGFbMl0sdGhpc0FyZz1iaW5kRGF0YVs0XTtyZXR1cm4gc2V0QmluZERhdGEoYm91bmQsYmluZERhdGEpLGJvdW5kfWZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSxpc0RlZXAsY2FsbGJhY2ssc3RhY2tBLHN0YWNrQil7aWYoY2FsbGJhY2spe3ZhciByZXN1bHQ9Y2FsbGJhY2sodmFsdWUpO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgcmVzdWx0KXJldHVybiByZXN1bHR9dmFyIGlzT2JqPWlzT2JqZWN0KHZhbHVlKTtpZighaXNPYmopcmV0dXJuIHZhbHVlO3ZhciBjbGFzc05hbWU9dG9TdHJpbmcuY2FsbCh2YWx1ZSk7aWYoIWNsb25lYWJsZUNsYXNzZXNbY2xhc3NOYW1lXXx8IXN1cHBvcnQubm9kZUNsYXNzJiZpc05vZGUodmFsdWUpKXJldHVybiB2YWx1ZTt2YXIgY3Rvcj1jdG9yQnlDbGFzc1tjbGFzc05hbWVdO3N3aXRjaChjbGFzc05hbWUpe2Nhc2UgYm9vbENsYXNzOmNhc2UgZGF0ZUNsYXNzOnJldHVybiBuZXcgY3RvcigrdmFsdWUpO2Nhc2UgbnVtYmVyQ2xhc3M6Y2FzZSBzdHJpbmdDbGFzczpyZXR1cm4gbmV3IGN0b3IodmFsdWUpO2Nhc2UgcmVnZXhwQ2xhc3M6cmV0dXJuIHJlc3VsdD1jdG9yKHZhbHVlLnNvdXJjZSxyZUZsYWdzLmV4ZWModmFsdWUpKSxyZXN1bHQubGFzdEluZGV4PXZhbHVlLmxhc3RJbmRleCxyZXN1bHR9dmFyIGlzQXJyPWlzQXJyYXkodmFsdWUpO2lmKGlzRGVlcCl7dmFyIGluaXRlZFN0YWNrPSFzdGFja0E7c3RhY2tBfHwoc3RhY2tBPWdldEFycmF5KCkpLHN0YWNrQnx8KHN0YWNrQj1nZXRBcnJheSgpKTtmb3IodmFyIGxlbmd0aD1zdGFja0EubGVuZ3RoO2xlbmd0aC0tOylpZihzdGFja0FbbGVuZ3RoXT09dmFsdWUpcmV0dXJuIHN0YWNrQltsZW5ndGhdO3Jlc3VsdD1pc0Fycj9jdG9yKHZhbHVlLmxlbmd0aCk6e319ZWxzZSByZXN1bHQ9aXNBcnI/c2xpY2UodmFsdWUpOmFzc2lnbih7fSx2YWx1ZSk7cmV0dXJuIGlzQXJyJiYoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwiaW5kZXgiKSYmKHJlc3VsdC5pbmRleD12YWx1ZS5pbmRleCksaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwiaW5wdXQiKSYmKHJlc3VsdC5pbnB1dD12YWx1ZS5pbnB1dCkpLGlzRGVlcD8oc3RhY2tBLnB1c2godmFsdWUpLHN0YWNrQi5wdXNoKHJlc3VsdCksKGlzQXJyP2Jhc2VFYWNoOmZvck93bikodmFsdWUsZnVuY3Rpb24ob2JqVmFsdWUsa2V5KXtyZXN1bHRba2V5XT1iYXNlQ2xvbmUob2JqVmFsdWUsaXNEZWVwLGNhbGxiYWNrLHN0YWNrQSxzdGFja0IpfSksaW5pdGVkU3RhY2smJihyZWxlYXNlQXJyYXkoc3RhY2tBKSxyZWxlYXNlQXJyYXkoc3RhY2tCKSkscmVzdWx0KTpyZXN1bHR9ZnVuY3Rpb24gYmFzZUNyZWF0ZShwcm90b3R5cGUpe3JldHVybiBpc09iamVjdChwcm90b3R5cGUpP25hdGl2ZUNyZWF0ZShwcm90b3R5cGUpOnt9fWZ1bmN0aW9uIGJhc2VDcmVhdGVDYWxsYmFjayhmdW5jLHRoaXNBcmcsYXJnQ291bnQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBmdW5jKXJldHVybiBpZGVudGl0eTtpZigidW5kZWZpbmVkIj09dHlwZW9mIHRoaXNBcmd8fCEoInByb3RvdHlwZSJpbiBmdW5jKSlyZXR1cm4gZnVuYzt2YXIgYmluZERhdGE9ZnVuYy5fX2JpbmREYXRhX187aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBiaW5kRGF0YSYmKHN1cHBvcnQuZnVuY05hbWVzJiYoYmluZERhdGE9IWZ1bmMubmFtZSksYmluZERhdGE9YmluZERhdGF8fCFzdXBwb3J0LmZ1bmNEZWNvbXAsIWJpbmREYXRhKSl7dmFyIHNvdXJjZT1mblRvU3RyaW5nLmNhbGwoZnVuYyk7c3VwcG9ydC5mdW5jTmFtZXN8fChiaW5kRGF0YT0hcmVGdW5jTmFtZS50ZXN0KHNvdXJjZSkpLGJpbmREYXRhfHwoYmluZERhdGE9cmVUaGlzLnRlc3Qoc291cmNlKSxzZXRCaW5kRGF0YShmdW5jLGJpbmREYXRhKSl9aWYoYmluZERhdGE9PT0hMXx8YmluZERhdGEhPT0hMCYmMSZiaW5kRGF0YVsxXSlyZXR1cm4gZnVuYztzd2l0Y2goYXJnQ291bnQpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24odmFsdWUpe3JldHVybiBmdW5jLmNhbGwodGhpc0FyZyx2YWx1ZSl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsYSxiKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil9O2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLGFjY3VtdWxhdG9yLHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pfX1yZXR1cm4gYmluZChmdW5jLHRoaXNBcmcpfWZ1bmN0aW9uIGJhc2VDcmVhdGVXcmFwcGVyKGJpbmREYXRhKXtmdW5jdGlvbiBib3VuZCgpe3ZhciB0aGlzQmluZGluZz1pc0JpbmQ/dGhpc0FyZzp0aGlzO2lmKHBhcnRpYWxBcmdzKXt2YXIgYXJncz1zbGljZShwYXJ0aWFsQXJncyk7cHVzaC5hcHBseShhcmdzLGFyZ3VtZW50cyl9aWYoKHBhcnRpYWxSaWdodEFyZ3N8fGlzQ3VycnkpJiYoYXJnc3x8KGFyZ3M9c2xpY2UoYXJndW1lbnRzKSkscGFydGlhbFJpZ2h0QXJncyYmcHVzaC5hcHBseShhcmdzLHBhcnRpYWxSaWdodEFyZ3MpLGlzQ3VycnkmJmFyZ3MubGVuZ3RoPGFyaXR5KSlyZXR1cm4gYml0bWFza3w9MTYsYmFzZUNyZWF0ZVdyYXBwZXIoW2Z1bmMsaXNDdXJyeUJvdW5kP2JpdG1hc2s6LTQmYml0bWFzayxhcmdzLG51bGwsdGhpc0FyZyxhcml0eV0pO2lmKGFyZ3N8fChhcmdzPWFyZ3VtZW50cyksaXNCaW5kS2V5JiYoZnVuYz10aGlzQmluZGluZ1trZXldKSx0aGlzIGluc3RhbmNlb2YgYm91bmQpe3RoaXNCaW5kaW5nPWJhc2VDcmVhdGUoZnVuYy5wcm90b3R5cGUpO3ZhciByZXN1bHQ9ZnVuYy5hcHBseSh0aGlzQmluZGluZyxhcmdzKTtyZXR1cm4gaXNPYmplY3QocmVzdWx0KT9yZXN1bHQ6dGhpc0JpbmRpbmd9cmV0dXJuIGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsYXJncyl9dmFyIGZ1bmM9YmluZERhdGFbMF0sYml0bWFzaz1iaW5kRGF0YVsxXSxwYXJ0aWFsQXJncz1iaW5kRGF0YVsyXSxwYXJ0aWFsUmlnaHRBcmdzPWJpbmREYXRhWzNdLHRoaXNBcmc9YmluZERhdGFbNF0sYXJpdHk9YmluZERhdGFbNV0saXNCaW5kPTEmYml0bWFzayxpc0JpbmRLZXk9MiZiaXRtYXNrLGlzQ3Vycnk9NCZiaXRtYXNrLGlzQ3VycnlCb3VuZD04JmJpdG1hc2ssa2V5PWZ1bmM7cmV0dXJuIHNldEJpbmREYXRhKGJvdW5kLGJpbmREYXRhKSxib3VuZH1mdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSx2YWx1ZXMpe3ZhciBpbmRleD0tMSxpbmRleE9mPWdldEluZGV4T2YoKSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjAsaXNMYXJnZT1sZW5ndGg+PWxhcmdlQXJyYXlTaXplJiZpbmRleE9mPT09YmFzZUluZGV4T2YscmVzdWx0PVtdO2lmKGlzTGFyZ2Upe3ZhciBjYWNoZT1jcmVhdGVDYWNoZSh2YWx1ZXMpO2NhY2hlPyhpbmRleE9mPWNhY2hlSW5kZXhPZix2YWx1ZXM9Y2FjaGUpOmlzTGFyZ2U9ITF9Zm9yKDsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1hcnJheVtpbmRleF07aW5kZXhPZih2YWx1ZXMsdmFsdWUpPDAmJnJlc3VsdC5wdXNoKHZhbHVlKX1yZXR1cm4gaXNMYXJnZSYmcmVsZWFzZU9iamVjdCh2YWx1ZXMpLHJlc3VsdH1mdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSxpc1NoYWxsb3csaXNTdHJpY3QsZnJvbUluZGV4KXtmb3IodmFyIGluZGV4PShmcm9tSW5kZXh8fDApLTEsbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowLHJlc3VsdD1bXTsrK2luZGV4PGxlbmd0aDspe3ZhciB2YWx1ZT1hcnJheVtpbmRleF07aWYodmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWUmJiJudW1iZXIiPT10eXBlb2YgdmFsdWUubGVuZ3RoJiYoaXNBcnJheSh2YWx1ZSl8fGlzQXJndW1lbnRzKHZhbHVlKSkpe2lzU2hhbGxvd3x8KHZhbHVlPWJhc2VGbGF0dGVuKHZhbHVlLGlzU2hhbGxvdyxpc1N0cmljdCkpO3ZhciB2YWxJbmRleD0tMSx2YWxMZW5ndGg9dmFsdWUubGVuZ3RoLHJlc0luZGV4PXJlc3VsdC5sZW5ndGg7Zm9yKHJlc3VsdC5sZW5ndGgrPXZhbExlbmd0aDsrK3ZhbEluZGV4PHZhbExlbmd0aDspcmVzdWx0W3Jlc0luZGV4KytdPXZhbHVlW3ZhbEluZGV4XX1lbHNlIGlzU3RyaWN0fHxyZXN1bHQucHVzaCh2YWx1ZSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBiYXNlSXNFcXVhbChhLGIsY2FsbGJhY2ssaXNXaGVyZSxzdGFja0Esc3RhY2tCKXtpZihjYWxsYmFjayl7dmFyIHJlc3VsdD1jYWxsYmFjayhhLGIpO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgcmVzdWx0KXJldHVybiEhcmVzdWx0fWlmKGE9PT1iKXJldHVybiAwIT09YXx8MS9hPT0xL2I7dmFyIHR5cGU9dHlwZW9mIGEsb3RoZXJUeXBlPXR5cGVvZiBiO2lmKCEoYSE9PWF8fGEmJm9iamVjdFR5cGVzW3R5cGVdfHxiJiZvYmplY3RUeXBlc1tvdGhlclR5cGVdKSlyZXR1cm4hMTtpZihudWxsPT1hfHxudWxsPT1iKXJldHVybiBhPT09Yjt2YXIgY2xhc3NOYW1lPXRvU3RyaW5nLmNhbGwoYSksb3RoZXJDbGFzcz10b1N0cmluZy5jYWxsKGIpO2lmKGNsYXNzTmFtZT09YXJnc0NsYXNzJiYoY2xhc3NOYW1lPW9iamVjdENsYXNzKSxvdGhlckNsYXNzPT1hcmdzQ2xhc3MmJihvdGhlckNsYXNzPW9iamVjdENsYXNzKSxjbGFzc05hbWUhPW90aGVyQ2xhc3MpcmV0dXJuITE7c3dpdGNoKGNsYXNzTmFtZSl7Y2FzZSBib29sQ2xhc3M6Y2FzZSBkYXRlQ2xhc3M6cmV0dXJuK2E9PStiO2Nhc2UgbnVtYmVyQ2xhc3M6cmV0dXJuIGEhPSthP2IhPStiOjA9PWE/MS9hPT0xL2I6YT09K2I7Y2FzZSByZWdleHBDbGFzczpjYXNlIHN0cmluZ0NsYXNzOnJldHVybiBhPT1TdHJpbmcoYil9dmFyIGlzQXJyPWNsYXNzTmFtZT09YXJyYXlDbGFzcztpZighaXNBcnIpe3ZhciBhV3JhcHBlZD1oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIl9fd3JhcHBlZF9fIiksYldyYXBwZWQ9aGFzT3duUHJvcGVydHkuY2FsbChiLCJfX3dyYXBwZWRfXyIpO2lmKGFXcmFwcGVkfHxiV3JhcHBlZClyZXR1cm4gYmFzZUlzRXF1YWwoYVdyYXBwZWQ/YS5fX3dyYXBwZWRfXzphLGJXcmFwcGVkP2IuX193cmFwcGVkX186YixjYWxsYmFjayxpc1doZXJlLHN0YWNrQSxzdGFja0IpO2lmKGNsYXNzTmFtZSE9b2JqZWN0Q2xhc3N8fCFzdXBwb3J0Lm5vZGVDbGFzcyYmKGlzTm9kZShhKXx8aXNOb2RlKGIpKSlyZXR1cm4hMTt2YXIgY3RvckE9IXN1cHBvcnQuYXJnc09iamVjdCYmaXNBcmd1bWVudHMoYSk/T2JqZWN0OmEuY29uc3RydWN0b3IsY3RvckI9IXN1cHBvcnQuYXJnc09iamVjdCYmaXNBcmd1bWVudHMoYik/T2JqZWN0OmIuY29uc3RydWN0b3I7aWYoY3RvckEhPWN0b3JCJiYhKGlzRnVuY3Rpb24oY3RvckEpJiZjdG9yQSBpbnN0YW5jZW9mIGN0b3JBJiZpc0Z1bmN0aW9uKGN0b3JCKSYmY3RvckIgaW5zdGFuY2VvZiBjdG9yQikmJiJjb25zdHJ1Y3RvciJpbiBhJiYiY29uc3RydWN0b3IiaW4gYilyZXR1cm4hMX12YXIgaW5pdGVkU3RhY2s9IXN0YWNrQTtzdGFja0F8fChzdGFja0E9Z2V0QXJyYXkoKSksc3RhY2tCfHwoc3RhY2tCPWdldEFycmF5KCkpO2Zvcih2YXIgbGVuZ3RoPXN0YWNrQS5sZW5ndGg7bGVuZ3RoLS07KWlmKHN0YWNrQVtsZW5ndGhdPT1hKXJldHVybiBzdGFja0JbbGVuZ3RoXT09Yjt2YXIgc2l6ZT0wO2lmKHJlc3VsdD0hMCxzdGFja0EucHVzaChhKSxzdGFja0IucHVzaChiKSxpc0Fycil7aWYobGVuZ3RoPWEubGVuZ3RoLHNpemU9Yi5sZW5ndGgscmVzdWx0PXNpemU9PWxlbmd0aCxyZXN1bHR8fGlzV2hlcmUpZm9yKDtzaXplLS07KXt2YXIgaW5kZXg9bGVuZ3RoLHZhbHVlPWJbc2l6ZV07aWYoaXNXaGVyZSlmb3IoO2luZGV4LS0mJiEocmVzdWx0PWJhc2VJc0VxdWFsKGFbaW5kZXhdLHZhbHVlLGNhbGxiYWNrLGlzV2hlcmUsc3RhY2tBLHN0YWNrQikpOyk7ZWxzZSBpZighKHJlc3VsdD1iYXNlSXNFcXVhbChhW3NpemVdLHZhbHVlLGNhbGxiYWNrLGlzV2hlcmUsc3RhY2tBLHN0YWNrQikpKWJyZWFrfX1lbHNlIGZvckluKGIsZnVuY3Rpb24odmFsdWUsa2V5LGIpe3JldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGIsa2V5KT8oc2l6ZSsrLHJlc3VsdD1oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsa2V5KSYmYmFzZUlzRXF1YWwoYVtrZXldLHZhbHVlLGNhbGxiYWNrLGlzV2hlcmUsc3RhY2tBLHN0YWNrQikpOnZvaWQgMH0pLHJlc3VsdCYmIWlzV2hlcmUmJmZvckluKGEsZnVuY3Rpb24odmFsdWUsa2V5LGEpe3JldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGEsa2V5KT9yZXN1bHQ9LS1zaXplPi0xOnZvaWQgMH0pO3JldHVybiBzdGFja0EucG9wKCksc3RhY2tCLnBvcCgpLGluaXRlZFN0YWNrJiYocmVsZWFzZUFycmF5KHN0YWNrQSkscmVsZWFzZUFycmF5KHN0YWNrQikpLHJlc3VsdH1mdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LHNvdXJjZSxjYWxsYmFjayxzdGFja0Esc3RhY2tCKXsoaXNBcnJheShzb3VyY2UpP2ZvckVhY2g6Zm9yT3duKShzb3VyY2UsZnVuY3Rpb24oc291cmNlLGtleSl7dmFyIGZvdW5kLGlzQXJyLHJlc3VsdD1zb3VyY2UsdmFsdWU9b2JqZWN0W2tleV07aWYoc291cmNlJiYoKGlzQXJyPWlzQXJyYXkoc291cmNlKSl8fGlzUGxhaW5PYmplY3Qoc291cmNlKSkpe2Zvcih2YXIgc3RhY2tMZW5ndGg9c3RhY2tBLmxlbmd0aDtzdGFja0xlbmd0aC0tOylpZihmb3VuZD1zdGFja0Fbc3RhY2tMZW5ndGhdPT1zb3VyY2Upe3ZhbHVlPXN0YWNrQltzdGFja0xlbmd0aF07YnJlYWt9aWYoIWZvdW5kKXt2YXIgaXNTaGFsbG93O2NhbGxiYWNrJiYocmVzdWx0PWNhbGxiYWNrKHZhbHVlLHNvdXJjZSksKGlzU2hhbGxvdz0idW5kZWZpbmVkIiE9dHlwZW9mIHJlc3VsdCkmJih2YWx1ZT1yZXN1bHQpKSxpc1NoYWxsb3d8fCh2YWx1ZT1pc0Fycj9pc0FycmF5KHZhbHVlKT92YWx1ZTpbXTppc1BsYWluT2JqZWN0KHZhbHVlKT92YWx1ZTp7fSksc3RhY2tBLnB1c2goc291cmNlKSxzdGFja0IucHVzaCh2YWx1ZSksaXNTaGFsbG93fHxiYXNlTWVyZ2UodmFsdWUsc291cmNlLGNhbGxiYWNrLHN0YWNrQSxzdGFja0IpfX1lbHNlIGNhbGxiYWNrJiYocmVzdWx0PWNhbGxiYWNrKHZhbHVlLHNvdXJjZSksInVuZGVmaW5lZCI9PXR5cGVvZiByZXN1bHQmJihyZXN1bHQ9c291cmNlKSksInVuZGVmaW5lZCIhPXR5cGVvZiByZXN1bHQmJih2YWx1ZT1yZXN1bHQpO29iamVjdFtrZXldPXZhbHVlfSl9ZnVuY3Rpb24gYmFzZVJhbmRvbShtaW4sbWF4KXtyZXR1cm4gbWluK2Zsb29yKG5hdGl2ZVJhbmRvbSgpKihtYXgtbWluKzEpKX1mdW5jdGlvbiBiYXNlVW5pcShhcnJheSxpc1NvcnRlZCxjYWxsYmFjayl7dmFyIGluZGV4PS0xLGluZGV4T2Y9Z2V0SW5kZXhPZigpLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MCxyZXN1bHQ9W10saXNMYXJnZT0haXNTb3J0ZWQmJmxlbmd0aD49bGFyZ2VBcnJheVNpemUmJmluZGV4T2Y9PT1iYXNlSW5kZXhPZixzZWVuPWNhbGxiYWNrfHxpc0xhcmdlP2dldEFycmF5KCk6cmVzdWx0O2lmKGlzTGFyZ2Upe3ZhciBjYWNoZT1jcmVhdGVDYWNoZShzZWVuKTtpbmRleE9mPWNhY2hlSW5kZXhPZixzZWVuPWNhY2hlfWZvcig7KytpbmRleDxsZW5ndGg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdLGNvbXB1dGVkPWNhbGxiYWNrP2NhbGxiYWNrKHZhbHVlLGluZGV4LGFycmF5KTp2YWx1ZTsoaXNTb3J0ZWQ/IWluZGV4fHxzZWVuW3NlZW4ubGVuZ3RoLTFdIT09Y29tcHV0ZWQ6aW5kZXhPZihzZWVuLGNvbXB1dGVkKTwwKSYmKChjYWxsYmFja3x8aXNMYXJnZSkmJnNlZW4ucHVzaChjb21wdXRlZCkscmVzdWx0LnB1c2godmFsdWUpKX1yZXR1cm4gaXNMYXJnZT8ocmVsZWFzZUFycmF5KHNlZW4uYXJyYXkpLHJlbGVhc2VPYmplY3Qoc2VlbikpOmNhbGxiYWNrJiZyZWxlYXNlQXJyYXkoc2VlbikscmVzdWx0fWZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyKXtyZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgcmVzdWx0PXt9O2lmKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGlzQXJyYXkoY29sbGVjdGlvbikpZm9yKHZhciBpbmRleD0tMSxsZW5ndGg9Y29sbGVjdGlvbi5sZW5ndGg7KytpbmRleDxsZW5ndGg7KXt2YXIgdmFsdWU9Y29sbGVjdGlvbltpbmRleF07c2V0dGVyKHJlc3VsdCx2YWx1ZSxjYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSxjb2xsZWN0aW9uKX1lbHNlIGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsa2V5LGNvbGxlY3Rpb24pe3NldHRlcihyZXN1bHQsdmFsdWUsY2FsbGJhY2sodmFsdWUsa2V5LGNvbGxlY3Rpb24pLGNvbGxlY3Rpb24pfSk7cmV0dXJuIHJlc3VsdH19ZnVuY3Rpb24gY3JlYXRlV3JhcHBlcihmdW5jLGJpdG1hc2sscGFydGlhbEFyZ3MscGFydGlhbFJpZ2h0QXJncyx0aGlzQXJnLGFyaXR5KXt2YXIgaXNCaW5kPTEmYml0bWFzayxpc0JpbmRLZXk9MiZiaXRtYXNrLGlzQ3Vycnk9NCZiaXRtYXNrLGlzUGFydGlhbD0xNiZiaXRtYXNrLGlzUGFydGlhbFJpZ2h0PTMyJmJpdG1hc2s7aWYoIWlzQmluZEtleSYmIWlzRnVuY3Rpb24oZnVuYykpdGhyb3cgbmV3IFR5cGVFcnJvcjtpc1BhcnRpYWwmJiFwYXJ0aWFsQXJncy5sZW5ndGgmJihiaXRtYXNrJj0tMTcsaXNQYXJ0aWFsPXBhcnRpYWxBcmdzPSExKSxpc1BhcnRpYWxSaWdodCYmIXBhcnRpYWxSaWdodEFyZ3MubGVuZ3RoJiYoYml0bWFzayY9LTMzLGlzUGFydGlhbFJpZ2h0PXBhcnRpYWxSaWdodEFyZ3M9ITEpO3ZhciBiaW5kRGF0YT1mdW5jJiZmdW5jLl9fYmluZERhdGFfXztpZihiaW5kRGF0YSYmYmluZERhdGEhPT0hMClyZXR1cm4gYmluZERhdGE9c2xpY2UoYmluZERhdGEpLGJpbmREYXRhWzJdJiYoYmluZERhdGFbMl09c2xpY2UoYmluZERhdGFbMl0pKSxiaW5kRGF0YVszXSYmKGJpbmREYXRhWzNdPXNsaWNlKGJpbmREYXRhWzNdKSksIWlzQmluZHx8MSZiaW5kRGF0YVsxXXx8KGJpbmREYXRhWzRdPXRoaXNBcmcpLCFpc0JpbmQmJjEmYmluZERhdGFbMV0mJihiaXRtYXNrfD04KSwhaXNDdXJyeXx8NCZiaW5kRGF0YVsxXXx8KGJpbmREYXRhWzVdPWFyaXR5KSxpc1BhcnRpYWwmJnB1c2guYXBwbHkoYmluZERhdGFbMl18fChiaW5kRGF0YVsyXT1bXSkscGFydGlhbEFyZ3MpLGlzUGFydGlhbFJpZ2h0JiZ1bnNoaWZ0LmFwcGx5KGJpbmREYXRhWzNdfHwoYmluZERhdGFbM109W10pLHBhcnRpYWxSaWdodEFyZ3MpLGJpbmREYXRhWzFdfD1iaXRtYXNrLGNyZWF0ZVdyYXBwZXIuYXBwbHkobnVsbCxiaW5kRGF0YSk7dmFyIGNyZWF0ZXI9MT09Yml0bWFza3x8MTc9PT1iaXRtYXNrP2Jhc2VCaW5kOmJhc2VDcmVhdGVXcmFwcGVyO3JldHVybiBjcmVhdGVyKFtmdW5jLGJpdG1hc2sscGFydGlhbEFyZ3MscGFydGlhbFJpZ2h0QXJncyx0aGlzQXJnLGFyaXR5XSl9ZnVuY3Rpb24gY3JlYXRlSXRlcmF0b3IoKXtpdGVyYXRvckRhdGEuc2hhZG93ZWRQcm9wcz1zaGFkb3dlZFByb3BzLGl0ZXJhdG9yRGF0YS5hcnJheT1pdGVyYXRvckRhdGEuYm90dG9tPWl0ZXJhdG9yRGF0YS5sb29wPWl0ZXJhdG9yRGF0YS50b3A9IiIsaXRlcmF0b3JEYXRhLmluaXQ9Iml0ZXJhYmxlIixpdGVyYXRvckRhdGEudXNlSGFzPSEwO2Zvcih2YXIgb2JqZWN0LGluZGV4PTA7b2JqZWN0PWFyZ3VtZW50c1tpbmRleF07aW5kZXgrKylmb3IodmFyIGtleSBpbiBvYmplY3QpaXRlcmF0b3JEYXRhW2tleV09b2JqZWN0W2tleV07dmFyIGFyZ3M9aXRlcmF0b3JEYXRhLmFyZ3M7aXRlcmF0b3JEYXRhLmZpcnN0QXJnPS9eW14sXSsvLmV4ZWMoYXJncylbMF07dmFyIGZhY3Rvcnk9RnVuY3Rpb24oImJhc2VDcmVhdGVDYWxsYmFjaywgZXJyb3JDbGFzcywgZXJyb3JQcm90bywgaGFzT3duUHJvcGVydHksIGluZGljYXRvck9iamVjdCwgaXNBcmd1bWVudHMsIGlzQXJyYXksIGlzU3RyaW5nLCBrZXlzLCBvYmplY3RQcm90bywgb2JqZWN0VHlwZXMsIG5vbkVudW1Qcm9wcywgc3RyaW5nQ2xhc3MsIHN0cmluZ1Byb3RvLCB0b1N0cmluZyIsInJldHVybiBmdW5jdGlvbigiK2FyZ3MrIikge1xuIitpdGVyYXRvclRlbXBsYXRlKGl0ZXJhdG9yRGF0YSkrIlxufSIpO3JldHVybiBmYWN0b3J5KGJhc2VDcmVhdGVDYWxsYmFjayxlcnJvckNsYXNzLGVycm9yUHJvdG8saGFzT3duUHJvcGVydHksaW5kaWNhdG9yT2JqZWN0LGlzQXJndW1lbnRzLGlzQXJyYXksaXNTdHJpbmcsaXRlcmF0b3JEYXRhLmtleXMsb2JqZWN0UHJvdG8sb2JqZWN0VHlwZXMsbm9uRW51bVByb3BzLHN0cmluZ0NsYXNzLHN0cmluZ1Byb3RvLHRvU3RyaW5nKX1mdW5jdGlvbiBlc2NhcGVIdG1sQ2hhcihtYXRjaCl7cmV0dXJuIGh0bWxFc2NhcGVzW21hdGNoXX1mdW5jdGlvbiBnZXRJbmRleE9mKCl7dmFyIHJlc3VsdD0ocmVzdWx0PWxvZGFzaC5pbmRleE9mKT09PWluZGV4T2Y/YmFzZUluZGV4T2Y6cmVzdWx0O3JldHVybiByZXN1bHR9ZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB2YWx1ZSYmcmVOYXRpdmUudGVzdCh2YWx1ZSl9ZnVuY3Rpb24gc2hpbUlzUGxhaW5PYmplY3QodmFsdWUpe3ZhciBjdG9yLHJlc3VsdDtyZXR1cm4hdmFsdWV8fHRvU3RyaW5nLmNhbGwodmFsdWUpIT1vYmplY3RDbGFzc3x8KGN0b3I9dmFsdWUuY29uc3RydWN0b3IsaXNGdW5jdGlvbihjdG9yKSYmIShjdG9yIGluc3RhbmNlb2YgY3RvcikpfHwhc3VwcG9ydC5hcmdzQ2xhc3MmJmlzQXJndW1lbnRzKHZhbHVlKXx8IXN1cHBvcnQubm9kZUNsYXNzJiZpc05vZGUodmFsdWUpPyExOnN1cHBvcnQub3duTGFzdD8oZm9ySW4odmFsdWUsZnVuY3Rpb24odmFsdWUsa2V5LG9iamVjdCl7cmV0dXJuIHJlc3VsdD1oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxrZXkpLCExfSkscmVzdWx0IT09ITEpOihmb3JJbih2YWx1ZSxmdW5jdGlvbih2YWx1ZSxrZXkpe3Jlc3VsdD1rZXl9KSwidW5kZWZpbmVkIj09dHlwZW9mIHJlc3VsdHx8aGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSxyZXN1bHQpKX1mdW5jdGlvbiB1bmVzY2FwZUh0bWxDaGFyKG1hdGNoKXtyZXR1cm4gaHRtbFVuZXNjYXBlc1ttYXRjaF19ZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpe3JldHVybiB2YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZSYmIm51bWJlciI9PXR5cGVvZiB2YWx1ZS5sZW5ndGgmJnRvU3RyaW5nLmNhbGwodmFsdWUpPT1hcmdzQ2xhc3N8fCExfWZ1bmN0aW9uIGNsb25lKHZhbHVlLGlzRGVlcCxjYWxsYmFjayx0aGlzQXJnKXtyZXR1cm4iYm9vbGVhbiIhPXR5cGVvZiBpc0RlZXAmJm51bGwhPWlzRGVlcCYmKHRoaXNBcmc9Y2FsbGJhY2ssY2FsbGJhY2s9aXNEZWVwLGlzRGVlcD0hMSksYmFzZUNsb25lKHZhbHVlLGlzRGVlcCwiZnVuY3Rpb24iPT10eXBlb2YgY2FsbGJhY2smJmJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDEpKX1mdW5jdGlvbiBjbG9uZURlZXAodmFsdWUsY2FsbGJhY2ssdGhpc0FyZyl7cmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwhMCwiZnVuY3Rpb24iPT10eXBlb2YgY2FsbGJhY2smJmJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDEpKX1mdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLHByb3BlcnRpZXMpe3ZhciByZXN1bHQ9YmFzZUNyZWF0ZShwcm90b3R5cGUpO3JldHVybiBwcm9wZXJ0aWVzP2Fzc2lnbihyZXN1bHQscHJvcGVydGllcyk6cmVzdWx0fWZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciByZXN1bHQ7cmV0dXJuIGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGZvck93bihvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5LG9iamVjdCl7cmV0dXJuIGNhbGxiYWNrKHZhbHVlLGtleSxvYmplY3QpPyhyZXN1bHQ9a2V5LCExKTp2b2lkIDB9KSxyZXN1bHR9ZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciByZXN1bHQ7cmV0dXJuIGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGZvck93blJpZ2h0KG9iamVjdCxmdW5jdGlvbih2YWx1ZSxrZXksb2JqZWN0KXtyZXR1cm4gY2FsbGJhY2sodmFsdWUsa2V5LG9iamVjdCk/KHJlc3VsdD1rZXksITEpOnZvaWQgMH0pLHJlc3VsdH1mdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCxjYWxsYmFjayx0aGlzQXJnKXt2YXIgcGFpcnM9W107Zm9ySW4ob2JqZWN0LGZ1bmN0aW9uKHZhbHVlLGtleSl7cGFpcnMucHVzaChrZXksdmFsdWUpfSk7dmFyIGxlbmd0aD1wYWlycy5sZW5ndGg7Zm9yKGNhbGxiYWNrPWJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpO2xlbmd0aC0tJiZjYWxsYmFjayhwYWlyc1tsZW5ndGgtLV0scGFpcnNbbGVuZ3RoXSxvYmplY3QpIT09ITE7KTtyZXR1cm4gb2JqZWN0fWZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCxjYWxsYmFjayx0aGlzQXJnKXt2YXIgcHJvcHM9a2V5cyhvYmplY3QpLGxlbmd0aD1wcm9wcy5sZW5ndGg7Zm9yKGNhbGxiYWNrPWJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpO2xlbmd0aC0tOyl7dmFyIGtleT1wcm9wc1tsZW5ndGhdO2lmKGNhbGxiYWNrKG9iamVjdFtrZXldLGtleSxvYmplY3QpPT09ITEpYnJlYWt9cmV0dXJuIG9iamVjdH1mdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KXt2YXIgcmVzdWx0PVtdO3JldHVybiBmb3JJbihvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5KXtpc0Z1bmN0aW9uKHZhbHVlKSYmcmVzdWx0LnB1c2goa2V5KX0pLHJlc3VsdC5zb3J0KCl9ZnVuY3Rpb24gaGFzKG9iamVjdCxrZXkpe3JldHVybiBvYmplY3Q/aGFzT3duUHJvcGVydHkuY2FsbChvYmplY3Qsa2V5KTohMX1mdW5jdGlvbiBpbnZlcnQob2JqZWN0KXtmb3IodmFyIGluZGV4PS0xLHByb3BzPWtleXMob2JqZWN0KSxsZW5ndGg9cHJvcHMubGVuZ3RoLHJlc3VsdD17fTsrK2luZGV4PGxlbmd0aDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdO3Jlc3VsdFtvYmplY3Rba2V5XV09a2V5fXJldHVybiByZXN1bHR9ZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKXtyZXR1cm4gdmFsdWU9PT0hMHx8dmFsdWU9PT0hMXx8dmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWUmJnRvU3RyaW5nLmNhbGwodmFsdWUpPT1ib29sQ2xhc3N8fCExfWZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSl7cmV0dXJuIHZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIHZhbHVlJiZ0b1N0cmluZy5jYWxsKHZhbHVlKT09ZGF0ZUNsYXNzfHwhMX1mdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpe3JldHVybiB2YWx1ZSYmMT09PXZhbHVlLm5vZGVUeXBlfHwhMX1mdW5jdGlvbiBpc0VtcHR5KHZhbHVlKXt2YXIgcmVzdWx0PSEwO2lmKCF2YWx1ZSlyZXR1cm4gcmVzdWx0O3ZhciBjbGFzc05hbWU9dG9TdHJpbmcuY2FsbCh2YWx1ZSksbGVuZ3RoPXZhbHVlLmxlbmd0aDtyZXR1cm4gY2xhc3NOYW1lPT1hcnJheUNsYXNzfHxjbGFzc05hbWU9PXN0cmluZ0NsYXNzfHwoc3VwcG9ydC5hcmdzQ2xhc3M/Y2xhc3NOYW1lPT1hcmdzQ2xhc3M6aXNBcmd1bWVudHModmFsdWUpKXx8Y2xhc3NOYW1lPT1vYmplY3RDbGFzcyYmIm51bWJlciI9PXR5cGVvZiBsZW5ndGgmJmlzRnVuY3Rpb24odmFsdWUuc3BsaWNlKT8hbGVuZ3RoOihmb3JPd24odmFsdWUsZnVuY3Rpb24oKXtyZXR1cm4gcmVzdWx0PSExfSkscmVzdWx0KX1mdW5jdGlvbiBpc0VxdWFsKGEsYixjYWxsYmFjayx0aGlzQXJnKXtyZXR1cm4gYmFzZUlzRXF1YWwoYSxiLCJmdW5jdGlvbiI9PXR5cGVvZiBjYWxsYmFjayYmYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMikpfWZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKXtyZXR1cm4gbmF0aXZlSXNGaW5pdGUodmFsdWUpJiYhbmF0aXZlSXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpfWZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSl7cmV0dXJuISghdmFsdWV8fCFvYmplY3RUeXBlc1t0eXBlb2YgdmFsdWVdKX1mdW5jdGlvbiBpc05hTih2YWx1ZSl7cmV0dXJuIGlzTnVtYmVyKHZhbHVlKSYmdmFsdWUhPSt2YWx1ZX1mdW5jdGlvbiBpc051bGwodmFsdWUpe3JldHVybiBudWxsPT09dmFsdWV9ZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdmFsdWV8fHZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIHZhbHVlJiZ0b1N0cmluZy5jYWxsKHZhbHVlKT09bnVtYmVyQ2xhc3N8fCExfWZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKXtyZXR1cm4gdmFsdWUmJm9iamVjdFR5cGVzW3R5cGVvZiB2YWx1ZV0mJnRvU3RyaW5nLmNhbGwodmFsdWUpPT1yZWdleHBDbGFzc3x8ITF9ZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdmFsdWV8fHZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIHZhbHVlJiZ0b1N0cmluZy5jYWxsKHZhbHVlKT09c3RyaW5nQ2xhc3N8fCExfWZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHZhbHVlfWZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHJlc3VsdD17fTtyZXR1cm4gY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksZm9yT3duKG9iamVjdCxmdW5jdGlvbih2YWx1ZSxrZXksb2JqZWN0KXtyZXN1bHRba2V5XT1jYWxsYmFjayh2YWx1ZSxrZXksb2JqZWN0KX0pLHJlc3VsdH1mdW5jdGlvbiBtZXJnZShvYmplY3Qpe3ZhciBhcmdzPWFyZ3VtZW50cyxsZW5ndGg9MjtpZighaXNPYmplY3Qob2JqZWN0KSlyZXR1cm4gb2JqZWN0O2lmKCJudW1iZXIiIT10eXBlb2YgYXJnc1syXSYmKGxlbmd0aD1hcmdzLmxlbmd0aCksbGVuZ3RoPjMmJiJmdW5jdGlvbiI9PXR5cGVvZiBhcmdzW2xlbmd0aC0yXSl2YXIgY2FsbGJhY2s9YmFzZUNyZWF0ZUNhbGxiYWNrKGFyZ3NbLS1sZW5ndGgtMV0sYXJnc1tsZW5ndGgtLV0sMik7ZWxzZSBsZW5ndGg+MiYmImZ1bmN0aW9uIj09dHlwZW9mIGFyZ3NbbGVuZ3RoLTFdJiYoY2FsbGJhY2s9YXJnc1stLWxlbmd0aF0pO2Zvcih2YXIgc291cmNlcz1zbGljZShhcmd1bWVudHMsMSxsZW5ndGgpLGluZGV4PS0xLHN0YWNrQT1nZXRBcnJheSgpLHN0YWNrQj1nZXRBcnJheSgpOysraW5kZXg8bGVuZ3RoOyliYXNlTWVyZ2Uob2JqZWN0LHNvdXJjZXNbaW5kZXhdLGNhbGxiYWNrLHN0YWNrQSxzdGFja0IpO3JldHVybiByZWxlYXNlQXJyYXkoc3RhY2tBKSxyZWxlYXNlQXJyYXkoc3RhY2tCKSxvYmplY3R9ZnVuY3Rpb24gb21pdChvYmplY3QsY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHJlc3VsdD17fTtpZigiZnVuY3Rpb24iIT10eXBlb2YgY2FsbGJhY2spe3ZhciBwcm9wcz1bXTtmb3JJbihvYmplY3QsZnVuY3Rpb24odmFsdWUsa2V5KXtwcm9wcy5wdXNoKGtleSl9KSxwcm9wcz1iYXNlRGlmZmVyZW5jZShwcm9wcyxiYXNlRmxhdHRlbihhcmd1bWVudHMsITAsITEsMSkpO2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPXByb3BzLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdO3Jlc3VsdFtrZXldPW9iamVjdFtrZXldfX1lbHNlIGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGZvckluKG9iamVjdCxmdW5jdGlvbih2YWx1ZSxrZXksb2JqZWN0KXtjYWxsYmFjayh2YWx1ZSxrZXksb2JqZWN0KXx8KHJlc3VsdFtrZXldPXZhbHVlKX0pO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gcGFpcnMob2JqZWN0KXtmb3IodmFyIGluZGV4PS0xLHByb3BzPWtleXMob2JqZWN0KSxsZW5ndGg9cHJvcHMubGVuZ3RoLHJlc3VsdD1BcnJheShsZW5ndGgpOysraW5kZXg8bGVuZ3RoOyl7dmFyIGtleT1wcm9wc1tpbmRleF07cmVzdWx0W2luZGV4XT1ba2V5LG9iamVjdFtrZXldXX1yZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHBpY2sob2JqZWN0LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciByZXN1bHQ9e307aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGNhbGxiYWNrKWZvcih2YXIgaW5kZXg9LTEscHJvcHM9YmFzZUZsYXR0ZW4oYXJndW1lbnRzLCEwLCExLDEpLGxlbmd0aD1pc09iamVjdChvYmplY3QpP3Byb3BzLmxlbmd0aDowOysraW5kZXg8bGVuZ3RoOyl7dmFyIGtleT1wcm9wc1tpbmRleF07a2V5IGluIG9iamVjdCYmKHJlc3VsdFtrZXldPW9iamVjdFtrZXldKX1lbHNlIGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGZvckluKG9iamVjdCxmdW5jdGlvbih2YWx1ZSxrZXksb2JqZWN0KXtjYWxsYmFjayh2YWx1ZSxrZXksb2JqZWN0KSYmKHJlc3VsdFtrZXldPXZhbHVlKX0pO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCxjYWxsYmFjayxhY2N1bXVsYXRvcix0aGlzQXJnKXt2YXIgaXNBcnI9aXNBcnJheShvYmplY3QpO2lmKG51bGw9PWFjY3VtdWxhdG9yKWlmKGlzQXJyKWFjY3VtdWxhdG9yPVtdO2Vsc2V7dmFyIGN0b3I9b2JqZWN0JiZvYmplY3QuY29uc3RydWN0b3IscHJvdG89Y3RvciYmY3Rvci5wcm90b3R5cGU7YWNjdW11bGF0b3I9YmFzZUNyZWF0ZShwcm90byl9cmV0dXJuIGNhbGxiYWNrJiYoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsNCksKGlzQXJyP2Jhc2VFYWNoOmZvck93bikob2JqZWN0LGZ1bmN0aW9uKHZhbHVlLGluZGV4LG9iamVjdCl7cmV0dXJuIGNhbGxiYWNrKGFjY3VtdWxhdG9yLHZhbHVlLGluZGV4LG9iamVjdCl9KSksYWNjdW11bGF0b3J9ZnVuY3Rpb24gdmFsdWVzKG9iamVjdCl7Zm9yKHZhciBpbmRleD0tMSxwcm9wcz1rZXlzKG9iamVjdCksbGVuZ3RoPXByb3BzLmxlbmd0aCxyZXN1bHQ9QXJyYXkobGVuZ3RoKTsrK2luZGV4PGxlbmd0aDspcmVzdWx0W2luZGV4XT1vYmplY3RbcHJvcHNbaW5kZXhdXTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGF0KGNvbGxlY3Rpb24pe3ZhciBhcmdzPWFyZ3VtZW50cyxpbmRleD0tMSxwcm9wcz1iYXNlRmxhdHRlbihhcmdzLCEwLCExLDEpLGxlbmd0aD1hcmdzWzJdJiZhcmdzWzJdW2FyZ3NbMV1dPT09Y29sbGVjdGlvbj8xOnByb3BzLmxlbmd0aCxyZXN1bHQ9QXJyYXkobGVuZ3RoKTtmb3Ioc3VwcG9ydC51bmluZGV4ZWRDaGFycyYmaXNTdHJpbmcoY29sbGVjdGlvbikmJihjb2xsZWN0aW9uPWNvbGxlY3Rpb24uc3BsaXQoIiIpKTsrK2luZGV4PGxlbmd0aDspcmVzdWx0W2luZGV4XT1jb2xsZWN0aW9uW3Byb3BzW2luZGV4XV07cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBjb250YWlucyhjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpe3ZhciBpbmRleD0tMSxpbmRleE9mPWdldEluZGV4T2YoKSxsZW5ndGg9Y29sbGVjdGlvbj9jb2xsZWN0aW9uLmxlbmd0aDowLHJlc3VsdD0hMTtyZXR1cm4gZnJvbUluZGV4PSgwPmZyb21JbmRleD9uYXRpdmVNYXgoMCxsZW5ndGgrZnJvbUluZGV4KTpmcm9tSW5kZXgpfHwwLGlzQXJyYXkoY29sbGVjdGlvbik/cmVzdWx0PWluZGV4T2YoY29sbGVjdGlvbix0YXJnZXQsZnJvbUluZGV4KT4tMToibnVtYmVyIj09dHlwZW9mIGxlbmd0aD9yZXN1bHQ9KGlzU3RyaW5nKGNvbGxlY3Rpb24pP2NvbGxlY3Rpb24uaW5kZXhPZih0YXJnZXQsZnJvbUluZGV4KTppbmRleE9mKGNvbGxlY3Rpb24sdGFyZ2V0LGZyb21JbmRleCkpPi0xOmJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUpe3JldHVybisraW5kZXg+PWZyb21JbmRleD8hKHJlc3VsdD12YWx1ZT09PXRhcmdldCk6dm9pZCAwfSkscmVzdWx0fWZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHJlc3VsdD0hMDtpZihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxpc0FycmF5KGNvbGxlY3Rpb24pKWZvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoOysraW5kZXg8bGVuZ3RoJiYocmVzdWx0PSEhY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0saW5kZXgsY29sbGVjdGlvbikpOyk7ZWxzZSBiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiByZXN1bHQ9ISFjYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX0pO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7dmFyIHJlc3VsdD1bXTtpZihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxpc0FycmF5KGNvbGxlY3Rpb24pKWZvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWNvbGxlY3Rpb25baW5kZXhdO2NhbGxiYWNrKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pJiZyZXN1bHQucHVzaCh2YWx1ZSl9ZWxzZSBiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe2NhbGxiYWNrKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pJiZyZXN1bHQucHVzaCh2YWx1ZSl9KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGZpbmQoY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXtpZihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSwhaXNBcnJheShjb2xsZWN0aW9uKSl7dmFyIHJlc3VsdDtyZXR1cm4gYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gY2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbik/KHJlc3VsdD12YWx1ZSwhMSk6dm9pZCAwfSkscmVzdWx0fWZvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWNvbGxlY3Rpb25baW5kZXhdO2lmKGNhbGxiYWNrKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pKXJldHVybiB2YWx1ZX19ZnVuY3Rpb24gZmluZExhc3QoY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgcmVzdWx0O3JldHVybiBjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSxmb3JFYWNoUmlnaHQoY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gY2FsbGJhY2sodmFsdWUsaW5kZXgsY29sbGVjdGlvbik/KHJlc3VsdD12YWx1ZSwhMSk6dm9pZCAwCn0pLHJlc3VsdH1mdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7aWYoY2FsbGJhY2smJiJ1bmRlZmluZWQiPT10eXBlb2YgdGhpc0FyZyYmaXNBcnJheShjb2xsZWN0aW9uKSlmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDsrK2luZGV4PGxlbmd0aCYmY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0saW5kZXgsY29sbGVjdGlvbikhPT0hMTspO2Vsc2UgYmFzZUVhY2goY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKTtyZXR1cm4gY29sbGVjdGlvbn1mdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgaXRlcmFibGU9Y29sbGVjdGlvbixsZW5ndGg9Y29sbGVjdGlvbj9jb2xsZWN0aW9uLmxlbmd0aDowO2lmKGNhbGxiYWNrPWNhbGxiYWNrJiYidW5kZWZpbmVkIj09dHlwZW9mIHRoaXNBcmc/Y2FsbGJhY2s6YmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksaXNBcnJheShjb2xsZWN0aW9uKSlmb3IoO2xlbmd0aC0tJiZjYWxsYmFjayhjb2xsZWN0aW9uW2xlbmd0aF0sbGVuZ3RoLGNvbGxlY3Rpb24pIT09ITE7KTtlbHNle2lmKCJudW1iZXIiIT10eXBlb2YgbGVuZ3RoKXt2YXIgcHJvcHM9a2V5cyhjb2xsZWN0aW9uKTtsZW5ndGg9cHJvcHMubGVuZ3RofWVsc2Ugc3VwcG9ydC51bmluZGV4ZWRDaGFycyYmaXNTdHJpbmcoY29sbGVjdGlvbikmJihpdGVyYWJsZT1jb2xsZWN0aW9uLnNwbGl0KCIiKSk7YmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxrZXksY29sbGVjdGlvbil7cmV0dXJuIGtleT1wcm9wcz9wcm9wc1stLWxlbmd0aF06LS1sZW5ndGgsY2FsbGJhY2soaXRlcmFibGVba2V5XSxrZXksY29sbGVjdGlvbil9KX1yZXR1cm4gY29sbGVjdGlvbn1mdW5jdGlvbiBpbnZva2UoY29sbGVjdGlvbixtZXRob2ROYW1lKXt2YXIgYXJncz1zbGljZShhcmd1bWVudHMsMiksaW5kZXg9LTEsaXNGdW5jPSJmdW5jdGlvbiI9PXR5cGVvZiBtZXRob2ROYW1lLGxlbmd0aD1jb2xsZWN0aW9uP2NvbGxlY3Rpb24ubGVuZ3RoOjAscmVzdWx0PUFycmF5KCJudW1iZXIiPT10eXBlb2YgbGVuZ3RoP2xlbmd0aDowKTtyZXR1cm4gZm9yRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlKXtyZXN1bHRbKytpbmRleF09KGlzRnVuYz9tZXRob2ROYW1lOnZhbHVlW21ldGhvZE5hbWVdKS5hcHBseSh2YWx1ZSxhcmdzKX0pLHJlc3VsdH1mdW5jdGlvbiBtYXAoY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24/Y29sbGVjdGlvbi5sZW5ndGg6MCxyZXN1bHQ9QXJyYXkoIm51bWJlciI9PXR5cGVvZiBsZW5ndGg/bGVuZ3RoOjApO2lmKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGlzQXJyYXkoY29sbGVjdGlvbikpZm9yKDsrK2luZGV4PGxlbmd0aDspcmVzdWx0W2luZGV4XT1jYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSxpbmRleCxjb2xsZWN0aW9uKTtlbHNlIGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsa2V5LGNvbGxlY3Rpb24pe3Jlc3VsdFsrK2luZGV4XT1jYWxsYmFjayh2YWx1ZSxrZXksY29sbGVjdGlvbil9KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIG1heChjb2xsZWN0aW9uLGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBjb21wdXRlZD0tMS8wLHJlc3VsdD1jb21wdXRlZDtpZigiZnVuY3Rpb24iIT10eXBlb2YgY2FsbGJhY2smJnRoaXNBcmcmJnRoaXNBcmdbY2FsbGJhY2tdPT09Y29sbGVjdGlvbiYmKGNhbGxiYWNrPW51bGwpLG51bGw9PWNhbGxiYWNrJiZpc0FycmF5KGNvbGxlY3Rpb24pKWZvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWNvbGxlY3Rpb25baW5kZXhdO3ZhbHVlPnJlc3VsdCYmKHJlc3VsdD12YWx1ZSl9ZWxzZSBjYWxsYmFjaz1udWxsPT1jYWxsYmFjayYmaXNTdHJpbmcoY29sbGVjdGlvbik/Y2hhckF0Q2FsbGJhY2s6bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXt2YXIgY3VycmVudD1jYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKTtjdXJyZW50PmNvbXB1dGVkJiYoY29tcHV0ZWQ9Y3VycmVudCxyZXN1bHQ9dmFsdWUpfSk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBtaW4oY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgY29tcHV0ZWQ9MS8wLHJlc3VsdD1jb21wdXRlZDtpZigiZnVuY3Rpb24iIT10eXBlb2YgY2FsbGJhY2smJnRoaXNBcmcmJnRoaXNBcmdbY2FsbGJhY2tdPT09Y29sbGVjdGlvbiYmKGNhbGxiYWNrPW51bGwpLG51bGw9PWNhbGxiYWNrJiZpc0FycmF5KGNvbGxlY3Rpb24pKWZvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWNvbGxlY3Rpb24ubGVuZ3RoOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWNvbGxlY3Rpb25baW5kZXhdO3Jlc3VsdD52YWx1ZSYmKHJlc3VsdD12YWx1ZSl9ZWxzZSBjYWxsYmFjaz1udWxsPT1jYWxsYmFjayYmaXNTdHJpbmcoY29sbGVjdGlvbik/Y2hhckF0Q2FsbGJhY2s6bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyksYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXt2YXIgY3VycmVudD1jYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKTtjb21wdXRlZD5jdXJyZW50JiYoY29tcHV0ZWQ9Y3VycmVudCxyZXN1bHQ9dmFsdWUpfSk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbixjYWxsYmFjayxhY2N1bXVsYXRvcix0aGlzQXJnKXt2YXIgbm9hY2N1bT1hcmd1bWVudHMubGVuZ3RoPDM7aWYoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsNCksaXNBcnJheShjb2xsZWN0aW9uKSl7dmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aDtmb3Iobm9hY2N1bSYmKGFjY3VtdWxhdG9yPWNvbGxlY3Rpb25bKytpbmRleF0pOysraW5kZXg8bGVuZ3RoOylhY2N1bXVsYXRvcj1jYWxsYmFjayhhY2N1bXVsYXRvcixjb2xsZWN0aW9uW2luZGV4XSxpbmRleCxjb2xsZWN0aW9uKX1lbHNlIGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7YWNjdW11bGF0b3I9bm9hY2N1bT8obm9hY2N1bT0hMSx2YWx1ZSk6Y2FsbGJhY2soYWNjdW11bGF0b3IsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil9KTtyZXR1cm4gYWNjdW11bGF0b3J9ZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbixjYWxsYmFjayxhY2N1bXVsYXRvcix0aGlzQXJnKXt2YXIgbm9hY2N1bT1hcmd1bWVudHMubGVuZ3RoPDM7cmV0dXJuIGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDQpLGZvckVhY2hSaWdodChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe2FjY3VtdWxhdG9yPW5vYWNjdW0/KG5vYWNjdW09ITEsdmFsdWUpOmNhbGxiYWNrKGFjY3VtdWxhdG9yLHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pfSksYWNjdW11bGF0b3J9ZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sY2FsbGJhY2ssdGhpc0FyZyl7cmV0dXJuIGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGZpbHRlcihjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiFjYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX0pfWZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uLG4sZ3VhcmQpe2lmKGNvbGxlY3Rpb24mJiJudW1iZXIiIT10eXBlb2YgY29sbGVjdGlvbi5sZW5ndGg/Y29sbGVjdGlvbj12YWx1ZXMoY29sbGVjdGlvbik6c3VwcG9ydC51bmluZGV4ZWRDaGFycyYmaXNTdHJpbmcoY29sbGVjdGlvbikmJihjb2xsZWN0aW9uPWNvbGxlY3Rpb24uc3BsaXQoIiIpKSxudWxsPT1ufHxndWFyZClyZXR1cm4gY29sbGVjdGlvbj9jb2xsZWN0aW9uW2Jhc2VSYW5kb20oMCxjb2xsZWN0aW9uLmxlbmd0aC0xKV06dW5kZWZpbmVkO3ZhciByZXN1bHQ9c2h1ZmZsZShjb2xsZWN0aW9uKTtyZXR1cm4gcmVzdWx0Lmxlbmd0aD1uYXRpdmVNaW4obmF0aXZlTWF4KDAsbikscmVzdWx0Lmxlbmd0aCkscmVzdWx0fWZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbil7dmFyIGluZGV4PS0xLGxlbmd0aD1jb2xsZWN0aW9uP2NvbGxlY3Rpb24ubGVuZ3RoOjAscmVzdWx0PUFycmF5KCJudW1iZXIiPT10eXBlb2YgbGVuZ3RoP2xlbmd0aDowKTtyZXR1cm4gZm9yRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlKXt2YXIgcmFuZD1iYXNlUmFuZG9tKDAsKytpbmRleCk7cmVzdWx0W2luZGV4XT1yZXN1bHRbcmFuZF0scmVzdWx0W3JhbmRdPXZhbHVlfSkscmVzdWx0fWZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbil7dmFyIGxlbmd0aD1jb2xsZWN0aW9uP2NvbGxlY3Rpb24ubGVuZ3RoOjA7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBsZW5ndGg/bGVuZ3RoOmtleXMoY29sbGVjdGlvbikubGVuZ3RofWZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgcmVzdWx0O2lmKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpLGlzQXJyYXkoY29sbGVjdGlvbikpZm9yKHZhciBpbmRleD0tMSxsZW5ndGg9Y29sbGVjdGlvbi5sZW5ndGg7KytpbmRleDxsZW5ndGgmJiEocmVzdWx0PWNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLGluZGV4LGNvbGxlY3Rpb24pKTspO2Vsc2UgYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4hKHJlc3VsdD1jYWxsYmFjayh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSl9KTtyZXR1cm4hIXJlc3VsdH1mdW5jdGlvbiBzb3J0QnkoY29sbGVjdGlvbixjYWxsYmFjayx0aGlzQXJnKXt2YXIgaW5kZXg9LTEsaXNBcnI9aXNBcnJheShjYWxsYmFjayksbGVuZ3RoPWNvbGxlY3Rpb24/Y29sbGVjdGlvbi5sZW5ndGg6MCxyZXN1bHQ9QXJyYXkoIm51bWJlciI9PXR5cGVvZiBsZW5ndGg/bGVuZ3RoOjApO2Zvcihpc0Fycnx8KGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpKSxmb3JFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsa2V5LGNvbGxlY3Rpb24pe3ZhciBvYmplY3Q9cmVzdWx0WysraW5kZXhdPWdldE9iamVjdCgpO2lzQXJyP29iamVjdC5jcml0ZXJpYT1tYXAoY2FsbGJhY2ssZnVuY3Rpb24oa2V5KXtyZXR1cm4gdmFsdWVba2V5XX0pOihvYmplY3QuY3JpdGVyaWE9Z2V0QXJyYXkoKSlbMF09Y2FsbGJhY2sodmFsdWUsa2V5LGNvbGxlY3Rpb24pLG9iamVjdC5pbmRleD1pbmRleCxvYmplY3QudmFsdWU9dmFsdWV9KSxsZW5ndGg9cmVzdWx0Lmxlbmd0aCxyZXN1bHQuc29ydChjb21wYXJlQXNjZW5kaW5nKTtsZW5ndGgtLTspe3ZhciBvYmplY3Q9cmVzdWx0W2xlbmd0aF07cmVzdWx0W2xlbmd0aF09b2JqZWN0LnZhbHVlLGlzQXJyfHxyZWxlYXNlQXJyYXkob2JqZWN0LmNyaXRlcmlhKSxyZWxlYXNlT2JqZWN0KG9iamVjdCl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiB0b0FycmF5KGNvbGxlY3Rpb24pe3JldHVybiBjb2xsZWN0aW9uJiYibnVtYmVyIj09dHlwZW9mIGNvbGxlY3Rpb24ubGVuZ3RoP3N1cHBvcnQudW5pbmRleGVkQ2hhcnMmJmlzU3RyaW5nKGNvbGxlY3Rpb24pP2NvbGxlY3Rpb24uc3BsaXQoIiIpOnNsaWNlKGNvbGxlY3Rpb24pOnZhbHVlcyhjb2xsZWN0aW9uKX1mdW5jdGlvbiBjb21wYWN0KGFycmF5KXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MCxyZXN1bHQ9W107KytpbmRleDxsZW5ndGg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdO3ZhbHVlJiZyZXN1bHQucHVzaCh2YWx1ZSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBkaWZmZXJlbmNlKGFycmF5KXtyZXR1cm4gYmFzZURpZmZlcmVuY2UoYXJyYXksYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCEwLCEwLDEpKX1mdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtmb3IoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyk7KytpbmRleDxsZW5ndGg7KWlmKGNhbGxiYWNrKGFycmF5W2luZGV4XSxpbmRleCxhcnJheSkpcmV0dXJuIGluZGV4O3JldHVybi0xfWZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtmb3IoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyk7bGVuZ3RoLS07KWlmKGNhbGxiYWNrKGFycmF5W2xlbmd0aF0sbGVuZ3RoLGFycmF5KSlyZXR1cm4gbGVuZ3RoO3JldHVybi0xfWZ1bmN0aW9uIGZpcnN0KGFycmF5LGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBuPTAsbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowO2lmKCJudW1iZXIiIT10eXBlb2YgY2FsbGJhY2smJm51bGwhPWNhbGxiYWNrKXt2YXIgaW5kZXg9LTE7Zm9yKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpOysraW5kZXg8bGVuZ3RoJiZjYWxsYmFjayhhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpOyluKyt9ZWxzZSBpZihuPWNhbGxiYWNrLG51bGw9PW58fHRoaXNBcmcpcmV0dXJuIGFycmF5P2FycmF5WzBdOnVuZGVmaW5lZDtyZXR1cm4gc2xpY2UoYXJyYXksMCxuYXRpdmVNaW4obmF0aXZlTWF4KDAsbiksbGVuZ3RoKSl9ZnVuY3Rpb24gZmxhdHRlbihhcnJheSxpc1NoYWxsb3csY2FsbGJhY2ssdGhpc0FyZyl7cmV0dXJuImJvb2xlYW4iIT10eXBlb2YgaXNTaGFsbG93JiZudWxsIT1pc1NoYWxsb3cmJih0aGlzQXJnPWNhbGxiYWNrLGNhbGxiYWNrPSJmdW5jdGlvbiIhPXR5cGVvZiBpc1NoYWxsb3cmJnRoaXNBcmcmJnRoaXNBcmdbaXNTaGFsbG93XT09PWFycmF5P251bGw6aXNTaGFsbG93LGlzU2hhbGxvdz0hMSksbnVsbCE9Y2FsbGJhY2smJihhcnJheT1tYXAoYXJyYXksY2FsbGJhY2ssdGhpc0FyZykpLGJhc2VGbGF0dGVuKGFycmF5LGlzU2hhbGxvdyl9ZnVuY3Rpb24gaW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXgpe2lmKCJudW1iZXIiPT10eXBlb2YgZnJvbUluZGV4KXt2YXIgbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowO2Zyb21JbmRleD0wPmZyb21JbmRleD9uYXRpdmVNYXgoMCxsZW5ndGgrZnJvbUluZGV4KTpmcm9tSW5kZXh8fDB9ZWxzZSBpZihmcm9tSW5kZXgpe3ZhciBpbmRleD1zb3J0ZWRJbmRleChhcnJheSx2YWx1ZSk7cmV0dXJuIGFycmF5W2luZGV4XT09PXZhbHVlP2luZGV4Oi0xfXJldHVybiBiYXNlSW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXgpfWZ1bmN0aW9uIGluaXRpYWwoYXJyYXksY2FsbGJhY2ssdGhpc0FyZyl7dmFyIG49MCxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7aWYoIm51bWJlciIhPXR5cGVvZiBjYWxsYmFjayYmbnVsbCE9Y2FsbGJhY2spe3ZhciBpbmRleD1sZW5ndGg7Zm9yKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpO2luZGV4LS0mJmNhbGxiYWNrKGFycmF5W2luZGV4XSxpbmRleCxhcnJheSk7KW4rK31lbHNlIG49bnVsbD09Y2FsbGJhY2t8fHRoaXNBcmc/MTpjYWxsYmFja3x8bjtyZXR1cm4gc2xpY2UoYXJyYXksMCxuYXRpdmVNaW4obmF0aXZlTWF4KDAsbGVuZ3RoLW4pLGxlbmd0aCkpfWZ1bmN0aW9uIGludGVyc2VjdGlvbigpe2Zvcih2YXIgYXJncz1bXSxhcmdzSW5kZXg9LTEsYXJnc0xlbmd0aD1hcmd1bWVudHMubGVuZ3RoLGNhY2hlcz1nZXRBcnJheSgpLGluZGV4T2Y9Z2V0SW5kZXhPZigpLHRydXN0SW5kZXhPZj1pbmRleE9mPT09YmFzZUluZGV4T2Ysc2Vlbj1nZXRBcnJheSgpOysrYXJnc0luZGV4PGFyZ3NMZW5ndGg7KXt2YXIgdmFsdWU9YXJndW1lbnRzW2FyZ3NJbmRleF07KGlzQXJyYXkodmFsdWUpfHxpc0FyZ3VtZW50cyh2YWx1ZSkpJiYoYXJncy5wdXNoKHZhbHVlKSxjYWNoZXMucHVzaCh0cnVzdEluZGV4T2YmJnZhbHVlLmxlbmd0aD49bGFyZ2VBcnJheVNpemUmJmNyZWF0ZUNhY2hlKGFyZ3NJbmRleD9hcmdzW2FyZ3NJbmRleF06c2VlbikpKX12YXIgYXJyYXk9YXJnc1swXSxpbmRleD0tMSxsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjAscmVzdWx0PVtdO291dGVyOmZvcig7KytpbmRleDxsZW5ndGg7KXt2YXIgY2FjaGU9Y2FjaGVzWzBdO2lmKHZhbHVlPWFycmF5W2luZGV4XSwoY2FjaGU/Y2FjaGVJbmRleE9mKGNhY2hlLHZhbHVlKTppbmRleE9mKHNlZW4sdmFsdWUpKTwwKXtmb3IoYXJnc0luZGV4PWFyZ3NMZW5ndGgsKGNhY2hlfHxzZWVuKS5wdXNoKHZhbHVlKTstLWFyZ3NJbmRleDspaWYoY2FjaGU9Y2FjaGVzW2FyZ3NJbmRleF0sKGNhY2hlP2NhY2hlSW5kZXhPZihjYWNoZSx2YWx1ZSk6aW5kZXhPZihhcmdzW2FyZ3NJbmRleF0sdmFsdWUpKTwwKWNvbnRpbnVlIG91dGVyO3Jlc3VsdC5wdXNoKHZhbHVlKX19Zm9yKDthcmdzTGVuZ3RoLS07KWNhY2hlPWNhY2hlc1thcmdzTGVuZ3RoXSxjYWNoZSYmcmVsZWFzZU9iamVjdChjYWNoZSk7cmV0dXJuIHJlbGVhc2VBcnJheShjYWNoZXMpLHJlbGVhc2VBcnJheShzZWVuKSxyZXN1bHR9ZnVuY3Rpb24gbGFzdChhcnJheSxjYWxsYmFjayx0aGlzQXJnKXt2YXIgbj0wLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtpZigibnVtYmVyIiE9dHlwZW9mIGNhbGxiYWNrJiZudWxsIT1jYWxsYmFjayl7dmFyIGluZGV4PWxlbmd0aDtmb3IoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyk7aW5kZXgtLSYmY2FsbGJhY2soYXJyYXlbaW5kZXhdLGluZGV4LGFycmF5KTspbisrfWVsc2UgaWYobj1jYWxsYmFjayxudWxsPT1ufHx0aGlzQXJnKXJldHVybiBhcnJheT9hcnJheVtsZW5ndGgtMV06dW5kZWZpbmVkO3JldHVybiBzbGljZShhcnJheSxuYXRpdmVNYXgoMCxsZW5ndGgtbikpfWZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LHZhbHVlLGZyb21JbmRleCl7dmFyIGluZGV4PWFycmF5P2FycmF5Lmxlbmd0aDowO2ZvcigibnVtYmVyIj09dHlwZW9mIGZyb21JbmRleCYmKGluZGV4PSgwPmZyb21JbmRleD9uYXRpdmVNYXgoMCxpbmRleCtmcm9tSW5kZXgpOm5hdGl2ZU1pbihmcm9tSW5kZXgsaW5kZXgtMSkpKzEpO2luZGV4LS07KWlmKGFycmF5W2luZGV4XT09PXZhbHVlKXJldHVybiBpbmRleDtyZXR1cm4tMX1mdW5jdGlvbiBwdWxsKGFycmF5KXtmb3IodmFyIGFyZ3M9YXJndW1lbnRzLGFyZ3NJbmRleD0wLGFyZ3NMZW5ndGg9YXJncy5sZW5ndGgsbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowOysrYXJnc0luZGV4PGFyZ3NMZW5ndGg7KWZvcih2YXIgaW5kZXg9LTEsdmFsdWU9YXJnc1thcmdzSW5kZXhdOysraW5kZXg8bGVuZ3RoOylhcnJheVtpbmRleF09PT12YWx1ZSYmKHNwbGljZS5jYWxsKGFycmF5LGluZGV4LS0sMSksbGVuZ3RoLS0pO3JldHVybiBhcnJheX1mdW5jdGlvbiByYW5nZShzdGFydCxlbmQsc3RlcCl7c3RhcnQ9K3N0YXJ0fHwwLHN0ZXA9Im51bWJlciI9PXR5cGVvZiBzdGVwP3N0ZXA6K3N0ZXB8fDEsbnVsbD09ZW5kJiYoZW5kPXN0YXJ0LHN0YXJ0PTApO2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPW5hdGl2ZU1heCgwLGNlaWwoKGVuZC1zdGFydCkvKHN0ZXB8fDEpKSkscmVzdWx0PUFycmF5KGxlbmd0aCk7KytpbmRleDxsZW5ndGg7KXJlc3VsdFtpbmRleF09c3RhcnQsc3RhcnQrPXN0ZXA7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiByZW1vdmUoYXJyYXksY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MCxyZXN1bHQ9W107Zm9yKGNhbGxiYWNrPWxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDMpOysraW5kZXg8bGVuZ3RoOyl7dmFyIHZhbHVlPWFycmF5W2luZGV4XTtjYWxsYmFjayh2YWx1ZSxpbmRleCxhcnJheSkmJihyZXN1bHQucHVzaCh2YWx1ZSksc3BsaWNlLmNhbGwoYXJyYXksaW5kZXgtLSwxKSxsZW5ndGgtLSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiByZXN0KGFycmF5LGNhbGxiYWNrLHRoaXNBcmcpe2lmKCJudW1iZXIiIT10eXBlb2YgY2FsbGJhY2smJm51bGwhPWNhbGxiYWNrKXt2YXIgbj0wLGluZGV4PS0xLGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtmb3IoY2FsbGJhY2s9bG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLHRoaXNBcmcsMyk7KytpbmRleDxsZW5ndGgmJmNhbGxiYWNrKGFycmF5W2luZGV4XSxpbmRleCxhcnJheSk7KW4rK31lbHNlIG49bnVsbD09Y2FsbGJhY2t8fHRoaXNBcmc/MTpuYXRpdmVNYXgoMCxjYWxsYmFjayk7cmV0dXJuIHNsaWNlKGFycmF5LG4pfWZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LHZhbHVlLGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBsb3c9MCxoaWdoPWFycmF5P2FycmF5Lmxlbmd0aDpsb3c7Zm9yKGNhbGxiYWNrPWNhbGxiYWNrP2xvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDEpOmlkZW50aXR5LHZhbHVlPWNhbGxiYWNrKHZhbHVlKTtoaWdoPmxvdzspe3ZhciBtaWQ9bG93K2hpZ2g+Pj4xO2NhbGxiYWNrKGFycmF5W21pZF0pPHZhbHVlP2xvdz1taWQrMTpoaWdoPW1pZH1yZXR1cm4gbG93fWZ1bmN0aW9uIHVuaW9uKCl7cmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFyZ3VtZW50cywhMCwhMCkpfWZ1bmN0aW9uIHVuaXEoYXJyYXksaXNTb3J0ZWQsY2FsbGJhY2ssdGhpc0FyZyl7cmV0dXJuImJvb2xlYW4iIT10eXBlb2YgaXNTb3J0ZWQmJm51bGwhPWlzU29ydGVkJiYodGhpc0FyZz1jYWxsYmFjayxjYWxsYmFjaz0iZnVuY3Rpb24iIT10eXBlb2YgaXNTb3J0ZWQmJnRoaXNBcmcmJnRoaXNBcmdbaXNTb3J0ZWRdPT09YXJyYXk/bnVsbDppc1NvcnRlZCxpc1NvcnRlZD0hMSksbnVsbCE9Y2FsbGJhY2smJihjYWxsYmFjaz1sb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssdGhpc0FyZywzKSksYmFzZVVuaXEoYXJyYXksaXNTb3J0ZWQsY2FsbGJhY2spfWZ1bmN0aW9uIHdpdGhvdXQoYXJyYXkpe3JldHVybiBiYXNlRGlmZmVyZW5jZShhcnJheSxzbGljZShhcmd1bWVudHMsMSkpfWZ1bmN0aW9uIHhvcigpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg7KytpbmRleDxsZW5ndGg7KXt2YXIgYXJyYXk9YXJndW1lbnRzW2luZGV4XTtpZihpc0FycmF5KGFycmF5KXx8aXNBcmd1bWVudHMoYXJyYXkpKXZhciByZXN1bHQ9cmVzdWx0P2Jhc2VVbmlxKGJhc2VEaWZmZXJlbmNlKHJlc3VsdCxhcnJheSkuY29uY2F0KGJhc2VEaWZmZXJlbmNlKGFycmF5LHJlc3VsdCkpKTphcnJheX1yZXR1cm4gcmVzdWx0fHxbXX1mdW5jdGlvbiB6aXAoKXtmb3IodmFyIGFycmF5PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHM6YXJndW1lbnRzWzBdLGluZGV4PS0xLGxlbmd0aD1hcnJheT9tYXgocGx1Y2soYXJyYXksImxlbmd0aCIpKTowLHJlc3VsdD1BcnJheSgwPmxlbmd0aD8wOmxlbmd0aCk7KytpbmRleDxsZW5ndGg7KXJlc3VsdFtpbmRleF09cGx1Y2soYXJyYXksaW5kZXgpO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gemlwT2JqZWN0KGtleXMsdmFsdWVzKXt2YXIgaW5kZXg9LTEsbGVuZ3RoPWtleXM/a2V5cy5sZW5ndGg6MCxyZXN1bHQ9e307Zm9yKHZhbHVlc3x8IWxlbmd0aHx8aXNBcnJheShrZXlzWzBdKXx8KHZhbHVlcz1bXSk7KytpbmRleDxsZW5ndGg7KXt2YXIga2V5PWtleXNbaW5kZXhdO3ZhbHVlcz9yZXN1bHRba2V5XT12YWx1ZXNbaW5kZXhdOmtleSYmKHJlc3VsdFtrZXlbMF1dPWtleVsxXSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBhZnRlcihuLGZ1bmMpe2lmKCFpc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuLS1uPDE/ZnVuYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX1mdW5jdGlvbiBiaW5kKGZ1bmMsdGhpc0FyZyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+Mj9jcmVhdGVXcmFwcGVyKGZ1bmMsMTcsc2xpY2UoYXJndW1lbnRzLDIpLG51bGwsdGhpc0FyZyk6Y3JlYXRlV3JhcHBlcihmdW5jLDEsbnVsbCxudWxsLHRoaXNBcmcpfWZ1bmN0aW9uIGJpbmRBbGwob2JqZWN0KXtmb3IodmFyIGZ1bmNzPWFyZ3VtZW50cy5sZW5ndGg+MT9iYXNlRmxhdHRlbihhcmd1bWVudHMsITAsITEsMSk6ZnVuY3Rpb25zKG9iamVjdCksaW5kZXg9LTEsbGVuZ3RoPWZ1bmNzLmxlbmd0aDsrK2luZGV4PGxlbmd0aDspe3ZhciBrZXk9ZnVuY3NbaW5kZXhdO29iamVjdFtrZXldPWNyZWF0ZVdyYXBwZXIob2JqZWN0W2tleV0sMSxudWxsLG51bGwsb2JqZWN0KX1yZXR1cm4gb2JqZWN0fWZ1bmN0aW9uIGJpbmRLZXkob2JqZWN0LGtleSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+Mj9jcmVhdGVXcmFwcGVyKGtleSwxOSxzbGljZShhcmd1bWVudHMsMiksbnVsbCxvYmplY3QpOmNyZWF0ZVdyYXBwZXIoa2V5LDMsbnVsbCxudWxsLG9iamVjdCl9ZnVuY3Rpb24gY29tcG9zZSgpe2Zvcih2YXIgZnVuY3M9YXJndW1lbnRzLGxlbmd0aD1mdW5jcy5sZW5ndGg7bGVuZ3RoLS07KWlmKCFpc0Z1bmN0aW9uKGZ1bmNzW2xlbmd0aF0pKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBhcmdzPWFyZ3VtZW50cyxsZW5ndGg9ZnVuY3MubGVuZ3RoO2xlbmd0aC0tOylhcmdzPVtmdW5jc1tsZW5ndGhdLmFwcGx5KHRoaXMsYXJncyldO3JldHVybiBhcmdzWzBdfX1mdW5jdGlvbiBjdXJyeShmdW5jLGFyaXR5KXtyZXR1cm4gYXJpdHk9Im51bWJlciI9PXR5cGVvZiBhcml0eT9hcml0eTorYXJpdHl8fGZ1bmMubGVuZ3RoLGNyZWF0ZVdyYXBwZXIoZnVuYyw0LG51bGwsbnVsbCxudWxsLGFyaXR5KX1mdW5jdGlvbiBkZWJvdW5jZShmdW5jLHdhaXQsb3B0aW9ucyl7dmFyIGFyZ3MsbWF4VGltZW91dElkLHJlc3VsdCxzdGFtcCx0aGlzQXJnLHRpbWVvdXRJZCx0cmFpbGluZ0NhbGwsbGFzdENhbGxlZD0wLG1heFdhaXQ9ITEsdHJhaWxpbmc9ITA7aWYoIWlzRnVuY3Rpb24oZnVuYykpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih3YWl0PW5hdGl2ZU1heCgwLHdhaXQpfHwwLG9wdGlvbnM9PT0hMCl7dmFyIGxlYWRpbmc9ITA7dHJhaWxpbmc9ITF9ZWxzZSBpc09iamVjdChvcHRpb25zKSYmKGxlYWRpbmc9b3B0aW9ucy5sZWFkaW5nLG1heFdhaXQ9Im1heFdhaXQiaW4gb3B0aW9ucyYmKG5hdGl2ZU1heCh3YWl0LG9wdGlvbnMubWF4V2FpdCl8fDApLHRyYWlsaW5nPSJ0cmFpbGluZyJpbiBvcHRpb25zP29wdGlvbnMudHJhaWxpbmc6dHJhaWxpbmcpO3ZhciBkZWxheWVkPWZ1bmN0aW9uKCl7dmFyIHJlbWFpbmluZz13YWl0LShub3coKS1zdGFtcCk7aWYoMD49cmVtYWluaW5nKXttYXhUaW1lb3V0SWQmJmNsZWFyVGltZW91dChtYXhUaW1lb3V0SWQpO3ZhciBpc0NhbGxlZD10cmFpbGluZ0NhbGw7bWF4VGltZW91dElkPXRpbWVvdXRJZD10cmFpbGluZ0NhbGw9dW5kZWZpbmVkLGlzQ2FsbGVkJiYobGFzdENhbGxlZD1ub3coKSxyZXN1bHQ9ZnVuYy5hcHBseSh0aGlzQXJnLGFyZ3MpLHRpbWVvdXRJZHx8bWF4VGltZW91dElkfHwoYXJncz10aGlzQXJnPW51bGwpKX1lbHNlIHRpbWVvdXRJZD1zZXRUaW1lb3V0KGRlbGF5ZWQscmVtYWluaW5nKX0sbWF4RGVsYXllZD1mdW5jdGlvbigpe3RpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCksbWF4VGltZW91dElkPXRpbWVvdXRJZD10cmFpbGluZ0NhbGw9dW5kZWZpbmVkLCh0cmFpbGluZ3x8bWF4V2FpdCE9PXdhaXQpJiYobGFzdENhbGxlZD1ub3coKSxyZXN1bHQ9ZnVuYy5hcHBseSh0aGlzQXJnLGFyZ3MpLHRpbWVvdXRJZHx8bWF4VGltZW91dElkfHwoYXJncz10aGlzQXJnPW51bGwpKX07cmV0dXJuIGZ1bmN0aW9uKCl7aWYoYXJncz1hcmd1bWVudHMsc3RhbXA9bm93KCksdGhpc0FyZz10aGlzLHRyYWlsaW5nQ2FsbD10cmFpbGluZyYmKHRpbWVvdXRJZHx8IWxlYWRpbmcpLG1heFdhaXQ9PT0hMSl2YXIgbGVhZGluZ0NhbGw9bGVhZGluZyYmIXRpbWVvdXRJZDtlbHNle21heFRpbWVvdXRJZHx8bGVhZGluZ3x8KGxhc3RDYWxsZWQ9c3RhbXApO3ZhciByZW1haW5pbmc9bWF4V2FpdC0oc3RhbXAtbGFzdENhbGxlZCksaXNDYWxsZWQ9MD49cmVtYWluaW5nO2lzQ2FsbGVkPyhtYXhUaW1lb3V0SWQmJihtYXhUaW1lb3V0SWQ9Y2xlYXJUaW1lb3V0KG1heFRpbWVvdXRJZCkpLGxhc3RDYWxsZWQ9c3RhbXAscmVzdWx0PWZ1bmMuYXBwbHkodGhpc0FyZyxhcmdzKSk6bWF4VGltZW91dElkfHwobWF4VGltZW91dElkPXNldFRpbWVvdXQobWF4RGVsYXllZCxyZW1haW5pbmcpKX1yZXR1cm4gaXNDYWxsZWQmJnRpbWVvdXRJZD90aW1lb3V0SWQ9Y2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk6dGltZW91dElkfHx3YWl0PT09bWF4V2FpdHx8KHRpbWVvdXRJZD1zZXRUaW1lb3V0KGRlbGF5ZWQsd2FpdCkpLGxlYWRpbmdDYWxsJiYoaXNDYWxsZWQ9ITAscmVzdWx0PWZ1bmMuYXBwbHkodGhpc0FyZyxhcmdzKSksIWlzQ2FsbGVkfHx0aW1lb3V0SWR8fG1heFRpbWVvdXRJZHx8KGFyZ3M9dGhpc0FyZz1udWxsKSxyZXN1bHR9fWZ1bmN0aW9uIGRlZmVyKGZ1bmMpe2lmKCFpc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIGFyZ3M9c2xpY2UoYXJndW1lbnRzLDEpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZnVuYy5hcHBseSh1bmRlZmluZWQsYXJncyl9LDEpfWZ1bmN0aW9uIGRlbGF5KGZ1bmMsd2FpdCl7aWYoIWlzRnVuY3Rpb24oZnVuYykpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgYXJncz1zbGljZShhcmd1bWVudHMsMik7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmdW5jLmFwcGx5KHVuZGVmaW5lZCxhcmdzKX0sd2FpdCl9ZnVuY3Rpb24gbWVtb2l6ZShmdW5jLHJlc29sdmVyKXtpZighaXNGdW5jdGlvbihmdW5jKSl0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciBtZW1vaXplZD1mdW5jdGlvbigpe3ZhciBjYWNoZT1tZW1vaXplZC5jYWNoZSxrZXk9cmVzb2x2ZXI/cmVzb2x2ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOmtleVByZWZpeCthcmd1bWVudHNbMF07cmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsa2V5KT9jYWNoZVtrZXldOmNhY2hlW2tleV09ZnVuYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBtZW1vaXplZC5jYWNoZT17fSxtZW1vaXplZH1mdW5jdGlvbiBvbmNlKGZ1bmMpe3ZhciByYW4scmVzdWx0O2lmKCFpc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHJhbj9yZXN1bHQ6KHJhbj0hMCxyZXN1bHQ9ZnVuYy5hcHBseSh0aGlzLGFyZ3VtZW50cyksZnVuYz1udWxsLHJlc3VsdCl9fWZ1bmN0aW9uIHBhcnRpYWwoZnVuYyl7cmV0dXJuIGNyZWF0ZVdyYXBwZXIoZnVuYywxNixzbGljZShhcmd1bWVudHMsMSkpfWZ1bmN0aW9uIHBhcnRpYWxSaWdodChmdW5jKXtyZXR1cm4gY3JlYXRlV3JhcHBlcihmdW5jLDMyLG51bGwsc2xpY2UoYXJndW1lbnRzLDEpKX1mdW5jdGlvbiB0aHJvdHRsZShmdW5jLHdhaXQsb3B0aW9ucyl7dmFyIGxlYWRpbmc9ITAsdHJhaWxpbmc9ITA7aWYoIWlzRnVuY3Rpb24oZnVuYykpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gb3B0aW9ucz09PSExP2xlYWRpbmc9ITE6aXNPYmplY3Qob3B0aW9ucykmJihsZWFkaW5nPSJsZWFkaW5nImluIG9wdGlvbnM/b3B0aW9ucy5sZWFkaW5nOmxlYWRpbmcsdHJhaWxpbmc9InRyYWlsaW5nImluIG9wdGlvbnM/b3B0aW9ucy50cmFpbGluZzp0cmFpbGluZyksZGVib3VuY2VPcHRpb25zLmxlYWRpbmc9bGVhZGluZyxkZWJvdW5jZU9wdGlvbnMubWF4V2FpdD13YWl0LGRlYm91bmNlT3B0aW9ucy50cmFpbGluZz10cmFpbGluZyxkZWJvdW5jZShmdW5jLHdhaXQsZGVib3VuY2VPcHRpb25zKX1mdW5jdGlvbiB3cmFwKHZhbHVlLHdyYXBwZXIpe3JldHVybiBjcmVhdGVXcmFwcGVyKHdyYXBwZXIsMTYsW3ZhbHVlXSl9ZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2YWx1ZX19ZnVuY3Rpb24gY3JlYXRlQ2FsbGJhY2soZnVuYyx0aGlzQXJnLGFyZ0NvdW50KXt2YXIgdHlwZT10eXBlb2YgZnVuYztpZihudWxsPT1mdW5jfHwiZnVuY3Rpb24iPT10eXBlKXJldHVybiBiYXNlQ3JlYXRlQ2FsbGJhY2soZnVuYyx0aGlzQXJnLGFyZ0NvdW50KTtpZigib2JqZWN0IiE9dHlwZSlyZXR1cm4gcHJvcGVydHkoZnVuYyk7dmFyIHByb3BzPWtleXMoZnVuYyksa2V5PXByb3BzWzBdLGE9ZnVuY1trZXldO3JldHVybiAxIT1wcm9wcy5sZW5ndGh8fGEhPT1hfHxpc09iamVjdChhKT9mdW5jdGlvbihvYmplY3Qpe2Zvcih2YXIgbGVuZ3RoPXByb3BzLmxlbmd0aCxyZXN1bHQ9ITE7bGVuZ3RoLS0mJihyZXN1bHQ9YmFzZUlzRXF1YWwob2JqZWN0W3Byb3BzW2xlbmd0aF1dLGZ1bmNbcHJvcHNbbGVuZ3RoXV0sbnVsbCwhMCkpOyk7cmV0dXJuIHJlc3VsdH06ZnVuY3Rpb24ob2JqZWN0KXt2YXIgYj1vYmplY3Rba2V5XTtyZXR1cm4gYT09PWImJigwIT09YXx8MS9hPT0xL2IpfX1mdW5jdGlvbiBlc2NhcGUoc3RyaW5nKXtyZXR1cm4gbnVsbD09c3RyaW5nPyIiOlN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLGVzY2FwZUh0bWxDaGFyKX1mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSl7cmV0dXJuIHZhbHVlfWZ1bmN0aW9uIG1peGluKG9iamVjdCxzb3VyY2Usb3B0aW9ucyl7dmFyIGNoYWluPSEwLG1ldGhvZE5hbWVzPXNvdXJjZSYmZnVuY3Rpb25zKHNvdXJjZSk7c291cmNlJiYob3B0aW9uc3x8bWV0aG9kTmFtZXMubGVuZ3RoKXx8KG51bGw9PW9wdGlvbnMmJihvcHRpb25zPXNvdXJjZSksY3Rvcj1sb2Rhc2hXcmFwcGVyLHNvdXJjZT1vYmplY3Qsb2JqZWN0PWxvZGFzaCxtZXRob2ROYW1lcz1mdW5jdGlvbnMoc291cmNlKSksb3B0aW9ucz09PSExP2NoYWluPSExOmlzT2JqZWN0KG9wdGlvbnMpJiYiY2hhaW4iaW4gb3B0aW9ucyYmKGNoYWluPW9wdGlvbnMuY2hhaW4pO3ZhciBjdG9yPW9iamVjdCxpc0Z1bmM9aXNGdW5jdGlvbihjdG9yKTtmb3JFYWNoKG1ldGhvZE5hbWVzLGZ1bmN0aW9uKG1ldGhvZE5hbWUpe3ZhciBmdW5jPW9iamVjdFttZXRob2ROYW1lXT1zb3VyY2VbbWV0aG9kTmFtZV07aXNGdW5jJiYoY3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV09ZnVuY3Rpb24oKXt2YXIgY2hhaW5BbGw9dGhpcy5fX2NoYWluX18sdmFsdWU9dGhpcy5fX3dyYXBwZWRfXyxhcmdzPVt2YWx1ZV07cHVzaC5hcHBseShhcmdzLGFyZ3VtZW50cyk7dmFyIHJlc3VsdD1mdW5jLmFwcGx5KG9iamVjdCxhcmdzKTtpZihjaGFpbnx8Y2hhaW5BbGwpe2lmKHZhbHVlPT09cmVzdWx0JiZpc09iamVjdChyZXN1bHQpKXJldHVybiB0aGlzO3Jlc3VsdD1uZXcgY3RvcihyZXN1bHQpLHJlc3VsdC5fX2NoYWluX189Y2hhaW5BbGx9cmV0dXJuIHJlc3VsdH0pfSl9ZnVuY3Rpb24gbm9Db25mbGljdCgpe3JldHVybiBjb250ZXh0Ll89b2xkRGFzaCx0aGlzfWZ1bmN0aW9uIG5vb3AoKXt9ZnVuY3Rpb24gcHJvcGVydHkoa2V5KXtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0W2tleV19fWZ1bmN0aW9uIHJhbmRvbShtaW4sbWF4LGZsb2F0aW5nKXt2YXIgbm9NaW49bnVsbD09bWluLG5vTWF4PW51bGw9PW1heDtpZihudWxsPT1mbG9hdGluZyYmKCJib29sZWFuIj09dHlwZW9mIG1pbiYmbm9NYXg/KGZsb2F0aW5nPW1pbixtaW49MSk6bm9NYXh8fCJib29sZWFuIiE9dHlwZW9mIG1heHx8KGZsb2F0aW5nPW1heCxub01heD0hMCkpLG5vTWluJiZub01heCYmKG1heD0xKSxtaW49K21pbnx8MCxub01heD8obWF4PW1pbixtaW49MCk6bWF4PSttYXh8fDAsZmxvYXRpbmd8fG1pbiUxfHxtYXglMSl7dmFyIHJhbmQ9bmF0aXZlUmFuZG9tKCk7cmV0dXJuIG5hdGl2ZU1pbihtaW4rcmFuZCoobWF4LW1pbitwYXJzZUZsb2F0KCIxZS0iKygocmFuZCsiIikubGVuZ3RoLTEpKSksbWF4KX1yZXR1cm4gYmFzZVJhbmRvbShtaW4sbWF4KX1mdW5jdGlvbiByZXN1bHQob2JqZWN0LGtleSl7aWYob2JqZWN0KXt2YXIgdmFsdWU9b2JqZWN0W2tleV07cmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpP29iamVjdFtrZXldKCk6dmFsdWV9fWZ1bmN0aW9uIHRlbXBsYXRlKHRleHQsZGF0YSxvcHRpb25zKXt2YXIgc2V0dGluZ3M9bG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7dGV4dD1TdHJpbmcodGV4dHx8IiIpLG9wdGlvbnM9ZGVmYXVsdHMoe30sb3B0aW9ucyxzZXR0aW5ncyk7dmFyIGlzRXZhbHVhdGluZyxpbXBvcnRzPWRlZmF1bHRzKHt9LG9wdGlvbnMuaW1wb3J0cyxzZXR0aW5ncy5pbXBvcnRzKSxpbXBvcnRzS2V5cz1rZXlzKGltcG9ydHMpLGltcG9ydHNWYWx1ZXM9dmFsdWVzKGltcG9ydHMpLGluZGV4PTAsaW50ZXJwb2xhdGU9b3B0aW9ucy5pbnRlcnBvbGF0ZXx8cmVOb01hdGNoLHNvdXJjZT0iX19wICs9ICciLHJlRGVsaW1pdGVycz1SZWdFeHAoKG9wdGlvbnMuZXNjYXBlfHxyZU5vTWF0Y2gpLnNvdXJjZSsifCIraW50ZXJwb2xhdGUuc291cmNlKyJ8IisoaW50ZXJwb2xhdGU9PT1yZUludGVycG9sYXRlP3JlRXNUZW1wbGF0ZTpyZU5vTWF0Y2gpLnNvdXJjZSsifCIrKG9wdGlvbnMuZXZhbHVhdGV8fHJlTm9NYXRjaCkuc291cmNlKyJ8JCIsImciKTt0ZXh0LnJlcGxhY2UocmVEZWxpbWl0ZXJzLGZ1bmN0aW9uKG1hdGNoLGVzY2FwZVZhbHVlLGludGVycG9sYXRlVmFsdWUsZXNUZW1wbGF0ZVZhbHVlLGV2YWx1YXRlVmFsdWUsb2Zmc2V0KXtyZXR1cm4gaW50ZXJwb2xhdGVWYWx1ZXx8KGludGVycG9sYXRlVmFsdWU9ZXNUZW1wbGF0ZVZhbHVlKSxzb3VyY2UrPXRleHQuc2xpY2UoaW5kZXgsb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLGVzY2FwZVN0cmluZ0NoYXIpLGVzY2FwZVZhbHVlJiYoc291cmNlKz0iJyArXG5fX2UoIitlc2NhcGVWYWx1ZSsiKSArXG4nIiksZXZhbHVhdGVWYWx1ZSYmKGlzRXZhbHVhdGluZz0hMCxzb3VyY2UrPSInO1xuIitldmFsdWF0ZVZhbHVlKyI7XG5fX3AgKz0gJyIpLGludGVycG9sYXRlVmFsdWUmJihzb3VyY2UrPSInICtcbigoX190ID0gKCIraW50ZXJwb2xhdGVWYWx1ZSsiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXG4nIiksaW5kZXg9b2Zmc2V0K21hdGNoLmxlbmd0aCxtYXRjaH0pLHNvdXJjZSs9Iic7XG4iO3ZhciB2YXJpYWJsZT1vcHRpb25zLnZhcmlhYmxlLGhhc1ZhcmlhYmxlPXZhcmlhYmxlO2hhc1ZhcmlhYmxlfHwodmFyaWFibGU9Im9iaiIsc291cmNlPSJ3aXRoICgiK3ZhcmlhYmxlKyIpIHtcbiIrc291cmNlKyJcbn1cbiIpLHNvdXJjZT0oaXNFdmFsdWF0aW5nP3NvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCIiKTpzb3VyY2UpLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwiJDEiKS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywiJDE7Iiksc291cmNlPSJmdW5jdGlvbigiK3ZhcmlhYmxlKyIpIHtcbiIrKGhhc1ZhcmlhYmxlPyIiOnZhcmlhYmxlKyIgfHwgKCIrdmFyaWFibGUrIiA9IHt9KTtcbiIpKyJ2YXIgX190LCBfX3AgPSAnJywgX19lID0gXy5lc2NhcGUiKyhpc0V2YWx1YXRpbmc/IiwgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XG5mdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cbiI6IjtcbiIpK3NvdXJjZSsicmV0dXJuIF9fcFxufSI7dmFyIHNvdXJjZVVSTD0iXG4vKlxuLy8jIHNvdXJjZVVSTD0iKyhvcHRpb25zLnNvdXJjZVVSTHx8Ii9sb2Rhc2gvdGVtcGxhdGUvc291cmNlWyIrdGVtcGxhdGVDb3VudGVyKysgKyJdIikrIlxuKi8iO3RyeXt2YXIgcmVzdWx0PUZ1bmN0aW9uKGltcG9ydHNLZXlzLCJyZXR1cm4gIitzb3VyY2Urc291cmNlVVJMKS5hcHBseSh1bmRlZmluZWQsaW1wb3J0c1ZhbHVlcyl9Y2F0Y2goZSl7dGhyb3cgZS5zb3VyY2U9c291cmNlLGV9cmV0dXJuIGRhdGE/cmVzdWx0KGRhdGEpOihyZXN1bHQuc291cmNlPXNvdXJjZSxyZXN1bHQpfWZ1bmN0aW9uIHRpbWVzKG4sY2FsbGJhY2ssdGhpc0FyZyl7bj0obj0rbik+LTE/bjowO3ZhciBpbmRleD0tMSxyZXN1bHQ9QXJyYXkobik7Zm9yKGNhbGxiYWNrPWJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjayx0aGlzQXJnLDEpOysraW5kZXg8bjspcmVzdWx0W2luZGV4XT1jYWxsYmFjayhpbmRleCk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiB1bmVzY2FwZShzdHJpbmcpe3JldHVybiBudWxsPT1zdHJpbmc/IiI6U3RyaW5nKHN0cmluZykucmVwbGFjZShyZUVzY2FwZWRIdG1sLHVuZXNjYXBlSHRtbENoYXIpfWZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCl7dmFyIGlkPSsraWRDb3VudGVyO3JldHVybiBTdHJpbmcobnVsbD09cHJlZml4PyIiOnByZWZpeCkraWR9ZnVuY3Rpb24gY2hhaW4odmFsdWUpe3JldHVybiB2YWx1ZT1uZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSksdmFsdWUuX19jaGFpbl9fPSEwLHZhbHVlfWZ1bmN0aW9uIHRhcCh2YWx1ZSxpbnRlcmNlcHRvcil7cmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKSx2YWx1ZX1mdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKXtyZXR1cm4gdGhpcy5fX2NoYWluX189ITAsdGhpc31mdW5jdGlvbiB3cmFwcGVyVG9TdHJpbmcoKXtyZXR1cm4gU3RyaW5nKHRoaXMuX193cmFwcGVkX18pfWZ1bmN0aW9uIHdyYXBwZXJWYWx1ZU9mKCl7cmV0dXJuIHRoaXMuX193cmFwcGVkX199Y29udGV4dD1jb250ZXh0P18uZGVmYXVsdHMocm9vdC5PYmplY3QoKSxjb250ZXh0LF8ucGljayhyb290LGNvbnRleHRQcm9wcykpOnJvb3Q7dmFyIEFycmF5PWNvbnRleHQuQXJyYXksQm9vbGVhbj1jb250ZXh0LkJvb2xlYW4sRGF0ZT1jb250ZXh0LkRhdGUsRXJyb3I9Y29udGV4dC5FcnJvcixGdW5jdGlvbj1jb250ZXh0LkZ1bmN0aW9uLE1hdGg9Y29udGV4dC5NYXRoLE51bWJlcj1jb250ZXh0Lk51bWJlcixPYmplY3Q9Y29udGV4dC5PYmplY3QsUmVnRXhwPWNvbnRleHQuUmVnRXhwLFN0cmluZz1jb250ZXh0LlN0cmluZyxUeXBlRXJyb3I9Y29udGV4dC5UeXBlRXJyb3IsYXJyYXlSZWY9W10sZXJyb3JQcm90bz1FcnJvci5wcm90b3R5cGUsb2JqZWN0UHJvdG89T2JqZWN0LnByb3RvdHlwZSxzdHJpbmdQcm90bz1TdHJpbmcucHJvdG90eXBlLG9sZERhc2g9Y29udGV4dC5fLHRvU3RyaW5nPW9iamVjdFByb3RvLnRvU3RyaW5nLHJlTmF0aXZlPVJlZ0V4cCgiXiIrU3RyaW5nKHRvU3RyaW5nKS5yZXBsYWNlKC9bLiorP14ke30oKXxbXF1cXF0vZywiXFwkJiIpLnJlcGxhY2UoL3RvU3RyaW5nfCBmb3IgW15cXV0rL2csIi4qPyIpKyIkIiksY2VpbD1NYXRoLmNlaWwsY2xlYXJUaW1lb3V0PWNvbnRleHQuY2xlYXJUaW1lb3V0LGZsb29yPU1hdGguZmxvb3IsZm5Ub1N0cmluZz1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsZ2V0UHJvdG90eXBlT2Y9aXNOYXRpdmUoZ2V0UHJvdG90eXBlT2Y9T2JqZWN0LmdldFByb3RvdHlwZU9mKSYmZ2V0UHJvdG90eXBlT2YsaGFzT3duUHJvcGVydHk9b2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHkscHVzaD1hcnJheVJlZi5wdXNoLHByb3BlcnR5SXNFbnVtZXJhYmxlPW9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLHNldFRpbWVvdXQ9Y29udGV4dC5zZXRUaW1lb3V0LHNwbGljZT1hcnJheVJlZi5zcGxpY2UsdW5zaGlmdD1hcnJheVJlZi51bnNoaWZ0LGRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKCl7dHJ5e3ZhciBvPXt9LGZ1bmM9aXNOYXRpdmUoZnVuYz1PYmplY3QuZGVmaW5lUHJvcGVydHkpJiZmdW5jLHJlc3VsdD1mdW5jKG8sbyxvKSYmZnVuY31jYXRjaChlKXt9cmV0dXJuIHJlc3VsdH0oKSxuYXRpdmVDcmVhdGU9aXNOYXRpdmUobmF0aXZlQ3JlYXRlPU9iamVjdC5jcmVhdGUpJiZuYXRpdmVDcmVhdGUsbmF0aXZlSXNBcnJheT1pc05hdGl2ZShuYXRpdmVJc0FycmF5PUFycmF5LmlzQXJyYXkpJiZuYXRpdmVJc0FycmF5LG5hdGl2ZUlzRmluaXRlPWNvbnRleHQuaXNGaW5pdGUsbmF0aXZlSXNOYU49Y29udGV4dC5pc05hTixuYXRpdmVLZXlzPWlzTmF0aXZlKG5hdGl2ZUtleXM9T2JqZWN0LmtleXMpJiZuYXRpdmVLZXlzLG5hdGl2ZU1heD1NYXRoLm1heCxuYXRpdmVNaW49TWF0aC5taW4sbmF0aXZlUGFyc2VJbnQ9Y29udGV4dC5wYXJzZUludCxuYXRpdmVSYW5kb209TWF0aC5yYW5kb20sY3RvckJ5Q2xhc3M9e307Y3RvckJ5Q2xhc3NbYXJyYXlDbGFzc109QXJyYXksY3RvckJ5Q2xhc3NbYm9vbENsYXNzXT1Cb29sZWFuLGN0b3JCeUNsYXNzW2RhdGVDbGFzc109RGF0ZSxjdG9yQnlDbGFzc1tmdW5jQ2xhc3NdPUZ1bmN0aW9uLGN0b3JCeUNsYXNzW29iamVjdENsYXNzXT1PYmplY3QsY3RvckJ5Q2xhc3NbbnVtYmVyQ2xhc3NdPU51bWJlcixjdG9yQnlDbGFzc1tyZWdleHBDbGFzc109UmVnRXhwLGN0b3JCeUNsYXNzW3N0cmluZ0NsYXNzXT1TdHJpbmc7dmFyIG5vbkVudW1Qcm9wcz17fTtub25FbnVtUHJvcHNbYXJyYXlDbGFzc109bm9uRW51bVByb3BzW2RhdGVDbGFzc109bm9uRW51bVByb3BzW251bWJlckNsYXNzXT17Y29uc3RydWN0b3I6ITAsdG9Mb2NhbGVTdHJpbmc6ITAsdG9TdHJpbmc6ITAsdmFsdWVPZjohMH0sbm9uRW51bVByb3BzW2Jvb2xDbGFzc109bm9uRW51bVByb3BzW3N0cmluZ0NsYXNzXT17Y29uc3RydWN0b3I6ITAsdG9TdHJpbmc6ITAsdmFsdWVPZjohMH0sbm9uRW51bVByb3BzW2Vycm9yQ2xhc3NdPW5vbkVudW1Qcm9wc1tmdW5jQ2xhc3NdPW5vbkVudW1Qcm9wc1tyZWdleHBDbGFzc109e2NvbnN0cnVjdG9yOiEwLHRvU3RyaW5nOiEwfSxub25FbnVtUHJvcHNbb2JqZWN0Q2xhc3NdPXtjb25zdHJ1Y3RvcjohMH0sZnVuY3Rpb24oKXtmb3IodmFyIGxlbmd0aD1zaGFkb3dlZFByb3BzLmxlbmd0aDtsZW5ndGgtLTspe3ZhciBrZXk9c2hhZG93ZWRQcm9wc1tsZW5ndGhdO2Zvcih2YXIgY2xhc3NOYW1lIGluIG5vbkVudW1Qcm9wcyloYXNPd25Qcm9wZXJ0eS5jYWxsKG5vbkVudW1Qcm9wcyxjbGFzc05hbWUpJiYhaGFzT3duUHJvcGVydHkuY2FsbChub25FbnVtUHJvcHNbY2xhc3NOYW1lXSxrZXkpJiYobm9uRW51bVByb3BzW2NsYXNzTmFtZV1ba2V5XT0hMSl9fSgpLGxvZGFzaFdyYXBwZXIucHJvdG90eXBlPWxvZGFzaC5wcm90b3R5cGU7dmFyIHN1cHBvcnQ9bG9kYXNoLnN1cHBvcnQ9e307IWZ1bmN0aW9uKCl7dmFyIGN0b3I9ZnVuY3Rpb24oKXt0aGlzLng9MX0sb2JqZWN0PXswOjEsbGVuZ3RoOjF9LHByb3BzPVtdO2N0b3IucHJvdG90eXBlPXt2YWx1ZU9mOjEseToxfTtmb3IodmFyIGtleSBpbiBuZXcgY3Rvcilwcm9wcy5wdXNoKGtleSk7Zm9yKGtleSBpbiBhcmd1bWVudHMpO3N1cHBvcnQuYXJnc0NsYXNzPXRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKT09YXJnc0NsYXNzLHN1cHBvcnQuYXJnc09iamVjdD1hcmd1bWVudHMuY29uc3RydWN0b3I9PU9iamVjdCYmIShhcmd1bWVudHMgaW5zdGFuY2VvZiBBcnJheSksc3VwcG9ydC5lbnVtRXJyb3JQcm9wcz1wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGVycm9yUHJvdG8sIm1lc3NhZ2UiKXx8cHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlcnJvclByb3RvLCJuYW1lIiksc3VwcG9ydC5lbnVtUHJvdG90eXBlcz1wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGN0b3IsInByb3RvdHlwZSIpLHN1cHBvcnQuZnVuY0RlY29tcD0haXNOYXRpdmUoY29udGV4dC5XaW5SVEVycm9yKSYmcmVUaGlzLnRlc3QocnVuSW5Db250ZXh0KSxzdXBwb3J0LmZ1bmNOYW1lcz0ic3RyaW5nIj09dHlwZW9mIEZ1bmN0aW9uLm5hbWUsc3VwcG9ydC5ub25FbnVtQXJncz0wIT1rZXksc3VwcG9ydC5ub25FbnVtU2hhZG93cz0hL3ZhbHVlT2YvLnRlc3QocHJvcHMpLHN1cHBvcnQub3duTGFzdD0ieCIhPXByb3BzWzBdLHN1cHBvcnQuc3BsaWNlT2JqZWN0cz0oYXJyYXlSZWYuc3BsaWNlLmNhbGwob2JqZWN0LDAsMSksIW9iamVjdFswXSksc3VwcG9ydC51bmluZGV4ZWRDaGFycz0ieCJbMF0rT2JqZWN0KCJ4IilbMF0hPSJ4eCI7dHJ5e3N1cHBvcnQubm9kZUNsYXNzPSEodG9TdHJpbmcuY2FsbChkb2N1bWVudCk9PW9iamVjdENsYXNzJiYhKHt0b1N0cmluZzowfSsiIikpfWNhdGNoKGUpe3N1cHBvcnQubm9kZUNsYXNzPSEwfX0oMSksbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M9e2VzY2FwZTovPCUtKFtcc1xTXSs/KSU+L2csZXZhbHVhdGU6LzwlKFtcc1xTXSs/KSU+L2csaW50ZXJwb2xhdGU6cmVJbnRlcnBvbGF0ZSx2YXJpYWJsZToiIixpbXBvcnRzOntfOmxvZGFzaH19O3ZhciBpdGVyYXRvclRlbXBsYXRlPWZ1bmN0aW9uKG9iail7dmFyIF9fcD0idmFyIGluZGV4LCBpdGVyYWJsZSA9ICIrb2JqLmZpcnN0QXJnKyIsIHJlc3VsdCA9ICIrb2JqLmluaXQrIjtcbmlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4iK29iai50b3ArIjsiO29iai5hcnJheT8oX19wKz0iXG52YXIgbGVuZ3RoID0gaXRlcmFibGUubGVuZ3RoOyBpbmRleCA9IC0xO1xuaWYgKCIrb2JqLmFycmF5KyIpIHsgICIsc3VwcG9ydC51bmluZGV4ZWRDaGFycyYmKF9fcCs9IlxuICBpZiAoaXNTdHJpbmcoaXRlcmFibGUpKSB7XG4gICAgaXRlcmFibGUgPSBpdGVyYWJsZS5zcGxpdCgnJylcbiAgfSAgIiksX19wKz0iXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgIitvYmoubG9vcCsiO1xuICB9XG59XG5lbHNlIHsgICIpOnN1cHBvcnQubm9uRW51bUFyZ3MmJihfX3ArPSJcbiAgdmFyIGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0aDsgaW5kZXggPSAtMTtcbiAgaWYgKGxlbmd0aCAmJiBpc0FyZ3VtZW50cyhpdGVyYWJsZSkpIHtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaW5kZXggKz0gJyc7XG4gICAgICAiK29iai5sb29wKyI7XG4gICAgfVxuICB9IGVsc2UgeyAgIiksc3VwcG9ydC5lbnVtUHJvdG90eXBlcyYmKF9fcCs9IlxuICB2YXIgc2tpcFByb3RvID0gdHlwZW9mIGl0ZXJhYmxlID09ICdmdW5jdGlvbic7XG4gICIpLHN1cHBvcnQuZW51bUVycm9yUHJvcHMmJihfX3ArPSJcbiAgdmFyIHNraXBFcnJvclByb3BzID0gaXRlcmFibGUgPT09IGVycm9yUHJvdG8gfHwgaXRlcmFibGUgaW5zdGFuY2VvZiBFcnJvcjtcbiAgIik7dmFyIGNvbmRpdGlvbnM9W107aWYoc3VwcG9ydC5lbnVtUHJvdG90eXBlcyYmY29uZGl0aW9ucy5wdXNoKCchKHNraXBQcm90byAmJiBpbmRleCA9PSAicHJvdG90eXBlIiknKSxzdXBwb3J0LmVudW1FcnJvclByb3BzJiZjb25kaXRpb25zLnB1c2goJyEoc2tpcEVycm9yUHJvcHMgJiYgKGluZGV4ID09ICJtZXNzYWdlIiB8fCBpbmRleCA9PSAibmFtZSIpKScpLG9iai51c2VIYXMmJm9iai5rZXlzKV9fcCs9IlxuICB2YXIgb3duSW5kZXggPSAtMSxcbiAgICAgIG93blByb3BzID0gb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSAmJiBrZXlzKGl0ZXJhYmxlKSxcbiAgICAgIGxlbmd0aCA9IG93blByb3BzID8gb3duUHJvcHMubGVuZ3RoIDogMDtcblxuICB3aGlsZSAoKytvd25JbmRleCA8IGxlbmd0aCkge1xuICAgIGluZGV4ID0gb3duUHJvcHNbb3duSW5kZXhdO1xuIixjb25kaXRpb25zLmxlbmd0aCYmKF9fcCs9IiAgICBpZiAoIitjb25kaXRpb25zLmpvaW4oIiAmJiAiKSsiKSB7XG4gICIpLF9fcCs9b2JqLmxvb3ArIjsgICAgIixjb25kaXRpb25zLmxlbmd0aCYmKF9fcCs9IlxuICAgIH0iKSxfX3ArPSJcbiAgfSAgIjtlbHNlIGlmKF9fcCs9IlxuICBmb3IgKGluZGV4IGluIGl0ZXJhYmxlKSB7XG4iLG9iai51c2VIYXMmJmNvbmRpdGlvbnMucHVzaCgiaGFzT3duUHJvcGVydHkuY2FsbChpdGVyYWJsZSwgaW5kZXgpIiksY29uZGl0aW9ucy5sZW5ndGgmJihfX3ArPSIgICAgaWYgKCIrY29uZGl0aW9ucy5qb2luKCIgJiYgIikrIikge1xuICAiKSxfX3ArPW9iai5sb29wKyI7ICAgICIsY29uZGl0aW9ucy5sZW5ndGgmJihfX3ArPSJcbiAgICB9IiksX19wKz0iXG4gIH0gICAgIixzdXBwb3J0Lm5vbkVudW1TaGFkb3dzKXtmb3IoX19wKz0iXG5cbiAgaWYgKGl0ZXJhYmxlICE9PSBvYmplY3RQcm90bykge1xuICAgIHZhciBjdG9yID0gaXRlcmFibGUuY29uc3RydWN0b3IsXG4gICAgICAgIGlzUHJvdG8gPSBpdGVyYWJsZSA9PT0gKGN0b3IgJiYgY3Rvci5wcm90b3R5cGUpLFxuICAgICAgICBjbGFzc05hbWUgPSBpdGVyYWJsZSA9PT0gc3RyaW5nUHJvdG8gPyBzdHJpbmdDbGFzcyA6IGl0ZXJhYmxlID09PSBlcnJvclByb3RvID8gZXJyb3JDbGFzcyA6IHRvU3RyaW5nLmNhbGwoaXRlcmFibGUpLFxuICAgICAgICBub25FbnVtID0gbm9uRW51bVByb3BzW2NsYXNzTmFtZV07XG4gICAgICAiLGs9MDs3Pms7aysrKV9fcCs9IlxuICAgIGluZGV4ID0gJyIrb2JqLnNoYWRvd2VkUHJvcHNba10rIic7XG4gICAgaWYgKCghKGlzUHJvdG8gJiYgbm9uRW51bVtpbmRleF0pICYmIGhhc093blByb3BlcnR5LmNhbGwoaXRlcmFibGUsIGluZGV4KSkiLG9iai51c2VIYXN8fChfX3ArPSIgfHwgKCFub25FbnVtW2luZGV4XSAmJiBpdGVyYWJsZVtpbmRleF0gIT09IG9iamVjdFByb3RvW2luZGV4XSkiKSxfX3ArPSIpIHtcbiAgICAgICIrb2JqLmxvb3ArIjtcbiAgICB9ICAgICAgIjtfX3ArPSJcbiAgfSAgICAifXJldHVybihvYmouYXJyYXl8fHN1cHBvcnQubm9uRW51bUFyZ3MpJiYoX19wKz0iXG59IiksX19wKz1vYmouYm90dG9tKyI7XG5yZXR1cm4gcmVzdWx0In07bmF0aXZlQ3JlYXRlfHwoYmFzZUNyZWF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIE9iamVjdCgpe31yZXR1cm4gZnVuY3Rpb24ocHJvdG90eXBlKXtpZihpc09iamVjdChwcm90b3R5cGUpKXtPYmplY3QucHJvdG90eXBlPXByb3RvdHlwZTt2YXIgcmVzdWx0PW5ldyBPYmplY3Q7T2JqZWN0LnByb3RvdHlwZT1udWxsfXJldHVybiByZXN1bHR8fGNvbnRleHQuT2JqZWN0KCl9fSgpKTt2YXIgc2V0QmluZERhdGE9ZGVmaW5lUHJvcGVydHk/ZnVuY3Rpb24oZnVuYyx2YWx1ZSl7ZGVzY3JpcHRvci52YWx1ZT12YWx1ZSxkZWZpbmVQcm9wZXJ0eShmdW5jLCJfX2JpbmREYXRhX18iLGRlc2NyaXB0b3IpfTpub29wO3N1cHBvcnQuYXJnc0NsYXNzfHwoaXNBcmd1bWVudHM9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZSYmIm51bWJlciI9PXR5cGVvZiB2YWx1ZS5sZW5ndGgmJmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsImNhbGxlZSIpJiYhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwiY2FsbGVlIil8fCExfSk7dmFyIGlzQXJyYXk9bmF0aXZlSXNBcnJheXx8ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZSYmIm51bWJlciI9PXR5cGVvZiB2YWx1ZS5sZW5ndGgmJnRvU3RyaW5nLmNhbGwodmFsdWUpPT1hcnJheUNsYXNzfHwhMX0sc2hpbUtleXM9Y3JlYXRlSXRlcmF0b3Ioe2FyZ3M6Im9iamVjdCIsaW5pdDoiW10iLHRvcDoiaWYgKCEob2JqZWN0VHlwZXNbdHlwZW9mIG9iamVjdF0pKSByZXR1cm4gcmVzdWx0Iixsb29wOiJyZXN1bHQucHVzaChpbmRleCkifSksa2V5cz1uYXRpdmVLZXlzP2Z1bmN0aW9uKG9iamVjdCl7cmV0dXJuIGlzT2JqZWN0KG9iamVjdCk/c3VwcG9ydC5lbnVtUHJvdG90eXBlcyYmImZ1bmN0aW9uIj09dHlwZW9mIG9iamVjdHx8c3VwcG9ydC5ub25FbnVtQXJncyYmb2JqZWN0Lmxlbmd0aCYmaXNBcmd1bWVudHMob2JqZWN0KT9zaGltS2V5cyhvYmplY3QpOm5hdGl2ZUtleXMob2JqZWN0KTpbXX06c2hpbUtleXMsZWFjaEl0ZXJhdG9yT3B0aW9ucz17YXJnczoiY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmciLHRvcDoiY2FsbGJhY2sgPSBjYWxsYmFjayAmJiB0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKSIsYXJyYXk6InR5cGVvZiBsZW5ndGggPT0gJ251bWJlciciLGtleXM6a2V5cyxsb29wOiJpZiAoY2FsbGJhY2soaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGZhbHNlKSByZXR1cm4gcmVzdWx0In0sZGVmYXVsdHNJdGVyYXRvck9wdGlvbnM9e2FyZ3M6Im9iamVjdCwgc291cmNlLCBndWFyZCIsdG9wOiJ2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICBhcmdzSW5kZXggPSAwLFxuICAgIGFyZ3NMZW5ndGggPSB0eXBlb2YgZ3VhcmQgPT0gJ251bWJlcicgPyAyIDogYXJncy5sZW5ndGg7XG53aGlsZSAoKythcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gIGl0ZXJhYmxlID0gYXJnc1thcmdzSW5kZXhdO1xuICBpZiAoaXRlcmFibGUgJiYgb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSkgeyIsa2V5czprZXlzLGxvb3A6ImlmICh0eXBlb2YgcmVzdWx0W2luZGV4XSA9PSAndW5kZWZpbmVkJykgcmVzdWx0W2luZGV4XSA9IGl0ZXJhYmxlW2luZGV4XSIsYm90dG9tOiIgIH1cbn0ifSxmb3JPd25JdGVyYXRvck9wdGlvbnM9e3RvcDoiaWYgKCFvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSByZXR1cm4gcmVzdWx0O1xuIitlYWNoSXRlcmF0b3JPcHRpb25zLnRvcCxhcnJheTohMX0saHRtbEVzY2FwZXM9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImIzM5OyJ9LGh0bWxVbmVzY2FwZXM9aW52ZXJ0KGh0bWxFc2NhcGVzKSxyZUVzY2FwZWRIdG1sPVJlZ0V4cCgiKCIra2V5cyhodG1sVW5lc2NhcGVzKS5qb2luKCJ8IikrIikiLCJnIikscmVVbmVzY2FwZWRIdG1sPVJlZ0V4cCgiWyIra2V5cyhodG1sRXNjYXBlcykuam9pbigiIikrIl0iLCJnIiksYmFzZUVhY2g9Y3JlYXRlSXRlcmF0b3IoZWFjaEl0ZXJhdG9yT3B0aW9ucyksYXNzaWduPWNyZWF0ZUl0ZXJhdG9yKGRlZmF1bHRzSXRlcmF0b3JPcHRpb25zLHt0b3A6ZGVmYXVsdHNJdGVyYXRvck9wdGlvbnMudG9wLnJlcGxhY2UoIjsiLCI7XG5pZiAoYXJnc0xlbmd0aCA+IDMgJiYgdHlwZW9mIGFyZ3NbYXJnc0xlbmd0aCAtIDJdID09ICdmdW5jdGlvbicpIHtcbiAgdmFyIGNhbGxiYWNrID0gYmFzZUNyZWF0ZUNhbGxiYWNrKGFyZ3NbLS1hcmdzTGVuZ3RoIC0gMV0sIGFyZ3NbYXJnc0xlbmd0aC0tXSwgMik7XG59IGVsc2UgaWYgKGFyZ3NMZW5ndGggPiAyICYmIHR5cGVvZiBhcmdzW2FyZ3NMZW5ndGggLSAxXSA9PSAnZnVuY3Rpb24nKSB7XG4gIGNhbGxiYWNrID0gYXJnc1stLWFyZ3NMZW5ndGhdO1xufSIpLGxvb3A6InJlc3VsdFtpbmRleF0gPSBjYWxsYmFjayA/IGNhbGxiYWNrKHJlc3VsdFtpbmRleF0sIGl0ZXJhYmxlW2luZGV4XSkgOiBpdGVyYWJsZVtpbmRleF0ifSksZGVmYXVsdHM9Y3JlYXRlSXRlcmF0b3IoZGVmYXVsdHNJdGVyYXRvck9wdGlvbnMpLGZvckluPWNyZWF0ZUl0ZXJhdG9yKGVhY2hJdGVyYXRvck9wdGlvbnMsZm9yT3duSXRlcmF0b3JPcHRpb25zLHt1c2VIYXM6ITF9KSxmb3JPd249Y3JlYXRlSXRlcmF0b3IoZWFjaEl0ZXJhdG9yT3B0aW9ucyxmb3JPd25JdGVyYXRvck9wdGlvbnMpO2lzRnVuY3Rpb24oL3gvKSYmKGlzRnVuY3Rpb249ZnVuY3Rpb24odmFsdWUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB2YWx1ZSYmdG9TdHJpbmcuY2FsbCh2YWx1ZSk9PWZ1bmNDbGFzc30pO3ZhciBpc1BsYWluT2JqZWN0PWdldFByb3RvdHlwZU9mP2Z1bmN0aW9uKHZhbHVlKXtpZighdmFsdWV8fHRvU3RyaW5nLmNhbGwodmFsdWUpIT1vYmplY3RDbGFzc3x8IXN1cHBvcnQuYXJnc0NsYXNzJiZpc0FyZ3VtZW50cyh2YWx1ZSkpcmV0dXJuITE7dmFyIHZhbHVlT2Y9dmFsdWUudmFsdWVPZixvYmpQcm90bz1pc05hdGl2ZSh2YWx1ZU9mKSYmKG9ialByb3RvPWdldFByb3RvdHlwZU9mKHZhbHVlT2YpKSYmZ2V0UHJvdG90eXBlT2Yob2JqUHJvdG8pO3JldHVybiBvYmpQcm90bz92YWx1ZT09b2JqUHJvdG98fGdldFByb3RvdHlwZU9mKHZhbHVlKT09b2JqUHJvdG86c2hpbUlzUGxhaW5PYmplY3QodmFsdWUpfTpzaGltSXNQbGFpbk9iamVjdCxjb3VudEJ5PWNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LHZhbHVlLGtleSl7aGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsa2V5KT9yZXN1bHRba2V5XSsrOnJlc3VsdFtrZXldPTF9KSxncm91cEJ5PWNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LHZhbHVlLGtleSl7KGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LGtleSk/cmVzdWx0W2tleV06cmVzdWx0W2tleV09W10pLnB1c2godmFsdWUpfSksaW5kZXhCeT1jcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCx2YWx1ZSxrZXkpe3Jlc3VsdFtrZXldPXZhbHVlfSkscGx1Y2s9bWFwLHdoZXJlPWZpbHRlcixub3c9aXNOYXRpdmUobm93PURhdGUubm93KSYmbm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxwYXJzZUludD04PT1uYXRpdmVQYXJzZUludCh3aGl0ZXNwYWNlKyIwOCIpP25hdGl2ZVBhcnNlSW50OmZ1bmN0aW9uKHZhbHVlLHJhZGl4KXtyZXR1cm4gbmF0aXZlUGFyc2VJbnQoaXNTdHJpbmcodmFsdWUpP3ZhbHVlLnJlcGxhY2UocmVMZWFkaW5nU3BhY2VzQW5kWmVyb3MsIiIpOnZhbHVlLHJhZGl4fHwwKX07cmV0dXJuIGxvZGFzaC5hZnRlcj1hZnRlcixsb2Rhc2guYXNzaWduPWFzc2lnbixsb2Rhc2guYXQ9YXQsbG9kYXNoLmJpbmQ9YmluZCxsb2Rhc2guYmluZEFsbD1iaW5kQWxsLGxvZGFzaC5iaW5kS2V5PWJpbmRLZXksbG9kYXNoLmNoYWluPWNoYWluLGxvZGFzaC5jb21wYWN0PWNvbXBhY3QsbG9kYXNoLmNvbXBvc2U9Y29tcG9zZSxsb2Rhc2guY29uc3RhbnQ9Y29uc3RhbnQsbG9kYXNoLmNvdW50Qnk9Y291bnRCeSxsb2Rhc2guY3JlYXRlPWNyZWF0ZSxsb2Rhc2guY3JlYXRlQ2FsbGJhY2s9Y3JlYXRlQ2FsbGJhY2ssbG9kYXNoLmN1cnJ5PWN1cnJ5LGxvZGFzaC5kZWJvdW5jZT1kZWJvdW5jZSxsb2Rhc2guZGVmYXVsdHM9ZGVmYXVsdHMsbG9kYXNoLmRlZmVyPWRlZmVyLGxvZGFzaC5kZWxheT1kZWxheSxsb2Rhc2guZGlmZmVyZW5jZT1kaWZmZXJlbmNlLGxvZGFzaC5maWx0ZXI9ZmlsdGVyLGxvZGFzaC5mbGF0dGVuPWZsYXR0ZW4sbG9kYXNoLmZvckVhY2g9Zm9yRWFjaCxsb2Rhc2guZm9yRWFjaFJpZ2h0PWZvckVhY2hSaWdodCxsb2Rhc2guZm9ySW49Zm9ySW4sbG9kYXNoLmZvckluUmlnaHQ9Zm9ySW5SaWdodCxsb2Rhc2guZm9yT3duPWZvck93bixsb2Rhc2guZm9yT3duUmlnaHQ9Zm9yT3duUmlnaHQsbG9kYXNoLmZ1bmN0aW9ucz1mdW5jdGlvbnMsbG9kYXNoLmdyb3VwQnk9Z3JvdXBCeSxsb2Rhc2guaW5kZXhCeT1pbmRleEJ5LGxvZGFzaC5pbml0aWFsPWluaXRpYWwsbG9kYXNoLmludGVyc2VjdGlvbj1pbnRlcnNlY3Rpb24sbG9kYXNoLmludmVydD1pbnZlcnQsbG9kYXNoLmludm9rZT1pbnZva2UsbG9kYXNoLmtleXM9a2V5cyxsb2Rhc2gubWFwPW1hcCxsb2Rhc2gubWFwVmFsdWVzPW1hcFZhbHVlcyxsb2Rhc2gubWF4PW1heCxsb2Rhc2gubWVtb2l6ZT1tZW1vaXplLGxvZGFzaC5tZXJnZT1tZXJnZSxsb2Rhc2gubWluPW1pbixsb2Rhc2gub21pdD1vbWl0LGxvZGFzaC5vbmNlPW9uY2UsbG9kYXNoLnBhaXJzPXBhaXJzLGxvZGFzaC5wYXJ0aWFsPXBhcnRpYWwsbG9kYXNoLnBhcnRpYWxSaWdodD1wYXJ0aWFsUmlnaHQsbG9kYXNoLnBpY2s9cGljayxsb2Rhc2gucGx1Y2s9cGx1Y2ssbG9kYXNoLnByb3BlcnR5PXByb3BlcnR5LGxvZGFzaC5wdWxsPXB1bGwsbG9kYXNoLnJhbmdlPXJhbmdlLGxvZGFzaC5yZWplY3Q9cmVqZWN0LGxvZGFzaC5yZW1vdmU9cmVtb3ZlLGxvZGFzaC5yZXN0PXJlc3QsbG9kYXNoLnNodWZmbGU9c2h1ZmZsZSxsb2Rhc2guc29ydEJ5PXNvcnRCeSxsb2Rhc2gudGFwPXRhcCxsb2Rhc2gudGhyb3R0bGU9dGhyb3R0bGUsbG9kYXNoLnRpbWVzPXRpbWVzLGxvZGFzaC50b0FycmF5PXRvQXJyYXksbG9kYXNoLnRyYW5zZm9ybT10cmFuc2Zvcm0sbG9kYXNoLnVuaW9uPXVuaW9uLGxvZGFzaC51bmlxPXVuaXEsbG9kYXNoLnZhbHVlcz12YWx1ZXMsbG9kYXNoLndoZXJlPXdoZXJlLGxvZGFzaC53aXRob3V0PXdpdGhvdXQsbG9kYXNoLndyYXA9d3JhcCxsb2Rhc2gueG9yPXhvcixsb2Rhc2guemlwPXppcCxsb2Rhc2guemlwT2JqZWN0PXppcE9iamVjdCxsb2Rhc2guY29sbGVjdD1tYXAsbG9kYXNoLmRyb3A9cmVzdCxsb2Rhc2guZWFjaD1mb3JFYWNoLGxvZGFzaC5lYWNoUmlnaHQ9Zm9yRWFjaFJpZ2h0LGxvZGFzaC5leHRlbmQ9YXNzaWduLGxvZGFzaC5tZXRob2RzPWZ1bmN0aW9ucyxsb2Rhc2gub2JqZWN0PXppcE9iamVjdCxsb2Rhc2guc2VsZWN0PWZpbHRlcixsb2Rhc2gudGFpbD1yZXN0LGxvZGFzaC51bmlxdWU9dW5pcSxsb2Rhc2gudW56aXA9emlwLG1peGluKGxvZGFzaCksbG9kYXNoLmNsb25lPWNsb25lLGxvZGFzaC5jbG9uZURlZXA9Y2xvbmVEZWVwLGxvZGFzaC5jb250YWlucz1jb250YWlucyxsb2Rhc2guZXNjYXBlPWVzY2FwZSxsb2Rhc2guZXZlcnk9ZXZlcnksbG9kYXNoLmZpbmQ9ZmluZCxsb2Rhc2guZmluZEluZGV4PWZpbmRJbmRleCxsb2Rhc2guZmluZEtleT1maW5kS2V5LGxvZGFzaC5maW5kTGFzdD1maW5kTGFzdCxsb2Rhc2guZmluZExhc3RJbmRleD1maW5kTGFzdEluZGV4LGxvZGFzaC5maW5kTGFzdEtleT1maW5kTGFzdEtleSxsb2Rhc2guaGFzPWhhcyxsb2Rhc2guaWRlbnRpdHk9aWRlbnRpdHksbG9kYXNoLmluZGV4T2Y9aW5kZXhPZixsb2Rhc2guaXNBcmd1bWVudHM9aXNBcmd1bWVudHMsbG9kYXNoLmlzQXJyYXk9aXNBcnJheSxsb2Rhc2guaXNCb29sZWFuPWlzQm9vbGVhbixsb2Rhc2guaXNEYXRlPWlzRGF0ZSxsb2Rhc2guaXNFbGVtZW50PWlzRWxlbWVudCxsb2Rhc2guaXNFbXB0eT1pc0VtcHR5LGxvZGFzaC5pc0VxdWFsPWlzRXF1YWwsbG9kYXNoLmlzRmluaXRlPWlzRmluaXRlLGxvZGFzaC5pc0Z1bmN0aW9uPWlzRnVuY3Rpb24sbG9kYXNoLmlzTmFOPWlzTmFOLGxvZGFzaC5pc051bGw9aXNOdWxsLGxvZGFzaC5pc051bWJlcj1pc051bWJlcixsb2Rhc2guaXNPYmplY3Q9aXNPYmplY3QsbG9kYXNoLmlzUGxhaW5PYmplY3Q9aXNQbGFpbk9iamVjdCxsb2Rhc2guaXNSZWdFeHA9aXNSZWdFeHAsbG9kYXNoLmlzU3RyaW5nPWlzU3RyaW5nLGxvZGFzaC5pc1VuZGVmaW5lZD1pc1VuZGVmaW5lZCxsb2Rhc2gubGFzdEluZGV4T2Y9bGFzdEluZGV4T2YsbG9kYXNoLm1peGluPW1peGluLGxvZGFzaC5ub0NvbmZsaWN0PW5vQ29uZmxpY3QsbG9kYXNoLm5vb3A9bm9vcCxsb2Rhc2gubm93PW5vdyxsb2Rhc2gucGFyc2VJbnQ9cGFyc2VJbnQsbG9kYXNoLnJhbmRvbT1yYW5kb20sbG9kYXNoLnJlZHVjZT1yZWR1Y2UsbG9kYXNoLnJlZHVjZVJpZ2h0PXJlZHVjZVJpZ2h0LGxvZGFzaC5yZXN1bHQ9cmVzdWx0LGxvZGFzaC5ydW5JbkNvbnRleHQ9cnVuSW5Db250ZXh0LGxvZGFzaC5zaXplPXNpemUsbG9kYXNoLnNvbWU9c29tZSxsb2Rhc2guc29ydGVkSW5kZXg9c29ydGVkSW5kZXgsbG9kYXNoLnRlbXBsYXRlPXRlbXBsYXRlLGxvZGFzaC51bmVzY2FwZT11bmVzY2FwZSxsb2Rhc2gudW5pcXVlSWQ9dW5pcXVlSWQsbG9kYXNoLmFsbD1ldmVyeSxsb2Rhc2guYW55PXNvbWUsbG9kYXNoLmRldGVjdD1maW5kLGxvZGFzaC5maW5kV2hlcmU9ZmluZCxsb2Rhc2guZm9sZGw9cmVkdWNlLGxvZGFzaC5mb2xkcj1yZWR1Y2VSaWdodCxsb2Rhc2guaW5jbHVkZT1jb250YWlucyxsb2Rhc2guaW5qZWN0PXJlZHVjZSxtaXhpbihmdW5jdGlvbigpe3ZhciBzb3VyY2U9e307CnJldHVybiBmb3JPd24obG9kYXNoLGZ1bmN0aW9uKGZ1bmMsbWV0aG9kTmFtZSl7bG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXXx8KHNvdXJjZVttZXRob2ROYW1lXT1mdW5jKX0pLHNvdXJjZX0oKSwhMSksbG9kYXNoLmZpcnN0PWZpcnN0LGxvZGFzaC5sYXN0PWxhc3QsbG9kYXNoLnNhbXBsZT1zYW1wbGUsbG9kYXNoLnRha2U9Zmlyc3QsbG9kYXNoLmhlYWQ9Zmlyc3QsZm9yT3duKGxvZGFzaCxmdW5jdGlvbihmdW5jLG1ldGhvZE5hbWUpe3ZhciBjYWxsYmFja2FibGU9InNhbXBsZSIhPT1tZXRob2ROYW1lO2xvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV18fChsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdPWZ1bmN0aW9uKG4sZ3VhcmQpe3ZhciBjaGFpbkFsbD10aGlzLl9fY2hhaW5fXyxyZXN1bHQ9ZnVuYyh0aGlzLl9fd3JhcHBlZF9fLG4sZ3VhcmQpO3JldHVybiBjaGFpbkFsbHx8bnVsbCE9biYmKCFndWFyZHx8Y2FsbGJhY2thYmxlJiYiZnVuY3Rpb24iPT10eXBlb2Ygbik/bmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LGNoYWluQWxsKTpyZXN1bHR9KX0pLGxvZGFzaC5WRVJTSU9OPSIyLjQuMSIsbG9kYXNoLnByb3RvdHlwZS5jaGFpbj13cmFwcGVyQ2hhaW4sbG9kYXNoLnByb3RvdHlwZS50b1N0cmluZz13cmFwcGVyVG9TdHJpbmcsbG9kYXNoLnByb3RvdHlwZS52YWx1ZT13cmFwcGVyVmFsdWVPZixsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2Y9d3JhcHBlclZhbHVlT2YsYmFzZUVhY2goWyJqb2luIiwicG9wIiwic2hpZnQiXSxmdW5jdGlvbihtZXRob2ROYW1lKXt2YXIgZnVuYz1hcnJheVJlZlttZXRob2ROYW1lXTtsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdPWZ1bmN0aW9uKCl7dmFyIGNoYWluQWxsPXRoaXMuX19jaGFpbl9fLHJlc3VsdD1mdW5jLmFwcGx5KHRoaXMuX193cmFwcGVkX18sYXJndW1lbnRzKTtyZXR1cm4gY2hhaW5BbGw/bmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LGNoYWluQWxsKTpyZXN1bHR9fSksYmFzZUVhY2goWyJwdXNoIiwicmV2ZXJzZSIsInNvcnQiLCJ1bnNoaWZ0Il0sZnVuY3Rpb24obWV0aG9kTmFtZSl7dmFyIGZ1bmM9YXJyYXlSZWZbbWV0aG9kTmFtZV07bG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXT1mdW5jdGlvbigpe3JldHVybiBmdW5jLmFwcGx5KHRoaXMuX193cmFwcGVkX18sYXJndW1lbnRzKSx0aGlzfX0pLGJhc2VFYWNoKFsiY29uY2F0Iiwic2xpY2UiLCJzcGxpY2UiXSxmdW5jdGlvbihtZXRob2ROYW1lKXt2YXIgZnVuYz1hcnJheVJlZlttZXRob2ROYW1lXTtsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsb2Rhc2hXcmFwcGVyKGZ1bmMuYXBwbHkodGhpcy5fX3dyYXBwZWRfXyxhcmd1bWVudHMpLHRoaXMuX19jaGFpbl9fKX19KSxzdXBwb3J0LnNwbGljZU9iamVjdHN8fGJhc2VFYWNoKFsicG9wIiwic2hpZnQiLCJzcGxpY2UiXSxmdW5jdGlvbihtZXRob2ROYW1lKXt2YXIgZnVuYz1hcnJheVJlZlttZXRob2ROYW1lXSxpc1NwbGljZT0ic3BsaWNlIj09bWV0aG9kTmFtZTtsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdPWZ1bmN0aW9uKCl7dmFyIGNoYWluQWxsPXRoaXMuX19jaGFpbl9fLHZhbHVlPXRoaXMuX193cmFwcGVkX18scmVzdWx0PWZ1bmMuYXBwbHkodmFsdWUsYXJndW1lbnRzKTtyZXR1cm4gMD09PXZhbHVlLmxlbmd0aCYmZGVsZXRlIHZhbHVlWzBdLGNoYWluQWxsfHxpc1NwbGljZT9uZXcgbG9kYXNoV3JhcHBlcihyZXN1bHQsY2hhaW5BbGwpOnJlc3VsdH19KSxsb2Rhc2h9dmFyIHVuZGVmaW5lZCxhcnJheVBvb2w9W10sb2JqZWN0UG9vbD1bXSxpZENvdW50ZXI9MCxpbmRpY2F0b3JPYmplY3Q9e30sa2V5UHJlZml4PStuZXcgRGF0ZSsiIixsYXJnZUFycmF5U2l6ZT03NSxtYXhQb29sU2l6ZT00MCx3aGl0ZXNwYWNlPSIgCQtcZsKg77u/XG5cclx1MjAyOFx1MjAyOeGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgCIscmVFbXB0eVN0cmluZ0xlYWRpbmc9L1xiX19wIFwrPSAnJzsvZyxyZUVtcHR5U3RyaW5nTWlkZGxlPS9cYihfX3AgXCs9KSAnJyBcKy9nLHJlRW1wdHlTdHJpbmdUcmFpbGluZz0vKF9fZVwoLio/XCl8XGJfX3RcKSkgXCtcbicnOy9nLHJlRXNUZW1wbGF0ZT0vXCRceyhbXlxcfV0qKD86XFwuW15cXH1dKikqKVx9L2cscmVGbGFncz0vXHcqJC8scmVGdW5jTmFtZT0vXlxzKmZ1bmN0aW9uWyBcblxyXHRdK1x3LyxyZUludGVycG9sYXRlPS88JT0oW1xzXFNdKz8pJT4vZyxyZUxlYWRpbmdTcGFjZXNBbmRaZXJvcz1SZWdFeHAoIl5bIit3aGl0ZXNwYWNlKyJdKjArKD89LiQpIikscmVOb01hdGNoPS8oJF4pLyxyZVRoaXM9L1xidGhpc1xiLyxyZVVuZXNjYXBlZFN0cmluZz0vWydcblxyXHRcdTIwMjhcdTIwMjlcXF0vZyxjb250ZXh0UHJvcHM9WyJBcnJheSIsIkJvb2xlYW4iLCJEYXRlIiwiRXJyb3IiLCJGdW5jdGlvbiIsIk1hdGgiLCJOdW1iZXIiLCJPYmplY3QiLCJSZWdFeHAiLCJTdHJpbmciLCJfIiwiYXR0YWNoRXZlbnQiLCJjbGVhclRpbWVvdXQiLCJpc0Zpbml0ZSIsImlzTmFOIiwicGFyc2VJbnQiLCJzZXRUaW1lb3V0Il0sc2hhZG93ZWRQcm9wcz1bImNvbnN0cnVjdG9yIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xvY2FsZVN0cmluZyIsInRvU3RyaW5nIiwidmFsdWVPZiJdLHRlbXBsYXRlQ291bnRlcj0wLGFyZ3NDbGFzcz0iW29iamVjdCBBcmd1bWVudHNdIixhcnJheUNsYXNzPSJbb2JqZWN0IEFycmF5XSIsYm9vbENsYXNzPSJbb2JqZWN0IEJvb2xlYW5dIixkYXRlQ2xhc3M9IltvYmplY3QgRGF0ZV0iLGVycm9yQ2xhc3M9IltvYmplY3QgRXJyb3JdIixmdW5jQ2xhc3M9IltvYmplY3QgRnVuY3Rpb25dIixudW1iZXJDbGFzcz0iW29iamVjdCBOdW1iZXJdIixvYmplY3RDbGFzcz0iW29iamVjdCBPYmplY3RdIixyZWdleHBDbGFzcz0iW29iamVjdCBSZWdFeHBdIixzdHJpbmdDbGFzcz0iW29iamVjdCBTdHJpbmddIixjbG9uZWFibGVDbGFzc2VzPXt9O2Nsb25lYWJsZUNsYXNzZXNbZnVuY0NsYXNzXT0hMSxjbG9uZWFibGVDbGFzc2VzW2FyZ3NDbGFzc109Y2xvbmVhYmxlQ2xhc3Nlc1thcnJheUNsYXNzXT1jbG9uZWFibGVDbGFzc2VzW2Jvb2xDbGFzc109Y2xvbmVhYmxlQ2xhc3Nlc1tkYXRlQ2xhc3NdPWNsb25lYWJsZUNsYXNzZXNbbnVtYmVyQ2xhc3NdPWNsb25lYWJsZUNsYXNzZXNbb2JqZWN0Q2xhc3NdPWNsb25lYWJsZUNsYXNzZXNbcmVnZXhwQ2xhc3NdPWNsb25lYWJsZUNsYXNzZXNbc3RyaW5nQ2xhc3NdPSEwO3ZhciBkZWJvdW5jZU9wdGlvbnM9e2xlYWRpbmc6ITEsbWF4V2FpdDowLHRyYWlsaW5nOiExfSxkZXNjcmlwdG9yPXtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTpudWxsLHdyaXRhYmxlOiExfSxpdGVyYXRvckRhdGE9e2FyZ3M6IiIsYXJyYXk6bnVsbCxib3R0b206IiIsZmlyc3RBcmc6IiIsaW5pdDoiIixrZXlzOm51bGwsbG9vcDoiIixzaGFkb3dlZFByb3BzOm51bGwsc3VwcG9ydDpudWxsLHRvcDoiIix1c2VIYXM6ITF9LG9iamVjdFR5cGVzPXsiYm9vbGVhbiI6ITEsImZ1bmN0aW9uIjohMCxvYmplY3Q6ITAsbnVtYmVyOiExLHN0cmluZzohMSx1bmRlZmluZWQ6ITF9LHN0cmluZ0VzY2FwZXM9eyJcXCI6IlxcIiwiJyI6IiciLCJcbiI6Im4iLCJcciI6InIiLCIJIjoidCIsIlx1MjAyOCI6InUyMDI4IiwiXHUyMDI5IjoidTIwMjkifSxyb290PW9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddJiZ3aW5kb3d8fHRoaXMsZnJlZUV4cG9ydHM9b2JqZWN0VHlwZXNbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxmcmVlTW9kdWxlPW9iamVjdFR5cGVzW3R5cGVvZiBtb2R1bGVdJiZtb2R1bGUmJiFtb2R1bGUubm9kZVR5cGUmJm1vZHVsZSxtb2R1bGVFeHBvcnRzPWZyZWVNb2R1bGUmJmZyZWVNb2R1bGUuZXhwb3J0cz09PWZyZWVFeHBvcnRzJiZmcmVlRXhwb3J0cyxmcmVlR2xvYmFsPW9iamVjdFR5cGVzW3R5cGVvZiBnbG9iYWxdJiZnbG9iYWw7IWZyZWVHbG9iYWx8fGZyZWVHbG9iYWwuZ2xvYmFsIT09ZnJlZUdsb2JhbCYmZnJlZUdsb2JhbC53aW5kb3chPT1mcmVlR2xvYmFsfHwocm9vdD1mcmVlR2xvYmFsKTt2YXIgXz1ydW5JbkNvbnRleHQoKTsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiYib2JqZWN0Ij09dHlwZW9mIGRlZmluZS5hbWQmJmRlZmluZS5hbWQ/KHJvb3QuXz1fLGRlZmluZShmdW5jdGlvbigpe3JldHVybiBffSkpOmZyZWVFeHBvcnRzJiZmcmVlTW9kdWxlP21vZHVsZUV4cG9ydHM/KGZyZWVNb2R1bGUuZXhwb3J0cz1fKS5fPV86ZnJlZUV4cG9ydHMuXz1fOnJvb3QuXz1ffS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIG1vZHVsZT1hbmd1bGFyLm1vZHVsZSgicmVzdGFuZ3VsYXIiLFtdKTttb2R1bGUucHJvdmlkZXIoIlJlc3Rhbmd1bGFyIixmdW5jdGlvbigpe3ZhciBDb25maWd1cmVyPXt9O0NvbmZpZ3VyZXIuaW5pdD1mdW5jdGlvbihvYmplY3QsY29uZmlnKXtmdW5jdGlvbiBSZXN0YW5ndWxhclJlc291cmNlKGNvbmZpZywkaHR0cCx1cmwsY29uZmlndXJlcil7dmFyIHJlc291cmNlPXt9O3JldHVybiBfLmVhY2goXy5rZXlzKGNvbmZpZ3VyZXIpLGZ1bmN0aW9uKGtleSl7dmFyIHZhbHVlPWNvbmZpZ3VyZXJba2V5XTt2YWx1ZS5wYXJhbXM9Xy5leHRlbmQoe30sdmFsdWUucGFyYW1zLGNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtc1t2YWx1ZS5tZXRob2QudG9Mb3dlckNhc2UoKV0pLF8uaXNFbXB0eSh2YWx1ZS5wYXJhbXMpJiZkZWxldGUgdmFsdWUucGFyYW1zLHJlc291cmNlW2tleV09Y29uZmlnLmlzU2FmZSh2YWx1ZS5tZXRob2QpP2Z1bmN0aW9uKCl7cmV0dXJuICRodHRwKF8uZXh0ZW5kKHZhbHVlLHt1cmw6dXJsfSkpfTpmdW5jdGlvbihkYXRhKXtyZXR1cm4gJGh0dHAoXy5leHRlbmQodmFsdWUse3VybDp1cmwsZGF0YTpkYXRhfSkpfX0pLHJlc291cmNlfW9iamVjdC5jb25maWd1cmF0aW9uPWNvbmZpZzt2YXIgc2FmZU1ldGhvZHM9WyJnZXQiLCJoZWFkIiwib3B0aW9ucyIsInRyYWNlIiwiZ2V0bGlzdCJdO2NvbmZpZy5pc1NhZmU9ZnVuY3Rpb24ob3BlcmF0aW9uKXtyZXR1cm4gXy5jb250YWlucyhzYWZlTWV0aG9kcyxvcGVyYXRpb24udG9Mb3dlckNhc2UoKSl9O3ZhciBhYnNvbHV0ZVBhdHRlcm49L15odHRwcz86XC9cLy9pO2NvbmZpZy5pc0Fic29sdXRlVXJsPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIF8uaXNVbmRlZmluZWQoY29uZmlnLmFic29sdXRlVXJsKXx8Xy5pc051bGwoY29uZmlnLmFic29sdXRlVXJsKT9zdHJpbmcmJmFic29sdXRlUGF0dGVybi50ZXN0KHN0cmluZyk6Y29uZmlnLmFic29sdXRlVXJsfSxjb25maWcuYWJzb2x1dGVVcmw9Xy5pc1VuZGVmaW5lZChjb25maWcuYWJzb2x1dGVVcmwpPyEwOmNvbmZpZy5hYnNvbHV0ZVVybCxvYmplY3Quc2V0U2VsZkxpbmtBYnNvbHV0ZVVybD1mdW5jdGlvbih2YWx1ZSl7Y29uZmlnLmFic29sdXRlVXJsPXZhbHVlfSxjb25maWcuYmFzZVVybD1fLmlzVW5kZWZpbmVkKGNvbmZpZy5iYXNlVXJsKT8iIjpjb25maWcuYmFzZVVybCxvYmplY3Quc2V0QmFzZVVybD1mdW5jdGlvbihuZXdCYXNlVXJsKXtyZXR1cm4gY29uZmlnLmJhc2VVcmw9L1wvJC8udGVzdChuZXdCYXNlVXJsKT9uZXdCYXNlVXJsLnN1YnN0cmluZygwLG5ld0Jhc2VVcmwubGVuZ3RoLTEpOm5ld0Jhc2VVcmwsdGhpc30sY29uZmlnLmV4dHJhRmllbGRzPWNvbmZpZy5leHRyYUZpZWxkc3x8W10sb2JqZWN0LnNldEV4dHJhRmllbGRzPWZ1bmN0aW9uKG5ld0V4dHJhRmllbGRzKXtyZXR1cm4gY29uZmlnLmV4dHJhRmllbGRzPW5ld0V4dHJhRmllbGRzLHRoaXN9LGNvbmZpZy5kZWZhdWx0SHR0cEZpZWxkcz1jb25maWcuZGVmYXVsdEh0dHBGaWVsZHN8fHt9LG9iamVjdC5zZXREZWZhdWx0SHR0cEZpZWxkcz1mdW5jdGlvbih2YWx1ZXMpe3JldHVybiBjb25maWcuZGVmYXVsdEh0dHBGaWVsZHM9dmFsdWVzLHRoaXN9LGNvbmZpZy53aXRoSHR0cFZhbHVlcz1mdW5jdGlvbihodHRwTG9jYWxDb25maWcsb2JqKXtyZXR1cm4gXy5kZWZhdWx0cyhvYmosaHR0cExvY2FsQ29uZmlnLGNvbmZpZy5kZWZhdWx0SHR0cEZpZWxkcyl9LGNvbmZpZy5lbmNvZGVJZHM9Xy5pc1VuZGVmaW5lZChjb25maWcuZW5jb2RlSWRzKT8hMDpjb25maWcuZW5jb2RlSWRzLG9iamVjdC5zZXRFbmNvZGVJZHM9ZnVuY3Rpb24oZW5jb2RlKXtjb25maWcuZW5jb2RlSWRzPWVuY29kZX0sY29uZmlnLmRlZmF1bHRSZXF1ZXN0UGFyYW1zPWNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtc3x8e2dldDp7fSxwb3N0Ont9LHB1dDp7fSxyZW1vdmU6e30sY29tbW9uOnt9fSxvYmplY3Quc2V0RGVmYXVsdFJlcXVlc3RQYXJhbXM9ZnVuY3Rpb24ocGFyYW0xLHBhcmFtMil7dmFyIG1ldGhvZHM9W10scGFyYW1zPXBhcmFtMnx8cGFyYW0xO3JldHVybiBfLmlzVW5kZWZpbmVkKHBhcmFtMik/bWV0aG9kcy5wdXNoKCJjb21tb24iKTpfLmlzQXJyYXkocGFyYW0xKT9tZXRob2RzPXBhcmFtMTptZXRob2RzLnB1c2gocGFyYW0xKSxfLmVhY2gobWV0aG9kcyxmdW5jdGlvbihtZXRob2Qpe2NvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtc1ttZXRob2RdPXBhcmFtc30pLHRoaXN9LG9iamVjdC5yZXF1ZXN0UGFyYW1zPWNvbmZpZy5kZWZhdWx0UmVxdWVzdFBhcmFtcyxjb25maWcuZGVmYXVsdEhlYWRlcnM9Y29uZmlnLmRlZmF1bHRIZWFkZXJzfHx7fSxvYmplY3Quc2V0RGVmYXVsdEhlYWRlcnM9ZnVuY3Rpb24oaGVhZGVycyl7cmV0dXJuIGNvbmZpZy5kZWZhdWx0SGVhZGVycz1oZWFkZXJzLG9iamVjdC5kZWZhdWx0SGVhZGVycz1jb25maWcuZGVmYXVsdEhlYWRlcnMsdGhpc30sb2JqZWN0LmRlZmF1bHRIZWFkZXJzPWNvbmZpZy5kZWZhdWx0SGVhZGVycyxjb25maWcubWV0aG9kT3ZlcnJpZGVycz1jb25maWcubWV0aG9kT3ZlcnJpZGVyc3x8W10sb2JqZWN0LnNldE1ldGhvZE92ZXJyaWRlcnM9ZnVuY3Rpb24odmFsdWVzKXt2YXIgb3ZlcnJpZGVycz1fLmV4dGVuZChbXSx2YWx1ZXMpO3JldHVybiBjb25maWcuaXNPdmVycmlkZW5NZXRob2QoImRlbGV0ZSIsb3ZlcnJpZGVycykmJm92ZXJyaWRlcnMucHVzaCgicmVtb3ZlIiksY29uZmlnLm1ldGhvZE92ZXJyaWRlcnM9b3ZlcnJpZGVycyx0aGlzfSxjb25maWcuanNvbnA9Xy5pc1VuZGVmaW5lZChjb25maWcuanNvbnApPyExOmNvbmZpZy5qc29ucCxvYmplY3Quc2V0SnNvbnA9ZnVuY3Rpb24oYWN0aXZlKXtjb25maWcuanNvbnA9YWN0aXZlfSxjb25maWcuaXNPdmVycmlkZW5NZXRob2Q9ZnVuY3Rpb24obWV0aG9kLHZhbHVlcyl7dmFyIHNlYXJjaD12YWx1ZXN8fGNvbmZpZy5tZXRob2RPdmVycmlkZXJzO3JldHVybiFfLmlzVW5kZWZpbmVkKF8uZmluZChzZWFyY2gsZnVuY3Rpb24ob25lKXtyZXR1cm4gb25lLnRvTG93ZXJDYXNlKCk9PT1tZXRob2QudG9Mb3dlckNhc2UoKX0pKX0sY29uZmlnLnVybENyZWF0b3I9Y29uZmlnLnVybENyZWF0b3J8fCJwYXRoIixvYmplY3Quc2V0VXJsQ3JlYXRvcj1mdW5jdGlvbihuYW1lKXtpZighXy5oYXMoY29uZmlnLnVybENyZWF0b3JGYWN0b3J5LG5hbWUpKXRocm93IG5ldyBFcnJvcigiVVJMIFBhdGggc2VsZWN0ZWQgaXNuJ3QgdmFsaWQiKTtyZXR1cm4gY29uZmlnLnVybENyZWF0b3I9bmFtZSx0aGlzfSxjb25maWcucmVzdGFuZ3VsYXJGaWVsZHM9Y29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzfHx7aWQ6ImlkIixyb3V0ZToicm91dGUiLHBhcmVudFJlc291cmNlOiJwYXJlbnRSZXNvdXJjZSIscmVzdGFuZ3VsYXJDb2xsZWN0aW9uOiJyZXN0YW5ndWxhckNvbGxlY3Rpb24iLGNhbm5vbmljYWxJZDoiX19jYW5ub25pY2FsSWQiLGV0YWc6InJlc3Rhbmd1bGFyRXRhZyIsc2VsZkxpbms6ImhyZWYiLGdldDoiZ2V0IixnZXRMaXN0OiJnZXRMaXN0IixwdXQ6InB1dCIscG9zdDoicG9zdCIscmVtb3ZlOiJyZW1vdmUiLGhlYWQ6ImhlYWQiLHRyYWNlOiJ0cmFjZSIsb3B0aW9uczoib3B0aW9ucyIscGF0Y2g6InBhdGNoIixnZXRSZXN0YW5ndWxhclVybDoiZ2V0UmVzdGFuZ3VsYXJVcmwiLGdldFJlcXVlc3RlZFVybDoiZ2V0UmVxdWVzdGVkVXJsIixwdXRFbGVtZW50OiJwdXRFbGVtZW50IixhZGRSZXN0YW5ndWxhck1ldGhvZDoiYWRkUmVzdGFuZ3VsYXJNZXRob2QiLGdldFBhcmVudExpc3Q6ImdldFBhcmVudExpc3QiLGNsb25lOiJjbG9uZSIsaWRzOiJpZHMiLGh0dHBDb25maWc6Il8kaHR0cENvbmZpZyIscmVxUGFyYW1zOiJyZXFQYXJhbXMiLG9uZToib25lIixhbGw6ImFsbCIsc2V2ZXJhbDoic2V2ZXJhbCIsb25lVXJsOiJvbmVVcmwiLGFsbFVybDoiYWxsVXJsIixjdXN0b21QVVQ6ImN1c3RvbVBVVCIsY3VzdG9tUE9TVDoiY3VzdG9tUE9TVCIsY3VzdG9tREVMRVRFOiJjdXN0b21ERUxFVEUiLGN1c3RvbUdFVDoiY3VzdG9tR0VUIixjdXN0b21HRVRMSVNUOiJjdXN0b21HRVRMSVNUIixjdXN0b21PcGVyYXRpb246ImN1c3RvbU9wZXJhdGlvbiIsZG9QVVQ6ImRvUFVUIixkb1BPU1Q6ImRvUE9TVCIsZG9ERUxFVEU6ImRvREVMRVRFIixkb0dFVDoiZG9HRVQiLGRvR0VUTElTVDoiZG9HRVRMSVNUIixmcm9tU2VydmVyOiJmcm9tU2VydmVyIix3aXRoQ29uZmlnOiJ3aXRoQ29uZmlnIix3aXRoSHR0cENvbmZpZzoid2l0aEh0dHBDb25maWciLHNpbmdsZU9uZToic2luZ2xlT25lIixwbGFpbjoicGxhaW4iLHNhdmU6InNhdmUifSxvYmplY3Quc2V0UmVzdGFuZ3VsYXJGaWVsZHM9ZnVuY3Rpb24ocmVzRmllbGRzKXtyZXR1cm4gY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzPV8uZXh0ZW5kKGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcyxyZXNGaWVsZHMpLHRoaXN9LGNvbmZpZy5pc1Jlc3Rhbmd1bGFyaXplZD1mdW5jdGlvbihvYmope3JldHVybiEhb2JqW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5vbmVdfHwhIW9ialtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuYWxsXX0sY29uZmlnLnNldEZpZWxkVG9FbGVtPWZ1bmN0aW9uKGZpZWxkLGVsZW0sdmFsdWUpe3ZhciBwcm9wZXJ0aWVzPWZpZWxkLnNwbGl0KCIuIiksaWRWYWx1ZT1lbGVtO3JldHVybiBfLmVhY2goXy5pbml0aWFsKHByb3BlcnRpZXMpLGZ1bmN0aW9uKHByb3Ape2lkVmFsdWVbcHJvcF09e30saWRWYWx1ZT1pZFZhbHVlW3Byb3BdfSksaWRWYWx1ZVtfLmxhc3QocHJvcGVydGllcyldPXZhbHVlLHRoaXN9LGNvbmZpZy5nZXRGaWVsZEZyb21FbGVtPWZ1bmN0aW9uKGZpZWxkLGVsZW0pe3ZhciBwcm9wZXJ0aWVzPWZpZWxkLnNwbGl0KCIuIiksaWRWYWx1ZT1lbGVtO3JldHVybiBfLmVhY2gocHJvcGVydGllcyxmdW5jdGlvbihwcm9wKXtpZFZhbHVlJiYoaWRWYWx1ZT1pZFZhbHVlW3Byb3BdKX0pLGFuZ3VsYXIuY29weShpZFZhbHVlKX0sY29uZmlnLnNldElkVG9FbGVtPWZ1bmN0aW9uKGVsZW0saWQpe3JldHVybiBjb25maWcuc2V0RmllbGRUb0VsZW0oY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmlkLGVsZW0saWQpLHRoaXN9LGNvbmZpZy5nZXRJZEZyb21FbGVtPWZ1bmN0aW9uKGVsZW0pe3JldHVybiBjb25maWcuZ2V0RmllbGRGcm9tRWxlbShjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaWQsZWxlbSl9LGNvbmZpZy5pc1ZhbGlkSWQ9ZnVuY3Rpb24oZWxlbUlkKXtyZXR1cm4iIiE9PWVsZW1JZCYmIV8uaXNVbmRlZmluZWQoZWxlbUlkKSYmIV8uaXNOdWxsKGVsZW1JZCl9LGNvbmZpZy5zZXRVcmxUb0VsZW09ZnVuY3Rpb24oZWxlbSx1cmwpe3JldHVybiBjb25maWcuc2V0RmllbGRUb0VsZW0oY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnNlbGZMaW5rLGVsZW0sdXJsKSx0aGlzfSxjb25maWcuZ2V0VXJsRnJvbUVsZW09ZnVuY3Rpb24oZWxlbSl7cmV0dXJuIGNvbmZpZy5nZXRGaWVsZEZyb21FbGVtKGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zZWxmTGluayxlbGVtKX0sY29uZmlnLnVzZUNhbm5vbmljYWxJZD1fLmlzVW5kZWZpbmVkKGNvbmZpZy51c2VDYW5ub25pY2FsSWQpPyExOmNvbmZpZy51c2VDYW5ub25pY2FsSWQsb2JqZWN0LnNldFVzZUNhbm5vbmljYWxJZD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGNvbmZpZy51c2VDYW5ub25pY2FsSWQ9dmFsdWUsdGhpc30sY29uZmlnLmdldENhbm5vbmljYWxJZEZyb21FbGVtPWZ1bmN0aW9uKGVsZW0pe3ZhciBjYW5ub25pY2FsSWQ9ZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY2Fubm9uaWNhbElkXSxhY3R1YWxJZD1jb25maWcuaXNWYWxpZElkKGNhbm5vbmljYWxJZCk/Y2Fubm9uaWNhbElkOmNvbmZpZy5nZXRJZEZyb21FbGVtKGVsZW0pO3JldHVybiBhY3R1YWxJZH0sY29uZmlnLnJlc3BvbnNlSW50ZXJjZXB0b3JzPWNvbmZpZy5yZXNwb25zZUludGVyY2VwdG9yc3x8W10sY29uZmlnLmRlZmF1bHRSZXNwb25zZUludGVyY2VwdG9yPWZ1bmN0aW9uKGRhdGEpe3JldHVybiBkYXRhfSxjb25maWcucmVzcG9uc2VFeHRyYWN0b3I9ZnVuY3Rpb24oZGF0YSxvcGVyYXRpb24sd2hhdCx1cmwscmVzcG9uc2UsZGVmZXJyZWQpe3ZhciBpbnRlcmNlcHRvcnM9YW5ndWxhci5jb3B5KGNvbmZpZy5yZXNwb25zZUludGVyY2VwdG9ycyk7aW50ZXJjZXB0b3JzLnB1c2goY29uZmlnLmRlZmF1bHRSZXNwb25zZUludGVyY2VwdG9yKTt2YXIgdGhlRGF0YT1kYXRhO3JldHVybiBfLmVhY2goaW50ZXJjZXB0b3JzLGZ1bmN0aW9uKGludGVyY2VwdG9yKXt0aGVEYXRhPWludGVyY2VwdG9yKHRoZURhdGEsb3BlcmF0aW9uLHdoYXQsdXJsLHJlc3BvbnNlLGRlZmVycmVkKX0pLHRoZURhdGF9LG9iamVjdC5hZGRSZXNwb25zZUludGVyY2VwdG9yPWZ1bmN0aW9uKGV4dHJhY3Rvcil7cmV0dXJuIGNvbmZpZy5yZXNwb25zZUludGVyY2VwdG9ycy5wdXNoKGV4dHJhY3RvciksdGhpc30sb2JqZWN0LnNldFJlc3BvbnNlSW50ZXJjZXB0b3I9b2JqZWN0LmFkZFJlc3BvbnNlSW50ZXJjZXB0b3Isb2JqZWN0LnNldFJlc3BvbnNlRXh0cmFjdG9yPW9iamVjdC5hZGRSZXNwb25zZUludGVyY2VwdG9yLGNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzPWNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzfHxbXSxjb25maWcuZGVmYXVsdEludGVyY2VwdG9yPWZ1bmN0aW9uKGVsZW1lbnQsb3BlcmF0aW9uLHBhdGgsdXJsLGhlYWRlcnMscGFyYW1zLGh0dHBDb25maWcpe3JldHVybntlbGVtZW50OmVsZW1lbnQsaGVhZGVyczpoZWFkZXJzLHBhcmFtczpwYXJhbXMsaHR0cENvbmZpZzpodHRwQ29uZmlnfX0sY29uZmlnLmZ1bGxSZXF1ZXN0SW50ZXJjZXB0b3I9ZnVuY3Rpb24oZWxlbWVudCxvcGVyYXRpb24scGF0aCx1cmwsaGVhZGVycyxwYXJhbXMsaHR0cENvbmZpZyl7dmFyIGludGVyY2VwdG9ycz1hbmd1bGFyLmNvcHkoY29uZmlnLnJlcXVlc3RJbnRlcmNlcHRvcnMpLGRlZmF1bHRSZXF1ZXN0PWNvbmZpZy5kZWZhdWx0SW50ZXJjZXB0b3IoZWxlbWVudCxvcGVyYXRpb24scGF0aCx1cmwsaGVhZGVycyxwYXJhbXMsaHR0cENvbmZpZyk7cmV0dXJuIF8ucmVkdWNlKGludGVyY2VwdG9ycyxmdW5jdGlvbihyZXF1ZXN0LGludGVyY2VwdG9yKXtyZXR1cm4gXy5leHRlbmQocmVxdWVzdCxpbnRlcmNlcHRvcihyZXF1ZXN0LmVsZW1lbnQsb3BlcmF0aW9uLHBhdGgsdXJsLHJlcXVlc3QuaGVhZGVycyxyZXF1ZXN0LnBhcmFtcyxyZXF1ZXN0Lmh0dHBDb25maWcpKX0sZGVmYXVsdFJlcXVlc3QpfSxvYmplY3QuYWRkUmVxdWVzdEludGVyY2VwdG9yPWZ1bmN0aW9uKGludGVyY2VwdG9yKXtyZXR1cm4gY29uZmlnLnJlcXVlc3RJbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbihlbGVtLG9wZXJhdGlvbixwYXRoLHVybCxoZWFkZXJzLHBhcmFtcyxodHRwQ29uZmlnKXtyZXR1cm57aGVhZGVyczpoZWFkZXJzLHBhcmFtczpwYXJhbXMsZWxlbWVudDppbnRlcmNlcHRvcihlbGVtLG9wZXJhdGlvbixwYXRoLHVybCksaHR0cENvbmZpZzpodHRwQ29uZmlnfX0pLHRoaXN9LG9iamVjdC5zZXRSZXF1ZXN0SW50ZXJjZXB0b3I9b2JqZWN0LmFkZFJlcXVlc3RJbnRlcmNlcHRvcixvYmplY3QuYWRkRnVsbFJlcXVlc3RJbnRlcmNlcHRvcj1mdW5jdGlvbihpbnRlcmNlcHRvcil7cmV0dXJuIGNvbmZpZy5yZXF1ZXN0SW50ZXJjZXB0b3JzLnB1c2goaW50ZXJjZXB0b3IpLHRoaXN9LG9iamVjdC5zZXRGdWxsUmVxdWVzdEludGVyY2VwdG9yPW9iamVjdC5hZGRGdWxsUmVxdWVzdEludGVyY2VwdG9yLGNvbmZpZy5lcnJvckludGVyY2VwdG9yPWNvbmZpZy5lcnJvckludGVyY2VwdG9yfHxmdW5jdGlvbigpe30sb2JqZWN0LnNldEVycm9ySW50ZXJjZXB0b3I9ZnVuY3Rpb24oaW50ZXJjZXB0b3Ipe3JldHVybiBjb25maWcuZXJyb3JJbnRlcmNlcHRvcj1pbnRlcmNlcHRvcix0aGlzfSxjb25maWcub25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkPWNvbmZpZy5vbkJlZm9yZUVsZW1SZXN0YW5ndWxhcml6ZWR8fGZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtfSxvYmplY3Quc2V0T25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkPWZ1bmN0aW9uKHBvc3Qpe3JldHVybiBjb25maWcub25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkPXBvc3QsdGhpc30sY29uZmlnLm9uRWxlbVJlc3Rhbmd1bGFyaXplZD1jb25maWcub25FbGVtUmVzdGFuZ3VsYXJpemVkfHxmdW5jdGlvbihlbGVtKXtyZXR1cm4gZWxlbX0sb2JqZWN0LnNldE9uRWxlbVJlc3Rhbmd1bGFyaXplZD1mdW5jdGlvbihwb3N0KXtyZXR1cm4gY29uZmlnLm9uRWxlbVJlc3Rhbmd1bGFyaXplZD1wb3N0LHRoaXN9LGNvbmZpZy5zaG91bGRTYXZlUGFyZW50PWNvbmZpZy5zaG91bGRTYXZlUGFyZW50fHxmdW5jdGlvbigpe3JldHVybiEwfSxvYmplY3Quc2V0UGFyZW50bGVzcz1mdW5jdGlvbih2YWx1ZXMpe3JldHVybiBfLmlzQXJyYXkodmFsdWVzKT9jb25maWcuc2hvdWxkU2F2ZVBhcmVudD1mdW5jdGlvbihyb3V0ZSl7cmV0dXJuIV8uY29udGFpbnModmFsdWVzLHJvdXRlKX06Xy5pc0Jvb2xlYW4odmFsdWVzKSYmKGNvbmZpZy5zaG91bGRTYXZlUGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIXZhbHVlc30pLHRoaXN9LGNvbmZpZy5zdWZmaXg9Xy5pc1VuZGVmaW5lZChjb25maWcuc3VmZml4KT9udWxsOmNvbmZpZy5zdWZmaXgsb2JqZWN0LnNldFJlcXVlc3RTdWZmaXg9ZnVuY3Rpb24obmV3U3VmZml4KXtyZXR1cm4gY29uZmlnLnN1ZmZpeD1uZXdTdWZmaXgsdGhpc30sY29uZmlnLnRyYW5zZm9ybWVycz1jb25maWcudHJhbnNmb3JtZXJzfHx7fSxvYmplY3QuYWRkRWxlbWVudFRyYW5zZm9ybWVyPWZ1bmN0aW9uKHR5cGUsc2Vjb25kQXJnLHRoaXJkQXJnKXt2YXIgaXNDb2xsZWN0aW9uPW51bGwsdHJhbnNmb3JtZXI9bnVsbDsyPT09YXJndW1lbnRzLmxlbmd0aD90cmFuc2Zvcm1lcj1zZWNvbmRBcmc6KHRyYW5zZm9ybWVyPXRoaXJkQXJnLGlzQ29sbGVjdGlvbj1zZWNvbmRBcmcpO3ZhciB0eXBlVHJhbnNmb3JtZXJzPWNvbmZpZy50cmFuc2Zvcm1lcnNbdHlwZV07cmV0dXJuIHR5cGVUcmFuc2Zvcm1lcnN8fCh0eXBlVHJhbnNmb3JtZXJzPWNvbmZpZy50cmFuc2Zvcm1lcnNbdHlwZV09W10pLHR5cGVUcmFuc2Zvcm1lcnMucHVzaChmdW5jdGlvbihjb2xsLGVsZW0pe3JldHVybiBfLmlzTnVsbChpc0NvbGxlY3Rpb24pfHxjb2xsPT1pc0NvbGxlY3Rpb24/dHJhbnNmb3JtZXIoZWxlbSk6ZWxlbX0pLG9iamVjdH0sb2JqZWN0LmV4dGVuZENvbGxlY3Rpb249ZnVuY3Rpb24ocm91dGUsZm4pe3JldHVybiBvYmplY3QuYWRkRWxlbWVudFRyYW5zZm9ybWVyKHJvdXRlLCEwLGZuKX0sb2JqZWN0LmV4dGVuZE1vZGVsPWZ1bmN0aW9uKHJvdXRlLGZuKXtyZXR1cm4gb2JqZWN0LmFkZEVsZW1lbnRUcmFuc2Zvcm1lcihyb3V0ZSwhMSxmbil9LGNvbmZpZy50cmFuc2Zvcm1FbGVtPWZ1bmN0aW9uKGVsZW0saXNDb2xsZWN0aW9uLHJvdXRlLFJlc3Rhbmd1bGFyLGZvcmNlKXtpZighZm9yY2UmJiFjb25maWcudHJhbnNmb3JtTG9jYWxFbGVtZW50cyYmIWVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmZyb21TZXJ2ZXJdKXJldHVybiBlbGVtO3ZhciB0eXBlVHJhbnNmb3JtZXJzPWNvbmZpZy50cmFuc2Zvcm1lcnNbcm91dGVdLGNoYW5nZWRFbGVtPWVsZW07cmV0dXJuIHR5cGVUcmFuc2Zvcm1lcnMmJl8uZWFjaCh0eXBlVHJhbnNmb3JtZXJzLGZ1bmN0aW9uKHRyYW5zZm9ybWVyKXtjaGFuZ2VkRWxlbT10cmFuc2Zvcm1lcihpc0NvbGxlY3Rpb24sY2hhbmdlZEVsZW0pfSksY29uZmlnLm9uRWxlbVJlc3Rhbmd1bGFyaXplZChjaGFuZ2VkRWxlbSxpc0NvbGxlY3Rpb24scm91dGUsUmVzdGFuZ3VsYXIpfSxjb25maWcudHJhbnNmb3JtTG9jYWxFbGVtZW50cz1fLmlzVW5kZWZpbmVkKGNvbmZpZy50cmFuc2Zvcm1Mb2NhbEVsZW1lbnRzKT8hMTpjb25maWcudHJhbnNmb3JtTG9jYWxFbGVtZW50cyxvYmplY3Quc2V0VHJhbnNmb3JtT25seVNlcnZlckVsZW1lbnRzPWZ1bmN0aW9uKGFjdGl2ZSl7Y29uZmlnLnRyYW5zZm9ybUxvY2FsRWxlbWVudHM9IWFjdGl2ZX0sY29uZmlnLmZ1bGxSZXNwb25zZT1fLmlzVW5kZWZpbmVkKGNvbmZpZy5mdWxsUmVzcG9uc2UpPyExOmNvbmZpZy5mdWxsUmVzcG9uc2Usb2JqZWN0LnNldEZ1bGxSZXNwb25zZT1mdW5jdGlvbihmdWxsKXtyZXR1cm4gY29uZmlnLmZ1bGxSZXNwb25zZT1mdWxsLHRoaXN9LGNvbmZpZy51cmxDcmVhdG9yRmFjdG9yeT17fTt2YXIgQmFzZUNyZWF0b3I9ZnVuY3Rpb24oKXt9O0Jhc2VDcmVhdG9yLnByb3RvdHlwZS5zZXRDb25maWc9ZnVuY3Rpb24oY29uZmlnKXtyZXR1cm4gdGhpcy5jb25maWc9Y29uZmlnLHRoaXN9LEJhc2VDcmVhdG9yLnByb3RvdHlwZS5wYXJlbnRzQXJyYXk9ZnVuY3Rpb24oY3VycmVudCl7Zm9yKHZhciBwYXJlbnRzPVtdO2N1cnJlbnQ7KXBhcmVudHMucHVzaChjdXJyZW50KSxjdXJyZW50PWN1cnJlbnRbdGhpcy5jb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdO3JldHVybiBwYXJlbnRzLnJldmVyc2UoKX0sQmFzZUNyZWF0b3IucHJvdG90eXBlLnJlc291cmNlPWZ1bmN0aW9uKGN1cnJlbnQsJGh0dHAsbG9jYWxIdHRwQ29uZmlnLGNhbGxIZWFkZXJzLGNhbGxQYXJhbXMsd2hhdCxldGFnLG9wZXJhdGlvbil7dmFyIHBhcmFtcz1fLmRlZmF1bHRzKGNhbGxQYXJhbXN8fHt9LHRoaXMuY29uZmlnLmRlZmF1bHRSZXF1ZXN0UGFyYW1zLmNvbW1vbiksaGVhZGVycz1fLmRlZmF1bHRzKGNhbGxIZWFkZXJzfHx7fSx0aGlzLmNvbmZpZy5kZWZhdWx0SGVhZGVycyk7ZXRhZyYmKGNvbmZpZy5pc1NhZmUob3BlcmF0aW9uKT9oZWFkZXJzWyJJZi1Ob25lLU1hdGNoIl09ZXRhZzpoZWFkZXJzWyJJZi1NYXRjaCJdPWV0YWcpO3ZhciB1cmw9dGhpcy5iYXNlKGN1cnJlbnQpO2lmKHdoYXQpe3ZhciBhZGQ9IiI7L1wvJC8udGVzdCh1cmwpfHwoYWRkKz0iLyIpLGFkZCs9d2hhdCx1cmwrPWFkZH1yZXR1cm4gdGhpcy5jb25maWcuc3VmZml4JiYtMT09PXVybC5pbmRleE9mKHRoaXMuY29uZmlnLnN1ZmZpeCx1cmwubGVuZ3RoLXRoaXMuY29uZmlnLnN1ZmZpeC5sZW5ndGgpJiYhdGhpcy5jb25maWcuZ2V0VXJsRnJvbUVsZW0oY3VycmVudCkmJih1cmwrPXRoaXMuY29uZmlnLnN1ZmZpeCksY3VycmVudFt0aGlzLmNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5odHRwQ29uZmlnXT12b2lkIDAsUmVzdGFuZ3VsYXJSZXNvdXJjZSh0aGlzLmNvbmZpZywkaHR0cCx1cmwse2dldExpc3Q6dGhpcy5jb25maWcud2l0aEh0dHBWYWx1ZXMobG9jYWxIdHRwQ29uZmlnLHttZXRob2Q6IkdFVCIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KSxnZXQ6dGhpcy5jb25maWcud2l0aEh0dHBWYWx1ZXMobG9jYWxIdHRwQ29uZmlnLHttZXRob2Q6IkdFVCIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KSxqc29ucDp0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcse21ldGhvZDoianNvbnAiLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSkscHV0OnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJQVVQiLHBhcmFtczpwYXJhbXMsaGVhZGVyczpoZWFkZXJzfSkscG9zdDp0aGlzLmNvbmZpZy53aXRoSHR0cFZhbHVlcyhsb2NhbEh0dHBDb25maWcse21ldGhvZDoiUE9TVCIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KSxyZW1vdmU6dGhpcy5jb25maWcud2l0aEh0dHBWYWx1ZXMobG9jYWxIdHRwQ29uZmlnLHttZXRob2Q6IkRFTEVURSIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KSxoZWFkOnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJIRUFEIixwYXJhbXM6cGFyYW1zLGhlYWRlcnM6aGVhZGVyc30pLHRyYWNlOnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJUUkFDRSIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KSxvcHRpb25zOnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJPUFRJT05TIixwYXJhbXM6cGFyYW1zLGhlYWRlcnM6aGVhZGVyc30pLHBhdGNoOnRoaXMuY29uZmlnLndpdGhIdHRwVmFsdWVzKGxvY2FsSHR0cENvbmZpZyx7bWV0aG9kOiJQQVRDSCIscGFyYW1zOnBhcmFtcyxoZWFkZXJzOmhlYWRlcnN9KX0pfTt2YXIgUGF0aD1mdW5jdGlvbigpe307UGF0aC5wcm90b3R5cGU9bmV3IEJhc2VDcmVhdG9yLFBhdGgucHJvdG90eXBlLmJhc2U9ZnVuY3Rpb24oY3VycmVudCl7dmFyIF9fdGhpcz10aGlzO3JldHVybiBfLnJlZHVjZSh0aGlzLnBhcmVudHNBcnJheShjdXJyZW50KSxmdW5jdGlvbihhY3VtLGVsZW0pe3ZhciBlbGVtVXJsLGVsZW1TZWxmTGluaz1fX3RoaXMuY29uZmlnLmdldFVybEZyb21FbGVtKGVsZW0pO2lmKGVsZW1TZWxmTGluayl7aWYoX190aGlzLmNvbmZpZy5pc0Fic29sdXRlVXJsKGVsZW1TZWxmTGluaykpcmV0dXJuIGVsZW1TZWxmTGluaztlbGVtVXJsPWVsZW1TZWxmTGlua31lbHNlIGlmKGVsZW1Vcmw9ZWxlbVtfX3RoaXMuY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSxlbGVtW19fdGhpcy5jb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXSl7dmFyIGlkcz1lbGVtW19fdGhpcy5jb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuaWRzXTtpZHMmJihlbGVtVXJsKz0iLyIraWRzLmpvaW4oIiwiKSl9ZWxzZXt2YXIgZWxlbUlkO2VsZW1JZD1fX3RoaXMuY29uZmlnLnVzZUNhbm5vbmljYWxJZD9fX3RoaXMuY29uZmlnLmdldENhbm5vbmljYWxJZEZyb21FbGVtKGVsZW0pOl9fdGhpcy5jb25maWcuZ2V0SWRGcm9tRWxlbShlbGVtKSxjb25maWcuaXNWYWxpZElkKGVsZW1JZCkmJiFlbGVtLnNpbmdsZU9uZSYmKGVsZW1VcmwrPSIvIisoX190aGlzLmNvbmZpZy5lbmNvZGVJZHM/ZW5jb2RlVVJJQ29tcG9uZW50KGVsZW1JZCk6ZWxlbUlkKSl9cmV0dXJuIGFjdW0ucmVwbGFjZSgvXC8kLywiIikrIi8iK2VsZW1Vcmx9LHRoaXMuY29uZmlnLmJhc2VVcmwpfSxQYXRoLnByb3RvdHlwZS5mZXRjaFVybD1mdW5jdGlvbihjdXJyZW50LHdoYXQpe3ZhciBiYXNlVXJsPXRoaXMuYmFzZShjdXJyZW50KTtyZXR1cm4gd2hhdCYmKGJhc2VVcmwrPSIvIit3aGF0KSxiYXNlVXJsfSxQYXRoLnByb3RvdHlwZS5mZXRjaFJlcXVlc3RlZFVybD1mdW5jdGlvbihjdXJyZW50LHdoYXQpe2Z1bmN0aW9uIHNvcnRlZEtleXMob2JqKXt2YXIga2V5cz1bXTtmb3IodmFyIGtleSBpbiBvYmopb2JqLmhhc093blByb3BlcnR5KGtleSkmJmtleXMucHVzaChrZXkpO3JldHVybiBrZXlzLnNvcnQoKX1mdW5jdGlvbiBmb3JFYWNoU29ydGVkKG9iaixpdGVyYXRvcixjb250ZXh0KXtmb3IodmFyIGtleXM9c29ydGVkS2V5cyhvYmopLGk9MDtpPGtleXMubGVuZ3RoO2krKylpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2tleXNbaV1dLGtleXNbaV0pO3JldHVybiBrZXlzfWZ1bmN0aW9uIGVuY29kZVVyaVF1ZXJ5KHZhbCxwY3RFbmNvZGVTcGFjZXMpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5yZXBsYWNlKC8lNDAvZ2ksIkAiKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZywiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUyMC9nLHBjdEVuY29kZVNwYWNlcz8iJTIwIjoiKyIpfXZhciB1cmw9dGhpcy5mZXRjaFVybChjdXJyZW50LHdoYXQpLHBhcmFtcz1jdXJyZW50W2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXFQYXJhbXNdO2lmKCFwYXJhbXMpcmV0dXJuIHVybDt2YXIgcGFydHM9W107cmV0dXJuIGZvckVhY2hTb3J0ZWQocGFyYW1zLGZ1bmN0aW9uKHZhbHVlLGtleSl7bnVsbCE9dmFsdWUmJnZvaWQgMCE9dmFsdWUmJihhbmd1bGFyLmlzQXJyYXkodmFsdWUpfHwodmFsdWU9W3ZhbHVlXSksYW5ndWxhci5mb3JFYWNoKHZhbHVlLGZ1bmN0aW9uKHYpe2FuZ3VsYXIuaXNPYmplY3QodikmJih2PWFuZ3VsYXIudG9Kc29uKHYpKSxwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSkrIj0iK2VuY29kZVVyaVF1ZXJ5KHYpKX0pKX0pLHVybCsodGhpcy5jb25maWcuc3VmZml4fHwiIikrKC0xPT09dXJsLmluZGV4T2YoIj8iKT8iPyI6IiYiKStwYXJ0cy5qb2luKCImIil9LGNvbmZpZy51cmxDcmVhdG9yRmFjdG9yeS5wYXRoPVBhdGh9O3ZhciBnbG9iYWxDb25maWd1cmF0aW9uPXt9O0NvbmZpZ3VyZXIuaW5pdCh0aGlzLGdsb2JhbENvbmZpZ3VyYXRpb24pLHRoaXMuJGdldD1bIiRodHRwIiwiJHEiLGZ1bmN0aW9uKCRodHRwLCRxKXtmdW5jdGlvbiBjcmVhdGVTZXJ2aWNlRm9yQ29uZmlndXJhdGlvbihjb25maWcpe2Z1bmN0aW9uIHJlc3Rhbmd1bGFyaXplQmFzZShwYXJlbnQsZWxlbSxyb3V0ZSxyZXFQYXJhbXMsZnJvbVNlcnZlcil7aWYoZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdPXJvdXRlLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldFJlc3Rhbmd1bGFyVXJsXT1fLmJpbmQodXJsSGFuZGxlci5mZXRjaFVybCx1cmxIYW5kbGVyLGVsZW0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldFJlcXVlc3RlZFVybF09Xy5iaW5kKHVybEhhbmRsZXIuZmV0Y2hSZXF1ZXN0ZWRVcmwsdXJsSGFuZGxlcixlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5hZGRSZXN0YW5ndWxhck1ldGhvZF09Xy5iaW5kKGFkZFJlc3Rhbmd1bGFyTWV0aG9kRnVuY3Rpb24sZWxlbSksZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY2xvbmVdPV8uYmluZChjb3B5UmVzdGFuZ3VsYXJpemVkRWxlbWVudCxlbGVtLGVsZW0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlcVBhcmFtc109Xy5pc0VtcHR5KHJlcVBhcmFtcyk/bnVsbDpyZXFQYXJhbXMsZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMud2l0aEh0dHBDb25maWddPV8uYmluZCh3aXRoSHR0cENvbmZpZyxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wbGFpbl09Xy5iaW5kKHN0cmlwUmVzdGFuZ3VsYXIsZWxlbSxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5vbmVdPV8uYmluZChvbmUsZWxlbSxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5hbGxdPV8uYmluZChhbGwsZWxlbSxlbGVtKSxlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zZXZlcmFsXT1fLmJpbmQoc2V2ZXJhbCxlbGVtLGVsZW0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLm9uZVVybF09Xy5iaW5kKG9uZVVybCxlbGVtLGVsZW0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmFsbFVybF09Xy5iaW5kKGFsbFVybCxlbGVtLGVsZW0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmZyb21TZXJ2ZXJdPSEhZnJvbVNlcnZlcixwYXJlbnQmJmNvbmZpZy5zaG91bGRTYXZlUGFyZW50KHJvdXRlKSl7dmFyIHBhcmVudElkPWNvbmZpZy5nZXRJZEZyb21FbGVtKHBhcmVudCkscGFyZW50VXJsPWNvbmZpZy5nZXRVcmxGcm9tRWxlbShwYXJlbnQpLHJlc3Rhbmd1bGFyRmllbGRzRm9yUGFyZW50PV8udW5pb24oXy52YWx1ZXMoXy5waWNrKGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcyxbInJvdXRlIiwic2luZ2xlT25lIiwicGFyZW50UmVzb3VyY2UiXSkpLGNvbmZpZy5leHRyYUZpZWxkcykscGFyZW50UmVzb3VyY2U9Xy5waWNrKHBhcmVudCxyZXN0YW5ndWxhckZpZWxkc0ZvclBhcmVudCk7Y29uZmlnLmlzVmFsaWRJZChwYXJlbnRJZCkmJmNvbmZpZy5zZXRJZFRvRWxlbShwYXJlbnRSZXNvdXJjZSxwYXJlbnRJZCksY29uZmlnLmlzVmFsaWRJZChwYXJlbnRVcmwpJiZjb25maWcuc2V0VXJsVG9FbGVtKHBhcmVudFJlc291cmNlLHBhcmVudFVybCksZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdPXBhcmVudFJlc291cmNlfWVsc2UgZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdPW51bGw7cmV0dXJuIGVsZW19ZnVuY3Rpb24gb25lKHBhcmVudCxyb3V0ZSxpZCxzaW5nbGVPbmUpe2lmKF8uaXNOdW1iZXIocm91dGUpfHxfLmlzTnVtYmVyKHBhcmVudCkpe3ZhciBlcnJvcj0iWW91J3JlIGNyZWF0aW5nIGEgUmVzdGFuZ3VsYXIgZW50aXR5IHdpdGggdGhlIG51bWJlciAiO3Rocm93IGVycm9yKz0iaW5zdGVhZCBvZiB0aGUgcm91dGUgb3IgdGhlIHBhcmVudC4gWW91IGNhbid0IGNhbGwgLm9uZSgxMikiLG5ldyBFcnJvcihlcnJvcil9dmFyIGVsZW09e307cmV0dXJuIGNvbmZpZy5zZXRJZFRvRWxlbShlbGVtLGlkKSxjb25maWcuc2V0RmllbGRUb0VsZW0oY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnNpbmdsZU9uZSxlbGVtLHNpbmdsZU9uZSkscmVzdGFuZ3VsYXJpemVFbGVtKHBhcmVudCxlbGVtLHJvdXRlLCExKX1mdW5jdGlvbiBhbGwocGFyZW50LHJvdXRlKXtyZXR1cm4gcmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKHBhcmVudCxbXSxyb3V0ZSwhMSl9ZnVuY3Rpb24gc2V2ZXJhbChwYXJlbnQscm91dGUpe3ZhciBjb2xsZWN0aW9uPVtdO3JldHVybiBjb2xsZWN0aW9uW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5pZHNdPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsMikscmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKHBhcmVudCxjb2xsZWN0aW9uLHJvdXRlLCExKX1mdW5jdGlvbiBvbmVVcmwocGFyZW50LHJvdXRlLHVybCl7aWYoIXJvdXRlKXRocm93IG5ldyBFcnJvcigiUm91dGUgaXMgbWFuZGF0b3J5IHdoZW4gY3JlYXRpbmcgbmV3IFJlc3Rhbmd1bGFyIG9iamVjdHMuIik7dmFyIGVsZW09e307cmV0dXJuIGNvbmZpZy5zZXRVcmxUb0VsZW0oZWxlbSx1cmwscm91dGUpLHJlc3Rhbmd1bGFyaXplRWxlbShwYXJlbnQsZWxlbSxyb3V0ZSwhMSl9ZnVuY3Rpb24gYWxsVXJsKHBhcmVudCxyb3V0ZSx1cmwpe2lmKCFyb3V0ZSl0aHJvdyBuZXcgRXJyb3IoIlJvdXRlIGlzIG1hbmRhdG9yeSB3aGVuIGNyZWF0aW5nIG5ldyBSZXN0YW5ndWxhciBvYmplY3RzLiIpO3ZhciBlbGVtPXt9O3JldHVybiBjb25maWcuc2V0VXJsVG9FbGVtKGVsZW0sdXJsLHJvdXRlKSxyZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb24ocGFyZW50LGVsZW0scm91dGUsITEpfWZ1bmN0aW9uIHJlc3Rhbmd1bGFyaXplUHJvbWlzZShwcm9taXNlLGlzQ29sbGVjdGlvbix2YWx1ZVRvRmlsbCl7cmV0dXJuIHByb21pc2UuY2FsbD1fLmJpbmQocHJvbWlzZUNhbGwscHJvbWlzZSkscHJvbWlzZS5nZXQ9Xy5iaW5kKHByb21pc2VHZXQscHJvbWlzZSkscHJvbWlzZVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXT1pc0NvbGxlY3Rpb24saXNDb2xsZWN0aW9uJiYocHJvbWlzZS5wdXNoPV8uYmluZChwcm9taXNlQ2FsbCxwcm9taXNlLCJwdXNoIikpLHByb21pc2UuJG9iamVjdD12YWx1ZVRvRmlsbCxwcm9taXNlfWZ1bmN0aW9uIHByb21pc2VDYWxsKG1ldGhvZCl7dmFyIGRlZmVycmVkPSRxLmRlZmVyKCksY2FsbEFyZ3M9YXJndW1lbnRzLGZpbGxlZFZhbHVlPXt9O3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsKXt2YXIgcGFyYW1zPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNhbGxBcmdzLDEpLGZ1bmM9dmFsW21ldGhvZF07ZnVuYy5hcHBseSh2YWwscGFyYW1zKSxmaWxsZWRWYWx1ZT12YWwsZGVmZXJyZWQucmVzb2x2ZSh2YWwpfSkscmVzdGFuZ3VsYXJpemVQcm9taXNlKGRlZmVycmVkLnByb21pc2UsdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXSxmaWxsZWRWYWx1ZSl9ZnVuY3Rpb24gcHJvbWlzZUdldCh3aGF0KXt2YXIgZGVmZXJyZWQ9JHEuZGVmZXIoKSxmaWxsZWRWYWx1ZT17fTtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbCl7ZmlsbGVkVmFsdWU9dmFsW3doYXRdLGRlZmVycmVkLnJlc29sdmUoZmlsbGVkVmFsdWUpfSkscmVzdGFuZ3VsYXJpemVQcm9taXNlKGRlZmVycmVkLnByb21pc2UsdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXSxmaWxsZWRWYWx1ZSl9ZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UoZGVmZXJyZWQscmVzcG9uc2UsZGF0YSxmaWxsZWRWYWx1ZSl7cmV0dXJuIF8uZXh0ZW5kKGZpbGxlZFZhbHVlLGRhdGEpLGNvbmZpZy5mdWxsUmVzcG9uc2U/ZGVmZXJyZWQucmVzb2x2ZShfLmV4dGVuZChyZXNwb25zZSx7ZGF0YTpkYXRhfSkpOnZvaWQgZGVmZXJyZWQucmVzb2x2ZShkYXRhKX1mdW5jdGlvbiBzdHJpcFJlc3Rhbmd1bGFyKGVsZW0pe2lmKF8uaXNBcnJheShlbGVtKSl7dmFyIGFycmF5PVtdO3JldHVybiBfLmVhY2goZWxlbSxmdW5jdGlvbih2YWx1ZSl7YXJyYXkucHVzaChzdHJpcFJlc3Rhbmd1bGFyKHZhbHVlKSl9KSxhcnJheX1yZXR1cm4gXy5vbWl0KGVsZW0sXy52YWx1ZXMoXy5vbWl0KGNvbmZpZy5yZXN0YW5ndWxhckZpZWxkcywiaWQiKSkpfWZ1bmN0aW9uIGFkZEN1c3RvbU9wZXJhdGlvbihlbGVtKXtlbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5jdXN0b21PcGVyYXRpb25dPV8uYmluZChjdXN0b21GdW5jdGlvbixlbGVtKSxfLmVhY2goWyJwdXQiLCJwb3N0IiwiZ2V0IiwiZGVsZXRlIl0sZnVuY3Rpb24ob3Blcil7Xy5lYWNoKFsiZG8iLCJjdXN0b20iXSxmdW5jdGlvbihhbGlhcyl7dmFyIGNhbGxGdW5jdGlvbixjYWxsT3BlcmF0aW9uPSJkZWxldGUiPT09b3Blcj8icmVtb3ZlIjpvcGVyLG5hbWU9YWxpYXMrb3Blci50b1VwcGVyQ2FzZSgpO2NhbGxGdW5jdGlvbj0icHV0IiE9PWNhbGxPcGVyYXRpb24mJiJwb3N0IiE9PWNhbGxPcGVyYXRpb24/Y3VzdG9tRnVuY3Rpb246ZnVuY3Rpb24ob3BlcmF0aW9uLGVsZW0scGF0aCxwYXJhbXMsaGVhZGVycyl7cmV0dXJuIF8uYmluZChjdXN0b21GdW5jdGlvbix0aGlzKShvcGVyYXRpb24scGF0aCxwYXJhbXMsaGVhZGVycyxlbGVtKX0sZWxlbVtuYW1lXT1fLmJpbmQoY2FsbEZ1bmN0aW9uLGVsZW0sY2FsbE9wZXJhdGlvbil9KX0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmN1c3RvbUdFVExJU1RdPV8uYmluZChmZXRjaEZ1bmN0aW9uLGVsZW0pLGVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmRvR0VUTElTVF09ZWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuY3VzdG9tR0VUTElTVF19ZnVuY3Rpb24gY29weVJlc3Rhbmd1bGFyaXplZEVsZW1lbnQoZnJvbUVsZW1lbnQsdG9FbGVtZW50KXt2YXIgY29waWVkRWxlbWVudD1hbmd1bGFyLmNvcHkoZnJvbUVsZW1lbnQsdG9FbGVtZW50KTtyZXR1cm4gcmVzdGFuZ3VsYXJpemVFbGVtKGNvcGllZEVsZW1lbnRbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhcmVudFJlc291cmNlXSxjb3BpZWRFbGVtZW50LGNvcGllZEVsZW1lbnRbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSwhMCl9ZnVuY3Rpb24gcmVzdGFuZ3VsYXJpemVFbGVtKHBhcmVudCxlbGVtZW50LHJvdXRlLGZyb21TZXJ2ZXIsY29sbGVjdGlvbixyZXFQYXJhbXMpe3ZhciBlbGVtPWNvbmZpZy5vbkJlZm9yZUVsZW1SZXN0YW5ndWxhcml6ZWQoZWxlbWVudCwhMSxyb3V0ZSksbG9jYWxFbGVtPXJlc3Rhbmd1bGFyaXplQmFzZShwYXJlbnQsZWxlbSxyb3V0ZSxyZXFQYXJhbXMsZnJvbVNlcnZlcik7cmV0dXJuIGNvbmZpZy51c2VDYW5ub25pY2FsSWQmJihsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmNhbm5vbmljYWxJZF09Y29uZmlnLmdldElkRnJvbUVsZW0obG9jYWxFbGVtKSksY29sbGVjdGlvbiYmKGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZ2V0UGFyZW50TGlzdF09ZnVuY3Rpb24oKXtyZXR1cm4gY29sbGVjdGlvbn0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXT0hMSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmdldF09Xy5iaW5kKGdldEZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5nZXRMaXN0XT1fLmJpbmQoZmV0Y2hGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucHV0XT1fLmJpbmQocHV0RnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBvc3RdPV8uYmluZChwb3N0RnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlbW92ZV09Xy5iaW5kKGRlbGV0ZUZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5oZWFkXT1fLmJpbmQoaGVhZEZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy50cmFjZV09Xy5iaW5kKHRyYWNlRnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLm9wdGlvbnNdPV8uYmluZChvcHRpb25zRnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhdGNoXT1fLmJpbmQocGF0Y2hGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuc2F2ZV09Xy5iaW5kKHNhdmUsbG9jYWxFbGVtKSxhZGRDdXN0b21PcGVyYXRpb24obG9jYWxFbGVtKSxjb25maWcudHJhbnNmb3JtRWxlbShsb2NhbEVsZW0sITEscm91dGUsc2VydmljZSwhMCl9ZnVuY3Rpb24gcmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKHBhcmVudCxlbGVtZW50LHJvdXRlLGZyb21TZXJ2ZXIscmVxUGFyYW1zKXt2YXIgZWxlbT1jb25maWcub25CZWZvcmVFbGVtUmVzdGFuZ3VsYXJpemVkKGVsZW1lbnQsITAscm91dGUpLGxvY2FsRWxlbT1yZXN0YW5ndWxhcml6ZUJhc2UocGFyZW50LGVsZW0scm91dGUscmVxUGFyYW1zLGZyb21TZXJ2ZXIpO3JldHVybiBsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl09ITAsbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wb3N0XT1fLmJpbmQocG9zdEZ1bmN0aW9uLGxvY2FsRWxlbSxudWxsKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlbW92ZV09Xy5iaW5kKGRlbGV0ZUZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5oZWFkXT1fLmJpbmQoaGVhZEZ1bmN0aW9uLGxvY2FsRWxlbSksbG9jYWxFbGVtW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy50cmFjZV09Xy5iaW5kKHRyYWNlRnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnB1dEVsZW1lbnRdPV8uYmluZChwdXRFbGVtZW50RnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLm9wdGlvbnNdPV8uYmluZChvcHRpb25zRnVuY3Rpb24sbG9jYWxFbGVtKSxsb2NhbEVsZW1bY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnBhdGNoXT1fLmJpbmQocGF0Y2hGdW5jdGlvbixsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZ2V0XT1fLmJpbmQoZ2V0QnlJZCxsb2NhbEVsZW0pLGxvY2FsRWxlbVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZ2V0TGlzdF09Xy5iaW5kKGZldGNoRnVuY3Rpb24sbG9jYWxFbGVtLG51bGwpLGFkZEN1c3RvbU9wZXJhdGlvbihsb2NhbEVsZW0pLGNvbmZpZy50cmFuc2Zvcm1FbGVtKGxvY2FsRWxlbSwhMCxyb3V0ZSxzZXJ2aWNlLCEwKX1mdW5jdGlvbiByZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb25BbmRFbGVtZW50cyhwYXJlbnQsZWxlbWVudCxyb3V0ZSl7dmFyIGNvbGxlY3Rpb249cmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKHBhcmVudCxlbGVtZW50LHJvdXRlLCExKTtyZXR1cm4gXy5lYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24oZWxlbSl7cmVzdGFuZ3VsYXJpemVFbGVtKHBhcmVudCxlbGVtLHJvdXRlLCExKX0pLGNvbGxlY3Rpb259ZnVuY3Rpb24gZ2V0QnlJZChpZCxyZXFQYXJhbXMsaGVhZGVycyl7cmV0dXJuIHRoaXMuY3VzdG9tR0VUKGlkLnRvU3RyaW5nKCkscmVxUGFyYW1zLGhlYWRlcnMpfWZ1bmN0aW9uIHB1dEVsZW1lbnRGdW5jdGlvbihpZHgscGFyYW1zLGhlYWRlcnMpe3ZhciBfX3RoaXM9dGhpcyxlbGVtVG9QdXQ9dGhpc1tpZHhdLGRlZmVycmVkPSRxLmRlZmVyKCksZmlsbGVkQXJyYXk9W107cmV0dXJuIGZpbGxlZEFycmF5PWNvbmZpZy50cmFuc2Zvcm1FbGVtKGZpbGxlZEFycmF5LCEwLGVsZW1Ub1B1dFtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdLHNlcnZpY2UpLGVsZW1Ub1B1dC5wdXQocGFyYW1zLGhlYWRlcnMpLnRoZW4oZnVuY3Rpb24oc2VydmVyRWxlbSl7dmFyIG5ld0FycmF5PWNvcHlSZXN0YW5ndWxhcml6ZWRFbGVtZW50KF9fdGhpcyk7bmV3QXJyYXlbaWR4XT1zZXJ2ZXJFbGVtLGZpbGxlZEFycmF5PW5ld0FycmF5LGRlZmVycmVkLnJlc29sdmUobmV3QXJyYXkpfSxmdW5jdGlvbihyZXNwb25zZSl7ZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlKX0pLHJlc3Rhbmd1bGFyaXplUHJvbWlzZShkZWZlcnJlZC5wcm9taXNlLCEwLGZpbGxlZEFycmF5KX1mdW5jdGlvbiBwYXJzZVJlc3BvbnNlKHJlc0RhdGEsb3BlcmF0aW9uLHJvdXRlLGZldGNoVXJsLHJlc3BvbnNlLGRlZmVycmVkKXt2YXIgZGF0YT1jb25maWcucmVzcG9uc2VFeHRyYWN0b3IocmVzRGF0YSxvcGVyYXRpb24scm91dGUsZmV0Y2hVcmwscmVzcG9uc2UsZGVmZXJyZWQpLGV0YWc9cmVzcG9uc2UuaGVhZGVycygiRVRhZyIpO3JldHVybiBkYXRhJiZldGFnJiYoZGF0YVtjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZXRhZ109ZXRhZyksZGF0YX1mdW5jdGlvbiBmZXRjaEZ1bmN0aW9uKHdoYXQscmVxUGFyYW1zLGhlYWRlcnMpe3ZhciBfX3RoaXM9dGhpcyxkZWZlcnJlZD0kcS5kZWZlcigpLG9wZXJhdGlvbj0iZ2V0TGlzdCIsdXJsPXVybEhhbmRsZXIuZmV0Y2hVcmwodGhpcyx3aGF0KSx3aGF0RmV0Y2hlZD13aGF0fHxfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSxyZXF1ZXN0PWNvbmZpZy5mdWxsUmVxdWVzdEludGVyY2VwdG9yKG51bGwsb3BlcmF0aW9uLHdoYXRGZXRjaGVkLHVybCxoZWFkZXJzfHx7fSxyZXFQYXJhbXN8fHt9LHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmh0dHBDb25maWddfHx7fSksZmlsbGVkQXJyYXk9W107ZmlsbGVkQXJyYXk9Y29uZmlnLnRyYW5zZm9ybUVsZW0oZmlsbGVkQXJyYXksITAsd2hhdEZldGNoZWQsc2VydmljZSk7dmFyIG1ldGhvZD0iZ2V0TGlzdCI7cmV0dXJuIGNvbmZpZy5qc29ucCYmKG1ldGhvZD0ianNvbnAiKSx1cmxIYW5kbGVyLnJlc291cmNlKHRoaXMsJGh0dHAscmVxdWVzdC5odHRwQ29uZmlnLHJlcXVlc3QuaGVhZGVycyxyZXF1ZXN0LnBhcmFtcyx3aGF0LHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmV0YWddLG9wZXJhdGlvbilbbWV0aG9kXSgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe3ZhciByZXNEYXRhPXJlc3BvbnNlLmRhdGEsZnVsbFBhcmFtcz1yZXNwb25zZS5jb25maWcucGFyYW1zLGRhdGE9cGFyc2VSZXNwb25zZShyZXNEYXRhLG9wZXJhdGlvbix3aGF0RmV0Y2hlZCx1cmwscmVzcG9uc2UsZGVmZXJyZWQpO2lmKChfLmlzVW5kZWZpbmVkKGRhdGEpfHwiIj09PWRhdGEpJiYoZGF0YT1bXSksIV8uaXNBcnJheShkYXRhKSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGZvciBnZXRMaXN0IFNIT1VMRCBiZSBhbiBhcnJheSBhbmQgbm90IGFuIG9iamVjdCBvciBzb21ldGhpbmcgZWxzZSIpO3ZhciBwcm9jZXNzZWREYXRhPV8ubWFwKGRhdGEsZnVuY3Rpb24oZWxlbSl7cmV0dXJuIF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXT9yZXN0YW5ndWxhcml6ZUVsZW0oX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXJlbnRSZXNvdXJjZV0sZWxlbSxfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSwhMCxkYXRhKTpyZXN0YW5ndWxhcml6ZUVsZW0oX190aGlzLGVsZW0sd2hhdCwhMCxkYXRhKX0pO3Byb2Nlc3NlZERhdGE9Xy5leHRlbmQoZGF0YSxwcm9jZXNzZWREYXRhKSxfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJlc3Rhbmd1bGFyQ29sbGVjdGlvbl0/cmVzb2x2ZVByb21pc2UoZGVmZXJyZWQscmVzcG9uc2UscmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uKF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucGFyZW50UmVzb3VyY2VdLHByb2Nlc3NlZERhdGEsX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yb3V0ZV0sITAsZnVsbFBhcmFtcyksZmlsbGVkQXJyYXkpOnJlc29sdmVQcm9taXNlKGRlZmVycmVkLHJlc3BvbnNlLHJlc3Rhbmd1bGFyaXplQ29sbGVjdGlvbihfX3RoaXMscHJvY2Vzc2VkRGF0YSx3aGF0LCEwLGZ1bGxQYXJhbXMpLGZpbGxlZEFycmF5KX0sZnVuY3Rpb24ocmVzcG9uc2UpezMwND09PXJlc3BvbnNlLnN0YXR1cyYmX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5yZXN0YW5ndWxhckNvbGxlY3Rpb25dP3Jlc29sdmVQcm9taXNlKGRlZmVycmVkLHJlc3BvbnNlLF9fdGhpcyxmaWxsZWRBcnJheSk6Y29uZmlnLmVycm9ySW50ZXJjZXB0b3IocmVzcG9uc2UsZGVmZXJyZWQpIT09ITEmJmRlZmVycmVkLnJlamVjdChyZXNwb25zZSl9KSxyZXN0YW5ndWxhcml6ZVByb21pc2UoZGVmZXJyZWQucHJvbWlzZSwhMCxmaWxsZWRBcnJheSl9ZnVuY3Rpb24gd2l0aEh0dHBDb25maWcoaHR0cENvbmZpZyl7cmV0dXJuIHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmh0dHBDb25maWddPWh0dHBDb25maWcsdGhpc31mdW5jdGlvbiBzYXZlKHBhcmFtcyxoZWFkZXJzKXtyZXR1cm4gdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZnJvbVNlcnZlcl0/dGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucHV0XShwYXJhbXMsaGVhZGVycyk6Xy5iaW5kKGVsZW1GdW5jdGlvbix0aGlzKSgicG9zdCIsdm9pZCAwLHBhcmFtcyx2b2lkIDAsaGVhZGVycyl9ZnVuY3Rpb24gZWxlbUZ1bmN0aW9uKG9wZXJhdGlvbix3aGF0LHBhcmFtcyxvYmosaGVhZGVycyl7dmFyIF9fdGhpcz10aGlzLGRlZmVycmVkPSRxLmRlZmVyKCkscmVzUGFyYW1zPXBhcmFtc3x8e30scm91dGU9d2hhdHx8dGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucm91dGVdLGZldGNoVXJsPXVybEhhbmRsZXIuZmV0Y2hVcmwodGhpcyx3aGF0KSxjYWxsT2JqPW9ianx8dGhpcyxldGFnPWNhbGxPYmpbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmV0YWddfHwoInBvc3QiIT1vcGVyYXRpb24/dGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMuZXRhZ106bnVsbCk7Xy5pc09iamVjdChjYWxsT2JqKSYmY29uZmlnLmlzUmVzdGFuZ3VsYXJpemVkKGNhbGxPYmopJiYoY2FsbE9iaj1zdHJpcFJlc3Rhbmd1bGFyKGNhbGxPYmopKTt2YXIgcmVxdWVzdD1jb25maWcuZnVsbFJlcXVlc3RJbnRlcmNlcHRvcihjYWxsT2JqLG9wZXJhdGlvbixyb3V0ZSxmZXRjaFVybCxoZWFkZXJzfHx7fSxyZXNQYXJhbXN8fHt9LHRoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLmh0dHBDb25maWddfHx7fSksZmlsbGVkT2JqZWN0PXt9O2ZpbGxlZE9iamVjdD1jb25maWcudHJhbnNmb3JtRWxlbShmaWxsZWRPYmplY3QsITEscm91dGUsc2VydmljZSk7dmFyIG9rQ2FsbGJhY2s9ZnVuY3Rpb24ocmVzcG9uc2Upe3ZhciByZXNEYXRhPXJlc3BvbnNlLmRhdGEsZnVsbFBhcmFtcz1yZXNwb25zZS5jb25maWcucGFyYW1zLGVsZW09cGFyc2VSZXNwb25zZShyZXNEYXRhLG9wZXJhdGlvbixyb3V0ZSxmZXRjaFVybCxyZXNwb25zZSxkZWZlcnJlZCk7ZWxlbT8icG9zdCIhPT1vcGVyYXRpb258fF9fdGhpc1tjb25maWcucmVzdGFuZ3VsYXJGaWVsZHMucmVzdGFuZ3VsYXJDb2xsZWN0aW9uXT8oZGF0YT1yZXN0YW5ndWxhcml6ZUVsZW0oX190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5wYXJlbnRSZXNvdXJjZV0sZWxlbSxfX3RoaXNbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnJvdXRlXSwhMCxudWxsLGZ1bGxQYXJhbXMpLGRhdGFbY29uZmlnLnJlc3Rhbmd1bGFyRmllbGRzLnNpbmdsZU9uZV09X190aGlzW2NvbmZpZy5yZXN0YW5ndWxhckZpZWxkcy5zaW5nbGVPbmVdLHJlc29sdmVQcm9taXNlKGRlZmVycmVkLHJlc3BvbnNlLGRhdGEsZmlsbGVkT2JqZWN0KSk6cmVzb2x2ZVByb21pc2UoZGVmZXJyZWQscmVzcG9uc2UscmVzdGFuZ3VsYXJpemVFbGVtKF9fdGhpcyxlbGVtLHdoYXQsITAsbnVsbCxmdWxsUGFyYW1zKSxmaWxsZWRPYmplY3QpOnJlc29sdmVQcm9taXNlKGRlZmVycmVkLHJlc3BvbnNlLHZvaWQgMCxmaWxsZWRPYmplY3QpfSxlcnJvckNhbGxiYWNrPWZ1bmN0aW9uKHJlc3BvbnNlKXszMDQ9PT1yZXNwb25zZS5zdGF0dXMmJmNvbmZpZy5pc1NhZmUob3BlcmF0aW9uKT9yZXNvbHZlUHJvbWlzZShkZWZlcnJlZCxyZXNwb25zZSxfX3RoaXMsZmlsbGVkT2JqZWN0KTpjb25maWcuZXJyb3JJbnRlcmNlcHRvcihyZXNwb25zZSxkZWZlcnJlZCkhPT0hMSYmZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlKX0sY2FsbE9wZXJhdGlvbj1vcGVyYXRpb24sY2FsbEhlYWRlcnM9Xy5leHRlbmQoe30scmVxdWVzdC5oZWFkZXJzKSxpc092ZXJyaWRlT3BlcmF0aW9uPWNvbmZpZy5pc092ZXJyaWRlbk1ldGhvZChvcGVyYXRpb24pO3JldHVybiBpc092ZXJyaWRlT3BlcmF0aW9uPyhjYWxsT3BlcmF0aW9uPSJwb3N0IixjYWxsSGVhZGVycz1fLmV4dGVuZChjYWxsSGVhZGVycyx7IlgtSFRUUC1NZXRob2QtT3ZlcnJpZGUiOiJyZW1vdmUiPT09b3BlcmF0aW9uPyJERUxFVEUiOm9wZXJhdGlvbn0pKTpjb25maWcuanNvbnAmJiJnZXQiPT09Y2FsbE9wZXJhdGlvbiYmKGNhbGxPcGVyYXRpb249Impzb25wIiksY29uZmlnLmlzU2FmZShvcGVyYXRpb24pP2lzT3ZlcnJpZGVPcGVyYXRpb24/dXJsSGFuZGxlci5yZXNvdXJjZSh0aGlzLCRodHRwLHJlcXVlc3QuaHR0cENvbmZpZyxjYWxsSGVhZGVycyxyZXF1ZXN0LnBhcmFtcyx3aGF0LGV0YWcsY2FsbE9wZXJhdGlvbilbY2FsbE9wZXJhdGlvbl0oe30pLnRoZW4ob2tDYWxsYmFjayxlcnJvckNhbGxiYWNrKTp1cmxIYW5kbGVyLnJlc291cmNlKHRoaXMsJGh0dHAscmVxdWVzdC5odHRwQ29uZmlnLGNhbGxIZWFkZXJzLHJlcXVlc3QucGFyYW1zLHdoYXQsZXRhZyxjYWxsT3BlcmF0aW9uKVtjYWxsT3BlcmF0aW9uXSgpLnRoZW4ob2tDYWxsYmFjayxlcnJvckNhbGxiYWNrKTp1cmxIYW5kbGVyLnJlc291cmNlKHRoaXMsJGh0dHAscmVxdWVzdC5odHRwQ29uZmlnLGNhbGxIZWFkZXJzLHJlcXVlc3QucGFyYW1zLHdoYXQsZXRhZyxjYWxsT3BlcmF0aW9uKVtjYWxsT3BlcmF0aW9uXShyZXF1ZXN0LmVsZW1lbnQpLnRoZW4ob2tDYWxsYmFjayxlcnJvckNhbGxiYWNrKSxyZXN0YW5ndWxhcml6ZVByb21pc2UoZGVmZXJyZWQucHJvbWlzZSwhMSxmaWxsZWRPYmplY3QpfWZ1bmN0aW9uIGdldEZ1bmN0aW9uKHBhcmFtcyxoZWFkZXJzKXtyZXR1cm4gXy5iaW5kKGVsZW1GdW5jdGlvbix0aGlzKSgiZ2V0Iix2b2lkIDAscGFyYW1zLHZvaWQgMCxoZWFkZXJzKX1mdW5jdGlvbiBkZWxldGVGdW5jdGlvbihwYXJhbXMsaGVhZGVycyl7cmV0dXJuIF8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykoInJlbW92ZSIsdm9pZCAwLHBhcmFtcyx2b2lkIDAsaGVhZGVycyl9ZnVuY3Rpb24gcHV0RnVuY3Rpb24ocGFyYW1zLGhlYWRlcnMpe3JldHVybiBfLmJpbmQoZWxlbUZ1bmN0aW9uLHRoaXMpKCJwdXQiLHZvaWQgMCxwYXJhbXMsdm9pZCAwLGhlYWRlcnMpCn1mdW5jdGlvbiBwb3N0RnVuY3Rpb24od2hhdCxlbGVtLHBhcmFtcyxoZWFkZXJzKXtyZXR1cm4gXy5iaW5kKGVsZW1GdW5jdGlvbix0aGlzKSgicG9zdCIsd2hhdCxwYXJhbXMsZWxlbSxoZWFkZXJzKX1mdW5jdGlvbiBoZWFkRnVuY3Rpb24ocGFyYW1zLGhlYWRlcnMpe3JldHVybiBfLmJpbmQoZWxlbUZ1bmN0aW9uLHRoaXMpKCJoZWFkIix2b2lkIDAscGFyYW1zLHZvaWQgMCxoZWFkZXJzKX1mdW5jdGlvbiB0cmFjZUZ1bmN0aW9uKHBhcmFtcyxoZWFkZXJzKXtyZXR1cm4gXy5iaW5kKGVsZW1GdW5jdGlvbix0aGlzKSgidHJhY2UiLHZvaWQgMCxwYXJhbXMsdm9pZCAwLGhlYWRlcnMpfWZ1bmN0aW9uIG9wdGlvbnNGdW5jdGlvbihwYXJhbXMsaGVhZGVycyl7cmV0dXJuIF8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykoIm9wdGlvbnMiLHZvaWQgMCxwYXJhbXMsdm9pZCAwLGhlYWRlcnMpfWZ1bmN0aW9uIHBhdGNoRnVuY3Rpb24oZWxlbSxwYXJhbXMsaGVhZGVycyl7cmV0dXJuIF8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykoInBhdGNoIix2b2lkIDAscGFyYW1zLGVsZW0saGVhZGVycyl9ZnVuY3Rpb24gY3VzdG9tRnVuY3Rpb24ob3BlcmF0aW9uLHBhdGgscGFyYW1zLGhlYWRlcnMsZWxlbSl7cmV0dXJuIF8uYmluZChlbGVtRnVuY3Rpb24sdGhpcykob3BlcmF0aW9uLHBhdGgscGFyYW1zLGVsZW0saGVhZGVycyl9ZnVuY3Rpb24gYWRkUmVzdGFuZ3VsYXJNZXRob2RGdW5jdGlvbihuYW1lLG9wZXJhdGlvbixwYXRoLGRlZmF1bHRQYXJhbXMsZGVmYXVsdEhlYWRlcnMsZGVmYXVsdEVsZW0pe3ZhciBiaW5kZWRGdW5jdGlvbjtiaW5kZWRGdW5jdGlvbj0iZ2V0TGlzdCI9PT1vcGVyYXRpb24/Xy5iaW5kKGZldGNoRnVuY3Rpb24sdGhpcyxwYXRoKTpfLmJpbmQoY3VzdG9tRnVuY3Rpb24sdGhpcyxvcGVyYXRpb24scGF0aCk7dmFyIGNyZWF0ZWRGdW5jdGlvbj1mdW5jdGlvbihwYXJhbXMsaGVhZGVycyxlbGVtKXt2YXIgY2FsbFBhcmFtcz1fLmRlZmF1bHRzKHtwYXJhbXM6cGFyYW1zLGhlYWRlcnM6aGVhZGVycyxlbGVtOmVsZW19LHtwYXJhbXM6ZGVmYXVsdFBhcmFtcyxoZWFkZXJzOmRlZmF1bHRIZWFkZXJzLGVsZW06ZGVmYXVsdEVsZW19KTtyZXR1cm4gYmluZGVkRnVuY3Rpb24oY2FsbFBhcmFtcy5wYXJhbXMsY2FsbFBhcmFtcy5oZWFkZXJzLGNhbGxQYXJhbXMuZWxlbSl9O3RoaXNbbmFtZV09Y29uZmlnLmlzU2FmZShvcGVyYXRpb24pP2NyZWF0ZWRGdW5jdGlvbjpmdW5jdGlvbihlbGVtLHBhcmFtcyxoZWFkZXJzKXtyZXR1cm4gY3JlYXRlZEZ1bmN0aW9uKHBhcmFtcyxoZWFkZXJzLGVsZW0pfX1mdW5jdGlvbiB3aXRoQ29uZmlndXJhdGlvbkZ1bmN0aW9uKGNvbmZpZ3VyZXIpe3ZhciBuZXdDb25maWc9YW5ndWxhci5jb3B5KF8ub21pdChjb25maWcsImNvbmZpZ3VyYXRpb24iKSk7cmV0dXJuIENvbmZpZ3VyZXIuaW5pdChuZXdDb25maWcsbmV3Q29uZmlnKSxjb25maWd1cmVyKG5ld0NvbmZpZyksY3JlYXRlU2VydmljZUZvckNvbmZpZ3VyYXRpb24obmV3Q29uZmlnKX1mdW5jdGlvbiB0b1NlcnZpY2Uocm91dGUscGFyZW50KXt2YXIgc2Vydj17fSxjb2xsZWN0aW9uPShwYXJlbnR8fHNlcnZpY2UpLmFsbChyb3V0ZSk7cmV0dXJuIHNlcnYub25lPV8uYmluZChvbmUscGFyZW50fHxzZXJ2aWNlLHBhcmVudCxyb3V0ZSksc2Vydi5wb3N0PV8uYmluZChjb2xsZWN0aW9uLnBvc3QsY29sbGVjdGlvbiksc2Vydi5nZXRMaXN0PV8uYmluZChjb2xsZWN0aW9uLmdldExpc3QsY29sbGVjdGlvbiksc2Vydn12YXIgc2VydmljZT17fSx1cmxIYW5kbGVyPW5ldyBjb25maWcudXJsQ3JlYXRvckZhY3RvcnlbY29uZmlnLnVybENyZWF0b3JdO3JldHVybiB1cmxIYW5kbGVyLnNldENvbmZpZyhjb25maWcpLENvbmZpZ3VyZXIuaW5pdChzZXJ2aWNlLGNvbmZpZyksc2VydmljZS5jb3B5PV8uYmluZChjb3B5UmVzdGFuZ3VsYXJpemVkRWxlbWVudCxzZXJ2aWNlKSxzZXJ2aWNlLnNlcnZpY2U9Xy5iaW5kKHRvU2VydmljZSxzZXJ2aWNlKSxzZXJ2aWNlLndpdGhDb25maWc9Xy5iaW5kKHdpdGhDb25maWd1cmF0aW9uRnVuY3Rpb24sc2VydmljZSksc2VydmljZS5vbmU9Xy5iaW5kKG9uZSxzZXJ2aWNlLG51bGwpLHNlcnZpY2UuYWxsPV8uYmluZChhbGwsc2VydmljZSxudWxsKSxzZXJ2aWNlLnNldmVyYWw9Xy5iaW5kKHNldmVyYWwsc2VydmljZSxudWxsKSxzZXJ2aWNlLm9uZVVybD1fLmJpbmQob25lVXJsLHNlcnZpY2UsbnVsbCksc2VydmljZS5hbGxVcmw9Xy5iaW5kKGFsbFVybCxzZXJ2aWNlLG51bGwpLHNlcnZpY2Uuc3RyaXBSZXN0YW5ndWxhcj1fLmJpbmQoc3RyaXBSZXN0YW5ndWxhcixzZXJ2aWNlKSxzZXJ2aWNlLnJlc3Rhbmd1bGFyaXplRWxlbWVudD1fLmJpbmQocmVzdGFuZ3VsYXJpemVFbGVtLHNlcnZpY2UpLHNlcnZpY2UucmVzdGFuZ3VsYXJpemVDb2xsZWN0aW9uPV8uYmluZChyZXN0YW5ndWxhcml6ZUNvbGxlY3Rpb25BbmRFbGVtZW50cyxzZXJ2aWNlKSxzZXJ2aWNlfXJldHVybiBjcmVhdGVTZXJ2aWNlRm9yQ29uZmlndXJhdGlvbihnbG9iYWxDb25maWd1cmF0aW9uKX1dfSl9KCksZnVuY3Rpb24oKXt2YXIgcm9vdD10aGlzLHByZXZpb3VzVW5kZXJzY29yZT1yb290Ll8sQXJyYXlQcm90bz1BcnJheS5wcm90b3R5cGUsT2JqUHJvdG89T2JqZWN0LnByb3RvdHlwZSxGdW5jUHJvdG89RnVuY3Rpb24ucHJvdG90eXBlLHB1c2g9QXJyYXlQcm90by5wdXNoLHNsaWNlPUFycmF5UHJvdG8uc2xpY2UsY29uY2F0PUFycmF5UHJvdG8uY29uY2F0LHRvU3RyaW5nPU9ialByb3RvLnRvU3RyaW5nLGhhc093blByb3BlcnR5PU9ialByb3RvLmhhc093blByb3BlcnR5LG5hdGl2ZUlzQXJyYXk9QXJyYXkuaXNBcnJheSxuYXRpdmVLZXlzPU9iamVjdC5rZXlzLG5hdGl2ZUJpbmQ9RnVuY1Byb3RvLmJpbmQsXz1mdW5jdGlvbihvYmope3JldHVybiBvYmogaW5zdGFuY2VvZiBfP29iajp0aGlzIGluc3RhbmNlb2YgXz92b2lkKHRoaXMuX3dyYXBwZWQ9b2JqKTpuZXcgXyhvYmopfTsidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHM/KCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9XyksZXhwb3J0cy5fPV8pOnJvb3QuXz1fLF8uVkVSU0lPTj0iMS43LjAiO3ZhciBjcmVhdGVDYWxsYmFjaz1mdW5jdGlvbihmdW5jLGNvbnRleHQsYXJnQ291bnQpe2lmKHZvaWQgMD09PWNvbnRleHQpcmV0dXJuIGZ1bmM7c3dpdGNoKG51bGw9PWFyZ0NvdW50PzM6YXJnQ291bnQpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24odmFsdWUpe3JldHVybiBmdW5jLmNhbGwoY29udGV4dCx2YWx1ZSl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odmFsdWUsb3RoZXIpe3JldHVybiBmdW5jLmNhbGwoY29udGV4dCx2YWx1ZSxvdGhlcil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pfTtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKGFjY3VtdWxhdG9yLHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiBmdW5jLmNhbGwoY29udGV4dCxhY2N1bXVsYXRvcix2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCxhcmd1bWVudHMpfX07Xy5pdGVyYXRlZT1mdW5jdGlvbih2YWx1ZSxjb250ZXh0LGFyZ0NvdW50KXtyZXR1cm4gbnVsbD09dmFsdWU/Xy5pZGVudGl0eTpfLmlzRnVuY3Rpb24odmFsdWUpP2NyZWF0ZUNhbGxiYWNrKHZhbHVlLGNvbnRleHQsYXJnQ291bnQpOl8uaXNPYmplY3QodmFsdWUpP18ubWF0Y2hlcyh2YWx1ZSk6Xy5wcm9wZXJ0eSh2YWx1ZSl9LF8uZWFjaD1fLmZvckVhY2g9ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLGNvbnRleHQpe2lmKG51bGw9PW9iailyZXR1cm4gb2JqO2l0ZXJhdGVlPWNyZWF0ZUNhbGxiYWNrKGl0ZXJhdGVlLGNvbnRleHQpO3ZhciBpLGxlbmd0aD1vYmoubGVuZ3RoO2lmKGxlbmd0aD09PStsZW5ndGgpZm9yKGk9MDtsZW5ndGg+aTtpKyspaXRlcmF0ZWUob2JqW2ldLGksb2JqKTtlbHNle3ZhciBrZXlzPV8ua2V5cyhvYmopO2ZvcihpPTAsbGVuZ3RoPWtleXMubGVuZ3RoO2xlbmd0aD5pO2krKylpdGVyYXRlZShvYmpba2V5c1tpXV0sa2V5c1tpXSxvYmopfXJldHVybiBvYmp9LF8ubWFwPV8uY29sbGVjdD1mdW5jdGlvbihvYmosaXRlcmF0ZWUsY29udGV4dCl7aWYobnVsbD09b2JqKXJldHVybltdO2l0ZXJhdGVlPV8uaXRlcmF0ZWUoaXRlcmF0ZWUsY29udGV4dCk7Zm9yKHZhciBjdXJyZW50S2V5LGtleXM9b2JqLmxlbmd0aCE9PStvYmoubGVuZ3RoJiZfLmtleXMob2JqKSxsZW5ndGg9KGtleXN8fG9iaikubGVuZ3RoLHJlc3VsdHM9QXJyYXkobGVuZ3RoKSxpbmRleD0wO2xlbmd0aD5pbmRleDtpbmRleCsrKWN1cnJlbnRLZXk9a2V5cz9rZXlzW2luZGV4XTppbmRleCxyZXN1bHRzW2luZGV4XT1pdGVyYXRlZShvYmpbY3VycmVudEtleV0sY3VycmVudEtleSxvYmopO3JldHVybiByZXN1bHRzfTt2YXIgcmVkdWNlRXJyb3I9IlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiO18ucmVkdWNlPV8uZm9sZGw9Xy5pbmplY3Q9ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLG1lbW8sY29udGV4dCl7bnVsbD09b2JqJiYob2JqPVtdKSxpdGVyYXRlZT1jcmVhdGVDYWxsYmFjayhpdGVyYXRlZSxjb250ZXh0LDQpO3ZhciBjdXJyZW50S2V5LGtleXM9b2JqLmxlbmd0aCE9PStvYmoubGVuZ3RoJiZfLmtleXMob2JqKSxsZW5ndGg9KGtleXN8fG9iaikubGVuZ3RoLGluZGV4PTA7aWYoYXJndW1lbnRzLmxlbmd0aDwzKXtpZighbGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IocmVkdWNlRXJyb3IpO21lbW89b2JqW2tleXM/a2V5c1tpbmRleCsrXTppbmRleCsrXX1mb3IoO2xlbmd0aD5pbmRleDtpbmRleCsrKWN1cnJlbnRLZXk9a2V5cz9rZXlzW2luZGV4XTppbmRleCxtZW1vPWl0ZXJhdGVlKG1lbW8sb2JqW2N1cnJlbnRLZXldLGN1cnJlbnRLZXksb2JqKTtyZXR1cm4gbWVtb30sXy5yZWR1Y2VSaWdodD1fLmZvbGRyPWZ1bmN0aW9uKG9iaixpdGVyYXRlZSxtZW1vLGNvbnRleHQpe251bGw9PW9iaiYmKG9iaj1bXSksaXRlcmF0ZWU9Y3JlYXRlQ2FsbGJhY2soaXRlcmF0ZWUsY29udGV4dCw0KTt2YXIgY3VycmVudEtleSxrZXlzPW9iai5sZW5ndGghPT0rb2JqLmxlbmd0aCYmXy5rZXlzKG9iaiksaW5kZXg9KGtleXN8fG9iaikubGVuZ3RoO2lmKGFyZ3VtZW50cy5sZW5ndGg8Myl7aWYoIWluZGV4KXRocm93IG5ldyBUeXBlRXJyb3IocmVkdWNlRXJyb3IpO21lbW89b2JqW2tleXM/a2V5c1stLWluZGV4XTotLWluZGV4XX1mb3IoO2luZGV4LS07KWN1cnJlbnRLZXk9a2V5cz9rZXlzW2luZGV4XTppbmRleCxtZW1vPWl0ZXJhdGVlKG1lbW8sb2JqW2N1cnJlbnRLZXldLGN1cnJlbnRLZXksb2JqKTtyZXR1cm4gbWVtb30sXy5maW5kPV8uZGV0ZWN0PWZ1bmN0aW9uKG9iaixwcmVkaWNhdGUsY29udGV4dCl7dmFyIHJlc3VsdDtyZXR1cm4gcHJlZGljYXRlPV8uaXRlcmF0ZWUocHJlZGljYXRlLGNvbnRleHQpLF8uc29tZShvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7cmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSxpbmRleCxsaXN0KT8ocmVzdWx0PXZhbHVlLCEwKTp2b2lkIDB9KSxyZXN1bHR9LF8uZmlsdGVyPV8uc2VsZWN0PWZ1bmN0aW9uKG9iaixwcmVkaWNhdGUsY29udGV4dCl7dmFyIHJlc3VsdHM9W107cmV0dXJuIG51bGw9PW9iaj9yZXN1bHRzOihwcmVkaWNhdGU9Xy5pdGVyYXRlZShwcmVkaWNhdGUsY29udGV4dCksXy5lYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtwcmVkaWNhdGUodmFsdWUsaW5kZXgsbGlzdCkmJnJlc3VsdHMucHVzaCh2YWx1ZSl9KSxyZXN1bHRzKX0sXy5yZWplY3Q9ZnVuY3Rpb24ob2JqLHByZWRpY2F0ZSxjb250ZXh0KXtyZXR1cm4gXy5maWx0ZXIob2JqLF8ubmVnYXRlKF8uaXRlcmF0ZWUocHJlZGljYXRlKSksY29udGV4dCl9LF8uZXZlcnk9Xy5hbGw9ZnVuY3Rpb24ob2JqLHByZWRpY2F0ZSxjb250ZXh0KXtpZihudWxsPT1vYmopcmV0dXJuITA7cHJlZGljYXRlPV8uaXRlcmF0ZWUocHJlZGljYXRlLGNvbnRleHQpO3ZhciBpbmRleCxjdXJyZW50S2V5LGtleXM9b2JqLmxlbmd0aCE9PStvYmoubGVuZ3RoJiZfLmtleXMob2JqKSxsZW5ndGg9KGtleXN8fG9iaikubGVuZ3RoO2ZvcihpbmRleD0wO2xlbmd0aD5pbmRleDtpbmRleCsrKWlmKGN1cnJlbnRLZXk9a2V5cz9rZXlzW2luZGV4XTppbmRleCwhcHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSxjdXJyZW50S2V5LG9iaikpcmV0dXJuITE7cmV0dXJuITB9LF8uc29tZT1fLmFueT1mdW5jdGlvbihvYmoscHJlZGljYXRlLGNvbnRleHQpe2lmKG51bGw9PW9iailyZXR1cm4hMTtwcmVkaWNhdGU9Xy5pdGVyYXRlZShwcmVkaWNhdGUsY29udGV4dCk7dmFyIGluZGV4LGN1cnJlbnRLZXksa2V5cz1vYmoubGVuZ3RoIT09K29iai5sZW5ndGgmJl8ua2V5cyhvYmopLGxlbmd0aD0oa2V5c3x8b2JqKS5sZW5ndGg7Zm9yKGluZGV4PTA7bGVuZ3RoPmluZGV4O2luZGV4KyspaWYoY3VycmVudEtleT1rZXlzP2tleXNbaW5kZXhdOmluZGV4LHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sY3VycmVudEtleSxvYmopKXJldHVybiEwO3JldHVybiExfSxfLmNvbnRhaW5zPV8uaW5jbHVkZT1mdW5jdGlvbihvYmosdGFyZ2V0KXtyZXR1cm4gbnVsbD09b2JqPyExOihvYmoubGVuZ3RoIT09K29iai5sZW5ndGgmJihvYmo9Xy52YWx1ZXMob2JqKSksXy5pbmRleE9mKG9iaix0YXJnZXQpPj0wKX0sXy5pbnZva2U9ZnVuY3Rpb24ob2JqLG1ldGhvZCl7dmFyIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksaXNGdW5jPV8uaXNGdW5jdGlvbihtZXRob2QpO3JldHVybiBfLm1hcChvYmosZnVuY3Rpb24odmFsdWUpe3JldHVybihpc0Z1bmM/bWV0aG9kOnZhbHVlW21ldGhvZF0pLmFwcGx5KHZhbHVlLGFyZ3MpfSl9LF8ucGx1Y2s9ZnVuY3Rpb24ob2JqLGtleSl7cmV0dXJuIF8ubWFwKG9iaixfLnByb3BlcnR5KGtleSkpfSxfLndoZXJlPWZ1bmN0aW9uKG9iaixhdHRycyl7cmV0dXJuIF8uZmlsdGVyKG9iaixfLm1hdGNoZXMoYXR0cnMpKX0sXy5maW5kV2hlcmU9ZnVuY3Rpb24ob2JqLGF0dHJzKXtyZXR1cm4gXy5maW5kKG9iaixfLm1hdGNoZXMoYXR0cnMpKX0sXy5tYXg9ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLGNvbnRleHQpe3ZhciB2YWx1ZSxjb21wdXRlZCxyZXN1bHQ9LTEvMCxsYXN0Q29tcHV0ZWQ9LTEvMDtpZihudWxsPT1pdGVyYXRlZSYmbnVsbCE9b2JqKXtvYmo9b2JqLmxlbmd0aD09PStvYmoubGVuZ3RoP29iajpfLnZhbHVlcyhvYmopO2Zvcih2YXIgaT0wLGxlbmd0aD1vYmoubGVuZ3RoO2xlbmd0aD5pO2krKyl2YWx1ZT1vYmpbaV0sdmFsdWU+cmVzdWx0JiYocmVzdWx0PXZhbHVlKX1lbHNlIGl0ZXJhdGVlPV8uaXRlcmF0ZWUoaXRlcmF0ZWUsY29udGV4dCksXy5lYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtjb21wdXRlZD1pdGVyYXRlZSh2YWx1ZSxpbmRleCxsaXN0KSwoY29tcHV0ZWQ+bGFzdENvbXB1dGVkfHxjb21wdXRlZD09PS0xLzAmJnJlc3VsdD09PS0xLzApJiYocmVzdWx0PXZhbHVlLGxhc3RDb21wdXRlZD1jb21wdXRlZCl9KTtyZXR1cm4gcmVzdWx0fSxfLm1pbj1mdW5jdGlvbihvYmosaXRlcmF0ZWUsY29udGV4dCl7dmFyIHZhbHVlLGNvbXB1dGVkLHJlc3VsdD0xLzAsbGFzdENvbXB1dGVkPTEvMDtpZihudWxsPT1pdGVyYXRlZSYmbnVsbCE9b2JqKXtvYmo9b2JqLmxlbmd0aD09PStvYmoubGVuZ3RoP29iajpfLnZhbHVlcyhvYmopO2Zvcih2YXIgaT0wLGxlbmd0aD1vYmoubGVuZ3RoO2xlbmd0aD5pO2krKyl2YWx1ZT1vYmpbaV0scmVzdWx0PnZhbHVlJiYocmVzdWx0PXZhbHVlKX1lbHNlIGl0ZXJhdGVlPV8uaXRlcmF0ZWUoaXRlcmF0ZWUsY29udGV4dCksXy5lYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtjb21wdXRlZD1pdGVyYXRlZSh2YWx1ZSxpbmRleCxsaXN0KSwobGFzdENvbXB1dGVkPmNvbXB1dGVkfHwxLzA9PT1jb21wdXRlZCYmMS8wPT09cmVzdWx0KSYmKHJlc3VsdD12YWx1ZSxsYXN0Q29tcHV0ZWQ9Y29tcHV0ZWQpfSk7cmV0dXJuIHJlc3VsdH0sXy5zaHVmZmxlPWZ1bmN0aW9uKG9iail7Zm9yKHZhciByYW5kLHNldD1vYmomJm9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9vYmo6Xy52YWx1ZXMob2JqKSxsZW5ndGg9c2V0Lmxlbmd0aCxzaHVmZmxlZD1BcnJheShsZW5ndGgpLGluZGV4PTA7bGVuZ3RoPmluZGV4O2luZGV4KyspcmFuZD1fLnJhbmRvbSgwLGluZGV4KSxyYW5kIT09aW5kZXgmJihzaHVmZmxlZFtpbmRleF09c2h1ZmZsZWRbcmFuZF0pLHNodWZmbGVkW3JhbmRdPXNldFtpbmRleF07cmV0dXJuIHNodWZmbGVkfSxfLnNhbXBsZT1mdW5jdGlvbihvYmosbixndWFyZCl7cmV0dXJuIG51bGw9PW58fGd1YXJkPyhvYmoubGVuZ3RoIT09K29iai5sZW5ndGgmJihvYmo9Xy52YWx1ZXMob2JqKSksb2JqW18ucmFuZG9tKG9iai5sZW5ndGgtMSldKTpfLnNodWZmbGUob2JqKS5zbGljZSgwLE1hdGgubWF4KDAsbikpfSxfLnNvcnRCeT1mdW5jdGlvbihvYmosaXRlcmF0ZWUsY29udGV4dCl7cmV0dXJuIGl0ZXJhdGVlPV8uaXRlcmF0ZWUoaXRlcmF0ZWUsY29udGV4dCksXy5wbHVjayhfLm1hcChvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7cmV0dXJue3ZhbHVlOnZhbHVlLGluZGV4OmluZGV4LGNyaXRlcmlhOml0ZXJhdGVlKHZhbHVlLGluZGV4LGxpc3QpfX0pLnNvcnQoZnVuY3Rpb24obGVmdCxyaWdodCl7dmFyIGE9bGVmdC5jcml0ZXJpYSxiPXJpZ2h0LmNyaXRlcmlhO2lmKGEhPT1iKXtpZihhPmJ8fHZvaWQgMD09PWEpcmV0dXJuIDE7aWYoYj5hfHx2b2lkIDA9PT1iKXJldHVybi0xfXJldHVybiBsZWZ0LmluZGV4LXJpZ2h0LmluZGV4fSksInZhbHVlIil9O3ZhciBncm91cD1mdW5jdGlvbihiZWhhdmlvcil7cmV0dXJuIGZ1bmN0aW9uKG9iaixpdGVyYXRlZSxjb250ZXh0KXt2YXIgcmVzdWx0PXt9O3JldHVybiBpdGVyYXRlZT1fLml0ZXJhdGVlKGl0ZXJhdGVlLGNvbnRleHQpLF8uZWFjaChvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgpe3ZhciBrZXk9aXRlcmF0ZWUodmFsdWUsaW5kZXgsb2JqKTtiZWhhdmlvcihyZXN1bHQsdmFsdWUsa2V5KX0pLHJlc3VsdH19O18uZ3JvdXBCeT1ncm91cChmdW5jdGlvbihyZXN1bHQsdmFsdWUsa2V5KXtfLmhhcyhyZXN1bHQsa2V5KT9yZXN1bHRba2V5XS5wdXNoKHZhbHVlKTpyZXN1bHRba2V5XT1bdmFsdWVdfSksXy5pbmRleEJ5PWdyb3VwKGZ1bmN0aW9uKHJlc3VsdCx2YWx1ZSxrZXkpe3Jlc3VsdFtrZXldPXZhbHVlfSksXy5jb3VudEJ5PWdyb3VwKGZ1bmN0aW9uKHJlc3VsdCx2YWx1ZSxrZXkpe18uaGFzKHJlc3VsdCxrZXkpP3Jlc3VsdFtrZXldKys6cmVzdWx0W2tleV09MX0pLF8uc29ydGVkSW5kZXg9ZnVuY3Rpb24oYXJyYXksb2JqLGl0ZXJhdGVlLGNvbnRleHQpe2l0ZXJhdGVlPV8uaXRlcmF0ZWUoaXRlcmF0ZWUsY29udGV4dCwxKTtmb3IodmFyIHZhbHVlPWl0ZXJhdGVlKG9iaiksbG93PTAsaGlnaD1hcnJheS5sZW5ndGg7aGlnaD5sb3c7KXt2YXIgbWlkPWxvdytoaWdoPj4+MTtpdGVyYXRlZShhcnJheVttaWRdKTx2YWx1ZT9sb3c9bWlkKzE6aGlnaD1taWR9cmV0dXJuIGxvd30sXy50b0FycmF5PWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaj9fLmlzQXJyYXkob2JqKT9zbGljZS5jYWxsKG9iaik6b2JqLmxlbmd0aD09PStvYmoubGVuZ3RoP18ubWFwKG9iaixfLmlkZW50aXR5KTpfLnZhbHVlcyhvYmopOltdfSxfLnNpemU9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gbnVsbD09b2JqPzA6b2JqLmxlbmd0aD09PStvYmoubGVuZ3RoP29iai5sZW5ndGg6Xy5rZXlzKG9iaikubGVuZ3RofSxfLnBhcnRpdGlvbj1mdW5jdGlvbihvYmoscHJlZGljYXRlLGNvbnRleHQpe3ByZWRpY2F0ZT1fLml0ZXJhdGVlKHByZWRpY2F0ZSxjb250ZXh0KTt2YXIgcGFzcz1bXSxmYWlsPVtdO3JldHVybiBfLmVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGtleSxvYmopeyhwcmVkaWNhdGUodmFsdWUsa2V5LG9iaik/cGFzczpmYWlsKS5wdXNoKHZhbHVlKX0pLFtwYXNzLGZhaWxdfSxfLmZpcnN0PV8uaGVhZD1fLnRha2U9ZnVuY3Rpb24oYXJyYXksbixndWFyZCl7cmV0dXJuIG51bGw9PWFycmF5P3ZvaWQgMDpudWxsPT1ufHxndWFyZD9hcnJheVswXTowPm4/W106c2xpY2UuY2FsbChhcnJheSwwLG4pfSxfLmluaXRpYWw9ZnVuY3Rpb24oYXJyYXksbixndWFyZCl7cmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksMCxNYXRoLm1heCgwLGFycmF5Lmxlbmd0aC0obnVsbD09bnx8Z3VhcmQ/MTpuKSkpfSxfLmxhc3Q9ZnVuY3Rpb24oYXJyYXksbixndWFyZCl7cmV0dXJuIG51bGw9PWFycmF5P3ZvaWQgMDpudWxsPT1ufHxndWFyZD9hcnJheVthcnJheS5sZW5ndGgtMV06c2xpY2UuY2FsbChhcnJheSxNYXRoLm1heChhcnJheS5sZW5ndGgtbiwwKSl9LF8ucmVzdD1fLnRhaWw9Xy5kcm9wPWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBzbGljZS5jYWxsKGFycmF5LG51bGw9PW58fGd1YXJkPzE6bil9LF8uY29tcGFjdD1mdW5jdGlvbihhcnJheSl7cmV0dXJuIF8uZmlsdGVyKGFycmF5LF8uaWRlbnRpdHkpfTt2YXIgZmxhdHRlbj1mdW5jdGlvbihpbnB1dCxzaGFsbG93LHN0cmljdCxvdXRwdXQpe2lmKHNoYWxsb3cmJl8uZXZlcnkoaW5wdXQsXy5pc0FycmF5KSlyZXR1cm4gY29uY2F0LmFwcGx5KG91dHB1dCxpbnB1dCk7Zm9yKHZhciBpPTAsbGVuZ3RoPWlucHV0Lmxlbmd0aDtsZW5ndGg+aTtpKyspe3ZhciB2YWx1ZT1pbnB1dFtpXTtfLmlzQXJyYXkodmFsdWUpfHxfLmlzQXJndW1lbnRzKHZhbHVlKT9zaGFsbG93P3B1c2guYXBwbHkob3V0cHV0LHZhbHVlKTpmbGF0dGVuKHZhbHVlLHNoYWxsb3csc3RyaWN0LG91dHB1dCk6c3RyaWN0fHxvdXRwdXQucHVzaCh2YWx1ZSl9cmV0dXJuIG91dHB1dH07Xy5mbGF0dGVuPWZ1bmN0aW9uKGFycmF5LHNoYWxsb3cpe3JldHVybiBmbGF0dGVuKGFycmF5LHNoYWxsb3csITEsW10pfSxfLndpdGhvdXQ9ZnVuY3Rpb24oYXJyYXkpe3JldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfSxfLnVuaXE9Xy51bmlxdWU9ZnVuY3Rpb24oYXJyYXksaXNTb3J0ZWQsaXRlcmF0ZWUsY29udGV4dCl7aWYobnVsbD09YXJyYXkpcmV0dXJuW107Xy5pc0Jvb2xlYW4oaXNTb3J0ZWQpfHwoY29udGV4dD1pdGVyYXRlZSxpdGVyYXRlZT1pc1NvcnRlZCxpc1NvcnRlZD0hMSksbnVsbCE9aXRlcmF0ZWUmJihpdGVyYXRlZT1fLml0ZXJhdGVlKGl0ZXJhdGVlLGNvbnRleHQpKTtmb3IodmFyIHJlc3VsdD1bXSxzZWVuPVtdLGk9MCxsZW5ndGg9YXJyYXkubGVuZ3RoO2xlbmd0aD5pO2krKyl7dmFyIHZhbHVlPWFycmF5W2ldO2lmKGlzU29ydGVkKWkmJnNlZW49PT12YWx1ZXx8cmVzdWx0LnB1c2godmFsdWUpLHNlZW49dmFsdWU7ZWxzZSBpZihpdGVyYXRlZSl7dmFyIGNvbXB1dGVkPWl0ZXJhdGVlKHZhbHVlLGksYXJyYXkpO18uaW5kZXhPZihzZWVuLGNvbXB1dGVkKTwwJiYoc2Vlbi5wdXNoKGNvbXB1dGVkKSxyZXN1bHQucHVzaCh2YWx1ZSkpfWVsc2UgXy5pbmRleE9mKHJlc3VsdCx2YWx1ZSk8MCYmcmVzdWx0LnB1c2godmFsdWUpfXJldHVybiByZXN1bHR9LF8udW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gXy51bmlxKGZsYXR0ZW4oYXJndW1lbnRzLCEwLCEwLFtdKSl9LF8uaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKGFycmF5KXtpZihudWxsPT1hcnJheSlyZXR1cm5bXTtmb3IodmFyIHJlc3VsdD1bXSxhcmdzTGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGgsaT0wLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPmk7aSsrKXt2YXIgaXRlbT1hcnJheVtpXTtpZighXy5jb250YWlucyhyZXN1bHQsaXRlbSkpe2Zvcih2YXIgaj0xO2FyZ3NMZW5ndGg+aiYmXy5jb250YWlucyhhcmd1bWVudHNbal0saXRlbSk7aisrKTtqPT09YXJnc0xlbmd0aCYmcmVzdWx0LnB1c2goaXRlbSl9fXJldHVybiByZXN1bHR9LF8uZGlmZmVyZW5jZT1mdW5jdGlvbihhcnJheSl7dmFyIHJlc3Q9ZmxhdHRlbihzbGljZS5jYWxsKGFyZ3VtZW50cywxKSwhMCwhMCxbXSk7cmV0dXJuIF8uZmlsdGVyKGFycmF5LGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4hXy5jb250YWlucyhyZXN0LHZhbHVlKX0pfSxfLnppcD1mdW5jdGlvbihhcnJheSl7aWYobnVsbD09YXJyYXkpcmV0dXJuW107Zm9yKHZhciBsZW5ndGg9Xy5tYXgoYXJndW1lbnRzLCJsZW5ndGgiKS5sZW5ndGgscmVzdWx0cz1BcnJheShsZW5ndGgpLGk9MDtsZW5ndGg+aTtpKyspcmVzdWx0c1tpXT1fLnBsdWNrKGFyZ3VtZW50cyxpKTtyZXR1cm4gcmVzdWx0c30sXy5vYmplY3Q9ZnVuY3Rpb24obGlzdCx2YWx1ZXMpe2lmKG51bGw9PWxpc3QpcmV0dXJue307Zm9yKHZhciByZXN1bHQ9e30saT0wLGxlbmd0aD1saXN0Lmxlbmd0aDtsZW5ndGg+aTtpKyspdmFsdWVzP3Jlc3VsdFtsaXN0W2ldXT12YWx1ZXNbaV06cmVzdWx0W2xpc3RbaV1bMF1dPWxpc3RbaV1bMV07cmV0dXJuIHJlc3VsdH0sXy5pbmRleE9mPWZ1bmN0aW9uKGFycmF5LGl0ZW0saXNTb3J0ZWQpe2lmKG51bGw9PWFycmF5KXJldHVybi0xO3ZhciBpPTAsbGVuZ3RoPWFycmF5Lmxlbmd0aDtpZihpc1NvcnRlZCl7aWYoIm51bWJlciIhPXR5cGVvZiBpc1NvcnRlZClyZXR1cm4gaT1fLnNvcnRlZEluZGV4KGFycmF5LGl0ZW0pLGFycmF5W2ldPT09aXRlbT9pOi0xO2k9MD5pc1NvcnRlZD9NYXRoLm1heCgwLGxlbmd0aCtpc1NvcnRlZCk6aXNTb3J0ZWR9Zm9yKDtsZW5ndGg+aTtpKyspaWYoYXJyYXlbaV09PT1pdGVtKXJldHVybiBpO3JldHVybi0xfSxfLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGFycmF5LGl0ZW0sZnJvbSl7aWYobnVsbD09YXJyYXkpcmV0dXJuLTE7dmFyIGlkeD1hcnJheS5sZW5ndGg7Zm9yKCJudW1iZXIiPT10eXBlb2YgZnJvbSYmKGlkeD0wPmZyb20/aWR4K2Zyb20rMTpNYXRoLm1pbihpZHgsZnJvbSsxKSk7LS1pZHg+PTA7KWlmKGFycmF5W2lkeF09PT1pdGVtKXJldHVybiBpZHg7cmV0dXJuLTF9LF8ucmFuZ2U9ZnVuY3Rpb24oc3RhcnQsc3RvcCxzdGVwKXthcmd1bWVudHMubGVuZ3RoPD0xJiYoc3RvcD1zdGFydHx8MCxzdGFydD0wKSxzdGVwPXN0ZXB8fDE7Zm9yKHZhciBsZW5ndGg9TWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wLXN0YXJ0KS9zdGVwKSwwKSxyYW5nZT1BcnJheShsZW5ndGgpLGlkeD0wO2xlbmd0aD5pZHg7aWR4Kyssc3RhcnQrPXN0ZXApcmFuZ2VbaWR4XT1zdGFydDtyZXR1cm4gcmFuZ2V9O3ZhciBDdG9yPWZ1bmN0aW9uKCl7fTtfLmJpbmQ9ZnVuY3Rpb24oZnVuYyxjb250ZXh0KXt2YXIgYXJncyxib3VuZDtpZihuYXRpdmVCaW5kJiZmdW5jLmJpbmQ9PT1uYXRpdmVCaW5kKXJldHVybiBuYXRpdmVCaW5kLmFwcGx5KGZ1bmMsc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO2lmKCFfLmlzRnVuY3Rpb24oZnVuYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uIik7cmV0dXJuIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYm91bmQ9ZnVuY3Rpb24oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkpcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtDdG9yLnByb3RvdHlwZT1mdW5jLnByb3RvdHlwZTt2YXIgc2VsZj1uZXcgQ3RvcjtDdG9yLnByb3RvdHlwZT1udWxsO3ZhciByZXN1bHQ9ZnVuYy5hcHBseShzZWxmLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBfLmlzT2JqZWN0KHJlc3VsdCk/cmVzdWx0OnNlbGZ9fSxfLnBhcnRpYWw9ZnVuY3Rpb24oZnVuYyl7dmFyIGJvdW5kQXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHBvc2l0aW9uPTAsYXJncz1ib3VuZEFyZ3Muc2xpY2UoKSxpPTAsbGVuZ3RoPWFyZ3MubGVuZ3RoO2xlbmd0aD5pO2krKylhcmdzW2ldPT09XyYmKGFyZ3NbaV09YXJndW1lbnRzW3Bvc2l0aW9uKytdKTtmb3IoO3Bvc2l0aW9uPGFyZ3VtZW50cy5sZW5ndGg7KWFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO3JldHVybiBmdW5jLmFwcGx5KHRoaXMsYXJncyl9fSxfLmJpbmRBbGw9ZnVuY3Rpb24ob2JqKXt2YXIgaSxrZXksbGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg7aWYoMT49bGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcyIpO2ZvcihpPTE7bGVuZ3RoPmk7aSsrKWtleT1hcmd1bWVudHNbaV0sb2JqW2tleV09Xy5iaW5kKG9ialtrZXldLG9iaik7cmV0dXJuIG9ian0sXy5tZW1vaXplPWZ1bmN0aW9uKGZ1bmMsaGFzaGVyKXt2YXIgbWVtb2l6ZT1mdW5jdGlvbihrZXkpe3ZhciBjYWNoZT1tZW1vaXplLmNhY2hlLGFkZHJlc3M9aGFzaGVyP2hhc2hlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6a2V5O3JldHVybiBfLmhhcyhjYWNoZSxhZGRyZXNzKXx8KGNhY2hlW2FkZHJlc3NdPWZ1bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxjYWNoZVthZGRyZXNzXX07cmV0dXJuIG1lbW9pemUuY2FjaGU9e30sbWVtb2l6ZX0sXy5kZWxheT1mdW5jdGlvbihmdW5jLHdhaXQpe3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmMuYXBwbHkobnVsbCxhcmdzKX0sd2FpdCl9LF8uZGVmZXI9ZnVuY3Rpb24oZnVuYyl7cmV0dXJuIF8uZGVsYXkuYXBwbHkoXyxbZnVuYywxXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpKX0sXy50aHJvdHRsZT1mdW5jdGlvbihmdW5jLHdhaXQsb3B0aW9ucyl7dmFyIGNvbnRleHQsYXJncyxyZXN1bHQsdGltZW91dD1udWxsLHByZXZpb3VzPTA7b3B0aW9uc3x8KG9wdGlvbnM9e30pO3ZhciBsYXRlcj1mdW5jdGlvbigpe3ByZXZpb3VzPW9wdGlvbnMubGVhZGluZz09PSExPzA6Xy5ub3coKSx0aW1lb3V0PW51bGwscmVzdWx0PWZ1bmMuYXBwbHkoY29udGV4dCxhcmdzKSx0aW1lb3V0fHwoY29udGV4dD1hcmdzPW51bGwpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbm93PV8ubm93KCk7cHJldmlvdXN8fG9wdGlvbnMubGVhZGluZyE9PSExfHwocHJldmlvdXM9bm93KTt2YXIgcmVtYWluaW5nPXdhaXQtKG5vdy1wcmV2aW91cyk7cmV0dXJuIGNvbnRleHQ9dGhpcyxhcmdzPWFyZ3VtZW50cywwPj1yZW1haW5pbmd8fHJlbWFpbmluZz53YWl0PyhjbGVhclRpbWVvdXQodGltZW91dCksdGltZW91dD1udWxsLHByZXZpb3VzPW5vdyxyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpLHRpbWVvdXR8fChjb250ZXh0PWFyZ3M9bnVsbCkpOnRpbWVvdXR8fG9wdGlvbnMudHJhaWxpbmc9PT0hMXx8KHRpbWVvdXQ9c2V0VGltZW91dChsYXRlcixyZW1haW5pbmcpKSxyZXN1bHR9fSxfLmRlYm91bmNlPWZ1bmN0aW9uKGZ1bmMsd2FpdCxpbW1lZGlhdGUpe3ZhciB0aW1lb3V0LGFyZ3MsY29udGV4dCx0aW1lc3RhbXAscmVzdWx0LGxhdGVyPWZ1bmN0aW9uKCl7dmFyIGxhc3Q9Xy5ub3coKS10aW1lc3RhbXA7d2FpdD5sYXN0JiZsYXN0PjA/dGltZW91dD1zZXRUaW1lb3V0KGxhdGVyLHdhaXQtbGFzdCk6KHRpbWVvdXQ9bnVsbCxpbW1lZGlhdGV8fChyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpLHRpbWVvdXR8fChjb250ZXh0PWFyZ3M9bnVsbCkpKX07cmV0dXJuIGZ1bmN0aW9uKCl7Y29udGV4dD10aGlzLGFyZ3M9YXJndW1lbnRzLHRpbWVzdGFtcD1fLm5vdygpO3ZhciBjYWxsTm93PWltbWVkaWF0ZSYmIXRpbWVvdXQ7cmV0dXJuIHRpbWVvdXR8fCh0aW1lb3V0PXNldFRpbWVvdXQobGF0ZXIsd2FpdCkpLGNhbGxOb3cmJihyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpLGNvbnRleHQ9YXJncz1udWxsKSxyZXN1bHR9fSxfLndyYXA9ZnVuY3Rpb24oZnVuYyx3cmFwcGVyKXtyZXR1cm4gXy5wYXJ0aWFsKHdyYXBwZXIsZnVuYyl9LF8ubmVnYXRlPWZ1bmN0aW9uKHByZWRpY2F0ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIXByZWRpY2F0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxfLmNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYXJncz1hcmd1bWVudHMsc3RhcnQ9YXJncy5sZW5ndGgtMTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGk9c3RhcnQscmVzdWx0PWFyZ3Nbc3RhcnRdLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpLS07KXJlc3VsdD1hcmdzW2ldLmNhbGwodGhpcyxyZXN1bHQpO3JldHVybiByZXN1bHR9fSxfLmFmdGVyPWZ1bmN0aW9uKHRpbWVzLGZ1bmMpe3JldHVybiBmdW5jdGlvbigpe3JldHVybi0tdGltZXM8MT9mdW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSxfLmJlZm9yZT1mdW5jdGlvbih0aW1lcyxmdW5jKXt2YXIgbWVtbztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLXRpbWVzPjA/bWVtbz1mdW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpmdW5jPW51bGwsbWVtb319LF8ub25jZT1fLnBhcnRpYWwoXy5iZWZvcmUsMiksXy5rZXlzPWZ1bmN0aW9uKG9iail7aWYoIV8uaXNPYmplY3Qob2JqKSlyZXR1cm5bXTtpZihuYXRpdmVLZXlzKXJldHVybiBuYXRpdmVLZXlzKG9iaik7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKV8uaGFzKG9iaixrZXkpJiZrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c30sXy52YWx1ZXM9ZnVuY3Rpb24ob2JqKXtmb3IodmFyIGtleXM9Xy5rZXlzKG9iaiksbGVuZ3RoPWtleXMubGVuZ3RoLHZhbHVlcz1BcnJheShsZW5ndGgpLGk9MDtsZW5ndGg+aTtpKyspdmFsdWVzW2ldPW9ialtrZXlzW2ldXTtyZXR1cm4gdmFsdWVzfSxfLnBhaXJzPWZ1bmN0aW9uKG9iail7Zm9yKHZhciBrZXlzPV8ua2V5cyhvYmopLGxlbmd0aD1rZXlzLmxlbmd0aCxwYWlycz1BcnJheShsZW5ndGgpLGk9MDtsZW5ndGg+aTtpKyspcGFpcnNbaV09W2tleXNbaV0sb2JqW2tleXNbaV1dXTtyZXR1cm4gcGFpcnN9LF8uaW52ZXJ0PWZ1bmN0aW9uKG9iail7Zm9yKHZhciByZXN1bHQ9e30sa2V5cz1fLmtleXMob2JqKSxpPTAsbGVuZ3RoPWtleXMubGVuZ3RoO2xlbmd0aD5pO2krKylyZXN1bHRbb2JqW2tleXNbaV1dXT1rZXlzW2ldO3JldHVybiByZXN1bHR9LF8uZnVuY3Rpb25zPV8ubWV0aG9kcz1mdW5jdGlvbihvYmope3ZhciBuYW1lcz1bXTtmb3IodmFyIGtleSBpbiBvYmopXy5pc0Z1bmN0aW9uKG9ialtrZXldKSYmbmFtZXMucHVzaChrZXkpO3JldHVybiBuYW1lcy5zb3J0KCl9LF8uZXh0ZW5kPWZ1bmN0aW9uKG9iail7aWYoIV8uaXNPYmplY3Qob2JqKSlyZXR1cm4gb2JqO2Zvcih2YXIgc291cmNlLHByb3AsaT0xLGxlbmd0aD1hcmd1bWVudHMubGVuZ3RoO2xlbmd0aD5pO2krKyl7c291cmNlPWFyZ3VtZW50c1tpXTtmb3IocHJvcCBpbiBzb3VyY2UpaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UscHJvcCkmJihvYmpbcHJvcF09c291cmNlW3Byb3BdKX1yZXR1cm4gb2JqfSxfLnBpY2s9ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLGNvbnRleHQpe3ZhciBrZXkscmVzdWx0PXt9O2lmKG51bGw9PW9iailyZXR1cm4gcmVzdWx0O2lmKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpe2l0ZXJhdGVlPWNyZWF0ZUNhbGxiYWNrKGl0ZXJhdGVlLGNvbnRleHQpO2ZvcihrZXkgaW4gb2JqKXt2YXIgdmFsdWU9b2JqW2tleV07aXRlcmF0ZWUodmFsdWUsa2V5LG9iaikmJihyZXN1bHRba2V5XT12YWx1ZSl9fWVsc2V7dmFyIGtleXM9Y29uY2F0LmFwcGx5KFtdLHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtvYmo9bmV3IE9iamVjdChvYmopO2Zvcih2YXIgaT0wLGxlbmd0aD1rZXlzLmxlbmd0aDtsZW5ndGg+aTtpKyspa2V5PWtleXNbaV0sa2V5IGluIG9iaiYmKHJlc3VsdFtrZXldPW9ialtrZXldKX1yZXR1cm4gcmVzdWx0fSxfLm9taXQ9ZnVuY3Rpb24ob2JqLGl0ZXJhdGVlLGNvbnRleHQpe2lmKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpaXRlcmF0ZWU9Xy5uZWdhdGUoaXRlcmF0ZWUpO2Vsc2V7dmFyIGtleXM9Xy5tYXAoY29uY2F0LmFwcGx5KFtdLHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSxTdHJpbmcpO2l0ZXJhdGVlPWZ1bmN0aW9uKHZhbHVlLGtleSl7cmV0dXJuIV8uY29udGFpbnMoa2V5cyxrZXkpfX1yZXR1cm4gXy5waWNrKG9iaixpdGVyYXRlZSxjb250ZXh0KX0sXy5kZWZhdWx0cz1mdW5jdGlvbihvYmope2lmKCFfLmlzT2JqZWN0KG9iaikpcmV0dXJuIG9iajtmb3IodmFyIGk9MSxsZW5ndGg9YXJndW1lbnRzLmxlbmd0aDtsZW5ndGg+aTtpKyspe3ZhciBzb3VyY2U9YXJndW1lbnRzW2ldO2Zvcih2YXIgcHJvcCBpbiBzb3VyY2Updm9pZCAwPT09b2JqW3Byb3BdJiYob2JqW3Byb3BdPXNvdXJjZVtwcm9wXSl9cmV0dXJuIG9ian0sXy5jbG9uZT1mdW5jdGlvbihvYmope3JldHVybiBfLmlzT2JqZWN0KG9iaik/Xy5pc0FycmF5KG9iaik/b2JqLnNsaWNlKCk6Xy5leHRlbmQoe30sb2JqKTpvYmp9LF8udGFwPWZ1bmN0aW9uKG9iaixpbnRlcmNlcHRvcil7cmV0dXJuIGludGVyY2VwdG9yKG9iaiksb2JqfTt2YXIgZXE9ZnVuY3Rpb24oYSxiLGFTdGFjayxiU3RhY2spe2lmKGE9PT1iKXJldHVybiAwIT09YXx8MS9hPT09MS9iO2lmKG51bGw9PWF8fG51bGw9PWIpcmV0dXJuIGE9PT1iO2EgaW5zdGFuY2VvZiBfJiYoYT1hLl93cmFwcGVkKSxiIGluc3RhbmNlb2YgXyYmKGI9Yi5fd3JhcHBlZCk7dmFyIGNsYXNzTmFtZT10b1N0cmluZy5jYWxsKGEpO2lmKGNsYXNzTmFtZSE9PXRvU3RyaW5nLmNhbGwoYikpcmV0dXJuITE7c3dpdGNoKGNsYXNzTmFtZSl7Y2FzZSJbb2JqZWN0IFJlZ0V4cF0iOmNhc2UiW29iamVjdCBTdHJpbmddIjpyZXR1cm4iIithPT0iIitiO2Nhc2UiW29iamVjdCBOdW1iZXJdIjpyZXR1cm4rYSE9PSthPytiIT09K2I6MD09PSthPzEvK2E9PT0xL2I6K2E9PT0rYjtjYXNlIltvYmplY3QgRGF0ZV0iOmNhc2UiW29iamVjdCBCb29sZWFuXSI6cmV0dXJuK2E9PT0rYn1pZigib2JqZWN0IiE9dHlwZW9mIGF8fCJvYmplY3QiIT10eXBlb2YgYilyZXR1cm4hMTtmb3IodmFyIGxlbmd0aD1hU3RhY2subGVuZ3RoO2xlbmd0aC0tOylpZihhU3RhY2tbbGVuZ3RoXT09PWEpcmV0dXJuIGJTdGFja1tsZW5ndGhdPT09Yjt2YXIgYUN0b3I9YS5jb25zdHJ1Y3RvcixiQ3Rvcj1iLmNvbnN0cnVjdG9yO2lmKGFDdG9yIT09YkN0b3ImJiJjb25zdHJ1Y3RvciJpbiBhJiYiY29uc3RydWN0b3IiaW4gYiYmIShfLmlzRnVuY3Rpb24oYUN0b3IpJiZhQ3RvciBpbnN0YW5jZW9mIGFDdG9yJiZfLmlzRnVuY3Rpb24oYkN0b3IpJiZiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKSlyZXR1cm4hMTthU3RhY2sucHVzaChhKSxiU3RhY2sucHVzaChiKTt2YXIgc2l6ZSxyZXN1bHQ7aWYoIltvYmplY3QgQXJyYXldIj09PWNsYXNzTmFtZSl7aWYoc2l6ZT1hLmxlbmd0aCxyZXN1bHQ9c2l6ZT09PWIubGVuZ3RoKWZvcig7c2l6ZS0tJiYocmVzdWx0PWVxKGFbc2l6ZV0sYltzaXplXSxhU3RhY2ssYlN0YWNrKSk7KTt9ZWxzZXt2YXIga2V5LGtleXM9Xy5rZXlzKGEpO2lmKHNpemU9a2V5cy5sZW5ndGgscmVzdWx0PV8ua2V5cyhiKS5sZW5ndGg9PT1zaXplKWZvcig7c2l6ZS0tJiYoa2V5PWtleXNbc2l6ZV0scmVzdWx0PV8uaGFzKGIsa2V5KSYmZXEoYVtrZXldLGJba2V5XSxhU3RhY2ssYlN0YWNrKSk7KTt9cmV0dXJuIGFTdGFjay5wb3AoKSxiU3RhY2sucG9wKCkscmVzdWx0fTtfLmlzRXF1YWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZXEoYSxiLFtdLFtdKX0sXy5pc0VtcHR5PWZ1bmN0aW9uKG9iail7aWYobnVsbD09b2JqKXJldHVybiEwO2lmKF8uaXNBcnJheShvYmopfHxfLmlzU3RyaW5nKG9iail8fF8uaXNBcmd1bWVudHMob2JqKSlyZXR1cm4gMD09PW9iai5sZW5ndGg7Zm9yKHZhciBrZXkgaW4gb2JqKWlmKF8uaGFzKG9iaixrZXkpKXJldHVybiExO3JldHVybiEwfSxfLmlzRWxlbWVudD1mdW5jdGlvbihvYmope3JldHVybiEoIW9ianx8MSE9PW9iai5ub2RlVHlwZSl9LF8uaXNBcnJheT1uYXRpdmVJc0FycmF5fHxmdW5jdGlvbihvYmope3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT10b1N0cmluZy5jYWxsKG9iail9LF8uaXNPYmplY3Q9ZnVuY3Rpb24ob2JqKXt2YXIgdHlwZT10eXBlb2Ygb2JqO3JldHVybiJmdW5jdGlvbiI9PT10eXBlfHwib2JqZWN0Ij09PXR5cGUmJiEhb2JqfSxfLmVhY2goWyJBcmd1bWVudHMiLCJGdW5jdGlvbiIsIlN0cmluZyIsIk51bWJlciIsIkRhdGUiLCJSZWdFeHAiXSxmdW5jdGlvbihuYW1lKXtfWyJpcyIrbmFtZV09ZnVuY3Rpb24ob2JqKXtyZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopPT09IltvYmplY3QgIituYW1lKyJdIn19KSxfLmlzQXJndW1lbnRzKGFyZ3VtZW50cyl8fChfLmlzQXJndW1lbnRzPWZ1bmN0aW9uKG9iail7cmV0dXJuIF8uaGFzKG9iaiwiY2FsbGVlIil9KSwiZnVuY3Rpb24iIT10eXBlb2YvLi8mJihfLmlzRnVuY3Rpb249ZnVuY3Rpb24ob2JqKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygb2JqfHwhMX0pLF8uaXNGaW5pdGU9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gaXNGaW5pdGUob2JqKSYmIWlzTmFOKHBhcnNlRmxvYXQob2JqKSl9LF8uaXNOYU49ZnVuY3Rpb24ob2JqKXtyZXR1cm4gXy5pc051bWJlcihvYmopJiZvYmohPT0rb2JqfSxfLmlzQm9vbGVhbj1mdW5jdGlvbihvYmope3JldHVybiBvYmo9PT0hMHx8b2JqPT09ITF8fCJbb2JqZWN0IEJvb2xlYW5dIj09PXRvU3RyaW5nLmNhbGwob2JqKX0sXy5pc051bGw9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gbnVsbD09PW9ian0sXy5pc1VuZGVmaW5lZD1mdW5jdGlvbihvYmope3JldHVybiB2b2lkIDA9PT1vYmp9LF8uaGFzPWZ1bmN0aW9uKG9iaixrZXkpe3JldHVybiBudWxsIT1vYmomJmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSl9LF8ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiByb290Ll89cHJldmlvdXNVbmRlcnNjb3JlLHRoaXN9LF8uaWRlbnRpdHk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX0sXy5jb25zdGFudD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlfX0sXy5ub29wPWZ1bmN0aW9uKCl7fSxfLnByb3BlcnR5PWZ1bmN0aW9uKGtleSl7cmV0dXJuIGZ1bmN0aW9uKG9iail7cmV0dXJuIG9ialtrZXldfX0sXy5tYXRjaGVzPWZ1bmN0aW9uKGF0dHJzKXt2YXIgcGFpcnM9Xy5wYWlycyhhdHRycyksbGVuZ3RoPXBhaXJzLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24ob2JqKXtpZihudWxsPT1vYmopcmV0dXJuIWxlbmd0aDtvYmo9bmV3IE9iamVjdChvYmopO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKyl7dmFyIHBhaXI9cGFpcnNbaV0sa2V5PXBhaXJbMF07aWYocGFpclsxXSE9PW9ialtrZXldfHwhKGtleSBpbiBvYmopKXJldHVybiExfXJldHVybiEwfX0sXy50aW1lcz1mdW5jdGlvbihuLGl0ZXJhdGVlLGNvbnRleHQpe3ZhciBhY2N1bT1BcnJheShNYXRoLm1heCgwLG4pKTtpdGVyYXRlZT1jcmVhdGVDYWxsYmFjayhpdGVyYXRlZSxjb250ZXh0LDEpO2Zvcih2YXIgaT0wO24+aTtpKyspYWNjdW1baV09aXRlcmF0ZWUoaSk7cmV0dXJuIGFjY3VtfSxfLnJhbmRvbT1mdW5jdGlvbihtaW4sbWF4KXtyZXR1cm4gbnVsbD09bWF4JiYobWF4PW1pbixtaW49MCksbWluK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoobWF4LW1pbisxKSl9LF8ubm93PURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt2YXIgZXNjYXBlTWFwPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiN4Mjc7IiwiYCI6IiYjeDYwOyJ9LHVuZXNjYXBlTWFwPV8uaW52ZXJ0KGVzY2FwZU1hcCksY3JlYXRlRXNjYXBlcj1mdW5jdGlvbihtYXApe3ZhciBlc2NhcGVyPWZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4gbWFwW21hdGNoXX0sc291cmNlPSIoPzoiK18ua2V5cyhtYXApLmpvaW4oInwiKSsiKSIsdGVzdFJlZ2V4cD1SZWdFeHAoc291cmNlKSxyZXBsYWNlUmVnZXhwPVJlZ0V4cChzb3VyY2UsImciKTtyZXR1cm4gZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nPW51bGw9PXN0cmluZz8iIjoiIitzdHJpbmcsdGVzdFJlZ2V4cC50ZXN0KHN0cmluZyk/c3RyaW5nLnJlcGxhY2UocmVwbGFjZVJlZ2V4cCxlc2NhcGVyKTpzdHJpbmd9fTtfLmVzY2FwZT1jcmVhdGVFc2NhcGVyKGVzY2FwZU1hcCksXy51bmVzY2FwZT1jcmVhdGVFc2NhcGVyKHVuZXNjYXBlTWFwKSxfLnJlc3VsdD1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe2lmKG51bGw9PW9iamVjdClyZXR1cm4gdm9pZCAwO3ZhciB2YWx1ZT1vYmplY3RbcHJvcGVydHldO3JldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpP29iamVjdFtwcm9wZXJ0eV0oKTp2YWx1ZX07dmFyIGlkQ291bnRlcj0wO18udW5pcXVlSWQ9ZnVuY3Rpb24ocHJlZml4KXt2YXIgaWQ9KytpZENvdW50ZXIrIiI7cmV0dXJuIHByZWZpeD9wcmVmaXgraWQ6aWR9LF8udGVtcGxhdGVTZXR0aW5ncz17ZXZhbHVhdGU6LzwlKFtcc1xTXSs/KSU+L2csaW50ZXJwb2xhdGU6LzwlPShbXHNcU10rPyklPi9nLGVzY2FwZTovPCUtKFtcc1xTXSs/KSU+L2d9O3ZhciBub01hdGNoPS8oLileLyxlc2NhcGVzPXsiJyI6IiciLCJcXCI6IlxcIiwiXHIiOiJyIiwiXG4iOiJuIiwiXHUyMDI4IjoidTIwMjgiLCJcdTIwMjkiOiJ1MjAyOSJ9LGVzY2FwZXI9L1xcfCd8XHJ8XG58XHUyMDI4fFx1MjAyOS9nLGVzY2FwZUNoYXI9ZnVuY3Rpb24obWF0Y2gpe3JldHVybiJcXCIrZXNjYXBlc1ttYXRjaF19O18udGVtcGxhdGU9ZnVuY3Rpb24odGV4dCxzZXR0aW5ncyxvbGRTZXR0aW5ncyl7IXNldHRpbmdzJiZvbGRTZXR0aW5ncyYmKHNldHRpbmdzPW9sZFNldHRpbmdzKSxzZXR0aW5ncz1fLmRlZmF1bHRzKHt9LHNldHRpbmdzLF8udGVtcGxhdGVTZXR0aW5ncyk7dmFyIG1hdGNoZXI9UmVnRXhwKFsoc2V0dGluZ3MuZXNjYXBlfHxub01hdGNoKS5zb3VyY2UsKHNldHRpbmdzLmludGVycG9sYXRlfHxub01hdGNoKS5zb3VyY2UsKHNldHRpbmdzLmV2YWx1YXRlfHxub01hdGNoKS5zb3VyY2VdLmpvaW4oInwiKSsifCQiLCJnIiksaW5kZXg9MCxzb3VyY2U9Il9fcCs9JyI7dGV4dC5yZXBsYWNlKG1hdGNoZXIsZnVuY3Rpb24obWF0Y2gsZXNjYXBlLGludGVycG9sYXRlLGV2YWx1YXRlLG9mZnNldCl7cmV0dXJuIHNvdXJjZSs9dGV4dC5zbGljZShpbmRleCxvZmZzZXQpLnJlcGxhY2UoZXNjYXBlcixlc2NhcGVDaGFyKSxpbmRleD1vZmZzZXQrbWF0Y2gubGVuZ3RoLGVzY2FwZT9zb3VyY2UrPSInK1xuKChfX3Q9KCIrZXNjYXBlKyIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcbiciOmludGVycG9sYXRlP3NvdXJjZSs9IicrXG4oKF9fdD0oIitpbnRlcnBvbGF0ZSsiKSk9PW51bGw/Jyc6X190KStcbiciOmV2YWx1YXRlJiYoc291cmNlKz0iJztcbiIrZXZhbHVhdGUrIlxuX19wKz0nIiksbWF0Y2h9KSxzb3VyY2UrPSInO1xuIixzZXR0aW5ncy52YXJpYWJsZXx8KHNvdXJjZT0id2l0aChvYmp8fHt9KXtcbiIrc291cmNlKyJ9XG4iKSxzb3VyY2U9InZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xuIitzb3VyY2UrInJldHVybiBfX3A7XG4iO3RyeXt2YXIgcmVuZGVyPW5ldyBGdW5jdGlvbihzZXR0aW5ncy52YXJpYWJsZXx8Im9iaiIsIl8iLHNvdXJjZSl9Y2F0Y2goZSl7dGhyb3cgZS5zb3VyY2U9c291cmNlLGV9dmFyIHRlbXBsYXRlPWZ1bmN0aW9uKGRhdGEpe3JldHVybiByZW5kZXIuY2FsbCh0aGlzLGRhdGEsXyl9LGFyZ3VtZW50PXNldHRpbmdzLnZhcmlhYmxlfHwib2JqIjtyZXR1cm4gdGVtcGxhdGUuc291cmNlPSJmdW5jdGlvbigiK2FyZ3VtZW50KyIpe1xuIitzb3VyY2UrIn0iLHRlbXBsYXRlfSxfLmNoYWluPWZ1bmN0aW9uKG9iail7dmFyIGluc3RhbmNlPV8ob2JqKTtyZXR1cm4gaW5zdGFuY2UuX2NoYWluPSEwLGluc3RhbmNlfTt2YXIgcmVzdWx0PWZ1bmN0aW9uKG9iail7cmV0dXJuIHRoaXMuX2NoYWluP18ob2JqKS5jaGFpbigpOm9ian07Xy5taXhpbj1mdW5jdGlvbihvYmope18uZWFjaChfLmZ1bmN0aW9ucyhvYmopLGZ1bmN0aW9uKG5hbWUpe3ZhciBmdW5jPV9bbmFtZV09b2JqW25hbWVdO18ucHJvdG90eXBlW25hbWVdPWZ1bmN0aW9uKCl7dmFyIGFyZ3M9W3RoaXMuX3dyYXBwZWRdO3JldHVybiBwdXNoLmFwcGx5KGFyZ3MsYXJndW1lbnRzKSxyZXN1bHQuY2FsbCh0aGlzLGZ1bmMuYXBwbHkoXyxhcmdzKSl9fSl9LF8ubWl4aW4oXyksXy5lYWNoKFsicG9wIiwicHVzaCIsInJldmVyc2UiLCJzaGlmdCIsInNvcnQiLCJzcGxpY2UiLCJ1bnNoaWZ0Il0sZnVuY3Rpb24obmFtZSl7dmFyIG1ldGhvZD1BcnJheVByb3RvW25hbWVdO18ucHJvdG90eXBlW25hbWVdPWZ1bmN0aW9uKCl7dmFyIG9iaj10aGlzLl93cmFwcGVkO3JldHVybiBtZXRob2QuYXBwbHkob2JqLGFyZ3VtZW50cyksInNoaWZ0IiE9PW5hbWUmJiJzcGxpY2UiIT09bmFtZXx8MCE9PW9iai5sZW5ndGh8fGRlbGV0ZSBvYmpbMF0scmVzdWx0LmNhbGwodGhpcyxvYmopfX0pLF8uZWFjaChbImNvbmNhdCIsImpvaW4iLCJzbGljZSJdLGZ1bmN0aW9uKG5hbWUpe3ZhciBtZXRob2Q9QXJyYXlQcm90b1tuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3JldHVybiByZXN1bHQuY2FsbCh0aGlzLG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLGFyZ3VtZW50cykpfX0pLF8ucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBwZWR9LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgidW5kZXJzY29yZSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gX30pfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKHVuZGVmaW5lZCl7ZnVuY3Rpb24gZGZsKGEsYixjKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAyOnJldHVybiBudWxsIT1hP2E6YjtjYXNlIDM6cmV0dXJuIG51bGwhPWE/YTpudWxsIT1iP2I6YztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW1wbGVtZW50IG1lIil9fWZ1bmN0aW9uIGhhc093blByb3AoYSxiKXtyZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfWZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKXtyZXR1cm57ZW1wdHk6ITEsdW51c2VkVG9rZW5zOltdLHVudXNlZElucHV0OltdLG92ZXJmbG93Oi0yLGNoYXJzTGVmdE92ZXI6MCxudWxsSW5wdXQ6ITEsaW52YWxpZE1vbnRoOm51bGwsaW52YWxpZEZvcm1hdDohMSx1c2VySW52YWxpZGF0ZWQ6ITEsaXNvOiExfX1mdW5jdGlvbiBwcmludE1zZyhtc2cpe21vbWVudC5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3M9PT0hMSYmInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybigiRGVwcmVjYXRpb24gd2FybmluZzogIittc2cpfWZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csZm4pe3ZhciBmaXJzdFRpbWU9ITA7cmV0dXJuIGV4dGVuZChmdW5jdGlvbigpe3JldHVybiBmaXJzdFRpbWUmJihwcmludE1zZyhtc2cpLGZpcnN0VGltZT0hMSksZm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxmbil9ZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsbXNnKXtkZXByZWNhdGlvbnNbbmFtZV18fChwcmludE1zZyhtc2cpLGRlcHJlY2F0aW9uc1tuYW1lXT0hMCl9ZnVuY3Rpb24gcGFkVG9rZW4oZnVuYyxjb3VudCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBsZWZ0WmVyb0ZpbGwoZnVuYy5jYWxsKHRoaXMsYSksY291bnQpfX1mdW5jdGlvbiBvcmRpbmFsaXplVG9rZW4oZnVuYyxwZXJpb2Qpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmNhbGwodGhpcyxhKSxwZXJpb2QpfX1mdW5jdGlvbiBMb2NhbGUoKXt9ZnVuY3Rpb24gTW9tZW50KGNvbmZpZyxza2lwT3ZlcmZsb3cpe3NraXBPdmVyZmxvdyE9PSExJiZjaGVja092ZXJmbG93KGNvbmZpZyksY29weUNvbmZpZyh0aGlzLGNvbmZpZyksdGhpcy5fZD1uZXcgRGF0ZSgrY29uZmlnLl9kKX1mdW5jdGlvbiBEdXJhdGlvbihkdXJhdGlvbil7dmFyIG5vcm1hbGl6ZWRJbnB1dD1ub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbikseWVhcnM9bm9ybWFsaXplZElucHV0LnllYXJ8fDAscXVhcnRlcnM9bm9ybWFsaXplZElucHV0LnF1YXJ0ZXJ8fDAsbW9udGhzPW5vcm1hbGl6ZWRJbnB1dC5tb250aHx8MCx3ZWVrcz1ub3JtYWxpemVkSW5wdXQud2Vla3x8MCxkYXlzPW5vcm1hbGl6ZWRJbnB1dC5kYXl8fDAsaG91cnM9bm9ybWFsaXplZElucHV0LmhvdXJ8fDAsbWludXRlcz1ub3JtYWxpemVkSW5wdXQubWludXRlfHwwLHNlY29uZHM9bm9ybWFsaXplZElucHV0LnNlY29uZHx8MCxtaWxsaXNlY29uZHM9bm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kfHwwO3RoaXMuX21pbGxpc2Vjb25kcz0rbWlsbGlzZWNvbmRzKzFlMypzZWNvbmRzKzZlNCptaW51dGVzKzM2ZTUqaG91cnMsdGhpcy5fZGF5cz0rZGF5cys3KndlZWtzLHRoaXMuX21vbnRocz0rbW9udGhzKzMqcXVhcnRlcnMrMTIqeWVhcnMsdGhpcy5fZGF0YT17fSx0aGlzLl9sb2NhbGU9bW9tZW50LmxvY2FsZURhdGEoKSx0aGlzLl9idWJibGUoKX1mdW5jdGlvbiBleHRlbmQoYSxiKXtmb3IodmFyIGkgaW4gYiloYXNPd25Qcm9wKGIsaSkmJihhW2ldPWJbaV0pO3JldHVybiBoYXNPd25Qcm9wKGIsInRvU3RyaW5nIikmJihhLnRvU3RyaW5nPWIudG9TdHJpbmcpLGhhc093blByb3AoYiwidmFsdWVPZiIpJiYoYS52YWx1ZU9mPWIudmFsdWVPZiksYX1mdW5jdGlvbiBjb3B5Q29uZmlnKHRvLGZyb20pe3ZhciBpLHByb3AsdmFsO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5faXNBTW9tZW50T2JqZWN0JiYodG8uX2lzQU1vbWVudE9iamVjdD1mcm9tLl9pc0FNb21lbnRPYmplY3QpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5faSYmKHRvLl9pPWZyb20uX2kpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5fZiYmKHRvLl9mPWZyb20uX2YpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5fbCYmKHRvLl9sPWZyb20uX2wpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5fc3RyaWN0JiYodG8uX3N0cmljdD1mcm9tLl9zdHJpY3QpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5fdHptJiYodG8uX3R6bT1mcm9tLl90em0pLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5faXNVVEMmJih0by5faXNVVEM9ZnJvbS5faXNVVEMpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5fb2Zmc2V0JiYodG8uX29mZnNldD1mcm9tLl9vZmZzZXQpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5fcGYmJih0by5fcGY9ZnJvbS5fcGYpLCJ1bmRlZmluZWQiIT10eXBlb2YgZnJvbS5fbG9jYWxlJiYodG8uX2xvY2FsZT1mcm9tLl9sb2NhbGUpLG1vbWVudFByb3BlcnRpZXMubGVuZ3RoPjApZm9yKGkgaW4gbW9tZW50UHJvcGVydGllcylwcm9wPW1vbWVudFByb3BlcnRpZXNbaV0sdmFsPWZyb21bcHJvcF0sInVuZGVmaW5lZCIhPXR5cGVvZiB2YWwmJih0b1twcm9wXT12YWwpO3JldHVybiB0b31mdW5jdGlvbiBhYnNSb3VuZChudW1iZXIpe3JldHVybiAwPm51bWJlcj9NYXRoLmNlaWwobnVtYmVyKTpNYXRoLmZsb29yKG51bWJlcil9ZnVuY3Rpb24gbGVmdFplcm9GaWxsKG51bWJlcix0YXJnZXRMZW5ndGgsZm9yY2VTaWduKXtmb3IodmFyIG91dHB1dD0iIitNYXRoLmFicyhudW1iZXIpLHNpZ249bnVtYmVyPj0wO291dHB1dC5sZW5ndGg8dGFyZ2V0TGVuZ3RoOylvdXRwdXQ9IjAiK291dHB1dDtyZXR1cm4oc2lnbj9mb3JjZVNpZ24/IisiOiIiOiItIikrb3V0cHV0fWZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSxvdGhlcil7dmFyIHJlcz17bWlsbGlzZWNvbmRzOjAsbW9udGhzOjB9O3JldHVybiByZXMubW9udGhzPW90aGVyLm1vbnRoKCktYmFzZS5tb250aCgpKzEyKihvdGhlci55ZWFyKCktYmFzZS55ZWFyKCkpLGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywiTSIpLmlzQWZ0ZXIob3RoZXIpJiYtLXJlcy5tb250aHMscmVzLm1pbGxpc2Vjb25kcz0rb3RoZXItK2Jhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywiTSIpLHJlc31mdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLG90aGVyKXt2YXIgcmVzO3JldHVybiBvdGhlcj1tYWtlQXMob3RoZXIsYmFzZSksYmFzZS5pc0JlZm9yZShvdGhlcik/cmVzPXBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSxvdGhlcik6KHJlcz1wb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLGJhc2UpLHJlcy5taWxsaXNlY29uZHM9LXJlcy5taWxsaXNlY29uZHMscmVzLm1vbnRocz0tcmVzLm1vbnRocykscmVzfWZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbixuYW1lKXtyZXR1cm4gZnVuY3Rpb24odmFsLHBlcmlvZCl7dmFyIGR1cix0bXA7cmV0dXJuIG51bGw9PT1wZXJpb2R8fGlzTmFOKCtwZXJpb2QpfHwoZGVwcmVjYXRlU2ltcGxlKG5hbWUsIm1vbWVudCgpLiIrbmFtZSsiKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLiIrbmFtZSsiKG51bWJlciwgcGVyaW9kKS4iKSx0bXA9dmFsLHZhbD1wZXJpb2QscGVyaW9kPXRtcCksdmFsPSJzdHJpbmciPT10eXBlb2YgdmFsPyt2YWw6dmFsLGR1cj1tb21lbnQuZHVyYXRpb24odmFsLHBlcmlvZCksYWRkT3JTdWJ0cmFjdER1cmF0aW9uRnJvbU1vbWVudCh0aGlzLGR1cixkaXJlY3Rpb24pLHRoaXN9fWZ1bmN0aW9uIGFkZE9yU3VidHJhY3REdXJhdGlvbkZyb21Nb21lbnQobW9tLGR1cmF0aW9uLGlzQWRkaW5nLHVwZGF0ZU9mZnNldCl7dmFyIG1pbGxpc2Vjb25kcz1kdXJhdGlvbi5fbWlsbGlzZWNvbmRzLGRheXM9ZHVyYXRpb24uX2RheXMsbW9udGhzPWR1cmF0aW9uLl9tb250aHM7dXBkYXRlT2Zmc2V0PW51bGw9PXVwZGF0ZU9mZnNldD8hMDp1cGRhdGVPZmZzZXQsbWlsbGlzZWNvbmRzJiZtb20uX2Quc2V0VGltZSgrbW9tLl9kK21pbGxpc2Vjb25kcyppc0FkZGluZyksZGF5cyYmcmF3U2V0dGVyKG1vbSwiRGF0ZSIscmF3R2V0dGVyKG1vbSwiRGF0ZSIpK2RheXMqaXNBZGRpbmcpLG1vbnRocyYmcmF3TW9udGhTZXR0ZXIobW9tLHJhd0dldHRlcihtb20sIk1vbnRoIikrbW9udGhzKmlzQWRkaW5nKSx1cGRhdGVPZmZzZXQmJm1vbWVudC51cGRhdGVPZmZzZXQobW9tLGRheXN8fG1vbnRocyl9ZnVuY3Rpb24gaXNBcnJheShpbnB1dCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCl9ZnVuY3Rpb24gaXNEYXRlKGlucHV0KXtyZXR1cm4iW29iamVjdCBEYXRlXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpfHxpbnB1dCBpbnN0YW5jZW9mIERhdGV9ZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhcnJheTEsYXJyYXkyLGRvbnRDb252ZXJ0KXt2YXIgaSxsZW49TWF0aC5taW4oYXJyYXkxLmxlbmd0aCxhcnJheTIubGVuZ3RoKSxsZW5ndGhEaWZmPU1hdGguYWJzKGFycmF5MS5sZW5ndGgtYXJyYXkyLmxlbmd0aCksZGlmZnM9MDtmb3IoaT0wO2xlbj5pO2krKykoZG9udENvbnZlcnQmJmFycmF5MVtpXSE9PWFycmF5MltpXXx8IWRvbnRDb252ZXJ0JiZ0b0ludChhcnJheTFbaV0pIT09dG9JbnQoYXJyYXkyW2ldKSkmJmRpZmZzKys7cmV0dXJuIGRpZmZzK2xlbmd0aERpZmZ9ZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpe2lmKHVuaXRzKXt2YXIgbG93ZXJlZD11bml0cy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyguKXMkLywiJDEiKTt1bml0cz11bml0QWxpYXNlc1t1bml0c118fGNhbWVsRnVuY3Rpb25zW2xvd2VyZWRdfHxsb3dlcmVkfXJldHVybiB1bml0c31mdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCl7dmFyIG5vcm1hbGl6ZWRQcm9wLHByb3Asbm9ybWFsaXplZElucHV0PXt9O2Zvcihwcm9wIGluIGlucHV0T2JqZWN0KWhhc093blByb3AoaW5wdXRPYmplY3QscHJvcCkmJihub3JtYWxpemVkUHJvcD1ub3JtYWxpemVVbml0cyhwcm9wKSxub3JtYWxpemVkUHJvcCYmKG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF09aW5wdXRPYmplY3RbcHJvcF0pKTtyZXR1cm4gbm9ybWFsaXplZElucHV0fWZ1bmN0aW9uIG1ha2VMaXN0KGZpZWxkKXt2YXIgY291bnQsc2V0dGVyO2lmKDA9PT1maWVsZC5pbmRleE9mKCJ3ZWVrIikpY291bnQ9NyxzZXR0ZXI9ImRheSI7ZWxzZXtpZigwIT09ZmllbGQuaW5kZXhPZigibW9udGgiKSlyZXR1cm47Y291bnQ9MTIsc2V0dGVyPSJtb250aCJ9bW9tZW50W2ZpZWxkXT1mdW5jdGlvbihmb3JtYXQsaW5kZXgpe3ZhciBpLGdldHRlcixtZXRob2Q9bW9tZW50Ll9sb2NhbGVbZmllbGRdLHJlc3VsdHM9W107aWYoIm51bWJlciI9PXR5cGVvZiBmb3JtYXQmJihpbmRleD1mb3JtYXQsZm9ybWF0PXVuZGVmaW5lZCksZ2V0dGVyPWZ1bmN0aW9uKGkpe3ZhciBtPW1vbWVudCgpLnV0YygpLnNldChzZXR0ZXIsaSk7cmV0dXJuIG1ldGhvZC5jYWxsKG1vbWVudC5fbG9jYWxlLG0sZm9ybWF0fHwiIil9LG51bGwhPWluZGV4KXJldHVybiBnZXR0ZXIoaW5kZXgpO2ZvcihpPTA7Y291bnQ+aTtpKyspcmVzdWx0cy5wdXNoKGdldHRlcihpKSk7cmV0dXJuIHJlc3VsdHN9fWZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pe3ZhciBjb2VyY2VkTnVtYmVyPSthcmd1bWVudEZvckNvZXJjaW9uLHZhbHVlPTA7cmV0dXJuIDAhPT1jb2VyY2VkTnVtYmVyJiZpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSYmKHZhbHVlPWNvZXJjZWROdW1iZXI+PTA/TWF0aC5mbG9vcihjb2VyY2VkTnVtYmVyKTpNYXRoLmNlaWwoY29lcmNlZE51bWJlcikpLHZhbHVlfWZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsbW9udGgpe3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLG1vbnRoKzEsMCkpLmdldFVUQ0RhdGUoKX1mdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLGRvdyxkb3kpe3JldHVybiB3ZWVrT2ZZZWFyKG1vbWVudChbeWVhciwxMSwzMStkb3ctZG95XSksZG93LGRveSkud2Vla31mdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpe3JldHVybiBpc0xlYXBZZWFyKHllYXIpPzM2NjozNjV9ZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKXtyZXR1cm4geWVhciU0PT09MCYmeWVhciUxMDAhPT0wfHx5ZWFyJTQwMD09PTB9ZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyhtKXt2YXIgb3ZlcmZsb3c7bS5fYSYmLTI9PT1tLl9wZi5vdmVyZmxvdyYmKG92ZXJmbG93PW0uX2FbTU9OVEhdPDB8fG0uX2FbTU9OVEhdPjExP01PTlRIOm0uX2FbREFURV08MXx8bS5fYVtEQVRFXT5kYXlzSW5Nb250aChtLl9hW1lFQVJdLG0uX2FbTU9OVEhdKT9EQVRFOm0uX2FbSE9VUl08MHx8bS5fYVtIT1VSXT4yMz9IT1VSOm0uX2FbTUlOVVRFXTwwfHxtLl9hW01JTlVURV0+NTk/TUlOVVRFOm0uX2FbU0VDT05EXTwwfHxtLl9hW1NFQ09ORF0+NTk/U0VDT05EOm0uX2FbTUlMTElTRUNPTkRdPDB8fG0uX2FbTUlMTElTRUNPTkRdPjk5OT9NSUxMSVNFQ09ORDotMSxtLl9wZi5fb3ZlcmZsb3dEYXlPZlllYXImJihZRUFSPm92ZXJmbG93fHxvdmVyZmxvdz5EQVRFKSYmKG92ZXJmbG93PURBVEUpLG0uX3BmLm92ZXJmbG93PW92ZXJmbG93KX1mdW5jdGlvbiBpc1ZhbGlkKG0pe3JldHVybiBudWxsPT1tLl9pc1ZhbGlkJiYobS5faXNWYWxpZD0haXNOYU4obS5fZC5nZXRUaW1lKCkpJiZtLl9wZi5vdmVyZmxvdzwwJiYhbS5fcGYuZW1wdHkmJiFtLl9wZi5pbnZhbGlkTW9udGgmJiFtLl9wZi5udWxsSW5wdXQmJiFtLl9wZi5pbnZhbGlkRm9ybWF0JiYhbS5fcGYudXNlckludmFsaWRhdGVkLG0uX3N0cmljdCYmKG0uX2lzVmFsaWQ9bS5faXNWYWxpZCYmMD09PW0uX3BmLmNoYXJzTGVmdE92ZXImJjA9PT1tLl9wZi51bnVzZWRUb2tlbnMubGVuZ3RoKSksbS5faXNWYWxpZH1mdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KXtyZXR1cm4ga2V5P2tleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIl8iLCItIik6a2V5fWZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcyl7Zm9yKHZhciBqLG5leHQsbG9jYWxlLHNwbGl0LGk9MDtpPG5hbWVzLmxlbmd0aDspe2ZvcihzcGxpdD1ub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCItIiksaj1zcGxpdC5sZW5ndGgsbmV4dD1ub3JtYWxpemVMb2NhbGUobmFtZXNbaSsxXSksbmV4dD1uZXh0P25leHQuc3BsaXQoIi0iKTpudWxsO2o+MDspe2lmKGxvY2FsZT1sb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsaikuam9pbigiLSIpKSlyZXR1cm4gbG9jYWxlOwppZihuZXh0JiZuZXh0Lmxlbmd0aD49aiYmY29tcGFyZUFycmF5cyhzcGxpdCxuZXh0LCEwKT49ai0xKWJyZWFrO2otLX1pKyt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKXt2YXIgb2xkTG9jYWxlPW51bGw7aWYoIWxvY2FsZXNbbmFtZV0mJmhhc01vZHVsZSl0cnl7b2xkTG9jYWxlPW1vbWVudC5sb2NhbGUoKSxyZXF1aXJlKCIuL2xvY2FsZS8iK25hbWUpLG1vbWVudC5sb2NhbGUob2xkTG9jYWxlKX1jYXRjaChlKXt9cmV0dXJuIGxvY2FsZXNbbmFtZV19ZnVuY3Rpb24gbWFrZUFzKGlucHV0LG1vZGVsKXtyZXR1cm4gbW9kZWwuX2lzVVRDP21vbWVudChpbnB1dCkuem9uZShtb2RlbC5fb2Zmc2V0fHwwKTptb21lbnQoaW5wdXQpLmxvY2FsKCl9ZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhpbnB1dCl7cmV0dXJuIGlucHV0Lm1hdGNoKC9cW1tcc1xTXS8pP2lucHV0LnJlcGxhY2UoL15cW3xcXSQvZywiIik6aW5wdXQucmVwbGFjZSgvXFwvZywiIil9ZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCl7dmFyIGksbGVuZ3RoLGFycmF5PWZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKTtmb3IoaT0wLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPmk7aSsrKWFycmF5W2ldPWZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXT9mb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV06cmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7cmV0dXJuIGZ1bmN0aW9uKG1vbSl7dmFyIG91dHB1dD0iIjtmb3IoaT0wO2xlbmd0aD5pO2krKylvdXRwdXQrPWFycmF5W2ldaW5zdGFuY2VvZiBGdW5jdGlvbj9hcnJheVtpXS5jYWxsKG1vbSxmb3JtYXQpOmFycmF5W2ldO3JldHVybiBvdXRwdXR9fWZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLGZvcm1hdCl7cmV0dXJuIG0uaXNWYWxpZCgpPyhmb3JtYXQ9ZXhwYW5kRm9ybWF0KGZvcm1hdCxtLmxvY2FsZURhdGEoKSksZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF18fChmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XT1tYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSksZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSkpOm0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCl9ZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCxsb2NhbGUpe2Z1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCl7cmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCl8fGlucHV0fXZhciBpPTU7Zm9yKGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXg9MDtpPj0wJiZsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpOylmb3JtYXQ9Zm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyksbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleD0wLGktPTE7cmV0dXJuIGZvcm1hdH1mdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sY29uZmlnKXt2YXIgYSxzdHJpY3Q9Y29uZmlnLl9zdHJpY3Q7c3dpdGNoKHRva2VuKXtjYXNlIlEiOnJldHVybiBwYXJzZVRva2VuT25lRGlnaXQ7Y2FzZSJEREREIjpyZXR1cm4gcGFyc2VUb2tlblRocmVlRGlnaXRzO2Nhc2UiWVlZWSI6Y2FzZSJHR0dHIjpjYXNlImdnZ2ciOnJldHVybiBzdHJpY3Q/cGFyc2VUb2tlbkZvdXJEaWdpdHM6cGFyc2VUb2tlbk9uZVRvRm91ckRpZ2l0cztjYXNlIlkiOmNhc2UiRyI6Y2FzZSJnIjpyZXR1cm4gcGFyc2VUb2tlblNpZ25lZE51bWJlcjtjYXNlIllZWVlZWSI6Y2FzZSJZWVlZWSI6Y2FzZSJHR0dHRyI6Y2FzZSJnZ2dnZyI6cmV0dXJuIHN0cmljdD9wYXJzZVRva2VuU2l4RGlnaXRzOnBhcnNlVG9rZW5PbmVUb1NpeERpZ2l0cztjYXNlIlMiOmlmKHN0cmljdClyZXR1cm4gcGFyc2VUb2tlbk9uZURpZ2l0O2Nhc2UiU1MiOmlmKHN0cmljdClyZXR1cm4gcGFyc2VUb2tlblR3b0RpZ2l0cztjYXNlIlNTUyI6aWYoc3RyaWN0KXJldHVybiBwYXJzZVRva2VuVGhyZWVEaWdpdHM7Y2FzZSJEREQiOnJldHVybiBwYXJzZVRva2VuT25lVG9UaHJlZURpZ2l0cztjYXNlIk1NTSI6Y2FzZSJNTU1NIjpjYXNlImRkIjpjYXNlImRkZCI6Y2FzZSJkZGRkIjpyZXR1cm4gcGFyc2VUb2tlbldvcmQ7Y2FzZSJhIjpjYXNlIkEiOnJldHVybiBjb25maWcuX2xvY2FsZS5fbWVyaWRpZW1QYXJzZTtjYXNlIlgiOnJldHVybiBwYXJzZVRva2VuVGltZXN0YW1wTXM7Y2FzZSJaIjpjYXNlIlpaIjpyZXR1cm4gcGFyc2VUb2tlblRpbWV6b25lO2Nhc2UiVCI6cmV0dXJuIHBhcnNlVG9rZW5UO2Nhc2UiU1NTUyI6cmV0dXJuIHBhcnNlVG9rZW5EaWdpdHM7Y2FzZSJNTSI6Y2FzZSJERCI6Y2FzZSJZWSI6Y2FzZSJHRyI6Y2FzZSJnZyI6Y2FzZSJISCI6Y2FzZSJoaCI6Y2FzZSJtbSI6Y2FzZSJzcyI6Y2FzZSJ3dyI6Y2FzZSJXVyI6cmV0dXJuIHN0cmljdD9wYXJzZVRva2VuVHdvRGlnaXRzOnBhcnNlVG9rZW5PbmVPclR3b0RpZ2l0cztjYXNlIk0iOmNhc2UiRCI6Y2FzZSJkIjpjYXNlIkgiOmNhc2UiaCI6Y2FzZSJtIjpjYXNlInMiOmNhc2UidyI6Y2FzZSJXIjpjYXNlImUiOmNhc2UiRSI6cmV0dXJuIHBhcnNlVG9rZW5PbmVPclR3b0RpZ2l0cztjYXNlIkRvIjpyZXR1cm4gcGFyc2VUb2tlbk9yZGluYWw7ZGVmYXVsdDpyZXR1cm4gYT1uZXcgUmVnRXhwKHJlZ2V4cEVzY2FwZSh1bmVzY2FwZUZvcm1hdCh0b2tlbi5yZXBsYWNlKCJcXCIsIiIpKSwiaSIpKX19ZnVuY3Rpb24gdGltZXpvbmVNaW51dGVzRnJvbVN0cmluZyhzdHJpbmcpe3N0cmluZz1zdHJpbmd8fCIiO3ZhciBwb3NzaWJsZVR6TWF0Y2hlcz1zdHJpbmcubWF0Y2gocGFyc2VUb2tlblRpbWV6b25lKXx8W10sdHpDaHVuaz1wb3NzaWJsZVR6TWF0Y2hlc1twb3NzaWJsZVR6TWF0Y2hlcy5sZW5ndGgtMV18fFtdLHBhcnRzPSh0ekNodW5rKyIiKS5tYXRjaChwYXJzZVRpbWV6b25lQ2h1bmtlcil8fFsiLSIsMCwwXSxtaW51dGVzPSsoNjAqcGFydHNbMV0pK3RvSW50KHBhcnRzWzJdKTtyZXR1cm4iKyI9PT1wYXJ0c1swXT8tbWludXRlczptaW51dGVzfWZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLGlucHV0LGNvbmZpZyl7dmFyIGEsZGF0ZVBhcnRBcnJheT1jb25maWcuX2E7c3dpdGNoKHRva2VuKXtjYXNlIlEiOm51bGwhPWlucHV0JiYoZGF0ZVBhcnRBcnJheVtNT05USF09MyoodG9JbnQoaW5wdXQpLTEpKTticmVhaztjYXNlIk0iOmNhc2UiTU0iOm51bGwhPWlucHV0JiYoZGF0ZVBhcnRBcnJheVtNT05USF09dG9JbnQoaW5wdXQpLTEpO2JyZWFrO2Nhc2UiTU1NIjpjYXNlIk1NTU0iOmE9Y29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQpLG51bGwhPWE/ZGF0ZVBhcnRBcnJheVtNT05USF09YTpjb25maWcuX3BmLmludmFsaWRNb250aD1pbnB1dDticmVhaztjYXNlIkQiOmNhc2UiREQiOm51bGwhPWlucHV0JiYoZGF0ZVBhcnRBcnJheVtEQVRFXT10b0ludChpbnB1dCkpO2JyZWFrO2Nhc2UiRG8iOm51bGwhPWlucHV0JiYoZGF0ZVBhcnRBcnJheVtEQVRFXT10b0ludChwYXJzZUludChpbnB1dCwxMCkpKTticmVhaztjYXNlIkRERCI6Y2FzZSJEREREIjpudWxsIT1pbnB1dCYmKGNvbmZpZy5fZGF5T2ZZZWFyPXRvSW50KGlucHV0KSk7YnJlYWs7Y2FzZSJZWSI6ZGF0ZVBhcnRBcnJheVtZRUFSXT1tb21lbnQucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO2JyZWFrO2Nhc2UiWVlZWSI6Y2FzZSJZWVlZWSI6Y2FzZSJZWVlZWVkiOmRhdGVQYXJ0QXJyYXlbWUVBUl09dG9JbnQoaW5wdXQpO2JyZWFrO2Nhc2UiYSI6Y2FzZSJBIjpjb25maWcuX2lzUG09Y29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7YnJlYWs7Y2FzZSJIIjpjYXNlIkhIIjpjYXNlImgiOmNhc2UiaGgiOmRhdGVQYXJ0QXJyYXlbSE9VUl09dG9JbnQoaW5wdXQpO2JyZWFrO2Nhc2UibSI6Y2FzZSJtbSI6ZGF0ZVBhcnRBcnJheVtNSU5VVEVdPXRvSW50KGlucHV0KTticmVhaztjYXNlInMiOmNhc2Uic3MiOmRhdGVQYXJ0QXJyYXlbU0VDT05EXT10b0ludChpbnB1dCk7YnJlYWs7Y2FzZSJTIjpjYXNlIlNTIjpjYXNlIlNTUyI6Y2FzZSJTU1NTIjpkYXRlUGFydEFycmF5W01JTExJU0VDT05EXT10b0ludCgxZTMqKCIwLiIraW5wdXQpKTticmVhaztjYXNlIlgiOmNvbmZpZy5fZD1uZXcgRGF0ZSgxZTMqcGFyc2VGbG9hdChpbnB1dCkpO2JyZWFrO2Nhc2UiWiI6Y2FzZSJaWiI6Y29uZmlnLl91c2VVVEM9ITAsY29uZmlnLl90em09dGltZXpvbmVNaW51dGVzRnJvbVN0cmluZyhpbnB1dCk7YnJlYWs7Y2FzZSJkZCI6Y2FzZSJkZGQiOmNhc2UiZGRkZCI6YT1jb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSxudWxsIT1hPyhjb25maWcuX3c9Y29uZmlnLl93fHx7fSxjb25maWcuX3cuZD1hKTpjb25maWcuX3BmLmludmFsaWRXZWVrZGF5PWlucHV0O2JyZWFrO2Nhc2UidyI6Y2FzZSJ3dyI6Y2FzZSJXIjpjYXNlIldXIjpjYXNlImQiOmNhc2UiZSI6Y2FzZSJFIjp0b2tlbj10b2tlbi5zdWJzdHIoMCwxKTtjYXNlImdnZ2ciOmNhc2UiR0dHRyI6Y2FzZSJHR0dHRyI6dG9rZW49dG9rZW4uc3Vic3RyKDAsMiksaW5wdXQmJihjb25maWcuX3c9Y29uZmlnLl93fHx7fSxjb25maWcuX3dbdG9rZW5dPXRvSW50KGlucHV0KSk7YnJlYWs7Y2FzZSJnZyI6Y2FzZSJHRyI6Y29uZmlnLl93PWNvbmZpZy5fd3x8e30sY29uZmlnLl93W3Rva2VuXT1tb21lbnQucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpfX1mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKXt2YXIgdyx3ZWVrWWVhcix3ZWVrLHdlZWtkYXksZG93LGRveSx0ZW1wO3c9Y29uZmlnLl93LG51bGwhPXcuR0d8fG51bGwhPXcuV3x8bnVsbCE9dy5FPyhkb3c9MSxkb3k9NCx3ZWVrWWVhcj1kZmwody5HRyxjb25maWcuX2FbWUVBUl0sd2Vla09mWWVhcihtb21lbnQoKSwxLDQpLnllYXIpLHdlZWs9ZGZsKHcuVywxKSx3ZWVrZGF5PWRmbCh3LkUsMSkpOihkb3c9Y29uZmlnLl9sb2NhbGUuX3dlZWsuZG93LGRveT1jb25maWcuX2xvY2FsZS5fd2Vlay5kb3ksd2Vla1llYXI9ZGZsKHcuZ2csY29uZmlnLl9hW1lFQVJdLHdlZWtPZlllYXIobW9tZW50KCksZG93LGRveSkueWVhciksd2Vlaz1kZmwody53LDEpLG51bGwhPXcuZD8od2Vla2RheT13LmQsZG93PndlZWtkYXkmJisrd2Vlayk6d2Vla2RheT1udWxsIT13LmU/dy5lK2Rvdzpkb3cpLHRlbXA9ZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLHdlZWssd2Vla2RheSxkb3ksZG93KSxjb25maWcuX2FbWUVBUl09dGVtcC55ZWFyLGNvbmZpZy5fZGF5T2ZZZWFyPXRlbXAuZGF5T2ZZZWFyfWZ1bmN0aW9uIGRhdGVGcm9tQ29uZmlnKGNvbmZpZyl7dmFyIGksZGF0ZSxjdXJyZW50RGF0ZSx5ZWFyVG9Vc2UsaW5wdXQ9W107aWYoIWNvbmZpZy5fZCl7Zm9yKGN1cnJlbnREYXRlPWN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSxjb25maWcuX3cmJm51bGw9PWNvbmZpZy5fYVtEQVRFXSYmbnVsbD09Y29uZmlnLl9hW01PTlRIXSYmZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyksY29uZmlnLl9kYXlPZlllYXImJih5ZWFyVG9Vc2U9ZGZsKGNvbmZpZy5fYVtZRUFSXSxjdXJyZW50RGF0ZVtZRUFSXSksY29uZmlnLl9kYXlPZlllYXI+ZGF5c0luWWVhcih5ZWFyVG9Vc2UpJiYoY29uZmlnLl9wZi5fb3ZlcmZsb3dEYXlPZlllYXI9ITApLGRhdGU9bWFrZVVUQ0RhdGUoeWVhclRvVXNlLDAsY29uZmlnLl9kYXlPZlllYXIpLGNvbmZpZy5fYVtNT05USF09ZGF0ZS5nZXRVVENNb250aCgpLGNvbmZpZy5fYVtEQVRFXT1kYXRlLmdldFVUQ0RhdGUoKSksaT0wOzM+aSYmbnVsbD09Y29uZmlnLl9hW2ldOysraSljb25maWcuX2FbaV09aW5wdXRbaV09Y3VycmVudERhdGVbaV07Zm9yKDs3Pmk7aSsrKWNvbmZpZy5fYVtpXT1pbnB1dFtpXT1udWxsPT1jb25maWcuX2FbaV0/Mj09PWk/MTowOmNvbmZpZy5fYVtpXTtjb25maWcuX2Q9KGNvbmZpZy5fdXNlVVRDP21ha2VVVENEYXRlOm1ha2VEYXRlKS5hcHBseShudWxsLGlucHV0KSxudWxsIT1jb25maWcuX3R6bSYmY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKStjb25maWcuX3R6bSl9fWZ1bmN0aW9uIGRhdGVGcm9tT2JqZWN0KGNvbmZpZyl7dmFyIG5vcm1hbGl6ZWRJbnB1dDtjb25maWcuX2R8fChub3JtYWxpemVkSW5wdXQ9bm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKSxjb25maWcuX2E9W25vcm1hbGl6ZWRJbnB1dC55ZWFyLG5vcm1hbGl6ZWRJbnB1dC5tb250aCxub3JtYWxpemVkSW5wdXQuZGF5LG5vcm1hbGl6ZWRJbnB1dC5ob3VyLG5vcm1hbGl6ZWRJbnB1dC5taW51dGUsbm9ybWFsaXplZElucHV0LnNlY29uZCxub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmRdLGRhdGVGcm9tQ29uZmlnKGNvbmZpZykpfWZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKXt2YXIgbm93PW5ldyBEYXRlO3JldHVybiBjb25maWcuX3VzZVVUQz9bbm93LmdldFVUQ0Z1bGxZZWFyKCksbm93LmdldFVUQ01vbnRoKCksbm93LmdldFVUQ0RhdGUoKV06W25vdy5nZXRGdWxsWWVhcigpLG5vdy5nZXRNb250aCgpLG5vdy5nZXREYXRlKCldfWZ1bmN0aW9uIG1ha2VEYXRlRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpe2lmKGNvbmZpZy5fZj09PW1vbWVudC5JU09fODYwMSlyZXR1cm4gdm9pZCBwYXJzZUlTTyhjb25maWcpO2NvbmZpZy5fYT1bXSxjb25maWcuX3BmLmVtcHR5PSEwO3ZhciBpLHBhcnNlZElucHV0LHRva2Vucyx0b2tlbixza2lwcGVkLHN0cmluZz0iIitjb25maWcuX2ksc3RyaW5nTGVuZ3RoPXN0cmluZy5sZW5ndGgsdG90YWxQYXJzZWRJbnB1dExlbmd0aD0wO2Zvcih0b2tlbnM9ZXhwYW5kRm9ybWF0KGNvbmZpZy5fZixjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2Vucyl8fFtdLGk9MDtpPHRva2Vucy5sZW5ndGg7aSsrKXRva2VuPXRva2Vuc1tpXSxwYXJzZWRJbnB1dD0oc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbixjb25maWcpKXx8W10pWzBdLHBhcnNlZElucHV0JiYoc2tpcHBlZD1zdHJpbmcuc3Vic3RyKDAsc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKSxza2lwcGVkLmxlbmd0aD4wJiZjb25maWcuX3BmLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCksc3RyaW5nPXN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkrcGFyc2VkSW5wdXQubGVuZ3RoKSx0b3RhbFBhcnNlZElucHV0TGVuZ3RoKz1wYXJzZWRJbnB1dC5sZW5ndGgpLGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXT8ocGFyc2VkSW5wdXQ/Y29uZmlnLl9wZi5lbXB0eT0hMTpjb25maWcuX3BmLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKSxhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbixwYXJzZWRJbnB1dCxjb25maWcpKTpjb25maWcuX3N0cmljdCYmIXBhcnNlZElucHV0JiZjb25maWcuX3BmLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtjb25maWcuX3BmLmNoYXJzTGVmdE92ZXI9c3RyaW5nTGVuZ3RoLXRvdGFsUGFyc2VkSW5wdXRMZW5ndGgsc3RyaW5nLmxlbmd0aD4wJiZjb25maWcuX3BmLnVudXNlZElucHV0LnB1c2goc3RyaW5nKSxjb25maWcuX2lzUG0mJmNvbmZpZy5fYVtIT1VSXTwxMiYmKGNvbmZpZy5fYVtIT1VSXSs9MTIpLGNvbmZpZy5faXNQbT09PSExJiYxMj09PWNvbmZpZy5fYVtIT1VSXSYmKGNvbmZpZy5fYVtIT1VSXT0wKSxkYXRlRnJvbUNvbmZpZyhjb25maWcpLGNoZWNrT3ZlcmZsb3coY29uZmlnKX1mdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKXtyZXR1cm4gcy5yZXBsYWNlKC9cXChcWyl8XFwoXF0pfFxbKFteXF1cW10qKVxdfFxcKC4pL2csZnVuY3Rpb24obWF0Y2hlZCxwMSxwMixwMyxwNCl7cmV0dXJuIHAxfHxwMnx8cDN8fHA0fSl9ZnVuY3Rpb24gcmVnZXhwRXNjYXBlKHMpe3JldHVybiBzLnJlcGxhY2UoL1stXC9cXF4kKis/LigpfFtcXXt9XS9nLCJcXCQmIil9ZnVuY3Rpb24gbWFrZURhdGVGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKXt2YXIgdGVtcENvbmZpZyxiZXN0TW9tZW50LHNjb3JlVG9CZWF0LGksY3VycmVudFNjb3JlO2lmKDA9PT1jb25maWcuX2YubGVuZ3RoKXJldHVybiBjb25maWcuX3BmLmludmFsaWRGb3JtYXQ9ITAsdm9pZChjb25maWcuX2Q9bmV3IERhdGUoMC8wKSk7Zm9yKGk9MDtpPGNvbmZpZy5fZi5sZW5ndGg7aSsrKWN1cnJlbnRTY29yZT0wLHRlbXBDb25maWc9Y29weUNvbmZpZyh7fSxjb25maWcpLG51bGwhPWNvbmZpZy5fdXNlVVRDJiYodGVtcENvbmZpZy5fdXNlVVRDPWNvbmZpZy5fdXNlVVRDKSx0ZW1wQ29uZmlnLl9wZj1kZWZhdWx0UGFyc2luZ0ZsYWdzKCksdGVtcENvbmZpZy5fZj1jb25maWcuX2ZbaV0sbWFrZURhdGVGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpLGlzVmFsaWQodGVtcENvbmZpZykmJihjdXJyZW50U2NvcmUrPXRlbXBDb25maWcuX3BmLmNoYXJzTGVmdE92ZXIsY3VycmVudFNjb3JlKz0xMCp0ZW1wQ29uZmlnLl9wZi51bnVzZWRUb2tlbnMubGVuZ3RoLHRlbXBDb25maWcuX3BmLnNjb3JlPWN1cnJlbnRTY29yZSwobnVsbD09c2NvcmVUb0JlYXR8fHNjb3JlVG9CZWF0PmN1cnJlbnRTY29yZSkmJihzY29yZVRvQmVhdD1jdXJyZW50U2NvcmUsYmVzdE1vbWVudD10ZW1wQ29uZmlnKSk7ZXh0ZW5kKGNvbmZpZyxiZXN0TW9tZW50fHx0ZW1wQ29uZmlnKX1mdW5jdGlvbiBwYXJzZUlTTyhjb25maWcpe3ZhciBpLGwsc3RyaW5nPWNvbmZpZy5faSxtYXRjaD1pc29SZWdleC5leGVjKHN0cmluZyk7aWYobWF0Y2gpe2Zvcihjb25maWcuX3BmLmlzbz0hMCxpPTAsbD1pc29EYXRlcy5sZW5ndGg7bD5pO2krKylpZihpc29EYXRlc1tpXVsxXS5leGVjKHN0cmluZykpe2NvbmZpZy5fZj1pc29EYXRlc1tpXVswXSsobWF0Y2hbNl18fCIgIik7YnJlYWt9Zm9yKGk9MCxsPWlzb1RpbWVzLmxlbmd0aDtsPmk7aSsrKWlmKGlzb1RpbWVzW2ldWzFdLmV4ZWMoc3RyaW5nKSl7Y29uZmlnLl9mKz1pc29UaW1lc1tpXVswXTticmVha31zdHJpbmcubWF0Y2gocGFyc2VUb2tlblRpbWV6b25lKSYmKGNvbmZpZy5fZis9IloiKSxtYWtlRGF0ZUZyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKX1lbHNlIGNvbmZpZy5faXNWYWxpZD0hMX1mdW5jdGlvbiBtYWtlRGF0ZUZyb21TdHJpbmcoY29uZmlnKXtwYXJzZUlTTyhjb25maWcpLGNvbmZpZy5faXNWYWxpZD09PSExJiYoZGVsZXRlIGNvbmZpZy5faXNWYWxpZCxtb21lbnQuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKSl9ZnVuY3Rpb24gbWFwKGFycixmbil7dmFyIGkscmVzPVtdO2ZvcihpPTA7aTxhcnIubGVuZ3RoOysraSlyZXMucHVzaChmbihhcnJbaV0saSkpO3JldHVybiByZXN9ZnVuY3Rpb24gbWFrZURhdGVGcm9tSW5wdXQoY29uZmlnKXt2YXIgbWF0Y2hlZCxpbnB1dD1jb25maWcuX2k7aW5wdXQ9PT11bmRlZmluZWQ/Y29uZmlnLl9kPW5ldyBEYXRlOmlzRGF0ZShpbnB1dCk/Y29uZmlnLl9kPW5ldyBEYXRlKCtpbnB1dCk6bnVsbCE9PShtYXRjaGVkPWFzcE5ldEpzb25SZWdleC5leGVjKGlucHV0KSk/Y29uZmlnLl9kPW5ldyBEYXRlKCttYXRjaGVkWzFdKToic3RyaW5nIj09dHlwZW9mIGlucHV0P21ha2VEYXRlRnJvbVN0cmluZyhjb25maWcpOmlzQXJyYXkoaW5wdXQpPyhjb25maWcuX2E9bWFwKGlucHV0LnNsaWNlKDApLGZ1bmN0aW9uKG9iail7cmV0dXJuIHBhcnNlSW50KG9iaiwxMCl9KSxkYXRlRnJvbUNvbmZpZyhjb25maWcpKToib2JqZWN0Ij09dHlwZW9mIGlucHV0P2RhdGVGcm9tT2JqZWN0KGNvbmZpZyk6Im51bWJlciI9PXR5cGVvZiBpbnB1dD9jb25maWcuX2Q9bmV3IERhdGUoaW5wdXQpOm1vbWVudC5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpfWZ1bmN0aW9uIG1ha2VEYXRlKHksbSxkLGgsTSxzLG1zKXt2YXIgZGF0ZT1uZXcgRGF0ZSh5LG0sZCxoLE0scyxtcyk7cmV0dXJuIDE5NzA+eSYmZGF0ZS5zZXRGdWxsWWVhcih5KSxkYXRlfWZ1bmN0aW9uIG1ha2VVVENEYXRlKHkpe3ZhciBkYXRlPW5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsYXJndW1lbnRzKSk7cmV0dXJuIDE5NzA+eSYmZGF0ZS5zZXRVVENGdWxsWWVhcih5KSxkYXRlfWZ1bmN0aW9uIHBhcnNlV2Vla2RheShpbnB1dCxsb2NhbGUpe2lmKCJzdHJpbmciPT10eXBlb2YgaW5wdXQpaWYoaXNOYU4oaW5wdXQpKXtpZihpbnB1dD1sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCksIm51bWJlciIhPXR5cGVvZiBpbnB1dClyZXR1cm4gbnVsbH1lbHNlIGlucHV0PXBhcnNlSW50KGlucHV0LDEwKTtyZXR1cm4gaW5wdXR9ZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLG51bWJlcix3aXRob3V0U3VmZml4LGlzRnV0dXJlLGxvY2FsZSl7cmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyfHwxLCEhd2l0aG91dFN1ZmZpeCxzdHJpbmcsaXNGdXR1cmUpfWZ1bmN0aW9uIHJlbGF0aXZlVGltZShwb3NOZWdEdXJhdGlvbix3aXRob3V0U3VmZml4LGxvY2FsZSl7dmFyIGR1cmF0aW9uPW1vbWVudC5kdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCksc2Vjb25kcz1yb3VuZChkdXJhdGlvbi5hcygicyIpKSxtaW51dGVzPXJvdW5kKGR1cmF0aW9uLmFzKCJtIikpLGhvdXJzPXJvdW5kKGR1cmF0aW9uLmFzKCJoIikpLGRheXM9cm91bmQoZHVyYXRpb24uYXMoImQiKSksbW9udGhzPXJvdW5kKGR1cmF0aW9uLmFzKCJNIikpLHllYXJzPXJvdW5kKGR1cmF0aW9uLmFzKCJ5IikpLGFyZ3M9c2Vjb25kczxyZWxhdGl2ZVRpbWVUaHJlc2hvbGRzLnMmJlsicyIsc2Vjb25kc118fDE9PT1taW51dGVzJiZbIm0iXXx8bWludXRlczxyZWxhdGl2ZVRpbWVUaHJlc2hvbGRzLm0mJlsibW0iLG1pbnV0ZXNdfHwxPT09aG91cnMmJlsiaCJdfHxob3VyczxyZWxhdGl2ZVRpbWVUaHJlc2hvbGRzLmgmJlsiaGgiLGhvdXJzXXx8MT09PWRheXMmJlsiZCJdfHxkYXlzPHJlbGF0aXZlVGltZVRocmVzaG9sZHMuZCYmWyJkZCIsZGF5c118fDE9PT1tb250aHMmJlsiTSJdfHxtb250aHM8cmVsYXRpdmVUaW1lVGhyZXNob2xkcy5NJiZbIk1NIixtb250aHNdfHwxPT09eWVhcnMmJlsieSJdfHxbInl5Iix5ZWFyc107cmV0dXJuIGFyZ3NbMl09d2l0aG91dFN1ZmZpeCxhcmdzWzNdPStwb3NOZWdEdXJhdGlvbj4wLGFyZ3NbNF09bG9jYWxlLHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KHt9LGFyZ3MpfWZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLGZpcnN0RGF5T2ZXZWVrLGZpcnN0RGF5T2ZXZWVrT2ZZZWFyKXt2YXIgYWRqdXN0ZWRNb21lbnQsZW5kPWZpcnN0RGF5T2ZXZWVrT2ZZZWFyLWZpcnN0RGF5T2ZXZWVrLGRheXNUb0RheU9mV2Vlaz1maXJzdERheU9mV2Vla09mWWVhci1tb20uZGF5KCk7cmV0dXJuIGRheXNUb0RheU9mV2Vlaz5lbmQmJihkYXlzVG9EYXlPZldlZWstPTcpLGVuZC03PmRheXNUb0RheU9mV2VlayYmKGRheXNUb0RheU9mV2Vlays9NyksYWRqdXN0ZWRNb21lbnQ9bW9tZW50KG1vbSkuYWRkKGRheXNUb0RheU9mV2VlaywiZCIpLHt3ZWVrOk1hdGguY2VpbChhZGp1c3RlZE1vbWVudC5kYXlPZlllYXIoKS83KSx5ZWFyOmFkanVzdGVkTW9tZW50LnllYXIoKX19ZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtzKHllYXIsd2Vlayx3ZWVrZGF5LGZpcnN0RGF5T2ZXZWVrT2ZZZWFyLGZpcnN0RGF5T2ZXZWVrKXt2YXIgZGF5c1RvQWRkLGRheU9mWWVhcixkPW1ha2VVVENEYXRlKHllYXIsMCwxKS5nZXRVVENEYXkoKTtyZXR1cm4gZD0wPT09ZD83OmQsd2Vla2RheT1udWxsIT13ZWVrZGF5P3dlZWtkYXk6Zmlyc3REYXlPZldlZWssZGF5c1RvQWRkPWZpcnN0RGF5T2ZXZWVrLWQrKGQ+Zmlyc3REYXlPZldlZWtPZlllYXI/NzowKS0oZmlyc3REYXlPZldlZWs+ZD83OjApLGRheU9mWWVhcj03Kih3ZWVrLTEpKyh3ZWVrZGF5LWZpcnN0RGF5T2ZXZWVrKStkYXlzVG9BZGQrMSx7eWVhcjpkYXlPZlllYXI+MD95ZWFyOnllYXItMSxkYXlPZlllYXI6ZGF5T2ZZZWFyPjA/ZGF5T2ZZZWFyOmRheXNJblllYXIoeWVhci0xKStkYXlPZlllYXJ9fWZ1bmN0aW9uIG1ha2VNb21lbnQoY29uZmlnKXt2YXIgaW5wdXQ9Y29uZmlnLl9pLGZvcm1hdD1jb25maWcuX2Y7cmV0dXJuIGNvbmZpZy5fbG9jYWxlPWNvbmZpZy5fbG9jYWxlfHxtb21lbnQubG9jYWxlRGF0YShjb25maWcuX2wpLG51bGw9PT1pbnB1dHx8Zm9ybWF0PT09dW5kZWZpbmVkJiYiIj09PWlucHV0P21vbWVudC5pbnZhbGlkKHtudWxsSW5wdXQ6ITB9KTooInN0cmluZyI9PXR5cGVvZiBpbnB1dCYmKGNvbmZpZy5faT1pbnB1dD1jb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCkpLG1vbWVudC5pc01vbWVudChpbnB1dCk/bmV3IE1vbWVudChpbnB1dCwhMCk6KGZvcm1hdD9pc0FycmF5KGZvcm1hdCk/bWFrZURhdGVGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTptYWtlRGF0ZUZyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTptYWtlRGF0ZUZyb21JbnB1dChjb25maWcpLG5ldyBNb21lbnQoY29uZmlnKSkpfWZ1bmN0aW9uIHBpY2tCeShmbixtb21lbnRzKXt2YXIgcmVzLGk7aWYoMT09PW1vbWVudHMubGVuZ3RoJiZpc0FycmF5KG1vbWVudHNbMF0pJiYobW9tZW50cz1tb21lbnRzWzBdKSwhbW9tZW50cy5sZW5ndGgpcmV0dXJuIG1vbWVudCgpO2ZvcihyZXM9bW9tZW50c1swXSxpPTE7aTxtb21lbnRzLmxlbmd0aDsrK2kpbW9tZW50c1tpXVtmbl0ocmVzKSYmKHJlcz1tb21lbnRzW2ldKTtyZXR1cm4gcmVzfWZ1bmN0aW9uIHJhd01vbnRoU2V0dGVyKG1vbSx2YWx1ZSl7dmFyIGRheU9mTW9udGg7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB2YWx1ZSYmKHZhbHVlPW1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpLCJudW1iZXIiIT10eXBlb2YgdmFsdWUpP21vbTooZGF5T2ZNb250aD1NYXRoLm1pbihtb20uZGF0ZSgpLGRheXNJbk1vbnRoKG1vbS55ZWFyKCksdmFsdWUpKSxtb20uX2RbInNldCIrKG1vbS5faXNVVEM/IlVUQyI6IiIpKyJNb250aCJdKHZhbHVlLGRheU9mTW9udGgpLG1vbSl9ZnVuY3Rpb24gcmF3R2V0dGVyKG1vbSx1bml0KXtyZXR1cm4gbW9tLl9kWyJnZXQiKyhtb20uX2lzVVRDPyJVVEMiOiIiKSt1bml0XSgpfWZ1bmN0aW9uIHJhd1NldHRlcihtb20sdW5pdCx2YWx1ZSl7cmV0dXJuIk1vbnRoIj09PXVuaXQ/cmF3TW9udGhTZXR0ZXIobW9tLHZhbHVlKTptb20uX2RbInNldCIrKG1vbS5faXNVVEM/IlVUQyI6IiIpK3VuaXRdKHZhbHVlKX1mdW5jdGlvbiBtYWtlQWNjZXNzb3IodW5pdCxrZWVwVGltZSl7cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gbnVsbCE9dmFsdWU/KHJhd1NldHRlcih0aGlzLHVuaXQsdmFsdWUpLG1vbWVudC51cGRhdGVPZmZzZXQodGhpcyxrZWVwVGltZSksdGhpcyk6cmF3R2V0dGVyKHRoaXMsdW5pdCl9fWZ1bmN0aW9uIGRheXNUb1llYXJzKGRheXMpe3JldHVybiA0MDAqZGF5cy8xNDYwOTd9ZnVuY3Rpb24geWVhcnNUb0RheXMoeWVhcnMpe3JldHVybiAxNDYwOTcqeWVhcnMvNDAwfWZ1bmN0aW9uIG1ha2VEdXJhdGlvbkdldHRlcihuYW1lKXttb21lbnQuZHVyYXRpb24uZm5bbmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVtuYW1lXX19ZnVuY3Rpb24gbWFrZUdsb2JhbChzaG91bGREZXByZWNhdGUpeyJ1bmRlZmluZWQiPT10eXBlb2YgZW5kZXImJihvbGRHbG9iYWxNb21lbnQ9Z2xvYmFsU2NvcGUubW9tZW50LGdsb2JhbFNjb3BlLm1vbWVudD1zaG91bGREZXByZWNhdGU/ZGVwcmVjYXRlKCJBY2Nlc3NpbmcgTW9tZW50IHRocm91Z2ggdGhlIGdsb2JhbCBzY29wZSBpcyBkZXByZWNhdGVkLCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIHJlbGVhc2UuIixtb21lbnQpOm1vbWVudCl9Zm9yKHZhciBtb21lbnQsb2xkR2xvYmFsTW9tZW50LGksVkVSU0lPTj0iMi44LjMiLGdsb2JhbFNjb3BlPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzLHJvdW5kPU1hdGgucm91bmQsaGFzT3duUHJvcGVydHk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxZRUFSPTAsTU9OVEg9MSxEQVRFPTIsSE9VUj0zLE1JTlVURT00LFNFQ09ORD01LE1JTExJU0VDT05EPTYsbG9jYWxlcz17fSxtb21lbnRQcm9wZXJ0aWVzPVtdLGhhc01vZHVsZT0idW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMsYXNwTmV0SnNvblJlZ2V4PS9eXC8/RGF0ZVwoKFwtP1xkKykvaSxhc3BOZXRUaW1lU3Bhbkpzb25SZWdleD0vKFwtKT8oPzooXGQqKVwuKT8oXGQrKVw6KFxkKykoPzpcOihcZCspXC4/KFxkezN9KT8pPy8saXNvRHVyYXRpb25SZWdleD0vXigtKT9QKD86KD86KFswLTksLl0qKVkpPyg/OihbMC05LC5dKilNKT8oPzooWzAtOSwuXSopRCk/KD86VCg/OihbMC05LC5dKilIKT8oPzooWzAtOSwuXSopTSk/KD86KFswLTksLl0qKVMpPyk/fChbMC05LC5dKilXKSQvLGZvcm1hdHRpbmdUb2tlbnM9LyhcW1teXFtdKlxdKXwoXFwpPyhNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRfFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fG1tP3xzcz98U3sxLDR9fFh8eno/fFpaP3wuKS9nLGxvY2FsRm9ybWF0dGluZ1Rva2Vucz0vKFxbW15cW10qXF0pfChcXCk/KExUfExMP0w/TD98bHsxLDR9KS9nLHBhcnNlVG9rZW5PbmVPclR3b0RpZ2l0cz0vXGRcZD8vLHBhcnNlVG9rZW5PbmVUb1RocmVlRGlnaXRzPS9cZHsxLDN9LyxwYXJzZVRva2VuT25lVG9Gb3VyRGlnaXRzPS9cZHsxLDR9LyxwYXJzZVRva2VuT25lVG9TaXhEaWdpdHM9L1srXC1dP1xkezEsNn0vLHBhcnNlVG9rZW5EaWdpdHM9L1xkKy8scGFyc2VUb2tlbldvcmQ9L1swLTldKlsnYS16XHUwMEEwLVx1MDVGRlx1MDcwMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0rfFtcdTA2MDAtXHUwNkZGXC9dKyhccyo/W1x1MDYwMC1cdTA2RkZdKyl7MSwyfS9pLHBhcnNlVG9rZW5UaW1lem9uZT0vWnxbXCtcLV1cZFxkOj9cZFxkL2dpLHBhcnNlVG9rZW5UPS9UL2kscGFyc2VUb2tlblRpbWVzdGFtcE1zPS9bXCtcLV0/XGQrKFwuXGR7MSwzfSk/LyxwYXJzZVRva2VuT3JkaW5hbD0vXGR7MSwyfS8scGFyc2VUb2tlbk9uZURpZ2l0PS9cZC8scGFyc2VUb2tlblR3b0RpZ2l0cz0vXGRcZC8scGFyc2VUb2tlblRocmVlRGlnaXRzPS9cZHszfS8scGFyc2VUb2tlbkZvdXJEaWdpdHM9L1xkezR9LyxwYXJzZVRva2VuU2l4RGlnaXRzPS9bKy1dP1xkezZ9LyxwYXJzZVRva2VuU2lnbmVkTnVtYmVyPS9bKy1dP1xkKy8saXNvUmVnZXg9L15ccyooPzpbKy1dXGR7Nn18XGR7NH0pLSg/OihcZFxkLVxkXGQpfChXXGRcZCQpfChXXGRcZC1cZCl8KFxkXGRcZCkpKChUfCApKFxkXGQoOlxkXGQoOlxkXGQoXC5cZCspPyk/KT8pPyhbXCtcLV1cZFxkKD86Oj9cZFxkKT98XHMqWik/KT8kLyxpc29Gb3JtYXQ9IllZWVktTU0tRERUSEg6bW06c3NaIixpc29EYXRlcz1bWyJZWVlZWVktTU0tREQiLC9bKy1dXGR7Nn0tXGR7Mn0tXGR7Mn0vXSxbIllZWVktTU0tREQiLC9cZHs0fS1cZHsyfS1cZHsyfS9dLFsiR0dHRy1bV11XVy1FIiwvXGR7NH0tV1xkezJ9LVxkL10sWyJHR0dHLVtXXVdXIiwvXGR7NH0tV1xkezJ9L10sWyJZWVlZLURERCIsL1xkezR9LVxkezN9L11dLGlzb1RpbWVzPVtbIkhIOm1tOnNzLlNTU1MiLC8oVHwgKVxkXGQ6XGRcZDpcZFxkXC5cZCsvXSxbIkhIOm1tOnNzIiwvKFR8IClcZFxkOlxkXGQ6XGRcZC9dLFsiSEg6bW0iLC8oVHwgKVxkXGQ6XGRcZC9dLFsiSEgiLC8oVHwgKVxkXGQvXV0scGFyc2VUaW1lem9uZUNodW5rZXI9LyhbXCtcLV18XGRcZCkvZ2ksdW5pdE1pbGxpc2Vjb25kRmFjdG9ycz0oIkRhdGV8SG91cnN8TWludXRlc3xTZWNvbmRzfE1pbGxpc2Vjb25kcyIuc3BsaXQoInwiKSx7TWlsbGlzZWNvbmRzOjEsU2Vjb25kczoxZTMsTWludXRlczo2ZTQsSG91cnM6MzZlNSxEYXlzOjg2NGU1LE1vbnRoczoyNTkyZTYsWWVhcnM6MzE1MzZlNn0pLHVuaXRBbGlhc2VzPXttczoibWlsbGlzZWNvbmQiLHM6InNlY29uZCIsbToibWludXRlIixoOiJob3VyIixkOiJkYXkiLEQ6ImRhdGUiLHc6IndlZWsiLFc6Imlzb1dlZWsiLE06Im1vbnRoIixROiJxdWFydGVyIix5OiJ5ZWFyIixEREQ6ImRheU9mWWVhciIsZToid2Vla2RheSIsRToiaXNvV2Vla2RheSIsZ2c6IndlZWtZZWFyIixHRzoiaXNvV2Vla1llYXIifSxjYW1lbEZ1bmN0aW9ucz17ZGF5b2Z5ZWFyOiJkYXlPZlllYXIiLGlzb3dlZWtkYXk6Imlzb1dlZWtkYXkiLGlzb3dlZWs6Imlzb1dlZWsiLHdlZWt5ZWFyOiJ3ZWVrWWVhciIsaXNvd2Vla3llYXI6Imlzb1dlZWtZZWFyIn0sZm9ybWF0RnVuY3Rpb25zPXt9LHJlbGF0aXZlVGltZVRocmVzaG9sZHM9e3M6NDUsbTo0NSxoOjIyLGQ6MjYsTToxMX0sb3JkaW5hbGl6ZVRva2Vucz0iREREIHcgVyBNIEQgZCIuc3BsaXQoIiAiKSxwYWRkZWRUb2tlbnM9Ik0gRCBIIGggbSBzIHcgVyIuc3BsaXQoIiAiKSxmb3JtYXRUb2tlbkZ1bmN0aW9ucz17TTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vbnRoKCkrMX0sTU1NOmZ1bmN0aW9uKGZvcm1hdCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsZm9ybWF0KX0sTU1NTTpmdW5jdGlvbihmb3JtYXQpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcyxmb3JtYXQpfSxEOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0ZSgpfSxEREQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXlPZlllYXIoKX0sZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRheSgpfSxkZDpmdW5jdGlvbihmb3JtYXQpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLGZvcm1hdCl9LGRkZDpmdW5jdGlvbihmb3JtYXQpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsZm9ybWF0KX0sZGRkZDpmdW5jdGlvbihmb3JtYXQpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLGZvcm1hdCl9LHc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWVrKCl9LFc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc29XZWVrKCl9LFlZOmZ1bmN0aW9uKCl7cmV0dXJuIGxlZnRaZXJvRmlsbCh0aGlzLnllYXIoKSUxMDAsMil9LFlZWVk6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMueWVhcigpLDQpfSxZWVlZWTpmdW5jdGlvbigpe3JldHVybiBsZWZ0WmVyb0ZpbGwodGhpcy55ZWFyKCksNSl9LFlZWVlZWTpmdW5jdGlvbigpe3ZhciB5PXRoaXMueWVhcigpLHNpZ249eT49MD8iKyI6Ii0iO3JldHVybiBzaWduK2xlZnRaZXJvRmlsbChNYXRoLmFicyh5KSw2KX0sZ2c6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMud2Vla1llYXIoKSUxMDAsMil9LGdnZ2c6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMud2Vla1llYXIoKSw0KX0sZ2dnZ2c6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMud2Vla1llYXIoKSw1KX0sR0c6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMuaXNvV2Vla1llYXIoKSUxMDAsMil9LEdHR0c6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMuaXNvV2Vla1llYXIoKSw0KX0sR0dHR0c6ZnVuY3Rpb24oKXtyZXR1cm4gbGVmdFplcm9GaWxsKHRoaXMuaXNvV2Vla1llYXIoKSw1KX0sZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLndlZWtkYXkoKX0sRTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzb1dlZWtkYXkoKX0sYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksdGhpcy5taW51dGVzKCksITApfSxBOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSx0aGlzLm1pbnV0ZXMoKSwhMSl9LEg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3VycygpfSxoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG91cnMoKSUxMnx8MTJ9LG06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW51dGVzKCl9LHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWNvbmRzKCl9LFM6ZnVuY3Rpb24oKXtyZXR1cm4gdG9JbnQodGhpcy5taWxsaXNlY29uZHMoKS8xMDApfSxTUzpmdW5jdGlvbigpe3JldHVybiBsZWZ0WmVyb0ZpbGwodG9JbnQodGhpcy5taWxsaXNlY29uZHMoKS8xMCksMil9LFNTUzpmdW5jdGlvbigpe3JldHVybiBsZWZ0WmVyb0ZpbGwodGhpcy5taWxsaXNlY29uZHMoKSwzKX0sU1NTUzpmdW5jdGlvbigpe3JldHVybiBsZWZ0WmVyb0ZpbGwodGhpcy5taWxsaXNlY29uZHMoKSwzKX0sWjpmdW5jdGlvbigpe3ZhciBhPS10aGlzLnpvbmUoKSxiPSIrIjtyZXR1cm4gMD5hJiYoYT0tYSxiPSItIiksYitsZWZ0WmVyb0ZpbGwodG9JbnQoYS82MCksMikrIjoiK2xlZnRaZXJvRmlsbCh0b0ludChhKSU2MCwyKX0sWlo6ZnVuY3Rpb24oKXt2YXIgYT0tdGhpcy56b25lKCksYj0iKyI7cmV0dXJuIDA+YSYmKGE9LWEsYj0iLSIpLGIrbGVmdFplcm9GaWxsKHRvSW50KGEvNjApLDIpK2xlZnRaZXJvRmlsbCh0b0ludChhKSU2MCwyKX0sejpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvbmVBYmJyKCl9LHp6OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuem9uZU5hbWUoKX0sWDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaXgoKX0sUTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1YXJ0ZXIoKX19LGRlcHJlY2F0aW9ucz17fSxsaXN0cz1bIm1vbnRocyIsIm1vbnRoc1Nob3J0Iiwid2Vla2RheXMiLCJ3ZWVrZGF5c1Nob3J0Iiwid2Vla2RheXNNaW4iXTtvcmRpbmFsaXplVG9rZW5zLmxlbmd0aDspaT1vcmRpbmFsaXplVG9rZW5zLnBvcCgpLGZvcm1hdFRva2VuRnVuY3Rpb25zW2krIm8iXT1vcmRpbmFsaXplVG9rZW4oZm9ybWF0VG9rZW5GdW5jdGlvbnNbaV0saSk7Zm9yKDtwYWRkZWRUb2tlbnMubGVuZ3RoOylpPXBhZGRlZFRva2Vucy5wb3AoKSxmb3JtYXRUb2tlbkZ1bmN0aW9uc1tpK2ldPXBhZFRva2VuKGZvcm1hdFRva2VuRnVuY3Rpb25zW2ldLDIpO2Zvcm1hdFRva2VuRnVuY3Rpb25zLkREREQ9cGFkVG9rZW4oZm9ybWF0VG9rZW5GdW5jdGlvbnMuRERELDMpLGV4dGVuZChMb2NhbGUucHJvdG90eXBlLHtzZXQ6ZnVuY3Rpb24oY29uZmlnKXt2YXIgcHJvcCxpO2ZvcihpIGluIGNvbmZpZylwcm9wPWNvbmZpZ1tpXSwiZnVuY3Rpb24iPT10eXBlb2YgcHJvcD90aGlzW2ldPXByb3A6dGhpc1siXyIraV09cHJvcH0sX21vbnRoczoiSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlciIuc3BsaXQoIl8iKSxtb250aHM6ZnVuY3Rpb24obSl7cmV0dXJuIHRoaXMuX21vbnRoc1ttLm1vbnRoKCldfSxfbW9udGhzU2hvcnQ6Ikphbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjIi5zcGxpdCgiXyIpLG1vbnRoc1Nob3J0OmZ1bmN0aW9uKG0pe3JldHVybiB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldfSxtb250aHNQYXJzZTpmdW5jdGlvbihtb250aE5hbWUpe3ZhciBpLG1vbSxyZWdleDtmb3IodGhpcy5fbW9udGhzUGFyc2V8fCh0aGlzLl9tb250aHNQYXJzZT1bXSksaT0wOzEyPmk7aSsrKWlmKHRoaXMuX21vbnRoc1BhcnNlW2ldfHwobW9tPW1vbWVudC51dGMoWzJlMyxpXSkscmVnZXg9Il4iK3RoaXMubW9udGhzKG1vbSwiIikrInxeIit0aGlzLm1vbnRoc1Nob3J0KG1vbSwiIiksdGhpcy5fbW9udGhzUGFyc2VbaV09bmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCIuIiwiIiksImkiKSksdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKXJldHVybiBpfSxfd2Vla2RheXM6IlN1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Ii5zcGxpdCgiXyIpLHdlZWtkYXlzOmZ1bmN0aW9uKG0pe3JldHVybiB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXX0sX3dlZWtkYXlzU2hvcnQ6IlN1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCIuc3BsaXQoIl8iKSx3ZWVrZGF5c1Nob3J0OmZ1bmN0aW9uKG0pe3JldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldfSxfd2Vla2RheXNNaW46IlN1X01vX1R1X1dlX1RoX0ZyX1NhIi5zcGxpdCgiXyIpLHdlZWtkYXlzTWluOmZ1bmN0aW9uKG0pe3JldHVybiB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXX0sd2Vla2RheXNQYXJzZTpmdW5jdGlvbih3ZWVrZGF5TmFtZSl7dmFyIGksbW9tLHJlZ2V4O2Zvcih0aGlzLl93ZWVrZGF5c1BhcnNlfHwodGhpcy5fd2Vla2RheXNQYXJzZT1bXSksaT0wOzc+aTtpKyspaWYodGhpcy5fd2Vla2RheXNQYXJzZVtpXXx8KG1vbT1tb21lbnQoWzJlMywxXSkuZGF5KGkpLHJlZ2V4PSJeIit0aGlzLndlZWtkYXlzKG1vbSwiIikrInxeIit0aGlzLndlZWtkYXlzU2hvcnQobW9tLCIiKSsifF4iK3RoaXMud2Vla2RheXNNaW4obW9tLCIiKSx0aGlzLl93ZWVrZGF5c1BhcnNlW2ldPW5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgiLiIsIiIpLCJpIikpLHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpcmV0dXJuIGl9LF9sb25nRGF0ZUZvcm1hdDp7TFQ6Img6bW0gQSIsTDoiTU0vREQvWVlZWSIsTEw6Ik1NTU0gRCwgWVlZWSIsTExMOiJNTU1NIEQsIFlZWVkgTFQiLExMTEw6ImRkZGQsIE1NTU0gRCwgWVlZWSBMVCJ9LGxvbmdEYXRlRm9ybWF0OmZ1bmN0aW9uKGtleSl7dmFyIG91dHB1dD10aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO3JldHVybiFvdXRwdXQmJnRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXSYmKG91dHB1dD10aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV0ucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csZnVuY3Rpb24odmFsKXtyZXR1cm4gdmFsLnNsaWNlKDEpfSksdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XT1vdXRwdXQpLG91dHB1dH0saXNQTTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuInAiPT09KGlucHV0KyIiKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKX0sX21lcmlkaWVtUGFyc2U6L1thcF1cLj9tP1wuPy9pLG1lcmlkaWVtOmZ1bmN0aW9uKGhvdXJzLG1pbnV0ZXMsaXNMb3dlcil7cmV0dXJuIGhvdXJzPjExP2lzTG93ZXI/InBtIjoiUE0iOmlzTG93ZXI/ImFtIjoiQU0ifSxfY2FsZW5kYXI6e3NhbWVEYXk6IltUb2RheSBhdF0gTFQiLG5leHREYXk6IltUb21vcnJvdyBhdF0gTFQiLG5leHRXZWVrOiJkZGRkIFthdF0gTFQiLGxhc3REYXk6IltZZXN0ZXJkYXkgYXRdIExUIixsYXN0V2VlazoiW0xhc3RdIGRkZGQgW2F0XSBMVCIsc2FtZUVsc2U6IkwifSxjYWxlbmRhcjpmdW5jdGlvbihrZXksbW9tKXt2YXIgb3V0cHV0PXRoaXMuX2NhbGVuZGFyW2tleV07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG91dHB1dD9vdXRwdXQuYXBwbHkobW9tKTpvdXRwdXR9LF9yZWxhdGl2ZVRpbWU6e2Z1dHVyZToiaW4gJXMiLHBhc3Q6IiVzIGFnbyIsczoiYSBmZXcgc2Vjb25kcyIsbToiYSBtaW51dGUiLG1tOiIlZCBtaW51dGVzIixoOiJhbiBob3VyIixoaDoiJWQgaG91cnMiLGQ6ImEgZGF5IixkZDoiJWQgZGF5cyIsTToiYSBtb250aCIsTU06IiVkIG1vbnRocyIseToiYSB5ZWFyIix5eToiJWQgeWVhcnMifSxyZWxhdGl2ZVRpbWU6ZnVuY3Rpb24obnVtYmVyLHdpdGhvdXRTdWZmaXgsc3RyaW5nLGlzRnV0dXJlKXt2YXIgb3V0cHV0PXRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBvdXRwdXQ/b3V0cHV0KG51bWJlcix3aXRob3V0U3VmZml4LHN0cmluZyxpc0Z1dHVyZSk6b3V0cHV0LnJlcGxhY2UoLyVkL2ksbnVtYmVyKX0scGFzdEZ1dHVyZTpmdW5jdGlvbihkaWZmLG91dHB1dCl7dmFyIGZvcm1hdD10aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZj4wPyJmdXR1cmUiOiJwYXN0Il07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGZvcm1hdD9mb3JtYXQob3V0cHV0KTpmb3JtYXQucmVwbGFjZSgvJXMvaSxvdXRwdXQpfSxvcmRpbmFsOmZ1bmN0aW9uKG51bWJlcil7cmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgiJWQiLG51bWJlcil9LF9vcmRpbmFsOiIlZCIscHJlcGFyc2U6ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nfSxwb3N0Zm9ybWF0OmZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZ30sd2VlazpmdW5jdGlvbihtb20pe3JldHVybiB3ZWVrT2ZZZWFyKG1vbSx0aGlzLl93ZWVrLmRvdyx0aGlzLl93ZWVrLmRveSkud2Vla30sX3dlZWs6e2RvdzowLGRveTo2fSxfaW52YWxpZERhdGU6IkludmFsaWQgZGF0ZSIsaW52YWxpZERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW52YWxpZERhdGV9fSksbW9tZW50PWZ1bmN0aW9uKGlucHV0LGZvcm1hdCxsb2NhbGUsc3RyaWN0KXt2YXIgYztyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBsb2NhbGUmJihzdHJpY3Q9bG9jYWxlLGxvY2FsZT11bmRlZmluZWQpLGM9e30sYy5faXNBTW9tZW50T2JqZWN0PSEwLGMuX2k9aW5wdXQsYy5fZj1mb3JtYXQsYy5fbD1sb2NhbGUsYy5fc3RyaWN0PXN0cmljdCxjLl9pc1VUQz0hMSxjLl9wZj1kZWZhdWx0UGFyc2luZ0ZsYWdzKCksbWFrZU1vbWVudChjKX0sbW9tZW50LnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncz0hMSxtb21lbnQuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2s9ZGVwcmVjYXRlKCJtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZS4gVGhpcyBpcyBkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQwNyBmb3IgbW9yZSBpbmZvLiIsZnVuY3Rpb24oY29uZmlnKXtjb25maWcuX2Q9bmV3IERhdGUoY29uZmlnLl9pKX0pLG1vbWVudC5taW49ZnVuY3Rpb24oKXt2YXIgYXJncz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gcGlja0J5KCJpc0JlZm9yZSIsYXJncyl9LG1vbWVudC5tYXg9ZnVuY3Rpb24oKXt2YXIgYXJncz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gcGlja0J5KCJpc0FmdGVyIixhcmdzKX0sbW9tZW50LnV0Yz1mdW5jdGlvbihpbnB1dCxmb3JtYXQsbG9jYWxlLHN0cmljdCl7dmFyIGM7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgbG9jYWxlJiYoc3RyaWN0PWxvY2FsZSxsb2NhbGU9dW5kZWZpbmVkKSxjPXt9LGMuX2lzQU1vbWVudE9iamVjdD0hMCxjLl91c2VVVEM9ITAsYy5faXNVVEM9ITAsYy5fbD1sb2NhbGUsYy5faT1pbnB1dCxjLl9mPWZvcm1hdCxjLl9zdHJpY3Q9c3RyaWN0LGMuX3BmPWRlZmF1bHRQYXJzaW5nRmxhZ3MoKSxtYWtlTW9tZW50KGMpLnV0YygpfSxtb21lbnQudW5peD1mdW5jdGlvbihpbnB1dCl7cmV0dXJuIG1vbWVudCgxZTMqaW5wdXQpfSxtb21lbnQuZHVyYXRpb249ZnVuY3Rpb24oaW5wdXQsa2V5KXt2YXIgc2lnbixyZXQscGFyc2VJc28sZGlmZlJlcyxkdXJhdGlvbj1pbnB1dCxtYXRjaD1udWxsO3JldHVybiBtb21lbnQuaXNEdXJhdGlvbihpbnB1dCk/ZHVyYXRpb249e21zOmlucHV0Ll9taWxsaXNlY29uZHMsZDppbnB1dC5fZGF5cyxNOmlucHV0Ll9tb250aHN9OiJudW1iZXIiPT10eXBlb2YgaW5wdXQ/KGR1cmF0aW9uPXt9LGtleT9kdXJhdGlvbltrZXldPWlucHV0OmR1cmF0aW9uLm1pbGxpc2Vjb25kcz1pbnB1dCk6KG1hdGNoPWFzcE5ldFRpbWVTcGFuSnNvblJlZ2V4LmV4ZWMoaW5wdXQpKT8oc2lnbj0iLSI9PT1tYXRjaFsxXT8tMToxLGR1cmF0aW9uPXt5OjAsZDp0b0ludChtYXRjaFtEQVRFXSkqc2lnbixoOnRvSW50KG1hdGNoW0hPVVJdKSpzaWduLG06dG9JbnQobWF0Y2hbTUlOVVRFXSkqc2lnbixzOnRvSW50KG1hdGNoW1NFQ09ORF0pKnNpZ24sbXM6dG9JbnQobWF0Y2hbTUlMTElTRUNPTkRdKSpzaWdufSk6KG1hdGNoPWlzb0R1cmF0aW9uUmVnZXguZXhlYyhpbnB1dCkpPyhzaWduPSItIj09PW1hdGNoWzFdPy0xOjEscGFyc2VJc289ZnVuY3Rpb24oaW5wKXt2YXIgcmVzPWlucCYmcGFyc2VGbG9hdChpbnAucmVwbGFjZSgiLCIsIi4iKSk7cmV0dXJuKGlzTmFOKHJlcyk/MDpyZXMpKnNpZ259LGR1cmF0aW9uPXt5OnBhcnNlSXNvKG1hdGNoWzJdKSxNOnBhcnNlSXNvKG1hdGNoWzNdKSxkOnBhcnNlSXNvKG1hdGNoWzRdKSxoOnBhcnNlSXNvKG1hdGNoWzVdKSxtOnBhcnNlSXNvKG1hdGNoWzZdKSxzOnBhcnNlSXNvKG1hdGNoWzddKSx3OnBhcnNlSXNvKG1hdGNoWzhdKX0pOiJvYmplY3QiPT10eXBlb2YgZHVyYXRpb24mJigiZnJvbSJpbiBkdXJhdGlvbnx8InRvImluIGR1cmF0aW9uKSYmKGRpZmZSZXM9bW9tZW50c0RpZmZlcmVuY2UobW9tZW50KGR1cmF0aW9uLmZyb20pLG1vbWVudChkdXJhdGlvbi50bykpLGR1cmF0aW9uPXt9LGR1cmF0aW9uLm1zPWRpZmZSZXMubWlsbGlzZWNvbmRzLGR1cmF0aW9uLk09ZGlmZlJlcy5tb250aHMpLHJldD1uZXcgRHVyYXRpb24oZHVyYXRpb24pLG1vbWVudC5pc0R1cmF0aW9uKGlucHV0KSYmaGFzT3duUHJvcChpbnB1dCwiX2xvY2FsZSIpJiYocmV0Ll9sb2NhbGU9aW5wdXQuX2xvY2FsZSkscmV0fSxtb21lbnQudmVyc2lvbj1WRVJTSU9OLG1vbWVudC5kZWZhdWx0Rm9ybWF0PWlzb0Zvcm1hdCxtb21lbnQuSVNPXzg2MDE9ZnVuY3Rpb24oKXt9LG1vbWVudC5tb21lbnRQcm9wZXJ0aWVzPW1vbWVudFByb3BlcnRpZXMsbW9tZW50LnVwZGF0ZU9mZnNldD1mdW5jdGlvbigpe30sbW9tZW50LnJlbGF0aXZlVGltZVRocmVzaG9sZD1mdW5jdGlvbih0aHJlc2hvbGQsbGltaXQpe3JldHVybiByZWxhdGl2ZVRpbWVUaHJlc2hvbGRzW3RocmVzaG9sZF09PT11bmRlZmluZWQ/ITE6bGltaXQ9PT11bmRlZmluZWQ/cmVsYXRpdmVUaW1lVGhyZXNob2xkc1t0aHJlc2hvbGRdOihyZWxhdGl2ZVRpbWVUaHJlc2hvbGRzW3RocmVzaG9sZF09bGltaXQsITApfSxtb21lbnQubGFuZz1kZXByZWNhdGUoIm1vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuIixmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybiBtb21lbnQubG9jYWxlKGtleSx2YWx1ZSl9KSxtb21lbnQubG9jYWxlPWZ1bmN0aW9uKGtleSx2YWx1ZXMpe3ZhciBkYXRhO3JldHVybiBrZXkmJihkYXRhPSJ1bmRlZmluZWQiIT10eXBlb2YgdmFsdWVzP21vbWVudC5kZWZpbmVMb2NhbGUoa2V5LHZhbHVlcyk6bW9tZW50LmxvY2FsZURhdGEoa2V5KSxkYXRhJiYobW9tZW50LmR1cmF0aW9uLl9sb2NhbGU9bW9tZW50Ll9sb2NhbGU9ZGF0YSkpLG1vbWVudC5fbG9jYWxlLl9hYmJyfSxtb21lbnQuZGVmaW5lTG9jYWxlPWZ1bmN0aW9uKG5hbWUsdmFsdWVzKXtyZXR1cm4gbnVsbCE9PXZhbHVlcz8odmFsdWVzLmFiYnI9bmFtZSxsb2NhbGVzW25hbWVdfHwobG9jYWxlc1tuYW1lXT1uZXcgTG9jYWxlKSxsb2NhbGVzW25hbWVdLnNldCh2YWx1ZXMpLG1vbWVudC5sb2NhbGUobmFtZSksbG9jYWxlc1tuYW1lXSk6KGRlbGV0ZSBsb2NhbGVzW25hbWVdLG51bGwpfSxtb21lbnQubGFuZ0RhdGE9ZGVwcmVjYXRlKCJtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuIixmdW5jdGlvbihrZXkpe3JldHVybiBtb21lbnQubG9jYWxlRGF0YShrZXkpfSksbW9tZW50LmxvY2FsZURhdGE9ZnVuY3Rpb24oa2V5KXt2YXIgbG9jYWxlO2lmKGtleSYma2V5Ll9sb2NhbGUmJmtleS5fbG9jYWxlLl9hYmJyJiYoa2V5PWtleS5fbG9jYWxlLl9hYmJyKSwha2V5KXJldHVybiBtb21lbnQuX2xvY2FsZTtpZighaXNBcnJheShrZXkpKXtpZihsb2NhbGU9bG9hZExvY2FsZShrZXkpKXJldHVybiBsb2NhbGU7a2V5PVtrZXldfXJldHVybiBjaG9vc2VMb2NhbGUoa2V5KX0sbW9tZW50LmlzTW9tZW50PWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudHx8bnVsbCE9b2JqJiZoYXNPd25Qcm9wKG9iaiwiX2lzQU1vbWVudE9iamVjdCIpfSxtb21lbnQuaXNEdXJhdGlvbj1mdW5jdGlvbihvYmope3JldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbn07Zm9yKGk9bGlzdHMubGVuZ3RoLTE7aT49MDstLWkpbWFrZUxpc3QobGlzdHNbaV0pO21vbWVudC5ub3JtYWxpemVVbml0cz1mdW5jdGlvbih1bml0cyl7cmV0dXJuIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKX0sbW9tZW50LmludmFsaWQ9ZnVuY3Rpb24oZmxhZ3Mpe3ZhciBtPW1vbWVudC51dGMoMC8wKTtyZXR1cm4gbnVsbCE9ZmxhZ3M/ZXh0ZW5kKG0uX3BmLGZsYWdzKTptLl9wZi51c2VySW52YWxpZGF0ZWQ9ITAsbX0sbW9tZW50LnBhcnNlWm9uZT1mdW5jdGlvbigpe3JldHVybiBtb21lbnQuYXBwbHkobnVsbCxhcmd1bWVudHMpLnBhcnNlWm9uZSgpfSxtb21lbnQucGFyc2VUd29EaWdpdFllYXI9ZnVuY3Rpb24oaW5wdXQpe3JldHVybiB0b0ludChpbnB1dCkrKHRvSW50KGlucHV0KT42OD8xOTAwOjJlMyl9LGV4dGVuZChtb21lbnQuZm49TW9tZW50LnByb3RvdHlwZSx7Y2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbW9tZW50KHRoaXMpfSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuK3RoaXMuX2QrNmU0Kih0aGlzLl9vZmZzZXR8fDApfSx1bml4OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoK3RoaXMvMWUzKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgiZW4iKS5mb3JtYXQoImRkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaIil9LHRvRGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vZmZzZXQ/bmV3IERhdGUoK3RoaXMpOnRoaXMuX2R9LHRvSVNPU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIG09bW9tZW50KHRoaXMpLnV0YygpO3JldHVybiAwPG0ueWVhcigpJiZtLnllYXIoKTw9OTk5OT9mb3JtYXRNb21lbnQobSwiWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXSIpOmZvcm1hdE1vbWVudChtLCJZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0iKX0sdG9BcnJheTpmdW5jdGlvbigpe3ZhciBtPXRoaXM7cmV0dXJuW20ueWVhcigpLG0ubW9udGgoKSxtLmRhdGUoKSxtLmhvdXJzKCksbS5taW51dGVzKCksbS5zZWNvbmRzKCksbS5taWxsaXNlY29uZHMoKV19LGlzVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gaXNWYWxpZCh0aGlzKX0saXNEU1RTaGlmdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2E/dGhpcy5pc1ZhbGlkKCkmJmNvbXBhcmVBcnJheXModGhpcy5fYSwodGhpcy5faXNVVEM/bW9tZW50LnV0Yyh0aGlzLl9hKTptb21lbnQodGhpcy5fYSkpLnRvQXJyYXkoKSk+MDohMX0scGFyc2luZ0ZsYWdzOmZ1bmN0aW9uKCl7cmV0dXJuIGV4dGVuZCh7fSx0aGlzLl9wZil9LGludmFsaWRBdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZi5vdmVyZmxvd30sdXRjOmZ1bmN0aW9uKGtlZXBMb2NhbFRpbWUpe3JldHVybiB0aGlzLnpvbmUoMCxrZWVwTG9jYWxUaW1lKX0sbG9jYWw6ZnVuY3Rpb24oa2VlcExvY2FsVGltZSl7cmV0dXJuIHRoaXMuX2lzVVRDJiYodGhpcy56b25lKDAsa2VlcExvY2FsVGltZSksdGhpcy5faXNVVEM9ITEsa2VlcExvY2FsVGltZSYmdGhpcy5hZGQodGhpcy5fZGF0ZVR6T2Zmc2V0KCksIm0iKSksdGhpc30sZm9ybWF0OmZ1bmN0aW9uKGlucHV0U3RyaW5nKXt2YXIgb3V0cHV0PWZvcm1hdE1vbWVudCh0aGlzLGlucHV0U3RyaW5nfHxtb21lbnQuZGVmYXVsdEZvcm1hdCk7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KX0sYWRkOmNyZWF0ZUFkZGVyKDEsImFkZCIpLHN1YnRyYWN0OmNyZWF0ZUFkZGVyKC0xLCJzdWJ0cmFjdCIpLGRpZmY6ZnVuY3Rpb24oaW5wdXQsdW5pdHMsYXNGbG9hdCl7dmFyIGRpZmYsb3V0cHV0LGRheXNBZGp1c3QsdGhhdD1tYWtlQXMoaW5wdXQsdGhpcyksem9uZURpZmY9NmU0Kih0aGlzLnpvbmUoKS10aGF0LnpvbmUoKSk7cmV0dXJuIHVuaXRzPW5vcm1hbGl6ZVVuaXRzKHVuaXRzKSwieWVhciI9PT11bml0c3x8Im1vbnRoIj09PXVuaXRzPyhkaWZmPTQzMmU1Kih0aGlzLmRheXNJbk1vbnRoKCkrdGhhdC5kYXlzSW5Nb250aCgpKSxvdXRwdXQ9MTIqKHRoaXMueWVhcigpLXRoYXQueWVhcigpKSsodGhpcy5tb250aCgpLXRoYXQubW9udGgoKSksZGF5c0FkanVzdD10aGlzLW1vbWVudCh0aGlzKS5zdGFydE9mKCJtb250aCIpLSh0aGF0LW1vbWVudCh0aGF0KS5zdGFydE9mKCJtb250aCIpKSxkYXlzQWRqdXN0LT02ZTQqKHRoaXMuem9uZSgpLW1vbWVudCh0aGlzKS5zdGFydE9mKCJtb250aCIpLnpvbmUoKS0odGhhdC56b25lKCktbW9tZW50KHRoYXQpLnN0YXJ0T2YoIm1vbnRoIikuem9uZSgpKSksb3V0cHV0Kz1kYXlzQWRqdXN0L2RpZmYsInllYXIiPT09dW5pdHMmJihvdXRwdXQvPTEyKSk6KGRpZmY9dGhpcy10aGF0LG91dHB1dD0ic2Vjb25kIj09PXVuaXRzP2RpZmYvMWUzOiJtaW51dGUiPT09dW5pdHM/ZGlmZi82ZTQ6ImhvdXIiPT09dW5pdHM/ZGlmZi8zNmU1OiJkYXkiPT09dW5pdHM/KGRpZmYtem9uZURpZmYpLzg2NGU1OiJ3ZWVrIj09PXVuaXRzPyhkaWZmLXpvbmVEaWZmKS82MDQ4ZTU6ZGlmZiksYXNGbG9hdD9vdXRwdXQ6YWJzUm91bmQob3V0cHV0KX0sZnJvbTpmdW5jdGlvbih0aW1lLHdpdGhvdXRTdWZmaXgpe3JldHVybiBtb21lbnQuZHVyYXRpb24oe3RvOnRoaXMsZnJvbTp0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KX0sZnJvbU5vdzpmdW5jdGlvbih3aXRob3V0U3VmZml4KXtyZXR1cm4gdGhpcy5mcm9tKG1vbWVudCgpLHdpdGhvdXRTdWZmaXgpfSxjYWxlbmRhcjpmdW5jdGlvbih0aW1lKXt2YXIgbm93PXRpbWV8fG1vbWVudCgpLHNvZD1tYWtlQXMobm93LHRoaXMpLnN0YXJ0T2YoImRheSIpLGRpZmY9dGhpcy5kaWZmKHNvZCwiZGF5cyIsITApLGZvcm1hdD0tNj5kaWZmPyJzYW1lRWxzZSI6LTE+ZGlmZj8ibGFzdFdlZWsiOjA+ZGlmZj8ibGFzdERheSI6MT5kaWZmPyJzYW1lRGF5IjoyPmRpZmY/Im5leHREYXkiOjc+ZGlmZj8ibmV4dFdlZWsiOiJzYW1lRWxzZSI7cmV0dXJuIHRoaXMuZm9ybWF0KHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCx0aGlzKSl9LGlzTGVhcFllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSl9LGlzRFNUOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuem9uZSgpPHRoaXMuY2xvbmUoKS5tb250aCgwKS56b25lKCl8fHRoaXMuem9uZSgpPHRoaXMuY2xvbmUoKS5tb250aCg1KS56b25lKCl9LGRheTpmdW5jdGlvbihpbnB1dCl7dmFyIGRheT10aGlzLl9pc1VUQz90aGlzLl9kLmdldFVUQ0RheSgpOnRoaXMuX2QuZ2V0RGF5KCk7cmV0dXJuIG51bGwhPWlucHV0PyhpbnB1dD1wYXJzZVdlZWtkYXkoaW5wdXQsdGhpcy5sb2NhbGVEYXRhKCkpLHRoaXMuYWRkKGlucHV0LWRheSwiZCIpKTpkYXl9LG1vbnRoOm1ha2VBY2Nlc3NvcigiTW9udGgiLCEwKSxzdGFydE9mOmZ1bmN0aW9uKHVuaXRzKXtzd2l0Y2godW5pdHM9bm9ybWFsaXplVW5pdHModW5pdHMpKXtjYXNlInllYXIiOnRoaXMubW9udGgoMCk7Y2FzZSJxdWFydGVyIjpjYXNlIm1vbnRoIjp0aGlzLmRhdGUoMSk7Y2FzZSJ3ZWVrIjpjYXNlImlzb1dlZWsiOmNhc2UiZGF5Ijp0aGlzLmhvdXJzKDApO2Nhc2UiaG91ciI6dGhpcy5taW51dGVzKDApO2Nhc2UibWludXRlIjp0aGlzLnNlY29uZHMoMCk7Y2FzZSJzZWNvbmQiOnRoaXMubWlsbGlzZWNvbmRzKDApfXJldHVybiJ3ZWVrIj09PXVuaXRzP3RoaXMud2Vla2RheSgwKToiaXNvV2VlayI9PT11bml0cyYmdGhpcy5pc29XZWVrZGF5KDEpLCJxdWFydGVyIj09PXVuaXRzJiZ0aGlzLm1vbnRoKDMqTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkvMykpLHRoaXN9LGVuZE9mOmZ1bmN0aW9uKHVuaXRzKXtyZXR1cm4gdW5pdHM9bm9ybWFsaXplVW5pdHModW5pdHMpLHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsImlzb1dlZWsiPT09dW5pdHM/IndlZWsiOnVuaXRzKS5zdWJ0cmFjdCgxLCJtcyIpfSxpc0FmdGVyOmZ1bmN0aW9uKGlucHV0LHVuaXRzKXtyZXR1cm4gdW5pdHM9bm9ybWFsaXplVW5pdHMoInVuZGVmaW5lZCIhPXR5cGVvZiB1bml0cz91bml0czoibWlsbGlzZWNvbmQiKSwibWlsbGlzZWNvbmQiPT09dW5pdHM/KGlucHV0PW1vbWVudC5pc01vbWVudChpbnB1dCk/aW5wdXQ6bW9tZW50KGlucHV0KSwrdGhpcz4raW5wdXQpOit0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cyk+K21vbWVudChpbnB1dCkuc3RhcnRPZih1bml0cyl9LGlzQmVmb3JlOmZ1bmN0aW9uKGlucHV0LHVuaXRzKXtyZXR1cm4gdW5pdHM9bm9ybWFsaXplVW5pdHMoInVuZGVmaW5lZCIhPXR5cGVvZiB1bml0cz91bml0czoibWlsbGlzZWNvbmQiKSwibWlsbGlzZWNvbmQiPT09dW5pdHM/KGlucHV0PW1vbWVudC5pc01vbWVudChpbnB1dCk/aW5wdXQ6bW9tZW50KGlucHV0KSwraW5wdXQ+K3RoaXMpOit0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cyk8K21vbWVudChpbnB1dCkuc3RhcnRPZih1bml0cyl9LGlzU2FtZTpmdW5jdGlvbihpbnB1dCx1bml0cyl7cmV0dXJuIHVuaXRzPW5vcm1hbGl6ZVVuaXRzKHVuaXRzfHwibWlsbGlzZWNvbmQiKSwibWlsbGlzZWNvbmQiPT09dW5pdHM/KGlucHV0PW1vbWVudC5pc01vbWVudChpbnB1dCk/aW5wdXQ6bW9tZW50KGlucHV0KSwrdGhpcz09PStpbnB1dCk6K3RoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKT09PSttYWtlQXMoaW5wdXQsdGhpcykuc3RhcnRPZih1bml0cyl9LG1pbjpkZXByZWNhdGUoIm1vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OCIsZnVuY3Rpb24ob3RoZXIpe3JldHVybiBvdGhlcj1tb21lbnQuYXBwbHkobnVsbCxhcmd1bWVudHMpLHRoaXM+b3RoZXI/dGhpczpvdGhlcn0pLG1heDpkZXByZWNhdGUoIm1vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OCIsZnVuY3Rpb24ob3RoZXIpe3JldHVybiBvdGhlcj1tb21lbnQuYXBwbHkobnVsbCxhcmd1bWVudHMpLG90aGVyPnRoaXM/dGhpczpvdGhlcn0pLHpvbmU6ZnVuY3Rpb24oaW5wdXQsa2VlcExvY2FsVGltZSl7dmFyIGxvY2FsQWRqdXN0LG9mZnNldD10aGlzLl9vZmZzZXR8fDA7cmV0dXJuIG51bGw9PWlucHV0P3RoaXMuX2lzVVRDP29mZnNldDp0aGlzLl9kYXRlVHpPZmZzZXQoKTooInN0cmluZyI9PXR5cGVvZiBpbnB1dCYmKGlucHV0PXRpbWV6b25lTWludXRlc0Zyb21TdHJpbmcoaW5wdXQpKSxNYXRoLmFicyhpbnB1dCk8MTYmJihpbnB1dD02MCppbnB1dCksIXRoaXMuX2lzVVRDJiZrZWVwTG9jYWxUaW1lJiYobG9jYWxBZGp1c3Q9dGhpcy5fZGF0ZVR6T2Zmc2V0KCkpLHRoaXMuX29mZnNldD1pbnB1dCx0aGlzLl9pc1VUQz0hMCxudWxsIT1sb2NhbEFkanVzdCYmdGhpcy5zdWJ0cmFjdChsb2NhbEFkanVzdCwibSIpLG9mZnNldCE9PWlucHV0JiYoIWtlZXBMb2NhbFRpbWV8fHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3M/YWRkT3JTdWJ0cmFjdER1cmF0aW9uRnJvbU1vbWVudCh0aGlzLG1vbWVudC5kdXJhdGlvbihvZmZzZXQtaW5wdXQsIm0iKSwxLCExKTp0aGlzLl9jaGFuZ2VJblByb2dyZXNzfHwodGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz0hMCxtb21lbnQudXBkYXRlT2Zmc2V0KHRoaXMsITApLHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3M9bnVsbCkpLHRoaXMpfSx6b25lQWJicjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1VUQz8iVVRDIjoiIn0sem9uZU5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNVVEM/IkNvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lIjoiIn0scGFyc2Vab25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R6bT90aGlzLnpvbmUodGhpcy5fdHptKToic3RyaW5nIj09dHlwZW9mIHRoaXMuX2kmJnRoaXMuem9uZSh0aGlzLl9pKSx0aGlzfSxoYXNBbGlnbmVkSG91ck9mZnNldDpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGlucHV0PWlucHV0P21vbWVudChpbnB1dCkuem9uZSgpOjAsKHRoaXMuem9uZSgpLWlucHV0KSU2MD09PTB9LGRheXNJbk1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLHRoaXMubW9udGgoKSl9LGRheU9mWWVhcjpmdW5jdGlvbihpbnB1dCl7dmFyIGRheU9mWWVhcj1yb3VuZCgobW9tZW50KHRoaXMpLnN0YXJ0T2YoImRheSIpLW1vbWVudCh0aGlzKS5zdGFydE9mKCJ5ZWFyIikpLzg2NGU1KSsxOwpyZXR1cm4gbnVsbD09aW5wdXQ/ZGF5T2ZZZWFyOnRoaXMuYWRkKGlucHV0LWRheU9mWWVhciwiZCIpfSxxdWFydGVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbnVsbD09aW5wdXQ/TWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkrMSkvMyk6dGhpcy5tb250aCgzKihpbnB1dC0xKSt0aGlzLm1vbnRoKCklMyl9LHdlZWtZZWFyOmZ1bmN0aW9uKGlucHV0KXt2YXIgeWVhcj13ZWVrT2ZZZWFyKHRoaXMsdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSkueWVhcjtyZXR1cm4gbnVsbD09aW5wdXQ/eWVhcjp0aGlzLmFkZChpbnB1dC15ZWFyLCJ5Iil9LGlzb1dlZWtZZWFyOmZ1bmN0aW9uKGlucHV0KXt2YXIgeWVhcj13ZWVrT2ZZZWFyKHRoaXMsMSw0KS55ZWFyO3JldHVybiBudWxsPT1pbnB1dD95ZWFyOnRoaXMuYWRkKGlucHV0LXllYXIsInkiKX0sd2VlazpmdW5jdGlvbihpbnB1dCl7dmFyIHdlZWs9dGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtyZXR1cm4gbnVsbD09aW5wdXQ/d2Vlazp0aGlzLmFkZCg3KihpbnB1dC13ZWVrKSwiZCIpfSxpc29XZWVrOmZ1bmN0aW9uKGlucHV0KXt2YXIgd2Vlaz13ZWVrT2ZZZWFyKHRoaXMsMSw0KS53ZWVrO3JldHVybiBudWxsPT1pbnB1dD93ZWVrOnRoaXMuYWRkKDcqKGlucHV0LXdlZWspLCJkIil9LHdlZWtkYXk6ZnVuY3Rpb24oaW5wdXQpe3ZhciB3ZWVrZGF5PSh0aGlzLmRheSgpKzctdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSU3O3JldHVybiBudWxsPT1pbnB1dD93ZWVrZGF5OnRoaXMuYWRkKGlucHV0LXdlZWtkYXksImQiKX0saXNvV2Vla2RheTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIG51bGw9PWlucHV0P3RoaXMuZGF5KCl8fDc6dGhpcy5kYXkodGhpcy5kYXkoKSU3P2lucHV0OmlucHV0LTcpfSxpc29XZWVrc0luWWVhcjpmdW5jdGlvbigpe3JldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwxLDQpfSx3ZWVrc0luWWVhcjpmdW5jdGlvbigpe3ZhciB3ZWVrSW5mbz10aGlzLmxvY2FsZURhdGEoKS5fd2VlaztyZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksd2Vla0luZm8uZG93LHdlZWtJbmZvLmRveSl9LGdldDpmdW5jdGlvbih1bml0cyl7cmV0dXJuIHVuaXRzPW5vcm1hbGl6ZVVuaXRzKHVuaXRzKSx0aGlzW3VuaXRzXSgpfSxzZXQ6ZnVuY3Rpb24odW5pdHMsdmFsdWUpe3JldHVybiB1bml0cz1ub3JtYWxpemVVbml0cyh1bml0cyksImZ1bmN0aW9uIj09dHlwZW9mIHRoaXNbdW5pdHNdJiZ0aGlzW3VuaXRzXSh2YWx1ZSksdGhpc30sbG9jYWxlOmZ1bmN0aW9uKGtleSl7dmFyIG5ld0xvY2FsZURhdGE7cmV0dXJuIGtleT09PXVuZGVmaW5lZD90aGlzLl9sb2NhbGUuX2FiYnI6KG5ld0xvY2FsZURhdGE9bW9tZW50LmxvY2FsZURhdGEoa2V5KSxudWxsIT1uZXdMb2NhbGVEYXRhJiYodGhpcy5fbG9jYWxlPW5ld0xvY2FsZURhdGEpLHRoaXMpfSxsYW5nOmRlcHJlY2F0ZSgibW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgaW5zdGVhZC4iLGZ1bmN0aW9uKGtleSl7cmV0dXJuIGtleT09PXVuZGVmaW5lZD90aGlzLmxvY2FsZURhdGEoKTp0aGlzLmxvY2FsZShrZXkpfSksbG9jYWxlRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbGV9LF9kYXRlVHpPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMTUqTWF0aC5yb3VuZCh0aGlzLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkvMTUpfX0pLG1vbWVudC5mbi5taWxsaXNlY29uZD1tb21lbnQuZm4ubWlsbGlzZWNvbmRzPW1ha2VBY2Nlc3NvcigiTWlsbGlzZWNvbmRzIiwhMSksbW9tZW50LmZuLnNlY29uZD1tb21lbnQuZm4uc2Vjb25kcz1tYWtlQWNjZXNzb3IoIlNlY29uZHMiLCExKSxtb21lbnQuZm4ubWludXRlPW1vbWVudC5mbi5taW51dGVzPW1ha2VBY2Nlc3NvcigiTWludXRlcyIsITEpLG1vbWVudC5mbi5ob3VyPW1vbWVudC5mbi5ob3Vycz1tYWtlQWNjZXNzb3IoIkhvdXJzIiwhMCksbW9tZW50LmZuLmRhdGU9bWFrZUFjY2Vzc29yKCJEYXRlIiwhMCksbW9tZW50LmZuLmRhdGVzPWRlcHJlY2F0ZSgiZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4iLG1ha2VBY2Nlc3NvcigiRGF0ZSIsITApKSxtb21lbnQuZm4ueWVhcj1tYWtlQWNjZXNzb3IoIkZ1bGxZZWFyIiwhMCksbW9tZW50LmZuLnllYXJzPWRlcHJlY2F0ZSgieWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZC4iLG1ha2VBY2Nlc3NvcigiRnVsbFllYXIiLCEwKSksbW9tZW50LmZuLmRheXM9bW9tZW50LmZuLmRheSxtb21lbnQuZm4ubW9udGhzPW1vbWVudC5mbi5tb250aCxtb21lbnQuZm4ud2Vla3M9bW9tZW50LmZuLndlZWssbW9tZW50LmZuLmlzb1dlZWtzPW1vbWVudC5mbi5pc29XZWVrLG1vbWVudC5mbi5xdWFydGVycz1tb21lbnQuZm4ucXVhcnRlcixtb21lbnQuZm4udG9KU09OPW1vbWVudC5mbi50b0lTT1N0cmluZyxleHRlbmQobW9tZW50LmR1cmF0aW9uLmZuPUR1cmF0aW9uLnByb3RvdHlwZSx7X2J1YmJsZTpmdW5jdGlvbigpe3ZhciBzZWNvbmRzLG1pbnV0ZXMsaG91cnMsbWlsbGlzZWNvbmRzPXRoaXMuX21pbGxpc2Vjb25kcyxkYXlzPXRoaXMuX2RheXMsbW9udGhzPXRoaXMuX21vbnRocyxkYXRhPXRoaXMuX2RhdGEseWVhcnM9MDtkYXRhLm1pbGxpc2Vjb25kcz1taWxsaXNlY29uZHMlMWUzLHNlY29uZHM9YWJzUm91bmQobWlsbGlzZWNvbmRzLzFlMyksZGF0YS5zZWNvbmRzPXNlY29uZHMlNjAsbWludXRlcz1hYnNSb3VuZChzZWNvbmRzLzYwKSxkYXRhLm1pbnV0ZXM9bWludXRlcyU2MCxob3Vycz1hYnNSb3VuZChtaW51dGVzLzYwKSxkYXRhLmhvdXJzPWhvdXJzJTI0LGRheXMrPWFic1JvdW5kKGhvdXJzLzI0KSx5ZWFycz1hYnNSb3VuZChkYXlzVG9ZZWFycyhkYXlzKSksZGF5cy09YWJzUm91bmQoeWVhcnNUb0RheXMoeWVhcnMpKSxtb250aHMrPWFic1JvdW5kKGRheXMvMzApLGRheXMlPTMwLHllYXJzKz1hYnNSb3VuZChtb250aHMvMTIpLG1vbnRocyU9MTIsZGF0YS5kYXlzPWRheXMsZGF0YS5tb250aHM9bW9udGhzLGRhdGEueWVhcnM9eWVhcnN9LGFiczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWxsaXNlY29uZHM9TWF0aC5hYnModGhpcy5fbWlsbGlzZWNvbmRzKSx0aGlzLl9kYXlzPU1hdGguYWJzKHRoaXMuX2RheXMpLHRoaXMuX21vbnRocz1NYXRoLmFicyh0aGlzLl9tb250aHMpLHRoaXMuX2RhdGEubWlsbGlzZWNvbmRzPU1hdGguYWJzKHRoaXMuX2RhdGEubWlsbGlzZWNvbmRzKSx0aGlzLl9kYXRhLnNlY29uZHM9TWF0aC5hYnModGhpcy5fZGF0YS5zZWNvbmRzKSx0aGlzLl9kYXRhLm1pbnV0ZXM9TWF0aC5hYnModGhpcy5fZGF0YS5taW51dGVzKSx0aGlzLl9kYXRhLmhvdXJzPU1hdGguYWJzKHRoaXMuX2RhdGEuaG91cnMpLHRoaXMuX2RhdGEubW9udGhzPU1hdGguYWJzKHRoaXMuX2RhdGEubW9udGhzKSx0aGlzLl9kYXRhLnllYXJzPU1hdGguYWJzKHRoaXMuX2RhdGEueWVhcnMpLHRoaXN9LHdlZWtzOmZ1bmN0aW9uKCl7cmV0dXJuIGFic1JvdW5kKHRoaXMuZGF5cygpLzcpfSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbGxpc2Vjb25kcys4NjRlNSp0aGlzLl9kYXlzK3RoaXMuX21vbnRocyUxMioyNTkyZTYrMzE1MzZlNip0b0ludCh0aGlzLl9tb250aHMvMTIpfSxodW1hbml6ZTpmdW5jdGlvbih3aXRoU3VmZml4KXt2YXIgb3V0cHV0PXJlbGF0aXZlVGltZSh0aGlzLCF3aXRoU3VmZml4LHRoaXMubG9jYWxlRGF0YSgpKTtyZXR1cm4gd2l0aFN1ZmZpeCYmKG91dHB1dD10aGlzLmxvY2FsZURhdGEoKS5wYXN0RnV0dXJlKCt0aGlzLG91dHB1dCkpLHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KX0sYWRkOmZ1bmN0aW9uKGlucHV0LHZhbCl7dmFyIGR1cj1tb21lbnQuZHVyYXRpb24oaW5wdXQsdmFsKTtyZXR1cm4gdGhpcy5fbWlsbGlzZWNvbmRzKz1kdXIuX21pbGxpc2Vjb25kcyx0aGlzLl9kYXlzKz1kdXIuX2RheXMsdGhpcy5fbW9udGhzKz1kdXIuX21vbnRocyx0aGlzLl9idWJibGUoKSx0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbihpbnB1dCx2YWwpe3ZhciBkdXI9bW9tZW50LmR1cmF0aW9uKGlucHV0LHZhbCk7cmV0dXJuIHRoaXMuX21pbGxpc2Vjb25kcy09ZHVyLl9taWxsaXNlY29uZHMsdGhpcy5fZGF5cy09ZHVyLl9kYXlzLHRoaXMuX21vbnRocy09ZHVyLl9tb250aHMsdGhpcy5fYnViYmxlKCksdGhpc30sZ2V0OmZ1bmN0aW9uKHVuaXRzKXtyZXR1cm4gdW5pdHM9bm9ybWFsaXplVW5pdHModW5pdHMpLHRoaXNbdW5pdHMudG9Mb3dlckNhc2UoKSsicyJdKCl9LGFzOmZ1bmN0aW9uKHVuaXRzKXt2YXIgZGF5cyxtb250aHM7aWYodW5pdHM9bm9ybWFsaXplVW5pdHModW5pdHMpLCJtb250aCI9PT11bml0c3x8InllYXIiPT09dW5pdHMpcmV0dXJuIGRheXM9dGhpcy5fZGF5cyt0aGlzLl9taWxsaXNlY29uZHMvODY0ZTUsbW9udGhzPXRoaXMuX21vbnRocysxMipkYXlzVG9ZZWFycyhkYXlzKSwibW9udGgiPT09dW5pdHM/bW9udGhzOm1vbnRocy8xMjtzd2l0Y2goZGF5cz10aGlzLl9kYXlzK3llYXJzVG9EYXlzKHRoaXMuX21vbnRocy8xMiksdW5pdHMpe2Nhc2Uid2VlayI6cmV0dXJuIGRheXMvNyt0aGlzLl9taWxsaXNlY29uZHMvNjA0OGU1O2Nhc2UiZGF5IjpyZXR1cm4gZGF5cyt0aGlzLl9taWxsaXNlY29uZHMvODY0ZTU7Y2FzZSJob3VyIjpyZXR1cm4gMjQqZGF5cyt0aGlzLl9taWxsaXNlY29uZHMvMzZlNTtjYXNlIm1pbnV0ZSI6cmV0dXJuIDI0KmRheXMqNjArdGhpcy5fbWlsbGlzZWNvbmRzLzZlNDtjYXNlInNlY29uZCI6cmV0dXJuIDI0KmRheXMqNjAqNjArdGhpcy5fbWlsbGlzZWNvbmRzLzFlMztjYXNlIm1pbGxpc2Vjb25kIjpyZXR1cm4gTWF0aC5mbG9vcigyNCpkYXlzKjYwKjYwKjFlMykrdGhpcy5fbWlsbGlzZWNvbmRzO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHVuaXQgIit1bml0cyl9fSxsYW5nOm1vbWVudC5mbi5sYW5nLGxvY2FsZTptb21lbnQuZm4ubG9jYWxlLHRvSXNvU3RyaW5nOmRlcHJlY2F0ZSgidG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscykiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9JU09TdHJpbmcoKX0pLHRvSVNPU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHllYXJzPU1hdGguYWJzKHRoaXMueWVhcnMoKSksbW9udGhzPU1hdGguYWJzKHRoaXMubW9udGhzKCkpLGRheXM9TWF0aC5hYnModGhpcy5kYXlzKCkpLGhvdXJzPU1hdGguYWJzKHRoaXMuaG91cnMoKSksbWludXRlcz1NYXRoLmFicyh0aGlzLm1pbnV0ZXMoKSksc2Vjb25kcz1NYXRoLmFicyh0aGlzLnNlY29uZHMoKSt0aGlzLm1pbGxpc2Vjb25kcygpLzFlMyk7cmV0dXJuIHRoaXMuYXNTZWNvbmRzKCk/KHRoaXMuYXNTZWNvbmRzKCk8MD8iLSI6IiIpKyJQIisoeWVhcnM/eWVhcnMrIlkiOiIiKSsobW9udGhzP21vbnRocysiTSI6IiIpKyhkYXlzP2RheXMrIkQiOiIiKSsoaG91cnN8fG1pbnV0ZXN8fHNlY29uZHM/IlQiOiIiKSsoaG91cnM/aG91cnMrIkgiOiIiKSsobWludXRlcz9taW51dGVzKyJNIjoiIikrKHNlY29uZHM/c2Vjb25kcysiUyI6IiIpOiJQMEQifSxsb2NhbGVEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsZX19KSxtb21lbnQuZHVyYXRpb24uZm4udG9TdHJpbmc9bW9tZW50LmR1cmF0aW9uLmZuLnRvSVNPU3RyaW5nO2ZvcihpIGluIHVuaXRNaWxsaXNlY29uZEZhY3RvcnMpaGFzT3duUHJvcCh1bml0TWlsbGlzZWNvbmRGYWN0b3JzLGkpJiZtYWtlRHVyYXRpb25HZXR0ZXIoaS50b0xvd2VyQ2FzZSgpKTttb21lbnQuZHVyYXRpb24uZm4uYXNNaWxsaXNlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygibXMiKX0sbW9tZW50LmR1cmF0aW9uLmZuLmFzU2Vjb25kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzKCJzIil9LG1vbWVudC5kdXJhdGlvbi5mbi5hc01pbnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygibSIpfSxtb21lbnQuZHVyYXRpb24uZm4uYXNIb3Vycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzKCJoIil9LG1vbWVudC5kdXJhdGlvbi5mbi5hc0RheXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygiZCIpfSxtb21lbnQuZHVyYXRpb24uZm4uYXNXZWVrcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzKCJ3ZWVrcyIpfSxtb21lbnQuZHVyYXRpb24uZm4uYXNNb250aHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcygiTSIpfSxtb21lbnQuZHVyYXRpb24uZm4uYXNZZWFycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzKCJ5Iil9LG1vbWVudC5sb2NhbGUoImVuIix7b3JkaW5hbDpmdW5jdGlvbihudW1iZXIpe3ZhciBiPW51bWJlciUxMCxvdXRwdXQ9MT09PXRvSW50KG51bWJlciUxMDAvMTApPyJ0aCI6MT09PWI/InN0IjoyPT09Yj8ibmQiOjM9PT1iPyJyZCI6InRoIjtyZXR1cm4gbnVtYmVyK291dHB1dH19KSxoYXNNb2R1bGU/bW9kdWxlLmV4cG9ydHM9bW9tZW50OiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/KGRlZmluZSgibW9tZW50IixmdW5jdGlvbihyZXF1aXJlLGV4cG9ydHMsbW9kdWxlKXtyZXR1cm4gbW9kdWxlLmNvbmZpZyYmbW9kdWxlLmNvbmZpZygpJiZtb2R1bGUuY29uZmlnKCkubm9HbG9iYWw9PT0hMCYmKGdsb2JhbFNjb3BlLm1vbWVudD1vbGRHbG9iYWxNb21lbnQpLG1vbWVudH0pLG1ha2VHbG9iYWwoITApKTptYWtlR2xvYmFsKCl9LmNhbGwodGhpcyksZnVuY3Rpb24ocm9vdCxmYWN0b3J5KXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbIm1vbWVudCIsImpxdWVyeSIsImV4cG9ydHMiXSxmdW5jdGlvbihtb21lbnRqcywkLGV4cG9ydHMpe3Jvb3QuZGF0ZXJhbmdlcGlja2VyPWZhY3Rvcnkocm9vdCxleHBvcnRzLG1vbWVudGpzLCQpfSk7ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHMpe3ZhciBqUXVlcnksbW9tZW50anM9cmVxdWlyZSgibW9tZW50Iik7dHJ5e2pRdWVyeT1yZXF1aXJlKCJqcXVlcnkiKX1jYXRjaChlcnIpe2lmKGpRdWVyeT13aW5kb3cualF1ZXJ5LCFqUXVlcnkpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgZGVwZW5kZW5jeSBub3QgZm91bmQiKX1mYWN0b3J5KHJvb3QsZXhwb3J0cyxtb21lbnRqcyxqUXVlcnkpfWVsc2Ugcm9vdC5kYXRlcmFuZ2VwaWNrZXI9ZmFjdG9yeShyb290LHt9LHJvb3QubW9tZW50LHJvb3QualF1ZXJ5fHxyb290LlplcHRvfHxyb290LmVuZGVyfHxyb290LiQpfSh0aGlzLGZ1bmN0aW9uKHJvb3QsZGF0ZXJhbmdlcGlja2VyLG1vbWVudCwkKXt2YXIgRGF0ZVJhbmdlUGlja2VyPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyxjYil7dGhpcy5wYXJlbnRFbD0iYm9keSIsdGhpcy5lbGVtZW50PSQoZWxlbWVudCksdGhpcy5pc1Nob3dpbmc9ITE7dmFyIERSUFRlbXBsYXRlPSc8ZGl2IGNsYXNzPSJkYXRlcmFuZ2VwaWNrZXIgZHJvcGRvd24tbWVudSI+PGRpdiBjbGFzcz0iY2FsZW5kYXIgbGVmdCI+PC9kaXY+PGRpdiBjbGFzcz0iY2FsZW5kYXIgcmlnaHQiPjwvZGl2PjxkaXYgY2xhc3M9InJhbmdlcyI+PGRpdiBjbGFzcz0icmFuZ2VfaW5wdXRzIj48ZGl2IGNsYXNzPSJkYXRlcmFuZ2VwaWNrZXJfc3RhcnRfaW5wdXQiPjxsYWJlbCBmb3I9ImRhdGVyYW5nZXBpY2tlcl9zdGFydCI+PC9sYWJlbD48aW5wdXQgY2xhc3M9ImlucHV0LW1pbmkiIHR5cGU9InRleHQiIG5hbWU9ImRhdGVyYW5nZXBpY2tlcl9zdGFydCIgdmFsdWU9IiIgLz48L2Rpdj48ZGl2IGNsYXNzPSJkYXRlcmFuZ2VwaWNrZXJfZW5kX2lucHV0Ij48bGFiZWwgZm9yPSJkYXRlcmFuZ2VwaWNrZXJfZW5kIj48L2xhYmVsPjxpbnB1dCBjbGFzcz0iaW5wdXQtbWluaSIgdHlwZT0idGV4dCIgbmFtZT0iZGF0ZXJhbmdlcGlja2VyX2VuZCIgdmFsdWU9IiIgLz48L2Rpdj48YnV0dG9uIGNsYXNzPSJhcHBseUJ0biIgZGlzYWJsZWQ9ImRpc2FibGVkIj48L2J1dHRvbj4mbmJzcDs8YnV0dG9uIGNsYXNzPSJjYW5jZWxCdG4iPjwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2Pic7KCJvYmplY3QiIT10eXBlb2Ygb3B0aW9uc3x8bnVsbD09PW9wdGlvbnMpJiYob3B0aW9ucz17fSksdGhpcy5wYXJlbnRFbD0kKCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucyYmb3B0aW9ucy5wYXJlbnRFbCYmJChvcHRpb25zLnBhcmVudEVsKS5sZW5ndGg/b3B0aW9ucy5wYXJlbnRFbDp0aGlzLnBhcmVudEVsKSx0aGlzLmNvbnRhaW5lcj0kKERSUFRlbXBsYXRlKS5hcHBlbmRUbyh0aGlzLnBhcmVudEVsKSx0aGlzLnNldE9wdGlvbnMob3B0aW9ucyxjYik7dmFyIGM9dGhpcy5jb250YWluZXI7JC5lYWNoKHRoaXMuYnV0dG9uQ2xhc3NlcyxmdW5jdGlvbihpZHgsdmFsKXtjLmZpbmQoImJ1dHRvbiIpLmFkZENsYXNzKHZhbCl9KSx0aGlzLmNvbnRhaW5lci5maW5kKCIuZGF0ZXJhbmdlcGlja2VyX3N0YXJ0X2lucHV0IGxhYmVsIikuaHRtbCh0aGlzLmxvY2FsZS5mcm9tTGFiZWwpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5kYXRlcmFuZ2VwaWNrZXJfZW5kX2lucHV0IGxhYmVsIikuaHRtbCh0aGlzLmxvY2FsZS50b0xhYmVsKSx0aGlzLmFwcGx5Q2xhc3MubGVuZ3RoJiZ0aGlzLmNvbnRhaW5lci5maW5kKCIuYXBwbHlCdG4iKS5hZGRDbGFzcyh0aGlzLmFwcGx5Q2xhc3MpLHRoaXMuY2FuY2VsQ2xhc3MubGVuZ3RoJiZ0aGlzLmNvbnRhaW5lci5maW5kKCIuY2FuY2VsQnRuIikuYWRkQ2xhc3ModGhpcy5jYW5jZWxDbGFzcyksdGhpcy5jb250YWluZXIuZmluZCgiLmFwcGx5QnRuIikuaHRtbCh0aGlzLmxvY2FsZS5hcHBseUxhYmVsKSx0aGlzLmNvbnRhaW5lci5maW5kKCIuY2FuY2VsQnRuIikuaHRtbCh0aGlzLmxvY2FsZS5jYW5jZWxMYWJlbCksdGhpcy5jb250YWluZXIuZmluZCgiLmNhbGVuZGFyIikub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsIi5wcmV2IiwkLnByb3h5KHRoaXMuY2xpY2tQcmV2LHRoaXMpKS5vbigiY2xpY2suZGF0ZXJhbmdlcGlja2VyIiwiLm5leHQiLCQucHJveHkodGhpcy5jbGlja05leHQsdGhpcykpLm9uKCJjbGljay5kYXRlcmFuZ2VwaWNrZXIiLCJ0ZC5hdmFpbGFibGUiLCQucHJveHkodGhpcy5jbGlja0RhdGUsdGhpcykpLm9uKCJtb3VzZWVudGVyLmRhdGVyYW5nZXBpY2tlciIsInRkLmF2YWlsYWJsZSIsJC5wcm94eSh0aGlzLmhvdmVyRGF0ZSx0aGlzKSkub24oIm1vdXNlbGVhdmUuZGF0ZXJhbmdlcGlja2VyIiwidGQuYXZhaWxhYmxlIiwkLnByb3h5KHRoaXMudXBkYXRlRm9ybUlucHV0cyx0aGlzKSkub24oImNoYW5nZS5kYXRlcmFuZ2VwaWNrZXIiLCJzZWxlY3QueWVhcnNlbGVjdCIsJC5wcm94eSh0aGlzLnVwZGF0ZU1vbnRoWWVhcix0aGlzKSkub24oImNoYW5nZS5kYXRlcmFuZ2VwaWNrZXIiLCJzZWxlY3QubW9udGhzZWxlY3QiLCQucHJveHkodGhpcy51cGRhdGVNb250aFllYXIsdGhpcykpLm9uKCJjaGFuZ2UuZGF0ZXJhbmdlcGlja2VyIiwic2VsZWN0LmhvdXJzZWxlY3Qsc2VsZWN0Lm1pbnV0ZXNlbGVjdCxzZWxlY3QuYW1wbXNlbGVjdCIsJC5wcm94eSh0aGlzLnVwZGF0ZVRpbWUsdGhpcykpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5yYW5nZXMiKS5vbigiY2xpY2suZGF0ZXJhbmdlcGlja2VyIiwiYnV0dG9uLmFwcGx5QnRuIiwkLnByb3h5KHRoaXMuY2xpY2tBcHBseSx0aGlzKSkub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsImJ1dHRvbi5jYW5jZWxCdG4iLCQucHJveHkodGhpcy5jbGlja0NhbmNlbCx0aGlzKSkub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsIi5kYXRlcmFuZ2VwaWNrZXJfc3RhcnRfaW5wdXQsLmRhdGVyYW5nZXBpY2tlcl9lbmRfaW5wdXQiLCQucHJveHkodGhpcy5zaG93Q2FsZW5kYXJzLHRoaXMpKS5vbigiY2hhbmdlLmRhdGVyYW5nZXBpY2tlciIsIi5kYXRlcmFuZ2VwaWNrZXJfc3RhcnRfaW5wdXQsLmRhdGVyYW5nZXBpY2tlcl9lbmRfaW5wdXQiLCQucHJveHkodGhpcy5pbnB1dHNDaGFuZ2VkLHRoaXMpKS5vbigia2V5ZG93bi5kYXRlcmFuZ2VwaWNrZXIiLCIuZGF0ZXJhbmdlcGlja2VyX3N0YXJ0X2lucHV0LC5kYXRlcmFuZ2VwaWNrZXJfZW5kX2lucHV0IiwkLnByb3h5KHRoaXMuaW5wdXRzS2V5ZG93bix0aGlzKSkub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsImxpIiwkLnByb3h5KHRoaXMuY2xpY2tSYW5nZSx0aGlzKSkub24oIm1vdXNlZW50ZXIuZGF0ZXJhbmdlcGlja2VyIiwibGkiLCQucHJveHkodGhpcy5lbnRlclJhbmdlLHRoaXMpKS5vbigibW91c2VsZWF2ZS5kYXRlcmFuZ2VwaWNrZXIiLCJsaSIsJC5wcm94eSh0aGlzLnVwZGF0ZUZvcm1JbnB1dHMsdGhpcykpLHRoaXMuZWxlbWVudC5pcygiaW5wdXQiKT90aGlzLmVsZW1lbnQub24oeyJjbGljay5kYXRlcmFuZ2VwaWNrZXIiOiQucHJveHkodGhpcy5zaG93LHRoaXMpLCJmb2N1cy5kYXRlcmFuZ2VwaWNrZXIiOiQucHJveHkodGhpcy5zaG93LHRoaXMpLCJrZXl1cC5kYXRlcmFuZ2VwaWNrZXIiOiQucHJveHkodGhpcy51cGRhdGVGcm9tQ29udHJvbCx0aGlzKX0pOnRoaXMuZWxlbWVudC5vbigiY2xpY2suZGF0ZXJhbmdlcGlja2VyIiwkLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKX07RGF0ZVJhbmdlUGlja2VyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6RGF0ZVJhbmdlUGlja2VyLHNldE9wdGlvbnM6ZnVuY3Rpb24ob3B0aW9ucyxjYWxsYmFjayl7aWYodGhpcy5zdGFydERhdGU9bW9tZW50KCkuc3RhcnRPZigiZGF5IiksdGhpcy5lbmREYXRlPW1vbWVudCgpLmVuZE9mKCJkYXkiKSx0aGlzLm1pbkRhdGU9ITEsdGhpcy5tYXhEYXRlPSExLHRoaXMuZGF0ZUxpbWl0PSExLHRoaXMuc2hvd0Ryb3Bkb3ducz0hMSx0aGlzLnNob3dXZWVrTnVtYmVycz0hMSx0aGlzLnRpbWVQaWNrZXI9ITEsdGhpcy50aW1lUGlja2VySW5jcmVtZW50PTMwLHRoaXMudGltZVBpY2tlcjEySG91cj0hMCx0aGlzLnNpbmdsZURhdGVQaWNrZXI9ITEsdGhpcy5yYW5nZXM9e30sdGhpcy5vcGVucz0icmlnaHQiLHRoaXMuZWxlbWVudC5oYXNDbGFzcygicHVsbC1yaWdodCIpJiYodGhpcy5vcGVucz0ibGVmdCIpLHRoaXMuYnV0dG9uQ2xhc3Nlcz1bImJ0biIsImJ0bi1zbWFsbCBidG4tc20iXSx0aGlzLmFwcGx5Q2xhc3M9ImJ0bi1zdWNjZXNzIix0aGlzLmNhbmNlbENsYXNzPSJidG4tZGVmYXVsdCIsdGhpcy5mb3JtYXQ9Ik1NL0REL1lZWVkiLHRoaXMuc2VwYXJhdG9yPSIgLSAiLHRoaXMubG9jYWxlPXthcHBseUxhYmVsOiJBcHBseSIsY2FuY2VsTGFiZWw6IkNhbmNlbCIsZnJvbUxhYmVsOiJGcm9tIix0b0xhYmVsOiJUbyIsd2Vla0xhYmVsOiJXIixjdXN0b21SYW5nZUxhYmVsOiJDdXN0b20gUmFuZ2UiLGRheXNPZldlZWs6bW9tZW50LndlZWtkYXlzTWluKCksbW9udGhOYW1lczptb21lbnQubW9udGhzU2hvcnQoKSxmaXJzdERheTptb21lbnQubG9jYWxlRGF0YSgpLl93ZWVrLmRvd30sdGhpcy5jYj1mdW5jdGlvbigpe30sInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmZvcm1hdCYmKHRoaXMuZm9ybWF0PW9wdGlvbnMuZm9ybWF0KSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMuc2VwYXJhdG9yJiYodGhpcy5zZXBhcmF0b3I9b3B0aW9ucy5zZXBhcmF0b3IpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5zdGFydERhdGUmJih0aGlzLnN0YXJ0RGF0ZT1tb21lbnQob3B0aW9ucy5zdGFydERhdGUsdGhpcy5mb3JtYXQpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMuZW5kRGF0ZSYmKHRoaXMuZW5kRGF0ZT1tb21lbnQob3B0aW9ucy5lbmREYXRlLHRoaXMuZm9ybWF0KSksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLm1pbkRhdGUmJih0aGlzLm1pbkRhdGU9bW9tZW50KG9wdGlvbnMubWluRGF0ZSx0aGlzLmZvcm1hdCkpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5tYXhEYXRlJiYodGhpcy5tYXhEYXRlPW1vbWVudChvcHRpb25zLm1heERhdGUsdGhpcy5mb3JtYXQpKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMuc3RhcnREYXRlJiYodGhpcy5zdGFydERhdGU9bW9tZW50KG9wdGlvbnMuc3RhcnREYXRlKSksIm9iamVjdCI9PXR5cGVvZiBvcHRpb25zLmVuZERhdGUmJih0aGlzLmVuZERhdGU9bW9tZW50KG9wdGlvbnMuZW5kRGF0ZSkpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucy5taW5EYXRlJiYodGhpcy5taW5EYXRlPW1vbWVudChvcHRpb25zLm1pbkRhdGUpKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMubWF4RGF0ZSYmKHRoaXMubWF4RGF0ZT1tb21lbnQob3B0aW9ucy5tYXhEYXRlKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmFwcGx5Q2xhc3MmJih0aGlzLmFwcGx5Q2xhc3M9b3B0aW9ucy5hcHBseUNsYXNzKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMuY2FuY2VsQ2xhc3MmJih0aGlzLmNhbmNlbENsYXNzPW9wdGlvbnMuY2FuY2VsQ2xhc3MpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucy5kYXRlTGltaXQmJih0aGlzLmRhdGVMaW1pdD1vcHRpb25zLmRhdGVMaW1pdCksIm9iamVjdCI9PXR5cGVvZiBvcHRpb25zLmxvY2FsZSYmKCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucy5sb2NhbGUuZGF5c09mV2VlayYmKHRoaXMubG9jYWxlLmRheXNPZldlZWs9b3B0aW9ucy5sb2NhbGUuZGF5c09mV2Vlay5zbGljZSgpKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbnMubG9jYWxlLm1vbnRoTmFtZXMmJih0aGlzLmxvY2FsZS5tb250aE5hbWVzPW9wdGlvbnMubG9jYWxlLm1vbnRoTmFtZXMuc2xpY2UoKSksIm51bWJlciI9PXR5cGVvZiBvcHRpb25zLmxvY2FsZS5maXJzdERheSYmKHRoaXMubG9jYWxlLmZpcnN0RGF5PW9wdGlvbnMubG9jYWxlLmZpcnN0RGF5KSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMubG9jYWxlLmFwcGx5TGFiZWwmJih0aGlzLmxvY2FsZS5hcHBseUxhYmVsPW9wdGlvbnMubG9jYWxlLmFwcGx5TGFiZWwpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5sb2NhbGUuY2FuY2VsTGFiZWwmJih0aGlzLmxvY2FsZS5jYW5jZWxMYWJlbD1vcHRpb25zLmxvY2FsZS5jYW5jZWxMYWJlbCksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmxvY2FsZS5mcm9tTGFiZWwmJih0aGlzLmxvY2FsZS5mcm9tTGFiZWw9b3B0aW9ucy5sb2NhbGUuZnJvbUxhYmVsKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMubG9jYWxlLnRvTGFiZWwmJih0aGlzLmxvY2FsZS50b0xhYmVsPW9wdGlvbnMubG9jYWxlLnRvTGFiZWwpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucy5sb2NhbGUud2Vla0xhYmVsJiYodGhpcy5sb2NhbGUud2Vla0xhYmVsPW9wdGlvbnMubG9jYWxlLndlZWtMYWJlbCksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLmxvY2FsZS5jdXN0b21SYW5nZUxhYmVsJiYodGhpcy5sb2NhbGUuY3VzdG9tUmFuZ2VMYWJlbD1vcHRpb25zLmxvY2FsZS5jdXN0b21SYW5nZUxhYmVsKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb25zLm9wZW5zJiYodGhpcy5vcGVucz1vcHRpb25zLm9wZW5zKSwiYm9vbGVhbiI9PXR5cGVvZiBvcHRpb25zLnNob3dXZWVrTnVtYmVycyYmKHRoaXMuc2hvd1dlZWtOdW1iZXJzPW9wdGlvbnMuc2hvd1dlZWtOdW1iZXJzKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbnMuYnV0dG9uQ2xhc3NlcyYmKHRoaXMuYnV0dG9uQ2xhc3Nlcz1bb3B0aW9ucy5idXR0b25DbGFzc2VzXSksIm9iamVjdCI9PXR5cGVvZiBvcHRpb25zLmJ1dHRvbkNsYXNzZXMmJih0aGlzLmJ1dHRvbkNsYXNzZXM9b3B0aW9ucy5idXR0b25DbGFzc2VzKSwiYm9vbGVhbiI9PXR5cGVvZiBvcHRpb25zLnNob3dEcm9wZG93bnMmJih0aGlzLnNob3dEcm9wZG93bnM9b3B0aW9ucy5zaG93RHJvcGRvd25zKSwiYm9vbGVhbiI9PXR5cGVvZiBvcHRpb25zLnNpbmdsZURhdGVQaWNrZXImJih0aGlzLnNpbmdsZURhdGVQaWNrZXI9b3B0aW9ucy5zaW5nbGVEYXRlUGlja2VyLHRoaXMuc2luZ2xlRGF0ZVBpY2tlciYmKHRoaXMuZW5kRGF0ZT10aGlzLnN0YXJ0RGF0ZS5jbG9uZSgpKSksImJvb2xlYW4iPT10eXBlb2Ygb3B0aW9ucy50aW1lUGlja2VyJiYodGhpcy50aW1lUGlja2VyPW9wdGlvbnMudGltZVBpY2tlciksIm51bWJlciI9PXR5cGVvZiBvcHRpb25zLnRpbWVQaWNrZXJJbmNyZW1lbnQmJih0aGlzLnRpbWVQaWNrZXJJbmNyZW1lbnQ9b3B0aW9ucy50aW1lUGlja2VySW5jcmVtZW50KSwiYm9vbGVhbiI9PXR5cGVvZiBvcHRpb25zLnRpbWVQaWNrZXIxMkhvdXImJih0aGlzLnRpbWVQaWNrZXIxMkhvdXI9b3B0aW9ucy50aW1lUGlja2VyMTJIb3VyKSwwIT10aGlzLmxvY2FsZS5maXJzdERheSlmb3IodmFyIGl0ZXJhdG9yPXRoaXMubG9jYWxlLmZpcnN0RGF5O2l0ZXJhdG9yPjA7KXRoaXMubG9jYWxlLmRheXNPZldlZWsucHVzaCh0aGlzLmxvY2FsZS5kYXlzT2ZXZWVrLnNoaWZ0KCkpLGl0ZXJhdG9yLS07dmFyIHN0YXJ0LGVuZCxyYW5nZTtpZigidW5kZWZpbmVkIj09dHlwZW9mIG9wdGlvbnMuc3RhcnREYXRlJiYidW5kZWZpbmVkIj09dHlwZW9mIG9wdGlvbnMuZW5kRGF0ZSYmJCh0aGlzLmVsZW1lbnQpLmlzKCJpbnB1dFt0eXBlPXRleHRdIikpe3ZhciB2YWw9JCh0aGlzLmVsZW1lbnQpLnZhbCgpLHNwbGl0PXZhbC5zcGxpdCh0aGlzLnNlcGFyYXRvcik7c3RhcnQ9ZW5kPW51bGwsMj09c3BsaXQubGVuZ3RoPyhzdGFydD1tb21lbnQoc3BsaXRbMF0sdGhpcy5mb3JtYXQpLGVuZD1tb21lbnQoc3BsaXRbMV0sdGhpcy5mb3JtYXQpKTp0aGlzLnNpbmdsZURhdGVQaWNrZXImJihzdGFydD1tb21lbnQodmFsLHRoaXMuZm9ybWF0KSxlbmQ9bW9tZW50KHZhbCx0aGlzLmZvcm1hdCkpLG51bGwhPT1zdGFydCYmbnVsbCE9PWVuZCYmKHRoaXMuc3RhcnREYXRlPXN0YXJ0LHRoaXMuZW5kRGF0ZT1lbmQpfWlmKCJvYmplY3QiPT10eXBlb2Ygb3B0aW9ucy5yYW5nZXMpe2ZvcihyYW5nZSBpbiBvcHRpb25zLnJhbmdlcylzdGFydD1tb21lbnQob3B0aW9ucy5yYW5nZXNbcmFuZ2VdWzBdKSxlbmQ9bW9tZW50KG9wdGlvbnMucmFuZ2VzW3JhbmdlXVsxXSksdGhpcy5taW5EYXRlJiZzdGFydC5pc0JlZm9yZSh0aGlzLm1pbkRhdGUpJiYoc3RhcnQ9bW9tZW50KHRoaXMubWluRGF0ZSkpLHRoaXMubWF4RGF0ZSYmZW5kLmlzQWZ0ZXIodGhpcy5tYXhEYXRlKSYmKGVuZD1tb21lbnQodGhpcy5tYXhEYXRlKSksdGhpcy5taW5EYXRlJiZlbmQuaXNCZWZvcmUodGhpcy5taW5EYXRlKXx8dGhpcy5tYXhEYXRlJiZzdGFydC5pc0FmdGVyKHRoaXMubWF4RGF0ZSl8fCh0aGlzLnJhbmdlc1tyYW5nZV09W3N0YXJ0LGVuZF0pO3ZhciBsaXN0PSI8dWw+Ijtmb3IocmFuZ2UgaW4gdGhpcy5yYW5nZXMpbGlzdCs9IjxsaT4iK3JhbmdlKyI8L2xpPiI7bGlzdCs9IjxsaT4iK3RoaXMubG9jYWxlLmN1c3RvbVJhbmdlTGFiZWwrIjwvbGk+IixsaXN0Kz0iPC91bD4iLHRoaXMuY29udGFpbmVyLmZpbmQoIi5yYW5nZXMgdWwiKS5yZW1vdmUoKSx0aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIikucHJlcGVuZChsaXN0KX1pZigiZnVuY3Rpb24iPT10eXBlb2YgY2FsbGJhY2smJih0aGlzLmNiPWNhbGxiYWNrKSx0aGlzLnRpbWVQaWNrZXJ8fCh0aGlzLnN0YXJ0RGF0ZT10aGlzLnN0YXJ0RGF0ZS5zdGFydE9mKCJkYXkiKSx0aGlzLmVuZERhdGU9dGhpcy5lbmREYXRlLmVuZE9mKCJkYXkiKSksdGhpcy5zaW5nbGVEYXRlUGlja2VyPyh0aGlzLm9wZW5zPSJyaWdodCIsdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoInNpbmdsZSIpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhci5yaWdodCIpLnNob3coKSx0aGlzLmNvbnRhaW5lci5maW5kKCIuY2FsZW5kYXIubGVmdCIpLmhpZGUoKSx0aGlzLnRpbWVQaWNrZXI/dGhpcy5jb250YWluZXIuZmluZCgiLnJhbmdlcyAuZGF0ZXJhbmdlcGlja2VyX3N0YXJ0X2lucHV0LCAucmFuZ2VzIC5kYXRlcmFuZ2VwaWNrZXJfZW5kX2lucHV0IikuaGlkZSgpOnRoaXMuY29udGFpbmVyLmZpbmQoIi5yYW5nZXMiKS5oaWRlKCksdGhpcy5jb250YWluZXIuZmluZCgiLmNhbGVuZGFyLnJpZ2h0IikuaGFzQ2xhc3MoInNpbmdsZSIpfHx0aGlzLmNvbnRhaW5lci5maW5kKCIuY2FsZW5kYXIucmlnaHQiKS5hZGRDbGFzcygic2luZ2xlIikpOih0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcygic2luZ2xlIiksdGhpcy5jb250YWluZXIuZmluZCgiLmNhbGVuZGFyLnJpZ2h0IikucmVtb3ZlQ2xhc3MoInNpbmdsZSIpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5yYW5nZXMiKS5zaG93KCkpLHRoaXMub2xkU3RhcnREYXRlPXRoaXMuc3RhcnREYXRlLmNsb25lKCksdGhpcy5vbGRFbmREYXRlPXRoaXMuZW5kRGF0ZS5jbG9uZSgpLHRoaXMub2xkQ2hvc2VuTGFiZWw9dGhpcy5jaG9zZW5MYWJlbCx0aGlzLmxlZnRDYWxlbmRhcj17bW9udGg6bW9tZW50KFt0aGlzLnN0YXJ0RGF0ZS55ZWFyKCksdGhpcy5zdGFydERhdGUubW9udGgoKSwxLHRoaXMuc3RhcnREYXRlLmhvdXIoKSx0aGlzLnN0YXJ0RGF0ZS5taW51dGUoKV0pLGNhbGVuZGFyOltdfSx0aGlzLnJpZ2h0Q2FsZW5kYXI9e21vbnRoOm1vbWVudChbdGhpcy5lbmREYXRlLnllYXIoKSx0aGlzLmVuZERhdGUubW9udGgoKSwxLHRoaXMuZW5kRGF0ZS5ob3VyKCksdGhpcy5lbmREYXRlLm1pbnV0ZSgpXSksY2FsZW5kYXI6W119LCJyaWdodCI9PXRoaXMub3BlbnN8fCJjZW50ZXIiPT10aGlzLm9wZW5zKXt2YXIgbGVmdD10aGlzLmNvbnRhaW5lci5maW5kKCIuY2FsZW5kYXIubGVmdCIpLHJpZ2h0PXRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhci5yaWdodCIpO3JpZ2h0Lmhhc0NsYXNzKCJzaW5nbGUiKSYmKHJpZ2h0LnJlbW92ZUNsYXNzKCJzaW5nbGUiKSxsZWZ0LmFkZENsYXNzKCJzaW5nbGUiKSksbGVmdC5yZW1vdmVDbGFzcygibGVmdCIpLmFkZENsYXNzKCJyaWdodCIpLHJpZ2h0LnJlbW92ZUNsYXNzKCJyaWdodCIpLmFkZENsYXNzKCJsZWZ0IiksdGhpcy5zaW5nbGVEYXRlUGlja2VyJiYobGVmdC5zaG93KCkscmlnaHQuaGlkZSgpKX0idW5kZWZpbmVkIiE9dHlwZW9mIG9wdGlvbnMucmFuZ2VzfHx0aGlzLnNpbmdsZURhdGVQaWNrZXJ8fHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCJzaG93LWNhbGVuZGFyIiksdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoIm9wZW5zIit0aGlzLm9wZW5zKSx0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpfSxzZXRTdGFydERhdGU6ZnVuY3Rpb24oc3RhcnREYXRlKXsic3RyaW5nIj09dHlwZW9mIHN0YXJ0RGF0ZSYmKHRoaXMuc3RhcnREYXRlPW1vbWVudChzdGFydERhdGUsdGhpcy5mb3JtYXQpKSwib2JqZWN0Ij09dHlwZW9mIHN0YXJ0RGF0ZSYmKHRoaXMuc3RhcnREYXRlPW1vbWVudChzdGFydERhdGUpKSx0aGlzLnRpbWVQaWNrZXJ8fCh0aGlzLnN0YXJ0RGF0ZT10aGlzLnN0YXJ0RGF0ZS5zdGFydE9mKCJkYXkiKSksdGhpcy5vbGRTdGFydERhdGU9dGhpcy5zdGFydERhdGUuY2xvbmUoKSx0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpLHRoaXMudXBkYXRlSW5wdXRUZXh0KCl9LHNldEVuZERhdGU6ZnVuY3Rpb24oZW5kRGF0ZSl7InN0cmluZyI9PXR5cGVvZiBlbmREYXRlJiYodGhpcy5lbmREYXRlPW1vbWVudChlbmREYXRlLHRoaXMuZm9ybWF0KSksIm9iamVjdCI9PXR5cGVvZiBlbmREYXRlJiYodGhpcy5lbmREYXRlPW1vbWVudChlbmREYXRlKSksdGhpcy50aW1lUGlja2VyfHwodGhpcy5lbmREYXRlPXRoaXMuZW5kRGF0ZS5lbmRPZigiZGF5IikpLHRoaXMub2xkRW5kRGF0ZT10aGlzLmVuZERhdGUuY2xvbmUoKSx0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpLHRoaXMudXBkYXRlSW5wdXRUZXh0KCl9LHVwZGF0ZVZpZXc6ZnVuY3Rpb24oKXt0aGlzLmxlZnRDYWxlbmRhci5tb250aC5tb250aCh0aGlzLnN0YXJ0RGF0ZS5tb250aCgpKS55ZWFyKHRoaXMuc3RhcnREYXRlLnllYXIoKSkuaG91cih0aGlzLnN0YXJ0RGF0ZS5ob3VyKCkpLm1pbnV0ZSh0aGlzLnN0YXJ0RGF0ZS5taW51dGUoKSksdGhpcy5yaWdodENhbGVuZGFyLm1vbnRoLm1vbnRoKHRoaXMuZW5kRGF0ZS5tb250aCgpKS55ZWFyKHRoaXMuZW5kRGF0ZS55ZWFyKCkpLmhvdXIodGhpcy5lbmREYXRlLmhvdXIoKSkubWludXRlKHRoaXMuZW5kRGF0ZS5taW51dGUoKSksdGhpcy51cGRhdGVGb3JtSW5wdXRzKCl9LHVwZGF0ZUZvcm1JbnB1dHM6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5maW5kKCJpbnB1dFtuYW1lPWRhdGVyYW5nZXBpY2tlcl9zdGFydF0iKS52YWwodGhpcy5zdGFydERhdGUuZm9ybWF0KHRoaXMuZm9ybWF0KSksdGhpcy5jb250YWluZXIuZmluZCgiaW5wdXRbbmFtZT1kYXRlcmFuZ2VwaWNrZXJfZW5kXSIpLnZhbCh0aGlzLmVuZERhdGUuZm9ybWF0KHRoaXMuZm9ybWF0KSksdGhpcy5zdGFydERhdGUuaXNTYW1lKHRoaXMuZW5kRGF0ZSl8fHRoaXMuc3RhcnREYXRlLmlzQmVmb3JlKHRoaXMuZW5kRGF0ZSk/dGhpcy5jb250YWluZXIuZmluZCgiYnV0dG9uLmFwcGx5QnRuIikucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTp0aGlzLmNvbnRhaW5lci5maW5kKCJidXR0b24uYXBwbHlCdG4iKS5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIil9LHVwZGF0ZUZyb21Db250cm9sOmZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpJiZ0aGlzLmVsZW1lbnQudmFsKCkubGVuZ3RoKXt2YXIgZGF0ZVN0cmluZz10aGlzLmVsZW1lbnQudmFsKCkuc3BsaXQodGhpcy5zZXBhcmF0b3IpLHN0YXJ0PW51bGwsZW5kPW51bGw7Mj09PWRhdGVTdHJpbmcubGVuZ3RoJiYoc3RhcnQ9bW9tZW50KGRhdGVTdHJpbmdbMF0sdGhpcy5mb3JtYXQpLGVuZD1tb21lbnQoZGF0ZVN0cmluZ1sxXSx0aGlzLmZvcm1hdCkpLCh0aGlzLnNpbmdsZURhdGVQaWNrZXJ8fG51bGw9PT1zdGFydHx8bnVsbD09PWVuZCkmJihzdGFydD1tb21lbnQodGhpcy5lbGVtZW50LnZhbCgpLHRoaXMuZm9ybWF0KSxlbmQ9c3RhcnQpLGVuZC5pc0JlZm9yZShzdGFydCl8fCh0aGlzLm9sZFN0YXJ0RGF0ZT10aGlzLnN0YXJ0RGF0ZS5jbG9uZSgpLHRoaXMub2xkRW5kRGF0ZT10aGlzLmVuZERhdGUuY2xvbmUoKSx0aGlzLnN0YXJ0RGF0ZT1zdGFydCx0aGlzLmVuZERhdGU9ZW5kLHRoaXMuc3RhcnREYXRlLmlzU2FtZSh0aGlzLm9sZFN0YXJ0RGF0ZSkmJnRoaXMuZW5kRGF0ZS5pc1NhbWUodGhpcy5vbGRFbmREYXRlKXx8dGhpcy5ub3RpZnkoKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpKX19LG5vdGlmeTpmdW5jdGlvbigpe3RoaXMudXBkYXRlVmlldygpLHRoaXMuY2IodGhpcy5zdGFydERhdGUsdGhpcy5lbmREYXRlLHRoaXMuY2hvc2VuTGFiZWwpfSxtb3ZlOmZ1bmN0aW9uKCl7dmFyIHBhcmVudE9mZnNldD17dG9wOjAsbGVmdDowfSxwYXJlbnRSaWdodEVkZ2U9JCh3aW5kb3cpLndpZHRoKCk7dGhpcy5wYXJlbnRFbC5pcygiYm9keSIpfHwocGFyZW50T2Zmc2V0PXt0b3A6dGhpcy5wYXJlbnRFbC5vZmZzZXQoKS50b3AtdGhpcy5wYXJlbnRFbC5zY3JvbGxUb3AoKSxsZWZ0OnRoaXMucGFyZW50RWwub2Zmc2V0KCkubGVmdC10aGlzLnBhcmVudEVsLnNjcm9sbExlZnQoKX0scGFyZW50UmlnaHRFZGdlPXRoaXMucGFyZW50RWxbMF0uY2xpZW50V2lkdGgrdGhpcy5wYXJlbnRFbC5vZmZzZXQoKS5sZWZ0KSwibGVmdCI9PXRoaXMub3BlbnM/KHRoaXMuY29udGFpbmVyLmNzcyh7dG9wOnRoaXMuZWxlbWVudC5vZmZzZXQoKS50b3ArdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktcGFyZW50T2Zmc2V0LnRvcCxyaWdodDpwYXJlbnRSaWdodEVkZ2UtdGhpcy5lbGVtZW50Lm9mZnNldCgpLmxlZnQtdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxsZWZ0OiJhdXRvIn0pLHRoaXMuY29udGFpbmVyLm9mZnNldCgpLmxlZnQ8MCYmdGhpcy5jb250YWluZXIuY3NzKHtyaWdodDoiYXV0byIsbGVmdDo5fSkpOiJjZW50ZXIiPT10aGlzLm9wZW5zPyh0aGlzLmNvbnRhaW5lci5jc3Moe3RvcDp0aGlzLmVsZW1lbnQub2Zmc2V0KCkudG9wK3RoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXBhcmVudE9mZnNldC50b3AsbGVmdDp0aGlzLmVsZW1lbnQub2Zmc2V0KCkubGVmdC1wYXJlbnRPZmZzZXQubGVmdCt0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLzItdGhpcy5jb250YWluZXIub3V0ZXJXaWR0aCgpLzIscmlnaHQ6ImF1dG8ifSksdGhpcy5jb250YWluZXIub2Zmc2V0KCkubGVmdDwwJiZ0aGlzLmNvbnRhaW5lci5jc3Moe3JpZ2h0OiJhdXRvIixsZWZ0Ojl9KSk6KHRoaXMuY29udGFpbmVyLmNzcyh7dG9wOnRoaXMuZWxlbWVudC5vZmZzZXQoKS50b3ArdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktcGFyZW50T2Zmc2V0LnRvcCxsZWZ0OnRoaXMuZWxlbWVudC5vZmZzZXQoKS5sZWZ0LXBhcmVudE9mZnNldC5sZWZ0LHJpZ2h0OiJhdXRvIn0pLHRoaXMuY29udGFpbmVyLm9mZnNldCgpLmxlZnQrdGhpcy5jb250YWluZXIub3V0ZXJXaWR0aCgpPiQod2luZG93KS53aWR0aCgpJiZ0aGlzLmNvbnRhaW5lci5jc3Moe2xlZnQ6ImF1dG8iLHJpZ2h0OjB9KSl9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIik/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd2luZ3x8KHRoaXMuZWxlbWVudC5hZGRDbGFzcygiYWN0aXZlIiksdGhpcy5jb250YWluZXIuc2hvdygpLHRoaXMubW92ZSgpLHRoaXMuX291dHNpZGVDbGlja1Byb3h5PSQucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5vdXRzaWRlQ2xpY2soZSl9LHRoaXMpLCQoZG9jdW1lbnQpLm9uKCJtb3VzZWRvd24uZGF0ZXJhbmdlcGlja2VyIix0aGlzLl9vdXRzaWRlQ2xpY2tQcm94eSkub24oImNsaWNrLmRhdGVyYW5nZXBpY2tlciIsIltkYXRhLXRvZ2dsZT1kcm9wZG93bl0iLHRoaXMuX291dHNpZGVDbGlja1Byb3h5KS5vbigiZm9jdXNpbi5kYXRlcmFuZ2VwaWNrZXIiLHRoaXMuX291dHNpZGVDbGlja1Byb3h5KSx0aGlzLmlzU2hvd2luZz0hMCx0aGlzLmVsZW1lbnQudHJpZ2dlcigic2hvdy5kYXRlcmFuZ2VwaWNrZXIiLHRoaXMpKX0sb3V0c2lkZUNsaWNrOmZ1bmN0aW9uKGUpe3ZhciB0YXJnZXQ9JChlLnRhcmdldCk7dGFyZ2V0LmNsb3Nlc3QodGhpcy5lbGVtZW50KS5sZW5ndGh8fHRhcmdldC5jbG9zZXN0KHRoaXMuY29udGFpbmVyKS5sZW5ndGh8fHRhcmdldC5jbG9zZXN0KCIuY2FsZW5kYXItZGF0ZSIpLmxlbmd0aHx8dGhpcy5oaWRlKCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd2luZyYmKCQoZG9jdW1lbnQpLm9mZigibW91c2Vkb3duLmRhdGVyYW5nZXBpY2tlciIpLm9mZigiY2xpY2suZGF0ZXJhbmdlcGlja2VyIiwiW2RhdGEtdG9nZ2xlPWRyb3Bkb3duXSIpLm9mZigiZm9jdXNpbi5kYXRlcmFuZ2VwaWNrZXIiKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLHRoaXMuY29udGFpbmVyLmhpZGUoKSx0aGlzLnN0YXJ0RGF0ZS5pc1NhbWUodGhpcy5vbGRTdGFydERhdGUpJiZ0aGlzLmVuZERhdGUuaXNTYW1lKHRoaXMub2xkRW5kRGF0ZSl8fHRoaXMubm90aWZ5KCksdGhpcy5vbGRTdGFydERhdGU9dGhpcy5zdGFydERhdGUuY2xvbmUoKSx0aGlzLm9sZEVuZERhdGU9dGhpcy5lbmREYXRlLmNsb25lKCksdGhpcy5pc1Nob3dpbmc9ITEsdGhpcy5lbGVtZW50LnRyaWdnZXIoImhpZGUuZGF0ZXJhbmdlcGlja2VyIix0aGlzKSl9LGVudGVyUmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIGxhYmVsPWUudGFyZ2V0LmlubmVySFRNTDtpZihsYWJlbD09dGhpcy5sb2NhbGUuY3VzdG9tUmFuZ2VMYWJlbCl0aGlzLnVwZGF0ZVZpZXcoKTtlbHNle3ZhciBkYXRlcz10aGlzLnJhbmdlc1tsYWJlbF07dGhpcy5jb250YWluZXIuZmluZCgiaW5wdXRbbmFtZT1kYXRlcmFuZ2VwaWNrZXJfc3RhcnRdIikudmFsKGRhdGVzWzBdLmZvcm1hdCh0aGlzLmZvcm1hdCkpLHRoaXMuY29udGFpbmVyLmZpbmQoImlucHV0W25hbWU9ZGF0ZXJhbmdlcGlja2VyX2VuZF0iKS52YWwoZGF0ZXNbMV0uZm9ybWF0KHRoaXMuZm9ybWF0KSl9fSxzaG93Q2FsZW5kYXJzOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXIuYWRkQ2xhc3MoInNob3ctY2FsZW5kYXIiKSx0aGlzLm1vdmUoKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigic2hvd0NhbGVuZGFyLmRhdGVyYW5nZXBpY2tlciIsdGhpcyl9LGhpZGVDYWxlbmRhcnM6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcygic2hvdy1jYWxlbmRhciIpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJoaWRlQ2FsZW5kYXIuZGF0ZXJhbmdlcGlja2VyIix0aGlzKX0saW5wdXRzQ2hhbmdlZDpmdW5jdGlvbihlKXt2YXIgZWw9JChlLnRhcmdldCksZGF0ZT1tb21lbnQoZWwudmFsKCksdGhpcy5mb3JtYXQpO2lmKGRhdGUuaXNWYWxpZCgpKXt2YXIgc3RhcnREYXRlLGVuZERhdGU7ImRhdGVyYW5nZXBpY2tlcl9zdGFydCI9PT1lbC5hdHRyKCJuYW1lIik/KHN0YXJ0RGF0ZT1kYXRlLGVuZERhdGU9dGhpcy5lbmREYXRlKTooc3RhcnREYXRlPXRoaXMuc3RhcnREYXRlLGVuZERhdGU9ZGF0ZSksdGhpcy5zZXRDdXN0b21EYXRlcyhzdGFydERhdGUsZW5kRGF0ZSl9fSxpbnB1dHNLZXlkb3duOmZ1bmN0aW9uKGUpezEzPT09ZS5rZXlDb2RlJiYodGhpcy5pbnB1dHNDaGFuZ2VkKGUpLHRoaXMubm90aWZ5KCkpfSx1cGRhdGVJbnB1dFRleHQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLnNpbmdsZURhdGVQaWNrZXI/dGhpcy5lbGVtZW50LnZhbCh0aGlzLnN0YXJ0RGF0ZS5mb3JtYXQodGhpcy5mb3JtYXQpK3RoaXMuc2VwYXJhdG9yK3RoaXMuZW5kRGF0ZS5mb3JtYXQodGhpcy5mb3JtYXQpKTp0aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJnRoaXMuZWxlbWVudC52YWwodGhpcy5lbmREYXRlLmZvcm1hdCh0aGlzLmZvcm1hdCkpfSxjbGlja1JhbmdlOmZ1bmN0aW9uKGUpe3ZhciBsYWJlbD1lLnRhcmdldC5pbm5lckhUTUw7aWYodGhpcy5jaG9zZW5MYWJlbD1sYWJlbCxsYWJlbD09dGhpcy5sb2NhbGUuY3VzdG9tUmFuZ2VMYWJlbCl0aGlzLnNob3dDYWxlbmRhcnMoKTtlbHNle3ZhciBkYXRlcz10aGlzLnJhbmdlc1tsYWJlbF07dGhpcy5zdGFydERhdGU9ZGF0ZXNbMF0sdGhpcy5lbmREYXRlPWRhdGVzWzFdLHRoaXMudGltZVBpY2tlcnx8KHRoaXMuc3RhcnREYXRlLnN0YXJ0T2YoImRheSIpLHRoaXMuZW5kRGF0ZS5lbmRPZigiZGF5IikpLHRoaXMubGVmdENhbGVuZGFyLm1vbnRoLm1vbnRoKHRoaXMuc3RhcnREYXRlLm1vbnRoKCkpLnllYXIodGhpcy5zdGFydERhdGUueWVhcigpKS5ob3VyKHRoaXMuc3RhcnREYXRlLmhvdXIoKSkubWludXRlKHRoaXMuc3RhcnREYXRlLm1pbnV0ZSgpKSx0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGgubW9udGgodGhpcy5lbmREYXRlLm1vbnRoKCkpLnllYXIodGhpcy5lbmREYXRlLnllYXIoKSkuaG91cih0aGlzLmVuZERhdGUuaG91cigpKS5taW51dGUodGhpcy5lbmREYXRlLm1pbnV0ZSgpKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpLHRoaXMudXBkYXRlSW5wdXRUZXh0KCksdGhpcy5oaWRlQ2FsZW5kYXJzKCksdGhpcy5oaWRlKCksdGhpcy5lbGVtZW50LnRyaWdnZXIoImFwcGx5LmRhdGVyYW5nZXBpY2tlciIsdGhpcyl9fSxjbGlja1ByZXY6ZnVuY3Rpb24oZSl7dmFyIGNhbD0kKGUudGFyZ2V0KS5wYXJlbnRzKCIuY2FsZW5kYXIiKTtjYWwuaGFzQ2xhc3MoImxlZnQiKT90aGlzLmxlZnRDYWxlbmRhci5tb250aC5zdWJ0cmFjdCgxLCJtb250aCIpOnRoaXMucmlnaHRDYWxlbmRhci5tb250aC5zdWJ0cmFjdCgxLCJtb250aCIpLHRoaXMudXBkYXRlQ2FsZW5kYXJzKCl9LGNsaWNrTmV4dDpmdW5jdGlvbihlKXt2YXIgY2FsPSQoZS50YXJnZXQpLnBhcmVudHMoIi5jYWxlbmRhciIpO2NhbC5oYXNDbGFzcygibGVmdCIpP3RoaXMubGVmdENhbGVuZGFyLm1vbnRoLmFkZCgxLCJtb250aCIpOnRoaXMucmlnaHRDYWxlbmRhci5tb250aC5hZGQoMSwibW9udGgiKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpfSxob3ZlckRhdGU6ZnVuY3Rpb24oZSl7dmFyIHRpdGxlPSQoZS50YXJnZXQpLmF0dHIoImRhdGEtdGl0bGUiKSxyb3c9dGl0bGUuc3Vic3RyKDEsMSksY29sPXRpdGxlLnN1YnN0cigzLDEpLGNhbD0kKGUudGFyZ2V0KS5wYXJlbnRzKCIuY2FsZW5kYXIiKTtjYWwuaGFzQ2xhc3MoImxlZnQiKT90aGlzLmNvbnRhaW5lci5maW5kKCJpbnB1dFtuYW1lPWRhdGVyYW5nZXBpY2tlcl9zdGFydF0iKS52YWwodGhpcy5sZWZ0Q2FsZW5kYXIuY2FsZW5kYXJbcm93XVtjb2xdLmZvcm1hdCh0aGlzLmZvcm1hdCkpOnRoaXMuY29udGFpbmVyLmZpbmQoImlucHV0W25hbWU9ZGF0ZXJhbmdlcGlja2VyX2VuZF0iKS52YWwodGhpcy5yaWdodENhbGVuZGFyLmNhbGVuZGFyW3Jvd11bY29sXS5mb3JtYXQodGhpcy5mb3JtYXQpKX0sc2V0Q3VzdG9tRGF0ZXM6ZnVuY3Rpb24oc3RhcnREYXRlLGVuZERhdGUpe2lmKHRoaXMuY2hvc2VuTGFiZWw9dGhpcy5sb2NhbGUuY3VzdG9tUmFuZ2VMYWJlbCxzdGFydERhdGUuaXNBZnRlcihlbmREYXRlKSl7dmFyIGRpZmZlcmVuY2U9dGhpcy5lbmREYXRlLmRpZmYodGhpcy5zdGFydERhdGUpO2VuZERhdGU9bW9tZW50KHN0YXJ0RGF0ZSkuYWRkKGRpZmZlcmVuY2UsIm1zIil9dGhpcy5zdGFydERhdGU9c3RhcnREYXRlLHRoaXMuZW5kRGF0ZT1lbmREYXRlLHRoaXMudXBkYXRlVmlldygpLHRoaXMudXBkYXRlQ2FsZW5kYXJzKCl9LGNsaWNrRGF0ZTpmdW5jdGlvbihlKXt2YXIgc3RhcnREYXRlLGVuZERhdGUsdGl0bGU9JChlLnRhcmdldCkuYXR0cigiZGF0YS10aXRsZSIpLHJvdz10aXRsZS5zdWJzdHIoMSwxKSxjb2w9dGl0bGUuc3Vic3RyKDMsMSksY2FsPSQoZS50YXJnZXQpLnBhcmVudHMoIi5jYWxlbmRhciIpO2lmKGNhbC5oYXNDbGFzcygibGVmdCIpKXtpZihzdGFydERhdGU9dGhpcy5sZWZ0Q2FsZW5kYXIuY2FsZW5kYXJbcm93XVtjb2xdLGVuZERhdGU9dGhpcy5lbmREYXRlLCJvYmplY3QiPT10eXBlb2YgdGhpcy5kYXRlTGltaXQpe3ZhciBtYXhEYXRlPW1vbWVudChzdGFydERhdGUpLmFkZCh0aGlzLmRhdGVMaW1pdCkuc3RhcnRPZigiZGF5Iik7ZW5kRGF0ZS5pc0FmdGVyKG1heERhdGUpJiYoZW5kRGF0ZT1tYXhEYXRlKX19ZWxzZSBpZihzdGFydERhdGU9dGhpcy5zdGFydERhdGUsZW5kRGF0ZT10aGlzLnJpZ2h0Q2FsZW5kYXIuY2FsZW5kYXJbcm93XVtjb2xdLCJvYmplY3QiPT10eXBlb2YgdGhpcy5kYXRlTGltaXQpe3ZhciBtaW5EYXRlPW1vbWVudChlbmREYXRlKS5zdWJ0cmFjdCh0aGlzLmRhdGVMaW1pdCkuc3RhcnRPZigiZGF5Iik7c3RhcnREYXRlLmlzQmVmb3JlKG1pbkRhdGUpJiYoc3RhcnREYXRlPW1pbkRhdGUpfXRoaXMuc2luZ2xlRGF0ZVBpY2tlciYmY2FsLmhhc0NsYXNzKCJsZWZ0Iik/ZW5kRGF0ZT1zdGFydERhdGUuY2xvbmUoKTp0aGlzLnNpbmdsZURhdGVQaWNrZXImJmNhbC5oYXNDbGFzcygicmlnaHQiKSYmKHN0YXJ0RGF0ZT1lbmREYXRlLmNsb25lKCkpLGNhbC5maW5kKCJ0ZCIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSwkKGUudGFyZ2V0KS5hZGRDbGFzcygiYWN0aXZlIiksdGhpcy5zZXRDdXN0b21EYXRlcyhzdGFydERhdGUsZW5kRGF0ZSksdGhpcy50aW1lUGlja2VyfHxlbmREYXRlLmVuZE9mKCJkYXkiKSx0aGlzLnNpbmdsZURhdGVQaWNrZXImJiF0aGlzLnRpbWVQaWNrZXImJnRoaXMuY2xpY2tBcHBseSgpfSxjbGlja0FwcGx5OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVJbnB1dFRleHQoKSx0aGlzLmhpZGUoKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiYXBwbHkuZGF0ZXJhbmdlcGlja2VyIix0aGlzKX0sY2xpY2tDYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0RGF0ZT10aGlzLm9sZFN0YXJ0RGF0ZSx0aGlzLmVuZERhdGU9dGhpcy5vbGRFbmREYXRlLHRoaXMuY2hvc2VuTGFiZWw9dGhpcy5vbGRDaG9zZW5MYWJlbCx0aGlzLnVwZGF0ZVZpZXcoKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpLHRoaXMuaGlkZSgpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJjYW5jZWwuZGF0ZXJhbmdlcGlja2VyIix0aGlzKX0sdXBkYXRlTW9udGhZZWFyOmZ1bmN0aW9uKGUpe3ZhciBpc0xlZnQ9JChlLnRhcmdldCkuY2xvc2VzdCgiLmNhbGVuZGFyIikuaGFzQ2xhc3MoImxlZnQiKSxsZWZ0T3JSaWdodD1pc0xlZnQ/ImxlZnQiOiJyaWdodCIsY2FsPXRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhci4iK2xlZnRPclJpZ2h0KSxtb250aD1wYXJzZUludChjYWwuZmluZCgiLm1vbnRoc2VsZWN0IikudmFsKCksMTApLHllYXI9Y2FsLmZpbmQoIi55ZWFyc2VsZWN0IikudmFsKCk7dGhpc1tsZWZ0T3JSaWdodCsiQ2FsZW5kYXIiXS5tb250aC5tb250aChtb250aCkueWVhcih5ZWFyKSx0aGlzLnVwZGF0ZUNhbGVuZGFycygpfSx1cGRhdGVUaW1lOmZ1bmN0aW9uKGUpe3ZhciBjYWw9JChlLnRhcmdldCkuY2xvc2VzdCgiLmNhbGVuZGFyIiksaXNMZWZ0PWNhbC5oYXNDbGFzcygibGVmdCIpLGhvdXI9cGFyc2VJbnQoY2FsLmZpbmQoIi5ob3Vyc2VsZWN0IikudmFsKCksMTApLG1pbnV0ZT1wYXJzZUludChjYWwuZmluZCgiLm1pbnV0ZXNlbGVjdCIpLnZhbCgpLDEwKTtpZih0aGlzLnRpbWVQaWNrZXIxMkhvdXIpe3ZhciBhbXBtPWNhbC5maW5kKCIuYW1wbXNlbGVjdCIpLnZhbCgpOyJQTSI9PT1hbXBtJiYxMj5ob3VyJiYoaG91cis9MTIpLCJBTSI9PT1hbXBtJiYxMj09PWhvdXImJihob3VyPTApfWlmKGlzTGVmdCl7dmFyIHN0YXJ0PXRoaXMuc3RhcnREYXRlLmNsb25lKCk7c3RhcnQuaG91cihob3VyKSxzdGFydC5taW51dGUobWludXRlKSx0aGlzLnN0YXJ0RGF0ZT1zdGFydCx0aGlzLmxlZnRDYWxlbmRhci5tb250aC5ob3VyKGhvdXIpLm1pbnV0ZShtaW51dGUpLHRoaXMuc2luZ2xlRGF0ZVBpY2tlciYmKHRoaXMuZW5kRGF0ZT1zdGFydC5jbG9uZSgpKX1lbHNle3ZhciBlbmQ9dGhpcy5lbmREYXRlLmNsb25lKCk7ZW5kLmhvdXIoaG91ciksZW5kLm1pbnV0ZShtaW51dGUpLHRoaXMuZW5kRGF0ZT1lbmQsdGhpcy5zaW5nbGVEYXRlUGlja2VyJiYodGhpcy5zdGFydERhdGU9ZW5kLmNsb25lKCkpLHRoaXMucmlnaHRDYWxlbmRhci5tb250aC5ob3VyKGhvdXIpLm1pbnV0ZShtaW51dGUpfXRoaXMudXBkYXRlQ2FsZW5kYXJzKCl9LHVwZGF0ZUNhbGVuZGFyczpmdW5jdGlvbigpe3RoaXMubGVmdENhbGVuZGFyLmNhbGVuZGFyPXRoaXMuYnVpbGRDYWxlbmRhcih0aGlzLmxlZnRDYWxlbmRhci5tb250aC5tb250aCgpLHRoaXMubGVmdENhbGVuZGFyLm1vbnRoLnllYXIoKSx0aGlzLmxlZnRDYWxlbmRhci5tb250aC5ob3VyKCksdGhpcy5sZWZ0Q2FsZW5kYXIubW9udGgubWludXRlKCksImxlZnQiKSx0aGlzLnJpZ2h0Q2FsZW5kYXIuY2FsZW5kYXI9dGhpcy5idWlsZENhbGVuZGFyKHRoaXMucmlnaHRDYWxlbmRhci5tb250aC5tb250aCgpLHRoaXMucmlnaHRDYWxlbmRhci5tb250aC55ZWFyKCksdGhpcy5yaWdodENhbGVuZGFyLm1vbnRoLmhvdXIoKSx0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGgubWludXRlKCksInJpZ2h0IiksdGhpcy5jb250YWluZXIuZmluZCgiLmNhbGVuZGFyLmxlZnQiKS5lbXB0eSgpLmh0bWwodGhpcy5yZW5kZXJDYWxlbmRhcih0aGlzLmxlZnRDYWxlbmRhci5jYWxlbmRhcix0aGlzLnN0YXJ0RGF0ZSx0aGlzLm1pbkRhdGUsdGhpcy5tYXhEYXRlLCJsZWZ0IikpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5jYWxlbmRhci5yaWdodCIpLmVtcHR5KCkuaHRtbCh0aGlzLnJlbmRlckNhbGVuZGFyKHRoaXMucmlnaHRDYWxlbmRhci5jYWxlbmRhcix0aGlzLmVuZERhdGUsdGhpcy5zaW5nbGVEYXRlUGlja2VyP3RoaXMubWluRGF0ZTp0aGlzLnN0YXJ0RGF0ZSx0aGlzLm1heERhdGUsInJpZ2h0IikpLHRoaXMuY29udGFpbmVyLmZpbmQoIi5yYW5nZXMgbGkiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7dmFyIGN1c3RvbVJhbmdlPSEwLGk9MDtmb3IodmFyIHJhbmdlIGluIHRoaXMucmFuZ2VzKXRoaXMudGltZVBpY2tlcj90aGlzLnN0YXJ0RGF0ZS5pc1NhbWUodGhpcy5yYW5nZXNbcmFuZ2VdWzBdKSYmdGhpcy5lbmREYXRlLmlzU2FtZSh0aGlzLnJhbmdlc1tyYW5nZV1bMV0pJiYoY3VzdG9tUmFuZ2U9ITEsdGhpcy5jaG9zZW5MYWJlbD10aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIGxpOmVxKCIraSsiKSIpLmFkZENsYXNzKCJhY3RpdmUiKS5odG1sKCkpOnRoaXMuc3RhcnREYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT10aGlzLnJhbmdlc1tyYW5nZV1bMF0uZm9ybWF0KCJZWVlZLU1NLUREIikmJnRoaXMuZW5kRGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKT09dGhpcy5yYW5nZXNbcmFuZ2VdWzFdLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiYoY3VzdG9tUmFuZ2U9ITEsdGhpcy5jaG9zZW5MYWJlbD10aGlzLmNvbnRhaW5lci5maW5kKCIucmFuZ2VzIGxpOmVxKCIraSsiKSIpLmFkZENsYXNzKCJhY3RpdmUiKS5odG1sKCkpLGkrKztjdXN0b21SYW5nZSYmKHRoaXMuY2hvc2VuTGFiZWw9dGhpcy5jb250YWluZXIuZmluZCgiLnJhbmdlcyBsaTpsYXN0IikuYWRkQ2xhc3MoImFjdGl2ZSIpLmh0bWwoKSx0aGlzLnNob3dDYWxlbmRhcnMoKSl9LGJ1aWxkQ2FsZW5kYXI6ZnVuY3Rpb24obW9udGgseWVhcixob3VyLG1pbnV0ZSxzaWRlKXt2YXIgaSxkYXlzSW5Nb250aD1tb21lbnQoW3llYXIsbW9udGhdKS5kYXlzSW5Nb250aCgpLGZpcnN0RGF5PW1vbWVudChbeWVhcixtb250aCwxXSksbGFzdERheT1tb21lbnQoW3llYXIsbW9udGgsZGF5c0luTW9udGhdKSxsYXN0TW9udGg9bW9tZW50KGZpcnN0RGF5KS5zdWJ0cmFjdCgxLCJtb250aCIpLm1vbnRoKCksbGFzdFllYXI9bW9tZW50KGZpcnN0RGF5KS5zdWJ0cmFjdCgxLCJtb250aCIpLnllYXIoKSxkYXlzSW5MYXN0TW9udGg9bW9tZW50KFtsYXN0WWVhcixsYXN0TW9udGhdKS5kYXlzSW5Nb250aCgpLGRheU9mV2Vlaz1maXJzdERheS5kYXkoKSxjYWxlbmRhcj1bXTtmb3IoY2FsZW5kYXIuZmlyc3REYXk9Zmlyc3REYXksY2FsZW5kYXIubGFzdERheT1sYXN0RGF5LGk9MDs2Pmk7aSsrKWNhbGVuZGFyW2ldPVtdO3ZhciBzdGFydERheT1kYXlzSW5MYXN0TW9udGgtZGF5T2ZXZWVrK3RoaXMubG9jYWxlLmZpcnN0RGF5KzE7c3RhcnREYXk+ZGF5c0luTGFzdE1vbnRoJiYoc3RhcnREYXktPTcpLGRheU9mV2Vlaz09dGhpcy5sb2NhbGUuZmlyc3REYXkmJihzdGFydERheT1kYXlzSW5MYXN0TW9udGgtNik7dmFyIGNvbCxyb3csY3VyRGF0ZT1tb21lbnQoW2xhc3RZZWFyLGxhc3RNb250aCxzdGFydERheSwxMixtaW51dGVdKTtmb3IoaT0wLGNvbD0wLHJvdz0wOzQyPmk7aSsrLGNvbCsrLGN1ckRhdGU9bW9tZW50KGN1ckRhdGUpLmFkZCgyNCwiaG91ciIpKWk+MCYmY29sJTc9PT0wJiYoY29sPTAscm93KyspLGNhbGVuZGFyW3Jvd11bY29sXT1jdXJEYXRlLmNsb25lKCkuaG91cihob3VyKSxjdXJEYXRlLmhvdXIoMTIpLHRoaXMubWluRGF0ZSYmY2FsZW5kYXJbcm93XVtjb2xdLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT10aGlzLm1pbkRhdGUuZm9ybWF0KCJZWVlZLU1NLUREIikmJmNhbGVuZGFyW3Jvd11bY29sXS5pc0JlZm9yZSh0aGlzLm1pbkRhdGUpJiYibGVmdCI9PXNpZGUmJihjYWxlbmRhcltyb3ddW2NvbF09dGhpcy5taW5EYXRlLmNsb25lKCkpLHRoaXMubWF4RGF0ZSYmY2FsZW5kYXJbcm93XVtjb2xdLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT10aGlzLm1heERhdGUuZm9ybWF0KCJZWVlZLU1NLUREIikmJmNhbGVuZGFyW3Jvd11bY29sXS5pc0FmdGVyKHRoaXMubWF4RGF0ZSkmJiJyaWdodCI9PXNpZGUmJihjYWxlbmRhcltyb3ddW2NvbF09dGhpcy5tYXhEYXRlLmNsb25lKCkpO3JldHVybiBjYWxlbmRhcn0scmVuZGVyRHJvcGRvd25zOmZ1bmN0aW9uKHNlbGVjdGVkLG1pbkRhdGUsbWF4RGF0ZSl7Zm9yKHZhciBjdXJyZW50TW9udGg9c2VsZWN0ZWQubW9udGgoKSxjdXJyZW50WWVhcj1zZWxlY3RlZC55ZWFyKCksbWF4WWVhcj1tYXhEYXRlJiZtYXhEYXRlLnllYXIoKXx8Y3VycmVudFllYXIrNSxtaW5ZZWFyPW1pbkRhdGUmJm1pbkRhdGUueWVhcigpfHxjdXJyZW50WWVhci01MCxtb250aEh0bWw9JzxzZWxlY3QgY2xhc3M9Im1vbnRoc2VsZWN0Ij4nLGluTWluWWVhcj1jdXJyZW50WWVhcj09bWluWWVhcixpbk1heFllYXI9Y3VycmVudFllYXI9PW1heFllYXIsbT0wOzEyPm07bSsrKSghaW5NaW5ZZWFyfHxtPj1taW5EYXRlLm1vbnRoKCkpJiYoIWluTWF4WWVhcnx8bTw9bWF4RGF0ZS5tb250aCgpKSYmKG1vbnRoSHRtbCs9IjxvcHRpb24gdmFsdWU9JyIrbSsiJyIrKG09PT1jdXJyZW50TW9udGg/IiBzZWxlY3RlZD0nc2VsZWN0ZWQnIjoiIikrIj4iK3RoaXMubG9jYWxlLm1vbnRoTmFtZXNbbV0rIjwvb3B0aW9uPiIpO21vbnRoSHRtbCs9Ijwvc2VsZWN0PiI7Zm9yKHZhciB5ZWFySHRtbD0nPHNlbGVjdCBjbGFzcz0ieWVhcnNlbGVjdCI+Jyx5PW1pblllYXI7bWF4WWVhcj49eTt5KyspeWVhckh0bWwrPSc8b3B0aW9uIHZhbHVlPSInK3krJyInKyh5PT09Y3VycmVudFllYXI/JyBzZWxlY3RlZD0ic2VsZWN0ZWQiJzoiIikrIj4iK3krIjwvb3B0aW9uPiI7cmV0dXJuIHllYXJIdG1sKz0iPC9zZWxlY3Q+Iixtb250aEh0bWwreWVhckh0bWx9LHJlbmRlckNhbGVuZGFyOmZ1bmN0aW9uKGNhbGVuZGFyLHNlbGVjdGVkLG1pbkRhdGUsbWF4RGF0ZSxzaWRlKXt2YXIgaHRtbD0nPGRpdiBjbGFzcz0iY2FsZW5kYXItZGF0ZSI+JztodG1sKz0nPHRhYmxlIGNsYXNzPSJ0YWJsZS1jb25kZW5zZWQiPicsaHRtbCs9Ijx0aGVhZD4iLGh0bWwrPSI8dHI+Iix0aGlzLnNob3dXZWVrTnVtYmVycyYmKGh0bWwrPSI8dGg+PC90aD4iKSxodG1sKz0hbWluRGF0ZXx8bWluRGF0ZS5pc0JlZm9yZShjYWxlbmRhci5maXJzdERheSk/Jzx0aCBjbGFzcz0icHJldiBhdmFpbGFibGUiPjxpIGNsYXNzPSJmYSBmYS1hcnJvdy1sZWZ0IGljb24tYXJyb3ctbGVmdCBnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWxlZnQiPjwvaT48L3RoPic6Ijx0aD48L3RoPiI7dmFyIGRhdGVIdG1sPXRoaXMubG9jYWxlLm1vbnRoTmFtZXNbY2FsZW5kYXJbMV1bMV0ubW9udGgoKV0rY2FsZW5kYXJbMV1bMV0uZm9ybWF0KCIgWVlZWSIpO3RoaXMuc2hvd0Ryb3Bkb3ducyYmKGRhdGVIdG1sPXRoaXMucmVuZGVyRHJvcGRvd25zKGNhbGVuZGFyWzFdWzFdLG1pbkRhdGUsbWF4RGF0ZSkpLGh0bWwrPSc8dGggY29sc3Bhbj0iNSIgY2xhc3M9Im1vbnRoIj4nK2RhdGVIdG1sKyI8L3RoPiIsaHRtbCs9IW1heERhdGV8fG1heERhdGUuaXNBZnRlcihjYWxlbmRhci5sYXN0RGF5KT8nPHRoIGNsYXNzPSJuZXh0IGF2YWlsYWJsZSI+PGkgY2xhc3M9ImZhIGZhLWFycm93LXJpZ2h0IGljb24tYXJyb3ctcmlnaHQgZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy1yaWdodCI+PC9pPjwvdGg+JzoiPHRoPjwvdGg+IixodG1sKz0iPC90cj4iLGh0bWwrPSI8dHI+Iix0aGlzLnNob3dXZWVrTnVtYmVycyYmKGh0bWwrPSc8dGggY2xhc3M9IndlZWsiPicrdGhpcy5sb2NhbGUud2Vla0xhYmVsKyI8L3RoPiIpLCQuZWFjaCh0aGlzLmxvY2FsZS5kYXlzT2ZXZWVrLGZ1bmN0aW9uKGluZGV4LGRheU9mV2Vlayl7aHRtbCs9Ijx0aD4iK2RheU9mV2VlaysiPC90aD4ifSksaHRtbCs9IjwvdHI+IixodG1sKz0iPC90aGVhZD4iLGh0bWwrPSI8dGJvZHk+Ijtmb3IodmFyIHJvdz0wOzY+cm93O3JvdysrKXtodG1sKz0iPHRyPiIsdGhpcy5zaG93V2Vla051bWJlcnMmJihodG1sKz0nPHRkIGNsYXNzPSJ3ZWVrIj4nK2NhbGVuZGFyW3Jvd11bMF0ud2VlaygpKyI8L3RkPiIpO2Zvcih2YXIgY29sPTA7Nz5jb2w7Y29sKyspe3ZhciBjbmFtZT0iYXZhaWxhYmxlICI7Y25hbWUrPWNhbGVuZGFyW3Jvd11bY29sXS5tb250aCgpPT1jYWxlbmRhclsxXVsxXS5tb250aCgpPyIiOiJvZmYiLG1pbkRhdGUmJmNhbGVuZGFyW3Jvd11bY29sXS5pc0JlZm9yZShtaW5EYXRlLCJkYXkiKXx8bWF4RGF0ZSYmY2FsZW5kYXJbcm93XVtjb2xdLmlzQWZ0ZXIobWF4RGF0ZSwiZGF5Iik/Y25hbWU9IiBvZmYgZGlzYWJsZWQgIjpjYWxlbmRhcltyb3ddW2NvbF0uZm9ybWF0KCJZWVlZLU1NLUREIik9PXNlbGVjdGVkLmZvcm1hdCgiWVlZWS1NTS1ERCIpPyhjbmFtZSs9IiBhY3RpdmUgIixjYWxlbmRhcltyb3ddW2NvbF0uZm9ybWF0KCJZWVlZLU1NLUREIik9PXRoaXMuc3RhcnREYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiYoY25hbWUrPSIgc3RhcnQtZGF0ZSAiKSxjYWxlbmRhcltyb3ddW2NvbF0uZm9ybWF0KCJZWVlZLU1NLUREIik9PXRoaXMuZW5kRGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKSYmKGNuYW1lKz0iIGVuZC1kYXRlICIpKTpjYWxlbmRhcltyb3ddW2NvbF0+PXRoaXMuc3RhcnREYXRlJiZjYWxlbmRhcltyb3ddW2NvbF08PXRoaXMuZW5kRGF0ZSYmKGNuYW1lKz0iIGluLXJhbmdlICIsY2FsZW5kYXJbcm93XVtjb2xdLmlzU2FtZSh0aGlzLnN0YXJ0RGF0ZSkmJihjbmFtZSs9IiBzdGFydC1kYXRlICIpLGNhbGVuZGFyW3Jvd11bY29sXS5pc1NhbWUodGhpcy5lbmREYXRlKSYmKGNuYW1lKz0iIGVuZC1kYXRlICIpKTsKdmFyIHRpdGxlPSJyIityb3crImMiK2NvbDtodG1sKz0nPHRkIGNsYXNzPSInK2NuYW1lLnJlcGxhY2UoL1xzKy9nLCIgIikucmVwbGFjZSgvXlxzPyguKj8pXHM/JC8sIiQxIikrJyIgZGF0YS10aXRsZT0iJyt0aXRsZSsnIj4nK2NhbGVuZGFyW3Jvd11bY29sXS5kYXRlKCkrIjwvdGQ+In1odG1sKz0iPC90cj4ifWh0bWwrPSI8L3Rib2R5PiIsaHRtbCs9IjwvdGFibGU+IixodG1sKz0iPC9kaXY+Ijt2YXIgaTtpZih0aGlzLnRpbWVQaWNrZXIpe2h0bWwrPSc8ZGl2IGNsYXNzPSJjYWxlbmRhci10aW1lIj4nLGh0bWwrPSc8c2VsZWN0IGNsYXNzPSJob3Vyc2VsZWN0Ij4nO3ZhciBtaW5faG91cj0wLG1heF9ob3VyPTIzO21pbkRhdGUmJigibGVmdCI9PXNpZGV8fHRoaXMuc2luZ2xlRGF0ZVBpY2tlcikmJnNlbGVjdGVkLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT1taW5EYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiYobWluX2hvdXI9bWluRGF0ZS5ob3VyKCksc2VsZWN0ZWQuaG91cigpPG1pbl9ob3VyJiZzZWxlY3RlZC5ob3VyKG1pbl9ob3VyKSx0aGlzLnRpbWVQaWNrZXIxMkhvdXImJm1pbl9ob3VyPj0xMiYmc2VsZWN0ZWQuaG91cigpPj0xMiYmKG1pbl9ob3VyLT0xMiksdGhpcy50aW1lUGlja2VyMTJIb3VyJiYxMj09bWluX2hvdXImJihtaW5faG91cj0xKSksbWF4RGF0ZSYmKCJyaWdodCI9PXNpZGV8fHRoaXMuc2luZ2xlRGF0ZVBpY2tlcikmJnNlbGVjdGVkLmZvcm1hdCgiWVlZWS1NTS1ERCIpPT1tYXhEYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpJiYobWF4X2hvdXI9bWF4RGF0ZS5ob3VyKCksc2VsZWN0ZWQuaG91cigpPm1heF9ob3VyJiZzZWxlY3RlZC5ob3VyKG1heF9ob3VyKSx0aGlzLnRpbWVQaWNrZXIxMkhvdXImJm1heF9ob3VyPj0xMiYmc2VsZWN0ZWQuaG91cigpPj0xMiYmKG1heF9ob3VyLT0xMikpO3ZhciBzdGFydD0wLGVuZD0yMyxzZWxlY3RlZF9ob3VyPXNlbGVjdGVkLmhvdXIoKTtmb3IodGhpcy50aW1lUGlja2VyMTJIb3VyJiYoc3RhcnQ9MSxlbmQ9MTIsc2VsZWN0ZWRfaG91cj49MTImJihzZWxlY3RlZF9ob3VyLT0xMiksMD09PXNlbGVjdGVkX2hvdXImJihzZWxlY3RlZF9ob3VyPTEyKSksaT1zdGFydDtlbmQ+PWk7aSsrKWh0bWwrPWk9PXNlbGVjdGVkX2hvdXI/JzxvcHRpb24gdmFsdWU9IicraSsnIiBzZWxlY3RlZD0ic2VsZWN0ZWQiPicraSsiPC9vcHRpb24+IjptaW5faG91cj5pfHxpPm1heF9ob3VyPyc8b3B0aW9uIHZhbHVlPSInK2krJyIgZGlzYWJsZWQ9ImRpc2FibGVkIiBjbGFzcz0iZGlzYWJsZWQiPicraSsiPC9vcHRpb24+IjonPG9wdGlvbiB2YWx1ZT0iJytpKyciPicraSsiPC9vcHRpb24+IjtodG1sKz0iPC9zZWxlY3Q+IDogIixodG1sKz0nPHNlbGVjdCBjbGFzcz0ibWludXRlc2VsZWN0Ij4nO3ZhciBtaW5fbWludXRlPTAsbWF4X21pbnV0ZT01OTtmb3IobWluRGF0ZSYmKCJsZWZ0Ij09c2lkZXx8dGhpcy5zaW5nbGVEYXRlUGlja2VyKSYmc2VsZWN0ZWQuZm9ybWF0KCJZWVlZLU1NLUREIGggQSIpPT1taW5EYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCBoIEEiKSYmKG1pbl9taW51dGU9bWluRGF0ZS5taW51dGUoKSxzZWxlY3RlZC5taW51dGUoKTxtaW5fbWludXRlJiZzZWxlY3RlZC5taW51dGUobWluX21pbnV0ZSkpLG1heERhdGUmJigicmlnaHQiPT1zaWRlfHx0aGlzLnNpbmdsZURhdGVQaWNrZXIpJiZzZWxlY3RlZC5mb3JtYXQoIllZWVktTU0tREQgaCBBIik9PW1heERhdGUuZm9ybWF0KCJZWVlZLU1NLUREIGggQSIpJiYobWF4X21pbnV0ZT1tYXhEYXRlLm1pbnV0ZSgpLHNlbGVjdGVkLm1pbnV0ZSgpPm1heF9taW51dGUmJnNlbGVjdGVkLm1pbnV0ZShtYXhfbWludXRlKSksaT0wOzYwPmk7aSs9dGhpcy50aW1lUGlja2VySW5jcmVtZW50KXt2YXIgbnVtPWk7MTA+bnVtJiYobnVtPSIwIitudW0pLGh0bWwrPWk9PXNlbGVjdGVkLm1pbnV0ZSgpPyc8b3B0aW9uIHZhbHVlPSInK2krJyIgc2VsZWN0ZWQ9InNlbGVjdGVkIj4nK251bSsiPC9vcHRpb24+IjptaW5fbWludXRlPml8fGk+bWF4X21pbnV0ZT8nPG9wdGlvbiB2YWx1ZT0iJytpKyciIGRpc2FibGVkPSJkaXNhYmxlZCIgY2xhc3M9ImRpc2FibGVkIj4nK251bSsiPC9vcHRpb24+IjonPG9wdGlvbiB2YWx1ZT0iJytpKyciPicrbnVtKyI8L29wdGlvbj4ifWlmKGh0bWwrPSI8L3NlbGVjdD4gIix0aGlzLnRpbWVQaWNrZXIxMkhvdXIpe2h0bWwrPSc8c2VsZWN0IGNsYXNzPSJhbXBtc2VsZWN0Ij4nO3ZhciBhbV9odG1sPSIiLHBtX2h0bWw9IiI7bWluRGF0ZSYmKCJsZWZ0Ij09c2lkZXx8dGhpcy5zaW5nbGVEYXRlUGlja2VyKSYmc2VsZWN0ZWQuZm9ybWF0KCJZWVlZLU1NLUREIik9PW1pbkRhdGUuZm9ybWF0KCJZWVlZLU1NLUREIikmJm1pbkRhdGUuaG91cigpPj0xMiYmKGFtX2h0bWw9JyBkaXNhYmxlZD0iZGlzYWJsZWQiIGNsYXNzPSJkaXNhYmxlZCInKSxtYXhEYXRlJiYoInJpZ2h0Ij09c2lkZXx8dGhpcy5zaW5nbGVEYXRlUGlja2VyKSYmc2VsZWN0ZWQuZm9ybWF0KCJZWVlZLU1NLUREIik9PW1heERhdGUuZm9ybWF0KCJZWVlZLU1NLUREIikmJm1heERhdGUuaG91cigpPDEyJiYocG1faHRtbD0nIGRpc2FibGVkPSJkaXNhYmxlZCIgY2xhc3M9ImRpc2FibGVkIicpLGh0bWwrPXNlbGVjdGVkLmhvdXIoKT49MTI/JzxvcHRpb24gdmFsdWU9IkFNIicrYW1faHRtbCsnPkFNPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iUE0iIHNlbGVjdGVkPSJzZWxlY3RlZCInK3BtX2h0bWwrIj5QTTwvb3B0aW9uPiI6JzxvcHRpb24gdmFsdWU9IkFNIiBzZWxlY3RlZD0ic2VsZWN0ZWQiJythbV9odG1sKyc+QU08L29wdGlvbj48b3B0aW9uIHZhbHVlPSJQTSInK3BtX2h0bWwrIj5QTTwvb3B0aW9uPiIsaHRtbCs9Ijwvc2VsZWN0PiJ9aHRtbCs9IjwvZGl2PiJ9cmV0dXJuIGh0bWx9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5vZmYoIi5kYXRlcmFuZ2VwaWNrZXIiKSx0aGlzLmVsZW1lbnQucmVtb3ZlRGF0YSgiZGF0ZXJhbmdlcGlja2VyIil9fSwkLmZuLmRhdGVyYW5nZXBpY2tlcj1mdW5jdGlvbihvcHRpb25zLGNiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGVsPSQodGhpcyk7ZWwuZGF0YSgiZGF0ZXJhbmdlcGlja2VyIikmJmVsLmRhdGEoImRhdGVyYW5nZXBpY2tlciIpLnJlbW92ZSgpLGVsLmRhdGEoImRhdGVyYW5nZXBpY2tlciIsbmV3IERhdGVSYW5nZVBpY2tlcihlbCxvcHRpb25zLGNiKSl9KSx0aGlzfX0pLGZ1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0Ijt2YXIgRmlsZXN0eWxlPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnMsdGhpcy4kZWxlbWVudEZpbGVzdHlsZT1bXSx0aGlzLiRlbGVtZW50PSQoZWxlbWVudCl9O0ZpbGVzdHlsZS5wcm90b3R5cGU9e2NsZWFyOmZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC52YWwoIiIpLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiOnRleHQiKS52YWwoIiIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJzdHlsZSIpLnJlbW92ZURhdGEoImZpbGVzdHlsZSIpLnZhbCgiIiksdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5yZW1vdmUoKX0sZGlzYWJsZWQ6ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlPT09ITApdGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy4kZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsInRydWUiKSx0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIikuYXR0cigiZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5vcHRpb25zLmRpc2FibGVkPSEwKTtlbHNle2lmKHZhbHVlIT09ITEpcmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZDt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLiRlbGVtZW50LnJlbW92ZUF0dHIoImRpc2FibGVkIiksdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCIpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksdGhpcy5vcHRpb25zLmRpc2FibGVkPSExKX19LGJ1dHRvbkJlZm9yZTpmdW5jdGlvbih2YWx1ZSl7aWYodmFsdWU9PT0hMCl0aGlzLm9wdGlvbnMuYnV0dG9uQmVmb3JlfHwodGhpcy5vcHRpb25zLmJ1dHRvbkJlZm9yZT0hMCx0aGlzLm9wdGlvbnMuaW5wdXQmJih0aGlzLiRlbGVtZW50RmlsZXN0eWxlLnJlbW92ZSgpLHRoaXMuY29uc3RydWN0b3IoKSx0aGlzLnB1c2hOYW1lRmlsZXMoKSkpO2Vsc2V7aWYodmFsdWUhPT0hMSlyZXR1cm4gdGhpcy5vcHRpb25zLmJ1dHRvbkJlZm9yZTt0aGlzLm9wdGlvbnMuYnV0dG9uQmVmb3JlJiYodGhpcy5vcHRpb25zLmJ1dHRvbkJlZm9yZT0hMSx0aGlzLm9wdGlvbnMuaW5wdXQmJih0aGlzLiRlbGVtZW50RmlsZXN0eWxlLnJlbW92ZSgpLHRoaXMuY29uc3RydWN0b3IoKSx0aGlzLnB1c2hOYW1lRmlsZXMoKSkpfX0saWNvbjpmdW5jdGlvbih2YWx1ZSl7aWYodmFsdWU9PT0hMCl0aGlzLm9wdGlvbnMuaWNvbnx8KHRoaXMub3B0aW9ucy5pY29uPSEwLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgibGFiZWwiKS5wcmVwZW5kKHRoaXMuaHRtbEljb24oKSkpO2Vsc2V7aWYodmFsdWUhPT0hMSlyZXR1cm4gdGhpcy5vcHRpb25zLmljb247dGhpcy5vcHRpb25zLmljb24mJih0aGlzLm9wdGlvbnMuaWNvbj0hMSx0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImkiKS5yZW1vdmUoKSl9fSxpbnB1dDpmdW5jdGlvbih2YWx1ZSl7aWYodmFsdWU9PT0hMCl7aWYoIXRoaXMub3B0aW9ucy5pbnB1dCl7dGhpcy5vcHRpb25zLmlucHV0PSEwLHRoaXMub3B0aW9ucy5idXR0b25CZWZvcmU/dGhpcy4kZWxlbWVudEZpbGVzdHlsZS5hcHBlbmQodGhpcy5odG1sSW5wdXQoKSk6dGhpcy4kZWxlbWVudEZpbGVzdHlsZS5wcmVwZW5kKHRoaXMuaHRtbElucHV0KCkpLHRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiLnF1YW50LWZpbGVzLWZpbGVzdHlsZSIpLnJlbW92ZSgpO3ZhciBjb250ZW50PSIiLGZpbGVzPVtdO3ZvaWQgMD09PXRoaXMuJGVsZW1lbnRbMF0uZmlsZXM/ZmlsZXNbMF09e25hbWU6dGhpcy4kZWxlbWVudFswXS52YWx1ZX06ZmlsZXM9dGhpcy4kZWxlbWVudFswXS5maWxlcztmb3IodmFyIGk9MDtpPGZpbGVzLmxlbmd0aDtpKyspY29udGVudCs9ZmlsZXNbaV0ubmFtZS5zcGxpdCgiXFwiKS5wb3AoKSsiLCAiOyIiIT09Y29udGVudCYmdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCI6dGV4dCIpLnZhbChjb250ZW50LnJlcGxhY2UoL1wsICQvZywiIikpfX1lbHNle2lmKHZhbHVlIT09ITEpcmV0dXJuIHRoaXMub3B0aW9ucy5pbnB1dDtpZih0aGlzLm9wdGlvbnMuaW5wdXQpe3RoaXMub3B0aW9ucy5pbnB1dD0hMSx0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIjp0ZXh0IikucmVtb3ZlKCk7dmFyIGZpbGVzPVtdO2lmKHZvaWQgMD09PXRoaXMuJGVsZW1lbnRbMF0uZmlsZXM/ZmlsZXNbMF09e25hbWU6dGhpcy4kZWxlbWVudFswXS52YWx1ZX06ZmlsZXM9dGhpcy4kZWxlbWVudFswXS5maWxlcyxmaWxlcy5sZW5ndGg+MCl7dmFyIHN0eWxlO3N0eWxlPS0xIT09dGhpcy5vcHRpb25zLmNsYXNzQnV0dG9uLnNlYXJjaCgvYnRuLWludmVyc2V8YnRuLXByaW1hcnl8YnRuLWRhbmdlcnxidG4td2FybmluZ3xidG4tc3VjY2Vzcy9pKT8nc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmYgIWltcG9ydGFudDsgY29sb3I6IDAwMDsiJzonc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICMwMDAgIWltcG9ydGFudDsgY29sb3I6IGZmZjsiJyx0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIikuYXBwZW5kKCIgPHNwYW4gIitzdHlsZSsnIGNsYXNzPSJxdWFudC1maWxlcy1maWxlc3R5bGUgYmFkZ2UiPicrZmlsZXMubGVuZ3RoKyI8L3NwYW4+Iil9fX19LGJ1dHRvblRleHQ6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2b2lkIDA9PT12YWx1ZT90aGlzLm9wdGlvbnMuYnV0dG9uVGV4dDoodGhpcy5vcHRpb25zLmJ1dHRvblRleHQ9dmFsdWUsdm9pZCB0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIHNwYW4iKS5odG1sKHRoaXMub3B0aW9ucy5idXR0b25UZXh0KSl9LGNsYXNzQnV0dG9uOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdm9pZCAwPT09dmFsdWU/dGhpcy5vcHRpb25zLmNsYXNzQnV0dG9uOih0aGlzLm9wdGlvbnMuY2xhc3NCdXR0b249dmFsdWUsdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCIpLmF0dHIoeyJjbGFzcyI6dGhpcy5vcHRpb25zLmNsYXNzQnV0dG9ufSksLTEhPT10aGlzLm9wdGlvbnMuY2xhc3NCdXR0b24uc2VhcmNoKC9idG4taW52ZXJzZXxidG4tcHJpbWFyeXxidG4tZGFuZ2VyfGJ0bi13YXJuaW5nfGJ0bi1zdWNjZXNzL2kpP3RoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgibGFiZWwgaSIpLmFkZENsYXNzKCJpY29uLXdoaXRlIik6dGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCBpIikucmVtb3ZlQ2xhc3MoImljb24td2hpdGUiKSx2b2lkIDApfSxjbGFzc0ljb246ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2b2lkIDA9PT12YWx1ZT90aGlzLm9wdGlvbnMuY2xhc3NJY29uOih0aGlzLm9wdGlvbnMuY2xhc3NJY29uPXZhbHVlLHZvaWQgdGhpcy4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCJsYWJlbCIpLmZpbmQoImkiKS5hdHRyKC0xIT09dGhpcy5vcHRpb25zLmNsYXNzQnV0dG9uLnNlYXJjaCgvYnRuLWludmVyc2V8YnRuLXByaW1hcnl8YnRuLWRhbmdlcnxidG4td2FybmluZ3xidG4tc3VjY2Vzcy9pKT97ImNsYXNzIjoiaWNvbi13aGl0ZSAiK3RoaXMub3B0aW9ucy5jbGFzc0ljb259OnsiY2xhc3MiOnRoaXMub3B0aW9ucy5jbGFzc0ljb259KSl9LGNsYXNzSW5wdXQ6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2b2lkIDA9PT12YWx1ZT90aGlzLm9wdGlvbnMuY2xhc3NJbnB1dDoodGhpcy5vcHRpb25zLmNsYXNzSW5wdXQ9dmFsdWUsdm9pZCB0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIjp0ZXh0IikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzSW5wdXQpKX0saHRtbEljb246ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuaWNvbil7dmFyIGNvbG9ySWNvbj0iIjtyZXR1cm4tMSE9PXRoaXMub3B0aW9ucy5jbGFzc0J1dHRvbi5zZWFyY2goL2J0bi1pbnZlcnNlfGJ0bi1wcmltYXJ5fGJ0bi1kYW5nZXJ8YnRuLXdhcm5pbmd8YnRuLXN1Y2Nlc3MvaSkmJihjb2xvckljb249IiBpY29uLXdoaXRlICIpLCc8aSBjbGFzcz0iJytjb2xvckljb24rdGhpcy5vcHRpb25zLmNsYXNzSWNvbisnIj48L2k+ICd9cmV0dXJuIiJ9LGh0bWxJbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuaW5wdXQ/JzxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iJyt0aGlzLm9wdGlvbnMuY2xhc3NJbnB1dCsnIiBkaXNhYmxlZD4gJzoiIn0scHVzaE5hbWVGaWxlczpmdW5jdGlvbigpe3ZhciBjb250ZW50PSIiLGZpbGVzPVtdO3ZvaWQgMD09PXRoaXMuJGVsZW1lbnRbMF0uZmlsZXM/ZmlsZXNbMF09e25hbWU6dGhpcy4kZWxlbWVudC52YWx1ZX06ZmlsZXM9dGhpcy4kZWxlbWVudFswXS5maWxlcztmb3IodmFyIGk9MDtpPGZpbGVzLmxlbmd0aDtpKyspY29udGVudCs9ZmlsZXNbaV0ubmFtZS5zcGxpdCgiXFwiKS5wb3AoKSsiLCAiO3RoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiOnRleHQiKS52YWwoIiIhPT1jb250ZW50P2NvbnRlbnQucmVwbGFjZSgvXCwgJC9nLCIiKToiIil9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIF9zZWxmPXRoaXMsaHRtbD0iIixpZD10aGlzLiRlbGVtZW50LmF0dHIoImlkIiksZmlsZXM9W107IiIhPT1pZCYmaWR8fChpZD0iZmlsZXN0eWxlLSIrJCgiLmJvb3RzdHJhcC1maWxlc3R5bGUiKS5sZW5ndGgsdGhpcy4kZWxlbWVudC5hdHRyKHtpZDppZH0pKSxodG1sPXRoaXMub3B0aW9ucy5idXR0b25CZWZvcmU/JzxsYWJlbCBmb3I9IicraWQrJyIgc3R5bGU9Im1hcmdpbi1yaWdodDogNHB4OyIgY2xhc3M9IicrdGhpcy5vcHRpb25zLmNsYXNzQnV0dG9uKyciICcrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8nZGlzYWJsZWQ9InRydWUiJzoiIikrIj4iK3RoaXMuaHRtbEljb24oKSsiPHNwYW4+Iit0aGlzLm9wdGlvbnMuYnV0dG9uVGV4dCsiPC9zcGFuPjwvbGFiZWw+Iit0aGlzLmh0bWxJbnB1dCgpOnRoaXMuaHRtbElucHV0KCkrJzxsYWJlbCBmb3I9IicraWQrJyIgY2xhc3M9IicrdGhpcy5vcHRpb25zLmNsYXNzQnV0dG9uKyciICcrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8nZGlzYWJsZWQ9InRydWUiJzoiIikrIj4gIit0aGlzLmh0bWxJY29uKCkrIjxzcGFuPiIrdGhpcy5vcHRpb25zLmJ1dHRvblRleHQrIjwvc3Bhbj48L2xhYmVsPiIsdGhpcy4kZWxlbWVudEZpbGVzdHlsZT0kKCc8ZGl2IGNsYXNzPSJib290c3RyYXAtZmlsZXN0eWxlIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+JytodG1sKyI8L2Rpdj4iKTt2YXIgJGxhYmVsPXRoaXMuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgibGFiZWwiKSwkbGFiZWxGb2N1c2FibGVDb250YWluZXI9JGxhYmVsLnBhcmVudCgpOyRsYWJlbEZvY3VzYWJsZUNvbnRhaW5lci5hdHRyKCJ0YWJpbmRleCIsIjAiKS5rZXlwcmVzcyhmdW5jdGlvbihlKXsoMTM9PT1lLmtleUNvZGV8fDMyPT09ZS5jaGFyQ29kZSkmJiRsYWJlbC5jbGljaygpfSksdGhpcy4kZWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsY2xpcDoicmVjdCgwLDAsMCwwKSJ9KS5hdHRyKCJ0YWJpbmRleCIsIi0xIikuYWZ0ZXIodGhpcy4kZWxlbWVudEZpbGVzdHlsZSksdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLiRlbGVtZW50LmF0dHIoImRpc2FibGVkIiwidHJ1ZSIpLHRoaXMuJGVsZW1lbnQuY2hhbmdlKGZ1bmN0aW9uKCl7dmFyIGNvbnRlbnQ9IiI7dm9pZCAwPT09dGhpcy5maWxlcz9maWxlc1swXT17bmFtZTp0aGlzLnZhbHVlfTpmaWxlcz10aGlzLmZpbGVzO2Zvcih2YXIgaT0wO2k8ZmlsZXMubGVuZ3RoO2krKyljb250ZW50Kz1maWxlc1tpXS5uYW1lLnNwbGl0KCJcXCIpLnBvcCgpKyIsICI7aWYoX3NlbGYuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiOnRleHQiKS52YWwoIiIhPT1jb250ZW50P2NvbnRlbnQucmVwbGFjZSgvXCwgJC9nLCIiKToiIiksMD09X3NlbGYub3B0aW9ucy5pbnB1dCl7dmFyIHN0eWxlO3N0eWxlPS0xIT09X3NlbGYub3B0aW9ucy5jbGFzc0J1dHRvbi5zZWFyY2goL2J0bi1pbnZlcnNlfGJ0bi1wcmltYXJ5fGJ0bi1kYW5nZXJ8YnRuLXdhcm5pbmd8YnRuLXN1Y2Nlc3MvaSk/J3N0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7IGNvbG9yOiAjMDAwOyInOidzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogIzAwMCAhaW1wb3J0YW50OyBjb2xvcjogI2ZmZjsiJywwPT1fc2VsZi4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCIucXVhbnQtZmlsZXMtZmlsZXN0eWxlIikubGVuZ3RoP19zZWxmLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIikuYXBwZW5kKCIgPHNwYW4gIitzdHlsZSsnIGNsYXNzPSJxdWFudC1maWxlcy1maWxlc3R5bGUgYmFkZ2UiPicrZmlsZXMubGVuZ3RoKyI8L3NwYW4+Iik6MD09ZmlsZXMubGVuZ3RoP19zZWxmLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoIi5xdWFudC1maWxlcy1maWxlc3R5bGUiKS5yZW1vdmUoKTpfc2VsZi4kZWxlbWVudEZpbGVzdHlsZS5maW5kKCIucXVhbnQtZmlsZXMtZmlsZXN0eWxlIikuaHRtbChmaWxlcy5sZW5ndGgpfWVsc2UgX3NlbGYuJGVsZW1lbnRGaWxlc3R5bGUuZmluZCgiLnF1YW50LWZpbGVzLWZpbGVzdHlsZSIpLnJlbW92ZSgpfSksd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9maXJlZm94L2kpPi0xJiZ0aGlzLiRlbGVtZW50RmlsZXN0eWxlLmZpbmQoImxhYmVsIikuY2xpY2soZnVuY3Rpb24oKXtyZXR1cm4gX3NlbGYuJGVsZW1lbnQuY2xpY2soKSwhMX0pfX07dmFyIG9sZD0kLmZuLmZpbGVzdHlsZTskLmZuLmZpbGVzdHlsZT1mdW5jdGlvbihvcHRpb24sdmFsdWUpe3ZhciBnZXQ9IiIsZWxlbWVudD10aGlzLmVhY2goZnVuY3Rpb24oKXtpZigiZmlsZSI9PT0kKHRoaXMpLmF0dHIoInR5cGUiKSl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJmaWxlc3R5bGUiKSxvcHRpb25zPSQuZXh0ZW5kKHt9LCQuZm4uZmlsZXN0eWxlLmRlZmF1bHRzLG9wdGlvbiwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uKTtkYXRhfHwoJHRoaXMuZGF0YSgiZmlsZXN0eWxlIixkYXRhPW5ldyBGaWxlc3R5bGUodGhpcyxvcHRpb25zKSksZGF0YS5jb25zdHJ1Y3RvcigpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmKGdldD1kYXRhW29wdGlvbl0odmFsdWUpKX19KTtyZXR1cm4gdm9pZCAwIT09dHlwZW9mIGdldD9nZXQ6ZWxlbWVudH0sJC5mbi5maWxlc3R5bGUuZGVmYXVsdHM9e2J1dHRvblRleHQ6IkNob29zZSBmaWxlIixpbnB1dDohMCxpY29uOiEwLGJ1dHRvbkJlZm9yZTohMSxkaXNhYmxlZDohMSxjbGFzc0J1dHRvbjoiYnRuIGJ0bi1kZWZhdWx0IixjbGFzc0lucHV0OiJpbnB1dC1sYXJnZSIsY2xhc3NJY29uOiJpY29uLWZvbGRlci1vcGVuIn0sJC5mbi5maWxlc3R5bGUubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmZpbGVzdHlsZT1vbGQsdGhpc30sJChmdW5jdGlvbigpeyQoIi5maWxlc3R5bGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksb3B0aW9ucz17aW5wdXQ6ImZhbHNlIj09PSR0aGlzLmF0dHIoImRhdGEtaW5wdXQiKT8hMTohMCxpY29uOiJmYWxzZSI9PT0kdGhpcy5hdHRyKCJkYXRhLWljb24iKT8hMTohMCxidXR0b25CZWZvcmU6InRydWUiPT09JHRoaXMuYXR0cigiZGF0YS1idXR0b25CZWZvcmUiKT8hMDohMSxkaXNhYmxlZDoidHJ1ZSI9PT0kdGhpcy5hdHRyKCJkYXRhLWRpc2FibGVkIik/ITA6ITEsYnV0dG9uVGV4dDokdGhpcy5hdHRyKCJkYXRhLWJ1dHRvblRleHQiKSxjbGFzc0J1dHRvbjokdGhpcy5hdHRyKCJkYXRhLWNsYXNzQnV0dG9uIiksY2xhc3NJbnB1dDokdGhpcy5hdHRyKCJkYXRhLWNsYXNzSW5wdXQiKSxjbGFzc0ljb246JHRoaXMuYXR0cigiZGF0YS1jbGFzc0ljb24iKX07JHRoaXMuZmlsZXN0eWxlKG9wdGlvbnMpfSl9KX0od2luZG93LmpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5hZmZpeCIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjtkYXRhfHwkdGhpcy5kYXRhKCJicy5hZmZpeCIsZGF0YT1uZXcgQWZmaXgodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpfSl9dmFyIEFmZml4PWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5vcHRpb25zPSQuZXh0ZW5kKHt9LEFmZml4LkRFRkFVTFRTLG9wdGlvbnMpLHRoaXMuJHRhcmdldD0kKHRoaXMub3B0aW9ucy50YXJnZXQpLm9uKCJzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGkiLCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpKS5vbigiY2xpY2suYnMuYWZmaXguZGF0YS1hcGkiLCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCx0aGlzKSksdGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMuYWZmaXhlZD10aGlzLnVucGluPXRoaXMucGlubmVkT2Zmc2V0PW51bGwsdGhpcy5jaGVja1Bvc2l0aW9uKCl9O0FmZml4LlZFUlNJT049IjMuMi4wIixBZmZpeC5SRVNFVD0iYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSIsQWZmaXguREVGQVVMVFM9e29mZnNldDowLHRhcmdldDp3aW5kb3d9LEFmZml4LnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBpbm5lZE9mZnNldClyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoImFmZml4Iik7dmFyIHNjcm9sbFRvcD10aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKCkscG9zaXRpb249dGhpcy4kZWxlbWVudC5vZmZzZXQoKTtyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ9cG9zaXRpb24udG9wLXNjcm9sbFRvcH0sQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wPWZ1bmN0aW9uKCl7c2V0VGltZW91dCgkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSwxKX0sQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLiRlbGVtZW50LmlzKCI6dmlzaWJsZSIpKXt2YXIgc2Nyb2xsSGVpZ2h0PSQoZG9jdW1lbnQpLmhlaWdodCgpLHNjcm9sbFRvcD10aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKCkscG9zaXRpb249dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxvZmZzZXQ9dGhpcy5vcHRpb25zLm9mZnNldCxvZmZzZXRUb3A9b2Zmc2V0LnRvcCxvZmZzZXRCb3R0b209b2Zmc2V0LmJvdHRvbTsib2JqZWN0IiE9dHlwZW9mIG9mZnNldCYmKG9mZnNldEJvdHRvbT1vZmZzZXRUb3A9b2Zmc2V0KSwiZnVuY3Rpb24iPT10eXBlb2Ygb2Zmc2V0VG9wJiYob2Zmc2V0VG9wPW9mZnNldC50b3AodGhpcy4kZWxlbWVudCkpLCJmdW5jdGlvbiI9PXR5cGVvZiBvZmZzZXRCb3R0b20mJihvZmZzZXRCb3R0b209b2Zmc2V0LmJvdHRvbSh0aGlzLiRlbGVtZW50KSk7dmFyIGFmZml4PW51bGwhPXRoaXMudW5waW4mJnNjcm9sbFRvcCt0aGlzLnVucGluPD1wb3NpdGlvbi50b3A/ITE6bnVsbCE9b2Zmc2V0Qm90dG9tJiZwb3NpdGlvbi50b3ArdGhpcy4kZWxlbWVudC5oZWlnaHQoKT49c2Nyb2xsSGVpZ2h0LW9mZnNldEJvdHRvbT8iYm90dG9tIjpudWxsIT1vZmZzZXRUb3AmJm9mZnNldFRvcD49c2Nyb2xsVG9wPyJ0b3AiOiExO2lmKHRoaXMuYWZmaXhlZCE9PWFmZml4KXtudWxsIT10aGlzLnVucGluJiZ0aGlzLiRlbGVtZW50LmNzcygidG9wIiwiIik7dmFyIGFmZml4VHlwZT0iYWZmaXgiKyhhZmZpeD8iLSIrYWZmaXg6IiIpLGU9JC5FdmVudChhZmZpeFR5cGUrIi5icy5hZmZpeCIpO3RoaXMuJGVsZW1lbnQudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodGhpcy5hZmZpeGVkPWFmZml4LHRoaXMudW5waW49ImJvdHRvbSI9PWFmZml4P3RoaXMuZ2V0UGlubmVkT2Zmc2V0KCk6bnVsbCx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKS5hZGRDbGFzcyhhZmZpeFR5cGUpLnRyaWdnZXIoJC5FdmVudChhZmZpeFR5cGUucmVwbGFjZSgiYWZmaXgiLCJhZmZpeGVkIikpKSwiYm90dG9tIj09YWZmaXgmJnRoaXMuJGVsZW1lbnQub2Zmc2V0KHt0b3A6c2Nyb2xsSGVpZ2h0LXRoaXMuJGVsZW1lbnQuaGVpZ2h0KCktb2Zmc2V0Qm90dG9tfSkpfX19O3ZhciBvbGQ9JC5mbi5hZmZpeDskLmZuLmFmZml4PVBsdWdpbiwkLmZuLmFmZml4LkNvbnN0cnVjdG9yPUFmZml4LCQuZm4uYWZmaXgubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmFmZml4PW9sZCx0aGlzfSwkKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7JCgnW2RhdGEtc3B5PSJhZmZpeCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciAkc3B5PSQodGhpcyksZGF0YT0kc3B5LmRhdGEoKTtkYXRhLm9mZnNldD1kYXRhLm9mZnNldHx8e30sZGF0YS5vZmZzZXRCb3R0b20mJihkYXRhLm9mZnNldC5ib3R0b209ZGF0YS5vZmZzZXRCb3R0b20pLGRhdGEub2Zmc2V0VG9wJiYoZGF0YS5vZmZzZXQudG9wPWRhdGEub2Zmc2V0VG9wKSxQbHVnaW4uY2FsbCgkc3B5LGRhdGEpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmFsZXJ0Iik7ZGF0YXx8JHRoaXMuZGF0YSgiYnMuYWxlcnQiLGRhdGE9bmV3IEFsZXJ0KHRoaXMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpfSl9dmFyIGRpc21pc3M9J1tkYXRhLWRpc21pc3M9ImFsZXJ0Il0nLEFsZXJ0PWZ1bmN0aW9uKGVsKXskKGVsKS5vbigiY2xpY2siLGRpc21pc3MsdGhpcy5jbG9zZSl9O0FsZXJ0LlZFUlNJT049IjMuMi4wIixBbGVydC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpeyRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcigiY2xvc2VkLmJzLmFsZXJ0IikucmVtb3ZlKCl9dmFyICR0aGlzPSQodGhpcyksc2VsZWN0b3I9JHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKTtzZWxlY3Rvcnx8KHNlbGVjdG9yPSR0aGlzLmF0dHIoImhyZWYiKSxzZWxlY3Rvcj1zZWxlY3RvciYmc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCIiKSk7dmFyICRwYXJlbnQ9JChzZWxlY3Rvcik7ZSYmZS5wcmV2ZW50RGVmYXVsdCgpLCRwYXJlbnQubGVuZ3RofHwoJHBhcmVudD0kdGhpcy5oYXNDbGFzcygiYWxlcnQiKT8kdGhpczokdGhpcy5wYXJlbnQoKSksJHBhcmVudC50cmlnZ2VyKGU9JC5FdmVudCgiY2xvc2UuYnMuYWxlcnQiKSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KCRwYXJlbnQucmVtb3ZlQ2xhc3MoImluIiksJC5zdXBwb3J0LnRyYW5zaXRpb24mJiRwYXJlbnQuaGFzQ2xhc3MoImZhZGUiKT8kcGFyZW50Lm9uZSgiYnNUcmFuc2l0aW9uRW5kIixyZW1vdmVFbGVtZW50KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApOnJlbW92ZUVsZW1lbnQoKSl9O3ZhciBvbGQ9JC5mbi5hbGVydDskLmZuLmFsZXJ0PVBsdWdpbiwkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yPUFsZXJ0LCQuZm4uYWxlcnQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmFsZXJ0PW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuYWxlcnQuZGF0YS1hcGkiLGRpc21pc3MsQWxlcnQucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmJ1dHRvbiIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjtkYXRhfHwkdGhpcy5kYXRhKCJicy5idXR0b24iLGRhdGE9bmV3IEJ1dHRvbih0aGlzLG9wdGlvbnMpKSwidG9nZ2xlIj09b3B0aW9uP2RhdGEudG9nZ2xlKCk6b3B0aW9uJiZkYXRhLnNldFN0YXRlKG9wdGlvbil9KX12YXIgQnV0dG9uPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxCdXR0b24uREVGQVVMVFMsb3B0aW9ucyksdGhpcy5pc0xvYWRpbmc9ITF9O0J1dHRvbi5WRVJTSU9OPSIzLjIuMCIsQnV0dG9uLkRFRkFVTFRTPXtsb2FkaW5nVGV4dDoibG9hZGluZy4uLiJ9LEJ1dHRvbi5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oc3RhdGUpe3ZhciBkPSJkaXNhYmxlZCIsJGVsPXRoaXMuJGVsZW1lbnQsdmFsPSRlbC5pcygiaW5wdXQiKT8idmFsIjoiaHRtbCIsZGF0YT0kZWwuZGF0YSgpO3N0YXRlKz0iVGV4dCIsbnVsbD09ZGF0YS5yZXNldFRleHQmJiRlbC5kYXRhKCJyZXNldFRleHQiLCRlbFt2YWxdKCkpLCRlbFt2YWxdKG51bGw9PWRhdGFbc3RhdGVdP3RoaXMub3B0aW9uc1tzdGF0ZV06ZGF0YVtzdGF0ZV0pLHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpeyJsb2FkaW5nVGV4dCI9PXN0YXRlPyh0aGlzLmlzTG9hZGluZz0hMCwkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLGQpKTp0aGlzLmlzTG9hZGluZyYmKHRoaXMuaXNMb2FkaW5nPSExLCRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpKX0sdGhpcyksMCl9LEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dmFyIGNoYW5nZWQ9ITAsJHBhcmVudD10aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT0iYnV0dG9ucyJdJyk7aWYoJHBhcmVudC5sZW5ndGgpe3ZhciAkaW5wdXQ9dGhpcy4kZWxlbWVudC5maW5kKCJpbnB1dCIpOyJyYWRpbyI9PSRpbnB1dC5wcm9wKCJ0eXBlIikmJigkaW5wdXQucHJvcCgiY2hlY2tlZCIpJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJhY3RpdmUiKT9jaGFuZ2VkPSExOiRwYXJlbnQuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSksY2hhbmdlZCYmJGlucHV0LnByb3AoImNoZWNrZWQiLCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJhY3RpdmUiKSkudHJpZ2dlcigiY2hhbmdlIil9Y2hhbmdlZCYmdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygiYWN0aXZlIil9O3ZhciBvbGQ9JC5mbi5idXR0b247JC5mbi5idXR0b249UGx1Z2luLCQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yPUJ1dHRvbiwkLmZuLmJ1dHRvbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uYnV0dG9uPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlXj0iYnV0dG9uIl0nLGZ1bmN0aW9uKGUpe3ZhciAkYnRuPSQoZS50YXJnZXQpOyRidG4uaGFzQ2xhc3MoImJ0biIpfHwoJGJ0bj0kYnRuLmNsb3Nlc3QoIi5idG4iKSksUGx1Z2luLmNhbGwoJGJ0biwidG9nZ2xlIiksZS5wcmV2ZW50RGVmYXVsdCgpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy5jYXJvdXNlbCIpLG9wdGlvbnM9JC5leHRlbmQoe30sQ2Fyb3VzZWwuREVGQVVMVFMsJHRoaXMuZGF0YSgpLCJvYmplY3QiPT10eXBlb2Ygb3B0aW9uJiZvcHRpb24pLGFjdGlvbj0ic3RyaW5nIj09dHlwZW9mIG9wdGlvbj9vcHRpb246b3B0aW9ucy5zbGlkZTtkYXRhfHwkdGhpcy5kYXRhKCJicy5jYXJvdXNlbCIsZGF0YT1uZXcgQ2Fyb3VzZWwodGhpcyxvcHRpb25zKSksIm51bWJlciI9PXR5cGVvZiBvcHRpb24/ZGF0YS50byhvcHRpb24pOmFjdGlvbj9kYXRhW2FjdGlvbl0oKTpvcHRpb25zLmludGVydmFsJiZkYXRhLnBhdXNlKCkuY3ljbGUoKX0pfXZhciBDYXJvdXNlbD1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMuJGVsZW1lbnQ9JChlbGVtZW50KS5vbigia2V5ZG93bi5icy5jYXJvdXNlbCIsJC5wcm94eSh0aGlzLmtleWRvd24sdGhpcykpLHRoaXMuJGluZGljYXRvcnM9dGhpcy4kZWxlbWVudC5maW5kKCIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIpLHRoaXMub3B0aW9ucz1vcHRpb25zLHRoaXMucGF1c2VkPXRoaXMuc2xpZGluZz10aGlzLmludGVydmFsPXRoaXMuJGFjdGl2ZT10aGlzLiRpdGVtcz1udWxsLCJob3ZlciI9PXRoaXMub3B0aW9ucy5wYXVzZSYmdGhpcy4kZWxlbWVudC5vbigibW91c2VlbnRlci5icy5jYXJvdXNlbCIsJC5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbigibW91c2VsZWF2ZS5icy5jYXJvdXNlbCIsJC5wcm94eSh0aGlzLmN5Y2xlLHRoaXMpKX07Q2Fyb3VzZWwuVkVSU0lPTj0iMy4yLjAiLENhcm91c2VsLkRFRkFVTFRTPXtpbnRlcnZhbDo1ZTMscGF1c2U6ImhvdmVyIix3cmFwOiEwfSxDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihlKXtzd2l0Y2goZS53aGljaCl7Y2FzZSAzNzp0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnRoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWUucHJldmVudERlZmF1bHQoKX0sQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlPWZ1bmN0aW9uKGUpe3JldHVybiBlfHwodGhpcy5wYXVzZWQ9ITEpLHRoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5vcHRpb25zLmludGVydmFsJiYhdGhpcy5wYXVzZWQmJih0aGlzLmludGVydmFsPXNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LHRoaXMpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpLHRoaXN9LENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXg9ZnVuY3Rpb24oaXRlbSl7cmV0dXJuIHRoaXMuJGl0ZW1zPWl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oIi5pdGVtIiksdGhpcy4kaXRlbXMuaW5kZXgoaXRlbXx8dGhpcy4kYWN0aXZlKX0sQ2Fyb3VzZWwucHJvdG90eXBlLnRvPWZ1bmN0aW9uKHBvcyl7dmFyIHRoYXQ9dGhpcyxhY3RpdmVJbmRleD10aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmU9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbS5hY3RpdmUiKSk7cmV0dXJuIHBvcz50aGlzLiRpdGVtcy5sZW5ndGgtMXx8MD5wb3M/dm9pZCAwOnRoaXMuc2xpZGluZz90aGlzLiRlbGVtZW50Lm9uZSgic2xpZC5icy5jYXJvdXNlbCIsZnVuY3Rpb24oKXt0aGF0LnRvKHBvcyl9KTphY3RpdmVJbmRleD09cG9zP3RoaXMucGF1c2UoKS5jeWNsZSgpOnRoaXMuc2xpZGUocG9zPmFjdGl2ZUluZGV4PyJuZXh0IjoicHJldiIsJCh0aGlzLiRpdGVtc1twb3NdKSl9LENhcm91c2VsLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KHRoaXMucGF1c2VkPSEwKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5uZXh0LCAucHJldiIpLmxlbmd0aCYmJC5zdXBwb3J0LnRyYW5zaXRpb24mJih0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSx0aGlzLmN5Y2xlKCEwKSksdGhpcy5pbnRlcnZhbD1jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXN9LENhcm91c2VsLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2xpZGluZz92b2lkIDA6dGhpcy5zbGlkZSgibmV4dCIpfSxDYXJvdXNlbC5wcm90b3R5cGUucHJldj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWRpbmc/dm9pZCAwOnRoaXMuc2xpZGUoInByZXYiKX0sQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlPWZ1bmN0aW9uKHR5cGUsbmV4dCl7dmFyICRhY3RpdmU9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbS5hY3RpdmUiKSwkbmV4dD1uZXh0fHwkYWN0aXZlW3R5cGVdKCksaXNDeWNsaW5nPXRoaXMuaW50ZXJ2YWwsZGlyZWN0aW9uPSJuZXh0Ij09dHlwZT8ibGVmdCI6InJpZ2h0IixmYWxsYmFjaz0ibmV4dCI9PXR5cGU/ImZpcnN0IjoibGFzdCIsdGhhdD10aGlzO2lmKCEkbmV4dC5sZW5ndGgpe2lmKCF0aGlzLm9wdGlvbnMud3JhcClyZXR1cm47JG5leHQ9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbSIpW2ZhbGxiYWNrXSgpfWlmKCRuZXh0Lmhhc0NsYXNzKCJhY3RpdmUiKSlyZXR1cm4gdGhpcy5zbGlkaW5nPSExO3ZhciByZWxhdGVkVGFyZ2V0PSRuZXh0WzBdLHNsaWRlRXZlbnQ9JC5FdmVudCgic2xpZGUuYnMuY2Fyb3VzZWwiLHtyZWxhdGVkVGFyZ2V0OnJlbGF0ZWRUYXJnZXQsZGlyZWN0aW9uOmRpcmVjdGlvbn0pO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KSwhc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYodGhpcy5zbGlkaW5nPSEwLGlzQ3ljbGluZyYmdGhpcy5wYXVzZSgpLHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKXt0aGlzLiRpbmRpY2F0b3JzLmZpbmQoIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7dmFyICRuZXh0SW5kaWNhdG9yPSQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pOyRuZXh0SW5kaWNhdG9yJiYkbmV4dEluZGljYXRvci5hZGRDbGFzcygiYWN0aXZlIil9dmFyIHNsaWRFdmVudD0kLkV2ZW50KCJzbGlkLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDpyZWxhdGVkVGFyZ2V0LGRpcmVjdGlvbjpkaXJlY3Rpb259KTtyZXR1cm4gJC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoInNsaWRlIik/KCRuZXh0LmFkZENsYXNzKHR5cGUpLCRuZXh0WzBdLm9mZnNldFdpZHRoLCRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKSwkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pLCRhY3RpdmUub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7JG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsZGlyZWN0aW9uXS5qb2luKCIgIikpLmFkZENsYXNzKCJhY3RpdmUiKSwkYWN0aXZlLnJlbW92ZUNsYXNzKFsiYWN0aXZlIixkaXJlY3Rpb25dLmpvaW4oIiAiKSksdGhhdC5zbGlkaW5nPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KX0sMCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxZTMqJGFjdGl2ZS5jc3MoInRyYW5zaXRpb24tZHVyYXRpb24iKS5zbGljZSgwLC0xKSkpOigkYWN0aXZlLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSwkbmV4dC5hZGRDbGFzcygiYWN0aXZlIiksdGhpcy5zbGlkaW5nPSExLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpKSxpc0N5Y2xpbmcmJnRoaXMuY3ljbGUoKSx0aGlzfX07dmFyIG9sZD0kLmZuLmNhcm91c2VsOyQuZm4uY2Fyb3VzZWw9UGx1Z2luLCQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3I9Q2Fyb3VzZWwsJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uY2Fyb3VzZWw9b2xkLHRoaXN9LCQoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaSIsIltkYXRhLXNsaWRlXSwgW2RhdGEtc2xpZGUtdG9dIixmdW5jdGlvbihlKXt2YXIgaHJlZiwkdGhpcz0kKHRoaXMpLCR0YXJnZXQ9JCgkdGhpcy5hdHRyKCJkYXRhLXRhcmdldCIpfHwoaHJlZj0kdGhpcy5hdHRyKCJocmVmIikpJiZocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIikpO2lmKCR0YXJnZXQuaGFzQ2xhc3MoImNhcm91c2VsIikpe3ZhciBvcHRpb25zPSQuZXh0ZW5kKHt9LCR0YXJnZXQuZGF0YSgpLCR0aGlzLmRhdGEoKSksc2xpZGVJbmRleD0kdGhpcy5hdHRyKCJkYXRhLXNsaWRlLXRvIik7c2xpZGVJbmRleCYmKG9wdGlvbnMuaW50ZXJ2YWw9ITEpLFBsdWdpbi5jYWxsKCR0YXJnZXQsb3B0aW9ucyksc2xpZGVJbmRleCYmJHRhcmdldC5kYXRhKCJicy5jYXJvdXNlbCIpLnRvKHNsaWRlSW5kZXgpLGUucHJldmVudERlZmF1bHQoKX19KSwkKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7JCgnW2RhdGEtcmlkZT0iY2Fyb3VzZWwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgJGNhcm91c2VsPSQodGhpcyk7UGx1Z2luLmNhbGwoJGNhcm91c2VsLCRjYXJvdXNlbC5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmNvbGxhcHNlIiksb3B0aW9ucz0kLmV4dGVuZCh7fSxDb2xsYXBzZS5ERUZBVUxUUywkdGhpcy5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbik7IWRhdGEmJm9wdGlvbnMudG9nZ2xlJiYic2hvdyI9PW9wdGlvbiYmKG9wdGlvbj0hb3B0aW9uKSxkYXRhfHwkdGhpcy5kYXRhKCJicy5jb2xsYXBzZSIsZGF0YT1uZXcgQ29sbGFwc2UodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpfSl9dmFyIENvbGxhcHNlPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxDb2xsYXBzZS5ERUZBVUxUUyxvcHRpb25zKSx0aGlzLnRyYW5zaXRpb25pbmc9bnVsbCx0aGlzLm9wdGlvbnMucGFyZW50JiYodGhpcy4kcGFyZW50PSQodGhpcy5vcHRpb25zLnBhcmVudCkpLHRoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9O0NvbGxhcHNlLlZFUlNJT049IjMuMi4wIixDb2xsYXBzZS5ERUZBVUxUUz17dG9nZ2xlOiEwfSxDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uPWZ1bmN0aW9uKCl7dmFyIGhhc1dpZHRoPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoIndpZHRoIik7cmV0dXJuIGhhc1dpZHRoPyJ3aWR0aCI6ImhlaWdodCJ9LENvbGxhcHNlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImluIikpe3ZhciBzdGFydEV2ZW50PSQuRXZlbnQoInNob3cuYnMuY29sbGFwc2UiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudCksIXN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBhY3RpdmVzPXRoaXMuJHBhcmVudCYmdGhpcy4kcGFyZW50LmZpbmQoIj4gLnBhbmVsID4gLmluIik7aWYoYWN0aXZlcyYmYWN0aXZlcy5sZW5ndGgpe3ZhciBoYXNEYXRhPWFjdGl2ZXMuZGF0YSgiYnMuY29sbGFwc2UiKTtpZihoYXNEYXRhJiZoYXNEYXRhLnRyYW5zaXRpb25pbmcpcmV0dXJuO1BsdWdpbi5jYWxsKGFjdGl2ZXMsImhpZGUiKSxoYXNEYXRhfHxhY3RpdmVzLmRhdGEoImJzLmNvbGxhcHNlIixudWxsKX12YXIgZGltZW5zaW9uPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpW2RpbWVuc2lvbl0oMCksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLmFkZENsYXNzKCJjb2xsYXBzZSBpbiIpW2RpbWVuc2lvbl0oIiIpLHRoaXMudHJhbnNpdGlvbmluZz0wLHRoaXMuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuY29sbGFwc2UiKX07aWYoISQuc3VwcG9ydC50cmFuc2l0aW9uKXJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpO3ZhciBzY3JvbGxTaXplPSQuY2FtZWxDYXNlKFsic2Nyb2xsIixkaW1lbnNpb25dLmpvaW4oIi0iKSk7dGhpcy4kZWxlbWVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsJC5wcm94eShjb21wbGV0ZSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pfX19LENvbGxhcHNlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiaW4iKSl7dmFyIHN0YXJ0RXZlbnQ9JC5FdmVudCgiaGlkZS5icy5jb2xsYXBzZSIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KSwhc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGRpbWVuc2lvbj10aGlzLmRpbWVuc2lvbigpO3RoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0LHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNpbmciKS5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5yZW1vdmVDbGFzcygiaW4iKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImhpZGRlbi5icy5jb2xsYXBzZSIpLnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIikuYWRkQ2xhc3MoImNvbGxhcHNlIil9O3JldHVybiAkLnN1cHBvcnQudHJhbnNpdGlvbj92b2lkIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgwKS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsJC5wcm94eShjb21wbGV0ZSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKTpjb21wbGV0ZS5jYWxsKHRoaXMpfX19LENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImluIik/ImhpZGUiOiJzaG93Il0oKX07dmFyIG9sZD0kLmZuLmNvbGxhcHNlOyQuZm4uY29sbGFwc2U9UGx1Z2luLCQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3I9Q29sbGFwc2UsJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuICQuZm4uY29sbGFwc2U9b2xkLHRoaXN9LCQoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXScsZnVuY3Rpb24oZSl7dmFyIGhyZWYsJHRoaXM9JCh0aGlzKSx0YXJnZXQ9JHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKXx8ZS5wcmV2ZW50RGVmYXVsdCgpfHwoaHJlZj0kdGhpcy5hdHRyKCJocmVmIikpJiZocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIiksJHRhcmdldD0kKHRhcmdldCksZGF0YT0kdGFyZ2V0LmRhdGEoImJzLmNvbGxhcHNlIiksb3B0aW9uPWRhdGE/InRvZ2dsZSI6JHRoaXMuZGF0YSgpLHBhcmVudD0kdGhpcy5hdHRyKCJkYXRhLXBhcmVudCIpLCRwYXJlbnQ9cGFyZW50JiYkKHBhcmVudCk7ZGF0YSYmZGF0YS50cmFuc2l0aW9uaW5nfHwoJHBhcmVudCYmJHBhcmVudC5maW5kKCdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1bZGF0YS1wYXJlbnQ9IicrcGFyZW50KyciXScpLm5vdCgkdGhpcykuYWRkQ2xhc3MoImNvbGxhcHNlZCIpLCR0aGlzWyR0YXJnZXQuaGFzQ2xhc3MoImluIik/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgiY29sbGFwc2VkIikpLFBsdWdpbi5jYWxsKCR0YXJnZXQsb3B0aW9uKX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gY2xlYXJNZW51cyhlKXtlJiYzPT09ZS53aGljaHx8KCQoYmFja2Ryb3ApLnJlbW92ZSgpLCQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyICRwYXJlbnQ9Z2V0UGFyZW50KCQodGhpcykpLHJlbGF0ZWRUYXJnZXQ9e3JlbGF0ZWRUYXJnZXQ6dGhpc307JHBhcmVudC5oYXNDbGFzcygib3BlbiIpJiYoJHBhcmVudC50cmlnZ2VyKGU9JC5FdmVudCgiaGlkZS5icy5kcm9wZG93biIscmVsYXRlZFRhcmdldCkpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fCRwYXJlbnQucmVtb3ZlQ2xhc3MoIm9wZW4iKS50cmlnZ2VyKCJoaWRkZW4uYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpKX0pKX1mdW5jdGlvbiBnZXRQYXJlbnQoJHRoaXMpe3ZhciBzZWxlY3Rvcj0kdGhpcy5hdHRyKCJkYXRhLXRhcmdldCIpO3NlbGVjdG9yfHwoc2VsZWN0b3I9JHRoaXMuYXR0cigiaHJlZiIpLHNlbGVjdG9yPXNlbGVjdG9yJiYvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSYmc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCIiKSk7dmFyICRwYXJlbnQ9c2VsZWN0b3ImJiQoc2VsZWN0b3IpO3JldHVybiAkcGFyZW50JiYkcGFyZW50Lmxlbmd0aD8kcGFyZW50OiR0aGlzLnBhcmVudCgpfWZ1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLmRyb3Bkb3duIik7ZGF0YXx8JHRoaXMuZGF0YSgiYnMuZHJvcGRvd24iLGRhdGE9bmV3IERyb3Bkb3duKHRoaXMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpfSl9dmFyIGJhY2tkcm9wPSIuZHJvcGRvd24tYmFja2Ryb3AiLHRvZ2dsZT0nW2RhdGEtdG9nZ2xlPSJkcm9wZG93biJdJyxEcm9wZG93bj1mdW5jdGlvbihlbGVtZW50KXskKGVsZW1lbnQpLm9uKCJjbGljay5icy5kcm9wZG93biIsdGhpcy50b2dnbGUpfTtEcm9wZG93bi5WRVJTSU9OPSIzLjIuMCIsRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihlKXt2YXIgJHRoaXM9JCh0aGlzKTtpZighJHRoaXMuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpe3ZhciAkcGFyZW50PWdldFBhcmVudCgkdGhpcyksaXNBY3RpdmU9JHBhcmVudC5oYXNDbGFzcygib3BlbiIpO2lmKGNsZWFyTWVudXMoKSwhaXNBY3RpdmUpeyJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYhJHBhcmVudC5jbG9zZXN0KCIubmF2YmFyLW5hdiIpLmxlbmd0aCYmJCgnPGRpdiBjbGFzcz0iZHJvcGRvd24tYmFja2Ryb3AiLz4nKS5pbnNlcnRBZnRlcigkKHRoaXMpKS5vbigiY2xpY2siLGNsZWFyTWVudXMpO3ZhciByZWxhdGVkVGFyZ2V0PXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2lmKCRwYXJlbnQudHJpZ2dlcihlPSQuRXZlbnQoInNob3cuYnMuZHJvcGRvd24iLHJlbGF0ZWRUYXJnZXQpKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjskdGhpcy50cmlnZ2VyKCJmb2N1cyIpLCRwYXJlbnQudG9nZ2xlQ2xhc3MoIm9wZW4iKS50cmlnZ2VyKCJzaG93bi5icy5kcm9wZG93biIscmVsYXRlZFRhcmdldCl9cmV0dXJuITF9fSxEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihlKXtpZigvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKXt2YXIgJHRoaXM9JCh0aGlzKTtpZihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSwhJHRoaXMuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpe3ZhciAkcGFyZW50PWdldFBhcmVudCgkdGhpcyksaXNBY3RpdmU9JHBhcmVudC5oYXNDbGFzcygib3BlbiIpO2lmKCFpc0FjdGl2ZXx8aXNBY3RpdmUmJjI3PT1lLmtleUNvZGUpcmV0dXJuIDI3PT1lLndoaWNoJiYkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCJmb2N1cyIpLCR0aGlzLnRyaWdnZXIoImNsaWNrIik7dmFyIGRlc2M9IiBsaTpub3QoLmRpdmlkZXIpOnZpc2libGUgYSIsJGl0ZW1zPSRwYXJlbnQuZmluZCgnW3JvbGU9Im1lbnUiXScrZGVzYysnLCBbcm9sZT0ibGlzdGJveCJdJytkZXNjKTtpZigkaXRlbXMubGVuZ3RoKXt2YXIgaW5kZXg9JGl0ZW1zLmluZGV4KCRpdGVtcy5maWx0ZXIoIjpmb2N1cyIpKTszOD09ZS5rZXlDb2RlJiZpbmRleD4wJiZpbmRleC0tLDQwPT1lLmtleUNvZGUmJmluZGV4PCRpdGVtcy5sZW5ndGgtMSYmaW5kZXgrKyx+aW5kZXh8fChpbmRleD0wKSwkaXRlbXMuZXEoaW5kZXgpLnRyaWdnZXIoImZvY3VzIil9fX19O3ZhciBvbGQ9JC5mbi5kcm9wZG93bjskLmZuLmRyb3Bkb3duPVBsdWdpbiwkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yPURyb3Bkb3duLCQuZm4uZHJvcGRvd24ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLmRyb3Bkb3duPW9sZCx0aGlzfSwkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLGNsZWFyTWVudXMpLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsIi5kcm9wZG93biBmb3JtIixmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfSkub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIix0b2dnbGUsRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSkub24oImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGkiLHRvZ2dsZSsnLCBbcm9sZT0ibWVudSJdLCBbcm9sZT0ibGlzdGJveCJdJyxEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bil9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy50YWIiKTtkYXRhfHwkdGhpcy5kYXRhKCJicy50YWIiLGRhdGE9bmV3IFRhYih0aGlzKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24mJmRhdGFbb3B0aW9uXSgpfSl9dmFyIFRhYj1mdW5jdGlvbihlbGVtZW50KXt0aGlzLmVsZW1lbnQ9JChlbGVtZW50KX07VGFiLlZFUlNJT049IjMuMi4wIixUYWIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgJHRoaXM9dGhpcy5lbGVtZW50LCR1bD0kdGhpcy5jbG9zZXN0KCJ1bDpub3QoLmRyb3Bkb3duLW1lbnUpIiksc2VsZWN0b3I9JHRoaXMuZGF0YSgidGFyZ2V0Iik7aWYoc2VsZWN0b3J8fChzZWxlY3Rvcj0kdGhpcy5hdHRyKCJocmVmIiksc2VsZWN0b3I9c2VsZWN0b3ImJnNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpLCEkdGhpcy5wYXJlbnQoImxpIikuaGFzQ2xhc3MoImFjdGl2ZSIpKXt2YXIgcHJldmlvdXM9JHVsLmZpbmQoIi5hY3RpdmU6bGFzdCBhIilbMF0sZT0kLkV2ZW50KCJzaG93LmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6cHJldmlvdXN9KTtpZigkdGhpcy50cmlnZ2VyKGUpLCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgJHRhcmdldD0kKHNlbGVjdG9yKTt0aGlzLmFjdGl2YXRlKCR0aGlzLmNsb3Nlc3QoImxpIiksJHVsKSx0aGlzLmFjdGl2YXRlKCR0YXJnZXQsJHRhcmdldC5wYXJlbnQoKSxmdW5jdGlvbigpeyR0aGlzLnRyaWdnZXIoe3R5cGU6InNob3duLmJzLnRhYiIscmVsYXRlZFRhcmdldDpwcmV2aW91c30pfSl9fX0sVGFiLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlbGVtZW50LGNvbnRhaW5lcixjYWxsYmFjayl7ZnVuY3Rpb24gbmV4dCgpeyRhY3RpdmUucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmZpbmQoIj4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLGVsZW1lbnQuYWRkQ2xhc3MoImFjdGl2ZSIpLHRyYW5zaXRpb24/KGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsZWxlbWVudC5hZGRDbGFzcygiaW4iKSk6ZWxlbWVudC5yZW1vdmVDbGFzcygiZmFkZSIpLGVsZW1lbnQucGFyZW50KCIuZHJvcGRvd24tbWVudSIpJiZlbGVtZW50LmNsb3Nlc3QoImxpLmRyb3Bkb3duIikuYWRkQ2xhc3MoImFjdGl2ZSIpLGNhbGxiYWNrJiZjYWxsYmFjaygpfXZhciAkYWN0aXZlPWNvbnRhaW5lci5maW5kKCI+IC5hY3RpdmUiKSx0cmFuc2l0aW9uPWNhbGxiYWNrJiYkLnN1cHBvcnQudHJhbnNpdGlvbiYmJGFjdGl2ZS5oYXNDbGFzcygiZmFkZSIpO3RyYW5zaXRpb24/JGFjdGl2ZS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsbmV4dCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpuZXh0KCksJGFjdGl2ZS5yZW1vdmVDbGFzcygiaW4iKX07dmFyIG9sZD0kLmZuLnRhYjskLmZuLnRhYj1QbHVnaW4sJC5mbi50YWIuQ29uc3RydWN0b3I9VGFiLCQuZm4udGFiLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi50YWI9b2xkLHRoaXN9LCQoZG9jdW1lbnQpLm9uKCJjbGljay5icy50YWIuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9InRhYiJdLCBbZGF0YS10b2dnbGU9InBpbGwiXScsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLFBsdWdpbi5jYWxsKCQodGhpcyksInNob3ciKX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpe3ZhciBlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJib290c3RyYXAiKSx0cmFuc0VuZEV2ZW50TmFtZXM9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9O2Zvcih2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpaWYodm9pZCAwIT09ZWwuc3R5bGVbbmFtZV0pcmV0dXJue2VuZDp0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV19O3JldHVybiExfSQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oZHVyYXRpb24pe3ZhciBjYWxsZWQ9ITEsJGVsPXRoaXM7JCh0aGlzKS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtjYWxsZWQ9ITB9KTt2YXIgY2FsbGJhY2s9ZnVuY3Rpb24oKXtjYWxsZWR8fCQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCl9O3JldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLGR1cmF0aW9uKSx0aGlzfSwkKGZ1bmN0aW9uKCl7JC5zdXBwb3J0LnRyYW5zaXRpb249dHJhbnNpdGlvbkVuZCgpLCQuc3VwcG9ydC50cmFuc2l0aW9uJiYoJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZD17YmluZFR5cGU6JC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGRlbGVnYXRlVHlwZTokLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsaGFuZGxlOmZ1bmN0aW9uKGUpe3JldHVybiAkKGUudGFyZ2V0KS5pcyh0aGlzKT9lLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oJCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LG9wdGlvbnMpe3ZhciBwcm9jZXNzPSQucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpO3RoaXMuJGJvZHk9JCgiYm9keSIpLHRoaXMuJHNjcm9sbEVsZW1lbnQ9JCgkKGVsZW1lbnQpLmlzKCJib2R5Iik/d2luZG93OmVsZW1lbnQpLHRoaXMub3B0aW9ucz0kLmV4dGVuZCh7fSxTY3JvbGxTcHkuREVGQVVMVFMsb3B0aW9ucyksdGhpcy5zZWxlY3Rvcj0odGhpcy5vcHRpb25zLnRhcmdldHx8IiIpKyIgLm5hdiBsaSA+IGEiLHRoaXMub2Zmc2V0cz1bXSx0aGlzLnRhcmdldHM9W10sdGhpcy5hY3RpdmVUYXJnZXQ9bnVsbCx0aGlzLnNjcm9sbEhlaWdodD0wLHRoaXMuJHNjcm9sbEVsZW1lbnQub24oInNjcm9sbC5icy5zY3JvbGxzcHkiLHByb2Nlc3MpLHRoaXMucmVmcmVzaCgpLHRoaXMucHJvY2VzcygpfWZ1bmN0aW9uIFBsdWdpbihvcHRpb24pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxkYXRhPSR0aGlzLmRhdGEoImJzLnNjcm9sbHNweSIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjtkYXRhfHwkdGhpcy5kYXRhKCJicy5zY3JvbGxzcHkiLGRhdGE9bmV3IFNjcm9sbFNweSh0aGlzLG9wdGlvbnMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dKCl9KX1TY3JvbGxTcHkuVkVSU0lPTj0iMy4yLjAiLFNjcm9sbFNweS5ERUZBVUxUUz17b2Zmc2V0OjEwfSxTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodHx8TWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9LFNjcm9sbFNweS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBvZmZzZXRNZXRob2Q9Im9mZnNldCIsb2Zmc2V0QmFzZT0wOyQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSl8fChvZmZzZXRNZXRob2Q9InBvc2l0aW9uIixvZmZzZXRCYXNlPXRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkpLHRoaXMub2Zmc2V0cz1bXSx0aGlzLnRhcmdldHM9W10sdGhpcy5zY3JvbGxIZWlnaHQ9dGhpcy5nZXRTY3JvbGxIZWlnaHQoKTt2YXIgc2VsZj10aGlzO3RoaXMuJGJvZHkuZmluZCh0aGlzLnNlbGVjdG9yKS5tYXAoZnVuY3Rpb24oKXt2YXIgJGVsPSQodGhpcyksaHJlZj0kZWwuZGF0YSgidGFyZ2V0Iil8fCRlbC5hdHRyKCJocmVmIiksJGhyZWY9L14jLi8udGVzdChocmVmKSYmJChocmVmKTtyZXR1cm4gJGhyZWYmJiRocmVmLmxlbmd0aCYmJGhyZWYuaXMoIjp2aXNpYmxlIikmJltbJGhyZWZbb2Zmc2V0TWV0aG9kXSgpLnRvcCtvZmZzZXRCYXNlLGhyZWZdXXx8bnVsbH0pLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVswXS1iWzBdfSkuZWFjaChmdW5jdGlvbigpe3NlbGYub2Zmc2V0cy5wdXNoKHRoaXNbMF0pLHNlbGYudGFyZ2V0cy5wdXNoKHRoaXNbMV0pfSl9LFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe3ZhciBpLHNjcm9sbFRvcD10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpK3RoaXMub3B0aW9ucy5vZmZzZXQsc2Nyb2xsSGVpZ2h0PXRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KCksbWF4U2Nyb2xsPXRoaXMub3B0aW9ucy5vZmZzZXQrc2Nyb2xsSGVpZ2h0LXRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KCksb2Zmc2V0cz10aGlzLm9mZnNldHMsdGFyZ2V0cz10aGlzLnRhcmdldHMsYWN0aXZlVGFyZ2V0PXRoaXMuYWN0aXZlVGFyZ2V0O2lmKHRoaXMuc2Nyb2xsSGVpZ2h0IT1zY3JvbGxIZWlnaHQmJnRoaXMucmVmcmVzaCgpLHNjcm9sbFRvcD49bWF4U2Nyb2xsKXJldHVybiBhY3RpdmVUYXJnZXQhPShpPXRhcmdldHNbdGFyZ2V0cy5sZW5ndGgtMV0pJiZ0aGlzLmFjdGl2YXRlKGkpO2lmKGFjdGl2ZVRhcmdldCYmc2Nyb2xsVG9wPD1vZmZzZXRzWzBdKXJldHVybiBhY3RpdmVUYXJnZXQhPShpPXRhcmdldHNbMF0pJiZ0aGlzLmFjdGl2YXRlKGkpO2ZvcihpPW9mZnNldHMubGVuZ3RoO2ktLTspYWN0aXZlVGFyZ2V0IT10YXJnZXRzW2ldJiZzY3JvbGxUb3A+PW9mZnNldHNbaV0mJighb2Zmc2V0c1tpKzFdfHxzY3JvbGxUb3A8PW9mZnNldHNbaSsxXSkmJnRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSl9LFNjcm9sbFNweS5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24odGFyZ2V0KXt0aGlzLmFjdGl2ZVRhcmdldD10YXJnZXQsJCh0aGlzLnNlbGVjdG9yKS5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTsKdmFyIHNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrJ1tkYXRhLXRhcmdldD0iJyt0YXJnZXQrJyJdLCcrdGhpcy5zZWxlY3RvcisnW2hyZWY9IicrdGFyZ2V0KyciXScsYWN0aXZlPSQoc2VsZWN0b3IpLnBhcmVudHMoImxpIikuYWRkQ2xhc3MoImFjdGl2ZSIpO2FjdGl2ZS5wYXJlbnQoIi5kcm9wZG93bi1tZW51IikubGVuZ3RoJiYoYWN0aXZlPWFjdGl2ZS5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKSksYWN0aXZlLnRyaWdnZXIoImFjdGl2YXRlLmJzLnNjcm9sbHNweSIpfTt2YXIgb2xkPSQuZm4uc2Nyb2xsc3B5OyQuZm4uc2Nyb2xsc3B5PVBsdWdpbiwkLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3Rvcj1TY3JvbGxTcHksJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLnNjcm9sbHNweT1vbGQsdGhpc30sJCh3aW5kb3cpLm9uKCJsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaSIsZnVuY3Rpb24oKXskKCdbZGF0YS1zcHk9InNjcm9sbCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciAkc3B5PSQodGhpcyk7UGx1Z2luLmNhbGwoJHNweSwkc3B5LmRhdGEoKSl9KX0pfShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbixfcmVsYXRlZFRhcmdldCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMubW9kYWwiKSxvcHRpb25zPSQuZXh0ZW5kKHt9LE1vZGFsLkRFRkFVTFRTLCR0aGlzLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uKTtkYXRhfHwkdGhpcy5kYXRhKCJicy5tb2RhbCIsZGF0YT1uZXcgTW9kYWwodGhpcyxvcHRpb25zKSksInN0cmluZyI9PXR5cGVvZiBvcHRpb24/ZGF0YVtvcHRpb25dKF9yZWxhdGVkVGFyZ2V0KTpvcHRpb25zLnNob3cmJmRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldCl9KX12YXIgTW9kYWw9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLiRib2R5PSQoZG9jdW1lbnQuYm9keSksdGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMuJGJhY2tkcm9wPXRoaXMuaXNTaG93bj1udWxsLHRoaXMuc2Nyb2xsYmFyV2lkdGg9MCx0aGlzLm9wdGlvbnMucmVtb3RlJiZ0aGlzLiRlbGVtZW50LmZpbmQoIi5tb2RhbC1jb250ZW50IikubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCQucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoImxvYWRlZC5icy5tb2RhbCIpfSx0aGlzKSl9O01vZGFsLlZFUlNJT049IjMuMi4wIixNb2RhbC5ERUZBVUxUUz17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsc2hvdzohMH0sTW9kYWwucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihfcmVsYXRlZFRhcmdldCl7cmV0dXJuIHRoaXMuaXNTaG93bj90aGlzLmhpZGUoKTp0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpfSxNb2RhbC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihfcmVsYXRlZFRhcmdldCl7dmFyIHRoYXQ9dGhpcyxlPSQuRXZlbnQoInNob3cuYnMubW9kYWwiLHtyZWxhdGVkVGFyZ2V0Ol9yZWxhdGVkVGFyZ2V0fSk7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLHRoaXMuaXNTaG93bnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuaXNTaG93bj0hMCx0aGlzLmNoZWNrU2Nyb2xsYmFyKCksdGhpcy4kYm9keS5hZGRDbGFzcygibW9kYWwtb3BlbiIpLHRoaXMuc2V0U2Nyb2xsYmFyKCksdGhpcy5lc2NhcGUoKSx0aGlzLiRlbGVtZW50Lm9uKCJjbGljay5kaXNtaXNzLmJzLm1vZGFsIiwnW2RhdGEtZGlzbWlzcz0ibW9kYWwiXScsJC5wcm94eSh0aGlzLmhpZGUsdGhpcykpLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXt2YXIgdHJhbnNpdGlvbj0kLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhhdC4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpO3RoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RofHx0aGF0LiRlbGVtZW50LmFwcGVuZFRvKHRoYXQuJGJvZHkpLHRoYXQuJGVsZW1lbnQuc2hvdygpLnNjcm9sbFRvcCgwKSx0cmFuc2l0aW9uJiZ0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoLHRoYXQuJGVsZW1lbnQuYWRkQ2xhc3MoImluIikuYXR0cigiYXJpYS1oaWRkZW4iLCExKSx0aGF0LmVuZm9yY2VGb2N1cygpO3ZhciBlPSQuRXZlbnQoInNob3duLmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDpfcmVsYXRlZFRhcmdldH0pO3RyYW5zaXRpb24/dGhhdC4kZWxlbWVudC5maW5kKCIubW9kYWwtZGlhbG9nIikub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLnRyaWdnZXIoZSl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApOnRoYXQuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKGUpfSkpfSxNb2RhbC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihlKXtlJiZlLnByZXZlbnREZWZhdWx0KCksZT0kLkV2ZW50KCJoaWRlLmJzLm1vZGFsIiksdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLHRoaXMuaXNTaG93biYmIWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0aGlzLmlzU2hvd249ITEsdGhpcy4kYm9keS5yZW1vdmVDbGFzcygibW9kYWwtb3BlbiIpLHRoaXMucmVzZXRTY3JvbGxiYXIoKSx0aGlzLmVzY2FwZSgpLCQoZG9jdW1lbnQpLm9mZigiZm9jdXNpbi5icy5tb2RhbCIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImluIikuYXR0cigiYXJpYS1oaWRkZW4iLCEwKS5vZmYoImNsaWNrLmRpc21pc3MuYnMubW9kYWwiKSwkLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpP3RoaXMuJGVsZW1lbnQub25lKCJic1RyYW5zaXRpb25FbmQiLCQucHJveHkodGhpcy5oaWRlTW9kYWwsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCk6dGhpcy5oaWRlTW9kYWwoKSl9LE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXM9ZnVuY3Rpb24oKXskKGRvY3VtZW50KS5vZmYoImZvY3VzaW4uYnMubW9kYWwiKS5vbigiZm9jdXNpbi5icy5tb2RhbCIsJC5wcm94eShmdW5jdGlvbihlKXt0aGlzLiRlbGVtZW50WzBdPT09ZS50YXJnZXR8fHRoaXMuJGVsZW1lbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGh8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKX0sdGhpcykpfSxNb2RhbC5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMua2V5Ym9hcmQ/dGhpcy4kZWxlbWVudC5vbigia2V5dXAuZGlzbWlzcy5icy5tb2RhbCIsJC5wcm94eShmdW5jdGlvbihlKXsyNz09ZS53aGljaCYmdGhpcy5oaWRlKCl9LHRoaXMpKTp0aGlzLmlzU2hvd258fHRoaXMuJGVsZW1lbnQub2ZmKCJrZXl1cC5kaXNtaXNzLmJzLm1vZGFsIil9LE1vZGFsLnByb3RvdHlwZS5oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMuJGVsZW1lbnQuaGlkZSgpLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXt0aGF0LiRlbGVtZW50LnRyaWdnZXIoImhpZGRlbi5icy5tb2RhbCIpfSl9LE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wJiZ0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKSx0aGlzLiRiYWNrZHJvcD1udWxsfSxNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3A9ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciB0aGF0PXRoaXMsYW5pbWF0ZT10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/ImZhZGUiOiIiO2lmKHRoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmJhY2tkcm9wKXt2YXIgZG9BbmltYXRlPSQuc3VwcG9ydC50cmFuc2l0aW9uJiZhbmltYXRlO2lmKHRoaXMuJGJhY2tkcm9wPSQoJzxkaXYgY2xhc3M9Im1vZGFsLWJhY2tkcm9wICcrYW5pbWF0ZSsnIiAvPicpLmFwcGVuZFRvKHRoaXMuJGJvZHkpLHRoaXMuJGVsZW1lbnQub24oImNsaWNrLmRpc21pc3MuYnMubW9kYWwiLCQucHJveHkoZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PT1lLmN1cnJlbnRUYXJnZXQmJigic3RhdGljIj09dGhpcy5vcHRpb25zLmJhY2tkcm9wP3RoaXMuJGVsZW1lbnRbMF0uZm9jdXMuY2FsbCh0aGlzLiRlbGVtZW50WzBdKTp0aGlzLmhpZGUuY2FsbCh0aGlzKSl9LHRoaXMpKSxkb0FuaW1hdGUmJnRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoLHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCJpbiIpLCFjYWxsYmFjaylyZXR1cm47ZG9BbmltYXRlP3RoaXMuJGJhY2tkcm9wLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixjYWxsYmFjaykuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpjYWxsYmFjaygpfWVsc2UgaWYoIXRoaXMuaXNTaG93biYmdGhpcy4kYmFja2Ryb3Ape3RoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKCJpbiIpO3ZhciBjYWxsYmFja1JlbW92ZT1mdW5jdGlvbigpe3RoYXQucmVtb3ZlQmFja2Ryb3AoKSxjYWxsYmFjayYmY2FsbGJhY2soKX07JC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKT90aGlzLiRiYWNrZHJvcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsY2FsbGJhY2tSZW1vdmUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6Y2FsbGJhY2tSZW1vdmUoKX1lbHNlIGNhbGxiYWNrJiZjYWxsYmFjaygpfSxNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXI9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoPj13aW5kb3cuaW5uZXJXaWR0aHx8KHRoaXMuc2Nyb2xsYmFyV2lkdGg9dGhpcy5zY3JvbGxiYXJXaWR0aHx8dGhpcy5tZWFzdXJlU2Nyb2xsYmFyKCkpfSxNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGJvZHlQYWQ9cGFyc2VJbnQodGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiKXx8MCwxMCk7dGhpcy5zY3JvbGxiYXJXaWR0aCYmdGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiLGJvZHlQYWQrdGhpcy5zY3JvbGxiYXJXaWR0aCl9LE1vZGFsLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3RoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0IiwiIil9LE1vZGFsLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIHNjcm9sbERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtzY3JvbGxEaXYuY2xhc3NOYW1lPSJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSIsdGhpcy4kYm9keS5hcHBlbmQoc2Nyb2xsRGl2KTt2YXIgc2Nyb2xsYmFyV2lkdGg9c2Nyb2xsRGl2Lm9mZnNldFdpZHRoLXNjcm9sbERpdi5jbGllbnRXaWR0aDtyZXR1cm4gdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpLHNjcm9sbGJhcldpZHRofTt2YXIgb2xkPSQuZm4ubW9kYWw7JC5mbi5tb2RhbD1QbHVnaW4sJC5mbi5tb2RhbC5Db25zdHJ1Y3Rvcj1Nb2RhbCwkLmZuLm1vZGFsLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5tb2RhbD1vbGQsdGhpc30sJChkb2N1bWVudCkub24oImNsaWNrLmJzLm1vZGFsLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJtb2RhbCJdJyxmdW5jdGlvbihlKXt2YXIgJHRoaXM9JCh0aGlzKSxocmVmPSR0aGlzLmF0dHIoImhyZWYiKSwkdGFyZ2V0PSQoJHRoaXMuYXR0cigiZGF0YS10YXJnZXQiKXx8aHJlZiYmaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpKSxvcHRpb249JHRhcmdldC5kYXRhKCJicy5tb2RhbCIpPyJ0b2dnbGUiOiQuZXh0ZW5kKHtyZW1vdGU6IS8jLy50ZXN0KGhyZWYpJiZocmVmfSwkdGFyZ2V0LmRhdGEoKSwkdGhpcy5kYXRhKCkpOyR0aGlzLmlzKCJhIikmJmUucHJldmVudERlZmF1bHQoKSwkdGFyZ2V0Lm9uZSgic2hvdy5icy5tb2RhbCIsZnVuY3Rpb24oc2hvd0V2ZW50KXtzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fCR0YXJnZXQub25lKCJoaWRkZW4uYnMubW9kYWwiLGZ1bmN0aW9uKCl7JHRoaXMuaXMoIjp2aXNpYmxlIikmJiR0aGlzLnRyaWdnZXIoImZvY3VzIil9KX0pLFBsdWdpbi5jYWxsKCR0YXJnZXQsb3B0aW9uLHRoaXMpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksZGF0YT0kdGhpcy5kYXRhKCJicy50b29sdGlwIiksb3B0aW9ucz0ib2JqZWN0Ij09dHlwZW9mIG9wdGlvbiYmb3B0aW9uOyhkYXRhfHwiZGVzdHJveSIhPW9wdGlvbikmJihkYXRhfHwkdGhpcy5kYXRhKCJicy50b29sdGlwIixkYXRhPW5ldyBUb29sdGlwKHRoaXMsb3B0aW9ucykpLCJzdHJpbmciPT10eXBlb2Ygb3B0aW9uJiZkYXRhW29wdGlvbl0oKSl9KX12YXIgVG9vbHRpcD1mdW5jdGlvbihlbGVtZW50LG9wdGlvbnMpe3RoaXMudHlwZT10aGlzLm9wdGlvbnM9dGhpcy5lbmFibGVkPXRoaXMudGltZW91dD10aGlzLmhvdmVyU3RhdGU9dGhpcy4kZWxlbWVudD1udWxsLHRoaXMuaW5pdCgidG9vbHRpcCIsZWxlbWVudCxvcHRpb25zKX07VG9vbHRpcC5WRVJTSU9OPSIzLjIuMCIsVG9vbHRpcC5ERUZBVUxUUz17YW5pbWF0aW9uOiEwLHBsYWNlbWVudDoidG9wIixzZWxlY3RvcjohMSx0ZW1wbGF0ZTonPGRpdiBjbGFzcz0idG9vbHRpcCIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+PGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciI+PC9kaXY+PC9kaXY+Jyx0cmlnZ2VyOiJob3ZlciBmb2N1cyIsdGl0bGU6IiIsZGVsYXk6MCxodG1sOiExLGNvbnRhaW5lcjohMSx2aWV3cG9ydDp7c2VsZWN0b3I6ImJvZHkiLHBhZGRpbmc6MH19LFRvb2x0aXAucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odHlwZSxlbGVtZW50LG9wdGlvbnMpe3RoaXMuZW5hYmxlZD0hMCx0aGlzLnR5cGU9dHlwZSx0aGlzLiRlbGVtZW50PSQoZWxlbWVudCksdGhpcy5vcHRpb25zPXRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKSx0aGlzLiR2aWV3cG9ydD10aGlzLm9wdGlvbnMudmlld3BvcnQmJiQodGhpcy5vcHRpb25zLnZpZXdwb3J0LnNlbGVjdG9yfHx0aGlzLm9wdGlvbnMudmlld3BvcnQpO2Zvcih2YXIgdHJpZ2dlcnM9dGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoIiAiKSxpPXRyaWdnZXJzLmxlbmd0aDtpLS07KXt2YXIgdHJpZ2dlcj10cmlnZ2Vyc1tpXTtpZigiY2xpY2siPT10cmlnZ2VyKXRoaXMuJGVsZW1lbnQub24oImNsaWNrLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvciwkLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKCJtYW51YWwiIT10cmlnZ2VyKXt2YXIgZXZlbnRJbj0iaG92ZXIiPT10cmlnZ2VyPyJtb3VzZWVudGVyIjoiZm9jdXNpbiIsZXZlbnRPdXQ9ImhvdmVyIj09dHJpZ2dlcj8ibW91c2VsZWF2ZSI6ImZvY3Vzb3V0Ijt0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4rIi4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsJC5wcm94eSh0aGlzLmVudGVyLHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0KyIuIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLCQucHJveHkodGhpcy5sZWF2ZSx0aGlzKSl9fXRoaXMub3B0aW9ucy5zZWxlY3Rvcj90aGlzLl9vcHRpb25zPSQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx7dHJpZ2dlcjoibWFudWFsIixzZWxlY3RvcjoiIn0pOnRoaXMuZml4VGl0bGUoKX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHM9ZnVuY3Rpb24oKXtyZXR1cm4gVG9vbHRpcC5ERUZBVUxUU30sVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gb3B0aW9ucz0kLmV4dGVuZCh7fSx0aGlzLmdldERlZmF1bHRzKCksdGhpcy4kZWxlbWVudC5kYXRhKCksb3B0aW9ucyksb3B0aW9ucy5kZWxheSYmIm51bWJlciI9PXR5cGVvZiBvcHRpb25zLmRlbGF5JiYob3B0aW9ucy5kZWxheT17c2hvdzpvcHRpb25zLmRlbGF5LGhpZGU6b3B0aW9ucy5kZWxheX0pLG9wdGlvbnN9LFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciBvcHRpb25zPXt9LGRlZmF1bHRzPXRoaXMuZ2V0RGVmYXVsdHMoKTtyZXR1cm4gdGhpcy5fb3B0aW9ucyYmJC5lYWNoKHRoaXMuX29wdGlvbnMsZnVuY3Rpb24oa2V5LHZhbHVlKXtkZWZhdWx0c1trZXldIT12YWx1ZSYmKG9wdGlvbnNba2V5XT12YWx1ZSl9KSxvcHRpb25zfSxUb29sdGlwLnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbihvYmope3ZhciBzZWxmPW9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/b2JqOiQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlKTtyZXR1cm4gc2VsZnx8KHNlbGY9bmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsc2VsZikpLGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpLHNlbGYuaG92ZXJTdGF0ZT0iaW4iLHNlbGYub3B0aW9ucy5kZWxheSYmc2VsZi5vcHRpb25zLmRlbGF5LnNob3c/dm9pZChzZWxmLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeyJpbiI9PXNlbGYuaG92ZXJTdGF0ZSYmc2VsZi5zaG93KCl9LHNlbGYub3B0aW9ucy5kZWxheS5zaG93KSk6c2VsZi5zaG93KCl9LFRvb2x0aXAucHJvdG90eXBlLmxlYXZlPWZ1bmN0aW9uKG9iail7dmFyIHNlbGY9b2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9vYmo6JChvYmouY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUpO3JldHVybiBzZWxmfHwoc2VsZj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSwkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxzZWxmKSksY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dCksc2VsZi5ob3ZlclN0YXRlPSJvdXQiLHNlbGYub3B0aW9ucy5kZWxheSYmc2VsZi5vcHRpb25zLmRlbGF5LmhpZGU/dm9pZChzZWxmLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeyJvdXQiPT1zZWxmLmhvdmVyU3RhdGUmJnNlbGYuaGlkZSgpfSxzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSkpOnNlbGYuaGlkZSgpfSxUb29sdGlwLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGU9JC5FdmVudCgic2hvdy5icy4iK3RoaXMudHlwZSk7aWYodGhpcy5oYXNDb250ZW50KCkmJnRoaXMuZW5hYmxlZCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpO3ZhciBpbkRvbT0kLmNvbnRhaW5zKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLiRlbGVtZW50WzBdKTtpZihlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhaW5Eb20pcmV0dXJuO3ZhciB0aGF0PXRoaXMsJHRpcD10aGlzLnRpcCgpLHRpcElkPXRoaXMuZ2V0VUlEKHRoaXMudHlwZSk7dGhpcy5zZXRDb250ZW50KCksJHRpcC5hdHRyKCJpZCIsdGlwSWQpLHRoaXMuJGVsZW1lbnQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsdGlwSWQpLHRoaXMub3B0aW9ucy5hbmltYXRpb24mJiR0aXAuYWRkQ2xhc3MoImZhZGUiKTt2YXIgcGxhY2VtZW50PSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50P3RoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCR0aXBbMF0sdGhpcy4kZWxlbWVudFswXSk6dGhpcy5vcHRpb25zLnBsYWNlbWVudCxhdXRvVG9rZW49L1xzP2F1dG8/XHM/L2ksYXV0b1BsYWNlPWF1dG9Ub2tlbi50ZXN0KHBsYWNlbWVudCk7YXV0b1BsYWNlJiYocGxhY2VtZW50PXBsYWNlbWVudC5yZXBsYWNlKGF1dG9Ub2tlbiwiIil8fCJ0b3AiKSwkdGlwLmRldGFjaCgpLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6ImJsb2NrIn0pLmFkZENsYXNzKHBsYWNlbWVudCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsdGhpcyksdGhpcy5vcHRpb25zLmNvbnRhaW5lcj8kdGlwLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpOiR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudCk7dmFyIHBvcz10aGlzLmdldFBvc2l0aW9uKCksYWN0dWFsV2lkdGg9JHRpcFswXS5vZmZzZXRXaWR0aCxhY3R1YWxIZWlnaHQ9JHRpcFswXS5vZmZzZXRIZWlnaHQ7aWYoYXV0b1BsYWNlKXt2YXIgb3JnUGxhY2VtZW50PXBsYWNlbWVudCwkcGFyZW50PXRoaXMuJGVsZW1lbnQucGFyZW50KCkscGFyZW50RGltPXRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudCk7cGxhY2VtZW50PSJib3R0b20iPT1wbGFjZW1lbnQmJnBvcy50b3ArcG9zLmhlaWdodCthY3R1YWxIZWlnaHQtcGFyZW50RGltLnNjcm9sbD5wYXJlbnREaW0uaGVpZ2h0PyJ0b3AiOiJ0b3AiPT1wbGFjZW1lbnQmJnBvcy50b3AtcGFyZW50RGltLnNjcm9sbC1hY3R1YWxIZWlnaHQ8MD8iYm90dG9tIjoicmlnaHQiPT1wbGFjZW1lbnQmJnBvcy5yaWdodCthY3R1YWxXaWR0aD5wYXJlbnREaW0ud2lkdGg/ImxlZnQiOiJsZWZ0Ij09cGxhY2VtZW50JiZwb3MubGVmdC1hY3R1YWxXaWR0aDxwYXJlbnREaW0ubGVmdD8icmlnaHQiOnBsYWNlbWVudCwkdGlwLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudCkuYWRkQ2xhc3MocGxhY2VtZW50KX12YXIgY2FsY3VsYXRlZE9mZnNldD10aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LHBvcyxhY3R1YWxXaWR0aCxhY3R1YWxIZWlnaHQpO3RoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCxwbGFjZW1lbnQpO3ZhciBjb21wbGV0ZT1mdW5jdGlvbigpe3RoYXQuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuIit0aGF0LnR5cGUpLHRoYXQuaG92ZXJTdGF0ZT1udWxsfTskLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKCJmYWRlIik/JHRpcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6Y29tcGxldGUoKX19LFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50PWZ1bmN0aW9uKG9mZnNldCxwbGFjZW1lbnQpe3ZhciAkdGlwPXRoaXMudGlwKCksd2lkdGg9JHRpcFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ9JHRpcFswXS5vZmZzZXRIZWlnaHQsbWFyZ2luVG9wPXBhcnNlSW50KCR0aXAuY3NzKCJtYXJnaW4tdG9wIiksMTApLG1hcmdpbkxlZnQ9cGFyc2VJbnQoJHRpcC5jc3MoIm1hcmdpbi1sZWZ0IiksMTApO2lzTmFOKG1hcmdpblRvcCkmJihtYXJnaW5Ub3A9MCksaXNOYU4obWFyZ2luTGVmdCkmJihtYXJnaW5MZWZ0PTApLG9mZnNldC50b3A9b2Zmc2V0LnRvcCttYXJnaW5Ub3Asb2Zmc2V0LmxlZnQ9b2Zmc2V0LmxlZnQrbWFyZ2luTGVmdCwkLm9mZnNldC5zZXRPZmZzZXQoJHRpcFswXSwkLmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24ocHJvcHMpeyR0aXAuY3NzKHt0b3A6TWF0aC5yb3VuZChwcm9wcy50b3ApLGxlZnQ6TWF0aC5yb3VuZChwcm9wcy5sZWZ0KX0pfX0sb2Zmc2V0KSwwKSwkdGlwLmFkZENsYXNzKCJpbiIpO3ZhciBhY3R1YWxXaWR0aD0kdGlwWzBdLm9mZnNldFdpZHRoLGFjdHVhbEhlaWdodD0kdGlwWzBdLm9mZnNldEhlaWdodDsidG9wIj09cGxhY2VtZW50JiZhY3R1YWxIZWlnaHQhPWhlaWdodCYmKG9mZnNldC50b3A9b2Zmc2V0LnRvcCtoZWlnaHQtYWN0dWFsSGVpZ2h0KTt2YXIgZGVsdGE9dGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LG9mZnNldCxhY3R1YWxXaWR0aCxhY3R1YWxIZWlnaHQpO2RlbHRhLmxlZnQ/b2Zmc2V0LmxlZnQrPWRlbHRhLmxlZnQ6b2Zmc2V0LnRvcCs9ZGVsdGEudG9wO3ZhciBhcnJvd0RlbHRhPWRlbHRhLmxlZnQ/MipkZWx0YS5sZWZ0LXdpZHRoK2FjdHVhbFdpZHRoOjIqZGVsdGEudG9wLWhlaWdodCthY3R1YWxIZWlnaHQsYXJyb3dQb3NpdGlvbj1kZWx0YS5sZWZ0PyJsZWZ0IjoidG9wIixhcnJvd09mZnNldFBvc2l0aW9uPWRlbHRhLmxlZnQ/Im9mZnNldFdpZHRoIjoib2Zmc2V0SGVpZ2h0IjskdGlwLm9mZnNldChvZmZzZXQpLHRoaXMucmVwbGFjZUFycm93KGFycm93RGVsdGEsJHRpcFswXVthcnJvd09mZnNldFBvc2l0aW9uXSxhcnJvd1Bvc2l0aW9uKX0sVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93PWZ1bmN0aW9uKGRlbHRhLGRpbWVuc2lvbixwb3NpdGlvbil7dGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbixkZWx0YT81MCooMS1kZWx0YS9kaW1lbnNpb24pKyIlIjoiIil9LFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgJHRpcD10aGlzLnRpcCgpLHRpdGxlPXRoaXMuZ2V0VGl0bGUoKTskdGlwLmZpbmQoIi50b29sdGlwLWlubmVyIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0odGl0bGUpLCR0aXAucmVtb3ZlQ2xhc3MoImZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0Iil9LFRvb2x0aXAucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjb21wbGV0ZSgpeyJpbiIhPXRoYXQuaG92ZXJTdGF0ZSYmJHRpcC5kZXRhY2goKSx0aGF0LiRlbGVtZW50LnRyaWdnZXIoImhpZGRlbi5icy4iK3RoYXQudHlwZSl9dmFyIHRoYXQ9dGhpcywkdGlwPXRoaXMudGlwKCksZT0kLkV2ZW50KCJoaWRlLmJzLiIrdGhpcy50eXBlKTtyZXR1cm4gdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IiksdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCk/dm9pZCAwOigkdGlwLnJlbW92ZUNsYXNzKCJpbiIpLCQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiR0aXAuaGFzQ2xhc3MoImZhZGUiKT8kdGlwLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpjb21wbGV0ZSgpLHRoaXMuaG92ZXJTdGF0ZT1udWxsLHRoaXMpfSxUb29sdGlwLnByb3RvdHlwZS5maXhUaXRsZT1mdW5jdGlvbigpe3ZhciAkZT10aGlzLiRlbGVtZW50OygkZS5hdHRyKCJ0aXRsZSIpfHwic3RyaW5nIiE9dHlwZW9mICRlLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKSkmJiRlLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiLCRlLmF0dHIoInRpdGxlIil8fCIiKS5hdHRyKCJ0aXRsZSIsIiIpfSxUb29sdGlwLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oJGVsZW1lbnQpeyRlbGVtZW50PSRlbGVtZW50fHx0aGlzLiRlbGVtZW50O3ZhciBlbD0kZWxlbWVudFswXSxpc0JvZHk9IkJPRFkiPT1lbC50YWdOYW1lO3JldHVybiAkLmV4dGVuZCh7fSwiZnVuY3Rpb24iPT10eXBlb2YgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0P2VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGwse3Njcm9sbDppc0JvZHk/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A6JGVsZW1lbnQuc2Nyb2xsVG9wKCksd2lkdGg6aXNCb2R5PyQod2luZG93KS53aWR0aCgpOiRlbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6aXNCb2R5PyQod2luZG93KS5oZWlnaHQoKTokZWxlbWVudC5vdXRlckhlaWdodCgpfSxpc0JvZHk/e3RvcDowLGxlZnQ6MH06JGVsZW1lbnQub2Zmc2V0KCkpfSxUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0PWZ1bmN0aW9uKHBsYWNlbWVudCxwb3MsYWN0dWFsV2lkdGgsYWN0dWFsSGVpZ2h0KXtyZXR1cm4iYm90dG9tIj09cGxhY2VtZW50P3t0b3A6cG9zLnRvcCtwb3MuaGVpZ2h0LGxlZnQ6cG9zLmxlZnQrcG9zLndpZHRoLzItYWN0dWFsV2lkdGgvMn06InRvcCI9PXBsYWNlbWVudD97dG9wOnBvcy50b3AtYWN0dWFsSGVpZ2h0LGxlZnQ6cG9zLmxlZnQrcG9zLndpZHRoLzItYWN0dWFsV2lkdGgvMn06ImxlZnQiPT1wbGFjZW1lbnQ/e3RvcDpwb3MudG9wK3Bvcy5oZWlnaHQvMi1hY3R1YWxIZWlnaHQvMixsZWZ0OnBvcy5sZWZ0LWFjdHVhbFdpZHRofTp7dG9wOnBvcy50b3ArcG9zLmhlaWdodC8yLWFjdHVhbEhlaWdodC8yLGxlZnQ6cG9zLmxlZnQrcG9zLndpZHRofX0sVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhPWZ1bmN0aW9uKHBsYWNlbWVudCxwb3MsYWN0dWFsV2lkdGgsYWN0dWFsSGVpZ2h0KXt2YXIgZGVsdGE9e3RvcDowLGxlZnQ6MH07aWYoIXRoaXMuJHZpZXdwb3J0KXJldHVybiBkZWx0YTt2YXIgdmlld3BvcnRQYWRkaW5nPXRoaXMub3B0aW9ucy52aWV3cG9ydCYmdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmd8fDAsdmlld3BvcnREaW1lbnNpb25zPXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpO2lmKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpe3ZhciB0b3BFZGdlT2Zmc2V0PXBvcy50b3Atdmlld3BvcnRQYWRkaW5nLXZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwsYm90dG9tRWRnZU9mZnNldD1wb3MudG9wK3ZpZXdwb3J0UGFkZGluZy12aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsK2FjdHVhbEhlaWdodDt0b3BFZGdlT2Zmc2V0PHZpZXdwb3J0RGltZW5zaW9ucy50b3A/ZGVsdGEudG9wPXZpZXdwb3J0RGltZW5zaW9ucy50b3AtdG9wRWRnZU9mZnNldDpib3R0b21FZGdlT2Zmc2V0PnZpZXdwb3J0RGltZW5zaW9ucy50b3Ardmlld3BvcnREaW1lbnNpb25zLmhlaWdodCYmKGRlbHRhLnRvcD12aWV3cG9ydERpbWVuc2lvbnMudG9wK3ZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQtYm90dG9tRWRnZU9mZnNldCl9ZWxzZXt2YXIgbGVmdEVkZ2VPZmZzZXQ9cG9zLmxlZnQtdmlld3BvcnRQYWRkaW5nLHJpZ2h0RWRnZU9mZnNldD1wb3MubGVmdCt2aWV3cG9ydFBhZGRpbmcrYWN0dWFsV2lkdGg7bGVmdEVkZ2VPZmZzZXQ8dmlld3BvcnREaW1lbnNpb25zLmxlZnQ/ZGVsdGEubGVmdD12aWV3cG9ydERpbWVuc2lvbnMubGVmdC1sZWZ0RWRnZU9mZnNldDpyaWdodEVkZ2VPZmZzZXQ+dmlld3BvcnREaW1lbnNpb25zLndpZHRoJiYoZGVsdGEubGVmdD12aWV3cG9ydERpbWVuc2lvbnMubGVmdCt2aWV3cG9ydERpbWVuc2lvbnMud2lkdGgtcmlnaHRFZGdlT2Zmc2V0KX1yZXR1cm4gZGVsdGF9LFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIHRpdGxlLCRlPXRoaXMuJGVsZW1lbnQsbz10aGlzLm9wdGlvbnM7cmV0dXJuIHRpdGxlPSRlLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKXx8KCJmdW5jdGlvbiI9PXR5cGVvZiBvLnRpdGxlP28udGl0bGUuY2FsbCgkZVswXSk6by50aXRsZSl9LFRvb2x0aXAucHJvdG90eXBlLmdldFVJRD1mdW5jdGlvbihwcmVmaXgpe2RvIHByZWZpeCs9fn4oMWU2Kk1hdGgucmFuZG9tKCkpO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO3JldHVybiBwcmVmaXh9LFRvb2x0aXAucHJvdG90eXBlLnRpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0aXA9dGhpcy4kdGlwfHwkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSl9LFRvb2x0aXAucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoIi50b29sdGlwLWFycm93Iil9LFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlfHwodGhpcy5oaWRlKCksdGhpcy4kZWxlbWVudD1udWxsLHRoaXMub3B0aW9ucz1udWxsKX0sVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfSxUb29sdGlwLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfSxUb29sdGlwLnByb3RvdHlwZS50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSF0aGlzLmVuYWJsZWR9LFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihlKXt2YXIgc2VsZj10aGlzO2UmJihzZWxmPSQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSksc2VsZnx8KHNlbGY9bmV3IHRoaXMuY29uc3RydWN0b3IoZS5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLCQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxzZWxmKSkpLHNlbGYudGlwKCkuaGFzQ2xhc3MoImluIik/c2VsZi5sZWF2ZShzZWxmKTpzZWxmLmVudGVyKHNlbGYpfSxUb29sdGlwLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksdGhpcy5oaWRlKCkuJGVsZW1lbnQub2ZmKCIuIit0aGlzLnR5cGUpLnJlbW92ZURhdGEoImJzLiIrdGhpcy50eXBlKX07dmFyIG9sZD0kLmZuLnRvb2x0aXA7JC5mbi50b29sdGlwPVBsdWdpbiwkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3I9VG9vbHRpcCwkLmZuLnRvb2x0aXAubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiAkLmZuLnRvb2x0aXA9b2xkLHRoaXN9fShqUXVlcnkpLCtmdW5jdGlvbigkKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUGx1Z2luKG9wdGlvbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGRhdGE9JHRoaXMuZGF0YSgiYnMucG9wb3ZlciIpLG9wdGlvbnM9Im9iamVjdCI9PXR5cGVvZiBvcHRpb24mJm9wdGlvbjsoZGF0YXx8ImRlc3Ryb3kiIT1vcHRpb24pJiYoZGF0YXx8JHRoaXMuZGF0YSgiYnMucG9wb3ZlciIsZGF0YT1uZXcgUG9wb3Zlcih0aGlzLG9wdGlvbnMpKSwic3RyaW5nIj09dHlwZW9mIG9wdGlvbiYmZGF0YVtvcHRpb25dKCkpfSl9dmFyIFBvcG92ZXI9ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXt0aGlzLmluaXQoInBvcG92ZXIiLGVsZW1lbnQsb3B0aW9ucyl9O2lmKCEkLmZuLnRvb2x0aXApdGhyb3cgbmV3IEVycm9yKCJQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanMiKTtQb3BvdmVyLlZFUlNJT049IjMuMi4wIixQb3BvdmVyLkRFRkFVTFRTPSQuZXh0ZW5kKHt9LCQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUyx7cGxhY2VtZW50OiJyaWdodCIsdHJpZ2dlcjoiY2xpY2siLGNvbnRlbnQ6IiIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InBvcG92ZXIiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj48aDMgY2xhc3M9InBvcG92ZXItdGl0bGUiPjwvaDM+PGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50Ij48L2Rpdj48L2Rpdj4nfSksUG9wb3Zlci5wcm90b3R5cGU9JC5leHRlbmQoe30sJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSksUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3I9UG9wb3ZlcixQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBQb3BvdmVyLkRFRkFVTFRTfSxQb3BvdmVyLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyICR0aXA9dGhpcy50aXAoKSx0aXRsZT10aGlzLmdldFRpdGxlKCksY29udGVudD10aGlzLmdldENvbnRlbnQoKTskdGlwLmZpbmQoIi5wb3BvdmVyLXRpdGxlIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0odGl0bGUpLCR0aXAuZmluZCgiLnBvcG92ZXItY29udGVudCIpLmVtcHR5KClbdGhpcy5vcHRpb25zLmh0bWw/InN0cmluZyI9PXR5cGVvZiBjb250ZW50PyJodG1sIjoiYXBwZW5kIjoidGV4dCJdKGNvbnRlbnQpLCR0aXAucmVtb3ZlQ2xhc3MoImZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluIiksJHRpcC5maW5kKCIucG9wb3Zlci10aXRsZSIpLmh0bWwoKXx8JHRpcC5maW5kKCIucG9wb3Zlci10aXRsZSIpLmhpZGUoKX0sUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuZ2V0Q29udGVudCgpfSxQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyICRlPXRoaXMuJGVsZW1lbnQsbz10aGlzLm9wdGlvbnM7cmV0dXJuICRlLmF0dHIoImRhdGEtY29udGVudCIpfHwoImZ1bmN0aW9uIj09dHlwZW9mIG8uY29udGVudD9vLmNvbnRlbnQuY2FsbCgkZVswXSk6by5jb250ZW50KX0sUG9wb3Zlci5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZCgiLmFycm93Iil9LFBvcG92ZXIucHJvdG90eXBlLnRpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0aXB8fCh0aGlzLiR0aXA9JCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpKSx0aGlzLiR0aXB9O3ZhciBvbGQ9JC5mbi5wb3BvdmVyOyQuZm4ucG9wb3Zlcj1QbHVnaW4sJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yPVBvcG92ZXIsJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gJC5mbi5wb3BvdmVyPW9sZCx0aGlzfX0oalF1ZXJ5KSxmdW5jdGlvbigpe2Z1bmN0aW9uIG0oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYV19fWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF9fWZ1bmN0aW9uIHQoYSxjLGQpe2lmKCJzdHJpbmciPT10eXBlb2YgYSl7aWYoMD09PWEuaW5kZXhPZigiIyIpJiYoYT1hLnNsaWNlKDEpKSx0LkNhW2FdKXJldHVybiB0LkNhW2FdO2E9dC53KGEpfWlmKCFhfHwhYS5ub2RlTmFtZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZWxlbWVudCBvciBJRCBzdXBwbGllZCBpcyBub3QgdmFsaWQuICh2aWRlb2pzKSIpO3JldHVybiBhLnBsYXllcnx8bmV3IHQuUGxheWVyKGEsYyxkKX1mdW5jdGlvbiB1KGEsYyxkLGUpe3QuamMuZm9yRWFjaChkLGZ1bmN0aW9uKGQpe2EoYyxkLGUpfSl9ZnVuY3Rpb24gRCgpe31mdW5jdGlvbiBGKGEsYyl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYyk7YT9kLnVuc2hpZnQoYS50b1VwcGVyQ2FzZSgpKyI6Iik6YT0ibG9nIix0LmxvZy5oaXN0b3J5LnB1c2goZCksZC51bnNoaWZ0KCJWSURFT0pTOiIpLEVbYV0uYXBwbHk/RVthXS5hcHBseShFLGQpOkVbYV0oZC5qb2luKCIgIikpfWZ1bmN0aW9uIEcoYSl7YS5xKCJ2anMtbG9jay1zaG93aW5nIil9ZnVuY3Rpb24gSChhLGMsZCxlKXtyZXR1cm4gZCE9PWI/KGEuYi5zdHlsZVtjXT0tMSE9PSgiIitkKS5pbmRleE9mKCIlIil8fC0xIT09KCIiK2QpLmluZGV4T2YoInB4Iik/ZDoiYXV0byI9PT1kPyIiOmQrInB4IixlfHxhLmwoInJlc2l6ZSIpLGEpOmEuYj8oZD1hLmIuc3R5bGVbY10sZT1kLmluZGV4T2YoInB4IiksLTEhPT1lP3BhcnNlSW50KGQuc2xpY2UoMCxlKSwxMCk6cGFyc2VJbnQoYS5iWyJvZmZzZXQiK3QuYmEoYyldLDEwKSk6MH1mdW5jdGlvbiBJKGEpe3ZhciBjLGQsZSxnLGgsaixuLHE7Yz0wLGQ9ayxhLmQoInRvdWNoc3RhcnQiLGZ1bmN0aW9uKGEpezE9PT1hLnRvdWNoZXMubGVuZ3RoJiYoZD1hLnRvdWNoZXNbMF0sYz0obmV3IERhdGUpLmdldFRpbWUoKSxnPWYpfSksYS5kKCJ0b3VjaG1vdmUiLGZ1bmN0aW9uKGEpezE8YS50b3VjaGVzLmxlbmd0aD9nPWw6ZCYmKGo9YS50b3VjaGVzWzBdLnBhZ2VYLWQucGFnZVgsbj1hLnRvdWNoZXNbMF0ucGFnZVktZC5wYWdlWSxxPU1hdGguc3FydChqKmorbipuKSxxPjIyJiYoZz1sKSl9KSxoPWZ1bmN0aW9uKCl7Zz1sfSxhLmQoInRvdWNobGVhdmUiLGgpLGEuZCgidG91Y2hjYW5jZWwiLGgpLGEuZCgidG91Y2hlbmQiLGZ1bmN0aW9uKGEpe2Q9ayxnPT09ZiYmKGU9KG5ldyBEYXRlKS5nZXRUaW1lKCktYywyNTA+ZSYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLmwoInRhcCIpKSl9KX1mdW5jdGlvbiBKKGEsYyl7dmFyIGQsZSxnLGg7cmV0dXJuIGQ9YS5iLGU9dC51ZChkKSxoPWc9ZC5vZmZzZXRXaWR0aCxkPWEuaGFuZGxlLGEub3B0aW9ucygpLnZlcnRpY2FsPyhoPWUudG9wLGU9Yy5jaGFuZ2VkVG91Y2hlcz9jLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZOmMucGFnZVksZCYmKGQ9ZC53KCkub2Zmc2V0SGVpZ2h0LGgrPWQvMixnLT1kKSxNYXRoLm1heCgwLE1hdGgubWluKDEsKGgtZStnKS9nKSkpOihnPWUubGVmdCxlPWMuY2hhbmdlZFRvdWNoZXM/Yy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDpjLnBhZ2VYLGQmJihkPWQudygpLm9mZnNldFdpZHRoLGcrPWQvMixoLT1kKSxNYXRoLm1heCgwLE1hdGgubWluKDEsKGUtZykvaCkpKX1mdW5jdGlvbiBjYShhLGMpe2EuUihjKSxjLmQoImNsaWNrIix0LmJpbmQoYSxmdW5jdGlvbigpe0codGhpcyl9KSl9ZnVuY3Rpb24gTChhKXthLnRhPWYsYS5CYS5uKCJ2anMtbG9jay1zaG93aW5nIiksYS5iLnNldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIixmKSxhLk8mJjA8YS5PLmxlbmd0aCYmYS5PWzBdLncoKS5mb2N1cygpfWZ1bmN0aW9uIEsoYSl7YS50YT1sLEcoYS5CYSksYS5iLnNldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIixsKX1mdW5jdGlvbiBkYShhKXt2YXIgYz17c291cmNlczpbXSx0cmFja3M6W119O2lmKHQuaC5BKGMsdC5BYShhKSksYS5oYXNDaGlsZE5vZGVzKCkpe3ZhciBkLGUsZyxoO2ZvcihhPWEuY2hpbGROb2RlcyxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxlPWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwic291cmNlIj09PWU/Yy5zb3VyY2VzLnB1c2godC5BYShkKSk6InRyYWNrIj09PWUmJmMudHJhY2tzLnB1c2godC5BYShkKSl9cmV0dXJuIGN9ZnVuY3Rpb24gUihhLGMsZCl7YS5pJiYoYS5sYT1sLGEuTGImJihhLkxiPWwsY2xlYXJJbnRlcnZhbChhLmJiKSksYS5NYiYmUyhhKSxhLmkuZGlzcG9zZSgpLGEuaT1sKSwiSHRtbDUiIT09YyYmYS5QJiYodC5nLkNiKGEuUCksYS5QPWspLGEuZmI9YyxhLmxhPWw7dmFyIGU9dC5oLkEoe3NvdXJjZTpkLHBhcmVudEVsOmEuYn0sYS5rW2MudG9Mb3dlckNhc2UoKV0pO2QmJihhLm9jPWQudHlwZSxkLnNyYz09YS5DLnNyYyYmMDxhLkMuY3VycmVudFRpbWUmJihlLnN0YXJ0VGltZT1hLkMuY3VycmVudFRpbWUpLGEuQy5zcmM9ZC5zcmMpLGEuaT1uZXcgd2luZG93LnZpZGVvanNbY10oYSxlKSxhLmkuSihmdW5jdGlvbigpe2lmKHRoaXMuYy5IYSgpLCF0aGlzLm8ucHJvZ3Jlc3NFdmVudHMpe3ZhciBhPXRoaXMuYzthLkxiPWYsYS5iYj1zZXRJbnRlcnZhbCh0LmJpbmQoYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYnVmZmVyZWRQZXJjZW50KCk7dGhpcy5DLmJ1ZmZlcmVkUGVyY2VudCE9YSYmdGhpcy5sKCJwcm9ncmVzcyIpLHRoaXMuQy5idWZmZXJlZFBlcmNlbnQ9YSwxPT1hJiZjbGVhckludGVydmFsKHRoaXMuYmIpfSksNTAwKSxhLmkmJmEuaS5WKCJwcm9ncmVzcyIsZnVuY3Rpb24oKXt0aGlzLm8ucHJvZ3Jlc3NFdmVudHM9Zjt2YXIgYT10aGlzLmM7YS5MYj1sLGNsZWFySW50ZXJ2YWwoYS5iYil9KX10aGlzLm8udGltZXVwZGF0ZUV2ZW50c3x8KGE9dGhpcy5jLGEuTWI9ZixhLmQoInBsYXkiLGEuT2MpLGEuZCgicGF1c2UiLGEuRWEpLGEuaSYmYS5pLlYoInRpbWV1cGRhdGUiLGZ1bmN0aW9uKCl7dGhpcy5vLnRpbWV1cGRhdGVFdmVudHM9ZixTKHRoaXMuYyl9KSl9KX1mdW5jdGlvbiBTKGEpe2EuTWI9bCxhLkVhKCksYS5wKCJwbGF5IixhLk9jKSxhLnAoInBhdXNlIixhLkVhKX1mdW5jdGlvbiBlYShhLGMpe2MhPT1iJiZhLnZjIT09YyYmKChhLnZjPWMpPyhhLm4oInZqcy1oYXMtc3RhcnRlZCIpLGEubCgiZmlyc3RwbGF5IikpOmEucSgidmpzLWhhcy1zdGFydGVkIikpfWZ1bmN0aW9uIFUoYSxjLGQpe2lmKGEuaSYmIWEuaS5sYSlhLmkuSihmdW5jdGlvbigpe3RoaXNbY10oZCl9KTtlbHNlIHRyeXthLmlbY10oZCl9Y2F0Y2goZSl7dGhyb3cgdC5sb2coZSksZX19ZnVuY3Rpb24gVChhLGMpe2lmKGEuaSYmYS5pLmxhKXRyeXtyZXR1cm4gYS5pW2NdKCl9Y2F0Y2goZCl7dGhyb3cgYS5pW2NdPT09Yj90LmxvZygiVmlkZW8uanM6ICIrYysiIG1ldGhvZCBub3QgZGVmaW5lZCBmb3IgIithLmZiKyIgcGxheWJhY2sgdGVjaG5vbG9neS4iLGQpOiJUeXBlRXJyb3IiPT1kLm5hbWU/KHQubG9nKCJWaWRlby5qczogIitjKyIgdW5hdmFpbGFibGUgb24gIithLmZiKyIgcGxheWJhY2sgdGVjaG5vbG9neSBlbGVtZW50LiIsZCksYS5pLmxhPWwpOnQubG9nKGQpLGR9fWZ1bmN0aW9uIGZhKGEsYyl7dmFyIGQ7YTp7ZD0wO2Zvcih2YXIgZT1hLmsudGVjaE9yZGVyO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZz10LmJhKGVbZF0pLGg9d2luZG93LnZpZGVvanNbZ107aWYoaCl7aWYoaC5pc1N1cHBvcnRlZCgpKWZvcih2YXIgaj0wLG49YztqPG4ubGVuZ3RoO2orKyl7dmFyIHE9bltqXTtpZihoLmNhblBsYXlTb3VyY2UocSkpe2Q9e3NvdXJjZTpxLGk6Z307YnJlYWsgYX19fWVsc2UgdC5sb2cuZXJyb3IoJ1RoZSAiJytnKyciIHRlY2ggaXMgdW5kZWZpbmVkLiBTa2lwcGVkIGJyb3dzZXIgc3VwcG9ydCBjaGVjayBmb3IgdGhhdCB0ZWNoLicpfWQ9bH1kP2QuaT09PWEuZmI/YS5zcmMoZC5zb3VyY2UpOlIoYSxkLmksZC5zb3VyY2UpOihhLmVycm9yKHtjb2RlOjQsbWVzc2FnZTphLm9wdGlvbnMoKS5ub3RTdXBwb3J0ZWRNZXNzYWdlfSksYS5IYSgpKX1mdW5jdGlvbiBnYShhKXtyZXR1cm4gYS5tKCkuaSYmYS5tKCkuaS5vLnBsYXliYWNrUmF0ZSYmYS5tKCkub3B0aW9ucygpLnBsYXliYWNrUmF0ZXMmJjA8YS5tKCkub3B0aW9ucygpLnBsYXliYWNrUmF0ZXMubGVuZ3RofWZ1bmN0aW9uIGthKCl7dmFyIGE9V1tYXSxjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKTtsYVsic2V0IitjXT1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5iLnZqc19zZXRQcm9wZXJ0eShhLGMpfX1mdW5jdGlvbiBtYShhKXtsYVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIudmpzX2dldFByb3BlcnR5KGEpfX1mdW5jdGlvbiBvYShhLGMsZCxlLGcpe3ZhciBoPWEuR2E9YS5HYXx8W107Zz1nfHx7fSxnLmtpbmQ9YyxnLmxhYmVsPWQsZy5sYW5ndWFnZT1lLGM9dC5iYShjfHwic3VidGl0bGVzIik7dmFyIGo9bmV3IHdpbmRvdy52aWRlb2pzW2MrIlRyYWNrIl0oYSxnKTtoLnB1c2goaiksai5CYigpJiZhLkooZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7WShqLm0oKSxqLmlkKCkpfSwwKX0pfWZ1bmN0aW9uIFkoYSxjLGQpe2Zvcih2YXIgaixuLGU9YS5HYSxnPTAsaD1lLmxlbmd0aDtoPmc7ZysrKWo9ZVtnXSxqLmlkKCk9PT1jPyhqLnNob3coKSxuPWopOmQmJmouSygpPT1kJiYwPGoubW9kZSgpJiZqLmRpc2FibGUoKTsoYz1uP24uSygpOmQ/ZDpsKSYmYS5sKGMrInRyYWNrY2hhbmdlIil9ZnVuY3Rpb24gcGEoYSl7MD09PWEubmEmJmEubG9hZCgpLDA9PT1hLm1hJiYoYS5jLmQoInRpbWV1cGRhdGUiLHQuYmluZChhLGEudXBkYXRlLGEuVSkpLGEuYy5kKCJlbmRlZCIsdC5iaW5kKGEsYS5yZXNldCxhLlUpKSwoImNhcHRpb25zIj09PWEuSHx8InN1YnRpdGxlcyI9PT1hLkgpJiZhLmMua2EoInRleHRUcmFja0Rpc3BsYXkiKS5SKGEpKX1mdW5jdGlvbiBxYShhKXt2YXIgYz1hLnNwbGl0KCI6Iik7YT0wO3ZhciBkLGUsZztyZXR1cm4gMz09Yy5sZW5ndGg/KGQ9Y1swXSxlPWNbMV0sYz1jWzJdKTooZD0wLGU9Y1swXSxjPWNbMV0pLGM9Yy5zcGxpdCgvXHMrLyksYz1jLnNwbGljZSgwLDEpWzBdLGM9Yy5zcGxpdCgvXC58LC8pLGc9cGFyc2VGbG9hdChjWzFdKSxjPWNbMF0sYSs9MzYwMCpwYXJzZUZsb2F0KGQpLGErPTYwKnBhcnNlRmxvYXQoZSksYSs9cGFyc2VGbG9hdChjKSxnJiYoYSs9Zy8xZTMpLGF9ZnVuY3Rpb24gJChhLGMpe3ZhciBkPWEuc3BsaXQoIi4iKSxlPXJhOyEoZFswXWluIGUpJiZlLmV4ZWNTY3JpcHQmJmUuZXhlY1NjcmlwdCgidmFyICIrZFswXSk7Zm9yKHZhciBnO2QubGVuZ3RoJiYoZz1kLnNoaWZ0KCkpOylkLmxlbmd0aHx8Yz09PWI/ZT1lW2ddP2VbZ106ZVtnXT17fTplW2ddPWN9dmFyIGI9dm9pZCAwLGY9ITAsaz1udWxsLGw9ITEscztkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIiksZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt2YXIgdmlkZW9qcz13aW5kb3cudmlkZW9qcz10O3QuV2I9IjQuNyIsdC5UYz0iaHR0cHM6Ij09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/Imh0dHBzOi8vIjoiaHR0cDovLyIsdC5vcHRpb25zPXt0ZWNoT3JkZXI6WyJodG1sNSIsImZsYXNoIl0saHRtbDU6e30sZmxhc2g6e30sd2lkdGg6MzAwLGhlaWdodDoxNTAsZGVmYXVsdFZvbHVtZTowLHBsYXliYWNrUmF0ZXM6W10sY2hpbGRyZW46e21lZGlhTG9hZGVyOnt9LHBvc3RlckltYWdlOnt9LHRleHRUcmFja0Rpc3BsYXk6e30sbG9hZGluZ1NwaW5uZXI6e30sYmlnUGxheUJ1dHRvbjp7fSxjb250cm9sQmFyOnt9LGVycm9yRGlzcGxheTp7fX0sbGFuZ3VhZ2U6ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImh0bWwiKVswXS5nZXRBdHRyaWJ1dGUoImxhbmciKXx8bmF2aWdhdG9yLldhJiZuYXZpZ2F0b3IuV2FbMF18fG5hdmlnYXRvci50ZXx8bmF2aWdhdG9yLmxhbmd1YWdlfHwiZW4iLGxhbmd1YWdlczp7fSxub3RTdXBwb3J0ZWRNZXNzYWdlOiJObyBjb21wYXRpYmxlIHNvdXJjZSB3YXMgZm91bmQgZm9yIHRoaXMgdmlkZW8uIn0sIkdFTkVSQVRFRF9DRE5fVlNOIiE9PXQuV2ImJih2aWRlb2pzLm9wdGlvbnMuZmxhc2guc3dmPXQuVGMrInZqcy56ZW5jZG4ubmV0LyIrdC5XYisiL3ZpZGVvLWpzLnN3ZiIpLHQuQ2E9e30sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZnVuY3Rpb24oKXtyZXR1cm4gdmlkZW9qc30pOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz12aWRlb2pzKSx0LnJhPXQuQ29yZU9iamVjdD1tKCksdC5yYS5leHRlbmQ9ZnVuY3Rpb24oYSl7dmFyIGMsZDthPWF8fHt9LGM9YS5pbml0fHxhLmp8fHRoaXMucHJvdG90eXBlLmluaXR8fHRoaXMucHJvdG90eXBlLmp8fG0oKSxkPWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQucHJvdG90eXBlPXQuaC5jcmVhdGUodGhpcy5wcm90b3R5cGUpLGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQsZC5leHRlbmQ9dC5yYS5leHRlbmQsZC5jcmVhdGU9dC5yYS5jcmVhdGU7Zm9yKHZhciBlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmKGQucHJvdG90eXBlW2VdPWFbZV0pO3JldHVybiBkfSx0LnJhLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBhPXQuaC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO3JldHVybiB0aGlzLmFwcGx5KGEsYXJndW1lbnRzKSxhfSx0LmQ9ZnVuY3Rpb24oYSxjLGQpe2lmKHQuaC5pc0FycmF5KGMpKXJldHVybiB1KHQuZCxhLGMsZCk7dmFyIGU9dC5nZXREYXRhKGEpO2UuRnx8KGUuRj17fSksZS5GW2NdfHwoZS5GW2NdPVtdKSxkLnp8fChkLno9dC56KyspLGUuRltjXS5wdXNoKGQpLGUuWXx8KGUuZGlzYWJsZWQ9bCxlLlk9ZnVuY3Rpb24oYyl7aWYoIWUuZGlzYWJsZWQpe2M9dC5yYyhjKTt2YXIgZD1lLkZbYy50eXBlXTtpZihkKWZvcih2YXIgZD1kLnNsaWNlKDApLGo9MCxuPWQubGVuZ3RoO24+aiYmIWMueWMoKTtqKyspZFtqXS5jYWxsKGEsYyl9fSksMT09ZS5GW2NdLmxlbmd0aCYmKGEuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYyxlLlksbCk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib24iK2MsZS5ZKSl9LHQucD1mdW5jdGlvbihhLGMsZCl7aWYodC51YyhhKSl7dmFyIGU9dC5nZXREYXRhKGEpO2lmKGUuRil7aWYodC5oLmlzQXJyYXkoYykpcmV0dXJuIHUodC5wLGEsYyxkKTtpZihjKXt2YXIgZz1lLkZbY107aWYoZyl7aWYoZCl7aWYoZC56KWZvcihlPTA7ZTxnLmxlbmd0aDtlKyspZ1tlXS56PT09ZC56JiZnLnNwbGljZShlLS0sMSl9ZWxzZSBlLkZbY109W107dC5sYyhhLGMpfX1lbHNlIGZvcihnIGluIGUuRiljPWcsZS5GW2NdPVtdLHQubGMoYSxjKX19fSx0LmxjPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dC5nZXREYXRhKGEpOzA9PT1kLkZbY10ubGVuZ3RoJiYoZGVsZXRlIGQuRltjXSxhLnJlbW92ZUV2ZW50TGlzdGVuZXI/YS5yZW1vdmVFdmVudExpc3RlbmVyKGMsZC5ZLGwpOmEuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitjLGQuWSkpLHQuSWIoZC5GKSYmKGRlbGV0ZSBkLkYsZGVsZXRlIGQuWSxkZWxldGUgZC5kaXNhYmxlZCksdC5JYihkKSYmdC5GYyhhKX0sdC5yYz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGZ9ZnVuY3Rpb24gZCgpe3JldHVybiBsfWlmKCFhfHwhYS5KYil7dmFyIGU9YXx8d2luZG93LmV2ZW50O2E9e307Zm9yKHZhciBnIGluIGUpImxheWVyWCIhPT1nJiYibGF5ZXJZIiE9PWcmJiJrZXlib2FyZEV2ZW50LmtleUxvY2F0aW9uIiE9PWcmJigicmV0dXJuVmFsdWUiPT1nJiZlLnByZXZlbnREZWZhdWx0fHwoYVtnXT1lW2ddKSk7aWYoYS50YXJnZXR8fChhLnRhcmdldD1hLnNyY0VsZW1lbnR8fGRvY3VtZW50KSxhLnJlbGF0ZWRUYXJnZXQ9YS5mcm9tRWxlbWVudD09PWEudGFyZ2V0P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQsYS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKSxhLnJldHVyblZhbHVlPWwsYS55ZD1jLGEuZGVmYXVsdFByZXZlbnRlZD1mfSxhLnlkPWQsYS5kZWZhdWx0UHJldmVudGVkPWwsYS5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtlLnN0b3BQcm9wYWdhdGlvbiYmZS5zdG9wUHJvcGFnYXRpb24oKSxhLmNhbmNlbEJ1YmJsZT1mLGEuSmI9Y30sYS5KYj1kLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS55Yz1jLGEuc3RvcFByb3BhZ2F0aW9uKCl9LGEueWM9ZCxhLmNsaWVudFghPWspe2c9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBoPWRvY3VtZW50LmJvZHk7YS5wYWdlWD1hLmNsaWVudFgrKGcmJmcuc2Nyb2xsTGVmdHx8aCYmaC5zY3JvbGxMZWZ0fHwwKS0oZyYmZy5jbGllbnRMZWZ0fHxoJiZoLmNsaWVudExlZnR8fDApLGEucGFnZVk9YS5jbGllbnRZKyhnJiZnLnNjcm9sbFRvcHx8aCYmaC5zY3JvbGxUb3B8fDApLShnJiZnLmNsaWVudFRvcHx8aCYmaC5jbGllbnRUb3B8fDApfWEud2hpY2g9YS5jaGFyQ29kZXx8YS5rZXlDb2RlLGEuYnV0dG9uIT1rJiYoYS5idXR0b249MSZhLmJ1dHRvbj8wOjQmYS5idXR0b24/MToyJmEuYnV0dG9uPzI6MCl9cmV0dXJuIGF9LHQubD1mdW5jdGlvbihhLGMpe3ZhciBkPXQudWMoYSk/dC5nZXREYXRhKGEpOnt9LGU9YS5wYXJlbnROb2RlfHxhLm93bmVyRG9jdW1lbnQ7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBjJiYoYz17dHlwZTpjLHRhcmdldDphfSksYz10LnJjKGMpLGQuWSYmZC5ZLmNhbGwoYSxjKSxlJiYhYy5KYigpJiZjLmJ1YmJsZXMhPT1sP3QubChlLGMpOmV8fGMuZGVmYXVsdFByZXZlbnRlZHx8KGQ9dC5nZXREYXRhKGMudGFyZ2V0KSwhYy50YXJnZXRbYy50eXBlXSl8fChkLmRpc2FibGVkPWYsImZ1bmN0aW9uIj09dHlwZW9mIGMudGFyZ2V0W2MudHlwZV0mJmMudGFyZ2V0W2MudHlwZV0oKSxkLmRpc2FibGVkPWwpLCFjLmRlZmF1bHRQcmV2ZW50ZWR9LHQuVj1mdW5jdGlvbihhLGMsZCl7ZnVuY3Rpb24gZSgpe3QucChhLGMsZSksZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQuaC5pc0FycmF5KGMpP3UodC5WLGEsYyxkKTooZS56PWQuej1kLnp8fHQueisrLHZvaWQgdC5kKGEsYyxlKSl9O3ZhciB3PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dC5lPWZ1bmN0aW9uKGEsYyl7dmFyIGQ7cmV0dXJuIGM9Y3x8e30sZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGF8fCJkaXYiKSx0LmguWihjLGZ1bmN0aW9uKGEsYyl7LTEhPT1hLmluZGV4T2YoImFyaWEtIil8fCJyb2xlIj09YT9kLnNldEF0dHJpYnV0ZShhLGMpOmRbYV09Y30pLGR9LHQuYmE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKX0sdC5oPXt9LHQuaC5jcmVhdGU9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe31yZXR1cm4gYy5wcm90b3R5cGU9YSxuZXcgY30sdC5oLlo9ZnVuY3Rpb24oYSxjLGQpe2Zvcih2YXIgZSBpbiBhKXcuY2FsbChhLGUpJiZjLmNhbGwoZHx8dGhpcyxlLGFbZV0pfSx0LmguQT1mdW5jdGlvbihhLGMpe2lmKCFjKXJldHVybiBhO2Zvcih2YXIgZCBpbiBjKXcuY2FsbChjLGQpJiYoYVtkXT1jW2RdKTtyZXR1cm4gYX0sdC5oLm1kPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxnO2E9dC5oLmNvcHkoYSk7Zm9yKGQgaW4gYyl3LmNhbGwoYyxkKSYmKGU9YVtkXSxnPWNbZF0sYVtkXT10LmguVWEoZSkmJnQuaC5VYShnKT90LmgubWQoZSxnKTpjW2RdKTtyZXR1cm4gYX0sdC5oLmNvcHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHQuaC5BKHt9LGEpfSx0LmguVWE9ZnVuY3Rpb24oYSl7cmV0dXJuISFhJiYib2JqZWN0Ij09dHlwZW9mIGEmJiJbb2JqZWN0IE9iamVjdF0iPT09YS50b1N0cmluZygpJiZhLmNvbnN0cnVjdG9yPT09T2JqZWN0fSx0LmguaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSx0LmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYy5hcHBseShhLGFyZ3VtZW50cyl9cmV0dXJuIGMuenx8KGMuej10LnorKyksZS56PWQ/ZCsiXyIrYy56OmMueixlfSx0LnZhPXt9LHQuej0xLHQuZXhwYW5kbz0idmRhdGEiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLHQuZ2V0RGF0YT1mdW5jdGlvbihhKXt2YXIgYz1hW3QuZXhwYW5kb107cmV0dXJuIGN8fChjPWFbdC5leHBhbmRvXT10LnorKyx0LnZhW2NdPXt9KSx0LnZhW2NdfSx0LnVjPWZ1bmN0aW9uKGEpe3JldHVybiBhPWFbdC5leHBhbmRvXSwhKCFhfHx0LkliKHQudmFbYV0pKX0sdC5GYz1mdW5jdGlvbihhKXt2YXIgYz1hW3QuZXhwYW5kb107aWYoYyl7ZGVsZXRlIHQudmFbY107dHJ5e2RlbGV0ZSBhW3QuZXhwYW5kb119Y2F0Y2goZCl7YS5yZW1vdmVBdHRyaWJ1dGU/YS5yZW1vdmVBdHRyaWJ1dGUodC5leHBhbmRvKTphW3QuZXhwYW5kb109a319fSx0LkliPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhKWlmKGFbY10hPT1rKXJldHVybiBsO3JldHVybiBmfSx0Lm49ZnVuY3Rpb24oYSxjKXstMT09KCIgIithLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiAiK2MrIiAiKSYmKGEuY2xhc3NOYW1lPSIiPT09YS5jbGFzc05hbWU/YzphLmNsYXNzTmFtZSsiICIrYyl9LHQucT1mdW5jdGlvbihhLGMpe3ZhciBkLGU7aWYoLTEhPWEuY2xhc3NOYW1lLmluZGV4T2YoYykpe2ZvcihkPWEuY2xhc3NOYW1lLnNwbGl0KCIgIiksZT1kLmxlbmd0aC0xO2U+PTA7ZS0tKWRbZV09PT1jJiZkLnNwbGljZShlLDEpO2EuY2xhc3NOYW1lPWQuam9pbigiICIpfX0sdC5CPXQuZSgidmlkZW8iKSx0Lk09bmF2aWdhdG9yLnVzZXJBZ2VudCx0LlpjPS9pUGhvbmUvaS50ZXN0KHQuTSksdC5ZYz0vaVBhZC9pLnRlc3QodC5NKSx0LiRjPS9pUG9kL2kudGVzdCh0Lk0pLHQuWGM9dC5aY3x8dC5ZY3x8dC4kYzt2YXIgYWE9dCx4LHk9dC5NLm1hdGNoKC9PUyAoXGQrKV8vaSk7eD15JiZ5WzFdP3lbMV06YixhYS5rZT14LHQuVmM9L0FuZHJvaWQvaS50ZXN0KHQuTSk7dmFyIGJhPXQseixBPXQuTS5tYXRjaCgvQW5kcm9pZCAoXGQrKSg/OlwuKFxkKykpPyg/OlwuKFxkKykpKi9pKSxCLEM7QT8oQj1BWzFdJiZwYXJzZUZsb2F0KEFbMV0pLEM9QVsyXSYmcGFyc2VGbG9hdChBWzJdKSx6PUImJkM/cGFyc2VGbG9hdChBWzFdKyIuIitBWzJdKTpCP0I6ayk6ej1rLGJhLlZiPXosdC5hZD10LlZjJiYvd2Via2l0L2kudGVzdCh0Lk0pJiYyLjM+dC5WYix0LldjPS9GaXJlZm94L2kudGVzdCh0Lk0pLHQubGU9L0Nocm9tZS9pLnRlc3QodC5NKSx0LmZjPSEhKCJvbnRvdWNoc3RhcnQiaW4gd2luZG93fHx3aW5kb3cuVWMmJmRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LlVjKSx0LkhjPWZ1bmN0aW9uKGEsYyl7dC5oLlooYyxmdW5jdGlvbihjLGUpe2U9PT1rfHwidW5kZWZpbmVkIj09dHlwZW9mIGV8fGU9PT1sP2EucmVtb3ZlQXR0cmlidXRlKGMpOmEuc2V0QXR0cmlidXRlKGMsZT09PWY/IiI6ZSl9KX0sdC5BYT1mdW5jdGlvbihhKXt2YXIgYyxkLGUsZztpZihjPXt9LGEmJmEuYXR0cmlidXRlcyYmMDxhLmF0dHJpYnV0ZXMubGVuZ3RoKXtkPWEuYXR0cmlidXRlcztmb3IodmFyIGg9ZC5sZW5ndGgtMTtoPj0wO2gtLSllPWRbaF0ubmFtZSxnPWRbaF0udmFsdWUsKCJib29sZWFuIj09dHlwZW9mIGFbZV18fC0xIT09IixhdXRvcGxheSxjb250cm9scyxsb29wLG11dGVkLGRlZmF1bHQsIi5pbmRleE9mKCIsIitlKyIsIikpJiYoZz1nIT09az9mOmwpLGNbZV09Z31yZXR1cm4gY30sdC5uZT1mdW5jdGlvbihhLGMpe3ZhciBkPSIiO3JldHVybiBkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZT9kPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSwiIikuZ2V0UHJvcGVydHlWYWx1ZShjKTphLmN1cnJlbnRTdHlsZSYmKGQ9YVsiY2xpZW50IitjLnN1YnN0cigwLDEpLnRvVXBwZXJDYXNlKCkrYy5zdWJzdHIoMSldKyJweCIpLGR9LHQuSGI9ZnVuY3Rpb24oYSxjKXtjLmZpcnN0Q2hpbGQ/Yy5pbnNlcnRCZWZvcmUoYSxjLmZpcnN0Q2hpbGQpOmMuYXBwZW5kQ2hpbGQoYSl9LHQuUWE9e30sdC53PWZ1bmN0aW9uKGEpe3JldHVybiAwPT09YS5pbmRleE9mKCIjIikmJihhPWEuc2xpY2UoMSkpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfSx0LnphPWZ1bmN0aW9uKGEsYyl7Yz1jfHxhO3ZhciBkPU1hdGguZmxvb3IoYSU2MCksZT1NYXRoLmZsb29yKGEvNjAlNjApLGc9TWF0aC5mbG9vcihhLzM2MDApLGg9TWF0aC5mbG9vcihjLzYwJTYwKSxqPU1hdGguZmxvb3IoYy8zNjAwKTtyZXR1cm4oaXNOYU4oYSl8fDEvMD09PWEpJiYoZz1lPWQ9Ii0iKSxnPWc+MHx8aj4wP2crIjoiOiIiLGcrKCgoZ3x8aD49MTApJiYxMD5lPyIwIitlOmUpKyI6IikrKDEwPmQ/IjAiK2Q6ZCl9LHQuZ2Q9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LmZvY3VzKCksZG9jdW1lbnQub25zZWxlY3RzdGFydD1yKGwpfSx0LmdlPWZ1bmN0aW9uKCl7ZG9jdW1lbnQub25zZWxlY3RzdGFydD1yKGYpfSx0LnRyaW09ZnVuY3Rpb24oYSl7cmV0dXJuKGErIiIpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sdC5yb3VuZD1mdW5jdGlvbihhLGMpe3JldHVybiBjfHwoYz0wKSxNYXRoLnJvdW5kKGEqTWF0aC5wb3coMTAsYykpL01hdGgucG93KDEwLGMpfSx0LkFiPWZ1bmN0aW9uKGEsYyl7cmV0dXJue2xlbmd0aDoxLHN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGVuZDpmdW5jdGlvbigpe3JldHVybiBjfX19LHQuZ2V0PWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBnLGgsaixuO2Q9ZHx8bSgpLCJ1bmRlZmluZWQiPT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJih3aW5kb3cuWE1MSHR0cFJlcXVlc3Q9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAuNi4wIil9Y2F0Y2goYSl7fXRyeXtyZXR1cm4gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUC4zLjAiKX1jYXRjaChjKXt9dHJ5e3JldHVybiBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoIk1zeG1sMi5YTUxIVFRQIil9Y2F0Y2goZCl7fXRocm93IEVycm9yKCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdC4iKX0pLGg9bmV3IFhNTEh0dHBSZXF1ZXN0LGo9dC5TZChhKSxuPXdpbmRvdy5sb2NhdGlvbixqLnByb3RvY29sK2ouaG9zdD09PW4ucHJvdG9jb2wrbi5ob3N0fHwhd2luZG93LlhEb21haW5SZXF1ZXN0fHwid2l0aENyZWRlbnRpYWxzImluIGg/KGc9ImZpbGU6Ij09ai5wcm90b2NvbHx8ImZpbGU6Ij09bi5wcm90b2NvbCxoLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1oLnJlYWR5U3RhdGUmJigyMDA9PT1oLnN0YXR1c3x8ZyYmMD09PWguc3RhdHVzP2MoaC5yZXNwb25zZVRleHQpOmQoaC5yZXNwb25zZVRleHQpKX0pOihoPW5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QsaC5vbmxvYWQ9ZnVuY3Rpb24oKXtjKGgucmVzcG9uc2VUZXh0KX0saC5vbmVycm9yPWQsaC5vbnByb2dyZXNzPW0oKSxoLm9udGltZW91dD1kKTt0cnl7aC5vcGVuKCJHRVQiLGEsZiksZSYmKGgud2l0aENyZWRlbnRpYWxzPWYpfWNhdGNoKHEpe3JldHVybiB2b2lkIGQocSl9dHJ5e2guc2VuZCgpfWNhdGNoKHYpe2Qodil9fSx0LlhkPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYz13aW5kb3cubG9jYWxTdG9yYWdlfHxsOwpjJiYoYy52b2x1bWU9YSl9Y2F0Y2goZCl7MjI9PWQuY29kZXx8MTAxND09ZC5jb2RlP3QubG9nKCJMb2NhbFN0b3JhZ2UgRnVsbCAoVmlkZW9KUykiLGQpOjE4PT1kLmNvZGU/dC5sb2coIkxvY2FsU3RvcmFnZSBub3QgYWxsb3dlZCAoVmlkZW9KUykiLGQpOnQubG9nKCJMb2NhbFN0b3JhZ2UgRXJyb3IgKFZpZGVvSlMpIixkKX19LHQudGM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubWF0Y2goL15odHRwcz86XC9cLy8pfHwoYT10LmUoImRpdiIse2lubmVySFRNTDonPGEgaHJlZj0iJythKyciPng8L2E+J30pLmZpcnN0Q2hpbGQuaHJlZiksYX0sdC5TZD1mdW5jdGlvbihhKXt2YXIgYyxkLGUsZztnPSJwcm90b2NvbCBob3N0bmFtZSBwb3J0IHBhdGhuYW1lIHNlYXJjaCBoYXNoIGhvc3QiLnNwbGl0KCIgIiksZD10LmUoImEiLHtocmVmOmF9KSwoZT0iIj09PWQuaG9zdCYmImZpbGU6IiE9PWQucHJvdG9jb2wpJiYoYz10LmUoImRpdiIpLGMuaW5uZXJIVE1MPSc8YSBocmVmPSInK2ErJyI+PC9hPicsZD1jLmZpcnN0Q2hpbGQsYy5zZXRBdHRyaWJ1dGUoInN0eWxlIiwiZGlzcGxheTpub25lOyBwb3NpdGlvbjphYnNvbHV0ZTsiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpKSxhPXt9O2Zvcih2YXIgaD0wO2g8Zy5sZW5ndGg7aCsrKWFbZ1toXV09ZFtnW2hdXTtyZXR1cm4gZSYmZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjKSxhfTt2YXIgRT13aW5kb3cuY29uc29sZXx8e2xvZzpELHdhcm46RCxlcnJvcjpEfTt0LmxvZz1mdW5jdGlvbigpe0Yoayxhcmd1bWVudHMpfSx0LmxvZy5oaXN0b3J5PVtdLHQubG9nLmVycm9yPWZ1bmN0aW9uKCl7RigiZXJyb3IiLGFyZ3VtZW50cyl9LHQubG9nLndhcm49ZnVuY3Rpb24oKXtGKCJ3YXJuIixhcmd1bWVudHMpfSx0LnVkPWZ1bmN0aW9uKGEpe3ZhciBjLGQ7cmV0dXJuIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiZhLnBhcmVudE5vZGUmJihjPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLGM/KGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGQ9ZG9jdW1lbnQuYm9keSx7bGVmdDp0LnJvdW5kKGMubGVmdCsod2luZG93LnBhZ2VYT2Zmc2V0fHxkLnNjcm9sbExlZnQpLShhLmNsaWVudExlZnR8fGQuY2xpZW50TGVmdHx8MCkpLHRvcDp0LnJvdW5kKGMudG9wKyh3aW5kb3cucGFnZVlPZmZzZXR8fGQuc2Nyb2xsVG9wKS0oYS5jbGllbnRUb3B8fGQuY2xpZW50VG9wfHwwKSl9KTp7bGVmdDowLHRvcDowfX0sdC5qYz17fSx0LmpjLmZvckVhY2g9ZnVuY3Rpb24oYSxjLGQpe2lmKHQuaC5pc0FycmF5KGEpJiZjIGluc3RhbmNlb2YgRnVuY3Rpb24pZm9yKHZhciBlPTAsZz1hLmxlbmd0aDtnPmU7KytlKWMuY2FsbChkfHx0LGFbZV0sZSxhKTtyZXR1cm4gYX0sdC5xYT17fSx0LnFhLk5iPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxnO2E9dC5oLmNvcHkoYSk7Zm9yKGQgaW4gYyljLmhhc093blByb3BlcnR5KGQpJiYoZT1hW2RdLGc9Y1tkXSxhW2RdPXQuaC5VYShlKSYmdC5oLlVhKGcpP3QucWEuTmIoZSxnKTpjW2RdKTtyZXR1cm4gYX0sdC5hPXQucmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXtpZih0aGlzLmM9YSx0aGlzLms9dC5oLmNvcHkodGhpcy5rKSxjPXRoaXMub3B0aW9ucyhjKSx0aGlzLlU9Yy5pZHx8KGMuZWwmJmMuZWwuaWQ/Yy5lbC5pZDphLmlkKCkrIl9jb21wb25lbnRfIit0LnorKyksdGhpcy5GZD1jLm5hbWV8fGssdGhpcy5iPWMuZWx8fHRoaXMuZSgpLHRoaXMuTj1bXSx0aGlzLlJhPXt9LHRoaXMuU2E9e30sdGhpcy53YygpLHRoaXMuSihkKSxjLkdjIT09bCl7dmFyIGUsZztlPXQuYmluZCh0aGlzLm0oKSx0aGlzLm0oKS5yZXBvcnRVc2VyQWN0aXZpdHkpLHRoaXMuZCgidG91Y2hzdGFydCIsZnVuY3Rpb24oKXtlKCksY2xlYXJJbnRlcnZhbChnKSxnPXNldEludGVydmFsKGUsMjUwKX0pLGE9ZnVuY3Rpb24oKXtlKCksY2xlYXJJbnRlcnZhbChnKX0sdGhpcy5kKCJ0b3VjaG1vdmUiLGUpLHRoaXMuZCgidG91Y2hlbmQiLGEpLHRoaXMuZCgidG91Y2hjYW5jZWwiLGEpfX19KSxzPXQuYS5wcm90b3R5cGUscy5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5sKHt0eXBlOiJkaXNwb3NlIixidWJibGVzOmx9KSx0aGlzLk4pZm9yKHZhciBhPXRoaXMuTi5sZW5ndGgtMTthPj0wO2EtLSl0aGlzLk5bYV0uZGlzcG9zZSYmdGhpcy5OW2FdLmRpc3Bvc2UoKTt0aGlzLlNhPXRoaXMuUmE9dGhpcy5OPWssdGhpcy5wKCksdGhpcy5iLnBhcmVudE5vZGUmJnRoaXMuYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYiksdC5GYyh0aGlzLmIpLHRoaXMuYj1rfSxzLmM9ZixzLm09cCgiYyIpLHMub3B0aW9ucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PWI/dGhpcy5rOnRoaXMuaz10LnFhLk5iKHRoaXMuayxhKX0scy5lPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHQuZShhLGMpfSxzLnM9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5jLmxhbmd1YWdlKCksZD10aGlzLmMuV2EoKTtyZXR1cm4gZCYmZFtjXSYmZFtjXVthXT9kW2NdW2FdOmF9LHMudz1wKCJiIikscy5qYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ8fHRoaXMuYn0scy5pZD1wKCJVIikscy5uYW1lPXAoIkZkIikscy5jaGlsZHJlbj1wKCJOIikscy53ZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5SYVthXX0scy5rYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5TYVthXX0scy5SPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGU9YSxjPWN8fHt9LGQ9Yy5jb21wb25lbnRDbGFzc3x8dC5iYShlKSxjLm5hbWU9ZSxkPW5ldyB3aW5kb3cudmlkZW9qc1tkXSh0aGlzLmN8fHRoaXMsYykpOmQ9YSx0aGlzLk4ucHVzaChkKSwiZnVuY3Rpb24iPT10eXBlb2YgZC5pZCYmKHRoaXMuUmFbZC5pZCgpXT1kKSwoZT1lfHxkLm5hbWUmJmQubmFtZSgpKSYmKHRoaXMuU2FbZV09ZCksImZ1bmN0aW9uIj09dHlwZW9mIGQuZWwmJmQuZWwoKSYmdGhpcy5qYSgpLmFwcGVuZENoaWxkKGQuZWwoKSksZH0scy5yZW1vdmVDaGlsZD1mdW5jdGlvbihhKXtpZigic3RyaW5nIj09dHlwZW9mIGEmJihhPXRoaXMua2EoYSkpLGEmJnRoaXMuTil7Zm9yKHZhciBjPWwsZD10aGlzLk4ubGVuZ3RoLTE7ZD49MDtkLS0paWYodGhpcy5OW2RdPT09YSl7Yz1mLHRoaXMuTi5zcGxpY2UoZCwxKTticmVha31jJiYodGhpcy5SYVthLmlkXT1rLHRoaXMuU2FbYS5uYW1lXT1rLChjPWEudygpKSYmYy5wYXJlbnROb2RlPT09dGhpcy5qYSgpJiZ0aGlzLmphKCkucmVtb3ZlQ2hpbGQoYS53KCkpKX19LHMud2M9ZnVuY3Rpb24oKXt2YXIgYSxjLGQsZTtpZihhPXRoaXMsYz10aGlzLm9wdGlvbnMoKS5jaGlsZHJlbilpZih0LmguaXNBcnJheShjKSlmb3IodmFyIGc9MDtnPGMubGVuZ3RoO2crKylkPWNbZ10sInN0cmluZyI9PXR5cGVvZiBkPyhlPWQsZD17fSk6ZT1kLm5hbWUsYVtlXT1hLlIoZSxkKTtlbHNlIHQuaC5aKGMsZnVuY3Rpb24oYyxkKXtkIT09bCYmKGFbY109YS5SKGMsZCkpfSl9LHMuVD1yKCIiKSxzLmQ9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdC5kKHRoaXMuYixhLHQuYmluZCh0aGlzLGMpKSx0aGlzfSxzLnA9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdC5wKHRoaXMuYixhLGMpLHRoaXN9LHMuVj1mdW5jdGlvbihhLGMpe3JldHVybiB0LlYodGhpcy5iLGEsdC5iaW5kKHRoaXMsYykpLHRoaXN9LHMubD1mdW5jdGlvbihhKXtyZXR1cm4gdC5sKHRoaXMuYixhKSx0aGlzfSxzLko9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJih0aGlzLmxhP2EuY2FsbCh0aGlzKToodGhpcy5jYj09PWImJih0aGlzLmNiPVtdKSx0aGlzLmNiLnB1c2goYSkpKSx0aGlzfSxzLkhhPWZ1bmN0aW9uKCl7dGhpcy5sYT1mO3ZhciBhPXRoaXMuY2I7aWYoYSYmMDxhLmxlbmd0aCl7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWFbY10uY2FsbCh0aGlzKTt0aGlzLmNiPVtdLHRoaXMubCgicmVhZHkiKX19LHMubj1mdW5jdGlvbihhKXtyZXR1cm4gdC5uKHRoaXMuYixhKSx0aGlzfSxzLnE9ZnVuY3Rpb24oYSl7cmV0dXJuIHQucSh0aGlzLmIsYSksdGhpc30scy5zaG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpc30scy5YPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzfSxzLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLlgoKSx0aGlzLnNob3c9bSgpfSxzLndpZHRoPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIEgodGhpcywid2lkdGgiLGEsYyl9LHMuaGVpZ2h0PWZ1bmN0aW9uKGEsYyl7cmV0dXJuIEgodGhpcywiaGVpZ2h0IixhLGMpfSxzLnBkPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMud2lkdGgoYSxmKS5oZWlnaHQoYyl9LHQudD10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpLEkodGhpcyksdGhpcy5kKCJ0YXAiLHRoaXMuciksdGhpcy5kKCJjbGljayIsdGhpcy5yKSx0aGlzLmQoImZvY3VzIix0aGlzLlphKSx0aGlzLmQoImJsdXIiLHRoaXMuWWEpfX0pLHM9dC50LnByb3RvdHlwZSxzLmU9ZnVuY3Rpb24oYSxjKXt2YXIgZDtyZXR1cm4gYz10LmguQSh7Y2xhc3NOYW1lOnRoaXMuVCgpLHJvbGU6ImJ1dHRvbiIsImFyaWEtbGl2ZSI6InBvbGl0ZSIsdGFiSW5kZXg6MH0sYyksZD10LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLGEsYyksYy5pbm5lckhUTUx8fCh0aGlzLnY9dC5lKCJkaXYiLHtjbGFzc05hbWU6InZqcy1jb250cm9sLWNvbnRlbnQifSksdGhpcy55Yj10LmUoInNwYW4iLHtjbGFzc05hbWU6InZqcy1jb250cm9sLXRleHQiLGlubmVySFRNTDp0aGlzLnModGhpcy51YSl8fCJOZWVkIFRleHQifSksdGhpcy52LmFwcGVuZENoaWxkKHRoaXMueWIpLGQuYXBwZW5kQ2hpbGQodGhpcy52KSksZH0scy5UPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1jb250cm9sICIrdC5hLnByb3RvdHlwZS5ULmNhbGwodGhpcyl9LHMucj1tKCkscy5aYT1mdW5jdGlvbigpe3QuZChkb2N1bWVudCwia2V5dXAiLHQuYmluZCh0aGlzLHRoaXMuZWEpKX0scy5lYT1mdW5jdGlvbihhKXsoMzI9PWEud2hpY2h8fDEzPT1hLndoaWNoKSYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLnIoKSl9LHMuWWE9ZnVuY3Rpb24oKXt0LnAoZG9jdW1lbnQsImtleXVwIix0LmJpbmQodGhpcyx0aGlzLmVhKSl9LHQuUT10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpLHRoaXMuZmQ9dGhpcy5rYSh0aGlzLmsuYmFyTmFtZSksdGhpcy5oYW5kbGU9dGhpcy5rYSh0aGlzLmsuaGFuZGxlTmFtZSksdGhpcy5kKCJtb3VzZWRvd24iLHRoaXMuJGEpLHRoaXMuZCgidG91Y2hzdGFydCIsdGhpcy4kYSksdGhpcy5kKCJmb2N1cyIsdGhpcy5aYSksdGhpcy5kKCJibHVyIix0aGlzLllhKSx0aGlzLmQoImNsaWNrIix0aGlzLnIpLHRoaXMuYy5kKCJjb250cm9sc3Zpc2libGUiLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlKSksYS5kKHRoaXMuQ2MsdC5iaW5kKHRoaXMsdGhpcy51cGRhdGUpKSx0aGlzLlM9e30sdGhpcy5TLm1vdmU9dC5iaW5kKHRoaXMsdGhpcy5hYiksdGhpcy5TLmVuZD10LmJpbmQodGhpcyx0aGlzLk9iKX19KSxzPXQuUS5wcm90b3R5cGUscy5lPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM9Y3x8e30sYy5jbGFzc05hbWUrPSIgdmpzLXNsaWRlciIsYz10LmguQSh7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW5vdyI6MCwiYXJpYS12YWx1ZW1pbiI6MCwiYXJpYS12YWx1ZW1heCI6MTAwLHRhYkluZGV4OjB9LGMpLHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsYSxjKX0scy4kYT1mdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksdC5nZCgpLHRoaXMubigidmpzLXNsaWRpbmciKSx0LmQoZG9jdW1lbnQsIm1vdXNlbW92ZSIsdGhpcy5TLm1vdmUpLHQuZChkb2N1bWVudCwibW91c2V1cCIsdGhpcy5TLmVuZCksdC5kKGRvY3VtZW50LCJ0b3VjaG1vdmUiLHRoaXMuUy5tb3ZlKSx0LmQoZG9jdW1lbnQsInRvdWNoZW5kIix0aGlzLlMuZW5kKSx0aGlzLmFiKGEpfSxzLmFiPW0oKSxzLk9iPWZ1bmN0aW9uKCl7dC5nZSgpLHRoaXMucSgidmpzLXNsaWRpbmciKSx0LnAoZG9jdW1lbnQsIm1vdXNlbW92ZSIsdGhpcy5TLm1vdmUsbCksdC5wKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLlMuZW5kLGwpLHQucChkb2N1bWVudCwidG91Y2htb3ZlIix0aGlzLlMubW92ZSxsKSx0LnAoZG9jdW1lbnQsInRvdWNoZW5kIix0aGlzLlMuZW5kLGwpLHRoaXMudXBkYXRlKCl9LHMudXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXt2YXIgYSxjPXRoaXMuR2IoKSxkPXRoaXMuaGFuZGxlLGU9dGhpcy5mZDtpZihpc05hTihjKSYmKGM9MCksYT1jLGQpe2E9dGhpcy5iLm9mZnNldFdpZHRoO3ZhciBnPWQudygpLm9mZnNldFdpZHRoO2E9Zz9nL2E6MCxjKj0xLWEsYT1jK2EvMixkLncoKS5zdHlsZS5sZWZ0PXQucm91bmQoMTAwKmMsMikrIiUifWUmJihlLncoKS5zdHlsZS53aWR0aD10LnJvdW5kKDEwMCphLDIpKyIlIil9fSxzLlphPWZ1bmN0aW9uKCl7dC5kKGRvY3VtZW50LCJrZXl1cCIsdC5iaW5kKHRoaXMsdGhpcy5lYSkpfSxzLmVhPWZ1bmN0aW9uKGEpezM3PT1hLndoaWNofHw0MD09YS53aGljaD8oYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuS2MoKSk6KDM4PT1hLndoaWNofHwzOT09YS53aGljaCkmJihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5MYygpKX0scy5ZYT1mdW5jdGlvbigpe3QucChkb2N1bWVudCwia2V5dXAiLHQuYmluZCh0aGlzLHRoaXMuZWEpKX0scy5yPWZ1bmN0aW9uKGEpe2Euc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpfSx0LiQ9dC5hLmV4dGVuZCgpLHQuJC5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPTAsdC4kLnByb3RvdHlwZS5lPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM9Y3x8e30sYy5jbGFzc05hbWUrPSIgdmpzLXNsaWRlci1oYW5kbGUiLGM9dC5oLkEoe2lubmVySFRNTDonPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5kZWZhdWx0VmFsdWUrIjwvc3Bhbj4ifSxjKSx0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLGMpfSx0LmhhPXQuYS5leHRlbmQoKSx0LmhhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zKCkubWN8fCJ1bCI7cmV0dXJuIHRoaXMudj10LmUoYSx7Y2xhc3NOYW1lOiJ2anMtbWVudS1jb250ZW50In0pLGE9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7YXBwZW5kOnRoaXMudixjbGFzc05hbWU6InZqcy1tZW51In0pLGEuYXBwZW5kQ2hpbGQodGhpcy52KSx0LmQoYSwiY2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSksYX0sdC5JPXQudC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LnQuY2FsbCh0aGlzLGEsYyksdGhpcy5zZWxlY3RlZChjLnNlbGVjdGVkKX19KSx0LkkucHJvdG90eXBlLmU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdC50LnByb3RvdHlwZS5lLmNhbGwodGhpcywibGkiLHQuaC5BKHtjbGFzc05hbWU6InZqcy1tZW51LWl0ZW0iLGlubmVySFRNTDp0aGlzLmsubGFiZWx9LGMpKX0sdC5JLnByb3RvdHlwZS5yPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZChmKX0sdC5JLnByb3RvdHlwZS5zZWxlY3RlZD1mdW5jdGlvbihhKXthPyh0aGlzLm4oInZqcy1zZWxlY3RlZCIpLHRoaXMuYi5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLGYpKToodGhpcy5xKCJ2anMtc2VsZWN0ZWQiKSx0aGlzLmIuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIixsKSl9LHQuTD10LnQuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC50LmNhbGwodGhpcyxhLGMpLHRoaXMuQmE9dGhpcy54YSgpLHRoaXMuUih0aGlzLkJhKSx0aGlzLk8mJjA9PT10aGlzLk8ubGVuZ3RoJiZ0aGlzLlgoKSx0aGlzLmQoImtleXVwIix0aGlzLmVhKSx0aGlzLmIuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIixmKSx0aGlzLmIuc2V0QXR0cmlidXRlKCJyb2xlIiwiYnV0dG9uIil9fSkscz10LkwucHJvdG90eXBlLHMudGE9bCxzLnhhPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHQuaGEodGhpcy5jKTtpZih0aGlzLm9wdGlvbnMoKS50aXRsZSYmYS5qYSgpLmFwcGVuZENoaWxkKHQuZSgibGkiLHtjbGFzc05hbWU6InZqcy1tZW51LXRpdGxlIixpbm5lckhUTUw6dC5iYSh0aGlzLm9wdGlvbnMoKS50aXRsZSksZGU6LTF9KSksdGhpcy5PPXRoaXMuY3JlYXRlSXRlbXMoKSlmb3IodmFyIGM9MDtjPHRoaXMuTy5sZW5ndGg7YysrKWNhKGEsdGhpcy5PW2NdKTtyZXR1cm4gYX0scy53YT1tKCkscy5UPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xhc3NOYW1lKyIgdmpzLW1lbnUtYnV0dG9uICIrdC50LnByb3RvdHlwZS5ULmNhbGwodGhpcyl9LHMuWmE9bSgpLHMuWWE9bSgpLHMucj1mdW5jdGlvbigpe3RoaXMuVigibW91c2VvdXQiLHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Ryh0aGlzLkJhKSx0aGlzLmIuYmx1cigpfSkpLHRoaXMudGE/Syh0aGlzKTpMKHRoaXMpfSxzLmVhPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSwzMj09YS53aGljaHx8MTM9PWEud2hpY2g/dGhpcy50YT9LKHRoaXMpOkwodGhpcyk6Mjc9PWEud2hpY2gmJnRoaXMudGEmJksodGhpcyl9LHQuRz1mdW5jdGlvbihhKXsibnVtYmVyIj09dHlwZW9mIGE/dGhpcy5jb2RlPWE6InN0cmluZyI9PXR5cGVvZiBhP3RoaXMubWVzc2FnZT1hOiJvYmplY3QiPT10eXBlb2YgYSYmdC5oLkEodGhpcyxhKSx0aGlzLm1lc3NhZ2V8fCh0aGlzLm1lc3NhZ2U9dC5HLm5kW3RoaXMuY29kZV18fCIiKX0sdC5HLnByb3RvdHlwZS5jb2RlPTAsdC5HLnByb3RvdHlwZS5tZXNzYWdlPSIiLHQuRy5wcm90b3R5cGUuc3RhdHVzPWssdC5HLlRhPSJNRURJQV9FUlJfQ1VTVE9NIE1FRElBX0VSUl9BQk9SVEVEIE1FRElBX0VSUl9ORVRXT1JLIE1FRElBX0VSUl9ERUNPREUgTUVESUFfRVJSX1NSQ19OT1RfU1VQUE9SVEVEIE1FRElBX0VSUl9FTkNSWVBURUQiLnNwbGl0KCIgIiksdC5HLm5kPXsxOiJZb3UgYWJvcnRlZCB0aGUgdmlkZW8gcGxheWJhY2siLDI6IkEgbmV0d29yayBlcnJvciBjYXVzZWQgdGhlIHZpZGVvIGRvd25sb2FkIHRvIGZhaWwgcGFydC13YXkuIiwzOiJUaGUgdmlkZW8gcGxheWJhY2sgd2FzIGFib3J0ZWQgZHVlIHRvIGEgY29ycnVwdGlvbiBwcm9ibGVtIG9yIGJlY2F1c2UgdGhlIHZpZGVvIHVzZWQgZmVhdHVyZXMgeW91ciBicm93c2VyIGRpZCBub3Qgc3VwcG9ydC4iLDQ6IlRoZSB2aWRlbyBjb3VsZCBub3QgYmUgbG9hZGVkLCBlaXRoZXIgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgdGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLiIsNToiVGhlIHZpZGVvIGlzIGVuY3J5cHRlZCBhbmQgd2UgZG8gbm90IGhhdmUgdGhlIGtleXMgdG8gZGVjcnlwdCBpdC4ifTtmb3IodmFyIE09MDtNPHQuRy5UYS5sZW5ndGg7TSsrKXQuR1t0LkcuVGFbTV1dPU0sdC5HLnByb3RvdHlwZVt0LkcuVGFbTV1dPU07dmFyIE4sTyxQLFE7Zm9yKE49WyJyZXF1ZXN0RnVsbHNjcmVlbiBleGl0RnVsbHNjcmVlbiBmdWxsc2NyZWVuRWxlbWVudCBmdWxsc2NyZWVuRW5hYmxlZCBmdWxsc2NyZWVuY2hhbmdlIGZ1bGxzY3JlZW5lcnJvciIuc3BsaXQoIiAiKSwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4gd2Via2l0RXhpdEZ1bGxzY3JlZW4gd2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgd2Via2l0RnVsbHNjcmVlbkVuYWJsZWQgd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSB3ZWJraXRmdWxsc2NyZWVuZXJyb3IiLnNwbGl0KCIgIiksIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHdlYmtpdENhbmNlbEZ1bGxTY3JlZW4gd2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50IHdlYmtpdENhbmNlbEZ1bGxTY3JlZW4gd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSB3ZWJraXRmdWxsc2NyZWVuZXJyb3IiLnNwbGl0KCIgIiksIm1velJlcXVlc3RGdWxsU2NyZWVuIG1vekNhbmNlbEZ1bGxTY3JlZW4gbW96RnVsbFNjcmVlbkVsZW1lbnQgbW96RnVsbFNjcmVlbkVuYWJsZWQgbW96ZnVsbHNjcmVlbmNoYW5nZSBtb3pmdWxsc2NyZWVuZXJyb3IiLnNwbGl0KCIgIiksIm1zUmVxdWVzdEZ1bGxzY3JlZW4gbXNFeGl0RnVsbHNjcmVlbiBtc0Z1bGxzY3JlZW5FbGVtZW50IG1zRnVsbHNjcmVlbkVuYWJsZWQgTVNGdWxsc2NyZWVuQ2hhbmdlIE1TRnVsbHNjcmVlbkVycm9yIi5zcGxpdCgiICIpXSxPPU5bMF0sUT0wO1E8Ti5sZW5ndGg7USsrKWlmKE5bUV1bMV1pbiBkb2N1bWVudCl7UD1OW1FdO2JyZWFrfWlmKFApZm9yKHQuUWEuRmI9e30sUT0wO1E8UC5sZW5ndGg7USsrKXQuUWEuRmJbT1tRXV09UFtRXTt0LlBsYXllcj10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXt0aGlzLlA9YSxhLmlkPWEuaWR8fCJ2anNfdmlkZW9fIit0LnorKyx0aGlzLmVlPWEmJnQuQWEoYSksYz10LmguQShkYShhKSxjKSx0aGlzLlZhPWMubGFuZ3VhZ2V8fHQub3B0aW9ucy5sYW5ndWFnZSx0aGlzLkRkPWMubGFuZ3VhZ2VzfHx0Lm9wdGlvbnMubGFuZ3VhZ2VzLHRoaXMuQz17fSx0aGlzLkRjPWMucG9zdGVyLHRoaXMuemI9Yy5jb250cm9scyxhLmNvbnRyb2xzPWwsYy5HYz1sLHQuYS5jYWxsKHRoaXMsdGhpcyxjLGQpLHRoaXMubih0aGlzLmNvbnRyb2xzKCk/InZqcy1jb250cm9scy1lbmFibGVkIjoidmpzLWNvbnRyb2xzLWRpc2FibGVkIiksdC5DYVt0aGlzLlVdPXRoaXMsYy5wbHVnaW5zJiZ0LmguWihjLnBsdWdpbnMsZnVuY3Rpb24oYSxjKXt0aGlzW2FdKGMpfSx0aGlzKTt2YXIgZSxnLGgsaixuLHE7ZT10LmJpbmQodGhpcyx0aGlzLnJlcG9ydFVzZXJBY3Rpdml0eSksdGhpcy5kKCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7ZSgpLGNsZWFySW50ZXJ2YWwoZyksZz1zZXRJbnRlcnZhbChlLDI1MCl9KSx0aGlzLmQoIm1vdXNlbW92ZSIsZnVuY3Rpb24oYSl7KGEuc2NyZWVuWCE9bnx8YS5zY3JlZW5ZIT1xKSYmKG49YS5zY3JlZW5YLHE9YS5zY3JlZW5ZLGUoKSl9KSx0aGlzLmQoIm1vdXNldXAiLGZ1bmN0aW9uKCl7ZSgpLGNsZWFySW50ZXJ2YWwoZyl9KSx0aGlzLmQoImtleWRvd24iLGUpLHRoaXMuZCgia2V5dXAiLGUpLGg9c2V0SW50ZXJ2YWwodC5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnBhJiYodGhpcy5wYT1sLHRoaXMudXNlckFjdGl2ZShmKSxjbGVhclRpbWVvdXQoaiksaj1zZXRUaW1lb3V0KHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5wYXx8dGhpcy51c2VyQWN0aXZlKGwpfSksMmUzKSl9KSwyNTApLHRoaXMuZCgiZGlzcG9zZSIsZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGgpLGNsZWFyVGltZW91dChqKX0pfX0pLHM9dC5QbGF5ZXIucHJvdG90eXBlLHMubGFuZ3VhZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iP3RoaXMuVmE6KHRoaXMuVmE9YSx0aGlzKX0scy5XYT1wKCJEZCIpLHMuaz10Lm9wdGlvbnMscy5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5sKCJkaXNwb3NlIiksdGhpcy5wKCJkaXNwb3NlIiksdC5DYVt0aGlzLlVdPWssdGhpcy5QJiZ0aGlzLlAucGxheWVyJiYodGhpcy5QLnBsYXllcj1rKSx0aGlzLmImJnRoaXMuYi5wbGF5ZXImJih0aGlzLmIucGxheWVyPWspLGNsZWFySW50ZXJ2YWwodGhpcy5iYiksdGhpcy5FYSgpLHRoaXMuaSYmdGhpcy5pLmRpc3Bvc2UoKSx0LmEucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0scy5lPWZ1bmN0aW9uKCl7dmFyIGQsYT10aGlzLmI9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2IiksYz10aGlzLlA7aWYoYy5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIiksYy5yZW1vdmVBdHRyaWJ1dGUoImhlaWdodCIpLGMuaGFzQ2hpbGROb2RlcygpKXt2YXIgZSxnLGgsaixuO2ZvcihlPWMuY2hpbGROb2RlcyxnPWUubGVuZ3RoLG49W107Zy0tOyloPWVbZ10saj1oLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksInRyYWNrIj09PWomJm4ucHVzaChoKTtmb3IoZT0wO2U8bi5sZW5ndGg7ZSsrKWMucmVtb3ZlQ2hpbGQobltlXSl9cmV0dXJuIGQ9dC5BYShjKSx0LmguWihkLGZ1bmN0aW9uKGMpe2Euc2V0QXR0cmlidXRlKGMsZFtjXSl9KSxjLmlkKz0iX2h0bWw1X2FwaSIsYy5jbGFzc05hbWU9InZqcy10ZWNoIixjLnBsYXllcj1hLnBsYXllcj10aGlzLHRoaXMubigidmpzLXBhdXNlZCIpLHRoaXMud2lkdGgodGhpcy5rLndpZHRoLGYpLHRoaXMuaGVpZ2h0KHRoaXMuay5oZWlnaHQsZiksYy5wYXJlbnROb2RlJiZjLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsYyksdC5IYihjLGEpLHRoaXMuYj1hLHRoaXMuZCgibG9hZHN0YXJ0Iix0aGlzLktkKSx0aGlzLmQoIndhaXRpbmciLHRoaXMuUWQpLHRoaXMuZChbImNhbnBsYXkiLCJjYW5wbGF5dGhyb3VnaCIsInBsYXlpbmciLCJlbmRlZCJdLHRoaXMuUGQpLHRoaXMuZCgic2Vla2luZyIsdGhpcy5OZCksdGhpcy5kKCJzZWVrZWQiLHRoaXMuTWQpLHRoaXMuZCgiZW5kZWQiLHRoaXMuR2QpLHRoaXMuZCgicGxheSIsdGhpcy5RYiksdGhpcy5kKCJmaXJzdHBsYXkiLHRoaXMuSWQpLHRoaXMuZCgicGF1c2UiLHRoaXMuUGIpLHRoaXMuZCgicHJvZ3Jlc3MiLHRoaXMuTGQpLHRoaXMuZCgiZHVyYXRpb25jaGFuZ2UiLHRoaXMuQWMpLHRoaXMuZCgiZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5KZCksYX0scy5PYz1mdW5jdGlvbigpe3RoaXMubmMmJnRoaXMuRWEoKSx0aGlzLm5jPXNldEludGVydmFsKHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5sKCJ0aW1ldXBkYXRlIil9KSwyNTApfSxzLkVhPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLm5jKSx0aGlzLmwoInRpbWV1cGRhdGUiKX0scy5LZD1mdW5jdGlvbigpe3RoaXMuZXJyb3IoayksdGhpcy5wYXVzZWQoKT8oZWEodGhpcyxsKSx0aGlzLlYoInBsYXkiLGZ1bmN0aW9uKCl7ZWEodGhpcyxmKX0pKTp0aGlzLmwoImZpcnN0cGxheSIpfSxzLnZjPWwscy5RYj1mdW5jdGlvbigpe3RoaXMucSgidmpzLXBhdXNlZCIpLHRoaXMubigidmpzLXBsYXlpbmciKX0scy5RZD1mdW5jdGlvbigpe3RoaXMubigidmpzLXdhaXRpbmciKX0scy5QZD1mdW5jdGlvbigpe3RoaXMucSgidmpzLXdhaXRpbmciKX0scy5OZD1mdW5jdGlvbigpe3RoaXMubigidmpzLXNlZWtpbmciKX0scy5NZD1mdW5jdGlvbigpe3RoaXMucSgidmpzLXNlZWtpbmciKX0scy5JZD1mdW5jdGlvbigpe3RoaXMuay5zdGFydHRpbWUmJnRoaXMuY3VycmVudFRpbWUodGhpcy5rLnN0YXJ0dGltZSksdGhpcy5uKCJ2anMtaGFzLXN0YXJ0ZWQiKX0scy5QYj1mdW5jdGlvbigpe3RoaXMucSgidmpzLXBsYXlpbmciKSx0aGlzLm4oInZqcy1wYXVzZWQiKX0scy5MZD1mdW5jdGlvbigpezE9PXRoaXMuYnVmZmVyZWRQZXJjZW50KCkmJnRoaXMubCgibG9hZGVkYWxsZGF0YSIpfSxzLkdkPWZ1bmN0aW9uKCl7dGhpcy5rLmxvb3AmJih0aGlzLmN1cnJlbnRUaW1lKDApLHRoaXMucGxheSgpKX0scy5BYz1mdW5jdGlvbigpe3ZhciBhPVQodGhpcywiZHVyYXRpb24iKTthJiYoMD5hJiYoYT0xLzApLHRoaXMuZHVyYXRpb24oYSksMS8wPT09YT90aGlzLm4oInZqcy1saXZlIik6dGhpcy5xKCJ2anMtbGl2ZSIpKX0scy5KZD1mdW5jdGlvbigpe3RoaXMuaXNGdWxsc2NyZWVuKCk/dGhpcy5uKCJ2anMtZnVsbHNjcmVlbiIpOnRoaXMucSgidmpzLWZ1bGxzY3JlZW4iKX0scy5wbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIFUodGhpcywicGxheSIpLHRoaXN9LHMucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gVSh0aGlzLCJwYXVzZSIpLHRoaXN9LHMucGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIFQodGhpcywicGF1c2VkIik9PT1sP2w6Zn0scy5jdXJyZW50VGltZT1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KFUodGhpcywic2V0Q3VycmVudFRpbWUiLGEpLHRoaXMuTWImJnRoaXMubCgidGltZXVwZGF0ZSIpLHRoaXMpOnRoaXMuQy5jdXJyZW50VGltZT1UKHRoaXMsImN1cnJlbnRUaW1lIil8fDB9LHMuZHVyYXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyh0aGlzLkMuZHVyYXRpb249cGFyc2VGbG9hdChhKSx0aGlzKToodGhpcy5DLmR1cmF0aW9uPT09YiYmdGhpcy5BYygpLHRoaXMuQy5kdXJhdGlvbnx8MCl9LHMucmVtYWluaW5nVGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmR1cmF0aW9uKCktdGhpcy5jdXJyZW50VGltZSgpfSxzLmJ1ZmZlcmVkPWZ1bmN0aW9uKCl7dmFyIGE9VCh0aGlzLCJidWZmZXJlZCIpO3JldHVybiBhJiZhLmxlbmd0aHx8KGE9dC5BYigwLDApKSxhfSxzLmJ1ZmZlcmVkUGVyY2VudD1mdW5jdGlvbigpe3ZhciBlLGcsYT10aGlzLmR1cmF0aW9uKCksYz10aGlzLmJ1ZmZlcmVkKCksZD0wO2lmKCFhKXJldHVybiAwO2Zvcih2YXIgaD0wO2g8Yy5sZW5ndGg7aCsrKWU9Yy5zdGFydChoKSxnPWMuZW5kKGgpLGc+YSYmKGc9YSksZCs9Zy1lO3JldHVybiBkL2F9LHMudm9sdW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oYT1NYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChhKSkpLHRoaXMuQy52b2x1bWU9YSxVKHRoaXMsInNldFZvbHVtZSIsYSksdC5YZChhKSx0aGlzKTooYT1wYXJzZUZsb2F0KFQodGhpcywidm9sdW1lIikpLGlzTmFOKGEpPzE6YSl9LHMubXV0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhVKHRoaXMsInNldE11dGVkIixhKSx0aGlzKTpUKHRoaXMsIm11dGVkIil8fGx9LHMuRmE9ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLCJzdXBwb3J0c0Z1bGxTY3JlZW4iKXx8bH0scy54Yz1sLHMuaXNGdWxsc2NyZWVuPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8odGhpcy54Yz0hIWEsdGhpcyk6dGhpcy54Y30scy5pc0Z1bGxTY3JlZW49ZnVuY3Rpb24oYSl7cmV0dXJuIHQubG9nLndhcm4oJ3BsYXllci5pc0Z1bGxTY3JlZW4oKSBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgcGxheWVyLmlzRnVsbHNjcmVlbigpIHdpdGggYSBsb3dlcmNhc2UgInMiKScpLHRoaXMuaXNGdWxsc2NyZWVuKGEpfSxzLnJlcXVlc3RGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dmFyIGE9dC5RYS5GYjtyZXR1cm4gdGhpcy5pc0Z1bGxzY3JlZW4oZiksYT8odC5kKGRvY3VtZW50LGEuZnVsbHNjcmVlbmNoYW5nZSx0LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaXNGdWxsc2NyZWVuKGRvY3VtZW50W2EuZnVsbHNjcmVlbkVsZW1lbnRdKSx0aGlzLmlzRnVsbHNjcmVlbigpPT09bCYmdC5wKGRvY3VtZW50LGEuZnVsbHNjcmVlbmNoYW5nZSxhcmd1bWVudHMuY2FsbGVlKSx0aGlzLmwoImZ1bGxzY3JlZW5jaGFuZ2UiKX0pKSx0aGlzLmJbYS5yZXF1ZXN0RnVsbHNjcmVlbl0oKSk6dGhpcy5pLkZhKCk/VSh0aGlzLCJlbnRlckZ1bGxTY3JlZW4iKToodGhpcy5xYygpLHRoaXMubCgiZnVsbHNjcmVlbmNoYW5nZSIpKSx0aGlzfSxzLmV4aXRGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dmFyIGE9dC5RYS5GYjtyZXR1cm4gdGhpcy5pc0Z1bGxzY3JlZW4obCksYT9kb2N1bWVudFthLmV4aXRGdWxsc2NyZWVuXSgpOnRoaXMuaS5GYSgpP1UodGhpcywiZXhpdEZ1bGxTY3JlZW4iKToodGhpcy5EYigpLHRoaXMubCgiZnVsbHNjcmVlbmNoYW5nZSIpKSx0aGlzfSxzLnFjPWZ1bmN0aW9uKCl7dGhpcy56ZD1mLHRoaXMucWQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93LHQuZChkb2N1bWVudCwia2V5ZG93biIsdC5iaW5kKHRoaXMsdGhpcy5zYykpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIix0Lm4oZG9jdW1lbnQuYm9keSwidmpzLWZ1bGwtd2luZG93IiksdGhpcy5sKCJlbnRlckZ1bGxXaW5kb3ciKX0scy5zYz1mdW5jdGlvbihhKXsyNz09PWEua2V5Q29kZSYmKHRoaXMuaXNGdWxsc2NyZWVuKCk9PT1mP3RoaXMuZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLkRiKCkpfSxzLkRiPWZ1bmN0aW9uKCl7dGhpcy56ZD1sLHQucChkb2N1bWVudCwia2V5ZG93biIsdGhpcy5zYyksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93PXRoaXMucWQsdC5xKGRvY3VtZW50LmJvZHksInZqcy1mdWxsLXdpbmRvdyIpLHRoaXMubCgiZXhpdEZ1bGxXaW5kb3ciKX0scy5zcmM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iP1QodGhpcywic3JjIik6KHQuaC5pc0FycmF5KGEpP2ZhKHRoaXMsYSk6InN0cmluZyI9PXR5cGVvZiBhP3RoaXMuc3JjKHtzcmM6YX0pOmEgaW5zdGFuY2VvZiBPYmplY3QmJihhLnR5cGUmJiF3aW5kb3cudmlkZW9qc1t0aGlzLmZiXS5jYW5QbGF5U291cmNlKGEpP2ZhKHRoaXMsW2FdKToodGhpcy5DLnNyYz1hLnNyYyx0aGlzLm9jPWEudHlwZXx8IiIsdGhpcy5KKGZ1bmN0aW9uKCl7VSh0aGlzLCJzcmMiLGEuc3JjKSwiYXV0byI9PXRoaXMuay5wcmVsb2FkJiZ0aGlzLmxvYWQoKSx0aGlzLmsuYXV0b3BsYXkmJnRoaXMucGxheSgpfSkpKSx0aGlzKX0scy5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIFUodGhpcywibG9hZCIpLHRoaXN9LHMuY3VycmVudFNyYz1mdW5jdGlvbigpe3JldHVybiBUKHRoaXMsImN1cnJlbnRTcmMiKXx8dGhpcy5DLnNyY3x8IiJ9LHMubGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vY3x8IiJ9LHMuRGE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhVKHRoaXMsInNldFByZWxvYWQiLGEpLHRoaXMuay5wcmVsb2FkPWEsdGhpcyk6VCh0aGlzLCJwcmVsb2FkIil9LHMuYXV0b3BsYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhVKHRoaXMsInNldEF1dG9wbGF5IixhKSx0aGlzLmsuYXV0b3BsYXk9YSx0aGlzKTpUKHRoaXMsImF1dG9wbGF5Iil9LHMubG9vcD1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KFUodGhpcywic2V0TG9vcCIsYSksdGhpcy5rLmxvb3A9YSx0aGlzKTpUKHRoaXMsImxvb3AiKX0scy5wb3N0ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iP3RoaXMuRGM6KHRoaXMuRGM9YSxVKHRoaXMsInNldFBvc3RlciIsYSksdm9pZCB0aGlzLmwoInBvc3RlcmNoYW5nZSIpKX0scy5jb250cm9scz1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWI/KGE9ISFhLHRoaXMuemIhPT1hJiYoKHRoaXMuemI9YSk/KHRoaXMucSgidmpzLWNvbnRyb2xzLWRpc2FibGVkIiksdGhpcy5uKCJ2anMtY29udHJvbHMtZW5hYmxlZCIpLHRoaXMubCgiY29udHJvbHNlbmFibGVkIikpOih0aGlzLnEoInZqcy1jb250cm9scy1lbmFibGVkIiksdGhpcy5uKCJ2anMtY29udHJvbHMtZGlzYWJsZWQiKSx0aGlzLmwoImNvbnRyb2xzZGlzYWJsZWQiKSkpLHRoaXMpOnRoaXMuemJ9LHQuUGxheWVyLnByb3RvdHlwZS5VYixzPXQuUGxheWVyLnByb3RvdHlwZSxzLnVzaW5nTmF0aXZlQ29udHJvbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhhPSEhYSx0aGlzLlViIT09YSYmKCh0aGlzLlViPWEpPyh0aGlzLm4oInZqcy11c2luZy1uYXRpdmUtY29udHJvbHMiKSx0aGlzLmwoInVzaW5nbmF0aXZlY29udHJvbHMiKSk6KHRoaXMucSgidmpzLXVzaW5nLW5hdGl2ZS1jb250cm9scyIpLHRoaXMubCgidXNpbmdjdXN0b21jb250cm9scyIpKSksdGhpcyk6dGhpcy5VYn0scy5kYT1rLHMuZXJyb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iP3RoaXMuZGE6YT09PWs/KHRoaXMuZGE9YSx0aGlzLnEoInZqcy1lcnJvciIpLHRoaXMpOih0aGlzLmRhPWEgaW5zdGFuY2VvZiB0Lkc/YTpuZXcgdC5HKGEpLHRoaXMubCgiZXJyb3IiKSx0aGlzLm4oInZqcy1lcnJvciIpLHQubG9nLmVycm9yKCIoQ09ERToiK3RoaXMuZGEuY29kZSsiICIrdC5HLlRhW3RoaXMuZGEuY29kZV0rIikiLHRoaXMuZGEubWVzc2FnZSx0aGlzLmRhKSx0aGlzKX0scy5lbmRlZD1mdW5jdGlvbigpe3JldHVybiBUKHRoaXMsImVuZGVkIil9LHMuc2Vla2luZz1mdW5jdGlvbigpe3JldHVybiBUKHRoaXMsInNlZWtpbmciKX0scy5wYT1mLHMucmVwb3J0VXNlckFjdGl2aXR5PWZ1bmN0aW9uKCl7dGhpcy5wYT1mfSxzLlRiPWYscy51c2VyQWN0aXZlPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oYT0hIWEsYSE9PXRoaXMuVGImJigodGhpcy5UYj1hKT8odGhpcy5wYT1mLHRoaXMucSgidmpzLXVzZXItaW5hY3RpdmUiKSx0aGlzLm4oInZqcy11c2VyLWFjdGl2ZSIpLHRoaXMubCgidXNlcmFjdGl2ZSIpKToodGhpcy5wYT1sLHRoaXMuaSYmdGhpcy5pLlYoIm1vdXNlbW92ZSIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKSxhLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLnEoInZqcy11c2VyLWFjdGl2ZSIpLHRoaXMubigidmpzLXVzZXItaW5hY3RpdmUiKSx0aGlzLmwoInVzZXJpbmFjdGl2ZSIpKSksdGhpcyk6dGhpcy5UYn0scy5wbGF5YmFja1JhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhVKHRoaXMsInNldFBsYXliYWNrUmF0ZSIsYSksdGhpcyk6dGhpcy5pJiZ0aGlzLmkubyYmdGhpcy5pLm8ucGxheWJhY2tSYXRlP1QodGhpcywicGxheWJhY2tSYXRlIik6MX0sdC5LYT10LmEuZXh0ZW5kKCksdC5LYS5wcm90b3R5cGUuaz17b2U6InBsYXkiLGNoaWxkcmVuOntwbGF5VG9nZ2xlOnt9LGN1cnJlbnRUaW1lRGlzcGxheTp7fSx0aW1lRGl2aWRlcjp7fSxkdXJhdGlvbkRpc3BsYXk6e30scmVtYWluaW5nVGltZURpc3BsYXk6e30sbGl2ZURpc3BsYXk6e30scHJvZ3Jlc3NDb250cm9sOnt9LGZ1bGxzY3JlZW5Ub2dnbGU6e30sdm9sdW1lQ29udHJvbDp7fSxtdXRlVG9nZ2xlOnt9LHBsYXliYWNrUmF0ZU1lbnVCdXR0b246e319fSx0LkthLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZSgiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtY29udHJvbC1iYXIifSl9LHQuWmI9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KSx0LlpiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtbGl2ZS1jb250cm9scyB2anMtY29udHJvbCJ9KTtyZXR1cm4gdGhpcy52PXQuZSgiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtbGl2ZS1kaXNwbGF5Iixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiU3RyZWFtIFR5cGUiKSsiPC9zcGFuPiIrdGhpcy5zKCJMSVZFIiksImFyaWEtbGl2ZSI6Im9mZiJ9KSxhLmFwcGVuZENoaWxkKHRoaXMudiksYX0sdC5iYz10LnQuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC50LmNhbGwodGhpcyxhLGMpLGEuZCgicGxheSIsdC5iaW5kKHRoaXMsdGhpcy5RYikpLGEuZCgicGF1c2UiLHQuYmluZCh0aGlzLHRoaXMuUGIpKX19KSxzPXQuYmMucHJvdG90eXBlLHMudWE9IlBsYXkiLHMuVD1mdW5jdGlvbigpe3JldHVybiJ2anMtcGxheS1jb250cm9sICIrdC50LnByb3RvdHlwZS5ULmNhbGwodGhpcyl9LHMucj1mdW5jdGlvbigpe3RoaXMuYy5wYXVzZWQoKT90aGlzLmMucGxheSgpOnRoaXMuYy5wYXVzZSgpfSxzLlFiPWZ1bmN0aW9uKCl7dC5xKHRoaXMuYiwidmpzLXBhdXNlZCIpLHQubih0aGlzLmIsInZqcy1wbGF5aW5nIiksdGhpcy5iLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTD10aGlzLnMoIlBhdXNlIil9LHMuUGI9ZnVuY3Rpb24oKXt0LnEodGhpcy5iLCJ2anMtcGxheWluZyIpLHQubih0aGlzLmIsInZqcy1wYXVzZWQiKSx0aGlzLmIuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MPXRoaXMucygiUGxheSIpfSx0LmliPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyksYS5kKCJ0aW1ldXBkYXRlIix0LmJpbmQodGhpcyx0aGlzLmdhKSl9fSksdC5pYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLWN1cnJlbnQtdGltZSB2anMtdGltZS1jb250cm9scyB2anMtY29udHJvbCJ9KTtyZXR1cm4gdGhpcy52PXQuZSgiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtY3VycmVudC10aW1lLWRpc3BsYXkiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPkN1cnJlbnQgVGltZSA8L3NwYW4+MDowMCcsImFyaWEtbGl2ZSI6Im9mZiJ9KSxhLmFwcGVuZENoaWxkKHRoaXMudiksYX0sdC5pYi5wcm90b3R5cGUuZ2E9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMuZWI/dGhpcy5jLkMuY3VycmVudFRpbWU6dGhpcy5jLmN1cnJlbnRUaW1lKCk7dGhpcy52LmlubmVySFRNTD0nPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5zKCJDdXJyZW50IFRpbWUiKSsiPC9zcGFuPiAiK3QuemEoYSx0aGlzLmMuZHVyYXRpb24oKSl9LHQuamI9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSxhLmQoInRpbWV1cGRhdGUiLHQuYmluZCh0aGlzLHRoaXMuZ2EpKX19KSx0LmpiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtZHVyYXRpb24gdmpzLXRpbWUtY29udHJvbHMgdmpzLWNvbnRyb2wifSk7cmV0dXJuIHRoaXMudj10LmUoImRpdiIse2NsYXNzTmFtZToidmpzLWR1cmF0aW9uLWRpc3BsYXkiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5zKCJEdXJhdGlvbiBUaW1lIikrIjwvc3Bhbj4gMDowMCIsImFyaWEtbGl2ZSI6Im9mZiJ9KSxhLmFwcGVuZENoaWxkKHRoaXMudiksYX0sdC5qYi5wcm90b3R5cGUuZ2E9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMuZHVyYXRpb24oKTthJiYodGhpcy52LmlubmVySFRNTD0nPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5zKCJEdXJhdGlvbiBUaW1lIikrIjwvc3Bhbj4gIit0LnphKGEpKX0sdC5oYz10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpfX0pLHQuaGMucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtdGltZS1kaXZpZGVyIixpbm5lckhUTUw6IjxkaXY+PHNwYW4+Lzwvc3Bhbj48L2Rpdj4ifSl9LHQucWI9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSxhLmQoInRpbWV1cGRhdGUiLHQuYmluZCh0aGlzLHRoaXMuZ2EpKX19KSx0LnFiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtcmVtYWluaW5nLXRpbWUgdmpzLXRpbWUtY29udHJvbHMgdmpzLWNvbnRyb2wifSk7cmV0dXJuIHRoaXMudj10LmUoImRpdiIse2NsYXNzTmFtZToidmpzLXJlbWFpbmluZy10aW1lLWRpc3BsYXkiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5zKCJSZW1haW5pbmcgVGltZSIpKyI8L3NwYW4+IC0wOjAwIiwiYXJpYS1saXZlIjoib2ZmIn0pLGEuYXBwZW5kQ2hpbGQodGhpcy52KSxhfSx0LnFiLnByb3RvdHlwZS5nYT1mdW5jdGlvbigpe3RoaXMuYy5kdXJhdGlvbigpJiYodGhpcy52LmlubmVySFRNTD0nPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5zKCJSZW1haW5pbmcgVGltZSIpKyI8L3NwYW4+IC0iK3QuemEodGhpcy5jLnJlbWFpbmluZ1RpbWUoKSkpfSx0LkxhPXQudC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LnQuY2FsbCh0aGlzLGEsYyl9fSksdC5MYS5wcm90b3R5cGUudWE9IkZ1bGxzY3JlZW4iLHQuTGEucHJvdG90eXBlLlQ9ZnVuY3Rpb24oKXtyZXR1cm4idmpzLWZ1bGxzY3JlZW4tY29udHJvbCAiK3QudC5wcm90b3R5cGUuVC5jYWxsKHRoaXMpfSx0LkxhLnByb3RvdHlwZS5yPWZ1bmN0aW9uKCl7dGhpcy5jLmlzRnVsbHNjcmVlbigpPyh0aGlzLmMuZXhpdEZ1bGxzY3JlZW4oKSx0aGlzLnliLmlubmVySFRNTD10aGlzLnMoIkZ1bGxzY3JlZW4iKSk6KHRoaXMuYy5yZXF1ZXN0RnVsbHNjcmVlbigpLHRoaXMueWIuaW5uZXJIVE1MPXRoaXMucygiTm9uLUZ1bGxzY3JlZW4iKSl9LHQucGI9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KSx0LnBiLnByb3RvdHlwZS5rPXtjaGlsZHJlbjp7c2Vla0Jhcjp7fX19LHQucGIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtcHJvZ3Jlc3MtY29udHJvbCB2anMtY29udHJvbCJ9KX0sdC5kYz10LlEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5RLmNhbGwodGhpcyxhLGMpLGEuZCgidGltZXVwZGF0ZSIsdC5iaW5kKHRoaXMsdGhpcy5vYSkpLGEuSih0LmJpbmQodGhpcyx0aGlzLm9hKSl9fSkscz10LmRjLnByb3RvdHlwZSxzLms9e2NoaWxkcmVuOntsb2FkUHJvZ3Jlc3NCYXI6e30scGxheVByb2dyZXNzQmFyOnt9LHNlZWtIYW5kbGU6e319LGJhck5hbWU6InBsYXlQcm9ncmVzc0JhciIsaGFuZGxlTmFtZToic2Vla0hhbmRsZSJ9LHMuQ2M9InRpbWV1cGRhdGUiLHMuZT1mdW5jdGlvbigpe3JldHVybiB0LlEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1wcm9ncmVzcy1ob2xkZXIiLCJhcmlhLWxhYmVsIjoidmlkZW8gcHJvZ3Jlc3MgYmFyIn0pfSxzLm9hPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLmViP3RoaXMuYy5DLmN1cnJlbnRUaW1lOnRoaXMuYy5jdXJyZW50VGltZSgpO3RoaXMuYi5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLHQucm91bmQoMTAwKnRoaXMuR2IoKSwyKSksdGhpcy5iLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLHQuemEoYSx0aGlzLmMuZHVyYXRpb24oKSkpfSxzLkdiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy5jdXJyZW50VGltZSgpL3RoaXMuYy5kdXJhdGlvbigpfSxzLiRhPWZ1bmN0aW9uKGEpe3QuUS5wcm90b3R5cGUuJGEuY2FsbCh0aGlzLGEpLHRoaXMuYy5lYj1mLHRoaXMuaWU9IXRoaXMuYy5wYXVzZWQoKSx0aGlzLmMucGF1c2UoKX0scy5hYj1mdW5jdGlvbihhKXthPUoodGhpcyxhKSp0aGlzLmMuZHVyYXRpb24oKSxhPT10aGlzLmMuZHVyYXRpb24oKSYmKGEtPS4xKSx0aGlzLmMuY3VycmVudFRpbWUoYSl9LHMuT2I9ZnVuY3Rpb24oYSl7dC5RLnByb3RvdHlwZS5PYi5jYWxsKHRoaXMsYSksdGhpcy5jLmViPWwsdGhpcy5pZSYmdGhpcy5jLnBsYXkoKX0scy5MYz1mdW5jdGlvbigpe3RoaXMuYy5jdXJyZW50VGltZSh0aGlzLmMuY3VycmVudFRpbWUoKSs1KX0scy5LYz1mdW5jdGlvbigpe3RoaXMuYy5jdXJyZW50VGltZSh0aGlzLmMuY3VycmVudFRpbWUoKS01KX0sdC5tYj10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpLGEuZCgicHJvZ3Jlc3MiLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlKSl9fSksdC5tYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1sb2FkLXByb2dyZXNzIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij48c3Bhbj4nK3RoaXMucygiTG9hZGVkIikrIjwvc3Bhbj46IDAlPC9zcGFuPiJ9KX0sdC5tYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGEsYyxkLGUsZz10aGlzLmMuYnVmZmVyZWQoKTthPXRoaXMuYy5kdXJhdGlvbigpO3ZhciBoLGo9dGhpcy5jO2ZvcihoPWouYnVmZmVyZWQoKSxqPWouZHVyYXRpb24oKSxoPWguZW5kKGgubGVuZ3RoLTEpLGg+aiYmKGg9aiksaj10aGlzLmIuY2hpbGRyZW4sdGhpcy5iLnN0eWxlLndpZHRoPTEwMCooaC9hfHwwKSsiJSIsYT0wO2E8Zy5sZW5ndGg7YSsrKWM9Zy5zdGFydChhKSxkPWcuZW5kKGEpLChlPWpbYV0pfHwoZT10aGlzLmIuYXBwZW5kQ2hpbGQodC5lKCkpKSxlLnN0eWxlLmxlZnQ9MTAwKihjL2h8fDApKyIlIixlLnN0eWxlLndpZHRoPTEwMCooKGQtYykvaHx8MCkrIiUiO2ZvcihhPWoubGVuZ3RoO2E+Zy5sZW5ndGg7YS0tKXRoaXMuYi5yZW1vdmVDaGlsZChqW2EtMV0pfSx0LmFjPXQuYS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyl9fSksdC5hYy5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1wbGF5LXByb2dyZXNzIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij48c3Bhbj4nK3RoaXMucygiUHJvZ3Jlc3MiKSsiPC9zcGFuPjogMCU8L3NwYW4+In0pfSx0Lk5hPXQuJC5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LiQuY2FsbCh0aGlzLGEsYyksYS5kKCJ0aW1ldXBkYXRlIix0LmJpbmQodGhpcyx0aGlzLmdhKSl9fSksdC5OYS5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPSIwMDowMCIsdC5OYS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LiQucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1zZWVrLWhhbmRsZSIsImFyaWEtbGl2ZSI6Im9mZiJ9KX0sdC5OYS5wcm90b3R5cGUuZ2E9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMuZWI/dGhpcy5jLkMuY3VycmVudFRpbWU6dGhpcy5jLmN1cnJlbnRUaW1lKCk7dGhpcy5iLmlubmVySFRNTD0nPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdC56YShhLHRoaXMuYy5kdXJhdGlvbigpKSsiPC9zcGFuPiJ9LHQuc2I9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSxhLmkmJmEuaS5vJiZhLmkuby52b2x1bWVDb250cm9sPT09bCYmdGhpcy5uKCJ2anMtaGlkZGVuIiksYS5kKCJsb2Fkc3RhcnQiLHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS5pLm8mJmEuaS5vLnZvbHVtZUNvbnRyb2w9PT1sP3RoaXMubigidmpzLWhpZGRlbiIpOnRoaXMucSgidmpzLWhpZGRlbiIpfSkpfX0pLHQuc2IucHJvdG90eXBlLms9e2NoaWxkcmVuOnt2b2x1bWVCYXI6e319fSx0LnNiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXZvbHVtZS1jb250cm9sIHZqcy1jb250cm9sIn0pfSx0LnJiPXQuUS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjKXt0LlEuY2FsbCh0aGlzLGEsYyksYS5kKCJ2b2x1bWVjaGFuZ2UiLHQuYmluZCh0aGlzLHRoaXMub2EpKSxhLkoodC5iaW5kKHRoaXMsdGhpcy5vYSkpfX0pLHM9dC5yYi5wcm90b3R5cGUscy5vYT1mdW5jdGlvbigpe3RoaXMuYi5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLHQucm91bmQoMTAwKnRoaXMuYy52b2x1bWUoKSwyKSksdGhpcy5iLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLHQucm91bmQoMTAwKnRoaXMuYy52b2x1bWUoKSwyKSsiJSIpfSxzLms9e2NoaWxkcmVuOnt2b2x1bWVMZXZlbDp7fSx2b2x1bWVIYW5kbGU6e319LGJhck5hbWU6InZvbHVtZUxldmVsIixoYW5kbGVOYW1lOiJ2b2x1bWVIYW5kbGUifSxzLkNjPSJ2b2x1bWVjaGFuZ2UiLHMuZT1mdW5jdGlvbigpe3JldHVybiB0LlEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy12b2x1bWUtYmFyIiwiYXJpYS1sYWJlbCI6InZvbHVtZSBsZXZlbCJ9KX0scy5hYj1mdW5jdGlvbihhKXt0aGlzLmMubXV0ZWQoKSYmdGhpcy5jLm11dGVkKGwpLHRoaXMuYy52b2x1bWUoSih0aGlzLGEpKX0scy5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMubXV0ZWQoKT8wOnRoaXMuYy52b2x1bWUoKX0scy5MYz1mdW5jdGlvbigpe3RoaXMuYy52b2x1bWUodGhpcy5jLnZvbHVtZSgpKy4xKX0scy5LYz1mdW5jdGlvbigpe3RoaXMuYy52b2x1bWUodGhpcy5jLnZvbHVtZSgpLS4xKX0sdC5pYz10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpfX0pLHQuaWMucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtdm9sdW1lLWxldmVsIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij48L3NwYW4+J30pfSx0LnRiPXQuJC5leHRlbmQoKSx0LnRiLnByb3RvdHlwZS5kZWZhdWx0VmFsdWU9IjAwOjAwIix0LnRiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuJC5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXZvbHVtZS1oYW5kbGUifSl9LHQuaWE9dC50LmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QudC5jYWxsKHRoaXMsYSxjKSxhLmQoInZvbHVtZWNoYW5nZSIsdC5iaW5kKHRoaXMsdGhpcy51cGRhdGUpKSxhLmkmJmEuaS5vJiZhLmkuby52b2x1bWVDb250cm9sPT09bCYmdGhpcy5uKCJ2anMtaGlkZGVuIiksYS5kKCJsb2Fkc3RhcnQiLHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS5pLm8mJmEuaS5vLnZvbHVtZUNvbnRyb2w9PT1sP3RoaXMubigidmpzLWhpZGRlbiIpOnRoaXMucSgidmpzLWhpZGRlbiIpfSkpfX0pLHQuaWEucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC50LnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtbXV0ZS1jb250cm9sIHZqcy1jb250cm9sIixpbm5lckhUTUw6JzxkaXY+PHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPicrdGhpcy5zKCJNdXRlIikrIjwvc3Bhbj48L2Rpdj4ifSl9LHQuaWEucHJvdG90eXBlLnI9ZnVuY3Rpb24oKXt0aGlzLmMubXV0ZWQodGhpcy5jLm11dGVkKCk/bDpmKX0sdC5pYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZvbHVtZSgpLGM9Mztmb3IoMD09PWF8fHRoaXMuYy5tdXRlZCgpP2M9MDouMzM+YT9jPTE6LjY3PmEmJihjPTIpLHRoaXMuYy5tdXRlZCgpP3RoaXMuYi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUwhPXRoaXMucygiVW5tdXRlIikmJih0aGlzLmIuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MPXRoaXMucygiVW5tdXRlIikpOnRoaXMuYi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUwhPXRoaXMucygiTXV0ZSIpJiYodGhpcy5iLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTD10aGlzLnMoIk11dGUiKSksYT0wOzQ+YTthKyspdC5xKHRoaXMuYiwidmpzLXZvbC0iK2EpO3Qubih0aGlzLmIsInZqcy12b2wtIitjKX0sdC5zYT10LkwuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5MLmNhbGwodGhpcyxhLGMpLGEuZCgidm9sdW1lY2hhbmdlIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpLGEuaSYmYS5pLm8mJmEuaS5vLlJjPT09bCYmdGhpcy5uKCJ2anMtaGlkZGVuIiksYS5kKCJsb2Fkc3RhcnQiLHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS5pLm8mJmEuaS5vLlJjPT09bD90aGlzLm4oInZqcy1oaWRkZW4iKTp0aGlzLnEoInZqcy1oaWRkZW4iKX0pKSx0aGlzLm4oInZqcy1tZW51LWJ1dHRvbiIpfX0pLHQuc2EucHJvdG90eXBlLnhhPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHQuaGEodGhpcy5jLHttYzoiZGl2In0pLGM9bmV3IHQucmIodGhpcy5jLHQuaC5BKHt2ZXJ0aWNhbDpmfSx0aGlzLmsudWUpKTtyZXR1cm4gYS5SKGMpLGF9LHQuc2EucHJvdG90eXBlLnI9ZnVuY3Rpb24oKXt0LmlhLnByb3RvdHlwZS5yLmNhbGwodGhpcyksdC5MLnByb3RvdHlwZS5yLmNhbGwodGhpcyl9LHQuc2EucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC50LnByb3RvdHlwZS5lLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtdm9sdW1lLW1lbnUtYnV0dG9uIHZqcy1tZW51LWJ1dHRvbiB2anMtY29udHJvbCIsaW5uZXJIVE1MOic8ZGl2PjxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4nK3RoaXMucygiTXV0ZSIpKyI8L3NwYW4+PC9kaXY+In0pfSx0LnNhLnByb3RvdHlwZS51cGRhdGU9dC5pYS5wcm90b3R5cGUudXBkYXRlLHQuY2M9dC5MLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuTC5jYWxsKHRoaXMsYSxjKSx0aGlzLlFjKCksdGhpcy5QYygpLGEuZCgibG9hZHN0YXJ0Iix0LmJpbmQodGhpcyx0aGlzLlFjKSksYS5kKCJyYXRlY2hhbmdlIix0LmJpbmQodGhpcyx0aGlzLlBjKSl9fSkscz10LmNjLnByb3RvdHlwZSxzLmU9ZnVuY3Rpb24oKXt2YXIgYT10LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1wbGF5YmFjay1yYXRlIHZqcy1tZW51LWJ1dHRvbiB2anMtY29udHJvbCIsaW5uZXJIVE1MOic8ZGl2IGNsYXNzPSJ2anMtY29udHJvbC1jb250ZW50Ij48c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+Jyt0aGlzLnMoIlBsYXliYWNrIFJhdGUiKSsiPC9zcGFuPjwvZGl2PiJ9KTtyZXR1cm4gdGhpcy56Yz10LmUoImRpdiIse2NsYXNzTmFtZToidmpzLXBsYXliYWNrLXJhdGUtdmFsdWUiLGlubmVySFRNTDoxfSksYS5hcHBlbmRDaGlsZCh0aGlzLnpjKSxhfSxzLnhhPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHQuaGEodGhpcy5tKCkpLGM9dGhpcy5tKCkub3B0aW9ucygpLnBsYXliYWNrUmF0ZXM7aWYoYylmb3IodmFyIGQ9Yy5sZW5ndGgtMTtkPj0wO2QtLSlhLlIobmV3IHQub2IodGhpcy5tKCkse3JhdGU6Y1tkXSsieCJ9KSk7cmV0dXJuIGF9LHMub2E9ZnVuY3Rpb24oKXt0aGlzLncoKS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLHRoaXMubSgpLnBsYXliYWNrUmF0ZSgpKX0scy5yPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubSgpLnBsYXliYWNrUmF0ZSgpLGM9dGhpcy5tKCkub3B0aW9ucygpLnBsYXliYWNrUmF0ZXMsZD1jWzBdLGU9MDtlPGMubGVuZ3RoO2UrKylpZihjW2VdPmEpe2Q9Y1tlXTticmVha310aGlzLm0oKS5wbGF5YmFja1JhdGUoZCl9LHMuUWM9ZnVuY3Rpb24oKXtnYSh0aGlzKT90aGlzLnEoInZqcy1oaWRkZW4iKTp0aGlzLm4oInZqcy1oaWRkZW4iKX0scy5QYz1mdW5jdGlvbigpe2dhKHRoaXMpJiYodGhpcy56Yy5pbm5lckhUTUw9dGhpcy5tKCkucGxheWJhY2tSYXRlKCkrIngiKX0sdC5vYj10LkkuZXh0ZW5kKHttYzoiYnV0dG9uIixqOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5sYWJlbD1jLnJhdGUsZT10aGlzLkVjPXBhcnNlRmxvYXQoZCwxMCk7Yy5sYWJlbD1kLGMuc2VsZWN0ZWQ9MT09PWUsdC5JLmNhbGwodGhpcyxhLGMpLHRoaXMubSgpLmQoInJhdGVjaGFuZ2UiLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlKSl9fSksdC5vYi5wcm90b3R5cGUucj1mdW5jdGlvbigpe3QuSS5wcm90b3R5cGUuci5jYWxsKHRoaXMpLHRoaXMubSgpLnBsYXliYWNrUmF0ZSh0aGlzLkVjKX0sdC5vYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZCh0aGlzLm0oKS5wbGF5YmFja1JhdGUoKT09dGhpcy5FYyl9LHQuTWE9dC50LmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QudC5jYWxsKHRoaXMsYSxjKSxhLnBvc3RlcigpJiZ0aGlzLnNyYyhhLnBvc3RlcigpKSwoIWEucG9zdGVyKCl8fCFhLmNvbnRyb2xzKCkpJiZ0aGlzLlgoKSxhLmQoInBvc3RlcmNoYW5nZSIsdC5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNyYyhhLnBvc3RlcigpKX0pKSxhLmQoInBsYXkiLHQuYmluZCh0aGlzLHRoaXMuWCkpfX0pO3ZhciBoYT0iYmFja2dyb3VuZFNpemUiaW4gdC5CLnN0eWxlO3QuTWEucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXt2YXIgYT10LmUoImRpdiIse2NsYXNzTmFtZToidmpzLXBvc3RlciIsdGFiSW5kZXg6LTF9KTtyZXR1cm4gaGF8fGEuYXBwZW5kQ2hpbGQodC5lKCJpbWciKSksYX0sdC5NYS5wcm90b3R5cGUuc3JjPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMudygpO2EhPT1iJiYoaGE/Yy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9J3VybCgiJythKyciKSc6Yy5maXJzdENoaWxkLnNyYz1hKX0sdC5NYS5wcm90b3R5cGUucj1mdW5jdGlvbigpe3RoaXMubSgpLmNvbnRyb2xzKCkmJnRoaXMuYy5wbGF5KCl9LHQuJGI9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KSx0LiRiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLWxvYWRpbmctc3Bpbm5lciJ9KX0sdC5nYj10LnQuZXh0ZW5kKCksdC5nYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LnQucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1iaWctcGxheS1idXR0b24iLGlubmVySFRNTDonPHNwYW4gYXJpYS1oaWRkZW49InRydWUiPjwvc3Bhbj4nLCJhcmlhLWxhYmVsIjoicGxheSB2aWRlbyJ9KX0sdC5nYi5wcm90b3R5cGUucj1mdW5jdGlvbigpe3RoaXMuYy5wbGF5KCl9LHQua2I9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKSx0aGlzLnVwZGF0ZSgpLGEuZCgiZXJyb3IiLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlKSl9fSksdC5rYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLWVycm9yLWRpc3BsYXkifSk7cmV0dXJuIHRoaXMudj10LmUoImRpdiIpLGEuYXBwZW5kQ2hpbGQodGhpcy52KSxhfSx0LmtiLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm0oKS5lcnJvcigpJiYodGhpcy52LmlubmVySFRNTD10aGlzLnModGhpcy5tKCkuZXJyb3IoKS5tZXNzYWdlKSl9LHQudT10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXtjPWN8fHt9LGMuR2M9bCx0LmEuY2FsbCh0aGlzLGEsYyxkKTt2YXIgZSxnO2c9dGhpcyxlPXRoaXMubSgpLGE9ZnVuY3Rpb24oKXtpZihlLmNvbnRyb2xzKCkmJiFlLnVzaW5nTmF0aXZlQ29udHJvbHMoKSl7dmFyIGE7Zy5kKCJtb3VzZWRvd24iLGcuciksZy5kKCJ0b3VjaHN0YXJ0IixmdW5jdGlvbigpe2E9dGhpcy5jLnVzZXJBY3RpdmUoKX0pLGcuZCgidG91Y2htb3ZlIixmdW5jdGlvbigpe2EmJnRoaXMubSgpLnJlcG9ydFVzZXJBY3Rpdml0eSgpfSksZy5kKCJ0b3VjaGVuZCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSksSShnKSxnLmQoInRhcCIsZy5PZCl9fSxjPXQuYmluZChnLGcuVWQpLHRoaXMuSihhKSxlLmQoImNvbnRyb2xzZW5hYmxlZCIsYSksZS5kKCJjb250cm9sc2Rpc2FibGVkIixjKSx0aGlzLkooZnVuY3Rpb24oKXt0aGlzLm5ldHdvcmtTdGF0ZSYmMDx0aGlzLm5ldHdvcmtTdGF0ZSgpJiZ0aGlzLm0oKS5sKCJsb2Fkc3RhcnQiKX0pfX0pLHM9dC51LnByb3RvdHlwZSxzLlVkPWZ1bmN0aW9uKCl7dGhpcy5wKCJ0YXAiKSx0aGlzLnAoInRvdWNoc3RhcnQiKSx0aGlzLnAoInRvdWNobW92ZSIpLHRoaXMucCgidG91Y2hsZWF2ZSIpLHRoaXMucCgidG91Y2hjYW5jZWwiKSx0aGlzLnAoInRvdWNoZW5kIiksdGhpcy5wKCJjbGljayIpLHRoaXMucCgibW91c2Vkb3duIil9LHMucj1mdW5jdGlvbihhKXswPT09YS5idXR0b24mJnRoaXMubSgpLmNvbnRyb2xzKCkmJih0aGlzLm0oKS5wYXVzZWQoKT90aGlzLm0oKS5wbGF5KCk6dGhpcy5tKCkucGF1c2UoKSl9LHMuT2Q9ZnVuY3Rpb24oKXt0aGlzLm0oKS51c2VyQWN0aXZlKCF0aGlzLm0oKS51c2VyQWN0aXZlKCkpfSxzLkljPW0oKSxzLm89e3ZvbHVtZUNvbnRyb2w6ZixmdWxsc2NyZWVuUmVzaXplOmwscGxheWJhY2tSYXRlOmwscHJvZ3Jlc3NFdmVudHM6bCx0aW1ldXBkYXRlRXZlbnRzOmx9LHQubWVkaWE9e30sdC5nPXQudS5leHRlbmQoe2o6ZnVuY3Rpb24oYSxjLGQpe2Zvcih0aGlzLm8udm9sdW1lQ29udHJvbD10LmcuamQoKSx0aGlzLm8ucGxheWJhY2tSYXRlPXQuZy5oZCgpLHRoaXMuby5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTT0hdC5YYyx0aGlzLm8uZnVsbHNjcmVlblJlc2l6ZT1mLHQudS5jYWxsKHRoaXMsYSxjLGQpLGQ9dC5nLmxiLmxlbmd0aC0xO2Q+PTA7ZC0tKXQuZCh0aGlzLmIsdC5nLmxiW2RdLHQuYmluZCh0aGlzLHRoaXMuc2QpKTtpZigoYz1jLnNvdXJjZSkmJnRoaXMuYi5jdXJyZW50U3JjIT09Yy5zcmMmJih0aGlzLmIuc3JjPWMuc3JjKSx0LmZjJiZhLm9wdGlvbnMoKS5uYXRpdmVDb250cm9sc0ZvclRvdWNoIT09bCl7dmFyIGUsZyxoLGo7ZT10aGlzLGc9dGhpcy5tKCksYz1nLmNvbnRyb2xzKCksZS5iLmNvbnRyb2xzPSEhYyxoPWZ1bmN0aW9uKCl7ZS5iLmNvbnRyb2xzPWZ9LGo9ZnVuY3Rpb24oKXtlLmIuY29udHJvbHM9bH0sZy5kKCJjb250cm9sc2VuYWJsZWQiLGgpLGcuZCgiY29udHJvbHNkaXNhYmxlZCIsaiksYz1mdW5jdGlvbigpe2cucCgiY29udHJvbHNlbmFibGVkIixoKSxnLnAoImNvbnRyb2xzZGlzYWJsZWQiLGopfSxlLmQoImRpc3Bvc2UiLGMpLGcuZCgidXNpbmdjdXN0b21jb250cm9scyIsYyksZy51c2luZ05hdGl2ZUNvbnRyb2xzKGYpfWEuSihmdW5jdGlvbigpe3RoaXMuUCYmdGhpcy5rLmF1dG9wbGF5JiZ0aGlzLnBhdXNlZCgpJiYoZGVsZXRlIHRoaXMuUC5wb3N0ZXIsdGhpcy5wbGF5KCkpCn0pLHRoaXMuSGEoKX19KSxzPXQuZy5wcm90b3R5cGUscy5kaXNwb3NlPWZ1bmN0aW9uKCl7dC5nLkNiKHRoaXMuYiksdC51LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHMuZT1mdW5jdGlvbigpe3ZhciBkLGE9dGhpcy5jLGM9YS5QO2MmJnRoaXMuby5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTSE9PWx8fChjPyhkPWMuY2xvbmVOb2RlKGwpLHQuZy5DYihjKSxjPWQsYS5QPWspOihjPXQuZSgidmlkZW8iKSx0LkhjKGMsdC5oLkEoYS5lZXx8e30se2lkOmEuaWQoKSsiX2h0bWw1X2FwaSIsImNsYXNzIjoidmpzLXRlY2gifSkpKSxjLnBsYXllcj1hLHQuSGIoYyxhLncoKSkpLGQ9WyJhdXRvcGxheSIsInByZWxvYWQiLCJsb29wIiwibXV0ZWQiXTtmb3IodmFyIGU9ZC5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGc9ZFtlXSxoPXt9OyJ1bmRlZmluZWQiIT10eXBlb2YgYS5rW2ddJiYoaFtnXT1hLmtbZ10pLHQuSGMoYyxoKX1yZXR1cm4gY30scy5zZD1mdW5jdGlvbihhKXsiZXJyb3IiPT1hLnR5cGU/dGhpcy5tKCkuZXJyb3IodGhpcy5lcnJvcigpLmNvZGUpOihhLmJ1YmJsZXM9bCx0aGlzLm0oKS5sKGEpKX0scy5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5iLnBsYXkoKX0scy5wYXVzZT1mdW5jdGlvbigpe3RoaXMuYi5wYXVzZSgpfSxzLnBhdXNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIucGF1c2VkfSxzLmN1cnJlbnRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5jdXJyZW50VGltZX0scy5XZD1mdW5jdGlvbihhKXt0cnl7dGhpcy5iLmN1cnJlbnRUaW1lPWF9Y2F0Y2goYyl7dC5sb2coYywiVmlkZW8gaXMgbm90IHJlYWR5LiAoVmlkZW8uanMpIil9fSxzLmR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5kdXJhdGlvbnx8MH0scy5idWZmZXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuYnVmZmVyZWR9LHMudm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi52b2x1bWV9LHMuYmU9ZnVuY3Rpb24oYSl7dGhpcy5iLnZvbHVtZT1hfSxzLm11dGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5tdXRlZH0scy5aZD1mdW5jdGlvbihhKXt0aGlzLmIubXV0ZWQ9YX0scy53aWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIub2Zmc2V0V2lkdGh9LHMuaGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5vZmZzZXRIZWlnaHR9LHMuRmE9ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgdGhpcy5iLndlYmtpdEVudGVyRnVsbFNjcmVlbnx8IS9BbmRyb2lkLy50ZXN0KHQuTSkmJi9DaHJvbWV8TWFjIE9TIFggMTAuNS8udGVzdCh0Lk0pP2w6Zn0scy5wYz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYjthLnBhdXNlZCYmYS5uZXR3b3JrU3RhdGU8PWEuamU/KHRoaXMuYi5wbGF5KCksc2V0VGltZW91dChmdW5jdGlvbigpe2EucGF1c2UoKSxhLndlYmtpdEVudGVyRnVsbFNjcmVlbigpfSwwKSk6YS53ZWJraXRFbnRlckZ1bGxTY3JlZW4oKX0scy50ZD1mdW5jdGlvbigpe3RoaXMuYi53ZWJraXRFeGl0RnVsbFNjcmVlbigpfSxzLnNyYz1mdW5jdGlvbihhKXt0aGlzLmIuc3JjPWF9LHMubG9hZD1mdW5jdGlvbigpe3RoaXMuYi5sb2FkKCl9LHMuY3VycmVudFNyYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuY3VycmVudFNyY30scy5wb3N0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLnBvc3Rlcn0scy5JYz1mdW5jdGlvbihhKXt0aGlzLmIucG9zdGVyPWF9LHMuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLkRhfSxzLmFlPWZ1bmN0aW9uKGEpe3RoaXMuYi5EYT1hfSxzLmF1dG9wbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5hdXRvcGxheX0scy5WZD1mdW5jdGlvbihhKXt0aGlzLmIuYXV0b3BsYXk9YX0scy5jb250cm9scz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuY29udHJvbHN9LHMubG9vcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIubG9vcH0scy5ZZD1mdW5jdGlvbihhKXt0aGlzLmIubG9vcD1hfSxzLmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5lcnJvcn0scy5zZWVraW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5zZWVraW5nfSxzLmVuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5lbmRlZH0scy5wbGF5YmFja1JhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLnBsYXliYWNrUmF0ZX0scy4kZD1mdW5jdGlvbihhKXt0aGlzLmIucGxheWJhY2tSYXRlPWF9LHMubmV0d29ya1N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5uZXR3b3JrU3RhdGV9LHQuZy5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3RyeXt0LkIudm9sdW1lPS41fWNhdGNoKGEpe3JldHVybiBsfXJldHVybiEhdC5CLmNhblBsYXlUeXBlfSx0Lmcud2I9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiEhdC5CLmNhblBsYXlUeXBlKGEudHlwZSl9Y2F0Y2goYyl7cmV0dXJuIiJ9fSx0LmcuamQ9ZnVuY3Rpb24oKXt2YXIgYT10LkIudm9sdW1lO3JldHVybiB0LkIudm9sdW1lPWEvMisuMSxhIT09dC5CLnZvbHVtZX0sdC5nLmhkPWZ1bmN0aW9uKCl7dmFyIGE9dC5CLnBsYXliYWNrUmF0ZTtyZXR1cm4gdC5CLnBsYXliYWNrUmF0ZT1hLzIrLjEsYSE9PXQuQi5wbGF5YmFja1JhdGV9O3ZhciBWLGlhPS9eYXBwbGljYXRpb25cLyg/OngtfHZuZFwuYXBwbGVcLiltcGVndXJsL2ksamE9L152aWRlb1wvbXA0L2k7dC5nLkJjPWZ1bmN0aW9uKCl7NDw9dC5WYiYmKFZ8fChWPXQuQi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGUpLHQuQi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmlhLnRlc3QoYSk/Im1heWJlIjpWLmNhbGwodGhpcyxhKX0pLHQuYWQmJihWfHwoVj10LkIuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlKSx0LkIuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZqYS50ZXN0KGEpPyJtYXliZSI6Vi5jYWxsKHRoaXMsYSl9KX0sdC5nLmhlPWZ1bmN0aW9uKCl7dmFyIGE9dC5CLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZTtyZXR1cm4gdC5CLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZT1WLFY9ayxhfSx0LmcuQmMoKSx0LmcubGI9ImxvYWRzdGFydCBzdXNwZW5kIGFib3J0IGVycm9yIGVtcHRpZWQgc3RhbGxlZCBsb2FkZWRtZXRhZGF0YSBsb2FkZWRkYXRhIGNhbnBsYXkgY2FucGxheXRocm91Z2ggcGxheWluZyB3YWl0aW5nIHNlZWtpbmcgc2Vla2VkIGVuZGVkIGR1cmF0aW9uY2hhbmdlIHRpbWV1cGRhdGUgcHJvZ3Jlc3MgcGxheSBwYXVzZSByYXRlY2hhbmdlIHZvbHVtZWNoYW5nZSIuc3BsaXQoIiAiKSx0LmcuQ2I9ZnVuY3Rpb24oYSl7aWYoYSl7Zm9yKGEucGxheWVyPWssYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7YS5oYXNDaGlsZE5vZGVzKCk7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTtpZihhLnJlbW92ZUF0dHJpYnV0ZSgic3JjIiksImZ1bmN0aW9uIj09dHlwZW9mIGEubG9hZCl0cnl7YS5sb2FkKCl9Y2F0Y2goYyl7fX19LHQuZj10LnUuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXt0LnUuY2FsbCh0aGlzLGEsYyxkKTt2YXIgZT1jLnNvdXJjZTtkPWMucGFyZW50RWw7dmFyIGc9dGhpcy5iPXQuZSgiZGl2Iix7aWQ6YS5pZCgpKyJfdGVtcF9mbGFzaCJ9KSxoPWEuaWQoKSsiX2ZsYXNoX2FwaSIsaj1hLmssaj10LmguQSh7cmVhZHlGdW5jdGlvbjoidmlkZW9qcy5GbGFzaC5vblJlYWR5IixldmVudFByb3h5RnVuY3Rpb246InZpZGVvanMuRmxhc2gub25FdmVudCIsZXJyb3JFdmVudFByb3h5RnVuY3Rpb246InZpZGVvanMuRmxhc2gub25FcnJvciIsYXV0b3BsYXk6ai5hdXRvcGxheSxwcmVsb2FkOmouRGEsbG9vcDpqLmxvb3AsbXV0ZWQ6ai5tdXRlZH0sYy5mbGFzaFZhcnMpLG49dC5oLkEoe3dtb2RlOiJvcGFxdWUiLGJnY29sb3I6IiMwMDAwMDAifSxjLnBhcmFtcyksaD10LmguQSh7aWQ6aCxuYW1lOmgsImNsYXNzIjoidmpzLXRlY2gifSxjLmF0dHJpYnV0ZXMpO2UmJihlLnR5cGUmJnQuZi5CZChlLnR5cGUpPyhlPXQuZi5NYyhlLnNyYyksai5ydG1wQ29ubmVjdGlvbj1lbmNvZGVVUklDb21wb25lbnQoZS54Yiksai5ydG1wU3RyZWFtPWVuY29kZVVSSUNvbXBvbmVudChlLlNiKSk6ai5zcmM9ZW5jb2RlVVJJQ29tcG9uZW50KHQudGMoZS5zcmMpKSksdC5IYihnLGQpLGMuc3RhcnRUaW1lJiZ0aGlzLkooZnVuY3Rpb24oKXt0aGlzLmxvYWQoKSx0aGlzLnBsYXkoKSx0aGlzLmN1cnJlbnRUaW1lKGMuc3RhcnRUaW1lKX0pLHQuV2MmJnRoaXMuSihmdW5jdGlvbigpe3QuZCh0aGlzLncoKSwibW91c2Vtb3ZlIix0LmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubSgpLmwoe3R5cGU6Im1vdXNlbW92ZSIsYnViYmxlczpsfSl9KSl9KSxhLmQoInN0YWdlY2xpY2siLGEucmVwb3J0VXNlckFjdGl2aXR5KSx0aGlzLmI9dC5mLnJkKGMuc3dmLGcsaixuLGgpfX0pLHQuZi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QudS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSx0LmYucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLmIudmpzX3BsYXkoKX0sdC5mLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuYi52anNfcGF1c2UoKX0sdC5mLnByb3RvdHlwZS5zcmM9ZnVuY3Rpb24oYSl7aWYoYT09PWIpcmV0dXJuIHRoaXMuY3VycmVudFNyYygpO2lmKHQuZi5BZChhKT8oYT10LmYuTWMoYSksdGhpcy5xZShhLnhiKSx0aGlzLnJlKGEuU2IpKTooYT10LnRjKGEpLHRoaXMuYi52anNfc3JjKGEpKSx0aGlzLmMuYXV0b3BsYXkoKSl7dmFyIGM9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5wbGF5KCl9LDApfX0sdC5mLnByb3RvdHlwZS5zZXRDdXJyZW50VGltZT1mdW5jdGlvbihhKXt0aGlzLkVkPWEsdGhpcy5iLnZqc19zZXRQcm9wZXJ0eSgiY3VycmVudFRpbWUiLGEpfSx0LmYucHJvdG90eXBlLmN1cnJlbnRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vla2luZygpP3RoaXMuRWR8fDA6dGhpcy5iLnZqc19nZXRQcm9wZXJ0eSgiY3VycmVudFRpbWUiKX0sdC5mLnByb3RvdHlwZS5jdXJyZW50U3JjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLnZqc19nZXRQcm9wZXJ0eSgiY3VycmVudFNyYyIpO2lmKGE9PWspe3ZhciBjPXRoaXMucnRtcENvbm5lY3Rpb24oKSxkPXRoaXMucnRtcFN0cmVhbSgpO2MmJmQmJihhPXQuZi5jZShjLGQpKX1yZXR1cm4gYX0sdC5mLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5iLnZqc19sb2FkKCl9LHQuZi5wcm90b3R5cGUucG9zdGVyPWZ1bmN0aW9uKCl7dGhpcy5iLnZqc19nZXRQcm9wZXJ0eSgicG9zdGVyIil9LHQuZi5wcm90b3R5cGUuc2V0UG9zdGVyPW0oKSx0LmYucHJvdG90eXBlLmJ1ZmZlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQWIoMCx0aGlzLmIudmpzX2dldFByb3BlcnR5KCJidWZmZXJlZCIpKX0sdC5mLnByb3RvdHlwZS5GYT1yKGwpLHQuZi5wcm90b3R5cGUucGM9cihsKTt2YXIgbGE9dC5mLnByb3RvdHlwZSxXPSJydG1wQ29ubmVjdGlvbiBydG1wU3RyZWFtIHByZWxvYWQgZGVmYXVsdFBsYXliYWNrUmF0ZSBwbGF5YmFja1JhdGUgYXV0b3BsYXkgbG9vcCBtZWRpYUdyb3VwIGNvbnRyb2xsZXIgY29udHJvbHMgdm9sdW1lIG11dGVkIGRlZmF1bHRNdXRlZCIuc3BsaXQoIiAiKSxuYT0iZXJyb3IgbmV0d29ya1N0YXRlIHJlYWR5U3RhdGUgc2Vla2luZyBpbml0aWFsVGltZSBkdXJhdGlvbiBzdGFydE9mZnNldFRpbWUgcGF1c2VkIHBsYXllZCBzZWVrYWJsZSBlbmRlZCB2aWRlb1RyYWNrcyBhdWRpb1RyYWNrcyB2aWRlb1dpZHRoIHZpZGVvSGVpZ2h0IHRleHRUcmFja3MiLnNwbGl0KCIgIiksWDtmb3IoWD0wO1g8Vy5sZW5ndGg7WCsrKW1hKFdbWF0pLGthKCk7Zm9yKFg9MDtYPG5hLmxlbmd0aDtYKyspbWEobmFbWF0pO2lmKHQuZi5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiAxMDw9dC5mLnZlcnNpb24oKVswXX0sdC5mLndiPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU/KGE9YS50eXBlLnJlcGxhY2UoLzsuKi8sIiIpLnRvTG93ZXJDYXNlKCksYSBpbiB0LmYudmR8fGEgaW4gdC5mLk5jPyJtYXliZSI6dm9pZCAwKToiIn0sdC5mLnZkPXsidmlkZW8vZmx2IjoiRkxWIiwidmlkZW8veC1mbHYiOiJGTFYiLCJ2aWRlby9tcDQiOiJNUDQiLCJ2aWRlby9tNHYiOiJNUDQifSx0LmYuTmM9eyJydG1wL21wNCI6Ik1QNCIsInJ0bXAvZmx2IjoiRkxWIn0sdC5mLm9uUmVhZHk9ZnVuY3Rpb24oYSl7dmFyIGM7KGM9KGE9dC53KGEpKSYmYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucGxheWVyKSYmKGEucGxheWVyPWMsdC5mLmNoZWNrUmVhZHkoYy5pKSl9LHQuZi5jaGVja1JlYWR5PWZ1bmN0aW9uKGEpe2EudygpJiYoYS53KCkudmpzX2dldFByb3BlcnR5P2EuSGEoKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5mLmNoZWNrUmVhZHkoYSl9LDUwKSl9LHQuZi5vbkV2ZW50PWZ1bmN0aW9uKGEsYyl7dC53KGEpLnBsYXllci5sKGMpfSx0LmYub25FcnJvcj1mdW5jdGlvbihhLGMpe3ZhciBkPXQudyhhKS5wbGF5ZXIsZT0iRkxBU0g6ICIrYztkLmVycm9yKCJzcmNub3Rmb3VuZCI9PWM/e2NvZGU6NCxtZXNzYWdlOmV9OmUpfSx0LmYudmVyc2lvbj1mdW5jdGlvbigpe3ZhciBhPSIwLDAsMCI7dHJ5e2E9bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCIpLkdldFZhcmlhYmxlKCIkdmVyc2lvbiIpLnJlcGxhY2UoL1xEKy9nLCIsIikubWF0Y2goL14sPyguKyksPyQvKVsxXX1jYXRjaChjKXt0cnl7bmF2aWdhdG9yLm1pbWVUeXBlc1siYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giXS5lbmFibGVkUGx1Z2luJiYoYT0obmF2aWdhdG9yLnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCAyLjAiXXx8bmF2aWdhdG9yLnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCJdKS5kZXNjcmlwdGlvbi5yZXBsYWNlKC9cRCsvZywiLCIpLm1hdGNoKC9eLD8oLispLD8kLylbMV0pfWNhdGNoKGQpe319cmV0dXJuIGEuc3BsaXQoIiwiKX0sdC5mLnJkPWZ1bmN0aW9uKGEsYyxkLGUsZyl7YT10LmYueGQoYSxkLGUsZyksYT10LmUoImRpdiIse2lubmVySFRNTDphfSkuY2hpbGROb2Rlc1swXSxkPWMucGFyZW50Tm9kZSxjLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGEsYyk7dmFyIGg9ZC5jaGlsZE5vZGVzWzBdO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5zdHlsZS5kaXNwbGF5PSJibG9jayJ9LDFlMyksYX0sdC5mLnhkPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBnPSIiLGg9IiIsaj0iIjtyZXR1cm4gYyYmdC5oLlooYyxmdW5jdGlvbihhLGMpe2crPWErIj0iK2MrIiZhbXA7In0pLGQ9dC5oLkEoe21vdmllOmEsZmxhc2h2YXJzOmcsYWxsb3dTY3JpcHRBY2Nlc3M6ImFsd2F5cyIsYWxsb3dOZXR3b3JraW5nOiJhbGwifSxkKSx0LmguWihkLGZ1bmN0aW9uKGEsYyl7aCs9JzxwYXJhbSBuYW1lPSInK2ErJyIgdmFsdWU9IicrYysnIiAvPid9KSxlPXQuaC5BKHtkYXRhOmEsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSJ9LGUpLHQuaC5aKGUsZnVuY3Rpb24oYSxjKXtqKz1hKyc9IicrYysnIiAnfSksJzxvYmplY3QgdHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giJytqKyI+IitoKyI8L29iamVjdD4ifSx0LmYuY2U9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYSsiJiIrY30sdC5mLk1jPWZ1bmN0aW9uKGEpe3ZhciBjPXt4YjoiIixTYjoiIn07aWYoIWEpcmV0dXJuIGM7dmFyIGUsZD1hLmluZGV4T2YoIiYiKTtyZXR1cm4tMSE9PWQ/ZT1kKzE6KGQ9ZT1hLmxhc3RJbmRleE9mKCIvIikrMSwwPT09ZCYmKGQ9ZT1hLmxlbmd0aCkpLGMueGI9YS5zdWJzdHJpbmcoMCxkKSxjLlNiPWEuc3Vic3RyaW5nKGUsYS5sZW5ndGgpLGN9LHQuZi5CZD1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbiB0LmYuTmN9LHQuZi5jZD0vXnJ0bXBbc2V0XT86XC9cLy9pLHQuZi5BZD1mdW5jdGlvbihhKXtyZXR1cm4gdC5mLmNkLnRlc3QoYSl9LHQuYmQ9dC5hLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7aWYodC5hLmNhbGwodGhpcyxhLGMsZCksYS5rLnNvdXJjZXMmJjAhPT1hLmsuc291cmNlcy5sZW5ndGgpYS5zcmMoYS5rLnNvdXJjZXMpO2Vsc2UgZm9yKGM9MCxkPWEuay50ZWNoT3JkZXI7YzxkLmxlbmd0aDtjKyspe3ZhciBlPXQuYmEoZFtjXSksZz13aW5kb3cudmlkZW9qc1tlXTtpZihnJiZnLmlzU3VwcG9ydGVkKCkpe1IoYSxlKTticmVha319fX0pLHQuUGxheWVyLnByb3RvdHlwZS50ZXh0VHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR2E9dGhpcy5HYXx8W119LHQuRD10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpLHRoaXMuVT1jLmlkfHwidmpzXyIrYy5raW5kKyJfIitjLmxhbmd1YWdlKyJfIit0LnorKyx0aGlzLkpjPWMuc3JjLHRoaXMub2Q9Y1siZGVmYXVsdCJdfHxjLmRmbHQsdGhpcy5mZT1jLnRpdGxlLHRoaXMuVmE9Yy5zcmNsYW5nLHRoaXMuQ2Q9Yy5sYWJlbCx0aGlzLmNhPVtdLHRoaXMudWI9W10sdGhpcy5tYT10aGlzLm5hPTAsdGhpcy5jLmQoImZ1bGxzY3JlZW5jaGFuZ2UiLHQuYmluZCh0aGlzLHRoaXMuZWQpKX19KSxzPXQuRC5wcm90b3R5cGUscy5LPXAoIkgiKSxzLnNyYz1wKCJKYyIpLHMuQmI9cCgib2QiKSxzLnRpdGxlPXAoImZlIikscy5sYW5ndWFnZT1wKCJWYSIpLHMubGFiZWw9cCgiQ2QiKSxzLmtkPXAoImNhIikscy5kZD1wKCJ1YiIpLHMucmVhZHlTdGF0ZT1wKCJuYSIpLHMubW9kZT1wKCJtYSIpLHMuZWQ9ZnVuY3Rpb24oKXt0aGlzLmIuc3R5bGUuZm9udFNpemU9dGhpcy5jLmlzRnVsbFNjcmVlbigpPzE0MCooc2NyZWVuLndpZHRoL3RoaXMuYy53aWR0aCgpKSsiJSI6IiJ9LHMuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy0iK3RoaXMuSCsiIHZqcy10ZXh0LXRyYWNrIn0pfSxzLnNob3c9ZnVuY3Rpb24oKXtwYSh0aGlzKSx0aGlzLm1hPTIsdC5hLnByb3RvdHlwZS5zaG93LmNhbGwodGhpcyl9LHMuWD1mdW5jdGlvbigpe3BhKHRoaXMpLHRoaXMubWE9MSx0LmEucHJvdG90eXBlLlguY2FsbCh0aGlzKX0scy5kaXNhYmxlPWZ1bmN0aW9uKCl7Mj09dGhpcy5tYSYmdGhpcy5YKCksdGhpcy5jLnAoInRpbWV1cGRhdGUiLHQuYmluZCh0aGlzLHRoaXMudXBkYXRlLHRoaXMuVSkpLHRoaXMuYy5wKCJlbmRlZCIsdC5iaW5kKHRoaXMsdGhpcy5yZXNldCx0aGlzLlUpKSx0aGlzLnJlc2V0KCksdGhpcy5jLmthKCJ0ZXh0VHJhY2tEaXNwbGF5IikucmVtb3ZlQ2hpbGQodGhpcyksdGhpcy5tYT0wfSxzLmxvYWQ9ZnVuY3Rpb24oKXswPT09dGhpcy5uYSYmKHRoaXMubmE9MSx0LmdldCh0aGlzLkpjLHQuYmluZCh0aGlzLHRoaXMuUmQpLHQuYmluZCh0aGlzLHRoaXMuSGQpKSl9LHMuSGQ9ZnVuY3Rpb24oYSl7dGhpcy5lcnJvcj1hLHRoaXMubmE9Myx0aGlzLmwoImVycm9yIil9LHMuUmQ9ZnVuY3Rpb24oYSl7dmFyIGMsZDthPWEuc3BsaXQoIlxuIik7Zm9yKHZhciBlPSIiLGc9MSxoPWEubGVuZ3RoO2g+ZztnKyspaWYoZT10LnRyaW0oYVtnXSkpe2ZvcigtMT09ZS5pbmRleE9mKCItLT4iKT8oYz1lLGU9dC50cmltKGFbKytnXSkpOmM9dGhpcy5jYS5sZW5ndGgsYz17aWQ6YyxpbmRleDp0aGlzLmNhLmxlbmd0aH0sZD1lLnNwbGl0KC9bXHQgXSsvKSxjLnN0YXJ0VGltZT1xYShkWzBdKSxjLnlhPXFhKGRbMl0pLGQ9W107YVsrK2ddJiYoZT10LnRyaW0oYVtnXSkpOylkLnB1c2goZSk7Yy50ZXh0PWQuam9pbigiPGJyLz4iKSx0aGlzLmNhLnB1c2goYyl9dGhpcy5uYT0yLHRoaXMubCgibG9hZGVkIil9LHMudXBkYXRlPWZ1bmN0aW9uKCl7aWYoMDx0aGlzLmNhLmxlbmd0aCl7dmFyIGE9dGhpcy5jLm9wdGlvbnMoKS50cmFja1RpbWVPZmZzZXR8fDAsYT10aGlzLmMuY3VycmVudFRpbWUoKSthO2lmKHRoaXMuUmI9PT1ifHxhPHRoaXMuUmJ8fHRoaXMuWGE8PWEpe3ZhciBqLG4scSx2LGM9dGhpcy5jYSxkPXRoaXMuYy5kdXJhdGlvbigpLGU9MCxnPWwsaD1bXTtmb3IoYT49dGhpcy5YYXx8dGhpcy5YYT09PWI/dj10aGlzLkViIT09Yj90aGlzLkViOjA6KGc9Zix2PXRoaXMuS2IhPT1iP3RoaXMuS2I6Yy5sZW5ndGgtMSk7Oyl7aWYocT1jW3ZdLHEueWE8PWEpZT1NYXRoLm1heChlLHEueWEpLHEuUGEmJihxLlBhPWwpO2Vsc2UgaWYoYTxxLnN0YXJ0VGltZSl7aWYoZD1NYXRoLm1pbihkLHEuc3RhcnRUaW1lKSxxLlBhJiYocS5QYT1sKSwhZylicmVha31lbHNlIGc/KGguc3BsaWNlKDAsMCxxKSxuPT09YiYmKG49diksaj12KTooaC5wdXNoKHEpLGo9PT1iJiYoaj12KSxuPXYpLGQ9TWF0aC5taW4oZCxxLnlhKSxlPU1hdGgubWF4KGUscS5zdGFydFRpbWUpLHEuUGE9ZjtpZihnKXtpZigwPT09dilicmVhazt2LS19ZWxzZXtpZih2PT09Yy5sZW5ndGgtMSlicmVhazt2Kyt9fWZvcih0aGlzLnViPWgsdGhpcy5YYT1kLHRoaXMuUmI9ZSx0aGlzLkViPWosdGhpcy5LYj1uLGo9dGhpcy51YixuPSIiLGE9MCxjPWoubGVuZ3RoO2M+YTthKyspbis9JzxzcGFuIGNsYXNzPSJ2anMtdHQtY3VlIj4nK2pbYV0udGV4dCsiPC9zcGFuPiI7dGhpcy5iLmlubmVySFRNTD1uLHRoaXMubCgiY3VlY2hhbmdlIil9fX0scy5yZXNldD1mdW5jdGlvbigpe3RoaXMuWGE9MCx0aGlzLlJiPXRoaXMuYy5kdXJhdGlvbigpLHRoaXMuS2I9dGhpcy5FYj0wfSx0LlhiPXQuRC5leHRlbmQoKSx0LlhiLnByb3RvdHlwZS5IPSJjYXB0aW9ucyIsdC5lYz10LkQuZXh0ZW5kKCksdC5lYy5wcm90b3R5cGUuSD0ic3VidGl0bGVzIix0LlliPXQuRC5leHRlbmQoKSx0LlliLnByb3RvdHlwZS5IPSJjaGFwdGVycyIsdC5nYz10LmEuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXtpZih0LmEuY2FsbCh0aGlzLGEsYyxkKSxhLmsudHJhY2tzJiYwPGEuay50cmFja3MubGVuZ3RoKXtjPXRoaXMuYyxhPWEuay50cmFja3M7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspZD1hW2VdLG9hKGMsZC5raW5kLGQubGFiZWwsZC5sYW5ndWFnZSxkKX19fSksdC5nYy5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy10ZXh0LXRyYWNrLWRpc3BsYXkifSl9LHQuYWE9dC5JLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuZmE9Yy50cmFjaztjLmxhYmVsPWQubGFiZWwoKSxjLnNlbGVjdGVkPWQuQmIoKSx0LkkuY2FsbCh0aGlzLGEsYyksdGhpcy5jLmQoZC5LKCkrInRyYWNrY2hhbmdlIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpfX0pLHQuYWEucHJvdG90eXBlLnI9ZnVuY3Rpb24oKXt0LkkucHJvdG90eXBlLnIuY2FsbCh0aGlzKSxZKHRoaXMuYyx0aGlzLmZhLlUsdGhpcy5mYS5LKCkpfSx0LmFhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkKDI9PXRoaXMuZmEubW9kZSgpKX0sdC5uYj10LmFhLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMpe2MudHJhY2s9e0s6ZnVuY3Rpb24oKXtyZXR1cm4gYy5raW5kfSxtOmEsbGFiZWw6ZnVuY3Rpb24oKXtyZXR1cm4gYy5raW5kKyIgb2ZmIn0sQmI6cihsKSxtb2RlOnIobCl9LHQuYWEuY2FsbCh0aGlzLGEsYyksdGhpcy5zZWxlY3RlZChmKX19KSx0Lm5iLnByb3RvdHlwZS5yPWZ1bmN0aW9uKCl7dC5hYS5wcm90b3R5cGUuci5jYWxsKHRoaXMpLFkodGhpcy5jLHRoaXMuZmEuVSx0aGlzLmZhLksoKSl9LHQubmIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgZSxhPXRoaXMuYy50ZXh0VHJhY2tzKCksYz0wLGQ9YS5sZW5ndGgsZz1mO2Q+YztjKyspZT1hW2NdLGUuSygpPT10aGlzLmZhLksoKSYmMj09ZS5tb2RlKCkmJihnPWwpO3RoaXMuc2VsZWN0ZWQoZyl9LHQuVz10LkwuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dC5MLmNhbGwodGhpcyxhLGMpLDE+PXRoaXMuTy5sZW5ndGgmJnRoaXMuWCgpfX0pLHQuVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oKXt2YXIgYyxhPVtdO2EucHVzaChuZXcgdC5uYih0aGlzLmMse2tpbmQ6dGhpcy5IfSkpO2Zvcih2YXIgZD0wO2Q8dGhpcy5jLnRleHRUcmFja3MoKS5sZW5ndGg7ZCsrKWM9dGhpcy5jLnRleHRUcmFja3MoKVtkXSxjLksoKT09PXRoaXMuSCYmYS5wdXNoKG5ldyB0LmFhKHRoaXMuYyx7dHJhY2s6Y30pKTtyZXR1cm4gYX0sdC5JYT10LlcuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXt0LlcuY2FsbCh0aGlzLGEsYyxkKSx0aGlzLmIuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIiwiQ2FwdGlvbnMgTWVudSIpfX0pLHQuSWEucHJvdG90eXBlLkg9ImNhcHRpb25zIix0LklhLnByb3RvdHlwZS51YT0iQ2FwdGlvbnMiLHQuSWEucHJvdG90eXBlLmNsYXNzTmFtZT0idmpzLWNhcHRpb25zLWJ1dHRvbiIsdC5PYT10LlcuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyxkKXt0LlcuY2FsbCh0aGlzLGEsYyxkKSx0aGlzLmIuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIiwiU3VidGl0bGVzIE1lbnUiKX19KSx0Lk9hLnByb3RvdHlwZS5IPSJzdWJ0aXRsZXMiLHQuT2EucHJvdG90eXBlLnVhPSJTdWJ0aXRsZXMiLHQuT2EucHJvdG90eXBlLmNsYXNzTmFtZT0idmpzLXN1YnRpdGxlcy1idXR0b24iLHQuSmE9dC5XLmV4dGVuZCh7ajpmdW5jdGlvbihhLGMsZCl7dC5XLmNhbGwodGhpcyxhLGMsZCksdGhpcy5iLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsIkNoYXB0ZXJzIE1lbnUiKX19KSxzPXQuSmEucHJvdG90eXBlLHMuSD0iY2hhcHRlcnMiLHMudWE9IkNoYXB0ZXJzIixzLmNsYXNzTmFtZT0idmpzLWNoYXB0ZXJzLWJ1dHRvbiIscy53YT1mdW5jdGlvbigpe2Zvcih2YXIgYyxhPVtdLGQ9MDtkPHRoaXMuYy50ZXh0VHJhY2tzKCkubGVuZ3RoO2QrKyljPXRoaXMuYy50ZXh0VHJhY2tzKClbZF0sYy5LKCk9PT10aGlzLkgmJmEucHVzaChuZXcgdC5hYSh0aGlzLmMse3RyYWNrOmN9KSk7cmV0dXJuIGF9LHMueGE9ZnVuY3Rpb24oKXtmb3IodmFyIGUsZyxhPXRoaXMuYy50ZXh0VHJhY2tzKCksYz0wLGQ9YS5sZW5ndGgsaD10aGlzLk89W107ZD5jO2MrKylpZihlPWFbY10sZS5LKCk9PXRoaXMuSCl7aWYoMCE9PWUucmVhZHlTdGF0ZSgpKXtnPWU7YnJlYWt9ZS5sb2FkKCksZS5kKCJsb2FkZWQiLHQuYmluZCh0aGlzLHRoaXMueGEpKX1pZihhPXRoaXMuQmEsYT09PWImJihhPW5ldyB0LmhhKHRoaXMuYyksYS5qYSgpLmFwcGVuZENoaWxkKHQuZSgibGkiLHtjbGFzc05hbWU6InZqcy1tZW51LXRpdGxlIixpbm5lckhUTUw6dC5iYSh0aGlzLkgpLGRlOi0xfSkpKSxnKXtlPWcuY2E7Zm9yKHZhciBqLGM9MCxkPWUubGVuZ3RoO2Q+YztjKyspaj1lW2NdLGo9bmV3IHQuaGIodGhpcy5jLHt0cmFjazpnLGN1ZTpqfSksaC5wdXNoKGopLGEuUihqKTt0aGlzLlIoYSl9cmV0dXJuIDA8dGhpcy5PLmxlbmd0aCYmdGhpcy5zaG93KCksYX0sdC5oYj10LkkuZXh0ZW5kKHtqOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5mYT1jLnRyYWNrLGU9dGhpcy5jdWU9Yy5jdWUsZz1hLmN1cnJlbnRUaW1lKCk7Yy5sYWJlbD1lLnRleHQsYy5zZWxlY3RlZD1lLnN0YXJ0VGltZTw9ZyYmZzxlLnlhLHQuSS5jYWxsKHRoaXMsYSxjKSxkLmQoImN1ZWNoYW5nZSIsdC5iaW5kKHRoaXMsdGhpcy51cGRhdGUpKX19KSx0LmhiLnByb3RvdHlwZS5yPWZ1bmN0aW9uKCl7dC5JLnByb3RvdHlwZS5yLmNhbGwodGhpcyksdGhpcy5jLmN1cnJlbnRUaW1lKHRoaXMuY3VlLnN0YXJ0VGltZSksdGhpcy51cGRhdGUodGhpcy5jdWUuc3RhcnRUaW1lKX0sdC5oYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdWUsYz10aGlzLmMuY3VycmVudFRpbWUoKTt0aGlzLnNlbGVjdGVkKGEuc3RhcnRUaW1lPD1jJiZjPGEueWEpfSx0LmguQSh0LkthLnByb3RvdHlwZS5rLmNoaWxkcmVuLHtzdWJ0aXRsZXNCdXR0b246e30sY2FwdGlvbnNCdXR0b246e30sY2hhcHRlcnNCdXR0b246e319KSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5KU09OJiYiZnVuY3Rpb24iPT09d2luZG93LkpTT04ucGFyc2UpdC5KU09OPXdpbmRvdy5KU09OO2Vsc2V7dC5KU09OPXt9O3ZhciBaPS9bXHUwMDAwXHUwMGFkXHUwNjAwLVx1MDYwNFx1MDcwZlx1MTdiNFx1MTdiNVx1MjAwYy1cdTIwMGZcdTIwMjgtXHUyMDJmXHUyMDYwLVx1MjA2Zlx1ZmVmZlx1ZmZmMC1cdWZmZmZdL2c7dC5KU09OLnBhcnNlPWZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZChhLGUpe3ZhciBqLG4scT1hW2VdO2lmKHEmJiJvYmplY3QiPT10eXBlb2YgcSlmb3IoaiBpbiBxKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChxLGopJiYobj1kKHEsaiksbiE9PWI/cVtqXT1uOmRlbGV0ZSBxW2pdKTtyZXR1cm4gYy5jYWxsKGEsZSxxKX12YXIgZTtpZihhPVN0cmluZyhhKSxaLmxhc3RJbmRleD0wLFoudGVzdChhKSYmKGE9YS5yZXBsYWNlKFosZnVuY3Rpb24oYSl7cmV0dXJuIlxcdSIrKCIwMDAwIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSksL15bXF0sOnt9XHNdKiQvLnRlc3QoYS5yZXBsYWNlKC9cXCg/OlsiXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2csIkAiKS5yZXBsYWNlKC8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZywiXSIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OlxzKlxbKSsvZywiIikpKXJldHVybiBlPWV2YWwoIigiK2ErIikiKSwiZnVuY3Rpb24iPT10eXBlb2YgYz9kKHsiIjplfSwiIik6ZTt0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkpTT04ucGFyc2UoKTogaW52YWxpZCBvciBtYWxmb3JtZWQgSlNPTiBkYXRhIil9fXQua2M9ZnVuY3Rpb24oKXt2YXIgYSxjLGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZpZGVvIik7aWYoZCYmMDxkLmxlbmd0aClmb3IodmFyIGU9MCxnPWQubGVuZ3RoO2c+ZTtlKyspe2lmKCEoYz1kW2VdKXx8IWMuZ2V0QXR0cmlidXRlKXt0LnZiKCk7YnJlYWt9Yy5wbGF5ZXI9PT1iJiYoYT1jLmdldEF0dHJpYnV0ZSgiZGF0YS1zZXR1cCIpLGEhPT1rJiYoYT10LkpTT04ucGFyc2UoYXx8Int9IiksdmlkZW9qcyhjLGEpKSl9ZWxzZSB0LlNjfHx0LnZiKCl9LHQudmI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHQua2MsMSl9LCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP3QuU2M9Zjp0LlYod2luZG93LCJsb2FkIixmdW5jdGlvbigpe3QuU2M9Zn0pLHQudmIoKSx0LlRkPWZ1bmN0aW9uKGEsYyl7dC5QbGF5ZXIucHJvdG90eXBlW2FdPWN9O3ZhciByYT10aGlzOyQoInZpZGVvanMiLHQpLCQoIl9WXyIsdCksJCgidmlkZW9qcy5vcHRpb25zIix0Lm9wdGlvbnMpLCQoInZpZGVvanMucGxheWVycyIsdC5DYSksJCgidmlkZW9qcy5UT1VDSF9FTkFCTEVEIix0LmZjKSwkKCJ2aWRlb2pzLmNhY2hlIix0LnZhKSwkKCJ2aWRlb2pzLkNvbXBvbmVudCIsdC5hKSx0LmEucHJvdG90eXBlLnBsYXllcj10LmEucHJvdG90eXBlLm0sdC5hLnByb3RvdHlwZS5vcHRpb25zPXQuYS5wcm90b3R5cGUub3B0aW9ucyx0LmEucHJvdG90eXBlLmluaXQ9dC5hLnByb3RvdHlwZS5qLHQuYS5wcm90b3R5cGUuZGlzcG9zZT10LmEucHJvdG90eXBlLmRpc3Bvc2UsdC5hLnByb3RvdHlwZS5jcmVhdGVFbD10LmEucHJvdG90eXBlLmUsdC5hLnByb3RvdHlwZS5jb250ZW50RWw9dC5hLnByb3RvdHlwZS5qYSx0LmEucHJvdG90eXBlLmVsPXQuYS5wcm90b3R5cGUudyx0LmEucHJvdG90eXBlLmFkZENoaWxkPXQuYS5wcm90b3R5cGUuUix0LmEucHJvdG90eXBlLmdldENoaWxkPXQuYS5wcm90b3R5cGUua2EsdC5hLnByb3RvdHlwZS5nZXRDaGlsZEJ5SWQ9dC5hLnByb3RvdHlwZS53ZCx0LmEucHJvdG90eXBlLmNoaWxkcmVuPXQuYS5wcm90b3R5cGUuY2hpbGRyZW4sdC5hLnByb3RvdHlwZS5pbml0Q2hpbGRyZW49dC5hLnByb3RvdHlwZS53Yyx0LmEucHJvdG90eXBlLnJlbW92ZUNoaWxkPXQuYS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsdC5hLnByb3RvdHlwZS5vbj10LmEucHJvdG90eXBlLmQsdC5hLnByb3RvdHlwZS5vZmY9dC5hLnByb3RvdHlwZS5wLHQuYS5wcm90b3R5cGUub25lPXQuYS5wcm90b3R5cGUuVix0LmEucHJvdG90eXBlLnRyaWdnZXI9dC5hLnByb3RvdHlwZS5sLHQuYS5wcm90b3R5cGUudHJpZ2dlclJlYWR5PXQuYS5wcm90b3R5cGUuSGEsdC5hLnByb3RvdHlwZS5zaG93PXQuYS5wcm90b3R5cGUuc2hvdyx0LmEucHJvdG90eXBlLmhpZGU9dC5hLnByb3RvdHlwZS5YLHQuYS5wcm90b3R5cGUud2lkdGg9dC5hLnByb3RvdHlwZS53aWR0aCx0LmEucHJvdG90eXBlLmhlaWdodD10LmEucHJvdG90eXBlLmhlaWdodCx0LmEucHJvdG90eXBlLmRpbWVuc2lvbnM9dC5hLnByb3RvdHlwZS5wZCx0LmEucHJvdG90eXBlLnJlYWR5PXQuYS5wcm90b3R5cGUuSix0LmEucHJvdG90eXBlLmFkZENsYXNzPXQuYS5wcm90b3R5cGUubix0LmEucHJvdG90eXBlLnJlbW92ZUNsYXNzPXQuYS5wcm90b3R5cGUucSx0LmEucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3M9dC5hLnByb3RvdHlwZS5ULHQuYS5wcm90b3R5cGUubG9jYWxpemU9dC5hLnByb3RvdHlwZS5zLHQuUGxheWVyLnByb3RvdHlwZS5lbmRlZD10LlBsYXllci5wcm90b3R5cGUuZW5kZWQsdC5QbGF5ZXIucHJvdG90eXBlLmVudGVyRnVsbFdpbmRvdz10LlBsYXllci5wcm90b3R5cGUucWMsdC5QbGF5ZXIucHJvdG90eXBlLmV4aXRGdWxsV2luZG93PXQuUGxheWVyLnByb3RvdHlwZS5EYix0LlBsYXllci5wcm90b3R5cGUucHJlbG9hZD10LlBsYXllci5wcm90b3R5cGUuRGEsdC5QbGF5ZXIucHJvdG90eXBlLnJlbWFpbmluZ1RpbWU9dC5QbGF5ZXIucHJvdG90eXBlLnJlbWFpbmluZ1RpbWUsdC5QbGF5ZXIucHJvdG90eXBlLnN1cHBvcnRzRnVsbFNjcmVlbj10LlBsYXllci5wcm90b3R5cGUuRmEsdC5QbGF5ZXIucHJvdG90eXBlLmN1cnJlbnRUeXBlPXQuUGxheWVyLnByb3RvdHlwZS5sZCx0LlBsYXllci5wcm90b3R5cGUubGFuZ3VhZ2U9dC5QbGF5ZXIucHJvdG90eXBlLmxhbmd1YWdlLHQuUGxheWVyLnByb3RvdHlwZS5sYW5ndWFnZXM9dC5QbGF5ZXIucHJvdG90eXBlLldhLCQoInZpZGVvanMuTWVkaWFMb2FkZXIiLHQuYmQpLCQoInZpZGVvanMuVGV4dFRyYWNrRGlzcGxheSIsdC5nYyksJCgidmlkZW9qcy5Db250cm9sQmFyIix0LkthKSwkKCJ2aWRlb2pzLkJ1dHRvbiIsdC50KSwkKCJ2aWRlb2pzLlBsYXlUb2dnbGUiLHQuYmMpLCQoInZpZGVvanMuRnVsbHNjcmVlblRvZ2dsZSIsdC5MYSksJCgidmlkZW9qcy5CaWdQbGF5QnV0dG9uIix0LmdiKSwkKCJ2aWRlb2pzLkxvYWRpbmdTcGlubmVyIix0LiRiKSwkKCJ2aWRlb2pzLkN1cnJlbnRUaW1lRGlzcGxheSIsdC5pYiksJCgidmlkZW9qcy5EdXJhdGlvbkRpc3BsYXkiLHQuamIpLCQoInZpZGVvanMuVGltZURpdmlkZXIiLHQuaGMpLCQoInZpZGVvanMuUmVtYWluaW5nVGltZURpc3BsYXkiLHQucWIpLCQoInZpZGVvanMuTGl2ZURpc3BsYXkiLHQuWmIpLCQoInZpZGVvanMuRXJyb3JEaXNwbGF5Iix0LmtiKSwkKCJ2aWRlb2pzLlNsaWRlciIsdC5RKSwkKCJ2aWRlb2pzLlByb2dyZXNzQ29udHJvbCIsdC5wYiksJCgidmlkZW9qcy5TZWVrQmFyIix0LmRjKSwkKCJ2aWRlb2pzLkxvYWRQcm9ncmVzc0JhciIsdC5tYiksJCgidmlkZW9qcy5QbGF5UHJvZ3Jlc3NCYXIiLHQuYWMpLCQoInZpZGVvanMuU2Vla0hhbmRsZSIsdC5OYSksJCgidmlkZW9qcy5Wb2x1bWVDb250cm9sIix0LnNiKSwkKCJ2aWRlb2pzLlZvbHVtZUJhciIsdC5yYiksJCgidmlkZW9qcy5Wb2x1bWVMZXZlbCIsdC5pYyksJCgidmlkZW9qcy5Wb2x1bWVNZW51QnV0dG9uIix0LnNhKSwkKCJ2aWRlb2pzLlZvbHVtZUhhbmRsZSIsdC50YiksJCgidmlkZW9qcy5NdXRlVG9nZ2xlIix0LmlhKSwkKCJ2aWRlb2pzLlBvc3RlckltYWdlIix0Lk1hKSwkKCJ2aWRlb2pzLk1lbnUiLHQuaGEpLCQoInZpZGVvanMuTWVudUl0ZW0iLHQuSSksJCgidmlkZW9qcy5NZW51QnV0dG9uIix0LkwpLCQoInZpZGVvanMuUGxheWJhY2tSYXRlTWVudUJ1dHRvbiIsdC5jYyksdC5MLnByb3RvdHlwZS5jcmVhdGVJdGVtcz10LkwucHJvdG90eXBlLndhLHQuVy5wcm90b3R5cGUuY3JlYXRlSXRlbXM9dC5XLnByb3RvdHlwZS53YSx0LkphLnByb3RvdHlwZS5jcmVhdGVJdGVtcz10LkphLnByb3RvdHlwZS53YSwkKCJ2aWRlb2pzLlN1YnRpdGxlc0J1dHRvbiIsdC5PYSksJCgidmlkZW9qcy5DYXB0aW9uc0J1dHRvbiIsdC5JYSksJCgidmlkZW9qcy5DaGFwdGVyc0J1dHRvbiIsdC5KYSksJCgidmlkZW9qcy5NZWRpYVRlY2hDb250cm9sbGVyIix0LnUpLHQudS5wcm90b3R5cGUuZmVhdHVyZXM9dC51LnByb3RvdHlwZS5vLHQudS5wcm90b3R5cGUuby52b2x1bWVDb250cm9sPXQudS5wcm90b3R5cGUuby5SYyx0LnUucHJvdG90eXBlLm8uZnVsbHNjcmVlblJlc2l6ZT10LnUucHJvdG90eXBlLm8ubWUsdC51LnByb3RvdHlwZS5vLnByb2dyZXNzRXZlbnRzPXQudS5wcm90b3R5cGUuby5wZSx0LnUucHJvdG90eXBlLm8udGltZXVwZGF0ZUV2ZW50cz10LnUucHJvdG90eXBlLm8uc2UsdC51LnByb3RvdHlwZS5zZXRQb3N0ZXI9dC51LnByb3RvdHlwZS5JYywkKCJ2aWRlb2pzLkh0bWw1Iix0LmcpLHQuZy5FdmVudHM9dC5nLmxiLHQuZy5pc1N1cHBvcnRlZD10LmcuaXNTdXBwb3J0ZWQsdC5nLmNhblBsYXlTb3VyY2U9dC5nLndiLHQuZy5wYXRjaENhblBsYXlUeXBlPXQuZy5CYyx0LmcudW5wYXRjaENhblBsYXlUeXBlPXQuZy5oZSx0LmcucHJvdG90eXBlLnNldEN1cnJlbnRUaW1lPXQuZy5wcm90b3R5cGUuV2QsdC5nLnByb3RvdHlwZS5zZXRWb2x1bWU9dC5nLnByb3RvdHlwZS5iZSx0LmcucHJvdG90eXBlLnNldE11dGVkPXQuZy5wcm90b3R5cGUuWmQsdC5nLnByb3RvdHlwZS5zZXRQcmVsb2FkPXQuZy5wcm90b3R5cGUuYWUsdC5nLnByb3RvdHlwZS5zZXRBdXRvcGxheT10LmcucHJvdG90eXBlLlZkLHQuZy5wcm90b3R5cGUuc2V0TG9vcD10LmcucHJvdG90eXBlLllkLHQuZy5wcm90b3R5cGUuZW50ZXJGdWxsU2NyZWVuPXQuZy5wcm90b3R5cGUucGMsdC5nLnByb3RvdHlwZS5leGl0RnVsbFNjcmVlbj10LmcucHJvdG90eXBlLnRkLHQuZy5wcm90b3R5cGUucGxheWJhY2tSYXRlPXQuZy5wcm90b3R5cGUucGxheWJhY2tSYXRlLHQuZy5wcm90b3R5cGUuc2V0UGxheWJhY2tSYXRlPXQuZy5wcm90b3R5cGUuJGQsJCgidmlkZW9qcy5GbGFzaCIsdC5mKSx0LmYuaXNTdXBwb3J0ZWQ9dC5mLmlzU3VwcG9ydGVkLHQuZi5jYW5QbGF5U291cmNlPXQuZi53Yix0LmYub25SZWFkeT10LmYub25SZWFkeSwkKCJ2aWRlb2pzLlRleHRUcmFjayIsdC5EKSx0LkQucHJvdG90eXBlLmxhYmVsPXQuRC5wcm90b3R5cGUubGFiZWwsdC5ELnByb3RvdHlwZS5raW5kPXQuRC5wcm90b3R5cGUuSyx0LkQucHJvdG90eXBlLm1vZGU9dC5ELnByb3RvdHlwZS5tb2RlLHQuRC5wcm90b3R5cGUuY3Vlcz10LkQucHJvdG90eXBlLmtkLHQuRC5wcm90b3R5cGUuYWN0aXZlQ3Vlcz10LkQucHJvdG90eXBlLmRkLCQoInZpZGVvanMuQ2FwdGlvbnNUcmFjayIsdC5YYiksJCgidmlkZW9qcy5TdWJ0aXRsZXNUcmFjayIsdC5lYyksJCgidmlkZW9qcy5DaGFwdGVyc1RyYWNrIix0LlliKSwkKCJ2aWRlb2pzLmF1dG9TZXR1cCIsdC5rYyksJCgidmlkZW9qcy5wbHVnaW4iLHQuVGQpLCQoInZpZGVvanMuY3JlYXRlVGltZVJhbmdlIix0LkFiKSwkKCJ2aWRlb2pzLnV0aWwiLHQucWEpLHQucWEubWVyZ2VPcHRpb25zPXQucWEuTmJ9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiByKGEsYil7dmFyIGM7YXx8KGE9e30pO2ZvcihjIGluIGIpYVtjXT1iW2NdO3JldHVybiBhfWZ1bmN0aW9uIHcoKXt2YXIgYSxjLGI9YXJndW1lbnRzLGQ9e30sZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7Im9iamVjdCIhPXR5cGVvZiBhJiYoYT17fSk7Zm9yKGQgaW4gYiliLmhhc093blByb3BlcnR5KGQpJiYoYz1iW2RdLGFbZF09YyYmIm9iamVjdCI9PXR5cGVvZiBjJiYiW29iamVjdCBBcnJheV0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGMpJiYicmVuZGVyVG8iIT09ZCYmIm51bWJlciIhPXR5cGVvZiBjLm5vZGVUeXBlP2UoYVtkXXx8e30sYyk6YltkXSk7cmV0dXJuIGF9O2ZvcihiWzBdPT09ITAmJihkPWJbMV0sYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChiLDIpKSxjPWIubGVuZ3RoLGE9MDtjPmE7YSsrKWQ9ZShkLGJbYV0pO3JldHVybiBkfWZ1bmN0aW9uIHkoYSxiKXtyZXR1cm4gcGFyc2VJbnQoYSxifHwxMCl9ZnVuY3Rpb24gR2EoYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhfWZ1bmN0aW9uIGRhKGEpe3JldHVybiBhJiYib2JqZWN0Ij09dHlwZW9mIGF9ZnVuY3Rpb24gSGEoYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiBqYShhKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGF9ZnVuY3Rpb24gemEoYSl7cmV0dXJuIFYubG9nKGEpL1YuTE4xMH1mdW5jdGlvbiBrYShhKXtyZXR1cm4gVi5wb3coMTAsYSl9ZnVuY3Rpb24gbGEoYSxiKXtmb3IodmFyIGM9YS5sZW5ndGg7Yy0tOylpZihhW2NdPT09Yil7YS5zcGxpY2UoYywxKTticmVha319ZnVuY3Rpb24gcyhhKXtyZXR1cm4gYSE9PXUmJm51bGwhPT1hfWZ1bmN0aW9uIEYoYSxiLGMpe3ZhciBkLGU7aWYoR2EoYikpcyhjKT9hLnNldEF0dHJpYnV0ZShiLGMpOmEmJmEuZ2V0QXR0cmlidXRlJiYoZT1hLmdldEF0dHJpYnV0ZShiKSk7ZWxzZSBpZihzKGIpJiZkYShiKSlmb3IoZCBpbiBiKWEuc2V0QXR0cmlidXRlKGQsYltkXSk7cmV0dXJuIGV9ZnVuY3Rpb24gcmEoYSl7cmV0dXJuIEhhKGEpP2E6W2FdfWZ1bmN0aW9uIHAoKXt2YXIgYixjLGE9YXJndW1lbnRzLGQ9YS5sZW5ndGg7Zm9yKGI9MDtkPmI7YisrKWlmKGM9YVtiXSxjIT09dSYmbnVsbCE9PWMpcmV0dXJuIGN9ZnVuY3Rpb24gQihhLGIpe0FhJiYhYmEmJmImJmIub3BhY2l0eSE9PXUmJihiLmZpbHRlcj0iYWxwaGEob3BhY2l0eT0iKzEwMCpiLm9wYWNpdHkrIikiKSxyKGEuc3R5bGUsYil9ZnVuY3Rpb24gJChhLGIsYyxkLGUpe3JldHVybiBhPXguY3JlYXRlRWxlbWVudChhKSxiJiZyKGEsYiksZSYmQihhLHtwYWRkaW5nOjAsYm9yZGVyOlAsbWFyZ2luOjB9KSxjJiZCKGEsYyksZCYmZC5hcHBlbmRDaGlsZChhKSxhfWZ1bmN0aW9uIG1hKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXtyZXR1cm4gdX07cmV0dXJuIGMucHJvdG90eXBlPW5ldyBhLHIoYy5wcm90b3R5cGUsYiksY31mdW5jdGlvbiBCYShhLGIsYyxkKXt2YXIgZT1LLm51bWJlckZvcm1hdCxmPUUubGFuZyxnPSthfHwwLGg9LTE9PT1iPyhnLnRvU3RyaW5nKCkuc3BsaXQoIi4iKVsxXXx8IiIpLmxlbmd0aDppc05hTihiPVEoYikpPzI6YixpPXZvaWQgMD09PWM/Zi5kZWNpbWFsUG9pbnQ6YyxmPXZvaWQgMD09PWQ/Zi50aG91c2FuZHNTZXA6ZCxqPTA+Zz8iLSI6IiIsaz1TdHJpbmcoeShnPVEoZykudG9GaXhlZChoKSkpLGw9ay5sZW5ndGg+Mz9rLmxlbmd0aCUzOjA7cmV0dXJuIGUhPT1CYT9lKGEsYixjLGQpOmorKGw/ay5zdWJzdHIoMCxsKStmOiIiKStrLnN1YnN0cihsKS5yZXBsYWNlKC8oXGR7M30pKD89XGQpL2csIiQxIitmKSsoaD9pK1EoZy1rKS50b0ZpeGVkKGgpLnNsaWNlKDIpOiIiKX1mdW5jdGlvbiBJYShhLGIpe3JldHVybiBBcnJheSgoYnx8MikrMS1TdHJpbmcoYSkubGVuZ3RoKS5qb2luKDApK2F9ZnVuY3Rpb24gTmEoYSxiLGMpe3ZhciBkPWFbYl07YVtiXT1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGEudW5zaGlmdChkKSxjLmFwcGx5KHRoaXMsYSl9fWZ1bmN0aW9uIEphKGEsYil7Zm9yKHZhciBlLGYsZyxoLGksYz0ieyIsZD0hMSxqPVtdOy0xIT09KGM9YS5pbmRleE9mKGMpKTspe2lmKGU9YS5zbGljZSgwLGMpLGQpe2ZvcihmPWUuc3BsaXQoIjoiKSxnPWYuc2hpZnQoKS5zcGxpdCgiLiIpLGk9Zy5sZW5ndGgsZT1iLGg9MDtpPmg7aCsrKWU9ZVtnW2hdXTtmLmxlbmd0aCYmKGY9Zi5qb2luKCI6IiksZz0vXC4oWzAtOV0pLyxoPUUubGFuZyxpPXZvaWQgMCwvZiQvLnRlc3QoZik/KGk9KGk9Zi5tYXRjaChnKSk/aVsxXTotMSxudWxsIT09ZSYmKGU9QmEoZSxpLGguZGVjaW1hbFBvaW50LGYuaW5kZXhPZigiLCIpPi0xP2gudGhvdXNhbmRzU2VwOiIiKSkpOmU9Y2IoZixlKSl9ai5wdXNoKGUpLGE9YS5zbGljZShjKzEpLGM9KGQ9IWQpPyJ9IjoieyJ9cmV0dXJuIGoucHVzaChhKSxqLmpvaW4oIiIpfWZ1bmN0aW9uIG1iKGEpe3JldHVybiBWLnBvdygxMCxVKFYubG9nKGEpL1YuTE4xMCkpfWZ1bmN0aW9uIG5iKGEsYixjLGQpe3ZhciBlLGM9cChjLDEpO2ZvcihlPWEvYyxifHwoYj1bMSwyLDIuNSw1LDEwXSxkPT09ITEmJigxPT09Yz9iPVsxLDIsNSwxMF06LjE+PWMmJihiPVsxL2NdKSkpLGQ9MDtkPGIubGVuZ3RoJiYoYT1iW2RdLCEoZTw9KGJbZF0rKGJbZCsxXXx8YltkXSkpLzIpKTtkKyspO3JldHVybiBhKj1jfWZ1bmN0aW9uIG9iKGEsYil7dmFyIGQsZSxjPWEubGVuZ3RoO2ZvcihlPTA7Yz5lO2UrKylhW2VdLnNzX2k9ZTtmb3IoYS5zb3J0KGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGQ9YihhLGMpLDA9PT1kP2Euc3NfaS1jLnNzX2k6ZH0pLGU9MDtjPmU7ZSsrKWRlbGV0ZSBhW2VdLnNzX2l9ZnVuY3Rpb24gT2EoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9YVswXTtiLS07KWFbYl08YyYmKGM9YVtiXSk7cmV0dXJuIGN9ZnVuY3Rpb24gQ2EoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9YVswXTtiLS07KWFbYl0+YyYmKGM9YVtiXSk7cmV0dXJuIGN9ZnVuY3Rpb24gUGEoYSxiKXtmb3IodmFyIGMgaW4gYSlhW2NdJiZhW2NdIT09YiYmYVtjXS5kZXN0cm95JiZhW2NdLmRlc3Ryb3koKSxkZWxldGUgYVtjXX1mdW5jdGlvbiBRYShhKXtkYnx8KGRiPSQoS2EpKSxhJiZkYi5hcHBlbmRDaGlsZChhKSxkYi5pbm5lckhUTUw9IiJ9ZnVuY3Rpb24gZWEoYSl7cmV0dXJuIHBhcnNlRmxvYXQoYS50b1ByZWNpc2lvbigxNCkpfWZ1bmN0aW9uIFJhKGEsYil7dmE9cChhLGIuYW5pbWF0aW9uKX1mdW5jdGlvbiBCYigpe3ZhciBhPUUuZ2xvYmFsLnVzZVVUQyxiPWE/ImdldFVUQyI6ImdldCIsYz1hPyJzZXRVVEMiOiJzZXQiO0RhPUUuZ2xvYmFsLkRhdGV8fHdpbmRvdy5EYXRlLFNhPTZlNCooYSYmRS5nbG9iYWwudGltZXpvbmVPZmZzZXR8fDApLGViPWE/RGEuVVRDOmZ1bmN0aW9uKGEsYixjLGcsaCxpKXtyZXR1cm4gbmV3IERhKGEsYixwKGMsMSkscChnLDApLHAoaCwwKSxwKGksMCkpLmdldFRpbWUoKX0scGI9YisiTWludXRlcyIscWI9YisiSG91cnMiLHJiPWIrIkRheSIsWGE9YisiRGF0ZSIsZmI9YisiTW9udGgiLGdiPWIrIkZ1bGxZZWFyIixDYj1jKyJNaW51dGVzIixEYj1jKyJIb3VycyIsc2I9YysiRGF0ZSIsRWI9YysiTW9udGgiLEZiPWMrIkZ1bGxZZWFyIn1mdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIFRhKGEsYixjLGQpe3RoaXMuYXhpcz1hLHRoaXMucG9zPWIsdGhpcy50eXBlPWN8fCIiLHRoaXMuaXNOZXc9ITAsIWMmJiFkJiZ0aGlzLmFkZExhYmVsKCl9ZnVuY3Rpb24gbmEoKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFlhKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBHYihhLGIsYyxkLGUpe3ZhciBmPWEuY2hhcnQuaW52ZXJ0ZWQ7dGhpcy5heGlzPWEsdGhpcy5pc05lZ2F0aXZlPWMsdGhpcy5vcHRpb25zPWIsdGhpcy54PWQsdGhpcy50b3RhbD1udWxsLHRoaXMucG9pbnRzPXt9LHRoaXMuc3RhY2s9ZSx0aGlzLmFsaWduT3B0aW9ucz17YWxpZ246Yi5hbGlnbnx8KGY/Yz8ibGVmdCI6InJpZ2h0IjoiY2VudGVyIiksdmVydGljYWxBbGlnbjpiLnZlcnRpY2FsQWxpZ258fChmPyJtaWRkbGUiOmM/ImJvdHRvbSI6InRvcCIpLHk6cChiLnksZj80OmM/MTQ6LTYpLHg6cChiLngsZj9jPy02OjY6MCl9LHRoaXMudGV4dEFsaWduPWIudGV4dEFsaWdufHwoZj9jPyJyaWdodCI6ImxlZnQiOiJjZW50ZXIiKX12YXIgdSxaYSwkYSxkYixFLGNiLHZhLHZiLEEsaGEsRGEsZWIsU2EscGIscWIscmIsWGEsZmIsZ2IsQ2IsRGIsc2IsRWIsRmIsSyx4PWRvY3VtZW50LEc9d2luZG93LFY9TWF0aCx2PVYucm91bmQsVT1WLmZsb29yLExhPVYuY2VpbCx0PVYubWF4LEw9Vi5taW4sUT1WLmFicyxhYT1WLmNvcyxmYT1WLnNpbixvYT1WLlBJLEVhPTIqb2EvMzYwLHdhPW5hdmlnYXRvci51c2VyQWdlbnQsSGI9Ry5vcGVyYSxBYT0vbXNpZS9pLnRlc3Qod2EpJiYhSGIsaGI9OD09PXguZG9jdW1lbnRNb2RlLHRiPS9BcHBsZVdlYktpdC8udGVzdCh3YSksVWE9L0ZpcmVmb3gvLnRlc3Qod2EpLEliPS8oTW9iaWxlfEFuZHJvaWR8V2luZG93cyBQaG9uZSkvLnRlc3Qod2EpLHhhPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsYmE9ISF4LmNyZWF0ZUVsZW1lbnROUyYmISF4LmNyZWF0ZUVsZW1lbnROUyh4YSwic3ZnIikuY3JlYXRlU1ZHUmVjdCxPYj1VYSYmcGFyc2VJbnQod2Euc3BsaXQoIkZpcmVmb3gvIilbMV0sMTApPDQsZ2E9IWJhJiYhQWEmJiEheC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0LEpiPXt9LHViPTAsc2E9ZnVuY3Rpb24oKXtyZXR1cm4gdX0sVz1bXSxhYj0wLEthPSJkaXYiLFA9Im5vbmUiLFBiPS9eWzAtOV0rJC8sUWI9InN0cm9rZS13aWR0aCIsSD17fTtHLkhpZ2hjaGFydHM/aGEoMTYsITApOks9Ry5IaWdoY2hhcnRzPXt9LGNiPWZ1bmN0aW9uKGEsYixjKXtpZighcyhiKXx8aXNOYU4oYikpcmV0dXJuIkludmFsaWQgZGF0ZSI7dmFyIGUsYT1wKGEsIiVZLSVtLSVkICVIOiVNOiVTIiksZD1uZXcgRGEoYi1TYSksZj1kW3FiXSgpLGc9ZFtyYl0oKSxoPWRbWGFdKCksaT1kW2ZiXSgpLGo9ZFtnYl0oKSxrPUUubGFuZyxsPWsud2Vla2RheXMsZD1yKHthOmxbZ10uc3Vic3RyKDAsMyksQTpsW2ddLGQ6SWEoaCksZTpoLGI6ay5zaG9ydE1vbnRoc1tpXSxCOmsubW9udGhzW2ldLG06SWEoaSsxKSx5OmoudG9TdHJpbmcoKS5zdWJzdHIoMiwyKSxZOmosSDpJYShmKSxJOklhKGYlMTJ8fDEyKSxsOmYlMTJ8fDEyLE06SWEoZFtwYl0oKSkscDoxMj5mPyJBTSI6IlBNIixQOjEyPmY/ImFtIjoicG0iLFM6SWEoZC5nZXRTZWNvbmRzKCkpLEw6SWEodihiJTFlMyksMyl9LEsuZGF0ZUZvcm1hdHMpO2ZvcihlIGluIGQpZm9yKDstMSE9PWEuaW5kZXhPZigiJSIrZSk7KWE9YS5yZXBsYWNlKCIlIitlLCJmdW5jdGlvbiI9PXR5cGVvZiBkW2VdP2RbZV0oYik6ZFtlXSk7cmV0dXJuIGM/YS5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpOmF9LGhhPWZ1bmN0aW9uKGEsYil7dmFyIGM9IkhpZ2hjaGFydHMgZXJyb3IgIyIrYSsiOiB3d3cuaGlnaGNoYXJ0cy5jb20vZXJyb3JzLyIrYTtpZihiKXRocm93IGM7Ry5jb25zb2xlJiZjb25zb2xlLmxvZyhjKX0sQT17bWlsbGlzZWNvbmQ6MSxzZWNvbmQ6MWUzLG1pbnV0ZTo2ZTQsaG91cjozNmU1LGRheTo4NjRlNSx3ZWVrOjYwNDhlNSxtb250aDoyNjc4NGU1LHllYXI6MzE1NTY5NTJlM30sdmI9e2luaXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBnLGgsaSxiPWJ8fCIiLGQ9YS5zaGlmdCxlPWIuaW5kZXhPZigiQyIpPi0xLGY9ZT83OjMsYj1iLnNwbGl0KCIgIiksYz1bXS5jb25jYXQoYyksaj1mdW5jdGlvbihhKXtmb3IoZz1hLmxlbmd0aDtnLS07KSJNIj09PWFbZ10mJmEuc3BsaWNlKGcrMSwwLGFbZysxXSxhW2crMl0sYVtnKzFdLGFbZysyXSl9O2lmKGUmJihqKGIpLGooYykpLGEuaXNBcmVhJiYoaD1iLnNwbGljZShiLmxlbmd0aC02LDYpLGk9Yy5zcGxpY2UoYy5sZW5ndGgtNiw2KSksZDw9Yy5sZW5ndGgvZiYmYi5sZW5ndGg9PT1jLmxlbmd0aClmb3IoO2QtLTspYz1bXS5jb25jYXQoYykuc3BsaWNlKDAsZikuY29uY2F0KGMpO2lmKGEuc2hpZnQ9MCxiLmxlbmd0aClmb3IoYT1jLmxlbmd0aDtiLmxlbmd0aDxhOylkPVtdLmNvbmNhdChiKS5zcGxpY2UoYi5sZW5ndGgtZixmKSxlJiYoZFtmLTZdPWRbZi0yXSxkW2YtNV09ZFtmLTFdKSxiPWIuY29uY2F0KGQpO3JldHVybiBoJiYoYj1iLmNvbmNhdChoKSxjPWMuY29uY2F0KGkpKSxbYixjXX0sc3RlcDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXSxmPWEubGVuZ3RoO2lmKDE9PT1jKWU9ZDtlbHNlIGlmKGY9PT1iLmxlbmd0aCYmMT5jKWZvcig7Zi0tOylkPXBhcnNlRmxvYXQoYVtmXSksZVtmXT1pc05hTihkKT9hW2ZdOmMqcGFyc2VGbG9hdChiW2ZdLWQpK2Q7ZWxzZSBlPWI7cmV0dXJuIGV9fSxmdW5jdGlvbihhKXtHLkhpZ2hjaGFydHNBZGFwdGVyPUcuSGlnaGNoYXJ0c0FkYXB0ZXJ8fGEmJntpbml0OmZ1bmN0aW9uKGIpe3ZhciBjPWEuZng7YS5leHRlbmQoYS5lYXNpbmcse2Vhc2VPdXRRdWFkOmZ1bmN0aW9uKGEsYixjLGcsaCl7cmV0dXJuLWcqKGIvPWgpKihiLTIpK2N9fSksYS5lYWNoKFsiY3VyIiwiX2RlZmF1bHQiLCJ3aWR0aCIsImhlaWdodCIsIm9wYWNpdHkiXSxmdW5jdGlvbihiLGUpe3ZhciBnLGY9Yy5zdGVwOyJjdXIiPT09ZT9mPWMucHJvdG90eXBlOiJfZGVmYXVsdCI9PT1lJiZhLlR3ZWVuJiYoZj1hLlR3ZWVuLnByb3BIb29rc1tlXSxlPSJzZXQiKSwoZz1mW2VdKSYmKGZbZV09ZnVuY3Rpb24oYSl7dmFyIGMsYT1iP2E6dGhpcztyZXR1cm4iYWxpZ24iIT09YS5wcm9wPyhjPWEuZWxlbSxjLmF0dHI/Yy5hdHRyKGEucHJvcCwiY3VyIj09PWU/dTphLm5vdyk6Zy5hcHBseSh0aGlzLGFyZ3VtZW50cykpOnZvaWQgMH0pfSksTmEoYS5jc3NIb29rcy5vcGFjaXR5LCJnZXQiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5hdHRyP2Iub3BhY2l0eXx8MDphLmNhbGwodGhpcyxiLGMpfSksdGhpcy5hZGRBbmltU2V0dGVyKCJkIixmdW5jdGlvbihhKXt2YXIgZixjPWEuZWxlbTthLnN0YXJ0ZWR8fChmPWIuaW5pdChjLGMuZCxjLnRvRCksYS5zdGFydD1mWzBdLGEuZW5kPWZbMV0sYS5zdGFydGVkPSEwKSxjLmF0dHIoImQiLGIuc3RlcChhLnN0YXJ0LGEuZW5kLGEucG9zLGMudG9EKSl9KSx0aGlzLmVhY2g9QXJyYXkucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGIpfTpmdW5jdGlvbihhLGIpe3ZhciBjLGc9YS5sZW5ndGg7Zm9yKGM9MDtnPmM7YysrKWlmKGIuY2FsbChhW2NdLGFbY10sYyxhKT09PSExKXJldHVybiBjfSxhLmZuLmhpZ2hjaGFydHM9ZnVuY3Rpb24oKXt2YXIgYyxnLGE9IkNoYXJ0IixiPWFyZ3VtZW50cztyZXR1cm4gdGhpc1swXSYmKEdhKGJbMF0pJiYoYT1iWzBdLGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYiwxKSksYz1iWzBdLGMhPT11JiYoYy5jaGFydD1jLmNoYXJ0fHx7fSxjLmNoYXJ0LnJlbmRlclRvPXRoaXNbMF0sbmV3IEtbYV0oYyxiWzFdKSxnPXRoaXMpLGM9PT11JiYoZz1XW0YodGhpc1swXSwiZGF0YS1oaWdoY2hhcnRzLWNoYXJ0IildKSksZ319LGFkZEFuaW1TZXR0ZXI6ZnVuY3Rpb24oYixjKXthLlR3ZWVuP2EuVHdlZW4ucHJvcEhvb2tzW2JdPXtzZXQ6Y306YS5meC5zdGVwW2JdPWN9LGdldFNjcmlwdDphLmdldFNjcmlwdCxpbkFycmF5OmEuaW5BcnJheSxhZGFwdGVyUnVuOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYilbY10oKX0sZ3JlcDphLmdyZXAsbWFwOmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkPVtdLGU9MCxmPWEubGVuZ3RoO2Y+ZTtlKyspZFtlXT1jLmNhbGwoYVtlXSxhW2VdLGUsYSk7cmV0dXJuIGR9LG9mZnNldDpmdW5jdGlvbihiKXtyZXR1cm4gYShiKS5vZmZzZXQoKX0sYWRkRXZlbnQ6ZnVuY3Rpb24oYixjLGQpe2EoYikuYmluZChjLGQpfSxyZW1vdmVFdmVudDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9eC5yZW1vdmVFdmVudExpc3RlbmVyPyJyZW1vdmVFdmVudExpc3RlbmVyIjoiZGV0YWNoRXZlbnQiO3hbZV0mJmImJiFiW2VdJiYoYltlXT1mdW5jdGlvbigpe30pLGEoYikudW5iaW5kKGMsZCl9LGZpcmVFdmVudDpmdW5jdGlvbihiLGMsZCxlKXt2YXIgaCxmPWEuRXZlbnQoYyksZz0iZGV0YWNoZWQiK2M7IUFhJiZkJiYoZGVsZXRlIGQubGF5ZXJYLGRlbGV0ZSBkLmxheWVyWSxkZWxldGUgZC5yZXR1cm5WYWx1ZSkscihmLGQpLGJbY10mJihiW2ddPWJbY10sYltjXT1udWxsKSxhLmVhY2goWyJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZltiXTtmW2JdPWZ1bmN0aW9uKCl7dHJ5e2MuY2FsbChmKX1jYXRjaChhKXsicHJldmVudERlZmF1bHQiPT09YiYmKGg9ITApfX19KSxhKGIpLnRyaWdnZXIoZiksYltnXSYmKGJbY109YltnXSxiW2ddPW51bGwpLGUmJiFmLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhaCYmZShmKX0sd2FzaE1vdXNlRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9YS5vcmlnaW5hbEV2ZW50fHxhO3JldHVybiBjLnBhZ2VYPT09dSYmKGMucGFnZVg9YS5wYWdlWCxjLnBhZ2VZPWEucGFnZVkpLGN9LGFuaW1hdGU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEoYik7Yi5zdHlsZXx8KGIuc3R5bGU9e30pLGMuZCYmKGIudG9EPWMuZCxjLmQ9MSksZS5zdG9wKCksYy5vcGFjaXR5IT09dSYmYi5hdHRyJiYoYy5vcGFjaXR5Kz0icHgiKSxiLmhhc0FuaW09MSxlLmFuaW1hdGUoYyxkKX0sc3RvcDpmdW5jdGlvbihiKXtiLmhhc0FuaW0mJmEoYikuc3RvcCgpfX19KEcualF1ZXJ5KTt2YXIgVD1HLkhpZ2hjaGFydHNBZGFwdGVyLE09VHx8e307VCYmVC5pbml0LmNhbGwoVCx2Yik7dmFyIGliPU0uYWRhcHRlclJ1bixSYj1NLmdldFNjcmlwdCxNYT1NLmluQXJyYXkscT1NLmVhY2gsd2I9TS5ncmVwLFNiPU0ub2Zmc2V0LFZhPU0ubWFwLE49TS5hZGRFdmVudCxYPU0ucmVtb3ZlRXZlbnQsST1NLmZpcmVFdmVudCxUYj1NLndhc2hNb3VzZUV2ZW50LGpiPU0uYW5pbWF0ZSxiYj1NLnN0b3AsTT17ZW5hYmxlZDohMCx4OjAseToxNSxzdHlsZTp7Y29sb3I6IiM2MDYwNjAiLGN1cnNvcjoiZGVmYXVsdCIsZm9udFNpemU6IjExcHgifX07RT17Y29sb3JzOiIjN2NiNWVjLCM0MzQzNDgsIzkwZWQ3ZCwjZjdhMzVjLCM4MDg1ZTksI2YxNWM4MCwjZTRkMzU0LCM4MDg1ZTgsIzhkNDY1MywjOTFlOGUxIi5zcGxpdCgiLCIpLHN5bWJvbHM6WyJjaXJjbGUiLCJkaWFtb25kIiwic3F1YXJlIiwidHJpYW5nbGUiLCJ0cmlhbmdsZS1kb3duIl0sbGFuZzp7bG9hZGluZzoiTG9hZGluZy4uLiIsbW9udGhzOiJKYW51YXJ5LEZlYnJ1YXJ5LE1hcmNoLEFwcmlsLE1heSxKdW5lLEp1bHksQXVndXN0LFNlcHRlbWJlcixPY3RvYmVyLE5vdmVtYmVyLERlY2VtYmVyIi5zcGxpdCgiLCIpLHNob3J0TW9udGhzOiJKYW4sRmViLE1hcixBcHIsTWF5LEp1bixKdWwsQXVnLFNlcCxPY3QsTm92LERlYyIuc3BsaXQoIiwiKSx3ZWVrZGF5czoiU3VuZGF5LE1vbmRheSxUdWVzZGF5LFdlZG5lc2RheSxUaHVyc2RheSxGcmlkYXksU2F0dXJkYXkiLnNwbGl0KCIsIiksZGVjaW1hbFBvaW50OiIuIixudW1lcmljU3ltYm9sczoiayxNLEcsVCxQLEUiLnNwbGl0KCIsIikscmVzZXRab29tOiJSZXNldCB6b29tIixyZXNldFpvb21UaXRsZToiUmVzZXQgem9vbSBsZXZlbCAxOjEiLHRob3VzYW5kc1NlcDoiLCJ9LGdsb2JhbDp7dXNlVVRDOiEwLGNhbnZhc1Rvb2xzVVJMOiJodHRwOi8vY29kZS5oaWdoY2hhcnRzLmNvbS80LjAuNC9tb2R1bGVzL2NhbnZhcy10b29scy5qcyIsVk1MUmFkaWFsR3JhZGllbnRVUkw6Imh0dHA6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLzQuMC40L2dmeC92bWwtcmFkaWFsLWdyYWRpZW50LnBuZyJ9LGNoYXJ0Ontib3JkZXJDb2xvcjoiIzQ1NzJBNyIsYm9yZGVyUmFkaXVzOjAsZGVmYXVsdFNlcmllc1R5cGU6ImxpbmUiLGlnbm9yZUhpZGRlblNlcmllczohMCxzcGFjaW5nOlsxMCwxMCwxNSwxMF0sYmFja2dyb3VuZENvbG9yOiIjRkZGRkZGIixwbG90Qm9yZGVyQ29sb3I6IiNDMEMwQzAiLHJlc2V0Wm9vbUJ1dHRvbjp7dGhlbWU6e3pJbmRleDoyMH0scG9zaXRpb246e2FsaWduOiJyaWdodCIseDotMTAseToxMH19fSx0aXRsZTp7dGV4dDoiQ2hhcnQgdGl0bGUiLGFsaWduOiJjZW50ZXIiLG1hcmdpbjoxNSxzdHlsZTp7Y29sb3I6IiMzMzMzMzMiLGZvbnRTaXplOiIxOHB4In19LHN1YnRpdGxlOnt0ZXh0OiIiLGFsaWduOiJjZW50ZXIiLHN0eWxlOntjb2xvcjoiIzU1NTU1NSJ9fSxwbG90T3B0aW9uczp7bGluZTp7YWxsb3dQb2ludFNlbGVjdDohMSxzaG93Q2hlY2tib3g6ITEsYW5pbWF0aW9uOntkdXJhdGlvbjoxZTN9LGV2ZW50czp7fSxsaW5lV2lkdGg6MixtYXJrZXI6e2xpbmVXaWR0aDowLHJhZGl1czo0LGxpbmVDb2xvcjoiI0ZGRkZGRiIsc3RhdGVzOntob3Zlcjp7ZW5hYmxlZDohMCxsaW5lV2lkdGhQbHVzOjEscmFkaXVzUGx1czoyfSxzZWxlY3Q6e2ZpbGxDb2xvcjoiI0ZGRkZGRiIsbGluZUNvbG9yOiIjMDAwMDAwIixsaW5lV2lkdGg6Mn19fSxwb2ludDp7ZXZlbnRzOnt9fSxkYXRhTGFiZWxzOncoTSx7YWxpZ246ImNlbnRlciIsZW5hYmxlZDohMSxmb3JtYXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMueT8iIjpCYSh0aGlzLnksLTEpfSx2ZXJ0aWNhbEFsaWduOiJib3R0b20iLHk6MH0pLGNyb3BUaHJlc2hvbGQ6MzAwLHBvaW50UmFuZ2U6MCxzdGF0ZXM6e2hvdmVyOntsaW5lV2lkdGhQbHVzOjEsbWFya2VyOnt9LGhhbG86e3NpemU6MTAsb3BhY2l0eTouMjV9fSxzZWxlY3Q6e21hcmtlcjp7fX19LHN0aWNreVRyYWNraW5nOiEwLHR1cmJvVGhyZXNob2xkOjFlM319LGxhYmVsczp7c3R5bGU6e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsY29sb3I6IiMzRTU3NkYifX0sbGVnZW5kOntlbmFibGVkOiEwLGFsaWduOiJjZW50ZXIiLGxheW91dDoiaG9yaXpvbnRhbCIsbGFiZWxGb3JtYXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfSxib3JkZXJDb2xvcjoiIzkwOTA5MCIsYm9yZGVyUmFkaXVzOjAsbmF2aWdhdGlvbjp7YWN0aXZlQ29sb3I6IiMyNzRiNmQiLGluYWN0aXZlQ29sb3I6IiNDQ0MifSxzaGFkb3c6ITEsaXRlbVN0eWxlOntjb2xvcjoiIzMzMzMzMyIsZm9udFNpemU6IjEycHgiLGZvbnRXZWlnaHQ6ImJvbGQifSxpdGVtSG92ZXJTdHlsZTp7Y29sb3I6IiMwMDAifSxpdGVtSGlkZGVuU3R5bGU6e2NvbG9yOiIjQ0NDIn0saXRlbUNoZWNrYm94U3R5bGU6e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6IjEzcHgiLGhlaWdodDoiMTNweCJ9LHN5bWJvbFBhZGRpbmc6NSx2ZXJ0aWNhbEFsaWduOiJib3R0b20iLHg6MCx5OjAsdGl0bGU6e3N0eWxlOntmb250V2VpZ2h0OiJib2xkIn19fSxsb2FkaW5nOntsYWJlbFN0eWxlOntmb250V2VpZ2h0OiJib2xkIixwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDoiNDUlIn0sc3R5bGU6e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsYmFja2dyb3VuZENvbG9yOiJ3aGl0ZSIsb3BhY2l0eTouNSx0ZXh0QWxpZ246ImNlbnRlciJ9fSx0b29sdGlwOntlbmFibGVkOiEwLGFuaW1hdGlvbjpiYSxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMjQ5LCAyNDksIDI0OSwgLjg1KSIsYm9yZGVyV2lkdGg6MSxib3JkZXJSYWRpdXM6MyxkYXRlVGltZUxhYmVsRm9ybWF0czp7bWlsbGlzZWNvbmQ6IiVBLCAlYiAlZSwgJUg6JU06JVMuJUwiLHNlY29uZDoiJUEsICViICVlLCAlSDolTTolUyIsbWludXRlOiIlQSwgJWIgJWUsICVIOiVNIixob3VyOiIlQSwgJWIgJWUsICVIOiVNIixkYXk6IiVBLCAlYiAlZSwgJVkiLHdlZWs6IldlZWsgZnJvbSAlQSwgJWIgJWUsICVZIixtb250aDoiJUIgJVkiLHllYXI6IiVZIn0saGVhZGVyRm9ybWF0Oic8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMHB4Ij57cG9pbnQua2V5fTwvc3Bhbj48YnIvPicscG9pbnRGb3JtYXQ6JzxzcGFuIHN0eWxlPSJjb2xvcjp7c2VyaWVzLmNvbG9yfSI+4pePPC9zcGFuPiB7c2VyaWVzLm5hbWV9OiA8Yj57cG9pbnQueX08L2I+PGJyLz4nLHNoYWRvdzohMCxzbmFwOkliPzI1OjEwLHN0eWxlOntjb2xvcjoiIzMzMzMzMyIsY3Vyc29yOiJkZWZhdWx0Iixmb250U2l6ZToiMTJweCIscGFkZGluZzoiOHB4Iix3aGl0ZVNwYWNlOiJub3dyYXAifX0sY3JlZGl0czp7ZW5hYmxlZDohMCx0ZXh0OiJIaWdoY2hhcnRzLmNvbSIsaHJlZjoiaHR0cDovL3d3dy5oaWdoY2hhcnRzLmNvbSIscG9zaXRpb246e2FsaWduOiJyaWdodCIseDotMTAsdmVydGljYWxBbGlnbjoiYm90dG9tIix5Oi01fSxzdHlsZTp7Y3Vyc29yOiJwb2ludGVyIixjb2xvcjoiIzkwOTA5MCIsZm9udFNpemU6IjlweCJ9fX07CnZhciBjYT1FLnBsb3RPcHRpb25zLFQ9Y2EubGluZTtCYigpO3ZhciBVYj0vcmdiYVwoXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldPyg/OlwuWzAtOV0rKT8pXHMqXCkvLFZiPS8jKFthLWZBLUYwLTldezJ9KShbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pLyxXYj0vcmdiXChccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKlwpLyx5YT1mdW5jdGlvbihhKXt2YXIgYyxkLGI9W107cmV0dXJuIGZ1bmN0aW9uKGEpe2EmJmEuc3RvcHM/ZD1WYShhLnN0b3BzLGZ1bmN0aW9uKGEpe3JldHVybiB5YShhWzFdKX0pOihjPVViLmV4ZWMoYSkpP2I9W3koY1sxXSkseShjWzJdKSx5KGNbM10pLHBhcnNlRmxvYXQoY1s0XSwxMCldOihjPVZiLmV4ZWMoYSkpP2I9W3koY1sxXSwxNikseShjWzJdLDE2KSx5KGNbM10sMTYpLDFdOihjPVdiLmV4ZWMoYSkpJiYoYj1beShjWzFdKSx5KGNbMl0pLHkoY1szXSksMV0pfShhKSx7Z2V0OmZ1bmN0aW9uKGMpe3ZhciBmO3JldHVybiBkPyhmPXcoYSksZi5zdG9wcz1bXS5jb25jYXQoZi5zdG9wcykscShkLGZ1bmN0aW9uKGEsYil7Zi5zdG9wc1tiXT1bZi5zdG9wc1tiXVswXSxhLmdldChjKV19KSk6Zj1iJiYhaXNOYU4oYlswXSk/InJnYiI9PT1jPyJyZ2IoIitiWzBdKyIsIitiWzFdKyIsIitiWzJdKyIpIjoiYSI9PT1jP2JbM106InJnYmEoIitiLmpvaW4oIiwiKSsiKSI6YSxmfSxicmlnaHRlbjpmdW5jdGlvbihhKXtpZihkKXEoZCxmdW5jdGlvbihiKXtiLmJyaWdodGVuKGEpfSk7ZWxzZSBpZihqYShhKSYmMCE9PWEpe3ZhciBjO2ZvcihjPTA7Mz5jO2MrKyliW2NdKz15KDI1NSphKSxiW2NdPDAmJihiW2NdPTApLGJbY10+MjU1JiYoYltjXT0yNTUpfXJldHVybiB0aGlzfSxyZ2JhOmIsc2V0T3BhY2l0eTpmdW5jdGlvbihhKXtyZXR1cm4gYlszXT1hLHRoaXN9fX07Uy5wcm90b3R5cGU9e29wYWNpdHk6MSx0ZXh0UHJvcHM6ImZvbnRTaXplLGZvbnRXZWlnaHQsZm9udEZhbWlseSxjb2xvcixsaW5lSGVpZ2h0LHdpZHRoLHRleHREZWNvcmF0aW9uLHRleHRTaGFkb3csSGNUZXh0U3Ryb2tlIi5zcGxpdCgiLCIpLGluaXQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmVsZW1lbnQ9InNwYW4iPT09Yj8kKGIpOnguY3JlYXRlRWxlbWVudE5TKHhhLGIpLHRoaXMucmVuZGVyZXI9YX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9cChiLHZhLCEwKSxiYih0aGlzKSxiPyhiPXcoYix7fSksYyYmKGIuY29tcGxldGU9YyksamIodGhpcyxhLGIpKToodGhpcy5hdHRyKGEpLGMmJmMoKSksdGhpc30sY29sb3JHcmFkaWVudDpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZixnLGgsaSxqLGssbCxuLG0sZD10aGlzLnJlbmRlcmVyLG89W107aWYoYS5saW5lYXJHcmFkaWVudD9mPSJsaW5lYXJHcmFkaWVudCI6YS5yYWRpYWxHcmFkaWVudCYmKGY9InJhZGlhbEdyYWRpZW50IiksZil7Zz1hW2ZdLGg9ZC5ncmFkaWVudHMsaj1hLnN0b3BzLG49Yy5yYWRpYWxSZWZlcmVuY2UsSGEoZykmJihhW2ZdPWc9e3gxOmdbMF0seTE6Z1sxXSx4MjpnWzJdLHkyOmdbM10sZ3JhZGllbnRVbml0czoidXNlclNwYWNlT25Vc2UifSksInJhZGlhbEdyYWRpZW50Ij09PWYmJm4mJiFzKGcuZ3JhZGllbnRVbml0cykmJihnPXcoZyx7Y3g6blswXS1uWzJdLzIrZy5jeCpuWzJdLGN5Om5bMV0tblsyXS8yK2cuY3kqblsyXSxyOmcucipuWzJdLGdyYWRpZW50VW5pdHM6InVzZXJTcGFjZU9uVXNlIn0pKTtmb3IobSBpbiBnKSJpZCIhPT1tJiZvLnB1c2gobSxnW21dKTtmb3IobSBpbiBqKW8ucHVzaChqW21dKTtvPW8uam9pbigiLCIpLGhbb10/YT1oW29dLmF0dHIoImlkIik6KGcuaWQ9YT0iaGlnaGNoYXJ0cy0iK3ViKyssaFtvXT1pPWQuY3JlYXRlRWxlbWVudChmKS5hdHRyKGcpLmFkZChkLmRlZnMpLGkuc3RvcHM9W10scShqLGZ1bmN0aW9uKGEpezA9PT1hWzFdLmluZGV4T2YoInJnYmEiKT8oZT15YShhWzFdKSxrPWUuZ2V0KCJyZ2IiKSxsPWUuZ2V0KCJhIikpOihrPWFbMV0sbD0xKSxhPWQuY3JlYXRlRWxlbWVudCgic3RvcCIpLmF0dHIoe29mZnNldDphWzBdLCJzdG9wLWNvbG9yIjprLCJzdG9wLW9wYWNpdHkiOmx9KS5hZGQoaSksaS5zdG9wcy5wdXNoKGEpfSkpLGMuc2V0QXR0cmlidXRlKGIsInVybCgiK2QudXJsKyIjIithKyIpIil9fSxhdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxmLGgsZT10aGlzLmVsZW1lbnQsZz10aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYiE9PXUmJihjPWEsYT17fSxhW2NdPWIpLCJzdHJpbmciPT10eXBlb2YgYSlnPSh0aGlzW2ErIkdldHRlciJdfHx0aGlzLl9kZWZhdWx0R2V0dGVyKS5jYWxsKHRoaXMsYSxlKTtlbHNle2ZvcihjIGluIGEpZD1hW2NdLGg9ITEsdGhpcy5zeW1ib2xOYW1lJiYvXih4fHl8d2lkdGh8aGVpZ2h0fHJ8c3RhcnR8ZW5kfGlubmVyUnxhbmNob3JYfGFuY2hvclkpLy50ZXN0KGMpJiYoZnx8KHRoaXMuc3ltYm9sQXR0cihhKSxmPSEwKSxoPSEwKSwhdGhpcy5yb3RhdGlvbnx8IngiIT09YyYmInkiIT09Y3x8KHRoaXMuZG9UcmFuc2Zvcm09ITApLGh8fCh0aGlzW2MrIlNldHRlciJdfHx0aGlzLl9kZWZhdWx0U2V0dGVyKS5jYWxsKHRoaXMsZCxjLGUpLHRoaXMuc2hhZG93cyYmL14od2lkdGh8aGVpZ2h0fHZpc2liaWxpdHl8eHx5fGR8dHJhbnNmb3JtfGN4fGN5fHIpJC8udGVzdChjKSYmdGhpcy51cGRhdGVTaGFkb3dzKGMsZCk7dGhpcy5kb1RyYW5zZm9ybSYmKHRoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5kb1RyYW5zZm9ybT0hMSl9cmV0dXJuIGd9LHVwZGF0ZVNoYWRvd3M6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5zaGFkb3dzLGQ9Yy5sZW5ndGg7ZC0tOyljW2RdLnNldEF0dHJpYnV0ZShhLCJoZWlnaHQiPT09YT90KGItKGNbZF0uY3V0SGVpZ2h0fHwwKSwwKToiZCI9PT1hP3RoaXMuZDpiKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50LGM9RihiLCJjbGFzcyIpfHwiIjtyZXR1cm4tMT09PWMuaW5kZXhPZihhKSYmRihiLCJjbGFzcyIsYysiICIrYSksdGhpc30sc3ltYm9sQXR0cjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3EoIngseSxyLHN0YXJ0LGVuZCx3aWR0aCxoZWlnaHQsaW5uZXJSLGFuY2hvclgsYW5jaG9yWSIuc3BsaXQoIiwiKSxmdW5jdGlvbihjKXtiW2NdPXAoYVtjXSxiW2NdKX0pLGIuYXR0cih7ZDpiLnJlbmRlcmVyLnN5bWJvbHNbYi5zeW1ib2xOYW1lXShiLngsYi55LGIud2lkdGgsYi5oZWlnaHQsYil9KX0sY2xpcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyKCJjbGlwLXBhdGgiLGE/InVybCgiK3RoaXMucmVuZGVyZXIudXJsKyIjIithLmlkKyIpIjpQKX0sY3Jpc3A6ZnVuY3Rpb24oYSl7dmFyIGIsZCxjPXt9LGU9YS5zdHJva2VXaWR0aHx8dGhpcy5zdHJva2VXaWR0aHx8MDtkPXYoZSklMi8yLGEueD1VKGEueHx8dGhpcy54fHwwKStkLGEueT1VKGEueXx8dGhpcy55fHwwKStkLGEud2lkdGg9VSgoYS53aWR0aHx8dGhpcy53aWR0aHx8MCktMipkKSxhLmhlaWdodD1VKChhLmhlaWdodHx8dGhpcy5oZWlnaHR8fDApLTIqZCksYS5zdHJva2VXaWR0aD1lO2ZvcihiIGluIGEpdGhpc1tiXSE9PWFbYl0mJih0aGlzW2JdPWNbYl09YVtiXSk7cmV0dXJuIGN9LGNzczpmdW5jdGlvbihhKXt2YXIgZSxmLGI9dGhpcy5zdHlsZXMsYz17fSxkPXRoaXMuZWxlbWVudCxnPSIiO2lmKGU9IWIsYSYmYS5jb2xvciYmKGEuZmlsbD1hLmNvbG9yKSxiKWZvcihmIGluIGEpYVtmXSE9PWJbZl0mJihjW2ZdPWFbZl0sZT0hMCk7aWYoZSl7aWYoZT10aGlzLnRleHRXaWR0aD1hJiZhLndpZHRoJiYidGV4dCI9PT1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJnkoYS53aWR0aCksYiYmKGE9cihiLGMpKSx0aGlzLnN0eWxlcz1hLGUmJihnYXx8IWJhJiZ0aGlzLnJlbmRlcmVyLmZvckV4cG9ydCkmJmRlbGV0ZSBhLndpZHRoLEFhJiYhYmEpQih0aGlzLmVsZW1lbnQsYSk7ZWxzZXtiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIi0iK2IudG9Mb3dlckNhc2UoKX07Zm9yKGYgaW4gYSlnKz1mLnJlcGxhY2UoLyhbQS1aXSkvZyxiKSsiOiIrYVtmXSsiOyI7RihkLCJzdHlsZSIsZyl9ZSYmdGhpcy5hZGRlZCYmdGhpcy5yZW5kZXJlci5idWlsZFRleHQodGhpcyl9cmV0dXJuIHRoaXN9LG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuZWxlbWVudDtyZXR1cm4gJGEmJiJjbGljayI9PT1hPyhkLm9udG91Y2hzdGFydD1mdW5jdGlvbihhKXtjLnRvdWNoRXZlbnRGaXJlZD1EYS5ub3coKSxhLnByZXZlbnREZWZhdWx0KCksYi5jYWxsKGQsYSl9LGQub25jbGljaz1mdW5jdGlvbihhKXsoLTE9PT13YS5pbmRleE9mKCJBbmRyb2lkIil8fERhLm5vdygpLShjLnRvdWNoRXZlbnRGaXJlZHx8MCk+MTEwMCkmJmIuY2FsbChkLGEpfSk6ZFsib24iK2FdPWIsdGhpc30sc2V0UmFkaWFsUmVmZXJlbmNlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQucmFkaWFsUmVmZXJlbmNlPWEsdGhpc30sdHJhbnNsYXRlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYXR0cih7dHJhbnNsYXRlWDphLHRyYW5zbGF0ZVk6Yn0pfSxpbnZlcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZlcnRlZD0hMCx0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXN9LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNsYXRlWHx8MCxiPXRoaXMudHJhbnNsYXRlWXx8MCxjPXRoaXMuc2NhbGVYLGQ9dGhpcy5zY2FsZVksZT10aGlzLmludmVydGVkLGY9dGhpcy5yb3RhdGlvbixnPXRoaXMuZWxlbWVudDtlJiYoYSs9dGhpcy5hdHRyKCJ3aWR0aCIpLGIrPXRoaXMuYXR0cigiaGVpZ2h0IikpLGE9WyJ0cmFuc2xhdGUoIithKyIsIitiKyIpIl0sZT9hLnB1c2goInJvdGF0ZSg5MCkgc2NhbGUoLTEsMSkiKTpmJiZhLnB1c2goInJvdGF0ZSgiK2YrIiAiKyhnLmdldEF0dHJpYnV0ZSgieCIpfHwwKSsiICIrKGcuZ2V0QXR0cmlidXRlKCJ5Iil8fDApKyIpIiksKHMoYyl8fHMoZCkpJiZhLnB1c2goInNjYWxlKCIrcChjLDEpKyIgIitwKGQsMSkrIikiKSxhLmxlbmd0aCYmZy5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsYS5qb2luKCIgIikpfSx0b0Zyb250OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3JldHVybiBhLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYSksdGhpc30sYWxpZ246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9e307cmV0dXJuIGU9dGhpcy5yZW5kZXJlcixmPWUuYWxpZ25lZE9iamVjdHMsYT8odGhpcy5hbGlnbk9wdGlvbnM9YSx0aGlzLmFsaWduQnlUcmFuc2xhdGU9YiwoIWN8fEdhKGMpKSYmKHRoaXMuYWxpZ25Ubz1kPWN8fCJyZW5kZXJlciIsbGEoZix0aGlzKSxmLnB1c2godGhpcyksYz1udWxsKSk6KGE9dGhpcy5hbGlnbk9wdGlvbnMsYj10aGlzLmFsaWduQnlUcmFuc2xhdGUsZD10aGlzLmFsaWduVG8pLGM9cChjLGVbZF0sZSksZD1hLmFsaWduLGU9YS52ZXJ0aWNhbEFsaWduLGY9KGMueHx8MCkrKGEueHx8MCksZz0oYy55fHwwKSsoYS55fHwwKSwoInJpZ2h0Ij09PWR8fCJjZW50ZXIiPT09ZCkmJihmKz0oYy53aWR0aC0oYS53aWR0aHx8MCkpL3tyaWdodDoxLGNlbnRlcjoyfVtkXSksaFtiPyJ0cmFuc2xhdGVYIjoieCJdPXYoZiksKCJib3R0b20iPT09ZXx8Im1pZGRsZSI9PT1lKSYmKGcrPShjLmhlaWdodC0oYS5oZWlnaHR8fDApKS8oe2JvdHRvbToxLG1pZGRsZToyfVtlXXx8MSkpLGhbYj8idHJhbnNsYXRlWSI6InkiXT12KGcpLHRoaXNbdGhpcy5wbGFjZWQ/ImFuaW1hdGUiOiJhdHRyIl0oaCksdGhpcy5wbGFjZWQ9ITAsdGhpcy5hbGlnbkF0dHI9aCx0aGlzfSxnZXRCQm94OmZ1bmN0aW9uKCl7dmFyIGMsZCxhPXRoaXMuYkJveCxiPXRoaXMucmVuZGVyZXIsZT10aGlzLnJvdGF0aW9uO2M9dGhpcy5lbGVtZW50O3ZhciBmPXRoaXMuc3R5bGVzLGc9ZSpFYTtkPXRoaXMudGV4dFN0cjt2YXIgaDtpZigoIiI9PT1kfHxQYi50ZXN0KGQpKSYmKGg9Im51bS4iK2QudG9TdHJpbmcoKS5sZW5ndGgrKGY/InwiK2YuZm9udFNpemUrInwiK2YuZm9udEZhbWlseToiIikpLGgmJihhPWIuY2FjaGVbaF0pLCFhKXtpZihjLm5hbWVzcGFjZVVSST09PXhhfHxiLmZvckV4cG9ydCl7dHJ5e2E9Yy5nZXRCQm94P3Ioe30sYy5nZXRCQm94KCkpOnt3aWR0aDpjLm9mZnNldFdpZHRoLGhlaWdodDpjLm9mZnNldEhlaWdodH19Y2F0Y2goaSl7fSghYXx8YS53aWR0aDwwKSYmKGE9e3dpZHRoOjAsaGVpZ2h0OjB9KX1lbHNlIGE9dGhpcy5odG1sR2V0QkJveCgpO2IuaXNTVkcmJihjPWEud2lkdGgsZD1hLmhlaWdodCxBYSYmZiYmIjExcHgiPT09Zi5mb250U2l6ZSYmIjE2LjkiPT09ZC50b1ByZWNpc2lvbigzKSYmKGEuaGVpZ2h0PWQ9MTQpLGUmJihhLndpZHRoPVEoZCpmYShnKSkrUShjKmFhKGcpKSxhLmhlaWdodD1RKGQqYWEoZykpK1EoYypmYShnKSkpKSx0aGlzLmJCb3g9YSxoJiYoYi5jYWNoZVtoXT1hKX1yZXR1cm4gYX0sc2hvdzpmdW5jdGlvbihhKXtyZXR1cm4gYSYmdGhpcy5lbGVtZW50Lm5hbWVzcGFjZVVSST09PXhhP3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoInZpc2liaWxpdHkiKTp0aGlzLmF0dHIoe3Zpc2liaWxpdHk6YT8iaW5oZXJpdCI6InZpc2libGUifSksdGhpc30saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHIoe3Zpc2liaWxpdHk6ImhpZGRlbiJ9KX0sZmFkZU91dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuYW5pbWF0ZSh7b3BhY2l0eTowfSx7ZHVyYXRpb246YXx8MTUwLGNvbXBsZXRlOmZ1bmN0aW9uKCl7Yi5hdHRyKHt5Oi05OTk5fSl9fSl9LGFkZDpmdW5jdGlvbihhKXt2YXIgZyxoLGI9dGhpcy5yZW5kZXJlcixjPWF8fGIsZD1jLmVsZW1lbnR8fGIuYm94LGU9dGhpcy5lbGVtZW50LGY9dGhpcy56SW5kZXg7aWYoYSYmKHRoaXMucGFyZW50R3JvdXA9YSksdGhpcy5wYXJlbnRJbnZlcnRlZD1hJiZhLmludmVydGVkLHZvaWQgMCE9PXRoaXMudGV4dFN0ciYmYi5idWlsZFRleHQodGhpcyksZiYmKGMuaGFuZGxlWj0hMCxmPXkoZikpLGMuaGFuZGxlWilmb3IoYT1kLmNoaWxkTm9kZXMsZz0wO2c8YS5sZW5ndGg7ZysrKWlmKGI9YVtnXSxjPUYoYiwiekluZGV4IiksYiE9PWUmJih5KGMpPmZ8fCFzKGYpJiZzKGMpKSl7ZC5pbnNlcnRCZWZvcmUoZSxiKSxoPSEwO2JyZWFrfXJldHVybiBofHxkLmFwcGVuZENoaWxkKGUpLHRoaXMuYWRkZWQ9ITAsdGhpcy5vbkFkZCYmdGhpcy5vbkFkZCgpLHRoaXN9LHNhZmVSZW1vdmVDaGlsZDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7YiYmYi5yZW1vdmVDaGlsZChhKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlLGYsYT10aGlzLGI9YS5lbGVtZW50fHx7fSxjPWEuc2hhZG93cyxkPWEucmVuZGVyZXIuaXNTVkcmJiJTUEFOIj09PWIubm9kZU5hbWUmJmEucGFyZW50R3JvdXA7aWYoYi5vbmNsaWNrPWIub25tb3VzZW91dD1iLm9ubW91c2VvdmVyPWIub25tb3VzZW1vdmU9Yi5wb2ludD1udWxsLGJiKGEpLGEuY2xpcFBhdGgmJihhLmNsaXBQYXRoPWEuY2xpcFBhdGguZGVzdHJveSgpKSxhLnN0b3BzKXtmb3IoZj0wO2Y8YS5zdG9wcy5sZW5ndGg7ZisrKWEuc3RvcHNbZl09YS5zdG9wc1tmXS5kZXN0cm95KCk7YS5zdG9wcz1udWxsfWZvcihhLnNhZmVSZW1vdmVDaGlsZChiKSxjJiZxKGMsZnVuY3Rpb24oYil7YS5zYWZlUmVtb3ZlQ2hpbGQoYil9KTtkJiZkLmRpdiYmMD09PWQuZGl2LmNoaWxkTm9kZXMubGVuZ3RoOyliPWQucGFyZW50R3JvdXAsYS5zYWZlUmVtb3ZlQ2hpbGQoZC5kaXYpLGRlbGV0ZSBkLmRpdixkPWI7YS5hbGlnblRvJiZsYShhLnJlbmRlcmVyLmFsaWduZWRPYmplY3RzLGEpO2ZvcihlIGluIGEpZGVsZXRlIGFbZV07cmV0dXJuIG51bGx9LHNoYWRvdzpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZixoLGksaixrLGQ9W10sZz10aGlzLmVsZW1lbnQ7aWYoYSl7Zm9yKGk9cChhLndpZHRoLDMpLGo9KGEub3BhY2l0eXx8LjE1KS9pLGs9dGhpcy5wYXJlbnRJbnZlcnRlZD8iKC0xLC0xKSI6IigiK3AoYS5vZmZzZXRYLDEpKyIsICIrcChhLm9mZnNldFksMSkrIikiLGU9MTtpPj1lO2UrKylmPWcuY2xvbmVOb2RlKDApLGg9MippKzEtMiplLEYoZix7aXNTaGFkb3c6InRydWUiLHN0cm9rZTphLmNvbG9yfHwiYmxhY2siLCJzdHJva2Utb3BhY2l0eSI6aiplLCJzdHJva2Utd2lkdGgiOmgsdHJhbnNmb3JtOiJ0cmFuc2xhdGUiK2ssZmlsbDpQfSksYyYmKEYoZiwiaGVpZ2h0Iix0KEYoZiwiaGVpZ2h0IiktaCwwKSksZi5jdXRIZWlnaHQ9aCksYj9iLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZik6Zy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLGcpLGQucHVzaChmKTt0aGlzLnNoYWRvd3M9ZH1yZXR1cm4gdGhpc30seEdldHRlcjpmdW5jdGlvbihhKXtyZXR1cm4iY2lyY2xlIj09PXRoaXMuZWxlbWVudC5ub2RlTmFtZSYmKGE9e3g6ImN4Iix5OiJjeSJ9W2FdfHxhKSx0aGlzLl9kZWZhdWx0R2V0dGVyKGEpfSxfZGVmYXVsdEdldHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1wKHRoaXNbYV0sdGhpcy5lbGVtZW50P3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoYSk6bnVsbCwwKSwvXltcLTAtOVwuXSskLy50ZXN0KGEpJiYoYT1wYXJzZUZsb2F0KGEpKSxhfSxkU2V0dGVyOmZ1bmN0aW9uKGEsYixjKXthJiZhLmpvaW4mJihhPWEuam9pbigiICIpKSwvKE5hTnwgezJ9fF4kKS8udGVzdChhKSYmKGE9Ik0gMCAwIiksYy5zZXRBdHRyaWJ1dGUoYixhKSx0aGlzW2JdPWF9LGRhc2hzdHlsZVNldHRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZihhPWEmJmEudG9Mb3dlckNhc2UoKSl7Zm9yKGE9YS5yZXBsYWNlKCJzaG9ydGRhc2hkb3Rkb3QiLCIzLDEsMSwxLDEsMSwiKS5yZXBsYWNlKCJzaG9ydGRhc2hkb3QiLCIzLDEsMSwxIikucmVwbGFjZSgic2hvcnRkb3QiLCIxLDEsIikucmVwbGFjZSgic2hvcnRkYXNoIiwiMywxLCIpLnJlcGxhY2UoImxvbmdkYXNoIiwiOCwzLCIpLnJlcGxhY2UoL2RvdC9nLCIxLDMsIikucmVwbGFjZSgiZGFzaCIsIjQsMywiKS5yZXBsYWNlKC8sJC8sIiIpLnNwbGl0KCIsIiksYj1hLmxlbmd0aDtiLS07KWFbYl09eShhW2JdKSp0aGlzWyJzdHJva2Utd2lkdGgiXTthPWEuam9pbigiLCIpLnJlcGxhY2UoIk5hTiIsIm5vbmUiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5IixhKX19LGFsaWduU2V0dGVyOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInRleHQtYW5jaG9yIix7bGVmdDoic3RhcnQiLGNlbnRlcjoibWlkZGxlIixyaWdodDoiZW5kIn1bYV0pfSxvcGFjaXR5U2V0dGVyOmZ1bmN0aW9uKGEsYixjKXt0aGlzW2JdPWEsYy5zZXRBdHRyaWJ1dGUoYixhKX0sdGl0bGVTZXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0aXRsZSIpWzBdO2J8fChiPXguY3JlYXRlRWxlbWVudE5TKHhhLCJ0aXRsZSIpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChiKSksYi50ZXh0Q29udGVudD1wKGEsIiIpLnJlcGxhY2UoLzxbXj5dKj4vZywiIil9LHRleHRTZXR0ZXI6ZnVuY3Rpb24oYSl7YSE9PXRoaXMudGV4dFN0ciYmKGRlbGV0ZSB0aGlzLmJCb3gsdGhpcy50ZXh0U3RyPWEsdGhpcy5hZGRlZCYmdGhpcy5yZW5kZXJlci5idWlsZFRleHQodGhpcykpfSxmaWxsU2V0dGVyOmZ1bmN0aW9uKGEsYixjKXsic3RyaW5nIj09dHlwZW9mIGE/Yy5zZXRBdHRyaWJ1dGUoYixhKTphJiZ0aGlzLmNvbG9yR3JhZGllbnQoYSxiLGMpfSx6SW5kZXhTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe2Muc2V0QXR0cmlidXRlKGIsYSksdGhpc1tiXT1hfSxfZGVmYXVsdFNldHRlcjpmdW5jdGlvbihhLGIsYyl7Yy5zZXRBdHRyaWJ1dGUoYixhKX19LFMucHJvdG90eXBlLnlHZXR0ZXI9Uy5wcm90b3R5cGUueEdldHRlcixTLnByb3RvdHlwZS50cmFuc2xhdGVYU2V0dGVyPVMucHJvdG90eXBlLnRyYW5zbGF0ZVlTZXR0ZXI9Uy5wcm90b3R5cGUucm90YXRpb25TZXR0ZXI9Uy5wcm90b3R5cGUudmVydGljYWxBbGlnblNldHRlcj1TLnByb3RvdHlwZS5zY2FsZVhTZXR0ZXI9Uy5wcm90b3R5cGUuc2NhbGVZU2V0dGVyPWZ1bmN0aW9uKGEsYil7dGhpc1tiXT1hLHRoaXMuZG9UcmFuc2Zvcm09ITB9LFMucHJvdG90eXBlWyJzdHJva2Utd2lkdGhTZXR0ZXIiXT1TLnByb3RvdHlwZS5zdHJva2VTZXR0ZXI9ZnVuY3Rpb24oYSxiLGMpe3RoaXNbYl09YSx0aGlzLnN0cm9rZSYmdGhpc1sic3Ryb2tlLXdpZHRoIl0/KHRoaXMuc3Ryb2tlV2lkdGg9dGhpc1sic3Ryb2tlLXdpZHRoIl0sUy5wcm90b3R5cGUuZmlsbFNldHRlci5jYWxsKHRoaXMsdGhpcy5zdHJva2UsInN0cm9rZSIsYyksYy5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsdGhpc1sic3Ryb2tlLXdpZHRoIl0pLHRoaXMuaGFzU3Ryb2tlPSEwKToic3Ryb2tlLXdpZHRoIj09PWImJjA9PT1hJiZ0aGlzLmhhc1N0cm9rZSYmKGMucmVtb3ZlQXR0cmlidXRlKCJzdHJva2UiKSx0aGlzLmhhc1N0cm9rZT0hMSl9O3ZhciB0YT1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3RhLnByb3RvdHlwZT17RWxlbWVudDpTLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZyxmPWxvY2F0aW9uLGQ9dGhpcy5jcmVhdGVFbGVtZW50KCJzdmciKS5hdHRyKHt2ZXJzaW9uOiIxLjEifSkuY3NzKHRoaXMuZ2V0U3R5bGUoZCkpO2c9ZC5lbGVtZW50LGEuYXBwZW5kQ2hpbGQoZyksLTE9PT1hLmlubmVySFRNTC5pbmRleE9mKCJ4bWxucyIpJiZGKGcsInhtbG5zIix4YSksdGhpcy5pc1NWRz0hMCx0aGlzLmJveD1nLHRoaXMuYm94V3JhcHBlcj1kLHRoaXMuYWxpZ25lZE9iamVjdHM9W10sdGhpcy51cmw9KFVhfHx0YikmJnguZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKS5sZW5ndGg/Zi5ocmVmLnJlcGxhY2UoLyMuKj8kLywiIikucmVwbGFjZSgvKFtcKCdcKV0pL2csIlxcJDEiKS5yZXBsYWNlKC8gL2csIiUyMCIpOiIiLHRoaXMuY3JlYXRlRWxlbWVudCgiZGVzYyIpLmFkZCgpLmVsZW1lbnQuYXBwZW5kQ2hpbGQoeC5jcmVhdGVUZXh0Tm9kZSgiQ3JlYXRlZCB3aXRoIEhpZ2hjaGFydHMgNC4wLjQiKSksdGhpcy5kZWZzPXRoaXMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLmFkZCgpLHRoaXMuZm9yRXhwb3J0PWUsdGhpcy5ncmFkaWVudHM9e30sdGhpcy5jYWNoZT17fSx0aGlzLnNldFNpemUoYixjLCExKTt2YXIgaDtVYSYmYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJih0aGlzLnN1YlBpeGVsRml4PWI9ZnVuY3Rpb24oKXtCKGEse2xlZnQ6MCx0b3A6MH0pLGg9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxCKGEse2xlZnQ6TGEoaC5sZWZ0KS1oLmxlZnQrInB4Iix0b3A6TGEoaC50b3ApLWgudG9wKyJweCJ9KX0sYigpLE4oRywicmVzaXplIixiKSl9LGdldFN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnN0eWxlPXIoe2ZvbnRGYW1pbHk6JyJMdWNpZGEgR3JhbmRlIiwgIkx1Y2lkYSBTYW5zIFVuaWNvZGUiLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJyxmb250U2l6ZToiMTJweCJ9LGEpfSxpc0hpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmJveFdyYXBwZXIuZ2V0QkJveCgpLndpZHRofSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZWZzO3JldHVybiB0aGlzLmJveD1udWxsLHRoaXMuYm94V3JhcHBlcj10aGlzLmJveFdyYXBwZXIuZGVzdHJveSgpLFBhKHRoaXMuZ3JhZGllbnRzfHx7fSksdGhpcy5ncmFkaWVudHM9bnVsbCxhJiYodGhpcy5kZWZzPWEuZGVzdHJveSgpKSx0aGlzLnN1YlBpeGVsRml4JiZYKEcsInJlc2l6ZSIsdGhpcy5zdWJQaXhlbEZpeCksdGhpcy5hbGlnbmVkT2JqZWN0cz1udWxsfSxjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyB0aGlzLkVsZW1lbnQ7cmV0dXJuIGIuaW5pdCh0aGlzLGEpLGJ9LGRyYXc6ZnVuY3Rpb24oKXt9LGJ1aWxkVGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGgsaSxiPWEuZWxlbWVudCxjPXRoaXMsZD1jLmZvckV4cG9ydCxlPXAoYS50ZXh0U3RyLCIiKS50b1N0cmluZygpLGY9LTEhPT1lLmluZGV4T2YoIjwiKSxnPWIuY2hpbGROb2RlcyxqPUYoYiwieCIpLGs9YS5zdHlsZXMsbD1hLnRleHRXaWR0aCxuPWsmJmsubGluZUhlaWdodCxtPWsmJmsuSGNUZXh0U3Ryb2tlLG89Zy5sZW5ndGgsWT1mdW5jdGlvbihhKXtyZXR1cm4gbj95KG4pOmMuZm9udE1ldHJpY3MoLyhweHxlbSkkLy50ZXN0KGEmJmEuc3R5bGUuZm9udFNpemUpP2Euc3R5bGUuZm9udFNpemU6ayYmay5mb250U2l6ZXx8Yy5zdHlsZS5mb250U2l6ZXx8MTIsYSkuaH07by0tOyliLnJlbW92ZUNoaWxkKGdbb10pO2Z8fG18fC0xIT09ZS5pbmRleE9mKCIgIik/KGg9LzwuKnN0eWxlPSIoW14iXSspIi4qPi8saT0vPC4qaHJlZj0iKGh0dHBbXiJdKykiLio+LyxsJiYhYS5hZGRlZCYmdGhpcy5ib3guYXBwZW5kQ2hpbGQoYiksZT1mP2UucmVwbGFjZSgvPChifHN0cm9uZyk+L2csJzxzcGFuIHN0eWxlPSJmb250LXdlaWdodDpib2xkIj4nKS5yZXBsYWNlKC88KGl8ZW0pPi9nLCc8c3BhbiBzdHlsZT0iZm9udC1zdHlsZTppdGFsaWMiPicpLnJlcGxhY2UoLzxhL2csIjxzcGFuIikucmVwbGFjZSgvPFwvKGJ8c3Ryb25nfGl8ZW18YSk+L2csIjwvc3Bhbj4iKS5zcGxpdCgvPGJyLio/Pi9nKTpbZV0sIiI9PT1lW2UubGVuZ3RoLTFdJiZlLnBvcCgpLHEoZSxmdW5jdGlvbihlLGYpe3ZhciBnLG49MCxlPWUucmVwbGFjZSgvPHNwYW4vZywifHx8PHNwYW4iKS5yZXBsYWNlKC88XC9zcGFuPi9nLCI8L3NwYW4+fHx8Iik7Zz1lLnNwbGl0KCJ8fHwiKSxxKGcsZnVuY3Rpb24oZSl7aWYoIiIhPT1lfHwxPT09Zy5sZW5ndGgpe3ZhciBwLG09e30sbz14LmNyZWF0ZUVsZW1lbnROUyh4YSwidHNwYW4iKTtpZihoLnRlc3QoZSkmJihwPWUubWF0Y2goaClbMV0ucmVwbGFjZSgvKDt8IHxeKWNvbG9yKFsgOl0pLywiJDFmaWxsJDIiKSxGKG8sInN0eWxlIixwKSksaS50ZXN0KGUpJiYhZCYmKEYobywib25jbGljayIsJ2xvY2F0aW9uLmhyZWY9IicrZS5tYXRjaChpKVsxXSsnIicpLEIobyx7Y3Vyc29yOiJwb2ludGVyIn0pKSxlPShlLnJlcGxhY2UoLzwoLnxcbikqPz4vZywiIil8fCIgIikucmVwbGFjZSgvJmx0Oy9nLCI8IikucmVwbGFjZSgvJmd0Oy9nLCI+IiksIiAiIT09ZSl7aWYoby5hcHBlbmRDaGlsZCh4LmNyZWF0ZVRleHROb2RlKGUpKSxuP20uZHg9MDpmJiZudWxsIT09aiYmKG0ueD1qKSxGKG8sbSksYi5hcHBlbmRDaGlsZChvKSwhbiYmZiYmKCFiYSYmZCYmQihvLHtkaXNwbGF5OiJibG9jayJ9KSxGKG8sImR5IixZKG8pKSksbClmb3IodmFyIHEsRCxlPWUucmVwbGFjZSgvKFteXF5dKS0vZywiJDEtICIpLnNwbGl0KCIgIiksbT1nLmxlbmd0aD4xfHxlLmxlbmd0aD4xJiYibm93cmFwIiE9PWsud2hpdGVTcGFjZSxzPWsuSGNIZWlnaHQsdD1bXSx1PVkobyksTGI9MTttJiYoZS5sZW5ndGh8fHQubGVuZ3RoKTspZGVsZXRlIGEuYkJveCxxPWEuZ2V0QkJveCgpLEQ9cS53aWR0aCwhYmEmJmMuZm9yRXhwb3J0JiYoRD1jLm1lYXN1cmVTcGFuV2lkdGgoby5maXJzdENoaWxkLmRhdGEsYS5zdHlsZXMpKSxxPUQ+bCxxJiYxIT09ZS5sZW5ndGg/KG8ucmVtb3ZlQ2hpbGQoby5maXJzdENoaWxkKSx0LnVuc2hpZnQoZS5wb3AoKSkpOihlPXQsdD1bXSxlLmxlbmd0aCYmKExiKysscyYmTGIqdT5zPyhlPVsiLi4uIl0sYS5hdHRyKCJ0aXRsZSIsYS50ZXh0U3RyKSk6KG89eC5jcmVhdGVFbGVtZW50TlMoeGEsInRzcGFuIiksRihvLHtkeTp1LHg6an0pLHAmJkYobywic3R5bGUiLHApLGIuYXBwZW5kQ2hpbGQobykpKSxEPmwmJihsPUQpKSxlLmxlbmd0aCYmby5hcHBlbmRDaGlsZCh4LmNyZWF0ZVRleHROb2RlKGUuam9pbigiICIpLnJlcGxhY2UoLy0gL2csIi0iKSkpO24rK319fSl9KSk6Yi5hcHBlbmRDaGlsZCh4LmNyZWF0ZVRleHROb2RlKGUpKX0sYnV0dG9uOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXt2YXIgbCxuLG0sbyxwLHEsaj10aGlzLmxhYmVsKGEsYixjLGksbnVsbCxudWxsLG51bGwsbnVsbCwiYnV0dG9uIiksaz0wLGE9e3gxOjAseTE6MCx4MjowLHkyOjF9LGU9dyh7InN0cm9rZS13aWR0aCI6MSxzdHJva2U6IiNDQ0NDQ0MiLGZpbGw6e2xpbmVhckdyYWRpZW50OmEsc3RvcHM6W1swLCIjRkVGRUZFIl0sWzEsIiNGNkY2RjYiXV19LHI6MixwYWRkaW5nOjUsc3R5bGU6e2NvbG9yOiJibGFjayJ9fSxlKTtyZXR1cm4gbT1lLnN0eWxlLGRlbGV0ZSBlLnN0eWxlLGY9dyhlLHtzdHJva2U6IiM2OEEiLGZpbGw6e2xpbmVhckdyYWRpZW50OmEsc3RvcHM6W1swLCIjRkZGIl0sWzEsIiNBQ0YiXV19fSxmKSxvPWYuc3R5bGUsZGVsZXRlIGYuc3R5bGUsZz13KGUse3N0cm9rZToiIzY4QSIsZmlsbDp7bGluZWFyR3JhZGllbnQ6YSxzdG9wczpbWzAsIiM5QkQiXSxbMSwiI0NERiJdXX19LGcpLHA9Zy5zdHlsZSxkZWxldGUgZy5zdHlsZSxoPXcoZSx7c3R5bGU6e2NvbG9yOiIjQ0NDIn19LGgpLHE9aC5zdHlsZSxkZWxldGUgaC5zdHlsZSxOKGouZWxlbWVudCxBYT8ibW91c2VvdmVyIjoibW91c2VlbnRlciIsZnVuY3Rpb24oKXszIT09ayYmai5hdHRyKGYpLmNzcyhvKX0pLE4oai5lbGVtZW50LEFhPyJtb3VzZW91dCI6Im1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7MyE9PWsmJihsPVtlLGYsZ11ba10sbj1bbSxvLHBdW2tdLGouYXR0cihsKS5jc3MobikpfSksai5zZXRTdGF0ZT1mdW5jdGlvbihhKXsoai5zdGF0ZT1rPWEpPzI9PT1hP2ouYXR0cihnKS5jc3MocCk6Mz09PWEmJmouYXR0cihoKS5jc3MocSk6ai5hdHRyKGUpLmNzcyhtKX0sai5vbigiY2xpY2siLGZ1bmN0aW9uKCl7MyE9PWsmJmQuY2FsbChqKX0pLmF0dHIoZSkuY3NzKHIoe2N1cnNvcjoiZGVmYXVsdCJ9LG0pKX0sY3Jpc3BMaW5lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMV09PT1hWzRdJiYoYVsxXT1hWzRdPXYoYVsxXSktYiUyLzIpLGFbMl09PT1hWzVdJiYoYVsyXT1hWzVdPXYoYVsyXSkrYiUyLzIpLGF9LHBhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9e2ZpbGw6UH07cmV0dXJuIEhhKGEpP2IuZD1hOmRhKGEpJiZyKGIsYSksdGhpcy5jcmVhdGVFbGVtZW50KCJwYXRoIikuYXR0cihiKX0sY2lyY2xlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT1kYShhKT9hOnt4OmEseTpiLHI6Y30sYj10aGlzLmNyZWF0ZUVsZW1lbnQoImNpcmNsZSIpLGIueFNldHRlcj1mdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJjeCIsYSl9LGIueVNldHRlcj1mdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJjeSIsYSl9LGIuYXR0cihhKX0sYXJjOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gZGEoYSkmJihiPWEueSxjPWEucixkPWEuaW5uZXJSLGU9YS5zdGFydCxmPWEuZW5kLGE9YS54KSxhPXRoaXMuc3ltYm9sKCJhcmMiLGF8fDAsYnx8MCxjfHwwLGN8fDAse2lubmVyUjpkfHwwLHN0YXJ0OmV8fDAsZW5kOmZ8fDB9KSxhLnI9YyxhfSxyZWN0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZT1kYShhKT9hLnI6ZSxnPXRoaXMuY3JlYXRlRWxlbWVudCgicmVjdCIpLGE9ZGEoYSk/YTphPT09dT97fTp7eDphLHk6Yix3aWR0aDp0KGMsMCksaGVpZ2h0OnQoZCwwKX07cmV0dXJuIGYhPT11JiYoYS5zdHJva2VXaWR0aD1mLGE9Zy5jcmlzcChhKSksZSYmKGEucj1lKSxnLnJTZXR0ZXI9ZnVuY3Rpb24oYSl7Rih0aGlzLmVsZW1lbnQse3J4OmEscnk6YX0pfSxnLmF0dHIoYSl9LHNldFNpemU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuYWxpZ25lZE9iamVjdHMsZT1kLmxlbmd0aDtmb3IodGhpcy53aWR0aD1hLHRoaXMuaGVpZ2h0PWIsdGhpcy5ib3hXcmFwcGVyW3AoYywhMCk/ImFuaW1hdGUiOiJhdHRyIl0oe3dpZHRoOmEsaGVpZ2h0OmJ9KTtlLS07KWRbZV0uYWxpZ24oKX0sZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImciKTtyZXR1cm4gcyhhKT9iLmF0dHIoeyJjbGFzcyI6ImhpZ2hjaGFydHMtIithfSk6Yn0saW1hZ2U6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj17cHJlc2VydmVBc3BlY3RSYXRpbzpQfTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xJiZyKGYse3g6Yix5OmMsd2lkdGg6ZCxoZWlnaHQ6ZX0pLGY9dGhpcy5jcmVhdGVFbGVtZW50KCJpbWFnZSIpLmF0dHIoZiksZi5lbGVtZW50LnNldEF0dHJpYnV0ZU5TP2YuZWxlbWVudC5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsImhyZWYiLGEpOmYuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImhjLXN2Zy1ocmVmIixhKSxmfSxzeW1ib2w6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnLGosayxoPXRoaXMuc3ltYm9sc1thXSxoPWgmJmgodihiKSx2KGMpLGQsZSxmKSxpPS9edXJsXCgoLio/KVwpJC87cmV0dXJuIGg/KGc9dGhpcy5wYXRoKGgpLHIoZyx7c3ltYm9sTmFtZTphLHg6Yix5OmMsd2lkdGg6ZCxoZWlnaHQ6ZX0pLGYmJnIoZyxmKSk6aS50ZXN0KGEpJiYoaz1mdW5jdGlvbihhLGIpe2EuZWxlbWVudCYmKGEuYXR0cih7d2lkdGg6YlswXSxoZWlnaHQ6YlsxXX0pLGEuYWxpZ25CeVRyYW5zbGF0ZXx8YS50cmFuc2xhdGUodigoZC1iWzBdKS8yKSx2KChlLWJbMV0pLzIpKSl9LGo9YS5tYXRjaChpKVsxXSxhPUpiW2pdfHxmJiZmLndpZHRoJiZmLmhlaWdodCYmW2Yud2lkdGgsZi5oZWlnaHRdLGc9dGhpcy5pbWFnZShqKS5hdHRyKHt4OmIseTpjfSksZy5pc0ltZz0hMCxhP2soZyxhKTooZy5hdHRyKHt3aWR0aDowLGhlaWdodDowfSksJCgiaW1nIix7b25sb2FkOmZ1bmN0aW9uKCl7ayhnLEpiW2pdPVt0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSl9LHNyYzpqfSkpKSxnfSxzeW1ib2xzOntjaXJjbGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9LjE2NipjO3JldHVyblsiTSIsYStjLzIsYiwiQyIsYStjK2UsYixhK2MrZSxiK2QsYStjLzIsYitkLCJDIixhLWUsYitkLGEtZSxiLGErYy8yLGIsIloiXX0sc3F1YXJlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVyblsiTSIsYSxiLCJMIixhK2MsYixhK2MsYitkLGEsYitkLCJaIl19LHRyaWFuZ2xlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVyblsiTSIsYStjLzIsYiwiTCIsYStjLGIrZCxhLGIrZCwiWiJdfSwidHJpYW5nbGUtZG93biI6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuWyJNIixhLGIsIkwiLGErYyxiLGErYy8yLGIrZCwiWiJdfSxkaWFtb25kOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVyblsiTSIsYStjLzIsYiwiTCIsYStjLGIrZC8yLGErYy8yLGIrZCxhLGIrZC8yLCJaIl19LGFyYzpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWUuc3RhcnQsYz1lLnJ8fGN8fGQsZz1lLmVuZC0uMDAxLGQ9ZS5pbm5lclIsaD1lLm9wZW4saT1hYShmKSxqPWZhKGYpLGs9YWEoZyksZz1mYShnKSxlPWUuZW5kLWY8b2E/MDoxO3JldHVyblsiTSIsYStjKmksYitjKmosIkEiLGMsYywwLGUsMSxhK2MqayxiK2MqZyxoPyJNIjoiTCIsYStkKmssYitkKmcsIkEiLGQsZCwwLGUsMCxhK2QqaSxiK2QqaixoPyIiOiJaIl19LGNhbGxvdXQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1MKGUmJmUucnx8MCxjLGQpLGc9Zis2LGg9ZSYmZS5hbmNob3JYLGk9ZSYmZS5hbmNob3JZLGU9dihlLnN0cm9rZVdpZHRofHwwKSUyLzI7cmV0dXJuIGErPWUsYis9ZSxlPVsiTSIsYStmLGIsIkwiLGErYy1mLGIsIkMiLGErYyxiLGErYyxiLGErYyxiK2YsIkwiLGErYyxiK2QtZiwiQyIsYStjLGIrZCxhK2MsYitkLGErYy1mLGIrZCwiTCIsYStmLGIrZCwiQyIsYSxiK2QsYSxiK2QsYSxiK2QtZiwiTCIsYSxiK2YsIkMiLGEsYixhLGIsYStmLGJdLGgmJmg+YyYmaT5iK2cmJmIrZC1nPmk/ZS5zcGxpY2UoMTMsMywiTCIsYStjLGktNixhK2MrNixpLGErYyxpKzYsYStjLGIrZC1mKTpoJiYwPmgmJmk+YitnJiZiK2QtZz5pP2Uuc3BsaWNlKDMzLDMsIkwiLGEsaSs2LGEtNixpLGEsaS02LGEsYitmKTppJiZpPmQmJmg+YStnJiZhK2MtZz5oP2Uuc3BsaWNlKDIzLDMsIkwiLGgrNixiK2QsaCxiK2QrNixoLTYsYitkLGErZixiK2QpOmkmJjA+aSYmaD5hK2cmJmErYy1nPmgmJmUuc3BsaWNlKDMsMywiTCIsaC02LGIsaCxiLTYsaCs2LGIsYy1mLGIpLGV9fSxjbGlwUmVjdDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT0iaGlnaGNoYXJ0cy0iK3ViKyssZj10aGlzLmNyZWF0ZUVsZW1lbnQoImNsaXBQYXRoIikuYXR0cih7aWQ6ZX0pLmFkZCh0aGlzLmRlZnMpLGE9dGhpcy5yZWN0KGEsYixjLGQsMCkuYWRkKGYpO3JldHVybiBhLmlkPWUsYS5jbGlwUGF0aD1mLGF9LHRleHQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Z2F8fCFiYSYmdGhpcy5mb3JFeHBvcnQsZj17fTtyZXR1cm4gZCYmIXRoaXMuZm9yRXhwb3J0P3RoaXMuaHRtbChhLGIsYyk6KGYueD1NYXRoLnJvdW5kKGJ8fDApLGMmJihmLnk9TWF0aC5yb3VuZChjKSksKGF8fDA9PT1hKSYmKGYudGV4dD1hKSxhPXRoaXMuY3JlYXRlRWxlbWVudCgidGV4dCIpLmF0dHIoZiksZSYmYS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSJ9KSxkfHwoYS54U2V0dGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZSxuLGQ9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidHNwYW4iKSxmPWMuZ2V0QXR0cmlidXRlKGIpO2ZvcihuPTA7bjxkLmxlbmd0aDtuKyspZT1kW25dLGUuZ2V0QXR0cmlidXRlKGIpPT09ZiYmZS5zZXRBdHRyaWJ1dGUoYixhKTtjLnNldEF0dHJpYnV0ZShiLGEpfSksYSl9LGZvbnRNZXRyaWNzOmZ1bmN0aW9uKGEsYil7YT1hfHx0aGlzLnN0eWxlLmZvbnRTaXplLGImJkcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGI9Yi5lbGVtZW50fHxiLGE9Ry5nZXRDb21wdXRlZFN0eWxlKGIsIiIpLmZvbnRTaXplKTt2YXIgYT0vcHgvLnRlc3QoYSk/eShhKTovZW0vLnRlc3QoYSk/MTIqcGFyc2VGbG9hdChhKToxMixjPTI0PmE/YSs0OnYoMS4yKmEpLGQ9diguOCpjKTtyZXR1cm57aDpjLGI6ZCxmOmF9fSxsYWJlbDpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7ZnVuY3Rpb24gaigpe3ZhciBhLGI7YT1vLmVsZW1lbnQuc3R5bGUsRD0odm9pZCAwPT09dHx8dm9pZCAwPT09eGJ8fG0uc3R5bGVzLnRleHRBbGlnbikmJm8udGV4dFN0ciYmby5nZXRCQm94KCksbS53aWR0aD0odHx8RC53aWR0aHx8MCkrMipDK2tiLG0uaGVpZ2h0PSh4Ynx8RC5oZWlnaHR8fDApKzIqQyxSPUMrbi5mb250TWV0cmljcyhhJiZhLmZvbnRTaXplLG8pLmIseSYmKHB8fChhPXYoLUoqQyksYj1oPy1SOjAsbS5ib3g9cD1kP24uc3ltYm9sKGQsYSxiLG0ud2lkdGgsbS5oZWlnaHQseik6bi5yZWN0KGEsYixtLndpZHRoLG0uaGVpZ2h0LDAseltRYl0pLHAuYXR0cigiZmlsbCIsUCkuYWRkKG0pKSxwLmlzSW1nfHxwLmF0dHIocih7d2lkdGg6dihtLndpZHRoKSxoZWlnaHQ6dihtLmhlaWdodCl9LHopKSx6PW51bGwpfWZ1bmN0aW9uIGsoKXt2YXIgYyxhPW0uc3R5bGVzLGE9YSYmYS50ZXh0QWxpZ24sYj1rYitDKigxLUopO2M9aD8wOlIscyh0KSYmRCYmKCJjZW50ZXIiPT09YXx8InJpZ2h0Ij09PWEpJiYoYis9e2NlbnRlcjouNSxyaWdodDoxfVthXSoodC1ELndpZHRoKSksKGIhPT1vLnh8fGMhPT1vLnkpJiYoby5hdHRyKCJ4IixiKSxjIT09dSYmby5hdHRyKCJ5IixjKSksby54PWIsby55PWN9ZnVuY3Rpb24gbChhLGIpe3A/cC5hdHRyKGEsYik6elthXT1ifXZhciBwLEQsdCx4Yix5Yix4LFIseSxuPXRoaXMsbT1uLmcoaSksbz1uLnRleHQoIiIsMCwwLGcpLmF0dHIoe3pJbmRleDoxfSksSj0wLEM9MyxrYj0wLEtiPTAsej17fTttLm9uQWRkPWZ1bmN0aW9uKCl7by5hZGQobSksbS5hdHRyKHt0ZXh0OmF8fDA9PT1hP2E6IiIseDpiLHk6Y30pLHAmJnMoZSkmJm0uYXR0cih7YW5jaG9yWDplLGFuY2hvclk6Zn0pfSxtLndpZHRoU2V0dGVyPWZ1bmN0aW9uKGEpe3Q9YX0sbS5oZWlnaHRTZXR0ZXI9ZnVuY3Rpb24oYSl7eGI9YX0sbS5wYWRkaW5nU2V0dGVyPWZ1bmN0aW9uKGEpe3MoYSkmJmEhPT1DJiYoQz1hLGsoKSl9LG0ucGFkZGluZ0xlZnRTZXR0ZXI9ZnVuY3Rpb24oYSl7cyhhKSYmYSE9PWtiJiYoa2I9YSxrKCkpfSxtLmFsaWduU2V0dGVyPWZ1bmN0aW9uKGEpe0o9e2xlZnQ6MCxjZW50ZXI6LjUscmlnaHQ6MX1bYV19LG0udGV4dFNldHRlcj1mdW5jdGlvbihhKXthIT09dSYmby50ZXh0U2V0dGVyKGEpLGooKSxrKCl9LG1bInN0cm9rZS13aWR0aFNldHRlciJdPWZ1bmN0aW9uKGEsYil7YSYmKHk9ITApLEtiPWElMi8yLGwoYixhKX0sbS5zdHJva2VTZXR0ZXI9bS5maWxsU2V0dGVyPW0uclNldHRlcj1mdW5jdGlvbihhLGIpeyJmaWxsIj09PWImJmEmJih5PSEwKSxsKGIsYSl9LG0uYW5jaG9yWFNldHRlcj1mdW5jdGlvbihhLGIpe2U9YSxsKGIsYStLYi15Yil9LG0uYW5jaG9yWVNldHRlcj1mdW5jdGlvbihhLGIpe2Y9YSxsKGIsYS14KX0sbS54U2V0dGVyPWZ1bmN0aW9uKGEpe20ueD1hLEomJihhLT1KKigodHx8RC53aWR0aCkrQykpLHliPXYoYSksbS5hdHRyKCJ0cmFuc2xhdGVYIix5Yil9LG0ueVNldHRlcj1mdW5jdGlvbihhKXt4PW0ueT12KGEpLG0uYXR0cigidHJhbnNsYXRlWSIseCl9O3ZhciBBPW0uY3NzO3JldHVybiByKG0se2NzczpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj17fSxhPXcoYSk7cShtLnRleHRQcm9wcyxmdW5jdGlvbihjKXthW2NdIT09dSYmKGJbY109YVtjXSxkZWxldGUgYVtjXSl9KSxvLmNzcyhiKX1yZXR1cm4gQS5jYWxsKG0sYSl9LGdldEJCb3g6ZnVuY3Rpb24oKXtyZXR1cm57d2lkdGg6RC53aWR0aCsyKkMsaGVpZ2h0OkQuaGVpZ2h0KzIqQyx4OkQueC1DLHk6RC55LUN9fSxzaGFkb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIHAmJnAuc2hhZG93KGEpLG19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtYKG0uZWxlbWVudCwibW91c2VlbnRlciIpLFgobS5lbGVtZW50LCJtb3VzZWxlYXZlIiksbyYmKG89by5kZXN0cm95KCkpLHAmJihwPXAuZGVzdHJveSgpKSxTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwobSksbT1uPWo9az1sPW51bGx9fSl9fSxaYT10YSxyKFMucHJvdG90eXBlLHtodG1sQ3NzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtyZXR1cm4oYj1hJiYiU1BBTiI9PT1iLnRhZ05hbWUmJmEud2lkdGgpJiYoZGVsZXRlIGEud2lkdGgsdGhpcy50ZXh0V2lkdGg9Yix0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpKSx0aGlzLnN0eWxlcz1yKHRoaXMuc3R5bGVzLGEpLEIodGhpcy5lbGVtZW50LGEpLHRoaXN9LGh0bWxHZXRCQm94OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5iQm94O3JldHVybiBifHwoInRleHQiPT09YS5ub2RlTmFtZSYmKGEuc3R5bGUucG9zaXRpb249ImFic29sdXRlIiksYj10aGlzLmJCb3g9e3g6YS5vZmZzZXRMZWZ0LHk6YS5vZmZzZXRUb3Asd2lkdGg6YS5vZmZzZXRXaWR0aCxoZWlnaHQ6YS5vZmZzZXRIZWlnaHR9KSxifSxodG1sVXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKCl7aWYodGhpcy5hZGRlZCl7dmFyIGE9dGhpcy5yZW5kZXJlcixiPXRoaXMuZWxlbWVudCxjPXRoaXMudHJhbnNsYXRlWHx8MCxkPXRoaXMudHJhbnNsYXRlWXx8MCxlPXRoaXMueHx8MCxmPXRoaXMueXx8MCxnPXRoaXMudGV4dEFsaWdufHwibGVmdCIsaD17bGVmdDowLGNlbnRlcjouNSxyaWdodDoxfVtnXSxpPXRoaXMuc2hhZG93cztpZihCKGIse21hcmdpbkxlZnQ6YyxtYXJnaW5Ub3A6ZH0pLGkmJnEoaSxmdW5jdGlvbihhKXtCKGEse21hcmdpbkxlZnQ6YysxLG1hcmdpblRvcDpkKzF9KX0pLHRoaXMuaW52ZXJ0ZWQmJnEoYi5jaGlsZE5vZGVzLGZ1bmN0aW9uKGMpe2EuaW52ZXJ0Q2hpbGQoYyxiKX0pLCJTUEFOIj09PWIudGFnTmFtZSl7dmFyIGssaj10aGlzLnJvdGF0aW9uLGw9eSh0aGlzLnRleHRXaWR0aCksbj1baixnLGIuaW5uZXJIVE1MLHRoaXMudGV4dFdpZHRoXS5qb2luKCIsIik7biE9PXRoaXMuY1RUJiYoaz1hLmZvbnRNZXRyaWNzKGIuc3R5bGUuZm9udFNpemUpLmIscyhqKSYmdGhpcy5zZXRTcGFuUm90YXRpb24oaixoLGspLGk9cCh0aGlzLmVsZW1XaWR0aCxiLm9mZnNldFdpZHRoKSxpPmwmJi9bIFwtXS8udGVzdChiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dCkmJihCKGIse3dpZHRoOmwrInB4IixkaXNwbGF5OiJibG9jayIsd2hpdGVTcGFjZToibm9ybWFsIn0pLGk9bCksdGhpcy5nZXRTcGFuQ29ycmVjdGlvbihpLGssaCxqLGcpKSxCKGIse2xlZnQ6ZSsodGhpcy54Q29ycnx8MCkrInB4Iix0b3A6ZisodGhpcy55Q29ycnx8MCkrInB4In0pLHRiJiYoaz1iLm9mZnNldEhlaWdodCksdGhpcy5jVFQ9bn19ZWxzZSB0aGlzLmFsaWduT25BZGQ9ITB9LHNldFNwYW5Sb3RhdGlvbjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e30sZT1BYT8iLW1zLXRyYW5zZm9ybSI6dGI/Ii13ZWJraXQtdHJhbnNmb3JtIjpVYT8iTW96VHJhbnNmb3JtIjpIYj8iLW8tdHJhbnNmb3JtIjoiIjtkW2VdPWQudHJhbnNmb3JtPSJyb3RhdGUoIithKyJkZWcpIixkW2UrKFVhPyJPcmlnaW4iOiItb3JpZ2luIildPWQudHJhbnNmb3JtT3JpZ2luPTEwMCpiKyIlICIrYysicHgiLEIodGhpcy5lbGVtZW50LGQpfSxnZXRTcGFuQ29ycmVjdGlvbjpmdW5jdGlvbihhLGIsYyl7dGhpcy54Q29ycj0tYSpjLHRoaXMueUNvcnI9LWJ9fSkscih0YS5wcm90b3R5cGUse2h0bWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY3JlYXRlRWxlbWVudCgic3BhbiIpLGU9ZC5lbGVtZW50LGY9ZC5yZW5kZXJlcjtyZXR1cm4gZC50ZXh0U2V0dGVyPWZ1bmN0aW9uKGEpe2EhPT1lLmlubmVySFRNTCYmZGVsZXRlIHRoaXMuYkJveCxlLmlubmVySFRNTD10aGlzLnRleHRTdHI9YX0sZC54U2V0dGVyPWQueVNldHRlcj1kLmFsaWduU2V0dGVyPWQucm90YXRpb25TZXR0ZXI9ZnVuY3Rpb24oYSxiKXsiYWxpZ24iPT09YiYmKGI9InRleHRBbGlnbiIpLGRbYl09YSxkLmh0bWxVcGRhdGVUcmFuc2Zvcm0oKX0sZC5hdHRyKHt0ZXh0OmEseDp2KGIpLHk6dihjKX0pLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix3aGl0ZVNwYWNlOiJub3dyYXAiLGZvbnRGYW1pbHk6dGhpcy5zdHlsZS5mb250RmFtaWx5LGZvbnRTaXplOnRoaXMuc3R5bGUuZm9udFNpemV9KSxkLmNzcz1kLmh0bWxDc3MsZi5pc1NWRyYmKGQuYWRkPWZ1bmN0aW9uKGEpe3ZhciBiLGM9Zi5ib3gucGFyZW50Tm9kZSxqPVtdO2lmKHRoaXMucGFyZW50R3JvdXA9YSl7aWYoYj1hLmRpdiwhYil7Zm9yKDthOylqLnB1c2goYSksYT1hLnBhcmVudEdyb3VwO3Eoai5yZXZlcnNlKCksZnVuY3Rpb24oYSl7dmFyIGQ7Yj1hLmRpdj1hLmRpdnx8JChLYSx7Y2xhc3NOYW1lOkYoYS5lbGVtZW50LCJjbGFzcyIpfSx7cG9zaXRpb246ImFic29sdXRlIixsZWZ0OihhLnRyYW5zbGF0ZVh8fDApKyJweCIsdG9wOihhLnRyYW5zbGF0ZVl8fDApKyJweCJ9LGJ8fGMpLGQ9Yi5zdHlsZSxyKGEse3RyYW5zbGF0ZVhTZXR0ZXI6ZnVuY3Rpb24oYixjKXtkLmxlZnQ9YisicHgiLGFbY109YixhLmRvVHJhbnNmb3JtPSEwfSx0cmFuc2xhdGVZU2V0dGVyOmZ1bmN0aW9uKGIsYyl7ZC50b3A9YisicHgiLGFbY109YixhLmRvVHJhbnNmb3JtPSEwfSx2aXNpYmlsaXR5U2V0dGVyOmZ1bmN0aW9uKGEsYil7ZFtiXT1hfX0pfSl9fWVsc2UgYj1jO3JldHVybiBiLmFwcGVuZENoaWxkKGUpLGQuYWRkZWQ9ITAsZC5hbGlnbk9uQWRkJiZkLmh0bWxVcGRhdGVUcmFuc2Zvcm0oKSxkfSksZH19KTt2YXIgWjtpZighYmEmJiFnYSl7Wj17aW5pdDpmdW5jdGlvbihhLGIpe3ZhciBjPVsiPCIsYiwnIGZpbGxlZD0iZiIgc3Ryb2tlZD0iZiInXSxkPVsicG9zaXRpb246ICIsImFic29sdXRlIiwiOyJdLGU9Yj09PUthOygic2hhcGUiPT09Ynx8ZSkmJmQucHVzaCgibGVmdDowO3RvcDowO3dpZHRoOjFweDtoZWlnaHQ6MXB4OyIpLGQucHVzaCgidmlzaWJpbGl0eTogIixlPyJoaWRkZW4iOiJ2aXNpYmxlIiksYy5wdXNoKCcgc3R5bGU9IicsZC5qb2luKCIiKSwnIi8+JyksYiYmKGM9ZXx8InNwYW4iPT09Ynx8ImltZyI9PT1iP2Muam9pbigiIik6YS5wcmVwVk1MKGMpLHRoaXMuZWxlbWVudD0kKGMpKSx0aGlzLnJlbmRlcmVyPWF9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJlbmRlcmVyLGM9dGhpcy5lbGVtZW50LGQ9Yi5ib3gsZD1hP2EuZWxlbWVudHx8YTpkO3JldHVybiBhJiZhLmludmVydGVkJiZiLmludmVydENoaWxkKGMsZCksZC5hcHBlbmRDaGlsZChjKSx0aGlzLmFkZGVkPSEwLHRoaXMuYWxpZ25PbkFkZCYmIXRoaXMuZGVmZXJVcGRhdGVUcmFuc2Zvcm0mJnRoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5vbkFkZCYmdGhpcy5vbkFkZCgpLHRoaXN9LHVwZGF0ZVRyYW5zZm9ybTpTLnByb3RvdHlwZS5odG1sVXBkYXRlVHJhbnNmb3JtLHNldFNwYW5Sb3RhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucm90YXRpb24sYj1hYShhKkVhKSxjPWZhKGEqRWEpO0IodGhpcy5lbGVtZW50LHtmaWx0ZXI6YT9bInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIsYiwiLCBNMTI9IiwtYywiLCBNMjE9IixjLCIsIE0yMj0iLGIsIiwgc2l6aW5nTWV0aG9kPSdhdXRvIGV4cGFuZCcpIl0uam9pbigiIik6UH0pfSxnZXRTcGFuQ29ycmVjdGlvbjpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBpLGY9ZD9hYShkKkVhKToxLGc9ZD9mYShkKkVhKTowLGg9cCh0aGlzLmVsZW1IZWlnaHQsdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCk7dGhpcy54Q29ycj0wPmYmJi1hLHRoaXMueUNvcnI9MD5nJiYtaCxpPTA+ZipnLHRoaXMueENvcnIrPWcqYiooaT8xLWM6YyksdGhpcy55Q29yci09ZipiKihkP2k/YzoxLWM6MSksZSYmImxlZnQiIT09ZSYmKHRoaXMueENvcnItPWEqYyooMD5mPy0xOjEpLGQmJih0aGlzLnlDb3JyLT1oKmMqKDA+Zz8tMToxKSksQih0aGlzLmVsZW1lbnQse3RleHRBbGlnbjplfSkpfSxwYXRoVG9WTUw6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9W107Yi0tOylqYShhW2JdKT9jW2JdPXYoMTAqYVtiXSktNToiWiI9PT1hW2JdP2NbYl09IngiOihjW2JdPWFbYl0sIWEuaXNBcmN8fCJ3YSIhPT1hW2JdJiYiYXQiIT09YVtiXXx8KGNbYis1XT09PWNbYis3XSYmKGNbYis3XSs9YVtiKzddPmFbYis1XT8xOi0xKSxjW2IrNl09PT1jW2IrOF0mJihjW2IrOF0rPWFbYis4XT5hW2IrNl0/MTotMSkpKTtyZXR1cm4gYy5qb2luKCIgIil8fCJ4In0sY2xpcDpmdW5jdGlvbihhKXt2YXIgYyxiPXRoaXM7cmV0dXJuIGE/KGM9YS5tZW1iZXJzLGxhKGMsYiksYy5wdXNoKGIpLGIuZGVzdHJveUNsaXA9ZnVuY3Rpb24oKXtsYShjLGIpfSxhPWEuZ2V0Q1NTKGIpKTooYi5kZXN0cm95Q2xpcCYmYi5kZXN0cm95Q2xpcCgpLGE9e2NsaXA6aGI/ImluaGVyaXQiOiJyZWN0KGF1dG8pIn0pLGIuY3NzKGEpfSxjc3M6Uy5wcm90b3R5cGUuaHRtbENzcyxzYWZlUmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlJiZRYShhKX0sZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlc3Ryb3lDbGlwJiZ0aGlzLmRlc3Ryb3lDbGlwKCksUy5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0sb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lbGVtZW50WyJvbiIrYV09ZnVuY3Rpb24oKXt2YXIgYT1HLmV2ZW50O2EudGFyZ2V0PWEuc3JjRWxlbWVudCxiKGEpfSx0aGlzfSxjdXRPZmZQYXRoOmZ1bmN0aW9uKGEsYil7dmFyIGMsYT1hLnNwbGl0KC9bICxdLyk7cmV0dXJuIGM9YS5sZW5ndGgsKDk9PT1jfHwxMT09PWMpJiYoYVtjLTRdPWFbYy0yXT15KGFbYy0yXSktMTAqYiksYS5qb2luKCIgIil9LHNoYWRvdzpmdW5jdGlvbihhLGIsYyl7dmFyIGUsaCxqLGwsbixtLG8sZD1bXSxmPXRoaXMuZWxlbWVudCxnPXRoaXMucmVuZGVyZXIsaT1mLnN0eWxlLGs9Zi5wYXRoO2lmKGsmJiJzdHJpbmciIT10eXBlb2Ygay52YWx1ZSYmKGs9IngiKSxuPWssYSl7Zm9yKG09cChhLndpZHRoLDMpLG89KGEub3BhY2l0eXx8LjE1KS9tLGU9MTszPj1lO2UrKylsPTIqbSsxLTIqZSxjJiYobj10aGlzLmN1dE9mZlBhdGgoay52YWx1ZSxsKy41KSksaj1bJzxzaGFwZSBpc1NoYWRvdz0idHJ1ZSIgc3Ryb2tld2VpZ2h0PSInLGwsJyIgZmlsbGVkPSJmYWxzZSIgcGF0aD0iJyxuLCciIGNvb3Jkc2l6ZT0iMTAgMTAiIHN0eWxlPSInLGYuc3R5bGUuY3NzVGV4dCwnIiAvPiddLGg9JChnLnByZXBWTUwoaiksbnVsbCx7bGVmdDp5KGkubGVmdCkrcChhLm9mZnNldFgsMSksdG9wOnkoaS50b3ApK3AoYS5vZmZzZXRZLDEpfSksYyYmKGguY3V0T2ZmPWwrMSksaj1bJzxzdHJva2UgY29sb3I9IicsYS5jb2xvcnx8ImJsYWNrIiwnIiBvcGFjaXR5PSInLG8qZSwnIi8+J10sJChnLnByZXBWTUwoaiksbnVsbCxudWxsLGgpLGI/Yi5lbGVtZW50LmFwcGVuZENoaWxkKGgpOmYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaCxmKSxkLnB1c2goaCk7dGhpcy5zaGFkb3dzPWR9cmV0dXJuIHRoaXN9LHVwZGF0ZVNoYWRvd3M6c2Esc2V0QXR0cjpmdW5jdGlvbihhLGIpe2hiP3RoaXMuZWxlbWVudFthXT1iOnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoYSxiKX0sY2xhc3NTZXR0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmNsYXNzTmFtZT1hfSxkYXNoc3R5bGVTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpeyhjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHJva2UiKVswXXx8JCh0aGlzLnJlbmRlcmVyLnByZXBWTUwoWyI8c3Ryb2tlLz4iXSksbnVsbCxudWxsLGMpKVtiXT1hfHwic29saWQiLHRoaXNbYl09YX0sZFNldHRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zaGFkb3dzLGE9YXx8W107aWYodGhpcy5kPWEuam9pbiYmYS5qb2luKCIgIiksYy5wYXRoPWE9dGhpcy5wYXRoVG9WTUwoYSksZClmb3IoYz1kLmxlbmd0aDtjLS07KWRbY10ucGF0aD1kW2NdLmN1dE9mZj90aGlzLmN1dE9mZlBhdGgoYSxkW2NdLmN1dE9mZik6YTt0aGlzLnNldEF0dHIoYixhKX0sZmlsbFNldHRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yy5ub2RlTmFtZTsiU1BBTiI9PT1kP2Muc3R5bGUuY29sb3I9YToiSU1HIiE9PWQmJihjLmZpbGxlZD1hIT09UCx0aGlzLnNldEF0dHIoImZpbGxjb2xvciIsdGhpcy5yZW5kZXJlci5jb2xvcihhLGMsYix0aGlzKSkpfSxvcGFjaXR5U2V0dGVyOnNhLHJvdGF0aW9uU2V0dGVyOmZ1bmN0aW9uKGEsYixjKXtjPWMuc3R5bGUsdGhpc1tiXT1jW2JdPWEsYy5sZWZ0PS12KGZhKGEqRWEpKzEpKyJweCIsYy50b3A9dihhYShhKkVhKSkrInB4In0sc3Ryb2tlU2V0dGVyOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnNldEF0dHIoInN0cm9rZWNvbG9yIix0aGlzLnJlbmRlcmVyLmNvbG9yKGEsYyxiKSl9LCJzdHJva2Utd2lkdGhTZXR0ZXIiOmZ1bmN0aW9uKGEsYixjKXtjLnN0cm9rZWQ9ISFhLHRoaXNbYl09YSxqYShhKSYmKGErPSJweCIpLHRoaXMuc2V0QXR0cigic3Ryb2tld2VpZ2h0IixhKX0sdGl0bGVTZXR0ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnNldEF0dHIoYixhKX0sdmlzaWJpbGl0eVNldHRlcjpmdW5jdGlvbihhLGIsYyl7ImluaGVyaXQiPT09YSYmKGE9InZpc2libGUiKSx0aGlzLnNoYWRvd3MmJnEodGhpcy5zaGFkb3dzLGZ1bmN0aW9uKGMpe2Muc3R5bGVbYl09YX0pLCJESVYiPT09Yy5ub2RlTmFtZSYmKGE9ImhpZGRlbiI9PT1hPyItOTk5ZW0iOjAsaGJ8fChjLnN0eWxlW2JdPWE/InZpc2libGUiOiJoaWRkZW4iKSxiPSJ0b3AiKSxjLnN0eWxlW2JdPWF9LHhTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe3RoaXNbYl09YSwieCI9PT1iP2I9ImxlZnQiOiJ5Ij09PWImJihiPSJ0b3AiKSx0aGlzLnVwZGF0ZUNsaXBwaW5nPyh0aGlzW2JdPWEsdGhpcy51cGRhdGVDbGlwcGluZygpKTpjLnN0eWxlW2JdPWF9LHpJbmRleFNldHRlcjpmdW5jdGlvbihhLGIsYyl7Yy5zdHlsZVtiXT1hfX0sSy5WTUxFbGVtZW50PVo9bWEoUyxaKSxaLnByb3RvdHlwZS55U2V0dGVyPVoucHJvdG90eXBlLndpZHRoU2V0dGVyPVoucHJvdG90eXBlLmhlaWdodFNldHRlcj1aLnByb3RvdHlwZS54U2V0dGVyO3ZhciBpYT17RWxlbWVudDpaLGlzSUU4OndhLmluZGV4T2YoIk1TSUUgOC4wIik+LTEsaW5pdDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZTtpZih0aGlzLmFsaWduZWRPYmplY3RzPVtdLGQ9dGhpcy5jcmVhdGVFbGVtZW50KEthKS5jc3Mocih0aGlzLmdldFN0eWxlKGQpLHtwb3NpdGlvbjoicmVsYXRpdmUifSkpLGU9ZC5lbGVtZW50LGEuYXBwZW5kQ2hpbGQoZC5lbGVtZW50KSx0aGlzLmlzVk1MPSEwLHRoaXMuYm94PWUsdGhpcy5ib3hXcmFwcGVyPWQsdGhpcy5jYWNoZT17fSx0aGlzLnNldFNpemUoYixjLCExKSwheC5uYW1lc3BhY2VzLmhjdil7eC5uYW1lc3BhY2VzLmFkZCgiaGN2IiwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiKTt0cnl7eC5jcmVhdGVTdHlsZVNoZWV0KCkuY3NzVGV4dD0iaGN2XFw6ZmlsbCwgaGN2XFw6cGF0aCwgaGN2XFw6c2hhcGUsIGhjdlxcOnN0cm9rZXsgYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfSAifWNhdGNoKGYpe3guc3R5bGVTaGVldHNbMF0uY3NzVGV4dCs9ImhjdlxcOmZpbGwsIGhjdlxcOnBhdGgsIGhjdlxcOnNoYXBlLCBoY3ZcXDpzdHJva2V7IGJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0gIn19fSxpc0hpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmJveC5vZmZzZXRXaWR0aH0sY2xpcFJlY3Q6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5jcmVhdGVFbGVtZW50KCksZj1kYShhKTtyZXR1cm4gcihlLHttZW1iZXJzOltdLGxlZnQ6KGY/YS54OmEpKzEsdG9wOihmP2EueTpiKSsxLHdpZHRoOihmP2Eud2lkdGg6YyktMSxoZWlnaHQ6KGY/YS5oZWlnaHQ6ZCktMSxnZXRDU1M6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lbGVtZW50LGM9Yi5ub2RlTmFtZSxhPWEuaW52ZXJ0ZWQsZD10aGlzLnRvcC0oInNoYXBlIj09PWM/Yi5vZmZzZXRUb3A6MCksZT10aGlzLmxlZnQsYj1lK3RoaXMud2lkdGgsZj1kK3RoaXMuaGVpZ2h0LGQ9e2NsaXA6InJlY3QoIit2KGE/ZTpkKSsicHgsIit2KGE/ZjpiKSsicHgsIit2KGE/YjpmKSsicHgsIit2KGE/ZDplKSsicHgpIn07cmV0dXJuIWEmJmhiJiYiRElWIj09PWMmJnIoZCx7d2lkdGg6YisicHgiLGhlaWdodDpmKyJweCJ9KSxkfSx1cGRhdGVDbGlwcGluZzpmdW5jdGlvbigpe3EoZS5tZW1iZXJzLGZ1bmN0aW9uKGEpe2EuZWxlbWVudCYmYS5jc3MoZS5nZXRDU1MoYSkpfSl9fSl9LGNvbG9yOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmLGgsaSxlPXRoaXMsZz0vXnJnYmEvLGo9UDtpZihhJiZhLmxpbmVhckdyYWRpZW50P2k9ImdyYWRpZW50IjphJiZhLnJhZGlhbEdyYWRpZW50JiYoaT0icGF0dGVybiIpLGkpe3ZhciBrLGwsbSxvLHAsRCxKLHQsbj1hLmxpbmVhckdyYWRpZW50fHxhLnJhZGlhbEdyYWRpZW50LEM9IiIsYT1hLnN0b3BzLHM9W10sdT1mdW5jdGlvbigpe2g9Wyc8ZmlsbCBjb2xvcnM9Iicrcy5qb2luKCIsIikrJyIgb3BhY2l0eT0iJyxwLCciIG86b3BhY2l0eTI9IicsbywnIiB0eXBlPSInLGksJyIgJyxDLCdmb2N1cz0iMTAwJSIgbWV0aG9kPSJhbnkiIC8+J10sJChlLnByZXBWTUwoaCksbnVsbCxudWxsLGIpfTtpZihtPWFbMF0sdD1hW2EubGVuZ3RoLTFdLG1bMF0+MCYmYS51bnNoaWZ0KFswLG1bMV1dKSx0WzBdPDEmJmEucHVzaChbMSx0WzFdXSkscShhLGZ1bmN0aW9uKGEsYil7Zy50ZXN0KGFbMV0pPyhmPXlhKGFbMV0pLGs9Zi5nZXQoInJnYiIpLGw9Zi5nZXQoImEiKSk6KGs9YVsxXSxsPTEpLHMucHVzaCgxMDAqYVswXSsiJSAiK2spLGI/KHA9bCxEPWspOihvPWwsSj1rKX0pLCJmaWxsIj09PWMpaWYoImdyYWRpZW50Ij09PWkpYz1uLngxfHxuWzBdfHwwLGE9bi55MXx8blsxXXx8MCxtPW4ueDJ8fG5bMl18fDAsbj1uLnkyfHxuWzNdfHwwLEM9J2FuZ2xlPSInKyg5MC0xODAqVi5hdGFuKChuLWEpLyhtLWMpKS9vYSkrJyInLHUoKTtlbHNle3ZhciB3LGo9bi5yLHI9MipqLHY9MipqLHg9bi5jeCx6PW4uY3ksUj1iLnJhZGlhbFJlZmVyZW5jZSxqPWZ1bmN0aW9uKCl7UiYmKHc9ZC5nZXRCQm94KCkseCs9KFJbMF0tdy54KS93LndpZHRoLS41LHorPShSWzFdLXcueSkvdy5oZWlnaHQtLjUscio9UlsyXS93LndpZHRoLHYqPVJbMl0vdy5oZWlnaHQpLEM9J3NyYz0iJytFLmdsb2JhbC5WTUxSYWRpYWxHcmFkaWVudFVSTCsnIiBzaXplPSInK3IrIiwiK3YrJyIgb3JpZ2luPSIwLjUsMC41IiBwb3NpdGlvbj0iJyt4KyIsIit6KyciIGNvbG9yMj0iJytKKyciICcsdSgpfTtkLmFkZGVkP2ooKTpkLm9uQWRkPWosaj1EfWVsc2Ugaj1rfWVsc2UgZy50ZXN0KGEpJiYiSU1HIiE9PWIudGFnTmFtZT8oZj15YShhKSxoPVsiPCIsYywnIG9wYWNpdHk9IicsZi5nZXQoImEiKSwnIi8+J10sJCh0aGlzLnByZXBWTUwoaCksbnVsbCxudWxsLGIpLGo9Zi5nZXQoInJnYiIpKTooaj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGMpLGoubGVuZ3RoJiYoalswXS5vcGFjaXR5PTEsalswXS50eXBlPSJzb2xpZCIpLGo9YSk7cmV0dXJuIGp9LHByZXBWTUw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pc0lFOCxhPWEuam9pbigiIik7cmV0dXJuIGI/KGE9YS5yZXBsYWNlKCIvPiIsJyB4bWxucz0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIC8+JyksYT0tMT09PWEuaW5kZXhPZignc3R5bGU9IicpP2EucmVwbGFjZSgiLz4iLCcgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyIgLz4nKTphLnJlcGxhY2UoJ3N0eWxlPSInLCdzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7JykpOmE9YS5yZXBsYWNlKCI8IiwiPGhjdjoiKSxhfSx0ZXh0OnRhLnByb3RvdHlwZS5odG1sLHBhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9e2Nvb3Jkc2l6ZToiMTAgMTAifTtyZXR1cm4gSGEoYSk/Yi5kPWE6ZGEoYSkmJnIoYixhKSx0aGlzLmNyZWF0ZUVsZW1lbnQoInNoYXBlIikuYXR0cihiKX0sY2lyY2xlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnN5bWJvbCgiY2lyY2xlIik7cmV0dXJuIGRhKGEpJiYoYz1hLnIsYj1hLnksYT1hLngpLGQuaXNDaXJjbGU9ITAsZC5yPWMsZC5hdHRyKHt4OmEseTpifSl9LGc6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGEmJihiPXtjbGFzc05hbWU6ImhpZ2hjaGFydHMtIithLCJjbGFzcyI6ImhpZ2hjaGFydHMtIithfSksdGhpcy5jcmVhdGVFbGVtZW50KEthKS5hdHRyKGIpfSxpbWFnZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudCgiaW1nIikuYXR0cih7c3JjOmF9KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xJiZmLmF0dHIoe3g6Yix5OmMsd2lkdGg6ZCxoZWlnaHQ6ZX0pLGZ9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuInJlY3QiPT09YT90aGlzLnN5bWJvbChhKTp0YS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsYSl9LGludmVydENoaWxkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWIuc3R5bGUsZT0iSU1HIj09PWEudGFnTmFtZSYmYS5zdHlsZTtCKGEse2ZsaXA6IngiLGxlZnQ6eShkLndpZHRoKS0oZT95KGUudG9wKToxKSx0b3A6eShkLmhlaWdodCktKGU/eShlLmxlZnQpOjEpLHJvdGF0aW9uOi05MH0pLHEoYS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGIpe2MuaW52ZXJ0Q2hpbGQoYixhKX0pfSxzeW1ib2xzOnthcmM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1lLnN0YXJ0LGc9ZS5lbmQsaD1lLnJ8fGN8fGQsYz1lLmlubmVyUixkPWFhKGYpLGk9ZmEoZiksaj1hYShnKSxrPWZhKGcpO3JldHVybiBnLWY9PT0wP1sieCJdOihmPVsid2EiLGEtaCxiLWgsYStoLGIraCxhK2gqZCxiK2gqaSxhK2gqaixiK2gqa10sZS5vcGVuJiYhYyYmZi5wdXNoKCJlIiwiTSIsYSxiKSxmLnB1c2goImF0IixhLWMsYi1jLGErYyxiK2MsYStjKmosYitjKmssYStjKmQsYitjKmksIngiLCJlIiksZi5pc0FyYz0hMCxmKX0sY2lyY2xlOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGUmJihjPWQ9MiplLnIpLGUmJmUuaXNDaXJjbGUmJihhLT1jLzIsYi09ZC8yKSxbIndhIixhLGIsYStjLGIrZCxhK2MsYitkLzIsYStjLGIrZC8yLCJlIl19LHJlY3Q6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGEucHJvdG90eXBlLnN5bWJvbHNbcyhlKSYmZS5yPyJjYWxsb3V0Ijoic3F1YXJlIl0uY2FsbCgwLGEsYixjLGQsZSl9fX07Sy5WTUxSZW5kZXJlcj1aPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sWi5wcm90b3R5cGU9dyh0YS5wcm90b3R5cGUsaWEpLFphPVoKfXRhLnByb3RvdHlwZS5tZWFzdXJlU3BhbldpZHRoPWZ1bmN0aW9uKGEsYil7dmFyIGQsYz14LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtyZXR1cm4gZD14LmNyZWF0ZVRleHROb2RlKGEpLGMuYXBwZW5kQ2hpbGQoZCksQihjLGIpLHRoaXMuYm94LmFwcGVuZENoaWxkKGMpLGQ9Yy5vZmZzZXRXaWR0aCxRYShjKSxkfTt2YXIgTWI7Z2EmJihLLkNhblZHUmVuZGVyZXI9Wj1mdW5jdGlvbigpe3hhPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIn0sWi5wcm90b3R5cGUuc3ltYm9scz17fSxNYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgZCxhPWIubGVuZ3RoO2ZvcihkPTA7YT5kO2QrKyliW2RdKCk7Yj1bXX12YXIgYj1bXTtyZXR1cm57cHVzaDpmdW5jdGlvbihjLGQpezA9PT1iLmxlbmd0aCYmUmIoZCxhKSxiLnB1c2goYyl9fX0oKSxaYT1aKSxUYS5wcm90b3R5cGU9e2FkZExhYmVsOmZ1bmN0aW9uKCl7dmFyIG4sYT10aGlzLmF4aXMsYj1hLm9wdGlvbnMsYz1hLmNoYXJ0LGQ9YS5ob3JpeixlPWEuY2F0ZWdvcmllcyxmPWEubmFtZXMsZz10aGlzLnBvcyxoPWIubGFiZWxzLGk9aC5yb3RhdGlvbixqPWEudGlja1Bvc2l0aW9ucyxkPWQmJmUmJiFoLnN0ZXAmJiFoLnN0YWdnZXJMaW5lcyYmIWgucm90YXRpb24mJmMucGxvdFdpZHRoL2oubGVuZ3RofHwhZCYmKGMubWFyZ2luWzNdfHwuMzMqYy5jaGFydFdpZHRoKSxrPWc9PT1qWzBdLGw9Zz09PWpbai5sZW5ndGgtMV0sZj1lP3AoZVtnXSxmW2ddLGcpOmcsZT10aGlzLmxhYmVsLG09ai5pbmZvO2EuaXNEYXRldGltZUF4aXMmJm0mJihuPWIuZGF0ZVRpbWVMYWJlbEZvcm1hdHNbbS5oaWdoZXJSYW5rc1tnXXx8bS51bml0TmFtZV0pLHRoaXMuaXNGaXJzdD1rLHRoaXMuaXNMYXN0PWwsYj1hLmxhYmVsRm9ybWF0dGVyLmNhbGwoe2F4aXM6YSxjaGFydDpjLGlzRmlyc3Q6ayxpc0xhc3Q6bCxkYXRlVGltZUxhYmVsRm9ybWF0Om4sdmFsdWU6YS5pc0xvZz9lYShrYShmKSk6Zn0pLGc9ZCYme3dpZHRoOnQoMSx2KGQtMiooaC5wYWRkaW5nfHwxMCkpKSsicHgifSxzKGUpP2UmJmUuYXR0cih7dGV4dDpifSkuY3NzKGcpOihuPXthbGlnbjphLmxhYmVsQWxpZ259LGphKGkpJiYobi5yb3RhdGlvbj1pKSxkJiZoLmVsbGlwc2lzJiYoZy5IY0hlaWdodD1hLmxlbi9qLmxlbmd0aCksdGhpcy5sYWJlbD1lPXMoYikmJmguZW5hYmxlZD9jLnJlbmRlcmVyLnRleHQoYiwwLDAsaC51c2VIVE1MKS5hdHRyKG4pLmNzcyhyKGcsaC5zdHlsZSkpLmFkZChhLmxhYmVsR3JvdXApOm51bGwsYS50aWNrQmFzZWxpbmU9Yy5yZW5kZXJlci5mb250TWV0cmljcyhoLnN0eWxlLmZvbnRTaXplLGUpLmIsaSYmMj09PWEuc2lkZSYmKGEudGlja0Jhc2VsaW5lKj1hYShpKkVhKSkpLHRoaXMueU9mZnNldD1lP3AoaC55LGEudGlja0Jhc2VsaW5lKygyPT09YS5zaWRlPzg6LShlLmdldEJCb3goKS5oZWlnaHQvMikpKTowfSxnZXRMYWJlbFNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxhYmVsLGI9dGhpcy5heGlzO3JldHVybiBhP2EuZ2V0QkJveCgpW2IuaG9yaXo/ImhlaWdodCI6IndpZHRoIl06MH0sZ2V0TGFiZWxTaWRlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGFiZWwuZ2V0QkJveCgpLGI9dGhpcy5heGlzLGM9Yi5ob3JpeixkPWIub3B0aW9ucy5sYWJlbHMsYT1jP2Eud2lkdGg6YS5oZWlnaHQsYj1jP2QueC1hKntsZWZ0OjAsY2VudGVyOi41LHJpZ2h0OjF9W2IubGFiZWxBbGlnbl06MDtyZXR1cm5bYixjP2ErYjphXX0saGFuZGxlT3ZlcmZsb3c6ZnVuY3Rpb24oYSxiKXt2YXIgbCxuLG0sYz0hMCxkPXRoaXMuYXhpcyxlPXRoaXMuaXNGaXJzdCxmPXRoaXMuaXNMYXN0LGc9ZC5ob3Jpej9iLng6Yi55LGg9ZC5yZXZlcnNlZCxpPWQudGlja1Bvc2l0aW9ucyxqPXRoaXMuZ2V0TGFiZWxTaWRlcygpLGs9alswXSxqPWpbMV0sbz10aGlzLmxhYmVsLmxpbmU7aWYobD1vfHwwLG49ZC5sYWJlbEVkZ2UsbT1kLmp1c3RpZnlMYWJlbHMmJihlfHxmKSxuW2xdPT09dXx8ZytrPm5bbF0/bltsXT1nK2o6bXx8KGM9ITEpLG0pe2w9KG49ZC5qdXN0aWZ5VG9QbG90KT9kLnBvczowLG49bj9sK2QubGVuOmQuY2hhcnQuY2hhcnRXaWR0aDtkbyBhKz1lPzE6LTEsbT1kLnRpY2tzW2lbYV1dO3doaWxlKGlbYV0mJighbXx8IW0ubGFiZWx8fG0ubGFiZWwubGluZSE9PW8pKTtkPW0mJm0ubGFiZWwueHkmJm0ubGFiZWwueHkueCttLmdldExhYmVsU2lkZXMoKVtlPzA6MV0sZSYmIWh8fGYmJmg/bD5nK2smJihnPWwtayxtJiZnK2o+ZCYmKGM9ITEpKTpnK2o+biYmKGc9bi1qLG0mJmQ+ZytrJiYoYz0hMSkpLGIueD1nfXJldHVybiBjfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmF4aXMsZj1lLmNoYXJ0LGc9ZCYmZi5vbGRDaGFydEhlaWdodHx8Zi5jaGFydEhlaWdodDtyZXR1cm57eDphP2UudHJhbnNsYXRlKGIrYyxudWxsLG51bGwsZCkrZS50cmFuc0I6ZS5sZWZ0K2Uub2Zmc2V0KyhlLm9wcG9zaXRlPyhkJiZmLm9sZENoYXJ0V2lkdGh8fGYuY2hhcnRXaWR0aCktZS5yaWdodC1lLmxlZnQ6MCkseTphP2ctZS5ib3R0b20rZS5vZmZzZXQtKGUub3Bwb3NpdGU/ZS5oZWlnaHQ6MCk6Zy1lLnRyYW5zbGF0ZShiK2MsbnVsbCxudWxsLGQpLWUudHJhbnNCfX0sZ2V0TGFiZWxQb3NpdGlvbjpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBpPXRoaXMuYXhpcyxqPWkudHJhbnNBLGs9aS5yZXZlcnNlZCxsPWkuc3RhZ2dlckxpbmVzLGE9YStlLngtKGYmJmQ/ZipqKihrPy0xOjEpOjApLGI9Yit0aGlzLnlPZmZzZXQtKGYmJiFkP2Yqaiooaz8xOi0xKTowKTtyZXR1cm4gbCYmKGMubGluZT1nLyhofHwxKSVsLGIrPWMubGluZSooaS5sYWJlbE9mZnNldC9sKSkse3g6YSx5OmJ9fSxnZXRNYXJrUGF0aDpmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIGYuY3Jpc3BMaW5lKFsiTSIsYSxiLCJMIixhKyhlPzA6LWMpLGIrKGU/YzowKV0sZCl9LHJlbmRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5heGlzLGU9ZC5vcHRpb25zLGY9ZC5jaGFydC5yZW5kZXJlcixnPWQuaG9yaXosaD10aGlzLnR5cGUsaT10aGlzLmxhYmVsLGo9dGhpcy5wb3Msaz1lLmxhYmVscyxsPXRoaXMuZ3JpZExpbmUsbj1oP2grIkdyaWQiOiJncmlkIixtPWg/aCsiVGljayI6InRpY2siLG89ZVtuKyJMaW5lV2lkdGgiXSxxPWVbbisiTGluZUNvbG9yIl0sRD1lW24rIkxpbmVEYXNoU3R5bGUiXSxKPWVbbSsiTGVuZ3RoIl0sbj1lW20rIldpZHRoIl18fDAsQz1lW20rIkNvbG9yIl0sdD1lW20rIlBvc2l0aW9uIl0sbT10aGlzLm1hcmsscz1rLnN0ZXAscj0hMCx2PWQudGlja21hcmtPZmZzZXQsdz10aGlzLmdldFBvc2l0aW9uKGcsaix2LGIpLHg9dy54LHc9dy55LHo9ZyYmeD09PWQucG9zK2QubGVufHwhZyYmdz09PWQucG9zPy0xOjEsYz1wKGMsMSk7dGhpcy5pc0FjdGl2ZT0hMCxvJiYoaj1kLmdldFBsb3RMaW5lUGF0aChqK3Ysbyp6LGIsITApLGw9PT11JiYobD17c3Ryb2tlOnEsInN0cm9rZS13aWR0aCI6b30sRCYmKGwuZGFzaHN0eWxlPUQpLGh8fChsLnpJbmRleD0xKSxiJiYobC5vcGFjaXR5PTApLHRoaXMuZ3JpZExpbmU9bD1vP2YucGF0aChqKS5hdHRyKGwpLmFkZChkLmdyaWRHcm91cCk6bnVsbCksIWImJmwmJmomJmxbdGhpcy5pc05ldz8iYXR0ciI6ImFuaW1hdGUiXSh7ZDpqLG9wYWNpdHk6Y30pKSxuJiZKJiYoImluc2lkZSI9PT10JiYoSj0tSiksZC5vcHBvc2l0ZSYmKEo9LUopLGg9dGhpcy5nZXRNYXJrUGF0aCh4LHcsSixuKnosZyxmKSxtP20uYW5pbWF0ZSh7ZDpoLG9wYWNpdHk6Y30pOnRoaXMubWFyaz1mLnBhdGgoaCkuYXR0cih7c3Ryb2tlOkMsInN0cm9rZS13aWR0aCI6bixvcGFjaXR5OmN9KS5hZGQoZC5heGlzR3JvdXApKSxpJiYhaXNOYU4oeCkmJihpLnh5PXc9dGhpcy5nZXRMYWJlbFBvc2l0aW9uKHgsdyxpLGcsayx2LGEscyksdGhpcy5pc0ZpcnN0JiYhdGhpcy5pc0xhc3QmJiFwKGUuc2hvd0ZpcnN0TGFiZWwsMSl8fHRoaXMuaXNMYXN0JiYhdGhpcy5pc0ZpcnN0JiYhcChlLnNob3dMYXN0TGFiZWwsMSk/cj0hMTohZC5pc1JhZGlhbCYmIWsuc3RlcCYmIWsucm90YXRpb24mJiFiJiYwIT09YyYmKHI9dGhpcy5oYW5kbGVPdmVyZmxvdyhhLHcpKSxzJiZhJXMmJihyPSExKSxyJiYhaXNOYU4ody55KT8ody5vcGFjaXR5PWMsaVt0aGlzLmlzTmV3PyJhdHRyIjoiYW5pbWF0ZSJdKHcpLHRoaXMuaXNOZXc9ITEpOmkuYXR0cigieSIsLTk5OTkpKX0sZGVzdHJveTpmdW5jdGlvbigpe1BhKHRoaXMsdGhpcy5heGlzKX19LEsuUGxvdExpbmVPckJhbmQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmF4aXM9YSxiJiYodGhpcy5vcHRpb25zPWIsdGhpcy5pZD1iLmlkKX0sSy5QbG90TGluZU9yQmFuZC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbigpe3ZhciBwLGE9dGhpcyxiPWEuYXhpcyxjPWIuaG9yaXosZD0oYi5wb2ludFJhbmdlfHwwKS8yLGU9YS5vcHRpb25zLGY9ZS5sYWJlbCxnPWEubGFiZWwsaD1lLndpZHRoLGk9ZS50byxqPWUuZnJvbSxrPXMoaikmJnMoaSksbD1lLnZhbHVlLG49ZS5kYXNoU3R5bGUsbT1hLnN2Z0VsZW0sbz1bXSxxPWUuY29sb3IsSj1lLnpJbmRleCxDPWUuZXZlbnRzLHI9e30sdT1iLmNoYXJ0LnJlbmRlcmVyO2lmKGIuaXNMb2cmJihqPXphKGopLGk9emEoaSksbD16YShsKSksaClvPWIuZ2V0UGxvdExpbmVQYXRoKGwsaCkscj17c3Ryb2tlOnEsInN0cm9rZS13aWR0aCI6aH0sbiYmKHIuZGFzaHN0eWxlPW4pO2Vsc2V7aWYoIWspcmV0dXJuO2o9dChqLGIubWluLWQpLGk9TChpLGIubWF4K2QpLG89Yi5nZXRQbG90QmFuZFBhdGgoaixpLGUpLHEmJihyLmZpbGw9cSksZS5ib3JkZXJXaWR0aCYmKHIuc3Ryb2tlPWUuYm9yZGVyQ29sb3Isclsic3Ryb2tlLXdpZHRoIl09ZS5ib3JkZXJXaWR0aCl9aWYocyhKKSYmKHIuekluZGV4PUopLG0pbz9tLmFuaW1hdGUoe2Q6b30sbnVsbCxtLm9uR2V0UGF0aCk6KG0uaGlkZSgpLG0ub25HZXRQYXRoPWZ1bmN0aW9uKCl7bS5zaG93KCl9LGcmJihhLmxhYmVsPWc9Zy5kZXN0cm95KCkpKTtlbHNlIGlmKG8mJm8ubGVuZ3RoJiYoYS5zdmdFbGVtPW09dS5wYXRoKG8pLmF0dHIocikuYWRkKCksQykpZm9yKHAgaW4gZD1mdW5jdGlvbihiKXttLm9uKGIsZnVuY3Rpb24oYyl7Q1tiXS5hcHBseShhLFtjXSl9KX0sQylkKHApO3JldHVybiBmJiZzKGYudGV4dCkmJm8mJm8ubGVuZ3RoJiZiLndpZHRoPjAmJmIuaGVpZ2h0PjA/KGY9dyh7YWxpZ246YyYmayYmImNlbnRlciIseDpjPyFrJiY0OjEwLHZlcnRpY2FsQWxpZ246IWMmJmsmJiJtaWRkbGUiLHk6Yz9rPzE2OjEwOms/NjotNCxyb3RhdGlvbjpjJiYhayYmOTB9LGYpLGd8fChyPXthbGlnbjpmLnRleHRBbGlnbnx8Zi5hbGlnbixyb3RhdGlvbjpmLnJvdGF0aW9ufSxzKEopJiYoci56SW5kZXg9SiksYS5sYWJlbD1nPXUudGV4dChmLnRleHQsMCwwLGYudXNlSFRNTCkuYXR0cihyKS5jc3MoZi5zdHlsZSkuYWRkKCkpLGI9W29bMV0sb1s0XSxrP29bNl06b1sxXV0saz1bb1syXSxvWzVdLGs/b1s3XTpvWzJdXSxvPU9hKGIpLGM9T2EoayksZy5hbGlnbihmLCExLHt4Om8seTpjLHdpZHRoOkNhKGIpLW8saGVpZ2h0OkNhKGspLWN9KSxnLnNob3coKSk6ZyYmZy5oaWRlKCksYX0sZGVzdHJveTpmdW5jdGlvbigpe2xhKHRoaXMuYXhpcy5wbG90TGluZXNBbmRCYW5kcyx0aGlzKSxkZWxldGUgdGhpcy5heGlzLFBhKHRoaXMpfX0sbmEucHJvdG90eXBlPXtkZWZhdWx0T3B0aW9uczp7ZGF0ZVRpbWVMYWJlbEZvcm1hdHM6e21pbGxpc2Vjb25kOiIlSDolTTolUy4lTCIsc2Vjb25kOiIlSDolTTolUyIsbWludXRlOiIlSDolTSIsaG91cjoiJUg6JU0iLGRheToiJWUuICViIix3ZWVrOiIlZS4gJWIiLG1vbnRoOiIlYiAnJXkiLHllYXI6IiVZIn0sZW5kT25UaWNrOiExLGdyaWRMaW5lQ29sb3I6IiNDMEMwQzAiLGxhYmVsczpNLGxpbmVDb2xvcjoiI0MwRDBFMCIsbGluZVdpZHRoOjEsbWluUGFkZGluZzouMDEsbWF4UGFkZGluZzouMDEsbWlub3JHcmlkTGluZUNvbG9yOiIjRTBFMEUwIixtaW5vckdyaWRMaW5lV2lkdGg6MSxtaW5vclRpY2tDb2xvcjoiI0EwQTBBMCIsbWlub3JUaWNrTGVuZ3RoOjIsbWlub3JUaWNrUG9zaXRpb246Im91dHNpZGUiLHN0YXJ0T2ZXZWVrOjEsc3RhcnRPblRpY2s6ITEsdGlja0NvbG9yOiIjQzBEMEUwIix0aWNrTGVuZ3RoOjEwLHRpY2ttYXJrUGxhY2VtZW50OiJiZXR3ZWVuIix0aWNrUGl4ZWxJbnRlcnZhbDoxMDAsdGlja1Bvc2l0aW9uOiJvdXRzaWRlIix0aWNrV2lkdGg6MSx0aXRsZTp7YWxpZ246Im1pZGRsZSIsc3R5bGU6e2NvbG9yOiIjNzA3MDcwIn19LHR5cGU6ImxpbmVhciJ9LGRlZmF1bHRZQXhpc09wdGlvbnM6e2VuZE9uVGljazohMCxncmlkTGluZVdpZHRoOjEsdGlja1BpeGVsSW50ZXJ2YWw6NzIsc2hvd0xhc3RMYWJlbDohMCxsYWJlbHM6e3g6LTgseTozfSxsaW5lV2lkdGg6MCxtYXhQYWRkaW5nOi4wNSxtaW5QYWRkaW5nOi4wNSxzdGFydE9uVGljazohMCx0aWNrV2lkdGg6MCx0aXRsZTp7cm90YXRpb246MjcwLHRleHQ6IlZhbHVlcyJ9LHN0YWNrTGFiZWxzOntlbmFibGVkOiExLGZvcm1hdHRlcjpmdW5jdGlvbigpe3JldHVybiBCYSh0aGlzLnRvdGFsLC0xKX0sc3R5bGU6TS5zdHlsZX19LGRlZmF1bHRMZWZ0QXhpc09wdGlvbnM6e2xhYmVsczp7eDotMTUseTpudWxsfSx0aXRsZTp7cm90YXRpb246MjcwfX0sZGVmYXVsdFJpZ2h0QXhpc09wdGlvbnM6e2xhYmVsczp7eDoxNSx5Om51bGx9LHRpdGxlOntyb3RhdGlvbjo5MH19LGRlZmF1bHRCb3R0b21BeGlzT3B0aW9uczp7bGFiZWxzOnt4OjAseTpudWxsfSx0aXRsZTp7cm90YXRpb246MH19LGRlZmF1bHRUb3BBeGlzT3B0aW9uczp7bGFiZWxzOnt4OjAseTotMTV9LHRpdGxlOntyb3RhdGlvbjowfX0saW5pdDpmdW5jdGlvbihhLGIpe3ZhciBjPWIuaXNYO3RoaXMuaG9yaXo9YS5pbnZlcnRlZD8hYzpjLHRoaXMuY29sbD0odGhpcy5pc1hBeGlzPWMpPyJ4QXhpcyI6InlBeGlzIix0aGlzLm9wcG9zaXRlPWIub3Bwb3NpdGUsdGhpcy5zaWRlPWIuc2lkZXx8KHRoaXMuaG9yaXo/dGhpcy5vcHBvc2l0ZT8wOjI6dGhpcy5vcHBvc2l0ZT8xOjMpLHRoaXMuc2V0T3B0aW9ucyhiKTt2YXIgZD10aGlzLm9wdGlvbnMsZT1kLnR5cGU7dGhpcy5sYWJlbEZvcm1hdHRlcj1kLmxhYmVscy5mb3JtYXR0ZXJ8fHRoaXMuZGVmYXVsdExhYmVsRm9ybWF0dGVyLHRoaXMudXNlck9wdGlvbnM9Yix0aGlzLm1pblBpeGVsUGFkZGluZz0wLHRoaXMuY2hhcnQ9YSx0aGlzLnJldmVyc2VkPWQucmV2ZXJzZWQsdGhpcy56b29tRW5hYmxlZD1kLnpvb21FbmFibGVkIT09ITEsdGhpcy5jYXRlZ29yaWVzPWQuY2F0ZWdvcmllc3x8ImNhdGVnb3J5Ij09PWUsdGhpcy5uYW1lcz1bXSx0aGlzLmlzTG9nPSJsb2dhcml0aG1pYyI9PT1lLHRoaXMuaXNEYXRldGltZUF4aXM9ImRhdGV0aW1lIj09PWUsdGhpcy5pc0xpbmtlZD1zKGQubGlua2VkVG8pLHRoaXMudGlja21hcmtPZmZzZXQ9dGhpcy5jYXRlZ29yaWVzJiYiYmV0d2VlbiI9PT1kLnRpY2ttYXJrUGxhY2VtZW50JiYxPT09cChkLnRpY2tJbnRlcnZhbCwxKT8uNTowLHRoaXMudGlja3M9e30sdGhpcy5sYWJlbEVkZ2U9W10sdGhpcy5taW5vclRpY2tzPXt9LHRoaXMucGxvdExpbmVzQW5kQmFuZHM9W10sdGhpcy5hbHRlcm5hdGVCYW5kcz17fSx0aGlzLmxlbj0wLHRoaXMubWluUmFuZ2U9dGhpcy51c2VyTWluUmFuZ2U9ZC5taW5SYW5nZXx8ZC5tYXhab29tLHRoaXMucmFuZ2U9ZC5yYW5nZSx0aGlzLm9mZnNldD1kLm9mZnNldHx8MCx0aGlzLnN0YWNrcz17fSx0aGlzLm9sZFN0YWNrcz17fSx0aGlzLm1pbj10aGlzLm1heD1udWxsLHRoaXMuY3Jvc3NoYWlyPXAoZC5jcm9zc2hhaXIscmEoYS5vcHRpb25zLnRvb2x0aXAuY3Jvc3NoYWlycylbYz8wOjFdLCExKTt2YXIgZixkPXRoaXMub3B0aW9ucy5ldmVudHM7LTE9PT1NYSh0aGlzLGEuYXhlcykmJihjJiYhdGhpcy5pc0NvbG9yQXhpcz9hLmF4ZXMuc3BsaWNlKGEueEF4aXMubGVuZ3RoLDAsdGhpcyk6YS5heGVzLnB1c2godGhpcyksYVt0aGlzLmNvbGxdLnB1c2godGhpcykpLHRoaXMuc2VyaWVzPXRoaXMuc2VyaWVzfHxbXSxhLmludmVydGVkJiZjJiZ0aGlzLnJldmVyc2VkPT09dSYmKHRoaXMucmV2ZXJzZWQ9ITApLHRoaXMucmVtb3ZlUGxvdExpbmU9dGhpcy5yZW1vdmVQbG90QmFuZD10aGlzLnJlbW92ZVBsb3RCYW5kT3JMaW5lO2ZvcihmIGluIGQpTih0aGlzLGYsZFtmXSk7dGhpcy5pc0xvZyYmKHRoaXMudmFsMmxpbj16YSx0aGlzLmxpbjJ2YWw9a2EpfSxzZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW9ucz13KHRoaXMuZGVmYXVsdE9wdGlvbnMsdGhpcy5pc1hBeGlzP3t9OnRoaXMuZGVmYXVsdFlBeGlzT3B0aW9ucyxbdGhpcy5kZWZhdWx0VG9wQXhpc09wdGlvbnMsdGhpcy5kZWZhdWx0UmlnaHRBeGlzT3B0aW9ucyx0aGlzLmRlZmF1bHRCb3R0b21BeGlzT3B0aW9ucyx0aGlzLmRlZmF1bHRMZWZ0QXhpc09wdGlvbnNdW3RoaXMuc2lkZV0sdyhFW3RoaXMuY29sbF0sYSkpfSxkZWZhdWx0TGFiZWxGb3JtYXR0ZXI6ZnVuY3Rpb24oKXt2YXIgZyxhPXRoaXMuYXhpcyxiPXRoaXMudmFsdWUsYz1hLmNhdGVnb3JpZXMsZD10aGlzLmRhdGVUaW1lTGFiZWxGb3JtYXQsZT1FLmxhbmcubnVtZXJpY1N5bWJvbHMsZj1lJiZlLmxlbmd0aCxoPWEub3B0aW9ucy5sYWJlbHMuZm9ybWF0LGE9YS5pc0xvZz9iOmEudGlja0ludGVydmFsO2lmKGgpZz1KYShoLHRoaXMpO2Vsc2UgaWYoYylnPWI7ZWxzZSBpZihkKWc9Y2IoZCxiKTtlbHNlIGlmKGYmJmE+PTFlMylmb3IoO2YtLSYmZz09PXU7KWM9TWF0aC5wb3coMWUzLGYrMSksYT49YyYmbnVsbCE9PWVbZl0mJihnPUJhKGIvYywtMSkrZVtmXSk7cmV0dXJuIGc9PT11JiYoZz1RKGIpPj0xZTQ/QmEoYiwwKTpCYShiLC0xLHUsIiIpKSxnfSxnZXRTZXJpZXNFeHRyZW1lczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0O2EuaGFzVmlzaWJsZVNlcmllcz0hMSxhLmRhdGFNaW49YS5kYXRhTWF4PWEuaWdub3JlTWluUGFkZGluZz1hLmlnbm9yZU1heFBhZGRpbmc9bnVsbCxhLmJ1aWxkU3RhY2tzJiZhLmJ1aWxkU3RhY2tzKCkscShhLnNlcmllcyxmdW5jdGlvbihjKXtpZihjLnZpc2libGV8fCFiLm9wdGlvbnMuY2hhcnQuaWdub3JlSGlkZGVuU2VyaWVzKXt2YXIgZDtkPWMub3B0aW9ucy50aHJlc2hvbGQ7dmFyIGU7YS5oYXNWaXNpYmxlU2VyaWVzPSEwLGEuaXNMb2cmJjA+PWQmJihkPW51bGwpLGEuaXNYQXhpcz8oZD1jLnhEYXRhLGQubGVuZ3RoJiYoYS5kYXRhTWluPUwocChhLmRhdGFNaW4sZFswXSksT2EoZCkpLGEuZGF0YU1heD10KHAoYS5kYXRhTWF4LGRbMF0pLENhKGQpKSkpOihjLmdldEV4dHJlbWVzKCksZT1jLmRhdGFNYXgsYz1jLmRhdGFNaW4scyhjKSYmcyhlKSYmKGEuZGF0YU1pbj1MKHAoYS5kYXRhTWluLGMpLGMpLGEuZGF0YU1heD10KHAoYS5kYXRhTWF4LGUpLGUpKSxzKGQpJiYoYS5kYXRhTWluPj1kPyhhLmRhdGFNaW49ZCxhLmlnbm9yZU1pblBhZGRpbmc9ITApOmEuZGF0YU1heDxkJiYoYS5kYXRhTWF4PWQsYS5pZ25vcmVNYXhQYWRkaW5nPSEwKSkpfX0pfSx0cmFuc2xhdGU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPTEsaD0wLGk9ZD90aGlzLm9sZFRyYW5zQTp0aGlzLnRyYW5zQSxkPWQ/dGhpcy5vbGRNaW46dGhpcy5taW4saj10aGlzLm1pblBpeGVsUGFkZGluZyxlPSh0aGlzLm9wdGlvbnMub3JkaW5hbHx8dGhpcy5pc0xvZyYmZSkmJnRoaXMubGluMnZhbDtyZXR1cm4gaXx8KGk9dGhpcy50cmFuc0EpLGMmJihnKj0tMSxoPXRoaXMubGVuKSx0aGlzLnJldmVyc2VkJiYoZyo9LTEsaC09ZyoodGhpcy5zZWN0b3J8fHRoaXMubGVuKSksYj8oYT1hKmcraCxhLT1qLGE9YS9pK2QsZSYmKGE9dGhpcy5saW4ydmFsKGEpKSk6KGUmJihhPXRoaXMudmFsMmxpbihhKSksImJldHdlZW4iPT09ZiYmKGY9LjUpLGE9ZyooYS1kKSppK2grZypqKyhqYShmKT9pKmYqdGhpcy5wb2ludFJhbmdlOjApKSxhfSx0b1BpeGVsczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRyYW5zbGF0ZShhLCExLCF0aGlzLmhvcml6LG51bGwsITApKyhiPzA6dGhpcy5wb3MpfSx0b1ZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudHJhbnNsYXRlKGEtKGI/MDp0aGlzLnBvcyksITAsIXRoaXMuaG9yaXosbnVsbCwhMCl9LGdldFBsb3RMaW5lUGF0aDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBpLGosbixmPXRoaXMuY2hhcnQsZz10aGlzLmxlZnQsaD10aGlzLnRvcCxrPWMmJmYub2xkQ2hhcnRIZWlnaHR8fGYuY2hhcnRIZWlnaHQsbD1jJiZmLm9sZENoYXJ0V2lkdGh8fGYuY2hhcnRXaWR0aDtyZXR1cm4gaT10aGlzLnRyYW5zQixlPXAoZSx0aGlzLnRyYW5zbGF0ZShhLG51bGwsbnVsbCxjKSksYT1jPXYoZStpKSxpPWo9dihrLWUtaSksaXNOYU4oZSk/bj0hMDp0aGlzLmhvcml6PyhpPWgsaj1rLXRoaXMuYm90dG9tLChnPmF8fGE+Zyt0aGlzLndpZHRoKSYmKG49ITApKTooYT1nLGM9bC10aGlzLnJpZ2h0LChoPml8fGk+aCt0aGlzLmhlaWdodCkmJihuPSEwKSksbiYmIWQ/bnVsbDpmLnJlbmRlcmVyLmNyaXNwTGluZShbIk0iLGEsaSwiTCIsYyxqXSxifHwxKX0sZ2V0TGluZWFyVGlja1Bvc2l0aW9uczpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1lYShVKGIvYSkqYSksZj1lYShMYShjL2EpKmEpLGc9W107aWYoYj09PWMmJmphKGIpKXJldHVybltiXTtmb3IoYj1lO2Y+PWImJihnLnB1c2goYiksYj1lYShiK2EpLGIhPT1kKTspZD1iO3JldHVybiBnfSxnZXRNaW5vclRpY2tQb3NpdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZSxhPXRoaXMub3B0aW9ucyxiPXRoaXMudGlja1Bvc2l0aW9ucyxjPXRoaXMubWlub3JUaWNrSW50ZXJ2YWwsZD1bXTtpZih0aGlzLmlzTG9nKWZvcihlPWIubGVuZ3RoLGE9MTtlPmE7YSsrKWQ9ZC5jb25jYXQodGhpcy5nZXRMb2dUaWNrUG9zaXRpb25zKGMsYlthLTFdLGJbYV0sITApKTtlbHNlIGlmKHRoaXMuaXNEYXRldGltZUF4aXMmJiJhdXRvIj09PWEubWlub3JUaWNrSW50ZXJ2YWwpZD1kLmNvbmNhdCh0aGlzLmdldFRpbWVUaWNrcyh0aGlzLm5vcm1hbGl6ZVRpbWVUaWNrSW50ZXJ2YWwoYyksdGhpcy5taW4sdGhpcy5tYXgsYS5zdGFydE9mV2VlaykpLGRbMF08dGhpcy5taW4mJmQuc2hpZnQoKTtlbHNlIGZvcihiPXRoaXMubWluKyhiWzBdLXRoaXMubWluKSVjO2I8PXRoaXMubWF4O2IrPWMpZC5wdXNoKGIpO3JldHVybiBkfSxhZGp1c3RGb3JNaW5SYW5nZTpmdW5jdGlvbigpe3ZhciBkLGYsZyxoLGksaixhPXRoaXMub3B0aW9ucyxiPXRoaXMubWluLGM9dGhpcy5tYXgsZT10aGlzLmRhdGFNYXgtdGhpcy5kYXRhTWluPj10aGlzLm1pblJhbmdlO2lmKHRoaXMuaXNYQXhpcyYmdGhpcy5taW5SYW5nZT09PXUmJiF0aGlzLmlzTG9nJiYocyhhLm1pbil8fHMoYS5tYXgpP3RoaXMubWluUmFuZ2U9bnVsbDoocSh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXtmb3IoaT1hLnhEYXRhLGc9aj1hLnhJbmNyZW1lbnQ/MTppLmxlbmd0aC0xO2c+MDtnLS0paD1pW2ddLWlbZy0xXSwoZj09PXV8fGY+aCkmJihmPWgpfSksdGhpcy5taW5SYW5nZT1MKDUqZix0aGlzLmRhdGFNYXgtdGhpcy5kYXRhTWluKSkpLGMtYjx0aGlzLm1pblJhbmdlKXt2YXIgaz10aGlzLm1pblJhbmdlO2Q9KGstYytiKS8yLGQ9W2ItZCxwKGEubWluLGItZCldLGUmJihkWzJdPXRoaXMuZGF0YU1pbiksYj1DYShkKSxjPVtiK2sscChhLm1heCxiK2spXSxlJiYoY1syXT10aGlzLmRhdGFNYXgpLGM9T2EoYyksaz5jLWImJihkWzBdPWMtayxkWzFdPXAoYS5taW4sYy1rKSxiPUNhKGQpKX10aGlzLm1pbj1iLHRoaXMubWF4PWN9LHNldEF4aXNUcmFuc2xhdGlvbjpmdW5jdGlvbihhKXt2YXIgZSxiPXRoaXMsYz1iLm1heC1iLm1pbixkPWIuYXhpc1BvaW50UmFuZ2V8fDAsZj0wLGc9MCxoPWIubGlua2VkUGFyZW50LGk9ISFiLmNhdGVnb3JpZXMsaj1iLnRyYW5zQTsoYi5pc1hBeGlzfHxpfHxkKSYmKGg/KGY9aC5taW5Qb2ludE9mZnNldCxnPWgucG9pbnRSYW5nZVBhZGRpbmcpOnEoYi5zZXJpZXMsZnVuY3Rpb24oYSl7dmFyIGg9aT8xOmIuaXNYQXhpcz9hLnBvaW50UmFuZ2U6Yi5heGlzUG9pbnRSYW5nZXx8MCxqPWEub3B0aW9ucy5wb2ludFBsYWNlbWVudCxtPWEuY2xvc2VzdFBvaW50UmFuZ2U7aD5jJiYoaD0wKSxkPXQoZCxoKSxmPXQoZixHYShqKT8wOmgvMiksZz10KGcsIm9uIj09PWo/MDpoKSwhYS5ub1NoYXJlZFRvb2x0aXAmJnMobSkmJihlPXMoZSk/TChlLG0pOm0pfSksaD1iLm9yZGluYWxTbG9wZSYmZT9iLm9yZGluYWxTbG9wZS9lOjEsYi5taW5Qb2ludE9mZnNldD1mKj1oLGIucG9pbnRSYW5nZVBhZGRpbmc9Zyo9aCxiLnBvaW50UmFuZ2U9TChkLGMpLGIuY2xvc2VzdFBvaW50UmFuZ2U9ZSksYSYmKGIub2xkVHJhbnNBPWopLGIudHJhbnNsYXRpb25TbG9wZT1iLnRyYW5zQT1qPWIubGVuLyhjK2d8fDEpLGIudHJhbnNCPWIuaG9yaXo/Yi5sZWZ0OmIuYm90dG9tLGIubWluUGl4ZWxQYWRkaW5nPWoqZn0sc2V0VGlja1Bvc2l0aW9uczpmdW5jdGlvbihhKXt2YXIgRCxiPXRoaXMsYz1iLmNoYXJ0LGQ9Yi5vcHRpb25zLGU9ZC5zdGFydE9uVGljayxmPWQuZW5kT25UaWNrLGc9Yi5pc0xvZyxoPWIuaXNEYXRldGltZUF4aXMsaT1iLmlzWEF4aXMsaj1iLmlzTGlua2VkLGs9Yi5vcHRpb25zLnRpY2tQb3NpdGlvbmVyLGw9ZC5tYXhQYWRkaW5nLG49ZC5taW5QYWRkaW5nLG09ZC50aWNrSW50ZXJ2YWwsbz1kLm1pblRpY2tJbnRlcnZhbCxZPWQudGlja1BpeGVsSW50ZXJ2YWwsSj1iLmNhdGVnb3JpZXM7aj8oYi5saW5rZWRQYXJlbnQ9Y1tiLmNvbGxdW2QubGlua2VkVG9dLGM9Yi5saW5rZWRQYXJlbnQuZ2V0RXh0cmVtZXMoKSxiLm1pbj1wKGMubWluLGMuZGF0YU1pbiksYi5tYXg9cChjLm1heCxjLmRhdGFNYXgpLGQudHlwZSE9PWIubGlua2VkUGFyZW50Lm9wdGlvbnMudHlwZSYmaGEoMTEsMSkpOihiLm1pbj1wKGIudXNlck1pbixkLm1pbixiLmRhdGFNaW4pLGIubWF4PXAoYi51c2VyTWF4LGQubWF4LGIuZGF0YU1heCkpLGcmJighYSYmTChiLm1pbixwKGIuZGF0YU1pbixiLm1pbikpPD0wJiZoYSgxMCwxKSxiLm1pbj1lYSh6YShiLm1pbikpLGIubWF4PWVhKHphKGIubWF4KSkpLGIucmFuZ2UmJnMoYi5tYXgpJiYoYi51c2VyTWluPWIubWluPXQoYi5taW4sYi5tYXgtYi5yYW5nZSksYi51c2VyTWF4PWIubWF4LGIucmFuZ2U9bnVsbCksYi5iZWZvcmVQYWRkaW5nJiZiLmJlZm9yZVBhZGRpbmcoKSxiLmFkanVzdEZvck1pblJhbmdlKCksSnx8Yi5heGlzUG9pbnRSYW5nZXx8Yi51c2VQZXJjZW50YWdlfHxqfHwhcyhiLm1pbil8fCFzKGIubWF4KXx8IShjPWIubWF4LWIubWluKXx8KHMoZC5taW4pfHxzKGIudXNlck1pbil8fCFufHwhKGIuZGF0YU1pbjwwKSYmYi5pZ25vcmVNaW5QYWRkaW5nfHwoYi5taW4tPWMqbikscyhkLm1heCl8fHMoYi51c2VyTWF4KXx8IWx8fCEoYi5kYXRhTWF4PjApJiZiLmlnbm9yZU1heFBhZGRpbmd8fChiLm1heCs9YypsKSksamEoZC5mbG9vcikmJihiLm1pbj10KGIubWluLGQuZmxvb3IpKSxqYShkLmNlaWxpbmcpJiYoYi5tYXg9TChiLm1heCxkLmNlaWxpbmcpKSxiLm1pbj09PWIubWF4fHx2b2lkIDA9PT1iLm1pbnx8dm9pZCAwPT09Yi5tYXg/Yi50aWNrSW50ZXJ2YWw9MTpqJiYhbSYmWT09PWIubGlua2VkUGFyZW50Lm9wdGlvbnMudGlja1BpeGVsSW50ZXJ2YWw/Yi50aWNrSW50ZXJ2YWw9Yi5saW5rZWRQYXJlbnQudGlja0ludGVydmFsOihiLnRpY2tJbnRlcnZhbD1wKG0sSj8xOihiLm1heC1iLm1pbikqWS90KGIubGVuLFkpKSwhcyhtKSYmYi5sZW48WSYmIXRoaXMuaXNSYWRpYWwmJiF0aGlzLmlzTG9nJiYhSiYmZSYmZiYmKEQ9ITAsYi50aWNrSW50ZXJ2YWwvPTQpKSxpJiYhYSYmcShiLnNlcmllcyxmdW5jdGlvbihhKXthLnByb2Nlc3NEYXRhKGIubWluIT09Yi5vbGRNaW58fGIubWF4IT09Yi5vbGRNYXgpfSksYi5zZXRBeGlzVHJhbnNsYXRpb24oITApLGIuYmVmb3JlU2V0VGlja1Bvc2l0aW9ucyYmYi5iZWZvcmVTZXRUaWNrUG9zaXRpb25zKCksYi5wb3N0UHJvY2Vzc1RpY2tJbnRlcnZhbCYmKGIudGlja0ludGVydmFsPWIucG9zdFByb2Nlc3NUaWNrSW50ZXJ2YWwoYi50aWNrSW50ZXJ2YWwpKSxiLnBvaW50UmFuZ2UmJihiLnRpY2tJbnRlcnZhbD10KGIucG9pbnRSYW5nZSxiLnRpY2tJbnRlcnZhbCkpLCFtJiZiLnRpY2tJbnRlcnZhbDxvJiYoYi50aWNrSW50ZXJ2YWw9byksaHx8Z3x8bXx8KGIudGlja0ludGVydmFsPW5iKGIudGlja0ludGVydmFsLG51bGwsbWIoYi50aWNrSW50ZXJ2YWwpLHAoZC5hbGxvd0RlY2ltYWxzLCEoYi50aWNrSW50ZXJ2YWw+MSYmYi50aWNrSW50ZXJ2YWw8NSYmYi5tYXg+MWUzJiZiLm1heDw5OTk5KSkpKSxiLm1pbm9yVGlja0ludGVydmFsPSJhdXRvIj09PWQubWlub3JUaWNrSW50ZXJ2YWwmJmIudGlja0ludGVydmFsP2IudGlja0ludGVydmFsLzU6ZC5taW5vclRpY2tJbnRlcnZhbCxiLnRpY2tQb3NpdGlvbnM9YT1kLnRpY2tQb3NpdGlvbnM/W10uY29uY2F0KGQudGlja1Bvc2l0aW9ucyk6ayYmay5hcHBseShiLFtiLm1pbixiLm1heF0pLGF8fCghYi5vcmRpbmFsUG9zaXRpb25zJiYoYi5tYXgtYi5taW4pL2IudGlja0ludGVydmFsPnQoMipiLmxlbiwyMDApJiZoYSgxOSwhMCksYT1oP2IuZ2V0VGltZVRpY2tzKGIubm9ybWFsaXplVGltZVRpY2tJbnRlcnZhbChiLnRpY2tJbnRlcnZhbCxkLnVuaXRzKSxiLm1pbixiLm1heCxkLnN0YXJ0T2ZXZWVrLGIub3JkaW5hbFBvc2l0aW9ucyxiLmNsb3Nlc3RQb2ludFJhbmdlLCEwKTpnP2IuZ2V0TG9nVGlja1Bvc2l0aW9ucyhiLnRpY2tJbnRlcnZhbCxiLm1pbixiLm1heCk6Yi5nZXRMaW5lYXJUaWNrUG9zaXRpb25zKGIudGlja0ludGVydmFsLGIubWluLGIubWF4KSxEJiZhLnNwbGljZSgxLGEubGVuZ3RoLTIpLGIudGlja1Bvc2l0aW9ucz1hKSxqfHwoZD1hWzBdLGc9YVthLmxlbmd0aC0xXSxoPWIubWluUG9pbnRPZmZzZXR8fDAsZT9iLm1pbj1kOmIubWluLWg+ZCYmYS5zaGlmdCgpLGY/Yi5tYXg9ZzpiLm1heCtoPGcmJmEucG9wKCksMD09PWEubGVuZ3RoJiZzKGQpJiZhLnB1c2goKGcrZCkvMiksMT09PWEubGVuZ3RoJiYoZT1RKGIubWF4KT4xZTEzPzE6LjAwMSxiLm1pbi09ZSxiLm1heCs9ZSkpfSxzZXRNYXhUaWNrczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj1hLm1heFRpY2tzfHx7fSxjPXRoaXMudGlja1Bvc2l0aW9ucyxkPXRoaXMuX21heFRpY2tzS2V5PVt0aGlzLmNvbGwsdGhpcy5wb3MsdGhpcy5sZW5dLmpvaW4oIi0iKTshdGhpcy5pc0xpbmtlZCYmIXRoaXMuaXNEYXRldGltZUF4aXMmJmMmJmMubGVuZ3RoPihiW2RdfHwwKSYmdGhpcy5vcHRpb25zLmFsaWduVGlja3MhPT0hMSYmKGJbZF09Yy5sZW5ndGgpLGEubWF4VGlja3M9Yn0sYWRqdXN0VGlja0Ftb3VudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX21heFRpY2tzS2V5LGI9dGhpcy50aWNrUG9zaXRpb25zLGM9dGhpcy5jaGFydC5tYXhUaWNrcztpZihjJiZjW2FdJiYhdGhpcy5pc0RhdGV0aW1lQXhpcyYmIXRoaXMuY2F0ZWdvcmllcyYmIXRoaXMuaXNMaW5rZWQmJnRoaXMub3B0aW9ucy5hbGlnblRpY2tzIT09ITEmJnRoaXMubWluIT09dSl7dmFyIGQ9dGhpcy50aWNrQW1vdW50LGU9Yi5sZW5ndGg7aWYodGhpcy50aWNrQW1vdW50PWE9Y1thXSxhPmUpe2Zvcig7Yi5sZW5ndGg8YTspYi5wdXNoKGVhKGJbYi5sZW5ndGgtMV0rdGhpcy50aWNrSW50ZXJ2YWwpKTt0aGlzLnRyYW5zQSo9KGUtMSkvKGEtMSksdGhpcy5tYXg9YltiLmxlbmd0aC0xXX1zKGQpJiZhIT09ZCYmKHRoaXMuaXNEaXJ0eT0hMCl9fSxzZXRTY2FsZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGE9dGhpcy5zdGFja3M7aWYodGhpcy5vbGRNaW49dGhpcy5taW4sdGhpcy5vbGRNYXg9dGhpcy5tYXgsdGhpcy5vbGRBeGlzTGVuZ3RoPXRoaXMubGVuLHRoaXMuc2V0QXhpc1NpemUoKSxlPXRoaXMubGVuIT09dGhpcy5vbGRBeGlzTGVuZ3RoLHEodGhpcy5zZXJpZXMsZnVuY3Rpb24oYSl7KGEuaXNEaXJ0eURhdGF8fGEuaXNEaXJ0eXx8YS54QXhpcy5pc0RpcnR5KSYmKGQ9ITApfSksZXx8ZHx8dGhpcy5pc0xpbmtlZHx8dGhpcy5mb3JjZVJlZHJhd3x8dGhpcy51c2VyTWluIT09dGhpcy5vbGRVc2VyTWlufHx0aGlzLnVzZXJNYXghPT10aGlzLm9sZFVzZXJNYXgpe2lmKCF0aGlzLmlzWEF4aXMpZm9yKGIgaW4gYSlmb3IoYyBpbiBhW2JdKWFbYl1bY10udG90YWw9bnVsbCxhW2JdW2NdLmN1bT0wO3RoaXMuZm9yY2VSZWRyYXc9ITEsdGhpcy5nZXRTZXJpZXNFeHRyZW1lcygpLHRoaXMuc2V0VGlja1Bvc2l0aW9ucygpLHRoaXMub2xkVXNlck1pbj10aGlzLnVzZXJNaW4sdGhpcy5vbGRVc2VyTWF4PXRoaXMudXNlck1heCx0aGlzLmlzRGlydHl8fCh0aGlzLmlzRGlydHk9ZXx8dGhpcy5taW4hPT10aGlzLm9sZE1pbnx8dGhpcy5tYXghPT10aGlzLm9sZE1heCl9ZWxzZSBpZighdGhpcy5pc1hBeGlzKXt0aGlzLm9sZFN0YWNrcyYmKGE9dGhpcy5zdGFja3M9dGhpcy5vbGRTdGFja3MpO2ZvcihiIGluIGEpZm9yKGMgaW4gYVtiXSlhW2JdW2NdLmN1bT1hW2JdW2NdLnRvdGFsfXRoaXMuc2V0TWF4VGlja3MoKX0sc2V0RXh0cmVtZXM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLGc9Zi5jaGFydCxjPXAoYywhMCksZT1yKGUse21pbjphLG1heDpifSk7SShmLCJzZXRFeHRyZW1lcyIsZSxmdW5jdGlvbigpe2YudXNlck1pbj1hLGYudXNlck1heD1iLGYuZXZlbnRBcmdzPWUsZi5pc0RpcnR5RXh0cmVtZXM9ITAsYyYmZy5yZWRyYXcoZCl9KX0sem9vbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZGF0YU1pbixkPXRoaXMuZGF0YU1heCxlPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5hbGxvd1pvb21PdXRzaWRlfHwocyhjKSYmYTw9TChjLHAoZS5taW4sYykpJiYoYT11KSxzKGQpJiZiPj10KGQscChlLm1heCxkKSkmJihiPXUpKSx0aGlzLmRpc3BsYXlCdG49YSE9PXV8fGIhPT11LHRoaXMuc2V0RXh0cmVtZXMoYSxiLCExLHUse3RyaWdnZXI6Inpvb20ifSksITB9LHNldEF4aXNTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPXRoaXMub3B0aW9ucyxjPWIub2Zmc2V0TGVmdHx8MCxkPXRoaXMuaG9yaXosZT1wKGIud2lkdGgsYS5wbG90V2lkdGgtYysoYi5vZmZzZXRSaWdodHx8MCkpLGY9cChiLmhlaWdodCxhLnBsb3RIZWlnaHQpLGc9cChiLnRvcCxhLnBsb3RUb3ApLGI9cChiLmxlZnQsYS5wbG90TGVmdCtjKSxjPS8lJC87Yy50ZXN0KGYpJiYoZj1wYXJzZUludChmLDEwKS8xMDAqYS5wbG90SGVpZ2h0KSxjLnRlc3QoZykmJihnPXBhcnNlSW50KGcsMTApLzEwMCphLnBsb3RIZWlnaHQrYS5wbG90VG9wKSx0aGlzLmxlZnQ9Yix0aGlzLnRvcD1nLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD1mLHRoaXMuYm90dG9tPWEuY2hhcnRIZWlnaHQtZi1nLHRoaXMucmlnaHQ9YS5jaGFydFdpZHRoLWUtYix0aGlzLmxlbj10KGQ/ZTpmLDApLHRoaXMucG9zPWQ/YjpnfSxnZXRFeHRyZW1lczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaXNMb2c7cmV0dXJue21pbjphP2VhKGthKHRoaXMubWluKSk6dGhpcy5taW4sbWF4OmE/ZWEoa2EodGhpcy5tYXgpKTp0aGlzLm1heCxkYXRhTWluOnRoaXMuZGF0YU1pbixkYXRhTWF4OnRoaXMuZGF0YU1heCx1c2VyTWluOnRoaXMudXNlck1pbix1c2VyTWF4OnRoaXMudXNlck1heH19LGdldFRocmVzaG9sZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzTG9nLGM9Yj9rYSh0aGlzLm1pbik6dGhpcy5taW4sYj1iP2thKHRoaXMubWF4KTp0aGlzLm1heDtyZXR1cm4gYz5hfHxudWxsPT09YT9hPWM6YT5iJiYoYT1iKSx0aGlzLnRyYW5zbGF0ZShhLDAsMSwwLDEpfSxhdXRvTGFiZWxBbGlnbjpmdW5jdGlvbihhKXtyZXR1cm4gYT0ocChhLDApLTkwKnRoaXMuc2lkZSs3MjApJTM2MCxhPjE1JiYxNjU+YT8icmlnaHQiOmE+MTk1JiYzNDU+YT8ibGVmdCI6ImNlbnRlciJ9LGdldE9mZnNldDpmdW5jdGlvbigpe3ZhciBqLGssbixyLHgseSxBLHosUixhPXRoaXMsYj1hLmNoYXJ0LGM9Yi5yZW5kZXJlcixkPWEub3B0aW9ucyxlPWEudGlja1Bvc2l0aW9ucyxmPWEudGlja3MsZz1hLmhvcml6LGg9YS5zaWRlLGk9Yi5pbnZlcnRlZD9bMSwwLDMsMl1baF06aCxsPTAsbT0wLG89ZC50aXRsZSxZPWQubGFiZWxzLEQ9MCxKPWIuYXhpc09mZnNldCxiPWIuY2xpcE9mZnNldCxDPVstMSwxLDEsLTFdW2hdLHY9MSx3PXAoWS5tYXhTdGFnZ2VyTGluZXMsNSk7aWYoYS5oYXNEYXRhPWo9YS5oYXNWaXNpYmxlU2VyaWVzfHxzKGEubWluKSYmcyhhLm1heCkmJiEhZSxhLnNob3dBeGlzPWs9anx8cChkLnNob3dFbXB0eSwhMCksYS5zdGFnZ2VyTGluZXM9YS5ob3JpeiYmWS5zdGFnZ2VyTGluZXMsYS5heGlzR3JvdXB8fChhLmdyaWRHcm91cD1jLmcoImdyaWQiKS5hdHRyKHt6SW5kZXg6ZC5ncmlkWkluZGV4fHwxfSkuYWRkKCksYS5heGlzR3JvdXA9Yy5nKCJheGlzIikuYXR0cih7ekluZGV4OmQuekluZGV4fHwyfSkuYWRkKCksYS5sYWJlbEdyb3VwPWMuZygiYXhpcy1sYWJlbHMiKS5hdHRyKHt6SW5kZXg6WS56SW5kZXh8fDd9KS5hZGRDbGFzcygiaGlnaGNoYXJ0cy0iK2EuY29sbC50b0xvd2VyQ2FzZSgpKyItbGFiZWxzIikuYWRkKCkpLGp8fGEuaXNMaW5rZWQpe2lmKGEubGFiZWxBbGlnbj1wKFkuYWxpZ258fGEuYXV0b0xhYmVsQWxpZ24oWS5yb3RhdGlvbikpLHEoZSxmdW5jdGlvbihiKXtmW2JdP2ZbYl0uYWRkTGFiZWwoKTpmW2JdPW5ldyBUYShhLGIpfSksYS5ob3JpeiYmIWEuc3RhZ2dlckxpbmVzJiZ3JiYhWS5yb3RhdGlvbil7Zm9yKGo9YS5yZXZlcnNlZD9bXS5jb25jYXQoZSkucmV2ZXJzZSgpOmU7dz52Oyl7Zm9yKHg9W10seT0hMSxyPTA7cjxqLmxlbmd0aDtyKyspQT1qW3JdLHo9KHo9ZltBXS5sYWJlbCYmZltBXS5sYWJlbC5nZXRCQm94KCkpP3oud2lkdGg6MCxSPXIldix6JiYoQT1hLnRyYW5zbGF0ZShBKSx4W1JdIT09dSYmQTx4W1JdJiYoeT0hMCkseFtSXT1BK3opO2lmKCF5KWJyZWFrO3YrK312PjEmJihhLnN0YWdnZXJMaW5lcz12KX1xKGUsZnVuY3Rpb24oYil7KDA9PT1ofHwyPT09aHx8ezE6ImxlZnQiLDM6InJpZ2h0In1baF09PT1hLmxhYmVsQWxpZ24pJiYoRD10KGZbYl0uZ2V0TGFiZWxTaXplKCksRCkpfSksYS5zdGFnZ2VyTGluZXMmJihEKj1hLnN0YWdnZXJMaW5lcyxhLmxhYmVsT2Zmc2V0PUQpfWVsc2UgZm9yKHIgaW4gZilmW3JdLmRlc3Ryb3koKSxkZWxldGUgZltyXTtvJiZvLnRleHQmJm8uZW5hYmxlZCE9PSExJiYoYS5heGlzVGl0bGV8fChhLmF4aXNUaXRsZT1jLnRleHQoby50ZXh0LDAsMCxvLnVzZUhUTUwpLmF0dHIoe3pJbmRleDo3LHJvdGF0aW9uOm8ucm90YXRpb258fDAsYWxpZ246by50ZXh0QWxpZ258fHtsb3c6ImxlZnQiLG1pZGRsZToiY2VudGVyIixoaWdoOiJyaWdodCJ9W28uYWxpZ25dfSkuYWRkQ2xhc3MoImhpZ2hjaGFydHMtIit0aGlzLmNvbGwudG9Mb3dlckNhc2UoKSsiLXRpdGxlIikuY3NzKG8uc3R5bGUpLmFkZChhLmF4aXNHcm91cCksYS5heGlzVGl0bGUuaXNOZXc9ITApLGsmJihsPWEuYXhpc1RpdGxlLmdldEJCb3goKVtnPyJoZWlnaHQiOiJ3aWR0aCJdLG49by5vZmZzZXQsbT1zKG4pPzA6cChvLm1hcmdpbixnPzU6MTApKSxhLmF4aXNUaXRsZVtrPyJzaG93IjoiaGlkZSJdKCkpLGEub2Zmc2V0PUMqcChkLm9mZnNldCxKW2hdKSxjPTI9PT1oP2EudGlja0Jhc2VsaW5lOjAsZz1EK20rKEQmJkMqKGc/cChZLnksYS50aWNrQmFzZWxpbmUrOCk6WS54KS1jKSxhLmF4aXNUaXRsZU1hcmdpbj1wKG4sZyksSltoXT10KEpbaF0sYS5heGlzVGl0bGVNYXJnaW4rbCtDKmEub2Zmc2V0LGcpLGJbaV09dChiW2ldLDIqVShkLmxpbmVXaWR0aC8yKSl9LGdldExpbmVQYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsYz10aGlzLm9wcG9zaXRlLGQ9dGhpcy5vZmZzZXQsZT10aGlzLmhvcml6LGY9dGhpcy5sZWZ0KyhjP3RoaXMud2lkdGg6MCkrZCxkPWIuY2hhcnRIZWlnaHQtdGhpcy5ib3R0b20tKGM/dGhpcy5oZWlnaHQ6MCkrZDtyZXR1cm4gYyYmKGEqPS0xKSxiLnJlbmRlcmVyLmNyaXNwTGluZShbIk0iLGU/dGhpcy5sZWZ0OmYsZT9kOnRoaXMudG9wLCJMIixlP2IuY2hhcnRXaWR0aC10aGlzLnJpZ2h0OmYsZT9kOmIuY2hhcnRIZWlnaHQtdGhpcy5ib3R0b21dLGEpfSxnZXRUaXRsZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ob3JpeixiPXRoaXMubGVmdCxjPXRoaXMudG9wLGQ9dGhpcy5sZW4sZT10aGlzLm9wdGlvbnMudGl0bGUsZj1hP2I6YyxnPXRoaXMub3Bwb3NpdGUsaD10aGlzLm9mZnNldCxpPXkoZS5zdHlsZS5mb250U2l6ZXx8MTIpLGQ9e2xvdzpmKyhhPzA6ZCksbWlkZGxlOmYrZC8yLGhpZ2g6ZisoYT9kOjApfVtlLmFsaWduXSxiPShhP2MrdGhpcy5oZWlnaHQ6YikrKGE/MTotMSkqKGc/LTE6MSkqdGhpcy5heGlzVGl0bGVNYXJnaW4rKDI9PT10aGlzLnNpZGU/aTowKTtyZXR1cm57eDphP2Q6YisoZz90aGlzLndpZHRoOjApK2grKGUueHx8MCkseTphP2ItKGc/dGhpcy5oZWlnaHQ6MCkraDpkKyhlLnl8fDApfX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGosdixBLGE9dGhpcyxiPWEuaG9yaXosYz1hLnJldmVyc2VkLGQ9YS5jaGFydCxlPWQucmVuZGVyZXIsZj1hLm9wdGlvbnMsZz1hLmlzTG9nLGg9YS5pc0xpbmtlZCxpPWEudGlja1Bvc2l0aW9ucyxrPWEuYXhpc1RpdGxlLGw9YS50aWNrcyxuPWEubWlub3JUaWNrcyxtPWEuYWx0ZXJuYXRlQmFuZHMsbz1mLnN0YWNrTGFiZWxzLHA9Zi5hbHRlcm5hdGVHcmlkQ29sb3IsRD1hLnRpY2ttYXJrT2Zmc2V0LEo9Zi5saW5lV2lkdGgsQz1kLmhhc1JlbmRlcmVkJiZzKGEub2xkTWluKSYmIWlzTmFOKGEub2xkTWluKSxyPWEuaGFzRGF0YSx0PWEuc2hvd0F4aXMsdz1mLmxhYmVscy5vdmVyZmxvdyx4PWEuanVzdGlmeUxhYmVscz1iJiZ3IT09ITE7YS5sYWJlbEVkZ2UubGVuZ3RoPTAsYS5qdXN0aWZ5VG9QbG90PSJqdXN0aWZ5Ij09PXcscShbbCxuLG1dLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWFbYl0uaXNBY3RpdmU9ITF9KSwocnx8aCkmJihhLm1pbm9yVGlja0ludGVydmFsJiYhYS5jYXRlZ29yaWVzJiZxKGEuZ2V0TWlub3JUaWNrUG9zaXRpb25zKCksZnVuY3Rpb24oYil7bltiXXx8KG5bYl09bmV3IFRhKGEsYiwibWlub3IiKSksQyYmbltiXS5pc05ldyYmbltiXS5yZW5kZXIobnVsbCwhMCksbltiXS5yZW5kZXIobnVsbCwhMSwxKX0pLGkubGVuZ3RoJiYoaj1pLnNsaWNlKCksKGImJmN8fCFiJiYhYykmJmoucmV2ZXJzZSgpLHgmJihqPWouc2xpY2UoMSkuY29uY2F0KFtqWzBdXSkpLHEoaixmdW5jdGlvbihiLGMpe3gmJihjPWM9PT1qLmxlbmd0aC0xPzA6YysxKSwoIWh8fGI+PWEubWluJiZiPD1hLm1heCkmJihsW2JdfHwobFtiXT1uZXcgVGEoYSxiKSksQyYmbFtiXS5pc05ldyYmbFtiXS5yZW5kZXIoYywhMCwuMSksbFtiXS5yZW5kZXIoYykpfSksRCYmMD09PWEubWluJiYobFstMV18fChsWy0xXT1uZXcgVGEoYSwtMSxudWxsLCEwKSksbFstMV0ucmVuZGVyKC0xKSkpLHAmJnEoaSxmdW5jdGlvbihiLGMpe2MlMj09PTAmJmI8YS5tYXgmJihtW2JdfHwobVtiXT1uZXcgSy5QbG90TGluZU9yQmFuZChhKSksdj1iK0QsQT1pW2MrMV0hPT11P2lbYysxXStEOmEubWF4LG1bYl0ub3B0aW9ucz17ZnJvbTpnP2thKHYpOnYsdG86Zz9rYShBKTpBLGNvbG9yOnB9LG1bYl0ucmVuZGVyKCksbVtiXS5pc0FjdGl2ZT0hMCl9KSxhLl9hZGRlZFBsb3RMQnx8KHEoKGYucGxvdExpbmVzfHxbXSkuY29uY2F0KGYucGxvdEJhbmRzfHxbXSksZnVuY3Rpb24oYil7YS5hZGRQbG90QmFuZE9yTGluZShiKX0pLGEuX2FkZGVkUGxvdExCPSEwKSkscShbbCxuLG1dLGZ1bmN0aW9uKGEpe3ZhciBiLGMsZT1bXSxmPXZhP3ZhLmR1cmF0aW9ufHw1MDA6MCxnPWZ1bmN0aW9uKCl7Zm9yKGM9ZS5sZW5ndGg7Yy0tOylhW2VbY11dJiYhYVtlW2NdXS5pc0FjdGl2ZSYmKGFbZVtjXV0uZGVzdHJveSgpLGRlbGV0ZSBhW2VbY11dKX07Zm9yKGIgaW4gYSlhW2JdLmlzQWN0aXZlfHwoYVtiXS5yZW5kZXIoYiwhMSwwKSxhW2JdLmlzQWN0aXZlPSExLGUucHVzaChiKSk7YSE9PW0mJmQuaGFzUmVuZGVyZWQmJmY/ZiYmc2V0VGltZW91dChnLGYpOmcoKX0pLEomJihiPWEuZ2V0TGluZVBhdGgoSiksYS5heGlzTGluZT9hLmF4aXNMaW5lLmFuaW1hdGUoe2Q6Yn0pOmEuYXhpc0xpbmU9ZS5wYXRoKGIpLmF0dHIoe3N0cm9rZTpmLmxpbmVDb2xvciwic3Ryb2tlLXdpZHRoIjpKLHpJbmRleDo3fSkuYWRkKGEuYXhpc0dyb3VwKSxhLmF4aXNMaW5lW3Q/InNob3ciOiJoaWRlIl0oKSksayYmdCYmKGtbay5pc05ldz8iYXR0ciI6ImFuaW1hdGUiXShhLmdldFRpdGxlUG9zaXRpb24oKSksay5pc05ldz0hMSksbyYmby5lbmFibGVkJiZhLnJlbmRlclN0YWNrVG90YWxzKCksYS5pc0RpcnR5PSExfSxyZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcigpLHEodGhpcy5wbG90TGluZXNBbmRCYW5kcyxmdW5jdGlvbihhKXthLnJlbmRlcigpfSkscSh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXthLmlzRGlydHk9ITB9KX0sZGVzdHJveTpmdW5jdGlvbihhKXt2YXIgZCxiPXRoaXMsYz1iLnN0YWNrcyxlPWIucGxvdExpbmVzQW5kQmFuZHM7YXx8WChiKTtmb3IoZCBpbiBjKVBhKGNbZF0pLGNbZF09bnVsbDtmb3IocShbYi50aWNrcyxiLm1pbm9yVGlja3MsYi5hbHRlcm5hdGVCYW5kc10sZnVuY3Rpb24oYSl7UGEoYSl9KSxhPWUubGVuZ3RoO2EtLTspZVthXS5kZXN0cm95KCk7cSgic3RhY2tUb3RhbEdyb3VwLGF4aXNMaW5lLGF4aXNUaXRsZSxheGlzR3JvdXAsY3Jvc3MsZ3JpZEdyb3VwLGxhYmVsR3JvdXAiLnNwbGl0KCIsIiksZnVuY3Rpb24oYSl7YlthXSYmKGJbYV09YlthXS5kZXN0cm95KCkpfSksdGhpcy5jcm9zcyYmdGhpcy5jcm9zcy5kZXN0cm95KCl9LGRyYXdDcm9zc2hhaXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmNyb3NzaGFpcilpZigocyhiKXx8IXAodGhpcy5jcm9zc2hhaXIuc25hcCwhMCkpPT09ITEpdGhpcy5oaWRlQ3Jvc3NoYWlyKCk7ZWxzZXt2YXIgYyxkPXRoaXMuY3Jvc3NoYWlyLGU9ZC5hbmltYXRpb247cChkLnNuYXAsITApP3MoYikmJihjPXRoaXMuY2hhcnQuaW52ZXJ0ZWQhPXRoaXMuaG9yaXo/Yi5wbG90WDp0aGlzLmxlbi1iLnBsb3RZKTpjPXRoaXMuaG9yaXo/YS5jaGFydFgtdGhpcy5wb3M6dGhpcy5sZW4tYS5jaGFydFkrdGhpcy5wb3MsYz10aGlzLmlzUmFkaWFsP3RoaXMuZ2V0UGxvdExpbmVQYXRoKHRoaXMuaXNYQXhpcz9iLng6cChiLnN0YWNrWSxiLnkpKTp0aGlzLmdldFBsb3RMaW5lUGF0aChudWxsLG51bGwsbnVsbCxudWxsLGMpLG51bGw9PT1jP3RoaXMuaGlkZUNyb3NzaGFpcigpOnRoaXMuY3Jvc3M/dGhpcy5jcm9zcy5hdHRyKHt2aXNpYmlsaXR5OiJ2aXNpYmxlIn0pW2U/ImFuaW1hdGUiOiJhdHRyIl0oe2Q6Y30sZSk6KGU9eyJzdHJva2Utd2lkdGgiOmQud2lkdGh8fDEsc3Ryb2tlOmQuY29sb3J8fCIjQzBDMEMwIix6SW5kZXg6ZC56SW5kZXh8fDJ9LGQuZGFzaFN0eWxlJiYoZS5kYXNoc3R5bGU9ZC5kYXNoU3R5bGUpLHRoaXMuY3Jvc3M9dGhpcy5jaGFydC5yZW5kZXJlci5wYXRoKGMpLmF0dHIoZSkuYWRkKCkpfX0saGlkZUNyb3NzaGFpcjpmdW5jdGlvbigpe3RoaXMuY3Jvc3MmJnRoaXMuY3Jvc3MuaGlkZSgpfX0scihuYS5wcm90b3R5cGUse2dldFBsb3RCYW5kUGF0aDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0UGxvdExpbmVQYXRoKGIpLGQ9dGhpcy5nZXRQbG90TGluZVBhdGgoYSk7cmV0dXJuIGQmJmM/ZC5wdXNoKGNbNF0sY1s1XSxjWzFdLGNbMl0pOmQ9bnVsbCxkfSxhZGRQbG90QmFuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGRQbG90QmFuZE9yTGluZShhLCJwbG90QmFuZHMiKX0sYWRkUGxvdExpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkUGxvdEJhbmRPckxpbmUoYSwicGxvdExpbmVzIil9LGFkZFBsb3RCYW5kT3JMaW5lOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IEsuUGxvdExpbmVPckJhbmQodGhpcyxhKS5yZW5kZXIoKSxkPXRoaXMudXNlck9wdGlvbnM7cmV0dXJuIGMmJihiJiYoZFtiXT1kW2JdfHxbXSxkW2JdLnB1c2goYSkpLHRoaXMucGxvdExpbmVzQW5kQmFuZHMucHVzaChjKSksY30scmVtb3ZlUGxvdEJhbmRPckxpbmU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMucGxvdExpbmVzQW5kQmFuZHMsYz10aGlzLm9wdGlvbnMsZD10aGlzLnVzZXJPcHRpb25zLGU9Yi5sZW5ndGg7ZS0tOyliW2VdLmlkPT09YSYmYltlXS5kZXN0cm95KCk7cShbYy5wbG90TGluZXN8fFtdLGQucGxvdExpbmVzfHxbXSxjLnBsb3RCYW5kc3x8W10sZC5wbG90QmFuZHN8fFtdXSxmdW5jdGlvbihiKXtmb3IoZT1iLmxlbmd0aDtlLS07KWJbZV0uaWQ9PT1hJiZsYShiLGJbZV0pfSl9fSksbmEucHJvdG90eXBlLmdldFRpbWVUaWNrcz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgaCxlPVtdLGY9e30sZz1FLmdsb2JhbC51c2VVVEMsaT1uZXcgRGEoYi1TYSksaj1hLnVuaXRSYW5nZSxrPWEuY291bnQ7aWYocyhiKSl7aj49QS5zZWNvbmQmJihpLnNldE1pbGxpc2Vjb25kcygwKSxpLnNldFNlY29uZHMoaj49QS5taW51dGU/MDprKlUoaS5nZXRTZWNvbmRzKCkvaykpKSxqPj1BLm1pbnV0ZSYmaVtDYl0oaj49QS5ob3VyPzA6aypVKGlbcGJdKCkvaykpLGo+PUEuaG91ciYmaVtEYl0oaj49QS5kYXk/MDprKlUoaVtxYl0oKS9rKSksaj49QS5kYXkmJmlbc2JdKGo+PUEubW9udGg/MTprKlUoaVtYYV0oKS9rKSksaj49QS5tb250aCYmKGlbRWJdKGo+PUEueWVhcj8wOmsqVShpW2ZiXSgpL2spKSxoPWlbZ2JdKCkpLGo+PUEueWVhciYmKGgtPWglayxpW0ZiXShoKSksaj09PUEud2VlayYmaVtzYl0oaVtYYV0oKS1pW3JiXSgpK3AoZCwxKSksYj0xLFNhJiYoaT1uZXcgRGEoaS5nZXRUaW1lKCkrU2EpKSxoPWlbZ2JdKCk7Zm9yKHZhciBkPWkuZ2V0VGltZSgpLGw9aVtmYl0oKSxuPWlbWGFdKCksbT0oQS5kYXkrKGc/U2E6NmU0KmkuZ2V0VGltZXpvbmVPZmZzZXQoKSkpJUEuZGF5O2M+ZDspZS5wdXNoKGQpLGo9PT1BLnllYXI/ZD1lYihoK2IqaywwKTpqPT09QS5tb250aD9kPWViKGgsbCtiKmspOmd8fGohPT1BLmRheSYmaiE9PUEud2Vlaz9kKz1qKms6ZD1lYihoLGwsbitiKmsqKGo9PT1BLmRheT8xOjcpKSxiKys7ZS5wdXNoKGQpLHEod2IoZSxmdW5jdGlvbihhKXtyZXR1cm4gajw9QS5ob3VyJiZhJUEuZGF5PT09bX0pLGZ1bmN0aW9uKGEpe2ZbYV09ImRheSJ9KX1yZXR1cm4gZS5pbmZvPXIoYSx7aGlnaGVyUmFua3M6Zix0b3RhbFJhbmdlOmoqa30pLGV9LG5hLnByb3RvdHlwZS5ub3JtYWxpemVUaW1lVGlja0ludGVydmFsPWZ1bmN0aW9uKGEsYil7dmFyIGcsYz1ifHxbWyJtaWxsaXNlY29uZCIsWzEsMiw1LDEwLDIwLDI1LDUwLDEwMCwyMDAsNTAwXV0sWyJzZWNvbmQiLFsxLDIsNSwxMCwxNSwzMF1dLFsibWludXRlIixbMSwyLDUsMTAsMTUsMzBdXSxbImhvdXIiLFsxLDIsMyw0LDYsOCwxMl1dLFsiZGF5IixbMSwyXV0sWyJ3ZWVrIixbMSwyXV0sWyJtb250aCIsWzEsMiwzLDQsNl1dLFsieWVhciIsbnVsbF1dLGQ9Y1tjLmxlbmd0aC0xXSxlPUFbZFswXV0sZj1kWzFdO2ZvcihnPTA7ZzxjLmxlbmd0aCYmKGQ9Y1tnXSxlPUFbZFswXV0sZj1kWzFdLCEoY1tnKzFdJiZhPD0oZSpmW2YubGVuZ3RoLTFdK0FbY1tnKzFdWzBdXSkvMikpO2crKyk7cmV0dXJuIGU9PT1BLnllYXImJjUqZT5hJiYoZj1bMSwyLDVdKSxjPW5iKGEvZSxmLCJ5ZWFyIj09PWRbMF0/dChtYihhL2UpLDEpOjEpLHt1bml0UmFuZ2U6ZSxjb3VudDpjLHVuaXROYW1lOmRbMF19fSxuYS5wcm90b3R5cGUuZ2V0TG9nVGlja1Bvc2l0aW9ucz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLm9wdGlvbnMsZj10aGlzLmxlbixnPVtdO2lmKGR8fCh0aGlzLl9taW5vckF1dG9JbnRlcnZhbD1udWxsKSxhPj0uNSlhPXYoYSksZz10aGlzLmdldExpbmVhclRpY2tQb3NpdGlvbnMoYSxiLGMpO2Vsc2UgaWYoYT49LjA4KWZvcih2YXIgaCxpLGosayxsLGY9VShiKSxlPWE+LjM/WzEsMiw0XTphPi4xNT9bMSwyLDQsNiw4XTpbMSwyLDMsNCw1LDYsNyw4LDldO2MrMT5mJiYhbDtmKyspZm9yKGk9ZS5sZW5ndGgsaD0wO2k+aCYmIWw7aCsrKWo9emEoa2EoZikqZVtoXSksaj5iJiYoIWR8fGM+PWspJiZrIT09dSYmZy5wdXNoKGspLGs+YyYmKGw9ITApLGs9ajtlbHNlIGI9a2EoYiksYz1rYShjKSxhPWVbZD8ibWlub3JUaWNrSW50ZXJ2YWwiOiJ0aWNrSW50ZXJ2YWwiXSxhPXAoImF1dG8iPT09YT9udWxsOmEsdGhpcy5fbWlub3JBdXRvSW50ZXJ2YWwsKGMtYikqKGUudGlja1BpeGVsSW50ZXJ2YWwvKGQ/NToxKSkvKChkP2YvdGhpcy50aWNrUG9zaXRpb25zLmxlbmd0aDpmKXx8MSkpLGE9bmIoYSxudWxsLG1iKGEpKSxnPVZhKHRoaXMuZ2V0TGluZWFyVGlja1Bvc2l0aW9ucyhhLGIsYyksemEpLGR8fCh0aGlzLl9taW5vckF1dG9JbnRlcnZhbD1hLzUpO3JldHVybiBkfHwodGhpcy50aWNrSW50ZXJ2YWw9YSksZ307dmFyIE5iPUsuVG9vbHRpcD1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O05iLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbihhLGIpe3ZhciBjPWIuYm9yZGVyV2lkdGgsZD1iLnN0eWxlLGU9eShkLnBhZGRpbmcpO3RoaXMuY2hhcnQ9YSx0aGlzLm9wdGlvbnM9Yix0aGlzLmNyb3NzaGFpcnM9W10sdGhpcy5ub3c9e3g6MCx5OjB9LHRoaXMuaXNIaWRkZW49ITAsdGhpcy5sYWJlbD1hLnJlbmRlcmVyLmxhYmVsKCIiLDAsMCxiLnNoYXBlfHwiY2FsbG91dCIsbnVsbCxudWxsLGIudXNlSFRNTCxudWxsLCJ0b29sdGlwIikuYXR0cih7cGFkZGluZzplLGZpbGw6Yi5iYWNrZ3JvdW5kQ29sb3IsInN0cm9rZS13aWR0aCI6YyxyOmIuYm9yZGVyUmFkaXVzLHpJbmRleDo4fSkuY3NzKGQpLmNzcyh7cGFkZGluZzowfSkuYWRkKCkuYXR0cih7eTotOTk5OX0pLGdhfHx0aGlzLmxhYmVsLnNoYWRvdyhiLnNoYWRvdyksdGhpcy5zaGFyZWQ9Yi5zaGFyZWR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsJiYodGhpcy5sYWJlbD10aGlzLmxhYmVsLmRlc3Ryb3koKSksY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy50b29sdGlwVGltZW91dCl9LG1vdmU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcyxmPWUubm93LGc9ZS5vcHRpb25zLmFuaW1hdGlvbiE9PSExJiYhZS5pc0hpZGRlbiYmKFEoYS1mLngpPjF8fFEoYi1mLnkpPjEpLGg9ZS5mb2xsb3dQb2ludGVyfHxlLmxlbj4xO3IoZix7eDpnPygyKmYueCthKS8zOmEseTpnPyhmLnkrYikvMjpiLGFuY2hvclg6aD91Omc/KDIqZi5hbmNob3JYK2MpLzM6YyxhbmNob3JZOmg/dTpnPyhmLmFuY2hvclkrZCkvMjpkfSksZS5sYWJlbC5hdHRyKGYpLGcmJihjbGVhclRpbWVvdXQodGhpcy50b29sdGlwVGltZW91dCksdGhpcy50b29sdGlwVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSYmZS5tb3ZlKGEsYixjLGQpfSwzMikpfSxoaWRlOmZ1bmN0aW9uKGEpe3ZhciBjLGI9dGhpcztjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZXIpLHRoaXMuaXNIaWRkZW58fChjPXRoaXMuY2hhcnQuaG92ZXJQb2ludHMsdGhpcy5oaWRlVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2IubGFiZWwuZmFkZU91dCgpLGIuaXNIaWRkZW49ITB9LHAoYSx0aGlzLm9wdGlvbnMuaGlkZURlbGF5LDUwMCkpLGMmJnEoYyxmdW5jdGlvbihhKXthLnNldFN0YXRlKCl9KSx0aGlzLmNoYXJ0LmhvdmVyUG9pbnRzPW51bGwpfSxnZXRBbmNob3I6ZnVuY3Rpb24oYSxiKXt2YXIgYyxpLGQ9dGhpcy5jaGFydCxlPWQuaW52ZXJ0ZWQsZj1kLnBsb3RUb3AsZz0wLGg9MCxhPXJhKGEpO3JldHVybiBjPWFbMF0udG9vbHRpcFBvcyx0aGlzLmZvbGxvd1BvaW50ZXImJmImJihiLmNoYXJ0WD09PXUmJihiPWQucG9pbnRlci5ub3JtYWxpemUoYikpLGM9W2IuY2hhcnRYLWQucGxvdExlZnQsYi5jaGFydFktZl0pLGN8fChxKGEsZnVuY3Rpb24oYSl7aT1hLnNlcmllcy55QXhpcyxnKz1hLnBsb3RYLGgrPShhLnBsb3RMb3c/KGEucGxvdExvdythLnBsb3RIaWdoKS8yOmEucGxvdFkpKyghZSYmaT9pLnRvcC1mOjApfSksZy89YS5sZW5ndGgsaC89YS5sZW5ndGgsYz1bZT9kLnBsb3RXaWR0aC1oOmcsdGhpcy5zaGFyZWQmJiFlJiZhLmxlbmd0aD4xJiZiP2IuY2hhcnRZLWY6ZT9kLnBsb3RIZWlnaHQtZzpoXSksVmEoYyx2KX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBnLGQ9dGhpcy5jaGFydCxlPXRoaXMuZGlzdGFuY2UsZj17fSxoPVsieSIsZC5jaGFydEhlaWdodCxiLGMucGxvdFkrZC5wbG90VG9wXSxpPVsieCIsZC5jaGFydFdpZHRoLGEsYy5wbG90WCtkLnBsb3RMZWZ0XSxqPWMudHRCZWxvd3x8ZC5pbnZlcnRlZCYmIWMubmVnYXRpdmV8fCFkLmludmVydGVkJiZjLm5lZ2F0aXZlLGs9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGc9ZC1lPmMsYj1iPmQrZStjLGM9ZC1lLWM7aWYoZCs9ZSxqJiZiKWZbYV09ZDtlbHNlIGlmKCFqJiZnKWZbYV09YztlbHNlIGlmKGcpZlthXT1jO2Vsc2V7aWYoIWIpcmV0dXJuITE7ZlthXT1kfX0sbD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gZT5kfHxkPmItZT8hMTp2b2lkKGZbYV09Yy8yPmQ/MTpkPmItYy8yP2ItYy0yOmQtYy8yKX0sbj1mdW5jdGlvbihhKXt2YXIgYj1oO2g9aSxpPWIsZz1hfSxtPWZ1bmN0aW9uKCl7ay5hcHBseSgwLGgpIT09ITE/bC5hcHBseSgwLGkpPT09ITEmJiFnJiYobighMCksbSgpKTpnP2YueD1mLnk9MDoobighMCksbSgpKX07cmV0dXJuKGQuaW52ZXJ0ZWR8fHRoaXMubGVuPjEpJiZuKCksbSgpLGZ9LGRlZmF1bHRGb3JtYXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIGQsYj10aGlzLnBvaW50c3x8cmEodGhpcyksYz1iWzBdLnNlcmllcztyZXR1cm4gZD1bYS50b29sdGlwSGVhZGVyRm9ybWF0dGVyKGJbMF0pXSxxKGIsZnVuY3Rpb24oYSl7Yz1hLnNlcmllcyxkLnB1c2goYy50b29sdGlwRm9ybWF0dGVyJiZjLnRvb2x0aXBGb3JtYXR0ZXIoYSl8fGEucG9pbnQudG9vbHRpcEZvcm1hdHRlcihjLnRvb2x0aXBPcHRpb25zLnBvaW50Rm9ybWF0KSl9KSxkLnB1c2goYS5vcHRpb25zLmZvb3RlckZvcm1hdHx8IiIpLGQuam9pbigiIil9LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgZixnLGksYz10aGlzLmNoYXJ0LGQ9dGhpcy5sYWJlbCxlPXRoaXMub3B0aW9ucyxoPXt9LGo9W107aT1lLmZvcm1hdHRlcnx8dGhpcy5kZWZhdWx0Rm9ybWF0dGVyO3ZhciBrLGg9Yy5ob3ZlclBvaW50cyxsPXRoaXMuc2hhcmVkO2NsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lciksdGhpcy5mb2xsb3dQb2ludGVyPXJhKGEpWzBdLnNlcmllcy50b29sdGlwT3B0aW9ucy5mb2xsb3dQb2ludGVyLGc9dGhpcy5nZXRBbmNob3IoYSxiKSxmPWdbMF0sZz1nWzFdLCFsfHxhLnNlcmllcyYmYS5zZXJpZXMubm9TaGFyZWRUb29sdGlwP2g9YS5nZXRMYWJlbENvbmZpZygpOihjLmhvdmVyUG9pbnRzPWEsaCYmcShoLGZ1bmN0aW9uKGEpe2Euc2V0U3RhdGUoKX0pLHEoYSxmdW5jdGlvbihhKXthLnNldFN0YXRlKCJob3ZlciIpLGoucHVzaChhLmdldExhYmVsQ29uZmlnKCkpfSksaD17eDphWzBdLmNhdGVnb3J5LHk6YVswXS55fSxoLnBvaW50cz1qLHRoaXMubGVuPWoubGVuZ3RoLGE9YVswXSksaT1pLmNhbGwoaCx0aGlzKSxoPWEuc2VyaWVzLHRoaXMuZGlzdGFuY2U9cChoLnRvb2x0aXBPcHRpb25zLmRpc3RhbmNlLDE2KSxpPT09ITE/dGhpcy5oaWRlKCk6KHRoaXMuaXNIaWRkZW4mJihiYihkKSxkLmF0dHIoIm9wYWNpdHkiLDEpLnNob3coKSksZC5hdHRyKHt0ZXh0Oml9KSxrPWUuYm9yZGVyQ29sb3J8fGEuY29sb3J8fGguY29sb3J8fCIjNjA2MDYwIixkLmF0dHIoe3N0cm9rZTprfSksdGhpcy51cGRhdGVQb3NpdGlvbih7cGxvdFg6ZixwbG90WTpnLG5lZ2F0aXZlOmEubmVnYXRpdmUsdHRCZWxvdzphLnR0QmVsb3d9KSx0aGlzLmlzSGlkZGVuPSExKSxJKGMsInRvb2x0aXBSZWZyZXNoIix7dGV4dDppLHg6ZitjLnBsb3RMZWZ0LHk6ZytjLnBsb3RUb3AsYm9yZGVyQ29sb3I6a30pfSx1cGRhdGVQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9dGhpcy5sYWJlbCxjPSh0aGlzLm9wdGlvbnMucG9zaXRpb25lcnx8dGhpcy5nZXRQb3NpdGlvbikuY2FsbCh0aGlzLGMud2lkdGgsYy5oZWlnaHQsYSk7dGhpcy5tb3ZlKHYoYy54KSx2KGMueSksYS5wbG90WCtiLnBsb3RMZWZ0LGEucGxvdFkrYi5wbG90VG9wKX0sdG9vbHRpcEhlYWRlckZvcm1hdHRlcjpmdW5jdGlvbihhKXt2YXIgaCxiPWEuc2VyaWVzLGM9Yi50b29sdGlwT3B0aW9ucyxkPWMuZGF0ZVRpbWVMYWJlbEZvcm1hdHMsZT1jLnhEYXRlRm9ybWF0LGY9Yi54QXhpcyxnPWYmJiJkYXRldGltZSI9PT1mLm9wdGlvbnMudHlwZSYmamEoYS5rZXkpLGM9Yy5oZWFkZXJGb3JtYXQsZj1mJiZmLmNsb3Nlc3RQb2ludFJhbmdlO2lmKGcmJiFlKXtpZihmKXtmb3IoaCBpbiBBKWlmKEFbaF0+PWZ8fEFbaF08PUEuZGF5JiZhLmtleSVBW2hdPjApe2U9ZFtoXTticmVha319ZWxzZSBlPWQuZGF5O2U9ZXx8ZC55ZWFyfXJldHVybiBnJiZlJiYoYz1jLnJlcGxhY2UoIntwb2ludC5rZXl9Iiwie3BvaW50LmtleToiK2UrIn0iKSksSmEoYyx7cG9pbnQ6YSxzZXJpZXM6Yn0pfX07dmFyIHBhOyRhPXguZG9jdW1lbnRFbGVtZW50Lm9udG91Y2hzdGFydCE9PXU7dmFyIFdhPUsuUG9pbnRlcj1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChhLGIpfTtpZihXYS5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZixjPWIuY2hhcnQsZD1jLmV2ZW50cyxlPWdhPyIiOmMuem9vbVR5cGUsYz1hLmludmVydGVkO3RoaXMub3B0aW9ucz1iLHRoaXMuY2hhcnQ9YSx0aGlzLnpvb21YPWY9L3gvLnRlc3QoZSksdGhpcy56b29tWT1lPS95Ly50ZXN0KGUpLHRoaXMuem9vbUhvcj1mJiYhY3x8ZSYmYyx0aGlzLnpvb21WZXJ0PWUmJiFjfHxmJiZjLHRoaXMuaGFzWm9vbT1mfHxlLHRoaXMucnVuQ2hhcnRDbGljaz1kJiYhIWQuY2xpY2ssdGhpcy5waW5jaERvd249W10sdGhpcy5sYXN0VmFsaWRUb3VjaD17fSxLLlRvb2x0aXAmJmIudG9vbHRpcC5lbmFibGVkJiYoYS50b29sdGlwPW5ldyBOYihhLGIudG9vbHRpcCksdGhpcy5mb2xsb3dUb3VjaE1vdmU9Yi50b29sdGlwLmZvbGxvd1RvdWNoTW92ZSksdGhpcy5zZXRET01FdmVudHMoKX0sbm9ybWFsaXplOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxhPWF8fHdpbmRvdy5ldmVudCxhPVRiKGEpO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWEuc3JjRWxlbWVudCksZD1hLnRvdWNoZXM/YS50b3VjaGVzLmxlbmd0aD9hLnRvdWNoZXMuaXRlbSgwKTphLmNoYW5nZWRUb3VjaGVzWzBdOmEsYnx8KHRoaXMuY2hhcnRQb3NpdGlvbj1iPVNiKHRoaXMuY2hhcnQuY29udGFpbmVyKSksZC5wYWdlWD09PXU/KGM9dChhLngsYS5jbGllbnRYLWIubGVmdCksZD1hLnkpOihjPWQucGFnZVgtYi5sZWZ0LGQ9ZC5wYWdlWS1iLnRvcCkscihhLHtjaGFydFg6dihjKSxjaGFydFk6dihkKX0pfSxnZXRDb29yZGluYXRlczpmdW5jdGlvbihhKXt2YXIgYj17eEF4aXM6W10seUF4aXM6W119O3JldHVybiBxKHRoaXMuY2hhcnQuYXhlcyxmdW5jdGlvbihjKXtiW2MuaXNYQXhpcz8ieEF4aXMiOiJ5QXhpcyJdLnB1c2goe2F4aXM6Yyx2YWx1ZTpjLnRvVmFsdWUoYVtjLmhvcml6PyJjaGFydFgiOiJjaGFydFkiXSl9KX0pLGJ9LGdldEluZGV4OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQ7cmV0dXJuIGIuaW52ZXJ0ZWQ/Yi5wbG90SGVpZ2h0K2IucGxvdFRvcC1hLmNoYXJ0WTphLmNoYXJ0WC1iLnBsb3RMZWZ0fSxydW5Qb2ludEFjdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGUsZixpLGosYj10aGlzLmNoYXJ0LGM9Yi5zZXJpZXMsZD1iLnRvb2x0aXAsZz1iLmhvdmVyUG9pbnQsaD1iLmhvdmVyU2VyaWVzLGs9Yi5jaGFydFdpZHRoLGw9dGhpcy5nZXRJbmRleChhKTtpZihkJiZ0aGlzLm9wdGlvbnMudG9vbHRpcC5zaGFyZWQmJighaHx8IWgubm9TaGFyZWRUb29sdGlwKSl7Zm9yKGY9W10saT1jLmxlbmd0aCxqPTA7aT5qO2orKyljW2pdLnZpc2libGUmJmNbal0ub3B0aW9ucy5lbmFibGVNb3VzZVRyYWNraW5nIT09ITEmJiFjW2pdLm5vU2hhcmVkVG9vbHRpcCYmY1tqXS5zaW5ndWxhclRvb2x0aXBzIT09ITAmJmNbal0udG9vbHRpcFBvaW50cy5sZW5ndGgmJihlPWNbal0udG9vbHRpcFBvaW50c1tsXSkmJmUuc2VyaWVzJiYoZS5fZGlzdD1RKGwtZS5jbGllbnRYKSxrPUwoayxlLl9kaXN0KSxmLnB1c2goZSkpOwpmb3IoaT1mLmxlbmd0aDtpLS07KWZbaV0uX2Rpc3Q+ayYmZi5zcGxpY2UoaSwxKTtmLmxlbmd0aCYmZlswXS5jbGllbnRYIT09dGhpcy5ob3ZlclgmJihkLnJlZnJlc2goZixhKSx0aGlzLmhvdmVyWD1mWzBdLmNsaWVudFgpfWM9aCYmaC50b29sdGlwT3B0aW9ucy5mb2xsb3dQb2ludGVyLGgmJmgudHJhY2tlciYmIWM/KGU9aC50b29sdGlwUG9pbnRzW2xdKSYmZSE9PWcmJmUub25Nb3VzZU92ZXIoYSk6ZCYmYyYmIWQuaXNIaWRkZW4mJihoPWQuZ2V0QW5jaG9yKFt7fV0sYSksZC51cGRhdGVQb3NpdGlvbih7cGxvdFg6aFswXSxwbG90WTpoWzFdfSkpLGQmJiF0aGlzLl9vbkRvY3VtZW50TW91c2VNb3ZlJiYodGhpcy5fb25Eb2N1bWVudE1vdXNlTW92ZT1mdW5jdGlvbihhKXtXW3BhXSYmV1twYV0ucG9pbnRlci5vbkRvY3VtZW50TW91c2VNb3ZlKGEpfSxOKHgsIm1vdXNlbW92ZSIsdGhpcy5fb25Eb2N1bWVudE1vdXNlTW92ZSkpLHEoYi5heGVzLGZ1bmN0aW9uKGIpe2IuZHJhd0Nyb3NzaGFpcihhLHAoZSxnKSl9KX0scmVzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNoYXJ0LGQ9Yy5ob3ZlclNlcmllcyxlPWMuaG92ZXJQb2ludCxmPWMudG9vbHRpcCxnPWYmJmYuc2hhcmVkP2MuaG92ZXJQb2ludHM6ZTsoYT1hJiZmJiZnKSYmcmEoZylbMF0ucGxvdFg9PT11JiYoYT0hMSksYT8oZi5yZWZyZXNoKGcpLGUmJmUuc2V0U3RhdGUoZS5zdGF0ZSwhMCkpOihlJiZlLm9uTW91c2VPdXQoKSxkJiZkLm9uTW91c2VPdXQoKSxmJiZmLmhpZGUoYiksdGhpcy5fb25Eb2N1bWVudE1vdXNlTW92ZSYmKFgoeCwibW91c2Vtb3ZlIix0aGlzLl9vbkRvY3VtZW50TW91c2VNb3ZlKSx0aGlzLl9vbkRvY3VtZW50TW91c2VNb3ZlPW51bGwpLHEoYy5heGVzLGZ1bmN0aW9uKGEpe2EuaGlkZUNyb3NzaGFpcigpfSksdGhpcy5ob3Zlclg9bnVsbCl9LHNjYWxlR3JvdXBzOmZ1bmN0aW9uKGEsYil7dmFyIGQsYz10aGlzLmNoYXJ0O3EoYy5zZXJpZXMsZnVuY3Rpb24oZSl7ZD1hfHxlLmdldFBsb3RCb3goKSxlLnhBeGlzJiZlLnhBeGlzLnpvb21FbmFibGVkJiYoZS5ncm91cC5hdHRyKGQpLGUubWFya2VyR3JvdXAmJihlLm1hcmtlckdyb3VwLmF0dHIoZCksZS5tYXJrZXJHcm91cC5jbGlwKGI/Yy5jbGlwUmVjdDpudWxsKSksZS5kYXRhTGFiZWxzR3JvdXAmJmUuZGF0YUxhYmVsc0dyb3VwLmF0dHIoZCkpfSksYy5jbGlwUmVjdC5hdHRyKGJ8fGMuY2xpcEJveCl9LGRyYWdTdGFydDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0O2IubW91c2VJc0Rvd249YS50eXBlLGIuY2FuY2VsQ2xpY2s9ITEsYi5tb3VzZURvd25YPXRoaXMubW91c2VEb3duWD1hLmNoYXJ0WCxiLm1vdXNlRG93blk9dGhpcy5tb3VzZURvd25ZPWEuY2hhcnRZfSxkcmFnOmZ1bmN0aW9uKGEpe3ZhciBsLGI9dGhpcy5jaGFydCxjPWIub3B0aW9ucy5jaGFydCxkPWEuY2hhcnRYLGU9YS5jaGFydFksZj10aGlzLnpvb21Ib3IsZz10aGlzLnpvb21WZXJ0LGg9Yi5wbG90TGVmdCxpPWIucGxvdFRvcCxqPWIucGxvdFdpZHRoLGs9Yi5wbG90SGVpZ2h0LG49dGhpcy5tb3VzZURvd25YLG09dGhpcy5tb3VzZURvd25ZLG89Yy5wYW5LZXkmJmFbYy5wYW5LZXkrIktleSJdO2g+ZD9kPWg6ZD5oK2omJihkPWgraiksaT5lP2U9aTplPmkrayYmKGU9aStrKSx0aGlzLmhhc0RyYWdnZWQ9TWF0aC5zcXJ0KE1hdGgucG93KG4tZCwyKStNYXRoLnBvdyhtLWUsMikpLHRoaXMuaGFzRHJhZ2dlZD4xMCYmKGw9Yi5pc0luc2lkZVBsb3Qobi1oLG0taSksYi5oYXNDYXJ0ZXNpYW5TZXJpZXMmJih0aGlzLnpvb21YfHx0aGlzLnpvb21ZKSYmbCYmIW8mJiF0aGlzLnNlbGVjdGlvbk1hcmtlciYmKHRoaXMuc2VsZWN0aW9uTWFya2VyPWIucmVuZGVyZXIucmVjdChoLGksZj8xOmosZz8xOmssMCkuYXR0cih7ZmlsbDpjLnNlbGVjdGlvbk1hcmtlckZpbGx8fCJyZ2JhKDY5LDExNCwxNjcsMC4yNSkiLHpJbmRleDo3fSkuYWRkKCkpLHRoaXMuc2VsZWN0aW9uTWFya2VyJiZmJiYoZC09bix0aGlzLnNlbGVjdGlvbk1hcmtlci5hdHRyKHt3aWR0aDpRKGQpLHg6KGQ+MD8wOmQpK259KSksdGhpcy5zZWxlY3Rpb25NYXJrZXImJmcmJihkPWUtbSx0aGlzLnNlbGVjdGlvbk1hcmtlci5hdHRyKHtoZWlnaHQ6UShkKSx5OihkPjA/MDpkKSttfSkpLGwmJiF0aGlzLnNlbGVjdGlvbk1hcmtlciYmYy5wYW5uaW5nJiZiLnBhbihhLGMucGFubmluZykpfSxkcm9wOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsYz10aGlzLmhhc1BpbmNoZWQ7aWYodGhpcy5zZWxlY3Rpb25NYXJrZXIpe3ZhciBqLGQ9e3hBeGlzOltdLHlBeGlzOltdLG9yaWdpbmFsRXZlbnQ6YS5vcmlnaW5hbEV2ZW50fHxhfSxlPXRoaXMuc2VsZWN0aW9uTWFya2VyLGY9ZS5hdHRyP2UuYXR0cigieCIpOmUueCxnPWUuYXR0cj9lLmF0dHIoInkiKTplLnksaD1lLmF0dHI/ZS5hdHRyKCJ3aWR0aCIpOmUud2lkdGgsaT1lLmF0dHI/ZS5hdHRyKCJoZWlnaHQiKTplLmhlaWdodDsodGhpcy5oYXNEcmFnZ2VkfHxjKSYmKHEoYi5heGVzLGZ1bmN0aW9uKGIpe2lmKGIuem9vbUVuYWJsZWQpe3ZhciBjPWIuaG9yaXosZT0idG91Y2hlbmQiPT09YS50eXBlP2IubWluUGl4ZWxQYWRkaW5nOjAsbT1iLnRvVmFsdWUoKGM/ZjpnKStlKSxjPWIudG9WYWx1ZSgoYz9mK2g6ZytpKS1lKTshaXNOYU4obSkmJiFpc05hTihjKSYmKGRbYi5jb2xsXS5wdXNoKHtheGlzOmIsbWluOkwobSxjKSxtYXg6dChtLGMpfSksaj0hMCl9fSksaiYmSShiLCJzZWxlY3Rpb24iLGQsZnVuY3Rpb24oYSl7Yi56b29tKHIoYSxjP3thbmltYXRpb246ITF9Om51bGwpKX0pKSx0aGlzLnNlbGVjdGlvbk1hcmtlcj10aGlzLnNlbGVjdGlvbk1hcmtlci5kZXN0cm95KCksYyYmdGhpcy5zY2FsZUdyb3VwcygpfWImJihCKGIuY29udGFpbmVyLHtjdXJzb3I6Yi5fY3Vyc29yfSksYi5jYW5jZWxDbGljaz10aGlzLmhhc0RyYWdnZWQ+MTAsYi5tb3VzZUlzRG93bj10aGlzLmhhc0RyYWdnZWQ9dGhpcy5oYXNQaW5jaGVkPSExLHRoaXMucGluY2hEb3duPVtdKX0sb25Db250YWluZXJNb3VzZURvd246ZnVuY3Rpb24oYSl7YT10aGlzLm5vcm1hbGl6ZShhKSxhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCksdGhpcy5kcmFnU3RhcnQoYSl9LG9uRG9jdW1lbnRNb3VzZVVwOmZ1bmN0aW9uKGEpe1dbcGFdJiZXW3BhXS5wb2ludGVyLmRyb3AoYSl9LG9uRG9jdW1lbnRNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPXRoaXMuY2hhcnRQb3NpdGlvbixkPWIuaG92ZXJTZXJpZXMsYT10aGlzLm5vcm1hbGl6ZShhLGMpO2MmJmQmJiF0aGlzLmluQ2xhc3MoYS50YXJnZXQsImhpZ2hjaGFydHMtdHJhY2tlciIpJiYhYi5pc0luc2lkZVBsb3QoYS5jaGFydFgtYi5wbG90TGVmdCxhLmNoYXJ0WS1iLnBsb3RUb3ApJiZ0aGlzLnJlc2V0KCl9LG9uQ29udGFpbmVyTW91c2VMZWF2ZTpmdW5jdGlvbigpe3ZhciBhPVdbcGFdO2EmJihhLnBvaW50ZXIucmVzZXQoKSxhLnBvaW50ZXIuY2hhcnRQb3NpdGlvbj1udWxsKX0sb25Db250YWluZXJNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydDtwYT1iLmluZGV4LGE9dGhpcy5ub3JtYWxpemUoYSksYS5yZXR1cm5WYWx1ZT0hMSwibW91c2Vkb3duIj09PWIubW91c2VJc0Rvd24mJnRoaXMuZHJhZyhhKSwodGhpcy5pbkNsYXNzKGEudGFyZ2V0LCJoaWdoY2hhcnRzLXRyYWNrZXIiKXx8Yi5pc0luc2lkZVBsb3QoYS5jaGFydFgtYi5wbG90TGVmdCxhLmNoYXJ0WS1iLnBsb3RUb3ApKSYmIWIub3Blbk1lbnUmJnRoaXMucnVuUG9pbnRBY3Rpb25zKGEpfSxpbkNsYXNzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjO2E7KXtpZihjPUYoYSwiY2xhc3MiKSl7aWYoLTEhPT1jLmluZGV4T2YoYikpcmV0dXJuITA7aWYoLTEhPT1jLmluZGV4T2YoImhpZ2hjaGFydHMtY29udGFpbmVyIikpcmV0dXJuITF9YT1hLnBhcmVudE5vZGV9fSxvblRyYWNrZXJNb3VzZU91dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LmhvdmVyU2VyaWVzLGM9KGE9YS5yZWxhdGVkVGFyZ2V0fHxhLnRvRWxlbWVudCkmJmEucG9pbnQmJmEucG9pbnQuc2VyaWVzOyFifHxiLm9wdGlvbnMuc3RpY2t5VHJhY2tpbmd8fHRoaXMuaW5DbGFzcyhhLCJoaWdoY2hhcnRzLXRvb2x0aXAiKXx8Yz09PWJ8fGIub25Nb3VzZU91dCgpfSxvbkNvbnRhaW5lckNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsYz1iLmhvdmVyUG9pbnQsZD1iLnBsb3RMZWZ0LGU9Yi5wbG90VG9wLGE9dGhpcy5ub3JtYWxpemUoYSk7YS5jYW5jZWxCdWJibGU9ITAsYi5jYW5jZWxDbGlja3x8KGMmJnRoaXMuaW5DbGFzcyhhLnRhcmdldCwiaGlnaGNoYXJ0cy10cmFja2VyIik/KEkoYy5zZXJpZXMsImNsaWNrIixyKGEse3BvaW50OmN9KSksYi5ob3ZlclBvaW50JiZjLmZpcmVQb2ludEV2ZW50KCJjbGljayIsYSkpOihyKGEsdGhpcy5nZXRDb29yZGluYXRlcyhhKSksYi5pc0luc2lkZVBsb3QoYS5jaGFydFgtZCxhLmNoYXJ0WS1lKSYmSShiLCJjbGljayIsYSkpKX0sc2V0RE9NRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQuY29udGFpbmVyO2Iub25tb3VzZWRvd249ZnVuY3Rpb24oYil7YS5vbkNvbnRhaW5lck1vdXNlRG93bihiKX0sYi5vbm1vdXNlbW92ZT1mdW5jdGlvbihiKXthLm9uQ29udGFpbmVyTW91c2VNb3ZlKGIpfSxiLm9uY2xpY2s9ZnVuY3Rpb24oYil7YS5vbkNvbnRhaW5lckNsaWNrKGIpfSxOKGIsIm1vdXNlbGVhdmUiLGEub25Db250YWluZXJNb3VzZUxlYXZlKSwxPT09YWImJk4oeCwibW91c2V1cCIsYS5vbkRvY3VtZW50TW91c2VVcCksJGEmJihiLm9udG91Y2hzdGFydD1mdW5jdGlvbihiKXthLm9uQ29udGFpbmVyVG91Y2hTdGFydChiKX0sYi5vbnRvdWNobW92ZT1mdW5jdGlvbihiKXthLm9uQ29udGFpbmVyVG91Y2hNb3ZlKGIpfSwxPT09YWImJk4oeCwidG91Y2hlbmQiLGEub25Eb2N1bWVudFRvdWNoRW5kKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYTtYKHRoaXMuY2hhcnQuY29udGFpbmVyLCJtb3VzZWxlYXZlIix0aGlzLm9uQ29udGFpbmVyTW91c2VMZWF2ZSksYWJ8fChYKHgsIm1vdXNldXAiLHRoaXMub25Eb2N1bWVudE1vdXNlVXApLFgoeCwidG91Y2hlbmQiLHRoaXMub25Eb2N1bWVudFRvdWNoRW5kKSksY2xlYXJJbnRlcnZhbCh0aGlzLnRvb2x0aXBUaW1lb3V0KTtmb3IoYSBpbiB0aGlzKXRoaXNbYV09bnVsbH19LHIoSy5Qb2ludGVyLnByb3RvdHlwZSx7cGluY2hUcmFuc2xhdGU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpeyh0aGlzLnpvb21Ib3J8fHRoaXMucGluY2hIb3IpJiZ0aGlzLnBpbmNoVHJhbnNsYXRlRGlyZWN0aW9uKCEwLGEsYixjLGQsZSxmKSwodGhpcy56b29tVmVydHx8dGhpcy5waW5jaFZlcnQpJiZ0aGlzLnBpbmNoVHJhbnNsYXRlRGlyZWN0aW9uKCExLGEsYixjLGQsZSxmKX0scGluY2hUcmFuc2xhdGVEaXJlY3Rpb246ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgbyxwLHgsaT10aGlzLmNoYXJ0LGo9YT8ieCI6InkiLGs9YT8iWCI6IlkiLGw9ImNoYXJ0IitrLG49YT8id2lkdGgiOiJoZWlnaHQiLG09aVsicGxvdCIrKGE/IkxlZnQiOiJUb3AiKV0scT1ofHwxLHI9aS5pbnZlcnRlZCxDPWkuYm91bmRzW2E/ImgiOiJ2Il0sdD0xPT09Yi5sZW5ndGgscz1iWzBdW2xdLHY9Y1swXVtsXSx1PSF0JiZiWzFdW2xdLHc9IXQmJmNbMV1bbF0sYz1mdW5jdGlvbigpeyF0JiZRKHMtdSk+MjAmJihxPWh8fFEodi13KS9RKHMtdSkpLHA9KG0tdikvcStzLG89aVsicGxvdCIrKGE/IldpZHRoIjoiSGVpZ2h0IildL3F9O2MoKSxiPXAsYjxDLm1pbj8oYj1DLm1pbix4PSEwKTpiK28+Qy5tYXgmJihiPUMubWF4LW8seD0hMCkseD8odi09LjgqKHYtZ1tqXVswXSksdHx8KHctPS44Kih3LWdbal1bMV0pKSxjKCkpOmdbal09W3Ysd10scnx8KGZbal09cC1tLGZbbl09byksZj1yPzEvcTpxLGVbbl09byxlW2pdPWIsZFtyP2E/InNjYWxlWSI6InNjYWxlWCI6InNjYWxlIitrXT1xLGRbInRyYW5zbGF0ZSIra109ZiptKyh2LWYqcyl9LHBpbmNoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNoYXJ0LGQ9Yi5waW5jaERvd24sZT1iLmZvbGxvd1RvdWNoTW92ZSxmPWEudG91Y2hlcyxnPWYubGVuZ3RoLGg9Yi5sYXN0VmFsaWRUb3VjaCxpPWIuaGFzWm9vbSxqPWIuc2VsZWN0aW9uTWFya2VyLGs9e30sbD0xPT09ZyYmKGIuaW5DbGFzcyhhLnRhcmdldCwiaGlnaGNoYXJ0cy10cmFja2VyIikmJmMucnVuVHJhY2tlckNsaWNrfHxiLnJ1bkNoYXJ0Q2xpY2spLG49e307KGl8fGUpJiYhbCYmYS5wcmV2ZW50RGVmYXVsdCgpLFZhKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGIubm9ybWFsaXplKGEpfSksInRvdWNoc3RhcnQiPT09YS50eXBlPyhxKGYsZnVuY3Rpb24oYSxiKXtkW2JdPXtjaGFydFg6YS5jaGFydFgsY2hhcnRZOmEuY2hhcnRZfX0pLGgueD1bZFswXS5jaGFydFgsZFsxXSYmZFsxXS5jaGFydFhdLGgueT1bZFswXS5jaGFydFksZFsxXSYmZFsxXS5jaGFydFldLHEoYy5heGVzLGZ1bmN0aW9uKGEpe2lmKGEuem9vbUVuYWJsZWQpe3ZhciBiPWMuYm91bmRzW2EuaG9yaXo/ImgiOiJ2Il0sZD1hLm1pblBpeGVsUGFkZGluZyxlPWEudG9QaXhlbHMocChhLm9wdGlvbnMubWluLGEuZGF0YU1pbikpLGY9YS50b1BpeGVscyhwKGEub3B0aW9ucy5tYXgsYS5kYXRhTWF4KSksZz1MKGUsZiksZT10KGUsZik7Yi5taW49TChhLnBvcyxnLWQpLGIubWF4PXQoYS5wb3MrYS5sZW4sZStkKX19KSxiLnJlcz0hMCk6ZC5sZW5ndGgmJihqfHwoYi5zZWxlY3Rpb25NYXJrZXI9aj1yKHtkZXN0cm95OnNhfSxjLnBsb3RCb3gpKSxiLnBpbmNoVHJhbnNsYXRlKGQsZixrLGosbixoKSxiLmhhc1BpbmNoZWQ9aSxiLnNjYWxlR3JvdXBzKGssbiksIWkmJmUmJjE9PT1nP3RoaXMucnVuUG9pbnRBY3Rpb25zKGIubm9ybWFsaXplKGEpKTpiLnJlcyYmKGIucmVzPSExLHRoaXMucmVzZXQoITEsMCkpKX0sb25Db250YWluZXJUb3VjaFN0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQ7cGE9Yi5pbmRleCwxPT09YS50b3VjaGVzLmxlbmd0aD8oYT10aGlzLm5vcm1hbGl6ZShhKSxiLmlzSW5zaWRlUGxvdChhLmNoYXJ0WC1iLnBsb3RMZWZ0LGEuY2hhcnRZLWIucGxvdFRvcCk/KHRoaXMucnVuUG9pbnRBY3Rpb25zKGEpLHRoaXMucGluY2goYSkpOnRoaXMucmVzZXQoKSk6Mj09PWEudG91Y2hlcy5sZW5ndGgmJnRoaXMucGluY2goYSl9LG9uQ29udGFpbmVyVG91Y2hNb3ZlOmZ1bmN0aW9uKGEpeygxPT09YS50b3VjaGVzLmxlbmd0aHx8Mj09PWEudG91Y2hlcy5sZW5ndGgpJiZ0aGlzLnBpbmNoKGEpfSxvbkRvY3VtZW50VG91Y2hFbmQ6ZnVuY3Rpb24oYSl7V1twYV0mJldbcGFdLnBvaW50ZXIuZHJvcChhKX19KSxHLlBvaW50ZXJFdmVudHx8Ry5NU1BvaW50ZXJFdmVudCl7dmFyIHVhPXt9LHpiPSEhRy5Qb2ludGVyRXZlbnQsWGI9ZnVuY3Rpb24oKXt2YXIgYSxiPVtdO2IuaXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thXX07Zm9yKGEgaW4gdWEpdWEuaGFzT3duUHJvcGVydHkoYSkmJmIucHVzaCh7cGFnZVg6dWFbYV0ucGFnZVgscGFnZVk6dWFbYV0ucGFnZVksdGFyZ2V0OnVhW2FdLnRhcmdldH0pO3JldHVybiBifSxBYj1mdW5jdGlvbihhLGIsYyxkKXthPWEub3JpZ2luYWxFdmVudHx8YSwidG91Y2giIT09YS5wb2ludGVyVHlwZSYmYS5wb2ludGVyVHlwZSE9PWEuTVNQT0lOVEVSX1RZUEVfVE9VQ0h8fCFXW3BhXXx8KGQoYSksZD1XW3BhXS5wb2ludGVyLGRbYl0oe3R5cGU6Yyx0YXJnZXQ6YS5jdXJyZW50VGFyZ2V0LHByZXZlbnREZWZhdWx0OnNhLHRvdWNoZXM6WGIoKX0pKX07cihXYS5wcm90b3R5cGUse29uQ29udGFpbmVyUG9pbnRlckRvd246ZnVuY3Rpb24oYSl7QWIoYSwib25Db250YWluZXJUb3VjaFN0YXJ0IiwidG91Y2hzdGFydCIsZnVuY3Rpb24oYSl7dWFbYS5wb2ludGVySWRdPXtwYWdlWDphLnBhZ2VYLHBhZ2VZOmEucGFnZVksdGFyZ2V0OmEuY3VycmVudFRhcmdldH19KX0sb25Db250YWluZXJQb2ludGVyTW92ZTpmdW5jdGlvbihhKXtBYihhLCJvbkNvbnRhaW5lclRvdWNoTW92ZSIsInRvdWNobW92ZSIsZnVuY3Rpb24oYSl7dWFbYS5wb2ludGVySWRdPXtwYWdlWDphLnBhZ2VYLHBhZ2VZOmEucGFnZVl9LHVhW2EucG9pbnRlcklkXS50YXJnZXR8fCh1YVthLnBvaW50ZXJJZF0udGFyZ2V0PWEuY3VycmVudFRhcmdldCl9KX0sb25Eb2N1bWVudFBvaW50ZXJVcDpmdW5jdGlvbihhKXtBYihhLCJvbkNvbnRhaW5lclRvdWNoRW5kIiwidG91Y2hlbmQiLGZ1bmN0aW9uKGEpe2RlbGV0ZSB1YVthLnBvaW50ZXJJZF19KX0sYmF0Y2hNU0V2ZW50czpmdW5jdGlvbihhKXthKHRoaXMuY2hhcnQuY29udGFpbmVyLHpiPyJwb2ludGVyZG93biI6Ik1TUG9pbnRlckRvd24iLHRoaXMub25Db250YWluZXJQb2ludGVyRG93biksYSh0aGlzLmNoYXJ0LmNvbnRhaW5lcix6Yj8icG9pbnRlcm1vdmUiOiJNU1BvaW50ZXJNb3ZlIix0aGlzLm9uQ29udGFpbmVyUG9pbnRlck1vdmUpLGEoeCx6Yj8icG9pbnRlcnVwIjoiTVNQb2ludGVyVXAiLHRoaXMub25Eb2N1bWVudFBvaW50ZXJVcCl9fSksTmEoV2EucHJvdG90eXBlLCJpbml0IixmdW5jdGlvbihhLGIsYyl7YS5jYWxsKHRoaXMsYixjKSwodGhpcy5oYXNab29tfHx0aGlzLmZvbGxvd1RvdWNoTW92ZSkmJkIoYi5jb250YWluZXIseyItbXMtdG91Y2gtYWN0aW9uIjpQLCJ0b3VjaC1hY3Rpb24iOlB9KX0pLE5hKFdhLnByb3RvdHlwZSwic2V0RE9NRXZlbnRzIixmdW5jdGlvbihhKXthLmFwcGx5KHRoaXMpLCh0aGlzLmhhc1pvb218fHRoaXMuZm9sbG93VG91Y2hNb3ZlKSYmdGhpcy5iYXRjaE1TRXZlbnRzKE4pfSksTmEoV2EucHJvdG90eXBlLCJkZXN0cm95IixmdW5jdGlvbihhKXt0aGlzLmJhdGNoTVNFdmVudHMoWCksYS5jYWxsKHRoaXMpfSl9dmFyIGxiPUsuTGVnZW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0KGEsYil9O2xiLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1iLml0ZW1TdHlsZSxlPXAoYi5wYWRkaW5nLDgpLGY9Yi5pdGVtTWFyZ2luVG9wfHwwO3RoaXMub3B0aW9ucz1iLGIuZW5hYmxlZCYmKGMuaXRlbVN0eWxlPWQsYy5pdGVtSGlkZGVuU3R5bGU9dyhkLGIuaXRlbUhpZGRlblN0eWxlKSxjLml0ZW1NYXJnaW5Ub3A9ZixjLnBhZGRpbmc9ZSxjLmluaXRpYWxJdGVtWD1lLGMuaW5pdGlhbEl0ZW1ZPWUtNSxjLm1heEl0ZW1XaWR0aD0wLGMuY2hhcnQ9YSxjLml0ZW1IZWlnaHQ9MCxjLmxhc3RMaW5lSGVpZ2h0PTAsYy5zeW1ib2xXaWR0aD1wKGIuc3ltYm9sV2lkdGgsMTYpLGMucGFnZXM9W10sYy5yZW5kZXIoKSxOKGMuY2hhcnQsImVuZFJlc2l6ZSIsZnVuY3Rpb24oKXtjLnBvc2l0aW9uQ2hlY2tib3hlcygpfSkpfSxjb2xvcml6ZUl0ZW06ZnVuY3Rpb24oYSxiKXt2YXIgaixjPXRoaXMub3B0aW9ucyxkPWEubGVnZW5kSXRlbSxlPWEubGVnZW5kTGluZSxmPWEubGVnZW5kU3ltYm9sLGc9dGhpcy5pdGVtSGlkZGVuU3R5bGUuY29sb3IsYz1iP2MuaXRlbVN0eWxlLmNvbG9yOmcsaD1iP2EubGVnZW5kQ29sb3J8fGEuY29sb3J8fCIjQ0NDIjpnLGc9YS5vcHRpb25zJiZhLm9wdGlvbnMubWFya2VyLGk9e2ZpbGw6aH07aWYoZCYmZC5jc3Moe2ZpbGw6Yyxjb2xvcjpjfSksZSYmZS5hdHRyKHtzdHJva2U6aH0pLGYpe2lmKGcmJmYuaXNNYXJrZXIpZm9yKGogaW4gaS5zdHJva2U9aCxnPWEuY29udmVydEF0dHJpYnMoZykpZD1nW2pdLGQhPT11JiYoaVtqXT1kKTtmLmF0dHIoaSl9fSxwb3NpdGlvbkl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5zeW1ib2xQYWRkaW5nLGI9IWIucnRsLGQ9YS5fbGVnZW5kSXRlbVBvcyxlPWRbMF0sZD1kWzFdLGY9YS5jaGVja2JveDthLmxlZ2VuZEdyb3VwJiZhLmxlZ2VuZEdyb3VwLnRyYW5zbGF0ZShiP2U6dGhpcy5sZWdlbmRXaWR0aC1lLTIqYy00LGQpLGYmJihmLng9ZSxmLnk9ZCl9LGRlc3Ryb3lJdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hlY2tib3g7cShbImxlZ2VuZEl0ZW0iLCJsZWdlbmRMaW5lIiwibGVnZW5kU3ltYm9sIiwibGVnZW5kR3JvdXAiXSxmdW5jdGlvbihiKXthW2JdJiYoYVtiXT1hW2JdLmRlc3Ryb3koKSl9KSxiJiZRYShhLmNoZWNrYm94KX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JvdXAsYj10aGlzLmJveDtiJiYodGhpcy5ib3g9Yi5kZXN0cm95KCkpLGEmJih0aGlzLmdyb3VwPWEuZGVzdHJveSgpKX0scG9zaXRpb25DaGVja2JveGVzOmZ1bmN0aW9uKGEpe3ZhciBjLGI9dGhpcy5ncm91cC5hbGlnbkF0dHIsZD10aGlzLmNsaXBIZWlnaHR8fHRoaXMubGVnZW5kSGVpZ2h0O2ImJihjPWIudHJhbnNsYXRlWSxxKHRoaXMuYWxsSXRlbXMsZnVuY3Rpb24oZSl7dmFyIGcsZj1lLmNoZWNrYm94O2YmJihnPWMrZi55KyhhfHwwKSszLEIoZix7bGVmdDpiLnRyYW5zbGF0ZVgrZS5jaGVja2JveE9mZnNldCtmLngtMjArInB4Iix0b3A6ZysicHgiLGRpc3BsYXk6Zz5jLTYmJmMrZC02Pmc/IiI6UH0pKX0pKX0scmVuZGVyVGl0bGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhZGRpbmcsYj10aGlzLm9wdGlvbnMudGl0bGUsYz0wO2IudGV4dCYmKHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPXRoaXMuY2hhcnQucmVuZGVyZXIubGFiZWwoYi50ZXh0LGEtMyxhLTQsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLCJsZWdlbmQtdGl0bGUiKS5hdHRyKHt6SW5kZXg6MX0pLmNzcyhiLnN0eWxlKS5hZGQodGhpcy5ncm91cCkpLGE9dGhpcy50aXRsZS5nZXRCQm94KCksYz1hLmhlaWdodCx0aGlzLm9mZnNldFdpZHRoPWEud2lkdGgsdGhpcy5jb250ZW50R3JvdXAuYXR0cih7dHJhbnNsYXRlWTpjfSkpLHRoaXMudGl0bGVIZWlnaHQ9Y30scmVuZGVySXRlbTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9Yi5yZW5kZXJlcixkPXRoaXMub3B0aW9ucyxlPSJob3Jpem9udGFsIj09PWQubGF5b3V0LGY9dGhpcy5zeW1ib2xXaWR0aCxnPWQuc3ltYm9sUGFkZGluZyxoPXRoaXMuaXRlbVN0eWxlLGk9dGhpcy5pdGVtSGlkZGVuU3R5bGUsaj10aGlzLnBhZGRpbmcsaz1lP3AoZC5pdGVtRGlzdGFuY2UsMjApOjAsbD0hZC5ydGwsbj1kLndpZHRoLG09ZC5pdGVtTWFyZ2luQm90dG9tfHwwLG89dGhpcy5pdGVtTWFyZ2luVG9wLHE9dGhpcy5pbml0aWFsSXRlbVgscj1hLmxlZ2VuZEl0ZW0scz1hLnNlcmllcyYmYS5zZXJpZXMuZHJhd0xlZ2VuZFN5bWJvbD9hLnNlcmllczphLEM9cy5vcHRpb25zLEM9dGhpcy5jcmVhdGVDaGVja2JveEZvckl0ZW0mJkMmJkMuc2hvd0NoZWNrYm94LHU9ZC51c2VIVE1MO3J8fChhLmxlZ2VuZEdyb3VwPWMuZygibGVnZW5kLWl0ZW0iKS5hdHRyKHt6SW5kZXg6MX0pLmFkZCh0aGlzLnNjcm9sbEdyb3VwKSxhLmxlZ2VuZEl0ZW09cj1jLnRleHQoZC5sYWJlbEZvcm1hdD9KYShkLmxhYmVsRm9ybWF0LGEpOmQubGFiZWxGb3JtYXR0ZXIuY2FsbChhKSxsP2YrZzotZyx0aGlzLmJhc2VsaW5lfHwwLHUpLmNzcyh3KGEudmlzaWJsZT9oOmkpKS5hdHRyKHthbGlnbjpsPyJsZWZ0IjoicmlnaHQiLHpJbmRleDoyfSkuYWRkKGEubGVnZW5kR3JvdXApLHRoaXMuYmFzZWxpbmV8fCh0aGlzLmJhc2VsaW5lPWMuZm9udE1ldHJpY3MoaC5mb250U2l6ZSxyKS5mKzMrbyxyLmF0dHIoInkiLHRoaXMuYmFzZWxpbmUpKSxzLmRyYXdMZWdlbmRTeW1ib2wodGhpcyxhKSx0aGlzLnNldEl0ZW1FdmVudHMmJnRoaXMuc2V0SXRlbUV2ZW50cyhhLHIsdSxoLGkpLHRoaXMuY29sb3JpemVJdGVtKGEsYS52aXNpYmxlKSxDJiZ0aGlzLmNyZWF0ZUNoZWNrYm94Rm9ySXRlbShhKSksYz1yLmdldEJCb3goKSxmPWEuY2hlY2tib3hPZmZzZXQ9ZC5pdGVtV2lkdGh8fGEubGVnZW5kSXRlbVdpZHRofHxmK2crYy53aWR0aCtrKyhDPzIwOjApLHRoaXMuaXRlbUhlaWdodD1nPXYoYS5sZWdlbmRJdGVtSGVpZ2h0fHxjLmhlaWdodCksZSYmdGhpcy5pdGVtWC1xK2Y+KG58fGIuY2hhcnRXaWR0aC0yKmotcS1kLngpJiYodGhpcy5pdGVtWD1xLHRoaXMuaXRlbVkrPW8rdGhpcy5sYXN0TGluZUhlaWdodCttLHRoaXMubGFzdExpbmVIZWlnaHQ9MCksdGhpcy5tYXhJdGVtV2lkdGg9dCh0aGlzLm1heEl0ZW1XaWR0aCxmKSx0aGlzLmxhc3RJdGVtWT1vK3RoaXMuaXRlbVkrbSx0aGlzLmxhc3RMaW5lSGVpZ2h0PXQoZyx0aGlzLmxhc3RMaW5lSGVpZ2h0KSxhLl9sZWdlbmRJdGVtUG9zPVt0aGlzLml0ZW1YLHRoaXMuaXRlbVldLGU/dGhpcy5pdGVtWCs9ZjoodGhpcy5pdGVtWSs9bytnK20sdGhpcy5sYXN0TGluZUhlaWdodD1nKSx0aGlzLm9mZnNldFdpZHRoPW58fHQoKGU/dGhpcy5pdGVtWC1xLWs6Zikraix0aGlzLm9mZnNldFdpZHRoKX0sZ2V0QWxsSXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gcSh0aGlzLmNoYXJ0LnNlcmllcyxmdW5jdGlvbihiKXt2YXIgYz1iLm9wdGlvbnM7cChjLnNob3dJbkxlZ2VuZCxzKGMubGlua2VkVG8pPyExOnUsITApJiYoYT1hLmNvbmNhdChiLmxlZ2VuZEl0ZW1zfHwoInBvaW50Ij09PWMubGVnZW5kVHlwZT9iLmRhdGE6YikpKX0pLGF9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBlLGYsZyxoLGE9dGhpcyxiPWEuY2hhcnQsYz1iLnJlbmRlcmVyLGQ9YS5ncm91cCxpPWEuYm94LGo9YS5vcHRpb25zLGs9YS5wYWRkaW5nLGw9ai5ib3JkZXJXaWR0aCxuPWouYmFja2dyb3VuZENvbG9yO2EuaXRlbVg9YS5pbml0aWFsSXRlbVgsYS5pdGVtWT1hLmluaXRpYWxJdGVtWSxhLm9mZnNldFdpZHRoPTAsYS5sYXN0SXRlbVk9MCxkfHwoYS5ncm91cD1kPWMuZygibGVnZW5kIikuYXR0cih7ekluZGV4Ojd9KS5hZGQoKSxhLmNvbnRlbnRHcm91cD1jLmcoKS5hdHRyKHt6SW5kZXg6MX0pLmFkZChkKSxhLnNjcm9sbEdyb3VwPWMuZygpLmFkZChhLmNvbnRlbnRHcm91cCkpLGEucmVuZGVyVGl0bGUoKSxlPWEuZ2V0QWxsSXRlbXMoKSxvYihlLGZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3B0aW9ucyYmYS5vcHRpb25zLmxlZ2VuZEluZGV4fHwwKS0oYi5vcHRpb25zJiZiLm9wdGlvbnMubGVnZW5kSW5kZXh8fDApfSksai5yZXZlcnNlZCYmZS5yZXZlcnNlKCksYS5hbGxJdGVtcz1lLGEuZGlzcGxheT1mPSEhZS5sZW5ndGgscShlLGZ1bmN0aW9uKGIpe2EucmVuZGVySXRlbShiKX0pLGc9ai53aWR0aHx8YS5vZmZzZXRXaWR0aCxoPWEubGFzdEl0ZW1ZK2EubGFzdExpbmVIZWlnaHQrYS50aXRsZUhlaWdodCxoPWEuaGFuZGxlT3ZlcmZsb3coaCksKGx8fG4pJiYoZys9ayxoKz1rLGk/Zz4wJiZoPjAmJihpW2kuaXNOZXc/ImF0dHIiOiJhbmltYXRlIl0oaS5jcmlzcCh7d2lkdGg6ZyxoZWlnaHQ6aH0pKSxpLmlzTmV3PSExKTooYS5ib3g9aT1jLnJlY3QoMCwwLGcsaCxqLmJvcmRlclJhZGl1cyxsfHwwKS5hdHRyKHtzdHJva2U6ai5ib3JkZXJDb2xvciwic3Ryb2tlLXdpZHRoIjpsfHwwLGZpbGw6bnx8UH0pLmFkZChkKS5zaGFkb3coai5zaGFkb3cpLGkuaXNOZXc9ITApLGlbZj8ic2hvdyI6ImhpZGUiXSgpKSxhLmxlZ2VuZFdpZHRoPWcsYS5sZWdlbmRIZWlnaHQ9aCxxKGUsZnVuY3Rpb24oYil7YS5wb3NpdGlvbkl0ZW0oYil9KSxmJiZkLmFsaWduKHIoe3dpZHRoOmcsaGVpZ2h0Omh9LGopLCEwLCJzcGFjaW5nQm94IiksYi5pc1Jlc2l6aW5nfHx0aGlzLnBvc2l0aW9uQ2hlY2tib3hlcygpfSxoYW5kbGVPdmVyZmxvdzpmdW5jdGlvbihhKXt2YXIgaCxvLGI9dGhpcyxjPXRoaXMuY2hhcnQsZD1jLnJlbmRlcmVyLGU9dGhpcy5vcHRpb25zLGY9ZS55LGY9Yy5zcGFjaW5nQm94LmhlaWdodCsoInRvcCI9PT1lLnZlcnRpY2FsQWxpZ24/LWY6ZiktdGhpcy5wYWRkaW5nLGc9ZS5tYXhIZWlnaHQsaT10aGlzLmNsaXBSZWN0LGo9ZS5uYXZpZ2F0aW9uLGs9cChqLmFuaW1hdGlvbiwhMCksbD1qLmFycm93U2l6ZXx8MTIsbj10aGlzLm5hdixtPXRoaXMucGFnZXMscj10aGlzLmFsbEl0ZW1zO3JldHVybiJob3Jpem9udGFsIj09PWUubGF5b3V0JiYoZi89MiksZyYmKGY9TChmLGcpKSxtLmxlbmd0aD0wLGE+ZiYmIWUudXNlSFRNTD8odGhpcy5jbGlwSGVpZ2h0PWg9dChmLTIwLXRoaXMudGl0bGVIZWlnaHQtdGhpcy5wYWRkaW5nLDApLHRoaXMuY3VycmVudFBhZ2U9cCh0aGlzLmN1cnJlbnRQYWdlLDEpLHRoaXMuZnVsbEhlaWdodD1hLHEocixmdW5jdGlvbihhLGIpe3ZhciBjPWEuX2xlZ2VuZEl0ZW1Qb3NbMV0sZD12KGEubGVnZW5kSXRlbS5nZXRCQm94KCkuaGVpZ2h0KSxlPW0ubGVuZ3RoOyghZXx8Yy1tW2UtMV0+aCYmKG98fGMpIT09bVtlLTFdKSYmKG0ucHVzaChvfHxjKSxlKyspLGI9PT1yLmxlbmd0aC0xJiZjK2QtbVtlLTFdPmgmJm0ucHVzaChjKSxjIT09byYmKG89Yyl9KSxpfHwoaT1iLmNsaXBSZWN0PWQuY2xpcFJlY3QoMCx0aGlzLnBhZGRpbmcsOTk5OSwwKSxiLmNvbnRlbnRHcm91cC5jbGlwKGkpKSxpLmF0dHIoe2hlaWdodDpofSksbnx8KHRoaXMubmF2PW49ZC5nKCkuYXR0cih7ekluZGV4OjF9KS5hZGQodGhpcy5ncm91cCksdGhpcy51cD1kLnN5bWJvbCgidHJpYW5nbGUiLDAsMCxsLGwpLm9uKCJjbGljayIsZnVuY3Rpb24oKXtiLnNjcm9sbCgtMSxrKX0pLmFkZChuKSx0aGlzLnBhZ2VyPWQudGV4dCgiIiwxNSwxMCkuY3NzKGouc3R5bGUpLmFkZChuKSx0aGlzLmRvd249ZC5zeW1ib2woInRyaWFuZ2xlLWRvd24iLDAsMCxsLGwpLm9uKCJjbGljayIsZnVuY3Rpb24oKXtiLnNjcm9sbCgxLGspfSkuYWRkKG4pKSxiLnNjcm9sbCgwKSxhPWYpOm4mJihpLmF0dHIoe2hlaWdodDpjLmNoYXJ0SGVpZ2h0fSksbi5oaWRlKCksdGhpcy5zY3JvbGxHcm91cC5hdHRyKHt0cmFuc2xhdGVZOjF9KSx0aGlzLmNsaXBIZWlnaHQ9MCksYX0sc2Nyb2xsOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5wYWdlcyxkPWMubGVuZ3RoLGU9dGhpcy5jdXJyZW50UGFnZSthLGY9dGhpcy5jbGlwSGVpZ2h0LGc9dGhpcy5vcHRpb25zLm5hdmlnYXRpb24saD1nLmFjdGl2ZUNvbG9yLGc9Zy5pbmFjdGl2ZUNvbG9yLGk9dGhpcy5wYWdlcixqPXRoaXMucGFkZGluZztlPmQmJihlPWQpLGU+MCYmKGIhPT11JiZSYShiLHRoaXMuY2hhcnQpLHRoaXMubmF2LmF0dHIoe3RyYW5zbGF0ZVg6aix0cmFuc2xhdGVZOmYrdGhpcy5wYWRkaW5nKzcrdGhpcy50aXRsZUhlaWdodCx2aXNpYmlsaXR5OiJ2aXNpYmxlIn0pLHRoaXMudXAuYXR0cih7ZmlsbDoxPT09ZT9nOmh9KS5jc3Moe2N1cnNvcjoxPT09ZT8iZGVmYXVsdCI6InBvaW50ZXIifSksaS5hdHRyKHt0ZXh0OmUrIi8iK2R9KSx0aGlzLmRvd24uYXR0cih7eDoxOCt0aGlzLnBhZ2VyLmdldEJCb3goKS53aWR0aCxmaWxsOmU9PT1kP2c6aH0pLmNzcyh7Y3Vyc29yOmU9PT1kPyJkZWZhdWx0IjoicG9pbnRlciJ9KSxjPS1jW2UtMV0rdGhpcy5pbml0aWFsSXRlbVksdGhpcy5zY3JvbGxHcm91cC5hbmltYXRlKHt0cmFuc2xhdGVZOmN9KSx0aGlzLmN1cnJlbnRQYWdlPWUsdGhpcy5wb3NpdGlvbkNoZWNrYm94ZXMoYykpfX0sTT1LLkxlZ2VuZFN5bWJvbE1peGluPXtkcmF3UmVjdGFuZ2xlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5vcHRpb25zLnN5bWJvbEhlaWdodHx8MTI7Yi5sZWdlbmRTeW1ib2w9dGhpcy5jaGFydC5yZW5kZXJlci5yZWN0KDAsYS5iYXNlbGluZS01LWMvMixhLnN5bWJvbFdpZHRoLGMsYS5vcHRpb25zLnN5bWJvbFJhZGl1c3x8MCkuYXR0cih7ekluZGV4OjN9KS5hZGQoYi5sZWdlbmRHcm91cCl9LGRyYXdMaW5lTWFya2VyOmZ1bmN0aW9uKGEpe3ZhciBkLGI9dGhpcy5vcHRpb25zLGM9Yi5tYXJrZXI7ZD1hLnN5bWJvbFdpZHRoO3ZhciBnLGU9dGhpcy5jaGFydC5yZW5kZXJlcixmPXRoaXMubGVnZW5kR3JvdXAsYT1hLmJhc2VsaW5lLXYoLjMqZS5mb250TWV0cmljcyhhLm9wdGlvbnMuaXRlbVN0eWxlLmZvbnRTaXplLHRoaXMubGVnZW5kSXRlbSkuYik7Yi5saW5lV2lkdGgmJihnPXsic3Ryb2tlLXdpZHRoIjpiLmxpbmVXaWR0aH0sYi5kYXNoU3R5bGUmJihnLmRhc2hzdHlsZT1iLmRhc2hTdHlsZSksdGhpcy5sZWdlbmRMaW5lPWUucGF0aChbIk0iLDAsYSwiTCIsZCxhXSkuYXR0cihnKS5hZGQoZikpLGMmJmMuZW5hYmxlZCE9PSExJiYoYj1jLnJhZGl1cyx0aGlzLmxlZ2VuZFN5bWJvbD1kPWUuc3ltYm9sKHRoaXMuc3ltYm9sLGQvMi1iLGEtYiwyKmIsMipiKS5hZGQoZiksZC5pc01hcmtlcj0hMCl9fSwoL1RyaWRlbnRcLzdcLjAvLnRlc3Qod2EpfHxVYSkmJk5hKGxiLnByb3RvdHlwZSwicG9zaXRpb25JdGVtIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1mdW5jdGlvbigpe2IuX2xlZ2VuZEl0ZW1Qb3MmJmEuY2FsbChjLGIpfTtkKCksc2V0VGltZW91dChkKX0pLFlhLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9YS5zZXJpZXM7YS5zZXJpZXM9bnVsbCxjPXcoRSxhKSxjLnNlcmllcz1hLnNlcmllcz1kLHRoaXMudXNlck9wdGlvbnM9YSxkPWMuY2hhcnQsdGhpcy5tYXJnaW49dGhpcy5zcGxhc2hBcnJheSgibWFyZ2luIixkKSx0aGlzLnNwYWNpbmc9dGhpcy5zcGxhc2hBcnJheSgic3BhY2luZyIsZCk7dmFyIGU9ZC5ldmVudHM7dGhpcy5ib3VuZHM9e2g6e30sdjp7fX0sdGhpcy5jYWxsYmFjaz1iLHRoaXMuaXNSZXNpemluZz0wLHRoaXMub3B0aW9ucz1jLHRoaXMuYXhlcz1bXSx0aGlzLnNlcmllcz1bXSx0aGlzLmhhc0NhcnRlc2lhblNlcmllcz1kLnNob3dBeGVzO3ZhciBnLGY9dGhpcztpZihmLmluZGV4PVcubGVuZ3RoLFcucHVzaChmKSxhYisrLGQucmVmbG93IT09ITEmJk4oZiwibG9hZCIsZnVuY3Rpb24oKXtmLmluaXRSZWZsb3coKX0pLGUpZm9yKGcgaW4gZSlOKGYsZyxlW2ddKTtmLnhBeGlzPVtdLGYueUF4aXM9W10sZi5hbmltYXRpb249Z2E/ITE6cChkLmFuaW1hdGlvbiwhMCksZi5wb2ludENvdW50PWYuY29sb3JDb3VudGVyPWYuc3ltYm9sQ291bnRlcj0wLGYuZmlyc3RSZW5kZXIoKX0saW5pdFNlcmllczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMuY2hhcnQ7cmV0dXJuKGI9SFthLnR5cGV8fGIudHlwZXx8Yi5kZWZhdWx0U2VyaWVzVHlwZV0pfHxoYSgxNywhMCksYj1uZXcgYixiLmluaXQodGhpcyxhKSxifSxpc0luc2lkZVBsb3Q6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWM/YjphLGE9Yz9hOmI7cmV0dXJuIGQ+PTAmJmQ8PXRoaXMucGxvdFdpZHRoJiZhPj0wJiZhPD10aGlzLnBsb3RIZWlnaHR9LGFkanVzdFRpY2tBbW91bnRzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNoYXJ0LmFsaWduVGlja3MhPT0hMSYmcSh0aGlzLmF4ZXMsZnVuY3Rpb24oYSl7YS5hZGp1c3RUaWNrQW1vdW50KCl9KSx0aGlzLm1heFRpY2tzPW51bGx9LHJlZHJhdzpmdW5jdGlvbihhKXt2YXIgZyxoLGI9dGhpcy5heGVzLGM9dGhpcy5zZXJpZXMsZD10aGlzLnBvaW50ZXIsZT10aGlzLmxlZ2VuZCxmPXRoaXMuaXNEaXJ0eUxlZ2VuZCxpPXRoaXMuaGFzQ2FydGVzaWFuU2VyaWVzLGo9dGhpcy5pc0RpcnR5Qm94LGs9Yy5sZW5ndGgsbD1rLG49dGhpcy5yZW5kZXJlcixtPW4uaXNIaWRkZW4oKSxvPVtdO2ZvcihSYShhLHRoaXMpLG0mJnRoaXMuY2xvbmVSZW5kZXJUbygpLHRoaXMubGF5T3V0VGl0bGVzKCk7bC0tOylpZihhPWNbbF0sYS5vcHRpb25zLnN0YWNraW5nJiYoZz0hMCxhLmlzRGlydHkpKXtoPSEwO2JyZWFrfWlmKGgpZm9yKGw9aztsLS07KWE9Y1tsXSxhLm9wdGlvbnMuc3RhY2tpbmcmJihhLmlzRGlydHk9ITApO3EoYyxmdW5jdGlvbihhKXthLmlzRGlydHkmJiJwb2ludCI9PT1hLm9wdGlvbnMubGVnZW5kVHlwZSYmKGY9ITApfSksZiYmZS5vcHRpb25zLmVuYWJsZWQmJihlLnJlbmRlcigpLHRoaXMuaXNEaXJ0eUxlZ2VuZD0hMSksZyYmdGhpcy5nZXRTdGFja3MoKSxpJiYodGhpcy5pc1Jlc2l6aW5nfHwodGhpcy5tYXhUaWNrcz1udWxsLHEoYixmdW5jdGlvbihhKXthLnNldFNjYWxlKCl9KSksdGhpcy5hZGp1c3RUaWNrQW1vdW50cygpKSx0aGlzLmdldE1hcmdpbnMoKSxpJiYocShiLGZ1bmN0aW9uKGEpe2EuaXNEaXJ0eSYmKGo9ITApfSkscShiLGZ1bmN0aW9uKGEpe2EuaXNEaXJ0eUV4dHJlbWVzJiYoYS5pc0RpcnR5RXh0cmVtZXM9ITEsby5wdXNoKGZ1bmN0aW9uKCl7SShhLCJhZnRlclNldEV4dHJlbWVzIixyKGEuZXZlbnRBcmdzLGEuZ2V0RXh0cmVtZXMoKSkpLGRlbGV0ZSBhLmV2ZW50QXJnc30pKSwoanx8ZykmJmEucmVkcmF3KCl9KSksaiYmdGhpcy5kcmF3Q2hhcnRCb3goKSxxKGMsZnVuY3Rpb24oYSl7YS5pc0RpcnR5JiZhLnZpc2libGUmJighYS5pc0NhcnRlc2lhbnx8YS54QXhpcykmJmEucmVkcmF3KCl9KSxkJiZkLnJlc2V0KCEwKSxuLmRyYXcoKSxJKHRoaXMsInJlZHJhdyIpLG0mJnRoaXMuY2xvbmVSZW5kZXJUbyghMCkscShvLGZ1bmN0aW9uKGEpe2EuY2FsbCgpfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgZCxlLGI9dGhpcy5heGVzLGM9dGhpcy5zZXJpZXM7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKylpZihiW2RdLm9wdGlvbnMuaWQ9PT1hKXJldHVybiBiW2RdO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspaWYoY1tkXS5vcHRpb25zLmlkPT09YSlyZXR1cm4gY1tkXTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWZvcihlPWNbZF0ucG9pbnRzfHxbXSxiPTA7YjxlLmxlbmd0aDtiKyspaWYoZVtiXS5pZD09PWEpcmV0dXJuIGVbYl07cmV0dXJuIG51bGx9LGdldEF4ZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9dGhpcy5vcHRpb25zLGM9Yi54QXhpcz1yYShiLnhBeGlzfHx7fSksYj1iLnlBeGlzPXJhKGIueUF4aXN8fHt9KTtxKGMsZnVuY3Rpb24oYSxiKXthLmluZGV4PWIsYS5pc1g9ITB9KSxxKGIsZnVuY3Rpb24oYSxiKXthLmluZGV4PWJ9KSxjPWMuY29uY2F0KGIpLHEoYyxmdW5jdGlvbihiKXtuZXcgbmEoYSxiKX0pLGEuYWRqdXN0VGlja0Ftb3VudHMoKX0sZ2V0U2VsZWN0ZWRQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gcSh0aGlzLnNlcmllcyxmdW5jdGlvbihiKXthPWEuY29uY2F0KHdiKGIucG9pbnRzfHxbXSxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pKX0pLGF9LGdldFNlbGVjdGVkU2VyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHdiKHRoaXMuc2VyaWVzLGZ1bmN0aW9uKGEpe3JldHVybiBhLnNlbGVjdGVkfSl9LGdldFN0YWNrczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cShhLnlBeGlzLGZ1bmN0aW9uKGEpe2Euc3RhY2tzJiZhLmhhc1Zpc2libGVTZXJpZXMmJihhLm9sZFN0YWNrcz1hLnN0YWNrcyl9KSxxKGEuc2VyaWVzLGZ1bmN0aW9uKGIpeyFiLm9wdGlvbnMuc3RhY2tpbmd8fGIudmlzaWJsZSE9PSEwJiZhLm9wdGlvbnMuY2hhcnQuaWdub3JlSGlkZGVuU2VyaWVzIT09ITF8fChiLnN0YWNrS2V5PWIudHlwZStwKGIub3B0aW9ucy5zdGFjaywiIikpfSl9LHNldFRpdGxlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZyxmLGQ9dGhpcyxlPWQub3B0aW9ucztmPWUudGl0bGU9dyhlLnRpdGxlLGEpLGc9ZS5zdWJ0aXRsZT13KGUuc3VidGl0bGUsYiksZT1nLHEoW1sidGl0bGUiLGEsZl0sWyJzdWJ0aXRsZSIsYixlXV0sZnVuY3Rpb24oYSl7dmFyIGI9YVswXSxjPWRbYl0sZT1hWzFdLGE9YVsyXTtjJiZlJiYoZFtiXT1jPWMuZGVzdHJveSgpKSxhJiZhLnRleHQmJiFjJiYoZFtiXT1kLnJlbmRlcmVyLnRleHQoYS50ZXh0LDAsMCxhLnVzZUhUTUwpLmF0dHIoe2FsaWduOmEuYWxpZ24sImNsYXNzIjoiaGlnaGNoYXJ0cy0iK2IsekluZGV4OmEuekluZGV4fHw0fSkuY3NzKGEuc3R5bGUpLmFkZCgpKX0pLGQubGF5T3V0VGl0bGVzKGMpfSxsYXlPdXRUaXRsZXM6ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPXRoaXMudGl0bGUsZD10aGlzLnN1YnRpdGxlLGU9dGhpcy5vcHRpb25zLGY9ZS50aXRsZSxlPWUuc3VidGl0bGUsZz10aGlzLnJlbmRlcmVyLGg9dGhpcy5zcGFjaW5nQm94LndpZHRoLTQ0OyFjfHwoYy5jc3Moe3dpZHRoOihmLndpZHRofHxoKSsicHgifSkuYWxpZ24ocih7eTpnLmZvbnRNZXRyaWNzKGYuc3R5bGUuZm9udFNpemUsYykuYi0zfSxmKSwhMSwic3BhY2luZ0JveCIpLGYuZmxvYXRpbmd8fGYudmVydGljYWxBbGlnbil8fChiPWMuZ2V0QkJveCgpLmhlaWdodCksZCYmKGQuY3NzKHt3aWR0aDooZS53aWR0aHx8aCkrInB4In0pLmFsaWduKHIoe3k6YisoZi5tYXJnaW4tMTMpK2cuZm9udE1ldHJpY3MoZi5zdHlsZS5mb250U2l6ZSxkKS5ifSxlKSwhMSwic3BhY2luZ0JveCIpLCFlLmZsb2F0aW5nJiYhZS52ZXJ0aWNhbEFsaWduJiYoYj1MYShiK2QuZ2V0QkJveCgpLmhlaWdodCkpKSxjPXRoaXMudGl0bGVPZmZzZXQhPT1iLHRoaXMudGl0bGVPZmZzZXQ9YiwhdGhpcy5pc0RpcnR5Qm94JiZjJiYodGhpcy5pc0RpcnR5Qm94PWMsdGhpcy5oYXNSZW5kZXJlZCYmcChhLCEwKSYmdGhpcy5pc0RpcnR5Qm94JiZ0aGlzLnJlZHJhdygpKX0sZ2V0Q2hhcnRTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNoYXJ0LGI9YS53aWR0aCxhPWEuaGVpZ2h0LGM9dGhpcy5yZW5kZXJUb0Nsb25lfHx0aGlzLnJlbmRlclRvO3MoYil8fCh0aGlzLmNvbnRhaW5lcldpZHRoPWliKGMsIndpZHRoIikpLHMoYSl8fCh0aGlzLmNvbnRhaW5lckhlaWdodD1pYihjLCJoZWlnaHQiKSksdGhpcy5jaGFydFdpZHRoPXQoMCxifHx0aGlzLmNvbnRhaW5lcldpZHRofHw2MDApLHRoaXMuY2hhcnRIZWlnaHQ9dCgwLHAoYSx0aGlzLmNvbnRhaW5lckhlaWdodD4xOT90aGlzLmNvbnRhaW5lckhlaWdodDo0MDApKX0sY2xvbmVSZW5kZXJUbzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJlbmRlclRvQ2xvbmUsYz10aGlzLmNvbnRhaW5lcjthP2ImJih0aGlzLnJlbmRlclRvLmFwcGVuZENoaWxkKGMpLFFhKGIpLGRlbGV0ZSB0aGlzLnJlbmRlclRvQ2xvbmUpOihjJiZjLnBhcmVudE5vZGU9PT10aGlzLnJlbmRlclRvJiZ0aGlzLnJlbmRlclRvLnJlbW92ZUNoaWxkKGMpLHRoaXMucmVuZGVyVG9DbG9uZT1iPXRoaXMucmVuZGVyVG8uY2xvbmVOb2RlKDApLEIoYix7cG9zaXRpb246ImFic29sdXRlIix0b3A6Ii05OTk5cHgiLGRpc3BsYXk6ImJsb2NrIn0pLGIuc3R5bGUuc2V0UHJvcGVydHkmJmIuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJibG9jayIsImltcG9ydGFudCIpLHguYm9keS5hcHBlbmRDaGlsZChiKSxjJiZiLmFwcGVuZENoaWxkKGMpKX0sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGEsYyxkLGUsYj10aGlzLm9wdGlvbnMuY2hhcnQ7dGhpcy5yZW5kZXJUbz1hPWIucmVuZGVyVG8sZT0iaGlnaGNoYXJ0cy0iK3ViKyssR2EoYSkmJih0aGlzLnJlbmRlclRvPWE9eC5nZXRFbGVtZW50QnlJZChhKSksYXx8aGEoMTMsITApLGM9eShGKGEsImRhdGEtaGlnaGNoYXJ0cy1jaGFydCIpKSwhaXNOYU4oYykmJldbY10mJldbY10uaGFzUmVuZGVyZWQmJldbY10uZGVzdHJveSgpLEYoYSwiZGF0YS1oaWdoY2hhcnRzLWNoYXJ0Iix0aGlzLmluZGV4KSxhLmlubmVySFRNTD0iIiwhYi5za2lwQ2xvbmUmJiFhLm9mZnNldFdpZHRoJiZ0aGlzLmNsb25lUmVuZGVyVG8oKSx0aGlzLmdldENoYXJ0U2l6ZSgpLGM9dGhpcy5jaGFydFdpZHRoLGQ9dGhpcy5jaGFydEhlaWdodCx0aGlzLmNvbnRhaW5lcj1hPSQoS2Ese2NsYXNzTmFtZToiaGlnaGNoYXJ0cy1jb250YWluZXIiKyhiLmNsYXNzTmFtZT8iICIrYi5jbGFzc05hbWU6IiIpLGlkOmV9LHIoe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6YysicHgiLGhlaWdodDpkKyJweCIsdGV4dEFsaWduOiJsZWZ0IixsaW5lSGVpZ2h0OiJub3JtYWwiLHpJbmRleDowLCItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiOiJyZ2JhKDAsMCwwLDApIn0sYi5zdHlsZSksdGhpcy5yZW5kZXJUb0Nsb25lfHxhKSx0aGlzLl9jdXJzb3I9YS5zdHlsZS5jdXJzb3IsdGhpcy5yZW5kZXJlcj1iLmZvckV4cG9ydD9uZXcgdGEoYSxjLGQsYi5zdHlsZSwhMCk6bmV3IFphKGEsYyxkLGIuc3R5bGUpLGdhJiZ0aGlzLnJlbmRlcmVyLmNyZWF0ZSh0aGlzLGEsYyxkKX0sZ2V0TWFyZ2luczpmdW5jdGlvbigpe3ZhciBiLGE9dGhpcy5zcGFjaW5nLGM9dGhpcy5sZWdlbmQsZD10aGlzLm1hcmdpbixlPXRoaXMub3B0aW9ucy5sZWdlbmQsZj1wKGUubWFyZ2luLDIwKSxnPWUueCxoPWUueSxpPWUuYWxpZ24saj1lLnZlcnRpY2FsQWxpZ24saz10aGlzLnRpdGxlT2Zmc2V0O3RoaXMucmVzZXRNYXJnaW5zKCksYj10aGlzLmF4aXNPZmZzZXQsayYmIXMoZFswXSkmJih0aGlzLnBsb3RUb3A9dCh0aGlzLnBsb3RUb3Asayt0aGlzLm9wdGlvbnMudGl0bGUubWFyZ2luK2FbMF0pKSxjLmRpc3BsYXkmJiFlLmZsb2F0aW5nJiYoInJpZ2h0Ij09PWk/cyhkWzFdKXx8KHRoaXMubWFyZ2luUmlnaHQ9dCh0aGlzLm1hcmdpblJpZ2h0LGMubGVnZW5kV2lkdGgtZytmK2FbMV0pKToibGVmdCI9PT1pP3MoZFszXSl8fCh0aGlzLnBsb3RMZWZ0PXQodGhpcy5wbG90TGVmdCxjLmxlZ2VuZFdpZHRoK2crZithWzNdKSk6InRvcCI9PT1qP3MoZFswXSl8fCh0aGlzLnBsb3RUb3A9dCh0aGlzLnBsb3RUb3AsYy5sZWdlbmRIZWlnaHQraCtmK2FbMF0pKToiYm90dG9tIiE9PWp8fHMoZFsyXSl8fCh0aGlzLm1hcmdpbkJvdHRvbT10KHRoaXMubWFyZ2luQm90dG9tLGMubGVnZW5kSGVpZ2h0LWgrZithWzJdKSkpLHRoaXMuZXh0cmFCb3R0b21NYXJnaW4mJih0aGlzLm1hcmdpbkJvdHRvbSs9dGhpcy5leHRyYUJvdHRvbU1hcmdpbiksdGhpcy5leHRyYVRvcE1hcmdpbiYmKHRoaXMucGxvdFRvcCs9dGhpcy5leHRyYVRvcE1hcmdpbiksdGhpcy5oYXNDYXJ0ZXNpYW5TZXJpZXMmJnEodGhpcy5heGVzLGZ1bmN0aW9uKGEpe2EuZ2V0T2Zmc2V0KCl9KSxzKGRbM10pfHwodGhpcy5wbG90TGVmdCs9YlszXSkscyhkWzBdKXx8KHRoaXMucGxvdFRvcCs9YlswXSkscyhkWzJdKXx8KHRoaXMubWFyZ2luQm90dG9tKz1iWzJdKSxzKGRbMV0pfHwodGhpcy5tYXJnaW5SaWdodCs9YlsxXSksdGhpcy5zZXRDaGFydFNpemUoKX0scmVmbG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLm9wdGlvbnMuY2hhcnQsZD1iLnJlbmRlclRvLGU9Yy53aWR0aHx8aWIoZCwid2lkdGgiKSxmPWMuaGVpZ2h0fHxpYihkLCJoZWlnaHQiKSxjPWE/YS50YXJnZXQ6RyxkPWZ1bmN0aW9uKCl7Yi5jb250YWluZXImJihiLnNldFNpemUoZSxmLCExKSxiLmhhc1VzZXJTaXplPW51bGwpfTtiLmhhc1VzZXJTaXplfHwhZXx8IWZ8fGMhPT1HJiZjIT09eHx8KChlIT09Yi5jb250YWluZXJXaWR0aHx8ZiE9PWIuY29udGFpbmVySGVpZ2h0KSYmKGNsZWFyVGltZW91dChiLnJlZmxvd1RpbWVvdXQpLGE/Yi5yZWZsb3dUaW1lb3V0PXNldFRpbWVvdXQoZCwxMDApOmQoKSksYi5jb250YWluZXJXaWR0aD1lLGIuY29udGFpbmVySGVpZ2h0PWYpfSxpbml0UmVmbG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWZ1bmN0aW9uKGIpe2EucmVmbG93KGIpfTtOKEcsInJlc2l6ZSIsYiksTihhLCJkZXN0cm95IixmdW5jdGlvbigpe1goRywicmVzaXplIixiKX0pfSxzZXRTaXplOmZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmLGcsZD10aGlzO2QuaXNSZXNpemluZys9MSxnPWZ1bmN0aW9uKCl7ZCYmSShkLCJlbmRSZXNpemUiLG51bGwsZnVuY3Rpb24oKXtkLmlzUmVzaXppbmctPTF9KX0sUmEoYyxkKSxkLm9sZENoYXJ0SGVpZ2h0PWQuY2hhcnRIZWlnaHQsZC5vbGRDaGFydFdpZHRoPWQuY2hhcnRXaWR0aCxzKGEpJiYoZC5jaGFydFdpZHRoPWU9dCgwLHYoYSkpLGQuaGFzVXNlclNpemU9ISFlKSxzKGIpJiYoZC5jaGFydEhlaWdodD1mPXQoMCx2KGIpKSksKHZhP2piOkIpKGQuY29udGFpbmVyLHt3aWR0aDplKyJweCIsaGVpZ2h0OmYrInB4In0sdmEpLGQuc2V0Q2hhcnRTaXplKCEwKSxkLnJlbmRlcmVyLnNldFNpemUoZSxmLGMpLGQubWF4VGlja3M9bnVsbCxxKGQuYXhlcyxmdW5jdGlvbihhKXthLmlzRGlydHk9ITAsYS5zZXRTY2FsZSgpfSkscShkLnNlcmllcyxmdW5jdGlvbihhKXthLmlzRGlydHk9ITB9KSxkLmlzRGlydHlMZWdlbmQ9ITAsZC5pc0RpcnR5Qm94PSEwLGQubGF5T3V0VGl0bGVzKCksZC5nZXRNYXJnaW5zKCksZC5yZWRyYXcoYyksZC5vbGRDaGFydEhlaWdodD1udWxsLEkoZCwicmVzaXplIiksdmE9PT0hMT9nKCk6c2V0VGltZW91dChnLHZhJiZ2YS5kdXJhdGlvbnx8NTAwKX0sc2V0Q2hhcnRTaXplOmZ1bmN0aW9uKGEpe3ZhciBpLGosayxsLGI9dGhpcy5pbnZlcnRlZCxjPXRoaXMucmVuZGVyZXIsZD10aGlzLmNoYXJ0V2lkdGgsZT10aGlzLmNoYXJ0SGVpZ2h0LGY9dGhpcy5vcHRpb25zLmNoYXJ0LGc9dGhpcy5zcGFjaW5nLGg9dGhpcy5jbGlwT2Zmc2V0O3RoaXMucGxvdExlZnQ9aT12KHRoaXMucGxvdExlZnQpLHRoaXMucGxvdFRvcD1qPXYodGhpcy5wbG90VG9wKSx0aGlzLnBsb3RXaWR0aD1rPXQoMCx2KGQtaS10aGlzLm1hcmdpblJpZ2h0KSksdGhpcy5wbG90SGVpZ2h0PWw9dCgwLHYoZS1qLXRoaXMubWFyZ2luQm90dG9tKSksdGhpcy5wbG90U2l6ZVg9Yj9sOmssdGhpcy5wbG90U2l6ZVk9Yj9rOmwsdGhpcy5wbG90Qm9yZGVyV2lkdGg9Zi5wbG90Qm9yZGVyV2lkdGh8fDAsdGhpcy5zcGFjaW5nQm94PWMuc3BhY2luZ0JveD17eDpnWzNdLHk6Z1swXSx3aWR0aDpkLWdbM10tZ1sxXSxoZWlnaHQ6ZS1nWzBdLWdbMl19LHRoaXMucGxvdEJveD1jLnBsb3RCb3g9e3g6aSx5Omosd2lkdGg6ayxoZWlnaHQ6bH0sZD0yKlUodGhpcy5wbG90Qm9yZGVyV2lkdGgvMiksYj1MYSh0KGQsaFszXSkvMiksYz1MYSh0KGQsaFswXSkvMiksdGhpcy5jbGlwQm94PXt4OmIseTpjLHdpZHRoOlUodGhpcy5wbG90U2l6ZVgtdChkLGhbMV0pLzItYiksaGVpZ2h0OnQoMCxVKHRoaXMucGxvdFNpemVZLXQoZCxoWzJdKS8yLWMpKX0sYXx8cSh0aGlzLmF4ZXMsZnVuY3Rpb24oYSl7YS5zZXRBeGlzU2l6ZSgpLGEuc2V0QXhpc1RyYW5zbGF0aW9uKCl9KX0scmVzZXRNYXJnaW5zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zcGFjaW5nLGI9dGhpcy5tYXJnaW47dGhpcy5wbG90VG9wPXAoYlswXSxhWzBdKSx0aGlzLm1hcmdpblJpZ2h0PXAoYlsxXSxhWzFdKSx0aGlzLm1hcmdpbkJvdHRvbT1wKGJbMl0sYVsyXSksdGhpcy5wbG90TGVmdD1wKGJbM10sYVszXSksdGhpcy5heGlzT2Zmc2V0PVswLDAsMCwwXSx0aGlzLmNsaXBPZmZzZXQ9WzAsMCwwLDBdfSxkcmF3Q2hhcnRCb3g6ZnVuY3Rpb24oKXt2YXIgbSxhPXRoaXMub3B0aW9ucy5jaGFydCxiPXRoaXMucmVuZGVyZXIsYz10aGlzLmNoYXJ0V2lkdGgsZD10aGlzLmNoYXJ0SGVpZ2h0LGU9dGhpcy5jaGFydEJhY2tncm91bmQsZj10aGlzLnBsb3RCYWNrZ3JvdW5kLGc9dGhpcy5wbG90Qm9yZGVyLGg9dGhpcy5wbG90QkdJbWFnZSxpPWEuYm9yZGVyV2lkdGh8fDAsaj1hLmJhY2tncm91bmRDb2xvcixrPWEucGxvdEJhY2tncm91bmRDb2xvcixsPWEucGxvdEJhY2tncm91bmRJbWFnZSxuPWEucGxvdEJvcmRlcldpZHRofHwwLG89dGhpcy5wbG90TGVmdCxwPXRoaXMucGxvdFRvcCxxPXRoaXMucGxvdFdpZHRoLHI9dGhpcy5wbG90SGVpZ2h0LHQ9dGhpcy5wbG90Qm94LHM9dGhpcy5jbGlwUmVjdCx2PXRoaXMuY2xpcEJveDttPWkrKGEuc2hhZG93Pzg6MCksKGl8fGopJiYoZT9lLmFuaW1hdGUoZS5jcmlzcCh7d2lkdGg6Yy1tLGhlaWdodDpkLW19KSk6KGU9e2ZpbGw6anx8UH0saSYmKGUuc3Ryb2tlPWEuYm9yZGVyQ29sb3IsZVsic3Ryb2tlLXdpZHRoIl09aSksdGhpcy5jaGFydEJhY2tncm91bmQ9Yi5yZWN0KG0vMixtLzIsYy1tLGQtbSxhLmJvcmRlclJhZGl1cyxpKS5hdHRyKGUpLmFkZENsYXNzKCJoaWdoY2hhcnRzLWJhY2tncm91bmQiKS5hZGQoKS5zaGFkb3coYS5zaGFkb3cpKSksayYmKGY/Zi5hbmltYXRlKHQpOnRoaXMucGxvdEJhY2tncm91bmQ9Yi5yZWN0KG8scCxxLHIsMCkuYXR0cih7ZmlsbDprfSkuYWRkKCkuc2hhZG93KGEucGxvdFNoYWRvdykpLGwmJihoP2guYW5pbWF0ZSh0KTp0aGlzLnBsb3RCR0ltYWdlPWIuaW1hZ2UobCxvLHAscSxyKS5hZGQoKSkscz9zLmFuaW1hdGUoe3dpZHRoOnYud2lkdGgsaGVpZ2h0OnYuaGVpZ2h0fSk6dGhpcy5jbGlwUmVjdD1iLmNsaXBSZWN0KHYpLG4mJihnP2cuYW5pbWF0ZShnLmNyaXNwKHt4Om8seTpwLHdpZHRoOnEsaGVpZ2h0OnIsc3Ryb2tlV2lkdGg6LW59KSk6dGhpcy5wbG90Qm9yZGVyPWIucmVjdChvLHAscSxyLDAsLW4pLmF0dHIoe3N0cm9rZTphLnBsb3RCb3JkZXJDb2xvciwic3Ryb2tlLXdpZHRoIjpuLGZpbGw6UCx6SW5kZXg6MX0pLmFkZCgpKSx0aGlzLmlzRGlydHlCb3g9ITF9LHByb3BGcm9tU2VyaWVzOmZ1bmN0aW9uKCl7dmFyIGMsZSxmLGE9dGhpcyxiPWEub3B0aW9ucy5jaGFydCxkPWEub3B0aW9ucy5zZXJpZXM7cShbImludmVydGVkIiwiYW5ndWxhciIsInBvbGFyIl0sZnVuY3Rpb24oZyl7Zm9yKGM9SFtiLnR5cGV8fGIuZGVmYXVsdFNlcmllc1R5cGVdLGY9YVtnXXx8YltnXXx8YyYmYy5wcm90b3R5cGVbZ10sZT1kJiZkLmxlbmd0aDshZiYmZS0tOykoYz1IW2RbZV0udHlwZV0pJiZjLnByb3RvdHlwZVtnXSYmKGY9ITApO2FbZ109Zn0pfSxsaW5rU2VyaWVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuc2VyaWVzO3EoYixmdW5jdGlvbihhKXthLmxpbmtlZFNlcmllcy5sZW5ndGg9MH0pLHEoYixmdW5jdGlvbihiKXt2YXIgZD1iLm9wdGlvbnMubGlua2VkVG87R2EoZCkmJihkPSI6cHJldmlvdXMiPT09ZD9hLnNlcmllc1tiLmluZGV4LTFdOmEuZ2V0KGQpKSYmKGQubGlua2VkU2VyaWVzLnB1c2goYiksYi5saW5rZWRQYXJlbnQ9ZCl9KX0scmVuZGVyU2VyaWVzOmZ1bmN0aW9uKCl7cSh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXthLnRyYW5zbGF0ZSgpLGEuc2V0VG9vbHRpcFBvaW50cyYmYS5zZXRUb29sdGlwUG9pbnRzKCksYS5yZW5kZXIoKX0pfSxyZW5kZXJMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLmxhYmVscztiLml0ZW1zJiZxKGIuaXRlbXMsZnVuY3Rpb24oYyl7dmFyIGQ9cihiLnN0eWxlLGMuc3R5bGUpLGU9eShkLmxlZnQpK2EucGxvdExlZnQsZj15KGQudG9wKSthLnBsb3RUb3ArMTI7ZGVsZXRlIGQubGVmdCxkZWxldGUgZC50b3AsYS5yZW5kZXJlci50ZXh0KGMuaHRtbCxlLGYpLmF0dHIoe3pJbmRleDoyfSkuY3NzKGQpLmFkZCgpfSl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYXhlcyxiPXRoaXMucmVuZGVyZXIsYz10aGlzLm9wdGlvbnM7dGhpcy5zZXRUaXRsZSgpLHRoaXMubGVnZW5kPW5ldyBsYih0aGlzLGMubGVnZW5kKSx0aGlzLmdldFN0YWNrcygpLHEoYSxmdW5jdGlvbihhKXthLnNldFNjYWxlKCl9KSx0aGlzLmdldE1hcmdpbnMoKSx0aGlzLm1heFRpY2tzPW51bGwscShhLGZ1bmN0aW9uKGEpe2Euc2V0VGlja1Bvc2l0aW9ucyghMCksYS5zZXRNYXhUaWNrcygpfSksdGhpcy5hZGp1c3RUaWNrQW1vdW50cygpLHRoaXMuZ2V0TWFyZ2lucygpLHRoaXMuZHJhd0NoYXJ0Qm94KCksdGhpcy5oYXNDYXJ0ZXNpYW5TZXJpZXMmJnEoYSxmdW5jdGlvbihhKXthLnJlbmRlcigpfSksdGhpcy5zZXJpZXNHcm91cHx8KHRoaXMuc2VyaWVzR3JvdXA9Yi5nKCJzZXJpZXMtZ3JvdXAiKS5hdHRyKHt6SW5kZXg6M30pLmFkZCgpKSx0aGlzLnJlbmRlclNlcmllcygpLHRoaXMucmVuZGVyTGFiZWxzKCksdGhpcy5zaG93Q3JlZGl0cyhjLmNyZWRpdHMpLHRoaXMuaGFzUmVuZGVyZWQ9ITB9LHNob3dDcmVkaXRzOmZ1bmN0aW9uKGEpe2EuZW5hYmxlZCYmIXRoaXMuY3JlZGl0cyYmKHRoaXMuY3JlZGl0cz10aGlzLnJlbmRlcmVyLnRleHQoYS50ZXh0LDAsMCkub24oImNsaWNrIixmdW5jdGlvbigpe2EuaHJlZiYmKGxvY2F0aW9uLmhyZWY9YS5ocmVmKX0pLmF0dHIoe2FsaWduOmEucG9zaXRpb24uYWxpZ24sekluZGV4Ojh9KS5jc3MoYS5zdHlsZSkuYWRkKCkuYWxpZ24oYS5wb3NpdGlvbikpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGUsYT10aGlzLGI9YS5heGVzLGM9YS5zZXJpZXMsZD1hLmNvbnRhaW5lcixmPWQmJmQucGFyZW50Tm9kZTtmb3IoSShhLCJkZXN0cm95IiksV1thLmluZGV4XT11LGFiLS0sYS5yZW5kZXJUby5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtaGlnaGNoYXJ0cy1jaGFydCIpLFgoYSksZT1iLmxlbmd0aDtlLS07KWJbZV09YltlXS5kZXN0cm95KCk7Zm9yKGU9Yy5sZW5ndGg7ZS0tOyljW2VdPWNbZV0uZGVzdHJveSgpO3EoInRpdGxlLHN1YnRpdGxlLGNoYXJ0QmFja2dyb3VuZCxwbG90QmFja2dyb3VuZCxwbG90QkdJbWFnZSxwbG90Qm9yZGVyLHNlcmllc0dyb3VwLGNsaXBSZWN0LGNyZWRpdHMscG9pbnRlcixzY3JvbGxlcixyYW5nZVNlbGVjdG9yLGxlZ2VuZCxyZXNldFpvb21CdXR0b24sdG9vbHRpcCxyZW5kZXJlciIuc3BsaXQoIiwiKSxmdW5jdGlvbihiKXt2YXIgYz1hW2JdO2MmJmMuZGVzdHJveSYmKGFbYl09Yy5kZXN0cm95KCkpfSksZCYmKGQuaW5uZXJIVE1MPSIiLFgoZCksZiYmUWEoZCkpO2ZvcihlIGluIGEpZGVsZXRlIGFbZV19LGlzUmVhZHlUb1JlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIWJhJiZHPT1HLnRvcCYmImNvbXBsZXRlIiE9PXgucmVhZHlTdGF0ZXx8Z2EmJiFHLmNhbnZnPyhnYT9NYi5wdXNoKGZ1bmN0aW9uKCl7YS5maXJzdFJlbmRlcigpfSxhLm9wdGlvbnMuZ2xvYmFsLmNhbnZhc1Rvb2xzVVJMKTp4LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7eC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixhLmZpcnN0UmVuZGVyKSwiY29tcGxldGUiPT09eC5yZWFkeVN0YXRlJiZhLmZpcnN0UmVuZGVyKCl9KSwhMSk6ITB9LGZpcnN0UmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEub3B0aW9ucyxjPWEuY2FsbGJhY2s7YS5pc1JlYWR5VG9SZW5kZXIoKSYmKGEuZ2V0Q29udGFpbmVyKCksSShhLCJpbml0IiksYS5yZXNldE1hcmdpbnMoKSxhLnNldENoYXJ0U2l6ZSgpLGEucHJvcEZyb21TZXJpZXMoKSxhLmdldEF4ZXMoKSxxKGIuc2VyaWVzfHxbXSxmdW5jdGlvbihiKXthLmluaXRTZXJpZXMoYil9KSxhLmxpbmtTZXJpZXMoKSxJKGEsImJlZm9yZVJlbmRlciIpLEsuUG9pbnRlciYmKGEucG9pbnRlcj1uZXcgV2EoYSxiKSksYS5yZW5kZXIoKSxhLnJlbmRlcmVyLmRyYXcoKSxjJiZjLmFwcGx5KGEsW2FdKSxxKGEuY2FsbGJhY2tzLGZ1bmN0aW9uKGIpe2IuYXBwbHkoYSxbYV0pfSksYS5jbG9uZVJlbmRlclRvKCEwKSxJKGEsImxvYWQiKSl9LHNwbGFzaEFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9YlthXSxjPWRhKGMpP2M6W2MsYyxjLGNdO3JldHVybltwKGJbYSsiVG9wIl0sY1swXSkscChiW2ErIlJpZ2h0Il0sY1sxXSkscChiW2ErIkJvdHRvbSJdLGNbMl0pLHAoYlthKyJMZWZ0Il0sY1szXSldfX0sWWEucHJvdG90eXBlLmNhbGxiYWNrcz1bXSxaPUsuQ2VudGVyZWRTZXJpZXNNaXhpbj17Z2V0Q2VudGVyOmZ1bmN0aW9uKCl7dmFyIGQsaCxhPXRoaXMub3B0aW9ucyxiPXRoaXMuY2hhcnQsYz0yKihhLnNsaWNlZE9mZnNldHx8MCksZT1iLnBsb3RXaWR0aC0yKmMsZj1iLnBsb3RIZWlnaHQtMipjLGI9YS5jZW50ZXIsYT1bcChiWzBdLCI1MCUiKSxwKGJbMV0sIjUwJSIpLGEuc2l6ZXx8IjEwMCUiLGEuaW5uZXJTaXplfHwwXSxnPUwoZSxmKTtyZXR1cm4gVmEoYSxmdW5jdGlvbihhLGIpe3JldHVybiBoPS8lJC8udGVzdChhKSxkPTI+Ynx8Mj09PWImJmgsKGg/W2UsZixnLGddW2JdKnkoYSkvMTAwOmEpKyhkP2M6MCl9KX19O3ZhciBGYT1mdW5jdGlvbigpe307RmEucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5zZXJpZXM9YSx0aGlzLmFwcGx5T3B0aW9ucyhiLGMpLHRoaXMucG9pbnRBdHRyPXt9LGEub3B0aW9ucy5jb2xvckJ5UG9pbnQmJihiPWEub3B0aW9ucy5jb2xvcnN8fGEuY2hhcnQub3B0aW9ucy5jb2xvcnMsdGhpcy5jb2xvcj10aGlzLmNvbG9yfHxiW2EuY29sb3JDb3VudGVyKytdLGEuY29sb3JDb3VudGVyPT09Yi5sZW5ndGgpJiYoYS5jb2xvckNvdW50ZXI9MCksYS5jaGFydC5wb2ludENvdW50KyssdGhpc30sYXBwbHlPcHRpb25zOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zZXJpZXMsZD1jLm9wdGlvbnMucG9pbnRWYWxLZXl8fGMucG9pbnRWYWxLZXksYT1GYS5wcm90b3R5cGUub3B0aW9uc1RvT2JqZWN0LmNhbGwodGhpcyxhKTtyZXR1cm4gcih0aGlzLGEpLHRoaXMub3B0aW9ucz10aGlzLm9wdGlvbnM/cih0aGlzLm9wdGlvbnMsYSk6YSxkJiYodGhpcy55PXRoaXNbZF0pLHRoaXMueD09PXUmJmMmJih0aGlzLng9Yj09PXU/Yy5hdXRvSW5jcmVtZW50KCk6YiksdGhpc30sb3B0aW9uc1RvT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9dGhpcy5zZXJpZXMsZD1jLnBvaW50QXJyYXlNYXB8fFsieSJdLGU9ZC5sZW5ndGgsZj0wLGc9MDtpZigibnVtYmVyIj09dHlwZW9mIGF8fG51bGw9PT1hKWJbZFswXV09YTtlbHNlIGlmKEhhKGEpKWZvcihhLmxlbmd0aD5lJiYoYz10eXBlb2YgYVswXSwic3RyaW5nIj09PWM/Yi5uYW1lPWFbMF06Im51bWJlciI9PT1jJiYoYi54PWFbMF0pLGYrKyk7ZT5nOyliW2RbZysrXV09YVtmKytdO2Vsc2Uib2JqZWN0Ij09dHlwZW9mIGEmJihiPWEsYS5kYXRhTGFiZWxzJiYoYy5faGFzUG9pbnRMYWJlbHM9ITApLGEubWFya2VyJiYoYy5faGFzUG9pbnRNYXJrZXJzPSEwKSk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYyxhPXRoaXMuc2VyaWVzLmNoYXJ0LGI9YS5ob3ZlclBvaW50czthLnBvaW50Q291bnQtLSxiJiYodGhpcy5zZXRTdGF0ZSgpLGxhKGIsdGhpcyksIWIubGVuZ3RoKSYmKGEuaG92ZXJQb2ludHM9bnVsbCksdGhpcz09PWEuaG92ZXJQb2ludCYmdGhpcy5vbk1vdXNlT3V0KCksKHRoaXMuZ3JhcGhpY3x8dGhpcy5kYXRhTGFiZWwpJiYoWCh0aGlzKSx0aGlzLmRlc3Ryb3lFbGVtZW50cygpKSx0aGlzLmxlZ2VuZEl0ZW0mJmEubGVnZW5kLmRlc3Ryb3lJdGVtKHRoaXMpO2ZvcihjIGluIHRoaXMpdGhpc1tjXT1udWxsfSxkZXN0cm95RWxlbWVudHM6ZnVuY3Rpb24oKXtmb3IodmFyIGIsYT0iZ3JhcGhpYyxkYXRhTGFiZWwsZGF0YUxhYmVsVXBwZXIsZ3JvdXAsY29ubmVjdG9yLHNoYWRvd0dyb3VwIi5zcGxpdCgiLCIpLGM9NjtjLS07KWI9YVtjXSx0aGlzW2JdJiYodGhpc1tiXT10aGlzW2JdLmRlc3Ryb3koKSl9LGdldExhYmVsQ29uZmlnOmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy5jYXRlZ29yeSx5OnRoaXMueSxrZXk6dGhpcy5uYW1lfHx0aGlzLmNhdGVnb3J5LHNlcmllczp0aGlzLnNlcmllcyxwb2ludDp0aGlzLHBlcmNlbnRhZ2U6dGhpcy5wZXJjZW50YWdlLHRvdGFsOnRoaXMudG90YWx8fHRoaXMuc3RhY2tUb3RhbH19LHRvb2x0aXBGb3JtYXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zZXJpZXMsYz1iLnRvb2x0aXBPcHRpb25zLGQ9cChjLnZhbHVlRGVjaW1hbHMsIiIpLGU9Yy52YWx1ZVByZWZpeHx8IiIsZj1jLnZhbHVlU3VmZml4fHwiIjtyZXR1cm4gcShiLnBvaW50QXJyYXlNYXB8fFsieSJdLGZ1bmN0aW9uKGIpe2I9Intwb2ludC4iK2IsKGV8fGYpJiYoYT1hLnJlcGxhY2UoYisifSIsZStiKyJ9IitmKSksYT1hLnJlcGxhY2UoYisifSIsYisiOiwuIitkKyJmfSIpfSksSmEoYSx7cG9pbnQ6dGhpcyxzZXJpZXM6dGhpcy5zZXJpZXN9KX0sZmlyZVBvaW50RXZlbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT10aGlzLnNlcmllcy5vcHRpb25zOyhlLnBvaW50LmV2ZW50c1thXXx8ZC5vcHRpb25zJiZkLm9wdGlvbnMuZXZlbnRzJiZkLm9wdGlvbnMuZXZlbnRzW2FdKSYmdGhpcy5pbXBvcnRFdmVudHMoKSwiY2xpY2siPT09YSYmZS5hbGxvd1BvaW50U2VsZWN0JiYoYz1mdW5jdGlvbihhKXtkLnNlbGVjdChudWxsLGEuY3RybEtleXx8YS5tZXRhS2V5fHxhLnNoaWZ0S2V5KX0pLEkodGhpcyxhLGIsYyl9fTt2YXIgTz1mdW5jdGlvbigpe307Ty5wcm90b3R5cGU9e2lzQ2FydGVzaWFuOiEwLHR5cGU6ImxpbmUiLHBvaW50Q2xhc3M6RmEsc29ydGVkOiEwLHJlcXVpcmVTb3J0aW5nOiEwLHBvaW50QXR0clRvT3B0aW9uczp7c3Ryb2tlOiJsaW5lQ29sb3IiLCJzdHJva2Utd2lkdGgiOiJsaW5lV2lkdGgiLGZpbGw6ImZpbGxDb2xvciIscjoicmFkaXVzIn0sYXhpc1R5cGVzOlsieEF4aXMiLCJ5QXhpcyJdLGNvbG9yQ291bnRlcjowLHBhcmFsbGVsQXJyYXlzOlsieCIsInkiXSxpbml0OmZ1bmN0aW9uKGEsYil7dmFyIGQsZSxjPXRoaXMsZj1hLnNlcmllcyxnPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHAoYS5vcHRpb25zLmluZGV4LGEuX2kpLXAoYi5vcHRpb25zLmluZGV4LGIuX2kpfTsKYy5jaGFydD1hLGMub3B0aW9ucz1iPWMuc2V0T3B0aW9ucyhiKSxjLmxpbmtlZFNlcmllcz1bXSxjLmJpbmRBeGVzKCkscihjLHtuYW1lOmIubmFtZSxzdGF0ZToiIixwb2ludEF0dHI6e30sdmlzaWJsZTpiLnZpc2libGUhPT0hMSxzZWxlY3RlZDpiLnNlbGVjdGVkPT09ITB9KSxnYSYmKGIuYW5pbWF0aW9uPSExKSxlPWIuZXZlbnRzO2ZvcihkIGluIGUpTihjLGQsZVtkXSk7KGUmJmUuY2xpY2t8fGIucG9pbnQmJmIucG9pbnQuZXZlbnRzJiZiLnBvaW50LmV2ZW50cy5jbGlja3x8Yi5hbGxvd1BvaW50U2VsZWN0KSYmKGEucnVuVHJhY2tlckNsaWNrPSEwKSxjLmdldENvbG9yKCksYy5nZXRTeW1ib2woKSxxKGMucGFyYWxsZWxBcnJheXMsZnVuY3Rpb24oYSl7Y1thKyJEYXRhIl09W119KSxjLnNldERhdGEoYi5kYXRhLCExKSxjLmlzQ2FydGVzaWFuJiYoYS5oYXNDYXJ0ZXNpYW5TZXJpZXM9ITApLGYucHVzaChjKSxjLl9pPWYubGVuZ3RoLTEsb2IoZixnKSx0aGlzLnlBeGlzJiZvYih0aGlzLnlBeGlzLnNlcmllcyxnKSxxKGYsZnVuY3Rpb24oYSxiKXthLmluZGV4PWIsYS5uYW1lPWEubmFtZXx8IlNlcmllcyAiKyhiKzEpfSl9LGJpbmRBeGVzOmZ1bmN0aW9uKCl7dmFyIGQsYT10aGlzLGI9YS5vcHRpb25zLGM9YS5jaGFydDtxKGEuYXhpc1R5cGVzfHxbXSxmdW5jdGlvbihlKXtxKGNbZV0sZnVuY3Rpb24oYyl7ZD1jLm9wdGlvbnMsKGJbZV09PT1kLmluZGV4fHxiW2VdIT09dSYmYltlXT09PWQuaWR8fGJbZV09PT11JiYwPT09ZC5pbmRleCkmJihjLnNlcmllcy5wdXNoKGEpLGFbZV09YyxjLmlzRGlydHk9ITApfSksIWFbZV0mJmEub3B0aW9uYWxBeGlzIT09ZSYmaGEoMTgsITApfSl9LHVwZGF0ZVBhcmFsbGVsQXJyYXlzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zZXJpZXMsZD1hcmd1bWVudHM7cShjLnBhcmFsbGVsQXJyYXlzLCJudW1iZXIiPT10eXBlb2YgYj9mdW5jdGlvbihkKXt2YXIgZj0ieSI9PT1kJiZjLnRvWURhdGE/Yy50b1lEYXRhKGEpOmFbZF07Y1tkKyJEYXRhIl1bYl09Zn06ZnVuY3Rpb24oYSl7QXJyYXkucHJvdG90eXBlW2JdLmFwcGx5KGNbYSsiRGF0YSJdLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGQsMikpfSl9LGF1dG9JbmNyZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLnhJbmNyZW1lbnQsYj1wKGIsYS5wb2ludFN0YXJ0LDApO3JldHVybiB0aGlzLnBvaW50SW50ZXJ2YWw9cCh0aGlzLnBvaW50SW50ZXJ2YWwsYS5wb2ludEludGVydmFsLDEpLHRoaXMueEluY3JlbWVudD1iK3RoaXMucG9pbnRJbnRlcnZhbCxifSxnZXRTZWdtZW50czpmdW5jdGlvbigpe3ZhciBjLGE9LTEsYj1bXSxkPXRoaXMucG9pbnRzLGU9ZC5sZW5ndGg7aWYoZSlpZih0aGlzLm9wdGlvbnMuY29ubmVjdE51bGxzKXtmb3IoYz1lO2MtLTspbnVsbD09PWRbY10ueSYmZC5zcGxpY2UoYywxKTtkLmxlbmd0aCYmKGI9W2RdKX1lbHNlIHEoZCxmdW5jdGlvbihjLGcpe251bGw9PT1jLnk/KGc+YSsxJiZiLnB1c2goZC5zbGljZShhKzEsZykpLGE9Zyk6Zz09PWUtMSYmYi5wdXNoKGQuc2xpY2UoYSsxLGcrMSkpfSk7dGhpcy5zZWdtZW50cz1ifSxzZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsYz1iLm9wdGlvbnMucGxvdE9wdGlvbnMsYj1iLnVzZXJPcHRpb25zfHx7fSxkPWIucGxvdE9wdGlvbnN8fHt9LGU9Y1t0aGlzLnR5cGVdO3JldHVybiB0aGlzLnVzZXJPcHRpb25zPWEsYz13KGUsYy5zZXJpZXMsYSksdGhpcy50b29sdGlwT3B0aW9ucz13KEUudG9vbHRpcCxFLnBsb3RPcHRpb25zW3RoaXMudHlwZV0udG9vbHRpcCxiLnRvb2x0aXAsZC5zZXJpZXMmJmQuc2VyaWVzLnRvb2x0aXAsZFt0aGlzLnR5cGVdJiZkW3RoaXMudHlwZV0udG9vbHRpcCxhLnRvb2x0aXApLG51bGw9PT1lLm1hcmtlciYmZGVsZXRlIGMubWFya2VyLGN9LGdldEN5Y2xpYzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy51c2VyT3B0aW9ucyxlPSJfIithKyJJbmRleCIsZj1hKyJDb3VudGVyIjtifHwocyhkW2VdKT9iPWRbZV06KGRbZV09Yj10aGlzLmNoYXJ0W2ZdJWMubGVuZ3RoLHRoaXMuY2hhcnRbZl0rPTEpLGI9Y1tiXSksdGhpc1thXT1ifSxnZXRDb2xvcjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5jb2xvckJ5UG9pbnR8fHRoaXMuZ2V0Q3ljbGljKCJjb2xvciIsdGhpcy5vcHRpb25zLmNvbG9yfHxjYVt0aGlzLnR5cGVdLmNvbG9yLHRoaXMuY2hhcnQub3B0aW9ucy5jb2xvcnMpfSxnZXRTeW1ib2w6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMubWFya2VyO3RoaXMuZ2V0Q3ljbGljKCJzeW1ib2wiLGEuc3ltYm9sLHRoaXMuY2hhcnQub3B0aW9ucy5zeW1ib2xzKSwvXnVybC8udGVzdCh0aGlzLnN5bWJvbCkmJihhLnJhZGl1cz0wKX0sZHJhd0xlZ2VuZFN5bWJvbDpNLmRyYXdMaW5lTWFya2VyLHNldERhdGE6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGgsZT10aGlzLGY9ZS5wb2ludHMsZz1mJiZmLmxlbmd0aHx8MCxpPWUub3B0aW9ucyxqPWUuY2hhcnQsaz1udWxsLGw9ZS54QXhpcyxuPWwmJiEhbC5jYXRlZ29yaWVzLG09ZS50b29sdGlwUG9pbnRzLG89aS50dXJib1RocmVzaG9sZCxyPXRoaXMueERhdGEsdD10aGlzLnlEYXRhLHM9KGg9ZS5wb2ludEFycmF5TWFwKSYmaC5sZW5ndGgsYT1hfHxbXTtpZihoPWEubGVuZ3RoLGI9cChiLCEwKSxkPT09ITF8fCFofHxnIT09aHx8ZS5jcm9wcGVkfHxlLmhhc0dyb3VwZWREYXRhKXtpZihlLnhJbmNyZW1lbnQ9bnVsbCxlLnBvaW50UmFuZ2U9bj8xOmkucG9pbnRSYW5nZSxlLmNvbG9yQ291bnRlcj0wLHEodGhpcy5wYXJhbGxlbEFycmF5cyxmdW5jdGlvbihhKXtlW2ErIkRhdGEiXS5sZW5ndGg9MH0pLG8mJmg+byl7Zm9yKGM9MDtudWxsPT09ayYmaD5jOylrPWFbY10sYysrO2lmKGphKGspKXtmb3Iobj1wKGkucG9pbnRTdGFydCwwKSxpPXAoaS5wb2ludEludGVydmFsLDEpLGM9MDtoPmM7YysrKXJbY109bix0W2NdPWFbY10sbis9aTtlLnhJbmNyZW1lbnQ9bn1lbHNlIGlmKEhhKGspKWlmKHMpZm9yKGM9MDtoPmM7YysrKWk9YVtjXSxyW2NdPWlbMF0sdFtjXT1pLnNsaWNlKDEscysxKTtlbHNlIGZvcihjPTA7aD5jO2MrKylpPWFbY10scltjXT1pWzBdLHRbY109aVsxXTtlbHNlIGhhKDEyKX1lbHNlIGZvcihjPTA7aD5jO2MrKylhW2NdIT09dSYmKGk9e3NlcmllczplfSxlLnBvaW50Q2xhc3MucHJvdG90eXBlLmFwcGx5T3B0aW9ucy5hcHBseShpLFthW2NdXSksZS51cGRhdGVQYXJhbGxlbEFycmF5cyhpLGMpLG4mJmkubmFtZSkmJihsLm5hbWVzW2kueF09aS5uYW1lKTtmb3IoR2EodFswXSkmJmhhKDE0LCEwKSxlLmRhdGE9W10sZS5vcHRpb25zLmRhdGE9YSxjPWc7Yy0tOylmW2NdJiZmW2NdLmRlc3Ryb3kmJmZbY10uZGVzdHJveSgpO20mJihtLmxlbmd0aD0wKSxsJiYobC5taW5SYW5nZT1sLnVzZXJNaW5SYW5nZSksZS5pc0RpcnR5PWUuaXNEaXJ0eURhdGE9ai5pc0RpcnR5Qm94PSEwLGM9ITF9ZWxzZSBxKGEsZnVuY3Rpb24oYSxiKXtmW2JdLnVwZGF0ZShhLCExLG51bGwsITEpfSk7YiYmai5yZWRyYXcoYyl9LHByb2Nlc3NEYXRhOmZ1bmN0aW9uKGEpe3ZhciBlLGI9dGhpcy54RGF0YSxjPXRoaXMueURhdGEsZD1iLmxlbmd0aDtlPTA7dmFyIGYsZyxpLGg9dGhpcy54QXhpcyxqPXRoaXMub3B0aW9ucztpPWouY3JvcFRocmVzaG9sZDt2YXIgbixtLGs9MCxsPXRoaXMuaXNDYXJ0ZXNpYW47aWYobCYmIXRoaXMuaXNEaXJ0eSYmIWguaXNEaXJ0eSYmIXRoaXMueUF4aXMuaXNEaXJ0eSYmIWEpcmV0dXJuITE7Zm9yKGgmJihuPWguZ2V0RXh0cmVtZXMoKSxtPW4ubWluLG49bi5tYXgpLGwmJnRoaXMuc29ydGVkJiYoIWl8fGQ+aXx8dGhpcy5mb3JjZUNyb3ApJiYoYltkLTFdPG18fGJbMF0+bj8oYj1bXSxjPVtdKTooYlswXTxtfHxiW2QtMV0+bikmJihlPXRoaXMuY3JvcERhdGEodGhpcy54RGF0YSx0aGlzLnlEYXRhLG0sbiksYj1lLnhEYXRhLGM9ZS55RGF0YSxlPWUuc3RhcnQsZj0hMCxrPWIubGVuZ3RoKSksaT1iLmxlbmd0aC0xO2k+PTA7aS0tKWQ9YltpXS1iW2ktMV0sIWYmJmJbaV0+bSYmYltpXTxuJiZrKyssZD4wJiYoZz09PXV8fGc+ZCk/Zz1kOjA+ZCYmdGhpcy5yZXF1aXJlU29ydGluZyYmaGEoMTUpO3RoaXMuY3JvcHBlZD1mLHRoaXMuY3JvcFN0YXJ0PWUsdGhpcy5wcm9jZXNzZWRYRGF0YT1iLHRoaXMucHJvY2Vzc2VkWURhdGE9Yyx0aGlzLmFjdGl2ZVBvaW50Q291bnQ9ayxudWxsPT09ai5wb2ludFJhbmdlJiYodGhpcy5wb2ludFJhbmdlPWd8fDEpLHRoaXMuY2xvc2VzdFBvaW50UmFuZ2U9Z30sY3JvcERhdGE6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGksZT1hLmxlbmd0aCxmPTAsZz1lLGg9cCh0aGlzLmNyb3BTaG91bGRlciwxKTtmb3IoaT0wO2U+aTtpKyspaWYoYVtpXT49Yyl7Zj10KDAsaS1oKTticmVha31mb3IoO2U+aTtpKyspaWYoYVtpXT5kKXtnPWkraDticmVha31yZXR1cm57eERhdGE6YS5zbGljZShmLGcpLHlEYXRhOmIuc2xpY2UoZixnKSxzdGFydDpmLGVuZDpnfX0sZ2VuZXJhdGVQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYyxpLGssbixhPXRoaXMub3B0aW9ucy5kYXRhLGI9dGhpcy5kYXRhLGQ9dGhpcy5wcm9jZXNzZWRYRGF0YSxlPXRoaXMucHJvY2Vzc2VkWURhdGEsZj10aGlzLnBvaW50Q2xhc3MsZz1kLmxlbmd0aCxoPXRoaXMuY3JvcFN0YXJ0fHwwLGo9dGhpcy5oYXNHcm91cGVkRGF0YSxsPVtdO2ZvcihifHxqfHwoYj1bXSxiLmxlbmd0aD1hLmxlbmd0aCxiPXRoaXMuZGF0YT1iKSxuPTA7Zz5uO24rKylpPWgrbixqP2xbbl09KG5ldyBmKS5pbml0KHRoaXMsW2Rbbl1dLmNvbmNhdChyYShlW25dKSkpOihiW2ldP2s9YltpXTphW2ldIT09dSYmKGJbaV09az0obmV3IGYpLmluaXQodGhpcyxhW2ldLGRbbl0pKSxsW25dPWspLGxbbl0uaW5kZXg9aTtpZihiJiYoZyE9PShjPWIubGVuZ3RoKXx8aikpZm9yKG49MDtjPm47bisrKW49PT1oJiYhaiYmKG4rPWcpLGJbbl0mJihiW25dLmRlc3Ryb3lFbGVtZW50cygpLGJbbl0ucGxvdFg9dSk7dGhpcy5kYXRhPWIsdGhpcy5wb2ludHM9bH0sZ2V0RXh0cmVtZXM6ZnVuY3Rpb24oYSl7dmFyIGQsYj10aGlzLnlBeGlzLGM9dGhpcy5wcm9jZXNzZWRYRGF0YSxlPVtdLGY9MDtkPXRoaXMueEF4aXMuZ2V0RXh0cmVtZXMoKTt2YXIgaSxqLGssbCxnPWQubWluLGg9ZC5tYXgsYT1hfHx0aGlzLnN0YWNrZWRZRGF0YXx8dGhpcy5wcm9jZXNzZWRZRGF0YTtmb3IoZD1hLmxlbmd0aCxsPTA7ZD5sO2wrKylpZihqPWNbbF0saz1hW2xdLGk9bnVsbCE9PWsmJmshPT11JiYoIWIuaXNMb2d8fGsubGVuZ3RofHxrPjApLGo9dGhpcy5nZXRFeHRyZW1lc0Zyb21BbGx8fHRoaXMuY3JvcHBlZHx8KGNbbCsxXXx8aik+PWcmJihjW2wtMV18fGopPD1oLGkmJmopaWYoaT1rLmxlbmd0aClmb3IoO2ktLTspbnVsbCE9PWtbaV0mJihlW2YrK109a1tpXSk7ZWxzZSBlW2YrK109azt0aGlzLmRhdGFNaW49cCh2b2lkIDAsT2EoZSkpLHRoaXMuZGF0YU1heD1wKHZvaWQgMCxDYShlKSl9LHRyYW5zbGF0ZTpmdW5jdGlvbigpe3RoaXMucHJvY2Vzc2VkWERhdGF8fHRoaXMucHJvY2Vzc0RhdGEoKSx0aGlzLmdlbmVyYXRlUG9pbnRzKCk7Zm9yKHZhciBhPXRoaXMub3B0aW9ucyxiPWEuc3RhY2tpbmcsYz10aGlzLnhBeGlzLGQ9Yy5jYXRlZ29yaWVzLGU9dGhpcy55QXhpcyxmPXRoaXMucG9pbnRzLGc9Zi5sZW5ndGgsaD0hIXRoaXMubW9kaWZ5VmFsdWUsaT1hLnBvaW50UGxhY2VtZW50LGo9ImJldHdlZW4iPT09aXx8amEoaSksaz1hLnRocmVzaG9sZCxhPTA7Zz5hO2ErKyl7dmFyIGw9ZlthXSxuPWwueCxtPWwueSxvPWwubG93LHE9YiYmZS5zdGFja3NbKHRoaXMubmVnU3RhY2tzJiZrPm0/Ii0iOiIiKSt0aGlzLnN0YWNrS2V5XTtlLmlzTG9nJiYwPj1tJiYobC55PW09bnVsbCxoYSgxMCkpLGwucGxvdFg9Yy50cmFuc2xhdGUobiwwLDAsMCwxLGksImZsYWdzIj09PXRoaXMudHlwZSksYiYmdGhpcy52aXNpYmxlJiZxJiZxW25dJiYocT1xW25dLG09cS5wb2ludHNbdGhpcy5pbmRleCsiLCIrYV0sbz1tWzBdLG09bVsxXSwwPT09byYmKG89cChrLGUubWluKSksZS5pc0xvZyYmMD49byYmKG89bnVsbCksbC50b3RhbD1sLnN0YWNrVG90YWw9cS50b3RhbCxsLnBlcmNlbnRhZ2U9cS50b3RhbCYmbC55L3EudG90YWwqMTAwLGwuc3RhY2tZPW0scS5zZXRPZmZzZXQodGhpcy5wb2ludFhPZmZzZXR8fDAsdGhpcy5iYXJXfHwwKSksbC55Qm90dG9tPXMobyk/ZS50cmFuc2xhdGUobywwLDEsMCwxKTpudWxsLGgmJihtPXRoaXMubW9kaWZ5VmFsdWUobSxsKSksbC5wbG90WT0ibnVtYmVyIj09dHlwZW9mIG0mJjEvMCE9PW0/ZS50cmFuc2xhdGUobSwwLDEsMCwxKTp1LGwuY2xpZW50WD1qP2MudHJhbnNsYXRlKG4sMCwwLDAsMSk6bC5wbG90WCxsLm5lZ2F0aXZlPWwueTwoa3x8MCksbC5jYXRlZ29yeT1kJiZkW2wueF0hPT11P2RbbC54XTpsLnh9dGhpcy5nZXRTZWdtZW50cygpfSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBkLGI9dGhpcy5jaGFydCxjPWIucmVuZGVyZXI7ZD10aGlzLm9wdGlvbnMuYW5pbWF0aW9uO3ZhciBnLGU9dGhpcy5jbGlwQm94fHxiLmNsaXBCb3gsZj1iLmludmVydGVkO2QmJiFkYShkKSYmKGQ9Y2FbdGhpcy50eXBlXS5hbmltYXRpb24pLGc9WyJfc2hhcmVkQ2xpcCIsZC5kdXJhdGlvbixkLmVhc2luZyxlLmhlaWdodF0uam9pbigiLCIpLGE/KGE9YltnXSxkPWJbZysibSJdLGF8fChiW2ddPWE9Yy5jbGlwUmVjdChyKGUse3dpZHRoOjB9KSksYltnKyJtIl09ZD1jLmNsaXBSZWN0KC05OSxmPy1iLnBsb3RMZWZ0Oi1iLnBsb3RUb3AsOTksZj9iLmNoYXJ0V2lkdGg6Yi5jaGFydEhlaWdodCkpLHRoaXMuZ3JvdXAuY2xpcChhKSx0aGlzLm1hcmtlckdyb3VwLmNsaXAoZCksdGhpcy5zaGFyZWRDbGlwS2V5PWcpOigoYT1iW2ddKSYmYS5hbmltYXRlKHt3aWR0aDpiLnBsb3RTaXplWH0sZCksYltnKyJtIl0mJmJbZysibSJdLmFuaW1hdGUoe3dpZHRoOmIucGxvdFNpemVYKzk5fSxkKSx0aGlzLmFuaW1hdGU9bnVsbCl9LGFmdGVyQW5pbWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj10aGlzLnNoYXJlZENsaXBLZXksYz10aGlzLmdyb3VwLGQ9dGhpcy5jbGlwQm94O2MmJnRoaXMub3B0aW9ucy5jbGlwIT09ITEmJihiJiZkfHxjLmNsaXAoZD9hLnJlbmRlcmVyLmNsaXBSZWN0KGQpOmEuY2xpcFJlY3QpLHRoaXMubWFya2VyR3JvdXAuY2xpcCgpKSxJKHRoaXMsImFmdGVyQW5pbWF0ZSIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiJiZhW2JdJiYoZHx8KGFbYl09YVtiXS5kZXN0cm95KCkpLGFbYisibSJdJiYoYVtiKyJtIl09YVtiKyJtIl0uZGVzdHJveSgpKSl9LDEwMCl9LGRyYXdQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYSxkLGUsZixnLGgsaSxqLGssbSxvLHEsYj10aGlzLnBvaW50cyxjPXRoaXMuY2hhcnQsbD10aGlzLm9wdGlvbnMubWFya2VyLG49dGhpcy5wb2ludEF0dHJbIiJdLHQ9dGhpcy5tYXJrZXJHcm91cCxzPXAobC5lbmFibGVkLCF0aGlzLnJlcXVpcmVTb3J0aW5nfHx0aGlzLmFjdGl2ZVBvaW50Q291bnQ8LjUqdGhpcy54QXhpcy5sZW4vbC5yYWRpdXMpO2lmKGwuZW5hYmxlZCE9PSExfHx0aGlzLl9oYXNQb2ludE1hcmtlcnMpZm9yKGY9Yi5sZW5ndGg7Zi0tOylnPWJbZl0sZD1VKGcucGxvdFgpLGU9Zy5wbG90WSxrPWcuZ3JhcGhpYyxtPWcubWFya2VyfHx7fSxvPSEhZy5tYXJrZXIsYT1zJiZtLmVuYWJsZWQ9PT11fHxtLmVuYWJsZWQscT1jLmlzSW5zaWRlUGxvdCh2KGQpLGUsYy5pbnZlcnRlZCksYSYmZSE9PXUmJiFpc05hTihlKSYmbnVsbCE9PWcueT8oYT1nLnBvaW50QXR0cltnLnNlbGVjdGVkPyJzZWxlY3QiOiIiXXx8bixoPWEucixpPXAobS5zeW1ib2wsdGhpcy5zeW1ib2wpLGo9MD09PWkuaW5kZXhPZigidXJsIiksaz9rW3E/InNob3ciOiJoaWRlIl0oITApLmFuaW1hdGUocih7eDpkLWgseTplLWh9LGsuc3ltYm9sTmFtZT97d2lkdGg6MipoLGhlaWdodDoyKmh9Ont9KSk6cSYmKGg+MHx8aikmJihnLmdyYXBoaWM9Yy5yZW5kZXJlci5zeW1ib2woaSxkLWgsZS1oLDIqaCwyKmgsbz9tOmwpLmF0dHIoYSkuYWRkKHQpKSk6ayYmKGcuZ3JhcGhpYz1rLmRlc3Ryb3koKSl9LGNvbnZlcnRBdHRyaWJzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmLGcsZT10aGlzLnBvaW50QXR0clRvT3B0aW9ucyxoPXt9LGE9YXx8e30sYj1ifHx7fSxjPWN8fHt9LGQ9ZHx8e307Zm9yKGYgaW4gZSlnPWVbZl0saFtmXT1wKGFbZ10sYltmXSxjW2ZdLGRbZl0pO3JldHVybiBofSxnZXRBdHRyaWJzOmZ1bmN0aW9uKCl7dmFyIGYsYT10aGlzLGI9YS5vcHRpb25zLGM9Y2FbYS50eXBlXS5tYXJrZXI/Yi5tYXJrZXI6YixkPWMuc3RhdGVzLGU9ZC5ob3ZlcixnPWEuY29sb3I7Zj17c3Ryb2tlOmcsZmlsbDpnfTt2YXIgaSxrLGg9YS5wb2ludHN8fFtdLGo9W10sbD1hLnBvaW50QXR0clRvT3B0aW9ucztrPWEuaGFzUG9pbnRTcGVjaWZpY09wdGlvbnM7dmFyIG49Yi5uZWdhdGl2ZUNvbG9yLG09Yy5saW5lQ29sb3Isbz1jLmZpbGxDb2xvcjtpPWIudHVyYm9UaHJlc2hvbGQ7dmFyIHA7aWYoYi5tYXJrZXI/KGUucmFkaXVzPWUucmFkaXVzfHxjLnJhZGl1cytlLnJhZGl1c1BsdXMsZS5saW5lV2lkdGg9ZS5saW5lV2lkdGh8fGMubGluZVdpZHRoK2UubGluZVdpZHRoUGx1cyk6ZS5jb2xvcj1lLmNvbG9yfHx5YShlLmNvbG9yfHxnKS5icmlnaHRlbihlLmJyaWdodG5lc3MpLmdldCgpLGpbIiJdPWEuY29udmVydEF0dHJpYnMoYyxmKSxxKFsiaG92ZXIiLCJzZWxlY3QiXSxmdW5jdGlvbihiKXtqW2JdPWEuY29udmVydEF0dHJpYnMoZFtiXSxqWyIiXSl9KSxhLnBvaW50QXR0cj1qLGc9aC5sZW5ndGgsIWl8fGk+Z3x8aylmb3IoO2ctLTspe2lmKGk9aFtnXSwoYz1pLm9wdGlvbnMmJmkub3B0aW9ucy5tYXJrZXJ8fGkub3B0aW9ucykmJmMuZW5hYmxlZD09PSExJiYoYy5yYWRpdXM9MCksaS5uZWdhdGl2ZSYmbiYmKGkuY29sb3I9aS5maWxsQ29sb3I9biksaz1iLmNvbG9yQnlQb2ludHx8aS5jb2xvcixpLm9wdGlvbnMpZm9yKHAgaW4gbClzKGNbbFtwXV0pJiYoaz0hMCk7az8oYz1jfHx7fSxrPVtdLGQ9Yy5zdGF0ZXN8fHt9LGY9ZC5ob3Zlcj1kLmhvdmVyfHx7fSxiLm1hcmtlcnx8KGYuY29sb3I9Zi5jb2xvcnx8IWkub3B0aW9ucy5jb2xvciYmZS5jb2xvcnx8eWEoaS5jb2xvcikuYnJpZ2h0ZW4oZi5icmlnaHRuZXNzfHxlLmJyaWdodG5lc3MpLmdldCgpKSxmPXtjb2xvcjppLmNvbG9yfSxvfHwoZi5maWxsQ29sb3I9aS5jb2xvciksbXx8KGYubGluZUNvbG9yPWkuY29sb3IpLGtbIiJdPWEuY29udmVydEF0dHJpYnMocihmLGMpLGpbIiJdKSxrLmhvdmVyPWEuY29udmVydEF0dHJpYnMoZC5ob3ZlcixqLmhvdmVyLGtbIiJdKSxrLnNlbGVjdD1hLmNvbnZlcnRBdHRyaWJzKGQuc2VsZWN0LGouc2VsZWN0LGtbIiJdKSk6az1qLGkucG9pbnRBdHRyPWt9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGQsZSxnLGgsaSxhPXRoaXMsYj1hLmNoYXJ0LGM9L0FwcGxlV2ViS2l0XC81MzMvLnRlc3Qod2EpLGY9YS5kYXRhfHxbXTtmb3IoSShhLCJkZXN0cm95IiksWChhKSxxKGEuYXhpc1R5cGVzfHxbXSxmdW5jdGlvbihiKXsoaT1hW2JdKSYmKGxhKGkuc2VyaWVzLGEpLGkuaXNEaXJ0eT1pLmZvcmNlUmVkcmF3PSEwKX0pLGEubGVnZW5kSXRlbSYmYS5jaGFydC5sZWdlbmQuZGVzdHJveUl0ZW0oYSksZT1mLmxlbmd0aDtlLS07KShnPWZbZV0pJiZnLmRlc3Ryb3kmJmcuZGVzdHJveSgpO2EucG9pbnRzPW51bGwsY2xlYXJUaW1lb3V0KGEuYW5pbWF0aW9uVGltZW91dCkscSgiYXJlYSxncmFwaCxkYXRhTGFiZWxzR3JvdXAsZ3JvdXAsbWFya2VyR3JvdXAsdHJhY2tlcixncmFwaE5lZyxhcmVhTmVnLHBvc0NsaXAsbmVnQ2xpcCIuc3BsaXQoIiwiKSxmdW5jdGlvbihiKXthW2JdJiYoZD1jJiYiZ3JvdXAiPT09Yj8iaGlkZSI6ImRlc3Ryb3kiLGFbYl1bZF0oKSl9KSxiLmhvdmVyU2VyaWVzPT09YSYmKGIuaG92ZXJTZXJpZXM9bnVsbCksbGEoYi5zZXJpZXMsYSk7Zm9yKGggaW4gYSlkZWxldGUgYVtoXX0sZ2V0U2VnbWVudFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPVtdLGQ9Yi5vcHRpb25zLnN0ZXA7cmV0dXJuIHEoYSxmdW5jdGlvbihlLGYpe3ZhciBpLGc9ZS5wbG90WCxoPWUucGxvdFk7Yi5nZXRQb2ludFNwbGluZT9jLnB1c2guYXBwbHkoYyxiLmdldFBvaW50U3BsaW5lKGEsZSxmKSk6KGMucHVzaChmPyJMIjoiTSIpLGQmJmYmJihpPWFbZi0xXSwicmlnaHQiPT09ZD9jLnB1c2goaS5wbG90WCxoKToiY2VudGVyIj09PWQ/Yy5wdXNoKChpLnBsb3RYK2cpLzIsaS5wbG90WSwoaS5wbG90WCtnKS8yLGgpOmMucHVzaChnLGkucGxvdFkpKSxjLnB1c2goZS5wbG90WCxlLnBsb3RZKSl9KSxjfSxnZXRHcmFwaFBhdGg6ZnVuY3Rpb24oKXt2YXIgYyxhPXRoaXMsYj1bXSxkPVtdO3JldHVybiBxKGEuc2VnbWVudHMsZnVuY3Rpb24oZSl7Yz1hLmdldFNlZ21lbnRQYXRoKGUpLGUubGVuZ3RoPjE/Yj1iLmNvbmNhdChjKTpkLnB1c2goZVswXSl9KSxhLnNpbmdsZVBvaW50cz1kLGEuZ3JhcGhQYXRoPWJ9LGRyYXdHcmFwaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLm9wdGlvbnMsYz1bWyJncmFwaCIsYi5saW5lQ29sb3J8fHRoaXMuY29sb3JdXSxkPWIubGluZVdpZHRoLGU9Yi5kYXNoU3R5bGUsZj0ic3F1YXJlIiE9PWIubGluZWNhcCxnPXRoaXMuZ2V0R3JhcGhQYXRoKCksaD1iLm5lZ2F0aXZlQ29sb3I7aCYmYy5wdXNoKFsiZ3JhcGhOZWciLGhdKSxxKGMsZnVuY3Rpb24oYyxoKXt2YXIgaz1jWzBdLGw9YVtrXTtsPyhiYihsKSxsLmFuaW1hdGUoe2Q6Z30pKTpkJiZnLmxlbmd0aCYmKGw9e3N0cm9rZTpjWzFdLCJzdHJva2Utd2lkdGgiOmQsZmlsbDpQLHpJbmRleDoxfSxlP2wuZGFzaHN0eWxlPWU6ZiYmKGxbInN0cm9rZS1saW5lY2FwIl09bFsic3Ryb2tlLWxpbmVqb2luIl09InJvdW5kIiksYVtrXT1hLmNoYXJ0LnJlbmRlcmVyLnBhdGgoZykuYXR0cihsKS5hZGQoYS5ncm91cCkuc2hhZG93KCFoJiZiLnNoYWRvdykpfSl9LGNsaXBOZWc6ZnVuY3Rpb24oKXt2YXIgZSxhPXRoaXMub3B0aW9ucyxiPXRoaXMuY2hhcnQsYz1iLnJlbmRlcmVyLGQ9YS5uZWdhdGl2ZUNvbG9yfHxhLm5lZ2F0aXZlRmlsbENvbG9yLGY9dGhpcy5ncmFwaCxnPXRoaXMuYXJlYSxoPXRoaXMucG9zQ2xpcCxpPXRoaXMubmVnQ2xpcDtlPWIuY2hhcnRXaWR0aDt2YXIgaj1iLmNoYXJ0SGVpZ2h0LGs9dChlLGopLGw9dGhpcy55QXhpcztkJiYoZnx8ZykmJihkPXYobC50b1BpeGVscyhhLnRocmVzaG9sZHx8MCwhMCkpLDA+ZCYmKGstPWQpLGE9e3g6MCx5OjAsd2lkdGg6ayxoZWlnaHQ6ZH0saz17eDowLHk6ZCx3aWR0aDprLGhlaWdodDprfSxiLmludmVydGVkJiYoYS5oZWlnaHQ9ay55PWIucGxvdFdpZHRoLWQsYy5pc1ZNTCYmKGE9e3g6Yi5wbG90V2lkdGgtZC1iLnBsb3RMZWZ0LHk6MCx3aWR0aDplLGhlaWdodDpqfSxrPXt4OmQrYi5wbG90TGVmdC1lLHk6MCx3aWR0aDpiLnBsb3RMZWZ0K2QsaGVpZ2h0OmV9KSksbC5yZXZlcnNlZD8oYj1rLGU9YSk6KGI9YSxlPWspLGg/KGguYW5pbWF0ZShiKSxpLmFuaW1hdGUoZSkpOih0aGlzLnBvc0NsaXA9aD1jLmNsaXBSZWN0KGIpLHRoaXMubmVnQ2xpcD1pPWMuY2xpcFJlY3QoZSksZiYmdGhpcy5ncmFwaE5lZyYmKGYuY2xpcChoKSx0aGlzLmdyYXBoTmVnLmNsaXAoaSkpLGcmJihnLmNsaXAoaCksdGhpcy5hcmVhTmVnLmNsaXAoaSkpKSl9LGludmVydEdyb3VwczpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYT17d2lkdGg6Yi55QXhpcy5sZW4saGVpZ2h0OmIueEF4aXMubGVufTtxKFsiZ3JvdXAiLCJtYXJrZXJHcm91cCJdLGZ1bmN0aW9uKGMpe2JbY10mJmJbY10uYXR0cihhKS5pbnZlcnQoKX0pfXZhciBiPXRoaXMsYz1iLmNoYXJ0O2IueEF4aXMmJihOKGMsInJlc2l6ZSIsYSksTihiLCJkZXN0cm95IixmdW5jdGlvbigpe1goYywicmVzaXplIixhKX0pLGEoKSxiLmludmVydEdyb3Vwcz1hKX0scGxvdEdyb3VwOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpc1thXSxnPSFmO3JldHVybiBnJiYodGhpc1thXT1mPXRoaXMuY2hhcnQucmVuZGVyZXIuZyhiKS5hdHRyKHt2aXNpYmlsaXR5OmMsekluZGV4OmR8fC4xfSkuYWRkKGUpKSxmW2c/ImF0dHIiOiJhbmltYXRlIl0odGhpcy5nZXRQbG90Qm94KCkpLGZ9LGdldFBsb3RCb3g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy54QXhpcyxjPXRoaXMueUF4aXM7cmV0dXJuIGEuaW52ZXJ0ZWQmJihiPWMsYz10aGlzLnhBeGlzKSx7dHJhbnNsYXRlWDpiP2IubGVmdDphLnBsb3RMZWZ0LHRyYW5zbGF0ZVk6Yz9jLnRvcDphLnBsb3RUb3Asc2NhbGVYOjEsc2NhbGVZOjF9fSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYyxhPXRoaXMsYj1hLmNoYXJ0LGQ9YS5vcHRpb25zLGU9KGM9ZC5hbmltYXRpb24pJiYhIWEuYW5pbWF0ZSYmYi5yZW5kZXJlci5pc1NWRyYmcChjLmR1cmF0aW9uLDUwMCl8fDAsZj1hLnZpc2libGU/InZpc2libGUiOiJoaWRkZW4iLGc9ZC56SW5kZXgsaD1hLmhhc1JlbmRlcmVkLGk9Yi5zZXJpZXNHcm91cDtjPWEucGxvdEdyb3VwKCJncm91cCIsInNlcmllcyIsZixnLGkpLGEubWFya2VyR3JvdXA9YS5wbG90R3JvdXAoIm1hcmtlckdyb3VwIiwibWFya2VycyIsZixnLGkpLGUmJmEuYW5pbWF0ZSghMCksYS5nZXRBdHRyaWJzKCksYy5pbnZlcnRlZD1hLmlzQ2FydGVzaWFuP2IuaW52ZXJ0ZWQ6ITEsYS5kcmF3R3JhcGgmJihhLmRyYXdHcmFwaCgpLGEuY2xpcE5lZygpKSxxKGEucG9pbnRzLGZ1bmN0aW9uKGEpe2EucmVkcmF3JiZhLnJlZHJhdygpfSksYS5kcmF3RGF0YUxhYmVscyYmYS5kcmF3RGF0YUxhYmVscygpLGEudmlzaWJsZSYmYS5kcmF3UG9pbnRzKCksYS5kcmF3VHJhY2tlciYmYS5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmchPT0hMSYmYS5kcmF3VHJhY2tlcigpLGIuaW52ZXJ0ZWQmJmEuaW52ZXJ0R3JvdXBzKCksZC5jbGlwIT09ITEmJiFhLnNoYXJlZENsaXBLZXkmJiFoJiZjLmNsaXAoYi5jbGlwUmVjdCksZSYmYS5hbmltYXRlKCksaHx8KGU/YS5hbmltYXRpb25UaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFmdGVyQW5pbWF0ZSgpfSxlKTphLmFmdGVyQW5pbWF0ZSgpKSxhLmlzRGlydHk9YS5pc0RpcnR5RGF0YT0hMSxhLmhhc1JlbmRlcmVkPSEwfSxyZWRyYXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy5pc0RpcnR5RGF0YSxjPXRoaXMuZ3JvdXAsZD10aGlzLnhBeGlzLGU9dGhpcy55QXhpcztjJiYoYS5pbnZlcnRlZCYmYy5hdHRyKHt3aWR0aDphLnBsb3RXaWR0aCxoZWlnaHQ6YS5wbG90SGVpZ2h0fSksYy5hbmltYXRlKHt0cmFuc2xhdGVYOnAoZCYmZC5sZWZ0LGEucGxvdExlZnQpLHRyYW5zbGF0ZVk6cChlJiZlLnRvcCxhLnBsb3RUb3ApfSkpLHRoaXMudHJhbnNsYXRlKCksdGhpcy5zZXRUb29sdGlwUG9pbnRzJiZ0aGlzLnNldFRvb2x0aXBQb2ludHMoITApLHRoaXMucmVuZGVyKCksYiYmSSh0aGlzLCJ1cGRhdGVkRGF0YSIpfX0sR2IucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7UGEodGhpcyx0aGlzLmF4aXMpfSxyZW5kZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5mb3JtYXQsYz1jP0phKGMsdGhpcyk6Yi5mb3JtYXR0ZXIuY2FsbCh0aGlzKTt0aGlzLmxhYmVsP3RoaXMubGFiZWwuYXR0cih7dGV4dDpjLHZpc2liaWxpdHk6ImhpZGRlbiJ9KTp0aGlzLmxhYmVsPXRoaXMuYXhpcy5jaGFydC5yZW5kZXJlci50ZXh0KGMsbnVsbCxudWxsLGIudXNlSFRNTCkuY3NzKGIuc3R5bGUpLmF0dHIoe2FsaWduOnRoaXMudGV4dEFsaWduLHJvdGF0aW9uOmIucm90YXRpb24sdmlzaWJpbGl0eToiaGlkZGVuIn0pLmFkZChhKX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5heGlzLGQ9Yy5jaGFydCxlPWQuaW52ZXJ0ZWQsZj10aGlzLmlzTmVnYXRpdmUsZz1jLnRyYW5zbGF0ZShjLnVzZVBlcmNlbnRhZ2U/MTAwOnRoaXMudG90YWwsMCwwLDAsMSksYz1jLnRyYW5zbGF0ZSgwKSxjPVEoZy1jKSxoPWQueEF4aXNbMF0udHJhbnNsYXRlKHRoaXMueCkrYSxpPWQucGxvdEhlaWdodCxmPXt4OmU/Zj9nOmctYzpoLHk6ZT9pLWgtYjpmP2ktZy1jOmktZyx3aWR0aDplP2M6YixoZWlnaHQ6ZT9iOmN9OyhlPXRoaXMubGFiZWwpJiYoZS5hbGlnbih0aGlzLmFsaWduT3B0aW9ucyxudWxsLGYpLGY9ZS5hbGlnbkF0dHIsZVt0aGlzLm9wdGlvbnMuY3JvcD09PSExfHxkLmlzSW5zaWRlUGxvdChmLngsZi55KT8ic2hvdyI6ImhpZGUiXSghMCkpfX0sbmEucHJvdG90eXBlLmJ1aWxkU3RhY2tzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZXJpZXMsYj1wKHRoaXMub3B0aW9ucy5yZXZlcnNlZFN0YWNrcywhMCksYz1hLmxlbmd0aDtpZighdGhpcy5pc1hBeGlzKXtmb3IodGhpcy51c2VQZXJjZW50YWdlPSExO2MtLTspYVtiP2M6YS5sZW5ndGgtYy0xXS5zZXRTdGFja2VkUG9pbnRzKCk7aWYodGhpcy51c2VQZXJjZW50YWdlKWZvcihjPTA7YzxhLmxlbmd0aDtjKyspYVtjXS5zZXRQZXJjZW50U3RhY2tzKCl9fSxuYS5wcm90b3R5cGUucmVuZGVyU3RhY2tUb3RhbHM9ZnVuY3Rpb24oKXt2YXIgZCxlLGE9dGhpcy5jaGFydCxiPWEucmVuZGVyZXIsYz10aGlzLnN0YWNrcyxmPXRoaXMuc3RhY2tUb3RhbEdyb3VwO2Z8fCh0aGlzLnN0YWNrVG90YWxHcm91cD1mPWIuZygic3RhY2stbGFiZWxzIikuYXR0cih7dmlzaWJpbGl0eToidmlzaWJsZSIsekluZGV4OjZ9KS5hZGQoKSksZi50cmFuc2xhdGUoYS5wbG90TGVmdCxhLnBsb3RUb3ApO2ZvcihkIGluIGMpZm9yKGUgaW4gYT1jW2RdKWFbZV0ucmVuZGVyKGYpfSxPLnByb3RvdHlwZS5zZXRTdGFja2VkUG9pbnRzPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnN0YWNraW5nJiYodGhpcy52aXNpYmxlPT09ITB8fHRoaXMuY2hhcnQub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXM9PT0hMSkpe3ZhciBtLG8scCxxLHIscyxhPXRoaXMucHJvY2Vzc2VkWERhdGEsYj10aGlzLnByb2Nlc3NlZFlEYXRhLGM9W10sZD1iLmxlbmd0aCxlPXRoaXMub3B0aW9ucyxmPWUudGhyZXNob2xkLGc9ZS5zdGFjayxlPWUuc3RhY2tpbmcsaD10aGlzLnN0YWNrS2V5LGk9Ii0iK2gsaj10aGlzLm5lZ1N0YWNrcyxrPXRoaXMueUF4aXMsbD1rLnN0YWNrcyxuPWsub2xkU3RhY2tzO2ZvcihxPTA7ZD5xO3ErKylyPWFbcV0scz1iW3FdLHA9dGhpcy5pbmRleCsiLCIrcSxvPShtPWomJmY+cyk/aTpoLGxbb118fChsW29dPXt9KSxsW29dW3JdfHwobltvXSYmbltvXVtyXT8obFtvXVtyXT1uW29dW3JdLGxbb11bcl0udG90YWw9bnVsbCk6bFtvXVtyXT1uZXcgR2IoayxrLm9wdGlvbnMuc3RhY2tMYWJlbHMsbSxyLGcpKSxvPWxbb11bcl0sby5wb2ludHNbcF09W28uY3VtfHwwXSwicGVyY2VudCI9PT1lPyhtPW0/aDppLGomJmxbbV0mJmxbbV1bcl0/KG09bFttXVtyXSxvLnRvdGFsPW0udG90YWw9dChtLnRvdGFsLG8udG90YWwpK1Eocyl8fDApOm8udG90YWw9ZWEoby50b3RhbCsoUShzKXx8MCkpKTpvLnRvdGFsPWVhKG8udG90YWwrKHN8fDApKSxvLmN1bT0oby5jdW18fDApKyhzfHwwKSxvLnBvaW50c1twXS5wdXNoKG8uY3VtKSxjW3FdPW8uY3VtOyJwZXJjZW50Ij09PWUmJihrLnVzZVBlcmNlbnRhZ2U9ITApLHRoaXMuc3RhY2tlZFlEYXRhPWMsay5vbGRTdGFja3M9e319fSxPLnByb3RvdHlwZS5zZXRQZXJjZW50U3RhY2tzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuc3RhY2tLZXksYz1hLnlBeGlzLnN0YWNrcyxkPWEucHJvY2Vzc2VkWERhdGE7cShbYiwiLSIrYl0sZnVuY3Rpb24oYil7Zm9yKHZhciBlLGcsaCxmPWQubGVuZ3RoO2YtLTspZz1kW2ZdLGU9KGg9Y1tiXSYmY1tiXVtnXSkmJmgucG9pbnRzW2EuaW5kZXgrIiwiK2ZdLChnPWUpJiYoaD1oLnRvdGFsPzEwMC9oLnRvdGFsOjAsZ1swXT1lYShnWzBdKmgpLGdbMV09ZWEoZ1sxXSpoKSxhLnN0YWNrZWRZRGF0YVtmXT1nWzFdKX0pfSxyKFlhLnByb3RvdHlwZSx7YWRkU2VyaWVzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXM7cmV0dXJuIGEmJihiPXAoYiwhMCksSShlLCJhZGRTZXJpZXMiLHtvcHRpb25zOmF9LGZ1bmN0aW9uKCl7ZD1lLmluaXRTZXJpZXMoYSksZS5pc0RpcnR5TGVnZW5kPSEwLGUubGlua1NlcmllcygpLGImJmUucmVkcmF3KGMpfSkpLGR9LGFkZEF4aXM6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Yj8ieEF4aXMiOiJ5QXhpcyIsZj10aGlzLm9wdGlvbnM7bmV3IG5hKHRoaXMsdyhhLHtpbmRleDp0aGlzW2VdLmxlbmd0aCxpc1g6Yn0pKSxmW2VdPXJhKGZbZV18fHt9KSxmW2VdLnB1c2goYSkscChjLCEwKSYmdGhpcy5yZWRyYXcoZCl9LHNob3dMb2FkaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLm9wdGlvbnMsZD1iLmxvYWRpbmdEaXYsZT1jLmxvYWRpbmcsZj1mdW5jdGlvbigpe2QmJkIoZCx7bGVmdDpiLnBsb3RMZWZ0KyJweCIsdG9wOmIucGxvdFRvcCsicHgiLHdpZHRoOmIucGxvdFdpZHRoKyJweCIsaGVpZ2h0OmIucGxvdEhlaWdodCsicHgifSl9O2R8fChiLmxvYWRpbmdEaXY9ZD0kKEthLHtjbGFzc05hbWU6ImhpZ2hjaGFydHMtbG9hZGluZyJ9LHIoZS5zdHlsZSx7ekluZGV4OjEwLGRpc3BsYXk6UH0pLGIuY29udGFpbmVyKSxiLmxvYWRpbmdTcGFuPSQoInNwYW4iLG51bGwsZS5sYWJlbFN0eWxlLGQpLE4oYiwicmVkcmF3IixmKSksYi5sb2FkaW5nU3Bhbi5pbm5lckhUTUw9YXx8Yy5sYW5nLmxvYWRpbmcsYi5sb2FkaW5nU2hvd258fChCKGQse29wYWNpdHk6MCxkaXNwbGF5OiIifSksamIoZCx7b3BhY2l0eTplLnN0eWxlLm9wYWNpdHl9LHtkdXJhdGlvbjplLnNob3dEdXJhdGlvbnx8MH0pLGIubG9hZGluZ1Nob3duPSEwKSxmKCl9LGhpZGVMb2FkaW5nOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5sb2FkaW5nRGl2O2ImJmpiKGIse29wYWNpdHk6MH0se2R1cmF0aW9uOmEubG9hZGluZy5oaWRlRHVyYXRpb258fDEwMCxjb21wbGV0ZTpmdW5jdGlvbigpe0IoYix7ZGlzcGxheTpQfSl9fSksdGhpcy5sb2FkaW5nU2hvd249ITF9fSkscihGYS5wcm90b3R5cGUse3VwZGF0ZTpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Zi5hcHBseU9wdGlvbnMoYSksZGEoYSkmJiFIYShhKSYmKGYucmVkcmF3PWZ1bmN0aW9uKCl7aCYmKGEmJmEubWFya2VyJiZhLm1hcmtlci5zeW1ib2w/Zi5ncmFwaGljPWguZGVzdHJveSgpOmguYXR0cihmLnBvaW50QXR0cltmLnN0YXRlfHwiIl0pKSxhJiZhLmRhdGFMYWJlbHMmJmYuZGF0YUxhYmVsJiYoZi5kYXRhTGFiZWw9Zi5kYXRhTGFiZWwuZGVzdHJveSgpKSxmLnJlZHJhdz1udWxsfSksaT1mLmluZGV4LGcudXBkYXRlUGFyYWxsZWxBcnJheXMoZixpKSxrLmRhdGFbaV09Zi5vcHRpb25zLGcuaXNEaXJ0eT1nLmlzRGlydHlEYXRhPSEwLCFnLmZpeGVkQm94JiZnLmhhc0NhcnRlc2lhblNlcmllcyYmKGouaXNEaXJ0eUJveD0hMCksInBvaW50Ij09PWsubGVnZW5kVHlwZSYmai5sZWdlbmQuZGVzdHJveUl0ZW0oZiksYiYmai5yZWRyYXcoYyl9dmFyIGksZj10aGlzLGc9Zi5zZXJpZXMsaD1mLmdyYXBoaWMsaj1nLmNoYXJ0LGs9Zy5vcHRpb25zLGI9cChiLCEwKTtkPT09ITE/ZSgpOmYuZmlyZVBvaW50RXZlbnQoInVwZGF0ZSIse29wdGlvbnM6YX0sZSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBnLGM9dGhpcyxkPWMuc2VyaWVzLGU9ZC5wb2ludHMsZj1kLmNoYXJ0LGg9ZC5kYXRhO1JhKGIsZiksYT1wKGEsITApLGMuZmlyZVBvaW50RXZlbnQoInJlbW92ZSIsbnVsbCxmdW5jdGlvbigpe2c9TWEoYyxoKSxoLmxlbmd0aD09PWUubGVuZ3RoJiZlLnNwbGljZShnLDEpLGguc3BsaWNlKGcsMSksZC5vcHRpb25zLmRhdGEuc3BsaWNlKGcsMSksZC51cGRhdGVQYXJhbGxlbEFycmF5cyhjLCJzcGxpY2UiLGcsMSksYy5kZXN0cm95KCksZC5pc0RpcnR5PSEwLGQuaXNEaXJ0eURhdGE9ITAsYSYmZi5yZWRyYXcoKX0pfX0pLHIoTy5wcm90b3R5cGUse2FkZFBvaW50OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBuLGU9dGhpcy5vcHRpb25zLGY9dGhpcy5kYXRhLGc9dGhpcy5ncmFwaCxoPXRoaXMuYXJlYSxpPXRoaXMuY2hhcnQsaj10aGlzLnhBeGlzJiZ0aGlzLnhBeGlzLm5hbWVzLGs9ZyYmZy5zaGlmdHx8MCxsPWUuZGF0YSxtPXRoaXMueERhdGE7aWYoUmEoZCxpKSxjJiZxKFtnLGgsdGhpcy5ncmFwaE5lZyx0aGlzLmFyZWFOZWddLGZ1bmN0aW9uKGEpe2EmJihhLnNoaWZ0PWsrMSl9KSxoJiYoaC5pc0FyZWE9ITApLGI9cChiLCEwKSxkPXtzZXJpZXM6dGhpc30sdGhpcy5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkoZCxbYV0pLGc9ZC54LGg9bS5sZW5ndGgsdGhpcy5yZXF1aXJlU29ydGluZyYmZzxtW2gtMV0pZm9yKG49ITA7aCYmbVtoLTFdPmc7KWgtLTt0aGlzLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGQsInNwbGljZSIsaCwwLDApLHRoaXMudXBkYXRlUGFyYWxsZWxBcnJheXMoZCxoKSxqJiZkLm5hbWUmJihqW2ddPWQubmFtZSksbC5zcGxpY2UoaCwwLGEpLG4mJih0aGlzLmRhdGEuc3BsaWNlKGgsMCxudWxsKSx0aGlzLnByb2Nlc3NEYXRhKCkpLCJwb2ludCI9PT1lLmxlZ2VuZFR5cGUmJnRoaXMuZ2VuZXJhdGVQb2ludHMoKSxjJiYoZlswXSYmZlswXS5yZW1vdmU/ZlswXS5yZW1vdmUoITEpOihmLnNoaWZ0KCksdGhpcy51cGRhdGVQYXJhbGxlbEFycmF5cyhkLCJzaGlmdCIpLGwuc2hpZnQoKSkpLHRoaXMuaXNEaXJ0eURhdGE9dGhpcy5pc0RpcnR5PSEwLGImJih0aGlzLmdldEF0dHJpYnMoKSxpLnJlZHJhdygpKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY2hhcnQsYT1wKGEsITApO2MuaXNSZW1vdmluZ3x8KGMuaXNSZW1vdmluZz0hMCxJKGMsInJlbW92ZSIsbnVsbCxmdW5jdGlvbigpe2MuZGVzdHJveSgpLGQuaXNEaXJ0eUxlZ2VuZD1kLmlzRGlydHlCb3g9ITAsZC5saW5rU2VyaWVzKCksYSYmZC5yZWRyYXcoYil9KSksYy5pc1JlbW92aW5nPSExfSx1cGRhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgaSxjPXRoaXMsZD10aGlzLmNoYXJ0LGU9dGhpcy51c2VyT3B0aW9ucyxmPXRoaXMudHlwZSxnPUhbZl0ucHJvdG90eXBlLGg9WyJncm91cCIsIm1hcmtlckdyb3VwIiwiZGF0YUxhYmVsc0dyb3VwIl07cShoLGZ1bmN0aW9uKGEpe2hbYV09Y1thXSxkZWxldGUgY1thXX0pLGE9dyhlLHthbmltYXRpb246ITEsaW5kZXg6dGhpcy5pbmRleCxwb2ludFN0YXJ0OnRoaXMueERhdGFbMF19LHtkYXRhOnRoaXMub3B0aW9ucy5kYXRhfSxhKSx0aGlzLnJlbW92ZSghMSk7Zm9yKGkgaW4gZylnLmhhc093blByb3BlcnR5KGkpJiYodGhpc1tpXT11KTtyKHRoaXMsSFthLnR5cGV8fGZdLnByb3RvdHlwZSkscShoLGZ1bmN0aW9uKGEpe2NbYV09aFthXX0pLHRoaXMuaW5pdChkLGEpLGQubGlua1NlcmllcygpLHAoYiwhMCkmJmQucmVkcmF3KCExKX19KSxyKG5hLnByb3RvdHlwZSx7dXBkYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGFydCxhPWMub3B0aW9uc1t0aGlzLmNvbGxdW3RoaXMub3B0aW9ucy5pbmRleF09dyh0aGlzLnVzZXJPcHRpb25zLGEpO3RoaXMuZGVzdHJveSghMCksdGhpcy5fYWRkZWRQbG90TEI9dSx0aGlzLmluaXQoYyxyKGEse2V2ZW50czp1fSkpLGMuaXNEaXJ0eUJveD0hMCxwKGIsITApJiZjLnJlZHJhdygpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hhcnQsYz10aGlzLmNvbGwsZD10aGlzLnNlcmllcyxlPWQubGVuZ3RoO2UtLTspZFtlXSYmZFtlXS5yZW1vdmUoITEpO2xhKGIuYXhlcyx0aGlzKSxsYShiW2NdLHRoaXMpLGIub3B0aW9uc1tjXS5zcGxpY2UodGhpcy5vcHRpb25zLmluZGV4LDEpLHEoYltjXSxmdW5jdGlvbihhLGIpe2Eub3B0aW9ucy5pbmRleD1ifSksdGhpcy5kZXN0cm95KCksYi5pc0RpcnR5Qm94PSEwLHAoYSwhMCkmJmIucmVkcmF3KCl9LHNldFRpdGxlOmZ1bmN0aW9uKGEsYil7dGhpcy51cGRhdGUoe3RpdGxlOmF9LGIpfSxzZXRDYXRlZ29yaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy51cGRhdGUoe2NhdGVnb3JpZXM6YX0sYil9fSksaWE9bWEoTyksSC5saW5lPWlhLGNhLmFyZWE9dyhULHt0aHJlc2hvbGQ6MH0pO3ZhciBxYT1tYShPLHt0eXBlOiJhcmVhIixnZXRTZWdtZW50czpmdW5jdGlvbigpe3ZhciBpLGosbixtLGE9dGhpcyxiPVtdLGM9W10sZD1bXSxlPXRoaXMueEF4aXMsZj10aGlzLnlBeGlzLGc9Zi5zdGFja3NbdGhpcy5zdGFja0tleV0saD17fSxrPXRoaXMucG9pbnRzLGw9dGhpcy5vcHRpb25zLmNvbm5lY3ROdWxscztpZih0aGlzLm9wdGlvbnMuc3RhY2tpbmcmJiF0aGlzLmNyb3BwZWQpe2ZvcihuPTA7bjxrLmxlbmd0aDtuKyspaFtrW25dLnhdPWtbbl07Zm9yKG0gaW4gZyludWxsIT09Z1ttXS50b3RhbCYmZC5wdXNoKCttKTtkLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSkscShkLGZ1bmN0aW9uKGIpe3ZhciBrLGQ9MDtpZighbHx8aFtiXSYmbnVsbCE9PWhbYl0ueSlpZihoW2JdKWMucHVzaChoW2JdKTtlbHNle2ZvcihuPWEuaW5kZXg7bjw9Zi5zZXJpZXMubGVuZ3RoO24rKylpZihrPWdbYl0ucG9pbnRzW24rIiwiK2JdKXtkPWtbMV07YnJlYWt9aT1lLnRyYW5zbGF0ZShiKSxqPWYudG9QaXhlbHMoZCwhMCksYy5wdXNoKHt5Om51bGwscGxvdFg6aSxjbGllbnRYOmkscGxvdFk6aix5Qm90dG9tOmosb25Nb3VzZU92ZXI6c2F9KX19KSxjLmxlbmd0aCYmYi5wdXNoKGMpfWVsc2UgTy5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSxiPXRoaXMuc2VnbWVudHM7dGhpcy5zZWdtZW50cz1ifSxnZXRTZWdtZW50UGF0aDpmdW5jdGlvbihhKXt2YXIgZCxiPU8ucHJvdG90eXBlLmdldFNlZ21lbnRQYXRoLmNhbGwodGhpcyxhKSxjPVtdLmNvbmNhdChiKSxlPXRoaXMub3B0aW9ucztkPWIubGVuZ3RoO3ZhciBnLGY9dGhpcy55QXhpcy5nZXRUaHJlc2hvbGQoZS50aHJlc2hvbGQpO2lmKDM9PT1kJiZjLnB1c2goIkwiLGJbMV0sYlsyXSksZS5zdGFja2luZyYmIXRoaXMuY2xvc2VkU3RhY2tzKWZvcihkPWEubGVuZ3RoLTE7ZD49MDtkLS0pZz1wKGFbZF0ueUJvdHRvbSxmKSxkPGEubGVuZ3RoLTEmJmUuc3RlcCYmYy5wdXNoKGFbZCsxXS5wbG90WCxnKSxjLnB1c2goYVtkXS5wbG90WCxnKTtlbHNlIHRoaXMuY2xvc2VTZWdtZW50KGMsYSxmKTtyZXR1cm4gdGhpcy5hcmVhUGF0aD10aGlzLmFyZWFQYXRoLmNvbmNhdChjKSxifSxjbG9zZVNlZ21lbnQ6ZnVuY3Rpb24oYSxiLGMpe2EucHVzaCgiTCIsYltiLmxlbmd0aC0xXS5wbG90WCxjLCJMIixiWzBdLnBsb3RYLGMpfSxkcmF3R3JhcGg6ZnVuY3Rpb24oKXt0aGlzLmFyZWFQYXRoPVtdLE8ucHJvdG90eXBlLmRyYXdHcmFwaC5hcHBseSh0aGlzKTt2YXIgYT10aGlzLGI9dGhpcy5hcmVhUGF0aCxjPXRoaXMub3B0aW9ucyxkPWMubmVnYXRpdmVDb2xvcixlPWMubmVnYXRpdmVGaWxsQ29sb3IsZj1bWyJhcmVhIix0aGlzLmNvbG9yLGMuZmlsbENvbG9yXV07KGR8fGUpJiZmLnB1c2goWyJhcmVhTmVnIixkLGVdKSxxKGYsZnVuY3Rpb24oZCl7dmFyIGU9ZFswXSxmPWFbZV07Zj9mLmFuaW1hdGUoe2Q6Yn0pOmFbZV09YS5jaGFydC5yZW5kZXJlci5wYXRoKGIpLmF0dHIoe2ZpbGw6cChkWzJdLHlhKGRbMV0pLnNldE9wYWNpdHkocChjLmZpbGxPcGFjaXR5LC43NSkpLmdldCgpKSx6SW5kZXg6MH0pLmFkZChhLmdyb3VwKX0pfSxkcmF3TGVnZW5kU3ltYm9sOk0uZHJhd1JlY3RhbmdsZX0pO0guYXJlYT1xYSxjYS5zcGxpbmU9dyhUKSxpYT1tYShPLHt0eXBlOiJzcGxpbmUiLGdldFBvaW50U3BsaW5lOmZ1bmN0aW9uKGEsYixjKXt2YXIgaCxpLGosayxkPWIucGxvdFgsZT1iLnBsb3RZLGY9YVtjLTFdLGc9YVtjKzFdO2lmKGYmJmcpe2E9Zi5wbG90WSxqPWcucGxvdFg7dmFyIGwsZz1nLnBsb3RZO2g9KDEuNSpkK2YucGxvdFgpLzIuNSxpPSgxLjUqZSthKS8yLjUsaj0oMS41KmQraikvMi41LGs9KDEuNSplK2cpLzIuNSxsPShrLWkpKihqLWQpLyhqLWgpK2UtayxpKz1sLGsrPWwsaT5hJiZpPmU/KGk9dChhLGUpLGs9MiplLWkpOmE+aSYmZT5pJiYoaT1MKGEsZSksaz0yKmUtaSksaz5nJiZrPmU/KGs9dChnLGUpLGk9MiplLWspOmc+ayYmZT5rJiYoaz1MKGcsZSksaT0yKmUtayksYi5yaWdodENvbnRYPWosYi5yaWdodENvbnRZPWt9cmV0dXJuIGM/KGI9WyJDIixmLnJpZ2h0Q29udFh8fGYucGxvdFgsZi5yaWdodENvbnRZfHxmLnBsb3RZLGh8fGQsaXx8ZSxkLGVdLGYucmlnaHRDb250WD1mLnJpZ2h0Q29udFk9bnVsbCk6Yj1bIk0iLGQsZV0sYn19KSxILnNwbGluZT1pYSxjYS5hcmVhc3BsaW5lPXcoY2EuYXJlYSkscWE9cWEucHJvdG90eXBlLGlhPW1hKGlhLHt0eXBlOiJhcmVhc3BsaW5lIixjbG9zZWRTdGFja3M6ITAsZ2V0U2VnbWVudFBhdGg6cWEuZ2V0U2VnbWVudFBhdGgsY2xvc2VTZWdtZW50OnFhLmNsb3NlU2VnbWVudCxkcmF3R3JhcGg6cWEuZHJhd0dyYXBoLGRyYXdMZWdlbmRTeW1ib2w6TS5kcmF3UmVjdGFuZ2xlfSksSC5hcmVhc3BsaW5lPWlhLGNhLmNvbHVtbj13KFQse2JvcmRlckNvbG9yOiIjRkZGRkZGIixib3JkZXJSYWRpdXM6MCxncm91cFBhZGRpbmc6LjIsbWFya2VyOm51bGwscG9pbnRQYWRkaW5nOi4xLG1pblBvaW50TGVuZ3RoOjAsY3JvcFRocmVzaG9sZDo1MCxwb2ludFJhbmdlOm51bGwsc3RhdGVzOntob3Zlcjp7YnJpZ2h0bmVzczouMSxzaGFkb3c6ITEsaGFsbzohMX0sc2VsZWN0Ontjb2xvcjoiI0MwQzBDMCIsYm9yZGVyQ29sb3I6IiMwMDAwMDAiLHNoYWRvdzohMX19LGRhdGFMYWJlbHM6e2FsaWduOm51bGwsdmVydGljYWxBbGlnbjpudWxsLHk6bnVsbH0sc3RpY2t5VHJhY2tpbmc6ITEsdG9vbHRpcDp7ZGlzdGFuY2U6Nn0sdGhyZXNob2xkOjB9KSxpYT1tYShPLHt0eXBlOiJjb2x1bW4iLHBvaW50QXR0clRvT3B0aW9uczp7c3Ryb2tlOiJib3JkZXJDb2xvciIsZmlsbDoiY29sb3IiLHI6ImJvcmRlclJhZGl1cyJ9LGNyb3BTaG91bGRlcjowLHRyYWNrZXJHcm91cHM6WyJncm91cCIsImRhdGFMYWJlbHNHcm91cCJdLG5lZ1N0YWNrczohMCxpbml0OmZ1bmN0aW9uKCl7Ty5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9dGhpcyxiPWEuY2hhcnQ7Yi5oYXNSZW5kZXJlZCYmcShiLnNlcmllcyxmdW5jdGlvbihiKXtiLnR5cGU9PT1hLnR5cGUmJihiLmlzRGlydHk9ITApfSl9LGdldENvbHVtbk1ldHJpY3M6ZnVuY3Rpb24oKXt2YXIgZixoLGE9dGhpcyxiPWEub3B0aW9ucyxjPWEueEF4aXMsZD1hLnlBeGlzLGU9Yy5yZXZlcnNlZCxnPXt9LGk9MDtiLmdyb3VwaW5nPT09ITE/aT0xOnEoYS5jaGFydC5zZXJpZXMsZnVuY3Rpb24oYil7dmFyIGM9Yi5vcHRpb25zLGU9Yi55QXhpcztiLnR5cGU9PT1hLnR5cGUmJmIudmlzaWJsZSYmZC5sZW49PT1lLmxlbiYmZC5wb3M9PT1lLnBvcyYmKGMuc3RhY2tpbmc/KGY9Yi5zdGFja0tleSxnW2ZdPT09dSYmKGdbZl09aSsrKSxoPWdbZl0pOmMuZ3JvdXBpbmchPT0hMSYmKGg9aSsrKSxiLmNvbHVtbkluZGV4PWgpfSk7dmFyIGM9TChRKGMudHJhbnNBKSooYy5vcmRpbmFsU2xvcGV8fGIucG9pbnRSYW5nZXx8Yy5jbG9zZXN0UG9pbnRSYW5nZXx8Yy50aWNrSW50ZXJ2YWx8fDEpLGMubGVuKSxqPWMqYi5ncm91cFBhZGRpbmcsaz0oYy0yKmopL2ksbD1iLnBvaW50V2lkdGgsYj1zKGwpPyhrLWwpLzI6aypiLnBvaW50UGFkZGluZyxsPXAobCxrLTIqYik7cmV0dXJuIGEuY29sdW1uTWV0cmljcz17d2lkdGg6bCxvZmZzZXQ6YisoaisoKGU/aS0oYS5jb2x1bW5JbmRleHx8MCk6YS5jb2x1bW5JbmRleCl8fDApKmstYy8yKSooZT8tMToxKX19LHRyYW5zbGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0LGM9YS5vcHRpb25zLGQ9YS5ib3JkZXJXaWR0aD1wKGMuYm9yZGVyV2lkdGgsYS5hY3RpdmVQb2ludENvdW50Pi41KmEueEF4aXMubGVuPzA6MSksZT1hLnlBeGlzLGY9YS50cmFuc2xhdGVkVGhyZXNob2xkPWUuZ2V0VGhyZXNob2xkKGMudGhyZXNob2xkKSxnPXAoYy5taW5Qb2ludExlbmd0aCw1KSxoPWEuZ2V0Q29sdW1uTWV0cmljcygpLGk9aC53aWR0aCxqPWEuYmFyVz10KGksMSsyKmQpLGs9YS5wb2ludFhPZmZzZXQ9aC5vZmZzZXQsbD0tKGQlMj8uNTowKSxuPWQlMj8uNToxO2IucmVuZGVyZXIuaXNWTUwmJmIuaW52ZXJ0ZWQmJihuKz0xKSxjLnBvaW50UGFkZGluZyYmKGo9TGEoaikpLE8ucHJvdG90eXBlLnRyYW5zbGF0ZS5hcHBseShhKSxxKGEucG9pbnRzLGZ1bmN0aW9uKGMpe3ZhciB1LGQ9cChjLnlCb3R0b20sZiksaD1MKHQoLTk5OS1kLGMucGxvdFkpLGUubGVuKzk5OStkKSxxPWMucGxvdFgrayxyPWoscz1MKGgsZCk7dT10KGgsZCktcyxRKHUpPGcmJmcmJih1PWcscz12KFEocy1mKT5nP2QtZzpmLShlLnRyYW5zbGF0ZShjLnksMCwxLDAsMSk8PWY/ZzowKSkpLGMuYmFyWD1xLGMucG9pbnRXaWR0aD1pLGMudG9vbHRpcFBvcz1iLmludmVydGVkP1tlLmxlbi1oLGEueEF4aXMubGVuLXEtci8yXTpbcStyLzIsaCtlLnBvcy1iLnBsb3RUb3BdLHI9dihxK3IpK2wscT12KHEpK2wsci09cSxkPVEocyk8LjUsdT12KHMrdSkrbixzPXYocykrbix1LT1zLGQmJihzLT0xLHUrPTEpLGMuc2hhcGVUeXBlPSJyZWN0IixjLnNoYXBlQXJncz17eDpxLHk6cyx3aWR0aDpyLGhlaWdodDp1fX0pfSxnZXRTeW1ib2w6c2EsZHJhd0xlZ2VuZFN5bWJvbDpNLmRyYXdSZWN0YW5nbGUsZHJhd0dyYXBoOnNhLGRyYXdQb2ludHM6ZnVuY3Rpb24oKXt2YXIgZixnLGE9dGhpcyxiPXRoaXMuY2hhcnQsYz1hLm9wdGlvbnMsZD1iLnJlbmRlcmVyLGU9Yy5hbmltYXRpb25MaW1pdHx8MjUwO3EoYS5wb2ludHMsZnVuY3Rpb24oaCl7dmFyIGk9aC5wbG90WSxqPWguZ3JhcGhpYztpPT09dXx8aXNOYU4oaSl8fG51bGw9PT1oLnk/aiYmKGguZ3JhcGhpYz1qLmRlc3Ryb3koKSk6KGY9aC5zaGFwZUFyZ3MsaT1zKGEuYm9yZGVyV2lkdGgpP3sic3Ryb2tlLXdpZHRoIjphLmJvcmRlcldpZHRofTp7fSxnPWgucG9pbnRBdHRyW2guc2VsZWN0ZWQ/InNlbGVjdCI6IiJdfHxhLnBvaW50QXR0clsiIl0saj8oYmIoaiksai5hdHRyKGkpW2IucG9pbnRDb3VudDxlPyJhbmltYXRlIjoiYXR0ciJdKHcoZikpKTpoLmdyYXBoaWM9ZFtoLnNoYXBlVHlwZV0oZikuYXR0cihnKS5hdHRyKGkpLmFkZChhLmdyb3VwKS5zaGFkb3coYy5zaGFkb3csbnVsbCxjLnN0YWNraW5nJiYhYy5ib3JkZXJSYWRpdXMpKX0pfSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueUF4aXMsYz10aGlzLm9wdGlvbnMsZD10aGlzLmNoYXJ0LmludmVydGVkLGU9e307YmEmJihhPyhlLnNjYWxlWT0uMDAxLGE9TChiLnBvcytiLmxlbix0KGIucG9zLGIudG9QaXhlbHMoYy50aHJlc2hvbGQpKSksZD9lLnRyYW5zbGF0ZVg9YS1iLmxlbjplLnRyYW5zbGF0ZVk9YSx0aGlzLmdyb3VwLmF0dHIoZSkpOihlLnNjYWxlWT0xLGVbZD8idHJhbnNsYXRlWCI6InRyYW5zbGF0ZVkiXT1iLnBvcyx0aGlzLmdyb3VwLmFuaW1hdGUoZSx0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSx0aGlzLmFuaW1hdGU9bnVsbCkpfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydDtiLmhhc1JlbmRlcmVkJiZxKGIuc2VyaWVzLGZ1bmN0aW9uKGIpe2IudHlwZT09PWEudHlwZSYmKGIuaXNEaXJ0eT0hMCl9KSxPLnByb3RvdHlwZS5yZW1vdmUuYXBwbHkoYSxhcmd1bWVudHMpfX0pLEguY29sdW1uPWlhLGNhLmJhcj13KGNhLmNvbHVtbikscWE9bWEoaWEse3R5cGU6ImJhciIsaW52ZXJ0ZWQ6ITB9KSxILmJhcj1xYSxjYS5zY2F0dGVyPXcoVCx7bGluZVdpZHRoOjAsdG9vbHRpcDp7aGVhZGVyRm9ybWF0Oic8c3BhbiBzdHlsZT0iY29sb3I6e3Nlcmllcy5jb2xvcn0iPuKXjzwvc3Bhbj4gPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMTBweDsiPiB7c2VyaWVzLm5hbWV9PC9zcGFuPjxici8+Jyxwb2ludEZvcm1hdDoieDogPGI+e3BvaW50Lnh9PC9iPjxici8+eTogPGI+e3BvaW50Lnl9PC9iPjxici8+In0sc3RpY2t5VHJhY2tpbmc6ITF9KSxxYT1tYShPLHt0eXBlOiJzY2F0dGVyIixzb3J0ZWQ6ITEscmVxdWlyZVNvcnRpbmc6ITEsbm9TaGFyZWRUb29sdGlwOiEwLHRyYWNrZXJHcm91cHM6WyJtYXJrZXJHcm91cCIsImRhdGFMYWJlbHNHcm91cCJdLHRha2VPcmRpbmFsUG9zaXRpb246ITEsc2luZ3VsYXJUb29sdGlwczohMCxkcmF3R3JhcGg6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMubGluZVdpZHRoJiZPLnByb3RvdHlwZS5kcmF3R3JhcGguY2FsbCh0aGlzKX19KSxILnNjYXR0ZXI9cWEsY2EucGllPXcoVCx7Ym9yZGVyQ29sb3I6IiNGRkZGRkYiLGJvcmRlcldpZHRoOjEsY2VudGVyOltudWxsLG51bGxdLGNsaXA6ITEsY29sb3JCeVBvaW50OiEwLGRhdGFMYWJlbHM6e2Rpc3RhbmNlOjMwLGVuYWJsZWQ6ITAsZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9pbnQubmFtZX19LGlnbm9yZUhpZGRlblBvaW50OiEwLGxlZ2VuZFR5cGU6InBvaW50IixtYXJrZXI6bnVsbCxzaXplOm51bGwsc2hvd0luTGVnZW5kOiExLHNsaWNlZE9mZnNldDoxMCxzdGF0ZXM6e2hvdmVyOnticmlnaHRuZXNzOi4xLHNoYWRvdzohMX19LHN0aWNreVRyYWNraW5nOiExLHRvb2x0aXA6e2ZvbGxvd1BvaW50ZXI6ITB9fSksVD17dHlwZToicGllIixpc0NhcnRlc2lhbjohMSxwb2ludENsYXNzOm1hKEZhLHtpbml0OmZ1bmN0aW9uKCl7RmEucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBiLGE9dGhpcztyZXR1cm4gYS55PDAmJihhLnk9bnVsbCkscihhLHt2aXNpYmxlOmEudmlzaWJsZSE9PSExLG5hbWU6cChhLm5hbWUsIlNsaWNlIil9KSxiPWZ1bmN0aW9uKGIpe2Euc2xpY2UoInNlbGVjdCI9PT1iLnR5cGUpfSxOKGEsInNlbGVjdCIsYiksTihhLCJ1bnNlbGVjdCIsYiksYX0sc2V0VmlzaWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5zZXJpZXMsZD1jLmNoYXJ0O2IudmlzaWJsZT1iLm9wdGlvbnMudmlzaWJsZT1hPWE9PT11PyFiLnZpc2libGU6YSxjLm9wdGlvbnMuZGF0YVtNYShiLGMuZGF0YSldPWIub3B0aW9ucyxxKFsiZ3JhcGhpYyIsImRhdGFMYWJlbCIsImNvbm5lY3RvciIsInNoYWRvd0dyb3VwIl0sZnVuY3Rpb24oYyl7YltjXSYmYltjXVthPyJzaG93IjoiaGlkZSJdKCEwKX0pLGIubGVnZW5kSXRlbSYmZC5sZWdlbmQuY29sb3JpemVJdGVtKGIsYSksIWMuaXNEaXJ0eSYmYy5vcHRpb25zLmlnbm9yZUhpZGRlblBvaW50JiYoYy5pc0RpcnR5PSEwLGQucmVkcmF3KCkpfSxzbGljZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zZXJpZXM7UmEoYyxkLmNoYXJ0KSxwKGIsITApLHRoaXMuc2xpY2VkPXRoaXMub3B0aW9ucy5zbGljZWQ9YT1zKGEpP2E6IXRoaXMuc2xpY2VkLGQub3B0aW9ucy5kYXRhW01hKHRoaXMsZC5kYXRhKV09dGhpcy5vcHRpb25zLGE9YT90aGlzLnNsaWNlZFRyYW5zbGF0aW9uOnt0cmFuc2xhdGVYOjAsdHJhbnNsYXRlWTowfSx0aGlzLmdyYXBoaWMuYW5pbWF0ZShhKSx0aGlzLnNoYWRvd0dyb3VwJiZ0aGlzLnNoYWRvd0dyb3VwLmFuaW1hdGUoYSl9LGhhbG9QYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2hhcGVBcmdzLGM9dGhpcy5zZXJpZXMuY2hhcnQ7cmV0dXJuIHRoaXMuc2xpY2VkfHwhdGhpcy52aXNpYmxlP1tdOnRoaXMuc2VyaWVzLmNoYXJ0LnJlbmRlcmVyLnN5bWJvbHMuYXJjKGMucGxvdExlZnQrYi54LGMucGxvdFRvcCtiLnksYi5yK2EsYi5yK2Ese2lubmVyUjp0aGlzLnNoYXBlQXJncy5yLHN0YXJ0OmIuc3RhcnQsZW5kOmIuZW5kfSl9fSkscmVxdWlyZVNvcnRpbmc6ITEsbm9TaGFyZWRUb29sdGlwOiEwLHRyYWNrZXJHcm91cHM6WyJncm91cCIsImRhdGFMYWJlbHNHcm91cCJdLGF4aXNUeXBlczpbXSxwb2ludEF0dHJUb09wdGlvbnM6e3N0cm9rZToiYm9yZGVyQ29sb3IiLCJzdHJva2Utd2lkdGgiOiJib3JkZXJXaWR0aCIsZmlsbDoiY29sb3IifSxzaW5ndWxhclRvb2x0aXBzOiEwLGdldENvbG9yOnNhLGFuaW1hdGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIucG9pbnRzLGQ9Yi5zdGFydEFuZ2xlUmFkO2F8fChxKGMsZnVuY3Rpb24oYSl7dmFyIGM9YS5ncmFwaGljLGE9YS5zaGFwZUFyZ3M7YyYmKGMuYXR0cih7cjpiLmNlbnRlclszXS8yLHN0YXJ0OmQsZW5kOmR9KSxjLmFuaW1hdGUoe3I6YS5yLHN0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kfSxiLm9wdGlvbnMuYW5pbWF0aW9uKSl9KSxiLmFuaW1hdGU9bnVsbCl9LHNldERhdGE6ZnVuY3Rpb24oYSxiLGMsZCl7Ty5wcm90b3R5cGUuc2V0RGF0YS5jYWxsKHRoaXMsYSwhMSxjLGQpLHRoaXMucHJvY2Vzc0RhdGEoKSx0aGlzLmdlbmVyYXRlUG9pbnRzKCkscChiLCEwKSYmdGhpcy5jaGFydC5yZWRyYXcoYyl9LGdlbmVyYXRlUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGEsYyxkLGUsYj0wLGY9dGhpcy5vcHRpb25zLmlnbm9yZUhpZGRlblBvaW50O2ZvcihPLnByb3RvdHlwZS5nZW5lcmF0ZVBvaW50cy5jYWxsKHRoaXMpLGM9dGhpcy5wb2ludHMsZD1jLmxlbmd0aCxhPTA7ZD5hO2ErKyllPWNbYV0sYis9ZiYmIWUudmlzaWJsZT8wOmUueTtmb3IodGhpcy50b3RhbD1iLGE9MDtkPmE7YSsrKWU9Y1thXSxlLnBlcmNlbnRhZ2U9Yj4wP2UueS9iKjEwMDowLGUudG90YWw9Yn0sdHJhbnNsYXRlOmZ1bmN0aW9uKGEpe3RoaXMuZ2VuZXJhdGVQb2ludHMoKTt2YXIgZixnLGgsbixvLGI9MCxjPXRoaXMub3B0aW9ucyxkPWMuc2xpY2VkT2Zmc2V0LGU9ZCtjLmJvcmRlcldpZHRoLGk9Yy5zdGFydEFuZ2xlfHwwLGo9dGhpcy5zdGFydEFuZ2xlUmFkPW9hLzE4MCooaS05MCksaT0odGhpcy5lbmRBbmdsZVJhZD1vYS8xODAqKHAoYy5lbmRBbmdsZSxpKzM2MCktOTApKS1qLGs9dGhpcy5wb2ludHMsbD1jLmRhdGFMYWJlbHMuZGlzdGFuY2UsYz1jLmlnbm9yZUhpZGRlblBvaW50LG09ay5sZW5ndGg7Zm9yKGF8fCh0aGlzLmNlbnRlcj1hPXRoaXMuZ2V0Q2VudGVyKCkpLHRoaXMuZ2V0WD1mdW5jdGlvbihiLGMpe3JldHVybiBoPVYuYXNpbihMKChiLWFbMV0pLyhhWzJdLzIrbCksMSkpLGFbMF0rKGM/LTE6MSkqYWEoaCkqKGFbMl0vMitsKX0sbj0wO20+bjtuKyspbz1rW25dLGY9aitiKmksKCFjfHxvLnZpc2libGUpJiYoYis9by5wZXJjZW50YWdlLzEwMCksZz1qK2IqaSxvLnNoYXBlVHlwZT0iYXJjIixvLnNoYXBlQXJncz17eDphWzBdLHk6YVsxXSxyOmFbMl0vMixpbm5lclI6YVszXS8yLHN0YXJ0OnYoMWUzKmYpLzFlMyxlbmQ6digxZTMqZykvMWUzfSxoPShnK2YpLzIsaD4xLjUqb2E/aC09MipvYTotb2EvMj5oJiYoaCs9MipvYSksby5zbGljZWRUcmFuc2xhdGlvbj17dHJhbnNsYXRlWDp2KGFhKGgpKmQpLHRyYW5zbGF0ZVk6dihmYShoKSpkKX0sZj1hYShoKSphWzJdLzIsZz1mYShoKSphWzJdLzIsby50b29sdGlwUG9zPVthWzBdKy43KmYsYVsxXSsuNypnXSxvLmhhbGY9LW9hLzI+aHx8aD5vYS8yPzE6MCxvLmFuZ2xlPWgsZT1MKGUsbC8yKSxvLmxhYmVsUG9zPVthWzBdK2YrYWEoaCkqbCxhWzFdK2crZmEoaCkqbCxhWzBdK2YrYWEoaCkqZSxhWzFdK2crZmEoaCkqZSxhWzBdK2YsYVsxXStnLDA+bD8iY2VudGVyIjpvLmhhbGY/InJpZ2h0IjoibGVmdCIsaF19LGRyYXdHcmFwaDpudWxsLGRyYXdQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYyxkLGYsZyxhPXRoaXMsYj1hLmNoYXJ0LnJlbmRlcmVyLGU9YS5vcHRpb25zLnNoYWRvdztlJiYhYS5zaGFkb3dHcm91cCYmKGEuc2hhZG93R3JvdXA9Yi5nKCJzaGFkb3ciKS5hZGQoYS5ncm91cCkpLHEoYS5wb2ludHMsZnVuY3Rpb24oaCl7ZD1oLmdyYXBoaWMsZz1oLnNoYXBlQXJncyxmPWguc2hhZG93R3JvdXAsZSYmIWYmJihmPWguc2hhZG93R3JvdXA9Yi5nKCJzaGFkb3ciKS5hZGQoYS5zaGFkb3dHcm91cCkpLGM9aC5zbGljZWQ/aC5zbGljZWRUcmFuc2xhdGlvbjp7dHJhbnNsYXRlWDowLHRyYW5zbGF0ZVk6MH0sZiYmZi5hdHRyKGMpLGQ/ZC5hbmltYXRlKHIoZyxjKSk6aC5ncmFwaGljPWQ9YltoLnNoYXBlVHlwZV0oZykuc2V0UmFkaWFsUmVmZXJlbmNlKGEuY2VudGVyKS5hdHRyKGgucG9pbnRBdHRyW2guc2VsZWN0ZWQ/InNlbGVjdCI6IiJdKS5hdHRyKHsic3Ryb2tlLWxpbmVqb2luIjoicm91bmQifSkuYXR0cihjKS5hZGQoYS5ncm91cCkuc2hhZG93KGUsZiksdm9pZCAwIT09aC52aXNpYmxlJiZoLnNldFZpc2libGUoaC52aXNpYmxlKX0pfSxzb3J0QnlBbmdsZTpmdW5jdGlvbihhLGIpe2Euc29ydChmdW5jdGlvbihhLGQpe3JldHVybiB2b2lkIDAhPT1hLmFuZ2xlJiYoZC5hbmdsZS1hLmFuZ2xlKSpifSl9LGRyYXdMZWdlbmRTeW1ib2w6TS5kcmF3UmVjdGFuZ2xlLGdldENlbnRlcjpaLmdldENlbnRlcixnZXRTeW1ib2w6c2F9LFQ9bWEoTyxUKSxILnBpZT1ULE8ucHJvdG90eXBlLmRyYXdEYXRhTGFiZWxzPWZ1bmN0aW9uKCl7dmFyIGYsZyxpLGosYT10aGlzLGI9YS5vcHRpb25zLGM9Yi5jdXJzb3IsZD1iLmRhdGFMYWJlbHMsZT1hLnBvaW50cyxoPWEuaGFzUmVuZGVyZWR8fDA7KGQuZW5hYmxlZHx8YS5faGFzUG9pbnRMYWJlbHMpJiYoYS5kbFByb2Nlc3NPcHRpb25zJiZhLmRsUHJvY2Vzc09wdGlvbnMoZCksaj1hLnBsb3RHcm91cCgiZGF0YUxhYmVsc0dyb3VwIiwiZGF0YS1sYWJlbHMiLGQuZGVmZXI/ImhpZGRlbiI6InZpc2libGUiLGQuekluZGV4fHw2KSxwKGQuZGVmZXIsITApJiYoai5hdHRyKHtvcGFjaXR5OitofSksaHx8TihhLCJhZnRlckFuaW1hdGUiLGZ1bmN0aW9uKCl7YS52aXNpYmxlJiZqLnNob3coKSxqW2IuYW5pbWF0aW9uPyJhbmltYXRlIjoiYXR0ciJdKHtvcGFjaXR5OjF9LHtkdXJhdGlvbjoyMDB9KX0pKSxnPWQscShlLGZ1bmN0aW9uKGIpe3ZhciBlLG0sbyxoPWIuZGF0YUxhYmVsLHE9Yi5jb25uZWN0b3IsdD0hMDtpZihmPWIub3B0aW9ucyYmYi5vcHRpb25zLmRhdGFMYWJlbHMsZT1wKGYmJmYuZW5hYmxlZCxnLmVuYWJsZWQpLGgmJiFlKWIuZGF0YUxhYmVsPWguZGVzdHJveSgpO2Vsc2UgaWYoZSl7aWYoZD13KGcsZiksZT1kLnJvdGF0aW9uLG09Yi5nZXRMYWJlbENvbmZpZygpLGk9ZC5mb3JtYXQ/SmEoZC5mb3JtYXQsbSk6ZC5mb3JtYXR0ZXIuY2FsbChtLGQpLGQuc3R5bGUuY29sb3I9cChkLmNvbG9yLGQuc3R5bGUuY29sb3IsYS5jb2xvciwiYmxhY2siKSxoKXMoaSk/KGguYXR0cih7dGV4dDppfSksdD0hMSk6KGIuZGF0YUxhYmVsPWg9aC5kZXN0cm95KCkscSYmKGIuY29ubmVjdG9yPXEuZGVzdHJveSgpKSk7ZWxzZSBpZihzKGkpKXtoPXtmaWxsOmQuYmFja2dyb3VuZENvbG9yLHN0cm9rZTpkLmJvcmRlckNvbG9yLCJzdHJva2Utd2lkdGgiOmQuYm9yZGVyV2lkdGgscjpkLmJvcmRlclJhZGl1c3x8MCxyb3RhdGlvbjplLHBhZGRpbmc6ZC5wYWRkaW5nLHpJbmRleDoxfTtmb3IobyBpbiBoKWhbb109PT11JiZkZWxldGUgaFtvXTtoPWIuZGF0YUxhYmVsPWEuY2hhcnQucmVuZGVyZXJbZT8idGV4dCI6ImxhYmVsIl0oaSwwLC05OTksbnVsbCxudWxsLG51bGwsZC51c2VIVE1MKS5hdHRyKGgpLmNzcyhyKGQuc3R5bGUsYyYme2N1cnNvcjpjfSkpLmFkZChqKS5zaGFkb3coZC5zaGFkb3cpfWgmJmEuYWxpZ25EYXRhTGFiZWwoYixoLGQsbnVsbCx0KX19KSl9LE8ucHJvdG90eXBlLmFsaWduRGF0YUxhYmVsPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5jaGFydCxnPWYuaW52ZXJ0ZWQsaD1wKGEucGxvdFgsLTk5OSksaT1wKGEucGxvdFksLTk5OSksaj1iLmdldEJCb3goKTsoYT10aGlzLnZpc2libGUmJihhLnNlcmllcy5mb3JjZURMfHxmLmlzSW5zaWRlUGxvdChoLHYoaSksZyl8fGQmJmYuaXNJbnNpZGVQbG90KGgsZz9kLngrMTpkLnkrZC5oZWlnaHQtMSxnKSkpJiYoZD1yKHt4Omc/Zi5wbG90V2lkdGgtaTpoLHk6dihnP2YucGxvdEhlaWdodC1oOmkpLHdpZHRoOjAsaGVpZ2h0OjB9LGQpLHIoYyx7d2lkdGg6ai53aWR0aCxoZWlnaHQ6ai5oZWlnaHR9KSxjLnJvdGF0aW9uP2JbZT8iYXR0ciI6ImFuaW1hdGUiXSh7eDpkLngrYy54K2Qud2lkdGgvMix5OmQueStjLnkrZC5oZWlnaHQvMn0pLmF0dHIoe2FsaWduOmMuYWxpZ259KTooYi5hbGlnbihjLG51bGwsZCksZz1iLmFsaWduQXR0ciwianVzdGlmeSI9PT1wKGMub3ZlcmZsb3csImp1c3RpZnkiKT90aGlzLmp1c3RpZnlEYXRhTGFiZWwoYixjLGcsaixkLGUpOnAoYy5jcm9wLCEwKSYmKGE9Zi5pc0luc2lkZVBsb3QoZy54LGcueSkmJmYuaXNJbnNpZGVQbG90KGcueCtqLndpZHRoLGcueStqLmhlaWdodCkpKSksYXx8KGIuYXR0cih7eTotOTk5fSksYi5wbGFjZWQ9ITEpCn0sTy5wcm90b3R5cGUuanVzdGlmeURhdGFMYWJlbD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGosayxnPXRoaXMuY2hhcnQsaD1iLmFsaWduLGk9Yi52ZXJ0aWNhbEFsaWduO2o9Yy54LDA+aiYmKCJyaWdodCI9PT1oP2IuYWxpZ249ImxlZnQiOmIueD0taixrPSEwKSxqPWMueCtkLndpZHRoLGo+Zy5wbG90V2lkdGgmJigibGVmdCI9PT1oP2IuYWxpZ249InJpZ2h0IjpiLng9Zy5wbG90V2lkdGgtaixrPSEwKSxqPWMueSwwPmomJigiYm90dG9tIj09PWk/Yi52ZXJ0aWNhbEFsaWduPSJ0b3AiOmIueT0taixrPSEwKSxqPWMueStkLmhlaWdodCxqPmcucGxvdEhlaWdodCYmKCJ0b3AiPT09aT9iLnZlcnRpY2FsQWxpZ249ImJvdHRvbSI6Yi55PWcucGxvdEhlaWdodC1qLGs9ITApLGsmJihhLnBsYWNlZD0hZixhLmFsaWduKGIsbnVsbCxlKSl9LEgucGllJiYoSC5waWUucHJvdG90eXBlLmRyYXdEYXRhTGFiZWxzPWZ1bmN0aW9uKCl7dmFyIGMsaixrLHUsdyx4LHksQixJLEgseixhPXRoaXMsYj1hLmRhdGEsZD1hLmNoYXJ0LGU9YS5vcHRpb25zLmRhdGFMYWJlbHMsZj1wKGUuY29ubmVjdG9yUGFkZGluZywxMCksZz1wKGUuY29ubmVjdG9yV2lkdGgsMSksaD1kLnBsb3RXaWR0aCxpPWQucGxvdEhlaWdodCxsPXAoZS5zb2Z0Q29ubmVjdG9yLCEwKSxuPWUuZGlzdGFuY2UsbT1hLmNlbnRlcixvPW1bMl0vMixyPW1bMV0scz1uPjAsQT1bW10sW11dLFI9WzAsMCwwLDBdLE49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi55LWEueX07aWYoYS52aXNpYmxlJiYoZS5lbmFibGVkfHxhLl9oYXNQb2ludExhYmVscykpe2ZvcihPLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscy5hcHBseShhKSxxKGIsZnVuY3Rpb24oYSl7YS5kYXRhTGFiZWwmJmEudmlzaWJsZSYmQVthLmhhbGZdLnB1c2goYSl9KSxIPTI7SC0tOyl7dmFyIEUsRz1bXSxNPVtdLEY9QVtIXSxLPUYubGVuZ3RoO2lmKEspe2ZvcihhLnNvcnRCeUFuZ2xlKEYsSC0uNSksej1iPTA7IWImJkZbel07KWI9Rlt6XSYmRlt6XS5kYXRhTGFiZWwmJihGW3pdLmRhdGFMYWJlbC5nZXRCQm94KCkuaGVpZ2h0fHwyMSkseisrO2lmKG4+MCl7Zm9yKHc9TChyK28rbixkLnBsb3RIZWlnaHQpLHo9dCgwLHItby1uKTt3Pj16O3orPWIpRy5wdXNoKHopO2lmKHc9Ry5sZW5ndGgsSz53KXtmb3IoYz1bXS5jb25jYXQoRiksYy5zb3J0KE4pLHo9Szt6LS07KWNbel0ucmFuaz16O2Zvcih6PUs7ei0tOylGW3pdLnJhbms+PXcmJkYuc3BsaWNlKHosMSk7Sz1GLmxlbmd0aH1mb3Ioej0wO0s+ejt6Kyspe2M9Rlt6XSx4PWMubGFiZWxQb3MsYz05OTk5O3ZhciBTLFA7Zm9yKFA9MDt3PlA7UCsrKVM9UShHW1BdLXhbMV0pLGM+UyYmKGM9UyxFPVApO2lmKHo+RSYmbnVsbCE9PUdbel0pRT16O2Vsc2UgZm9yKEsteitFPncmJm51bGwhPT1HW3pdJiYoRT13LUsreik7bnVsbD09PUdbRV07KUUrKztNLnB1c2goe2k6RSx5OkdbRV19KSxHW0VdPW51bGx9TS5zb3J0KE4pfWZvcih6PTA7Sz56O3orKyljPUZbel0seD1jLmxhYmVsUG9zLHU9Yy5kYXRhTGFiZWwsST1jLnZpc2libGU9PT0hMT8iaGlkZGVuIjoidmlzaWJsZSIsYz14WzFdLG4+MD8odz1NLnBvcCgpLEU9dy5pLEI9dy55LChjPkImJm51bGwhPT1HW0UrMV18fEI+YyYmbnVsbCE9PUdbRS0xXSkmJihCPUwodCgwLGMpLGQucGxvdEhlaWdodCkpKTpCPWMseT1lLmp1c3RpZnk/bVswXSsoSD8tMToxKSoobytuKTphLmdldFgoQj09PXItby1ufHxCPT09citvK24/YzpCLEgpLHUuX2F0dHI9e3Zpc2liaWxpdHk6SSxhbGlnbjp4WzZdfSx1Ll9wb3M9e3g6eStlLngrKHtsZWZ0OmYscmlnaHQ6LWZ9W3hbNl1dfHwwKSx5OkIrZS55LTEwfSx1LmNvbm5YPXksdS5jb25uWT1CLG51bGw9PT10aGlzLm9wdGlvbnMuc2l6ZSYmKHc9dS53aWR0aCxmPnktdz9SWzNdPXQodih3LXkrZiksUlszXSk6eSt3PmgtZiYmKFJbMV09dCh2KHkrdy1oK2YpLFJbMV0pKSwwPkItYi8yP1JbMF09dCh2KC1CK2IvMiksUlswXSk6QitiLzI+aSYmKFJbMl09dCh2KEIrYi8yLWkpLFJbMl0pKSl9fSgwPT09Q2EoUil8fHRoaXMudmVyaWZ5RGF0YUxhYmVsT3ZlcmZsb3coUikpJiYodGhpcy5wbGFjZURhdGFMYWJlbHMoKSxzJiZnJiZxKHRoaXMucG9pbnRzLGZ1bmN0aW9uKGIpe2o9Yi5jb25uZWN0b3IseD1iLmxhYmVsUG9zLCh1PWIuZGF0YUxhYmVsKSYmdS5fcG9zPyhJPXUuX2F0dHIudmlzaWJpbGl0eSx5PXUuY29ublgsQj11LmNvbm5ZLGs9bD9bIk0iLHkrKCJsZWZ0Ij09PXhbNl0/NTotNSksQiwiQyIseSxCLDIqeFsyXS14WzRdLDIqeFszXS14WzVdLHhbMl0seFszXSwiTCIseFs0XSx4WzVdXTpbIk0iLHkrKCJsZWZ0Ij09PXhbNl0/NTotNSksQiwiTCIseFsyXSx4WzNdLCJMIix4WzRdLHhbNV1dLGo/KGouYW5pbWF0ZSh7ZDprfSksai5hdHRyKCJ2aXNpYmlsaXR5IixJKSk6Yi5jb25uZWN0b3I9aj1hLmNoYXJ0LnJlbmRlcmVyLnBhdGgoaykuYXR0cih7InN0cm9rZS13aWR0aCI6ZyxzdHJva2U6ZS5jb25uZWN0b3JDb2xvcnx8Yi5jb2xvcnx8IiM2MDYwNjAiLHZpc2liaWxpdHk6SX0pLmFkZChhLmRhdGFMYWJlbHNHcm91cCkpOmomJihiLmNvbm5lY3Rvcj1qLmRlc3Ryb3koKSl9KSl9fSxILnBpZS5wcm90b3R5cGUucGxhY2VEYXRhTGFiZWxzPWZ1bmN0aW9uKCl7cSh0aGlzLnBvaW50cyxmdW5jdGlvbihhKXt2YXIgYixhPWEuZGF0YUxhYmVsO2EmJigoYj1hLl9wb3MpPyhhLmF0dHIoYS5fYXR0ciksYVthLm1vdmVkPyJhbmltYXRlIjoiYXR0ciJdKGIpLGEubW92ZWQ9ITApOmEmJmEuYXR0cih7eTotOTk5fSkpfSl9LEgucGllLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbD1zYSxILnBpZS5wcm90b3R5cGUudmVyaWZ5RGF0YUxhYmVsT3ZlcmZsb3c9ZnVuY3Rpb24oYSl7dmFyIGYsYj10aGlzLmNlbnRlcixjPXRoaXMub3B0aW9ucyxkPWMuY2VudGVyLGU9Yz1jLm1pblNpemV8fDgwO3JldHVybiBudWxsIT09ZFswXT9lPXQoYlsyXS10KGFbMV0sYVszXSksYyk6KGU9dChiWzJdLWFbMV0tYVszXSxjKSxiWzBdKz0oYVszXS1hWzFdKS8yKSxudWxsIT09ZFsxXT9lPXQoTChlLGJbMl0tdChhWzBdLGFbMl0pKSxjKTooZT10KEwoZSxiWzJdLWFbMF0tYVsyXSksYyksYlsxXSs9KGFbMF0tYVsyXSkvMiksZTxiWzJdPyhiWzJdPWUsdGhpcy50cmFuc2xhdGUoYikscSh0aGlzLnBvaW50cyxmdW5jdGlvbihhKXthLmRhdGFMYWJlbCYmKGEuZGF0YUxhYmVsLl9wb3M9bnVsbCl9KSx0aGlzLmRyYXdEYXRhTGFiZWxzJiZ0aGlzLmRyYXdEYXRhTGFiZWxzKCkpOmY9ITAsZn0pLEguY29sdW1uJiYoSC5jb2x1bW4ucHJvdG90eXBlLmFsaWduRGF0YUxhYmVsPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5jaGFydCxnPWYuaW52ZXJ0ZWQsaD1hLmRsQm94fHxhLnNoYXBlQXJncyxpPWEuYmVsb3d8fGEucGxvdFk+cCh0aGlzLnRyYW5zbGF0ZWRUaHJlc2hvbGQsZi5wbG90U2l6ZVkpLGo9cChjLmluc2lkZSwhIXRoaXMub3B0aW9ucy5zdGFja2luZyk7aCYmKGQ9dyhoKSxnJiYoZD17eDpmLnBsb3RXaWR0aC1kLnktZC5oZWlnaHQseTpmLnBsb3RIZWlnaHQtZC54LWQud2lkdGgsd2lkdGg6ZC5oZWlnaHQsaGVpZ2h0OmQud2lkdGh9KSwhaikmJihnPyhkLngrPWk/MDpkLndpZHRoLGQud2lkdGg9MCk6KGQueSs9aT9kLmhlaWdodDowLGQuaGVpZ2h0PTApKSxjLmFsaWduPXAoYy5hbGlnbiwhZ3x8aj8iY2VudGVyIjppPyJyaWdodCI6ImxlZnQiKSxjLnZlcnRpY2FsQWxpZ249cChjLnZlcnRpY2FsQWxpZ24sZ3x8aj8ibWlkZGxlIjppPyJ0b3AiOiJib3R0b20iKSxPLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbC5jYWxsKHRoaXMsYSxiLGMsZCxlKX0pLFQ9Sy5UcmFja2VyTWl4aW49e2RyYXdUcmFja2VyUG9pbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydCxjPWIucG9pbnRlcixkPWEub3B0aW9ucy5jdXJzb3IsZT1kJiZ7Y3Vyc29yOmR9LGY9ZnVuY3Rpb24oYyl7dmFyIGUsZD1jLnRhcmdldDtmb3IoYi5ob3ZlclNlcmllcyE9PWEmJmEub25Nb3VzZU92ZXIoKTtkJiYhZTspZT1kLnBvaW50LGQ9ZC5wYXJlbnROb2RlO2UhPT11JiZlIT09Yi5ob3ZlclBvaW50JiZlLm9uTW91c2VPdmVyKGMpfTtxKGEucG9pbnRzLGZ1bmN0aW9uKGEpe2EuZ3JhcGhpYyYmKGEuZ3JhcGhpYy5lbGVtZW50LnBvaW50PWEpLGEuZGF0YUxhYmVsJiYoYS5kYXRhTGFiZWwuZWxlbWVudC5wb2ludD1hKX0pLGEuX2hhc1RyYWNraW5nfHwocShhLnRyYWNrZXJHcm91cHMsZnVuY3Rpb24oYil7YVtiXSYmKGFbYl0uYWRkQ2xhc3MoImhpZ2hjaGFydHMtdHJhY2tlciIpLm9uKCJtb3VzZW92ZXIiLGYpLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oYSl7Yy5vblRyYWNrZXJNb3VzZU91dChhKX0pLmNzcyhlKSwkYSkmJmFbYl0ub24oInRvdWNoc3RhcnQiLGYpfSksYS5faGFzVHJhY2tpbmc9ITApfSxkcmF3VHJhY2tlckdyYXBoOmZ1bmN0aW9uKCl7dmFyIG4sYT10aGlzLGI9YS5vcHRpb25zLGM9Yi50cmFja0J5QXJlYSxkPVtdLmNvbmNhdChjP2EuYXJlYVBhdGg6YS5ncmFwaFBhdGgpLGU9ZC5sZW5ndGgsZj1hLmNoYXJ0LGc9Zi5wb2ludGVyLGg9Zi5yZW5kZXJlcixpPWYub3B0aW9ucy50b29sdGlwLnNuYXAsaj1hLnRyYWNrZXIsaz1iLmN1cnNvcixsPWsmJntjdXJzb3I6a30saz1hLnNpbmdsZVBvaW50cyxtPWZ1bmN0aW9uKCl7Zi5ob3ZlclNlcmllcyE9PWEmJmEub25Nb3VzZU92ZXIoKX0sbz0icmdiYSgxOTIsMTkyLDE5MiwiKyhiYT8xZS00Oi4wMDIpKyIpIjtpZihlJiYhYylmb3Iobj1lKzE7bi0tOykiTSI9PT1kW25dJiZkLnNwbGljZShuKzEsMCxkW24rMV0taSxkW24rMl0sIkwiKSwobiYmIk0iPT09ZFtuXXx8bj09PWUpJiZkLnNwbGljZShuLDAsIkwiLGRbbi0yXStpLGRbbi0xXSk7Zm9yKG49MDtuPGsubGVuZ3RoO24rKyllPWtbbl0sZC5wdXNoKCJNIixlLnBsb3RYLWksZS5wbG90WSwiTCIsZS5wbG90WCtpLGUucGxvdFkpO2o/ai5hdHRyKHtkOmR9KTooYS50cmFja2VyPWgucGF0aChkKS5hdHRyKHsic3Ryb2tlLWxpbmVqb2luIjoicm91bmQiLHZpc2liaWxpdHk6YS52aXNpYmxlPyJ2aXNpYmxlIjoiaGlkZGVuIixzdHJva2U6byxmaWxsOmM/bzpQLCJzdHJva2Utd2lkdGgiOmIubGluZVdpZHRoKyhjPzA6MippKSx6SW5kZXg6Mn0pLmFkZChhLmdyb3VwKSxxKFthLnRyYWNrZXIsYS5tYXJrZXJHcm91cF0sZnVuY3Rpb24oYSl7YS5hZGRDbGFzcygiaGlnaGNoYXJ0cy10cmFja2VyIikub24oIm1vdXNlb3ZlciIsbSkub24oIm1vdXNlb3V0IixmdW5jdGlvbihhKXtnLm9uVHJhY2tlck1vdXNlT3V0KGEpfSkuY3NzKGwpLCRhJiZhLm9uKCJ0b3VjaHN0YXJ0IixtKX0pKX19LEguY29sdW1uJiYoaWEucHJvdG90eXBlLmRyYXdUcmFja2VyPVQuZHJhd1RyYWNrZXJQb2ludCksSC5waWUmJihILnBpZS5wcm90b3R5cGUuZHJhd1RyYWNrZXI9VC5kcmF3VHJhY2tlclBvaW50KSxILnNjYXR0ZXImJihxYS5wcm90b3R5cGUuZHJhd1RyYWNrZXI9VC5kcmF3VHJhY2tlclBvaW50KSxyKGxiLnByb3RvdHlwZSx7c2V0SXRlbUV2ZW50czpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXM7KGM/YjphLmxlZ2VuZEdyb3VwKS5vbigibW91c2VvdmVyIixmdW5jdGlvbigpe2Euc2V0U3RhdGUoImhvdmVyIiksYi5jc3MoZi5vcHRpb25zLml0ZW1Ib3ZlclN0eWxlKX0pLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oKXtiLmNzcyhhLnZpc2libGU/ZDplKSxhLnNldFN0YXRlKCl9KS5vbigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPWZ1bmN0aW9uKCl7YS5zZXRWaXNpYmxlKCl9LGI9e2Jyb3dzZXJFdmVudDpifTthLmZpcmVQb2ludEV2ZW50P2EuZmlyZVBvaW50RXZlbnQoImxlZ2VuZEl0ZW1DbGljayIsYixjKTpJKGEsImxlZ2VuZEl0ZW1DbGljayIsYixjKX0pfSxjcmVhdGVDaGVja2JveEZvckl0ZW06ZnVuY3Rpb24oYSl7YS5jaGVja2JveD0kKCJpbnB1dCIse3R5cGU6ImNoZWNrYm94IixjaGVja2VkOmEuc2VsZWN0ZWQsZGVmYXVsdENoZWNrZWQ6YS5zZWxlY3RlZH0sdGhpcy5vcHRpb25zLml0ZW1DaGVja2JveFN0eWxlLHRoaXMuY2hhcnQuY29udGFpbmVyKSxOKGEuY2hlY2tib3gsImNsaWNrIixmdW5jdGlvbihiKXtJKGEsImNoZWNrYm94Q2xpY2siLHtjaGVja2VkOmIudGFyZ2V0LmNoZWNrZWR9LGZ1bmN0aW9uKCl7YS5zZWxlY3QoKX0pfSl9fSksRS5sZWdlbmQuaXRlbVN0eWxlLmN1cnNvcj0icG9pbnRlciIscihZYS5wcm90b3R5cGUse3Nob3dSZXNldFpvb206ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9RS5sYW5nLGM9YS5vcHRpb25zLmNoYXJ0LnJlc2V0Wm9vbUJ1dHRvbixkPWMudGhlbWUsZT1kLnN0YXRlcyxmPSJjaGFydCI9PT1jLnJlbGF0aXZlVG8/bnVsbDoicGxvdEJveCI7dGhpcy5yZXNldFpvb21CdXR0b249YS5yZW5kZXJlci5idXR0b24oYi5yZXNldFpvb20sbnVsbCxudWxsLGZ1bmN0aW9uKCl7YS56b29tT3V0KCl9LGQsZSYmZS5ob3ZlcikuYXR0cih7YWxpZ246Yy5wb3NpdGlvbi5hbGlnbix0aXRsZTpiLnJlc2V0Wm9vbVRpdGxlfSkuYWRkKCkuYWxpZ24oYy5wb3NpdGlvbiwhMSxmKX0sem9vbU91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7SShhLCJzZWxlY3Rpb24iLHtyZXNldFNlbGVjdGlvbjohMH0sZnVuY3Rpb24oKXthLnpvb20oKX0pfSx6b29tOmZ1bmN0aW9uKGEpe3ZhciBiLGUsYz10aGlzLnBvaW50ZXIsZD0hMTshYXx8YS5yZXNldFNlbGVjdGlvbj9xKHRoaXMuYXhlcyxmdW5jdGlvbihhKXtiPWEuem9vbSgpfSk6cShhLnhBeGlzLmNvbmNhdChhLnlBeGlzKSxmdW5jdGlvbihhKXt2YXIgZT1hLmF4aXMsaD1lLmlzWEF4aXM7KGNbaD8iem9vbVgiOiJ6b29tWSJdfHxjW2g/InBpbmNoWCI6InBpbmNoWSJdKSYmKGI9ZS56b29tKGEubWluLGEubWF4KSxlLmRpc3BsYXlCdG4mJihkPSEwKSl9KSxlPXRoaXMucmVzZXRab29tQnV0dG9uLGQmJiFlP3RoaXMuc2hvd1Jlc2V0Wm9vbSgpOiFkJiZkYShlKSYmKHRoaXMucmVzZXRab29tQnV0dG9uPWUuZGVzdHJveSgpKSxiJiZ0aGlzLnJlZHJhdyhwKHRoaXMub3B0aW9ucy5jaGFydC5hbmltYXRpb24sYSYmYS5hbmltYXRpb24sdGhpcy5wb2ludENvdW50PDEwMCkpfSxwYW46ZnVuY3Rpb24oYSxiKXt2YXIgZSxjPXRoaXMsZD1jLmhvdmVyUG9pbnRzO2QmJnEoZCxmdW5jdGlvbihhKXthLnNldFN0YXRlKCl9KSxxKCJ4eSI9PT1iP1sxLDBdOlsxXSxmdW5jdGlvbihiKXt2YXIgZD1hW2I/ImNoYXJ0WCI6ImNoYXJ0WSJdLGg9Y1tiPyJ4QXhpcyI6InlBeGlzIl1bMF0saT1jW2I/Im1vdXNlRG93blgiOiJtb3VzZURvd25ZIl0saj0oaC5wb2ludFJhbmdlfHwwKS8yLGs9aC5nZXRFeHRyZW1lcygpLGw9aC50b1ZhbHVlKGktZCwhMCkraixpPWgudG9WYWx1ZShpK2NbYj8icGxvdFdpZHRoIjoicGxvdEhlaWdodCJdLWQsITApLWo7aC5zZXJpZXMubGVuZ3RoJiZsPkwoay5kYXRhTWluLGsubWluKSYmaTx0KGsuZGF0YU1heCxrLm1heCkmJihoLnNldEV4dHJlbWVzKGwsaSwhMSwhMSx7dHJpZ2dlcjoicGFuIn0pLGU9ITApLGNbYj8ibW91c2VEb3duWCI6Im1vdXNlRG93blkiXT1kfSksZSYmYy5yZWRyYXcoITEpLEIoYy5jb250YWluZXIse2N1cnNvcjoibW92ZSJ9KX19KSxyKEZhLnByb3RvdHlwZSx7c2VsZWN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuc2VyaWVzLGU9ZC5jaGFydCxhPXAoYSwhYy5zZWxlY3RlZCk7Yy5maXJlUG9pbnRFdmVudChhPyJzZWxlY3QiOiJ1bnNlbGVjdCIse2FjY3VtdWxhdGU6Yn0sZnVuY3Rpb24oKXtjLnNlbGVjdGVkPWMub3B0aW9ucy5zZWxlY3RlZD1hLGQub3B0aW9ucy5kYXRhW01hKGMsZC5kYXRhKV09Yy5vcHRpb25zLGMuc2V0U3RhdGUoYSYmInNlbGVjdCIpLGJ8fHEoZS5nZXRTZWxlY3RlZFBvaW50cygpLGZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQmJmEhPT1jJiYoYS5zZWxlY3RlZD1hLm9wdGlvbnMuc2VsZWN0ZWQ9ITEsZC5vcHRpb25zLmRhdGFbTWEoYSxkLmRhdGEpXT1hLm9wdGlvbnMsYS5zZXRTdGF0ZSgiIiksYS5maXJlUG9pbnRFdmVudCgidW5zZWxlY3QiKSl9KX0pfSxvbk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNlcmllcyxjPWIuY2hhcnQsZD1jLnRvb2x0aXAsZT1jLmhvdmVyUG9pbnQ7ZSYmZSE9PXRoaXMmJmUub25Nb3VzZU91dCgpLHRoaXMuZmlyZVBvaW50RXZlbnQoIm1vdXNlT3ZlciIpLGQmJighZC5zaGFyZWR8fGIubm9TaGFyZWRUb29sdGlwKSYmZC5yZWZyZXNoKHRoaXMsYSksdGhpcy5zZXRTdGF0ZSgiaG92ZXIiKSxjLmhvdmVyUG9pbnQ9dGhpc30sb25Nb3VzZU91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VyaWVzLmNoYXJ0LGI9YS5ob3ZlclBvaW50czt0aGlzLmZpcmVQb2ludEV2ZW50KCJtb3VzZU91dCIpLGImJi0xIT09TWEodGhpcyxiKXx8KHRoaXMuc2V0U3RhdGUoKSxhLmhvdmVyUG9pbnQ9bnVsbCl9LGltcG9ydEV2ZW50czpmdW5jdGlvbigpe2lmKCF0aGlzLmhhc0ltcG9ydGVkRXZlbnRzKXt2YXIgYixhPXcodGhpcy5zZXJpZXMub3B0aW9ucy5wb2ludCx0aGlzLm9wdGlvbnMpLmV2ZW50czt0aGlzLmV2ZW50cz1hO2ZvcihiIGluIGEpTih0aGlzLGIsYVtiXSk7dGhpcy5oYXNJbXBvcnRlZEV2ZW50cz0hMH19LHNldFN0YXRlOmZ1bmN0aW9uKGEsYil7dmFyIG8sYz10aGlzLnBsb3RYLGQ9dGhpcy5wbG90WSxlPXRoaXMuc2VyaWVzLGY9ZS5vcHRpb25zLnN0YXRlcyxnPWNhW2UudHlwZV0ubWFya2VyJiZlLm9wdGlvbnMubWFya2VyLGg9ZyYmIWcuZW5hYmxlZCxpPWcmJmcuc3RhdGVzW2FdLGo9aSYmaS5lbmFibGVkPT09ITEsaz1lLnN0YXRlTWFya2VyR3JhcGhpYyxsPXRoaXMubWFya2VyfHx7fSxuPWUuY2hhcnQsbT1lLmhhbG8sYT1hfHwiIjtvPXRoaXMucG9pbnRBdHRyW2FdfHxlLnBvaW50QXR0clthXSxhPT09dGhpcy5zdGF0ZSYmIWJ8fHRoaXMuc2VsZWN0ZWQmJiJzZWxlY3QiIT09YXx8ZlthXSYmZlthXS5lbmFibGVkPT09ITF8fGEmJihqfHxoJiZpLmVuYWJsZWQ9PT0hMSl8fGEmJmwuc3RhdGVzJiZsLnN0YXRlc1thXSYmbC5zdGF0ZXNbYV0uZW5hYmxlZD09PSExfHwodGhpcy5ncmFwaGljPyhnPWcmJnRoaXMuZ3JhcGhpYy5zeW1ib2xOYW1lJiZvLnIsdGhpcy5ncmFwaGljLmF0dHIodyhvLGc/e3g6Yy1nLHk6ZC1nLHdpZHRoOjIqZyxoZWlnaHQ6MipnfTp7fSkpLGsmJmsuaGlkZSgpKTooYSYmaSYmKGc9aS5yYWRpdXMsbD1sLnN5bWJvbHx8ZS5zeW1ib2wsayYmay5jdXJyZW50U3ltYm9sIT09bCYmKGs9ay5kZXN0cm95KCkpLGs/a1tiPyJhbmltYXRlIjoiYXR0ciJdKHt4OmMtZyx5OmQtZ30pOmwmJihlLnN0YXRlTWFya2VyR3JhcGhpYz1rPW4ucmVuZGVyZXIuc3ltYm9sKGwsYy1nLGQtZywyKmcsMipnKS5hdHRyKG8pLmFkZChlLm1hcmtlckdyb3VwKSxrLmN1cnJlbnRTeW1ib2w9bCkpLGsmJmtbYSYmbi5pc0luc2lkZVBsb3QoYyxkLG4uaW52ZXJ0ZWQpPyJzaG93IjoiaGlkZSJdKCkpLChjPWZbYV0mJmZbYV0uaGFsbykmJmMuc2l6ZT8obXx8KGUuaGFsbz1tPW4ucmVuZGVyZXIucGF0aCgpLmFkZChlLnNlcmllc0dyb3VwKSksbS5hdHRyKHIoe2ZpbGw6eWEodGhpcy5jb2xvcnx8ZS5jb2xvcikuc2V0T3BhY2l0eShjLm9wYWNpdHkpLmdldCgpfSxjLmF0dHJpYnV0ZXMpKVtiPyJhbmltYXRlIjoiYXR0ciJdKHtkOnRoaXMuaGFsb1BhdGgoYy5zaXplKX0pKTptJiZtLmF0dHIoe2Q6W119KSx0aGlzLnN0YXRlPWEpfSxoYWxvUGF0aDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNlcmllcyxjPWIuY2hhcnQsZD1iLmdldFBsb3RCb3goKSxlPWMuaW52ZXJ0ZWQ7cmV0dXJuIGMucmVuZGVyZXIuc3ltYm9scy5jaXJjbGUoZC50cmFuc2xhdGVYKyhlP2IueUF4aXMubGVuLXRoaXMucGxvdFk6dGhpcy5wbG90WCktYSxkLnRyYW5zbGF0ZVkrKGU/Yi54QXhpcy5sZW4tdGhpcy5wbG90WDp0aGlzLnBsb3RZKS1hLDIqYSwyKmEpfX0pLHIoTy5wcm90b3R5cGUse29uTW91c2VPdmVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPWEuaG92ZXJTZXJpZXM7YiYmYiE9PXRoaXMmJmIub25Nb3VzZU91dCgpLHRoaXMub3B0aW9ucy5ldmVudHMubW91c2VPdmVyJiZJKHRoaXMsIm1vdXNlT3ZlciIpLHRoaXMuc2V0U3RhdGUoImhvdmVyIiksYS5ob3ZlclNlcmllcz10aGlzfSxvbk1vdXNlT3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5jaGFydCxjPWIudG9vbHRpcCxkPWIuaG92ZXJQb2ludDtkJiZkLm9uTW91c2VPdXQoKSx0aGlzJiZhLmV2ZW50cy5tb3VzZU91dCYmSSh0aGlzLCJtb3VzZU91dCIpLGMmJiFhLnN0aWNreVRyYWNraW5nJiYoIWMuc2hhcmVkfHx0aGlzLm5vU2hhcmVkVG9vbHRpcCkmJmMuaGlkZSgpLHRoaXMuc2V0U3RhdGUoKSxiLmhvdmVyU2VyaWVzPW51bGx9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMuZ3JhcGgsZD10aGlzLmdyYXBoTmVnLGU9Yi5zdGF0ZXMsYj1iLmxpbmVXaWR0aCxhPWF8fCIiO3RoaXMuc3RhdGUhPT1hJiYodGhpcy5zdGF0ZT1hLGVbYV0mJmVbYV0uZW5hYmxlZD09PSExfHwoYSYmKGI9ZVthXS5saW5lV2lkdGh8fGIrKGVbYV0ubGluZVdpZHRoUGx1c3x8MCkpLGMmJiFjLmRhc2hzdHlsZSYmKGE9eyJzdHJva2Utd2lkdGgiOmJ9LGMuYXR0cihhKSxkJiZkLmF0dHIoYSkpKSl9LHNldFZpc2libGU6ZnVuY3Rpb24oYSxiKXt2YXIgZixjPXRoaXMsZD1jLmNoYXJ0LGU9Yy5sZWdlbmRJdGVtLGc9ZC5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcyxoPWMudmlzaWJsZTtmPShjLnZpc2libGU9YT1jLnVzZXJPcHRpb25zLnZpc2libGU9YT09PXU/IWg6YSk/InNob3ciOiJoaWRlIixxKFsiZ3JvdXAiLCJkYXRhTGFiZWxzR3JvdXAiLCJtYXJrZXJHcm91cCIsInRyYWNrZXIiXSxmdW5jdGlvbihhKXtjW2FdJiZjW2FdW2ZdKCl9KSxkLmhvdmVyU2VyaWVzPT09YyYmYy5vbk1vdXNlT3V0KCksZSYmZC5sZWdlbmQuY29sb3JpemVJdGVtKGMsYSksYy5pc0RpcnR5PSEwLGMub3B0aW9ucy5zdGFja2luZyYmcShkLnNlcmllcyxmdW5jdGlvbihhKXthLm9wdGlvbnMuc3RhY2tpbmcmJmEudmlzaWJsZSYmKGEuaXNEaXJ0eT0hMCl9KSxxKGMubGlua2VkU2VyaWVzLGZ1bmN0aW9uKGIpe2Iuc2V0VmlzaWJsZShhLCExKX0pLGcmJihkLmlzRGlydHlCb3g9ITApLGIhPT0hMSYmZC5yZWRyYXcoKSxJKGMsZil9LHNldFRvb2x0aXBQb2ludHM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxoLGksYj1bXSxlPXRoaXMueEF4aXMsZj1lJiZlLmdldEV4dHJlbWVzKCksZz1lP2UudG9vbHRpcExlbnx8ZS5sZW46dGhpcy5jaGFydC5wbG90U2l6ZVgsaj1bXTtpZih0aGlzLm9wdGlvbnMuZW5hYmxlTW91c2VUcmFja2luZyE9PSExJiYhdGhpcy5zaW5ndWxhclRvb2x0aXBzKXtmb3IoYSYmKHRoaXMudG9vbHRpcFBvaW50cz1udWxsKSxxKHRoaXMuc2VnbWVudHN8fHRoaXMucG9pbnRzLGZ1bmN0aW9uKGEpe2I9Yi5jb25jYXQoYSl9KSxlJiZlLnJldmVyc2VkJiYoYj1iLnJldmVyc2UoKSksdGhpcy5vcmRlclRvb2x0aXBQb2ludHMmJnRoaXMub3JkZXJUb29sdGlwUG9pbnRzKGIpLGE9Yi5sZW5ndGgsaT0wO2E+aTtpKyspaWYoZT1iW2ldLGM9ZS54LGM+PWYubWluJiZjPD1mLm1heClmb3IoaD1iW2krMV0sYz1kPT09dT8wOmQrMSxkPWJbaSsxXT9MKHQoMCxVKChlLmNsaWVudFgrKGg/aC53cmFwcGVkQ2xpZW50WHx8aC5jbGllbnRYOmcpKS8yKSksZyk6ZztjPj0wJiZkPj1jOylqW2MrK109ZTt0aGlzLnRvb2x0aXBQb2ludHM9an19LHNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldFZpc2libGUoITApfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRWaXNpYmxlKCExKX0sc2VsZWN0OmZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0ZWQ9YT1hPT09dT8hdGhpcy5zZWxlY3RlZDphLHRoaXMuY2hlY2tib3gmJih0aGlzLmNoZWNrYm94LmNoZWNrZWQ9YSksSSh0aGlzLGE/InNlbGVjdCI6InVuc2VsZWN0Iil9LGRyYXdUcmFja2VyOlQuZHJhd1RyYWNrZXJHcmFwaH0pLHIoSyx7QXhpczpuYSxDaGFydDpZYSxDb2xvcjp5YSxQb2ludDpGYSxUaWNrOlRhLFJlbmRlcmVyOlphLFNlcmllczpPLFNWR0VsZW1lbnQ6UyxTVkdSZW5kZXJlcjp0YSxhcnJheU1pbjpPYSxhcnJheU1heDpDYSxjaGFydHM6VyxkYXRlRm9ybWF0OmNiLGZvcm1hdDpKYSxwYXRoQW5pbTp2YixnZXRPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIEV9LGhhc0JpZGlCdWc6T2IsaXNUb3VjaERldmljZTpJYixudW1iZXJGb3JtYXQ6QmEsc2VyaWVzVHlwZXM6SCxzZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3JldHVybiBFPXcoITAsRSxhKSxCYigpLEV9LGFkZEV2ZW50Ok4scmVtb3ZlRXZlbnQ6WCxjcmVhdGVFbGVtZW50OiQsZGlzY2FyZEVsZW1lbnQ6UWEsY3NzOkIsZWFjaDpxLGV4dGVuZDpyLG1hcDpWYSxtZXJnZTp3LHBpY2s6cCxzcGxhdDpyYSxleHRlbmRDbGFzczptYSxwSW50Onksd3JhcDpOYSxzdmc6YmEsY2FudmFzOmdhLHZtbDohYmEmJiFnYSxwcm9kdWN0OiJIaWdoY2hhcnRzIix2ZXJzaW9uOiI0LjAuNCJ9KX0oKSxmdW5jdGlvbihsLEMpe2Z1bmN0aW9uIEsoYSxiLGMpe3RoaXMuaW5pdC5jYWxsKHRoaXMsYSxiLGMpfXZhciBQPWwuYXJyYXlNaW4sUT1sLmFycmF5TWF4LHM9bC5lYWNoLEY9bC5leHRlbmQscT1sLm1lcmdlLFI9bC5tYXAsbz1sLnBpY2sseD1sLnBJbnQscD1sLmdldE9wdGlvbnMoKS5wbG90T3B0aW9ucyxnPWwuc2VyaWVzVHlwZXMsdj1sLmV4dGVuZENsYXNzLEw9bC5zcGxhdCxyPWwud3JhcCxNPWwuQXhpcyx5PWwuVGljayxIPWwuUG9pbnQsUz1sLlBvaW50ZXIsVD1sLkNlbnRlcmVkU2VyaWVzTWl4aW4sej1sLlRyYWNrZXJNaXhpbix0PWwuU2VyaWVzLHc9TWF0aCxEPXcucm91bmQsQT13LmZsb29yLE49dy5tYXgsVT1sLkNvbG9yLHU9ZnVuY3Rpb24oKXt9O0YoSy5wcm90b3R5cGUse2luaXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT1kLmRlZmF1bHRPcHRpb25zO2QuY2hhcnQ9YixiLmFuZ3VsYXImJihlLmJhY2tncm91bmQ9e30pLGQub3B0aW9ucz1hPXEoZSxhKSwoYT1hLmJhY2tncm91bmQpJiZzKFtdLmNvbmNhdChMKGEpKS5yZXZlcnNlKCksZnVuY3Rpb24oYSl7dmFyIGI9YS5iYWNrZ3JvdW5kQ29sb3IsYT1xKGQuZGVmYXVsdEJhY2tncm91bmRPcHRpb25zLGEpO2ImJihhLmJhY2tncm91bmRDb2xvcj1iKSxhLmNvbG9yPWEuYmFja2dyb3VuZENvbG9yLGMub3B0aW9ucy5wbG90QmFuZHMudW5zaGlmdChhKX0pfSxkZWZhdWx0T3B0aW9uczp7Y2VudGVyOlsiNTAlIiwiNTAlIl0sc2l6ZToiODUlIixzdGFydEFuZ2xlOjB9LGRlZmF1bHRCYWNrZ3JvdW5kT3B0aW9uczp7c2hhcGU6ImNpcmNsZSIsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoic2lsdmVyIixiYWNrZ3JvdW5kQ29sb3I6e2xpbmVhckdyYWRpZW50Ont4MTowLHkxOjAseDI6MCx5MjoxfSxzdG9wczpbWzAsIiNGRkYiXSxbMSwiI0RERCJdXX0sZnJvbTotTnVtYmVyLk1BWF9WQUxVRSxpbm5lclJhZGl1czowLHRvOk51bWJlci5NQVhfVkFMVUUsb3V0ZXJSYWRpdXM6IjEwNSUifX0pO3ZhciBHPU0ucHJvdG90eXBlLHk9eS5wcm90b3R5cGUsVj17Z2V0T2Zmc2V0OnUscmVkcmF3OmZ1bmN0aW9uKCl7dGhpcy5pc0RpcnR5PSExfSxyZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmlzRGlydHk9ITF9LHNldFNjYWxlOnUsc2V0Q2F0ZWdvcmllczp1LHNldFRpdGxlOnV9LE89e2lzUmFkaWFsOiEwLGRlZmF1bHRSYWRpYWxHYXVnZU9wdGlvbnM6e2xhYmVsczp7YWxpZ246ImNlbnRlciIseDowLHk6bnVsbH0sbWlub3JHcmlkTGluZVdpZHRoOjAsbWlub3JUaWNrSW50ZXJ2YWw6ImF1dG8iLG1pbm9yVGlja0xlbmd0aDoxMCxtaW5vclRpY2tQb3NpdGlvbjoiaW5zaWRlIixtaW5vclRpY2tXaWR0aDoxLHRpY2tMZW5ndGg6MTAsdGlja1Bvc2l0aW9uOiJpbnNpZGUiLHRpY2tXaWR0aDoyLHRpdGxlOntyb3RhdGlvbjowfSx6SW5kZXg6Mn0sZGVmYXVsdFJhZGlhbFhPcHRpb25zOntncmlkTGluZVdpZHRoOjEsbGFiZWxzOnthbGlnbjpudWxsLGRpc3RhbmNlOjE1LHg6MCx5Om51bGx9LG1heFBhZGRpbmc6MCxtaW5QYWRkaW5nOjAsc2hvd0xhc3RMYWJlbDohMSx0aWNrTGVuZ3RoOjB9LGRlZmF1bHRSYWRpYWxZT3B0aW9uczp7Z3JpZExpbmVJbnRlcnBvbGF0aW9uOiJjaXJjbGUiLGxhYmVsczp7YWxpZ246InJpZ2h0Iix4Oi0zLHk6LTJ9LHNob3dMYXN0TGFiZWw6ITEsdGl0bGU6e3g6NCx0ZXh0Om51bGwscm90YXRpb246OTB9fSxzZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2E9dGhpcy5vcHRpb25zPXEodGhpcy5kZWZhdWx0T3B0aW9ucyx0aGlzLmRlZmF1bHRSYWRpYWxPcHRpb25zLGEpLGEucGxvdEJhbmRzfHwoYS5wbG90QmFuZHM9W10pfSxnZXRPZmZzZXQ6ZnVuY3Rpb24oKXtHLmdldE9mZnNldC5jYWxsKHRoaXMpLHRoaXMuY2hhcnQuYXhpc09mZnNldFt0aGlzLnNpZGVdPTAsdGhpcy5jZW50ZXI9dGhpcy5wYW5lLmNlbnRlcj1ULmdldENlbnRlci5jYWxsKHRoaXMucGFuZSl9LGdldExpbmVQYXRoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jZW50ZXIsYj1vKGIsY1syXS8yLXRoaXMub2Zmc2V0KTtyZXR1cm4gdGhpcy5jaGFydC5yZW5kZXJlci5zeW1ib2xzLmFyYyh0aGlzLmxlZnQrY1swXSx0aGlzLnRvcCtjWzFdLGIsYix7c3RhcnQ6dGhpcy5zdGFydEFuZ2xlUmFkLGVuZDp0aGlzLmVuZEFuZ2xlUmFkLG9wZW46ITAsaW5uZXJSOjB9KX0sc2V0QXhpc1RyYW5zbGF0aW9uOmZ1bmN0aW9uKCl7Ry5zZXRBeGlzVHJhbnNsYXRpb24uY2FsbCh0aGlzKSx0aGlzLmNlbnRlciYmKHRoaXMudHJhbnNBPXRoaXMuaXNDaXJjdWxhcj8odGhpcy5lbmRBbmdsZVJhZC10aGlzLnN0YXJ0QW5nbGVSYWQpLyh0aGlzLm1heC10aGlzLm1pbnx8MSk6dGhpcy5jZW50ZXJbMl0vMi8odGhpcy5tYXgtdGhpcy5taW58fDEpLHRoaXMubWluUGl4ZWxQYWRkaW5nPXRoaXMuaXNYQXhpcz90aGlzLnRyYW5zQSp0aGlzLm1pblBvaW50T2Zmc2V0OjApfSxiZWZvcmVTZXRUaWNrUG9zaXRpb25zOmZ1bmN0aW9uKCl7dGhpcy5hdXRvQ29ubmVjdCYmKHRoaXMubWF4Kz10aGlzLmNhdGVnb3JpZXMmJjF8fHRoaXMucG9pbnRSYW5nZXx8dGhpcy5jbG9zZXN0UG9pbnRSYW5nZXx8MCl9LHNldEF4aXNTaXplOmZ1bmN0aW9uKCl7Ry5zZXRBeGlzU2l6ZS5jYWxsKHRoaXMpLHRoaXMuaXNSYWRpYWwmJih0aGlzLmNlbnRlcj10aGlzLnBhbmUuY2VudGVyPWwuQ2VudGVyZWRTZXJpZXNNaXhpbi5nZXRDZW50ZXIuY2FsbCh0aGlzLnBhbmUpLHRoaXMuaXNDaXJjdWxhciYmKHRoaXMuc2VjdG9yPXRoaXMuZW5kQW5nbGVSYWQtdGhpcy5zdGFydEFuZ2xlUmFkKSx0aGlzLmxlbj10aGlzLndpZHRoPXRoaXMuaGVpZ2h0PXRoaXMuY2VudGVyWzJdKm8odGhpcy5zZWN0b3IsMSkvMil9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucG9zdFRyYW5zbGF0ZSh0aGlzLmlzQ2lyY3VsYXI/dGhpcy50cmFuc2xhdGUoYSk6MCxvKHRoaXMuaXNDaXJjdWxhcj9iOnRoaXMudHJhbnNsYXRlKGEpLHRoaXMuY2VudGVyWzJdLzIpLXRoaXMub2Zmc2V0KX0scG9zdFRyYW5zbGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2hhcnQsZD10aGlzLmNlbnRlcixhPXRoaXMuc3RhcnRBbmdsZVJhZCthO3JldHVybnt4OmMucGxvdExlZnQrZFswXStNYXRoLmNvcyhhKSpiLHk6Yy5wbG90VG9wK2RbMV0rTWF0aC5zaW4oYSkqYn19LGdldFBsb3RCYW5kUGF0aDpmdW5jdGlvbihhLGIsYyl7dmFyIGssZD10aGlzLmNlbnRlcixlPXRoaXMuc3RhcnRBbmdsZVJhZCxmPWRbMl0vMixoPVtvKGMub3V0ZXJSYWRpdXMsIjEwMCUiKSxjLmlubmVyUmFkaXVzLG8oYy50aGlja25lc3MsMTApXSxqPS8lJC8sbT10aGlzLmlzQ2lyY3VsYXI7cmV0dXJuInBvbHlnb24iPT09dGhpcy5vcHRpb25zLmdyaWRMaW5lSW50ZXJwb2xhdGlvbj9kPXRoaXMuZ2V0UGxvdExpbmVQYXRoKGEpLmNvbmNhdCh0aGlzLmdldFBsb3RMaW5lUGF0aChiLCEwKSk6KG18fChoWzBdPXRoaXMudHJhbnNsYXRlKGEpLGhbMV09dGhpcy50cmFuc2xhdGUoYikpLGg9UihoLGZ1bmN0aW9uKGEpe3JldHVybiBqLnRlc3QoYSkmJihhPXgoYSwxMCkqZi8xMDApLGF9KSwiY2lyY2xlIiE9PWMuc2hhcGUmJm0/KGE9ZSt0aGlzLnRyYW5zbGF0ZShhKSxiPWUrdGhpcy50cmFuc2xhdGUoYikpOihhPS1NYXRoLlBJLzIsYj0xLjUqTWF0aC5QSSxrPSEwKSxkPXRoaXMuY2hhcnQucmVuZGVyZXIuc3ltYm9scy5hcmModGhpcy5sZWZ0K2RbMF0sdGhpcy50b3ArZFsxXSxoWzBdLGhbMF0se3N0YXJ0OmEsZW5kOmIsaW5uZXJSOm8oaFsxXSxoWzBdLWhbMl0pLG9wZW46a30pKSxkfSxnZXRQbG90TGluZVBhdGg6ZnVuY3Rpb24oYSxiKXt2YXIgaCxqLGssYz10aGlzLGQ9Yy5jZW50ZXIsZT1jLmNoYXJ0LGY9Yy5nZXRQb3NpdGlvbihhKTtyZXR1cm4gYy5pc0NpcmN1bGFyP2s9WyJNIixkWzBdK2UucGxvdExlZnQsZFsxXStlLnBsb3RUb3AsIkwiLGYueCxmLnldOiJjaXJjbGUiPT09Yy5vcHRpb25zLmdyaWRMaW5lSW50ZXJwb2xhdGlvbj8oYT1jLnRyYW5zbGF0ZShhKSkmJihrPWMuZ2V0TGluZVBhdGgoMCxhKSk6KHMoZS54QXhpcyxmdW5jdGlvbihhKXthLnBhbmU9PT1jLnBhbmUmJihoPWEpfSksaz1bXSxhPWMudHJhbnNsYXRlKGEpLGQ9aC50aWNrUG9zaXRpb25zLGguYXV0b0Nvbm5lY3QmJihkPWQuY29uY2F0KFtkWzBdXSkpLGImJihkPVtdLmNvbmNhdChkKS5yZXZlcnNlKCkpLHMoZCxmdW5jdGlvbihmLGMpe2o9aC5nZXRQb3NpdGlvbihmLGEpLGsucHVzaChjPyJMIjoiTSIsai54LGoueSl9KSksa30sZ2V0VGl0bGVQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2VudGVyLGI9dGhpcy5jaGFydCxjPXRoaXMub3B0aW9ucy50aXRsZTtyZXR1cm57eDpiLnBsb3RMZWZ0K2FbMF0rKGMueHx8MCkseTpiLnBsb3RUb3ArYVsxXS17aGlnaDouNSxtaWRkbGU6LjI1LGxvdzowfVtjLmFsaWduXSphWzJdKyhjLnl8fDApfX19O3IoRywiaW5pdCIsZnVuY3Rpb24oYSxiLGMpe3ZhciBpLGosayxkPWIuYW5ndWxhcixlPWIucG9sYXIsZj1jLmlzWCxoPWQmJmY7az1iLm9wdGlvbnM7dmFyIG09Yy5wYW5lfHwwO2Q/KEYodGhpcyxoP1Y6TyksKGo9IWYpJiYodGhpcy5kZWZhdWx0UmFkaWFsT3B0aW9ucz10aGlzLmRlZmF1bHRSYWRpYWxHYXVnZU9wdGlvbnMpKTplJiYoRih0aGlzLE8pLHRoaXMuZGVmYXVsdFJhZGlhbE9wdGlvbnM9KGo9Zik/dGhpcy5kZWZhdWx0UmFkaWFsWE9wdGlvbnM6cSh0aGlzLmRlZmF1bHRZQXhpc09wdGlvbnMsdGhpcy5kZWZhdWx0UmFkaWFsWU9wdGlvbnMpKSxhLmNhbGwodGhpcyxiLGMpLGh8fCFkJiYhZXx8KGE9dGhpcy5vcHRpb25zLGIucGFuZXN8fChiLnBhbmVzPVtdKSx0aGlzLnBhbmU9KGk9Yi5wYW5lc1ttXT1iLnBhbmVzW21dfHxuZXcgSyhMKGsucGFuZSlbbV0sYix0aGlzKSxtPWkpLG09bS5vcHRpb25zLGIuaW52ZXJ0ZWQ9ITEsay5jaGFydC56b29tVHlwZT1udWxsLHRoaXMuc3RhcnRBbmdsZVJhZD1iPShtLnN0YXJ0QW5nbGUtOTApKk1hdGguUEkvMTgwLHRoaXMuZW5kQW5nbGVSYWQ9az0obyhtLmVuZEFuZ2xlLG0uc3RhcnRBbmdsZSszNjApLTkwKSpNYXRoLlBJLzE4MCx0aGlzLm9mZnNldD1hLm9mZnNldHx8MCwodGhpcy5pc0NpcmN1bGFyPWopJiZjLm1heD09PUMmJmstYj09PTIqTWF0aC5QSSYmKHRoaXMuYXV0b0Nvbm5lY3Q9ITApKX0pLHIoeSwiZ2V0UG9zaXRpb24iLGZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5heGlzO3JldHVybiBmLmdldFBvc2l0aW9uP2YuZ2V0UG9zaXRpb24oYyk6YS5jYWxsKHRoaXMsYixjLGQsZSl9KSxyKHksImdldExhYmVsUG9zaXRpb24iLGZ1bmN0aW9uKGEsYixjLGQsZSxmLGgsaixrKXt2YXIgbT10aGlzLmF4aXMsaT1mLnksbj1mLmFsaWduLGc9KG0udHJhbnNsYXRlKHRoaXMucG9zKSttLnN0YXJ0QW5nbGVSYWQrTWF0aC5QSS8yKS9NYXRoLlBJKjE4MCUzNjA7cmV0dXJuIG0uaXNSYWRpYWw/KGE9bS5nZXRQb3NpdGlvbih0aGlzLnBvcyxtLmNlbnRlclsyXS8yK28oZi5kaXN0YW5jZSwtMjUpKSwiYXV0byI9PT1mLnJvdGF0aW9uP2QuYXR0cih7cm90YXRpb246Z30pOm51bGw9PT1pJiYoaT1tLmNoYXJ0LnJlbmRlcmVyLmZvbnRNZXRyaWNzKGQuc3R5bGVzLmZvbnRTaXplKS5iLWQuZ2V0QkJveCgpLmhlaWdodC8yKSxudWxsPT09biYmKG49bS5pc0NpcmN1bGFyP2c+MjAmJjE2MD5nPyJsZWZ0IjpnPjIwMCYmMzQwPmc/InJpZ2h0IjoiY2VudGVyIjoiY2VudGVyIixkLmF0dHIoe2FsaWduOm59KSksYS54Kz1mLngsYS55Kz1pKTphPWEuY2FsbCh0aGlzLGIsYyxkLGUsZixoLGosayksYX0pLHIoeSwiZ2V0TWFya1BhdGgiLGZ1bmN0aW9uKGEsYixjLGQsZSxmLGgpe3ZhciBqPXRoaXMuYXhpcztyZXR1cm4gai5pc1JhZGlhbD8oYT1qLmdldFBvc2l0aW9uKHRoaXMucG9zLGouY2VudGVyWzJdLzIrZCksYj1bIk0iLGIsYywiTCIsYS54LGEueV0pOmI9YS5jYWxsKHRoaXMsYixjLGQsZSxmLGgpLGJ9KSxwLmFyZWFyYW5nZT1xKHAuYXJlYSx7bGluZVdpZHRoOjEsbWFya2VyOm51bGwsdGhyZXNob2xkOm51bGwsdG9vbHRpcDp7cG9pbnRGb3JtYXQ6JzxzcGFuIHN0eWxlPSJjb2xvcjp7c2VyaWVzLmNvbG9yfSI+4pePPC9zcGFuPiB7c2VyaWVzLm5hbWV9OiA8Yj57cG9pbnQubG93fTwvYj4gLSA8Yj57cG9pbnQuaGlnaH08L2I+PGJyLz4nfSx0cmFja0J5QXJlYTohMCxkYXRhTGFiZWxzOnthbGlnbjpudWxsLHZlcnRpY2FsQWxpZ246bnVsbCx4TG93OjAseEhpZ2g6MCx5TG93OjAseUhpZ2g6MH0sc3RhdGVzOntob3Zlcjp7aGFsbzohMX19fSksZy5hcmVhcmFuZ2U9dihnLmFyZWEse3R5cGU6ImFyZWFyYW5nZSIscG9pbnRBcnJheU1hcDpbImxvdyIsImhpZ2giXSx0b1lEYXRhOmZ1bmN0aW9uKGEpe3JldHVyblthLmxvdyxhLmhpZ2hdfSxwb2ludFZhbEtleToibG93IixnZXRTZWdtZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cyhhLnBvaW50cyxmdW5jdGlvbihiKXthLm9wdGlvbnMuY29ubmVjdE51bGxzfHxudWxsIT09Yi5sb3cmJm51bGwhPT1iLmhpZ2g/bnVsbD09PWIubG93JiZudWxsIT09Yi5oaWdoJiYoYi55PWIuaGlnaCk6Yi55PW51bGx9KSx0LnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnlBeGlzO2cuYXJlYS5wcm90b3R5cGUudHJhbnNsYXRlLmFwcGx5KHRoaXMpLHModGhpcy5wb2ludHMsZnVuY3Rpb24oYil7dmFyIGM9Yi5sb3csZD1iLmhpZ2gsZT1iLnBsb3RZO251bGw9PT1kJiZudWxsPT09Yz9iLnk9bnVsbDpudWxsPT09Yz8oYi5wbG90TG93PWIucGxvdFk9bnVsbCxiLnBsb3RIaWdoPWEudHJhbnNsYXRlKGQsMCwxLDAsMSkpOm51bGw9PT1kPyhiLnBsb3RMb3c9ZSxiLnBsb3RIaWdoPW51bGwpOihiLnBsb3RMb3c9ZSxiLnBsb3RIaWdoPWEudHJhbnNsYXRlKGQsMCwxLDAsMSkpfSl9LGdldFNlZ21lbnRQYXRoOmZ1bmN0aW9uKGEpe3ZhciBiLGYsaCxjPVtdLGQ9YS5sZW5ndGgsZT10LnByb3RvdHlwZS5nZXRTZWdtZW50UGF0aDtoPXRoaXMub3B0aW9uczt2YXIgaj1oLnN0ZXA7Zm9yKGI9SGlnaGNoYXJ0c0FkYXB0ZXIuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09YS5wbG90TG93fSk7ZC0tOylmPWFbZF0sbnVsbCE9PWYucGxvdEhpZ2gmJmMucHVzaCh7cGxvdFg6Zi5wbG90WCxwbG90WTpmLnBsb3RIaWdofSk7cmV0dXJuIGE9ZS5jYWxsKHRoaXMsYiksaiYmKGo9PT0hMCYmKGo9ImxlZnQiKSxoLnN0ZXA9e2xlZnQ6InJpZ2h0IixjZW50ZXI6ImNlbnRlciIscmlnaHQ6ImxlZnQifVtqXSksYz1lLmNhbGwodGhpcyxjKSxoLnN0ZXA9aixoPVtdLmNvbmNhdChhLGMpLGNbMF09IkwiLHRoaXMuYXJlYVBhdGg9dGhpcy5hcmVhUGF0aC5jb25jYXQoYSxjKSxofSxkcmF3RGF0YUxhYmVsczpmdW5jdGlvbigpe3ZhciBjLGosYT10aGlzLmRhdGEsYj1hLmxlbmd0aCxkPVtdLGU9dC5wcm90b3R5cGUsZj10aGlzLm9wdGlvbnMuZGF0YUxhYmVscyxoPWYuYWxpZ24saz10aGlzLmNoYXJ0LmludmVydGVkO2lmKGYuZW5hYmxlZHx8dGhpcy5faGFzUG9pbnRMYWJlbHMpe2ZvcihjPWI7Yy0tOylqPWFbY10sai55PWouaGlnaCxqLl9wbG90WT1qLnBsb3RZLGoucGxvdFk9ai5wbG90SGlnaCxkW2NdPWouZGF0YUxhYmVsLGouZGF0YUxhYmVsPWouZGF0YUxhYmVsVXBwZXIsai5iZWxvdz0hMSxrPyhofHwoZi5hbGlnbj0ibGVmdCIpLGYueD1mLnhIaWdoKTpmLnk9Zi55SGlnaDtmb3IoZS5kcmF3RGF0YUxhYmVscyYmZS5kcmF3RGF0YUxhYmVscy5hcHBseSh0aGlzLGFyZ3VtZW50cyksYz1iO2MtLTspaj1hW2NdLGouZGF0YUxhYmVsVXBwZXI9ai5kYXRhTGFiZWwsai5kYXRhTGFiZWw9ZFtjXSxqLnk9ai5sb3csai5wbG90WT1qLl9wbG90WSxqLmJlbG93PSEwLGs/KGh8fChmLmFsaWduPSJyaWdodCIpLGYueD1mLnhMb3cpOmYueT1mLnlMb3c7ZS5kcmF3RGF0YUxhYmVscyYmZS5kcmF3RGF0YUxhYmVscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Zi5hbGlnbj1ofSxhbGlnbkRhdGFMYWJlbDpmdW5jdGlvbigpe2cuY29sdW1uLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldFN5bWJvbDp1LGRyYXdQb2ludHM6dX0pLHAuYXJlYXNwbGluZXJhbmdlPXEocC5hcmVhcmFuZ2UpLGcuYXJlYXNwbGluZXJhbmdlPXYoZy5hcmVhcmFuZ2Use3R5cGU6ImFyZWFzcGxpbmVyYW5nZSIsZ2V0UG9pbnRTcGxpbmU6Zy5zcGxpbmUucHJvdG90eXBlLmdldFBvaW50U3BsaW5lfSksZnVuY3Rpb24oKXt2YXIgYT1nLmNvbHVtbi5wcm90b3R5cGU7cC5jb2x1bW5yYW5nZT1xKHAuY29sdW1uLHAuYXJlYXJhbmdlLHtsaW5lV2lkdGg6MSxwb2ludFJhbmdlOm51bGx9KSxnLmNvbHVtbnJhbmdlPXYoZy5hcmVhcmFuZ2Use3R5cGU6ImNvbHVtbnJhbmdlIix0cmFuc2xhdGU6ZnVuY3Rpb24oKXt2YXIgZCxiPXRoaXMsYz1iLnlBeGlzO2EudHJhbnNsYXRlLmFwcGx5KGIpLHMoYi5wb2ludHMsZnVuY3Rpb24oYSl7dmFyIGosZj1hLnNoYXBlQXJncyxoPWIub3B0aW9ucy5taW5Qb2ludExlbmd0aDthLnRvb2x0aXBQb3M9bnVsbCxhLnBsb3RIaWdoPWQ9Yy50cmFuc2xhdGUoYS5oaWdoLDAsMSwwLDEpLGEucGxvdExvdz1hLnBsb3RZLGo9ZCxhPWEucGxvdFktZCxoPmEmJihoLT1hLGErPWgsai09aC8yKSxmLmhlaWdodD1hLGYueT1qfSl9LHRyYWNrZXJHcm91cHM6WyJncm91cCIsImRhdGFMYWJlbHNHcm91cCJdLGRyYXdHcmFwaDp1LHBvaW50QXR0clRvT3B0aW9uczphLnBvaW50QXR0clRvT3B0aW9ucyxkcmF3UG9pbnRzOmEuZHJhd1BvaW50cyxkcmF3VHJhY2tlcjphLmRyYXdUcmFja2VyLGFuaW1hdGU6YS5hbmltYXRlLGdldENvbHVtbk1ldHJpY3M6YS5nZXRDb2x1bW5NZXRyaWNzfSl9KCkscC5nYXVnZT1xKHAubGluZSx7ZGF0YUxhYmVsczp7ZW5hYmxlZDohMCxkZWZlcjohMSx5OjE1LGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6InNpbHZlciIsYm9yZGVyUmFkaXVzOjMsY3JvcDohMSxzdHlsZTp7Zm9udFdlaWdodDoiYm9sZCJ9LHZlcnRpY2FsQWxpZ246InRvcCIsekluZGV4OjJ9LGRpYWw6e30scGl2b3Q6e30sdG9vbHRpcDp7aGVhZGVyRm9ybWF0OiIifSxzaG93SW5MZWdlbmQ6ITF9KSx6PXt0eXBlOiJnYXVnZSIscG9pbnRDbGFzczp2KEgse3NldFN0YXRlOmZ1bmN0aW9uKGEpe3RoaXMuc3RhdGU9YX19KSxhbmd1bGFyOiEwLGRyYXdHcmFwaDp1LGZpeGVkQm94OiEwLGZvcmNlREw6ITAsdHJhY2tlckdyb3VwczpbImdyb3VwIiwiZGF0YUxhYmVsc0dyb3VwIl0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy55QXhpcyxiPXRoaXMub3B0aW9ucyxjPWEuY2VudGVyO3RoaXMuZ2VuZXJhdGVQb2ludHMoKSxzKHRoaXMucG9pbnRzLGZ1bmN0aW9uKGQpe3ZhciBlPXEoYi5kaWFsLGQuZGlhbCksZj14KG8oZS5yYWRpdXMsODApKSpjWzJdLzIwMCxoPXgobyhlLmJhc2VMZW5ndGgsNzApKSpmLzEwMCxqPXgobyhlLnJlYXJMZW5ndGgsMTApKSpmLzEwMCxrPWUuYmFzZVdpZHRofHwzLG09ZS50b3BXaWR0aHx8MSxpPWIub3ZlcnNob290LG49YS5zdGFydEFuZ2xlUmFkK2EudHJhbnNsYXRlKGQueSxudWxsLG51bGwsbnVsbCwhMCk7aSYmIm51bWJlciI9PXR5cGVvZiBpPyhpPWkvMTgwKk1hdGguUEksbj1NYXRoLm1heChhLnN0YXJ0QW5nbGVSYWQtaSxNYXRoLm1pbihhLmVuZEFuZ2xlUmFkK2ksbikpKTpiLndyYXA9PT0hMSYmKG49TWF0aC5tYXgoYS5zdGFydEFuZ2xlUmFkLE1hdGgubWluKGEuZW5kQW5nbGVSYWQsbikpKSxuPTE4MCpuL01hdGguUEksZC5zaGFwZVR5cGU9InBhdGgiLGQuc2hhcGVBcmdzPXtkOmUucGF0aHx8WyJNIiwtaiwtay8yLCJMIixoLC1rLzIsZiwtbS8yLGYsbS8yLGgsay8yLC1qLGsvMiwieiJdLHRyYW5zbGF0ZVg6Y1swXSx0cmFuc2xhdGVZOmNbMV0scm90YXRpb246bn0sZC5wbG90WD1jWzBdLGQucGxvdFk9Y1sxXX0pfSxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEueUF4aXMuY2VudGVyLGM9YS5waXZvdCxkPWEub3B0aW9ucyxlPWQucGl2b3QsZj1hLmNoYXJ0LnJlbmRlcmVyO3MoYS5wb2ludHMsZnVuY3Rpb24oYyl7dmFyIGI9Yy5ncmFwaGljLGs9Yy5zaGFwZUFyZ3MsZT1rLmQsaT1xKGQuZGlhbCxjLmRpYWwpO2I/KGIuYW5pbWF0ZShrKSxrLmQ9ZSk6Yy5ncmFwaGljPWZbYy5zaGFwZVR5cGVdKGspLmF0dHIoe3N0cm9rZTppLmJvcmRlckNvbG9yfHwibm9uZSIsInN0cm9rZS13aWR0aCI6aS5ib3JkZXJXaWR0aHx8MCxmaWxsOmkuYmFja2dyb3VuZENvbG9yfHwiYmxhY2siLHJvdGF0aW9uOmsucm90YXRpb259KS5hZGQoYS5ncm91cCl9KSxjP2MuYW5pbWF0ZSh7dHJhbnNsYXRlWDpiWzBdLHRyYW5zbGF0ZVk6YlsxXX0pOmEucGl2b3Q9Zi5jaXJjbGUoMCwwLG8oZS5yYWRpdXMsNSkpLmF0dHIoeyJzdHJva2Utd2lkdGgiOmUuYm9yZGVyV2lkdGh8fDAsc3Ryb2tlOmUuYm9yZGVyQ29sb3J8fCJzaWx2ZXIiLGZpbGw6ZS5iYWNrZ3JvdW5kQ29sb3J8fCJibGFjayJ9KS50cmFuc2xhdGUoYlswXSxiWzFdKS5hZGQoYS5ncm91cCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthfHwocyhiLnBvaW50cyxmdW5jdGlvbihhKXt2YXIgZD1hLmdyYXBoaWM7ZCYmKGQuYXR0cih7cm90YXRpb246MTgwKmIueUF4aXMuc3RhcnRBbmdsZVJhZC9NYXRoLlBJfSksZC5hbmltYXRlKHtyb3RhdGlvbjphLnNoYXBlQXJncy5yb3RhdGlvbn0sYi5vcHRpb25zLmFuaW1hdGlvbikpfSksYi5hbmltYXRlPW51bGwpfSxyZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwPXRoaXMucGxvdEdyb3VwKCJncm91cCIsInNlcmllcyIsdGhpcy52aXNpYmxlPyJ2aXNpYmxlIjoiaGlkZGVuIix0aGlzLm9wdGlvbnMuekluZGV4LHRoaXMuY2hhcnQuc2VyaWVzR3JvdXApLHQucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMpLHRoaXMuZ3JvdXAuY2xpcCh0aGlzLmNoYXJ0LmNsaXBSZWN0KX0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe3QucHJvdG90eXBlLnNldERhdGEuY2FsbCh0aGlzLGEsITEpLHRoaXMucHJvY2Vzc0RhdGEoKSx0aGlzLmdlbmVyYXRlUG9pbnRzKCksbyhiLCEwKSYmdGhpcy5jaGFydC5yZWRyYXcoKX0sZHJhd1RyYWNrZXI6eiYmei5kcmF3VHJhY2tlclBvaW50fSxnLmdhdWdlPXYoZy5saW5lLHopLHAuYm94cGxvdD1xKHAuY29sdW1uLHtmaWxsQ29sb3I6IiNGRkZGRkYiLGxpbmVXaWR0aDoxLG1lZGlhbldpZHRoOjIsc3RhdGVzOntob3Zlcjp7YnJpZ2h0bmVzczotLjN9fSx0aHJlc2hvbGQ6bnVsbCx0b29sdGlwOntwb2ludEZvcm1hdDonPHNwYW4gc3R5bGU9ImNvbG9yOntzZXJpZXMuY29sb3J9Ij7il488L3NwYW4+IDxiPiB7c2VyaWVzLm5hbWV9PC9iPjxici8+TWF4aW11bToge3BvaW50LmhpZ2h9PGJyLz5VcHBlciBxdWFydGlsZToge3BvaW50LnEzfTxici8+TWVkaWFuOiB7cG9pbnQubWVkaWFufTxici8+TG93ZXIgcXVhcnRpbGU6IHtwb2ludC5xMX08YnIvPk1pbmltdW06IHtwb2ludC5sb3d9PGJyLz4nfSx3aGlza2VyTGVuZ3RoOiI1MCUiLHdoaXNrZXJXaWR0aDoyfSksZy5ib3hwbG90PXYoZy5jb2x1bW4se3R5cGU6ImJveHBsb3QiLHBvaW50QXJyYXlNYXA6WyJsb3ciLCJxMSIsIm1lZGlhbiIsInEzIiwiaGlnaCJdLHRvWURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuW2EubG93LGEucTEsYS5tZWRpYW4sYS5xMyxhLmhpZ2hdfSxwb2ludFZhbEtleToiaGlnaCIscG9pbnRBdHRyVG9PcHRpb25zOntmaWxsOiJmaWxsQ29sb3IiLHN0cm9rZToiY29sb3IiLCJzdHJva2Utd2lkdGgiOiJsaW5lV2lkdGgifSxkcmF3RGF0YUxhYmVsczp1LHRyYW5zbGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMueUF4aXMsYj10aGlzLnBvaW50QXJyYXlNYXA7Zy5jb2x1bW4ucHJvdG90eXBlLnRyYW5zbGF0ZS5hcHBseSh0aGlzKSxzKHRoaXMucG9pbnRzLGZ1bmN0aW9uKGMpe3MoYixmdW5jdGlvbihiKXtudWxsIT09Y1tiXSYmKGNbYisiUGxvdCJdPWEudHJhbnNsYXRlKGNbYl0sMCwxLDAsMSkpfSl9KX0sZHJhd1BvaW50czpmdW5jdGlvbigpe3ZhciBlLGYsaCxqLGssbSxpLG4sZyxsLHAsSSxyLHEsSix1LHYsdCx3LHgseix5LGE9dGhpcyxiPWEucG9pbnRzLGM9YS5vcHRpb25zLGQ9YS5jaGFydC5yZW5kZXJlcixFPWEuZG9RdWFydGlsZXMhPT0hMSxCPXBhcnNlSW50KGEub3B0aW9ucy53aGlza2VyTGVuZ3RoLDEwKS8xMDA7cyhiLGZ1bmN0aW9uKGIpe2c9Yi5ncmFwaGljLHo9Yi5zaGFwZUFyZ3MscD17fSxxPXt9LHU9e30seT1iLmNvbG9yfHxhLmNvbG9yLGIucGxvdFkhPT1DJiYoZT1iLnBvaW50QXR0cltiLnNlbGVjdGVkPyJzZWxlY3RlZCI6IiJdLHY9ei53aWR0aCx0PUEoei54KSx3PXQrdix4PUQodi8yKSxmPUEoRT9iLnExUGxvdDpiLmxvd1Bsb3QpLGg9QShFP2IucTNQbG90OmIubG93UGxvdCksaj1BKGIuaGlnaFBsb3QpLGs9QShiLmxvd1Bsb3QpLHAuc3Ryb2tlPWIuc3RlbUNvbG9yfHxjLnN0ZW1Db2xvcnx8eSxwWyJzdHJva2Utd2lkdGgiXT1vKGIuc3RlbVdpZHRoLGMuc3RlbVdpZHRoLGMubGluZVdpZHRoKSxwLmRhc2hzdHlsZT1iLnN0ZW1EYXNoU3R5bGV8fGMuc3RlbURhc2hTdHlsZSxxLnN0cm9rZT1iLndoaXNrZXJDb2xvcnx8Yy53aGlza2VyQ29sb3J8fHkscVsic3Ryb2tlLXdpZHRoIl09byhiLndoaXNrZXJXaWR0aCxjLndoaXNrZXJXaWR0aCxjLmxpbmVXaWR0aCksdS5zdHJva2U9Yi5tZWRpYW5Db2xvcnx8Yy5tZWRpYW5Db2xvcnx8eSx1WyJzdHJva2Utd2lkdGgiXT1vKGIubWVkaWFuV2lkdGgsYy5tZWRpYW5XaWR0aCxjLmxpbmVXaWR0aCksdVsic3Ryb2tlLWxpbmVjYXAiXT0icm91bmQiLGk9cFsic3Ryb2tlLXdpZHRoIl0lMi8yLG49dCt4K2ksbD1bIk0iLG4saCwiTCIsbixqLCJNIixuLGYsIkwiLG4sa10sRSYmKGk9ZVsic3Ryb2tlLXdpZHRoIl0lMi8yLG49QShuKStpLGY9QShmKStpLGg9QShoKStpLHQrPWksdys9aSxJPVsiTSIsdCxoLCJMIix0LGYsIkwiLHcsZiwiTCIsdyxoLCJMIix0LGgsInoiXSksQiYmKGk9cVsic3Ryb2tlLXdpZHRoIl0lMi8yLGorPWksays9aSxyPVsiTSIsbi14KkIsaiwiTCIsbit4KkIsaiwiTSIsbi14KkIsaywiTCIsbit4KkIsa10pLGk9dVsic3Ryb2tlLXdpZHRoIl0lMi8yLG09RChiLm1lZGlhblBsb3QpK2ksSj1bIk0iLHQsbSwiTCIsdyxtXSxnPyhiLnN0ZW0uYW5pbWF0ZSh7ZDpsfSksQiYmYi53aGlza2Vycy5hbmltYXRlKHtkOnJ9KSxFJiZiLmJveC5hbmltYXRlKHtkOkl9KSxiLm1lZGlhblNoYXBlLmFuaW1hdGUoe2Q6Sn0pKTooYi5ncmFwaGljPWc9ZC5nKCkuYWRkKGEuZ3JvdXApLGIuc3RlbT1kLnBhdGgobCkuYXR0cihwKS5hZGQoZyksQiYmKGIud2hpc2tlcnM9ZC5wYXRoKHIpLmF0dHIocSkuYWRkKGcpKSxFJiYoYi5ib3g9ZC5wYXRoKEkpLmF0dHIoZSkuYWRkKGcpKSxiLm1lZGlhblNoYXBlPWQucGF0aChKKS5hdHRyKHUpLmFkZChnKSkpfSl9fSkscC5lcnJvcmJhcj1xKHAuYm94cGxvdCx7Y29sb3I6IiMwMDAwMDAiLGdyb3VwaW5nOiExLGxpbmtlZFRvOiI6cHJldmlvdXMiLHRvb2x0aXA6e3BvaW50Rm9ybWF0Oic8c3BhbiBzdHlsZT0iY29sb3I6e3Nlcmllcy5jb2xvcn0iPuKXjzwvc3Bhbj4ge3Nlcmllcy5uYW1lfTogPGI+e3BvaW50Lmxvd308L2I+IC0gPGI+e3BvaW50LmhpZ2h9PC9iPjxici8+J30sd2hpc2tlcldpZHRoOm51bGx9KSxnLmVycm9yYmFyPXYoZy5ib3hwbG90LHt0eXBlOiJlcnJvcmJhciIscG9pbnRBcnJheU1hcDpbImxvdyIsImhpZ2giXSx0b1lEYXRhOmZ1bmN0aW9uKGEpe3JldHVyblthLmxvdyxhLmhpZ2hdfSxwb2ludFZhbEtleToiaGlnaCIsZG9RdWFydGlsZXM6ITEsZHJhd0RhdGFMYWJlbHM6Zy5hcmVhcmFuZ2U/Zy5hcmVhcmFuZ2UucHJvdG90eXBlLmRyYXdEYXRhTGFiZWxzOnUsZ2V0Q29sdW1uTWV0cmljczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpbmtlZFBhcmVudCYmdGhpcy5saW5rZWRQYXJlbnQuY29sdW1uTWV0cmljc3x8Zy5jb2x1bW4ucHJvdG90eXBlLmdldENvbHVtbk1ldHJpY3MuY2FsbCh0aGlzKX19KSxwLndhdGVyZmFsbD1xKHAuY29sdW1uLHtsaW5lV2lkdGg6MSxsaW5lQ29sb3I6IiMzMzMiLGRhc2hTdHlsZToiZG90Iixib3JkZXJDb2xvcjoiIzMzMyIsc3RhdGVzOntob3Zlcjp7bGluZVdpZHRoUGx1czowfX19KSxnLndhdGVyZmFsbD12KGcuY29sdW1uLHt0eXBlOiJ3YXRlcmZhbGwiLHVwQ29sb3JQcm9wOiJmaWxsIixwb2ludEFycmF5TWFwOlsibG93IiwieSJdLHBvaW50VmFsS2V5OiJ5Iixpbml0OmZ1bmN0aW9uKGEsYil7Yi5zdGFja2luZz0hMCxnLmNvbHVtbi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsYSxiKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixoLGosayxtLGksYT10aGlzLnlBeGlzO2ZvcihiPXRoaXMub3B0aW9ucy50aHJlc2hvbGQsZy5jb2x1bW4ucHJvdG90eXBlLnRyYW5zbGF0ZS5hcHBseSh0aGlzKSxrPW09YixkPXRoaXMucG9pbnRzLGM9MCxiPWQubGVuZ3RoO2I+YztjKyspZT1kW2NdLGY9ZS5zaGFwZUFyZ3MsaD10aGlzLmdldFN0YWNrKGMpLGk9aC5wb2ludHNbdGhpcy5pbmRleCsiLCIrY10saXNOYU4oZS55KSYmKGUueT10aGlzLnlEYXRhW2NdKSxqPU4oayxrK2UueSkraVswXSxmLnk9YS50cmFuc2xhdGUoaiwwLDEpLGUuaXNTdW0/KGYueT1hLnRyYW5zbGF0ZShpWzFdLDAsMSksZi5oZWlnaHQ9YS50cmFuc2xhdGUoaVswXSwwLDEpLWYueSk6ZS5pc0ludGVybWVkaWF0ZVN1bT8oZi55PWEudHJhbnNsYXRlKGlbMV0sMCwxKSxmLmhlaWdodD1hLnRyYW5zbGF0ZShtLDAsMSktZi55LG09aVsxXSk6ays9aC50b3RhbCxmLmhlaWdodDwwJiYoZi55Kz1mLmhlaWdodCxmLmhlaWdodCo9LTEpLGUucGxvdFk9Zi55PUQoZi55KS10aGlzLmJvcmRlcldpZHRoJTIvMixmLmhlaWdodD1OKEQoZi5oZWlnaHQpLC4wMDEpLGUueUJvdHRvbT1mLnkrZi5oZWlnaHQsZj1lLnBsb3RZKyhlLm5lZ2F0aXZlP2YuaGVpZ2h0OjApLHRoaXMuY2hhcnQuaW52ZXJ0ZWQ/ZS50b29sdGlwUG9zWzBdPWEubGVuLWY6ZS50b29sdGlwUG9zWzFdPWZ9LHByb2Nlc3NEYXRhOmZ1bmN0aW9uKGEpe3ZhciBkLGYsaCxqLGssbSxpLGI9dGhpcy55RGF0YSxjPXRoaXMucG9pbnRzLGU9Yi5sZW5ndGg7Zm9yKGg9Zj1qPWs9dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8MCxpPTA7ZT5pO2krKyltPWJbaV0sZD1jJiZjW2ldP2NbaV06e30sInN1bSI9PT1tfHxkLmlzU3VtP2JbaV09aDoiaW50ZXJtZWRpYXRlU3VtIj09PW18fGQuaXNJbnRlcm1lZGlhdGVTdW0/YltpXT1mOihoKz1tLGYrPW0pLGo9TWF0aC5taW4oaCxqKSxrPU1hdGgubWF4KGgsayk7dC5wcm90b3R5cGUucHJvY2Vzc0RhdGEuY2FsbCh0aGlzLGEpLHRoaXMuZGF0YU1pbj1qLHRoaXMuZGF0YU1heD1rfSx0b1lEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmlzU3VtPzA9PT1hLng/bnVsbDoic3VtIjphLmlzSW50ZXJtZWRpYXRlU3VtPzA9PT1hLng/bnVsbDoiaW50ZXJtZWRpYXRlU3VtIjphLnl9LGdldEF0dHJpYnM6ZnVuY3Rpb24oKXtnLmNvbHVtbi5wcm90b3R5cGUuZ2V0QXR0cmlicy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9dGhpcy5vcHRpb25zLGI9YS5zdGF0ZXMsYz1hLnVwQ29sb3J8fHRoaXMuY29sb3IsYT1sLkNvbG9yKGMpLmJyaWdodGVuKC4xKS5nZXQoKSxkPXEodGhpcy5wb2ludEF0dHIpLGU9dGhpcy51cENvbG9yUHJvcDtkWyIiXVtlXT1jLGQuaG92ZXJbZV09Yi5ob3Zlci51cENvbG9yfHxhLGQuc2VsZWN0W2VdPWIuc2VsZWN0LnVwQ29sb3J8fGMscyh0aGlzLnBvaW50cyxmdW5jdGlvbihhKXthLnk+MCYmIWEuY29sb3ImJihhLnBvaW50QXR0cj1kLGEuY29sb3I9Yyl9KX0sZ2V0R3JhcGhQYXRoOmZ1bmN0aW9uKCl7dmFyIGUsZixoLGE9dGhpcy5kYXRhLGI9YS5sZW5ndGgsYz1EKHRoaXMub3B0aW9ucy5saW5lV2lkdGgrdGhpcy5ib3JkZXJXaWR0aCklMi8yLGQ9W107Zm9yKGg9MTtiPmg7aCsrKWY9YVtoXS5zaGFwZUFyZ3MsZT1hW2gtMV0uc2hhcGVBcmdzLGY9WyJNIixlLngrZS53aWR0aCxlLnkrYywiTCIsZi54LGUueStjXSxhW2gtMV0ueTwwJiYoZlsyXSs9ZS5oZWlnaHQsZls1XSs9ZS5oZWlnaHQpLGQ9ZC5jb25jYXQoZik7cmV0dXJuIGR9LGdldEV4dHJlbWVzOnUsZ2V0U3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy55QXhpcy5zdGFja3MsYz10aGlzLnN0YWNrS2V5O3JldHVybiB0aGlzLnByb2Nlc3NlZFlEYXRhW2FdPHRoaXMub3B0aW9ucy50aHJlc2hvbGQmJihjPSItIitjKSxiW2NdW2FdfSxkcmF3R3JhcGg6dC5wcm90b3R5cGUuZHJhd0dyYXBofSkscC5idWJibGU9cShwLnNjYXR0ZXIse2RhdGFMYWJlbHM6e2Zvcm1hdHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvaW50Lnp9LGluc2lkZTohMCxzdHlsZTp7Y29sb3I6IndoaXRlIix0ZXh0U2hhZG93OiIwcHggMHB4IDNweCBibGFjayJ9LHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LG1hcmtlcjp7bGluZUNvbG9yOm51bGwsbGluZVdpZHRoOjF9LG1pblNpemU6OCxtYXhTaXplOiIyMCUiLHN0YXRlczp7aG92ZXI6e2hhbG86e3NpemU6NX19fSx0b29sdGlwOntwb2ludEZvcm1hdDoiKHtwb2ludC54fSwge3BvaW50Lnl9KSwgU2l6ZToge3BvaW50Lnp9In0sdHVyYm9UaHJlc2hvbGQ6MCx6VGhyZXNob2xkOjB9KSx6PXYoSCx7aGFsb1BhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gSC5wcm90b3R5cGUuaGFsb1BhdGguY2FsbCh0aGlzLHRoaXMuc2hhcGVBcmdzLnIrdGhpcy5zZXJpZXMub3B0aW9ucy5zdGF0ZXMuaG92ZXIuaGFsby5zaXplKX19KSxnLmJ1YmJsZT12KGcuc2NhdHRlcix7dHlwZToiYnViYmxlIixwb2ludENsYXNzOnoscG9pbnRBcnJheU1hcDpbInkiLCJ6Il0scGFyYWxsZWxBcnJheXM6WyJ4IiwieSIsInoiXSx0cmFja2VyR3JvdXBzOlsiZ3JvdXAiLCJkYXRhTGFiZWxzR3JvdXAiXSxidWJibGVQYWRkaW5nOiEwLHBvaW50QXR0clRvT3B0aW9uczp7c3Ryb2tlOiJsaW5lQ29sb3IiLCJzdHJva2Utd2lkdGgiOiJsaW5lV2lkdGgiLGZpbGw6ImZpbGxDb2xvciJ9LGFwcGx5T3BhY2l0eTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMubWFya2VyLGM9byhiLmZpbGxPcGFjaXR5LC41KSxhPWF8fGIuZmlsbENvbG9yfHx0aGlzLmNvbG9yO3JldHVybiAxIT09YyYmKGE9VShhKS5zZXRPcGFjaXR5KGMpLmdldCgicmdiYSIpKSxhfSxjb252ZXJ0QXR0cmliczpmdW5jdGlvbigpe3ZhciBhPXQucHJvdG90eXBlLmNvbnZlcnRBdHRyaWJzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYS5maWxsPXRoaXMuYXBwbHlPcGFjaXR5KGEuZmlsbCksYX0sZ2V0UmFkaWk6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixoLGo9dGhpcy56RGF0YSxrPVtdLG09IndpZHRoIiE9PXRoaXMub3B0aW9ucy5zaXplQnk7Zm9yKGY9MCxlPWoubGVuZ3RoO2U+ZjtmKyspaD1iLWEsaD1oPjA/KGpbZl0tYSkvKGItYSk6LjUsbSYmaD49MCYmKGg9TWF0aC5zcXJ0KGgpKSxrLnB1c2gody5jZWlsKGMraCooZC1jKSkvMik7dGhpcy5yYWRpaT1rfSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy5hbmltYXRpb247YXx8KHModGhpcy5wb2ludHMsZnVuY3Rpb24oYSl7dmFyIGQ9YS5ncmFwaGljLGE9YS5zaGFwZUFyZ3M7ZCYmYSYmKGQuYXR0cigiciIsMSksZC5hbmltYXRlKHtyOmEucn0sYikpfSksdGhpcy5hbmltYXRlPW51bGwpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oKXt2YXIgYSxjLGQsYj10aGlzLmRhdGEsZT10aGlzLnJhZGlpO2ZvcihnLnNjYXR0ZXIucHJvdG90eXBlLnRyYW5zbGF0ZS5jYWxsKHRoaXMpLGE9Yi5sZW5ndGg7YS0tOyljPWJbYV0sZD1lP2VbYV06MCxjLm5lZ2F0aXZlPWMuejwodGhpcy5vcHRpb25zLnpUaHJlc2hvbGR8fDApLGQ+PXRoaXMubWluUHhTaXplLzI/KGMuc2hhcGVUeXBlPSJjaXJjbGUiLGMuc2hhcGVBcmdzPXt4OmMucGxvdFgseTpjLnBsb3RZLHI6ZH0sYy5kbEJveD17eDpjLnBsb3RYLWQseTpjLnBsb3RZLWQsd2lkdGg6MipkLGhlaWdodDoyKmR9KTpjLnNoYXBlQXJncz1jLnBsb3RZPWMuZGxCb3g9Q30sZHJhd0xlZ2VuZFN5bWJvbDpmdW5jdGlvbihhLGIpe3ZhciBjPXgoYS5pdGVtU3R5bGUuZm9udFNpemUpLzI7Yi5sZWdlbmRTeW1ib2w9dGhpcy5jaGFydC5yZW5kZXJlci5jaXJjbGUoYyxhLmJhc2VsaW5lLWMsYykuYXR0cih7ekluZGV4OjN9KS5hZGQoYi5sZWdlbmRHcm91cCksYi5sZWdlbmRTeW1ib2wuaXNNYXJrZXI9ITB9LGRyYXdQb2ludHM6Zy5jb2x1bW4ucHJvdG90eXBlLmRyYXdQb2ludHMsYWxpZ25EYXRhTGFiZWw6Zy5jb2x1bW4ucHJvdG90eXBlLmFsaWduRGF0YUxhYmVsfSksTS5wcm90b3R5cGUuYmVmb3JlUGFkZGluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLmxlbixjPXRoaXMuY2hhcnQsZD0wLGU9YixmPXRoaXMuaXNYQXhpcyxoPWY/InhEYXRhIjoieURhdGEiLGo9dGhpcy5taW4saz17fSxtPXcubWluKGMucGxvdFdpZHRoLGMucGxvdEhlaWdodCksaT1OdW1iZXIuTUFYX1ZBTFVFLG49LU51bWJlci5NQVhfVkFMVUUsZz10aGlzLm1heC1qLGw9Yi9nLHA9W107dGhpcy50aWNrUG9zaXRpb25zJiYocyh0aGlzLnNlcmllcyxmdW5jdGlvbihiKXt2YXIgaD1iLm9wdGlvbnM7IWIuYnViYmxlUGFkZGluZ3x8IWIudmlzaWJsZSYmYy5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllc3x8KGEuYWxsb3dab29tT3V0c2lkZT0hMCxwLnB1c2goYiksZiYmKHMoWyJtaW5TaXplIiwibWF4U2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPWhbYV0sZj0vJSQvLnRlc3QoYiksYj14KGIpO2tbYV09Zj9tKmIvMTAwOmJ9KSxiLm1pblB4U2l6ZT1rLm1pblNpemUsYj1iLnpEYXRhLGIubGVuZ3RoJiYoaT1vKGguek1pbix3Lm1pbihpLHcubWF4KFAoYiksaC5kaXNwbGF5TmVnYXRpdmU9PT0hMT9oLnpUaHJlc2hvbGQ6LU51bWJlci5NQVhfVkFMVUUpKSksbj1vKGguek1heCx3Lm1heChuLFEoYikpKSkpKX0pLHMocCxmdW5jdGlvbihhKXt2YXIgbSxiPWFbaF0sYz1iLmxlbmd0aDtpZihmJiZhLmdldFJhZGlpKGksbixrLm1pblNpemUsay5tYXhTaXplKSxnPjApZm9yKDtjLS07KSJudW1iZXIiPT10eXBlb2YgYltjXSYmKG09YS5yYWRpaVtjXSxkPU1hdGgubWluKChiW2NdLWopKmwtbSxkKSxlPU1hdGgubWF4KChiW2NdLWopKmwrbSxlKSl9KSxwLmxlbmd0aCYmZz4wJiZvKHRoaXMub3B0aW9ucy5taW4sdGhpcy51c2VyTWluKT09PUMmJm8odGhpcy5vcHRpb25zLm1heCx0aGlzLnVzZXJNYXgpPT09QyYmKGUtPWIsbCo9KGIrZC1lKS9iLHRoaXMubWluKz1kL2wsdGhpcy5tYXgrPWUvbCkpfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe2EuY2FsbCh0aGlzLGIsYyksdGhpcy5jaGFydC5wb2xhciYmKHRoaXMuY2xvc2VTZWdtZW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueEF4aXMuY2VudGVyO2EucHVzaCgiTCIsYlswXSxiWzFdKX0sdGhpcy5jbG9zZWRTdGFja3M9ITApfWZ1bmN0aW9uIGIoYSxiKXt2YXIgYz10aGlzLmNoYXJ0LGQ9dGhpcy5vcHRpb25zLmFuaW1hdGlvbixlPXRoaXMuZ3JvdXAsaT10aGlzLm1hcmtlckdyb3VwLG49dGhpcy54QXhpcy5jZW50ZXIsZz1jLnBsb3RMZWZ0LGw9Yy5wbG90VG9wO2MucG9sYXI/Yy5yZW5kZXJlci5pc1NWRyYmKGQ9PT0hMCYmKGQ9e30pLGI/KGM9e3RyYW5zbGF0ZVg6blswXStnLHRyYW5zbGF0ZVk6blsxXStsLHNjYWxlWDouMDAxLHNjYWxlWTouMDAxfSxlLmF0dHIoYyksaSYmaS5hdHRyKGMpKTooYz17dHJhbnNsYXRlWDpnLHRyYW5zbGF0ZVk6bCxzY2FsZVg6MSxzY2FsZVk6MX0sZS5hbmltYXRlKGMsZCksaSYmaS5hbmltYXRlKGMsZCksdGhpcy5hbmltYXRlPW51bGwpKTphLmNhbGwodGhpcyxiKQp9dmFyIGUsYz10LnByb3RvdHlwZSxkPVMucHJvdG90eXBlO2MudG9YWT1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMuY2hhcnQsZD1hLnBsb3RYO2I9YS5wbG90WSxhLnJlY3RQbG90WD1kLGEucmVjdFBsb3RZPWIsZD0oZC9NYXRoLlBJKjE4MCt0aGlzLnhBeGlzLnBhbmUub3B0aW9ucy5zdGFydEFuZ2xlKSUzNjAsMD5kJiYoZCs9MzYwKSxhLmNsaWVudFg9ZCxiPXRoaXMueEF4aXMucG9zdFRyYW5zbGF0ZShhLnBsb3RYLHRoaXMueUF4aXMubGVuLWIpLGEucGxvdFg9YS5wb2xhclBsb3RYPWIueC1jLnBsb3RMZWZ0LGEucGxvdFk9YS5wb2xhclBsb3RZPWIueS1jLnBsb3RUb3B9LGMub3JkZXJUb29sdGlwUG9pbnRzPWZ1bmN0aW9uKGEpe3RoaXMuY2hhcnQucG9sYXImJihhLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jbGllbnRYLWIuY2xpZW50WH0pLGFbMF0pJiYoYVswXS53cmFwcGVkQ2xpZW50WD1hWzBdLmNsaWVudFgrMzYwLGEucHVzaChhWzBdKSl9LGcuYXJlYSYmcihnLmFyZWEucHJvdG90eXBlLCJpbml0IixhKSxnLmFyZWFzcGxpbmUmJnIoZy5hcmVhc3BsaW5lLnByb3RvdHlwZSwiaW5pdCIsYSksZy5zcGxpbmUmJnIoZy5zcGxpbmUucHJvdG90eXBlLCJnZXRQb2ludFNwbGluZSIsZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsaSxuLGcsbCxwLG87cmV0dXJuIHRoaXMuY2hhcnQucG9sYXI/KGU9Yy5wbG90WCxpPWMucGxvdFksYT1iW2QtMV0sbj1iW2QrMV0sdGhpcy5jb25uZWN0RW5kcyYmKGF8fChhPWJbYi5sZW5ndGgtMl0pLG58fChuPWJbMV0pKSxhJiZuJiYoZz1hLnBsb3RYLGw9YS5wbG90WSxiPW4ucGxvdFgscD1uLnBsb3RZLGc9KDEuNSplK2cpLzIuNSxsPSgxLjUqaStsKS8yLjUsbj0oMS41KmUrYikvMi41LG89KDEuNSppK3ApLzIuNSxiPU1hdGguc3FydChNYXRoLnBvdyhnLWUsMikrTWF0aC5wb3cobC1pLDIpKSxwPU1hdGguc3FydChNYXRoLnBvdyhuLWUsMikrTWF0aC5wb3coby1pLDIpKSxnPU1hdGguYXRhbjIobC1pLGctZSksbD1NYXRoLmF0YW4yKG8taSxuLWUpLG89TWF0aC5QSS8yKyhnK2wpLzIsTWF0aC5hYnMoZy1vKT5NYXRoLlBJLzImJihvLT1NYXRoLlBJKSxnPWUrTWF0aC5jb3MobykqYixsPWkrTWF0aC5zaW4obykqYixuPWUrTWF0aC5jb3MoTWF0aC5QSStvKSpwLG89aStNYXRoLnNpbihNYXRoLlBJK28pKnAsYy5yaWdodENvbnRYPW4sYy5yaWdodENvbnRZPW8pLGQ/KGM9WyJDIixhLnJpZ2h0Q29udFh8fGEucGxvdFgsYS5yaWdodENvbnRZfHxhLnBsb3RZLGd8fGUsbHx8aSxlLGldLGEucmlnaHRDb250WD1hLnJpZ2h0Q29udFk9bnVsbCk6Yz1bIk0iLGUsaV0pOmM9YS5jYWxsKHRoaXMsYixjLGQpLGN9KSxyKGMsInRyYW5zbGF0ZSIsZnVuY3Rpb24oYSl7aWYoYS5jYWxsKHRoaXMpLHRoaXMuY2hhcnQucG9sYXImJiF0aGlzLnByZXZlbnRQb3N0VHJhbnNsYXRlKWZvcih2YXIgYT10aGlzLnBvaW50cyxiPWEubGVuZ3RoO2ItLTspdGhpcy50b1hZKGFbYl0pfSkscihjLCJnZXRTZWdtZW50UGF0aCIsZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnBvaW50cztyZXR1cm4gdGhpcy5jaGFydC5wb2xhciYmdGhpcy5vcHRpb25zLmNvbm5lY3RFbmRzIT09ITEmJmJbYi5sZW5ndGgtMV09PT1jW2MubGVuZ3RoLTFdJiZudWxsIT09Y1swXS55JiYodGhpcy5jb25uZWN0RW5kcz0hMCxiPVtdLmNvbmNhdChiLFtjWzBdXSkpLGEuY2FsbCh0aGlzLGIpfSkscihjLCJhbmltYXRlIixiKSxyKGMsInNldFRvb2x0aXBQb2ludHMiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2hhcnQucG9sYXImJkYodGhpcy54QXhpcyx7dG9vbHRpcExlbjozNjB9KSxhLmNhbGwodGhpcyxiKX0pLGcuY29sdW1uJiYoZT1nLmNvbHVtbi5wcm90b3R5cGUscihlLCJhbmltYXRlIixiKSxyKGUsInRyYW5zbGF0ZSIsZnVuY3Rpb24oYSl7dmFyIGcsbCxiPXRoaXMueEF4aXMsYz10aGlzLnlBeGlzLmxlbixkPWIuY2VudGVyLGU9Yi5zdGFydEFuZ2xlUmFkLGk9dGhpcy5jaGFydC5yZW5kZXJlcjtpZih0aGlzLnByZXZlbnRQb3N0VHJhbnNsYXRlPSEwLGEuY2FsbCh0aGlzKSxiLmlzUmFkaWFsKWZvcihiPXRoaXMucG9pbnRzLGw9Yi5sZW5ndGg7bC0tOylnPWJbbF0sYT1nLmJhclgrZSxnLnNoYXBlVHlwZT0icGF0aCIsZy5zaGFwZUFyZ3M9e2Q6aS5zeW1ib2xzLmFyYyhkWzBdLGRbMV0sYy1nLnBsb3RZLG51bGwse3N0YXJ0OmEsZW5kOmErZy5wb2ludFdpZHRoLGlubmVyUjpjLW8oZy55Qm90dG9tLGMpfSl9LHRoaXMudG9YWShnKSxnLnRvb2x0aXBQb3M9W2cucGxvdFgsZy5wbG90WV0sZy50dEJlbG93PWcucGxvdFk+ZFsxXX0pLHIoZSwiYWxpZ25EYXRhTGFiZWwiLGZ1bmN0aW9uKGEsYixkLGUsZyxpKXt0aGlzLmNoYXJ0LnBvbGFyPyhhPWIucmVjdFBsb3RYL01hdGguUEkqMTgwLG51bGw9PT1lLmFsaWduJiYoZS5hbGlnbj1hPjIwJiYxNjA+YT8ibGVmdCI6YT4yMDAmJjM0MD5hPyJyaWdodCI6ImNlbnRlciIpLG51bGw9PT1lLnZlcnRpY2FsQWxpZ24mJihlLnZlcnRpY2FsQWxpZ249NDU+YXx8YT4zMTU/ImJvdHRvbSI6YT4xMzUmJjIyNT5hPyJ0b3AiOiJtaWRkbGUiKSxjLmFsaWduRGF0YUxhYmVsLmNhbGwodGhpcyxiLGQsZSxnLGkpKTphLmNhbGwodGhpcyxiLGQsZSxnLGkpfSkpLHIoZCwiZ2V0SW5kZXgiLGZ1bmN0aW9uKGEsYil7dmFyIGMsZSxkPXRoaXMuY2hhcnQ7cmV0dXJuIGQucG9sYXI/KGU9ZC54QXhpc1swXS5jZW50ZXIsYz1iLmNoYXJ0WC1lWzBdLWQucGxvdExlZnQsZD1iLmNoYXJ0WS1lWzFdLWQucGxvdFRvcCxjPTE4MC1NYXRoLnJvdW5kKE1hdGguYXRhbjIoYyxkKS9NYXRoLlBJKjE4MCkpOmM9YS5jYWxsKHRoaXMsYiksY30pLHIoZCwiZ2V0Q29vcmRpbmF0ZXMiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGFydCxkPXt4QXhpczpbXSx5QXhpczpbXX07cmV0dXJuIGMucG9sYXI/cyhjLmF4ZXMsZnVuY3Rpb24oYSl7dmFyIGU9YS5pc1hBeGlzLGY9YS5jZW50ZXIsZz1iLmNoYXJ0WC1mWzBdLWMucGxvdExlZnQsZj1iLmNoYXJ0WS1mWzFdLWMucGxvdFRvcDtkW2U/InhBeGlzIjoieUF4aXMiXS5wdXNoKHtheGlzOmEsdmFsdWU6YS50cmFuc2xhdGUoZT9NYXRoLlBJLU1hdGguYXRhbjIoZyxmKTpNYXRoLnNxcnQoTWF0aC5wb3coZywyKStNYXRoLnBvdyhmLDIpKSwhMCl9KX0pOmQ9YS5jYWxsKHRoaXMsYiksZH0pfSgpfShIaWdoY2hhcnRzKSxmdW5jdGlvbihmKXt2YXIgeSxBPWYuQ2hhcnQsdD1mLmFkZEV2ZW50LEI9Zi5yZW1vdmVFdmVudCxsPWYuY3JlYXRlRWxlbWVudCxvPWYuZGlzY2FyZEVsZW1lbnQsdj1mLmNzcyxrPWYubWVyZ2Uscj1mLmVhY2gscD1mLmV4dGVuZCxEPU1hdGgubWF4LGo9ZG9jdW1lbnQsQz13aW5kb3csRT1mLmlzVG91Y2hEZXZpY2UsRj1mLlJlbmRlcmVyLnByb3RvdHlwZS5zeW1ib2xzLHM9Zi5nZXRPcHRpb25zKCk7cChzLmxhbmcse3ByaW50Q2hhcnQ6IlByaW50IGNoYXJ0Iixkb3dubG9hZFBORzoiRG93bmxvYWQgUE5HIGltYWdlIixkb3dubG9hZEpQRUc6IkRvd25sb2FkIEpQRUcgaW1hZ2UiLGRvd25sb2FkUERGOiJEb3dubG9hZCBQREYgZG9jdW1lbnQiLGRvd25sb2FkU1ZHOiJEb3dubG9hZCBTVkcgdmVjdG9yIGltYWdlIixjb250ZXh0QnV0dG9uVGl0bGU6IkNoYXJ0IGNvbnRleHQgbWVudSJ9KSxzLm5hdmlnYXRpb249e21lbnVTdHlsZTp7Ym9yZGVyOiIxcHggc29saWQgI0EwQTBBMCIsYmFja2dyb3VuZDoiI0ZGRkZGRiIscGFkZGluZzoiNXB4IDAifSxtZW51SXRlbVN0eWxlOntwYWRkaW5nOiIwIDEwcHgiLGJhY2tncm91bmQ6Im5vbmUiLGNvbG9yOiIjMzAzMDMwIixmb250U2l6ZTpFPyIxNHB4IjoiMTFweCJ9LG1lbnVJdGVtSG92ZXJTdHlsZTp7YmFja2dyb3VuZDoiIzQ1NzJBNSIsY29sb3I6IiNGRkZGRkYifSxidXR0b25PcHRpb25zOntzeW1ib2xGaWxsOiIjRTBFMEUwIixzeW1ib2xTaXplOjE0LHN5bWJvbFN0cm9rZToiIzY2NiIsc3ltYm9sU3Ryb2tlV2lkdGg6MyxzeW1ib2xYOjEyLjUsc3ltYm9sWToxMC41LGFsaWduOiJyaWdodCIsYnV0dG9uU3BhY2luZzozLGhlaWdodDoyMix0aGVtZTp7ZmlsbDoid2hpdGUiLHN0cm9rZToibm9uZSJ9LHZlcnRpY2FsQWxpZ246InRvcCIsd2lkdGg6MjR9fSxzLmV4cG9ydGluZz17dHlwZToiaW1hZ2UvcG5nIix1cmw6Imh0dHA6Ly9leHBvcnQuaGlnaGNoYXJ0cy5jb20vIixidXR0b25zOntjb250ZXh0QnV0dG9uOnttZW51Q2xhc3NOYW1lOiJoaWdoY2hhcnRzLWNvbnRleHRtZW51IixzeW1ib2w6Im1lbnUiLF90aXRsZUtleToiY29udGV4dEJ1dHRvblRpdGxlIixtZW51SXRlbXM6W3t0ZXh0S2V5OiJwcmludENoYXJ0IixvbmNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5wcmludCgpfX0se3NlcGFyYXRvcjohMH0se3RleHRLZXk6ImRvd25sb2FkUE5HIixvbmNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5leHBvcnRDaGFydCgpfX0se3RleHRLZXk6ImRvd25sb2FkSlBFRyIsb25jbGljazpmdW5jdGlvbigpe3RoaXMuZXhwb3J0Q2hhcnQoe3R5cGU6ImltYWdlL2pwZWcifSl9fSx7dGV4dEtleToiZG93bmxvYWRQREYiLG9uY2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmV4cG9ydENoYXJ0KHt0eXBlOiJhcHBsaWNhdGlvbi9wZGYifSl9fSx7dGV4dEtleToiZG93bmxvYWRTVkciLG9uY2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmV4cG9ydENoYXJ0KHt0eXBlOiJpbWFnZS9zdmcreG1sIn0pfX1dfX19LGYucG9zdD1mdW5jdGlvbihiLGEsZCl7dmFyIGMsYj1sKCJmb3JtIixrKHttZXRob2Q6InBvc3QiLGFjdGlvbjpiLGVuY3R5cGU6Im11bHRpcGFydC9mb3JtLWRhdGEifSxkKSx7ZGlzcGxheToibm9uZSJ9LGouYm9keSk7Zm9yKGMgaW4gYSlsKCJpbnB1dCIse3R5cGU6ImhpZGRlbiIsbmFtZTpjLHZhbHVlOmFbY119LG51bGwsYik7Yi5zdWJtaXQoKSxvKGIpfSxwKEEucHJvdG90eXBlLHtnZXRTVkc6ZnVuY3Rpb24oYil7dmFyIGQsYyx6LGgsYT10aGlzLGc9ayhhLm9wdGlvbnMsYik7cmV0dXJuIGouY3JlYXRlRWxlbWVudE5TfHwoai5jcmVhdGVFbGVtZW50TlM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gai5jcmVhdGVFbGVtZW50KGIpfSksYj1sKCJkaXYiLG51bGwse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOiItOTk5OWVtIix3aWR0aDphLmNoYXJ0V2lkdGgrInB4IixoZWlnaHQ6YS5jaGFydEhlaWdodCsicHgifSxqLmJvZHkpLGM9YS5yZW5kZXJUby5zdHlsZS53aWR0aCxoPWEucmVuZGVyVG8uc3R5bGUuaGVpZ2h0LGM9Zy5leHBvcnRpbmcuc291cmNlV2lkdGh8fGcuY2hhcnQud2lkdGh8fC9weCQvLnRlc3QoYykmJnBhcnNlSW50KGMsMTApfHw2MDAsaD1nLmV4cG9ydGluZy5zb3VyY2VIZWlnaHR8fGcuY2hhcnQuaGVpZ2h0fHwvcHgkLy50ZXN0KGgpJiZwYXJzZUludChoLDEwKXx8NDAwLHAoZy5jaGFydCx7YW5pbWF0aW9uOiExLHJlbmRlclRvOmIsZm9yRXhwb3J0OiEwLHdpZHRoOmMsaGVpZ2h0Omh9KSxnLmV4cG9ydGluZy5lbmFibGVkPSExLGcuc2VyaWVzPVtdLHIoYS5zZXJpZXMsZnVuY3Rpb24oYSl7ej1rKGEub3B0aW9ucyx7YW5pbWF0aW9uOiExLGVuYWJsZU1vdXNlVHJhY2tpbmc6ITEsc2hvd0NoZWNrYm94OiExLHZpc2libGU6YS52aXNpYmxlfSksei5pc0ludGVybmFsfHxnLnNlcmllcy5wdXNoKHopfSksZD1uZXcgZi5DaGFydChnLGEuY2FsbGJhY2spLHIoWyJ4QXhpcyIsInlBeGlzIl0sZnVuY3Rpb24oYil7cihhW2JdLGZ1bmN0aW9uKGEsYyl7dmFyIGc9ZFtiXVtjXSxmPWEuZ2V0RXh0cmVtZXMoKSxoPWYudXNlck1pbixmPWYudXNlck1heDtnJiYodm9pZCAwIT09aHx8dm9pZCAwIT09ZikmJmcuc2V0RXh0cmVtZXMoaCxmLCEwLCExKX0pfSksYz1kLmNvbnRhaW5lci5pbm5lckhUTUwsZz1udWxsLGQuZGVzdHJveSgpLG8oYiksYz1jLnJlcGxhY2UoL3pJbmRleD0iW14iXSsiL2csIiIpLnJlcGxhY2UoL2lzU2hhZG93PSJbXiJdKyIvZywiIikucmVwbGFjZSgvc3ltYm9sTmFtZT0iW14iXSsiL2csIiIpLnJlcGxhY2UoL2pRdWVyeVswLTldKz0iW14iXSsiL2csIiIpLnJlcGxhY2UoL3VybFwoW14jXSsjL2csInVybCgjIikucmVwbGFjZSgvPHN2ZyAvLCc8c3ZnIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiAnKS5yZXBsYWNlKC8gaHJlZj0vZywiIHhsaW5rOmhyZWY9IikucmVwbGFjZSgvXG4vLCIgIikucmVwbGFjZSgvPFwvc3ZnPi4qPyQvLCI8L3N2Zz4iKS5yZXBsYWNlKC8oZmlsbHxzdHJva2UpPSJyZ2JhXCgoWyAwLTldKyxbIDAtOV0rLFsgMC05XSspLChbIDAtOVwuXSspXCkiL2csJyQxPSJyZ2IoJDIpIiAkMS1vcGFjaXR5PSIkMyInKS5yZXBsYWNlKC8mbmJzcDsvZywiwqAiKS5yZXBsYWNlKC8mc2h5Oy9nLCLCrSIpLnJlcGxhY2UoLzxJTUcgL2csIjxpbWFnZSAiKS5yZXBsYWNlKC9oZWlnaHQ9KFteIiBdKykvZywnaGVpZ2h0PSIkMSInKS5yZXBsYWNlKC93aWR0aD0oW14iIF0rKS9nLCd3aWR0aD0iJDEiJykucmVwbGFjZSgvaGMtc3ZnLWhyZWY9IihbXiJdKykiPi9nLCd4bGluazpocmVmPSIkMSIvPicpLnJlcGxhY2UoL2lkPShbXiIgPl0rKS9nLCdpZD0iJDEiJykucmVwbGFjZSgvY2xhc3M9KFteIiA+XSspL2csJ2NsYXNzPSIkMSInKS5yZXBsYWNlKC8gdHJhbnNmb3JtIC9nLCIgIikucmVwbGFjZSgvOihwYXRofHJlY3QpL2csIiQxIikucmVwbGFjZSgvc3R5bGU9IihbXiJdKykiL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pLGM9Yy5yZXBsYWNlKC8odXJsXCgjaGlnaGNoYXJ0cy1bMC05XSspJnF1b3Q7L2csIiQxIikucmVwbGFjZSgvJnF1b3Q7L2csIiciKX0sZXhwb3J0Q2hhcnQ6ZnVuY3Rpb24oYixhKXt2YXIgYj1ifHx7fSxkPXRoaXMub3B0aW9ucy5leHBvcnRpbmcsZD10aGlzLmdldFNWRyhrKHtjaGFydDp7Ym9yZGVyUmFkaXVzOjB9fSxkLmNoYXJ0T3B0aW9ucyxhLHtleHBvcnRpbmc6e3NvdXJjZVdpZHRoOmIuc291cmNlV2lkdGh8fGQuc291cmNlV2lkdGgsc291cmNlSGVpZ2h0OmIuc291cmNlSGVpZ2h0fHxkLnNvdXJjZUhlaWdodH19KSksYj1rKHRoaXMub3B0aW9ucy5leHBvcnRpbmcsYik7Zi5wb3N0KGIudXJsLHtmaWxlbmFtZTpiLmZpbGVuYW1lfHwiY2hhcnQiLHR5cGU6Yi50eXBlLHdpZHRoOmIud2lkdGh8fDAsc2NhbGU6Yi5zY2FsZXx8Mixzdmc6ZH0sYi5mb3JtQXR0cmlidXRlcyl9LHByaW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuY29udGFpbmVyLGQ9W10sYz1hLnBhcmVudE5vZGUsZj1qLmJvZHksaD1mLmNoaWxkTm9kZXM7Yi5pc1ByaW50aW5nfHwoYi5pc1ByaW50aW5nPSEwLHIoaCxmdW5jdGlvbihhLGIpezE9PT1hLm5vZGVUeXBlJiYoZFtiXT1hLnN0eWxlLmRpc3BsYXksYS5zdHlsZS5kaXNwbGF5PSJub25lIil9KSxmLmFwcGVuZENoaWxkKGEpLEMuZm9jdXMoKSxDLnByaW50KCksc2V0VGltZW91dChmdW5jdGlvbigpe2MuYXBwZW5kQ2hpbGQoYSkscihoLGZ1bmN0aW9uKGEsYil7MT09PWEubm9kZVR5cGUmJihhLnN0eWxlLmRpc3BsYXk9ZFtiXSl9KSxiLmlzUHJpbnRpbmc9ITF9LDFlMykpfSxjb250ZXh0TWVudTpmdW5jdGlvbihiLGEsZCxjLGYsaCxnKXt2YXIgdyx4LG8sZT10aGlzLGs9ZS5vcHRpb25zLm5hdmlnYXRpb24scT1rLm1lbnVJdGVtU3R5bGUsbT1lLmNoYXJ0V2lkdGgsbj1lLmNoYXJ0SGVpZ2h0LGo9ImNhY2hlLSIrYixpPWVbal0sdT1EKGYsaCkscz1mdW5jdGlvbihhKXtlLnBvaW50ZXIuaW5DbGFzcyhhLnRhcmdldCxiKXx8eCgpfTtpfHwoZVtqXT1pPWwoImRpdiIse2NsYXNzTmFtZTpifSx7cG9zaXRpb246ImFic29sdXRlIix6SW5kZXg6MWUzLHBhZGRpbmc6dSsicHgifSxlLmNvbnRhaW5lciksdz1sKCJkaXYiLG51bGwscCh7TW96Qm94U2hhZG93OiIzcHggM3B4IDEwcHggIzg4OCIsV2Via2l0Qm94U2hhZG93OiIzcHggM3B4IDEwcHggIzg4OCIsYm94U2hhZG93OiIzcHggM3B4IDEwcHggIzg4OCJ9LGsubWVudVN0eWxlKSxpKSx4PWZ1bmN0aW9uKCl7dihpLHtkaXNwbGF5OiJub25lIn0pLGcmJmcuc2V0U3RhdGUoMCksZS5vcGVuTWVudT0hMX0sdChpLCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe289c2V0VGltZW91dCh4LDUwMCl9KSx0KGksIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG8pfSksdChkb2N1bWVudCwibW91c2V1cCIscyksdChlLCJkZXN0cm95IixmdW5jdGlvbigpe0IoZG9jdW1lbnQsIm1vdXNldXAiLHMpfSkscihhLGZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPWEuc2VwYXJhdG9yP2woImhyIixudWxsLG51bGwsdyk6bCgiZGl2Iix7b25tb3VzZW92ZXI6ZnVuY3Rpb24oKXt2KHRoaXMsay5tZW51SXRlbUhvdmVyU3R5bGUpfSxvbm1vdXNlb3V0OmZ1bmN0aW9uKCl7dih0aGlzLHEpfSxvbmNsaWNrOmZ1bmN0aW9uKCl7eCgpLGEub25jbGljay5hcHBseShlLGFyZ3VtZW50cyl9LGlubmVySFRNTDphLnRleHR8fGUub3B0aW9ucy5sYW5nW2EudGV4dEtleV19LHAoe2N1cnNvcjoicG9pbnRlciJ9LHEpLHcpO2UuZXhwb3J0RGl2RWxlbWVudHMucHVzaChiKX19KSxlLmV4cG9ydERpdkVsZW1lbnRzLnB1c2godyxpKSxlLmV4cG9ydE1lbnVXaWR0aD1pLm9mZnNldFdpZHRoLGUuZXhwb3J0TWVudUhlaWdodD1pLm9mZnNldEhlaWdodCksYT17ZGlzcGxheToiYmxvY2sifSxkK2UuZXhwb3J0TWVudVdpZHRoPm0/YS5yaWdodD1tLWQtZi11KyJweCI6YS5sZWZ0PWQtdSsicHgiLGMraCtlLmV4cG9ydE1lbnVIZWlnaHQ+biYmInRvcCIhPT1nLmFsaWduT3B0aW9ucy52ZXJ0aWNhbEFsaWduP2EuYm90dG9tPW4tYy11KyJweCI6YS50b3A9YytoLXUrInB4Iix2KGksYSksZS5vcGVuTWVudT0hMH0sYWRkQnV0dG9uOmZ1bmN0aW9uKGIpe3ZhciBnLGUsYT10aGlzLGQ9YS5yZW5kZXJlcixjPWsoYS5vcHRpb25zLm5hdmlnYXRpb24uYnV0dG9uT3B0aW9ucyxiKSxqPWMub25jbGljayxoPWMubWVudUl0ZW1zLGw9e3N0cm9rZTpjLnN5bWJvbFN0cm9rZSxmaWxsOmMuc3ltYm9sRmlsbH0scT1jLnN5bWJvbFNpemV8fDEyO2lmKGEuYnRuQ291bnR8fChhLmJ0bkNvdW50PTApLGEuZXhwb3J0RGl2RWxlbWVudHN8fChhLmV4cG9ydERpdkVsZW1lbnRzPVtdLGEuZXhwb3J0U1ZHRWxlbWVudHM9W10pLGMuZW5hYmxlZCE9PSExKXt2YXIgaSxtPWMudGhlbWUsbj1tLnN0YXRlcyxvPW4mJm4uaG92ZXIsbj1uJiZuLnNlbGVjdDtkZWxldGUgbS5zdGF0ZXMsaj9pPWZ1bmN0aW9uKCl7ai5hcHBseShhLGFyZ3VtZW50cyl9OmgmJihpPWZ1bmN0aW9uKCl7YS5jb250ZXh0TWVudShlLm1lbnVDbGFzc05hbWUsaCxlLnRyYW5zbGF0ZVgsZS50cmFuc2xhdGVZLGUud2lkdGgsZS5oZWlnaHQsZSksZS5zZXRTdGF0ZSgyKX0pLGMudGV4dCYmYy5zeW1ib2w/bS5wYWRkaW5nTGVmdD1mLnBpY2sobS5wYWRkaW5nTGVmdCwyNSk6Yy50ZXh0fHxwKG0se3dpZHRoOmMud2lkdGgsaGVpZ2h0OmMuaGVpZ2h0LHBhZGRpbmc6MH0pLGU9ZC5idXR0b24oYy50ZXh0LDAsMCxpLG0sbyxuKS5hdHRyKHt0aXRsZTphLm9wdGlvbnMubGFuZ1tjLl90aXRsZUtleV0sInN0cm9rZS1saW5lY2FwIjoicm91bmQifSksZS5tZW51Q2xhc3NOYW1lPWIubWVudUNsYXNzTmFtZXx8ImhpZ2hjaGFydHMtbWVudS0iK2EuYnRuQ291bnQrKyxjLnN5bWJvbCYmKGc9ZC5zeW1ib2woYy5zeW1ib2wsYy5zeW1ib2xYLXEvMixjLnN5bWJvbFktcS8yLHEscSkuYXR0cihwKGwseyJzdHJva2Utd2lkdGgiOmMuc3ltYm9sU3Ryb2tlV2lkdGh8fDEsekluZGV4OjF9KSkuYWRkKGUpKSxlLmFkZCgpLmFsaWduKHAoYyx7d2lkdGg6ZS53aWR0aCx4OmYucGljayhjLngseSl9KSwhMCwic3BhY2luZ0JveCIpLHkrPShlLndpZHRoK2MuYnV0dG9uU3BhY2luZykqKCJyaWdodCI9PT1jLmFsaWduPy0xOjEpLGEuZXhwb3J0U1ZHRWxlbWVudHMucHVzaChlLGcpfX0sZGVzdHJveUV4cG9ydDpmdW5jdGlvbihiKXt2YXIgYSxkLGI9Yi50YXJnZXQ7Zm9yKGE9MDthPGIuZXhwb3J0U1ZHRWxlbWVudHMubGVuZ3RoO2ErKykoZD1iLmV4cG9ydFNWR0VsZW1lbnRzW2FdKSYmKGQub25jbGljaz1kLm9udG91Y2hzdGFydD1udWxsLGIuZXhwb3J0U1ZHRWxlbWVudHNbYV09ZC5kZXN0cm95KCkpO2ZvcihhPTA7YTxiLmV4cG9ydERpdkVsZW1lbnRzLmxlbmd0aDthKyspZD1iLmV4cG9ydERpdkVsZW1lbnRzW2FdLEIoZCwibW91c2VsZWF2ZSIpLGIuZXhwb3J0RGl2RWxlbWVudHNbYV09ZC5vbm1vdXNlb3V0PWQub25tb3VzZW92ZXI9ZC5vbnRvdWNoc3RhcnQ9ZC5vbmNsaWNrPW51bGwsbyhkKX19KSxGLm1lbnU9ZnVuY3Rpb24oYixhLGQsYyl7cmV0dXJuWyJNIixiLGErMi41LCJMIixiK2QsYSsyLjUsIk0iLGIsYStjLzIrLjUsIkwiLGIrZCxhK2MvMisuNSwiTSIsYixhK2MtMS41LCJMIixiK2QsYStjLTEuNV19LEEucHJvdG90eXBlLmNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uKGIpe3ZhciBhLGQ9Yi5vcHRpb25zLmV4cG9ydGluZyxjPWQuYnV0dG9ucztpZih5PTAsZC5lbmFibGVkIT09ITEpe2ZvcihhIGluIGMpYi5hZGRCdXR0b24oY1thXSk7dChiLCJkZXN0cm95IixiLmRlc3Ryb3lFeHBvcnQpfX0pfShIaWdoY2hhcnRzKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBoaWdoY2hhcnRzTkdVdGlscygpe3JldHVybntpbmRleE9mOmZ1bmN0aW9uKGFycixmaW5kLGkpe3ZvaWQgMD09PWkmJihpPTApLDA+aSYmKGkrPWFyci5sZW5ndGgpLDA+aSYmKGk9MCk7Zm9yKHZhciBuPWFyci5sZW5ndGg7bj5pO2krKylpZihpIGluIGFyciYmYXJyW2ldPT09ZmluZClyZXR1cm4gaTtyZXR1cm4tMX0scHJlcGVuZE1ldGhvZDpmdW5jdGlvbihvYmosbWV0aG9kLGZ1bmMpe3ZhciBvcmlnaW5hbD1vYmpbbWV0aG9kXTtvYmpbbWV0aG9kXT1mdW5jdGlvbigpe3ZhciBhcmdzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmMuYXBwbHkodGhpcyxhcmdzKSxvcmlnaW5hbD9vcmlnaW5hbC5hcHBseSh0aGlzLGFyZ3MpOnZvaWQgMH19LGRlZXBFeHRlbmQ6ZnVuY3Rpb24gZGVlcEV4dGVuZChkZXN0aW5hdGlvbixzb3VyY2Upe2lmKGFuZ3VsYXIuaXNBcnJheShzb3VyY2UpKXtkZXN0aW5hdGlvbj1hbmd1bGFyLmlzQXJyYXkoZGVzdGluYXRpb24pP2Rlc3RpbmF0aW9uOltdO2Zvcih2YXIgaT0wO2k8c291cmNlLmxlbmd0aDtpKyspZGVzdGluYXRpb25baV09ZGVlcEV4dGVuZChkZXN0aW5hdGlvbltpXXx8e30sc291cmNlW2ldKX1lbHNlIGlmKGFuZ3VsYXIuaXNPYmplY3Qoc291cmNlKSlmb3IodmFyIHByb3BlcnR5IGluIHNvdXJjZSlkZXN0aW5hdGlvbltwcm9wZXJ0eV09ZGVlcEV4dGVuZChkZXN0aW5hdGlvbltwcm9wZXJ0eV18fHt9LHNvdXJjZVtwcm9wZXJ0eV0pO2Vsc2UgZGVzdGluYXRpb249c291cmNlO3JldHVybiBkZXN0aW5hdGlvbn19fWZ1bmN0aW9uIGhpZ2hjaGFydChoaWdoY2hhcnRzTkdVdGlscyl7dmFyIHNlcmllc0lkPTAsZW5zdXJlSWRzPWZ1bmN0aW9uKHNlcmllcyl7dmFyIGNoYW5nZWQ9ITE7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChzZXJpZXMsZnVuY3Rpb24ocyl7YW5ndWxhci5pc0RlZmluZWQocy5pZCl8fChzLmlkPSJzZXJpZXMtIitzZXJpZXNJZCsrLGNoYW5nZWQ9ITApfSksY2hhbmdlZH0sYXhpc05hbWVzPVsieEF4aXMiLCJ5QXhpcyJdLGdldE1lcmdlZE9wdGlvbnM9ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxjb25maWcpe3ZhciBtZXJnZWRPcHRpb25zPXt9LGRlZmF1bHRPcHRpb25zPXtjaGFydDp7ZXZlbnRzOnt9fSx0aXRsZTp7fSxzdWJ0aXRsZTp7fSxzZXJpZXM6W10sY3JlZGl0czp7fSxwbG90T3B0aW9uczp7fSxuYXZpZ2F0b3I6e2VuYWJsZWQ6ITF9fTtyZXR1cm4gbWVyZ2VkT3B0aW9ucz1jb25maWcub3B0aW9ucz9oaWdoY2hhcnRzTkdVdGlscy5kZWVwRXh0ZW5kKGRlZmF1bHRPcHRpb25zLGNvbmZpZy5vcHRpb25zKTpkZWZhdWx0T3B0aW9ucyxtZXJnZWRPcHRpb25zLmNoYXJ0LnJlbmRlclRvPWVsZW1lbnRbMF0sYW5ndWxhci5mb3JFYWNoKGF4aXNOYW1lcyxmdW5jdGlvbihheGlzTmFtZSl7YW5ndWxhci5pc0RlZmluZWQoY29uZmlnW2F4aXNOYW1lXSkmJihtZXJnZWRPcHRpb25zW2F4aXNOYW1lXT1hbmd1bGFyLmNvcHkoY29uZmlnW2F4aXNOYW1lXSksKGFuZ3VsYXIuaXNEZWZpbmVkKGNvbmZpZ1theGlzTmFtZV0uY3VycmVudE1pbil8fGFuZ3VsYXIuaXNEZWZpbmVkKGNvbmZpZ1theGlzTmFtZV0uY3VycmVudE1heCkpJiYoaGlnaGNoYXJ0c05HVXRpbHMucHJlcGVuZE1ldGhvZChtZXJnZWRPcHRpb25zLmNoYXJ0LmV2ZW50cywic2VsZWN0aW9uIixmdW5jdGlvbihlKXt2YXIgdGhpc0NoYXJ0PXRoaXM7c2NvcGUuJGFwcGx5KGVbYXhpc05hbWVdP2Z1bmN0aW9uKCl7c2NvcGUuY29uZmlnW2F4aXNOYW1lXS5jdXJyZW50TWluPWVbYXhpc05hbWVdWzBdLm1pbixzY29wZS5jb25maWdbYXhpc05hbWVdLmN1cnJlbnRNYXg9ZVtheGlzTmFtZV1bMF0ubWF4fTpmdW5jdGlvbigpe3Njb3BlLmNvbmZpZ1theGlzTmFtZV0uY3VycmVudE1pbj10aGlzQ2hhcnRbYXhpc05hbWVdWzBdLmRhdGFNaW4sc2NvcGUuY29uZmlnW2F4aXNOYW1lXS5jdXJyZW50TWF4PXRoaXNDaGFydFtheGlzTmFtZV1bMF0uZGF0YU1heH0pfSksaGlnaGNoYXJ0c05HVXRpbHMucHJlcGVuZE1ldGhvZChtZXJnZWRPcHRpb25zLmNoYXJ0LmV2ZW50cywiYWRkU2VyaWVzIixmdW5jdGlvbigpe3Njb3BlLmNvbmZpZ1theGlzTmFtZV0uY3VycmVudE1pbj10aGlzW2F4aXNOYW1lXVswXS5taW58fHNjb3BlLmNvbmZpZ1theGlzTmFtZV0uY3VycmVudE1pbixzY29wZS5jb25maWdbYXhpc05hbWVdLmN1cnJlbnRNYXg9dGhpc1theGlzTmFtZV1bMF0ubWF4fHxzY29wZS5jb25maWdbYXhpc05hbWVdLmN1cnJlbnRNYXh9KSkpfSksY29uZmlnLnRpdGxlJiYobWVyZ2VkT3B0aW9ucy50aXRsZT1jb25maWcudGl0bGUpLGNvbmZpZy5zdWJ0aXRsZSYmKG1lcmdlZE9wdGlvbnMuc3VidGl0bGU9Y29uZmlnLnN1YnRpdGxlKSxjb25maWcuY3JlZGl0cyYmKG1lcmdlZE9wdGlvbnMuY3JlZGl0cz1jb25maWcuY3JlZGl0cyksY29uZmlnLnNpemUmJihjb25maWcuc2l6ZS53aWR0aCYmKG1lcmdlZE9wdGlvbnMuY2hhcnQud2lkdGg9Y29uZmlnLnNpemUud2lkdGgpLGNvbmZpZy5zaXplLmhlaWdodCYmKG1lcmdlZE9wdGlvbnMuY2hhcnQuaGVpZ2h0PWNvbmZpZy5zaXplLmhlaWdodCkpLG1lcmdlZE9wdGlvbnN9LHVwZGF0ZVpvb209ZnVuY3Rpb24oYXhpcyxtb2RlbEF4aXMpe3ZhciBleHRyZW1lcz1heGlzLmdldEV4dHJlbWVzKCk7KG1vZGVsQXhpcy5jdXJyZW50TWluIT09ZXh0cmVtZXMuZGF0YU1pbnx8bW9kZWxBeGlzLmN1cnJlbnRNYXghPT1leHRyZW1lcy5kYXRhTWF4KSYmYXhpcy5zZXRFeHRyZW1lcyhtb2RlbEF4aXMuY3VycmVudE1pbixtb2RlbEF4aXMuY3VycmVudE1heCwhMSl9LHByb2Nlc3NFeHRyZW1lcz1mdW5jdGlvbihjaGFydCxheGlzLGF4aXNOYW1lKXsoYXhpcy5jdXJyZW50TWlufHxheGlzLmN1cnJlbnRNYXgpJiZjaGFydFtheGlzTmFtZV1bMF0uc2V0RXh0cmVtZXMoYXhpcy5jdXJyZW50TWluLGF4aXMuY3VycmVudE1heCwhMCl9LGNoYXJ0T3B0aW9uc1dpdGhvdXRFYXN5T3B0aW9ucz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gYW5ndWxhci5leHRlbmQoe30sb3B0aW9ucyx7ZGF0YTpudWxsLHZpc2libGU6bnVsbH0pfTtyZXR1cm57cmVzdHJpY3Q6IkVBQyIscmVwbGFjZTohMCx0ZW1wbGF0ZToiPGRpdj48L2Rpdj4iLHNjb3BlOntjb25maWc6Ij0iLGRpc2FibGVEYXRhV2F0Y2g6Ij0ifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQpe3ZhciBwcmV2U2VyaWVzT3B0aW9ucz17fSxwcm9jZXNzU2VyaWVzPWZ1bmN0aW9uKHNlcmllcyl7dmFyIGksaWRzPVtdO2lmKHNlcmllcyl7dmFyIHNldElkcz1lbnN1cmVJZHMoc2VyaWVzKTtpZihzZXRJZHMpcmV0dXJuITE7aWYoYW5ndWxhci5mb3JFYWNoKHNlcmllcyxmdW5jdGlvbihzKXtpZHMucHVzaChzLmlkKTt2YXIgY2hhcnRTZXJpZXM9Y2hhcnQuZ2V0KHMuaWQpO2NoYXJ0U2VyaWVzP2FuZ3VsYXIuZXF1YWxzKHByZXZTZXJpZXNPcHRpb25zW3MuaWRdLGNoYXJ0T3B0aW9uc1dpdGhvdXRFYXN5T3B0aW9ucyhzKSk/KHZvaWQgMCE9PXMudmlzaWJsZSYmY2hhcnRTZXJpZXMudmlzaWJsZSE9PXMudmlzaWJsZSYmY2hhcnRTZXJpZXMuc2V0VmlzaWJsZShzLnZpc2libGUsITEpLGNoYXJ0U2VyaWVzLnNldERhdGEoYW5ndWxhci5jb3B5KHMuZGF0YSksITEpKTpjaGFydFNlcmllcy51cGRhdGUoYW5ndWxhci5jb3B5KHMpLCExKTpjaGFydC5hZGRTZXJpZXMoYW5ndWxhci5jb3B5KHMpLCExKSxwcmV2U2VyaWVzT3B0aW9uc1tzLmlkXT1jaGFydE9wdGlvbnNXaXRob3V0RWFzeU9wdGlvbnMocyl9KSxzY29wZS5jb25maWcubm9EYXRhKXt2YXIgY2hhcnRDb250YWluc0RhdGE9ITE7Zm9yKGk9MDtpPHNlcmllcy5sZW5ndGg7aSsrKWlmKHNlcmllc1tpXS5kYXRhJiZzZXJpZXNbaV0uZGF0YS5sZW5ndGg+MCl7Y2hhcnRDb250YWluc0RhdGE9ITA7YnJlYWt9Y2hhcnRDb250YWluc0RhdGE/Y2hhcnQuaGlkZUxvYWRpbmcoKTpjaGFydC5zaG93TG9hZGluZyhzY29wZS5jb25maWcubm9EYXRhKX19Zm9yKGk9Y2hhcnQuc2VyaWVzLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgcz1jaGFydC5zZXJpZXNbaV07ImhpZ2hjaGFydHMtbmF2aWdhdG9yLXNlcmllcyIhPT1zLm9wdGlvbnMuaWQmJmhpZ2hjaGFydHNOR1V0aWxzLmluZGV4T2YoaWRzLHMub3B0aW9ucy5pZCk8MCYmcy5yZW1vdmUoITEpfXJldHVybiEwfSxjaGFydD0hMSxpbml0Q2hhcnQ9ZnVuY3Rpb24oKXtjaGFydCYmY2hhcnQuZGVzdHJveSgpLHByZXZTZXJpZXNPcHRpb25zPXt9O3ZhciBjb25maWc9c2NvcGUuY29uZmlnfHx7fSxtZXJnZWRPcHRpb25zPWdldE1lcmdlZE9wdGlvbnMoc2NvcGUsZWxlbWVudCxjb25maWcpLGZ1bmM9Y29uZmlnLmZ1bmN8fHZvaWQgMDtjaGFydD1jb25maWcudXNlSGlnaFN0b2Nrcz9uZXcgSGlnaGNoYXJ0cy5TdG9ja0NoYXJ0KG1lcmdlZE9wdGlvbnMsZnVuYyk6bmV3IEhpZ2hjaGFydHMuQ2hhcnQobWVyZ2VkT3B0aW9ucyxmdW5jKTtmb3IodmFyIGk9MDtpPGF4aXNOYW1lcy5sZW5ndGg7aSsrKWNvbmZpZ1theGlzTmFtZXNbaV1dJiZwcm9jZXNzRXh0cmVtZXMoY2hhcnQsY29uZmlnW2F4aXNOYW1lc1tpXV0sYXhpc05hbWVzW2ldKTtjb25maWcubG9hZGluZyYmY2hhcnQuc2hvd0xvYWRpbmcoKX07aW5pdENoYXJ0KCksc2NvcGUuZGlzYWJsZURhdGFXYXRjaD9zY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCJjb25maWcuc2VyaWVzIixmdW5jdGlvbihuZXdTZXJpZXMpe3Byb2Nlc3NTZXJpZXMobmV3U2VyaWVzKSxjaGFydC5yZWRyYXcoKX0pOnNjb3BlLiR3YXRjaCgiY29uZmlnLnNlcmllcyIsZnVuY3Rpb24obmV3U2VyaWVzKXt2YXIgbmVlZHNSZWRyYXc9cHJvY2Vzc1NlcmllcyhuZXdTZXJpZXMpO25lZWRzUmVkcmF3JiZjaGFydC5yZWRyYXcoKX0sITApLHNjb3BlLiR3YXRjaCgiY29uZmlnLnRpdGxlIixmdW5jdGlvbihuZXdUaXRsZSl7Y2hhcnQuc2V0VGl0bGUobmV3VGl0bGUsITApfSwhMCksc2NvcGUuJHdhdGNoKCJjb25maWcuc3VidGl0bGUiLGZ1bmN0aW9uKG5ld1N1YnRpdGxlKXtjaGFydC5zZXRUaXRsZSghMCxuZXdTdWJ0aXRsZSl9LCEwKSxzY29wZS4kd2F0Y2goImNvbmZpZy5sb2FkaW5nIixmdW5jdGlvbihsb2FkaW5nKXtsb2FkaW5nP2NoYXJ0LnNob3dMb2FkaW5nKCk6Y2hhcnQuaGlkZUxvYWRpbmcoKX0pLHNjb3BlLiR3YXRjaCgiY29uZmlnLmNyZWRpdHMuZW5hYmxlZCIsZnVuY3Rpb24oZW5hYmxlZCl7ZW5hYmxlZD9jaGFydC5jcmVkaXRzLnNob3coKTpjaGFydC5jcmVkaXRzJiZjaGFydC5jcmVkaXRzLmhpZGUoKX0pLHNjb3BlLiR3YXRjaCgiY29uZmlnLnVzZUhpZ2hTdG9ja3MiLGZ1bmN0aW9uKHVzZUhpZ2hTdG9ja3Msb2xkVXNlSGlnaFN0b2Nrcyl7dXNlSGlnaFN0b2NrcyE9PW9sZFVzZUhpZ2hTdG9ja3MmJmluaXRDaGFydCgpfSksYW5ndWxhci5mb3JFYWNoKGF4aXNOYW1lcyxmdW5jdGlvbihheGlzTmFtZSl7c2NvcGUuJHdhdGNoKCJjb25maWcuIitheGlzTmFtZSxmdW5jdGlvbihuZXdBeGVzLG9sZEF4ZXMpe25ld0F4ZXMhPT1vbGRBeGVzJiZuZXdBeGVzJiYoY2hhcnRbYXhpc05hbWVdWzBdLnVwZGF0ZShuZXdBeGVzLCExKSx1cGRhdGVab29tKGNoYXJ0W2F4aXNOYW1lXVswXSxhbmd1bGFyLmNvcHkobmV3QXhlcykpLGNoYXJ0LnJlZHJhdygpKX0sITApfSksc2NvcGUuJHdhdGNoKCJjb25maWcub3B0aW9ucyIsZnVuY3Rpb24obmV3T3B0aW9ucyxvbGRPcHRpb25zLHNjb3BlKXtuZXdPcHRpb25zIT09b2xkT3B0aW9ucyYmKGluaXRDaGFydCgpLHByb2Nlc3NTZXJpZXMoc2NvcGUuY29uZmlnLnNlcmllcyksY2hhcnQucmVkcmF3KCkpfSwhMCksc2NvcGUuJHdhdGNoKCJjb25maWcuc2l6ZSIsZnVuY3Rpb24obmV3U2l6ZSxvbGRTaXplKXtuZXdTaXplIT09b2xkU2l6ZSYmbmV3U2l6ZSYmY2hhcnQuc2V0U2l6ZShuZXdTaXplLndpZHRofHx2b2lkIDAsbmV3U2l6ZS5oZWlnaHR8fHZvaWQgMCl9LCEwKSxzY29wZS4kb24oImhpZ2hjaGFydHNuZy5yZWZsb3ciLGZ1bmN0aW9uKCl7Y2hhcnQucmVmbG93KCl9KSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2NoYXJ0JiYoY2hhcnQuZGVzdHJveSgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlbGVtZW50LnJlbW92ZSgpfSwwKSl9KX19fWFuZ3VsYXIubW9kdWxlKCJoaWdoY2hhcnRzLW5nIixbXSkuZmFjdG9yeSgiaGlnaGNoYXJ0c05HVXRpbHMiLGhpZ2hjaGFydHNOR1V0aWxzKS5kaXJlY3RpdmUoImhpZ2hjaGFydCIsWyJoaWdoY2hhcnRzTkdVdGlscyIsaGlnaGNoYXJ0XSl9KCksZnVuY3Rpb24od2luZG93LGFuZ3VsYXIsdW5kZWZpbmVkKXsidXNlIHN0cmljdCI7YW5ndWxhci5tb2R1bGUoIm5nQW5pbWF0ZSIsWyJuZyJdKS5kaXJlY3RpdmUoIm5nQW5pbWF0ZUNoaWxkcmVuIixmdW5jdGlvbigpe3ZhciBOR19BTklNQVRFX0NISUxEUkVOPSIkJG5nQW5pbWF0ZUNoaWxkcmVuIjtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7dmFyIHZhbD1hdHRycy5uZ0FuaW1hdGVDaGlsZHJlbjthbmd1bGFyLmlzU3RyaW5nKHZhbCkmJjA9PT12YWwubGVuZ3RoP2VsZW1lbnQuZGF0YShOR19BTklNQVRFX0NISUxEUkVOLCEwKTpzY29wZS4kd2F0Y2godmFsLGZ1bmN0aW9uKHZhbHVlKXtlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DSElMRFJFTiwhIXZhbHVlKX0pfX0pLmZhY3RvcnkoIiQkYW5pbWF0ZVJlZmxvdyIsWyIkJHJBRiIsIiRkb2N1bWVudCIsZnVuY3Rpb24oJCRyQUYsJGRvY3VtZW50KXt2YXIgYm9kPSRkb2N1bWVudFswXS5ib2R5O3JldHVybiBmdW5jdGlvbihmbil7cmV0dXJuICQkckFGKGZ1bmN0aW9uKCl7Ym9kLm9mZnNldFdpZHRoKzE7Zm4oKX0pfX1dKS5jb25maWcoWyIkcHJvdmlkZSIsIiRhbmltYXRlUHJvdmlkZXIiLGZ1bmN0aW9uKCRwcm92aWRlLCRhbmltYXRlUHJvdmlkZXIpe2Z1bmN0aW9uIGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KXtmb3IodmFyIGk9MDtpPGVsZW1lbnQubGVuZ3RoO2krKyl7dmFyIGVsbT1lbGVtZW50W2ldO2lmKGVsbS5ub2RlVHlwZT09RUxFTUVOVF9OT0RFKXJldHVybiBlbG19fWZ1bmN0aW9uIHByZXBhcmVFbGVtZW50KGVsZW1lbnQpe3JldHVybiBlbGVtZW50JiZhbmd1bGFyLmVsZW1lbnQoZWxlbWVudCl9ZnVuY3Rpb24gc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpe3JldHVybiBhbmd1bGFyLmVsZW1lbnQoZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpKX1mdW5jdGlvbiBpc01hdGNoaW5nRWxlbWVudChlbG0xLGVsbTIpe3JldHVybiBleHRyYWN0RWxlbWVudE5vZGUoZWxtMSk9PWV4dHJhY3RFbGVtZW50Tm9kZShlbG0yKX12YXIgbm9vcD1hbmd1bGFyLm5vb3AsZm9yRWFjaD1hbmd1bGFyLmZvckVhY2gsc2VsZWN0b3JzPSRhbmltYXRlUHJvdmlkZXIuJCRzZWxlY3RvcnMsaXNBcnJheT1hbmd1bGFyLmlzQXJyYXksaXNTdHJpbmc9YW5ndWxhci5pc1N0cmluZyxpc09iamVjdD1hbmd1bGFyLmlzT2JqZWN0LEVMRU1FTlRfTk9ERT0xLE5HX0FOSU1BVEVfU1RBVEU9IiQkbmdBbmltYXRlU3RhdGUiLE5HX0FOSU1BVEVfQ0hJTERSRU49IiQkbmdBbmltYXRlQ2hpbGRyZW4iLE5HX0FOSU1BVEVfQ0xBU1NfTkFNRT0ibmctYW5pbWF0ZSIscm9vdEFuaW1hdGVTdGF0ZT17cnVubmluZzohMH07JHByb3ZpZGUuZGVjb3JhdG9yKCIkYW5pbWF0ZSIsWyIkZGVsZWdhdGUiLCIkJHEiLCIkaW5qZWN0b3IiLCIkc25pZmZlciIsIiRyb290RWxlbWVudCIsIiQkYXN5bmNDYWxsYmFjayIsIiRyb290U2NvcGUiLCIkZG9jdW1lbnQiLCIkdGVtcGxhdGVSZXF1ZXN0IixmdW5jdGlvbigkZGVsZWdhdGUsJCRxLCRpbmplY3Rvciwkc25pZmZlciwkcm9vdEVsZW1lbnQsJCRhc3luY0NhbGxiYWNrLCRyb290U2NvcGUsJGRvY3VtZW50LCR0ZW1wbGF0ZVJlcXVlc3Qpe2Z1bmN0aW9uIGNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZChlbGVtZW50LHNldHRlcil7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpfHx7fTtyZXR1cm4gc2V0dGVyJiYoZGF0YS5ydW5uaW5nPSEwLGRhdGEuc3RydWN0dXJhbD0hMCxlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSxkYXRhKSksZGF0YS5kaXNhYmxlZHx8ZGF0YS5ydW5uaW5nJiZkYXRhLnN0cnVjdHVyYWx9ZnVuY3Rpb24gcnVuQW5pbWF0aW9uUG9zdERpZ2VzdChmbil7dmFyIGNhbmNlbEZuLGRlZmVyPSQkcS5kZWZlcigpO3JldHVybiBkZWZlci5wcm9taXNlLiQkY2FuY2VsRm49ZnVuY3Rpb24oKXtjYW5jZWxGbiYmY2FuY2VsRm4oKX0sJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtjYW5jZWxGbj1mbihmdW5jdGlvbigpe2RlZmVyLnJlc29sdmUoKX0pfSksZGVmZXIucHJvbWlzZX1mdW5jdGlvbiBwYXJzZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpe3JldHVybiBpc09iamVjdChvcHRpb25zKT8ob3B0aW9ucy50ZW1wQ2xhc3NlcyYmaXNTdHJpbmcob3B0aW9ucy50ZW1wQ2xhc3NlcykmJihvcHRpb25zLnRlbXBDbGFzc2VzPW9wdGlvbnMudGVtcENsYXNzZXMuc3BsaXQoL1xzKy8pKSxvcHRpb25zKTp2b2lkIDB9ZnVuY3Rpb24gcmVzb2x2ZUVsZW1lbnRDbGFzc2VzKGVsZW1lbnQsY2FjaGUscnVubmluZ0FuaW1hdGlvbnMpe3J1bm5pbmdBbmltYXRpb25zPXJ1bm5pbmdBbmltYXRpb25zfHx7fTt2YXIgbG9va3VwPXt9O2ZvckVhY2gocnVubmluZ0FuaW1hdGlvbnMsZnVuY3Rpb24oZGF0YSxzZWxlY3Rvcil7Zm9yRWFjaChzZWxlY3Rvci5zcGxpdCgiICIpLGZ1bmN0aW9uKHMpe2xvb2t1cFtzXT1kYXRhfSl9KTt2YXIgaGFzQ2xhc3Nlcz1PYmplY3QuY3JlYXRlKG51bGwpO2ZvckVhY2goKGVsZW1lbnQuYXR0cigiY2xhc3MiKXx8IiIpLnNwbGl0KC9ccysvKSxmdW5jdGlvbihjbGFzc05hbWUpe2hhc0NsYXNzZXNbY2xhc3NOYW1lXT0hMH0pO3ZhciB0b0FkZD1bXSx0b1JlbW92ZT1bXTtyZXR1cm4gZm9yRWFjaChjYWNoZS5jbGFzc2VzLGZ1bmN0aW9uKHN0YXR1cyxjbGFzc05hbWUpe3ZhciBoYXNDbGFzcz1oYXNDbGFzc2VzW2NsYXNzTmFtZV0sbWF0Y2hpbmdBbmltYXRpb249bG9va3VwW2NsYXNzTmFtZV18fHt9O3N0YXR1cz09PSExPyhoYXNDbGFzc3x8ImFkZENsYXNzIj09bWF0Y2hpbmdBbmltYXRpb24uZXZlbnQpJiZ0b1JlbW92ZS5wdXNoKGNsYXNzTmFtZSk6c3RhdHVzPT09ITAmJihoYXNDbGFzcyYmInJlbW92ZUNsYXNzIiE9bWF0Y2hpbmdBbmltYXRpb24uZXZlbnR8fHRvQWRkLnB1c2goY2xhc3NOYW1lKSl9KSx0b0FkZC5sZW5ndGgrdG9SZW1vdmUubGVuZ3RoPjAmJlt0b0FkZC5qb2luKCIgIiksdG9SZW1vdmUuam9pbigiICIpXX1mdW5jdGlvbiBsb29rdXAobmFtZSl7aWYobmFtZSl7dmFyIG1hdGNoZXM9W10sZmxhZ01hcD17fSxjbGFzc2VzPW5hbWUuc3Vic3RyKDEpLnNwbGl0KCIuIik7KCRzbmlmZmVyLnRyYW5zaXRpb25zfHwkc25pZmZlci5hbmltYXRpb25zKSYmbWF0Y2hlcy5wdXNoKCRpbmplY3Rvci5nZXQoc2VsZWN0b3JzWyIiXSkpO2Zvcih2YXIgaT0wO2k8Y2xhc3Nlcy5sZW5ndGg7aSsrKXt2YXIga2xhc3M9Y2xhc3Nlc1tpXSxzZWxlY3RvckZhY3RvcnlOYW1lPXNlbGVjdG9yc1trbGFzc107c2VsZWN0b3JGYWN0b3J5TmFtZSYmIWZsYWdNYXBba2xhc3NdJiYobWF0Y2hlcy5wdXNoKCRpbmplY3Rvci5nZXQoc2VsZWN0b3JGYWN0b3J5TmFtZSkpLGZsYWdNYXBba2xhc3NdPSEwKX1yZXR1cm4gbWF0Y2hlc319ZnVuY3Rpb24gYW5pbWF0aW9uUnVubmVyKGVsZW1lbnQsYW5pbWF0aW9uRXZlbnQsY2xhc3NOYW1lLG9wdGlvbnMpe2Z1bmN0aW9uIHJlZ2lzdGVyQW5pbWF0aW9uKGFuaW1hdGlvbkZhY3RvcnksZXZlbnQpe3ZhciBhZnRlckZuPWFuaW1hdGlvbkZhY3RvcnlbZXZlbnRdLGJlZm9yZUZuPWFuaW1hdGlvbkZhY3RvcnlbImJlZm9yZSIrZXZlbnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZXZlbnQuc3Vic3RyKDEpXTtyZXR1cm4gYWZ0ZXJGbnx8YmVmb3JlRm4/KCJsZWF2ZSI9PWV2ZW50JiYoYmVmb3JlRm49YWZ0ZXJGbixhZnRlckZuPW51bGwpLGFmdGVyLnB1c2goe2V2ZW50OmV2ZW50LGZuOmFmdGVyRm59KSxiZWZvcmUucHVzaCh7ZXZlbnQ6ZXZlbnQsZm46YmVmb3JlRm59KSwhMCk6dm9pZCAwfWZ1bmN0aW9uIHJ1bihmbnMsY2FuY2VsbGF0aW9ucyxhbGxDb21wbGV0ZUZuKXtmdW5jdGlvbiBhZnRlckFuaW1hdGlvbkNvbXBsZXRlKGluZGV4KXtpZihjYW5jZWxsYXRpb25zKXtpZigoY2FuY2VsbGF0aW9uc1tpbmRleF18fG5vb3ApKCksKytjb3VudDxhbmltYXRpb25zLmxlbmd0aClyZXR1cm47Y2FuY2VsbGF0aW9ucz1udWxsfWFsbENvbXBsZXRlRm4oKX12YXIgYW5pbWF0aW9ucz1bXTtmb3JFYWNoKGZucyxmdW5jdGlvbihhbmltYXRpb24pe2FuaW1hdGlvbi5mbiYmYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbil9KTt2YXIgY291bnQ9MDtmb3JFYWNoKGFuaW1hdGlvbnMsZnVuY3Rpb24oYW5pbWF0aW9uLGluZGV4KXt2YXIgcHJvZ3Jlc3M9ZnVuY3Rpb24oKXthZnRlckFuaW1hdGlvbkNvbXBsZXRlKGluZGV4KX07c3dpdGNoKGFuaW1hdGlvbi5ldmVudCl7Y2FzZSJzZXRDbGFzcyI6Y2FuY2VsbGF0aW9ucy5wdXNoKGFuaW1hdGlvbi5mbihlbGVtZW50LGNsYXNzTmFtZUFkZCxjbGFzc05hbWVSZW1vdmUscHJvZ3Jlc3Msb3B0aW9ucykpO2JyZWFrO2Nhc2UiYW5pbWF0ZSI6Y2FuY2VsbGF0aW9ucy5wdXNoKGFuaW1hdGlvbi5mbihlbGVtZW50LGNsYXNzTmFtZSxvcHRpb25zLmZyb20sb3B0aW9ucy50byxwcm9ncmVzcykpO2JyZWFrO2Nhc2UiYWRkQ2xhc3MiOmNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCxjbGFzc05hbWVBZGR8fGNsYXNzTmFtZSxwcm9ncmVzcyxvcHRpb25zKSk7YnJlYWs7Y2FzZSJyZW1vdmVDbGFzcyI6Y2FuY2VsbGF0aW9ucy5wdXNoKGFuaW1hdGlvbi5mbihlbGVtZW50LGNsYXNzTmFtZVJlbW92ZXx8Y2xhc3NOYW1lLHByb2dyZXNzLG9wdGlvbnMpKTticmVhaztkZWZhdWx0OmNhbmNlbGxhdGlvbnMucHVzaChhbmltYXRpb24uZm4oZWxlbWVudCxwcm9ncmVzcyxvcHRpb25zKSl9fSksY2FuY2VsbGF0aW9ucyYmMD09PWNhbmNlbGxhdGlvbnMubGVuZ3RoJiZhbGxDb21wbGV0ZUZuKCl9dmFyIG5vZGU9ZWxlbWVudFswXTtpZihub2RlKXtvcHRpb25zJiYob3B0aW9ucy50bz1vcHRpb25zLnRvfHx7fSxvcHRpb25zLmZyb209b3B0aW9ucy5mcm9tfHx7fSk7dmFyIGNsYXNzTmFtZUFkZCxjbGFzc05hbWVSZW1vdmU7aXNBcnJheShjbGFzc05hbWUpJiYoY2xhc3NOYW1lQWRkPWNsYXNzTmFtZVswXSxjbGFzc05hbWVSZW1vdmU9Y2xhc3NOYW1lWzFdLGNsYXNzTmFtZUFkZD9jbGFzc05hbWVSZW1vdmU/Y2xhc3NOYW1lPWNsYXNzTmFtZUFkZCsiICIrY2xhc3NOYW1lUmVtb3ZlOihjbGFzc05hbWU9Y2xhc3NOYW1lQWRkLGFuaW1hdGlvbkV2ZW50PSJhZGRDbGFzcyIpOihjbGFzc05hbWU9Y2xhc3NOYW1lUmVtb3ZlLGFuaW1hdGlvbkV2ZW50PSJyZW1vdmVDbGFzcyIpKTt2YXIgaXNTZXRDbGFzc09wZXJhdGlvbj0ic2V0Q2xhc3MiPT1hbmltYXRpb25FdmVudCxpc0NsYXNzQmFzZWQ9aXNTZXRDbGFzc09wZXJhdGlvbnx8ImFkZENsYXNzIj09YW5pbWF0aW9uRXZlbnR8fCJyZW1vdmVDbGFzcyI9PWFuaW1hdGlvbkV2ZW50fHwiYW5pbWF0ZSI9PWFuaW1hdGlvbkV2ZW50LGN1cnJlbnRDbGFzc05hbWU9ZWxlbWVudC5hdHRyKCJjbGFzcyIpLGNsYXNzZXM9Y3VycmVudENsYXNzTmFtZSsiICIrY2xhc3NOYW1lO2lmKGlzQW5pbWF0YWJsZUNsYXNzTmFtZShjbGFzc2VzKSl7dmFyIGJlZm9yZUNvbXBsZXRlPW5vb3AsYmVmb3JlQ2FuY2VsPVtdLGJlZm9yZT1bXSxhZnRlckNvbXBsZXRlPW5vb3AsYWZ0ZXJDYW5jZWw9W10sYWZ0ZXI9W10sYW5pbWF0aW9uTG9va3VwPSgiICIrY2xhc3NlcykucmVwbGFjZSgvXHMrL2csIi4iKTtyZXR1cm4gZm9yRWFjaChsb29rdXAoYW5pbWF0aW9uTG9va3VwKSxmdW5jdGlvbihhbmltYXRpb25GYWN0b3J5KXt2YXIgY3JlYXRlZD1yZWdpc3RlckFuaW1hdGlvbihhbmltYXRpb25GYWN0b3J5LGFuaW1hdGlvbkV2ZW50KTshY3JlYXRlZCYmaXNTZXRDbGFzc09wZXJhdGlvbiYmKHJlZ2lzdGVyQW5pbWF0aW9uKGFuaW1hdGlvbkZhY3RvcnksImFkZENsYXNzIikscmVnaXN0ZXJBbmltYXRpb24oYW5pbWF0aW9uRmFjdG9yeSwicmVtb3ZlQ2xhc3MiKSl9KSx7bm9kZTpub2RlLGV2ZW50OmFuaW1hdGlvbkV2ZW50LGNsYXNzTmFtZTpjbGFzc05hbWUsaXNDbGFzc0Jhc2VkOmlzQ2xhc3NCYXNlZCxpc1NldENsYXNzT3BlcmF0aW9uOmlzU2V0Q2xhc3NPcGVyYXRpb24sYXBwbHlTdHlsZXM6ZnVuY3Rpb24oKXtvcHRpb25zJiZlbGVtZW50LmNzcyhhbmd1bGFyLmV4dGVuZChvcHRpb25zLmZyb218fHt9LG9wdGlvbnMudG98fHt9KSl9LGJlZm9yZTpmdW5jdGlvbihhbGxDb21wbGV0ZUZuKXtiZWZvcmVDb21wbGV0ZT1hbGxDb21wbGV0ZUZuLHJ1bihiZWZvcmUsYmVmb3JlQ2FuY2VsLGZ1bmN0aW9uKCl7YmVmb3JlQ29tcGxldGU9bm9vcCxhbGxDb21wbGV0ZUZuKCl9KX0sYWZ0ZXI6ZnVuY3Rpb24oYWxsQ29tcGxldGVGbil7YWZ0ZXJDb21wbGV0ZT1hbGxDb21wbGV0ZUZuLHJ1bihhZnRlcixhZnRlckNhbmNlbCxmdW5jdGlvbigpe2FmdGVyQ29tcGxldGU9bm9vcCxhbGxDb21wbGV0ZUZuKCl9KX0sY2FuY2VsOmZ1bmN0aW9uKCl7YmVmb3JlQ2FuY2VsJiYoZm9yRWFjaChiZWZvcmVDYW5jZWwsZnVuY3Rpb24oY2FuY2VsRm4peyhjYW5jZWxGbnx8bm9vcCkoITApfSksYmVmb3JlQ29tcGxldGUoITApKSxhZnRlckNhbmNlbCYmKGZvckVhY2goYWZ0ZXJDYW5jZWwsZnVuY3Rpb24oY2FuY2VsRm4peyhjYW5jZWxGbnx8bm9vcCkoITApfSksYWZ0ZXJDb21wbGV0ZSghMCkpfX19fX1mdW5jdGlvbiBwZXJmb3JtQW5pbWF0aW9uKGFuaW1hdGlvbkV2ZW50LGNsYXNzTmFtZSxlbGVtZW50LHBhcmVudEVsZW1lbnQsYWZ0ZXJFbGVtZW50LGRvbU9wZXJhdGlvbixvcHRpb25zLGRvbmVDYWxsYmFjayl7ZnVuY3Rpb24gZmlyZURPTUNhbGxiYWNrKGFuaW1hdGlvblBoYXNlKXt2YXIgZXZlbnROYW1lPSIkYW5pbWF0ZToiK2FuaW1hdGlvblBoYXNlO2VsZW1lbnRFdmVudHMmJmVsZW1lbnRFdmVudHNbZXZlbnROYW1lXSYmZWxlbWVudEV2ZW50c1tldmVudE5hbWVdLmxlbmd0aD4wJiYkJGFzeW5jQ2FsbGJhY2soZnVuY3Rpb24oKXtlbGVtZW50LnRyaWdnZXJIYW5kbGVyKGV2ZW50TmFtZSx7ZXZlbnQ6YW5pbWF0aW9uRXZlbnQsY2xhc3NOYW1lOmNsYXNzTmFtZX0pfSl9ZnVuY3Rpb24gZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKXtmaXJlRE9NQ2FsbGJhY2soImJlZm9yZSIpfWZ1bmN0aW9uIGZpcmVBZnRlckNhbGxiYWNrQXN5bmMoKXtmaXJlRE9NQ2FsbGJhY2soImFmdGVyIil9ZnVuY3Rpb24gZmlyZURvbmVDYWxsYmFja0FzeW5jKCl7ZmlyZURPTUNhbGxiYWNrKCJjbG9zZSIpLGRvbmVDYWxsYmFjaygpfWZ1bmN0aW9uIGZpcmVET01PcGVyYXRpb24oKXtmaXJlRE9NT3BlcmF0aW9uLmhhc0JlZW5SdW58fChmaXJlRE9NT3BlcmF0aW9uLmhhc0JlZW5SdW49ITAsZG9tT3BlcmF0aW9uKCkpfWZ1bmN0aW9uIGNsb3NlQW5pbWF0aW9uKCl7aWYoIWNsb3NlQW5pbWF0aW9uLmhhc0JlZW5SdW4pe3J1bm5lciYmcnVubmVyLmFwcGx5U3R5bGVzKCksY2xvc2VBbmltYXRpb24uaGFzQmVlblJ1bj0hMCxvcHRpb25zJiZvcHRpb25zLnRlbXBDbGFzc2VzJiZmb3JFYWNoKG9wdGlvbnMudGVtcENsYXNzZXMsZnVuY3Rpb24oY2xhc3NOYW1lKXtlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSl9KTt2YXIgZGF0YT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSk7ZGF0YSYmKHJ1bm5lciYmcnVubmVyLmlzQ2xhc3NCYXNlZD9jbGVhbnVwKGVsZW1lbnQsY2xhc3NOYW1lKTooJCRhc3luY0NhbGxiYWNrKGZ1bmN0aW9uKCl7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpfHx7fTtsb2NhbEFuaW1hdGlvbkNvdW50PT1kYXRhLmluZGV4JiZjbGVhbnVwKGVsZW1lbnQsY2xhc3NOYW1lLGFuaW1hdGlvbkV2ZW50KX0pLGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFLGRhdGEpKSksZmlyZURvbmVDYWxsYmFja0FzeW5jKCl9fXZhciBub29wQ2FuY2VsPW5vb3AscnVubmVyPWFuaW1hdGlvblJ1bm5lcihlbGVtZW50LGFuaW1hdGlvbkV2ZW50LGNsYXNzTmFtZSxvcHRpb25zKTtpZighcnVubmVyKXJldHVybiBmaXJlRE9NT3BlcmF0aW9uKCksZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKSxmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCksY2xvc2VBbmltYXRpb24oKSxub29wQ2FuY2VsO2FuaW1hdGlvbkV2ZW50PXJ1bm5lci5ldmVudCxjbGFzc05hbWU9cnVubmVyLmNsYXNzTmFtZTt2YXIgZWxlbWVudEV2ZW50cz1hbmd1bGFyLmVsZW1lbnQuX2RhdGEocnVubmVyLm5vZGUpO2lmKGVsZW1lbnRFdmVudHM9ZWxlbWVudEV2ZW50cyYmZWxlbWVudEV2ZW50cy5ldmVudHMscGFyZW50RWxlbWVudHx8KHBhcmVudEVsZW1lbnQ9YWZ0ZXJFbGVtZW50P2FmdGVyRWxlbWVudC5wYXJlbnQoKTplbGVtZW50LnBhcmVudCgpKSxhbmltYXRpb25zRGlzYWJsZWQoZWxlbWVudCxwYXJlbnRFbGVtZW50KSlyZXR1cm4gZmlyZURPTU9wZXJhdGlvbigpLGZpcmVCZWZvcmVDYWxsYmFja0FzeW5jKCksZmlyZUFmdGVyQ2FsbGJhY2tBc3luYygpLGNsb3NlQW5pbWF0aW9uKCksbm9vcENhbmNlbDt2YXIgbmdBbmltYXRlU3RhdGU9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpfHx7fSxydW5uaW5nQW5pbWF0aW9ucz1uZ0FuaW1hdGVTdGF0ZS5hY3RpdmV8fHt9LHRvdGFsQWN0aXZlQW5pbWF0aW9ucz1uZ0FuaW1hdGVTdGF0ZS50b3RhbEFjdGl2ZXx8MCxsYXN0QW5pbWF0aW9uPW5nQW5pbWF0ZVN0YXRlLmxhc3Qsc2tpcEFuaW1hdGlvbj0hMTtpZih0b3RhbEFjdGl2ZUFuaW1hdGlvbnM+MCl7dmFyIGFuaW1hdGlvbnNUb0NhbmNlbD1bXTtpZihydW5uZXIuaXNDbGFzc0Jhc2VkKXtpZigic2V0Q2xhc3MiPT1sYXN0QW5pbWF0aW9uLmV2ZW50KWFuaW1hdGlvbnNUb0NhbmNlbC5wdXNoKGxhc3RBbmltYXRpb24pLGNsZWFudXAoZWxlbWVudCxjbGFzc05hbWUpO2Vsc2UgaWYocnVubmluZ0FuaW1hdGlvbnNbY2xhc3NOYW1lXSl7dmFyIGN1cnJlbnQ9cnVubmluZ0FuaW1hdGlvbnNbY2xhc3NOYW1lXTtjdXJyZW50LmV2ZW50PT1hbmltYXRpb25FdmVudD9za2lwQW5pbWF0aW9uPSEwOihhbmltYXRpb25zVG9DYW5jZWwucHVzaChjdXJyZW50KSxjbGVhbnVwKGVsZW1lbnQsY2xhc3NOYW1lKSl9fWVsc2UgaWYoImxlYXZlIj09YW5pbWF0aW9uRXZlbnQmJnJ1bm5pbmdBbmltYXRpb25zWyJuZy1sZWF2ZSJdKXNraXBBbmltYXRpb249ITA7ZWxzZXtmb3IodmFyIGtsYXNzIGluIHJ1bm5pbmdBbmltYXRpb25zKWFuaW1hdGlvbnNUb0NhbmNlbC5wdXNoKHJ1bm5pbmdBbmltYXRpb25zW2tsYXNzXSk7bmdBbmltYXRlU3RhdGU9e30sY2xlYW51cChlbGVtZW50LCEwKX1hbmltYXRpb25zVG9DYW5jZWwubGVuZ3RoPjAmJmZvckVhY2goYW5pbWF0aW9uc1RvQ2FuY2VsLGZ1bmN0aW9uKG9wZXJhdGlvbil7b3BlcmF0aW9uLmNhbmNlbCgpfSl9aWYoIXJ1bm5lci5pc0NsYXNzQmFzZWR8fHJ1bm5lci5pc1NldENsYXNzT3BlcmF0aW9ufHwiYW5pbWF0ZSI9PWFuaW1hdGlvbkV2ZW50fHxza2lwQW5pbWF0aW9ufHwoc2tpcEFuaW1hdGlvbj0iYWRkQ2xhc3MiPT1hbmltYXRpb25FdmVudD09ZWxlbWVudC5oYXNDbGFzcyhjbGFzc05hbWUpKSxza2lwQW5pbWF0aW9uKXJldHVybiBmaXJlRE9NT3BlcmF0aW9uKCksZmlyZUJlZm9yZUNhbGxiYWNrQXN5bmMoKSxmaXJlQWZ0ZXJDYWxsYmFja0FzeW5jKCksZmlyZURvbmVDYWxsYmFja0FzeW5jKCksbm9vcENhbmNlbDtydW5uaW5nQW5pbWF0aW9ucz1uZ0FuaW1hdGVTdGF0ZS5hY3RpdmV8fHt9LHRvdGFsQWN0aXZlQW5pbWF0aW9ucz1uZ0FuaW1hdGVTdGF0ZS50b3RhbEFjdGl2ZXx8MCwibGVhdmUiPT1hbmltYXRpb25FdmVudCYmZWxlbWVudC5vbmUoIiRkZXN0cm95IixmdW5jdGlvbigpe3ZhciBlbGVtZW50PWFuZ3VsYXIuZWxlbWVudCh0aGlzKSxzdGF0ZT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSk7aWYoc3RhdGUpe3ZhciBhY3RpdmVMZWF2ZUFuaW1hdGlvbj1zdGF0ZS5hY3RpdmVbIm5nLWxlYXZlIl07YWN0aXZlTGVhdmVBbmltYXRpb24mJihhY3RpdmVMZWF2ZUFuaW1hdGlvbi5jYW5jZWwoKSxjbGVhbnVwKGVsZW1lbnQsIm5nLWxlYXZlIikpfX0pLGVsZW1lbnQuYWRkQ2xhc3MoTkdfQU5JTUFURV9DTEFTU19OQU1FKSxvcHRpb25zJiZvcHRpb25zLnRlbXBDbGFzc2VzJiZmb3JFYWNoKG9wdGlvbnMudGVtcENsYXNzZXMsZnVuY3Rpb24oY2xhc3NOYW1lKXtlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSl9KTt2YXIgbG9jYWxBbmltYXRpb25Db3VudD1nbG9iYWxBbmltYXRpb25Db3VudGVyKys7cmV0dXJuIHRvdGFsQWN0aXZlQW5pbWF0aW9ucysrLHJ1bm5pbmdBbmltYXRpb25zW2NsYXNzTmFtZV09cnVubmVyLGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFLHtsYXN0OnJ1bm5lcixhY3RpdmU6cnVubmluZ0FuaW1hdGlvbnMsaW5kZXg6bG9jYWxBbmltYXRpb25Db3VudCx0b3RhbEFjdGl2ZTp0b3RhbEFjdGl2ZUFuaW1hdGlvbnN9KSxmaXJlQmVmb3JlQ2FsbGJhY2tBc3luYygpLHJ1bm5lci5iZWZvcmUoZnVuY3Rpb24oY2FuY2VsbGVkKXt2YXIgZGF0YT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSk7Y2FuY2VsbGVkPWNhbmNlbGxlZHx8IWRhdGF8fCFkYXRhLmFjdGl2ZVtjbGFzc05hbWVdfHxydW5uZXIuaXNDbGFzc0Jhc2VkJiZkYXRhLmFjdGl2ZVtjbGFzc05hbWVdLmV2ZW50IT1hbmltYXRpb25FdmVudCxmaXJlRE9NT3BlcmF0aW9uKCksY2FuY2VsbGVkPT09ITA/Y2xvc2VBbmltYXRpb24oKTooZmlyZUFmdGVyQ2FsbGJhY2tBc3luYygpLHJ1bm5lci5hZnRlcihjbG9zZUFuaW1hdGlvbikpfSkscnVubmVyLmNhbmNlbH1mdW5jdGlvbiBjYW5jZWxDaGlsZEFuaW1hdGlvbnMoZWxlbWVudCl7dmFyIG5vZGU9ZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpO2lmKG5vZGUpe3ZhciBub2Rlcz1hbmd1bGFyLmlzRnVuY3Rpb24obm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKT9ub2RlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTkdfQU5JTUFURV9DTEFTU19OQU1FKTpub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK05HX0FOSU1BVEVfQ0xBU1NfTkFNRSk7Zm9yRWFjaChub2RlcyxmdW5jdGlvbihlbGVtZW50KXtlbGVtZW50PWFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTt2YXIgZGF0YT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSk7ZGF0YSYmZGF0YS5hY3RpdmUmJmZvckVhY2goZGF0YS5hY3RpdmUsZnVuY3Rpb24ocnVubmVyKXtydW5uZXIuY2FuY2VsKCl9KX0pfX1mdW5jdGlvbiBjbGVhbnVwKGVsZW1lbnQsY2xhc3NOYW1lKXtpZihpc01hdGNoaW5nRWxlbWVudChlbGVtZW50LCRyb290RWxlbWVudCkpcm9vdEFuaW1hdGVTdGF0ZS5kaXNhYmxlZHx8KHJvb3RBbmltYXRlU3RhdGUucnVubmluZz0hMSxyb290QW5pbWF0ZVN0YXRlLnN0cnVjdHVyYWw9ITEpO2Vsc2UgaWYoY2xhc3NOYW1lKXt2YXIgZGF0YT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSl8fHt9LHJlbW92ZUFuaW1hdGlvbnM9Y2xhc3NOYW1lPT09ITA7IXJlbW92ZUFuaW1hdGlvbnMmJmRhdGEuYWN0aXZlJiZkYXRhLmFjdGl2ZVtjbGFzc05hbWVdJiYoZGF0YS50b3RhbEFjdGl2ZS0tLGRlbGV0ZSBkYXRhLmFjdGl2ZVtjbGFzc05hbWVdKSwocmVtb3ZlQW5pbWF0aW9uc3x8IWRhdGEudG90YWxBY3RpdmUpJiYoZWxlbWVudC5yZW1vdmVDbGFzcyhOR19BTklNQVRFX0NMQVNTX05BTUUpLGVsZW1lbnQucmVtb3ZlRGF0YShOR19BTklNQVRFX1NUQVRFKSl9fWZ1bmN0aW9uIGFuaW1hdGlvbnNEaXNhYmxlZChlbGVtZW50LHBhcmVudEVsZW1lbnQpe2lmKHJvb3RBbmltYXRlU3RhdGUuZGlzYWJsZWQpcmV0dXJuITA7aWYoaXNNYXRjaGluZ0VsZW1lbnQoZWxlbWVudCwkcm9vdEVsZW1lbnQpKXJldHVybiByb290QW5pbWF0ZVN0YXRlLnJ1bm5pbmc7dmFyIGFsbG93Q2hpbGRBbmltYXRpb25zLHBhcmVudFJ1bm5pbmdBbmltYXRpb24saGFzUGFyZW50O2Rve2lmKDA9PT1wYXJlbnRFbGVtZW50Lmxlbmd0aClicmVhazt2YXIgaXNSb290PWlzTWF0Y2hpbmdFbGVtZW50KHBhcmVudEVsZW1lbnQsJHJvb3RFbGVtZW50KSxzdGF0ZT1pc1Jvb3Q/cm9vdEFuaW1hdGVTdGF0ZTpwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSl8fHt9O2lmKHN0YXRlLmRpc2FibGVkKXJldHVybiEwO2lmKGlzUm9vdCYmKGhhc1BhcmVudD0hMCksYWxsb3dDaGlsZEFuaW1hdGlvbnMhPT0hMSl7dmFyIGFuaW1hdGVDaGlsZHJlbkZsYWc9cGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ0hJTERSRU4pO2FuZ3VsYXIuaXNEZWZpbmVkKGFuaW1hdGVDaGlsZHJlbkZsYWcpJiYoYWxsb3dDaGlsZEFuaW1hdGlvbnM9YW5pbWF0ZUNoaWxkcmVuRmxhZyl9cGFyZW50UnVubmluZ0FuaW1hdGlvbj1wYXJlbnRSdW5uaW5nQW5pbWF0aW9ufHxzdGF0ZS5ydW5uaW5nfHxzdGF0ZS5sYXN0JiYhc3RhdGUubGFzdC5pc0NsYXNzQmFzZWR9d2hpbGUocGFyZW50RWxlbWVudD1wYXJlbnRFbGVtZW50LnBhcmVudCgpKTtyZXR1cm4haGFzUGFyZW50fHwhYWxsb3dDaGlsZEFuaW1hdGlvbnMmJnBhcmVudFJ1bm5pbmdBbmltYXRpb259JHJvb3RFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSxyb290QW5pbWF0ZVN0YXRlKTt2YXIgZGVyZWdpc3RlcldhdGNoPSRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuICR0ZW1wbGF0ZVJlcXVlc3QudG90YWxQZW5kaW5nUmVxdWVzdHN9LGZ1bmN0aW9uKHZhbCl7MD09PXZhbCYmKGRlcmVnaXN0ZXJXYXRjaCgpLCRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7JHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtyb290QW5pbWF0ZVN0YXRlLnJ1bm5pbmc9ITF9KX0pKX0pLGdsb2JhbEFuaW1hdGlvbkNvdW50ZXI9MCxjbGFzc05hbWVGaWx0ZXI9JGFuaW1hdGVQcm92aWRlci5jbGFzc05hbWVGaWx0ZXIoKSxpc0FuaW1hdGFibGVDbGFzc05hbWU9Y2xhc3NOYW1lRmlsdGVyP2Z1bmN0aW9uKGNsYXNzTmFtZSl7cmV0dXJuIGNsYXNzTmFtZUZpbHRlci50ZXN0KGNsYXNzTmFtZSl9OmZ1bmN0aW9uKCl7cmV0dXJuITB9O3JldHVybnthbmltYXRlOmZ1bmN0aW9uKGVsZW1lbnQsZnJvbSx0byxjbGFzc05hbWUsb3B0aW9ucyl7cmV0dXJuIGNsYXNzTmFtZT1jbGFzc05hbWV8fCJuZy1pbmxpbmUtYW5pbWF0ZSIsb3B0aW9ucz1wYXJzZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpfHx7fSxvcHRpb25zLmZyb209dG8/ZnJvbTpudWxsLG9wdGlvbnMudG89dG8/dG86ZnJvbSxydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZ1bmN0aW9uKGRvbmUpe3JldHVybiBwZXJmb3JtQW5pbWF0aW9uKCJhbmltYXRlIixjbGFzc05hbWUsc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLG51bGwsbnVsbCxub29wLG9wdGlvbnMsZG9uZSl9KX0sZW50ZXI6ZnVuY3Rpb24oZWxlbWVudCxwYXJlbnRFbGVtZW50LGFmdGVyRWxlbWVudCxvcHRpb25zKXtyZXR1cm4gb3B0aW9ucz1wYXJzZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpLGVsZW1lbnQ9YW5ndWxhci5lbGVtZW50KGVsZW1lbnQpLHBhcmVudEVsZW1lbnQ9cHJlcGFyZUVsZW1lbnQocGFyZW50RWxlbWVudCksYWZ0ZXJFbGVtZW50PXByZXBhcmVFbGVtZW50KGFmdGVyRWxlbWVudCksY2xhc3NCYXNlZEFuaW1hdGlvbnNCbG9ja2VkKGVsZW1lbnQsITApLCRkZWxlZ2F0ZS5lbnRlcihlbGVtZW50LHBhcmVudEVsZW1lbnQsYWZ0ZXJFbGVtZW50KSxydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZ1bmN0aW9uKGRvbmUpe3JldHVybiBwZXJmb3JtQW5pbWF0aW9uKCJlbnRlciIsIm5nLWVudGVyIixzdHJpcENvbW1lbnRzRnJvbUVsZW1lbnQoZWxlbWVudCkscGFyZW50RWxlbWVudCxhZnRlckVsZW1lbnQsbm9vcCxvcHRpb25zLGRvbmUpfSl9LGxlYXZlOmZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9ucyl7cmV0dXJuIG9wdGlvbnM9cGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKSxlbGVtZW50PWFuZ3VsYXIuZWxlbWVudChlbGVtZW50KSxjYW5jZWxDaGlsZEFuaW1hdGlvbnMoZWxlbWVudCksY2xhc3NCYXNlZEFuaW1hdGlvbnNCbG9ja2VkKGVsZW1lbnQsITApLHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSl7cmV0dXJuIHBlcmZvcm1BbmltYXRpb24oImxlYXZlIiwibmctbGVhdmUiLHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KSxudWxsLG51bGwsZnVuY3Rpb24oKXskZGVsZWdhdGUubGVhdmUoZWxlbWVudCl9LG9wdGlvbnMsZG9uZSl9KX0sbW92ZTpmdW5jdGlvbihlbGVtZW50LHBhcmVudEVsZW1lbnQsYWZ0ZXJFbGVtZW50LG9wdGlvbnMpe3JldHVybiBvcHRpb25zPXBhcnNlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyksZWxlbWVudD1hbmd1bGFyLmVsZW1lbnQoZWxlbWVudCkscGFyZW50RWxlbWVudD1wcmVwYXJlRWxlbWVudChwYXJlbnRFbGVtZW50KSxhZnRlckVsZW1lbnQ9cHJlcGFyZUVsZW1lbnQoYWZ0ZXJFbGVtZW50KSxjYW5jZWxDaGlsZEFuaW1hdGlvbnMoZWxlbWVudCksY2xhc3NCYXNlZEFuaW1hdGlvbnNCbG9ja2VkKGVsZW1lbnQsITApLCRkZWxlZ2F0ZS5tb3ZlKGVsZW1lbnQscGFyZW50RWxlbWVudCxhZnRlckVsZW1lbnQpLHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSl7cmV0dXJuIHBlcmZvcm1BbmltYXRpb24oIm1vdmUiLCJuZy1tb3ZlIixzdHJpcENvbW1lbnRzRnJvbUVsZW1lbnQoZWxlbWVudCkscGFyZW50RWxlbWVudCxhZnRlckVsZW1lbnQsbm9vcCxvcHRpb25zLGRvbmUpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLG9wdGlvbnMpe3JldHVybiB0aGlzLnNldENsYXNzKGVsZW1lbnQsY2xhc3NOYW1lLFtdLG9wdGlvbnMpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxvcHRpb25zKXtyZXR1cm4gdGhpcy5zZXRDbGFzcyhlbGVtZW50LFtdLGNsYXNzTmFtZSxvcHRpb25zKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxhZGQscmVtb3ZlLG9wdGlvbnMpe29wdGlvbnM9cGFyc2VBbmltYXRlT3B0aW9ucyhvcHRpb25zKTt2YXIgU1RPUkFHRV9LRVk9IiQkYW5pbWF0ZUNsYXNzZXMiO2lmKGVsZW1lbnQ9YW5ndWxhci5lbGVtZW50KGVsZW1lbnQpLGVsZW1lbnQ9c3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpLGNsYXNzQmFzZWRBbmltYXRpb25zQmxvY2tlZChlbGVtZW50KSlyZXR1cm4gJGRlbGVnYXRlLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShlbGVtZW50LGFkZCxyZW1vdmUsb3B0aW9ucyk7dmFyIGNsYXNzZXMsY2FjaGU9ZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZKSxoYXNDYWNoZT0hIWNhY2hlO3JldHVybiBjYWNoZXx8KGNhY2hlPXt9LGNhY2hlLmNsYXNzZXM9e30pLGNsYXNzZXM9Y2FjaGUuY2xhc3NlcyxhZGQ9aXNBcnJheShhZGQpP2FkZDphZGQuc3BsaXQoIiAiKSxmb3JFYWNoKGFkZCxmdW5jdGlvbihjKXtjJiZjLmxlbmd0aCYmKGNsYXNzZXNbY109ITApCn0pLHJlbW92ZT1pc0FycmF5KHJlbW92ZSk/cmVtb3ZlOnJlbW92ZS5zcGxpdCgiICIpLGZvckVhY2gocmVtb3ZlLGZ1bmN0aW9uKGMpe2MmJmMubGVuZ3RoJiYoY2xhc3Nlc1tjXT0hMSl9KSxoYXNDYWNoZT8ob3B0aW9ucyYmY2FjaGUub3B0aW9ucyYmKGNhY2hlLm9wdGlvbnM9YW5ndWxhci5leHRlbmQoY2FjaGUub3B0aW9uc3x8e30sb3B0aW9ucykpLGNhY2hlLnByb21pc2UpOihlbGVtZW50LmRhdGEoU1RPUkFHRV9LRVksY2FjaGU9e2NsYXNzZXM6Y2xhc3NlcyxvcHRpb25zOm9wdGlvbnN9KSxjYWNoZS5wcm9taXNlPXJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSl7dmFyIHBhcmVudEVsZW1lbnQ9ZWxlbWVudC5wYXJlbnQoKSxlbGVtZW50Tm9kZT1leHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCkscGFyZW50Tm9kZT1lbGVtZW50Tm9kZS5wYXJlbnROb2RlO2lmKCFwYXJlbnROb2RlfHxwYXJlbnROb2RlLiQkTkdfUkVNT1ZFRHx8ZWxlbWVudE5vZGUuJCROR19SRU1PVkVEKXJldHVybiB2b2lkIGRvbmUoKTt2YXIgY2FjaGU9ZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZKTtlbGVtZW50LnJlbW92ZURhdGEoU1RPUkFHRV9LRVkpO3ZhciBzdGF0ZT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9TVEFURSl8fHt9LGNsYXNzZXM9cmVzb2x2ZUVsZW1lbnRDbGFzc2VzKGVsZW1lbnQsY2FjaGUsc3RhdGUuYWN0aXZlKTtyZXR1cm4gY2xhc3Nlcz9wZXJmb3JtQW5pbWF0aW9uKCJzZXRDbGFzcyIsY2xhc3NlcyxlbGVtZW50LHBhcmVudEVsZW1lbnQsbnVsbCxmdW5jdGlvbigpe2NsYXNzZXNbMF0mJiRkZWxlZ2F0ZS4kJGFkZENsYXNzSW1tZWRpYXRlbHkoZWxlbWVudCxjbGFzc2VzWzBdKSxjbGFzc2VzWzFdJiYkZGVsZWdhdGUuJCRyZW1vdmVDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsY2xhc3Nlc1sxXSl9LGNhY2hlLm9wdGlvbnMsZG9uZSk6ZG9uZSgpfSkpfSxjYW5jZWw6ZnVuY3Rpb24ocHJvbWlzZSl7cHJvbWlzZS4kJGNhbmNlbEZuKCl9LGVuYWJsZWQ6ZnVuY3Rpb24odmFsdWUsZWxlbWVudCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMjppZih2YWx1ZSljbGVhbnVwKGVsZW1lbnQpO2Vsc2V7dmFyIGRhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfU1RBVEUpfHx7fTtkYXRhLmRpc2FibGVkPSEwLGVsZW1lbnQuZGF0YShOR19BTklNQVRFX1NUQVRFLGRhdGEpfWJyZWFrO2Nhc2UgMTpyb290QW5pbWF0ZVN0YXRlLmRpc2FibGVkPSF2YWx1ZTticmVhaztkZWZhdWx0OnZhbHVlPSFyb290QW5pbWF0ZVN0YXRlLmRpc2FibGVkfXJldHVybiEhdmFsdWV9fX1dKSwkYW5pbWF0ZVByb3ZpZGVyLnJlZ2lzdGVyKCIiLFsiJHdpbmRvdyIsIiRzbmlmZmVyIiwiJHRpbWVvdXQiLCIkJGFuaW1hdGVSZWZsb3ciLGZ1bmN0aW9uKCR3aW5kb3csJHNuaWZmZXIsJHRpbWVvdXQsJCRhbmltYXRlUmVmbG93KXtmdW5jdGlvbiBjbGVhckNhY2hlQWZ0ZXJSZWZsb3coKXtjYW5jZWxBbmltYXRpb25SZWZsb3d8fChjYW5jZWxBbmltYXRpb25SZWZsb3c9JCRhbmltYXRlUmVmbG93KGZ1bmN0aW9uKCl7YW5pbWF0aW9uUmVmbG93UXVldWU9W10sY2FuY2VsQW5pbWF0aW9uUmVmbG93PW51bGwsbG9va3VwQ2FjaGU9e319KSl9ZnVuY3Rpb24gYWZ0ZXJSZWZsb3coZWxlbWVudCxjYWxsYmFjayl7Y2FuY2VsQW5pbWF0aW9uUmVmbG93JiZjYW5jZWxBbmltYXRpb25SZWZsb3coKSxhbmltYXRpb25SZWZsb3dRdWV1ZS5wdXNoKGNhbGxiYWNrKSxjYW5jZWxBbmltYXRpb25SZWZsb3c9JCRhbmltYXRlUmVmbG93KGZ1bmN0aW9uKCl7Zm9yRWFjaChhbmltYXRpb25SZWZsb3dRdWV1ZSxmdW5jdGlvbihmbil7Zm4oKX0pLGFuaW1hdGlvblJlZmxvd1F1ZXVlPVtdLGNhbmNlbEFuaW1hdGlvblJlZmxvdz1udWxsLGxvb2t1cENhY2hlPXt9fSl9ZnVuY3Rpb24gYW5pbWF0aW9uQ2xvc2VIYW5kbGVyKGVsZW1lbnQsdG90YWxUaW1lKXt2YXIgbm9kZT1leHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCk7ZWxlbWVudD1hbmd1bGFyLmVsZW1lbnQobm9kZSksYW5pbWF0aW9uRWxlbWVudFF1ZXVlLnB1c2goZWxlbWVudCk7dmFyIGZ1dHVyZVRpbWVzdGFtcD1EYXRlLm5vdygpK3RvdGFsVGltZTtjbG9zaW5nVGltZXN0YW1wPj1mdXR1cmVUaW1lc3RhbXB8fCgkdGltZW91dC5jYW5jZWwoY2xvc2luZ1RpbWVyKSxjbG9zaW5nVGltZXN0YW1wPWZ1dHVyZVRpbWVzdGFtcCxjbG9zaW5nVGltZXI9JHRpbWVvdXQoZnVuY3Rpb24oKXtjbG9zZUFsbEFuaW1hdGlvbnMoYW5pbWF0aW9uRWxlbWVudFF1ZXVlKSxhbmltYXRpb25FbGVtZW50UXVldWU9W119LHRvdGFsVGltZSwhMSkpfWZ1bmN0aW9uIGNsb3NlQWxsQW5pbWF0aW9ucyhlbGVtZW50cyl7Zm9yRWFjaChlbGVtZW50cyxmdW5jdGlvbihlbGVtZW50KXt2YXIgZWxlbWVudERhdGE9ZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKTtlbGVtZW50RGF0YSYmZm9yRWFjaChlbGVtZW50RGF0YS5jbG9zZUFuaW1hdGlvbkZucyxmdW5jdGlvbihmbil7Zm4oKX0pfSl9ZnVuY3Rpb24gZ2V0RWxlbWVudEFuaW1hdGlvbkRldGFpbHMoZWxlbWVudCxjYWNoZUtleSl7dmFyIGRhdGE9Y2FjaGVLZXk/bG9va3VwQ2FjaGVbY2FjaGVLZXldOm51bGw7aWYoIWRhdGEpe3ZhciB0cmFuc2l0aW9uRHVyYXRpb249MCx0cmFuc2l0aW9uRGVsYXk9MCxhbmltYXRpb25EdXJhdGlvbj0wLGFuaW1hdGlvbkRlbGF5PTA7Zm9yRWFjaChlbGVtZW50LGZ1bmN0aW9uKGVsZW1lbnQpe2lmKGVsZW1lbnQubm9kZVR5cGU9PUVMRU1FTlRfTk9ERSl7dmFyIGVsZW1lbnRTdHlsZXM9JHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpfHx7fSx0cmFuc2l0aW9uRHVyYXRpb25TdHlsZT1lbGVtZW50U3R5bGVzW1RSQU5TSVRJT05fUFJPUCtEVVJBVElPTl9LRVldO3RyYW5zaXRpb25EdXJhdGlvbj1NYXRoLm1heChwYXJzZU1heFRpbWUodHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUpLHRyYW5zaXRpb25EdXJhdGlvbik7dmFyIHRyYW5zaXRpb25EZWxheVN0eWxlPWVsZW1lbnRTdHlsZXNbVFJBTlNJVElPTl9QUk9QK0RFTEFZX0tFWV07dHJhbnNpdGlvbkRlbGF5PU1hdGgubWF4KHBhcnNlTWF4VGltZSh0cmFuc2l0aW9uRGVsYXlTdHlsZSksdHJhbnNpdGlvbkRlbGF5KTt7ZWxlbWVudFN0eWxlc1tBTklNQVRJT05fUFJPUCtERUxBWV9LRVldfWFuaW1hdGlvbkRlbGF5PU1hdGgubWF4KHBhcnNlTWF4VGltZShlbGVtZW50U3R5bGVzW0FOSU1BVElPTl9QUk9QK0RFTEFZX0tFWV0pLGFuaW1hdGlvbkRlbGF5KTt2YXIgYUR1cmF0aW9uPXBhcnNlTWF4VGltZShlbGVtZW50U3R5bGVzW0FOSU1BVElPTl9QUk9QK0RVUkFUSU9OX0tFWV0pO2FEdXJhdGlvbj4wJiYoYUR1cmF0aW9uKj1wYXJzZUludChlbGVtZW50U3R5bGVzW0FOSU1BVElPTl9QUk9QK0FOSU1BVElPTl9JVEVSQVRJT05fQ09VTlRfS0VZXSwxMCl8fDEpLGFuaW1hdGlvbkR1cmF0aW9uPU1hdGgubWF4KGFEdXJhdGlvbixhbmltYXRpb25EdXJhdGlvbil9fSksZGF0YT17dG90YWw6MCx0cmFuc2l0aW9uRGVsYXk6dHJhbnNpdGlvbkRlbGF5LHRyYW5zaXRpb25EdXJhdGlvbjp0cmFuc2l0aW9uRHVyYXRpb24sYW5pbWF0aW9uRGVsYXk6YW5pbWF0aW9uRGVsYXksYW5pbWF0aW9uRHVyYXRpb246YW5pbWF0aW9uRHVyYXRpb259LGNhY2hlS2V5JiYobG9va3VwQ2FjaGVbY2FjaGVLZXldPWRhdGEpfXJldHVybiBkYXRhfWZ1bmN0aW9uIHBhcnNlTWF4VGltZShzdHIpe3ZhciBtYXhWYWx1ZT0wLHZhbHVlcz1pc1N0cmluZyhzdHIpP3N0ci5zcGxpdCgvXHMqLFxzKi8pOltdO3JldHVybiBmb3JFYWNoKHZhbHVlcyxmdW5jdGlvbih2YWx1ZSl7bWF4VmFsdWU9TWF0aC5tYXgocGFyc2VGbG9hdCh2YWx1ZSl8fDAsbWF4VmFsdWUpfSksbWF4VmFsdWV9ZnVuY3Rpb24gZ2V0Q2FjaGVLZXkoZWxlbWVudCl7dmFyIHBhcmVudEVsZW1lbnQ9ZWxlbWVudC5wYXJlbnQoKSxwYXJlbnRJRD1wYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9QQVJFTlRfS0VZKTtyZXR1cm4gcGFyZW50SUR8fChwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9QQVJFTlRfS0VZLCsrcGFyZW50Q291bnRlcikscGFyZW50SUQ9cGFyZW50Q291bnRlcikscGFyZW50SUQrIi0iK2V4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KS5nZXRBdHRyaWJ1dGUoImNsYXNzIil9ZnVuY3Rpb24gYW5pbWF0ZVNldHVwKGFuaW1hdGlvbkV2ZW50LGVsZW1lbnQsY2xhc3NOYW1lLHN0eWxlcyl7dmFyIHN0cnVjdHVyYWw9WyJuZy1lbnRlciIsIm5nLWxlYXZlIiwibmctbW92ZSJdLmluZGV4T2YoY2xhc3NOYW1lKT49MCxjYWNoZUtleT1nZXRDYWNoZUtleShlbGVtZW50KSxldmVudENhY2hlS2V5PWNhY2hlS2V5KyIgIitjbGFzc05hbWUsaXRlbUluZGV4PWxvb2t1cENhY2hlW2V2ZW50Q2FjaGVLZXldPysrbG9va3VwQ2FjaGVbZXZlbnRDYWNoZUtleV0udG90YWw6MCxzdGFnZ2VyPXt9O2lmKGl0ZW1JbmRleD4wKXt2YXIgc3RhZ2dlckNsYXNzTmFtZT1jbGFzc05hbWUrIi1zdGFnZ2VyIixzdGFnZ2VyQ2FjaGVLZXk9Y2FjaGVLZXkrIiAiK3N0YWdnZXJDbGFzc05hbWUsYXBwbHlDbGFzc2VzPSFsb29rdXBDYWNoZVtzdGFnZ2VyQ2FjaGVLZXldO2FwcGx5Q2xhc3NlcyYmZWxlbWVudC5hZGRDbGFzcyhzdGFnZ2VyQ2xhc3NOYW1lKSxzdGFnZ2VyPWdldEVsZW1lbnRBbmltYXRpb25EZXRhaWxzKGVsZW1lbnQsc3RhZ2dlckNhY2hlS2V5KSxhcHBseUNsYXNzZXMmJmVsZW1lbnQucmVtb3ZlQ2xhc3Moc3RhZ2dlckNsYXNzTmFtZSl9ZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO3ZhciBmb3JtZXJEYXRhPWVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSl8fHt9LHRpbWluZ3M9Z2V0RWxlbWVudEFuaW1hdGlvbkRldGFpbHMoZWxlbWVudCxldmVudENhY2hlS2V5KSx0cmFuc2l0aW9uRHVyYXRpb249dGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24sYW5pbWF0aW9uRHVyYXRpb249dGltaW5ncy5hbmltYXRpb25EdXJhdGlvbjtpZihzdHJ1Y3R1cmFsJiYwPT09dHJhbnNpdGlvbkR1cmF0aW9uJiYwPT09YW5pbWF0aW9uRHVyYXRpb24pcmV0dXJuIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKSwhMTt2YXIgYmxvY2tUcmFuc2l0aW9uPXN0eWxlc3x8c3RydWN0dXJhbCYmdHJhbnNpdGlvbkR1cmF0aW9uPjAsYmxvY2tBbmltYXRpb249YW5pbWF0aW9uRHVyYXRpb24+MCYmc3RhZ2dlci5hbmltYXRpb25EZWxheT4wJiYwPT09c3RhZ2dlci5hbmltYXRpb25EdXJhdGlvbixjbG9zZUFuaW1hdGlvbkZucz1mb3JtZXJEYXRhLmNsb3NlQW5pbWF0aW9uRm5zfHxbXTtlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DU1NfREFUQV9LRVkse3N0YWdnZXI6c3RhZ2dlcixjYWNoZUtleTpldmVudENhY2hlS2V5LHJ1bm5pbmc6Zm9ybWVyRGF0YS5ydW5uaW5nfHwwLGl0ZW1JbmRleDppdGVtSW5kZXgsYmxvY2tUcmFuc2l0aW9uOmJsb2NrVHJhbnNpdGlvbixjbG9zZUFuaW1hdGlvbkZuczpjbG9zZUFuaW1hdGlvbkZuc30pO3ZhciBub2RlPWV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtyZXR1cm4gYmxvY2tUcmFuc2l0aW9uJiYoYmxvY2tUcmFuc2l0aW9ucyhub2RlLCEwKSxzdHlsZXMmJmVsZW1lbnQuY3NzKHN0eWxlcykpLGJsb2NrQW5pbWF0aW9uJiZibG9ja0FuaW1hdGlvbnMobm9kZSwhMCksITB9ZnVuY3Rpb24gYW5pbWF0ZVJ1bihhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxhY3RpdmVBbmltYXRpb25Db21wbGV0ZSxzdHlsZXMpe2Z1bmN0aW9uIG9uRW5kKCl7ZWxlbWVudC5vZmYoY3NzM0FuaW1hdGlvbkV2ZW50cyxvbkFuaW1hdGlvblByb2dyZXNzKSxlbGVtZW50LnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzTmFtZSksZWxlbWVudC5yZW1vdmVDbGFzcyhwZW5kaW5nQ2xhc3NOYW1lKSxzdGFnZ2VyVGltZW91dCYmJHRpbWVvdXQuY2FuY2VsKHN0YWdnZXJUaW1lb3V0KSxhbmltYXRlQ2xvc2UoZWxlbWVudCxjbGFzc05hbWUpO3ZhciBub2RlPWV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KTtmb3IodmFyIGkgaW4gYXBwbGllZFN0eWxlcylub2RlLnN0eWxlLnJlbW92ZVByb3BlcnR5KGFwcGxpZWRTdHlsZXNbaV0pfWZ1bmN0aW9uIG9uQW5pbWF0aW9uUHJvZ3Jlc3MoZXZlbnQpe2V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO3ZhciBldj1ldmVudC5vcmlnaW5hbEV2ZW50fHxldmVudCx0aW1lU3RhbXA9ZXYuJG1hbnVhbFRpbWVTdGFtcHx8ZXYudGltZVN0YW1wfHxEYXRlLm5vdygpLGVsYXBzZWRUaW1lPXBhcnNlRmxvYXQoZXYuZWxhcHNlZFRpbWUudG9GaXhlZChFTEFQU0VEX1RJTUVfTUFYX0RFQ0lNQUxfUExBQ0VTKSk7TWF0aC5tYXgodGltZVN0YW1wLXN0YXJ0VGltZSwwKT49bWF4RGVsYXlUaW1lJiZlbGFwc2VkVGltZT49bWF4RHVyYXRpb24mJmFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlKCl9dmFyIG5vZGU9ZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpLGVsZW1lbnREYXRhPWVsZW1lbnQuZGF0YShOR19BTklNQVRFX0NTU19EQVRBX0tFWSk7aWYoLTE9PW5vZGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpLmluZGV4T2YoY2xhc3NOYW1lKXx8IWVsZW1lbnREYXRhKXJldHVybiB2b2lkIGFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlKCk7dmFyIGFjdGl2ZUNsYXNzTmFtZT0iIixwZW5kaW5nQ2xhc3NOYW1lPSIiO2ZvckVhY2goY2xhc3NOYW1lLnNwbGl0KCIgIiksZnVuY3Rpb24oa2xhc3MsaSl7dmFyIHByZWZpeD0oaT4wPyIgIjoiIikra2xhc3M7YWN0aXZlQ2xhc3NOYW1lKz1wcmVmaXgrIi1hY3RpdmUiLHBlbmRpbmdDbGFzc05hbWUrPXByZWZpeCsiLXBlbmRpbmcifSk7dmFyIHN0eWxlPSIiLGFwcGxpZWRTdHlsZXM9W10saXRlbUluZGV4PWVsZW1lbnREYXRhLml0ZW1JbmRleCxzdGFnZ2VyPWVsZW1lbnREYXRhLnN0YWdnZXIsc3RhZ2dlclRpbWU9MDtpZihpdGVtSW5kZXg+MCl7dmFyIHRyYW5zaXRpb25TdGFnZ2VyRGVsYXk9MDtzdGFnZ2VyLnRyYW5zaXRpb25EZWxheT4wJiYwPT09c3RhZ2dlci50cmFuc2l0aW9uRHVyYXRpb24mJih0cmFuc2l0aW9uU3RhZ2dlckRlbGF5PXN0YWdnZXIudHJhbnNpdGlvbkRlbGF5Kml0ZW1JbmRleCk7dmFyIGFuaW1hdGlvblN0YWdnZXJEZWxheT0wO3N0YWdnZXIuYW5pbWF0aW9uRGVsYXk+MCYmMD09PXN0YWdnZXIuYW5pbWF0aW9uRHVyYXRpb24mJihhbmltYXRpb25TdGFnZ2VyRGVsYXk9c3RhZ2dlci5hbmltYXRpb25EZWxheSppdGVtSW5kZXgsYXBwbGllZFN0eWxlcy5wdXNoKENTU19QUkVGSVgrImFuaW1hdGlvbi1wbGF5LXN0YXRlIikpLHN0YWdnZXJUaW1lPU1hdGgucm91bmQoMTAwKk1hdGgubWF4KHRyYW5zaXRpb25TdGFnZ2VyRGVsYXksYW5pbWF0aW9uU3RhZ2dlckRlbGF5KSkvMTAwfXN0YWdnZXJUaW1lfHwoZWxlbWVudC5hZGRDbGFzcyhhY3RpdmVDbGFzc05hbWUpLGVsZW1lbnREYXRhLmJsb2NrVHJhbnNpdGlvbiYmYmxvY2tUcmFuc2l0aW9ucyhub2RlLCExKSk7dmFyIGV2ZW50Q2FjaGVLZXk9ZWxlbWVudERhdGEuY2FjaGVLZXkrIiAiK2FjdGl2ZUNsYXNzTmFtZSx0aW1pbmdzPWdldEVsZW1lbnRBbmltYXRpb25EZXRhaWxzKGVsZW1lbnQsZXZlbnRDYWNoZUtleSksbWF4RHVyYXRpb249TWF0aC5tYXgodGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24sdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbik7aWYoMD09PW1heER1cmF0aW9uKXJldHVybiBlbGVtZW50LnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzTmFtZSksYW5pbWF0ZUNsb3NlKGVsZW1lbnQsY2xhc3NOYW1lKSx2b2lkIGFjdGl2ZUFuaW1hdGlvbkNvbXBsZXRlKCk7IXN0YWdnZXJUaW1lJiZzdHlsZXMmJih0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbnx8KGVsZW1lbnQuY3NzKCJ0cmFuc2l0aW9uIix0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uKyJzIGxpbmVhciBhbGwiKSxhcHBsaWVkU3R5bGVzLnB1c2goInRyYW5zaXRpb24iKSksZWxlbWVudC5jc3Moc3R5bGVzKSk7dmFyIG1heERlbGF5PU1hdGgubWF4KHRpbWluZ3MudHJhbnNpdGlvbkRlbGF5LHRpbWluZ3MuYW5pbWF0aW9uRGVsYXkpLG1heERlbGF5VGltZT1tYXhEZWxheSpPTkVfU0VDT05EO2lmKGFwcGxpZWRTdHlsZXMubGVuZ3RoPjApe3ZhciBvbGRTdHlsZT1ub2RlLmdldEF0dHJpYnV0ZSgic3R5bGUiKXx8IiI7IjsiIT09b2xkU3R5bGUuY2hhckF0KG9sZFN0eWxlLmxlbmd0aC0xKSYmKG9sZFN0eWxlKz0iOyIpLG5vZGUuc2V0QXR0cmlidXRlKCJzdHlsZSIsb2xkU3R5bGUrIiAiK3N0eWxlKX12YXIgc3RhZ2dlclRpbWVvdXQsc3RhcnRUaW1lPURhdGUubm93KCksY3NzM0FuaW1hdGlvbkV2ZW50cz1BTklNQVRJT05FTkRfRVZFTlQrIiAiK1RSQU5TSVRJT05FTkRfRVZFTlQsYW5pbWF0aW9uVGltZT0obWF4RGVsYXkrbWF4RHVyYXRpb24pKkNMT1NJTkdfVElNRV9CVUZGRVIsdG90YWxUaW1lPShzdGFnZ2VyVGltZSthbmltYXRpb25UaW1lKSpPTkVfU0VDT05EO3JldHVybiBzdGFnZ2VyVGltZT4wJiYoZWxlbWVudC5hZGRDbGFzcyhwZW5kaW5nQ2xhc3NOYW1lKSxzdGFnZ2VyVGltZW91dD0kdGltZW91dChmdW5jdGlvbigpe3N0YWdnZXJUaW1lb3V0PW51bGwsdGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24+MCYmYmxvY2tUcmFuc2l0aW9ucyhub2RlLCExKSx0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uPjAmJmJsb2NrQW5pbWF0aW9ucyhub2RlLCExKSxlbGVtZW50LmFkZENsYXNzKGFjdGl2ZUNsYXNzTmFtZSksZWxlbWVudC5yZW1vdmVDbGFzcyhwZW5kaW5nQ2xhc3NOYW1lKSxzdHlsZXMmJigwPT09dGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24mJmVsZW1lbnQuY3NzKCJ0cmFuc2l0aW9uIix0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uKyJzIGxpbmVhciBhbGwiKSxlbGVtZW50LmNzcyhzdHlsZXMpLGFwcGxpZWRTdHlsZXMucHVzaCgidHJhbnNpdGlvbiIpKX0sc3RhZ2dlclRpbWUqT05FX1NFQ09ORCwhMSkpLGVsZW1lbnQub24oY3NzM0FuaW1hdGlvbkV2ZW50cyxvbkFuaW1hdGlvblByb2dyZXNzKSxlbGVtZW50RGF0YS5jbG9zZUFuaW1hdGlvbkZucy5wdXNoKGZ1bmN0aW9uKCl7b25FbmQoKSxhY3RpdmVBbmltYXRpb25Db21wbGV0ZSgpfSksZWxlbWVudERhdGEucnVubmluZysrLGFuaW1hdGlvbkNsb3NlSGFuZGxlcihlbGVtZW50LHRvdGFsVGltZSksb25FbmR9ZnVuY3Rpb24gYmxvY2tUcmFuc2l0aW9ucyhub2RlLGJvb2wpe25vZGUuc3R5bGVbVFJBTlNJVElPTl9QUk9QK1BST1BFUlRZX0tFWV09Ym9vbD8ibm9uZSI6IiJ9ZnVuY3Rpb24gYmxvY2tBbmltYXRpb25zKG5vZGUsYm9vbCl7bm9kZS5zdHlsZVtBTklNQVRJT05fUFJPUCtBTklNQVRJT05fUExBWVNUQVRFX0tFWV09Ym9vbD8icGF1c2VkIjoiIn1mdW5jdGlvbiBhbmltYXRlQmVmb3JlKGFuaW1hdGlvbkV2ZW50LGVsZW1lbnQsY2xhc3NOYW1lLHN0eWxlcyl7cmV0dXJuIGFuaW1hdGVTZXR1cChhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxzdHlsZXMpP2Z1bmN0aW9uKGNhbmNlbGxlZCl7Y2FuY2VsbGVkJiZhbmltYXRlQ2xvc2UoZWxlbWVudCxjbGFzc05hbWUpfTp2b2lkIDB9ZnVuY3Rpb24gYW5pbWF0ZUFmdGVyKGFuaW1hdGlvbkV2ZW50LGVsZW1lbnQsY2xhc3NOYW1lLGFmdGVyQW5pbWF0aW9uQ29tcGxldGUsc3R5bGVzKXtyZXR1cm4gZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKT9hbmltYXRlUnVuKGFuaW1hdGlvbkV2ZW50LGVsZW1lbnQsY2xhc3NOYW1lLGFmdGVyQW5pbWF0aW9uQ29tcGxldGUsc3R5bGVzKTooYW5pbWF0ZUNsb3NlKGVsZW1lbnQsY2xhc3NOYW1lKSx2b2lkIGFmdGVyQW5pbWF0aW9uQ29tcGxldGUoKSl9ZnVuY3Rpb24gYW5pbWF0ZShhbmltYXRpb25FdmVudCxlbGVtZW50LGNsYXNzTmFtZSxhbmltYXRpb25Db21wbGV0ZSxvcHRpb25zKXt2YXIgcHJlUmVmbG93Q2FuY2VsbGF0aW9uPWFuaW1hdGVCZWZvcmUoYW5pbWF0aW9uRXZlbnQsZWxlbWVudCxjbGFzc05hbWUsb3B0aW9ucy5mcm9tKTtpZighcHJlUmVmbG93Q2FuY2VsbGF0aW9uKXJldHVybiBjbGVhckNhY2hlQWZ0ZXJSZWZsb3coKSx2b2lkIGFuaW1hdGlvbkNvbXBsZXRlKCk7dmFyIGNhbmNlbD1wcmVSZWZsb3dDYW5jZWxsYXRpb247cmV0dXJuIGFmdGVyUmVmbG93KGVsZW1lbnQsZnVuY3Rpb24oKXtjYW5jZWw9YW5pbWF0ZUFmdGVyKGFuaW1hdGlvbkV2ZW50LGVsZW1lbnQsY2xhc3NOYW1lLGFuaW1hdGlvbkNvbXBsZXRlLG9wdGlvbnMudG8pfSksZnVuY3Rpb24oY2FuY2VsbGVkKXsoY2FuY2VsfHxub29wKShjYW5jZWxsZWQpfX1mdW5jdGlvbiBhbmltYXRlQ2xvc2UoZWxlbWVudCxjbGFzc05hbWUpe2VsZW1lbnQucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTt2YXIgZGF0YT1lbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DU1NfREFUQV9LRVkpO2RhdGEmJihkYXRhLnJ1bm5pbmcmJmRhdGEucnVubmluZy0tLGRhdGEucnVubmluZyYmMCE9PWRhdGEucnVubmluZ3x8ZWxlbWVudC5yZW1vdmVEYXRhKE5HX0FOSU1BVEVfQ1NTX0RBVEFfS0VZKSl9ZnVuY3Rpb24gc3VmZml4Q2xhc3NlcyhjbGFzc2VzLHN1ZmZpeCl7dmFyIGNsYXNzTmFtZT0iIjtyZXR1cm4gY2xhc3Nlcz1pc0FycmF5KGNsYXNzZXMpP2NsYXNzZXM6Y2xhc3Nlcy5zcGxpdCgvXHMrLyksZm9yRWFjaChjbGFzc2VzLGZ1bmN0aW9uKGtsYXNzLGkpe2tsYXNzJiZrbGFzcy5sZW5ndGg+MCYmKGNsYXNzTmFtZSs9KGk+MD8iICI6IiIpK2tsYXNzK3N1ZmZpeCl9KSxjbGFzc05hbWV9dmFyIFRSQU5TSVRJT05fUFJPUCxUUkFOU0lUSU9ORU5EX0VWRU5ULEFOSU1BVElPTl9QUk9QLEFOSU1BVElPTkVORF9FVkVOVCxDU1NfUFJFRklYPSIiO3dpbmRvdy5vbnRyYW5zaXRpb25lbmQ9PT11bmRlZmluZWQmJndpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQhPT11bmRlZmluZWQ/KENTU19QUkVGSVg9Ii13ZWJraXQtIixUUkFOU0lUSU9OX1BST1A9IldlYmtpdFRyYW5zaXRpb24iLFRSQU5TSVRJT05FTkRfRVZFTlQ9IndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZCIpOihUUkFOU0lUSU9OX1BST1A9InRyYW5zaXRpb24iLFRSQU5TSVRJT05FTkRfRVZFTlQ9InRyYW5zaXRpb25lbmQiKSx3aW5kb3cub25hbmltYXRpb25lbmQ9PT11bmRlZmluZWQmJndpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZCE9PXVuZGVmaW5lZD8oQ1NTX1BSRUZJWD0iLXdlYmtpdC0iLEFOSU1BVElPTl9QUk9QPSJXZWJraXRBbmltYXRpb24iLEFOSU1BVElPTkVORF9FVkVOVD0id2Via2l0QW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZCIpOihBTklNQVRJT05fUFJPUD0iYW5pbWF0aW9uIixBTklNQVRJT05FTkRfRVZFTlQ9ImFuaW1hdGlvbmVuZCIpO3ZhciBjYW5jZWxBbmltYXRpb25SZWZsb3csRFVSQVRJT05fS0VZPSJEdXJhdGlvbiIsUFJPUEVSVFlfS0VZPSJQcm9wZXJ0eSIsREVMQVlfS0VZPSJEZWxheSIsQU5JTUFUSU9OX0lURVJBVElPTl9DT1VOVF9LRVk9Ikl0ZXJhdGlvbkNvdW50IixBTklNQVRJT05fUExBWVNUQVRFX0tFWT0iUGxheVN0YXRlIixOR19BTklNQVRFX1BBUkVOVF9LRVk9IiQkbmdBbmltYXRlS2V5IixOR19BTklNQVRFX0NTU19EQVRBX0tFWT0iJCRuZ0FuaW1hdGVDU1MzRGF0YSIsRUxBUFNFRF9USU1FX01BWF9ERUNJTUFMX1BMQUNFUz0zLENMT1NJTkdfVElNRV9CVUZGRVI9MS41LE9ORV9TRUNPTkQ9MWUzLGxvb2t1cENhY2hlPXt9LHBhcmVudENvdW50ZXI9MCxhbmltYXRpb25SZWZsb3dRdWV1ZT1bXSxjbG9zaW5nVGltZXI9bnVsbCxjbG9zaW5nVGltZXN0YW1wPTAsYW5pbWF0aW9uRWxlbWVudFF1ZXVlPVtdO3JldHVybnthbmltYXRlOmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLGZyb20sdG8sYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe3JldHVybiBvcHRpb25zPW9wdGlvbnN8fHt9LG9wdGlvbnMuZnJvbT1mcm9tLG9wdGlvbnMudG89dG8sYW5pbWF0ZSgiYW5pbWF0ZSIsZWxlbWVudCxjbGFzc05hbWUsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpfSxlbnRlcjpmdW5jdGlvbihlbGVtZW50LGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKXtyZXR1cm4gb3B0aW9ucz1vcHRpb25zfHx7fSxhbmltYXRlKCJlbnRlciIsZWxlbWVudCwibmctZW50ZXIiLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKX0sbGVhdmU6ZnVuY3Rpb24oZWxlbWVudCxhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucyl7cmV0dXJuIG9wdGlvbnM9b3B0aW9uc3x8e30sYW5pbWF0ZSgibGVhdmUiLGVsZW1lbnQsIm5nLWxlYXZlIixhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucyl9LG1vdmU6ZnVuY3Rpb24oZWxlbWVudCxhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucyl7cmV0dXJuIG9wdGlvbnM9b3B0aW9uc3x8e30sYW5pbWF0ZSgibW92ZSIsZWxlbWVudCwibmctbW92ZSIsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpfSxiZWZvcmVTZXRDbGFzczpmdW5jdGlvbihlbGVtZW50LGFkZCxyZW1vdmUsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307dmFyIGNsYXNzTmFtZT1zdWZmaXhDbGFzc2VzKHJlbW92ZSwiLXJlbW92ZSIpKyIgIitzdWZmaXhDbGFzc2VzKGFkZCwiLWFkZCIpLGNhbmNlbGxhdGlvbk1ldGhvZD1hbmltYXRlQmVmb3JlKCJzZXRDbGFzcyIsZWxlbWVudCxjbGFzc05hbWUsb3B0aW9ucy5mcm9tKTtyZXR1cm4gY2FuY2VsbGF0aW9uTWV0aG9kPyhhZnRlclJlZmxvdyhlbGVtZW50LGFuaW1hdGlvbkNvbXBsZXRlZCksY2FuY2VsbGF0aW9uTWV0aG9kKTooY2xlYXJDYWNoZUFmdGVyUmVmbG93KCksdm9pZCBhbmltYXRpb25Db21wbGV0ZWQoKSl9LGJlZm9yZUFkZENsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBjYW5jZWxsYXRpb25NZXRob2Q9YW5pbWF0ZUJlZm9yZSgiYWRkQ2xhc3MiLGVsZW1lbnQsc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsIi1hZGQiKSxvcHRpb25zLmZyb20pO3JldHVybiBjYW5jZWxsYXRpb25NZXRob2Q/KGFmdGVyUmVmbG93KGVsZW1lbnQsYW5pbWF0aW9uQ29tcGxldGVkKSxjYW5jZWxsYXRpb25NZXRob2QpOihjbGVhckNhY2hlQWZ0ZXJSZWZsb3coKSx2b2lkIGFuaW1hdGlvbkNvbXBsZXRlZCgpKX0sYmVmb3JlUmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307dmFyIGNhbmNlbGxhdGlvbk1ldGhvZD1hbmltYXRlQmVmb3JlKCJyZW1vdmVDbGFzcyIsZWxlbWVudCxzdWZmaXhDbGFzc2VzKGNsYXNzTmFtZSwiLXJlbW92ZSIpLG9wdGlvbnMuZnJvbSk7cmV0dXJuIGNhbmNlbGxhdGlvbk1ldGhvZD8oYWZ0ZXJSZWZsb3coZWxlbWVudCxhbmltYXRpb25Db21wbGV0ZWQpLGNhbmNlbGxhdGlvbk1ldGhvZCk6KGNsZWFyQ2FjaGVBZnRlclJlZmxvdygpLHZvaWQgYW5pbWF0aW9uQ29tcGxldGVkKCkpfSxzZXRDbGFzczpmdW5jdGlvbihlbGVtZW50LGFkZCxyZW1vdmUsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e30scmVtb3ZlPXN1ZmZpeENsYXNzZXMocmVtb3ZlLCItcmVtb3ZlIiksYWRkPXN1ZmZpeENsYXNzZXMoYWRkLCItYWRkIik7dmFyIGNsYXNzTmFtZT1yZW1vdmUrIiAiK2FkZDtyZXR1cm4gYW5pbWF0ZUFmdGVyKCJzZXRDbGFzcyIsZWxlbWVudCxjbGFzc05hbWUsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMudG8pfSxhZGRDbGFzczpmdW5jdGlvbihlbGVtZW50LGNsYXNzTmFtZSxhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucyl7cmV0dXJuIG9wdGlvbnM9b3B0aW9uc3x8e30sYW5pbWF0ZUFmdGVyKCJhZGRDbGFzcyIsZWxlbWVudCxzdWZmaXhDbGFzc2VzKGNsYXNzTmFtZSwiLWFkZCIpLGFuaW1hdGlvbkNvbXBsZXRlZCxvcHRpb25zLnRvKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsYW5pbWF0aW9uQ29tcGxldGVkLG9wdGlvbnMpe3JldHVybiBvcHRpb25zPW9wdGlvbnN8fHt9LGFuaW1hdGVBZnRlcigicmVtb3ZlQ2xhc3MiLGVsZW1lbnQsc3VmZml4Q2xhc3NlcyhjbGFzc05hbWUsIi1yZW1vdmUiKSxhbmltYXRpb25Db21wbGV0ZWQsb3B0aW9ucy50byl9fX1dKX1dKX0od2luZG93LHdpbmRvdy5hbmd1bGFyKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVuZG9yLm1pbi5qcy5tYXA=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 21:21:47 GMT",
                    "Content-Length": "1010495",
                    "Date": "Fri, 07 Nov 2014 21:21:47 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
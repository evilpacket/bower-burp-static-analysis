{
    "url": "http://localhost:9999/yjx3097890/jquery-mobile-dist/jquery.mobile.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>location.pathname</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>e[0 ] .href= g|| location.pathname</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/yjx3097890/jquery-mobile-dist/jquery.mobile.min.js",
                "path": "/yjx3097890/jquery-mobile-dist/jquery.mobile.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC95angzMDk3ODkwL2pxdWVyeS1tb2JpbGUtZGlzdC9qcXVlcnkubW9iaWxlLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTk3NDE1DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ5OjI3IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwNjo0OToyNSBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgMS41LjAtcHJlIHwgR2l0IEhFQURoYXNoOiAzOWNiMjBmIDw+IDIwMTQtMDktMDRUMDE6NDE6MzZaIHwgKGMpIDIwMTAsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KCiFmdW5jdGlvbihhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihkKXtyZXR1cm4gYyhkLGEsYiksZC5tb2JpbGV9KTpjKGEualF1ZXJ5LGEsYil9KHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihhKXthLm1vYmlsZT17fX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246IjEuNS4wLXByZSIsc3ViUGFnZVVybEtleToidWktcGFnZSIsaGlkZVVybEJhcjohMCxrZWVwTmF0aXZlOiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazowLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6ImEiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ITEsYXV0b0luaXRpYWxpemVQYWdlOiEwLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsaWdub3JlQ29udGVudEVuYWJsZWQ6ITEsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sZHluYW1pY0Jhc2VFbmFibGVkOiEwLHBhZ2VDb250YWluZXI6YSgpLGFsbG93Q3Jvc3NEb21haW5QYWdlczohMSxkaWFsb2dIYXNoS2V5OiImdWktc3RhdGU9ZGlhbG9nIn0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fSxlPWEuZmluZCxmPS8oPzpce1tcc1xTXSpcfXxcW1tcc1xTXSpcXSkkLyxnPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5leHRlbmQoYS5tb2JpbGUse25zOiIiLGdldEF0dHJpYnV0ZTpmdW5jdGlvbihiLGMpe3ZhciBkO2I9Yi5qcXVlcnk/YlswXTpiLGImJmIuZ2V0QXR0cmlidXRlJiYoZD1iLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpKTt0cnl7ZD0idHJ1ZSI9PT1kPyEwOiJmYWxzZSI9PT1kPyExOiJudWxsIj09PWQ/bnVsbDorZCsiIj09PWQ/K2Q6Zi50ZXN0KGQpP0pTT04ucGFyc2UoZCk6ZH1jYXRjaChlKXt9cmV0dXJuIGR9LG5zTm9ybWFsaXplRGljdDpkLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe3JldHVybiBkW2JdfHwoZFtiXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytiKSl9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZGF0YSgibW9iaWxlLXBhZ2UiKX19KSxhLmZuLmpxbURhdGE9ZnVuY3Rpb24oYixkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksZT1hcmd1bWVudHMubGVuZ3RoPDJ8fGQ9PT1jP3RoaXMuZGF0YShiKTp0aGlzLmRhdGEoYixkKSksZX0sYS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGMmJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSksZX0sYS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfSxhLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfSxhLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZil7cmV0dXJuIGIuaW5kZXhPZigiOmpxbURhdGEiKT4tMSYmKGI9Yi5yZXBsYWNlKGcsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpKSxlLmNhbGwodGhpcyxiLGMsZCxmKX0sYS5leHRlbmQoYS5maW5kLGUpfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChiLGMpe3ZhciBkLGYsZyxoPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1oPyhkPWIucGFyZW50Tm9kZSxmPWQubmFtZSxiLmhyZWYmJmYmJiJtYXAiPT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhnPWEoImltZ1t1c2VtYXA9IyIrZisiXSIpWzBdLCEhZyYmZShnKSk6ITEpOigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoaCk/IWIuZGlzYWJsZWQ6ImEiPT09aD9iLmhyZWZ8fGM6YykmJmUoYil9ZnVuY3Rpb24gZShiKXtyZXR1cm4gYS5leHByLmZpbHRlcnMudmlzaWJsZShiKSYmIWEoYikucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4iaGlkZGVuIj09PWEuY3NzKHRoaXMsInZpc2liaWxpdHkiKX0pLmxlbmd0aH12YXIgZj0wLGc9L151aS1pZC1cZCskLzthLnVpPWEudWl8fHt9LGEuZXh0ZW5kKGEudWkse3ZlcnNpb246ImMwYWI3MTA1NmI5MzY2MjdlOGE3ODIxZjAzYzA0NGFlYzYyODBhNDAiLGtleUNvZGU6e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fX0pLGEuZm4uZXh0ZW5kKHtmb2N1czpmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGM/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiKS5mb2N1cygpLGQmJmQuY2FsbChiKX0sYyl9KTpiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGEuZm4uZm9jdXMpLHNjcm9sbFBhcmVudDpmdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPWEudWkuaWUmJi8oc3RhdGljfHJlbGF0aXZlKS8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fC9hYnNvbHV0ZS8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSk/dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhyZWxhdGl2ZXxhYnNvbHV0ZXxmaXhlZCkvLnRlc3QoYS5jc3ModGhpcywicG9zaXRpb24iKSkmJi8oYXV0b3xzY3JvbGwpLy50ZXN0KGEuY3NzKHRoaXMsIm92ZXJmbG93IikrYS5jc3ModGhpcywib3ZlcmZsb3cteSIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXgiKSl9KS5lcSgwKTp0aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLCJvdmVyZmxvdyIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXkiKSthLmNzcyh0aGlzLCJvdmVyZmxvdy14IikpfSkuZXEoMCksL2ZpeGVkLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKXx8IWIubGVuZ3RoP2EodGhpc1swXS5vd25lckRvY3VtZW50fHxjKTpifSx1bmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytmKX0pfSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtnLnRlc3QodGhpcy5pZCkmJmEodGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pLGEuZXh0ZW5kKGEuZXhwclsiOiJdLHtkYXRhOmEuZXhwci5jcmVhdGVQc2V1ZG8/YS5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuISFhLmRhdGEoYyxiKX19KTpmdW5jdGlvbihiLGMsZCl7cmV0dXJuISFhLmRhdGEoYixkWzNdKX0sZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3JldHVybiBkKGIsIWlzTmFOKGEuYXR0cihiLCJ0YWJpbmRleCIpKSl9LHRhYmJhYmxlOmZ1bmN0aW9uKGIpe3ZhciBjPWEuYXR0cihiLCJ0YWJpbmRleCIpLGU9aXNOYU4oYyk7cmV0dXJuKGV8fGM+PTApJiZkKGIsIWUpfX0pLGEoIjxhPiIpLm91dGVyV2lkdGgoMSkuanF1ZXJ5fHxhLmVhY2goWyJXaWR0aCIsIkhlaWdodCJdLGZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gZShiLGMsZCxlKXtyZXR1cm4gYS5lYWNoKGYsZnVuY3Rpb24oKXtjLT1wYXJzZUZsb2F0KGEuY3NzKGIsInBhZGRpbmciK3RoaXMpKXx8MCxkJiYoYy09cGFyc2VGbG9hdChhLmNzcyhiLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwKSxlJiYoYy09cGFyc2VGbG9hdChhLmNzcyhiLCJtYXJnaW4iK3RoaXMpKXx8MCl9KSxjfXZhciBmPSJXaWR0aCI9PT1kP1siTGVmdCIsIlJpZ2h0Il06WyJUb3AiLCJCb3R0b20iXSxnPWQudG9Mb3dlckNhc2UoKSxoPXtpbm5lcldpZHRoOmEuZm4uaW5uZXJXaWR0aCxpbm5lckhlaWdodDphLmZuLmlubmVySGVpZ2h0LG91dGVyV2lkdGg6YS5mbi5vdXRlcldpZHRoLG91dGVySGVpZ2h0OmEuZm4ub3V0ZXJIZWlnaHR9O2EuZm5bImlubmVyIitkXT1mdW5jdGlvbihjKXtyZXR1cm4gYz09PWI/aFsiaW5uZXIiK2RdLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jc3MoZyxlKHRoaXMsYykrInB4Iil9KX0sYS5mblsib3V0ZXIiK2RdPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBiP2hbIm91dGVyIitkXS5jYWxsKHRoaXMsYik6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jc3MoZyxlKHRoaXMsYiwhMCxjKSsicHgiKX0pfX0pLGEuZm4uYWRkQmFja3x8KGEuZm4uYWRkQmFjaz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9KSxhKCI8YT4iKS5kYXRhKCJhLWIiLCJhIikucmVtb3ZlRGF0YSgiYS1iIikuZGF0YSgiYS1iIikmJihhLmZuLnJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuY2FsbCh0aGlzLGEuY2FtZWxDYXNlKGMpKTpiLmNhbGwodGhpcyl9fShhLmZuLnJlbW92ZURhdGEpKSxhLnVpLmllPSEhL21zaWUgW1x3Ll0rLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSksYS5zdXBwb3J0LnNlbGVjdHN0YXJ0PSJvbnNlbGVjdHN0YXJ0ImluIGMuY3JlYXRlRWxlbWVudCgiZGl2IiksYS5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaW5kKChhLnN1cHBvcnQuc2VsZWN0c3RhcnQ/InNlbGVjdHN0YXJ0IjoibW91c2Vkb3duIikrIi51aS1kaXNhYmxlU2VsZWN0aW9uIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KX0sZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5iaW5kKCIudWktZGlzYWJsZVNlbGVjdGlvbiIpfSx6SW5kZXg6ZnVuY3Rpb24oZCl7aWYoZCE9PWIpcmV0dXJuIHRoaXMuY3NzKCJ6SW5kZXgiLGQpO2lmKHRoaXMubGVuZ3RoKWZvcih2YXIgZSxmLGc9YSh0aGlzWzBdKTtnLmxlbmd0aCYmZ1swXSE9PWM7KXtpZihlPWcuY3NzKCJwb3NpdGlvbiIpLCgiYWJzb2x1dGUiPT09ZXx8InJlbGF0aXZlIj09PWV8fCJmaXhlZCI9PT1lKSYmKGY9cGFyc2VJbnQoZy5jc3MoInpJbmRleCIpLDEwKSwhaXNOYU4oZikmJjAhPT1mKSlyZXR1cm4gZjtnPWcucGFyZW50KCl9cmV0dXJuIDB9fSksYS51aS5wbHVnaW49e2FkZDpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj1hLnVpW2JdLnByb3RvdHlwZTtmb3IoZSBpbiBkKWYucGx1Z2luc1tlXT1mLnBsdWdpbnNbZV18fFtdLGYucGx1Z2luc1tlXS5wdXNoKFtjLGRbZV1dKX0sY2FsbDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEucGx1Z2luc1tiXTtpZihmJiYoZHx8YS5lbGVtZW50WzBdLnBhcmVudE5vZGUmJjExIT09YS5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGUpKWZvcihlPTA7ZTxmLmxlbmd0aDtlKyspYS5vcHRpb25zW2ZbZV1bMF1dJiZmW2VdWzFdLmFwcGx5KGEuZWxlbWVudCxjKX19fShhKSxmdW5jdGlvbihhLGIpe3ZhciBkPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5wYXJlbnQoKSxlPVtdLGY9ZC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKSxnPWIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIiksaD1kLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGk9Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKTtyZXR1cm4gMD09PWcubGVuZ3RoJiZmLmxlbmd0aD4wJiYoZT1lLmNvbmNhdChmLnRvQXJyYXkoKSkpLDA9PT1pLmxlbmd0aCYmaC5sZW5ndGg+MCYmKGU9ZS5jb25jYXQoaC50b0FycmF5KCkpKSxhLmVhY2goZSxmdW5jdGlvbihiLGQpe2MtPWEoZCkub3V0ZXJIZWlnaHQoKX0pLE1hdGgubWF4KDAsYyl9O2EuZXh0ZW5kKGEubW9iaWxlLHt3aW5kb3c6YShiKSxkb2N1bWVudDphKGMpLGtleUNvZGU6YS51aS5rZXlDb2RlLGJlaGF2aW9yczp7fSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYyl7Im51bWJlciIhPT1hLnR5cGUoYykmJihjPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLGMpLGEubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmN9KX0sMjApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sZ2V0Q2xvc2VzdEJhc2VVcmw6ZnVuY3Rpb24oYil7dmFyIGM9YShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGQ9YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaDtyZXR1cm4gYS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZjJiZhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9ZCksYS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYyxkKX0scmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpeyFhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua3x8YS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuY2xvc2VzdCgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiFifHxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbms9bnVsbH0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWFbMF0sZj0iIixnPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLztlJiYoYz1lLmNsYXNzTmFtZXx8IiIsIShjJiYoZD1nLmV4ZWMoYykpJiYoZj1kWzJdKSkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZnx8Ynx8ImEifSxlbmhhbmNlYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJlbmhhbmNlIil9LGhpamFja2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiYWpheCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbihiLGMpe2lmKCFhLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZClyZXR1cm4gYjt2YXIgZCxlLGYsZyxoLGk9Yi5sZW5ndGgsaj1hKCk7Zm9yKGc9MDtpPmc7ZysrKXtmb3IoZT1iLmVxKGcpLGY9ITEsZD1iW2ddO2Q7KXtpZihoPWQuZ2V0QXR0cmlidXRlP2QuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYyk6IiIsImZhbHNlIj09PWgpe2Y9ITA7YnJlYWt9ZD1kLnBhcmVudE5vZGV9Znx8KGo9ai5hZGQoZSkpfXJldHVybiBqfSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5pbm5lckhlaWdodHx8YS5tb2JpbGUud2luZG93LmhlaWdodCgpfSxyZXNldEFjdGl2ZVBhZ2VIZWlnaHQ6ZnVuY3Rpb24oYil7dmFyIGM9YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxlPWMuaGVpZ2h0KCksZj1jLm91dGVySGVpZ2h0KCEwKTtiPWQoYywibnVtYmVyIj09dHlwZW9mIGI/YjphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSksYy5jc3MoIm1pbi1oZWlnaHQiLCIiKSxjLmhlaWdodCgpPGImJmMuY3NzKCJtaW4taGVpZ2h0IixiLShmLWUpKX0sbG9hZGluZzpmdW5jdGlvbigpe3ZhciBiPXRoaXMubG9hZGluZy5fd2lkZ2V0fHxhKGEubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpLGM9Yi5sb2FkZXIuYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiB0aGlzLmxvYWRpbmcuX3dpZGdldD1iLGN9fSksYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZm4uZXh0ZW5kKHtyZW1vdmVXaXRoRGVwZW5kZW50czpmdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oKXt2YXIgYixjPXt9LGQ9YS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCksZT10aGlzO2EubW9iaWxlLm5vanMmJmEubW9iaWxlLm5vanModGhpcyksYS5tb2JpbGUubGlua3MmJmEubW9iaWxlLmxpbmtzKHRoaXMpLGEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4mJmEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4odGhpcyksYS5mbi5idXR0b25NYXJrdXAmJnRoaXMuZmluZChhLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmJ1dHRvbk1hcmt1cCgpLGEuZm4uZmllbGRjb250YWluJiZ0aGlzLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIikubm90KGQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCksYS5lYWNoKGEubW9iaWxlLndpZGdldHMsZnVuY3Rpb24oYixmKXtpZihmLmluaXRTZWxlY3Rvcil7dmFyIGc9YS5tb2JpbGUuZW5oYW5jZWFibGUoZS5maW5kKGYuaW5pdFNlbGVjdG9yKSk7Zy5sZW5ndGg+MCYmKGc9Zy5ub3QoZCkpLGcubGVuZ3RoPjAmJihjW2YucHJvdG90eXBlLndpZGdldE5hbWVdPWcpfX0pO2ZvcihiIGluIGMpY1tiXVtiXSgpO3JldHVybiB0aGlzfSxhZGREZXBlbmRlbnRzOmZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyh0aGlzLGIpfSxnZXRFbmNvZGVkVGV4dDpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iKS50ZXh0KHRoaXMudGV4dCgpKS5odG1sKCl9LGpxbUVuaGFuY2VhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxqcW1IaWphY2thYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhpamFja2FibGUodGhpcyl9fSksYS5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbihiKXt2YXIgYz1hKGIpOyhjLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpKS5yZW1vdmUoKSxjLnJlbW92ZSgpfSxhLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLGU9ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKTtkLmpxbURhdGEoImRlcGVuZGVudHMiLGEoZSkuYWRkKGMpKX0sYS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfSxhLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1BcnJheS5wcm90b3R5cGUuc2xpY2UsZT1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD0wO251bGwhPShjPWJbZF0pO2QrKyl0cnl7YShjKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9Y2F0Y2goZil7fWUoYil9LGEud2lkZ2V0PWZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaCxpPXt9LGo9Yi5zcGxpdCgiLiIpWzBdO3JldHVybiBiPWIuc3BsaXQoIi4iKVsxXSxlPWorIi0iK2IsZHx8KGQ9YyxjPWEuV2lkZ2V0KSxhLmV4cHJbIjoiXVtlLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKGIpe3JldHVybiEhYS5kYXRhKGIsZSl9LGFbal09YVtqXXx8e30sZj1hW2pdW2JdLGc9YVtqXVtiXT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/dm9pZChhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKSk6bmV3IGcoYSxiKX0sYS5leHRlbmQoZyxmLHt2ZXJzaW9uOmQudmVyc2lvbixfcHJvdG86YS5leHRlbmQoe30sZCksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksaD1uZXcgYyxoLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LGgub3B0aW9ucyksYS5lYWNoKGQsZnVuY3Rpb24oYixkKXtyZXR1cm4gYS5pc0Z1bmN0aW9uKGQpP3ZvaWQoaVtiXT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLl9zdXBlcixmPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPWEsdGhpcy5fc3VwZXJBcHBseT1lLGI9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9Yyx0aGlzLl9zdXBlckFwcGx5PWYsYn19KCkpOnZvaWQoaVtiXT1kKX0pLGcucHJvdG90eXBlPWEud2lkZ2V0LmV4dGVuZChoLHt3aWRnZXRFdmVudFByZWZpeDpmP2gud2lkZ2V0RXZlbnRQcmVmaXh8fGI6Yn0saSx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aix3aWRnZXROYW1lOmIsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyksZ30sYS53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKGMpe2Zvcih2YXIgZSxmLGc9ZC5jYWxsKGFyZ3VtZW50cywxKSxoPTAsaT1nLmxlbmd0aDtpPmg7aCsrKWZvcihlIGluIGdbaF0pZj1nW2hdW2VdLGdbaF0uaGFzT3duUHJvcGVydHkoZSkmJmYhPT1iJiYoY1tlXT1hLmlzUGxhaW5PYmplY3QoZik/YS5pc1BsYWluT2JqZWN0KGNbZV0pP2Eud2lkZ2V0LmV4dGVuZCh7fSxjW2VdLGYpOmEud2lkZ2V0LmV4dGVuZCh7fSxmKTpmKTtyZXR1cm4gY30sYS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fGM7YS5mbltjXT1mdW5jdGlvbihnKXt2YXIgaD0ic3RyaW5nIj09dHlwZW9mIGcsaT1kLmNhbGwoYXJndW1lbnRzLDEpLGo9dGhpcztyZXR1cm4gZz0haCYmaS5sZW5ndGg/YS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2ddLmNvbmNhdChpKSk6Zyx0aGlzLmVhY2goaD9mdW5jdGlvbigpe3ZhciBkLGU9YS5kYXRhKHRoaXMsZik7cmV0dXJuImluc3RhbmNlIj09PWc/KGo9ZSwhMSk6ZT9hLmlzRnVuY3Rpb24oZVtnXSkmJiJfIiE9PWcuY2hhckF0KDApPyhkPWVbZ10uYXBwbHkoZSxpKSxkIT09ZSYmZCE9PWI/KGo9ZCYmZC5qcXVlcnk/ai5wdXNoU3RhY2soZC5nZXQoKSk6ZCwhMSk6dm9pZCAwKTphLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIitnKyInIGZvciAiK2MrIiB3aWRnZXQgaW5zdGFuY2UiKTphLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYysiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZysiJyIpfTpmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGYpO2I/Yi5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsZixuZXcgZShnLHRoaXMpKX0pLGp9fSxhLldpZGdldD1mdW5jdGlvbigpe30sYS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGEuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsZCl7ZD1hKGR8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1hKGQpLHRoaXMudXVpZD1jKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYiksdGhpcy5iaW5kaW5ncz1hKCksdGhpcy5ob3ZlcmFibGU9YSgpLHRoaXMuZm9jdXNhYmxlPWEoKSxkIT09dGhpcyYmKGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT1kJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEoYS5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLHRoaXMud2lkZ2V0KCkudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKSx0aGlzLmJpbmRpbmdzLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sX2Rlc3Ryb3k6YS5ub29wLHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZyxoPWM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKCJzdHJpbmciPT10eXBlb2YgYylpZihoPXt9LGU9Yy5zcGxpdCgiLiIpLGM9ZS5zaGlmdCgpLGUubGVuZ3RoKXtmb3IoZj1oW2NdPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbY10pLGc9MDtnPGUubGVuZ3RoLTE7ZysrKWZbZVtnXV09ZltlW2ddXXx8e30sZj1mW2VbZ11dO2lmKGM9ZS5wb3AoKSxkPT09YilyZXR1cm4gZltjXT09PWI/bnVsbDpmW2NdO2ZbY109ZH1lbHNle2lmKGQ9PT1iKXJldHVybiB0aGlzLm9wdGlvbnNbY109PT1iP251bGw6dGhpcy5vcHRpb25zW2NdO2hbY109ZH1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhoKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLCJkaXNhYmxlZCI9PT1hJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQiLCEhYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSl9LF9vbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzOyJib29sZWFuIiE9dHlwZW9mIGImJihkPWMsYz1iLGI9ITEpLGQ/KGM9ZT1hKGMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoYykpOihkPWMsYz10aGlzLmVsZW1lbnQsZT10aGlzLndpZGdldCgpKSxhLmVhY2goZCxmdW5jdGlvbihkLGcpe2Z1bmN0aW9uIGgoKXtyZXR1cm4gYnx8Zi5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFhKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIGc/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyk6dm9pZCAwfSJzdHJpbmciIT10eXBlb2YgZyYmKGguZ3VpZD1nLmd1aWQ9Zy5ndWlkfHxoLmd1aWR8fGEuZ3VpZCsrKTt2YXIgaT1kLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGo9aVsxXStmLmV2ZW50TmFtZXNwYWNlLGs9aVsyXTtrP2UuZGVsZWdhdGUoayxqLGgpOmMuYmluZChqLGgpfSl9LF9vZmY6ZnVuY3Rpb24oYSxiKXtiPShifHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGEudW5iaW5kKGIpLnVuZGVsZWdhdGUoYil9LF9kZWxheTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBhP2RbYV06YSkuYXBwbHkoZCxhcmd1bWVudHMpfXZhciBkPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoYyxifHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbihiKXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQoYiksdGhpcy5fb24oYix7bW91c2VlbnRlcjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChiKSx0aGlzLl9vbihiLHtmb2N1c2luOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9uc1tiXTtpZihkPWR8fHt9LGM9YS5FdmVudChjKSxjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpLGMudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWMub3JpZ2luYWxFdmVudClmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBlP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LCJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiZhLmVmZmVjdHMuZWZmZWN0W2hdP2RbYl0oZSk6aCE9PWImJmRbaF0/ZFtoXShlLmR1cmF0aW9uLGUuZWFzaW5nLGYpOmQucXVldWUoZnVuY3Rpb24oYyl7YSh0aGlzKVtiXSgpLGYmJmYuY2FsbChkWzBdKSxjKCl9KX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9L1tBLVpdL2csYz1mdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfTthLmV4dGVuZChhLldpZGdldC5wcm90b3R5cGUse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGQsZSxmPXRoaXMuZWxlbWVudFswXSxnPXt9O2lmKCFhLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZiwiZGVmYXVsdHMiKSlmb3IoZCBpbiB0aGlzLm9wdGlvbnMpZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixkLnJlcGxhY2UoYixjKSksbnVsbCE9ZSYmKGdbZF09ZSk7cmV0dXJuIGd9fSksYS5tb2JpbGUud2lkZ2V0PWEuV2lkZ2V0fShhKSxmdW5jdGlvbihhKXt2YXIgYj0idWktbG9hZGVyIixjPWEoImh0bWwiKTthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitiKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iLGZha2VGaXhMb2FkZXI6ZnVuY3Rpb24oKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTt0aGlzLmVsZW1lbnQuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkrdGhpcy53aW5kb3cuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLGQ9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7KGIudG9wPGN8fGIudG9wLWM+ZCkmJih0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksdGhpcy5mYWtlRml4TG9hZGVyKCksdGhpcy53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZCxlLGYpe3ZhciBnLGgsaTt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGQpPyhpPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxkKSxkPWkudGhlbWUpOihpPXRoaXMub3B0aW9ucyxkPWR8fGkudGhlbWUpLGg9ZXx8KGkudGV4dD09PSExPyIiOmkudGV4dCksYy5hZGRDbGFzcygidWktbG9hZGluZyIpLGc9aS50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitkKyIgdWktbG9hZGVyLSIrKGd8fGV8fGQudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoaS50ZXh0b25seXx8Zj8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxpLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoaS5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGgpLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSx0aGlzLndpbmRvdy5iaW5kKCJzY3JvbGwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSx0aGlzLm9wdGlvbnMudGV4dCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYixjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksZT0oYSsiICIrby5qb2luKGMrIiAiKStjKS5zcGxpdCgiICIpO2ZvcihiIGluIGUpaWYobltlW2JdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZigpe3ZhciBjPWIsZD0hKCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLmNyZWF0ZVNWR1JlY3R8fGMub3BlcmEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSksZT1mdW5jdGlvbihiKXtiJiZkfHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vc3ZnIil9LGY9bmV3IGMuSW1hZ2U7Zi5vbmVycm9yPWZ1bmN0aW9uKCl7ZSghMSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7ZSgxPT09Zi53aWR0aCYmMT09PWYuaGVpZ2h0KX0sZi5zcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0ifWZ1bmN0aW9uIGcoKXt2YXIgZSxmLGcsaD0idHJhbnNmb3JtLTNkIixpPWEubW9iaWxlLm1lZGlhKCIoLSIrby5qb2luKCItIitoKyIpLCgtIikrIi0iK2grIiksKCIraCsiKSIpO2lmKGkpcmV0dXJuISFpO2U9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9LG0uYXBwZW5kKGUpO2ZvcihnIGluIGYpZS5zdHlsZVtnXSE9PWQmJihlLnN0eWxlW2ddPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLGk9Yi5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoZltnXSkpO3JldHVybiEhaSYmIm5vbmUiIT09aX1mdW5jdGlvbiBoKCl7dmFyIGIsYyxkPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsZT1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZz0iIjtyZXR1cm4gZS5sZW5ndGg/Zz1lLmF0dHIoImhyZWYiKTplPWY9YSgiPGJhc2U+Iix7aHJlZjpkfSkuYXBwZW5kVG8oImhlYWQiKSxiPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKG0pLGM9YlswXS5ocmVmLGVbMF0uaHJlZj1nfHxsb2NhdGlvbi5wYXRobmFtZSxmJiZmLnJlbW92ZSgpLDA9PT1jLmluZGV4T2YoZCl9ZnVuY3Rpb24gaSgpe3ZhciBhLGQ9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZT1jLmRvY3VtZW50RWxlbWVudCxmPWIuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBkLnN0eWxlPyhkLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLGQuc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsZS5hcHBlbmRDaGlsZChkKSxhPWYmJiJhdXRvIj09PWYoZCwiIikucG9pbnRlckV2ZW50cyxlLnJlbW92ZUNoaWxkKGQpLCEhYSk6ITF9ZnVuY3Rpb24gaigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdH1mdW5jdGlvbiBrKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJjUzND5mfHxhLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGEub3BlcmFtaW5pKXx8aSYmNzQ1OD5qfHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmNTMzPmZ8fGgmJjY+aHx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiY1MzQ+Znx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBsLG09YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksbj1tWzBdLnN0eWxlLG89WyJXZWJraXQiLCJNb3oiLCJPIl0scD0icGFsbUdldFJlc291cmNlImluIGIscT1iLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKSxyPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse3B1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZSgiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFlKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmcoKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXIsZml4ZWRQb3NpdGlvbjprKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBtWzBdKSYmIXAmJiFxLGR5bmFtaWNCYXNlVGFnOmgoKSxjc3NQb2ludGVyRXZlbnRzOmkoKSxib3VuZGluZ1JlY3Q6aigpLGlubGluZVNWRzpmfSksbS5yZW1vdmUoKSxsPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8cXx8bCxsJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLGM9YT9iOmxvY2F0aW9uLGQ9Yi5oYXNoO3JldHVybiBkPSIjIj09PWQ/IiI6ZCxjLnByb3RvY29sK2IuZG91YmxlU2xhc2grYy5ob3N0KygiIiE9PWMucHJvdG9jb2wmJiIvIiE9PWMucGF0aG5hbWUuc3Vic3RyaW5nKDAsMSk/Ii8iOiIiKStjLnBhdGhuYW1lK2Muc2VhcmNoK2R9LGdldERvY3VtZW50VXJsOmZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRVcmwpOmQuZG9jdW1lbnRVcmwuaHJlZn0scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKCJvYmplY3QiPT09YS50eXBlKGIpKXJldHVybiBiO3ZhciBjPWQudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6Y1swXXx8IiIsaHJlZk5vSGFzaDpjWzFdfHwiIixocmVmTm9TZWFyY2g6Y1syXXx8IiIsZG9tYWluOmNbM118fCIiLHByb3RvY29sOmNbNF18fCIiLGRvdWJsZVNsYXNoOmNbNV18fCIiLGF1dGhvcml0eTpjWzZdfHwiIix1c2VybmFtZTpjWzhdfHwiIixwYXNzd29yZDpjWzldfHwiIixob3N0OmNbMTBdfHwiIixob3N0bmFtZTpjWzExXXx8IiIscG9ydDpjWzEyXXx8IiIscGF0aG5hbWU6Y1sxM118fCIiLGRpcmVjdG9yeTpjWzE0XXx8IiIsZmlsZW5hbWU6Y1sxNV18fCIiLHNlYXJjaDpjWzE2XXx8IiIsaGFzaDpjWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY7aWYoYSYmIi8iPT09YS5jaGFyQXQoMCkpcmV0dXJuIGE7Zm9yKGE9YXx8IiIsYj1iP2IucmVwbGFjZSgvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCIiKToiIixjPWI/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpLGU9MDtlPGQubGVuZ3RoO2UrKylzd2l0Y2goZj1kW2VdKXtjYXNlIi4iOmJyZWFrO2Nhc2UiLi4iOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGYpfXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQucGFyc2VVcmwoYSkuZG9tYWluLnRvTG93ZXJDYXNlKCk9PT1kLnBhcnNlVXJsKGIpLmRvbWFpbi50b0xvd2VyQ2FzZSgpfSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPSIiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8IiIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9Im9iamVjdCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHwiPyI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKCI/IiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpPyImIjoiIikrZisoZS5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShjKT9jLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLCIiKS5yZXBsYWNlKC9cPy4qJC8sIiIpOmQuaXNTYW1lRG9tYWluKGMsdGhpcy5kb2N1bWVudEJhc2UpP2MuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIikuc3BsaXQoZilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cPy4qJC8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKGYsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuISghYi5wcm90b2NvbHx8Yi5kb21haW4udG9Mb3dlckNhc2UoKT09PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluLnRvTG93ZXJDYXNlKCkpfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiIiIT09Yi5wcm90b2NvbD8hdGhpcy5pc1BhdGgoYi5oYXNoKSYmYi5oYXNoJiYoYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gpOi9eIy8udGVzdChiLmhyZWYpfSxzcXVhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGk9dGhpcy5pc1BhdGgoYSksaj10aGlzLnBhcnNlVXJsKGEpLGs9ai5oYXNoLGw9IiI7cmV0dXJuIGJ8fChpP2I9ZC5nZXRMb2NhdGlvbigpOihoPWQuZ2V0RG9jdW1lbnRVcmwoITApLGI9ZC5pc1BhdGgoaC5oYXNoKT9kLnNxdWFzaChoLmhyZWYpOmguaHJlZikpLGU9aT9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoai5oYXNoKT9kLnN0cmlwSGFzaChqLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYobD1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxpPygoZC5pc1BhdGgoayl8fDA9PT1rLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaz0iIiksbCYmLTE9PT1rLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGsrPWwpLC0xPT09ay5pbmRleE9mKCIjIikmJiIiIT09ayYmKGs9IiMiK2spLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrYy5kb3VibGVTbGFzaCtjLmhvc3QrYy5wYXRobmFtZStmK2spOmMrPWMuaW5kZXhPZigiIyIpPi0xP2w6IiMiK2wsY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9LGhhc2hUb1NlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPSIjIj09PWEuc3Vic3RyaW5nKDAsMSk7cmV0dXJuIGImJihhPWEuc3Vic3RyaW5nKDEpKSwoYj8iIyI6IiIpK2EucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KGYpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgZT1kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxmPWUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZlLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGc9YS5tb2JpbGUuZmlyc3RQYWdlLGg9ZyYmZ1swXT9nWzBdLmlkOmM7cmV0dXJuIGYmJighZS5oYXNofHwiIyI9PT1lLmhhc2h8fGgmJmUuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09aCl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9LGEuZXh0ZW5kKGEubW9iaWxlLHtnZXREb2N1bWVudFVybDpkLmdldERvY3VtZW50VXJsLGdldERvY3VtZW50QmFzZTpkLmdldERvY3VtZW50QmFzZX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZigiIyIpJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sX2ZpbmRCeUlkOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5zdGFjay5sZW5ndGg7Zm9yKGM9MDtkPmMmJnRoaXMuc3RhY2tbY10uaWQhPT1hO2MrKyk7cmV0dXJuIGQ+Yz9jOmJ9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxjKXt2YXIgZD1jPT09Yj9iOnRoaXMuX2ZpbmRCeUlkKGMpLGU9dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gZCE9PWI/ZDooZD10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKDAsZSkpLGQ9PT1iJiYoZD10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKGUpLCEwKSxkPWQ9PT1iP2Q6ZCtlKSxkKX0sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCxjLmlkKSxlPXRoaXMuYWN0aXZlSW5kZXg7ZCE9PWImJih0aGlzLmFjdGl2ZUluZGV4PWQsdGhpcy5wcmV2aW91c0luZGV4PWUpLGU+ZD8oYy5wcmVzZW50fHxjLmJhY2t8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOmQ+ZT8oYy5wcmVzZW50fHxjLmZvcndhcmR8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOmQ9PT1iJiZjLm1pc3NpbmcmJmMubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGQ9YS5tb2JpbGUucGF0aCxlPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsYS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjphLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6YS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sYS5leHRlbmQoYS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7aGlzdG9yeUVudHJ5SWQ6MCxzcXVhc2g6ZnVuY3Rpb24oZSxmKXt2YXIgZyxoLGk9ZC5pc1BhdGgoZSk/ZC5zdHJpcEhhc2goZSk6ZTtyZXR1cm4gaD1kLnNxdWFzaChlKSxnPWEuZXh0ZW5kKHtpZDorK3RoaXMuaGlzdG9yeUVudHJ5SWQsaGFzaDppLHVybDpofSxmKSxiLmhpc3RvcnkucmVwbGFjZVN0YXRlKGcsZy50aXRsZXx8Yy50aXRsZSxoKSxnfSxoYXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc7cmV0dXJuIGM9ZC5wYXJzZVVybChhKSxlPWQucGFyc2VMb2NhdGlvbigpLGUucGF0aG5hbWUrZS5zZWFyY2g9PT1jLnBhdGhuYW1lK2Muc2VhcmNoP2Y9Yy5oYXNoP2MuaGFzaDpjLnBhdGhuYW1lK2Muc2VhcmNoOmQuaXNQYXRoKGEpPyhnPWQucGFyc2VVcmwoYiksZj1nLnBhdGhuYW1lK2cuc2VhcmNoKyhkLmlzUHJlc2VydmFibGVIYXNoKGcuaGFzaCk/Zy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIikpOmY9YSxmfSxnbzpmdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqLGssbD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk7aT1kLnNxdWFzaChlKSxqPXRoaXMuaGFzaChlLGkpLGcmJmohPT1kLnN0cmlwSGFzaChkLnBhcnNlTG9jYXRpb24oKS5oYXNoKSYmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPWcpLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMCxiLmxvY2F0aW9uLmhhc2g9aix0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsaD1hLmV4dGVuZCh7dXJsOmksaGFzaDpqLHRpdGxlOmMudGl0bGV9LGYpLGwmJihrPW5ldyBhLkV2ZW50KCJwb3BzdGF0ZSIpLGsub3JpZ2luYWxFdmVudD17dHlwZToicG9wc3RhdGUiLHN0YXRlOm51bGx9LGguaWQ9KHRoaXMuc3F1YXNoKGUsaCl8fHt9KS5pZCxnfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxhLm1vYmlsZS53aW5kb3cudHJpZ2dlcihrKSkpLHRoaXMuaGlzdG9yeS5hZGQoaC51cmwsaCl9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpOnRoaXMuaWdub3JlUG9wU3RhdGU/dm9pZCh0aGlzLmlnbm9yZVBvcFN0YXRlPSExKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpP3ZvaWQgYi5wcmV2ZW50RGVmYXVsdCgpOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLHZvaWQoYi5oaXN0b3J5U3RhdGU9ZikpOnZvaWQgdGhpcy5oaXN0b3J5LmRpcmVjdCh7aWQ6KGIub3JpZ2luYWxFdmVudC5zdGF0ZXx8e30pLmlkLHVybDooYi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSkudXJsfHxjLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhpc3RvcnlTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb249ZH19KSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGUsZjtpZihhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYhYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXtpZih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZSlyZXR1cm4gdGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ITEsdm9pZCBiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwplPXRoaXMuaGlzdG9yeSxmPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOmYscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGFzaGNoYW5nZVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGFzaGNoYW5nZVN0YXRlLmRpcmVjdGlvbj1kfSxtaXNzaW5nOmZ1bmN0aW9uKCl7ZS5hZGQoZix7aGFzaDpmLHRpdGxlOmMudGl0bGV9KX19KX19fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5hdmlnYXRlPWZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IuZ28oYixjLGQpfSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5PW5ldyBhLm1vYmlsZS5IaXN0b3J5LGEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvcj1uZXcgYS5tb2JpbGUuTmF2aWdhdG9yKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkpO3ZhciBiPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGIuaHJlZix7aGFzaDpiLmhhc2h9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD17YW5pbWF0aW9uOnt9LHRyYW5zaXRpb246e319LGU9Yy5jcmVhdGVFbGVtZW50KCJhIiksZj1bIiIsIndlYmtpdC0iLCJtb3otIiwiby0iXTthLmVhY2goWyJhbmltYXRpb24iLCJ0cmFuc2l0aW9uIl0sZnVuY3Rpb24oYyxnKXt2YXIgaD0wPT09Yz9nKyItbmFtZSI6ZzthLmVhY2goZixmdW5jdGlvbihjLGYpe3JldHVybiBlLnN0eWxlW2EuY2FtZWxDYXNlKGYraCldIT09Yj8oZFtnXS5wcmVmaXg9ZiwhMSk6dm9pZCAwfSksZFtnXS5kdXJhdGlvbj1hLmNhbWVsQ2FzZShkW2ddLnByZWZpeCtnKyItZHVyYXRpb24iKSxkW2ddLmV2ZW50PWEuY2FtZWxDYXNlKGRbZ10ucHJlZml4K2crIi1lbmQiKSwiIj09PWRbZ10ucHJlZml4JiYoZFtnXS5ldmVudD1kW2ddLmV2ZW50LnRvTG93ZXJDYXNlKCkpfSksYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zPWQudHJhbnNpdGlvbi5wcmVmaXghPT1iLGEuc3VwcG9ydC5jc3NBbmltYXRpb25zPWQuYW5pbWF0aW9uLnByZWZpeCE9PWIsYShlKS5yZW1vdmUoKSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGUsZixnKXt2YXIgaCxpLGo9dGhpcyxrPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGgpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxsPWYmJiJhbmltYXRpb24iIT09Zj8idHJhbnNpdGlvbiI6ImFuaW1hdGlvbiI7cmV0dXJuIGEuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucyYmInRyYW5zaXRpb24iPT09bHx8YS5zdXBwb3J0LmNzc0FuaW1hdGlvbnMmJiJhbmltYXRpb24iPT09bD8oZz09PWImJihhKHRoaXMpLmNvbnRleHQhPT1jJiYoaT0zZTMqcGFyc2VGbG9hdChhKHRoaXMpLmNzcyhkW2xdLmR1cmF0aW9uKSkpLCgwPT09aXx8aT09PWJ8fGlzTmFOKGkpKSYmKGk9YS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb24pKSxoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGopLm9mZihkW2xdLmV2ZW50LGspLGUuYXBwbHkoail9LGkpLGEodGhpcykub25lKGRbbF0uZXZlbnQsaykpOihzZXRUaW1lb3V0KGEucHJveHkoZSx0aGlzKSwwKSxhKHRoaXMpKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb249MWUzfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RSksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qy5sZW5ndGg7bj5tO20rKylpPUNbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix6KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseiksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TT0hMX1mdW5jdGlvbiBqKCl7TT0hMH1mdW5jdGlvbiBrKCl7UT0wLEsubGVuZ3RoPTAsTD0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEc9c2V0VGltZW91dChmdW5jdGlvbigpe0c9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0cmJihjbGVhclRpbWVvdXQoRyksRz0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjLGQ9YS5kYXRhKGIudGFyZ2V0LEEpO0x8fFEmJlE9PT1kfHwoYz1vKCJ2IitiLnR5cGUsYiksYyYmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gcShiKXt2YXIgYyxkLGYsaD1lKGIpLnRvdWNoZXM7aCYmMT09PWgubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZyYmKFE9UCsrLGEuZGF0YShjLEEsUSksbigpLGwoKSxKPSExLGY9ZShiKS50b3VjaGVzWzBdLEg9Zi5wYWdlWCxJPWYucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpKSl9ZnVuY3Rpb24gcihhKXtNfHwoSnx8bygidm1vdXNlY2FuY2VsIixhLGcoYS50YXJnZXQpKSxKPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTSl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SixmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0o9Snx8TWF0aC5hYnMoYy5wYWdlWC1IKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUkpPmYsSiYmIWQmJm8oInZtb3VzZWNhbmNlbCIsYixoKSxvKCJ2bW91c2Vtb3ZlIixiLGgpLG0oKX19ZnVuY3Rpb24gdChhKXtpZighTSl7aigpO3ZhciBiLGMsZD1nKGEudGFyZ2V0KTtvKCJ2bW91c2V1cCIsYSxkKSxKfHwoYj1vKCJ2Y2xpY2siLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKCJ2bW91c2VvdXQiLGEsZCksSj0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix6KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseix7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseik7ZFtiXT0hMCxGW2JdPShGW2JdfHwwKSsxLDE9PT1GW2JdJiZPLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxOJiYoRi50b3VjaHN0YXJ0PShGLnRvdWNoc3RhcnR8fDApKzEsMT09PUYudG91Y2hzdGFydCYmTy5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUZbYl0sRltiXXx8Ty51bmJpbmQoYyxwKSxOJiYoLS1GLnRvdWNoc3RhcnQsRi50b3VjaHN0YXJ0fHxPLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej0idmlydHVhbE1vdXNlQmluZGluZ3MiLEE9InZpcnR1YWxUb3VjaElEIixCPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxDPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPSJhZGRFdmVudExpc3RlbmVyImluIGMsTz1hKGMpLFA9MSxRPTA7Zm9yKGEudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH0seT0wO3k8Qi5sZW5ndGg7eSsrKWEuZXZlbnQuc3BlY2lhbFtCW3ldXT13KEJbeV0pO04mJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUsubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9S1tmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSx2b2lkIGIuc3RvcFByb3BhZ2F0aW9uKCk7ZT1lLnBhcmVudE5vZGV9fSwhMCl9KGEsYixjKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShiLGMsZSxmKXt2YXIgZz1lLnR5cGU7ZS50eXBlPWMsZj9hLmV2ZW50LnRyaWdnZXIoZSxkLGIpOmEuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUudHlwZT1nfXZhciBmPWEoYyksZz1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGg9InRvdWNobW92ZSBzY3JvbGwiLGk9Zz8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaj1nPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGs9Zz8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Yz1iLGUoZixjPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjLGQsZj10aGlzLGc9YShmKTtnLmJpbmQoaCxmdW5jdGlvbihlKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGN8fGIoZSwhMCksY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IoZSwhMSl9LDUwKSl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChoKX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLGVtaXRUYXBPblRhcGhvbGQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKSxkPSExO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZyl7ZnVuY3Rpb24gaCgpe2NsZWFyVGltZW91dChrKX1mdW5jdGlvbiBpKCl7aCgpLGMudW5iaW5kKCJ2Y2xpY2siLGopLnVuYmluZCgidm1vdXNldXAiLGgpLGYudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpfWZ1bmN0aW9uIGooYSl7aSgpLGR8fGwhPT1hLnRhcmdldD9kJiZhLnByZXZlbnREZWZhdWx0KCk6ZShiLCJ0YXAiLGEpfWlmKGQ9ITEsZy53aGljaCYmMSE9PWcud2hpY2gpcmV0dXJuITE7dmFyIGssbD1nLnRhcmdldDtjLmJpbmQoInZtb3VzZXVwIixoKS5iaW5kKCJ2Y2xpY2siLGopLGYuYmluZCgidm1vdXNlY2FuY2VsIixpKSxrPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGFwLmVtaXRUYXBPblRhcGhvbGR8fChkPSEwKSxlKGIsInRhcGhvbGQiLGEuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6bH0pKX0sYS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKCJ2bW91c2Vkb3duIikudW5iaW5kKCJ2Y2xpY2siKS51bmJpbmQoInZtb3VzZXVwIiksZi51bmJpbmQoInZtb3VzZWNhbmNlbCIpfX0sYS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDozMCxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYz1iLnBhZ2VYT2Zmc2V0LGQ9Yi5wYWdlWU9mZnNldCxlPWEuY2xpZW50WCxmPWEuY2xpZW50WTtyZXR1cm4gMD09PWEucGFnZVkmJk1hdGguZmxvb3IoZik+TWF0aC5mbG9vcihhLnBhZ2VZKXx8MD09PWEucGFnZVgmJk1hdGguZmxvb3IoZSk+TWF0aC5mbG9vcihhLnBhZ2VYKT8oZS09YyxmLT1kKTooZjxhLnBhZ2VZLWR8fGU8YS5wYWdlWC1jKSYmKGU9YS5wYWdlWC1jLGY9YS5wYWdlWS1kKSx7eDplLHk6Zn19LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XSxvcmlnaW46YShiLnRhcmdldCl9fSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGIsYyxkLGYpe2lmKGMudGltZS1iLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1swXS1jLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMV0tYy5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkKXt2YXIgZz1iLmNvb3Jkc1swXT5jLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCI7cmV0dXJuIGUoZCwic3dpcGUiLGEuRXZlbnQoInN3aXBlIix7dGFyZ2V0OmYsc3dpcGVzdGFydDpiLHN3aXBlc3RvcDpjfSksITApLGUoZCxnLGEuRXZlbnQoZyx7dGFyZ2V0OmYsc3dpcGVzdGFydDpiLHN3aXBlc3RvcDpjfSksITApLCEwfXJldHVybiExfSxldmVudEluUHJvZ3Jlc3M6ITEsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMsZD1hKGMpLGU9e307Yj1hLmRhdGEodGhpcywibW9iaWxlLWV2ZW50cyIpLGJ8fChiPXtsZW5ndGg6MH0sYS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiLGIpKSxiLmxlbmd0aCsrLGIuc3dpcGU9ZSxlLnN0YXJ0PWZ1bmN0aW9uKGIpe2lmKCFhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzKXthLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSEwO3ZhciBkLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGIpLGg9Yi50YXJnZXQsaT0hMTtlLm1vdmU9ZnVuY3Rpb24oYil7ZyYmIWIuaXNEZWZhdWx0UHJldmVudGVkKCkmJihkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLGl8fChpPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGQsYyxoKSxpJiYoYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMSkpLE1hdGguYWJzKGcuY29vcmRzWzBdLWQuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpKX0sZS5zdG9wPWZ1bmN0aW9uKCl7aT0hMCxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSExLGYub2ZmKGssZS5tb3ZlKSxlLm1vdmU9bnVsbH0sZi5vbihrLGUubW92ZSkub25lKGosZS5zdG9wKX19LGQub24oaSxlLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgYixjO2I9YS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiKSxiJiYoYz1iLnN3aXBlLGRlbGV0ZSBiLnN3aXBlLGIubGVuZ3RoLS0sMD09PWIubGVuZ3RoJiZhLnJlbW92ZURhdGEodGhpcywibW9iaWxlLWV2ZW50cyIpKSxjJiYoYy5zdGFydCYmYSh0aGlzKS5vZmYoaSxjLnN0YXJ0KSxjLm1vdmUmJmYub2ZmKGssYy5tb3ZlKSxjLnN0b3AmJmYub2ZmKGosYy5zdG9wKSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUubGVmdCIsc3dpcGVyaWdodDoic3dpcGUucmlnaHQifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixmKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT0ib3JpZW50YXRpb25jaGFuZ2UiLG49ezA6ITAsMTgwOiEwfTthLnN1cHBvcnQub3JpZW50YXRpb24mJihpPWIuaW5uZXJXaWR0aHx8bC53aWR0aCgpLGo9Yi5pbm5lckhlaWdodHx8bC5oZWlnaHQoKSxrPTUwLGc9aT5qJiZpLWo+ayxoPW5bYi5vcmllbnRhdGlvbl0sKGcmJmh8fCFnJiYhaCkmJihuPXsiLTkwIjohMCw5MDohMH0pKSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLHZvaWQgbC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOnZvaWQgbC51bmJpbmQoInRocm90dGxlZHJlc2l6ZSIsZCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9uW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoImhlYWQiKS5jaGlsZHJlbigiYmFzZSIpLGM9e2VsZW1lbnQ6Yi5sZW5ndGg/YjphKCI8YmFzZT4iLHtocmVmOmEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8oYSgiaGVhZCIpKSxsaW5rU2VsZWN0b3I6IltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIixzZXQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcmJmMuZWxlbWVudC5hdHRyKCJocmVmIixhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlKSl9LHJld3JpdGU6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLm1vYmlsZS5wYXRoLmdldChiKTtkLmZpbmQoYy5saW5rU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YShjKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixmPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLGc9YShjKS5hdHRyKGQpO2c9Zy5yZXBsYWNlKGYucHJvdG9jb2wrZi5kb3VibGVTbGFzaCtmLmhvc3QrZi5wYXRobmFtZSwiIiksL14oXHcrOnwjfFwvKS8udGVzdChnKXx8YShjKS5hdHRyKGQsZStnKX0pfSxyZXNldDpmdW5jdGlvbigpe2MuZWxlbWVudC5hdHRyKCJocmVmIixhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9TZWFyY2gpfX07YS5tb2JpbGUuYmFzZT1jfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLndpZGdldHM9e307dmFyIGM9YS53aWRnZXQsZD1hLm1vYmlsZS5rZWVwTmF0aXZlO2Eud2lkZ2V0PWZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9ZC5wcm90b3R5cGUud2lkZ2V0TmFtZTtyZXR1cm4gZC5pbml0U2VsZWN0b3I9ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yIT09Yj9kLnByb3RvdHlwZS5pbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9JyIrZSsiJykiLGEubW9iaWxlLndpZGdldHNbZV09ZCxkfX0oYS53aWRnZXQpLGEuZXh0ZW5kKGEud2lkZ2V0LGMpLGEubW9iaWxlLmRvY3VtZW50Lm9uKCJjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmVuaGFuY2VXaXRoaW4oKX0pLGEud2lkZ2V0KCJtb2JpbGUucGFnZSIse29wdGlvbnM6e3RoZW1lOiJhIixkb21DYWNoZTohMSxrZWVwTmF0aXZlRGVmYXVsdDphLm1vYmlsZS5rZWVwTmF0aXZlLGNvbnRlbnRUaGVtZTpudWxsLGVuaGFuY2VkOiExfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RyaWdnZXIoImluaXQiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKT09PSExPyExOih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse3BhZ2ViZWZvcmVoaWRlOiJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIixwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93In0pLHRoaXMuZWxlbWVudC5lbmhhbmNlV2l0aGluKCksdm9pZCgiZGlhbG9nIj09PWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sInJvbGUiKSYmYS5tb2JpbGUuZGlhbG9nJiZ0aGlzLmVsZW1lbnQuZGlhbG9nKCkpKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYz0iZGF0YS0iK2EubW9iaWxlLm5zLGQ9dGhpczt0aGlzLm9wdGlvbnMucm9sZSYmdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsdGhpcy5vcHRpb25zLnJvbGUpLHRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1wYWdlLXRoZW1lLSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLmVsZW1lbnQuZmluZCgiWyIrYysicm9sZT0nY29udGVudCddIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj10aGlzLmdldEF0dHJpYnV0ZShjKyJ0aGVtZSIpfHxiO2Qub3B0aW9ucy5jb250ZW50VGhlbWU9Znx8ZC5vcHRpb25zLmNvbnRlbnRUaGVtZXx8ZC5vcHRpb25zLmRpYWxvZyYmZC5vcHRpb25zLnRoZW1lfHwiZGlhbG9nIj09PWQuZWxlbWVudC5qcW1EYXRhKCJyb2xlIikmJmQub3B0aW9ucy50aGVtZSxlLmFkZENsYXNzKCJ1aS1jb250ZW50IiksZC5vcHRpb25zLmNvbnRlbnRUaGVtZSYmZS5hZGRDbGFzcygidWktYm9keS0iK2Qub3B0aW9ucy5jb250ZW50VGhlbWUpLGUuYXR0cigicm9sZSIsIm1haW4iKS5hZGRDbGFzcygidWktY29udGVudCIpfSl9LGJpbmRSZW1vdmU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50OyFjLmRhdGEoIm1vYmlsZS1wYWdlIikub3B0aW9ucy5kb21DYWNoZSYmYy5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmMuYmluZCgicGFnZWhpZGUucmVtb3ZlIixifHxmdW5jdGlvbihiLGMpe2lmKCFjLnNhbWVQYWdlKXt2YXIgZD1hKHRoaXMpLGU9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZC5yZW1vdmVXaXRoRGVwZW5kZW50cygpfX0pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLnRoZW1lIT09YiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1wYWdlLXRoZW1lLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktcGFnZS10aGVtZS0iK2MudGhlbWUpLGMuY29udGVudFRoZW1lIT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIltkYXRhLSIrYS5tb2JpbGUubnMrIj0nY29udGVudCddIikucmVtb3ZlQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMuY29udGVudFRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2MuY29udGVudFRoZW1lKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiOm1vYmlsZS1wYWdlY29udGFpbmVyIikucGFnZWNvbnRhaW5lcih7dGhlbWU6Im5vbmUifSl9LHNldENvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnBhcmVudCgpLnBhZ2Vjb250YWluZXIoe3RoZW1lOmF8fHRoaXMub3B0aW9ucy50aGVtZX0pfSxrZWVwTmF0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz1hLnRyaW0oYi5rZWVwTmF0aXZlfHwiIiksZT1hLnRyaW0oYS5tb2JpbGUua2VlcE5hdGl2ZSksZj1hLnRyaW0oYi5rZWVwTmF0aXZlRGVmYXVsdCksZz1kPT09ZT8iIjplLGg9IiI9PT1nP2Y6IiI7cmV0dXJuKGM/W2NdOltdKS5jb25jYXQoZz9bZ106W10pLmNvbmNhdChoP1toXTpbXSkuam9pbigiLCAiKX19KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnBhZ2Vjb250YWluZXIiLHtvcHRpb25zOnt0aGVtZToiYSJ9LGluaXRTZWxlY3RvcjohMSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIiksdGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMCx0aGlzLl9vbih0aGlzLndpbmRvdyx7bmF2aWdhdGU6Il9kaXNhYmxlUmVjb3JkU2Nyb2xsIixzY3JvbGxzdG9wOiJfZGVsYXllZFJlY29yZFNjcm9sbCJ9KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7bmF2aWdhdGU6Il9maWx0ZXJOYXZpZ2F0ZUV2ZW50cyJ9KSx0aGlzLl9vbih7cGFnZWNoYW5nZToiX2FmdGVyQ29udGVudENoYW5nZSJ9KSx0aGlzLndpbmRvdy5vbmUoIm5hdmlnYXRlIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sdGhpcykpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmIm5vbmUiIT09YS50aGVtZT90aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1vdmVybGF5LSIrYS50aGVtZSk6YS50aGVtZSE9PWQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5fc3VwZXIoYSl9LF9kaXNhYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMX0sX2VuYWJsZVJlY29yZFNjcm9sbDpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITB9LF9hZnRlckNvbnRlbnRDaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29mZih0aGlzLndpbmRvdywic2Nyb2xsc3RvcCIpLHRoaXMuX29uKHRoaXMud2luZG93LHtzY3JvbGxzdG9wOiJfZGVsYXllZFJlY29yZFNjcm9sbCJ9KX0sX3JlY29yZFNjcm9sbDpmdW5jdGlvbigpe2lmKHRoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQpe3ZhciBhLGIsYyxkPXRoaXMuX2dldEFjdGl2ZUhpc3RvcnkoKTtkJiYoYT10aGlzLl9nZXRTY3JvbGwoKSxiPXRoaXMuX2dldE1pblNjcm9sbCgpLGM9dGhpcy5fZ2V0RGVmYXVsdFNjcm9sbCgpLGQubGFzdFNjcm9sbD1iPmE/YzphKX19LF9kZWxheWVkUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7c2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9yZWNvcmRTY3JvbGwiKSwxMDApfSxfZ2V0U2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2luZG93LnNjcm9sbFRvcCgpfSxfZ2V0TWluU2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm1pblNjcm9sbEJhY2t9LF9nZXREZWZhdWx0U2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsfSxfZmlsdGVyTmF2aWdhdGVFdmVudHM6ZnVuY3Rpb24oYixjKXt2YXIgZDtiLm9yaWdpbmFsRXZlbnQmJmIub3JpZ2luYWxFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9Yi5vcmlnaW5hbEV2ZW50LnR5cGUuaW5kZXhPZigiaGFzaGNoYW5nZSIpPi0xP2Muc3RhdGUuaGFzaDpjLnN0YXRlLnVybCxkfHwoZD10aGlzLl9nZXRIYXNoKCkpLGQmJiIjIiE9PWQmJjAhPT1kLmluZGV4T2YoIiMiK2EubW9iaWxlLnBhdGgudWlTdGF0ZUtleSl8fChkPWxvY2F0aW9uLmhyZWYpLHRoaXMuX2hhbmRsZU5hdmlnYXRlKGQsYy5zdGF0ZSkpfSxfZ2V0SGFzaDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNofSxnZXRBY3RpdmVQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlUGFnZX0sX2dldEluaXRpYWxDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmZpcnN0UGFnZX0sX2dldEhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeX0sX2dldEFjdGl2ZUhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0SGlzdG9yeSgpLmdldEFjdGl2ZSgpfSxfZ2V0RG9jdW1lbnRCYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5nbygtMSl9LGZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLmdvKDEpfSxnbzpmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCliLmhpc3RvcnkuZ28oYyk7ZWxzZXt2YXIgZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LGU9ZCtwYXJzZUludChjLDEwKSxmPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2tbZV0udXJsLGc9Yz49MT8iZm9yd2FyZCI6ImJhY2siO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuInN0cmluZyI9PT1hLnR5cGUoYikmJihiPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpKSxiJiYoYz10aGlzLl9nZXRIaXN0b3J5KCksYj1hLm1vYmlsZS5wYXRoLmlzUGF0aChiKT9iOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitiLHRoaXMuX2dldERvY3VtZW50QmFzZSgpKSksYnx8dGhpcy5fZ2V0SW5pdGlhbENvbnRlbnQoKX0sX29wdGlvbkZyb21IaXN0b3J5OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLl9nZXRIaXN0b3J5KCksZT0iYmFjayI9PT1hP2QuZ2V0TGFzdCgpOmQuZ2V0QWN0aXZlKCk7cmV0dXJuIGUmJmVbYl18fGN9LF9oYW5kbGVEaWFsb2c6ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY9dGhpcy5nZXRBY3RpdmVQYWdlKCk7cmV0dXJuIGYmJiFmLmRhdGEoIm1vYmlsZS1kaWFsb2ciKT8oImJhY2siPT09Yy5kaXJlY3Rpb24/dGhpcy5iYWNrKCk6dGhpcy5mb3J3YXJkKCksITEpOihkPWMucGFnZVVybCxlPXRoaXMuX2dldEFjdGl2ZUhpc3RvcnkoKSxhLmV4dGVuZChiLHtyb2xlOmUucm9sZSx0cmFuc2l0aW9uOnRoaXMuX29wdGlvbkZyb21IaXN0b3J5KGMuZGlyZWN0aW9uLCJ0cmFuc2l0aW9uIixiLnRyYW5zaXRpb24pLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259KSxkKX0sX2hhbmRsZU5hdmlnYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYiksZT10aGlzLl9nZXRIaXN0b3J5KCksZj0wPT09ZS5zdGFjay5sZW5ndGg/Im5vbmUiOnRoaXMuX29wdGlvbkZyb21IaXN0b3J5KGMuZGlyZWN0aW9uLCJ0cmFuc2l0aW9uIiksZz17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOiJiYWNrIj09PWMuZGlyZWN0aW9ufTthLmV4dGVuZChnLGMse3RyYW5zaXRpb246ZixhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjp0aGlzLl9vcHRpb25Gcm9tSGlzdG9yeShjLmRpcmVjdGlvbiwiYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24iKX0pLGUuYWN0aXZlSW5kZXg+MCYmZC5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiYoZD10aGlzLl9oYW5kbGVEaWFsb2coZyxjKSxkPT09ITEpfHx0aGlzLl9jaGFuZ2VDb250ZW50KHRoaXMuX2hhbmRsZURlc3RpbmF0aW9uKGQpLGcpfSxfY2hhbmdlQ29udGVudDpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmNoYW5nZVBhZ2UoYixjKX0sX2dldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYmFzZX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJzaG93IixjLGQsZSksdGhpcy5fbG9hZE1zZz0wfSx0aGlzKSxiKSl9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9sb2FkTXNnPTAsdGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJoaWRlIil9LF9zaG93RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlTG9hZGluZygpLHRoaXMuX3Nob3dMb2FkaW5nKDAsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9oaWRlTG9hZGluZyIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoIjxkaXY+PC9kaXY+Iik7cmV0dXJuIGUuZ2V0KDApLmlubmVySFRNTD1iLGQ9ZS5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxkLmxlbmd0aHx8KGQ9YSgiPGRpdiBkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT0ncGFnZSc+IisoYi5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksZC5hdHRyKCJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsIixhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoYykpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJleHRlcm5hbC1wYWdlIiwhMCksZH0sX3NldExvYWRlZFRpdGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDE7ZCYmIWIuanFtRGF0YSgidGl0bGUiKSYmKGQ9YSgiPGRpdj4iK2QrIjwvZGl2PiIpLnRleHQoKSxiLmpxbURhdGEoInRpdGxlIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoInBhZ2UiK2IpLGY9YS5FdmVudCh0aGlzLndpZGdldE5hbWUrYik7cmV0dXJuKGR8fHRoaXMuZWxlbWVudCkudHJpZ2dlcihlLGMpLHRoaXMuX3RyaWdnZXIoYixmLGMpLHtkZXByZWNhdGVkRXZlbnQ6ZSxldmVudDpmfX0sX2xvYWRTdWNjZXNzOmZ1bmN0aW9uKGIsYyxlLGYpe3ZhciBnPXRoaXMuX2NyZWF0ZUZpbGVVcmwoYiksaD10aGlzLl9jcmVhdGVEYXRhVXJsKGIpO3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGksaixrKXt2YXIgbCxtPW5ldyBSZWdFeHAoIig8W14+XStcXGJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KSIpLG49bmV3IFJlZ0V4cCgiXFxiZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7bS50ZXN0KGkpJiZSZWdFeHAuJDEmJm4udGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihnPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYSgiPGRpdj4iK1JlZ0V4cC4kMSsiPC9kaXY+IikudGV4dCgpKSksZS5wcmVmZXRjaD09PWQmJnRoaXMuX2dldEJhc2UoKS5zZXQoZyksbD10aGlzLl9wYXJzZShpLGcpLHRoaXMuX3NldExvYWRlZFRpdGxlKGwsaSksYy54aHI9ayxjLnRleHRTdGF0dXM9aixjLnBhZ2U9bCxjLmNvbnRlbnQ9bCxjLnRvUGFnZT1sLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgibG9hZCIsYykuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0aGlzLl9pc1Jld3JpdGFibGVCYXNlVGFnKCkmJmwmJnRoaXMuX2dldEJhc2UoKS5yZXdyaXRlKGcsbCksdGhpcy5faW5jbHVkZShsLGUpLGIuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihsPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiW2RhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9JyIraCsiJ10iKSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSxmLnJlc29sdmUoYixlLGwpKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscmVsb2FkOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMSxsb2FkTXNnRGVsYXk6NTB9LGxvYWQ6ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGcsaCxpPWMmJmMuZGVmZXJyZWR8fGEuRGVmZXJyZWQoKSxqPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjKSxrPW51bGwsbD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk7cmV0dXJuIGoucmVsb2FkPWoucmVsb2FkUGFnZSxqLmRhdGEmJiJnZXQiPT09ai50eXBlJiYobD1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhsLGouZGF0YSksai5kYXRhPWQpLGouZGF0YSYmInBvc3QiPT09ai50eXBlJiYoai5yZWxvYWQ9ITApLGU9dGhpcy5fY3JlYXRlRmlsZVVybChsKSxmPXRoaXMuX2NyZWF0ZURhdGFVcmwobCksaz10aGlzLl9maW5kKGwpLDA9PT1rLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShlKSYmIWEubW9iaWxlLnBhdGguaXNGaXJzdFBhZ2VVcmwoZSk/KGkucmVqZWN0KGwsaiksaS5wcm9taXNlKCkpOih0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxrLmxlbmd0aCYmIWoucmVsb2FkPyh0aGlzLl9lbmhhbmNlKGssai5yb2xlKSxpLnJlc29sdmUobCxqLGspLGoucHJlZmV0Y2h8fHRoaXMuX2dldEJhc2UoKS5zZXQoYiksaS5wcm9taXNlKCkpOihoPXt1cmw6YixhYnNVcmw6bCx0b1BhZ2U6YixwcmV2UGFnZTpjP2MuZnJvbVBhZ2U6ZCxkYXRhVXJsOmYsZGVmZXJyZWQ6aSxvcHRpb25zOmp9LGc9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVsb2FkIixoKSxnLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zy5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT9pLnByb21pc2UoKTooai5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0xvYWRpbmcoai5sb2FkTXNnRGVsYXkpLGoucHJlZmV0Y2g9PT1kJiZ0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXN8fGEubW9iaWxlLnBhdGguaXNTYW1lRG9tYWluKGEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsbCk/KGEuYWpheCh7dXJsOmUsdHlwZTpqLnR5cGUsZGF0YTpqLmRhdGEsY29udGVudFR5cGU6ai5jb250ZW50VHlwZSxkYXRhVHlwZToiaHRtbCIsc3VjY2Vzczp0aGlzLl9sb2FkU3VjY2VzcyhsLGgsaixpKSxlcnJvcjp0aGlzLl9sb2FkRXJyb3IobCxoLGosaSl9KSxpLnByb21pc2UoKSk6KGkucmVqZWN0KGwsaiksaS5wcm9taXNlKCkpKSkpfSxfbG9hZEVycm9yOmZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGYsZyxoKXt0aGlzLl9nZXRCYXNlKCkuc2V0KGEubW9iaWxlLnBhdGguZ2V0KCkpLGMueGhyPWYsYy50ZXh0U3RhdHVzPWcsYy5lcnJvclRocm93bj1oO3ZhciBpPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgibG9hZGZhaWxlZCIsYyk7aS5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGkuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkLnNob3dMb2FkTXNnJiZ0aGlzLl9zaG93RXJyb3IoKSxlLnJlamVjdChiLGQpKX0sdGhpcyl9LF9nZXRUcmFuc2l0aW9uSGFuZGxlcjpmdW5jdGlvbihiKXtyZXR1cm4gYj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihiKSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbYl18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcn0sX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT0hMTtkPWR8fCIiLGMmJihiWzBdPT09Y1swXSYmKGU9ITApLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkKyJoaWRlIix7bmV4dFBhZ2U6Yix0b1BhZ2U6YixwcmV2UGFnZTpjLHNhbWVQYWdlOmV9LGMpKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCsic2hvdyIse3ByZXZQYWdlOmN8fGEoIiIpLHRvUGFnZTpifSxiKX0sX2Nzc1RyYW5zaXRpb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz1kLnRyYW5zaXRpb24saD1kLnJldmVyc2UsaT1kLmRlZmVycmVkO3RoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKGIsYywiYmVmb3JlIiksdGhpcy5faGlkZUxvYWRpbmcoKSxlPXRoaXMuX2dldFRyYW5zaXRpb25IYW5kbGVyKGcpLGY9bmV3IGUoZyxoLGIsYykudHJhbnNpdGlvbigpLGYuZG9uZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjKX0sdGhpcykpLGYuZG9uZShmdW5jdGlvbigpe2kucmVzb2x2ZS5hcHBseShpLGFyZ3VtZW50cyl9KX0sX3JlbGVhc2VUcmFuc2l0aW9uTG9jazpmdW5jdGlvbigpe2Y9ITEsZS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLGUucG9wKCkpfSxfcmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyhiKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe2Y9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZWZhaWxlZCIsYyl9LHRoaXMpKX0sX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gYy5wcmV2UGFnZT10aGlzLmFjdGl2ZVBhZ2UsYS5leHRlbmQoYyx7dG9QYWdlOmIsb3B0aW9uczpkfSksYy5hYnNVcmw9InN0cmluZyI9PT1hLnR5cGUoYik/YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLl9maW5kQmFzZVdpdGhEZWZhdWx0KCkpOmQuYWJzVXJsLGU9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVjaGFuZ2UiLGMpLGUuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGUuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihmKXJldHVybiB2b2lkIGUudW5zaGlmdChhcmd1bWVudHMpO3ZhciBkPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsYyksZz17fTtkLmZyb21QYWdlPWQuZnJvbVBhZ2V8fHRoaXMuYWN0aXZlUGFnZSx0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsZCkmJihiPWcudG9QYWdlLCJzdHJpbmciPT09YS50eXBlKGIpPyhmPSEwLHRoaXMuX2xvYWRVcmwoYixnLGQpKTp0aGlzLnRyYW5zaXRpb24oYixnLGQpKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihiLGcsaCl7dmFyIGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdjtpZihmKXJldHVybiB2b2lkIGUudW5zaGlmdChbYixoXSk7aWYodGhpcy5fdHJpZ2dlclBhZ2VCZWZvcmVDaGFuZ2UoYixnLGgpJiYoZy5wcmV2UGFnZT1oLmZyb21QYWdlLHY9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmV0cmFuc2l0aW9uIixnKSwhdi5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkmJiF2LmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSl7aWYoZj0hMCxiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdfHxoLmRhdGFVcmx8fChoLmRhdGFVcmw9YS5tb2JpbGUucGF0aC5kb2N1bWVudFVybC5ocmVmTm9IYXNoKSxpPWguZnJvbVBhZ2Usaj1oLmRhdGFVcmwmJmEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChoLmRhdGFVcmwpfHxiLmpxbURhdGEoInVybCIpLGs9aixsPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoaiksbT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLG49MD09PWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsbz0wLHA9Yy50aXRsZSxxPSgiZGlhbG9nIj09PWgucm9sZXx8ImRpYWxvZyI9PT1iLmpxbURhdGEoInJvbGUiKSkmJmIuanFtRGF0YSgiZGlhbG9nIikhPT0hMCxpJiZpWzBdPT09YlswXSYmIWguYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pcmV0dXJuIGY9ITEsdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJ0cmFuc2l0aW9uIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZSIsZyksdm9pZChoLmZyb21IYXNoQ2hhbmdlJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmRpcmVjdCh7dXJsOmp9KSk7Yi5wYWdlKHtyb2xlOmgucm9sZX0pLGguZnJvbUhhc2hDaGFuZ2UmJihvPSJiYWNrIj09PWguZGlyZWN0aW9uPy0xOjEpO3RyeXtjLmFjdGl2ZUVsZW1lbnQmJiJib2R5IiE9PWMuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2EoYy5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2godyl7fXI9ITEscSYmbSYmKG0udXJsJiZtLnVybC5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZ0aGlzLmFjdGl2ZVBhZ2UmJiF0aGlzLmFjdGl2ZVBhZ2UuaGFzQ2xhc3MoInVpLWRpYWxvZyIpJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4PjAmJihoLmNoYW5nZUhhc2g9ITEscj0hMCksaj1tLnVybHx8IiIsais9IXImJmouaW5kZXhPZigiIyIpPi0xP2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk6IiMiK2EubW9iaWxlLmRpYWxvZ0hhc2hLZXkpLHM9bT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnAscyYmcD09PWMudGl0bGUmJihwPXMpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHQ9e2FsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOmguYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24sdHJhbnNpdGlvbjpoLnRyYW5zaXRpb24sdGl0bGU6cCxwYWdlVXJsOmsscm9sZTpoLnJvbGV9LGguY2hhbmdlSGFzaCE9PSExJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9hLm1vYmlsZS5uYXZpZ2F0ZShqLHQsITApOmJbMF0hPT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGosdCkpLGMudGl0bGU9cCxhLm1vYmlsZS5hY3RpdmVQYWdlPWIsdGhpcy5hY3RpdmVQYWdlPWIsaC5yZXZlcnNlPWgucmV2ZXJzZXx8MD5vLHU9YS5EZWZlcnJlZCgpLHRoaXMuX2Nzc1RyYW5zaXRpb24oYixpLHt0cmFuc2l0aW9uOmgudHJhbnNpdGlvbixyZXZlcnNlOmgucmV2ZXJzZSxkZWZlcnJlZDp1fSksdS5kb25lKGEucHJveHkoZnVuY3Rpb24oYyxkLGUsZixpKXthLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoKSxoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmguZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxpfHxhLm1vYmlsZS5mb2N1c1BhZ2UoYiksdGhpcy5fcmVsZWFzZVRyYW5zaXRpb25Mb2NrKCksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJ0cmFuc2l0aW9uIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZSIsZyl9LHRoaXMpKX19LF9maW5kQmFzZVdpdGhEZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5hY3RpdmVQYWdlJiZhLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybCh0aGlzLmFjdGl2ZVBhZ2UpO3JldHVybiBifHxhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNofX0pLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQ9YS5EZWZlcnJlZCgpO3ZhciBlPVtdLGY9ITF9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXtmb3IoO2EmJigic3RyaW5nIiE9dHlwZW9mIGEubm9kZU5hbWV8fCJhIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfXZhciBmPWEuRGVmZXJyZWQoKSxnPWEuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKCl7Zy5yZXNvbHZlKCksZz1udWxsfSxpPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsaj1udWxsO2EubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsYyl7dmFyIGQ7cmV0dXJuIGM9Y3x8e30sZD1jLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsYy5kZWZlcnJlZD1hLkRlZmVycmVkKCksZC5wYWdlY29udGFpbmVyKCJsb2FkIixiLGMpLGMuZGVmZXJyZWQucHJvbWlzZSgpfSxhLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGM9Yi5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZjJiZjLmFwcCYmYy5hcHAuYmFja0hpc3Rvcnk/Yy5hcHAuYmFja0hpc3RvcnkoKTphLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImJhY2siKX0sYS5tb2JpbGUuZm9jdXNQYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZmluZCgiW2F1dG9mb2N1c10iKSxjPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIik7cmV0dXJuIGIubGVuZ3RoP3ZvaWQgYi5mb2N1cygpOnZvaWQoYy5sZW5ndGg/Yy5mb2N1cygpOmEuZm9jdXMoKSl9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9ufHxmdW5jdGlvbihhKXtyZXR1cm4gYX0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGMpe2EubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigiY2hhbmdlIixiLGMpfSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLGZyb21IYXNoQ2hhbmdlOiExLHJvbGU6ZCxkdXBsaWNhdGVDYWNoZWRQYWdlOmQscGFnZUNvbnRhaW5lcjpkLHNob3dMb2FkTXNnOiEwLGRhdGFVcmw6ZCxmcm9tUGFnZTpkLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiExfSxhLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe3ZhciBjPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD0hMDtyZXR1cm4hYS5tb2JpbGUuYWpheEVuYWJsZWR8fGIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aHx8Yi5hdHRyKCJ0YXJnZXQiKT8hMTooZD1qJiZqLmF0dHIoImZvcm1hY3Rpb24iKXx8Yi5hdHRyKCJhY3Rpb24iKSxnPShiLmF0dHIoIm1ldGhvZCIpfHwiZ2V0IikudG9Mb3dlckNhc2UoKSxkfHwoZD1hLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChiKSwiZ2V0Ij09PWcmJihkPWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZCkuaHJlZk5vU2VhcmNoKSxkPT09YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCYmKGQ9aS5ocmVmTm9TZWFyY2gpKSxkPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGQsYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYikpLGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChkKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoaSxkKT8hMTooY3x8KGU9Yi5zZXJpYWxpemVBcnJheSgpLGomJmpbMF0uZm9ybT09PWJbMF0mJihmPWouYXR0cigibmFtZSIpLGYmJihhLmVhY2goZSxmdW5jdGlvbihhLGIpe3JldHVybiBiLm5hbWU9PT1mPyhmPSIiLCExKTp2b2lkIDB9KSxmJiZlLnB1c2goe25hbWU6Zix2YWx1ZTpqLmF0dHIoInZhbHVlIil9KSkpLGg9e3VybDpkLG9wdGlvbnM6e3R5cGU6ZyxkYXRhOmEucGFyYW0oZSksdHJhbnNpdGlvbjpiLmpxbURhdGEoInRyYW5zaXRpb24iKSxyZXZlcnNlOiJyZXZlcnNlIj09PWIuanFtRGF0YSgiZGlyZWN0aW9uIikscmVsb2FkUGFnZTohMH19KSxoKSl9O2EubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJmb3JtIiwic3VibWl0IixmdW5jdGlvbihiKXt2YXIgZDtiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1jKGEodGhpcykpLGQmJihhLm1vYmlsZS5jaGFuZ2VQYWdlKGQudXJsLGQub3B0aW9ucyksYi5wcmV2ZW50RGVmYXVsdCgpKSl9KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBkLGYsZz1iLnRhcmdldCxoPSExO2lmKCEoYi53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXtpZihqPWEoZyksYS5kYXRhKGcsIm1vYmlsZS1idXR0b24iKSl7aWYoIWMoYShnKS5jbG9zZXN0KCJmb3JtIiksITApKXJldHVybjtnLnBhcmVudE5vZGUmJihnPWcucGFyZW50Tm9kZSl9ZWxzZXtpZihnPWUoZyksIWd8fCIjIj09PWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoKXJldHVybjtpZighYShnKS5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybn1+Zy5jbGFzc05hbWUuaW5kZXhPZigidWktbGluay1pbmhlcml0Iik/Zy5wYXJlbnROb2RlJiYoZj1hLmRhdGEoZy5wYXJlbnROb2RlLCJidXR0b25FbGVtZW50cyIpKTpmPWEuZGF0YShnLCJidXR0b25FbGVtZW50cyIpLGY/Zz1mLm91dGVyOmg9ITAsZD1hKGcpLGgmJihkPWQuY2xvc2VzdCgiLnVpLWJ0biIpKSxkLmxlbmd0aD4wJiYhZC5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSYmKGEubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCksYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbms9ZCxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZixnLGgsaixrLGwsbSxuPWUoYy50YXJnZXQpLG89YShuKSxwPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKX0sMjAwKX07aWYoYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsmJmEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rWzBdPT09Yy50YXJnZXQucGFyZW50Tm9kZSYmcCgpLG4mJiEoYy53aGljaD4xKSYmby5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihvLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiBhLm1vYmlsZS5iYWNrKCksITE7aWYoZj1hLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChvKSxnPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKG8uYXR0cigiaHJlZiIpfHwiIyIsZiksIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShnKSlyZXR1cm4gdm9pZCBwKCk7aWYoISgtMT09PWcuc2VhcmNoKCIjIil8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChnKSYmYS5tb2JpbGUucGF0aC5pc0Fic29sdXRlVXJsKGcpKSl7aWYoZz1nLnJlcGxhY2UoL1teI10qIy8sIiIpLCFnKXJldHVybiB2b2lkIGMucHJldmVudERlZmF1bHQoKTtnPWEubW9iaWxlLnBhdGguaXNQYXRoKGcpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGcsZik6YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2csaS5ocmVmTm9IYXNoKX1pZihoPW8uaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8by5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxvLmlzKCJbdGFyZ2V0XSIpLGo9aHx8YS5tb2JpbGUucGF0aC5pc0V4dGVybmFsKGcpJiYhYS5tb2JpbGUucGF0aC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdChpLGcpKXJldHVybiB2b2lkIHAoKTtrPW8uanFtRGF0YSgidHJhbnNpdGlvbiIpLGw9InJldmVyc2UiPT09by5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8by5qcW1EYXRhKCJiYWNrIiksbT1vLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQsYS5tb2JpbGUuY2hhbmdlUGFnZShnLHt0cmFuc2l0aW9uOmsscmV2ZXJzZTpsLHJvbGU6bSxsaW5rOm99KSxjLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGZ1bmN0aW9uKCl7Zz9nLmRvbmUoYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KTphLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKX0pLGEubW9iaWxlLndpbmRvdy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtmLnJlc29sdmUoKX0pLCJjb21wbGV0ZSI9PT1jLnJlYWR5U3RhdGU/aCgpOmEubW9iaWxlLndpbmRvdy5sb2FkKGgpLGEud2hlbihmLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUuVHJhbnNpdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXh0ZW5kKGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHt0b1ByZUNsYXNzOiIgdWktcGFnZS1wcmUtaW4iLGluaXQ6ZnVuY3Rpb24oYixjLGQsZSl7YS5leHRlbmQodGhpcyx7bmFtZTpiLHJldmVyc2U6YywkdG86ZCwkZnJvbTplLGRlZmVycmVkOm5ldyBhLkRlZmVycmVkfSl9LGNsZWFuRnJvbTpmdW5jdGlvbigpe3RoaXMuJGZyb20ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIil9LGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe30sYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe30sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oKXt9LGRvbmVJbjpmdW5jdGlvbigpe3RoaXMuYmVmb3JlRG9uZUluKCksdGhpcy4kdG8ucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrdGhpcy5uYW1lKS5oZWlnaHQoIiIpLHRoaXMudG9nZ2xlVmlld3BvcnRDbGFzcygpLGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PXRoaXMudG9TY3JvbGwmJnRoaXMuc2Nyb2xsUGFnZSgpLHRoaXMuc2VxdWVudGlhbHx8dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSx0aGlzLmRlZmVycmVkLnJlc29sdmUodGhpcy5uYW1lLHRoaXMucmV2ZXJzZSx0aGlzLiR0byx0aGlzLiRmcm9tLCEwKX0sZG9uZU91dDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmJlZm9yZURvbmVPdXQoKSx0aGlzLnN0YXJ0SW4oYSxiLGMsZCl9LGhpZGVJbjpmdW5jdGlvbihhKXt0aGlzLiR0by5jc3MoInotaW5kZXgiLC0xMCksYS5jYWxsKHRoaXMpLHRoaXMuJHRvLmNzcygiei1pbmRleCIsIiIpCn0sc2Nyb2xsUGFnZTpmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLChhLm1vYmlsZS5oaWRlVXJsQmFyfHx0aGlzLnRvU2Nyb2xsIT09YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpJiZiLnNjcm9sbFRvKDAsdGhpcy50b1Njcm9sbCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxzdGFydEluOmZ1bmN0aW9uKGIsYyxkLGUpe3RoaXMuaGlkZUluKGZ1bmN0aW9uKCl7dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK3RoaXMudG9QcmVDbGFzcyksZXx8YS5tb2JpbGUuZm9jdXNQYWdlKHRoaXMuJHRvKSx0aGlzLiR0by5oZWlnaHQoYit0aGlzLnRvU2Nyb2xsKSxkfHx0aGlzLnNjcm9sbFBhZ2UoKX0pLHRoaXMuJHRvLnJlbW92ZUNsYXNzKHRoaXMudG9QcmVDbGFzcykuYWRkQ2xhc3ModGhpcy5uYW1lKyIgaW4gIitjKSxkP3RoaXMuZG9uZUluKCk6dGhpcy4kdG8uYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZG9uZUluKCl9LHRoaXMpKX0sc3RhcnRPdXQ6ZnVuY3Rpb24oYixjLGQpe3RoaXMuYmVmb3JlU3RhcnRPdXQoYixjLGQpLHRoaXMuJGZyb20uaGVpZ2h0KGIrYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpKS5hZGRDbGFzcyh0aGlzLm5hbWUrIiBvdXQiK2MpfSx0b2dnbGVWaWV3cG9ydENsYXNzOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIit0aGlzLm5hbWUpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLnJldmVyc2U/IiByZXZlcnNlIjoiIixkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGU9YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoIT09ITEmJmEubW9iaWxlLndpbmRvdy53aWR0aCgpPmEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aDtyZXR1cm4gdGhpcy50b1Njcm9sbD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLmxhc3RTY3JvbGx8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGI9IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8IWEuc3VwcG9ydC5jc3NBbmltYXRpb25zfHxlfHwhdGhpcy5uYW1lfHwibm9uZSI9PT10aGlzLm5hbWV8fE1hdGgubWF4KGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLnRvU2Nyb2xsKT5hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksdGhpcy4kZnJvbSYmIWI/dGhpcy5zdGFydE91dChkLGMsYik6dGhpcy5kb25lT3V0KGQsYyxiLCEwKSx0aGlzLmRlZmVycmVkLnByb21pc2UoKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITAsYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLiRmcm9tLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVPdXQoYixjLGQpfSx0aGlzKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb24ucHJvdG90eXBlLGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHtzZXF1ZW50aWFsOiExLGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmRvbmVPdXQoYSxiLGMpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe3JldHVybiAzKmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e3NlcXVlbnRpYWw6YS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbixzaW11bHRhbmVvdXM6YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb259LGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2VxdWVudGlhbCxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGJ9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93PSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zaW11bHRhbmVvdXMsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MudHVybj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9YS5tb2JpbGUuZGVncmFkZUlucHV0cyxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluPWZ1bmN0aW9uKGIpe2I9YShiKSxiLmZpbmQoImlucHV0Iikubm90KGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZj1hKHRoaXMpLGc9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxoPWEubW9iaWxlLmRlZ3JhZGVJbnB1dHNbZ118fCJ0ZXh0IjthLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddJiYoYj1hKCI8ZGl2PiIpLmh0bWwoZi5jbG9uZSgpKS5odG1sKCksYz1iLmluZGV4T2YoIiB0eXBlPSIpPi0xLGQ9Yz8vXHMrdHlwZT1bIiddP1x3K1snIl0/LzovXC8/Pi8sZT0nIHR5cGU9IicraCsnIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9IicrZysnIicrKGM/IiI6Ij4iKSxmLnJlcGxhY2VXaXRoKGIucmVwbGFjZShkLGUpKSl9KX19KGEpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLnBhZ2UiLGEubW9iaWxlLnBhZ2Use29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITAsZGlhbG9nOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuZGlhbG9nJiYoYS5leHRlbmQodGhpcyx7X2lubmVyOnRoaXMuZWxlbWVudC5jaGlsZHJlbigpLF9oZWFkZXJDbG9zZUJ1dHRvbjpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5kaWFsb2cmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyh0aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiKX0pKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmdGhpcy5vcHRpb25zLmRpYWxvZz8odGhpcy5yZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kKCksdGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpKTp0aGlzLl9zdXBlcigpfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMuX2hlYWRlckNsb3NlQnV0dG9uO2I9ImxlZnQiPT09Yj8ibGVmdCI6InJpZ2h0Ij09PWI/InJpZ2h0Ijoibm9uZSIsIm5vbmUiPT09Yj9lJiYoZS5yZW1vdmUoKSxlPW51bGwpOmU/KGUucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tIitiKSxjJiZlLnRleHQoYykpOihkPXRoaXMuX2lubmVyLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmlyc3QoKSxlPWEoIjxhPjwvYT4iLHtocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIiwiYmFjayIpLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSksdGhpcy5faGVhZGVyQ2xvc2VCdXR0b249ZX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMX0sX2hhbmRsZVZDbGlja1N1Ym1pdDpmdW5jdGlvbihiKXt2YXIgYyxkPWEoYi50YXJnZXQpLmNsb3Nlc3QoInZjbGljayI9PT1iLnR5cGU/ImEiOiJmb3JtIik7ZC5sZW5ndGgmJiFkLmpxbURhdGEoInRyYW5zaXRpb24iKSYmKGM9e30sY1siZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIl09KGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9KS50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbixjWyJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiJdPSJyZXZlcnNlIixkLmF0dHIoYykpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2IuYWRkQ2xhc3MoInVpLWRpYWxvZyIpLndyYXBJbm5lcihhKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IisoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpfSkpLGEuZXh0ZW5kKHRoaXMse19pc0Nsb3NlYWJsZTohMSxfaW5uZXI6Yi5jaGlsZHJlbigpLF9oZWFkZXJDbG9zZUJ1dHRvbjpudWxsfSksdGhpcy5fb24oYix7dmNsaWNrOiJfaGFuZGxlVkNsaWNrU3VibWl0IixzdWJtaXQ6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHBhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSksdGhpcy5fc2V0Q2xvc2VCdG4oYy5jbG9zZUJ0bil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGUsZj10aGlzLm9wdGlvbnM7Yi5jb3JuZXJzIT09YyYmdGhpcy5faW5uZXIudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLCEhYi5jb3JuZXJzKSxiLm92ZXJsYXlUaGVtZSE9PWMmJmEubW9iaWxlLmFjdGl2ZVBhZ2VbMF09PT10aGlzLmVsZW1lbnRbMF0mJihmLm92ZXJsYXlUaGVtZT1iLm92ZXJsYXlUaGVtZSx0aGlzLl9oYW5kbGVQYWdlQmVmb3JlU2hvdygpKSxiLmNsb3NlQnRuVGV4dCE9PWMmJihkPWYuY2xvc2VCdG4sZT1iLmNsb3NlQnRuVGV4dCksYi5jbG9zZUJ0biE9PWMmJihkPWIuY2xvc2VCdG4pLGQmJnRoaXMuX3NldENsb3NlQnRuKGQsZSksdGhpcy5fc3VwZXIoYil9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiPT09Yj8icmlnaHQiOiJub25lIiwibm9uZSI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi0iK2IpLGMmJmUudGV4dChjKSk6KGQ9dGhpcy5faW5uZXIuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maXJzdCgpLGU9YSgiPGE+PC9hPiIse3JvbGU6ImJ1dHRvbiIsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi0iK2J9KS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fCIiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6ImNsb3NlIn0pKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmYi5hY3RpdmVJbmRleD4wP2EubW9iaWxlLmJhY2soKTphLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImJhY2siKSl9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0vKFtBLVpdKS9nLGQ9ZnVuY3Rpb24oYSl7cmV0dXJuInVpLWJ0bi1pY29uLSIrKG51bGw9PT1hPyJsZWZ0IjphKX07YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIse29wdGlvbnM6e2VuaGFuY2VkOiExLGV4cGFuZEN1ZVRleHQ6bnVsbCxjb2xsYXBzZUN1ZVRleHQ6bnVsbCxjb2xsYXBzZWQ6ITAsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIixjb2xsYXBzZWRJY29uOm51bGwsZXhwYW5kZWRJY29uOm51bGwsaWNvbnBvczpudWxsLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6bnVsbCxjb3JuZXJzOm51bGwsbWluaTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9e2FjY29yZGlvbjpiLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpLDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlc2V0JykiKyhhLm1vYmlsZS5jb2xsYXBzaWJsZXNldD8iLCA6bW9iaWxlLWNvbGxhcHNpYmxlc2V0IjoiIikpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKX07dGhpcy5fdWk9Yyx0aGlzLl9yZW5kZXJlZE9wdGlvbnM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8oYy5oZWFkaW5nPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKSxjLmNvbnRlbnQ9Yy5oZWFkaW5nLm5leHQoKSxjLmFuY2hvcj1jLmhlYWRpbmcuY2hpbGRyZW4oKSxjLnN0YXR1cz1jLmFuY2hvci5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikpOnRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9vbihjLmhlYWRpbmcse3RhcDpmdW5jdGlvbigpe2MuaGVhZGluZy5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LGNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCFjLmhlYWRpbmcuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikpLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfX0pfSxfZ2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlPXRoaXMuX3VpLmFjY29yZGlvbixmPXRoaXMuX3VpLmFjY29yZGlvbldpZGdldDtiPWEuZXh0ZW5kKHt9LGIpLGUubGVuZ3RoJiYhZiYmKHRoaXMuX3VpLmFjY29yZGlvbldpZGdldD1mPWUuZGF0YSgibW9iaWxlLWNvbGxhcHNpYmxlc2V0IikpO2ZvcihkIGluIGIpYltkXT1udWxsIT1iW2RdP2JbZF06Zj9mLm9wdGlvbnNbZF06ZS5sZW5ndGg/YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGVbMF0sZC5yZXBsYWNlKGMsIi0kMSIpLnRvTG93ZXJDYXNlKCkpOm51bGwsbnVsbD09YltkXSYmKGJbZF09YS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHNbZF0pO3JldHVybiBifSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjoiIn0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZSxmPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxnPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZi5jb250ZW50VGhlbWUpO3JldHVybiBiLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSAiKyhmLmluc2V0PyJ1aS1jb2xsYXBzaWJsZS1pbnNldCAiOiIiKSsoZi5pbnNldCYmZi5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKyhnPyJ1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCAiOiIiKSksYy5vcmlnaW5hbEhlYWRpbmc9Yi5jaGlsZHJlbih0aGlzLm9wdGlvbnMuaGVhZGluZykuZmlyc3QoKSxjLmNvbnRlbnQ9Yi53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQgIitnKyInPjwvZGl2PiIpLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGMuaGVhZGluZz1jLm9yaWdpbmFsSGVhZGluZyxjLmhlYWRpbmcuaXMoImxlZ2VuZCIpJiYoYy5oZWFkaW5nPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitjLmhlYWRpbmcuaHRtbCgpKyI8L2Rpdj4iKSxjLnBsYWNlaG9sZGVyPWEoIjxkaXY+PCEtLSBwbGFjZWhvbGRlciBmb3IgbGVnZW5kIC0tPjwvZGl2PiIpLmluc2VydEJlZm9yZShjLm9yaWdpbmFsSGVhZGluZyksYy5vcmlnaW5hbEhlYWRpbmcucmVtb3ZlKCkpLGU9Zi5jb2xsYXBzZWQ/Zi5jb2xsYXBzZWRJY29uPyJ1aS1pY29uLSIrZi5jb2xsYXBzZWRJY29uOiIiOmYuZXhwYW5kZWRJY29uPyJ1aS1pY29uLSIrZi5leHBhbmRlZEljb246IiIsYy5zdGF0dXM9YSgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+IiksYy5hbmNob3I9Yy5oZWFkaW5nLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKGMuc3RhdHVzKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKCJ1aS1idG4gIisoZT9lKyIgIjoiIikrKGU/ZChmLmljb25wb3MpKyIgIjoiIikrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGYudGhlbWUpKyIgIisoZi5taW5pPyJ1aS1taW5pICI6IiIpKSxjLmhlYWRpbmcuaW5zZXJ0QmVmb3JlKGMuY29udGVudCksdGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UodGhpcy5vcHRpb25zLmNvbGxhcHNlZCksY30scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2FwcGx5T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9hcHBseU9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZSxmLGcsaCxpPXRoaXMuZWxlbWVudCxqPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxrPXRoaXMuX3VpLGw9ay5hbmNob3IsbT1rLnN0YXR1cyxuPXRoaXMuX2dldE9wdGlvbnMoYSk7YS5jb2xsYXBzZWQhPT1iJiZ0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZShhLmNvbGxhcHNlZCksYz1pLmhhc0NsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiKSxjP24uZXhwYW5kQ3VlVGV4dCE9PWImJm0udGV4dChuLmV4cGFuZEN1ZVRleHQpOm4uY29sbGFwc2VDdWVUZXh0IT09YiYmbS50ZXh0KG4uY29sbGFwc2VDdWVUZXh0KSxoPW4uY29sbGFwc2VkSWNvbiE9PWI/bi5jb2xsYXBzZWRJY29uIT09ITE6ai5jb2xsYXBzZWRJY29uIT09ITEsKG4uaWNvbnBvcyE9PWJ8fG4uY29sbGFwc2VkSWNvbiE9PWJ8fG4uZXhwYW5kZWRJY29uIT09YikmJihsLnJlbW92ZUNsYXNzKFtkKGouaWNvbnBvcyldLmNvbmNhdChqLmV4cGFuZGVkSWNvbj9bInVpLWljb24tIitqLmV4cGFuZGVkSWNvbl06W10pLmNvbmNhdChqLmNvbGxhcHNlZEljb24/WyJ1aS1pY29uLSIrai5jb2xsYXBzZWRJY29uXTpbXSkuam9pbigiICIpKSxoJiZsLmFkZENsYXNzKFtkKG4uaWNvbnBvcyE9PWI/bi5pY29ucG9zOmouaWNvbnBvcyldLmNvbmNhdChjP1sidWktaWNvbi0iKyhuLmNvbGxhcHNlZEljb24hPT1iP24uY29sbGFwc2VkSWNvbjpqLmNvbGxhcHNlZEljb24pXTpbInVpLWljb24tIisobi5leHBhbmRlZEljb24hPT1iP24uZXhwYW5kZWRJY29uOmouZXhwYW5kZWRJY29uKV0pLmpvaW4oIiAiKSkpLG4udGhlbWUhPT1iJiYoZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsai50aGVtZSksZT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsbi50aGVtZSksbC5yZW1vdmVDbGFzcyhmKS5hZGRDbGFzcyhlKSksbi5jb250ZW50VGhlbWUhPT1iJiYoZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGouY29udGVudFRoZW1lKSxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsbi5jb250ZW50VGhlbWUpLGsuY29udGVudC5yZW1vdmVDbGFzcyhmKS5hZGRDbGFzcyhlKSksbi5pbnNldCE9PWImJihpLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1pbnNldCIsbi5pbnNldCksZz0hKCFuLmluc2V0fHwhbi5jb3JuZXJzJiYhai5jb3JuZXJzKSksbi5jb3JuZXJzIT09YiYmKGc9ISghbi5jb3JuZXJzfHwhbi5pbnNldCYmIWouaW5zZXQpKSxnIT09YiYmaS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZyksbi5taW5pIT09YiYmbC50b2dnbGVDbGFzcygidWktbWluaSIsbi5taW5pKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlPcHRpb25zKGEpLHRoaXMuX3N1cGVyKGEpLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9oYW5kbGVFeHBhbmRDb2xsYXBzZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl9yZW5kZXJlZE9wdGlvbnMsZD10aGlzLl91aTtkLnN0YXR1cy50ZXh0KGI/Yy5leHBhbmRDdWVUZXh0OmMuY29sbGFwc2VDdWVUZXh0KSxkLmhlYWRpbmcudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixiKS5maW5kKCJhIikuZmlyc3QoKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2MuZXhwYW5kZWRJY29uLCFiKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2MuY29sbGFwc2VkSWNvbixifHxjLmV4cGFuZGVkSWNvbj09PWMuY29sbGFwc2VkSWNvbikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixiKSxkLmNvbnRlbnQudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixiKS5hdHRyKCJhcmlhLWhpZGRlbiIsYikudHJpZ2dlcigidXBkYXRlbGF5b3V0IiksdGhpcy5vcHRpb25zLmNvbGxhcHNlZD1iLHRoaXMuX3RyaWdnZXIoYj8iY29sbGFwc2UiOiJleHBhbmQiKX0sZXhwYW5kOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoITEpfSxjb2xsYXBzZTpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCEwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aSxiPXRoaXMub3B0aW9ucztiLmVuaGFuY2VkfHwoYS5wbGFjZWhvbGRlcj8oYS5vcmlnaW5hbEhlYWRpbmcuaW5zZXJ0QmVmb3JlKGEucGxhY2Vob2xkZXIpLGEucGxhY2Vob2xkZXIucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZSgpKTooYS5zdGF0dXMucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIHVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikuY2hpbGRyZW4oKS5jb250ZW50cygpLnVud3JhcCgpKSxhLmFuY2hvci5jb250ZW50cygpLnVud3JhcCgpLGEuY29udGVudC5jb250ZW50cygpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUgdWktY29sbGFwc2libGUtY29sbGFwc2VkIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IHVpLWNvbGxhcHNpYmxlLWluc2V0IHVpLWNvcm5lci1hbGwiKSl9fSksYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHM9e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWRJY29uOiJwbHVzIixjb250ZW50VGhlbWU6ImluaGVyaXQiLGV4cGFuZGVkSWNvbjoibWludXMiLGljb25wb3M6ImxlZnQiLGluc2V0OiEwLGNvcm5lcnM6ITAsdGhlbWU6ImluaGVyaXQiLG1pbmk6ITF9fShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBkLGU9Yi5sZW5ndGgsZj1bXTtmb3IoZD0wO2U+ZDtkKyspYltkXS5jbGFzc05hbWUubWF0Y2goYyl8fGYucHVzaChiW2RdKTtyZXR1cm4gYShmKX12YXIgYz0vXGJ1aS1zY3JlZW4taGlkZGVuXGIvO2EubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzPXtfZ2V0VmlzaWJsZXM6ZnVuY3Rpb24oYSxjKXt2YXIgZDtyZXR1cm4gYz9kPWIoYSk6KGQ9YS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWQubGVuZ3RoJiYoZD1iKGEpKSksZH0sX2FkZEZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKSxiLmVxKDApLmFkZENsYXNzKCJ1aS1maXJzdC1jaGlsZCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcygidWktbGFzdC1jaGlsZCIpLGN8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX0sX3JlbW92ZUZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9Ijptb2JpbGUtY29sbGFwc2libGUsICIrYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yO2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpLDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlc2V0JykiLG9wdGlvbnM6YS5leHRlbmQoe2VuaGFuY2VkOiExfSxhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cyksX2hhbmRsZUNvbGxhcHNpYmxlRXhwYW5kOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpO2MucGFyZW50KCkuaXMoIjptb2JpbGUtY29sbGFwc2libGVzZXQsIDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikmJmMuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZTpub3QoLnVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCkiKS5jb2xsYXBzaWJsZSgiY29sbGFwc2UiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczthLmV4dGVuZCh0aGlzLHtfY2xhc3NlczoiIn0pLGMuZW5oYW5jZWR8fChiLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIixjLnRoZW1lKSsiICIrKGMuY29ybmVycyYmYy5pbnNldD8idWktY29ybmVyLWFsbCAiOiIiKSksdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yKS5jb2xsYXBzaWJsZSgpKSx0aGlzLl9vbihiLHtjb2xsYXBzaWJsZWV4cGFuZDoiX2hhbmRsZUNvbGxhcHNpYmxlRXhwYW5kIn0pfSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjoiIn0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCEwKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oYykuZmlsdGVyKCI6anFtRGF0YShjb2xsYXBzZWQ9J2ZhbHNlJykiKS5jb2xsYXBzaWJsZSgiZXhwYW5kIil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzLmVsZW1lbnQsZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIixhLnRoZW1lKTtyZXR1cm4gZiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIix0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyhmKSxhLmluc2V0IT09YiYmKGQ9ISghYS5pbnNldHx8IWEuY29ybmVycyYmIXRoaXMub3B0aW9ucy5jb3JuZXJzKSksYS5jb3JuZXJzIT09YiYmKGQ9ISghYS5jb3JuZXJzfHwhYS5pbnNldCYmIXRoaXMub3B0aW9ucy5pbnNldCkpLGQhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixkKSxjPXRoaXMuX3N1cGVyKGEpLHRoaXMuZWxlbWVudC5jaGlsZHJlbigiOm1vYmlsZS1jb2xsYXBzaWJsZSIpLmNvbGxhcHNpYmxlKCJyZWZyZXNoIiksY30sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7dGhpcy5fcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlcyhhLmNoaWxkcmVuKGMpKSxhLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQgdWktY29ybmVyLWFsbCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLHRoaXMub3B0aW9ucy50aGVtZSkpLmNoaWxkcmVuKCI6bW9iaWxlLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoImRlc3Ryb3kiKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpO3RoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3Rvcikubm90KCIudWktY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoZCx0aGlzLl9nZXRWaXNpYmxlcyhkLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhKXthLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKCJ1aS1maWVsZC1jb250YWluIil9fShhKSxmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjLGQsZT1hKHRoaXMpLGY9YS5leHRlbmQoe2dyaWQ6bnVsbH0sYiksZz1lLmNoaWxkcmVuKCksaD17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0saT1mLmdyaWQ7aWYoIWkpaWYoZy5sZW5ndGg8PTUpZm9yKGQgaW4gaCloW2RdPT09Zy5sZW5ndGgmJihpPWQpO2Vsc2UgaT0iYSIsZS5hZGRDbGFzcygidWktZ3JpZC1kdW8iKTtjPWhbaV0sZS5hZGRDbGFzcygidWktZ3JpZC0iK2kpLGcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIiksYz4xJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMikiKS5hZGRDbGFzcygidWktYmxvY2stYiIpLGM+MiYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzMpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWMiKSxjPjMmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis0KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1kIiksYz40JiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rNSkiKS5hZGRDbGFzcygidWktYmxvY2stZSIpfSl9fShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUubmF2YmFyIix7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmZpbmQoImEsIGJ1dHRvbiIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJpY29uIiksYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywidGhlbWUiKSxkPSJ1aS1idG4iO2MmJihkKz0iIHVpLWJ0bi0iK2MpLGImJihkKz0iIHVpLWljb24tIitiKyIgdWktYnRuLWljb24tIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoInVpLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfHwoZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYShjKS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpfSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGU7YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246ImNhcmF0LXIiLHNwbGl0SWNvbjoiY2FyYXQtciIsc3BsaXRUaGVtZTpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGluc2V0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSIiO2IrPWEub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixhLm9wdGlvbnMuaW5zZXQmJihiKz1hLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLGIrPWEub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoIiB1aS1saXN0dmlldyIrYiksYS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Zm9yKGVbY109ZVtkXT0hMDthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPWIubGVuZ3RoO2ZvcihjPTA7ZT5jO2MrKylkPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGQubGVuZ3RoJiZhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZFswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhkLmhhc0NsYXNzKCJ1aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIil9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmb3IoZltjXT1mW2RdPSEwLGI9Yi5maXJzdENoaWxkO2I7KWZbYi5ub2RlTmFtZV0mJmUucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZSl9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6YS5ub29wLF9hZnRlckxpc3R2aWV3UmVmcmVzaDphLm5vb3AscmVmcmVzaDpmdW5jdGlvbihjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHg9dGhpcy5vcHRpb25zLHk9dGhpcy5lbGVtZW50LHo9ISFhLm5vZGVOYW1lKHlbMF0sIm9sIiksQT15LmF0dHIoInN0YXJ0IiksQj17fSxDPXkuZmluZCgiLnVpLWxpLWNvdW50IiksRD1iKHlbMF0sImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUsRT1EPyJ1aS1ib2R5LSIrRDoidWktYm9keS1pbmhlcml0Ijtmb3IoeC50aGVtZSYmeS5hZGRDbGFzcygidWktZ3JvdXAtdGhlbWUtIit4LnRoZW1lKSx6JiYoQXx8MD09PUEpJiYobj1wYXJzZUludChBLDEwKS0xLHkuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK24pKSx0aGlzLl9iZWZvcmVMaXN0dmlld1JlZnJlc2goKSx3PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHlbMF0sImxpIiwiTEkiKSxlPTAsZj13Lmxlbmd0aDtmPmU7ZSsrKWc9dy5lcShlKSxoPSIiLChjfHxnWzBdLmNsYXNzTmFtZS5zZWFyY2goL1xidWktbGktc3RhdGljXGJ8XGJ1aS1saS1kaXZpZGVyXGIvKTwwKSYmKGw9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSwiYSIsIkEiKSxtPSJsaXN0LWRpdmlkZXIiPT09YihnWzBdLCJyb2xlIikscD1nLmF0dHIoInZhbHVlIiksaT1iKGdbMF0sInRoZW1lIiksbC5sZW5ndGgmJmxbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1idG5cYi8pPDAmJiFtPyhqPWIoZ1swXSwiaWNvbiIpLGs9aj09PSExPyExOmp8fHguaWNvbixsLnJlbW92ZUNsYXNzKCJ1aS1saW5rIiksZD0idWktYnRuIixpJiYoZCs9IiB1aS1idG4tIitpKSxsLmxlbmd0aD4xPyhoPSJ1aS1saS1oYXMtYWx0IixxPWwubGFzdCgpLHI9YihxWzBdLCJ0aGVtZSIpfHx4LnNwbGl0VGhlbWV8fGIoZ1swXSwidGhlbWUiLCEwKSxzPXI/IiB1aS1idG4tIityOiIiLHQ9YihxWzBdLCJpY29uIil8fGIoZ1swXSwiaWNvbiIpfHx4LnNwbGl0SWNvbix1PSJ1aS1idG4gdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tIit0K3MscS5hdHRyKCJ0aXRsZSIsYS50cmltKHEuZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKHUpLmVtcHR5KCksbD1sLmZpcnN0KCkpOmsmJihkKz0iIHVpLWJ0bi1pY29uLXJpZ2h0IHVpLWljb24tIitrKSxsLmFkZENsYXNzKGQpKTptPyh2PWIoZ1swXSwidGhlbWUiKXx8eC5kaXZpZGVyVGhlbWV8fHgudGhlbWUsaD0idWktbGktZGl2aWRlciB1aS1iYXItIisodj92OiJpbmhlcml0IiksZy5hdHRyKCJyb2xlIiwiaGVhZGluZyIpKTpsLmxlbmd0aDw9MCYmKGg9InVpLWxpLXN0YXRpYyB1aS1ib2R5LSIrKGk/aToiaW5oZXJpdCIpKSx6JiZwJiYobz1wYXJzZUludChwLDEwKS0xLGcuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK28pKSksQltoXXx8KEJbaF09W10pLEJbaF0ucHVzaChnWzBdKTtmb3IoaCBpbiBCKWEoQltoXSkuYWRkQ2xhc3MoaCk7Qy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLEUmJkMubm90KCJbY2xhc3MqPSd1aS1ib2R5LSddIikuYWRkQ2xhc3MoRSksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHcpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh3LmZpbmQoIi51aS1idG4iKSksdGhpcy5fYWZ0ZXJMaXN0dmlld1JlZnJlc2goKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKHcsdGhpcy5fZ2V0VmlzaWJsZXModyxjKSxjKX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSl9KGEpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGM9YS50cmltKGIudGV4dCgpKXx8bnVsbDtyZXR1cm4gYz9jPWMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2F1dG9kaXZpZGVyczohMSxhdXRvZGl2aWRlcnNTZWxlY3RvcjpifSxfYmVmb3JlTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9kaXZpZGVycyYmKHRoaXMuX3JlcGxhY2VEaXZpZGVycygpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSl9LF9yZXBsYWNlRGl2aWRlcnM6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGg9bnVsbCxpPXRoaXMuZWxlbWVudDtmb3IoaS5jaGlsZHJlbigibGk6anFtRGF0YShyb2xlPSdsaXN0LWRpdmlkZXInKSIpLnJlbW92ZSgpLGQ9aS5jaGlsZHJlbigibGkiKSxiPTA7YjxkLmxlbmd0aDtiKyspZT1kW2JdLGY9dGhpcy5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGEoZSkpLGYmJmghPT1mJiYoZz1jLmNyZWF0ZUVsZW1lbnQoImxpIiksZy5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGYpKSxnLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIiwibGlzdC1kaXZpZGVyIiksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnLGUpKSxoPWZ9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPS8oXnxccyl1aS1saS1kaXZpZGVyKCR8XHMpLyxjPS8oXnxccyl1aS1zY3JlZW4taGlkZGVuKCR8XHMpLzthLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLm1vYmlsZS5saXN0dmlldyx7b3B0aW9uczp7aGlkZURpdmlkZXJzOiExfSxfYWZ0ZXJMaXN0dmlld1JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxkLGUsZj0hMDtpZih0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5vcHRpb25zLmhpZGVEaXZpZGVycylmb3IoYT10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZSh0aGlzLmVsZW1lbnRbMF0sImxpIiwiTEkiKSxkPWEubGVuZ3RoLTE7ZD4tMTtkLS0pZT1hW2RdLGUuY2xhc3NOYW1lLm1hdGNoKGIpPyhmJiYoZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUrIiB1aS1zY3JlZW4taGlkZGVuIiksZj0hMCk6ZS5jbGFzc05hbWUubWF0Y2goYyl8fChmPSExKX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubm9qcz1mdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGIpLmFkZENsYXNzKCJ1aS1ub2pzIil9fShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0PXtfaGFuZGxlRm9ybVJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3Jlc2V0Iil9fSl9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS5wYXRoLmhhc2hUb1NlbGVjdG9yO2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiaW5wdXQ6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApIClbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSkiLG9wdGlvbnM6e3RoZW1lOiJpbmhlcml0IixtaW5pOiExLHdyYXBwZXJDbGFzczpudWxsLGVuaGFuY2VkOiExLGljb25wb3M6ImxlZnQifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5qcW1EYXRhKGIpfHxhLmNsb3Nlc3QoImZvcm0sIGZpZWxkc2V0IikuanFtRGF0YShiKX0sZT10aGlzLm9wdGlvbnMuZW5oYW5jZWQ/e2VsZW1lbnQ6dGhpcy5lbGVtZW50LnNpYmxpbmdzKCJsYWJlbCIpLGlzUGFyZW50OiExfTp0aGlzLl9maW5kTGFiZWwoKSxmPWJbMF0udHlwZSxnPSJ1aS0iK2YrIi1vbiIsaD0idWktIitmKyItb2ZmIjsoImNoZWNrYm94Ij09PWZ8fCJyYWRpbyI9PT1mKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYiwiaWNvbnBvcyIpfHxlLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIil8fGMuaWNvbnBvcyxjLm1pbmk9ZChiLCJtaW5pIil8fGMubWluaSxhLmV4dGVuZCh0aGlzLHtpbnB1dDpiLGxhYmVsOmUuZWxlbWVudCxsYWJlbElzUGFyZW50OmUuaXNQYXJlbnQsaW5wdXR0eXBlOmYsY2hlY2tlZENsYXNzOmcsdW5jaGVja2VkQ2xhc3M6aH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGUuZWxlbWVudCx7dm1vdXNlb3ZlcjoiX2hhbmRsZUxhYmVsVk1vdXNlT3ZlciIsdmNsaWNrOiJfaGFuZGxlTGFiZWxWQ2xpY2sifSksdGhpcy5fb24oYix7dm1vdXNlZG93bjoiX2NhY2hlVmFscyIsdmNsaWNrOiJfaGFuZGxlSW5wdXRWQ2xpY2siLGZvY3VzOiJfaGFuZGxlSW5wdXRGb2N1cyIsYmx1cjoiX2hhbmRsZUlucHV0Qmx1ciJ9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLnJlZnJlc2goKSl9LF9maW5kTGFiZWw6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZj10aGlzLmVsZW1lbnQsZz1mWzBdLmxhYmVscztyZXR1cm4gZyYmZy5sZW5ndGg+MD8oZD1hKGdbMF0pLGU9YS5jb250YWlucyhkWzBdLGZbMF0pKTooYj1mLmNsb3Nlc3QoImxhYmVsIiksZT1iLmxlbmd0aD4wLGQ9ZT9iOmEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGFiZWwiKSkuZmlsdGVyKCJbZm9yPSciK2MoZlswXS5pZCkrIiddIikuZmlyc3QoKSkse2VsZW1lbnQ6ZCxpc1BhcmVudDplfX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLmFkZENsYXNzKCJ1aS1idG4gdWktY29ybmVyLWFsbCIpLHRoaXMubGFiZWxJc1BhcmVudD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLHdyYXBwZXJDbGFzczp0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0ndWktIit0aGlzLmlucHV0dHlwZSsodGhpcy5vcHRpb25zLmRpc2FibGVkPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsiJyA+PC9kaXY+Iil9LF9oYW5kbGVJbnB1dEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5sYWJlbC5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sX2hhbmRsZUlucHV0Qmx1cjpmdW5jdGlvbigpe3RoaXMubGFiZWwucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dFZDbGljazpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIix0aGlzLmVsZW1lbnQuaXMoIjpjaGVja2VkIikpLHRoaXMuX2dldElucHV0U2V0KCkubm90KHRoaXMuZWxlbWVudCkucHJvcCgiY2hlY2tlZCIsITEpLHRoaXMuX3VwZGF0ZUFsbCghMCl9LF9oYW5kbGVMYWJlbFZNb3VzZU92ZXI6ZnVuY3Rpb24oYSl7dGhpcy5sYWJlbC5wYXJlbnQoKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sX2hhbmRsZUxhYmVsVkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtyZXR1cm4gYi5pcygiOmRpc2FibGVkIik/dm9pZCBhLnByZXZlbnREZWZhdWx0KCk6KHRoaXMuX2NhY2hlVmFscygpLGIucHJvcCgiY2hlY2tlZCIsInJhZGlvIj09PXRoaXMuaW5wdXR0eXBlJiYhMHx8IWIucHJvcCgiY2hlY2tlZCIpKSxiLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHRoaXMuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKSwhMSl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7dmFyIGIsZCxlPXRoaXMuZWxlbWVudFswXSxmPWUubmFtZSxnPWUuZm9ybSxoPXRoaXMuZWxlbWVudC5wYXJlbnRzKCkubGFzdCgpLmdldCgwKSxpPXRoaXMuZWxlbWVudDtyZXR1cm4gZiYmInJhZGlvIj09PXRoaXMuaW5wdXR0eXBlJiZoJiYoYj0iaW5wdXRbdHlwZT0ncmFkaW8nXVtuYW1lPSciK2MoZikrIiddIixnPyhkPWcuZ2V0QXR0cmlidXRlKCJpZCIpLGQmJihpPWEoYisiW2Zvcm09JyIrYyhkKSsiJ10iLGgpKSxpPWEoZykuZmluZChiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtPT09Z30pLmFkZChpKSk6aT1hKGIsaCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZm9ybX0pKSxpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKTshdGhpcy5jaGVja2VkJiYiY2hlY2tib3giIT09Yy5pbnB1dHR5cGV8fGJ8fGQudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfaGFzSWNvbjpmdW5jdGlvbigpe3ZhciBiLGMsZD1hLm1vYmlsZS5jb250cm9sZ3JvdXA7cmV0dXJuIGQmJihiPXRoaXMuZWxlbWVudC5jbG9zZXN0KCI6bW9iaWxlLWNvbnRyb2xncm91cCwiK2QucHJvdG90eXBlLmluaXRTZWxlY3RvciksYi5sZW5ndGg+MCk/KGM9YS5kYXRhKGJbMF0sIm1vYmlsZS1jb250cm9sZ3JvdXAiKSwiaG9yaXpvbnRhbCIhPT0oYz9jLm9wdGlvbnMudHlwZTpiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHlwZSIpKSk6ITB9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCxjPWEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGQ9InVpLWJ0bi1pY29uLSIrdGhpcy5vcHRpb25zLmljb25wb3MsZT1bXSxmPVtdO3RoaXMuX2hhc0ljb24oKT8oZi5wdXNoKGMpLGUucHVzaChkKSk6KGYucHVzaChkKSwoYj9lOmYpLnB1c2goYykpLGI/KGUucHVzaCh0aGlzLmNoZWNrZWRDbGFzcyksZi5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpKTooZS5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpLGYucHVzaCh0aGlzLmNoZWNrZWRDbGFzcykpLHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIix0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSksdGhpcy5sYWJlbC5hZGRDbGFzcyhlLmpvaW4oIiAiKSkucmVtb3ZlQ2xhc3MoZi5qb2luKCIgIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbC5wYXJlbnQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5sYWJlbCxkPXRoaXMub3B0aW9ucyxlPXRoaXMud2lkZ2V0KCksZj10aGlzLl9oYXNJY29uKCk7YS5kaXNhYmxlZCE9PWImJih0aGlzLmlucHV0LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpLGUudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIWEuZGlzYWJsZWQpKSxhLm1pbmkhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIiwhIWEubWluaSksYS50aGVtZSE9PWImJmMucmVtb3ZlQ2xhc3MoInVpLWJ0bi0iK2QudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithLnRoZW1lKSxhLndyYXBwZXJDbGFzcyE9PWImJmUucmVtb3ZlQ2xhc3MoZC53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLmljb25wb3MhPT1iJiZmP2MucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKS5hZGRDbGFzcygidWktYnRuLWljb24tIithLmljb25wb3MpOmZ8fGMucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKSx0aGlzLl9zdXBlcihhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nYnV0dG9uJ10sIGlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdyZXNldCddIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOiJsZWZ0IixpY29uc2hhZG93OiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCx3cmFwcGVyQ2xhc3M6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpO3JldHVybiBhKCI8ZGl2IGNsYXNzPSd1aS1idG4gdWktaW5wdXQtYnRuIisoYi53cmFwcGVyQ2xhc3M/IiAiK2Iud3JhcHBlckNsYXNzOiIiKSsoYi50aGVtZT8iIHVpLWJ0bi0iK2IudGhlbWU6IiIpKyhiLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGIuc2hhZG93PyIgdWktc2hhZG93IjoiIikrKGIuaW5saW5lPyIgdWktYnRuLWlubGluZSI6IiIpKyhiLm1pbmk/IiB1aS1taW5pIjoiIikrKGIuZGlzYWJsZWQ/IiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhjPyIgIitjOiIiKSsiJyA+Iit0aGlzLmVsZW1lbnQudmFsKCkrIjwvZGl2PiIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyKSx0aGlzLndyYXBwZXIucmVtb3ZlKCl9LF9nZXRJY29uQ2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5pY29uPyJ1aS1pY29uLSIrYS5pY29uKyhhLmljb25zaGFkb3c/IiB1aS1zaGFkb3ctaWNvbiI6IiIpKyIgdWktYnRuLWljb24tIithLmljb25wb3M6IiJ9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMud2lkZ2V0KCk7Yy50aGVtZSE9PWImJmQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYy50aGVtZSksYy5jb3JuZXJzIT09YiYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYy5jb3JuZXJzKSxjLnNoYWRvdyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYy5zaGFkb3cpLGMuaW5saW5lIT09YiYmZC50b2dnbGVDbGFzcygidWktYnRuLWlubGluZSIsYy5pbmxpbmUpLGMubWluaSE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGMubWluaSksYy5kaXNhYmxlZCE9PWImJih0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLGMuZGlzYWJsZWQpLGQudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIixjLmRpc2FibGVkKSksKGMuaWNvbiE9PWJ8fGMuaWNvbnNoYWRvdyE9PWJ8fGMuaWNvbnBvcyE9PWIpJiZkLnJlbW92ZUNsYXNzKHRoaXMuX2dldEljb25DbGFzc2VzKHRoaXMub3B0aW9ucykpLmFkZENsYXNzKHRoaXMuX2dldEljb25DbGFzc2VzKGEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxjKSkpLHRoaXMuX3N1cGVyKGMpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIik7dGhpcy5vcHRpb25zLmljb24mJiJub3RleHQiPT09dGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMuZWxlbWVudC52YWwoKSksYnx8KGM9dGhpcy5lbGVtZW50LmRldGFjaCgpLGEodGhpcy53cmFwcGVyKS50ZXh0KHRoaXMuZWxlbWVudC52YWwoKSkuYXBwZW5kKGMpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQhPT1kJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDpkfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZCYmYyE9PSEwfHwoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLGlucHV0W3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLGlucHV0W3R5cGU9J251bWJlciddLDpqcW1EYXRhKHR5cGU9J251bWJlcicpLGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10saW5wdXRbdHlwZT0nZW1haWwnXSxpbnB1dFt0eXBlPSd1cmwnXSxpbnB1dFt0eXBlPSd0ZWwnXSx0ZXh0YXJlYSxpbnB1dFt0eXBlPSd0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZSddLGlucHV0W3R5cGU9J21vbnRoJ10saW5wdXRbdHlwZT0nd2VlayddLGlucHV0W3R5cGU9J2RhdGV0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSxpbnB1dFt0eXBlPSdjb2xvciddLGlucHV0Om5vdChbdHlwZV0pLGlucHV0W3R5cGU9J2ZpbGUnXSIsb3B0aW9uczp7dGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsd3JhcHBlckNsYXNzOiIiLGVuaGFuY2VkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksZD0iVEVYVEFSRUEiPT09dGhpcy5lbGVtZW50WzBdLnRhZ05hbWUsZT10aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKSxmPSh0aGlzLmVsZW1lbnQuaXMoImlucHV0Iil8fHRoaXMuZWxlbWVudC5pcygiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsidHlwZT0nc2VhcmNoJ10iKSkmJiFlO3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpJiYoYi5kaXNhYmxlZD0hMCksYS5leHRlbmQodGhpcyx7Y2xhc3Nlczp0aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpc1JhbmdlOmUsaW5wdXROZWVkc1dyYXA6Zn0pLHRoaXMuX2F1dG9Db3JyZWN0KCksYi5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUZvY3VzIixibHVyOiJfaGFuZGxlQmx1ciJ9KX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6dGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuaXNUZXh0YXJlYSYmYS5wdXNoKCJ1aS1pbnB1dC10ZXh0IiksKHRoaXMuaXNUZXh0YXJlYXx8dGhpcy5pc1JhbmdlKSYmYS5wdXNoKCJ1aS1zaGFkb3ctaW5zZXQiKSx0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXAoKSk6YT1hLmNvbmNhdCh0aGlzLmNsYXNzZXMpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmpvaW4oIiAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnR9LF9jbGFzc2VzRnJvbU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1bXTtyZXR1cm4gYi5wdXNoKCJ1aS1ib2R5LSIrKG51bGw9PT1hLnRoZW1lPyJpbmhlcml0IjphLnRoZW1lKSksYS5jb3JuZXJzJiZiLnB1c2goInVpLWNvcm5lci1hbGwiKSxhLm1pbmkmJmIucHVzaCgidWktbWluaSIpLGEuZGlzYWJsZWQmJmIucHVzaCgidWktc3RhdGUtZGlzYWJsZWQiKSxhLndyYXBwZXJDbGFzcyYmYi5wdXNoKGEud3JhcHBlckNsYXNzKSxifSxfd3JhcDpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2IGNsYXNzPSciKyh0aGlzLmlzU2VhcmNoPyJ1aS1pbnB1dC1zZWFyY2ggIjoidWktaW5wdXQtdGV4dCAiKSt0aGlzLmNsYXNzZXMuam9pbigiICIpKyIgdWktc2hhZG93LWluc2V0Jz48L2Rpdj4iKX0sX2F1dG9Db3JyZWN0OmZ1bmN0aW9uKCl7InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLmVsZW1lbnRbMF0uYXV0b2NvcnJlY3R8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwodGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSx0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSl9LF9oYW5kbGVCbHVyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSx0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSxfaGFuZGxlRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndpZGdldCgpO3RoaXMuX3N1cGVyKGEpLChhLmRpc2FibGVkIT09Ynx8YS5taW5pIT09Ynx8YS5jb3JuZXJzIT09Ynx8YS50aGVtZSE9PWJ8fGEud3JhcHBlckNsYXNzIT09YikmJihjLnJlbW92ZUNsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpLHRoaXMuY2xhc3Nlcz10aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxjLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpKSxhLmRpc2FibGVkIT09YiYmdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMuaW5wdXROZWVkc1dyYXAmJnRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWlucHV0LXRleHQgIit0aGlzLmNsYXNzZXMuam9pbigiICIpKSkKfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz10aGlzLHA9dGhpcy5lbGVtZW50LHE9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGEubW9iaWxlLmdldEF0dHJpYnV0ZShwWzBdLCJ0aGVtZSIpLHI9cT8iIHVpLWJhci0iK3E6IiB1aS1iYXItaW5oZXJpdCIscz10aGlzLm9wdGlvbnMuY29ybmVyc3x8cC5qcW1EYXRhKCJjb3JuZXJzIik/IiB1aS1jb3JuZXItYWxsIjoiIix0PXRoaXMub3B0aW9ucy5taW5pfHxwLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHU9cFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHY9InNlbGVjdCI9PT11LHc9cC5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIpLHg9dj8idWktc2xpZGVyLXN3aXRjaCI6IiIseT1wLmF0dHIoImlkIiksej1hKCJbZm9yPSciK3krIiddIiksQT16LmF0dHIoImlkIil8fHkrIi1sYWJlbCIsQj12PzA6cGFyc2VGbG9hdChwLmF0dHIoIm1pbiIpKSxDPXY/cC5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KHAuYXR0cigibWF4IikpLEQ9Yi5wYXJzZUZsb2F0KHAuYXR0cigic3RlcCIpfHwxKSxFPWMuY3JlYXRlRWxlbWVudCgiYSIpLEY9YShFKSxHPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksSD1hKEcpLEk9dGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXY/ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBiLmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsYShiKS5wcmVwZW5kVG8oSCl9KCk6ITE7aWYoei5hdHRyKCJpZCIsQSksdGhpcy5pc1RvZ2dsZVN3aXRjaD12LEUuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLEcuc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSxHLmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgIjoidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCAiLHgscixzLHRdLmpvaW4oIiIpLEUuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaGFuZGxlIixHLmFwcGVuZENoaWxkKEUpLEYuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6QiwiYXJpYS12YWx1ZW1heCI6QywiYXJpYS12YWx1ZW5vdyI6dGhpcy5fdmFsdWUoKSwiYXJpYS12YWx1ZXRleHQiOnRoaXMuX3ZhbHVlKCksdGl0bGU6dGhpcy5fdmFsdWUoKSwiYXJpYS1sYWJlbGxlZGJ5IjpBfSksYS5leHRlbmQodGhpcyx7c2xpZGVyOkgsaGFuZGxlOkYsY29udHJvbDpwLHR5cGU6dSxzdGVwOkQsbWF4OkMsbWluOkIsdmFsdWViZzpJLGlzUmFuZ2VzbGlkZXI6dyxkcmFnZ2luZzohMSxiZWZvcmVTdGFydDpudWxsLHVzZXJNb2RpZmllZDohMSxtb3VzZU1vdmVkOiExfSksdil7Zm9yKGs9cC5hdHRyKCJ0YWJpbmRleCIpLGsmJkYuYXR0cigidGFiaW5kZXgiLGspLHAuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCksRi5mb2N1cygpfSksZj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGYuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaW5uZXJvZmZzZXQiLGc9MCxoPUcuY2hpbGROb2Rlcy5sZW5ndGg7aD5nO2crKylmLmFwcGVuZENoaWxkKEcuY2hpbGROb2Rlc1tnXSk7Zm9yKEcuYXBwZW5kQ2hpbGQoZiksRi5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGU9cC5maW5kKCJvcHRpb24iKSxpPTAsaj1lLmxlbmd0aDtqPmk7aSsrKWw9aT8iYSI6ImIiLG09aT8iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6IiIsbj1jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxuLmNsYXNzTmFtZT1bInVpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtIixsLG1dLmpvaW4oIiIpLG4uc2V0QXR0cmlidXRlKCJyb2xlIiwiaW1nIiksbi5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGVbaV0uaW5uZXJIVE1MKSksYShuKS5wcmVwZW5kVG8oSCk7by5fbGFiZWxzPWEoIi51aS1zbGlkZXItbGFiZWwiLEgpfXAuYWRkQ2xhc3Modj8idWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci1pbnB1dCIpLHRoaXMuX29uKHAse2NoYW5nZToiX2NvbnRyb2xDaGFuZ2UiLGtleXVwOiJfY29udHJvbEtleXVwIixibHVyOiJfY29udHJvbEJsdXIiLHZtb3VzZXVwOiJfY29udHJvbFZNb3VzZVVwIn0pLEguYmluZCgidm1vdXNlZG93biIsYS5wcm94eSh0aGlzLl9zbGlkZXJWTW91c2VEb3duLHRoaXMpKS5iaW5kKCJ2Y2xpY2siLCExKSx0aGlzLl9vbihjLHt2bW91c2Vtb3ZlOiJfcHJldmVudERvY3VtZW50RHJhZyJ9KSx0aGlzLl9vbihILmFkZChjKSx7dm1vdXNldXA6Il9zbGlkZXJWTW91c2VVcCJ9KSxILmluc2VydEFmdGVyKHApLHZ8fHd8fChmPXRoaXMub3B0aW9ucy5taW5pPyI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgdWktbWluaSc+IjoiPGRpdiBjbGFzcz0ndWktc2xpZGVyJz4iLHAuYWRkKEgpLndyYXBBbGwoZikpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1kJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5jb3JuZXJzIT09ZCYmdGhpcy5fc2V0Q29ybmVycyhhLmNvcm5lcnMpLGEubWluaSE9PWQmJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWQmJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWQmJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiY29udHJvbGNoYW5nZSIsYSk9PT0hMT8hMTp2b2lkKHRoaXMubW91c2VNb3ZlZHx8dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApKX0sX2NvbnRyb2xLZXl1cDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbFZNb3VzZVVwOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tlZFJlZnJlc2goKX0sX2hhbmRsZVZNb3VzZURvd246ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWx1ZSgpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlTbGlkaW5nfHwodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfXN3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOnRoaXMucmVmcmVzaCh0aGlzLm1pbik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDp0aGlzLnJlZnJlc2godGhpcy5tYXgpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6dGhpcy5yZWZyZXNoKGMrdGhpcy5zdGVwKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOnRoaXMucmVmcmVzaChjLXRoaXMuc3RlcCl9fX0sX2hhbmRsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX0sX3NsaWRlclZNb3VzZURvd246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8MSE9PWEud2hpY2gmJjAhPT1hLndoaWNoJiZhLndoaWNoIT09ZD8hMTp0aGlzLl90cmlnZ2VyKCJiZWZvcmVzdGFydCIsYSk9PT0hMT8hMToodGhpcy5kcmFnZ2luZz0hMCx0aGlzLnVzZXJNb2RpZmllZD0hMSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuYmVmb3JlU3RhcnQ9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHRoaXMucmVmcmVzaChhKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIpLCExKX0sX3NsaWRlclZNb3VzZVVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKHRoaXMubW91c2VNb3ZlZD90aGlzLnVzZXJNb2RpZmllZD8wPT09dGhpcy5iZWZvcmVTdGFydD8xOjA6dGhpcy5iZWZvcmVTdGFydDowPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIpLCExKTp2b2lkIDB9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJkcmFnIixhKT09PSExPyExOnRoaXMuZHJhZ2dpbmcmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/KHRoaXMubW91c2VNb3ZlZD0hMCx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMucmVmcmVzaChhKSx0aGlzLnVzZXJNb2RpZmllZD10aGlzLmJlZm9yZVN0YXJ0IT09dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgsITEpOnZvaWQgMH0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goZCwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oYixkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHksej10aGlzLEE9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwidGhlbWUiKSxCPXRoaXMub3B0aW9ucy50aGVtZXx8QSxDPUI/IiB1aS1idG4tIitCOiIiLEQ9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fEEsRT1EPyIgdWktYmFyLSIrRDoiIHVpLWJhci1pbmhlcml0IixGPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsRz10aGlzLm9wdGlvbnMubWluaT8iIHVpLW1pbmkiOiIiO2lmKHouc2xpZGVyWzBdLmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyIHVpLXNsaWRlci1zd2l0Y2ggdWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCI6InVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQiLEUsRixHXS5qb2luKCIiKSwodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKSx0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaCYmMD09PXRoaXMuc2xpZGVyLmZpbmQoIi51aS1zbGlkZXItYmciKS5sZW5ndGgmJih0aGlzLnZhbHVlYmc9ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBiLmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsYShiKS5wcmVwZW5kVG8oei5zbGlkZXIpfSgpKSx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktYnRuIitDKyIgdWktc2hhZG93IiksbD10aGlzLmVsZW1lbnQsbT0hdGhpcy5pc1RvZ2dsZVN3aXRjaCxuPW0/W106bC5maW5kKCJvcHRpb24iKSxvPW0/cGFyc2VGbG9hdChsLmF0dHIoIm1pbiIpKTowLHA9bT9wYXJzZUZsb2F0KGwuYXR0cigibWF4IikpOm4ubGVuZ3RoLTEscT1tJiZwYXJzZUZsb2F0KGwuYXR0cigic3RlcCIpKT4wP3BhcnNlRmxvYXQobC5hdHRyKCJzdGVwIikpOjEsIm9iamVjdCI9PXR5cGVvZiBiKXtpZihoPWIsaT04LGY9dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCxnPXRoaXMuc2xpZGVyLndpZHRoKCksaj1nLygocC1vKS9xKSwhdGhpcy5kcmFnZ2luZ3x8aC5wYWdlWDxmLWl8fGgucGFnZVg+ZitnK2kpcmV0dXJuO2s9aj4xPyhoLnBhZ2VYLWYpL2cqMTAwOk1hdGgucm91bmQoKGgucGFnZVgtZikvZyoxMDApfWVsc2UgbnVsbD09YiYmKGI9bT9wYXJzZUZsb2F0KGwudmFsKCl8fDApOmxbMF0uc2VsZWN0ZWRJbmRleCksaz0ocGFyc2VGbG9hdChiKS1vKS8ocC1vKSoxMDA7aWYoIWlzTmFOKGspJiYocj1rLzEwMCoocC1vKStvLHM9KHItbyklcSx0PXItcywyKk1hdGguYWJzKHMpPj1xJiYodCs9cz4wP3E6LXEpLHU9MTAwLygocC1vKS9xKSxyPXBhcnNlRmxvYXQodC50b0ZpeGVkKDUpKSwidW5kZWZpbmVkIj09dHlwZW9mIGomJihqPWcvKChwLW8pL3EpKSxqPjEmJm0mJihrPShyLW8pKnUqKDEvcSkpLDA+ayYmKGs9MCksaz4xMDAmJihrPTEwMCksbz5yJiYocj1vKSxyPnAmJihyPXApLHRoaXMuaGFuZGxlLmNzcygibGVmdCIsaysiJSIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIsbT9yOm4uZXEocikuYXR0cigidmFsdWUiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIsbT9yOm4uZXEocikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJ0aXRsZSIsbT9yOm4uZXEocikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsaysiJSIpLHRoaXMuX2xhYmVscyYmKHY9dGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCx3PWsmJnYrKDEwMC12KSprLzEwMCx4PTEwMD09PWs/MDpNYXRoLm1pbih2KzEwMC13LDEwMCksdGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmhhc0NsYXNzKCJ1aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/dzp4KSsiJSIpfSkpLCFlKSl7aWYoeT0hMSxtPyh5PWwudmFsKCkhPT1yLGwudmFsKHIpKTooeT1sWzBdLnNlbGVjdGVkSW5kZXghPT1yLGxbMF0uc2VsZWN0ZWRJbmRleD1yKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLGIpPT09ITEpcmV0dXJuITE7IWQmJnkmJmwudHJpZ2dlcigiY2hhbmdlIil9fSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe2E9ISFhLGE/KHRoaXMub3B0aW9ucy5oaWdobGlnaHQ9ISFhLHRoaXMucmVmcmVzaCgpKTp0aGlzLnZhbHVlYmcmJih0aGlzLnZhbHVlYmcucmVtb3ZlKCksdGhpcy52YWx1ZWJnPSExKX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1idG4tIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithKTt2YXIgYj10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5jb250cm9sLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrYikuYWRkQ2xhc3MoInVpLWJvZHktIitjKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU/dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU6ImluaGVyaXQiLGM9YT9hOiJpbmhlcml0Ijt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuaXNUb2dnbGVTd2l0Y2h8fHRoaXMuaXNSYW5nZXNsaWRlcnx8KHRoaXMuc2xpZGVyLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGEpe3RoaXMuc2xpZGVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmNvbnRyb2wudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7YT0hIWEsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixhKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuIGN8fChjPWEoIjxkaXY+PC9kaXY+Iix7ImNsYXNzIjoidWktc2xpZGVyLXBvcHVwIHVpLXNoYWRvdyB1aS1jb3JuZXItYWxsIn0pKSxjLmNsb25lKCl9dmFyIGM7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEubW9iaWxlLnNsaWRlcix7b3B0aW9uczp7cG9wdXBFbmFibGVkOiExLHNob3dWYWx1ZTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X2N1cnJlbnRWYWx1ZTpudWxsLF9wb3B1cDpudWxsLF9wb3B1cFZpc2libGU6ITF9KSx0aGlzLl9zZXRPcHRpb24oInBvcHVwRW5hYmxlZCIsdGhpcy5vcHRpb25zLnBvcHVwRW5hYmxlZCksdGhpcy5fb24odGhpcy5oYW5kbGUse3Ztb3VzZWRvd246Il9zaG93UG9wdXAifSksdGhpcy5fb24odGhpcy5zbGlkZXIuYWRkKHRoaXMuZG9jdW1lbnQpLHt2bW91c2V1cDoiX2hpZGVQb3B1cCJ9KSx0aGlzLl9yZWZyZXNoKCl9LF9wb3NpdGlvblBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oYW5kbGUub2Zmc2V0KCk7dGhpcy5fcG9wdXAub2Zmc2V0KHtsZWZ0OmEubGVmdCsodGhpcy5oYW5kbGUud2lkdGgoKS10aGlzLl9wb3B1cC53aWR0aCgpKS8yLHRvcDphLnRvcC10aGlzLl9wb3B1cC5vdXRlckhlaWdodCgpLTV9KX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGMpe3RoaXMuX3N1cGVyKGEsYyksInNob3dWYWx1ZSI9PT1hP3RoaXMuaGFuZGxlLmh0bWwoYyYmIXRoaXMub3B0aW9ucy5taW5pP3RoaXMuX3ZhbHVlKCk6IiIpOiJwb3B1cEVuYWJsZWQiPT09YSYmYyYmIXRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9YigpLmFkZENsYXNzKCJ1aS1ib2R5LSIrKHRoaXMub3B0aW9ucy50aGVtZXx8ImEiKSkuaGlkZSgpLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnM7Yi5wb3B1cEVuYWJsZWQmJnRoaXMuaGFuZGxlLnJlbW92ZUF0dHIoInRpdGxlIiksYT10aGlzLl92YWx1ZSgpLGEhPT10aGlzLl9jdXJyZW50VmFsdWUmJih0aGlzLl9jdXJyZW50VmFsdWU9YSxiLnBvcHVwRW5hYmxlZCYmdGhpcy5fcG9wdXAmJih0aGlzLl9wb3NpdGlvblBvcHVwKCksdGhpcy5fcG9wdXAuaHRtbChhKSksYi5zaG93VmFsdWUmJiF0aGlzLm9wdGlvbnMubWluaSYmdGhpcy5oYW5kbGUuaHRtbChhKSl9LF9zaG93UG9wdXA6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9wdXBFbmFibGVkJiYhdGhpcy5fcG9wdXBWaXNpYmxlJiYodGhpcy5oYW5kbGUuaHRtbCgiIiksdGhpcy5fcG9wdXAuc2hvdygpLHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cFZpc2libGU9ITApfSxfaGlkZVBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO2EucG9wdXBFbmFibGVkJiZ0aGlzLl9wb3B1cFZpc2libGUmJihhLnNob3dWYWx1ZSYmIWEubWluaSYmdGhpcy5oYW5kbGUuaHRtbCh0aGlzLl92YWx1ZSgpKSx0aGlzLl9wb3B1cC5oaWRlKCksdGhpcy5fcG9wdXBWaXNpYmxlPSExKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmZsaXBzd2l0Y2giLGEuZXh0ZW5kKHtvcHRpb25zOntvblRleHQ6Ik9uIixvZmZUZXh0OiJPZmYiLHRoZW1lOm51bGwsZW5oYW5jZWQ6ITEsd3JhcHBlckNsYXNzOm51bGwsY29ybmVyczohMCxtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkP2EuZXh0ZW5kKHRoaXMse2ZsaXBzd2l0Y2g6dGhpcy5lbGVtZW50LnBhcmVudCgpLG9uOnRoaXMuZWxlbWVudC5maW5kKCIudWktZmxpcHN3aXRjaC1vbiIpLmVxKDApLG9mZjp0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWZsaXBzd2l0Y2gtb2ZmIikuZXEoMCksdHlwZTp0aGlzLmVsZW1lbnQuZ2V0KDApLnRhZ05hbWV9KTp0aGlzLl9lbmhhbmNlKCksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiKSxudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4JiZ0aGlzLm9uLmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnaW5hbFRhYkluZGV4KSx0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCItMSIpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMifSksdGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKSYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KSx0aGlzLl9vbih0aGlzLmZsaXBzd2l0Y2gse2NsaWNrOiJfdG9nZ2xlIixzd2lwZWxlZnQ6Il9sZWZ0Iixzd2lwZXJpZ2h0OiJfcmlnaHQifSksdGhpcy5fb24odGhpcy5vbix7a2V5ZG93bjoiX2tleWRvd24ifSksdGhpcy5fb24oe2NoYW5nZToicmVmcmVzaCJ9KX0sX2hhbmRsZUlucHV0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9uLmZvY3VzKCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsaXBzd2l0Y2h9LF9sZWZ0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLnJlbW92ZUNsYXNzKCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSIpLCJTRUxFQ1QiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0wOnRoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNoYW5nZSIpfSxfcmlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIiksIlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTE6dGhpcy5lbGVtZW50LnByb3AoImNoZWNrZWQiLCEwKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2hhbmdlIil9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGI9YSgiPGRpdj4iKSxjPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCIsZj1hKCI8YT48L2E+Iix7aHJlZjoiIyJ9KSxnPWEoIjxzcGFuPjwvc3Bhbj4iKSxoPWQuZ2V0KDApLnRhZ05hbWUsaT0iSU5QVVQiPT09aD9jLm9uVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDEpLnRleHQoKSxqPSJJTlBVVCI9PT1oP2Mub2ZmVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtmLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGkpLGcuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChqKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1iYXItIitlKyIgIisoYy53cmFwcGVyQ2xhc3M/Yy53cmFwcGVyQ2xhc3M6IiIpKyIgIisoZC5pcygiOmNoZWNrZWQiKXx8ZC5maW5kKCJvcHRpb24iKS5lcSgxKS5pcygiOnNlbGVjdGVkIik/InVpLWZsaXBzd2l0Y2gtYWN0aXZlIjoiIikrKGQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhjLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChmLGcpLGQuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKS5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZixvZmY6Zyx0eXBlOmh9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX3JpZ2h0IjoiX2xlZnQiO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIpPyJfcmlnaHQiOiJfbGVmdCIsYSE9PWImJnRoaXNbYV0oKX0sX3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX2xlZnQiOiJfcmlnaHQiO3RoaXNbYV0oKX0sX2tleWRvd246ZnVuY3Rpb24oYil7Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuTEVGVD90aGlzLl9sZWZ0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuUklHSFQ/dGhpcy5fcmlnaHQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSYmKHRoaXMuX3RvZ2dsZSgpLGIucHJldmVudERlZmF1bHQoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKGEudGhlbWUhPT1iKXt2YXIgYz1hLnRoZW1lP2EudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKCJ1aS1iYXItIitjKS5hZGRDbGFzcygidWktYmFyLSIrZCl9YS5vblRleHQhPT1iJiZ0aGlzLm9uLnRleHQoYS5vblRleHQpLGEub2ZmVGV4dCE9PWImJnRoaXMub2ZmLnRleHQoYS5vZmZUZXh0KSxhLmRpc2FibGVkIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEuZGlzYWJsZWQpLGEubWluaSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5jb3JuZXJzIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSx0aGlzLl9zdXBlcihhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fChudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4P3RoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ2luYWxUYWJJbmRleCk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRhYmluZGV4IiksdGhpcy5vbi5yZW1vdmUoKSx0aGlzLm9mZi5yZW1vdmUoKSx0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5mbGlwc3dpdGNoLnJlbW92ZSgpLHRoaXMucmVtb3ZlQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5yYW5nZXNsaWRlciIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMubWluaT8idWktcmFuZ2VzbGlkZXIgdWktbWluaSI6InVpLXJhbmdlc2xpZGVyIixkPWIuZmluZCgiaW5wdXQiKS5maXJzdCgpLGU9Yi5maW5kKCJpbnB1dCIpLmxhc3QoKSxmPWIuZmluZCgibGFiZWwiKS5maXJzdCgpLGc9YS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShkLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGg9YS5kYXRhKGUuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShlLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGk9Zy5zbGlkZXIsaj1oLnNsaWRlcixrPWcuaGFuZGxlLGw9YSgiPGRpdiBjbGFzcz0ndWktcmFuZ2VzbGlkZXItc2xpZGVycycgLz4iKS5hcHBlbmRUbyhiKTtkLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGUuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWxhc3QiKSxiLmFkZENsYXNzKGMpLGkuYXBwZW5kVG8obCksai5hcHBlbmRUbyhsKSxmLmluc2VydEJlZm9yZShiKSxrLnByZXBlbmRUbyhqKSxhLmV4dGVuZCh0aGlzLHtfaW5wdXRGaXJzdDpkLF9pbnB1dExhc3Q6ZSxfc2xpZGVyRmlyc3Q6aSxfc2xpZGVyTGFzdDpqLF9sYWJlbDpmLF90YXJnZXRWYWw6bnVsbCxfc2xpZGVyVGFyZ2V0OiExLF9zbGlkZXJzOmwsX3Byb3h5OiExfSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5lbGVtZW50LmZpbmQoImlucHV0LnVpLXNsaWRlci1pbnB1dCIpLHtzbGlkZWJlZm9yZXN0YXJ0OiJfc2xpZGViZWZvcmVzdGFydCIsc2xpZGVzdG9wOiJfc2xpZGVzdG9wIixzbGlkZWRyYWc6Il9zbGlkZWRyYWciLHNsaWRlYmVmb3JlY2hhbmdlOiJfY2hhbmdlIixibHVyOiJfY2hhbmdlIixrZXl1cDoiX2NoYW5nZSJ9KSx0aGlzLl9vbih7bW91c2Vkb3duOiJfY2hhbmdlIn0pLHRoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OiJfaGFuZGxlUmVzZXQifSksdGhpcy5fb24oayx7dm1vdXNlZG93bjoiX2RyYWdGaXJzdEhhbmRsZSJ9KX0sX2hhbmRsZVJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5fdXBkYXRlSGlnaGxpZ2h0KCl9LDApfSxfZHJhZ0ZpcnN0SGFuZGxlOmZ1bmN0aW9uKGIpe3JldHVybiBhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLl90cmlnZ2VyKCJzdGFydCIpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGQ9Yz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtyZXR1cm4gdGhpcy5fc2xpZGVyVGFyZ2V0PSExLCJmaXJzdCI9PT10aGlzLl9wcm94eSYmY3x8Imxhc3QiPT09dGhpcy5fcHJveHkmJiFjPyhhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGM/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09YiYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09YiYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEubWluaSE9PWImJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWImJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWImJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zOyh0aGlzLl9pbnB1dEZpcnN0LmlzKCI6ZGlzYWJsZWQiKXx8dGhpcy5faW5wdXRMYXN0LmlzKCI6ZGlzYWJsZWQiKSkmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLGEuZmluZCgiaW5wdXQiKS5zbGlkZXIoe3RoZW1lOmIudGhlbWUsdHJhY2tUaGVtZTpiLnRyYWNrVGhlbWUsZGlzYWJsZWQ6Yi5kaXNhYmxlZCxjb3JuZXJzOmIuY29ybmVycyxtaW5pOmIubWluaSxoaWdobGlnaHQ6Yi5oaWdobGlnaHR9KS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX0sX2NoYW5nZTpmdW5jdGlvbihiKXtpZigia2V5dXAiPT09Yi50eXBlKXJldHVybiB0aGlzLl91cGRhdGVIaWdobGlnaHQoKSwhMTt2YXIgYz10aGlzLGQ9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dEZpcnN0LnZhbCgpLDEwKSxlPXBhcnNlRmxvYXQodGhpcy5faW5wdXRMYXN0LnZhbCgpLDEwKSxmPWEoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGc9Zj90aGlzLl9pbnB1dEZpcnN0OnRoaXMuX2lucHV0TGFzdCxoPWY/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7aWYodGhpcy5faW5wdXRGaXJzdC52YWwoKT50aGlzLl9pbnB1dExhc3QudmFsKCkmJiJtb3VzZWRvd24iPT09Yi50eXBlJiYhYShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUiKSlnLmJsdXIoKTtlbHNlIGlmKCJtb3VzZWRvd24iPT09Yi50eXBlKXJldHVybjtyZXR1cm4gZD5lJiYhdGhpcy5fc2xpZGVyVGFyZ2V0PyhnLnZhbChmP2U6ZCkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdHJpZ2dlcigibm9ybWFsaXplIikpOmQ+ZSYmKGcudmFsKHRoaXMuX3RhcmdldFZhbCkuc2xpZGVyKCJyZWZyZXNoIiksc2V0VGltZW91dChmdW5jdGlvbigpe2gudmFsKGY/ZDplKS5zbGlkZXIoInJlZnJlc2giKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZm9jdXMoKSxjLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGY/IiI6MSksYy5fdHJpZ2dlcigibm9ybWFsaXplIil9LDApLHRoaXMuX3Byb3h5PWY/ImZpcnN0IjoibGFzdCIpLGQ9PT1lPyhhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwwKSk6KGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxjPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxkPWMtYjt0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1iZyIpLmNzcyh7Im1hcmdpbi1sZWZ0IjpiKyIlIix3aWR0aDpkKyIlIn0pfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsInRoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0aGVtZSIsYSl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKX0sX3NldE1pbmk6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsISFhKX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwiaGlnaGxpZ2h0IixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJoaWdobGlnaHQiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5wcm9wKCJkaXNhYmxlZCIsYSksdGhpcy5faW5wdXRMYXN0LnByb3AoImRpc2FibGVkIixhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9sYWJlbC5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2NsZWFyQnRuOiExLGNsZWFyQnRuVGV4dDoiQ2xlYXIgdGV4dCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuaXNTZWFyY2gmJih0aGlzLm9wdGlvbnMuY2xlYXJCdG49ITApLHRoaXMub3B0aW9ucy5jbGVhckJ0biYmdGhpcy5pbnB1dE5lZWRzV3JhcCYmdGhpcy5fYWRkQ2xlYXJCdG4oKX0sY2xlYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWlucHV0LWNsZWFyIHVpLWJ0biB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktY29ybmVyLWFsbCc+PC9hPiIpLmF0dHIoInRpdGxlIix0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KS50ZXh0KHRoaXMub3B0aW9ucy5jbGVhckJ0blRleHQpfSxfY2xlYXJCdG5DbGljazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLHRoaXMuX2NsZWFyQnRuLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKSxhLnByZXZlbnREZWZhdWx0KCl9LF9hZGRDbGVhckJ0bjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZUNsZWFyKCksYS5leHRlbmQodGhpcyx7X2NsZWFyQnRuOnRoaXMud2lkZ2V0KCkuZmluZCgiYS51aS1pbnB1dC1jbGVhciIpfSksdGhpcy5fYmluZENsZWFyRXZlbnRzKCksdGhpcy5fdG9nZ2xlQ2xlYXIoKX0sX2VuaGFuY2VDbGVhcjpmdW5jdGlvbigpe3RoaXMuY2xlYXJCdXR0b24oKS5hcHBlbmRUbyh0aGlzLndpZGdldCgpKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKX0sX2JpbmRDbGVhckV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2NsZWFyQnRuLHtjbGljazoiX2NsZWFyQnRuQ2xpY2sifSksdGhpcy5fb24oe2tleXVwOiJfdG9nZ2xlQ2xlYXIiLGNoYW5nZToiX3RvZ2dsZUNsZWFyIixpbnB1dDoiX3RvZ2dsZUNsZWFyIixmb2N1czoiX3RvZ2dsZUNsZWFyIixibHVyOiJfdG9nZ2xlQ2xlYXIiLGN1dDoiX3RvZ2dsZUNsZWFyIixwYXN0ZToiX3RvZ2dsZUNsZWFyIn0pfSxfdW5iaW5kQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5fY2xlYXJCdG4sImNsaWNrIiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCwia2V5dXAgY2hhbmdlIGlucHV0IGZvY3VzIGJsdXIgY3V0IHBhc3RlIil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuY2xlYXJCdG49PT1ifHx0aGlzLmVsZW1lbnQuaXMoInRleHRhcmVhLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpIil8fChhLmNsZWFyQnRuP3RoaXMuX2FkZENsZWFyQnRuKCk6dGhpcy5fZGVzdHJveUNsZWFyKCkpLGEuY2xlYXJCdG5UZXh0IT09YiYmdGhpcy5fY2xlYXJCdG4hPT1iJiZ0aGlzLl9jbGVhckJ0bi50ZXh0KGEuY2xlYXJCdG5UZXh0KS5hdHRyKCJ0aXRsZSIsYS5jbGVhckJ0blRleHQpfSxfdG9nZ2xlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3RvZ2dsZUNsZWFyQ2xhc3MiLDApfSxfdG9nZ2xlQ2xlYXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQnRuLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLCF0aGlzLmVsZW1lbnQudmFsKCkpfSxfZGVzdHJveUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksdGhpcy5fdW5iaW5kQ2xlYXIoKSx0aGlzLl9jbGVhckJ0bi5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX2Rlc3Ryb3lDbGVhcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2F1dG9ncm93OiEwLGtleXVwVGltZW91dEJ1ZmZlcjoxMDB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl9hdXRvZ3JvdygpfSxfYXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRleHRpbnB1dC1hdXRvZ3JvdyIpLHRoaXMuX29uKHtrZXl1cDoiX3RpbWVvdXQiLGNoYW5nZToiX3RpbWVvdXQiLGlucHV0OiJfdGltZW91dCIscGFzdGU6Il90aW1lb3V0In0pLHRoaXMuX29uKCEwLHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OiJfaGFuZGxlU2hvdyIscG9wdXBiZWZvcmVwb3NpdGlvbjoiX2hhbmRsZVNob3ciLHVwZGF0ZWxheW91dDoiX2hhbmRsZVNob3ciLHBhbmVsb3BlbjoiX2hhbmRsZVNob3cifSl9LF9oYW5kbGVTaG93OmZ1bmN0aW9uKGIpe2EuY29udGFpbnMoYi50YXJnZXQsdGhpcy5lbGVtZW50WzBdKSYmdGhpcy5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYoInBvcHVwYmVmb3JlcG9zaXRpb24iIT09Yi50eXBlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRleHRpbnB1dC1hdXRvZ3Jvdy1yZXNpemUiKS5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplIil9LHRoaXMpLCJ0cmFuc2l0aW9uIiksdGhpcy5fcHJlcGFyZUhlaWdodFVwZGF0ZSgpKX0sX3VuYmluZEF1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ciKSx0aGlzLl9vZmYodGhpcy5lbGVtZW50LCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwicGFnZXNob3cgcG9wdXBiZWZvcmVwb3NpdGlvbiB1cGRhdGVsYXlvdXQgcGFuZWxvcGVuIil9LGtleXVwVGltZW91dDpudWxsLF9wcmVwYXJlSGVpZ2h0VXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMua2V5dXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5rZXl1cFRpbWVvdXQpLGE9PT1iP3RoaXMuX3VwZGF0ZUhlaWdodCgpOnRoaXMua2V5dXBUaW1lb3V0PXRoaXMuX2RlbGF5KCJfdXBkYXRlSGVpZ2h0IixhKX0sX3RpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIpfSxfdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpLGo9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCk7dGhpcy5rZXl1cFRpbWVvdXQ9MCwib25wYWdlImluIHRoaXMuZWxlbWVudFswXXx8dGhpcy5lbGVtZW50LmNzcyh7aGVpZ2h0OjAsIm1pbi1oZWlnaHQiOjAsIm1heC1oZWlnaHQiOjB9KSxkPXRoaXMuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQsZT10aGlzLmVsZW1lbnRbMF0uY2xpZW50SGVpZ2h0LGY9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLGc9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpLGg9ZitnLGk9ZCtoKzE1LDA9PT1lJiYoYT1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIikpLGI9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxjPWErYixpKz1jKSx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6aSwibWluLWhlaWdodCI6IiIsIm1heC1oZWlnaHQiOiIifSksdGhpcy53aW5kb3cuc2Nyb2xsVG9wKGopfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9ncm93JiZ0aGlzLmlzVGV4dGFyZWEmJnRoaXMuX3VwZGF0ZUhlaWdodCgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhLmF1dG9ncm93IT09YiYmdGhpcy5pc1RleHRhcmVhJiYoYS5hdXRvZ3Jvdz90aGlzLl9hdXRvZ3JvdygpOnRoaXMuX3VuYmluZEF1dG9ncm93KCkpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6InNlbGVjdDpub3QoIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKTpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnKSApIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246ImNhcmF0LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6ITEsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMSxvdmVybGF5VGhlbWU6bnVsbCxkaXZpZGVyVGhlbWU6bnVsbCxoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6ITAsY2xvc2VUZXh0OiJDbG9zZSIsbmF0aXZlTWVudTohMCxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxtaW5pOiExfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsYSksdGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsYSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMuaW5saW5lfHx0aGlzLmVsZW1lbnQuanFtRGF0YSgiaW5saW5lIiksYz10aGlzLm9wdGlvbnMubWluaXx8dGhpcy5lbGVtZW50LmpxbURhdGEoIm1pbmkiKSxkPSIiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihkPSIgdWktYnRuLWxlZnQiKSx+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGQ9IiB1aS1idG4tcmlnaHQiKSxiJiYoZCs9IiB1aS1idG4taW5saW5lIiksYyYmKGQrPSIgdWktbWluaSIpLHRoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0Iikud3JhcCgiPGRpdiBjbGFzcz0ndWktc2VsZWN0IitkKyInPiIpLHRoaXMuc2VsZWN0SWQ9dGhpcy5zZWxlY3QuYXR0cigiaWQiKXx8InNlbGVjdC0iK3RoaXMudXVpZCx0aGlzLmJ1dHRvbklkPXRoaXMuc2VsZWN0SWQrIi1idXR0b24iLHRoaXMubGFiZWw9YSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SWQrIiddIiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5wYXJlbnRzKCIudWktc2VsZWN0Iik7YS5sZW5ndGg+MCYmKGEuaXMoIi51aS1idG4tbGVmdCwgLnVpLWJ0bi1yaWdodCIpJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYS5oYXNDbGFzcygidWktYnRuLWxlZnQiKT8idWktYnRuLWxlZnQiOiJ1aS1idG4tcmlnaHQiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYSksYS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZC5pY29uP2QuaWNvbnBvc3x8dGhpcy5zZWxlY3QuanFtRGF0YSgiaWNvbnBvcyIpOiExLGY9dGhpcy5idXR0b24uaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5hdHRyKCJpZCIsdGhpcy5idXR0b25JZCkuYWRkQ2xhc3MoInVpLWJ0biIrKGQuaWNvbj8iIHVpLWljb24tIitkLmljb24rIiB1aS1idG4taWNvbi0iK2UrKGQuaWNvbnNoYWRvdz8iIHVpLXNoYWRvdy1pY29uIjoiIik6IiIpKyhkLnRoZW1lPyIgdWktYnRuLSIrZC50aGVtZToiIikrKGQuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiKSsoZC5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSk7dGhpcy5zZXRCdXR0b25UZXh0KCksZC5uYXRpdmVNZW51JiZiLm9wZXJhJiZiLm9wZXJhLnZlcnNpb24mJmYuYWRkQ2xhc3MoInVpLXNlbGVjdC1uYXRpdmVvbmx5IiksdGhpcy5pc011bHRpcGxlJiYodGhpcy5idXR0b25Db3VudD1hKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbGktY291bnQgdWktYm9keS1pbmhlcml0IikuaGlkZSgpLmFwcGVuZFRvKGYuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKGQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCksZC5uYXRpdmVNZW51JiZ0aGlzLmJsdXIoKX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuX29uKHRoaXMuYnV0dG9uLHtrZXlkb3duOiJfaGFuZGxlS2V5ZG93biJ9KSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLGIuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLGIuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLnNlbGVjdGVkKCksZT10aGlzLnBsYWNlaG9sZGVyLGY9YShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uY2hpbGRyZW4oInNwYW4iKS5ub3QoIi51aS1saS1jb3VudCIpLnJlbW92ZSgpLmVuZCgpLmVuZCgpLnByZXBlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZT1kLmxlbmd0aD9kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6Yi5wbGFjZWhvbGRlcixlP2YudGV4dChlKTpmLmh0bWwoIiYjMTYwOyIpLGYuYWRkQ2xhc3MoYi5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3MoZC5hdHRyKCJjbGFzcyIpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSgpKX0sc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdGVkKCk7dGhpcy5pc011bHRpcGxlJiZ0aGlzLmJ1dHRvbkNvdW50W2EubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGEubGVuZ3RoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3JlZnJlc2hCdXR0b24iKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9yZWZyZXNoQnV0dG9uOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaEJ1dHRvbigpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5saW5rcz1mdW5jdGlvbihiKXthKGIpLmZpbmQoImEiKS5qcW1FbmhhbmNlYWJsZSgpLmZpbHRlcigiOmpxbURhdGEocmVsPSdwb3B1cCcpW2hyZWZdW2hyZWYhPScnXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5nZXRBdHRyaWJ1dGUoImhyZWYiKS5zdWJzdHJpbmcoMSk7YiYmKGEuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwhMCksYS5zZXRBdHRyaWJ1dGUoImFyaWEtb3ducyIsYiksYS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCExKSl9KS5lbmQoKS5ub3QoIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX19KGEpLGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZChhLGIsYyxkKXt2YXIgZT1kO3JldHVybiBlPWI+YT9jKyhhLWIpLzI6TWF0aC5taW4oTWF0aC5tYXgoYyxkLWIvMiksYythLWIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJue3g6YS5zY3JvbGxMZWZ0KCkseTphLnNjcm9sbFRvcCgpLGN4OmFbMF0uaW5uZXJXaWR0aHx8YS53aWR0aCgpLGN5OmFbMF0uaW5uZXJIZWlnaHR8fGEuaGVpZ2h0KCl9fWEud2lkZ2V0KCJtb2JpbGUucG9wdXAiLHtvcHRpb25zOnt3cmFwcGVyQ2xhc3M6bnVsbCx0aGVtZTpudWxsLG92ZXJsYXlUaGVtZTpudWxsLHNoYWRvdzohMCxjb3JuZXJzOiEwLHRyYW5zaXRpb246Im5vbmUiLHBvc2l0aW9uVG86Im9yaWdpbiIsdG9sZXJhbmNlOm51bGwsY2xvc2VMaW5rU2VsZWN0b3I6ImE6anFtRGF0YShyZWw9J2JhY2snKSIsY2xvc2VMaW5rRXZlbnRzOiJjbGljay5wb3B1cCIsbmF2aWdhdGVFdmVudHM6Im5hdmlnYXRlLnBvcHVwIixjbG9zZUV2ZW50czoibmF2aWdhdGUucG9wdXAgcGFnZWJlZm9yZWNoYW5nZS5wb3B1cCIsZGlzbWlzc2libGU6ITAsZW5oYW5jZWQ6ITEsaGlzdG9yeTohYS5tb2JpbGUuYnJvd3Nlci5vbGRJRX0sX2hhbmRsZURvY3VtZW50Vm1vdXNlZG93bjpmdW5jdGlvbihiKXt0aGlzLl9pc09wZW4mJmEuY29udGFpbnModGhpcy5fdWkuY29udGFpbmVyWzBdLGIudGFyZ2V0KSYmdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmF0dHIoImlkIiksZD10aGlzLm9wdGlvbnM7ZC5oaXN0b3J5PWQuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3Ztb3VzZWRvd246Il9oYW5kbGVEb2N1bWVudFZtb3VzZWRvd24ifSksYS5leHRlbmQodGhpcyx7X3Njcm9sbFRvcDowLF9wYWdlOmIuY2xvc2VzdCgiLnVpLXBhZ2UiKSxfdWk6bnVsbCxfZmFsbGJhY2tUcmFuc2l0aW9uOiIiLF9jdXJyZW50VHJhbnNpdGlvbjohMSxfcHJlcmVxdWlzaXRlczpudWxsLF9pc09wZW46ITEsX3RvbGVyYW5jZTpudWxsLF9yZXNpemVEYXRhOm51bGwsX2lnbm9yZVJlc2l6ZVRvOjAsX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzczohMX0pLDA9PT10aGlzLl9wYWdlLmxlbmd0aCYmKHRoaXMuX3BhZ2U9YSgiYm9keSIpKSxkLmVuaGFuY2VkP3RoaXMuX3VpPXtjb250YWluZXI6Yi5wYXJlbnQoKSxzY3JlZW46Yi5wYXJlbnQoKS5wcmV2KCkscGxhY2Vob2xkZXI6YSh0aGlzLmRvY3VtZW50WzBdLmdldEVsZW1lbnRCeUlkKGMrIi1wbGFjZWhvbGRlciIpKX06KHRoaXMuX3VpPXRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9hcHBseVRyYW5zaXRpb24oZC50cmFuc2l0aW9uKSksdGhpcy5fc2V0VG9sZXJhbmNlKGQudG9sZXJhbmNlKS5fdWkuZm9jdXNFbGVtZW50PXRoaXMuX3VpLmNvbnRhaW5lcix0aGlzLl9vbih0aGlzLl91aS5zY3JlZW4se3ZjbGljazoiX2VhdEV2ZW50QW5kQ2xvc2UifSksdGhpcy5fb24odGhpcy53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtmb2N1c2luOiJfaGFuZGxlRG9jdW1lbnRGb2N1c0luIn0pfSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMub3B0aW9ucyxlPWQud3JhcHBlckNsYXNzLGY9e3NjcmVlbjphKCI8ZGl2IGNsYXNzPSd1aS1zY3JlZW4taGlkZGVuIHVpLXBvcHVwLXNjcmVlbiAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsZC5vdmVybGF5VGhlbWUpKyInPjwvZGl2PiIpLHBsYWNlaG9sZGVyOmEoIjxkaXYgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz48IS0tIHBsYWNlaG9sZGVyIC0tPjwvZGl2PiIpLGNvbnRhaW5lcjphKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1jb250YWluZXIgdWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIisoZT8iICIrZToiIikrIic+PC9kaXY+Iil9LGc9dGhpcy5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGcuYXBwZW5kQ2hpbGQoZi5zY3JlZW5bMF0pLGcuYXBwZW5kQ2hpbGQoZi5jb250YWluZXJbMF0pLGMmJihmLnNjcmVlbi5hdHRyKCJpZCIsYysiLXNjcmVlbiIpLGYuY29udGFpbmVyLmF0dHIoImlkIixjKyItcG9wdXAiKSxmLnBsYWNlaG9sZGVyLmF0dHIoImlkIixjKyItcGxhY2Vob2xkZXIiKS5odG1sKCI8IS0tIHBsYWNlaG9sZGVyIGZvciAiK2MrIiAtLT4iKSksdGhpcy5fcGFnZVswXS5hcHBlbmRDaGlsZChnKSxmLnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKGIpLGIuZGV0YWNoKCkuYWRkQ2xhc3MoInVpLXBvcHVwICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixkLnRoZW1lKSsiICIrKGQuc2hhZG93PyJ1aS1vdmVybGF5LXNoYWRvdyAiOiIiKSsoZC5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKS5hcHBlbmRUbyhmLmNvbnRhaW5lciksZn0sX2VhdEV2ZW50QW5kQ2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5jbG9zZSgpLCExfSxfcmVzaXplU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuc2NyZWVuLGI9dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKSxjPWEucmVtb3ZlQXR0cigic3R5bGUiKS5oZWlnaHQoKSxkPXRoaXMuZG9jdW1lbnQuaGVpZ2h0KCktMTtkPmM/YS5oZWlnaHQoZCk6Yj5jJiZhLmhlaWdodChiKX0sX2hhbmRsZVdpbmRvd0tleVVwOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl9pc09wZW4mJmIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRVNDQVBFP3RoaXMuX2VhdEV2ZW50QW5kQ2xvc2UoYik6dm9pZCAwfSxfZXhwZWN0UmVzaXplRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMud2luZG93KTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZihhLng9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLngmJmEueT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueSYmYS5jeD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3gmJmEuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLmN5KXJldHVybiExO2NsZWFyVGltZW91dCh0aGlzLl9yZXNpemVEYXRhLnRpbWVvdXRJZCl9cmV0dXJuIHRoaXMuX3Jlc2l6ZURhdGE9e3RpbWVvdXRJZDp0aGlzLl9kZWxheSgiX3Jlc2l6ZVRpbWVvdXQiLDIwMCksd2luZG93Q29vcmRpbmF0ZXM6YX0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuP3RoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fCh0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86IndpbmRvdyJ9KSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSksdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSk6KHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpfSxfc3RvcElnbm9yaW5nUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG89MH0sX2lnbm9yZVJlc2l6ZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX2lnbm9yZVJlc2l6ZVRvJiZjbGVhclRpbWVvdXQodGhpcy5faWdub3JlUmVzaXplVG8pLHRoaXMuX2lnbm9yZVJlc2l6ZVRvPXRoaXMuX2RlbGF5KCJfc3RvcElnbm9yaW5nUmVzaXplRXZlbnRzIiwxZTMpfSxfaGFuZGxlV2luZG93UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJighdGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSYmIXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzc3x8dGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKXx8dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKS5yZW1vdmVBdHRyKCJzdHlsZSIpKQp9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi50YXJnZXQsZT10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGQhPT1lLmNvbnRhaW5lclswXSl7aWYoYz1hKGQpLDA9PT1jLnBhcmVudHMoKS5maWx0ZXIoZS5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKCl7ImJvZHkiIT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZjLmJsdXIoKX0pLGUuZm9jdXNFbGVtZW50LmZvY3VzKCksYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITE7ZS5mb2N1c0VsZW1lbnRbMF09PT1lLmNvbnRhaW5lclswXSYmKGUuZm9jdXNFbGVtZW50PWMpfXRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpfX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/Im5vbmUiPT09Yj8iIjphK2I6YSsiaW5oZXJpdCJ9LF9hcHBseVRyYW5zaXRpb246ZnVuY3Rpb24oYil7cmV0dXJuIGImJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSwibm9uZSIhPT1iJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLCJub25lIj09PXRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj0iIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT10aGlzLl91aS5zY3JlZW47cmV0dXJuIGEud3JhcHBlckNsYXNzIT09YyYmdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS50aGVtZSE9PWMmJmQucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixiLnRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixhLnRoZW1lKSksYS5vdmVybGF5VGhlbWUhPT1jJiYoZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGIub3ZlcmxheVRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLW92ZXJsYXktIixhLm92ZXJsYXlUaGVtZSkpLHRoaXMuX2lzT3BlbiYmZS5hZGRDbGFzcygiaW4iKSksYS5zaGFkb3chPT1jJiZkLnRvZ2dsZUNsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIsYS5zaGFkb3cpLGEuY29ybmVycyE9PWMmJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS50cmFuc2l0aW9uIT09YyYmKHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9ufHx0aGlzLl9hcHBseVRyYW5zaXRpb24oYS50cmFuc2l0aW9uKSksYS50b2xlcmFuY2UhPT1jJiZ0aGlzLl9zZXRUb2xlcmFuY2UoYS50b2xlcmFuY2UpLGEuZGlzYWJsZWQhPT1jJiZhLmRpc2FibGVkJiZ0aGlzLmNsb3NlKCksdGhpcy5fc3VwZXIoYSl9LF9zZXRUb2xlcmFuY2U6ZnVuY3Rpb24oYil7dmFyIGQsZT17dDozMCxyOjE1LGI6MzAsbDoxNX07aWYoYiE9PWMpc3dpdGNoKGQ9U3RyaW5nKGIpLnNwbGl0KCIsIiksYS5lYWNoKGQsZnVuY3Rpb24oYSxiKXtkW2FdPXBhcnNlSW50KGIsMTApfSksZC5sZW5ndGgpe2Nhc2UgMTppc05hTihkWzBdKXx8KGUudD1lLnI9ZS5iPWUubD1kWzBdKTticmVhaztjYXNlIDI6aXNOYU4oZFswXSl8fChlLnQ9ZS5iPWRbMF0pLGlzTmFOKGRbMV0pfHwoZS5sPWUucj1kWzFdKTticmVhaztjYXNlIDQ6aXNOYU4oZFswXSl8fChlLnQ9ZFswXSksaXNOYU4oZFsxXSl8fChlLnI9ZFsxXSksaXNOYU4oZFsyXSl8fChlLmI9ZFsyXSksaXNOYU4oZFszXSl8fChlLmw9ZFszXSl9cmV0dXJuIHRoaXMuX3RvbGVyYW5jZT1lLHRoaXN9LF9jbGFtcFBvcHVwV2lkdGg6ZnVuY3Rpb24oYSl7dmFyIGIsYz1lKHRoaXMud2luZG93KSxkPXt4OnRoaXMuX3RvbGVyYW5jZS5sLHk6Yy55K3RoaXMuX3RvbGVyYW5jZS50LGN4OmMuY3gtdGhpcy5fdG9sZXJhbmNlLmwtdGhpcy5fdG9sZXJhbmNlLnIsY3k6Yy5jeS10aGlzLl90b2xlcmFuY2UudC10aGlzLl90b2xlcmFuY2UuYn07cmV0dXJuIGF8fHRoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsZC5jeCksYj17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LHtyYzpkLG1lbnVTaXplOmJ9fSxfY2FsY3VsYXRlRmluYWxMb2NhdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjLGU9Yi5yYyxmPWIubWVudVNpemU7cmV0dXJuIGM9e2xlZnQ6ZChlLmN4LGYuY3gsZS54LGEueCksdG9wOmQoZS5jeSxmLmN5LGUueSxhLnkpfSxjLnRvcD1NYXRoLm1heCgwLGMudG9wKSxjLnRvcC09TWF0aC5taW4oYy50b3AsTWF0aC5tYXgoMCxjLnRvcCtmLmN5LXRoaXMuZG9jdW1lbnQuaGVpZ2h0KCkpKSxjfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGEsdGhpcy5fY2xhbXBQb3B1cFdpZHRoKCkpfSxfY3JlYXRlUHJlcmVxdWlzaXRlczpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzO2U9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiZiKCl9KSxlLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmMoKX0pLGEud2hlbihlLnNjcmVlbixlLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiYoZi5fcHJlcmVxdWlzaXRlcz1udWxsLGQoKSl9KSxmLl9wcmVyZXF1aXNpdGVzPWV9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyhiLnNjcmVlbkNsYXNzVG9BZGQpLGIucHJlcmVxdWlzaXRlcy5zY3JlZW4ucmVzb2x2ZSgpLGIudHJhbnNpdGlvbiYmIm5vbmUiIT09Yi50cmFuc2l0aW9uJiYoYi5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbihiLnRyYW5zaXRpb24pLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbik/dm9pZCB0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lciwicmVzb2x2ZSIpKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksdm9pZCBiLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLnJlc29sdmUoKSl9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9bnVsbCxmPWUodGhpcy53aW5kb3cpLGc9Yi54LGg9Yi55LGk9Yi5wb3NpdGlvblRvO2lmKGkmJiJvcmlnaW4iIT09aSlpZigid2luZG93Ij09PWkpZz1mLmN4LzIrZi54LGg9Zi5jeS8yK2YueTtlbHNle3RyeXtkPWEoaSl9Y2F0Y2goail7ZD1udWxsfWQmJihkLmZpbHRlcigiOnZpc2libGUiKSwwPT09ZC5sZW5ndGgmJihkPW51bGwpKX1yZXR1cm4gZCYmKGM9ZC5vZmZzZXQoKSxnPWMubGVmdCtkLm91dGVyV2lkdGgoKS8yLGg9Yy50b3ArZC5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoIm51bWJlciIhPT1hLnR5cGUoaCl8fGlzTmFOKGgpKSYmKGg9Zi5jeS8yK2YueSkse3g6Zyx5Omh9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihhKXthPXt4OmEueCx5OmEueSxwb3NpdGlvblRvOmEucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGMsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSxhJiZ0aGlzLmRvY3VtZW50LmZpbmQoIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11bYXJpYS1vd25zPSciK2ErIiddIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuX3RyaWdnZXIoImFmdGVyb3BlbiIpfSxfb3BlbjpmdW5jdGlvbihiKXt2YXIgYz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksZD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGM9ISFiJiZiWzFdLGQ9YS5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGU9ISFkJiZkWzFdLGY9YS5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gbnVsbCE9PWQmJiI0LjAiPT09ZSYmYyYmYz41MzQuMTMmJiFmPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5ub29wLGEubm9vcCxhLnByb3h5KHRoaXMsIl9vcGVuUHJlcmVxdWlzaXRlc0NvbXBsZXRlIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWMudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oYy50cmFuc2l0aW9uKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLXRydW5jYXRlIiksdGhpcy5fcmVwb3NpdGlvbihjKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJmQmJnRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjohMCx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiIiLHNjcmVlbkNsYXNzVG9BZGQ6ImluIixjb250YWluZXJDbGFzc1RvQWRkOiJpbiIsYXBwbHlUcmFuc2l0aW9uOiExLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW46ZnVuY3Rpb24oKXt0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoIm91dCIpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LF9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lcjpmdW5jdGlvbigpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygicmV2ZXJzZSBvdXQiKS5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIikucmVtb3ZlQXR0cigic3R5bGUiKX0sX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl91aS5jb250YWluZXIsZD10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTtiLnJlbW92ZUF0dHIoInRhYmluZGV4IiksYS5tb2JpbGUucG9wdXAuYWN0aXZlPWMsYSgiOmZvY3VzIixiWzBdKS5hZGQoYlswXSkuYmx1cigpLGQmJnRoaXMuZG9jdW1lbnQuZmluZCgiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9JyIrZCsiJ10iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktaW5oZXJpdCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksdGhpcy53aW5kb3cub2ZmKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMud2luZG93Lm9uKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KHRoaXMsIl9jbG9zZVBvcHVwIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY29udGFpbmVyfSxvcGVuOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPXRoaXMsaj10aGlzLm9wdGlvbnM7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZXx8ai5kaXNhYmxlZD90aGlzOihhLm1vYmlsZS5wb3B1cC5hY3RpdmU9dGhpcyx0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksai5oaXN0b3J5PyhoPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnksZD1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGU9YS5tb2JpbGUuYWN0aXZlUGFnZSxmPWU/ZS5oYXNDbGFzcygidWktZGlhbG9nIik6ITEsdGhpcy5fbXlVcmw9Yz1oLmdldEFjdGl2ZSgpLnVybCwoZz1jLmluZGV4T2YoZCk+LTEmJiFmJiZoLmFjdGl2ZUluZGV4PjApPyhpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLHRoaXMpOigtMSE9PWMuaW5kZXhPZihkKXx8Zj9jPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZDpjKz1jLmluZGV4T2YoIiMiKT4tMT9kOiIjIitkLHRoaXMud2luZG93Lm9uZSgiYmVmb3JlbmF2aWdhdGUiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpfSksdGhpcy51cmxBbHRlcmVkPSEwLGEubW9iaWxlLm5hdmlnYXRlKGMse3JvbGU6ImRpYWxvZyJ9KSx0aGlzKSk6KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksaS5lbGVtZW50LmRlbGVnYXRlKGouY2xvc2VMaW5rU2VsZWN0b3Isai5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7aS5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpcz90aGlzOih0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy5vcHRpb25zLmhpc3RvcnkmJnRoaXMudXJsQWx0ZXJlZD8oYS5tb2JpbGUuYmFjaygpLHRoaXMudXJsQWx0ZXJlZD0hMSk6dGhpcy5fY2xvc2VQb3B1cCgpLHRoaXMpfX0pLGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbms9ZnVuY3Rpb24oYil7dmFyIGMsZD1hLm1vYmlsZS5wYXRoLGU9YShkLmhhc2hUb1NlbGVjdG9yKGQucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gpKS5maXJzdCgpO2UubGVuZ3RoPjAmJmUuZGF0YSgibW9iaWxlLXBvcHVwIikmJihjPWIub2Zmc2V0KCksZS5wb3B1cCgib3BlbiIse3g6Yy5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzIseTpjLnRvcCtiLm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHBvc2l0aW9uVG86Yi5qcW1EYXRhKCJwb3NpdGlvbi10byIpfSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKX0sYS5tb2JpbGUuZG9jdW1lbnQub24oInBhZ2ViZWZvcmVjaGFuZ2UiLGZ1bmN0aW9uKGIsYyl7InBvcHVwIj09PWMub3B0aW9ucy5yb2xlJiYoYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluayhjLm9wdGlvbnMubGluayksYi5wcmV2ZW50RGVmYXVsdCgpKX0pfShhKSxmdW5jdGlvbihhLGIpe3ZhciBkPSIudWktZGlzYWJsZWQsLnVpLXN0YXRlLWRpc2FibGVkLC51aS1saS1kaXZpZGVyLC51aS1zY3JlZW4taGlkZGVuLDpqcW1EYXRhKHJvbGU9J3BsYWNlaG9sZGVyJykiLGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWFbYysiQWxsIl0oKS5ub3QoZCkuZmlyc3QoKTtlLmxlbmd0aCYmKGIuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxlLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpfTthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLnNlbGVjdG1lbnUse19jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7cmV0dXJuIGEubmF0aXZlTWVudT1hLm5hdGl2ZU1lbnV8fHRoaXMuZWxlbWVudC5wYXJlbnRzKCI6anFtRGF0YShyb2xlPSdwb3B1cCcpLDptb2JpbGUtcG9wdXAiKS5sZW5ndGg+MCx0aGlzLl9zdXBlcigpfSxfaGFuZGxlU2VsZWN0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYmx1cigpLHRoaXMuYnV0dG9uLmZvY3VzKCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLHRoaXMuX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24oYSl9LF9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5pc09wZW58fHRoaXMub3B0aW9ucy5uYXRpdmVNZW51fHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/dGhpcy5idXR0b24uYXR0cigiaHJlZiIsIiMiK3RoaXMucG9wdXBJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOnRoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLmRpYWxvZ0lkKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLHRoaXMuaXNPcGVuPSEwKX0sX2hhbmRsZUxpc3RGb2N1czpmdW5jdGlvbihiKXt2YXIgYz0iZm9jdXNpbiI9PT1iLnR5cGU/e3RhYmluZGV4OiIwIixldmVudDoidm1vdXNlb3ZlciJ9Ont0YWJpbmRleDoiLTEiLGV2ZW50OiJ2bW91c2VvdXQifTthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsYy50YWJpbmRleCkudHJpZ2dlcihjLmV2ZW50KX0sX2hhbmRsZUxpc3RLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGUoZCxjLCJwcmV2IiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsIm5leHQiKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSwhMX19LF9oYW5kbGVNZW51UGFnZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheWVkVHJpZ2dlcigpLHRoaXMudGhpc1BhZ2UucGFnZSgiYmluZFJlbW92ZSIpfSxfaGFuZGxlSGVhZGVyQ2xvc2VDbGljazpmdW5jdGlvbigpe3JldHVybiJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/KHRoaXMuY2xvc2UoKSwhMSk6dm9pZCAwfSxfaGFuZGxlTGlzdEl0ZW1DbGljazpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCJsaSIpLGQ9dGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCxlPWEubW9iaWxlLmdldEF0dHJpYnV0ZShjLCJvcHRpb24taW5kZXgiKSxmPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5lcShlKVswXTtmLnNlbGVjdGVkPXRoaXMuaXNNdWx0aXBsZT8hZi5zZWxlY3RlZDohMCx0aGlzLmlzTXVsdGlwbGUmJmMuZmluZCgiYSIpLnRvZ2dsZUNsYXNzKCJ1aS1jaGVja2JveC1vbiIsZi5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWNoZWNrYm94LW9mZiIsIWYuc2VsZWN0ZWQpLHRoaXMuaXNNdWx0aXBsZXx8ZD09PWV8fCh0aGlzLl90cmlnZ2VyQ2hhbmdlPSEwKSx0aGlzLmlzTXVsdGlwbGU/KHRoaXMuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLHRoaXMubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuZXEoZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSk6dGhpcy5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMub3B0aW9ucztyZXR1cm4gdi5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6KGM9dGhpcy5zZWxlY3RJZCxkPWMrIi1saXN0Ym94IixlPWMrIi1kaWFsb2ciLGY9dGhpcy5sYWJlbCxnPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLGg9dGhpcy5lbGVtZW50WzBdLm11bHRpcGxlLGk9YysiLW1lbnUiLGo9di50aGVtZT8iIGRhdGEtIithLm1vYmlsZS5ucysidGhlbWU9JyIrdi50aGVtZSsiJyI6IiIsaz12Lm92ZXJsYXlUaGVtZXx8di50aGVtZXx8bnVsbCxsPWs/IiBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIraysiJyI6IiIsbT12LmRpdmlkZXJUaGVtZSYmaD8iIGRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZT0nIit2LmRpdmlkZXJUaGVtZSsiJyI6IiIsbj1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBjbGFzcz0ndWktc2VsZWN0bWVudScgaWQ9JyIrZSsiJyIraitsKyI+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKSxvPWEoIjxkaXYiK2orbCsiIGlkPSciK2QrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPjwvZGl2PiIpLmluc2VydEFmdGVyKHRoaXMuc2VsZWN0KS5wb3B1cCgpLHA9YSgiPHVsIGNsYXNzPSd1aS1zZWxlY3RtZW51LWxpc3QnIGlkPSciK2krIicgcm9sZT0nbGlzdGJveCcgYXJpYS1sYWJlbGxlZGJ5PSciK3RoaXMuYnV0dG9uSWQrIiciK2orbSsiPjwvdWw+IikuYXBwZW5kVG8obykscT1hKCI8ZGl2IGNsYXNzPSd1aS1oZWFkZXIgdWktYmFyLSIrKHYudGhlbWU/di50aGVtZToiaW5oZXJpdCIpKyInPjwvZGl2PiIpLnByZXBlbmRUbyhvKSxyPWEoIjxoMSBjbGFzcz0ndWktdGl0bGUnPjwvaDE+IikuYXBwZW5kVG8ocSksdGhpcy5pc011bHRpcGxlJiYodT1hKCI8YT4iLHtyb2xlOiJidXR0b24iLHRleHQ6di5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktYnRuLWxlZnQgdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tZGVsZXRlIn0pLmFwcGVuZFRvKHEpKSxhLmV4dGVuZCh0aGlzLHtzZWxlY3RJZDpjLG1lbnVJZDppLHBvcHVwSWQ6ZCxkaWFsb2dJZDplLHRoaXNQYWdlOmcsbWVudVBhZ2U6bixsYWJlbDpmLGlzTXVsdGlwbGU6aCx0aGVtZTp2LnRoZW1lLGxpc3Rib3g6byxsaXN0OnAsaGVhZGVyOnEsaGVhZGVyVGl0bGU6cixoZWFkZXJDbG9zZTp1LG1lbnVQYWdlQ29udGVudDpzLG1lbnVQYWdlQ2xvc2U6dCxwbGFjZWhvbGRlcjoiIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29yaWdUYWJJbmRleD09PWImJih0aGlzLl9vcmlnVGFiSW5kZXg9bnVsbD09PXRoaXMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKT8hMTp0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIpKSx0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIiksdGhpcy5fb24odGhpcy5zZWxlY3Qse2ZvY3VzOiJfaGFuZGxlU2VsZWN0Rm9jdXMifSksdGhpcy5fb24odGhpcy5idXR0b24se3ZjbGljazoiX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24ifSksdGhpcy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IiksdGhpcy5fb24odGhpcy5saXN0LHtmb2N1c2luOiJfaGFuZGxlTGlzdEZvY3VzIixmb2N1c291dDoiX2hhbmRsZUxpc3RGb2N1cyIsa2V5ZG93bjoiX2hhbmRsZUxpc3RLZXlkb3duIiwiY2xpY2sgbGk6bm90KC51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIpIjoiX2hhbmRsZUxpc3RJdGVtQ2xpY2sifSksdGhpcy5fb24odGhpcy5tZW51UGFnZSx7cGFnZWhpZGU6Il9oYW5kbGVNZW51UGFnZUhpZGUifSksdGhpcy5fb24odGhpcy5saXN0Ym94LHtwb3B1cGFmdGVyY2xvc2U6Il9wb3B1cENsb3NlZCJ9KSx0aGlzLmlzTXVsdGlwbGUmJnRoaXMuX29uKHRoaXMuaGVhZGVyQ2xvc2Use2NsaWNrOiJfaGFuZGxlSGVhZGVyQ2xvc2VDbGljayJ9KSx0aGlzKX0sX3BvcHVwQ2xvc2VkOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuX2RlbGF5ZWRUcmlnZ2VyKCl9LF9kZWxheWVkVHJpZ2dlcjpmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXJDaGFuZ2UmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJjaGFuZ2UiKSx0aGlzLl90cmlnZ2VyQ2hhbmdlPSExfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpc3QuZmluZCgibGkiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik7cmV0dXJuIGIudGV4dCgpIT09YS50ZXh0KCl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSIpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIHRoaXMub3B0aW9ucy5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKGIpOihjPXRoaXMsKGJ8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZjLl9idWlsZExpc3QoKSxkPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCksYy5zZXRCdXR0b25UZXh0KCksYy5zZXRCdXR0b25Db3VudCgpLHZvaWQgYy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5maW5kKCJhIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmVuZCgpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe2lmKGEuaW5BcnJheShiLGQpPi0xKXt2YXIgZT1hKHRoaXMpO2UuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLGMuaXNNdWx0aXBsZT9lLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWNoZWNrYm94LW9uIik6ZS5oYXNDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpP2UubmV4dCgpLmZpbmQoImEiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6ZS5maW5kKCJhIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfX0pKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGE9dGhpczsicGFnZSI9PT1hLm1lbnVUeXBlPyhhLm1lbnVQYWdlLmRpYWxvZygiY2xvc2UiKSxhLmxpc3QuYXBwZW5kVG8oYS5saXN0Ym94KSk6YS5saXN0Ym94LnBvcHVwKCJjbG9zZSIpLGEuX2ZvY3VzQnV0dG9uKCksYS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2ZvY3VzTWVudUl0ZW06ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxpc3QuZmluZCgiYS4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTswPT09Yi5sZW5ndGgmJihiPXRoaXMubGlzdC5maW5kKCJsaTpub3QoIitkKyIpIGEudWktYnRuIikpLGIuZmlyc3QoKS5mb2N1cygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1iLm1lbnVQYWdlLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixnKX0pLGIubWVudVBhZ2Uub25lKHtwYWdlc2hvdzphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLCJjbG9zZSIpfSksYi5tZW51VHlwZT0icGFnZSIsYi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCksYi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLmdldEVuY29kZWRUZXh0KCl8fGIucGxhY2Vob2xkZXIpKTooYi5tZW51VHlwZT0ib3ZlcmxheSIsYi5saXN0Ym94Lm9uZSh7cG9wdXBhZnRlcm9wZW46YS5wcm94eSh0aGlzLCJfZm9jdXNNZW51SXRlbSIpfSkpfSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIGIsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxPXRoaXMscj10aGlzLm9wdGlvbnMscz10aGlzLnBsYWNlaG9sZGVyLHQ9ITAsdT0iZmFsc2UiLHY9ImRhdGEtIithLm1vYmlsZS5ucyx3PXYrIm9wdGlvbi1pbmRleCIseD12KyJpY29uIix5PXYrInJvbGUiLHo9disicGxhY2Vob2xkZXIiLEE9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksQj0hMTtmb3IocS5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLGQ9Yi5sZW5ndGgsZT10aGlzLnNlbGVjdFswXSxnPTA7ZD5nO2crKyxCPSExKWg9YltnXSxpPWEoaCksaS5oYXNDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfHwoaj1oLnBhcmVudE5vZGUsbT1bXSxrPWkudGV4dCgpLGw9Yy5jcmVhdGVFbGVtZW50KCJhIiksbC5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksbC5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGspKSxqIT09ZSYmIm9wdGdyb3VwIj09PWoubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG49ai5nZXRBdHRyaWJ1dGUoImxhYmVsIiksbiE9PWYmJihvPWMuY3JlYXRlRWxlbWVudCgibGkiKSxvLnNldEF0dHJpYnV0ZSh5LCJsaXN0LWRpdmlkZXIiKSxvLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLG8uc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksby5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKG4pKSxBLmFwcGVuZENoaWxkKG8pLGY9bikpLCF0fHxoLmdldEF0dHJpYnV0ZSgidmFsdWUiKSYmMCE9PWsubGVuZ3RoJiYhaS5qcW1EYXRhKCJwbGFjZWhvbGRlciIpfHwodD0hMSxCPSEwLG51bGw9PT1oLmdldEF0dHJpYnV0ZSh6KSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksaC5zZXRBdHRyaWJ1dGUoeiwhMCksci5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm0ucHVzaCgidWktc2NyZWVuLWhpZGRlbiIpLHMhPT1rJiYocz1xLnBsYWNlaG9sZGVyPWspKSxwPWMuY3JlYXRlRWxlbWVudCgibGkiKSxoLmRpc2FibGVkJiYobS5wdXNoKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHAuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIiwhMCkpLHAuc2V0QXR0cmlidXRlKHcsZykscC5zZXRBdHRyaWJ1dGUoeCx1KSxCJiZwLnNldEF0dHJpYnV0ZSh6LCEwKSxwLmNsYXNzTmFtZT1tLmpvaW4oIiAiKSxwLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLGwuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksdGhpcy5pc011bHRpcGxlJiZhKGwpLmFkZENsYXNzKCJ1aS1idG4gdWktY2hlY2tib3gtb2ZmIHVpLWJ0bi1pY29uLXJpZ2h0IikscC5hcHBlbmRDaGlsZChsKSxBLmFwcGVuZENoaWxkKHApKTtxLmxpc3RbMF0uYXBwZW5kQ2hpbGQoQSksdGhpcy5pc011bHRpcGxlfHxzLmxlbmd0aD90aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik6dGhpcy5oZWFkZXIuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSxxLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcigpOmEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm5hdGl2ZU1lbnV8fCh0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09YiYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoInRhYmluZGV4IikpLHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0ciYmdGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicGxhY2Vob2xkZXIiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksdGhpcy5tZW51UGFnZS5yZW1vdmUoKSksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dmFyIGM9Yj9iOltdO3JldHVybiBjLnB1c2goInVpLWJ0biIpLGEudGhlbWUmJmMucHVzaCgidWktYnRuLSIrYS50aGVtZSksYS5pY29uJiYoYz1jLmNvbmNhdChbInVpLWljb24tIithLmljb24sInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zXSksYS5pY29uc2hhZG93JiZjLnB1c2goInVpLXNoYWRvdy1pY29uIikpLGEuaW5saW5lJiZjLnB1c2goInVpLWJ0bi1pbmxpbmUiKSxhLnNoYWRvdyYmYy5wdXNoKCJ1aS1zaGFkb3ciKSxhLmNvcm5lcnMmJmMucHVzaCgidWktY29ybmVyLWFsbCIpLGEubWluaSYmYy5wdXNoKCJ1aS1taW5pIiksY31mdW5jdGlvbiBkKGEpe3ZhciBjLGQsZSxnPSExLGg9ITAsaT17aWNvbjoiIixpbmxpbmU6ITEsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnNoYWRvdzohMSxtaW5pOiExfSxqPVtdO2ZvcihhPWEuc3BsaXQoIiAiKSxjPTA7YzxhLmxlbmd0aDtjKyspZT0hMCxkPWZbYVtjXV0sZCE9PWI/KGU9ITEsaVtkXT0hMCk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLWljb24tIik/KGU9ITEsaD0hMSxpLmljb25wb3M9YVtjXS5zdWJzdHJpbmcoMTIpKTowPT09YVtjXS5pbmRleE9mKCJ1aS1pY29uLSIpPyhlPSExLGkuaWNvbj1hW2NdLnN1YnN0cmluZyg4KSk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLSIpJiY4PT09YVtjXS5sZW5ndGg/KGU9ITEsaS50aGVtZT1hW2NdLnN1YnN0cmluZyg3KSk6InVpLWJ0biI9PT1hW2NdJiYoZT0hMSxnPSEwKSxlJiZqLnB1c2goYVtjXSk7cmV0dXJuIGgmJihpLmljb249IiIpLHtvcHRpb25zOmksdW5rbm93bkNsYXNzZXM6aixhbHJlYWR5RW5oYW5jZWQ6Z319ZnVuY3Rpb24gZShhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfXZhciBmPXsidWktc2hhZG93Ijoic2hhZG93IiwidWktY29ybmVyLWFsbCI6ImNvcm5lcnMiLCJ1aS1idG4taW5saW5lIjoiaW5saW5lIiwidWktc2hhZG93LWljb24iOiJpY29uc2hhZG93IiwidWktbWluaSI6Im1pbmkifSxnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuZ2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09Yz9iOmN9LGg9L1tBLVpdL2c7YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oZixpKXt2YXIgaixrLGwsbSxuLG89YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM7Zm9yKGo9MDtqPHRoaXMubGVuZ3RoO2orKyl7aWYobD10aGlzW2pdLGs9aT97YWxyZWFkeUVuaGFuY2VkOiExLHVua25vd25DbGFzc2VzOltdfTpkKGwuY2xhc3NOYW1lKSxtPWEuZXh0ZW5kKHt9LGsuYWxyZWFkeUVuaGFuY2VkP2sub3B0aW9uczp7fSxmKSwhay5hbHJlYWR5RW5oYW5jZWQpZm9yKG4gaW4gbyltW25dPT09YiYmKG1bbl09ZyhsLG4ucmVwbGFjZShoLGUpKSk7bC5jbGFzc05hbWU9YyhhLmV4dGVuZCh7fSxvLG0pLGsudW5rbm93bkNsYXNzZXMpLmpvaW4oIiAiKSwiYnV0dG9uIiE9PWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZsLnNldEF0dHJpYnV0ZSgicm9sZSIsImJ1dHRvbiIpfXJldHVybiB0aGlzfSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17aWNvbjoiIixpY29ucG9zOiJsZWZ0Iix0aGVtZTpudWxsLGlubGluZTohMSxzaGFkb3c6ITAsY29ybmVyczohMCxpY29uc2hhZG93OiExLG1pbmk6ITF9LGEuZXh0ZW5kKGEuZm4uYnV0dG9uTWFya3VwLHtpbml0U2VsZWN0b3I6ImE6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEsIGJ1dHRvbjpub3QoOmpxbURhdGEocm9sZT0nbmF2YmFyJykgYnV0dG9uKSJ9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5leHRlbmQoe29wdGlvbnM6e2VuaGFuY2VkOiExLHRoZW1lOm51bGwsc2hhZG93OiExLGNvcm5lcnM6ITAsZXhjbHVkZUludmlzaWJsZTohMCx0eXBlOiJ2ZXJ0aWNhbCIsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczthLmZuLmJ1dHRvbk1hcmt1cCYmdGhpcy5lbGVtZW50LmZpbmQoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5idXR0b25NYXJrdXAoKSxhLmVhY2godGhpcy5fY2hpbGRXaWRnZXRzLGEucHJveHkoZnVuY3Rpb24oYixjKXthLm1vYmlsZVtjXSYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGVbY10uaW5pdFNlbGVjdG9yKS5ub3QoYS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCkpW2NdKCl9LHRoaXMpKSxhLmV4dGVuZCh0aGlzLHtfdWk6bnVsbCxfaW5pdGlhbFJlZnJlc2g6ITB9KSx0aGlzLl91aT1jLmVuaGFuY2VkP3tncm91cExlZ2VuZDpiLmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsIikuY2hpbGRyZW4oKSxjaGlsZFdyYXBwZXI6Yi5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1jb250cm9scyIpfTp0aGlzLl9lbmhhbmNlKCl9LF9jaGlsZFdpZGdldHM6WyJjaGVja2JveHJhZGlvIiwic2VsZWN0bWVudSIsImJ1dHRvbiJdLF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gYT8ibm9uZSI9PT1hPyIiOiJ1aS1ncm91cC10aGVtZS0iK2E6IiJ9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9e2dyb3VwTGVnZW5kOmIuY2hpbGRyZW4oImxlZ2VuZCIpLGNoaWxkV3JhcHBlcjpiLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrKCJob3Jpem9udGFsIj09PWMudHlwZT8iaG9yaXpvbnRhbCI6InZlcnRpY2FsIikrIiAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGMudGhlbWUpKyIgIisoYy5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKyhjLm1pbmk/InVpLW1pbmkgIjoiIikpLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzICIrKGMuc2hhZG93PT09ITA/InVpLXNoYWRvdyI6IiIpKyInPjwvZGl2PiIpLmNoaWxkcmVuKCl9O3JldHVybiBkLmdyb3VwTGVnZW5kLmxlbmd0aD4wJiZhKCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPjwvZGl2PiIpLmFwcGVuZChkLmdyb3VwTGVnZW5kKS5wcmVwZW5kVG8oYiksZH0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlPXRoaXMuZWxlbWVudDtyZXR1cm4gYS50eXBlIT09YiYmKGUucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIisoImhvcml6b250YWwiPT09YS50eXBlPyJob3Jpem9udGFsIjoidmVydGljYWwiKSksYz0hMCksYS50aGVtZSE9PWImJmUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24odGhpcy5vcHRpb25zLnRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYS50aGVtZSkpLGEuY29ybmVycyE9PWImJmUudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS5taW5pIT09YiYmZS50b2dnbGVDbGFzcygidWktbWluaSIsYS5taW5pKSxhLnNoYWRvdyE9PWImJnRoaXMuX3VpLmNoaWxkV3JhcHBlci50b2dnbGVDbGFzcygidWktc2hhZG93IixhLnNoYWRvdyksYS5leGNsdWRlSW52aXNpYmxlIT09YiYmKHRoaXMub3B0aW9ucy5leGNsdWRlSW52aXNpYmxlPWEuZXhjbHVkZUludmlzaWJsZSxjPSEwKSxkPXRoaXMuX3N1cGVyKGEpLGMmJnRoaXMucmVmcmVzaCgpLGR9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jaGlsZFdyYXBwZXJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmNvbnRhaW5lcigpLGM9Yi5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGQ9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmYi5maW5kKCI6bW9iaWxlLWNoZWNrYm94cmFkaW8iKS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIiksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhjLHRoaXMub3B0aW9ucy5leGNsdWRlSW52aXNpYmxlP3RoaXMuX2dldFZpc2libGVzKGMsZCk6YyxkKSx0aGlzLl9pbml0aWFsUmVmcmVzaD0hMX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYSxiLGM9dGhpcy5vcHRpb25zO3JldHVybiBjLmVuaGFuY2VkP3RoaXM6KGE9dGhpcy5fdWksYj10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWwgdWktY29ybmVyLWFsbCB1aS1taW5pICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkpLmZpbmQoIi51aS1idG4iKS5ub3QoIi51aS1zbGlkZXItaGFuZGxlIiksdGhpcy5fcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlcyhiKSxhLmdyb3VwTGVnZW5kLnVud3JhcCgpLHZvaWQgYS5jaGlsZFdyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIse2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIixvcHRpb25zOnt0aGVtZTpudWxsLGFkZEJhY2tCdG46ITEsYmFja0J0blRoZW1lOm51bGwsYmFja0J0blRleHQ6IkJhY2sifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMuZWxlbWVudC5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpOzA9PT1lLmxlbmd0aCYmKGU9ITEsdGhpcy5fb24odGhpcy5kb2N1bWVudCx7cGFnZXNob3c6InJlZnJlc2gifSkpLGEuZXh0ZW5kKHRoaXMse3JvbGU6ZCxwYWdlOmUsbGVmdGJ0bjpiLHJpZ2h0YnRuOmN9KSx0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsImhlYWRlciI9PT1kPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpLmFkZENsYXNzKCJ1aS0iK2QpLHRoaXMucmVmcmVzaCgpLHRoaXMuX3NldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7aWYoYS5hZGRCYWNrQnRuIT09YiYmdGhpcy5fdXBkYXRlQmFja0J1dHRvbigpLG51bGwhPWEuYmFja0J0blRoZW1lJiZ0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXRvb2xiYXItYmFjay1idG4iKS5hZGRDbGFzcygidWktYnRuIHVpLWJ0bi0iK2EuYmFja0J0blRoZW1lKSxhLmJhY2tCdG5UZXh0IT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIC51aS1idG4tdGV4dCIpLnRleHQoYS5iYWNrQnRuVGV4dCksYS50aGVtZSE9PWIpe3ZhciBjPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJhci0iK2MpLmFkZENsYXNzKCJ1aS1iYXItIitkKX10aGlzLl9zdXBlcihhKX0scmVmcmVzaDpmdW5jdGlvbigpeyJoZWFkZXIiPT09dGhpcy5yb2xlJiZ0aGlzLl9hZGRIZWFkZXJCdXR0b25DbGFzc2VzKCksdGhpcy5wYWdlfHwodGhpcy5fc2V0UmVsYXRpdmUoKSwiZm9vdGVyIj09PXRoaXMucm9sZT90aGlzLmVsZW1lbnQuYXBwZW5kVG8oImJvZHkiKToiaGVhZGVyIj09PXRoaXMucm9sZSYmdGhpcy5fdXBkYXRlQmFja0J1dHRvbigpKSx0aGlzLl9hZGRIZWFkaW5nQ2xhc3NlcygpLHRoaXMuX2J0bk1hcmt1cCgpfSxfc2V0UmVsYXRpdmU6ZnVuY3Rpb24oKXthKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJ10iKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KX0sX2J0bk1hcmt1cDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiYSIpLmZpbHRlcigiOm5vdChbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdub25lJ10pIikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIiwiYnV0dG9uIiksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNyZWF0ZSIpfSxfYWRkSGVhZGVyQnV0dG9uQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiYSwgYnV0dG9uIik7dGhpcy5sZWZ0YnRuPWEuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0IikmJiFhLmhhc0NsYXNzKCJ1aS10b29sYmFyLWJhY2stYnRuIiksdGhpcy5yaWdodGJ0bj1hLmhhc0NsYXNzKCJ1aS1idG4tcmlnaHQiKSx0aGlzLmxlZnRidG49dGhpcy5sZWZ0YnRufHxhLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCwudWktdG9vbGJhci1iYWNrLWJ0biIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCx0aGlzLnJpZ2h0YnRuPXRoaXMucmlnaHRidG58fGEuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpLmxlbmd0aH0sX3VwZGF0ZUJhY2tCdXR0b246ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMub3B0aW9ucyxkPWMuYmFja0J0blRoZW1lfHxjLnRoZW1lO2I9dGhpcy5fYmFja0J1dHRvbj10aGlzLl9iYWNrQnV0dG9ufHx7fSx0aGlzLm9wdGlvbnMuYWRkQmFja0J0biYmImhlYWRlciI9PT10aGlzLnJvbGUmJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJih0aGlzLnBhZ2U/dGhpcy5wYWdlWzBdLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiKSE9PWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpOmEubW9iaWxlLm5hdmlnYXRlJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5JiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4PjApJiYhdGhpcy5sZWZ0YnRuP2IuYXR0YWNoZWR8fChiLmVsZW1lbnQ9KGIuZWxlbWVudHx8YSgiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLWJ0bi1sZWZ0ICIrKGQ/InVpLWJ0bi0iK2QrIiAiOiIiKSsidWktdG9vbGJhci1iYWNrLWJ0biB1aS1pY29uLWNhcmF0LWwgdWktYnRuLWljb24tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snPiIrYy5iYWNrQnRuVGV4dCsiPC9hPiIpKS5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSxiLmF0dGFjaGVkPSEwKTpiLmVsZW1lbnQmJihiLmVsZW1lbnQuZGV0YWNoKCksYi5hdHRhY2hlZD0hMSl9LF9hZGRIZWFkaW5nQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLGEubW9iaWxlLnRvb2xiYXIse29wdGlvbnM6e3Bvc2l0aW9uOm51bGwsdmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1mbGlwc3dpdGNoLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlbiIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3JldHVybiFhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbn19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJmaXhlZCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb258fHRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCl8fHRoaXMuX21ha2VGaXhlZCgpfSxfbWFrZUZpeGVkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZpeGVkIiksdGhpcy51cGRhdGVQYWdlUGFkZGluZygpLHRoaXMuX2FkZFRyYW5zaXRpb25DbGFzcygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5fYmluZFRvZ2dsZUhhbmRsZXJzKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKCJmaXhlZCI9PT1jLnBvc2l0aW9uJiYiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiZ0aGlzLl9tYWtlRml4ZWQoKSwiZml4ZWQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiYhdGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKSl7dmFyIGQ9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg+MD9hKCIudWktcGFnZS1hY3RpdmUiKTphKCIudWktcGFnZSIpLmVxKDApO2MuZnVsbHNjcmVlbiE9PWImJihjLmZ1bGxzY3JlZW4/KHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSk6KHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5yZW1vdmVDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKS5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZpeGVkIikpKX10aGlzLl9zdXBlcihjKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJiJub25lIiE9PWEmJigic2xpZGUiPT09YSYmKGE9dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFnZT90aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTp0aGlzLmRvY3VtZW50O3RoaXMuX29uKGEse3BhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHdlYmtpdEFuaW1hdGlvblN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLGFuaW1hdGlvbnN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHVwZGF0ZWxheW91dDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixwYWdlc2hvdzoiX2hhbmRsZVBhZ2VTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksYi52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpLHRoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb24odGhpcy53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKHRoaXMud2luZG93LCJ0aHJvdHRsZWRyZXNpemUiKSxoLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzJiYoZD1hKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLnBhZ2UpLGU9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5wYWdlKSxmPWQubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZC5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSxnPWUubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZS5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSwoZi5sZW5ndGh8fGcubGVuZ3RoKSYmKGYuYWRkKGcpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGMubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtnLnByZXBlbmRUbyh0aGlzKSxmLmFwcGVuZFRvKHRoaXMpfSkpKX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ImhlYWRlciI9PT10aGlzLnJvbGUsZj1wYXJzZUZsb2F0KGQuY3NzKGU/InRvcCI6ImJvdHRvbSIpKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9YyYmYy50eXBlPT09YiYmY3x8dGhpcy5wYWdlfHxkLmNsb3Nlc3QoIi51aS1wYWdlIiksYz10aGlzLnBhZ2U/dGhpcy5wYWdlOiIudWktcGFnZS1hY3RpdmUiLGEoYykuY3NzKCJwYWRkaW5nLSIrKGU/InRvcCI6ImJvdHRvbSIpLGQub3V0ZXJIZWlnaHQoKStmKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMud2luZG93LGQ9dGhpcy5lbGVtZW50LGU9Yy5zY3JvbGxUb3AoKSxmPWQuaGVpZ2h0KCksZz10aGlzLnBhZ2U/ZC5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpOmEoIi51aS1wYWdlLWFjdGl2ZSIpLmhlaWdodCgpLGg9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7cmV0dXJuIWImJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmIm5vbmUiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJigiaGVhZGVyIj09PXRoaXMucm9sZSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZlPmZ8fCJmb290ZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmctZj5lK2gpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKCJvdXQgIitiKS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQsZD0ib3V0IisoInNsaWRlIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMsZT1kLm9wdGlvbnMsZj0hMCxnPXRoaXMucGFnZT90aGlzLnBhZ2U6YSgiLnVpLXBhZ2UiKTtnLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7ZS50YXBUb2dnbGUmJiFhKGIudGFyZ2V0KS5jbG9zZXN0KGUudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmQudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IixmdW5jdGlvbihnKXtzY3JlZW4ud2lkdGg8MTAyNSYmYShnLnRhcmdldCkuaXMoZS5oaWRlRHVyaW5nRm9jdXMpJiYhYShnLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmKCJmb2N1c291dCIhPT1nLnR5cGV8fGY/ImZvY3VzaW4iPT09Zy50eXBlJiZmJiYoY2xlYXJUaW1lb3V0KGIpLGY9ITEsYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5oaWRlKCl9LDApKTooZj0hMCxjbGVhclRpbWVvdXQoYyksYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zaG93KCl9LDApKSl9KX0sX3NldFJlbGF0aXZlOmZ1bmN0aW9uKCl7ImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmYSgiW2RhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSddIikuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5oYXNDbGFzcygidWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLGEubW9iaWxlLnRvb2xiYXIse19tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX3dvcmthcm91bmRzKCl9LF93b3JrYXJvdW5kczpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sYz1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZigiaVBob25lIik+LTF8fGIuaW5kZXhPZigiaVBhZCIpPi0xfHxiLmluZGV4T2YoImlQb2QiKT4tMSllPSJpb3MiO2Vsc2V7aWYoIShhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSkpcmV0dXJuO2U9ImFuZHJvaWQifWlmKCJpb3MiPT09ZSlmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO2Vsc2V7aWYoISgiYW5kcm9pZCI9PT1lJiZkJiY1MzQ+ZCkpcmV0dXJuO2YuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKX19LF92aWV3cG9ydE9mZnNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaGFzQ2xhc3MoInVpLWhlYWRlciIpLGM9TWF0aC5hYnMoYS5vZmZzZXQoKS50b3AtdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBifHwoYz1NYXRoLnJvdW5kKGMtdGhpcy53aW5kb3cuaGVpZ2h0KCkrYS5vdXRlckhlaWdodCgpKS02MCksY30sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBiPWEuX3ZpZXdwb3J0T2Zmc2V0KCk7Yj4yJiZhLl92aXNpYmxlJiZhLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VGbG9hdChhKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpO2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZS5jbG9uZSgpLGI9YS5lcSgwKSxjPWEuZXEoMSksZD1jLmNoaWxkcmVuKCk7cmV0dXJue2FyRWxzOmMuYWRkKGIpLGdkOmIsY3Q6YyxhcjpkfX12YXIgZD1hLm1vYmlsZS5icm93c2VyLm9sZElFJiZhLm1vYmlsZS5icm93c2VyLm9sZElFPD04LGU9YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3ctZ3VpZGUnPjwvZGl2PjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWNvbnRhaW5lciIrKGQ/IiBpZSI6IiIpKyInPjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93Jz48L2Rpdj48L2Rpdj4iKTthLndpZGdldCgibW9iaWxlLnBvcHVwIixhLm1vYmlsZS5wb3B1cCx7b3B0aW9uczp7YXJyb3c6IiJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuX3N1cGVyKCk7cmV0dXJuIHRoaXMub3B0aW9ucy5hcnJvdyYmKHRoaXMuX3VpLmFycm93PWE9dGhpcy5fYWRkQXJyb3coKSksYn0sX2FkZEFycm93OmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnMsZD1jKCk7CnJldHVybiBhPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYi50aGVtZSksZC5hci5hZGRDbGFzcyhhKyhiLnNoYWRvdz8iIHVpLW92ZXJsYXktc2hhZG93IjoiIikpLGQuYXJFbHMuaGlkZSgpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksZH0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmFycm93O3JldHVybiBhJiZhLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF90cnlBbkFycm93OmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGk9e30saj17fTtyZXR1cm4gZC5hckZ1bGxbYS5kaW1LZXldPmQuZ3VpZGVEaW1zW2EuZGltS2V5XT9lOihpW2EuZnN0XT1jW2EuZnN0XSsoZC5hckhhbGZbYS5vRGltS2V5XStkLm1lbnVIYWxmW2Eub0RpbUtleV0pKmEub2Zmc2V0RmFjdG9yLWQuY29udGVudEJveFthLmZzdF0rKGQuY2xhbXBJbmZvLm1lbnVTaXplW2Eub0RpbUtleV0tZC5jb250ZW50Qm94W2Eub0RpbUtleV0pKmEuYXJyb3dPZmZzZXRGYWN0b3IsaVthLnNuZF09Y1thLnNuZF0sZj1kLnJlc3VsdHx8dGhpcy5fY2FsY3VsYXRlRmluYWxMb2NhdGlvbihpLGQuY2xhbXBJbmZvKSxnPXt4OmYubGVmdCx5OmYudG9wfSxqW2EuZnN0XT1nW2EuZnN0XStkLmNvbnRlbnRCb3hbYS5mc3RdK2EudGlwT2Zmc2V0LGpbYS5zbmRdPU1hdGgubWF4KGZbYS5wcm9wXStkLmd1aWRlT2Zmc2V0W2EucHJvcF0rZC5hckhhbGZbYS5kaW1LZXldLE1hdGgubWluKGZbYS5wcm9wXStkLmd1aWRlT2Zmc2V0W2EucHJvcF0rZC5ndWlkZURpbXNbYS5kaW1LZXldLWQuYXJIYWxmW2EuZGltS2V5XSxjW2Euc25kXSkpLGg9TWF0aC5hYnMoYy54LWoueCkrTWF0aC5hYnMoYy55LWoueSksKCFlfHxoPGUuZGlmZikmJihqW2Euc25kXS09ZC5hckhhbGZbYS5kaW1LZXldK2ZbYS5wcm9wXStkLmNvbnRlbnRCb3hbYS5zbmRdLGU9e2RpcjpiLGRpZmY6aCxyZXN1bHQ6Zixwb3NQcm9wOmEucHJvcCxwb3NWYWw6althLnNuZF19KSxlKX0sX2dldFBsYWNlbWVudFN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLl91aS5hcnJvdyxlPXtjbGFtcEluZm86dGhpcy5fY2xhbXBQb3B1cFdpZHRoKCFhKSxhckZ1bGw6e2N4OmQuY3Qud2lkdGgoKSxjeTpkLmN0LmhlaWdodCgpfSxndWlkZURpbXM6e2N4OmQuZ2Qud2lkdGgoKSxjeTpkLmdkLmhlaWdodCgpfSxndWlkZU9mZnNldDpkLmdkLm9mZnNldCgpfTtyZXR1cm4gYj10aGlzLmVsZW1lbnQub2Zmc2V0KCksZC5nZC5jc3Moe2xlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowfSksYz1kLmdkLm9mZnNldCgpLGUuY29udGVudEJveD17eDpjLmxlZnQtYi5sZWZ0LHk6Yy50b3AtYi50b3AsY3g6ZC5nZC53aWR0aCgpLGN5OmQuZ2QuaGVpZ2h0KCl9LGQuZ2QucmVtb3ZlQXR0cigic3R5bGUiKSxlLmd1aWRlT2Zmc2V0PXtsZWZ0OmUuZ3VpZGVPZmZzZXQubGVmdC1iLmxlZnQsdG9wOmUuZ3VpZGVPZmZzZXQudG9wLWIudG9wfSxlLmFySGFsZj17Y3g6ZS5hckZ1bGwuY3gvMixjeTplLmFyRnVsbC5jeS8yfSxlLm1lbnVIYWxmPXtjeDplLmNsYW1wSW5mby5tZW51U2l6ZS5jeC8yLGN5OmUuY2xhbXBJbmZvLm1lbnVTaXplLmN5LzJ9LGV9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYil7dmFyIGMsZSxmLGcsaCxpPXRoaXMub3B0aW9ucy5hcnJvdyxqPXRoaXMuX3VpLmFycm93O3JldHVybiBqPyhqLmFyRWxzLnNob3coKSxoPXt9LGM9dGhpcy5fZ2V0UGxhY2VtZW50U3RhdGUoITApLGY9e2w6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6MSx0aXBPZmZzZXQ6LWMuYXJIYWxmLmN4LGFycm93T2Zmc2V0RmFjdG9yOjB9LHI6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN4K2MuY29udGVudEJveC5jeCxhcnJvd09mZnNldEZhY3RvcjoxfSxiOntmc3Q6InkiLHNuZDoieCIscHJvcDoibGVmdCIsZGltS2V5OiJjeCIsb0RpbUtleToiY3kiLG9mZnNldEZhY3RvcjotMSx0aXBPZmZzZXQ6Yy5hckhhbGYuY3krYy5jb250ZW50Qm94LmN5LGFycm93T2Zmc2V0RmFjdG9yOjF9LHQ6e2ZzdDoieSIsc25kOiJ4Iixwcm9wOiJsZWZ0IixkaW1LZXk6ImN4IixvRGltS2V5OiJjeSIsb2Zmc2V0RmFjdG9yOjEsdGlwT2Zmc2V0Oi1jLmFySGFsZi5jeSxhcnJvd09mZnNldEZhY3RvcjowfX0sYS5lYWNoKChpPT09ITA/ImwsdCxyLGIiOmkpLnNwbGl0KCIsIiksYS5wcm94eShmdW5jdGlvbihhLGQpe2U9dGhpcy5fdHJ5QW5BcnJvdyhmW2RdLGQsYixjLGUpfSx0aGlzKSksZT8oai5jdC5yZW1vdmVDbGFzcygidWktcG9wdXAtYXJyb3ctbCB1aS1wb3B1cC1hcnJvdy10IHVpLXBvcHVwLWFycm93LXIgdWktcG9wdXAtYXJyb3ctYiIpLmFkZENsYXNzKCJ1aS1wb3B1cC1hcnJvdy0iK2UuZGlyKS5yZW1vdmVBdHRyKCJzdHlsZSIpLmNzcyhlLnBvc1Byb3AsZS5wb3NWYWwpLnNob3coKSxkfHwoZz10aGlzLmVsZW1lbnQub2Zmc2V0KCksaFtmW2UuZGlyXS5mc3RdPWouY3Qub2Zmc2V0KCksaFtmW2UuZGlyXS5zbmRdPXtsZWZ0OmcubGVmdCtjLmNvbnRlbnRCb3gueCx0b3A6Zy50b3ArYy5jb250ZW50Qm94Lnl9KSxlLnJlc3VsdCk6KGouYXJFbHMuaGlkZSgpLHRoaXMuX3N1cGVyKGIpKSk6dGhpcy5fc3VwZXIoYil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5vcHRpb25zLnRoZW1lLGU9dGhpcy5fdWkuYXJyb3csZj10aGlzLl9zdXBlcihhKTtpZihhLmFycm93IT09Yil7aWYoIWUmJmEuYXJyb3cpcmV0dXJuIHZvaWQodGhpcy5fdWkuYXJyb3c9dGhpcy5fYWRkQXJyb3coKSk7ZSYmIWEuYXJyb3cmJihlLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3VpLmFycm93PW51bGwpfXJldHVybiBlPXRoaXMuX3VpLmFycm93LGUmJihhLnRoZW1lIT09YiYmKGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixkKSxjPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYS50aGVtZSksZS5hci5yZW1vdmVDbGFzcyhkKS5hZGRDbGFzcyhjKSksYS5zaGFkb3chPT1iJiZlLmFyLnRvZ2dsZUNsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIsYS5zaGFkb3cpKSxmfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmFycm93O3JldHVybiBhJiZhLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5wYW5lbCIse29wdGlvbnM6e2NsYXNzZXM6e3BhbmVsOiJ1aS1wYW5lbCIscGFuZWxPcGVuOiJ1aS1wYW5lbC1vcGVuIixwYW5lbENsb3NlZDoidWktcGFuZWwtY2xvc2VkIixwYW5lbEZpeGVkOiJ1aS1wYW5lbC1maXhlZCIscGFuZWxJbm5lcjoidWktcGFuZWwtaW5uZXIiLG1vZGFsOiJ1aS1wYW5lbC1kaXNtaXNzIixtb2RhbE9wZW46InVpLXBhbmVsLWRpc21pc3Mtb3BlbiIscGFnZUNvbnRhaW5lcjoidWktcGFuZWwtcGFnZS1jb250YWluZXIiLHBhZ2VXcmFwcGVyOiJ1aS1wYW5lbC13cmFwcGVyIixwYWdlRml4ZWRUb29sYmFyOiJ1aS1wYW5lbC1maXhlZC10b29sYmFyIixwYWdlQ29udGVudFByZWZpeDoidWktcGFuZWwtcGFnZS1jb250ZW50IixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZTpudWxsLHBvc2l0aW9uOiJsZWZ0IixkaXNtaXNzaWJsZTohMCxkaXNwbGF5OiJyZXZlYWwiLHN3aXBlQ2xvc2U6ITAscG9zaXRpb25GaXhlZDohMX0sX2Nsb3NlTGluazpudWxsLF9wYXJlbnRQYWdlOm51bGwsX3BhZ2U6bnVsbCxfbW9kYWw6bnVsbCxfcGFuZWxJbm5lcjpudWxsLF93cmFwcGVyOm51bGwsX2ZpeGVkVG9vbGJhcnM6bnVsbCxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KCIudWktcGFnZSwgOmpxbURhdGEocm9sZT0ncGFnZScpIik7YS5leHRlbmQodGhpcyx7X2Nsb3NlTGluazpiLmZpbmQoIjpqcW1EYXRhKHJlbD0nY2xvc2UnKSIpLF9wYXJlbnRQYWdlOmMubGVuZ3RoPjA/YzohMSxfb3BlbmVkUGFnZTpudWxsLF9wYWdlOnRoaXMuX2dldFBhZ2UsX3BhbmVsSW5uZXI6dGhpcy5fZ2V0UGFuZWxJbm5lcigpLF9maXhlZFRvb2xiYXJzOnRoaXMuX2dldEZpeGVkVG9vbGJhcnN9KSwib3ZlcmxheSIhPT10aGlzLm9wdGlvbnMuZGlzcGxheSYmdGhpcy5fZ2V0V3JhcHBlcigpLHRoaXMuX2FkZFBhbmVsQ2xhc3NlcygpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdGhpcy5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9iaW5kVXBkYXRlTGF5b3V0KCksdGhpcy5fYmluZENsb3NlRXZlbnRzKCksdGhpcy5fYmluZExpbmtMaXN0ZW5lcnMoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5fY3JlYXRlTW9kYWwoKSx0aGlzLl9iaW5kU3dpcGVFdmVudHMoKX0sX2dldFBhbmVsSW5uZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZCgiLiIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcik7cmV0dXJuIDA9PT1hLmxlbmd0aCYmKGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkud3JhcEFsbCgiPGRpdiBjbGFzcz0nIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKyInIC8+IikucGFyZW50KCkpLGF9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLl9wYXJlbnRQYWdlP2IuX3BhcmVudFBhZ2UucGFyZW50KCk6Yi5lbGVtZW50LnBhcmVudCgpO2IuX21vZGFsPWEoIjxkaXYgY2xhc3M9JyIrYi5vcHRpb25zLmNsYXNzZXMubW9kYWwrIic+PC9kaXY+Iikub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyhjKX0sX2dldFBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9vcGVuZWRQYWdlfHx0aGlzLl9wYXJlbnRQYWdlfHxhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO3JldHVybiBifSxfZ2V0V3JhcHBlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3BhZ2UoKS5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlV3JhcHBlcik7MD09PWEubGVuZ3RoJiYoYT10aGlzLl9wYWdlKCkuY2hpbGRyZW4oIi51aS1oZWFkZXI6bm90KC51aS1oZWFkZXItZml4ZWQpLCAudWktY29udGVudDpub3QoLnVpLXBvcHVwKSwgLnVpLWZvb3Rlcjpub3QoLnVpLWZvb3Rlci1maXhlZCkiKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSciK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VXcmFwcGVyKyInPjwvZGl2PiIpLnBhcmVudCgpKSx0aGlzLl93cmFwcGVyPWF9LF9nZXRGaXhlZFRvb2xiYXJzOmZ1bmN0aW9uKCl7dmFyIGI9YSgiYm9keSIpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIiksYz10aGlzLl9wYWdlKCkuZmluZCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLGQ9Yi5hZGQoYykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZUZpeGVkVG9vbGJhcik7cmV0dXJuIGR9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQrIiB1aS1ib2R5LSIrKHRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiKTtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksYX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9oYW5kbGVDbG9zZUNsaWNrOmZ1bmN0aW9uKGEpe2EuaXNEZWZhdWx0UHJldmVudGVkKCl8fHRoaXMuY2xvc2UoKX0sX2JpbmRDbG9zZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2Nsb3NlTGluayx7Y2xpY2s6Il9oYW5kbGVDbG9zZUNsaWNrIn0pLHRoaXMuX29uKHsiY2xpY2sgYTpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiOiJfaGFuZGxlQ2xvc2VDbGljayJ9KX0sX3Bvc2l0aW9uUGFuZWw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWMuX3BhbmVsSW5uZXIub3V0ZXJIZWlnaHQoKSxlPWQ+YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7ZXx8IWMub3B0aW9ucy5wb3NpdGlvbkZpeGVkPyhlJiYoYy5fdW5maXhQYW5lbCgpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodChkKSksYiYmdGhpcy53aW5kb3dbMF0uc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkpOmMuX2ZpeFBhbmVsKCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50Lm9uKCJ1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5fcG9zaXRpb25QYW5lbCgpfSl9LF9iaW5kTGlua0xpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuX29uKCJib2R5Iix7ImNsaWNrIGEiOiJfaGFuZGxlQ2xpY2sifSl9LF9oYW5kbGVDbGljazpmdW5jdGlvbihiKXt2YXIgZCxlPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpO2IuY3VycmVudFRhcmdldC5ocmVmLnNwbGl0KCIjIilbMV09PT1lJiZlIT09YyYmKGIucHJldmVudERlZmF1bHQoKSxkPWEoYi50YXJnZXQpLGQuaGFzQ2xhc3MoInVpLWJ0biIpJiYoZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdGhpcy5lbGVtZW50Lm9uZSgicGFuZWxvcGVuIHBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSksdGhpcy50b2dnbGUoKSl9LF9iaW5kU3dpcGVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5fbW9kYWw/YS5lbGVtZW50LmFkZChhLl9tb2RhbCk6YS5lbGVtZW50O2Eub3B0aW9ucy5zd2lwZUNsb3NlJiYoImxlZnQiPT09YS5vcHRpb25zLnBvc2l0aW9uP2Iub24oInN3aXBlbGVmdC5wYW5lbCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KTpiLm9uKCJzd2lwZXJpZ2h0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmRvY3VtZW50Lm9uKCJwYW5lbGJlZm9yZW9wZW4iLGZ1bmN0aW9uKGIpe2EuX29wZW4mJmIudGFyZ2V0IT09YS5lbGVtZW50WzBdJiZhLmNsb3NlKCl9KS5vbigia2V5dXAucGFuZWwiLGZ1bmN0aW9uKGIpezI3PT09Yi5rZXlDb2RlJiZhLl9vcGVuJiZhLmNsb3NlKCl9KSx0aGlzLl9wYXJlbnRQYWdlfHwib3ZlcmxheSI9PT10aGlzLm9wdGlvbnMuZGlzcGxheXx8dGhpcy5fb24odGhpcy5kb2N1bWVudCx7cGFnZXNob3c6Il9nZXRXcmFwcGVyIn0pLGEuX3BhcmVudFBhZ2U/dGhpcy5kb2N1bWVudC5vbigicGFnZWhpZGUiLCI6anFtRGF0YShyb2xlPSdwYWdlJykiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KTp0aGlzLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pfSxfb3BlbjohMSxfcGFnZUNvbnRlbnRPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5fb2ZmKGMuZG9jdW1lbnQsInBhbmVsY2xvc2UiKSxjLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiLCJvcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIuYWRkQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZT8oYy5fd3JhcHBlcnx8Yy5lbGVtZW50KS5hbmltYXRpb25Db21wbGV0ZShmLCJ0cmFuc2l0aW9uIik6c2V0VGltZW91dChmLDApLGQudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoITApLGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KSwib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIuYWRkQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSxjLl9tb2RhbE9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5tb2RhbCkrIiAiK2QuY2xhc3Nlcy5tb2RhbE9wZW4sYy5fbW9kYWwmJmMuX21vZGFsLmFkZENsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpLmhlaWdodChNYXRoLm1heChjLl9tb2RhbC5oZWlnaHQoKSxjLmRvY3VtZW50LmhlaWdodCgpKSl9LGY9ZnVuY3Rpb24oKXtjLl9vcGVuJiYoIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcigib3BlbiIpLGMuX29wZW5lZFBhZ2U9Yy5fcGFnZSgpKX07Yy5fdHJpZ2dlcigiYmVmb3Jlb3BlbiIpLCJvcGVuIj09PWMuX3BhZ2UoKS5qcW1EYXRhKCJwYW5lbCIpP2MuX29uKGMuZG9jdW1lbnQse3BhbmVsY2xvc2U6ZX0pOmUoKSxjLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24oYil7aWYodGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSwhYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/KGMuX3dyYXBwZXJ8fGMuZWxlbWVudCkuYW5pbWF0aW9uQ29tcGxldGUoZiwidHJhbnNpdGlvbiIpOnNldFRpbWVvdXQoZiwwKSxjLl9tb2RhbCYmYy5fbW9kYWwucmVtb3ZlQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3NlcykuaGVpZ2h0KCIiKX0sZj1mdW5jdGlvbigpe2QudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLGMuX2ZpeFBhbmVsKCksYy5fdW5iaW5kRml4TGlzdGVuZXIoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSxjLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSxjLl90cmlnZ2VyKCJjbG9zZSIpLGMuX29wZW5lZFBhZ2U9bnVsbH07Yy5fdHJpZ2dlcigiYmVmb3JlY2xvc2UiKSxlKCksYy5fb3Blbj0hMX19LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fb3Blbj8iY2xvc2UiOiJvcGVuIl0oKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMub3B0aW9ucyxkPWEoImJvZHkgPiA6bW9iaWxlLXBhbmVsIikubGVuZ3RoK2EubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZCgiOm1vYmlsZS1wYW5lbCIpLmxlbmd0aD4xOyJvdmVybGF5IiE9PWMuZGlzcGxheSYmKGI9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5hZGQoYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikpLDA9PT1iLm5vdCgiLnVpLXBhbmVsLWRpc3BsYXktb3ZlcmxheSIpLm5vdCh0aGlzLmVsZW1lbnQpLmxlbmd0aCYmdGhpcy5fd3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuX29wZW4mJih0aGlzLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYy5hbmltYXRlJiZ0aGlzLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLmFuaW1hdGUpLHRoaXMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy50aGVtZSYmdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2MudGhlbWUpKSksZHx8dGhpcy5kb2N1bWVudC5vZmYoInBhbmVsb3BlbiBwYW5lbGNsb3NlIiksdGhpcy5fb3BlbiYmdGhpcy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYy5jbGFzc2VzLnBhbmVsT3BlbixjLmNsYXNzZXMuYW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRhYmxlIix7b3B0aW9uczp7Y2xhc3Nlczp7dGFibGU6InVpLXRhYmxlIn0sZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksYS5leHRlbmQodGhpcyx7aGVhZGVyczpiLGFsbEhlYWRlcnM6Yn0pLHRoaXMuX3JlZnJlc2goITApfSxfc2V0SGVhZGVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCgidHI6ZXEoMCkiKS5jaGlsZHJlbigpLHRoaXMuYWxsSGVhZGVycz10aGlzLmhlYWRlcnMuYWRkKGEuY2hpbGRyZW4oKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCl9LHJlYnVpbGQ6YS5ub29wLF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuX3NldEhlYWRlcnMoKSxjLmVhY2goZnVuY3Rpb24oKXt2YXIgZD0wO2EodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsZj1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxnPSI6bnRoLWNoaWxkKCIrKGQrMSkrIikiO2lmKHRoaXMuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrImNvbHN0YXJ0IixkKzEpLGYpZm9yKGU9MDtmLTE+ZTtlKyspZCsrLGcrPSIsIDpudGgtY2hpbGQoIisoZCsxKSsiKSI7YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsYi5maW5kKCJ0ciIpLm5vdChjLmVxKDApKS5ub3QodGhpcykuY2hpbGRyZW4oZykpLGQrK30pfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLGEubW9iaWxlLnRhYmxlLHtvcHRpb25zOnttb2RlOiJjb2x1bW50b2dnbGUiLGNvbHVtbkJ0blRoZW1lOm51bGwsY29sdW1uUG9wdXBUaGVtZTpudWxsLGNvbHVtbkJ0blRleHQ6IkNvbHVtbnMuLi4iLGNsYXNzZXM6YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cG9wdXA6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cCIsY29sdW1uQnRuOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtYnRuIixwcmlvcml0eVByZWZpeDoidWktdGFibGUtcHJpb3JpdHktIixjb2x1bW5Ub2dnbGVUYWJsZToidWktdGFibGUtY29sdW1udG9nZ2xlIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwiY29sdW1udG9nZ2xlIj09PXRoaXMub3B0aW9ucy5tb2RlJiYoYS5leHRlbmQodGhpcyx7X21lbnU6bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8odGhpcy5fbWVudT1hKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQodGhpcy5faWQoKSsiLXBvcHVwIikpLmNoaWxkcmVuKCkuZmlyc3QoKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsITApKToodGhpcy5fbWVudT10aGlzLl9lbmhhbmNlQ29sVG9nZ2xlKCksdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSksdGhpcy5fc2V0dXBFdmVudHMoKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJpZCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJfc2V0VG9nZ2xlU3RhdGUifSksdGhpcy5fb24odGhpcy5fbWVudSx7ImNoYW5nZSBpbnB1dCI6Il9tZW51SW5wdXRDaGFuZ2UifSl9LF9hZGRUb2dnbGVzOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT0wLGY9dGhpcy5vcHRpb25zLGc9Yi5jb250cm9sZ3JvdXAoImNvbnRhaW5lciIpO2M/ZD1iLmZpbmQoImlucHV0Iik6Zy5lbXB0eSgpLHRoaXMuaGVhZGVycy5ub3QoInRkIikuZWFjaChmdW5jdGlvbigpe3ZhciBiLGgsaT1hKHRoaXMpLGo9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsInByaW9yaXR5Iik7aiYmKGg9aS5hZGQoaS5qcW1EYXRhKCJjZWxscyIpKSxoLmFkZENsYXNzKGYuY2xhc3Nlcy5wcmlvcml0eVByZWZpeCtqKSxiPShjP2QuZXEoZSsrKTphKCI8bGFiZWw+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBjaGVja2VkIC8+IisoaS5jaGlsZHJlbigiYWJiciIpLmZpcnN0KCkuYXR0cigidGl0bGUiKXx8aS50ZXh0KCkpKyI8L2xhYmVsPiIpLmFwcGVuZFRvKGcpLmNoaWxkcmVuKDApLmNoZWNrYm94cmFkaW8oe3RoZW1lOmYuY29sdW1uUG9wdXBUaGVtZX0pKS5qcW1EYXRhKCJoZWFkZXIiLGkpLmpxbURhdGEoImNlbGxzIixoKSxpLmpxbURhdGEoImlucHV0IixiKSl9KSxjfHxiLmNvbnRyb2xncm91cCgicmVmcmVzaCIpfSxfbWVudUlucHV0Q2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Y1swXS5jaGVja2VkO2MuanFtRGF0YSgiY2VsbHMiKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iLCFkKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIixkKX0sX3VubG9ja0NlbGxzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpfSxfZW5oYW5jZUNvbFRvZ2dsZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9YS5tb2JpbGUubnMsaT10aGlzLmRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gYj10aGlzLl9pZCgpKyItcG9wdXAiLGM9YSgiPGEgaHJlZj0nIyIrYisiJyBjbGFzcz0nIitnLmNsYXNzZXMuY29sdW1uQnRuKyIgdWktYnRuIHVpLWJ0bi0iKyhnLmNvbHVtbkJ0blRoZW1lfHwiYSIpKyIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgZGF0YS0iK2grInJlbD0ncG9wdXAnPiIrZy5jb2x1bW5CdG5UZXh0KyI8L2E+IiksZD1hKCI8ZGl2IGNsYXNzPSciK2cuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitiKyInPjwvZGl2PiIpLGU9YSgiPGZpZWxkc2V0PjwvZmllbGRzZXQ+IikuY29udHJvbGdyb3VwKCksdGhpcy5fYWRkVG9nZ2xlcyhlLCExKSxlLmFwcGVuZFRvKGQpLGkuYXBwZW5kQ2hpbGQoZFswXSksaS5hcHBlbmRDaGlsZChjWzBdKSxmLmJlZm9yZShpKSxkLnBvcHVwKCksZX0scmVidWlsZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImNvbHVtbnRvZ2dsZSI9PT10aGlzLm9wdGlvbnMubW9kZSYmdGhpcy5fcmVmcmVzaCghMSl9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtpZih0aGlzLl9zdXBlcihiKSwhYiYmImNvbHVtbnRvZ2dsZSI9PT10aGlzLm9wdGlvbnMubW9kZSlmb3IoYz10aGlzLmhlYWRlcnMsZD1bXSx0aGlzLl9tZW51LmZpbmQoImlucHV0IikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZT1iLmpxbURhdGEoImhlYWRlciIpLGY9Yy5pbmRleChlWzBdKTtmPi0xJiYhYi5wcm9wKCJjaGVja2VkIikmJmQucHVzaChmKX0pLHRoaXMuX3VubG9ja0NlbGxzKHRoaXMuZWxlbWVudC5maW5kKCIudWktdGFibGUtY2VsbC1oaWRkZW4sIC51aS10YWJsZS1jZWxsLXZpc2libGUiKSksdGhpcy5fYWRkVG9nZ2xlcyh0aGlzLl9tZW51LGIpLGU9ZC5sZW5ndGgtMTtlPi0xO2UtLSljLmVxKGRbZV0pLmpxbURhdGEoImlucHV0IikucHJvcCgiY2hlY2tlZCIsITEpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKS50cmlnZ2VyKCJjaGFuZ2UiKX0sX3NldFRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWVudS5maW5kKCJpbnB1dCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO3RoaXMuY2hlY2tlZD0idGFibGUtY2VsbCI9PT1iLmpxbURhdGEoImNlbGxzIikuZXEoMCkuY3NzKCJkaXNwbGF5IiksYi5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRhYmxlIixhLm1vYmlsZS50YWJsZSx7b3B0aW9uczp7bW9kZToicmVmbG93IixjbGFzc2VzOmEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3JlZmxvd1RhYmxlOiJ1aS10YWJsZS1yZWZsb3ciLGNlbGxMYWJlbHM6InVpLXRhYmxlLWNlbGwtbGFiZWwifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucmVmbG93VGFibGUpLHRoaXMuX3VwZGF0ZVJlZmxvdygpKSl9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwicmVmbG93IiE9PXRoaXMub3B0aW9ucy5tb2RlfHx0aGlzLl91cGRhdGVSZWZsb3coKX0sX3VwZGF0ZVJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnM7YShiLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZSxmPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxnPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJjb2xzdGFydCIpLGg9Zi5ub3QodGhpcykuZmlsdGVyKCJ0aGVhZCB0aCIpLmxlbmd0aCYmIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcCIsaT1hKHRoaXMpLmNsb25lKCkuY29udGVudHMoKTtpLmxlbmd0aD4wJiYoaD8oZD1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxlPSIiLGQmJihlPSJ0ZDpudGgtY2hpbGQoIitkKyJuICsgIitnKyIpIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGIsYyxkKXsxPT09ZC5sZW5ndGgmJiJhYmJyIj09PWRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGQ9ZC5lcSgwKS5hdHRyKCJ0aXRsZSIpKSxiLm5vdCgiOmhhcyhiLiIrYysiKSIpLnByZXBlbmQoYSgiPGIgY2xhc3M9JyIrYysiJz48L2I+IikuYXBwZW5kKGQpKX19KX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KCIiKyhhLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiZmlsdGVydGV4dCIpfHxhKHRoaXMpLnRleHQoKSkpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKX07YS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIix7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShmaWx0ZXI9J3RydWUnKSIsb3B0aW9uczp7ZmlsdGVyUmV2ZWFsOiExLGZpbHRlckNhbGxiYWNrOmQsZW5oYW5jZWQ6ITEsaW5wdXQ6bnVsbCxjaGlsZHJlbjoiPiBsaSwgPiBvcHRpb24sID4gb3B0Z3JvdXAgb3B0aW9uLCA+IHRib2R5IHRyLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktYnRuLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktY2hlY2tib3gsID4gLnVpLWNvbnRyb2xncm91cC1jb250cm9scyA+IC51aS1yYWRpbyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X3NlYXJjaDpudWxsLF90aW1lcjowfSksdGhpcy5fc2V0SW5wdXQoYi5pbnB1dCksYi5lbmhhbmNlZHx8dGhpcy5fZmlsdGVySXRlbXMoKHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLnZhbCgpfHwiIikudG9Mb3dlckNhc2UoKSl9LF9vbktleVVwOmZ1bmN0aW9uKCl7dmFyIGMsZCxlPXRoaXMuX3NlYXJjaDtpZihlKXtpZihjPWUudmFsKCkudG9Mb3dlckNhc2UoKSxkPWEubW9iaWxlLmdldEF0dHJpYnV0ZShlWzBdLCJsYXN0dmFsIikrIiIsZCYmZD09PWMpcmV0dXJuO3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX3RpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsbnVsbCx7aW5wdXQ6ZX0pPT09ITE/ITE6KGVbMF0uc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrImxhc3R2YWwiLGMpLHRoaXMuX2ZpbHRlckl0ZW1zKGMpLHZvaWQodGhpcy5fdGltZXI9MCkpfSwyNTApfX0sX2dldEZpbHRlcmFibGVJdGVtczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jaGlsZHJlbixkPWM/YS5pc0Z1bmN0aW9uKGMpP2MoKTpjLm5vZGVOYW1lP2EoYyk6Yy5qcXVlcnk/Yzp0aGlzLmVsZW1lbnQuZmluZChjKTp7bGVuZ3RoOjB9O3JldHVybiAwPT09ZC5sZW5ndGgmJihkPWIuY2hpbGRyZW4oKSksZH0sX2ZpbHRlckl0ZW1zOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGg9W10saT1bXSxqPXRoaXMub3B0aW9ucyxrPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2lmKG51bGwhPWIpZm9yKGU9ai5maWx0ZXJDYWxsYmFja3x8ZCxmPWsubGVuZ3RoLGM9MDtmPmM7YysrKWc9ZS5jYWxsKGtbY10sYyxiKT9pOmgsZy5wdXNoKGtbY10pOzA9PT1pLmxlbmd0aD9rW2ouZmlsdGVyUmV2ZWFsJiYwPT09Yi5sZW5ndGg/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidWktc2NyZWVuLWhpZGRlbiIpOihhKGkpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksYShoKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpKSx0aGlzLl9yZWZyZXNoQ2hpbGRXaWRnZXQoKSx0aGlzLl90cmlnZ2VyKCJmaWx0ZXIiLG51bGwse2l0ZW1zOmt9KX0sX3JlZnJlc2hDaGlsZFdpZGdldDpmdW5jdGlvbigpe3ZhciBiLGMsZD1bImNvbGxhcHNpYmxlc2V0Iiwic2VsZWN0bWVudSIsImNvbnRyb2xncm91cCIsImxpc3R2aWV3Il07Zm9yKGM9ZC5sZW5ndGgtMTtjPi0xO2MtLSliPWRbY10sYS5tb2JpbGVbYl0mJihiPXRoaXMuZWxlbWVudC5kYXRhKCJtb2JpbGUtIitiKSxiJiZhLmlzRnVuY3Rpb24oYi5yZWZyZXNoKSYmYi5yZWZyZXNoKCkpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fc2VhcmNoO3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLGQmJih0aGlzLl9vZmYoZCwia2V5dXAgY2hhbmdlIGlucHV0IiksZD1udWxsKSxjJiYoZD1jLmpxdWVyeT9jOmMubm9kZU5hbWU/YShjKTp0aGlzLmRvY3VtZW50LmZpbmQoYyksdGhpcy5fb24oZCx7a2V5ZG93bjoiX29uS2V5RG93biIsa2V5cHJlc3M6Il9vbktleVByZXNzIixrZXl1cDoiX29uS2V5VXAiLGNoYW5nZToiX29uS2V5VXAiLGlucHV0OiJfb25LZXlVcCJ9KSksdGhpcy5fc2VhcmNoPWR9LF9vbktleURvd246ZnVuY3Rpb24oYil7Yi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLkVOVEVSJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3ByZXZlbnRLZXlQcmVzcz0hMCl9LF9vbktleVByZXNzOmZ1bmN0aW9uKGEpe3RoaXMuX3ByZXZlbnRLZXlQcmVzcyYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLl9wcmV2ZW50S2V5UHJlc3M9ITEpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj0hKGEuZmlsdGVyUmV2ZWFsPT09YyYmYS5maWx0ZXJDYWxsYmFjaz09PWMmJmEuY2hpbGRyZW49PT1jKTt0aGlzLl9zdXBlcihhKSxhLmlucHV0IT09YyYmKHRoaXMuX3NldElucHV0KGEuaW5wdXQpLGI9ITApLGImJnRoaXMucmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2EuZW5oYW5jZWQ/Yi50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsYS5maWx0ZXJSZXZlYWwpOmIucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8IiIpLnRvTG93ZXJDYXNlKCkpfX0pfShhKSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2IuY2FsbCh0aGlzLGMpLGEuX3N5bmNUZXh0SW5wdXRPcHRpb25zKGMpfX0sZD0vKF58XHMpdWktbGktZGl2aWRlcihcc3wkKS8sZT1hLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrO2EubW9iaWxlLmZpbHRlcmFibGUucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5jbGFzc05hbWUubWF0Y2goZCkmJmUuY2FsbCh0aGlzLGEsYil9LGEud2lkZ2V0KCJtb2JpbGUuZmlsdGVyYWJsZSIsYS5tb2JpbGUuZmlsdGVyYWJsZSx7b3B0aW9uczp7ZmlsdGVyUGxhY2Vob2xkZXI6IkZpbHRlciBpdGVtcy4uLiIsZmlsdGVyVGhlbWU6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQsZT1bImNvbGxhcHNpYmxlc2V0Iiwic2VsZWN0bWVudSIsImNvbnRyb2xncm91cCIsImxpc3R2aWV3Il0sZj17fTtmb3IodGhpcy5fc3VwZXIoKSxhLmV4dGVuZCh0aGlzLHtfd2lkZ2V0Om51bGx9KSxiPWUubGVuZ3RoLTE7Yj4tMTtiLS0paWYoYz1lW2JdLGEubW9iaWxlW2NdKXtpZih0aGlzLl9zZXRXaWRnZXQoZC5kYXRhKCJtb2JpbGUtIitjKSkpYnJlYWs7ZltjKyJjcmVhdGUiXT0iX2hhbmRsZUNyZWF0ZSJ9dGhpcy5fd2lkZ2V0fHx0aGlzLl9vbihkLGYpfSxfaGFuZGxlQ3JlYXRlOmZ1bmN0aW9uKGEpe3RoaXMuX3NldFdpZGdldCh0aGlzLmVsZW1lbnQuZGF0YSgibW9iaWxlLSIrYS50eXBlLnN1YnN0cmluZygwLGEudHlwZS5sZW5ndGgtNikpKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl93aWRnZXQmJiJtb2JpbGUtbGlzdHZpZXciPT09dGhpcy5fd2lkZ2V0LndpZGdldEZ1bGxOYW1lJiYiYmVmb3JlZmlsdGVyIj09PWEmJnRoaXMuX3dpZGdldC5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIixiLGMpLHRoaXMuX3N1cGVyKGEsYixjKX0sX3NldFdpZGdldDpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5fd2lkZ2V0JiZhJiYodGhpcy5fd2lkZ2V0PWEsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zPWModGhpcyx0aGlzLl93aWRnZXQuX3NldE9wdGlvbnMpKSx0aGlzLl93aWRnZXQmJih0aGlzLl9zeW5jVGV4dElucHV0T3B0aW9ucyh0aGlzLl93aWRnZXQub3B0aW9ucyksImxpc3R2aWV3Ij09PXRoaXMuX3dpZGdldC53aWRnZXROYW1lJiYodGhpcy5fd2lkZ2V0Lm9wdGlvbnMuaGlkZURpdmlkZXJzPSEwLHRoaXMuX3dpZGdldC5lbGVtZW50Lmxpc3R2aWV3KCJyZWZyZXNoIikpKSwhIXRoaXMuX3dpZGdldH0sX2lzU2VhcmNoSW50ZXJuYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2guanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIil9LF9zZXRJbnB1dDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLm9wdGlvbnMsZD0hMCxlPXt9O2lmKCFiKXtpZih0aGlzLl9pc1NlYXJjaEludGVybmFsKCkpcmV0dXJuO2Q9ITEsYj1hKCI8aW5wdXQgZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlPSdzZWFyY2gnIHBsYWNlaG9sZGVyPSciK2MuZmlsdGVyUGxhY2Vob2xkZXIrIic+PC9pbnB1dD4iKS5qcW1EYXRhKCJ1aS1maWx0ZXJhYmxlLSIrdGhpcy51dWlkKyItaW50ZXJuYWwiLCEwKSxhKCI8Zm9ybSBjbGFzcz0ndWktZmlsdGVyYWJsZSc+PC9mb3JtPiIpLmFwcGVuZChiKS5zdWJtaXQoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGIuYmx1cigpfSkuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCksYS5tb2JpbGUudGV4dGlucHV0JiYobnVsbCE9dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lJiYoZS50aGVtZT1jLmZpbHRlclRoZW1lKSxiLnRleHRpbnB1dChlKSl9dGhpcy5fc3VwZXIoYiksdGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZkJiZ0aGlzLl9zZWFyY2guYXR0cigicGxhY2Vob2xkZXIiLHRoaXMub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuX3N1cGVyKGMpO3JldHVybiBjLmZpbHRlclBsYWNlaG9sZGVyIT09YiYmdGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZ0aGlzLl9zZWFyY2guYXR0cigicGxhY2Vob2xkZXIiLGMuZmlsdGVyUGxhY2Vob2xkZXIpLGMuZmlsdGVyVGhlbWUhPT1iJiZ0aGlzLl9zZWFyY2gmJmEubW9iaWxlLnRleHRpbnB1dCYmdGhpcy5fc2VhcmNoLnRleHRpbnB1dCgib3B0aW9uIiwidGhlbWUiLGMuZmlsdGVyVGhlbWUpLGR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZ0aGlzLl9zZWFyY2gucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX0sX3N5bmNUZXh0SW5wdXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkLGU9e307aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZhLm1vYmlsZS50ZXh0aW5wdXQpe2ZvcihkIGluIGEubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUub3B0aW9ucyljW2RdIT09YiYmKGVbZF09InRoZW1lIj09PWQmJm51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZT90aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU6Y1tkXSk7dGhpcy5fc2VhcmNoLnRleHRpbnB1dCgib3B0aW9uIixlKX19fSksYS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2ZpbHRlcjohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyIT09ITB8fHRoaXMuZWxlbWVudC5kYXRhKCJtb2JpbGUtZmlsdGVyYWJsZSIpfHx0aGlzLmVsZW1lbnQuZmlsdGVyYWJsZSgpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybisrZX1mdW5jdGlvbiBkKGEpe3JldHVybiBhPWEuY2xvbmVOb2RlKCExKSxhLmhhc2gubGVuZ3RoPjEmJmRlY29kZVVSSUNvbXBvbmVudChhLmhyZWYucmVwbGFjZShmLCIiKSk9PT1kZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZi5yZXBsYWNlKGYsIiIpKX12YXIgZT0wLGY9LyMuKiQvO2Eud2lkZ2V0KCJ1aS50YWJzIix7dmVyc2lvbjoiYzBhYjcxMDU2YjkzNjYyN2U4YTc4MjFmMDNjMDQ0YWVjNjI4MGE0MCIsZGVsYXk6MzAwLG9wdGlvbnM6e2FjdGl2ZTpudWxsLGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO3RoaXMucnVubmluZz0hMSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKS50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYy5jb2xsYXBzaWJsZSkuZGVsZWdhdGUoIi51aS10YWJzLW5hdiA+IGxpIiwibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKGIpe2EodGhpcykuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZiLnByZXZlbnREZWZhdWx0KCl9KS5kZWxlZ2F0ZSgiLnVpLXRhYnMtYW5jaG9yIiwiZm9jdXMiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZ0aGlzLmJsdXIoKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYy5hY3RpdmU9dGhpcy5faW5pdGlhbEFjdGl2ZSgpLGEuaXNBcnJheShjLmRpc2FibGVkKSYmKGMuZGlzYWJsZWQ9YS51bmlxdWUoYy5kaXNhYmxlZC5jb25jYXQoYS5tYXAodGhpcy50YWJzLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24oYSl7cmV0dXJuIGIudGFicy5pbmRleChhKX0pKSkuc29ydCgpKSx0aGlzLmFjdGl2ZT10aGlzLm9wdGlvbnMuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5fZmluZEFjdGl2ZShjLmFjdGl2ZSk6YSgpLHRoaXMuX3JlZnJlc2goKSx0aGlzLmFjdGl2ZS5sZW5ndGgmJnRoaXMubG9hZChjLmFjdGl2ZSl9LF9pbml0aWFsQWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmFjdGl2ZSxjPXRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxkPWxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO3JldHVybiBudWxsPT09YiYmKGQmJnRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGEoZSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09ZD8oYj1jLCExKTp2b2lkIDB9KSxudWxsPT09YiYmKGI9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5maWx0ZXIoIi51aS10YWJzLWFjdGl2ZSIpKSksKG51bGw9PT1ifHwtMT09PWIpJiYoYj10aGlzLnRhYnMubGVuZ3RoPzA6ITEpKSxiIT09ITEmJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZXEoYikpLC0xPT09YiYmKGI9Yz8hMTowKSksIWMmJmI9PT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aCYmKGI9MCksYn0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybnt0YWI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKTphKCl9fSxfdGFiS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCkuY2xvc2VzdCgibGkiKSxkPXRoaXMudGFicy5pbmRleChjKSxlPSEwO2lmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KGIpKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEudWkua2V5Q29kZS5SSUdIVDpjYXNlIGEudWkua2V5Q29kZS5ET1dOOmQrKzticmVhaztjYXNlIGEudWkua2V5Q29kZS5VUDpjYXNlIGEudWkua2V5Q29kZS5MRUZUOmU9ITEsZC0tO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLkVORDpkPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIGEudWkua2V5Q29kZS5IT01FOmQ9MDticmVhaztjYXNlIGEudWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHZvaWQgdGhpcy5fYWN0aXZhdGUoZCk7Y2FzZSBhLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKGQ9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOmQpO2RlZmF1bHQ6cmV0dXJufWIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSxkPXRoaXMuX2ZvY3VzTmV4dFRhYihkLGUpLGIuY3RybEtleXx8KGMuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKGQpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIsZCl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24oYil7dGhpcy5faGFuZGxlUGFnZU5hdihiKXx8Yi5jdHJsS2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuVVAmJihiLnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUuZm9jdXMoKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKGIpe3JldHVybiBiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6Yi5hbHRLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7cmV0dXJuIGI+ZSYmKGI9MCksMD5iJiYoYj1lKSxifWZvcih2YXIgZT10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1hLmluQXJyYXkoZCgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KWI9Yz9iKzE6Yi0xO3JldHVybiBifSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5fZmluZE5leHRUYWIoYSxiKSx0aGlzLnRhYnMuZXEoYSkuZm9jdXMoKSxhfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuImFjdGl2ZSI9PT1hP3ZvaWQgdGhpcy5fYWN0aXZhdGUoYik6ImRpc2FibGVkIj09PWE/dm9pZCB0aGlzLl9zZXR1cERpc2FibGVkKGIpOih0aGlzLl9zdXBlcihhLGIpLCJjb2xsYXBzaWJsZSI9PT1hJiYodGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIixiKSxifHx0aGlzLm9wdGlvbnMuYWN0aXZlIT09ITF8fHRoaXMuX2FjdGl2YXRlKDApKSwiZXZlbnQiPT09YSYmdGhpcy5fc2V0dXBFdmVudHMoYiksdm9pZCgiaGVpZ2h0U3R5bGUiPT09YSYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZShiKSkpfSxfdGFiSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXR0cigiYXJpYS1jb250cm9scyIpfHwidWktdGFicy0iK2MoKX0sX3Nhbml0aXplU2VsZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS5yZXBsYWNlKC9bISIkJSYnKCkqKywuXC86Ozw9Pj9AXFtcXVxeYHt8fX5dL2csIlxcJCYiKToiIn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMudGFibGlzdC5jaGlsZHJlbigiOmhhcyhhW2hyZWZdKSIpO2IuZGlzYWJsZWQ9YS5tYXAoYy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBjLmluZGV4KGEpfSksdGhpcy5fcHJvY2Vzc1RhYnMoKSxiLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuYWN0aXZlLmxlbmd0aCYmIWEuY29udGFpbnModGhpcy50YWJsaXN0WzBdLHRoaXMuYWN0aXZlWzBdKT90aGlzLnRhYnMubGVuZ3RoPT09Yi5kaXNhYmxlZC5sZW5ndGg/KGIuYWN0aXZlPSExLHRoaXMuYWN0aXZlPWEoKSk6dGhpcy5fYWN0aXZhdGUodGhpcy5fZmluZE5leHRUYWIoTWF0aC5tYXgoMCxiLmFjdGl2ZS0xKSwhMSkpOmIuYWN0aXZlPXRoaXMudGFicy5pbmRleCh0aGlzLmFjdGl2ZSk6KGIuYWN0aXZlPSExLHRoaXMuYWN0aXZlPWEoKSksdGhpcy5fcmVmcmVzaCgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3NldHVwRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl9zZXR1cEV2ZW50cyh0aGlzLm9wdGlvbnMuZXZlbnQpLHRoaXMuX3NldHVwSGVpZ2h0U3R5bGUodGhpcy5vcHRpb25zLmhlaWdodFN0eWxlKSx0aGlzLnRhYnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLHRoaXMucGFuZWxzLm5vdCh0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkpLmhpZGUoKS5hdHRyKHsiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLHRoaXMuYWN0aXZlLmxlbmd0aD8odGhpcy5hY3RpdmUuYWRkQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJ0cnVlIiwiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KSk6dGhpcy50YWJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKX0sX3Byb2Nlc3NUYWJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmFkZENsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLmF0dHIoInJvbGUiLCJ0YWJsaXN0IiksdGhpcy50YWJzPXRoaXMudGFibGlzdC5maW5kKCI+IGxpOmhhcyhhW2hyZWZdKSIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci10b3AiKS5hdHRyKHtyb2xlOiJ0YWIiLHRhYkluZGV4Oi0xfSksdGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSgiYSIsdGhpcylbMF19KS5hZGRDbGFzcygidWktdGFicy1hbmNob3IiKS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24iLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHM9YSgpLHRoaXMuYW5jaG9ycy5lYWNoKGZ1bmN0aW9uKGMsZSl7dmFyIGYsZyxoLGk9YShlKS51bmlxdWVJZCgpLmF0dHIoImlkIiksaj1hKGUpLmNsb3Nlc3QoImxpIiksaz1qLmF0dHIoImFyaWEtY29udHJvbHMiKTtkKGUpPyhmPWUuaGFzaCxnPWIuZWxlbWVudC5maW5kKGIuX3Nhbml0aXplU2VsZWN0b3IoZikpKTooaD1iLl90YWJJZChqKSxmPSIjIitoLGc9Yi5lbGVtZW50LmZpbmQoZiksZy5sZW5ndGh8fChnPWIuX2NyZWF0ZVBhbmVsKGgpLGcuaW5zZXJ0QWZ0ZXIoYi5wYW5lbHNbYy0xXXx8Yi50YWJsaXN0KSksZy5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSksZy5sZW5ndGgmJihiLnBhbmVscz1iLnBhbmVscy5hZGQoZykpLGsmJmouZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixrKSxqLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjpmLnN1YnN0cmluZygxKSwiYXJpYS1sYWJlbGxlZGJ5IjppfSksZy5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkpfSksdGhpcy5wYW5lbHMuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmF0dHIoInJvbGUiLCJ0YWJwYW5lbCIpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCgib2wsdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKGIpe3JldHVybiBhKCI8ZGl2PiIpLmF0dHIoImlkIixiKS5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuZGF0YSgidWktdGFicy1kZXN0cm95IiwhMCl9LF9zZXR1cERpc2FibGVkOmZ1bmN0aW9uKGIpe2EuaXNBcnJheShiKSYmKGIubGVuZ3RoP2IubGVuZ3RoPT09dGhpcy5hbmNob3JzLmxlbmd0aCYmKGI9ITApOmI9ITEpO2Zvcih2YXIgYyxkPTA7Yz10aGlzLnRhYnNbZF07ZCsrKWI9PT0hMHx8LTEhPT1hLmluQXJyYXkoZCxiKT9hKGMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik6YShjKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5vcHRpb25zLmRpc2FibGVkPWJ9LF9zZXR1cEV2ZW50czpmdW5jdGlvbihiKXt2YXIgYz17fTtiJiZhLmVhY2goYi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Y1tiXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKCEwLHRoaXMuYW5jaG9ycyx7Y2xpY2s6ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfX0pLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxjKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT1iPyhjPWQuaGVpZ2h0KCksYy09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1kJiYiZml4ZWQiIT09ZCYmKGMtPWIub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2MtPWEodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYy1hKHRoaXMpLmlubmVySGVpZ2h0KCkrYSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09YiYmKGM9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7Yz1NYXRoLm1heChjLGEodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoYykpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMuYWN0aXZlLGU9YShiLmN1cnJlbnRUYXJnZXQpLGY9ZS5jbG9zZXN0KCJsaSIpLGc9ZlswXT09PWRbMF0saD1nJiZjLmNvbGxhcHNpYmxlLGk9aD9hKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaj1kLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihkKTphKCksaz17b2xkVGFiOmQsb2xkUGFuZWw6aixuZXdUYWI6aD9hKCk6ZixuZXdQYW5lbDppfTtiLnByZXZlbnREZWZhdWx0KCksZi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Zi5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8ZyYmIWMuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIixiLGspPT09ITF8fChjLmFjdGl2ZT1oPyExOnRoaXMudGFicy5pbmRleChmKSx0aGlzLmFjdGl2ZT1nP2EoKTpmLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGoubGVuZ3RofHxpLmxlbmd0aHx8YS5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaS5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoZiksYiksdGhpcy5fdG9nZ2xlKGIsaykpfSxfdG9nZ2xlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2YucnVubmluZz0hMSxmLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYixjKX1mdW5jdGlvbiBlKCl7Yy5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksZy5sZW5ndGgmJmYub3B0aW9ucy5zaG93P2YuX3Nob3coZyxmLm9wdGlvbnMuc2hvdyxkKTooZy5zaG93KCksZCgpKX12YXIgZj10aGlzLGc9Yy5uZXdQYW5lbCxoPWMub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLGgubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGgsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxlKCl9KTooYy5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaC5oaWRlKCksZSgpKSxoLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksYy5vbGRUYWIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksZy5sZW5ndGgmJmgubGVuZ3RoP2Mub2xkVGFiLmF0dHIoInRhYkluZGV4IiwtMSk6Zy5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksZy5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLGMubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9maW5kQWN0aXZlKGIpO2RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGQubGVuZ3RofHwoZD10aGlzLmFjdGl2ZSksYz1kLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmMsY3VycmVudFRhcmdldDpjLHByZXZlbnREZWZhdWx0OmEubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT0hMT9hKCk6dGhpcy50YWJzLmVxKGIpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhJiYoYT10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK2ErIiddIikpKSxhfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIiksdGhpcy50YWJsaXN0LnJlbW92ZUNsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmFuY2hvcnMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7YS5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP2EodGhpcykucmVtb3ZlKCk6YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIikKfSksdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9Yi5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTtjP2IuYXR0cigiYXJpYS1jb250cm9scyIsYykucmVtb3ZlRGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIik6Yi5yZW1vdmVBdHRyKCJhcmlhLWNvbnRyb2xzIil9KSx0aGlzLnBhbmVscy5zaG93KCksImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0aGlzLnBhbmVscy5jc3MoImhlaWdodCIsIiIpfSxlbmFibGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5vcHRpb25zLmRpc2FibGVkO2QhPT0hMSYmKGM9PT1iP2Q9ITE6KGM9dGhpcy5fZ2V0SW5kZXgoYyksZD1hLmlzQXJyYXkoZCk/YS5tYXAoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9PWM/YTpudWxsfSk6YS5tYXAodGhpcy50YWJzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIhPT1jP2I6bnVsbH0pKSx0aGlzLl9zZXR1cERpc2FibGVkKGQpKX0sZGlzYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aWYoZCE9PSEwKXtpZihjPT09YilkPSEwO2Vsc2V7aWYoYz10aGlzLl9nZXRJbmRleChjKSwtMSE9PWEuaW5BcnJheShjLGQpKXJldHVybjtkPWEuaXNBcnJheShkKT9hLm1lcmdlKFtjXSxkKS5zb3J0KCk6W2NdfXRoaXMuX3NldHVwRGlzYWJsZWQoZCl9fSxsb2FkOmZ1bmN0aW9uKGIsYyl7Yj10aGlzLl9nZXRJbmRleChiKTt2YXIgZT10aGlzLGY9dGhpcy50YWJzLmVxKGIpLGc9Zi5maW5kKCIudWktdGFicy1hbmNob3IiKSxoPXRoaXMuX2dldFBhbmVsRm9yVGFiKGYpLGk9e3RhYjpmLHBhbmVsOmh9O2QoZ1swXSl8fCh0aGlzLnhocj1hLmFqYXgodGhpcy5fYWpheFNldHRpbmdzKGcsYyxpKSksdGhpcy54aHImJiJjYW5jZWxlZCIhPT10aGlzLnhoci5zdGF0dXNUZXh0JiYoZi5hZGRDbGFzcygidWktdGFicy1sb2FkaW5nIiksaC5hdHRyKCJhcmlhLWJ1c3kiLCJ0cnVlIiksdGhpcy54aHIuc3VjY2VzcyhmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5odG1sKGEpLGUuX3RyaWdnZXIoImxvYWQiLGMsaSl9LDEpfSkuY29tcGxldGUoZnVuY3Rpb24oYSxiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ImFib3J0Ij09PWImJmUucGFuZWxzLnN0b3AoITEsITApLGYucmVtb3ZlQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpLGgucmVtb3ZlQXR0cigiYXJpYS1idXN5IiksYT09PWUueGhyJiZkZWxldGUgZS54aHJ9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcztyZXR1cm57dXJsOmIuYXR0cigiaHJlZiIpLGJlZm9yZVNlbmQ6ZnVuY3Rpb24oYixmKXtyZXR1cm4gZS5fdHJpZ2dlcigiYmVmb3JlTG9hZCIsYyxhLmV4dGVuZCh7anFYSFI6YixhamF4U2V0dGluZ3M6Zn0sZCkpfX19LF9nZXRQYW5lbEZvclRhYjpmdW5jdGlvbihiKXt2YXIgYz1hKGIpLmF0dHIoImFyaWEtY29udHJvbHMiKTtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQodGhpcy5fc2FuaXRpemVTZWxlY3RvcigiIyIrYykpfX0pfShhKSxmdW5jdGlvbigpe30oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YS5vcmlnaW5hbEV2ZW50LGk9ZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LGY9TWF0aC5hYnMoaS54KSxnPU1hdGguYWJzKGkueSksaD1NYXRoLmFicyhpLnopLCFiLm9yaWVudGF0aW9uJiYoZj43fHwoaD42JiY4Pmd8fDg+aCYmZz42KSYmZj41KT9kLmVuYWJsZWQmJmQuZGlzYWJsZSgpOmQuZW5hYmxlZHx8ZC5lbmFibGUoKX1hLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITA7dmFyIGQsZSxmLGcsaCxpLGo9bmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4vaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiYvT1MgWzEtNV1fWzAtOV9dKiBsaWtlIE1hYyBPUyBYL2kudGVzdChqKSYmai5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xPyhkPWEubW9iaWxlLnpvb20sdm9pZCBhLm1vYmlsZS5kb2N1bWVudC5vbigibW9iaWxlaW5pdCIsZnVuY3Rpb24oKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQmJmEubW9iaWxlLndpbmRvdy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsZC5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsYyl9KSk6dm9pZChhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEpfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBlKCl7Zi5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBmPWEoImh0bWwiKSxnPWEubW9iaWxlLndpbmRvdzthKGIuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKSxhLm1vYmlsZS5ncmFkZUEoKSYmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QmJihhLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksZi5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKSxzZXRUaW1lb3V0KGUsNWUzKSxhLmV4dGVuZChhLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj1hLm1vYmlsZS5wYXRoLGY9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLGg9Yi5zdHJpcEhhc2goYi5zdHJpcFF1ZXJ5UGFyYW1zKGIucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxpPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLGo9aD9jLmdldEVsZW1lbnRCeUlkKGgpOmQ7Zi5sZW5ndGh8fChmPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksZi5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiWzBdLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxpLnBhdGhuYW1lK2kuc2VhcmNoKX0pLGEubW9iaWxlLmZpcnN0UGFnZT1mLmZpcnN0KCksYS5tb2JpbGUucGFnZUNvbnRhaW5lcj1hLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpLnBhZ2Vjb250YWluZXIoKSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxnLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKSxhLm1vYmlsZS5sb2FkaW5nKCJzaG93IiksZSgpLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYShqKS5pcygiOmpxbURhdGEocm9sZT0ncGFnZScpIil8fGEubW9iaWxlLnBhdGguaXNQYXRoKGgpfHxoPT09YS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGEubW9iaWxlLm5hdmlnYXRlKGEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOmcudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaChiLnBhcnNlTG9jYXRpb24oKS5ocmVmKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGEoZnVuY3Rpb24oKXthLnN1cHBvcnQuaW5saW5lU1ZHKCksYS5tb2JpbGUuaGlkZVVybEJhciYmYi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPWEuc3VwcG9ydC5zY3JvbGxUb3AmJjEhPT1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk/MTowLGEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKSxhLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1zdGF0ZS1kaXNhYmxlZCwudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KSl9KGEsdGhpcyl9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1vYmlsZS5taW4ubWFw",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgMS41LjAtcHJlIHwgR2l0IEhFQURoYXNoOiAzOWNiMjBmIDw+IDIwMTQtMDktMDRUMDE6NDE6MzZaIHwgKGMpIDIwMTAsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KCiFmdW5jdGlvbihhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihkKXtyZXR1cm4gYyhkLGEsYiksZC5tb2JpbGV9KTpjKGEualF1ZXJ5LGEsYil9KHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihhKXthLm1vYmlsZT17fX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246IjEuNS4wLXByZSIsc3ViUGFnZVVybEtleToidWktcGFnZSIsaGlkZVVybEJhcjohMCxrZWVwTmF0aXZlOiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazowLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6ImEiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ITEsYXV0b0luaXRpYWxpemVQYWdlOiEwLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsaWdub3JlQ29udGVudEVuYWJsZWQ6ITEsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sZHluYW1pY0Jhc2VFbmFibGVkOiEwLHBhZ2VDb250YWluZXI6YSgpLGFsbG93Q3Jvc3NEb21haW5QYWdlczohMSxkaWFsb2dIYXNoS2V5OiImdWktc3RhdGU9ZGlhbG9nIn0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fSxlPWEuZmluZCxmPS8oPzpce1tcc1xTXSpcfXxcW1tcc1xTXSpcXSkkLyxnPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5leHRlbmQoYS5tb2JpbGUse25zOiIiLGdldEF0dHJpYnV0ZTpmdW5jdGlvbihiLGMpe3ZhciBkO2I9Yi5qcXVlcnk/YlswXTpiLGImJmIuZ2V0QXR0cmlidXRlJiYoZD1iLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpKTt0cnl7ZD0idHJ1ZSI9PT1kPyEwOiJmYWxzZSI9PT1kPyExOiJudWxsIj09PWQ/bnVsbDorZCsiIj09PWQ/K2Q6Zi50ZXN0KGQpP0pTT04ucGFyc2UoZCk6ZH1jYXRjaChlKXt9cmV0dXJuIGR9LG5zTm9ybWFsaXplRGljdDpkLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe3JldHVybiBkW2JdfHwoZFtiXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytiKSl9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZGF0YSgibW9iaWxlLXBhZ2UiKX19KSxhLmZuLmpxbURhdGE9ZnVuY3Rpb24oYixkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksZT1hcmd1bWVudHMubGVuZ3RoPDJ8fGQ9PT1jP3RoaXMuZGF0YShiKTp0aGlzLmRhdGEoYixkKSksZX0sYS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGMmJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSksZX0sYS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfSxhLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfSxhLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZil7cmV0dXJuIGIuaW5kZXhPZigiOmpxbURhdGEiKT4tMSYmKGI9Yi5yZXBsYWNlKGcsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpKSxlLmNhbGwodGhpcyxiLGMsZCxmKX0sYS5leHRlbmQoYS5maW5kLGUpfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChiLGMpe3ZhciBkLGYsZyxoPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1oPyhkPWIucGFyZW50Tm9kZSxmPWQubmFtZSxiLmhyZWYmJmYmJiJtYXAiPT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhnPWEoImltZ1t1c2VtYXA9IyIrZisiXSIpWzBdLCEhZyYmZShnKSk6ITEpOigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoaCk/IWIuZGlzYWJsZWQ6ImEiPT09aD9iLmhyZWZ8fGM6YykmJmUoYil9ZnVuY3Rpb24gZShiKXtyZXR1cm4gYS5leHByLmZpbHRlcnMudmlzaWJsZShiKSYmIWEoYikucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4iaGlkZGVuIj09PWEuY3NzKHRoaXMsInZpc2liaWxpdHkiKX0pLmxlbmd0aH12YXIgZj0wLGc9L151aS1pZC1cZCskLzthLnVpPWEudWl8fHt9LGEuZXh0ZW5kKGEudWkse3ZlcnNpb246ImMwYWI3MTA1NmI5MzY2MjdlOGE3ODIxZjAzYzA0NGFlYzYyODBhNDAiLGtleUNvZGU6e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fX0pLGEuZm4uZXh0ZW5kKHtmb2N1czpmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGM/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiKS5mb2N1cygpLGQmJmQuY2FsbChiKX0sYyl9KTpiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGEuZm4uZm9jdXMpLHNjcm9sbFBhcmVudDpmdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPWEudWkuaWUmJi8oc3RhdGljfHJlbGF0aXZlKS8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fC9hYnNvbHV0ZS8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSk/dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhyZWxhdGl2ZXxhYnNvbHV0ZXxmaXhlZCkvLnRlc3QoYS5jc3ModGhpcywicG9zaXRpb24iKSkmJi8oYXV0b3xzY3JvbGwpLy50ZXN0KGEuY3NzKHRoaXMsIm92ZXJmbG93IikrYS5jc3ModGhpcywib3ZlcmZsb3cteSIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXgiKSl9KS5lcSgwKTp0aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLCJvdmVyZmxvdyIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXkiKSthLmNzcyh0aGlzLCJvdmVyZmxvdy14IikpfSkuZXEoMCksL2ZpeGVkLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKXx8IWIubGVuZ3RoP2EodGhpc1swXS5vd25lckRvY3VtZW50fHxjKTpifSx1bmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytmKX0pfSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtnLnRlc3QodGhpcy5pZCkmJmEodGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pLGEuZXh0ZW5kKGEuZXhwclsiOiJdLHtkYXRhOmEuZXhwci5jcmVhdGVQc2V1ZG8/YS5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuISFhLmRhdGEoYyxiKX19KTpmdW5jdGlvbihiLGMsZCl7cmV0dXJuISFhLmRhdGEoYixkWzNdKX0sZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3JldHVybiBkKGIsIWlzTmFOKGEuYXR0cihiLCJ0YWJpbmRleCIpKSl9LHRhYmJhYmxlOmZ1bmN0aW9uKGIpe3ZhciBjPWEuYXR0cihiLCJ0YWJpbmRleCIpLGU9aXNOYU4oYyk7cmV0dXJuKGV8fGM+PTApJiZkKGIsIWUpfX0pLGEoIjxhPiIpLm91dGVyV2lkdGgoMSkuanF1ZXJ5fHxhLmVhY2goWyJXaWR0aCIsIkhlaWdodCJdLGZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gZShiLGMsZCxlKXtyZXR1cm4gYS5lYWNoKGYsZnVuY3Rpb24oKXtjLT1wYXJzZUZsb2F0KGEuY3NzKGIsInBhZGRpbmciK3RoaXMpKXx8MCxkJiYoYy09cGFyc2VGbG9hdChhLmNzcyhiLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwKSxlJiYoYy09cGFyc2VGbG9hdChhLmNzcyhiLCJtYXJnaW4iK3RoaXMpKXx8MCl9KSxjfXZhciBmPSJXaWR0aCI9PT1kP1siTGVmdCIsIlJpZ2h0Il06WyJUb3AiLCJCb3R0b20iXSxnPWQudG9Mb3dlckNhc2UoKSxoPXtpbm5lcldpZHRoOmEuZm4uaW5uZXJXaWR0aCxpbm5lckhlaWdodDphLmZuLmlubmVySGVpZ2h0LG91dGVyV2lkdGg6YS5mbi5vdXRlcldpZHRoLG91dGVySGVpZ2h0OmEuZm4ub3V0ZXJIZWlnaHR9O2EuZm5bImlubmVyIitkXT1mdW5jdGlvbihjKXtyZXR1cm4gYz09PWI/aFsiaW5uZXIiK2RdLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jc3MoZyxlKHRoaXMsYykrInB4Iil9KX0sYS5mblsib3V0ZXIiK2RdPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBiP2hbIm91dGVyIitkXS5jYWxsKHRoaXMsYik6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jc3MoZyxlKHRoaXMsYiwhMCxjKSsicHgiKX0pfX0pLGEuZm4uYWRkQmFja3x8KGEuZm4uYWRkQmFjaz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9KSxhKCI8YT4iKS5kYXRhKCJhLWIiLCJhIikucmVtb3ZlRGF0YSgiYS1iIikuZGF0YSgiYS1iIikmJihhLmZuLnJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuY2FsbCh0aGlzLGEuY2FtZWxDYXNlKGMpKTpiLmNhbGwodGhpcyl9fShhLmZuLnJlbW92ZURhdGEpKSxhLnVpLmllPSEhL21zaWUgW1x3Ll0rLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSksYS5zdXBwb3J0LnNlbGVjdHN0YXJ0PSJvbnNlbGVjdHN0YXJ0ImluIGMuY3JlYXRlRWxlbWVudCgiZGl2IiksYS5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaW5kKChhLnN1cHBvcnQuc2VsZWN0c3RhcnQ/InNlbGVjdHN0YXJ0IjoibW91c2Vkb3duIikrIi51aS1kaXNhYmxlU2VsZWN0aW9uIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KX0sZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5iaW5kKCIudWktZGlzYWJsZVNlbGVjdGlvbiIpfSx6SW5kZXg6ZnVuY3Rpb24oZCl7aWYoZCE9PWIpcmV0dXJuIHRoaXMuY3NzKCJ6SW5kZXgiLGQpO2lmKHRoaXMubGVuZ3RoKWZvcih2YXIgZSxmLGc9YSh0aGlzWzBdKTtnLmxlbmd0aCYmZ1swXSE9PWM7KXtpZihlPWcuY3NzKCJwb3NpdGlvbiIpLCgiYWJzb2x1dGUiPT09ZXx8InJlbGF0aXZlIj09PWV8fCJmaXhlZCI9PT1lKSYmKGY9cGFyc2VJbnQoZy5jc3MoInpJbmRleCIpLDEwKSwhaXNOYU4oZikmJjAhPT1mKSlyZXR1cm4gZjtnPWcucGFyZW50KCl9cmV0dXJuIDB9fSksYS51aS5wbHVnaW49e2FkZDpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj1hLnVpW2JdLnByb3RvdHlwZTtmb3IoZSBpbiBkKWYucGx1Z2luc1tlXT1mLnBsdWdpbnNbZV18fFtdLGYucGx1Z2luc1tlXS5wdXNoKFtjLGRbZV1dKX0sY2FsbDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEucGx1Z2luc1tiXTtpZihmJiYoZHx8YS5lbGVtZW50WzBdLnBhcmVudE5vZGUmJjExIT09YS5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGUpKWZvcihlPTA7ZTxmLmxlbmd0aDtlKyspYS5vcHRpb25zW2ZbZV1bMF1dJiZmW2VdWzFdLmFwcGx5KGEuZWxlbWVudCxjKX19fShhKSxmdW5jdGlvbihhLGIpe3ZhciBkPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5wYXJlbnQoKSxlPVtdLGY9ZC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKSxnPWIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIiksaD1kLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGk9Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKTtyZXR1cm4gMD09PWcubGVuZ3RoJiZmLmxlbmd0aD4wJiYoZT1lLmNvbmNhdChmLnRvQXJyYXkoKSkpLDA9PT1pLmxlbmd0aCYmaC5sZW5ndGg+MCYmKGU9ZS5jb25jYXQoaC50b0FycmF5KCkpKSxhLmVhY2goZSxmdW5jdGlvbihiLGQpe2MtPWEoZCkub3V0ZXJIZWlnaHQoKX0pLE1hdGgubWF4KDAsYyl9O2EuZXh0ZW5kKGEubW9iaWxlLHt3aW5kb3c6YShiKSxkb2N1bWVudDphKGMpLGtleUNvZGU6YS51aS5rZXlDb2RlLGJlaGF2aW9yczp7fSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYyl7Im51bWJlciIhPT1hLnR5cGUoYykmJihjPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLGMpLGEubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmN9KX0sMjApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sZ2V0Q2xvc2VzdEJhc2VVcmw6ZnVuY3Rpb24oYil7dmFyIGM9YShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGQ9YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaDtyZXR1cm4gYS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZjJiZhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9ZCksYS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYyxkKX0scmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpeyFhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua3x8YS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuY2xvc2VzdCgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiFifHxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbms9bnVsbH0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWFbMF0sZj0iIixnPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLztlJiYoYz1lLmNsYXNzTmFtZXx8IiIsIShjJiYoZD1nLmV4ZWMoYykpJiYoZj1kWzJdKSkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZnx8Ynx8ImEifSxlbmhhbmNlYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJlbmhhbmNlIil9LGhpamFja2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiYWpheCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbihiLGMpe2lmKCFhLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZClyZXR1cm4gYjt2YXIgZCxlLGYsZyxoLGk9Yi5sZW5ndGgsaj1hKCk7Zm9yKGc9MDtpPmc7ZysrKXtmb3IoZT1iLmVxKGcpLGY9ITEsZD1iW2ddO2Q7KXtpZihoPWQuZ2V0QXR0cmlidXRlP2QuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYyk6IiIsImZhbHNlIj09PWgpe2Y9ITA7YnJlYWt9ZD1kLnBhcmVudE5vZGV9Znx8KGo9ai5hZGQoZSkpfXJldHVybiBqfSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5pbm5lckhlaWdodHx8YS5tb2JpbGUud2luZG93LmhlaWdodCgpfSxyZXNldEFjdGl2ZVBhZ2VIZWlnaHQ6ZnVuY3Rpb24oYil7dmFyIGM9YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxlPWMuaGVpZ2h0KCksZj1jLm91dGVySGVpZ2h0KCEwKTtiPWQoYywibnVtYmVyIj09dHlwZW9mIGI/YjphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSksYy5jc3MoIm1pbi1oZWlnaHQiLCIiKSxjLmhlaWdodCgpPGImJmMuY3NzKCJtaW4taGVpZ2h0IixiLShmLWUpKX0sbG9hZGluZzpmdW5jdGlvbigpe3ZhciBiPXRoaXMubG9hZGluZy5fd2lkZ2V0fHxhKGEubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpLGM9Yi5sb2FkZXIuYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiB0aGlzLmxvYWRpbmcuX3dpZGdldD1iLGN9fSksYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZm4uZXh0ZW5kKHtyZW1vdmVXaXRoRGVwZW5kZW50czpmdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oKXt2YXIgYixjPXt9LGQ9YS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCksZT10aGlzO2EubW9iaWxlLm5vanMmJmEubW9iaWxlLm5vanModGhpcyksYS5tb2JpbGUubGlua3MmJmEubW9iaWxlLmxpbmtzKHRoaXMpLGEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4mJmEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4odGhpcyksYS5mbi5idXR0b25NYXJrdXAmJnRoaXMuZmluZChhLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmJ1dHRvbk1hcmt1cCgpLGEuZm4uZmllbGRjb250YWluJiZ0aGlzLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIikubm90KGQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCksYS5lYWNoKGEubW9iaWxlLndpZGdldHMsZnVuY3Rpb24oYixmKXtpZihmLmluaXRTZWxlY3Rvcil7dmFyIGc9YS5tb2JpbGUuZW5oYW5jZWFibGUoZS5maW5kKGYuaW5pdFNlbGVjdG9yKSk7Zy5sZW5ndGg+MCYmKGc9Zy5ub3QoZCkpLGcubGVuZ3RoPjAmJihjW2YucHJvdG90eXBlLndpZGdldE5hbWVdPWcpfX0pO2ZvcihiIGluIGMpY1tiXVtiXSgpO3JldHVybiB0aGlzfSxhZGREZXBlbmRlbnRzOmZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyh0aGlzLGIpfSxnZXRFbmNvZGVkVGV4dDpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iKS50ZXh0KHRoaXMudGV4dCgpKS5odG1sKCl9LGpxbUVuaGFuY2VhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxqcW1IaWphY2thYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhpamFja2FibGUodGhpcyl9fSksYS5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbihiKXt2YXIgYz1hKGIpOyhjLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpKS5yZW1vdmUoKSxjLnJlbW92ZSgpfSxhLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLGU9ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKTtkLmpxbURhdGEoImRlcGVuZGVudHMiLGEoZSkuYWRkKGMpKX0sYS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfSxhLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1BcnJheS5wcm90b3R5cGUuc2xpY2UsZT1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD0wO251bGwhPShjPWJbZF0pO2QrKyl0cnl7YShjKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9Y2F0Y2goZil7fWUoYil9LGEud2lkZ2V0PWZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaCxpPXt9LGo9Yi5zcGxpdCgiLiIpWzBdO3JldHVybiBiPWIuc3BsaXQoIi4iKVsxXSxlPWorIi0iK2IsZHx8KGQ9YyxjPWEuV2lkZ2V0KSxhLmV4cHJbIjoiXVtlLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKGIpe3JldHVybiEhYS5kYXRhKGIsZSl9LGFbal09YVtqXXx8e30sZj1hW2pdW2JdLGc9YVtqXVtiXT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/dm9pZChhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKSk6bmV3IGcoYSxiKX0sYS5leHRlbmQoZyxmLHt2ZXJzaW9uOmQudmVyc2lvbixfcHJvdG86YS5leHRlbmQoe30sZCksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksaD1uZXcgYyxoLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LGgub3B0aW9ucyksYS5lYWNoKGQsZnVuY3Rpb24oYixkKXtyZXR1cm4gYS5pc0Z1bmN0aW9uKGQpP3ZvaWQoaVtiXT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLl9zdXBlcixmPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPWEsdGhpcy5fc3VwZXJBcHBseT1lLGI9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9Yyx0aGlzLl9zdXBlckFwcGx5PWYsYn19KCkpOnZvaWQoaVtiXT1kKX0pLGcucHJvdG90eXBlPWEud2lkZ2V0LmV4dGVuZChoLHt3aWRnZXRFdmVudFByZWZpeDpmP2gud2lkZ2V0RXZlbnRQcmVmaXh8fGI6Yn0saSx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aix3aWRnZXROYW1lOmIsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyksZ30sYS53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKGMpe2Zvcih2YXIgZSxmLGc9ZC5jYWxsKGFyZ3VtZW50cywxKSxoPTAsaT1nLmxlbmd0aDtpPmg7aCsrKWZvcihlIGluIGdbaF0pZj1nW2hdW2VdLGdbaF0uaGFzT3duUHJvcGVydHkoZSkmJmYhPT1iJiYoY1tlXT1hLmlzUGxhaW5PYmplY3QoZik/YS5pc1BsYWluT2JqZWN0KGNbZV0pP2Eud2lkZ2V0LmV4dGVuZCh7fSxjW2VdLGYpOmEud2lkZ2V0LmV4dGVuZCh7fSxmKTpmKTtyZXR1cm4gY30sYS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fGM7YS5mbltjXT1mdW5jdGlvbihnKXt2YXIgaD0ic3RyaW5nIj09dHlwZW9mIGcsaT1kLmNhbGwoYXJndW1lbnRzLDEpLGo9dGhpcztyZXR1cm4gZz0haCYmaS5sZW5ndGg/YS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2ddLmNvbmNhdChpKSk6Zyx0aGlzLmVhY2goaD9mdW5jdGlvbigpe3ZhciBkLGU9YS5kYXRhKHRoaXMsZik7cmV0dXJuImluc3RhbmNlIj09PWc/KGo9ZSwhMSk6ZT9hLmlzRnVuY3Rpb24oZVtnXSkmJiJfIiE9PWcuY2hhckF0KDApPyhkPWVbZ10uYXBwbHkoZSxpKSxkIT09ZSYmZCE9PWI/KGo9ZCYmZC5qcXVlcnk/ai5wdXNoU3RhY2soZC5nZXQoKSk6ZCwhMSk6dm9pZCAwKTphLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIitnKyInIGZvciAiK2MrIiB3aWRnZXQgaW5zdGFuY2UiKTphLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYysiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZysiJyIpfTpmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGYpO2I/Yi5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsZixuZXcgZShnLHRoaXMpKX0pLGp9fSxhLldpZGdldD1mdW5jdGlvbigpe30sYS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGEuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsZCl7ZD1hKGR8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1hKGQpLHRoaXMudXVpZD1jKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYiksdGhpcy5iaW5kaW5ncz1hKCksdGhpcy5ob3ZlcmFibGU9YSgpLHRoaXMuZm9jdXNhYmxlPWEoKSxkIT09dGhpcyYmKGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT1kJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEoYS5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLHRoaXMud2lkZ2V0KCkudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKSx0aGlzLmJpbmRpbmdzLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sX2Rlc3Ryb3k6YS5ub29wLHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZyxoPWM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKCJzdHJpbmciPT10eXBlb2YgYylpZihoPXt9LGU9Yy5zcGxpdCgiLiIpLGM9ZS5zaGlmdCgpLGUubGVuZ3RoKXtmb3IoZj1oW2NdPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbY10pLGc9MDtnPGUubGVuZ3RoLTE7ZysrKWZbZVtnXV09ZltlW2ddXXx8e30sZj1mW2VbZ11dO2lmKGM9ZS5wb3AoKSxkPT09YilyZXR1cm4gZltjXT09PWI/bnVsbDpmW2NdO2ZbY109ZH1lbHNle2lmKGQ9PT1iKXJldHVybiB0aGlzLm9wdGlvbnNbY109PT1iP251bGw6dGhpcy5vcHRpb25zW2NdO2hbY109ZH1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhoKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLCJkaXNhYmxlZCI9PT1hJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQiLCEhYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSl9LF9vbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzOyJib29sZWFuIiE9dHlwZW9mIGImJihkPWMsYz1iLGI9ITEpLGQ/KGM9ZT1hKGMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoYykpOihkPWMsYz10aGlzLmVsZW1lbnQsZT10aGlzLndpZGdldCgpKSxhLmVhY2goZCxmdW5jdGlvbihkLGcpe2Z1bmN0aW9uIGgoKXtyZXR1cm4gYnx8Zi5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFhKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIGc/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyk6dm9pZCAwfSJzdHJpbmciIT10eXBlb2YgZyYmKGguZ3VpZD1nLmd1aWQ9Zy5ndWlkfHxoLmd1aWR8fGEuZ3VpZCsrKTt2YXIgaT1kLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGo9aVsxXStmLmV2ZW50TmFtZXNwYWNlLGs9aVsyXTtrP2UuZGVsZWdhdGUoayxqLGgpOmMuYmluZChqLGgpfSl9LF9vZmY6ZnVuY3Rpb24oYSxiKXtiPShifHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGEudW5iaW5kKGIpLnVuZGVsZWdhdGUoYil9LF9kZWxheTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBhP2RbYV06YSkuYXBwbHkoZCxhcmd1bWVudHMpfXZhciBkPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoYyxifHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbihiKXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQoYiksdGhpcy5fb24oYix7bW91c2VlbnRlcjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChiKSx0aGlzLl9vbihiLHtmb2N1c2luOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9uc1tiXTtpZihkPWR8fHt9LGM9YS5FdmVudChjKSxjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpLGMudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWMub3JpZ2luYWxFdmVudClmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBlP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LCJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiZhLmVmZmVjdHMuZWZmZWN0W2hdP2RbYl0oZSk6aCE9PWImJmRbaF0/ZFtoXShlLmR1cmF0aW9uLGUuZWFzaW5nLGYpOmQucXVldWUoZnVuY3Rpb24oYyl7YSh0aGlzKVtiXSgpLGYmJmYuY2FsbChkWzBdKSxjKCl9KX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9L1tBLVpdL2csYz1mdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfTthLmV4dGVuZChhLldpZGdldC5wcm90b3R5cGUse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGQsZSxmPXRoaXMuZWxlbWVudFswXSxnPXt9O2lmKCFhLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZiwiZGVmYXVsdHMiKSlmb3IoZCBpbiB0aGlzLm9wdGlvbnMpZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixkLnJlcGxhY2UoYixjKSksbnVsbCE9ZSYmKGdbZF09ZSk7cmV0dXJuIGd9fSksYS5tb2JpbGUud2lkZ2V0PWEuV2lkZ2V0fShhKSxmdW5jdGlvbihhKXt2YXIgYj0idWktbG9hZGVyIixjPWEoImh0bWwiKTthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitiKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iLGZha2VGaXhMb2FkZXI6ZnVuY3Rpb24oKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTt0aGlzLmVsZW1lbnQuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkrdGhpcy53aW5kb3cuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLGQ9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7KGIudG9wPGN8fGIudG9wLWM+ZCkmJih0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksdGhpcy5mYWtlRml4TG9hZGVyKCksdGhpcy53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZCxlLGYpe3ZhciBnLGgsaTt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGQpPyhpPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxkKSxkPWkudGhlbWUpOihpPXRoaXMub3B0aW9ucyxkPWR8fGkudGhlbWUpLGg9ZXx8KGkudGV4dD09PSExPyIiOmkudGV4dCksYy5hZGRDbGFzcygidWktbG9hZGluZyIpLGc9aS50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitkKyIgdWktbG9hZGVyLSIrKGd8fGV8fGQudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoaS50ZXh0b25seXx8Zj8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxpLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoaS5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGgpLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSx0aGlzLndpbmRvdy5iaW5kKCJzY3JvbGwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSx0aGlzLm9wdGlvbnMudGV4dCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYixjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksZT0oYSsiICIrby5qb2luKGMrIiAiKStjKS5zcGxpdCgiICIpO2ZvcihiIGluIGUpaWYobltlW2JdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZigpe3ZhciBjPWIsZD0hKCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLmNyZWF0ZVNWR1JlY3R8fGMub3BlcmEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSksZT1mdW5jdGlvbihiKXtiJiZkfHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vc3ZnIil9LGY9bmV3IGMuSW1hZ2U7Zi5vbmVycm9yPWZ1bmN0aW9uKCl7ZSghMSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7ZSgxPT09Zi53aWR0aCYmMT09PWYuaGVpZ2h0KX0sZi5zcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0ifWZ1bmN0aW9uIGcoKXt2YXIgZSxmLGcsaD0idHJhbnNmb3JtLTNkIixpPWEubW9iaWxlLm1lZGlhKCIoLSIrby5qb2luKCItIitoKyIpLCgtIikrIi0iK2grIiksKCIraCsiKSIpO2lmKGkpcmV0dXJuISFpO2U9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9LG0uYXBwZW5kKGUpO2ZvcihnIGluIGYpZS5zdHlsZVtnXSE9PWQmJihlLnN0eWxlW2ddPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLGk9Yi5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoZltnXSkpO3JldHVybiEhaSYmIm5vbmUiIT09aX1mdW5jdGlvbiBoKCl7dmFyIGIsYyxkPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsZT1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZz0iIjtyZXR1cm4gZS5sZW5ndGg/Zz1lLmF0dHIoImhyZWYiKTplPWY9YSgiPGJhc2U+Iix7aHJlZjpkfSkuYXBwZW5kVG8oImhlYWQiKSxiPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKG0pLGM9YlswXS5ocmVmLGVbMF0uaHJlZj1nfHxsb2NhdGlvbi5wYXRobmFtZSxmJiZmLnJlbW92ZSgpLDA9PT1jLmluZGV4T2YoZCl9ZnVuY3Rpb24gaSgpe3ZhciBhLGQ9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZT1jLmRvY3VtZW50RWxlbWVudCxmPWIuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBkLnN0eWxlPyhkLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLGQuc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsZS5hcHBlbmRDaGlsZChkKSxhPWYmJiJhdXRvIj09PWYoZCwiIikucG9pbnRlckV2ZW50cyxlLnJlbW92ZUNoaWxkKGQpLCEhYSk6ITF9ZnVuY3Rpb24gaigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdH1mdW5jdGlvbiBrKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJjUzND5mfHxhLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGEub3BlcmFtaW5pKXx8aSYmNzQ1OD5qfHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmNTMzPmZ8fGgmJjY+aHx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiY1MzQ+Znx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBsLG09YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksbj1tWzBdLnN0eWxlLG89WyJXZWJraXQiLCJNb3oiLCJPIl0scD0icGFsbUdldFJlc291cmNlImluIGIscT1iLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKSxyPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse3B1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZSgiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFlKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmcoKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXIsZml4ZWRQb3NpdGlvbjprKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBtWzBdKSYmIXAmJiFxLGR5bmFtaWNCYXNlVGFnOmgoKSxjc3NQb2ludGVyRXZlbnRzOmkoKSxib3VuZGluZ1JlY3Q6aigpLGlubGluZVNWRzpmfSksbS5yZW1vdmUoKSxsPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8cXx8bCxsJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLGM9YT9iOmxvY2F0aW9uLGQ9Yi5oYXNoO3JldHVybiBkPSIjIj09PWQ/IiI6ZCxjLnByb3RvY29sK2IuZG91YmxlU2xhc2grYy5ob3N0KygiIiE9PWMucHJvdG9jb2wmJiIvIiE9PWMucGF0aG5hbWUuc3Vic3RyaW5nKDAsMSk/Ii8iOiIiKStjLnBhdGhuYW1lK2Muc2VhcmNoK2R9LGdldERvY3VtZW50VXJsOmZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRVcmwpOmQuZG9jdW1lbnRVcmwuaHJlZn0scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKCJvYmplY3QiPT09YS50eXBlKGIpKXJldHVybiBiO3ZhciBjPWQudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6Y1swXXx8IiIsaHJlZk5vSGFzaDpjWzFdfHwiIixocmVmTm9TZWFyY2g6Y1syXXx8IiIsZG9tYWluOmNbM118fCIiLHByb3RvY29sOmNbNF18fCIiLGRvdWJsZVNsYXNoOmNbNV18fCIiLGF1dGhvcml0eTpjWzZdfHwiIix1c2VybmFtZTpjWzhdfHwiIixwYXNzd29yZDpjWzldfHwiIixob3N0OmNbMTBdfHwiIixob3N0bmFtZTpjWzExXXx8IiIscG9ydDpjWzEyXXx8IiIscGF0aG5hbWU6Y1sxM118fCIiLGRpcmVjdG9yeTpjWzE0XXx8IiIsZmlsZW5hbWU6Y1sxNV18fCIiLHNlYXJjaDpjWzE2XXx8IiIsaGFzaDpjWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY7aWYoYSYmIi8iPT09YS5jaGFyQXQoMCkpcmV0dXJuIGE7Zm9yKGE9YXx8IiIsYj1iP2IucmVwbGFjZSgvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCIiKToiIixjPWI/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpLGU9MDtlPGQubGVuZ3RoO2UrKylzd2l0Y2goZj1kW2VdKXtjYXNlIi4iOmJyZWFrO2Nhc2UiLi4iOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGYpfXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQucGFyc2VVcmwoYSkuZG9tYWluLnRvTG93ZXJDYXNlKCk9PT1kLnBhcnNlVXJsKGIpLmRvbWFpbi50b0xvd2VyQ2FzZSgpfSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPSIiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8IiIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9Im9iamVjdCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHwiPyI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKCI/IiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpPyImIjoiIikrZisoZS5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShjKT9jLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLCIiKS5yZXBsYWNlKC9cPy4qJC8sIiIpOmQuaXNTYW1lRG9tYWluKGMsdGhpcy5kb2N1bWVudEJhc2UpP2MuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIikuc3BsaXQoZilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cPy4qJC8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKGYsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuISghYi5wcm90b2NvbHx8Yi5kb21haW4udG9Mb3dlckNhc2UoKT09PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluLnRvTG93ZXJDYXNlKCkpfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiIiIT09Yi5wcm90b2NvbD8hdGhpcy5pc1BhdGgoYi5oYXNoKSYmYi5oYXNoJiYoYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gpOi9eIy8udGVzdChiLmhyZWYpfSxzcXVhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGk9dGhpcy5pc1BhdGgoYSksaj10aGlzLnBhcnNlVXJsKGEpLGs9ai5oYXNoLGw9IiI7cmV0dXJuIGJ8fChpP2I9ZC5nZXRMb2NhdGlvbigpOihoPWQuZ2V0RG9jdW1lbnRVcmwoITApLGI9ZC5pc1BhdGgoaC5oYXNoKT9kLnNxdWFzaChoLmhyZWYpOmguaHJlZikpLGU9aT9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoai5oYXNoKT9kLnN0cmlwSGFzaChqLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYobD1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxpPygoZC5pc1BhdGgoayl8fDA9PT1rLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaz0iIiksbCYmLTE9PT1rLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGsrPWwpLC0xPT09ay5pbmRleE9mKCIjIikmJiIiIT09ayYmKGs9IiMiK2spLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrYy5kb3VibGVTbGFzaCtjLmhvc3QrYy5wYXRobmFtZStmK2spOmMrPWMuaW5kZXhPZigiIyIpPi0xP2w6IiMiK2wsY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9LGhhc2hUb1NlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPSIjIj09PWEuc3Vic3RyaW5nKDAsMSk7cmV0dXJuIGImJihhPWEuc3Vic3RyaW5nKDEpKSwoYj8iIyI6IiIpK2EucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KGYpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgZT1kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxmPWUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZlLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGc9YS5tb2JpbGUuZmlyc3RQYWdlLGg9ZyYmZ1swXT9nWzBdLmlkOmM7cmV0dXJuIGYmJighZS5oYXNofHwiIyI9PT1lLmhhc2h8fGgmJmUuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09aCl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9LGEuZXh0ZW5kKGEubW9iaWxlLHtnZXREb2N1bWVudFVybDpkLmdldERvY3VtZW50VXJsLGdldERvY3VtZW50QmFzZTpkLmdldERvY3VtZW50QmFzZX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZigiIyIpJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sX2ZpbmRCeUlkOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5zdGFjay5sZW5ndGg7Zm9yKGM9MDtkPmMmJnRoaXMuc3RhY2tbY10uaWQhPT1hO2MrKyk7cmV0dXJuIGQ+Yz9jOmJ9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxjKXt2YXIgZD1jPT09Yj9iOnRoaXMuX2ZpbmRCeUlkKGMpLGU9dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gZCE9PWI/ZDooZD10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKDAsZSkpLGQ9PT1iJiYoZD10aGlzLmZpbmQoYSx0aGlzLnN0YWNrLnNsaWNlKGUpLCEwKSxkPWQ9PT1iP2Q6ZCtlKSxkKX0sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCxjLmlkKSxlPXRoaXMuYWN0aXZlSW5kZXg7ZCE9PWImJih0aGlzLmFjdGl2ZUluZGV4PWQsdGhpcy5wcmV2aW91c0luZGV4PWUpLGU+ZD8oYy5wcmVzZW50fHxjLmJhY2t8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOmQ+ZT8oYy5wcmVzZW50fHxjLmZvcndhcmR8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOmQ9PT1iJiZjLm1pc3NpbmcmJmMubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGQ9YS5tb2JpbGUucGF0aCxlPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsYS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjphLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6YS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sYS5leHRlbmQoYS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7aGlzdG9yeUVudHJ5SWQ6MCxzcXVhc2g6ZnVuY3Rpb24oZSxmKXt2YXIgZyxoLGk9ZC5pc1BhdGgoZSk/ZC5zdHJpcEhhc2goZSk6ZTtyZXR1cm4gaD1kLnNxdWFzaChlKSxnPWEuZXh0ZW5kKHtpZDorK3RoaXMuaGlzdG9yeUVudHJ5SWQsaGFzaDppLHVybDpofSxmKSxiLmhpc3RvcnkucmVwbGFjZVN0YXRlKGcsZy50aXRsZXx8Yy50aXRsZSxoKSxnfSxoYXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc7cmV0dXJuIGM9ZC5wYXJzZVVybChhKSxlPWQucGFyc2VMb2NhdGlvbigpLGUucGF0aG5hbWUrZS5zZWFyY2g9PT1jLnBhdGhuYW1lK2Muc2VhcmNoP2Y9Yy5oYXNoP2MuaGFzaDpjLnBhdGhuYW1lK2Muc2VhcmNoOmQuaXNQYXRoKGEpPyhnPWQucGFyc2VVcmwoYiksZj1nLnBhdGhuYW1lK2cuc2VhcmNoKyhkLmlzUHJlc2VydmFibGVIYXNoKGcuaGFzaCk/Zy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIikpOmY9YSxmfSxnbzpmdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqLGssbD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk7aT1kLnNxdWFzaChlKSxqPXRoaXMuaGFzaChlLGkpLGcmJmohPT1kLnN0cmlwSGFzaChkLnBhcnNlTG9jYXRpb24oKS5oYXNoKSYmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPWcpLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMCxiLmxvY2F0aW9uLmhhc2g9aix0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsaD1hLmV4dGVuZCh7dXJsOmksaGFzaDpqLHRpdGxlOmMudGl0bGV9LGYpLGwmJihrPW5ldyBhLkV2ZW50KCJwb3BzdGF0ZSIpLGsub3JpZ2luYWxFdmVudD17dHlwZToicG9wc3RhdGUiLHN0YXRlOm51bGx9LGguaWQ9KHRoaXMuc3F1YXNoKGUsaCl8fHt9KS5pZCxnfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxhLm1vYmlsZS53aW5kb3cudHJpZ2dlcihrKSkpLHRoaXMuaGlzdG9yeS5hZGQoaC51cmwsaCl9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpOnRoaXMuaWdub3JlUG9wU3RhdGU/dm9pZCh0aGlzLmlnbm9yZVBvcFN0YXRlPSExKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpP3ZvaWQgYi5wcmV2ZW50RGVmYXVsdCgpOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLHZvaWQoYi5oaXN0b3J5U3RhdGU9ZikpOnZvaWQgdGhpcy5oaXN0b3J5LmRpcmVjdCh7aWQ6KGIub3JpZ2luYWxFdmVudC5zdGF0ZXx8e30pLmlkLHVybDooYi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSkudXJsfHxjLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhpc3RvcnlTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb249ZH19KSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGUsZjtpZihhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYhYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXtpZih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZSlyZXR1cm4gdGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ITEsdm9pZCBiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwplPXRoaXMuaGlzdG9yeSxmPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOmYscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGFzaGNoYW5nZVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGFzaGNoYW5nZVN0YXRlLmRpcmVjdGlvbj1kfSxtaXNzaW5nOmZ1bmN0aW9uKCl7ZS5hZGQoZix7aGFzaDpmLHRpdGxlOmMudGl0bGV9KX19KX19fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5hdmlnYXRlPWZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IuZ28oYixjLGQpfSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5PW5ldyBhLm1vYmlsZS5IaXN0b3J5LGEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvcj1uZXcgYS5tb2JpbGUuTmF2aWdhdG9yKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkpO3ZhciBiPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGIuaHJlZix7aGFzaDpiLmhhc2h9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD17YW5pbWF0aW9uOnt9LHRyYW5zaXRpb246e319LGU9Yy5jcmVhdGVFbGVtZW50KCJhIiksZj1bIiIsIndlYmtpdC0iLCJtb3otIiwiby0iXTthLmVhY2goWyJhbmltYXRpb24iLCJ0cmFuc2l0aW9uIl0sZnVuY3Rpb24oYyxnKXt2YXIgaD0wPT09Yz9nKyItbmFtZSI6ZzthLmVhY2goZixmdW5jdGlvbihjLGYpe3JldHVybiBlLnN0eWxlW2EuY2FtZWxDYXNlKGYraCldIT09Yj8oZFtnXS5wcmVmaXg9ZiwhMSk6dm9pZCAwfSksZFtnXS5kdXJhdGlvbj1hLmNhbWVsQ2FzZShkW2ddLnByZWZpeCtnKyItZHVyYXRpb24iKSxkW2ddLmV2ZW50PWEuY2FtZWxDYXNlKGRbZ10ucHJlZml4K2crIi1lbmQiKSwiIj09PWRbZ10ucHJlZml4JiYoZFtnXS5ldmVudD1kW2ddLmV2ZW50LnRvTG93ZXJDYXNlKCkpfSksYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zPWQudHJhbnNpdGlvbi5wcmVmaXghPT1iLGEuc3VwcG9ydC5jc3NBbmltYXRpb25zPWQuYW5pbWF0aW9uLnByZWZpeCE9PWIsYShlKS5yZW1vdmUoKSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGUsZixnKXt2YXIgaCxpLGo9dGhpcyxrPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGgpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxsPWYmJiJhbmltYXRpb24iIT09Zj8idHJhbnNpdGlvbiI6ImFuaW1hdGlvbiI7cmV0dXJuIGEuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucyYmInRyYW5zaXRpb24iPT09bHx8YS5zdXBwb3J0LmNzc0FuaW1hdGlvbnMmJiJhbmltYXRpb24iPT09bD8oZz09PWImJihhKHRoaXMpLmNvbnRleHQhPT1jJiYoaT0zZTMqcGFyc2VGbG9hdChhKHRoaXMpLmNzcyhkW2xdLmR1cmF0aW9uKSkpLCgwPT09aXx8aT09PWJ8fGlzTmFOKGkpKSYmKGk9YS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb24pKSxoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGopLm9mZihkW2xdLmV2ZW50LGspLGUuYXBwbHkoail9LGkpLGEodGhpcykub25lKGRbbF0uZXZlbnQsaykpOihzZXRUaW1lb3V0KGEucHJveHkoZSx0aGlzKSwwKSxhKHRoaXMpKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb249MWUzfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RSksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qy5sZW5ndGg7bj5tO20rKylpPUNbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix6KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseiksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TT0hMX1mdW5jdGlvbiBqKCl7TT0hMH1mdW5jdGlvbiBrKCl7UT0wLEsubGVuZ3RoPTAsTD0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEc9c2V0VGltZW91dChmdW5jdGlvbigpe0c9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0cmJihjbGVhclRpbWVvdXQoRyksRz0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjLGQ9YS5kYXRhKGIudGFyZ2V0LEEpO0x8fFEmJlE9PT1kfHwoYz1vKCJ2IitiLnR5cGUsYiksYyYmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gcShiKXt2YXIgYyxkLGYsaD1lKGIpLnRvdWNoZXM7aCYmMT09PWgubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZyYmKFE9UCsrLGEuZGF0YShjLEEsUSksbigpLGwoKSxKPSExLGY9ZShiKS50b3VjaGVzWzBdLEg9Zi5wYWdlWCxJPWYucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpKSl9ZnVuY3Rpb24gcihhKXtNfHwoSnx8bygidm1vdXNlY2FuY2VsIixhLGcoYS50YXJnZXQpKSxKPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTSl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SixmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0o9Snx8TWF0aC5hYnMoYy5wYWdlWC1IKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUkpPmYsSiYmIWQmJm8oInZtb3VzZWNhbmNlbCIsYixoKSxvKCJ2bW91c2Vtb3ZlIixiLGgpLG0oKX19ZnVuY3Rpb24gdChhKXtpZighTSl7aigpO3ZhciBiLGMsZD1nKGEudGFyZ2V0KTtvKCJ2bW91c2V1cCIsYSxkKSxKfHwoYj1vKCJ2Y2xpY2siLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKCJ2bW91c2VvdXQiLGEsZCksSj0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix6KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseix7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseik7ZFtiXT0hMCxGW2JdPShGW2JdfHwwKSsxLDE9PT1GW2JdJiZPLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxOJiYoRi50b3VjaHN0YXJ0PShGLnRvdWNoc3RhcnR8fDApKzEsMT09PUYudG91Y2hzdGFydCYmTy5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUZbYl0sRltiXXx8Ty51bmJpbmQoYyxwKSxOJiYoLS1GLnRvdWNoc3RhcnQsRi50b3VjaHN0YXJ0fHxPLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej0idmlydHVhbE1vdXNlQmluZGluZ3MiLEE9InZpcnR1YWxUb3VjaElEIixCPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxDPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPSJhZGRFdmVudExpc3RlbmVyImluIGMsTz1hKGMpLFA9MSxRPTA7Zm9yKGEudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH0seT0wO3k8Qi5sZW5ndGg7eSsrKWEuZXZlbnQuc3BlY2lhbFtCW3ldXT13KEJbeV0pO04mJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUsubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9S1tmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSx2b2lkIGIuc3RvcFByb3BhZ2F0aW9uKCk7ZT1lLnBhcmVudE5vZGV9fSwhMCl9KGEsYixjKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShiLGMsZSxmKXt2YXIgZz1lLnR5cGU7ZS50eXBlPWMsZj9hLmV2ZW50LnRyaWdnZXIoZSxkLGIpOmEuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUudHlwZT1nfXZhciBmPWEoYyksZz1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGg9InRvdWNobW92ZSBzY3JvbGwiLGk9Zz8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaj1nPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGs9Zz8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Yz1iLGUoZixjPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjLGQsZj10aGlzLGc9YShmKTtnLmJpbmQoaCxmdW5jdGlvbihlKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGN8fGIoZSwhMCksY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IoZSwhMSl9LDUwKSl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChoKX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLGVtaXRUYXBPblRhcGhvbGQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKSxkPSExO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZyl7ZnVuY3Rpb24gaCgpe2NsZWFyVGltZW91dChrKX1mdW5jdGlvbiBpKCl7aCgpLGMudW5iaW5kKCJ2Y2xpY2siLGopLnVuYmluZCgidm1vdXNldXAiLGgpLGYudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpfWZ1bmN0aW9uIGooYSl7aSgpLGR8fGwhPT1hLnRhcmdldD9kJiZhLnByZXZlbnREZWZhdWx0KCk6ZShiLCJ0YXAiLGEpfWlmKGQ9ITEsZy53aGljaCYmMSE9PWcud2hpY2gpcmV0dXJuITE7dmFyIGssbD1nLnRhcmdldDtjLmJpbmQoInZtb3VzZXVwIixoKS5iaW5kKCJ2Y2xpY2siLGopLGYuYmluZCgidm1vdXNlY2FuY2VsIixpKSxrPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGFwLmVtaXRUYXBPblRhcGhvbGR8fChkPSEwKSxlKGIsInRhcGhvbGQiLGEuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6bH0pKX0sYS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKCJ2bW91c2Vkb3duIikudW5iaW5kKCJ2Y2xpY2siKS51bmJpbmQoInZtb3VzZXVwIiksZi51bmJpbmQoInZtb3VzZWNhbmNlbCIpfX0sYS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDozMCxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYz1iLnBhZ2VYT2Zmc2V0LGQ9Yi5wYWdlWU9mZnNldCxlPWEuY2xpZW50WCxmPWEuY2xpZW50WTtyZXR1cm4gMD09PWEucGFnZVkmJk1hdGguZmxvb3IoZik+TWF0aC5mbG9vcihhLnBhZ2VZKXx8MD09PWEucGFnZVgmJk1hdGguZmxvb3IoZSk+TWF0aC5mbG9vcihhLnBhZ2VYKT8oZS09YyxmLT1kKTooZjxhLnBhZ2VZLWR8fGU8YS5wYWdlWC1jKSYmKGU9YS5wYWdlWC1jLGY9YS5wYWdlWS1kKSx7eDplLHk6Zn19LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XSxvcmlnaW46YShiLnRhcmdldCl9fSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGIsYyxkLGYpe2lmKGMudGltZS1iLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1swXS1jLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMV0tYy5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkKXt2YXIgZz1iLmNvb3Jkc1swXT5jLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCI7cmV0dXJuIGUoZCwic3dpcGUiLGEuRXZlbnQoInN3aXBlIix7dGFyZ2V0OmYsc3dpcGVzdGFydDpiLHN3aXBlc3RvcDpjfSksITApLGUoZCxnLGEuRXZlbnQoZyx7dGFyZ2V0OmYsc3dpcGVzdGFydDpiLHN3aXBlc3RvcDpjfSksITApLCEwfXJldHVybiExfSxldmVudEluUHJvZ3Jlc3M6ITEsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMsZD1hKGMpLGU9e307Yj1hLmRhdGEodGhpcywibW9iaWxlLWV2ZW50cyIpLGJ8fChiPXtsZW5ndGg6MH0sYS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiLGIpKSxiLmxlbmd0aCsrLGIuc3dpcGU9ZSxlLnN0YXJ0PWZ1bmN0aW9uKGIpe2lmKCFhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzKXthLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSEwO3ZhciBkLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGIpLGg9Yi50YXJnZXQsaT0hMTtlLm1vdmU9ZnVuY3Rpb24oYil7ZyYmIWIuaXNEZWZhdWx0UHJldmVudGVkKCkmJihkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLGl8fChpPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGQsYyxoKSxpJiYoYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMSkpLE1hdGguYWJzKGcuY29vcmRzWzBdLWQuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpKX0sZS5zdG9wPWZ1bmN0aW9uKCl7aT0hMCxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSExLGYub2ZmKGssZS5tb3ZlKSxlLm1vdmU9bnVsbH0sZi5vbihrLGUubW92ZSkub25lKGosZS5zdG9wKX19LGQub24oaSxlLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgYixjO2I9YS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiKSxiJiYoYz1iLnN3aXBlLGRlbGV0ZSBiLnN3aXBlLGIubGVuZ3RoLS0sMD09PWIubGVuZ3RoJiZhLnJlbW92ZURhdGEodGhpcywibW9iaWxlLWV2ZW50cyIpKSxjJiYoYy5zdGFydCYmYSh0aGlzKS5vZmYoaSxjLnN0YXJ0KSxjLm1vdmUmJmYub2ZmKGssYy5tb3ZlKSxjLnN0b3AmJmYub2ZmKGosYy5zdG9wKSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUubGVmdCIsc3dpcGVyaWdodDoic3dpcGUucmlnaHQifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixmKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT0ib3JpZW50YXRpb25jaGFuZ2UiLG49ezA6ITAsMTgwOiEwfTthLnN1cHBvcnQub3JpZW50YXRpb24mJihpPWIuaW5uZXJXaWR0aHx8bC53aWR0aCgpLGo9Yi5pbm5lckhlaWdodHx8bC5oZWlnaHQoKSxrPTUwLGc9aT5qJiZpLWo+ayxoPW5bYi5vcmllbnRhdGlvbl0sKGcmJmh8fCFnJiYhaCkmJihuPXsiLTkwIjohMCw5MDohMH0pKSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLHZvaWQgbC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOnZvaWQgbC51bmJpbmQoInRocm90dGxlZHJlc2l6ZSIsZCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9uW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoImhlYWQiKS5jaGlsZHJlbigiYmFzZSIpLGM9e2VsZW1lbnQ6Yi5sZW5ndGg/YjphKCI8YmFzZT4iLHtocmVmOmEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8oYSgiaGVhZCIpKSxsaW5rU2VsZWN0b3I6IltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIixzZXQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcmJmMuZWxlbWVudC5hdHRyKCJocmVmIixhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlKSl9LHJld3JpdGU6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLm1vYmlsZS5wYXRoLmdldChiKTtkLmZpbmQoYy5saW5rU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YShjKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixmPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLGc9YShjKS5hdHRyKGQpO2c9Zy5yZXBsYWNlKGYucHJvdG9jb2wrZi5kb3VibGVTbGFzaCtmLmhvc3QrZi5wYXRobmFtZSwiIiksL14oXHcrOnwjfFwvKS8udGVzdChnKXx8YShjKS5hdHRyKGQsZStnKX0pfSxyZXNldDpmdW5jdGlvbigpe2MuZWxlbWVudC5hdHRyKCJocmVmIixhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9TZWFyY2gpfX07YS5tb2JpbGUuYmFzZT1jfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLndpZGdldHM9e307dmFyIGM9YS53aWRnZXQsZD1hLm1vYmlsZS5rZWVwTmF0aXZlO2Eud2lkZ2V0PWZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9ZC5wcm90b3R5cGUud2lkZ2V0TmFtZTtyZXR1cm4gZC5pbml0U2VsZWN0b3I9ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yIT09Yj9kLnByb3RvdHlwZS5pbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9JyIrZSsiJykiLGEubW9iaWxlLndpZGdldHNbZV09ZCxkfX0oYS53aWRnZXQpLGEuZXh0ZW5kKGEud2lkZ2V0LGMpLGEubW9iaWxlLmRvY3VtZW50Lm9uKCJjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmVuaGFuY2VXaXRoaW4oKX0pLGEud2lkZ2V0KCJtb2JpbGUucGFnZSIse29wdGlvbnM6e3RoZW1lOiJhIixkb21DYWNoZTohMSxrZWVwTmF0aXZlRGVmYXVsdDphLm1vYmlsZS5rZWVwTmF0aXZlLGNvbnRlbnRUaGVtZTpudWxsLGVuaGFuY2VkOiExfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RyaWdnZXIoImluaXQiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKT09PSExPyExOih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse3BhZ2ViZWZvcmVoaWRlOiJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIixwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93In0pLHRoaXMuZWxlbWVudC5lbmhhbmNlV2l0aGluKCksdm9pZCgiZGlhbG9nIj09PWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sInJvbGUiKSYmYS5tb2JpbGUuZGlhbG9nJiZ0aGlzLmVsZW1lbnQuZGlhbG9nKCkpKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYz0iZGF0YS0iK2EubW9iaWxlLm5zLGQ9dGhpczt0aGlzLm9wdGlvbnMucm9sZSYmdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsdGhpcy5vcHRpb25zLnJvbGUpLHRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1wYWdlLXRoZW1lLSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLmVsZW1lbnQuZmluZCgiWyIrYysicm9sZT0nY29udGVudCddIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj10aGlzLmdldEF0dHJpYnV0ZShjKyJ0aGVtZSIpfHxiO2Qub3B0aW9ucy5jb250ZW50VGhlbWU9Znx8ZC5vcHRpb25zLmNvbnRlbnRUaGVtZXx8ZC5vcHRpb25zLmRpYWxvZyYmZC5vcHRpb25zLnRoZW1lfHwiZGlhbG9nIj09PWQuZWxlbWVudC5qcW1EYXRhKCJyb2xlIikmJmQub3B0aW9ucy50aGVtZSxlLmFkZENsYXNzKCJ1aS1jb250ZW50IiksZC5vcHRpb25zLmNvbnRlbnRUaGVtZSYmZS5hZGRDbGFzcygidWktYm9keS0iK2Qub3B0aW9ucy5jb250ZW50VGhlbWUpLGUuYXR0cigicm9sZSIsIm1haW4iKS5hZGRDbGFzcygidWktY29udGVudCIpfSl9LGJpbmRSZW1vdmU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50OyFjLmRhdGEoIm1vYmlsZS1wYWdlIikub3B0aW9ucy5kb21DYWNoZSYmYy5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmMuYmluZCgicGFnZWhpZGUucmVtb3ZlIixifHxmdW5jdGlvbihiLGMpe2lmKCFjLnNhbWVQYWdlKXt2YXIgZD1hKHRoaXMpLGU9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZC5yZW1vdmVXaXRoRGVwZW5kZW50cygpfX0pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLnRoZW1lIT09YiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1wYWdlLXRoZW1lLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktcGFnZS10aGVtZS0iK2MudGhlbWUpLGMuY29udGVudFRoZW1lIT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIltkYXRhLSIrYS5tb2JpbGUubnMrIj0nY29udGVudCddIikucmVtb3ZlQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMuY29udGVudFRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2MuY29udGVudFRoZW1lKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiOm1vYmlsZS1wYWdlY29udGFpbmVyIikucGFnZWNvbnRhaW5lcih7dGhlbWU6Im5vbmUifSl9LHNldENvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnBhcmVudCgpLnBhZ2Vjb250YWluZXIoe3RoZW1lOmF8fHRoaXMub3B0aW9ucy50aGVtZX0pfSxrZWVwTmF0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz1hLnRyaW0oYi5rZWVwTmF0aXZlfHwiIiksZT1hLnRyaW0oYS5tb2JpbGUua2VlcE5hdGl2ZSksZj1hLnRyaW0oYi5rZWVwTmF0aXZlRGVmYXVsdCksZz1kPT09ZT8iIjplLGg9IiI9PT1nP2Y6IiI7cmV0dXJuKGM/W2NdOltdKS5jb25jYXQoZz9bZ106W10pLmNvbmNhdChoP1toXTpbXSkuam9pbigiLCAiKX19KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnBhZ2Vjb250YWluZXIiLHtvcHRpb25zOnt0aGVtZToiYSJ9LGluaXRTZWxlY3RvcjohMSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIiksdGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMCx0aGlzLl9vbih0aGlzLndpbmRvdyx7bmF2aWdhdGU6Il9kaXNhYmxlUmVjb3JkU2Nyb2xsIixzY3JvbGxzdG9wOiJfZGVsYXllZFJlY29yZFNjcm9sbCJ9KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7bmF2aWdhdGU6Il9maWx0ZXJOYXZpZ2F0ZUV2ZW50cyJ9KSx0aGlzLl9vbih7cGFnZWNoYW5nZToiX2FmdGVyQ29udGVudENoYW5nZSJ9KSx0aGlzLndpbmRvdy5vbmUoIm5hdmlnYXRlIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sdGhpcykpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmIm5vbmUiIT09YS50aGVtZT90aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1vdmVybGF5LSIrYS50aGVtZSk6YS50aGVtZSE9PWQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5fc3VwZXIoYSl9LF9kaXNhYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMX0sX2VuYWJsZVJlY29yZFNjcm9sbDpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITB9LF9hZnRlckNvbnRlbnRDaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29mZih0aGlzLndpbmRvdywic2Nyb2xsc3RvcCIpLHRoaXMuX29uKHRoaXMud2luZG93LHtzY3JvbGxzdG9wOiJfZGVsYXllZFJlY29yZFNjcm9sbCJ9KX0sX3JlY29yZFNjcm9sbDpmdW5jdGlvbigpe2lmKHRoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQpe3ZhciBhLGIsYyxkPXRoaXMuX2dldEFjdGl2ZUhpc3RvcnkoKTtkJiYoYT10aGlzLl9nZXRTY3JvbGwoKSxiPXRoaXMuX2dldE1pblNjcm9sbCgpLGM9dGhpcy5fZ2V0RGVmYXVsdFNjcm9sbCgpLGQubGFzdFNjcm9sbD1iPmE/YzphKX19LF9kZWxheWVkUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7c2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9yZWNvcmRTY3JvbGwiKSwxMDApfSxfZ2V0U2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2luZG93LnNjcm9sbFRvcCgpfSxfZ2V0TWluU2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm1pblNjcm9sbEJhY2t9LF9nZXREZWZhdWx0U2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsfSxfZmlsdGVyTmF2aWdhdGVFdmVudHM6ZnVuY3Rpb24oYixjKXt2YXIgZDtiLm9yaWdpbmFsRXZlbnQmJmIub3JpZ2luYWxFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9Yi5vcmlnaW5hbEV2ZW50LnR5cGUuaW5kZXhPZigiaGFzaGNoYW5nZSIpPi0xP2Muc3RhdGUuaGFzaDpjLnN0YXRlLnVybCxkfHwoZD10aGlzLl9nZXRIYXNoKCkpLGQmJiIjIiE9PWQmJjAhPT1kLmluZGV4T2YoIiMiK2EubW9iaWxlLnBhdGgudWlTdGF0ZUtleSl8fChkPWxvY2F0aW9uLmhyZWYpLHRoaXMuX2hhbmRsZU5hdmlnYXRlKGQsYy5zdGF0ZSkpfSxfZ2V0SGFzaDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNofSxnZXRBY3RpdmVQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlUGFnZX0sX2dldEluaXRpYWxDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmZpcnN0UGFnZX0sX2dldEhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeX0sX2dldEFjdGl2ZUhpc3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0SGlzdG9yeSgpLmdldEFjdGl2ZSgpfSxfZ2V0RG9jdW1lbnRCYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5nbygtMSl9LGZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLmdvKDEpfSxnbzpmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCliLmhpc3RvcnkuZ28oYyk7ZWxzZXt2YXIgZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LGU9ZCtwYXJzZUludChjLDEwKSxmPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2tbZV0udXJsLGc9Yz49MT8iZm9yd2FyZCI6ImJhY2siO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuInN0cmluZyI9PT1hLnR5cGUoYikmJihiPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpKSxiJiYoYz10aGlzLl9nZXRIaXN0b3J5KCksYj1hLm1vYmlsZS5wYXRoLmlzUGF0aChiKT9iOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitiLHRoaXMuX2dldERvY3VtZW50QmFzZSgpKSksYnx8dGhpcy5fZ2V0SW5pdGlhbENvbnRlbnQoKX0sX29wdGlvbkZyb21IaXN0b3J5OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLl9nZXRIaXN0b3J5KCksZT0iYmFjayI9PT1hP2QuZ2V0TGFzdCgpOmQuZ2V0QWN0aXZlKCk7cmV0dXJuIGUmJmVbYl18fGN9LF9oYW5kbGVEaWFsb2c6ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY9dGhpcy5nZXRBY3RpdmVQYWdlKCk7cmV0dXJuIGYmJiFmLmRhdGEoIm1vYmlsZS1kaWFsb2ciKT8oImJhY2siPT09Yy5kaXJlY3Rpb24/dGhpcy5iYWNrKCk6dGhpcy5mb3J3YXJkKCksITEpOihkPWMucGFnZVVybCxlPXRoaXMuX2dldEFjdGl2ZUhpc3RvcnkoKSxhLmV4dGVuZChiLHtyb2xlOmUucm9sZSx0cmFuc2l0aW9uOnRoaXMuX29wdGlvbkZyb21IaXN0b3J5KGMuZGlyZWN0aW9uLCJ0cmFuc2l0aW9uIixiLnRyYW5zaXRpb24pLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259KSxkKX0sX2hhbmRsZU5hdmlnYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYiksZT10aGlzLl9nZXRIaXN0b3J5KCksZj0wPT09ZS5zdGFjay5sZW5ndGg/Im5vbmUiOnRoaXMuX29wdGlvbkZyb21IaXN0b3J5KGMuZGlyZWN0aW9uLCJ0cmFuc2l0aW9uIiksZz17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOiJiYWNrIj09PWMuZGlyZWN0aW9ufTthLmV4dGVuZChnLGMse3RyYW5zaXRpb246ZixhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjp0aGlzLl9vcHRpb25Gcm9tSGlzdG9yeShjLmRpcmVjdGlvbiwiYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24iKX0pLGUuYWN0aXZlSW5kZXg+MCYmZC5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiYoZD10aGlzLl9oYW5kbGVEaWFsb2coZyxjKSxkPT09ITEpfHx0aGlzLl9jaGFuZ2VDb250ZW50KHRoaXMuX2hhbmRsZURlc3RpbmF0aW9uKGQpLGcpfSxfY2hhbmdlQ29udGVudDpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmNoYW5nZVBhZ2UoYixjKX0sX2dldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYmFzZX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJzaG93IixjLGQsZSksdGhpcy5fbG9hZE1zZz0wfSx0aGlzKSxiKSl9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9sb2FkTXNnPTAsdGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJoaWRlIil9LF9zaG93RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlTG9hZGluZygpLHRoaXMuX3Nob3dMb2FkaW5nKDAsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9oaWRlTG9hZGluZyIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoIjxkaXY+PC9kaXY+Iik7cmV0dXJuIGUuZ2V0KDApLmlubmVySFRNTD1iLGQ9ZS5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxkLmxlbmd0aHx8KGQ9YSgiPGRpdiBkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT0ncGFnZSc+IisoYi5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksZC5hdHRyKCJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsIixhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoYykpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJleHRlcm5hbC1wYWdlIiwhMCksZH0sX3NldExvYWRlZFRpdGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDE7ZCYmIWIuanFtRGF0YSgidGl0bGUiKSYmKGQ9YSgiPGRpdj4iK2QrIjwvZGl2PiIpLnRleHQoKSxiLmpxbURhdGEoInRpdGxlIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoInBhZ2UiK2IpLGY9YS5FdmVudCh0aGlzLndpZGdldE5hbWUrYik7cmV0dXJuKGR8fHRoaXMuZWxlbWVudCkudHJpZ2dlcihlLGMpLHRoaXMuX3RyaWdnZXIoYixmLGMpLHtkZXByZWNhdGVkRXZlbnQ6ZSxldmVudDpmfX0sX2xvYWRTdWNjZXNzOmZ1bmN0aW9uKGIsYyxlLGYpe3ZhciBnPXRoaXMuX2NyZWF0ZUZpbGVVcmwoYiksaD10aGlzLl9jcmVhdGVEYXRhVXJsKGIpO3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGksaixrKXt2YXIgbCxtPW5ldyBSZWdFeHAoIig8W14+XStcXGJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KSIpLG49bmV3IFJlZ0V4cCgiXFxiZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7bS50ZXN0KGkpJiZSZWdFeHAuJDEmJm4udGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihnPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYSgiPGRpdj4iK1JlZ0V4cC4kMSsiPC9kaXY+IikudGV4dCgpKSksZS5wcmVmZXRjaD09PWQmJnRoaXMuX2dldEJhc2UoKS5zZXQoZyksbD10aGlzLl9wYXJzZShpLGcpLHRoaXMuX3NldExvYWRlZFRpdGxlKGwsaSksYy54aHI9ayxjLnRleHRTdGF0dXM9aixjLnBhZ2U9bCxjLmNvbnRlbnQ9bCxjLnRvUGFnZT1sLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgibG9hZCIsYykuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0aGlzLl9pc1Jld3JpdGFibGVCYXNlVGFnKCkmJmwmJnRoaXMuX2dldEJhc2UoKS5yZXdyaXRlKGcsbCksdGhpcy5faW5jbHVkZShsLGUpLGIuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihsPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiW2RhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9JyIraCsiJ10iKSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSxmLnJlc29sdmUoYixlLGwpKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscmVsb2FkOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMSxsb2FkTXNnRGVsYXk6NTB9LGxvYWQ6ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGcsaCxpPWMmJmMuZGVmZXJyZWR8fGEuRGVmZXJyZWQoKSxqPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjKSxrPW51bGwsbD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk7cmV0dXJuIGoucmVsb2FkPWoucmVsb2FkUGFnZSxqLmRhdGEmJiJnZXQiPT09ai50eXBlJiYobD1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhsLGouZGF0YSksai5kYXRhPWQpLGouZGF0YSYmInBvc3QiPT09ai50eXBlJiYoai5yZWxvYWQ9ITApLGU9dGhpcy5fY3JlYXRlRmlsZVVybChsKSxmPXRoaXMuX2NyZWF0ZURhdGFVcmwobCksaz10aGlzLl9maW5kKGwpLDA9PT1rLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShlKSYmIWEubW9iaWxlLnBhdGguaXNGaXJzdFBhZ2VVcmwoZSk/KGkucmVqZWN0KGwsaiksaS5wcm9taXNlKCkpOih0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxrLmxlbmd0aCYmIWoucmVsb2FkPyh0aGlzLl9lbmhhbmNlKGssai5yb2xlKSxpLnJlc29sdmUobCxqLGspLGoucHJlZmV0Y2h8fHRoaXMuX2dldEJhc2UoKS5zZXQoYiksaS5wcm9taXNlKCkpOihoPXt1cmw6YixhYnNVcmw6bCx0b1BhZ2U6YixwcmV2UGFnZTpjP2MuZnJvbVBhZ2U6ZCxkYXRhVXJsOmYsZGVmZXJyZWQ6aSxvcHRpb25zOmp9LGc9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVsb2FkIixoKSxnLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zy5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT9pLnByb21pc2UoKTooai5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0xvYWRpbmcoai5sb2FkTXNnRGVsYXkpLGoucHJlZmV0Y2g9PT1kJiZ0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXN8fGEubW9iaWxlLnBhdGguaXNTYW1lRG9tYWluKGEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsbCk/KGEuYWpheCh7dXJsOmUsdHlwZTpqLnR5cGUsZGF0YTpqLmRhdGEsY29udGVudFR5cGU6ai5jb250ZW50VHlwZSxkYXRhVHlwZToiaHRtbCIsc3VjY2Vzczp0aGlzLl9sb2FkU3VjY2VzcyhsLGgsaixpKSxlcnJvcjp0aGlzLl9sb2FkRXJyb3IobCxoLGosaSl9KSxpLnByb21pc2UoKSk6KGkucmVqZWN0KGwsaiksaS5wcm9taXNlKCkpKSkpfSxfbG9hZEVycm9yOmZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGYsZyxoKXt0aGlzLl9nZXRCYXNlKCkuc2V0KGEubW9iaWxlLnBhdGguZ2V0KCkpLGMueGhyPWYsYy50ZXh0U3RhdHVzPWcsYy5lcnJvclRocm93bj1oO3ZhciBpPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgibG9hZGZhaWxlZCIsYyk7aS5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGkuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkLnNob3dMb2FkTXNnJiZ0aGlzLl9zaG93RXJyb3IoKSxlLnJlamVjdChiLGQpKX0sdGhpcyl9LF9nZXRUcmFuc2l0aW9uSGFuZGxlcjpmdW5jdGlvbihiKXtyZXR1cm4gYj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihiKSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbYl18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcn0sX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT0hMTtkPWR8fCIiLGMmJihiWzBdPT09Y1swXSYmKGU9ITApLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkKyJoaWRlIix7bmV4dFBhZ2U6Yix0b1BhZ2U6YixwcmV2UGFnZTpjLHNhbWVQYWdlOmV9LGMpKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCsic2hvdyIse3ByZXZQYWdlOmN8fGEoIiIpLHRvUGFnZTpifSxiKX0sX2Nzc1RyYW5zaXRpb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz1kLnRyYW5zaXRpb24saD1kLnJldmVyc2UsaT1kLmRlZmVycmVkO3RoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKGIsYywiYmVmb3JlIiksdGhpcy5faGlkZUxvYWRpbmcoKSxlPXRoaXMuX2dldFRyYW5zaXRpb25IYW5kbGVyKGcpLGY9bmV3IGUoZyxoLGIsYykudHJhbnNpdGlvbigpLGYuZG9uZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjKX0sdGhpcykpLGYuZG9uZShmdW5jdGlvbigpe2kucmVzb2x2ZS5hcHBseShpLGFyZ3VtZW50cyl9KX0sX3JlbGVhc2VUcmFuc2l0aW9uTG9jazpmdW5jdGlvbigpe2Y9ITEsZS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLGUucG9wKCkpfSxfcmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyhiKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe2Y9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZWZhaWxlZCIsYyl9LHRoaXMpKX0sX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gYy5wcmV2UGFnZT10aGlzLmFjdGl2ZVBhZ2UsYS5leHRlbmQoYyx7dG9QYWdlOmIsb3B0aW9uczpkfSksYy5hYnNVcmw9InN0cmluZyI9PT1hLnR5cGUoYik/YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLl9maW5kQmFzZVdpdGhEZWZhdWx0KCkpOmQuYWJzVXJsLGU9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVjaGFuZ2UiLGMpLGUuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGUuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihmKXJldHVybiB2b2lkIGUudW5zaGlmdChhcmd1bWVudHMpO3ZhciBkPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsYyksZz17fTtkLmZyb21QYWdlPWQuZnJvbVBhZ2V8fHRoaXMuYWN0aXZlUGFnZSx0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsZCkmJihiPWcudG9QYWdlLCJzdHJpbmciPT09YS50eXBlKGIpPyhmPSEwLHRoaXMuX2xvYWRVcmwoYixnLGQpKTp0aGlzLnRyYW5zaXRpb24oYixnLGQpKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihiLGcsaCl7dmFyIGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdjtpZihmKXJldHVybiB2b2lkIGUudW5zaGlmdChbYixoXSk7aWYodGhpcy5fdHJpZ2dlclBhZ2VCZWZvcmVDaGFuZ2UoYixnLGgpJiYoZy5wcmV2UGFnZT1oLmZyb21QYWdlLHY9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmV0cmFuc2l0aW9uIixnKSwhdi5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkmJiF2LmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSl7aWYoZj0hMCxiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdfHxoLmRhdGFVcmx8fChoLmRhdGFVcmw9YS5tb2JpbGUucGF0aC5kb2N1bWVudFVybC5ocmVmTm9IYXNoKSxpPWguZnJvbVBhZ2Usaj1oLmRhdGFVcmwmJmEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChoLmRhdGFVcmwpfHxiLmpxbURhdGEoInVybCIpLGs9aixsPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoaiksbT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLG49MD09PWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsbz0wLHA9Yy50aXRsZSxxPSgiZGlhbG9nIj09PWgucm9sZXx8ImRpYWxvZyI9PT1iLmpxbURhdGEoInJvbGUiKSkmJmIuanFtRGF0YSgiZGlhbG9nIikhPT0hMCxpJiZpWzBdPT09YlswXSYmIWguYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pcmV0dXJuIGY9ITEsdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJ0cmFuc2l0aW9uIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZSIsZyksdm9pZChoLmZyb21IYXNoQ2hhbmdlJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmRpcmVjdCh7dXJsOmp9KSk7Yi5wYWdlKHtyb2xlOmgucm9sZX0pLGguZnJvbUhhc2hDaGFuZ2UmJihvPSJiYWNrIj09PWguZGlyZWN0aW9uPy0xOjEpO3RyeXtjLmFjdGl2ZUVsZW1lbnQmJiJib2R5IiE9PWMuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2EoYy5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2godyl7fXI9ITEscSYmbSYmKG0udXJsJiZtLnVybC5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZ0aGlzLmFjdGl2ZVBhZ2UmJiF0aGlzLmFjdGl2ZVBhZ2UuaGFzQ2xhc3MoInVpLWRpYWxvZyIpJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4PjAmJihoLmNoYW5nZUhhc2g9ITEscj0hMCksaj1tLnVybHx8IiIsais9IXImJmouaW5kZXhPZigiIyIpPi0xP2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk6IiMiK2EubW9iaWxlLmRpYWxvZ0hhc2hLZXkpLHM9bT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnAscyYmcD09PWMudGl0bGUmJihwPXMpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHQ9e2FsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOmguYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24sdHJhbnNpdGlvbjpoLnRyYW5zaXRpb24sdGl0bGU6cCxwYWdlVXJsOmsscm9sZTpoLnJvbGV9LGguY2hhbmdlSGFzaCE9PSExJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9hLm1vYmlsZS5uYXZpZ2F0ZShqLHQsITApOmJbMF0hPT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGosdCkpLGMudGl0bGU9cCxhLm1vYmlsZS5hY3RpdmVQYWdlPWIsdGhpcy5hY3RpdmVQYWdlPWIsaC5yZXZlcnNlPWgucmV2ZXJzZXx8MD5vLHU9YS5EZWZlcnJlZCgpLHRoaXMuX2Nzc1RyYW5zaXRpb24oYixpLHt0cmFuc2l0aW9uOmgudHJhbnNpdGlvbixyZXZlcnNlOmgucmV2ZXJzZSxkZWZlcnJlZDp1fSksdS5kb25lKGEucHJveHkoZnVuY3Rpb24oYyxkLGUsZixpKXthLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoKSxoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmguZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxpfHxhLm1vYmlsZS5mb2N1c1BhZ2UoYiksdGhpcy5fcmVsZWFzZVRyYW5zaXRpb25Mb2NrKCksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJ0cmFuc2l0aW9uIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZSIsZyl9LHRoaXMpKX19LF9maW5kQmFzZVdpdGhEZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5hY3RpdmVQYWdlJiZhLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybCh0aGlzLmFjdGl2ZVBhZ2UpO3JldHVybiBifHxhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNofX0pLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQ9YS5EZWZlcnJlZCgpO3ZhciBlPVtdLGY9ITF9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXtmb3IoO2EmJigic3RyaW5nIiE9dHlwZW9mIGEubm9kZU5hbWV8fCJhIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfXZhciBmPWEuRGVmZXJyZWQoKSxnPWEuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKCl7Zy5yZXNvbHZlKCksZz1udWxsfSxpPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsaj1udWxsO2EubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsYyl7dmFyIGQ7cmV0dXJuIGM9Y3x8e30sZD1jLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsYy5kZWZlcnJlZD1hLkRlZmVycmVkKCksZC5wYWdlY29udGFpbmVyKCJsb2FkIixiLGMpLGMuZGVmZXJyZWQucHJvbWlzZSgpfSxhLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGM9Yi5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZjJiZjLmFwcCYmYy5hcHAuYmFja0hpc3Rvcnk/Yy5hcHAuYmFja0hpc3RvcnkoKTphLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImJhY2siKX0sYS5tb2JpbGUuZm9jdXNQYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZmluZCgiW2F1dG9mb2N1c10iKSxjPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIik7cmV0dXJuIGIubGVuZ3RoP3ZvaWQgYi5mb2N1cygpOnZvaWQoYy5sZW5ndGg/Yy5mb2N1cygpOmEuZm9jdXMoKSl9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9ufHxmdW5jdGlvbihhKXtyZXR1cm4gYX0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGMpe2EubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigiY2hhbmdlIixiLGMpfSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLGZyb21IYXNoQ2hhbmdlOiExLHJvbGU6ZCxkdXBsaWNhdGVDYWNoZWRQYWdlOmQscGFnZUNvbnRhaW5lcjpkLHNob3dMb2FkTXNnOiEwLGRhdGFVcmw6ZCxmcm9tUGFnZTpkLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiExfSxhLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe3ZhciBjPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD0hMDtyZXR1cm4hYS5tb2JpbGUuYWpheEVuYWJsZWR8fGIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aHx8Yi5hdHRyKCJ0YXJnZXQiKT8hMTooZD1qJiZqLmF0dHIoImZvcm1hY3Rpb24iKXx8Yi5hdHRyKCJhY3Rpb24iKSxnPShiLmF0dHIoIm1ldGhvZCIpfHwiZ2V0IikudG9Mb3dlckNhc2UoKSxkfHwoZD1hLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChiKSwiZ2V0Ij09PWcmJihkPWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZCkuaHJlZk5vU2VhcmNoKSxkPT09YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCYmKGQ9aS5ocmVmTm9TZWFyY2gpKSxkPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGQsYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYikpLGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChkKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoaSxkKT8hMTooY3x8KGU9Yi5zZXJpYWxpemVBcnJheSgpLGomJmpbMF0uZm9ybT09PWJbMF0mJihmPWouYXR0cigibmFtZSIpLGYmJihhLmVhY2goZSxmdW5jdGlvbihhLGIpe3JldHVybiBiLm5hbWU9PT1mPyhmPSIiLCExKTp2b2lkIDB9KSxmJiZlLnB1c2goe25hbWU6Zix2YWx1ZTpqLmF0dHIoInZhbHVlIil9KSkpLGg9e3VybDpkLG9wdGlvbnM6e3R5cGU6ZyxkYXRhOmEucGFyYW0oZSksdHJhbnNpdGlvbjpiLmpxbURhdGEoInRyYW5zaXRpb24iKSxyZXZlcnNlOiJyZXZlcnNlIj09PWIuanFtRGF0YSgiZGlyZWN0aW9uIikscmVsb2FkUGFnZTohMH19KSxoKSl9O2EubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJmb3JtIiwic3VibWl0IixmdW5jdGlvbihiKXt2YXIgZDtiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1jKGEodGhpcykpLGQmJihhLm1vYmlsZS5jaGFuZ2VQYWdlKGQudXJsLGQub3B0aW9ucyksYi5wcmV2ZW50RGVmYXVsdCgpKSl9KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBkLGYsZz1iLnRhcmdldCxoPSExO2lmKCEoYi53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXtpZihqPWEoZyksYS5kYXRhKGcsIm1vYmlsZS1idXR0b24iKSl7aWYoIWMoYShnKS5jbG9zZXN0KCJmb3JtIiksITApKXJldHVybjtnLnBhcmVudE5vZGUmJihnPWcucGFyZW50Tm9kZSl9ZWxzZXtpZihnPWUoZyksIWd8fCIjIj09PWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoKXJldHVybjtpZighYShnKS5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybn1+Zy5jbGFzc05hbWUuaW5kZXhPZigidWktbGluay1pbmhlcml0Iik/Zy5wYXJlbnROb2RlJiYoZj1hLmRhdGEoZy5wYXJlbnROb2RlLCJidXR0b25FbGVtZW50cyIpKTpmPWEuZGF0YShnLCJidXR0b25FbGVtZW50cyIpLGY/Zz1mLm91dGVyOmg9ITAsZD1hKGcpLGgmJihkPWQuY2xvc2VzdCgiLnVpLWJ0biIpKSxkLmxlbmd0aD4wJiYhZC5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSYmKGEubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCksYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbms9ZCxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZixnLGgsaixrLGwsbSxuPWUoYy50YXJnZXQpLG89YShuKSxwPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKX0sMjAwKX07aWYoYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsmJmEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rWzBdPT09Yy50YXJnZXQucGFyZW50Tm9kZSYmcCgpLG4mJiEoYy53aGljaD4xKSYmby5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihvLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiBhLm1vYmlsZS5iYWNrKCksITE7aWYoZj1hLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChvKSxnPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKG8uYXR0cigiaHJlZiIpfHwiIyIsZiksIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShnKSlyZXR1cm4gdm9pZCBwKCk7aWYoISgtMT09PWcuc2VhcmNoKCIjIil8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChnKSYmYS5tb2JpbGUucGF0aC5pc0Fic29sdXRlVXJsKGcpKSl7aWYoZz1nLnJlcGxhY2UoL1teI10qIy8sIiIpLCFnKXJldHVybiB2b2lkIGMucHJldmVudERlZmF1bHQoKTtnPWEubW9iaWxlLnBhdGguaXNQYXRoKGcpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGcsZik6YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2csaS5ocmVmTm9IYXNoKX1pZihoPW8uaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8by5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxvLmlzKCJbdGFyZ2V0XSIpLGo9aHx8YS5tb2JpbGUucGF0aC5pc0V4dGVybmFsKGcpJiYhYS5tb2JpbGUucGF0aC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdChpLGcpKXJldHVybiB2b2lkIHAoKTtrPW8uanFtRGF0YSgidHJhbnNpdGlvbiIpLGw9InJldmVyc2UiPT09by5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8by5qcW1EYXRhKCJiYWNrIiksbT1vLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQsYS5tb2JpbGUuY2hhbmdlUGFnZShnLHt0cmFuc2l0aW9uOmsscmV2ZXJzZTpsLHJvbGU6bSxsaW5rOm99KSxjLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGZ1bmN0aW9uKCl7Zz9nLmRvbmUoYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KTphLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKX0pLGEubW9iaWxlLndpbmRvdy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtmLnJlc29sdmUoKX0pLCJjb21wbGV0ZSI9PT1jLnJlYWR5U3RhdGU/aCgpOmEubW9iaWxlLndpbmRvdy5sb2FkKGgpLGEud2hlbihmLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUuVHJhbnNpdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXh0ZW5kKGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHt0b1ByZUNsYXNzOiIgdWktcGFnZS1wcmUtaW4iLGluaXQ6ZnVuY3Rpb24oYixjLGQsZSl7YS5leHRlbmQodGhpcyx7bmFtZTpiLHJldmVyc2U6YywkdG86ZCwkZnJvbTplLGRlZmVycmVkOm5ldyBhLkRlZmVycmVkfSl9LGNsZWFuRnJvbTpmdW5jdGlvbigpe3RoaXMuJGZyb20ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIil9LGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe30sYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe30sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oKXt9LGRvbmVJbjpmdW5jdGlvbigpe3RoaXMuYmVmb3JlRG9uZUluKCksdGhpcy4kdG8ucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrdGhpcy5uYW1lKS5oZWlnaHQoIiIpLHRoaXMudG9nZ2xlVmlld3BvcnRDbGFzcygpLGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PXRoaXMudG9TY3JvbGwmJnRoaXMuc2Nyb2xsUGFnZSgpLHRoaXMuc2VxdWVudGlhbHx8dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSx0aGlzLmRlZmVycmVkLnJlc29sdmUodGhpcy5uYW1lLHRoaXMucmV2ZXJzZSx0aGlzLiR0byx0aGlzLiRmcm9tLCEwKX0sZG9uZU91dDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmJlZm9yZURvbmVPdXQoKSx0aGlzLnN0YXJ0SW4oYSxiLGMsZCl9LGhpZGVJbjpmdW5jdGlvbihhKXt0aGlzLiR0by5jc3MoInotaW5kZXgiLC0xMCksYS5jYWxsKHRoaXMpLHRoaXMuJHRvLmNzcygiei1pbmRleCIsIiIpCn0sc2Nyb2xsUGFnZTpmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLChhLm1vYmlsZS5oaWRlVXJsQmFyfHx0aGlzLnRvU2Nyb2xsIT09YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpJiZiLnNjcm9sbFRvKDAsdGhpcy50b1Njcm9sbCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxzdGFydEluOmZ1bmN0aW9uKGIsYyxkLGUpe3RoaXMuaGlkZUluKGZ1bmN0aW9uKCl7dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK3RoaXMudG9QcmVDbGFzcyksZXx8YS5tb2JpbGUuZm9jdXNQYWdlKHRoaXMuJHRvKSx0aGlzLiR0by5oZWlnaHQoYit0aGlzLnRvU2Nyb2xsKSxkfHx0aGlzLnNjcm9sbFBhZ2UoKX0pLHRoaXMuJHRvLnJlbW92ZUNsYXNzKHRoaXMudG9QcmVDbGFzcykuYWRkQ2xhc3ModGhpcy5uYW1lKyIgaW4gIitjKSxkP3RoaXMuZG9uZUluKCk6dGhpcy4kdG8uYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZG9uZUluKCl9LHRoaXMpKX0sc3RhcnRPdXQ6ZnVuY3Rpb24oYixjLGQpe3RoaXMuYmVmb3JlU3RhcnRPdXQoYixjLGQpLHRoaXMuJGZyb20uaGVpZ2h0KGIrYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpKS5hZGRDbGFzcyh0aGlzLm5hbWUrIiBvdXQiK2MpfSx0b2dnbGVWaWV3cG9ydENsYXNzOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIit0aGlzLm5hbWUpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLnJldmVyc2U/IiByZXZlcnNlIjoiIixkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGU9YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoIT09ITEmJmEubW9iaWxlLndpbmRvdy53aWR0aCgpPmEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aDtyZXR1cm4gdGhpcy50b1Njcm9sbD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLmxhc3RTY3JvbGx8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGI9IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8IWEuc3VwcG9ydC5jc3NBbmltYXRpb25zfHxlfHwhdGhpcy5uYW1lfHwibm9uZSI9PT10aGlzLm5hbWV8fE1hdGgubWF4KGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLnRvU2Nyb2xsKT5hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksdGhpcy4kZnJvbSYmIWI/dGhpcy5zdGFydE91dChkLGMsYik6dGhpcy5kb25lT3V0KGQsYyxiLCEwKSx0aGlzLmRlZmVycmVkLnByb21pc2UoKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITAsYmVmb3JlRG9uZU91dDpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLiRmcm9tLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVPdXQoYixjLGQpfSx0aGlzKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb24ucHJvdG90eXBlLGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHtzZXF1ZW50aWFsOiExLGJlZm9yZURvbmVJbjpmdW5jdGlvbigpe3RoaXMuJGZyb20mJnRoaXMuY2xlYW5Gcm9tKCl9LGJlZm9yZVN0YXJ0T3V0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmRvbmVPdXQoYSxiLGMpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe3JldHVybiAzKmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e3NlcXVlbnRpYWw6YS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbixzaW11bHRhbmVvdXM6YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb259LGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2VxdWVudGlhbCxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGJ9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93PSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zaW11bHRhbmVvdXMsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MudHVybj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9YS5tb2JpbGUuZGVncmFkZUlucHV0cyxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluPWZ1bmN0aW9uKGIpe2I9YShiKSxiLmZpbmQoImlucHV0Iikubm90KGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZj1hKHRoaXMpLGc9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxoPWEubW9iaWxlLmRlZ3JhZGVJbnB1dHNbZ118fCJ0ZXh0IjthLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddJiYoYj1hKCI8ZGl2PiIpLmh0bWwoZi5jbG9uZSgpKS5odG1sKCksYz1iLmluZGV4T2YoIiB0eXBlPSIpPi0xLGQ9Yz8vXHMrdHlwZT1bIiddP1x3K1snIl0/LzovXC8/Pi8sZT0nIHR5cGU9IicraCsnIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9IicrZysnIicrKGM/IiI6Ij4iKSxmLnJlcGxhY2VXaXRoKGIucmVwbGFjZShkLGUpKSl9KX19KGEpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLnBhZ2UiLGEubW9iaWxlLnBhZ2Use29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITAsZGlhbG9nOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuZGlhbG9nJiYoYS5leHRlbmQodGhpcyx7X2lubmVyOnRoaXMuZWxlbWVudC5jaGlsZHJlbigpLF9oZWFkZXJDbG9zZUJ1dHRvbjpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5kaWFsb2cmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyh0aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiKX0pKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmdGhpcy5vcHRpb25zLmRpYWxvZz8odGhpcy5yZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kKCksdGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpKTp0aGlzLl9zdXBlcigpfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMuX2hlYWRlckNsb3NlQnV0dG9uO2I9ImxlZnQiPT09Yj8ibGVmdCI6InJpZ2h0Ij09PWI/InJpZ2h0Ijoibm9uZSIsIm5vbmUiPT09Yj9lJiYoZS5yZW1vdmUoKSxlPW51bGwpOmU/KGUucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tIitiKSxjJiZlLnRleHQoYykpOihkPXRoaXMuX2lubmVyLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmlyc3QoKSxlPWEoIjxhPjwvYT4iLHtocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIiwiYmFjayIpLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSksdGhpcy5faGVhZGVyQ2xvc2VCdXR0b249ZX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMX0sX2hhbmRsZVZDbGlja1N1Ym1pdDpmdW5jdGlvbihiKXt2YXIgYyxkPWEoYi50YXJnZXQpLmNsb3Nlc3QoInZjbGljayI9PT1iLnR5cGU/ImEiOiJmb3JtIik7ZC5sZW5ndGgmJiFkLmpxbURhdGEoInRyYW5zaXRpb24iKSYmKGM9e30sY1siZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIl09KGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9KS50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbixjWyJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiJdPSJyZXZlcnNlIixkLmF0dHIoYykpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2IuYWRkQ2xhc3MoInVpLWRpYWxvZyIpLndyYXBJbm5lcihhKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IisoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpfSkpLGEuZXh0ZW5kKHRoaXMse19pc0Nsb3NlYWJsZTohMSxfaW5uZXI6Yi5jaGlsZHJlbigpLF9oZWFkZXJDbG9zZUJ1dHRvbjpudWxsfSksdGhpcy5fb24oYix7dmNsaWNrOiJfaGFuZGxlVkNsaWNrU3VibWl0IixzdWJtaXQ6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHBhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSksdGhpcy5fc2V0Q2xvc2VCdG4oYy5jbG9zZUJ0bil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGUsZj10aGlzLm9wdGlvbnM7Yi5jb3JuZXJzIT09YyYmdGhpcy5faW5uZXIudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLCEhYi5jb3JuZXJzKSxiLm92ZXJsYXlUaGVtZSE9PWMmJmEubW9iaWxlLmFjdGl2ZVBhZ2VbMF09PT10aGlzLmVsZW1lbnRbMF0mJihmLm92ZXJsYXlUaGVtZT1iLm92ZXJsYXlUaGVtZSx0aGlzLl9oYW5kbGVQYWdlQmVmb3JlU2hvdygpKSxiLmNsb3NlQnRuVGV4dCE9PWMmJihkPWYuY2xvc2VCdG4sZT1iLmNsb3NlQnRuVGV4dCksYi5jbG9zZUJ0biE9PWMmJihkPWIuY2xvc2VCdG4pLGQmJnRoaXMuX3NldENsb3NlQnRuKGQsZSksdGhpcy5fc3VwZXIoYil9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiPT09Yj8icmlnaHQiOiJub25lIiwibm9uZSI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi0iK2IpLGMmJmUudGV4dChjKSk6KGQ9dGhpcy5faW5uZXIuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maXJzdCgpLGU9YSgiPGE+PC9hPiIse3JvbGU6ImJ1dHRvbiIsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi0iK2J9KS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fCIiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6ImNsb3NlIn0pKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmYi5hY3RpdmVJbmRleD4wP2EubW9iaWxlLmJhY2soKTphLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImJhY2siKSl9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0vKFtBLVpdKS9nLGQ9ZnVuY3Rpb24oYSl7cmV0dXJuInVpLWJ0bi1pY29uLSIrKG51bGw9PT1hPyJsZWZ0IjphKX07YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIse29wdGlvbnM6e2VuaGFuY2VkOiExLGV4cGFuZEN1ZVRleHQ6bnVsbCxjb2xsYXBzZUN1ZVRleHQ6bnVsbCxjb2xsYXBzZWQ6ITAsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIixjb2xsYXBzZWRJY29uOm51bGwsZXhwYW5kZWRJY29uOm51bGwsaWNvbnBvczpudWxsLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6bnVsbCxjb3JuZXJzOm51bGwsbWluaTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9e2FjY29yZGlvbjpiLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpLDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlc2V0JykiKyhhLm1vYmlsZS5jb2xsYXBzaWJsZXNldD8iLCA6bW9iaWxlLWNvbGxhcHNpYmxlc2V0IjoiIikpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKX07dGhpcy5fdWk9Yyx0aGlzLl9yZW5kZXJlZE9wdGlvbnM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8oYy5oZWFkaW5nPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKSxjLmNvbnRlbnQ9Yy5oZWFkaW5nLm5leHQoKSxjLmFuY2hvcj1jLmhlYWRpbmcuY2hpbGRyZW4oKSxjLnN0YXR1cz1jLmFuY2hvci5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikpOnRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9vbihjLmhlYWRpbmcse3RhcDpmdW5jdGlvbigpe2MuaGVhZGluZy5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LGNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCFjLmhlYWRpbmcuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikpLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfX0pfSxfZ2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlPXRoaXMuX3VpLmFjY29yZGlvbixmPXRoaXMuX3VpLmFjY29yZGlvbldpZGdldDtiPWEuZXh0ZW5kKHt9LGIpLGUubGVuZ3RoJiYhZiYmKHRoaXMuX3VpLmFjY29yZGlvbldpZGdldD1mPWUuZGF0YSgibW9iaWxlLWNvbGxhcHNpYmxlc2V0IikpO2ZvcihkIGluIGIpYltkXT1udWxsIT1iW2RdP2JbZF06Zj9mLm9wdGlvbnNbZF06ZS5sZW5ndGg/YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGVbMF0sZC5yZXBsYWNlKGMsIi0kMSIpLnRvTG93ZXJDYXNlKCkpOm51bGwsbnVsbD09YltkXSYmKGJbZF09YS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHNbZF0pO3JldHVybiBifSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjoiIn0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZSxmPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxnPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZi5jb250ZW50VGhlbWUpO3JldHVybiBiLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSAiKyhmLmluc2V0PyJ1aS1jb2xsYXBzaWJsZS1pbnNldCAiOiIiKSsoZi5pbnNldCYmZi5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKyhnPyJ1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCAiOiIiKSksYy5vcmlnaW5hbEhlYWRpbmc9Yi5jaGlsZHJlbih0aGlzLm9wdGlvbnMuaGVhZGluZykuZmlyc3QoKSxjLmNvbnRlbnQ9Yi53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQgIitnKyInPjwvZGl2PiIpLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGMuaGVhZGluZz1jLm9yaWdpbmFsSGVhZGluZyxjLmhlYWRpbmcuaXMoImxlZ2VuZCIpJiYoYy5oZWFkaW5nPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitjLmhlYWRpbmcuaHRtbCgpKyI8L2Rpdj4iKSxjLnBsYWNlaG9sZGVyPWEoIjxkaXY+PCEtLSBwbGFjZWhvbGRlciBmb3IgbGVnZW5kIC0tPjwvZGl2PiIpLmluc2VydEJlZm9yZShjLm9yaWdpbmFsSGVhZGluZyksYy5vcmlnaW5hbEhlYWRpbmcucmVtb3ZlKCkpLGU9Zi5jb2xsYXBzZWQ/Zi5jb2xsYXBzZWRJY29uPyJ1aS1pY29uLSIrZi5jb2xsYXBzZWRJY29uOiIiOmYuZXhwYW5kZWRJY29uPyJ1aS1pY29uLSIrZi5leHBhbmRlZEljb246IiIsYy5zdGF0dXM9YSgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+IiksYy5hbmNob3I9Yy5oZWFkaW5nLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKGMuc3RhdHVzKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKCJ1aS1idG4gIisoZT9lKyIgIjoiIikrKGU/ZChmLmljb25wb3MpKyIgIjoiIikrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGYudGhlbWUpKyIgIisoZi5taW5pPyJ1aS1taW5pICI6IiIpKSxjLmhlYWRpbmcuaW5zZXJ0QmVmb3JlKGMuY29udGVudCksdGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UodGhpcy5vcHRpb25zLmNvbGxhcHNlZCksY30scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2FwcGx5T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9hcHBseU9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZSxmLGcsaCxpPXRoaXMuZWxlbWVudCxqPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxrPXRoaXMuX3VpLGw9ay5hbmNob3IsbT1rLnN0YXR1cyxuPXRoaXMuX2dldE9wdGlvbnMoYSk7YS5jb2xsYXBzZWQhPT1iJiZ0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZShhLmNvbGxhcHNlZCksYz1pLmhhc0NsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiKSxjP24uZXhwYW5kQ3VlVGV4dCE9PWImJm0udGV4dChuLmV4cGFuZEN1ZVRleHQpOm4uY29sbGFwc2VDdWVUZXh0IT09YiYmbS50ZXh0KG4uY29sbGFwc2VDdWVUZXh0KSxoPW4uY29sbGFwc2VkSWNvbiE9PWI/bi5jb2xsYXBzZWRJY29uIT09ITE6ai5jb2xsYXBzZWRJY29uIT09ITEsKG4uaWNvbnBvcyE9PWJ8fG4uY29sbGFwc2VkSWNvbiE9PWJ8fG4uZXhwYW5kZWRJY29uIT09YikmJihsLnJlbW92ZUNsYXNzKFtkKGouaWNvbnBvcyldLmNvbmNhdChqLmV4cGFuZGVkSWNvbj9bInVpLWljb24tIitqLmV4cGFuZGVkSWNvbl06W10pLmNvbmNhdChqLmNvbGxhcHNlZEljb24/WyJ1aS1pY29uLSIrai5jb2xsYXBzZWRJY29uXTpbXSkuam9pbigiICIpKSxoJiZsLmFkZENsYXNzKFtkKG4uaWNvbnBvcyE9PWI/bi5pY29ucG9zOmouaWNvbnBvcyldLmNvbmNhdChjP1sidWktaWNvbi0iKyhuLmNvbGxhcHNlZEljb24hPT1iP24uY29sbGFwc2VkSWNvbjpqLmNvbGxhcHNlZEljb24pXTpbInVpLWljb24tIisobi5leHBhbmRlZEljb24hPT1iP24uZXhwYW5kZWRJY29uOmouZXhwYW5kZWRJY29uKV0pLmpvaW4oIiAiKSkpLG4udGhlbWUhPT1iJiYoZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsai50aGVtZSksZT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsbi50aGVtZSksbC5yZW1vdmVDbGFzcyhmKS5hZGRDbGFzcyhlKSksbi5jb250ZW50VGhlbWUhPT1iJiYoZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGouY29udGVudFRoZW1lKSxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsbi5jb250ZW50VGhlbWUpLGsuY29udGVudC5yZW1vdmVDbGFzcyhmKS5hZGRDbGFzcyhlKSksbi5pbnNldCE9PWImJihpLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1pbnNldCIsbi5pbnNldCksZz0hKCFuLmluc2V0fHwhbi5jb3JuZXJzJiYhai5jb3JuZXJzKSksbi5jb3JuZXJzIT09YiYmKGc9ISghbi5jb3JuZXJzfHwhbi5pbnNldCYmIWouaW5zZXQpKSxnIT09YiYmaS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZyksbi5taW5pIT09YiYmbC50b2dnbGVDbGFzcygidWktbWluaSIsbi5taW5pKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlPcHRpb25zKGEpLHRoaXMuX3N1cGVyKGEpLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9oYW5kbGVFeHBhbmRDb2xsYXBzZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl9yZW5kZXJlZE9wdGlvbnMsZD10aGlzLl91aTtkLnN0YXR1cy50ZXh0KGI/Yy5leHBhbmRDdWVUZXh0OmMuY29sbGFwc2VDdWVUZXh0KSxkLmhlYWRpbmcudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixiKS5maW5kKCJhIikuZmlyc3QoKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2MuZXhwYW5kZWRJY29uLCFiKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2MuY29sbGFwc2VkSWNvbixifHxjLmV4cGFuZGVkSWNvbj09PWMuY29sbGFwc2VkSWNvbikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixiKSxkLmNvbnRlbnQudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixiKS5hdHRyKCJhcmlhLWhpZGRlbiIsYikudHJpZ2dlcigidXBkYXRlbGF5b3V0IiksdGhpcy5vcHRpb25zLmNvbGxhcHNlZD1iLHRoaXMuX3RyaWdnZXIoYj8iY29sbGFwc2UiOiJleHBhbmQiKX0sZXhwYW5kOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoITEpfSxjb2xsYXBzZTpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCEwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aSxiPXRoaXMub3B0aW9ucztiLmVuaGFuY2VkfHwoYS5wbGFjZWhvbGRlcj8oYS5vcmlnaW5hbEhlYWRpbmcuaW5zZXJ0QmVmb3JlKGEucGxhY2Vob2xkZXIpLGEucGxhY2Vob2xkZXIucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZSgpKTooYS5zdGF0dXMucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIHVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikuY2hpbGRyZW4oKS5jb250ZW50cygpLnVud3JhcCgpKSxhLmFuY2hvci5jb250ZW50cygpLnVud3JhcCgpLGEuY29udGVudC5jb250ZW50cygpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUgdWktY29sbGFwc2libGUtY29sbGFwc2VkIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IHVpLWNvbGxhcHNpYmxlLWluc2V0IHVpLWNvcm5lci1hbGwiKSl9fSksYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHM9e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWRJY29uOiJwbHVzIixjb250ZW50VGhlbWU6ImluaGVyaXQiLGV4cGFuZGVkSWNvbjoibWludXMiLGljb25wb3M6ImxlZnQiLGluc2V0OiEwLGNvcm5lcnM6ITAsdGhlbWU6ImluaGVyaXQiLG1pbmk6ITF9fShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBkLGU9Yi5sZW5ndGgsZj1bXTtmb3IoZD0wO2U+ZDtkKyspYltkXS5jbGFzc05hbWUubWF0Y2goYyl8fGYucHVzaChiW2RdKTtyZXR1cm4gYShmKX12YXIgYz0vXGJ1aS1zY3JlZW4taGlkZGVuXGIvO2EubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzPXtfZ2V0VmlzaWJsZXM6ZnVuY3Rpb24oYSxjKXt2YXIgZDtyZXR1cm4gYz9kPWIoYSk6KGQ9YS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWQubGVuZ3RoJiYoZD1iKGEpKSksZH0sX2FkZEZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKSxiLmVxKDApLmFkZENsYXNzKCJ1aS1maXJzdC1jaGlsZCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcygidWktbGFzdC1jaGlsZCIpLGN8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX0sX3JlbW92ZUZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9Ijptb2JpbGUtY29sbGFwc2libGUsICIrYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yO2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpLDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlc2V0JykiLG9wdGlvbnM6YS5leHRlbmQoe2VuaGFuY2VkOiExfSxhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cyksX2hhbmRsZUNvbGxhcHNpYmxlRXhwYW5kOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpO2MucGFyZW50KCkuaXMoIjptb2JpbGUtY29sbGFwc2libGVzZXQsIDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikmJmMuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZTpub3QoLnVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCkiKS5jb2xsYXBzaWJsZSgiY29sbGFwc2UiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczthLmV4dGVuZCh0aGlzLHtfY2xhc3NlczoiIn0pLGMuZW5oYW5jZWR8fChiLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIixjLnRoZW1lKSsiICIrKGMuY29ybmVycyYmYy5pbnNldD8idWktY29ybmVyLWFsbCAiOiIiKSksdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yKS5jb2xsYXBzaWJsZSgpKSx0aGlzLl9vbihiLHtjb2xsYXBzaWJsZWV4cGFuZDoiX2hhbmRsZUNvbGxhcHNpYmxlRXhwYW5kIn0pfSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjoiIn0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCEwKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oYykuZmlsdGVyKCI6anFtRGF0YShjb2xsYXBzZWQ9J2ZhbHNlJykiKS5jb2xsYXBzaWJsZSgiZXhwYW5kIil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzLmVsZW1lbnQsZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIixhLnRoZW1lKTtyZXR1cm4gZiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIix0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyhmKSxhLmluc2V0IT09YiYmKGQ9ISghYS5pbnNldHx8IWEuY29ybmVycyYmIXRoaXMub3B0aW9ucy5jb3JuZXJzKSksYS5jb3JuZXJzIT09YiYmKGQ9ISghYS5jb3JuZXJzfHwhYS5pbnNldCYmIXRoaXMub3B0aW9ucy5pbnNldCkpLGQhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixkKSxjPXRoaXMuX3N1cGVyKGEpLHRoaXMuZWxlbWVudC5jaGlsZHJlbigiOm1vYmlsZS1jb2xsYXBzaWJsZSIpLmNvbGxhcHNpYmxlKCJyZWZyZXNoIiksY30sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7dGhpcy5fcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlcyhhLmNoaWxkcmVuKGMpKSxhLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQgdWktY29ybmVyLWFsbCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLHRoaXMub3B0aW9ucy50aGVtZSkpLmNoaWxkcmVuKCI6bW9iaWxlLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoImRlc3Ryb3kiKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpO3RoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3Rvcikubm90KCIudWktY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoZCx0aGlzLl9nZXRWaXNpYmxlcyhkLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhKXthLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKCJ1aS1maWVsZC1jb250YWluIil9fShhKSxmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjLGQsZT1hKHRoaXMpLGY9YS5leHRlbmQoe2dyaWQ6bnVsbH0sYiksZz1lLmNoaWxkcmVuKCksaD17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0saT1mLmdyaWQ7aWYoIWkpaWYoZy5sZW5ndGg8PTUpZm9yKGQgaW4gaCloW2RdPT09Zy5sZW5ndGgmJihpPWQpO2Vsc2UgaT0iYSIsZS5hZGRDbGFzcygidWktZ3JpZC1kdW8iKTtjPWhbaV0sZS5hZGRDbGFzcygidWktZ3JpZC0iK2kpLGcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIiksYz4xJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMikiKS5hZGRDbGFzcygidWktYmxvY2stYiIpLGM+MiYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzMpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWMiKSxjPjMmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis0KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1kIiksYz40JiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rNSkiKS5hZGRDbGFzcygidWktYmxvY2stZSIpfSl9fShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUubmF2YmFyIix7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmZpbmQoImEsIGJ1dHRvbiIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJpY29uIiksYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywidGhlbWUiKSxkPSJ1aS1idG4iO2MmJihkKz0iIHVpLWJ0bi0iK2MpLGImJihkKz0iIHVpLWljb24tIitiKyIgdWktYnRuLWljb24tIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoInVpLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfHwoZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYShjKS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpfSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGU7YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246ImNhcmF0LXIiLHNwbGl0SWNvbjoiY2FyYXQtciIsc3BsaXRUaGVtZTpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGluc2V0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSIiO2IrPWEub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixhLm9wdGlvbnMuaW5zZXQmJihiKz1hLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLGIrPWEub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoIiB1aS1saXN0dmlldyIrYiksYS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Zm9yKGVbY109ZVtkXT0hMDthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPWIubGVuZ3RoO2ZvcihjPTA7ZT5jO2MrKylkPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGQubGVuZ3RoJiZhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZFswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhkLmhhc0NsYXNzKCJ1aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIil9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmb3IoZltjXT1mW2RdPSEwLGI9Yi5maXJzdENoaWxkO2I7KWZbYi5ub2RlTmFtZV0mJmUucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZSl9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6YS5ub29wLF9hZnRlckxpc3R2aWV3UmVmcmVzaDphLm5vb3AscmVmcmVzaDpmdW5jdGlvbihjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHg9dGhpcy5vcHRpb25zLHk9dGhpcy5lbGVtZW50LHo9ISFhLm5vZGVOYW1lKHlbMF0sIm9sIiksQT15LmF0dHIoInN0YXJ0IiksQj17fSxDPXkuZmluZCgiLnVpLWxpLWNvdW50IiksRD1iKHlbMF0sImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUsRT1EPyJ1aS1ib2R5LSIrRDoidWktYm9keS1pbmhlcml0Ijtmb3IoeC50aGVtZSYmeS5hZGRDbGFzcygidWktZ3JvdXAtdGhlbWUtIit4LnRoZW1lKSx6JiYoQXx8MD09PUEpJiYobj1wYXJzZUludChBLDEwKS0xLHkuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK24pKSx0aGlzLl9iZWZvcmVMaXN0dmlld1JlZnJlc2goKSx3PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHlbMF0sImxpIiwiTEkiKSxlPTAsZj13Lmxlbmd0aDtmPmU7ZSsrKWc9dy5lcShlKSxoPSIiLChjfHxnWzBdLmNsYXNzTmFtZS5zZWFyY2goL1xidWktbGktc3RhdGljXGJ8XGJ1aS1saS1kaXZpZGVyXGIvKTwwKSYmKGw9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSwiYSIsIkEiKSxtPSJsaXN0LWRpdmlkZXIiPT09YihnWzBdLCJyb2xlIikscD1nLmF0dHIoInZhbHVlIiksaT1iKGdbMF0sInRoZW1lIiksbC5sZW5ndGgmJmxbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1idG5cYi8pPDAmJiFtPyhqPWIoZ1swXSwiaWNvbiIpLGs9aj09PSExPyExOmp8fHguaWNvbixsLnJlbW92ZUNsYXNzKCJ1aS1saW5rIiksZD0idWktYnRuIixpJiYoZCs9IiB1aS1idG4tIitpKSxsLmxlbmd0aD4xPyhoPSJ1aS1saS1oYXMtYWx0IixxPWwubGFzdCgpLHI9YihxWzBdLCJ0aGVtZSIpfHx4LnNwbGl0VGhlbWV8fGIoZ1swXSwidGhlbWUiLCEwKSxzPXI/IiB1aS1idG4tIityOiIiLHQ9YihxWzBdLCJpY29uIil8fGIoZ1swXSwiaWNvbiIpfHx4LnNwbGl0SWNvbix1PSJ1aS1idG4gdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tIit0K3MscS5hdHRyKCJ0aXRsZSIsYS50cmltKHEuZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKHUpLmVtcHR5KCksbD1sLmZpcnN0KCkpOmsmJihkKz0iIHVpLWJ0bi1pY29uLXJpZ2h0IHVpLWljb24tIitrKSxsLmFkZENsYXNzKGQpKTptPyh2PWIoZ1swXSwidGhlbWUiKXx8eC5kaXZpZGVyVGhlbWV8fHgudGhlbWUsaD0idWktbGktZGl2aWRlciB1aS1iYXItIisodj92OiJpbmhlcml0IiksZy5hdHRyKCJyb2xlIiwiaGVhZGluZyIpKTpsLmxlbmd0aDw9MCYmKGg9InVpLWxpLXN0YXRpYyB1aS1ib2R5LSIrKGk/aToiaW5oZXJpdCIpKSx6JiZwJiYobz1wYXJzZUludChwLDEwKS0xLGcuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK28pKSksQltoXXx8KEJbaF09W10pLEJbaF0ucHVzaChnWzBdKTtmb3IoaCBpbiBCKWEoQltoXSkuYWRkQ2xhc3MoaCk7Qy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLEUmJkMubm90KCJbY2xhc3MqPSd1aS1ib2R5LSddIikuYWRkQ2xhc3MoRSksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHcpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh3LmZpbmQoIi51aS1idG4iKSksdGhpcy5fYWZ0ZXJMaXN0dmlld1JlZnJlc2goKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKHcsdGhpcy5fZ2V0VmlzaWJsZXModyxjKSxjKX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSl9KGEpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGM9YS50cmltKGIudGV4dCgpKXx8bnVsbDtyZXR1cm4gYz9jPWMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2F1dG9kaXZpZGVyczohMSxhdXRvZGl2aWRlcnNTZWxlY3RvcjpifSxfYmVmb3JlTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9kaXZpZGVycyYmKHRoaXMuX3JlcGxhY2VEaXZpZGVycygpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSl9LF9yZXBsYWNlRGl2aWRlcnM6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGg9bnVsbCxpPXRoaXMuZWxlbWVudDtmb3IoaS5jaGlsZHJlbigibGk6anFtRGF0YShyb2xlPSdsaXN0LWRpdmlkZXInKSIpLnJlbW92ZSgpLGQ9aS5jaGlsZHJlbigibGkiKSxiPTA7YjxkLmxlbmd0aDtiKyspZT1kW2JdLGY9dGhpcy5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGEoZSkpLGYmJmghPT1mJiYoZz1jLmNyZWF0ZUVsZW1lbnQoImxpIiksZy5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGYpKSxnLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIiwibGlzdC1kaXZpZGVyIiksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnLGUpKSxoPWZ9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPS8oXnxccyl1aS1saS1kaXZpZGVyKCR8XHMpLyxjPS8oXnxccyl1aS1zY3JlZW4taGlkZGVuKCR8XHMpLzthLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLm1vYmlsZS5saXN0dmlldyx7b3B0aW9uczp7aGlkZURpdmlkZXJzOiExfSxfYWZ0ZXJMaXN0dmlld1JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxkLGUsZj0hMDtpZih0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdGhpcy5vcHRpb25zLmhpZGVEaXZpZGVycylmb3IoYT10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZSh0aGlzLmVsZW1lbnRbMF0sImxpIiwiTEkiKSxkPWEubGVuZ3RoLTE7ZD4tMTtkLS0pZT1hW2RdLGUuY2xhc3NOYW1lLm1hdGNoKGIpPyhmJiYoZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUrIiB1aS1zY3JlZW4taGlkZGVuIiksZj0hMCk6ZS5jbGFzc05hbWUubWF0Y2goYyl8fChmPSExKX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubm9qcz1mdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGIpLmFkZENsYXNzKCJ1aS1ub2pzIil9fShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0PXtfaGFuZGxlRm9ybVJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3Jlc2V0Iil9fSl9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS5wYXRoLmhhc2hUb1NlbGVjdG9yO2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiaW5wdXQ6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApIClbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSkiLG9wdGlvbnM6e3RoZW1lOiJpbmhlcml0IixtaW5pOiExLHdyYXBwZXJDbGFzczpudWxsLGVuaGFuY2VkOiExLGljb25wb3M6ImxlZnQifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5qcW1EYXRhKGIpfHxhLmNsb3Nlc3QoImZvcm0sIGZpZWxkc2V0IikuanFtRGF0YShiKX0sZT10aGlzLm9wdGlvbnMuZW5oYW5jZWQ/e2VsZW1lbnQ6dGhpcy5lbGVtZW50LnNpYmxpbmdzKCJsYWJlbCIpLGlzUGFyZW50OiExfTp0aGlzLl9maW5kTGFiZWwoKSxmPWJbMF0udHlwZSxnPSJ1aS0iK2YrIi1vbiIsaD0idWktIitmKyItb2ZmIjsoImNoZWNrYm94Ij09PWZ8fCJyYWRpbyI9PT1mKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYiwiaWNvbnBvcyIpfHxlLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIil8fGMuaWNvbnBvcyxjLm1pbmk9ZChiLCJtaW5pIil8fGMubWluaSxhLmV4dGVuZCh0aGlzLHtpbnB1dDpiLGxhYmVsOmUuZWxlbWVudCxsYWJlbElzUGFyZW50OmUuaXNQYXJlbnQsaW5wdXR0eXBlOmYsY2hlY2tlZENsYXNzOmcsdW5jaGVja2VkQ2xhc3M6aH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGUuZWxlbWVudCx7dm1vdXNlb3ZlcjoiX2hhbmRsZUxhYmVsVk1vdXNlT3ZlciIsdmNsaWNrOiJfaGFuZGxlTGFiZWxWQ2xpY2sifSksdGhpcy5fb24oYix7dm1vdXNlZG93bjoiX2NhY2hlVmFscyIsdmNsaWNrOiJfaGFuZGxlSW5wdXRWQ2xpY2siLGZvY3VzOiJfaGFuZGxlSW5wdXRGb2N1cyIsYmx1cjoiX2hhbmRsZUlucHV0Qmx1ciJ9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLnJlZnJlc2goKSl9LF9maW5kTGFiZWw6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZj10aGlzLmVsZW1lbnQsZz1mWzBdLmxhYmVscztyZXR1cm4gZyYmZy5sZW5ndGg+MD8oZD1hKGdbMF0pLGU9YS5jb250YWlucyhkWzBdLGZbMF0pKTooYj1mLmNsb3Nlc3QoImxhYmVsIiksZT1iLmxlbmd0aD4wLGQ9ZT9iOmEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGFiZWwiKSkuZmlsdGVyKCJbZm9yPSciK2MoZlswXS5pZCkrIiddIikuZmlyc3QoKSkse2VsZW1lbnQ6ZCxpc1BhcmVudDplfX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLmFkZENsYXNzKCJ1aS1idG4gdWktY29ybmVyLWFsbCIpLHRoaXMubGFiZWxJc1BhcmVudD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLHdyYXBwZXJDbGFzczp0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0ndWktIit0aGlzLmlucHV0dHlwZSsodGhpcy5vcHRpb25zLmRpc2FibGVkPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsiJyA+PC9kaXY+Iil9LF9oYW5kbGVJbnB1dEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5sYWJlbC5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sX2hhbmRsZUlucHV0Qmx1cjpmdW5jdGlvbigpe3RoaXMubGFiZWwucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dFZDbGljazpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIix0aGlzLmVsZW1lbnQuaXMoIjpjaGVja2VkIikpLHRoaXMuX2dldElucHV0U2V0KCkubm90KHRoaXMuZWxlbWVudCkucHJvcCgiY2hlY2tlZCIsITEpLHRoaXMuX3VwZGF0ZUFsbCghMCl9LF9oYW5kbGVMYWJlbFZNb3VzZU92ZXI6ZnVuY3Rpb24oYSl7dGhpcy5sYWJlbC5wYXJlbnQoKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sX2hhbmRsZUxhYmVsVkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtyZXR1cm4gYi5pcygiOmRpc2FibGVkIik/dm9pZCBhLnByZXZlbnREZWZhdWx0KCk6KHRoaXMuX2NhY2hlVmFscygpLGIucHJvcCgiY2hlY2tlZCIsInJhZGlvIj09PXRoaXMuaW5wdXR0eXBlJiYhMHx8IWIucHJvcCgiY2hlY2tlZCIpKSxiLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHRoaXMuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKSwhMSl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7dmFyIGIsZCxlPXRoaXMuZWxlbWVudFswXSxmPWUubmFtZSxnPWUuZm9ybSxoPXRoaXMuZWxlbWVudC5wYXJlbnRzKCkubGFzdCgpLmdldCgwKSxpPXRoaXMuZWxlbWVudDtyZXR1cm4gZiYmInJhZGlvIj09PXRoaXMuaW5wdXR0eXBlJiZoJiYoYj0iaW5wdXRbdHlwZT0ncmFkaW8nXVtuYW1lPSciK2MoZikrIiddIixnPyhkPWcuZ2V0QXR0cmlidXRlKCJpZCIpLGQmJihpPWEoYisiW2Zvcm09JyIrYyhkKSsiJ10iLGgpKSxpPWEoZykuZmluZChiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtPT09Z30pLmFkZChpKSk6aT1hKGIsaCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZm9ybX0pKSxpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKTshdGhpcy5jaGVja2VkJiYiY2hlY2tib3giIT09Yy5pbnB1dHR5cGV8fGJ8fGQudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfaGFzSWNvbjpmdW5jdGlvbigpe3ZhciBiLGMsZD1hLm1vYmlsZS5jb250cm9sZ3JvdXA7cmV0dXJuIGQmJihiPXRoaXMuZWxlbWVudC5jbG9zZXN0KCI6bW9iaWxlLWNvbnRyb2xncm91cCwiK2QucHJvdG90eXBlLmluaXRTZWxlY3RvciksYi5sZW5ndGg+MCk/KGM9YS5kYXRhKGJbMF0sIm1vYmlsZS1jb250cm9sZ3JvdXAiKSwiaG9yaXpvbnRhbCIhPT0oYz9jLm9wdGlvbnMudHlwZTpiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHlwZSIpKSk6ITB9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCxjPWEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGQ9InVpLWJ0bi1pY29uLSIrdGhpcy5vcHRpb25zLmljb25wb3MsZT1bXSxmPVtdO3RoaXMuX2hhc0ljb24oKT8oZi5wdXNoKGMpLGUucHVzaChkKSk6KGYucHVzaChkKSwoYj9lOmYpLnB1c2goYykpLGI/KGUucHVzaCh0aGlzLmNoZWNrZWRDbGFzcyksZi5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpKTooZS5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpLGYucHVzaCh0aGlzLmNoZWNrZWRDbGFzcykpLHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIix0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSksdGhpcy5sYWJlbC5hZGRDbGFzcyhlLmpvaW4oIiAiKSkucmVtb3ZlQ2xhc3MoZi5qb2luKCIgIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbC5wYXJlbnQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5sYWJlbCxkPXRoaXMub3B0aW9ucyxlPXRoaXMud2lkZ2V0KCksZj10aGlzLl9oYXNJY29uKCk7YS5kaXNhYmxlZCE9PWImJih0aGlzLmlucHV0LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpLGUudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIWEuZGlzYWJsZWQpKSxhLm1pbmkhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIiwhIWEubWluaSksYS50aGVtZSE9PWImJmMucmVtb3ZlQ2xhc3MoInVpLWJ0bi0iK2QudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithLnRoZW1lKSxhLndyYXBwZXJDbGFzcyE9PWImJmUucmVtb3ZlQ2xhc3MoZC53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLmljb25wb3MhPT1iJiZmP2MucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKS5hZGRDbGFzcygidWktYnRuLWljb24tIithLmljb25wb3MpOmZ8fGMucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKSx0aGlzLl9zdXBlcihhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nYnV0dG9uJ10sIGlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdyZXNldCddIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOiJsZWZ0IixpY29uc2hhZG93OiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCx3cmFwcGVyQ2xhc3M6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpO3JldHVybiBhKCI8ZGl2IGNsYXNzPSd1aS1idG4gdWktaW5wdXQtYnRuIisoYi53cmFwcGVyQ2xhc3M/IiAiK2Iud3JhcHBlckNsYXNzOiIiKSsoYi50aGVtZT8iIHVpLWJ0bi0iK2IudGhlbWU6IiIpKyhiLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGIuc2hhZG93PyIgdWktc2hhZG93IjoiIikrKGIuaW5saW5lPyIgdWktYnRuLWlubGluZSI6IiIpKyhiLm1pbmk/IiB1aS1taW5pIjoiIikrKGIuZGlzYWJsZWQ/IiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhjPyIgIitjOiIiKSsiJyA+Iit0aGlzLmVsZW1lbnQudmFsKCkrIjwvZGl2PiIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyKSx0aGlzLndyYXBwZXIucmVtb3ZlKCl9LF9nZXRJY29uQ2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5pY29uPyJ1aS1pY29uLSIrYS5pY29uKyhhLmljb25zaGFkb3c/IiB1aS1zaGFkb3ctaWNvbiI6IiIpKyIgdWktYnRuLWljb24tIithLmljb25wb3M6IiJ9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMud2lkZ2V0KCk7Yy50aGVtZSE9PWImJmQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYy50aGVtZSksYy5jb3JuZXJzIT09YiYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYy5jb3JuZXJzKSxjLnNoYWRvdyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYy5zaGFkb3cpLGMuaW5saW5lIT09YiYmZC50b2dnbGVDbGFzcygidWktYnRuLWlubGluZSIsYy5pbmxpbmUpLGMubWluaSE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGMubWluaSksYy5kaXNhYmxlZCE9PWImJih0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLGMuZGlzYWJsZWQpLGQudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIixjLmRpc2FibGVkKSksKGMuaWNvbiE9PWJ8fGMuaWNvbnNoYWRvdyE9PWJ8fGMuaWNvbnBvcyE9PWIpJiZkLnJlbW92ZUNsYXNzKHRoaXMuX2dldEljb25DbGFzc2VzKHRoaXMub3B0aW9ucykpLmFkZENsYXNzKHRoaXMuX2dldEljb25DbGFzc2VzKGEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxjKSkpLHRoaXMuX3N1cGVyKGMpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIik7dGhpcy5vcHRpb25zLmljb24mJiJub3RleHQiPT09dGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMuZWxlbWVudC52YWwoKSksYnx8KGM9dGhpcy5lbGVtZW50LmRldGFjaCgpLGEodGhpcy53cmFwcGVyKS50ZXh0KHRoaXMuZWxlbWVudC52YWwoKSkuYXBwZW5kKGMpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQhPT1kJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDpkfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZCYmYyE9PSEwfHwoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLGlucHV0W3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLGlucHV0W3R5cGU9J251bWJlciddLDpqcW1EYXRhKHR5cGU9J251bWJlcicpLGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10saW5wdXRbdHlwZT0nZW1haWwnXSxpbnB1dFt0eXBlPSd1cmwnXSxpbnB1dFt0eXBlPSd0ZWwnXSx0ZXh0YXJlYSxpbnB1dFt0eXBlPSd0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZSddLGlucHV0W3R5cGU9J21vbnRoJ10saW5wdXRbdHlwZT0nd2VlayddLGlucHV0W3R5cGU9J2RhdGV0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSxpbnB1dFt0eXBlPSdjb2xvciddLGlucHV0Om5vdChbdHlwZV0pLGlucHV0W3R5cGU9J2ZpbGUnXSIsb3B0aW9uczp7dGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsd3JhcHBlckNsYXNzOiIiLGVuaGFuY2VkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksZD0iVEVYVEFSRUEiPT09dGhpcy5lbGVtZW50WzBdLnRhZ05hbWUsZT10aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKSxmPSh0aGlzLmVsZW1lbnQuaXMoImlucHV0Iil8fHRoaXMuZWxlbWVudC5pcygiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsidHlwZT0nc2VhcmNoJ10iKSkmJiFlO3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpJiYoYi5kaXNhYmxlZD0hMCksYS5leHRlbmQodGhpcyx7Y2xhc3Nlczp0aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpc1JhbmdlOmUsaW5wdXROZWVkc1dyYXA6Zn0pLHRoaXMuX2F1dG9Db3JyZWN0KCksYi5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUZvY3VzIixibHVyOiJfaGFuZGxlQmx1ciJ9KX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6dGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuaXNUZXh0YXJlYSYmYS5wdXNoKCJ1aS1pbnB1dC10ZXh0IiksKHRoaXMuaXNUZXh0YXJlYXx8dGhpcy5pc1JhbmdlKSYmYS5wdXNoKCJ1aS1zaGFkb3ctaW5zZXQiKSx0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXAoKSk6YT1hLmNvbmNhdCh0aGlzLmNsYXNzZXMpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmpvaW4oIiAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnR9LF9jbGFzc2VzRnJvbU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1bXTtyZXR1cm4gYi5wdXNoKCJ1aS1ib2R5LSIrKG51bGw9PT1hLnRoZW1lPyJpbmhlcml0IjphLnRoZW1lKSksYS5jb3JuZXJzJiZiLnB1c2goInVpLWNvcm5lci1hbGwiKSxhLm1pbmkmJmIucHVzaCgidWktbWluaSIpLGEuZGlzYWJsZWQmJmIucHVzaCgidWktc3RhdGUtZGlzYWJsZWQiKSxhLndyYXBwZXJDbGFzcyYmYi5wdXNoKGEud3JhcHBlckNsYXNzKSxifSxfd3JhcDpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2IGNsYXNzPSciKyh0aGlzLmlzU2VhcmNoPyJ1aS1pbnB1dC1zZWFyY2ggIjoidWktaW5wdXQtdGV4dCAiKSt0aGlzLmNsYXNzZXMuam9pbigiICIpKyIgdWktc2hhZG93LWluc2V0Jz48L2Rpdj4iKX0sX2F1dG9Db3JyZWN0OmZ1bmN0aW9uKCl7InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLmVsZW1lbnRbMF0uYXV0b2NvcnJlY3R8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwodGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSx0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSl9LF9oYW5kbGVCbHVyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSx0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSxfaGFuZGxlRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndpZGdldCgpO3RoaXMuX3N1cGVyKGEpLChhLmRpc2FibGVkIT09Ynx8YS5taW5pIT09Ynx8YS5jb3JuZXJzIT09Ynx8YS50aGVtZSE9PWJ8fGEud3JhcHBlckNsYXNzIT09YikmJihjLnJlbW92ZUNsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpLHRoaXMuY2xhc3Nlcz10aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxjLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpKSxhLmRpc2FibGVkIT09YiYmdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMuaW5wdXROZWVkc1dyYXAmJnRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWlucHV0LXRleHQgIit0aGlzLmNsYXNzZXMuam9pbigiICIpKSkKfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz10aGlzLHA9dGhpcy5lbGVtZW50LHE9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGEubW9iaWxlLmdldEF0dHJpYnV0ZShwWzBdLCJ0aGVtZSIpLHI9cT8iIHVpLWJhci0iK3E6IiB1aS1iYXItaW5oZXJpdCIscz10aGlzLm9wdGlvbnMuY29ybmVyc3x8cC5qcW1EYXRhKCJjb3JuZXJzIik/IiB1aS1jb3JuZXItYWxsIjoiIix0PXRoaXMub3B0aW9ucy5taW5pfHxwLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHU9cFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHY9InNlbGVjdCI9PT11LHc9cC5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIpLHg9dj8idWktc2xpZGVyLXN3aXRjaCI6IiIseT1wLmF0dHIoImlkIiksej1hKCJbZm9yPSciK3krIiddIiksQT16LmF0dHIoImlkIil8fHkrIi1sYWJlbCIsQj12PzA6cGFyc2VGbG9hdChwLmF0dHIoIm1pbiIpKSxDPXY/cC5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KHAuYXR0cigibWF4IikpLEQ9Yi5wYXJzZUZsb2F0KHAuYXR0cigic3RlcCIpfHwxKSxFPWMuY3JlYXRlRWxlbWVudCgiYSIpLEY9YShFKSxHPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksSD1hKEcpLEk9dGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXY/ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBiLmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsYShiKS5wcmVwZW5kVG8oSCl9KCk6ITE7aWYoei5hdHRyKCJpZCIsQSksdGhpcy5pc1RvZ2dsZVN3aXRjaD12LEUuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLEcuc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSxHLmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgIjoidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCAiLHgscixzLHRdLmpvaW4oIiIpLEUuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaGFuZGxlIixHLmFwcGVuZENoaWxkKEUpLEYuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6QiwiYXJpYS12YWx1ZW1heCI6QywiYXJpYS12YWx1ZW5vdyI6dGhpcy5fdmFsdWUoKSwiYXJpYS12YWx1ZXRleHQiOnRoaXMuX3ZhbHVlKCksdGl0bGU6dGhpcy5fdmFsdWUoKSwiYXJpYS1sYWJlbGxlZGJ5IjpBfSksYS5leHRlbmQodGhpcyx7c2xpZGVyOkgsaGFuZGxlOkYsY29udHJvbDpwLHR5cGU6dSxzdGVwOkQsbWF4OkMsbWluOkIsdmFsdWViZzpJLGlzUmFuZ2VzbGlkZXI6dyxkcmFnZ2luZzohMSxiZWZvcmVTdGFydDpudWxsLHVzZXJNb2RpZmllZDohMSxtb3VzZU1vdmVkOiExfSksdil7Zm9yKGs9cC5hdHRyKCJ0YWJpbmRleCIpLGsmJkYuYXR0cigidGFiaW5kZXgiLGspLHAuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCksRi5mb2N1cygpfSksZj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGYuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaW5uZXJvZmZzZXQiLGc9MCxoPUcuY2hpbGROb2Rlcy5sZW5ndGg7aD5nO2crKylmLmFwcGVuZENoaWxkKEcuY2hpbGROb2Rlc1tnXSk7Zm9yKEcuYXBwZW5kQ2hpbGQoZiksRi5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGU9cC5maW5kKCJvcHRpb24iKSxpPTAsaj1lLmxlbmd0aDtqPmk7aSsrKWw9aT8iYSI6ImIiLG09aT8iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6IiIsbj1jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxuLmNsYXNzTmFtZT1bInVpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtIixsLG1dLmpvaW4oIiIpLG4uc2V0QXR0cmlidXRlKCJyb2xlIiwiaW1nIiksbi5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGVbaV0uaW5uZXJIVE1MKSksYShuKS5wcmVwZW5kVG8oSCk7by5fbGFiZWxzPWEoIi51aS1zbGlkZXItbGFiZWwiLEgpfXAuYWRkQ2xhc3Modj8idWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci1pbnB1dCIpLHRoaXMuX29uKHAse2NoYW5nZToiX2NvbnRyb2xDaGFuZ2UiLGtleXVwOiJfY29udHJvbEtleXVwIixibHVyOiJfY29udHJvbEJsdXIiLHZtb3VzZXVwOiJfY29udHJvbFZNb3VzZVVwIn0pLEguYmluZCgidm1vdXNlZG93biIsYS5wcm94eSh0aGlzLl9zbGlkZXJWTW91c2VEb3duLHRoaXMpKS5iaW5kKCJ2Y2xpY2siLCExKSx0aGlzLl9vbihjLHt2bW91c2Vtb3ZlOiJfcHJldmVudERvY3VtZW50RHJhZyJ9KSx0aGlzLl9vbihILmFkZChjKSx7dm1vdXNldXA6Il9zbGlkZXJWTW91c2VVcCJ9KSxILmluc2VydEFmdGVyKHApLHZ8fHd8fChmPXRoaXMub3B0aW9ucy5taW5pPyI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgdWktbWluaSc+IjoiPGRpdiBjbGFzcz0ndWktc2xpZGVyJz4iLHAuYWRkKEgpLndyYXBBbGwoZikpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1kJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5jb3JuZXJzIT09ZCYmdGhpcy5fc2V0Q29ybmVycyhhLmNvcm5lcnMpLGEubWluaSE9PWQmJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWQmJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWQmJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiY29udHJvbGNoYW5nZSIsYSk9PT0hMT8hMTp2b2lkKHRoaXMubW91c2VNb3ZlZHx8dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApKX0sX2NvbnRyb2xLZXl1cDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbFZNb3VzZVVwOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tlZFJlZnJlc2goKX0sX2hhbmRsZVZNb3VzZURvd246ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWx1ZSgpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlTbGlkaW5nfHwodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfXN3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOnRoaXMucmVmcmVzaCh0aGlzLm1pbik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDp0aGlzLnJlZnJlc2godGhpcy5tYXgpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6dGhpcy5yZWZyZXNoKGMrdGhpcy5zdGVwKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOnRoaXMucmVmcmVzaChjLXRoaXMuc3RlcCl9fX0sX2hhbmRsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX0sX3NsaWRlclZNb3VzZURvd246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8MSE9PWEud2hpY2gmJjAhPT1hLndoaWNoJiZhLndoaWNoIT09ZD8hMTp0aGlzLl90cmlnZ2VyKCJiZWZvcmVzdGFydCIsYSk9PT0hMT8hMToodGhpcy5kcmFnZ2luZz0hMCx0aGlzLnVzZXJNb2RpZmllZD0hMSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuYmVmb3JlU3RhcnQ9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHRoaXMucmVmcmVzaChhKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIpLCExKX0sX3NsaWRlclZNb3VzZVVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKHRoaXMubW91c2VNb3ZlZD90aGlzLnVzZXJNb2RpZmllZD8wPT09dGhpcy5iZWZvcmVTdGFydD8xOjA6dGhpcy5iZWZvcmVTdGFydDowPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIpLCExKTp2b2lkIDB9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJkcmFnIixhKT09PSExPyExOnRoaXMuZHJhZ2dpbmcmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/KHRoaXMubW91c2VNb3ZlZD0hMCx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMucmVmcmVzaChhKSx0aGlzLnVzZXJNb2RpZmllZD10aGlzLmJlZm9yZVN0YXJ0IT09dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgsITEpOnZvaWQgMH0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goZCwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oYixkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHksej10aGlzLEE9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwidGhlbWUiKSxCPXRoaXMub3B0aW9ucy50aGVtZXx8QSxDPUI/IiB1aS1idG4tIitCOiIiLEQ9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fEEsRT1EPyIgdWktYmFyLSIrRDoiIHVpLWJhci1pbmhlcml0IixGPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsRz10aGlzLm9wdGlvbnMubWluaT8iIHVpLW1pbmkiOiIiO2lmKHouc2xpZGVyWzBdLmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyIHVpLXNsaWRlci1zd2l0Y2ggdWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCI6InVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQiLEUsRixHXS5qb2luKCIiKSwodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKSx0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaCYmMD09PXRoaXMuc2xpZGVyLmZpbmQoIi51aS1zbGlkZXItYmciKS5sZW5ndGgmJih0aGlzLnZhbHVlYmc9ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBiLmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsYShiKS5wcmVwZW5kVG8oei5zbGlkZXIpfSgpKSx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktYnRuIitDKyIgdWktc2hhZG93IiksbD10aGlzLmVsZW1lbnQsbT0hdGhpcy5pc1RvZ2dsZVN3aXRjaCxuPW0/W106bC5maW5kKCJvcHRpb24iKSxvPW0/cGFyc2VGbG9hdChsLmF0dHIoIm1pbiIpKTowLHA9bT9wYXJzZUZsb2F0KGwuYXR0cigibWF4IikpOm4ubGVuZ3RoLTEscT1tJiZwYXJzZUZsb2F0KGwuYXR0cigic3RlcCIpKT4wP3BhcnNlRmxvYXQobC5hdHRyKCJzdGVwIikpOjEsIm9iamVjdCI9PXR5cGVvZiBiKXtpZihoPWIsaT04LGY9dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCxnPXRoaXMuc2xpZGVyLndpZHRoKCksaj1nLygocC1vKS9xKSwhdGhpcy5kcmFnZ2luZ3x8aC5wYWdlWDxmLWl8fGgucGFnZVg+ZitnK2kpcmV0dXJuO2s9aj4xPyhoLnBhZ2VYLWYpL2cqMTAwOk1hdGgucm91bmQoKGgucGFnZVgtZikvZyoxMDApfWVsc2UgbnVsbD09YiYmKGI9bT9wYXJzZUZsb2F0KGwudmFsKCl8fDApOmxbMF0uc2VsZWN0ZWRJbmRleCksaz0ocGFyc2VGbG9hdChiKS1vKS8ocC1vKSoxMDA7aWYoIWlzTmFOKGspJiYocj1rLzEwMCoocC1vKStvLHM9KHItbyklcSx0PXItcywyKk1hdGguYWJzKHMpPj1xJiYodCs9cz4wP3E6LXEpLHU9MTAwLygocC1vKS9xKSxyPXBhcnNlRmxvYXQodC50b0ZpeGVkKDUpKSwidW5kZWZpbmVkIj09dHlwZW9mIGomJihqPWcvKChwLW8pL3EpKSxqPjEmJm0mJihrPShyLW8pKnUqKDEvcSkpLDA+ayYmKGs9MCksaz4xMDAmJihrPTEwMCksbz5yJiYocj1vKSxyPnAmJihyPXApLHRoaXMuaGFuZGxlLmNzcygibGVmdCIsaysiJSIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIsbT9yOm4uZXEocikuYXR0cigidmFsdWUiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIsbT9yOm4uZXEocikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJ0aXRsZSIsbT9yOm4uZXEocikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsaysiJSIpLHRoaXMuX2xhYmVscyYmKHY9dGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCx3PWsmJnYrKDEwMC12KSprLzEwMCx4PTEwMD09PWs/MDpNYXRoLm1pbih2KzEwMC13LDEwMCksdGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmhhc0NsYXNzKCJ1aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/dzp4KSsiJSIpfSkpLCFlKSl7aWYoeT0hMSxtPyh5PWwudmFsKCkhPT1yLGwudmFsKHIpKTooeT1sWzBdLnNlbGVjdGVkSW5kZXghPT1yLGxbMF0uc2VsZWN0ZWRJbmRleD1yKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLGIpPT09ITEpcmV0dXJuITE7IWQmJnkmJmwudHJpZ2dlcigiY2hhbmdlIil9fSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe2E9ISFhLGE/KHRoaXMub3B0aW9ucy5oaWdobGlnaHQ9ISFhLHRoaXMucmVmcmVzaCgpKTp0aGlzLnZhbHVlYmcmJih0aGlzLnZhbHVlYmcucmVtb3ZlKCksdGhpcy52YWx1ZWJnPSExKX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1idG4tIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithKTt2YXIgYj10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5jb250cm9sLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrYikuYWRkQ2xhc3MoInVpLWJvZHktIitjKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU/dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU6ImluaGVyaXQiLGM9YT9hOiJpbmhlcml0Ijt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuaXNUb2dnbGVTd2l0Y2h8fHRoaXMuaXNSYW5nZXNsaWRlcnx8KHRoaXMuc2xpZGVyLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGEpe3RoaXMuc2xpZGVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmNvbnRyb2wudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7YT0hIWEsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixhKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuIGN8fChjPWEoIjxkaXY+PC9kaXY+Iix7ImNsYXNzIjoidWktc2xpZGVyLXBvcHVwIHVpLXNoYWRvdyB1aS1jb3JuZXItYWxsIn0pKSxjLmNsb25lKCl9dmFyIGM7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEubW9iaWxlLnNsaWRlcix7b3B0aW9uczp7cG9wdXBFbmFibGVkOiExLHNob3dWYWx1ZTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X2N1cnJlbnRWYWx1ZTpudWxsLF9wb3B1cDpudWxsLF9wb3B1cFZpc2libGU6ITF9KSx0aGlzLl9zZXRPcHRpb24oInBvcHVwRW5hYmxlZCIsdGhpcy5vcHRpb25zLnBvcHVwRW5hYmxlZCksdGhpcy5fb24odGhpcy5oYW5kbGUse3Ztb3VzZWRvd246Il9zaG93UG9wdXAifSksdGhpcy5fb24odGhpcy5zbGlkZXIuYWRkKHRoaXMuZG9jdW1lbnQpLHt2bW91c2V1cDoiX2hpZGVQb3B1cCJ9KSx0aGlzLl9yZWZyZXNoKCl9LF9wb3NpdGlvblBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oYW5kbGUub2Zmc2V0KCk7dGhpcy5fcG9wdXAub2Zmc2V0KHtsZWZ0OmEubGVmdCsodGhpcy5oYW5kbGUud2lkdGgoKS10aGlzLl9wb3B1cC53aWR0aCgpKS8yLHRvcDphLnRvcC10aGlzLl9wb3B1cC5vdXRlckhlaWdodCgpLTV9KX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGMpe3RoaXMuX3N1cGVyKGEsYyksInNob3dWYWx1ZSI9PT1hP3RoaXMuaGFuZGxlLmh0bWwoYyYmIXRoaXMub3B0aW9ucy5taW5pP3RoaXMuX3ZhbHVlKCk6IiIpOiJwb3B1cEVuYWJsZWQiPT09YSYmYyYmIXRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9YigpLmFkZENsYXNzKCJ1aS1ib2R5LSIrKHRoaXMub3B0aW9ucy50aGVtZXx8ImEiKSkuaGlkZSgpLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnM7Yi5wb3B1cEVuYWJsZWQmJnRoaXMuaGFuZGxlLnJlbW92ZUF0dHIoInRpdGxlIiksYT10aGlzLl92YWx1ZSgpLGEhPT10aGlzLl9jdXJyZW50VmFsdWUmJih0aGlzLl9jdXJyZW50VmFsdWU9YSxiLnBvcHVwRW5hYmxlZCYmdGhpcy5fcG9wdXAmJih0aGlzLl9wb3NpdGlvblBvcHVwKCksdGhpcy5fcG9wdXAuaHRtbChhKSksYi5zaG93VmFsdWUmJiF0aGlzLm9wdGlvbnMubWluaSYmdGhpcy5oYW5kbGUuaHRtbChhKSl9LF9zaG93UG9wdXA6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9wdXBFbmFibGVkJiYhdGhpcy5fcG9wdXBWaXNpYmxlJiYodGhpcy5oYW5kbGUuaHRtbCgiIiksdGhpcy5fcG9wdXAuc2hvdygpLHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cFZpc2libGU9ITApfSxfaGlkZVBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO2EucG9wdXBFbmFibGVkJiZ0aGlzLl9wb3B1cFZpc2libGUmJihhLnNob3dWYWx1ZSYmIWEubWluaSYmdGhpcy5oYW5kbGUuaHRtbCh0aGlzLl92YWx1ZSgpKSx0aGlzLl9wb3B1cC5oaWRlKCksdGhpcy5fcG9wdXBWaXNpYmxlPSExKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmZsaXBzd2l0Y2giLGEuZXh0ZW5kKHtvcHRpb25zOntvblRleHQ6Ik9uIixvZmZUZXh0OiJPZmYiLHRoZW1lOm51bGwsZW5oYW5jZWQ6ITEsd3JhcHBlckNsYXNzOm51bGwsY29ybmVyczohMCxtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkP2EuZXh0ZW5kKHRoaXMse2ZsaXBzd2l0Y2g6dGhpcy5lbGVtZW50LnBhcmVudCgpLG9uOnRoaXMuZWxlbWVudC5maW5kKCIudWktZmxpcHN3aXRjaC1vbiIpLmVxKDApLG9mZjp0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWZsaXBzd2l0Y2gtb2ZmIikuZXEoMCksdHlwZTp0aGlzLmVsZW1lbnQuZ2V0KDApLnRhZ05hbWV9KTp0aGlzLl9lbmhhbmNlKCksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiKSxudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4JiZ0aGlzLm9uLmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnaW5hbFRhYkluZGV4KSx0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCItMSIpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMifSksdGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKSYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KSx0aGlzLl9vbih0aGlzLmZsaXBzd2l0Y2gse2NsaWNrOiJfdG9nZ2xlIixzd2lwZWxlZnQ6Il9sZWZ0Iixzd2lwZXJpZ2h0OiJfcmlnaHQifSksdGhpcy5fb24odGhpcy5vbix7a2V5ZG93bjoiX2tleWRvd24ifSksdGhpcy5fb24oe2NoYW5nZToicmVmcmVzaCJ9KX0sX2hhbmRsZUlucHV0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9uLmZvY3VzKCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsaXBzd2l0Y2h9LF9sZWZ0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLnJlbW92ZUNsYXNzKCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSIpLCJTRUxFQ1QiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0wOnRoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNoYW5nZSIpfSxfcmlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIiksIlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTE6dGhpcy5lbGVtZW50LnByb3AoImNoZWNrZWQiLCEwKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2hhbmdlIil9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGI9YSgiPGRpdj4iKSxjPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCIsZj1hKCI8YT48L2E+Iix7aHJlZjoiIyJ9KSxnPWEoIjxzcGFuPjwvc3Bhbj4iKSxoPWQuZ2V0KDApLnRhZ05hbWUsaT0iSU5QVVQiPT09aD9jLm9uVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDEpLnRleHQoKSxqPSJJTlBVVCI9PT1oP2Mub2ZmVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtmLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGkpLGcuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChqKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1iYXItIitlKyIgIisoYy53cmFwcGVyQ2xhc3M/Yy53cmFwcGVyQ2xhc3M6IiIpKyIgIisoZC5pcygiOmNoZWNrZWQiKXx8ZC5maW5kKCJvcHRpb24iKS5lcSgxKS5pcygiOnNlbGVjdGVkIik/InVpLWZsaXBzd2l0Y2gtYWN0aXZlIjoiIikrKGQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhjLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChmLGcpLGQuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKS5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZixvZmY6Zyx0eXBlOmh9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX3JpZ2h0IjoiX2xlZnQiO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIpPyJfcmlnaHQiOiJfbGVmdCIsYSE9PWImJnRoaXNbYV0oKX0sX3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX2xlZnQiOiJfcmlnaHQiO3RoaXNbYV0oKX0sX2tleWRvd246ZnVuY3Rpb24oYil7Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuTEVGVD90aGlzLl9sZWZ0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuUklHSFQ/dGhpcy5fcmlnaHQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSYmKHRoaXMuX3RvZ2dsZSgpLGIucHJldmVudERlZmF1bHQoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKGEudGhlbWUhPT1iKXt2YXIgYz1hLnRoZW1lP2EudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKCJ1aS1iYXItIitjKS5hZGRDbGFzcygidWktYmFyLSIrZCl9YS5vblRleHQhPT1iJiZ0aGlzLm9uLnRleHQoYS5vblRleHQpLGEub2ZmVGV4dCE9PWImJnRoaXMub2ZmLnRleHQoYS5vZmZUZXh0KSxhLmRpc2FibGVkIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEuZGlzYWJsZWQpLGEubWluaSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5jb3JuZXJzIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSx0aGlzLl9zdXBlcihhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fChudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4P3RoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ2luYWxUYWJJbmRleCk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRhYmluZGV4IiksdGhpcy5vbi5yZW1vdmUoKSx0aGlzLm9mZi5yZW1vdmUoKSx0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5mbGlwc3dpdGNoLnJlbW92ZSgpLHRoaXMucmVtb3ZlQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5yYW5nZXNsaWRlciIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMubWluaT8idWktcmFuZ2VzbGlkZXIgdWktbWluaSI6InVpLXJhbmdlc2xpZGVyIixkPWIuZmluZCgiaW5wdXQiKS5maXJzdCgpLGU9Yi5maW5kKCJpbnB1dCIpLmxhc3QoKSxmPWIuZmluZCgibGFiZWwiKS5maXJzdCgpLGc9YS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShkLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGg9YS5kYXRhKGUuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShlLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGk9Zy5zbGlkZXIsaj1oLnNsaWRlcixrPWcuaGFuZGxlLGw9YSgiPGRpdiBjbGFzcz0ndWktcmFuZ2VzbGlkZXItc2xpZGVycycgLz4iKS5hcHBlbmRUbyhiKTtkLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGUuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWxhc3QiKSxiLmFkZENsYXNzKGMpLGkuYXBwZW5kVG8obCksai5hcHBlbmRUbyhsKSxmLmluc2VydEJlZm9yZShiKSxrLnByZXBlbmRUbyhqKSxhLmV4dGVuZCh0aGlzLHtfaW5wdXRGaXJzdDpkLF9pbnB1dExhc3Q6ZSxfc2xpZGVyRmlyc3Q6aSxfc2xpZGVyTGFzdDpqLF9sYWJlbDpmLF90YXJnZXRWYWw6bnVsbCxfc2xpZGVyVGFyZ2V0OiExLF9zbGlkZXJzOmwsX3Byb3h5OiExfSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5lbGVtZW50LmZpbmQoImlucHV0LnVpLXNsaWRlci1pbnB1dCIpLHtzbGlkZWJlZm9yZXN0YXJ0OiJfc2xpZGViZWZvcmVzdGFydCIsc2xpZGVzdG9wOiJfc2xpZGVzdG9wIixzbGlkZWRyYWc6Il9zbGlkZWRyYWciLHNsaWRlYmVmb3JlY2hhbmdlOiJfY2hhbmdlIixibHVyOiJfY2hhbmdlIixrZXl1cDoiX2NoYW5nZSJ9KSx0aGlzLl9vbih7bW91c2Vkb3duOiJfY2hhbmdlIn0pLHRoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OiJfaGFuZGxlUmVzZXQifSksdGhpcy5fb24oayx7dm1vdXNlZG93bjoiX2RyYWdGaXJzdEhhbmRsZSJ9KX0sX2hhbmRsZVJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5fdXBkYXRlSGlnaGxpZ2h0KCl9LDApfSxfZHJhZ0ZpcnN0SGFuZGxlOmZ1bmN0aW9uKGIpe3JldHVybiBhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLl90cmlnZ2VyKCJzdGFydCIpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGQ9Yz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtyZXR1cm4gdGhpcy5fc2xpZGVyVGFyZ2V0PSExLCJmaXJzdCI9PT10aGlzLl9wcm94eSYmY3x8Imxhc3QiPT09dGhpcy5fcHJveHkmJiFjPyhhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGM/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09YiYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09YiYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEubWluaSE9PWImJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWImJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWImJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zOyh0aGlzLl9pbnB1dEZpcnN0LmlzKCI6ZGlzYWJsZWQiKXx8dGhpcy5faW5wdXRMYXN0LmlzKCI6ZGlzYWJsZWQiKSkmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLGEuZmluZCgiaW5wdXQiKS5zbGlkZXIoe3RoZW1lOmIudGhlbWUsdHJhY2tUaGVtZTpiLnRyYWNrVGhlbWUsZGlzYWJsZWQ6Yi5kaXNhYmxlZCxjb3JuZXJzOmIuY29ybmVycyxtaW5pOmIubWluaSxoaWdobGlnaHQ6Yi5oaWdobGlnaHR9KS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX0sX2NoYW5nZTpmdW5jdGlvbihiKXtpZigia2V5dXAiPT09Yi50eXBlKXJldHVybiB0aGlzLl91cGRhdGVIaWdobGlnaHQoKSwhMTt2YXIgYz10aGlzLGQ9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dEZpcnN0LnZhbCgpLDEwKSxlPXBhcnNlRmxvYXQodGhpcy5faW5wdXRMYXN0LnZhbCgpLDEwKSxmPWEoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGc9Zj90aGlzLl9pbnB1dEZpcnN0OnRoaXMuX2lucHV0TGFzdCxoPWY/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7aWYodGhpcy5faW5wdXRGaXJzdC52YWwoKT50aGlzLl9pbnB1dExhc3QudmFsKCkmJiJtb3VzZWRvd24iPT09Yi50eXBlJiYhYShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUiKSlnLmJsdXIoKTtlbHNlIGlmKCJtb3VzZWRvd24iPT09Yi50eXBlKXJldHVybjtyZXR1cm4gZD5lJiYhdGhpcy5fc2xpZGVyVGFyZ2V0PyhnLnZhbChmP2U6ZCkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdHJpZ2dlcigibm9ybWFsaXplIikpOmQ+ZSYmKGcudmFsKHRoaXMuX3RhcmdldFZhbCkuc2xpZGVyKCJyZWZyZXNoIiksc2V0VGltZW91dChmdW5jdGlvbigpe2gudmFsKGY/ZDplKS5zbGlkZXIoInJlZnJlc2giKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZm9jdXMoKSxjLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGY/IiI6MSksYy5fdHJpZ2dlcigibm9ybWFsaXplIil9LDApLHRoaXMuX3Byb3h5PWY/ImZpcnN0IjoibGFzdCIpLGQ9PT1lPyhhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwwKSk6KGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxhLmRhdGEoZy5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxjPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxkPWMtYjt0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1iZyIpLmNzcyh7Im1hcmdpbi1sZWZ0IjpiKyIlIix3aWR0aDpkKyIlIn0pfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsInRoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0aGVtZSIsYSl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJ0cmFja1RoZW1lIixhKX0sX3NldE1pbmk6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsIm1pbmkiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsISFhKX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwiaGlnaGxpZ2h0IixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJoaWdobGlnaHQiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5wcm9wKCJkaXNhYmxlZCIsYSksdGhpcy5faW5wdXRMYXN0LnByb3AoImRpc2FibGVkIixhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9sYWJlbC5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2NsZWFyQnRuOiExLGNsZWFyQnRuVGV4dDoiQ2xlYXIgdGV4dCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuaXNTZWFyY2gmJih0aGlzLm9wdGlvbnMuY2xlYXJCdG49ITApLHRoaXMub3B0aW9ucy5jbGVhckJ0biYmdGhpcy5pbnB1dE5lZWRzV3JhcCYmdGhpcy5fYWRkQ2xlYXJCdG4oKX0sY2xlYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWlucHV0LWNsZWFyIHVpLWJ0biB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktY29ybmVyLWFsbCc+PC9hPiIpLmF0dHIoInRpdGxlIix0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KS50ZXh0KHRoaXMub3B0aW9ucy5jbGVhckJ0blRleHQpfSxfY2xlYXJCdG5DbGljazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLHRoaXMuX2NsZWFyQnRuLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKSxhLnByZXZlbnREZWZhdWx0KCl9LF9hZGRDbGVhckJ0bjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZUNsZWFyKCksYS5leHRlbmQodGhpcyx7X2NsZWFyQnRuOnRoaXMud2lkZ2V0KCkuZmluZCgiYS51aS1pbnB1dC1jbGVhciIpfSksdGhpcy5fYmluZENsZWFyRXZlbnRzKCksdGhpcy5fdG9nZ2xlQ2xlYXIoKX0sX2VuaGFuY2VDbGVhcjpmdW5jdGlvbigpe3RoaXMuY2xlYXJCdXR0b24oKS5hcHBlbmRUbyh0aGlzLndpZGdldCgpKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKX0sX2JpbmRDbGVhckV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2NsZWFyQnRuLHtjbGljazoiX2NsZWFyQnRuQ2xpY2sifSksdGhpcy5fb24oe2tleXVwOiJfdG9nZ2xlQ2xlYXIiLGNoYW5nZToiX3RvZ2dsZUNsZWFyIixpbnB1dDoiX3RvZ2dsZUNsZWFyIixmb2N1czoiX3RvZ2dsZUNsZWFyIixibHVyOiJfdG9nZ2xlQ2xlYXIiLGN1dDoiX3RvZ2dsZUNsZWFyIixwYXN0ZToiX3RvZ2dsZUNsZWFyIn0pfSxfdW5iaW5kQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5fY2xlYXJCdG4sImNsaWNrIiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCwia2V5dXAgY2hhbmdlIGlucHV0IGZvY3VzIGJsdXIgY3V0IHBhc3RlIil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuY2xlYXJCdG49PT1ifHx0aGlzLmVsZW1lbnQuaXMoInRleHRhcmVhLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpIil8fChhLmNsZWFyQnRuP3RoaXMuX2FkZENsZWFyQnRuKCk6dGhpcy5fZGVzdHJveUNsZWFyKCkpLGEuY2xlYXJCdG5UZXh0IT09YiYmdGhpcy5fY2xlYXJCdG4hPT1iJiZ0aGlzLl9jbGVhckJ0bi50ZXh0KGEuY2xlYXJCdG5UZXh0KS5hdHRyKCJ0aXRsZSIsYS5jbGVhckJ0blRleHQpfSxfdG9nZ2xlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3RvZ2dsZUNsZWFyQ2xhc3MiLDApfSxfdG9nZ2xlQ2xlYXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQnRuLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLCF0aGlzLmVsZW1lbnQudmFsKCkpfSxfZGVzdHJveUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksdGhpcy5fdW5iaW5kQ2xlYXIoKSx0aGlzLl9jbGVhckJ0bi5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX2Rlc3Ryb3lDbGVhcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2F1dG9ncm93OiEwLGtleXVwVGltZW91dEJ1ZmZlcjoxMDB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl9hdXRvZ3JvdygpfSxfYXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRleHRpbnB1dC1hdXRvZ3JvdyIpLHRoaXMuX29uKHtrZXl1cDoiX3RpbWVvdXQiLGNoYW5nZToiX3RpbWVvdXQiLGlucHV0OiJfdGltZW91dCIscGFzdGU6Il90aW1lb3V0In0pLHRoaXMuX29uKCEwLHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OiJfaGFuZGxlU2hvdyIscG9wdXBiZWZvcmVwb3NpdGlvbjoiX2hhbmRsZVNob3ciLHVwZGF0ZWxheW91dDoiX2hhbmRsZVNob3ciLHBhbmVsb3BlbjoiX2hhbmRsZVNob3cifSl9LF9oYW5kbGVTaG93OmZ1bmN0aW9uKGIpe2EuY29udGFpbnMoYi50YXJnZXQsdGhpcy5lbGVtZW50WzBdKSYmdGhpcy5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYoInBvcHVwYmVmb3JlcG9zaXRpb24iIT09Yi50eXBlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRleHRpbnB1dC1hdXRvZ3Jvdy1yZXNpemUiKS5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplIil9LHRoaXMpLCJ0cmFuc2l0aW9uIiksdGhpcy5fcHJlcGFyZUhlaWdodFVwZGF0ZSgpKX0sX3VuYmluZEF1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ciKSx0aGlzLl9vZmYodGhpcy5lbGVtZW50LCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwicGFnZXNob3cgcG9wdXBiZWZvcmVwb3NpdGlvbiB1cGRhdGVsYXlvdXQgcGFuZWxvcGVuIil9LGtleXVwVGltZW91dDpudWxsLF9wcmVwYXJlSGVpZ2h0VXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMua2V5dXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5rZXl1cFRpbWVvdXQpLGE9PT1iP3RoaXMuX3VwZGF0ZUhlaWdodCgpOnRoaXMua2V5dXBUaW1lb3V0PXRoaXMuX2RlbGF5KCJfdXBkYXRlSGVpZ2h0IixhKX0sX3RpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIpfSxfdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpLGo9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCk7dGhpcy5rZXl1cFRpbWVvdXQ9MCwib25wYWdlImluIHRoaXMuZWxlbWVudFswXXx8dGhpcy5lbGVtZW50LmNzcyh7aGVpZ2h0OjAsIm1pbi1oZWlnaHQiOjAsIm1heC1oZWlnaHQiOjB9KSxkPXRoaXMuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQsZT10aGlzLmVsZW1lbnRbMF0uY2xpZW50SGVpZ2h0LGY9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLGc9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpLGg9ZitnLGk9ZCtoKzE1LDA9PT1lJiYoYT1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIikpLGI9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxjPWErYixpKz1jKSx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6aSwibWluLWhlaWdodCI6IiIsIm1heC1oZWlnaHQiOiIifSksdGhpcy53aW5kb3cuc2Nyb2xsVG9wKGopfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9ncm93JiZ0aGlzLmlzVGV4dGFyZWEmJnRoaXMuX3VwZGF0ZUhlaWdodCgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhLmF1dG9ncm93IT09YiYmdGhpcy5pc1RleHRhcmVhJiYoYS5hdXRvZ3Jvdz90aGlzLl9hdXRvZ3JvdygpOnRoaXMuX3VuYmluZEF1dG9ncm93KCkpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6InNlbGVjdDpub3QoIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKTpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnKSApIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246ImNhcmF0LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6ITEsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMSxvdmVybGF5VGhlbWU6bnVsbCxkaXZpZGVyVGhlbWU6bnVsbCxoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6ITAsY2xvc2VUZXh0OiJDbG9zZSIsbmF0aXZlTWVudTohMCxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxtaW5pOiExfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsYSksdGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsYSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMuaW5saW5lfHx0aGlzLmVsZW1lbnQuanFtRGF0YSgiaW5saW5lIiksYz10aGlzLm9wdGlvbnMubWluaXx8dGhpcy5lbGVtZW50LmpxbURhdGEoIm1pbmkiKSxkPSIiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihkPSIgdWktYnRuLWxlZnQiKSx+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGQ9IiB1aS1idG4tcmlnaHQiKSxiJiYoZCs9IiB1aS1idG4taW5saW5lIiksYyYmKGQrPSIgdWktbWluaSIpLHRoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0Iikud3JhcCgiPGRpdiBjbGFzcz0ndWktc2VsZWN0IitkKyInPiIpLHRoaXMuc2VsZWN0SWQ9dGhpcy5zZWxlY3QuYXR0cigiaWQiKXx8InNlbGVjdC0iK3RoaXMudXVpZCx0aGlzLmJ1dHRvbklkPXRoaXMuc2VsZWN0SWQrIi1idXR0b24iLHRoaXMubGFiZWw9YSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SWQrIiddIiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5wYXJlbnRzKCIudWktc2VsZWN0Iik7YS5sZW5ndGg+MCYmKGEuaXMoIi51aS1idG4tbGVmdCwgLnVpLWJ0bi1yaWdodCIpJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYS5oYXNDbGFzcygidWktYnRuLWxlZnQiKT8idWktYnRuLWxlZnQiOiJ1aS1idG4tcmlnaHQiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYSksYS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZC5pY29uP2QuaWNvbnBvc3x8dGhpcy5zZWxlY3QuanFtRGF0YSgiaWNvbnBvcyIpOiExLGY9dGhpcy5idXR0b24uaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5hdHRyKCJpZCIsdGhpcy5idXR0b25JZCkuYWRkQ2xhc3MoInVpLWJ0biIrKGQuaWNvbj8iIHVpLWljb24tIitkLmljb24rIiB1aS1idG4taWNvbi0iK2UrKGQuaWNvbnNoYWRvdz8iIHVpLXNoYWRvdy1pY29uIjoiIik6IiIpKyhkLnRoZW1lPyIgdWktYnRuLSIrZC50aGVtZToiIikrKGQuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiKSsoZC5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSk7dGhpcy5zZXRCdXR0b25UZXh0KCksZC5uYXRpdmVNZW51JiZiLm9wZXJhJiZiLm9wZXJhLnZlcnNpb24mJmYuYWRkQ2xhc3MoInVpLXNlbGVjdC1uYXRpdmVvbmx5IiksdGhpcy5pc011bHRpcGxlJiYodGhpcy5idXR0b25Db3VudD1hKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbGktY291bnQgdWktYm9keS1pbmhlcml0IikuaGlkZSgpLmFwcGVuZFRvKGYuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKGQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCksZC5uYXRpdmVNZW51JiZ0aGlzLmJsdXIoKX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuX29uKHRoaXMuYnV0dG9uLHtrZXlkb3duOiJfaGFuZGxlS2V5ZG93biJ9KSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLGIuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLGIuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLnNlbGVjdGVkKCksZT10aGlzLnBsYWNlaG9sZGVyLGY9YShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uY2hpbGRyZW4oInNwYW4iKS5ub3QoIi51aS1saS1jb3VudCIpLnJlbW92ZSgpLmVuZCgpLmVuZCgpLnByZXBlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZT1kLmxlbmd0aD9kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6Yi5wbGFjZWhvbGRlcixlP2YudGV4dChlKTpmLmh0bWwoIiYjMTYwOyIpLGYuYWRkQ2xhc3MoYi5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3MoZC5hdHRyKCJjbGFzcyIpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSgpKX0sc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdGVkKCk7dGhpcy5pc011bHRpcGxlJiZ0aGlzLmJ1dHRvbkNvdW50W2EubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGEubGVuZ3RoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3JlZnJlc2hCdXR0b24iKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9yZWZyZXNoQnV0dG9uOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaEJ1dHRvbigpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5saW5rcz1mdW5jdGlvbihiKXthKGIpLmZpbmQoImEiKS5qcW1FbmhhbmNlYWJsZSgpLmZpbHRlcigiOmpxbURhdGEocmVsPSdwb3B1cCcpW2hyZWZdW2hyZWYhPScnXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5nZXRBdHRyaWJ1dGUoImhyZWYiKS5zdWJzdHJpbmcoMSk7YiYmKGEuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwhMCksYS5zZXRBdHRyaWJ1dGUoImFyaWEtb3ducyIsYiksYS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCExKSl9KS5lbmQoKS5ub3QoIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX19KGEpLGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZChhLGIsYyxkKXt2YXIgZT1kO3JldHVybiBlPWI+YT9jKyhhLWIpLzI6TWF0aC5taW4oTWF0aC5tYXgoYyxkLWIvMiksYythLWIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJue3g6YS5zY3JvbGxMZWZ0KCkseTphLnNjcm9sbFRvcCgpLGN4OmFbMF0uaW5uZXJXaWR0aHx8YS53aWR0aCgpLGN5OmFbMF0uaW5uZXJIZWlnaHR8fGEuaGVpZ2h0KCl9fWEud2lkZ2V0KCJtb2JpbGUucG9wdXAiLHtvcHRpb25zOnt3cmFwcGVyQ2xhc3M6bnVsbCx0aGVtZTpudWxsLG92ZXJsYXlUaGVtZTpudWxsLHNoYWRvdzohMCxjb3JuZXJzOiEwLHRyYW5zaXRpb246Im5vbmUiLHBvc2l0aW9uVG86Im9yaWdpbiIsdG9sZXJhbmNlOm51bGwsY2xvc2VMaW5rU2VsZWN0b3I6ImE6anFtRGF0YShyZWw9J2JhY2snKSIsY2xvc2VMaW5rRXZlbnRzOiJjbGljay5wb3B1cCIsbmF2aWdhdGVFdmVudHM6Im5hdmlnYXRlLnBvcHVwIixjbG9zZUV2ZW50czoibmF2aWdhdGUucG9wdXAgcGFnZWJlZm9yZWNoYW5nZS5wb3B1cCIsZGlzbWlzc2libGU6ITAsZW5oYW5jZWQ6ITEsaGlzdG9yeTohYS5tb2JpbGUuYnJvd3Nlci5vbGRJRX0sX2hhbmRsZURvY3VtZW50Vm1vdXNlZG93bjpmdW5jdGlvbihiKXt0aGlzLl9pc09wZW4mJmEuY29udGFpbnModGhpcy5fdWkuY29udGFpbmVyWzBdLGIudGFyZ2V0KSYmdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmF0dHIoImlkIiksZD10aGlzLm9wdGlvbnM7ZC5oaXN0b3J5PWQuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3Ztb3VzZWRvd246Il9oYW5kbGVEb2N1bWVudFZtb3VzZWRvd24ifSksYS5leHRlbmQodGhpcyx7X3Njcm9sbFRvcDowLF9wYWdlOmIuY2xvc2VzdCgiLnVpLXBhZ2UiKSxfdWk6bnVsbCxfZmFsbGJhY2tUcmFuc2l0aW9uOiIiLF9jdXJyZW50VHJhbnNpdGlvbjohMSxfcHJlcmVxdWlzaXRlczpudWxsLF9pc09wZW46ITEsX3RvbGVyYW5jZTpudWxsLF9yZXNpemVEYXRhOm51bGwsX2lnbm9yZVJlc2l6ZVRvOjAsX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzczohMX0pLDA9PT10aGlzLl9wYWdlLmxlbmd0aCYmKHRoaXMuX3BhZ2U9YSgiYm9keSIpKSxkLmVuaGFuY2VkP3RoaXMuX3VpPXtjb250YWluZXI6Yi5wYXJlbnQoKSxzY3JlZW46Yi5wYXJlbnQoKS5wcmV2KCkscGxhY2Vob2xkZXI6YSh0aGlzLmRvY3VtZW50WzBdLmdldEVsZW1lbnRCeUlkKGMrIi1wbGFjZWhvbGRlciIpKX06KHRoaXMuX3VpPXRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9hcHBseVRyYW5zaXRpb24oZC50cmFuc2l0aW9uKSksdGhpcy5fc2V0VG9sZXJhbmNlKGQudG9sZXJhbmNlKS5fdWkuZm9jdXNFbGVtZW50PXRoaXMuX3VpLmNvbnRhaW5lcix0aGlzLl9vbih0aGlzLl91aS5zY3JlZW4se3ZjbGljazoiX2VhdEV2ZW50QW5kQ2xvc2UifSksdGhpcy5fb24odGhpcy53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtmb2N1c2luOiJfaGFuZGxlRG9jdW1lbnRGb2N1c0luIn0pfSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMub3B0aW9ucyxlPWQud3JhcHBlckNsYXNzLGY9e3NjcmVlbjphKCI8ZGl2IGNsYXNzPSd1aS1zY3JlZW4taGlkZGVuIHVpLXBvcHVwLXNjcmVlbiAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsZC5vdmVybGF5VGhlbWUpKyInPjwvZGl2PiIpLHBsYWNlaG9sZGVyOmEoIjxkaXYgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz48IS0tIHBsYWNlaG9sZGVyIC0tPjwvZGl2PiIpLGNvbnRhaW5lcjphKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1jb250YWluZXIgdWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIisoZT8iICIrZToiIikrIic+PC9kaXY+Iil9LGc9dGhpcy5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGcuYXBwZW5kQ2hpbGQoZi5zY3JlZW5bMF0pLGcuYXBwZW5kQ2hpbGQoZi5jb250YWluZXJbMF0pLGMmJihmLnNjcmVlbi5hdHRyKCJpZCIsYysiLXNjcmVlbiIpLGYuY29udGFpbmVyLmF0dHIoImlkIixjKyItcG9wdXAiKSxmLnBsYWNlaG9sZGVyLmF0dHIoImlkIixjKyItcGxhY2Vob2xkZXIiKS5odG1sKCI8IS0tIHBsYWNlaG9sZGVyIGZvciAiK2MrIiAtLT4iKSksdGhpcy5fcGFnZVswXS5hcHBlbmRDaGlsZChnKSxmLnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKGIpLGIuZGV0YWNoKCkuYWRkQ2xhc3MoInVpLXBvcHVwICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixkLnRoZW1lKSsiICIrKGQuc2hhZG93PyJ1aS1vdmVybGF5LXNoYWRvdyAiOiIiKSsoZC5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKS5hcHBlbmRUbyhmLmNvbnRhaW5lciksZn0sX2VhdEV2ZW50QW5kQ2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5jbG9zZSgpLCExfSxfcmVzaXplU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuc2NyZWVuLGI9dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKSxjPWEucmVtb3ZlQXR0cigic3R5bGUiKS5oZWlnaHQoKSxkPXRoaXMuZG9jdW1lbnQuaGVpZ2h0KCktMTtkPmM/YS5oZWlnaHQoZCk6Yj5jJiZhLmhlaWdodChiKX0sX2hhbmRsZVdpbmRvd0tleVVwOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl9pc09wZW4mJmIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRVNDQVBFP3RoaXMuX2VhdEV2ZW50QW5kQ2xvc2UoYik6dm9pZCAwfSxfZXhwZWN0UmVzaXplRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMud2luZG93KTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZihhLng9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLngmJmEueT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueSYmYS5jeD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3gmJmEuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLmN5KXJldHVybiExO2NsZWFyVGltZW91dCh0aGlzLl9yZXNpemVEYXRhLnRpbWVvdXRJZCl9cmV0dXJuIHRoaXMuX3Jlc2l6ZURhdGE9e3RpbWVvdXRJZDp0aGlzLl9kZWxheSgiX3Jlc2l6ZVRpbWVvdXQiLDIwMCksd2luZG93Q29vcmRpbmF0ZXM6YX0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuP3RoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fCh0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86IndpbmRvdyJ9KSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSksdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSk6KHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpfSxfc3RvcElnbm9yaW5nUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG89MH0sX2lnbm9yZVJlc2l6ZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX2lnbm9yZVJlc2l6ZVRvJiZjbGVhclRpbWVvdXQodGhpcy5faWdub3JlUmVzaXplVG8pLHRoaXMuX2lnbm9yZVJlc2l6ZVRvPXRoaXMuX2RlbGF5KCJfc3RvcElnbm9yaW5nUmVzaXplRXZlbnRzIiwxZTMpfSxfaGFuZGxlV2luZG93UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuJiYwPT09dGhpcy5faWdub3JlUmVzaXplVG8mJighdGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSYmIXRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzc3x8dGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKXx8dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKS5yZW1vdmVBdHRyKCJzdHlsZSIpKQp9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi50YXJnZXQsZT10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGQhPT1lLmNvbnRhaW5lclswXSl7aWYoYz1hKGQpLDA9PT1jLnBhcmVudHMoKS5maWx0ZXIoZS5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKCl7ImJvZHkiIT09ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZjLmJsdXIoKX0pLGUuZm9jdXNFbGVtZW50LmZvY3VzKCksYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITE7ZS5mb2N1c0VsZW1lbnRbMF09PT1lLmNvbnRhaW5lclswXSYmKGUuZm9jdXNFbGVtZW50PWMpfXRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpfX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/Im5vbmUiPT09Yj8iIjphK2I6YSsiaW5oZXJpdCJ9LF9hcHBseVRyYW5zaXRpb246ZnVuY3Rpb24oYil7cmV0dXJuIGImJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSwibm9uZSIhPT1iJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLCJub25lIj09PXRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj0iIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT10aGlzLl91aS5zY3JlZW47cmV0dXJuIGEud3JhcHBlckNsYXNzIT09YyYmdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS50aGVtZSE9PWMmJmQucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixiLnRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixhLnRoZW1lKSksYS5vdmVybGF5VGhlbWUhPT1jJiYoZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGIub3ZlcmxheVRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLW92ZXJsYXktIixhLm92ZXJsYXlUaGVtZSkpLHRoaXMuX2lzT3BlbiYmZS5hZGRDbGFzcygiaW4iKSksYS5zaGFkb3chPT1jJiZkLnRvZ2dsZUNsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIsYS5zaGFkb3cpLGEuY29ybmVycyE9PWMmJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS50cmFuc2l0aW9uIT09YyYmKHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9ufHx0aGlzLl9hcHBseVRyYW5zaXRpb24oYS50cmFuc2l0aW9uKSksYS50b2xlcmFuY2UhPT1jJiZ0aGlzLl9zZXRUb2xlcmFuY2UoYS50b2xlcmFuY2UpLGEuZGlzYWJsZWQhPT1jJiZhLmRpc2FibGVkJiZ0aGlzLmNsb3NlKCksdGhpcy5fc3VwZXIoYSl9LF9zZXRUb2xlcmFuY2U6ZnVuY3Rpb24oYil7dmFyIGQsZT17dDozMCxyOjE1LGI6MzAsbDoxNX07aWYoYiE9PWMpc3dpdGNoKGQ9U3RyaW5nKGIpLnNwbGl0KCIsIiksYS5lYWNoKGQsZnVuY3Rpb24oYSxiKXtkW2FdPXBhcnNlSW50KGIsMTApfSksZC5sZW5ndGgpe2Nhc2UgMTppc05hTihkWzBdKXx8KGUudD1lLnI9ZS5iPWUubD1kWzBdKTticmVhaztjYXNlIDI6aXNOYU4oZFswXSl8fChlLnQ9ZS5iPWRbMF0pLGlzTmFOKGRbMV0pfHwoZS5sPWUucj1kWzFdKTticmVhaztjYXNlIDQ6aXNOYU4oZFswXSl8fChlLnQ9ZFswXSksaXNOYU4oZFsxXSl8fChlLnI9ZFsxXSksaXNOYU4oZFsyXSl8fChlLmI9ZFsyXSksaXNOYU4oZFszXSl8fChlLmw9ZFszXSl9cmV0dXJuIHRoaXMuX3RvbGVyYW5jZT1lLHRoaXN9LF9jbGFtcFBvcHVwV2lkdGg6ZnVuY3Rpb24oYSl7dmFyIGIsYz1lKHRoaXMud2luZG93KSxkPXt4OnRoaXMuX3RvbGVyYW5jZS5sLHk6Yy55K3RoaXMuX3RvbGVyYW5jZS50LGN4OmMuY3gtdGhpcy5fdG9sZXJhbmNlLmwtdGhpcy5fdG9sZXJhbmNlLnIsY3k6Yy5jeS10aGlzLl90b2xlcmFuY2UudC10aGlzLl90b2xlcmFuY2UuYn07cmV0dXJuIGF8fHRoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsZC5jeCksYj17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LHtyYzpkLG1lbnVTaXplOmJ9fSxfY2FsY3VsYXRlRmluYWxMb2NhdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjLGU9Yi5yYyxmPWIubWVudVNpemU7cmV0dXJuIGM9e2xlZnQ6ZChlLmN4LGYuY3gsZS54LGEueCksdG9wOmQoZS5jeSxmLmN5LGUueSxhLnkpfSxjLnRvcD1NYXRoLm1heCgwLGMudG9wKSxjLnRvcC09TWF0aC5taW4oYy50b3AsTWF0aC5tYXgoMCxjLnRvcCtmLmN5LXRoaXMuZG9jdW1lbnQuaGVpZ2h0KCkpKSxjfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGEsdGhpcy5fY2xhbXBQb3B1cFdpZHRoKCkpfSxfY3JlYXRlUHJlcmVxdWlzaXRlczpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzO2U9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiZiKCl9KSxlLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmMoKX0pLGEud2hlbihlLnNjcmVlbixlLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiYoZi5fcHJlcmVxdWlzaXRlcz1udWxsLGQoKSl9KSxmLl9wcmVyZXF1aXNpdGVzPWV9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyhiLnNjcmVlbkNsYXNzVG9BZGQpLGIucHJlcmVxdWlzaXRlcy5zY3JlZW4ucmVzb2x2ZSgpLGIudHJhbnNpdGlvbiYmIm5vbmUiIT09Yi50cmFuc2l0aW9uJiYoYi5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbihiLnRyYW5zaXRpb24pLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbik/dm9pZCB0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lciwicmVzb2x2ZSIpKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksdm9pZCBiLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLnJlc29sdmUoKSl9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9bnVsbCxmPWUodGhpcy53aW5kb3cpLGc9Yi54LGg9Yi55LGk9Yi5wb3NpdGlvblRvO2lmKGkmJiJvcmlnaW4iIT09aSlpZigid2luZG93Ij09PWkpZz1mLmN4LzIrZi54LGg9Zi5jeS8yK2YueTtlbHNle3RyeXtkPWEoaSl9Y2F0Y2goail7ZD1udWxsfWQmJihkLmZpbHRlcigiOnZpc2libGUiKSwwPT09ZC5sZW5ndGgmJihkPW51bGwpKX1yZXR1cm4gZCYmKGM9ZC5vZmZzZXQoKSxnPWMubGVmdCtkLm91dGVyV2lkdGgoKS8yLGg9Yy50b3ArZC5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoIm51bWJlciIhPT1hLnR5cGUoaCl8fGlzTmFOKGgpKSYmKGg9Zi5jeS8yK2YueSkse3g6Zyx5Omh9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihhKXthPXt4OmEueCx5OmEueSxwb3NpdGlvblRvOmEucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGMsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSxhJiZ0aGlzLmRvY3VtZW50LmZpbmQoIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11bYXJpYS1vd25zPSciK2ErIiddIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuX3RyaWdnZXIoImFmdGVyb3BlbiIpfSxfb3BlbjpmdW5jdGlvbihiKXt2YXIgYz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksZD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGM9ISFiJiZiWzFdLGQ9YS5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGU9ISFkJiZkWzFdLGY9YS5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gbnVsbCE9PWQmJiI0LjAiPT09ZSYmYyYmYz41MzQuMTMmJiFmPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5ub29wLGEubm9vcCxhLnByb3h5KHRoaXMsIl9vcGVuUHJlcmVxdWlzaXRlc0NvbXBsZXRlIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWMudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oYy50cmFuc2l0aW9uKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLXRydW5jYXRlIiksdGhpcy5fcmVwb3NpdGlvbihjKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJmQmJnRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjohMCx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiIiLHNjcmVlbkNsYXNzVG9BZGQ6ImluIixjb250YWluZXJDbGFzc1RvQWRkOiJpbiIsYXBwbHlUcmFuc2l0aW9uOiExLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW46ZnVuY3Rpb24oKXt0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoIm91dCIpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LF9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lcjpmdW5jdGlvbigpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygicmV2ZXJzZSBvdXQiKS5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIikucmVtb3ZlQXR0cigic3R5bGUiKX0sX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl91aS5jb250YWluZXIsZD10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTtiLnJlbW92ZUF0dHIoInRhYmluZGV4IiksYS5tb2JpbGUucG9wdXAuYWN0aXZlPWMsYSgiOmZvY3VzIixiWzBdKS5hZGQoYlswXSkuYmx1cigpLGQmJnRoaXMuZG9jdW1lbnQuZmluZCgiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9JyIrZCsiJ10iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktaW5oZXJpdCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksdGhpcy53aW5kb3cub2ZmKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMud2luZG93Lm9uKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KHRoaXMsIl9jbG9zZVBvcHVwIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY29udGFpbmVyfSxvcGVuOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPXRoaXMsaj10aGlzLm9wdGlvbnM7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZXx8ai5kaXNhYmxlZD90aGlzOihhLm1vYmlsZS5wb3B1cC5hY3RpdmU9dGhpcyx0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksai5oaXN0b3J5PyhoPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnksZD1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGU9YS5tb2JpbGUuYWN0aXZlUGFnZSxmPWU/ZS5oYXNDbGFzcygidWktZGlhbG9nIik6ITEsdGhpcy5fbXlVcmw9Yz1oLmdldEFjdGl2ZSgpLnVybCwoZz1jLmluZGV4T2YoZCk+LTEmJiFmJiZoLmFjdGl2ZUluZGV4PjApPyhpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLHRoaXMpOigtMSE9PWMuaW5kZXhPZihkKXx8Zj9jPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZDpjKz1jLmluZGV4T2YoIiMiKT4tMT9kOiIjIitkLHRoaXMud2luZG93Lm9uZSgiYmVmb3JlbmF2aWdhdGUiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpfSksdGhpcy51cmxBbHRlcmVkPSEwLGEubW9iaWxlLm5hdmlnYXRlKGMse3JvbGU6ImRpYWxvZyJ9KSx0aGlzKSk6KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksaS5lbGVtZW50LmRlbGVnYXRlKGouY2xvc2VMaW5rU2VsZWN0b3Isai5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7aS5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpcz90aGlzOih0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy5vcHRpb25zLmhpc3RvcnkmJnRoaXMudXJsQWx0ZXJlZD8oYS5tb2JpbGUuYmFjaygpLHRoaXMudXJsQWx0ZXJlZD0hMSk6dGhpcy5fY2xvc2VQb3B1cCgpLHRoaXMpfX0pLGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbms9ZnVuY3Rpb24oYil7dmFyIGMsZD1hLm1vYmlsZS5wYXRoLGU9YShkLmhhc2hUb1NlbGVjdG9yKGQucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gpKS5maXJzdCgpO2UubGVuZ3RoPjAmJmUuZGF0YSgibW9iaWxlLXBvcHVwIikmJihjPWIub2Zmc2V0KCksZS5wb3B1cCgib3BlbiIse3g6Yy5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzIseTpjLnRvcCtiLm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHBvc2l0aW9uVG86Yi5qcW1EYXRhKCJwb3NpdGlvbi10byIpfSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKX0sYS5tb2JpbGUuZG9jdW1lbnQub24oInBhZ2ViZWZvcmVjaGFuZ2UiLGZ1bmN0aW9uKGIsYyl7InBvcHVwIj09PWMub3B0aW9ucy5yb2xlJiYoYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluayhjLm9wdGlvbnMubGluayksYi5wcmV2ZW50RGVmYXVsdCgpKX0pfShhKSxmdW5jdGlvbihhLGIpe3ZhciBkPSIudWktZGlzYWJsZWQsLnVpLXN0YXRlLWRpc2FibGVkLC51aS1saS1kaXZpZGVyLC51aS1zY3JlZW4taGlkZGVuLDpqcW1EYXRhKHJvbGU9J3BsYWNlaG9sZGVyJykiLGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWFbYysiQWxsIl0oKS5ub3QoZCkuZmlyc3QoKTtlLmxlbmd0aCYmKGIuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxlLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpfTthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLnNlbGVjdG1lbnUse19jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7cmV0dXJuIGEubmF0aXZlTWVudT1hLm5hdGl2ZU1lbnV8fHRoaXMuZWxlbWVudC5wYXJlbnRzKCI6anFtRGF0YShyb2xlPSdwb3B1cCcpLDptb2JpbGUtcG9wdXAiKS5sZW5ndGg+MCx0aGlzLl9zdXBlcigpfSxfaGFuZGxlU2VsZWN0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYmx1cigpLHRoaXMuYnV0dG9uLmZvY3VzKCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLHRoaXMuX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24oYSl9LF9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5pc09wZW58fHRoaXMub3B0aW9ucy5uYXRpdmVNZW51fHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/dGhpcy5idXR0b24uYXR0cigiaHJlZiIsIiMiK3RoaXMucG9wdXBJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOnRoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLmRpYWxvZ0lkKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLHRoaXMuaXNPcGVuPSEwKX0sX2hhbmRsZUxpc3RGb2N1czpmdW5jdGlvbihiKXt2YXIgYz0iZm9jdXNpbiI9PT1iLnR5cGU/e3RhYmluZGV4OiIwIixldmVudDoidm1vdXNlb3ZlciJ9Ont0YWJpbmRleDoiLTEiLGV2ZW50OiJ2bW91c2VvdXQifTthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsYy50YWJpbmRleCkudHJpZ2dlcihjLmV2ZW50KX0sX2hhbmRsZUxpc3RLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGUoZCxjLCJwcmV2IiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsIm5leHQiKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSwhMX19LF9oYW5kbGVNZW51UGFnZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheWVkVHJpZ2dlcigpLHRoaXMudGhpc1BhZ2UucGFnZSgiYmluZFJlbW92ZSIpfSxfaGFuZGxlSGVhZGVyQ2xvc2VDbGljazpmdW5jdGlvbigpe3JldHVybiJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/KHRoaXMuY2xvc2UoKSwhMSk6dm9pZCAwfSxfaGFuZGxlTGlzdEl0ZW1DbGljazpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCJsaSIpLGQ9dGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCxlPWEubW9iaWxlLmdldEF0dHJpYnV0ZShjLCJvcHRpb24taW5kZXgiKSxmPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5lcShlKVswXTtmLnNlbGVjdGVkPXRoaXMuaXNNdWx0aXBsZT8hZi5zZWxlY3RlZDohMCx0aGlzLmlzTXVsdGlwbGUmJmMuZmluZCgiYSIpLnRvZ2dsZUNsYXNzKCJ1aS1jaGVja2JveC1vbiIsZi5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWNoZWNrYm94LW9mZiIsIWYuc2VsZWN0ZWQpLHRoaXMuaXNNdWx0aXBsZXx8ZD09PWV8fCh0aGlzLl90cmlnZ2VyQ2hhbmdlPSEwKSx0aGlzLmlzTXVsdGlwbGU/KHRoaXMuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLHRoaXMubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuZXEoZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSk6dGhpcy5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMub3B0aW9ucztyZXR1cm4gdi5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6KGM9dGhpcy5zZWxlY3RJZCxkPWMrIi1saXN0Ym94IixlPWMrIi1kaWFsb2ciLGY9dGhpcy5sYWJlbCxnPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLGg9dGhpcy5lbGVtZW50WzBdLm11bHRpcGxlLGk9YysiLW1lbnUiLGo9di50aGVtZT8iIGRhdGEtIithLm1vYmlsZS5ucysidGhlbWU9JyIrdi50aGVtZSsiJyI6IiIsaz12Lm92ZXJsYXlUaGVtZXx8di50aGVtZXx8bnVsbCxsPWs/IiBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIraysiJyI6IiIsbT12LmRpdmlkZXJUaGVtZSYmaD8iIGRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZT0nIit2LmRpdmlkZXJUaGVtZSsiJyI6IiIsbj1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBjbGFzcz0ndWktc2VsZWN0bWVudScgaWQ9JyIrZSsiJyIraitsKyI+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKSxvPWEoIjxkaXYiK2orbCsiIGlkPSciK2QrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPjwvZGl2PiIpLmluc2VydEFmdGVyKHRoaXMuc2VsZWN0KS5wb3B1cCgpLHA9YSgiPHVsIGNsYXNzPSd1aS1zZWxlY3RtZW51LWxpc3QnIGlkPSciK2krIicgcm9sZT0nbGlzdGJveCcgYXJpYS1sYWJlbGxlZGJ5PSciK3RoaXMuYnV0dG9uSWQrIiciK2orbSsiPjwvdWw+IikuYXBwZW5kVG8obykscT1hKCI8ZGl2IGNsYXNzPSd1aS1oZWFkZXIgdWktYmFyLSIrKHYudGhlbWU/di50aGVtZToiaW5oZXJpdCIpKyInPjwvZGl2PiIpLnByZXBlbmRUbyhvKSxyPWEoIjxoMSBjbGFzcz0ndWktdGl0bGUnPjwvaDE+IikuYXBwZW5kVG8ocSksdGhpcy5pc011bHRpcGxlJiYodT1hKCI8YT4iLHtyb2xlOiJidXR0b24iLHRleHQ6di5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktYnRuLWxlZnQgdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tZGVsZXRlIn0pLmFwcGVuZFRvKHEpKSxhLmV4dGVuZCh0aGlzLHtzZWxlY3RJZDpjLG1lbnVJZDppLHBvcHVwSWQ6ZCxkaWFsb2dJZDplLHRoaXNQYWdlOmcsbWVudVBhZ2U6bixsYWJlbDpmLGlzTXVsdGlwbGU6aCx0aGVtZTp2LnRoZW1lLGxpc3Rib3g6byxsaXN0OnAsaGVhZGVyOnEsaGVhZGVyVGl0bGU6cixoZWFkZXJDbG9zZTp1LG1lbnVQYWdlQ29udGVudDpzLG1lbnVQYWdlQ2xvc2U6dCxwbGFjZWhvbGRlcjoiIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29yaWdUYWJJbmRleD09PWImJih0aGlzLl9vcmlnVGFiSW5kZXg9bnVsbD09PXRoaXMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKT8hMTp0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIpKSx0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIiksdGhpcy5fb24odGhpcy5zZWxlY3Qse2ZvY3VzOiJfaGFuZGxlU2VsZWN0Rm9jdXMifSksdGhpcy5fb24odGhpcy5idXR0b24se3ZjbGljazoiX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24ifSksdGhpcy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IiksdGhpcy5fb24odGhpcy5saXN0LHtmb2N1c2luOiJfaGFuZGxlTGlzdEZvY3VzIixmb2N1c291dDoiX2hhbmRsZUxpc3RGb2N1cyIsa2V5ZG93bjoiX2hhbmRsZUxpc3RLZXlkb3duIiwiY2xpY2sgbGk6bm90KC51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIpIjoiX2hhbmRsZUxpc3RJdGVtQ2xpY2sifSksdGhpcy5fb24odGhpcy5tZW51UGFnZSx7cGFnZWhpZGU6Il9oYW5kbGVNZW51UGFnZUhpZGUifSksdGhpcy5fb24odGhpcy5saXN0Ym94LHtwb3B1cGFmdGVyY2xvc2U6Il9wb3B1cENsb3NlZCJ9KSx0aGlzLmlzTXVsdGlwbGUmJnRoaXMuX29uKHRoaXMuaGVhZGVyQ2xvc2Use2NsaWNrOiJfaGFuZGxlSGVhZGVyQ2xvc2VDbGljayJ9KSx0aGlzKX0sX3BvcHVwQ2xvc2VkOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuX2RlbGF5ZWRUcmlnZ2VyKCl9LF9kZWxheWVkVHJpZ2dlcjpmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXJDaGFuZ2UmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJjaGFuZ2UiKSx0aGlzLl90cmlnZ2VyQ2hhbmdlPSExfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpc3QuZmluZCgibGkiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik7cmV0dXJuIGIudGV4dCgpIT09YS50ZXh0KCl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSIpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIHRoaXMub3B0aW9ucy5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKGIpOihjPXRoaXMsKGJ8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZjLl9idWlsZExpc3QoKSxkPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCksYy5zZXRCdXR0b25UZXh0KCksYy5zZXRCdXR0b25Db3VudCgpLHZvaWQgYy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5maW5kKCJhIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmVuZCgpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe2lmKGEuaW5BcnJheShiLGQpPi0xKXt2YXIgZT1hKHRoaXMpO2UuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLGMuaXNNdWx0aXBsZT9lLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWNoZWNrYm94LW9uIik6ZS5oYXNDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpP2UubmV4dCgpLmZpbmQoImEiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6ZS5maW5kKCJhIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfX0pKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGE9dGhpczsicGFnZSI9PT1hLm1lbnVUeXBlPyhhLm1lbnVQYWdlLmRpYWxvZygiY2xvc2UiKSxhLmxpc3QuYXBwZW5kVG8oYS5saXN0Ym94KSk6YS5saXN0Ym94LnBvcHVwKCJjbG9zZSIpLGEuX2ZvY3VzQnV0dG9uKCksYS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2ZvY3VzTWVudUl0ZW06ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxpc3QuZmluZCgiYS4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTswPT09Yi5sZW5ndGgmJihiPXRoaXMubGlzdC5maW5kKCJsaTpub3QoIitkKyIpIGEudWktYnRuIikpLGIuZmlyc3QoKS5mb2N1cygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1iLm1lbnVQYWdlLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixnKX0pLGIubWVudVBhZ2Uub25lKHtwYWdlc2hvdzphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLCJjbG9zZSIpfSksYi5tZW51VHlwZT0icGFnZSIsYi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCksYi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLmdldEVuY29kZWRUZXh0KCl8fGIucGxhY2Vob2xkZXIpKTooYi5tZW51VHlwZT0ib3ZlcmxheSIsYi5saXN0Ym94Lm9uZSh7cG9wdXBhZnRlcm9wZW46YS5wcm94eSh0aGlzLCJfZm9jdXNNZW51SXRlbSIpfSkpfSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIGIsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxPXRoaXMscj10aGlzLm9wdGlvbnMscz10aGlzLnBsYWNlaG9sZGVyLHQ9ITAsdT0iZmFsc2UiLHY9ImRhdGEtIithLm1vYmlsZS5ucyx3PXYrIm9wdGlvbi1pbmRleCIseD12KyJpY29uIix5PXYrInJvbGUiLHo9disicGxhY2Vob2xkZXIiLEE9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksQj0hMTtmb3IocS5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLGQ9Yi5sZW5ndGgsZT10aGlzLnNlbGVjdFswXSxnPTA7ZD5nO2crKyxCPSExKWg9YltnXSxpPWEoaCksaS5oYXNDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfHwoaj1oLnBhcmVudE5vZGUsbT1bXSxrPWkudGV4dCgpLGw9Yy5jcmVhdGVFbGVtZW50KCJhIiksbC5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksbC5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGspKSxqIT09ZSYmIm9wdGdyb3VwIj09PWoubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG49ai5nZXRBdHRyaWJ1dGUoImxhYmVsIiksbiE9PWYmJihvPWMuY3JlYXRlRWxlbWVudCgibGkiKSxvLnNldEF0dHJpYnV0ZSh5LCJsaXN0LWRpdmlkZXIiKSxvLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLG8uc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksby5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKG4pKSxBLmFwcGVuZENoaWxkKG8pLGY9bikpLCF0fHxoLmdldEF0dHJpYnV0ZSgidmFsdWUiKSYmMCE9PWsubGVuZ3RoJiYhaS5qcW1EYXRhKCJwbGFjZWhvbGRlciIpfHwodD0hMSxCPSEwLG51bGw9PT1oLmdldEF0dHJpYnV0ZSh6KSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksaC5zZXRBdHRyaWJ1dGUoeiwhMCksci5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm0ucHVzaCgidWktc2NyZWVuLWhpZGRlbiIpLHMhPT1rJiYocz1xLnBsYWNlaG9sZGVyPWspKSxwPWMuY3JlYXRlRWxlbWVudCgibGkiKSxoLmRpc2FibGVkJiYobS5wdXNoKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHAuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIiwhMCkpLHAuc2V0QXR0cmlidXRlKHcsZykscC5zZXRBdHRyaWJ1dGUoeCx1KSxCJiZwLnNldEF0dHJpYnV0ZSh6LCEwKSxwLmNsYXNzTmFtZT1tLmpvaW4oIiAiKSxwLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLGwuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksdGhpcy5pc011bHRpcGxlJiZhKGwpLmFkZENsYXNzKCJ1aS1idG4gdWktY2hlY2tib3gtb2ZmIHVpLWJ0bi1pY29uLXJpZ2h0IikscC5hcHBlbmRDaGlsZChsKSxBLmFwcGVuZENoaWxkKHApKTtxLmxpc3RbMF0uYXBwZW5kQ2hpbGQoQSksdGhpcy5pc011bHRpcGxlfHxzLmxlbmd0aD90aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik6dGhpcy5oZWFkZXIuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSxxLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcigpOmEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm5hdGl2ZU1lbnV8fCh0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09YiYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoInRhYmluZGV4IikpLHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0ciYmdGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicGxhY2Vob2xkZXIiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksdGhpcy5tZW51UGFnZS5yZW1vdmUoKSksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dmFyIGM9Yj9iOltdO3JldHVybiBjLnB1c2goInVpLWJ0biIpLGEudGhlbWUmJmMucHVzaCgidWktYnRuLSIrYS50aGVtZSksYS5pY29uJiYoYz1jLmNvbmNhdChbInVpLWljb24tIithLmljb24sInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zXSksYS5pY29uc2hhZG93JiZjLnB1c2goInVpLXNoYWRvdy1pY29uIikpLGEuaW5saW5lJiZjLnB1c2goInVpLWJ0bi1pbmxpbmUiKSxhLnNoYWRvdyYmYy5wdXNoKCJ1aS1zaGFkb3ciKSxhLmNvcm5lcnMmJmMucHVzaCgidWktY29ybmVyLWFsbCIpLGEubWluaSYmYy5wdXNoKCJ1aS1taW5pIiksY31mdW5jdGlvbiBkKGEpe3ZhciBjLGQsZSxnPSExLGg9ITAsaT17aWNvbjoiIixpbmxpbmU6ITEsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnNoYWRvdzohMSxtaW5pOiExfSxqPVtdO2ZvcihhPWEuc3BsaXQoIiAiKSxjPTA7YzxhLmxlbmd0aDtjKyspZT0hMCxkPWZbYVtjXV0sZCE9PWI/KGU9ITEsaVtkXT0hMCk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLWljb24tIik/KGU9ITEsaD0hMSxpLmljb25wb3M9YVtjXS5zdWJzdHJpbmcoMTIpKTowPT09YVtjXS5pbmRleE9mKCJ1aS1pY29uLSIpPyhlPSExLGkuaWNvbj1hW2NdLnN1YnN0cmluZyg4KSk6MD09PWFbY10uaW5kZXhPZigidWktYnRuLSIpJiY4PT09YVtjXS5sZW5ndGg/KGU9ITEsaS50aGVtZT1hW2NdLnN1YnN0cmluZyg3KSk6InVpLWJ0biI9PT1hW2NdJiYoZT0hMSxnPSEwKSxlJiZqLnB1c2goYVtjXSk7cmV0dXJuIGgmJihpLmljb249IiIpLHtvcHRpb25zOmksdW5rbm93bkNsYXNzZXM6aixhbHJlYWR5RW5oYW5jZWQ6Z319ZnVuY3Rpb24gZShhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfXZhciBmPXsidWktc2hhZG93Ijoic2hhZG93IiwidWktY29ybmVyLWFsbCI6ImNvcm5lcnMiLCJ1aS1idG4taW5saW5lIjoiaW5saW5lIiwidWktc2hhZG93LWljb24iOiJpY29uc2hhZG93IiwidWktbWluaSI6Im1pbmkifSxnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuZ2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09Yz9iOmN9LGg9L1tBLVpdL2c7YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oZixpKXt2YXIgaixrLGwsbSxuLG89YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM7Zm9yKGo9MDtqPHRoaXMubGVuZ3RoO2orKyl7aWYobD10aGlzW2pdLGs9aT97YWxyZWFkeUVuaGFuY2VkOiExLHVua25vd25DbGFzc2VzOltdfTpkKGwuY2xhc3NOYW1lKSxtPWEuZXh0ZW5kKHt9LGsuYWxyZWFkeUVuaGFuY2VkP2sub3B0aW9uczp7fSxmKSwhay5hbHJlYWR5RW5oYW5jZWQpZm9yKG4gaW4gbyltW25dPT09YiYmKG1bbl09ZyhsLG4ucmVwbGFjZShoLGUpKSk7bC5jbGFzc05hbWU9YyhhLmV4dGVuZCh7fSxvLG0pLGsudW5rbm93bkNsYXNzZXMpLmpvaW4oIiAiKSwiYnV0dG9uIiE9PWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZsLnNldEF0dHJpYnV0ZSgicm9sZSIsImJ1dHRvbiIpfXJldHVybiB0aGlzfSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17aWNvbjoiIixpY29ucG9zOiJsZWZ0Iix0aGVtZTpudWxsLGlubGluZTohMSxzaGFkb3c6ITAsY29ybmVyczohMCxpY29uc2hhZG93OiExLG1pbmk6ITF9LGEuZXh0ZW5kKGEuZm4uYnV0dG9uTWFya3VwLHtpbml0U2VsZWN0b3I6ImE6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEsIGJ1dHRvbjpub3QoOmpxbURhdGEocm9sZT0nbmF2YmFyJykgYnV0dG9uKSJ9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5leHRlbmQoe29wdGlvbnM6e2VuaGFuY2VkOiExLHRoZW1lOm51bGwsc2hhZG93OiExLGNvcm5lcnM6ITAsZXhjbHVkZUludmlzaWJsZTohMCx0eXBlOiJ2ZXJ0aWNhbCIsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczthLmZuLmJ1dHRvbk1hcmt1cCYmdGhpcy5lbGVtZW50LmZpbmQoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5idXR0b25NYXJrdXAoKSxhLmVhY2godGhpcy5fY2hpbGRXaWRnZXRzLGEucHJveHkoZnVuY3Rpb24oYixjKXthLm1vYmlsZVtjXSYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGVbY10uaW5pdFNlbGVjdG9yKS5ub3QoYS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCkpW2NdKCl9LHRoaXMpKSxhLmV4dGVuZCh0aGlzLHtfdWk6bnVsbCxfaW5pdGlhbFJlZnJlc2g6ITB9KSx0aGlzLl91aT1jLmVuaGFuY2VkP3tncm91cExlZ2VuZDpiLmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsIikuY2hpbGRyZW4oKSxjaGlsZFdyYXBwZXI6Yi5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1jb250cm9scyIpfTp0aGlzLl9lbmhhbmNlKCl9LF9jaGlsZFdpZGdldHM6WyJjaGVja2JveHJhZGlvIiwic2VsZWN0bWVudSIsImJ1dHRvbiJdLF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gYT8ibm9uZSI9PT1hPyIiOiJ1aS1ncm91cC10aGVtZS0iK2E6IiJ9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGQ9e2dyb3VwTGVnZW5kOmIuY2hpbGRyZW4oImxlZ2VuZCIpLGNoaWxkV3JhcHBlcjpiLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrKCJob3Jpem9udGFsIj09PWMudHlwZT8iaG9yaXpvbnRhbCI6InZlcnRpY2FsIikrIiAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGMudGhlbWUpKyIgIisoYy5jb3JuZXJzPyJ1aS1jb3JuZXItYWxsICI6IiIpKyhjLm1pbmk/InVpLW1pbmkgIjoiIikpLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzICIrKGMuc2hhZG93PT09ITA/InVpLXNoYWRvdyI6IiIpKyInPjwvZGl2PiIpLmNoaWxkcmVuKCl9O3JldHVybiBkLmdyb3VwTGVnZW5kLmxlbmd0aD4wJiZhKCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPjwvZGl2PiIpLmFwcGVuZChkLmdyb3VwTGVnZW5kKS5wcmVwZW5kVG8oYiksZH0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlPXRoaXMuZWxlbWVudDtyZXR1cm4gYS50eXBlIT09YiYmKGUucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIisoImhvcml6b250YWwiPT09YS50eXBlPyJob3Jpem9udGFsIjoidmVydGljYWwiKSksYz0hMCksYS50aGVtZSE9PWImJmUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24odGhpcy5vcHRpb25zLnRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYS50aGVtZSkpLGEuY29ybmVycyE9PWImJmUudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEuY29ybmVycyksYS5taW5pIT09YiYmZS50b2dnbGVDbGFzcygidWktbWluaSIsYS5taW5pKSxhLnNoYWRvdyE9PWImJnRoaXMuX3VpLmNoaWxkV3JhcHBlci50b2dnbGVDbGFzcygidWktc2hhZG93IixhLnNoYWRvdyksYS5leGNsdWRlSW52aXNpYmxlIT09YiYmKHRoaXMub3B0aW9ucy5leGNsdWRlSW52aXNpYmxlPWEuZXhjbHVkZUludmlzaWJsZSxjPSEwKSxkPXRoaXMuX3N1cGVyKGEpLGMmJnRoaXMucmVmcmVzaCgpLGR9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jaGlsZFdyYXBwZXJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmNvbnRhaW5lcigpLGM9Yi5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGQ9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmYi5maW5kKCI6bW9iaWxlLWNoZWNrYm94cmFkaW8iKS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIiksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhjLHRoaXMub3B0aW9ucy5leGNsdWRlSW52aXNpYmxlP3RoaXMuX2dldFZpc2libGVzKGMsZCk6YyxkKSx0aGlzLl9pbml0aWFsUmVmcmVzaD0hMX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYSxiLGM9dGhpcy5vcHRpb25zO3JldHVybiBjLmVuaGFuY2VkP3RoaXM6KGE9dGhpcy5fdWksYj10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWwgdWktY29ybmVyLWFsbCB1aS1taW5pICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkpLmZpbmQoIi51aS1idG4iKS5ub3QoIi51aS1zbGlkZXItaGFuZGxlIiksdGhpcy5fcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlcyhiKSxhLmdyb3VwTGVnZW5kLnVud3JhcCgpLHZvaWQgYS5jaGlsZFdyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIse2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIixvcHRpb25zOnt0aGVtZTpudWxsLGFkZEJhY2tCdG46ITEsYmFja0J0blRoZW1lOm51bGwsYmFja0J0blRleHQ6IkJhY2sifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMuZWxlbWVudC5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpOzA9PT1lLmxlbmd0aCYmKGU9ITEsdGhpcy5fb24odGhpcy5kb2N1bWVudCx7cGFnZXNob3c6InJlZnJlc2gifSkpLGEuZXh0ZW5kKHRoaXMse3JvbGU6ZCxwYWdlOmUsbGVmdGJ0bjpiLHJpZ2h0YnRuOmN9KSx0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsImhlYWRlciI9PT1kPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpLmFkZENsYXNzKCJ1aS0iK2QpLHRoaXMucmVmcmVzaCgpLHRoaXMuX3NldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7aWYoYS5hZGRCYWNrQnRuIT09YiYmdGhpcy5fdXBkYXRlQmFja0J1dHRvbigpLG51bGwhPWEuYmFja0J0blRoZW1lJiZ0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXRvb2xiYXItYmFjay1idG4iKS5hZGRDbGFzcygidWktYnRuIHVpLWJ0bi0iK2EuYmFja0J0blRoZW1lKSxhLmJhY2tCdG5UZXh0IT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIC51aS1idG4tdGV4dCIpLnRleHQoYS5iYWNrQnRuVGV4dCksYS50aGVtZSE9PWIpe3ZhciBjPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJhci0iK2MpLmFkZENsYXNzKCJ1aS1iYXItIitkKX10aGlzLl9zdXBlcihhKX0scmVmcmVzaDpmdW5jdGlvbigpeyJoZWFkZXIiPT09dGhpcy5yb2xlJiZ0aGlzLl9hZGRIZWFkZXJCdXR0b25DbGFzc2VzKCksdGhpcy5wYWdlfHwodGhpcy5fc2V0UmVsYXRpdmUoKSwiZm9vdGVyIj09PXRoaXMucm9sZT90aGlzLmVsZW1lbnQuYXBwZW5kVG8oImJvZHkiKToiaGVhZGVyIj09PXRoaXMucm9sZSYmdGhpcy5fdXBkYXRlQmFja0J1dHRvbigpKSx0aGlzLl9hZGRIZWFkaW5nQ2xhc3NlcygpLHRoaXMuX2J0bk1hcmt1cCgpfSxfc2V0UmVsYXRpdmU6ZnVuY3Rpb24oKXthKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJ10iKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KX0sX2J0bk1hcmt1cDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiYSIpLmZpbHRlcigiOm5vdChbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdub25lJ10pIikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIiwiYnV0dG9uIiksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNyZWF0ZSIpfSxfYWRkSGVhZGVyQnV0dG9uQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiYSwgYnV0dG9uIik7dGhpcy5sZWZ0YnRuPWEuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0IikmJiFhLmhhc0NsYXNzKCJ1aS10b29sYmFyLWJhY2stYnRuIiksdGhpcy5yaWdodGJ0bj1hLmhhc0NsYXNzKCJ1aS1idG4tcmlnaHQiKSx0aGlzLmxlZnRidG49dGhpcy5sZWZ0YnRufHxhLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCwudWktdG9vbGJhci1iYWNrLWJ0biIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCx0aGlzLnJpZ2h0YnRuPXRoaXMucmlnaHRidG58fGEuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpLmxlbmd0aH0sX3VwZGF0ZUJhY2tCdXR0b246ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMub3B0aW9ucyxkPWMuYmFja0J0blRoZW1lfHxjLnRoZW1lO2I9dGhpcy5fYmFja0J1dHRvbj10aGlzLl9iYWNrQnV0dG9ufHx7fSx0aGlzLm9wdGlvbnMuYWRkQmFja0J0biYmImhlYWRlciI9PT10aGlzLnJvbGUmJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJih0aGlzLnBhZ2U/dGhpcy5wYWdlWzBdLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiKSE9PWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpOmEubW9iaWxlLm5hdmlnYXRlJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5JiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4PjApJiYhdGhpcy5sZWZ0YnRuP2IuYXR0YWNoZWR8fChiLmVsZW1lbnQ9KGIuZWxlbWVudHx8YSgiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLWJ0bi1sZWZ0ICIrKGQ/InVpLWJ0bi0iK2QrIiAiOiIiKSsidWktdG9vbGJhci1iYWNrLWJ0biB1aS1pY29uLWNhcmF0LWwgdWktYnRuLWljb24tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snPiIrYy5iYWNrQnRuVGV4dCsiPC9hPiIpKS5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSxiLmF0dGFjaGVkPSEwKTpiLmVsZW1lbnQmJihiLmVsZW1lbnQuZGV0YWNoKCksYi5hdHRhY2hlZD0hMSl9LF9hZGRIZWFkaW5nQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLGEubW9iaWxlLnRvb2xiYXIse29wdGlvbnM6e3Bvc2l0aW9uOm51bGwsdmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1mbGlwc3dpdGNoLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlbiIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3JldHVybiFhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbn19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJmaXhlZCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb258fHRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCl8fHRoaXMuX21ha2VGaXhlZCgpfSxfbWFrZUZpeGVkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZpeGVkIiksdGhpcy51cGRhdGVQYWdlUGFkZGluZygpLHRoaXMuX2FkZFRyYW5zaXRpb25DbGFzcygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5fYmluZFRvZ2dsZUhhbmRsZXJzKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKCJmaXhlZCI9PT1jLnBvc2l0aW9uJiYiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiZ0aGlzLl9tYWtlRml4ZWQoKSwiZml4ZWQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiYhdGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKSl7dmFyIGQ9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg+MD9hKCIudWktcGFnZS1hY3RpdmUiKTphKCIudWktcGFnZSIpLmVxKDApO2MuZnVsbHNjcmVlbiE9PWImJihjLmZ1bGxzY3JlZW4/KHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSk6KHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5yZW1vdmVDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKS5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZpeGVkIikpKX10aGlzLl9zdXBlcihjKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJiJub25lIiE9PWEmJigic2xpZGUiPT09YSYmKGE9dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFnZT90aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTp0aGlzLmRvY3VtZW50O3RoaXMuX29uKGEse3BhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHdlYmtpdEFuaW1hdGlvblN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLGFuaW1hdGlvbnN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHVwZGF0ZWxheW91dDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixwYWdlc2hvdzoiX2hhbmRsZVBhZ2VTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksYi52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpLHRoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb24odGhpcy53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKHRoaXMud2luZG93LCJ0aHJvdHRsZWRyZXNpemUiKSxoLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzJiYoZD1hKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLnBhZ2UpLGU9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5wYWdlKSxmPWQubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZC5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSxnPWUubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZS5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSwoZi5sZW5ndGh8fGcubGVuZ3RoKSYmKGYuYWRkKGcpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGMubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtnLnByZXBlbmRUbyh0aGlzKSxmLmFwcGVuZFRvKHRoaXMpfSkpKX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ImhlYWRlciI9PT10aGlzLnJvbGUsZj1wYXJzZUZsb2F0KGQuY3NzKGU/InRvcCI6ImJvdHRvbSIpKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9YyYmYy50eXBlPT09YiYmY3x8dGhpcy5wYWdlfHxkLmNsb3Nlc3QoIi51aS1wYWdlIiksYz10aGlzLnBhZ2U/dGhpcy5wYWdlOiIudWktcGFnZS1hY3RpdmUiLGEoYykuY3NzKCJwYWRkaW5nLSIrKGU/InRvcCI6ImJvdHRvbSIpLGQub3V0ZXJIZWlnaHQoKStmKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMud2luZG93LGQ9dGhpcy5lbGVtZW50LGU9Yy5zY3JvbGxUb3AoKSxmPWQuaGVpZ2h0KCksZz10aGlzLnBhZ2U/ZC5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpOmEoIi51aS1wYWdlLWFjdGl2ZSIpLmhlaWdodCgpLGg9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7cmV0dXJuIWImJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmIm5vbmUiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJigiaGVhZGVyIj09PXRoaXMucm9sZSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZlPmZ8fCJmb290ZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmctZj5lK2gpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKCJvdXQgIitiKS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQsZD0ib3V0IisoInNsaWRlIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMsZT1kLm9wdGlvbnMsZj0hMCxnPXRoaXMucGFnZT90aGlzLnBhZ2U6YSgiLnVpLXBhZ2UiKTtnLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7ZS50YXBUb2dnbGUmJiFhKGIudGFyZ2V0KS5jbG9zZXN0KGUudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmQudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IixmdW5jdGlvbihnKXtzY3JlZW4ud2lkdGg8MTAyNSYmYShnLnRhcmdldCkuaXMoZS5oaWRlRHVyaW5nRm9jdXMpJiYhYShnLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmKCJmb2N1c291dCIhPT1nLnR5cGV8fGY/ImZvY3VzaW4iPT09Zy50eXBlJiZmJiYoY2xlYXJUaW1lb3V0KGIpLGY9ITEsYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5oaWRlKCl9LDApKTooZj0hMCxjbGVhclRpbWVvdXQoYyksYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zaG93KCl9LDApKSl9KX0sX3NldFJlbGF0aXZlOmZ1bmN0aW9uKCl7ImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmYSgiW2RhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSddIikuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5oYXNDbGFzcygidWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLGEubW9iaWxlLnRvb2xiYXIse19tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX3dvcmthcm91bmRzKCl9LF93b3JrYXJvdW5kczpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sYz1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZigiaVBob25lIik+LTF8fGIuaW5kZXhPZigiaVBhZCIpPi0xfHxiLmluZGV4T2YoImlQb2QiKT4tMSllPSJpb3MiO2Vsc2V7aWYoIShhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSkpcmV0dXJuO2U9ImFuZHJvaWQifWlmKCJpb3MiPT09ZSlmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO2Vsc2V7aWYoISgiYW5kcm9pZCI9PT1lJiZkJiY1MzQ+ZCkpcmV0dXJuO2YuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKX19LF92aWV3cG9ydE9mZnNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaGFzQ2xhc3MoInVpLWhlYWRlciIpLGM9TWF0aC5hYnMoYS5vZmZzZXQoKS50b3AtdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBifHwoYz1NYXRoLnJvdW5kKGMtdGhpcy53aW5kb3cuaGVpZ2h0KCkrYS5vdXRlckhlaWdodCgpKS02MCksY30sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBiPWEuX3ZpZXdwb3J0T2Zmc2V0KCk7Yj4yJiZhLl92aXNpYmxlJiZhLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VGbG9hdChhKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpO2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZS5jbG9uZSgpLGI9YS5lcSgwKSxjPWEuZXEoMSksZD1jLmNoaWxkcmVuKCk7cmV0dXJue2FyRWxzOmMuYWRkKGIpLGdkOmIsY3Q6YyxhcjpkfX12YXIgZD1hLm1vYmlsZS5icm93c2VyLm9sZElFJiZhLm1vYmlsZS5icm93c2VyLm9sZElFPD04LGU9YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3ctZ3VpZGUnPjwvZGl2PjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWNvbnRhaW5lciIrKGQ/IiBpZSI6IiIpKyInPjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93Jz48L2Rpdj48L2Rpdj4iKTthLndpZGdldCgibW9iaWxlLnBvcHVwIixhLm1vYmlsZS5wb3B1cCx7b3B0aW9uczp7YXJyb3c6IiJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuX3N1cGVyKCk7cmV0dXJuIHRoaXMub3B0aW9ucy5hcnJvdyYmKHRoaXMuX3VpLmFycm93PWE9dGhpcy5fYWRkQXJyb3coKSksYn0sX2FkZEFycm93OmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnMsZD1jKCk7CnJldHVybiBhPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYi50aGVtZSksZC5hci5hZGRDbGFzcyhhKyhiLnNoYWRvdz8iIHVpLW92ZXJsYXktc2hhZG93IjoiIikpLGQuYXJFbHMuaGlkZSgpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksZH0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmFycm93O3JldHVybiBhJiZhLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF90cnlBbkFycm93OmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGk9e30saj17fTtyZXR1cm4gZC5hckZ1bGxbYS5kaW1LZXldPmQuZ3VpZGVEaW1zW2EuZGltS2V5XT9lOihpW2EuZnN0XT1jW2EuZnN0XSsoZC5hckhhbGZbYS5vRGltS2V5XStkLm1lbnVIYWxmW2Eub0RpbUtleV0pKmEub2Zmc2V0RmFjdG9yLWQuY29udGVudEJveFthLmZzdF0rKGQuY2xhbXBJbmZvLm1lbnVTaXplW2Eub0RpbUtleV0tZC5jb250ZW50Qm94W2Eub0RpbUtleV0pKmEuYXJyb3dPZmZzZXRGYWN0b3IsaVthLnNuZF09Y1thLnNuZF0sZj1kLnJlc3VsdHx8dGhpcy5fY2FsY3VsYXRlRmluYWxMb2NhdGlvbihpLGQuY2xhbXBJbmZvKSxnPXt4OmYubGVmdCx5OmYudG9wfSxqW2EuZnN0XT1nW2EuZnN0XStkLmNvbnRlbnRCb3hbYS5mc3RdK2EudGlwT2Zmc2V0LGpbYS5zbmRdPU1hdGgubWF4KGZbYS5wcm9wXStkLmd1aWRlT2Zmc2V0W2EucHJvcF0rZC5hckhhbGZbYS5kaW1LZXldLE1hdGgubWluKGZbYS5wcm9wXStkLmd1aWRlT2Zmc2V0W2EucHJvcF0rZC5ndWlkZURpbXNbYS5kaW1LZXldLWQuYXJIYWxmW2EuZGltS2V5XSxjW2Euc25kXSkpLGg9TWF0aC5hYnMoYy54LWoueCkrTWF0aC5hYnMoYy55LWoueSksKCFlfHxoPGUuZGlmZikmJihqW2Euc25kXS09ZC5hckhhbGZbYS5kaW1LZXldK2ZbYS5wcm9wXStkLmNvbnRlbnRCb3hbYS5zbmRdLGU9e2RpcjpiLGRpZmY6aCxyZXN1bHQ6Zixwb3NQcm9wOmEucHJvcCxwb3NWYWw6althLnNuZF19KSxlKX0sX2dldFBsYWNlbWVudFN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLl91aS5hcnJvdyxlPXtjbGFtcEluZm86dGhpcy5fY2xhbXBQb3B1cFdpZHRoKCFhKSxhckZ1bGw6e2N4OmQuY3Qud2lkdGgoKSxjeTpkLmN0LmhlaWdodCgpfSxndWlkZURpbXM6e2N4OmQuZ2Qud2lkdGgoKSxjeTpkLmdkLmhlaWdodCgpfSxndWlkZU9mZnNldDpkLmdkLm9mZnNldCgpfTtyZXR1cm4gYj10aGlzLmVsZW1lbnQub2Zmc2V0KCksZC5nZC5jc3Moe2xlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowfSksYz1kLmdkLm9mZnNldCgpLGUuY29udGVudEJveD17eDpjLmxlZnQtYi5sZWZ0LHk6Yy50b3AtYi50b3AsY3g6ZC5nZC53aWR0aCgpLGN5OmQuZ2QuaGVpZ2h0KCl9LGQuZ2QucmVtb3ZlQXR0cigic3R5bGUiKSxlLmd1aWRlT2Zmc2V0PXtsZWZ0OmUuZ3VpZGVPZmZzZXQubGVmdC1iLmxlZnQsdG9wOmUuZ3VpZGVPZmZzZXQudG9wLWIudG9wfSxlLmFySGFsZj17Y3g6ZS5hckZ1bGwuY3gvMixjeTplLmFyRnVsbC5jeS8yfSxlLm1lbnVIYWxmPXtjeDplLmNsYW1wSW5mby5tZW51U2l6ZS5jeC8yLGN5OmUuY2xhbXBJbmZvLm1lbnVTaXplLmN5LzJ9LGV9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYil7dmFyIGMsZSxmLGcsaCxpPXRoaXMub3B0aW9ucy5hcnJvdyxqPXRoaXMuX3VpLmFycm93O3JldHVybiBqPyhqLmFyRWxzLnNob3coKSxoPXt9LGM9dGhpcy5fZ2V0UGxhY2VtZW50U3RhdGUoITApLGY9e2w6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6MSx0aXBPZmZzZXQ6LWMuYXJIYWxmLmN4LGFycm93T2Zmc2V0RmFjdG9yOjB9LHI6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN4K2MuY29udGVudEJveC5jeCxhcnJvd09mZnNldEZhY3RvcjoxfSxiOntmc3Q6InkiLHNuZDoieCIscHJvcDoibGVmdCIsZGltS2V5OiJjeCIsb0RpbUtleToiY3kiLG9mZnNldEZhY3RvcjotMSx0aXBPZmZzZXQ6Yy5hckhhbGYuY3krYy5jb250ZW50Qm94LmN5LGFycm93T2Zmc2V0RmFjdG9yOjF9LHQ6e2ZzdDoieSIsc25kOiJ4Iixwcm9wOiJsZWZ0IixkaW1LZXk6ImN4IixvRGltS2V5OiJjeSIsb2Zmc2V0RmFjdG9yOjEsdGlwT2Zmc2V0Oi1jLmFySGFsZi5jeSxhcnJvd09mZnNldEZhY3RvcjowfX0sYS5lYWNoKChpPT09ITA/ImwsdCxyLGIiOmkpLnNwbGl0KCIsIiksYS5wcm94eShmdW5jdGlvbihhLGQpe2U9dGhpcy5fdHJ5QW5BcnJvdyhmW2RdLGQsYixjLGUpfSx0aGlzKSksZT8oai5jdC5yZW1vdmVDbGFzcygidWktcG9wdXAtYXJyb3ctbCB1aS1wb3B1cC1hcnJvdy10IHVpLXBvcHVwLWFycm93LXIgdWktcG9wdXAtYXJyb3ctYiIpLmFkZENsYXNzKCJ1aS1wb3B1cC1hcnJvdy0iK2UuZGlyKS5yZW1vdmVBdHRyKCJzdHlsZSIpLmNzcyhlLnBvc1Byb3AsZS5wb3NWYWwpLnNob3coKSxkfHwoZz10aGlzLmVsZW1lbnQub2Zmc2V0KCksaFtmW2UuZGlyXS5mc3RdPWouY3Qub2Zmc2V0KCksaFtmW2UuZGlyXS5zbmRdPXtsZWZ0OmcubGVmdCtjLmNvbnRlbnRCb3gueCx0b3A6Zy50b3ArYy5jb250ZW50Qm94Lnl9KSxlLnJlc3VsdCk6KGouYXJFbHMuaGlkZSgpLHRoaXMuX3N1cGVyKGIpKSk6dGhpcy5fc3VwZXIoYil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5vcHRpb25zLnRoZW1lLGU9dGhpcy5fdWkuYXJyb3csZj10aGlzLl9zdXBlcihhKTtpZihhLmFycm93IT09Yil7aWYoIWUmJmEuYXJyb3cpcmV0dXJuIHZvaWQodGhpcy5fdWkuYXJyb3c9dGhpcy5fYWRkQXJyb3coKSk7ZSYmIWEuYXJyb3cmJihlLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3VpLmFycm93PW51bGwpfXJldHVybiBlPXRoaXMuX3VpLmFycm93LGUmJihhLnRoZW1lIT09YiYmKGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixkKSxjPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYS50aGVtZSksZS5hci5yZW1vdmVDbGFzcyhkKS5hZGRDbGFzcyhjKSksYS5zaGFkb3chPT1iJiZlLmFyLnRvZ2dsZUNsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIsYS5zaGFkb3cpKSxmfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmFycm93O3JldHVybiBhJiZhLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5wYW5lbCIse29wdGlvbnM6e2NsYXNzZXM6e3BhbmVsOiJ1aS1wYW5lbCIscGFuZWxPcGVuOiJ1aS1wYW5lbC1vcGVuIixwYW5lbENsb3NlZDoidWktcGFuZWwtY2xvc2VkIixwYW5lbEZpeGVkOiJ1aS1wYW5lbC1maXhlZCIscGFuZWxJbm5lcjoidWktcGFuZWwtaW5uZXIiLG1vZGFsOiJ1aS1wYW5lbC1kaXNtaXNzIixtb2RhbE9wZW46InVpLXBhbmVsLWRpc21pc3Mtb3BlbiIscGFnZUNvbnRhaW5lcjoidWktcGFuZWwtcGFnZS1jb250YWluZXIiLHBhZ2VXcmFwcGVyOiJ1aS1wYW5lbC13cmFwcGVyIixwYWdlRml4ZWRUb29sYmFyOiJ1aS1wYW5lbC1maXhlZC10b29sYmFyIixwYWdlQ29udGVudFByZWZpeDoidWktcGFuZWwtcGFnZS1jb250ZW50IixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZTpudWxsLHBvc2l0aW9uOiJsZWZ0IixkaXNtaXNzaWJsZTohMCxkaXNwbGF5OiJyZXZlYWwiLHN3aXBlQ2xvc2U6ITAscG9zaXRpb25GaXhlZDohMX0sX2Nsb3NlTGluazpudWxsLF9wYXJlbnRQYWdlOm51bGwsX3BhZ2U6bnVsbCxfbW9kYWw6bnVsbCxfcGFuZWxJbm5lcjpudWxsLF93cmFwcGVyOm51bGwsX2ZpeGVkVG9vbGJhcnM6bnVsbCxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KCIudWktcGFnZSwgOmpxbURhdGEocm9sZT0ncGFnZScpIik7YS5leHRlbmQodGhpcyx7X2Nsb3NlTGluazpiLmZpbmQoIjpqcW1EYXRhKHJlbD0nY2xvc2UnKSIpLF9wYXJlbnRQYWdlOmMubGVuZ3RoPjA/YzohMSxfb3BlbmVkUGFnZTpudWxsLF9wYWdlOnRoaXMuX2dldFBhZ2UsX3BhbmVsSW5uZXI6dGhpcy5fZ2V0UGFuZWxJbm5lcigpLF9maXhlZFRvb2xiYXJzOnRoaXMuX2dldEZpeGVkVG9vbGJhcnN9KSwib3ZlcmxheSIhPT10aGlzLm9wdGlvbnMuZGlzcGxheSYmdGhpcy5fZ2V0V3JhcHBlcigpLHRoaXMuX2FkZFBhbmVsQ2xhc3NlcygpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdGhpcy5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9iaW5kVXBkYXRlTGF5b3V0KCksdGhpcy5fYmluZENsb3NlRXZlbnRzKCksdGhpcy5fYmluZExpbmtMaXN0ZW5lcnMoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5fY3JlYXRlTW9kYWwoKSx0aGlzLl9iaW5kU3dpcGVFdmVudHMoKX0sX2dldFBhbmVsSW5uZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZCgiLiIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcik7cmV0dXJuIDA9PT1hLmxlbmd0aCYmKGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkud3JhcEFsbCgiPGRpdiBjbGFzcz0nIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKyInIC8+IikucGFyZW50KCkpLGF9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLl9wYXJlbnRQYWdlP2IuX3BhcmVudFBhZ2UucGFyZW50KCk6Yi5lbGVtZW50LnBhcmVudCgpO2IuX21vZGFsPWEoIjxkaXYgY2xhc3M9JyIrYi5vcHRpb25zLmNsYXNzZXMubW9kYWwrIic+PC9kaXY+Iikub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyhjKX0sX2dldFBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9vcGVuZWRQYWdlfHx0aGlzLl9wYXJlbnRQYWdlfHxhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO3JldHVybiBifSxfZ2V0V3JhcHBlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3BhZ2UoKS5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlV3JhcHBlcik7MD09PWEubGVuZ3RoJiYoYT10aGlzLl9wYWdlKCkuY2hpbGRyZW4oIi51aS1oZWFkZXI6bm90KC51aS1oZWFkZXItZml4ZWQpLCAudWktY29udGVudDpub3QoLnVpLXBvcHVwKSwgLnVpLWZvb3Rlcjpub3QoLnVpLWZvb3Rlci1maXhlZCkiKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSciK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VXcmFwcGVyKyInPjwvZGl2PiIpLnBhcmVudCgpKSx0aGlzLl93cmFwcGVyPWF9LF9nZXRGaXhlZFRvb2xiYXJzOmZ1bmN0aW9uKCl7dmFyIGI9YSgiYm9keSIpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIiksYz10aGlzLl9wYWdlKCkuZmluZCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLGQ9Yi5hZGQoYykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZUZpeGVkVG9vbGJhcik7cmV0dXJuIGR9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQrIiB1aS1ib2R5LSIrKHRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiKTtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksYX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9oYW5kbGVDbG9zZUNsaWNrOmZ1bmN0aW9uKGEpe2EuaXNEZWZhdWx0UHJldmVudGVkKCl8fHRoaXMuY2xvc2UoKX0sX2JpbmRDbG9zZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2Nsb3NlTGluayx7Y2xpY2s6Il9oYW5kbGVDbG9zZUNsaWNrIn0pLHRoaXMuX29uKHsiY2xpY2sgYTpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiOiJfaGFuZGxlQ2xvc2VDbGljayJ9KX0sX3Bvc2l0aW9uUGFuZWw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWMuX3BhbmVsSW5uZXIub3V0ZXJIZWlnaHQoKSxlPWQ+YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7ZXx8IWMub3B0aW9ucy5wb3NpdGlvbkZpeGVkPyhlJiYoYy5fdW5maXhQYW5lbCgpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodChkKSksYiYmdGhpcy53aW5kb3dbMF0uc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkpOmMuX2ZpeFBhbmVsKCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50Lm9uKCJ1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5fcG9zaXRpb25QYW5lbCgpfSl9LF9iaW5kTGlua0xpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuX29uKCJib2R5Iix7ImNsaWNrIGEiOiJfaGFuZGxlQ2xpY2sifSl9LF9oYW5kbGVDbGljazpmdW5jdGlvbihiKXt2YXIgZCxlPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpO2IuY3VycmVudFRhcmdldC5ocmVmLnNwbGl0KCIjIilbMV09PT1lJiZlIT09YyYmKGIucHJldmVudERlZmF1bHQoKSxkPWEoYi50YXJnZXQpLGQuaGFzQ2xhc3MoInVpLWJ0biIpJiYoZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdGhpcy5lbGVtZW50Lm9uZSgicGFuZWxvcGVuIHBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSksdGhpcy50b2dnbGUoKSl9LF9iaW5kU3dpcGVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5fbW9kYWw/YS5lbGVtZW50LmFkZChhLl9tb2RhbCk6YS5lbGVtZW50O2Eub3B0aW9ucy5zd2lwZUNsb3NlJiYoImxlZnQiPT09YS5vcHRpb25zLnBvc2l0aW9uP2Iub24oInN3aXBlbGVmdC5wYW5lbCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KTpiLm9uKCJzd2lwZXJpZ2h0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmRvY3VtZW50Lm9uKCJwYW5lbGJlZm9yZW9wZW4iLGZ1bmN0aW9uKGIpe2EuX29wZW4mJmIudGFyZ2V0IT09YS5lbGVtZW50WzBdJiZhLmNsb3NlKCl9KS5vbigia2V5dXAucGFuZWwiLGZ1bmN0aW9uKGIpezI3PT09Yi5rZXlDb2RlJiZhLl9vcGVuJiZhLmNsb3NlKCl9KSx0aGlzLl9wYXJlbnRQYWdlfHwib3ZlcmxheSI9PT10aGlzLm9wdGlvbnMuZGlzcGxheXx8dGhpcy5fb24odGhpcy5kb2N1bWVudCx7cGFnZXNob3c6Il9nZXRXcmFwcGVyIn0pLGEuX3BhcmVudFBhZ2U/dGhpcy5kb2N1bWVudC5vbigicGFnZWhpZGUiLCI6anFtRGF0YShyb2xlPSdwYWdlJykiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KTp0aGlzLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pfSxfb3BlbjohMSxfcGFnZUNvbnRlbnRPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5fb2ZmKGMuZG9jdW1lbnQsInBhbmVsY2xvc2UiKSxjLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiLCJvcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIuYWRkQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZT8oYy5fd3JhcHBlcnx8Yy5lbGVtZW50KS5hbmltYXRpb25Db21wbGV0ZShmLCJ0cmFuc2l0aW9uIik6c2V0VGltZW91dChmLDApLGQudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoITApLGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KSwib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIuYWRkQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSxjLl9tb2RhbE9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5tb2RhbCkrIiAiK2QuY2xhc3Nlcy5tb2RhbE9wZW4sYy5fbW9kYWwmJmMuX21vZGFsLmFkZENsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpLmhlaWdodChNYXRoLm1heChjLl9tb2RhbC5oZWlnaHQoKSxjLmRvY3VtZW50LmhlaWdodCgpKSl9LGY9ZnVuY3Rpb24oKXtjLl9vcGVuJiYoIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcigib3BlbiIpLGMuX29wZW5lZFBhZ2U9Yy5fcGFnZSgpKX07Yy5fdHJpZ2dlcigiYmVmb3Jlb3BlbiIpLCJvcGVuIj09PWMuX3BhZ2UoKS5qcW1EYXRhKCJwYW5lbCIpP2MuX29uKGMuZG9jdW1lbnQse3BhbmVsY2xvc2U6ZX0pOmUoKSxjLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24oYil7aWYodGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSwhYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/KGMuX3dyYXBwZXJ8fGMuZWxlbWVudCkuYW5pbWF0aW9uQ29tcGxldGUoZiwidHJhbnNpdGlvbiIpOnNldFRpbWVvdXQoZiwwKSxjLl9tb2RhbCYmYy5fbW9kYWwucmVtb3ZlQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3NlcykuaGVpZ2h0KCIiKX0sZj1mdW5jdGlvbigpe2QudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLGMuX2ZpeFBhbmVsKCksYy5fdW5iaW5kRml4TGlzdGVuZXIoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSxjLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSxjLl90cmlnZ2VyKCJjbG9zZSIpLGMuX29wZW5lZFBhZ2U9bnVsbH07Yy5fdHJpZ2dlcigiYmVmb3JlY2xvc2UiKSxlKCksYy5fb3Blbj0hMX19LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fb3Blbj8iY2xvc2UiOiJvcGVuIl0oKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMub3B0aW9ucyxkPWEoImJvZHkgPiA6bW9iaWxlLXBhbmVsIikubGVuZ3RoK2EubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZCgiOm1vYmlsZS1wYW5lbCIpLmxlbmd0aD4xOyJvdmVybGF5IiE9PWMuZGlzcGxheSYmKGI9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5hZGQoYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikpLDA9PT1iLm5vdCgiLnVpLXBhbmVsLWRpc3BsYXktb3ZlcmxheSIpLm5vdCh0aGlzLmVsZW1lbnQpLmxlbmd0aCYmdGhpcy5fd3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuX29wZW4mJih0aGlzLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYy5hbmltYXRlJiZ0aGlzLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLmFuaW1hdGUpLHRoaXMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRhaW5lciksYy50aGVtZSYmdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2MudGhlbWUpKSksZHx8dGhpcy5kb2N1bWVudC5vZmYoInBhbmVsb3BlbiBwYW5lbGNsb3NlIiksdGhpcy5fb3BlbiYmdGhpcy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYy5jbGFzc2VzLnBhbmVsT3BlbixjLmNsYXNzZXMuYW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRhYmxlIix7b3B0aW9uczp7Y2xhc3Nlczp7dGFibGU6InVpLXRhYmxlIn0sZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksYS5leHRlbmQodGhpcyx7aGVhZGVyczpiLGFsbEhlYWRlcnM6Yn0pLHRoaXMuX3JlZnJlc2goITApfSxfc2V0SGVhZGVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCgidHI6ZXEoMCkiKS5jaGlsZHJlbigpLHRoaXMuYWxsSGVhZGVycz10aGlzLmhlYWRlcnMuYWRkKGEuY2hpbGRyZW4oKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCl9LHJlYnVpbGQ6YS5ub29wLF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuX3NldEhlYWRlcnMoKSxjLmVhY2goZnVuY3Rpb24oKXt2YXIgZD0wO2EodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsZj1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxnPSI6bnRoLWNoaWxkKCIrKGQrMSkrIikiO2lmKHRoaXMuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrImNvbHN0YXJ0IixkKzEpLGYpZm9yKGU9MDtmLTE+ZTtlKyspZCsrLGcrPSIsIDpudGgtY2hpbGQoIisoZCsxKSsiKSI7YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsYi5maW5kKCJ0ciIpLm5vdChjLmVxKDApKS5ub3QodGhpcykuY2hpbGRyZW4oZykpLGQrK30pfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLGEubW9iaWxlLnRhYmxlLHtvcHRpb25zOnttb2RlOiJjb2x1bW50b2dnbGUiLGNvbHVtbkJ0blRoZW1lOm51bGwsY29sdW1uUG9wdXBUaGVtZTpudWxsLGNvbHVtbkJ0blRleHQ6IkNvbHVtbnMuLi4iLGNsYXNzZXM6YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cG9wdXA6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cCIsY29sdW1uQnRuOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtYnRuIixwcmlvcml0eVByZWZpeDoidWktdGFibGUtcHJpb3JpdHktIixjb2x1bW5Ub2dnbGVUYWJsZToidWktdGFibGUtY29sdW1udG9nZ2xlIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwiY29sdW1udG9nZ2xlIj09PXRoaXMub3B0aW9ucy5tb2RlJiYoYS5leHRlbmQodGhpcyx7X21lbnU6bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8odGhpcy5fbWVudT1hKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQodGhpcy5faWQoKSsiLXBvcHVwIikpLmNoaWxkcmVuKCkuZmlyc3QoKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsITApKToodGhpcy5fbWVudT10aGlzLl9lbmhhbmNlQ29sVG9nZ2xlKCksdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSksdGhpcy5fc2V0dXBFdmVudHMoKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJpZCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJfc2V0VG9nZ2xlU3RhdGUifSksdGhpcy5fb24odGhpcy5fbWVudSx7ImNoYW5nZSBpbnB1dCI6Il9tZW51SW5wdXRDaGFuZ2UifSl9LF9hZGRUb2dnbGVzOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT0wLGY9dGhpcy5vcHRpb25zLGc9Yi5jb250cm9sZ3JvdXAoImNvbnRhaW5lciIpO2M/ZD1iLmZpbmQoImlucHV0Iik6Zy5lbXB0eSgpLHRoaXMuaGVhZGVycy5ub3QoInRkIikuZWFjaChmdW5jdGlvbigpe3ZhciBiLGgsaT1hKHRoaXMpLGo9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsInByaW9yaXR5Iik7aiYmKGg9aS5hZGQoaS5qcW1EYXRhKCJjZWxscyIpKSxoLmFkZENsYXNzKGYuY2xhc3Nlcy5wcmlvcml0eVByZWZpeCtqKSxiPShjP2QuZXEoZSsrKTphKCI8bGFiZWw+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBjaGVja2VkIC8+IisoaS5jaGlsZHJlbigiYWJiciIpLmZpcnN0KCkuYXR0cigidGl0bGUiKXx8aS50ZXh0KCkpKyI8L2xhYmVsPiIpLmFwcGVuZFRvKGcpLmNoaWxkcmVuKDApLmNoZWNrYm94cmFkaW8oe3RoZW1lOmYuY29sdW1uUG9wdXBUaGVtZX0pKS5qcW1EYXRhKCJoZWFkZXIiLGkpLmpxbURhdGEoImNlbGxzIixoKSxpLmpxbURhdGEoImlucHV0IixiKSl9KSxjfHxiLmNvbnRyb2xncm91cCgicmVmcmVzaCIpfSxfbWVudUlucHV0Q2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Y1swXS5jaGVja2VkO2MuanFtRGF0YSgiY2VsbHMiKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iLCFkKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIixkKX0sX3VubG9ja0NlbGxzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpfSxfZW5oYW5jZUNvbFRvZ2dsZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9YS5tb2JpbGUubnMsaT10aGlzLmRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gYj10aGlzLl9pZCgpKyItcG9wdXAiLGM9YSgiPGEgaHJlZj0nIyIrYisiJyBjbGFzcz0nIitnLmNsYXNzZXMuY29sdW1uQnRuKyIgdWktYnRuIHVpLWJ0bi0iKyhnLmNvbHVtbkJ0blRoZW1lfHwiYSIpKyIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgZGF0YS0iK2grInJlbD0ncG9wdXAnPiIrZy5jb2x1bW5CdG5UZXh0KyI8L2E+IiksZD1hKCI8ZGl2IGNsYXNzPSciK2cuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitiKyInPjwvZGl2PiIpLGU9YSgiPGZpZWxkc2V0PjwvZmllbGRzZXQ+IikuY29udHJvbGdyb3VwKCksdGhpcy5fYWRkVG9nZ2xlcyhlLCExKSxlLmFwcGVuZFRvKGQpLGkuYXBwZW5kQ2hpbGQoZFswXSksaS5hcHBlbmRDaGlsZChjWzBdKSxmLmJlZm9yZShpKSxkLnBvcHVwKCksZX0scmVidWlsZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImNvbHVtbnRvZ2dsZSI9PT10aGlzLm9wdGlvbnMubW9kZSYmdGhpcy5fcmVmcmVzaCghMSl9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtpZih0aGlzLl9zdXBlcihiKSwhYiYmImNvbHVtbnRvZ2dsZSI9PT10aGlzLm9wdGlvbnMubW9kZSlmb3IoYz10aGlzLmhlYWRlcnMsZD1bXSx0aGlzLl9tZW51LmZpbmQoImlucHV0IikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZT1iLmpxbURhdGEoImhlYWRlciIpLGY9Yy5pbmRleChlWzBdKTtmPi0xJiYhYi5wcm9wKCJjaGVja2VkIikmJmQucHVzaChmKX0pLHRoaXMuX3VubG9ja0NlbGxzKHRoaXMuZWxlbWVudC5maW5kKCIudWktdGFibGUtY2VsbC1oaWRkZW4sIC51aS10YWJsZS1jZWxsLXZpc2libGUiKSksdGhpcy5fYWRkVG9nZ2xlcyh0aGlzLl9tZW51LGIpLGU9ZC5sZW5ndGgtMTtlPi0xO2UtLSljLmVxKGRbZV0pLmpxbURhdGEoImlucHV0IikucHJvcCgiY2hlY2tlZCIsITEpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKS50cmlnZ2VyKCJjaGFuZ2UiKX0sX3NldFRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWVudS5maW5kKCJpbnB1dCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO3RoaXMuY2hlY2tlZD0idGFibGUtY2VsbCI9PT1iLmpxbURhdGEoImNlbGxzIikuZXEoMCkuY3NzKCJkaXNwbGF5IiksYi5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRhYmxlIixhLm1vYmlsZS50YWJsZSx7b3B0aW9uczp7bW9kZToicmVmbG93IixjbGFzc2VzOmEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3JlZmxvd1RhYmxlOiJ1aS10YWJsZS1yZWZsb3ciLGNlbGxMYWJlbHM6InVpLXRhYmxlLWNlbGwtbGFiZWwifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucmVmbG93VGFibGUpLHRoaXMuX3VwZGF0ZVJlZmxvdygpKSl9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwicmVmbG93IiE9PXRoaXMub3B0aW9ucy5tb2RlfHx0aGlzLl91cGRhdGVSZWZsb3coKX0sX3VwZGF0ZVJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnM7YShiLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZSxmPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxnPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJjb2xzdGFydCIpLGg9Zi5ub3QodGhpcykuZmlsdGVyKCJ0aGVhZCB0aCIpLmxlbmd0aCYmIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcCIsaT1hKHRoaXMpLmNsb25lKCkuY29udGVudHMoKTtpLmxlbmd0aD4wJiYoaD8oZD1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxlPSIiLGQmJihlPSJ0ZDpudGgtY2hpbGQoIitkKyJuICsgIitnKyIpIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGIsYyxkKXsxPT09ZC5sZW5ndGgmJiJhYmJyIj09PWRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGQ9ZC5lcSgwKS5hdHRyKCJ0aXRsZSIpKSxiLm5vdCgiOmhhcyhiLiIrYysiKSIpLnByZXBlbmQoYSgiPGIgY2xhc3M9JyIrYysiJz48L2I+IikuYXBwZW5kKGQpKX19KX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KCIiKyhhLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiZmlsdGVydGV4dCIpfHxhKHRoaXMpLnRleHQoKSkpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKX07YS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIix7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShmaWx0ZXI9J3RydWUnKSIsb3B0aW9uczp7ZmlsdGVyUmV2ZWFsOiExLGZpbHRlckNhbGxiYWNrOmQsZW5oYW5jZWQ6ITEsaW5wdXQ6bnVsbCxjaGlsZHJlbjoiPiBsaSwgPiBvcHRpb24sID4gb3B0Z3JvdXAgb3B0aW9uLCA+IHRib2R5IHRyLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktYnRuLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktY2hlY2tib3gsID4gLnVpLWNvbnRyb2xncm91cC1jb250cm9scyA+IC51aS1yYWRpbyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X3NlYXJjaDpudWxsLF90aW1lcjowfSksdGhpcy5fc2V0SW5wdXQoYi5pbnB1dCksYi5lbmhhbmNlZHx8dGhpcy5fZmlsdGVySXRlbXMoKHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLnZhbCgpfHwiIikudG9Mb3dlckNhc2UoKSl9LF9vbktleVVwOmZ1bmN0aW9uKCl7dmFyIGMsZCxlPXRoaXMuX3NlYXJjaDtpZihlKXtpZihjPWUudmFsKCkudG9Mb3dlckNhc2UoKSxkPWEubW9iaWxlLmdldEF0dHJpYnV0ZShlWzBdLCJsYXN0dmFsIikrIiIsZCYmZD09PWMpcmV0dXJuO3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX3RpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsbnVsbCx7aW5wdXQ6ZX0pPT09ITE/ITE6KGVbMF0uc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrImxhc3R2YWwiLGMpLHRoaXMuX2ZpbHRlckl0ZW1zKGMpLHZvaWQodGhpcy5fdGltZXI9MCkpfSwyNTApfX0sX2dldEZpbHRlcmFibGVJdGVtczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jaGlsZHJlbixkPWM/YS5pc0Z1bmN0aW9uKGMpP2MoKTpjLm5vZGVOYW1lP2EoYyk6Yy5qcXVlcnk/Yzp0aGlzLmVsZW1lbnQuZmluZChjKTp7bGVuZ3RoOjB9O3JldHVybiAwPT09ZC5sZW5ndGgmJihkPWIuY2hpbGRyZW4oKSksZH0sX2ZpbHRlckl0ZW1zOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGg9W10saT1bXSxqPXRoaXMub3B0aW9ucyxrPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2lmKG51bGwhPWIpZm9yKGU9ai5maWx0ZXJDYWxsYmFja3x8ZCxmPWsubGVuZ3RoLGM9MDtmPmM7YysrKWc9ZS5jYWxsKGtbY10sYyxiKT9pOmgsZy5wdXNoKGtbY10pOzA9PT1pLmxlbmd0aD9rW2ouZmlsdGVyUmV2ZWFsJiYwPT09Yi5sZW5ndGg/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidWktc2NyZWVuLWhpZGRlbiIpOihhKGkpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksYShoKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpKSx0aGlzLl9yZWZyZXNoQ2hpbGRXaWRnZXQoKSx0aGlzLl90cmlnZ2VyKCJmaWx0ZXIiLG51bGwse2l0ZW1zOmt9KX0sX3JlZnJlc2hDaGlsZFdpZGdldDpmdW5jdGlvbigpe3ZhciBiLGMsZD1bImNvbGxhcHNpYmxlc2V0Iiwic2VsZWN0bWVudSIsImNvbnRyb2xncm91cCIsImxpc3R2aWV3Il07Zm9yKGM9ZC5sZW5ndGgtMTtjPi0xO2MtLSliPWRbY10sYS5tb2JpbGVbYl0mJihiPXRoaXMuZWxlbWVudC5kYXRhKCJtb2JpbGUtIitiKSxiJiZhLmlzRnVuY3Rpb24oYi5yZWZyZXNoKSYmYi5yZWZyZXNoKCkpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5fc2VhcmNoO3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLGQmJih0aGlzLl9vZmYoZCwia2V5dXAgY2hhbmdlIGlucHV0IiksZD1udWxsKSxjJiYoZD1jLmpxdWVyeT9jOmMubm9kZU5hbWU/YShjKTp0aGlzLmRvY3VtZW50LmZpbmQoYyksdGhpcy5fb24oZCx7a2V5ZG93bjoiX29uS2V5RG93biIsa2V5cHJlc3M6Il9vbktleVByZXNzIixrZXl1cDoiX29uS2V5VXAiLGNoYW5nZToiX29uS2V5VXAiLGlucHV0OiJfb25LZXlVcCJ9KSksdGhpcy5fc2VhcmNoPWR9LF9vbktleURvd246ZnVuY3Rpb24oYil7Yi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLkVOVEVSJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3ByZXZlbnRLZXlQcmVzcz0hMCl9LF9vbktleVByZXNzOmZ1bmN0aW9uKGEpe3RoaXMuX3ByZXZlbnRLZXlQcmVzcyYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLl9wcmV2ZW50S2V5UHJlc3M9ITEpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj0hKGEuZmlsdGVyUmV2ZWFsPT09YyYmYS5maWx0ZXJDYWxsYmFjaz09PWMmJmEuY2hpbGRyZW49PT1jKTt0aGlzLl9zdXBlcihhKSxhLmlucHV0IT09YyYmKHRoaXMuX3NldElucHV0KGEuaW5wdXQpLGI9ITApLGImJnRoaXMucmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2EuZW5oYW5jZWQ/Yi50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsYS5maWx0ZXJSZXZlYWwpOmIucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8IiIpLnRvTG93ZXJDYXNlKCkpfX0pfShhKSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2IuY2FsbCh0aGlzLGMpLGEuX3N5bmNUZXh0SW5wdXRPcHRpb25zKGMpfX0sZD0vKF58XHMpdWktbGktZGl2aWRlcihcc3wkKS8sZT1hLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrO2EubW9iaWxlLmZpbHRlcmFibGUucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5jbGFzc05hbWUubWF0Y2goZCkmJmUuY2FsbCh0aGlzLGEsYil9LGEud2lkZ2V0KCJtb2JpbGUuZmlsdGVyYWJsZSIsYS5tb2JpbGUuZmlsdGVyYWJsZSx7b3B0aW9uczp7ZmlsdGVyUGxhY2Vob2xkZXI6IkZpbHRlciBpdGVtcy4uLiIsZmlsdGVyVGhlbWU6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQsZT1bImNvbGxhcHNpYmxlc2V0Iiwic2VsZWN0bWVudSIsImNvbnRyb2xncm91cCIsImxpc3R2aWV3Il0sZj17fTtmb3IodGhpcy5fc3VwZXIoKSxhLmV4dGVuZCh0aGlzLHtfd2lkZ2V0Om51bGx9KSxiPWUubGVuZ3RoLTE7Yj4tMTtiLS0paWYoYz1lW2JdLGEubW9iaWxlW2NdKXtpZih0aGlzLl9zZXRXaWRnZXQoZC5kYXRhKCJtb2JpbGUtIitjKSkpYnJlYWs7ZltjKyJjcmVhdGUiXT0iX2hhbmRsZUNyZWF0ZSJ9dGhpcy5fd2lkZ2V0fHx0aGlzLl9vbihkLGYpfSxfaGFuZGxlQ3JlYXRlOmZ1bmN0aW9uKGEpe3RoaXMuX3NldFdpZGdldCh0aGlzLmVsZW1lbnQuZGF0YSgibW9iaWxlLSIrYS50eXBlLnN1YnN0cmluZygwLGEudHlwZS5sZW5ndGgtNikpKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl93aWRnZXQmJiJtb2JpbGUtbGlzdHZpZXciPT09dGhpcy5fd2lkZ2V0LndpZGdldEZ1bGxOYW1lJiYiYmVmb3JlZmlsdGVyIj09PWEmJnRoaXMuX3dpZGdldC5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIixiLGMpLHRoaXMuX3N1cGVyKGEsYixjKX0sX3NldFdpZGdldDpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5fd2lkZ2V0JiZhJiYodGhpcy5fd2lkZ2V0PWEsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zPWModGhpcyx0aGlzLl93aWRnZXQuX3NldE9wdGlvbnMpKSx0aGlzLl93aWRnZXQmJih0aGlzLl9zeW5jVGV4dElucHV0T3B0aW9ucyh0aGlzLl93aWRnZXQub3B0aW9ucyksImxpc3R2aWV3Ij09PXRoaXMuX3dpZGdldC53aWRnZXROYW1lJiYodGhpcy5fd2lkZ2V0Lm9wdGlvbnMuaGlkZURpdmlkZXJzPSEwLHRoaXMuX3dpZGdldC5lbGVtZW50Lmxpc3R2aWV3KCJyZWZyZXNoIikpKSwhIXRoaXMuX3dpZGdldH0sX2lzU2VhcmNoSW50ZXJuYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2guanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIil9LF9zZXRJbnB1dDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLm9wdGlvbnMsZD0hMCxlPXt9O2lmKCFiKXtpZih0aGlzLl9pc1NlYXJjaEludGVybmFsKCkpcmV0dXJuO2Q9ITEsYj1hKCI8aW5wdXQgZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlPSdzZWFyY2gnIHBsYWNlaG9sZGVyPSciK2MuZmlsdGVyUGxhY2Vob2xkZXIrIic+PC9pbnB1dD4iKS5qcW1EYXRhKCJ1aS1maWx0ZXJhYmxlLSIrdGhpcy51dWlkKyItaW50ZXJuYWwiLCEwKSxhKCI8Zm9ybSBjbGFzcz0ndWktZmlsdGVyYWJsZSc+PC9mb3JtPiIpLmFwcGVuZChiKS5zdWJtaXQoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGIuYmx1cigpfSkuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCksYS5tb2JpbGUudGV4dGlucHV0JiYobnVsbCE9dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lJiYoZS50aGVtZT1jLmZpbHRlclRoZW1lKSxiLnRleHRpbnB1dChlKSl9dGhpcy5fc3VwZXIoYiksdGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZkJiZ0aGlzLl9zZWFyY2guYXR0cigicGxhY2Vob2xkZXIiLHRoaXMub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuX3N1cGVyKGMpO3JldHVybiBjLmZpbHRlclBsYWNlaG9sZGVyIT09YiYmdGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZ0aGlzLl9zZWFyY2guYXR0cigicGxhY2Vob2xkZXIiLGMuZmlsdGVyUGxhY2Vob2xkZXIpLGMuZmlsdGVyVGhlbWUhPT1iJiZ0aGlzLl9zZWFyY2gmJmEubW9iaWxlLnRleHRpbnB1dCYmdGhpcy5fc2VhcmNoLnRleHRpbnB1dCgib3B0aW9uIiwidGhlbWUiLGMuZmlsdGVyVGhlbWUpLGR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZ0aGlzLl9zZWFyY2gucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX0sX3N5bmNUZXh0SW5wdXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkLGU9e307aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpJiZhLm1vYmlsZS50ZXh0aW5wdXQpe2ZvcihkIGluIGEubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUub3B0aW9ucyljW2RdIT09YiYmKGVbZF09InRoZW1lIj09PWQmJm51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZT90aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU6Y1tkXSk7dGhpcy5fc2VhcmNoLnRleHRpbnB1dCgib3B0aW9uIixlKX19fSksYS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2ZpbHRlcjohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyIT09ITB8fHRoaXMuZWxlbWVudC5kYXRhKCJtb2JpbGUtZmlsdGVyYWJsZSIpfHx0aGlzLmVsZW1lbnQuZmlsdGVyYWJsZSgpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybisrZX1mdW5jdGlvbiBkKGEpe3JldHVybiBhPWEuY2xvbmVOb2RlKCExKSxhLmhhc2gubGVuZ3RoPjEmJmRlY29kZVVSSUNvbXBvbmVudChhLmhyZWYucmVwbGFjZShmLCIiKSk9PT1kZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZi5yZXBsYWNlKGYsIiIpKX12YXIgZT0wLGY9LyMuKiQvO2Eud2lkZ2V0KCJ1aS50YWJzIix7dmVyc2lvbjoiYzBhYjcxMDU2YjkzNjYyN2U4YTc4MjFmMDNjMDQ0YWVjNjI4MGE0MCIsZGVsYXk6MzAwLG9wdGlvbnM6e2FjdGl2ZTpudWxsLGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO3RoaXMucnVubmluZz0hMSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKS50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYy5jb2xsYXBzaWJsZSkuZGVsZWdhdGUoIi51aS10YWJzLW5hdiA+IGxpIiwibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKGIpe2EodGhpcykuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZiLnByZXZlbnREZWZhdWx0KCl9KS5kZWxlZ2F0ZSgiLnVpLXRhYnMtYW5jaG9yIiwiZm9jdXMiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZ0aGlzLmJsdXIoKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYy5hY3RpdmU9dGhpcy5faW5pdGlhbEFjdGl2ZSgpLGEuaXNBcnJheShjLmRpc2FibGVkKSYmKGMuZGlzYWJsZWQ9YS51bmlxdWUoYy5kaXNhYmxlZC5jb25jYXQoYS5tYXAodGhpcy50YWJzLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24oYSl7cmV0dXJuIGIudGFicy5pbmRleChhKX0pKSkuc29ydCgpKSx0aGlzLmFjdGl2ZT10aGlzLm9wdGlvbnMuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5fZmluZEFjdGl2ZShjLmFjdGl2ZSk6YSgpLHRoaXMuX3JlZnJlc2goKSx0aGlzLmFjdGl2ZS5sZW5ndGgmJnRoaXMubG9hZChjLmFjdGl2ZSl9LF9pbml0aWFsQWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmFjdGl2ZSxjPXRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxkPWxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO3JldHVybiBudWxsPT09YiYmKGQmJnRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGEoZSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09ZD8oYj1jLCExKTp2b2lkIDB9KSxudWxsPT09YiYmKGI9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5maWx0ZXIoIi51aS10YWJzLWFjdGl2ZSIpKSksKG51bGw9PT1ifHwtMT09PWIpJiYoYj10aGlzLnRhYnMubGVuZ3RoPzA6ITEpKSxiIT09ITEmJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZXEoYikpLC0xPT09YiYmKGI9Yz8hMTowKSksIWMmJmI9PT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aCYmKGI9MCksYn0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybnt0YWI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKTphKCl9fSxfdGFiS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCkuY2xvc2VzdCgibGkiKSxkPXRoaXMudGFicy5pbmRleChjKSxlPSEwO2lmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KGIpKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEudWkua2V5Q29kZS5SSUdIVDpjYXNlIGEudWkua2V5Q29kZS5ET1dOOmQrKzticmVhaztjYXNlIGEudWkua2V5Q29kZS5VUDpjYXNlIGEudWkua2V5Q29kZS5MRUZUOmU9ITEsZC0tO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLkVORDpkPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIGEudWkua2V5Q29kZS5IT01FOmQ9MDticmVhaztjYXNlIGEudWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHZvaWQgdGhpcy5fYWN0aXZhdGUoZCk7Y2FzZSBhLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKGQ9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOmQpO2RlZmF1bHQ6cmV0dXJufWIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSxkPXRoaXMuX2ZvY3VzTmV4dFRhYihkLGUpLGIuY3RybEtleXx8KGMuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKGQpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIsZCl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24oYil7dGhpcy5faGFuZGxlUGFnZU5hdihiKXx8Yi5jdHJsS2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuVVAmJihiLnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUuZm9jdXMoKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKGIpe3JldHVybiBiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6Yi5hbHRLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7cmV0dXJuIGI+ZSYmKGI9MCksMD5iJiYoYj1lKSxifWZvcih2YXIgZT10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1hLmluQXJyYXkoZCgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KWI9Yz9iKzE6Yi0xO3JldHVybiBifSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5fZmluZE5leHRUYWIoYSxiKSx0aGlzLnRhYnMuZXEoYSkuZm9jdXMoKSxhfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuImFjdGl2ZSI9PT1hP3ZvaWQgdGhpcy5fYWN0aXZhdGUoYik6ImRpc2FibGVkIj09PWE/dm9pZCB0aGlzLl9zZXR1cERpc2FibGVkKGIpOih0aGlzLl9zdXBlcihhLGIpLCJjb2xsYXBzaWJsZSI9PT1hJiYodGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIixiKSxifHx0aGlzLm9wdGlvbnMuYWN0aXZlIT09ITF8fHRoaXMuX2FjdGl2YXRlKDApKSwiZXZlbnQiPT09YSYmdGhpcy5fc2V0dXBFdmVudHMoYiksdm9pZCgiaGVpZ2h0U3R5bGUiPT09YSYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZShiKSkpfSxfdGFiSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXR0cigiYXJpYS1jb250cm9scyIpfHwidWktdGFicy0iK2MoKX0sX3Nhbml0aXplU2VsZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS5yZXBsYWNlKC9bISIkJSYnKCkqKywuXC86Ozw9Pj9AXFtcXVxeYHt8fX5dL2csIlxcJCYiKToiIn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMudGFibGlzdC5jaGlsZHJlbigiOmhhcyhhW2hyZWZdKSIpO2IuZGlzYWJsZWQ9YS5tYXAoYy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBjLmluZGV4KGEpfSksdGhpcy5fcHJvY2Vzc1RhYnMoKSxiLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuYWN0aXZlLmxlbmd0aCYmIWEuY29udGFpbnModGhpcy50YWJsaXN0WzBdLHRoaXMuYWN0aXZlWzBdKT90aGlzLnRhYnMubGVuZ3RoPT09Yi5kaXNhYmxlZC5sZW5ndGg/KGIuYWN0aXZlPSExLHRoaXMuYWN0aXZlPWEoKSk6dGhpcy5fYWN0aXZhdGUodGhpcy5fZmluZE5leHRUYWIoTWF0aC5tYXgoMCxiLmFjdGl2ZS0xKSwhMSkpOmIuYWN0aXZlPXRoaXMudGFicy5pbmRleCh0aGlzLmFjdGl2ZSk6KGIuYWN0aXZlPSExLHRoaXMuYWN0aXZlPWEoKSksdGhpcy5fcmVmcmVzaCgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3NldHVwRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl9zZXR1cEV2ZW50cyh0aGlzLm9wdGlvbnMuZXZlbnQpLHRoaXMuX3NldHVwSGVpZ2h0U3R5bGUodGhpcy5vcHRpb25zLmhlaWdodFN0eWxlKSx0aGlzLnRhYnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLHRoaXMucGFuZWxzLm5vdCh0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkpLmhpZGUoKS5hdHRyKHsiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLHRoaXMuYWN0aXZlLmxlbmd0aD8odGhpcy5hY3RpdmUuYWRkQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJ0cnVlIiwiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KSk6dGhpcy50YWJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKX0sX3Byb2Nlc3NUYWJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmFkZENsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLmF0dHIoInJvbGUiLCJ0YWJsaXN0IiksdGhpcy50YWJzPXRoaXMudGFibGlzdC5maW5kKCI+IGxpOmhhcyhhW2hyZWZdKSIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci10b3AiKS5hdHRyKHtyb2xlOiJ0YWIiLHRhYkluZGV4Oi0xfSksdGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSgiYSIsdGhpcylbMF19KS5hZGRDbGFzcygidWktdGFicy1hbmNob3IiKS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24iLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHM9YSgpLHRoaXMuYW5jaG9ycy5lYWNoKGZ1bmN0aW9uKGMsZSl7dmFyIGYsZyxoLGk9YShlKS51bmlxdWVJZCgpLmF0dHIoImlkIiksaj1hKGUpLmNsb3Nlc3QoImxpIiksaz1qLmF0dHIoImFyaWEtY29udHJvbHMiKTtkKGUpPyhmPWUuaGFzaCxnPWIuZWxlbWVudC5maW5kKGIuX3Nhbml0aXplU2VsZWN0b3IoZikpKTooaD1iLl90YWJJZChqKSxmPSIjIitoLGc9Yi5lbGVtZW50LmZpbmQoZiksZy5sZW5ndGh8fChnPWIuX2NyZWF0ZVBhbmVsKGgpLGcuaW5zZXJ0QWZ0ZXIoYi5wYW5lbHNbYy0xXXx8Yi50YWJsaXN0KSksZy5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSksZy5sZW5ndGgmJihiLnBhbmVscz1iLnBhbmVscy5hZGQoZykpLGsmJmouZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixrKSxqLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjpmLnN1YnN0cmluZygxKSwiYXJpYS1sYWJlbGxlZGJ5IjppfSksZy5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkpfSksdGhpcy5wYW5lbHMuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmF0dHIoInJvbGUiLCJ0YWJwYW5lbCIpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCgib2wsdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKGIpe3JldHVybiBhKCI8ZGl2PiIpLmF0dHIoImlkIixiKS5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuZGF0YSgidWktdGFicy1kZXN0cm95IiwhMCl9LF9zZXR1cERpc2FibGVkOmZ1bmN0aW9uKGIpe2EuaXNBcnJheShiKSYmKGIubGVuZ3RoP2IubGVuZ3RoPT09dGhpcy5hbmNob3JzLmxlbmd0aCYmKGI9ITApOmI9ITEpO2Zvcih2YXIgYyxkPTA7Yz10aGlzLnRhYnNbZF07ZCsrKWI9PT0hMHx8LTEhPT1hLmluQXJyYXkoZCxiKT9hKGMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik6YShjKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5vcHRpb25zLmRpc2FibGVkPWJ9LF9zZXR1cEV2ZW50czpmdW5jdGlvbihiKXt2YXIgYz17fTtiJiZhLmVhY2goYi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Y1tiXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKCEwLHRoaXMuYW5jaG9ycyx7Y2xpY2s6ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfX0pLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxjKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT1iPyhjPWQuaGVpZ2h0KCksYy09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1kJiYiZml4ZWQiIT09ZCYmKGMtPWIub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2MtPWEodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYy1hKHRoaXMpLmlubmVySGVpZ2h0KCkrYSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09YiYmKGM9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7Yz1NYXRoLm1heChjLGEodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoYykpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMuYWN0aXZlLGU9YShiLmN1cnJlbnRUYXJnZXQpLGY9ZS5jbG9zZXN0KCJsaSIpLGc9ZlswXT09PWRbMF0saD1nJiZjLmNvbGxhcHNpYmxlLGk9aD9hKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaj1kLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihkKTphKCksaz17b2xkVGFiOmQsb2xkUGFuZWw6aixuZXdUYWI6aD9hKCk6ZixuZXdQYW5lbDppfTtiLnByZXZlbnREZWZhdWx0KCksZi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Zi5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8ZyYmIWMuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIixiLGspPT09ITF8fChjLmFjdGl2ZT1oPyExOnRoaXMudGFicy5pbmRleChmKSx0aGlzLmFjdGl2ZT1nP2EoKTpmLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGoubGVuZ3RofHxpLmxlbmd0aHx8YS5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaS5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoZiksYiksdGhpcy5fdG9nZ2xlKGIsaykpfSxfdG9nZ2xlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2YucnVubmluZz0hMSxmLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYixjKX1mdW5jdGlvbiBlKCl7Yy5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksZy5sZW5ndGgmJmYub3B0aW9ucy5zaG93P2YuX3Nob3coZyxmLm9wdGlvbnMuc2hvdyxkKTooZy5zaG93KCksZCgpKX12YXIgZj10aGlzLGc9Yy5uZXdQYW5lbCxoPWMub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLGgubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGgsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxlKCl9KTooYy5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaC5oaWRlKCksZSgpKSxoLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksYy5vbGRUYWIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksZy5sZW5ndGgmJmgubGVuZ3RoP2Mub2xkVGFiLmF0dHIoInRhYkluZGV4IiwtMSk6Zy5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksZy5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLGMubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9maW5kQWN0aXZlKGIpO2RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGQubGVuZ3RofHwoZD10aGlzLmFjdGl2ZSksYz1kLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmMsY3VycmVudFRhcmdldDpjLHByZXZlbnREZWZhdWx0OmEubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT0hMT9hKCk6dGhpcy50YWJzLmVxKGIpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhJiYoYT10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK2ErIiddIikpKSxhfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIiksdGhpcy50YWJsaXN0LnJlbW92ZUNsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmFuY2hvcnMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7YS5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP2EodGhpcykucmVtb3ZlKCk6YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIikKfSksdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9Yi5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTtjP2IuYXR0cigiYXJpYS1jb250cm9scyIsYykucmVtb3ZlRGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIik6Yi5yZW1vdmVBdHRyKCJhcmlhLWNvbnRyb2xzIil9KSx0aGlzLnBhbmVscy5zaG93KCksImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0aGlzLnBhbmVscy5jc3MoImhlaWdodCIsIiIpfSxlbmFibGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5vcHRpb25zLmRpc2FibGVkO2QhPT0hMSYmKGM9PT1iP2Q9ITE6KGM9dGhpcy5fZ2V0SW5kZXgoYyksZD1hLmlzQXJyYXkoZCk/YS5tYXAoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9PWM/YTpudWxsfSk6YS5tYXAodGhpcy50YWJzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIhPT1jP2I6bnVsbH0pKSx0aGlzLl9zZXR1cERpc2FibGVkKGQpKX0sZGlzYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aWYoZCE9PSEwKXtpZihjPT09YilkPSEwO2Vsc2V7aWYoYz10aGlzLl9nZXRJbmRleChjKSwtMSE9PWEuaW5BcnJheShjLGQpKXJldHVybjtkPWEuaXNBcnJheShkKT9hLm1lcmdlKFtjXSxkKS5zb3J0KCk6W2NdfXRoaXMuX3NldHVwRGlzYWJsZWQoZCl9fSxsb2FkOmZ1bmN0aW9uKGIsYyl7Yj10aGlzLl9nZXRJbmRleChiKTt2YXIgZT10aGlzLGY9dGhpcy50YWJzLmVxKGIpLGc9Zi5maW5kKCIudWktdGFicy1hbmNob3IiKSxoPXRoaXMuX2dldFBhbmVsRm9yVGFiKGYpLGk9e3RhYjpmLHBhbmVsOmh9O2QoZ1swXSl8fCh0aGlzLnhocj1hLmFqYXgodGhpcy5fYWpheFNldHRpbmdzKGcsYyxpKSksdGhpcy54aHImJiJjYW5jZWxlZCIhPT10aGlzLnhoci5zdGF0dXNUZXh0JiYoZi5hZGRDbGFzcygidWktdGFicy1sb2FkaW5nIiksaC5hdHRyKCJhcmlhLWJ1c3kiLCJ0cnVlIiksdGhpcy54aHIuc3VjY2VzcyhmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5odG1sKGEpLGUuX3RyaWdnZXIoImxvYWQiLGMsaSl9LDEpfSkuY29tcGxldGUoZnVuY3Rpb24oYSxiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ImFib3J0Ij09PWImJmUucGFuZWxzLnN0b3AoITEsITApLGYucmVtb3ZlQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpLGgucmVtb3ZlQXR0cigiYXJpYS1idXN5IiksYT09PWUueGhyJiZkZWxldGUgZS54aHJ9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcztyZXR1cm57dXJsOmIuYXR0cigiaHJlZiIpLGJlZm9yZVNlbmQ6ZnVuY3Rpb24oYixmKXtyZXR1cm4gZS5fdHJpZ2dlcigiYmVmb3JlTG9hZCIsYyxhLmV4dGVuZCh7anFYSFI6YixhamF4U2V0dGluZ3M6Zn0sZCkpfX19LF9nZXRQYW5lbEZvclRhYjpmdW5jdGlvbihiKXt2YXIgYz1hKGIpLmF0dHIoImFyaWEtY29udHJvbHMiKTtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQodGhpcy5fc2FuaXRpemVTZWxlY3RvcigiIyIrYykpfX0pfShhKSxmdW5jdGlvbigpe30oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YS5vcmlnaW5hbEV2ZW50LGk9ZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LGY9TWF0aC5hYnMoaS54KSxnPU1hdGguYWJzKGkueSksaD1NYXRoLmFicyhpLnopLCFiLm9yaWVudGF0aW9uJiYoZj43fHwoaD42JiY4Pmd8fDg+aCYmZz42KSYmZj41KT9kLmVuYWJsZWQmJmQuZGlzYWJsZSgpOmQuZW5hYmxlZHx8ZC5lbmFibGUoKX1hLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITA7dmFyIGQsZSxmLGcsaCxpLGo9bmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4vaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiYvT1MgWzEtNV1fWzAtOV9dKiBsaWtlIE1hYyBPUyBYL2kudGVzdChqKSYmai5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xPyhkPWEubW9iaWxlLnpvb20sdm9pZCBhLm1vYmlsZS5kb2N1bWVudC5vbigibW9iaWxlaW5pdCIsZnVuY3Rpb24oKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQmJmEubW9iaWxlLndpbmRvdy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsZC5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsYyl9KSk6dm9pZChhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEpfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBlKCl7Zi5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBmPWEoImh0bWwiKSxnPWEubW9iaWxlLndpbmRvdzthKGIuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKSxhLm1vYmlsZS5ncmFkZUEoKSYmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QmJihhLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksZi5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKSxzZXRUaW1lb3V0KGUsNWUzKSxhLmV4dGVuZChhLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj1hLm1vYmlsZS5wYXRoLGY9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLGg9Yi5zdHJpcEhhc2goYi5zdHJpcFF1ZXJ5UGFyYW1zKGIucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxpPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLGo9aD9jLmdldEVsZW1lbnRCeUlkKGgpOmQ7Zi5sZW5ndGh8fChmPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksZi5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiWzBdLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxpLnBhdGhuYW1lK2kuc2VhcmNoKX0pLGEubW9iaWxlLmZpcnN0UGFnZT1mLmZpcnN0KCksYS5tb2JpbGUucGFnZUNvbnRhaW5lcj1hLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpLnBhZ2Vjb250YWluZXIoKSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxnLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKSxhLm1vYmlsZS5sb2FkaW5nKCJzaG93IiksZSgpLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYShqKS5pcygiOmpxbURhdGEocm9sZT0ncGFnZScpIil8fGEubW9iaWxlLnBhdGguaXNQYXRoKGgpfHxoPT09YS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGEubW9iaWxlLm5hdmlnYXRlKGEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOmcudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaChiLnBhcnNlTG9jYXRpb24oKS5ocmVmKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGEoZnVuY3Rpb24oKXthLnN1cHBvcnQuaW5saW5lU1ZHKCksYS5tb2JpbGUuaGlkZVVybEJhciYmYi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPWEuc3VwcG9ydC5zY3JvbGxUb3AmJjEhPT1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk/MTowLGEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKSxhLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1zdGF0ZS1kaXNhYmxlZCwudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KSl9KGEsdGhpcyl9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1vYmlsZS5taW4ubWFw",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:49:25 GMT",
                    "Content-Length": "197415",
                    "Date": "Fri, 07 Nov 2014 06:49:27 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
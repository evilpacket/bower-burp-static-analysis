{
    "url": "http://localhost:9999/yeehaa123/rijks-polymer-elements/app/bower_components/platform/platform.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>document.URL</b> and written to <b>the 'setAttribute()' function of a DOM element</b> via the following statement:<ul><li>d.setAttribu...(\"href\" , document.baseURI|| document.URL) </li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/yeehaa123/rijks-polymer-elements/app/bower_components/platform/platform.js",
                "path": "/yeehaa123/rijks-polymer-elements/app/bower_components/platform/platform.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC95ZWVoYWExMjMvcmlqa3MtcG9seW1lci1lbGVtZW50cy9hcHAvYm93ZXJfY29tcG9uZW50cy9wbGF0Zm9ybS9wbGF0Zm9ybS5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTY3NTQ3DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBTYXQsIDA4IE5vdiAyMDE0IDAzOjMyOjUxIEdNVA0KTGFzdC1Nb2RpZmllZDogU2F0LCAwOCBOb3YgMjAxNCAwMzozMjo1MSBHTVQNCg0KLy8gQ29weXJpZ2h0IChjKSAyMDEyIFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vCi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAovLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlCi8vIG1ldDoKLy8KLy8gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodAovLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCi8vICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZQovLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyCi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUKLy8gZGlzdHJpYnV0aW9uLgovLyAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMKLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20KLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwovLyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAovLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQovLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQovLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgovLyBAdmVyc2lvbjogMC4xLjMKZnVuY3Rpb24gUG9pbnRlckdlc3R1cmVFdmVudChhLGIpe3ZhciBjPWJ8fHt9LGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IiksZT17YnViYmxlczpCb29sZWFuKGMuYnViYmxlcyk9PT1jLmJ1YmJsZXN8fCEwLGNhbmNlbGFibGU6Qm9vbGVhbihjLmNhbmNlbGFibGUpPT09Yy5jYW5jZWxhYmxlfHwhMH07ZC5pbml0RXZlbnQoYSxlLmJ1YmJsZXMsZS5jYW5jZWxhYmxlKTtmb3IodmFyIGYsZz1PYmplY3Qua2V5cyhjKSxoPTA7aDxnLmxlbmd0aDtoKyspZj1nW2hdLGRbZl09Y1tmXTtyZXR1cm4gZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfSJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGEoYSl7Yj1hfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9W10sYz17fTtpZihPYmplY3Qub2JzZXJ2ZShjLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLDMhPT1iLmxlbmd0aClyZXR1cm4hMTtpZigibmV3Ij09YlswXS50eXBlJiYidXBkYXRlZCI9PWJbMV0udHlwZSYmImRlbGV0ZWQiPT1iWzJdLnR5cGUpTD0ibmV3IixNPSJ1cGRhdGVkIixOPSJyZWNvbmZpZ3VyZWQiLE89ImRlbGV0ZWQiO2Vsc2UgaWYoImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVW5leHBlY3RlZCBjaGFuZ2UgcmVjb3JkIG5hbWVzIGZvciBPYmplY3Qub2JzZXJ2ZS4gVXNpbmcgZGlydHktY2hlY2tpbmcgaW5zdGVhZCIpLCExO3JldHVybiBPYmplY3QudW5vYnNlcnZlKGMsYSksYz1bMF0sQXJyYXkub2JzZXJ2ZShjLGEpLGNbMV09MSxjLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSwyIT1iLmxlbmd0aD8hMTpiWzBdLnR5cGUhPVB8fGJbMV0udHlwZSE9UD8hMTooQXJyYXkudW5vYnNlcnZlKGMsYSksITApfWZ1bmN0aW9uIGMoKXtpZihhLmRvY3VtZW50JiYic2VjdXJpdHlQb2xpY3kiaW4gYS5kb2N1bWVudCYmIWEuZG9jdW1lbnQuc2VjdXJpdHlQb2xpY3kuYWxsb3dzRXZhbClyZXR1cm4hMTt0cnl7dmFyIGI9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYigpfWNhdGNoKGMpe3JldHVybiExfX1mdW5jdGlvbiBkKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4rYX1mdW5jdGlvbiBmKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpTKGEpJiZTKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBoKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnRyaW0oKSwiIj09YT8hMDoiLiI9PWFbMF0/ITE6JC50ZXN0KGEpKX1mdW5jdGlvbiBpKGEsYil7aWYoYiE9PV8pdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczpkKGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLFImJnRoaXMubGVuZ3RoJiYodGhpcy5nZXRWYWx1ZUZyb209dGhpcy5jb21waWxlZEdldFZhbHVlRnJvbUZuKCkpLHZvaWQgMCl9ZnVuY3Rpb24gaihhKXtpZihhIGluc3RhbmNlb2YgaSlyZXR1cm4gYTtudWxsPT1hJiYoYT0iIiksInN0cmluZyIhPXR5cGVvZiBhJiYoYT1TdHJpbmcoYSkpO3ZhciBiPWFiW2FdO2lmKGIpcmV0dXJuIGI7aWYoIWgoYSkpcmV0dXJuIGJiO3ZhciBiPW5ldyBpKGEsXyk7cmV0dXJuIGFiW2FdPWIsYn1mdW5jdGlvbiBrKGIpe2Zvcih2YXIgYz0wO2RiPmMmJmIuY2hlY2tfKCk7KWMrKztyZXR1cm4gYS50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGEuZGlydHlDaGVja0N5Y2xlQ291bnQ9YyksYz4wfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gbChhLmFkZGVkKSYmbChhLnJlbW92ZWQpJiZsKGEuY2hhbmdlZCl9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPXt9LGQ9e30sZT17fTtmb3IodmFyIGYgaW4gYil7dmFyIGc9YVtmXTsodm9pZCAwPT09Z3x8ZyE9PWJbZl0pJiYoZiBpbiBhP2chPT1iW2ZdJiYoZVtmXT1nKTpkW2ZdPXZvaWQgMCl9Zm9yKHZhciBmIGluIGEpZiBpbiBifHwoY1tmXT1hW2ZdKTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGghPT1iLmxlbmd0aCYmKGUubGVuZ3RoPWEubGVuZ3RoKSx7YWRkZWQ6YyxyZW1vdmVkOmQsY2hhbmdlZDplfX1mdW5jdGlvbiBvKCl7aWYoIWViLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGViLmxlbmd0aDthKyspZWJbYV0oKTtyZXR1cm4gZWIubGVuZ3RoPTAsITB9ZnVuY3Rpb24gcCgpe2Z1bmN0aW9uIGEoYSl7YiYmYi5zdGF0ZV89PT1rYiYmIWQmJmIuY2hlY2tfKGEpfXZhciBiLGMsZD0hMSxlPSEwO3JldHVybntvcGVuOmZ1bmN0aW9uKGMpe2lmKGIpdGhyb3cgRXJyb3IoIk9ic2VydmVkT2JqZWN0IGluIHVzZSIpO2V8fE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxiPWMsZT0hMX0sb2JzZXJ2ZTpmdW5jdGlvbihiLGQpe2M9YixkP0FycmF5Lm9ic2VydmUoYyxhKTpPYmplY3Qub2JzZXJ2ZShjLGEpfSxkZWxpdmVyOmZ1bmN0aW9uKGIpe2Q9YixPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksZD0hMX0sY2xvc2U6ZnVuY3Rpb24oKXtiPXZvaWQgMCxPYmplY3QudW5vYnNlcnZlKGMsYSksZ2IucHVzaCh0aGlzKX19fWZ1bmN0aW9uIHEoYSxiLGMpe3ZhciBkPWdiLnBvcCgpfHxwKCk7cmV0dXJuIGQub3BlbihhKSxkLm9ic2VydmUoYixjKSxkfWZ1bmN0aW9uIHIoKXtmdW5jdGlvbiBhKGIpe2lmKGYoYikpe3ZhciBjPWkuaW5kZXhPZihiKTtjPj0wPyhpW2NdPXZvaWQgMCxoLnB1c2goYikpOmguaW5kZXhPZihiKTwwJiYoaC5wdXNoKGIpLE9iamVjdC5vYnNlcnZlKGIsZCkpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpKX19ZnVuY3Rpb24gYigpe2lmKGs9ITEsail7dmFyIGI9aT09PWhiP1tdOmk7aT1oLGg9Yjt2YXIgYztmb3IodmFyIGYgaW4gZSljPWVbZl0sYyYmYy5zdGF0ZV89PWtiJiZjLml0ZXJhdGVPYmplY3RzXyhhKTtmb3IodmFyIGc9MDtnPGkubGVuZ3RoO2crKyl7dmFyIGw9aVtnXTtsJiZPYmplY3QudW5vYnNlcnZlKGwsZCl9aS5sZW5ndGg9MH19ZnVuY3Rpb24gYygpe2t8fChqPSEwLGs9ITAsZmIoYikpfWZ1bmN0aW9uIGQoKXt2YXIgYTtmb3IodmFyIGIgaW4gZSlhPWVbYl0sYSYmYS5zdGF0ZV89PWtiJiZhLmNoZWNrXygpO2MoKX12YXIgZT1bXSxnPTAsaD1bXSxpPWhiLGo9ITEsaz0hMSxsPXtvYmplY3Q6dm9pZCAwLG9iamVjdHM6aCxvcGVuOmZ1bmN0aW9uKGIpe2VbYi5pZF9dPWIsZysrLGIuaXRlcmF0ZU9iamVjdHNfKGEpfSxjbG9zZTpmdW5jdGlvbihhKXtpZihlW2EuaWRfXT12b2lkIDAsZy0tLGcpcmV0dXJuIGMoKSx2b2lkIDA7aj0hMTtmb3IodmFyIGI9MDtiPGgubGVuZ3RoO2IrKylPYmplY3QudW5vYnNlcnZlKGhbYl0sZCksdC51bm9ic2VydmVkQ291bnQrKztlLmxlbmd0aD0wLGgubGVuZ3RoPTAsaWIucHVzaCh0aGlzKX0scmVzZXQ6Y307cmV0dXJuIGx9ZnVuY3Rpb24gcyhhLGIpe3JldHVybiBjYiYmY2Iub2JqZWN0PT09Ynx8KGNiPWliLnBvcCgpfHxyKCksY2Iub2JqZWN0PWIpLGNiLm9wZW4oYSksY2J9ZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGVfPWpiLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmIrK31mdW5jdGlvbiB1KGEpe3QuX2FsbE9ic2VydmVyc0NvdW50KysscGImJm9iLnB1c2goYSl9ZnVuY3Rpb24gdigpe3QuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gdyhhKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZV89YSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIHgoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTt3LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB5KGEsYil7dC5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89YiBpbnN0YW5jZW9mIGk/YjpqKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiB6KCl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBBKGEpe3JldHVybiBhfWZ1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89YSx0aGlzLmdldFZhbHVlRm5fPWJ8fEEsdGhpcy5zZXRWYWx1ZUZuXz1jfHxBLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1kfWZ1bmN0aW9uIEMoYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0Lm9ic2VydmUpe3ZhciBjPU9iamVjdC5nZXROb3RpZmllcihhKTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZj17b2JqZWN0OmEsdHlwZTpkLG5hbWU6Yn07Mj09PWFyZ3VtZW50cy5sZW5ndGgmJihmLm9sZFZhbHVlPWUpLGMubm90aWZ5KGYpfX19ZnVuY3Rpb24gRChhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3RiW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLGcudHlwZSE9TSYmKGcudHlwZSE9TD9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJue2luZGV4OmEscmVtb3ZlZDpiLGFkZGVkQ291bnQ6Y319ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBHKGEsYixjLGQsZSxmKXtyZXR1cm4geWIuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIEgoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gSShhLGIsYyxkKXtmb3IodmFyIGU9RShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPUgoZS5pbmRleCxlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGgsaS5pbmRleCxpLmluZGV4K2kuYWRkZWRDb3VudCk7aWYoaj49MCl7YS5zcGxpY2UoaCwxKSxoLS0sZy09aS5hZGRlZENvdW50LWkucmVtb3ZlZC5sZW5ndGgsZS5hZGRlZENvdW50Kz1pLmFkZGVkQ291bnQtajt2YXIgaz1lLnJlbW92ZWQubGVuZ3RoK2kucmVtb3ZlZC5sZW5ndGgtajtpZihlLmFkZGVkQ291bnR8fGspe3ZhciBjPWkucmVtb3ZlZDtpZihlLmluZGV4PGkuaW5kZXgpe3ZhciBsPWUucmVtb3ZlZC5zbGljZSgwLGkuaW5kZXgtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobCxjKSxjPWx9aWYoZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoPmkuaW5kZXgraS5hZGRlZENvdW50KXt2YXIgbT1lLnJlbW92ZWQuc2xpY2UoaS5pbmRleCtpLmFkZGVkQ291bnQtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxtKX1lLnJlbW92ZWQ9YyxpLmluZGV4PGUuaW5kZXgmJihlLmluZGV4PWkuaW5kZXgpfWVsc2UgZj0hMH1lbHNlIGlmKGUuaW5kZXg8aS5pbmRleCl7Zj0hMCxhLnNwbGljZShoLDAsZSksaCsrO3ZhciBuPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RoO2kuaW5kZXgrPW4sZys9bn19fWZ8fGEucHVzaChlKX1mdW5jdGlvbiBKKGEsYil7Zm9yKHZhciBjPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtzd2l0Y2goZy50eXBlKXtjYXNlIFA6SShjLGcuaW5kZXgsZy5yZW1vdmVkLnNsaWNlKCksZy5hZGRlZENvdW50KTticmVhaztjYXNlIEw6Y2FzZSBNOmNhc2UgTzppZighZChnLm5hbWUpKWNvbnRpbnVlO3ZhciBoPWUoZy5uYW1lKTtpZigwPmgpY29udGludWU7SShjLGgsW2cub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShnKSl9fXJldHVybiBjfWZ1bmN0aW9uIEsoYSxiKXt2YXIgYz1bXTtyZXR1cm4gSihhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD8oYi5yZW1vdmVkWzBdIT09YVtiLmluZGV4XSYmYy5wdXNoKGIpLHZvaWQgMCk6KGM9Yy5jb25jYXQoRyhhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpLHZvaWQgMCl9KSxjfXZhciBMPSJhZGQiLE09InVwZGF0ZSIsTj0icmVjb25maWd1cmUiLE89ImRlbGV0ZSIsUD0ic3BsaWNlIixRPWIoKSxSPWMoKSxTPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFQ9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFU9IlskX2EtekEtWl0iLFY9IlskX2EtekEtWjAtOV0iLFc9VSsiKyIrVisiKiIsWD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsWT0iKD86IitXKyJ8IitYKyIpIixaPSIoPzoiK1krIikoPzpcXHMqXFwuXFxzKiIrWSsiKSoiLCQ9bmV3IFJlZ0V4cCgiXiIrWisiJCIpLF89e30sYWI9e307aS5nZXQ9aixpLnByb3RvdHlwZT1UKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCIuIil9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFhKXJldHVybjtiKGEpfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPydbIicrYSsnIl0nOiIuIithfSksYj0iIixjPSJvYmoiO2IrPSJpZiAob2JqICE9IG51bGwiO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGgtMTtlKyspe3t0aGlzW2VdfWMrPWFbZV0sYis9IiAmJlxuICAgICAiK2MrIiAhPSBudWxsIn1yZXR1cm4gYis9IilcbiIsYys9YVtlXSxiKz0iICByZXR1cm4gIitjKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGJiPW5ldyBpKCIiLF8pO2JiLnZhbGlkPSExLGJiLmdldFZhbHVlRnJvbT1iYi5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBjYixkYj0xZTMsZWI9W10sZmI9UT9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe28oKSxiPSExfSksZnVuY3Rpb24oYyl7ZWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZWIucHVzaChhKX19KCksZ2I9W10saGI9W10saWI9W10samI9MCxrYj0xLGxiPTIsbWI9MyxuYj0xO3QucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gdSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJih2KHRoaXMpLHRoaXMuc3RhdGVfPWxiLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDApfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiZrKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7dC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBvYixwYj0hUTt0Ll9hbGxPYnNlcnZlcnNDb3VudD0wLHBiJiYob2I9W10pO3ZhciBxYj0hMSxyYj0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzO2EuUGxhdGZvcm09YS5QbGF0Zm9ybXx8e30sYS5QbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludD1mdW5jdGlvbigpe2lmKCFxYil7aWYocmIpcmV0dXJuIE9iamVjdC5kZWxpdmVyQWxsQ2hhbmdlUmVjb3JkcygpLHZvaWQgMDtpZihwYil7cWI9ITA7dmFyIGIsYyxkPTA7ZG97ZCsrLGM9b2Isb2I9W10sYj0hMTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXTtmLnN0YXRlXz09a2ImJihmLmNoZWNrXygpJiYoYj0hMCksb2IucHVzaChmKSl9bygpJiYoYj0hMCl9d2hpbGUoZGI+ZCYmYik7YS50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGEuZGlydHlDaGVja0N5Y2xlQ291bnQ9ZCkscWI9ITF9fX0scGImJihhLlBsYXRmb3JtLmNsZWFyT2JzZXJ2ZXJzPWZ1bmN0aW9uKCl7b2I9W119KSx3LnByb3RvdHlwZT1UKHtfX3Byb3RvX186dC5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiExLGNvbm5lY3RfOmZ1bmN0aW9uKCl7UT90aGlzLmRpcmVjdE9ic2VydmVyXz1xKHRoaXMsdGhpcy52YWx1ZV8sdGhpcy5hcnJheU9ic2VydmUpOnRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pfSxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LmlzQXJyYXkoYSk/W106e307Zm9yKHZhciBjIGluIGEpYltjXT1hW2NdO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiYoYi5sZW5ndGg9YS5sZW5ndGgpLGJ9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYixjO2lmKFEpe2lmKCFhKXJldHVybiExO2M9e30sYj1EKHRoaXMudmFsdWVfLGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0XyxiPW4odGhpcy52YWx1ZV8sdGhpcy5vbGRPYmplY3RfKTtyZXR1cm4gbShiKT8hMTooUXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7UT8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJihRP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITEpOmsodGhpcykpfSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdE9ic2VydmVyXz90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCEwKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSx0aGlzLnZhbHVlX319KSx4LnByb3RvdHlwZT1UKHtfX3Byb3RvX186dy5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiEwLGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2xpY2UoKX0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKFEpe2lmKCFhKXJldHVybiExO2I9Syh0aGlzLnZhbHVlXyxhKX1lbHNlIGI9Ryh0aGlzLnZhbHVlXywwLHRoaXMudmFsdWVfLmxlbmd0aCx0aGlzLm9sZE9iamVjdF8sMCx0aGlzLm9sZE9iamVjdF8ubGVuZ3RoKTtyZXR1cm4gYiYmYi5sZW5ndGg/KFF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiXSksITApOiExfX0pLHguYXBwbHlTcGxpY2VzPWZ1bmN0aW9uKGEsYixjKXtjLmZvckVhY2goZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtjLmluZGV4LGMucmVtb3ZlZC5sZW5ndGhdLGU9Yy5pbmRleDtlPGMuaW5kZXgrYy5hZGRlZENvdW50OylkLnB1c2goYltlXSksZSsrO0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYSxkKX0pfSx5LnByb3RvdHlwZT1UKHtfX3Byb3RvX186dC5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtRJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLHRoaXMub2JqZWN0XykpLHRoaXMuY2hlY2tfKHZvaWQgMCwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8uaXRlcmF0ZU9iamVjdHModGhpcy5vYmplY3RfLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnZhbHVlXztyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5wYXRoXy5nZXRWYWx1ZUZyb20odGhpcy5vYmplY3RfKSxifHxnKHRoaXMudmFsdWVfLGMpPyExOih0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxhKX19KTt2YXIgc2I9e307ei5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aWYodGhpcy5jaGVja18odm9pZCAwLCEwKSxRKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1zYil7Yj0hMDticmVha31yZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/Yj8odGhpcy5kaXJlY3RPYnNlcnZlcl8ucmVzZXQoKSx2b2lkIDApOih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx2b2lkIDApOihiJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLGEpKSx2b2lkIDApfX0sY2xvc2VPYnNlcnZlcnNfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLm9ic2VydmVkXy5sZW5ndGg7YSs9Mil0aGlzLm9ic2VydmVkX1thXT09PXNiJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTB9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKSx0aGlzLmNsb3NlT2JzZXJ2ZXJzXygpfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiJiZ0aGlzLnN0YXRlXyE9bWIpdGhyb3cgRXJyb3IoIkNhbm5vdCBhZGQgcGF0aHMgb25jZSBzdGFydGVkLiIpO3RoaXMub2JzZXJ2ZWRfLnB1c2goYSxiIGluc3RhbmNlb2YgaT9iOmooYikpfSxhZGRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlXyE9amImJnRoaXMuc3RhdGVfIT1tYil0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBvYnNlcnZlcnMgb25jZSBzdGFydGVkLiIpO2Eub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyksdGhpcy5vYnNlcnZlZF8ucHVzaChzYixhKX0sc3RhcnRSZXNldDpmdW5jdGlvbigpe2lmKHRoaXMuc3RhdGVfIT1rYil0aHJvdyBFcnJvcigiQ2FuIG9ubHkgcmVzZXQgd2hpbGUgb3BlbiIpO3RoaXMuc3RhdGVfPW1iLHRoaXMuY2xvc2VPYnNlcnZlcnNfKCl9LGZpbmlzaFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPW1iKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MiliPXRoaXMub2JzZXJ2ZWRfW2NdLGIhPT1zYiYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlPXRoaXMub2JzZXJ2ZWRfW2QrMV0sZj10aGlzLm9ic2VydmVkX1tkXSxoPWY9PT1zYj9lLmRpc2NhcmRDaGFuZ2VzKCk6ZS5nZXRWYWx1ZUZyb20oZik7Yj90aGlzLnZhbHVlX1tkLzJdPWg6ZyhoLHRoaXMudmFsdWVfW2QvMl0pfHwoYz1jfHxbXSxjW2QvMl09dGhpcy52YWx1ZV9bZC8yXSx0aGlzLnZhbHVlX1tkLzJdPWgpfXJldHVybiBjPyh0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGMsdGhpcy5vYnNlcnZlZF9dKSwhMCk6ITF9fSksQi5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8ub3Blbih0aGlzLm9ic2VydmVkQ2FsbGJhY2tfLHRoaXMpKSx0aGlzLnZhbHVlX30sb2JzZXJ2ZWRDYWxsYmFja186ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmdldFZhbHVlRm5fKGEpLCFnKGEsdGhpcy52YWx1ZV8pKXt2YXIgYj10aGlzLnZhbHVlXzt0aGlzLnZhbHVlXz1hLHRoaXMuY2FsbGJhY2tfLmNhbGwodGhpcy50YXJnZXRfLHRoaXMudmFsdWVfLGIpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JzZXJ2YWJsZV8uZGVsaXZlcigpfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLnNldFZhbHVlRm5fKGEpLCF0aGlzLmRvbnRQYXNzVGhyb3VnaFNldF8mJnRoaXMub2JzZXJ2YWJsZV8uc2V0VmFsdWU/dGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZShhKTp2b2lkIDB9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZhYmxlXyYmdGhpcy5vYnNlcnZhYmxlXy5jbG9zZSgpLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmdldFZhbHVlRm5fPXZvaWQgMCx0aGlzLnNldFZhbHVlRm5fPXZvaWQgMH19O3ZhciB0Yj17fTt0YltMXT0hMCx0YltNXT0hMCx0YltPXT0hMCx0LmRlZmluZUNvbXB1dGVkUHJvcGVydHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUMoYSxiKSxlPWMub3BlbihmdW5jdGlvbihhLGIpe2U9YSxkJiZkKE0sYil9KTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVsaXZlcigpLGV9LHNldDpmdW5jdGlvbihhKXtyZXR1cm4gYy5zZXRWYWx1ZShhKSxhfSxjb25maWd1cmFibGU6ITB9KSx7Y2xvc2U6ZnVuY3Rpb24oKXtjLmNsb3NlKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19fTt2YXIgdWI9MCx2Yj0xLHdiPTIseGI9MztGLnByb3RvdHlwZT17Y2FsY0VkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz1mLWUrMSxoPWMtYisxLGk9bmV3IEFycmF5KGcpLGo9MDtnPmo7aisrKWlbal09bmV3IEFycmF5KGgpLGlbal1bMF09ajtmb3IodmFyIGs9MDtoPms7aysrKWlbMF1ba109aztmb3IodmFyIGo9MTtnPmo7aisrKWZvcih2YXIgaz0xO2g+aztrKyspaWYodGhpcy5lcXVhbHMoYVtiK2stMV0sZFtlK2otMV0pKWlbal1ba109aVtqLTFdW2stMV07ZWxzZXt2YXIgbD1pW2otMV1ba10rMSxtPWlbal1bay0xXSsxO2lbal1ba109bT5sP2w6bX1yZXR1cm4gaX0sc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aC0xLGM9YVswXS5sZW5ndGgtMSxkPWFbYl1bY10sZT1bXTtiPjB8fGM+MDspaWYoMCE9YilpZigwIT1jKXt2YXIgZixnPWFbYi0xXVtjLTFdLGg9YVtiLTFdW2NdLGk9YVtiXVtjLTFdO2Y9aT5oP2c+aD9oOmc6Zz5pP2k6ZyxmPT1nPyhnPT1kP2UucHVzaCh1Yik6KGUucHVzaCh2YiksZD1nKSxiLS0sYy0tKTpmPT1oPyhlLnB1c2goeGIpLGItLSxkPWgpOihlLnB1c2god2IpLGMtLSxkPWkpfWVsc2UgZS5wdXNoKHhiKSxiLS07ZWxzZSBlLnB1c2god2IpLGMtLTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sY2FsY1NwbGljZXM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD0wLGk9TWF0aC5taW4oYy1iLGYtZSk7aWYoMD09YiYmMD09ZSYmKGc9dGhpcy5zaGFyZWRQcmVmaXgoYSxkLGkpKSxjPT1hLmxlbmd0aCYmZj09ZC5sZW5ndGgmJihoPXRoaXMuc2hhcmVkU3VmZml4KGEsZCxpLWcpKSxiKz1nLGUrPWcsYy09aCxmLT1oLGMtYj09MCYmZi1lPT0wKXJldHVybltdO2lmKGI9PWMpe2Zvcih2YXIgaj1FKGIsW10sMCk7Zj5lOylqLnJlbW92ZWQucHVzaChkW2UrK10pO3JldHVybltqXX1pZihlPT1mKXJldHVybltFKGIsW10sYy1iKV07Zm9yKHZhciBrPXRoaXMuc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKHRoaXMuY2FsY0VkaXREaXN0YW5jZXMoYSxiLGMsZCxlLGYpKSxqPXZvaWQgMCxsPVtdLG09YixuPWUsbz0wO288ay5sZW5ndGg7bysrKXN3aXRjaChrW29dKXtjYXNlIHViOmomJihsLnB1c2goaiksaj12b2lkIDApLG0rKyxuKys7YnJlYWs7Y2FzZSB2YjpqfHwoaj1FKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKyxqLnJlbW92ZWQucHVzaChkW25dKSxuKys7YnJlYWs7Y2FzZSB3YjpqfHwoaj1FKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKzticmVhaztjYXNlIHhiOmp8fChqPUUobSxbXSwwKSksai5yZW1vdmVkLnB1c2goZFtuXSksbisrfXJldHVybiBqJiZsLnB1c2goaiksbH0sc2hhcmVkUHJlZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MDtjPmQ7ZCsrKWlmKCF0aGlzLmVxdWFscyhhW2RdLGJbZF0pKXJldHVybiBkO3JldHVybiBjfSxzaGFyZWRTdWZmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPWIubGVuZ3RoLGY9MDtjPmYmJnRoaXMuZXF1YWxzKGFbLS1kXSxiWy0tZV0pOylmKys7cmV0dXJuIGZ9LGNhbGN1bGF0ZVNwbGljZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxjU3BsaWNlcyhhLDAsYS5sZW5ndGgsYiwwLGIubGVuZ3RoKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifX07dmFyIHliPW5ldyBGO2EuT2JzZXJ2ZXI9dCxhLk9ic2VydmVyLnJ1bkVPTV89ZmIsYS5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPVEsYS5BcnJheU9ic2VydmVyPXgsYS5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4geWIuY2FsY3VsYXRlU3BsaWNlcyhhLGIpfSxhLkFycmF5U3BsaWNlPUYsYS5PYmplY3RPYnNlcnZlcj13LGEuUGF0aE9ic2VydmVyPXksYS5Db21wb3VuZE9ic2VydmVyPXosYS5QYXRoPWksYS5PYnNlcnZlclRyYW5zZm9ybT1CLGEuT2JzZXJ2ZXIuY2hhbmdlUmVjb3JkVHlwZXM9e2FkZDpMLHVwZGF0ZTpNLHJlY29uZmlndXJlOk4sImRlbGV0ZSI6TyxzcGxpY2U6UH19KCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGU/Z2xvYmFsOnRoaXN8fHdpbmRvdyksd2luZG93LlBsYXRmb3JtPXdpbmRvdy5QbGF0Zm9ybXx8e30sd2luZG93LmxvZ0ZsYWdzPXdpbmRvdy5sb2dGbGFnc3x8e30sZnVuY3Rpb24oYSl7dmFyIGI9YS5mbGFnc3x8e307bG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbihhKXthPWEuc3BsaXQoIj0iKSxhWzBdJiYoYlthWzBdXT1hWzFdfHwhMCl9KSxiLnNoYWRvdz1iLnNoYWRvd3x8Yi5zaGFkb3dkb218fGIucG9seWZpbGwsYi5zaGFkb3c9Im5hdGl2ZSI9PT1iLnNoYWRvdz8hMTpiLnNoYWRvd3x8IUhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290JiYicG9seWZpbGwiLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJwb2x5ZmlsbCI9PT1QbGF0Zm9ybS5mbGFncy5zaGFkb3c/KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIEwoYikuZm9yRWFjaChmdW5jdGlvbihjKXtLKGEsYyxNKGIsYykpfSksYX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIEwoYikuZm9yRWFjaChmdW5jdGlvbihjKXtzd2l0Y2goYyl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6cmV0dXJufUsoYSxjLE0oYixjKSl9KSxhfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdaW4gYSlyZXR1cm4gYltjXX1mdW5jdGlvbiBmKGEpe3ZhciBiPWEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1FLmdldChiKTtpZihjKXJldHVybiBjO3ZhciBkPWYoYiksZT10KGQpO3JldHVybiBxKGIsZSxhKSxlfWZ1bmN0aW9uIGcoYSxiKXtvKGEsYiwhMCl9ZnVuY3Rpb24gaChhLGIpe28oYixhLCExKX1mdW5jdGlvbiBpKGEpe3JldHVybi9eb25bYS16XSskLy50ZXN0KGEpfWZ1bmN0aW9uIGooYSl7cmV0dXJuL15cd1thLXpBLVpfMC05XSokLy50ZXN0KGEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIEgmJmooYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdfX1mdW5jdGlvbiBsKGEpe3JldHVybiBIJiZqKGEpP25ldyBGdW5jdGlvbigidiIsInRoaXMuaW1wbC4iK2ErIiA9IHYiKTpmdW5jdGlvbihiKXt0aGlzLmltcGxbYV09Yn19ZnVuY3Rpb24gbShhKXtyZXR1cm4gSCYmaihhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKyIuYXBwbHkodGhpcy5pbXBsLCBhcmd1bWVudHMpIik6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX1mdW5jdGlvbiBuKGEsYil7dHJ5e3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYil9Y2F0Y2goYyl7cmV0dXJuIE99fWZ1bmN0aW9uIG8oYixjLGQpe2Zvcih2YXIgZT1MKGIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtpZigicG9seW1lckJsYWNrTGlzdF8iIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtOJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaixvPW4oYixnKTtpZihkJiYiZnVuY3Rpb24iPT10eXBlb2Ygby52YWx1ZSljW2ddPW0oZyk7ZWxzZXt2YXIgcD1pKGcpO2g9cD9hLmdldEV2ZW50SGFuZGxlckdldHRlcihnKTprKGcpLChvLndyaXRhYmxlfHxvLnNldCkmJihqPXA/YS5nZXRFdmVudEhhbmRsZXJTZXR0ZXIoZyk6bChnKSksSyhjLGcse2dldDpoLHNldDpqLGNvbmZpZ3VyYWJsZTpvLmNvbmZpZ3VyYWJsZSxlbnVtZXJhYmxlOm8uZW51bWVyYWJsZX0pfX19fWZ1bmN0aW9uIHAoYSxiLGMpe3ZhciBlPWEucHJvdG90eXBlO3EoZSxiLGMpLGQoYixhKX1mdW5jdGlvbiBxKGEsYyxkKXt2YXIgZT1jLnByb3RvdHlwZTtiKHZvaWQgMD09PUUuZ2V0KGEpKSxFLnNldChhLGMpLEYuc2V0KGUsYSksZyhhLGUpLGQmJmgoZSxkKSxLKGUsImNvbnN0cnVjdG9yIix7dmFsdWU6Yyxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pfWZ1bmN0aW9uIHIoYSxiKXtyZXR1cm4gRS5nZXQoYi5wcm90b3R5cGUpPT09YX1mdW5jdGlvbiBzKGEpe3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPWYoYiksZD10KGMpO3JldHVybiBxKGIsZCxhKSxkfWZ1bmN0aW9uIHQoYSl7ZnVuY3Rpb24gYihiKXthLmNhbGwodGhpcyxiKX1yZXR1cm4gYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSksYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixifWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBHLkV2ZW50VGFyZ2V0fHxhIGluc3RhbmNlb2YgRy5FdmVudHx8YSBpbnN0YW5jZW9mIEcuUmFuZ2V8fGEgaW5zdGFuY2VvZiBHLkRPTUltcGxlbWVudGF0aW9ufHxhIGluc3RhbmNlb2YgRy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8fEcuV2ViR0xSZW5kZXJpbmdDb250ZXh0JiZhIGluc3RhbmNlb2YgRy5XZWJHTFJlbmRlcmluZ0NvbnRleHR9ZnVuY3Rpb24gdihhKXtyZXR1cm4gUSYmYSBpbnN0YW5jZW9mIFF8fGEgaW5zdGFuY2VvZiBTfHxhIGluc3RhbmNlb2YgUnx8YSBpbnN0YW5jZW9mIFR8fGEgaW5zdGFuY2VvZiBVfHxhIGluc3RhbmNlb2YgUHx8YSBpbnN0YW5jZW9mIFZ8fFcmJmEgaW5zdGFuY2VvZiBXfHxYJiZhIGluc3RhbmNlb2YgWH1mdW5jdGlvbiB3KGEpe3JldHVybiBudWxsPT09YT9udWxsOihiKHYoYSkpLGEucG9seW1lcldyYXBwZXJffHwoYS5wb2x5bWVyV3JhcHBlcl89bmV3KGYoYSkpKGEpKSl9ZnVuY3Rpb24geChhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYih1KGEpKSxhLmltcGwpfWZ1bmN0aW9uIHkoYSl7cmV0dXJuIGEmJnUoYSk/eChhKTphfWZ1bmN0aW9uIHooYSl7cmV0dXJuIGEmJiF1KGEpP3coYSk6YX1mdW5jdGlvbiBBKGEsYyl7bnVsbCE9PWMmJihiKHYoYSkpLGIodm9pZCAwPT09Y3x8dShjKSksYS5wb2x5bWVyV3JhcHBlcl89Yyl9ZnVuY3Rpb24gQihhLGIsYyl7SyhhLnByb3RvdHlwZSxiLHtnZXQ6Yyxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfWZ1bmN0aW9uIEMoYSxiKXtCKGEsYixmdW5jdGlvbigpe3JldHVybiB3KHRoaXMuaW1wbFtiXSl9KX1mdW5jdGlvbiBEKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IuZm9yRWFjaChmdW5jdGlvbihiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3ZhciBhPXoodGhpcyk7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0pfSl9dmFyIEU9bmV3IFdlYWtNYXAsRj1uZXcgV2Vha01hcCxHPU9iamVjdC5jcmVhdGUobnVsbCksSD0hKCJzZWN1cml0eVBvbGljeSJpbiBkb2N1bWVudCl8fGRvY3VtZW50LnNlY3VyaXR5UG9saWN5LmFsbG93c0V2YWw7aWYoSCl0cnl7dmFyIEk9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtIPUkoKX1jYXRjaChKKXtIPSExfXZhciBLPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxMPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLE09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtMKHdpbmRvdyk7dmFyIE49L0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksTz17Z2V0OmZ1bmN0aW9uKCl7fSxzZXQ6ZnVuY3Rpb24oKXt9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSxQPXdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixRPXdpbmRvdy5FdmVudFRhcmdldCxSPXdpbmRvdy5FdmVudCxTPXdpbmRvdy5Ob2RlLFQ9d2luZG93LldpbmRvdyxVPXdpbmRvdy5SYW5nZSxWPXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsVz13aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0LFg9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTthLmFzc2VydD1iLGEuY29uc3RydWN0b3JUYWJsZT1FLGEuZGVmaW5lR2V0dGVyPUIsYS5kZWZpbmVXcmFwR2V0dGVyPUMsYS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcj1ELGEuaXNXcmFwcGVyPXUsYS5pc1dyYXBwZXJGb3I9cixhLm1peGluPWMsYS5uYXRpdmVQcm90b3R5cGVUYWJsZT1GLGEub25lT2Y9ZSxhLnJlZ2lzdGVyT2JqZWN0PXMsYS5yZWdpc3RlcldyYXBwZXI9cCxhLnJld3JhcD1BLGEudW53cmFwPXgsYS51bndyYXBJZk5lZWRlZD15LGEud3JhcD13LGEud3JhcElmTmVlZGVkPXosYS53cmFwcGVycz1HfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7Zz0hMTt2YXIgYT1mLnNsaWNlKDApO2Y9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfWZ1bmN0aW9uIGMoYSl7Zi5wdXNoKGEpLGd8fChnPSEwLGQoYiwwKSl9dmFyIGQsZT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcixmPVtdLGc9ITE7aWYoZSl7dmFyIGg9MSxpPW5ldyBlKGIpLGo9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCk7aS5vYnNlcnZlKGose2NoYXJhY3RlckRhdGE6ITB9KSxkPWZ1bmN0aW9uKCl7aD0oaCsxKSUyLGouZGF0YT1ofX1lbHNlIGQ9d2luZG93LnNldEltbWVkaWF0ZXx8d2luZG93LnNldFRpbWVvdXQ7YS5zZXRFbmRPZk1pY3JvdGFzaz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7cHx8KGsoYykscD0hMCl9ZnVuY3Rpb24gYygpe3A9ITE7ZG8gZm9yKHZhciBhPW8uc2xpY2UoKSxiPSExLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQudGFrZVJlY29yZHMoKTtmKGQpLGUubGVuZ3RoJiYoZC5jYWxsYmFja18oZSxkKSxiPSEwKX13aGlsZShiKX1mdW5jdGlvbiBkKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5yZW1vdmVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gZShhLGIpe2Zvcig7YTthPWEucGFyZW50Tm9kZSl7dmFyIGM9bi5nZXQoYSk7aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtlLm9wdGlvbnMuc3VidHJlZSYmZS5hZGRUcmFuc2llbnRPYnNlcnZlcihiKX19fWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPTA7YjxhLm5vZGVzXy5sZW5ndGg7YisrKXt2YXIgYz1hLm5vZGVzX1tiXSxkPW4uZ2V0KGMpO2lmKCFkKXJldHVybjtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtmLm9ic2VydmVyPT09YSYmZi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX19fWZ1bmN0aW9uIGcoYSxjLGUpe2Zvcih2YXIgZj1PYmplY3QuY3JlYXRlKG51bGwpLGc9T2JqZWN0LmNyZWF0ZShudWxsKSxoPWE7aDtoPWgucGFyZW50Tm9kZSl7dmFyIGk9bi5nZXQoaCk7aWYoaSlmb3IodmFyIGo9MDtqPGkubGVuZ3RoO2orKyl7dmFyIGs9aVtqXSxsPWsub3B0aW9ucztpZigoaD09PWF8fGwuc3VidHJlZSkmJiEoImF0dHJpYnV0ZXMiPT09YyYmIWwuYXR0cmlidXRlc3x8ImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVGaWx0ZXImJihudWxsIT09ZS5uYW1lc3BhY2V8fC0xPT09bC5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihlLm5hbWUpKXx8ImNoYXJhY3RlckRhdGEiPT09YyYmIWwuY2hhcmFjdGVyRGF0YXx8ImNoaWxkTGlzdCI9PT1jJiYhbC5jaGlsZExpc3QpKXt2YXIgbT1rLm9ic2VydmVyO2ZbbS51aWRfXT1tLCgiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZU9sZFZhbHVlfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiZsLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSkmJihnW20udWlkX109ZS5vbGRWYWx1ZSl9fX12YXIgbz0hMTtmb3IodmFyIHAgaW4gZil7dmFyIG09ZltwXSxxPW5ldyBkKGMsYSk7Im5hbWUiaW4gZSYmIm5hbWVzcGFjZSJpbiBlJiYocS5hdHRyaWJ1dGVOYW1lPWUubmFtZSxxLmF0dHJpYnV0ZU5hbWVzcGFjZT1lLm5hbWVzcGFjZSksZS5hZGRlZE5vZGVzJiYocS5hZGRlZE5vZGVzPWUuYWRkZWROb2RlcyksZS5yZW1vdmVkTm9kZXMmJihxLnJlbW92ZWROb2Rlcz1lLnJlbW92ZWROb2RlcyksZS5wcmV2aW91c1NpYmxpbmcmJihxLnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZyksZS5uZXh0U2libGluZyYmKHEubmV4dFNpYmxpbmc9ZS5uZXh0U2libGluZyksdm9pZCAwIT09Z1twXSYmKHEub2xkVmFsdWU9Z1twXSksbS5yZWNvcmRzXy5wdXNoKHEpLG89ITB9byYmYigpfWZ1bmN0aW9uIGgoYSl7aWYodGhpcy5jaGlsZExpc3Q9ISFhLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFhLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGF8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGF8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSk/ISFhLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gYSYmISgiY2hhcmFjdGVyRGF0YSJpbiBhKT8hMDohIWEuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoYS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFhLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWEuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGEpe2lmKG51bGw9PWEuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGEuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9cS5jYWxsKGEuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gaShhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrcixvLnB1c2godGhpcyl9ZnVuY3Rpb24gaihhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBrPWEuc2V0RW5kT2ZNaWNyb3Rhc2ssbD1hLndyYXBJZk5lZWRlZCxtPWEud3JhcHBlcnMsbj1uZXcgV2Vha01hcCxvPVtdLHA9ITEscT1BcnJheS5wcm90b3R5cGUuc2xpY2Uscj0wO2kucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7YT1sKGEpO3ZhciBjLGQ9bmV3IGgoYiksZT1uLmdldChhKTtlfHxuLnNldChhLGU9W10pO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0ub2JzZXJ2ZXI9PT10aGlzJiYoYz1lW2ZdLGMucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCksYy5vcHRpb25zPWQpO2N8fChjPW5ldyBqKHRoaXMsYSxkKSxlLnB1c2goYyksdGhpcy5ub2Rlc18ucHVzaChhKSl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fSxqLnByb3RvdHlwZT17YWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1uLmdldChhKTtifHxuLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspZm9yKHZhciBjPWFbYl0sZD1uLmdldChjKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYoZFtlXT09PXRoaXMpe2Quc3BsaWNlKGUsMSk7YnJlYWt9fX0sYS5lbnF1ZXVlTXV0YXRpb249ZyxhLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzPWUsYS53cmFwcGVycy5NdXRhdGlvbk9ic2VydmVyPWksYS53cmFwcGVycy5NdXRhdGlvblJlY29yZD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290fWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5sb2NhbE5hbWU7cmV0dXJuImNvbnRlbnQiPT09Ynx8InNoYWRvdyI9PT1ifWZ1bmN0aW9uIGQoYSl7cmV0dXJuISFhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24gZShhKXt2YXIgYjtyZXR1cm4gYS5wYXJlbnROb2RlfHwoYj1hLmRlZmF1bHRWaWV3KSYmUChiKXx8bnVsbH1mdW5jdGlvbiBmKGYsZyxoKXtpZihoLmxlbmd0aClyZXR1cm4gaC5zaGlmdCgpO2lmKGIoZikpcmV0dXJuIGooZil8fGYuaG9zdDt2YXIgaT1hLmV2ZW50UGFyZW50c1RhYmxlLmdldChmKTtpZihpKXtmb3IodmFyIGs9MTtrPGkubGVuZ3RoO2srKyloW2stMV09aVtrXTtyZXR1cm4gaVswXX1pZihnJiZjKGYpKXt2YXIgbD1mLnBhcmVudE5vZGU7aWYobCYmZChsKSlmb3IodmFyIG09YS5nZXRTaGFkb3dUcmVlcyhsKSxuPWooZyksaz0wO2s8bS5sZW5ndGg7aysrKWlmKG1ba10uY29udGFpbnMobikpcmV0dXJuIG59cmV0dXJuIGUoZil9ZnVuY3Rpb24gZyhhKXtmb3IodmFyIGQ9W10sZT1hLGc9W10saT1bXTtlOyl7dmFyIGo9bnVsbDtpZihjKGUpKXtqPWgoZCk7dmFyIGs9ZFtkLmxlbmd0aC0xXXx8ZTtkLnB1c2goayl9ZWxzZSBkLmxlbmd0aHx8ZC5wdXNoKGUpO3ZhciBsPWRbZC5sZW5ndGgtMV07Zy5wdXNoKHt0YXJnZXQ6bCxjdXJyZW50VGFyZ2V0OmV9KSxiKGUpJiZkLnBvcCgpLGU9ZihlLGosaSl9cmV0dXJuIGd9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9YS5sZW5ndGgtMTtiPj0wO2ItLSlpZighYyhhW2JdKSlyZXR1cm4gYVtiXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBpKGEsZCl7Zm9yKHZhciBlPVtdO2E7KXtmb3IodmFyIGc9W10saT1kLGo9dm9pZCAwO2k7KXt2YXIgbD1udWxsO2lmKGcubGVuZ3RoKXtpZihjKGkpJiYobD1oKGcpLGsoaikpKXt2YXIgbj1nW2cubGVuZ3RoLTFdO2cucHVzaChuKX19ZWxzZSBnLnB1c2goaSk7aWYobShpLGEpKXJldHVybiBnW2cubGVuZ3RoLTFdO2IoaSkmJmcucG9wKCksaj1pLGk9ZihpLGwsZSl9YT1iKGEpP2EuaG9zdDphLnBhcmVudE5vZGV9fWZ1bmN0aW9uIGooYil7cmV0dXJuIGEuaW5zZXJ0aW9uUGFyZW50VGFibGUuZ2V0KGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGooYSl9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGI7Yj1hLnBhcmVudE5vZGU7KWE9YjtyZXR1cm4gYX1mdW5jdGlvbiBtKGEsYil7cmV0dXJuIGwoYSk9PT1sKGIpfWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYT09PWI/ITA6YSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdD9uKGwoYS5ob3N0KSxiKTohMX1mdW5jdGlvbiBvKGEpe3JldHVybiBTLmdldChhKT92b2lkIDA6KFMuc2V0KGEsITApLHAoUChhKSxQKGEudGFyZ2V0KSkpfWZ1bmN0aW9uIHAoYixjKXtpZihULmdldChiKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTdGF0ZUVycm9yIik7VC5zZXQoYiwhMCksYS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGQ9ZyhjKTtyZXR1cm4ibG9hZCI9PT1iLnR5cGUmJjI9PT1kLmxlbmd0aCYmZFswXS50YXJnZXQgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiZkLnNoaWZ0KCksXy5zZXQoYixkKSxxKGIsZCkmJnIoYixkKSYmcyhiLGQpLFguc2V0KGIsdi5OT05FKSxWLmRlbGV0ZShiLG51bGwpLFQuZGVsZXRlKGIpLGIuZGVmYXVsdFByZXZlbnRlZH1mdW5jdGlvbiBxKGEsYil7Zm9yKHZhciBjLGQ9Yi5sZW5ndGgtMTtkPjA7ZC0tKXt2YXIgZT1iW2RdLnRhcmdldCxmPWJbZF0uY3VycmVudFRhcmdldDtpZihlIT09ZiYmKGM9di5DQVBUVVJJTkdfUEhBU0UsIXQoYltkXSxhLGMpKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiByKGEsYil7dmFyIGM9di5BVF9UQVJHRVQ7cmV0dXJuIHQoYlswXSxhLGMpfWZ1bmN0aW9uIHMoYSxiKXtmb3IodmFyIGMsZD1hLmJ1YmJsZXMsZT0xO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1iW2VdLnRhcmdldCxnPWJbZV0uY3VycmVudFRhcmdldDtpZihmPT09ZyljPXYuQVRfVEFSR0VUO2Vsc2V7aWYoIWR8fFouZ2V0KGEpKWNvbnRpbnVlO2M9di5CVUJCTElOR19QSEFTRX1pZighdChiW2VdLGEsYykpcmV0dXJufX1mdW5jdGlvbiB0KGEsYixjKXt2YXIgZD1hLnRhcmdldCxlPWEuY3VycmVudFRhcmdldCxmPVIuZ2V0KGUpO2lmKCFmKXJldHVybiEwO2lmKCJyZWxhdGVkVGFyZ2V0ImluIGIpe3ZhciBnPU8oYik7aWYoZy5yZWxhdGVkVGFyZ2V0KXt2YXIgaD1QKGcucmVsYXRlZFRhcmdldCksaj1pKGUsaCk7aWYoaj09PWQpcmV0dXJuITA7Vy5zZXQoYixqKX19WC5zZXQoYixjKTt2YXIgaz1iLnR5cGUsbD0hMTtVLnNldChiLGQpLFYuc2V0KGIsZSk7Zm9yKHZhciBtPTA7bTxmLmxlbmd0aDttKyspe3ZhciBuPWZbbV07aWYobi5yZW1vdmVkKWw9ITA7ZWxzZSBpZighKG4udHlwZSE9PWt8fCFuLmNhcHR1cmUmJmM9PT12LkNBUFRVUklOR19QSEFTRXx8bi5jYXB0dXJlJiZjPT09di5CVUJCTElOR19QSEFTRSkpdHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuLmhhbmRsZXI/bi5oYW5kbGVyLmNhbGwoZSxiKTpuLmhhbmRsZXIuaGFuZGxlRXZlbnQoYiksWi5nZXQoYikpcmV0dXJuITF9Y2F0Y2gobyl7d2luZG93Lm9uZXJyb3I/d2luZG93Lm9uZXJyb3Ioby5tZXNzYWdlKTpjb25zb2xlLmVycm9yKG8sby5zdGFjayl9fWlmKGwpe3ZhciBwPWYuc2xpY2UoKTtmLmxlbmd0aD0wO2Zvcih2YXIgbT0wO208cC5sZW5ndGg7bSsrKXBbbV0ucmVtb3ZlZHx8Zi5wdXNoKHBbbV0pfXJldHVybiFZLmdldChiKX1mdW5jdGlvbiB1KGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLmhhbmRsZXI9Yix0aGlzLmNhcHR1cmU9Qm9vbGVhbihjKX1mdW5jdGlvbiB2KGEsYil7cmV0dXJuIGEgaW5zdGFuY2VvZiBhYj8odGhpcy5pbXBsPWEsdm9pZCAwKTpQKHooYWIsIkV2ZW50IixhLGIpKX1mdW5jdGlvbiB3KGEpe3JldHVybiBhJiZhLnJlbGF0ZWRUYXJnZXQ/T2JqZWN0LmNyZWF0ZShhLHtyZWxhdGVkVGFyZ2V0Ont2YWx1ZTpPKGEucmVsYXRlZFRhcmdldCl9fSk6YX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD13aW5kb3dbYV0sZT1mdW5jdGlvbihiLGMpe3JldHVybiBiIGluc3RhbmNlb2YgZD8odGhpcy5pbXBsPWIsdm9pZCAwKTpQKHooZCxhLGIsYykpfTtpZihlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxjJiZNKGUucHJvdG90eXBlLGMpLGQpdHJ5e04oZCxlLG5ldyBkKCJ0ZW1wIikpfWNhdGNoKGYpe04oZCxlLGRvY3VtZW50LmNyZWF0ZUV2ZW50KGEpKX1yZXR1cm4gZX1mdW5jdGlvbiB5KGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YXJndW1lbnRzW2JdPU8oYXJndW1lbnRzW2JdKTt2YXIgYz1PKHRoaXMpO2NbYV0uYXBwbHkoYyxhcmd1bWVudHMpfX1mdW5jdGlvbiB6KGEsYixjLGQpe2lmKGpiKXJldHVybiBuZXcgYShjLHcoZCkpO3ZhciBlPU8oZG9jdW1lbnQuY3JlYXRlRXZlbnQoYikpLGY9aWJbYl0sZz1bY107cmV0dXJuIE9iamVjdC5rZXlzKGYpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9ZCYmYSBpbiBkP2RbYV06ZlthXTsicmVsYXRlZFRhcmdldCI9PT1hJiYoYj1PKGIpKSxnLnB1c2goYil9KSxlWyJpbml0IitiXS5hcHBseShlLGcpLGV9ZnVuY3Rpb24gQSgpe3YuY2FsbCh0aGlzKX1mdW5jdGlvbiBCKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhPyEwOmEmJmEuaGFuZGxlRXZlbnR9ZnVuY3Rpb24gQyhhKXtzd2l0Y2goYSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOmNhc2UiRE9NQXR0cmlidXRlTmFtZUNoYW5nZWQiOmNhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjpjYXNlIkRPTUVsZW1lbnROYW1lQ2hhbmdlZCI6Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50IjpjYXNlIkRPTU5vZGVSZW1vdmVkIjpjYXNlIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50IjpjYXNlIkRPTVN1YnRyZWVNb2RpZmllZCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gRChhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBFKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290JiYoYT1hLmhvc3QpLE8oYSl9ZnVuY3Rpb24gRihhLGIpe3ZhciBjPVIuZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIWNbZF0ucmVtb3ZlZCYmY1tkXS50eXBlPT09YilyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBHKGEsYil7Zm9yKHZhciBjPU8oYSk7YztjPWMucGFyZW50Tm9kZSlpZihGKFAoYyksYikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gSChhKXtMKGEsbWIpfWZ1bmN0aW9uIEkoYixjLGQsZSl7YS5yZW5kZXJBbGxQZW5kaW5nKCk7Zm9yKHZhciBmPVAobmIuY2FsbChjLmltcGwsZCxlKSksaD1nKGYsdGhpcyksaT0wO2k8aC5sZW5ndGg7aSsrKXt2YXIgaj1oW2ldO2lmKGouY3VycmVudFRhcmdldD09PWIpcmV0dXJuIGoudGFyZ2V0fXJldHVybiBudWxsfWZ1bmN0aW9uIEooYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9JC5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEsoYSl7dmFyIGI9YS5zbGljZSgyKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9JC5nZXQodGhpcyk7ZHx8KGQ9T2JqZWN0LmNyZWF0ZShudWxsKSwkLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBMPWEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXIsTT1hLm1peGluLE49YS5yZWdpc3RlcldyYXBwZXIsTz1hLnVud3JhcCxQPWEud3JhcCxRPWEud3JhcHBlcnMsUj0obmV3IFdlYWtNYXAsbmV3IFdlYWtNYXApLFM9bmV3IFdlYWtNYXAsVD1uZXcgV2Vha01hcCxVPW5ldyBXZWFrTWFwLFY9bmV3IFdlYWtNYXAsVz1uZXcgV2Vha01hcCxYPW5ldyBXZWFrTWFwLFk9bmV3IFdlYWtNYXAsWj1uZXcgV2Vha01hcCwkPW5ldyBXZWFrTWFwLF89bmV3IFdlYWtNYXA7dS5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGVyPT09YS5oYW5kbGVyJiZ0aGlzLnR5cGU9PT1hLnR5cGUmJnRoaXMuY2FwdHVyZT09PWEuY2FwdHVyZX0sZ2V0IHJlbW92ZWQoKXtyZXR1cm4gbnVsbD09PXRoaXMuaGFuZGxlcn0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyPW51bGx9fTt2YXIgYWI9d2luZG93LkV2ZW50O2FiLnByb3RvdHlwZS5wb2x5bWVyQmxhY2tMaXN0Xz17cmV0dXJuVmFsdWU6ITAsa2V5TG9jYXRpb246ITB9LHYucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIFUuZ2V0KHRoaXMpfSxnZXQgY3VycmVudFRhcmdldCgpe3JldHVybiBWLmdldCh0aGlzKX0sZ2V0IGV2ZW50UGhhc2UoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBwYXRoKCl7dmFyIGE9bmV3IFEuTm9kZUxpc3QsYj1fLmdldCh0aGlzKTtpZihiKXtmb3IodmFyIGM9MCxkPWIubGVuZ3RoLTEsZT1sKFYuZ2V0KHRoaXMpKSxmPTA7ZD49ZjtmKyspe3ZhciBnPWJbZl0uY3VycmVudFRhcmdldCxoPWwoZyk7bihlLGgpJiYoZiE9PWR8fGcgaW5zdGFuY2VvZiBRLk5vZGUpJiYoYVtjKytdPWcpfWEubGVuZ3RoPWN9cmV0dXJuIGF9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe1kuc2V0KHRoaXMsITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKSxaLnNldCh0aGlzLCEwKX19LE4oYWIsdixkb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSk7dmFyIGJiPXgoIlVJRXZlbnQiLHYpLGNiPXgoIkN1c3RvbUV2ZW50Iix2KSxkYj17Z2V0IHJlbGF0ZWRUYXJnZXQoKXtyZXR1cm4gVy5nZXQodGhpcyl8fFAoTyh0aGlzKS5yZWxhdGVkVGFyZ2V0KX19LGViPU0oe2luaXRNb3VzZUV2ZW50OnkoImluaXRNb3VzZUV2ZW50IiwxNCl9LGRiKSxmYj1NKHtpbml0Rm9jdXNFdmVudDp5KCJpbml0Rm9jdXNFdmVudCIsNSl9LGRiKSxnYj14KCJNb3VzZUV2ZW50IixiYixlYiksaGI9eCgiRm9jdXNFdmVudCIsYmIsZmIpLGliPU9iamVjdC5jcmVhdGUobnVsbCksamI9ZnVuY3Rpb24oKXt0cnl7bmV3IHdpbmRvdy5Gb2N1c0V2ZW50KCJmb2N1cyIpfWNhdGNoKGEpe3JldHVybiExfXJldHVybiEwfSgpO2lmKCFqYil7dmFyIGtiPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1pYltjXTtiPU0oTSh7fSxkKSxiKX1pYlthXT1ifTtrYigiRXZlbnQiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITF9KSxrYigiQ3VzdG9tRXZlbnQiLHtkZXRhaWw6bnVsbH0sIkV2ZW50Iiksa2IoIlVJRXZlbnQiLHt2aWV3Om51bGwsZGV0YWlsOjB9LCJFdmVudCIpLGtiKCJNb3VzZUV2ZW50Iix7c2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsYnV0dG9uOjAscmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpLGtiKCJGb2N1c0V2ZW50Iix7cmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpfUEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodi5wcm90b3R5cGUpLE0oQS5wcm90b3R5cGUse2dldCByZXR1cm5WYWx1ZSgpe3JldHVybiB0aGlzLmltcGwucmV0dXJuVmFsdWV9LHNldCByZXR1cm5WYWx1ZShhKXt0aGlzLmltcGwucmV0dXJuVmFsdWU9YQp9fSk7dmFyIGxiPXdpbmRvdy5FdmVudFRhcmdldCxtYj1bImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdO1tOb2RlLFdpbmRvd10uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnByb3RvdHlwZTttYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGErIl8iLHt2YWx1ZTpiW2FdfSl9KX0pLEQucHJvdG90eXBlPXthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtpZihCKGIpJiYhQyhhKSl7dmFyIGQ9bmV3IHUoYSxiLGMpLGU9Ui5nZXQodGhpcyk7aWYoZSl7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspaWYoZC5lcXVhbHMoZVtmXSkpcmV0dXJufWVsc2UgZT1bXSxSLnNldCh0aGlzLGUpO2UucHVzaChkKTt2YXIgZz1FKHRoaXMpO2cuYWRkRXZlbnRMaXN0ZW5lcl8oYSxvLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Qm9vbGVhbihjKTt2YXIgZD1SLmdldCh0aGlzKTtpZihkKXtmb3IodmFyIGU9MCxmPSExLGc9MDtnPGQubGVuZ3RoO2crKylkW2ddLnR5cGU9PT1hJiZkW2ddLmNhcHR1cmU9PT1jJiYoZSsrLGRbZ10uaGFuZGxlcj09PWImJihmPSEwLGRbZ10ucmVtb3ZlKCkpKTtpZihmJiYxPT09ZSl7dmFyIGg9RSh0aGlzKTtoLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGEsbywhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihiKXt2YXIgYz1PKGIpLGQ9Yy50eXBlO1Muc2V0KGMsITEpLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlO0codGhpcyxkKXx8KGU9ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApKTt0cnl7cmV0dXJuIE8odGhpcykuZGlzcGF0Y2hFdmVudF8oYyl9ZmluYWxseXtlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCEwKX19fSxsYiYmTihsYixEKTt2YXIgbmI9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDthLmFkanVzdFJlbGF0ZWRUYXJnZXQ9aSxhLmVsZW1lbnRGcm9tUG9pbnQ9SSxhLmdldEV2ZW50SGFuZGxlckdldHRlcj1KLGEuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPUssYS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPUgsYS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD1BLGEud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9Y2IsYS53cmFwcGVycy5FdmVudD12LGEud3JhcHBlcnMuRXZlbnRUYXJnZXQ9RCxhLndyYXBwZXJzLkZvY3VzRXZlbnQ9aGIsYS53cmFwcGVycy5Nb3VzZUV2ZW50PWdiLGEud3JhcHBlcnMuVUlFdmVudD1iYn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2VudW1lcmFibGU6ITF9KX1mdW5jdGlvbiBjKCl7dGhpcy5sZW5ndGg9MCxiKHRoaXMsImxlbmd0aCIpfWZ1bmN0aW9uIGQoYSl7aWYobnVsbD09YSlyZXR1cm4gYTtmb3IodmFyIGI9bmV3IGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliW2RdPWYoYVtkXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBlKGEsYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX12YXIgZj1hLndyYXA7Yy5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxiKGMucHJvdG90eXBlLCJpdGVtIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt3KGEgaW5zdGFuY2VvZiB0KX1mdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyB2O3JldHVybiBiWzBdPWEsYi5sZW5ndGg9MSxifWZ1bmN0aW9uIGQoYSxiLGMpe3koYiwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmMscHJldmlvdXNTaWJsaW5nOmEucHJldmlvdXNTaWJsaW5nLG5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmd9KX1mdW5jdGlvbiBlKGEsYil7eShhLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6Yn0pfWZ1bmN0aW9uIGYoYSxiLGQsZSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpe3ZhciBmPWgoYSk7Rz0hMDtmb3IodmFyIGc9Zi5sZW5ndGgtMTtnPj0wO2ctLSlhLnJlbW92ZUNoaWxkKGZbZ10pLGZbZ10ucGFyZW50Tm9kZV89YjtHPSExO2Zvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKWZbZ10ucHJldmlvdXNTaWJsaW5nXz1mW2ctMV18fGQsZltnXS5uZXh0U2libGluZ189ZltnKzFdfHxlO3JldHVybiBkJiYoZC5uZXh0U2libGluZ189ZlswXSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1mW2YubGVuZ3RoLTFdKSxmfXZhciBmPWMoYSksaT1hLnBhcmVudE5vZGU7cmV0dXJuIGkmJmkucmVtb3ZlQ2hpbGQoYSksYS5wYXJlbnROb2RlXz1iLGEucHJldmlvdXNTaWJsaW5nXz1kLGEubmV4dFNpYmxpbmdfPWUsZCYmKGQubmV4dFNpYmxpbmdfPWEpLGUmJihlLnByZXZpb3VzU2libGluZ189YSksZn1mdW5jdGlvbiBnKGEpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXJldHVybiBoKGEpO3ZhciBiPWMoYSksZT1hLnBhcmVudE5vZGU7cmV0dXJuIGUmJmQoYSxlLGIpLGJ9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9bmV3IHYsYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBiLmxlbmd0aD1jLGUoYSxiKSxifWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gaihhKXthLm5vZGVJc0luc2VydGVkXygpfWZ1bmN0aW9uIGsoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspaihhW2JdKX1mdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubm9kZVR5cGU9PT10LkRPQ1VNRU5UX05PREU/YTphLm93bmVyRG9jdW1lbnQ7YyE9PWIub3duZXJEb2N1bWVudCYmYy5hZG9wdE5vZGUoYil9ZnVuY3Rpb24gbyhiLGMpe2lmKGMubGVuZ3RoKXt2YXIgZD1iLm93bmVyRG9jdW1lbnQ7aWYoZCE9PWNbMF0ub3duZXJEb2N1bWVudClmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylhLmFkb3B0Tm9kZU5vUmVtb3ZlKGNbZV0sZCl9fWZ1bmN0aW9uIHAoYSxiKXtvKGEsYik7dmFyIGM9Yi5sZW5ndGg7aWYoMT09PWMpcmV0dXJuIEQoYlswXSk7Zm9yKHZhciBkPUQoYS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZT0wO2M+ZTtlKyspZC5hcHBlbmRDaGlsZChEKGJbZV0pKTtyZXR1cm4gZH1mdW5jdGlvbiBxKGEpe2lmKHZvaWQgMCE9PWEuZmlyc3RDaGlsZF8pZm9yKHZhciBiPWEuZmlyc3RDaGlsZF87Yjspe3ZhciBjPWI7Yj1iLm5leHRTaWJsaW5nXyxjLnBhcmVudE5vZGVfPWMucHJldmlvdXNTaWJsaW5nXz1jLm5leHRTaWJsaW5nXz12b2lkIDB9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89dm9pZCAwfWZ1bmN0aW9uIHIoYSl7aWYoYS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiOyl7dyhiLnBhcmVudE5vZGU9PT1hKTt2YXIgYz1iLm5leHRTaWJsaW5nLGQ9RChiKSxlPWQucGFyZW50Tm9kZTtlJiZMLmNhbGwoZSxkKSxiLnByZXZpb3VzU2libGluZ189Yi5uZXh0U2libGluZ189Yi5wYXJlbnROb2RlXz1udWxsLGI9Y31hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz1udWxsfWVsc2UgZm9yKHZhciBjLGY9RChhKSxnPWYuZmlyc3RDaGlsZDtnOyljPWcubmV4dFNpYmxpbmcsTC5jYWxsKGYsZyksZz1jfWZ1bmN0aW9uIHMoYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfWZ1bmN0aW9uIHQoYSl7dyhhIGluc3RhbmNlb2YgSCksdS5jYWxsKHRoaXMsYSksdGhpcy5wYXJlbnROb2RlXz12b2lkIDAsdGhpcy5maXJzdENoaWxkXz12b2lkIDAsdGhpcy5sYXN0Q2hpbGRfPXZvaWQgMCx0aGlzLm5leHRTaWJsaW5nXz12b2lkIDAsdGhpcy5wcmV2aW91c1NpYmxpbmdfPXZvaWQgMH12YXIgdT1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LHY9YS53cmFwcGVycy5Ob2RlTGlzdCx3PWEuYXNzZXJ0LHg9YS5kZWZpbmVXcmFwR2V0dGVyLHk9YS5lbnF1ZXVlTXV0YXRpb24sej1hLmlzV3JhcHBlcixBPWEubWl4aW4sQj1hLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzLEM9YS5yZWdpc3RlcldyYXBwZXIsRD1hLnVud3JhcCxFPWEud3JhcCxGPWEud3JhcElmTmVlZGVkLEc9ITEsSD13aW5kb3cuTm9kZSxJPXdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LEo9KEgucHJvdG90eXBlLmFwcGVuZENoaWxkLEgucHJvdG90eXBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxLPUgucHJvdG90eXBlLmluc2VydEJlZm9yZSxMPUgucHJvdG90eXBlLnJlbW92ZUNoaWxkLE09SC5wcm90b3R5cGUucmVwbGFjZUNoaWxkLE49L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksTz1OP2Z1bmN0aW9uKGEsYil7dHJ5e0wuY2FsbChhLGIpfWNhdGNoKGMpe2lmKCEoYSBpbnN0YW5jZW9mIEkpKXRocm93IGN9fTpmdW5jdGlvbihhLGIpe0wuY2FsbChhLGIpfTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSxBKHQucHJvdG90eXBlLHthcHBlbmRDaGlsZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoYSxudWxsKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEsYyl7YihhKTt2YXIgZDtjP3ooYyk/ZD1EKGMpOihkPWMsYz1FKGQpKTooYz1udWxsLGQ9bnVsbCksYyYmdyhjLnBhcmVudE5vZGU9PT10aGlzKTt2YXIgZSxoPWM/Yy5wcmV2aW91c1NpYmxpbmc6dGhpcy5sYXN0Q2hpbGQsaT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7aWYoZT1pP2coYSk6ZihhLHRoaXMsaCxjKSxpKW4odGhpcyxhKSxxKHRoaXMpLEsuY2FsbCh0aGlzLmltcGwsRChhKSxkKTtlbHNle2h8fCh0aGlzLmZpcnN0Q2hpbGRfPWVbMF0pLGN8fCh0aGlzLmxhc3RDaGlsZF89ZVtlLmxlbmd0aC0xXSk7dmFyIGo9ZD9kLnBhcmVudE5vZGU6dGhpcy5pbXBsO2o/Sy5jYWxsKGoscCh0aGlzLGUpLGQpOm8odGhpcyxlKX1yZXR1cm4geSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmUsbmV4dFNpYmxpbmc6YyxwcmV2aW91c1NpYmxpbmc6aH0pLGsoZSksYX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSl7aWYoYihhKSxhLnBhcmVudE5vZGUhPT10aGlzKXtmb3IodmFyIGQ9ITEsZT0odGhpcy5jaGlsZE5vZGVzLHRoaXMuZmlyc3RDaGlsZCk7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZT09PWEpe2Q9ITA7YnJlYWt9aWYoIWQpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIil9dmFyIGY9RChhKSxnPWEubmV4dFNpYmxpbmcsaD1hLnByZXZpb3VzU2libGluZztpZih0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXt2YXIgaT10aGlzLmZpcnN0Q2hpbGQsaj10aGlzLmxhc3RDaGlsZCxrPWYucGFyZW50Tm9kZTtrJiZPKGssZiksaT09PWEmJih0aGlzLmZpcnN0Q2hpbGRfPWcpLGo9PT1hJiYodGhpcy5sYXN0Q2hpbGRfPWgpLGgmJihoLm5leHRTaWJsaW5nXz1nKSxnJiYoZy5wcmV2aW91c1NpYmxpbmdfPWgpLGEucHJldmlvdXNTaWJsaW5nXz1hLm5leHRTaWJsaW5nXz1hLnBhcmVudE5vZGVfPXZvaWQgMH1lbHNlIHEodGhpcyksTyh0aGlzLmltcGwsZik7cmV0dXJuIEd8fHkodGhpcywiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmMoYSksbmV4dFNpYmxpbmc6ZyxwcmV2aW91c1NpYmxpbmc6aH0pLEIodGhpcyxhKSxhfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24oYSxkKXtiKGEpO3ZhciBlO2lmKHooZCk/ZT1EKGQpOihlPWQsZD1FKGUpKSxkLnBhcmVudE5vZGUhPT10aGlzKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpO3ZhciBoLGk9ZC5uZXh0U2libGluZyxqPWQucHJldmlvdXNTaWJsaW5nLG09IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO3JldHVybiBtP2g9ZyhhKTooaT09PWEmJihpPWEubmV4dFNpYmxpbmcpLGg9ZihhLHRoaXMsaixpKSksbT8obih0aGlzLGEpLHEodGhpcyksTS5jYWxsKHRoaXMuaW1wbCxEKGEpLGUpKToodGhpcy5maXJzdENoaWxkPT09ZCYmKHRoaXMuZmlyc3RDaGlsZF89aFswXSksdGhpcy5sYXN0Q2hpbGQ9PT1kJiYodGhpcy5sYXN0Q2hpbGRfPWhbaC5sZW5ndGgtMV0pLGQucHJldmlvdXNTaWJsaW5nXz1kLm5leHRTaWJsaW5nXz1kLnBhcmVudE5vZGVfPXZvaWQgMCxlLnBhcmVudE5vZGUmJk0uY2FsbChlLnBhcmVudE5vZGUscCh0aGlzLGgpLGUpKSx5KHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6aCxyZW1vdmVkTm9kZXM6YyhkKSxuZXh0U2libGluZzppLHByZXZpb3VzU2libGluZzpqfSksbChkKSxrKGgpLGR9LG5vZGVJc0luc2VydGVkXzpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlSXNJbnNlcnRlZF8oKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5maXJzdENoaWxkfSxnZXQgcGFyZW50Tm9kZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLnBhcmVudE5vZGVfP3RoaXMucGFyZW50Tm9kZV86RSh0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpFKHRoaXMuaW1wbC5maXJzdENoaWxkKX0sZ2V0IGxhc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmxhc3RDaGlsZF8/dGhpcy5sYXN0Q2hpbGRfOkUodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBuZXh0U2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLm5leHRTaWJsaW5nXz90aGlzLm5leHRTaWJsaW5nXzpFKHRoaXMuaW1wbC5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpFKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgcGFyZW50RWxlbWVudCgpe2Zvcih2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5ub2RlVHlwZSE9PXQuRUxFTUVOVF9OT0RFOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX0sZ2V0IHRleHRDb250ZW50KCl7Zm9yKHZhciBhPSIiLGI9dGhpcy5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWIubm9kZVR5cGUhPXQuQ09NTUVOVF9OT0RFJiYoYSs9Yi50ZXh0Q29udGVudCk7cmV0dXJuIGF9LHNldCB0ZXh0Q29udGVudChhKXt2YXIgYj1pKHRoaXMuY2hpbGROb2Rlcyk7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7aWYocih0aGlzKSwiIiE9PWEpe3ZhciBjPXRoaXMuaW1wbC5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpO3RoaXMuYXBwZW5kQ2hpbGQoYyl9fWVsc2UgcSh0aGlzKSx0aGlzLmltcGwudGV4dENvbnRlbnQ9YTt2YXIgZD1pKHRoaXMuY2hpbGROb2Rlcyk7eSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmQscmVtb3ZlZE5vZGVzOmJ9KSxtKGIpLGsoZCl9LGdldCBjaGlsZE5vZGVzKCl7Zm9yKHZhciBhPW5ldyB2LGI9MCxjPXRoaXMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxjbG9uZU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9RSh0aGlzLmltcGwuY2xvbmVOb2RlKCExKSk7aWYoYSlmb3IodmFyIGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWIuYXBwZW5kQ2hpbGQoYy5jbG9uZU5vZGUoITApKTtyZXR1cm4gYn0sY29udGFpbnM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7aWYoYT1GKGEpLGE9PT10aGlzKXJldHVybiEwO3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYj90aGlzLmNvbnRhaW5zKGIpOiExfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gSi5jYWxsKHRoaXMuaW1wbCxEKGEpKX19KSx4KHQsIm93bmVyRG9jdW1lbnQiKSxDKEgsdCxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGRlbGV0ZSB0LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yLGRlbGV0ZSB0LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLHQucHJvdG90eXBlPUEoT2JqZWN0LmNyZWF0ZSh1LnByb3RvdHlwZSksdC5wcm90b3R5cGUpLGEubm9kZVdhc0FkZGVkPWosYS5ub2RlV2FzUmVtb3ZlZD1sLGEubm9kZXNXZXJlQWRkZWQ9ayxhLm5vZGVzV2VyZVJlbW92ZWQ9bSxhLnNuYXBzaG90Tm9kZUxpc3Q9aSxhLndyYXBwZXJzLk5vZGU9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGQpe2Zvcih2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KWUubWF0Y2hlcyhiKSYmKGRbZC5sZW5ndGgrK109ZSksYyhlLGIsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH12YXIgZD17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBjKHRoaXMsYSxuZXcgTm9kZUxpc3QpfX0sZT17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChhKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe2lmKCIqIj09PWEpcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik7Zm9yKHZhciBjPW5ldyBOb2RlTGlzdCxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZT0wLGY9MDtlPGQubGVuZ3RoO2UrKylkW2VdLm5hbWVzcGFjZVVSST09PWEmJihjW2YrK109ZFtlXSk7cmV0dXJuIGMubGVuZ3RoPWYsY319O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1lLGEuU2VsZWN0b3JzSW50ZXJmYWNlPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiwqAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeSxiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixBW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkJbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBiPSIiLGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWIrPWYoYyxhKTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYixjKXt2YXIgZD1jfHwiZGl2IjthLnRleHRDb250ZW50PSIiO3ZhciBlPXcoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCkpO2UuaW5uZXJIVE1MPWI7Zm9yKHZhciBmO2Y9ZS5maXJzdENoaWxkOylhLmFwcGVuZENoaWxkKHgoZikpfWZ1bmN0aW9uIGkoYSl7by5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPXcoYS5jbG9uZU5vZGUoITEpKTtjLmlubmVySFRNTD1iO2Zvcih2YXIgZCxlPXcoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtkPWMuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZChkKTtyZXR1cm4geChlKX1mdW5jdGlvbiBrKGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl19fWZ1bmN0aW9uIGwoYSl7cChpLGEsayhhKSl9ZnVuY3Rpb24gbShiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7Z2V0OmsoYiksc2V0OmZ1bmN0aW9uKGMpe2EucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXT1jfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfWZ1bmN0aW9uIG4oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLGIse3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX12YXIgbz1hLndyYXBwZXJzLkVsZW1lbnQscD1hLmRlZmluZUdldHRlcixxPWEuZW5xdWV1ZU11dGF0aW9uLHI9YS5taXhpbixzPWEubm9kZXNXZXJlQWRkZWQsdD1hLm5vZGVzV2VyZVJlbW92ZWQsdT1hLnJlZ2lzdGVyV3JhcHBlcix2PWEuc25hcHNob3ROb2RlTGlzdCx3PWEudW53cmFwLHg9YS53cmFwLHk9L1smXHUwMEEwIl0vZyx6PS9bJlx1MDBBMDw+XS9nLEE9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEI9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksQz13aW5kb3cuSFRNTEVsZW1lbnQ7aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscihpLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBnKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP2godGhpcyxhLHRoaXMudGFnTmFtZSk6dGhpcy5pbXBsLmlubmVySFRNTD1hO3ZhciBjPXYodGhpcy5jaGlsZE5vZGVzKTtxKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6YyxyZW1vdmVkTm9kZXM6Yn0pLHQoYikscyhjKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBmKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChhKXt2YXIgYj10aGlzLnBhcmVudE5vZGU7aWYoYil7Yi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYz1qKGIsYSk7Yi5yZXBsYWNlQ2hpbGQoYyx0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6Yz10aGlzLGQ9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfX0pLFsiY2xpZW50SGVpZ2h0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImNsaWVudFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsV2lkdGgiXS5mb3JFYWNoKGwpLFsic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCJdLmZvckVhY2gobSksWyJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRDbGllbnRSZWN0cyIsInNjcm9sbEludG9WaWV3Il0uZm9yRWFjaChuKSx1KEMsaSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiIikpLGEud3JhcHBlcnMuSFRNTEVsZW1lbnQ9aSxhLmdldElubmVySFRNTD1nLGEuc2V0SW5uZXJIVE1MPWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLmdldENvbnRleHQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyk7cmV0dXJuIGEmJmYoYSl9fSksZShnLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGEud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgc2VsZWN0KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKX0sc2V0IHNlbGVjdChhKXt0aGlzLnNldEF0dHJpYnV0ZSgic2VsZWN0IixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7Yy5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxhLGIpLCJzZWxlY3QiPT09U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkmJnRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCEwKX19KSxmJiZlKGYsYiksYS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse30pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEuZGVmYXVsdFZpZXcpcmV0dXJuIGE7dmFyIGI9bS5nZXQoYSk7aWYoIWIpe2ZvcihiPWEuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtiLmxhc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmxhc3RDaGlsZCk7bS5zZXQoYSxiKX1yZXR1cm4gYn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYyxkPWIoYS5vd25lckRvY3VtZW50KSxlPWooZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2M9YS5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGMpO3JldHVybiBlfWZ1bmN0aW9uIGQoYSl7aWYoZS5jYWxsKHRoaXMsYSksIW4pe3ZhciBiPWMoYSk7bC5zZXQodGhpcyxrKGIpKX19dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEuZ2V0SW5uZXJIVE1MLGc9YS5taXhpbixoPWEucmVnaXN0ZXJXcmFwcGVyLGk9YS5zZXRJbm5lckhUTUwsaj1hLnVud3JhcCxrPWEud3JhcCxsPW5ldyBXZWFrTWFwLG09bmV3IFdlYWtNYXAsbj13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxnKGQucHJvdG90eXBlLHtnZXQgY29udGVudCgpe3JldHVybiBuP2sodGhpcy5pbXBsLmNvbnRlbnQpOmwuZ2V0KHRoaXMpfSxnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGYodGhpcy5jb250ZW50KX0sc2V0IGlubmVySFRNTChhKXtpKHRoaXMuY29udGVudCxhKX19KSxuJiZoKG4sZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYS5sb2NhbE5hbWUpe2Nhc2UiY29udGVudCI6cmV0dXJuIG5ldyBjKGEpO2Nhc2Uic2hhZG93IjpyZXR1cm4gbmV3IGUoYSk7Y2FzZSJ0ZW1wbGF0ZSI6cmV0dXJuIG5ldyBmKGEpfWQuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LGQ9YS53cmFwcGVycy5IVE1MRWxlbWVudCxlPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsZj1hLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQsZz0oYS5taXhpbixhLnJlZ2lzdGVyV3JhcHBlciksaD13aW5kb3cuSFRNTFVua25vd25FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGcoaCxiKSxhLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnJlZ2lzdGVyT2JqZWN0LGM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLCJ0aXRsZSIpLGU9YihkKSxmPU9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7YS53cmFwcGVycy5TVkdFbGVtZW50PWZ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7bS5jYWxsKHRoaXMsYSl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLndyYXAsZz13aW5kb3cuU1ZHVXNlRWxlbWVudCxoPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJnIikpLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsInVzZSIpLGs9aS5jb25zdHJ1Y3RvcixsPU9iamVjdC5nZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSksbT1sLmNvbnN0cnVjdG9yO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobCksImluc3RhbmNlUm9vdCJpbiBqJiZjKGIucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxkKGcsYixqKSxhLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtnJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdFbGVtZW50KX0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KX0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiBmKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwubmV4dFNpYmxpbmcpfX0pLGUoZyxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEudW53cmFwSWZOZWVkZWQsZz1hLndyYXAsaD13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gZyh0aGlzLmltcGwuY2FudmFzKX0sZHJhd0ltYWdlOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzBdPWYoYXJndW1lbnRzWzBdKSx0aGlzLmltcGwuZHJhd0ltYWdlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1lKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmNyZWF0ZVBhdHRlcm4uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSksZChoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksYS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihnKXtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09ZShhcmd1bWVudHNbNV0pLHRoaXMuaW1wbC50ZXhJbWFnZTJELmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWUoYXJndW1lbnRzWzZdKSx0aGlzLmltcGwudGV4U3ViSW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19KTt2YXIgaD0vV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3tkcmF3aW5nQnVmZmVySGVpZ2h0Om51bGwsZHJhd2luZ0J1ZmZlcldpZHRoOm51bGx9Ont9O2QoZyxiLGgpLGEud3JhcHBlcnMuV2ViR0xSZW5kZXJpbmdDb250ZXh0PWJ9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3RoaXMuaW1wbD1hfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LlJhbmdlO2IucHJvdG90eXBlPXtnZXQgc3RhcnRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5jb21tb25BbmNlc3RvckNvbnRhaW5lcil9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldFN0YXJ0KGUoYSksYil9LHNldEVuZDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRFbmQoZShhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QmVmb3JlKGUoYSkpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEFmdGVyKGUoYSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEJlZm9yZShlKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEFmdGVyKGUoYSkpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlKGUoYSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGVDb250ZW50cyhlKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlQm91bmRhcnlQb2ludHMoYSxkKGIpKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5pbnNlcnROb2RlKGUoYSkpfSxzdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zdXJyb3VuZENvbnRlbnRzKGUoYSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5pc1BvaW50SW5SYW5nZShlKGEpLGIpfSxjb21wYXJlUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVQb2ludChlKGEpLGIpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLmludGVyc2VjdHNOb2RlKGUoYSkpfX0sZy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYoYi5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9aShhLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2MuY2FsbCh0aGlzLGIpLGcoYix0aGlzKTt2YXIgZD1hLnNoYWRvd1Jvb3Q7ay5zZXQodGhpcyxkKSxqLnNldCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudCxkPWEuZWxlbWVudEZyb21Qb2ludCxlPWEuZ2V0SW5uZXJIVE1MLGY9YS5taXhpbixnPWEucmV3cmFwLGg9YS5zZXRJbm5lckhUTUwsaT1hLnVud3JhcCxqPW5ldyBXZWFrTWFwLGs9bmV3IFdlYWtNYXAsbD0vWyBcdFxuXHJcZl0vO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGYoYi5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZSh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtoKHRoaXMsYSksdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZ2V0IG9sZGVyU2hhZG93Um9vdCgpe3JldHVybiBrLmdldCh0aGlzKXx8bnVsbH0sZ2V0IGhvc3QoKXtyZXR1cm4gai5nZXQodGhpcyl8fG51bGx9LGludmFsaWRhdGVTaGFkb3dSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiBqLmdldCh0aGlzKS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZWxlbWVudEZyb21Qb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiBkKHRoaXMsdGhpcy5vd25lckRvY3VtZW50LGEsYil9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiBsLnRlc3QoYSk/bnVsbDp0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZD0iJythKyciXScpfX0pLGEud3JhcHBlcnMuU2hhZG93Um9vdD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2EucHJldmlvdXNTaWJsaW5nXz1hLnByZXZpb3VzU2libGluZyxhLm5leHRTaWJsaW5nXz1hLm5leHRTaWJsaW5nLGEucGFyZW50Tm9kZV89YS5wYXJlbnROb2RlfWZ1bmN0aW9uIGMoYSxjLGUpe3ZhciBmPUYoYSksZz1GKGMpLGg9ZT9GKGUpOm51bGw7aWYoZChjKSxiKGMpLGUpYS5maXJzdENoaWxkPT09ZSYmKGEuZmlyc3RDaGlsZF89ZSksZS5wcmV2aW91c1NpYmxpbmdfPWUucHJldmlvdXNTaWJsaW5nO2Vsc2V7YS5sYXN0Q2hpbGRfPWEubGFzdENoaWxkLGEubGFzdENoaWxkPT09YS5maXJzdENoaWxkJiYoYS5maXJzdENoaWxkXz1hLmZpcnN0Q2hpbGQpO3ZhciBpPUcoZi5sYXN0Q2hpbGQpO2kmJihpLm5leHRTaWJsaW5nXz1pLm5leHRTaWJsaW5nKX1mLmluc2VydEJlZm9yZShnLGgpfWZ1bmN0aW9uIGQoYSl7dmFyIGM9RihhKSxkPWMucGFyZW50Tm9kZTtpZihkKXt2YXIgZT1HKGQpO2IoYSksYS5wcmV2aW91c1NpYmxpbmcmJihhLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZ189YSksYS5uZXh0U2libGluZyYmKGEubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nXz1hKSxlLmxhc3RDaGlsZD09PWEmJihlLmxhc3RDaGlsZF89YSksZS5maXJzdENoaWxkPT09YSYmKGUuZmlyc3RDaGlsZF89YSksZC5yZW1vdmVDaGlsZChjKX19ZnVuY3Rpb24gZShhLGIpe2coYikucHVzaChhKSx4KGEsYik7dmFyIGM9SS5nZXQoYSk7Y3x8SS5zZXQoYSxjPVtdKSxjLnB1c2goYil9ZnVuY3Rpb24gZihhKXtILnNldChhLFtdKX1mdW5jdGlvbiBnKGEpe3JldHVybiBILmdldChhKX1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gaShhLGIsYyl7Zm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylpZihiKGQpKXtpZihjKGQpPT09ITEpcmV0dXJufWVsc2UgaShkLGIsYyl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKTtpZighYylyZXR1cm4hMDtpZihjPWMudHJpbSgpLCFjKXJldHVybiEwO2lmKCEoYSBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKCFMLnRlc3QoYykpcmV0dXJuITE7aWYoIjoiPT09Y1swXSYmIU0udGVzdChjKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEubWF0Y2hlcyhjKX1jYXRjaChkKXtyZXR1cm4hMX19ZnVuY3Rpb24gaygpe2Zvcih2YXIgYT0wO2E8Ty5sZW5ndGg7YSsrKU9bYV0ucmVuZGVyKCk7Tz1bXX1mdW5jdGlvbiBsKCl7eT1udWxsLGsoKX1mdW5jdGlvbiBtKGEpe3ZhciBiPUsuZ2V0KGEpO3JldHVybiBifHwoYj1uZXcgcShhKSxLLnNldChhLGIpKSxifWZ1bmN0aW9uIG4oYSl7Zm9yKDthO2E9YS5wYXJlbnROb2RlKWlmKGEgaW5zdGFuY2VvZiBEKXJldHVybiBhO3JldHVybiBudWxsfWZ1bmN0aW9uIG8oYSl7cmV0dXJuIG0oYS5ob3N0KX1mdW5jdGlvbiBwKGEpe3RoaXMuc2tpcD0hMSx0aGlzLm5vZGU9YSx0aGlzLmNoaWxkTm9kZXM9W119ZnVuY3Rpb24gcShhKXt0aGlzLmhvc3Q9YSx0aGlzLmRpcnR5PSExLHRoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLmFzc29jaWF0ZU5vZGUoYSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEF9ZnVuY3Rpb24gcyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEF9ZnVuY3Rpb24gdChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEJ9ZnVuY3Rpb24gdShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEJ9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYS5zaGFkb3dSb290fWZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290O2M7Yz1jLm9sZGVyU2hhZG93Um9vdCliLnB1c2goYyk7cmV0dXJuIGJ9ZnVuY3Rpb24geChhLGIpe0ouc2V0KGEsYil9dmFyIHksej1hLndyYXBwZXJzLkVsZW1lbnQsQT1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxCPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsQz1hLndyYXBwZXJzLk5vZGUsRD1hLndyYXBwZXJzLlNoYWRvd1Jvb3QsRT0oYS5hc3NlcnQsYS5taXhpbixhLm9uZU9mKSxGPWEudW53cmFwLEc9YS53cmFwLEg9bmV3IFdlYWtNYXAsST1uZXcgV2Vha01hcCxKPW5ldyBXZWFrTWFwLEs9bmV3IFdlYWtNYXAsTD0vXlsqLjojW2EtekEtWl98XS8sTT1uZXcgUmVnRXhwKCJeOigiK1sibGluayIsInZpc2l0ZWQiLCJ0YXJnZXQiLCJlbmFibGVkIiwiZGlzYWJsZWQiLCJjaGVja2VkIiwiaW5kZXRlcm1pbmF0ZSIsIm50aC1jaGlsZCIsIm50aC1sYXN0LWNoaWxkIiwibnRoLW9mLXR5cGUiLCJudGgtbGFzdC1vZi10eXBlIiwiZmlyc3QtY2hpbGQiLCJsYXN0LWNoaWxkIiwiZmlyc3Qtb2YtdHlwZSIsImxhc3Qtb2YtdHlwZSIsIm9ubHktb2YtdHlwZSJdLmpvaW4oInwiKSsiKSIpLE49RSh3aW5kb3csWyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0Il0pLE89W10sUD1uZXcgQXJyYXlTcGxpY2U7UC5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRihhLm5vZGUpPT09Yn0scC5wcm90b3R5cGU9e2FwcGVuZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgcChhKTtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLnB1c2goYiksYn0sc3luYzpmdW5jdGlvbihhKXtpZighdGhpcy5za2lwKXtmb3IodmFyIGI9dGhpcy5ub2RlLGU9dGhpcy5jaGlsZE5vZGVzLGY9aChGKGIpKSxnPWF8fG5ldyBXZWFrTWFwLGk9UC5jYWxjdWxhdGVTcGxpY2VzKGUsZiksaj0wLGs9MCxsPTAsbT0wO208aS5sZW5ndGg7bSsrKXtmb3IodmFyIG49aVttXTtsPG4uaW5kZXg7bCsrKWsrKyxlW2orK10uc3luYyhnKTtmb3IodmFyIG89bi5yZW1vdmVkLmxlbmd0aCxwPTA7bz5wO3ArKyl7dmFyIHE9RyhmW2srK10pO2cuZ2V0KHEpfHxkKHEpfWZvcih2YXIgcj1uLmFkZGVkQ291bnQscz1mW2tdJiZHKGZba10pLHA9MDtyPnA7cCsrKXt2YXIgdD1lW2orK10sdT10Lm5vZGU7YyhiLHUscyksZy5zZXQodSwhMCksdC5zeW5jKGcpfWwrPXJ9Zm9yKHZhciBtPWw7bTxlLmxlbmd0aDttKyspZVttXS5zeW5jKGcpfX19LHEucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXJ0eSl7dGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMudHJlZUNvbXBvc2l0aW9uKCk7dmFyIGI9dGhpcy5ob3N0LGM9Yi5zaGFkb3dSb290O3RoaXMuYXNzb2NpYXRlTm9kZShiKTtmb3IodmFyIGQ9IWUsZT1hfHxuZXcgcChiKSxmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZyl0aGlzLnJlbmRlck5vZGUoYyxlLGYsITEpO2QmJmUuc3luYygpLHRoaXMuZGlydHk9ITF9fSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlydHkpe2lmKHRoaXMuZGlydHk9ITAsTy5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W05dKGwsMCl9fSxyZW5kZXJOb2RlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKHYoYykpe2I9Yi5hcHBlbmQoYyk7dmFyIGU9bShjKTtlLmRpcnR5PSEwLGUucmVuZGVyKGIpfWVsc2UgcihjKT90aGlzLnJlbmRlckluc2VydGlvblBvaW50KGEsYixjLGQpOnQoYyk/dGhpcy5yZW5kZXJTaGFkb3dJbnNlcnRpb25Qb2ludChhLGIsYyk6dGhpcy5yZW5kZXJBc0FueURvbVRyZWUoYSxiLGMsZCl9LHJlbmRlckFzQW55RG9tVHJlZTpmdW5jdGlvbihhLGIsYyxkKXtpZihiPWIuYXBwZW5kKGMpLHYoYykpe3ZhciBlPW0oYyk7Yi5za2lwPSFlLmRpcnR5LGUucmVuZGVyKGIpfWVsc2UgZm9yKHZhciBmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZyl0aGlzLnJlbmRlck5vZGUoYSxiLGYsZCl9LHJlbmRlckluc2VydGlvblBvaW50OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWcoYyk7aWYoZS5sZW5ndGgpe3RoaXMuYXNzb2NpYXRlTm9kZShjKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGg9ZVtmXTtyKGgpJiZkP3RoaXMucmVuZGVySW5zZXJ0aW9uUG9pbnQoYSxiLGgsZCk6dGhpcy5yZW5kZXJBc0FueURvbVRyZWUoYSxiLGgsZCl9fWVsc2UgdGhpcy5yZW5kZXJGYWxsYmFja0NvbnRlbnQoYSxiLGMpO3RoaXMuYXNzb2NpYXRlTm9kZShjLnBhcmVudE5vZGUpfSxyZW5kZXJTaGFkb3dJbnNlcnRpb25Qb2ludDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5vbGRlclNoYWRvd1Jvb3Q7aWYoZCl7eChkLGMpLHRoaXMuYXNzb2NpYXRlTm9kZShjLnBhcmVudE5vZGUpO2Zvcih2YXIgZT1kLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGQsYixlLCEwKX1lbHNlIHRoaXMucmVuZGVyRmFsbGJhY2tDb250ZW50KGEsYixjKX0scmVuZGVyRmFsbGJhY2tDb250ZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmFzc29jaWF0ZU5vZGUoYyksdGhpcy5hc3NvY2lhdGVOb2RlKGMucGFyZW50Tm9kZSk7Zm9yKHZhciBkPWMuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyl0aGlzLnJlbmRlckFzQW55RG9tVHJlZShhLGIsZCwhMSl9LGludmFsaWRhdGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVzPU9iamVjdC5jcmVhdGUobnVsbCl9LHVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzOy9cLlx3Ky8udGVzdChhKSYmKGJbImNsYXNzIl09ITApLC8jXHcrLy50ZXN0KGEpJiYoYi5pZD0hMCksYS5yZXBsYWNlKC9cW1xzKihbXlxzPVx8flxdXSspL2csZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSl9fSxkZXBlbmRzT25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sZGlzdHJpYnV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aShhLHMsZnVuY3Rpb24oYSl7ZihhKSxjLnVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXMoYS5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGc9YltkXTt2b2lkIDAhPT1nJiZqKGcsYSkmJihlKGcsYSksYltkXT12b2lkIDApfX0pfSx0cmVlQ29tcG9zaXRpb246ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5ob3N0LGI9YS5zaGFkb3dSb290LGM9W10sZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYocihkKSl7dmFyIGU9ZyhkKTtlJiZlLmxlbmd0aHx8KGU9aChkKSksYy5wdXNoLmFwcGx5KGMsZSl9ZWxzZSBjLnB1c2goZCk7Zm9yKHZhciBmLGo7Yjspe2lmKGY9dm9pZCAwLGkoYix1LGZ1bmN0aW9uKGEpe3JldHVybiBmPWEsITF9KSxqPWYsdGhpcy5kaXN0cmlidXRlKGIsYyksail7dmFyIGs9Yi5vbGRlclNoYWRvd1Jvb3Q7aWYoayl7Yj1rLHgoYixqKTtjb250aW51ZX1icmVha31icmVha319LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319LEMucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaygpLGcodGhpcyl9LEIucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1BLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBhLGI9bih0aGlzKTtiJiYoYT1vKGIpKSx0aGlzLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmV2ZW50UGFyZW50c1RhYmxlPUksYS5nZXRSZW5kZXJlckZvckhvc3Q9bSxhLmdldFNoYWRvd1RyZWVzPXcsYS5pbnNlcnRpb25QYXJlbnRUYWJsZT1KLGEucmVuZGVyQWxsUGVuZGluZz1rLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pCn19dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEuYXNzZXJ0LGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS51bndyYXAsaD1hLndyYXAsaT1bIkhUTUxCdXR0b25FbGVtZW50IiwiSFRNTEZpZWxkU2V0RWxlbWVudCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJIVE1MS2V5Z2VuRWxlbWVudCIsIkhUTUxMYWJlbEVsZW1lbnQiLCJIVE1MTGVnZW5kRWxlbWVudCIsIkhUTUxPYmplY3RFbGVtZW50IiwiSFRNTE91dHB1dEVsZW1lbnQiLCJIVE1MU2VsZWN0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtpLmZvckVhY2goYil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB2KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7ei5jYWxsKGIuaW1wbCx1KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbiYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiB2KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS5TZWxlY3RvcnNJbnRlcmZhY2Usbj1hLndyYXBwZXJzLlNoYWRvd1Jvb3Qsbz1hLmRlZmluZVdyYXBHZXR0ZXIscD1hLmVsZW1lbnRGcm9tUG9pbnQscT1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHI9YS5tYXRjaGVzTmFtZXMscz1hLm1peGluLHQ9YS5yZWdpc3RlcldyYXBwZXIsdT1hLnVud3JhcCx2PWEud3JhcCx3PWEucmV3cmFwLHg9YS53cmFwRXZlbnRUYXJnZXRNZXRob2RzLHk9KGEud3JhcE5vZGVMaXN0LG5ldyBXZWFrTWFwKTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxvKGIsImRvY3VtZW50RWxlbWVudCIpLG8oYiwiYm9keSIpLG8oYiwiaGVhZCIpLFsiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImdldEVsZW1lbnRCeUlkIl0uZm9yRWFjaChjKTt2YXIgej1kb2N1bWVudC5hZG9wdE5vZGUsQT1kb2N1bWVudC5pbXBvcnROb2RlO2lmKHMoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcCh0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPXYoQS5jYWxsKHRoaXMuaW1wbCx1KGEpLCExKSk7aWYoYilmb3IodmFyIGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWMuYXBwZW5kQ2hpbGQodGhpcy5pbXBvcnROb2RlKGQsITApKTtyZXR1cm4gY319KSxkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpe3ZhciBCPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDtiLnByb3RvdHlwZS5yZWdpc3RlckVsZW1lbnQ9ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBhPyh0aGlzLmltcGw9YSx2b2lkIDApOmMuZXh0ZW5kcz9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGMuZXh0ZW5kcyxiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpfXZhciBlPWMucHJvdG90eXBlO2lmKGEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGUpKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGYsZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksaD1bXTtnJiYhKGY9YS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoZykpOyloLnB1c2goZyksZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZyk7aWYoIWYpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgaT1PYmplY3QuY3JlYXRlKGYpLGo9aC5sZW5ndGgtMTtqPj0wO2otLSlpPU9iamVjdC5jcmVhdGUoaSk7WyJjcmVhdGVkQ2FsbGJhY2siLCJhdHRhY2hlZENhbGxiYWNrIiwiZGV0YWNoZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZVthXTtiJiYoaVthXT1mdW5jdGlvbigpe3YodGhpcylpbnN0YW5jZW9mIGR8fHcodGhpcyksYi5hcHBseSh2KHRoaXMpLGFyZ3VtZW50cyl9KX0pO3ZhciBrPXtwcm90b3R5cGU6aX07Yy5leHRlbmRzJiYoay5leHRlbmRzPWMuZXh0ZW5kcyksZC5wcm90b3R5cGU9ZSxkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kLGEuY29uc3RydWN0b3JUYWJsZS5zZXQoaSxkKSxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLnNldChlLGkpO0IuY2FsbCh1KHRoaXMpLGIsayk7cmV0dXJuIGR9LHEoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJyZWdpc3RlckVsZW1lbnQiXSl9cShbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudCx3aW5kb3cuSFRNTEh0bWxFbGVtZW50XSxbImFwcGVuZENoaWxkIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJjb250YWlucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lTlMiLCJpbnNlcnRCZWZvcmUiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUNoaWxkIiwicmVwbGFjZUNoaWxkIl0uY29uY2F0KHIpKSxxKFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsiYWRvcHROb2RlIiwiaW1wb3J0Tm9kZSIsImNvbnRhaW5zIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImVsZW1lbnRGcm9tUG9pbnQiLCJnZXRFbGVtZW50QnlJZCJdKSxzKGIucHJvdG90eXBlLGopLHMoYi5wcm90b3R5cGUsbCkscyhiLnByb3RvdHlwZSxtKSxzKGIucHJvdG90eXBlLHtnZXQgaW1wbGVtZW50YXRpb24oKXt2YXIgYT15LmdldCh0aGlzKTtyZXR1cm4gYT9hOihhPW5ldyBnKHUodGhpcykuaW1wbGVtZW50YXRpb24pLHkuc2V0KHRoaXMsYSksYSl9fSksdCh3aW5kb3cuRG9jdW1lbnQsYixkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpKSx3aW5kb3cuSFRNTERvY3VtZW50JiZ0KHdpbmRvdy5IVE1MRG9jdW1lbnQsYikseChbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudF0pLGgoZywiY3JlYXRlRG9jdW1lbnRUeXBlIiksaChnLCJjcmVhdGVEb2N1bWVudCIpLGgoZywiY3JlYXRlSFRNTERvY3VtZW50IiksaShnLCJoYXNGZWF0dXJlIiksdCh3aW5kb3cuRE9NSW1wbGVtZW50YXRpb24sZykscShbd2luZG93LkRPTUltcGxlbWVudGF0aW9uXSxbImNyZWF0ZURvY3VtZW50VHlwZSIsImNyZWF0ZURvY3VtZW50IiwiY3JlYXRlSFRNTERvY3VtZW50IiwiaGFzRmVhdHVyZSJdKSxhLmFkb3B0Tm9kZU5vUmVtb3ZlPWQsYS53cmFwcGVycy5ET01JbXBsZW1lbnRhdGlvbj1nLGEud3JhcHBlcnMuRG9jdW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLnVud3JhcElmTmVlZGVkLGg9YS53cmFwLGk9YS5yZW5kZXJBbGxQZW5kaW5nLGo9d2luZG93LldpbmRvdztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKTt2YXIgaz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZTtqLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGkoKSxrLmNhbGwodGhpc3x8d2luZG93LGcoYSksYil9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ai5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1oKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZChiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBrLmNhbGwoZih0aGlzKSxnKGEpLGIpfX0pLGUoaixiKSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRhdGE6IkhUTUxEYXRhRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGFiZWw6IkhUTUxMYWJlbEVsZW1lbnQiLGxlZ2VuZDoiSFRNTExlZ2VuZEVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGV4dGFyZWE6IkhUTUxUZXh0QXJlYUVsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pLGEua25vd25FbGVtZW50cz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKG4sIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9Yi5zaGVldC5jc3NSdWxlcztyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9MCxjPVtdO2I8YS5sZW5ndGg7YisrKWMucHVzaChhW2JdLmNzc1RleHQpO3JldHVybiBjLmpvaW4oIlxuXG4iKX1mdW5jdGlvbiBmKGEpe2EmJmcoKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9ZnVuY3Rpb24gZygpe3JldHVybiBofHwoaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGguc2V0QXR0cmlidXRlKCJTaGFkb3dDU1NTaGltIiwiIiksaC5zaGFkb3dDc3NTaGltPSEwKSxofXZhciBoLGk9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXRoaXMuaXNUeXBlRXh0ZW5zaW9uKGQpLGc9dGhpcy5yZWdpc3RlckRlZmluaXRpb24oYSxiLGQpO3RoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYik7dmFyIGg9dGhpcy5zdHlsZXNUb1NoaW1tZWRDc3NUZXh0KGcucm9vdFN0eWxlcyxnLnNjb3BlU3R5bGVzLGIsZSk7Zy5zaGltbWVkU3R5bGU9YyhoKSxhJiYoYS5zaGltbWVkU3R5bGU9Zy5zaGltbWVkU3R5bGUpO2Zvcih2YXIgaSxqPTAsaz1nLnJvb3RTdHlsZXMubGVuZ3RoO2s+aiYmKGk9Zy5yb290U3R5bGVzW2pdKTtqKyspaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpO2YoaCl9LHN0eWxlc1RvU2hpbW1lZENzc1RleHQ6ZnVuY3Rpb24oYSxiLGMsZCl7Yz1jfHwiIix0aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlcyhhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXMoYSk7dmFyIGU9dGhpcy5zaGltQXRIb3N0KGIsYyxkKSt0aGlzLnNoaW1TY29waW5nKGIsYyxkKTtyZXR1cm4gZSs9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzKGEpfSxyZWdpc3RlckRlZmluaXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMucmVnaXN0cnlbYl09e3Jvb3Q6YSxuYW1lOmIsZXh0ZW5kc05hbWU6Y30sZT1hP2EucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTpbXTtlPWU/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKTpbXSxkLnJvb3RTdHlsZXM9ZSxkLnNjb3BlU3R5bGVzPWQucm9vdFN0eWxlczt2YXIgZj10aGlzLnJlZ2lzdHJ5W2QuZXh0ZW5kc05hbWVdO3JldHVybiFmfHxhJiYhYS5xdWVyeVNlbGVjdG9yKCJzaGFkb3ciKXx8KGQuc2NvcGVTdHlsZXM9Zi5zY29wZVN0eWxlcy5jb25jYXQoZC5zY29wZVN0eWxlcykpLGR9LGlzVHlwZUV4dGVuc2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5pbmRleE9mKCItIik8MH0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGIpe2EmJihBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGIsIiIpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEuY29udGVudCxiKX0sdGhpcykpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQoYS50ZXh0Q29udGVudCl9LHRoaXMpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMikrInsifSl9LGluc2VydFBvbHlmaWxsUnVsZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQpfSx0aGlzKX0saW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHAsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0xKX0pfSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzOmZ1bmN0aW9uKGEpe3ZhciBiPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7Yis9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQoYS50ZXh0Q29udGVudCkrIlxuXG4ifSx0aGlzKSxifSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9IiI7Yj1xLmV4ZWMoYSk7KWMrPWJbMV0uc2xpY2UoMCwtMSkrIlxuXG4iO3JldHVybiBjfSxzaGltQXRIb3N0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT90aGlzLmNvbnZlcnRBdEhvc3RTdHlsZXMoYSxiLGMpOnZvaWQgMH0sY29udmVydEF0SG9zdFN0eWxlczpmdW5jdGlvbihhLGMsZil7dmFyIGc9YihhKSxoPXRoaXM7cmV0dXJuIGc9Zy5yZXBsYWNlKGosZnVuY3Rpb24oYSxiKXtyZXR1cm4gaC5zY29wZUhvc3RDc3MoYixjLGYpfSksZz1lKHRoaXMuZmluZEF0SG9zdFJ1bGVzKGQoZyksdGhpcy5tYWtlU2NvcGVNYXRjaGVyKGMsZikpKX0sc2NvcGVIb3N0Q3NzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO3JldHVybiBhLnJlcGxhY2UoayxmdW5jdGlvbihhLGUsZil7cmV0dXJuIGQuc2NvcGVIb3N0U2VsZWN0b3IoZSxiLGMpKyIgIitmKyJcbgkifSl9LHNjb3BlSG9zdFNlbGVjdG9yOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWEuc3BsaXQoIiwiKSxmPSJbaXM9IitiKyJdIjtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksYS5tYXRjaChsKT9hPWEucmVwbGFjZShsLGM/ZisiJDEkMyI6YisiJDEkMyIpOmEubWF0Y2gobSkmJihhPWM/ZithOmIrYSksZC5wdXNoKGEpfSx0aGlzKSxkLmpvaW4oIiwgIil9LGZpbmRBdEhvc3RSdWxlczpmdW5jdGlvbihhLGIpe3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSx0aGlzLmlzSG9zdFJ1bGUuYmluZCh0aGlzLGIpKX0saXNIb3N0UnVsZTpmdW5jdGlvbihhLGIpe3JldHVybiBiLnNlbGVjdG9yVGV4dCYmYi5zZWxlY3RvclRleHQubWF0Y2goYSl8fGIuY3NzUnVsZXMmJnRoaXMuZmluZEF0SG9zdFJ1bGVzKGIuY3NzUnVsZXMsYSkubGVuZ3RofHxiLnR5cGU9PUNTU1J1bGUuV0VCS0lUX0tFWUZSQU1FU19SVUxFfSxzaGltU2NvcGluZzpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE/dGhpcy5jb252ZXJ0U2NvcGVkU3R5bGVzKGEsYixjKTp2b2lkIDB9LGNvbnZlcnRTY29wZWRTdHlsZXM6ZnVuY3Rpb24oYSxjLGUpe3ZhciBmPWIoYSkucmVwbGFjZShqLCIiKTtmPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGYpLGY9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGYpLGY9dGhpcy5jb252ZXJ0UHNldWRvcyhmKSxmPXRoaXMuY29udmVydFBhcnRzKGYpLGY9dGhpcy5jb252ZXJ0Q29tYmluYXRvcnMoZik7dmFyIGc9ZChmKTtyZXR1cm4gYyYmKGY9dGhpcy5zY29wZVJ1bGVzKGcsYyxlKSksZn0sY29udmVydFBzZXVkb3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShyLCIgW3BzZXVkbz0kMV0iKX0sY29udmVydFBhcnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocywiIFtwYXJ0PSQxXSIpfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodSxmdW5jdGlvbihhLGIsYyxkKXtpZihiPXksYyl7Zm9yKHZhciBlLGY9Yy5zcGxpdCgiLCIpLGc9W10saD0wLGk9Zi5sZW5ndGg7aT5oJiYoZT1mW2hdKTtoKyspZT1lLnRyaW0oKSxlLm1hdGNoKHQpP2cucHVzaChiK2UucmVwbGFjZSh0LCIiKStkKTpnLnB1c2goYitlK2QrIiwgIitlKyIgIitiK2QpO3JldHVybiBnLmpvaW4oIiwiKX1yZXR1cm4gYitkfSl9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXlxeL2csIiAiKS5yZXBsYWNlKC9cXi9nLCIgIil9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJmEuc3R5bGUuY3NzVGV4dD8oZCs9dGhpcy5zY29wZVNlbGVjdG9yKGEuc2VsZWN0b3JUZXh0LGIsYyx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsZCs9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLm1lZGlhPyhkKz0iQG1lZGlhICIrYS5tZWRpYS5tZWRpYVRleHQrIiB7XG4iLGQrPXRoaXMuc2NvcGVSdWxlcyhhLmNzc1J1bGVzLGIsYyksZCs9IlxufVxuXG4iKTphLmNzc1RleHQmJihkKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksZH0sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXSxmPWEuc3BsaXQoIiwiKTtyZXR1cm4gZi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksdGhpcy5zZWxlY3Rvck5lZWRzU2NvcGluZyhhLGIsYykmJihhPWQmJiFhLm1hdGNoKHkpP3RoaXMuYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlKGEsYik6dGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxiLGMpKSxlLnB1c2goYSl9LHRoaXMpLGUuam9pbigiLCAiKX0sc2VsZWN0b3JOZWVkc1Njb3Bpbmc6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMubWFrZVNjb3BlTWF0Y2hlcihiLGMpO3JldHVybiFhLm1hdGNoKGQpfSxtYWtlU2NvcGVNYXRjaGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yj8iXFxbaXM9WydcIl0/IithKyJbJ1wiXT9cXF0iOmE7cmV0dXJuIG5ldyBSZWdFeHAoIl4oIitjKyIpIit2LCJtIil9LGFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz8iW2lzPSIrYisiXSI6YjtyZXR1cm4gYS5tYXRjaCh6KT8oYT1hLnJlcGxhY2UoeSxkKSxhLnJlcGxhY2UoeixkKyIgIikpOmQrIiAiK2F9LGFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3ZhciBjPVsiICIsIj4iLCIrIiwifiJdLGQ9YSxlPSJbIitiKyJdIjtyZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWQuc3BsaXQoYSk7ZD1iLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLnRyaW0oKS5yZXBsYWNlKHosIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh3LHQpLnJlcGxhY2UoeCx0KX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHR9fSxqPS9AaG9zdFtee10qeygoW159XSo/e1tee10qP31bXHNcU10qPykrKX0vZ2ltLGs9LyhbXntdKikoe1tcc1xTXSo/fSkvZ2ltLGw9LyguKikoKD86XCopfCg/Olw6c2NvcGUpKSguKikvLG09L15bLlxbOl0vLG49L1wvXCpbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLy9naW0sbz0vXC9cKlxzKkBwb2x5ZmlsbCAoW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8pKFtee10qPyl7L2dpbSxwPS9cL1wqXHNAcG9seWZpbGwtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHE9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scj0vOjooeC1bXlxzeywoXSopL2dpbSxzPS86OnBhcnRcKChbXildKilcKS9naW0sdD0iLXNoYWRvd2Nzc2hvc3QiLHU9bmV3IFJlZ0V4cCgiKCIrdCsiKSg/OlxcKCgoPzpcXChbXikoXSpcXCl8W14pKF0qKSs/KVxcKSk/KFteLHtdKikiLCJnaW0iKSx2PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsdz0vQGhvc3QvZ2ltLHg9L1w6aG9zdC9naW0seT10KyItbm8tY29tYmluYXRvciIsej1uZXcgUmVnRXhwKHQsImdpbSIpO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7Zigic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBBPXdyYXAoZG9jdW1lbnQpLEI9QS5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Qi5pbnNlcnRCZWZvcmUoZygpLEIuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5pbXBvcnRlci5wcmVsb2FkU2VsZWN0b3JzKz0iLCBsaW5rW3JlbD1zdHlsZXNoZWV0XTpub3QoW25vcG9seWZpbGxdKSIsSFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYz1mdW5jdGlvbihhKXtpZighYS5zaGFkb3dDc3NTaGltKXt2YXIgYj1hO2lmKCFhLmhhc0F0dHJpYnV0ZSgibm9wb2x5ZmlsbCIpKXthLl9fcmVzb3VyY2UmJihiPUEuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLnRleHRDb250ZW50PWEuX19yZXNvdXJjZSxhLm93bmVyRG9jdW1lbnQ9PT1BJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSkpO3ZhciBjPVtiXTtiLnRleHRDb250ZW50PWkuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChjLGMpLGIuc2hhZG93Q3NzU2hpbT0hMH1iLnBhcmVudE5vZGUhPT1CJiZCLmFwcGVuZENoaWxkKGIpfX0pfSl9YS5TaGFkb3dDU1M9aX0od2luZG93LlBsYXRmb3JtKSk6IWZ1bmN0aW9uKCl7d2luZG93LnRlbXBsYXRlQ29udGVudD13aW5kb3cudGVtcGxhdGVDb250ZW50fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50fSx3aW5kb3cud3JhcD13aW5kb3cudW53cmFwPWZ1bmN0aW9uKGEpe3JldHVybiBhfTt2YXIgYT1FbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290O0VsZW1lbnQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLndlYmtpdFNoYWRvd1Jvb3QsYz1hLmNhbGwodGhpcyk7cmV0dXJuIGMub2xkZXJTaGFkb3dSb290PWIsYy5ob3N0PXRoaXMsQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksY30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NoYWRvd1Jvb3Q6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndlYmtpdFNoYWRvd1Jvb3R9fSxjcmVhdGVTaGFkb3dSb290Ont2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QoKX19fSksd2luZG93LnRlbXBsYXRlQ29udGVudD1mdW5jdGlvbihhKXtpZih3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGEpLCFhLmNvbnRlbnQmJiFhLl9jb250ZW50KXtmb3IodmFyIGI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuZmlyc3RDaGlsZDspYi5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO2EuX2NvbnRlbnQ9Yn1yZXR1cm4gYS5jb250ZW50fHxhLl9jb250ZW50fX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiYXNlIik7aS5ocmVmPWRvY3VtZW50LmJhc2VVUkksaC5jb250ZW50Lm93bmVyRG9jdW1lbnQuYXBwZW5kQ2hpbGQoaSk7dmFyIGo9W10saz1mdW5jdGlvbigpe2oucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1rLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9bnVsbCxqfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuUG9seW1lcj09PWsmJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1lvdSB0cmllZCB0byB1c2UgcG9seW1lciB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QuIFRvIGxvYWQgcG9seW1lciwgPGxpbmsgcmVsPSJpbXBvcnQiIGhyZWY9ImNvbXBvbmVudHMvcG9seW1lci9wb2x5bWVyLmh0bWwiPicpfSl9KSxhLmNyZWF0ZURPTT1ifSh3aW5kb3cuUGxhdGZvcm0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sZnVuY3Rpb24oYSl7YT1hfHwod2luZG93Lkluc3BlY3Rvcj17fSk7dmFyIGI7d2luZG93LnNpbnNwZWN0PWZ1bmN0aW9uKGEsZCl7Ynx8KGI9d2luZG93Lm9wZW4oIiIsIlNoYWRvd0RPTSBJbnNwZWN0b3IiLG51bGwsITApLGIuZG9jdW1lbnQud3JpdGUoYyksYi5hcGk9e3NoYWRvd2l6ZTpzaGFkb3dpemV9KSxmKGF8fHdyYXAoZG9jdW1lbnQuYm9keSksZCl9O3ZhciBjPVsiPCFET0NUWVBFIGh0bWw+IiwiPGh0bWw+IiwiICA8aGVhZD4iLCIgICAgPHRpdGxlPlNoYWRvd0RPTSBJbnNwZWN0b3I8L3RpdGxlPiIsIiAgICA8c3R5bGU+IiwiICAgICAgYm9keSB7IiwiICAgICAgfSIsIiAgICAgIHByZSB7IiwnICAgICAgICBmb250OiA5cHQgIkNvdXJpZXIgTmV3IiwgbW9ub3NwYWNlOycsIiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNWVtOyIsIiAgICAgIH0iLCIgICAgICB0YWcgeyIsIiAgICAgICAgY29sb3I6IHB1cnBsZTsiLCIgICAgICB9IiwiICAgICAgdWwgeyIsIiAgICAgICAgIG1hcmdpbjogMDsiLCIgICAgICAgICBwYWRkaW5nOiAwOyIsIiAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7IiwiICAgICAgfSIsIiAgICAgIGxpIHsiLCIgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IiwiICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTsiLCIgICAgICAgICBwYWRkaW5nOiA0cHggNnB4OyIsIiAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsiLCIgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweDsiLCIgICAgICB9IiwiICAgIDwvc3R5bGU+IiwiICA8L2hlYWQ+IiwiICA8Ym9keT4iLCcgICAgPHVsIGlkPSJjcnVtYnMiPicsIiAgICA8L3VsPiIsJyAgICA8ZGl2IGlkPSJ0cmVlIj48L2Rpdj4nLCIgIDwvYm9keT4iLCI8L2h0bWw+Il0uam9pbigiXG4iKSxkPVtdLGU9ZnVuY3Rpb24oKXt2YXIgYT1iLmRvY3VtZW50LGM9YS5xdWVyeVNlbGVjdG9yKCIjY3J1bWJzIik7Yy50ZXh0Q29udGVudD0iIjtmb3IodmFyIGUsZz0wO2U9ZFtnXTtnKyspe3ZhciBoPWEuY3JlYXRlRWxlbWVudCgiYSIpO2guaHJlZj0iIyIsaC50ZXh0Q29udGVudD1lLmxvY2FsTmFtZSxoLmlkeD1nLGgub25jbGljaz1mdW5jdGlvbihhKXtmb3IodmFyIGI7ZC5sZW5ndGg+dGhpcy5pZHg7KWI9ZC5wb3AoKTtmKGIuc2hhZG93fHxiLGIpLGEucHJldmVudERlZmF1bHQoKX0sYy5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoImxpIikpLmFwcGVuZENoaWxkKGgpfX0sZj1mdW5jdGlvbihhLGMpe3ZhciBmPWIuZG9jdW1lbnQ7az1bXTt2YXIgZz1jfHxhO2QucHVzaChnKSxlKCksZi5ib2R5LnF1ZXJ5U2VsZWN0b3IoIiN0cmVlIikuaW5uZXJIVE1MPSI8cHJlPiIraihhLGEuY2hpbGROb2RlcykrIjwvcHJlPiJ9LGc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxoPXtTVFlMRToxLFNDUklQVDoxLCIjY29tbWVudCI6MSxURU1QTEFURToxfSxpPWZ1bmN0aW9uKGEpe3JldHVybiBoW2Eubm9kZU5hbWVdfSxqPWZ1bmN0aW9uKGEsYixjKXtpZihpKGEpKXJldHVybiIiO3ZhciBkPWN8fCIiO2lmKGEubG9jYWxOYW1lfHwxMT09YS5ub2RlVHlwZSl7dmFyIGU9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCIsZj1kK2woYSk7ImNvbnRlbnQiPT1lJiYoYj1hLmdldERpc3RyaWJ1dGVkTm9kZXMoKSksZis9Ijxici8+Ijt2YXIgaD1kKyImbmJzcDsmbmJzcDsiO2coYixmdW5jdGlvbihhKXtmKz1qKGEsYS5jaGlsZE5vZGVzLGgpfSksZis9ZCx7YnI6MX1bZV18fChmKz0iPHRhZz4mbHQ7LyIrZSsiJmd0OzwvdGFnPiIsZis9Ijxici8+Iil9ZWxzZXt2YXIgaz1hLnRleHRDb250ZW50LnRyaW0oKTtmPWs/ZCsnIicraysnIjxici8+JzoiIn1yZXR1cm4gZn0saz1bXSxsPWZ1bmN0aW9uKGEpe3ZhciBiPSI8dGFnPiZsdDsiLGM9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCI7cmV0dXJuIGEud2Via2l0U2hhZG93Um9vdHx8YS5zaGFkb3dSb290PyhiKz0nIDxidXR0b24gaWR4PSInK2subGVuZ3RoKyciIG9uY2xpY2s9ImFwaS5zaGFkb3dpemUuY2FsbCh0aGlzKSI+JytjKyI8L2J1dHRvbj4iLGsucHVzaChhKSk6Yis9Y3x8InNoYWRvdy1yb290IixhLmF0dHJpYnV0ZXMmJmcoYS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGEpe2IrPSIgIithLm5hbWUrKGEudmFsdWU/Jz0iJythLnZhbHVlKyciJzoiIil9KSxiKz0iJmd0OzwvdGFnPiJ9O3NoYWRvd2l6ZT1mdW5jdGlvbigpe3ZhciBhPU51bWJlcih0aGlzLmF0dHJpYnV0ZXMuaWR4LnZhbHVlKSxiPWtbYV07Yj9mKGIud2Via2l0U2hhZG93Um9vdHx8Yi5zaGFkb3dSb290LGIpOihjb25zb2xlLmxvZygiYmFkIHNoYWRvd2l6ZSBub2RlIiksY29uc29sZS5kaXIodGhpcykpfSxhLm91dHB1dD1qfSh3aW5kb3cuSW5zcGVjdG9yKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtmb3IodmFyIGEsYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUpLGY9MCxnPWIubGVuZ3RoO2c+ZiYmKGE9YltmXSk7ZisrKWEucmVtb3ZlQXR0cmlidXRlKGMpLGEuc2V0QXR0cmlidXRlKGQsIiIpO2lmKGIubGVuZ3RoKXt2YXIgaD1mdW5jdGlvbigpe2Zvcih2YXIgYSxjPTAsZT1iLmxlbmd0aDtlPmMmJihhPWJbY10pO2MrKylhLnJlbW92ZUF0dHJpYnV0ZShkKTtkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxoLCExKX07ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKGksaCwhMSl9fSl9dmFyIGI9LjIsYz0idW5yZXNvbHZlZCIsZD0icmVzb2x2ZWQiLGU9IlsiK2MrIl0iLGY9IlsiK2QrIl0iLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtnLnRleHRDb250ZW50PWUrIiB7IG9wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyB9IFxuIitmKyJ7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuO1xuLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5ICIrYisiczsgdHJhbnNpdGlvbjogb3BhY2l0eSAiK2IrInM7IH1cbiI7dmFyIGg9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2guaW5zZXJ0QmVmb3JlKGcsaC5maXJzdENoaWxkKTt2YXIgaT12b2lkIDAhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNpdGlvbj8id2Via2l0VHJhbnNpdGlvbkVuZCI6InRyYW5zaXRpb25lbmQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGEpfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZChhLGkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGQoYSxqKX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWJ9ZnVuY3Rpb24gZShhKXtyZXR1cm4ic2NyaXB0Ij09PWEubG9jYWxOYW1lfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KGkpKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoImhyZWYiLGRvY3VtZW50LmJhc2VVUkl8fGRvY3VtZW50LlVSTCksYy5oZWFkLmFwcGVuZENoaWxkKGQpLGEgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGMuYm9keS5pbm5lckhUTUw9YSksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChjKSxjfWF8fChhPXdpbmRvdy5IVE1MSW1wb3J0cz17ZmxhZ3M6e319KTt2YXIgZyxoPWEueGhyLGk9ImltcG9ydCIsaj0ic3R5bGVzaGVldCIsaz17ZG9jdW1lbnRzOnt9LGNhY2hlOnt9LHByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2krIl0iLCJlbGVtZW50IGxpbmtbcmVsPSIraisiXSIsInRlbXBsYXRlIiwic2NyaXB0W3NyY106bm90KFt0eXBlXSkiLCdzY3JpcHRbc3JjXVt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSddLmpvaW4oIiwiKSxsb2FkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGc9bmV3IGwoay5sb2FkZWQsYSksZy5jYWNoZT1rLmNhY2hlLGd9LGxvYWQ6ZnVuY3Rpb24oYSxiKXtnPWsubG9hZGVyKGIpLGsucHJlbG9hZChhKX0scHJlbG9hZDpmdW5jdGlvbihhKXt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoay5wcmVsb2FkU2VsZWN0b3JzKTtiPXRoaXMuZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXMoYSxiKSxiPXRoaXMuZXh0cmFjdFRlbXBsYXRlTm9kZXMoYiksZy5hZGROb2RlcyhiKX0sZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWRvY3VtZW50JiYoYj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYixmdW5jdGlvbihhKXtyZXR1cm4hZShhKX0pKSxifSxleHRyYWN0VGVtcGxhdGVOb2RlczpmdW5jdGlvbihhKXt2YXIgYj1bXTtyZXR1cm4gYT1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSxmdW5jdGlvbihhKXtpZigidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUpe2lmKGEuY29udGVudCl7dmFyIGM9YS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIraisiXSIpO2MubGVuZ3RoJiYoYj1iLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLDApKSl9cmV0dXJuITF9cmV0dXJuITB9KSxiLmxlbmd0aCYmKGE9YS5jb25jYXQoYikpLGF9LGxvYWRlZDpmdW5jdGlvbihhLGQsZSl7aWYoYihkKSl7dmFyIGc9ay5kb2N1bWVudHNbYV07Z3x8KGc9ZihlLGEpLHAucmVzb2x2ZVBhdGhzSW5IVE1MKGcpLGsuZG9jdW1lbnRzW2FdPWcsay5wcmVsb2FkKGcpKSxkLmltcG9ydD1nLGQuaW1wb3J0LmhyZWY9YSxkLmltcG9ydC5vd25lck5vZGU9ZCxkLmNvbnRlbnQ9ZT1nfWQuX19yZXNvdXJjZT1lLGMoZCkmJnAucmVzb2x2ZVBhdGhzSW5TdHlsZXNoZWV0KGQpfX0sbD1mdW5jdGlvbihhLGIpe3RoaXMub25sb2FkPWEsdGhpcy5vbmNvbXBsZXRlPWIsdGhpcy5pbmZsaWdodD0wLHRoaXMucGVuZGluZz17fSx0aGlzLmNhY2hlPXt9fTtsLnByb3RvdHlwZT17YWRkTm9kZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCs9YS5sZW5ndGgscShhLHRoaXMucmVxdWlyZSx0aGlzKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXAubm9kZVVybChhKTtiPXAubWFrZUFic1VybChiKSxhLl9fbm9kZVVybD1iLHRoaXMuZGVkdXBlKGIsYSl8fHRoaXMuZmV0Y2goYixhKX0sZGVkdXBlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucGVuZGluZ1thXT8odGhpcy5wZW5kaW5nW2FdLnB1c2goYiksITApOnRoaXMuY2FjaGVbYV0/KHRoaXMub25sb2FkKGEsYixnLmNhY2hlW2FdKSx0aGlzLnRhaWwoKSwhMCk6KHRoaXMucGVuZGluZ1thXT1bYl0sITEpfSxmZXRjaDpmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGMsZCl7dGhpcy5yZWNlaXZlKGEsYixjLGQpfS5iaW5kKHRoaXMpO2gubG9hZChhLGMpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe2N8fChnLmNhY2hlW2FdPWQpLGcucGVuZGluZ1thXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2N8fHRoaXMub25sb2FkKGEsYixkKSx0aGlzLnRhaWwoKX0sdGhpcyksZy5wZW5kaW5nW2FdPW51bGx9LHRhaWw6ZnVuY3Rpb24oKXstLXRoaXMuaW5mbGlnaHQsdGhpcy5jaGVja0RvbmUoKX0sY2hlY2tEb25lOmZ1bmN0aW9uKCl7dGhpcy5pbmZsaWdodHx8dGhpcy5vbmNvbXBsZXRlKCl9fTt2YXIgbT1bImhyZWYiLCJzcmMiLCJhY3Rpb24iXSxuPSJbIittLmpvaW4oIl0sWyIpKyJdIixvPSJ7ey4qfX0iLHA9e25vZGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIHAucmVzb2x2ZVVybChwLmRvY3VtZW50VVJMLHAuaHJlZk9yU3JjKGEpKX0saHJlZk9yU3JjOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHxhLmdldEF0dHJpYnV0ZSgic3JjIil9LGRvY3VtZW50VXJsRnJvbU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHAuZ2V0RG9jdW1lbnRVcmwoYS5vd25lckRvY3VtZW50fHxhKX0sZ2V0RG9jdW1lbnRVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEuX1VSTHx8YS5pbXBsJiZhLmltcGwuX1VSTHx8YS5iYXNlVVJJfHxhLlVSTCl8fCIiO3JldHVybiBiLnNwbGl0KCIjIilbMF19LHJlc29sdmVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pc0Fic1VybChiKT9iOnRoaXMuY29tcHJlc3NVcmwodGhpcy51cmxUb1BhdGgoYSkrYil9LHJlc29sdmVSZWxhdGl2ZVVybDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzQWJzVXJsKGIpP2I6dGhpcy5tYWtlRG9jdW1lbnRSZWxQYXRoKHRoaXMucmVzb2x2ZVVybChhLGIpKX0saXNBYnNVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuLyheZGF0YTopfCheaHR0cFtzXT86KXwoXlwvKS8udGVzdChhKX0sdXJsVG9QYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3BsaXQoIi8iKTtyZXR1cm4gYi5wb3AoKSxiLnB1c2goIiIpLGIuam9pbigiLyIpfSxjb21wcmVzc1VybDpmdW5jdGlvbihhKXt2YXIgYj0iIixjPWEuaW5kZXhPZigiPyIpO2M+LTEmJihiPWEuc3Vic3RyaW5nKGMpLGE9YS5zdWJzdHJpbmcoYywwKSk7Zm9yKHZhciBkLGU9YS5zcGxpdCgiLyIpLGY9MDtmPGUubGVuZ3RoO2YrKylkPWVbZl0sIi4uIj09PWQmJihlLnNwbGljZShmLTEsMiksZi09Mik7cmV0dXJuIGUuam9pbigiLyIpK2J9LG1ha2VEb2N1bWVudFJlbFBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHAudXJsRWx0LmhyZWY9YSwhcC51cmxFbHQuaG9zdHx8cC51cmxFbHQuaG9zdD09PXdpbmRvdy5sb2NhdGlvbi5ob3N0JiZwLnVybEVsdC5wcm90b2NvbD09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD90aGlzLm1ha2VSZWxQYXRoKHAuZG9jdW1lbnRVUkwscC51cmxFbHQuaHJlZik6YX0sbWFrZVJlbFBhdGg6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5zcGxpdCgiLyIpLGQ9Yi5zcGxpdCgiLyIpO2MubGVuZ3RoJiZjWzBdPT09ZFswXTspYy5zaGlmdCgpLGQuc2hpZnQoKTtmb3IodmFyIGU9MCxmPWMubGVuZ3RoLTE7Zj5lO2UrKylkLnVuc2hpZnQoIi4uIik7dmFyIGc9ZC5qb2luKCIvIik7cmV0dXJuIGd9LG1ha2VBYnNVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIHAudXJsRWx0LmhyZWY9YSxwLnVybEVsdC5ocmVmfSxyZXNvbHZlUGF0aHNJbkhUTUw6ZnVuY3Rpb24oYSxiKXtiPWJ8fHAuZG9jdW1lbnRVcmxGcm9tTm9kZShhKSxwLnJlc29sdmVBdHRyaWJ1dGVzKGEsYikscC5yZXNvbHZlU3R5bGVFbHRzKGEsYik7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpO2MmJnEoYyxmdW5jdGlvbihhKXthLmNvbnRlbnQmJnAucmVzb2x2ZVBhdGhzSW5IVE1MKGEuY29udGVudCxiKX0pfSxyZXNvbHZlUGF0aHNJblN0eWxlc2hlZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9cC5ub2RlVXJsKGEpO2EuX19yZXNvdXJjZT1wLnJlc29sdmVDc3NUZXh0KGEuX19yZXNvdXJjZSxiKX0scmVzb2x2ZVN0eWxlRWx0czpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtjJiZxKGMsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD1wLnJlc29sdmVDc3NUZXh0KGEudGV4dENvbnRlbnQsYil9KX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5yZXBsYWNlKC91cmxcKFteKV0qXCkvZyxmdW5jdGlvbihhKXt2YXIgYz1hLnJlcGxhY2UoL1siJ10vZywiIikuc2xpY2UoNCwtMSk7cmV0dXJuIGM9cC5yZXNvbHZlUmVsYXRpdmVVcmwoYixjKSwidXJsKCIrYysiKSJ9KX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hJiZhLnF1ZXJ5U2VsZWN0b3JBbGwobik7YyYmcShjLGZ1bmN0aW9uKGEpe3RoaXMucmVzb2x2ZU5vZGVBdHRyaWJ1dGVzKGEsYil9LHRoaXMpfSxyZXNvbHZlTm9kZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXttLmZvckVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9YS5hdHRyaWJ1dGVzW2NdO2lmKGQmJmQudmFsdWUmJmQudmFsdWUuc2VhcmNoKG8pPDApe3ZhciBlPXAucmVzb2x2ZVJlbGF0aXZlVXJsKGIsZC52YWx1ZSk7ZC52YWx1ZT1lfX0pfX07cC5kb2N1bWVudFVSTD1wLmdldERvY3VtZW50VXJsKGRvY3VtZW50KSxwLnVybEVsdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksaD1ofHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYis9Ij8iK01hdGgucmFuZG9tKCkpLGUub3BlbigiR0VUIixiLGguYXN5bmMpLGUuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09ZS5yZWFkeVN0YXRlJiZjLmNhbGwoZCwhaC5vayhlKSYmZSxlLnJlc3BvbnNlfHxlLnJlc3BvbnNlVGV4dCxiKX0pLGUuc2VuZCgpLGV9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19O3ZhciBxPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIse2dldDpmdW5jdGlvbigpe3JldHVybiBIVE1MSW1wb3J0cy5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5jdXJyZW50U2NyaXB0fSx3cml0ZWFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksYS5wYXRoPXAsYS54aHI9aCxhLmltcG9ydGVyPWssYS5nZXREb2N1bWVudFVybD1wLmdldERvY3VtZW50VXJsLGEuSU1QT1JUX0xJTktfVFlQRT1pfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWZ9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiYhZChhKSYmIWUoYSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5vd25lckRvY3VtZW50PT09ZG9jdW1lbnR8fGEub3duZXJEb2N1bWVudC5pbXBsPT09ZG9jdW1lbnR9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiYiZWxlbWVudCI9PT1hLnBhcmVudE5vZGUubG9jYWxOYW1lfXt2YXIgZj0iaW1wb3J0IixnPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2YrIl0iLCJsaW5rW3JlbD1zdHlsZXNoZWV0XSIsInN0eWxlIiwic2NyaXB0Om5vdChbdHlwZV0pIiwnc2NyaXB0W3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10sbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZUdlbmVyaWMifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX2ltcG9ydFBhcnNlZCl7YS5fX2ltcG9ydFBhcnNlZD0hMDtmb3IodmFyIGIsYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoZy5zZWxlY3RvcnMpLGQ9YS5zY3JpcHRzP2Euc2NyaXB0cy5sZW5ndGg6MCxlPTA7ZTxjLmxlbmd0aCYmKGI9Y1tlXSk7ZSsrKWdbZy5tYXBbYi5sb2NhbE5hbWVdXShiKSxhLnNjcmlwdHMmJmQhPT1hLnNjcmlwdHMubGVuZ3RoJiYoZD1hLnNjcmlwdHMubGVuZ3RoLGM9YS5xdWVyeVNlbGVjdG9yQWxsKGcuc2VsZWN0b3JzKSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKT9hLmltcG9ydCYmKGcucGFyc2UoYS5pbXBvcnQpLGEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImxvYWQiKSkpOnRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7YyhhKSYmZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7aWYoYyhiKSl7dmFyIGQ9KGIuX19yZXNvdXJjZXx8Yi50ZXh0Q29udGVudCkudHJpbSgpO2lmKGQpe3ZhciBlPWIuX19ub2RlVXJsO2lmKCFlKXt2YXIgZT1hLnBhdGguZG9jdW1lbnRVcmxGcm9tTm9kZShiKSxmPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGc9ZC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Zj1nJiZnWzFdfHxmLGUrPSIvIitmKyIuanMifWQrPSJcbi8vIyBzb3VyY2VVUkw9IitlKyJcbiIsYS5jdXJyZW50U2NyaXB0PWIsZXZhbC5jYWxsKHdpbmRvdyxkKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH19fX07QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKX1hLnBhcnNlcj1nfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIubG9hZChkb2N1bWVudCxmdW5jdGlvbigpe0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksSFRNTEltcG9ydHMucmVhZHk9ITAsSFRNTEltcG9ydHMucmVhZHlUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJIVE1MSW1wb3J0c0xvYWRlZCIse2J1YmJsZXM6ITB9KSl9KX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGIuaW5pdEV2ZW50KGEsITAsITApLGJ9KSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8ImludGVyYWN0aXZlIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJiF3aW5kb3cuYXR0YWNoRXZlbnQ/YSgpOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3UucHVzaChhKSx0fHwodD0hMCxxKGQpKX1mdW5jdGlvbiBjKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJndpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSl8fGF9ZnVuY3Rpb24gZCgpe3Q9ITE7dmFyIGE9dTt1PVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7dmFyIGI9ITE7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFrZVJlY29yZHMoKTtlKGEpLGMubGVuZ3RoJiYoYS5jYWxsYmFja18oYyxhKSxiPSEwKX0pLGImJmQoKX1mdW5jdGlvbiBlKGEpe2Eubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9cC5nZXQoYik7YyYmYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Iub2JzZXJ2ZXI9PT1hJiZiLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfSl9KX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPWE7YztjPWMucGFyZW50Tm9kZSl7dmFyIGQ9cC5nZXQoYyk7aWYoZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYub3B0aW9ucztpZihjPT09YXx8Zy5zdWJ0cmVlKXt2YXIgaD1iKGcpO2gmJmYuZW5xdWV1ZShoKX19fX1mdW5jdGlvbiBnKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89Kyt2fWZ1bmN0aW9uIGgoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1bXSx0aGlzLnJlbW92ZWROb2Rlcz1bXSx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBpKGEpe3ZhciBiPW5ldyBoKGEudHlwZSxhLnRhcmdldCk7cmV0dXJuIGIuYWRkZWROb2Rlcz1hLmFkZGVkTm9kZXMuc2xpY2UoKSxiLnJlbW92ZWROb2Rlcz1hLnJlbW92ZWROb2Rlcy5zbGljZSgpLGIucHJldmlvdXNTaWJsaW5nPWEucHJldmlvdXNTaWJsaW5nLGIubmV4dFNpYmxpbmc9YS5uZXh0U2libGluZyxiLmF0dHJpYnV0ZU5hbWU9YS5hdHRyaWJ1dGVOYW1lLGIuYXR0cmlidXRlTmFtZXNwYWNlPWEuYXR0cmlidXRlTmFtZXNwYWNlLGIub2xkVmFsdWU9YS5vbGRWYWx1ZSxifWZ1bmN0aW9uIGooYSxiKXtyZXR1cm4gdz1uZXcgaChhLGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIHg/eDooeD1pKHcpLHgub2xkVmFsdWU9YSx4KX1mdW5jdGlvbiBsKCl7dz14PXZvaWQgMH1mdW5jdGlvbiBtKGEpe3JldHVybiBhPT09eHx8YT09PXd9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPT09Yj9hOngmJm0oYSk/eDpudWxsfWZ1bmN0aW9uIG8oYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgcD1uZXcgV2Vha01hcCxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiBjW2QtMV09Zix2b2lkIDB9ZWxzZSBiKHRoaXMub2JzZXJ2ZXIpO2NbZF09YX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGEpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPXAuZ2V0KGEpO2J8fHAuc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGEpO2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXT09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIGI9YS5hdHRyTmFtZSxjPWEucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLGQ9YS50YXJnZXQsZT1uZXcgaigiYXR0cmlidXRlcyIsZCk7CmUuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZywhYS5NdXRhdGlvbk9ic2VydmVyJiZhLldlYktpdE11dGF0aW9uT2JzZXJ2ZXImJihhLk11dGF0aW9uT2JzZXJ2ZXI9YS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyKSxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWEuc2hhZG93Um9vdDtjOylkKGMsYiksYz1jLm9sZGVyU2hhZG93Um9vdH1mdW5jdGlvbiBkKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOihjKGEsZCksdm9pZCAwKX0pLGMoYSxkKX1mdW5jdGlvbiBlKGEpe3JldHVybiBoKGEpPyhpKGEpLCEwKToobChhKSx2b2lkIDApfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiB5LmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYikseS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHEoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihCLnB1c2goYSksIUEpe0E9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0E9ITE7Zm9yKHZhciBhLGI9QixjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7Qj1bXX1mdW5jdGlvbiBsKGEpe3o/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmeS5kb20pJiYoeS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHEoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT95LmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJih5LmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSkseS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXt6P2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJnkuZG9tKSYmKHkuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHEoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD95LmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLHkuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7Zm9yKHZhciBiPWEsYz13aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJndpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpfHxkb2N1bWVudDtiOyl7aWYoYj09YylyZXR1cm4hMDtiPWIucGFyZW50Tm9kZXx8Yi5ob3N0fX1mdW5jdGlvbiByKGEpe2lmKGEuc2hhZG93Um9vdCYmIWEuc2hhZG93Um9vdC5fX3dhdGNoZWQpe3kuZG9tJiZjb25zb2xlLmxvZygid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiAiLGEubG9jYWxOYW1lKTtmb3IodmFyIGI9YS5zaGFkb3dSb290O2I7KXMoYiksYj1iLm9sZGVyU2hhZG93Um9vdH19ZnVuY3Rpb24gcyhhKXthLl9fd2F0Y2hlZHx8KHYoYSksYS5fX3dhdGNoZWQ9ITApfWZ1bmN0aW9uIHQoYSl7aWYoeS5kb20pe3ZhciBiPWFbMF07aWYoYiYmImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2RlcyYmYi5hZGRlZE5vZGVzKXtmb3IodmFyIGM9Yi5hZGRlZE5vZGVzWzBdO2MmJmMhPT1kb2N1bWVudCYmIWMuaG9zdDspYz1jLnBhcmVudE5vZGU7dmFyIGQ9YyYmKGMuVVJMfHxjLl9VUkx8fGMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZSl8fCIiO2Q9ZC5zcGxpdCgiLz8iKS5zaGlmdCgpLnNwbGl0KCIvIikucG9wKCl9Y29uc29sZS5ncm91cCgibXV0YXRpb25zICglZCkgWyVzXSIsYS5sZW5ndGgsZHx8IiIpfWEuZm9yRWFjaChmdW5jdGlvbihhKXsiY2hpbGRMaXN0Ij09PWEudHlwZSYmKEQoYS5hZGRlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZnKGEpfSksRChhLnJlbW92ZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmbihhKX0pKX0pLHkuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gdSgpe3QoQy50YWtlUmVjb3JkcygpKSxrKCl9ZnVuY3Rpb24gdihhKXtDLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX1mdW5jdGlvbiB3KGEpe3YoYSl9ZnVuY3Rpb24geChhKXt5LmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZURvY3VtZW50OiAiLChhLlVSTHx8YS5fVVJMfHwiIikuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSx5LmRvbSYmY29uc29sZS5ncm91cEVuZCgpfXZhciB5PXdpbmRvdy5sb2dGbGFnc3x8e30sej0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPXo7dmFyIEE9ITEsQj1bXSxDPW5ldyBNdXRhdGlvbk9ic2VydmVyKHQpLEQ9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLndhdGNoU2hhZG93PXIsYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEub2JzZXJ2ZURvY3VtZW50PXcsYS51cGdyYWRlRG9jdW1lbnQ9eCxhLnRha2VSZWNvcmRzPXV9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGYpe3ZhciBnPWZ8fHt9O2lmKCFiKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCBgbmFtZWAgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihiLmluZGV4T2YoIi0iKTwwKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCAoJ25hbWUnKSBtdXN0IGNvbnRhaW4gYSBkYXNoICgnLScpLiBBcmd1bWVudCBwcm92aWRlZCB3YXMgJyIrU3RyaW5nKGIpKyInLiIpO2lmKG0oYikpdGhyb3cgbmV3IEVycm9yKCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJyIrU3RyaW5nKGIpKyInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCIpO2lmKCFnLnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbnMgbWlzc2luZyByZXF1aXJlZCBwcm90b3R5cGUgcHJvcGVydHkiKTtyZXR1cm4gZy5fX25hbWU9Yi50b0xvd2VyQ2FzZSgpLGcubGlmZWN5Y2xlPWcubGlmZWN5Y2xlfHx7fSxnLmFuY2VzdHJ5PWMoZy5leHRlbmRzKSxkKGcpLGUoZyksayhnLnByb3RvdHlwZSksbihnLl9fbmFtZSxnKSxnLmN0b3I9byhnKSxnLmN0b3IucHJvdG90eXBlPWcucHJvdG90eXBlLGcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWcuY3RvcixhLnJlYWR5JiZhLnVwZ3JhZGVBbGwoZG9jdW1lbnQpLGcuY3Rvcn1mdW5jdGlvbiBjKGEpe3ZhciBiPW0oYSk7cmV0dXJuIGI/YyhiLmV4dGVuZHMpLmNvbmNhdChbYl0pOltdfWZ1bmN0aW9uIGQoYSl7Zm9yKHZhciBiLGM9YS5leHRlbmRzLGQ9MDtiPWEuYW5jZXN0cnlbZF07ZCsrKWM9Yi5pcyYmYi50YWc7YS50YWc9Y3x8YS5fX25hbWUsYyYmKGEuaXM9YS5fX25hbWUpfWZ1bmN0aW9uIGUoYSl7aWYoIU9iamVjdC5fX3Byb3RvX18pe3ZhciBiPUhUTUxFbGVtZW50LnByb3RvdHlwZTtpZihhLmlzKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEudGFnKTtiPU9iamVjdC5nZXRQcm90b3R5cGVPZihjKX1mb3IodmFyIGQsZT1hLnByb3RvdHlwZTtlJiZlIT09Yjspe3ZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtlLl9fcHJvdG9fXz1kLGU9ZH19YS5uYXRpdmU9Yn1mdW5jdGlvbiBmKGEpe3JldHVybiBnKHgoYS50YWcpLGEpfWZ1bmN0aW9uIGcoYixjKXtyZXR1cm4gYy5pcyYmYi5zZXRBdHRyaWJ1dGUoImlzIixjLmlzKSxiLnJlbW92ZUF0dHJpYnV0ZSgidW5yZXNvbHZlZCIpLGgoYixjKSxiLl9fdXBncmFkZWRfXz0hMCxhLnVwZ3JhZGVTdWJ0cmVlKGIpLGooYiksYn1mdW5jdGlvbiBoKGEsYil7T2JqZWN0Ll9fcHJvdG9fXz9hLl9fcHJvdG9fXz1iLnByb3RvdHlwZTooaShhLGIucHJvdG90eXBlLGIubmF0aXZlKSxhLl9fcHJvdG9fXz1iLnByb3RvdHlwZSl9ZnVuY3Rpb24gaShhLGIsYyl7Zm9yKHZhciBkPXt9LGU9YjtlIT09YyYmZSE9PUhUTUxVbmtub3duRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGYsZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxoPTA7Zj1nW2hdO2grKylkW2ZdfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsZikpLGRbZl09MSk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9fWZ1bmN0aW9uIGooYSl7YS5jcmVhdGVkQ2FsbGJhY2smJmEuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gayhhKXtpZighYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciBiPWEuc2V0QXR0cmlidXRlO2Euc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYyl7bC5jYWxsKHRoaXMsYSxjLGIpfTt2YXIgYz1hLnJlbW92ZUF0dHJpYnV0ZTthLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtsLmNhbGwodGhpcyxhLG51bGwsYyl9LGEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZShhKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmZSE9PWQmJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGEsZCxlKX1mdW5jdGlvbiBtKGEpe3JldHVybiBhP3dbYS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gbihhLGIpe3dbYV09Yn1mdW5jdGlvbiBvKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmKGEpfX1mdW5jdGlvbiBwKGEsYil7dmFyIGM9bShifHxhKTtyZXR1cm4gYz9uZXcgYy5jdG9yOngoYSl9ZnVuY3Rpb24gcShhKXtpZighYS5fX3VwZ3JhZGVkX18mJmEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImlzIil8fGEubG9jYWxOYW1lLGM9bShiKTtyZXR1cm4gYyYmZyhhLGMpfX1mdW5jdGlvbiByKGIpe3ZhciBjPXkuY2FsbCh0aGlzLGIpO3JldHVybiBhLnVwZ3JhZGVBbGwoYyksY31hfHwoYT13aW5kb3cuQ3VzdG9tRWxlbWVudHM9e2ZsYWdzOnt9fSk7dmFyIHM9YS5mbGFncyx0PUJvb2xlYW4oZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KSx1PSFzLnJlZ2lzdGVyJiZ0O2lmKHUpe3ZhciB2PWZ1bmN0aW9uKCl7fTthLnJlZ2lzdHJ5PXt9LGEudXBncmFkZUVsZW1lbnQ9dixhLndhdGNoU2hhZG93PXYsYS51cGdyYWRlPXYsYS51cGdyYWRlQWxsPXYsYS51cGdyYWRlU3VidHJlZT12LGEub2JzZXJ2ZURvY3VtZW50PXYsYS51cGdyYWRlRG9jdW1lbnQ9dixhLnRha2VSZWNvcmRzPXZ9ZWxzZXt2YXIgdz17fSx4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCkseT1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50PWIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD1wLE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT1yLGEucmVnaXN0cnk9dyxhLnVwZ3JhZGU9cX1kb2N1bWVudC5yZWdpc3Rlcj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQsYS5oYXNOYXRpdmU9dCxhLnVzZU5hdGl2ZT11fSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Yn12YXIgYj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsYz17c2VsZWN0b3JzOlsibGlua1tyZWw9IitiKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoYy5zZWxlY3RvcnMpO2QoYixmdW5jdGlvbihhKXtjW2MubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGIpe2EoYikmJnRoaXMucGFyc2VJbXBvcnQoYil9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2EuY29udGVudCYmYy5wYXJzZShhLmNvbnRlbnQpfX0sZD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO0N1c3RvbUVsZW1lbnRzLnBhcnNlcj1jfSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChkb2N1bWVudCk7dmFyIGE9d2luZG93LlBsYXRmb3JtJiZQbGF0Zm9ybS5lbmRPZk1pY3JvdGFzaz9QbGF0Zm9ybS5lbmRPZk1pY3JvdGFzazpzZXRUaW1lb3V0O2EoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeT0hMCxDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpfSl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBiLmluaXRFdmVudChhLCEwLCEwKSxifSksImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fGEuZmxhZ3MuZWFnZXIpYigpO2Vsc2UgaWYoImludGVyYWN0aXZlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGV8fHdpbmRvdy5hdHRhY2hFdmVudHx8d2luZG93LkhUTUxJbXBvcnRzJiYhd2luZG93LkhUTUxJbXBvcnRzLnJlYWR5KXt2YXIgYz13aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy5yZWFkeT8iSFRNTEltcG9ydHNMb2FkZWQiOiJET01Db250ZW50TG9hZGVkIjt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihjLGIpfWVsc2UgYigpfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJlbGVtZW50IHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSAvKiBpbmplY3RlZCBieSBwbGF0Zm9ybS5qcyAqLyI7dmFyIGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2lmKGIuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBjPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sZD17fTtjLmZvckVhY2goZnVuY3Rpb24oYSl7ZFthXT1DdXN0b21FbGVtZW50c1thXX0pLGMuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihiKXtyZXR1cm4gZFthXSh3cmFwKGIpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmLnRleHRDb250ZW50PWQrKyxlLnB1c2goYSl9ZnVuY3Rpb24gYygpe2Zvcig7ZS5sZW5ndGg7KWUuc2hpZnQoKSgpfXZhciBkPTAsZT1bXSxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fEpzTXV0YXRpb25PYnNlcnZlcikoYykub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSksYS5lbmRPZk1pY3JvdGFzaz1ifShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7YT1hfHx7fSxhLmV4dGVybmFsPWEuZXh0ZXJuYWx8fHt9O3ZhciBiPXtzaGFkb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS5zaGFkb3dSb290fHxhLndlYmtpdFNoYWRvd1Jvb3Q6dm9pZCAwfSxjYW5UYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJkJvb2xlYW4oYS5lbGVtZW50RnJvbVBvaW50KX0sdGFyZ2V0aW5nU2hhZG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2hhZG93KGEpO3JldHVybiB0aGlzLmNhblRhcmdldChiKT9iOnZvaWQgMH0sb2xkZXJTaGFkb3c6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vbGRlclNoYWRvd1Jvb3Q7aWYoIWIpe3ZhciBjPWEucXVlcnlTZWxlY3Rvcigic2hhZG93Iik7YyYmKGI9Yy5vbGRlclNoYWRvd1Jvb3QpfXJldHVybiBifSxhbGxTaGFkb3dzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPXRoaXMuc2hhZG93KGEpO2M7KWIucHVzaChjKSxjPXRoaXMub2xkZXJTaGFkb3coYyk7cmV0dXJuIGJ9LHNlYXJjaFJvb3Q6ZnVuY3Rpb24oYSxiLGMpe2lmKGEpe3ZhciBkLGUsZj1hLmVsZW1lbnRGcm9tUG9pbnQoYixjKTtmb3IoZT10aGlzLnRhcmdldGluZ1NoYWRvdyhmKTtlOyl7aWYoZD1lLmVsZW1lbnRGcm9tUG9pbnQoYixjKSl7dmFyIGc9dGhpcy50YXJnZXRpbmdTaGFkb3coZCk7cmV0dXJuIHRoaXMuc2VhcmNoUm9vdChnLGIsYyl8fGR9ZT10aGlzLm9sZGVyU2hhZG93KGUpfXJldHVybiBmfX0sb3duZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWE7Yi5wYXJlbnROb2RlOyliPWIucGFyZW50Tm9kZTtyZXR1cm4gYi5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9OT0RFJiZiLm5vZGVUeXBlIT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUmJihiPWRvY3VtZW50KSxifSxmaW5kVGFyZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2xpZW50WCxjPWEuY2xpZW50WSxkPXRoaXMub3duZXIoYS50YXJnZXQpO3JldHVybiBkLmVsZW1lbnRGcm9tUG9pbnQoYixjKXx8KGQ9ZG9jdW1lbnQpLHRoaXMuc2VhcmNoUm9vdChkLGIsYyl9fTthLnRhcmdldEZpbmRpbmc9YixhLmZpbmRUYXJnZXQ9Yi5maW5kVGFyZ2V0LmJpbmQoYiksd2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbD1hfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuImJvZHkgXl4gIitiKGEpfWZ1bmN0aW9uIGIoYSl7cmV0dXJuJ1t0b3VjaC1hY3Rpb249IicrYSsnIl0nfWZ1bmN0aW9uIGMoYSl7cmV0dXJuInsgLW1zLXRvdWNoLWFjdGlvbjogIithKyI7IHRvdWNoLWFjdGlvbjogIithKyI7IHRvdWNoLWFjdGlvbi1kZWxheTogbm9uZTsgfSJ9dmFyIGQ9WyJub25lIiwiYXV0byIsInBhbi14IiwicGFuLXkiLHtydWxlOiJwYW4teCBwYW4teSIsc2VsZWN0b3JzOlsicGFuLXggcGFuLXkiLCJwYW4teSBwYW4teCJdfV0sZT0iIjtkLmZvckVhY2goZnVuY3Rpb24oZCl7U3RyaW5nKGQpPT09ZD8oZSs9YihkKStjKGQpKyJcbiIsZSs9YShkKStjKGQpKyJcbiIpOihlKz1kLnNlbGVjdG9ycy5tYXAoYikrYyhkLnJ1bGUpKyJcbiIsZSs9ZC5zZWxlY3RvcnMubWFwKGEpK2MoZC5ydWxlKSsiXG4iKX0pO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Zi50ZXh0Q29udGVudD1lLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZil9KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGUpe2U9ZXx8e307dmFyIGY9ZS5idXR0b25zO2lmKHZvaWQgMD09PWYpc3dpdGNoKGUud2hpY2gpe2Nhc2UgMTpmPTE7YnJlYWs7Y2FzZSAyOmY9NDticmVhaztjYXNlIDM6Zj0yO2JyZWFrO2RlZmF1bHQ6Zj0wfXZhciBpO2lmKGMpaT1uZXcgTW91c2VFdmVudChhLGUpO2Vsc2V7aT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2Zvcih2YXIgaixrPXt9LGw9MDtsPGcubGVuZ3RoO2wrKylqPWdbbF0sa1tqXT1lW2pdfHxoW2xdO2kuaW5pdE1vdXNlRXZlbnQoYSxrLmJ1YmJsZXMsay5jYW5jZWxhYmxlLGsudmlldyxrLmRldGFpbCxrLnNjcmVlblgsay5zY3JlZW5ZLGsuY2xpZW50WCxrLmNsaWVudFksay5jdHJsS2V5LGsuYWx0S2V5LGsuc2hpZnRLZXksay5tZXRhS2V5LGsuYnV0dG9uLGsucmVsYXRlZFRhcmdldCl9aS5fX3Byb3RvX189Yi5wcm90b3R5cGUsZHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGksImJ1dHRvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sZW51bWVyYWJsZTohMH0pO3ZhciBtPTA7cmV0dXJuIG09ZS5wcmVzc3VyZT9lLnByZXNzdXJlOmY/LjU6MCxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLHtwb2ludGVySWQ6e3ZhbHVlOmUucG9pbnRlcklkfHwwLGVudW1lcmFibGU6ITB9LHdpZHRoOnt2YWx1ZTplLndpZHRofHwwLGVudW1lcmFibGU6ITB9LGhlaWdodDp7dmFsdWU6ZS5oZWlnaHR8fDAsZW51bWVyYWJsZTohMH0scHJlc3N1cmU6e3ZhbHVlOm0sZW51bWVyYWJsZTohMH0sdGlsdFg6e3ZhbHVlOmUudGlsdFh8fDAsZW51bWVyYWJsZTohMH0sdGlsdFk6e3ZhbHVlOmUudGlsdFl8fDAsZW51bWVyYWJsZTohMH0scG9pbnRlclR5cGU6e3ZhbHVlOmUucG9pbnRlclR5cGV8fCIiLGVudW1lcmFibGU6ITB9LGh3VGltZXN0YW1wOnt2YWx1ZTplLmh3VGltZXN0YW1wfHwwLGVudW1lcmFibGU6ITB9LGlzUHJpbWFyeTp7dmFsdWU6ZS5pc1ByaW1hcnl8fCExLGVudW1lcmFibGU6ITB9fSksaX12YXIgYz0hMSxkPSExO3RyeXt2YXIgZT1uZXcgTW91c2VFdmVudCgiY2xpY2siLHtidXR0b25zOjF9KTtjPSEwLGQ9MT09PWUuYnV0dG9uc31jYXRjaChmKXt9dmFyIGc9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiXSxoPVshMSwhMSxudWxsLG51bGwsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGxdO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTW91c2VFdmVudC5wcm90b3R5cGUpLGEuUG9pbnRlckV2ZW50fHwoYS5Qb2ludGVyRXZlbnQ9Yil9KHdpbmRvdyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2lmKGMpe3ZhciBhPW5ldyBNYXA7cmV0dXJuIGEucG9pbnRlcnM9ZCxhfXRoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX12YXIgYz13aW5kb3cuTWFwJiZ3aW5kb3cuTWFwLnByb3RvdHlwZS5mb3JFYWNoLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfTtiLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yz4tMT90aGlzLnZhbHVlc1tjXT1iOih0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKX0saGFzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmtleXMuaW5kZXhPZihhKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yj4tMSYmKHRoaXMua2V5cy5zcGxpY2UoYiwxKSx0aGlzLnZhbHVlcy5zcGxpY2UoYiwxKSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gdGhpcy52YWx1ZXNbYl19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5rZXlzLmxlbmd0aD0wLHRoaXMudmFsdWVzLmxlbmd0aD0wfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihjLGQpe2EuY2FsbChiLGMsdGhpcy5rZXlzW2RdLHRoaXMpfSx0aGlzKX0scG9pbnRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19LGEuUG9pbnRlck1hcD1ifSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1bImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsImRldGFpbCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwiYnV0dG9uIiwicmVsYXRlZFRhcmdldCIsImJ1dHRvbnMiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaHdUaW1lc3RhbXAiLCJpc1ByaW1hcnkiLCJ0eXBlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIndoaWNoIl0sYz1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLHZvaWQgMCwwLDAsMCwwLDAsMCwiIiwwLCExLCIiLG51bGwsbnVsbCwwXSxkPXt0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZWRFdmVudHM6bmV3IFdlYWtNYXAscG9pbnRlcm1hcDpuZXcgYS5Qb2ludGVyTWFwLGV2ZW50TWFwOnt9LGV2ZW50U291cmNlczp7fSxldmVudFNvdXJjZUxpc3Q6W10scmVnaXN0ZXJTb3VyY2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLGQ9Yy5ldmVudHM7ZCYmKGQuZm9yRWFjaChmdW5jdGlvbihhKXtjW2FdJiYodGhpcy5ldmVudE1hcFthXT1jW2FdLmJpbmQoYykpfSx0aGlzKSx0aGlzLmV2ZW50U291cmNlc1thXT1jLHRoaXMuZXZlbnRTb3VyY2VMaXN0LnB1c2goYykpfSxyZWdpc3RlcjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsZD0wO2M+ZCYmKGI9dGhpcy5ldmVudFNvdXJjZUxpc3RbZF0pO2QrKyliLnJlZ2lzdGVyLmNhbGwoYixhKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsZD0wO2M+ZCYmKGI9dGhpcy5ldmVudFNvdXJjZUxpc3RbZF0pO2QrKyliLnVucmVnaXN0ZXIuY2FsbChiLGEpfSxjb250YWluczphLmV4dGVybmFsLmNvbnRhaW5zfHxmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbnRhaW5zKGIpfSxkb3duOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVyZG93biIsYSl9LG1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoInBvaW50ZXJtb3ZlIixhKX0sdXA6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoInBvaW50ZXJ1cCIsYSl9LGVudGVyOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmVudGVyIixhKX0sbGVhdmU6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSExLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVybGVhdmUiLGEpfSxvdmVyOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm92ZXIiLGEpfSxvdXQ6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVyb3V0IixhKX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVyY2FuY2VsIixhKX0sbGVhdmVPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmxlYXZlKGEpLHRoaXMub3V0KGEpfSxlbnRlck92ZXI6ZnVuY3Rpb24oYSl7dGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpLHRoaXMub3ZlcihhKX0sZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmhhbmRsZWRFdmVudHMuZ2V0KGEpKXt2YXIgYj1hLnR5cGUsYz10aGlzLmV2ZW50TWFwJiZ0aGlzLmV2ZW50TWFwW2JdO2MmJmMoYSksdGhpcy5oYW5kbGVkRXZlbnRzLnNldChhLCEwKX19LGxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLmFkZEV2ZW50KGEsYil9LHRoaXMpfSx1bmxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLnJlbW92ZUV2ZW50KGEsYil9LHRoaXMpfSxhZGRFdmVudDphLmV4dGVybmFsLmFkZEV2ZW50fHxmdW5jdGlvbihhLGIpe2EuYWRkRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKX0scmVtb3ZlRXZlbnQ6YS5leHRlcm5hbC5yZW1vdmVFdmVudHx8ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoYix0aGlzLmJvdW5kSGFuZGxlcil9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3RoaXMuY2FwdHVyZUluZm8mJihiLnJlbGF0ZWRUYXJnZXQ9bnVsbCk7dmFyIGM9bmV3IFBvaW50ZXJFdmVudChhLGIpO3JldHVybiBiLnByZXZlbnREZWZhdWx0JiYoYy5wcmV2ZW50RGVmYXVsdD1iLnByZXZlbnREZWZhdWx0KSx0aGlzLnRhcmdldHMuc2V0KGMsdGhpcy50YXJnZXRzLmdldChiKXx8Yi50YXJnZXQpLGN9LGZpcmVFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWFrZUV2ZW50KGEsYik7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChjKX0sY2xvbmVFdmVudDpmdW5jdGlvbihhKXtmb3IodmFyIGQsZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspZD1iW2ZdLGVbZF09YVtkXXx8Y1tmXTtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCYmKGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXthLnByZXZlbnREZWZhdWx0KCl9KSxlfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1hLnBvaW50ZXJJZD90aGlzLmNhcHR1cmVJbmZvLnRhcmdldDp0aGlzLnRhcmdldHMuZ2V0KGEpfSxzZXRDYXB0dXJlOmZ1bmN0aW9uKGEsYil7dGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5yZWxlYXNlQ2FwdHVyZSh0aGlzLmNhcHR1cmVJbmZvLmlkKSx0aGlzLmNhcHR1cmVJbmZvPXtpZDphLHRhcmdldDpifTt2YXIgYz1uZXcgUG9pbnRlckV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KTt0aGlzLmltcGxpY2l0UmVsZWFzZT10aGlzLnJlbGVhc2VDYXB0dXJlLmJpbmQodGhpcyxhKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChjLGIpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KGMpfSxyZWxlYXNlQ2FwdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09YSl7dmFyIGI9bmV3IFBvaW50ZXJFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pLGM9dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ7dGhpcy5jYXB0dXJlSW5mbz1udWxsLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KGIsYyksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQoYil9fSxkaXNwYXRjaEV2ZW50OmEuZXh0ZXJuYWwuZGlzcGF0Y2hFdmVudHx8ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUYXJnZXQoYSk7cmV0dXJuIGI/Yi5kaXNwYXRjaEV2ZW50KGEpOnZvaWQgMH0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQodGhpcy5kaXNwYXRjaEV2ZW50LmJpbmQodGhpcyxhKSwwKX19O2QuYm91bmRIYW5kbGVyPWQuZXZlbnRIYW5kbGVyLmJpbmQoZCksYS5kaXNwYXRjaGVyPWQsYS5yZWdpc3Rlcj1kLnJlZ2lzdGVyLmJpbmQoZCksYS51bnJlZ2lzdGVyPWQudW5yZWdpc3Rlci5iaW5kKGQpfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjLGQpe3RoaXMuYWRkQ2FsbGJhY2s9YS5iaW5kKGQpLHRoaXMucmVtb3ZlQ2FsbGJhY2s9Yi5iaW5kKGQpLHRoaXMuY2hhbmdlZENhbGxiYWNrPWMuYmluZChkKSxnJiYodGhpcy5vYnNlcnZlcj1uZXcgZyh0aGlzLm11dGF0aW9uV2F0Y2hlci5iaW5kKHRoaXMpKSl9dmFyIGM9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxkPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuc2xpY2UpLGY9QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlciksZz13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsaD0iW3RvdWNoLWFjdGlvbl0iLGk9e3N1YnRyZWU6ITAsY2hpbGRMaXN0OiEwLGF0dHJpYnV0ZXM6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsYXR0cmlidXRlRmlsdGVyOlsidG91Y2gtYWN0aW9uIl19O2IucHJvdG90eXBlPXt3YXRjaFN1YnRyZWU6ZnVuY3Rpb24oYil7YS50YXJnZXRGaW5kaW5nLmNhblRhcmdldChiKSYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKGIsaSl9LGVuYWJsZU9uU3VidHJlZTpmdW5jdGlvbihhKXt0aGlzLndhdGNoU3VidHJlZShhKSxhPT09ZG9jdW1lbnQmJiJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP3RoaXMuaW5zdGFsbE9uTG9hZCgpOnRoaXMuaW5zdGFsbE5ld1N1YnRyZWUoYSl9LGluc3RhbGxOZXdTdWJ0cmVlOmZ1bmN0aW9uKGEpe2ModGhpcy5maW5kRWxlbWVudHMoYSksdGhpcy5hZGRFbGVtZW50LHRoaXMpfSxmaW5kRWxlbWVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoaCk6W119LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVDYWxsYmFjayhhKX0sYWRkRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmFkZENhbGxiYWNrKGEpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihhLGIpe3RoaXMuY2hhbmdlZENhbGxiYWNrKGEsYil9LGNvbmNhdExpc3RzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGUoYikpfSxpbnN0YWxsT25Mb2FkOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsdGhpcy5pbnN0YWxsTmV3U3VidHJlZS5iaW5kKHRoaXMsZG9jdW1lbnQpKX0saXNFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9LGZsYXR0ZW5NdXRhdGlvblRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9ZChhLHRoaXMuZmluZEVsZW1lbnRzLHRoaXMpO3JldHVybiBiLnB1c2goZihhLHRoaXMuaXNFbGVtZW50KSksYi5yZWR1Y2UodGhpcy5jb25jYXRMaXN0cyxbXSl9LG11dGF0aW9uV2F0Y2hlcjpmdW5jdGlvbihhKXthLmZvckVhY2godGhpcy5tdXRhdGlvbkhhbmRsZXIsdGhpcyl9LG11dGF0aW9uSGFuZGxlcjpmdW5jdGlvbihhKXtpZigiY2hpbGRMaXN0Ij09PWEudHlwZSl7dmFyIGI9dGhpcy5mbGF0dGVuTXV0YXRpb25UcmVlKGEuYWRkZWROb2Rlcyk7Yi5mb3JFYWNoKHRoaXMuYWRkRWxlbWVudCx0aGlzKTt2YXIgYz10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoYS5yZW1vdmVkTm9kZXMpO2MuZm9yRWFjaCh0aGlzLnJlbW92ZUVsZW1lbnQsdGhpcyl9ZWxzZSJhdHRyaWJ1dGVzIj09PWEudHlwZSYmdGhpcy5lbGVtZW50Q2hhbmdlZChhLnRhcmdldCxhLm9sZFZhbHVlKX19LGd8fChiLnByb3RvdHlwZS53YXRjaFN1YnRyZWU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlBvaW50ZXJFdmVudHNQb2x5ZmlsbDogTXV0YXRpb25PYnNlcnZlcnMgbm90IGZvdW5kLCB0b3VjaC1hY3Rpb24gd2lsbCBub3QgYmUgZHluYW1pY2FsbHkgZGV0ZWN0ZWQiKX0pLGEuSW5zdGFsbGVyPWJ9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPWIucG9pbnRlcm1hcCxkPTI1LGU9e1BPSU5URVJfSUQ6MSxQT0lOVEVSX1RZUEU6Im1vdXNlIixldmVudHM6WyJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2VvdmVyIiwibW91c2VvdXQiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtiLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtiLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxsYXN0VG91Y2hlczpbXSxpc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMubGFzdFRvdWNoZXMsZT1hLmNsaWVudFgsZj1hLmNsaWVudFksZz0wLGg9Yy5sZW5ndGg7aD5nJiYoYj1jW2ddKTtnKyspe3ZhciBpPU1hdGguYWJzKGUtYi54KSxqPU1hdGguYWJzKGYtYi55KTtpZihkPj1pJiZkPj1qKXJldHVybiEwfX0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBjPWIuY2xvbmVFdmVudChhKSxkPWMucHJldmVudERlZmF1bHQ7cmV0dXJuIGMucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXthLnByZXZlbnREZWZhdWx0KCksZCgpfSxjLnBvaW50ZXJJZD10aGlzLlBPSU5URVJfSUQsYy5pc1ByaW1hcnk9ITAsYy5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSxjfSxtb3VzZWRvd246ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGQ9Yy5oYXModGhpcy5QT0lOVEVSX0lEKTtkJiZ0aGlzLmNhbmNlbChhKTt2YXIgZT10aGlzLnByZXBhcmVFdmVudChhKTtjLnNldCh0aGlzLlBPSU5URVJfSUQsYSksYi5kb3duKGUpfX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goYSkpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IubW92ZShjKX19LG1vdXNldXA6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGQ9Yy5nZXQodGhpcy5QT0lOVEVSX0lEKTtpZihkJiZkLmJ1dHRvbj09PWEuYnV0dG9uKXt2YXIgZT10aGlzLnByZXBhcmVFdmVudChhKTtiLnVwKGUpLHRoaXMuY2xlYW51cE1vdXNlKCl9fX0sbW91c2VvdmVyOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goYSkpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZW50ZXJPdmVyKGMpfX0sbW91c2VvdXQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5sZWF2ZU91dChjKX19LGNhbmNlbDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmNhbmNlbChjKSx0aGlzLmNsZWFudXBNb3VzZSgpfSxjbGVhbnVwTW91c2U6ZnVuY3Rpb24oKXtjWyJkZWxldGUiXSh0aGlzLlBPSU5URVJfSUQpfX07YS5tb3VzZUV2ZW50cz1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYixjPWEuZGlzcGF0Y2hlcixkPWEuZmluZFRhcmdldCxlPWEudGFyZ2V0RmluZGluZy5hbGxTaGFkb3dzLmJpbmQoYS50YXJnZXRGaW5kaW5nKSxmPWMucG9pbnRlcm1hcCxnPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLGg9MjUwMCxpPTIwMCxqPSJ0b3VjaC1hY3Rpb24iLGs9ITEsbD17c2Nyb2xsVHlwZTpuZXcgV2Vha01hcCxldmVudHM6WyJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2s/Yy5saXN0ZW4oYSx0aGlzLmV2ZW50cyk6Yi5lbmFibGVPblN1YnRyZWUoYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7ayYmYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sZWxlbWVudEFkZGVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKGopLGQ9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShiKTtkJiYodGhpcy5zY3JvbGxUeXBlLnNldChhLGQpLGMubGlzdGVuKGEsdGhpcy5ldmVudHMpLGUoYSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksYy5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHRoaXMpKX0sZWxlbWVudFJlbW92ZWQ6ZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlWyJkZWxldGUiXShhKSxjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpLGUoYSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGEpLGMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHRoaXMpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKGopLGQ9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShjKSxmPXRoaXMudG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGUoYik7ZCYmZj8odGhpcy5zY3JvbGxUeXBlLnNldChhLGQpLGUoYSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCl9LHRoaXMpKTpmP3RoaXMuZWxlbWVudFJlbW92ZWQoYSk6ZCYmdGhpcy5lbGVtZW50QWRkZWQoYSl9LHNjcm9sbFR5cGVzOntFTUlUVEVSOiJub25lIixYU0NST0xMRVI6InBhbi14IixZU0NST0xMRVI6InBhbi15IixTQ1JPTExFUjovXig/OnBhbi14IHBhbi15KXwoPzpwYW4teSBwYW4teCl8YXV0byQvfSx0b3VjaEFjdGlvblRvU2Nyb2xsVHlwZTpmdW5jdGlvbihhKXt2YXIgYj1hLGM9dGhpcy5zY3JvbGxUeXBlcztyZXR1cm4ibm9uZSI9PT1iPyJub25lIjpiPT09Yy5YU0NST0xMRVI/IlgiOmI9PT1jLllTQ1JPTExFUj8iWSI6Yy5TQ1JPTExFUi5leGVjKGIpPyJYWSI6dm9pZCAwfSxQT0lOVEVSX1RZUEU6InRvdWNoIixmaXJzdFRvdWNoOm51bGwsaXNQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlyc3RUb3VjaD09PWEuaWRlbnRpZmllcn0sc2V0UHJpbWFyeVRvdWNoOmZ1bmN0aW9uKGEpeygwPT09Zi5wb2ludGVycygpfHwxPT09Zi5wb2ludGVycygpJiZmLmhhcygxKSkmJih0aGlzLmZpcnN0VG91Y2g9YS5pZGVudGlmaWVyLHRoaXMuZmlyc3RYWT17WDphLmNsaWVudFgsWTphLmNsaWVudFl9LHRoaXMuc2Nyb2xsaW5nPSExLHRoaXMuY2FuY2VsUmVzZXRDbGlja0NvdW50KCkpfSxyZW1vdmVQcmltYXJ5UG9pbnRlcjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmKHRoaXMuZmlyc3RUb3VjaD1udWxsLHRoaXMuZmlyc3RYWT1udWxsLHRoaXMucmVzZXRDbGlja0NvdW50KCkpfSxjbGlja0NvdW50OjAscmVzZXRJZDpudWxsLHJlc2V0Q2xpY2tDb3VudDpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5jbGlja0NvdW50PTAsdGhpcy5yZXNldElkPW51bGx9LmJpbmQodGhpcyk7dGhpcy5yZXNldElkPXNldFRpbWVvdXQoYSxpKX0sY2FuY2VsUmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dGhpcy5yZXNldElkJiZjbGVhclRpbWVvdXQodGhpcy5yZXNldElkKX0sdG91Y2hUb1BvaW50ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5jbG9uZUV2ZW50KGEpO3JldHVybiBiLnBvaW50ZXJJZD1hLmlkZW50aWZpZXIrMixiLnRhcmdldD1kKGIpLGIuYnViYmxlcz0hMCxiLmNhbmNlbGFibGU9ITAsYi5kZXRhaWw9dGhpcy5jbGlja0NvdW50LGIuYnV0dG9uPTAsYi5idXR0b25zPTEsYi53aWR0aD1hLndlYmtpdFJhZGl1c1h8fGEucmFkaXVzWHx8MCxiLmhlaWdodD1hLndlYmtpdFJhZGl1c1l8fGEucmFkaXVzWXx8MCxiLnByZXNzdXJlPWEud2Via2l0Rm9yY2V8fGEuZm9yY2V8fC41LGIuaXNQcmltYXJ5PXRoaXMuaXNQcmltYXJ5VG91Y2goYSksYi5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSxifSxwcm9jZXNzVG91Y2hlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEuY2hhbmdlZFRvdWNoZXMsZD1nKGMsdGhpcy50b3VjaFRvUG9pbnRlcix0aGlzKTtkLmZvckVhY2goZnVuY3Rpb24oYil7Yi5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsaW5nPSExLHRoaXMuZmlyc3RYWT1udWxsLGEucHJldmVudERlZmF1bHQoKX19LHRoaXMpLGQuZm9yRWFjaChiLHRoaXMpfSxzaG91bGRTY3JvbGw6ZnVuY3Rpb24oYSl7aWYodGhpcy5maXJzdFhZKXt2YXIgYixjPXRoaXMuc2Nyb2xsVHlwZS5nZXQoYS5jdXJyZW50VGFyZ2V0KTtpZigibm9uZSI9PT1jKWI9ITE7ZWxzZSBpZigiWFkiPT09YyliPSEwO2Vsc2V7dmFyIGQ9YS5jaGFuZ2VkVG91Y2hlc1swXSxlPWMsZj0iWSI9PT1jPyJYIjoiWSIsZz1NYXRoLmFicyhkWyJjbGllbnQiK2VdLXRoaXMuZmlyc3RYWVtlXSksaD1NYXRoLmFicyhkWyJjbGllbnQiK2ZdLXRoaXMuZmlyc3RYWVtmXSk7Yj1nPj1ofXJldHVybiB0aGlzLmZpcnN0WFk9bnVsbCxifX0sZmluZFRvdWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGM9YVtkXSk7ZCsrKWlmKGMuaWRlbnRpZmllcj09PWIpcmV0dXJuITB9LHZhY3V1bVRvdWNoZXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS50b3VjaGVzO2lmKGYucG9pbnRlcnMoKT49Yi5sZW5ndGgpe3ZhciBjPVtdO2YuZm9yRWFjaChmdW5jdGlvbihhLGQpe2lmKDEhPT1kJiYhdGhpcy5maW5kVG91Y2goYixkLTIpKXt2YXIgZT1hLm91dDtjLnB1c2godGhpcy50b3VjaFRvUG9pbnRlcihlKSl9fSx0aGlzKSxjLmZvckVhY2godGhpcy5jYW5jZWxPdXQsdGhpcyl9fSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGEpe3RoaXMudmFjdXVtVG91Y2hlcyhhKSx0aGlzLnNldFByaW1hcnlUb3VjaChhLmNoYW5nZWRUb3VjaGVzWzBdKSx0aGlzLmRlZHVwU3ludGhNb3VzZShhKSx0aGlzLnNjcm9sbGluZ3x8KHRoaXMuY2xpY2tDb3VudCsrLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLm92ZXJEb3duKSl9LG92ZXJEb3duOmZ1bmN0aW9uKGEpe2Yuc2V0KGEucG9pbnRlcklkLHt0YXJnZXQ6YS50YXJnZXQsb3V0OmEsb3V0VGFyZ2V0OmEudGFyZ2V0fSk7Yy5vdmVyKGEpLGMuZG93bihhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwodGhpcy5zaG91bGRTY3JvbGwoYSk/KHRoaXMuc2Nyb2xsaW5nPSEwLHRoaXMudG91Y2hjYW5jZWwoYSkpOihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMubW92ZU92ZXJPdXQpKSl9LG1vdmVPdmVyT3V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEsZD1mLmdldChiLnBvaW50ZXJJZCk7aWYoZCl7dmFyIGU9ZC5vdXQsZz1kLm91dFRhcmdldDtjLm1vdmUoYiksZSYmZyE9PWIudGFyZ2V0JiYoZS5yZWxhdGVkVGFyZ2V0PWIudGFyZ2V0LGIucmVsYXRlZFRhcmdldD1nLGUudGFyZ2V0PWcsYi50YXJnZXQ/KGMubGVhdmVPdXQoZSksYy5lbnRlck92ZXIoYikpOihiLnRhcmdldD1nLGIucmVsYXRlZFRhcmdldD1udWxsLHRoaXMuY2FuY2VsT3V0KGIpKSksZC5vdXQ9YixkLm91dFRhcmdldD1iLnRhcmdldH19LHRvdWNoZW5kOmZ1bmN0aW9uKGEpe3RoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLnVwT3V0KX0sdXBPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxpbmd8fChjLnVwKGEpLGMub3V0KGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksdGhpcy5jbGVhblVwUG9pbnRlcihhKX0sY2xlYW5VcFBvaW50ZXI6ZnVuY3Rpb24oYSl7ZlsiZGVsZXRlIl0oYS5wb2ludGVySWQpLHRoaXMucmVtb3ZlUHJpbWFyeVBvaW50ZXIoYSl9LGRlZHVwU3ludGhNb3VzZTpmdW5jdGlvbihiKXt2YXIgYz1hLm1vdXNlRXZlbnRzLmxhc3RUb3VjaGVzLGQ9Yi5jaGFuZ2VkVG91Y2hlc1swXTtpZih0aGlzLmlzUHJpbWFyeVRvdWNoKGQpKXt2YXIgZT17eDpkLmNsaWVudFgseTpkLmNsaWVudFl9O2MucHVzaChlKTt2YXIgZj1mdW5jdGlvbihhLGIpe3ZhciBjPWEuaW5kZXhPZihiKTtjPi0xJiZhLnNwbGljZShjLDEpfS5iaW5kKG51bGwsYyxlKTtzZXRUaW1lb3V0KGYsaCl9fX07a3x8KGI9bmV3IGEuSW5zdGFsbGVyKGwuZWxlbWVudEFkZGVkLGwuZWxlbWVudFJlbW92ZWQsbC5lbGVtZW50Q2hhbmdlZCxsKSksYS50b3VjaEV2ZW50cz1sfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1iLnBvaW50ZXJtYXAsZD13aW5kb3cuTVNQb2ludGVyRXZlbnQmJiJudW1iZXIiPT10eXBlb2Ygd2luZG93Lk1TUG9pbnRlckV2ZW50Lk1TUE9JTlRFUl9UWVBFX01PVVNFLGU9e2V2ZW50czpbIk1TUG9pbnRlckRvd24iLCJNU1BvaW50ZXJNb3ZlIiwiTVNQb2ludGVyVXAiLCJNU1BvaW50ZXJPdXQiLCJNU1BvaW50ZXJPdmVyIiwiTVNQb2ludGVyQ2FuY2VsIiwiTVNHb3RQb2ludGVyQ2FwdHVyZSIsIk1TTG9zdFBvaW50ZXJDYXB0dXJlIl0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sUE9JTlRFUl9UWVBFUzpbIiIsInVuYXZhaWxhYmxlIiwidG91Y2giLCJwZW4iLCJtb3VzZSJdLHByZXBhcmVFdmVudDpmdW5jdGlvbihhKXt2YXIgYz1hO3JldHVybiBkJiYoYz1iLmNsb25lRXZlbnQoYSksYy5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRVNbYS5wb2ludGVyVHlwZV0pLGN9LGNsZWFudXA6ZnVuY3Rpb24oYSl7Y1siZGVsZXRlIl0oYSl9LE1TUG9pbnRlckRvd246ZnVuY3Rpb24oYSl7Yy5zZXQoYS5wb2ludGVySWQsYSk7dmFyIGQ9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5kb3duKGQpfSxNU1BvaW50ZXJNb3ZlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IubW92ZShjKX0sTVNQb2ludGVyVXA6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi51cChjKSx0aGlzLmNsZWFudXAoYS5wb2ludGVySWQpfSxNU1BvaW50ZXJPdXQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5sZWF2ZU91dChjKX0sTVNQb2ludGVyT3ZlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmVudGVyT3ZlcihjKX0sTVNQb2ludGVyQ2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cChhLnBvaW50ZXJJZCl9LE1TTG9zdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGEpe3ZhciBjPWIubWFrZUV2ZW50KCJsb3N0cG9pbnRlcmNhcHR1cmUiLGEpO2IuZGlzcGF0Y2hFdmVudChjKX0sTVNHb3RQb2ludGVyQ2FwdHVyZTpmdW5jdGlvbihhKXt2YXIgYz1iLm1ha2VFdmVudCgiZ290cG9pbnRlcmNhcHR1cmUiLGEpO2IuZGlzcGF0Y2hFdmVudChjKX19O2EubXNFdmVudHM9ZX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyO2lmKHZvaWQgMD09PXdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJwb2ludGVyRW5hYmxlZCIse3ZhbHVlOiEwLGVudW1lcmFibGU6ITB9KSx3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpe3ZhciBjPXdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cztPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Lm5hdmlnYXRvciwibWF4VG91Y2hQb2ludHMiLHt2YWx1ZTpjLGVudW1lcmFibGU6ITB9KSxiLnJlZ2lzdGVyU291cmNlKCJtcyIsYS5tc0V2ZW50cyl9ZWxzZSBiLnJlZ2lzdGVyU291cmNlKCJtb3VzZSIsYS5tb3VzZUV2ZW50cyksdm9pZCAwIT09d2luZG93Lm9udG91Y2hzdGFydCYmYi5yZWdpc3RlclNvdXJjZSgidG91Y2giLGEudG91Y2hFdmVudHMpO2IucmVnaXN0ZXIoZG9jdW1lbnQpfX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZighZS5wb2ludGVybWFwLmhhcyhhKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRQb2ludGVySWQiKX12YXIgYyxkLGU9YS5kaXNwYXRjaGVyLGY9d2luZG93Lm5hdmlnYXRvcjtmLm1zUG9pbnRlckVuYWJsZWQ/KGM9ZnVuY3Rpb24oYSl7YihhKSx0aGlzLm1zU2V0UG9pbnRlckNhcHR1cmUoYSl9LGQ9ZnVuY3Rpb24oYSl7YihhKSx0aGlzLm1zUmVsZWFzZVBvaW50ZXJDYXB0dXJlKGEpfSk6KGM9ZnVuY3Rpb24oYSl7YihhKSxlLnNldENhcHR1cmUoYSx0aGlzKX0sZD1mdW5jdGlvbihhKXtiKGEpLGUucmVsZWFzZUNhcHR1cmUoYSx0aGlzKX0pLHdpbmRvdy5FbGVtZW50JiYhRWxlbWVudC5wcm90b3R5cGUuc2V0UG9pbnRlckNhcHR1cmUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzZXRQb2ludGVyQ2FwdHVyZTp7dmFsdWU6Y30scmVsZWFzZVBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpkfX0pfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxQb2ludGVyR2VzdHVyZUV2ZW50LnByb3RvdHlwZS5wcmV2ZW50VGFwPWZ1bmN0aW9uKCl7dGhpcy50YXBQcmV2ZW50ZWQ9ITB9LGZ1bmN0aW9uKGEpe2E9YXx8e30sYS51dGlscz17TENBOntmaW5kOmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGE7aWYoYS5jb250YWlucyl7aWYoYS5jb250YWlucyhiKSlyZXR1cm4gYTtpZihiLmNvbnRhaW5zKGEpKXJldHVybiBifXZhciBjPXRoaXMuZGVwdGgoYSksZD10aGlzLmRlcHRoKGIpLGU9Yy1kO2ZvcihlPjA/YT10aGlzLndhbGsoYSxlKTpiPXRoaXMud2FsayhiLC1lKTthJiZiJiZhIT09YjspYT10aGlzLndhbGsoYSwxKSxiPXRoaXMud2FsayhiLDEpO3JldHVybiBhfSx3YWxrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrKylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX0sZGVwdGg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YTspYisrLGE9YS5wYXJlbnROb2RlO3JldHVybiBifX19LGEuZmluZExDQT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnV0aWxzLkxDQS5maW5kKGIsYyl9LHdpbmRvdy5Qb2ludGVyR2VzdHVyZXM9YX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2lmKGMpe3ZhciBhPW5ldyBNYXA7cmV0dXJuIGEucG9pbnRlcnM9ZCxhfXRoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX12YXIgYz13aW5kb3cuTWFwJiZ3aW5kb3cuTWFwLnByb3RvdHlwZS5mb3JFYWNoLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfTtiLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yz4tMT90aGlzLnZhbHVlc1tjXT1iOih0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKX0saGFzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmtleXMuaW5kZXhPZihhKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yj4tMSYmKHRoaXMua2V5cy5zcGxpY2UoYiwxKSx0aGlzLnZhbHVlcy5zcGxpY2UoYiwxKSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gdGhpcy52YWx1ZXNbYl19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5rZXlzLmxlbmd0aD0wLHRoaXMudmFsdWVzLmxlbmd0aD0wfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihjLGQpe2EuY2FsbChiLGMsdGhpcy5rZXlzW2RdLHRoaXMpfSx0aGlzKX0scG9pbnRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19LGEuUG9pbnRlck1hcD1ifSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1bImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsImRldGFpbCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwiYnV0dG9uIiwicmVsYXRlZFRhcmdldCIsImJ1dHRvbnMiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaHdUaW1lc3RhbXAiLCJpc1ByaW1hcnkiLCJ0eXBlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInNjcmVlblgiLCJzY3JlZW5ZIiwicGFnZVgiLCJwYWdlWSIsInRhcFByZXZlbnRlZCJdLGM9WyExLCExLG51bGwsbnVsbCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCwwLDAsMCwwLDAsMCwwLCIiLDAsITEsIiIsbnVsbCxudWxsLDAsMCwwLDBdLGQ9e2hhbmRsZWRFdmVudHM6bmV3IFdlYWtNYXAsdGFyZ2V0czpuZXcgV2Vha01hcCxoYW5kbGVyczp7fSxyZWNvZ25pemVyczp7fSxldmVudHM6e30scmVnaXN0ZXJSZWNvZ25pemVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yjt0aGlzLnJlY29nbml6ZXJzW2FdPWMsYy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbihhKXtpZihjW2FdKXt0aGlzLmV2ZW50c1thXT0hMDt2YXIgYj1jW2FdLmJpbmQoYyk7dGhpcy5hZGRIYW5kbGVyKGEsYil9fSx0aGlzKX0sYWRkSGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWE7dGhpcy5oYW5kbGVyc1tjXXx8KHRoaXMuaGFuZGxlcnNbY109W10pLHRoaXMuaGFuZGxlcnNbY10ucHVzaChiKX0scmVnaXN0ZXJUYXJnZXQ6ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW4oT2JqZWN0LmtleXModGhpcy5ldmVudHMpLGEpfSx1bnJlZ2lzdGVyVGFyZ2V0OmZ1bmN0aW9uKGEpe3RoaXMudW5saXN0ZW4oT2JqZWN0LmtleXModGhpcy5ldmVudHMpLGEpfSxldmVudEhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFuZGxlZEV2ZW50cy5nZXQoYSkpe3ZhciBiPWEudHlwZSxjPXRoaXMuaGFuZGxlcnNbYl07YyYmdGhpcy5tYWtlUXVldWUoYyxhKSx0aGlzLmhhbmRsZWRFdmVudHMuc2V0KGEsITApfX0sbWFrZVF1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jbG9uZUV2ZW50KGIpO3NldFRpbWVvdXQodGhpcy5ydW5RdWV1ZS5iaW5kKHRoaXMsYSxjKSwwKX0scnVuUXVldWU6ZnVuY3Rpb24oYSxiKXt0aGlzLmN1cnJlbnRQb2ludGVySWQ9Yi5wb2ludGVySWQ7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGM9YVtkXSk7ZCsrKWMoYik7dGhpcy5jdXJyZW50UG9pbnRlcklkPTB9LGxpc3RlbjpmdW5jdGlvbihhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmFkZEV2ZW50KGEsdGhpcy5ib3VuZEhhbmRsZXIsITEsYil9LHRoaXMpfSx1bmxpc3RlbjpmdW5jdGlvbihhKXthLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVFdmVudChhLHRoaXMuYm91bmRIYW5kbGVyLCExLGluVGFyZ2V0KX0sdGhpcyl9LGFkZEV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe2QuYWRkRXZlbnRMaXN0ZW5lcihhLGIsYyl9LHJlbW92ZUV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyl9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgUG9pbnRlckdlc3R1cmVFdmVudChhLGIpfSxjbG9uZUV2ZW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZCxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKylkPWJbZl0sZVtkXT1hW2RdfHxjW2ZdO3JldHVybiBlfSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8dGhpcy50YXJnZXRzLmdldChhKTtjJiYoYy5kaXNwYXRjaEV2ZW50KGEpLGEudGFwUHJldmVudGVkJiZ0aGlzLnByZXZlbnRUYXAodGhpcy5jdXJyZW50UG9pbnRlcklkKSl9LGFzeW5jRGlzcGF0Y2hFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KGEsYil9LmJpbmQodGhpcyk7c2V0VGltZW91dChjLDApfSxwcmV2ZW50VGFwOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucmVjb2duaXplcnMudGFwO2ImJmIucHJldmVudFRhcChhKX19O2QuYm91bmRIYW5kbGVyPWQuZXZlbnRIYW5kbGVyLmJpbmQoZCksYS5kaXNwYXRjaGVyPWQ7dmFyIGU9W10sZj0hMTthLnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe2lmKGYpe3ZhciBjPXdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw7YyYmYy5yZWdpc3RlcihiKSxhLmRpc3BhdGNoZXIucmVnaXN0ZXJUYXJnZXQoYil9ZWxzZSBlLnB1c2goYil9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7Zj0hMCxlLnB1c2goZG9jdW1lbnQpLGUuZm9yRWFjaChhLnJlZ2lzdGVyKX0pfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17SE9MRF9ERUxBWToyMDAsV0lHR0xFX1RIUkVTSE9MRDoxNixldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLGhlbGRQb2ludGVyOm51bGwsaG9sZEpvYjpudWxsLHB1bHNlOmZ1bmN0aW9uKCl7dmFyIGE9RGF0ZS5ub3coKS10aGlzLmhlbGRQb2ludGVyLnRpbWVTdGFtcCxiPXRoaXMuaGVsZD8iaG9sZHB1bHNlIjoiaG9sZCI7dGhpcy5maXJlSG9sZChiLGEpLHRoaXMuaGVsZD0hMH0sY2FuY2VsOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmhvbGRKb2IpLHRoaXMuaGVsZCYmdGhpcy5maXJlSG9sZCgicmVsZWFzZSIpLHRoaXMuaGVsZD0hMSx0aGlzLmhlbGRQb2ludGVyPW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmhvbGRKb2I9bnVsbH0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiF0aGlzLmhlbGRQb2ludGVyJiYodGhpcy5oZWxkUG9pbnRlcj1hLHRoaXMudGFyZ2V0PWEudGFyZ2V0LHRoaXMuaG9sZEpvYj1zZXRJbnRlcnZhbCh0aGlzLnB1bHNlLmJpbmQodGhpcyksdGhpcy5IT0xEX0RFTEFZKSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkJiZ0aGlzLmNhbmNlbCgpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKQp9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaGVsZFBvaW50ZXImJnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkPT09YS5wb2ludGVySWQpe3ZhciBiPWEuY2xpZW50WC10aGlzLmhlbGRQb2ludGVyLmNsaWVudFgsYz1hLmNsaWVudFktdGhpcy5oZWxkUG9pbnRlci5jbGllbnRZO2IqYitjKmM+dGhpcy5XSUdHTEVfVEhSRVNIT0xEJiZ0aGlzLmNhbmNlbCgpfX0sZmlyZUhvbGQ6ZnVuY3Rpb24oYSxjKXt2YXIgZD17cG9pbnRlclR5cGU6dGhpcy5oZWxkUG9pbnRlci5wb2ludGVyVHlwZX07YyYmKGQuaG9sZFRpbWU9Yyk7dmFyIGU9Yi5tYWtlRXZlbnQoYSxkKTtiLmRpc3BhdGNoRXZlbnQoZSx0aGlzLnRhcmdldCksZS50YXBQcmV2ZW50ZWQmJmIucHJldmVudFRhcCh0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZCl9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigiaG9sZCIsYyl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPW5ldyBhLlBvaW50ZXJNYXAsZD17ZXZlbnRzOlsicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiXSxXSUdHTEVfVEhSRVNIT0xEOjQsY2xhbXBEaXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE+MD8xOi0xfSxjYWxjUG9zaXRpb25EZWx0YTpmdW5jdGlvbihhLGIpe3ZhciBjPTAsZD0wO3JldHVybiBhJiZiJiYoYz1iLnBhZ2VYLWEucGFnZVgsZD1iLnBhZ2VZLWEucGFnZVkpLHt4OmMseTpkfX0sZmlyZVRyYWNrOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kLGY9dGhpcy5jYWxjUG9zaXRpb25EZWx0YShlLmRvd25FdmVudCxjKSxnPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoZS5sYXN0TW92ZUV2ZW50LGMpO2cueCYmKGUueERpcmVjdGlvbj10aGlzLmNsYW1wRGlyKGcueCkpLGcueSYmKGUueURpcmVjdGlvbj10aGlzLmNsYW1wRGlyKGcueSkpO3ZhciBoPXtkeDpmLngsZHk6Zi55LGRkeDpnLngsZGR5OmcueSxjbGllbnRYOmMuY2xpZW50WCxjbGllbnRZOmMuY2xpZW50WSxwYWdlWDpjLnBhZ2VYLHBhZ2VZOmMucGFnZVksc2NyZWVuWDpjLnNjcmVlblgsc2NyZWVuWTpjLnNjcmVlblkseERpcmVjdGlvbjplLnhEaXJlY3Rpb24seURpcmVjdGlvbjplLnlEaXJlY3Rpb24sdHJhY2tJbmZvOmUudHJhY2tJbmZvLHJlbGF0ZWRUYXJnZXQ6Yy50YXJnZXQscG9pbnRlclR5cGU6Yy5wb2ludGVyVHlwZX0saT1iLm1ha2VFdmVudChhLGgpO2UubGFzdE1vdmVFdmVudD1jLGIuZGlzcGF0Y2hFdmVudChpLGUuZG93blRhcmdldCl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2lmKGEuaXNQcmltYXJ5JiYoIm1vdXNlIj09PWEucG9pbnRlclR5cGU/MT09PWEuYnV0dG9uczohMCkpe3ZhciBiPXtkb3duRXZlbnQ6YSxkb3duVGFyZ2V0OmEudGFyZ2V0LHRyYWNrSW5mbzp7fSxsYXN0TW92ZUV2ZW50Om51bGwseERpcmVjdGlvbjowLHlEaXJlY3Rpb246MCx0cmFja2luZzohMX07Yy5zZXQoYS5wb2ludGVySWQsYil9fSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7aWYoYilpZihiLnRyYWNraW5nKXRoaXMuZmlyZVRyYWNrKCJ0cmFjayIsYSxiKTtlbHNle3ZhciBkPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoYi5kb3duRXZlbnQsYSksZT1kLngqZC54K2QueSpkLnk7ZT50aGlzLldJR0dMRV9USFJFU0hPTEQmJihiLnRyYWNraW5nPSEwLHRoaXMuZmlyZVRyYWNrKCJ0cmFja3N0YXJ0IixiLmRvd25FdmVudCxiKSx0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYikpfX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3ZhciBiPWMuZ2V0KGEucG9pbnRlcklkKTtiJiYoYi50cmFja2luZyYmdGhpcy5maXJlVHJhY2soInRyYWNrZW5kIixhLGIpLGMuZGVsZXRlKGEucG9pbnRlcklkKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigidHJhY2siLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17TUlOX1ZFTE9DSVRZOi41LE1BWF9RVUVVRTo0LG1vdmVRdWV1ZTpbXSx0YXJnZXQ6bnVsbCxwb2ludGVySWQ6bnVsbCxldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYhdGhpcy5wb2ludGVySWQmJih0aGlzLnBvaW50ZXJJZD1hLnBvaW50ZXJJZCx0aGlzLnRhcmdldD1hLnRhcmdldCx0aGlzLmFkZE1vdmUoYSkpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmFkZE1vdmUoYSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmZpcmVGbGljayhhKSx0aGlzLmNsZWFudXAoKX0scG9pbnRlcmNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2xlYW51cCgpfSxjbGVhbnVwOmZ1bmN0aW9uKCl7dGhpcy5tb3ZlUXVldWU9W10sdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnBvaW50ZXJJZD1udWxsfSxhZGRNb3ZlOmZ1bmN0aW9uKGEpe3RoaXMubW92ZVF1ZXVlLmxlbmd0aD49dGhpcy5NQVhfUVVFVUUmJnRoaXMubW92ZVF1ZXVlLnNoaWZ0KCksdGhpcy5tb3ZlUXVldWUucHVzaChhKX0sZmlyZUZsaWNrOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkLGUsZixnLGgsaSxqPWEsaz10aGlzLm1vdmVRdWV1ZS5sZW5ndGgsbD0wLG09MCxuPTAsbz0wO2s+byYmKGk9dGhpcy5tb3ZlUXVldWVbb10pO28rKyljPWoudGltZVN0YW1wLWkudGltZVN0YW1wLGQ9ai5jbGllbnRYLWkuY2xpZW50WCxlPWouY2xpZW50WS1pLmNsaWVudFksZj1kL2MsZz1lL2MsaD1NYXRoLnNxcnQoZipmK2cqZyksaD5uJiYobD1mLG09ZyxuPWgpO3ZhciBwPU1hdGguYWJzKGwpPk1hdGguYWJzKG0pPyJ4IjoieSIscT10aGlzLmNhbGNBbmdsZShsLG0pO2lmKE1hdGguYWJzKG4pPj10aGlzLk1JTl9WRUxPQ0lUWSl7dmFyIHI9Yi5tYWtlRXZlbnQoImZsaWNrIix7eFZlbG9jaXR5OmwseVZlbG9jaXR5Om0sdmVsb2NpdHk6bixhbmdsZTpxLG1ham9yQXhpczpwLHBvaW50ZXJUeXBlOmEucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQocix0aGlzLnRhcmdldCl9fSxjYWxjQW5nbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMTgwKk1hdGguYXRhbjIoYixhKS9NYXRoLlBJfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImZsaWNrIixjKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPTE4MC9NYXRoLlBJLGU9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0scmVmZXJlbmNlOnt9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKGIpe2lmKGMuc2V0KGIucG9pbnRlcklkLGIpLDI9PWMucG9pbnRlcnMoKSl7dmFyIGQ9dGhpcy5jYWxjQ2hvcmQoKSxlPXRoaXMuY2FsY0FuZ2xlKGQpO3RoaXMucmVmZXJlbmNlPXthbmdsZTplLGRpYW1ldGVyOmQuZGlhbWV0ZXIsdGFyZ2V0OmEuZmluZExDQShkLmEudGFyZ2V0LGQuYi50YXJnZXQpfX19LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXtjLmRlbGV0ZShhLnBvaW50ZXJJZCl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKGEpe2MuaGFzKGEucG9pbnRlcklkKSYmKGMuc2V0KGEucG9pbnRlcklkLGEpLGMucG9pbnRlcnMoKT4xJiZ0aGlzLmNhbGNQaW5jaFJvdGF0ZSgpKX0scG9pbnRlcmNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnBvaW50ZXJ1cChhKX0sZGlzcGF0Y2hQaW5jaDpmdW5jdGlvbihhLGMpe3ZhciBkPWEvdGhpcy5yZWZlcmVuY2UuZGlhbWV0ZXIsZT1iLm1ha2VFdmVudCgicGluY2giLHtzY2FsZTpkLGNlbnRlclg6Yy5jZW50ZXIueCxjZW50ZXJZOmMuY2VudGVyLnl9KTtiLmRpc3BhdGNoRXZlbnQoZSx0aGlzLnJlZmVyZW5jZS50YXJnZXQpfSxkaXNwYXRjaFJvdGF0ZTpmdW5jdGlvbihhLGMpe3ZhciBkPU1hdGgucm91bmQoKGEtdGhpcy5yZWZlcmVuY2UuYW5nbGUpJTM2MCksZT1iLm1ha2VFdmVudCgicm90YXRlIix7YW5nbGU6ZCxjZW50ZXJYOmMuY2VudGVyLngsY2VudGVyWTpjLmNlbnRlci55fSk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy5yZWZlcmVuY2UudGFyZ2V0KX0sY2FsY1BpbmNoUm90YXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWxjQ2hvcmQoKSxiPWEuZGlhbWV0ZXIsYz10aGlzLmNhbGNBbmdsZShhKTtiIT10aGlzLnJlZmVyZW5jZS5kaWFtZXRlciYmdGhpcy5kaXNwYXRjaFBpbmNoKGIsYSksYyE9dGhpcy5yZWZlcmVuY2UuYW5nbGUmJnRoaXMuZGlzcGF0Y2hSb3RhdGUoYyxhKX0sY2FsY0Nob3JkOmZ1bmN0aW9uKCl7dmFyIGE9W107Yy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EucHVzaChiKX0pO2Zvcih2YXIgYixkLGUsZj0wLGc9e30saD0wO2g8YS5sZW5ndGg7aCsrKWZvcih2YXIgaT1hW2hdLGo9aCsxO2o8YS5sZW5ndGg7aisrKXt2YXIgaz1hW2pdO2I9TWF0aC5hYnMoaS5jbGllbnRYLWsuY2xpZW50WCksZD1NYXRoLmFicyhpLmNsaWVudFktay5jbGllbnRZKSxlPWIrZCxlPmYmJihmPWUsZz17YTppLGI6a30pfXJldHVybiBiPU1hdGguYWJzKGcuYS5jbGllbnRYK2cuYi5jbGllbnRYKS8yLGQ9TWF0aC5hYnMoZy5hLmNsaWVudFkrZy5iLmNsaWVudFkpLzIsZy5jZW50ZXI9e3g6Yix5OmR9LGcuZGlhbWV0ZXI9ZixnfSxjYWxjQW5nbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hLmNsaWVudFgtYS5iLmNsaWVudFgsYz1hLmEuY2xpZW50WS1hLmIuY2xpZW50WTtyZXR1cm4oMzYwK01hdGguYXRhbjIoYyxiKSpkKSUzNjB9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigicGluY2giLGUpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1uZXcgYS5Qb2ludGVyTWFwLGQ9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwia2V5dXAiXSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIWEudGFwUHJldmVudGVkJiZjLnNldChhLnBvaW50ZXJJZCx7dGFyZ2V0OmEudGFyZ2V0LHg6YS5jbGllbnRYLHk6YS5jbGllbnRZfSl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKGEpe2lmKGEuaXNQcmltYXJ5KXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7YiYmYS50YXBQcmV2ZW50ZWQmJmMuZGVsZXRlKGEucG9pbnRlcklkKX19LHBvaW50ZXJ1cDpmdW5jdGlvbihkKXt2YXIgZT1jLmdldChkLnBvaW50ZXJJZCk7aWYoZSYmIWQudGFwUHJldmVudGVkKXt2YXIgZj1hLmZpbmRMQ0EoZS50YXJnZXQsZC50YXJnZXQpO2lmKGYpe3ZhciBnPWIubWFrZUV2ZW50KCJ0YXAiLHt4OmQuY2xpZW50WCx5OmQuY2xpZW50WSxkZXRhaWw6ZC5kZXRhaWwscG9pbnRlclR5cGU6ZC5wb2ludGVyVHlwZX0pO2IuZGlzcGF0Y2hFdmVudChnLGYpfX1jLmRlbGV0ZShkLnBvaW50ZXJJZCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxrZXl1cDpmdW5jdGlvbihhKXt2YXIgYz1hLmtleUNvZGU7aWYoMzI9PT1jKXt2YXIgZD1hLnRhcmdldDtkIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudHx8ZCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnR8fGIuZGlzcGF0Y2hFdmVudChiLm1ha2VFdmVudCgidGFwIix7eDowLHk6MCxkZXRhaWw6MCxwb2ludGVyVHlwZToidW5hdmFpbGFibGUifSksZCl9fSxwcmV2ZW50VGFwOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRhcCIsZCl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBiKGEsYil7dmFyIGM9YS5iaW5kaW5ncztpZighYylyZXR1cm4gYS5iaW5kaW5ncz17fSx2b2lkIDA7dmFyIGQ9Y1tiXTtkJiYoZC5jbG9zZSgpLGNbYl09dm9pZCAwKX1mdW5jdGlvbiBjKGEpe3JldHVybiBudWxsPT1hPyIiOmF9ZnVuY3Rpb24gZChhLGIpe2EuZGF0YT1jKGIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBkKGEsYil9fWZ1bmN0aW9uIGYoYSxiLGQsZSl7cmV0dXJuIGQ/KGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYiksdm9pZCAwKTooYS5zZXRBdHRyaWJ1dGUoYixjKGUpKSx2b2lkIDApfWZ1bmN0aW9uIGcoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtmKGEsYixjLGQpfX1mdW5jdGlvbiBoKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2UiY2hlY2tib3giOnJldHVybiBzO2Nhc2UicmFkaW8iOmNhc2Uic2VsZWN0LW11bHRpcGxlIjpjYXNlInNlbGVjdC1vbmUiOnJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaShhLGIsZCxlKXthW2JdPShlfHxjKShkKX1mdW5jdGlvbiBqKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGkoYSxiLGQsYyl9fWZ1bmN0aW9uIGsoKXt9ZnVuY3Rpb24gbChhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGspKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aChhKTthLmFkZEV2ZW50TGlzdGVuZXIoZixlKTt2YXIgZz1jLmNsb3NlO2MuY2xvc2U9ZnVuY3Rpb24oKXtnJiYoYS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZT1nLGMuY2xvc2UoKSxnPXZvaWQgMCl9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEJvb2xlYW4oYSl9ZnVuY3Rpb24gbihiKXtpZihiLmZvcm0pcmV0dXJuIHIoYi5mb3JtLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYiSU5QVVQiPT1hLnRhZ05hbWUmJiJyYWRpbyI9PWEudHlwZSYmYS5uYW1lPT1iLm5hbWV9KTt2YXIgYz1hKGIpO2lmKCFjKXJldHVybltdO3ZhciBkPWMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0icmFkaW8iXVtuYW1lPSInK2IubmFtZSsnIl0nKTtyZXR1cm4gcihkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYhYS5mb3JtfSl9ZnVuY3Rpb24gbyhhKXsiSU5QVVQiPT09YS50YWdOYW1lJiYicmFkaW8iPT09YS50eXBlJiZuKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5iaW5kaW5ncy5jaGVja2VkO2ImJmIuc2V0VmFsdWUoITEpfSl9ZnVuY3Rpb24gcChhLGIpe3ZhciBkLGUsZixnPWEucGFyZW50Tm9kZTtnIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQmJmcuYmluZGluZ3MmJmcuYmluZGluZ3MudmFsdWUmJihkPWcsZT1kLmJpbmRpbmdzLnZhbHVlLGY9ZC52YWx1ZSksYS52YWx1ZT1jKGIpLGQmJmQudmFsdWUhPWYmJihlLnNldFZhbHVlKGQudmFsdWUpLGUuZGlzY2FyZENoYW5nZXMoKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiBmdW5jdGlvbihiKXtwKGEsYil9fXZhciByPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KSxOb2RlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7Y29uc29sZS5lcnJvcigiVW5oYW5kbGVkIGJpbmRpbmcgdG8gTm9kZTogIix0aGlzLGEsYil9LE5vZGUucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhKXtiKHRoaXMsYSl9LE5vZGUucHJvdG90eXBlLnVuYmluZEFsbD1mdW5jdGlvbigpe2lmKHRoaXMuYmluZGluZ3Mpe2Zvcih2YXIgYT1PYmplY3Qua2V5cyh0aGlzLmJpbmRpbmdzKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuYmluZGluZ3NbYVtiXV07YyYmYy5jbG9zZSgpfXRoaXMuYmluZGluZ3M9e319fSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4idGV4dENvbnRlbnQiIT09YT9Ob2RlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZik6Zj9kKHRoaXMsYyk6KGIodGhpcywidGV4dENvbnRlbnQiKSxkKHRoaXMsYy5vcGVuKGUodGhpcykpKSx0aGlzLmJpbmRpbmdzLnRleHRDb250ZW50PWMpfSxFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT0iPyI9PWFbYS5sZW5ndGgtMV07cmV0dXJuIGUmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGQ/Zih0aGlzLGEsZSxjKTooYih0aGlzLGEpLGYodGhpcyxhLGUsYy5vcGVuKGcodGhpcyxhLGUpKSksdGhpcy5iaW5kaW5nc1thXT1jKX07dmFyIHM7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHM9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxkLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxkLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9tOmMsZz0iY2hlY2tlZCI9PWE/bzprO3JldHVybiBlP2kodGhpcyxhLGQsZik6KGIodGhpcyxhKSxsKHRoaXMsYSxkLGcpLGkodGhpcyxhLGQub3BlbihqKHRoaXMsYSxmKSksZiksdGhpcy5iaW5kaW5nc1thXT1kKX0sSFRNTFRleHRBcmVhRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGQsZSl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsZCxlKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZT9pKHRoaXMsInZhbHVlIixkKTooYih0aGlzLCJ2YWx1ZSIpLGwodGhpcywidmFsdWUiLGQpLGkodGhpcywidmFsdWUiLGQub3BlbihqKHRoaXMsInZhbHVlIixjKSkpLHRoaXMuYmluZGluZ3MudmFsdWU9ZCkpfSxIVE1MT3B0aW9uRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZD9wKHRoaXMsYyk6KGIodGhpcywidmFsdWUiKSxsKHRoaXMsInZhbHVlIixjKSxwKHRoaXMsYy5vcGVuKHEodGhpcykpKSx0aGlzLmJpbmRpbmdzLnZhbHVlPWMpKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZD9pKHRoaXMsYSxjKTooYih0aGlzLGEpLGwodGhpcyxhLGMpLGkodGhpcyxhLGMub3BlbihqKHRoaXMsYSkpKSx0aGlzLmJpbmRpbmdzW2FdPWMpKX19KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKDthLnBhcmVudE5vZGV8fGEudGVtcGxhdGVDcmVhdG9yXzspYT0hYS5wYXJlbnROb2RlJiZhLnRlbXBsYXRlQ3JlYXRvcl8/YS50ZW1wbGF0ZUNyZWF0b3JfOmEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gZChhKXtmb3IoO2EucGFyZW50Tm9kZTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGEudGVtcGxhdGVDcmVhdG9yXz9hOm51bGx9ZnVuY3Rpb24gZShhKXtyZXR1cm4idGVtcGxhdGUiPT1hLnRhZ05hbWUmJiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIlRFTVBMQVRFIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIEJvb2xlYW4oSlthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gdm9pZCAwPT09YS5pc1RlbXBsYXRlXyYmKGEuaXNUZW1wbGF0ZV89IlRFTVBMQVRFIj09YS50YWdOYW1lfHxnKGEpKSxhLmlzVGVtcGxhdGVffWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoTCk7aChhKSYmYihhKSxFKGMsYil9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fGooYS5jb250ZW50KX1pKGEsYil9ZnVuY3Rpb24gayhhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuZGVmYXVsdFZpZXcpcmV0dXJuIGI7dmFyIGM9Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfO2lmKCFjKXtmb3IoYz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yy5sYXN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5sYXN0Q2hpbGQpO2IudGVtcGxhdGVDb250ZW50c093bmVyXz1jfXJldHVybiBjfWZ1bmN0aW9uIG0oYSl7aWYoIWEuc3RhZ2luZ0RvY3VtZW50Xyl7dmFyIGI9YS5vd25lckRvY3VtZW50O2Iuc3RhZ2luZ0RvY3VtZW50X3x8KGIuc3RhZ2luZ0RvY3VtZW50Xz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIiksYi5zdGFnaW5nRG9jdW1lbnRfLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRfKSxhLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffXJldHVybiBhLnN0YWdpbmdEb2N1bWVudF99ZnVuY3Rpb24gbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtJW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKX1yZXR1cm4gYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGJ9ZnVuY3Rpb24gcChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIGQuYXBwZW5kQ2hpbGQoYiksdm9pZCAwO2Zvcih2YXIgZTtlPWIuZmlyc3RDaGlsZDspZC5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBxKGEpe00/YS5fX3Byb3RvX189SFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU6ayhhLEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlKX1mdW5jdGlvbiByKGEpe2Euc2V0TW9kZWxGbl98fChhLnNldE1vZGVsRm5fPWZ1bmN0aW9uKCl7YS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMTt2YXIgYj16KGEsYS5kZWxlZ2F0ZV8mJmEuZGVsZWdhdGVfLnByZXBhcmVCaW5kaW5nKTt3KGEsYixhLm1vZGVsXyl9KSxhLnNldE1vZGVsRm5TY2hlZHVsZWRffHwoYS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMCxPYnNlcnZlci5ydW5FT01fKGEuc2V0TW9kZWxGbl8pKX1mdW5jdGlvbiBzKGEsYixjLGQpe2lmKGEmJmEubGVuZ3RoKXtmb3IodmFyIGUsZj1hLmxlbmd0aCxnPTAsaD0wLGk9MCxqPSEwO2Y+aDspe3ZhciBnPWEuaW5kZXhPZigie3siLGgpLGs9YS5pbmRleE9mKCJbWyIsaCksbD0hMSxtPSJ9fSI7aWYoaz49MCYmKDA+Z3x8Zz5rKSYmKGc9ayxsPSEwLG09Il1dIiksaT0wPmc/LTE6YS5pbmRleE9mKG0sZysyKSwwPmkpe2lmKCFlKXJldHVybjtlLnB1c2goYS5zbGljZShoKSk7YnJlYWt9ZT1lfHxbXSxlLnB1c2goYS5zbGljZShoLGcpKTt2YXIgbj1hLnNsaWNlKGcrMixpKS50cmltKCk7ZS5wdXNoKGwpLGo9aiYmbCxlLnB1c2goUGF0aC5nZXQobikpO3ZhciBvPWQmJmQobixiLGMpO2UucHVzaChvKSxoPWkrMn1yZXR1cm4gaD09PWYmJmUucHVzaCgiIiksZS5oYXNPbmVQYXRoPTU9PT1lLmxlbmd0aCxlLmlzU2ltcGxlUGF0aD1lLmhhc09uZVBhdGgmJiIiPT1lWzBdJiYiIj09ZVs0XSxlLm9ubHlPbmVUaW1lPWosZS5jb21iaW5hdG9yPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1lWzBdLGM9MTtjPGUubGVuZ3RoO2MrPTQpe3ZhciBkPWUuaGFzT25lUGF0aD9hOmFbKGMtMSkvNF07dm9pZCAwIT09ZCYmKGIrPWQpLGIrPWVbYyszXX1yZXR1cm4gYn0sZX19ZnVuY3Rpb24gdChhLGIsYyxkKXtpZihiLmhhc09uZVBhdGgpe3ZhciBlPWJbM10sZj1lP2UoZCxjLCEwKTpiWzJdLmdldFZhbHVlRnJvbShkKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpiLmNvbWJpbmF0b3IoZil9Zm9yKHZhciBnPVtdLGg9MTtoPGIubGVuZ3RoO2grPTQpe3ZhciBlPWJbaCsyXTtnWyhoLTEpLzRdPWU/ZShkLGMpOmJbaCsxXS5nZXRWYWx1ZUZyb20oZCl9cmV0dXJuIGIuY29tYmluYXRvcihnKX1mdW5jdGlvbiB1KGEsYixjLGQpe3ZhciBlPWJbM10sZj1lP2UoZCxjLCExKTpuZXcgUGF0aE9ic2VydmVyKGQsYlsyXSk7cmV0dXJuIGIuaXNTaW1wbGVQYXRoP2Y6bmV3IE9ic2VydmVyVHJhbnNmb3JtKGYsYi5jb21iaW5hdG9yKX1mdW5jdGlvbiB2KGEsYixjLGQpe2lmKGIub25seU9uZVRpbWUpcmV0dXJuIHQoYSxiLGMsZCk7aWYoYi5oYXNPbmVQYXRoKXJldHVybiB1KGEsYixjLGQpO2Zvcih2YXIgZT1uZXcgQ29tcG91bmRPYnNlcnZlcixmPTE7ZjxiLmxlbmd0aDtmKz00KXt2YXIgZz1iW2ZdLGg9YltmKzJdO2lmKGgpe3ZhciBpPWgoZCxjLGcpO2c/ZS5hZGRQYXRoKGkpOmUuYWRkT2JzZXJ2ZXIoaSl9ZWxzZXt2YXIgaj1iW2YrMV07Zz9lLmFkZFBhdGgoai5nZXRWYWx1ZUZyb20oZCkpOmUuYWRkUGF0aChkLGopfX1yZXR1cm4gbmV3IE9ic2VydmVyVHJhbnNmb3JtKGUsYi5jb21iaW5hdG9yKX1mdW5jdGlvbiB3KGEsYixjLGQpe2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSs9Mil7dmFyIGY9YltlXSxnPWJbZSsxXSxoPXYoZixnLGEsYyksaT1hLmJpbmQoZixoLGcub25seU9uZVRpbWUpO2kmJmQmJmQucHVzaChpKX1pZihiLmlzVGVtcGxhdGUpe2EubW9kZWxfPWM7dmFyIGo9YS5wcm9jZXNzQmluZGluZ0RpcmVjdGl2ZXNfKGIpO2QmJmomJmQucHVzaChqKX19ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYik7cmV0dXJuIHMoIiI9PWQ/Int7fX0iOmQsYixhLGMpfWZ1bmN0aW9uIHkoYSxjKXtiKGEpO2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPWEuYXR0cmlidXRlc1tlXSxnPWYubmFtZSxpPWYudmFsdWU7Il8iPT09Z1swXTspZz1nLnN1YnN0cmluZygxKTtpZighaChhKXx8ZyE9PUgmJmchPT1GJiZnIT09Ryl7dmFyIGo9cyhpLGcsYSxjKTtqJiZkLnB1c2goZyxqKX19cmV0dXJuIGgoYSkmJihkLmlzVGVtcGxhdGU9ITAsZC5pZj14KGEsSCxjKSxkLmJpbmQ9eChhLEYsYyksZC5yZXBlYXQ9eChhLEcsYyksIWQuaWZ8fGQuYmluZHx8ZC5yZXBlYXR8fChkLmJpbmQ9cygie3t9fSIsRixhLGMpKSksZH1mdW5jdGlvbiB6KGEsYil7aWYoYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiB5KGEsYik7aWYoYS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXt2YXIgYz1zKGEuZGF0YSwidGV4dENvbnRlbnQiLGEsYik7aWYoYylyZXR1cm5bInRleHRDb250ZW50IixjXX1yZXR1cm5bXX1mdW5jdGlvbiBBKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaD1iLmFwcGVuZENoaWxkKGMuaW1wb3J0Tm9kZShhLCExKSksaT0wLGo9YS5maXJzdENoaWxkO2o7aj1qLm5leHRTaWJsaW5nKUEoaixoLGMsZC5jaGlsZHJlbltpKytdLGUsZixnKTtyZXR1cm4gZC5pc1RlbXBsYXRlJiYoSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZShoLGEpLGYmJmguc2V0RGVsZWdhdGVfKGYpKSx3KGgsZCxlLGcpLGh9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPXooYSxiKTtjLmNoaWxkcmVuPXt9O2Zvcih2YXIgZD0wLGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWMuY2hpbGRyZW5bZCsrXT1CKGUsYik7cmV0dXJuIGN9ZnVuY3Rpb24gQyhhKXt0aGlzLmNsb3NlZD0hMSx0aGlzLnRlbXBsYXRlRWxlbWVudF89YSx0aGlzLnRlcm1pbmF0b3JzPVtdLHRoaXMuZGVwcz12b2lkIDAsdGhpcy5pdGVyYXRlZFZhbHVlPVtdLHRoaXMucHJlc2VudFZhbHVlPXZvaWQgMCx0aGlzLmFycmF5T2JzZXJ2ZXI9dm9pZCAwfXZhciBELEU9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLk1hcCYmImZ1bmN0aW9uIj09dHlwZW9mIGEuTWFwLnByb3RvdHlwZS5mb3JFYWNoP0Q9YS5NYXA6KEQ9ZnVuY3Rpb24oKXt0aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119LEQucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTswPmM/KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpOnRoaXMudmFsdWVzW2NdPWJ9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtpZighKDA+YikpcmV0dXJuIHRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7ImZ1bmN0aW9uIiE9dHlwZW9mIGRvY3VtZW50LmNvbnRhaW5zJiYoRG9jdW1lbnQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc3x8YS5wYXJlbnROb2RlPT09dGhpcz8hMDp0aGlzLmRvY3VtZW50RWxlbWVudC5jb250YWlucyhhKX0pO3ZhciBGPSJiaW5kIixHPSJyZXBlYXQiLEg9ImlmIixJPXt0ZW1wbGF0ZTohMCxyZXBlYXQ6ITAsYmluZDohMCxyZWY6ITB9LEo9e1RIRUFEOiEwLFRCT0RZOiEwLFRGT09UOiEwLFRIOiEwLFRSOiEwLFREOiEwLENPTEdST1VQOiEwLENPTDohMCxDQVBUSU9OOiEwLE9QVElPTjohMCxPUFRHUk9VUDohMH0sSz0idW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQsTD0idGVtcGxhdGUsICIrT2JqZWN0LmtleXMoSikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkrIlt0ZW1wbGF0ZV0ifSkuam9pbigiLCAiKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe2ooZG9jdW1lbnQpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9LCExKSxLfHwoYS5IVE1MVGVtcGxhdGVFbGVtZW50PWZ1bmN0aW9uKCl7dGhyb3cgVHlwZUVycm9yKCJJbGxlZ2FsIGNvbnN0cnVjdG9yIil9KTt2YXIgTT0iX19wcm90b19fImlue307SFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBoPWYoZCkmJkssaT1oLGs9IWgsbT0hMTtpZihofHwoZyhkKT8oYighYyksZD1uKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1LLG09ITApOmUoZCkmJihkPW8oYSksZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMCxoPUspKSwhaCl7cShkKTt2YXIgcj1sKGQpO2QuY29udGVudF89ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9cmV0dXJuIGM/ZC5pbnN0YW5jZVJlZl89YzprP3AoZCxhLG0pOmkmJmooZC5jb250ZW50KSwhMH0sSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXA9ajt2YXIgTj1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsTz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtLfHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShOLnByb3RvdHlwZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLCJjb250ZW50IixPKSksayhIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSx7cHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEModGhpcyksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzfHx7fSx0aGlzLmJpbmRpbmdzLml0ZXJhdG9yPXRoaXMuaXRlcmF0b3JfKSx0aGlzLml0ZXJhdG9yXy51cGRhdGVEZXBlbmRlbmNpZXMoYSx0aGlzLm1vZGVsXyksdGhpcy5pdGVyYXRvcl8pOih0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwLHRoaXMuYmluZGluZ3MuaXRlcmF0b3I9dm9pZCAwKSx2b2lkIDApfSxjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkKXtiJiYoYz10aGlzLm5ld0RlbGVnYXRlXyhiKSk7dmFyIGU9dGhpcy5yZWYuY29udGVudCxmPXRoaXMuYmluZGluZ01hcF87ZiYmZi5jb250ZW50PT09ZXx8KGY9QihlLGMmJmMucHJlcGFyZUJpbmRpbmcpfHxbXSxmLmNvbnRlbnQ9ZSx0aGlzLmJpbmRpbmdNYXBfPWYpO3ZhciBnPW0odGhpcyksaD1nLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtoLnRlbXBsYXRlQ3JlYXRvcl89dGhpcztmb3IodmFyIGk9e2ZpcnN0Tm9kZTpudWxsLGxhc3ROb2RlOm51bGwsbW9kZWw6YX0saj0wLGs9ZS5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXt2YXIgbD1BKGssaCxnLGYuY2hpbGRyZW5baisrXSxhLGMsZCk7bC50ZW1wbGF0ZUluc3RhbmNlXz1pfXJldHVybiBpLmZpcnN0Tm9kZT1oLmZpcnN0Q2hpbGQsaS5sYXN0Tm9kZT1oLmxhc3RDaGlsZCxofSxnZXQgbW9kZWwoKXtyZXR1cm4gdGhpcy5tb2RlbF99LHNldCBtb2RlbChhKXt0aGlzLm1vZGVsXz1hLHIodGhpcyl9LGdldCBiaW5kaW5nRGVsZWdhdGUoKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZV8ucmF3fSxzZXREZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7dGhpcy5kZWxlZ2F0ZV89YSx0aGlzLmJpbmRpbmdNYXBfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZU1vZGVsRm5fPXZvaWQgMCl9LG5ld0RlbGVnYXRlXzpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEmJmFbYl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfX1yZXR1cm4gYT97cmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX06e319LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7dGhpcy5zZXREZWxlZ2F0ZV8odGhpcy5uZXdEZWxlZ2F0ZV8oYSkpfSxnZXQgcmVmKCl7dmFyIGEsYj10aGlzLmdldEF0dHJpYnV0ZSgicmVmIik7aWYoYil7dmFyIGU9Yyh0aGlzKTtpZihlJiYoYT1lLmdldEVsZW1lbnRCeUlkKGIpKSwhYSl7dmFyIGY9ZCh0aGlzKTtmJiYoYT1mLnF1ZXJ5U2VsZWN0b3IoIiMiK2IpKX19aWYoYXx8KGE9dGhpcy5pbnN0YW5jZVJlZl8pLCFhKXJldHVybiB0aGlzO3ZhciBnPWEucmVmO3JldHVybiBnP2c6YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsInRlbXBsYXRlSW5zdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlbXBsYXRlSW5zdGFuY2VfO3JldHVybiBhP2E6dGhpcy5wYXJlbnROb2RlP3RoaXMucGFyZW50Tm9kZS50ZW1wbGF0ZUluc3RhbmNlOnZvaWQgMH19KSxDLnByb3RvdHlwZT17Y2xvc2VEZXBzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZXBzO2EmJihhLmlmT25lVGltZT09PSExJiZhLmlmVmFsdWUuY2xvc2UoKSxhLm9uZVRpbWU9PT0hMSYmYS52YWx1ZS5jbG9zZSgpKX0sdXBkYXRlRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5jbG9zZURlcHMoKTt2YXIgYz10aGlzLmRlcHM9e30sZD10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoYS5pZil7aWYoYy5oYXNJZj0hMCxjLmlmT25lVGltZT1hLmlmLm9ubHlPbmVUaW1lLGMuaWZWYWx1ZT12KEgsYS5pZixkLGIpLGMuaWZPbmVUaW1lJiYhYy5pZlZhbHVlKXJldHVybiB0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSx2b2lkIDA7Yy5pZk9uZVRpbWV8fGMuaWZWYWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKX1hLnJlcGVhdD8oYy5yZXBlYXQ9ITAsYy5vbmVUaW1lPWEucmVwZWF0Lm9ubHlPbmVUaW1lLGMudmFsdWU9dihHLGEucmVwZWF0LGQsYikpOihjLnJlcGVhdD0hMSxjLm9uZVRpbWU9YS5iaW5kLm9ubHlPbmVUaW1lLGMudmFsdWU9dihGLGEuYmluZCxkLGIpKSxjLm9uZVRpbWV8fGMudmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyksdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCl9LHVwZGF0ZUl0ZXJhdGVkVmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRlcHMuaGFzSWYpe3ZhciBhPXRoaXMuZGVwcy5pZlZhbHVlO2lmKHRoaXMuZGVwcy5pZk9uZVRpbWV8fChhPWEuZGlzY2FyZENoYW5nZXMoKSksIWEpcmV0dXJuIHRoaXMudmFsdWVDaGFuZ2VkKCksdm9pZCAwfXZhciBiPXRoaXMuZGVwcy52YWx1ZTt0aGlzLmRlcHMub25lVGltZXx8KGI9Yi5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLmRlcHMucmVwZWF0fHwoYj1bYl0pO3ZhciBjPXRoaXMuZGVwcy5yZXBlYXQmJiF0aGlzLmRlcHMub25lVGltZSYmQXJyYXkuaXNBcnJheShiKTt0aGlzLnZhbHVlQ2hhbmdlZChiLGMpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiKXtBcnJheS5pc0FycmF5KGEpfHwoYT1bXSksYSE9PXRoaXMuaXRlcmF0ZWRWYWx1ZSYmKHRoaXMudW5vYnNlcnZlKCksdGhpcy5wcmVzZW50VmFsdWU9YSxiJiYodGhpcy5hcnJheU9ic2VydmVyPW5ldyBBcnJheU9ic2VydmVyKHRoaXMucHJlc2VudFZhbHVlKSx0aGlzLmFycmF5T2JzZXJ2ZXIub3Blbih0aGlzLmhhbmRsZVNwbGljZXMsdGhpcykpLHRoaXMuaGFuZGxlU3BsaWNlcyhBcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXModGhpcy5wcmVzZW50VmFsdWUsdGhpcy5pdGVyYXRlZFZhbHVlKSkpfSxnZXRUZXJtaW5hdG9yQXQ6ZnVuY3Rpb24oYSl7aWYoLTE9PWEpcmV0dXJuIHRoaXMudGVtcGxhdGVFbGVtZW50Xzt2YXIgYj10aGlzLnRlcm1pbmF0b3JzWzIqYV07aWYoYi5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHx0aGlzLnRlbXBsYXRlRWxlbWVudF89PT1iKXJldHVybiBiO3ZhciBjPWIuaXRlcmF0b3JfO3JldHVybiBjP2MuZ2V0VGVybWluYXRvckF0KGMudGVybWluYXRvcnMubGVuZ3RoLzItMSk6Yn0saW5zZXJ0SW5zdGFuY2VBdDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGY9ZTtiP2Y9Yi5sYXN0Q2hpbGR8fGY6YyYmKGY9Y1tjLmxlbmd0aC0xXXx8ZiksdGhpcy50ZXJtaW5hdG9ycy5zcGxpY2UoMiphLDAsZixkKTt2YXIgZz10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZSxoPWUubmV4dFNpYmxpbmc7aWYoYilnLmluc2VydEJlZm9yZShiLGgpO2Vsc2UgaWYoYylmb3IodmFyIGk9MDtpPGMubGVuZ3RoO2krKylnLmluc2VydEJlZm9yZShjW2ldLGgpfSxleHRyYWN0SW5zdGFuY2VBdDpmdW5jdGlvbihhKXt2YXIgYj1bXSxjPXRoaXMuZ2V0VGVybWluYXRvckF0KGEtMSksZD10aGlzLmdldFRlcm1pbmF0b3JBdChhKTtiLmluc3RhbmNlQmluZGluZ3M9dGhpcy50ZXJtaW5hdG9yc1syKmErMV0sdGhpcy50ZXJtaW5hdG9ycy5zcGxpY2UoMiphLDIpO2Zvcih2YXIgZT10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZTtkIT09Yzspe3ZhciBmPWMubmV4dFNpYmxpbmc7Zj09ZCYmKGQ9YyksZS5yZW1vdmVDaGlsZChmKSxiLnB1c2goZil9cmV0dXJuIGJ9LGdldERlbGVnYXRlRm46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YSYmYSh0aGlzLnRlbXBsYXRlRWxlbWVudF8pLCJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH0saGFuZGxlU3BsaWNlczpmdW5jdGlvbihhKXtpZighdGhpcy5jbG9zZWQmJmEubGVuZ3RoKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZSlyZXR1cm4gdGhpcy5jbG9zZSgpLHZvaWQgMDtBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcyh0aGlzLml0ZXJhdGVkVmFsdWUsdGhpcy5wcmVzZW50VmFsdWUsYSk7dmFyIGM9Yi5kZWxlZ2F0ZV87dm9pZCAwPT09dGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYodGhpcy5pbnN0YW5jZU1vZGVsRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZU1vZGVsKSksdm9pZCAwPT09dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmKHRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkKSk7dmFyIGQ9bmV3IEQsZT0wO2EuZm9yRWFjaChmdW5jdGlvbihhKXthLnJlbW92ZWQuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGEuaW5kZXgrZSk7ZC5zZXQoYixjKX0sdGhpcyksZS09YS5hZGRlZENvdW50fSx0aGlzKSxhLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBlPWEuaW5kZXg7ZTxhLmluZGV4K2EuYWRkZWRDb3VudDtlKyspe3ZhciBmLGc9dGhpcy5pdGVyYXRlZFZhbHVlW2VdLGg9dm9pZCAwLGk9ZC5nZXQoZyk7aT8oZC5kZWxldGUoZyksZj1pLmluc3RhbmNlQmluZGluZ3MpOihmPVtdLHRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKGc9dGhpcy5pbnN0YW5jZU1vZGVsRm5fKGcpKSx2b2lkIDAhPT1nJiYoaD1iLmNyZWF0ZUluc3RhbmNlKGcsdm9pZCAwLGMsZikpKSx0aGlzLmluc2VydEluc3RhbmNlQXQoZSxoLGksZil9fSx0aGlzKSxkLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3MoYS5pbnN0YW5jZUJpbmRpbmdzKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxjPXRoaXMuZ2V0VGVybWluYXRvckF0KGEpO2lmKGIhPT1jKXt2YXIgZD1iLm5leHRTaWJsaW5nLnRlbXBsYXRlSW5zdGFuY2U7dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyhkLGEpfX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLnRlcm1pbmF0b3JzLmxlbmd0aC8yO2Y+YjspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrK30sY2xvc2VJbnN0YW5jZUJpbmRpbmdzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uY2xvc2UoKX0sdW5vYnNlcnZlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheU9ic2VydmVyJiYodGhpcy5hcnJheU9ic2VydmVyLmNsb3NlKCksdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMCl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLnVub2JzZXJ2ZSgpO2Zvcih2YXIgYT0xO2E8dGhpcy50ZXJtaW5hdG9ycy5sZW5ndGg7YSs9Mil0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyh0aGlzLnRlcm1pbmF0b3JzW2FdKTt0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQVNTRVJUOiAiK2IpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBkKGEpe3JldHVybiAzMj09PWF8fDk9PT1hfHwxMT09PWF8fDEyPT09YXx8MTYwPT09YXx8YT49NTc2MCYmIuGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgO+7vyIuaW5kZXhPZihTdHJpbmcuZnJvbUNoYXJDb2RlKGEpKT4wfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIDEwPT09YXx8MTM9PT1hfHw4MjMyPT09YXx8ODIzMz09PWF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gMzY9PT1hfHw5NT09PWF8fGE+PTY1JiY5MD49YXx8YT49OTcmJjEyMj49YX1mdW5jdGlvbiBnKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfHxhPj00OCYmNTc+PWF9ZnVuY3Rpb24gaChhKXtyZXR1cm4idGhpcyI9PT1hfWZ1bmN0aW9uIGkoKXtmb3IoO1k+WCYmZChXLmNoYXJDb2RlQXQoWCkpOykrK1h9ZnVuY3Rpb24gaigpe3ZhciBhLGI7Zm9yKGE9WCsrO1k+WCYmKGI9Vy5jaGFyQ29kZUF0KFgpLGcoYikpOykrK1g7cmV0dXJuIFcuc2xpY2UoYSxYKX1mdW5jdGlvbiBrKCl7dmFyIGEsYixjO3JldHVybiBhPVgsYj1qKCksYz0xPT09Yi5sZW5ndGg/Uy5JZGVudGlmaWVyOmgoYik/Uy5LZXl3b3JkOiJudWxsIj09PWI/Uy5OdWxsTGl0ZXJhbDoidHJ1ZSI9PT1ifHwiZmFsc2UiPT09Yj9TLkJvb2xlYW5MaXRlcmFsOlMuSWRlbnRpZmllcix7dHlwZTpjLHZhbHVlOmIscmFuZ2U6W2EsWF19fWZ1bmN0aW9uIGwoKXt2YXIgYSxiLGM9WCxkPVcuY2hhckNvZGVBdChYKSxlPVdbWF07c3dpdGNoKGQpe2Nhc2UgNDY6Y2FzZSA0MDpjYXNlIDQxOmNhc2UgNTk6Y2FzZSA0NDpjYXNlIDEyMzpjYXNlIDEyNTpjYXNlIDkxOmNhc2UgOTM6Y2FzZSA1ODpjYXNlIDYzOnJldHVybisrWCx7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6U3RyaW5nLmZyb21DaGFyQ29kZShkKSxyYW5nZTpbYyxYXX07ZGVmYXVsdDppZihhPVcuY2hhckNvZGVBdChYKzEpLDYxPT09YSlzd2l0Y2goZCl7Y2FzZSAzNzpjYXNlIDM4OmNhc2UgNDI6Y2FzZSA0MzpjYXNlIDQ1OmNhc2UgNDc6Y2FzZSA2MDpjYXNlIDYyOmNhc2UgMTI0OnJldHVybiBYKz0yLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQpK1N0cmluZy5mcm9tQ2hhckNvZGUoYSkscmFuZ2U6W2MsWF19O2Nhc2UgMzM6Y2FzZSA2MTpyZXR1cm4gWCs9Miw2MT09PVcuY2hhckNvZGVBdChYKSYmKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpXLnNsaWNlKGMsWCkscmFuZ2U6W2MsWF19fX1yZXR1cm4gYj1XW1grMV0sZT09PWImJiImfCIuaW5kZXhPZihlKT49MD8oWCs9Mix7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6ZStiLHJhbmdlOltjLFhdfSk6Ijw+PSErLSolJnxeLyIuaW5kZXhPZihlKT49MD8oKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTplLHJhbmdlOltjLFhdfSk6KHMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx2b2lkIDApfWZ1bmN0aW9uIG0oKXt2YXIgYSxkLGU7aWYoZT1XW1hdLGIoYyhlLmNoYXJDb2RlQXQoMCkpfHwiLiI9PT1lLCJOdW1lcmljIGxpdGVyYWwgbXVzdCBzdGFydCB3aXRoIGEgZGVjaW1hbCBkaWdpdCBvciBhIGRlY2ltYWwgcG9pbnQiKSxkPVgsYT0iIiwiLiIhPT1lKXtmb3IoYT1XW1grK10sZT1XW1hdLCIwIj09PWEmJmUmJmMoZS5jaGFyQ29kZUF0KDApKSYmcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpO2MoVy5jaGFyQ29kZUF0KFgpKTspYSs9V1tYKytdO2U9V1tYXX1pZigiLiI9PT1lKXtmb3IoYSs9V1tYKytdO2MoVy5jaGFyQ29kZUF0KFgpKTspYSs9V1tYKytdO2U9V1tYXX1pZigiZSI9PT1lfHwiRSI9PT1lKWlmKGErPVdbWCsrXSxlPVdbWF0sKCIrIj09PWV8fCItIj09PWUpJiYoYSs9V1tYKytdKSxjKFcuY2hhckNvZGVBdChYKSkpZm9yKDtjKFcuY2hhckNvZGVBdChYKSk7KWErPVdbWCsrXTtlbHNlIHMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKTtyZXR1cm4gZihXLmNoYXJDb2RlQXQoWCkpJiZzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIikse3R5cGU6Uy5OdW1lcmljTGl0ZXJhbCx2YWx1ZTpwYXJzZUZsb2F0KGEpLHJhbmdlOltkLFhdfX1mdW5jdGlvbiBuKCl7dmFyIGEsYyxkLGY9IiIsZz0hMTtmb3IoYT1XW1hdLGIoIiciPT09YXx8JyInPT09YSwiU3RyaW5nIGxpdGVyYWwgbXVzdCBzdGFydHMgd2l0aCBhIHF1b3RlIiksYz1YLCsrWDtZPlg7KXtpZihkPVdbWCsrXSxkPT09YSl7YT0iIjticmVha31pZigiXFwiPT09ZClpZihkPVdbWCsrXSxkJiZlKGQuY2hhckNvZGVBdCgwKSkpIlxyIj09PWQmJiJcbiI9PT1XW1hdJiYrK1g7ZWxzZSBzd2l0Y2goZCl7Y2FzZSJuIjpmKz0iXG4iO2JyZWFrO2Nhc2UiciI6Zis9IlxyIjticmVhaztjYXNlInQiOmYrPSIJIjticmVhaztjYXNlImIiOmYrPSJcYiI7YnJlYWs7Y2FzZSJmIjpmKz0iXGYiO2JyZWFrO2Nhc2UidiI6Zis9IgsiO2JyZWFrO2RlZmF1bHQ6Zis9ZH1lbHNle2lmKGUoZC5jaGFyQ29kZUF0KDApKSlicmVhaztmKz1kfX1yZXR1cm4iIiE9PWEmJnMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpTLlN0cmluZ0xpdGVyYWwsdmFsdWU6ZixvY3RhbDpnLHJhbmdlOltjLFhdfX1mdW5jdGlvbiBvKGEpe3JldHVybiBhLnR5cGU9PT1TLklkZW50aWZpZXJ8fGEudHlwZT09PVMuS2V5d29yZHx8YS50eXBlPT09Uy5Cb29sZWFuTGl0ZXJhbHx8YS50eXBlPT09Uy5OdWxsTGl0ZXJhbH1mdW5jdGlvbiBwKCl7dmFyIGE7cmV0dXJuIGkoKSxYPj1ZP3t0eXBlOlMuRU9GLHJhbmdlOltYLFhdfTooYT1XLmNoYXJDb2RlQXQoWCksNDA9PT1hfHw0MT09PWF8fDU4PT09YT9sKCk6Mzk9PT1hfHwzND09PWE/bigpOmYoYSk/aygpOjQ2PT09YT9jKFcuY2hhckNvZGVBdChYKzEpKT9tKCk6bCgpOmMoYSk/bSgpOmwoKSl9ZnVuY3Rpb24gcSgpe3ZhciBhO3JldHVybiBhPSQsWD1hLnJhbmdlWzFdLCQ9cCgpLFg9YS5yYW5nZVsxXSxhfWZ1bmN0aW9uIHIoKXt2YXIgYTthPVgsJD1wKCksWD1hfWZ1bmN0aW9uIHMoYSxjKXt2YXIgZCxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxmPWMucmVwbGFjZSgvJShcZCkvZyxmdW5jdGlvbihhLGMpe3JldHVybiBiKGM8ZS5sZW5ndGgsIk1lc3NhZ2UgcmVmZXJlbmNlIG11c3QgYmUgaW4gcmFuZ2UiKSxlW2NdfSk7dGhyb3cgZD1uZXcgRXJyb3IoZiksZC5pbmRleD1YLGQuZGVzY3JpcHRpb249ZixkfWZ1bmN0aW9uIHQoYSl7cyhhLFYuVW5leHBlY3RlZFRva2VuLGEudmFsdWUpfWZ1bmN0aW9uIHUoYSl7dmFyIGI9cSgpOyhiLnR5cGUhPT1TLlB1bmN0dWF0b3J8fGIudmFsdWUhPT1hKSYmdChiKX1mdW5jdGlvbiB2KGEpe3JldHVybiAkLnR5cGU9PT1TLlB1bmN0dWF0b3ImJiQudmFsdWU9PT1hfWZ1bmN0aW9uIHcoYSl7cmV0dXJuICQudHlwZT09PVMuS2V5d29yZCYmJC52YWx1ZT09PWF9ZnVuY3Rpb24geCgpe3ZhciBhPVtdO2Zvcih1KCJbIik7IXYoIl0iKTspdigiLCIpPyhxKCksYS5wdXNoKG51bGwpKTooYS5wdXNoKGJiKCkpLHYoIl0iKXx8dSgiLCIpKTtyZXR1cm4gdSgiXSIpLFouY3JlYXRlQXJyYXlFeHByZXNzaW9uKGEpfWZ1bmN0aW9uIHkoKXt2YXIgYTtyZXR1cm4gaSgpLGE9cSgpLGEudHlwZT09PVMuU3RyaW5nTGl0ZXJhbHx8YS50eXBlPT09Uy5OdW1lcmljTGl0ZXJhbD9aLmNyZWF0ZUxpdGVyYWwoYSk6Wi5jcmVhdGVJZGVudGlmaWVyKGEudmFsdWUpfWZ1bmN0aW9uIHooKXt2YXIgYSxiO3JldHVybiBhPSQsaSgpLChhLnR5cGU9PT1TLkVPRnx8YS50eXBlPT09Uy5QdW5jdHVhdG9yKSYmdChhKSxiPXkoKSx1KCI6IiksWi5jcmVhdGVQcm9wZXJ0eSgiaW5pdCIsYixiYigpKX1mdW5jdGlvbiBBKCl7dmFyIGE9W107Zm9yKHUoInsiKTshdigifSIpOylhLnB1c2goeigpKSx2KCJ9Iil8fHUoIiwiKTtyZXR1cm4gdSgifSIpLFouY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihhKX1mdW5jdGlvbiBCKCl7dmFyIGE7cmV0dXJuIHUoIigiKSxhPWJiKCksdSgiKSIpLGF9ZnVuY3Rpb24gQygpe3ZhciBhLGIsYztyZXR1cm4gdigiKCIpP0IoKTooYT0kLnR5cGUsYT09PVMuSWRlbnRpZmllcj9jPVouY3JlYXRlSWRlbnRpZmllcihxKCkudmFsdWUpOmE9PT1TLlN0cmluZ0xpdGVyYWx8fGE9PT1TLk51bWVyaWNMaXRlcmFsP2M9Wi5jcmVhdGVMaXRlcmFsKHEoKSk6YT09PVMuS2V5d29yZD93KCJ0aGlzIikmJihxKCksYz1aLmNyZWF0ZVRoaXNFeHByZXNzaW9uKCkpOmE9PT1TLkJvb2xlYW5MaXRlcmFsPyhiPXEoKSxiLnZhbHVlPSJ0cnVlIj09PWIudmFsdWUsYz1aLmNyZWF0ZUxpdGVyYWwoYikpOmE9PT1TLk51bGxMaXRlcmFsPyhiPXEoKSxiLnZhbHVlPW51bGwsYz1aLmNyZWF0ZUxpdGVyYWwoYikpOnYoIlsiKT9jPXgoKTp2KCJ7IikmJihjPUEoKSksYz9jOih0KHEoKSksdm9pZCAwKSl9ZnVuY3Rpb24gRCgpe3ZhciBhPVtdO2lmKHUoIigiKSwhdigiKSIpKWZvcig7WT5YJiYoYS5wdXNoKGJiKCkpLCF2KCIpIikpOyl1KCIsIik7cmV0dXJuIHUoIikiKSxhfWZ1bmN0aW9uIEUoKXt2YXIgYTtyZXR1cm4gYT1xKCksbyhhKXx8dChhKSxaLmNyZWF0ZUlkZW50aWZpZXIoYS52YWx1ZSl9ZnVuY3Rpb24gRigpe3JldHVybiB1KCIuIiksRSgpfWZ1bmN0aW9uIEcoKXt2YXIgYTtyZXR1cm4gdSgiWyIpLGE9YmIoKSx1KCJdIiksYX1mdW5jdGlvbiBIKCl7dmFyIGEsYjtmb3IoYT1DKCk7digiLiIpfHx2KCJbIik7KXYoIlsiKT8oYj1HKCksYT1aLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIlsiLGEsYikpOihiPUYoKSxhPVouY3JlYXRlTWVtYmVyRXhwcmVzc2lvbigiLiIsYSxiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gSSgpe3ZhciBhLGI7cmV0dXJuICQudHlwZSE9PVMuUHVuY3R1YXRvciYmJC50eXBlIT09Uy5LZXl3b3JkP2I9YWIoKTp2KCIrIil8fHYoIi0iKXx8digiISIpPyhhPXEoKSxiPUkoKSxiPVouY3JlYXRlVW5hcnlFeHByZXNzaW9uKGEudmFsdWUsYikpOncoImRlbGV0ZSIpfHx3KCJ2b2lkIil8fHcoInR5cGVvZiIpP3Moe30sVi5VbmV4cGVjdGVkVG9rZW4pOmI9YWIoKSxifWZ1bmN0aW9uIEooYSl7dmFyIGI9MDtpZihhLnR5cGUhPT1TLlB1bmN0dWF0b3ImJmEudHlwZSE9PVMuS2V5d29yZClyZXR1cm4gMDtzd2l0Y2goYS52YWx1ZSl7Y2FzZSJ8fCI6Yj0xO2JyZWFrO2Nhc2UiJiYiOmI9MjticmVhaztjYXNlIj09IjpjYXNlIiE9IjpjYXNlIj09PSI6Y2FzZSIhPT0iOmI9NjticmVhaztjYXNlIjwiOmNhc2UiPiI6Y2FzZSI8PSI6Y2FzZSI+PSI6Y2FzZSJpbnN0YW5jZW9mIjpiPTc7YnJlYWs7Y2FzZSJpbiI6Yj03O2JyZWFrO2Nhc2UiKyI6Y2FzZSItIjpiPTk7YnJlYWs7Y2FzZSIqIjpjYXNlIi8iOmNhc2UiJSI6Yj0xMX1yZXR1cm4gYn1mdW5jdGlvbiBLKCl7dmFyIGEsYixjLGQsZSxmLGcsaDtpZihnPUkoKSxiPSQsYz1KKGIpLDA9PT1jKXJldHVybiBnO2ZvcihiLnByZWM9YyxxKCksZT1JKCksZD1bZyxiLGVdOyhjPUooJCkpPjA7KXtmb3IoO2QubGVuZ3RoPjImJmM8PWRbZC5sZW5ndGgtMl0ucHJlYzspZT1kLnBvcCgpLGY9ZC5wb3AoKS52YWx1ZSxnPWQucG9wKCksYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZixnLGUpLGQucHVzaChhKTtiPXEoKSxiLnByZWM9YyxkLnB1c2goYiksYT1JKCksZC5wdXNoKGEpfWZvcihoPWQubGVuZ3RoLTEsYT1kW2hdO2g+MTspYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZFtoLTFdLnZhbHVlLGRbaC0yXSxhKSxoLT0yO3JldHVybiBhfWZ1bmN0aW9uIEwoKXt2YXIgYSxiLGM7cmV0dXJuIGE9SygpLHYoIj8iKSYmKHEoKSxiPUwoKSx1KCI6IiksYz1MKCksYT1aLmNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbihhLGIsYykpLGF9ZnVuY3Rpb24gTSgpe3ZhciBhLGI7cmV0dXJuIGE9cSgpLGEudHlwZSE9PVMuSWRlbnRpZmllciYmdChhKSxiPXYoIigiKT9EKCk6W10sWi5jcmVhdGVGaWx0ZXIoYS52YWx1ZSxiKX1mdW5jdGlvbiBOKCl7Zm9yKDt2KCJ8Iik7KXEoKSxNKCl9ZnVuY3Rpb24gTygpe2koKSxyKCk7dmFyIGE9YmIoKTthJiYoIiwiPT09JC52YWx1ZXx8ImluIj09JC52YWx1ZSYmYS50eXBlPT09VS5JZGVudGlmaWVyP1EoYSk6KE4oKSwiYXMiPT09JC52YWx1ZT9QKGEpOlouY3JlYXRlVG9wTGV2ZWwoYSkpKSwkLnR5cGUhPT1TLkVPRiYmdCgkKX1mdW5jdGlvbiBQKGEpe3EoKTt2YXIgYj1xKCkudmFsdWU7Wi5jcmVhdGVBc0V4cHJlc3Npb24oYSxiKX1mdW5jdGlvbiBRKGEpe3ZhciBiOyIsIj09PSQudmFsdWUmJihxKCksJC50eXBlIT09Uy5JZGVudGlmaWVyJiZ0KCQpLGI9cSgpLnZhbHVlKSxxKCk7dmFyIGM9YmIoKTtOKCksWi5jcmVhdGVJbkV4cHJlc3Npb24oYS5uYW1lLGIsYyl9ZnVuY3Rpb24gUihhLGIpe3JldHVybiBaPWIsVz1hLFg9MCxZPVcubGVuZ3RoLCQ9bnVsbCxfPXtsYWJlbFNldDp7fX0sTygpfXZhciBTLFQsVSxWLFcsWCxZLFosJCxfO1M9e0Jvb2xlYW5MaXRlcmFsOjEsRU9GOjIsSWRlbnRpZmllcjozLEtleXdvcmQ6NCxOdWxsTGl0ZXJhbDo1LE51bWVyaWNMaXRlcmFsOjYsUHVuY3R1YXRvcjo3LFN0cmluZ0xpdGVyYWw6OH0sVD17fSxUW1MuQm9vbGVhbkxpdGVyYWxdPSJCb29sZWFuIixUW1MuRU9GXT0iPGVuZD4iLFRbUy5JZGVudGlmaWVyXT0iSWRlbnRpZmllciIsVFtTLktleXdvcmRdPSJLZXl3b3JkIixUW1MuTnVsbExpdGVyYWxdPSJOdWxsIixUW1MuTnVtZXJpY0xpdGVyYWxdPSJOdW1lcmljIixUW1MuUHVuY3R1YXRvcl09IlB1bmN0dWF0b3IiLFRbUy5TdHJpbmdMaXRlcmFsXT0iU3RyaW5nIixVPXtBcnJheUV4cHJlc3Npb246IkFycmF5RXhwcmVzc2lvbiIsQmluYXJ5RXhwcmVzc2lvbjoiQmluYXJ5RXhwcmVzc2lvbiIsQ2FsbEV4cHJlc3Npb246IkNhbGxFeHByZXNzaW9uIixDb25kaXRpb25hbEV4cHJlc3Npb246IkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsRW1wdHlTdGF0ZW1lbnQ6IkVtcHR5U3RhdGVtZW50IixFeHByZXNzaW9uU3RhdGVtZW50OiJFeHByZXNzaW9uU3RhdGVtZW50IixJZGVudGlmaWVyOiJJZGVudGlmaWVyIixMaXRlcmFsOiJMaXRlcmFsIixMYWJlbGVkU3RhdGVtZW50OiJMYWJlbGVkU3RhdGVtZW50IixMb2dpY2FsRXhwcmVzc2lvbjoiTG9naWNhbEV4cHJlc3Npb24iLE1lbWJlckV4cHJlc3Npb246Ik1lbWJlckV4cHJlc3Npb24iLE9iamVjdEV4cHJlc3Npb246Ik9iamVjdEV4cHJlc3Npb24iLFByb2dyYW06IlByb2dyYW0iLFByb3BlcnR5OiJQcm9wZXJ0eSIsVGhpc0V4cHJlc3Npb246IlRoaXNFeHByZXNzaW9uIixVbmFyeUV4cHJlc3Npb246IlVuYXJ5RXhwcmVzc2lvbiJ9LFY9e1VuZXhwZWN0ZWRUb2tlbjoiVW5leHBlY3RlZCB0b2tlbiAlMCIsVW5rbm93bkxhYmVsOiJVbmRlZmluZWQgbGFiZWwgJyUwJyIsUmVkZWNsYXJhdGlvbjoiJTAgJyUxJyBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkIn07dmFyIGFiPUgsYmI9TDthLmVzcHJpbWE9e3BhcnNlOlJ9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsZCxlKXt2YXIgZjt0cnl7aWYoZj1jKGEpLGYuc2NvcGVJZGVudCYmKGQubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8IlRFTVBMQVRFIiE9PWQudGFnTmFtZXx8ImJpbmQiIT09YiYmInJlcGVhdCIhPT1iKSl0aHJvdyBFcnJvcigiYXMgYW5kIGluIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIDx0ZW1wbGF0ZSBiaW5kL3JlcGVhdD4iKX1jYXRjaChnKXtyZXR1cm4gY29uc29sZS5lcnJvcigiSW52YWxpZCBleHByZXNzaW9uIHN5bnRheDogIithLGcpLHZvaWQgMH1yZXR1cm4gZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWYuZ2V0QmluZGluZyhhLGUsYyk7cmV0dXJuIGYuc2NvcGVJZGVudCYmZCYmKGIucG9seW1lckV4cHJlc3Npb25TY29wZUlkZW50Xz1mLnNjb3BlSWRlbnQsZi5pbmRleElkZW50JiYoYi5wb2x5bWVyRXhwcmVzc2lvbkluZGV4SWRlbnRfPWYuaW5kZXhJZGVudCkpLGR9fWZ1bmN0aW9uIGMoYSl7dmFyIGI9cVthXTtpZighYil7dmFyIGM9bmV3IGo7ZXNwcmltYS5wYXJzZShhLGMpLGI9bmV3IGwoYykscVthXT1ifXJldHVybiBifWZ1bmN0aW9uIGQoYSl7dGhpcy52YWx1ZT1hLHRoaXMudmFsdWVGbl89dm9pZCAwfWZ1bmN0aW9uIGUoYSl7dGhpcy5uYW1lPWEsdGhpcy5wYXRoPVBhdGguZ2V0KGEpfWZ1bmN0aW9uIGYoYSxiLGMpe3RoaXMuZHluYW1pY0RlcHM9ImZ1bmN0aW9uIj09dHlwZW9mIGF8fGEuZHluYW1pYyx0aGlzLmR5bmFtaWM9ImZ1bmN0aW9uIj09dHlwZW9mIGJ8fGIuZHluYW1pY3x8IlsiPT1jJiYhKGIgaW5zdGFuY2VvZiBkKSx0aGlzLm9iamVjdD1pKGEpLHRoaXMucHJvcGVydHk9Ii4iPT1jP2I6aShiKX1mdW5jdGlvbiBnKGEsYil7dGhpcy5uYW1lPWEsdGhpcy5hcmdzPVtdO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMuYXJnc1tjXT1pKGJbY10pfWZ1bmN0aW9uIGgoKXt0aHJvdyBFcnJvcigiTm90IEltcGxlbWVudGVkIil9ZnVuY3Rpb24gaShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT9hOmEudmFsdWVGbigpfWZ1bmN0aW9uIGooKXt0aGlzLmV4cHJlc3Npb249bnVsbCx0aGlzLmZpbHRlcnM9W10sdGhpcy5kZXBzPXt9LHRoaXMuY3VycmVudFBhdGg9dm9pZCAwLHRoaXMuc2NvcGVJZGVudD12b2lkIDAsdGhpcy5pbmRleElkZW50PXZvaWQgMCx0aGlzLmR5bmFtaWNEZXBzPSExfWZ1bmN0aW9uIGsoYSl7dGhpcy52YWx1ZV89YX1mdW5jdGlvbiBsKGEpe2lmKHRoaXMuc2NvcGVJZGVudD1hLnNjb3BlSWRlbnQsdGhpcy5pbmRleElkZW50PWEuaW5kZXhJZGVudCwhYS5leHByZXNzaW9uKXRocm93IEVycm9yKCJObyBleHByZXNzaW9uIGZvdW5kLiIpO3RoaXMuZXhwcmVzc2lvbj1hLmV4cHJlc3Npb24saSh0aGlzLmV4cHJlc3Npb24pLHRoaXMuZmlsdGVycz1hLmZpbHRlcnMsdGhpcy5keW5hbWljRGVwcz1hLmR5bmFtaWNEZXBzfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBuKGEpe3JldHVybiJvIj09PWFbMF0mJiJuIj09PWFbMV0mJiItIj09PWFbMl0KfWZ1bmN0aW9uIG8oYSxiKXt2YXIgYz1iLnN1YnN0cmluZygzKTtyZXR1cm4gZnVuY3Rpb24oYixkLGUpe2Z1bmN0aW9uIGYoKXtlfHwoaD1hLmdldFZhbHVlRnJvbShiKSksaC5hcHBseShiLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZygpe3JldHVybiJ7eyAiK2ErIiB9fSJ9dmFyIGg9YS5nZXRWYWx1ZUZyb20oYik7cmV0dXJuIGQuYWRkRXZlbnRMaXN0ZW5lcihjLGYpLGU/dm9pZCAwOntvcGVuOmcsZGlzY2FyZENoYW5nZXM6ZyxjbG9zZTpmdW5jdGlvbigpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGYpfX19fWZ1bmN0aW9uIHAoKXt9dmFyIHE9T2JqZWN0LmNyZWF0ZShudWxsKTtkLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT10aGlzLnZhbHVlO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oKXtyZXR1cm4gYX19cmV0dXJuIHRoaXMudmFsdWVGbl99fSxlLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT0odGhpcy5uYW1lLHRoaXMucGF0aCk7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihiLGMpe3JldHVybiBjJiZjLmFkZFBhdGgoYixhKSxhLmdldFZhbHVlRnJvbShiKX19cmV0dXJuIHRoaXMudmFsdWVGbl99LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucGF0aC5zZXRWYWx1ZUZyb20oYSxiKX19LGYucHJvdG90eXBlPXt2YWx1ZUZuOmZ1bmN0aW9uKCl7aWYoIXRoaXMudmFsdWVGbl8pe3ZhciBhPXRoaXMub2JqZWN0LGI9dGhpcy5wcm9wZXJ0eSxjPWIgaW5zdGFuY2VvZiBlP1BhdGguZ2V0KGIubmFtZSk6dm9pZCAwO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oZCxlKXt2YXIgZj1hKGQsZSk7aWYoYylyZXR1cm4gZSYmZS5hZGRQYXRoKGYsYyksYy5nZXRWYWx1ZUZyb20oZik7dmFyIGc9YihkLGUpO3JldHVybiBlJiZlLmFkZFBhdGgoZixnKSxmP2ZbZ106dm9pZCAwfX1yZXR1cm4gdGhpcy52YWx1ZUZuX30sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm9iamVjdChhKSxkPXRoaXMucHJvcGVydHkgaW5zdGFuY2VvZiBlP3RoaXMucHJvcGVydHkubmFtZTp0aGlzLnByb3BlcnR5KGEpO3JldHVybiBjW2RdPWJ9fSxnLnByb3RvdHlwZT17dHJhbnNmb3JtOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Y1t0aGlzLm5hbWVdLGc9ZDtpZihmKWc9dm9pZCAwO2Vsc2UgaWYoZj1nW3RoaXMubmFtZV0sIWYpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIkNhbm5vdCBmaW5kIGZpbHRlcjogIit0aGlzLm5hbWUpLHZvaWQgMDtpZihiP2Y9Zi50b01vZGVsOiJmdW5jdGlvbiI9PXR5cGVvZiBmLnRvRE9NJiYoZj1mLnRvRE9NKSwiZnVuY3Rpb24iIT10eXBlb2YgZilyZXR1cm4gY29uc29sZS5lcnJvcigiTm8gIisoYj8idG9Nb2RlbCI6InRvRE9NIikrIiBmb3VuZCBvbiIrdGhpcy5uYW1lKSx2b2lkIDA7Zm9yKHZhciBoPVthXSxqPTA7ajx0aGlzLmFyZ3MubGVuZ3RoO2orKyloW2orMV09aSh0aGlzLmFyZ3Nbal0pKGQsZSk7cmV0dXJuIGYuYXBwbHkoZyxoKX19O3ZhciByPXsiKyI6ZnVuY3Rpb24oYSl7cmV0dXJuK2F9LCItIjpmdW5jdGlvbihhKXtyZXR1cm4tYX0sIiEiOmZ1bmN0aW9uKGEpe3JldHVybiFhfX0scz17IisiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0sIi0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0sIioiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqYn0sIi8iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEvYn0sIiUiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGElYn0sIjwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+YX0sIj4iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yn0sIjw9IjpmdW5jdGlvbihhLGIpe3JldHVybiBiPj1hfSwiPj0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+PWJ9LCI9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yn0sIiE9IjpmdW5jdGlvbihhLGIpe3JldHVybiBhIT1ifSwiPT09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn0sIiE9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWJ9LCImJiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYn0sInx8IjpmdW5jdGlvbihhLGIpe3JldHVybiBhfHxifX07ai5wcm90b3R5cGU9e2NyZWF0ZVVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe2lmKCFyW2FdKXRocm93IEVycm9yKCJEaXNhbGxvd2VkIG9wZXJhdG9yOiAiK2EpO3JldHVybiBiPWkoYiksZnVuY3Rpb24oYyxkKXtyZXR1cm4gclthXShiKGMsZCkpfX0sY3JlYXRlQmluYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7aWYoIXNbYV0pdGhyb3cgRXJyb3IoIkRpc2FsbG93ZWQgb3BlcmF0b3I6ICIrYSk7cmV0dXJuIGI9aShiKSxjPWkoYyksZnVuY3Rpb24oZCxlKXtyZXR1cm4gc1thXShiKGQsZSksYyhkLGUpKX19LGNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE9aShhKSxiPWkoYiksYz1pKGMpLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGEoZCxlKT9iKGQsZSk6YyhkLGUpfX0sY3JlYXRlSWRlbnRpZmllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgZShhKTtyZXR1cm4gYi50eXBlPSJJZGVudGlmaWVyIixifSxjcmVhdGVNZW1iZXJFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgZihiLGMsYSk7cmV0dXJuIGQuZHluYW1pY0RlcHMmJih0aGlzLmR5bmFtaWNEZXBzPSEwKSxkfSxjcmVhdGVMaXRlcmFsOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZChhLnZhbHVlKX0sY3JlYXRlQXJyYXlFeHByZXNzaW9uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl09aShhW2JdKTtyZXR1cm4gZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHVzaChhW2VdKGIsYykpO3JldHVybiBkfX0sY3JlYXRlUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybntrZXk6YiBpbnN0YW5jZW9mIGU/Yi5uYW1lOmIudmFsdWUsdmFsdWU6Y319LGNyZWF0ZU9iamVjdEV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS52YWx1ZT1pKGFbYl0udmFsdWUpO3JldHVybiBmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD17fSxlPTA7ZTxhLmxlbmd0aDtlKyspZFthW2VdLmtleV09YVtlXS52YWx1ZShiLGMpO3JldHVybiBkfX0sY3JlYXRlRmlsdGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5maWx0ZXJzLnB1c2gobmV3IGcoYSxiKSl9LGNyZWF0ZUFzRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe3RoaXMuZXhwcmVzc2lvbj1hLHRoaXMuc2NvcGVJZGVudD1ifSxjcmVhdGVJbkV4cHJlc3Npb246ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZXhwcmVzc2lvbj1jLHRoaXMuc2NvcGVJZGVudD1hLHRoaXMuaW5kZXhJZGVudD1ifSxjcmVhdGVUb3BMZXZlbDpmdW5jdGlvbihhKXt0aGlzLmV4cHJlc3Npb249YX0sY3JlYXRlVGhpc0V4cHJlc3Npb246aH0say5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV99LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7fSxjbG9zZTpmdW5jdGlvbigpe319LGwucHJvdG90eXBlPXtnZXRCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7dmFyIGM9MT09Zi5zdGF0ZV87YyYmZi5zdGFydFJlc2V0KCk7dmFyIGQ9Zy5nZXRWYWx1ZShhLGM/Zjp2b2lkIDAsYik7cmV0dXJuIGMmJmYuZmluaXNoUmVzZXQoKSxkfWZ1bmN0aW9uIGUoYyl7cmV0dXJuIGcuc2V0VmFsdWUoYSxjLGIpLGN9aWYoYylyZXR1cm4gdGhpcy5nZXRWYWx1ZShhLHZvaWQgMCxiKTt2YXIgZj1uZXcgQ29tcG91bmRPYnNlcnZlcjt0aGlzLmdldFZhbHVlKGEsZixiKTt2YXIgZz10aGlzO3JldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixkLGUsITApfSxnZXRWYWx1ZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWkodGhpcy5leHByZXNzaW9uKShhLGIpLGU9MDtlPHRoaXMuZmlsdGVycy5sZW5ndGg7ZSsrKWQ9dGhpcy5maWx0ZXJzW2VdLnRyYW5zZm9ybShkLCExLGMsYSxiKTtyZXR1cm4gZH0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLmZpbHRlcnM/dGhpcy5maWx0ZXJzLmxlbmd0aDowO2QtLT4wOyliPXRoaXMuZmlsdGVyc1tkXS50cmFuc2Zvcm0oYiwhMCxjLGEpO3JldHVybiB0aGlzLmV4cHJlc3Npb24uc2V0VmFsdWU/dGhpcy5leHByZXNzaW9uLnNldFZhbHVlKGEsYik6dm9pZCAwfX0scC5wcm90b3R5cGU9e3N0eWxlT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChtKGMpKyI6ICIrYVtjXSk7cmV0dXJuIGIuam9pbigiOyAiKX0sdG9rZW5MaXN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWFbY10mJmIucHVzaChjKTtyZXR1cm4gYi5qb2luKCIgIil9LHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpmdW5jdGlvbihhKXt2YXIgYj1hLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF87aWYoYilyZXR1cm4gZnVuY3Rpb24oYSxjKXthLm1vZGVsW2JdPWN9fSxwcmVwYXJlQmluZGluZzpmdW5jdGlvbihhLGMsZCl7aWYobihjKSl7dmFyIGU9UGF0aC5nZXQoYSk7cmV0dXJuIGUudmFsaWQ/byhlLGMpOihjb25zb2xlLmVycm9yKCJvbi0qIGJpbmRpbmdzIG11c3QgYmUgc2ltcGxlIHBhdGggZXhwcmVzc2lvbnMiKSx2b2lkIDApfWlmKCFQYXRoLmdldChhKS52YWxpZClyZXR1cm4gYihhLGMsZCx0aGlzKX0scHJlcGFyZUluc3RhbmNlTW9kZWw6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wb2x5bWVyRXhwcmVzc2lvblNjb3BlSWRlbnRfO2lmKGIpe3ZhciBjPWEudGVtcGxhdGVJbnN0YW5jZT9hLnRlbXBsYXRlSW5zdGFuY2UubW9kZWw6YS5tb2RlbDtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGQ9T2JqZWN0LmNyZWF0ZShjKTtyZXR1cm4gZFtiXT1hLGR9fX19LGEuUG9seW1lckV4cHJlc3Npb25zPXAsYS5leHBvc2VHZXRFeHByZXNzaW9uJiYoYS5nZXRFeHByZXNzaW9uXz1jKX0odGhpcyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2V8fChlPSEwLGEuZW5kT2ZNaWNyb3Rhc2soZnVuY3Rpb24oKXtlPSExLGxvZ0ZsYWdzLmRhdGEmJmNvbnNvbGUuZ3JvdXAoIlBsYXRmb3JtLmZsdXNoKCkiKSxhLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCksbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cEVuZCgpfSkpfXZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Yy50ZXh0Q29udGVudD0idGVtcGxhdGUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7ZC5pbnNlcnRCZWZvcmUoYyxkLmZpcnN0Q2hpbGQpO3ZhciBlLGY9MTI1O2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGZ1bmN0aW9uKCl7YigpLE9ic2VydmVyLmhhc09iamVjdE9ic2VydmV8fChhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpKX0pLHdpbmRvdy5DdXN0b21FbGVtZW50cyYmIUN1c3RvbUVsZW1lbnRzLnVzZU5hdGl2ZSl7dmFyIGc9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU7RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nLmNhbGwodGhpcyxhLGIpO3JldHVybiBDdXN0b21FbGVtZW50cy51cGdyYWRlQWxsKGMpLGN9fWEuZmx1c2g9Yn0od2luZG93LlBsYXRmb3JtKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFw",
                "body": "Ly8gQ29weXJpZ2h0IChjKSAyMDEyIFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vCi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAovLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlCi8vIG1ldDoKLy8KLy8gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodAovLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCi8vICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZQovLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyCi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUKLy8gZGlzdHJpYnV0aW9uLgovLyAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMKLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20KLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwovLyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAovLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQovLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQovLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgovLyBAdmVyc2lvbjogMC4xLjMKZnVuY3Rpb24gUG9pbnRlckdlc3R1cmVFdmVudChhLGIpe3ZhciBjPWJ8fHt9LGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IiksZT17YnViYmxlczpCb29sZWFuKGMuYnViYmxlcyk9PT1jLmJ1YmJsZXN8fCEwLGNhbmNlbGFibGU6Qm9vbGVhbihjLmNhbmNlbGFibGUpPT09Yy5jYW5jZWxhYmxlfHwhMH07ZC5pbml0RXZlbnQoYSxlLmJ1YmJsZXMsZS5jYW5jZWxhYmxlKTtmb3IodmFyIGYsZz1PYmplY3Qua2V5cyhjKSxoPTA7aDxnLmxlbmd0aDtoKyspZj1nW2hdLGRbZl09Y1tmXTtyZXR1cm4gZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfSJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGEoYSl7Yj1hfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9W10sYz17fTtpZihPYmplY3Qub2JzZXJ2ZShjLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLDMhPT1iLmxlbmd0aClyZXR1cm4hMTtpZigibmV3Ij09YlswXS50eXBlJiYidXBkYXRlZCI9PWJbMV0udHlwZSYmImRlbGV0ZWQiPT1iWzJdLnR5cGUpTD0ibmV3IixNPSJ1cGRhdGVkIixOPSJyZWNvbmZpZ3VyZWQiLE89ImRlbGV0ZWQiO2Vsc2UgaWYoImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVW5leHBlY3RlZCBjaGFuZ2UgcmVjb3JkIG5hbWVzIGZvciBPYmplY3Qub2JzZXJ2ZS4gVXNpbmcgZGlydHktY2hlY2tpbmcgaW5zdGVhZCIpLCExO3JldHVybiBPYmplY3QudW5vYnNlcnZlKGMsYSksYz1bMF0sQXJyYXkub2JzZXJ2ZShjLGEpLGNbMV09MSxjLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSwyIT1iLmxlbmd0aD8hMTpiWzBdLnR5cGUhPVB8fGJbMV0udHlwZSE9UD8hMTooQXJyYXkudW5vYnNlcnZlKGMsYSksITApfWZ1bmN0aW9uIGMoKXtpZihhLmRvY3VtZW50JiYic2VjdXJpdHlQb2xpY3kiaW4gYS5kb2N1bWVudCYmIWEuZG9jdW1lbnQuc2VjdXJpdHlQb2xpY3kuYWxsb3dzRXZhbClyZXR1cm4hMTt0cnl7dmFyIGI9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYigpfWNhdGNoKGMpe3JldHVybiExfX1mdW5jdGlvbiBkKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4rYX1mdW5jdGlvbiBmKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpTKGEpJiZTKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBoKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnRyaW0oKSwiIj09YT8hMDoiLiI9PWFbMF0/ITE6JC50ZXN0KGEpKX1mdW5jdGlvbiBpKGEsYil7aWYoYiE9PV8pdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczpkKGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLFImJnRoaXMubGVuZ3RoJiYodGhpcy5nZXRWYWx1ZUZyb209dGhpcy5jb21waWxlZEdldFZhbHVlRnJvbUZuKCkpLHZvaWQgMCl9ZnVuY3Rpb24gaihhKXtpZihhIGluc3RhbmNlb2YgaSlyZXR1cm4gYTtudWxsPT1hJiYoYT0iIiksInN0cmluZyIhPXR5cGVvZiBhJiYoYT1TdHJpbmcoYSkpO3ZhciBiPWFiW2FdO2lmKGIpcmV0dXJuIGI7aWYoIWgoYSkpcmV0dXJuIGJiO3ZhciBiPW5ldyBpKGEsXyk7cmV0dXJuIGFiW2FdPWIsYn1mdW5jdGlvbiBrKGIpe2Zvcih2YXIgYz0wO2RiPmMmJmIuY2hlY2tfKCk7KWMrKztyZXR1cm4gYS50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGEuZGlydHlDaGVja0N5Y2xlQ291bnQ9YyksYz4wfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gbChhLmFkZGVkKSYmbChhLnJlbW92ZWQpJiZsKGEuY2hhbmdlZCl9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPXt9LGQ9e30sZT17fTtmb3IodmFyIGYgaW4gYil7dmFyIGc9YVtmXTsodm9pZCAwPT09Z3x8ZyE9PWJbZl0pJiYoZiBpbiBhP2chPT1iW2ZdJiYoZVtmXT1nKTpkW2ZdPXZvaWQgMCl9Zm9yKHZhciBmIGluIGEpZiBpbiBifHwoY1tmXT1hW2ZdKTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGghPT1iLmxlbmd0aCYmKGUubGVuZ3RoPWEubGVuZ3RoKSx7YWRkZWQ6YyxyZW1vdmVkOmQsY2hhbmdlZDplfX1mdW5jdGlvbiBvKCl7aWYoIWViLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGViLmxlbmd0aDthKyspZWJbYV0oKTtyZXR1cm4gZWIubGVuZ3RoPTAsITB9ZnVuY3Rpb24gcCgpe2Z1bmN0aW9uIGEoYSl7YiYmYi5zdGF0ZV89PT1rYiYmIWQmJmIuY2hlY2tfKGEpfXZhciBiLGMsZD0hMSxlPSEwO3JldHVybntvcGVuOmZ1bmN0aW9uKGMpe2lmKGIpdGhyb3cgRXJyb3IoIk9ic2VydmVkT2JqZWN0IGluIHVzZSIpO2V8fE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxiPWMsZT0hMX0sb2JzZXJ2ZTpmdW5jdGlvbihiLGQpe2M9YixkP0FycmF5Lm9ic2VydmUoYyxhKTpPYmplY3Qub2JzZXJ2ZShjLGEpfSxkZWxpdmVyOmZ1bmN0aW9uKGIpe2Q9YixPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksZD0hMX0sY2xvc2U6ZnVuY3Rpb24oKXtiPXZvaWQgMCxPYmplY3QudW5vYnNlcnZlKGMsYSksZ2IucHVzaCh0aGlzKX19fWZ1bmN0aW9uIHEoYSxiLGMpe3ZhciBkPWdiLnBvcCgpfHxwKCk7cmV0dXJuIGQub3BlbihhKSxkLm9ic2VydmUoYixjKSxkfWZ1bmN0aW9uIHIoKXtmdW5jdGlvbiBhKGIpe2lmKGYoYikpe3ZhciBjPWkuaW5kZXhPZihiKTtjPj0wPyhpW2NdPXZvaWQgMCxoLnB1c2goYikpOmguaW5kZXhPZihiKTwwJiYoaC5wdXNoKGIpLE9iamVjdC5vYnNlcnZlKGIsZCkpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpKX19ZnVuY3Rpb24gYigpe2lmKGs9ITEsail7dmFyIGI9aT09PWhiP1tdOmk7aT1oLGg9Yjt2YXIgYztmb3IodmFyIGYgaW4gZSljPWVbZl0sYyYmYy5zdGF0ZV89PWtiJiZjLml0ZXJhdGVPYmplY3RzXyhhKTtmb3IodmFyIGc9MDtnPGkubGVuZ3RoO2crKyl7dmFyIGw9aVtnXTtsJiZPYmplY3QudW5vYnNlcnZlKGwsZCl9aS5sZW5ndGg9MH19ZnVuY3Rpb24gYygpe2t8fChqPSEwLGs9ITAsZmIoYikpfWZ1bmN0aW9uIGQoKXt2YXIgYTtmb3IodmFyIGIgaW4gZSlhPWVbYl0sYSYmYS5zdGF0ZV89PWtiJiZhLmNoZWNrXygpO2MoKX12YXIgZT1bXSxnPTAsaD1bXSxpPWhiLGo9ITEsaz0hMSxsPXtvYmplY3Q6dm9pZCAwLG9iamVjdHM6aCxvcGVuOmZ1bmN0aW9uKGIpe2VbYi5pZF9dPWIsZysrLGIuaXRlcmF0ZU9iamVjdHNfKGEpfSxjbG9zZTpmdW5jdGlvbihhKXtpZihlW2EuaWRfXT12b2lkIDAsZy0tLGcpcmV0dXJuIGMoKSx2b2lkIDA7aj0hMTtmb3IodmFyIGI9MDtiPGgubGVuZ3RoO2IrKylPYmplY3QudW5vYnNlcnZlKGhbYl0sZCksdC51bm9ic2VydmVkQ291bnQrKztlLmxlbmd0aD0wLGgubGVuZ3RoPTAsaWIucHVzaCh0aGlzKX0scmVzZXQ6Y307cmV0dXJuIGx9ZnVuY3Rpb24gcyhhLGIpe3JldHVybiBjYiYmY2Iub2JqZWN0PT09Ynx8KGNiPWliLnBvcCgpfHxyKCksY2Iub2JqZWN0PWIpLGNiLm9wZW4oYSksY2J9ZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGVfPWpiLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmIrK31mdW5jdGlvbiB1KGEpe3QuX2FsbE9ic2VydmVyc0NvdW50KysscGImJm9iLnB1c2goYSl9ZnVuY3Rpb24gdigpe3QuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gdyhhKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZV89YSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIHgoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTt3LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB5KGEsYil7dC5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89YiBpbnN0YW5jZW9mIGk/YjpqKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiB6KCl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBBKGEpe3JldHVybiBhfWZ1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89YSx0aGlzLmdldFZhbHVlRm5fPWJ8fEEsdGhpcy5zZXRWYWx1ZUZuXz1jfHxBLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1kfWZ1bmN0aW9uIEMoYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0Lm9ic2VydmUpe3ZhciBjPU9iamVjdC5nZXROb3RpZmllcihhKTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZj17b2JqZWN0OmEsdHlwZTpkLG5hbWU6Yn07Mj09PWFyZ3VtZW50cy5sZW5ndGgmJihmLm9sZFZhbHVlPWUpLGMubm90aWZ5KGYpfX19ZnVuY3Rpb24gRChhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3RiW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLGcudHlwZSE9TSYmKGcudHlwZSE9TD9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJue2luZGV4OmEscmVtb3ZlZDpiLGFkZGVkQ291bnQ6Y319ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBHKGEsYixjLGQsZSxmKXtyZXR1cm4geWIuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIEgoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gSShhLGIsYyxkKXtmb3IodmFyIGU9RShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPUgoZS5pbmRleCxlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGgsaS5pbmRleCxpLmluZGV4K2kuYWRkZWRDb3VudCk7aWYoaj49MCl7YS5zcGxpY2UoaCwxKSxoLS0sZy09aS5hZGRlZENvdW50LWkucmVtb3ZlZC5sZW5ndGgsZS5hZGRlZENvdW50Kz1pLmFkZGVkQ291bnQtajt2YXIgaz1lLnJlbW92ZWQubGVuZ3RoK2kucmVtb3ZlZC5sZW5ndGgtajtpZihlLmFkZGVkQ291bnR8fGspe3ZhciBjPWkucmVtb3ZlZDtpZihlLmluZGV4PGkuaW5kZXgpe3ZhciBsPWUucmVtb3ZlZC5zbGljZSgwLGkuaW5kZXgtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobCxjKSxjPWx9aWYoZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoPmkuaW5kZXgraS5hZGRlZENvdW50KXt2YXIgbT1lLnJlbW92ZWQuc2xpY2UoaS5pbmRleCtpLmFkZGVkQ291bnQtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxtKX1lLnJlbW92ZWQ9YyxpLmluZGV4PGUuaW5kZXgmJihlLmluZGV4PWkuaW5kZXgpfWVsc2UgZj0hMH1lbHNlIGlmKGUuaW5kZXg8aS5pbmRleCl7Zj0hMCxhLnNwbGljZShoLDAsZSksaCsrO3ZhciBuPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RoO2kuaW5kZXgrPW4sZys9bn19fWZ8fGEucHVzaChlKX1mdW5jdGlvbiBKKGEsYil7Zm9yKHZhciBjPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtzd2l0Y2goZy50eXBlKXtjYXNlIFA6SShjLGcuaW5kZXgsZy5yZW1vdmVkLnNsaWNlKCksZy5hZGRlZENvdW50KTticmVhaztjYXNlIEw6Y2FzZSBNOmNhc2UgTzppZighZChnLm5hbWUpKWNvbnRpbnVlO3ZhciBoPWUoZy5uYW1lKTtpZigwPmgpY29udGludWU7SShjLGgsW2cub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShnKSl9fXJldHVybiBjfWZ1bmN0aW9uIEsoYSxiKXt2YXIgYz1bXTtyZXR1cm4gSihhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD8oYi5yZW1vdmVkWzBdIT09YVtiLmluZGV4XSYmYy5wdXNoKGIpLHZvaWQgMCk6KGM9Yy5jb25jYXQoRyhhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpLHZvaWQgMCl9KSxjfXZhciBMPSJhZGQiLE09InVwZGF0ZSIsTj0icmVjb25maWd1cmUiLE89ImRlbGV0ZSIsUD0ic3BsaWNlIixRPWIoKSxSPWMoKSxTPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFQ9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFU9IlskX2EtekEtWl0iLFY9IlskX2EtekEtWjAtOV0iLFc9VSsiKyIrVisiKiIsWD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsWT0iKD86IitXKyJ8IitYKyIpIixaPSIoPzoiK1krIikoPzpcXHMqXFwuXFxzKiIrWSsiKSoiLCQ9bmV3IFJlZ0V4cCgiXiIrWisiJCIpLF89e30sYWI9e307aS5nZXQ9aixpLnByb3RvdHlwZT1UKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCIuIil9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFhKXJldHVybjtiKGEpfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPydbIicrYSsnIl0nOiIuIithfSksYj0iIixjPSJvYmoiO2IrPSJpZiAob2JqICE9IG51bGwiO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGgtMTtlKyspe3t0aGlzW2VdfWMrPWFbZV0sYis9IiAmJlxuICAgICAiK2MrIiAhPSBudWxsIn1yZXR1cm4gYis9IilcbiIsYys9YVtlXSxiKz0iICByZXR1cm4gIitjKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGJiPW5ldyBpKCIiLF8pO2JiLnZhbGlkPSExLGJiLmdldFZhbHVlRnJvbT1iYi5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBjYixkYj0xZTMsZWI9W10sZmI9UT9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe28oKSxiPSExfSksZnVuY3Rpb24oYyl7ZWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZWIucHVzaChhKX19KCksZ2I9W10saGI9W10saWI9W10samI9MCxrYj0xLGxiPTIsbWI9MyxuYj0xO3QucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gdSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJih2KHRoaXMpLHRoaXMuc3RhdGVfPWxiLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDApfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiZrKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7dC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBvYixwYj0hUTt0Ll9hbGxPYnNlcnZlcnNDb3VudD0wLHBiJiYob2I9W10pO3ZhciBxYj0hMSxyYj0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzO2EuUGxhdGZvcm09YS5QbGF0Zm9ybXx8e30sYS5QbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludD1mdW5jdGlvbigpe2lmKCFxYil7aWYocmIpcmV0dXJuIE9iamVjdC5kZWxpdmVyQWxsQ2hhbmdlUmVjb3JkcygpLHZvaWQgMDtpZihwYil7cWI9ITA7dmFyIGIsYyxkPTA7ZG97ZCsrLGM9b2Isb2I9W10sYj0hMTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXTtmLnN0YXRlXz09a2ImJihmLmNoZWNrXygpJiYoYj0hMCksb2IucHVzaChmKSl9bygpJiYoYj0hMCl9d2hpbGUoZGI+ZCYmYik7YS50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGEuZGlydHlDaGVja0N5Y2xlQ291bnQ9ZCkscWI9ITF9fX0scGImJihhLlBsYXRmb3JtLmNsZWFyT2JzZXJ2ZXJzPWZ1bmN0aW9uKCl7b2I9W119KSx3LnByb3RvdHlwZT1UKHtfX3Byb3RvX186dC5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiExLGNvbm5lY3RfOmZ1bmN0aW9uKCl7UT90aGlzLmRpcmVjdE9ic2VydmVyXz1xKHRoaXMsdGhpcy52YWx1ZV8sdGhpcy5hcnJheU9ic2VydmUpOnRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pfSxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LmlzQXJyYXkoYSk/W106e307Zm9yKHZhciBjIGluIGEpYltjXT1hW2NdO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiYoYi5sZW5ndGg9YS5sZW5ndGgpLGJ9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYixjO2lmKFEpe2lmKCFhKXJldHVybiExO2M9e30sYj1EKHRoaXMudmFsdWVfLGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0XyxiPW4odGhpcy52YWx1ZV8sdGhpcy5vbGRPYmplY3RfKTtyZXR1cm4gbShiKT8hMTooUXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7UT8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJihRP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITEpOmsodGhpcykpfSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdE9ic2VydmVyXz90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCEwKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSx0aGlzLnZhbHVlX319KSx4LnByb3RvdHlwZT1UKHtfX3Byb3RvX186dy5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiEwLGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2xpY2UoKX0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKFEpe2lmKCFhKXJldHVybiExO2I9Syh0aGlzLnZhbHVlXyxhKX1lbHNlIGI9Ryh0aGlzLnZhbHVlXywwLHRoaXMudmFsdWVfLmxlbmd0aCx0aGlzLm9sZE9iamVjdF8sMCx0aGlzLm9sZE9iamVjdF8ubGVuZ3RoKTtyZXR1cm4gYiYmYi5sZW5ndGg/KFF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiXSksITApOiExfX0pLHguYXBwbHlTcGxpY2VzPWZ1bmN0aW9uKGEsYixjKXtjLmZvckVhY2goZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtjLmluZGV4LGMucmVtb3ZlZC5sZW5ndGhdLGU9Yy5pbmRleDtlPGMuaW5kZXgrYy5hZGRlZENvdW50OylkLnB1c2goYltlXSksZSsrO0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYSxkKX0pfSx5LnByb3RvdHlwZT1UKHtfX3Byb3RvX186dC5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtRJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLHRoaXMub2JqZWN0XykpLHRoaXMuY2hlY2tfKHZvaWQgMCwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8uaXRlcmF0ZU9iamVjdHModGhpcy5vYmplY3RfLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnZhbHVlXztyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5wYXRoXy5nZXRWYWx1ZUZyb20odGhpcy5vYmplY3RfKSxifHxnKHRoaXMudmFsdWVfLGMpPyExOih0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxhKX19KTt2YXIgc2I9e307ei5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aWYodGhpcy5jaGVja18odm9pZCAwLCEwKSxRKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1zYil7Yj0hMDticmVha31yZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/Yj8odGhpcy5kaXJlY3RPYnNlcnZlcl8ucmVzZXQoKSx2b2lkIDApOih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx2b2lkIDApOihiJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLGEpKSx2b2lkIDApfX0sY2xvc2VPYnNlcnZlcnNfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLm9ic2VydmVkXy5sZW5ndGg7YSs9Mil0aGlzLm9ic2VydmVkX1thXT09PXNiJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTB9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKSx0aGlzLmNsb3NlT2JzZXJ2ZXJzXygpfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiJiZ0aGlzLnN0YXRlXyE9bWIpdGhyb3cgRXJyb3IoIkNhbm5vdCBhZGQgcGF0aHMgb25jZSBzdGFydGVkLiIpO3RoaXMub2JzZXJ2ZWRfLnB1c2goYSxiIGluc3RhbmNlb2YgaT9iOmooYikpfSxhZGRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlXyE9amImJnRoaXMuc3RhdGVfIT1tYil0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBvYnNlcnZlcnMgb25jZSBzdGFydGVkLiIpO2Eub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyksdGhpcy5vYnNlcnZlZF8ucHVzaChzYixhKX0sc3RhcnRSZXNldDpmdW5jdGlvbigpe2lmKHRoaXMuc3RhdGVfIT1rYil0aHJvdyBFcnJvcigiQ2FuIG9ubHkgcmVzZXQgd2hpbGUgb3BlbiIpO3RoaXMuc3RhdGVfPW1iLHRoaXMuY2xvc2VPYnNlcnZlcnNfKCl9LGZpbmlzaFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPW1iKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MiliPXRoaXMub2JzZXJ2ZWRfW2NdLGIhPT1zYiYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlPXRoaXMub2JzZXJ2ZWRfW2QrMV0sZj10aGlzLm9ic2VydmVkX1tkXSxoPWY9PT1zYj9lLmRpc2NhcmRDaGFuZ2VzKCk6ZS5nZXRWYWx1ZUZyb20oZik7Yj90aGlzLnZhbHVlX1tkLzJdPWg6ZyhoLHRoaXMudmFsdWVfW2QvMl0pfHwoYz1jfHxbXSxjW2QvMl09dGhpcy52YWx1ZV9bZC8yXSx0aGlzLnZhbHVlX1tkLzJdPWgpfXJldHVybiBjPyh0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGMsdGhpcy5vYnNlcnZlZF9dKSwhMCk6ITF9fSksQi5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8ub3Blbih0aGlzLm9ic2VydmVkQ2FsbGJhY2tfLHRoaXMpKSx0aGlzLnZhbHVlX30sb2JzZXJ2ZWRDYWxsYmFja186ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmdldFZhbHVlRm5fKGEpLCFnKGEsdGhpcy52YWx1ZV8pKXt2YXIgYj10aGlzLnZhbHVlXzt0aGlzLnZhbHVlXz1hLHRoaXMuY2FsbGJhY2tfLmNhbGwodGhpcy50YXJnZXRfLHRoaXMudmFsdWVfLGIpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JzZXJ2YWJsZV8uZGVsaXZlcigpfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLnNldFZhbHVlRm5fKGEpLCF0aGlzLmRvbnRQYXNzVGhyb3VnaFNldF8mJnRoaXMub2JzZXJ2YWJsZV8uc2V0VmFsdWU/dGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZShhKTp2b2lkIDB9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZhYmxlXyYmdGhpcy5vYnNlcnZhYmxlXy5jbG9zZSgpLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmdldFZhbHVlRm5fPXZvaWQgMCx0aGlzLnNldFZhbHVlRm5fPXZvaWQgMH19O3ZhciB0Yj17fTt0YltMXT0hMCx0YltNXT0hMCx0YltPXT0hMCx0LmRlZmluZUNvbXB1dGVkUHJvcGVydHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUMoYSxiKSxlPWMub3BlbihmdW5jdGlvbihhLGIpe2U9YSxkJiZkKE0sYil9KTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVsaXZlcigpLGV9LHNldDpmdW5jdGlvbihhKXtyZXR1cm4gYy5zZXRWYWx1ZShhKSxhfSxjb25maWd1cmFibGU6ITB9KSx7Y2xvc2U6ZnVuY3Rpb24oKXtjLmNsb3NlKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19fTt2YXIgdWI9MCx2Yj0xLHdiPTIseGI9MztGLnByb3RvdHlwZT17Y2FsY0VkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz1mLWUrMSxoPWMtYisxLGk9bmV3IEFycmF5KGcpLGo9MDtnPmo7aisrKWlbal09bmV3IEFycmF5KGgpLGlbal1bMF09ajtmb3IodmFyIGs9MDtoPms7aysrKWlbMF1ba109aztmb3IodmFyIGo9MTtnPmo7aisrKWZvcih2YXIgaz0xO2g+aztrKyspaWYodGhpcy5lcXVhbHMoYVtiK2stMV0sZFtlK2otMV0pKWlbal1ba109aVtqLTFdW2stMV07ZWxzZXt2YXIgbD1pW2otMV1ba10rMSxtPWlbal1bay0xXSsxO2lbal1ba109bT5sP2w6bX1yZXR1cm4gaX0sc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aC0xLGM9YVswXS5sZW5ndGgtMSxkPWFbYl1bY10sZT1bXTtiPjB8fGM+MDspaWYoMCE9YilpZigwIT1jKXt2YXIgZixnPWFbYi0xXVtjLTFdLGg9YVtiLTFdW2NdLGk9YVtiXVtjLTFdO2Y9aT5oP2c+aD9oOmc6Zz5pP2k6ZyxmPT1nPyhnPT1kP2UucHVzaCh1Yik6KGUucHVzaCh2YiksZD1nKSxiLS0sYy0tKTpmPT1oPyhlLnB1c2goeGIpLGItLSxkPWgpOihlLnB1c2god2IpLGMtLSxkPWkpfWVsc2UgZS5wdXNoKHhiKSxiLS07ZWxzZSBlLnB1c2god2IpLGMtLTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sY2FsY1NwbGljZXM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD0wLGk9TWF0aC5taW4oYy1iLGYtZSk7aWYoMD09YiYmMD09ZSYmKGc9dGhpcy5zaGFyZWRQcmVmaXgoYSxkLGkpKSxjPT1hLmxlbmd0aCYmZj09ZC5sZW5ndGgmJihoPXRoaXMuc2hhcmVkU3VmZml4KGEsZCxpLWcpKSxiKz1nLGUrPWcsYy09aCxmLT1oLGMtYj09MCYmZi1lPT0wKXJldHVybltdO2lmKGI9PWMpe2Zvcih2YXIgaj1FKGIsW10sMCk7Zj5lOylqLnJlbW92ZWQucHVzaChkW2UrK10pO3JldHVybltqXX1pZihlPT1mKXJldHVybltFKGIsW10sYy1iKV07Zm9yKHZhciBrPXRoaXMuc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKHRoaXMuY2FsY0VkaXREaXN0YW5jZXMoYSxiLGMsZCxlLGYpKSxqPXZvaWQgMCxsPVtdLG09YixuPWUsbz0wO288ay5sZW5ndGg7bysrKXN3aXRjaChrW29dKXtjYXNlIHViOmomJihsLnB1c2goaiksaj12b2lkIDApLG0rKyxuKys7YnJlYWs7Y2FzZSB2YjpqfHwoaj1FKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKyxqLnJlbW92ZWQucHVzaChkW25dKSxuKys7YnJlYWs7Y2FzZSB3YjpqfHwoaj1FKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKzticmVhaztjYXNlIHhiOmp8fChqPUUobSxbXSwwKSksai5yZW1vdmVkLnB1c2goZFtuXSksbisrfXJldHVybiBqJiZsLnB1c2goaiksbH0sc2hhcmVkUHJlZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MDtjPmQ7ZCsrKWlmKCF0aGlzLmVxdWFscyhhW2RdLGJbZF0pKXJldHVybiBkO3JldHVybiBjfSxzaGFyZWRTdWZmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPWIubGVuZ3RoLGY9MDtjPmYmJnRoaXMuZXF1YWxzKGFbLS1kXSxiWy0tZV0pOylmKys7cmV0dXJuIGZ9LGNhbGN1bGF0ZVNwbGljZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxjU3BsaWNlcyhhLDAsYS5sZW5ndGgsYiwwLGIubGVuZ3RoKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifX07dmFyIHliPW5ldyBGO2EuT2JzZXJ2ZXI9dCxhLk9ic2VydmVyLnJ1bkVPTV89ZmIsYS5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPVEsYS5BcnJheU9ic2VydmVyPXgsYS5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4geWIuY2FsY3VsYXRlU3BsaWNlcyhhLGIpfSxhLkFycmF5U3BsaWNlPUYsYS5PYmplY3RPYnNlcnZlcj13LGEuUGF0aE9ic2VydmVyPXksYS5Db21wb3VuZE9ic2VydmVyPXosYS5QYXRoPWksYS5PYnNlcnZlclRyYW5zZm9ybT1CLGEuT2JzZXJ2ZXIuY2hhbmdlUmVjb3JkVHlwZXM9e2FkZDpMLHVwZGF0ZTpNLHJlY29uZmlndXJlOk4sImRlbGV0ZSI6TyxzcGxpY2U6UH19KCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGU/Z2xvYmFsOnRoaXN8fHdpbmRvdyksd2luZG93LlBsYXRmb3JtPXdpbmRvdy5QbGF0Zm9ybXx8e30sd2luZG93LmxvZ0ZsYWdzPXdpbmRvdy5sb2dGbGFnc3x8e30sZnVuY3Rpb24oYSl7dmFyIGI9YS5mbGFnc3x8e307bG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbihhKXthPWEuc3BsaXQoIj0iKSxhWzBdJiYoYlthWzBdXT1hWzFdfHwhMCl9KSxiLnNoYWRvdz1iLnNoYWRvd3x8Yi5zaGFkb3dkb218fGIucG9seWZpbGwsYi5zaGFkb3c9Im5hdGl2ZSI9PT1iLnNoYWRvdz8hMTpiLnNoYWRvd3x8IUhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290JiYicG9seWZpbGwiLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJwb2x5ZmlsbCI9PT1QbGF0Zm9ybS5mbGFncy5zaGFkb3c/KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIEwoYikuZm9yRWFjaChmdW5jdGlvbihjKXtLKGEsYyxNKGIsYykpfSksYX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIEwoYikuZm9yRWFjaChmdW5jdGlvbihjKXtzd2l0Y2goYyl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6cmV0dXJufUsoYSxjLE0oYixjKSl9KSxhfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdaW4gYSlyZXR1cm4gYltjXX1mdW5jdGlvbiBmKGEpe3ZhciBiPWEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1FLmdldChiKTtpZihjKXJldHVybiBjO3ZhciBkPWYoYiksZT10KGQpO3JldHVybiBxKGIsZSxhKSxlfWZ1bmN0aW9uIGcoYSxiKXtvKGEsYiwhMCl9ZnVuY3Rpb24gaChhLGIpe28oYixhLCExKX1mdW5jdGlvbiBpKGEpe3JldHVybi9eb25bYS16XSskLy50ZXN0KGEpfWZ1bmN0aW9uIGooYSl7cmV0dXJuL15cd1thLXpBLVpfMC05XSokLy50ZXN0KGEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIEgmJmooYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdfX1mdW5jdGlvbiBsKGEpe3JldHVybiBIJiZqKGEpP25ldyBGdW5jdGlvbigidiIsInRoaXMuaW1wbC4iK2ErIiA9IHYiKTpmdW5jdGlvbihiKXt0aGlzLmltcGxbYV09Yn19ZnVuY3Rpb24gbShhKXtyZXR1cm4gSCYmaihhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKyIuYXBwbHkodGhpcy5pbXBsLCBhcmd1bWVudHMpIik6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX1mdW5jdGlvbiBuKGEsYil7dHJ5e3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYil9Y2F0Y2goYyl7cmV0dXJuIE99fWZ1bmN0aW9uIG8oYixjLGQpe2Zvcih2YXIgZT1MKGIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtpZigicG9seW1lckJsYWNrTGlzdF8iIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtOJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaixvPW4oYixnKTtpZihkJiYiZnVuY3Rpb24iPT10eXBlb2Ygby52YWx1ZSljW2ddPW0oZyk7ZWxzZXt2YXIgcD1pKGcpO2g9cD9hLmdldEV2ZW50SGFuZGxlckdldHRlcihnKTprKGcpLChvLndyaXRhYmxlfHxvLnNldCkmJihqPXA/YS5nZXRFdmVudEhhbmRsZXJTZXR0ZXIoZyk6bChnKSksSyhjLGcse2dldDpoLHNldDpqLGNvbmZpZ3VyYWJsZTpvLmNvbmZpZ3VyYWJsZSxlbnVtZXJhYmxlOm8uZW51bWVyYWJsZX0pfX19fWZ1bmN0aW9uIHAoYSxiLGMpe3ZhciBlPWEucHJvdG90eXBlO3EoZSxiLGMpLGQoYixhKX1mdW5jdGlvbiBxKGEsYyxkKXt2YXIgZT1jLnByb3RvdHlwZTtiKHZvaWQgMD09PUUuZ2V0KGEpKSxFLnNldChhLGMpLEYuc2V0KGUsYSksZyhhLGUpLGQmJmgoZSxkKSxLKGUsImNvbnN0cnVjdG9yIix7dmFsdWU6Yyxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pfWZ1bmN0aW9uIHIoYSxiKXtyZXR1cm4gRS5nZXQoYi5wcm90b3R5cGUpPT09YX1mdW5jdGlvbiBzKGEpe3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPWYoYiksZD10KGMpO3JldHVybiBxKGIsZCxhKSxkfWZ1bmN0aW9uIHQoYSl7ZnVuY3Rpb24gYihiKXthLmNhbGwodGhpcyxiKX1yZXR1cm4gYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSksYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixifWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBHLkV2ZW50VGFyZ2V0fHxhIGluc3RhbmNlb2YgRy5FdmVudHx8YSBpbnN0YW5jZW9mIEcuUmFuZ2V8fGEgaW5zdGFuY2VvZiBHLkRPTUltcGxlbWVudGF0aW9ufHxhIGluc3RhbmNlb2YgRy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8fEcuV2ViR0xSZW5kZXJpbmdDb250ZXh0JiZhIGluc3RhbmNlb2YgRy5XZWJHTFJlbmRlcmluZ0NvbnRleHR9ZnVuY3Rpb24gdihhKXtyZXR1cm4gUSYmYSBpbnN0YW5jZW9mIFF8fGEgaW5zdGFuY2VvZiBTfHxhIGluc3RhbmNlb2YgUnx8YSBpbnN0YW5jZW9mIFR8fGEgaW5zdGFuY2VvZiBVfHxhIGluc3RhbmNlb2YgUHx8YSBpbnN0YW5jZW9mIFZ8fFcmJmEgaW5zdGFuY2VvZiBXfHxYJiZhIGluc3RhbmNlb2YgWH1mdW5jdGlvbiB3KGEpe3JldHVybiBudWxsPT09YT9udWxsOihiKHYoYSkpLGEucG9seW1lcldyYXBwZXJffHwoYS5wb2x5bWVyV3JhcHBlcl89bmV3KGYoYSkpKGEpKSl9ZnVuY3Rpb24geChhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYih1KGEpKSxhLmltcGwpfWZ1bmN0aW9uIHkoYSl7cmV0dXJuIGEmJnUoYSk/eChhKTphfWZ1bmN0aW9uIHooYSl7cmV0dXJuIGEmJiF1KGEpP3coYSk6YX1mdW5jdGlvbiBBKGEsYyl7bnVsbCE9PWMmJihiKHYoYSkpLGIodm9pZCAwPT09Y3x8dShjKSksYS5wb2x5bWVyV3JhcHBlcl89Yyl9ZnVuY3Rpb24gQihhLGIsYyl7SyhhLnByb3RvdHlwZSxiLHtnZXQ6Yyxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfWZ1bmN0aW9uIEMoYSxiKXtCKGEsYixmdW5jdGlvbigpe3JldHVybiB3KHRoaXMuaW1wbFtiXSl9KX1mdW5jdGlvbiBEKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IuZm9yRWFjaChmdW5jdGlvbihiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3ZhciBhPXoodGhpcyk7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0pfSl9dmFyIEU9bmV3IFdlYWtNYXAsRj1uZXcgV2Vha01hcCxHPU9iamVjdC5jcmVhdGUobnVsbCksSD0hKCJzZWN1cml0eVBvbGljeSJpbiBkb2N1bWVudCl8fGRvY3VtZW50LnNlY3VyaXR5UG9saWN5LmFsbG93c0V2YWw7aWYoSCl0cnl7dmFyIEk9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtIPUkoKX1jYXRjaChKKXtIPSExfXZhciBLPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxMPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLE09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtMKHdpbmRvdyk7dmFyIE49L0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksTz17Z2V0OmZ1bmN0aW9uKCl7fSxzZXQ6ZnVuY3Rpb24oKXt9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSxQPXdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixRPXdpbmRvdy5FdmVudFRhcmdldCxSPXdpbmRvdy5FdmVudCxTPXdpbmRvdy5Ob2RlLFQ9d2luZG93LldpbmRvdyxVPXdpbmRvdy5SYW5nZSxWPXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsVz13aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0LFg9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTthLmFzc2VydD1iLGEuY29uc3RydWN0b3JUYWJsZT1FLGEuZGVmaW5lR2V0dGVyPUIsYS5kZWZpbmVXcmFwR2V0dGVyPUMsYS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcj1ELGEuaXNXcmFwcGVyPXUsYS5pc1dyYXBwZXJGb3I9cixhLm1peGluPWMsYS5uYXRpdmVQcm90b3R5cGVUYWJsZT1GLGEub25lT2Y9ZSxhLnJlZ2lzdGVyT2JqZWN0PXMsYS5yZWdpc3RlcldyYXBwZXI9cCxhLnJld3JhcD1BLGEudW53cmFwPXgsYS51bndyYXBJZk5lZWRlZD15LGEud3JhcD13LGEud3JhcElmTmVlZGVkPXosYS53cmFwcGVycz1HfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7Zz0hMTt2YXIgYT1mLnNsaWNlKDApO2Y9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfWZ1bmN0aW9uIGMoYSl7Zi5wdXNoKGEpLGd8fChnPSEwLGQoYiwwKSl9dmFyIGQsZT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcixmPVtdLGc9ITE7aWYoZSl7dmFyIGg9MSxpPW5ldyBlKGIpLGo9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCk7aS5vYnNlcnZlKGose2NoYXJhY3RlckRhdGE6ITB9KSxkPWZ1bmN0aW9uKCl7aD0oaCsxKSUyLGouZGF0YT1ofX1lbHNlIGQ9d2luZG93LnNldEltbWVkaWF0ZXx8d2luZG93LnNldFRpbWVvdXQ7YS5zZXRFbmRPZk1pY3JvdGFzaz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7cHx8KGsoYykscD0hMCl9ZnVuY3Rpb24gYygpe3A9ITE7ZG8gZm9yKHZhciBhPW8uc2xpY2UoKSxiPSExLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQudGFrZVJlY29yZHMoKTtmKGQpLGUubGVuZ3RoJiYoZC5jYWxsYmFja18oZSxkKSxiPSEwKX13aGlsZShiKX1mdW5jdGlvbiBkKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5yZW1vdmVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gZShhLGIpe2Zvcig7YTthPWEucGFyZW50Tm9kZSl7dmFyIGM9bi5nZXQoYSk7aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtlLm9wdGlvbnMuc3VidHJlZSYmZS5hZGRUcmFuc2llbnRPYnNlcnZlcihiKX19fWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPTA7YjxhLm5vZGVzXy5sZW5ndGg7YisrKXt2YXIgYz1hLm5vZGVzX1tiXSxkPW4uZ2V0KGMpO2lmKCFkKXJldHVybjtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtmLm9ic2VydmVyPT09YSYmZi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX19fWZ1bmN0aW9uIGcoYSxjLGUpe2Zvcih2YXIgZj1PYmplY3QuY3JlYXRlKG51bGwpLGc9T2JqZWN0LmNyZWF0ZShudWxsKSxoPWE7aDtoPWgucGFyZW50Tm9kZSl7dmFyIGk9bi5nZXQoaCk7aWYoaSlmb3IodmFyIGo9MDtqPGkubGVuZ3RoO2orKyl7dmFyIGs9aVtqXSxsPWsub3B0aW9ucztpZigoaD09PWF8fGwuc3VidHJlZSkmJiEoImF0dHJpYnV0ZXMiPT09YyYmIWwuYXR0cmlidXRlc3x8ImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVGaWx0ZXImJihudWxsIT09ZS5uYW1lc3BhY2V8fC0xPT09bC5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihlLm5hbWUpKXx8ImNoYXJhY3RlckRhdGEiPT09YyYmIWwuY2hhcmFjdGVyRGF0YXx8ImNoaWxkTGlzdCI9PT1jJiYhbC5jaGlsZExpc3QpKXt2YXIgbT1rLm9ic2VydmVyO2ZbbS51aWRfXT1tLCgiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZU9sZFZhbHVlfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiZsLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSkmJihnW20udWlkX109ZS5vbGRWYWx1ZSl9fX12YXIgbz0hMTtmb3IodmFyIHAgaW4gZil7dmFyIG09ZltwXSxxPW5ldyBkKGMsYSk7Im5hbWUiaW4gZSYmIm5hbWVzcGFjZSJpbiBlJiYocS5hdHRyaWJ1dGVOYW1lPWUubmFtZSxxLmF0dHJpYnV0ZU5hbWVzcGFjZT1lLm5hbWVzcGFjZSksZS5hZGRlZE5vZGVzJiYocS5hZGRlZE5vZGVzPWUuYWRkZWROb2RlcyksZS5yZW1vdmVkTm9kZXMmJihxLnJlbW92ZWROb2Rlcz1lLnJlbW92ZWROb2RlcyksZS5wcmV2aW91c1NpYmxpbmcmJihxLnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZyksZS5uZXh0U2libGluZyYmKHEubmV4dFNpYmxpbmc9ZS5uZXh0U2libGluZyksdm9pZCAwIT09Z1twXSYmKHEub2xkVmFsdWU9Z1twXSksbS5yZWNvcmRzXy5wdXNoKHEpLG89ITB9byYmYigpfWZ1bmN0aW9uIGgoYSl7aWYodGhpcy5jaGlsZExpc3Q9ISFhLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFhLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGF8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGF8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSk/ISFhLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gYSYmISgiY2hhcmFjdGVyRGF0YSJpbiBhKT8hMDohIWEuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoYS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFhLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWEuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGEpe2lmKG51bGw9PWEuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGEuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9cS5jYWxsKGEuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gaShhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrcixvLnB1c2godGhpcyl9ZnVuY3Rpb24gaihhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBrPWEuc2V0RW5kT2ZNaWNyb3Rhc2ssbD1hLndyYXBJZk5lZWRlZCxtPWEud3JhcHBlcnMsbj1uZXcgV2Vha01hcCxvPVtdLHA9ITEscT1BcnJheS5wcm90b3R5cGUuc2xpY2Uscj0wO2kucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7YT1sKGEpO3ZhciBjLGQ9bmV3IGgoYiksZT1uLmdldChhKTtlfHxuLnNldChhLGU9W10pO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0ub2JzZXJ2ZXI9PT10aGlzJiYoYz1lW2ZdLGMucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCksYy5vcHRpb25zPWQpO2N8fChjPW5ldyBqKHRoaXMsYSxkKSxlLnB1c2goYyksdGhpcy5ub2Rlc18ucHVzaChhKSl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fSxqLnByb3RvdHlwZT17YWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1uLmdldChhKTtifHxuLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspZm9yKHZhciBjPWFbYl0sZD1uLmdldChjKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYoZFtlXT09PXRoaXMpe2Quc3BsaWNlKGUsMSk7YnJlYWt9fX0sYS5lbnF1ZXVlTXV0YXRpb249ZyxhLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzPWUsYS53cmFwcGVycy5NdXRhdGlvbk9ic2VydmVyPWksYS53cmFwcGVycy5NdXRhdGlvblJlY29yZD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290fWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5sb2NhbE5hbWU7cmV0dXJuImNvbnRlbnQiPT09Ynx8InNoYWRvdyI9PT1ifWZ1bmN0aW9uIGQoYSl7cmV0dXJuISFhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24gZShhKXt2YXIgYjtyZXR1cm4gYS5wYXJlbnROb2RlfHwoYj1hLmRlZmF1bHRWaWV3KSYmUChiKXx8bnVsbH1mdW5jdGlvbiBmKGYsZyxoKXtpZihoLmxlbmd0aClyZXR1cm4gaC5zaGlmdCgpO2lmKGIoZikpcmV0dXJuIGooZil8fGYuaG9zdDt2YXIgaT1hLmV2ZW50UGFyZW50c1RhYmxlLmdldChmKTtpZihpKXtmb3IodmFyIGs9MTtrPGkubGVuZ3RoO2srKyloW2stMV09aVtrXTtyZXR1cm4gaVswXX1pZihnJiZjKGYpKXt2YXIgbD1mLnBhcmVudE5vZGU7aWYobCYmZChsKSlmb3IodmFyIG09YS5nZXRTaGFkb3dUcmVlcyhsKSxuPWooZyksaz0wO2s8bS5sZW5ndGg7aysrKWlmKG1ba10uY29udGFpbnMobikpcmV0dXJuIG59cmV0dXJuIGUoZil9ZnVuY3Rpb24gZyhhKXtmb3IodmFyIGQ9W10sZT1hLGc9W10saT1bXTtlOyl7dmFyIGo9bnVsbDtpZihjKGUpKXtqPWgoZCk7dmFyIGs9ZFtkLmxlbmd0aC0xXXx8ZTtkLnB1c2goayl9ZWxzZSBkLmxlbmd0aHx8ZC5wdXNoKGUpO3ZhciBsPWRbZC5sZW5ndGgtMV07Zy5wdXNoKHt0YXJnZXQ6bCxjdXJyZW50VGFyZ2V0OmV9KSxiKGUpJiZkLnBvcCgpLGU9ZihlLGosaSl9cmV0dXJuIGd9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9YS5sZW5ndGgtMTtiPj0wO2ItLSlpZighYyhhW2JdKSlyZXR1cm4gYVtiXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBpKGEsZCl7Zm9yKHZhciBlPVtdO2E7KXtmb3IodmFyIGc9W10saT1kLGo9dm9pZCAwO2k7KXt2YXIgbD1udWxsO2lmKGcubGVuZ3RoKXtpZihjKGkpJiYobD1oKGcpLGsoaikpKXt2YXIgbj1nW2cubGVuZ3RoLTFdO2cucHVzaChuKX19ZWxzZSBnLnB1c2goaSk7aWYobShpLGEpKXJldHVybiBnW2cubGVuZ3RoLTFdO2IoaSkmJmcucG9wKCksaj1pLGk9ZihpLGwsZSl9YT1iKGEpP2EuaG9zdDphLnBhcmVudE5vZGV9fWZ1bmN0aW9uIGooYil7cmV0dXJuIGEuaW5zZXJ0aW9uUGFyZW50VGFibGUuZ2V0KGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGooYSl9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGI7Yj1hLnBhcmVudE5vZGU7KWE9YjtyZXR1cm4gYX1mdW5jdGlvbiBtKGEsYil7cmV0dXJuIGwoYSk9PT1sKGIpfWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYT09PWI/ITA6YSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdD9uKGwoYS5ob3N0KSxiKTohMX1mdW5jdGlvbiBvKGEpe3JldHVybiBTLmdldChhKT92b2lkIDA6KFMuc2V0KGEsITApLHAoUChhKSxQKGEudGFyZ2V0KSkpfWZ1bmN0aW9uIHAoYixjKXtpZihULmdldChiKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTdGF0ZUVycm9yIik7VC5zZXQoYiwhMCksYS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGQ9ZyhjKTtyZXR1cm4ibG9hZCI9PT1iLnR5cGUmJjI9PT1kLmxlbmd0aCYmZFswXS50YXJnZXQgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiZkLnNoaWZ0KCksXy5zZXQoYixkKSxxKGIsZCkmJnIoYixkKSYmcyhiLGQpLFguc2V0KGIsdi5OT05FKSxWLmRlbGV0ZShiLG51bGwpLFQuZGVsZXRlKGIpLGIuZGVmYXVsdFByZXZlbnRlZH1mdW5jdGlvbiBxKGEsYil7Zm9yKHZhciBjLGQ9Yi5sZW5ndGgtMTtkPjA7ZC0tKXt2YXIgZT1iW2RdLnRhcmdldCxmPWJbZF0uY3VycmVudFRhcmdldDtpZihlIT09ZiYmKGM9di5DQVBUVVJJTkdfUEhBU0UsIXQoYltkXSxhLGMpKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiByKGEsYil7dmFyIGM9di5BVF9UQVJHRVQ7cmV0dXJuIHQoYlswXSxhLGMpfWZ1bmN0aW9uIHMoYSxiKXtmb3IodmFyIGMsZD1hLmJ1YmJsZXMsZT0xO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1iW2VdLnRhcmdldCxnPWJbZV0uY3VycmVudFRhcmdldDtpZihmPT09ZyljPXYuQVRfVEFSR0VUO2Vsc2V7aWYoIWR8fFouZ2V0KGEpKWNvbnRpbnVlO2M9di5CVUJCTElOR19QSEFTRX1pZighdChiW2VdLGEsYykpcmV0dXJufX1mdW5jdGlvbiB0KGEsYixjKXt2YXIgZD1hLnRhcmdldCxlPWEuY3VycmVudFRhcmdldCxmPVIuZ2V0KGUpO2lmKCFmKXJldHVybiEwO2lmKCJyZWxhdGVkVGFyZ2V0ImluIGIpe3ZhciBnPU8oYik7aWYoZy5yZWxhdGVkVGFyZ2V0KXt2YXIgaD1QKGcucmVsYXRlZFRhcmdldCksaj1pKGUsaCk7aWYoaj09PWQpcmV0dXJuITA7Vy5zZXQoYixqKX19WC5zZXQoYixjKTt2YXIgaz1iLnR5cGUsbD0hMTtVLnNldChiLGQpLFYuc2V0KGIsZSk7Zm9yKHZhciBtPTA7bTxmLmxlbmd0aDttKyspe3ZhciBuPWZbbV07aWYobi5yZW1vdmVkKWw9ITA7ZWxzZSBpZighKG4udHlwZSE9PWt8fCFuLmNhcHR1cmUmJmM9PT12LkNBUFRVUklOR19QSEFTRXx8bi5jYXB0dXJlJiZjPT09di5CVUJCTElOR19QSEFTRSkpdHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuLmhhbmRsZXI/bi5oYW5kbGVyLmNhbGwoZSxiKTpuLmhhbmRsZXIuaGFuZGxlRXZlbnQoYiksWi5nZXQoYikpcmV0dXJuITF9Y2F0Y2gobyl7d2luZG93Lm9uZXJyb3I/d2luZG93Lm9uZXJyb3Ioby5tZXNzYWdlKTpjb25zb2xlLmVycm9yKG8sby5zdGFjayl9fWlmKGwpe3ZhciBwPWYuc2xpY2UoKTtmLmxlbmd0aD0wO2Zvcih2YXIgbT0wO208cC5sZW5ndGg7bSsrKXBbbV0ucmVtb3ZlZHx8Zi5wdXNoKHBbbV0pfXJldHVybiFZLmdldChiKX1mdW5jdGlvbiB1KGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLmhhbmRsZXI9Yix0aGlzLmNhcHR1cmU9Qm9vbGVhbihjKX1mdW5jdGlvbiB2KGEsYil7cmV0dXJuIGEgaW5zdGFuY2VvZiBhYj8odGhpcy5pbXBsPWEsdm9pZCAwKTpQKHooYWIsIkV2ZW50IixhLGIpKX1mdW5jdGlvbiB3KGEpe3JldHVybiBhJiZhLnJlbGF0ZWRUYXJnZXQ/T2JqZWN0LmNyZWF0ZShhLHtyZWxhdGVkVGFyZ2V0Ont2YWx1ZTpPKGEucmVsYXRlZFRhcmdldCl9fSk6YX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD13aW5kb3dbYV0sZT1mdW5jdGlvbihiLGMpe3JldHVybiBiIGluc3RhbmNlb2YgZD8odGhpcy5pbXBsPWIsdm9pZCAwKTpQKHooZCxhLGIsYykpfTtpZihlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxjJiZNKGUucHJvdG90eXBlLGMpLGQpdHJ5e04oZCxlLG5ldyBkKCJ0ZW1wIikpfWNhdGNoKGYpe04oZCxlLGRvY3VtZW50LmNyZWF0ZUV2ZW50KGEpKX1yZXR1cm4gZX1mdW5jdGlvbiB5KGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YXJndW1lbnRzW2JdPU8oYXJndW1lbnRzW2JdKTt2YXIgYz1PKHRoaXMpO2NbYV0uYXBwbHkoYyxhcmd1bWVudHMpfX1mdW5jdGlvbiB6KGEsYixjLGQpe2lmKGpiKXJldHVybiBuZXcgYShjLHcoZCkpO3ZhciBlPU8oZG9jdW1lbnQuY3JlYXRlRXZlbnQoYikpLGY9aWJbYl0sZz1bY107cmV0dXJuIE9iamVjdC5rZXlzKGYpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9ZCYmYSBpbiBkP2RbYV06ZlthXTsicmVsYXRlZFRhcmdldCI9PT1hJiYoYj1PKGIpKSxnLnB1c2goYil9KSxlWyJpbml0IitiXS5hcHBseShlLGcpLGV9ZnVuY3Rpb24gQSgpe3YuY2FsbCh0aGlzKX1mdW5jdGlvbiBCKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhPyEwOmEmJmEuaGFuZGxlRXZlbnR9ZnVuY3Rpb24gQyhhKXtzd2l0Y2goYSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOmNhc2UiRE9NQXR0cmlidXRlTmFtZUNoYW5nZWQiOmNhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjpjYXNlIkRPTUVsZW1lbnROYW1lQ2hhbmdlZCI6Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50IjpjYXNlIkRPTU5vZGVSZW1vdmVkIjpjYXNlIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50IjpjYXNlIkRPTVN1YnRyZWVNb2RpZmllZCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gRChhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBFKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290JiYoYT1hLmhvc3QpLE8oYSl9ZnVuY3Rpb24gRihhLGIpe3ZhciBjPVIuZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIWNbZF0ucmVtb3ZlZCYmY1tkXS50eXBlPT09YilyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBHKGEsYil7Zm9yKHZhciBjPU8oYSk7YztjPWMucGFyZW50Tm9kZSlpZihGKFAoYyksYikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gSChhKXtMKGEsbWIpfWZ1bmN0aW9uIEkoYixjLGQsZSl7YS5yZW5kZXJBbGxQZW5kaW5nKCk7Zm9yKHZhciBmPVAobmIuY2FsbChjLmltcGwsZCxlKSksaD1nKGYsdGhpcyksaT0wO2k8aC5sZW5ndGg7aSsrKXt2YXIgaj1oW2ldO2lmKGouY3VycmVudFRhcmdldD09PWIpcmV0dXJuIGoudGFyZ2V0fXJldHVybiBudWxsfWZ1bmN0aW9uIEooYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9JC5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEsoYSl7dmFyIGI9YS5zbGljZSgyKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9JC5nZXQodGhpcyk7ZHx8KGQ9T2JqZWN0LmNyZWF0ZShudWxsKSwkLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBMPWEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXIsTT1hLm1peGluLE49YS5yZWdpc3RlcldyYXBwZXIsTz1hLnVud3JhcCxQPWEud3JhcCxRPWEud3JhcHBlcnMsUj0obmV3IFdlYWtNYXAsbmV3IFdlYWtNYXApLFM9bmV3IFdlYWtNYXAsVD1uZXcgV2Vha01hcCxVPW5ldyBXZWFrTWFwLFY9bmV3IFdlYWtNYXAsVz1uZXcgV2Vha01hcCxYPW5ldyBXZWFrTWFwLFk9bmV3IFdlYWtNYXAsWj1uZXcgV2Vha01hcCwkPW5ldyBXZWFrTWFwLF89bmV3IFdlYWtNYXA7dS5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGVyPT09YS5oYW5kbGVyJiZ0aGlzLnR5cGU9PT1hLnR5cGUmJnRoaXMuY2FwdHVyZT09PWEuY2FwdHVyZX0sZ2V0IHJlbW92ZWQoKXtyZXR1cm4gbnVsbD09PXRoaXMuaGFuZGxlcn0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyPW51bGx9fTt2YXIgYWI9d2luZG93LkV2ZW50O2FiLnByb3RvdHlwZS5wb2x5bWVyQmxhY2tMaXN0Xz17cmV0dXJuVmFsdWU6ITAsa2V5TG9jYXRpb246ITB9LHYucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIFUuZ2V0KHRoaXMpfSxnZXQgY3VycmVudFRhcmdldCgpe3JldHVybiBWLmdldCh0aGlzKX0sZ2V0IGV2ZW50UGhhc2UoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBwYXRoKCl7dmFyIGE9bmV3IFEuTm9kZUxpc3QsYj1fLmdldCh0aGlzKTtpZihiKXtmb3IodmFyIGM9MCxkPWIubGVuZ3RoLTEsZT1sKFYuZ2V0KHRoaXMpKSxmPTA7ZD49ZjtmKyspe3ZhciBnPWJbZl0uY3VycmVudFRhcmdldCxoPWwoZyk7bihlLGgpJiYoZiE9PWR8fGcgaW5zdGFuY2VvZiBRLk5vZGUpJiYoYVtjKytdPWcpfWEubGVuZ3RoPWN9cmV0dXJuIGF9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe1kuc2V0KHRoaXMsITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKSxaLnNldCh0aGlzLCEwKX19LE4oYWIsdixkb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSk7dmFyIGJiPXgoIlVJRXZlbnQiLHYpLGNiPXgoIkN1c3RvbUV2ZW50Iix2KSxkYj17Z2V0IHJlbGF0ZWRUYXJnZXQoKXtyZXR1cm4gVy5nZXQodGhpcyl8fFAoTyh0aGlzKS5yZWxhdGVkVGFyZ2V0KX19LGViPU0oe2luaXRNb3VzZUV2ZW50OnkoImluaXRNb3VzZUV2ZW50IiwxNCl9LGRiKSxmYj1NKHtpbml0Rm9jdXNFdmVudDp5KCJpbml0Rm9jdXNFdmVudCIsNSl9LGRiKSxnYj14KCJNb3VzZUV2ZW50IixiYixlYiksaGI9eCgiRm9jdXNFdmVudCIsYmIsZmIpLGliPU9iamVjdC5jcmVhdGUobnVsbCksamI9ZnVuY3Rpb24oKXt0cnl7bmV3IHdpbmRvdy5Gb2N1c0V2ZW50KCJmb2N1cyIpfWNhdGNoKGEpe3JldHVybiExfXJldHVybiEwfSgpO2lmKCFqYil7dmFyIGtiPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1pYltjXTtiPU0oTSh7fSxkKSxiKX1pYlthXT1ifTtrYigiRXZlbnQiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITF9KSxrYigiQ3VzdG9tRXZlbnQiLHtkZXRhaWw6bnVsbH0sIkV2ZW50Iiksa2IoIlVJRXZlbnQiLHt2aWV3Om51bGwsZGV0YWlsOjB9LCJFdmVudCIpLGtiKCJNb3VzZUV2ZW50Iix7c2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsYnV0dG9uOjAscmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpLGtiKCJGb2N1c0V2ZW50Iix7cmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpfUEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodi5wcm90b3R5cGUpLE0oQS5wcm90b3R5cGUse2dldCByZXR1cm5WYWx1ZSgpe3JldHVybiB0aGlzLmltcGwucmV0dXJuVmFsdWV9LHNldCByZXR1cm5WYWx1ZShhKXt0aGlzLmltcGwucmV0dXJuVmFsdWU9YQp9fSk7dmFyIGxiPXdpbmRvdy5FdmVudFRhcmdldCxtYj1bImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdO1tOb2RlLFdpbmRvd10uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnByb3RvdHlwZTttYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGErIl8iLHt2YWx1ZTpiW2FdfSl9KX0pLEQucHJvdG90eXBlPXthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtpZihCKGIpJiYhQyhhKSl7dmFyIGQ9bmV3IHUoYSxiLGMpLGU9Ui5nZXQodGhpcyk7aWYoZSl7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspaWYoZC5lcXVhbHMoZVtmXSkpcmV0dXJufWVsc2UgZT1bXSxSLnNldCh0aGlzLGUpO2UucHVzaChkKTt2YXIgZz1FKHRoaXMpO2cuYWRkRXZlbnRMaXN0ZW5lcl8oYSxvLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Qm9vbGVhbihjKTt2YXIgZD1SLmdldCh0aGlzKTtpZihkKXtmb3IodmFyIGU9MCxmPSExLGc9MDtnPGQubGVuZ3RoO2crKylkW2ddLnR5cGU9PT1hJiZkW2ddLmNhcHR1cmU9PT1jJiYoZSsrLGRbZ10uaGFuZGxlcj09PWImJihmPSEwLGRbZ10ucmVtb3ZlKCkpKTtpZihmJiYxPT09ZSl7dmFyIGg9RSh0aGlzKTtoLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGEsbywhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihiKXt2YXIgYz1PKGIpLGQ9Yy50eXBlO1Muc2V0KGMsITEpLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlO0codGhpcyxkKXx8KGU9ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApKTt0cnl7cmV0dXJuIE8odGhpcykuZGlzcGF0Y2hFdmVudF8oYyl9ZmluYWxseXtlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCEwKX19fSxsYiYmTihsYixEKTt2YXIgbmI9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDthLmFkanVzdFJlbGF0ZWRUYXJnZXQ9aSxhLmVsZW1lbnRGcm9tUG9pbnQ9SSxhLmdldEV2ZW50SGFuZGxlckdldHRlcj1KLGEuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPUssYS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPUgsYS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD1BLGEud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9Y2IsYS53cmFwcGVycy5FdmVudD12LGEud3JhcHBlcnMuRXZlbnRUYXJnZXQ9RCxhLndyYXBwZXJzLkZvY3VzRXZlbnQ9aGIsYS53cmFwcGVycy5Nb3VzZUV2ZW50PWdiLGEud3JhcHBlcnMuVUlFdmVudD1iYn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2VudW1lcmFibGU6ITF9KX1mdW5jdGlvbiBjKCl7dGhpcy5sZW5ndGg9MCxiKHRoaXMsImxlbmd0aCIpfWZ1bmN0aW9uIGQoYSl7aWYobnVsbD09YSlyZXR1cm4gYTtmb3IodmFyIGI9bmV3IGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliW2RdPWYoYVtkXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBlKGEsYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX12YXIgZj1hLndyYXA7Yy5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxiKGMucHJvdG90eXBlLCJpdGVtIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt3KGEgaW5zdGFuY2VvZiB0KX1mdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyB2O3JldHVybiBiWzBdPWEsYi5sZW5ndGg9MSxifWZ1bmN0aW9uIGQoYSxiLGMpe3koYiwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmMscHJldmlvdXNTaWJsaW5nOmEucHJldmlvdXNTaWJsaW5nLG5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmd9KX1mdW5jdGlvbiBlKGEsYil7eShhLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6Yn0pfWZ1bmN0aW9uIGYoYSxiLGQsZSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpe3ZhciBmPWgoYSk7Rz0hMDtmb3IodmFyIGc9Zi5sZW5ndGgtMTtnPj0wO2ctLSlhLnJlbW92ZUNoaWxkKGZbZ10pLGZbZ10ucGFyZW50Tm9kZV89YjtHPSExO2Zvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKWZbZ10ucHJldmlvdXNTaWJsaW5nXz1mW2ctMV18fGQsZltnXS5uZXh0U2libGluZ189ZltnKzFdfHxlO3JldHVybiBkJiYoZC5uZXh0U2libGluZ189ZlswXSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1mW2YubGVuZ3RoLTFdKSxmfXZhciBmPWMoYSksaT1hLnBhcmVudE5vZGU7cmV0dXJuIGkmJmkucmVtb3ZlQ2hpbGQoYSksYS5wYXJlbnROb2RlXz1iLGEucHJldmlvdXNTaWJsaW5nXz1kLGEubmV4dFNpYmxpbmdfPWUsZCYmKGQubmV4dFNpYmxpbmdfPWEpLGUmJihlLnByZXZpb3VzU2libGluZ189YSksZn1mdW5jdGlvbiBnKGEpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXJldHVybiBoKGEpO3ZhciBiPWMoYSksZT1hLnBhcmVudE5vZGU7cmV0dXJuIGUmJmQoYSxlLGIpLGJ9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9bmV3IHYsYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBiLmxlbmd0aD1jLGUoYSxiKSxifWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gaihhKXthLm5vZGVJc0luc2VydGVkXygpfWZ1bmN0aW9uIGsoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspaihhW2JdKX1mdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubm9kZVR5cGU9PT10LkRPQ1VNRU5UX05PREU/YTphLm93bmVyRG9jdW1lbnQ7YyE9PWIub3duZXJEb2N1bWVudCYmYy5hZG9wdE5vZGUoYil9ZnVuY3Rpb24gbyhiLGMpe2lmKGMubGVuZ3RoKXt2YXIgZD1iLm93bmVyRG9jdW1lbnQ7aWYoZCE9PWNbMF0ub3duZXJEb2N1bWVudClmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylhLmFkb3B0Tm9kZU5vUmVtb3ZlKGNbZV0sZCl9fWZ1bmN0aW9uIHAoYSxiKXtvKGEsYik7dmFyIGM9Yi5sZW5ndGg7aWYoMT09PWMpcmV0dXJuIEQoYlswXSk7Zm9yKHZhciBkPUQoYS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZT0wO2M+ZTtlKyspZC5hcHBlbmRDaGlsZChEKGJbZV0pKTtyZXR1cm4gZH1mdW5jdGlvbiBxKGEpe2lmKHZvaWQgMCE9PWEuZmlyc3RDaGlsZF8pZm9yKHZhciBiPWEuZmlyc3RDaGlsZF87Yjspe3ZhciBjPWI7Yj1iLm5leHRTaWJsaW5nXyxjLnBhcmVudE5vZGVfPWMucHJldmlvdXNTaWJsaW5nXz1jLm5leHRTaWJsaW5nXz12b2lkIDB9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89dm9pZCAwfWZ1bmN0aW9uIHIoYSl7aWYoYS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiOyl7dyhiLnBhcmVudE5vZGU9PT1hKTt2YXIgYz1iLm5leHRTaWJsaW5nLGQ9RChiKSxlPWQucGFyZW50Tm9kZTtlJiZMLmNhbGwoZSxkKSxiLnByZXZpb3VzU2libGluZ189Yi5uZXh0U2libGluZ189Yi5wYXJlbnROb2RlXz1udWxsLGI9Y31hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz1udWxsfWVsc2UgZm9yKHZhciBjLGY9RChhKSxnPWYuZmlyc3RDaGlsZDtnOyljPWcubmV4dFNpYmxpbmcsTC5jYWxsKGYsZyksZz1jfWZ1bmN0aW9uIHMoYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfWZ1bmN0aW9uIHQoYSl7dyhhIGluc3RhbmNlb2YgSCksdS5jYWxsKHRoaXMsYSksdGhpcy5wYXJlbnROb2RlXz12b2lkIDAsdGhpcy5maXJzdENoaWxkXz12b2lkIDAsdGhpcy5sYXN0Q2hpbGRfPXZvaWQgMCx0aGlzLm5leHRTaWJsaW5nXz12b2lkIDAsdGhpcy5wcmV2aW91c1NpYmxpbmdfPXZvaWQgMH12YXIgdT1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LHY9YS53cmFwcGVycy5Ob2RlTGlzdCx3PWEuYXNzZXJ0LHg9YS5kZWZpbmVXcmFwR2V0dGVyLHk9YS5lbnF1ZXVlTXV0YXRpb24sej1hLmlzV3JhcHBlcixBPWEubWl4aW4sQj1hLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzLEM9YS5yZWdpc3RlcldyYXBwZXIsRD1hLnVud3JhcCxFPWEud3JhcCxGPWEud3JhcElmTmVlZGVkLEc9ITEsSD13aW5kb3cuTm9kZSxJPXdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LEo9KEgucHJvdG90eXBlLmFwcGVuZENoaWxkLEgucHJvdG90eXBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxLPUgucHJvdG90eXBlLmluc2VydEJlZm9yZSxMPUgucHJvdG90eXBlLnJlbW92ZUNoaWxkLE09SC5wcm90b3R5cGUucmVwbGFjZUNoaWxkLE49L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksTz1OP2Z1bmN0aW9uKGEsYil7dHJ5e0wuY2FsbChhLGIpfWNhdGNoKGMpe2lmKCEoYSBpbnN0YW5jZW9mIEkpKXRocm93IGN9fTpmdW5jdGlvbihhLGIpe0wuY2FsbChhLGIpfTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSxBKHQucHJvdG90eXBlLHthcHBlbmRDaGlsZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoYSxudWxsKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEsYyl7YihhKTt2YXIgZDtjP3ooYyk/ZD1EKGMpOihkPWMsYz1FKGQpKTooYz1udWxsLGQ9bnVsbCksYyYmdyhjLnBhcmVudE5vZGU9PT10aGlzKTt2YXIgZSxoPWM/Yy5wcmV2aW91c1NpYmxpbmc6dGhpcy5sYXN0Q2hpbGQsaT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7aWYoZT1pP2coYSk6ZihhLHRoaXMsaCxjKSxpKW4odGhpcyxhKSxxKHRoaXMpLEsuY2FsbCh0aGlzLmltcGwsRChhKSxkKTtlbHNle2h8fCh0aGlzLmZpcnN0Q2hpbGRfPWVbMF0pLGN8fCh0aGlzLmxhc3RDaGlsZF89ZVtlLmxlbmd0aC0xXSk7dmFyIGo9ZD9kLnBhcmVudE5vZGU6dGhpcy5pbXBsO2o/Sy5jYWxsKGoscCh0aGlzLGUpLGQpOm8odGhpcyxlKX1yZXR1cm4geSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmUsbmV4dFNpYmxpbmc6YyxwcmV2aW91c1NpYmxpbmc6aH0pLGsoZSksYX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSl7aWYoYihhKSxhLnBhcmVudE5vZGUhPT10aGlzKXtmb3IodmFyIGQ9ITEsZT0odGhpcy5jaGlsZE5vZGVzLHRoaXMuZmlyc3RDaGlsZCk7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZT09PWEpe2Q9ITA7YnJlYWt9aWYoIWQpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIil9dmFyIGY9RChhKSxnPWEubmV4dFNpYmxpbmcsaD1hLnByZXZpb3VzU2libGluZztpZih0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXt2YXIgaT10aGlzLmZpcnN0Q2hpbGQsaj10aGlzLmxhc3RDaGlsZCxrPWYucGFyZW50Tm9kZTtrJiZPKGssZiksaT09PWEmJih0aGlzLmZpcnN0Q2hpbGRfPWcpLGo9PT1hJiYodGhpcy5sYXN0Q2hpbGRfPWgpLGgmJihoLm5leHRTaWJsaW5nXz1nKSxnJiYoZy5wcmV2aW91c1NpYmxpbmdfPWgpLGEucHJldmlvdXNTaWJsaW5nXz1hLm5leHRTaWJsaW5nXz1hLnBhcmVudE5vZGVfPXZvaWQgMH1lbHNlIHEodGhpcyksTyh0aGlzLmltcGwsZik7cmV0dXJuIEd8fHkodGhpcywiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmMoYSksbmV4dFNpYmxpbmc6ZyxwcmV2aW91c1NpYmxpbmc6aH0pLEIodGhpcyxhKSxhfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24oYSxkKXtiKGEpO3ZhciBlO2lmKHooZCk/ZT1EKGQpOihlPWQsZD1FKGUpKSxkLnBhcmVudE5vZGUhPT10aGlzKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpO3ZhciBoLGk9ZC5uZXh0U2libGluZyxqPWQucHJldmlvdXNTaWJsaW5nLG09IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO3JldHVybiBtP2g9ZyhhKTooaT09PWEmJihpPWEubmV4dFNpYmxpbmcpLGg9ZihhLHRoaXMsaixpKSksbT8obih0aGlzLGEpLHEodGhpcyksTS5jYWxsKHRoaXMuaW1wbCxEKGEpLGUpKToodGhpcy5maXJzdENoaWxkPT09ZCYmKHRoaXMuZmlyc3RDaGlsZF89aFswXSksdGhpcy5sYXN0Q2hpbGQ9PT1kJiYodGhpcy5sYXN0Q2hpbGRfPWhbaC5sZW5ndGgtMV0pLGQucHJldmlvdXNTaWJsaW5nXz1kLm5leHRTaWJsaW5nXz1kLnBhcmVudE5vZGVfPXZvaWQgMCxlLnBhcmVudE5vZGUmJk0uY2FsbChlLnBhcmVudE5vZGUscCh0aGlzLGgpLGUpKSx5KHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6aCxyZW1vdmVkTm9kZXM6YyhkKSxuZXh0U2libGluZzppLHByZXZpb3VzU2libGluZzpqfSksbChkKSxrKGgpLGR9LG5vZGVJc0luc2VydGVkXzpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlSXNJbnNlcnRlZF8oKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5maXJzdENoaWxkfSxnZXQgcGFyZW50Tm9kZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLnBhcmVudE5vZGVfP3RoaXMucGFyZW50Tm9kZV86RSh0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpFKHRoaXMuaW1wbC5maXJzdENoaWxkKX0sZ2V0IGxhc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmxhc3RDaGlsZF8/dGhpcy5sYXN0Q2hpbGRfOkUodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBuZXh0U2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLm5leHRTaWJsaW5nXz90aGlzLm5leHRTaWJsaW5nXzpFKHRoaXMuaW1wbC5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpFKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgcGFyZW50RWxlbWVudCgpe2Zvcih2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5ub2RlVHlwZSE9PXQuRUxFTUVOVF9OT0RFOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX0sZ2V0IHRleHRDb250ZW50KCl7Zm9yKHZhciBhPSIiLGI9dGhpcy5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWIubm9kZVR5cGUhPXQuQ09NTUVOVF9OT0RFJiYoYSs9Yi50ZXh0Q29udGVudCk7cmV0dXJuIGF9LHNldCB0ZXh0Q29udGVudChhKXt2YXIgYj1pKHRoaXMuY2hpbGROb2Rlcyk7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7aWYocih0aGlzKSwiIiE9PWEpe3ZhciBjPXRoaXMuaW1wbC5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpO3RoaXMuYXBwZW5kQ2hpbGQoYyl9fWVsc2UgcSh0aGlzKSx0aGlzLmltcGwudGV4dENvbnRlbnQ9YTt2YXIgZD1pKHRoaXMuY2hpbGROb2Rlcyk7eSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmQscmVtb3ZlZE5vZGVzOmJ9KSxtKGIpLGsoZCl9LGdldCBjaGlsZE5vZGVzKCl7Zm9yKHZhciBhPW5ldyB2LGI9MCxjPXRoaXMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxjbG9uZU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9RSh0aGlzLmltcGwuY2xvbmVOb2RlKCExKSk7aWYoYSlmb3IodmFyIGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWIuYXBwZW5kQ2hpbGQoYy5jbG9uZU5vZGUoITApKTtyZXR1cm4gYn0sY29udGFpbnM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7aWYoYT1GKGEpLGE9PT10aGlzKXJldHVybiEwO3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYj90aGlzLmNvbnRhaW5zKGIpOiExfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gSi5jYWxsKHRoaXMuaW1wbCxEKGEpKX19KSx4KHQsIm93bmVyRG9jdW1lbnQiKSxDKEgsdCxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGRlbGV0ZSB0LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yLGRlbGV0ZSB0LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLHQucHJvdG90eXBlPUEoT2JqZWN0LmNyZWF0ZSh1LnByb3RvdHlwZSksdC5wcm90b3R5cGUpLGEubm9kZVdhc0FkZGVkPWosYS5ub2RlV2FzUmVtb3ZlZD1sLGEubm9kZXNXZXJlQWRkZWQ9ayxhLm5vZGVzV2VyZVJlbW92ZWQ9bSxhLnNuYXBzaG90Tm9kZUxpc3Q9aSxhLndyYXBwZXJzLk5vZGU9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGQpe2Zvcih2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KWUubWF0Y2hlcyhiKSYmKGRbZC5sZW5ndGgrK109ZSksYyhlLGIsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH12YXIgZD17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBjKHRoaXMsYSxuZXcgTm9kZUxpc3QpfX0sZT17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChhKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe2lmKCIqIj09PWEpcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik7Zm9yKHZhciBjPW5ldyBOb2RlTGlzdCxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZT0wLGY9MDtlPGQubGVuZ3RoO2UrKylkW2VdLm5hbWVzcGFjZVVSST09PWEmJihjW2YrK109ZFtlXSk7cmV0dXJuIGMubGVuZ3RoPWYsY319O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1lLGEuU2VsZWN0b3JzSW50ZXJmYWNlPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiwqAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeSxiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixBW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkJbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBiPSIiLGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWIrPWYoYyxhKTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYixjKXt2YXIgZD1jfHwiZGl2IjthLnRleHRDb250ZW50PSIiO3ZhciBlPXcoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCkpO2UuaW5uZXJIVE1MPWI7Zm9yKHZhciBmO2Y9ZS5maXJzdENoaWxkOylhLmFwcGVuZENoaWxkKHgoZikpfWZ1bmN0aW9uIGkoYSl7by5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPXcoYS5jbG9uZU5vZGUoITEpKTtjLmlubmVySFRNTD1iO2Zvcih2YXIgZCxlPXcoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtkPWMuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZChkKTtyZXR1cm4geChlKX1mdW5jdGlvbiBrKGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl19fWZ1bmN0aW9uIGwoYSl7cChpLGEsayhhKSl9ZnVuY3Rpb24gbShiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7Z2V0OmsoYiksc2V0OmZ1bmN0aW9uKGMpe2EucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXT1jfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfWZ1bmN0aW9uIG4oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLGIse3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX12YXIgbz1hLndyYXBwZXJzLkVsZW1lbnQscD1hLmRlZmluZUdldHRlcixxPWEuZW5xdWV1ZU11dGF0aW9uLHI9YS5taXhpbixzPWEubm9kZXNXZXJlQWRkZWQsdD1hLm5vZGVzV2VyZVJlbW92ZWQsdT1hLnJlZ2lzdGVyV3JhcHBlcix2PWEuc25hcHNob3ROb2RlTGlzdCx3PWEudW53cmFwLHg9YS53cmFwLHk9L1smXHUwMEEwIl0vZyx6PS9bJlx1MDBBMDw+XS9nLEE9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEI9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksQz13aW5kb3cuSFRNTEVsZW1lbnQ7aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscihpLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBnKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP2godGhpcyxhLHRoaXMudGFnTmFtZSk6dGhpcy5pbXBsLmlubmVySFRNTD1hO3ZhciBjPXYodGhpcy5jaGlsZE5vZGVzKTtxKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6YyxyZW1vdmVkTm9kZXM6Yn0pLHQoYikscyhjKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBmKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChhKXt2YXIgYj10aGlzLnBhcmVudE5vZGU7aWYoYil7Yi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYz1qKGIsYSk7Yi5yZXBsYWNlQ2hpbGQoYyx0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6Yz10aGlzLGQ9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfX0pLFsiY2xpZW50SGVpZ2h0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImNsaWVudFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsV2lkdGgiXS5mb3JFYWNoKGwpLFsic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCJdLmZvckVhY2gobSksWyJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRDbGllbnRSZWN0cyIsInNjcm9sbEludG9WaWV3Il0uZm9yRWFjaChuKSx1KEMsaSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiIikpLGEud3JhcHBlcnMuSFRNTEVsZW1lbnQ9aSxhLmdldElubmVySFRNTD1nLGEuc2V0SW5uZXJIVE1MPWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLmdldENvbnRleHQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyk7cmV0dXJuIGEmJmYoYSl9fSksZShnLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGEud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgc2VsZWN0KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKX0sc2V0IHNlbGVjdChhKXt0aGlzLnNldEF0dHJpYnV0ZSgic2VsZWN0IixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7Yy5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxhLGIpLCJzZWxlY3QiPT09U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkmJnRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCEwKX19KSxmJiZlKGYsYiksYS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse30pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEuZGVmYXVsdFZpZXcpcmV0dXJuIGE7dmFyIGI9bS5nZXQoYSk7aWYoIWIpe2ZvcihiPWEuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtiLmxhc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmxhc3RDaGlsZCk7bS5zZXQoYSxiKX1yZXR1cm4gYn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYyxkPWIoYS5vd25lckRvY3VtZW50KSxlPWooZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2M9YS5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGMpO3JldHVybiBlfWZ1bmN0aW9uIGQoYSl7aWYoZS5jYWxsKHRoaXMsYSksIW4pe3ZhciBiPWMoYSk7bC5zZXQodGhpcyxrKGIpKX19dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEuZ2V0SW5uZXJIVE1MLGc9YS5taXhpbixoPWEucmVnaXN0ZXJXcmFwcGVyLGk9YS5zZXRJbm5lckhUTUwsaj1hLnVud3JhcCxrPWEud3JhcCxsPW5ldyBXZWFrTWFwLG09bmV3IFdlYWtNYXAsbj13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxnKGQucHJvdG90eXBlLHtnZXQgY29udGVudCgpe3JldHVybiBuP2sodGhpcy5pbXBsLmNvbnRlbnQpOmwuZ2V0KHRoaXMpfSxnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGYodGhpcy5jb250ZW50KX0sc2V0IGlubmVySFRNTChhKXtpKHRoaXMuY29udGVudCxhKX19KSxuJiZoKG4sZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYS5sb2NhbE5hbWUpe2Nhc2UiY29udGVudCI6cmV0dXJuIG5ldyBjKGEpO2Nhc2Uic2hhZG93IjpyZXR1cm4gbmV3IGUoYSk7Y2FzZSJ0ZW1wbGF0ZSI6cmV0dXJuIG5ldyBmKGEpfWQuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LGQ9YS53cmFwcGVycy5IVE1MRWxlbWVudCxlPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsZj1hLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQsZz0oYS5taXhpbixhLnJlZ2lzdGVyV3JhcHBlciksaD13aW5kb3cuSFRNTFVua25vd25FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGcoaCxiKSxhLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnJlZ2lzdGVyT2JqZWN0LGM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLCJ0aXRsZSIpLGU9YihkKSxmPU9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7YS53cmFwcGVycy5TVkdFbGVtZW50PWZ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7bS5jYWxsKHRoaXMsYSl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLndyYXAsZz13aW5kb3cuU1ZHVXNlRWxlbWVudCxoPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJnIikpLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsInVzZSIpLGs9aS5jb25zdHJ1Y3RvcixsPU9iamVjdC5nZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSksbT1sLmNvbnN0cnVjdG9yO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobCksImluc3RhbmNlUm9vdCJpbiBqJiZjKGIucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxkKGcsYixqKSxhLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtnJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdFbGVtZW50KX0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KX0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiBmKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwubmV4dFNpYmxpbmcpfX0pLGUoZyxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEudW53cmFwSWZOZWVkZWQsZz1hLndyYXAsaD13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gZyh0aGlzLmltcGwuY2FudmFzKX0sZHJhd0ltYWdlOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzBdPWYoYXJndW1lbnRzWzBdKSx0aGlzLmltcGwuZHJhd0ltYWdlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1lKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmNyZWF0ZVBhdHRlcm4uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSksZChoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksYS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihnKXtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09ZShhcmd1bWVudHNbNV0pLHRoaXMuaW1wbC50ZXhJbWFnZTJELmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWUoYXJndW1lbnRzWzZdKSx0aGlzLmltcGwudGV4U3ViSW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19KTt2YXIgaD0vV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3tkcmF3aW5nQnVmZmVySGVpZ2h0Om51bGwsZHJhd2luZ0J1ZmZlcldpZHRoOm51bGx9Ont9O2QoZyxiLGgpLGEud3JhcHBlcnMuV2ViR0xSZW5kZXJpbmdDb250ZXh0PWJ9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3RoaXMuaW1wbD1hfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LlJhbmdlO2IucHJvdG90eXBlPXtnZXQgc3RhcnRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5jb21tb25BbmNlc3RvckNvbnRhaW5lcil9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldFN0YXJ0KGUoYSksYil9LHNldEVuZDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRFbmQoZShhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QmVmb3JlKGUoYSkpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEFmdGVyKGUoYSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEJlZm9yZShlKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEFmdGVyKGUoYSkpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlKGUoYSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGVDb250ZW50cyhlKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlQm91bmRhcnlQb2ludHMoYSxkKGIpKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5pbnNlcnROb2RlKGUoYSkpfSxzdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zdXJyb3VuZENvbnRlbnRzKGUoYSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5pc1BvaW50SW5SYW5nZShlKGEpLGIpfSxjb21wYXJlUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVQb2ludChlKGEpLGIpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLmludGVyc2VjdHNOb2RlKGUoYSkpfX0sZy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYoYi5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9aShhLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2MuY2FsbCh0aGlzLGIpLGcoYix0aGlzKTt2YXIgZD1hLnNoYWRvd1Jvb3Q7ay5zZXQodGhpcyxkKSxqLnNldCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudCxkPWEuZWxlbWVudEZyb21Qb2ludCxlPWEuZ2V0SW5uZXJIVE1MLGY9YS5taXhpbixnPWEucmV3cmFwLGg9YS5zZXRJbm5lckhUTUwsaT1hLnVud3JhcCxqPW5ldyBXZWFrTWFwLGs9bmV3IFdlYWtNYXAsbD0vWyBcdFxuXHJcZl0vO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGYoYi5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZSh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtoKHRoaXMsYSksdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZ2V0IG9sZGVyU2hhZG93Um9vdCgpe3JldHVybiBrLmdldCh0aGlzKXx8bnVsbH0sZ2V0IGhvc3QoKXtyZXR1cm4gai5nZXQodGhpcyl8fG51bGx9LGludmFsaWRhdGVTaGFkb3dSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiBqLmdldCh0aGlzKS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZWxlbWVudEZyb21Qb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiBkKHRoaXMsdGhpcy5vd25lckRvY3VtZW50LGEsYil9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiBsLnRlc3QoYSk/bnVsbDp0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZD0iJythKyciXScpfX0pLGEud3JhcHBlcnMuU2hhZG93Um9vdD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2EucHJldmlvdXNTaWJsaW5nXz1hLnByZXZpb3VzU2libGluZyxhLm5leHRTaWJsaW5nXz1hLm5leHRTaWJsaW5nLGEucGFyZW50Tm9kZV89YS5wYXJlbnROb2RlfWZ1bmN0aW9uIGMoYSxjLGUpe3ZhciBmPUYoYSksZz1GKGMpLGg9ZT9GKGUpOm51bGw7aWYoZChjKSxiKGMpLGUpYS5maXJzdENoaWxkPT09ZSYmKGEuZmlyc3RDaGlsZF89ZSksZS5wcmV2aW91c1NpYmxpbmdfPWUucHJldmlvdXNTaWJsaW5nO2Vsc2V7YS5sYXN0Q2hpbGRfPWEubGFzdENoaWxkLGEubGFzdENoaWxkPT09YS5maXJzdENoaWxkJiYoYS5maXJzdENoaWxkXz1hLmZpcnN0Q2hpbGQpO3ZhciBpPUcoZi5sYXN0Q2hpbGQpO2kmJihpLm5leHRTaWJsaW5nXz1pLm5leHRTaWJsaW5nKX1mLmluc2VydEJlZm9yZShnLGgpfWZ1bmN0aW9uIGQoYSl7dmFyIGM9RihhKSxkPWMucGFyZW50Tm9kZTtpZihkKXt2YXIgZT1HKGQpO2IoYSksYS5wcmV2aW91c1NpYmxpbmcmJihhLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZ189YSksYS5uZXh0U2libGluZyYmKGEubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nXz1hKSxlLmxhc3RDaGlsZD09PWEmJihlLmxhc3RDaGlsZF89YSksZS5maXJzdENoaWxkPT09YSYmKGUuZmlyc3RDaGlsZF89YSksZC5yZW1vdmVDaGlsZChjKX19ZnVuY3Rpb24gZShhLGIpe2coYikucHVzaChhKSx4KGEsYik7dmFyIGM9SS5nZXQoYSk7Y3x8SS5zZXQoYSxjPVtdKSxjLnB1c2goYil9ZnVuY3Rpb24gZihhKXtILnNldChhLFtdKX1mdW5jdGlvbiBnKGEpe3JldHVybiBILmdldChhKX1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gaShhLGIsYyl7Zm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylpZihiKGQpKXtpZihjKGQpPT09ITEpcmV0dXJufWVsc2UgaShkLGIsYyl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKTtpZighYylyZXR1cm4hMDtpZihjPWMudHJpbSgpLCFjKXJldHVybiEwO2lmKCEoYSBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKCFMLnRlc3QoYykpcmV0dXJuITE7aWYoIjoiPT09Y1swXSYmIU0udGVzdChjKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEubWF0Y2hlcyhjKX1jYXRjaChkKXtyZXR1cm4hMX19ZnVuY3Rpb24gaygpe2Zvcih2YXIgYT0wO2E8Ty5sZW5ndGg7YSsrKU9bYV0ucmVuZGVyKCk7Tz1bXX1mdW5jdGlvbiBsKCl7eT1udWxsLGsoKX1mdW5jdGlvbiBtKGEpe3ZhciBiPUsuZ2V0KGEpO3JldHVybiBifHwoYj1uZXcgcShhKSxLLnNldChhLGIpKSxifWZ1bmN0aW9uIG4oYSl7Zm9yKDthO2E9YS5wYXJlbnROb2RlKWlmKGEgaW5zdGFuY2VvZiBEKXJldHVybiBhO3JldHVybiBudWxsfWZ1bmN0aW9uIG8oYSl7cmV0dXJuIG0oYS5ob3N0KX1mdW5jdGlvbiBwKGEpe3RoaXMuc2tpcD0hMSx0aGlzLm5vZGU9YSx0aGlzLmNoaWxkTm9kZXM9W119ZnVuY3Rpb24gcShhKXt0aGlzLmhvc3Q9YSx0aGlzLmRpcnR5PSExLHRoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLmFzc29jaWF0ZU5vZGUoYSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEF9ZnVuY3Rpb24gcyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEF9ZnVuY3Rpb24gdChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEJ9ZnVuY3Rpb24gdShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEJ9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYS5zaGFkb3dSb290fWZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290O2M7Yz1jLm9sZGVyU2hhZG93Um9vdCliLnB1c2goYyk7cmV0dXJuIGJ9ZnVuY3Rpb24geChhLGIpe0ouc2V0KGEsYil9dmFyIHksej1hLndyYXBwZXJzLkVsZW1lbnQsQT1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxCPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsQz1hLndyYXBwZXJzLk5vZGUsRD1hLndyYXBwZXJzLlNoYWRvd1Jvb3QsRT0oYS5hc3NlcnQsYS5taXhpbixhLm9uZU9mKSxGPWEudW53cmFwLEc9YS53cmFwLEg9bmV3IFdlYWtNYXAsST1uZXcgV2Vha01hcCxKPW5ldyBXZWFrTWFwLEs9bmV3IFdlYWtNYXAsTD0vXlsqLjojW2EtekEtWl98XS8sTT1uZXcgUmVnRXhwKCJeOigiK1sibGluayIsInZpc2l0ZWQiLCJ0YXJnZXQiLCJlbmFibGVkIiwiZGlzYWJsZWQiLCJjaGVja2VkIiwiaW5kZXRlcm1pbmF0ZSIsIm50aC1jaGlsZCIsIm50aC1sYXN0LWNoaWxkIiwibnRoLW9mLXR5cGUiLCJudGgtbGFzdC1vZi10eXBlIiwiZmlyc3QtY2hpbGQiLCJsYXN0LWNoaWxkIiwiZmlyc3Qtb2YtdHlwZSIsImxhc3Qtb2YtdHlwZSIsIm9ubHktb2YtdHlwZSJdLmpvaW4oInwiKSsiKSIpLE49RSh3aW5kb3csWyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0Il0pLE89W10sUD1uZXcgQXJyYXlTcGxpY2U7UC5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRihhLm5vZGUpPT09Yn0scC5wcm90b3R5cGU9e2FwcGVuZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgcChhKTtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLnB1c2goYiksYn0sc3luYzpmdW5jdGlvbihhKXtpZighdGhpcy5za2lwKXtmb3IodmFyIGI9dGhpcy5ub2RlLGU9dGhpcy5jaGlsZE5vZGVzLGY9aChGKGIpKSxnPWF8fG5ldyBXZWFrTWFwLGk9UC5jYWxjdWxhdGVTcGxpY2VzKGUsZiksaj0wLGs9MCxsPTAsbT0wO208aS5sZW5ndGg7bSsrKXtmb3IodmFyIG49aVttXTtsPG4uaW5kZXg7bCsrKWsrKyxlW2orK10uc3luYyhnKTtmb3IodmFyIG89bi5yZW1vdmVkLmxlbmd0aCxwPTA7bz5wO3ArKyl7dmFyIHE9RyhmW2srK10pO2cuZ2V0KHEpfHxkKHEpfWZvcih2YXIgcj1uLmFkZGVkQ291bnQscz1mW2tdJiZHKGZba10pLHA9MDtyPnA7cCsrKXt2YXIgdD1lW2orK10sdT10Lm5vZGU7YyhiLHUscyksZy5zZXQodSwhMCksdC5zeW5jKGcpfWwrPXJ9Zm9yKHZhciBtPWw7bTxlLmxlbmd0aDttKyspZVttXS5zeW5jKGcpfX19LHEucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXJ0eSl7dGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMudHJlZUNvbXBvc2l0aW9uKCk7dmFyIGI9dGhpcy5ob3N0LGM9Yi5zaGFkb3dSb290O3RoaXMuYXNzb2NpYXRlTm9kZShiKTtmb3IodmFyIGQ9IWUsZT1hfHxuZXcgcChiKSxmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZyl0aGlzLnJlbmRlck5vZGUoYyxlLGYsITEpO2QmJmUuc3luYygpLHRoaXMuZGlydHk9ITF9fSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlydHkpe2lmKHRoaXMuZGlydHk9ITAsTy5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W05dKGwsMCl9fSxyZW5kZXJOb2RlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKHYoYykpe2I9Yi5hcHBlbmQoYyk7dmFyIGU9bShjKTtlLmRpcnR5PSEwLGUucmVuZGVyKGIpfWVsc2UgcihjKT90aGlzLnJlbmRlckluc2VydGlvblBvaW50KGEsYixjLGQpOnQoYyk/dGhpcy5yZW5kZXJTaGFkb3dJbnNlcnRpb25Qb2ludChhLGIsYyk6dGhpcy5yZW5kZXJBc0FueURvbVRyZWUoYSxiLGMsZCl9LHJlbmRlckFzQW55RG9tVHJlZTpmdW5jdGlvbihhLGIsYyxkKXtpZihiPWIuYXBwZW5kKGMpLHYoYykpe3ZhciBlPW0oYyk7Yi5za2lwPSFlLmRpcnR5LGUucmVuZGVyKGIpfWVsc2UgZm9yKHZhciBmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZyl0aGlzLnJlbmRlck5vZGUoYSxiLGYsZCl9LHJlbmRlckluc2VydGlvblBvaW50OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWcoYyk7aWYoZS5sZW5ndGgpe3RoaXMuYXNzb2NpYXRlTm9kZShjKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGg9ZVtmXTtyKGgpJiZkP3RoaXMucmVuZGVySW5zZXJ0aW9uUG9pbnQoYSxiLGgsZCk6dGhpcy5yZW5kZXJBc0FueURvbVRyZWUoYSxiLGgsZCl9fWVsc2UgdGhpcy5yZW5kZXJGYWxsYmFja0NvbnRlbnQoYSxiLGMpO3RoaXMuYXNzb2NpYXRlTm9kZShjLnBhcmVudE5vZGUpfSxyZW5kZXJTaGFkb3dJbnNlcnRpb25Qb2ludDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5vbGRlclNoYWRvd1Jvb3Q7aWYoZCl7eChkLGMpLHRoaXMuYXNzb2NpYXRlTm9kZShjLnBhcmVudE5vZGUpO2Zvcih2YXIgZT1kLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGQsYixlLCEwKX1lbHNlIHRoaXMucmVuZGVyRmFsbGJhY2tDb250ZW50KGEsYixjKX0scmVuZGVyRmFsbGJhY2tDb250ZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmFzc29jaWF0ZU5vZGUoYyksdGhpcy5hc3NvY2lhdGVOb2RlKGMucGFyZW50Tm9kZSk7Zm9yKHZhciBkPWMuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyl0aGlzLnJlbmRlckFzQW55RG9tVHJlZShhLGIsZCwhMSl9LGludmFsaWRhdGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVzPU9iamVjdC5jcmVhdGUobnVsbCl9LHVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzOy9cLlx3Ky8udGVzdChhKSYmKGJbImNsYXNzIl09ITApLC8jXHcrLy50ZXN0KGEpJiYoYi5pZD0hMCksYS5yZXBsYWNlKC9cW1xzKihbXlxzPVx8flxdXSspL2csZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSl9fSxkZXBlbmRzT25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sZGlzdHJpYnV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aShhLHMsZnVuY3Rpb24oYSl7ZihhKSxjLnVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXMoYS5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGc9YltkXTt2b2lkIDAhPT1nJiZqKGcsYSkmJihlKGcsYSksYltkXT12b2lkIDApfX0pfSx0cmVlQ29tcG9zaXRpb246ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5ob3N0LGI9YS5zaGFkb3dSb290LGM9W10sZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYocihkKSl7dmFyIGU9ZyhkKTtlJiZlLmxlbmd0aHx8KGU9aChkKSksYy5wdXNoLmFwcGx5KGMsZSl9ZWxzZSBjLnB1c2goZCk7Zm9yKHZhciBmLGo7Yjspe2lmKGY9dm9pZCAwLGkoYix1LGZ1bmN0aW9uKGEpe3JldHVybiBmPWEsITF9KSxqPWYsdGhpcy5kaXN0cmlidXRlKGIsYyksail7dmFyIGs9Yi5vbGRlclNoYWRvd1Jvb3Q7aWYoayl7Yj1rLHgoYixqKTtjb250aW51ZX1icmVha31icmVha319LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319LEMucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaygpLGcodGhpcyl9LEIucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1BLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBhLGI9bih0aGlzKTtiJiYoYT1vKGIpKSx0aGlzLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmV2ZW50UGFyZW50c1RhYmxlPUksYS5nZXRSZW5kZXJlckZvckhvc3Q9bSxhLmdldFNoYWRvd1RyZWVzPXcsYS5pbnNlcnRpb25QYXJlbnRUYWJsZT1KLGEucmVuZGVyQWxsUGVuZGluZz1rLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pCn19dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEuYXNzZXJ0LGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS51bndyYXAsaD1hLndyYXAsaT1bIkhUTUxCdXR0b25FbGVtZW50IiwiSFRNTEZpZWxkU2V0RWxlbWVudCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJIVE1MS2V5Z2VuRWxlbWVudCIsIkhUTUxMYWJlbEVsZW1lbnQiLCJIVE1MTGVnZW5kRWxlbWVudCIsIkhUTUxPYmplY3RFbGVtZW50IiwiSFRNTE91dHB1dEVsZW1lbnQiLCJIVE1MU2VsZWN0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtpLmZvckVhY2goYil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB2KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7ei5jYWxsKGIuaW1wbCx1KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbiYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiB2KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS5TZWxlY3RvcnNJbnRlcmZhY2Usbj1hLndyYXBwZXJzLlNoYWRvd1Jvb3Qsbz1hLmRlZmluZVdyYXBHZXR0ZXIscD1hLmVsZW1lbnRGcm9tUG9pbnQscT1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHI9YS5tYXRjaGVzTmFtZXMscz1hLm1peGluLHQ9YS5yZWdpc3RlcldyYXBwZXIsdT1hLnVud3JhcCx2PWEud3JhcCx3PWEucmV3cmFwLHg9YS53cmFwRXZlbnRUYXJnZXRNZXRob2RzLHk9KGEud3JhcE5vZGVMaXN0LG5ldyBXZWFrTWFwKTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxvKGIsImRvY3VtZW50RWxlbWVudCIpLG8oYiwiYm9keSIpLG8oYiwiaGVhZCIpLFsiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImdldEVsZW1lbnRCeUlkIl0uZm9yRWFjaChjKTt2YXIgej1kb2N1bWVudC5hZG9wdE5vZGUsQT1kb2N1bWVudC5pbXBvcnROb2RlO2lmKHMoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcCh0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPXYoQS5jYWxsKHRoaXMuaW1wbCx1KGEpLCExKSk7aWYoYilmb3IodmFyIGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWMuYXBwZW5kQ2hpbGQodGhpcy5pbXBvcnROb2RlKGQsITApKTtyZXR1cm4gY319KSxkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpe3ZhciBCPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDtiLnByb3RvdHlwZS5yZWdpc3RlckVsZW1lbnQ9ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBhPyh0aGlzLmltcGw9YSx2b2lkIDApOmMuZXh0ZW5kcz9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGMuZXh0ZW5kcyxiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpfXZhciBlPWMucHJvdG90eXBlO2lmKGEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGUpKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGYsZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksaD1bXTtnJiYhKGY9YS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoZykpOyloLnB1c2goZyksZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZyk7aWYoIWYpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgaT1PYmplY3QuY3JlYXRlKGYpLGo9aC5sZW5ndGgtMTtqPj0wO2otLSlpPU9iamVjdC5jcmVhdGUoaSk7WyJjcmVhdGVkQ2FsbGJhY2siLCJhdHRhY2hlZENhbGxiYWNrIiwiZGV0YWNoZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZVthXTtiJiYoaVthXT1mdW5jdGlvbigpe3YodGhpcylpbnN0YW5jZW9mIGR8fHcodGhpcyksYi5hcHBseSh2KHRoaXMpLGFyZ3VtZW50cyl9KX0pO3ZhciBrPXtwcm90b3R5cGU6aX07Yy5leHRlbmRzJiYoay5leHRlbmRzPWMuZXh0ZW5kcyksZC5wcm90b3R5cGU9ZSxkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kLGEuY29uc3RydWN0b3JUYWJsZS5zZXQoaSxkKSxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLnNldChlLGkpO0IuY2FsbCh1KHRoaXMpLGIsayk7cmV0dXJuIGR9LHEoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJyZWdpc3RlckVsZW1lbnQiXSl9cShbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudCx3aW5kb3cuSFRNTEh0bWxFbGVtZW50XSxbImFwcGVuZENoaWxkIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJjb250YWlucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lTlMiLCJpbnNlcnRCZWZvcmUiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUNoaWxkIiwicmVwbGFjZUNoaWxkIl0uY29uY2F0KHIpKSxxKFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsiYWRvcHROb2RlIiwiaW1wb3J0Tm9kZSIsImNvbnRhaW5zIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImVsZW1lbnRGcm9tUG9pbnQiLCJnZXRFbGVtZW50QnlJZCJdKSxzKGIucHJvdG90eXBlLGopLHMoYi5wcm90b3R5cGUsbCkscyhiLnByb3RvdHlwZSxtKSxzKGIucHJvdG90eXBlLHtnZXQgaW1wbGVtZW50YXRpb24oKXt2YXIgYT15LmdldCh0aGlzKTtyZXR1cm4gYT9hOihhPW5ldyBnKHUodGhpcykuaW1wbGVtZW50YXRpb24pLHkuc2V0KHRoaXMsYSksYSl9fSksdCh3aW5kb3cuRG9jdW1lbnQsYixkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpKSx3aW5kb3cuSFRNTERvY3VtZW50JiZ0KHdpbmRvdy5IVE1MRG9jdW1lbnQsYikseChbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudF0pLGgoZywiY3JlYXRlRG9jdW1lbnRUeXBlIiksaChnLCJjcmVhdGVEb2N1bWVudCIpLGgoZywiY3JlYXRlSFRNTERvY3VtZW50IiksaShnLCJoYXNGZWF0dXJlIiksdCh3aW5kb3cuRE9NSW1wbGVtZW50YXRpb24sZykscShbd2luZG93LkRPTUltcGxlbWVudGF0aW9uXSxbImNyZWF0ZURvY3VtZW50VHlwZSIsImNyZWF0ZURvY3VtZW50IiwiY3JlYXRlSFRNTERvY3VtZW50IiwiaGFzRmVhdHVyZSJdKSxhLmFkb3B0Tm9kZU5vUmVtb3ZlPWQsYS53cmFwcGVycy5ET01JbXBsZW1lbnRhdGlvbj1nLGEud3JhcHBlcnMuRG9jdW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLnVud3JhcElmTmVlZGVkLGg9YS53cmFwLGk9YS5yZW5kZXJBbGxQZW5kaW5nLGo9d2luZG93LldpbmRvdztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKTt2YXIgaz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZTtqLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGkoKSxrLmNhbGwodGhpc3x8d2luZG93LGcoYSksYil9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ai5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1oKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZChiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBrLmNhbGwoZih0aGlzKSxnKGEpLGIpfX0pLGUoaixiKSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRhdGE6IkhUTUxEYXRhRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGFiZWw6IkhUTUxMYWJlbEVsZW1lbnQiLGxlZ2VuZDoiSFRNTExlZ2VuZEVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGV4dGFyZWE6IkhUTUxUZXh0QXJlYUVsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pLGEua25vd25FbGVtZW50cz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKG4sIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9Yi5zaGVldC5jc3NSdWxlcztyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9MCxjPVtdO2I8YS5sZW5ndGg7YisrKWMucHVzaChhW2JdLmNzc1RleHQpO3JldHVybiBjLmpvaW4oIlxuXG4iKX1mdW5jdGlvbiBmKGEpe2EmJmcoKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9ZnVuY3Rpb24gZygpe3JldHVybiBofHwoaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGguc2V0QXR0cmlidXRlKCJTaGFkb3dDU1NTaGltIiwiIiksaC5zaGFkb3dDc3NTaGltPSEwKSxofXZhciBoLGk9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXRoaXMuaXNUeXBlRXh0ZW5zaW9uKGQpLGc9dGhpcy5yZWdpc3RlckRlZmluaXRpb24oYSxiLGQpO3RoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYik7dmFyIGg9dGhpcy5zdHlsZXNUb1NoaW1tZWRDc3NUZXh0KGcucm9vdFN0eWxlcyxnLnNjb3BlU3R5bGVzLGIsZSk7Zy5zaGltbWVkU3R5bGU9YyhoKSxhJiYoYS5zaGltbWVkU3R5bGU9Zy5zaGltbWVkU3R5bGUpO2Zvcih2YXIgaSxqPTAsaz1nLnJvb3RTdHlsZXMubGVuZ3RoO2s+aiYmKGk9Zy5yb290U3R5bGVzW2pdKTtqKyspaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpO2YoaCl9LHN0eWxlc1RvU2hpbW1lZENzc1RleHQ6ZnVuY3Rpb24oYSxiLGMsZCl7Yz1jfHwiIix0aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlcyhhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXMoYSk7dmFyIGU9dGhpcy5zaGltQXRIb3N0KGIsYyxkKSt0aGlzLnNoaW1TY29waW5nKGIsYyxkKTtyZXR1cm4gZSs9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzKGEpfSxyZWdpc3RlckRlZmluaXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMucmVnaXN0cnlbYl09e3Jvb3Q6YSxuYW1lOmIsZXh0ZW5kc05hbWU6Y30sZT1hP2EucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTpbXTtlPWU/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKTpbXSxkLnJvb3RTdHlsZXM9ZSxkLnNjb3BlU3R5bGVzPWQucm9vdFN0eWxlczt2YXIgZj10aGlzLnJlZ2lzdHJ5W2QuZXh0ZW5kc05hbWVdO3JldHVybiFmfHxhJiYhYS5xdWVyeVNlbGVjdG9yKCJzaGFkb3ciKXx8KGQuc2NvcGVTdHlsZXM9Zi5zY29wZVN0eWxlcy5jb25jYXQoZC5zY29wZVN0eWxlcykpLGR9LGlzVHlwZUV4dGVuc2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5pbmRleE9mKCItIik8MH0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGIpe2EmJihBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGIsIiIpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEuY29udGVudCxiKX0sdGhpcykpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQoYS50ZXh0Q29udGVudCl9LHRoaXMpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMikrInsifSl9LGluc2VydFBvbHlmaWxsUnVsZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQpfSx0aGlzKX0saW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHAsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0xKX0pfSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzOmZ1bmN0aW9uKGEpe3ZhciBiPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7Yis9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQoYS50ZXh0Q29udGVudCkrIlxuXG4ifSx0aGlzKSxifSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9IiI7Yj1xLmV4ZWMoYSk7KWMrPWJbMV0uc2xpY2UoMCwtMSkrIlxuXG4iO3JldHVybiBjfSxzaGltQXRIb3N0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT90aGlzLmNvbnZlcnRBdEhvc3RTdHlsZXMoYSxiLGMpOnZvaWQgMH0sY29udmVydEF0SG9zdFN0eWxlczpmdW5jdGlvbihhLGMsZil7dmFyIGc9YihhKSxoPXRoaXM7cmV0dXJuIGc9Zy5yZXBsYWNlKGosZnVuY3Rpb24oYSxiKXtyZXR1cm4gaC5zY29wZUhvc3RDc3MoYixjLGYpfSksZz1lKHRoaXMuZmluZEF0SG9zdFJ1bGVzKGQoZyksdGhpcy5tYWtlU2NvcGVNYXRjaGVyKGMsZikpKX0sc2NvcGVIb3N0Q3NzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO3JldHVybiBhLnJlcGxhY2UoayxmdW5jdGlvbihhLGUsZil7cmV0dXJuIGQuc2NvcGVIb3N0U2VsZWN0b3IoZSxiLGMpKyIgIitmKyJcbgkifSl9LHNjb3BlSG9zdFNlbGVjdG9yOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWEuc3BsaXQoIiwiKSxmPSJbaXM9IitiKyJdIjtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksYS5tYXRjaChsKT9hPWEucmVwbGFjZShsLGM/ZisiJDEkMyI6YisiJDEkMyIpOmEubWF0Y2gobSkmJihhPWM/ZithOmIrYSksZC5wdXNoKGEpfSx0aGlzKSxkLmpvaW4oIiwgIil9LGZpbmRBdEhvc3RSdWxlczpmdW5jdGlvbihhLGIpe3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSx0aGlzLmlzSG9zdFJ1bGUuYmluZCh0aGlzLGIpKX0saXNIb3N0UnVsZTpmdW5jdGlvbihhLGIpe3JldHVybiBiLnNlbGVjdG9yVGV4dCYmYi5zZWxlY3RvclRleHQubWF0Y2goYSl8fGIuY3NzUnVsZXMmJnRoaXMuZmluZEF0SG9zdFJ1bGVzKGIuY3NzUnVsZXMsYSkubGVuZ3RofHxiLnR5cGU9PUNTU1J1bGUuV0VCS0lUX0tFWUZSQU1FU19SVUxFfSxzaGltU2NvcGluZzpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE/dGhpcy5jb252ZXJ0U2NvcGVkU3R5bGVzKGEsYixjKTp2b2lkIDB9LGNvbnZlcnRTY29wZWRTdHlsZXM6ZnVuY3Rpb24oYSxjLGUpe3ZhciBmPWIoYSkucmVwbGFjZShqLCIiKTtmPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGYpLGY9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGYpLGY9dGhpcy5jb252ZXJ0UHNldWRvcyhmKSxmPXRoaXMuY29udmVydFBhcnRzKGYpLGY9dGhpcy5jb252ZXJ0Q29tYmluYXRvcnMoZik7dmFyIGc9ZChmKTtyZXR1cm4gYyYmKGY9dGhpcy5zY29wZVJ1bGVzKGcsYyxlKSksZn0sY29udmVydFBzZXVkb3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShyLCIgW3BzZXVkbz0kMV0iKX0sY29udmVydFBhcnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocywiIFtwYXJ0PSQxXSIpfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodSxmdW5jdGlvbihhLGIsYyxkKXtpZihiPXksYyl7Zm9yKHZhciBlLGY9Yy5zcGxpdCgiLCIpLGc9W10saD0wLGk9Zi5sZW5ndGg7aT5oJiYoZT1mW2hdKTtoKyspZT1lLnRyaW0oKSxlLm1hdGNoKHQpP2cucHVzaChiK2UucmVwbGFjZSh0LCIiKStkKTpnLnB1c2goYitlK2QrIiwgIitlKyIgIitiK2QpO3JldHVybiBnLmpvaW4oIiwiKX1yZXR1cm4gYitkfSl9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXlxeL2csIiAiKS5yZXBsYWNlKC9cXi9nLCIgIil9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJmEuc3R5bGUuY3NzVGV4dD8oZCs9dGhpcy5zY29wZVNlbGVjdG9yKGEuc2VsZWN0b3JUZXh0LGIsYyx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsZCs9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLm1lZGlhPyhkKz0iQG1lZGlhICIrYS5tZWRpYS5tZWRpYVRleHQrIiB7XG4iLGQrPXRoaXMuc2NvcGVSdWxlcyhhLmNzc1J1bGVzLGIsYyksZCs9IlxufVxuXG4iKTphLmNzc1RleHQmJihkKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksZH0sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXSxmPWEuc3BsaXQoIiwiKTtyZXR1cm4gZi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksdGhpcy5zZWxlY3Rvck5lZWRzU2NvcGluZyhhLGIsYykmJihhPWQmJiFhLm1hdGNoKHkpP3RoaXMuYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlKGEsYik6dGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxiLGMpKSxlLnB1c2goYSl9LHRoaXMpLGUuam9pbigiLCAiKX0sc2VsZWN0b3JOZWVkc1Njb3Bpbmc6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMubWFrZVNjb3BlTWF0Y2hlcihiLGMpO3JldHVybiFhLm1hdGNoKGQpfSxtYWtlU2NvcGVNYXRjaGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yj8iXFxbaXM9WydcIl0/IithKyJbJ1wiXT9cXF0iOmE7cmV0dXJuIG5ldyBSZWdFeHAoIl4oIitjKyIpIit2LCJtIil9LGFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz8iW2lzPSIrYisiXSI6YjtyZXR1cm4gYS5tYXRjaCh6KT8oYT1hLnJlcGxhY2UoeSxkKSxhLnJlcGxhY2UoeixkKyIgIikpOmQrIiAiK2F9LGFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3ZhciBjPVsiICIsIj4iLCIrIiwifiJdLGQ9YSxlPSJbIitiKyJdIjtyZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWQuc3BsaXQoYSk7ZD1iLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLnRyaW0oKS5yZXBsYWNlKHosIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh3LHQpLnJlcGxhY2UoeCx0KX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHR9fSxqPS9AaG9zdFtee10qeygoW159XSo/e1tee10qP31bXHNcU10qPykrKX0vZ2ltLGs9LyhbXntdKikoe1tcc1xTXSo/fSkvZ2ltLGw9LyguKikoKD86XCopfCg/Olw6c2NvcGUpKSguKikvLG09L15bLlxbOl0vLG49L1wvXCpbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLy9naW0sbz0vXC9cKlxzKkBwb2x5ZmlsbCAoW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8pKFtee10qPyl7L2dpbSxwPS9cL1wqXHNAcG9seWZpbGwtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHE9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scj0vOjooeC1bXlxzeywoXSopL2dpbSxzPS86OnBhcnRcKChbXildKilcKS9naW0sdD0iLXNoYWRvd2Nzc2hvc3QiLHU9bmV3IFJlZ0V4cCgiKCIrdCsiKSg/OlxcKCgoPzpcXChbXikoXSpcXCl8W14pKF0qKSs/KVxcKSk/KFteLHtdKikiLCJnaW0iKSx2PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsdz0vQGhvc3QvZ2ltLHg9L1w6aG9zdC9naW0seT10KyItbm8tY29tYmluYXRvciIsej1uZXcgUmVnRXhwKHQsImdpbSIpO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7Zigic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBBPXdyYXAoZG9jdW1lbnQpLEI9QS5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Qi5pbnNlcnRCZWZvcmUoZygpLEIuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5pbXBvcnRlci5wcmVsb2FkU2VsZWN0b3JzKz0iLCBsaW5rW3JlbD1zdHlsZXNoZWV0XTpub3QoW25vcG9seWZpbGxdKSIsSFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYz1mdW5jdGlvbihhKXtpZighYS5zaGFkb3dDc3NTaGltKXt2YXIgYj1hO2lmKCFhLmhhc0F0dHJpYnV0ZSgibm9wb2x5ZmlsbCIpKXthLl9fcmVzb3VyY2UmJihiPUEuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLnRleHRDb250ZW50PWEuX19yZXNvdXJjZSxhLm93bmVyRG9jdW1lbnQ9PT1BJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSkpO3ZhciBjPVtiXTtiLnRleHRDb250ZW50PWkuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChjLGMpLGIuc2hhZG93Q3NzU2hpbT0hMH1iLnBhcmVudE5vZGUhPT1CJiZCLmFwcGVuZENoaWxkKGIpfX0pfSl9YS5TaGFkb3dDU1M9aX0od2luZG93LlBsYXRmb3JtKSk6IWZ1bmN0aW9uKCl7d2luZG93LnRlbXBsYXRlQ29udGVudD13aW5kb3cudGVtcGxhdGVDb250ZW50fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50fSx3aW5kb3cud3JhcD13aW5kb3cudW53cmFwPWZ1bmN0aW9uKGEpe3JldHVybiBhfTt2YXIgYT1FbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290O0VsZW1lbnQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLndlYmtpdFNoYWRvd1Jvb3QsYz1hLmNhbGwodGhpcyk7cmV0dXJuIGMub2xkZXJTaGFkb3dSb290PWIsYy5ob3N0PXRoaXMsQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksY30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NoYWRvd1Jvb3Q6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndlYmtpdFNoYWRvd1Jvb3R9fSxjcmVhdGVTaGFkb3dSb290Ont2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QoKX19fSksd2luZG93LnRlbXBsYXRlQ29udGVudD1mdW5jdGlvbihhKXtpZih3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGEpLCFhLmNvbnRlbnQmJiFhLl9jb250ZW50KXtmb3IodmFyIGI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuZmlyc3RDaGlsZDspYi5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO2EuX2NvbnRlbnQ9Yn1yZXR1cm4gYS5jb250ZW50fHxhLl9jb250ZW50fX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiYXNlIik7aS5ocmVmPWRvY3VtZW50LmJhc2VVUkksaC5jb250ZW50Lm93bmVyRG9jdW1lbnQuYXBwZW5kQ2hpbGQoaSk7dmFyIGo9W10saz1mdW5jdGlvbigpe2oucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1rLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9bnVsbCxqfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuUG9seW1lcj09PWsmJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1lvdSB0cmllZCB0byB1c2UgcG9seW1lciB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QuIFRvIGxvYWQgcG9seW1lciwgPGxpbmsgcmVsPSJpbXBvcnQiIGhyZWY9ImNvbXBvbmVudHMvcG9seW1lci9wb2x5bWVyLmh0bWwiPicpfSl9KSxhLmNyZWF0ZURPTT1ifSh3aW5kb3cuUGxhdGZvcm0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sZnVuY3Rpb24oYSl7YT1hfHwod2luZG93Lkluc3BlY3Rvcj17fSk7dmFyIGI7d2luZG93LnNpbnNwZWN0PWZ1bmN0aW9uKGEsZCl7Ynx8KGI9d2luZG93Lm9wZW4oIiIsIlNoYWRvd0RPTSBJbnNwZWN0b3IiLG51bGwsITApLGIuZG9jdW1lbnQud3JpdGUoYyksYi5hcGk9e3NoYWRvd2l6ZTpzaGFkb3dpemV9KSxmKGF8fHdyYXAoZG9jdW1lbnQuYm9keSksZCl9O3ZhciBjPVsiPCFET0NUWVBFIGh0bWw+IiwiPGh0bWw+IiwiICA8aGVhZD4iLCIgICAgPHRpdGxlPlNoYWRvd0RPTSBJbnNwZWN0b3I8L3RpdGxlPiIsIiAgICA8c3R5bGU+IiwiICAgICAgYm9keSB7IiwiICAgICAgfSIsIiAgICAgIHByZSB7IiwnICAgICAgICBmb250OiA5cHQgIkNvdXJpZXIgTmV3IiwgbW9ub3NwYWNlOycsIiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNWVtOyIsIiAgICAgIH0iLCIgICAgICB0YWcgeyIsIiAgICAgICAgY29sb3I6IHB1cnBsZTsiLCIgICAgICB9IiwiICAgICAgdWwgeyIsIiAgICAgICAgIG1hcmdpbjogMDsiLCIgICAgICAgICBwYWRkaW5nOiAwOyIsIiAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7IiwiICAgICAgfSIsIiAgICAgIGxpIHsiLCIgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IiwiICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTsiLCIgICAgICAgICBwYWRkaW5nOiA0cHggNnB4OyIsIiAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsiLCIgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweDsiLCIgICAgICB9IiwiICAgIDwvc3R5bGU+IiwiICA8L2hlYWQ+IiwiICA8Ym9keT4iLCcgICAgPHVsIGlkPSJjcnVtYnMiPicsIiAgICA8L3VsPiIsJyAgICA8ZGl2IGlkPSJ0cmVlIj48L2Rpdj4nLCIgIDwvYm9keT4iLCI8L2h0bWw+Il0uam9pbigiXG4iKSxkPVtdLGU9ZnVuY3Rpb24oKXt2YXIgYT1iLmRvY3VtZW50LGM9YS5xdWVyeVNlbGVjdG9yKCIjY3J1bWJzIik7Yy50ZXh0Q29udGVudD0iIjtmb3IodmFyIGUsZz0wO2U9ZFtnXTtnKyspe3ZhciBoPWEuY3JlYXRlRWxlbWVudCgiYSIpO2guaHJlZj0iIyIsaC50ZXh0Q29udGVudD1lLmxvY2FsTmFtZSxoLmlkeD1nLGgub25jbGljaz1mdW5jdGlvbihhKXtmb3IodmFyIGI7ZC5sZW5ndGg+dGhpcy5pZHg7KWI9ZC5wb3AoKTtmKGIuc2hhZG93fHxiLGIpLGEucHJldmVudERlZmF1bHQoKX0sYy5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoImxpIikpLmFwcGVuZENoaWxkKGgpfX0sZj1mdW5jdGlvbihhLGMpe3ZhciBmPWIuZG9jdW1lbnQ7az1bXTt2YXIgZz1jfHxhO2QucHVzaChnKSxlKCksZi5ib2R5LnF1ZXJ5U2VsZWN0b3IoIiN0cmVlIikuaW5uZXJIVE1MPSI8cHJlPiIraihhLGEuY2hpbGROb2RlcykrIjwvcHJlPiJ9LGc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxoPXtTVFlMRToxLFNDUklQVDoxLCIjY29tbWVudCI6MSxURU1QTEFURToxfSxpPWZ1bmN0aW9uKGEpe3JldHVybiBoW2Eubm9kZU5hbWVdfSxqPWZ1bmN0aW9uKGEsYixjKXtpZihpKGEpKXJldHVybiIiO3ZhciBkPWN8fCIiO2lmKGEubG9jYWxOYW1lfHwxMT09YS5ub2RlVHlwZSl7dmFyIGU9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCIsZj1kK2woYSk7ImNvbnRlbnQiPT1lJiYoYj1hLmdldERpc3RyaWJ1dGVkTm9kZXMoKSksZis9Ijxici8+Ijt2YXIgaD1kKyImbmJzcDsmbmJzcDsiO2coYixmdW5jdGlvbihhKXtmKz1qKGEsYS5jaGlsZE5vZGVzLGgpfSksZis9ZCx7YnI6MX1bZV18fChmKz0iPHRhZz4mbHQ7LyIrZSsiJmd0OzwvdGFnPiIsZis9Ijxici8+Iil9ZWxzZXt2YXIgaz1hLnRleHRDb250ZW50LnRyaW0oKTtmPWs/ZCsnIicraysnIjxici8+JzoiIn1yZXR1cm4gZn0saz1bXSxsPWZ1bmN0aW9uKGEpe3ZhciBiPSI8dGFnPiZsdDsiLGM9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCI7cmV0dXJuIGEud2Via2l0U2hhZG93Um9vdHx8YS5zaGFkb3dSb290PyhiKz0nIDxidXR0b24gaWR4PSInK2subGVuZ3RoKyciIG9uY2xpY2s9ImFwaS5zaGFkb3dpemUuY2FsbCh0aGlzKSI+JytjKyI8L2J1dHRvbj4iLGsucHVzaChhKSk6Yis9Y3x8InNoYWRvdy1yb290IixhLmF0dHJpYnV0ZXMmJmcoYS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGEpe2IrPSIgIithLm5hbWUrKGEudmFsdWU/Jz0iJythLnZhbHVlKyciJzoiIil9KSxiKz0iJmd0OzwvdGFnPiJ9O3NoYWRvd2l6ZT1mdW5jdGlvbigpe3ZhciBhPU51bWJlcih0aGlzLmF0dHJpYnV0ZXMuaWR4LnZhbHVlKSxiPWtbYV07Yj9mKGIud2Via2l0U2hhZG93Um9vdHx8Yi5zaGFkb3dSb290LGIpOihjb25zb2xlLmxvZygiYmFkIHNoYWRvd2l6ZSBub2RlIiksY29uc29sZS5kaXIodGhpcykpfSxhLm91dHB1dD1qfSh3aW5kb3cuSW5zcGVjdG9yKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtmb3IodmFyIGEsYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUpLGY9MCxnPWIubGVuZ3RoO2c+ZiYmKGE9YltmXSk7ZisrKWEucmVtb3ZlQXR0cmlidXRlKGMpLGEuc2V0QXR0cmlidXRlKGQsIiIpO2lmKGIubGVuZ3RoKXt2YXIgaD1mdW5jdGlvbigpe2Zvcih2YXIgYSxjPTAsZT1iLmxlbmd0aDtlPmMmJihhPWJbY10pO2MrKylhLnJlbW92ZUF0dHJpYnV0ZShkKTtkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxoLCExKX07ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKGksaCwhMSl9fSl9dmFyIGI9LjIsYz0idW5yZXNvbHZlZCIsZD0icmVzb2x2ZWQiLGU9IlsiK2MrIl0iLGY9IlsiK2QrIl0iLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtnLnRleHRDb250ZW50PWUrIiB7IG9wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyB9IFxuIitmKyJ7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuO1xuLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5ICIrYisiczsgdHJhbnNpdGlvbjogb3BhY2l0eSAiK2IrInM7IH1cbiI7dmFyIGg9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2guaW5zZXJ0QmVmb3JlKGcsaC5maXJzdENoaWxkKTt2YXIgaT12b2lkIDAhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNpdGlvbj8id2Via2l0VHJhbnNpdGlvbkVuZCI6InRyYW5zaXRpb25lbmQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGEpfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZChhLGkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGQoYSxqKX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWJ9ZnVuY3Rpb24gZShhKXtyZXR1cm4ic2NyaXB0Ij09PWEubG9jYWxOYW1lfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KGkpKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoImhyZWYiLGRvY3VtZW50LmJhc2VVUkl8fGRvY3VtZW50LlVSTCksYy5oZWFkLmFwcGVuZENoaWxkKGQpLGEgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGMuYm9keS5pbm5lckhUTUw9YSksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChjKSxjfWF8fChhPXdpbmRvdy5IVE1MSW1wb3J0cz17ZmxhZ3M6e319KTt2YXIgZyxoPWEueGhyLGk9ImltcG9ydCIsaj0ic3R5bGVzaGVldCIsaz17ZG9jdW1lbnRzOnt9LGNhY2hlOnt9LHByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2krIl0iLCJlbGVtZW50IGxpbmtbcmVsPSIraisiXSIsInRlbXBsYXRlIiwic2NyaXB0W3NyY106bm90KFt0eXBlXSkiLCdzY3JpcHRbc3JjXVt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSddLmpvaW4oIiwiKSxsb2FkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGc9bmV3IGwoay5sb2FkZWQsYSksZy5jYWNoZT1rLmNhY2hlLGd9LGxvYWQ6ZnVuY3Rpb24oYSxiKXtnPWsubG9hZGVyKGIpLGsucHJlbG9hZChhKX0scHJlbG9hZDpmdW5jdGlvbihhKXt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoay5wcmVsb2FkU2VsZWN0b3JzKTtiPXRoaXMuZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXMoYSxiKSxiPXRoaXMuZXh0cmFjdFRlbXBsYXRlTm9kZXMoYiksZy5hZGROb2RlcyhiKX0sZmlsdGVyTWFpbkRvY3VtZW50Tm9kZXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWRvY3VtZW50JiYoYj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYixmdW5jdGlvbihhKXtyZXR1cm4hZShhKX0pKSxifSxleHRyYWN0VGVtcGxhdGVOb2RlczpmdW5jdGlvbihhKXt2YXIgYj1bXTtyZXR1cm4gYT1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSxmdW5jdGlvbihhKXtpZigidGVtcGxhdGUiPT09YS5sb2NhbE5hbWUpe2lmKGEuY29udGVudCl7dmFyIGM9YS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIraisiXSIpO2MubGVuZ3RoJiYoYj1iLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLDApKSl9cmV0dXJuITF9cmV0dXJuITB9KSxiLmxlbmd0aCYmKGE9YS5jb25jYXQoYikpLGF9LGxvYWRlZDpmdW5jdGlvbihhLGQsZSl7aWYoYihkKSl7dmFyIGc9ay5kb2N1bWVudHNbYV07Z3x8KGc9ZihlLGEpLHAucmVzb2x2ZVBhdGhzSW5IVE1MKGcpLGsuZG9jdW1lbnRzW2FdPWcsay5wcmVsb2FkKGcpKSxkLmltcG9ydD1nLGQuaW1wb3J0LmhyZWY9YSxkLmltcG9ydC5vd25lck5vZGU9ZCxkLmNvbnRlbnQ9ZT1nfWQuX19yZXNvdXJjZT1lLGMoZCkmJnAucmVzb2x2ZVBhdGhzSW5TdHlsZXNoZWV0KGQpfX0sbD1mdW5jdGlvbihhLGIpe3RoaXMub25sb2FkPWEsdGhpcy5vbmNvbXBsZXRlPWIsdGhpcy5pbmZsaWdodD0wLHRoaXMucGVuZGluZz17fSx0aGlzLmNhY2hlPXt9fTtsLnByb3RvdHlwZT17YWRkTm9kZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCs9YS5sZW5ndGgscShhLHRoaXMucmVxdWlyZSx0aGlzKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXAubm9kZVVybChhKTtiPXAubWFrZUFic1VybChiKSxhLl9fbm9kZVVybD1iLHRoaXMuZGVkdXBlKGIsYSl8fHRoaXMuZmV0Y2goYixhKX0sZGVkdXBlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucGVuZGluZ1thXT8odGhpcy5wZW5kaW5nW2FdLnB1c2goYiksITApOnRoaXMuY2FjaGVbYV0/KHRoaXMub25sb2FkKGEsYixnLmNhY2hlW2FdKSx0aGlzLnRhaWwoKSwhMCk6KHRoaXMucGVuZGluZ1thXT1bYl0sITEpfSxmZXRjaDpmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGMsZCl7dGhpcy5yZWNlaXZlKGEsYixjLGQpfS5iaW5kKHRoaXMpO2gubG9hZChhLGMpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe2N8fChnLmNhY2hlW2FdPWQpLGcucGVuZGluZ1thXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2N8fHRoaXMub25sb2FkKGEsYixkKSx0aGlzLnRhaWwoKX0sdGhpcyksZy5wZW5kaW5nW2FdPW51bGx9LHRhaWw6ZnVuY3Rpb24oKXstLXRoaXMuaW5mbGlnaHQsdGhpcy5jaGVja0RvbmUoKX0sY2hlY2tEb25lOmZ1bmN0aW9uKCl7dGhpcy5pbmZsaWdodHx8dGhpcy5vbmNvbXBsZXRlKCl9fTt2YXIgbT1bImhyZWYiLCJzcmMiLCJhY3Rpb24iXSxuPSJbIittLmpvaW4oIl0sWyIpKyJdIixvPSJ7ey4qfX0iLHA9e25vZGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIHAucmVzb2x2ZVVybChwLmRvY3VtZW50VVJMLHAuaHJlZk9yU3JjKGEpKX0saHJlZk9yU3JjOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHxhLmdldEF0dHJpYnV0ZSgic3JjIil9LGRvY3VtZW50VXJsRnJvbU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHAuZ2V0RG9jdW1lbnRVcmwoYS5vd25lckRvY3VtZW50fHxhKX0sZ2V0RG9jdW1lbnRVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEuX1VSTHx8YS5pbXBsJiZhLmltcGwuX1VSTHx8YS5iYXNlVVJJfHxhLlVSTCl8fCIiO3JldHVybiBiLnNwbGl0KCIjIilbMF19LHJlc29sdmVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pc0Fic1VybChiKT9iOnRoaXMuY29tcHJlc3NVcmwodGhpcy51cmxUb1BhdGgoYSkrYil9LHJlc29sdmVSZWxhdGl2ZVVybDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzQWJzVXJsKGIpP2I6dGhpcy5tYWtlRG9jdW1lbnRSZWxQYXRoKHRoaXMucmVzb2x2ZVVybChhLGIpKX0saXNBYnNVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuLyheZGF0YTopfCheaHR0cFtzXT86KXwoXlwvKS8udGVzdChhKX0sdXJsVG9QYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3BsaXQoIi8iKTtyZXR1cm4gYi5wb3AoKSxiLnB1c2goIiIpLGIuam9pbigiLyIpfSxjb21wcmVzc1VybDpmdW5jdGlvbihhKXt2YXIgYj0iIixjPWEuaW5kZXhPZigiPyIpO2M+LTEmJihiPWEuc3Vic3RyaW5nKGMpLGE9YS5zdWJzdHJpbmcoYywwKSk7Zm9yKHZhciBkLGU9YS5zcGxpdCgiLyIpLGY9MDtmPGUubGVuZ3RoO2YrKylkPWVbZl0sIi4uIj09PWQmJihlLnNwbGljZShmLTEsMiksZi09Mik7cmV0dXJuIGUuam9pbigiLyIpK2J9LG1ha2VEb2N1bWVudFJlbFBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHAudXJsRWx0LmhyZWY9YSwhcC51cmxFbHQuaG9zdHx8cC51cmxFbHQuaG9zdD09PXdpbmRvdy5sb2NhdGlvbi5ob3N0JiZwLnVybEVsdC5wcm90b2NvbD09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD90aGlzLm1ha2VSZWxQYXRoKHAuZG9jdW1lbnRVUkwscC51cmxFbHQuaHJlZik6YX0sbWFrZVJlbFBhdGg6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5zcGxpdCgiLyIpLGQ9Yi5zcGxpdCgiLyIpO2MubGVuZ3RoJiZjWzBdPT09ZFswXTspYy5zaGlmdCgpLGQuc2hpZnQoKTtmb3IodmFyIGU9MCxmPWMubGVuZ3RoLTE7Zj5lO2UrKylkLnVuc2hpZnQoIi4uIik7dmFyIGc9ZC5qb2luKCIvIik7cmV0dXJuIGd9LG1ha2VBYnNVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIHAudXJsRWx0LmhyZWY9YSxwLnVybEVsdC5ocmVmfSxyZXNvbHZlUGF0aHNJbkhUTUw6ZnVuY3Rpb24oYSxiKXtiPWJ8fHAuZG9jdW1lbnRVcmxGcm9tTm9kZShhKSxwLnJlc29sdmVBdHRyaWJ1dGVzKGEsYikscC5yZXNvbHZlU3R5bGVFbHRzKGEsYik7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpO2MmJnEoYyxmdW5jdGlvbihhKXthLmNvbnRlbnQmJnAucmVzb2x2ZVBhdGhzSW5IVE1MKGEuY29udGVudCxiKX0pfSxyZXNvbHZlUGF0aHNJblN0eWxlc2hlZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9cC5ub2RlVXJsKGEpO2EuX19yZXNvdXJjZT1wLnJlc29sdmVDc3NUZXh0KGEuX19yZXNvdXJjZSxiKX0scmVzb2x2ZVN0eWxlRWx0czpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtjJiZxKGMsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD1wLnJlc29sdmVDc3NUZXh0KGEudGV4dENvbnRlbnQsYil9KX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5yZXBsYWNlKC91cmxcKFteKV0qXCkvZyxmdW5jdGlvbihhKXt2YXIgYz1hLnJlcGxhY2UoL1siJ10vZywiIikuc2xpY2UoNCwtMSk7cmV0dXJuIGM9cC5yZXNvbHZlUmVsYXRpdmVVcmwoYixjKSwidXJsKCIrYysiKSJ9KX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hJiZhLnF1ZXJ5U2VsZWN0b3JBbGwobik7YyYmcShjLGZ1bmN0aW9uKGEpe3RoaXMucmVzb2x2ZU5vZGVBdHRyaWJ1dGVzKGEsYil9LHRoaXMpfSxyZXNvbHZlTm9kZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXttLmZvckVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9YS5hdHRyaWJ1dGVzW2NdO2lmKGQmJmQudmFsdWUmJmQudmFsdWUuc2VhcmNoKG8pPDApe3ZhciBlPXAucmVzb2x2ZVJlbGF0aXZlVXJsKGIsZC52YWx1ZSk7ZC52YWx1ZT1lfX0pfX07cC5kb2N1bWVudFVSTD1wLmdldERvY3VtZW50VXJsKGRvY3VtZW50KSxwLnVybEVsdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksaD1ofHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYis9Ij8iK01hdGgucmFuZG9tKCkpLGUub3BlbigiR0VUIixiLGguYXN5bmMpLGUuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09ZS5yZWFkeVN0YXRlJiZjLmNhbGwoZCwhaC5vayhlKSYmZSxlLnJlc3BvbnNlfHxlLnJlc3BvbnNlVGV4dCxiKX0pLGUuc2VuZCgpLGV9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19O3ZhciBxPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIse2dldDpmdW5jdGlvbigpe3JldHVybiBIVE1MSW1wb3J0cy5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5jdXJyZW50U2NyaXB0fSx3cml0ZWFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksYS5wYXRoPXAsYS54aHI9aCxhLmltcG9ydGVyPWssYS5nZXREb2N1bWVudFVybD1wLmdldERvY3VtZW50VXJsLGEuSU1QT1JUX0xJTktfVFlQRT1pfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWZ9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiYhZChhKSYmIWUoYSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5vd25lckRvY3VtZW50PT09ZG9jdW1lbnR8fGEub3duZXJEb2N1bWVudC5pbXBsPT09ZG9jdW1lbnR9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiYiZWxlbWVudCI9PT1hLnBhcmVudE5vZGUubG9jYWxOYW1lfXt2YXIgZj0iaW1wb3J0IixnPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2YrIl0iLCJsaW5rW3JlbD1zdHlsZXNoZWV0XSIsInN0eWxlIiwic2NyaXB0Om5vdChbdHlwZV0pIiwnc2NyaXB0W3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10sbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZUdlbmVyaWMifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX2ltcG9ydFBhcnNlZCl7YS5fX2ltcG9ydFBhcnNlZD0hMDtmb3IodmFyIGIsYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoZy5zZWxlY3RvcnMpLGQ9YS5zY3JpcHRzP2Euc2NyaXB0cy5sZW5ndGg6MCxlPTA7ZTxjLmxlbmd0aCYmKGI9Y1tlXSk7ZSsrKWdbZy5tYXBbYi5sb2NhbE5hbWVdXShiKSxhLnNjcmlwdHMmJmQhPT1hLnNjcmlwdHMubGVuZ3RoJiYoZD1hLnNjcmlwdHMubGVuZ3RoLGM9YS5xdWVyeVNlbGVjdG9yQWxsKGcuc2VsZWN0b3JzKSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKT9hLmltcG9ydCYmKGcucGFyc2UoYS5pbXBvcnQpLGEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImxvYWQiKSkpOnRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7YyhhKSYmZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7aWYoYyhiKSl7dmFyIGQ9KGIuX19yZXNvdXJjZXx8Yi50ZXh0Q29udGVudCkudHJpbSgpO2lmKGQpe3ZhciBlPWIuX19ub2RlVXJsO2lmKCFlKXt2YXIgZT1hLnBhdGguZG9jdW1lbnRVcmxGcm9tTm9kZShiKSxmPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGc9ZC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Zj1nJiZnWzFdfHxmLGUrPSIvIitmKyIuanMifWQrPSJcbi8vIyBzb3VyY2VVUkw9IitlKyJcbiIsYS5jdXJyZW50U2NyaXB0PWIsZXZhbC5jYWxsKHdpbmRvdyxkKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH19fX07QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKX1hLnBhcnNlcj1nfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIubG9hZChkb2N1bWVudCxmdW5jdGlvbigpe0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksSFRNTEltcG9ydHMucmVhZHk9ITAsSFRNTEltcG9ydHMucmVhZHlUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJIVE1MSW1wb3J0c0xvYWRlZCIse2J1YmJsZXM6ITB9KSl9KX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGIuaW5pdEV2ZW50KGEsITAsITApLGJ9KSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8ImludGVyYWN0aXZlIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJiF3aW5kb3cuYXR0YWNoRXZlbnQ/YSgpOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3UucHVzaChhKSx0fHwodD0hMCxxKGQpKX1mdW5jdGlvbiBjKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJndpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSl8fGF9ZnVuY3Rpb24gZCgpe3Q9ITE7dmFyIGE9dTt1PVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7dmFyIGI9ITE7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFrZVJlY29yZHMoKTtlKGEpLGMubGVuZ3RoJiYoYS5jYWxsYmFja18oYyxhKSxiPSEwKX0pLGImJmQoKX1mdW5jdGlvbiBlKGEpe2Eubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9cC5nZXQoYik7YyYmYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Iub2JzZXJ2ZXI9PT1hJiZiLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfSl9KX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPWE7YztjPWMucGFyZW50Tm9kZSl7dmFyIGQ9cC5nZXQoYyk7aWYoZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYub3B0aW9ucztpZihjPT09YXx8Zy5zdWJ0cmVlKXt2YXIgaD1iKGcpO2gmJmYuZW5xdWV1ZShoKX19fX1mdW5jdGlvbiBnKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89Kyt2fWZ1bmN0aW9uIGgoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1bXSx0aGlzLnJlbW92ZWROb2Rlcz1bXSx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBpKGEpe3ZhciBiPW5ldyBoKGEudHlwZSxhLnRhcmdldCk7cmV0dXJuIGIuYWRkZWROb2Rlcz1hLmFkZGVkTm9kZXMuc2xpY2UoKSxiLnJlbW92ZWROb2Rlcz1hLnJlbW92ZWROb2Rlcy5zbGljZSgpLGIucHJldmlvdXNTaWJsaW5nPWEucHJldmlvdXNTaWJsaW5nLGIubmV4dFNpYmxpbmc9YS5uZXh0U2libGluZyxiLmF0dHJpYnV0ZU5hbWU9YS5hdHRyaWJ1dGVOYW1lLGIuYXR0cmlidXRlTmFtZXNwYWNlPWEuYXR0cmlidXRlTmFtZXNwYWNlLGIub2xkVmFsdWU9YS5vbGRWYWx1ZSxifWZ1bmN0aW9uIGooYSxiKXtyZXR1cm4gdz1uZXcgaChhLGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIHg/eDooeD1pKHcpLHgub2xkVmFsdWU9YSx4KX1mdW5jdGlvbiBsKCl7dz14PXZvaWQgMH1mdW5jdGlvbiBtKGEpe3JldHVybiBhPT09eHx8YT09PXd9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPT09Yj9hOngmJm0oYSk/eDpudWxsfWZ1bmN0aW9uIG8oYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgcD1uZXcgV2Vha01hcCxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiBjW2QtMV09Zix2b2lkIDB9ZWxzZSBiKHRoaXMub2JzZXJ2ZXIpO2NbZF09YX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGEpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPXAuZ2V0KGEpO2J8fHAuc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGEpO2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXT09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIGI9YS5hdHRyTmFtZSxjPWEucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLGQ9YS50YXJnZXQsZT1uZXcgaigiYXR0cmlidXRlcyIsZCk7CmUuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZywhYS5NdXRhdGlvbk9ic2VydmVyJiZhLldlYktpdE11dGF0aW9uT2JzZXJ2ZXImJihhLk11dGF0aW9uT2JzZXJ2ZXI9YS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyKSxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWEuc2hhZG93Um9vdDtjOylkKGMsYiksYz1jLm9sZGVyU2hhZG93Um9vdH1mdW5jdGlvbiBkKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOihjKGEsZCksdm9pZCAwKX0pLGMoYSxkKX1mdW5jdGlvbiBlKGEpe3JldHVybiBoKGEpPyhpKGEpLCEwKToobChhKSx2b2lkIDApfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiB5LmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYikseS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHEoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihCLnB1c2goYSksIUEpe0E9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0E9ITE7Zm9yKHZhciBhLGI9QixjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7Qj1bXX1mdW5jdGlvbiBsKGEpe3o/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmeS5kb20pJiYoeS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHEoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT95LmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJih5LmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSkseS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXt6P2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJnkuZG9tKSYmKHkuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHEoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD95LmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLHkuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7Zm9yKHZhciBiPWEsYz13aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJndpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpfHxkb2N1bWVudDtiOyl7aWYoYj09YylyZXR1cm4hMDtiPWIucGFyZW50Tm9kZXx8Yi5ob3N0fX1mdW5jdGlvbiByKGEpe2lmKGEuc2hhZG93Um9vdCYmIWEuc2hhZG93Um9vdC5fX3dhdGNoZWQpe3kuZG9tJiZjb25zb2xlLmxvZygid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiAiLGEubG9jYWxOYW1lKTtmb3IodmFyIGI9YS5zaGFkb3dSb290O2I7KXMoYiksYj1iLm9sZGVyU2hhZG93Um9vdH19ZnVuY3Rpb24gcyhhKXthLl9fd2F0Y2hlZHx8KHYoYSksYS5fX3dhdGNoZWQ9ITApfWZ1bmN0aW9uIHQoYSl7aWYoeS5kb20pe3ZhciBiPWFbMF07aWYoYiYmImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2RlcyYmYi5hZGRlZE5vZGVzKXtmb3IodmFyIGM9Yi5hZGRlZE5vZGVzWzBdO2MmJmMhPT1kb2N1bWVudCYmIWMuaG9zdDspYz1jLnBhcmVudE5vZGU7dmFyIGQ9YyYmKGMuVVJMfHxjLl9VUkx8fGMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZSl8fCIiO2Q9ZC5zcGxpdCgiLz8iKS5zaGlmdCgpLnNwbGl0KCIvIikucG9wKCl9Y29uc29sZS5ncm91cCgibXV0YXRpb25zICglZCkgWyVzXSIsYS5sZW5ndGgsZHx8IiIpfWEuZm9yRWFjaChmdW5jdGlvbihhKXsiY2hpbGRMaXN0Ij09PWEudHlwZSYmKEQoYS5hZGRlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZnKGEpfSksRChhLnJlbW92ZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmbihhKX0pKX0pLHkuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gdSgpe3QoQy50YWtlUmVjb3JkcygpKSxrKCl9ZnVuY3Rpb24gdihhKXtDLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX1mdW5jdGlvbiB3KGEpe3YoYSl9ZnVuY3Rpb24geChhKXt5LmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZURvY3VtZW50OiAiLChhLlVSTHx8YS5fVVJMfHwiIikuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSx5LmRvbSYmY29uc29sZS5ncm91cEVuZCgpfXZhciB5PXdpbmRvdy5sb2dGbGFnc3x8e30sej0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPXo7dmFyIEE9ITEsQj1bXSxDPW5ldyBNdXRhdGlvbk9ic2VydmVyKHQpLEQ9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLndhdGNoU2hhZG93PXIsYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEub2JzZXJ2ZURvY3VtZW50PXcsYS51cGdyYWRlRG9jdW1lbnQ9eCxhLnRha2VSZWNvcmRzPXV9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGYpe3ZhciBnPWZ8fHt9O2lmKCFiKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCBgbmFtZWAgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihiLmluZGV4T2YoIi0iKTwwKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCAoJ25hbWUnKSBtdXN0IGNvbnRhaW4gYSBkYXNoICgnLScpLiBBcmd1bWVudCBwcm92aWRlZCB3YXMgJyIrU3RyaW5nKGIpKyInLiIpO2lmKG0oYikpdGhyb3cgbmV3IEVycm9yKCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJyIrU3RyaW5nKGIpKyInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCIpO2lmKCFnLnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbnMgbWlzc2luZyByZXF1aXJlZCBwcm90b3R5cGUgcHJvcGVydHkiKTtyZXR1cm4gZy5fX25hbWU9Yi50b0xvd2VyQ2FzZSgpLGcubGlmZWN5Y2xlPWcubGlmZWN5Y2xlfHx7fSxnLmFuY2VzdHJ5PWMoZy5leHRlbmRzKSxkKGcpLGUoZyksayhnLnByb3RvdHlwZSksbihnLl9fbmFtZSxnKSxnLmN0b3I9byhnKSxnLmN0b3IucHJvdG90eXBlPWcucHJvdG90eXBlLGcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWcuY3RvcixhLnJlYWR5JiZhLnVwZ3JhZGVBbGwoZG9jdW1lbnQpLGcuY3Rvcn1mdW5jdGlvbiBjKGEpe3ZhciBiPW0oYSk7cmV0dXJuIGI/YyhiLmV4dGVuZHMpLmNvbmNhdChbYl0pOltdfWZ1bmN0aW9uIGQoYSl7Zm9yKHZhciBiLGM9YS5leHRlbmRzLGQ9MDtiPWEuYW5jZXN0cnlbZF07ZCsrKWM9Yi5pcyYmYi50YWc7YS50YWc9Y3x8YS5fX25hbWUsYyYmKGEuaXM9YS5fX25hbWUpfWZ1bmN0aW9uIGUoYSl7aWYoIU9iamVjdC5fX3Byb3RvX18pe3ZhciBiPUhUTUxFbGVtZW50LnByb3RvdHlwZTtpZihhLmlzKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEudGFnKTtiPU9iamVjdC5nZXRQcm90b3R5cGVPZihjKX1mb3IodmFyIGQsZT1hLnByb3RvdHlwZTtlJiZlIT09Yjspe3ZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtlLl9fcHJvdG9fXz1kLGU9ZH19YS5uYXRpdmU9Yn1mdW5jdGlvbiBmKGEpe3JldHVybiBnKHgoYS50YWcpLGEpfWZ1bmN0aW9uIGcoYixjKXtyZXR1cm4gYy5pcyYmYi5zZXRBdHRyaWJ1dGUoImlzIixjLmlzKSxiLnJlbW92ZUF0dHJpYnV0ZSgidW5yZXNvbHZlZCIpLGgoYixjKSxiLl9fdXBncmFkZWRfXz0hMCxhLnVwZ3JhZGVTdWJ0cmVlKGIpLGooYiksYn1mdW5jdGlvbiBoKGEsYil7T2JqZWN0Ll9fcHJvdG9fXz9hLl9fcHJvdG9fXz1iLnByb3RvdHlwZTooaShhLGIucHJvdG90eXBlLGIubmF0aXZlKSxhLl9fcHJvdG9fXz1iLnByb3RvdHlwZSl9ZnVuY3Rpb24gaShhLGIsYyl7Zm9yKHZhciBkPXt9LGU9YjtlIT09YyYmZSE9PUhUTUxVbmtub3duRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGYsZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxoPTA7Zj1nW2hdO2grKylkW2ZdfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsZikpLGRbZl09MSk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9fWZ1bmN0aW9uIGooYSl7YS5jcmVhdGVkQ2FsbGJhY2smJmEuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gayhhKXtpZighYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciBiPWEuc2V0QXR0cmlidXRlO2Euc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYyl7bC5jYWxsKHRoaXMsYSxjLGIpfTt2YXIgYz1hLnJlbW92ZUF0dHJpYnV0ZTthLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtsLmNhbGwodGhpcyxhLG51bGwsYyl9LGEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZShhKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmZSE9PWQmJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGEsZCxlKX1mdW5jdGlvbiBtKGEpe3JldHVybiBhP3dbYS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gbihhLGIpe3dbYV09Yn1mdW5jdGlvbiBvKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmKGEpfX1mdW5jdGlvbiBwKGEsYil7dmFyIGM9bShifHxhKTtyZXR1cm4gYz9uZXcgYy5jdG9yOngoYSl9ZnVuY3Rpb24gcShhKXtpZighYS5fX3VwZ3JhZGVkX18mJmEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImlzIil8fGEubG9jYWxOYW1lLGM9bShiKTtyZXR1cm4gYyYmZyhhLGMpfX1mdW5jdGlvbiByKGIpe3ZhciBjPXkuY2FsbCh0aGlzLGIpO3JldHVybiBhLnVwZ3JhZGVBbGwoYyksY31hfHwoYT13aW5kb3cuQ3VzdG9tRWxlbWVudHM9e2ZsYWdzOnt9fSk7dmFyIHM9YS5mbGFncyx0PUJvb2xlYW4oZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KSx1PSFzLnJlZ2lzdGVyJiZ0O2lmKHUpe3ZhciB2PWZ1bmN0aW9uKCl7fTthLnJlZ2lzdHJ5PXt9LGEudXBncmFkZUVsZW1lbnQ9dixhLndhdGNoU2hhZG93PXYsYS51cGdyYWRlPXYsYS51cGdyYWRlQWxsPXYsYS51cGdyYWRlU3VidHJlZT12LGEub2JzZXJ2ZURvY3VtZW50PXYsYS51cGdyYWRlRG9jdW1lbnQ9dixhLnRha2VSZWNvcmRzPXZ9ZWxzZXt2YXIgdz17fSx4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCkseT1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50PWIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD1wLE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT1yLGEucmVnaXN0cnk9dyxhLnVwZ3JhZGU9cX1kb2N1bWVudC5yZWdpc3Rlcj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQsYS5oYXNOYXRpdmU9dCxhLnVzZU5hdGl2ZT11fSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Yn12YXIgYj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsYz17c2VsZWN0b3JzOlsibGlua1tyZWw9IitiKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoYy5zZWxlY3RvcnMpO2QoYixmdW5jdGlvbihhKXtjW2MubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGIpe2EoYikmJnRoaXMucGFyc2VJbXBvcnQoYil9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2EuY29udGVudCYmYy5wYXJzZShhLmNvbnRlbnQpfX0sZD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO0N1c3RvbUVsZW1lbnRzLnBhcnNlcj1jfSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChkb2N1bWVudCk7dmFyIGE9d2luZG93LlBsYXRmb3JtJiZQbGF0Zm9ybS5lbmRPZk1pY3JvdGFzaz9QbGF0Zm9ybS5lbmRPZk1pY3JvdGFzazpzZXRUaW1lb3V0O2EoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeT0hMCxDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpfSl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBiLmluaXRFdmVudChhLCEwLCEwKSxifSksImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fGEuZmxhZ3MuZWFnZXIpYigpO2Vsc2UgaWYoImludGVyYWN0aXZlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGV8fHdpbmRvdy5hdHRhY2hFdmVudHx8d2luZG93LkhUTUxJbXBvcnRzJiYhd2luZG93LkhUTUxJbXBvcnRzLnJlYWR5KXt2YXIgYz13aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy5yZWFkeT8iSFRNTEltcG9ydHNMb2FkZWQiOiJET01Db250ZW50TG9hZGVkIjt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihjLGIpfWVsc2UgYigpfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJlbGVtZW50IHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSAvKiBpbmplY3RlZCBieSBwbGF0Zm9ybS5qcyAqLyI7dmFyIGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2lmKGIuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBjPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sZD17fTtjLmZvckVhY2goZnVuY3Rpb24oYSl7ZFthXT1DdXN0b21FbGVtZW50c1thXX0pLGMuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihiKXtyZXR1cm4gZFthXSh3cmFwKGIpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmLnRleHRDb250ZW50PWQrKyxlLnB1c2goYSl9ZnVuY3Rpb24gYygpe2Zvcig7ZS5sZW5ndGg7KWUuc2hpZnQoKSgpfXZhciBkPTAsZT1bXSxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fEpzTXV0YXRpb25PYnNlcnZlcikoYykub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSksYS5lbmRPZk1pY3JvdGFzaz1ifShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7YT1hfHx7fSxhLmV4dGVybmFsPWEuZXh0ZXJuYWx8fHt9O3ZhciBiPXtzaGFkb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS5zaGFkb3dSb290fHxhLndlYmtpdFNoYWRvd1Jvb3Q6dm9pZCAwfSxjYW5UYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJkJvb2xlYW4oYS5lbGVtZW50RnJvbVBvaW50KX0sdGFyZ2V0aW5nU2hhZG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2hhZG93KGEpO3JldHVybiB0aGlzLmNhblRhcmdldChiKT9iOnZvaWQgMH0sb2xkZXJTaGFkb3c6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vbGRlclNoYWRvd1Jvb3Q7aWYoIWIpe3ZhciBjPWEucXVlcnlTZWxlY3Rvcigic2hhZG93Iik7YyYmKGI9Yy5vbGRlclNoYWRvd1Jvb3QpfXJldHVybiBifSxhbGxTaGFkb3dzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPXRoaXMuc2hhZG93KGEpO2M7KWIucHVzaChjKSxjPXRoaXMub2xkZXJTaGFkb3coYyk7cmV0dXJuIGJ9LHNlYXJjaFJvb3Q6ZnVuY3Rpb24oYSxiLGMpe2lmKGEpe3ZhciBkLGUsZj1hLmVsZW1lbnRGcm9tUG9pbnQoYixjKTtmb3IoZT10aGlzLnRhcmdldGluZ1NoYWRvdyhmKTtlOyl7aWYoZD1lLmVsZW1lbnRGcm9tUG9pbnQoYixjKSl7dmFyIGc9dGhpcy50YXJnZXRpbmdTaGFkb3coZCk7cmV0dXJuIHRoaXMuc2VhcmNoUm9vdChnLGIsYyl8fGR9ZT10aGlzLm9sZGVyU2hhZG93KGUpfXJldHVybiBmfX0sb3duZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWE7Yi5wYXJlbnROb2RlOyliPWIucGFyZW50Tm9kZTtyZXR1cm4gYi5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9OT0RFJiZiLm5vZGVUeXBlIT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUmJihiPWRvY3VtZW50KSxifSxmaW5kVGFyZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2xpZW50WCxjPWEuY2xpZW50WSxkPXRoaXMub3duZXIoYS50YXJnZXQpO3JldHVybiBkLmVsZW1lbnRGcm9tUG9pbnQoYixjKXx8KGQ9ZG9jdW1lbnQpLHRoaXMuc2VhcmNoUm9vdChkLGIsYyl9fTthLnRhcmdldEZpbmRpbmc9YixhLmZpbmRUYXJnZXQ9Yi5maW5kVGFyZ2V0LmJpbmQoYiksd2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbD1hfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuImJvZHkgXl4gIitiKGEpfWZ1bmN0aW9uIGIoYSl7cmV0dXJuJ1t0b3VjaC1hY3Rpb249IicrYSsnIl0nfWZ1bmN0aW9uIGMoYSl7cmV0dXJuInsgLW1zLXRvdWNoLWFjdGlvbjogIithKyI7IHRvdWNoLWFjdGlvbjogIithKyI7IHRvdWNoLWFjdGlvbi1kZWxheTogbm9uZTsgfSJ9dmFyIGQ9WyJub25lIiwiYXV0byIsInBhbi14IiwicGFuLXkiLHtydWxlOiJwYW4teCBwYW4teSIsc2VsZWN0b3JzOlsicGFuLXggcGFuLXkiLCJwYW4teSBwYW4teCJdfV0sZT0iIjtkLmZvckVhY2goZnVuY3Rpb24oZCl7U3RyaW5nKGQpPT09ZD8oZSs9YihkKStjKGQpKyJcbiIsZSs9YShkKStjKGQpKyJcbiIpOihlKz1kLnNlbGVjdG9ycy5tYXAoYikrYyhkLnJ1bGUpKyJcbiIsZSs9ZC5zZWxlY3RvcnMubWFwKGEpK2MoZC5ydWxlKSsiXG4iKX0pO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Zi50ZXh0Q29udGVudD1lLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZil9KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGUpe2U9ZXx8e307dmFyIGY9ZS5idXR0b25zO2lmKHZvaWQgMD09PWYpc3dpdGNoKGUud2hpY2gpe2Nhc2UgMTpmPTE7YnJlYWs7Y2FzZSAyOmY9NDticmVhaztjYXNlIDM6Zj0yO2JyZWFrO2RlZmF1bHQ6Zj0wfXZhciBpO2lmKGMpaT1uZXcgTW91c2VFdmVudChhLGUpO2Vsc2V7aT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2Zvcih2YXIgaixrPXt9LGw9MDtsPGcubGVuZ3RoO2wrKylqPWdbbF0sa1tqXT1lW2pdfHxoW2xdO2kuaW5pdE1vdXNlRXZlbnQoYSxrLmJ1YmJsZXMsay5jYW5jZWxhYmxlLGsudmlldyxrLmRldGFpbCxrLnNjcmVlblgsay5zY3JlZW5ZLGsuY2xpZW50WCxrLmNsaWVudFksay5jdHJsS2V5LGsuYWx0S2V5LGsuc2hpZnRLZXksay5tZXRhS2V5LGsuYnV0dG9uLGsucmVsYXRlZFRhcmdldCl9aS5fX3Byb3RvX189Yi5wcm90b3R5cGUsZHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGksImJ1dHRvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sZW51bWVyYWJsZTohMH0pO3ZhciBtPTA7cmV0dXJuIG09ZS5wcmVzc3VyZT9lLnByZXNzdXJlOmY/LjU6MCxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLHtwb2ludGVySWQ6e3ZhbHVlOmUucG9pbnRlcklkfHwwLGVudW1lcmFibGU6ITB9LHdpZHRoOnt2YWx1ZTplLndpZHRofHwwLGVudW1lcmFibGU6ITB9LGhlaWdodDp7dmFsdWU6ZS5oZWlnaHR8fDAsZW51bWVyYWJsZTohMH0scHJlc3N1cmU6e3ZhbHVlOm0sZW51bWVyYWJsZTohMH0sdGlsdFg6e3ZhbHVlOmUudGlsdFh8fDAsZW51bWVyYWJsZTohMH0sdGlsdFk6e3ZhbHVlOmUudGlsdFl8fDAsZW51bWVyYWJsZTohMH0scG9pbnRlclR5cGU6e3ZhbHVlOmUucG9pbnRlclR5cGV8fCIiLGVudW1lcmFibGU6ITB9LGh3VGltZXN0YW1wOnt2YWx1ZTplLmh3VGltZXN0YW1wfHwwLGVudW1lcmFibGU6ITB9LGlzUHJpbWFyeTp7dmFsdWU6ZS5pc1ByaW1hcnl8fCExLGVudW1lcmFibGU6ITB9fSksaX12YXIgYz0hMSxkPSExO3RyeXt2YXIgZT1uZXcgTW91c2VFdmVudCgiY2xpY2siLHtidXR0b25zOjF9KTtjPSEwLGQ9MT09PWUuYnV0dG9uc31jYXRjaChmKXt9dmFyIGc9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiXSxoPVshMSwhMSxudWxsLG51bGwsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGxdO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTW91c2VFdmVudC5wcm90b3R5cGUpLGEuUG9pbnRlckV2ZW50fHwoYS5Qb2ludGVyRXZlbnQ9Yil9KHdpbmRvdyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2lmKGMpe3ZhciBhPW5ldyBNYXA7cmV0dXJuIGEucG9pbnRlcnM9ZCxhfXRoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX12YXIgYz13aW5kb3cuTWFwJiZ3aW5kb3cuTWFwLnByb3RvdHlwZS5mb3JFYWNoLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfTtiLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yz4tMT90aGlzLnZhbHVlc1tjXT1iOih0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKX0saGFzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmtleXMuaW5kZXhPZihhKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yj4tMSYmKHRoaXMua2V5cy5zcGxpY2UoYiwxKSx0aGlzLnZhbHVlcy5zcGxpY2UoYiwxKSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gdGhpcy52YWx1ZXNbYl19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5rZXlzLmxlbmd0aD0wLHRoaXMudmFsdWVzLmxlbmd0aD0wfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihjLGQpe2EuY2FsbChiLGMsdGhpcy5rZXlzW2RdLHRoaXMpfSx0aGlzKX0scG9pbnRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19LGEuUG9pbnRlck1hcD1ifSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1bImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsImRldGFpbCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwiYnV0dG9uIiwicmVsYXRlZFRhcmdldCIsImJ1dHRvbnMiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaHdUaW1lc3RhbXAiLCJpc1ByaW1hcnkiLCJ0eXBlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIndoaWNoIl0sYz1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLHZvaWQgMCwwLDAsMCwwLDAsMCwiIiwwLCExLCIiLG51bGwsbnVsbCwwXSxkPXt0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZWRFdmVudHM6bmV3IFdlYWtNYXAscG9pbnRlcm1hcDpuZXcgYS5Qb2ludGVyTWFwLGV2ZW50TWFwOnt9LGV2ZW50U291cmNlczp7fSxldmVudFNvdXJjZUxpc3Q6W10scmVnaXN0ZXJTb3VyY2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLGQ9Yy5ldmVudHM7ZCYmKGQuZm9yRWFjaChmdW5jdGlvbihhKXtjW2FdJiYodGhpcy5ldmVudE1hcFthXT1jW2FdLmJpbmQoYykpfSx0aGlzKSx0aGlzLmV2ZW50U291cmNlc1thXT1jLHRoaXMuZXZlbnRTb3VyY2VMaXN0LnB1c2goYykpfSxyZWdpc3RlcjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsZD0wO2M+ZCYmKGI9dGhpcy5ldmVudFNvdXJjZUxpc3RbZF0pO2QrKyliLnJlZ2lzdGVyLmNhbGwoYixhKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsZD0wO2M+ZCYmKGI9dGhpcy5ldmVudFNvdXJjZUxpc3RbZF0pO2QrKyliLnVucmVnaXN0ZXIuY2FsbChiLGEpfSxjb250YWluczphLmV4dGVybmFsLmNvbnRhaW5zfHxmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbnRhaW5zKGIpfSxkb3duOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVyZG93biIsYSl9LG1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoInBvaW50ZXJtb3ZlIixhKX0sdXA6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoInBvaW50ZXJ1cCIsYSl9LGVudGVyOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmVudGVyIixhKX0sbGVhdmU6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSExLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVybGVhdmUiLGEpfSxvdmVyOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm92ZXIiLGEpfSxvdXQ6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVyb3V0IixhKX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJwb2ludGVyY2FuY2VsIixhKX0sbGVhdmVPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmxlYXZlKGEpLHRoaXMub3V0KGEpfSxlbnRlck92ZXI6ZnVuY3Rpb24oYSl7dGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpLHRoaXMub3ZlcihhKX0sZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmhhbmRsZWRFdmVudHMuZ2V0KGEpKXt2YXIgYj1hLnR5cGUsYz10aGlzLmV2ZW50TWFwJiZ0aGlzLmV2ZW50TWFwW2JdO2MmJmMoYSksdGhpcy5oYW5kbGVkRXZlbnRzLnNldChhLCEwKX19LGxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLmFkZEV2ZW50KGEsYil9LHRoaXMpfSx1bmxpc3RlbjpmdW5jdGlvbihhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLnJlbW92ZUV2ZW50KGEsYil9LHRoaXMpfSxhZGRFdmVudDphLmV4dGVybmFsLmFkZEV2ZW50fHxmdW5jdGlvbihhLGIpe2EuYWRkRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKX0scmVtb3ZlRXZlbnQ6YS5leHRlcm5hbC5yZW1vdmVFdmVudHx8ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoYix0aGlzLmJvdW5kSGFuZGxlcil9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3RoaXMuY2FwdHVyZUluZm8mJihiLnJlbGF0ZWRUYXJnZXQ9bnVsbCk7dmFyIGM9bmV3IFBvaW50ZXJFdmVudChhLGIpO3JldHVybiBiLnByZXZlbnREZWZhdWx0JiYoYy5wcmV2ZW50RGVmYXVsdD1iLnByZXZlbnREZWZhdWx0KSx0aGlzLnRhcmdldHMuc2V0KGMsdGhpcy50YXJnZXRzLmdldChiKXx8Yi50YXJnZXQpLGN9LGZpcmVFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWFrZUV2ZW50KGEsYik7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChjKX0sY2xvbmVFdmVudDpmdW5jdGlvbihhKXtmb3IodmFyIGQsZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspZD1iW2ZdLGVbZF09YVtkXXx8Y1tmXTtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCYmKGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXthLnByZXZlbnREZWZhdWx0KCl9KSxlfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1hLnBvaW50ZXJJZD90aGlzLmNhcHR1cmVJbmZvLnRhcmdldDp0aGlzLnRhcmdldHMuZ2V0KGEpfSxzZXRDYXB0dXJlOmZ1bmN0aW9uKGEsYil7dGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5yZWxlYXNlQ2FwdHVyZSh0aGlzLmNhcHR1cmVJbmZvLmlkKSx0aGlzLmNhcHR1cmVJbmZvPXtpZDphLHRhcmdldDpifTt2YXIgYz1uZXcgUG9pbnRlckV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KTt0aGlzLmltcGxpY2l0UmVsZWFzZT10aGlzLnJlbGVhc2VDYXB0dXJlLmJpbmQodGhpcyxhKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChjLGIpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KGMpfSxyZWxlYXNlQ2FwdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09YSl7dmFyIGI9bmV3IFBvaW50ZXJFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pLGM9dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ7dGhpcy5jYXB0dXJlSW5mbz1udWxsLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KGIsYyksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQoYil9fSxkaXNwYXRjaEV2ZW50OmEuZXh0ZXJuYWwuZGlzcGF0Y2hFdmVudHx8ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUYXJnZXQoYSk7cmV0dXJuIGI/Yi5kaXNwYXRjaEV2ZW50KGEpOnZvaWQgMH0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQodGhpcy5kaXNwYXRjaEV2ZW50LmJpbmQodGhpcyxhKSwwKX19O2QuYm91bmRIYW5kbGVyPWQuZXZlbnRIYW5kbGVyLmJpbmQoZCksYS5kaXNwYXRjaGVyPWQsYS5yZWdpc3Rlcj1kLnJlZ2lzdGVyLmJpbmQoZCksYS51bnJlZ2lzdGVyPWQudW5yZWdpc3Rlci5iaW5kKGQpfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjLGQpe3RoaXMuYWRkQ2FsbGJhY2s9YS5iaW5kKGQpLHRoaXMucmVtb3ZlQ2FsbGJhY2s9Yi5iaW5kKGQpLHRoaXMuY2hhbmdlZENhbGxiYWNrPWMuYmluZChkKSxnJiYodGhpcy5vYnNlcnZlcj1uZXcgZyh0aGlzLm11dGF0aW9uV2F0Y2hlci5iaW5kKHRoaXMpKSl9dmFyIGM9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxkPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuc2xpY2UpLGY9QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlciksZz13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsaD0iW3RvdWNoLWFjdGlvbl0iLGk9e3N1YnRyZWU6ITAsY2hpbGRMaXN0OiEwLGF0dHJpYnV0ZXM6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsYXR0cmlidXRlRmlsdGVyOlsidG91Y2gtYWN0aW9uIl19O2IucHJvdG90eXBlPXt3YXRjaFN1YnRyZWU6ZnVuY3Rpb24oYil7YS50YXJnZXRGaW5kaW5nLmNhblRhcmdldChiKSYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKGIsaSl9LGVuYWJsZU9uU3VidHJlZTpmdW5jdGlvbihhKXt0aGlzLndhdGNoU3VidHJlZShhKSxhPT09ZG9jdW1lbnQmJiJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP3RoaXMuaW5zdGFsbE9uTG9hZCgpOnRoaXMuaW5zdGFsbE5ld1N1YnRyZWUoYSl9LGluc3RhbGxOZXdTdWJ0cmVlOmZ1bmN0aW9uKGEpe2ModGhpcy5maW5kRWxlbWVudHMoYSksdGhpcy5hZGRFbGVtZW50LHRoaXMpfSxmaW5kRWxlbWVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoaCk6W119LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVDYWxsYmFjayhhKX0sYWRkRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmFkZENhbGxiYWNrKGEpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihhLGIpe3RoaXMuY2hhbmdlZENhbGxiYWNrKGEsYil9LGNvbmNhdExpc3RzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGUoYikpfSxpbnN0YWxsT25Mb2FkOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsdGhpcy5pbnN0YWxsTmV3U3VidHJlZS5iaW5kKHRoaXMsZG9jdW1lbnQpKX0saXNFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9LGZsYXR0ZW5NdXRhdGlvblRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9ZChhLHRoaXMuZmluZEVsZW1lbnRzLHRoaXMpO3JldHVybiBiLnB1c2goZihhLHRoaXMuaXNFbGVtZW50KSksYi5yZWR1Y2UodGhpcy5jb25jYXRMaXN0cyxbXSl9LG11dGF0aW9uV2F0Y2hlcjpmdW5jdGlvbihhKXthLmZvckVhY2godGhpcy5tdXRhdGlvbkhhbmRsZXIsdGhpcyl9LG11dGF0aW9uSGFuZGxlcjpmdW5jdGlvbihhKXtpZigiY2hpbGRMaXN0Ij09PWEudHlwZSl7dmFyIGI9dGhpcy5mbGF0dGVuTXV0YXRpb25UcmVlKGEuYWRkZWROb2Rlcyk7Yi5mb3JFYWNoKHRoaXMuYWRkRWxlbWVudCx0aGlzKTt2YXIgYz10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoYS5yZW1vdmVkTm9kZXMpO2MuZm9yRWFjaCh0aGlzLnJlbW92ZUVsZW1lbnQsdGhpcyl9ZWxzZSJhdHRyaWJ1dGVzIj09PWEudHlwZSYmdGhpcy5lbGVtZW50Q2hhbmdlZChhLnRhcmdldCxhLm9sZFZhbHVlKX19LGd8fChiLnByb3RvdHlwZS53YXRjaFN1YnRyZWU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlBvaW50ZXJFdmVudHNQb2x5ZmlsbDogTXV0YXRpb25PYnNlcnZlcnMgbm90IGZvdW5kLCB0b3VjaC1hY3Rpb24gd2lsbCBub3QgYmUgZHluYW1pY2FsbHkgZGV0ZWN0ZWQiKX0pLGEuSW5zdGFsbGVyPWJ9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPWIucG9pbnRlcm1hcCxkPTI1LGU9e1BPSU5URVJfSUQ6MSxQT0lOVEVSX1RZUEU6Im1vdXNlIixldmVudHM6WyJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2VvdmVyIiwibW91c2VvdXQiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtiLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtiLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxsYXN0VG91Y2hlczpbXSxpc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMubGFzdFRvdWNoZXMsZT1hLmNsaWVudFgsZj1hLmNsaWVudFksZz0wLGg9Yy5sZW5ndGg7aD5nJiYoYj1jW2ddKTtnKyspe3ZhciBpPU1hdGguYWJzKGUtYi54KSxqPU1hdGguYWJzKGYtYi55KTtpZihkPj1pJiZkPj1qKXJldHVybiEwfX0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBjPWIuY2xvbmVFdmVudChhKSxkPWMucHJldmVudERlZmF1bHQ7cmV0dXJuIGMucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXthLnByZXZlbnREZWZhdWx0KCksZCgpfSxjLnBvaW50ZXJJZD10aGlzLlBPSU5URVJfSUQsYy5pc1ByaW1hcnk9ITAsYy5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSxjfSxtb3VzZWRvd246ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGQ9Yy5oYXModGhpcy5QT0lOVEVSX0lEKTtkJiZ0aGlzLmNhbmNlbChhKTt2YXIgZT10aGlzLnByZXBhcmVFdmVudChhKTtjLnNldCh0aGlzLlBPSU5URVJfSUQsYSksYi5kb3duKGUpfX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goYSkpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IubW92ZShjKX19LG1vdXNldXA6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGQ9Yy5nZXQodGhpcy5QT0lOVEVSX0lEKTtpZihkJiZkLmJ1dHRvbj09PWEuYnV0dG9uKXt2YXIgZT10aGlzLnByZXBhcmVFdmVudChhKTtiLnVwKGUpLHRoaXMuY2xlYW51cE1vdXNlKCl9fX0sbW91c2VvdmVyOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goYSkpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZW50ZXJPdmVyKGMpfX0sbW91c2VvdXQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5sZWF2ZU91dChjKX19LGNhbmNlbDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmNhbmNlbChjKSx0aGlzLmNsZWFudXBNb3VzZSgpfSxjbGVhbnVwTW91c2U6ZnVuY3Rpb24oKXtjWyJkZWxldGUiXSh0aGlzLlBPSU5URVJfSUQpfX07YS5tb3VzZUV2ZW50cz1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYixjPWEuZGlzcGF0Y2hlcixkPWEuZmluZFRhcmdldCxlPWEudGFyZ2V0RmluZGluZy5hbGxTaGFkb3dzLmJpbmQoYS50YXJnZXRGaW5kaW5nKSxmPWMucG9pbnRlcm1hcCxnPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLGg9MjUwMCxpPTIwMCxqPSJ0b3VjaC1hY3Rpb24iLGs9ITEsbD17c2Nyb2xsVHlwZTpuZXcgV2Vha01hcCxldmVudHM6WyJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2s/Yy5saXN0ZW4oYSx0aGlzLmV2ZW50cyk6Yi5lbmFibGVPblN1YnRyZWUoYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7ayYmYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sZWxlbWVudEFkZGVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKGopLGQ9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShiKTtkJiYodGhpcy5zY3JvbGxUeXBlLnNldChhLGQpLGMubGlzdGVuKGEsdGhpcy5ldmVudHMpLGUoYSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksYy5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHRoaXMpKX0sZWxlbWVudFJlbW92ZWQ6ZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxUeXBlWyJkZWxldGUiXShhKSxjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpLGUoYSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGEpLGMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHRoaXMpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKGopLGQ9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShjKSxmPXRoaXMudG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGUoYik7ZCYmZj8odGhpcy5zY3JvbGxUeXBlLnNldChhLGQpLGUoYSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCl9LHRoaXMpKTpmP3RoaXMuZWxlbWVudFJlbW92ZWQoYSk6ZCYmdGhpcy5lbGVtZW50QWRkZWQoYSl9LHNjcm9sbFR5cGVzOntFTUlUVEVSOiJub25lIixYU0NST0xMRVI6InBhbi14IixZU0NST0xMRVI6InBhbi15IixTQ1JPTExFUjovXig/OnBhbi14IHBhbi15KXwoPzpwYW4teSBwYW4teCl8YXV0byQvfSx0b3VjaEFjdGlvblRvU2Nyb2xsVHlwZTpmdW5jdGlvbihhKXt2YXIgYj1hLGM9dGhpcy5zY3JvbGxUeXBlcztyZXR1cm4ibm9uZSI9PT1iPyJub25lIjpiPT09Yy5YU0NST0xMRVI/IlgiOmI9PT1jLllTQ1JPTExFUj8iWSI6Yy5TQ1JPTExFUi5leGVjKGIpPyJYWSI6dm9pZCAwfSxQT0lOVEVSX1RZUEU6InRvdWNoIixmaXJzdFRvdWNoOm51bGwsaXNQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlyc3RUb3VjaD09PWEuaWRlbnRpZmllcn0sc2V0UHJpbWFyeVRvdWNoOmZ1bmN0aW9uKGEpeygwPT09Zi5wb2ludGVycygpfHwxPT09Zi5wb2ludGVycygpJiZmLmhhcygxKSkmJih0aGlzLmZpcnN0VG91Y2g9YS5pZGVudGlmaWVyLHRoaXMuZmlyc3RYWT17WDphLmNsaWVudFgsWTphLmNsaWVudFl9LHRoaXMuc2Nyb2xsaW5nPSExLHRoaXMuY2FuY2VsUmVzZXRDbGlja0NvdW50KCkpfSxyZW1vdmVQcmltYXJ5UG9pbnRlcjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmKHRoaXMuZmlyc3RUb3VjaD1udWxsLHRoaXMuZmlyc3RYWT1udWxsLHRoaXMucmVzZXRDbGlja0NvdW50KCkpfSxjbGlja0NvdW50OjAscmVzZXRJZDpudWxsLHJlc2V0Q2xpY2tDb3VudDpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5jbGlja0NvdW50PTAsdGhpcy5yZXNldElkPW51bGx9LmJpbmQodGhpcyk7dGhpcy5yZXNldElkPXNldFRpbWVvdXQoYSxpKX0sY2FuY2VsUmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dGhpcy5yZXNldElkJiZjbGVhclRpbWVvdXQodGhpcy5yZXNldElkKX0sdG91Y2hUb1BvaW50ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5jbG9uZUV2ZW50KGEpO3JldHVybiBiLnBvaW50ZXJJZD1hLmlkZW50aWZpZXIrMixiLnRhcmdldD1kKGIpLGIuYnViYmxlcz0hMCxiLmNhbmNlbGFibGU9ITAsYi5kZXRhaWw9dGhpcy5jbGlja0NvdW50LGIuYnV0dG9uPTAsYi5idXR0b25zPTEsYi53aWR0aD1hLndlYmtpdFJhZGl1c1h8fGEucmFkaXVzWHx8MCxiLmhlaWdodD1hLndlYmtpdFJhZGl1c1l8fGEucmFkaXVzWXx8MCxiLnByZXNzdXJlPWEud2Via2l0Rm9yY2V8fGEuZm9yY2V8fC41LGIuaXNQcmltYXJ5PXRoaXMuaXNQcmltYXJ5VG91Y2goYSksYi5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSxifSxwcm9jZXNzVG91Y2hlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEuY2hhbmdlZFRvdWNoZXMsZD1nKGMsdGhpcy50b3VjaFRvUG9pbnRlcix0aGlzKTtkLmZvckVhY2goZnVuY3Rpb24oYil7Yi5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsaW5nPSExLHRoaXMuZmlyc3RYWT1udWxsLGEucHJldmVudERlZmF1bHQoKX19LHRoaXMpLGQuZm9yRWFjaChiLHRoaXMpfSxzaG91bGRTY3JvbGw6ZnVuY3Rpb24oYSl7aWYodGhpcy5maXJzdFhZKXt2YXIgYixjPXRoaXMuc2Nyb2xsVHlwZS5nZXQoYS5jdXJyZW50VGFyZ2V0KTtpZigibm9uZSI9PT1jKWI9ITE7ZWxzZSBpZigiWFkiPT09YyliPSEwO2Vsc2V7dmFyIGQ9YS5jaGFuZ2VkVG91Y2hlc1swXSxlPWMsZj0iWSI9PT1jPyJYIjoiWSIsZz1NYXRoLmFicyhkWyJjbGllbnQiK2VdLXRoaXMuZmlyc3RYWVtlXSksaD1NYXRoLmFicyhkWyJjbGllbnQiK2ZdLXRoaXMuZmlyc3RYWVtmXSk7Yj1nPj1ofXJldHVybiB0aGlzLmZpcnN0WFk9bnVsbCxifX0sZmluZFRvdWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGM9YVtkXSk7ZCsrKWlmKGMuaWRlbnRpZmllcj09PWIpcmV0dXJuITB9LHZhY3V1bVRvdWNoZXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS50b3VjaGVzO2lmKGYucG9pbnRlcnMoKT49Yi5sZW5ndGgpe3ZhciBjPVtdO2YuZm9yRWFjaChmdW5jdGlvbihhLGQpe2lmKDEhPT1kJiYhdGhpcy5maW5kVG91Y2goYixkLTIpKXt2YXIgZT1hLm91dDtjLnB1c2godGhpcy50b3VjaFRvUG9pbnRlcihlKSl9fSx0aGlzKSxjLmZvckVhY2godGhpcy5jYW5jZWxPdXQsdGhpcyl9fSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGEpe3RoaXMudmFjdXVtVG91Y2hlcyhhKSx0aGlzLnNldFByaW1hcnlUb3VjaChhLmNoYW5nZWRUb3VjaGVzWzBdKSx0aGlzLmRlZHVwU3ludGhNb3VzZShhKSx0aGlzLnNjcm9sbGluZ3x8KHRoaXMuY2xpY2tDb3VudCsrLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLm92ZXJEb3duKSl9LG92ZXJEb3duOmZ1bmN0aW9uKGEpe2Yuc2V0KGEucG9pbnRlcklkLHt0YXJnZXQ6YS50YXJnZXQsb3V0OmEsb3V0VGFyZ2V0OmEudGFyZ2V0fSk7Yy5vdmVyKGEpLGMuZG93bihhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwodGhpcy5zaG91bGRTY3JvbGwoYSk/KHRoaXMuc2Nyb2xsaW5nPSEwLHRoaXMudG91Y2hjYW5jZWwoYSkpOihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMubW92ZU92ZXJPdXQpKSl9LG1vdmVPdmVyT3V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEsZD1mLmdldChiLnBvaW50ZXJJZCk7aWYoZCl7dmFyIGU9ZC5vdXQsZz1kLm91dFRhcmdldDtjLm1vdmUoYiksZSYmZyE9PWIudGFyZ2V0JiYoZS5yZWxhdGVkVGFyZ2V0PWIudGFyZ2V0LGIucmVsYXRlZFRhcmdldD1nLGUudGFyZ2V0PWcsYi50YXJnZXQ/KGMubGVhdmVPdXQoZSksYy5lbnRlck92ZXIoYikpOihiLnRhcmdldD1nLGIucmVsYXRlZFRhcmdldD1udWxsLHRoaXMuY2FuY2VsT3V0KGIpKSksZC5vdXQ9YixkLm91dFRhcmdldD1iLnRhcmdldH19LHRvdWNoZW5kOmZ1bmN0aW9uKGEpe3RoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLnVwT3V0KX0sdXBPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxpbmd8fChjLnVwKGEpLGMub3V0KGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksdGhpcy5jbGVhblVwUG9pbnRlcihhKX0sY2xlYW5VcFBvaW50ZXI6ZnVuY3Rpb24oYSl7ZlsiZGVsZXRlIl0oYS5wb2ludGVySWQpLHRoaXMucmVtb3ZlUHJpbWFyeVBvaW50ZXIoYSl9LGRlZHVwU3ludGhNb3VzZTpmdW5jdGlvbihiKXt2YXIgYz1hLm1vdXNlRXZlbnRzLmxhc3RUb3VjaGVzLGQ9Yi5jaGFuZ2VkVG91Y2hlc1swXTtpZih0aGlzLmlzUHJpbWFyeVRvdWNoKGQpKXt2YXIgZT17eDpkLmNsaWVudFgseTpkLmNsaWVudFl9O2MucHVzaChlKTt2YXIgZj1mdW5jdGlvbihhLGIpe3ZhciBjPWEuaW5kZXhPZihiKTtjPi0xJiZhLnNwbGljZShjLDEpfS5iaW5kKG51bGwsYyxlKTtzZXRUaW1lb3V0KGYsaCl9fX07a3x8KGI9bmV3IGEuSW5zdGFsbGVyKGwuZWxlbWVudEFkZGVkLGwuZWxlbWVudFJlbW92ZWQsbC5lbGVtZW50Q2hhbmdlZCxsKSksYS50b3VjaEV2ZW50cz1sfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1iLnBvaW50ZXJtYXAsZD13aW5kb3cuTVNQb2ludGVyRXZlbnQmJiJudW1iZXIiPT10eXBlb2Ygd2luZG93Lk1TUG9pbnRlckV2ZW50Lk1TUE9JTlRFUl9UWVBFX01PVVNFLGU9e2V2ZW50czpbIk1TUG9pbnRlckRvd24iLCJNU1BvaW50ZXJNb3ZlIiwiTVNQb2ludGVyVXAiLCJNU1BvaW50ZXJPdXQiLCJNU1BvaW50ZXJPdmVyIiwiTVNQb2ludGVyQ2FuY2VsIiwiTVNHb3RQb2ludGVyQ2FwdHVyZSIsIk1TTG9zdFBvaW50ZXJDYXB0dXJlIl0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Yi51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sUE9JTlRFUl9UWVBFUzpbIiIsInVuYXZhaWxhYmxlIiwidG91Y2giLCJwZW4iLCJtb3VzZSJdLHByZXBhcmVFdmVudDpmdW5jdGlvbihhKXt2YXIgYz1hO3JldHVybiBkJiYoYz1iLmNsb25lRXZlbnQoYSksYy5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRVNbYS5wb2ludGVyVHlwZV0pLGN9LGNsZWFudXA6ZnVuY3Rpb24oYSl7Y1siZGVsZXRlIl0oYSl9LE1TUG9pbnRlckRvd246ZnVuY3Rpb24oYSl7Yy5zZXQoYS5wb2ludGVySWQsYSk7dmFyIGQ9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5kb3duKGQpfSxNU1BvaW50ZXJNb3ZlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IubW92ZShjKX0sTVNQb2ludGVyVXA6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi51cChjKSx0aGlzLmNsZWFudXAoYS5wb2ludGVySWQpfSxNU1BvaW50ZXJPdXQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5sZWF2ZU91dChjKX0sTVNQb2ludGVyT3ZlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmVudGVyT3ZlcihjKX0sTVNQb2ludGVyQ2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cChhLnBvaW50ZXJJZCl9LE1TTG9zdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGEpe3ZhciBjPWIubWFrZUV2ZW50KCJsb3N0cG9pbnRlcmNhcHR1cmUiLGEpO2IuZGlzcGF0Y2hFdmVudChjKX0sTVNHb3RQb2ludGVyQ2FwdHVyZTpmdW5jdGlvbihhKXt2YXIgYz1iLm1ha2VFdmVudCgiZ290cG9pbnRlcmNhcHR1cmUiLGEpO2IuZGlzcGF0Y2hFdmVudChjKX19O2EubXNFdmVudHM9ZX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyO2lmKHZvaWQgMD09PXdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJwb2ludGVyRW5hYmxlZCIse3ZhbHVlOiEwLGVudW1lcmFibGU6ITB9KSx3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpe3ZhciBjPXdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cztPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Lm5hdmlnYXRvciwibWF4VG91Y2hQb2ludHMiLHt2YWx1ZTpjLGVudW1lcmFibGU6ITB9KSxiLnJlZ2lzdGVyU291cmNlKCJtcyIsYS5tc0V2ZW50cyl9ZWxzZSBiLnJlZ2lzdGVyU291cmNlKCJtb3VzZSIsYS5tb3VzZUV2ZW50cyksdm9pZCAwIT09d2luZG93Lm9udG91Y2hzdGFydCYmYi5yZWdpc3RlclNvdXJjZSgidG91Y2giLGEudG91Y2hFdmVudHMpO2IucmVnaXN0ZXIoZG9jdW1lbnQpfX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZighZS5wb2ludGVybWFwLmhhcyhhKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRQb2ludGVySWQiKX12YXIgYyxkLGU9YS5kaXNwYXRjaGVyLGY9d2luZG93Lm5hdmlnYXRvcjtmLm1zUG9pbnRlckVuYWJsZWQ/KGM9ZnVuY3Rpb24oYSl7YihhKSx0aGlzLm1zU2V0UG9pbnRlckNhcHR1cmUoYSl9LGQ9ZnVuY3Rpb24oYSl7YihhKSx0aGlzLm1zUmVsZWFzZVBvaW50ZXJDYXB0dXJlKGEpfSk6KGM9ZnVuY3Rpb24oYSl7YihhKSxlLnNldENhcHR1cmUoYSx0aGlzKX0sZD1mdW5jdGlvbihhKXtiKGEpLGUucmVsZWFzZUNhcHR1cmUoYSx0aGlzKX0pLHdpbmRvdy5FbGVtZW50JiYhRWxlbWVudC5wcm90b3R5cGUuc2V0UG9pbnRlckNhcHR1cmUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzZXRQb2ludGVyQ2FwdHVyZTp7dmFsdWU6Y30scmVsZWFzZVBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpkfX0pfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxQb2ludGVyR2VzdHVyZUV2ZW50LnByb3RvdHlwZS5wcmV2ZW50VGFwPWZ1bmN0aW9uKCl7dGhpcy50YXBQcmV2ZW50ZWQ9ITB9LGZ1bmN0aW9uKGEpe2E9YXx8e30sYS51dGlscz17TENBOntmaW5kOmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGE7aWYoYS5jb250YWlucyl7aWYoYS5jb250YWlucyhiKSlyZXR1cm4gYTtpZihiLmNvbnRhaW5zKGEpKXJldHVybiBifXZhciBjPXRoaXMuZGVwdGgoYSksZD10aGlzLmRlcHRoKGIpLGU9Yy1kO2ZvcihlPjA/YT10aGlzLndhbGsoYSxlKTpiPXRoaXMud2FsayhiLC1lKTthJiZiJiZhIT09YjspYT10aGlzLndhbGsoYSwxKSxiPXRoaXMud2FsayhiLDEpO3JldHVybiBhfSx3YWxrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrKylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX0sZGVwdGg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YTspYisrLGE9YS5wYXJlbnROb2RlO3JldHVybiBifX19LGEuZmluZExDQT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnV0aWxzLkxDQS5maW5kKGIsYyl9LHdpbmRvdy5Qb2ludGVyR2VzdHVyZXM9YX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2lmKGMpe3ZhciBhPW5ldyBNYXA7cmV0dXJuIGEucG9pbnRlcnM9ZCxhfXRoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX12YXIgYz13aW5kb3cuTWFwJiZ3aW5kb3cuTWFwLnByb3RvdHlwZS5mb3JFYWNoLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfTtiLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yz4tMT90aGlzLnZhbHVlc1tjXT1iOih0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKX0saGFzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmtleXMuaW5kZXhPZihhKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7Yj4tMSYmKHRoaXMua2V5cy5zcGxpY2UoYiwxKSx0aGlzLnZhbHVlcy5zcGxpY2UoYiwxKSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gdGhpcy52YWx1ZXNbYl19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5rZXlzLmxlbmd0aD0wLHRoaXMudmFsdWVzLmxlbmd0aD0wfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihjLGQpe2EuY2FsbChiLGMsdGhpcy5rZXlzW2RdLHRoaXMpfSx0aGlzKX0scG9pbnRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19LGEuUG9pbnRlck1hcD1ifSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1bImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsImRldGFpbCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwiYnV0dG9uIiwicmVsYXRlZFRhcmdldCIsImJ1dHRvbnMiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaHdUaW1lc3RhbXAiLCJpc1ByaW1hcnkiLCJ0eXBlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInNjcmVlblgiLCJzY3JlZW5ZIiwicGFnZVgiLCJwYWdlWSIsInRhcFByZXZlbnRlZCJdLGM9WyExLCExLG51bGwsbnVsbCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCwwLDAsMCwwLDAsMCwwLCIiLDAsITEsIiIsbnVsbCxudWxsLDAsMCwwLDBdLGQ9e2hhbmRsZWRFdmVudHM6bmV3IFdlYWtNYXAsdGFyZ2V0czpuZXcgV2Vha01hcCxoYW5kbGVyczp7fSxyZWNvZ25pemVyczp7fSxldmVudHM6e30scmVnaXN0ZXJSZWNvZ25pemVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yjt0aGlzLnJlY29nbml6ZXJzW2FdPWMsYy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbihhKXtpZihjW2FdKXt0aGlzLmV2ZW50c1thXT0hMDt2YXIgYj1jW2FdLmJpbmQoYyk7dGhpcy5hZGRIYW5kbGVyKGEsYil9fSx0aGlzKX0sYWRkSGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWE7dGhpcy5oYW5kbGVyc1tjXXx8KHRoaXMuaGFuZGxlcnNbY109W10pLHRoaXMuaGFuZGxlcnNbY10ucHVzaChiKX0scmVnaXN0ZXJUYXJnZXQ6ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW4oT2JqZWN0LmtleXModGhpcy5ldmVudHMpLGEpfSx1bnJlZ2lzdGVyVGFyZ2V0OmZ1bmN0aW9uKGEpe3RoaXMudW5saXN0ZW4oT2JqZWN0LmtleXModGhpcy5ldmVudHMpLGEpfSxldmVudEhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFuZGxlZEV2ZW50cy5nZXQoYSkpe3ZhciBiPWEudHlwZSxjPXRoaXMuaGFuZGxlcnNbYl07YyYmdGhpcy5tYWtlUXVldWUoYyxhKSx0aGlzLmhhbmRsZWRFdmVudHMuc2V0KGEsITApfX0sbWFrZVF1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jbG9uZUV2ZW50KGIpO3NldFRpbWVvdXQodGhpcy5ydW5RdWV1ZS5iaW5kKHRoaXMsYSxjKSwwKX0scnVuUXVldWU6ZnVuY3Rpb24oYSxiKXt0aGlzLmN1cnJlbnRQb2ludGVySWQ9Yi5wb2ludGVySWQ7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGM9YVtkXSk7ZCsrKWMoYik7dGhpcy5jdXJyZW50UG9pbnRlcklkPTB9LGxpc3RlbjpmdW5jdGlvbihhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmFkZEV2ZW50KGEsdGhpcy5ib3VuZEhhbmRsZXIsITEsYil9LHRoaXMpfSx1bmxpc3RlbjpmdW5jdGlvbihhKXthLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVFdmVudChhLHRoaXMuYm91bmRIYW5kbGVyLCExLGluVGFyZ2V0KX0sdGhpcyl9LGFkZEV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe2QuYWRkRXZlbnRMaXN0ZW5lcihhLGIsYyl9LHJlbW92ZUV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyl9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgUG9pbnRlckdlc3R1cmVFdmVudChhLGIpfSxjbG9uZUV2ZW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZCxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKylkPWJbZl0sZVtkXT1hW2RdfHxjW2ZdO3JldHVybiBlfSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8dGhpcy50YXJnZXRzLmdldChhKTtjJiYoYy5kaXNwYXRjaEV2ZW50KGEpLGEudGFwUHJldmVudGVkJiZ0aGlzLnByZXZlbnRUYXAodGhpcy5jdXJyZW50UG9pbnRlcklkKSl9LGFzeW5jRGlzcGF0Y2hFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KGEsYil9LmJpbmQodGhpcyk7c2V0VGltZW91dChjLDApfSxwcmV2ZW50VGFwOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucmVjb2duaXplcnMudGFwO2ImJmIucHJldmVudFRhcChhKX19O2QuYm91bmRIYW5kbGVyPWQuZXZlbnRIYW5kbGVyLmJpbmQoZCksYS5kaXNwYXRjaGVyPWQ7dmFyIGU9W10sZj0hMTthLnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe2lmKGYpe3ZhciBjPXdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw7YyYmYy5yZWdpc3RlcihiKSxhLmRpc3BhdGNoZXIucmVnaXN0ZXJUYXJnZXQoYil9ZWxzZSBlLnB1c2goYil9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7Zj0hMCxlLnB1c2goZG9jdW1lbnQpLGUuZm9yRWFjaChhLnJlZ2lzdGVyKX0pfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17SE9MRF9ERUxBWToyMDAsV0lHR0xFX1RIUkVTSE9MRDoxNixldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLGhlbGRQb2ludGVyOm51bGwsaG9sZEpvYjpudWxsLHB1bHNlOmZ1bmN0aW9uKCl7dmFyIGE9RGF0ZS5ub3coKS10aGlzLmhlbGRQb2ludGVyLnRpbWVTdGFtcCxiPXRoaXMuaGVsZD8iaG9sZHB1bHNlIjoiaG9sZCI7dGhpcy5maXJlSG9sZChiLGEpLHRoaXMuaGVsZD0hMH0sY2FuY2VsOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmhvbGRKb2IpLHRoaXMuaGVsZCYmdGhpcy5maXJlSG9sZCgicmVsZWFzZSIpLHRoaXMuaGVsZD0hMSx0aGlzLmhlbGRQb2ludGVyPW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmhvbGRKb2I9bnVsbH0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiF0aGlzLmhlbGRQb2ludGVyJiYodGhpcy5oZWxkUG9pbnRlcj1hLHRoaXMudGFyZ2V0PWEudGFyZ2V0LHRoaXMuaG9sZEpvYj1zZXRJbnRlcnZhbCh0aGlzLnB1bHNlLmJpbmQodGhpcyksdGhpcy5IT0xEX0RFTEFZKSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkJiZ0aGlzLmNhbmNlbCgpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKQp9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaGVsZFBvaW50ZXImJnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkPT09YS5wb2ludGVySWQpe3ZhciBiPWEuY2xpZW50WC10aGlzLmhlbGRQb2ludGVyLmNsaWVudFgsYz1hLmNsaWVudFktdGhpcy5oZWxkUG9pbnRlci5jbGllbnRZO2IqYitjKmM+dGhpcy5XSUdHTEVfVEhSRVNIT0xEJiZ0aGlzLmNhbmNlbCgpfX0sZmlyZUhvbGQ6ZnVuY3Rpb24oYSxjKXt2YXIgZD17cG9pbnRlclR5cGU6dGhpcy5oZWxkUG9pbnRlci5wb2ludGVyVHlwZX07YyYmKGQuaG9sZFRpbWU9Yyk7dmFyIGU9Yi5tYWtlRXZlbnQoYSxkKTtiLmRpc3BhdGNoRXZlbnQoZSx0aGlzLnRhcmdldCksZS50YXBQcmV2ZW50ZWQmJmIucHJldmVudFRhcCh0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZCl9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigiaG9sZCIsYyl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPW5ldyBhLlBvaW50ZXJNYXAsZD17ZXZlbnRzOlsicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiXSxXSUdHTEVfVEhSRVNIT0xEOjQsY2xhbXBEaXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE+MD8xOi0xfSxjYWxjUG9zaXRpb25EZWx0YTpmdW5jdGlvbihhLGIpe3ZhciBjPTAsZD0wO3JldHVybiBhJiZiJiYoYz1iLnBhZ2VYLWEucGFnZVgsZD1iLnBhZ2VZLWEucGFnZVkpLHt4OmMseTpkfX0sZmlyZVRyYWNrOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kLGY9dGhpcy5jYWxjUG9zaXRpb25EZWx0YShlLmRvd25FdmVudCxjKSxnPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoZS5sYXN0TW92ZUV2ZW50LGMpO2cueCYmKGUueERpcmVjdGlvbj10aGlzLmNsYW1wRGlyKGcueCkpLGcueSYmKGUueURpcmVjdGlvbj10aGlzLmNsYW1wRGlyKGcueSkpO3ZhciBoPXtkeDpmLngsZHk6Zi55LGRkeDpnLngsZGR5OmcueSxjbGllbnRYOmMuY2xpZW50WCxjbGllbnRZOmMuY2xpZW50WSxwYWdlWDpjLnBhZ2VYLHBhZ2VZOmMucGFnZVksc2NyZWVuWDpjLnNjcmVlblgsc2NyZWVuWTpjLnNjcmVlblkseERpcmVjdGlvbjplLnhEaXJlY3Rpb24seURpcmVjdGlvbjplLnlEaXJlY3Rpb24sdHJhY2tJbmZvOmUudHJhY2tJbmZvLHJlbGF0ZWRUYXJnZXQ6Yy50YXJnZXQscG9pbnRlclR5cGU6Yy5wb2ludGVyVHlwZX0saT1iLm1ha2VFdmVudChhLGgpO2UubGFzdE1vdmVFdmVudD1jLGIuZGlzcGF0Y2hFdmVudChpLGUuZG93blRhcmdldCl9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2lmKGEuaXNQcmltYXJ5JiYoIm1vdXNlIj09PWEucG9pbnRlclR5cGU/MT09PWEuYnV0dG9uczohMCkpe3ZhciBiPXtkb3duRXZlbnQ6YSxkb3duVGFyZ2V0OmEudGFyZ2V0LHRyYWNrSW5mbzp7fSxsYXN0TW92ZUV2ZW50Om51bGwseERpcmVjdGlvbjowLHlEaXJlY3Rpb246MCx0cmFja2luZzohMX07Yy5zZXQoYS5wb2ludGVySWQsYil9fSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7aWYoYilpZihiLnRyYWNraW5nKXRoaXMuZmlyZVRyYWNrKCJ0cmFjayIsYSxiKTtlbHNle3ZhciBkPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoYi5kb3duRXZlbnQsYSksZT1kLngqZC54K2QueSpkLnk7ZT50aGlzLldJR0dMRV9USFJFU0hPTEQmJihiLnRyYWNraW5nPSEwLHRoaXMuZmlyZVRyYWNrKCJ0cmFja3N0YXJ0IixiLmRvd25FdmVudCxiKSx0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYikpfX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3ZhciBiPWMuZ2V0KGEucG9pbnRlcklkKTtiJiYoYi50cmFja2luZyYmdGhpcy5maXJlVHJhY2soInRyYWNrZW5kIixhLGIpLGMuZGVsZXRlKGEucG9pbnRlcklkKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigidHJhY2siLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz17TUlOX1ZFTE9DSVRZOi41LE1BWF9RVUVVRTo0LG1vdmVRdWV1ZTpbXSx0YXJnZXQ6bnVsbCxwb2ludGVySWQ6bnVsbCxldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHBvaW50ZXJkb3duOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYhdGhpcy5wb2ludGVySWQmJih0aGlzLnBvaW50ZXJJZD1hLnBvaW50ZXJJZCx0aGlzLnRhcmdldD1hLnRhcmdldCx0aGlzLmFkZE1vdmUoYSkpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmFkZE1vdmUoYSl9LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXthLnBvaW50ZXJJZD09PXRoaXMucG9pbnRlcklkJiZ0aGlzLmZpcmVGbGljayhhKSx0aGlzLmNsZWFudXAoKX0scG9pbnRlcmNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2xlYW51cCgpfSxjbGVhbnVwOmZ1bmN0aW9uKCl7dGhpcy5tb3ZlUXVldWU9W10sdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnBvaW50ZXJJZD1udWxsfSxhZGRNb3ZlOmZ1bmN0aW9uKGEpe3RoaXMubW92ZVF1ZXVlLmxlbmd0aD49dGhpcy5NQVhfUVVFVUUmJnRoaXMubW92ZVF1ZXVlLnNoaWZ0KCksdGhpcy5tb3ZlUXVldWUucHVzaChhKX0sZmlyZUZsaWNrOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkLGUsZixnLGgsaSxqPWEsaz10aGlzLm1vdmVRdWV1ZS5sZW5ndGgsbD0wLG09MCxuPTAsbz0wO2s+byYmKGk9dGhpcy5tb3ZlUXVldWVbb10pO28rKyljPWoudGltZVN0YW1wLWkudGltZVN0YW1wLGQ9ai5jbGllbnRYLWkuY2xpZW50WCxlPWouY2xpZW50WS1pLmNsaWVudFksZj1kL2MsZz1lL2MsaD1NYXRoLnNxcnQoZipmK2cqZyksaD5uJiYobD1mLG09ZyxuPWgpO3ZhciBwPU1hdGguYWJzKGwpPk1hdGguYWJzKG0pPyJ4IjoieSIscT10aGlzLmNhbGNBbmdsZShsLG0pO2lmKE1hdGguYWJzKG4pPj10aGlzLk1JTl9WRUxPQ0lUWSl7dmFyIHI9Yi5tYWtlRXZlbnQoImZsaWNrIix7eFZlbG9jaXR5OmwseVZlbG9jaXR5Om0sdmVsb2NpdHk6bixhbmdsZTpxLG1ham9yQXhpczpwLHBvaW50ZXJUeXBlOmEucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQocix0aGlzLnRhcmdldCl9fSxjYWxjQW5nbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMTgwKk1hdGguYXRhbjIoYixhKS9NYXRoLlBJfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImZsaWNrIixjKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPTE4MC9NYXRoLlBJLGU9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0scmVmZXJlbmNlOnt9LHBvaW50ZXJkb3duOmZ1bmN0aW9uKGIpe2lmKGMuc2V0KGIucG9pbnRlcklkLGIpLDI9PWMucG9pbnRlcnMoKSl7dmFyIGQ9dGhpcy5jYWxjQ2hvcmQoKSxlPXRoaXMuY2FsY0FuZ2xlKGQpO3RoaXMucmVmZXJlbmNlPXthbmdsZTplLGRpYW1ldGVyOmQuZGlhbWV0ZXIsdGFyZ2V0OmEuZmluZExDQShkLmEudGFyZ2V0LGQuYi50YXJnZXQpfX19LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXtjLmRlbGV0ZShhLnBvaW50ZXJJZCl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKGEpe2MuaGFzKGEucG9pbnRlcklkKSYmKGMuc2V0KGEucG9pbnRlcklkLGEpLGMucG9pbnRlcnMoKT4xJiZ0aGlzLmNhbGNQaW5jaFJvdGF0ZSgpKX0scG9pbnRlcmNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnBvaW50ZXJ1cChhKX0sZGlzcGF0Y2hQaW5jaDpmdW5jdGlvbihhLGMpe3ZhciBkPWEvdGhpcy5yZWZlcmVuY2UuZGlhbWV0ZXIsZT1iLm1ha2VFdmVudCgicGluY2giLHtzY2FsZTpkLGNlbnRlclg6Yy5jZW50ZXIueCxjZW50ZXJZOmMuY2VudGVyLnl9KTtiLmRpc3BhdGNoRXZlbnQoZSx0aGlzLnJlZmVyZW5jZS50YXJnZXQpfSxkaXNwYXRjaFJvdGF0ZTpmdW5jdGlvbihhLGMpe3ZhciBkPU1hdGgucm91bmQoKGEtdGhpcy5yZWZlcmVuY2UuYW5nbGUpJTM2MCksZT1iLm1ha2VFdmVudCgicm90YXRlIix7YW5nbGU6ZCxjZW50ZXJYOmMuY2VudGVyLngsY2VudGVyWTpjLmNlbnRlci55fSk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy5yZWZlcmVuY2UudGFyZ2V0KX0sY2FsY1BpbmNoUm90YXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWxjQ2hvcmQoKSxiPWEuZGlhbWV0ZXIsYz10aGlzLmNhbGNBbmdsZShhKTtiIT10aGlzLnJlZmVyZW5jZS5kaWFtZXRlciYmdGhpcy5kaXNwYXRjaFBpbmNoKGIsYSksYyE9dGhpcy5yZWZlcmVuY2UuYW5nbGUmJnRoaXMuZGlzcGF0Y2hSb3RhdGUoYyxhKX0sY2FsY0Nob3JkOmZ1bmN0aW9uKCl7dmFyIGE9W107Yy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EucHVzaChiKX0pO2Zvcih2YXIgYixkLGUsZj0wLGc9e30saD0wO2g8YS5sZW5ndGg7aCsrKWZvcih2YXIgaT1hW2hdLGo9aCsxO2o8YS5sZW5ndGg7aisrKXt2YXIgaz1hW2pdO2I9TWF0aC5hYnMoaS5jbGllbnRYLWsuY2xpZW50WCksZD1NYXRoLmFicyhpLmNsaWVudFktay5jbGllbnRZKSxlPWIrZCxlPmYmJihmPWUsZz17YTppLGI6a30pfXJldHVybiBiPU1hdGguYWJzKGcuYS5jbGllbnRYK2cuYi5jbGllbnRYKS8yLGQ9TWF0aC5hYnMoZy5hLmNsaWVudFkrZy5iLmNsaWVudFkpLzIsZy5jZW50ZXI9e3g6Yix5OmR9LGcuZGlhbWV0ZXI9ZixnfSxjYWxjQW5nbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hLmNsaWVudFgtYS5iLmNsaWVudFgsYz1hLmEuY2xpZW50WS1hLmIuY2xpZW50WTtyZXR1cm4oMzYwK01hdGguYXRhbjIoYyxiKSpkKSUzNjB9fTtiLnJlZ2lzdGVyUmVjb2duaXplcigicGluY2giLGUpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1uZXcgYS5Qb2ludGVyTWFwLGQ9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwia2V5dXAiXSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIWEudGFwUHJldmVudGVkJiZjLnNldChhLnBvaW50ZXJJZCx7dGFyZ2V0OmEudGFyZ2V0LHg6YS5jbGllbnRYLHk6YS5jbGllbnRZfSl9LHBvaW50ZXJtb3ZlOmZ1bmN0aW9uKGEpe2lmKGEuaXNQcmltYXJ5KXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7YiYmYS50YXBQcmV2ZW50ZWQmJmMuZGVsZXRlKGEucG9pbnRlcklkKX19LHBvaW50ZXJ1cDpmdW5jdGlvbihkKXt2YXIgZT1jLmdldChkLnBvaW50ZXJJZCk7aWYoZSYmIWQudGFwUHJldmVudGVkKXt2YXIgZj1hLmZpbmRMQ0EoZS50YXJnZXQsZC50YXJnZXQpO2lmKGYpe3ZhciBnPWIubWFrZUV2ZW50KCJ0YXAiLHt4OmQuY2xpZW50WCx5OmQuY2xpZW50WSxkZXRhaWw6ZC5kZXRhaWwscG9pbnRlclR5cGU6ZC5wb2ludGVyVHlwZX0pO2IuZGlzcGF0Y2hFdmVudChnLGYpfX1jLmRlbGV0ZShkLnBvaW50ZXJJZCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxrZXl1cDpmdW5jdGlvbihhKXt2YXIgYz1hLmtleUNvZGU7aWYoMzI9PT1jKXt2YXIgZD1hLnRhcmdldDtkIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudHx8ZCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnR8fGIuZGlzcGF0Y2hFdmVudChiLm1ha2VFdmVudCgidGFwIix7eDowLHk6MCxkZXRhaWw6MCxwb2ludGVyVHlwZToidW5hdmFpbGFibGUifSksZCl9fSxwcmV2ZW50VGFwOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRhcCIsZCl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBiKGEsYil7dmFyIGM9YS5iaW5kaW5ncztpZighYylyZXR1cm4gYS5iaW5kaW5ncz17fSx2b2lkIDA7dmFyIGQ9Y1tiXTtkJiYoZC5jbG9zZSgpLGNbYl09dm9pZCAwKX1mdW5jdGlvbiBjKGEpe3JldHVybiBudWxsPT1hPyIiOmF9ZnVuY3Rpb24gZChhLGIpe2EuZGF0YT1jKGIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBkKGEsYil9fWZ1bmN0aW9uIGYoYSxiLGQsZSl7cmV0dXJuIGQ/KGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYiksdm9pZCAwKTooYS5zZXRBdHRyaWJ1dGUoYixjKGUpKSx2b2lkIDApfWZ1bmN0aW9uIGcoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtmKGEsYixjLGQpfX1mdW5jdGlvbiBoKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2UiY2hlY2tib3giOnJldHVybiBzO2Nhc2UicmFkaW8iOmNhc2Uic2VsZWN0LW11bHRpcGxlIjpjYXNlInNlbGVjdC1vbmUiOnJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaShhLGIsZCxlKXthW2JdPShlfHxjKShkKX1mdW5jdGlvbiBqKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGkoYSxiLGQsYyl9fWZ1bmN0aW9uIGsoKXt9ZnVuY3Rpb24gbChhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGspKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aChhKTthLmFkZEV2ZW50TGlzdGVuZXIoZixlKTt2YXIgZz1jLmNsb3NlO2MuY2xvc2U9ZnVuY3Rpb24oKXtnJiYoYS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZT1nLGMuY2xvc2UoKSxnPXZvaWQgMCl9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEJvb2xlYW4oYSl9ZnVuY3Rpb24gbihiKXtpZihiLmZvcm0pcmV0dXJuIHIoYi5mb3JtLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYiSU5QVVQiPT1hLnRhZ05hbWUmJiJyYWRpbyI9PWEudHlwZSYmYS5uYW1lPT1iLm5hbWV9KTt2YXIgYz1hKGIpO2lmKCFjKXJldHVybltdO3ZhciBkPWMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0icmFkaW8iXVtuYW1lPSInK2IubmFtZSsnIl0nKTtyZXR1cm4gcihkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYhYS5mb3JtfSl9ZnVuY3Rpb24gbyhhKXsiSU5QVVQiPT09YS50YWdOYW1lJiYicmFkaW8iPT09YS50eXBlJiZuKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5iaW5kaW5ncy5jaGVja2VkO2ImJmIuc2V0VmFsdWUoITEpfSl9ZnVuY3Rpb24gcChhLGIpe3ZhciBkLGUsZixnPWEucGFyZW50Tm9kZTtnIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQmJmcuYmluZGluZ3MmJmcuYmluZGluZ3MudmFsdWUmJihkPWcsZT1kLmJpbmRpbmdzLnZhbHVlLGY9ZC52YWx1ZSksYS52YWx1ZT1jKGIpLGQmJmQudmFsdWUhPWYmJihlLnNldFZhbHVlKGQudmFsdWUpLGUuZGlzY2FyZENoYW5nZXMoKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiBmdW5jdGlvbihiKXtwKGEsYil9fXZhciByPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KSxOb2RlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7Y29uc29sZS5lcnJvcigiVW5oYW5kbGVkIGJpbmRpbmcgdG8gTm9kZTogIix0aGlzLGEsYil9LE5vZGUucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhKXtiKHRoaXMsYSl9LE5vZGUucHJvdG90eXBlLnVuYmluZEFsbD1mdW5jdGlvbigpe2lmKHRoaXMuYmluZGluZ3Mpe2Zvcih2YXIgYT1PYmplY3Qua2V5cyh0aGlzLmJpbmRpbmdzKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuYmluZGluZ3NbYVtiXV07YyYmYy5jbG9zZSgpfXRoaXMuYmluZGluZ3M9e319fSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4idGV4dENvbnRlbnQiIT09YT9Ob2RlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZik6Zj9kKHRoaXMsYyk6KGIodGhpcywidGV4dENvbnRlbnQiKSxkKHRoaXMsYy5vcGVuKGUodGhpcykpKSx0aGlzLmJpbmRpbmdzLnRleHRDb250ZW50PWMpfSxFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT0iPyI9PWFbYS5sZW5ndGgtMV07cmV0dXJuIGUmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGQ/Zih0aGlzLGEsZSxjKTooYih0aGlzLGEpLGYodGhpcyxhLGUsYy5vcGVuKGcodGhpcyxhLGUpKSksdGhpcy5iaW5kaW5nc1thXT1jKX07dmFyIHM7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHM9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxkLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxkLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9tOmMsZz0iY2hlY2tlZCI9PWE/bzprO3JldHVybiBlP2kodGhpcyxhLGQsZik6KGIodGhpcyxhKSxsKHRoaXMsYSxkLGcpLGkodGhpcyxhLGQub3BlbihqKHRoaXMsYSxmKSksZiksdGhpcy5iaW5kaW5nc1thXT1kKX0sSFRNTFRleHRBcmVhRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGQsZSl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsZCxlKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZT9pKHRoaXMsInZhbHVlIixkKTooYih0aGlzLCJ2YWx1ZSIpLGwodGhpcywidmFsdWUiLGQpLGkodGhpcywidmFsdWUiLGQub3BlbihqKHRoaXMsInZhbHVlIixjKSkpLHRoaXMuYmluZGluZ3MudmFsdWU9ZCkpfSxIVE1MT3B0aW9uRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZD9wKHRoaXMsYyk6KGIodGhpcywidmFsdWUiKSxsKHRoaXMsInZhbHVlIixjKSxwKHRoaXMsYy5vcGVuKHEodGhpcykpKSx0aGlzLmJpbmRpbmdzLnZhbHVlPWMpKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZD9pKHRoaXMsYSxjKTooYih0aGlzLGEpLGwodGhpcyxhLGMpLGkodGhpcyxhLGMub3BlbihqKHRoaXMsYSkpKSx0aGlzLmJpbmRpbmdzW2FdPWMpKX19KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKDthLnBhcmVudE5vZGV8fGEudGVtcGxhdGVDcmVhdG9yXzspYT0hYS5wYXJlbnROb2RlJiZhLnRlbXBsYXRlQ3JlYXRvcl8/YS50ZW1wbGF0ZUNyZWF0b3JfOmEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gZChhKXtmb3IoO2EucGFyZW50Tm9kZTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGEudGVtcGxhdGVDcmVhdG9yXz9hOm51bGx9ZnVuY3Rpb24gZShhKXtyZXR1cm4idGVtcGxhdGUiPT1hLnRhZ05hbWUmJiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIlRFTVBMQVRFIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIEJvb2xlYW4oSlthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gdm9pZCAwPT09YS5pc1RlbXBsYXRlXyYmKGEuaXNUZW1wbGF0ZV89IlRFTVBMQVRFIj09YS50YWdOYW1lfHxnKGEpKSxhLmlzVGVtcGxhdGVffWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoTCk7aChhKSYmYihhKSxFKGMsYil9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fGooYS5jb250ZW50KX1pKGEsYil9ZnVuY3Rpb24gayhhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuZGVmYXVsdFZpZXcpcmV0dXJuIGI7dmFyIGM9Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfO2lmKCFjKXtmb3IoYz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yy5sYXN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5sYXN0Q2hpbGQpO2IudGVtcGxhdGVDb250ZW50c093bmVyXz1jfXJldHVybiBjfWZ1bmN0aW9uIG0oYSl7aWYoIWEuc3RhZ2luZ0RvY3VtZW50Xyl7dmFyIGI9YS5vd25lckRvY3VtZW50O2Iuc3RhZ2luZ0RvY3VtZW50X3x8KGIuc3RhZ2luZ0RvY3VtZW50Xz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIiksYi5zdGFnaW5nRG9jdW1lbnRfLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRfKSxhLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffXJldHVybiBhLnN0YWdpbmdEb2N1bWVudF99ZnVuY3Rpb24gbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtJW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKX1yZXR1cm4gYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGJ9ZnVuY3Rpb24gcChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIGQuYXBwZW5kQ2hpbGQoYiksdm9pZCAwO2Zvcih2YXIgZTtlPWIuZmlyc3RDaGlsZDspZC5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBxKGEpe00/YS5fX3Byb3RvX189SFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU6ayhhLEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlKX1mdW5jdGlvbiByKGEpe2Euc2V0TW9kZWxGbl98fChhLnNldE1vZGVsRm5fPWZ1bmN0aW9uKCl7YS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMTt2YXIgYj16KGEsYS5kZWxlZ2F0ZV8mJmEuZGVsZWdhdGVfLnByZXBhcmVCaW5kaW5nKTt3KGEsYixhLm1vZGVsXyl9KSxhLnNldE1vZGVsRm5TY2hlZHVsZWRffHwoYS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMCxPYnNlcnZlci5ydW5FT01fKGEuc2V0TW9kZWxGbl8pKX1mdW5jdGlvbiBzKGEsYixjLGQpe2lmKGEmJmEubGVuZ3RoKXtmb3IodmFyIGUsZj1hLmxlbmd0aCxnPTAsaD0wLGk9MCxqPSEwO2Y+aDspe3ZhciBnPWEuaW5kZXhPZigie3siLGgpLGs9YS5pbmRleE9mKCJbWyIsaCksbD0hMSxtPSJ9fSI7aWYoaz49MCYmKDA+Z3x8Zz5rKSYmKGc9ayxsPSEwLG09Il1dIiksaT0wPmc/LTE6YS5pbmRleE9mKG0sZysyKSwwPmkpe2lmKCFlKXJldHVybjtlLnB1c2goYS5zbGljZShoKSk7YnJlYWt9ZT1lfHxbXSxlLnB1c2goYS5zbGljZShoLGcpKTt2YXIgbj1hLnNsaWNlKGcrMixpKS50cmltKCk7ZS5wdXNoKGwpLGo9aiYmbCxlLnB1c2goUGF0aC5nZXQobikpO3ZhciBvPWQmJmQobixiLGMpO2UucHVzaChvKSxoPWkrMn1yZXR1cm4gaD09PWYmJmUucHVzaCgiIiksZS5oYXNPbmVQYXRoPTU9PT1lLmxlbmd0aCxlLmlzU2ltcGxlUGF0aD1lLmhhc09uZVBhdGgmJiIiPT1lWzBdJiYiIj09ZVs0XSxlLm9ubHlPbmVUaW1lPWosZS5jb21iaW5hdG9yPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1lWzBdLGM9MTtjPGUubGVuZ3RoO2MrPTQpe3ZhciBkPWUuaGFzT25lUGF0aD9hOmFbKGMtMSkvNF07dm9pZCAwIT09ZCYmKGIrPWQpLGIrPWVbYyszXX1yZXR1cm4gYn0sZX19ZnVuY3Rpb24gdChhLGIsYyxkKXtpZihiLmhhc09uZVBhdGgpe3ZhciBlPWJbM10sZj1lP2UoZCxjLCEwKTpiWzJdLmdldFZhbHVlRnJvbShkKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpiLmNvbWJpbmF0b3IoZil9Zm9yKHZhciBnPVtdLGg9MTtoPGIubGVuZ3RoO2grPTQpe3ZhciBlPWJbaCsyXTtnWyhoLTEpLzRdPWU/ZShkLGMpOmJbaCsxXS5nZXRWYWx1ZUZyb20oZCl9cmV0dXJuIGIuY29tYmluYXRvcihnKX1mdW5jdGlvbiB1KGEsYixjLGQpe3ZhciBlPWJbM10sZj1lP2UoZCxjLCExKTpuZXcgUGF0aE9ic2VydmVyKGQsYlsyXSk7cmV0dXJuIGIuaXNTaW1wbGVQYXRoP2Y6bmV3IE9ic2VydmVyVHJhbnNmb3JtKGYsYi5jb21iaW5hdG9yKX1mdW5jdGlvbiB2KGEsYixjLGQpe2lmKGIub25seU9uZVRpbWUpcmV0dXJuIHQoYSxiLGMsZCk7aWYoYi5oYXNPbmVQYXRoKXJldHVybiB1KGEsYixjLGQpO2Zvcih2YXIgZT1uZXcgQ29tcG91bmRPYnNlcnZlcixmPTE7ZjxiLmxlbmd0aDtmKz00KXt2YXIgZz1iW2ZdLGg9YltmKzJdO2lmKGgpe3ZhciBpPWgoZCxjLGcpO2c/ZS5hZGRQYXRoKGkpOmUuYWRkT2JzZXJ2ZXIoaSl9ZWxzZXt2YXIgaj1iW2YrMV07Zz9lLmFkZFBhdGgoai5nZXRWYWx1ZUZyb20oZCkpOmUuYWRkUGF0aChkLGopfX1yZXR1cm4gbmV3IE9ic2VydmVyVHJhbnNmb3JtKGUsYi5jb21iaW5hdG9yKX1mdW5jdGlvbiB3KGEsYixjLGQpe2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSs9Mil7dmFyIGY9YltlXSxnPWJbZSsxXSxoPXYoZixnLGEsYyksaT1hLmJpbmQoZixoLGcub25seU9uZVRpbWUpO2kmJmQmJmQucHVzaChpKX1pZihiLmlzVGVtcGxhdGUpe2EubW9kZWxfPWM7dmFyIGo9YS5wcm9jZXNzQmluZGluZ0RpcmVjdGl2ZXNfKGIpO2QmJmomJmQucHVzaChqKX19ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYik7cmV0dXJuIHMoIiI9PWQ/Int7fX0iOmQsYixhLGMpfWZ1bmN0aW9uIHkoYSxjKXtiKGEpO2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPWEuYXR0cmlidXRlc1tlXSxnPWYubmFtZSxpPWYudmFsdWU7Il8iPT09Z1swXTspZz1nLnN1YnN0cmluZygxKTtpZighaChhKXx8ZyE9PUgmJmchPT1GJiZnIT09Ryl7dmFyIGo9cyhpLGcsYSxjKTtqJiZkLnB1c2goZyxqKX19cmV0dXJuIGgoYSkmJihkLmlzVGVtcGxhdGU9ITAsZC5pZj14KGEsSCxjKSxkLmJpbmQ9eChhLEYsYyksZC5yZXBlYXQ9eChhLEcsYyksIWQuaWZ8fGQuYmluZHx8ZC5yZXBlYXR8fChkLmJpbmQ9cygie3t9fSIsRixhLGMpKSksZH1mdW5jdGlvbiB6KGEsYil7aWYoYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiB5KGEsYik7aWYoYS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXt2YXIgYz1zKGEuZGF0YSwidGV4dENvbnRlbnQiLGEsYik7aWYoYylyZXR1cm5bInRleHRDb250ZW50IixjXX1yZXR1cm5bXX1mdW5jdGlvbiBBKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaD1iLmFwcGVuZENoaWxkKGMuaW1wb3J0Tm9kZShhLCExKSksaT0wLGo9YS5maXJzdENoaWxkO2o7aj1qLm5leHRTaWJsaW5nKUEoaixoLGMsZC5jaGlsZHJlbltpKytdLGUsZixnKTtyZXR1cm4gZC5pc1RlbXBsYXRlJiYoSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZShoLGEpLGYmJmguc2V0RGVsZWdhdGVfKGYpKSx3KGgsZCxlLGcpLGh9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPXooYSxiKTtjLmNoaWxkcmVuPXt9O2Zvcih2YXIgZD0wLGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWMuY2hpbGRyZW5bZCsrXT1CKGUsYik7cmV0dXJuIGN9ZnVuY3Rpb24gQyhhKXt0aGlzLmNsb3NlZD0hMSx0aGlzLnRlbXBsYXRlRWxlbWVudF89YSx0aGlzLnRlcm1pbmF0b3JzPVtdLHRoaXMuZGVwcz12b2lkIDAsdGhpcy5pdGVyYXRlZFZhbHVlPVtdLHRoaXMucHJlc2VudFZhbHVlPXZvaWQgMCx0aGlzLmFycmF5T2JzZXJ2ZXI9dm9pZCAwfXZhciBELEU9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLk1hcCYmImZ1bmN0aW9uIj09dHlwZW9mIGEuTWFwLnByb3RvdHlwZS5mb3JFYWNoP0Q9YS5NYXA6KEQ9ZnVuY3Rpb24oKXt0aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119LEQucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTswPmM/KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpOnRoaXMudmFsdWVzW2NdPWJ9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtpZighKDA+YikpcmV0dXJuIHRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7ImZ1bmN0aW9uIiE9dHlwZW9mIGRvY3VtZW50LmNvbnRhaW5zJiYoRG9jdW1lbnQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc3x8YS5wYXJlbnROb2RlPT09dGhpcz8hMDp0aGlzLmRvY3VtZW50RWxlbWVudC5jb250YWlucyhhKX0pO3ZhciBGPSJiaW5kIixHPSJyZXBlYXQiLEg9ImlmIixJPXt0ZW1wbGF0ZTohMCxyZXBlYXQ6ITAsYmluZDohMCxyZWY6ITB9LEo9e1RIRUFEOiEwLFRCT0RZOiEwLFRGT09UOiEwLFRIOiEwLFRSOiEwLFREOiEwLENPTEdST1VQOiEwLENPTDohMCxDQVBUSU9OOiEwLE9QVElPTjohMCxPUFRHUk9VUDohMH0sSz0idW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQsTD0idGVtcGxhdGUsICIrT2JqZWN0LmtleXMoSikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkrIlt0ZW1wbGF0ZV0ifSkuam9pbigiLCAiKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe2ooZG9jdW1lbnQpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9LCExKSxLfHwoYS5IVE1MVGVtcGxhdGVFbGVtZW50PWZ1bmN0aW9uKCl7dGhyb3cgVHlwZUVycm9yKCJJbGxlZ2FsIGNvbnN0cnVjdG9yIil9KTt2YXIgTT0iX19wcm90b19fImlue307SFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBoPWYoZCkmJkssaT1oLGs9IWgsbT0hMTtpZihofHwoZyhkKT8oYighYyksZD1uKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1LLG09ITApOmUoZCkmJihkPW8oYSksZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMCxoPUspKSwhaCl7cShkKTt2YXIgcj1sKGQpO2QuY29udGVudF89ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9cmV0dXJuIGM/ZC5pbnN0YW5jZVJlZl89YzprP3AoZCxhLG0pOmkmJmooZC5jb250ZW50KSwhMH0sSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXA9ajt2YXIgTj1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsTz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtLfHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShOLnByb3RvdHlwZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLCJjb250ZW50IixPKSksayhIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSx7cHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEModGhpcyksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzfHx7fSx0aGlzLmJpbmRpbmdzLml0ZXJhdG9yPXRoaXMuaXRlcmF0b3JfKSx0aGlzLml0ZXJhdG9yXy51cGRhdGVEZXBlbmRlbmNpZXMoYSx0aGlzLm1vZGVsXyksdGhpcy5pdGVyYXRvcl8pOih0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwLHRoaXMuYmluZGluZ3MuaXRlcmF0b3I9dm9pZCAwKSx2b2lkIDApfSxjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkKXtiJiYoYz10aGlzLm5ld0RlbGVnYXRlXyhiKSk7dmFyIGU9dGhpcy5yZWYuY29udGVudCxmPXRoaXMuYmluZGluZ01hcF87ZiYmZi5jb250ZW50PT09ZXx8KGY9QihlLGMmJmMucHJlcGFyZUJpbmRpbmcpfHxbXSxmLmNvbnRlbnQ9ZSx0aGlzLmJpbmRpbmdNYXBfPWYpO3ZhciBnPW0odGhpcyksaD1nLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtoLnRlbXBsYXRlQ3JlYXRvcl89dGhpcztmb3IodmFyIGk9e2ZpcnN0Tm9kZTpudWxsLGxhc3ROb2RlOm51bGwsbW9kZWw6YX0saj0wLGs9ZS5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXt2YXIgbD1BKGssaCxnLGYuY2hpbGRyZW5baisrXSxhLGMsZCk7bC50ZW1wbGF0ZUluc3RhbmNlXz1pfXJldHVybiBpLmZpcnN0Tm9kZT1oLmZpcnN0Q2hpbGQsaS5sYXN0Tm9kZT1oLmxhc3RDaGlsZCxofSxnZXQgbW9kZWwoKXtyZXR1cm4gdGhpcy5tb2RlbF99LHNldCBtb2RlbChhKXt0aGlzLm1vZGVsXz1hLHIodGhpcyl9LGdldCBiaW5kaW5nRGVsZWdhdGUoKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZV8ucmF3fSxzZXREZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7dGhpcy5kZWxlZ2F0ZV89YSx0aGlzLmJpbmRpbmdNYXBfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZU1vZGVsRm5fPXZvaWQgMCl9LG5ld0RlbGVnYXRlXzpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEmJmFbYl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfX1yZXR1cm4gYT97cmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX06e319LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7dGhpcy5zZXREZWxlZ2F0ZV8odGhpcy5uZXdEZWxlZ2F0ZV8oYSkpfSxnZXQgcmVmKCl7dmFyIGEsYj10aGlzLmdldEF0dHJpYnV0ZSgicmVmIik7aWYoYil7dmFyIGU9Yyh0aGlzKTtpZihlJiYoYT1lLmdldEVsZW1lbnRCeUlkKGIpKSwhYSl7dmFyIGY9ZCh0aGlzKTtmJiYoYT1mLnF1ZXJ5U2VsZWN0b3IoIiMiK2IpKX19aWYoYXx8KGE9dGhpcy5pbnN0YW5jZVJlZl8pLCFhKXJldHVybiB0aGlzO3ZhciBnPWEucmVmO3JldHVybiBnP2c6YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsInRlbXBsYXRlSW5zdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlbXBsYXRlSW5zdGFuY2VfO3JldHVybiBhP2E6dGhpcy5wYXJlbnROb2RlP3RoaXMucGFyZW50Tm9kZS50ZW1wbGF0ZUluc3RhbmNlOnZvaWQgMH19KSxDLnByb3RvdHlwZT17Y2xvc2VEZXBzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZXBzO2EmJihhLmlmT25lVGltZT09PSExJiZhLmlmVmFsdWUuY2xvc2UoKSxhLm9uZVRpbWU9PT0hMSYmYS52YWx1ZS5jbG9zZSgpKX0sdXBkYXRlRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5jbG9zZURlcHMoKTt2YXIgYz10aGlzLmRlcHM9e30sZD10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoYS5pZil7aWYoYy5oYXNJZj0hMCxjLmlmT25lVGltZT1hLmlmLm9ubHlPbmVUaW1lLGMuaWZWYWx1ZT12KEgsYS5pZixkLGIpLGMuaWZPbmVUaW1lJiYhYy5pZlZhbHVlKXJldHVybiB0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSx2b2lkIDA7Yy5pZk9uZVRpbWV8fGMuaWZWYWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKX1hLnJlcGVhdD8oYy5yZXBlYXQ9ITAsYy5vbmVUaW1lPWEucmVwZWF0Lm9ubHlPbmVUaW1lLGMudmFsdWU9dihHLGEucmVwZWF0LGQsYikpOihjLnJlcGVhdD0hMSxjLm9uZVRpbWU9YS5iaW5kLm9ubHlPbmVUaW1lLGMudmFsdWU9dihGLGEuYmluZCxkLGIpKSxjLm9uZVRpbWV8fGMudmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyksdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCl9LHVwZGF0ZUl0ZXJhdGVkVmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRlcHMuaGFzSWYpe3ZhciBhPXRoaXMuZGVwcy5pZlZhbHVlO2lmKHRoaXMuZGVwcy5pZk9uZVRpbWV8fChhPWEuZGlzY2FyZENoYW5nZXMoKSksIWEpcmV0dXJuIHRoaXMudmFsdWVDaGFuZ2VkKCksdm9pZCAwfXZhciBiPXRoaXMuZGVwcy52YWx1ZTt0aGlzLmRlcHMub25lVGltZXx8KGI9Yi5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLmRlcHMucmVwZWF0fHwoYj1bYl0pO3ZhciBjPXRoaXMuZGVwcy5yZXBlYXQmJiF0aGlzLmRlcHMub25lVGltZSYmQXJyYXkuaXNBcnJheShiKTt0aGlzLnZhbHVlQ2hhbmdlZChiLGMpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiKXtBcnJheS5pc0FycmF5KGEpfHwoYT1bXSksYSE9PXRoaXMuaXRlcmF0ZWRWYWx1ZSYmKHRoaXMudW5vYnNlcnZlKCksdGhpcy5wcmVzZW50VmFsdWU9YSxiJiYodGhpcy5hcnJheU9ic2VydmVyPW5ldyBBcnJheU9ic2VydmVyKHRoaXMucHJlc2VudFZhbHVlKSx0aGlzLmFycmF5T2JzZXJ2ZXIub3Blbih0aGlzLmhhbmRsZVNwbGljZXMsdGhpcykpLHRoaXMuaGFuZGxlU3BsaWNlcyhBcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXModGhpcy5wcmVzZW50VmFsdWUsdGhpcy5pdGVyYXRlZFZhbHVlKSkpfSxnZXRUZXJtaW5hdG9yQXQ6ZnVuY3Rpb24oYSl7aWYoLTE9PWEpcmV0dXJuIHRoaXMudGVtcGxhdGVFbGVtZW50Xzt2YXIgYj10aGlzLnRlcm1pbmF0b3JzWzIqYV07aWYoYi5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHx0aGlzLnRlbXBsYXRlRWxlbWVudF89PT1iKXJldHVybiBiO3ZhciBjPWIuaXRlcmF0b3JfO3JldHVybiBjP2MuZ2V0VGVybWluYXRvckF0KGMudGVybWluYXRvcnMubGVuZ3RoLzItMSk6Yn0saW5zZXJ0SW5zdGFuY2VBdDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGY9ZTtiP2Y9Yi5sYXN0Q2hpbGR8fGY6YyYmKGY9Y1tjLmxlbmd0aC0xXXx8ZiksdGhpcy50ZXJtaW5hdG9ycy5zcGxpY2UoMiphLDAsZixkKTt2YXIgZz10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZSxoPWUubmV4dFNpYmxpbmc7aWYoYilnLmluc2VydEJlZm9yZShiLGgpO2Vsc2UgaWYoYylmb3IodmFyIGk9MDtpPGMubGVuZ3RoO2krKylnLmluc2VydEJlZm9yZShjW2ldLGgpfSxleHRyYWN0SW5zdGFuY2VBdDpmdW5jdGlvbihhKXt2YXIgYj1bXSxjPXRoaXMuZ2V0VGVybWluYXRvckF0KGEtMSksZD10aGlzLmdldFRlcm1pbmF0b3JBdChhKTtiLmluc3RhbmNlQmluZGluZ3M9dGhpcy50ZXJtaW5hdG9yc1syKmErMV0sdGhpcy50ZXJtaW5hdG9ycy5zcGxpY2UoMiphLDIpO2Zvcih2YXIgZT10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZTtkIT09Yzspe3ZhciBmPWMubmV4dFNpYmxpbmc7Zj09ZCYmKGQ9YyksZS5yZW1vdmVDaGlsZChmKSxiLnB1c2goZil9cmV0dXJuIGJ9LGdldERlbGVnYXRlRm46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YSYmYSh0aGlzLnRlbXBsYXRlRWxlbWVudF8pLCJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH0saGFuZGxlU3BsaWNlczpmdW5jdGlvbihhKXtpZighdGhpcy5jbG9zZWQmJmEubGVuZ3RoKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZSlyZXR1cm4gdGhpcy5jbG9zZSgpLHZvaWQgMDtBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcyh0aGlzLml0ZXJhdGVkVmFsdWUsdGhpcy5wcmVzZW50VmFsdWUsYSk7dmFyIGM9Yi5kZWxlZ2F0ZV87dm9pZCAwPT09dGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYodGhpcy5pbnN0YW5jZU1vZGVsRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZU1vZGVsKSksdm9pZCAwPT09dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmKHRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkKSk7dmFyIGQ9bmV3IEQsZT0wO2EuZm9yRWFjaChmdW5jdGlvbihhKXthLnJlbW92ZWQuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGEuaW5kZXgrZSk7ZC5zZXQoYixjKX0sdGhpcyksZS09YS5hZGRlZENvdW50fSx0aGlzKSxhLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBlPWEuaW5kZXg7ZTxhLmluZGV4K2EuYWRkZWRDb3VudDtlKyspe3ZhciBmLGc9dGhpcy5pdGVyYXRlZFZhbHVlW2VdLGg9dm9pZCAwLGk9ZC5nZXQoZyk7aT8oZC5kZWxldGUoZyksZj1pLmluc3RhbmNlQmluZGluZ3MpOihmPVtdLHRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKGc9dGhpcy5pbnN0YW5jZU1vZGVsRm5fKGcpKSx2b2lkIDAhPT1nJiYoaD1iLmNyZWF0ZUluc3RhbmNlKGcsdm9pZCAwLGMsZikpKSx0aGlzLmluc2VydEluc3RhbmNlQXQoZSxoLGksZil9fSx0aGlzKSxkLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3MoYS5pbnN0YW5jZUJpbmRpbmdzKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxjPXRoaXMuZ2V0VGVybWluYXRvckF0KGEpO2lmKGIhPT1jKXt2YXIgZD1iLm5leHRTaWJsaW5nLnRlbXBsYXRlSW5zdGFuY2U7dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyhkLGEpfX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLnRlcm1pbmF0b3JzLmxlbmd0aC8yO2Y+YjspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrK30sY2xvc2VJbnN0YW5jZUJpbmRpbmdzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uY2xvc2UoKX0sdW5vYnNlcnZlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheU9ic2VydmVyJiYodGhpcy5hcnJheU9ic2VydmVyLmNsb3NlKCksdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMCl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLnVub2JzZXJ2ZSgpO2Zvcih2YXIgYT0xO2E8dGhpcy50ZXJtaW5hdG9ycy5sZW5ndGg7YSs9Mil0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyh0aGlzLnRlcm1pbmF0b3JzW2FdKTt0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQVNTRVJUOiAiK2IpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBkKGEpe3JldHVybiAzMj09PWF8fDk9PT1hfHwxMT09PWF8fDEyPT09YXx8MTYwPT09YXx8YT49NTc2MCYmIuGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgO+7vyIuaW5kZXhPZihTdHJpbmcuZnJvbUNoYXJDb2RlKGEpKT4wfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIDEwPT09YXx8MTM9PT1hfHw4MjMyPT09YXx8ODIzMz09PWF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gMzY9PT1hfHw5NT09PWF8fGE+PTY1JiY5MD49YXx8YT49OTcmJjEyMj49YX1mdW5jdGlvbiBnKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfHxhPj00OCYmNTc+PWF9ZnVuY3Rpb24gaChhKXtyZXR1cm4idGhpcyI9PT1hfWZ1bmN0aW9uIGkoKXtmb3IoO1k+WCYmZChXLmNoYXJDb2RlQXQoWCkpOykrK1h9ZnVuY3Rpb24gaigpe3ZhciBhLGI7Zm9yKGE9WCsrO1k+WCYmKGI9Vy5jaGFyQ29kZUF0KFgpLGcoYikpOykrK1g7cmV0dXJuIFcuc2xpY2UoYSxYKX1mdW5jdGlvbiBrKCl7dmFyIGEsYixjO3JldHVybiBhPVgsYj1qKCksYz0xPT09Yi5sZW5ndGg/Uy5JZGVudGlmaWVyOmgoYik/Uy5LZXl3b3JkOiJudWxsIj09PWI/Uy5OdWxsTGl0ZXJhbDoidHJ1ZSI9PT1ifHwiZmFsc2UiPT09Yj9TLkJvb2xlYW5MaXRlcmFsOlMuSWRlbnRpZmllcix7dHlwZTpjLHZhbHVlOmIscmFuZ2U6W2EsWF19fWZ1bmN0aW9uIGwoKXt2YXIgYSxiLGM9WCxkPVcuY2hhckNvZGVBdChYKSxlPVdbWF07c3dpdGNoKGQpe2Nhc2UgNDY6Y2FzZSA0MDpjYXNlIDQxOmNhc2UgNTk6Y2FzZSA0NDpjYXNlIDEyMzpjYXNlIDEyNTpjYXNlIDkxOmNhc2UgOTM6Y2FzZSA1ODpjYXNlIDYzOnJldHVybisrWCx7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6U3RyaW5nLmZyb21DaGFyQ29kZShkKSxyYW5nZTpbYyxYXX07ZGVmYXVsdDppZihhPVcuY2hhckNvZGVBdChYKzEpLDYxPT09YSlzd2l0Y2goZCl7Y2FzZSAzNzpjYXNlIDM4OmNhc2UgNDI6Y2FzZSA0MzpjYXNlIDQ1OmNhc2UgNDc6Y2FzZSA2MDpjYXNlIDYyOmNhc2UgMTI0OnJldHVybiBYKz0yLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQpK1N0cmluZy5mcm9tQ2hhckNvZGUoYSkscmFuZ2U6W2MsWF19O2Nhc2UgMzM6Y2FzZSA2MTpyZXR1cm4gWCs9Miw2MT09PVcuY2hhckNvZGVBdChYKSYmKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpXLnNsaWNlKGMsWCkscmFuZ2U6W2MsWF19fX1yZXR1cm4gYj1XW1grMV0sZT09PWImJiImfCIuaW5kZXhPZihlKT49MD8oWCs9Mix7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6ZStiLHJhbmdlOltjLFhdfSk6Ijw+PSErLSolJnxeLyIuaW5kZXhPZihlKT49MD8oKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTplLHJhbmdlOltjLFhdfSk6KHMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx2b2lkIDApfWZ1bmN0aW9uIG0oKXt2YXIgYSxkLGU7aWYoZT1XW1hdLGIoYyhlLmNoYXJDb2RlQXQoMCkpfHwiLiI9PT1lLCJOdW1lcmljIGxpdGVyYWwgbXVzdCBzdGFydCB3aXRoIGEgZGVjaW1hbCBkaWdpdCBvciBhIGRlY2ltYWwgcG9pbnQiKSxkPVgsYT0iIiwiLiIhPT1lKXtmb3IoYT1XW1grK10sZT1XW1hdLCIwIj09PWEmJmUmJmMoZS5jaGFyQ29kZUF0KDApKSYmcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpO2MoVy5jaGFyQ29kZUF0KFgpKTspYSs9V1tYKytdO2U9V1tYXX1pZigiLiI9PT1lKXtmb3IoYSs9V1tYKytdO2MoVy5jaGFyQ29kZUF0KFgpKTspYSs9V1tYKytdO2U9V1tYXX1pZigiZSI9PT1lfHwiRSI9PT1lKWlmKGErPVdbWCsrXSxlPVdbWF0sKCIrIj09PWV8fCItIj09PWUpJiYoYSs9V1tYKytdKSxjKFcuY2hhckNvZGVBdChYKSkpZm9yKDtjKFcuY2hhckNvZGVBdChYKSk7KWErPVdbWCsrXTtlbHNlIHMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKTtyZXR1cm4gZihXLmNoYXJDb2RlQXQoWCkpJiZzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIikse3R5cGU6Uy5OdW1lcmljTGl0ZXJhbCx2YWx1ZTpwYXJzZUZsb2F0KGEpLHJhbmdlOltkLFhdfX1mdW5jdGlvbiBuKCl7dmFyIGEsYyxkLGY9IiIsZz0hMTtmb3IoYT1XW1hdLGIoIiciPT09YXx8JyInPT09YSwiU3RyaW5nIGxpdGVyYWwgbXVzdCBzdGFydHMgd2l0aCBhIHF1b3RlIiksYz1YLCsrWDtZPlg7KXtpZihkPVdbWCsrXSxkPT09YSl7YT0iIjticmVha31pZigiXFwiPT09ZClpZihkPVdbWCsrXSxkJiZlKGQuY2hhckNvZGVBdCgwKSkpIlxyIj09PWQmJiJcbiI9PT1XW1hdJiYrK1g7ZWxzZSBzd2l0Y2goZCl7Y2FzZSJuIjpmKz0iXG4iO2JyZWFrO2Nhc2UiciI6Zis9IlxyIjticmVhaztjYXNlInQiOmYrPSIJIjticmVhaztjYXNlImIiOmYrPSJcYiI7YnJlYWs7Y2FzZSJmIjpmKz0iXGYiO2JyZWFrO2Nhc2UidiI6Zis9IgsiO2JyZWFrO2RlZmF1bHQ6Zis9ZH1lbHNle2lmKGUoZC5jaGFyQ29kZUF0KDApKSlicmVhaztmKz1kfX1yZXR1cm4iIiE9PWEmJnMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpTLlN0cmluZ0xpdGVyYWwsdmFsdWU6ZixvY3RhbDpnLHJhbmdlOltjLFhdfX1mdW5jdGlvbiBvKGEpe3JldHVybiBhLnR5cGU9PT1TLklkZW50aWZpZXJ8fGEudHlwZT09PVMuS2V5d29yZHx8YS50eXBlPT09Uy5Cb29sZWFuTGl0ZXJhbHx8YS50eXBlPT09Uy5OdWxsTGl0ZXJhbH1mdW5jdGlvbiBwKCl7dmFyIGE7cmV0dXJuIGkoKSxYPj1ZP3t0eXBlOlMuRU9GLHJhbmdlOltYLFhdfTooYT1XLmNoYXJDb2RlQXQoWCksNDA9PT1hfHw0MT09PWF8fDU4PT09YT9sKCk6Mzk9PT1hfHwzND09PWE/bigpOmYoYSk/aygpOjQ2PT09YT9jKFcuY2hhckNvZGVBdChYKzEpKT9tKCk6bCgpOmMoYSk/bSgpOmwoKSl9ZnVuY3Rpb24gcSgpe3ZhciBhO3JldHVybiBhPSQsWD1hLnJhbmdlWzFdLCQ9cCgpLFg9YS5yYW5nZVsxXSxhfWZ1bmN0aW9uIHIoKXt2YXIgYTthPVgsJD1wKCksWD1hfWZ1bmN0aW9uIHMoYSxjKXt2YXIgZCxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxmPWMucmVwbGFjZSgvJShcZCkvZyxmdW5jdGlvbihhLGMpe3JldHVybiBiKGM8ZS5sZW5ndGgsIk1lc3NhZ2UgcmVmZXJlbmNlIG11c3QgYmUgaW4gcmFuZ2UiKSxlW2NdfSk7dGhyb3cgZD1uZXcgRXJyb3IoZiksZC5pbmRleD1YLGQuZGVzY3JpcHRpb249ZixkfWZ1bmN0aW9uIHQoYSl7cyhhLFYuVW5leHBlY3RlZFRva2VuLGEudmFsdWUpfWZ1bmN0aW9uIHUoYSl7dmFyIGI9cSgpOyhiLnR5cGUhPT1TLlB1bmN0dWF0b3J8fGIudmFsdWUhPT1hKSYmdChiKX1mdW5jdGlvbiB2KGEpe3JldHVybiAkLnR5cGU9PT1TLlB1bmN0dWF0b3ImJiQudmFsdWU9PT1hfWZ1bmN0aW9uIHcoYSl7cmV0dXJuICQudHlwZT09PVMuS2V5d29yZCYmJC52YWx1ZT09PWF9ZnVuY3Rpb24geCgpe3ZhciBhPVtdO2Zvcih1KCJbIik7IXYoIl0iKTspdigiLCIpPyhxKCksYS5wdXNoKG51bGwpKTooYS5wdXNoKGJiKCkpLHYoIl0iKXx8dSgiLCIpKTtyZXR1cm4gdSgiXSIpLFouY3JlYXRlQXJyYXlFeHByZXNzaW9uKGEpfWZ1bmN0aW9uIHkoKXt2YXIgYTtyZXR1cm4gaSgpLGE9cSgpLGEudHlwZT09PVMuU3RyaW5nTGl0ZXJhbHx8YS50eXBlPT09Uy5OdW1lcmljTGl0ZXJhbD9aLmNyZWF0ZUxpdGVyYWwoYSk6Wi5jcmVhdGVJZGVudGlmaWVyKGEudmFsdWUpfWZ1bmN0aW9uIHooKXt2YXIgYSxiO3JldHVybiBhPSQsaSgpLChhLnR5cGU9PT1TLkVPRnx8YS50eXBlPT09Uy5QdW5jdHVhdG9yKSYmdChhKSxiPXkoKSx1KCI6IiksWi5jcmVhdGVQcm9wZXJ0eSgiaW5pdCIsYixiYigpKX1mdW5jdGlvbiBBKCl7dmFyIGE9W107Zm9yKHUoInsiKTshdigifSIpOylhLnB1c2goeigpKSx2KCJ9Iil8fHUoIiwiKTtyZXR1cm4gdSgifSIpLFouY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihhKX1mdW5jdGlvbiBCKCl7dmFyIGE7cmV0dXJuIHUoIigiKSxhPWJiKCksdSgiKSIpLGF9ZnVuY3Rpb24gQygpe3ZhciBhLGIsYztyZXR1cm4gdigiKCIpP0IoKTooYT0kLnR5cGUsYT09PVMuSWRlbnRpZmllcj9jPVouY3JlYXRlSWRlbnRpZmllcihxKCkudmFsdWUpOmE9PT1TLlN0cmluZ0xpdGVyYWx8fGE9PT1TLk51bWVyaWNMaXRlcmFsP2M9Wi5jcmVhdGVMaXRlcmFsKHEoKSk6YT09PVMuS2V5d29yZD93KCJ0aGlzIikmJihxKCksYz1aLmNyZWF0ZVRoaXNFeHByZXNzaW9uKCkpOmE9PT1TLkJvb2xlYW5MaXRlcmFsPyhiPXEoKSxiLnZhbHVlPSJ0cnVlIj09PWIudmFsdWUsYz1aLmNyZWF0ZUxpdGVyYWwoYikpOmE9PT1TLk51bGxMaXRlcmFsPyhiPXEoKSxiLnZhbHVlPW51bGwsYz1aLmNyZWF0ZUxpdGVyYWwoYikpOnYoIlsiKT9jPXgoKTp2KCJ7IikmJihjPUEoKSksYz9jOih0KHEoKSksdm9pZCAwKSl9ZnVuY3Rpb24gRCgpe3ZhciBhPVtdO2lmKHUoIigiKSwhdigiKSIpKWZvcig7WT5YJiYoYS5wdXNoKGJiKCkpLCF2KCIpIikpOyl1KCIsIik7cmV0dXJuIHUoIikiKSxhfWZ1bmN0aW9uIEUoKXt2YXIgYTtyZXR1cm4gYT1xKCksbyhhKXx8dChhKSxaLmNyZWF0ZUlkZW50aWZpZXIoYS52YWx1ZSl9ZnVuY3Rpb24gRigpe3JldHVybiB1KCIuIiksRSgpfWZ1bmN0aW9uIEcoKXt2YXIgYTtyZXR1cm4gdSgiWyIpLGE9YmIoKSx1KCJdIiksYX1mdW5jdGlvbiBIKCl7dmFyIGEsYjtmb3IoYT1DKCk7digiLiIpfHx2KCJbIik7KXYoIlsiKT8oYj1HKCksYT1aLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIlsiLGEsYikpOihiPUYoKSxhPVouY3JlYXRlTWVtYmVyRXhwcmVzc2lvbigiLiIsYSxiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gSSgpe3ZhciBhLGI7cmV0dXJuICQudHlwZSE9PVMuUHVuY3R1YXRvciYmJC50eXBlIT09Uy5LZXl3b3JkP2I9YWIoKTp2KCIrIil8fHYoIi0iKXx8digiISIpPyhhPXEoKSxiPUkoKSxiPVouY3JlYXRlVW5hcnlFeHByZXNzaW9uKGEudmFsdWUsYikpOncoImRlbGV0ZSIpfHx3KCJ2b2lkIil8fHcoInR5cGVvZiIpP3Moe30sVi5VbmV4cGVjdGVkVG9rZW4pOmI9YWIoKSxifWZ1bmN0aW9uIEooYSl7dmFyIGI9MDtpZihhLnR5cGUhPT1TLlB1bmN0dWF0b3ImJmEudHlwZSE9PVMuS2V5d29yZClyZXR1cm4gMDtzd2l0Y2goYS52YWx1ZSl7Y2FzZSJ8fCI6Yj0xO2JyZWFrO2Nhc2UiJiYiOmI9MjticmVhaztjYXNlIj09IjpjYXNlIiE9IjpjYXNlIj09PSI6Y2FzZSIhPT0iOmI9NjticmVhaztjYXNlIjwiOmNhc2UiPiI6Y2FzZSI8PSI6Y2FzZSI+PSI6Y2FzZSJpbnN0YW5jZW9mIjpiPTc7YnJlYWs7Y2FzZSJpbiI6Yj03O2JyZWFrO2Nhc2UiKyI6Y2FzZSItIjpiPTk7YnJlYWs7Y2FzZSIqIjpjYXNlIi8iOmNhc2UiJSI6Yj0xMX1yZXR1cm4gYn1mdW5jdGlvbiBLKCl7dmFyIGEsYixjLGQsZSxmLGcsaDtpZihnPUkoKSxiPSQsYz1KKGIpLDA9PT1jKXJldHVybiBnO2ZvcihiLnByZWM9YyxxKCksZT1JKCksZD1bZyxiLGVdOyhjPUooJCkpPjA7KXtmb3IoO2QubGVuZ3RoPjImJmM8PWRbZC5sZW5ndGgtMl0ucHJlYzspZT1kLnBvcCgpLGY9ZC5wb3AoKS52YWx1ZSxnPWQucG9wKCksYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZixnLGUpLGQucHVzaChhKTtiPXEoKSxiLnByZWM9YyxkLnB1c2goYiksYT1JKCksZC5wdXNoKGEpfWZvcihoPWQubGVuZ3RoLTEsYT1kW2hdO2g+MTspYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZFtoLTFdLnZhbHVlLGRbaC0yXSxhKSxoLT0yO3JldHVybiBhfWZ1bmN0aW9uIEwoKXt2YXIgYSxiLGM7cmV0dXJuIGE9SygpLHYoIj8iKSYmKHEoKSxiPUwoKSx1KCI6IiksYz1MKCksYT1aLmNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbihhLGIsYykpLGF9ZnVuY3Rpb24gTSgpe3ZhciBhLGI7cmV0dXJuIGE9cSgpLGEudHlwZSE9PVMuSWRlbnRpZmllciYmdChhKSxiPXYoIigiKT9EKCk6W10sWi5jcmVhdGVGaWx0ZXIoYS52YWx1ZSxiKX1mdW5jdGlvbiBOKCl7Zm9yKDt2KCJ8Iik7KXEoKSxNKCl9ZnVuY3Rpb24gTygpe2koKSxyKCk7dmFyIGE9YmIoKTthJiYoIiwiPT09JC52YWx1ZXx8ImluIj09JC52YWx1ZSYmYS50eXBlPT09VS5JZGVudGlmaWVyP1EoYSk6KE4oKSwiYXMiPT09JC52YWx1ZT9QKGEpOlouY3JlYXRlVG9wTGV2ZWwoYSkpKSwkLnR5cGUhPT1TLkVPRiYmdCgkKX1mdW5jdGlvbiBQKGEpe3EoKTt2YXIgYj1xKCkudmFsdWU7Wi5jcmVhdGVBc0V4cHJlc3Npb24oYSxiKX1mdW5jdGlvbiBRKGEpe3ZhciBiOyIsIj09PSQudmFsdWUmJihxKCksJC50eXBlIT09Uy5JZGVudGlmaWVyJiZ0KCQpLGI9cSgpLnZhbHVlKSxxKCk7dmFyIGM9YmIoKTtOKCksWi5jcmVhdGVJbkV4cHJlc3Npb24oYS5uYW1lLGIsYyl9ZnVuY3Rpb24gUihhLGIpe3JldHVybiBaPWIsVz1hLFg9MCxZPVcubGVuZ3RoLCQ9bnVsbCxfPXtsYWJlbFNldDp7fX0sTygpfXZhciBTLFQsVSxWLFcsWCxZLFosJCxfO1M9e0Jvb2xlYW5MaXRlcmFsOjEsRU9GOjIsSWRlbnRpZmllcjozLEtleXdvcmQ6NCxOdWxsTGl0ZXJhbDo1LE51bWVyaWNMaXRlcmFsOjYsUHVuY3R1YXRvcjo3LFN0cmluZ0xpdGVyYWw6OH0sVD17fSxUW1MuQm9vbGVhbkxpdGVyYWxdPSJCb29sZWFuIixUW1MuRU9GXT0iPGVuZD4iLFRbUy5JZGVudGlmaWVyXT0iSWRlbnRpZmllciIsVFtTLktleXdvcmRdPSJLZXl3b3JkIixUW1MuTnVsbExpdGVyYWxdPSJOdWxsIixUW1MuTnVtZXJpY0xpdGVyYWxdPSJOdW1lcmljIixUW1MuUHVuY3R1YXRvcl09IlB1bmN0dWF0b3IiLFRbUy5TdHJpbmdMaXRlcmFsXT0iU3RyaW5nIixVPXtBcnJheUV4cHJlc3Npb246IkFycmF5RXhwcmVzc2lvbiIsQmluYXJ5RXhwcmVzc2lvbjoiQmluYXJ5RXhwcmVzc2lvbiIsQ2FsbEV4cHJlc3Npb246IkNhbGxFeHByZXNzaW9uIixDb25kaXRpb25hbEV4cHJlc3Npb246IkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsRW1wdHlTdGF0ZW1lbnQ6IkVtcHR5U3RhdGVtZW50IixFeHByZXNzaW9uU3RhdGVtZW50OiJFeHByZXNzaW9uU3RhdGVtZW50IixJZGVudGlmaWVyOiJJZGVudGlmaWVyIixMaXRlcmFsOiJMaXRlcmFsIixMYWJlbGVkU3RhdGVtZW50OiJMYWJlbGVkU3RhdGVtZW50IixMb2dpY2FsRXhwcmVzc2lvbjoiTG9naWNhbEV4cHJlc3Npb24iLE1lbWJlckV4cHJlc3Npb246Ik1lbWJlckV4cHJlc3Npb24iLE9iamVjdEV4cHJlc3Npb246Ik9iamVjdEV4cHJlc3Npb24iLFByb2dyYW06IlByb2dyYW0iLFByb3BlcnR5OiJQcm9wZXJ0eSIsVGhpc0V4cHJlc3Npb246IlRoaXNFeHByZXNzaW9uIixVbmFyeUV4cHJlc3Npb246IlVuYXJ5RXhwcmVzc2lvbiJ9LFY9e1VuZXhwZWN0ZWRUb2tlbjoiVW5leHBlY3RlZCB0b2tlbiAlMCIsVW5rbm93bkxhYmVsOiJVbmRlZmluZWQgbGFiZWwgJyUwJyIsUmVkZWNsYXJhdGlvbjoiJTAgJyUxJyBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkIn07dmFyIGFiPUgsYmI9TDthLmVzcHJpbWE9e3BhcnNlOlJ9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsZCxlKXt2YXIgZjt0cnl7aWYoZj1jKGEpLGYuc2NvcGVJZGVudCYmKGQubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8IlRFTVBMQVRFIiE9PWQudGFnTmFtZXx8ImJpbmQiIT09YiYmInJlcGVhdCIhPT1iKSl0aHJvdyBFcnJvcigiYXMgYW5kIGluIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIDx0ZW1wbGF0ZSBiaW5kL3JlcGVhdD4iKX1jYXRjaChnKXtyZXR1cm4gY29uc29sZS5lcnJvcigiSW52YWxpZCBleHByZXNzaW9uIHN5bnRheDogIithLGcpLHZvaWQgMH1yZXR1cm4gZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWYuZ2V0QmluZGluZyhhLGUsYyk7cmV0dXJuIGYuc2NvcGVJZGVudCYmZCYmKGIucG9seW1lckV4cHJlc3Npb25TY29wZUlkZW50Xz1mLnNjb3BlSWRlbnQsZi5pbmRleElkZW50JiYoYi5wb2x5bWVyRXhwcmVzc2lvbkluZGV4SWRlbnRfPWYuaW5kZXhJZGVudCkpLGR9fWZ1bmN0aW9uIGMoYSl7dmFyIGI9cVthXTtpZighYil7dmFyIGM9bmV3IGo7ZXNwcmltYS5wYXJzZShhLGMpLGI9bmV3IGwoYykscVthXT1ifXJldHVybiBifWZ1bmN0aW9uIGQoYSl7dGhpcy52YWx1ZT1hLHRoaXMudmFsdWVGbl89dm9pZCAwfWZ1bmN0aW9uIGUoYSl7dGhpcy5uYW1lPWEsdGhpcy5wYXRoPVBhdGguZ2V0KGEpfWZ1bmN0aW9uIGYoYSxiLGMpe3RoaXMuZHluYW1pY0RlcHM9ImZ1bmN0aW9uIj09dHlwZW9mIGF8fGEuZHluYW1pYyx0aGlzLmR5bmFtaWM9ImZ1bmN0aW9uIj09dHlwZW9mIGJ8fGIuZHluYW1pY3x8IlsiPT1jJiYhKGIgaW5zdGFuY2VvZiBkKSx0aGlzLm9iamVjdD1pKGEpLHRoaXMucHJvcGVydHk9Ii4iPT1jP2I6aShiKX1mdW5jdGlvbiBnKGEsYil7dGhpcy5uYW1lPWEsdGhpcy5hcmdzPVtdO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMuYXJnc1tjXT1pKGJbY10pfWZ1bmN0aW9uIGgoKXt0aHJvdyBFcnJvcigiTm90IEltcGxlbWVudGVkIil9ZnVuY3Rpb24gaShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT9hOmEudmFsdWVGbigpfWZ1bmN0aW9uIGooKXt0aGlzLmV4cHJlc3Npb249bnVsbCx0aGlzLmZpbHRlcnM9W10sdGhpcy5kZXBzPXt9LHRoaXMuY3VycmVudFBhdGg9dm9pZCAwLHRoaXMuc2NvcGVJZGVudD12b2lkIDAsdGhpcy5pbmRleElkZW50PXZvaWQgMCx0aGlzLmR5bmFtaWNEZXBzPSExfWZ1bmN0aW9uIGsoYSl7dGhpcy52YWx1ZV89YX1mdW5jdGlvbiBsKGEpe2lmKHRoaXMuc2NvcGVJZGVudD1hLnNjb3BlSWRlbnQsdGhpcy5pbmRleElkZW50PWEuaW5kZXhJZGVudCwhYS5leHByZXNzaW9uKXRocm93IEVycm9yKCJObyBleHByZXNzaW9uIGZvdW5kLiIpO3RoaXMuZXhwcmVzc2lvbj1hLmV4cHJlc3Npb24saSh0aGlzLmV4cHJlc3Npb24pLHRoaXMuZmlsdGVycz1hLmZpbHRlcnMsdGhpcy5keW5hbWljRGVwcz1hLmR5bmFtaWNEZXBzfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBuKGEpe3JldHVybiJvIj09PWFbMF0mJiJuIj09PWFbMV0mJiItIj09PWFbMl0KfWZ1bmN0aW9uIG8oYSxiKXt2YXIgYz1iLnN1YnN0cmluZygzKTtyZXR1cm4gZnVuY3Rpb24oYixkLGUpe2Z1bmN0aW9uIGYoKXtlfHwoaD1hLmdldFZhbHVlRnJvbShiKSksaC5hcHBseShiLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZygpe3JldHVybiJ7eyAiK2ErIiB9fSJ9dmFyIGg9YS5nZXRWYWx1ZUZyb20oYik7cmV0dXJuIGQuYWRkRXZlbnRMaXN0ZW5lcihjLGYpLGU/dm9pZCAwOntvcGVuOmcsZGlzY2FyZENoYW5nZXM6ZyxjbG9zZTpmdW5jdGlvbigpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGYpfX19fWZ1bmN0aW9uIHAoKXt9dmFyIHE9T2JqZWN0LmNyZWF0ZShudWxsKTtkLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT10aGlzLnZhbHVlO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oKXtyZXR1cm4gYX19cmV0dXJuIHRoaXMudmFsdWVGbl99fSxlLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT0odGhpcy5uYW1lLHRoaXMucGF0aCk7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihiLGMpe3JldHVybiBjJiZjLmFkZFBhdGgoYixhKSxhLmdldFZhbHVlRnJvbShiKX19cmV0dXJuIHRoaXMudmFsdWVGbl99LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucGF0aC5zZXRWYWx1ZUZyb20oYSxiKX19LGYucHJvdG90eXBlPXt2YWx1ZUZuOmZ1bmN0aW9uKCl7aWYoIXRoaXMudmFsdWVGbl8pe3ZhciBhPXRoaXMub2JqZWN0LGI9dGhpcy5wcm9wZXJ0eSxjPWIgaW5zdGFuY2VvZiBlP1BhdGguZ2V0KGIubmFtZSk6dm9pZCAwO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oZCxlKXt2YXIgZj1hKGQsZSk7aWYoYylyZXR1cm4gZSYmZS5hZGRQYXRoKGYsYyksYy5nZXRWYWx1ZUZyb20oZik7dmFyIGc9YihkLGUpO3JldHVybiBlJiZlLmFkZFBhdGgoZixnKSxmP2ZbZ106dm9pZCAwfX1yZXR1cm4gdGhpcy52YWx1ZUZuX30sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm9iamVjdChhKSxkPXRoaXMucHJvcGVydHkgaW5zdGFuY2VvZiBlP3RoaXMucHJvcGVydHkubmFtZTp0aGlzLnByb3BlcnR5KGEpO3JldHVybiBjW2RdPWJ9fSxnLnByb3RvdHlwZT17dHJhbnNmb3JtOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Y1t0aGlzLm5hbWVdLGc9ZDtpZihmKWc9dm9pZCAwO2Vsc2UgaWYoZj1nW3RoaXMubmFtZV0sIWYpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIkNhbm5vdCBmaW5kIGZpbHRlcjogIit0aGlzLm5hbWUpLHZvaWQgMDtpZihiP2Y9Zi50b01vZGVsOiJmdW5jdGlvbiI9PXR5cGVvZiBmLnRvRE9NJiYoZj1mLnRvRE9NKSwiZnVuY3Rpb24iIT10eXBlb2YgZilyZXR1cm4gY29uc29sZS5lcnJvcigiTm8gIisoYj8idG9Nb2RlbCI6InRvRE9NIikrIiBmb3VuZCBvbiIrdGhpcy5uYW1lKSx2b2lkIDA7Zm9yKHZhciBoPVthXSxqPTA7ajx0aGlzLmFyZ3MubGVuZ3RoO2orKyloW2orMV09aSh0aGlzLmFyZ3Nbal0pKGQsZSk7cmV0dXJuIGYuYXBwbHkoZyxoKX19O3ZhciByPXsiKyI6ZnVuY3Rpb24oYSl7cmV0dXJuK2F9LCItIjpmdW5jdGlvbihhKXtyZXR1cm4tYX0sIiEiOmZ1bmN0aW9uKGEpe3JldHVybiFhfX0scz17IisiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0sIi0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0sIioiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqYn0sIi8iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEvYn0sIiUiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGElYn0sIjwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+YX0sIj4iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yn0sIjw9IjpmdW5jdGlvbihhLGIpe3JldHVybiBiPj1hfSwiPj0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+PWJ9LCI9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yn0sIiE9IjpmdW5jdGlvbihhLGIpe3JldHVybiBhIT1ifSwiPT09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn0sIiE9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWJ9LCImJiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYn0sInx8IjpmdW5jdGlvbihhLGIpe3JldHVybiBhfHxifX07ai5wcm90b3R5cGU9e2NyZWF0ZVVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe2lmKCFyW2FdKXRocm93IEVycm9yKCJEaXNhbGxvd2VkIG9wZXJhdG9yOiAiK2EpO3JldHVybiBiPWkoYiksZnVuY3Rpb24oYyxkKXtyZXR1cm4gclthXShiKGMsZCkpfX0sY3JlYXRlQmluYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7aWYoIXNbYV0pdGhyb3cgRXJyb3IoIkRpc2FsbG93ZWQgb3BlcmF0b3I6ICIrYSk7cmV0dXJuIGI9aShiKSxjPWkoYyksZnVuY3Rpb24oZCxlKXtyZXR1cm4gc1thXShiKGQsZSksYyhkLGUpKX19LGNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE9aShhKSxiPWkoYiksYz1pKGMpLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGEoZCxlKT9iKGQsZSk6YyhkLGUpfX0sY3JlYXRlSWRlbnRpZmllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgZShhKTtyZXR1cm4gYi50eXBlPSJJZGVudGlmaWVyIixifSxjcmVhdGVNZW1iZXJFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgZihiLGMsYSk7cmV0dXJuIGQuZHluYW1pY0RlcHMmJih0aGlzLmR5bmFtaWNEZXBzPSEwKSxkfSxjcmVhdGVMaXRlcmFsOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZChhLnZhbHVlKX0sY3JlYXRlQXJyYXlFeHByZXNzaW9uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl09aShhW2JdKTtyZXR1cm4gZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHVzaChhW2VdKGIsYykpO3JldHVybiBkfX0sY3JlYXRlUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybntrZXk6YiBpbnN0YW5jZW9mIGU/Yi5uYW1lOmIudmFsdWUsdmFsdWU6Y319LGNyZWF0ZU9iamVjdEV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS52YWx1ZT1pKGFbYl0udmFsdWUpO3JldHVybiBmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD17fSxlPTA7ZTxhLmxlbmd0aDtlKyspZFthW2VdLmtleV09YVtlXS52YWx1ZShiLGMpO3JldHVybiBkfX0sY3JlYXRlRmlsdGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5maWx0ZXJzLnB1c2gobmV3IGcoYSxiKSl9LGNyZWF0ZUFzRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe3RoaXMuZXhwcmVzc2lvbj1hLHRoaXMuc2NvcGVJZGVudD1ifSxjcmVhdGVJbkV4cHJlc3Npb246ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZXhwcmVzc2lvbj1jLHRoaXMuc2NvcGVJZGVudD1hLHRoaXMuaW5kZXhJZGVudD1ifSxjcmVhdGVUb3BMZXZlbDpmdW5jdGlvbihhKXt0aGlzLmV4cHJlc3Npb249YX0sY3JlYXRlVGhpc0V4cHJlc3Npb246aH0say5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV99LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7fSxjbG9zZTpmdW5jdGlvbigpe319LGwucHJvdG90eXBlPXtnZXRCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7dmFyIGM9MT09Zi5zdGF0ZV87YyYmZi5zdGFydFJlc2V0KCk7dmFyIGQ9Zy5nZXRWYWx1ZShhLGM/Zjp2b2lkIDAsYik7cmV0dXJuIGMmJmYuZmluaXNoUmVzZXQoKSxkfWZ1bmN0aW9uIGUoYyl7cmV0dXJuIGcuc2V0VmFsdWUoYSxjLGIpLGN9aWYoYylyZXR1cm4gdGhpcy5nZXRWYWx1ZShhLHZvaWQgMCxiKTt2YXIgZj1uZXcgQ29tcG91bmRPYnNlcnZlcjt0aGlzLmdldFZhbHVlKGEsZixiKTt2YXIgZz10aGlzO3JldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixkLGUsITApfSxnZXRWYWx1ZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWkodGhpcy5leHByZXNzaW9uKShhLGIpLGU9MDtlPHRoaXMuZmlsdGVycy5sZW5ndGg7ZSsrKWQ9dGhpcy5maWx0ZXJzW2VdLnRyYW5zZm9ybShkLCExLGMsYSxiKTtyZXR1cm4gZH0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLmZpbHRlcnM/dGhpcy5maWx0ZXJzLmxlbmd0aDowO2QtLT4wOyliPXRoaXMuZmlsdGVyc1tkXS50cmFuc2Zvcm0oYiwhMCxjLGEpO3JldHVybiB0aGlzLmV4cHJlc3Npb24uc2V0VmFsdWU/dGhpcy5leHByZXNzaW9uLnNldFZhbHVlKGEsYik6dm9pZCAwfX0scC5wcm90b3R5cGU9e3N0eWxlT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChtKGMpKyI6ICIrYVtjXSk7cmV0dXJuIGIuam9pbigiOyAiKX0sdG9rZW5MaXN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWFbY10mJmIucHVzaChjKTtyZXR1cm4gYi5qb2luKCIgIil9LHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpmdW5jdGlvbihhKXt2YXIgYj1hLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF87aWYoYilyZXR1cm4gZnVuY3Rpb24oYSxjKXthLm1vZGVsW2JdPWN9fSxwcmVwYXJlQmluZGluZzpmdW5jdGlvbihhLGMsZCl7aWYobihjKSl7dmFyIGU9UGF0aC5nZXQoYSk7cmV0dXJuIGUudmFsaWQ/byhlLGMpOihjb25zb2xlLmVycm9yKCJvbi0qIGJpbmRpbmdzIG11c3QgYmUgc2ltcGxlIHBhdGggZXhwcmVzc2lvbnMiKSx2b2lkIDApfWlmKCFQYXRoLmdldChhKS52YWxpZClyZXR1cm4gYihhLGMsZCx0aGlzKX0scHJlcGFyZUluc3RhbmNlTW9kZWw6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wb2x5bWVyRXhwcmVzc2lvblNjb3BlSWRlbnRfO2lmKGIpe3ZhciBjPWEudGVtcGxhdGVJbnN0YW5jZT9hLnRlbXBsYXRlSW5zdGFuY2UubW9kZWw6YS5tb2RlbDtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGQ9T2JqZWN0LmNyZWF0ZShjKTtyZXR1cm4gZFtiXT1hLGR9fX19LGEuUG9seW1lckV4cHJlc3Npb25zPXAsYS5leHBvc2VHZXRFeHByZXNzaW9uJiYoYS5nZXRFeHByZXNzaW9uXz1jKX0odGhpcyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2V8fChlPSEwLGEuZW5kT2ZNaWNyb3Rhc2soZnVuY3Rpb24oKXtlPSExLGxvZ0ZsYWdzLmRhdGEmJmNvbnNvbGUuZ3JvdXAoIlBsYXRmb3JtLmZsdXNoKCkiKSxhLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCksbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cEVuZCgpfSkpfXZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Yy50ZXh0Q29udGVudD0idGVtcGxhdGUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7ZC5pbnNlcnRCZWZvcmUoYyxkLmZpcnN0Q2hpbGQpO3ZhciBlLGY9MTI1O2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGZ1bmN0aW9uKCl7YigpLE9ic2VydmVyLmhhc09iamVjdE9ic2VydmV8fChhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpKX0pLHdpbmRvdy5DdXN0b21FbGVtZW50cyYmIUN1c3RvbUVsZW1lbnRzLnVzZU5hdGl2ZSl7dmFyIGc9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU7RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nLmNhbGwodGhpcyxhLGIpO3JldHVybiBDdXN0b21FbGVtZW50cy51cGdyYWRlQWxsKGMpLGN9fWEuZmx1c2g9Yn0od2luZG93LlBsYXRmb3JtKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFw",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Sat, 08 Nov 2014 03:32:51 GMT",
                    "Content-Length": "167547",
                    "Date": "Sat, 08 Nov 2014 03:32:51 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
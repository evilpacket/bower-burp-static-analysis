{
    "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/source/javascripts/jquery.mobile-1.0.1.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>location.href=location.href.replace(/#.*/, \"\")+c;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/source/javascripts/jquery.mobile-1.0.1.min.js",
                "path": "/marcorinck/jquery-mobile-iscrollview/demo/source/javascripts/jquery.mobile-1.0.1.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9tYXJjb3JpbmNrL2pxdWVyeS1tb2JpbGUtaXNjcm9sbHZpZXcvZGVtby9zb3VyY2UvamF2YXNjcmlwdHMvanF1ZXJ5Lm1vYmlsZS0xLjAuMS5taW4uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogODM0ODgNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMDY6NDk6NDMgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ5OjQzIEdNVA0KDQovKiEgalF1ZXJ5IE1vYmlsZSB2MS4wLjEganF1ZXJ5bW9iaWxlLmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwooZnVuY3Rpb24oYSxlKXtpZihhLmNsZWFuRGF0YSl7dmFyIGI9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oZil7Zm9yKHZhciBjPTAsZDsoZD1mW2NdKSE9bnVsbDtjKyspYShkKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIik7YihmKX19ZWxzZXt2YXIgZD1hLmZuLnJlbW92ZTthLmZuLnJlbW92ZT1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjfHwoIWJ8fGEuZmlsdGVyKGIsW3RoaXNdKS5sZW5ndGgpJiZhKCIqIix0aGlzKS5hZGQoW3RoaXNdKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9KTtyZXR1cm4gZC5jYWxsKGEodGhpcyksYixjKX0pfX1hLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGU9Yi5zcGxpdCgiLiIpWzBdLGksYj1iLnNwbGl0KCIuIilbMV07aT1lKyItIitiO2lmKCFkKWQ9YyxjPWEuV2lkZ2V0O2EuZXhwclsiOiJdW2ldPWZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsCmIpfTthW2VdPWFbZV18fHt9O2FbZV1bYl09ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07Yz1uZXcgYztjLm9wdGlvbnM9YS5leHRlbmQodHJ1ZSx7fSxjLm9wdGlvbnMpO2FbZV1bYl0ucHJvdG90eXBlPWEuZXh0ZW5kKHRydWUsYyx7bmFtZXNwYWNlOmUsd2lkZ2V0TmFtZTpiLHdpZGdldEV2ZW50UHJlZml4OmFbZV1bYl0ucHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4fHxiLHdpZGdldEJhc2VDbGFzczppfSxkKTthLndpZGdldC5icmlkZ2UoYixhW2VdW2JdKX07YS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGIsYyl7YS5mbltiXT1mdW5jdGlvbihkKXt2YXIgZz10eXBlb2YgZD09PSJzdHJpbmciLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGw9dGhpcyxkPSFnJiZpLmxlbmd0aD9hLmV4dGVuZC5hcHBseShudWxsLFt0cnVlLGRdLmNvbmNhdChpKSk6ZDtpZihnJiZkLmNoYXJBdCgwKT09PSJfIilyZXR1cm4gbDsKZz90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hLmRhdGEodGhpcyxiKTtpZighYyl0aHJvdyJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYisiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZCsiJyI7aWYoIWEuaXNGdW5jdGlvbihjW2RdKSl0aHJvdyJubyBzdWNoIG1ldGhvZCAnIitkKyInIGZvciAiK2IrIiB3aWRnZXQgaW5zdGFuY2UiO3ZhciBnPWNbZF0uYXBwbHkoYyxpKTtpZihnIT09YyYmZyE9PWUpcmV0dXJuIGw9ZyxmYWxzZX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEuZGF0YSh0aGlzLGIpO2U/ZS5vcHRpb24oZHx8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsYixuZXcgYyhkLHRoaXMpKX0pO3JldHVybiBsfX07YS5XaWRnZXQ9ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07YS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLApvcHRpb25zOntkaXNhYmxlZDpmYWxzZX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGMpe2EuZGF0YShjLHRoaXMud2lkZ2V0TmFtZSx0aGlzKTt0aGlzLmVsZW1lbnQ9YShjKTt0aGlzLm9wdGlvbnM9YS5leHRlbmQodHJ1ZSx7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpO3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoInJlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2QuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIik7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPXt9O2EubWV0YWRhdGEmJihiPWEubWV0YWRhdGEuZ2V0KGVsZW1lbnQpW3RoaXMud2lkZ2V0TmFtZV0pO3JldHVybiBifSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpOwp0aGlzLndpZGdldCgpLnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYixjKXt2YXIgZD1iO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKHR5cGVvZiBiPT09InN0cmluZyIpe2lmKGM9PT1lKXJldHVybiB0aGlzLm9wdGlvbnNbYl07ZD17fTtkW2JdPWN9dGhpcy5fc2V0T3B0aW9ucyhkKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczthLmVhY2goYixmdW5jdGlvbihhLGIpe2MuX3NldE9wdGlvbihhLGIpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLm9wdGlvbnNbYV09YjthPT09ImRpc2FibGVkIiYmCnRoaXMud2lkZ2V0KClbYj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixiKTtyZXR1cm4gdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXMub3B0aW9uc1tiXSxjPWEuRXZlbnQoYyk7Yy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKTtkPWR8fHt9O2lmKGMub3JpZ2luYWxFdmVudClmb3IodmFyIGI9YS5ldmVudC5wcm9wcy5sZW5ndGgsaTtiOylpPWEuZXZlbnQucHJvcHNbLS1iXSxjW2ldPWMub3JpZ2luYWxFdmVudFtpXTt0aGlzLmVsZW1lbnQudHJpZ2dlcihjLApkKTtyZXR1cm4hKGEuaXNGdW5jdGlvbihlKSYmZS5jYWxsKHRoaXMuZWxlbWVudFswXSxjLGQpPT09ZmFsc2V8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX19KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPXt9O2EuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSl7dmFyIGM9Yi5qcW1EYXRhKGEucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfSkpO2MhPT1lJiYoZFthXT1jKX0pO3JldHVybiBkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIpe3ZhciBkPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShhKGIpKSxkPWQmJmQua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiO2EodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixiKS5ub3QoZClbdGhpcy53aWRnZXROYW1lXSgpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eod2luZG93KTt2YXIgZT1hKCJodG1sIik7YS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oKXt2YXIgYj17fSxkPWEoIjxkaXYgaWQ9J2pxdWVyeS1tZWRpYXRlc3QnPiIpLGY9YSgiPGJvZHk+IikuYXBwZW5kKGQpO3JldHVybiBmdW5jdGlvbihhKXtpZighKGEgaW4gYikpe3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksZz0iQG1lZGlhICIrYSsiIHsgI2pxdWVyeS1tZWRpYXRlc3QgeyBwb3NpdGlvbjphYnNvbHV0ZTsgfSB9IjtoLnR5cGU9InRleHQvY3NzIjtoLnN0eWxlU2hlZXQ/aC5zdHlsZVNoZWV0LmNzc1RleHQ9ZzpoLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGcpKTtlLnByZXBlbmQoZikucHJlcGVuZChoKTtiW2FdPWQuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIjtmLmFkZChoKS5yZW1vdmUoKX1yZXR1cm4gYlthXX19KCl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksYT0oYSsiICIrYy5qb2luKGIrIiAiKStiKS5zcGxpdCgiICIpLGQ7Zm9yKGQgaW4gYSlpZihmW2FbZF1dIT09ZSlyZXR1cm4gdHJ1ZX12YXIgZD1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxmPWRbMF0uc3R5bGUsYz1bIldlYmtpdCIsIk1veiIsIk8iXSxoPSJwYWxtR2V0UmVzb3VyY2UiaW4gd2luZG93LGc9d2luZG93Lm9wZXJhbWluaSYme30udG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmFtaW5pKT09PSJbb2JqZWN0IE9wZXJhTWluaV0iLGk9d2luZG93LmJsYWNrYmVycnk7YS5tb2JpbGUuYnJvd3Nlcj17fTthLm1vYmlsZS5icm93c2VyLmllPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTMsYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWIuYWxsfHxbXTtiLmlubmVySFRNTD0iPFwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLVw+IiwKY1swXTspO3JldHVybiBhPjQ/YTohYX0oKTthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiB3aW5kb3cmJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIHdpbmRvdyx0b3VjaDoib250b3VjaGVuZCJpbiBkb2N1bWVudCxjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIHdpbmRvdyxwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhYigiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFiKCJvdmVyZmxvd1Njcm9sbGluZyIpLGJveFNoYWRvdzohIWIoImJveFNoYWRvdyIpJiYhaSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiB3aW5kb3d8fCJzY3JvbGxUb3AiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGRbMF0pJiYhaCYmIWcsZHluYW1pY0Jhc2VUYWc6ZnVuY3Rpb24oKXt2YXIgYj0KbG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixjPWEoImhlYWQgYmFzZSIpLGY9bnVsbCxlPSIiLGg7Yy5sZW5ndGg/ZT1jLmF0dHIoImhyZWYiKTpjPWY9YSgiPGJhc2U+Iix7aHJlZjpifSkuYXBwZW5kVG8oImhlYWQiKTtoPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKGQpWzBdLmhyZWY7Y1swXS5ocmVmPWV8fGxvY2F0aW9uLnBhdGhuYW1lO2YmJmYucmVtb3ZlKCk7cmV0dXJuIGguaW5kZXhPZihiKT09PTB9KCl9KTtkLnJlbW92ZSgpO2g9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKCJOb2tpYSIpPi0xJiYoYS5pbmRleE9mKCJTeW1iaWFuLzMiKT4tMXx8YS5pbmRleE9mKCJTZXJpZXM2MC81Iik+LTEpJiZhLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEmJmEubWF0Y2goLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVwvN1wuWzAtM10vKX0oKTsKYS5tb2JpbGUuYWpheEJsYWNrbGlzdD13aW5kb3cuYmxhY2tiZXJyeSYmIXdpbmRvdy5XZWJLaXRQb2ludHx8Z3x8aDtoJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KTthLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93Iil9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlLGIsZCl7ZnVuY3Rpb24gZihhKXtmb3IoO2EmJnR5cGVvZiBhLm9yaWdpbmFsRXZlbnQhPT0idW5kZWZpbmVkIjspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gYyhiKXtmb3IodmFyIGM9e30sZixkO2I7KXtmPWEuZGF0YShiLG0pO2ZvcihkIGluIGYpaWYoZltkXSljW2RdPWMuaGFzVmlydHVhbEJpbmRpbmc9dHJ1ZTtiPWIucGFyZW50Tm9kZX1yZXR1cm4gY31mdW5jdGlvbiBoKCl7dyYmKGNsZWFyVGltZW91dCh3KSx3PTApO3c9c2V0VGltZW91dChmdW5jdGlvbigpe0Q9dz0wO3UubGVuZ3RoPTA7Qz1mYWxzZTt5PXRydWV9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gZyhiLGMscil7dmFyIGUsaDtpZighKGg9ciYmcltiXSkpe2lmKHI9IXIpYTp7Zm9yKHI9Yy50YXJnZXQ7cjspe2lmKChoPWEuZGF0YShyLG0pKSYmKCFifHxoW2JdKSlicmVhayBhO3I9ci5wYXJlbnROb2RlfXI9bnVsbH1oPXJ9aWYoaCl7ZT1jO3ZhciByPQplLnR5cGUsZyxpO2U9YS5FdmVudChlKTtlLnR5cGU9YjtoPWUub3JpZ2luYWxFdmVudDtnPWEuZXZlbnQucHJvcHM7aWYoaClmb3IoaT1nLmxlbmd0aDtpOyliPWdbLS1pXSxlW2JdPWhbYl07aWYoci5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFlLndoaWNoKWUud2hpY2g9MTtpZihyLnNlYXJjaCgvXnRvdWNoLykhPT0tMSYmKGI9ZihoKSxyPWIudG91Y2hlcyxiPWIuY2hhbmdlZFRvdWNoZXMscj1yJiZyLmxlbmd0aD9yWzBdOmImJmIubGVuZ3RoP2JbMF06ZCkpZm9yKGg9MCxsZW49ei5sZW5ndGg7aDxsZW47aCsrKWI9eltoXSxlW2JdPXJbYl07YShjLnRhcmdldCkudHJpZ2dlcihlKX1yZXR1cm4gZX1mdW5jdGlvbiBpKGIpe3ZhciBjPWEuZGF0YShiLnRhcmdldCxBKTtpZighQyYmKCFEfHxEIT09YykpaWYoYz1nKCJ2IitiLnR5cGUsYikpYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmCmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIGwoYil7dmFyIGQ9ZihiKS50b3VjaGVzLGU7aWYoZCYmZC5sZW5ndGg9PT0xJiYoZT1iLnRhcmdldCxkPWMoZSksZC5oYXNWaXJ0dWFsQmluZGluZykpRD1yKyssYS5kYXRhKGUsQSxEKSx3JiYoY2xlYXJUaW1lb3V0KHcpLHc9MCkseD15PWZhbHNlLGU9ZihiKS50b3VjaGVzWzBdLHY9ZS5wYWdlWCxzPWUucGFnZVksZygidm1vdXNlb3ZlciIsYixkKSxnKCJ2bW91c2Vkb3duIixiLGQpfWZ1bmN0aW9uIGsoYSl7eXx8KHh8fGcoInZtb3VzZWNhbmNlbCIsYSxjKGEudGFyZ2V0KSkseD10cnVlLGgoKSl9ZnVuY3Rpb24gbyhiKXtpZigheSl7dmFyIGQ9ZihiKS50b3VjaGVzWzBdLHI9eCxlPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDt4PXh8fE1hdGguYWJzKGQucGFnZVgtdik+ZXx8TWF0aC5hYnMoZC5wYWdlWS0Kcyk+ZTtmbGFncz1jKGIudGFyZ2V0KTt4JiYhciYmZygidm1vdXNlY2FuY2VsIixiLGZsYWdzKTtnKCJ2bW91c2Vtb3ZlIixiLGZsYWdzKTtoKCl9fWZ1bmN0aW9uIG4oYSl7aWYoIXkpe3k9dHJ1ZTt2YXIgYj1jKGEudGFyZ2V0KSxkO2coInZtb3VzZXVwIixhLGIpO2lmKCF4JiYoZD1nKCJ2Y2xpY2siLGEsYikpJiZkLmlzRGVmYXVsdFByZXZlbnRlZCgpKWQ9ZihhKS5jaGFuZ2VkVG91Y2hlc1swXSx1LnB1c2goe3RvdWNoSUQ6RCx4OmQuY2xpZW50WCx5OmQuY2xpZW50WX0pLEM9dHJ1ZTtnKCJ2bW91c2VvdXQiLGEsYik7eD1mYWxzZTtoKCl9fWZ1bmN0aW9uIHEoYil7dmFyIGI9YS5kYXRhKGIsbSksYztpZihiKWZvcihjIGluIGIpaWYoYltjXSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gaigpe31mdW5jdGlvbiBwKGIpe3ZhciBjPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe3EodGhpcyl8fGEuZGF0YSh0aGlzLG0se30pO2EuZGF0YSh0aGlzLAptKVtiXT10cnVlO3RbYl09KHRbYl18fDApKzE7dFtiXT09PTEmJkIuYmluZChjLGkpO2EodGhpcykuYmluZChjLGopO2lmKEUpdC50b3VjaHN0YXJ0PSh0LnRvdWNoc3RhcnR8fDApKzEsdC50b3VjaHN0YXJ0PT09MSYmQi5iaW5kKCJ0b3VjaHN0YXJ0IixsKS5iaW5kKCJ0b3VjaGVuZCIsbikuYmluZCgidG91Y2htb3ZlIixvKS5iaW5kKCJzY3JvbGwiLGspfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tdFtiXTt0W2JdfHxCLnVuYmluZChjLGkpO0UmJigtLXQudG91Y2hzdGFydCx0LnRvdWNoc3RhcnR8fEIudW5iaW5kKCJ0b3VjaHN0YXJ0IixsKS51bmJpbmQoInRvdWNobW92ZSIsbykudW5iaW5kKCJ0b3VjaGVuZCIsbikudW5iaW5kKCJzY3JvbGwiLGspKTt2YXIgZD1hKHRoaXMpLGY9YS5kYXRhKHRoaXMsbSk7ZiYmKGZbYl09ZmFsc2UpO2QudW5iaW5kKGMsaik7cSh0aGlzKXx8ZC5yZW1vdmVEYXRhKG0pfX19dmFyIG09InZpcnR1YWxNb3VzZUJpbmRpbmdzIixBPSJ2aXJ0dWFsVG91Y2hJRCIsCmU9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLHo9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksdD17fSx3PTAsdj0wLHM9MCx4PWZhbHNlLHU9W10sQz1mYWxzZSx5PWZhbHNlLEU9ImFkZEV2ZW50TGlzdGVuZXIiaW4gYixCPWEoYikscj0xLEQ9MDthLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAscmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgRj0wO0Y8ZS5sZW5ndGg7RisrKWEuZXZlbnQuc3BlY2lhbFtlW0ZdXT1wKGVbRl0pO0UmJmIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPXUubGVuZ3RoLGQ9Yi50YXJnZXQsZixyLGUsaCxnO2lmKGMpe2Y9Yi5jbGllbnRYO3I9Yi5jbGllbnRZO3RocmVzaG9sZD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkOwpmb3IoZT1kO2U7KXtmb3IoaD0wO2g8YztoKyspaWYoZz11W2hdLGU9PT1kJiZNYXRoLmFicyhnLngtZik8dGhyZXNob2xkJiZNYXRoLmFicyhnLnktcik8dGhyZXNob2xkfHxhLmRhdGEoZSxBKT09PWcudG91Y2hJRCl7Yi5wcmV2ZW50RGVmYXVsdCgpO2Iuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJufWU9ZS5wYXJlbnROb2RlfX19LHRydWUpfSkoalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7CihmdW5jdGlvbihhLGUsYil7ZnVuY3Rpb24gZChiLGMsZCl7dmFyIGY9ZC50eXBlO2QudHlwZT1jO2EuZXZlbnQuaGFuZGxlLmNhbGwoYixkKTtkLnR5cGU9Zn1hLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIG9yaWVudGF0aW9uY2hhbmdlIHRocm90dGxlZHJlc2l6ZSB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9O2EuYXR0ckZuW2NdPXRydWV9KTt2YXIgZj1hLnN1cHBvcnQudG91Y2gsYz1mPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixoPWY/InRvdWNoZW5kIjoibW91c2V1cCIsZz1mPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDp0cnVlLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLAplKXtmPWU7ZChjLGY/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsYSl9dmFyIGM9dGhpcyxmLGU7YShjKS5iaW5kKCJ0b3VjaG1vdmUgc2Nyb2xsIixmdW5jdGlvbihjKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGZ8fGIoYyx0cnVlKSxjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihjLGZhbHNlKX0sNTApKX0pfX07YS5ldmVudC5zcGVjaWFsLnRhcD17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGUoKXtjbGVhclRpbWVvdXQocCl9ZnVuY3Rpb24gaCgpe2UoKTtjLnVuYmluZCgidmNsaWNrIixnKS51bmJpbmQoInZtb3VzZXVwIixlKS51bmJpbmQoInZtb3VzZWNhbmNlbCIsaCl9ZnVuY3Rpb24gZyhhKXtoKCk7aj09YS50YXJnZXQmJmQoYiwidGFwIixhKX1pZihmLndoaWNoJiZmLndoaWNoIT09MSlyZXR1cm4gZmFsc2U7dmFyIGo9Zi50YXJnZXQsCnA7Yy5iaW5kKCJ2bW91c2VjYW5jZWwiLGgpLmJpbmQoInZtb3VzZXVwIixlKS5iaW5kKCJ2Y2xpY2siLGcpO3A9c2V0VGltZW91dChmdW5jdGlvbigpe2QoYiwidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIpKX0sNzUwKX0pfX07YS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjEwLGR1cmF0aW9uVGhyZXNob2xkOjFFMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzZXR1cDpmdW5jdGlvbigpe3ZhciBkPWEodGhpcyk7ZC5iaW5kKGMsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZihiKXtpZihuKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiO3E9e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldfTtNYXRoLmFicyhuLmNvb3Jkc1swXS1xLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJgpiLnByZXZlbnREZWZhdWx0KCl9fXZhciBlPWMub3JpZ2luYWxFdmVudC50b3VjaGVzP2Mub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmMsbj17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2UucGFnZVgsZS5wYWdlWV0sb3JpZ2luOmEoYy50YXJnZXQpfSxxO2QuYmluZChnLGYpLm9uZShoLGZ1bmN0aW9uKCl7ZC51bmJpbmQoZyxmKTtuJiZxJiZxLnRpbWUtbi50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMobi5jb29yZHNbMF0tcS5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKG4uY29vcmRzWzFdLXEuY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCYmbi5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKG4uY29vcmRzWzBdPnEuY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iik7Cm49cT1ifSl9KX19OyhmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1mKCk7YSE9PWUmJihlPWEsZC50cmlnZ2VyKCJvcmllbnRhdGlvbmNoYW5nZSIpKX12YXIgZD1hKGIpLGYsZSxoLGcsbT17MDp0cnVlLDE4MDp0cnVlfTtpZihhLnN1cHBvcnQub3JpZW50YXRpb24mJihoPWEubW9iaWxlLm1lZGlhKCJhbGwgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKSIpLGc9bVtiLm9yaWVudGF0aW9uXSxoJiZnfHwhaCYmIWcpKW09eyItOTAiOnRydWUsOTA6dHJ1ZX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTtlPWYoKTtkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiZhLm1vYmlsZS5vcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQpcmV0dXJuIGZhbHNlOwpkLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixjKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbj1mKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1mPWZ1bmN0aW9uKCl7dmFyIGM9dHJ1ZSxjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtyZXR1cm4oYz1hLnN1cHBvcnQub3JpZW50YXRpb24/bVtiLm9yaWVudGF0aW9uXTpjJiZjLmNsaWVudFdpZHRoL2MuY2xpZW50SGVpZ2h0PDEuMSk/InBvcnRyYWl0IjoibGFuZHNjYXBlIn19KShqUXVlcnksZSk7KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYil9fTt2YXIgYj1mdW5jdGlvbigpe2Y9CihuZXcgRGF0ZSkuZ2V0VGltZSgpO2U9Zi1jO2U+PTI1MD8oYz1mLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihkJiZjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGIsMjUwLWUpKX0sYz0wLGQsZixlfSkoKTthLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhLGUsYil7ZnVuY3Rpb24gZChhKXthPWF8fGxvY2F0aW9uLmhyZWY7cmV0dXJuIiMiK2EucmVwbGFjZSgvXlteI10qIz8oLiopJC8sIiQxIil9dmFyIGY9Imhhc2hjaGFuZ2UiLGM9ZG9jdW1lbnQsaCxnPWEuZXZlbnQuc3BlY2lhbCxpPWMuZG9jdW1lbnRNb2RlLGw9Im9uIitmIGluIGUmJihpPT09Ynx8aT43KTthLmZuW2ZdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChmLGEpOnRoaXMudHJpZ2dlcihmKX07YS5mbltmXS5kZWxheT01MDtnW2ZdPWEuZXh0ZW5kKGdbZl0se3NldHVwOmZ1bmN0aW9uKCl7aWYobClyZXR1cm4gZmFsc2U7YShoLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihsKXJldHVybiBmYWxzZTthKGguc3RvcCl9fSk7aD1mdW5jdGlvbigpe2Z1bmN0aW9uIGgoKXt2YXIgYj1kKCksYz1tKHEpO2lmKGIhPT1xKXAocT1iLGMpLGEoZSkudHJpZ2dlcihmKTtlbHNlIGlmKGMhPT1xKWxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLAoiIikrYztpPXNldFRpbWVvdXQoaCxhLmZuW2ZdLmRlbGF5KX12YXIgZz17fSxpLHE9ZCgpLGo9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHA9aixtPWo7Zy5zdGFydD1mdW5jdGlvbigpe2l8fGgoKX07Zy5zdG9wPWZ1bmN0aW9uKCl7aSYmY2xlYXJUaW1lb3V0KGkpO2k9Yn07YS5icm93c2VyLm1zaWUmJiFsJiZmdW5jdGlvbigpe3ZhciBiLGU7Zy5zdGFydD1mdW5jdGlvbigpe2lmKCFiKWU9KGU9YS5mbltmXS5zcmMpJiZlK2QoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2V8fHAoZCgpKTtoKCl9KS5hdHRyKCJzcmMiLGV8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csYy5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2lmKGV2ZW50LnByb3BlcnR5TmFtZT09PSJ0aXRsZSIpYi5kb2N1bWVudC50aXRsZT1jLnRpdGxlfWNhdGNoKGEpe319fTsKZy5zdG9wPWo7bT1mdW5jdGlvbigpe3JldHVybiBkKGIubG9jYXRpb24uaHJlZil9O3A9ZnVuY3Rpb24oZCxlKXt2YXIgaD1iLmRvY3VtZW50LGc9YS5mbltmXS5kb21haW47aWYoZCE9PWUpaC50aXRsZT1jLnRpdGxlLGgub3BlbigpLGcmJmgud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2crJyI8XC9zY3JpcHQ+JyksaC5jbG9zZSgpLGIubG9jYXRpb24uaGFzaD1kfX0oKTtyZXR1cm4gZ30oKX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ZmFsc2Usa2VlcE5hdGl2ZURlZmF1bHQ6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpO3RoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zO3JldHVybiBlLmtlZXBOYXRpdmUmJmEudHJpbShlLmtlZXBOYXRpdmUpJiZlLmtlZXBOYXRpdmUhPT1lLmtlZXBOYXRpdmVEZWZhdWx0P1tlLmtlZXBOYXRpdmUsZS5rZWVwTmF0aXZlRGVmYXVsdF0uam9pbigiLCAiKTplLmtlZXBOYXRpdmVEZWZhdWx0fX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7dmFyIGI9e307YS5leHRlbmQoYS5tb2JpbGUse25zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixhamF4RW5hYmxlZDp0cnVlLGhhc2hMaXN0ZW5pbmdFbmFibGVkOnRydWUsbGlua0JpbmRpbmdFbmFibGVkOnRydWUsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJzbGlkZSIsbWluU2Nyb2xsQmFjazoyNTAsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIsbG9hZGluZ01lc3NhZ2U6ImxvYWRpbmciLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLGF1dG9Jbml0aWFsaXplUGFnZTp0cnVlLHB1c2hTdGF0ZUVuYWJsZWQ6dHJ1ZSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6dHJ1ZSxncmFkZUE6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIuaWUmJmEubW9iaWxlLmJyb3dzZXIuaWU+PQo3fSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKSE9PSJudW1iZXIiKWI9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ZmFsc2U7CnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnNjcm9sbFRvKDAsYik7YShkb2N1bWVudCkudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6Yn0pfSwyMCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPXRydWV9LDE1MCl9LG5zTm9ybWFsaXplRGljdDpiLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGMpe3JldHVybiFjP3ZvaWQgMDpiW2NdfHwoYltjXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytjKSl9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkPWFbMF0sZj0iIixlPS91aS0oYmFyfGJvZHkpLShbYS16XSlcYi8sayxvO2Q7KXtrPWQuY2xhc3NOYW1lfHwiIjtpZigobz1lLmV4ZWMoaykpJiYoZj1vWzJdKSlicmVhaztkPWQucGFyZW50Tm9kZX1yZXR1cm4gZnx8Ynx8ImEifSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpLCA6anFtRGF0YShyb2xlPSJkaWFsb2ciKScpLmRhdGEoInBhZ2UiKX19KTsKYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsZCl7dmFyIGY7dHlwZW9mIGIhPSJ1bmRlZmluZWQiJiYoZj10aGlzLmRhdGEoYj9hLm1vYmlsZS5uc05vcm1hbGl6ZShiKTpiLGQpKTtyZXR1cm4gZn07YS5qcW1EYXRhPWZ1bmN0aW9uKGIsZCxmKXt2YXIgZTt0eXBlb2YgZCE9InVuZGVmaW5lZCImJihlPWEuZGF0YShiLGQ/YS5tb2JpbGUubnNOb3JtYWxpemUoZCk6ZCxmKSk7cmV0dXJuIGV9O2EuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX07YS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGQpKX07YS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9O2EucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7Yj1hKGIpOyhiLmpxbURhdGEoImRlcGVuZGVudHMiKXx8CmEoKSkucmVtb3ZlKCk7Yi5yZW1vdmUoKX07YS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyhhKHRoaXMpLGIpfTthLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixkKXt2YXIgZj1hKGIpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2EoYikuanFtRGF0YSgiZGVwZW5kZW50cyIsYS5tZXJnZShmLGQpKX07YS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKS50ZXh0KGEodGhpcykudGV4dCgpKS5odG1sKCl9O3ZhciBkPWEuZmluZCxmPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5maW5kPWZ1bmN0aW9uKGIsZSxnLGkpe2I9Yi5yZXBsYWNlKGYsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpO3JldHVybiBkLmNhbGwodGhpcyxiLGUsZyxpKX07YS5leHRlbmQoYS5maW5kLGQpO2EuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxkKX07YS5maW5kLm1hdGNoZXNTZWxlY3Rvcj0KZnVuY3Rpb24oYixkKXtyZXR1cm4gYS5maW5kKGQsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIik7Yi5sZW5ndGg/Yi5mb2N1cygpOmEuZm9jdXMoKX1mdW5jdGlvbiBkKGIpe3AmJighcC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGh8fGIpJiZwLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtwPW51bGx9ZnVuY3Rpb24gZigpe3o9ZmFsc2U7QS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLEEucG9wKCkpfWZ1bmN0aW9uIGMoYyxkLGYsZSl7dmFyIGc9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxqPWEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCxpPWcubGFzdFNjcm9sbHx8KGo/MDphLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksZz1oKCk7d2luZG93LnNjcm9sbFRvKDAsYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpO2QmJmQuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIiwKbnVsbCx7bmV4dFBhZ2U6Y30pO2p8fGMuaGVpZ2h0KGcraSk7Yy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZXNob3ciLG51bGwse3ByZXZQYWdlOmR8fGEoIiIpfSk7YS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk7aiYmaSYmKGMuYWRkQ2xhc3MoInVpLW1vYmlsZS1wcmUtdHJhbnNpdGlvbiIpLGIoYyksYy5pcygiLnVpLW5hdGl2ZS1maXhlZCIpP2MuZmluZCgiLnVpLWNvbnRlbnQiKS5zY3JvbGxUb3AoaSk6Yy5zY3JvbGxUb3AoaSkpO2Y9KGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tmfHwibm9uZSJdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIpKGYsZSxjLGQpO2YuZG9uZShmdW5jdGlvbigpe2p8fChjLmhlaWdodCgiIiksYihjKSk7anx8YS5tb2JpbGUuc2lsZW50U2Nyb2xsKGkpO2QmJihqfHxkLmhlaWdodCgiIiksZC5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmN9KSk7Yy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoInNob3ciLApudWxsLHtwcmV2UGFnZTpkfHxhKCIiKX0pfSk7cmV0dXJuIGZ9ZnVuY3Rpb24gaCgpe3ZhciBiPWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbigpPT09InBvcnRyYWl0IixjPWI/c2NyZWVuLmF2YWlsSGVpZ2h0OnNjcmVlbi5hdmFpbFdpZHRoLGI9TWF0aC5tYXgoYj80ODA6MzIwLGEod2luZG93KS5oZWlnaHQoKSk7cmV0dXJuIE1hdGgubWluKGMsYil9ZnVuY3Rpb24gZygpeyghYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fCFhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCkmJmEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykuY3NzKCJtaW4taGVpZ2h0IixoKCkpfWZ1bmN0aW9uIGkoYixjKXtjJiZiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsYyk7Yi5wYWdlKCl9ZnVuY3Rpb24gbChhKXtmb3IoO2E7KXtpZih0eXBlb2YgYS5ub2RlTmFtZT09PSJzdHJpbmciJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSJhIilicmVhazsKYT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gayhiKXt2YXIgYj1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksYz1zLmhyZWZOb0hhc2g7aWYoIWJ8fCFqLmlzUGF0aChiKSliPWM7cmV0dXJuIGoubWFrZVVybEFic29sdXRlKGIsYyl9dmFyIG89YSh3aW5kb3cpLG49YSgiaHRtbCIpLHE9YSgiaGVhZCIpLGo9e3VybFBhcnNlUkU6L14oKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxwYXJzZVVybDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYik9PT0ib2JqZWN0IilyZXR1cm4gYjtiPWoudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6YlswXXx8IiIsaHJlZk5vSGFzaDpiWzFdfHwKIiIsaHJlZk5vU2VhcmNoOmJbMl18fCIiLGRvbWFpbjpiWzNdfHwiIixwcm90b2NvbDpiWzRdfHwiIixkb3VibGVTbGFzaDpiWzVdfHwiIixhdXRob3JpdHk6Yls2XXx8IiIsdXNlcm5hbWU6Yls4XXx8IiIscGFzc3dvcmQ6Yls5XXx8IiIsaG9zdDpiWzEwXXx8IiIsaG9zdG5hbWU6YlsxMV18fCIiLHBvcnQ6YlsxMl18fCIiLHBhdGhuYW1lOmJbMTNdfHwiIixkaXJlY3Rvcnk6YlsxNF18fCIiLGZpbGVuYW1lOmJbMTVdfHwiIixzZWFyY2g6YlsxNl18fCIiLGhhc2g6YlsxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKGEmJmEuY2hhckF0KDApPT09Ii8iKXJldHVybiBhO2Zvcih2YXIgYT1hfHwiIixjPShiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiKT9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZT1kW2ZdO3N3aXRjaChlKXtjYXNlICIuIjpicmVhaztjYXNlICIuLiI6Yy5sZW5ndGgmJgpjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGUpfX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBqLnBhcnNlVXJsKGEpLmRvbWFpbj09PWoucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBqLnBhcnNlVXJsKGEpLnByb3RvY29sPT09IiJ9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGoucGFyc2VVcmwoYSkucHJvdG9jb2whPT0iIn0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWouaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTt2YXIgYz1qLnBhcnNlVXJsKGEpLGQ9ai5wYXJzZVVybChiKSxmPWMucHJvdG9jb2x8fGQucHJvdG9jb2wsZT1jLnByb3RvY29sP2MuZG91YmxlU2xhc2g6Yy5kb3VibGVTbGFzaHx8ZC5kb3VibGVTbGFzaCxoPWMuYXV0aG9yaXR5fHxkLmF1dGhvcml0eSxnPWMucGF0aG5hbWUhPT0iIixpPWoubWFrZVBhdGhBYnNvbHV0ZShjLnBhdGhuYW1lfHwKZC5maWxlbmFtZSxkLnBhdGhuYW1lKTtyZXR1cm4gZitlK2graSsoYy5zZWFyY2h8fCFnJiZkLnNlYXJjaHx8IiIpK2MuaGFzaH0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ai5wYXJzZVVybChiKSxmPXR5cGVvZiBjPT09Im9iamVjdCI/YS5wYXJhbShjKTpjLGU9ZC5zZWFyY2h8fCI/IjtyZXR1cm4gZC5ocmVmTm9TZWFyY2grZSsoZS5jaGFyQXQoZS5sZW5ndGgtMSkhPT0iPyI/IiYiOiIiKStmKyhkLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYj1qLnBhcnNlVXJsKGEpO2lmKGouaXNFbWJlZGRlZFBhZ2UoYikpcmV0dXJuIGIuaGFzaC5zcGxpdCh0KVswXS5yZXBsYWNlKC9eIy8sIiIpO2Vsc2UgaWYoai5pc1NhbWVEb21haW4oYixzKSlyZXR1cm4gYi5ocmVmTm9IYXNoLnJlcGxhY2Uocy5kb21haW4sIiIpO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSl7aWYoYT09PWUpYT1sb2NhdGlvbi5oYXNoO3JldHVybiBqLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywKIiIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleTtyZXR1cm4gYiYmYi5zcGxpdChjKVswXS5zcGxpdCh0KVswXX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShzLmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGouc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKHQsIiIpKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXthPWoucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2wmJmEuZG9tYWluIT09di5kb21haW4/dHJ1ZTpmYWxzZX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChhKX0saXNGaXJzdFBhZ2VVcmw6ZnVuY3Rpb24oYil7dmFyIGI9CmoucGFyc2VVcmwoai5tYWtlVXJsQWJzb2x1dGUoYixzKSksYz1hLm1vYmlsZS5maXJzdFBhZ2UsYz1jJiZjWzBdP2NbMF0uaWQ6ZTtyZXR1cm4oYi5ocmVmTm9IYXNoPT09di5ocmVmTm9IYXNofHx4JiZiLmhyZWZOb0hhc2g9PT1zLmhyZWZOb0hhc2gpJiYoIWIuaGFzaHx8Yi5oYXNoPT09IiMifHxjJiZiLmhhc2gucmVwbGFjZSgvXiMvLCIiKT09PWMpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXthPWoucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2whPT0iIj9hLmhhc2gmJihhLmhyZWZOb0hhc2g9PT12LmhyZWZOb0hhc2h8fHgmJmEuaHJlZk5vSGFzaD09PXMuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGEuaHJlZil9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmYi5wcm90b2NvbD09PSJmaWxlOiImJmMuc2VhcmNoKC9eaHR0cHM/Oi8pIT0tMX19LHA9bnVsbCxtPXtzdGFjazpbXSwKYWN0aXZlSW5kZXg6MCxnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5zdGFja1ttLmFjdGl2ZUluZGV4XX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiBtLnN0YWNrW20uYWN0aXZlSW5kZXgtMV19LGdldE5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5zdGFja1ttLmFjdGl2ZUluZGV4KzFdfSxhZGROZXc6ZnVuY3Rpb24oYSxiLGMsZCxmKXttLmdldE5leHQoKSYmbS5jbGVhckZvcndhcmQoKTttLnN0YWNrLnB1c2goe3VybDphLHRyYW5zaXRpb246Yix0aXRsZTpjLHBhZ2VVcmw6ZCxyb2xlOmZ9KTttLmFjdGl2ZUluZGV4PW0uc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe20uc3RhY2s9bS5zdGFjay5zbGljZSgwLG0uYWN0aXZlSW5kZXgrMSl9LGRpcmVjdEhhc2hDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGMsZCxmO3RoaXMuZ2V0QWN0aXZlKCk7YS5lYWNoKG0uc3RhY2ssZnVuY3Rpb24oYSxlKXtiLmN1cnJlbnRVcmw9PT1lLnVybCYmKGM9YTxtLmFjdGl2ZUluZGV4LApkPSFjLGY9YSl9KTt0aGlzLmFjdGl2ZUluZGV4PWYhPT1lP2Y6dGhpcy5hY3RpdmVJbmRleDtjPyhiLmVpdGhlcnx8Yi5pc0JhY2spKHRydWUpOmQmJihiLmVpdGhlcnx8Yi5pc0ZvcndhcmQpKGZhbHNlKX0saWdub3JlTmV4dEhhc2hDaGFuZ2U6ZmFsc2V9LEE9W10sej1mYWxzZSx0PSImdWktc3RhdGU9ZGlhbG9nIix3PXEuY2hpbGRyZW4oImJhc2UiKSx2PWoucGFyc2VVcmwobG9jYXRpb24uaHJlZikscz13Lmxlbmd0aD9qLnBhcnNlVXJsKGoubWFrZVVybEFic29sdXRlKHcuYXR0cigiaHJlZiIpLHYuaHJlZikpOnYseD12LmhyZWZOb0hhc2ghPT1zLmhyZWZOb0hhc2gsdT1hLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWc/e2VsZW1lbnQ6dy5sZW5ndGg/dzphKCI8YmFzZT4iLHtocmVmOnMuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhxKSxzZXQ6ZnVuY3Rpb24oYSl7dS5lbGVtZW50LmF0dHIoImhyZWYiLGoubWFrZVVybEFic29sdXRlKGEscykpfSxyZXNldDpmdW5jdGlvbigpe3UuZWxlbWVudC5hdHRyKCJocmVmIiwKcy5ocmVmTm9IYXNoKX19OmUsQz10cnVlLHksRSxCO3k9ZnVuY3Rpb24oKXt2YXIgYj1vO2Euc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCYmKGI9YSgiLnVpLXBhZ2UtYWN0aXZlIiksYj1iLmlzKCIudWktbmF0aXZlLWZpeGVkIik/Yi5maW5kKCIudWktY29udGVudCIpOmIpO3JldHVybiBifTtFPWZ1bmN0aW9uKGIpe2lmKEMpe3ZhciBjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7aWYoYyliPWImJmIuc2Nyb2xsVG9wKCksYy5sYXN0U2Nyb2xsPWI8YS5tb2JpbGUubWluU2Nyb2xsQmFjaz9hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDpifX07Qj1mdW5jdGlvbigpe3NldFRpbWVvdXQoRSwxMDAsYSh0aGlzKSl9O28uYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7Qz1mYWxzZX0pO28ub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsCmZ1bmN0aW9uKCl7Qz10cnVlfSk7by5vbmUoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCJwYWdlY2hhbmdlIixmdW5jdGlvbigpe3ZhciBhPXkoKTtDPXRydWU7YS51bmJpbmQoInNjcm9sbHN0b3AiLEIpO2EuYmluZCgic2Nyb2xsc3RvcCIsQil9KX0pO3koKS5iaW5kKCJzY3JvbGxzdG9wIixCKTthLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQ9aDthLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCIsYik6KHNldFRpbWVvdXQoYiwwKSxhKHRoaXMpKX07YS5tb2JpbGUucGF0aD1qO2EubW9iaWxlLmJhc2U9dTthLm1vYmlsZS51cmxIaXN0b3J5PW07YS5tb2JpbGUuZGlhbG9nSGFzaEtleT10O2EubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcj1mdW5jdGlvbihiLGMsZCxmKXtmJiZmLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7CmQuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtyZXR1cm4gYS5EZWZlcnJlZCgpLnJlc29sdmUoYixjLGQsZikucHJvbWlzZSgpfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9YS5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyO2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17bm9uZTphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXJ9O2EubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcz1mYWxzZTthLm1vYmlsZS5nZXREb2N1bWVudFVybD1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSx2KTp2LmhyZWZ9O2EubW9iaWxlLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxzKTpzLmhyZWZ9O2EubW9iaWxlLl9iaW5kUGFnZVJlbW92ZT1mdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7IWIuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGUmJmIuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiYKYi5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpO2MuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfTthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBkPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGg9bnVsbCxnPW51bGwsbj1qLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLmFjdGl2ZVBhZ2UmJmsoYS5tb2JpbGUuYWN0aXZlUGFnZSl8fHMuaHJlZk5vSGFzaCk7aWYoZi5kYXRhJiZmLnR5cGU9PT0iZ2V0IiluPWouYWRkU2VhcmNoUGFyYW1zKG4sZi5kYXRhKSxmLmRhdGE9ZTtpZihmLmRhdGEmJmYudHlwZT09PSJwb3N0IilmLnJlbG9hZFBhZ2U9dHJ1ZTt2YXIgdD1qLmdldEZpbGVQYXRoKG4pLG09ai5jb252ZXJ0VXJsVG9EYXRhVXJsKG4pO2YucGFnZUNvbnRhaW5lcj0KZi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2g9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCI6anFtRGF0YSh1cmw9JyIrbSsiJykiKTtoLmxlbmd0aD09PTAmJm0mJiFqLmlzUGF0aChtKSYmKGg9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIittKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbSkpO2lmKGgubGVuZ3RoPT09MClpZihhLm1vYmlsZS5maXJzdFBhZ2UmJmouaXNGaXJzdFBhZ2VVcmwodCkpYS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmxlbmd0aCYmKGg9YShhLm1vYmlsZS5maXJzdFBhZ2UpKTtlbHNlIGlmKGouaXNFbWJlZGRlZFBhZ2UodCkpcmV0dXJuIGQucmVqZWN0KG4sYyksZC5wcm9taXNlKCk7dSYmdS5yZXNldCgpO2lmKGgubGVuZ3RoKXtpZighZi5yZWxvYWRQYWdlKXJldHVybiBpKGgsZi5yb2xlKSxkLnJlc29sdmUobixjLGgpLGQucHJvbWlzZSgpO2c9aH12YXIgcT1mLnBhZ2VDb250YWluZXIsbD1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWxvYWQiKSwKcD17dXJsOmIsYWJzVXJsOm4sZGF0YVVybDptLGRlZmVycmVkOmQsb3B0aW9uczpmfTtxLnRyaWdnZXIobCxwKTtpZihsLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBkLnByb21pc2UoKTtpZihmLnNob3dMb2FkTXNnKXZhciB3PXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sZi5sb2FkTXNnRGVsYXkpOyFhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJiFqLmlzU2FtZURvbWFpbih2LG4pP2QucmVqZWN0KG4sYyk6YS5hamF4KHt1cmw6dCx0eXBlOmYudHlwZSxkYXRhOmYuZGF0YSxkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihlLHEsayl7dmFyIGw9YSgiPGRpdj48L2Rpdj4iKSxvPWUubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxLHM9UmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7UmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iKwphLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KSIpLnRlc3QoZSkmJlJlZ0V4cC4kMSYmcy50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGI9dD1qLmdldEZpbGVQYXRoKFJlZ0V4cC4kMSkpO3UmJnUuc2V0KHQpO2wuZ2V0KDApLmlubmVySFRNTD1lO2g9bC5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKTtoLmxlbmd0aHx8KGg9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPiIrZS5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ21pKVsxXSsiPC9kaXY+IikpO28mJiFoLmpxbURhdGEoInRpdGxlIikmJih+by5pbmRleE9mKCImIikmJihvPWEoIjxkaXY+IitvKyI8L2Rpdj4iKS50ZXh0KCkpLGguanFtRGF0YSgidGl0bGUiLG8pKTtpZighYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnKXt2YXIgdj1qLmdldCh0KTtoLmZpbmQoIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPQphKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKSxjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpOy9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHYrYyl9KX1oLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixqLmNvbnZlcnRVcmxUb0RhdGFVcmwodCkpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsdHJ1ZSkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKTtoLm9uZSgicGFnZWNyZWF0ZSIsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlKTtpKGgsZi5yb2xlKTtuLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoaD1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIjpqcW1EYXRhKHVybD0nIittKyInKSIpKTtmLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KHcpLAphLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSk7cC54aHI9aztwLnRleHRTdGF0dXM9cTtwLnBhZ2U9aDtmLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWxvYWQiLHApO2QucmVzb2x2ZShuLGMsaCxnKX0sZXJyb3I6ZnVuY3Rpb24oYixlLGgpe3UmJnUuc2V0KGouZ2V0KCkpO3AueGhyPWI7cC50ZXh0U3RhdHVzPWU7cC5lcnJvclRocm93bj1oO2I9bmV3IGEuRXZlbnQoInBhZ2Vsb2FkZmFpbGVkIik7Zi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoYixwKTtiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZi5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dCh3KSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxhKCI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktb3ZlcmxheS1zaGFkb3cgdWktYm9keS1lIHVpLWNvcm5lci1hbGwnPjxoMT4iK2EubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlKyI8L2gxPjwvZGl2PiIpLmNzcyh7ZGlzcGxheToiYmxvY2siLG9wYWNpdHk6MC45NiwKdG9wOm8uc2Nyb2xsVG9wKCkrMTAwfSkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKS5kZWxheSg4MDApLmZhZGVPdXQoNDAwLGZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmUoKX0pKSxkLnJlamVjdChuLGMpKX19KTtyZXR1cm4gZC5wcm9taXNlKCl9O2EubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOiJnZXQiLGRhdGE6ZSxyZWxvYWRQYWdlOmZhbHNlLHJvbGU6ZSxzaG93TG9hZE1zZzpmYWxzZSxwYWdlQ29udGFpbmVyOmUsbG9hZE1zZ0RlbGF5OjUwfTthLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKGIsaCl7aWYoeilBLnVuc2hpZnQoYXJndW1lbnRzKTtlbHNle3ZhciBnPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsaCk7Zy5wYWdlQ29udGFpbmVyPWcucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtnLmZyb21QYWdlPWcuZnJvbVBhZ2V8fGEubW9iaWxlLmFjdGl2ZVBhZ2U7dmFyIHE9Zy5wYWdlQ29udGFpbmVyLGw9Cm5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlY2hhbmdlIiksaz17dG9QYWdlOmIsb3B0aW9uczpnfTtxLnRyaWdnZXIobCxrKTtpZighbC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlpZihiPWsudG9QYWdlLHo9dHJ1ZSx0eXBlb2YgYj09InN0cmluZyIpYS5tb2JpbGUubG9hZFBhZ2UoYixnKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGYpe3o9ZmFsc2U7Yy5kdXBsaWNhdGVDYWNoZWRQYWdlPWY7YS5tb2JpbGUuY2hhbmdlUGFnZShkLGMpfSkuZmFpbChmdW5jdGlvbigpe3o9ZmFsc2U7ZCh0cnVlKTtmKCk7Zy5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2VjaGFuZ2VmYWlsZWQiLGspfSk7ZWxzZXtpZihiWzBdPT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiYhZy5kYXRhVXJsKWcuZGF0YVVybD12LmhyZWZOb0hhc2g7dmFyIGw9Zy5mcm9tUGFnZSxwPWcuZGF0YVVybCYmai5jb252ZXJ0VXJsVG9EYXRhVXJsKGcuZGF0YVVybCl8fGIuanFtRGF0YSgidXJsIiksbz1wO2ouZ2V0RmlsZVBhdGgocCk7dmFyIHM9Cm0uZ2V0QWN0aXZlKCksdz1tLmFjdGl2ZUluZGV4PT09MCx4PTAsdT1kb2N1bWVudC50aXRsZSx5PWcucm9sZT09PSJkaWFsb2cifHxiLmpxbURhdGEoInJvbGUiKT09PSJkaWFsb2ciO2lmKGwmJmxbMF09PT1iWzBdJiYhZy5hbGxvd1NhbWVQYWdlVHJhbnNpdGlvbil6PWZhbHNlLHEudHJpZ2dlcigicGFnZWNoYW5nZSIsayk7ZWxzZXtpKGIsZy5yb2xlKTtnLmZyb21IYXNoQ2hhbmdlJiZtLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6cCxpc0JhY2s6ZnVuY3Rpb24oKXt4PS0xfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt4PTF9fSk7dHJ5e2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9ImJvZHkiP2EoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKEMpe315JiZzJiYocD0ocy51cmx8fAoiIikrdCk7aWYoZy5jaGFuZ2VIYXNoIT09ZmFsc2UmJnApbS5pZ25vcmVOZXh0SGFzaENoYW5nZT10cnVlLGouc2V0KHApO3ZhciBCPSFzP3U6Yi5qcW1EYXRhKCJ0aXRsZSIpfHxiLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpbmQoIi51aS10aXRsZSIpLmdldEVuY29kZWRUZXh0KCk7QiYmdT09ZG9jdW1lbnQudGl0bGUmJih1PUIpO2IuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIsdSk7Zy50cmFuc2l0aW9uPWcudHJhbnNpdGlvbnx8KHgmJiF3P3MudHJhbnNpdGlvbjplKXx8KHk/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKTt4fHxtLmFkZE5ldyhwLGcudHJhbnNpdGlvbix1LG8sZy5yb2xlKTtkb2N1bWVudC50aXRsZT1tLmdldEFjdGl2ZSgpLnRpdGxlO2EubW9iaWxlLmFjdGl2ZVBhZ2U9YjtnLnJldmVyc2U9Zy5yZXZlcnNlfHx4PDA7YyhiLGwsZy50cmFuc2l0aW9uLApnLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oKXtkKCk7Zy5kdXBsaWNhdGVDYWNoZWRQYWdlJiZnLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7bi5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpO2YoKTtxLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGspfSl9fX19O2EubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9e3RyYW5zaXRpb246ZSxyZXZlcnNlOmZhbHNlLGNoYW5nZUhhc2g6dHJ1ZSxmcm9tSGFzaENoYW5nZTpmYWxzZSxyb2xlOmUsZHVwbGljYXRlQ2FjaGVkUGFnZTplLHBhZ2VDb250YWluZXI6ZSxzaG93TG9hZE1zZzp0cnVlLGRhdGFVcmw6ZSxmcm9tUGFnZTplLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOmZhbHNlfTthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe2EoZG9jdW1lbnQpLmRlbGVnYXRlKCJmb3JtIiwic3VibWl0IixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpO2lmKGEubW9iaWxlLmFqYXhFbmFibGVkJiYhYy5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpKXt2YXIgZD0KYy5hdHRyKCJtZXRob2QiKSxmPWMuYXR0cigidGFyZ2V0IiksZT1jLmF0dHIoImFjdGlvbiIpO2lmKCFlJiYoZT1rKGMpLGU9PT1zLmhyZWZOb0hhc2gpKWU9di5ocmVmTm9TZWFyY2g7ZT1qLm1ha2VVcmxBYnNvbHV0ZShlLGsoYykpO2ouaXNFeHRlcm5hbChlKSYmIWouaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QodixlKXx8Znx8KGEubW9iaWxlLmNoYW5nZVBhZ2UoZSx7dHlwZTpkJiZkLmxlbmd0aCYmZC50b0xvd2VyQ2FzZSgpfHwiZ2V0IixkYXRhOmMuc2VyaWFsaXplKCksdHJhbnNpdGlvbjpjLmpxbURhdGEoInRyYW5zaXRpb24iKSxkaXJlY3Rpb246Yy5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOnRydWV9KSxiLnByZXZlbnREZWZhdWx0KCkpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7aWYoIShiLndoaWNoPjEpJiZhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJihiPWwoYi50YXJnZXQpKSYmai5wYXJzZVVybChiLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwKIiMiKS5oYXNoIT09IiMiKWQodHJ1ZSkscD1hKGIpLmNsb3Nlc3QoIi51aS1idG4iKS5ub3QoIi51aS1kaXNhYmxlZCIpLHAuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIC51aS1idG4iKS5ub3QoYikuYmx1cigpfSk7YShkb2N1bWVudCkuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGIpe2lmKGEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7dmFyIGM9bChiLnRhcmdldCk7aWYoYyYmIShiLndoaWNoPjEpKXt2YXIgZj1hKGMpLGg9ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2QodHJ1ZSl9LDIwMCl9O2lmKGYuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIHdpbmRvdy5oaXN0b3J5LmJhY2soKSxmYWxzZTt2YXIgZz1rKGYpLGM9ai5tYWtlVXJsQWJzb2x1dGUoZi5hdHRyKCJocmVmIil8fCIjIixnKTtpZighYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFqLmlzRW1iZWRkZWRQYWdlKGMpKWgoKTsKZWxzZXtpZihjLnNlYXJjaCgiIyIpIT0tMSlpZihjPWMucmVwbGFjZSgvW14jXSojLywiIikpYz1qLmlzUGF0aChjKT9qLm1ha2VVcmxBYnNvbHV0ZShjLGcpOmoubWFrZVVybEFic29sdXRlKCIjIitjLHYuaHJlZk5vSGFzaCk7ZWxzZXtiLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufWYuaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8Zi5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxmLmlzKCJbdGFyZ2V0XSIpfHxqLmlzRXh0ZXJuYWwoYykmJiFqLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHYsYyk/aCgpOihoPWYuanFtRGF0YSgidHJhbnNpdGlvbiIpLGc9KGc9Zi5qcW1EYXRhKCJkaXJlY3Rpb24iKSkmJmc9PT0icmV2ZXJzZSJ8fGYuanFtRGF0YSgiYmFjayIpLGY9Zi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfHxlLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyx7dHJhbnNpdGlvbjpoLHJldmVyc2U6Zyxyb2xlOmZ9KSxiLnByZXZlbnREZWZhdWx0KCkpfX19fSk7CmEoZG9jdW1lbnQpLmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGY9Yy5hdHRyKCJocmVmIik7ZiYmYS5pbkFycmF5KGYsYik9PT0tMSYmKGIucHVzaChmKSxhLm1vYmlsZS5sb2FkUGFnZShmLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKX0pKX0pfSk7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYil7dmFyIGM9ai5zdHJpcEhhc2goYiksZj17dHJhbnNpdGlvbjphLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/Im5vbmUiOmUsY2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfTtpZighYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fG0uaWdub3JlTmV4dEhhc2hDaGFuZ2UpbS5pZ25vcmVOZXh0SGFzaENoYW5nZT1mYWxzZTsKZWxzZXtpZihtLnN0YWNrLmxlbmd0aD4xJiZjLmluZGV4T2YodCk+LTEpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKW0uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpjLGVpdGhlcjpmdW5jdGlvbihiKXt2YXIgZD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2M9ZC5wYWdlVXJsO2EuZXh0ZW5kKGYse3JvbGU6ZC5yb2xlLHRyYW5zaXRpb246ZC50cmFuc2l0aW9uLHJldmVyc2U6Yn0pfX0pO2Vsc2V7bS5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmMsaXNCYWNrOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5mb3J3YXJkKCl9fSk7cmV0dXJufWM/KGM9dHlwZW9mIGM9PT0ic3RyaW5nIiYmIWouaXNQYXRoKGMpP2oubWFrZVVybEFic29sdXRlKCIjIitjLHMpOmMsYS5tb2JpbGUuY2hhbmdlUGFnZShjLGYpKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSwKZil9fTtvLmJpbmQoImhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UobG9jYXRpb24uaGFzaCl9KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlc2hvdyIsZyk7YSh3aW5kb3cpLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsZyl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7dmFyIGI9e30sZD1hKGUpLGY9YS5tb2JpbGUucGF0aC5wYXJzZVVybChsb2NhdGlvbi5ocmVmKTthLmV4dGVuZChiLHtpbml0aWFsRmlsZVBhdGg6Zi5wYXRobmFtZStmLnNlYXJjaCxpbml0aWFsSHJlZjpmLmhyZWZOb0hhc2gsaGFzaGNoYW5nZUZpcmVkOmZhbHNlLHN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2hhc2g6bG9jYXRpb24uaGFzaHx8IiMiK2IuaW5pdGlhbEZpbGVQYXRoLHRpdGxlOmRvY3VtZW50LnRpdGxlLGluaXRpYWxIcmVmOmIuaW5pdGlhbEhyZWZ9fSxyZXNldFVJS2V5czpmdW5jdGlvbihiKXt2YXIgZj0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSxkPWIuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KTtkPi0xP2I9Yi5zbGljZSgwLGQpKyIjIitiLnNsaWNlKGQpOmIuaW5kZXhPZihmKT4tMSYmKGI9Yi5zcGxpdChmKS5qb2luKCIjIitmKSk7cmV0dXJuIGJ9LG5leHRIYXNoQ2hhbmdlUHJldmVudGVkOmZ1bmN0aW9uKGMpe2EubW9iaWxlLnVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2U9CmM7Yi5vbkhhc2hDaGFuZ2VEaXNhYmxlZD1jfSxvbkhhc2hDaGFuZ2U6ZnVuY3Rpb24oKXtpZighYi5vbkhhc2hDaGFuZ2VEaXNhYmxlZCl7dmFyIGMsZjtjPWxvY2F0aW9uLmhhc2g7dmFyIGQ9YS5tb2JpbGUucGF0aC5pc1BhdGgoYyksZT1kP2xvY2F0aW9uLmhyZWY6YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmwoKTtjPWQ/Yy5yZXBsYWNlKCIjIiwiIik6YztmPWIuc3RhdGUoKTtjPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGMsZSk7ZCYmKGM9Yi5yZXNldFVJS2V5cyhjKSk7aGlzdG9yeS5yZXBsYWNlU3RhdGUoZixkb2N1bWVudC50aXRsZSxjKX19LG9uUG9wU3RhdGU6ZnVuY3Rpb24oYyl7dmFyIGY9Yy5vcmlnaW5hbEV2ZW50LnN0YXRlO2YmJihiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKHRydWUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKGZhbHNlKTthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShmLmhhc2gpfSwxMDApKX0sCmluaXQ6ZnVuY3Rpb24oKXtkLmJpbmQoImhhc2hjaGFuZ2UiLGIub25IYXNoQ2hhbmdlKTtkLmJpbmQoInBvcHN0YXRlIixiLm9uUG9wU3RhdGUpO2xvY2F0aW9uLmhhc2g9PT0iIiYmaGlzdG9yeS5yZXBsYWNlU3RhdGUoYi5zdGF0ZSgpLGRvY3VtZW50LnRpdGxlLGxvY2F0aW9uLmhyZWYpfX0pO2EoZnVuY3Rpb24oKXthLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkJiZhLnN1cHBvcnQucHVzaFN0YXRlJiZiLmluaXQoKX0pfSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZShiLGQsZixjKXt2YXIgZT1uZXcgYS5EZWZlcnJlZCxnPWQ/IiByZXZlcnNlIjoiIixpPSJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2I7Zi5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2YuYWRkKGMpLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiK2IpO2MmJmNbMF0hPT1mWzBdJiZjLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7Zi5wYXJlbnQoKS5yZW1vdmVDbGFzcyhpKTtlLnJlc29sdmUoYixkLGYsYyl9KTtmLnBhcmVudCgpLmFkZENsYXNzKGkpO2MmJmMuYWRkQ2xhc3MoYisiIG91dCIrZyk7Zi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAiK2IrIiBpbiIrZyk7cmV0dXJuIGUucHJvbWlzZSgpfWEubW9iaWxlLmNzczNUcmFuc2l0aW9uSGFuZGxlcj1lO2lmKGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj09PWEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcilhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9CmV9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOmZhbHNlLGRhdGU6ZmFsc2UsZGF0ZXRpbWU6ZmFsc2UsImRhdGV0aW1lLWxvY2FsIjpmYWxzZSxlbWFpbDpmYWxzZSxtb250aDpmYWxzZSxudW1iZXI6ZmFsc2UscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ZmFsc2UsdGltZTpmYWxzZSx1cmw6ZmFsc2Usd2VlazpmYWxzZX07YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe3ZhciBiPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShhKGUudGFyZ2V0KSk7aWYoYilvcHRpb25zPWIub3B0aW9ucyxhKGUudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChiLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksYz1vcHRpb25zLmRlZ3JhZGVJbnB1dHNbZl18fCJ0ZXh0IjtpZihvcHRpb25zLmRlZ3JhZGVJbnB1dHNbZl0pe3ZhciBlPQphKCI8ZGl2PiIpLmh0bWwoYi5jbG9uZSgpKS5odG1sKCksZz1lLmluZGV4T2YoIiB0eXBlPSIpPi0xO2IucmVwbGFjZVdpdGgoZS5yZXBsYWNlKGc/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLCcgdHlwZT0iJytjKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytmKyciJysoZz8iIjoiPiIpKSl9fSl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGY9YSgiPGEgaHJlZj0nIycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKTtkLmFkZENsYXNzKCJ1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSk7ZC5hdHRyKCJyb2xlIiwiZGlhbG9nIikuYWRkQ2xhc3MoInVpLWRpYWxvZyIpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktb3ZlcmxheS1zaGFkb3ciKS5wcmVwZW5kKGYpLmVuZCgpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSw6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmFkZENsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIpLmxhc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpOwpmLmJpbmQoImNsaWNrIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pO2QuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGI9YShiLnRhcmdldCkuY2xvc2VzdChiLnR5cGU9PT0idmNsaWNrIj8iYSI6ImZvcm0iKSxmO2IubGVuZ3RoJiYhYi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihmPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixmLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX0sY2xvc2U6ZnVuY3Rpb24oKXtlLmhpc3RvcnkuYmFjaygpfX0pO2EoZG9jdW1lbnQpLmRlbGVnYXRlKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsCiJwYWdlY3JlYXRlIixmdW5jdGlvbigpe2EodGhpcykuZGlhbG9nKCl9KX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRleHQ9IkJhY2siO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYWRkQmFja0J0bj1mYWxzZTthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UaGVtZT1udWxsO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuaGVhZGVyVGhlbWU9ImEiO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZm9vdGVyVGhlbWU9ImEiO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuY29udGVudFRoZW1lPW51bGw7YShkb2N1bWVudCkuZGVsZWdhdGUoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiLCJwYWdlY3JlYXRlIixmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksYj1lLmRhdGEoInBhZ2UiKS5vcHRpb25zLGQ9ZS5qcW1EYXRhKCJyb2xlIiksZj1iLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIiwKdGhpcykuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZT1jLmpxbURhdGEoInJvbGUiKSxnPWMuanFtRGF0YSgidGhlbWUiKSxpPWd8fGIuY29udGVudFRoZW1lfHxkPT09ImRpYWxvZyImJmYsbDtjLmFkZENsYXNzKCJ1aS0iK2UpO2lmKGU9PT0iaGVhZGVyInx8ZT09PSJmb290ZXIiKXt2YXIgaz1nfHwoZT09PSJoZWFkZXIiP2IuaGVhZGVyVGhlbWU6Yi5mb290ZXJUaGVtZSl8fGY7Yy5hZGRDbGFzcygidWktYmFyLSIraykuYXR0cigicm9sZSIsZT09PSJoZWFkZXIiPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpO2c9Yy5jaGlsZHJlbigiYSIpO2k9Zy5oYXNDbGFzcygidWktYnRuLWxlZnQiKTtsPWcuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpO2k9aXx8Zy5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGg7bHx8Zy5lcSgxKS5hZGRDbGFzcygidWktYnRuLXJpZ2h0Iik7Yi5hZGRCYWNrQnRuJiZlPT09ImhlYWRlciImJmEoIi51aS1wYWdlIikubGVuZ3RoPgoxJiZjLmpxbURhdGEoInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFpJiZhKCI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrYi5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGIuYmFja0J0blRoZW1lfHxrKS5wcmVwZW5kVG8oYyk7Yy5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3RhYmluZGV4OiIwIixyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSBlPT09ImNvbnRlbnQiJiYoaSYmYy5hZGRDbGFzcygidWktYm9keS0iK2kpLGMuYXR0cigicm9sZSIsIm1haW4iKSl9KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7ZXhwYW5kQ3VlVGV4dDoiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50cyIsY29sbGFwc2VDdWVUZXh0OiIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLGNvbGxhcHNlZDp0cnVlLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpY29uVGhlbWU6ImQiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsZD1lLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGY9ZS5jaGlsZHJlbihiLmhlYWRpbmcpLmZpcnN0KCksYz1kLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSwKaD1lLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpO2YuaXMoImxlZ2VuZCIpJiYoZj1hKCI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrZi5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShmKSxmLm5leHQoKS5yZW1vdmUoKSk7aWYoaC5sZW5ndGgpe2lmKCFiLnRoZW1lKWIudGhlbWU9aC5qcW1EYXRhKCJ0aGVtZSIpO2lmKCFiLmNvbnRlbnRUaGVtZSliLmNvbnRlbnRUaGVtZT1oLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKX1jLmFkZENsYXNzKGIuY29udGVudFRoZW1lPyJ1aS1ib2R5LSIrYi5jb250ZW50VGhlbWU6IiIpO2YuaW5zZXJ0QmVmb3JlKGMpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OmZhbHNlLApjb3JuZXJzOmZhbHNlLGljb25Qb3M6ImxlZnQiLGljb246InBsdXMiLHRoZW1lOmIudGhlbWV9KS5hZGQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIik7ZC5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGUpe2lmKCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGk9YSh0aGlzKSxlPWUudHlwZT09PSJjb2xsYXBzZSIsbD1iLmNvbnRlbnRUaGVtZTtmLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIsZSkuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikudGV4dChlP2IuZXhwYW5kQ3VlVGV4dDpiLmNvbGxhcHNlQ3VlVGV4dCkuZW5kKCkuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1taW51cyIsIWUpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLXBsdXMiLGUpO2kudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsCmUpO2MudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixlKS5hdHRyKCJhcmlhLWhpZGRlbiIsZSk7aWYobCYmKCFoLmxlbmd0aHx8ZC5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikpKWYuZmluZCgiYSIpLmZpcnN0KCkuYWRkKGYuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsZSksYy50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsIWUpO2MudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fSkudHJpZ2dlcihiLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKTtmLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2QudHJpZ2dlcihiKTthLnByZXZlbnREZWZhdWx0KCl9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YShhLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsCmUudGFyZ2V0KS5jb2xsYXBzaWJsZSgpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZXNldCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksYj10aGlzLm9wdGlvbnMsZD1lLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIik7aWYoIWIudGhlbWUpYi50aGVtZT1lLmpxbURhdGEoInRoZW1lIik7aWYoIWIuY29udGVudFRoZW1lKWIuY29udGVudFRoZW1lPWUuanFtRGF0YSgiY29udGVudC10aGVtZSIpO2UuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpfHwoZS5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIix0cnVlKS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGIpe3ZhciBjPWIudHlwZT09PSJjb2xsYXBzZSIsYj1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKSwKZD1iLmRhdGEoImNvbGxhcHNpYmxlIik7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZSYmYi5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJihiLmZpbmQoZC5vcHRpb25zLmhlYWRpbmcpLmZpcnN0KCkuZmluZCgiYSIpLmZpcnN0KCkuYWRkKCIudWktYnRuLWlubmVyIikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGMpLGIuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsIWMpKX0pLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIikuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZSIpLnRyaWdnZXIoImNvbGxhcHNlIil9KSxkLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmZpbmQoYS5tb2JpbGUuY29sbGFwc2libGUucHJvdG90eXBlLm9wdGlvbnMuaGVhZGluZykuZmluZCgiYSIpLmZpcnN0KCkuYWRkKCIudWktYnRuLWlubmVyIikucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpfSksCmQuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGQubGFzdCgpLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiLHRydWUpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKGEubW9iaWxlLmNvbGxhcHNpYmxlc2V0LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixlLnRhcmdldCkuY29sbGFwc2libGVzZXQoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YSgiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJykiLGUudGFyZ2V0KS5maWVsZGNvbnRhaW4oKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWEuZXh0ZW5kKHtncmlkOm51bGx9LGUpLGY9Yi5jaGlsZHJlbigpLGM9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGQ9ZC5ncmlkO2lmKCFkKWlmKGYubGVuZ3RoPD01KWZvcih2YXIgaCBpbiBjKWNbaF09PT1mLmxlbmd0aCYmKGQ9aCk7ZWxzZSBkPSJhIjtjPWNbZF07Yi5hZGRDbGFzcygidWktZ3JpZC0iK2QpO2YuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIik7Yz4xJiZmLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMikiKS5hZGRDbGFzcygidWktYmxvY2stYiIpO2M+MiYmZi5maWx0ZXIoIjpudGgtY2hpbGQoM24rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpO2M+MyYmZi5maWx0ZXIoIjpudGgtY2hpbGQoNG4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpO2M+NCYmZi5maWx0ZXIoIjpudGgtY2hpbGQoNW4rNSkiKS5hZGRDbGFzcygidWktYmxvY2stZSIpfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmZpbmQoImEiKSxmPWQuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczplO2IuYWRkQ2xhc3MoInVpLW5hdmJhciIpLmF0dHIoInJvbGUiLCJuYXZpZ2F0aW9uIikuZmluZCgidWwiKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSk7Znx8Yi5hZGRDbGFzcygidWktbmF2YmFyLW5vaWNvbnMiKTtkLmJ1dHRvbk1hcmt1cCh7Y29ybmVyczpmYWxzZSxzaGFkb3c6ZmFsc2UsaWNvbnBvczpmfSk7Yi5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLWRpc2FibGVkIil8fChkLm5vdCgiLnVpLXN0YXRlLXBlcnNpc3QiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksCmEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGEubW9iaWxlLm5hdmJhci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsYi50YXJnZXQpLm5hdmJhcigpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7dmFyIGU9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ZmFsc2UsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGQsZil7cmV0dXJuIGYrIiB1aS1saXN0dmlldyAiKyhhLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiKX0pO2EucmVmcmVzaCh0cnVlKX0sX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxkKXthPWEuYWRkKGEuZmluZCgiLnVpLWJ0bi1pbm5lciwgLnVpLWxpLWxpbmstYWx0LCAudWktbGktdGh1bWIiKSk7ZD09PSJ0b3AiP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCIpOgpkPT09ImJvdHRvbSI/YS5yZW1vdmVDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIik6YS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpfSxfcmVmcmVzaENvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGQsZjt0aGlzLm9wdGlvbnMuaW5zZXQmJihkPXRoaXMuZWxlbWVudC5jaGlsZHJlbigibGkiKSxmPWE/ZC5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6ZC5maWx0ZXIoIjp2aXNpYmxlIiksdGhpcy5fcmVtb3ZlQ29ybmVycyhkKSxkPWYuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGQuYWRkKGQuZmluZCgiLnVpLWJ0bi1pbm5lciIpLm5vdCgiLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGQiKSkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKS5lbmQoKS5maW5kKCIudWktbGktbGluay1hbHQsIC51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIikuYWRkQ2xhc3MoInVpLWNvcm5lci10ciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLm5vdCgiLnVpLWxpLWljb24iKS5hZGRDbGFzcygidWktY29ybmVyLXRsIiksCmY9Zi5sYXN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKSxmLmFkZChmLmZpbmQoIi51aS1idG4taW5uZXIiKSkuZmluZCgiLnVpLWxpLWxpbmstYWx0IikuYWRkQ2xhc3MoInVpLWNvcm5lci1iciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLm5vdCgiLnVpLWxpLWljb24iKS5hZGRDbGFzcygidWktY29ybmVyLWJsIikpO2F8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxkLGYsYyl7dmFyIGU9e307Zm9yKGVbZl09ZVtjXT10cnVlO2E7KXtpZihlW2Eubm9kZU5hbWVdKXJldHVybiBhO2E9YVtkXX1yZXR1cm4gbnVsbH0sX2dldENoaWxkcmVuQnlUYWdOYW1lOmZ1bmN0aW9uKGIsZCxmKXt2YXIgYz1bXSxlPXt9O2VbZF09ZVtmXT10cnVlO2ZvcihiPWIuZmlyc3RDaGlsZDtiOyllW2Iubm9kZU5hbWVdJiZjLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGMpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBkLApmLGM9Yi5sZW5ndGg7Zm9yKGQ9MDtkPGM7ZCsrKWY9YSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGJbZF0uZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLCJpbWciLCJJTUciKSksZi5sZW5ndGgmJihmLmFkZENsYXNzKCJ1aS1saS10aHVtYiIpLGEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShmWzBdLnBhcmVudE5vZGUsInBhcmVudE5vZGUiLCJsaSIsIkxJIikpLmFkZENsYXNzKGYuaXMoIi51aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIikpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3RoaXMucGFyZW50UGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTt0aGlzLl9jcmVhdGVTdWJQYWdlcygpO3ZhciBkPXRoaXMub3B0aW9ucyxmPXRoaXMuZWxlbWVudCxjPWYuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGQuZGl2aWRlclRoZW1lLGU9Zi5qcW1EYXRhKCJzcGxpdHRoZW1lIiksZz1mLmpxbURhdGEoInNwbGl0aWNvbiIpLAppPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKGZbMF0sImxpIiwiTEkiKSxsPWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50fHwhYS5ub2RlTmFtZShmWzBdLCJvbCIpPzA6MSxrPXt9LG8sbixxLGoscDtsJiZmLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKTtpZighZC50aGVtZSlkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpO2Zvcih2YXIgbT0wLEE9aS5sZW5ndGg7bTxBO20rKyl7bz1pLmVxKG0pO249InVpLWxpIjtpZihifHwhby5oYXNDbGFzcygidWktbGkiKSlxPW8uanFtRGF0YSgidGhlbWUiKXx8ZC50aGVtZSxqPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKG9bMF0sImEiLCJBIiksai5sZW5ndGg/KHA9by5qcW1EYXRhKCJpY29uIiksby5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OmZhbHNlLGNvcm5lcnM6ZmFsc2UsaWNvbnBvczoicmlnaHQiLGljb246ai5sZW5ndGg+MXx8cD09PWZhbHNlP2ZhbHNlOgpwfHwiYXJyb3ctciIsdGhlbWU6cX0pLHAhPWZhbHNlJiZqLmxlbmd0aD09MSYmby5hZGRDbGFzcygidWktbGktaGFzLWFycm93Iiksai5maXJzdCgpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSxqLmxlbmd0aD4xJiYobis9IiB1aS1saS1oYXMtYWx0IixqPWoubGFzdCgpLHA9ZXx8ai5qcW1EYXRhKCJ0aGVtZSIpfHxkLnNwbGl0VGhlbWUsai5hcHBlbmRUbyhvKS5hdHRyKCJ0aXRsZSIsai5nZXRFbmNvZGVkVGV4dCgpKS5hZGRDbGFzcygidWktbGktbGluay1hbHQiKS5lbXB0eSgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OmZhbHNlLGNvcm5lcnM6ZmFsc2UsdGhlbWU6cSxpY29uOmZhbHNlLGljb25wb3M6ZmFsc2V9KS5maW5kKCIudWktYnRuLWlubmVyIikuYXBwZW5kKGEoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzp0cnVlLGNvcm5lcnM6dHJ1ZSx0aGVtZTpwLGljb25wb3M6Im5vdGV4dCIsaWNvbjpnfHxqLmpxbURhdGEoImljb24iKXx8CmQuc3BsaXRJY29ufSkpKSk6by5qcW1EYXRhKCJyb2xlIik9PT0ibGlzdC1kaXZpZGVyIj8obis9IiB1aS1saS1kaXZpZGVyIHVpLWJ0biB1aS1iYXItIitjLG8uYXR0cigicm9sZSIsImhlYWRpbmciKSxsJiYobD0xKSk6bis9IiB1aS1saS1zdGF0aWMgdWktYm9keS0iK3E7bCYmbi5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKHE9by5pcygiLnVpLWxpLXN0YXRpYzpmaXJzdCIpP286by5maW5kKCIudWktbGluay1pbmhlcml0IikscS5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2wrKyArIi4gPC9zcGFuPiIpKTtrW25dfHwoa1tuXT1bXSk7a1tuXS5wdXNoKG9bMF0pfWZvcihuIGluIGspYShrW25dKS5hZGRDbGFzcyhuKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKG4pO2YuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0KYSh0aGlzKTtiLnByZXBlbmRUbyhiLnBhcmVudCgpKX0pLmVuZCgpLmZpbmQoIi51aS1saS1jb3VudCIpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpfSkuYWRkQ2xhc3MoInVpLWJ0bi11cC0iKyhmLmpxbURhdGEoImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUpKyIgdWktYnRuLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRUaHVtYkNsYXNzZXMoaSk7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGYuZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpKTt0aGlzLl9yZWZyZXNoQ29ybmVycyhiKX0sX2lkU3RyaW5nRXNjYXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCItIil9LF9jcmVhdGVTdWJQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWIuY2xvc2VzdCgiLnVpLXBhZ2UiKSxmPWQuanFtRGF0YSgidXJsIiksYz1mfHxkWzBdW2EuZXhwYW5kb10sCmg9Yi5hdHRyKCJpZCIpLGc9dGhpcy5vcHRpb25zLGk9ImRhdGEtIithLm1vYmlsZS5ucyxsPXRoaXMsaz1kLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxvO3R5cGVvZiBlW2NdPT09InVuZGVmaW5lZCImJihlW2NdPS0xKTtoPWh8fCsrZVtjXTthKGIuZmluZCgibGk+dWwsIGxpPm9sIikudG9BcnJheSgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1hKHRoaXMpLGU9ZC5hdHRyKCJpZCIpfHxoKyItIitjLGM9ZC5wYXJlbnQoKSxsPWEoZC5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSksbD1sLmxlbmd0aD9sOmEoIjxzcGFuPiIrYS50cmltKGMuY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IiksbT1sLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxlPShmfHwiIikrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2UsQT1kLmpxbURhdGEoInRoZW1lIil8fGcudGhlbWUsej1kLmpxbURhdGEoImNvdW50dGhlbWUiKXx8CmIuanFtRGF0YSgiY291bnR0aGVtZSIpfHxnLmNvdW50VGhlbWU7bz10cnVlO2QuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2krInJvbGU9J3BhZ2UnICIraSsidXJsPSciK2UrIicgIitpKyJ0aGVtZT0nIitBKyInICIraSsiY291bnQtdGhlbWU9JyIreisiJz48ZGl2ICIraSsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraSsicm9sZT0naGVhZGVyJyAiK2krInRoZW1lPSciK2cuaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrbSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIoaz9hKCI8ZGl2ICIraSsicm9sZT0nZm9vdGVyJyAiK2krImlkPSciK2srIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKTtkPWMuZmluZCgiYTpmaXJzdCIpO2QubGVuZ3RofHwoZD1hKCI8YS8+IikuaHRtbChsfHxtKS5wcmVwZW5kVG8oYy5lbXB0eSgpKSk7ZC5hdHRyKCJocmVmIiwiIyIrZSl9KS5saXN0dmlldygpOwpvJiZkLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmZC5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZT09PWZhbHNlJiZkLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbihiLGMpe3ZhciBlPWMubmV4dFBhZ2U7Yy5uZXh0UGFnZSYmKGU9ZS5qcW1EYXRhKCJ1cmwiKSxlLmluZGV4T2YoZisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkhPT0wJiYobC5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksZC5yZW1vdmUoKSkpfSl9LGNoaWxkUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnBhcmVudFBhZ2UuanFtRGF0YSgidXJsIik7cmV0dXJuIGEoIjpqcW1EYXRhKHVybF49JyIrYisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSsiJykiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsCmIudGFyZ2V0KS5saXN0dmlldygpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPWZhbHNlO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT09PS0xfTthKGRvY3VtZW50KS5kZWxlZ2F0ZSgiOmpxbURhdGEocm9sZT0nbGlzdHZpZXcnKSIsImxpc3R2aWV3Y3JlYXRlIixmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksYj1lLmRhdGEoImxpc3R2aWV3Iik7aWYoYi5vcHRpb25zLmZpbHRlcil7dmFyIGQ9YSgiPGZvcm0+Iix7ImNsYXNzIjoidWktbGlzdHZpZXctZmlsdGVyIHVpLWJhci0iK2Iub3B0aW9ucy5maWx0ZXJUaGVtZSwKcm9sZToic2VhcmNoIn0pO2EoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpiLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIixmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksYz10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCksaD1udWxsLGg9ZC5qcW1EYXRhKCJsYXN0dmFsIikrIiIsZz1mYWxzZSxpPSIiO2QuanFtRGF0YSgibGFzdHZhbCIsYyk7aD1jLmxlbmd0aDxoLmxlbmd0aHx8Yy5pbmRleE9mKGgpIT09MD9lLmNoaWxkcmVuKCk6ZS5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKTtpZihjKXtmb3IodmFyIGw9aC5sZW5ndGgtMTtsPj0wO2wtLSlkPWEoaFtsXSksaT1kLmpxbURhdGEoImZpbHRlcnRleHQiKXx8ZC50ZXh0KCksZC5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oZC50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsCiFnKSxnPWZhbHNlKTpiLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaSxjKT9kLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIix0cnVlKTpnPXRydWU7aC5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGZhbHNlKTtoLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsdHJ1ZSkudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLGZhbHNlKX1lbHNlIGgudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGZhbHNlKTtiLl9yZWZyZXNoQ29ybmVycygpfSkuYXBwZW5kVG8oZCkudGV4dGlucHV0KCk7YSh0aGlzKS5qcW1EYXRhKCJpbnNldCIpJiZkLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKTtkLmJpbmQoInN1Ym1pdCIsZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9KS5pbnNlcnRCZWZvcmUoZSl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsZS50YXJnZXQpLmFkZENsYXNzKCJ1aS1ub2pzIil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZj1kLmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgibGFiZWwiKS5maWx0ZXIoIltmb3I9JyIrZFswXS5pZCsiJ10iKSxjPWQuYXR0cigidHlwZSIpLGg9YysiLW9uIixnPWMrIi1vZmYiLGk9ZC5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/ZTpnO2lmKCEoYyE9PSJjaGVja2JveCImJmMhPT0icmFkaW8iKSl7YS5leHRlbmQodGhpcyx7bGFiZWw6ZixpbnB1dHR5cGU6YyxjaGVja2VkQ2xhc3M6InVpLSIraCsoaT8iIjoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLAp1bmNoZWNrZWRDbGFzczoidWktIitnLGNoZWNrZWRpY29uOiJ1aS1pY29uLSIraCx1bmNoZWNrZWRpY29uOiJ1aS1pY29uLSIrZ30pO2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPXRoaXMuZWxlbWVudC5qcW1EYXRhKCJ0aGVtZSIpO2YuYnV0dG9uTWFya3VwKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbjppLHNoYWRvdzpmYWxzZX0pO2QuYWRkKGYpLndyYXBBbGwoIjxkaXYgY2xhc3M9J3VpLSIrYysiJz48L2Rpdj4iKTtmLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24oYil7YSh0aGlzKS5wYXJlbnQoKS5pcygiLnVpLWRpc2FibGVkIikmJmIuc3RvcFByb3BhZ2F0aW9uKCl9LHZjbGljazpmdW5jdGlvbihhKXtpZihkLmlzKCI6ZGlzYWJsZWQiKSlhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSByZXR1cm4gYi5fY2FjaGVWYWxzKCksZC5wcm9wKCJjaGVja2VkIixjPT09InJhZGlvIiYmdHJ1ZXx8IWQucHJvcCgiY2hlY2tlZCIpKSxkLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLApiLl9nZXRJbnB1dFNldCgpLm5vdChkKS5wcm9wKCJjaGVja2VkIixmYWxzZSksYi5fdXBkYXRlQWxsKCksZmFsc2V9fSk7ZC5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKCl7Yi5fY2FjaGVWYWxzKCl9LHZjbGljazpmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yy5pcygiOmNoZWNrZWQiKT8oYy5wcm9wKCJjaGVja2VkIix0cnVlKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIixmYWxzZSkpOmMucHJvcCgiY2hlY2tlZCIsZmFsc2UpO2IuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2YuYWRkQ2xhc3MoInVpLWZvY3VzIil9LGJsdXI6ZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKCJ1aS1mb2N1cyIpfX0pO3RoaXMucmVmcmVzaCgpfX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJjYWNoZVZhbCIsYi5pcygiOmNoZWNrZWQiKSl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXR0eXBlPT0KImNoZWNrYm94Ij90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnQuYXR0cigibmFtZSIpKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpOyhkLmlzKCI6Y2hlY2tlZCIpfHxiLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZkLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9dGhpcy5sYWJlbCxmPWQuZmluZCgiLnVpLWljb24iKTthKGJbMF0pLnByb3AoImNoZWNrZWQiKT8oZC5hZGRDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksCmYuYWRkQ2xhc3ModGhpcy5jaGVja2VkaWNvbikucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk6KGQucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkQ2xhc3MpLmFkZENsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLGYucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkaWNvbikuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk7Yi5pcygiOmRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsdHJ1ZSkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsZmFsc2UpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczpudWxsLGlubGluZTpudWxsLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSwgW3R5cGU9J2ltYWdlJ10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9dGhpcy5vcHRpb25zLGYsYztiWzBdLnRhZ05hbWU9PT0iQSI/Yi5oYXNDbGFzcygidWktYnRuIil8fGIuYnV0dG9uTWFya3VwKCk6KHRoaXMuYnV0dG9uPWEoIjxkaXY+PC9kaXY+IikudGV4dChiLnRleHQoKXx8Yi52YWwoKSkuaW5zZXJ0QmVmb3JlKGIpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ZC50aGVtZSxpY29uOmQuaWNvbixpY29ucG9zOmQuaWNvbnBvcyxpbmxpbmU6ZC5pbmxpbmUsCmNvcm5lcnM6ZC5jb3JuZXJzLHNoYWRvdzpkLnNoYWRvdyxpY29uc2hhZG93OmQuaWNvbnNoYWRvd30pLmFwcGVuZChiLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpLGQ9Yi5hdHRyKCJ0eXBlIiksZj1iLmF0dHIoIm5hbWUiKSxkIT09ImJ1dHRvbiImJmQhPT0icmVzZXQiJiZmJiZiLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtjPT09ZSYmKGM9YSgiPGlucHV0PiIse3R5cGU6ImhpZGRlbiIsbmFtZTpiLmF0dHIoIm5hbWUiKSx2YWx1ZTpiLmF0dHIoInZhbHVlIil9KS5pbnNlcnRCZWZvcmUoYiksYShkb2N1bWVudCkub25lKCJzdWJtaXQiLGZ1bmN0aW9uKCl7Yy5yZW1vdmUoKTtjPWV9KSl9KSx0aGlzLnJlZnJlc2goKSl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZmFsc2UpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGZhbHNlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsCmZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsdHJ1ZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O2EucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpO3RoaXMuYnV0dG9uLmRhdGEoInRleHRXcmFwcGVyIikudGV4dChhLnRleHQoKXx8YS52YWwoKSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOmZhbHNlLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuZWxlbWVudCxmPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGQsImMiKSxjPXRoaXMub3B0aW9ucy50aGVtZXx8ZixoPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxmLGc9ZFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGY9Zz09InNlbGVjdCI/InVpLXNsaWRlci1zd2l0Y2giOiIiLGk9ZC5hdHRyKCJpZCIpLGw9aSsiLWxhYmVsIixpPWEoIltmb3I9JyIraSsiJ10iKS5hdHRyKCJpZCIsbCksaz1mdW5jdGlvbigpe3JldHVybiBnPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC52YWwoKSk6CmRbMF0uc2VsZWN0ZWRJbmRleH0sbz1nPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC5hdHRyKCJtaW4iKSk6MCxuPWc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLmF0dHIoIm1heCIpKTpkLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xLHE9d2luZG93LnBhcnNlRmxvYXQoZC5hdHRyKCJzdGVwIil8fDEpLGo9YSgiPGRpdiBjbGFzcz0ndWktc2xpZGVyICIrZisiIHVpLWJ0bi1kb3duLSIraCsiIHVpLWJ0bi1jb3JuZXItYWxsJyByb2xlPSdhcHBsaWNhdGlvbic+PC9kaXY+IikscD1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktc2xpZGVyLWhhbmRsZSc+PC9hPiIpLmFwcGVuZFRvKGopLmJ1dHRvbk1hcmt1cCh7Y29ybmVyczp0cnVlLHRoZW1lOmMsc2hhZG93OnRydWV9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpvLCJhcmlhLXZhbHVlbWF4IjpuLCJhcmlhLXZhbHVlbm93IjprKCksImFyaWEtdmFsdWV0ZXh0IjprKCksdGl0bGU6aygpLCJhcmlhLWxhYmVsbGVkYnkiOmx9KTsKYS5leHRlbmQodGhpcyx7c2xpZGVyOmosaGFuZGxlOnAsZHJhZ2dpbmc6ZmFsc2UsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ZmFsc2UsbW91c2VNb3ZlZDpmYWxzZX0pO2c9PSJzZWxlY3QiJiYoai53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLXNsaWRlci1pbm5lcm9mZnNldCc+PC9kaXY+IikscC5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGQuZmluZCgib3B0aW9uIiksZC5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPSFiPyJiIjoiYSIsZD0hYj8icmlnaHQiOiJsZWZ0IixiPSFiPyIgdWktYnRuLWRvd24tIitoOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzczthKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItbGFiZWxiZyB1aS1zbGlkZXItbGFiZWxiZy0iK2MrYisiIHVpLWJ0bi1jb3JuZXItIitkKyInPjwvZGl2PiIpLnByZXBlbmRUbyhqKTthKCI8c3BhbiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iKwpjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsiJyByb2xlPSdpbWcnPiIrYSh0aGlzKS5nZXRFbmNvZGVkVGV4dCgpKyI8L3NwYW4+IikucHJlcGVuZFRvKHApfSkpO2kuYWRkQ2xhc3MoInVpLXNsaWRlciIpO2QuYWRkQ2xhc3MoZz09PSJpbnB1dCI/InVpLXNsaWRlci1pbnB1dCI6InVpLXNsaWRlci1zd2l0Y2giKS5jaGFuZ2UoZnVuY3Rpb24oKXtiLm1vdXNlTW92ZWR8fGIucmVmcmVzaChrKCksdHJ1ZSl9KS5rZXl1cChmdW5jdGlvbigpe2IucmVmcmVzaChrKCksdHJ1ZSx0cnVlKX0pLmJsdXIoZnVuY3Rpb24oKXtiLnJlZnJlc2goaygpLHRydWUpfSk7YShkb2N1bWVudCkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oYSl7aWYoYi5kcmFnZ2luZylyZXR1cm4gYi5tb3VzZU1vdmVkPXRydWUsZz09PSJzZWxlY3QiJiZwLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksYi5yZWZyZXNoKGEpLGIudXNlck1vZGlmaWVkPWIuYmVmb3JlU3RhcnQhPT1kWzBdLnNlbGVjdGVkSW5kZXgsCmZhbHNlfSk7ai5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihhKXtiLmRyYWdnaW5nPXRydWU7Yi51c2VyTW9kaWZpZWQ9ZmFsc2U7Yi5tb3VzZU1vdmVkPWZhbHNlO2lmKGc9PT0ic2VsZWN0IiliLmJlZm9yZVN0YXJ0PWRbMF0uc2VsZWN0ZWRJbmRleDtiLnJlZnJlc2goYSk7cmV0dXJuIGZhbHNlfSk7ai5hZGQoZG9jdW1lbnQpLmJpbmQoInZtb3VzZXVwIixmdW5jdGlvbigpe2lmKGIuZHJhZ2dpbmcpcmV0dXJuIGIuZHJhZ2dpbmc9ZmFsc2UsZz09PSJzZWxlY3QiJiYocC5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGIubW91c2VNb3ZlZD9iLnVzZXJNb2RpZmllZD9iLnJlZnJlc2goYi5iZWZvcmVTdGFydD09MD8xOjApOmIucmVmcmVzaChiLmJlZm9yZVN0YXJ0KTpiLnJlZnJlc2goYi5iZWZvcmVTdGFydD09MD8xOjApKSxiLm1vdXNlTW92ZWQ9ZmFsc2V9KTtqLmluc2VydEFmdGVyKGQpO3RoaXMuaGFuZGxlLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7YSh0aGlzKS5mb2N1cygpfSkuYmluZCgidmNsaWNrIiwKZmFsc2UpO3RoaXMuaGFuZGxlLmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGMpe3ZhciBkPWsoKTtpZighYi5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDppZihjLnByZXZlbnREZWZhdWx0KCksIWIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz10cnVlLGEodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfXN3aXRjaChjLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmIucmVmcmVzaChvKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmIucmVmcmVzaChuKTsKYnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpiLnJlZnJlc2goZCtxKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucmVmcmVzaChkLXEpfX19KS5rZXl1cChmdW5jdGlvbigpe2lmKGIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz1mYWxzZSxhKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0pO3RoaXMucmVmcmVzaChlLGUsdHJ1ZSl9LHJlZnJlc2g6ZnVuY3Rpb24oYSxkLGYpeyh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCk7dmFyIGM9dGhpcy5lbGVtZW50LGU9Y1swXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGc9ZT09PSJpbnB1dCI/cGFyc2VGbG9hdChjLmF0dHIoIm1pbiIpKToKMCxpPWU9PT0iaW5wdXQiP3BhcnNlRmxvYXQoYy5hdHRyKCJtYXgiKSk6Yy5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxsPWU9PT0iaW5wdXQiJiZwYXJzZUZsb2F0KGMuYXR0cigic3RlcCIpKT4wP3BhcnNlRmxvYXQoYy5hdHRyKCJzdGVwIikpOjE7aWYodHlwZW9mIGE9PT0ib2JqZWN0Iil7aWYoIXRoaXMuZHJhZ2dpbmd8fGEucGFnZVg8dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdC04fHxhLnBhZ2VYPnRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQrdGhpcy5zbGlkZXIud2lkdGgoKSs4KXJldHVybjthPU1hdGgucm91bmQoKGEucGFnZVgtdGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDApfWVsc2UgYT09bnVsbCYmKGE9ZT09PSJpbnB1dCI/cGFyc2VGbG9hdChjLnZhbCgpfHwwKTpjWzBdLnNlbGVjdGVkSW5kZXgpLGE9KHBhcnNlRmxvYXQoYSktZykvKGktZykqMTAwO2lmKCFpc05hTihhKSl7YTwwJiYoYT0wKTthPjEwMCYmKGE9MTAwKTt2YXIgaz0KYS8xMDAqKGktZykrZyxvPShrLWcpJWw7ay09bztNYXRoLmFicyhvKSoyPj1sJiYoays9bz4wP2w6LWwpO2s9cGFyc2VGbG9hdChrLnRvRml4ZWQoNSkpO2s8ZyYmKGs9Zyk7az5pJiYoaz1pKTt0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGErIiUiKTt0aGlzLmhhbmRsZS5hdHRyKHsiYXJpYS12YWx1ZW5vdyI6ZT09PSJpbnB1dCI/azpjLmZpbmQoIm9wdGlvbiIpLmVxKGspLmF0dHIoInZhbHVlIiksImFyaWEtdmFsdWV0ZXh0IjplPT09ImlucHV0Ij9rOmMuZmluZCgib3B0aW9uIikuZXEoaykuZ2V0RW5jb2RlZFRleHQoKSx0aXRsZTplPT09ImlucHV0Ij9rOmMuZmluZCgib3B0aW9uIikuZXEoaykuZ2V0RW5jb2RlZFRleHQoKX0pO2U9PT0ic2VsZWN0IiYmKGs9PT0wP3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWEiKS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXN3aXRjaC1iIik6dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYiIpLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWEiKSk7CmlmKCFmKWY9ZmFsc2UsZT09PSJpbnB1dCI/KGY9Yy52YWwoKSE9PWssYy52YWwoaykpOihmPWNbMF0uc2VsZWN0ZWRJbmRleCE9PWssY1swXS5zZWxlY3RlZEluZGV4PWspLCFkJiZmJiZjLnRyaWdnZXIoImNoYW5nZSIpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSk7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhLCBpbnB1dFt0eXBlPSd0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGUnXSwgaW5wdXRbdHlwZT0nbW9udGgnXSwgaW5wdXRbdHlwZT0nd2VlayddLCBpbnB1dFt0eXBlPSdkYXRldGltZSddLCBpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBpbnB1dFt0eXBlPSdjb2xvciddLCBpbnB1dDpub3QoW3R5cGVdKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsCmI9dGhpcy5vcHRpb25zLnRoZW1lfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSxkPSIgdWktYm9keS0iK2IsZixjO2EoImxhYmVsW2Zvcj0nIitlLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQiKTtmPWUuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQgdWktYm9keS0iK2IpO3R5cGVvZiBlWzBdLmF1dG9jb3JyZWN0IT09InVuZGVmaW5lZCImJiFhLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmKGVbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLGVbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSk7ZS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/KGY9ZS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1pbnB1dC1zZWFyY2ggdWktc2hhZG93LWluc2V0IHVpLWJ0bi1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3cgdWktaWNvbi1zZWFyY2hmaWVsZCIrZCsiJz48L2Rpdj4iKS5wYXJlbnQoKSwKYz1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSdjbGVhciB0ZXh0Jz5jbGVhciB0ZXh0PC9hPiIpLnRhcChmdW5jdGlvbihhKXtlLnZhbCgiIikuZm9jdXMoKTtlLnRyaWdnZXIoImNoYW5nZSIpO2MuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpO2EucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGYpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZX0pLGI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhZS52YWwoKSl9LDApfSxiKCksZS5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgZm9jdXMgY2hhbmdlIGJsdXIiLGIpKTplLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZCk7ZS5mb2N1cyhmdW5jdGlvbigpe2YuYWRkQ2xhc3MoInVpLWZvY3VzIil9KS5ibHVyKGZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktZm9jdXMiKX0pOwppZihlLmlzKCJ0ZXh0YXJlYSIpKXt2YXIgaD1mdW5jdGlvbigpe3ZhciBhPWVbMF0uc2Nyb2xsSGVpZ2h0O2VbMF0uY2xpZW50SGVpZ2h0PGEmJmUuaGVpZ2h0KGErMTUpfSxnO2Uua2V5dXAoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZyk7Zz1zZXRUaW1lb3V0KGgsMTAwKX0pO2EoZG9jdW1lbnQpLm9uZSgicGFnZWNoYW5nZSIsaCk7YS50cmltKGUudmFsKCkpJiZhKHdpbmRvdykubG9hZChoKX19LGRpc2FibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIix0cnVlKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGZhbHNlKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOgp0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oZS50YXJnZXQpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7dmFyIGU9ZnVuY3Rpb24oYil7dmFyIGQ9Yi5zZWxlY3RJRCxmPWIubGFiZWwsYz1iLnNlbGVjdC5jbG9zZXN0KCIudWktcGFnZSIpLGU9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LXNjcmVlbiB1aS1zY3JlZW4taGlkZGVuIn0pLmFwcGVuZFRvKGMpLGc9Yi5fc2VsZWN0T3B0aW9ucygpLGk9Yi5pc011bHRpcGxlPWIuc2VsZWN0WzBdLm11bHRpcGxlLGw9ZCsiLWJ1dHRvbiIsaz1kKyItbWVudSIsbz1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2Iub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitmLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iKwphLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpLG49YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51IHVpLXNlbGVjdG1lbnUtaGlkZGVuIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwgdWktYm9keS0iK2Iub3B0aW9ucy5vdmVybGF5VGhlbWUrIiAiK2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSkuaW5zZXJ0QWZ0ZXIoZSkscT1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDprLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOmx9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixiLm9wdGlvbnMudGhlbWUpLmFwcGVuZFRvKG4pLGo9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1oZWFkZXIgdWktYmFyLSIrYi5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKG4pLHA9YSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKGopLAptPWEoIjxhPiIse3RleHQ6Yi5vcHRpb25zLmNsb3NlVGV4dCxocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4tbGVmdCJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb25wb3MiLCJub3RleHQiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb24iLCJkZWxldGUiKS5hcHBlbmRUbyhqKS5idXR0b25NYXJrdXAoKSxBPW8uZmluZCgiLnVpLWNvbnRlbnQiKSx6PW8uZmluZCgiLnVpLWhlYWRlciBhIik7YS5leHRlbmQoYix7c2VsZWN0OmIuc2VsZWN0LHNlbGVjdElEOmQsYnV0dG9uSWQ6bCxtZW51SWQ6ayx0aGlzUGFnZTpjLG1lbnVQYWdlOm8sbGFiZWw6ZixzY3JlZW46ZSxzZWxlY3RPcHRpb25zOmcsaXNNdWx0aXBsZTppLHRoZW1lOmIub3B0aW9ucy50aGVtZSxsaXN0Ym94Om4sbGlzdDpxLGhlYWRlcjpqLGhlYWRlclRpdGxlOnAsaGVhZGVyQ2xvc2U6bSxtZW51UGFnZUNvbnRlbnQ6QSxtZW51UGFnZUNsb3NlOnoscGxhY2Vob2xkZXI6IiIsYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj0KdGhpcztiLnJlZnJlc2goKTtiLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLmJsdXIoKTtiLmJ1dHRvbi5mb2N1cygpfSk7Yi5idXR0b24uYmluZCgidmNsaWNrIGtleWRvd24iLGZ1bmN0aW9uKGMpe2lmKGMudHlwZT09InZjbGljayJ8fGMua2V5Q29kZSYmKGMua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGMua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKWIub3BlbigpLGMucHJldmVudERlZmF1bHQoKX0pO2IubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3VzaW4iLGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKCJ0YWJpbmRleCIsIjAiKX0pLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3Vzb3V0IixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCItMSIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsCiJjbGljayIsZnVuY3Rpb24oYyl7dmFyIGQ9Yi5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCxmPWIubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuaW5kZXgodGhpcyksZT1iLl9zZWxlY3RPcHRpb25zKCkuZXEoZilbMF07ZS5zZWxlY3RlZD1iLmlzTXVsdGlwbGU/IWUuc2VsZWN0ZWQ6dHJ1ZTtiLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZS5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZS5zZWxlY3RlZCk7KGIuaXNNdWx0aXBsZXx8ZCE9PWYpJiZiLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKTtiLmlzTXVsdGlwbGV8fGIuY2xvc2UoKTtjLnByZXZlbnREZWZhdWx0KCl9KS5rZXlkb3duKGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGI9ZC5wcmV2KCksCmIubGVuZ3RoJiYoYy5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGIuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksZmFsc2U7Y2FzZSA0MDpyZXR1cm4gYj1kLm5leHQoKSxiLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxiLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJjbGljayIpLGZhbHNlfX0pO2IubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yi5saXN0LmFwcGVuZFRvKGIubGlzdGJveCk7Yi5fZm9jdXNCdXR0b24oKTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChiLnRoaXNQYWdlKX0pO2Iuc2NyZWVuLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KTtiLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7aWYoYi5tZW51VHlwZT09Im92ZXJsYXkiKXJldHVybiBiLmNsb3NlKCksZmFsc2V9KTtiLnRoaXNQYWdlLmFkZERlcGVuZGVudHModGhpcy5tZW51UGFnZSl9LApfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpc3QuZmluZCgibGkiKTtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLnRleHQoKSE9PWEudGV4dCgpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7dGhpcy5fc2VsZWN0T3B0aW9ucygpO3RoaXMuc2VsZWN0ZWQoKTt2YXIgZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpOyhifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCk7Yy5zZXRCdXR0b25UZXh0KCk7Yy5zZXRCdXR0b25Db3VudCgpO2MubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLGZhbHNlKS5lYWNoKGZ1bmN0aW9uKGIpe2EuaW5BcnJheShiLGQpPi0xJiYoYj1hKHRoaXMpLGIuYXR0cigiYXJpYS1zZWxlY3RlZCIsdHJ1ZSksYy5pc011bHRpcGxlP2IuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOgpiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil0aGlzLm1lbnVUeXBlPT0icGFnZSI/d2luZG93Lmhpc3RvcnkuYmFjaygpOih0aGlzLnNjcmVlbi5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMubGlzdGJveC5hZGRDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpLnJlbW92ZUNsYXNzKCJpbiIpLHRoaXMubGlzdC5hcHBlbmRUbyh0aGlzLmxpc3Rib3gpLHRoaXMuX2ZvY3VzQnV0dG9uKCkpLHRoaXMuaXNPcGVuPWZhbHNlfSxvcGVuOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGI9dGhpcyxjPWIubGlzdC5wYXJlbnQoKS5vdXRlckhlaWdodCgpLGQ9Yi5saXN0LnBhcmVudCgpLm91dGVyV2lkdGgoKSxmPWEoIi51aS1wYWdlLWFjdGl2ZSIpLGU9YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJgphLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCxmPWYuaXMoIi51aS1uYXRpdmUtZml4ZWQiKT9mLmZpbmQoIi51aS1jb250ZW50Iik6ZixnPWU/Zi5zY3JvbGxUb3AoKTphKHdpbmRvdykuc2Nyb2xsVG9wKCksaD1iLmJ1dHRvbi5vZmZzZXQoKS50b3Asaj1hKHdpbmRvdykuaGVpZ2h0KCksZT1hKHdpbmRvdykud2lkdGgoKTtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7c2V0VGltZW91dChmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKTtpZihjPmotODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wKXtiLnRoaXNQYWdlLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIik7aWYoZz09MCYmaD5qKWIudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGgpfSk7Yi5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2Eod2luZG93KS5vbmUoInNpbGVudHNjcm9sbCIsCmZ1bmN0aW9uKCl7Yi5saXN0LmZpbmQoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZvY3VzKCl9KTtiLmlzT3Blbj10cnVlfSk7Yi5tZW51VHlwZT0icGFnZSI7Yi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCk7Yi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLnRleHQoKSk7YS5tb2JpbGUuY2hhbmdlUGFnZShiLm1lbnVQYWdlLHt0cmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSl9ZWxzZXtiLm1lbnVUeXBlPSJvdmVybGF5IjtiLnNjcmVlbi5oZWlnaHQoYShkb2N1bWVudCkuaGVpZ2h0KCkpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7dmFyIGk9aC1nLG49ZytqLWgsbT1jLzIsZj1wYXJzZUZsb2F0KGIubGlzdC5wYXJlbnQoKS5jc3MoIm1heC13aWR0aCIpKSxjPWk+Yy8yJiZuPmMvMj9oK2IuYnV0dG9uLm91dGVySGVpZ2h0KCkvMi1tOmk+bj9nK2otYy0zMDpnKzMwO2Q8Zj9mPShlLWQpLzI6KGY9CmIuYnV0dG9uLm9mZnNldCgpLmxlZnQrYi5idXR0b24ub3V0ZXJXaWR0aCgpLzItZC8yLGY8MzA/Zj0zMDpmK2Q+ZSYmKGY9ZS1kLTMwKSk7Yi5saXN0Ym94LmFwcGVuZChiLmxpc3QpLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLmNzcyh7dG9wOmMsbGVmdDpmfSkuYWRkQ2xhc3MoImluIik7Yi5saXN0LmZpbmQoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZvY3VzKCk7Yi5pc09wZW49dHJ1ZX19fSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9ucyxkPXRoaXMucGxhY2Vob2xkZXIsZj1bXSxlPVtdLGc9Yi5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7Yi5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO2Iuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oaCl7dmFyIGo9YSh0aGlzKSxpPWoucGFyZW50KCksbj1qLmdldEVuY29kZWRUZXh0KCksbT0KIjxhIGhyZWY9JyMnPiIrbisiPC9hPiIsaz1bXSxsPVtdO2kuaXMoIm9wdGdyb3VwIikmJihpPWkuYXR0cigibGFiZWwiKSxhLmluQXJyYXkoaSxmKT09PS0xJiYoZS5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdsaXN0LWRpdmlkZXInPiIraSsiPC9saT4iKSxmLnB1c2goaSkpKTtpZighdGhpcy5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fG4ubGVuZ3RoPT0wfHxqLmpxbURhdGEoInBsYWNlaG9sZGVyIikpYy5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJmsucHVzaCgidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGQ9Yi5wbGFjZWhvbGRlcj1uO3RoaXMuZGlzYWJsZWQmJihrLnB1c2goInVpLWRpc2FibGVkIiksbC5wdXNoKCJhcmlhLWRpc2FibGVkPSd0cnVlJyIpKTtlLnB1c2goIjxsaSBkYXRhLSIrYS5tb2JpbGUubnMrIm9wdGlvbi1pbmRleD0nIitoKyInIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nIitnKyInIGNsYXNzPSciK2suam9pbigiICIpKyInICIrCmwuam9pbigiICIpKyI+IittKyI8L2xpPiIpfSk7Yi5saXN0Lmh0bWwoZS5qb2luKCIgIikpO2IubGlzdC5maW5kKCJsaSIpLmF0dHIoe3JvbGU6Im9wdGlvbiIsdGFiaW5kZXg6Ii0xIn0pLmZpcnN0KCkuYXR0cigidGFiaW5kZXgiLCIwIik7dGhpcy5pc011bHRpcGxlfHx0aGlzLmhlYWRlckNsb3NlLmhpZGUoKTshdGhpcy5pc011bHRpcGxlJiYhZC5sZW5ndGg/dGhpcy5oZWFkZXIuaGlkZSgpOnRoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTtiLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfX0pfTthKGRvY3VtZW50KS5kZWxlZ2F0ZSgic2VsZWN0Iiwic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmRhdGEoInNlbGVjdG1lbnUiKTsKYi5vcHRpb25zLm5hdGl2ZU1lbnV8fGUoYil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDpmYWxzZSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOm51bGwsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSxtZW51UGFnZVRoZW1lOiJiIixvdmVybGF5VGhlbWU6ImEiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczp0cnVlLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6dHJ1ZSxpbml0U2VsZWN0b3I6InNlbGVjdDpub3QoOmpxbURhdGEocm9sZT0nc2xpZGVyJykpIn0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsYSk7dGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsYSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT0KdGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3RoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QnPiIpO3RoaXMuc2VsZWN0SUQ9dGhpcy5zZWxlY3QuYXR0cigiaWQiKTt0aGlzLmxhYmVsPWEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElEKyInXSIpLmFkZENsYXNzKCJ1aS1zZWxlY3QiKTt0aGlzLmlzTXVsdGlwbGU9dGhpcy5zZWxlY3RbMF0ubXVsdGlwbGU7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpO3RoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpO3RoaXMuYnV0dG9uPQp0aGlzLl9idXR0b24oKTt2YXIgZT10aGlzLGI9dGhpcy5vcHRpb25zLGQ9dGhpcy5idXR0b24udGV4dChhKHRoaXMuc2VsZWN0WzBdLm9wdGlvbnMuaXRlbSh0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4PT0tMT8wOnRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgpKS50ZXh0KCkpLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYnV0dG9uTWFya3VwKHt0aGVtZTpiLnRoZW1lLGljb246Yi5pY29uLGljb25wb3M6Yi5pY29ucG9zLGlubGluZTpiLmlubGluZSxjb3JuZXJzOmIuY29ybmVycyxzaGFkb3c6Yi5zaGFkb3csaWNvbnNoYWRvdzpiLmljb25zaGFkb3d9KTtiLm5hdGl2ZU1lbnUmJndpbmRvdy5vcGVyYSYmd2luZG93Lm9wZXJhLnZlcnNpb24mJnRoaXMuc2VsZWN0LmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpO2lmKHRoaXMuaXNNdWx0aXBsZSl0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhkLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSk7CihiLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpO3RoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2UucmVmcmVzaCgpfSk7dGhpcy5idWlsZCgpfSxidWlsZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zZWxlY3QuYXBwZW5kVG8oZS5idXR0b24pLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7ZS5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiZm9jdXMgdm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtlLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbigpe2UuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIHZtb3VzZW91dCIsZnVuY3Rpb24oKXtlLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdXQiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciIsCmZ1bmN0aW9uKCl7ZS5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrZS5vcHRpb25zLnRoZW1lKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYj10aGlzLnNlbGVjdGVkKCk7dGhpcy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikudGV4dChmdW5jdGlvbigpe3JldHVybiFlLmlzTXVsdGlwbGU/Yi50ZXh0KCk6Yi5sZW5ndGg/Yi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCIsICIpOmUucGxhY2Vob2xkZXJ9KX0sc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT0KdGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKTt0aGlzLnNldEJ1dHRvbkNvdW50KCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQodHJ1ZSk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKGZhbHNlKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihlLnRhcmdldCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiO2E7KXtpZigoYj10eXBlb2YgYS5jbGFzc05hbWU9PT0ic3RyaW5nIiYmYS5jbGFzc05hbWUrIiAiKSYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8MClicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1hLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihiKXtmb3IodmFyIGI9Ynx8e30sYz0wO2M8dGhpcy5sZW5ndGg7YysrKXt2YXIgaD10aGlzLmVxKGMpLGc9aFswXSxpPWEuZXh0ZW5kKHt9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLHtpY29uOmIuaWNvbiE9PWU/Yi5pY29uOmguanFtRGF0YSgiaWNvbiIpLGljb25wb3M6Yi5pY29ucG9zIT09ZT9iLmljb25wb3M6aC5qcW1EYXRhKCJpY29ucG9zIiksdGhlbWU6Yi50aGVtZSE9PWU/Yi50aGVtZTpoLmpxbURhdGEoInRoZW1lIiksaW5saW5lOmIuaW5saW5lIT09ZT9iLmlubGluZTpoLmpxbURhdGEoImlubGluZSIpLApzaGFkb3c6Yi5zaGFkb3chPT1lP2Iuc2hhZG93OmguanFtRGF0YSgic2hhZG93IiksY29ybmVyczpiLmNvcm5lcnMhPT1lP2IuY29ybmVyczpoLmpxbURhdGEoImNvcm5lcnMiKSxpY29uc2hhZG93OmIuaWNvbnNoYWRvdyE9PWU/Yi5pY29uc2hhZG93OmguanFtRGF0YSgiaWNvbnNoYWRvdyIpfSxiKSxsPSJ1aS1idG4taW5uZXIiLGssbyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaS53cmFwcGVyRWxzKSxxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaS53cmFwcGVyRWxzKSxqPWkuaWNvbj9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbDtpZighKGcudGFnTmFtZT09PSJJTlBVVCImJmguanFtRGF0YSgicm9sZSIpPT09ImJ1dHRvbiIpKWlmKGcudGFnTmFtZT09PSJCVVRUT04iKWEoZy5wYXJlbnROb2RlKS5oYXNDbGFzcygidWktYnRuIil8fGEoZykuYnV0dG9uKCk7ZWxzZXtkJiZkKCk7aWYoIWkudGhlbWUpaS50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShoLAoiYyIpO2s9InVpLWJ0biB1aS1idG4tdXAtIitpLnRoZW1lO2kuaW5saW5lJiYoays9IiB1aS1idG4taW5saW5lIik7aWYoaS5pY29uKWkuaWNvbj0idWktaWNvbi0iK2kuaWNvbixpLmljb25wb3M9aS5pY29ucG9zfHwibGVmdCIsbz0idWktaWNvbiAiK2kuaWNvbixpLmljb25zaGFkb3cmJihvKz0iIHVpLWljb24tc2hhZG93Iik7aS5pY29ucG9zJiYoays9IiB1aS1idG4taWNvbi0iK2kuaWNvbnBvcyxpLmljb25wb3M9PSJub3RleHQiJiYhaC5hdHRyKCJ0aXRsZSIpJiZoLmF0dHIoInRpdGxlIixoLmdldEVuY29kZWRUZXh0KCkpKTtpLmNvcm5lcnMmJihrKz0iIHVpLWJ0bi1jb3JuZXItYWxsIixsKz0iIHVpLWJ0bi1jb3JuZXItYWxsIik7aS5zaGFkb3cmJihrKz0iIHVpLXNoYWRvdyIpO2cuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixpLnRoZW1lKTtoLmFkZENsYXNzKGspO24uY2xhc3NOYW1lPWw7cS5jbGFzc05hbWU9InVpLWJ0bi10ZXh0IjtuLmFwcGVuZENoaWxkKHEpOwppZihqKWouY2xhc3NOYW1lPW8sbi5hcHBlbmRDaGlsZChqKTtmb3IoO2cuZmlyc3RDaGlsZDspcS5hcHBlbmRDaGlsZChnLmZpcnN0Q2hpbGQpO2cuYXBwZW5kQ2hpbGQobik7YS5kYXRhKGcsInRleHRXcmFwcGVyIixhKHEpKX19cmV0dXJuIHRoaXN9O2EuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLGlubGluZTpmYWxzZSx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIGQ9ZnVuY3Rpb24oKXthKGRvY3VtZW50KS5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKGQpe3ZhciBkPWIoZC50YXJnZXQpLGM7ZCYmKGQ9YShkKSxjPWQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGQucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2MpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2MpKX0sInZtb3VzZWNhbmNlbCB2bW91c2V1cCI6ZnVuY3Rpb24oZCl7dmFyIGQ9YihkLnRhcmdldCksYztkJiYoZD1hKGQpLGM9ZC5hdHRyKCJkYXRhLSIrCmEubW9iaWxlLm5zKyJ0aGVtZSIpLGQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2MpKX0sInZtb3VzZW92ZXIgZm9jdXMiOmZ1bmN0aW9uKGQpe3ZhciBkPWIoZC50YXJnZXQpLGM7ZCYmKGQ9YShkKSxjPWQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGQucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2MpLmFkZENsYXNzKCJ1aS1idG4taG92ZXItIitjKSl9LCJ2bW91c2VvdXQgYmx1ciI6ZnVuY3Rpb24oZCl7dmFyIGQ9YihkLnRhcmdldCksYztkJiYoZD1hKGQpLGM9ZC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksZC5yZW1vdmVDbGFzcygidWktYnRuLWhvdmVyLSIrYysiIHVpLWJ0bi1kb3duLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2MpKX19KTtkPW51bGx9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsCmIudGFyZ2V0KS5ub3QoIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uTWFya3VwKCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLmZuLmNvbnRyb2xncm91cD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXthLnJlbW92ZUNsYXNzKCJ1aS1idG4tY29ybmVyLWFsbCB1aS1zaGFkb3ciKS5lcSgwKS5hZGRDbGFzcyhoWzBdKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoaFsxXSkuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC1sYXN0Iil9dmFyIGQ9YSh0aGlzKSxmPWEuZXh0ZW5kKHtkaXJlY3Rpb246ZC5qcW1EYXRhKCJ0eXBlIil8fCJ2ZXJ0aWNhbCIsc2hhZG93OmZhbHNlLGV4Y2x1ZGVJbnZpc2libGU6dHJ1ZX0sZSksYz1kLmNoaWxkcmVuKCJsZWdlbmQiKSxoPWYuZGlyZWN0aW9uPT0iaG9yaXpvbnRhbCI/WyJ1aS1jb3JuZXItbGVmdCIsInVpLWNvcm5lci1yaWdodCJdOlsidWktY29ybmVyLXRvcCIsInVpLWNvcm5lci1ib3R0b20iXTtkLmZpbmQoImlucHV0IikuZmlyc3QoKS5hdHRyKCJ0eXBlIik7Yy5sZW5ndGgmJihkLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzJz48L2Rpdj4iKSwKYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz4iK2MuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZC5jaGlsZHJlbigwKSksYy5yZW1vdmUoKSk7ZC5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrZi5kaXJlY3Rpb24pO2IoZC5maW5kKCIudWktYnRuIisoZi5leGNsdWRlSW52aXNpYmxlPyI6dmlzaWJsZSI6IiIpKSk7YihkLmZpbmQoIi51aS1idG4taW5uZXIiKSk7Zi5zaGFkb3cmJmQuYWRkQ2xhc3MoInVpLXNoYWRvdyIpfSl9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKCI6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSIsZS50YXJnZXQpLmNvbnRyb2xncm91cCh7ZXhjbHVkZUludmlzaWJsZTpmYWxzZX0pfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EoZS50YXJnZXQpLmZpbmQoImEiKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7YS5mbi5maXhIZWFkZXJGb290ZXI9ZnVuY3Rpb24oKXtyZXR1cm4hYS5zdXBwb3J0LnNjcm9sbFRvcHx8YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJmEubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmYi5hZGRDbGFzcygidWktcGFnZS1mdWxsc2NyZWVuIik7Yi5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIik7Yi5maW5kKCIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktZm9vdGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIil9KX07YS5tb2JpbGUuZml4ZWRUb29sYmFycz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXshaSYmZz09PSJvdmVybGF5IiYmKGh8fGEubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSh0cnVlKSwKYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpKX1mdW5jdGlvbiBkKGEpe3ZhciBiPTAsYyxkO2lmKGEpe2Q9ZG9jdW1lbnQuYm9keTtjPWEub2Zmc2V0UGFyZW50O2ZvcihiPWEub2Zmc2V0VG9wO2EmJmEhPWQ7KXtiKz1hLnNjcm9sbFRvcHx8MDtpZihhPT1jKWIrPWMub2Zmc2V0VG9wLGM9YS5vZmZzZXRQYXJlbnQ7YT1hLnBhcmVudE5vZGV9fXJldHVybiBifWZ1bmN0aW9uIGYoYil7dmFyIGM9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGU9ZChiWzBdKSxmPWIuY3NzKCJ0b3AiKT09ImF1dG8iPzA6cGFyc2VGbG9hdChiLmNzcygidG9wIikpLGc9d2luZG93LmlubmVySGVpZ2h0LGg9Yi5vdXRlckhlaWdodCgpLGk9Yi5wYXJlbnRzKCIudWktcGFnZTpub3QoLnVpLXBhZ2UtZnVsbHNjcmVlbikiKS5sZW5ndGg7cmV0dXJuIGIuaXMoIi51aS1oZWFkZXItZml4ZWQiKT8oZj1jLWUrZixmPGUmJihmPTApLGIuY3NzKCJ0b3AiLGk/ZjpjKSk6Yi5jc3MoInRvcCIsaT9jKwpnLWgtKGUtZik6YytnLWgpfWlmKGEuc3VwcG9ydC5zY3JvbGxUb3AmJighYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fCFhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCkpe3ZhciBjLGgsZz0iaW5saW5lIixpPWZhbHNlLGw9bnVsbCxrPWZhbHNlLG89dHJ1ZTthKGZ1bmN0aW9uKCl7dmFyIGM9YShkb2N1bWVudCksZD1hKHdpbmRvdyk7Yy5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe28mJihsPWcpfSkuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtvJiYhYShiLnRhcmdldCkuY2xvc2VzdCgiYSxpbnB1dCx0ZXh0YXJlYSxzZWxlY3QsYnV0dG9uLGxhYmVsLC51aS1oZWFkZXItZml4ZWQsLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmIWsmJihhLm1vYmlsZS5maXhlZFRvb2xiYXJzLnRvZ2dsZShsKSxsPW51bGwpfSkuYmluZCgic2lsZW50c2Nyb2xsIixiKTsoYy5zY3JvbGxUb3AoKT09PTA/ZDpjKS5iaW5kKCJzY3JvbGxzdGFydCIsZnVuY3Rpb24oKXtrPXRydWU7bD09PQpudWxsJiYobD1nKTt2YXIgYj1sPT0ib3ZlcmxheSI7aWYoaT1ifHwhIWgpYS5tb2JpbGUuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpLGImJmEubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSh0cnVlKX0pLmJpbmQoInNjcm9sbHN0b3AiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGh8fChrPWZhbHNlLGkmJihhLm1vYmlsZS5maXhlZFRvb2xiYXJzLnN0YXJ0U2hvd1RpbWVyKCksaT1mYWxzZSksbD1udWxsKX0pO2QuYmluZCgicmVzaXplIHVwZGF0ZWxheW91dCIsYil9KTthKGRvY3VtZW50KS5kZWxlZ2F0ZSgiLnVpLXBhZ2UiLCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oYixkKXt2YXIgZT1hKGIudGFyZ2V0KS5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGc9ZS5kYXRhKCJpZCIpLGg9ZC5wcmV2UGFnZSwKaD1oJiZoLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksaD1oLmxlbmd0aCYmaC5qcW1EYXRhKCJpZCIpPT09ZztnJiZoJiYoYz1lLGYoYy5yZW1vdmVDbGFzcygiZmFkZSBpbiBvdXQiKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSkpfSkuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZXNob3ciLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtjJiZjLmxlbmd0aCYmc2V0VGltZW91dChmdW5jdGlvbigpe2YoYy5hcHBlbmRUbyhiKS5hZGRDbGFzcygiZmFkZSIpKTtjPW51bGx9LDUwMCk7YS5tb2JpbGUuZml4ZWRUb29sYmFycy5zaG93KHRydWUsdGhpcyl9KTthKGRvY3VtZW50KS5kZWxlZ2F0ZSgiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iLCJjb2xsYXBzZSBleHBhbmQiLGIpO3JldHVybntzaG93OmZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpO2c9Im92ZXJsYXkiO3JldHVybihjP2EoYyk6YS5tb2JpbGUuYWN0aXZlUGFnZT8KYS5tb2JpbGUuYWN0aXZlUGFnZTphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZT1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZz1kKGNbMF0pLGg9d2luZG93LmlubmVySGVpZ2h0LGk9Yy5vdXRlckhlaWdodCgpLGU9Yy5pcygiLnVpLWhlYWRlci1maXhlZCIpJiZlPD1nK2l8fGMuaXMoIi51aS1mb290ZXItZml4ZWQiKSYmZzw9ZStoO2MuYWRkQ2xhc3MoInVpLWZpeGVkLW92ZXJsYXkiKS5yZW1vdmVDbGFzcygidWktZml4ZWQtaW5saW5lIik7IWUmJiFiJiZjLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygiaW4iKX0pLmFkZENsYXNzKCJpbiIpO2YoYyl9KX0saGlkZTpmdW5jdGlvbihiKXtnPSJpbmxpbmUiO3JldHVybihhLm1vYmlsZS5hY3RpdmVQYWdlP2EubW9iaWxlLmFjdGl2ZVBhZ2U6CmEoIi51aS1wYWdlLWFjdGl2ZSIpKS5jaGlsZHJlbigiLnVpLWhlYWRlci1maXhlZDpmaXJzdCwgLnVpLWZvb3Rlci1maXhlZDpub3QoLnVpLWZvb3Rlci1kdXBsaWNhdGUpOmxhc3QiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuY3NzKCJ0b3AiKSxkPWQ9PSJhdXRvIj8wOnBhcnNlRmxvYXQoZCk7Yy5hZGRDbGFzcygidWktZml4ZWQtaW5saW5lIikucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLW92ZXJsYXkiKTtpZihkPDB8fGMuaXMoIi51aS1oZWFkZXItZml4ZWQiKSYmZCE9PTApYj9jLmNzcygidG9wIiwwKTpjLmNzcygidG9wIikhPT0iYXV0byImJnBhcnNlRmxvYXQoYy5jc3MoInRvcCIpKSE9PTAmJmMuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJvdXQgcmV2ZXJzZSIpLmNzcygidG9wIiwwKX0pLmFkZENsYXNzKCJvdXQgcmV2ZXJzZSIpfSl9LHN0YXJ0U2hvd1RpbWVyOmZ1bmN0aW9uKCl7YS5tb2JpbGUuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpOwp2YXIgYj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7aD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aD1lO2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuc2hvdy5hcHBseShudWxsLGIpfSwxMDApfSxjbGVhclNob3dUaW1lcjpmdW5jdGlvbigpe2gmJmNsZWFyVGltZW91dChoKTtoPWV9LHRvZ2dsZTpmdW5jdGlvbihiKXtiJiYoZz1iKTtyZXR1cm4gZz09PSJvdmVybGF5Ij9hLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUoKTphLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coKX0sc2V0VG91Y2hUb2dnbGVFbmFibGVkOmZ1bmN0aW9uKGEpe289YX19fX0oKTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiLGIudGFyZ2V0KS5sZW5ndGgmJmEoYi50YXJnZXQpLmVhY2goZnVuY3Rpb24oKXtpZighYS5zdXBwb3J0LnNjcm9sbFRvcHx8YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJmEubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkKXJldHVybiB0aGlzOwp2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZiLmFkZENsYXNzKCJ1aS1wYWdlLWZ1bGxzY3JlZW4iKTtiLmZpbmQoIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKTtiLmZpbmQoIi51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1mb290ZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKX0pfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQ9ZmFsc2U7YS5tb2JpbGUudG91Y2hPdmVyZmxvd1pvb21FbmFibGVkPWZhbHNlO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKGUpe2Euc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCYmKGU9YShlLnRhcmdldCksZS5pcygiOmpxbURhdGEocm9sZT0ncGFnZScpIikmJmUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1iLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmZpbHRlcigiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKSxlPWIuanFtRGF0YSgiZnVsbHNjcmVlbiIpLGM9ZC5sZW5ndGg/Yi5maW5kKCIudWktY29udGVudCIpOmI7Yi5hZGRDbGFzcygidWktbW9iaWxlLXRvdWNoLW92ZXJmbG93Iik7Yy5iaW5kKCJzY3JvbGxzdG9wIixmdW5jdGlvbigpe2Muc2Nyb2xsVG9wKCk+CjAmJndpbmRvdy5zY3JvbGxUbygwLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKX0pO2QubGVuZ3RoJiYoYi5hZGRDbGFzcygidWktbmF0aXZlLWZpeGVkIiksZSYmKGIuYWRkQ2xhc3MoInVpLW5hdGl2ZS1mdWxsc2NyZWVuIiksZC5hZGRDbGFzcygiZmFkZSBpbiIpLGEoZG9jdW1lbnQpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKCJ1aS1uYXRpdmUtYmFycy1oaWRkZW4iKS50b2dnbGVDbGFzcygiaW4gb3V0IikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXthKHRoaXMpLm5vdCgiLmluIikuYWRkQ2xhc3MoInVpLW5hdGl2ZS1iYXJzLWhpZGRlbiIpfSl9KSkpfSkpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBiKCl7dmFyIGI9YSgibWV0YVtuYW1lPSd2aWV3cG9ydCddIik7Yi5sZW5ndGg/Yi5hdHRyKCJjb250ZW50IixiLmF0dHIoImNvbnRlbnQiKSsiLCB1c2VyLXNjYWxhYmxlPW5vIik6YSgiaGVhZCIpLnByZXBlbmQoIjxtZXRhPiIse25hbWU6InZpZXdwb3J0Iixjb250ZW50OiJ1c2VyLXNjYWxhYmxlPW5vIn0pfXZhciBkPWEoImh0bWwiKTthKCJoZWFkIik7dmFyIGY9YShlKTthKGUuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKTtpZihhLm1vYmlsZS5ncmFkZUEoKSl7aWYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdClhLm1vYmlsZS5hamF4RW5hYmxlZD1mYWxzZTtkLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpO3ZhciBjPWEoIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1ib2R5LWEgdWktY29ybmVyLWFsbCc+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nIHNwaW4nPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iKTsKYS5leHRlbmQoYS5tb2JpbGUse3Nob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2lmKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTtjLmZpbmQoImgxIikudGV4dChhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSkuZW5kKCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmZi5zY3JvbGxUb3AoKStmLmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9ZC5hZGRDbGFzcygidWktbG9hZGluZyIpfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIil9LGluaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGIsYz1hKCI6anFtRGF0YShyb2xlPSdwYWdlJykiKTtjLmxlbmd0aHx8KGI9YSgiOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKSxiLmxlbmd0aD8oYi5maXJzdCgpLmF0dHIoImRhdGEtIisKYS5tb2JpbGUubnMrInJvbGUiLCJwYWdlIiksYz1jLmFkZChiLmdldCgpLnNoaWZ0KCkpKTpjPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSk7Yy5hZGQoIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSk7YS5tb2JpbGUuZmlyc3RQYWdlPWMuZmlyc3QoKTthLm1vYmlsZS5wYWdlQ29udGFpbmVyPWMuZmlyc3QoKS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0Iik7Zi50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIik7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCk7IWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHwhYS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCk/CmEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOnRydWUsY2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfSk6Zi50cmlnZ2VyKCJoYXNoY2hhbmdlIixbdHJ1ZV0pfX0pO2Euc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCYmIWEubW9iaWxlLnRvdWNoT3ZlcmZsb3dab29tRW5hYmxlZCYmYigpO2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCk7YShmdW5jdGlvbigpe2Uuc2Nyb2xsVG8oMCwxKTthLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD0hYS5zdXBwb3J0LnNjcm9sbFRvcHx8YShlKS5zY3JvbGxUb3AoKT09PTE/MDoxO2EubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTtmLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKX0pfX0pKGpRdWVyeSx0aGlzKTsK",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgdjEuMC4xIGpxdWVyeW1vYmlsZS5jb20gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KKGZ1bmN0aW9uKGEsZSl7aWYoYS5jbGVhbkRhdGEpe3ZhciBiPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGYpe2Zvcih2YXIgYz0wLGQ7KGQ9ZltjXSkhPW51bGw7YysrKWEoZCkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpO2IoZil9fWVsc2V7dmFyIGQ9YS5mbi5yZW1vdmU7YS5mbi5yZW1vdmU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Y3x8KCFifHxhLmZpbHRlcihiLFt0aGlzXSkubGVuZ3RoKSYmYSgiKiIsdGhpcykuYWRkKFt0aGlzXSkuZWFjaChmdW5jdGlvbigpe2EodGhpcykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfSk7cmV0dXJuIGQuY2FsbChhKHRoaXMpLGIsYyl9KX19YS53aWRnZXQ9ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWIuc3BsaXQoIi4iKVswXSxpLGI9Yi5zcGxpdCgiLiIpWzFdO2k9ZSsiLSIrYjtpZighZClkPWMsYz1hLldpZGdldDthLmV4cHJbIjoiXVtpXT1mdW5jdGlvbihjKXtyZXR1cm4hIWEuZGF0YShjLApiKX07YVtlXT1hW2VdfHx7fTthW2VdW2JdPWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2M9bmV3IGM7Yy5vcHRpb25zPWEuZXh0ZW5kKHRydWUse30sYy5vcHRpb25zKTthW2VdW2JdLnByb3RvdHlwZT1hLmV4dGVuZCh0cnVlLGMse25hbWVzcGFjZTplLHdpZGdldE5hbWU6Yix3aWRnZXRFdmVudFByZWZpeDphW2VdW2JdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeHx8Yix3aWRnZXRCYXNlQ2xhc3M6aX0sZCk7YS53aWRnZXQuYnJpZGdlKGIsYVtlXVtiXSl9O2Eud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihiLGMpe2EuZm5bYl09ZnVuY3Rpb24oZCl7dmFyIGc9dHlwZW9mIGQ9PT0ic3RyaW5nIixpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxsPXRoaXMsZD0hZyYmaS5sZW5ndGg/YS5leHRlbmQuYXBwbHkobnVsbCxbdHJ1ZSxkXS5jb25jYXQoaSkpOmQ7aWYoZyYmZC5jaGFyQXQoMCk9PT0iXyIpcmV0dXJuIGw7Cmc/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YS5kYXRhKHRoaXMsYik7aWYoIWMpdGhyb3ciY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2IrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2QrIiciO2lmKCFhLmlzRnVuY3Rpb24oY1tkXSkpdGhyb3cibm8gc3VjaCBtZXRob2QgJyIrZCsiJyBmb3IgIitiKyIgd2lkZ2V0IGluc3RhbmNlIjt2YXIgZz1jW2RdLmFwcGx5KGMsaSk7aWYoZyE9PWMmJmchPT1lKXJldHVybiBsPWcsZmFsc2V9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1hLmRhdGEodGhpcyxiKTtlP2Uub3B0aW9uKGR8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGIsbmV3IGMoZCx0aGlzKSl9KTtyZXR1cm4gbH19O2EuV2lkZ2V0PWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2EuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIiwKb3B0aW9uczp7ZGlzYWJsZWQ6ZmFsc2V9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixjKXthLmRhdGEoYyx0aGlzLndpZGdldE5hbWUsdGhpcyk7dGhpcy5lbGVtZW50PWEoYyk7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHRydWUse30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKTt2YXIgZD10aGlzO3RoaXMuZWxlbWVudC5iaW5kKCJyZW1vdmUuIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oKXtkLmRlc3Ryb3koKX0pO3RoaXMuX2NyZWF0ZSgpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIpO3RoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYj17fTthLm1ldGFkYXRhJiYoYj1hLm1ldGFkYXRhLmdldChlbGVtZW50KVt0aGlzLndpZGdldE5hbWVdKTtyZXR1cm4gYn0sX2NyZWF0ZTpmdW5jdGlvbigpe30sX2luaXQ6ZnVuY3Rpb24oKXt9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lKTsKdGhpcy53aWRnZXQoKS51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YjtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gYS5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYj09PSJzdHJpbmciKXtpZihjPT09ZSlyZXR1cm4gdGhpcy5vcHRpb25zW2JdO2Q9e307ZFtiXT1jfXRoaXMuX3NldE9wdGlvbnMoZCk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YS5lYWNoKGIsZnVuY3Rpb24oYSxiKXtjLl9zZXRPcHRpb24oYSxiKX0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5vcHRpb25zW2FdPWI7YT09PSJkaXNhYmxlZCImJgp0aGlzLndpZGdldCgpW2I/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYik7cmV0dXJuIHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzLm9wdGlvbnNbYl0sYz1hLkV2ZW50KGMpO2MudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCk7ZD1kfHx7fTtpZihjLm9yaWdpbmFsRXZlbnQpZm9yKHZhciBiPWEuZXZlbnQucHJvcHMubGVuZ3RoLGk7YjspaT1hLmV2ZW50LnByb3BzWy0tYl0sY1tpXT1jLm9yaWdpbmFsRXZlbnRbaV07dGhpcy5lbGVtZW50LnRyaWdnZXIoYywKZCk7cmV0dXJuIShhLmlzRnVuY3Rpb24oZSkmJmUuY2FsbCh0aGlzLmVsZW1lbnRbMF0sYyxkKT09PWZhbHNlfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7YS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD17fTthLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBjPWIuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtjIT09ZSYmKGRbYV09Yyl9KTtyZXR1cm4gZH0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbihiKXt2YXIgZD1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoYShiKSksZD1kJiZkLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIjthKHRoaXMub3B0aW9ucy5pbml0U2VsZWN0b3IsYikubm90KGQpW3RoaXMud2lkZ2V0TmFtZV0oKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthKHdpbmRvdyk7dmFyIGU9YSgiaHRtbCIpO2EubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKCl7dmFyIGI9e30sZD1hKCI8ZGl2IGlkPSdqcXVlcnktbWVkaWF0ZXN0Jz4iKSxmPWEoIjxib2R5PiIpLmFwcGVuZChkKTtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoIShhIGluIGIpKXt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGc9IkBtZWRpYSAiK2ErIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfSI7aC50eXBlPSJ0ZXh0L2NzcyI7aC5zdHlsZVNoZWV0P2guc3R5bGVTaGVldC5jc3NUZXh0PWc6aC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShnKSk7ZS5wcmVwZW5kKGYpLnByZXBlbmQoaCk7YlthXT1kLmNzcygicG9zaXRpb24iKT09PSJhYnNvbHV0ZSI7Zi5hZGQoaCkucmVtb3ZlKCl9cmV0dXJuIGJbYV19fSgpfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGE9KGErIiAiK2Muam9pbihiKyIgIikrYikuc3BsaXQoIiAiKSxkO2ZvcihkIGluIGEpaWYoZlthW2RdXSE9PWUpcmV0dXJuIHRydWV9dmFyIGQ9YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksZj1kWzBdLnN0eWxlLGM9WyJXZWJraXQiLCJNb3oiLCJPIl0saD0icGFsbUdldFJlc291cmNlImluIHdpbmRvdyxnPXdpbmRvdy5vcGVyYW1pbmkmJnt9LnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIixpPXdpbmRvdy5ibGFja2JlcnJ5O2EubW9iaWxlLmJyb3dzZXI9e307YS5tb2JpbGUuYnJvd3Nlci5pZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYz1iLmFsbHx8W107Yi5pbm5lckhUTUw9IjxcIS0tW2lmIGd0IElFICIrICsrYSsiXT48YnI+PCFbZW5kaWZdLS1cPiIsCmNbMF07KTtyZXR1cm4gYT40P2E6IWF9KCk7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gd2luZG93JiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiB3aW5kb3csdG91Y2g6Im9udG91Y2hlbmQiaW4gZG9jdW1lbnQsY3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiB3aW5kb3cscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5LG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWIoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhYigib3ZlcmZsb3dTY3JvbGxpbmciKSxib3hTaGFkb3c6ISFiKCJib3hTaGFkb3ciKSYmIWksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gd2luZG93fHwic2Nyb2xsVG9wImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBkWzBdKSYmIWgmJiFnLGR5bmFtaWNCYXNlVGFnOmZ1bmN0aW9uKCl7dmFyIGI9CmxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsYz1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZT0iIixoO2MubGVuZ3RoP2U9Yy5hdHRyKCJocmVmIik6Yz1mPWEoIjxiYXNlPiIse2hyZWY6Yn0pLmFwcGVuZFRvKCJoZWFkIik7aD1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhkKVswXS5ocmVmO2NbMF0uaHJlZj1lfHxsb2NhdGlvbi5wYXRobmFtZTtmJiZmLnJlbW92ZSgpO3JldHVybiBoLmluZGV4T2YoYik9PT0wfSgpfSk7ZC5yZW1vdmUoKTtoPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGEuaW5kZXhPZigiTm9raWEiKT4tMSYmKGEuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGEuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7CmEubW9iaWxlLmFqYXhCbGFja2xpc3Q9d2luZG93LmJsYWNrYmVycnkmJiF3aW5kb3cuV2ViS2l0UG9pbnR8fGd8fGg7aCYmYShmdW5jdGlvbigpe2EoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSk7YS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSxiLGQpe2Z1bmN0aW9uIGYoYSl7Zm9yKDthJiZ0eXBlb2YgYS5vcmlnaW5hbEV2ZW50IT09InVuZGVmaW5lZCI7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGMoYil7Zm9yKHZhciBjPXt9LGYsZDtiOyl7Zj1hLmRhdGEoYixtKTtmb3IoZCBpbiBmKWlmKGZbZF0pY1tkXT1jLmhhc1ZpcnR1YWxCaW5kaW5nPXRydWU7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGN9ZnVuY3Rpb24gaCgpe3cmJihjbGVhclRpbWVvdXQodyksdz0wKTt3PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtEPXc9MDt1Lmxlbmd0aD0wO0M9ZmFsc2U7eT10cnVlfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIGcoYixjLHIpe3ZhciBlLGg7aWYoIShoPXImJnJbYl0pKXtpZihyPSFyKWE6e2ZvcihyPWMudGFyZ2V0O3I7KXtpZigoaD1hLmRhdGEocixtKSkmJighYnx8aFtiXSkpYnJlYWsgYTtyPXIucGFyZW50Tm9kZX1yPW51bGx9aD1yfWlmKGgpe2U9Yzt2YXIgcj0KZS50eXBlLGcsaTtlPWEuRXZlbnQoZSk7ZS50eXBlPWI7aD1lLm9yaWdpbmFsRXZlbnQ7Zz1hLmV2ZW50LnByb3BzO2lmKGgpZm9yKGk9Zy5sZW5ndGg7aTspYj1nWy0taV0sZVtiXT1oW2JdO2lmKHIuc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhZS53aGljaCllLndoaWNoPTE7aWYoci5zZWFyY2goL150b3VjaC8pIT09LTEmJihiPWYoaCkscj1iLnRvdWNoZXMsYj1iLmNoYW5nZWRUb3VjaGVzLHI9ciYmci5sZW5ndGg/clswXTpiJiZiLmxlbmd0aD9iWzBdOmQpKWZvcihoPTAsbGVuPXoubGVuZ3RoO2g8bGVuO2grKyliPXpbaF0sZVtiXT1yW2JdO2EoYy50YXJnZXQpLnRyaWdnZXIoZSl9cmV0dXJuIGV9ZnVuY3Rpb24gaShiKXt2YXIgYz1hLmRhdGEoYi50YXJnZXQsQSk7aWYoIUMmJighRHx8RCE9PWMpKWlmKGM9ZygidiIrYi50eXBlLGIpKWMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJgpiLnN0b3BQcm9wYWdhdGlvbigpLGMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBsKGIpe3ZhciBkPWYoYikudG91Y2hlcyxlO2lmKGQmJmQubGVuZ3RoPT09MSYmKGU9Yi50YXJnZXQsZD1jKGUpLGQuaGFzVmlydHVhbEJpbmRpbmcpKUQ9cisrLGEuZGF0YShlLEEsRCksdyYmKGNsZWFyVGltZW91dCh3KSx3PTApLHg9eT1mYWxzZSxlPWYoYikudG91Y2hlc1swXSx2PWUucGFnZVgscz1lLnBhZ2VZLGcoInZtb3VzZW92ZXIiLGIsZCksZygidm1vdXNlZG93biIsYixkKX1mdW5jdGlvbiBrKGEpe3l8fCh4fHxnKCJ2bW91c2VjYW5jZWwiLGEsYyhhLnRhcmdldCkpLHg9dHJ1ZSxoKCkpfWZ1bmN0aW9uIG8oYil7aWYoIXkpe3ZhciBkPWYoYikudG91Y2hlc1swXSxyPXgsZT1hLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQ7eD14fHxNYXRoLmFicyhkLnBhZ2VYLXYpPmV8fE1hdGguYWJzKGQucGFnZVktCnMpPmU7ZmxhZ3M9YyhiLnRhcmdldCk7eCYmIXImJmcoInZtb3VzZWNhbmNlbCIsYixmbGFncyk7Zygidm1vdXNlbW92ZSIsYixmbGFncyk7aCgpfX1mdW5jdGlvbiBuKGEpe2lmKCF5KXt5PXRydWU7dmFyIGI9YyhhLnRhcmdldCksZDtnKCJ2bW91c2V1cCIsYSxiKTtpZigheCYmKGQ9ZygidmNsaWNrIixhLGIpKSYmZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlkPWYoYSkuY2hhbmdlZFRvdWNoZXNbMF0sdS5wdXNoKHt0b3VjaElEOkQseDpkLmNsaWVudFgseTpkLmNsaWVudFl9KSxDPXRydWU7Zygidm1vdXNlb3V0IixhLGIpO3g9ZmFsc2U7aCgpfX1mdW5jdGlvbiBxKGIpe3ZhciBiPWEuZGF0YShiLG0pLGM7aWYoYilmb3IoYyBpbiBiKWlmKGJbY10pcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIGooKXt9ZnVuY3Rpb24gcChiKXt2YXIgYz1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXtxKHRoaXMpfHxhLmRhdGEodGhpcyxtLHt9KTthLmRhdGEodGhpcywKbSlbYl09dHJ1ZTt0W2JdPSh0W2JdfHwwKSsxO3RbYl09PT0xJiZCLmJpbmQoYyxpKTthKHRoaXMpLmJpbmQoYyxqKTtpZihFKXQudG91Y2hzdGFydD0odC50b3VjaHN0YXJ0fHwwKSsxLHQudG91Y2hzdGFydD09PTEmJkIuYmluZCgidG91Y2hzdGFydCIsbCkuYmluZCgidG91Y2hlbmQiLG4pLmJpbmQoInRvdWNobW92ZSIsbykuYmluZCgic2Nyb2xsIixrKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLXRbYl07dFtiXXx8Qi51bmJpbmQoYyxpKTtFJiYoLS10LnRvdWNoc3RhcnQsdC50b3VjaHN0YXJ0fHxCLnVuYmluZCgidG91Y2hzdGFydCIsbCkudW5iaW5kKCJ0b3VjaG1vdmUiLG8pLnVuYmluZCgidG91Y2hlbmQiLG4pLnVuYmluZCgic2Nyb2xsIixrKSk7dmFyIGQ9YSh0aGlzKSxmPWEuZGF0YSh0aGlzLG0pO2YmJihmW2JdPWZhbHNlKTtkLnVuYmluZChjLGopO3EodGhpcyl8fGQucmVtb3ZlRGF0YShtKX19fXZhciBtPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsQT0idmlydHVhbFRvdWNoSUQiLAplPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSx6PSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLHQ9e30sdz0wLHY9MCxzPTAseD1mYWxzZSx1PVtdLEM9ZmFsc2UseT1mYWxzZSxFPSJhZGRFdmVudExpc3RlbmVyImluIGIsQj1hKGIpLHI9MSxEPTA7YS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIEY9MDtGPGUubGVuZ3RoO0YrKylhLmV2ZW50LnNwZWNpYWxbZVtGXV09cChlW0ZdKTtFJiZiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz11Lmxlbmd0aCxkPWIudGFyZ2V0LGYscixlLGgsZztpZihjKXtmPWIuY2xpZW50WDtyPWIuY2xpZW50WTt0aHJlc2hvbGQ9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZDsKZm9yKGU9ZDtlOyl7Zm9yKGg9MDtoPGM7aCsrKWlmKGc9dVtoXSxlPT09ZCYmTWF0aC5hYnMoZy54LWYpPHRocmVzaG9sZCYmTWF0aC5hYnMoZy55LXIpPHRocmVzaG9sZHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpe2IucHJldmVudERlZmF1bHQoKTtiLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybn1lPWUucGFyZW50Tm9kZX19fSx0cnVlKX0pKGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpOwooZnVuY3Rpb24oYSxlLGIpe2Z1bmN0aW9uIGQoYixjLGQpe3ZhciBmPWQudHlwZTtkLnR5cGU9YzthLmV2ZW50LmhhbmRsZS5jYWxsKGIsZCk7ZC50eXBlPWZ9YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCBvcmllbnRhdGlvbmNoYW5nZSB0aHJvdHRsZWRyZXNpemUgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGMpe2EuZm5bY109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGMsYSk6dGhpcy50cmlnZ2VyKGMpfTthLmF0dHJGbltjXT10cnVlfSk7dmFyIGY9YS5zdXBwb3J0LnRvdWNoLGM9Zj8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaD1mPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGc9Zj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6dHJ1ZSxzZXR1cDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSwKZSl7Zj1lO2QoYyxmPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjPXRoaXMsZixlO2EoYykuYmluZCgidG91Y2htb3ZlIHNjcm9sbCIsZnVuY3Rpb24oYyl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihmfHxiKGMsdHJ1ZSksY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChmdW5jdGlvbigpe2IoYyxmYWxzZSl9LDUwKSl9KX19O2EuZXZlbnQuc3BlY2lhbC50YXA9e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEoYik7Yy5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihmKXtmdW5jdGlvbiBlKCl7Y2xlYXJUaW1lb3V0KHApfWZ1bmN0aW9uIGgoKXtlKCk7Yy51bmJpbmQoInZjbGljayIsZykudW5iaW5kKCJ2bW91c2V1cCIsZSkudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGgpfWZ1bmN0aW9uIGcoYSl7aCgpO2o9PWEudGFyZ2V0JiZkKGIsInRhcCIsYSl9aWYoZi53aGljaCYmZi53aGljaCE9PTEpcmV0dXJuIGZhbHNlO3ZhciBqPWYudGFyZ2V0LApwO2MuYmluZCgidm1vdXNlY2FuY2VsIixoKS5iaW5kKCJ2bW91c2V1cCIsZSkuYmluZCgidmNsaWNrIixnKTtwPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkKGIsInRhcGhvbGQiLGEuRXZlbnQoInRhcGhvbGQiKSl9LDc1MCl9KX19O2EuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDoxMCxkdXJhdGlvblRocmVzaG9sZDoxRTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpO2QuYmluZChjLGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGYoYil7aWYobil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YjtxPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYy5wYWdlWCxjLnBhZ2VZXX07TWF0aC5hYnMobi5jb29yZHNbMF0tcS5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiYKYi5wcmV2ZW50RGVmYXVsdCgpfX12YXIgZT1jLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9jLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpjLG49e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltlLnBhZ2VYLGUucGFnZVldLG9yaWdpbjphKGMudGFyZ2V0KX0scTtkLmJpbmQoZyxmKS5vbmUoaCxmdW5jdGlvbigpe2QudW5iaW5kKGcsZik7biYmcSYmcS50aW1lLW4udGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKG4uY29vcmRzWzBdLXEuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhuLmNvb3Jkc1sxXS1xLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJm4ub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihuLmNvb3Jkc1swXT5xLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpOwpuPXE9Yn0pfSl9fTsoZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZigpO2EhPT1lJiYoZT1hLGQudHJpZ2dlcigib3JpZW50YXRpb25jaGFuZ2UiKSl9dmFyIGQ9YShiKSxmLGUsaCxnLG09ezA6dHJ1ZSwxODA6dHJ1ZX07aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYoaD1hLm1vYmlsZS5tZWRpYSgiYWxsIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSkiKSxnPW1bYi5vcmllbnRhdGlvbl0saCYmZ3x8IWgmJiFnKSltPXsiLTkwIjp0cnVlLDkwOnRydWV9O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24mJmEubW9iaWxlLm9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZClyZXR1cm4gZmFsc2U7ZT1mKCk7ZC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTsKZC51bmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYyl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe2Eub3JpZW50YXRpb249ZigpO3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fTthLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249Zj1mdW5jdGlvbigpe3ZhciBjPXRydWUsYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuKGM9YS5zdXBwb3J0Lm9yaWVudGF0aW9uP21bYi5vcmllbnRhdGlvbl06YyYmYy5jbGllbnRXaWR0aC9jLmNsaWVudEhlaWdodDwxLjEpPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9fSkoalF1ZXJ5LGUpOyhmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC50aHJvdHRsZWRyZXNpemU9e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKCJyZXNpemUiLGIpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKCJyZXNpemUiLGIpfX07dmFyIGI9ZnVuY3Rpb24oKXtmPQoobmV3IERhdGUpLmdldFRpbWUoKTtlPWYtYztlPj0yNTA/KGM9ZixhKHRoaXMpLnRyaWdnZXIoInRocm90dGxlZHJlc2l6ZSIpKTooZCYmY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChiLDI1MC1lKSl9LGM9MCxkLGYsZX0pKCk7YS5lYWNoKHtzY3JvbGxzdG9wOiJzY3JvbGxzdGFydCIsdGFwaG9sZDoidGFwIixzd2lwZWxlZnQ6InN3aXBlIixzd2lwZXJpZ2h0OiJzd2lwZSJ9LGZ1bmN0aW9uKGIsYyl7YS5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChjLGEubm9vcCl9fX0pfSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSxlLGIpe2Z1bmN0aW9uIGQoYSl7YT1hfHxsb2NhdGlvbi5ocmVmO3JldHVybiIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBmPSJoYXNoY2hhbmdlIixjPWRvY3VtZW50LGgsZz1hLmV2ZW50LnNwZWNpYWwsaT1jLmRvY3VtZW50TW9kZSxsPSJvbiIrZiBpbiBlJiYoaT09PWJ8fGk+Nyk7YS5mbltmXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZixhKTp0aGlzLnRyaWdnZXIoZil9O2EuZm5bZl0uZGVsYXk9NTA7Z1tmXT1hLmV4dGVuZChnW2ZdLHtzZXR1cDpmdW5jdGlvbigpe2lmKGwpcmV0dXJuIGZhbHNlO2EoaC5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYobClyZXR1cm4gZmFsc2U7YShoLnN0b3ApfX0pO2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBoKCl7dmFyIGI9ZCgpLGM9bShxKTtpZihiIT09cSlwKHE9YixjKSxhKGUpLnRyaWdnZXIoZik7ZWxzZSBpZihjIT09cSlsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywKIiIpK2M7aT1zZXRUaW1lb3V0KGgsYS5mbltmXS5kZWxheSl9dmFyIGc9e30saSxxPWQoKSxqPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxwPWosbT1qO2cuc3RhcnQ9ZnVuY3Rpb24oKXtpfHxoKCl9O2cuc3RvcD1mdW5jdGlvbigpe2kmJmNsZWFyVGltZW91dChpKTtpPWJ9O2EuYnJvd3Nlci5tc2llJiYhbCYmZnVuY3Rpb24oKXt2YXIgYixlO2cuc3RhcnQ9ZnVuY3Rpb24oKXtpZighYillPShlPWEuZm5bZl0uc3JjKSYmZStkKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtlfHxwKGQoKSk7aCgpfSkuYXR0cigic3JjIixlfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGMub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXtpZihldmVudC5wcm9wZXJ0eU5hbWU9PT0idGl0bGUiKWIuZG9jdW1lbnQudGl0bGU9Yy50aXRsZX1jYXRjaChhKXt9fX07Cmcuc3RvcD1qO209ZnVuY3Rpb24oKXtyZXR1cm4gZChiLmxvY2F0aW9uLmhyZWYpfTtwPWZ1bmN0aW9uKGQsZSl7dmFyIGg9Yi5kb2N1bWVudCxnPWEuZm5bZl0uZG9tYWluO2lmKGQhPT1lKWgudGl0bGU9Yy50aXRsZSxoLm9wZW4oKSxnJiZoLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytnKyciPFwvc2NyaXB0PicpLGguY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9ZH19KCk7cmV0dXJuIGd9KCl9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnBhZ2UiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGRvbUNhY2hlOmZhbHNlLGtlZXBOYXRpdmVEZWZhdWx0OiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKTt0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucztyZXR1cm4gZS5rZWVwTmF0aXZlJiZhLnRyaW0oZS5rZWVwTmF0aXZlKSYmZS5rZWVwTmF0aXZlIT09ZS5rZWVwTmF0aXZlRGVmYXVsdD9bZS5rZWVwTmF0aXZlLGUua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6ZS5rZWVwTmF0aXZlRGVmYXVsdH19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe3ZhciBiPXt9O2EuZXh0ZW5kKGEubW9iaWxlLHtuczoiIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixhY3RpdmVQYWdlQ2xhc3M6InVpLXBhZ2UtYWN0aXZlIixhY3RpdmVCdG5DbGFzczoidWktYnRuLWFjdGl2ZSIsYWpheEVuYWJsZWQ6dHJ1ZSxoYXNoTGlzdGVuaW5nRW5hYmxlZDp0cnVlLGxpbmtCaW5kaW5nRW5hYmxlZDp0cnVlLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoic2xpZGUiLG1pblNjcm9sbEJhY2s6MjUwLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLGxvYWRpbmdNZXNzYWdlOiJsb2FkaW5nIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixhdXRvSW5pdGlhbGl6ZVBhZ2U6dHJ1ZSxwdXNoU3RhdGVFbmFibGVkOnRydWUsb3JpZW50YXRpb25DaGFuZ2VFbmFibGVkOnRydWUsZ3JhZGVBOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxhLm1vYmlsZS5icm93c2VyLmllJiZhLm1vYmlsZS5icm93c2VyLmllPj0KN30sa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYikhPT0ibnVtYmVyIiliPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPWZhbHNlOwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5zY3JvbGxUbygwLGIpO2EoZG9jdW1lbnQpLnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmJ9KX0sMjApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD10cnVlfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6Yixuc05vcm1hbGl6ZTpmdW5jdGlvbihjKXtyZXR1cm4hYz92b2lkIDA6YltjXXx8KGJbY109YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYykpfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZD1hWzBdLGY9IiIsZT0vdWktKGJhcnxib2R5KS0oW2Etel0pXGIvLGssbztkOyl7az1kLmNsYXNzTmFtZXx8IiI7aWYoKG89ZS5leGVjKGspKSYmKGY9b1syXSkpYnJlYWs7ZD1kLnBhcmVudE5vZGV9cmV0dXJuIGZ8fGJ8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJwYWdlIil9fSk7CmEuZm4uanFtRGF0YT1mdW5jdGlvbihiLGQpe3ZhciBmO3R5cGVvZiBiIT0idW5kZWZpbmVkIiYmKGY9dGhpcy5kYXRhKGI/YS5tb2JpbGUubnNOb3JtYWxpemUoYik6YixkKSk7cmV0dXJuIGZ9O2EuanFtRGF0YT1mdW5jdGlvbihiLGQsZil7dmFyIGU7dHlwZW9mIGQhPSJ1bmRlZmluZWQiJiYoZT1hLmRhdGEoYixkP2EubW9iaWxlLm5zTm9ybWFsaXplKGQpOmQsZikpO3JldHVybiBlfTthLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9O2EuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGQpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShkKSl9O2EuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfTthLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2I9YShiKTsoYi5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fAphKCkpLnJlbW92ZSgpO2IucmVtb3ZlKCl9O2EuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHMoYSh0aGlzKSxiKX07YS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsZCl7dmFyIGY9YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKTthKGIpLmpxbURhdGEoImRlcGVuZGVudHMiLGEubWVyZ2UoZixkKSl9O2EuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+IikudGV4dChhKHRoaXMpLnRleHQoKSkuaHRtbCgpfTt2YXIgZD1hLmZpbmQsZj0vOmpxbURhdGFcKChbXildKilcKS9nO2EuZmluZD1mdW5jdGlvbihiLGUsZyxpKXtiPWIucmVwbGFjZShmLCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyIkMV0iKTtyZXR1cm4gZC5jYWxsKHRoaXMsYixlLGcsaSl9O2EuZXh0ZW5kKGEuZmluZCxkKTthLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGQpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsZCl9O2EuZmluZC5tYXRjaGVzU2VsZWN0b3I9CmZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuZmluZChkLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO2IubGVuZ3RoP2IuZm9jdXMoKTphLmZvY3VzKCl9ZnVuY3Rpb24gZChiKXtwJiYoIXAuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RofHxiKSYmcC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7cD1udWxsfWZ1bmN0aW9uIGYoKXt6PWZhbHNlO0EubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxBLnBvcCgpKX1mdW5jdGlvbiBjKGMsZCxmLGUpe3ZhciBnPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksaj1hLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQsaT1nLmxhc3RTY3JvbGx8fChqPzA6YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGc9aCgpO3dpbmRvdy5zY3JvbGxUbygwLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKTtkJiZkLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsCm51bGwse25leHRQYWdlOmN9KTtqfHxjLmhlaWdodChnK2kpO2MuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpkfHxhKCIiKX0pO2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2omJmkmJihjLmFkZENsYXNzKCJ1aS1tb2JpbGUtcHJlLXRyYW5zaXRpb24iKSxiKGMpLGMuaXMoIi51aS1uYXRpdmUtZml4ZWQiKT9jLmZpbmQoIi51aS1jb250ZW50Iikuc2Nyb2xsVG9wKGkpOmMuc2Nyb2xsVG9wKGkpKTtmPShhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZnx8Im5vbmUiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyKShmLGUsYyxkKTtmLmRvbmUoZnVuY3Rpb24oKXtqfHwoYy5oZWlnaHQoIiIpLGIoYykpO2p8fGEubW9iaWxlLnNpbGVudFNjcm9sbChpKTtkJiYoanx8ZC5oZWlnaHQoIiIpLGQuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJoaWRlIixudWxsLHtuZXh0UGFnZTpjfSkpO2MuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJzaG93IiwKbnVsbCx7cHJldlBhZ2U6ZHx8YSgiIil9KX0pO3JldHVybiBmfWZ1bmN0aW9uIGgoKXt2YXIgYj1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24oKT09PSJwb3J0cmFpdCIsYz1iP3NjcmVlbi5hdmFpbEhlaWdodDpzY3JlZW4uYXZhaWxXaWR0aCxiPU1hdGgubWF4KGI/NDgwOjMyMCxhKHdpbmRvdykuaGVpZ2h0KCkpO3JldHVybiBNYXRoLm1pbihjLGIpfWZ1bmN0aW9uIGcoKXsoIWEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwhYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQpJiZhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLmNzcygibWluLWhlaWdodCIsaCgpKX1mdW5jdGlvbiBpKGIsYyl7YyYmYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLGMpO2IucGFnZSgpfWZ1bmN0aW9uIGwoYSl7Zm9yKDthOyl7aWYodHlwZW9mIGEubm9kZU5hbWU9PT0ic3RyaW5nIiYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSIpYnJlYWs7CmE9YS5wYXJlbnROb2RlfXJldHVybiBhfWZ1bmN0aW9uIGsoYil7dmFyIGI9YShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGM9cy5ocmVmTm9IYXNoO2lmKCFifHwhai5pc1BhdGgoYikpYj1jO3JldHVybiBqLm1ha2VVcmxBYnNvbHV0ZShiLGMpfXZhciBvPWEod2luZG93KSxuPWEoImh0bWwiKSxxPWEoImhlYWQiKSxqPXt1cmxQYXJzZVJFOi9eKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpPT09Im9iamVjdCIpcmV0dXJuIGI7Yj1qLnVybFBhcnNlUkUuZXhlYyhifHwiIil8fFtdO3JldHVybntocmVmOmJbMF18fCIiLGhyZWZOb0hhc2g6YlsxXXx8CiIiLGhyZWZOb1NlYXJjaDpiWzJdfHwiIixkb21haW46YlszXXx8IiIscHJvdG9jb2w6Yls0XXx8IiIsZG91YmxlU2xhc2g6Yls1XXx8IiIsYXV0aG9yaXR5OmJbNl18fCIiLHVzZXJuYW1lOmJbOF18fCIiLHBhc3N3b3JkOmJbOV18fCIiLGhvc3Q6YlsxMF18fCIiLGhvc3RuYW1lOmJbMTFdfHwiIixwb3J0OmJbMTJdfHwiIixwYXRobmFtZTpiWzEzXXx8IiIsZGlyZWN0b3J5OmJbMTRdfHwiIixmaWxlbmFtZTpiWzE1XXx8IiIsc2VhcmNoOmJbMTZdfHwiIixoYXNoOmJbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PSIvIilyZXR1cm4gYTtmb3IodmFyIGE9YXx8IiIsYz0oYj1iP2IucmVwbGFjZSgvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCIiKToiIik/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGU9ZFtmXTtzd2l0Y2goZSl7Y2FzZSAiLiI6YnJlYWs7Y2FzZSAiLi4iOmMubGVuZ3RoJiYKYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChlKX19cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gai5wYXJzZVVybChhKS5kb21haW49PT1qLnBhcnNlVXJsKGIpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gai5wYXJzZVVybChhKS5wcm90b2NvbD09PSIifSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBqLnBhcnNlVXJsKGEpLnByb3RvY29sIT09IiJ9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFqLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7dmFyIGM9ai5wYXJzZVVybChhKSxkPWoucGFyc2VVcmwoYiksZj1jLnByb3RvY29sfHxkLnByb3RvY29sLGU9Yy5wcm90b2NvbD9jLmRvdWJsZVNsYXNoOmMuZG91YmxlU2xhc2h8fGQuZG91YmxlU2xhc2gsaD1jLmF1dGhvcml0eXx8ZC5hdXRob3JpdHksZz1jLnBhdGhuYW1lIT09IiIsaT1qLm1ha2VQYXRoQWJzb2x1dGUoYy5wYXRobmFtZXx8CmQuZmlsZW5hbWUsZC5wYXRobmFtZSk7cmV0dXJuIGYrZStoK2krKGMuc2VhcmNofHwhZyYmZC5zZWFyY2h8fCIiKStjLmhhc2h9LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbihiLGMpe3ZhciBkPWoucGFyc2VVcmwoYiksZj10eXBlb2YgYz09PSJvYmplY3QiP2EucGFyYW0oYyk6YyxlPWQuc2VhcmNofHwiPyI7cmV0dXJuIGQuaHJlZk5vU2VhcmNoK2UrKGUuY2hhckF0KGUubGVuZ3RoLTEpIT09Ij8iPyImIjoiIikrZisoZC5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9ai5wYXJzZVVybChhKTtpZihqLmlzRW1iZWRkZWRQYWdlKGIpKXJldHVybiBiLmhhc2guc3BsaXQodClbMF0ucmVwbGFjZSgvXiMvLCIiKTtlbHNlIGlmKGouaXNTYW1lRG9tYWluKGIscykpcmV0dXJuIGIuaHJlZk5vSGFzaC5yZXBsYWNlKHMuZG9tYWluLCIiKTtyZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKGE9PT1lKWE9bG9jYXRpb24uaGFzaDtyZXR1cm4gai5zdHJpcEhhc2goYSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sCiIiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQodClbMF19LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2Uocy5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBqLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZSh0LCIiKSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7YT1qLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sJiZhLmRvbWFpbiE9PXYuZG9tYWluP3RydWU6ZmFsc2V9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBiPQpqLnBhcnNlVXJsKGoubWFrZVVybEFic29sdXRlKGIscykpLGM9YS5tb2JpbGUuZmlyc3RQYWdlLGM9YyYmY1swXT9jWzBdLmlkOmU7cmV0dXJuKGIuaHJlZk5vSGFzaD09PXYuaHJlZk5vSGFzaHx8eCYmYi5ocmVmTm9IYXNoPT09cy5ocmVmTm9IYXNoKSYmKCFiLmhhc2h8fGIuaGFzaD09PSIjInx8YyYmYi5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1jKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7YT1qLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sIT09IiI/YS5oYXNoJiYoYS5ocmVmTm9IYXNoPT09di5ocmVmTm9IYXNofHx4JiZhLmhyZWZOb0hhc2g9PT1zLmhyZWZOb0hhc2gpOi9eIy8udGVzdChhLmhyZWYpfSxpc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdDpmdW5jdGlvbihiLGMpe3JldHVybiBhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJmIucHJvdG9jb2w9PT0iZmlsZToiJiZjLnNlYXJjaCgvXmh0dHBzPzovKSE9LTF9fSxwPW51bGwsbT17c3RhY2s6W10sCmFjdGl2ZUluZGV4OjAsZ2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIG0uc3RhY2tbbS5hY3RpdmVJbmRleF19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gbS5zdGFja1ttLmFjdGl2ZUluZGV4LTFdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIG0uc3RhY2tbbS5hY3RpdmVJbmRleCsxXX0sYWRkTmV3OmZ1bmN0aW9uKGEsYixjLGQsZil7bS5nZXROZXh0KCkmJm0uY2xlYXJGb3J3YXJkKCk7bS5zdGFjay5wdXNoKHt1cmw6YSx0cmFuc2l0aW9uOmIsdGl0bGU6YyxwYWdlVXJsOmQscm9sZTpmfSk7bS5hY3RpdmVJbmRleD1tLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXttLnN0YWNrPW0uc3RhY2suc2xpY2UoMCxtLmFjdGl2ZUluZGV4KzEpfSxkaXJlY3RIYXNoQ2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZjt0aGlzLmdldEFjdGl2ZSgpO2EuZWFjaChtLnN0YWNrLGZ1bmN0aW9uKGEsZSl7Yi5jdXJyZW50VXJsPT09ZS51cmwmJihjPWE8bS5hY3RpdmVJbmRleCwKZD0hYyxmPWEpfSk7dGhpcy5hY3RpdmVJbmRleD1mIT09ZT9mOnRoaXMuYWN0aXZlSW5kZXg7Yz8oYi5laXRoZXJ8fGIuaXNCYWNrKSh0cnVlKTpkJiYoYi5laXRoZXJ8fGIuaXNGb3J3YXJkKShmYWxzZSl9LGlnbm9yZU5leHRIYXNoQ2hhbmdlOmZhbHNlfSxBPVtdLHo9ZmFsc2UsdD0iJnVpLXN0YXRlPWRpYWxvZyIsdz1xLmNoaWxkcmVuKCJiYXNlIiksdj1qLnBhcnNlVXJsKGxvY2F0aW9uLmhyZWYpLHM9dy5sZW5ndGg/ai5wYXJzZVVybChqLm1ha2VVcmxBYnNvbHV0ZSh3LmF0dHIoImhyZWYiKSx2LmhyZWYpKTp2LHg9di5ocmVmTm9IYXNoIT09cy5ocmVmTm9IYXNoLHU9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OncubGVuZ3RoP3c6YSgiPGJhc2U+Iix7aHJlZjpzLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8ocSksc2V0OmZ1bmN0aW9uKGEpe3UuZWxlbWVudC5hdHRyKCJocmVmIixqLm1ha2VVcmxBYnNvbHV0ZShhLHMpKX0scmVzZXQ6ZnVuY3Rpb24oKXt1LmVsZW1lbnQuYXR0cigiaHJlZiIsCnMuaHJlZk5vSGFzaCl9fTplLEM9dHJ1ZSx5LEUsQjt5PWZ1bmN0aW9uKCl7dmFyIGI9bzthLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQmJihiPWEoIi51aS1wYWdlLWFjdGl2ZSIpLGI9Yi5pcygiLnVpLW5hdGl2ZS1maXhlZCIpP2IuZmluZCgiLnVpLWNvbnRlbnQiKTpiKTtyZXR1cm4gYn07RT1mdW5jdGlvbihiKXtpZihDKXt2YXIgYz1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2lmKGMpYj1iJiZiLnNjcm9sbFRvcCgpLGMubGFzdFNjcm9sbD1iPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Yn19O0I9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KEUsMTAwLGEodGhpcykpfTtvLmJpbmQoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0M9ZmFsc2V9KTtvLm9uZShhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLApmdW5jdGlvbigpe0M9dHJ1ZX0pO28ub25lKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIuYmluZCgicGFnZWNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYT15KCk7Qz10cnVlO2EudW5iaW5kKCJzY3JvbGxzdG9wIixCKTthLmJpbmQoInNjcm9sbHN0b3AiLEIpfSl9KTt5KCkuYmluZCgic2Nyb2xsc3RvcCIsQik7YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0PWg7YS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9O2EubW9iaWxlLnBhdGg9ajthLm1vYmlsZS5iYXNlPXU7YS5tb2JpbGUudXJsSGlzdG9yeT1tO2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk9dDthLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI9ZnVuY3Rpb24oYixjLGQsZil7ZiYmZi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpOwpkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7cmV0dXJuIGEuRGVmZXJyZWQoKS5yZXNvbHZlKGIsYyxkLGYpLnByb21pc2UoKX07YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPWEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcjthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e25vbmU6YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfTthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ZmFsc2U7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdik6di5ocmVmfTthLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30scyk6cy5ocmVmfTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpOyFiLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZiLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmCmIuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2IudHJpZ2dlcihjKTtjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxiLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9KX07YS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLkRlZmVycmVkKCksZj1hLmV4dGVuZCh7fSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxjKSxoPW51bGwsZz1udWxsLG49ai5tYWtlVXJsQWJzb2x1dGUoYixhLm1vYmlsZS5hY3RpdmVQYWdlJiZrKGEubW9iaWxlLmFjdGl2ZVBhZ2UpfHxzLmhyZWZOb0hhc2gpO2lmKGYuZGF0YSYmZi50eXBlPT09ImdldCIpbj1qLmFkZFNlYXJjaFBhcmFtcyhuLGYuZGF0YSksZi5kYXRhPWU7aWYoZi5kYXRhJiZmLnR5cGU9PT0icG9zdCIpZi5yZWxvYWRQYWdlPXRydWU7dmFyIHQ9ai5nZXRGaWxlUGF0aChuKSxtPWouY29udmVydFVybFRvRGF0YVVybChuKTtmLnBhZ2VDb250YWluZXI9CmYucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtoPWYucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiOmpxbURhdGEodXJsPSciK20rIicpIik7aC5sZW5ndGg9PT0wJiZtJiYhai5pc1BhdGgobSkmJihoPWYucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiIyIrbSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLG0pKTtpZihoLmxlbmd0aD09PTApaWYoYS5tb2JpbGUuZmlyc3RQYWdlJiZqLmlzRmlyc3RQYWdlVXJsKHQpKWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJihoPWEoYS5tb2JpbGUuZmlyc3RQYWdlKSk7ZWxzZSBpZihqLmlzRW1iZWRkZWRQYWdlKHQpKXJldHVybiBkLnJlamVjdChuLGMpLGQucHJvbWlzZSgpO3UmJnUucmVzZXQoKTtpZihoLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gaShoLGYucm9sZSksZC5yZXNvbHZlKG4sYyxoKSxkLnByb21pc2UoKTtnPWh9dmFyIHE9Zi5wYWdlQ29udGFpbmVyLGw9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIiksCnA9e3VybDpiLGFic1VybDpuLGRhdGFVcmw6bSxkZWZlcnJlZDpkLG9wdGlvbnM6Zn07cS50cmlnZ2VyKGwscCk7aWYobC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZC5wcm9taXNlKCk7aWYoZi5zaG93TG9hZE1zZyl2YXIgdz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGYubG9hZE1zZ0RlbGF5KTshYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYhai5pc1NhbWVEb21haW4odixuKT9kLnJlamVjdChuLGMpOmEuYWpheCh7dXJsOnQsdHlwZTpmLnR5cGUsZGF0YTpmLmRhdGEsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24oZSxxLGspe3ZhciBsPWEoIjxkaXY+PC9kaXY+Iiksbz1lLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSxzPVJlZ0V4cCgiXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIpO1JlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIisKYS5tb2JpbGUubnMrInJvbGU9W1wiJ10/cGFnZVtcIiddP1tePl0qPikiKS50ZXN0KGUpJiZSZWdFeHAuJDEmJnMudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPXQ9ai5nZXRGaWxlUGF0aChSZWdFeHAuJDEpKTt1JiZ1LnNldCh0KTtsLmdldCgwKS5pbm5lckhUTUw9ZTtoPWwuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCk7aC5sZW5ndGh8fChoPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iK2Uuc3BsaXQoLzxcLz9ib2R5W14+XSo+L2dtaSlbMV0rIjwvZGl2PiIpKTtvJiYhaC5qcW1EYXRhKCJ0aXRsZSIpJiYofm8uaW5kZXhPZigiJiIpJiYobz1hKCI8ZGl2PiIrbysiPC9kaXY+IikudGV4dCgpKSxoLmpxbURhdGEoInRpdGxlIixvKSk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHY9ai5nZXQodCk7aC5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0KYSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmEodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsYz1hKHRoaXMpLmF0dHIoYiksYz1jLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKTsvXihcdys6fCN8XC8pLy50ZXN0KGMpfHxhKHRoaXMpLmF0dHIoYix2K2MpfSl9aC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsai5jb252ZXJ0VXJsVG9EYXRhVXJsKHQpKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImV4dGVybmFsLXBhZ2UiLHRydWUpLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lcik7aC5vbmUoInBhZ2VjcmVhdGUiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSk7aShoLGYucm9sZSk7bi5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKGg9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCI6anFtRGF0YSh1cmw9JyIrbSsiJykiKSk7Zi5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dCh3KSwKYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCkpO3AueGhyPWs7cC50ZXh0U3RhdHVzPXE7cC5wYWdlPWg7Zi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixwKTtkLnJlc29sdmUobixjLGgsZyl9LGVycm9yOmZ1bmN0aW9uKGIsZSxoKXt1JiZ1LnNldChqLmdldCgpKTtwLnhocj1iO3AudGV4dFN0YXR1cz1lO3AuZXJyb3JUaHJvd249aDtiPW5ldyBhLkV2ZW50KCJwYWdlbG9hZGZhaWxlZCIpO2YucGFnZUNvbnRhaW5lci50cmlnZ2VyKGIscCk7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGYuc2hvd0xvYWRNc2cmJihjbGVhclRpbWVvdXQodyksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCksYSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWJvZHktZSB1aS1jb3JuZXItYWxsJz48aDE+IithLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSsiPC9oMT48L2Rpdj4iKS5jc3Moe2Rpc3BsYXk6ImJsb2NrIixvcGFjaXR5OjAuOTYsCnRvcDpvLnNjcm9sbFRvcCgpKzEwMH0pLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lcikuZGVsYXkoODAwKS5mYWRlT3V0KDQwMCxmdW5jdGlvbigpe2EodGhpcykucmVtb3ZlKCl9KSksZC5yZWplY3QobixjKSl9fSk7cmV0dXJuIGQucHJvbWlzZSgpfTthLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmUscmVsb2FkUGFnZTpmYWxzZSxyb2xlOmUsc2hvd0xvYWRNc2c6ZmFsc2UscGFnZUNvbnRhaW5lcjplLGxvYWRNc2dEZWxheTo1MH07YS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGgpe2lmKHopQS51bnNoaWZ0KGFyZ3VtZW50cyk7ZWxzZXt2YXIgZz1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGgpO2cucGFnZUNvbnRhaW5lcj1nLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXI7Zy5mcm9tUGFnZT1nLmZyb21QYWdlfHxhLm1vYmlsZS5hY3RpdmVQYWdlO3ZhciBxPWcucGFnZUNvbnRhaW5lcixsPQpuZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLGs9e3RvUGFnZTpiLG9wdGlvbnM6Z307cS50cmlnZ2VyKGwsayk7aWYoIWwuaXNEZWZhdWx0UHJldmVudGVkKCkpaWYoYj1rLnRvUGFnZSx6PXRydWUsdHlwZW9mIGI9PSJzdHJpbmciKWEubW9iaWxlLmxvYWRQYWdlKGIsZykuZG9uZShmdW5jdGlvbihiLGMsZCxmKXt6PWZhbHNlO2MuZHVwbGljYXRlQ2FjaGVkUGFnZT1mO2EubW9iaWxlLmNoYW5nZVBhZ2UoZCxjKX0pLmZhaWwoZnVuY3Rpb24oKXt6PWZhbHNlO2QodHJ1ZSk7ZigpO2cucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlY2hhbmdlZmFpbGVkIixrKX0pO2Vsc2V7aWYoYlswXT09PWEubW9iaWxlLmZpcnN0UGFnZVswXSYmIWcuZGF0YVVybClnLmRhdGFVcmw9di5ocmVmTm9IYXNoO3ZhciBsPWcuZnJvbVBhZ2UscD1nLmRhdGFVcmwmJmouY29udmVydFVybFRvRGF0YVVybChnLmRhdGFVcmwpfHxiLmpxbURhdGEoInVybCIpLG89cDtqLmdldEZpbGVQYXRoKHApO3ZhciBzPQptLmdldEFjdGl2ZSgpLHc9bS5hY3RpdmVJbmRleD09PTAseD0wLHU9ZG9jdW1lbnQudGl0bGUseT1nLnJvbGU9PT0iZGlhbG9nInx8Yi5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtpZihsJiZsWzBdPT09YlswXSYmIWcuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pej1mYWxzZSxxLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGspO2Vsc2V7aShiLGcucm9sZSk7Zy5mcm9tSGFzaENoYW5nZSYmbS5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnAsaXNCYWNrOmZ1bmN0aW9uKCl7eD0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7eD0xfX0pO3RyeXtkb2N1bWVudC5hY3RpdmVFbGVtZW50JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPSJib2R5Ij9hKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChDKXt9eSYmcyYmKHA9KHMudXJsfHwKIiIpK3QpO2lmKGcuY2hhbmdlSGFzaCE9PWZhbHNlJiZwKW0uaWdub3JlTmV4dEhhc2hDaGFuZ2U9dHJ1ZSxqLnNldChwKTt2YXIgQj0hcz91OmIuanFtRGF0YSgidGl0bGUiKXx8Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS5nZXRFbmNvZGVkVGV4dCgpO0ImJnU9PWRvY3VtZW50LnRpdGxlJiYodT1CKTtiLmpxbURhdGEoInRpdGxlIil8fGIuanFtRGF0YSgidGl0bGUiLHUpO2cudHJhbnNpdGlvbj1nLnRyYW5zaXRpb258fCh4JiYhdz9zLnRyYW5zaXRpb246ZSl8fCh5P2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbik7eHx8bS5hZGROZXcocCxnLnRyYW5zaXRpb24sdSxvLGcucm9sZSk7ZG9jdW1lbnQudGl0bGU9bS5nZXRBY3RpdmUoKS50aXRsZTthLm1vYmlsZS5hY3RpdmVQYWdlPWI7Zy5yZXZlcnNlPWcucmV2ZXJzZXx8eDwwO2MoYixsLGcudHJhbnNpdGlvbiwKZy5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKCl7ZCgpO2cuZHVwbGljYXRlQ2FjaGVkUGFnZSYmZy5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpO24ucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKTtmKCk7cS50cmlnZ2VyKCJwYWdlY2hhbmdlIixrKX0pfX19fTthLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmUscmV2ZXJzZTpmYWxzZSxjaGFuZ2VIYXNoOnRydWUsZnJvbUhhc2hDaGFuZ2U6ZmFsc2Uscm9sZTplLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6ZSxwYWdlQ29udGFpbmVyOmUsc2hvd0xvYWRNc2c6dHJ1ZSxkYXRhVXJsOmUsZnJvbVBhZ2U6ZSxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjpmYWxzZX07YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXthKGRvY3VtZW50KS5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKTtpZihhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWMuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKSl7dmFyIGQ9CmMuYXR0cigibWV0aG9kIiksZj1jLmF0dHIoInRhcmdldCIpLGU9Yy5hdHRyKCJhY3Rpb24iKTtpZighZSYmKGU9ayhjKSxlPT09cy5ocmVmTm9IYXNoKSllPXYuaHJlZk5vU2VhcmNoO2U9ai5tYWtlVXJsQWJzb2x1dGUoZSxrKGMpKTtqLmlzRXh0ZXJuYWwoZSkmJiFqLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHYsZSl8fGZ8fChhLm1vYmlsZS5jaGFuZ2VQYWdlKGUse3R5cGU6ZCYmZC5sZW5ndGgmJmQudG9Mb3dlckNhc2UoKXx8ImdldCIsZGF0YTpjLnNlcmlhbGl6ZSgpLHRyYW5zaXRpb246Yy5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksZGlyZWN0aW9uOmMuanFtRGF0YSgiZGlyZWN0aW9uIikscmVsb2FkUGFnZTp0cnVlfSksYi5wcmV2ZW50RGVmYXVsdCgpKX19KTthKGRvY3VtZW50KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe2lmKCEoYi53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYoYj1sKGIudGFyZ2V0KSkmJmoucGFyc2VVcmwoYi5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8CiIjIikuaGFzaCE9PSIjIilkKHRydWUpLHA9YShiKS5jbG9zZXN0KCIudWktYnRuIikubm90KCIudWktZGlzYWJsZWQiKSxwLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAudWktYnRuIikubm90KGIpLmJsdXIoKX0pO2EoZG9jdW1lbnQpLmJpbmQoImNsaWNrIixmdW5jdGlvbihiKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpe3ZhciBjPWwoYi50YXJnZXQpO2lmKGMmJiEoYi53aGljaD4xKSl7dmFyIGY9YShjKSxoPWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkKHRydWUpfSwyMDApfTtpZihmLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiB3aW5kb3cuaGlzdG9yeS5iYWNrKCksZmFsc2U7dmFyIGc9ayhmKSxjPWoubWFrZVVybEFic29sdXRlKGYuYXR0cigiaHJlZiIpfHwiIyIsZyk7aWYoIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhai5pc0VtYmVkZGVkUGFnZShjKSloKCk7CmVsc2V7aWYoYy5zZWFyY2goIiMiKSE9LTEpaWYoYz1jLnJlcGxhY2UoL1teI10qIy8sIiIpKWM9ai5pc1BhdGgoYyk/ai5tYWtlVXJsQWJzb2x1dGUoYyxnKTpqLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYyx2LmhyZWZOb0hhc2gpO2Vsc2V7Yi5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn1mLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fGYuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8Zi5pcygiW3RhcmdldF0iKXx8ai5pc0V4dGVybmFsKGMpJiYhai5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh2LGMpP2goKTooaD1mLmpxbURhdGEoInRyYW5zaXRpb24iKSxnPShnPWYuanFtRGF0YSgiZGlyZWN0aW9uIikpJiZnPT09InJldmVyc2UifHxmLmpxbURhdGEoImJhY2siKSxmPWYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKXx8ZSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMse3RyYW5zaXRpb246aCxyZXZlcnNlOmcscm9sZTpmfSksYi5wcmV2ZW50RGVmYXVsdCgpKX19fX0pOwphKGRvY3VtZW50KS5kZWxlZ2F0ZSgiLnVpLXBhZ2UiLCJwYWdlc2hvdy5wcmVmZXRjaCIsZnVuY3Rpb24oKXt2YXIgYj1bXTthKHRoaXMpLmZpbmQoImE6anFtRGF0YShwcmVmZXRjaCkiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxmPWMuYXR0cigiaHJlZiIpO2YmJmEuaW5BcnJheShmLGIpPT09LTEmJihiLnB1c2goZiksYS5tb2JpbGUubG9hZFBhZ2UoZix7cm9sZTpjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil9KSl9KX0pO2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlPWZ1bmN0aW9uKGIpe3ZhciBjPWouc3RyaXBIYXNoKGIpLGY9e3RyYW5zaXRpb246YS5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGg9PT0wPyJub25lIjplLGNoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX07aWYoIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHxtLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW0uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ZmFsc2U7CmVsc2V7aWYobS5zdGFjay5sZW5ndGg+MSYmYy5pbmRleE9mKHQpPi0xKWlmKGEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSltLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6YyxlaXRoZXI6ZnVuY3Rpb24oYil7dmFyIGQ9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtjPWQucGFnZVVybDthLmV4dGVuZChmLHtyb2xlOmQucm9sZSx0cmFuc2l0aW9uOmQudHJhbnNpdGlvbixyZXZlcnNlOmJ9KX19KTtlbHNle20uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpjLGlzQmFjazpmdW5jdGlvbigpe3dpbmRvdy5oaXN0b3J5LmJhY2soKX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuZm9yd2FyZCgpfX0pO3JldHVybn1jPyhjPXR5cGVvZiBjPT09InN0cmluZyImJiFqLmlzUGF0aChjKT9qLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYyxzKTpjLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyxmKSk6YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2UsCmYpfX07by5iaW5kKCJoYXNoY2hhbmdlIixmdW5jdGlvbigpe2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKGxvY2F0aW9uLmhhc2gpfSk7YShkb2N1bWVudCkuYmluZCgicGFnZXNob3ciLGcpO2Eod2luZG93KS5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGcpfX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe3ZhciBiPXt9LGQ9YShlKSxmPWEubW9iaWxlLnBhdGgucGFyc2VVcmwobG9jYXRpb24uaHJlZik7YS5leHRlbmQoYix7aW5pdGlhbEZpbGVQYXRoOmYucGF0aG5hbWUrZi5zZWFyY2gsaW5pdGlhbEhyZWY6Zi5ocmVmTm9IYXNoLGhhc2hjaGFuZ2VGaXJlZDpmYWxzZSxzdGF0ZTpmdW5jdGlvbigpe3JldHVybntoYXNoOmxvY2F0aW9uLmhhc2h8fCIjIitiLmluaXRpYWxGaWxlUGF0aCx0aXRsZTpkb2N1bWVudC50aXRsZSxpbml0aWFsSHJlZjpiLmluaXRpYWxIcmVmfX0scmVzZXRVSUtleXM6ZnVuY3Rpb24oYil7dmFyIGY9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXksZD1iLmluZGV4T2YoYS5tb2JpbGUuZGlhbG9nSGFzaEtleSk7ZD4tMT9iPWIuc2xpY2UoMCxkKSsiIyIrYi5zbGljZShkKTpiLmluZGV4T2YoZik+LTEmJihiPWIuc3BsaXQoZikuam9pbigiIyIrZikpO3JldHVybiBifSxuZXh0SGFzaENoYW5nZVByZXZlbnRlZDpmdW5jdGlvbihjKXthLm1vYmlsZS51cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlPQpjO2Iub25IYXNoQ2hhbmdlRGlzYWJsZWQ9Y30sb25IYXNoQ2hhbmdlOmZ1bmN0aW9uKCl7aWYoIWIub25IYXNoQ2hhbmdlRGlzYWJsZWQpe3ZhciBjLGY7Yz1sb2NhdGlvbi5oYXNoO3ZhciBkPWEubW9iaWxlLnBhdGguaXNQYXRoKGMpLGU9ZD9sb2NhdGlvbi5ocmVmOmEubW9iaWxlLmdldERvY3VtZW50VXJsKCk7Yz1kP2MucmVwbGFjZSgiIyIsIiIpOmM7Zj1iLnN0YXRlKCk7Yz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShjLGUpO2QmJihjPWIucmVzZXRVSUtleXMoYykpO2hpc3RvcnkucmVwbGFjZVN0YXRlKGYsZG9jdW1lbnQudGl0bGUsYyl9fSxvblBvcFN0YXRlOmZ1bmN0aW9uKGMpe3ZhciBmPWMub3JpZ2luYWxFdmVudC5zdGF0ZTtmJiYoYi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZCh0cnVlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZChmYWxzZSk7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoZi5oYXNoKX0sMTAwKSl9LAppbml0OmZ1bmN0aW9uKCl7ZC5iaW5kKCJoYXNoY2hhbmdlIixiLm9uSGFzaENoYW5nZSk7ZC5iaW5kKCJwb3BzdGF0ZSIsYi5vblBvcFN0YXRlKTtsb2NhdGlvbi5oYXNoPT09IiImJmhpc3RvcnkucmVwbGFjZVN0YXRlKGIuc3RhdGUoKSxkb2N1bWVudC50aXRsZSxsb2NhdGlvbi5ocmVmKX19KTthKGZ1bmN0aW9uKCl7YS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZCYmYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYi5pbml0KCl9KX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoYixkLGYsYyl7dmFyIGU9bmV3IGEuRGVmZXJyZWQsZz1kPyIgcmV2ZXJzZSI6IiIsaT0idWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitiO2YuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtmLmFkZChjKS5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIitiKTtjJiZjWzBdIT09ZlswXSYmYy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO2YucGFyZW50KCkucmVtb3ZlQ2xhc3MoaSk7ZS5yZXNvbHZlKGIsZCxmLGMpfSk7Zi5wYXJlbnQoKS5hZGRDbGFzcyhpKTtjJiZjLmFkZENsYXNzKGIrIiBvdXQiK2cpO2YuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgIitiKyIgaW4iK2cpO3JldHVybiBlLnByb21pc2UoKX1hLm1vYmlsZS5jc3MzVHJhbnNpdGlvbkhhbmRsZXI9ZTtpZihhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9PT1hLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXIpYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPQplfSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPXtjb2xvcjpmYWxzZSxkYXRlOmZhbHNlLGRhdGV0aW1lOmZhbHNlLCJkYXRldGltZS1sb2NhbCI6ZmFsc2UsZW1haWw6ZmFsc2UsbW9udGg6ZmFsc2UsbnVtYmVyOmZhbHNlLHJhbmdlOiJudW1iZXIiLHNlYXJjaDoidGV4dCIsdGVsOmZhbHNlLHRpbWU6ZmFsc2UsdXJsOmZhbHNlLHdlZWs6ZmFsc2V9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXt2YXIgYj1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoYShlLnRhcmdldCkpO2lmKGIpb3B0aW9ucz1iLm9wdGlvbnMsYShlLnRhcmdldCkuZmluZCgiaW5wdXQiKS5ub3QoYi5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZj10aGlzLmdldEF0dHJpYnV0ZSgidHlwZSIpLGM9b3B0aW9ucy5kZWdyYWRlSW5wdXRzW2ZdfHwidGV4dCI7aWYob3B0aW9ucy5kZWdyYWRlSW5wdXRzW2ZdKXt2YXIgZT0KYSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGc9ZS5pbmRleE9mKCIgdHlwZT0iKT4tMTtiLnJlcGxhY2VXaXRoKGUucmVwbGFjZShnPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LywnIHR5cGU9IicrYysnIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9IicrZisnIicrKGc/IiI6Ij4iKSkpfX0pfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuZWxlbWVudCxmPWEoIjxhIGhyZWY9JyMnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nZGVsZXRlJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb25wb3M9J25vdGV4dCc+Iit0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0KyI8L2E+Iik7ZC5hZGRDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpO2QuYXR0cigicm9sZSIsImRpYWxvZyIpLmFkZENsYXNzKCJ1aS1kaWFsb2ciKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLW92ZXJsYXktc2hhZG93IikucHJlcGVuZChmKS5lbmQoKS5maW5kKCI6anFtRGF0YShyb2xlPSdjb250ZW50JyksOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5hZGRDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKTsKZi5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KTtkLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBiPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09InZjbGljayI/ImEiOiJmb3JtIiksZjtiLmxlbmd0aCYmIWIuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoZj1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsZi50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSkuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7ZS5oaXN0b3J5LmJhY2soKX19KTthKGRvY3VtZW50KS5kZWxlZ2F0ZShhLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLAoicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXthKHRoaXMpLmRpYWxvZygpfSl9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG49ZmFsc2U7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWU9bnVsbDthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZT1udWxsO2EoZG9jdW1lbnQpLmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiwicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGI9ZS5kYXRhKCJwYWdlIikub3B0aW9ucyxkPWUuanFtRGF0YSgicm9sZSIpLGY9Yi50aGVtZTthKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsCnRoaXMpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGU9Yy5qcW1EYXRhKCJyb2xlIiksZz1jLmpxbURhdGEoInRoZW1lIiksaT1nfHxiLmNvbnRlbnRUaGVtZXx8ZD09PSJkaWFsb2ciJiZmLGw7Yy5hZGRDbGFzcygidWktIitlKTtpZihlPT09ImhlYWRlciJ8fGU9PT0iZm9vdGVyIil7dmFyIGs9Z3x8KGU9PT0iaGVhZGVyIj9iLmhlYWRlclRoZW1lOmIuZm9vdGVyVGhlbWUpfHxmO2MuYWRkQ2xhc3MoInVpLWJhci0iK2spLmF0dHIoInJvbGUiLGU9PT0iaGVhZGVyIj8iYmFubmVyIjoiY29udGVudGluZm8iKTtnPWMuY2hpbGRyZW4oImEiKTtpPWcuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iik7bD1nLmhhc0NsYXNzKCJ1aS1idG4tcmlnaHQiKTtpPWl8fGcuZXEoMCkubm90KCIudWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi1sZWZ0IikubGVuZ3RoO2x8fGcuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpO2IuYWRkQmFja0J0biYmZT09PSJoZWFkZXIiJiZhKCIudWktcGFnZSIpLmxlbmd0aD4KMSYmYy5qcW1EYXRhKCJ1cmwiKSE9PWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpJiYhaSYmYSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi1sZWZ0JyBkYXRhLSIrYS5tb2JpbGUubnMrInJlbD0nYmFjaycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdhcnJvdy1sJz4iK2IuYmFja0J0blRleHQrIjwvYT4iKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixiLmJhY2tCdG5UaGVtZXx8aykucHJlcGVuZFRvKGMpO2MuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHt0YWJpbmRleDoiMCIscm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfWVsc2UgZT09PSJjb250ZW50IiYmKGkmJmMuYWRkQ2xhc3MoInVpLWJvZHktIitpKSxjLmF0dHIoInJvbGUiLCJtYWluIikpfSl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6dHJ1ZSxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaWNvblRoZW1lOiJkIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zLGQ9ZS5hZGRDbGFzcygidWktY29sbGFwc2libGUiKSxmPWUuY2hpbGRyZW4oYi5oZWFkaW5nKS5maXJzdCgpLGM9ZC53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQnPjwvZGl2PiIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksCmg9ZS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKTtmLmlzKCJsZWdlbmQiKSYmKGY9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2YuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZiksZi5uZXh0KCkucmVtb3ZlKCkpO2lmKGgubGVuZ3RoKXtpZighYi50aGVtZSliLnRoZW1lPWguanFtRGF0YSgidGhlbWUiKTtpZighYi5jb250ZW50VGhlbWUpYi5jb250ZW50VGhlbWU9aC5qcW1EYXRhKCJjb250ZW50LXRoZW1lIil9Yy5hZGRDbGFzcyhiLmNvbnRlbnRUaGVtZT8idWktYm9keS0iK2IuY29udGVudFRoZW1lOiIiKTtmLmluc2VydEJlZm9yZShjKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyIpLmFwcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+Iikud3JhcElubmVyKCI8YSBocmVmPScjJyBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy10b2dnbGUnPjwvYT4iKS5maW5kKCJhIikuZmlyc3QoKS5idXR0b25NYXJrdXAoe3NoYWRvdzpmYWxzZSwKY29ybmVyczpmYWxzZSxpY29uUG9zOiJsZWZ0IixpY29uOiJwbHVzIix0aGVtZTpiLnRoZW1lfSkuYWRkKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpO2QuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihlKXtpZighZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPWEodGhpcyksZT1lLnR5cGU9PT0iY29sbGFwc2UiLGw9Yi5jb250ZW50VGhlbWU7Zi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGUpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoZT9iLmV4cGFuZEN1ZVRleHQ6Yi5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tbWludXMiLCFlKS50b2dnbGVDbGFzcygidWktaWNvbi1wbHVzIixlKTtpLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLAplKTtjLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsZSkuYXR0cigiYXJpYS1oaWRkZW4iLGUpO2lmKGwmJighaC5sZW5ndGh8fGQuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpKSlmLmZpbmQoImEiKS5maXJzdCgpLmFkZChmLmZpbmQoIi51aS1idG4taW5uZXIiKSkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGUpLGMudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFlKTtjLnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfX0pLnRyaWdnZXIoYi5jb2xsYXBzZWQ/ImNvbGxhcHNlIjoiZXhwYW5kIik7Zi5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7dmFyIGI9Zi5pcygiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIik/ImV4cGFuZCI6ImNvbGxhcHNlIjtkLnRyaWdnZXIoYik7YS5wcmV2ZW50RGVmYXVsdCgpfSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EoYS5tb2JpbGUuY29sbGFwc2libGUucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLAplLnRhcmdldCkuY29sbGFwc2libGUoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLGI9dGhpcy5vcHRpb25zLGQ9ZS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpO2lmKCFiLnRoZW1lKWIudGhlbWU9ZS5qcW1EYXRhKCJ0aGVtZSIpO2lmKCFiLmNvbnRlbnRUaGVtZSliLmNvbnRlbnRUaGVtZT1lLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKTtlLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKXx8KGUuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsdHJ1ZSkuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihiKXt2YXIgYz1iLnR5cGU9PT0iY29sbGFwc2UiLGI9YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIiksCmQ9Yi5kYXRhKCJjb2xsYXBzaWJsZSIpO2Qub3B0aW9ucy5jb250ZW50VGhlbWUmJmIuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiYoYi5maW5kKGQub3B0aW9ucy5oZWFkaW5nKS5maXJzdCgpLmZpbmQoImEiKS5maXJzdCgpLmFkZCgiLnVpLWJ0bi1pbm5lciIpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIixjKSxiLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFjKSl9KS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSksZC5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRpbmcpLmZpbmQoImEiKS5maXJzdCgpLmFkZCgiLnVpLWJ0bi1pbm5lciIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKX0pLApkLmZpcnN0KCkuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKS5maW5kKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKSxkLmxhc3QoKS5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0Iix0cnVlKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YShhLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsZS50YXJnZXQpLmNvbGxhcHNpYmxlc2V0KCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKCJ1aS1maWVsZC1jb250YWluIHVpLWJvZHkgdWktYnIiKX07YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIixlLnRhcmdldCkuZmllbGRjb250YWluKCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxlKSxmPWIuY2hpbGRyZW4oKSxjPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxkPWQuZ3JpZDtpZighZClpZihmLmxlbmd0aDw9NSlmb3IodmFyIGggaW4gYyljW2hdPT09Zi5sZW5ndGgmJihkPWgpO2Vsc2UgZD0iYSI7Yz1jW2RdO2IuYWRkQ2xhc3MoInVpLWdyaWQtIitkKTtmLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMSkiKS5hZGRDbGFzcygidWktYmxvY2stYSIpO2M+MSYmZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKTtjPjImJmYuZmlsdGVyKCI6bnRoLWNoaWxkKDNuKzMpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWMiKTtjPjMmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKDRuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKTtjPjQmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKDVuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe2Eud2lkZ2V0KCJtb2JpbGUubmF2YmFyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2ljb25wb3M6InRvcCIsZ3JpZDpudWxsLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nbmF2YmFyJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9Yi5maW5kKCJhIiksZj1kLmZpbHRlcigiOmpxbURhdGEoaWNvbikiKS5sZW5ndGg/dGhpcy5vcHRpb25zLmljb25wb3M6ZTtiLmFkZENsYXNzKCJ1aS1uYXZiYXIiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pO2Z8fGIuYWRkQ2xhc3MoInVpLW5hdmJhci1ub2ljb25zIik7ZC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ZmFsc2Usc2hhZG93OmZhbHNlLGljb25wb3M6Zn0pO2IuZGVsZWdhdGUoImEiLCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1kaXNhYmxlZCIpfHwoZC5ub3QoIi51aS1zdGF0ZS1wZXJzaXN0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLAphKHRoaXMpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShhLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGIudGFyZ2V0KS5uYXZiYXIoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe3ZhciBlPXt9O2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxjb3VudFRoZW1lOiJjIixoZWFkZXJUaGVtZToiYiIsZGl2aWRlclRoZW1lOiJiIixzcGxpdEljb246ImFycm93LXIiLHNwbGl0VGhlbWU6ImIiLGluc2V0OmZhbHNlLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nbGlzdHZpZXcnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihkLGYpe3JldHVybiBmKyIgdWktbGlzdHZpZXcgIisoYS5vcHRpb25zLmluc2V0PyIgdWktbGlzdHZpZXctaW5zZXQgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgIjoiIil9KTthLnJlZnJlc2godHJ1ZSl9LF9yZW1vdmVDb3JuZXJzOmZ1bmN0aW9uKGEsZCl7YT1hLmFkZChhLmZpbmQoIi51aS1idG4taW5uZXIsIC51aS1saS1saW5rLWFsdCwgLnVpLWxpLXRodW1iIikpO2Q9PT0idG9wIj9hLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwiKToKZD09PSJib3R0b20iP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpOmEucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiKX0sX3JlZnJlc2hDb3JuZXJzOmZ1bmN0aW9uKGEpe3ZhciBkLGY7dGhpcy5vcHRpb25zLmluc2V0JiYoZD10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImxpIiksZj1hP2Qubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOmQuZmlsdGVyKCI6dmlzaWJsZSIpLHRoaXMuX3JlbW92ZUNvcm5lcnMoZCksZD1mLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKSxkLmFkZChkLmZpbmQoIi51aS1idG4taW5uZXIiKS5ub3QoIi51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIikpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZW5kKCkuZmluZCgiLnVpLWxpLWxpbmstYWx0LCAudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdHIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5ub3QoIi51aS1saS1pY29uIikuYWRkQ2xhc3MoInVpLWNvcm5lci10bCIpLApmPWYubGFzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiksZi5hZGQoZi5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYnIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5ub3QoIi51aS1saS1pY29uIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ibCIpKTthfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGEsZCxmLGMpe3ZhciBlPXt9O2ZvcihlW2ZdPWVbY109dHJ1ZTthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbZF19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGQsZil7dmFyIGM9W10sZT17fTtlW2RdPWVbZl09dHJ1ZTtmb3IoYj1iLmZpcnN0Q2hpbGQ7YjspZVtiLm5vZGVOYW1lXSYmYy5wdXNoKGIpLGI9Yi5uZXh0U2libGluZztyZXR1cm4gYShjKX0sX2FkZFRodW1iQ2xhc3NlczpmdW5jdGlvbihiKXt2YXIgZCwKZixjPWIubGVuZ3RoO2ZvcihkPTA7ZDxjO2QrKylmPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2RdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGYubGVuZ3RoJiYoZi5hZGRDbGFzcygidWktbGktdGh1bWIiKSxhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZlswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhmLmlzKCIudWktbGktaWNvbiIpPyJ1aS1saS1oYXMtaWNvbiI6InVpLWxpLWhhcy10aHVtYiIpKX0scmVmcmVzaDpmdW5jdGlvbihiKXt0aGlzLnBhcmVudFBhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIik7dGhpcy5fY3JlYXRlU3ViUGFnZXMoKTt2YXIgZD10aGlzLm9wdGlvbnMsZj10aGlzLmVsZW1lbnQsYz1mLmpxbURhdGEoImRpdmlkZXJ0aGVtZSIpfHxkLmRpdmlkZXJUaGVtZSxlPWYuanFtRGF0YSgic3BsaXR0aGVtZSIpLGc9Zi5qcW1EYXRhKCJzcGxpdGljb24iKSwKaT10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShmWzBdLCJsaSIsIkxJIiksbD1hLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudHx8IWEubm9kZU5hbWUoZlswXSwib2wiKT8wOjEsaz17fSxvLG4scSxqLHA7bCYmZi5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCk7aWYoIWQudGhlbWUpZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKTtmb3IodmFyIG09MCxBPWkubGVuZ3RoO208QTttKyspe289aS5lcShtKTtuPSJ1aS1saSI7aWYoYnx8IW8uaGFzQ2xhc3MoInVpLWxpIikpcT1vLmpxbURhdGEoInRoZW1lIil8fGQudGhlbWUsaj10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShvWzBdLCJhIiwiQSIpLGoubGVuZ3RoPyhwPW8uanFtRGF0YSgiaWNvbiIpLG8uYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLGljb25wb3M6InJpZ2h0IixpY29uOmoubGVuZ3RoPjF8fHA9PT1mYWxzZT9mYWxzZToKcHx8ImFycm93LXIiLHRoZW1lOnF9KSxwIT1mYWxzZSYmai5sZW5ndGg9PTEmJm8uYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLGouZmlyc3QoKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0Iiksai5sZW5ndGg+MSYmKG4rPSIgdWktbGktaGFzLWFsdCIsaj1qLmxhc3QoKSxwPWV8fGouanFtRGF0YSgidGhlbWUiKXx8ZC5zcGxpdFRoZW1lLGouYXBwZW5kVG8obykuYXR0cigidGl0bGUiLGouZ2V0RW5jb2RlZFRleHQoKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLHRoZW1lOnEsaWNvbjpmYWxzZSxpY29ucG9zOmZhbHNlfSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6dHJ1ZSxjb3JuZXJzOnRydWUsdGhlbWU6cCxpY29ucG9zOiJub3RleHQiLGljb246Z3x8ai5qcW1EYXRhKCJpY29uIil8fApkLnNwbGl0SWNvbn0pKSkpOm8uanFtRGF0YSgicm9sZSIpPT09Imxpc3QtZGl2aWRlciI/KG4rPSIgdWktbGktZGl2aWRlciB1aS1idG4gdWktYmFyLSIrYyxvLmF0dHIoInJvbGUiLCJoZWFkaW5nIiksbCYmKGw9MSkpOm4rPSIgdWktbGktc3RhdGljIHVpLWJvZHktIitxO2wmJm4uaW5kZXhPZigidWktbGktZGl2aWRlciIpPDAmJihxPW8uaXMoIi51aS1saS1zdGF0aWM6Zmlyc3QiKT9vOm8uZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpLHEuYWRkQ2xhc3MoInVpLWxpLWpzbnVtYmVyaW5nIikucHJlcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWxpLWRlYyc+IitsKysgKyIuIDwvc3Bhbj4iKSk7a1tuXXx8KGtbbl09W10pO2tbbl0ucHVzaChvWzBdKX1mb3IobiBpbiBrKWEoa1tuXSkuYWRkQ2xhc3MobikuY2hpbGRyZW4oIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcyhuKTtmLmZpbmQoImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktbGktaGVhZGluZyIpLmVuZCgpLmZpbmQoInAsIGRsIikuYWRkQ2xhc3MoInVpLWxpLWRlc2MiKS5lbmQoKS5maW5kKCIudWktbGktYXNpZGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9CmEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIik7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGkpO3RoaXMuX2FkZFRodW1iQ2xhc3NlcyhmLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSk7dGhpcy5fcmVmcmVzaENvcm5lcnMoYil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZj1kLmpxbURhdGEoInVybCIpLGM9Znx8ZFswXVthLmV4cGFuZG9dLApoPWIuYXR0cigiaWQiKSxnPXRoaXMub3B0aW9ucyxpPSJkYXRhLSIrYS5tb2JpbGUubnMsbD10aGlzLGs9ZC5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmpxbURhdGEoImlkIiksbzt0eXBlb2YgZVtjXT09PSJ1bmRlZmluZWQiJiYoZVtjXT0tMSk7aD1ofHwrK2VbY107YShiLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKSxlPWQuYXR0cigiaWQiKXx8aCsiLSIrYyxjPWQucGFyZW50KCksbD1hKGQucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLGw9bC5sZW5ndGg/bDphKCI8c3Bhbj4iK2EudHJpbShjLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKSsiPC9zcGFuPiIpLG09bC5maXJzdCgpLmdldEVuY29kZWRUZXh0KCksZT0oZnx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IitlLEE9ZC5qcW1EYXRhKCJ0aGVtZSIpfHxnLnRoZW1lLHo9ZC5qcW1EYXRhKCJjb3VudHRoZW1lIil8fApiLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Zy5jb3VudFRoZW1lO289dHJ1ZTtkLmRldGFjaCgpLndyYXAoIjxkaXYgIitpKyJyb2xlPSdwYWdlJyAiK2krInVybD0nIitlKyInICIraSsidGhlbWU9JyIrQSsiJyAiK2krImNvdW50LXRoZW1lPSciK3orIic+PGRpdiAiK2krInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLnBhcmVudCgpLmJlZm9yZSgiPGRpdiAiK2krInJvbGU9J2hlYWRlcicgIitpKyJ0aGVtZT0nIitnLmhlYWRlclRoZW1lKyInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK20rIjwvZGl2PjwvZGl2PiIpLmFmdGVyKGs/YSgiPGRpdiAiK2krInJvbGU9J2Zvb3RlcicgIitpKyJpZD0nIitrKyInPiIpOiIiKS5wYXJlbnQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCk7ZD1jLmZpbmQoImE6Zmlyc3QiKTtkLmxlbmd0aHx8KGQ9YSgiPGEvPiIpLmh0bWwobHx8bSkucHJlcGVuZFRvKGMuZW1wdHkoKSkpO2QuYXR0cigiaHJlZiIsIiMiK2UpfSkubGlzdHZpZXcoKTsKbyYmZC5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmQuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGU9PT1mYWxzZSYmZC51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oYixjKXt2YXIgZT1jLm5leHRQYWdlO2MubmV4dFBhZ2UmJihlPWUuanFtRGF0YSgidXJsIiksZS5pbmRleE9mKGYrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpIT09MCYmKGwuY2hpbGRQYWdlcygpLnJlbW92ZSgpLGQucmVtb3ZlKCkpKX0pfSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBhKCI6anFtRGF0YSh1cmxePSciK2IrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLApiLnRhcmdldCkubGlzdHZpZXcoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlcj1mYWxzZTthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcj0iRmlsdGVyIGl0ZW1zLi4uIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT0iYyI7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYik9PT0tMX07YShkb2N1bWVudCkuZGVsZWdhdGUoIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGI9ZS5kYXRhKCJsaXN0dmlldyIpO2lmKGIub3B0aW9ucy5maWx0ZXIpe3ZhciBkPWEoIjxmb3JtPiIseyJjbGFzcyI6InVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIitiLm9wdGlvbnMuZmlsdGVyVGhlbWUsCnJvbGU6InNlYXJjaCJ9KTthKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6Yi5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGM9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGg9bnVsbCxoPWQuanFtRGF0YSgibGFzdHZhbCIpKyIiLGc9ZmFsc2UsaT0iIjtkLmpxbURhdGEoImxhc3R2YWwiLGMpO2g9Yy5sZW5ndGg8aC5sZW5ndGh8fGMuaW5kZXhPZihoKSE9PTA/ZS5jaGlsZHJlbigpOmUuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoYyl7Zm9yKHZhciBsPWgubGVuZ3RoLTE7bD49MDtsLS0pZD1hKGhbbF0pLGk9ZC5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGQudGV4dCgpLGQuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/KGQudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLAohZyksZz1mYWxzZSk6Yi5vcHRpb25zLmZpbHRlckNhbGxiYWNrKGksYyk/ZC50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsdHJ1ZSk6Zz10cnVlO2guZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixmYWxzZSk7aC5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLHRydWUpLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIixmYWxzZSl9ZWxzZSBoLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixmYWxzZSk7Yi5fcmVmcmVzaENvcm5lcnMoKX0pLmFwcGVuZFRvKGQpLnRleHRpbnB1dCgpO2EodGhpcykuanFtRGF0YSgiaW5zZXQiKSYmZC5hZGRDbGFzcygidWktbGlzdHZpZXctZmlsdGVyLWluc2V0Iik7ZC5iaW5kKCJzdWJtaXQiLGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSkuaW5zZXJ0QmVmb3JlKGUpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGUudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2NoZWNrYm94J10saW5wdXRbdHlwZT0ncmFkaW8nXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGY9ZC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2RbMF0uaWQrIiddIiksYz1kLmF0dHIoInR5cGUiKSxoPWMrIi1vbiIsZz1jKyItb2ZmIixpPWQucGFyZW50cygiOmpxbURhdGEodHlwZT0naG9yaXpvbnRhbCcpIikubGVuZ3RoP2U6ZztpZighKGMhPT0iY2hlY2tib3giJiZjIT09InJhZGlvIikpe2EuZXh0ZW5kKHRoaXMse2xhYmVsOmYsaW5wdXR0eXBlOmMsY2hlY2tlZENsYXNzOiJ1aS0iK2grKGk/IiI6IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSwKdW5jaGVja2VkQ2xhc3M6InVpLSIrZyxjaGVja2VkaWNvbjoidWktaWNvbi0iK2gsdW5jaGVja2VkaWNvbjoidWktaWNvbi0iK2d9KTtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT10aGlzLmVsZW1lbnQuanFtRGF0YSgidGhlbWUiKTtmLmJ1dHRvbk1hcmt1cCh7dGhlbWU6dGhpcy5vcHRpb25zLnRoZW1lLGljb246aSxzaGFkb3c6ZmFsc2V9KTtkLmFkZChmKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSd1aS0iK2MrIic+PC9kaXY+Iik7Zi5iaW5kKHt2bW91c2VvdmVyOmZ1bmN0aW9uKGIpe2EodGhpcykucGFyZW50KCkuaXMoIi51aS1kaXNhYmxlZCIpJiZiLnN0b3BQcm9wYWdhdGlvbigpfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoZC5pcygiOmRpc2FibGVkIikpYS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgcmV0dXJuIGIuX2NhY2hlVmFscygpLGQucHJvcCgiY2hlY2tlZCIsYz09PSJyYWRpbyImJnRydWV8fCFkLnByb3AoImNoZWNrZWQiKSksZC50cmlnZ2VySGFuZGxlcigiY2xpY2siKSwKYi5fZ2V0SW5wdXRTZXQoKS5ub3QoZCkucHJvcCgiY2hlY2tlZCIsZmFsc2UpLGIuX3VwZGF0ZUFsbCgpLGZhbHNlfX0pO2QuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe2IuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2MuaXMoIjpjaGVja2VkIik/KGMucHJvcCgiY2hlY2tlZCIsdHJ1ZSksYi5fZ2V0SW5wdXRTZXQoKS5ub3QoYykucHJvcCgiY2hlY2tlZCIsZmFsc2UpKTpjLnByb3AoImNoZWNrZWQiLGZhbHNlKTtiLl91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtmLmFkZENsYXNzKCJ1aS1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktZm9jdXMiKX19KTt0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgiY2FjaGVWYWwiLGIuaXMoIjpjaGVja2VkIikpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0dHlwZT09CiJjaGVja2JveCI/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50LmF0dHIoIm5hbWUiKSsiJ11bdHlwZT0nIit0aGlzLmlucHV0dHlwZSsiJ10iKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKTsoZC5pcygiOmNoZWNrZWQiKXx8Yi5pbnB1dHR5cGU9PT0iY2hlY2tib3giKSYmZC50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPXRoaXMubGFiZWwsZj1kLmZpbmQoIi51aS1pY29uIik7YShiWzBdKS5wcm9wKCJjaGVja2VkIik/KGQuYWRkQ2xhc3ModGhpcy5jaGVja2VkQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLApmLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihkLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxmLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZGljb24pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpO2IuaXMoIjpkaXNhYmxlZCIpP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLHRydWUpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLGZhbHNlKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxpbmxpbmU6bnVsbCxjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucyxmLGM7YlswXS50YWdOYW1lPT09IkEiP2IuaGFzQ2xhc3MoInVpLWJ0biIpfHxiLmJ1dHRvbk1hcmt1cCgpOih0aGlzLmJ1dHRvbj1hKCI8ZGl2PjwvZGl2PiIpLnRleHQoYi50ZXh0KCl8fGIudmFsKCkpLmluc2VydEJlZm9yZShiKS5idXR0b25NYXJrdXAoe3RoZW1lOmQudGhlbWUsaWNvbjpkLmljb24saWNvbnBvczpkLmljb25wb3MsaW5saW5lOmQuaW5saW5lLApjb3JuZXJzOmQuY29ybmVycyxzaGFkb3c6ZC5zaGFkb3csaWNvbnNoYWRvdzpkLmljb25zaGFkb3d9KS5hcHBlbmQoYi5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKSxkPWIuYXR0cigidHlwZSIpLGY9Yi5hdHRyKCJuYW1lIiksZCE9PSJidXR0b24iJiZkIT09InJlc2V0IiYmZiYmYi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7Yz09PWUmJihjPWEoIjxpbnB1dD4iLHt0eXBlOiJoaWRkZW4iLG5hbWU6Yi5hdHRyKCJuYW1lIiksdmFsdWU6Yi5hdHRyKCJ2YWx1ZSIpfSkuaW5zZXJ0QmVmb3JlKGIpLGEoZG9jdW1lbnQpLm9uZSgic3VibWl0IixmdW5jdGlvbigpe2MucmVtb3ZlKCk7Yz1lfSkpfSksdGhpcy5yZWZyZXNoKCkpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGZhbHNlKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixmYWxzZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLApmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDthLnByb3AoImRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKTt0aGlzLmJ1dHRvbi5kYXRhKCJ0ZXh0V3JhcHBlciIpLnRleHQoYS50ZXh0KCl8fGEudmFsKCkpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5idXR0b24ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDpmYWxzZSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZj1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShkLCJjIiksYz10aGlzLm9wdGlvbnMudGhlbWV8fGYsaD10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8ZixnPWRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPWc9PSJzZWxlY3QiPyJ1aS1zbGlkZXItc3dpdGNoIjoiIixpPWQuYXR0cigiaWQiKSxsPWkrIi1sYWJlbCIsaT1hKCJbZm9yPSciK2krIiddIikuYXR0cigiaWQiLGwpLGs9ZnVuY3Rpb24oKXtyZXR1cm4gZz09ImlucHV0Ij9wYXJzZUZsb2F0KGQudmFsKCkpOgpkWzBdLnNlbGVjdGVkSW5kZXh9LG89Zz09ImlucHV0Ij9wYXJzZUZsb2F0KGQuYXR0cigibWluIikpOjAsbj1nPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC5hdHRyKCJtYXgiKSk6ZC5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxxPXdpbmRvdy5wYXJzZUZsb2F0KGQuYXR0cigic3RlcCIpfHwxKSxqPWEoIjxkaXYgY2xhc3M9J3VpLXNsaWRlciAiK2YrIiB1aS1idG4tZG93bi0iK2grIiB1aS1idG4tY29ybmVyLWFsbCcgcm9sZT0nYXBwbGljYXRpb24nPjwvZGl2PiIpLHA9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLXNsaWRlci1oYW5kbGUnPjwvYT4iKS5hcHBlbmRUbyhqKS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6dHJ1ZSx0aGVtZTpjLHNoYWRvdzp0cnVlfSkuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6bywiYXJpYS12YWx1ZW1heCI6biwiYXJpYS12YWx1ZW5vdyI6aygpLCJhcmlhLXZhbHVldGV4dCI6aygpLHRpdGxlOmsoKSwiYXJpYS1sYWJlbGxlZGJ5IjpsfSk7CmEuZXh0ZW5kKHRoaXMse3NsaWRlcjpqLGhhbmRsZTpwLGRyYWdnaW5nOmZhbHNlLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOmZhbHNlLG1vdXNlTW92ZWQ6ZmFsc2V9KTtnPT0ic2VsZWN0IiYmKGoud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItaW5uZXJvZmZzZXQnPjwvZGl2PiIpLHAuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxkLmZpbmQoIm9wdGlvbiIpLGQuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbihiKXt2YXIgYz0hYj8iYiI6ImEiLGQ9IWI/InJpZ2h0IjoibGVmdCIsYj0hYj8iIHVpLWJ0bi1kb3duLSIraDoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M7YSgiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsYmcgdWktc2xpZGVyLWxhYmVsYmctIitjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsiJz48L2Rpdj4iKS5wcmVwZW5kVG8oaik7YSgiPHNwYW4gY2xhc3M9J3VpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtIisKYytiKyIgdWktYnRuLWNvcm5lci0iK2QrIicgcm9sZT0naW1nJz4iK2EodGhpcykuZ2V0RW5jb2RlZFRleHQoKSsiPC9zcGFuPiIpLnByZXBlbmRUbyhwKX0pKTtpLmFkZENsYXNzKCJ1aS1zbGlkZXIiKTtkLmFkZENsYXNzKGc9PT0iaW5wdXQiPyJ1aS1zbGlkZXItaW5wdXQiOiJ1aS1zbGlkZXItc3dpdGNoIikuY2hhbmdlKGZ1bmN0aW9uKCl7Yi5tb3VzZU1vdmVkfHxiLnJlZnJlc2goaygpLHRydWUpfSkua2V5dXAoZnVuY3Rpb24oKXtiLnJlZnJlc2goaygpLHRydWUsdHJ1ZSl9KS5ibHVyKGZ1bmN0aW9uKCl7Yi5yZWZyZXNoKGsoKSx0cnVlKX0pO2EoZG9jdW1lbnQpLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe2lmKGIuZHJhZ2dpbmcpcmV0dXJuIGIubW91c2VNb3ZlZD10cnVlLGc9PT0ic2VsZWN0IiYmcC5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGIucmVmcmVzaChhKSxiLnVzZXJNb2RpZmllZD1iLmJlZm9yZVN0YXJ0IT09ZFswXS5zZWxlY3RlZEluZGV4LApmYWxzZX0pO2ouYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oYSl7Yi5kcmFnZ2luZz10cnVlO2IudXNlck1vZGlmaWVkPWZhbHNlO2IubW91c2VNb3ZlZD1mYWxzZTtpZihnPT09InNlbGVjdCIpYi5iZWZvcmVTdGFydD1kWzBdLnNlbGVjdGVkSW5kZXg7Yi5yZWZyZXNoKGEpO3JldHVybiBmYWxzZX0pO2ouYWRkKGRvY3VtZW50KS5iaW5kKCJ2bW91c2V1cCIsZnVuY3Rpb24oKXtpZihiLmRyYWdnaW5nKXJldHVybiBiLmRyYWdnaW5nPWZhbHNlLGc9PT0ic2VsZWN0IiYmKHAuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxiLm1vdXNlTW92ZWQ/Yi51c2VyTW9kaWZpZWQ/Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQ9PTA/MTowKTpiLnJlZnJlc2goYi5iZWZvcmVTdGFydCk6Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQ9PTA/MTowKSksYi5tb3VzZU1vdmVkPWZhbHNlfSk7ai5pbnNlcnRBZnRlcihkKTt0aGlzLmhhbmRsZS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2EodGhpcykuZm9jdXMoKX0pLmJpbmQoInZjbGljayIsCmZhbHNlKTt0aGlzLmhhbmRsZS5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihjKXt2YXIgZD1rKCk7aWYoIWIub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6aWYoYy5wcmV2ZW50RGVmYXVsdCgpLCFiLl9rZXlTbGlkaW5nKWIuX2tleVNsaWRpbmc9dHJ1ZSxhKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX1zd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpiLnJlZnJlc2gobyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpiLnJlZnJlc2gobik7CmJyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Yi5yZWZyZXNoKGQrcSk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnJlZnJlc2goZC1xKX19fSkua2V5dXAoZnVuY3Rpb24oKXtpZihiLl9rZXlTbGlkaW5nKWIuX2tleVNsaWRpbmc9ZmFsc2UsYSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KTt0aGlzLnJlZnJlc2goZSxlLHRydWUpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsZCxmKXsodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpO3ZhciBjPXRoaXMuZWxlbWVudCxlPWNbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPWU9PT0iaW5wdXQiP3BhcnNlRmxvYXQoYy5hdHRyKCJtaW4iKSk6CjAsaT1lPT09ImlucHV0Ij9wYXJzZUZsb2F0KGMuYXR0cigibWF4IikpOmMuZmluZCgib3B0aW9uIikubGVuZ3RoLTEsbD1lPT09ImlucHV0IiYmcGFyc2VGbG9hdChjLmF0dHIoInN0ZXAiKSk+MD9wYXJzZUZsb2F0KGMuYXR0cigic3RlcCIpKToxO2lmKHR5cGVvZiBhPT09Im9iamVjdCIpe2lmKCF0aGlzLmRyYWdnaW5nfHxhLnBhZ2VYPHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQtOHx8YS5wYWdlWD50aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0K3RoaXMuc2xpZGVyLndpZHRoKCkrOClyZXR1cm47YT1NYXRoLnJvdW5kKChhLnBhZ2VYLXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwKX1lbHNlIGE9PW51bGwmJihhPWU9PT0iaW5wdXQiP3BhcnNlRmxvYXQoYy52YWwoKXx8MCk6Y1swXS5zZWxlY3RlZEluZGV4KSxhPShwYXJzZUZsb2F0KGEpLWcpLyhpLWcpKjEwMDtpZighaXNOYU4oYSkpe2E8MCYmKGE9MCk7YT4xMDAmJihhPTEwMCk7dmFyIGs9CmEvMTAwKihpLWcpK2csbz0oay1nKSVsO2stPW87TWF0aC5hYnMobykqMj49bCYmKGsrPW8+MD9sOi1sKTtrPXBhcnNlRmxvYXQoay50b0ZpeGVkKDUpKTtrPGcmJihrPWcpO2s+aSYmKGs9aSk7dGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixhKyIlIik7dGhpcy5oYW5kbGUuYXR0cih7ImFyaWEtdmFsdWVub3ciOmU9PT0iaW5wdXQiP2s6Yy5maW5kKCJvcHRpb24iKS5lcShrKS5hdHRyKCJ2YWx1ZSIpLCJhcmlhLXZhbHVldGV4dCI6ZT09PSJpbnB1dCI/azpjLmZpbmQoIm9wdGlvbiIpLmVxKGspLmdldEVuY29kZWRUZXh0KCksdGl0bGU6ZT09PSJpbnB1dCI/azpjLmZpbmQoIm9wdGlvbiIpLmVxKGspLmdldEVuY29kZWRUZXh0KCl9KTtlPT09InNlbGVjdCImJihrPT09MD90aGlzLnNsaWRlci5hZGRDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYiIpOnRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWIiKS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikpOwppZighZilmPWZhbHNlLGU9PT0iaW5wdXQiPyhmPWMudmFsKCkhPT1rLGMudmFsKGspKTooZj1jWzBdLnNlbGVjdGVkSW5kZXghPT1rLGNbMF0uc2VsZWN0ZWRJbmRleD1rKSwhZCYmZiYmYy50cmlnZ2VyKCJjaGFuZ2UiKX19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZmFsc2UpO3RoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGZhbHNlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIix0cnVlKTt0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIix0cnVlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSkifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LApiPXRoaXMub3B0aW9ucy50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksZD0iIHVpLWJvZHktIitiLGYsYzthKCJsYWJlbFtmb3I9JyIrZS5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0Iik7Zj1lLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIitiKTt0eXBlb2YgZVswXS5hdXRvY29ycmVjdCE9PSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpO2UuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpPyhmPWUud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2QrIic+PC9kaXY+IikucGFyZW50KCksCmM9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWlucHV0LWNsZWFyJyB0aXRsZT0nY2xlYXIgdGV4dCc+Y2xlYXIgdGV4dDwvYT4iKS50YXAoZnVuY3Rpb24oYSl7ZS52YWwoIiIpLmZvY3VzKCk7ZS50cmlnZ2VyKCJjaGFuZ2UiKTtjLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKTthLnByZXZlbnREZWZhdWx0KCl9KS5hcHBlbmRUbyhmKS5idXR0b25NYXJrdXAoe2ljb246ImRlbGV0ZSIsaWNvbnBvczoibm90ZXh0Iixjb3JuZXJzOnRydWUsc2hhZG93OnRydWV9KSxiPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2MudG9nZ2xlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIsIWUudmFsKCkpfSwwKX0sYigpLGUuYmluZCgicGFzdGUgY3V0IGtleXVwIGZvY3VzIGNoYW5nZSBibHVyIixiKSk6ZS5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1zaGFkb3ctaW5zZXQiK2QpO2UuZm9jdXMoZnVuY3Rpb24oKXtmLmFkZENsYXNzKCJ1aS1mb2N1cyIpfSkuYmx1cihmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoInVpLWZvY3VzIil9KTsKaWYoZS5pcygidGV4dGFyZWEiKSl7dmFyIGg9ZnVuY3Rpb24oKXt2YXIgYT1lWzBdLnNjcm9sbEhlaWdodDtlWzBdLmNsaWVudEhlaWdodDxhJiZlLmhlaWdodChhKzE1KX0sZztlLmtleXVwKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGcpO2c9c2V0VGltZW91dChoLDEwMCl9KTthKGRvY3VtZW50KS5vbmUoInBhZ2VjaGFuZ2UiLGgpO2EudHJpbShlLnZhbCgpKSYmYSh3aW5kb3cpLmxvYWQoaCl9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKToKdGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGUudGFyZ2V0KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe3ZhciBlPWZ1bmN0aW9uKGIpe3ZhciBkPWIuc2VsZWN0SUQsZj1iLmxhYmVsLGM9Yi5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxlPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1zY3JlZW4gdWktc2NyZWVuLWhpZGRlbiJ9KS5hcHBlbmRUbyhjKSxnPWIuX3NlbGVjdE9wdGlvbnMoKSxpPWIuaXNNdWx0aXBsZT1iLnNlbGVjdFswXS5tdWx0aXBsZSxsPWQrIi1idXR0b24iLGs9ZCsiLW1lbnUiLG89YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitiLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK2Iub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZi5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj48L2Rpdj48ZGl2IGRhdGEtIisKYS5tb2JpbGUubnMrInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxuPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudSB1aS1zZWxlY3RtZW51LWhpZGRlbiB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitiLm9wdGlvbnMub3ZlcmxheVRoZW1lKyIgIithLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pLmluc2VydEFmdGVyKGUpLHE9YSgiPHVsPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbGlzdCIsaWQ6ayxyb2xlOiJsaXN0Ym94IiwiYXJpYS1sYWJlbGxlZGJ5IjpsfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsYi5vcHRpb25zLnRoZW1lKS5hcHBlbmRUbyhuKSxqPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktaGVhZGVyIHVpLWJhci0iK2Iub3B0aW9ucy50aGVtZX0pLnByZXBlbmRUbyhuKSxwPWEoIjxoMT4iLHsiY2xhc3MiOiJ1aS10aXRsZSJ9KS5hcHBlbmRUbyhqKSwKbT1hKCI8YT4iLHt0ZXh0OmIub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8oaikuYnV0dG9uTWFya3VwKCksQT1vLmZpbmQoIi51aS1jb250ZW50Iiksej1vLmZpbmQoIi51aS1oZWFkZXIgYSIpO2EuZXh0ZW5kKGIse3NlbGVjdDpiLnNlbGVjdCxzZWxlY3RJRDpkLGJ1dHRvbklkOmwsbWVudUlkOmssdGhpc1BhZ2U6YyxtZW51UGFnZTpvLGxhYmVsOmYsc2NyZWVuOmUsc2VsZWN0T3B0aW9uczpnLGlzTXVsdGlwbGU6aSx0aGVtZTpiLm9wdGlvbnMudGhlbWUsbGlzdGJveDpuLGxpc3Q6cSxoZWFkZXI6aixoZWFkZXJUaXRsZTpwLGhlYWRlckNsb3NlOm0sbWVudVBhZ2VDb250ZW50OkEsbWVudVBhZ2VDbG9zZTp6LHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9CnRoaXM7Yi5yZWZyZXNoKCk7Yi5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCk7Yi5idXR0b24uZm9jdXMoKX0pO2IuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbihjKXtpZihjLnR5cGU9PSJ2Y2xpY2sifHxjLmtleUNvZGUmJihjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSliLm9wZW4oKSxjLnByZXZlbnREZWZhdWx0KCl9KTtiLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c2luIixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCIwIil9KS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c291dCIsZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoInRhYmluZGV4IiwiLTEiKX0pLmRlbGVnYXRlKCJsaTpub3QoLnVpLWRpc2FibGVkLCAudWktbGktZGl2aWRlcikiLAoiY2xpY2siLGZ1bmN0aW9uKGMpe3ZhciBkPWIuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZj1iLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmluZGV4KHRoaXMpLGU9Yi5fc2VsZWN0T3B0aW9ucygpLmVxKGYpWzBdO2Uuc2VsZWN0ZWQ9Yi5pc011bHRpcGxlPyFlLnNlbGVjdGVkOnRydWU7Yi5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iLGUuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIsIWUuc2VsZWN0ZWQpOyhiLmlzTXVsdGlwbGV8fGQhPT1mKSYmYi5zZWxlY3QudHJpZ2dlcigiY2hhbmdlIik7Yi5pc011bHRpcGxlfHxiLmNsb3NlKCk7Yy5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuY2xvc2VzdCgibGkiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBiPWQucHJldigpLApiLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxiLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgNDA6cmV0dXJuIGI9ZC5uZXh0KCksYi5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYi5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSxmYWxzZTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSxmYWxzZX19KTtiLm1lbnVQYWdlLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IubGlzdC5hcHBlbmRUbyhiLmxpc3Rib3gpO2IuX2ZvY3VzQnV0dG9uKCk7YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoYi50aGlzUGFnZSl9KTtiLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7Yi5jbG9zZSgpfSk7Yi5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGIubWVudVR5cGU9PSJvdmVybGF5IilyZXR1cm4gYi5jbG9zZSgpLGZhbHNlfSk7Yi50aGlzUGFnZS5hZGREZXBlbmRlbnRzKHRoaXMubWVudVBhZ2UpfSwKX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoImxpIik7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS50ZXh0KCkhPT1hLnRleHQoKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO3RoaXMuX3NlbGVjdE9wdGlvbnMoKTt0aGlzLnNlbGVjdGVkKCk7dmFyIGQ9dGhpcy5zZWxlY3RlZEluZGljZXMoKTsoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmMuX2J1aWxkTGlzdCgpO2Muc2V0QnV0dG9uVGV4dCgpO2Muc2V0QnV0dG9uQ291bnQoKTtjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIixmYWxzZSkuZWFjaChmdW5jdGlvbihiKXthLmluQXJyYXkoYixkKT4tMSYmKGI9YSh0aGlzKSxiLmF0dHIoImFyaWEtc2VsZWN0ZWQiLHRydWUpLGMuaXNNdWx0aXBsZT9iLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iKToKYi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5pc09wZW4pdGhpcy5tZW51VHlwZT09InBhZ2UiP3dpbmRvdy5oaXN0b3J5LmJhY2soKToodGhpcy5zY3JlZW4uYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLmxpc3Rib3guYWRkQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikucmVtb3ZlQXR0cigic3R5bGUiKS5yZW1vdmVDbGFzcygiaW4iKSx0aGlzLmxpc3QuYXBwZW5kVG8odGhpcy5saXN0Ym94KSx0aGlzLl9mb2N1c0J1dHRvbigpKSx0aGlzLmlzT3Blbj1mYWxzZX0sb3BlbjpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBiPXRoaXMsYz1iLmxpc3QucGFyZW50KCkub3V0ZXJIZWlnaHQoKSxkPWIubGlzdC5wYXJlbnQoKS5vdXRlcldpZHRoKCksZj1hKCIudWktcGFnZS1hY3RpdmUiKSxlPWEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiYKYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQsZj1mLmlzKCIudWktbmF0aXZlLWZpeGVkIik/Zi5maW5kKCIudWktY29udGVudCIpOmYsZz1lP2Yuc2Nyb2xsVG9wKCk6YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGg9Yi5idXR0b24ub2Zmc2V0KCkudG9wLGo9YSh3aW5kb3cpLmhlaWdodCgpLGU9YSh3aW5kb3cpLndpZHRoKCk7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCk7aWYoYz5qLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcCl7Yi50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpO2lmKGc9PTAmJmg+ailiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixoKX0pO2IubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXthKHdpbmRvdykub25lKCJzaWxlbnRzY3JvbGwiLApmdW5jdGlvbigpe2IubGlzdC5maW5kKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5mb2N1cygpfSk7Yi5pc09wZW49dHJ1ZX0pO2IubWVudVR5cGU9InBhZ2UiO2IubWVudVBhZ2VDb250ZW50LmFwcGVuZChiLmxpc3QpO2IubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYi5sYWJlbC50ZXh0KCkpO2EubW9iaWxlLmNoYW5nZVBhZ2UoYi5tZW51UGFnZSx7dHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pfWVsc2V7Yi5tZW51VHlwZT0ib3ZlcmxheSI7Yi5zY3JlZW4uaGVpZ2h0KGEoZG9jdW1lbnQpLmhlaWdodCgpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpO3ZhciBpPWgtZyxuPWcrai1oLG09Yy8yLGY9cGFyc2VGbG9hdChiLmxpc3QucGFyZW50KCkuY3NzKCJtYXgtd2lkdGgiKSksYz1pPmMvMiYmbj5jLzI/aCtiLmJ1dHRvbi5vdXRlckhlaWdodCgpLzItbTppPm4/ZytqLWMtMzA6ZyszMDtkPGY/Zj0oZS1kKS8yOihmPQpiLmJ1dHRvbi5vZmZzZXQoKS5sZWZ0K2IuYnV0dG9uLm91dGVyV2lkdGgoKS8yLWQvMixmPDMwP2Y9MzA6ZitkPmUmJihmPWUtZC0zMCkpO2IubGlzdGJveC5hcHBlbmQoYi5saXN0KS5yZW1vdmVDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5jc3Moe3RvcDpjLGxlZnQ6Zn0pLmFkZENsYXNzKCJpbiIpO2IubGlzdC5maW5kKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5mb2N1cygpO2IuaXNPcGVuPXRydWV9fX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnMsZD10aGlzLnBsYWNlaG9sZGVyLGY9W10sZT1bXSxnPWIuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiO2IubGlzdC5lbXB0eSgpLmZpbHRlcigiLnVpLWxpc3R2aWV3IikubGlzdHZpZXcoImRlc3Ryb3kiKTtiLnNlbGVjdC5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKGgpe3ZhciBqPWEodGhpcyksaT1qLnBhcmVudCgpLG49ai5nZXRFbmNvZGVkVGV4dCgpLG09CiI8YSBocmVmPScjJz4iK24rIjwvYT4iLGs9W10sbD1bXTtpLmlzKCJvcHRncm91cCIpJiYoaT1pLmF0dHIoImxhYmVsIiksYS5pbkFycmF5KGksZik9PT0tMSYmKGUucHVzaCgiPGxpIGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nbGlzdC1kaXZpZGVyJz4iK2krIjwvbGk+IiksZi5wdXNoKGkpKSk7aWYoIXRoaXMuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfHxuLmxlbmd0aD09MHx8ai5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKWMuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZrLnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSxkPWIucGxhY2Vob2xkZXI9bjt0aGlzLmRpc2FibGVkJiYoay5wdXNoKCJ1aS1kaXNhYmxlZCIpLGwucHVzaCgiYXJpYS1kaXNhYmxlZD0ndHJ1ZSciKSk7ZS5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJvcHRpb24taW5kZXg9JyIraCsiJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249JyIrZysiJyBjbGFzcz0nIitrLmpvaW4oIiAiKSsiJyAiKwpsLmpvaW4oIiAiKSsiPiIrbSsiPC9saT4iKX0pO2IubGlzdC5odG1sKGUuam9pbigiICIpKTtiLmxpc3QuZmluZCgibGkiKS5hdHRyKHtyb2xlOiJvcHRpb24iLHRhYmluZGV4OiItMSJ9KS5maXJzdCgpLmF0dHIoInRhYmluZGV4IiwiMCIpO3RoaXMuaXNNdWx0aXBsZXx8dGhpcy5oZWFkZXJDbG9zZS5oaWRlKCk7IXRoaXMuaXNNdWx0aXBsZSYmIWQubGVuZ3RoP3RoaXMuaGVhZGVyLmhpZGUoKTp0aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik7Yi5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDp0aGlzLmJ1dHRvbklkLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6dGhpcy5tZW51SWR9KX19KX07YShkb2N1bWVudCkuZGVsZWdhdGUoInNlbGVjdCIsInNlbGVjdG1lbnViZWZvcmVjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5kYXRhKCJzZWxlY3RtZW51Iik7CmIub3B0aW9ucy5uYXRpdmVNZW51fHxlKGIpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsZGlzYWJsZWQ6ZmFsc2UsaWNvbjoiYXJyb3ctZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTpudWxsLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsbWVudVBhZ2VUaGVtZToiYiIsb3ZlcmxheVRoZW1lOiJhIixoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6dHJ1ZSxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OnRydWUsaW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKSJ9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+Iil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpO3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9CnRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQud3JhcCgiPGRpdiBjbGFzcz0ndWktc2VsZWN0Jz4iKTt0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIik7dGhpcy5sYWJlbD1hKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0Iik7dGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlO2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuc2VsZWN0LCJjIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKTt0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKTt0aGlzLmJ1dHRvbj0KdGhpcy5fYnV0dG9uKCk7dmFyIGU9dGhpcyxiPXRoaXMub3B0aW9ucyxkPXRoaXMuYnV0dG9uLnRleHQoYSh0aGlzLnNlbGVjdFswXS5vcHRpb25zLml0ZW0odGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleD09LTE/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4KSkudGV4dCgpKS5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yi50aGVtZSxpY29uOmIuaWNvbixpY29ucG9zOmIuaWNvbnBvcyxpbmxpbmU6Yi5pbmxpbmUsY29ybmVyczpiLmNvcm5lcnMsc2hhZG93OmIuc2hhZG93LGljb25zaGFkb3c6Yi5pY29uc2hhZG93fSk7Yi5uYXRpdmVNZW51JiZ3aW5kb3cub3BlcmEmJndpbmRvdy5vcGVyYS52ZXJzaW9uJiZ0aGlzLnNlbGVjdC5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKTtpZih0aGlzLmlzTXVsdGlwbGUpdGhpcy5idXR0b25Db3VudD1hKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbGktY291bnQgdWktYnRuLXVwLWMgdWktYnRuLWNvcm5lci1hbGwiKS5oaWRlKCkuYXBwZW5kVG8oZC5hZGRDbGFzcygidWktbGktaGFzLWNvdW50IikpOwooYi5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKTt0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtlLnJlZnJlc2goKX0pO3RoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGUuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2UuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7ZS5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtlLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7ZS5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIiLApmdW5jdGlvbigpe2UuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2Uub3B0aW9ucy50aGVtZSl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGI9dGhpcy5zZWxlY3RlZCgpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLnRleHQoZnVuY3Rpb24oKXtyZXR1cm4hZS5pc011bHRpcGxlP2IudGV4dCgpOmIubGVuZ3RoP2IubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTplLnBsYWNlaG9sZGVyfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9CnRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbYS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoYS5sZW5ndGgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCk7dGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZChmYWxzZSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EubW9iaWxlLnNlbGVjdG1lbnUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oZS50YXJnZXQpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYjthOyl7aWYoKGI9dHlwZW9mIGEuY2xhc3NOYW1lPT09InN0cmluZyImJmEuY2xhc3NOYW1lKyIgIikmJmIuaW5kZXhPZigidWktYnRuICIpPi0xJiZiLmluZGV4T2YoInVpLWRpc2FibGVkICIpPDApYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oYil7Zm9yKHZhciBiPWJ8fHt9LGM9MDtjPHRoaXMubGVuZ3RoO2MrKyl7dmFyIGg9dGhpcy5lcShjKSxnPWhbMF0saT1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjpiLmljb24hPT1lP2IuaWNvbjpoLmpxbURhdGEoImljb24iKSxpY29ucG9zOmIuaWNvbnBvcyE9PWU/Yi5pY29ucG9zOmguanFtRGF0YSgiaWNvbnBvcyIpLHRoZW1lOmIudGhlbWUhPT1lP2IudGhlbWU6aC5qcW1EYXRhKCJ0aGVtZSIpLGlubGluZTpiLmlubGluZSE9PWU/Yi5pbmxpbmU6aC5qcW1EYXRhKCJpbmxpbmUiKSwKc2hhZG93OmIuc2hhZG93IT09ZT9iLnNoYWRvdzpoLmpxbURhdGEoInNoYWRvdyIpLGNvcm5lcnM6Yi5jb3JuZXJzIT09ZT9iLmNvcm5lcnM6aC5qcW1EYXRhKCJjb3JuZXJzIiksaWNvbnNoYWRvdzpiLmljb25zaGFkb3chPT1lP2IuaWNvbnNoYWRvdzpoLmpxbURhdGEoImljb25zaGFkb3ciKX0sYiksbD0idWktYnRuLWlubmVyIixrLG8sbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGkud3JhcHBlckVscykscT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGkud3JhcHBlckVscyksaj1pLmljb24/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOm51bGw7aWYoIShnLnRhZ05hbWU9PT0iSU5QVVQiJiZoLmpxbURhdGEoInJvbGUiKT09PSJidXR0b24iKSlpZihnLnRhZ05hbWU9PT0iQlVUVE9OIilhKGcucGFyZW50Tm9kZSkuaGFzQ2xhc3MoInVpLWJ0biIpfHxhKGcpLmJ1dHRvbigpO2Vsc2V7ZCYmZCgpO2lmKCFpLnRoZW1lKWkudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaCwKImMiKTtrPSJ1aS1idG4gdWktYnRuLXVwLSIraS50aGVtZTtpLmlubGluZSYmKGsrPSIgdWktYnRuLWlubGluZSIpO2lmKGkuaWNvbilpLmljb249InVpLWljb24tIitpLmljb24saS5pY29ucG9zPWkuaWNvbnBvc3x8ImxlZnQiLG89InVpLWljb24gIitpLmljb24saS5pY29uc2hhZG93JiYobys9IiB1aS1pY29uLXNoYWRvdyIpO2kuaWNvbnBvcyYmKGsrPSIgdWktYnRuLWljb24tIitpLmljb25wb3MsaS5pY29ucG9zPT0ibm90ZXh0IiYmIWguYXR0cigidGl0bGUiKSYmaC5hdHRyKCJ0aXRsZSIsaC5nZXRFbmNvZGVkVGV4dCgpKSk7aS5jb3JuZXJzJiYoays9IiB1aS1idG4tY29ybmVyLWFsbCIsbCs9IiB1aS1idG4tY29ybmVyLWFsbCIpO2kuc2hhZG93JiYoays9IiB1aS1zaGFkb3ciKTtnLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsaS50aGVtZSk7aC5hZGRDbGFzcyhrKTtuLmNsYXNzTmFtZT1sO3EuY2xhc3NOYW1lPSJ1aS1idG4tdGV4dCI7bi5hcHBlbmRDaGlsZChxKTsKaWYoailqLmNsYXNzTmFtZT1vLG4uYXBwZW5kQ2hpbGQoaik7Zm9yKDtnLmZpcnN0Q2hpbGQ7KXEuYXBwZW5kQ2hpbGQoZy5maXJzdENoaWxkKTtnLmFwcGVuZENoaWxkKG4pO2EuZGF0YShnLCJ0ZXh0V3JhcHBlciIsYShxKSl9fXJldHVybiB0aGlzfTthLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSxpbmxpbmU6ZmFsc2Usd3JhcHBlckVsczoic3BhbiJ9O3ZhciBkPWZ1bmN0aW9uKCl7YShkb2N1bWVudCkuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbihkKXt2YXIgZD1iKGQudGFyZ2V0KSxjO2QmJihkPWEoZCksYz1kLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxkLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitjKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitjKSl9LCJ2bW91c2VjYW5jZWwgdm1vdXNldXAiOmZ1bmN0aW9uKGQpe3ZhciBkPWIoZC50YXJnZXQpLGM7ZCYmKGQ9YShkKSxjPWQuYXR0cigiZGF0YS0iKwphLm1vYmlsZS5ucysidGhlbWUiKSxkLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2MpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitjKSl9LCJ2bW91c2VvdmVyIGZvY3VzIjpmdW5jdGlvbihkKXt2YXIgZD1iKGQudGFyZ2V0KSxjO2QmJihkPWEoZCksYz1kLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxkLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitjKS5hZGRDbGFzcygidWktYnRuLWhvdmVyLSIrYykpfSwidm1vdXNlb3V0IGJsdXIiOmZ1bmN0aW9uKGQpe3ZhciBkPWIoZC50YXJnZXQpLGM7ZCYmKGQ9YShkKSxjPWQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2MrIiB1aS1idG4tZG93bi0iK2MpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitjKSl9fSk7ZD1udWxsfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLApiLnRhcmdldCkubm90KCIudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5mbi5jb250cm9sZ3JvdXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7YS5yZW1vdmVDbGFzcygidWktYnRuLWNvcm5lci1hbGwgdWktc2hhZG93IikuZXEoMCkuYWRkQ2xhc3MoaFswXSkuZW5kKCkubGFzdCgpLmFkZENsYXNzKGhbMV0pLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtbGFzdCIpfXZhciBkPWEodGhpcyksZj1hLmV4dGVuZCh7ZGlyZWN0aW9uOmQuanFtRGF0YSgidHlwZSIpfHwidmVydGljYWwiLHNoYWRvdzpmYWxzZSxleGNsdWRlSW52aXNpYmxlOnRydWV9LGUpLGM9ZC5jaGlsZHJlbigibGVnZW5kIiksaD1mLmRpcmVjdGlvbj09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl07ZC5maW5kKCJpbnB1dCIpLmZpcnN0KCkuYXR0cigidHlwZSIpO2MubGVuZ3RoJiYoZC53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksCmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+IitjLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGQuY2hpbGRyZW4oMCkpLGMucmVtb3ZlKCkpO2QuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iK2YuZGlyZWN0aW9uKTtiKGQuZmluZCgiLnVpLWJ0biIrKGYuZXhjbHVkZUludmlzaWJsZT8iOnZpc2libGUiOiIiKSkpO2IoZC5maW5kKCIudWktYnRuLWlubmVyIikpO2Yuc2hhZG93JiZkLmFkZENsYXNzKCJ1aS1zaGFkb3ciKX0pfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YSgiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykiLGUudGFyZ2V0KS5jb250cm9sZ3JvdXAoe2V4Y2x1ZGVJbnZpc2libGU6ZmFsc2V9KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKGUudGFyZ2V0KS5maW5kKCJhIikubm90KCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGUpe2EuZm4uZml4SGVhZGVyRm9vdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmIuYWRkQ2xhc3MoInVpLXBhZ2UtZnVsbHNjcmVlbiIpO2IuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpO2IuZmluZCgiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWZvb3Rlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpfSl9O2EubW9iaWxlLmZpeGVkVG9vbGJhcnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7IWkmJmc9PT0ib3ZlcmxheSImJihofHxhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUodHJ1ZSksCmEubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKSl9ZnVuY3Rpb24gZChhKXt2YXIgYj0wLGMsZDtpZihhKXtkPWRvY3VtZW50LmJvZHk7Yz1hLm9mZnNldFBhcmVudDtmb3IoYj1hLm9mZnNldFRvcDthJiZhIT1kOyl7Yis9YS5zY3JvbGxUb3B8fDA7aWYoYT09YyliKz1jLm9mZnNldFRvcCxjPWEub2Zmc2V0UGFyZW50O2E9YS5wYXJlbnROb2RlfX1yZXR1cm4gYn1mdW5jdGlvbiBmKGIpe3ZhciBjPWEod2luZG93KS5zY3JvbGxUb3AoKSxlPWQoYlswXSksZj1iLmNzcygidG9wIik9PSJhdXRvIj8wOnBhcnNlRmxvYXQoYi5jc3MoInRvcCIpKSxnPXdpbmRvdy5pbm5lckhlaWdodCxoPWIub3V0ZXJIZWlnaHQoKSxpPWIucGFyZW50cygiLnVpLXBhZ2U6bm90KC51aS1wYWdlLWZ1bGxzY3JlZW4pIikubGVuZ3RoO3JldHVybiBiLmlzKCIudWktaGVhZGVyLWZpeGVkIik/KGY9Yy1lK2YsZjxlJiYoZj0wKSxiLmNzcygidG9wIixpP2Y6YykpOmIuY3NzKCJ0b3AiLGk/YysKZy1oLShlLWYpOmMrZy1oKX1pZihhLnN1cHBvcnQuc2Nyb2xsVG9wJiYoIWEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwhYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQpKXt2YXIgYyxoLGc9ImlubGluZSIsaT1mYWxzZSxsPW51bGwsaz1mYWxzZSxvPXRydWU7YShmdW5jdGlvbigpe3ZhciBjPWEoZG9jdW1lbnQpLGQ9YSh3aW5kb3cpO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtvJiYobD1nKX0pLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7byYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJiFrJiYoYS5tb2JpbGUuZml4ZWRUb29sYmFycy50b2dnbGUobCksbD1udWxsKX0pLmJpbmQoInNpbGVudHNjcm9sbCIsYik7KGMuc2Nyb2xsVG9wKCk9PT0wP2Q6YykuYmluZCgic2Nyb2xsc3RhcnQiLGZ1bmN0aW9uKCl7az10cnVlO2w9PT0KbnVsbCYmKGw9Zyk7dmFyIGI9bD09Im92ZXJsYXkiO2lmKGk9Ynx8ISFoKWEubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKSxiJiZhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUodHJ1ZSl9KS5iaW5kKCJzY3JvbGxzdG9wIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCJhLGlucHV0LHRleHRhcmVhLHNlbGVjdCxidXR0b24sbGFiZWwsLnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVkIikubGVuZ3RofHwoaz1mYWxzZSxpJiYoYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpLGk9ZmFsc2UpLGw9bnVsbCl9KTtkLmJpbmQoInJlc2l6ZSB1cGRhdGVsYXlvdXQiLGIpfSk7YShkb2N1bWVudCkuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKGIsZCl7dmFyIGU9YShiLnRhcmdldCkuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKSxnPWUuZGF0YSgiaWQiKSxoPWQucHJldlBhZ2UsCmg9aCYmaC5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGg9aC5sZW5ndGgmJmguanFtRGF0YSgiaWQiKT09PWc7ZyYmaCYmKGM9ZSxmKGMucmVtb3ZlQ2xhc3MoImZhZGUgaW4gb3V0IikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikpKX0pLmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93IixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7YyYmYy5sZW5ndGgmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmKGMuYXBwZW5kVG8oYikuYWRkQ2xhc3MoImZhZGUiKSk7Yz1udWxsfSw1MDApO2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuc2hvdyh0cnVlLHRoaXMpfSk7YShkb2N1bWVudCkuZGVsZWdhdGUoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIiwiY29sbGFwc2UgZXhwYW5kIixiKTtyZXR1cm57c2hvdzpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTtnPSJvdmVybGF5IjtyZXR1cm4oYz9hKGMpOmEubW9iaWxlLmFjdGl2ZVBhZ2U/CmEubW9iaWxlLmFjdGl2ZVBhZ2U6YSgiLnVpLXBhZ2UtYWN0aXZlIikpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkOmZpcnN0LCAudWktZm9vdGVyLWZpeGVkOm5vdCgudWktZm9vdGVyLWR1cGxpY2F0ZSk6bGFzdCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGU9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGc9ZChjWzBdKSxoPXdpbmRvdy5pbm5lckhlaWdodCxpPWMub3V0ZXJIZWlnaHQoKSxlPWMuaXMoIi51aS1oZWFkZXItZml4ZWQiKSYmZTw9ZytpfHxjLmlzKCIudWktZm9vdGVyLWZpeGVkIikmJmc8PWUraDtjLmFkZENsYXNzKCJ1aS1maXhlZC1vdmVybGF5IikucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLWlubGluZSIpOyFlJiYhYiYmYy5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KS5hZGRDbGFzcygiaW4iKTtmKGMpfSl9LGhpZGU6ZnVuY3Rpb24oYil7Zz0iaW5saW5lIjtyZXR1cm4oYS5tb2JpbGUuYWN0aXZlUGFnZT9hLm1vYmlsZS5hY3RpdmVQYWdlOgphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmNzcygidG9wIiksZD1kPT0iYXV0byI/MDpwYXJzZUZsb2F0KGQpO2MuYWRkQ2xhc3MoInVpLWZpeGVkLWlubGluZSIpLnJlbW92ZUNsYXNzKCJ1aS1maXhlZC1vdmVybGF5Iik7aWYoZDwwfHxjLmlzKCIudWktaGVhZGVyLWZpeGVkIikmJmQhPT0wKWI/Yy5jc3MoInRvcCIsMCk6Yy5jc3MoInRvcCIpIT09ImF1dG8iJiZwYXJzZUZsb2F0KGMuY3NzKCJ0b3AiKSkhPT0wJiZjLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygib3V0IHJldmVyc2UiKS5jc3MoInRvcCIsMCl9KS5hZGRDbGFzcygib3V0IHJldmVyc2UiKX0pfSxzdGFydFNob3dUaW1lcjpmdW5jdGlvbigpe2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTsKdmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2g9c2V0VGltZW91dChmdW5jdGlvbigpe2g9ZTthLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3cuYXBwbHkobnVsbCxiKX0sMTAwKX0sY2xlYXJTaG93VGltZXI6ZnVuY3Rpb24oKXtoJiZjbGVhclRpbWVvdXQoaCk7aD1lfSx0b2dnbGU6ZnVuY3Rpb24oYil7YiYmKGc9Yik7cmV0dXJuIGc9PT0ib3ZlcmxheSI/YS5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCk6YS5tb2JpbGUuZml4ZWRUb29sYmFycy5zaG93KCl9LHNldFRvdWNoVG9nZ2xlRW5hYmxlZDpmdW5jdGlvbihhKXtvPWF9fX19KCk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIixiLnRhcmdldCkubGVuZ3RoJiZhKGIudGFyZ2V0KS5lYWNoKGZ1bmN0aW9uKCl7aWYoIWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZClyZXR1cm4gdGhpczsKdmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmYi5hZGRDbGFzcygidWktcGFnZS1mdWxsc2NyZWVuIik7Yi5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIik7Yi5maW5kKCIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktZm9vdGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIil9KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkPWZhbHNlO2EubW9iaWxlLnRvdWNoT3ZlcmZsb3dab29tRW5hYmxlZD1mYWxzZTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihlKXthLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQmJihlPWEoZS50YXJnZXQpLGUuaXMoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpJiZlLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGQ9Yi5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5maWx0ZXIoIjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIiksZT1iLmpxbURhdGEoImZ1bGxzY3JlZW4iKSxjPWQubGVuZ3RoP2IuZmluZCgiLnVpLWNvbnRlbnQiKTpiO2IuYWRkQ2xhc3MoInVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdyIpO2MuYmluZCgic2Nyb2xsc3RvcCIsZnVuY3Rpb24oKXtjLnNjcm9sbFRvcCgpPgowJiZ3aW5kb3cuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCl9KTtkLmxlbmd0aCYmKGIuYWRkQ2xhc3MoInVpLW5hdGl2ZS1maXhlZCIpLGUmJihiLmFkZENsYXNzKCJ1aS1uYXRpdmUtZnVsbHNjcmVlbiIpLGQuYWRkQ2xhc3MoImZhZGUgaW4iKSxhKGRvY3VtZW50KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcygidWktbmF0aXZlLWJhcnMtaGlkZGVuIikudG9nZ2xlQ2xhc3MoImluIG91dCIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7YSh0aGlzKS5ub3QoIi5pbiIpLmFkZENsYXNzKCJ1aS1uYXRpdmUtYmFycy1oaWRkZW4iKX0pfSkpKX0pKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gYigpe3ZhciBiPWEoIm1ldGFbbmFtZT0ndmlld3BvcnQnXSIpO2IubGVuZ3RoP2IuYXR0cigiY29udGVudCIsYi5hdHRyKCJjb250ZW50IikrIiwgdXNlci1zY2FsYWJsZT1ubyIpOmEoImhlYWQiKS5wcmVwZW5kKCI8bWV0YT4iLHtuYW1lOiJ2aWV3cG9ydCIsY29udGVudDoidXNlci1zY2FsYWJsZT1ubyJ9KX12YXIgZD1hKCJodG1sIik7YSgiaGVhZCIpO3ZhciBmPWEoZSk7YShlLmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0Iik7aWYoYS5tb2JpbGUuZ3JhZGVBKCkpe2lmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QpYS5tb2JpbGUuYWpheEVuYWJsZWQ9ZmFsc2U7ZC5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKTt2YXIgYz1hKCI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktYm9keS1hIHVpLWNvcm5lci1hbGwnPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyBzcGluJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+Iik7CmEuZXh0ZW5kKGEubW9iaWxlLHtzaG93UGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtpZihhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7Yy5maW5kKCJoMSIpLnRleHQoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2UpLmVuZCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJmYuc2Nyb2xsVG9wKCkrZi5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfWQuYWRkQ2xhc3MoInVpLWxvYWRpbmciKX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcygidWktbG9hZGluZyIpfSxpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiLGM9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7Yy5sZW5ndGh8fChiPWEoIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiksYi5sZW5ndGg/KGIuZmlyc3QoKS5hdHRyKCJkYXRhLSIrCmEubW9iaWxlLm5zKyJyb2xlIiwicGFnZSIpLGM9Yy5hZGQoYi5nZXQoKS5zaGlmdCgpKSk6Yz1hKCJib2R5Iikud3JhcElubmVyKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+PC9kaXY+IikuY2hpbGRyZW4oMCkpO2MuYWRkKCI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgidXJsIil8fGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLGIuYXR0cigiaWQiKXx8bG9jYXRpb24ucGF0aG5hbWUrbG9jYXRpb24uc2VhcmNoKX0pO2EubW9iaWxlLmZpcnN0UGFnZT1jLmZpcnN0KCk7YS5tb2JpbGUucGFnZUNvbnRhaW5lcj1jLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpO2YudHJpZ2dlcigicGFnZWNvbnRhaW5lcmNyZWF0ZSIpO2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOyFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8IWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpPwphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTp0cnVlLGNoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX0pOmYudHJpZ2dlcigiaGFzaGNoYW5nZSIsW3RydWVdKX19KTthLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQmJiFhLm1vYmlsZS50b3VjaE92ZXJmbG93Wm9vbUVuYWJsZWQmJmIoKTthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpO2EoZnVuY3Rpb24oKXtlLnNjcm9sbFRvKDAsMSk7YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9IWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEoZSkuc2Nyb2xsVG9wKCk9PT0xPzA6MTthLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCk7Zi5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCl9KX19KShqUXVlcnksdGhpcyk7Cg==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Length": "83488",
                    "Date": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/CuriousSolutions/DateTimePicker/demo/jQuery%20Mobile%20Project/jquery.mobile-1.4.0.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&amp;&amp;(location.href=location.href.replace(/#.*/,\"\")+h),f=setTimeout(c,a.fn[g].delay)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/CuriousSolutions/DateTimePicker/demo/jQuery%20Mobile%20Project/jquery.mobile-1.4.0.min.js",
                "path": "/CuriousSolutions/DateTimePicker/demo/jQuery%20Mobile%20Project/jquery.mobile-1.4.0.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9DdXJpb3VzU29sdXRpb25zL0RhdGVUaW1lUGlja2VyL2RlbW8valF1ZXJ5JTIwTW9iaWxlJTIwUHJvamVjdC9qcXVlcnkubW9iaWxlLTEuNC4wLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTkzMjY1DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBUaHUsIDA2IE5vdiAyMDE0IDE5OjUwOjU0IEdNVA0KTGFzdC1Nb2RpZmllZDogVGh1LCAwNiBOb3YgMjAxNCAxOTo1MDo1MyBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgMS40LjAgfCBHaXQgSEVBRCBoYXNoOiBmMDlhYWUwIDw+IDIwMTMtMTItMTlUMTc6MzQ6MjJaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYixjKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKGQpe3JldHVybiBjKGQsYSxiKSxkLm1vYmlsZX0pOmMoYS5qUXVlcnksYSxiKX0odGhpcyxkb2N1bWVudCxmdW5jdGlvbihhLGIsYyl7IWZ1bmN0aW9uKGEpe2EubW9iaWxlPXt9fShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLm1vYmlsZSx7dmVyc2lvbjoiMS40LjAiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGhpZGVVcmxCYXI6ITAsa2VlcE5hdGl2ZToiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MCxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOiJhIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOiExLGF1dG9Jbml0aWFsaXplUGFnZTohMCxwdXNoU3RhdGVFbmFibGVkOiEwLGlnbm9yZUNvbnRlbnRFbmFibGVkOiExLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGR5bmFtaWNCYXNlRW5hYmxlZDohMCxwYWdlQ29udGFpbmVyOmEoKSxhbGxvd0Nyb3NzRG9tYWluUGFnZXM6ITEsZGlhbG9nSGFzaEtleToiJnVpLXN0YXRlPWRpYWxvZyJ9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e30sZT1hLmZpbmQsZj0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8sZz0vOmpxbURhdGFcKChbXildKilcKS9nO2EuZXh0ZW5kKGEubW9iaWxlLHtuczoiIixnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYixjKXt2YXIgZDtiPWIuanF1ZXJ5P2JbMF06YixiJiZiLmdldEF0dHJpYnV0ZSYmKGQ9Yi5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytjKSk7dHJ5e2Q9InRydWUiPT09ZD8hMDoiZmFsc2UiPT09ZD8hMToibnVsbCI9PT1kP251bGw6K2QrIiI9PT1kPytkOmYudGVzdChkKT9KU09OLnBhcnNlKGQpOmR9Y2F0Y2goZSl7fXJldHVybiBkfSxuc05vcm1hbGl6ZURpY3Q6ZCxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtyZXR1cm4gZFtiXXx8KGRbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpfSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmRhdGEoIm1vYmlsZS1wYWdlIil9fSksYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsZCl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiJiYoYiYmKGI9YS5tb2JpbGUubnNOb3JtYWxpemUoYikpLGU9YXJndW1lbnRzLmxlbmd0aDwyfHxkPT09Yz90aGlzLmRhdGEoYik6dGhpcy5kYXRhKGIsZCkpLGV9LGEuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBjJiYoZT1hLmRhdGEoYixjP2EubW9iaWxlLm5zTm9ybWFsaXplKGMpOmMsZCkpLGV9LGEuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX0sYS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX0sYS5maW5kPWZ1bmN0aW9uKGIsYyxkLGYpe3JldHVybiBiLmluZGV4T2YoIjpqcW1EYXRhIik+LTEmJihiPWIucmVwbGFjZShnLCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyIkMV0iKSksZS5jYWxsKHRoaXMsYixjLGQsZil9LGEuZXh0ZW5kKGEuZmluZCxlKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYixjKXt2YXIgZCxmLGcsaD1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImFyZWEiPT09aD8oZD1iLnBhcmVudE5vZGUsZj1kLm5hbWUsYi5ocmVmJiZmJiYibWFwIj09PWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT8oZz1hKCJpbWdbdXNlbWFwPSMiK2YrIl0iKVswXSwhIWcmJmUoZykpOiExKTooL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KGgpPyFiLmRpc2FibGVkOiJhIj09PWg/Yi5ocmVmfHxjOmMpJiZlKGIpfWZ1bmN0aW9uIGUoYil7cmV0dXJuIGEuZXhwci5maWx0ZXJzLnZpc2libGUoYikmJiFhKGIpLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuImhpZGRlbiI9PT1hLmNzcyh0aGlzLCJ2aXNpYmlsaXR5Iil9KS5sZW5ndGh9dmFyIGY9MCxnPS9edWktaWQtXGQrJC87YS51aT1hLnVpfHx7fSxhLmV4dGVuZChhLnVpLHt2ZXJzaW9uOiJjMGFiNzEwNTZiOTM2NjI3ZThhNzgyMWYwM2MwNDRhZWM2MjgwYTQwIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KSxhLmZuLmV4dGVuZCh7Zm9jdXM6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBjP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EoYikuZm9jdXMoKSxkJiZkLmNhbGwoYil9LGMpfSk6Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmZuLmZvY3VzKSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj1hLnVpLmllJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KGEuY3NzKHRoaXMsInBvc2l0aW9uIikpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLCJvdmVyZmxvdyIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXkiKSthLmNzcyh0aGlzLCJvdmVyZmxvdy14IikpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcywib3ZlcmZsb3ciKSthLmNzcyh0aGlzLCJvdmVyZmxvdy15IikrYS5jc3ModGhpcywib3ZlcmZsb3cteCIpKX0pLmVxKDApLC9maXhlZC8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fCFiLmxlbmd0aD9hKHRoaXNbMF0ub3duZXJEb2N1bWVudHx8Yyk6Yn0sdW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9InVpLWlkLSIrICsrZil9KX0scmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zy50ZXN0KHRoaXMuaWQpJiZhKHRoaXMpLnJlbW92ZUF0dHIoImlkIil9KX19KSxhLmV4dGVuZChhLmV4cHJbIjoiXSx7ZGF0YTphLmV4cHIuY3JlYXRlUHNldWRvP2EuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsYil9fSk6ZnVuY3Rpb24oYixjLGQpe3JldHVybiEhYS5kYXRhKGIsZFszXSl9LGZvY3VzYWJsZTpmdW5jdGlvbihiKXtyZXR1cm4gZChiLCFpc05hTihhLmF0dHIoYiwidGFiaW5kZXgiKSkpfSx0YWJiYWJsZTpmdW5jdGlvbihiKXt2YXIgYz1hLmF0dHIoYiwidGFiaW5kZXgiKSxlPWlzTmFOKGMpO3JldHVybihlfHxjPj0wKSYmZChiLCFlKX19KSxhKCI8YT4iKS5vdXRlcldpZHRoKDEpLmpxdWVyeXx8YS5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbihjLGQpe2Z1bmN0aW9uIGUoYixjLGQsZSl7cmV0dXJuIGEuZWFjaChmLGZ1bmN0aW9uKCl7Yy09cGFyc2VGbG9hdChhLmNzcyhiLCJwYWRkaW5nIit0aGlzKSl8fDAsZCYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCksZSYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwibWFyZ2luIit0aGlzKSl8fDApfSksY312YXIgZj0iV2lkdGgiPT09ZD9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sZz1kLnRvTG93ZXJDYXNlKCksaD17aW5uZXJXaWR0aDphLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6YS5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmEuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDphLmZuLm91dGVySGVpZ2h0fTthLmZuWyJpbm5lciIrZF09ZnVuY3Rpb24oYyl7cmV0dXJuIGM9PT1iP2hbImlubmVyIitkXS5jYWxsKHRoaXMpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGMpKyJweCIpfSl9LGEuZm5bIm91dGVyIitkXT1mdW5jdGlvbihiLGMpe3JldHVybiJudW1iZXIiIT10eXBlb2YgYj9oWyJvdXRlciIrZF0uY2FsbCh0aGlzLGIpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGIsITAsYykrInB4Iil9KX19KSxhLmZuLmFkZEJhY2t8fChhLmZuLmFkZEJhY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfSksYSgiPGE+IikuZGF0YSgiYS1iIiwiYSIpLnJlbW92ZURhdGEoImEtYiIpLmRhdGEoImEtYiIpJiYoYS5mbi5yZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmNhbGwodGhpcyxhLmNhbWVsQ2FzZShjKSk6Yi5jYWxsKHRoaXMpfX0oYS5mbi5yZW1vdmVEYXRhKSksYS51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpLGEuc3VwcG9ydC5zZWxlY3RzdGFydD0ib25zZWxlY3RzdGFydCJpbiBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGEuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgoYS5zdXBwb3J0LnNlbGVjdHN0YXJ0PyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIpKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX0sekluZGV4OmZ1bmN0aW9uKGQpe2lmKGQhPT1iKXJldHVybiB0aGlzLmNzcygiekluZGV4IixkKTtpZih0aGlzLmxlbmd0aClmb3IodmFyIGUsZixnPWEodGhpc1swXSk7Zy5sZW5ndGgmJmdbMF0hPT1jOyl7aWYoZT1nLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PWV8fCJyZWxhdGl2ZSI9PT1lfHwiZml4ZWQiPT09ZSkmJihmPXBhcnNlSW50KGcuY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGYpJiYwIT09ZikpcmV0dXJuIGY7Zz1nLnBhcmVudCgpfXJldHVybiAwfX0pLGEudWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9YS51aVtiXS5wcm90b3R5cGU7Zm9yKGUgaW4gZClmLnBsdWdpbnNbZV09Zi5wbHVnaW5zW2VdfHxbXSxmLnBsdWdpbnNbZV0ucHVzaChbYyxkW2VdXSl9LGNhbGw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLnBsdWdpbnNbYl07aWYoZiYmKGR8fGEuZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PWEuZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IoZT0wO2U8Zi5sZW5ndGg7ZSsrKWEub3B0aW9uc1tmW2VdWzBdXSYmZltlXVsxXS5hcHBseShhLmVsZW1lbnQsYyl9fX0oYSksZnVuY3Rpb24oYSxiKXthLmV4dGVuZChhLm1vYmlsZSx7d2luZG93OmEoYiksZG9jdW1lbnQ6YShjKSxrZXlDb2RlOmEudWkua2V5Q29kZSxiZWhhdmlvcnM6e30sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGMpeyJudW1iZXIiIT09YS50eXBlKGMpJiYoYz1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2Nyb2xsVG8oMCxjKSxhLm1vYmlsZS5kb2N1bWVudC50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpjfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LGdldENsb3Nlc3RCYXNlVXJsOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxkPWEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmYyYmYS5tb2JpbGUucGF0aC5pc1BhdGgoYyl8fChjPWQpLGEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGMsZCl9LHJlbW92ZUFjdGl2ZUxpbmtDbGFzczpmdW5jdGlvbihiKXshYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmt8fGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLmNsb3Nlc3QoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RoJiYhYnx8YS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPW51bGx9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1hWzBdLGY9IiIsZz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi87ZSYmKGM9ZS5jbGFzc05hbWV8fCIiLCEoYyYmKGQ9Zy5leGVjKGMpKSYmKGY9ZFsyXSkpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGZ8fGJ8fCJhIn0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiZW5oYW5jZSIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImFqYXgiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7dmFyIGQsZSxmLGcsaCxpPWIubGVuZ3RoLGo9YSgpO2ZvcihnPTA7aT5nO2crKyl7Zm9yKGU9Yi5lcShnKSxmPSExLGQ9YltnXTtkOyl7aWYoaD1kLmdldEF0dHJpYnV0ZT9kLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpOiIiLCJmYWxzZSI9PT1oKXtmPSEwO2JyZWFrfWQ9ZC5wYXJlbnROb2RlfWZ8fChqPWouYWRkKGUpKX1yZXR1cm4gan0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaW5uZXJIZWlnaHR8fGEubW9iaWxlLndpbmRvdy5oZWlnaHQoKX0scmVzZXRBY3RpdmVQYWdlSGVpZ2h0OmZ1bmN0aW9uKGIpe3ZhciBjPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksZD1jLmhlaWdodCgpLGU9Yy5vdXRlckhlaWdodCghMCk7Yj0ibnVtYmVyIj09dHlwZW9mIGI/YjphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxjLmNzcygibWluLWhlaWdodCIsYi0oZS1kKSl9LGxvYWRpbmc6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxvYWRpbmcuX3dpZGdldHx8YShhLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLmRlZmF1bHRIdG1sKS5sb2FkZXIoKSxjPWIubG9hZGVyLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5sb2FkaW5nLl93aWRnZXQ9YixjfX0pLGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2QuanFtRGF0YSgiZGVwZW5kZW50cyIsYShlKS5hZGQoYykpfSxhLmZuLmV4dGVuZCh7cmVtb3ZlV2l0aERlcGVuZGVudHM6ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKCl7dmFyIGIsYz17fSxkPWEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpLGU9dGhpczthLm1vYmlsZS5ub2pzJiZhLm1vYmlsZS5ub2pzKHRoaXMpLGEubW9iaWxlLmxpbmtzJiZhLm1vYmlsZS5saW5rcyh0aGlzKSxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluJiZhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluKHRoaXMpLGEuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmZpbmQoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5ub3QoZCkuanFtRW5oYW5jZWFibGUoKS5idXR0b25NYXJrdXAoKSxhLmZuLmZpZWxkY29udGFpbiYmdGhpcy5maW5kKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpLGEuZWFjaChhLm1vYmlsZS53aWRnZXRzLGZ1bmN0aW9uKGIsZil7aWYoZi5pbml0U2VsZWN0b3Ipe3ZhciBnPWEubW9iaWxlLmVuaGFuY2VhYmxlKGUuZmluZChmLmluaXRTZWxlY3RvcikpO2cubGVuZ3RoPjAmJihnPWcubm90KGQpKSxnLmxlbmd0aD4wJiYoY1tmLnByb3RvdHlwZS53aWRnZXROYW1lXT1nKX19KTtmb3IoYiBpbiBjKWNbYl1bYl0oKTtyZXR1cm4gdGhpc30sYWRkRGVwZW5kZW50czpmdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHModGhpcyxiKX0sZ2V0RW5jb2RlZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+IikudGV4dCh0aGlzLnRleHQoKSkuaHRtbCgpfSxqcW1FbmhhbmNlYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX0sanFtSGlqYWNrYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfX0pLGEucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7dmFyIGM9YShiKTsoYy5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCksYy5yZW1vdmUoKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX0sYS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQ9MDtudWxsIT0oYz1iW2RdKTtkKyspdHJ5e2EoYykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT17fSxqPWIuc3BsaXQoIi4iKVswXTtyZXR1cm4gYj1iLnNwbGl0KCIuIilbMV0sZT1qKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZS50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLGUpfSxhW2pdPWFbal18fHt9LGY9YVtqXVtiXSxnPWFbal1bYl09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0Pyhhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKSx2b2lkIDApOm5ldyBnKGEsYil9LGEuZXh0ZW5kKGcsZix7dmVyc2lvbjpkLnZlcnNpb24sX3Byb3RvOmEuZXh0ZW5kKHt9LGQpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGg9bmV3IGMsaC5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSxoLm9wdGlvbnMpLGEuZWFjaChkLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuaXNGdW5jdGlvbihkKT8oaVtiXT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLl9zdXBlcixmPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPWEsdGhpcy5fc3VwZXJBcHBseT1lLGI9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9Yyx0aGlzLl9zdXBlckFwcGx5PWYsYn19KCksdm9pZCAwKTooaVtiXT1kLHZvaWQgMCl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Zj9oLndpZGdldEV2ZW50UHJlZml4fHxiOmJ9LGkse2NvbnN0cnVjdG9yOmcsbmFtZXNwYWNlOmosd2lkZ2V0TmFtZTpiLHdpZGdldEZ1bGxOYW1lOmV9KSxmPyhhLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oYixjKXt2YXIgZD1jLnByb3RvdHlwZTthLndpZGdldChkLm5hbWVzcGFjZSsiLiIrZC53aWRnZXROYW1lLGcsYy5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTpjLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKGcpLGEud2lkZ2V0LmJyaWRnZShiLGcpLGd9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXtmb3IodmFyIGUsZixnPWQuY2FsbChhcmd1bWVudHMsMSksaD0wLGk9Zy5sZW5ndGg7aT5oO2grKylmb3IoZSBpbiBnW2hdKWY9Z1toXVtlXSxnW2hdLmhhc093blByb3BlcnR5KGUpJiZmIT09YiYmKGNbZV09YS5pc1BsYWluT2JqZWN0KGYpP2EuaXNQbGFpbk9iamVjdChjW2VdKT9hLndpZGdldC5leHRlbmQoe30sY1tlXSxmKTphLndpZGdldC5leHRlbmQoe30sZik6Zik7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9InN0cmluZyI9PXR5cGVvZiBnLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsaD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO3JldHVybiJpbnN0YW5jZSI9PT1nPyhqPWUsITEpOmU/YS5pc0Z1bmN0aW9uKGVbZ10pJiYiXyIhPT1nLmNoYXJBdCgwKT8oZD1lW2ddLmFwcGx5KGUsaSksZCE9PWUmJmQhPT1iPyhqPWQmJmQuanF1ZXJ5P2oucHVzaFN0YWNrKGQuZ2V0KCkpOmQsITEpOnZvaWQgMCk6YS5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrZysiJyBmb3IgIitjKyIgd2lkZ2V0IGluc3RhbmNlIik6YS5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2MrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgIisiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2crIiciKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGYpO2I/Yi5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsZixuZXcgZShnLHRoaXMpKX0pLGp9fSxhLldpZGdldD1mdW5jdGlvbigpe30sYS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGEuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsZCl7ZD1hKGR8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1hKGQpLHRoaXMudXVpZD1jKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYiksdGhpcy5iaW5kaW5ncz1hKCksdGhpcy5ob3ZlcmFibGU9YSgpLHRoaXMuZm9jdXNhYmxlPWEoKSxkIT09dGhpcyYmKGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT1kJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEoYS5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLHRoaXMud2lkZ2V0KCkudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgIisidWktc3RhdGUtZGlzYWJsZWQiKSx0aGlzLmJpbmRpbmdzLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sX2Rlc3Ryb3k6YS5ub29wLHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZyxoPWM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKCJzdHJpbmciPT10eXBlb2YgYylpZihoPXt9LGU9Yy5zcGxpdCgiLiIpLGM9ZS5zaGlmdCgpLGUubGVuZ3RoKXtmb3IoZj1oW2NdPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbY10pLGc9MDtnPGUubGVuZ3RoLTE7ZysrKWZbZVtnXV09ZltlW2ddXXx8e30sZj1mW2VbZ11dO2lmKGM9ZS5wb3AoKSxkPT09YilyZXR1cm4gZltjXT09PWI/bnVsbDpmW2NdO2ZbY109ZH1lbHNle2lmKGQ9PT1iKXJldHVybiB0aGlzLm9wdGlvbnNbY109PT1iP251bGw6dGhpcy5vcHRpb25zW2NdO2hbY109ZH1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhoKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLCJkaXNhYmxlZCI9PT1hJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQiLCEhYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSl9LF9vbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzOyJib29sZWFuIiE9dHlwZW9mIGImJihkPWMsYz1iLGI9ITEpLGQ/KGM9ZT1hKGMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoYykpOihkPWMsYz10aGlzLmVsZW1lbnQsZT10aGlzLndpZGdldCgpKSxhLmVhY2goZCxmdW5jdGlvbihkLGcpe2Z1bmN0aW9uIGgoKXtyZXR1cm4gYnx8Zi5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFhKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIGc/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyk6dm9pZCAwfSJzdHJpbmciIT10eXBlb2YgZyYmKGguZ3VpZD1nLmd1aWQ9Zy5ndWlkfHxoLmd1aWR8fGEuZ3VpZCsrKTt2YXIgaT1kLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGo9aVsxXStmLmV2ZW50TmFtZXNwYWNlLGs9aVsyXTtrP2UuZGVsZWdhdGUoayxqLGgpOmMuYmluZChqLGgpfSl9LF9vZmY6ZnVuY3Rpb24oYSxiKXtiPShifHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGEudW5iaW5kKGIpLnVuZGVsZWdhdGUoYil9LF9kZWxheTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBhP2RbYV06YSkuYXBwbHkoZCxhcmd1bWVudHMpfXZhciBkPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoYyxifHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbihiKXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQoYiksdGhpcy5fb24oYix7bW91c2VlbnRlcjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChiKSx0aGlzLl9vbihiLHtmb2N1c2luOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9uc1tiXTtpZihkPWR8fHt9LGM9YS5FdmVudChjKSxjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpLGMudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWMub3JpZ2luYWxFdmVudClmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBlP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LCJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiZhLmVmZmVjdHMuZWZmZWN0W2hdP2RbYl0oZSk6aCE9PWImJmRbaF0/ZFtoXShlLmR1cmF0aW9uLGUuZWFzaW5nLGYpOmQucXVldWUoZnVuY3Rpb24oYyl7YSh0aGlzKVtiXSgpLGYmJmYuY2FsbChkWzBdKSxjKCl9KX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9L1tBLVpdL2csYz1mdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfTthLmV4dGVuZChhLldpZGdldC5wcm90b3R5cGUse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGQsZSxmPXRoaXMuZWxlbWVudFswXSxnPXt9O2lmKCFhLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZiwiZGVmYXVsdHMiKSlmb3IoZCBpbiB0aGlzLm9wdGlvbnMpZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixkLnJlcGxhY2UoYixjKSksbnVsbCE9ZSYmKGdbZF09ZSk7cmV0dXJuIGd9fSksYS5tb2JpbGUud2lkZ2V0PWEuV2lkZ2V0fShhKSxmdW5jdGlvbihhKXt2YXIgYj0idWktbG9hZGVyIixjPWEoImh0bWwiKTthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitiKyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj4iKyI8aDE+PC9oMT4iKyI8L2Rpdj4iLGZha2VGaXhMb2FkZXI6ZnVuY3Rpb24oKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTt0aGlzLmVsZW1lbnQuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkrdGhpcy53aW5kb3cuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLGQ9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7KGIudG9wPGN8fGIudG9wLWM+ZCkmJih0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksdGhpcy5mYWtlRml4TG9hZGVyKCksdGhpcy53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZCxlLGYpe3ZhciBnLGgsaTt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGQpPyhpPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxkKSxkPWkudGhlbWUpOihpPXRoaXMub3B0aW9ucyxkPWR8fGkudGhlbWUpLGg9ZXx8KGkudGV4dD09PSExPyIiOmkudGV4dCksYy5hZGRDbGFzcygidWktbG9hZGluZyIpLGc9aS50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitkKyIgdWktbG9hZGVyLSIrKGd8fGV8fGQudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoaS50ZXh0b25seXx8Zj8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxpLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoaS5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGgpLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSx0aGlzLndpbmRvdy5iaW5kKCJzY3JvbGwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSx0aGlzLm9wdGlvbnMudGV4dCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZiwiIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZixnPSJoYXNoY2hhbmdlIixoPWMsaT1hLmV2ZW50LnNwZWNpYWwsaj1oLmRvY3VtZW50TW9kZSxrPSJvbiIrZyBpbiBiJiYoaj09PWR8fGo+Nyk7YS5mbltnXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZyxhKTp0aGlzLnRyaWdnZXIoZyl9LGEuZm5bZ10uZGVsYXk9NTAsaVtnXT1hLmV4dGVuZChpW2ddLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBrPyExOihhKGYuc3RhcnQpLHZvaWQgMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6KGEoZi5zdG9wKSx2b2lkIDApfX0pLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dmFyIGQ9ZSgpLGg9bihqKTtkIT09aj8obShqPWQsaCksYShiKS50cmlnZ2VyKGcpKTpoIT09aiYmKGxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCIiKStoKSxmPXNldFRpbWVvdXQoYyxhLmZuW2ddLmRlbGF5KX12YXIgZixpPXt9LGo9ZSgpLGw9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LG09bCxuPWw7cmV0dXJuIGkuc3RhcnQ9ZnVuY3Rpb24oKXtmfHxjKCl9LGkuc3RvcD1mdW5jdGlvbigpe2YmJmNsZWFyVGltZW91dChmKSxmPWR9LGIuYXR0YWNoRXZlbnQmJiFiLmFkZEV2ZW50TGlzdGVuZXImJiFrJiZmdW5jdGlvbigpe3ZhciBiLGQ7aS5zdGFydD1mdW5jdGlvbigpe2J8fChkPWEuZm5bZ10uc3JjLGQ9ZCYmZCtlKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtkfHxtKGUoKSksYygpfSkuYXR0cigic3JjIixkfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGgub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXsidGl0bGUiPT09ZXZlbnQucHJvcGVydHlOYW1lJiYoYi5kb2N1bWVudC50aXRsZT1oLnRpdGxlKX1jYXRjaChhKXt9fSl9LGkuc3RvcD1sLG49ZnVuY3Rpb24oKXtyZXR1cm4gZShiLmxvY2F0aW9uLmhyZWYpfSxtPWZ1bmN0aW9uKGMsZCl7dmFyIGU9Yi5kb2N1bWVudCxmPWEuZm5bZ10uZG9tYWluO2MhPT1kJiYoZS50aXRsZT1oLnRpdGxlLGUub3BlbigpLGYmJmUud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2YrJyI8L3NjcmlwdD4nKSxlLmNsb3NlKCksYi5sb2NhdGlvbi5oYXNoPWMpfX0oKSxpfSgpfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2IubWF0Y2hNZWRpYT1iLm1hdGNoTWVkaWF8fGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kb2N1bWVudEVsZW1lbnQsZD1jLmZpcnN0RWxlbWVudENoaWxkfHxjLmZpcnN0Q2hpbGQsZT1hLmNyZWF0ZUVsZW1lbnQoImJvZHkiKSxmPWEuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGYuaWQ9Im1xLXRlc3QtMSIsZi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTEwMGVtIixlLnN0eWxlLmJhY2tncm91bmQ9Im5vbmUiLGUuYXBwZW5kQ2hpbGQoZiksZnVuY3Rpb24oYSl7cmV0dXJuIGYuaW5uZXJIVE1MPScmc2h5OzxzdHlsZSBtZWRpYT0iJythKyciPiAjbXEtdGVzdC0xIHsgd2lkdGg6IDQycHg7IH08L3N0eWxlPicsYy5pbnNlcnRCZWZvcmUoZSxkKSxiPTQyPT09Zi5vZmZzZXRXaWR0aCxjLnJlbW92ZUNoaWxkKGUpLHttYXRjaGVzOmIsbWVkaWE6YX19fShjKSxhLm1vYmlsZS5tZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4gYi5tYXRjaE1lZGlhKGEpLm1hdGNoZXN9fShhKSxmdW5jdGlvbihhKXt2YXIgYj17dG91Y2g6Im9udG91Y2hlbmQiaW4gY307YS5tb2JpbGUuc3VwcG9ydD1hLm1vYmlsZS5zdXBwb3J0fHx7fSxhLmV4dGVuZChhLnN1cHBvcnQsYiksYS5leHRlbmQoYS5tb2JpbGUuc3VwcG9ydCxiKX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gYiYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gYn0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGIsYz1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGU9KGErIiAiK3Auam9pbihjKyIgIikrYykuc3BsaXQoIiAiKTtmb3IoYiBpbiBlKWlmKG9bZVtiXV0hPT1kKXJldHVybiEwfWZ1bmN0aW9uIGYoYSxiLGQpe3ZhciBlLGYsZz1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSl9LGk9ZnVuY3Rpb24oYSl7cmV0dXJuIiI9PT1hPyIiOiItIithLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Euc3Vic3RyKDEpKyItIn0saj1mdW5jdGlvbihjKXt2YXIgZD1pKGMpK2ErIjogIitiKyI7IixlPWgoYyksaj1lKygiIj09PWU/YTpoKGEpKTtnLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpLGcuc3R5bGVbal0mJihmPSEwKX0saz1kP2Q6cDtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKWooa1tlXSk7cmV0dXJuISFmfWZ1bmN0aW9uIGcoKXt2YXIgYz1iLGQ9ISghYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlN8fCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJzdmciKS5jcmVhdGVTVkdSZWN0fHxjLm9wZXJhJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQ2hyb21lIikpLGU9ZnVuY3Rpb24oYil7YiYmZHx8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1ub3N2ZyIpfSxmPW5ldyBjLkltYWdlO2Yub25lcnJvcj1mdW5jdGlvbigpe2UoITEpfSxmLm9ubG9hZD1mdW5jdGlvbigpe2UoMT09PWYud2lkdGgmJjE9PT1mLmhlaWdodCl9LGYuc3JjPSJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3l3QUFBQUFBUUFCQUFBQ0FVd0FPdz09In1mdW5jdGlvbiBoKCl7dmFyIGUsZixnLGg9InRyYW5zZm9ybS0zZCIsaT1hLm1vYmlsZS5tZWRpYSgiKC0iK3Auam9pbigiLSIraCsiKSwoLSIpKyItIitoKyIpLCgiK2grIikiKTtpZihpKXJldHVybiEhaTtlPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZj17TW96VHJhbnNmb3JtOiItbW96LXRyYW5zZm9ybSIsdHJhbnNmb3JtOiJ0cmFuc2Zvcm0ifSxuLmFwcGVuZChlKTtmb3IoZyBpbiBmKWUuc3R5bGVbZ10hPT1kJiYoZS5zdHlsZVtnXT0idHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApIixpPWIuZ2V0Q29tcHV0ZWRTdHlsZShlKS5nZXRQcm9wZXJ0eVZhbHVlKGZbZ10pKTtyZXR1cm4hIWkmJiJub25lIiE9PWl9ZnVuY3Rpb24gaSgpe3ZhciBiLGMsZD1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGU9YSgiaGVhZCBiYXNlIiksZj1udWxsLGc9IiI7cmV0dXJuIGUubGVuZ3RoP2c9ZS5hdHRyKCJocmVmIik6ZT1mPWEoIjxiYXNlPiIse2hyZWY6ZH0pLmFwcGVuZFRvKCJoZWFkIiksYj1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhuKSxjPWJbMF0uaHJlZixlWzBdLmhyZWY9Z3x8bG9jYXRpb24ucGF0aG5hbWUsZiYmZi5yZW1vdmUoKSwwPT09Yy5pbmRleE9mKGQpfWZ1bmN0aW9uIGooKXt2YXIgYSxkPWMuY3JlYXRlRWxlbWVudCgieCIpLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1iLmdldENvbXB1dGVkU3R5bGU7cmV0dXJuInBvaW50ZXJFdmVudHMiaW4gZC5zdHlsZT8oZC5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIixkLnN0eWxlLnBvaW50ZXJFdmVudHM9IngiLGUuYXBwZW5kQ2hpbGQoZCksYT1mJiYiYXV0byI9PT1mKGQsIiIpLnBvaW50ZXJFdmVudHMsZS5yZW1vdmVDaGlsZChkKSwhIWEpOiExfWZ1bmN0aW9uIGsoKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3R9ZnVuY3Rpb24gbCgpe3ZhciBhPWIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9bmF2aWdhdG9yLnBsYXRmb3JtLGU9Yy5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZj0hIWUmJmVbMV0sZz1jLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLyksaD0hIWcmJmdbMV0saT1jLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGo9ISFpJiZpWzFdO3JldHVybihkLmluZGV4T2YoImlQaG9uZSIpPi0xfHxkLmluZGV4T2YoImlQYWQiKT4tMXx8ZC5pbmRleE9mKCJpUG9kIik+LTEpJiZmJiY1MzQ+Znx8YS5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSl8fGkmJjc0NTg+anx8Yy5pbmRleE9mKCJBbmRyb2lkIik+LTEmJmYmJjUzMz5mfHxoJiY2Pmh8fCJwYWxtR2V0UmVzb3VyY2UiaW4gYiYmZiYmNTM0PmZ8fGMuaW5kZXhPZigiTWVlR28iKT4tMSYmYy5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMTohMH12YXIgbSxuPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLG89blswXS5zdHlsZSxwPVsiV2Via2l0IiwiTW96IiwiTyJdLHE9InBhbG1HZXRSZXNvdXJjZSJpbiBiLHI9Yi5vcGVyYSxzPWIub3BlcmFtaW5pJiYiW29iamVjdCBPcGVyYU1pbmldIj09PXt9LnRvU3RyaW5nLmNhbGwoYi5vcGVyYW1pbmkpLHQ9Yi5ibGFja2JlcnJ5JiYhZSgiLXdlYmtpdC10cmFuc2Zvcm0iKTthLmV4dGVuZChhLm1vYmlsZSx7YnJvd3Nlcjp7fX0pLGEubW9iaWxlLmJyb3dzZXIub2xkSUU9ZnVuY3Rpb24oKXt2YXIgYT0zLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPWIuYWxsfHxbXTtkbyBiLmlubmVySFRNTD0iPCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tPiI7d2hpbGUoZFswXSk7cmV0dXJuIGE+ND9hOiFhfSgpLGEuZXh0ZW5kKGEuc3VwcG9ydCx7Y3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiBifHxmKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIsWyJXZWJraXQiLCJNb3oiLCIiXSkmJiFhLm1vYmlsZS5icm93c2VyLm9sZElFJiYhcixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnkmJiEoYi5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKT49MCYmYi50b3AhPT1iKSYmLTE9PT1iLm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9DcmlPUy8pLG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWUoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhZSgib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpoKCksY3NzQW5pbWF0aW9uczohIWUoImFuaW1hdGlvbk5hbWUiKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXQsZml4ZWRQb3NpdGlvbjpsKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBuWzBdKSYmIXEmJiFzLGR5bmFtaWNCYXNlVGFnOmkoKSxjc3NQb2ludGVyRXZlbnRzOmooKSxib3VuZGluZ1JlY3Q6aygpLGlubGluZVNWRzpnfSksbi5yZW1vdmUoKSxtPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8c3x8bSxtJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9IiMiPT09Yz8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxnZXREb2N1bWVudFVybDpmdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LHBhcnNlTG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVVybCh0aGlzLmdldExvY2F0aW9uKCkpfSxwYXJzZVVybDpmdW5jdGlvbihiKXtpZigib2JqZWN0Ij09PWEudHlwZShiKSlyZXR1cm4gYjt2YXIgYz1kLnVybFBhcnNlUkUuZXhlYyhifHwiIil8fFtdO3JldHVybntocmVmOmNbMF18fCIiLGhyZWZOb0hhc2g6Y1sxXXx8IiIsaHJlZk5vU2VhcmNoOmNbMl18fCIiLGRvbWFpbjpjWzNdfHwiIixwcm90b2NvbDpjWzRdfHwiIixkb3VibGVTbGFzaDpjWzVdfHwiIixhdXRob3JpdHk6Y1s2XXx8IiIsdXNlcm5hbWU6Y1s4XXx8IiIscGFzc3dvcmQ6Y1s5XXx8IiIsaG9zdDpjWzEwXXx8IiIsaG9zdG5hbWU6Y1sxMV18fCIiLHBvcnQ6Y1sxMl18fCIiLHBhdGhuYW1lOmNbMTNdfHwiIixkaXJlY3Rvcnk6Y1sxNF18fCIiLGZpbGVuYW1lOmNbMTVdfHwiIixzZWFyY2g6Y1sxNl18fCIiLGhhc2g6Y1sxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmO2lmKGEmJiIvIj09PWEuY2hhckF0KDApKXJldHVybiBhO2ZvcihhPWF8fCIiLGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiIsYz1iP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspc3dpdGNoKGY9ZFtlXSl7Y2FzZSIuIjpicmVhaztjYXNlIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChmKX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBkLnBhcnNlVXJsKGEpLmRvbWFpbj09PWQucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPSIiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8IiIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9Im9iamVjdCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHwiPyI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKCI/IiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpPyImIjoiIikrZisoZS5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShjKT9jLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLCIiKS5yZXBsYWNlKC9cPy4qJC8sIiIpOmQuaXNTYW1lRG9tYWluKGMsdGhpcy5kb2N1bWVudEJhc2UpP2MuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIikuc3BsaXQoZilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cPy4qJC8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKGYsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIGIucHJvdG9jb2wmJmIuZG9tYWluIT09dGhpcy5kb2N1bWVudFVybC5kb21haW4/ITA6ITF9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIiIhPT1iLnByb3RvY29sPyF0aGlzLmlzUGF0aChiLmhhc2gpJiZiLmhhc2gmJihiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50VXJsLmhyZWZOb0hhc2h8fHRoaXMuZG9jdW1lbnRCYXNlRGlmZmVycyYmYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGIuaHJlZil9LHNxdWFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGg9dGhpcy5pc1BhdGgoYSksaT10aGlzLnBhcnNlVXJsKGEpLGo9aS5oYXNoLGs9IiI7cmV0dXJuIGI9Ynx8KGQuaXNQYXRoKGEpP2QuZ2V0TG9jYXRpb24oKTpkLmdldERvY3VtZW50VXJsKCkpLGU9aD9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoaS5oYXNoKT9kLnN0cmlwSGFzaChpLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYoaz1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxoPygoZC5pc1BhdGgoail8fDA9PT1qLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaj0iIiksayYmLTE9PT1qLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGorPWspLC0xPT09ai5pbmRleE9mKCIjIikmJiIiIT09aiYmKGo9IiMiK2opLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrIi8vIitjLmhvc3QrYy5wYXRobmFtZStmK2opOmMrPWMuaW5kZXhPZigiIyIpPi0xP2s6IiMiK2ssY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9LGhhc2hUb1NlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPSIjIj09PWEuc3Vic3RyaW5nKDAsMSk7cmV0dXJuIGImJihhPWEuc3Vic3RyaW5nKDEpKSwoYj8iIyI6IiIpK2EucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KGYpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgZT1kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxmPWUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZlLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGc9YS5tb2JpbGUuZmlyc3RQYWdlLGg9ZyYmZ1swXT9nWzBdLmlkOmM7cmV0dXJuIGYmJighZS5oYXNofHwiIyI9PT1lLmhhc2h8fGgmJmUuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09aCl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9LGEuZXh0ZW5kKGEubW9iaWxlLHtnZXREb2N1bWVudFVybDpkLmdldERvY3VtZW50VXJsLGdldERvY3VtZW50QmFzZTpkLmdldERvY3VtZW50QmFzZX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZigiIyIpJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sY2xvc2VzdDpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuYWN0aXZlSW5kZXg7cmV0dXJuIGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZSgwLGQpKSxjPT09YiYmKGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZShkKSwhMCksYz1jPT09Yj9jOmMrZCksY30sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCksZT10aGlzLmFjdGl2ZUluZGV4O2QhPT1iJiYodGhpcy5hY3RpdmVJbmRleD1kLHRoaXMucHJldmlvdXNJbmRleD1lKSxlPmQ/KGMucHJlc2VudHx8Yy5iYWNrfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImJhY2siKTpkPmU/KGMucHJlc2VudHx8Yy5mb3J3YXJkfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImZvcndhcmQiKTpkPT09YiYmYy5taXNzaW5nJiZjLm1pc3NpbmcodGhpcy5nZXRBY3RpdmUoKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBkPWEubW9iaWxlLnBhdGgsZT1sb2NhdGlvbi5ocmVmO2EubW9iaWxlLk5hdmlnYXRvcj1mdW5jdGlvbihiKXt0aGlzLmhpc3Rvcnk9Yix0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSEwLGEubW9iaWxlLndpbmRvdy5iaW5kKHsicG9wc3RhdGUuaGlzdG9yeSI6YS5wcm94eSh0aGlzLnBvcHN0YXRlLHRoaXMpLCJoYXNoY2hhbmdlLmhpc3RvcnkiOmEucHJveHkodGhpcy5oYXNoY2hhbmdlLHRoaXMpfSl9LGEuZXh0ZW5kKGEubW9iaWxlLk5hdmlnYXRvci5wcm90b3R5cGUse3NxdWFzaDpmdW5jdGlvbihlLGYpe3ZhciBnLGgsaT1kLmlzUGF0aChlKT9kLnN0cmlwSGFzaChlKTplO3JldHVybiBoPWQuc3F1YXNoKGUpLGc9YS5leHRlbmQoe2hhc2g6aSx1cmw6aH0sZiksYi5oaXN0b3J5LnJlcGxhY2VTdGF0ZShnLGcudGl0bGV8fGMudGl0bGUsaCksZ30saGFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnO3JldHVybiBjPWQucGFyc2VVcmwoYSksZT1kLnBhcnNlTG9jYXRpb24oKSxlLnBhdGhuYW1lK2Uuc2VhcmNoPT09Yy5wYXRobmFtZStjLnNlYXJjaD9mPWMuaGFzaD9jLmhhc2g6Yy5wYXRobmFtZStjLnNlYXJjaDpkLmlzUGF0aChhKT8oZz1kLnBhcnNlVXJsKGIpLGY9Zy5wYXRobmFtZStnLnNlYXJjaCsoZC5pc1ByZXNlcnZhYmxlSGFzaChnLmhhc2gpP2cuaGFzaC5yZXBsYWNlKCIjIiwiIik6IiIpKTpmPWEsZn0sZ286ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaixrLGw9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2k9ZC5zcXVhc2goZSksaj10aGlzLmhhc2goZSxpKSxnJiZqIT09ZC5zdHJpcEhhc2goZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudCgicG9wc3RhdGUiKSxrLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChlLGgpLGd8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGEubW9iaWxlLndpbmRvdy50cmlnZ2VyKGspKSksdGhpcy5oaXN0b3J5LmFkZChoLnVybCxoKQp9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHZvaWQgMCk6dGhpcy5pZ25vcmVQb3BTdGF0ZT8odGhpcy5pZ25vcmVQb3BTdGF0ZT0hMSx2b2lkIDApOiFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJjE9PT10aGlzLmhpc3Rvcnkuc3RhY2subGVuZ3RoJiZ0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlJiYodGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMSxsb2NhdGlvbi5ocmVmPT09ZSk/KGIucHJldmVudERlZmF1bHQoKSx2b2lkIDApOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLGIuaGlzdG9yeVN0YXRlPWYsdm9pZCAwKToodGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pLHZvaWQgMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBlLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSl7aWYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2UpcmV0dXJuIHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPSExLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdm9pZCAwO2U9dGhpcy5oaXN0b3J5LGY9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6ZixwcmVzZW50OmZ1bmN0aW9uKGMsZCl7Yi5oYXNoY2hhbmdlU3RhdGU9YS5leHRlbmQoe30sYyksYi5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPWR9LG1pc3Npbmc6ZnVuY3Rpb24oKXtlLmFkZChmLHtoYXNoOmYsdGl0bGU6Yy50aXRsZX0pfX0pfX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubmF2aWdhdGU9ZnVuY3Rpb24oYixjLGQpe2EubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5nbyhiLGMsZCl9LGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk9bmV3IGEubW9iaWxlLkhpc3RvcnksYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yPW5ldyBhLm1vYmlsZS5OYXZpZ2F0b3IoYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSk7dmFyIGI9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCk7YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQoYi5ocmVmLHtoYXNoOmIuaGFzaH0pfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RSksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qy5sZW5ndGg7bj5tO20rKylpPUNbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix6KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseiksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TT0hMX1mdW5jdGlvbiBqKCl7TT0hMH1mdW5jdGlvbiBrKCl7UT0wLEsubGVuZ3RoPTAsTD0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEc9c2V0VGltZW91dChmdW5jdGlvbigpe0c9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0cmJihjbGVhclRpbWVvdXQoRyksRz0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjLGQ9YS5kYXRhKGIudGFyZ2V0LEEpO0x8fFEmJlE9PT1kfHwoYz1vKCJ2IitiLnR5cGUsYiksYyYmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gcShiKXt2YXIgYyxkLGYsaD1lKGIpLnRvdWNoZXM7aCYmMT09PWgubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZyYmKFE9UCsrLGEuZGF0YShjLEEsUSksbigpLGwoKSxKPSExLGY9ZShiKS50b3VjaGVzWzBdLEg9Zi5wYWdlWCxJPWYucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpKSl9ZnVuY3Rpb24gcihhKXtNfHwoSnx8bygidm1vdXNlY2FuY2VsIixhLGcoYS50YXJnZXQpKSxKPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTSl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SixmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0o9Snx8TWF0aC5hYnMoYy5wYWdlWC1IKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUkpPmYsSiYmIWQmJm8oInZtb3VzZWNhbmNlbCIsYixoKSxvKCJ2bW91c2Vtb3ZlIixiLGgpLG0oKX19ZnVuY3Rpb24gdChhKXtpZighTSl7aigpO3ZhciBiLGMsZD1nKGEudGFyZ2V0KTtvKCJ2bW91c2V1cCIsYSxkKSxKfHwoYj1vKCJ2Y2xpY2siLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKCJ2bW91c2VvdXQiLGEsZCksSj0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix6KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseix7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseik7ZFtiXT0hMCxGW2JdPShGW2JdfHwwKSsxLDE9PT1GW2JdJiZPLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxOJiYoRi50b3VjaHN0YXJ0PShGLnRvdWNoc3RhcnR8fDApKzEsMT09PUYudG91Y2hzdGFydCYmTy5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUZbYl0sRltiXXx8Ty51bmJpbmQoYyxwKSxOJiYoLS1GLnRvdWNoc3RhcnQsRi50b3VjaHN0YXJ0fHxPLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej0idmlydHVhbE1vdXNlQmluZGluZ3MiLEE9InZpcnR1YWxUb3VjaElEIixCPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxDPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPSJhZGRFdmVudExpc3RlbmVyImluIGMsTz1hKGMpLFA9MSxRPTA7Zm9yKGEudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH0seT0wO3k8Qi5sZW5ndGg7eSsrKWEuZXZlbnQuc3BlY2lhbFtCW3ldXT13KEJbeV0pO04mJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUsubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9S1tmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgMDtlPWUucGFyZW50Tm9kZX19LCEwKX0oYSxiLGMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YyxhLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixkKSxkLnR5cGU9ZX12YXIgZD1hKGMpLGU9YS5tb2JpbGUuc3VwcG9ydC50b3VjaCxmPSJ0b3VjaG1vdmUgc2Nyb2xsIixnPWU/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGg9ZT8idG91Y2hlbmQiOiJtb3VzZXVwIixpPWU/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bY109ITApfSksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLGMpe2Q9YyxiKGcsZD8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgZCxlLGc9dGhpcyxoPWEoZyk7aC5iaW5kKGYsZnVuY3Rpb24oYil7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihkfHxjKGIsITApLGNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKGIsITEpfSw1MCkpfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoZil9fSxhLmV2ZW50LnNwZWNpYWwudGFwPXt0YXBob2xkVGhyZXNob2xkOjc1MCxlbWl0VGFwT25UYXBob2xkOiEwLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxlPWEoYyksZj0hMTtlLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGcpe2Z1bmN0aW9uIGgoKXtjbGVhclRpbWVvdXQoayl9ZnVuY3Rpb24gaSgpe2goKSxlLnVuYmluZCgidmNsaWNrIixqKS51bmJpbmQoInZtb3VzZXVwIixoKSxkLnVuYmluZCgidm1vdXNlY2FuY2VsIixpKX1mdW5jdGlvbiBqKGEpe2koKSxmfHxsIT09YS50YXJnZXQ/ZiYmYS5zdG9wUHJvcGFnYXRpb24oKTpiKGMsInRhcCIsYSl9aWYoZj0hMSxnLndoaWNoJiYxIT09Zy53aGljaClyZXR1cm4hMTt2YXIgayxsPWcudGFyZ2V0O2UuYmluZCgidm1vdXNldXAiLGgpLmJpbmQoInZjbGljayIsaiksZC5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpLGs9c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC50YXAuZW1pdFRhcE9uVGFwaG9sZHx8KGY9ITApLGIoYywidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpsfSkpfSxhLmV2ZW50LnNwZWNpYWwudGFwLnRhcGhvbGRUaHJlc2hvbGQpfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInZtb3VzZWRvd24iKS51bmJpbmQoInZjbGljayIpLnVuYmluZCgidm1vdXNldXAiKSxkLnVuYmluZCgidm1vdXNlY2FuY2VsIil9fSxhLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MzAsZHVyYXRpb25UaHJlc2hvbGQ6MWUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldLG9yaWdpbjphKGIudGFyZ2V0KX19LHN0b3A6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YTtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2IucGFnZVgsYi5wYWdlWV19fSxoYW5kbGVTd2lwZTpmdW5jdGlvbihjLGQsZSxmKXtpZihkLnRpbWUtYy50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoYy5jb29yZHNbMF0tZC5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGMuY29vcmRzWzFdLWQuY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCl7dmFyIGc9Yy5jb29yZHNbMF0+ZC5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiO3JldHVybiBiKGUsInN3aXBlIixhLkV2ZW50KCJzd2lwZSIse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yyxzd2lwZXN0b3A6ZH0pKSxiKGUsZyxhLkV2ZW50KGcse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yyxzd2lwZXN0b3A6ZH0pKSwhMH1yZXR1cm4hMX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoZyxmdW5jdGlvbihkKXtmdW5jdGlvbiBlKGMpe2cmJihmPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGMpLGt8fChrPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGYsYixqKSksTWF0aC5hYnMoZy5jb29yZHNbMF0tZi5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZjLnByZXZlbnREZWZhdWx0KCkpfXZhciBmLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGQpLGo9ZC50YXJnZXQsaz0hMTtjLmJpbmQoaSxlKS5vbmUoaCxmdW5jdGlvbigpe2s9ITAsYy51bmJpbmQoaSxlKX0pfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoZykudW5iaW5kKGkpLnVuYmluZChoKX19LGEuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixmKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT0ib3JpZW50YXRpb25jaGFuZ2UiLG49ezA6ITAsMTgwOiEwfTthLnN1cHBvcnQub3JpZW50YXRpb24mJihpPWIuaW5uZXJXaWR0aHx8bC53aWR0aCgpLGo9Yi5pbm5lckhlaWdodHx8bC5oZWlnaHQoKSxrPTUwLGc9aT5qJiZpLWo+ayxoPW5bYi5vcmllbnRhdGlvbl0sKGcmJmh8fCFnJiYhaCkmJihuPXsiLTkwIjohMCw5MDohMH0pKSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLGwuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSx2b2lkIDApfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGwudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpLHZvaWQgMCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9uW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoImhlYWQiKS5jaGlsZHJlbigiYmFzZSIpLGM9e2VsZW1lbnQ6Yi5sZW5ndGg/YjphKCI8YmFzZT4iLHtocmVmOmEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8oYSgiaGVhZCIpKSxsaW5rU2VsZWN0b3I6IltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIixzZXQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcmJmMuZWxlbWVudC5hdHRyKCJocmVmIixhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlKSl9LHJld3JpdGU6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLm1vYmlsZS5wYXRoLmdldChiKTtkLmZpbmQoYy5saW5rU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YShjKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixmPWEoYykuYXR0cihkKTtmPWYucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoZil8fGEoYykuYXR0cihkLGUrZil9KX0scmVzZXQ6ZnVuY3Rpb24oKXtjLmVsZW1lbnQuYXR0cigiaHJlZiIsYS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vU2VhcmNoKX19O2EubW9iaWxlLmJhc2U9Y30oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS53aWRnZXRzPXt9O3ZhciBjPWEud2lkZ2V0LGQ9YS5tb2JpbGUua2VlcE5hdGl2ZTthLndpZGdldD1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPWQucHJvdG90eXBlLndpZGdldE5hbWU7cmV0dXJuIGQuaW5pdFNlbGVjdG9yPWQucHJvdG90eXBlLmluaXRTZWxlY3RvciE9PWI/ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSciK2UrIicpIixhLm1vYmlsZS53aWRnZXRzW2VdPWQsZH19KGEud2lkZ2V0KSxhLmV4dGVuZChhLndpZGdldCxjKSxhLm1vYmlsZS5kb2N1bWVudC5vbigiY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5lbmhhbmNlV2l0aGluKCl9KSxhLndpZGdldCgibW9iaWxlLnBhZ2UiLHtvcHRpb25zOnt0aGVtZToiYSIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6YS5tb2JpbGUua2VlcE5hdGl2ZSxjb250ZW50VGhlbWU6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbigpe2EuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90cmlnZ2VyKCJpbml0Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMT8hMToodGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlKCksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSx0aGlzLmVsZW1lbnQuZW5oYW5jZVdpdGhpbigpLCJkaWFsb2ciPT09YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwicm9sZSIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSx2b2lkIDApfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPSJkYXRhLSIrYS5tb2JpbGUubnMsZD10aGlzO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKCJbIitjKyJyb2xlPSdjb250ZW50J10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKGMrInRoZW1lIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fCJkaWFsb2ciPT09ZC5lbGVtZW50LmpxbURhdGEoInJvbGUiKSYmZC5vcHRpb25zLnRoZW1lLGUuYWRkQ2xhc3MoInVpLWNvbnRlbnQiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5vcHRpb25zLmNvbnRlbnRUaGVtZSksZS5hdHRyKCJyb2xlIiwibWFpbiIpLmFkZENsYXNzKCJ1aS1jb250ZW50Iil9KX0sYmluZFJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQ7IWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZjLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYy5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGJ8fGZ1bmN0aW9uKGIsYyl7aWYoIWMuc2FtZVBhZ2Upe3ZhciBkPWEodGhpcyksZT1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2QudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9fSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2MudGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy50aGVtZSksYy5jb250ZW50VGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQuZmluZCgiW2RhdGEtIithLm1vYmlsZS5ucysiPSdjb250ZW50J10iKS5yZW1vdmVDbGFzcygidWktYm9keS0iK3RoaXMub3B0aW9ucy5jb250ZW50VGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5jb250ZW50VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCI6bW9iaWxlLXBhZ2Vjb250YWluZXIiKS5wYWdlY29udGFpbmVyKHt0aGVtZToibm9uZSJ9KX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucGFyZW50KCkucGFnZWNvbnRhaW5lcih7dGhlbWU6YXx8dGhpcy5vcHRpb25zLnRoZW1lfSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWEudHJpbShiLmtlZXBOYXRpdmV8fCIiKSxlPWEudHJpbShhLm1vYmlsZS5rZWVwTmF0aXZlKSxmPWEudHJpbShiLmtlZXBOYXRpdmVEZWZhdWx0KSxnPWQ9PT1lPyIiOmUsaD0iIj09PWc/ZjoiIjtyZXR1cm4oYz9bY106W10pLmNvbmNhdChnP1tnXTpbXSkuY29uY2F0KGg/W2hdOltdKS5qb2luKCIsICIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZWNvbnRhaW5lciIse29wdGlvbnM6e3RoZW1lOiJhIn0saW5pdFNlbGVjdG9yOiExLF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2ZpbHRlck5hdmlnYXRlRXZlbnRzIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2Rpc2FibGVSZWNvcmRTY3JvbGwiLHNjcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOiJfYWZ0ZXJDb250ZW50Q2hhbmdlIn0pLHRoaXMud2luZG93Lm9uZSgibmF2aWdhdGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSx0aGlzKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiYibm9uZSIhPT1hLnRoZW1lP3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLW92ZXJsYXktIithLnRoZW1lKTphLnRoZW1lIT09ZCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9zdXBlcihhKX0sX2Rpc2FibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSExfSxfZW5hYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sX2FmdGVyQ29udGVudENoYW5nZTpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb2ZmKHRoaXMud2luZG93LCJzY3JvbGxzdG9wIiksdGhpcy5fb24odGhpcy53aW5kb3cse3Njcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pfSxfcmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCl7dmFyIGEsYixjLGQ9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpO2QmJihhPXRoaXMuX2dldFNjcm9sbCgpLGI9dGhpcy5fZ2V0TWluU2Nyb2xsKCksYz10aGlzLl9nZXREZWZhdWx0U2Nyb2xsKCksZC5sYXN0U2Nyb2xsPWI+YT9jOmEpfX0sX2RlbGF5ZWRSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3JlY29yZFNjcm9sbCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCl9LF9nZXRNaW5TY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubWluU2Nyb2xsQmFja30sX2dldERlZmF1bHRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGx9LF9maWx0ZXJOYXZpZ2F0ZUV2ZW50czpmdW5jdGlvbihiLGMpe3ZhciBkO2Iub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1iLm9yaWdpbmFsRXZlbnQudHlwZS5pbmRleE9mKCJoYXNoY2hhbmdlIik+LTE/Yy5zdGF0ZS5oYXNoOmMuc3RhdGUudXJsLGR8fChkPXRoaXMuX2dldEhhc2goKSksZCYmIiMiIT09ZCYmMCE9PWQuaW5kZXhPZigiIyIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksdGhpcy5faGFuZGxlTmF2aWdhdGUoZCxjLnN0YXRlKSl9LF9nZXRIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2h9LGdldEFjdGl2ZVBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVQYWdlfSxfZ2V0SW5pdGlhbENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZmlyc3RQYWdlfSxfZ2V0SGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5fSxfZ2V0QWN0aXZlSGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpfSxfZ2V0RG9jdW1lbnRCYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5nbygtMSl9LGZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLmdvKDEpfSxnbzpmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCliLmhpc3RvcnkuZ28oYyk7ZWxzZXt2YXIgZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LGU9ZCtwYXJzZUludChjLDEwKSxmPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2tbZV0udXJsLGc9Yz49MT8iZm9yd2FyZCI6ImJhY2siO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuInN0cmluZyI9PT1hLnR5cGUoYikmJihiPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpKSxiJiYoYz10aGlzLl9nZXRIaXN0b3J5KCksYj1hLm1vYmlsZS5wYXRoLmlzUGF0aChiKT9iOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitiLHRoaXMuX2dldERvY3VtZW50QmFzZSgpKSxiPT09YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MuaW5pdGlhbERzdCx0aGlzLl9nZXREb2N1bWVudEJhc2UoKSkmJmMuc3RhY2subGVuZ3RoJiZjLnN0YWNrWzBdLnVybCE9PWMuaW5pdGlhbERzdC5yZXBsYWNlKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXksIiIpJiYoYj10aGlzLl9nZXRJbml0aWFsQ29udGVudCgpKSksYnx8dGhpcy5fZ2V0SW5pdGlhbENvbnRlbnQoKX0sX2hhbmRsZURpYWxvZzpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj10aGlzLmdldEFjdGl2ZVBhZ2UoKTtyZXR1cm4gZiYmIWYuaGFzQ2xhc3MoInVpLWRpYWxvZyIpPygiYmFjayI9PT1jLmRpcmVjdGlvbj90aGlzLmJhY2soKTp0aGlzLmZvcndhcmQoKSwhMSk6KGQ9Yy5wYWdlVXJsLGU9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpLGEuZXh0ZW5kKGIse3JvbGU6ZS5yb2xlLHRyYW5zaXRpb246ZS50cmFuc2l0aW9uLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259KSxkKX0sX2hhbmRsZU5hdmlnYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGU9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYiksZj10aGlzLl9nZXRIaXN0b3J5KCksZz0wPT09Zi5zdGFjay5sZW5ndGg/Im5vbmUiOmQsaD17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOiJiYWNrIj09PWMuZGlyZWN0aW9ufTthLmV4dGVuZChoLGMse3RyYW5zaXRpb246KGYuZ2V0TGFzdCgpfHx7fSkudHJhbnNpdGlvbnx8Z30pLGYuYWN0aXZlSW5kZXg+MCYmZS5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZmLmluaXRpYWxEc3QhPT1lJiYoZT10aGlzLl9oYW5kbGVEaWFsb2coaCxjKSxlPT09ITEpfHx0aGlzLl9jaGFuZ2VDb250ZW50KHRoaXMuX2hhbmRsZURlc3RpbmF0aW9uKGUpLGgpfSxfY2hhbmdlQ29udGVudDpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmNoYW5nZVBhZ2UoYixjKX0sX2dldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYmFzZX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJzaG93IixjLGQsZSksdGhpcy5fbG9hZE1zZz0wfSx0aGlzKSxiKSl9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9sb2FkTXNnPTAsdGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJoaWRlIil9LF9zaG93RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlTG9hZGluZygpLHRoaXMuX3Nob3dMb2FkaW5nKDAsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9oaWRlTG9hZGluZyIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoIjxkaXY+PC9kaXY+Iik7cmV0dXJuIGUuZ2V0KDApLmlubmVySFRNTD1iLGQ9ZS5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxkLmxlbmd0aHx8KGQ9YSgiPGRpdiBkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT0ncGFnZSc+IisoYi5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksZC5hdHRyKCJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsIixhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoYykpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJleHRlcm5hbC1wYWdlIiwhMCksZH0sX3NldExvYWRlZFRpdGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDE7ZCYmIWIuanFtRGF0YSgidGl0bGUiKSYmKGQ9YSgiPGRpdj4iK2QrIjwvZGl2PiIpLnRleHQoKSxiLmpxbURhdGEoInRpdGxlIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoInBhZ2UiK2IpLGY9YS5FdmVudCh0aGlzLndpZGdldE5hbWUrYik7cmV0dXJuKGR8fHRoaXMuZWxlbWVudCkudHJpZ2dlcihlLGMpLHRoaXMuZWxlbWVudC50cmlnZ2VyKGYsYykse2RlcHJlY2F0ZWRFdmVudDplLGV2ZW50OmZ9fSxfbG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9dGhpcy5fY3JlYXRlRmlsZVVybChiKSxoPXRoaXMuX2NyZWF0ZURhdGFVcmwoYik7cmV0dXJuIGEucHJveHkoZnVuY3Rpb24oaSxqLGspe3ZhciBsLG09bmV3IFJlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIit0aGlzLl9nZXROcygpKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksbj1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTttLnRlc3QoaSkmJlJlZ0V4cC4kMSYmbi50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGc9YS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSxlLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnNldChnKSxsPXRoaXMuX3BhcnNlKGksZyksdGhpcy5fc2V0TG9hZGVkVGl0bGUobCxpKSxjLnhocj1rLGMudGV4dFN0YXR1cz1qLGMucGFnZT1sLGMuY29udGVudD1sLHRoaXMuX3RyaWdnZXIoImxvYWQiLGQsYykmJih0aGlzLl9pc1Jld3JpdGFibGVCYXNlVGFnKCkmJmwmJnRoaXMuX2dldEJhc2UoKS5yZXdyaXRlKGcsbCksdGhpcy5faW5jbHVkZShsLGUpLGIuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihsPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiW2RhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9JyIraCsiJ10iKSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigicGFnZWxvYWQiKSxmLnJlc29sdmUoYixlLGwpKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscmVsb2FkOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMSxsb2FkTXNnRGVsYXk6NTB9LGxvYWQ6ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGcsaCxpPWMmJmMuZGVmZXJyZWR8fGEuRGVmZXJyZWQoKSxqPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjKSxrPW51bGwsbD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk7cmV0dXJuIGoucmVsb2FkPWoucmVsb2FkUGFnZSxqLmRhdGEmJiJnZXQiPT09ai50eXBlJiYobD1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhsLGouZGF0YSksai5kYXRhPWQpLGouZGF0YSYmInBvc3QiPT09ai50eXBlJiYoai5yZWxvYWQ9ITApLGU9dGhpcy5fY3JlYXRlRmlsZVVybChsKSxmPXRoaXMuX2NyZWF0ZURhdGFVcmwobCksaz10aGlzLl9maW5kKGwpLDA9PT1rLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShlKSYmIWEubW9iaWxlLnBhdGguaXNGaXJzdFBhZ2VVcmwoZSk/KGkucmVqZWN0KGwsaiksdm9pZCAwKToodGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksay5sZW5ndGgmJiFqLnJlbG9hZD8odGhpcy5fZW5oYW5jZShrLGoucm9sZSksaS5yZXNvbHZlKGwsaixrKSxqLnByZWZldGNofHx0aGlzLl9nZXRCYXNlKCkuc2V0KGIpLHZvaWQgMCk6KGg9e3VybDpiLGFic1VybDpsLGRhdGFVcmw6ZixkZWZlcnJlZDppLG9wdGlvbnM6an0sZz10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImJlZm9yZWxvYWQiLGgpLGcuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxnLmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpP3ZvaWQgMDooai5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0xvYWRpbmcoai5sb2FkTXNnRGVsYXkpLGoucHJlZmV0Y2g9PT1kJiZ0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXN8fGEubW9iaWxlLnBhdGguaXNTYW1lRG9tYWluKGEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsbCk/KGEuYWpheCh7dXJsOmUsdHlwZTpqLnR5cGUsZGF0YTpqLmRhdGEsY29udGVudFR5cGU6ai5jb250ZW50VHlwZSxkYXRhVHlwZToiaHRtbCIsc3VjY2Vzczp0aGlzLl9sb2FkU3VjY2VzcyhsLGgsaixpKSxlcnJvcjp0aGlzLl9sb2FkRXJyb3IobCxoLGosaSl9KSx2b2lkIDApOihpLnJlamVjdChsLGopLHZvaWQgMCkpKSl9LF9sb2FkRXJyb3I6ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIGEucHJveHkoZnVuY3Rpb24oZixnLGgpe3RoaXMuX2dldEJhc2UoKS5zZXQoYS5tb2JpbGUucGF0aC5nZXQoKSksYy54aHI9ZixjLnRleHRTdGF0dXM9ZyxjLmVycm9yVGhyb3duPWg7dmFyIGk9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJsb2FkZmFpbGVkIixjKTtpLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8aS5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQuc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dFcnJvcigpLGUucmVqZWN0KGIsZCkpfSx0aGlzKX0sX2dldFRyYW5zaXRpb25IYW5kbGVyOmZ1bmN0aW9uKGIpe3JldHVybiBiPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfSxfdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHM6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPSExO2Q9ZHx8IiIsYyYmKGJbMF09PT1jWzBdJiYoZT0hMCksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKGQrImhpZGUiLHtuZXh0UGFnZTpiLHNhbWVQYWdlOmV9LGMpKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCsic2hvdyIse3ByZXZQYWdlOmN8fGEoIiIpfSxiKX0sX2Nzc1RyYW5zaXRpb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz1kLnRyYW5zaXRpb24saD1kLnJldmVyc2UsaT1kLmRlZmVycmVkO3RoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKGIsYywiYmVmb3JlIiksdGhpcy5faGlkZUxvYWRpbmcoKSxlPXRoaXMuX2dldFRyYW5zaXRpb25IYW5kbGVyKGcpLGY9bmV3IGUoZyxoLGIsYykudHJhbnNpdGlvbigpLGYuZG9uZShmdW5jdGlvbigpe2kucmVzb2x2ZS5hcHBseShpLGFyZ3VtZW50cyl9KSxmLmRvbmUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKGIsYyl9LHRoaXMpKX0sX3JlbGVhc2VUcmFuc2l0aW9uTG9jazpmdW5jdGlvbigpe2Y9ITEsZS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLGUucG9wKCkpfSxfcmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyhiKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe2Y9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZWZhaWxlZCIsYyl9LHRoaXMpKX0sX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpO3JldHVybiBhLmV4dGVuZChjLHt0b1BhZ2U6YixvcHRpb25zOmR9KSxjLmFic1VybD0ic3RyaW5nIj09PWEudHlwZShiKT9hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk6ZC5hYnNVcmwsdGhpcy5lbGVtZW50LnRyaWdnZXIoZSxjKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihmKXJldHVybiBlLnVuc2hpZnQoYXJndW1lbnRzKSx2b2lkIDA7dmFyIGQ9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxjKSxnPXt9O2QuZnJvbVBhZ2U9ZC5mcm9tUGFnZXx8dGhpcy5hY3RpdmVQYWdlLHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxkKSYmKGI9Zy50b1BhZ2UsInN0cmluZyI9PT1hLnR5cGUoYik/KGY9ITAsdGhpcy5fbG9hZFVybChiLGcsZCkpOnRoaXMudHJhbnNpdGlvbihiLGcsZCkpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGIsZyxoKXt2YXIgaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2O2lmKGYpcmV0dXJuIGUudW5zaGlmdChbYixoXSksdm9pZCAwO2lmKHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxoKSYmKHY9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmV0cmFuc2l0aW9uIixnKSwhdi5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkmJiF2LmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSl7aWYoZj0hMCxiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdfHxoLmRhdGFVcmx8fChoLmRhdGFVcmw9YS5tb2JpbGUucGF0aC5kb2N1bWVudFVybC5ocmVmTm9IYXNoKSxpPWguZnJvbVBhZ2Usaj1oLmRhdGFVcmwmJmEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChoLmRhdGFVcmwpfHxiLmpxbURhdGEoInVybCIpLGs9aixsPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoaiksbT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLG49MD09PWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsbz0wLHA9Yy50aXRsZSxxPSgiZGlhbG9nIj09PWgucm9sZXx8ImRpYWxvZyI9PT1iLmpxbURhdGEoInJvbGUiKSkmJmIuanFtRGF0YSgiZGlhbG9nIikhPT0hMCxpJiZpWzBdPT09YlswXSYmIWguYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pcmV0dXJuIGY9ITEsdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJ0cmFuc2l0aW9uIixnKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigicGFnZWNoYW5nZSIsZyksaC5mcm9tSGFzaENoYW5nZSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5kaXJlY3Qoe3VybDpqfSksdm9pZCAwO2IucGFnZSh7cm9sZTpoLnJvbGV9KSxoLmZyb21IYXNoQ2hhbmdlJiYobz0iYmFjayI9PT1oLmRpcmVjdGlvbj8tMToxKTt0cnl7Yy5hY3RpdmVFbGVtZW50JiYiYm9keSIhPT1jLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9hKGMuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKHcpe31yPSExLHEmJm0mJihtLnVybCYmbS51cmwuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT4tMSYmdGhpcy5hY3RpdmVQYWdlJiYhdGhpcy5hY3RpdmVQYWdlLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD4wJiYoaC5jaGFuZ2VIYXNoPSExLHI9ITApLGo9bS51cmx8fCIiLGorPSFyJiZqLmluZGV4T2YoIiMiKT4tMT9hLm1vYmlsZS5kaWFsb2dIYXNoS2V5OiIjIithLm1vYmlsZS5kaWFsb2dIYXNoS2V5LDA9PT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4JiZqPT09YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5pbml0aWFsRHN0JiYoais9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSkpLHM9bT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnAscyYmcD09PWMudGl0bGUmJihwPXMpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHQ9e3RyYW5zaXRpb246aC50cmFuc2l0aW9uLHRpdGxlOnAscGFnZVVybDprLHJvbGU6aC5yb2xlfSxoLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUoaix0LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHQpKSxjLnRpdGxlPXAsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLHRoaXMuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+byx1PWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6dX0pLHUuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxlLGYsaSl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCksaC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJwYWdlY2hhbmdlIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoInRyYW5zaXRpb24iLGcpfSx0aGlzKSl9fSxfZmluZEJhc2VXaXRoRGVmYXVsdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuYWN0aXZlUGFnZSYmYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwodGhpcy5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaH19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKTt2YXIgZT1bXSxmPSExfShhKSxmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSl7Zm9yKDthJiYoInN0cmluZyIhPXR5cGVvZiBhLm5vZGVOYW1lfHwiYSIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX12YXIgZT1hLkRlZmVycmVkKCksZj1hLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLGc9bnVsbDthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBkO3JldHVybiBjPWN8fHt9LGQ9Yy5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGMuZGVmZXJyZWQ9YS5EZWZlcnJlZCgpLGQucGFnZWNvbnRhaW5lcigibG9hZCIsYixjKSxjLmRlZmVycmVkLnByb21pc2UoKX0sYS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBjPWIubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmYyYmYy5hcHAmJmMuYXBwLmJhY2tIaXN0b3J5P2MuYXBwLmJhY2tIaXN0b3J5KCk6YS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCJiYWNrIil9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO3JldHVybiBiLmxlbmd0aD8oYi5mb2N1cygpLHZvaWQgMCk6KGMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCksdm9pZCAwKX0sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9LGEubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImNoYW5nZSIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpjLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmMsZHVwbGljYXRlQ2FjaGVkUGFnZTpjLHBhZ2VDb250YWluZXI6YyxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmMsZnJvbVBhZ2U6YyxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihiLGMpe3ZhciBkLGUsaCxpLGo9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCFiLmpxbUhpamFja2FibGUoKS5sZW5ndGh8fGIuYXR0cigidGFyZ2V0Iik/ITE6KGQ9ZyYmZy5hdHRyKCJmb3JtYWN0aW9uIil8fGIuYXR0cigiYWN0aW9uIiksaT0oYi5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYiksImdldCI9PT1pJiYoZD1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGQpLmhyZWZOb1NlYXJjaCksZD09PWEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gmJihkPWYuaHJlZk5vU2VhcmNoKSksZD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShkLGEubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKGIpKSxhLm1vYmlsZS5wYXRoLmlzRXh0ZXJuYWwoZCkmJiFhLm1vYmlsZS5wYXRoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KGYsZCk/ITE6KGN8fChlPWIuc2VyaWFsaXplQXJyYXkoKSxnJiZnWzBdLmZvcm09PT1iWzBdJiYoaD1nLmF0dHIoIm5hbWUiKSxoJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09aD8oaD0iIiwhMSk6dm9pZCAwfSksaCYmZS5wdXNoKHtuYW1lOmgsdmFsdWU6Zy5hdHRyKCJ2YWx1ZSIpfSkpKSxqPXt1cmw6ZCxvcHRpb25zOnt0eXBlOmksZGF0YTphLnBhcmFtKGUpLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT1iLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksaikpfTthLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGM9ZShhKHRoaXMpKSxjJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShjLnVybCxjLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgYyxmLGg9Yi50YXJnZXQsaT0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYoZz1hKGgpLGEuZGF0YShoLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFlKGEoaCkuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47aC5wYXJlbnROb2RlJiYoaD1oLnBhcmVudE5vZGUpfWVsc2V7aWYoaD1kKGgpLCFofHwiIyI9PT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGguZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoaCkuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmguY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2gucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGgucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoaCwiYnV0dG9uRWxlbWVudHMiKSxmP2g9Zi5vdXRlcjppPSEwLGM9YShoKSxpJiYoYz1jLmNsb3Nlc3QoIi51aS1idG4iKSksYy5sZW5ndGg+MCYmIWMuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikmJihhLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPWMsYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJjbGljayIsZnVuY3Rpb24oZSl7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGcsaCxpLGosayxsLG0sbj1kKGUudGFyZ2V0KSxvPWEobikscD1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCl9LDIwMCl9O2lmKGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rJiZhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua1swXT09PWUudGFyZ2V0LnBhcmVudE5vZGUmJnAoKSxuJiYhKGUud2hpY2g+MSkmJm8uanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoby5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLCExO2lmKGc9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwobyksaD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShvLmF0dHIoImhyZWYiKXx8IiMiLGcpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWEubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoaCkpcmV0dXJuIHAoKSx2b2lkIDA7aWYoLTEhPT1oLnNlYXJjaCgiIyIpKXtpZihoPWgucmVwbGFjZSgvW14jXSojLywiIiksIWgpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx2b2lkIDA7aD1hLm1vYmlsZS5wYXRoLmlzUGF0aChoKT9hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShoLGcpOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitoLGYuaHJlZk5vSGFzaCl9aWYoaT1vLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fG8uaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8by5pcygiW3RhcmdldF0iKSxqPWl8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChoKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoZixoKSlyZXR1cm4gcCgpLHZvaWQgMDtrPW8uanFtRGF0YSgidHJhbnNpdGlvbiIpLGw9InJldmVyc2UiPT09by5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8by5qcW1EYXRhKCJiYWNrIiksbT1vLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGMsYS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0cmFuc2l0aW9uOmsscmV2ZXJzZTpsLHJvbGU6bSxsaW5rOm99KSxlLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCksYS5tb2JpbGUud2luZG93LmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KX0sYShmdW5jdGlvbigpe2UucmVzb2x2ZSgpfSksYS53aGVuKGUsYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6IiB1aS1wYWdlLXByZS1pbiIsaW5pdDpmdW5jdGlvbihiLGMsZCxlKXthLmV4dGVuZCh0aGlzLHtuYW1lOmIscmV2ZXJzZTpjLCR0bzpkLCRmcm9tOmUsZGVmZXJyZWQ6bmV3IGEuRGVmZXJyZWR9KX0sY2xlYW5Gcm9tOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK3RoaXMubmFtZSkuaGVpZ2h0KCIiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIiksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09dGhpcy50b1Njcm9sbCYmdGhpcy5zY3JvbGxQYWdlKCksdGhpcy5zZXF1ZW50aWFsfHx0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLHRoaXMuZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm5hbWUsdGhpcy5yZXZlcnNlLHRoaXMuJHRvLHRoaXMuJGZyb20sITApfSxkb25lT3V0OmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYmVmb3JlRG9uZU91dCgpLHRoaXMuc3RhcnRJbihhLGIsYyxkKX0saGlkZUluOmZ1bmN0aW9uKGEpe3RoaXMuJHRvLmNzcygiei1pbmRleCIsLTEwKSxhLmNhbGwodGhpcyksdGhpcy4kdG8uY3NzKCJ6LWluZGV4IiwiIil9LHNjcm9sbFBhZ2U6ZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSwoYS5tb2JpbGUuaGlkZVVybEJhcnx8dGhpcy50b1Njcm9sbCE9PWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSYmYi5zY3JvbGxUbygwLHRoaXMudG9TY3JvbGwpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sc3RhcnRJbjpmdW5jdGlvbihiLGMsZCxlKXt0aGlzLmhpZGVJbihmdW5jdGlvbigpe3RoaXMuJHRvLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyt0aGlzLnRvUHJlQ2xhc3MpLGV8fGEubW9iaWxlLmZvY3VzUGFnZSh0aGlzLiR0byksdGhpcy4kdG8uaGVpZ2h0KGIrdGhpcy50b1Njcm9sbCksZHx8dGhpcy5zY3JvbGxQYWdlKCl9KSxkfHx0aGlzLiR0by5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5kb25lSW4oKX0sdGhpcykpLHRoaXMuJHRvLnJlbW92ZUNsYXNzKHRoaXMudG9QcmVDbGFzcykuYWRkQ2xhc3ModGhpcy5uYW1lKyIgaW4gIitjKSxkJiZ0aGlzLmRvbmVJbigpfSxzdGFydE91dDpmdW5jdGlvbihiLGMsZCl7dGhpcy5iZWZvcmVTdGFydE91dChiLGMsZCksdGhpcy4kZnJvbS5oZWlnaHQoYithLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKHRoaXMubmFtZSsiIG91dCIrYyl9LHRvZ2dsZVZpZXdwb3J0Q2xhc3M6ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK3RoaXMubmFtZSl9LHRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnJldmVyc2U/IiByZXZlcnNlIjoiIixjPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGQ9YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoIT09ITEmJmEubW9iaWxlLndpbmRvdy53aWR0aCgpPmEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCxlPSFhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnN8fCFhLnN1cHBvcnQuY3NzQW5pbWF0aW9uc3x8ZHx8IXRoaXMubmFtZXx8Im5vbmUiPT09dGhpcy5uYW1lfHxNYXRoLm1heChhLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy50b1Njcm9sbCk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpO3JldHVybiB0aGlzLnRvU2Nyb2xsPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksdGhpcy4kZnJvbSYmIWU/dGhpcy5zdGFydE91dChjLGIsZSk6dGhpcy5kb25lT3V0KGMsYixlLCEwKSx0aGlzLmRlZmVycmVkLnByb21pc2UoKQp9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXh0ZW5kKGEubW9iaWxlLlNlcmlhbFRyYW5zaXRpb24ucHJvdG90eXBlLGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHtzZXF1ZW50aWFsOiEwLGJlZm9yZURvbmVPdXQ6ZnVuY3Rpb24oKXt0aGlzLiRmcm9tJiZ0aGlzLmNsZWFuRnJvbSgpfSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbihiLGMsZCl7dGhpcy4kZnJvbS5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5kb25lT3V0KGIsYyxkKX0sdGhpcykpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXh0ZW5kKGEubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uLnByb3RvdHlwZSxhLm1vYmlsZS5UcmFuc2l0aW9uLnByb3RvdHlwZSx7c2VxdWVudGlhbDohMSxiZWZvcmVEb25lSW46ZnVuY3Rpb24oKXt0aGlzLiRmcm9tJiZ0aGlzLmNsZWFuRnJvbSgpfSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbihhLGIsYyl7dGhpcy5kb25lT3V0KGEsYixjKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oKXtyZXR1cm4gMyphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKX07YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzPXtzZXF1ZW50aWFsOmEubW9iaWxlLlNlcmlhbFRyYW5zaXRpb24sc2ltdWx0YW5lb3VzOmEubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9ufSxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNlcXVlbnRpYWwsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcz17fSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1mdW5jdGlvbihiKXtyZXR1cm4gYiYmIWEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrc1tiXSYmKGI9YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrc1tiXSksYn0sYS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbj1hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9ufHxifShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPWEubW9iaWxlLmRlZ3JhZGVJbnB1dHMsYS5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbj1mdW5jdGlvbihiKXtiPWEoYiksYi5maW5kKCJpbnB1dCIpLm5vdChhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9YSh0aGlzKSxnPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksaD1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddfHwidGV4dCI7YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXSYmKGI9YSgiPGRpdj4iKS5odG1sKGYuY2xvbmUoKSkuaHRtbCgpLGM9Yi5pbmRleE9mKCIgdHlwZT0iKT4tMSxkPWM/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLGU9JyB0eXBlPSInK2grJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2crJyInKyhjPyIiOiI+IiksZi5yZXBsYWNlV2l0aChiLnJlcGxhY2UoZCxlKSkpfSl9fShhKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS5wYWdlLHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGRpYWxvZzohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmKGEuZXh0ZW5kKHRoaXMse19pbm5lcjp0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSxfaGVhZGVyQ2xvc2VCdXR0b246bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fc2V0Q2xvc2VCdG4odGhpcy5vcHRpb25zLmNsb3NlQnRuKSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuZGlhbG9nJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRpYWxvZyIpLndyYXBJbm5lcihhKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IisodGhpcy5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGUsZj10aGlzLm9wdGlvbnM7Yi5jb3JuZXJzIT09YyYmdGhpcy5faW5uZXIudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLCEhYi5jb3JuZXJzKSxiLm92ZXJsYXlUaGVtZSE9PWMmJmEubW9iaWxlLmFjdGl2ZVBhZ2VbMF09PT10aGlzLmVsZW1lbnRbMF0mJihmLm92ZXJsYXlUaGVtZT1iLm92ZXJsYXlUaGVtZSx0aGlzLl9oYW5kbGVQYWdlQmVmb3JlU2hvdygpKSxiLmNsb3NlQnRuVGV4dCE9PWMmJihkPWYuY2xvc2VCdG4sZT1iLmNsb3NlQnRuVGV4dCksYi5jbG9zZUJ0biE9PWMmJihkPWIuY2xvc2VCdG4pLGQmJnRoaXMuX3NldENsb3NlQnRuKGQsZSksdGhpcy5fc3VwZXIoYil9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMub3B0aW9ucy5kaWFsb2c/KHRoaXMucmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCgpLHRoaXMuc2V0Q29udGFpbmVyQmFja2dyb3VuZCh0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSk6dGhpcy5fc3VwZXIoKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7aHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi0iK2J9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIsImJhY2siKS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fCIiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6ImNsb3NlIn0pKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIse29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSExfSxfaGFuZGxlVkNsaWNrU3VibWl0OmZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz17fSxjWyJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iXT0oYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKXx8e30pLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uLGNbImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIl09InJldmVyc2UiLGQuYXR0cihjKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7Yi5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyhjLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHN1Ym1pdDoiX2hhbmRsZVZDbGlja1N1Ym1pdCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSx0aGlzLl9zZXRDbG9zZUJ0bihjLmNsb3NlQnRuKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7cm9sZToiYnV0dG9uIixocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSx0aGlzLl9vbihlLHtjbGljazoiY2xvc2UifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZiLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigiYmFjayIpKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPS8oW0EtWl0pL2c7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIse29wdGlvbnM6e2VuaGFuY2VkOiExLGV4cGFuZEN1ZVRleHQ6bnVsbCxjb2xsYXBzZUN1ZVRleHQ6bnVsbCxjb2xsYXBzZWQ6ITAsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIixjb2xsYXBzZWRJY29uOm51bGwsZXhwYW5kZWRJY29uOm51bGwsaWNvbnBvczpudWxsLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6bnVsbCxjb3JuZXJzOm51bGwsbWluaTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9e2FjY29yZGlvbjpiLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIisoYS5tb2JpbGUuY29sbGFwc2libGVzZXQ/IiwgOm1vYmlsZS1jb2xsYXBzaWJsZXNldCI6IiIpKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iil9O2EuZXh0ZW5kKHRoaXMse191aTpjfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyhjLmhlYWRpbmc9YSgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciLHRoaXMuZWxlbWVudFswXSksYy5jb250ZW50PWMuaGVhZGluZy5uZXh0KCksYy5hbmNob3I9YSgiYSIsYy5oZWFkaW5nWzBdKS5maXJzdCgpLGMuc3RhdHVzPWMuYW5jaG9yLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKSk6dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX29uKGMuaGVhZGluZyx7dGFwOmZ1bmN0aW9uKCl7Yy5oZWFkaW5nLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoIWMuaGVhZGluZy5oYXNDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKSksYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9fSl9LF9nZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcy5fdWkuYWNjb3JkaW9uLGY9dGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0O2I9YS5leHRlbmQoe30sYiksZS5sZW5ndGgmJiFmJiYodGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0PWY9ZS5kYXRhKCJtb2JpbGUtY29sbGFwc2libGVzZXQiKSk7Zm9yKGQgaW4gYiliW2RdPW51bGwhPWJbZF0/YltkXTpmP2Yub3B0aW9uc1tkXTplLmxlbmd0aD9hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSxkLnJlcGxhY2UoYywiLSQxIikudG9Mb3dlckNhc2UoKSk6bnVsbCxudWxsPT1iW2RdJiYoYltkXT1hLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0c1tkXSk7cmV0dXJuIGJ9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOiIifSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLGY9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixlLmNvbnRlbnRUaGVtZSk7cmV0dXJuIGIuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlICIrKGUuaW5zZXQ/InVpLWNvbGxhcHNpYmxlLWluc2V0ICI6IiIpKyhlLmluc2V0JiZlLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikrKGY/InVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50ICI6IiIpKSxjLm9yaWdpbmFsSGVhZGluZz1iLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5oZWFkaW5nKS5maXJzdCgpLGMuY29udGVudD1iLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCAiK2YrIic+PC9kaXY+IikuY2hpbGRyZW4oIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksYy5oZWFkaW5nPWMub3JpZ2luYWxIZWFkaW5nLGMuaGVhZGluZy5pcygibGVnZW5kIikmJihjLmhlYWRpbmc9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2MuaGVhZGluZy5odG1sKCkrIjwvZGl2PiIpLGMucGxhY2Vob2xkZXI9YSgiPGRpdj48IS0tIHBsYWNlaG9sZGVyIGZvciBsZWdlbmQgLS0+PC9kaXY+IikuaW5zZXJ0QmVmb3JlKGMub3JpZ2luYWxIZWFkaW5nKSxjLm9yaWdpbmFsSGVhZGluZy5yZW1vdmUoKSksZD1lLmNvbGxhcHNlZD9lLmNvbGxhcHNlZEljb24/InVpLWljb24tIitlLmNvbGxhcHNlZEljb246IiI6ZS5leHBhbmRlZEljb24/InVpLWljb24tIitlLmV4cGFuZGVkSWNvbjoiIixjLnN0YXR1cz1hKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKSxjLmFuY2hvcj1jLmhlYWRpbmcuZGV0YWNoKCkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoYy5zdGF0dXMpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWJ0biAiKyhkP2QrIiAiOiIiKSsoZD8idWktYnRuLWljb24tIisoInJpZ2h0Ij09PWUuaWNvbnBvcz8icmlnaHQiOiJsZWZ0IikrIiAiOiIiKSt0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsZS50aGVtZSkrIiAiKyhlLm1pbmk/InVpLW1pbmkgIjoiIikpLGMuaGVhZGluZy5pbnNlcnRCZWZvcmUoYy5jb250ZW50KSx0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSh0aGlzLm9wdGlvbnMuY29sbGFwc2VkKSxjfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGIsYz17fTtmb3IoYiBpbiBhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cyljW2JdPXRoaXMub3B0aW9uc1tiXTt0aGlzLl9zZXRPcHRpb25zKGMpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZixnPXRoaXMuZWxlbWVudCxoPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKSxpPXRoaXMuX3VpLGo9aS5hbmNob3Isaz1pLnN0YXR1cyxsPXRoaXMuX2dldE9wdGlvbnMoYSk7YS5jb2xsYXBzZWQhPT1iJiZ0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZShhLmNvbGxhcHNlZCksYz1nLmhhc0NsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiKSxjPyhsLmV4cGFuZEN1ZVRleHQhPT1iJiZrLnRleHQobC5leHBhbmRDdWVUZXh0KSxsLmNvbGxhcHNlZEljb24hPT1iJiYoaC5jb2xsYXBzZWRJY29uJiZqLnJlbW92ZUNsYXNzKCJ1aS1pY29uLSIraC5jb2xsYXBzZWRJY29uKSxsLmNvbGxhcHNlZEljb24mJmouYWRkQ2xhc3MoInVpLWljb24tIitsLmNvbGxhcHNlZEljb24pKSk6KGwuY29sbGFwc2VDdWVUZXh0IT09YiYmay50ZXh0KGwuY29sbGFwc2VDdWVUZXh0KSxsLmV4cGFuZGVkSWNvbiE9PWImJihoLmV4cGFuZGVkSWNvbiYmai5yZW1vdmVDbGFzcygidWktaWNvbi0iK2guZXhwYW5kZWRJY29uKSxsLmV4cGFuZGVkSWNvbiYmai5hZGRDbGFzcygidWktaWNvbi0iK2wuZXhwYW5kZWRJY29uKSkpLGwuaWNvbnBvcyE9PWImJihqLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iKygicmlnaHQiPT09aC5pY29uUG9zPyJyaWdodCI6ImxlZnQiKSksai5hZGRDbGFzcygidWktYnRuLWljb24tIisoInJpZ2h0Ij09PWwuaWNvblBvcz8icmlnaHQiOiJsZWZ0IikpKSxsLnRoZW1lIT09YiYmKGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGgudGhlbWUpLGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGwudGhlbWUpLGoucmVtb3ZlQ2xhc3MoZSkuYWRkQ2xhc3MoZCkpLGwuY29udGVudFRoZW1lIT09YiYmKGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixoLnRoZW1lKSxkPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsbC50aGVtZSksaS5jb250ZW50LnJlbW92ZUNsYXNzKGUpLmFkZENsYXNzKGQpKSxsLmluc2V0IT09YiYmKGcudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWluc2V0IixsLmluc2V0KSxmPSEoIWwuaW5zZXR8fCFsLmNvcm5lcnMmJiFoLmNvcm5lcnMpKSxsLmNvcm5lcnMhPT1iJiYoZj0hKCFsLmNvcm5lcnN8fCFsLmluc2V0JiYhaC5pbnNldCkpLGYhPT1iJiZnLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixmKSxsLm1pbmkhPT1iJiZqLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixsLm1pbmkpLHRoaXMuX3N1cGVyKGEpfSxfaGFuZGxlRXhwYW5kQ29sbGFwc2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLGQ9dGhpcy5fdWk7ZC5zdGF0dXMudGV4dChiP2MuZXhwYW5kQ3VlVGV4dDpjLmNvbGxhcHNlQ3VlVGV4dCksZC5oZWFkaW5nLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIsYikuZmluZCgiYSIpLmZpcnN0KCkudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmV4cGFuZGVkSWNvbiwhYikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmNvbGxhcHNlZEljb24sYnx8Yy5leHBhbmRlZEljb249PT1jLmNvbGxhcHNlZEljb24pLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsYiksZC5jb250ZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsYikuYXR0cigiYXJpYS1oaWRkZW4iLGIpLnRyaWdnZXIoInVwZGF0ZWxheW91dCIpLHRoaXMub3B0aW9ucy5jb2xsYXBzZWQ9Yix0aGlzLl90cmlnZ2VyKGI/ImNvbGxhcHNlIjoiZXhwYW5kIil9LGV4cGFuZDpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCExKX0sY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSghMCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWksYj10aGlzLm9wdGlvbnM7Yi5lbmhhbmNlZHx8KGEucGxhY2Vob2xkZXI/KGEub3JpZ2luYWxIZWFkaW5nLmluc2VydEJlZm9yZShhLnBsYWNlaG9sZGVyKSxhLnBsYWNlaG9sZGVyLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmUoKSk6KGEuc3RhdHVzLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyB1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKSksYS5hbmNob3IuY29udGVudHMoKS51bndyYXAoKSxhLmNvbnRlbnQuY29udGVudHMoKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlIHVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCB1aS1jb2xsYXBzaWJsZS1pbnNldCB1aS1jb3JuZXItYWxsIikpfX0pLGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzPXtleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkSWNvbjoicGx1cyIsY29udGVudFRoZW1lOiJpbmhlcml0IixleHBhbmRlZEljb246Im1pbnVzIixpY29ucG9zOiJsZWZ0IixpbnNldDohMCxjb3JuZXJzOiEwLHRoZW1lOiJpbmhlcml0IixtaW5pOiExfX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybiBiP2M9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6KGM9YS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWMubGVuZ3RoJiYoYz1hLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKSkpLGN9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIiksYi5lcSgwKS5hZGRDbGFzcygidWktZmlyc3QtY2hpbGQiKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWxhc3QtY2hpbGQiKSxjfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9LF9yZW1vdmVGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKX19fShhKSxmdW5jdGlvbihhLGIpe3ZhciBjPSI6bW9iaWxlLWNvbGxhcHNpYmxlLCAiK2EubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcjthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSw6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpIixvcHRpb25zOmEuZXh0ZW5kKHtlbmhhbmNlZDohMX0sYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMpLF9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZDpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtjLnBhcmVudCgpLmlzKCI6bW9iaWxlLWNvbGxhcHNpYmxlc2V0LCA6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGU6bm90KC51aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQpIikuY29sbGFwc2libGUoImNvbGxhcHNlIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X2NsYXNzZXM6IiJ9KSxjLmVuaGFuY2VkfHwoYi5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0ICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsYy50aGVtZSkrIiAiKyhjLmNvcm5lcnMmJmMuaW5zZXQ/InVpLWNvcm5lci1hbGwgIjoiIikpLHRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcikuY29sbGFwc2libGUoKSksdGhpcy5fb24oYix7Y29sbGFwc2libGVleHBhbmQ6Il9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZCJ9KX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/Im5vbmUiPT09Yj8iIjphK2I6IiJ9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMCksdGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpLmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIikuY29sbGFwc2libGUoImV4cGFuZCIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGU9dGhpcy5lbGVtZW50LGY9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsYS50aGVtZSk7cmV0dXJuIGYmJmUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsdGhpcy5vcHRpb25zLnRoZW1lKSkuYWRkQ2xhc3MoZiksYS5pbnNldCE9PWImJihkPSEoIWEuaW5zZXR8fCFhLmNvcm5lcnMmJiF0aGlzLm9wdGlvbnMuY29ybmVycykpLGEuY29ybmVycyE9PWImJihkPSEoIWEuY29ybmVyc3x8IWEuaW5zZXQmJiF0aGlzLm9wdGlvbnMuaW5zZXQpKSxkIT09YiYmZS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZCksYz10aGlzLl9zdXBlcihhKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjptb2JpbGUtY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgicmVmcmVzaCIpLGN9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3RoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYS5jaGlsZHJlbihjKSksYS5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtc2V0IHVpLWNvcm5lci1hbGwgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIix0aGlzLm9wdGlvbnMudGhlbWUpKS5jaGlsZHJlbigiOm1vYmlsZS1jb2xsYXBzaWJsZSIpLmNvbGxhcHNpYmxlKCJkZXN0cm95Iil9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZWxlbWVudC5jaGlsZHJlbihjKTt0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IpLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGQsdGhpcy5fZ2V0VmlzaWJsZXMoZCxiKSxiKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goITEpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiIpfX0oYSksZnVuY3Rpb24oYSl7YS5mbi5ncmlkPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYyxkLGU9YSh0aGlzKSxmPWEuZXh0ZW5kKHtncmlkOm51bGx9LGIpLGc9ZS5jaGlsZHJlbigpLGg9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGk9Zi5ncmlkO2lmKCFpKWlmKGcubGVuZ3RoPD01KWZvcihkIGluIGgpaFtkXT09PWcubGVuZ3RoJiYoaT1kKTtlbHNlIGk9ImEiLGUuYWRkQ2xhc3MoInVpLWdyaWQtZHVvIik7Yz1oW2ldLGUuYWRkQ2xhc3MoInVpLWdyaWQtIitpKSxnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMSkiKS5hZGRDbGFzcygidWktYmxvY2stYSIpLGM+MSYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKSxjPjImJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIiksYz4zJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpLGM+NCYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIse29wdGlvbnM6e2ljb25wb3M6InRvcCIsZ3JpZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ZC5maW5kKCJhIiksZj1lLmZpbHRlcigiOmpxbURhdGEoaWNvbikiKS5sZW5ndGg/dGhpcy5vcHRpb25zLmljb25wb3M6YjtkLmFkZENsYXNzKCJ1aS1uYXZiYXIiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsImljb24iKSxjPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJ0aGVtZSIpLGQ9InVpLWJ0biI7YyYmKGQrPSIgdWktYnRuLSIrYyksYiYmKGQrPSIgdWktaWNvbi0iK2IrIiB1aS1idG4taWNvbi0iK2YpLGEodGhpcykuYWRkQ2xhc3MoZCl9KSxkLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Yi5oYXNDbGFzcygidWktZGlzYWJsZWQiKXx8Yi5oYXNDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl8fChlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKGMpLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSl9KSxkLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7ZS5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZTthLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxjb3VudFRoZW1lOm51bGwsZGl2aWRlclRoZW1lOm51bGwsaWNvbjoiY2FyYXQtciIsc3BsaXRJY29uOiJjYXJhdC1yIixzcGxpdFRoZW1lOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9IiI7Yis9YS5vcHRpb25zLmluc2V0PyIgdWktbGlzdHZpZXctaW5zZXQiOiIiLGEub3B0aW9ucy5pbnNldCYmKGIrPWEub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsYis9YS5vcHRpb25zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpLGEuZWxlbWVudC5hZGRDbGFzcygiIHVpLWxpc3R2aWV3IitiKSxhLnJlZnJlc2goITApfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtmb3IoZVtjXT1lW2RdPSEwO2E7KXtpZihlW2Eubm9kZU5hbWVdKXJldHVybiBhO2E9YVtiXX1yZXR1cm4gbnVsbH0sX2FkZFRodW1iQ2xhc3NlczpmdW5jdGlvbihiKXt2YXIgYyxkLGU9Yi5sZW5ndGg7Zm9yKGM9MDtlPmM7YysrKWQ9YSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGJbY10uZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLCJpbWciLCJJTUciKSksZC5sZW5ndGgmJmEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShkWzBdLnBhcmVudE5vZGUsInBhcmVudE5vZGUiLCJsaSIsIkxJIikpLmFkZENsYXNzKGQuaGFzQ2xhc3MoInVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKX0sX2dldENoaWxkcmVuQnlUYWdOYW1lOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1bXSxmPXt9O2ZvcihmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7YjspZltiLm5vZGVOYW1lXSYmZS5wdXNoKGIpLGI9Yi5uZXh0U2libGluZztyZXR1cm4gYShlKX0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDphLm5vb3AsX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmEubm9vcCxyZWZyZXNoOmZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseD10aGlzLm9wdGlvbnMseT10aGlzLmVsZW1lbnQsej0hIWEubm9kZU5hbWUoeVswXSwib2wiKSxBPXkuYXR0cigic3RhcnQiKSxCPXt9LEM9eS5maW5kKCIudWktbGktY291bnQiKSxEPWIoeVswXSwiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSxFPUQ/InVpLWJvZHktIitEOiJ1aS1ib2R5LWluaGVyaXQiO2Zvcih4LnRoZW1lJiZ5LmFkZENsYXNzKCJ1aS1ncm91cC10aGVtZS0iK3gudGhlbWUpLHomJihBfHwwPT09QSkmJihuPXBhcnNlSW50KEEsMTApLTEseS5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbikpLHRoaXMuX2JlZm9yZUxpc3R2aWV3UmVmcmVzaCgpLHc9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoeVswXSwibGkiLCJMSSIpLGU9MCxmPXcubGVuZ3RoO2Y+ZTtlKyspZz13LmVxKGUpLGg9IiIsKGN8fGdbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1saS1zdGF0aWNcYnxcYnVpLWxpLWRpdmlkZXJcYi8pPDApJiYobD10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShnWzBdLCJhIiwiQSIpLG09Imxpc3QtZGl2aWRlciI9PT1iKGdbMF0sInJvbGUiKSxwPWcuYXR0cigidmFsdWUiKSxpPWIoZ1swXSwidGhlbWUiKSxsLmxlbmd0aCYmbFswXS5jbGFzc05hbWUuc2VhcmNoKC9cYnVpLWJ0blxiLyk8MCYmIW0/KGo9YihnWzBdLCJpY29uIiksaz1qPT09ITE/ITE6anx8eC5pY29uLGwucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKSxkPSJ1aS1idG4iLGkmJihkKz0iIHVpLWJ0bi0iK2kpLGwubGVuZ3RoPjE/KGg9InVpLWxpLWhhcy1hbHQiLHE9bC5sYXN0KCkscj1iKHFbMF0sInRoZW1lIil8fHguc3BsaXRUaGVtZXx8YihnWzBdLCJ0aGVtZSIsITApLHM9cj8iIHVpLWJ0bi0iK3I6IiIsdD1iKHFbMF0sImljb24iKXx8YihnWzBdLCJpY29uIil8fHguc3BsaXRJY29uLHU9InVpLWJ0biB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi0iK3QrcyxxLmF0dHIoInRpdGxlIixhLnRyaW0ocS5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3ModSkuZW1wdHkoKSk6ayYmKGQrPSIgdWktYnRuLWljb24tcmlnaHQgdWktaWNvbi0iK2spLGwuZmlyc3QoKS5hZGRDbGFzcyhkKSk6bT8odj1iKGdbMF0sInRoZW1lIil8fHguZGl2aWRlclRoZW1lfHx4LnRoZW1lLGg9InVpLWxpLWRpdmlkZXIgdWktYmFyLSIrKHY/djoiaW5oZXJpdCIpLGcuYXR0cigicm9sZSIsImhlYWRpbmciKSk6bC5sZW5ndGg8PTAmJihoPSJ1aS1saS1zdGF0aWMgdWktYm9keS0iKyhpP2k6ImluaGVyaXQiKSkseiYmcCYmKG89cGFyc2VJbnQocCwxMCktMSxnLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIitvKSkpLEJbaF18fChCW2hdPVtdKSxCW2hdLnB1c2goZ1swXSk7Zm9yKGggaW4gQilhKEJbaF0pLmFkZENsYXNzKGgpO0MuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KSxFJiZDLmFkZENsYXNzKEUpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh3KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMody5maW5kKCIudWktYnRuIikpLHRoaXMuX2FmdGVyTGlzdHZpZXdSZWZyZXNoKCksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3Nlcyh3LHRoaXMuX2dldFZpc2libGVzKHcsYyksYyl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEudHJpbShiLnRleHQoKSl8fG51bGw7cmV0dXJuIGM/Yz1jLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTpudWxsfWEud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOnthdXRvZGl2aWRlcnM6ITEsYXV0b2RpdmlkZXJzU2VsZWN0b3I6Yn0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnMmJih0aGlzLl9yZXBsYWNlRGl2aWRlcnMoKSx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cykpfSxfcmVwbGFjZURpdmlkZXJzOmZ1bmN0aW9uKCl7dmFyIGIsZCxlLGYsZyxoPW51bGwsaT10aGlzLmVsZW1lbnQ7Zm9yKGkuY2hpbGRyZW4oImxpOmpxbURhdGEocm9sZT0nbGlzdC1kaXZpZGVyJykiKS5yZW1vdmUoKSxkPWkuY2hpbGRyZW4oImxpIiksYj0wO2I8ZC5sZW5ndGg7YisrKWU9ZFtiXSxmPXRoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihhKGUpKSxmJiZoIT09ZiYmKGc9Yy5jcmVhdGVFbGVtZW50KCJsaSIpLGcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShmKSksZy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZyxlKSksaD1mfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj0vKF58XHMpdWktbGktZGl2aWRlcigkfFxzKS8sYz0vKF58XHMpdWktc2NyZWVuLWhpZGRlbigkfFxzKS87YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2hpZGVEaXZpZGVyczohMX0sX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsZCxlLGY9ITA7aWYodGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5oaWRlRGl2aWRlcnMpZm9yKGE9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUodGhpcy5lbGVtZW50WzBdLCJsaSIsIkxJIiksZD1hLmxlbmd0aC0xO2Q+LTE7ZC0tKWU9YVtkXSxlLmNsYXNzTmFtZS5tYXRjaChiKT8oZiYmKGUuY2xhc3NOYW1lPWUuY2xhc3NOYW1lKyIgdWktc2NyZWVuLWhpZGRlbiIpLGY9ITApOmUuY2xhc3NOYW1lLm1hdGNoKGMpfHwoZj0hMSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5vanM9ZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixiKS5hZGRDbGFzcygidWktbm9qcyIpfX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldD17X2hhbmRsZUZvcm1SZXNldDpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl9yZXNldCIpfX0pfX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dDpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnICkgKVt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ106bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApKSIsb3B0aW9uczp7dGhlbWU6ImluaGVyaXQiLG1pbmk6ITEsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITEsaWNvbnBvczoibGVmdCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxlPWIuY2xvc2VzdCgibGFiZWwiKSxmPWUubGVuZ3RoP2U6Yi5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2EubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoYlswXS5pZCkrIiddIikuZmlyc3QoKSxnPWJbMF0udHlwZSxoPSJ1aS0iK2crIi1vbiIsaT0idWktIitnKyItb2ZmIjsoImNoZWNrYm94Ij09PWd8fCJyYWRpbyI9PT1nKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYiwiaWNvbnBvcyIpfHxmLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIpfHxjLmljb25wb3MsYy5taW5pPWQoYiwibWluaSIpfHxjLm1pbmksYS5leHRlbmQodGhpcyx7aW5wdXQ6YixsYWJlbDpmLHBhcmVudExhYmVsOmUsaW5wdXR0eXBlOmcsY2hlY2tlZENsYXNzOmgsdW5jaGVja2VkQ2xhc3M6aX0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGYse3Ztb3VzZW92ZXI6Il9oYW5kbGVMYWJlbFZNb3VzZU92ZXIiLHZjbGljazoiX2hhbmRsZUxhYmVsVkNsaWNrIn0pLHRoaXMuX29uKGIse3Ztb3VzZWRvd246Il9jYWNoZVZhbHMiLHZjbGljazoiX2hhbmRsZUlucHV0VkNsaWNrIixmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMiLGJsdXI6Il9oYW5kbGVJbnB1dEJsdXIifSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoInVpLWJ0biB1aS1jb3JuZXItYWxsIiksdGhpcy5wYXJlbnRMYWJlbC5sZW5ndGg+MD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcz90aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzOiIiKSsiIHVpLSIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8iIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrIicgPiIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7YS5pcygiOmNoZWNrZWQiKT8oYS5wcm9wKCJjaGVja2VkIiwhMCksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QoYSkucHJvcCgiY2hlY2tlZCIsITEpKTphLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKX0sX2hhbmRsZUxhYmVsVk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt0aGlzLmxhYmVsLnBhcmVudCgpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxfaGFuZGxlTGFiZWxWQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50O3JldHVybiBiLmlzKCI6ZGlzYWJsZWQiKT8oYS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX2NhY2hlVmFscygpLGIucHJvcCgiY2hlY2tlZCIsInJhZGlvIj09PXRoaXMuaW5wdXR0eXBlJiYhMHx8IWIucHJvcCgiY2hlY2tlZCIpKSxiLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHRoaXMuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKSwhMSl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMuaW5wdXR0eXBlP3RoaXMuZWxlbWVudDp0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8ImNoZWNrYm94Ij09PWIuaW5wdXR0eXBlKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9oYXNJY29uOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPWEubW9iaWxlLmNvbnRyb2xncm91cDtyZXR1cm4gZCYmKGI9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIjptb2JpbGUtY29udHJvbGdyb3VwLCIrZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yKSxiLmxlbmd0aD4wKT8oYz1hLmRhdGEoYlswXSwibW9iaWxlLWNvbnRyb2xncm91cCIpLCJob3Jpem9udGFsIiE9PShjP2Mub3B0aW9ucy50eXBlOmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIikpKTohMH0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX2hhc0ljb24oKSxjPXRoaXMuZWxlbWVudFswXS5jaGVja2VkLGQ9YS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsZT0idWktYnRuLWljb24tIit0aGlzLm9wdGlvbnMuaWNvbnBvcyxmPVtdLGc9W107Yj8oZy5wdXNoKGQpLGYucHVzaChlKSk6KGcucHVzaChlKSwoYz9mOmcpLnB1c2goZCkpLGM/KGYucHVzaCh0aGlzLmNoZWNrZWRDbGFzcyksZy5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpKTooZi5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpLGcucHVzaCh0aGlzLmNoZWNrZWRDbGFzcykpLHRoaXMubGFiZWwuYWRkQ2xhc3MoZi5qb2luKCIgIikpLnJlbW92ZUNsYXNzKGcuam9pbigiICIpKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWwucGFyZW50KCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMubGFiZWwsZD10aGlzLm9wdGlvbnMsZT10aGlzLndpZGdldCgpLGY9dGhpcy5faGFzSWNvbigpO2EuZGlzYWJsZWQhPT1iJiYodGhpcy5pbnB1dC5wcm9wKCJkaXNhYmxlZCIsISFhLmRpc2FibGVkKSxlLnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFhLmRpc2FibGVkKSksYS5taW5pIT09YiYmZS50b2dnbGVDbGFzcygidWktbWluaSIsISFhLm1pbmkpLGEudGhlbWUhPT1iJiZjLnJlbW92ZUNsYXNzKCJ1aS1idG4tIitkLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYS50aGVtZSksYS53cmFwcGVyQ2xhc3MhPT1iJiZlLnJlbW92ZUNsYXNzKGQud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS5pY29ucG9zIT09YiYmZj9jLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK2QuaWNvbnBvcykuYWRkQ2xhc3MoInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zKTpmfHxjLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK2QuaWNvbnBvcyksdGhpcy5fc3VwZXIoYSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLHtpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2J1dHRvbiddLCBpbnB1dFt0eXBlPSdzdWJtaXQnXSwgaW5wdXRbdHlwZT0ncmVzZXQnXSIsb3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczoibGVmdCIsaWNvbnNoYWRvdzohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSEwKSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSxhLmV4dGVuZCh0aGlzLHt3cmFwcGVyOnRoaXMuZWxlbWVudC5wYXJlbnQoKX0pLHRoaXMuX29uKHtmb2N1czpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCghMCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LndyYXAodGhpcy5fYnV0dG9uKCkpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5fZ2V0SWNvbkNsYXNzZXModGhpcy5vcHRpb25zKTtyZXR1cm4gYSgiPGRpdiBjbGFzcz0ndWktYnRuIHVpLWlucHV0LWJ0biIrKGIud3JhcHBlckNsYXNzPyIgIitiLndyYXBwZXJDbGFzczoiIikrKGIudGhlbWU/IiB1aS1idG4tIitiLnRoZW1lOiIiKSsoYi5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhiLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpKyhiLmlubGluZT8iIHVpLWJ0bi1pbmxpbmUiOiIiKSsoYi5taW5pPyIgdWktbWluaSI6IiIpKyhiLmRpc2FibGVkPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYz8iICIrYzoiIikrIicgPiIrdGhpcy5lbGVtZW50LnZhbCgpKyI8L2Rpdj4iKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JhcHBlcn0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuYnV0dG9uKSx0aGlzLmJ1dHRvbi5yZW1vdmUoKX0sX2dldEljb25DbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmljb24/InVpLWljb24tIithLmljb24rKGEuaWNvbnNoYWRvdz8iIHVpLXNoYWRvdy1pY29uIjoiIikrIiB1aS1idG4taWNvbi0iK2EuaWNvbnBvczoiIn0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy53aWRnZXQoKTtjLnRoZW1lIT09YiYmZC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIitjLnRoZW1lKSxjLmNvcm5lcnMhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixjLmNvcm5lcnMpLGMuc2hhZG93IT09YiYmZC50b2dnbGVDbGFzcygidWktc2hhZG93IixjLnNoYWRvdyksYy5pbmxpbmUhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1idG4taW5saW5lIixjLmlubGluZSksYy5taW5pIT09YiYmZC50b2dnbGVDbGFzcygidWktbWluaSIsYy5taW5pKSxjLmRpc2FibGVkIT09YiYmKHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsYy5kaXNhYmxlZCksZC50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGMuZGlzYWJsZWQpKSwoYy5pY29uIT09Ynx8Yy5pY29uc2hhZG93IT09Ynx8Yy5pY29ucG9zIT09YikmJmQucmVtb3ZlQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXModGhpcy5vcHRpb25zKSkuYWRkQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXMoYS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGMpKSksdGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7aWYodGhpcy5vcHRpb25zLmljb24mJiJub3RleHQiPT09dGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMuZWxlbWVudC52YWwoKSksIWIpe3ZhciBjPXRoaXMuZWxlbWVudC5kZXRhY2goKTthKHRoaXMud3JhcHBlcikudGV4dCh0aGlzLmVsZW1lbnQudmFsKCkpLmFwcGVuZChjKX19fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZCYmYyE9PSEwfHwoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLGlucHV0W3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLGlucHV0W3R5cGU9J251bWJlciddLDpqcW1EYXRhKHR5cGU9J251bWJlcicpLGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10saW5wdXRbdHlwZT0nZW1haWwnXSxpbnB1dFt0eXBlPSd1cmwnXSxpbnB1dFt0eXBlPSd0ZWwnXSx0ZXh0YXJlYSxpbnB1dFt0eXBlPSd0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZSddLGlucHV0W3R5cGU9J21vbnRoJ10saW5wdXRbdHlwZT0nd2VlayddLGlucHV0W3R5cGU9J2RhdGV0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSxpbnB1dFt0eXBlPSdjb2xvciddLGlucHV0Om5vdChbdHlwZV0pLGlucHV0W3R5cGU9J2ZpbGUnXSIsb3B0aW9uczp7dGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsd3JhcHBlckNsYXNzOiIiLGVuaGFuY2VkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksZD0iVEVYVEFSRUEiPT09dGhpcy5lbGVtZW50WzBdLnRhZ05hbWUsZT10aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKSxmPSh0aGlzLmVsZW1lbnQuaXMoImlucHV0Iil8fHRoaXMuZWxlbWVudC5pcygiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsidHlwZT0nc2VhcmNoJ10iKSkmJiFlO3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpJiYoYi5kaXNhYmxlZD0hMCksYS5leHRlbmQodGhpcyx7Y2xhc3Nlczp0aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpc1JhbmdlOmUsaW5wdXROZWVkc1dyYXA6Zn0pLHRoaXMuX2F1dG9Db3JyZWN0KCksYi5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUZvY3VzIixibHVyOiJfaGFuZGxlQmx1ciJ9KX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6dGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuaXNUZXh0YXJlYSYmYS5wdXNoKCJ1aS1pbnB1dC10ZXh0IiksKHRoaXMuaXNUZXh0YXJlYXx8dGhpcy5pc1JhbmdlKSYmYS5wdXNoKCJ1aS1zaGFkb3ctaW5zZXQiKSx0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXAoKSk6YT1hLmNvbmNhdCh0aGlzLmNsYXNzZXMpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmpvaW4oIiAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnR9LF9jbGFzc2VzRnJvbU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1bXTtyZXR1cm4gYi5wdXNoKCJ1aS1ib2R5LSIrKG51bGw9PT1hLnRoZW1lPyJpbmhlcml0IjphLnRoZW1lKSksYS5jb3JuZXJzJiZiLnB1c2goInVpLWNvcm5lci1hbGwiKSxhLm1pbmkmJmIucHVzaCgidWktbWluaSIpLGEuZGlzYWJsZWQmJmIucHVzaCgidWktc3RhdGUtZGlzYWJsZWQiKSxhLndyYXBwZXJDbGFzcyYmYi5wdXNoKGEud3JhcHBlckNsYXNzKSxifSxfd3JhcDpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2IGNsYXNzPSciKyh0aGlzLmlzU2VhcmNoPyJ1aS1pbnB1dC1zZWFyY2ggIjoidWktaW5wdXQtdGV4dCAiKSt0aGlzLmNsYXNzZXMuam9pbigiICIpKyIgIisidWktc2hhZG93LWluc2V0Jz48L2Rpdj4iKX0sX2F1dG9Db3JyZWN0OmZ1bmN0aW9uKCl7InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLmVsZW1lbnRbMF0uYXV0b2NvcnJlY3R8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwodGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSx0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSl9LF9oYW5kbGVCbHVyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSx0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSxfaGFuZGxlRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndpZGdldCgpO3RoaXMuX3N1cGVyKGEpLChhLmRpc2FibGVkIT09Ynx8YS5taW5pIT09Ynx8YS5jb3JuZXJzIT09Ynx8YS50aGVtZSE9PWJ8fGEud3JhcHBlckNsYXNzIT09YikmJihjLnJlbW92ZUNsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpLHRoaXMuY2xhc3Nlcz10aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxjLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpKSxhLmRpc2FibGVkIT09YiYmdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMuaW5wdXROZWVkc1dyYXAmJnRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWlucHV0LXRleHQgIit0aGlzLmNsYXNzZXMuam9pbigiICIpKSl9fSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIix3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxmLGcsaCxpLGosayxsLG0sbixvPXRoaXMscD10aGlzLmVsZW1lbnQscT10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHBbMF0sInRoZW1lIikscj1xPyIgdWktYmFyLSIrcToiIHVpLWJhci1pbmhlcml0IixzPXRoaXMub3B0aW9ucy5jb3JuZXJzfHxwLmpxbURhdGEoImNvcm5lcnMiKT8iIHVpLWNvcm5lci1hbGwiOiIiLHQ9dGhpcy5vcHRpb25zLm1pbml8fHAuanFtRGF0YSgibWluaSIpPyIgdWktbWluaSI6IiIsdT1wWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdj0ic2VsZWN0Ij09PXUsdz1wLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIikseD12PyJ1aS1zbGlkZXItc3dpdGNoIjoiIix5PXAuYXR0cigiaWQiKSx6PWEoIltmb3I9JyIreSsiJ10iKSxBPXouYXR0cigiaWQiKXx8eSsiLWxhYmVsIixCPXY/MDpwYXJzZUZsb2F0KHAuYXR0cigibWluIikpLEM9dj9wLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xOnBhcnNlRmxvYXQocC5hdHRyKCJtYXgiKSksRD1iLnBhcnNlRmxvYXQocC5hdHRyKCJzdGVwIil8fDEpLEU9Yy5jcmVhdGVFbGVtZW50KCJhIiksRj1hKEUpLEc9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxIPWEoRyksST10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdj9mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxhKGIpLnByZXBlbmRUbyhIKX0oKTohMTtpZih6LmF0dHIoImlkIixBKSx0aGlzLmlzVG9nZ2xlU3dpdGNoPXYsRS5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksRy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJhcHBsaWNhdGlvbiIpLEcuY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCAiOiJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0ICIseCxyLHMsdF0uam9pbigiIiksRS5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLEcuYXBwZW5kQ2hpbGQoRSksRi5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpCLCJhcmlhLXZhbHVlbWF4IjpDLCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOkF9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6SCxoYW5kbGU6Rixjb250cm9sOnAsdHlwZTp1LHN0ZXA6RCxtYXg6QyxtaW46Qix2YWx1ZWJnOkksaXNSYW5nZXNsaWRlcjp3LGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExLG1vdXNlTW92ZWQ6ITF9KSx2KXtmb3Ioaz1wLmF0dHIoInRhYmluZGV4IiksayYmRi5hdHRyKCJ0YWJpbmRleCIsaykscC5hdHRyKCJ0YWJpbmRleCIsIi0xIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLmJsdXIoKSxGLmZvY3VzKCl9KSxmPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZi5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCIsZz0wLGg9Ry5jaGlsZE5vZGVzLmxlbmd0aDtoPmc7ZysrKWYuYXBwZW5kQ2hpbGQoRy5jaGlsZE5vZGVzW2ddKTtmb3IoRy5hcHBlbmRDaGlsZChmKSxGLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksZT1wLmZpbmQoIm9wdGlvbiIpLGk9MCxqPWUubGVuZ3RoO2o+aTtpKyspbD1pPyJhIjoiYiIsbT1pPyIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzczoiIixuPWMuY3JlYXRlRWxlbWVudCgic3BhbiIpLG4uY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLGwsbV0uam9pbigiIiksbi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxuLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoZVtpXS5pbm5lckhUTUwpKSxhKG4pLnByZXBlbmRUbyhIKTsKby5fbGFiZWxzPWEoIi51aS1zbGlkZXItbGFiZWwiLEgpfXAuYWRkQ2xhc3Modj8idWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci1pbnB1dCIpLHRoaXMuX29uKHAse2NoYW5nZToiX2NvbnRyb2xDaGFuZ2UiLGtleXVwOiJfY29udHJvbEtleXVwIixibHVyOiJfY29udHJvbEJsdXIiLHZtb3VzZXVwOiJfY29udHJvbFZNb3VzZVVwIn0pLEguYmluZCgidm1vdXNlZG93biIsYS5wcm94eSh0aGlzLl9zbGlkZXJWTW91c2VEb3duLHRoaXMpKS5iaW5kKCJ2Y2xpY2siLCExKSx0aGlzLl9vbihjLHt2bW91c2Vtb3ZlOiJfcHJldmVudERvY3VtZW50RHJhZyJ9KSx0aGlzLl9vbihILmFkZChjKSx7dm1vdXNldXA6Il9zbGlkZXJWTW91c2VVcCJ9KSxILmluc2VydEFmdGVyKHApLHZ8fHd8fChmPXRoaXMub3B0aW9ucy5taW5pPyI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgdWktbWluaSc+IjoiPGRpdiBjbGFzcz0ndWktc2xpZGVyJz4iLHAuYWRkKEgpLndyYXBBbGwoZikpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1kJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5jb3JuZXJzIT09ZCYmdGhpcy5fc2V0Q29ybmVycyhhLmNvcm5lcnMpLGEubWluaSE9PWQmJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWQmJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWQmJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiY29udHJvbGNoYW5nZSIsYSk9PT0hMT8hMToodGhpcy5tb3VzZU1vdmVkfHx0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCksdm9pZCAwKX0sX2NvbnRyb2xLZXl1cDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbFZNb3VzZVVwOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tlZFJlZnJlc2goKX0sX2hhbmRsZVZNb3VzZURvd246ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWx1ZSgpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlTbGlkaW5nfHwodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfXN3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOnRoaXMucmVmcmVzaCh0aGlzLm1pbik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDp0aGlzLnJlZnJlc2godGhpcy5tYXgpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6dGhpcy5yZWZyZXNoKGMrdGhpcy5zdGVwKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOnRoaXMucmVmcmVzaChjLXRoaXMuc3RlcCl9fX0sX2hhbmRsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX0sX3NsaWRlclZNb3VzZURvd246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8MSE9PWEud2hpY2gmJjAhPT1hLndoaWNoJiZhLndoaWNoIT09ZD8hMTp0aGlzLl90cmlnZ2VyKCJiZWZvcmVzdGFydCIsYSk9PT0hMT8hMToodGhpcy5kcmFnZ2luZz0hMCx0aGlzLnVzZXJNb2RpZmllZD0hMSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuYmVmb3JlU3RhcnQ9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHRoaXMucmVmcmVzaChhKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIpLCExKX0sX3NsaWRlclZNb3VzZVVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5tb3VzZU1vdmVkP3RoaXMudXNlck1vZGlmaWVkP3RoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApOnRoaXMucmVmcmVzaCh0aGlzLmJlZm9yZVN0YXJ0KTp0aGlzLnJlZnJlc2goMD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKSksdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiKSwhMSk6dm9pZCAwfSxfcHJldmVudERvY3VtZW50RHJhZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiZHJhZyIsYSk9PT0hMT8hMTp0aGlzLmRyYWdnaW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkPyh0aGlzLm1vdXNlTW92ZWQ9ITAsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLnJlZnJlc2goYSksdGhpcy51c2VyTW9kaWZpZWQ9dGhpcy5iZWZvcmVTdGFydCE9PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4LCExKTp2b2lkIDB9LF9jaGVja2VkUmVmcmVzaDpmdW5jdGlvbigpe3RoaXMudmFsdWUhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSl9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVG9nZ2xlU3dpdGNoP3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4OnBhcnNlRmxvYXQodGhpcy5lbGVtZW50LnZhbCgpKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKGQsITEsITApfSxyZWZyZXNoOmZ1bmN0aW9uKGIsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHo9dGhpcyxBPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sInRoZW1lIiksQj10aGlzLm9wdGlvbnMudGhlbWV8fEEsQz1CPyIgdWktYnRuLSIrQjoiIixEPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxBLEU9RD8iIHVpLWJhci0iK0Q6IiB1aS1iYXItaW5oZXJpdCIsRj10aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLEc9dGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIjtpZih6LnNsaWRlclswXS5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQiOiJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IixFLEYsR10uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKHouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLWJ0biIrQysiIHVpLXNoYWRvdyIpLGw9dGhpcy5lbGVtZW50LG09IXRoaXMuaXNUb2dnbGVTd2l0Y2gsbj1tP1tdOmwuZmluZCgib3B0aW9uIiksbz1tP3BhcnNlRmxvYXQobC5hdHRyKCJtaW4iKSk6MCxwPW0/cGFyc2VGbG9hdChsLmF0dHIoIm1heCIpKTpuLmxlbmd0aC0xLHE9bSYmcGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk+MD9wYXJzZUZsb2F0KGwuYXR0cigic3RlcCIpKToxLCJvYmplY3QiPT10eXBlb2YgYil7aWYoaD1iLGk9OCxmPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQsZz10aGlzLnNsaWRlci53aWR0aCgpLGo9Zy8oKHAtbykvcSksIXRoaXMuZHJhZ2dpbmd8fGgucGFnZVg8Zi1pfHxoLnBhZ2VYPmYrZytpKXJldHVybjtrPWo+MT8xMDAqKChoLnBhZ2VYLWYpL2cpOk1hdGgucm91bmQoMTAwKigoaC5wYWdlWC1mKS9nKSl9ZWxzZSBudWxsPT1iJiYoYj1tP3BhcnNlRmxvYXQobC52YWwoKXx8MCk6bFswXS5zZWxlY3RlZEluZGV4KSxrPTEwMCooKHBhcnNlRmxvYXQoYiktbykvKHAtbykpO2lmKCFpc05hTihrKSYmKHI9ay8xMDAqKHAtbykrbyxzPShyLW8pJXEsdD1yLXMsMipNYXRoLmFicyhzKT49cSYmKHQrPXM+MD9xOi1xKSx1PTEwMC8oKHAtbykvcSkscj1wYXJzZUZsb2F0KHQudG9GaXhlZCg1KSksInVuZGVmaW5lZCI9PXR5cGVvZiBqJiYoaj1nLygocC1vKS9xKSksaj4xJiZtJiYoaz0oci1vKSp1KigxL3EpKSwwPmsmJihrPTApLGs+MTAwJiYoaz0xMDApLG8+ciYmKHI9bykscj5wJiYocj1wKSx0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGsrIiUiKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLG0/cjpuLmVxKHIpLmF0dHIoInZhbHVlIikpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgidGl0bGUiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcygid2lkdGgiLGsrIiUiKSx0aGlzLl9sYWJlbHMmJih2PTEwMCoodGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKSx3PWsmJnYrKDEwMC12KSprLzEwMCx4PTEwMD09PWs/MDpNYXRoLm1pbih2KzEwMC13LDEwMCksdGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmhhc0NsYXNzKCJ1aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/dzp4KSsiJSIpfSkpLCFlKSl7aWYoeT0hMSxtPyh5PWwudmFsKCkhPT1yLGwudmFsKHIpKTooeT1sWzBdLnNlbGVjdGVkSW5kZXghPT1yLGxbMF0uc2VsZWN0ZWRJbmRleD1yKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLGIpPT09ITEpcmV0dXJuITE7IWQmJnkmJmwudHJpZ2dlcigiY2hhbmdlIil9fSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe2E9ISFhLGE/KHRoaXMub3B0aW9ucy5oaWdobGlnaHQ9ISFhLHRoaXMucmVmcmVzaCgpKTp0aGlzLnZhbHVlYmcmJih0aGlzLnZhbHVlYmcucmVtb3ZlKCksdGhpcy52YWx1ZWJnPSExKX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1idG4tIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithKTt2YXIgYj10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5jb250cm9sLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrYikuYWRkQ2xhc3MoInVpLWJvZHktIitjKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU/dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU6ImluaGVyaXQiLGM9YT9hOiJpbmhlcml0Ijt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuaXNUb2dnbGVTd2l0Y2h8fHRoaXMuaXNSYW5nZXNsaWRlcnx8KHRoaXMuc2xpZGVyLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGEpe3RoaXMuc2xpZGVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmNvbnRyb2wudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7YT0hIWEsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixhKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBjfHwoYz1hKCI8ZGl2PjwvZGl2PiIseyJjbGFzcyI6InVpLXNsaWRlci1wb3B1cCB1aS1zaGFkb3cgdWktY29ybmVyLWFsbCJ9KSksYy5jbG9uZSgpfXZhciBjO2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS5zbGlkZXIse29wdGlvbnM6e3BvcHVwRW5hYmxlZDohMSxzaG93VmFsdWU6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse19jdXJyZW50VmFsdWU6bnVsbCxfcG9wdXA6bnVsbCxfcG9wdXBWaXNpYmxlOiExfSksdGhpcy5fc2V0T3B0aW9uKCJwb3B1cEVuYWJsZWQiLHRoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfc2hvd1BvcHVwIn0pLHRoaXMuX29uKHRoaXMuc2xpZGVyLmFkZCh0aGlzLmRvY3VtZW50KSx7dm1vdXNldXA6Il9oaWRlUG9wdXAifSksdGhpcy5fcmVmcmVzaCgpfSxfcG9zaXRpb25Qb3B1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlLm9mZnNldCgpO3RoaXMuX3BvcHVwLm9mZnNldCh7bGVmdDphLmxlZnQrKHRoaXMuaGFuZGxlLndpZHRoKCktdGhpcy5fcG9wdXAud2lkdGgoKSkvMix0b3A6YS50b3AtdGhpcy5fcG9wdXAub3V0ZXJIZWlnaHQoKS01fSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxjKXt0aGlzLl9zdXBlcihhLGMpLCJzaG93VmFsdWUiPT09YT90aGlzLmhhbmRsZS5odG1sKGMmJiF0aGlzLm9wdGlvbnMubWluaT90aGlzLl92YWx1ZSgpOiIiKToicG9wdXBFbmFibGVkIj09PWEmJmMmJiF0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwPWIoKS5hZGRDbGFzcygidWktYm9keS0iKyh0aGlzLm9wdGlvbnMudGhlbWV8fCJhIikpLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnM7Yi5wb3B1cEVuYWJsZWQmJnRoaXMuaGFuZGxlLnJlbW92ZUF0dHIoInRpdGxlIiksYT10aGlzLl92YWx1ZSgpLGEhPT10aGlzLl9jdXJyZW50VmFsdWUmJih0aGlzLl9jdXJyZW50VmFsdWU9YSxiLnBvcHVwRW5hYmxlZCYmdGhpcy5fcG9wdXA/KHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cC5odG1sKGEpKTpiLnNob3dWYWx1ZSYmIXRoaXMub3B0aW9ucy5taW5pJiZ0aGlzLmhhbmRsZS5odG1sKGEpKX0sX3Nob3dQb3B1cDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQmJiF0aGlzLl9wb3B1cFZpc2libGUmJih0aGlzLmhhbmRsZS5odG1sKCIiKSx0aGlzLl9wb3B1cC5zaG93KCksdGhpcy5fcG9zaXRpb25Qb3B1cCgpLHRoaXMuX3BvcHVwVmlzaWJsZT0hMCl9LF9oaWRlUG9wdXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7YS5wb3B1cEVuYWJsZWQmJnRoaXMuX3BvcHVwVmlzaWJsZSYmKGEuc2hvd1ZhbHVlJiYhYS5taW5pJiZ0aGlzLmhhbmRsZS5odG1sKHRoaXMuX3ZhbHVlKCkpLHRoaXMuX3BvcHVwLmhpZGUoKSx0aGlzLl9wb3B1cFZpc2libGU9ITEpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuZmxpcHN3aXRjaCIsYS5leHRlbmQoe29wdGlvbnM6e29uVGV4dDoiT24iLG9mZlRleHQ6Ik9mZiIsdGhlbWU6bnVsbCxlbmhhbmNlZDohMSx3cmFwcGVyQ2xhc3M6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWQ/YS5leHRlbmQodGhpcyx7ZmxpcHN3aXRjaDp0aGlzLmVsZW1lbnQucGFyZW50KCksb246dGhpcy5lbGVtZW50LmZpbmQoIi51aS1mbGlwc3dpdGNoLW9uIikuZXEoMCksb2ZmOnRoaXMuZWxlbWVudC5maW5kKCIudWktZmxpcHN3aXRjaC1vZmYiKS5lcSgwKSx0eXBlOnRoaXMuZWxlbWVudC5nZXQoMCkudGFnTmFtZX0pOnRoaXMuX2VuaGFuY2UoKSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pLHRoaXMuX29uKHRoaXMuZmxpcHN3aXRjaCx7Y2xpY2s6Il90b2dnbGUiLHN3aXBlbGVmdDoiX2xlZnQiLHN3aXBlcmlnaHQ6Il9yaWdodCJ9KSx0aGlzLl9vbih0aGlzLm9uLHtrZXlkb3duOiJfa2V5ZG93biJ9KSx0aGlzLl9vbih7Y2hhbmdlOiJyZWZyZXNoIn0pfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbGlwc3dpdGNofSxfbGVmdDpmdW5jdGlvbigpe3RoaXMuZmxpcHN3aXRjaC5yZW1vdmVDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKSwiU0VMRUNUIj09PXRoaXMudHlwZT90aGlzLmVsZW1lbnQuZ2V0KDApLnNlbGVjdGVkSW5kZXg9MDp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIsITEpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJjaGFuZ2UiKX0sX3JpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSIpLCJTRUxFQ1QiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0xOnRoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIiwhMCksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNoYW5nZSIpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPWEoIjxkaXY+IiksYz10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT1jLnRoZW1lP2MudGhlbWU6ImluaGVyaXQiLGY9YSgiPHNwYW4+PC9zcGFuPiIse3RhYmluZGV4OjF9KSxnPWEoIjxzcGFuPjwvc3Bhbj4iKSxoPWQuZ2V0KDApLnRhZ05hbWUsaT0iSU5QVVQiPT09aD9jLm9uVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDEpLnRleHQoKSxqPSJJTlBVVCI9PT1oP2Mub2ZmVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtmLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGkpLGcuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChqKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1iYXItIitlKyIgIisoYy53cmFwcGVyQ2xhc3M/Yy53cmFwcGVyQ2xhc3M6IiIpKyIgIisoZC5pcygiOmNoZWNrZWQiKXx8ZC5maW5kKCJvcHRpb24iKS5lcSgxKS5pcygiOnNlbGVjdGVkIik/InVpLWZsaXBzd2l0Y2gtYWN0aXZlIjoiIikrKGQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhjLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChmLGcpLGQuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKS5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZixvZmY6Zyx0eXBlOmh9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX3JpZ2h0IjoiX2xlZnQiO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIpPyJfcmlnaHQiOiJfbGVmdCIsYSE9PWImJnRoaXNbYV0oKX0sX3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX2xlZnQiOiJfcmlnaHQiO3RoaXNbYV0oKX0sX2tleWRvd246ZnVuY3Rpb24oYil7Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuTEVGVD90aGlzLl9sZWZ0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuUklHSFQ/dGhpcy5fcmlnaHQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSYmKHRoaXMuX3RvZ2dsZSgpLGIucHJldmVudERlZmF1bHQoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKGEudGhlbWUhPT1iKXt2YXIgYz1hLnRoZW1lP2EudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKCJ1aS1iYXItIitjKS5hZGRDbGFzcygidWktYmFyLSIrZCl9YS5vblRleHQhPT1iJiZ0aGlzLm9uLnRleHQoYS5vblRleHQpLGEub2ZmVGV4dCE9PWImJnRoaXMub2ZmLnRleHQoYS5vZmZUZXh0KSxhLmRpc2FibGVkIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEuZGlzYWJsZWQpLGEubWluaSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5jb3JuZXJzIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSx0aGlzLl9zdXBlcihhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLm9uLnJlbW92ZSgpLHRoaXMub2ZmLnJlbW92ZSgpLHRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmZsaXBzd2l0Y2gucmVtb3ZlKCksdGhpcy5yZW1vdmVDbGFzcygidWktZmxpcHN3aXRjaC1pbnB1dCIpKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLGhpZ2hsaWdodDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5taW5pPyJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIjoidWktcmFuZ2VzbGlkZXIiLGQ9Yi5maW5kKCJpbnB1dCIpLmZpcnN0KCksZT1iLmZpbmQoImlucHV0IikubGFzdCgpLGY9Yi5maW5kKCJsYWJlbCIpLmZpcnN0KCksZz1hLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKXx8YS5kYXRhKGQuc2xpZGVyKCkuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIiksaD1hLmRhdGEoZS5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKXx8YS5kYXRhKGUuc2xpZGVyKCkuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIiksaT1nLnNsaWRlcixqPWguc2xpZGVyLGs9Zy5oYW5kbGUsbD1hKCI8ZGl2IGNsYXNzPSd1aS1yYW5nZXNsaWRlci1zbGlkZXJzJyAvPiIpLmFwcGVuZFRvKGIpO2QuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZS5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItbGFzdCIpLGIuYWRkQ2xhc3MoYyksaS5hcHBlbmRUbyhsKSxqLmFwcGVuZFRvKGwpLGYuaW5zZXJ0QmVmb3JlKGIpLGsucHJlcGVuZFRvKGopLGEuZXh0ZW5kKHRoaXMse19pbnB1dEZpcnN0OmQsX2lucHV0TGFzdDplLF9zbGlkZXJGaXJzdDppLF9zbGlkZXJMYXN0OmosX2xhYmVsOmYsX3RhcmdldFZhbDpudWxsLF9zbGlkZXJUYXJnZXQ6ITEsX3NsaWRlcnM6bCxfcHJveHk6ITF9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQudWktc2xpZGVyLWlucHV0Iikse3NsaWRlYmVmb3Jlc3RhcnQ6Il9zbGlkZWJlZm9yZXN0YXJ0IixzbGlkZXN0b3A6Il9zbGlkZXN0b3AiLHNsaWRlZHJhZzoiX3NsaWRlZHJhZyIsc2xpZGViZWZvcmVjaGFuZ2U6Il9jaGFuZ2UiLGJsdXI6Il9jaGFuZ2UiLGtleXVwOiJfY2hhbmdlIn0pLHRoaXMuX29uKHttb3VzZWRvd246Il9jaGFuZ2UifSksdGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6Il9oYW5kbGVSZXNldCJ9KSx0aGlzLl9vbihrLHt2bW91c2Vkb3duOiJfZHJhZ0ZpcnN0SGFuZGxlIn0pfSxfaGFuZGxlUmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLl91cGRhdGVIaWdobGlnaHQoKX0sMCl9LF9kcmFnRmlyc3RIYW5kbGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmRyYWdnaW5nPSEwLGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnJlZnJlc2goYiksITF9LF9zbGlkZWRyYWc6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCksZD1jP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O3JldHVybiB0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsImZpcnN0Ij09PXRoaXMuX3Byb3h5JiZjfHwibGFzdCI9PT10aGlzLl9wcm94eSYmIWM/KGEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmRyYWdnaW5nPSEwLGEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnJlZnJlc2goYiksITEpOnZvaWQgMH0sX3NsaWRlc3RvcDpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KTt0aGlzLl9wcm94eT0hMSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS50cmlnZ2VyKCJ2bW91c2V1cCIpLHRoaXMuX3NsaWRlckZpcnN0LmNzcygiei1pbmRleCIsYz8xOiIiKX0sX3NsaWRlYmVmb3Jlc3RhcnQ6ZnVuY3Rpb24oYil7dGhpcy5fc2xpZGVyVGFyZ2V0PSExLGEoYi5vcmlnaW5hbEV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci10cmFjayIpJiYodGhpcy5fc2xpZGVyVGFyZ2V0PSEwLHRoaXMuX3RhcmdldFZhbD1hKGIudGFyZ2V0KS52YWwoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1iJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1iJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5taW5pIT09YiYmdGhpcy5fc2V0TWluaShhLm1pbmkpLGEuaGlnaGxpZ2h0IT09YiYmdGhpcy5fc2V0SGlnaGxpZ2h0KGEuaGlnaGxpZ2h0KSx0aGlzLl9zdXBlcihhKSx0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPXRoaXMub3B0aW9uczsodGhpcy5faW5wdXRGaXJzdC5pcygiOmRpc2FibGVkIil8fHRoaXMuX2lucHV0TGFzdC5pcygiOmRpc2FibGVkIikpJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSEwKSxhLmZpbmQoImlucHV0Iikuc2xpZGVyKHt0aGVtZTpiLnRoZW1lLHRyYWNrVGhlbWU6Yi50cmFja1RoZW1lLGRpc2FibGVkOmIuZGlzYWJsZWQsY29ybmVyczpiLmNvcm5lcnMsbWluaTpiLm1pbmksaGlnaGxpZ2h0OmIuaGlnaGxpZ2h0fSkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCl9LF9jaGFuZ2U6ZnVuY3Rpb24oYil7aWYoImtleXVwIj09PWIudHlwZSlyZXR1cm4gdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksITE7dmFyIGM9dGhpcyxkPXBhcnNlRmxvYXQodGhpcy5faW5wdXRGaXJzdC52YWwoKSwxMCksZT1wYXJzZUZsb2F0KHRoaXMuX2lucHV0TGFzdC52YWwoKSwxMCksZj1hKGIudGFyZ2V0KS5oYXNDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxnPWY/dGhpcy5faW5wdXRGaXJzdDp0aGlzLl9pbnB1dExhc3QsaD1mP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O2lmKHRoaXMuX2lucHV0Rmlyc3QudmFsKCk+dGhpcy5faW5wdXRMYXN0LnZhbCgpJiYibW91c2Vkb3duIj09PWIudHlwZSYmIWEoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItaGFuZGxlIikpZy5ibHVyKCk7ZWxzZSBpZigibW91c2Vkb3duIj09PWIudHlwZSlyZXR1cm47cmV0dXJuIGQ+ZSYmIXRoaXMuX3NsaWRlclRhcmdldD8oZy52YWwoZj9lOmQpLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpKTpkPmUmJihnLnZhbCh0aGlzLl90YXJnZXRWYWwpLnNsaWRlcigicmVmcmVzaCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnZhbChmP2Q6ZSkuc2xpZGVyKCJyZWZyZXNoIiksYS5kYXRhKGguZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmZvY3VzKCksYy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixmPyIiOjEpLGMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1mPyJmaXJzdCI6Imxhc3QiKSxkPT09ZT8oYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMSksYS5kYXRhKGguZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMCkpOihhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIiksYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsIiIpKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKSxkPj1lPyExOnZvaWQgMH0sX3VwZGF0ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBiPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksYz1wYXJzZUludChhLmRhdGEodGhpcy5faW5wdXRMYXN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksZD1jLWI7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zbGlkZXItYmciKS5jc3MoeyJtYXJnaW4tbGVmdCI6YisiJSIsd2lkdGg6ZCsiJSJ9KX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJ0aGVtZSIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwidGhlbWUiLGEpfSxfc2V0VHJhY2tUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwidHJhY2tUaGVtZSIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwidHJhY2tUaGVtZSIsYSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJtaW5pIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJtaW5pIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLCEhYSl9LF9zZXRIaWdobGlnaHQ6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsImhpZ2hsaWdodCIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwiaGlnaGxpZ2h0IixhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9sYWJlbC5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2NsZWFyQnRuOiExLGNsZWFyQnRuVGV4dDoiQ2xlYXIgdGV4dCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCh0aGlzLm9wdGlvbnMuY2xlYXJCdG58fHRoaXMuaXNTZWFyY2gpJiZ0aGlzLl9hZGRDbGVhckJ0bigpfSxjbGVhckJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXIgdWktYnRuIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1jb3JuZXItYWxsJyB0aXRsZT0nIit0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KyInPiIrdGhpcy5vcHRpb25zLmNsZWFyQnRuVGV4dCsiPC9hPiIpfSxfY2xlYXJCdG5DbGljazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLHRoaXMuX2NsZWFyQnRuLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKSxhLnByZXZlbnREZWZhdWx0KCl9LF9hZGRDbGVhckJ0bjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZUNsZWFyKCksYS5leHRlbmQodGhpcyx7X2NsZWFyQnRuOnRoaXMud2lkZ2V0KCkuZmluZCgiYS51aS1pbnB1dC1jbGVhciIpfSksdGhpcy5fYmluZENsZWFyRXZlbnRzKCksdGhpcy5fdG9nZ2xlQ2xlYXIoKX0sX2VuaGFuY2VDbGVhcjpmdW5jdGlvbigpe3RoaXMuY2xlYXJCdXR0b24oKS5hcHBlbmRUbyh0aGlzLndpZGdldCgpKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKX0sX2JpbmRDbGVhckV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2NsZWFyQnRuLHtjbGljazoiX2NsZWFyQnRuQ2xpY2sifSksdGhpcy5fb24oe2tleXVwOiJfdG9nZ2xlQ2xlYXIiLGNoYW5nZToiX3RvZ2dsZUNsZWFyIixpbnB1dDoiX3RvZ2dsZUNsZWFyIixmb2N1czoiX3RvZ2dsZUNsZWFyIixibHVyOiJfdG9nZ2xlQ2xlYXIiLGN1dDoiX3RvZ2dsZUNsZWFyIixwYXN0ZToiX3RvZ2dsZUNsZWFyIn0pfSxfdW5iaW5kQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5fY2xlYXJCdG4sImNsaWNrIiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCwia2V5dXAgY2hhbmdlIGlucHV0IGZvY3VzIGJsdXIgY3V0IHBhc3RlIil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuY2xlYXJidG49PT1ifHx0aGlzLmVsZW1lbnQuaXMoInRleHRhcmVhLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpIil8fChhLmNsZWFyQnRuP3RoaXMuX2FkZENsZWFyQnRuKCk6dGhpcy5fZGVzdHJveUNsZWFyKCkpLGEuY2xlYXJCdG5UZXh0IT09YiYmdGhpcy5fY2xlYXJCdG4hPT1iJiZ0aGlzLl9jbGVhckJ0bi50ZXh0KGEuY2xlYXJCdG5UZXh0KX0sX3RvZ2dsZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl90b2dnbGVDbGVhckNsYXNzIiwwKX0sX3RvZ2dsZUNsZWFyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckJ0bi50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhdGhpcy5lbGVtZW50LnZhbCgpKX0sX2Rlc3Ryb3lDbGVhcjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksdGhpcy5fdW5iaW5kQ2xlYXIoKS5fY2xlYXJCdG4ucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl9kZXN0cm95Q2xlYXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOnthdXRvZ3JvdzohMCxrZXl1cFRpbWVvdXRCdWZmZXI6MTAwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fYXV0b2dyb3coKX0sX2F1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5fb24oe2tleXVwOiJfdGltZW91dCIsY2hhbmdlOiJfdGltZW91dCIsaW5wdXQ6Il90aW1lb3V0IixwYXN0ZToiX3RpbWVvdXQifSksdGhpcy5fb24oITAsdGhpcy5kb2N1bWVudCx7cGFnZXNob3c6Il9oYW5kbGVTaG93Iixwb3B1cGJlZm9yZXBvc2l0aW9uOiJfaGFuZGxlU2hvdyIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlU2hvdyIscGFuZWxvcGVuOiJfaGFuZGxlU2hvdyJ9KX0sX2hhbmRsZVNob3c6ZnVuY3Rpb24oYil7YS5jb250YWlucyhiLnRhcmdldCx0aGlzLmVsZW1lbnRbMF0pJiZ0aGlzLmVsZW1lbnQuaXMoIjp2aXNpYmxlIikmJigicG9wdXBiZWZvcmVwb3NpdGlvbiIhPT1iLnR5cGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktdGV4dGlucHV0LWF1dG9ncm93LXJlc2l6ZSIpLm9uZSgidHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplIil9LHRoaXMpKSx0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKCkpfSxfdW5iaW5kQXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5lbGVtZW50LCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwicGFnZXNob3cgcG9wdXBiZWZvcmVwb3NpdGlvbiB1cGRhdGVsYXlvdXQgcGFuZWxvcGVuIil9LGtleXVwVGltZW91dDpudWxsLF9wcmVwYXJlSGVpZ2h0VXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMua2V5dXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5rZXl1cFRpbWVvdXQpLGE9PT1iP3RoaXMuX3VwZGF0ZUhlaWdodCgpOnRoaXMua2V5dXBUaW1lb3V0PXRoaXMuX2RlbGF5KCJfdXBkYXRlSGVpZ2h0IixhKX0sX3RpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIpfSxfdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5rZXl1cFRpbWVvdXQ9MCx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6MCwibWluLWhlaWdodCI6MCwibWF4LWhlaWdodCI6MH0pO3ZhciBhLGIsYyxkPXRoaXMuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQsZT10aGlzLmVsZW1lbnRbMF0uY2xpZW50SGVpZ2h0LGY9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLGc9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpLGg9ZitnLGk9ZCtoKzE1OzA9PT1lJiYoYT1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIikpLGI9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxjPWErYixpKz1jKSx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6aSwibWluLWhlaWdodCI6IiIsIm1heC1oZWlnaHQiOiIifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fdXBkYXRlSGVpZ2h0KCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuYXV0b2dyb3chPT1iJiZ0aGlzLmlzVGV4dGFyZWEmJihhLmF1dG9ncm93P3RoaXMuX2F1dG9ncm93KCk6dGhpcy5fdW5iaW5kQXV0b2dyb3coKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5leHRlbmQoe2luaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykpOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcpICkiLG9wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjoiY2FyYXQtZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiExLG92ZXJsYXlUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLG1pbmk6ITF9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+Iil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixhKSx0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5pbmxpbmV8fHRoaXMuZWxlbWVudC5qcW1EYXRhKCJpbmxpbmUiKSxjPXRoaXMub3B0aW9ucy5taW5pfHx0aGlzLmVsZW1lbnQuanFtRGF0YSgibWluaSIpLGQ9IiI7fnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKSYmKGQ9IiB1aS1idG4tbGVmdCIpLH50aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1yaWdodCIpJiYoZD0iIHVpLWJ0bi1yaWdodCIpLGImJihkKz0iIHVpLWJ0bi1pbmxpbmUiKSxjJiYoZCs9IiB1aS1taW5pIiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK2QrIic+IiksdGhpcy5zZWxlY3RJZD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpfHwic2VsZWN0LSIrdGhpcy51dWlkLHRoaXMuYnV0dG9uSWQ9dGhpcy5zZWxlY3RJZCsiLWJ1dHRvbiIsdGhpcy5sYWJlbD1hKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJZCsiJ10iKSx0aGlzLmlzTXVsdGlwbGU9dGhpcy5zZWxlY3RbMF0ubXVsdGlwbGV9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1zZWxlY3QiKTthLmxlbmd0aD4wJiYoYS5pcygiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0IikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpPyJ1aS1idG4tbGVmdCI6InVpLWJ0bi1yaWdodCIpLHRoaXMuZWxlbWVudC5pbnNlcnRBZnRlcihhKSxhLnJlbW92ZSgpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnMsZT1kLmljb24/ZC5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ITEsZj10aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmF0dHIoImlkIix0aGlzLmJ1dHRvbklkKS5hZGRDbGFzcygidWktYnRuIisoZC5pY29uPyIgdWktaWNvbi0iK2QuaWNvbisiIHVpLWJ0bi1pY29uLSIrZSsoZC5pY29uc2hhZG93PyIgdWktc2hhZG93LWljb24iOiIiKToiIikrKGQudGhlbWU/IiB1aS1idG4tIitkLnRoZW1lOiIiKSsoZC5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhkLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpKTt0aGlzLnNldEJ1dHRvblRleHQoKSxkLm5hdGl2ZU1lbnUmJmIub3BlcmEmJmIub3BlcmEudmVyc2lvbiYmZi5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1ib2R5LWluaGVyaXQiKS5oaWRlKCkuYXBwZW5kVG8oZi5hZGRDbGFzcygidWktbGktaGFzLWNvdW50IikpKSwoZC5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtjLnJlZnJlc2goKSxkLm5hdGl2ZU1lbnUmJnRoaXMuYmx1cigpfSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb24odGhpcy5idXR0b24se2tleWRvd246Il9oYW5kbGVLZXlkb3duIn0pLHRoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGIuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSksYi5idXR0b24uYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIubGFiZWwuYmluZCgiY2xpY2sgZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLnNlbGVjdC5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuYnV0dG9uLmJpbmQoIm1vdXNldXAiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS56b29tLmVuYWJsZSghMCl9LDApfSksYi5zZWxlY3QuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZCIpfSxzZWxlY3RlZEluZGljZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLnNlbGVjdGVkKCkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX3NlbGVjdE9wdGlvbnMoKS5pbmRleCh0aGlzKX0pLmdldCgpfSxzZXRCdXR0b25UZXh0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuc2VsZWN0ZWQoKSxlPXRoaXMucGxhY2Vob2xkZXIsZj1hKGMuY3JlYXRlRWxlbWVudCgic3BhbiIpKTt0aGlzLmJ1dHRvbi5jaGlsZHJlbigic3BhbiIpLm5vdCgiLnVpLWxpLWNvdW50IikucmVtb3ZlKCkuZW5kKCkuZW5kKCkucHJlcGVuZChmdW5jdGlvbigpe3JldHVybiBlPWQubGVuZ3RoP2QubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpiLnBsYWNlaG9sZGVyLGU/Zi50ZXh0KGUpOmYuaHRtbCgiJm5ic3A7IiksZi5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9KCkpfSxzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbYS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoYS5sZW5ndGgpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVmcmVzaEJ1dHRvbiIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3JlZnJlc2hCdXR0b246ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKSx0aGlzLnNldEJ1dHRvbkNvdW50KCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoQnV0dG9uKCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITApLHRoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpbmtzPWZ1bmN0aW9uKGIpe2EoYikuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkuZmlsdGVyKCI6anFtRGF0YShyZWw9J3BvcHVwJylbaHJlZl1baHJlZiE9JyddIikuZWFjaChmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmdldEF0dHJpYnV0ZSgiaHJlZiIpLnN1YnN0cmluZygxKTtiJiYoYS5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxhLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixiKSxhLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITEpKX0pLmVuZCgpLm5vdCgiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfX0oYSksZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGU9Yj5hP2MrKGEtYikvMjpNYXRoLm1pbihNYXRoLm1heChjLGQtYi8yKSxjK2EtYil9ZnVuY3Rpb24gZShhKXtyZXR1cm57eDphLnNjcm9sbExlZnQoKSx5OmEuc2Nyb2xsVG9wKCksY3g6YVswXS5pbm5lcldpZHRofHxhLndpZHRoKCksY3k6YVswXS5pbm5lckhlaWdodHx8YS5oZWlnaHQoKX19YS53aWRnZXQoIm1vYmlsZS5wb3B1cCIse29wdGlvbnM6e3dyYXBwZXJDbGFzczpudWxsLHRoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxjbG9zZUxpbmtTZWxlY3RvcjoiYTpqcW1EYXRhKHJlbD0nYmFjaycpIixjbG9zZUxpbmtFdmVudHM6ImNsaWNrLnBvcHVwIixuYXZpZ2F0ZUV2ZW50czoibmF2aWdhdGUucG9wdXAiLGNsb3NlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwIixkaXNtaXNzaWJsZTohMCxlbmhhbmNlZDohMSxoaXN0b3J5OiFhLm1vYmlsZS5icm93c2VyLm9sZElFfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5hdHRyKCJpZCIpLGQ9dGhpcy5vcHRpb25zO2QuaGlzdG9yeT1kLmhpc3RvcnkmJmEubW9iaWxlLmFqYXhFbmFibGVkJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCxhLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6Yi5jbG9zZXN0KCIudWktcGFnZSIpLF91aTpudWxsLF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXF1aXNpdGVzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksMD09PXRoaXMuX3BhZ2UubGVuZ3RoJiYodGhpcy5fcGFnZT1hKCJib2R5IikpLGQuZW5oYW5jZWQ/dGhpcy5fdWk9e2NvbnRhaW5lcjpiLnBhcmVudCgpLHNjcmVlbjpiLnBhcmVudCgpLnByZXYoKSxwbGFjZWhvbGRlcjphKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQoYysiLXBsYWNlaG9sZGVyIikpfToodGhpcy5fdWk9dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihkLnRyYW5zaXRpb24pKSx0aGlzLl9zZXRUb2xlcmFuY2UoZC50b2xlcmFuY2UpLl91aS5mb2N1c0VsZW1lbnQ9dGhpcy5fdWkuY29udGFpbmVyLHRoaXMuX29uKHRoaXMuX3VpLnNjcmVlbix7dmNsaWNrOiJfZWF0RXZlbnRBbmRDbG9zZSJ9KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7b3JpZW50YXRpb25jaGFuZ2U6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2UiKSxyZXNpemU6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93UmVzaXplIiksa2V5dXA6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93S2V5VXAiKX0pLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46Il9oYW5kbGVEb2N1bWVudEZvY3VzSW4ifSl9LF9lbmhhbmNlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5vcHRpb25zLGU9ZC53cmFwcGVyQ2xhc3MsZj17c2NyZWVuOmEoIjxkaXYgY2xhc3M9J3VpLXNjcmVlbi1oaWRkZW4gdWktcG9wdXAtc2NyZWVuICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLW92ZXJsYXktIixkLm92ZXJsYXlUaGVtZSkrIic+PC9kaXY+IikscGxhY2Vob2xkZXI6YSgiPGRpdiBzdHlsZT0nZGlzcGxheTogbm9uZTsnPjwhLS0gcGxhY2Vob2xkZXIgLS0+PC9kaXY+IiksY29udGFpbmVyOmEoIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWNvbnRhaW5lciB1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKyhlPyIgIitlOiIiKSsiJz48L2Rpdj4iKX0sZz10aGlzLmRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gZy5hcHBlbmRDaGlsZChmLnNjcmVlblswXSksZy5hcHBlbmRDaGlsZChmLmNvbnRhaW5lclswXSksYyYmKGYuc2NyZWVuLmF0dHIoImlkIixjKyItc2NyZWVuIiksZi5jb250YWluZXIuYXR0cigiaWQiLGMrIi1wb3B1cCIpLGYucGxhY2Vob2xkZXIuYXR0cigiaWQiLGMrIi1wbGFjZWhvbGRlciIpLmh0bWwoIjwhLS0gcGxhY2Vob2xkZXIgZm9yICIrYysiIC0tPiIpKSx0aGlzLl9wYWdlWzBdLmFwcGVuZENoaWxkKGcpLGYucGxhY2Vob2xkZXIuaW5zZXJ0QWZ0ZXIoYiksYi5kZXRhY2goKS5hZGRDbGFzcygidWktcG9wdXAgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGQudGhlbWUpKyIgIisoZC5zaGFkb3c/InVpLW92ZXJsYXktc2hhZG93ICI6IiIpKyhkLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikpLmFwcGVuZFRvKGYuY29udGFpbmVyKSxmfSxfZWF0RXZlbnRBbmRDbG9zZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLmNsb3NlKCksITF9LF9yZXNpemVTY3JlZW46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aS5zY3JlZW4sYj10aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApLGM9YS5yZW1vdmVBdHRyKCJzdHlsZSIpLmhlaWdodCgpLGQ9dGhpcy5kb2N1bWVudC5oZWlnaHQoKS0xO2Q+Yz9hLmhlaWdodChkKTpiPmMmJmEuaGVpZ2h0KGIpfSxfaGFuZGxlV2luZG93S2V5VXA6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX2lzT3BlbiYmYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FU0NBUEU/dGhpcy5fZWF0RXZlbnRBbmRDbG9zZShiKTp2b2lkIDB9LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciBhPWUodGhpcy53aW5kb3cpO2lmKHRoaXMuX3Jlc2l6ZURhdGEpe2lmKGEueD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueCYmYS55PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy55JiZhLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeCYmYS5jeT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3kpcmV0dXJuITE7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkKX1yZXR1cm4gdGhpcy5fcmVzaXplRGF0YT17dGltZW91dElkOnRoaXMuX2RlbGF5KCJfcmVzaXplVGltZW91dCIsMjAwKSx3aW5kb3dDb29yZGluYXRlczphfSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIikmJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLHRoaXMucmVwb3NpdGlvbih7cG9zaXRpb25Ubzoid2luZG93In0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9zdG9wSWdub3JpbmdSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbz0wfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89dGhpcy5fZGVsYXkoIl9zdG9wSWdub3JpbmdSZXNpemVFdmVudHMiLDFlMyl9LF9oYW5kbGVXaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKCF0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpJiYhdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzfHx0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpfHx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLnJlbW92ZUF0dHIoInN0eWxlIikpfSxfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2U6ZnVuY3Rpb24oKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbihiKXt2YXIgYyxkPWIudGFyZ2V0LGU9dGhpcy5fdWk7aWYodGhpcy5faXNPcGVuKXtpZihkIT09ZS5jb250YWluZXJbMF0pe2lmKGM9YShkKSwwPT09Yy5wYXJlbnRzKCkuZmlsdGVyKGUuY29udGFpbmVyWzBdKS5sZW5ndGgpcmV0dXJuIGEodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5vbmUoImZvY3VzIixmdW5jdGlvbigpe2MuYmx1cigpfSksZS5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtlLmZvY3VzRWxlbWVudFswXT09PWUuY29udGFpbmVyWzBdJiYoZS5mb2N1c0VsZW1lbnQ9Yyl9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjphKyJpbmhlcml0In0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXtyZXR1cm4gYiYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLCJub25lIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksIm5vbmUiPT09dGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPSIiKSx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSkpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPXRoaXMuX3VpLnNjcmVlbjtyZXR1cm4gYS53cmFwcGVyQ2xhc3MhPT1jJiZ0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLnRoZW1lIT09YyYmZC5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGIudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGEudGhlbWUpKSxhLm92ZXJsYXlUaGVtZSE9PWMmJihlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsYi5vdmVybGF5VGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGEub3ZlcmxheVRoZW1lKSksdGhpcy5faXNPcGVuJiZlLmFkZENsYXNzKCJpbiIpKSxhLnNoYWRvdyE9PWMmJmQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdyksYS5jb3JuZXJzIT09YyYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLnRyYW5zaXRpb24hPT1jJiYodGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihhLnRyYW5zaXRpb24pKSxhLnRvbGVyYW5jZSE9PWMmJnRoaXMuX3NldFRvbGVyYW5jZShhLnRvbGVyYW5jZSksYS5kaXNhYmxlZCE9PWMmJmEuZGlzYWJsZWQmJnRoaXMuY2xvc2UoKSx0aGlzLl9zdXBlcihhKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoIiwiKSxhLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KSxkLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGRbMF0pfHwoZS50PWUucj1lLmI9ZS5sPWRbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihkWzBdKXx8KGUudD1lLmI9ZFswXSksaXNOYU4oZFsxXSl8fChlLmw9ZS5yPWRbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihkWzBdKXx8KGUudD1kWzBdKSxpc05hTihkWzFdKXx8KGUucj1kWzFdKSxpc05hTihkWzJdKXx8KGUuYj1kWzJdKSxpc05hTihkWzNdKXx8KGUubD1kWzNdKX1yZXR1cm4gdGhpcy5fdG9sZXJhbmNlPWUsdGhpc30sX2NsYW1wUG9wdXBXaWR0aDpmdW5jdGlvbihhKXt2YXIgYixjPWUodGhpcy53aW5kb3cpLGQ9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpjLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6Yy5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpjLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifTtyZXR1cm4gYXx8dGhpcy5fdWkuY29udGFpbmVyLmNzcygibWF4LXdpZHRoIixkLmN4KSxiPXtjeDp0aGlzLl91aS5jb250YWluZXIub3V0ZXJXaWR0aCghMCksY3k6dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKX0se3JjOmQsbWVudVNpemU6Yn19LF9jYWxjdWxhdGVGaW5hbExvY2F0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1iLnJjLGY9Yi5tZW51U2l6ZTtyZXR1cm4gYz17bGVmdDpkKGUuY3gsZi5jeCxlLngsYS54KSx0b3A6ZChlLmN5LGYuY3ksZS55LGEueSl9LGMudG9wPU1hdGgubWF4KDAsYy50b3ApLGMudG9wLT1NYXRoLm1pbihjLnRvcCxNYXRoLm1heCgwLGMudG9wK2YuY3ktdGhpcy5kb2N1bWVudC5oZWlnaHQoKSkpLGN9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oYSx0aGlzLl9jbGFtcFBvcHVwV2lkdGgoKSl9LF9jcmVhdGVQcmVyZXF1aXNpdGVzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7ZT17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxlLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmIoKX0pLGUuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxdWlzaXRlcyYmYygpfSksYS53aGVuKGUuc2NyZWVuLGUuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJihmLl9wcmVyZXF1aXNpdGVzPW51bGwsZCgpKX0pLGYuX3ByZXJlcXVpc2l0ZXM9ZX0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXF1aXNpdGVzLnNjcmVlbi5yZXNvbHZlKCksYi50cmFuc2l0aW9uJiYibm9uZSIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT8odGhpcy5fdWkuY29udGFpbmVyLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lciwicmVzb2x2ZSIpKS5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksdm9pZCAwKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lci5yZXNvbHZlKCksdm9pZCAwKQp9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9bnVsbCxmPWUodGhpcy53aW5kb3cpLGc9Yi54LGg9Yi55LGk9Yi5wb3NpdGlvblRvO2lmKGkmJiJvcmlnaW4iIT09aSlpZigid2luZG93Ij09PWkpZz1mLmN4LzIrZi54LGg9Zi5jeS8yK2YueTtlbHNle3RyeXtkPWEoaSl9Y2F0Y2goail7ZD1udWxsfWQmJihkLmZpbHRlcigiOnZpc2libGUiKSwwPT09ZC5sZW5ndGgmJihkPW51bGwpKX1yZXR1cm4gZCYmKGM9ZC5vZmZzZXQoKSxnPWMubGVmdCtkLm91dGVyV2lkdGgoKS8yLGg9Yy50b3ArZC5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoIm51bWJlciIhPT1hLnR5cGUoaCl8fGlzTmFOKGgpKSYmKGg9Zi5jeS8yK2YueSkse3g6Zyx5Omh9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihhKXthPXt4OmEueCx5OmEueSxwb3NpdGlvblRvOmEucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGMsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSxhJiZ0aGlzLmRvY3VtZW50LmZpbmQoIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11bYXJpYS1vd25zPSciK2ErIiddIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuX3RyaWdnZXIoImFmdGVyb3BlbiIpfSxfb3BlbjpmdW5jdGlvbihiKXt2YXIgYz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksZD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGM9ISFiJiZiWzFdLGQ9YS5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGU9ISFkJiZkWzFdLGY9YS5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gbnVsbCE9PWQmJiI0LjAiPT09ZSYmYyYmYz41MzQuMTMmJiFmPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5ub29wLGEubm9vcCxhLnByb3h5KHRoaXMsIl9vcGVuUHJlcmVxdWlzaXRlc0NvbXBsZXRlIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWMudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oYy50cmFuc2l0aW9uKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLXRydW5jYXRlIiksdGhpcy5fcmVwb3NpdGlvbihjKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJmQmJnRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjohMCx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiIiLHNjcmVlbkNsYXNzVG9BZGQ6ImluIixjb250YWluZXJDbGFzc1RvQWRkOiJpbiIsYXBwbHlUcmFuc2l0aW9uOiExLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW46ZnVuY3Rpb24oKXt0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoIm91dCIpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LF9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lcjpmdW5jdGlvbigpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygicmV2ZXJzZSBvdXQiKS5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIikucmVtb3ZlQXR0cigic3R5bGUiKX0sX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl91aS5jb250YWluZXIsZD10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTtiLnJlbW92ZUF0dHIoInRhYmluZGV4IiksYS5tb2JpbGUucG9wdXAuYWN0aXZlPWMsYSgiOmZvY3VzIixiWzBdKS5hZGQoYlswXSkuYmx1cigpLGQmJnRoaXMuZG9jdW1lbnQuZmluZCgiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9JyIrZCsiJ10iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktaW5oZXJpdCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksdGhpcy53aW5kb3cub2ZmKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMud2luZG93Lm9uKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KHRoaXMsIl9jbG9zZVBvcHVwIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY29udGFpbmVyfSxvcGVuOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPXRoaXMsaj10aGlzLm9wdGlvbnM7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZXx8ai5kaXNhYmxlZD90aGlzOihhLm1vYmlsZS5wb3B1cC5hY3RpdmU9dGhpcyx0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksai5oaXN0b3J5PyhoPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnksZD1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGU9YS5tb2JpbGUuYWN0aXZlUGFnZSxmPWU/ZS5oYXNDbGFzcygidWktZGlhbG9nIik6ITEsdGhpcy5fbXlVcmw9Yz1oLmdldEFjdGl2ZSgpLnVybCwoZz1jLmluZGV4T2YoZCk+LTEmJiFmJiZoLmFjdGl2ZUluZGV4PjApPyhpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLHRoaXMpOigtMSE9PWMuaW5kZXhPZihkKXx8Zj9jPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZDpjKz1jLmluZGV4T2YoIiMiKT4tMT9kOiIjIitkLDA9PT1oLmFjdGl2ZUluZGV4JiZjPT09aC5pbml0aWFsRHN0JiYoYys9ZCksdGhpcy53aW5kb3cub25lKCJiZWZvcmVuYXZpZ2F0ZSIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCl9KSx0aGlzLnVybEFsdGVyZWQ9ITAsYS5tb2JpbGUubmF2aWdhdGUoYyx7cm9sZToiZGlhbG9nIn0pLHRoaXMpKTooaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxpLmVsZW1lbnQuZGVsZWdhdGUoai5jbG9zZUxpbmtTZWxlY3RvcixqLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihhKXtpLmNsb3NlKCksYS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcykpfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmUhPT10aGlzP3RoaXM6KHRoaXMuX3Njcm9sbFRvcD10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy51cmxBbHRlcmVkPyhhLm1vYmlsZS5iYWNrKCksdGhpcy51cmxBbHRlcmVkPSExKTp0aGlzLl9jbG9zZVBvcHVwKCksdGhpcyl9fSksYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluaz1mdW5jdGlvbihiKXt2YXIgYyxkPWEubW9iaWxlLnBhdGgsZT1hKGQuaGFzaFRvU2VsZWN0b3IoZC5wYXJzZVVybChiLmF0dHIoImhyZWYiKSkuaGFzaCkpLmZpcnN0KCk7ZS5sZW5ndGg+MCYmZS5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGM9Yi5vZmZzZXQoKSxlLnBvcHVwKCJvcGVuIix7eDpjLmxlZnQrYi5vdXRlcldpZHRoKCkvMix5OmMudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25UbzpiLmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSxhLm1vYmlsZS5kb2N1bWVudC5vbigicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXsicG9wdXAiPT09Yy5vcHRpb25zLnJvbGUmJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9Ii51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIsLnVpLXNjcmVlbi1oaWRkZW4sOmpxbURhdGEocm9sZT0ncGxhY2Vob2xkZXInKSIsZT1mdW5jdGlvbihhLGIsYyl7dmFyIGU9YVtjKyJBbGwiXSgpLm5vdChkKS5maXJzdCgpO2UubGVuZ3RoJiYoYi5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGUuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSl9O2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUuc2VsZWN0bWVudSx7X2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucztyZXR1cm4gYS5uYXRpdmVNZW51PWEubmF0aXZlTWVudXx8dGhpcy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJyksOm1vYmlsZS1wb3B1cCIpLmxlbmd0aD4wLHRoaXMuX3N1cGVyKCl9LF9oYW5kbGVTZWxlY3RGb2N1czpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5ibHVyKCksdGhpcy5idXR0b24uZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksdGhpcy5faGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bihhKX0sX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd246ZnVuY3Rpb24oYil7dGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmlzT3Blbnx8KCJ2Y2xpY2siPT09Yi50eXBlfHxiLmtleUNvZGUmJihiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSkmJih0aGlzLl9kZWNpZGVGb3JtYXQoKSwib3ZlcmxheSI9PT10aGlzLm1lbnVUeXBlP3RoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLnBvcHVwSWQpLmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsicmVsIiwicG9wdXAiKTp0aGlzLmJ1dHRvbi5hdHRyKCJocmVmIiwiIyIrdGhpcy5kaWFsb2dJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJkaWFsb2ciKSx0aGlzLmlzT3Blbj0hMCl9LF9oYW5kbGVMaXN0Rm9jdXM6ZnVuY3Rpb24oYil7dmFyIGM9ImZvY3VzaW4iPT09Yi50eXBlP3t0YWJpbmRleDoiMCIsZXZlbnQ6InZtb3VzZW92ZXIifTp7dGFiaW5kZXg6Ii0xIixldmVudDoidm1vdXNlb3V0In07YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLGMudGFiaW5kZXgpLnRyaWdnZXIoYy5ldmVudCl9LF9oYW5kbGVMaXN0S2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuY2xvc2VzdCgibGkiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBlKGQsYywicHJldiIpLCExO2Nhc2UgNDA6cmV0dXJuIGUoZCxjLCJuZXh0IiksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBjLnRyaWdnZXIoImNsaWNrIiksITF9fSxfaGFuZGxlTWVudVBhZ2VIaWRlOmZ1bmN0aW9uKCl7dGhpcy50aGlzUGFnZS5wYWdlKCJiaW5kUmVtb3ZlIil9LF9oYW5kbGVIZWFkZXJDbG9zZUNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIm92ZXJsYXkiPT09dGhpcy5tZW51VHlwZT8odGhpcy5jbG9zZSgpLCExKTp2b2lkIDB9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdj10aGlzLm9wdGlvbnM7cmV0dXJuIHYubmF0aXZlTWVudT90aGlzLl9zdXBlcigpOih1PXRoaXMsYz10aGlzLnNlbGVjdElkLGQ9YysiLWxpc3Rib3giLGU9YysiLWRpYWxvZyIsZj10aGlzLmxhYmVsLGc9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksaD10aGlzLmVsZW1lbnRbMF0ubXVsdGlwbGUsaT1jKyItbWVudSIsaj12LnRoZW1lPyIgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIit2LnRoZW1lKyInIjoiIixrPXYub3ZlcmxheVRoZW1lPyIgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIit2Lm92ZXJsYXlUaGVtZSsiJyI6IiIsbD12LmRpdmlkZXJUaGVtZSYmaD8iIGRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZT0nIit2LmRpdmlkZXJUaGVtZSsiJyI6IiIsbT1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBjbGFzcz0ndWktc2VsZWN0bWVudScgaWQ9JyIrZSsiJyIraitrKyI+IisiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+IisiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZi5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj4iKyI8L2Rpdj4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+IisiPC9kaXY+Iiksbj1hKCI8ZGl2IGlkPSciK2QrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPiIpLmluc2VydEFmdGVyKHRoaXMuc2VsZWN0KS5wb3B1cCh7dGhlbWU6di5vdmVybGF5VGhlbWV9KSxvPWEoIjx1bCBjbGFzcz0ndWktc2VsZWN0bWVudS1saXN0JyBpZD0nIitpKyInIHJvbGU9J2xpc3Rib3gnIGFyaWEtbGFiZWxsZWRieT0nIit0aGlzLmJ1dHRvbklkKyInIitqK2wrIj4iKS5hcHBlbmRUbyhuKSxwPWEoIjxkaXYgY2xhc3M9J3VpLWhlYWRlciB1aS1iYXItIisodi50aGVtZT92LnRoZW1lOiJpbmhlcml0IikrIic+IikucHJlcGVuZFRvKG4pLHE9YSgiPGgxIGNsYXNzPSd1aS10aXRsZSc+IikuYXBwZW5kVG8ocCksdGhpcy5pc011bHRpcGxlJiYodD1hKCI8YT4iLHtyb2xlOiJidXR0b24iLHRleHQ6di5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktYnRuLWxlZnQgdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tZGVsZXRlIn0pLmFwcGVuZFRvKHApKSxhLmV4dGVuZCh0aGlzLHtzZWxlY3RJZDpjLG1lbnVJZDppLHBvcHVwSWQ6ZCxkaWFsb2dJZDplLHRoaXNQYWdlOmcsbWVudVBhZ2U6bSxsYWJlbDpmLGlzTXVsdGlwbGU6aCx0aGVtZTp2LnRoZW1lLGxpc3Rib3g6bixsaXN0Om8saGVhZGVyOnAsaGVhZGVyVGl0bGU6cSxoZWFkZXJDbG9zZTp0LG1lbnVQYWdlQ29udGVudDpyLG1lbnVQYWdlQ2xvc2U6cyxwbGFjZWhvbGRlcjoiIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29yaWdUYWJJbmRleD09PWImJih0aGlzLl9vcmlnVGFiSW5kZXg9bnVsbD09PXRoaXMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKT8hMTp0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIpKSx0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIiksdGhpcy5fb24odGhpcy5zZWxlY3Qse2ZvY3VzOiJfaGFuZGxlU2VsZWN0Rm9jdXMifSksdGhpcy5fb24odGhpcy5idXR0b24se3ZjbGljazoiX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24ifSksdGhpcy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IiksdGhpcy5fb24odGhpcy5saXN0LHtmb2N1c2luOiJfaGFuZGxlTGlzdEZvY3VzIixmb2N1c291dDoiX2hhbmRsZUxpc3RGb2N1cyIsa2V5ZG93bjoiX2hhbmRsZUxpc3RLZXlkb3duIn0pLHRoaXMubGlzdC5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPXUuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywib3B0aW9uLWluZGV4IiksZT11Ll9zZWxlY3RPcHRpb25zKCkuZXEoZClbMF07ZS5zZWxlY3RlZD11LmlzTXVsdGlwbGU/IWUuc2VsZWN0ZWQ6ITAsdS5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoImEiKS50b2dnbGVDbGFzcygidWktY2hlY2tib3gtb24iLGUuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKCJ1aS1jaGVja2JveC1vZmYiLCFlLnNlbGVjdGVkKSwodS5pc011bHRpcGxlfHxjIT09ZCkmJnUuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLHUuaXNNdWx0aXBsZT91Lmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmVxKGQpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6dS5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0pLHRoaXMuX29uKHRoaXMubWVudVBhZ2Use3BhZ2VoaWRlOiJfaGFuZGxlTWVudVBhZ2VIaWRlIn0pLHRoaXMuX29uKHRoaXMubGlzdGJveCx7cG9wdXBhZnRlcmNsb3NlOiJjbG9zZSJ9KSx0aGlzLmlzTXVsdGlwbGUmJnRoaXMuX29uKHRoaXMuaGVhZGVyQ2xvc2Use2NsaWNrOiJfaGFuZGxlSGVhZGVyQ2xvc2VDbGljayJ9KSx0aGlzKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoImxpIiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCkubm90KCIudWktc2NyZWVuLWhpZGRlbiIpO3JldHVybiBiLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkiKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcihiKTooYz10aGlzLChifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCksZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpLGMuc2V0QnV0dG9uVGV4dCgpLGMuc2V0QnV0dG9uQ291bnQoKSxjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZW5kKCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsZCk+LTEpe3ZhciBlPWEodGhpcyk7ZS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksYy5pc011bHRpcGxlP2UuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktY2hlY2tib3gtb24iKTplLmhhc0NsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik/ZS5uZXh0KCkuZmluZCgiYSIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTplLmZpbmQoImEiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSksdm9pZCAwKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGE9dGhpczsicGFnZSI9PT1hLm1lbnVUeXBlPyhhLm1lbnVQYWdlLmRpYWxvZygiY2xvc2UiKSxhLmxpc3QuYXBwZW5kVG8oYS5saXN0Ym94KSk6YS5saXN0Ym94LnBvcHVwKCJjbG9zZSIpLGEuX2ZvY3VzQnV0dG9uKCksYS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2ZvY3VzTWVudUl0ZW06ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxpc3QuZmluZCgiYS4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTswPT09Yi5sZW5ndGgmJihiPXRoaXMubGlzdC5maW5kKCJsaTpub3QoIitkKyIpIGEudWktYnRuIikpLGIuZmlyc3QoKS5mb2N1cygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1iLm1lbnVQYWdlLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixnKX0pLGIubWVudVBhZ2Uub25lKHtwYWdlc2hvdzphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLCJjbG9zZSIpfSksYi5tZW51VHlwZT0icGFnZSIsYi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCksYi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLnRleHQoKSkpOihiLm1lbnVUeXBlPSJvdmVybGF5IixiLmxpc3Rib3gub25lKHtwb3B1cGFmdGVyb3BlbjphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIil9KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9dGhpcyxyPXRoaXMub3B0aW9ucyxzPXRoaXMucGxhY2Vob2xkZXIsdD0hMCx1PSJmYWxzZSIsdj0iZGF0YS0iK2EubW9iaWxlLm5zLHc9disib3B0aW9uLWluZGV4Iix4PXYrImljb24iLHk9disicm9sZSIsej12KyJwbGFjZWhvbGRlciIsQT1jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxCPSExO2ZvcihxLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95IiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCksZD1iLmxlbmd0aCxlPXRoaXMuc2VsZWN0WzBdLGc9MDtkPmc7ZysrLEI9ITEpaD1iW2ddLGk9YShoKSxpLmhhc0NsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil8fChqPWgucGFyZW50Tm9kZSxrPWkudGV4dCgpLGw9Yy5jcmVhdGVFbGVtZW50KCJhIiksbT1bXSxsLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxsLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoaykpLGohPT1lJiYib3B0Z3JvdXAiPT09ai5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYobj1qLmdldEF0dHJpYnV0ZSgibGFiZWwiKSxuIT09ZiYmKG89Yy5jcmVhdGVFbGVtZW50KCJsaSIpLG8uc2V0QXR0cmlidXRlKHksImxpc3QtZGl2aWRlciIpLG8uc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksby5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxvLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUobikpLEEuYXBwZW5kQ2hpbGQobyksZj1uKSksIXR8fGguZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpJiYwIT09ay5sZW5ndGgmJiFpLmpxbURhdGEoInBsYWNlaG9sZGVyIil8fCh0PSExLEI9ITAsbnVsbD09PWguZ2V0QXR0cmlidXRlKHopJiYodGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyPSEwKSxoLnNldEF0dHJpYnV0ZSh6LCEwKSxyLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmbS5wdXNoKCJ1aS1zY3JlZW4taGlkZGVuIikscyE9PWsmJihzPXEucGxhY2Vob2xkZXI9aykpLHA9Yy5jcmVhdGVFbGVtZW50KCJsaSIpLGguZGlzYWJsZWQmJihtLnB1c2goInVpLXN0YXRlLWRpc2FibGVkIikscC5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSkscC5zZXRBdHRyaWJ1dGUodyxnKSxwLnNldEF0dHJpYnV0ZSh4LHUpLEImJnAuc2V0QXR0cmlidXRlKHosITApLHAuY2xhc3NOYW1lPW0uam9pbigiICIpLHAuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksbC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSx0aGlzLmlzTXVsdGlwbGUmJmEobCkuYWRkQ2xhc3MoInVpLWJ0biB1aS1jaGVja2JveC1vZmYgdWktYnRuLWljb24tcmlnaHQiKSxwLmFwcGVuZENoaWxkKGwpLEEuYXBwZW5kQ2hpbGQocCkpO3EubGlzdFswXS5hcHBlbmRDaGlsZChBKSx0aGlzLmlzTXVsdGlwbGV8fHMubGVuZ3RoP3RoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTp0aGlzLmhlYWRlci5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHEubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6YSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDp0aGlzLmJ1dHRvbklkLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6dGhpcy5tZW51SWR9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMubmF0aXZlTWVudXx8KHRoaXMuY2xvc2UoKSx0aGlzLl9vcmlnVGFiSW5kZXghPT1iJiYodGhpcy5fb3JpZ1RhYkluZGV4IT09ITE/dGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLHRoaXMuX29yaWdUYWJJbmRleCk6dGhpcy5zZWxlY3QucmVtb3ZlQXR0cigidGFiaW5kZXgiKSksdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyJiZ0aGlzLl9zZWxlY3RPcHRpb25zKCkucmVtb3ZlQXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJwbGFjZWhvbGRlciIpLHRoaXMubGlzdGJveC5yZW1vdmUoKSx0aGlzLm1lbnVQYWdlLnJlbW92ZSgpKSx0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXt2YXIgYz1iP2I6W107cmV0dXJuIGMucHVzaCgidWktYnRuIiksYS50aGVtZSYmYy5wdXNoKCJ1aS1idG4tIithLnRoZW1lKSxhLmljb24mJihjPWMuY29uY2F0KFsidWktaWNvbi0iK2EuaWNvbiwidWktYnRuLWljb24tIithLmljb25wb3NdKSxhLmljb25zaGFkb3cmJmMucHVzaCgidWktc2hhZG93LWljb24iKSksYS5pbmxpbmUmJmMucHVzaCgidWktYnRuLWlubGluZSIpLGEuc2hhZG93JiZjLnB1c2goInVpLXNoYWRvdyIpLGEuY29ybmVycyYmYy5wdXNoKCJ1aS1jb3JuZXItYWxsIiksYS5taW5pJiZjLnB1c2goInVpLW1pbmkiKSxjfWZ1bmN0aW9uIGQoYSl7dmFyIGMsZCxlLGc9ITEsaD0hMCxpPXtpY29uOiIiLGlubGluZTohMSxzaGFkb3c6ITEsY29ybmVyczohMSxpY29uc2hhZG93OiExLG1pbmk6ITF9LGo9W107Zm9yKGE9YS5zcGxpdCgiICIpLGM9MDtjPGEubGVuZ3RoO2MrKyllPSEwLGQ9ZlthW2NdXSxkIT09Yj8oZT0hMSxpW2RdPSEwKTowPT09YVtjXS5pbmRleE9mKCJ1aS1idG4taWNvbi0iKT8oZT0hMSxoPSExLGkuaWNvbnBvcz1hW2NdLnN1YnN0cmluZygxMikpOjA9PT1hW2NdLmluZGV4T2YoInVpLWljb24tIik/KGU9ITEsaS5pY29uPWFbY10uc3Vic3RyaW5nKDgpKTowPT09YVtjXS5pbmRleE9mKCJ1aS1idG4tIikmJjg9PT1hW2NdLmxlbmd0aD8oZT0hMSxpLnRoZW1lPWFbY10uc3Vic3RyaW5nKDcpKToidWktYnRuIj09PWFbY10mJihlPSExLGc9ITApLGUmJmoucHVzaChhW2NdKTtyZXR1cm4gaCYmKGkuaWNvbj0iIikse29wdGlvbnM6aSx1bmtub3duQ2xhc3NlczpqLGFscmVhZHlFbmhhbmNlZDpnfX1mdW5jdGlvbiBlKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9dmFyIGY9eyJ1aS1zaGFkb3ciOiJzaGFkb3ciLCJ1aS1jb3JuZXItYWxsIjoiY29ybmVycyIsInVpLWJ0bi1pbmxpbmUiOiJpbmxpbmUiLCJ1aS1zaGFkb3ctaWNvbiI6Imljb25zaGFkb3ciLCJ1aS1taW5pIjoibWluaSJ9LGc9ZnVuY3Rpb24oKXt2YXIgYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBudWxsPT1jP2I6Y30saD0vW0EtWl0vZzthLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihmLGkpe3ZhciBqLGssbCxtLG4sbz1hLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cztmb3Ioaj0wO2o8dGhpcy5sZW5ndGg7aisrKXtpZihsPXRoaXNbal0saz1pP3thbHJlYWR5RW5oYW5jZWQ6ITEsdW5rbm93bkNsYXNzZXM6W119OmQobC5jbGFzc05hbWUpLG09YS5leHRlbmQoe30say5hbHJlYWR5RW5oYW5jZWQ/ay5vcHRpb25zOnt9LGYpLCFrLmFscmVhZHlFbmhhbmNlZClmb3IobiBpbiBvKW1bbl09PT1iJiYobVtuXT1nKGwsbi5yZXBsYWNlKGgsZSkpKTtsLmNsYXNzTmFtZT1jKGEuZXh0ZW5kKHt9LG8sbSksay51bmtub3duQ2xhc3Nlcykuam9pbigiICIpLCJidXR0b24iIT09bC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmwuc2V0QXR0cmlidXRlKCJyb2xlIiwiYnV0dG9uIil9cmV0dXJuIHRoaXN9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtpY29uOiIiLGljb25wb3M6ImxlZnQiLHRoZW1lOm51bGwsaW5saW5lOiExLHNoYWRvdzohMCxjb3JuZXJzOiEwLGljb25zaGFkb3c6ITEsbWluaTohMX0sYS5leHRlbmQoYS5mbi5idXR0b25NYXJrdXAse2luaXRTZWxlY3RvcjoiYTpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSwgYnV0dG9uIn0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY29udHJvbGdyb3VwIixhLmV4dGVuZCh7b3B0aW9uczp7ZW5oYW5jZWQ6ITEsdGhlbWU6bnVsbCxzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2EuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmVsZW1lbnQuZmluZChhLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IpLmJ1dHRvbk1hcmt1cCgpLGEuZWFjaCh0aGlzLl9jaGlsZFdpZGdldHMsYS5wcm94eShmdW5jdGlvbihiLGMpe2EubW9iaWxlW2NdJiZ0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZVtjXS5pbml0U2VsZWN0b3IpLm5vdChhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSlbY10oKX0sdGhpcykpLGEuZXh0ZW5kKHRoaXMse191aTpudWxsLF9pbml0aWFsUmVmcmVzaDohMH0pLHRoaXMuX3VpPWMuZW5oYW5jZWQ/e2dyb3VwTGVnZW5kOmIuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtbGFiZWwiKS5jaGlsZHJlbigpLGNoaWxkV3JhcHBlcjpiLmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIil9OnRoaXMuX2VuaGFuY2UoKX0sX2NoaWxkV2lkZ2V0czpbImNoZWNrYm94cmFkaW8iLCJzZWxlY3RtZW51IiwiYnV0dG9uIl0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhPyJub25lIj09PWE/IiI6InVpLWdyb3VwLXRoZW1lLSIrYToiIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD17Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbigibGVnZW5kIiksY2hpbGRXcmFwcGVyOmIuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIisoImhvcml6b250YWwiPT09Yy50eXBlPyJob3Jpem9udGFsIjoidmVydGljYWwiKSsiICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkrIiAiKyhjLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikrKGMubWluaT8idWktbWluaSAiOiIiKSkud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMgIisoYy5zaGFkb3c9PT0hMD8idWktc2hhZG93IjoiIikrIic+PC9kaXY+IikuY2hpbGRyZW4oKX07cmV0dXJuIGQuZ3JvdXBMZWdlbmQubGVuZ3RoPjAmJmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+IikuYXBwZW5kKGQuZ3JvdXBMZWdlbmQpLnByZXBlbmRUbyhiKSxkfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGU9dGhpcy5lbGVtZW50O3JldHVybiBhLnR5cGUhPT1iJiYoZS5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1hLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKSxjPSEwKSxhLnRoZW1lIT09YiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbih0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihhLnRoZW1lKSksYS5jb3JuZXJzIT09YiYmZS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLm1pbmkhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLGEuc2hhZG93IT09YiYmdGhpcy5fdWkuY2hpbGRXcmFwcGVyLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGEuc2hhZG93KSxhLmV4Y2x1ZGVJbnZpc2libGUhPT1iJiYodGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU9YS5leGNsdWRlSW52aXNpYmxlLGM9ITApLGQ9dGhpcy5fc3VwZXIoYSksYyYmdGhpcy5yZWZyZXNoKCksZH0sY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VpLmNoaWxkV3JhcHBlcn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29udGFpbmVyKCksYz1iLmZpbmQoIi51aS1idG4iKS5ub3QoIi51aS1zbGlkZXItaGFuZGxlIiksZD10aGlzLl9pbml0aWFsUmVmcmVzaDthLm1vYmlsZS5jaGVja2JveHJhZGlvJiZiLmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGMsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXMoYyxkKTpjLGQpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhLGIsYz10aGlzLm9wdGlvbnM7cmV0dXJuIGMuZW5oYW5jZWQ/dGhpczooYT10aGlzLl91aSxiPXRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCB1aS1jb3JuZXItYWxsIHVpLW1pbmkgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKSkuZmluZCgiLnVpLWJ0biIpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSx0aGlzLl9yZW1vdmVGaXJzdExhc3RDbGFzc2VzKGIpLGEuZ3JvdXBMZWdlbmQudW53cmFwKCksYS5jaGlsZFdyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSx2b2lkIDApfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdoZWFkZXInKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxhZGRCYWNrQnRuOiExLGJhY2tCdG5UaGVtZTpudWxsLGJhY2tCdG5UZXh0OiJCYWNrIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciIsZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTswPT09ZS5sZW5ndGgmJihlPSExLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OiJyZWZyZXNoIn0pKSxhLmV4dGVuZCh0aGlzLHtyb2xlOmQscGFnZTplLGxlZnRidG46YixyaWdodGJ0bjpjLGJhY2tCdG46bnVsbH0pLHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwiaGVhZGVyIj09PWQ/ImJhbm5lciI6ImNvbnRlbnRpbmZvIikuYWRkQ2xhc3MoInVpLSIrZCksdGhpcy5yZWZyZXNoKCksdGhpcy5fc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtpZihjLmFkZEJhY2tCdG4hPT1iJiYodGhpcy5vcHRpb25zLmFkZEJhY2tCdG4mJiJoZWFkZXIiPT09dGhpcy5yb2xlJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZ0aGlzLnBhZ2VbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiF0aGlzLmxlZnRidG4/dGhpcy5fYWRkQmFja0J1dHRvbigpOnRoaXMuZWxlbWVudC5maW5kKCIudWktdG9vbGJhci1iYWNrLWJ0biIpLnJlbW92ZSgpKSxudWxsIT1jLmJhY2tCdG5UaGVtZSYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikuYWRkQ2xhc3MoInVpLWJ0biB1aS1idG4tIitjLmJhY2tCdG5UaGVtZSksYy5iYWNrQnRuVGV4dCE9PWImJnRoaXMuZWxlbWVudC5maW5kKCIudWktdG9vbGJhci1iYWNrLWJ0biAudWktYnRuLXRleHQiKS50ZXh0KGMuYmFja0J0blRleHQpLGMudGhlbWUhPT1iKXt2YXIgZD10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCI7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1iYXItIitkKS5hZGRDbGFzcygidWktYmFyLSIrZSl9dGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXsiaGVhZGVyIj09PXRoaXMucm9sZSYmdGhpcy5fYWRkSGVhZGVyQnV0dG9uQ2xhc3NlcygpLHRoaXMucGFnZXx8KHRoaXMuX3NldFJlbGF0aXZlKCksImZvb3RlciI9PT10aGlzLnJvbGUmJnRoaXMuZWxlbWVudC5hcHBlbmRUbygiYm9keSIpKSx0aGlzLl9hZGRIZWFkaW5nQ2xhc3NlcygpLHRoaXMuX2J0bk1hcmt1cCgpfSxfc2V0UmVsYXRpdmU6ZnVuY3Rpb24oKXthKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJ10iKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KX0sX2J0bk1hcmt1cDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiYSIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImJ1dHRvbiIpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJjcmVhdGUiKX0sX2FkZEhlYWRlckJ1dHRvbkNsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImEsIGJ1dHRvbiIpO3RoaXMubGVmdGJ0bj1hLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLHRoaXMucmlnaHRidG49YS5oYXNDbGFzcygidWktYnRuLXJpZ2h0IiksdGhpcy5sZWZ0YnRuPXRoaXMubGVmdGJ0bnx8YS5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsdGhpcy5yaWdodGJ0bj10aGlzLnJpZ2h0YnRufHxhLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGh9LF9hZGRCYWNrQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLm9wdGlvbnM7dGhpcy5iYWNrQnRufHwoYj1jLmJhY2tCdG5UaGVtZXx8Yy50aGVtZSx0aGlzLmJhY2tCdG49YSgiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLWJ0bi1sZWZ0ICIrKGI/InVpLWJ0bi0iK2IrIiAiOiIiKSsidWktdG9vbGJhci1iYWNrLWJ0biB1aS1pY29uLWNhcmF0LWwgdWktYnRuLWljb24tbGVmdCcgIisiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snPiIrYy5iYWNrQnRuVGV4dCsiPC9hPiIpLnByZXBlbmRUbyh0aGlzLmVsZW1lbnQpKX0sX2FkZEhlYWRpbmdDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7cm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7b3B0aW9uczp7cG9zaXRpb246bnVsbCx2aXNpYmxlT25QYWdlU2hvdzohMCxkaXNhYmxlUGFnZVpvb206ITAsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCwgLnVpLWZsaXBzd2l0Y2gsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5maXhlZFBvc2l0aW9ufX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbnx8dGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKXx8dGhpcy5fbWFrZUZpeGVkKCl9LF9tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZml4ZWQiKSx0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKCksdGhpcy5fYWRkVHJhbnNpdGlvbkNsYXNzKCksdGhpcy5fYmluZFBhZ2VFdmVudHMoKSx0aGlzLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKSx0aGlzLl9zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKCJmaXhlZCI9PT1jLnBvc2l0aW9uJiYiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiZ0aGlzLl9tYWtlRml4ZWQoKSwiZml4ZWQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiYhdGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKSl7dmFyIGQ9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg+MD9hKCIudWktcGFnZS1hY3RpdmUiKTphKCIudWktcGFnZSIpLmVxKDApO2MuZnVsbHNjcmVlbiE9PWImJihjLmZ1bGxzY3JlZW4/KHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSk6KHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5yZW1vdmVDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKS5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZpeGVkIikpKX10aGlzLl9zdXBlcihjKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJiJub25lIiE9PWEmJigic2xpZGUiPT09YSYmKGE9dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFnZT90aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTp0aGlzLmRvY3VtZW50O3RoaXMuX29uKGEse3BhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHdlYmtpdEFuaW1hdGlvblN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLGFuaW1hdGlvbnN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHVwZGF0ZWxheW91dDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixwYWdlc2hvdzoiX2hhbmRsZVBhZ2VTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksYi52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpLHRoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb24odGhpcy53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKHRoaXMud2luZG93LCJ0aHJvdHRsZWRyZXNpemUiKSxoLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzJiYoZD1hKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLnBhZ2UpLGU9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5wYWdlKSxmPWQubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZC5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSxnPWUubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZS5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSwoZi5sZW5ndGh8fGcubGVuZ3RoKSYmKGYuYWRkKGcpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGMubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtnLnByZXBlbmRUbyh0aGlzKSxmLmFwcGVuZFRvKHRoaXMpfSkpKX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ImhlYWRlciI9PT10aGlzLnJvbGUsZj1wYXJzZUZsb2F0KGQuY3NzKGU/InRvcCI6ImJvdHRvbSIpKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9YyYmYy50eXBlPT09YiYmY3x8dGhpcy5wYWdlfHxkLmNsb3Nlc3QoIi51aS1wYWdlIiksYz10aGlzLnBhZ2U/dGhpcy5wYWdlOiIudWktcGFnZS1hY3RpdmUiLGEoYykuY3NzKCJwYWRkaW5nLSIrKGU/InRvcCI6ImJvdHRvbSIpLGQub3V0ZXJIZWlnaHQoKStmKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMud2luZG93LGQ9dGhpcy5lbGVtZW50LGU9Yy5zY3JvbGxUb3AoKSxmPWQuaGVpZ2h0KCksZz10aGlzLnBhZ2U/ZC5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpOmEoIi51aS1wYWdlLWFjdGl2ZSIpLmhlaWdodCgpLGg9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7cmV0dXJuIWImJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmIm5vbmUiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJigiaGVhZGVyIj09PXRoaXMucm9sZSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZlPmZ8fCJmb290ZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmctZj5lK2gpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKCJvdXQgIitiKS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQsZD0ib3V0IisoInNsaWRlIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMsZT1kLm9wdGlvbnMsZj0hMCxnPXRoaXMucGFnZT90aGlzLnBhZ2U6YSgiLnVpLXBhZ2UiKTtnLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7ZS50YXBUb2dnbGUmJiFhKGIudGFyZ2V0KS5jbG9zZXN0KGUudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmQudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IixmdW5jdGlvbihnKXtzY3JlZW4ud2lkdGg8MTAyNSYmYShnLnRhcmdldCkuaXMoZS5oaWRlRHVyaW5nRm9jdXMpJiYhYShnLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmKCJmb2N1c291dCIhPT1nLnR5cGV8fGY/ImZvY3VzaW4iPT09Zy50eXBlJiZmJiYoY2xlYXJUaW1lb3V0KGIpLGY9ITEsYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5oaWRlKCl9LDApKTooZj0hMCxjbGVhclRpbWVvdXQoYyksYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zaG93KCl9LDApKSl9KX0sX3NldFJlbGF0aXZlOmZ1bmN0aW9uKCl7ImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmYSgiW2RhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSddIikuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5oYXNDbGFzcygidWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLGEubW9iaWxlLnRvb2xiYXIse19tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX3dvcmthcm91bmRzKCl9LF93b3JrYXJvdW5kczpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sYz1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZigiaVBob25lIik+LTF8fGIuaW5kZXhPZigiaVBhZCIpPi0xfHxiLmluZGV4T2YoImlQb2QiKT4tMSllPSJpb3MiO2Vsc2V7aWYoIShhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSkpcmV0dXJuO2U9ImFuZHJvaWQifWlmKCJpb3MiPT09ZSlmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO2Vsc2V7aWYoISgiYW5kcm9pZCI9PT1lJiZkJiY1MzQ+ZCkpcmV0dXJuO2YuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKX19LF92aWV3cG9ydE9mZnNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaGFzQ2xhc3MoInVpLWhlYWRlciIpLGM9TWF0aC5hYnMoYS5vZmZzZXQoKS50b3AtdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBifHwoYz1NYXRoLnJvdW5kKGMtdGhpcy53aW5kb3cuaGVpZ2h0KCkrYS5vdXRlckhlaWdodCgpKS02MCksY30sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBiPWEuX3ZpZXdwb3J0T2Zmc2V0KCk7Yj4yJiZhLl92aXNpYmxlJiZhLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VGbG9hdChhKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpO2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZS5jbG9uZSgpLGI9YS5lcSgwKSxjPWEuZXEoMSksZD1jLmNoaWxkcmVuKCksZj1kLmNoaWxkcmVuKCk7cmV0dXJue2FyRWxzOmMuYWRkKGIpLGdkOmIsY3Q6YyxhcjpkLGJnOmZ9fXZhciBkPWEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU8PTgsZT1hKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdy1ndWlkZSc+PC9kaXY+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3ctY29udGFpbmVyIisoZD8iIGllIjoiIikrIic+IisiPGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3cnPiIrIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWJhY2tncm91bmQnPjwvZGl2PiIrIjwvZGl2PiIrIjwvZGl2PiIpLGY9TWF0aC5zcXJ0KDIpLzI7YS53aWRnZXQoIm1vYmlsZS5wb3B1cCIsYS5tb2JpbGUucG9wdXAse29wdGlvbnM6e2Fycm93OiIifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLl9zdXBlcigpO3JldHVybiB0aGlzLm9wdGlvbnMuYXJyb3cmJih0aGlzLl91aS5hcnJvdz1hPXRoaXMuX2FkZEFycm93KCkpLGJ9LF9hZGRBcnJvdzpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5vcHRpb25zLGQ9YygpO3JldHVybiBhPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYi50aGVtZSksZC5hci5hZGRDbGFzcyhhKyhiLnNoYWRvdz8iIHVpLW92ZXJsYXktc2hhZG93IjoiIikpLGQuYmcuYWRkQ2xhc3MoYSksZC5hckVscy5oaWRlKCkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSxkfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX0sX3RyeUFuQXJyb3c6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaT17fSxqPXt9O3JldHVybiBkLmFyRnVsbFthLmRpbUtleV0+ZC5ndWlkZURpbXNbYS5kaW1LZXldP2U6KGlbYS5mc3RdPWNbYS5mc3RdKyhkLmFySGFsZlthLm9EaW1LZXldK2QubWVudUhhbGZbYS5vRGltS2V5XSkqYS5vZmZzZXRGYWN0b3ItZC5jb250ZW50Qm94W2EuZnN0XSsoZC5jbGFtcEluZm8ubWVudVNpemVbYS5vRGltS2V5XS1kLmNvbnRlbnRCb3hbYS5vRGltS2V5XSkqYS5hcnJvd09mZnNldEZhY3RvcixpW2Euc25kXT1jW2Euc25kXSxmPWQucmVzdWx0fHx0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGksZC5jbGFtcEluZm8pLGc9e3g6Zi5sZWZ0LHk6Zi50b3B9LGpbYS5mc3RdPWdbYS5mc3RdK2QuY29udGVudEJveFthLmZzdF0rYS50aXBPZmZzZXQsalthLnNuZF09TWF0aC5tYXgoZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmFySGFsZlthLmRpbUtleV0sTWF0aC5taW4oZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmd1aWRlRGltc1thLmRpbUtleV0tZC5hckhhbGZbYS5kaW1LZXldLGNbYS5zbmRdKSksaD1NYXRoLmFicyhjLngtai54KStNYXRoLmFicyhjLnktai55KSwoIWV8fGg8ZS5kaWZmKSYmKGpbYS5zbmRdLT1kLmFySGFsZlthLmRpbUtleV0rZlthLnByb3BdK2QuY29udGVudEJveFthLnNuZF0sZT17ZGlyOmIsZGlmZjpoLHJlc3VsdDpmLHBvc1Byb3A6YS5wcm9wLHBvc1ZhbDpqW2Euc25kXX0pLGUpfSxfZ2V0UGxhY2VtZW50U3RhdGU6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMuX3VpLmFycm93LGU9e2NsYW1wSW5mbzp0aGlzLl9jbGFtcFBvcHVwV2lkdGgoIWEpLGFyRnVsbDp7Y3g6ZC5jdC53aWR0aCgpLGN5OmQuY3QuaGVpZ2h0KCl9LGd1aWRlRGltczp7Y3g6ZC5nZC53aWR0aCgpLGN5OmQuZ2QuaGVpZ2h0KCl9LGd1aWRlT2Zmc2V0OmQuZ2Qub2Zmc2V0KCl9O3JldHVybiBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxkLmdkLmNzcyh7bGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjB9KSxjPWQuZ2Qub2Zmc2V0KCksZS5jb250ZW50Qm94PXt4OmMubGVmdC1iLmxlZnQseTpjLnRvcC1iLnRvcCxjeDpkLmdkLndpZHRoKCksY3k6ZC5nZC5oZWlnaHQoKX0sZC5nZC5yZW1vdmVBdHRyKCJzdHlsZSIpLGUuZ3VpZGVPZmZzZXQ9e2xlZnQ6ZS5ndWlkZU9mZnNldC5sZWZ0LWIubGVmdCx0b3A6ZS5ndWlkZU9mZnNldC50b3AtYi50b3B9LGUuYXJIYWxmPXtjeDplLmFyRnVsbC5jeC8yLGN5OmUuYXJGdWxsLmN5LzJ9LGUubWVudUhhbGY9e2N4OmUuY2xhbXBJbmZvLm1lbnVTaXplLmN4LzIsY3k6ZS5jbGFtcEluZm8ubWVudVNpemUuY3kvMn0sZX0sX3BsYWNlbWVudENvb3JkczpmdW5jdGlvbihiKXt2YXIgYyxlLGcsaCxpLGosayxsPXRoaXMub3B0aW9ucy5hcnJvdyxtPXRoaXMuX3VpLmFycm93O3JldHVybiBtPyhtLmFyRWxzLnNob3coKSxrPXt9LGM9dGhpcy5fZ2V0UGxhY2VtZW50U3RhdGUoITApLGc9e2w6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6MSx0aXBPZmZzZXQ6LWMuYXJIYWxmLmN4LGFycm93T2Zmc2V0RmFjdG9yOjB9LHI6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN4K2MuY29udGVudEJveC5jeCxhcnJvd09mZnNldEZhY3RvcjoxfSxiOntmc3Q6InkiLHNuZDoieCIscHJvcDoibGVmdCIsZGltS2V5OiJjeCIsb0RpbUtleToiY3kiLG9mZnNldEZhY3RvcjotMSx0aXBPZmZzZXQ6Yy5hckhhbGYuY3krYy5jb250ZW50Qm94LmN5LGFycm93T2Zmc2V0RmFjdG9yOjF9LHQ6e2ZzdDoieSIsc25kOiJ4Iixwcm9wOiJsZWZ0IixkaW1LZXk6ImN4IixvRGltS2V5OiJjeSIsb2Zmc2V0RmFjdG9yOjEsdGlwT2Zmc2V0Oi1jLmFySGFsZi5jeSxhcnJvd09mZnNldEZhY3RvcjowfX0sYS5lYWNoKChsPT09ITA/ImwsdCxyLGIiOmwpLnNwbGl0KCIsIiksYS5wcm94eShmdW5jdGlvbihhLGQpe2U9dGhpcy5fdHJ5QW5BcnJvdyhnW2RdLGQsYixjLGUpfSx0aGlzKSksZT8obS5jdC5yZW1vdmVDbGFzcygidWktcG9wdXAtYXJyb3ctbCB1aS1wb3B1cC1hcnJvdy10IHVpLXBvcHVwLWFycm93LXIgdWktcG9wdXAtYXJyb3ctYiIpLmFkZENsYXNzKCJ1aS1wb3B1cC1hcnJvdy0iK2UuZGlyKS5yZW1vdmVBdHRyKCJzdHlsZSIpLmNzcyhlLnBvc1Byb3AsZS5wb3NWYWwpLnNob3coKSxkfHwoaT10aGlzLmVsZW1lbnQub2Zmc2V0KCksa1tnW2UuZGlyXS5mc3RdPW0uY3Qub2Zmc2V0KCksa1tnW2UuZGlyXS5zbmRdPXtsZWZ0OmkubGVmdCtjLmNvbnRlbnRCb3gueCx0b3A6aS50b3ArYy5jb250ZW50Qm94Lnl9LGg9bS5iZy5yZW1vdmVBdHRyKCJzdHlsZSIpLmNzcygiY3giPT09Z1tlLmRpcl0uZGltS2V5PyJ3aWR0aCI6ImhlaWdodCIsYy5jb250ZW50Qm94W2dbZS5kaXJdLmRpbUtleV0pLm9mZnNldCgpLGo9e2R4OmsueC5sZWZ0LWgubGVmdCxkeTprLnkudG9wLWgudG9wfSxtLmJnLmNzcyh7bGVmdDpmKmouZHkrZipqLmR4LHRvcDpmKmouZHktZipqLmR4fSkpLGUucmVzdWx0KToobS5hckVscy5oaWRlKCksdGhpcy5fc3VwZXIoYikpKTp0aGlzLl9zdXBlcihiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLm9wdGlvbnMudGhlbWUsZT10aGlzLl91aS5hcnJvdyxmPXRoaXMuX3N1cGVyKGEpO2lmKGEuYXJyb3chPT1iKXtpZighZSYmYS5hcnJvdylyZXR1cm4gdGhpcy5fdWkuYXJyb3c9dGhpcy5fYWRkQXJyb3coKSx2b2lkIDA7ZSYmIWEuYXJyb3cmJihlLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3VpLmFycm93PW51bGwpfXJldHVybiBlPXRoaXMuX3VpLmFycm93LGUmJihhLnRoZW1lIT09YiYmKGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixkKSxjPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYS50aGVtZSksZS5hci5yZW1vdmVDbGFzcyhkKS5hZGRDbGFzcyhjKSxlLmJnLnJlbW92ZUNsYXNzKGQpLmFkZENsYXNzKGMpKSxhLnNoYWRvdyE9PWImJmUuYXIudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdykpLGZ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLnBhbmVsIix7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlQ29udGFpbmVyOiJ1aS1wYW5lbC1wYWdlLWNvbnRhaW5lciIscGFnZVdyYXBwZXI6InVpLXBhbmVsLXdyYXBwZXIiLHBhZ2VGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWZpeGVkLXRvb2xiYXIiLHBhZ2VDb250ZW50UHJlZml4OiJ1aS1wYW5lbC1wYWdlLWNvbnRlbnQiLGFuaW1hdGU6InVpLXBhbmVsLWFuaW1hdGUifSxhbmltYXRlOiEwLHRoZW1lOm51bGwscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfcGFuZWxJRDpudWxsLF9jbG9zZUxpbms6bnVsbCxfcGFyZW50UGFnZTpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3BhbmVsSW5uZXI6bnVsbCxfd3JhcHBlcjpudWxsLF9maXhlZFRvb2xiYXJzOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7CmEuZXh0ZW5kKHRoaXMse19wYW5lbElEOmIuYXR0cigiaWQiKSxfY2xvc2VMaW5rOmIuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhcmVudFBhZ2U6Yy5sZW5ndGg+MD9jOiExLF9wYWdlOnRoaXMuX2dldFBhZ2UsX3BhbmVsSW5uZXI6dGhpcy5fZ2V0UGFuZWxJbm5lcigpLF93cmFwcGVyOnRoaXMuX2dldFdyYXBwZXIsX2ZpeGVkVG9vbGJhcnM6dGhpcy5fZ2V0Rml4ZWRUb29sYmFyc30pLHRoaXMuX2FkZFBhbmVsQ2xhc3NlcygpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdGhpcy5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9iaW5kVXBkYXRlTGF5b3V0KCksdGhpcy5fYmluZENsb3NlRXZlbnRzKCksdGhpcy5fYmluZExpbmtMaXN0ZW5lcnMoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5fY3JlYXRlTW9kYWwoKSx0aGlzLl9iaW5kU3dpcGVFdmVudHMoKX0sX2dldFBhbmVsSW5uZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZCgiLiIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcik7cmV0dXJuIDA9PT1hLmxlbmd0aCYmKGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkud3JhcEFsbCgiPGRpdiBjbGFzcz0nIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKyInIC8+IikucGFyZW50KCkpLGF9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLl9wYXJlbnRQYWdlP2IuX3BhcmVudFBhZ2UucGFyZW50KCk6Yi5lbGVtZW50LnBhcmVudCgpO2IuX21vZGFsPWEoIjxkaXYgY2xhc3M9JyIrYi5vcHRpb25zLmNsYXNzZXMubW9kYWwrIicgZGF0YS1wYW5lbGlkPSciK2IuX3BhbmVsSUQrIic+PC9kaXY+Iikub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyhjKX0sX2dldFBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9wYXJlbnRQYWdlP3RoaXMuX3BhcmVudFBhZ2U6YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtyZXR1cm4gYn0sX2dldFdyYXBwZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9wYWdlKCkuZmluZCgiLiIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIpO3JldHVybiAwPT09YS5sZW5ndGgmJihhPXRoaXMuX3BhZ2UoKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoLnVpLWhlYWRlci1maXhlZCksIC51aS1jb250ZW50Om5vdCgudWktcG9wdXApLCAudWktZm9vdGVyOm5vdCgudWktZm9vdGVyLWZpeGVkKSIpLndyYXBBbGwoIjxkaXYgY2xhc3M9JyIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrIic+PC9kaXY+IikucGFyZW50KCkpLGF9LF9nZXRGaXhlZFRvb2xiYXJzOmZ1bmN0aW9uKCl7dmFyIGI9YSgiYm9keSIpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIiksYz10aGlzLl9wYWdlKCkuZmluZCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLGQ9Yi5hZGQoYykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZUZpeGVkVG9vbGJhcik7cmV0dXJuIGR9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQrIiAiKyJ1aS1ib2R5LSIrKHRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiKTtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksYX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuX2Nsb3NlTGluay5vbigiY2xpY2sucGFuZWwiLGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYS5jbG9zZSgpLCExfSksYS5lbGVtZW50Lm9uKCJjbGljay5wYW5lbCIsImE6anFtRGF0YShhamF4PSdmYWxzZScpIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1jLl9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksZT1kPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2V8fCFjLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZSYmKGMuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoZCkpLGIuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkpOmMuX2ZpeFBhbmVsKCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50Lm9uKCJ1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5fcG9zaXRpb25QYW5lbCgpfSl9LF9iaW5kTGlua0xpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuX29uKCJib2R5Iix7ImNsaWNrIGEiOiJfaGFuZGxlQ2xpY2sifSl9LF9oYW5kbGVDbGljazpmdW5jdGlvbihiKXtpZihiLmN1cnJlbnRUYXJnZXQuaHJlZi5zcGxpdCgiIyIpWzFdPT09dGhpcy5fcGFuZWxJRCYmdGhpcy5fcGFuZWxJRCE9PWMpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1hKGIudGFyZ2V0KTtyZXR1cm4gZC5oYXNDbGFzcygidWktYnRuIikmJihkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSx0aGlzLnRvZ2dsZSgpLCExfX0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9tb2RhbD9hLmVsZW1lbnQuYWRkKGEuX21vZGFsKTphLmVsZW1lbnQ7YS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1hLm9wdGlvbnMucG9zaXRpb24/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZG9jdW1lbnQub24oInBhbmVsYmVmb3Jlb3BlbiIsZnVuY3Rpb24oYil7YS5fb3BlbiYmYi50YXJnZXQhPT1hLmVsZW1lbnRbMF0mJmEuY2xvc2UoKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24oYil7Mjc9PT1iLmtleUNvZGUmJmEuX29wZW4mJmEuY2xvc2UoKX0pLGEuX3BhcmVudFBhZ2U/dGhpcy5kb2N1bWVudC5vbigicGFnZWhpZGUiLCI6anFtRGF0YShyb2xlPSdwYWdlJykiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KTp0aGlzLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pfSxfb3BlbjohMSxfcGFnZUNvbnRlbnRPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5kb2N1bWVudC5vZmYoInBhbmVsY2xvc2UiKSxjLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiLCJvcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZG9jdW1lbnQub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksZC50aGVtZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrZC50aGVtZSksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhbmVsT3BlbiksYy5fcG9zaXRpb25QYW5lbCgpLGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KSwib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIoKS5hZGRDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLGMuX21vZGFsT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLm1vZGFsKSsiICIrZC5jbGFzc2VzLm1vZGFsT3BlbixjLl9tb2RhbCYmYy5fbW9kYWwuYWRkQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3NlcykuaGVpZ2h0KE1hdGgubWF4KGMuX21vZGFsLmhlaWdodCgpLGMuZG9jdW1lbnQuaGVpZ2h0KCkpKX0sZj1mdW5jdGlvbigpe2MuZG9jdW1lbnQub2ZmKGMuX3RyYW5zaXRpb25FbmRFdmVudHMsZiksIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlcigpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxjLl9iaW5kRml4TGlzdGVuZXIoKSxjLl90cmlnZ2VyKCJvcGVuIil9O2MuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSwib3BlbiI9PT1jLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiKT9jLmRvY3VtZW50Lm9uKCJwYW5lbGNsb3NlIixmdW5jdGlvbigpe2UoKX0pOmUoKSxjLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24oYil7aWYodGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7IWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZG9jdW1lbnQub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5yZW1vdmVDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLGMuX21vZGFsJiZjLl9tb2RhbC5yZW1vdmVDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2MuZG9jdW1lbnQub2ZmKGMuX3RyYW5zaXRpb25FbmRFdmVudHMsZiksZC50aGVtZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrZC50aGVtZSksYy5lbGVtZW50LmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCksIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLl93cmFwcGVyKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIikpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlJiYib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLGMuX2ZpeFBhbmVsKCksYy5fdW5iaW5kRml4TGlzdGVuZXIoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSxjLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSxjLl90cmlnZ2VyKCJjbG9zZSIpfTtjLl90cmlnZ2VyKCJiZWZvcmVjbG9zZSIpLGUoKSxjLl9vcGVuPSExfX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfdHJhbnNpdGlvbkVuZEV2ZW50czoid2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCB0cmFuc2l0aW9uZW5kIG1zVHJhbnNpdGlvbkVuZCIsX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMub3B0aW9ucyxkPWEoImJvZHkgPiA6bW9iaWxlLXBhbmVsIikubGVuZ3RoK2EubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZCgiOm1vYmlsZS1wYW5lbCIpLmxlbmd0aD4xOyJvdmVybGF5IiE9PWMuZGlzcGxheSYmKGI9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5hZGQoYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikpLDA9PT1iLm5vdCgiLnVpLXBhbmVsLWRpc3BsYXktb3ZlcmxheSIpLm5vdCh0aGlzLmVsZW1lbnQpLmxlbmd0aCYmdGhpcy5fd3JhcHBlcigpLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZjLmFuaW1hdGUmJnRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLnRoZW1lJiZ0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitjLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrYy50aGVtZSkpKSxkfHwodGhpcy5kb2N1bWVudC5vZmYoInBhbmVsb3BlbiBwYW5lbGNsb3NlIiksdGhpcy5fb3BlbiYmKHRoaXMuZG9jdW1lbnQub2ZmKHRoaXMuX3RyYW5zaXRpb25FbmRFdmVudHMpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpKSksdGhpcy5fb3BlbiYmdGhpcy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYy5jbGFzc2VzLnBhbmVsT3BlbixjLmNsYXNzZXMuYW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLm9mZih0aGlzLl90cmFuc2l0aW9uRW5kRXZlbnRzKSx0aGlzLl9jbG9zZUxpbmsub2ZmKCJjbGljay5wYW5lbCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRhYmxlIix7b3B0aW9uczp7Y2xhc3Nlczp7dGFibGU6InVpLXRhYmxlIn0sZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksYS5leHRlbmQodGhpcyx7aGVhZGVyczpiLGFsbEhlYWRlcnM6Yn0pLHRoaXMuX3JlZnJlc2goITApfSxfc2V0SGVhZGVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCgidHI6ZXEoMCkiKS5jaGlsZHJlbigpLHRoaXMuYWxsSGVhZGVycz10aGlzLmhlYWRlcnMuYWRkKGEuY2hpbGRyZW4oKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCl9LHJlYnVpbGQ6YS5ub29wLF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuX3NldEhlYWRlcnMoKSxjLmVhY2goZnVuY3Rpb24oKXt2YXIgZD0wO2EodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsZj1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxnPSI6bnRoLWNoaWxkKCIrKGQrMSkrIikiO2lmKHRoaXMuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrImNvbHN0YXJ0IixkKzEpLGYpZm9yKGU9MDtmLTE+ZTtlKyspZCsrLGcrPSIsIDpudGgtY2hpbGQoIisoZCsxKSsiKSI7YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsYi5maW5kKCJ0ciIpLm5vdChjLmVxKDApKS5ub3QodGhpcykuY2hpbGRyZW4oZykpLGQrK30pfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLGEubW9iaWxlLnRhYmxlLHtvcHRpb25zOnttb2RlOiJjb2x1bW50b2dnbGUiLGNvbHVtbkJ0blRoZW1lOm51bGwsY29sdW1uUG9wdXBUaGVtZTpudWxsLGNvbHVtbkJ0blRleHQ6IkNvbHVtbnMuLi4iLGNsYXNzZXM6YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cG9wdXA6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cCIsY29sdW1uQnRuOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtYnRuIixwcmlvcml0eVByZWZpeDoidWktdGFibGUtcHJpb3JpdHktIixjb2x1bW5Ub2dnbGVUYWJsZToidWktdGFibGUtY29sdW1udG9nZ2xlIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwiY29sdW1udG9nZ2xlIj09PXRoaXMub3B0aW9ucy5tb2RlJiYoYS5leHRlbmQodGhpcyx7X21lbnU6bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8odGhpcy5fbWVudT1hKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQodGhpcy5faWQoKSsiLXBvcHVwIikpLmNoaWxkcmVuKCkuZmlyc3QoKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsITApLHRoaXMuX2JpbmRUb2dnbGVzKHRoaXMuX21lbnUpKToodGhpcy5fbWVudT10aGlzLl9lbmhhbmNlQ29sVG9nZ2xlKCksdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSksdGhpcy5fc2V0dXBFdmVudHMoKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJpZCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJfc2V0VG9nZ2xlU3RhdGUifSl9LF9iaW5kVG9nZ2xlczpmdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoImlucHV0Iik7dGhpcy5fb24oYix7Y2hhbmdlOiJfbWVudUlucHV0Q2hhbmdlIn0pfSxfYWRkVG9nZ2xlczpmdW5jdGlvbihiLGMpe3ZhciBkLGU9MCxmPXRoaXMub3B0aW9ucyxnPWIuY29udHJvbGdyb3VwKCJjb250YWluZXIiKTtjP2Q9Yi5maW5kKCJpbnB1dCIpOmcuZW1wdHkoKSx0aGlzLmhlYWRlcnMubm90KCJ0ZCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGg9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsInByaW9yaXR5IiksaT1iLmFkZChiLmpxbURhdGEoImNlbGxzIikpO2gmJihpLmFkZENsYXNzKGYuY2xhc3Nlcy5wcmlvcml0eVByZWZpeCtoKSwoYz9kLmVxKGUrKyk6YSgiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPiIrKGIuY2hpbGRyZW4oImFiYnIiKS5maXJzdCgpLmF0dHIoInRpdGxlIil8fGIudGV4dCgpKSsiPC9sYWJlbD4iKS5hcHBlbmRUbyhnKS5jaGlsZHJlbigwKS5jaGVja2JveHJhZGlvKHt0aGVtZTpmLmNvbHVtblBvcHVwVGhlbWV9KSkuanFtRGF0YSgiY2VsbHMiLGkpKX0pLGN8fChiLmNvbnRyb2xncm91cCgicmVmcmVzaCIpLHRoaXMuX2JpbmRUb2dnbGVzKGIpKX0sX21lbnVJbnB1dENoYW5nZTpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWNbMF0uY2hlY2tlZDtjLmpxbURhdGEoImNlbGxzIikudG9nZ2xlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIiwhZCkudG9nZ2xlQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIsZCksY1swXS5nZXRBdHRyaWJ1dGUoImxvY2tlZCIpPyhjLnJlbW92ZUF0dHIoImxvY2tlZCIpLHRoaXMuX3VubG9ja0NlbGxzKGMuanFtRGF0YSgiY2VsbHMiKSkpOmMuYXR0cigibG9ja2VkIiwhMCl9LF91bmxvY2tDZWxsczpmdW5jdGlvbihhKXthLnJlbW92ZUNsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiB1aS10YWJsZS1jZWxsLXZpc2libGUiKX0sX2VuaGFuY2VDb2xUb2dnbGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPXRoaXMuZWxlbWVudCxnPXRoaXMub3B0aW9ucyxoPWEubW9iaWxlLm5zLGk9dGhpcy5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGI9dGhpcy5faWQoKSsiLXBvcHVwIixjPWEoIjxhIGhyZWY9JyMiK2IrIicgIisiY2xhc3M9JyIrZy5jbGFzc2VzLmNvbHVtbkJ0bisiIHVpLWJ0biAiKyJ1aS1idG4tIisoZy5jb2x1bW5CdG5UaGVtZXx8ImEiKSsiIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLW1pbmknICIrImRhdGEtIitoKyJyZWw9J3BvcHVwJz4iK2cuY29sdW1uQnRuVGV4dCsiPC9hPiIpLGQ9YSgiPGRpdiBjbGFzcz0nIitnLmNsYXNzZXMucG9wdXArIicgaWQ9JyIrYisiJz48L2Rpdj4iKSxlPWEoIjxmaWVsZHNldD48L2ZpZWxkc2V0PiIpLmNvbnRyb2xncm91cCgpLHRoaXMuX2FkZFRvZ2dsZXMoZSwhMSksZS5hcHBlbmRUbyhkKSxpLmFwcGVuZENoaWxkKGRbMF0pLGkuYXBwZW5kQ2hpbGQoY1swXSksZi5iZWZvcmUoaSksZC5wb3B1cCgpLGV9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwiY29sdW1udG9nZ2xlIiE9PXRoaXMub3B0aW9ucy5tb2RlfHwodGhpcy5fdW5sb2NrQ2VsbHModGhpcy5hbGxIZWFkZXJzKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsYSksdGhpcy5fc2V0VG9nZ2xlU3RhdGUoKSl9LF9zZXRUb2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuX21lbnUuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTt0aGlzLmNoZWNrZWQ9InRhYmxlLWNlbGwiPT09Yi5qcW1EYXRhKCJjZWxscyIpLmVxKDApLmNzcygiZGlzcGxheSIpLGIuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6InJlZmxvdyIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiYodGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnJlZmxvd1RhYmxlKSx0aGlzLl91cGRhdGVSZWZsb3coKSkpfSxyZWJ1aWxkOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiZ0aGlzLl9yZWZyZXNoKCExKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYXx8InJlZmxvdyIhPT10aGlzLm9wdGlvbnMubW9kZXx8dGhpcy5fdXBkYXRlUmVmbG93KCl9LF91cGRhdGVSZWZsb3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO2EoYi5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBkLGUsZj1hKHRoaXMpLmpxbURhdGEoImNlbGxzIiksZz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiY29sc3RhcnQiKSxoPWYubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGk9YSh0aGlzKS50ZXh0KCk7IiIhPT1pJiYoaD8oZD1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxlPSIiLGQmJihlPSJ0ZDpudGgtY2hpbGQoIitkKyJuICsgIitnKyIpIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGEsYixjKXthLm5vdCgiOmhhcyhiLiIrYisiKSIpLnByZXBlbmQoIjxiIGNsYXNzPSciK2IrIic+IitjKyI8L2I+Iil9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9ZnVuY3Rpb24oYixjKXtyZXR1cm4tMT09PSgiIisoYS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsImZpbHRlcnRleHQiKXx8YSh0aGlzKS50ZXh0KCkpKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYyl9O2Eud2lkZ2V0KCJtb2JpbGUuZmlsdGVyYWJsZSIse2luaXRTZWxlY3RvcjoiOmpxbURhdGEoZmlsdGVyPSd0cnVlJykiLG9wdGlvbnM6e2ZpbHRlclJldmVhbDohMSxmaWx0ZXJDYWxsYmFjazpkLGVuaGFuY2VkOiExLGlucHV0Om51bGwsY2hpbGRyZW46Ij4gbGksID4gb3B0aW9uLCA+IG9wdGdyb3VwIG9wdGlvbiwgPiB0Ym9keSB0ciwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWJ0biwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWNoZWNrYm94LCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktcmFkaW8ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19zZWFyY2g6bnVsbCxfdGltZXI6MH0pLHRoaXMuX3NldElucHV0KGIuaW5wdXQpLGIuZW5oYW5jZWR8fHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8IiIpLnRvTG93ZXJDYXNlKCkpfSxfb25LZXlVcDpmdW5jdGlvbigpe3ZhciBjLGQsZT10aGlzLl9zZWFyY2g7aWYoZSl7aWYoYz1lLnZhbCgpLnRvTG93ZXJDYXNlKCksZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSwibGFzdHZhbCIpKyIiLGQmJmQ9PT1jKXJldHVybjt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl90aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsImJlZm9yZWZpbHRlciIse2lucHV0OmV9KSxlWzBdLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJsYXN0dmFsIixjKSx0aGlzLl9maWx0ZXJJdGVtcyhjKSx0aGlzLl90aW1lcj0wfSwyNTApfX0sX2dldEZpbHRlcmFibGVJdGVtczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jaGlsZHJlbixkPWM/YS5pc0Z1bmN0aW9uKGMpP2MoKTpjLm5vZGVOYW1lP2EoYyk6Yy5qcXVlcnk/Yzp0aGlzLmVsZW1lbnQuZmluZChjKTp7bGVuZ3RoOjB9O3JldHVybiAwPT09ZC5sZW5ndGgmJihkPWIuY2hpbGRyZW4oKSksZH0sX2ZpbHRlckl0ZW1zOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGg9W10saT1bXSxqPXRoaXMub3B0aW9ucyxrPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2lmKG51bGwhPWIpZm9yKGU9ai5maWx0ZXJDYWxsYmFja3x8ZCxmPWsubGVuZ3RoLGM9MDtmPmM7YysrKWc9ZS5jYWxsKGtbY10sYyxiKT9pOmgsZy5wdXNoKGtbY10pOzA9PT1pLmxlbmd0aD9rW2ouZmlsdGVyUmV2ZWFsPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oInVpLXNjcmVlbi1oaWRkZW4iKTooYShpKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLGEoaCkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSksdGhpcy5fcmVmcmVzaENoaWxkV2lkZ2V0KCl9LF9yZWZyZXNoQ2hpbGRXaWRnZXQ6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdO2ZvcihjPWQubGVuZ3RoLTE7Yz4tMTtjLS0pYj1kW2NdLGEubW9iaWxlW2JdJiYoYj10aGlzLmVsZW1lbnQuZGF0YSgibW9iaWxlLSIrYiksYiYmYS5pc0Z1bmN0aW9uKGIucmVmcmVzaCkmJmIucmVmcmVzaCgpKX0sX3NldElucHV0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuX3NlYXJjaDt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSxkJiYodGhpcy5fb2ZmKGQsImtleXVwIGNoYW5nZSBpbnB1dCIpLGQ9bnVsbCksYyYmKGQ9Yy5qcXVlcnk/YzpjLm5vZGVOYW1lP2EoYyk6dGhpcy5kb2N1bWVudC5maW5kKGMpLHRoaXMuX29uKGQse2tleXVwOiJfb25LZXlVcCIsY2hhbmdlOiJfb25LZXlVcCIsaW5wdXQ6Il9vbktleVVwIn0pKSx0aGlzLl9zZWFyY2g9ZH0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9IShhLmZpbHRlclJldmVhbD09PWMmJmEuZmlsdGVyQ2FsbGJhY2s9PT1jJiZhLmNoaWxkcmVuPT09Yyk7dGhpcy5fc3VwZXIoYSksYS5pbnB1dCE9PWMmJih0aGlzLl9zZXRJbnB1dChhLmlucHV0KSxiPSEwKSxiJiZ0aGlzLnJlZnJlc2goKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTthLmVuaGFuY2VkP2IudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGEuZmlsdGVyUmV2ZWFsKTpiLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl9maWx0ZXJJdGVtcygodGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2gudmFsKCl8fCIiKS50b0xvd2VyQ2FzZSgpKX19KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiLmNhbGwodGhpcyxjKSxhLl9zeW5jVGV4dElucHV0T3B0aW9ucyhjKX19LGQ9LyhefFxzKXVpLWxpLWRpdmlkZXIoXHN8JCkvLGU9YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjazthLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXRoaXMuY2xhc3NOYW1lLm1hdGNoKGQpJiZlLmNhbGwodGhpcyxhLGIpfSxhLndpZGdldCgibW9iaWxlLmZpbHRlcmFibGUiLGEubW9iaWxlLmZpbHRlcmFibGUse29wdGlvbnM6e2ZpbHRlclBsYWNlaG9sZGVyOiJGaWx0ZXIgaXRlbXMuLi4iLGZpbHRlclRoZW1lOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcy5lbGVtZW50LGU9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdLGY9e307Zm9yKHRoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X3dpZGdldDpudWxsfSksYj1lLmxlbmd0aC0xO2I+LTE7Yi0tKWlmKGM9ZVtiXSxhLm1vYmlsZVtjXSl7aWYodGhpcy5fc2V0V2lkZ2V0KGQuZGF0YSgibW9iaWxlLSIrYykpKWJyZWFrO2ZbYysiY3JlYXRlIl09Il9oYW5kbGVDcmVhdGUifXRoaXMuX3dpZGdldHx8dGhpcy5fb24oZCxmKX0sX2hhbmRsZUNyZWF0ZTpmdW5jdGlvbihhKXt0aGlzLl9zZXRXaWRnZXQodGhpcy5lbGVtZW50LmRhdGEoIm1vYmlsZS0iK2EudHlwZS5zdWJzdHJpbmcoMCxhLnR5cGUubGVuZ3RoLTYpKSl9LF9zZXRXaWRnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuX3dpZGdldCYmYSYmKHRoaXMuX3dpZGdldD1hLHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucz1jKHRoaXMsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zKSksdGhpcy5fd2lkZ2V0JiYodGhpcy5fc3luY1RleHRJbnB1dE9wdGlvbnModGhpcy5fd2lkZ2V0Lm9wdGlvbnMpLCJsaXN0dmlldyI9PT10aGlzLl93aWRnZXQud2lkZ2V0TmFtZSYmKHRoaXMuX3dpZGdldC5vcHRpb25zLmhpZGVkaXZpZGVycz0hMCx0aGlzLl93aWRnZXQuZWxlbWVudC5saXN0dmlldygicmVmcmVzaCIpKSksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoInVpLWZpbHRlcmFibGUtIit0aGlzLnV1aWQrIi1pbnRlcm5hbCIpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9ITAsZT17fTtpZighYil7aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpKXJldHVybjtkPSExLGI9YSgiPGlucHV0IGRhdGEtIithLm1vYmlsZS5ucysidHlwZT0nc2VhcmNoJyAiKyJwbGFjZWhvbGRlcj0nIitjLmZpbHRlclBsYWNlaG9sZGVyKyInPjwvaW5wdXQ+IikuanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIiwhMCksYSgiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT4iKS5hcHBlbmQoYikuc3VibWl0KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmJsdXIoKX0pLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpLGEubW9iaWxlLnRleHRpbnB1dCYmKG51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZSYmKGUudGhlbWU9Yy5maWx0ZXJUaGVtZSksYi50ZXh0aW5wdXQoZSkpfXRoaXMuX3N1cGVyKGIpLHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmZCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIixjLmZpbHRlclBsYWNlaG9sZGVyKSxjLmZpbHRlclRoZW1lIT09YiYmdGhpcy5fc2VhcmNoJiZhLm1vYmlsZS50ZXh0aW5wdXQmJnRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsInRoZW1lIixjLmZpbHRlclRoZW1lKSxkfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF9zeW5jVGV4dElucHV0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZCxlPXt9O2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmYS5tb2JpbGUudGV4dGlucHV0KXtmb3IoZCBpbiBhLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLm9wdGlvbnMpY1tkXSE9PWImJihlW2RdPSJ0aGVtZSI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsZSl9fX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4rK2V9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5oYXNoLmxlbmd0aD4xJiZkZWNvZGVVUklDb21wb25lbnQoYS5ocmVmLnJlcGxhY2UoZiwiIikpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYucmVwbGFjZShmLCIiKSl9dmFyIGU9MCxmPS8jLiokLzthLndpZGdldCgidWkudGFicyIse3ZlcnNpb246ImZhZGYyYjMxMmEwNTA0MDQzNjQ1MWM2NGJiZmFmNDgxNGJjNjJjNTYiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKCIudWktdGFicy1uYXYgPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihiKXthKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGMuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxhLmlzQXJyYXkoYy5kaXNhYmxlZCkmJihjLmRpc2FibGVkPWEudW5pcXVlKGMuZGlzYWJsZWQuY29uY2F0KGEubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRhYnMuaW5kZXgoYSl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoYy5hY3RpdmUpOmEoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoYy5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5hY3RpdmUsYz10aGlzLm9wdGlvbnMuY29sbGFwc2libGUsZD1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PWImJihkJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihjLGUpe3JldHVybiBhKGUpLmF0dHIoImFyaWEtY29udHJvbHMiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLChudWxsPT09Ynx8LTE9PT1iKSYmKGI9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksYiE9PSExJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGIpKSwtMT09PWImJihiPWM/ITE6MCkpLCFjJiZiPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPTApLGJ9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6YSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIiksZD10aGlzLnRhYnMuaW5kZXgoYyksZT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdihiKSl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBhLnVpLmtleUNvZGUuRE9XTjpkKys7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuVVA6Y2FzZSBhLnVpLmtleUNvZGUuTEVGVDplPSExLGQtLTticmVhaztjYXNlIGEudWkua2V5Q29kZS5FTkQ6ZD10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuSE9NRTpkPTA7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkKSx2b2lkIDA7Y2FzZSBhLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpkKSx2b2lkIDA7ZGVmYXVsdDpyZXR1cm59Yi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGQ9dGhpcy5fZm9jdXNOZXh0VGFiKGQsZSksYi5jdHJsS2V5fHwoYy5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSx0aGlzLnRhYnMuZXEoZCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsInRydWUiKSx0aGlzLmFjdGl2YXRpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLm9wdGlvbigiYWN0aXZlIixkKX0sdGhpcy5kZWxheSkpfX0sX3BhbmVsS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLl9oYW5kbGVQYWdlTmF2KGIpfHxiLmN0cmxLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5VUCYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmFjdGl2ZS5mb2N1cygpKX0sX2hhbmRsZVBhZ2VOYXY6ZnVuY3Rpb24oYil7cmV0dXJuIGIuYWx0S2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuUEFHRV9VUD8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUtMSwhMSkpLCEwKTpiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfRE9XTj8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUrMSwhMCkpLCEwKTp2b2lkIDB9LF9maW5kTmV4dFRhYjpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXtyZXR1cm4gYj5lJiYoYj0wKSwwPmImJihiPWUpLGJ9Zm9yKHZhciBlPXRoaXMudGFicy5sZW5ndGgtMTstMSE9PWEuaW5BcnJheShkKCksdGhpcy5vcHRpb25zLmRpc2FibGVkKTspYj1jP2IrMTpiLTE7cmV0dXJuIGJ9LF9mb2N1c05leHRUYWI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT10aGlzLl9maW5kTmV4dFRhYihhLGIpLHRoaXMudGFicy5lcShhKS5mb2N1cygpLGF9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4iYWN0aXZlIj09PWE/KHRoaXMuX2FjdGl2YXRlKGIpLHZvaWQgMCk6ImRpc2FibGVkIj09PWE/KHRoaXMuX3NldHVwRGlzYWJsZWQoYiksdm9pZCAwKToodGhpcy5fc3VwZXIoYSxiKSwiY29sbGFwc2libGUiPT09YSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYiksYnx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLCJoZWlnaHRTdHlsZSI9PT1hJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKGIpLHZvaWQgMCl9LF90YWJJZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fCJ1aS10YWJzLSIrYygpfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoL1shIiQlJicoKSorLC5cLzo7PD0+P0BcW1xdXF5ge3x9fl0vZywiXFwkJiIpOiIifSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy50YWJsaXN0LmNoaWxkcmVuKCI6aGFzKGFbaHJlZl0pIik7Yi5kaXNhYmxlZD1hLm1hcChjLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24oYSl7cmV0dXJuIGMuaW5kZXgoYSl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGIuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhYS5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT1iLmRpc2FibGVkLmxlbmd0aD8oYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLGIuYWN0aXZlLTEpLCExKSk6Yi5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKTooYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0dXBEaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIikuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJJbmRleDowfSksdGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpLnNob3coKS5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pKTp0aGlzLnRhYnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsInRhYmxpc3QiKSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpLmF0dHIoe3JvbGU6InRhYiIsdGFiSW5kZXg6LTF9KSx0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBhKCJhIix0aGlzKVswXX0pLmFkZENsYXNzKCJ1aS10YWJzLWFuY2hvciIpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscz1hKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZixnLGgsaT1hKGUpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxqPWEoZSkuY2xvc2VzdCgibGkiKSxrPWouYXR0cigiYXJpYS1jb250cm9scyIpO2QoZSk/KGY9ZS5oYXNoLGc9Yi5lbGVtZW50LmZpbmQoYi5fc2FuaXRpemVTZWxlY3RvcihmKSkpOihoPWIuX3RhYklkKGopLGY9IiMiK2gsZz1iLmVsZW1lbnQuZmluZChmKSxnLmxlbmd0aHx8KGc9Yi5fY3JlYXRlUGFuZWwoaCksZy5pbnNlcnRBZnRlcihiLnBhbmVsc1tjLTFdfHxiLnRhYmxpc3QpKSxnLmF0dHIoImFyaWEtbGl2ZSIsInBvbGl0ZSIpKSxnLmxlbmd0aCYmKGIucGFuZWxzPWIucGFuZWxzLmFkZChnKSksayYmai5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiLGspLGouYXR0cih7ImFyaWEtY29udHJvbHMiOmYuc3Vic3RyaW5nKDEpLCJhcmlhLWxhYmVsbGVkYnkiOml9KSxnLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsaSl9KSx0aGlzLnBhbmVscy5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuYXR0cigicm9sZSIsInRhYnBhbmVsIil9LF9nZXRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKCJvbCx1bCIpLmVxKDApfSxfY3JlYXRlUGFuZWw6ZnVuY3Rpb24oYil7cmV0dXJuIGEoIjxkaXY+IikuYXR0cigiaWQiLGIpLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24oYil7YS5pc0FycmF5KGIpJiYoYi5sZW5ndGg/Yi5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoYj0hMCk6Yj0hMSk7Zm9yKHZhciBjLGQ9MDtjPXRoaXMudGFic1tkXTtkKyspYj09PSEwfHwtMSE9PWEuaW5BcnJheShkLGIpP2EoYykuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKTphKGMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9Yn0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBjPXtjbGljazpmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9fTtiJiZhLmVhY2goYi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Y1tiXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxjKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT1iPyhjPWQuaGVpZ2h0KCksYy09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1kJiYiZml4ZWQiIT09ZCYmKGMtPWIub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2MtPWEodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYy1hKHRoaXMpLmlubmVySGVpZ2h0KCkrYSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09YiYmKGM9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7Yz1NYXRoLm1heChjLGEodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoYykpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMuYWN0aXZlLGU9YShiLmN1cnJlbnRUYXJnZXQpLGY9ZS5jbG9zZXN0KCJsaSIpLGc9ZlswXT09PWRbMF0saD1nJiZjLmNvbGxhcHNpYmxlLGk9aD9hKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaj1kLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihkKTphKCksaz17b2xkVGFiOmQsb2xkUGFuZWw6aixuZXdUYWI6aD9hKCk6ZixuZXdQYW5lbDppfTtiLnByZXZlbnREZWZhdWx0KCksZi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Zi5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8ZyYmIWMuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIixiLGspPT09ITF8fChjLmFjdGl2ZT1oPyExOnRoaXMudGFicy5pbmRleChmKSx0aGlzLmFjdGl2ZT1nP2EoKTpmLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGoubGVuZ3RofHxpLmxlbmd0aHx8YS5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaS5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoZiksYiksdGhpcy5fdG9nZ2xlKGIsaykpfSxfdG9nZ2xlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2YucnVubmluZz0hMSxmLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYixjKX1mdW5jdGlvbiBlKCl7Yy5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksZy5sZW5ndGgmJmYub3B0aW9ucy5zaG93P2YuX3Nob3coZyxmLm9wdGlvbnMuc2hvdyxkKTooZy5zaG93KCksZCgpKX12YXIgZj10aGlzLGc9Yy5uZXdQYW5lbCxoPWMub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLGgubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGgsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxlKCl9KTooYy5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaC5oaWRlKCksZSgpKSxoLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksYy5vbGRUYWIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksZy5sZW5ndGgmJmgubGVuZ3RoP2Mub2xkVGFiLmF0dHIoInRhYkluZGV4IiwtMSk6Zy5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksZy5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLGMubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9maW5kQWN0aXZlKGIpO2RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGQubGVuZ3RofHwoZD10aGlzLmFjdGl2ZSksYz1kLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmMsY3VycmVudFRhcmdldDpjLHByZXZlbnREZWZhdWx0OmEubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT0hMT9hKCk6dGhpcy50YWJzLmVxKGIpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhJiYoYT10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK2ErIiddIikpKSxhfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIiksdGhpcy50YWJsaXN0LnJlbW92ZUNsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmFuY2hvcnMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7YS5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP2EodGhpcykucmVtb3ZlKCk6YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIil9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2M/Yi5hdHRyKCJhcmlhLWNvbnRyb2xzIixjKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTpiLnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pLHRoaXMucGFuZWxzLnNob3coKSwiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7ZCE9PSExJiYoYz09PWI/ZD0hMTooYz10aGlzLl9nZXRJbmRleChjKSxkPWEuaXNBcnJheShkKT9hLm1hcChkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yz9hOm51bGx9KTphLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiE9PWM/YjpudWxsfSkpLHRoaXMuX3NldHVwRGlzYWJsZWQoZCkpfSxkaXNhYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihkIT09ITApe2lmKGM9PT1iKWQ9ITA7ZWxzZXtpZihjPXRoaXMuX2dldEluZGV4KGMpLC0xIT09YS5pbkFycmF5KGMsZCkpcmV0dXJuO2Q9YS5pc0FycmF5KGQpP2EubWVyZ2UoW2NdLGQpLnNvcnQoKTpbY119dGhpcy5fc2V0dXBEaXNhYmxlZChkKX19LGxvYWQ6ZnVuY3Rpb24oYixjKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMsZj10aGlzLnRhYnMuZXEoYiksZz1mLmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGg9dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaT17dGFiOmYscGFuZWw6aH07ZChnWzBdKXx8KHRoaXMueGhyPWEuYWpheCh0aGlzLl9hamF4U2V0dGluZ3MoZyxjLGkpKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJihmLmFkZENsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxoLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5zdWNjZXNzKGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmh0bWwoYSksZS5fdHJpZ2dlcigibG9hZCIsYyxpKX0sMSl9KS5jb21wbGV0ZShmdW5jdGlvbihhLGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsiYWJvcnQiPT09YiYmZS5wYW5lbHMuc3RvcCghMSwhMCksZi5yZW1vdmVDbGFzcygidWktdGFicy1sb2FkaW5nIiksaC5yZW1vdmVBdHRyKCJhcmlhLWJ1c3kiKSxhPT09ZS54aHImJmRlbGV0ZSBlLnhocn0sMSl9KSkpfSxfYWpheFNldHRpbmdzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO3JldHVybnt1cmw6Yi5hdHRyKCJocmVmIiksYmVmb3JlU2VuZDpmdW5jdGlvbihiLGYpe3JldHVybiBlLl90cmlnZ2VyKCJiZWZvcmVMb2FkIixjLGEuZXh0ZW5kKHtqcVhIUjpiLGFqYXhTZXR0aW5nczpmfSxkKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuYXR0cigiYXJpYS1jb250cm9scyIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKCIjIitjKSl9fSl9KGEpLGZ1bmN0aW9uKCl7fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hLm9yaWdpbmFsRXZlbnQsaT1lLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksZj1NYXRoLmFicyhpLngpLGc9TWF0aC5hYnMoaS55KSxoPU1hdGguYWJzKGkueiksIWIub3JpZW50YXRpb24mJihmPjd8fChoPjYmJjg+Z3x8OD5oJiZnPjYpJiZmPjUpP2QuZW5hYmxlZCYmZC5kaXNhYmxlKCk6ZC5lbmFibGVkfHxkLmVuYWJsZSgpfWEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgZCxlLGYsZyxoLGksaj1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGopJiZqLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTE/KGQ9YS5tb2JpbGUuem9vbSxhLm1vYmlsZS5kb2N1bWVudC5vbigibW9iaWxlaW5pdCIsZnVuY3Rpb24oKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQmJmEubW9iaWxlLndpbmRvdy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsZC5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsYyl9KSx2b2lkIDApOihhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEsdm9pZCAwKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXtlLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGU9YSgiaHRtbCIpLGY9YS5tb2JpbGUud2luZG93O2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpLGEubW9iaWxlLmdyYWRlQSgpJiYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoZCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLnBhdGgsZT1hKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiksZz1iLnN0cmlwSGFzaChiLnN0cmlwUXVlcnlQYXJhbXMoYi5wYXJzZUxvY2F0aW9uKCkuaGFzaCkpLGg9Yy5nZXRFbGVtZW50QnlJZChnKTtlLmxlbmd0aHx8KGU9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKSxlLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2JbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9ZS5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKS5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZi50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksYS5tb2JpbGUubG9hZGluZygic2hvdyIpLGQoKSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGEoaCkuaXMoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpfHxhLm1vYmlsZS5wYXRoLmlzUGF0aChnKXx8Zz09PWEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpP2EuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKT8oYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5zdGFjaz1bXSxhLm1vYmlsZS5uYXZpZ2F0ZShhLm1vYmlsZS5wYXRoLmlzUGF0aChsb2NhdGlvbi5oYXNoKT9sb2NhdGlvbi5oYXNoOmxvY2F0aW9uLmhyZWYpKTpmLnRyaWdnZXIoImhhc2hjaGFuZ2UiLFshMF0pOihhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5pbml0aWFsRHN0PWcucmVwbGFjZSgiIyIsIiIpKSxhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkmJmEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5zcXVhc2goYi5wYXJzZUxvY2F0aW9uKCkuaHJlZiksYS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246Im5vbmUiLHJldmVyc2U6ITAsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKX19KSxhKGZ1bmN0aW9uKCl7YS5zdXBwb3J0LmlubGluZVNWRygpLGEubW9iaWxlLmhpZGVVcmxCYXImJmIuc2Nyb2xsVG8oMCwxKSxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD1hLnN1cHBvcnQuc2Nyb2xsVG9wJiYxIT09YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpPzE6MCxhLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCksYS5tb2JpbGUuaGlkZVVybEJhciYmZi5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCksYS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktc3RhdGUtZGlzYWJsZWQsLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKQp9KX0pKX0oYSx0aGlzKX0pOwovKgovL0Agc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuNC4wLm1pbi5tYXAKKi8=",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgMS40LjAgfCBHaXQgSEVBRCBoYXNoOiBmMDlhYWUwIDw+IDIwMTMtMTItMTlUMTc6MzQ6MjJaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYixjKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKGQpe3JldHVybiBjKGQsYSxiKSxkLm1vYmlsZX0pOmMoYS5qUXVlcnksYSxiKX0odGhpcyxkb2N1bWVudCxmdW5jdGlvbihhLGIsYyl7IWZ1bmN0aW9uKGEpe2EubW9iaWxlPXt9fShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLm1vYmlsZSx7dmVyc2lvbjoiMS40LjAiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGhpZGVVcmxCYXI6ITAsa2VlcE5hdGl2ZToiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MCxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOiJhIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOiExLGF1dG9Jbml0aWFsaXplUGFnZTohMCxwdXNoU3RhdGVFbmFibGVkOiEwLGlnbm9yZUNvbnRlbnRFbmFibGVkOiExLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGR5bmFtaWNCYXNlRW5hYmxlZDohMCxwYWdlQ29udGFpbmVyOmEoKSxhbGxvd0Nyb3NzRG9tYWluUGFnZXM6ITEsZGlhbG9nSGFzaEtleToiJnVpLXN0YXRlPWRpYWxvZyJ9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e30sZT1hLmZpbmQsZj0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8sZz0vOmpxbURhdGFcKChbXildKilcKS9nO2EuZXh0ZW5kKGEubW9iaWxlLHtuczoiIixnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYixjKXt2YXIgZDtiPWIuanF1ZXJ5P2JbMF06YixiJiZiLmdldEF0dHJpYnV0ZSYmKGQ9Yi5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytjKSk7dHJ5e2Q9InRydWUiPT09ZD8hMDoiZmFsc2UiPT09ZD8hMToibnVsbCI9PT1kP251bGw6K2QrIiI9PT1kPytkOmYudGVzdChkKT9KU09OLnBhcnNlKGQpOmR9Y2F0Y2goZSl7fXJldHVybiBkfSxuc05vcm1hbGl6ZURpY3Q6ZCxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtyZXR1cm4gZFtiXXx8KGRbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpfSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmRhdGEoIm1vYmlsZS1wYWdlIil9fSksYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsZCl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiJiYoYiYmKGI9YS5tb2JpbGUubnNOb3JtYWxpemUoYikpLGU9YXJndW1lbnRzLmxlbmd0aDwyfHxkPT09Yz90aGlzLmRhdGEoYik6dGhpcy5kYXRhKGIsZCkpLGV9LGEuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBjJiYoZT1hLmRhdGEoYixjP2EubW9iaWxlLm5zTm9ybWFsaXplKGMpOmMsZCkpLGV9LGEuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX0sYS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX0sYS5maW5kPWZ1bmN0aW9uKGIsYyxkLGYpe3JldHVybiBiLmluZGV4T2YoIjpqcW1EYXRhIik+LTEmJihiPWIucmVwbGFjZShnLCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyIkMV0iKSksZS5jYWxsKHRoaXMsYixjLGQsZil9LGEuZXh0ZW5kKGEuZmluZCxlKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYixjKXt2YXIgZCxmLGcsaD1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImFyZWEiPT09aD8oZD1iLnBhcmVudE5vZGUsZj1kLm5hbWUsYi5ocmVmJiZmJiYibWFwIj09PWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT8oZz1hKCJpbWdbdXNlbWFwPSMiK2YrIl0iKVswXSwhIWcmJmUoZykpOiExKTooL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KGgpPyFiLmRpc2FibGVkOiJhIj09PWg/Yi5ocmVmfHxjOmMpJiZlKGIpfWZ1bmN0aW9uIGUoYil7cmV0dXJuIGEuZXhwci5maWx0ZXJzLnZpc2libGUoYikmJiFhKGIpLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuImhpZGRlbiI9PT1hLmNzcyh0aGlzLCJ2aXNpYmlsaXR5Iil9KS5sZW5ndGh9dmFyIGY9MCxnPS9edWktaWQtXGQrJC87YS51aT1hLnVpfHx7fSxhLmV4dGVuZChhLnVpLHt2ZXJzaW9uOiJjMGFiNzEwNTZiOTM2NjI3ZThhNzgyMWYwM2MwNDRhZWM2MjgwYTQwIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KSxhLmZuLmV4dGVuZCh7Zm9jdXM6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBjP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EoYikuZm9jdXMoKSxkJiZkLmNhbGwoYil9LGMpfSk6Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmZuLmZvY3VzKSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj1hLnVpLmllJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KGEuY3NzKHRoaXMsInBvc2l0aW9uIikpJiYvKGF1dG98c2Nyb2xsKS8udGVzdChhLmNzcyh0aGlzLCJvdmVyZmxvdyIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXkiKSthLmNzcyh0aGlzLCJvdmVyZmxvdy14IikpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcywib3ZlcmZsb3ciKSthLmNzcyh0aGlzLCJvdmVyZmxvdy15IikrYS5jc3ModGhpcywib3ZlcmZsb3cteCIpKX0pLmVxKDApLC9maXhlZC8udGVzdCh0aGlzLmNzcygicG9zaXRpb24iKSl8fCFiLmxlbmd0aD9hKHRoaXNbMF0ub3duZXJEb2N1bWVudHx8Yyk6Yn0sdW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9InVpLWlkLSIrICsrZil9KX0scmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zy50ZXN0KHRoaXMuaWQpJiZhKHRoaXMpLnJlbW92ZUF0dHIoImlkIil9KX19KSxhLmV4dGVuZChhLmV4cHJbIjoiXSx7ZGF0YTphLmV4cHIuY3JlYXRlUHNldWRvP2EuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsYil9fSk6ZnVuY3Rpb24oYixjLGQpe3JldHVybiEhYS5kYXRhKGIsZFszXSl9LGZvY3VzYWJsZTpmdW5jdGlvbihiKXtyZXR1cm4gZChiLCFpc05hTihhLmF0dHIoYiwidGFiaW5kZXgiKSkpfSx0YWJiYWJsZTpmdW5jdGlvbihiKXt2YXIgYz1hLmF0dHIoYiwidGFiaW5kZXgiKSxlPWlzTmFOKGMpO3JldHVybihlfHxjPj0wKSYmZChiLCFlKX19KSxhKCI8YT4iKS5vdXRlcldpZHRoKDEpLmpxdWVyeXx8YS5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbihjLGQpe2Z1bmN0aW9uIGUoYixjLGQsZSl7cmV0dXJuIGEuZWFjaChmLGZ1bmN0aW9uKCl7Yy09cGFyc2VGbG9hdChhLmNzcyhiLCJwYWRkaW5nIit0aGlzKSl8fDAsZCYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCksZSYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYiwibWFyZ2luIit0aGlzKSl8fDApfSksY312YXIgZj0iV2lkdGgiPT09ZD9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sZz1kLnRvTG93ZXJDYXNlKCksaD17aW5uZXJXaWR0aDphLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6YS5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOmEuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDphLmZuLm91dGVySGVpZ2h0fTthLmZuWyJpbm5lciIrZF09ZnVuY3Rpb24oYyl7cmV0dXJuIGM9PT1iP2hbImlubmVyIitkXS5jYWxsKHRoaXMpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGMpKyJweCIpfSl9LGEuZm5bIm91dGVyIitkXT1mdW5jdGlvbihiLGMpe3JldHVybiJudW1iZXIiIT10eXBlb2YgYj9oWyJvdXRlciIrZF0uY2FsbCh0aGlzLGIpOnRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY3NzKGcsZSh0aGlzLGIsITAsYykrInB4Iil9KX19KSxhLmZuLmFkZEJhY2t8fChhLmZuLmFkZEJhY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfSksYSgiPGE+IikuZGF0YSgiYS1iIiwiYSIpLnJlbW92ZURhdGEoImEtYiIpLmRhdGEoImEtYiIpJiYoYS5mbi5yZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmNhbGwodGhpcyxhLmNhbWVsQ2FzZShjKSk6Yi5jYWxsKHRoaXMpfX0oYS5mbi5yZW1vdmVEYXRhKSksYS51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpLGEuc3VwcG9ydC5zZWxlY3RzdGFydD0ib25zZWxlY3RzdGFydCJpbiBjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGEuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgoYS5zdXBwb3J0LnNlbGVjdHN0YXJ0PyJzZWxlY3RzdGFydCI6Im1vdXNlZG93biIpKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX0sekluZGV4OmZ1bmN0aW9uKGQpe2lmKGQhPT1iKXJldHVybiB0aGlzLmNzcygiekluZGV4IixkKTtpZih0aGlzLmxlbmd0aClmb3IodmFyIGUsZixnPWEodGhpc1swXSk7Zy5sZW5ndGgmJmdbMF0hPT1jOyl7aWYoZT1nLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PWV8fCJyZWxhdGl2ZSI9PT1lfHwiZml4ZWQiPT09ZSkmJihmPXBhcnNlSW50KGcuY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGYpJiYwIT09ZikpcmV0dXJuIGY7Zz1nLnBhcmVudCgpfXJldHVybiAwfX0pLGEudWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9YS51aVtiXS5wcm90b3R5cGU7Zm9yKGUgaW4gZClmLnBsdWdpbnNbZV09Zi5wbHVnaW5zW2VdfHxbXSxmLnBsdWdpbnNbZV0ucHVzaChbYyxkW2VdXSl9LGNhbGw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLnBsdWdpbnNbYl07aWYoZiYmKGR8fGEuZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PWEuZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IoZT0wO2U8Zi5sZW5ndGg7ZSsrKWEub3B0aW9uc1tmW2VdWzBdXSYmZltlXVsxXS5hcHBseShhLmVsZW1lbnQsYyl9fX0oYSksZnVuY3Rpb24oYSxiKXthLmV4dGVuZChhLm1vYmlsZSx7d2luZG93OmEoYiksZG9jdW1lbnQ6YShjKSxrZXlDb2RlOmEudWkua2V5Q29kZSxiZWhhdmlvcnM6e30sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGMpeyJudW1iZXIiIT09YS50eXBlKGMpJiYoYz1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2Nyb2xsVG8oMCxjKSxhLm1vYmlsZS5kb2N1bWVudC50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpjfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LGdldENsb3Nlc3RCYXNlVXJsOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxkPWEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmYyYmYS5tb2JpbGUucGF0aC5pc1BhdGgoYyl8fChjPWQpLGEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGMsZCl9LHJlbW92ZUFjdGl2ZUxpbmtDbGFzczpmdW5jdGlvbihiKXshYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmt8fGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLmNsb3Nlc3QoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RoJiYhYnx8YS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPW51bGx9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1hWzBdLGY9IiIsZz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi87ZSYmKGM9ZS5jbGFzc05hbWV8fCIiLCEoYyYmKGQ9Zy5leGVjKGMpKSYmKGY9ZFsyXSkpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGZ8fGJ8fCJhIn0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiZW5oYW5jZSIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImFqYXgiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7dmFyIGQsZSxmLGcsaCxpPWIubGVuZ3RoLGo9YSgpO2ZvcihnPTA7aT5nO2crKyl7Zm9yKGU9Yi5lcShnKSxmPSExLGQ9YltnXTtkOyl7aWYoaD1kLmdldEF0dHJpYnV0ZT9kLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpOiIiLCJmYWxzZSI9PT1oKXtmPSEwO2JyZWFrfWQ9ZC5wYXJlbnROb2RlfWZ8fChqPWouYWRkKGUpKX1yZXR1cm4gan0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaW5uZXJIZWlnaHR8fGEubW9iaWxlLndpbmRvdy5oZWlnaHQoKX0scmVzZXRBY3RpdmVQYWdlSGVpZ2h0OmZ1bmN0aW9uKGIpe3ZhciBjPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksZD1jLmhlaWdodCgpLGU9Yy5vdXRlckhlaWdodCghMCk7Yj0ibnVtYmVyIj09dHlwZW9mIGI/YjphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxjLmNzcygibWluLWhlaWdodCIsYi0oZS1kKSl9LGxvYWRpbmc6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxvYWRpbmcuX3dpZGdldHx8YShhLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLmRlZmF1bHRIdG1sKS5sb2FkZXIoKSxjPWIubG9hZGVyLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5sb2FkaW5nLl93aWRnZXQ9YixjfX0pLGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2QuanFtRGF0YSgiZGVwZW5kZW50cyIsYShlKS5hZGQoYykpfSxhLmZuLmV4dGVuZCh7cmVtb3ZlV2l0aERlcGVuZGVudHM6ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKCl7dmFyIGIsYz17fSxkPWEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpLGU9dGhpczthLm1vYmlsZS5ub2pzJiZhLm1vYmlsZS5ub2pzKHRoaXMpLGEubW9iaWxlLmxpbmtzJiZhLm1vYmlsZS5saW5rcyh0aGlzKSxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluJiZhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluKHRoaXMpLGEuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmZpbmQoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5ub3QoZCkuanFtRW5oYW5jZWFibGUoKS5idXR0b25NYXJrdXAoKSxhLmZuLmZpZWxkY29udGFpbiYmdGhpcy5maW5kKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpLGEuZWFjaChhLm1vYmlsZS53aWRnZXRzLGZ1bmN0aW9uKGIsZil7aWYoZi5pbml0U2VsZWN0b3Ipe3ZhciBnPWEubW9iaWxlLmVuaGFuY2VhYmxlKGUuZmluZChmLmluaXRTZWxlY3RvcikpO2cubGVuZ3RoPjAmJihnPWcubm90KGQpKSxnLmxlbmd0aD4wJiYoY1tmLnByb3RvdHlwZS53aWRnZXROYW1lXT1nKX19KTtmb3IoYiBpbiBjKWNbYl1bYl0oKTtyZXR1cm4gdGhpc30sYWRkRGVwZW5kZW50czpmdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHModGhpcyxiKX0sZ2V0RW5jb2RlZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+IikudGV4dCh0aGlzLnRleHQoKSkuaHRtbCgpfSxqcW1FbmhhbmNlYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX0sanFtSGlqYWNrYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfX0pLGEucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7dmFyIGM9YShiKTsoYy5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCksYy5yZW1vdmUoKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX0sYS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQ9MDtudWxsIT0oYz1iW2RdKTtkKyspdHJ5e2EoYykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT17fSxqPWIuc3BsaXQoIi4iKVswXTtyZXR1cm4gYj1iLnNwbGl0KCIuIilbMV0sZT1qKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZS50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLGUpfSxhW2pdPWFbal18fHt9LGY9YVtqXVtiXSxnPWFbal1bYl09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0Pyhhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKSx2b2lkIDApOm5ldyBnKGEsYil9LGEuZXh0ZW5kKGcsZix7dmVyc2lvbjpkLnZlcnNpb24sX3Byb3RvOmEuZXh0ZW5kKHt9LGQpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGg9bmV3IGMsaC5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSxoLm9wdGlvbnMpLGEuZWFjaChkLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuaXNGdW5jdGlvbihkKT8oaVtiXT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLl9zdXBlcixmPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPWEsdGhpcy5fc3VwZXJBcHBseT1lLGI9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9Yyx0aGlzLl9zdXBlckFwcGx5PWYsYn19KCksdm9pZCAwKTooaVtiXT1kLHZvaWQgMCl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Zj9oLndpZGdldEV2ZW50UHJlZml4fHxiOmJ9LGkse2NvbnN0cnVjdG9yOmcsbmFtZXNwYWNlOmosd2lkZ2V0TmFtZTpiLHdpZGdldEZ1bGxOYW1lOmV9KSxmPyhhLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oYixjKXt2YXIgZD1jLnByb3RvdHlwZTthLndpZGdldChkLm5hbWVzcGFjZSsiLiIrZC53aWRnZXROYW1lLGcsYy5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTpjLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKGcpLGEud2lkZ2V0LmJyaWRnZShiLGcpLGd9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXtmb3IodmFyIGUsZixnPWQuY2FsbChhcmd1bWVudHMsMSksaD0wLGk9Zy5sZW5ndGg7aT5oO2grKylmb3IoZSBpbiBnW2hdKWY9Z1toXVtlXSxnW2hdLmhhc093blByb3BlcnR5KGUpJiZmIT09YiYmKGNbZV09YS5pc1BsYWluT2JqZWN0KGYpP2EuaXNQbGFpbk9iamVjdChjW2VdKT9hLndpZGdldC5leHRlbmQoe30sY1tlXSxmKTphLndpZGdldC5leHRlbmQoe30sZik6Zik7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9InN0cmluZyI9PXR5cGVvZiBnLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsaD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO3JldHVybiJpbnN0YW5jZSI9PT1nPyhqPWUsITEpOmU/YS5pc0Z1bmN0aW9uKGVbZ10pJiYiXyIhPT1nLmNoYXJBdCgwKT8oZD1lW2ddLmFwcGx5KGUsaSksZCE9PWUmJmQhPT1iPyhqPWQmJmQuanF1ZXJ5P2oucHVzaFN0YWNrKGQuZ2V0KCkpOmQsITEpOnZvaWQgMCk6YS5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrZysiJyBmb3IgIitjKyIgd2lkZ2V0IGluc3RhbmNlIik6YS5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2MrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgIisiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2crIiciKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGYpO2I/Yi5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsZixuZXcgZShnLHRoaXMpKX0pLGp9fSxhLldpZGdldD1mdW5jdGlvbigpe30sYS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGEuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsZCl7ZD1hKGR8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1hKGQpLHRoaXMudXVpZD1jKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYiksdGhpcy5iaW5kaW5ncz1hKCksdGhpcy5ob3ZlcmFibGU9YSgpLHRoaXMuZm9jdXNhYmxlPWEoKSxkIT09dGhpcyYmKGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT1kJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEoYS5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLHRoaXMud2lkZ2V0KCkudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgIisidWktc3RhdGUtZGlzYWJsZWQiKSx0aGlzLmJpbmRpbmdzLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sX2Rlc3Ryb3k6YS5ub29wLHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZyxoPWM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKCJzdHJpbmciPT10eXBlb2YgYylpZihoPXt9LGU9Yy5zcGxpdCgiLiIpLGM9ZS5zaGlmdCgpLGUubGVuZ3RoKXtmb3IoZj1oW2NdPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbY10pLGc9MDtnPGUubGVuZ3RoLTE7ZysrKWZbZVtnXV09ZltlW2ddXXx8e30sZj1mW2VbZ11dO2lmKGM9ZS5wb3AoKSxkPT09YilyZXR1cm4gZltjXT09PWI/bnVsbDpmW2NdO2ZbY109ZH1lbHNle2lmKGQ9PT1iKXJldHVybiB0aGlzLm9wdGlvbnNbY109PT1iP251bGw6dGhpcy5vcHRpb25zW2NdO2hbY109ZH1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhoKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLCJkaXNhYmxlZCI9PT1hJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQiLCEhYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSl9LF9vbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzOyJib29sZWFuIiE9dHlwZW9mIGImJihkPWMsYz1iLGI9ITEpLGQ/KGM9ZT1hKGMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoYykpOihkPWMsYz10aGlzLmVsZW1lbnQsZT10aGlzLndpZGdldCgpKSxhLmVhY2goZCxmdW5jdGlvbihkLGcpe2Z1bmN0aW9uIGgoKXtyZXR1cm4gYnx8Zi5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFhKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIGc/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyk6dm9pZCAwfSJzdHJpbmciIT10eXBlb2YgZyYmKGguZ3VpZD1nLmd1aWQ9Zy5ndWlkfHxoLmd1aWR8fGEuZ3VpZCsrKTt2YXIgaT1kLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGo9aVsxXStmLmV2ZW50TmFtZXNwYWNlLGs9aVsyXTtrP2UuZGVsZWdhdGUoayxqLGgpOmMuYmluZChqLGgpfSl9LF9vZmY6ZnVuY3Rpb24oYSxiKXtiPShifHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGEudW5iaW5kKGIpLnVuZGVsZWdhdGUoYil9LF9kZWxheTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBhP2RbYV06YSkuYXBwbHkoZCxhcmd1bWVudHMpfXZhciBkPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoYyxifHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbihiKXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQoYiksdGhpcy5fb24oYix7bW91c2VlbnRlcjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChiKSx0aGlzLl9vbihiLHtmb2N1c2luOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9uc1tiXTtpZihkPWR8fHt9LGM9YS5FdmVudChjKSxjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpLGMudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWMub3JpZ2luYWxFdmVudClmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBlP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LCJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiZhLmVmZmVjdHMuZWZmZWN0W2hdP2RbYl0oZSk6aCE9PWImJmRbaF0/ZFtoXShlLmR1cmF0aW9uLGUuZWFzaW5nLGYpOmQucXVldWUoZnVuY3Rpb24oYyl7YSh0aGlzKVtiXSgpLGYmJmYuY2FsbChkWzBdKSxjKCl9KX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9L1tBLVpdL2csYz1mdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfTthLmV4dGVuZChhLldpZGdldC5wcm90b3R5cGUse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGQsZSxmPXRoaXMuZWxlbWVudFswXSxnPXt9O2lmKCFhLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZiwiZGVmYXVsdHMiKSlmb3IoZCBpbiB0aGlzLm9wdGlvbnMpZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixkLnJlcGxhY2UoYixjKSksbnVsbCE9ZSYmKGdbZF09ZSk7cmV0dXJuIGd9fSksYS5tb2JpbGUud2lkZ2V0PWEuV2lkZ2V0fShhKSxmdW5jdGlvbihhKXt2YXIgYj0idWktbG9hZGVyIixjPWEoImh0bWwiKTthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitiKyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj4iKyI8aDE+PC9oMT4iKyI8L2Rpdj4iLGZha2VGaXhMb2FkZXI6ZnVuY3Rpb24oKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTt0aGlzLmVsZW1lbnQuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkrdGhpcy53aW5kb3cuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLGQ9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7KGIudG9wPGN8fGIudG9wLWM+ZCkmJih0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksdGhpcy5mYWtlRml4TG9hZGVyKCksdGhpcy53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oZCxlLGYpe3ZhciBnLGgsaTt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09YS50eXBlKGQpPyhpPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxkKSxkPWkudGhlbWUpOihpPXRoaXMub3B0aW9ucyxkPWR8fGkudGhlbWUpLGg9ZXx8KGkudGV4dD09PSExPyIiOmkudGV4dCksYy5hZGRDbGFzcygidWktbG9hZGluZyIpLGc9aS50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGIrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitkKyIgdWktbG9hZGVyLSIrKGd8fGV8fGQudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoaS50ZXh0b25seXx8Zj8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxpLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoaS5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGgpLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSx0aGlzLndpbmRvdy5iaW5kKCJzY3JvbGwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKX0saGlkZTpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSx0aGlzLm9wdGlvbnMudGV4dCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGEubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZiwiIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZixnPSJoYXNoY2hhbmdlIixoPWMsaT1hLmV2ZW50LnNwZWNpYWwsaj1oLmRvY3VtZW50TW9kZSxrPSJvbiIrZyBpbiBiJiYoaj09PWR8fGo+Nyk7YS5mbltnXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZyxhKTp0aGlzLnRyaWdnZXIoZyl9LGEuZm5bZ10uZGVsYXk9NTAsaVtnXT1hLmV4dGVuZChpW2ddLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBrPyExOihhKGYuc3RhcnQpLHZvaWQgMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6KGEoZi5zdG9wKSx2b2lkIDApfX0pLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dmFyIGQ9ZSgpLGg9bihqKTtkIT09aj8obShqPWQsaCksYShiKS50cmlnZ2VyKGcpKTpoIT09aiYmKGxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCIiKStoKSxmPXNldFRpbWVvdXQoYyxhLmZuW2ddLmRlbGF5KX12YXIgZixpPXt9LGo9ZSgpLGw9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LG09bCxuPWw7cmV0dXJuIGkuc3RhcnQ9ZnVuY3Rpb24oKXtmfHxjKCl9LGkuc3RvcD1mdW5jdGlvbigpe2YmJmNsZWFyVGltZW91dChmKSxmPWR9LGIuYXR0YWNoRXZlbnQmJiFiLmFkZEV2ZW50TGlzdGVuZXImJiFrJiZmdW5jdGlvbigpe3ZhciBiLGQ7aS5zdGFydD1mdW5jdGlvbigpe2J8fChkPWEuZm5bZ10uc3JjLGQ9ZCYmZCtlKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtkfHxtKGUoKSksYygpfSkuYXR0cigic3JjIixkfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGgub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXsidGl0bGUiPT09ZXZlbnQucHJvcGVydHlOYW1lJiYoYi5kb2N1bWVudC50aXRsZT1oLnRpdGxlKX1jYXRjaChhKXt9fSl9LGkuc3RvcD1sLG49ZnVuY3Rpb24oKXtyZXR1cm4gZShiLmxvY2F0aW9uLmhyZWYpfSxtPWZ1bmN0aW9uKGMsZCl7dmFyIGU9Yi5kb2N1bWVudCxmPWEuZm5bZ10uZG9tYWluO2MhPT1kJiYoZS50aXRsZT1oLnRpdGxlLGUub3BlbigpLGYmJmUud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2YrJyI8L3NjcmlwdD4nKSxlLmNsb3NlKCksYi5sb2NhdGlvbi5oYXNoPWMpfX0oKSxpfSgpfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2IubWF0Y2hNZWRpYT1iLm1hdGNoTWVkaWF8fGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kb2N1bWVudEVsZW1lbnQsZD1jLmZpcnN0RWxlbWVudENoaWxkfHxjLmZpcnN0Q2hpbGQsZT1hLmNyZWF0ZUVsZW1lbnQoImJvZHkiKSxmPWEuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGYuaWQ9Im1xLXRlc3QtMSIsZi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTEwMGVtIixlLnN0eWxlLmJhY2tncm91bmQ9Im5vbmUiLGUuYXBwZW5kQ2hpbGQoZiksZnVuY3Rpb24oYSl7cmV0dXJuIGYuaW5uZXJIVE1MPScmc2h5OzxzdHlsZSBtZWRpYT0iJythKyciPiAjbXEtdGVzdC0xIHsgd2lkdGg6IDQycHg7IH08L3N0eWxlPicsYy5pbnNlcnRCZWZvcmUoZSxkKSxiPTQyPT09Zi5vZmZzZXRXaWR0aCxjLnJlbW92ZUNoaWxkKGUpLHttYXRjaGVzOmIsbWVkaWE6YX19fShjKSxhLm1vYmlsZS5tZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4gYi5tYXRjaE1lZGlhKGEpLm1hdGNoZXN9fShhKSxmdW5jdGlvbihhKXt2YXIgYj17dG91Y2g6Im9udG91Y2hlbmQiaW4gY307YS5tb2JpbGUuc3VwcG9ydD1hLm1vYmlsZS5zdXBwb3J0fHx7fSxhLmV4dGVuZChhLnN1cHBvcnQsYiksYS5leHRlbmQoYS5tb2JpbGUuc3VwcG9ydCxiKX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gYiYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gYn0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGIsYz1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGU9KGErIiAiK3Auam9pbihjKyIgIikrYykuc3BsaXQoIiAiKTtmb3IoYiBpbiBlKWlmKG9bZVtiXV0hPT1kKXJldHVybiEwfWZ1bmN0aW9uIGYoYSxiLGQpe3ZhciBlLGYsZz1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSl9LGk9ZnVuY3Rpb24oYSl7cmV0dXJuIiI9PT1hPyIiOiItIithLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Euc3Vic3RyKDEpKyItIn0saj1mdW5jdGlvbihjKXt2YXIgZD1pKGMpK2ErIjogIitiKyI7IixlPWgoYyksaj1lKygiIj09PWU/YTpoKGEpKTtnLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpLGcuc3R5bGVbal0mJihmPSEwKX0saz1kP2Q6cDtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKWooa1tlXSk7cmV0dXJuISFmfWZ1bmN0aW9uIGcoKXt2YXIgYz1iLGQ9ISghYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlN8fCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJzdmciKS5jcmVhdGVTVkdSZWN0fHxjLm9wZXJhJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQ2hyb21lIikpLGU9ZnVuY3Rpb24oYil7YiYmZHx8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1ub3N2ZyIpfSxmPW5ldyBjLkltYWdlO2Yub25lcnJvcj1mdW5jdGlvbigpe2UoITEpfSxmLm9ubG9hZD1mdW5jdGlvbigpe2UoMT09PWYud2lkdGgmJjE9PT1mLmhlaWdodCl9LGYuc3JjPSJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3l3QUFBQUFBUUFCQUFBQ0FVd0FPdz09In1mdW5jdGlvbiBoKCl7dmFyIGUsZixnLGg9InRyYW5zZm9ybS0zZCIsaT1hLm1vYmlsZS5tZWRpYSgiKC0iK3Auam9pbigiLSIraCsiKSwoLSIpKyItIitoKyIpLCgiK2grIikiKTtpZihpKXJldHVybiEhaTtlPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZj17TW96VHJhbnNmb3JtOiItbW96LXRyYW5zZm9ybSIsdHJhbnNmb3JtOiJ0cmFuc2Zvcm0ifSxuLmFwcGVuZChlKTtmb3IoZyBpbiBmKWUuc3R5bGVbZ10hPT1kJiYoZS5zdHlsZVtnXT0idHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApIixpPWIuZ2V0Q29tcHV0ZWRTdHlsZShlKS5nZXRQcm9wZXJ0eVZhbHVlKGZbZ10pKTtyZXR1cm4hIWkmJiJub25lIiE9PWl9ZnVuY3Rpb24gaSgpe3ZhciBiLGMsZD1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGU9YSgiaGVhZCBiYXNlIiksZj1udWxsLGc9IiI7cmV0dXJuIGUubGVuZ3RoP2c9ZS5hdHRyKCJocmVmIik6ZT1mPWEoIjxiYXNlPiIse2hyZWY6ZH0pLmFwcGVuZFRvKCJoZWFkIiksYj1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhuKSxjPWJbMF0uaHJlZixlWzBdLmhyZWY9Z3x8bG9jYXRpb24ucGF0aG5hbWUsZiYmZi5yZW1vdmUoKSwwPT09Yy5pbmRleE9mKGQpfWZ1bmN0aW9uIGooKXt2YXIgYSxkPWMuY3JlYXRlRWxlbWVudCgieCIpLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1iLmdldENvbXB1dGVkU3R5bGU7cmV0dXJuInBvaW50ZXJFdmVudHMiaW4gZC5zdHlsZT8oZC5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIixkLnN0eWxlLnBvaW50ZXJFdmVudHM9IngiLGUuYXBwZW5kQ2hpbGQoZCksYT1mJiYiYXV0byI9PT1mKGQsIiIpLnBvaW50ZXJFdmVudHMsZS5yZW1vdmVDaGlsZChkKSwhIWEpOiExfWZ1bmN0aW9uIGsoKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3R9ZnVuY3Rpb24gbCgpe3ZhciBhPWIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9bmF2aWdhdG9yLnBsYXRmb3JtLGU9Yy5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZj0hIWUmJmVbMV0sZz1jLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLyksaD0hIWcmJmdbMV0saT1jLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGo9ISFpJiZpWzFdO3JldHVybihkLmluZGV4T2YoImlQaG9uZSIpPi0xfHxkLmluZGV4T2YoImlQYWQiKT4tMXx8ZC5pbmRleE9mKCJpUG9kIik+LTEpJiZmJiY1MzQ+Znx8YS5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSl8fGkmJjc0NTg+anx8Yy5pbmRleE9mKCJBbmRyb2lkIik+LTEmJmYmJjUzMz5mfHxoJiY2Pmh8fCJwYWxtR2V0UmVzb3VyY2UiaW4gYiYmZiYmNTM0PmZ8fGMuaW5kZXhPZigiTWVlR28iKT4tMSYmYy5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMTohMH12YXIgbSxuPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLG89blswXS5zdHlsZSxwPVsiV2Via2l0IiwiTW96IiwiTyJdLHE9InBhbG1HZXRSZXNvdXJjZSJpbiBiLHI9Yi5vcGVyYSxzPWIub3BlcmFtaW5pJiYiW29iamVjdCBPcGVyYU1pbmldIj09PXt9LnRvU3RyaW5nLmNhbGwoYi5vcGVyYW1pbmkpLHQ9Yi5ibGFja2JlcnJ5JiYhZSgiLXdlYmtpdC10cmFuc2Zvcm0iKTthLmV4dGVuZChhLm1vYmlsZSx7YnJvd3Nlcjp7fX0pLGEubW9iaWxlLmJyb3dzZXIub2xkSUU9ZnVuY3Rpb24oKXt2YXIgYT0zLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPWIuYWxsfHxbXTtkbyBiLmlubmVySFRNTD0iPCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tPiI7d2hpbGUoZFswXSk7cmV0dXJuIGE+ND9hOiFhfSgpLGEuZXh0ZW5kKGEuc3VwcG9ydCx7Y3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiBifHxmKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIsWyJXZWJraXQiLCJNb3oiLCIiXSkmJiFhLm1vYmlsZS5icm93c2VyLm9sZElFJiYhcixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnkmJiEoYi5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKT49MCYmYi50b3AhPT1iKSYmLTE9PT1iLm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9DcmlPUy8pLG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWUoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhZSgib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpoKCksY3NzQW5pbWF0aW9uczohIWUoImFuaW1hdGlvbk5hbWUiKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXQsZml4ZWRQb3NpdGlvbjpsKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBuWzBdKSYmIXEmJiFzLGR5bmFtaWNCYXNlVGFnOmkoKSxjc3NQb2ludGVyRXZlbnRzOmooKSxib3VuZGluZ1JlY3Q6aygpLGlubGluZVNWRzpnfSksbi5yZW1vdmUoKSxtPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8c3x8bSxtJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9IiMiPT09Yz8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxnZXREb2N1bWVudFVybDpmdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LHBhcnNlTG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVVybCh0aGlzLmdldExvY2F0aW9uKCkpfSxwYXJzZVVybDpmdW5jdGlvbihiKXtpZigib2JqZWN0Ij09PWEudHlwZShiKSlyZXR1cm4gYjt2YXIgYz1kLnVybFBhcnNlUkUuZXhlYyhifHwiIil8fFtdO3JldHVybntocmVmOmNbMF18fCIiLGhyZWZOb0hhc2g6Y1sxXXx8IiIsaHJlZk5vU2VhcmNoOmNbMl18fCIiLGRvbWFpbjpjWzNdfHwiIixwcm90b2NvbDpjWzRdfHwiIixkb3VibGVTbGFzaDpjWzVdfHwiIixhdXRob3JpdHk6Y1s2XXx8IiIsdXNlcm5hbWU6Y1s4XXx8IiIscGFzc3dvcmQ6Y1s5XXx8IiIsaG9zdDpjWzEwXXx8IiIsaG9zdG5hbWU6Y1sxMV18fCIiLHBvcnQ6Y1sxMl18fCIiLHBhdGhuYW1lOmNbMTNdfHwiIixkaXJlY3Rvcnk6Y1sxNF18fCIiLGZpbGVuYW1lOmNbMTVdfHwiIixzZWFyY2g6Y1sxNl18fCIiLGhhc2g6Y1sxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmO2lmKGEmJiIvIj09PWEuY2hhckF0KDApKXJldHVybiBhO2ZvcihhPWF8fCIiLGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiIsYz1iP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspc3dpdGNoKGY9ZFtlXSl7Y2FzZSIuIjpicmVhaztjYXNlIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChmKX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBkLnBhcnNlVXJsKGEpLmRvbWFpbj09PWQucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPSIiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8IiIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9Im9iamVjdCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHwiPyI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKCI/IiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpPyImIjoiIikrZisoZS5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShjKT9jLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLCIiKS5yZXBsYWNlKC9cPy4qJC8sIiIpOmQuaXNTYW1lRG9tYWluKGMsdGhpcy5kb2N1bWVudEJhc2UpP2MuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIikuc3BsaXQoZilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cPy4qJC8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKGYsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIGIucHJvdG9jb2wmJmIuZG9tYWluIT09dGhpcy5kb2N1bWVudFVybC5kb21haW4/ITA6ITF9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIiIhPT1iLnByb3RvY29sPyF0aGlzLmlzUGF0aChiLmhhc2gpJiZiLmhhc2gmJihiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50VXJsLmhyZWZOb0hhc2h8fHRoaXMuZG9jdW1lbnRCYXNlRGlmZmVycyYmYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGIuaHJlZil9LHNxdWFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGg9dGhpcy5pc1BhdGgoYSksaT10aGlzLnBhcnNlVXJsKGEpLGo9aS5oYXNoLGs9IiI7cmV0dXJuIGI9Ynx8KGQuaXNQYXRoKGEpP2QuZ2V0TG9jYXRpb24oKTpkLmdldERvY3VtZW50VXJsKCkpLGU9aD9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoaS5oYXNoKT9kLnN0cmlwSGFzaChpLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYoaz1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxoPygoZC5pc1BhdGgoail8fDA9PT1qLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaj0iIiksayYmLTE9PT1qLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGorPWspLC0xPT09ai5pbmRleE9mKCIjIikmJiIiIT09aiYmKGo9IiMiK2opLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrIi8vIitjLmhvc3QrYy5wYXRobmFtZStmK2opOmMrPWMuaW5kZXhPZigiIyIpPi0xP2s6IiMiK2ssY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9LGhhc2hUb1NlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPSIjIj09PWEuc3Vic3RyaW5nKDAsMSk7cmV0dXJuIGImJihhPWEuc3Vic3RyaW5nKDEpKSwoYj8iIyI6IiIpK2EucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KGYpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgZT1kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxmPWUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZlLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGc9YS5tb2JpbGUuZmlyc3RQYWdlLGg9ZyYmZ1swXT9nWzBdLmlkOmM7cmV0dXJuIGYmJighZS5oYXNofHwiIyI9PT1lLmhhc2h8fGgmJmUuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09aCl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9LGEuZXh0ZW5kKGEubW9iaWxlLHtnZXREb2N1bWVudFVybDpkLmdldERvY3VtZW50VXJsLGdldERvY3VtZW50QmFzZTpkLmdldERvY3VtZW50QmFzZX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZigiIyIpJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sY2xvc2VzdDpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuYWN0aXZlSW5kZXg7cmV0dXJuIGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZSgwLGQpKSxjPT09YiYmKGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZShkKSwhMCksYz1jPT09Yj9jOmMrZCksY30sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCksZT10aGlzLmFjdGl2ZUluZGV4O2QhPT1iJiYodGhpcy5hY3RpdmVJbmRleD1kLHRoaXMucHJldmlvdXNJbmRleD1lKSxlPmQ/KGMucHJlc2VudHx8Yy5iYWNrfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImJhY2siKTpkPmU/KGMucHJlc2VudHx8Yy5mb3J3YXJkfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImZvcndhcmQiKTpkPT09YiYmYy5taXNzaW5nJiZjLm1pc3NpbmcodGhpcy5nZXRBY3RpdmUoKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBkPWEubW9iaWxlLnBhdGgsZT1sb2NhdGlvbi5ocmVmO2EubW9iaWxlLk5hdmlnYXRvcj1mdW5jdGlvbihiKXt0aGlzLmhpc3Rvcnk9Yix0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSEwLGEubW9iaWxlLndpbmRvdy5iaW5kKHsicG9wc3RhdGUuaGlzdG9yeSI6YS5wcm94eSh0aGlzLnBvcHN0YXRlLHRoaXMpLCJoYXNoY2hhbmdlLmhpc3RvcnkiOmEucHJveHkodGhpcy5oYXNoY2hhbmdlLHRoaXMpfSl9LGEuZXh0ZW5kKGEubW9iaWxlLk5hdmlnYXRvci5wcm90b3R5cGUse3NxdWFzaDpmdW5jdGlvbihlLGYpe3ZhciBnLGgsaT1kLmlzUGF0aChlKT9kLnN0cmlwSGFzaChlKTplO3JldHVybiBoPWQuc3F1YXNoKGUpLGc9YS5leHRlbmQoe2hhc2g6aSx1cmw6aH0sZiksYi5oaXN0b3J5LnJlcGxhY2VTdGF0ZShnLGcudGl0bGV8fGMudGl0bGUsaCksZ30saGFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnO3JldHVybiBjPWQucGFyc2VVcmwoYSksZT1kLnBhcnNlTG9jYXRpb24oKSxlLnBhdGhuYW1lK2Uuc2VhcmNoPT09Yy5wYXRobmFtZStjLnNlYXJjaD9mPWMuaGFzaD9jLmhhc2g6Yy5wYXRobmFtZStjLnNlYXJjaDpkLmlzUGF0aChhKT8oZz1kLnBhcnNlVXJsKGIpLGY9Zy5wYXRobmFtZStnLnNlYXJjaCsoZC5pc1ByZXNlcnZhYmxlSGFzaChnLmhhc2gpP2cuaGFzaC5yZXBsYWNlKCIjIiwiIik6IiIpKTpmPWEsZn0sZ286ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaixrLGw9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2k9ZC5zcXVhc2goZSksaj10aGlzLmhhc2goZSxpKSxnJiZqIT09ZC5zdHJpcEhhc2goZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudCgicG9wc3RhdGUiKSxrLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChlLGgpLGd8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGEubW9iaWxlLndpbmRvdy50cmlnZ2VyKGspKSksdGhpcy5oaXN0b3J5LmFkZChoLnVybCxoKQp9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHZvaWQgMCk6dGhpcy5pZ25vcmVQb3BTdGF0ZT8odGhpcy5pZ25vcmVQb3BTdGF0ZT0hMSx2b2lkIDApOiFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJjE9PT10aGlzLmhpc3Rvcnkuc3RhY2subGVuZ3RoJiZ0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlJiYodGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMSxsb2NhdGlvbi5ocmVmPT09ZSk/KGIucHJldmVudERlZmF1bHQoKSx2b2lkIDApOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLGIuaGlzdG9yeVN0YXRlPWYsdm9pZCAwKToodGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pLHZvaWQgMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBlLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSl7aWYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2UpcmV0dXJuIHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPSExLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdm9pZCAwO2U9dGhpcy5oaXN0b3J5LGY9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6ZixwcmVzZW50OmZ1bmN0aW9uKGMsZCl7Yi5oYXNoY2hhbmdlU3RhdGU9YS5leHRlbmQoe30sYyksYi5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPWR9LG1pc3Npbmc6ZnVuY3Rpb24oKXtlLmFkZChmLHtoYXNoOmYsdGl0bGU6Yy50aXRsZX0pfX0pfX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubmF2aWdhdGU9ZnVuY3Rpb24oYixjLGQpe2EubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5nbyhiLGMsZCl9LGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk9bmV3IGEubW9iaWxlLkhpc3RvcnksYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yPW5ldyBhLm1vYmlsZS5OYXZpZ2F0b3IoYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSk7dmFyIGI9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCk7YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQoYi5ocmVmLHtoYXNoOmIuaGFzaH0pfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RSksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qy5sZW5ndGg7bj5tO20rKylpPUNbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix6KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseiksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TT0hMX1mdW5jdGlvbiBqKCl7TT0hMH1mdW5jdGlvbiBrKCl7UT0wLEsubGVuZ3RoPTAsTD0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEc9c2V0VGltZW91dChmdW5jdGlvbigpe0c9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0cmJihjbGVhclRpbWVvdXQoRyksRz0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjLGQ9YS5kYXRhKGIudGFyZ2V0LEEpO0x8fFEmJlE9PT1kfHwoYz1vKCJ2IitiLnR5cGUsYiksYyYmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gcShiKXt2YXIgYyxkLGYsaD1lKGIpLnRvdWNoZXM7aCYmMT09PWgubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZyYmKFE9UCsrLGEuZGF0YShjLEEsUSksbigpLGwoKSxKPSExLGY9ZShiKS50b3VjaGVzWzBdLEg9Zi5wYWdlWCxJPWYucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpKSl9ZnVuY3Rpb24gcihhKXtNfHwoSnx8bygidm1vdXNlY2FuY2VsIixhLGcoYS50YXJnZXQpKSxKPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTSl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SixmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0o9Snx8TWF0aC5hYnMoYy5wYWdlWC1IKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUkpPmYsSiYmIWQmJm8oInZtb3VzZWNhbmNlbCIsYixoKSxvKCJ2bW91c2Vtb3ZlIixiLGgpLG0oKX19ZnVuY3Rpb24gdChhKXtpZighTSl7aigpO3ZhciBiLGMsZD1nKGEudGFyZ2V0KTtvKCJ2bW91c2V1cCIsYSxkKSxKfHwoYj1vKCJ2Y2xpY2siLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKCJ2bW91c2VvdXQiLGEsZCksSj0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix6KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseix7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseik7ZFtiXT0hMCxGW2JdPShGW2JdfHwwKSsxLDE9PT1GW2JdJiZPLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxOJiYoRi50b3VjaHN0YXJ0PShGLnRvdWNoc3RhcnR8fDApKzEsMT09PUYudG91Y2hzdGFydCYmTy5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUZbYl0sRltiXXx8Ty51bmJpbmQoYyxwKSxOJiYoLS1GLnRvdWNoc3RhcnQsRi50b3VjaHN0YXJ0fHxPLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej0idmlydHVhbE1vdXNlQmluZGluZ3MiLEE9InZpcnR1YWxUb3VjaElEIixCPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxDPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPSJhZGRFdmVudExpc3RlbmVyImluIGMsTz1hKGMpLFA9MSxRPTA7Zm9yKGEudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH0seT0wO3k8Qi5sZW5ndGg7eSsrKWEuZXZlbnQuc3BlY2lhbFtCW3ldXT13KEJbeV0pO04mJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUsubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9S1tmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgMDtlPWUucGFyZW50Tm9kZX19LCEwKX0oYSxiLGMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YyxhLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixkKSxkLnR5cGU9ZX12YXIgZD1hKGMpLGU9YS5tb2JpbGUuc3VwcG9ydC50b3VjaCxmPSJ0b3VjaG1vdmUgc2Nyb2xsIixnPWU/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGg9ZT8idG91Y2hlbmQiOiJtb3VzZXVwIixpPWU/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bY109ITApfSksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLGMpe2Q9YyxiKGcsZD8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgZCxlLGc9dGhpcyxoPWEoZyk7aC5iaW5kKGYsZnVuY3Rpb24oYil7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihkfHxjKGIsITApLGNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKGIsITEpfSw1MCkpfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoZil9fSxhLmV2ZW50LnNwZWNpYWwudGFwPXt0YXBob2xkVGhyZXNob2xkOjc1MCxlbWl0VGFwT25UYXBob2xkOiEwLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxlPWEoYyksZj0hMTtlLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGcpe2Z1bmN0aW9uIGgoKXtjbGVhclRpbWVvdXQoayl9ZnVuY3Rpb24gaSgpe2goKSxlLnVuYmluZCgidmNsaWNrIixqKS51bmJpbmQoInZtb3VzZXVwIixoKSxkLnVuYmluZCgidm1vdXNlY2FuY2VsIixpKX1mdW5jdGlvbiBqKGEpe2koKSxmfHxsIT09YS50YXJnZXQ/ZiYmYS5zdG9wUHJvcGFnYXRpb24oKTpiKGMsInRhcCIsYSl9aWYoZj0hMSxnLndoaWNoJiYxIT09Zy53aGljaClyZXR1cm4hMTt2YXIgayxsPWcudGFyZ2V0O2UuYmluZCgidm1vdXNldXAiLGgpLmJpbmQoInZjbGljayIsaiksZC5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpLGs9c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC50YXAuZW1pdFRhcE9uVGFwaG9sZHx8KGY9ITApLGIoYywidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpsfSkpfSxhLmV2ZW50LnNwZWNpYWwudGFwLnRhcGhvbGRUaHJlc2hvbGQpfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInZtb3VzZWRvd24iKS51bmJpbmQoInZjbGljayIpLnVuYmluZCgidm1vdXNldXAiKSxkLnVuYmluZCgidm1vdXNlY2FuY2VsIil9fSxhLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MzAsZHVyYXRpb25UaHJlc2hvbGQ6MWUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldLG9yaWdpbjphKGIudGFyZ2V0KX19LHN0b3A6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YTtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2IucGFnZVgsYi5wYWdlWV19fSxoYW5kbGVTd2lwZTpmdW5jdGlvbihjLGQsZSxmKXtpZihkLnRpbWUtYy50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoYy5jb29yZHNbMF0tZC5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGMuY29vcmRzWzFdLWQuY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCl7dmFyIGc9Yy5jb29yZHNbMF0+ZC5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiO3JldHVybiBiKGUsInN3aXBlIixhLkV2ZW50KCJzd2lwZSIse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yyxzd2lwZXN0b3A6ZH0pKSxiKGUsZyxhLkV2ZW50KGcse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yyxzd2lwZXN0b3A6ZH0pKSwhMH1yZXR1cm4hMX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoZyxmdW5jdGlvbihkKXtmdW5jdGlvbiBlKGMpe2cmJihmPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGMpLGt8fChrPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGYsYixqKSksTWF0aC5hYnMoZy5jb29yZHNbMF0tZi5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZjLnByZXZlbnREZWZhdWx0KCkpfXZhciBmLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGQpLGo9ZC50YXJnZXQsaz0hMTtjLmJpbmQoaSxlKS5vbmUoaCxmdW5jdGlvbigpe2s9ITAsYy51bmJpbmQoaSxlKX0pfSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoZykudW5iaW5kKGkpLnVuYmluZChoKX19LGEuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixmKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT0ib3JpZW50YXRpb25jaGFuZ2UiLG49ezA6ITAsMTgwOiEwfTthLnN1cHBvcnQub3JpZW50YXRpb24mJihpPWIuaW5uZXJXaWR0aHx8bC53aWR0aCgpLGo9Yi5pbm5lckhlaWdodHx8bC5oZWlnaHQoKSxrPTUwLGc9aT5qJiZpLWo+ayxoPW5bYi5vcmllbnRhdGlvbl0sKGcmJmh8fCFnJiYhaCkmJihuPXsiLTkwIjohMCw5MDohMH0pKSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGY9ZSgpLGwuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSx2b2lkIDApfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQub3JpZW50YXRpb24mJiFhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGwudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpLHZvaWQgMCl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9yaWVudGF0aW9uPWUoKSxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxlPWMuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9uW2Iub3JpZW50YXRpb25dOmUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoImhlYWQiKS5jaGlsZHJlbigiYmFzZSIpLGM9e2VsZW1lbnQ6Yi5sZW5ndGg/YjphKCI8YmFzZT4iLHtocmVmOmEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8oYSgiaGVhZCIpKSxsaW5rU2VsZWN0b3I6IltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIixzZXQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUuZHluYW1pY0Jhc2VFbmFibGVkJiZhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcmJmMuZWxlbWVudC5hdHRyKCJocmVmIixhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlKSl9LHJld3JpdGU6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLm1vYmlsZS5wYXRoLmdldChiKTtkLmZpbmQoYy5saW5rU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YShjKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixmPWEoYykuYXR0cihkKTtmPWYucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoZil8fGEoYykuYXR0cihkLGUrZil9KX0scmVzZXQ6ZnVuY3Rpb24oKXtjLmVsZW1lbnQuYXR0cigiaHJlZiIsYS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vU2VhcmNoKX19O2EubW9iaWxlLmJhc2U9Y30oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS53aWRnZXRzPXt9O3ZhciBjPWEud2lkZ2V0LGQ9YS5tb2JpbGUua2VlcE5hdGl2ZTthLndpZGdldD1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPWQucHJvdG90eXBlLndpZGdldE5hbWU7cmV0dXJuIGQuaW5pdFNlbGVjdG9yPWQucHJvdG90eXBlLmluaXRTZWxlY3RvciE9PWI/ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSciK2UrIicpIixhLm1vYmlsZS53aWRnZXRzW2VdPWQsZH19KGEud2lkZ2V0KSxhLmV4dGVuZChhLndpZGdldCxjKSxhLm1vYmlsZS5kb2N1bWVudC5vbigiY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5lbmhhbmNlV2l0aGluKCl9KSxhLndpZGdldCgibW9iaWxlLnBhZ2UiLHtvcHRpb25zOnt0aGVtZToiYSIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6YS5tb2JpbGUua2VlcE5hdGl2ZSxjb250ZW50VGhlbWU6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbigpe2EuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90cmlnZ2VyKCJpbml0Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMT8hMToodGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlKCksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSx0aGlzLmVsZW1lbnQuZW5oYW5jZVdpdGhpbigpLCJkaWFsb2ciPT09YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwicm9sZSIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSx2b2lkIDApfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPSJkYXRhLSIrYS5tb2JpbGUubnMsZD10aGlzO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKCJbIitjKyJyb2xlPSdjb250ZW50J10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKGMrInRoZW1lIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fCJkaWFsb2ciPT09ZC5lbGVtZW50LmpxbURhdGEoInJvbGUiKSYmZC5vcHRpb25zLnRoZW1lLGUuYWRkQ2xhc3MoInVpLWNvbnRlbnQiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5vcHRpb25zLmNvbnRlbnRUaGVtZSksZS5hdHRyKCJyb2xlIiwibWFpbiIpLmFkZENsYXNzKCJ1aS1jb250ZW50Iil9KX0sYmluZFJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQ7IWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZjLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYy5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGJ8fGZ1bmN0aW9uKGIsYyl7aWYoIWMuc2FtZVBhZ2Upe3ZhciBkPWEodGhpcyksZT1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2QudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9fSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2MudGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy50aGVtZSksYy5jb250ZW50VGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQuZmluZCgiW2RhdGEtIithLm1vYmlsZS5ucysiPSdjb250ZW50J10iKS5yZW1vdmVDbGFzcygidWktYm9keS0iK3RoaXMub3B0aW9ucy5jb250ZW50VGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5jb250ZW50VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCI6bW9iaWxlLXBhZ2Vjb250YWluZXIiKS5wYWdlY29udGFpbmVyKHt0aGVtZToibm9uZSJ9KX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucGFyZW50KCkucGFnZWNvbnRhaW5lcih7dGhlbWU6YXx8dGhpcy5vcHRpb25zLnRoZW1lfSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWEudHJpbShiLmtlZXBOYXRpdmV8fCIiKSxlPWEudHJpbShhLm1vYmlsZS5rZWVwTmF0aXZlKSxmPWEudHJpbShiLmtlZXBOYXRpdmVEZWZhdWx0KSxnPWQ9PT1lPyIiOmUsaD0iIj09PWc/ZjoiIjtyZXR1cm4oYz9bY106W10pLmNvbmNhdChnP1tnXTpbXSkuY29uY2F0KGg/W2hdOltdKS5qb2luKCIsICIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZWNvbnRhaW5lciIse29wdGlvbnM6e3RoZW1lOiJhIn0saW5pdFNlbGVjdG9yOiExLF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2ZpbHRlck5hdmlnYXRlRXZlbnRzIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2Rpc2FibGVSZWNvcmRTY3JvbGwiLHNjcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOiJfYWZ0ZXJDb250ZW50Q2hhbmdlIn0pLHRoaXMud2luZG93Lm9uZSgibmF2aWdhdGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSx0aGlzKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiYibm9uZSIhPT1hLnRoZW1lP3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLW92ZXJsYXktIithLnRoZW1lKTphLnRoZW1lIT09ZCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9zdXBlcihhKX0sX2Rpc2FibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSExfSxfZW5hYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sX2FmdGVyQ29udGVudENoYW5nZTpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb2ZmKHRoaXMud2luZG93LCJzY3JvbGxzdG9wIiksdGhpcy5fb24odGhpcy53aW5kb3cse3Njcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pfSxfcmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCl7dmFyIGEsYixjLGQ9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpO2QmJihhPXRoaXMuX2dldFNjcm9sbCgpLGI9dGhpcy5fZ2V0TWluU2Nyb2xsKCksYz10aGlzLl9nZXREZWZhdWx0U2Nyb2xsKCksZC5sYXN0U2Nyb2xsPWI+YT9jOmEpfX0sX2RlbGF5ZWRSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3JlY29yZFNjcm9sbCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCl9LF9nZXRNaW5TY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubWluU2Nyb2xsQmFja30sX2dldERlZmF1bHRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGx9LF9maWx0ZXJOYXZpZ2F0ZUV2ZW50czpmdW5jdGlvbihiLGMpe3ZhciBkO2Iub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1iLm9yaWdpbmFsRXZlbnQudHlwZS5pbmRleE9mKCJoYXNoY2hhbmdlIik+LTE/Yy5zdGF0ZS5oYXNoOmMuc3RhdGUudXJsLGR8fChkPXRoaXMuX2dldEhhc2goKSksZCYmIiMiIT09ZCYmMCE9PWQuaW5kZXhPZigiIyIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksdGhpcy5faGFuZGxlTmF2aWdhdGUoZCxjLnN0YXRlKSl9LF9nZXRIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2h9LGdldEFjdGl2ZVBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVQYWdlfSxfZ2V0SW5pdGlhbENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZmlyc3RQYWdlfSxfZ2V0SGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5fSxfZ2V0QWN0aXZlSGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpfSxfZ2V0RG9jdW1lbnRCYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5nbygtMSl9LGZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLmdvKDEpfSxnbzpmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCliLmhpc3RvcnkuZ28oYyk7ZWxzZXt2YXIgZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LGU9ZCtwYXJzZUludChjLDEwKSxmPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2tbZV0udXJsLGc9Yz49MT8iZm9yd2FyZCI6ImJhY2siO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuInN0cmluZyI9PT1hLnR5cGUoYikmJihiPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpKSxiJiYoYz10aGlzLl9nZXRIaXN0b3J5KCksYj1hLm1vYmlsZS5wYXRoLmlzUGF0aChiKT9iOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitiLHRoaXMuX2dldERvY3VtZW50QmFzZSgpKSxiPT09YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MuaW5pdGlhbERzdCx0aGlzLl9nZXREb2N1bWVudEJhc2UoKSkmJmMuc3RhY2subGVuZ3RoJiZjLnN0YWNrWzBdLnVybCE9PWMuaW5pdGlhbERzdC5yZXBsYWNlKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXksIiIpJiYoYj10aGlzLl9nZXRJbml0aWFsQ29udGVudCgpKSksYnx8dGhpcy5fZ2V0SW5pdGlhbENvbnRlbnQoKX0sX2hhbmRsZURpYWxvZzpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj10aGlzLmdldEFjdGl2ZVBhZ2UoKTtyZXR1cm4gZiYmIWYuaGFzQ2xhc3MoInVpLWRpYWxvZyIpPygiYmFjayI9PT1jLmRpcmVjdGlvbj90aGlzLmJhY2soKTp0aGlzLmZvcndhcmQoKSwhMSk6KGQ9Yy5wYWdlVXJsLGU9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpLGEuZXh0ZW5kKGIse3JvbGU6ZS5yb2xlLHRyYW5zaXRpb246ZS50cmFuc2l0aW9uLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259KSxkKX0sX2hhbmRsZU5hdmlnYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGU9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYiksZj10aGlzLl9nZXRIaXN0b3J5KCksZz0wPT09Zi5zdGFjay5sZW5ndGg/Im5vbmUiOmQsaD17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOiJiYWNrIj09PWMuZGlyZWN0aW9ufTthLmV4dGVuZChoLGMse3RyYW5zaXRpb246KGYuZ2V0TGFzdCgpfHx7fSkudHJhbnNpdGlvbnx8Z30pLGYuYWN0aXZlSW5kZXg+MCYmZS5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZmLmluaXRpYWxEc3QhPT1lJiYoZT10aGlzLl9oYW5kbGVEaWFsb2coaCxjKSxlPT09ITEpfHx0aGlzLl9jaGFuZ2VDb250ZW50KHRoaXMuX2hhbmRsZURlc3RpbmF0aW9uKGUpLGgpfSxfY2hhbmdlQ29udGVudDpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmNoYW5nZVBhZ2UoYixjKX0sX2dldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYmFzZX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJzaG93IixjLGQsZSksdGhpcy5fbG9hZE1zZz0wfSx0aGlzKSxiKSl9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9sb2FkTXNnPTAsdGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJoaWRlIil9LF9zaG93RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlTG9hZGluZygpLHRoaXMuX3Nob3dMb2FkaW5nKDAsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9oaWRlTG9hZGluZyIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoIjxkaXY+PC9kaXY+Iik7cmV0dXJuIGUuZ2V0KDApLmlubmVySFRNTD1iLGQ9ZS5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxkLmxlbmd0aHx8KGQ9YSgiPGRpdiBkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT0ncGFnZSc+IisoYi5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksZC5hdHRyKCJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsIixhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoYykpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJleHRlcm5hbC1wYWdlIiwhMCksZH0sX3NldExvYWRlZFRpdGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDE7ZCYmIWIuanFtRGF0YSgidGl0bGUiKSYmKGQ9YSgiPGRpdj4iK2QrIjwvZGl2PiIpLnRleHQoKSxiLmpxbURhdGEoInRpdGxlIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoInBhZ2UiK2IpLGY9YS5FdmVudCh0aGlzLndpZGdldE5hbWUrYik7cmV0dXJuKGR8fHRoaXMuZWxlbWVudCkudHJpZ2dlcihlLGMpLHRoaXMuZWxlbWVudC50cmlnZ2VyKGYsYykse2RlcHJlY2F0ZWRFdmVudDplLGV2ZW50OmZ9fSxfbG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9dGhpcy5fY3JlYXRlRmlsZVVybChiKSxoPXRoaXMuX2NyZWF0ZURhdGFVcmwoYik7cmV0dXJuIGEucHJveHkoZnVuY3Rpb24oaSxqLGspe3ZhciBsLG09bmV3IFJlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIit0aGlzLl9nZXROcygpKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksbj1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTttLnRlc3QoaSkmJlJlZ0V4cC4kMSYmbi50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGc9YS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSxlLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnNldChnKSxsPXRoaXMuX3BhcnNlKGksZyksdGhpcy5fc2V0TG9hZGVkVGl0bGUobCxpKSxjLnhocj1rLGMudGV4dFN0YXR1cz1qLGMucGFnZT1sLGMuY29udGVudD1sLHRoaXMuX3RyaWdnZXIoImxvYWQiLGQsYykmJih0aGlzLl9pc1Jld3JpdGFibGVCYXNlVGFnKCkmJmwmJnRoaXMuX2dldEJhc2UoKS5yZXdyaXRlKGcsbCksdGhpcy5faW5jbHVkZShsLGUpLGIuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihsPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiW2RhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9JyIraCsiJ10iKSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigicGFnZWxvYWQiKSxmLnJlc29sdmUoYixlLGwpKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscmVsb2FkOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMSxsb2FkTXNnRGVsYXk6NTB9LGxvYWQ6ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGcsaCxpPWMmJmMuZGVmZXJyZWR8fGEuRGVmZXJyZWQoKSxqPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjKSxrPW51bGwsbD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk7cmV0dXJuIGoucmVsb2FkPWoucmVsb2FkUGFnZSxqLmRhdGEmJiJnZXQiPT09ai50eXBlJiYobD1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhsLGouZGF0YSksai5kYXRhPWQpLGouZGF0YSYmInBvc3QiPT09ai50eXBlJiYoai5yZWxvYWQ9ITApLGU9dGhpcy5fY3JlYXRlRmlsZVVybChsKSxmPXRoaXMuX2NyZWF0ZURhdGFVcmwobCksaz10aGlzLl9maW5kKGwpLDA9PT1rLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShlKSYmIWEubW9iaWxlLnBhdGguaXNGaXJzdFBhZ2VVcmwoZSk/KGkucmVqZWN0KGwsaiksdm9pZCAwKToodGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksay5sZW5ndGgmJiFqLnJlbG9hZD8odGhpcy5fZW5oYW5jZShrLGoucm9sZSksaS5yZXNvbHZlKGwsaixrKSxqLnByZWZldGNofHx0aGlzLl9nZXRCYXNlKCkuc2V0KGIpLHZvaWQgMCk6KGg9e3VybDpiLGFic1VybDpsLGRhdGFVcmw6ZixkZWZlcnJlZDppLG9wdGlvbnM6an0sZz10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImJlZm9yZWxvYWQiLGgpLGcuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxnLmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpP3ZvaWQgMDooai5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0xvYWRpbmcoai5sb2FkTXNnRGVsYXkpLGoucHJlZmV0Y2g9PT1kJiZ0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXN8fGEubW9iaWxlLnBhdGguaXNTYW1lRG9tYWluKGEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsbCk/KGEuYWpheCh7dXJsOmUsdHlwZTpqLnR5cGUsZGF0YTpqLmRhdGEsY29udGVudFR5cGU6ai5jb250ZW50VHlwZSxkYXRhVHlwZToiaHRtbCIsc3VjY2Vzczp0aGlzLl9sb2FkU3VjY2VzcyhsLGgsaixpKSxlcnJvcjp0aGlzLl9sb2FkRXJyb3IobCxoLGosaSl9KSx2b2lkIDApOihpLnJlamVjdChsLGopLHZvaWQgMCkpKSl9LF9sb2FkRXJyb3I6ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIGEucHJveHkoZnVuY3Rpb24oZixnLGgpe3RoaXMuX2dldEJhc2UoKS5zZXQoYS5tb2JpbGUucGF0aC5nZXQoKSksYy54aHI9ZixjLnRleHRTdGF0dXM9ZyxjLmVycm9yVGhyb3duPWg7dmFyIGk9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJsb2FkZmFpbGVkIixjKTtpLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8aS5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQuc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dFcnJvcigpLGUucmVqZWN0KGIsZCkpfSx0aGlzKX0sX2dldFRyYW5zaXRpb25IYW5kbGVyOmZ1bmN0aW9uKGIpe3JldHVybiBiPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfSxfdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHM6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPSExO2Q9ZHx8IiIsYyYmKGJbMF09PT1jWzBdJiYoZT0hMCksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKGQrImhpZGUiLHtuZXh0UGFnZTpiLHNhbWVQYWdlOmV9LGMpKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCsic2hvdyIse3ByZXZQYWdlOmN8fGEoIiIpfSxiKX0sX2Nzc1RyYW5zaXRpb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz1kLnRyYW5zaXRpb24saD1kLnJldmVyc2UsaT1kLmRlZmVycmVkO3RoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKGIsYywiYmVmb3JlIiksdGhpcy5faGlkZUxvYWRpbmcoKSxlPXRoaXMuX2dldFRyYW5zaXRpb25IYW5kbGVyKGcpLGY9bmV3IGUoZyxoLGIsYykudHJhbnNpdGlvbigpLGYuZG9uZShmdW5jdGlvbigpe2kucmVzb2x2ZS5hcHBseShpLGFyZ3VtZW50cyl9KSxmLmRvbmUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKGIsYyl9LHRoaXMpKX0sX3JlbGVhc2VUcmFuc2l0aW9uTG9jazpmdW5jdGlvbigpe2Y9ITEsZS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLGUucG9wKCkpfSxfcmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyhiKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe2Y9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImNoYW5nZWZhaWxlZCIsYyl9LHRoaXMpKX0sX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpO3JldHVybiBhLmV4dGVuZChjLHt0b1BhZ2U6YixvcHRpb25zOmR9KSxjLmFic1VybD0ic3RyaW5nIj09PWEudHlwZShiKT9hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk6ZC5hYnNVcmwsdGhpcy5lbGVtZW50LnRyaWdnZXIoZSxjKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihmKXJldHVybiBlLnVuc2hpZnQoYXJndW1lbnRzKSx2b2lkIDA7dmFyIGQ9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxjKSxnPXt9O2QuZnJvbVBhZ2U9ZC5mcm9tUGFnZXx8dGhpcy5hY3RpdmVQYWdlLHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxkKSYmKGI9Zy50b1BhZ2UsInN0cmluZyI9PT1hLnR5cGUoYik/KGY9ITAsdGhpcy5fbG9hZFVybChiLGcsZCkpOnRoaXMudHJhbnNpdGlvbihiLGcsZCkpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGIsZyxoKXt2YXIgaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2O2lmKGYpcmV0dXJuIGUudW5zaGlmdChbYixoXSksdm9pZCAwO2lmKHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxoKSYmKHY9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmV0cmFuc2l0aW9uIixnKSwhdi5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkmJiF2LmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSl7aWYoZj0hMCxiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdfHxoLmRhdGFVcmx8fChoLmRhdGFVcmw9YS5tb2JpbGUucGF0aC5kb2N1bWVudFVybC5ocmVmTm9IYXNoKSxpPWguZnJvbVBhZ2Usaj1oLmRhdGFVcmwmJmEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChoLmRhdGFVcmwpfHxiLmpxbURhdGEoInVybCIpLGs9aixsPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoaiksbT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLG49MD09PWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsbz0wLHA9Yy50aXRsZSxxPSgiZGlhbG9nIj09PWgucm9sZXx8ImRpYWxvZyI9PT1iLmpxbURhdGEoInJvbGUiKSkmJmIuanFtRGF0YSgiZGlhbG9nIikhPT0hMCxpJiZpWzBdPT09YlswXSYmIWguYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pcmV0dXJuIGY9ITEsdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJ0cmFuc2l0aW9uIixnKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigicGFnZWNoYW5nZSIsZyksaC5mcm9tSGFzaENoYW5nZSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5kaXJlY3Qoe3VybDpqfSksdm9pZCAwO2IucGFnZSh7cm9sZTpoLnJvbGV9KSxoLmZyb21IYXNoQ2hhbmdlJiYobz0iYmFjayI9PT1oLmRpcmVjdGlvbj8tMToxKTt0cnl7Yy5hY3RpdmVFbGVtZW50JiYiYm9keSIhPT1jLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9hKGMuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKHcpe31yPSExLHEmJm0mJihtLnVybCYmbS51cmwuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT4tMSYmdGhpcy5hY3RpdmVQYWdlJiYhdGhpcy5hY3RpdmVQYWdlLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD4wJiYoaC5jaGFuZ2VIYXNoPSExLHI9ITApLGo9bS51cmx8fCIiLGorPSFyJiZqLmluZGV4T2YoIiMiKT4tMT9hLm1vYmlsZS5kaWFsb2dIYXNoS2V5OiIjIithLm1vYmlsZS5kaWFsb2dIYXNoS2V5LDA9PT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4JiZqPT09YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5pbml0aWFsRHN0JiYoais9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSkpLHM9bT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnAscyYmcD09PWMudGl0bGUmJihwPXMpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHQ9e3RyYW5zaXRpb246aC50cmFuc2l0aW9uLHRpdGxlOnAscGFnZVVybDprLHJvbGU6aC5yb2xlfSxoLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUoaix0LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHQpKSxjLnRpdGxlPXAsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLHRoaXMuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+byx1PWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6dX0pLHUuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxlLGYsaSl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCksaC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJwYWdlY2hhbmdlIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoInRyYW5zaXRpb24iLGcpfSx0aGlzKSl9fSxfZmluZEJhc2VXaXRoRGVmYXVsdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuYWN0aXZlUGFnZSYmYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwodGhpcy5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaH19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKTt2YXIgZT1bXSxmPSExfShhKSxmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSl7Zm9yKDthJiYoInN0cmluZyIhPXR5cGVvZiBhLm5vZGVOYW1lfHwiYSIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX12YXIgZT1hLkRlZmVycmVkKCksZj1hLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLGc9bnVsbDthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBkO3JldHVybiBjPWN8fHt9LGQ9Yy5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGMuZGVmZXJyZWQ9YS5EZWZlcnJlZCgpLGQucGFnZWNvbnRhaW5lcigibG9hZCIsYixjKSxjLmRlZmVycmVkLnByb21pc2UoKX0sYS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBjPWIubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmYyYmYy5hcHAmJmMuYXBwLmJhY2tIaXN0b3J5P2MuYXBwLmJhY2tIaXN0b3J5KCk6YS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCJiYWNrIil9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO3JldHVybiBiLmxlbmd0aD8oYi5mb2N1cygpLHZvaWQgMCk6KGMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCksdm9pZCAwKX0sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9LGEubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImNoYW5nZSIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpjLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmMsZHVwbGljYXRlQ2FjaGVkUGFnZTpjLHBhZ2VDb250YWluZXI6YyxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmMsZnJvbVBhZ2U6YyxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihiLGMpe3ZhciBkLGUsaCxpLGo9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCFiLmpxbUhpamFja2FibGUoKS5sZW5ndGh8fGIuYXR0cigidGFyZ2V0Iik/ITE6KGQ9ZyYmZy5hdHRyKCJmb3JtYWN0aW9uIil8fGIuYXR0cigiYWN0aW9uIiksaT0oYi5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYiksImdldCI9PT1pJiYoZD1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGQpLmhyZWZOb1NlYXJjaCksZD09PWEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gmJihkPWYuaHJlZk5vU2VhcmNoKSksZD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShkLGEubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKGIpKSxhLm1vYmlsZS5wYXRoLmlzRXh0ZXJuYWwoZCkmJiFhLm1vYmlsZS5wYXRoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KGYsZCk/ITE6KGN8fChlPWIuc2VyaWFsaXplQXJyYXkoKSxnJiZnWzBdLmZvcm09PT1iWzBdJiYoaD1nLmF0dHIoIm5hbWUiKSxoJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09aD8oaD0iIiwhMSk6dm9pZCAwfSksaCYmZS5wdXNoKHtuYW1lOmgsdmFsdWU6Zy5hdHRyKCJ2YWx1ZSIpfSkpKSxqPXt1cmw6ZCxvcHRpb25zOnt0eXBlOmksZGF0YTphLnBhcmFtKGUpLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT1iLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksaikpfTthLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGM9ZShhKHRoaXMpKSxjJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShjLnVybCxjLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgYyxmLGg9Yi50YXJnZXQsaT0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYoZz1hKGgpLGEuZGF0YShoLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFlKGEoaCkuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47aC5wYXJlbnROb2RlJiYoaD1oLnBhcmVudE5vZGUpfWVsc2V7aWYoaD1kKGgpLCFofHwiIyI9PT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGguZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoaCkuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmguY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2gucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGgucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoaCwiYnV0dG9uRWxlbWVudHMiKSxmP2g9Zi5vdXRlcjppPSEwLGM9YShoKSxpJiYoYz1jLmNsb3Nlc3QoIi51aS1idG4iKSksYy5sZW5ndGg+MCYmIWMuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikmJihhLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPWMsYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJjbGljayIsZnVuY3Rpb24oZSl7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGcsaCxpLGosayxsLG0sbj1kKGUudGFyZ2V0KSxvPWEobikscD1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCl9LDIwMCl9O2lmKGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rJiZhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua1swXT09PWUudGFyZ2V0LnBhcmVudE5vZGUmJnAoKSxuJiYhKGUud2hpY2g+MSkmJm8uanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoby5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLCExO2lmKGc9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwobyksaD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShvLmF0dHIoImhyZWYiKXx8IiMiLGcpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWEubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoaCkpcmV0dXJuIHAoKSx2b2lkIDA7aWYoLTEhPT1oLnNlYXJjaCgiIyIpKXtpZihoPWgucmVwbGFjZSgvW14jXSojLywiIiksIWgpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx2b2lkIDA7aD1hLm1vYmlsZS5wYXRoLmlzUGF0aChoKT9hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShoLGcpOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitoLGYuaHJlZk5vSGFzaCl9aWYoaT1vLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fG8uaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8by5pcygiW3RhcmdldF0iKSxqPWl8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChoKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoZixoKSlyZXR1cm4gcCgpLHZvaWQgMDtrPW8uanFtRGF0YSgidHJhbnNpdGlvbiIpLGw9InJldmVyc2UiPT09by5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8by5qcW1EYXRhKCJiYWNrIiksbT1vLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGMsYS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0cmFuc2l0aW9uOmsscmV2ZXJzZTpsLHJvbGU6bSxsaW5rOm99KSxlLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCksYS5tb2JpbGUud2luZG93LmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KX0sYShmdW5jdGlvbigpe2UucmVzb2x2ZSgpfSksYS53aGVuKGUsYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6IiB1aS1wYWdlLXByZS1pbiIsaW5pdDpmdW5jdGlvbihiLGMsZCxlKXthLmV4dGVuZCh0aGlzLHtuYW1lOmIscmV2ZXJzZTpjLCR0bzpkLCRmcm9tOmUsZGVmZXJyZWQ6bmV3IGEuRGVmZXJyZWR9KX0sY2xlYW5Gcm9tOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK3RoaXMubmFtZSkuaGVpZ2h0KCIiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIiksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09dGhpcy50b1Njcm9sbCYmdGhpcy5zY3JvbGxQYWdlKCksdGhpcy5zZXF1ZW50aWFsfHx0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLHRoaXMuZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm5hbWUsdGhpcy5yZXZlcnNlLHRoaXMuJHRvLHRoaXMuJGZyb20sITApfSxkb25lT3V0OmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYmVmb3JlRG9uZU91dCgpLHRoaXMuc3RhcnRJbihhLGIsYyxkKX0saGlkZUluOmZ1bmN0aW9uKGEpe3RoaXMuJHRvLmNzcygiei1pbmRleCIsLTEwKSxhLmNhbGwodGhpcyksdGhpcy4kdG8uY3NzKCJ6LWluZGV4IiwiIil9LHNjcm9sbFBhZ2U6ZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSwoYS5tb2JpbGUuaGlkZVVybEJhcnx8dGhpcy50b1Njcm9sbCE9PWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSYmYi5zY3JvbGxUbygwLHRoaXMudG9TY3JvbGwpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sc3RhcnRJbjpmdW5jdGlvbihiLGMsZCxlKXt0aGlzLmhpZGVJbihmdW5jdGlvbigpe3RoaXMuJHRvLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyt0aGlzLnRvUHJlQ2xhc3MpLGV8fGEubW9iaWxlLmZvY3VzUGFnZSh0aGlzLiR0byksdGhpcy4kdG8uaGVpZ2h0KGIrdGhpcy50b1Njcm9sbCksZHx8dGhpcy5zY3JvbGxQYWdlKCl9KSxkfHx0aGlzLiR0by5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5kb25lSW4oKX0sdGhpcykpLHRoaXMuJHRvLnJlbW92ZUNsYXNzKHRoaXMudG9QcmVDbGFzcykuYWRkQ2xhc3ModGhpcy5uYW1lKyIgaW4gIitjKSxkJiZ0aGlzLmRvbmVJbigpfSxzdGFydE91dDpmdW5jdGlvbihiLGMsZCl7dGhpcy5iZWZvcmVTdGFydE91dChiLGMsZCksdGhpcy4kZnJvbS5oZWlnaHQoYithLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKHRoaXMubmFtZSsiIG91dCIrYyl9LHRvZ2dsZVZpZXdwb3J0Q2xhc3M6ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK3RoaXMubmFtZSl9LHRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnJldmVyc2U/IiByZXZlcnNlIjoiIixjPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGQ9YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoIT09ITEmJmEubW9iaWxlLndpbmRvdy53aWR0aCgpPmEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCxlPSFhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnN8fCFhLnN1cHBvcnQuY3NzQW5pbWF0aW9uc3x8ZHx8IXRoaXMubmFtZXx8Im5vbmUiPT09dGhpcy5uYW1lfHxNYXRoLm1heChhLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy50b1Njcm9sbCk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpO3JldHVybiB0aGlzLnRvU2Nyb2xsPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksdGhpcy4kZnJvbSYmIWU/dGhpcy5zdGFydE91dChjLGIsZSk6dGhpcy5kb25lT3V0KGMsYixlLCEwKSx0aGlzLmRlZmVycmVkLnByb21pc2UoKQp9fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXh0ZW5kKGEubW9iaWxlLlNlcmlhbFRyYW5zaXRpb24ucHJvdG90eXBlLGEubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLHtzZXF1ZW50aWFsOiEwLGJlZm9yZURvbmVPdXQ6ZnVuY3Rpb24oKXt0aGlzLiRmcm9tJiZ0aGlzLmNsZWFuRnJvbSgpfSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbihiLGMsZCl7dGhpcy4kZnJvbS5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5kb25lT3V0KGIsYyxkKX0sdGhpcykpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGEuZXh0ZW5kKGEubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uLnByb3RvdHlwZSxhLm1vYmlsZS5UcmFuc2l0aW9uLnByb3RvdHlwZSx7c2VxdWVudGlhbDohMSxiZWZvcmVEb25lSW46ZnVuY3Rpb24oKXt0aGlzLiRmcm9tJiZ0aGlzLmNsZWFuRnJvbSgpfSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbihhLGIsYyl7dGhpcy5kb25lT3V0KGEsYixjKX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oKXtyZXR1cm4gMyphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKX07YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzPXtzZXF1ZW50aWFsOmEubW9iaWxlLlNlcmlhbFRyYW5zaXRpb24sc2ltdWx0YW5lb3VzOmEubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9ufSxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNlcXVlbnRpYWwsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcz17fSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1mdW5jdGlvbihiKXtyZXR1cm4gYiYmIWEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrc1tiXSYmKGI9YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrc1tiXSksYn0sYS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbj1hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9ufHxifShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPWEubW9iaWxlLmRlZ3JhZGVJbnB1dHMsYS5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbj1mdW5jdGlvbihiKXtiPWEoYiksYi5maW5kKCJpbnB1dCIpLm5vdChhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9YSh0aGlzKSxnPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksaD1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddfHwidGV4dCI7YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXSYmKGI9YSgiPGRpdj4iKS5odG1sKGYuY2xvbmUoKSkuaHRtbCgpLGM9Yi5pbmRleE9mKCIgdHlwZT0iKT4tMSxkPWM/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLGU9JyB0eXBlPSInK2grJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2crJyInKyhjPyIiOiI+IiksZi5yZXBsYWNlV2l0aChiLnJlcGxhY2UoZCxlKSkpfSl9fShhKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS5wYWdlLHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGRpYWxvZzohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmKGEuZXh0ZW5kKHRoaXMse19pbm5lcjp0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSxfaGVhZGVyQ2xvc2VCdXR0b246bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fc2V0Q2xvc2VCdG4odGhpcy5vcHRpb25zLmNsb3NlQnRuKSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuZGlhbG9nJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRpYWxvZyIpLndyYXBJbm5lcihhKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IisodGhpcy5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGUsZj10aGlzLm9wdGlvbnM7Yi5jb3JuZXJzIT09YyYmdGhpcy5faW5uZXIudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLCEhYi5jb3JuZXJzKSxiLm92ZXJsYXlUaGVtZSE9PWMmJmEubW9iaWxlLmFjdGl2ZVBhZ2VbMF09PT10aGlzLmVsZW1lbnRbMF0mJihmLm92ZXJsYXlUaGVtZT1iLm92ZXJsYXlUaGVtZSx0aGlzLl9oYW5kbGVQYWdlQmVmb3JlU2hvdygpKSxiLmNsb3NlQnRuVGV4dCE9PWMmJihkPWYuY2xvc2VCdG4sZT1iLmNsb3NlQnRuVGV4dCksYi5jbG9zZUJ0biE9PWMmJihkPWIuY2xvc2VCdG4pLGQmJnRoaXMuX3NldENsb3NlQnRuKGQsZSksdGhpcy5fc3VwZXIoYil9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMub3B0aW9ucy5kaWFsb2c/KHRoaXMucmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCgpLHRoaXMuc2V0Q29udGFpbmVyQmFja2dyb3VuZCh0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSk6dGhpcy5fc3VwZXIoKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7aHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi0iK2J9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIsImJhY2siKS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fCIiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6ImNsb3NlIn0pKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIse29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSExfSxfaGFuZGxlVkNsaWNrU3VibWl0OmZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz17fSxjWyJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iXT0oYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKXx8e30pLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uLGNbImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIl09InJldmVyc2UiLGQuYXR0cihjKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7Yi5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyhjLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHN1Ym1pdDoiX2hhbmRsZVZDbGlja1N1Ym1pdCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSx0aGlzLl9zZXRDbG9zZUJ0bihjLmNsb3NlQnRuKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7cm9sZToiYnV0dG9uIixocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSx0aGlzLl9vbihlLHtjbGljazoiY2xvc2UifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZiLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigiYmFjayIpKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPS8oW0EtWl0pL2c7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIse29wdGlvbnM6e2VuaGFuY2VkOiExLGV4cGFuZEN1ZVRleHQ6bnVsbCxjb2xsYXBzZUN1ZVRleHQ6bnVsbCxjb2xsYXBzZWQ6ITAsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIixjb2xsYXBzZWRJY29uOm51bGwsZXhwYW5kZWRJY29uOm51bGwsaWNvbnBvczpudWxsLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6bnVsbCxjb3JuZXJzOm51bGwsbWluaTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9e2FjY29yZGlvbjpiLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIisoYS5tb2JpbGUuY29sbGFwc2libGVzZXQ/IiwgOm1vYmlsZS1jb2xsYXBzaWJsZXNldCI6IiIpKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iil9O2EuZXh0ZW5kKHRoaXMse191aTpjfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyhjLmhlYWRpbmc9YSgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciLHRoaXMuZWxlbWVudFswXSksYy5jb250ZW50PWMuaGVhZGluZy5uZXh0KCksYy5hbmNob3I9YSgiYSIsYy5oZWFkaW5nWzBdKS5maXJzdCgpLGMuc3RhdHVzPWMuYW5jaG9yLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKSk6dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX29uKGMuaGVhZGluZyx7dGFwOmZ1bmN0aW9uKCl7Yy5oZWFkaW5nLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoIWMuaGVhZGluZy5oYXNDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKSksYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9fSl9LF9nZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcy5fdWkuYWNjb3JkaW9uLGY9dGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0O2I9YS5leHRlbmQoe30sYiksZS5sZW5ndGgmJiFmJiYodGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0PWY9ZS5kYXRhKCJtb2JpbGUtY29sbGFwc2libGVzZXQiKSk7Zm9yKGQgaW4gYiliW2RdPW51bGwhPWJbZF0/YltkXTpmP2Yub3B0aW9uc1tkXTplLmxlbmd0aD9hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSxkLnJlcGxhY2UoYywiLSQxIikudG9Mb3dlckNhc2UoKSk6bnVsbCxudWxsPT1iW2RdJiYoYltkXT1hLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0c1tkXSk7cmV0dXJuIGJ9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOiIifSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLGY9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixlLmNvbnRlbnRUaGVtZSk7cmV0dXJuIGIuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlICIrKGUuaW5zZXQ/InVpLWNvbGxhcHNpYmxlLWluc2V0ICI6IiIpKyhlLmluc2V0JiZlLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikrKGY/InVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50ICI6IiIpKSxjLm9yaWdpbmFsSGVhZGluZz1iLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5oZWFkaW5nKS5maXJzdCgpLGMuY29udGVudD1iLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCAiK2YrIic+PC9kaXY+IikuY2hpbGRyZW4oIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksYy5oZWFkaW5nPWMub3JpZ2luYWxIZWFkaW5nLGMuaGVhZGluZy5pcygibGVnZW5kIikmJihjLmhlYWRpbmc9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2MuaGVhZGluZy5odG1sKCkrIjwvZGl2PiIpLGMucGxhY2Vob2xkZXI9YSgiPGRpdj48IS0tIHBsYWNlaG9sZGVyIGZvciBsZWdlbmQgLS0+PC9kaXY+IikuaW5zZXJ0QmVmb3JlKGMub3JpZ2luYWxIZWFkaW5nKSxjLm9yaWdpbmFsSGVhZGluZy5yZW1vdmUoKSksZD1lLmNvbGxhcHNlZD9lLmNvbGxhcHNlZEljb24/InVpLWljb24tIitlLmNvbGxhcHNlZEljb246IiI6ZS5leHBhbmRlZEljb24/InVpLWljb24tIitlLmV4cGFuZGVkSWNvbjoiIixjLnN0YXR1cz1hKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKSxjLmFuY2hvcj1jLmhlYWRpbmcuZGV0YWNoKCkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoYy5zdGF0dXMpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWJ0biAiKyhkP2QrIiAiOiIiKSsoZD8idWktYnRuLWljb24tIisoInJpZ2h0Ij09PWUuaWNvbnBvcz8icmlnaHQiOiJsZWZ0IikrIiAiOiIiKSt0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsZS50aGVtZSkrIiAiKyhlLm1pbmk/InVpLW1pbmkgIjoiIikpLGMuaGVhZGluZy5pbnNlcnRCZWZvcmUoYy5jb250ZW50KSx0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSh0aGlzLm9wdGlvbnMuY29sbGFwc2VkKSxjfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGIsYz17fTtmb3IoYiBpbiBhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cyljW2JdPXRoaXMub3B0aW9uc1tiXTt0aGlzLl9zZXRPcHRpb25zKGMpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZixnPXRoaXMuZWxlbWVudCxoPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKSxpPXRoaXMuX3VpLGo9aS5hbmNob3Isaz1pLnN0YXR1cyxsPXRoaXMuX2dldE9wdGlvbnMoYSk7YS5jb2xsYXBzZWQhPT1iJiZ0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZShhLmNvbGxhcHNlZCksYz1nLmhhc0NsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiKSxjPyhsLmV4cGFuZEN1ZVRleHQhPT1iJiZrLnRleHQobC5leHBhbmRDdWVUZXh0KSxsLmNvbGxhcHNlZEljb24hPT1iJiYoaC5jb2xsYXBzZWRJY29uJiZqLnJlbW92ZUNsYXNzKCJ1aS1pY29uLSIraC5jb2xsYXBzZWRJY29uKSxsLmNvbGxhcHNlZEljb24mJmouYWRkQ2xhc3MoInVpLWljb24tIitsLmNvbGxhcHNlZEljb24pKSk6KGwuY29sbGFwc2VDdWVUZXh0IT09YiYmay50ZXh0KGwuY29sbGFwc2VDdWVUZXh0KSxsLmV4cGFuZGVkSWNvbiE9PWImJihoLmV4cGFuZGVkSWNvbiYmai5yZW1vdmVDbGFzcygidWktaWNvbi0iK2guZXhwYW5kZWRJY29uKSxsLmV4cGFuZGVkSWNvbiYmai5hZGRDbGFzcygidWktaWNvbi0iK2wuZXhwYW5kZWRJY29uKSkpLGwuaWNvbnBvcyE9PWImJihqLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iKygicmlnaHQiPT09aC5pY29uUG9zPyJyaWdodCI6ImxlZnQiKSksai5hZGRDbGFzcygidWktYnRuLWljb24tIisoInJpZ2h0Ij09PWwuaWNvblBvcz8icmlnaHQiOiJsZWZ0IikpKSxsLnRoZW1lIT09YiYmKGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGgudGhlbWUpLGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJ0bi0iLGwudGhlbWUpLGoucmVtb3ZlQ2xhc3MoZSkuYWRkQ2xhc3MoZCkpLGwuY29udGVudFRoZW1lIT09YiYmKGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixoLnRoZW1lKSxkPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsbC50aGVtZSksaS5jb250ZW50LnJlbW92ZUNsYXNzKGUpLmFkZENsYXNzKGQpKSxsLmluc2V0IT09YiYmKGcudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWluc2V0IixsLmluc2V0KSxmPSEoIWwuaW5zZXR8fCFsLmNvcm5lcnMmJiFoLmNvcm5lcnMpKSxsLmNvcm5lcnMhPT1iJiYoZj0hKCFsLmNvcm5lcnN8fCFsLmluc2V0JiYhaC5pbnNldCkpLGYhPT1iJiZnLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixmKSxsLm1pbmkhPT1iJiZqLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixsLm1pbmkpLHRoaXMuX3N1cGVyKGEpfSxfaGFuZGxlRXhwYW5kQ29sbGFwc2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLGQ9dGhpcy5fdWk7ZC5zdGF0dXMudGV4dChiP2MuZXhwYW5kQ3VlVGV4dDpjLmNvbGxhcHNlQ3VlVGV4dCksZC5oZWFkaW5nLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIsYikuZmluZCgiYSIpLmZpcnN0KCkudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmV4cGFuZGVkSWNvbiwhYikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitjLmNvbGxhcHNlZEljb24sYnx8Yy5leHBhbmRlZEljb249PT1jLmNvbGxhcHNlZEljb24pLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsYiksZC5jb250ZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsYikuYXR0cigiYXJpYS1oaWRkZW4iLGIpLnRyaWdnZXIoInVwZGF0ZWxheW91dCIpLHRoaXMub3B0aW9ucy5jb2xsYXBzZWQ9Yix0aGlzLl90cmlnZ2VyKGI/ImNvbGxhcHNlIjoiZXhwYW5kIil9LGV4cGFuZDpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCExKX0sY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSghMCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWksYj10aGlzLm9wdGlvbnM7Yi5lbmhhbmNlZHx8KGEucGxhY2Vob2xkZXI/KGEub3JpZ2luYWxIZWFkaW5nLmluc2VydEJlZm9yZShhLnBsYWNlaG9sZGVyKSxhLnBsYWNlaG9sZGVyLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmUoKSk6KGEuc3RhdHVzLnJlbW92ZSgpLGEuaGVhZGluZy5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyB1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKSksYS5hbmNob3IuY29udGVudHMoKS51bndyYXAoKSxhLmNvbnRlbnQuY29udGVudHMoKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlIHVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCB1aS1jb2xsYXBzaWJsZS1pbnNldCB1aS1jb3JuZXItYWxsIikpfX0pLGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzPXtleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkSWNvbjoicGx1cyIsY29udGVudFRoZW1lOiJpbmhlcml0IixleHBhbmRlZEljb246Im1pbnVzIixpY29ucG9zOiJsZWZ0IixpbnNldDohMCxjb3JuZXJzOiEwLHRoZW1lOiJpbmhlcml0IixtaW5pOiExfX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybiBiP2M9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6KGM9YS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWMubGVuZ3RoJiYoYz1hLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKSkpLGN9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIiksYi5lcSgwKS5hZGRDbGFzcygidWktZmlyc3QtY2hpbGQiKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWxhc3QtY2hpbGQiKSxjfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9LF9yZW1vdmVGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKX19fShhKSxmdW5jdGlvbihhLGIpe3ZhciBjPSI6bW9iaWxlLWNvbGxhcHNpYmxlLCAiK2EubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcjthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSw6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpIixvcHRpb25zOmEuZXh0ZW5kKHtlbmhhbmNlZDohMX0sYS5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMpLF9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZDpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtjLnBhcmVudCgpLmlzKCI6bW9iaWxlLWNvbGxhcHNpYmxlc2V0LCA6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGU6bm90KC51aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQpIikuY29sbGFwc2libGUoImNvbGxhcHNlIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X2NsYXNzZXM6IiJ9KSxjLmVuaGFuY2VkfHwoYi5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0ICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsYy50aGVtZSkrIiAiKyhjLmNvcm5lcnMmJmMuaW5zZXQ/InVpLWNvcm5lci1hbGwgIjoiIikpLHRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcikuY29sbGFwc2libGUoKSksdGhpcy5fb24oYix7Y29sbGFwc2libGVleHBhbmQ6Il9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZCJ9KX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/Im5vbmUiPT09Yj8iIjphK2I6IiJ9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMCksdGhpcy5lbGVtZW50LmNoaWxkcmVuKGMpLmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIikuY29sbGFwc2libGUoImV4cGFuZCIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGU9dGhpcy5lbGVtZW50LGY9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsYS50aGVtZSk7cmV0dXJuIGYmJmUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsdGhpcy5vcHRpb25zLnRoZW1lKSkuYWRkQ2xhc3MoZiksYS5pbnNldCE9PWImJihkPSEoIWEuaW5zZXR8fCFhLmNvcm5lcnMmJiF0aGlzLm9wdGlvbnMuY29ybmVycykpLGEuY29ybmVycyE9PWImJihkPSEoIWEuY29ybmVyc3x8IWEuaW5zZXQmJiF0aGlzLm9wdGlvbnMuaW5zZXQpKSxkIT09YiYmZS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZCksYz10aGlzLl9zdXBlcihhKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjptb2JpbGUtY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgicmVmcmVzaCIpLGN9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O3RoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYS5jaGlsZHJlbihjKSksYS5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtc2V0IHVpLWNvcm5lci1hbGwgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktZ3JvdXAtdGhlbWUtIix0aGlzLm9wdGlvbnMudGhlbWUpKS5jaGlsZHJlbigiOm1vYmlsZS1jb2xsYXBzaWJsZSIpLmNvbGxhcHNpYmxlKCJkZXN0cm95Iil9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZWxlbWVudC5jaGlsZHJlbihjKTt0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IpLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGQsdGhpcy5fZ2V0VmlzaWJsZXMoZCxiKSxiKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goITEpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiIpfX0oYSksZnVuY3Rpb24oYSl7YS5mbi5ncmlkPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYyxkLGU9YSh0aGlzKSxmPWEuZXh0ZW5kKHtncmlkOm51bGx9LGIpLGc9ZS5jaGlsZHJlbigpLGg9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGk9Zi5ncmlkO2lmKCFpKWlmKGcubGVuZ3RoPD01KWZvcihkIGluIGgpaFtkXT09PWcubGVuZ3RoJiYoaT1kKTtlbHNlIGk9ImEiLGUuYWRkQ2xhc3MoInVpLWdyaWQtZHVvIik7Yz1oW2ldLGUuYWRkQ2xhc3MoInVpLWdyaWQtIitpKSxnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMSkiKS5hZGRDbGFzcygidWktYmxvY2stYSIpLGM+MSYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKSxjPjImJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIiksYz4zJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpLGM+NCYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIse29wdGlvbnM6e2ljb25wb3M6InRvcCIsZ3JpZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ZC5maW5kKCJhIiksZj1lLmZpbHRlcigiOmpxbURhdGEoaWNvbikiKS5sZW5ndGg/dGhpcy5vcHRpb25zLmljb25wb3M6YjtkLmFkZENsYXNzKCJ1aS1uYXZiYXIiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsImljb24iKSxjPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJ0aGVtZSIpLGQ9InVpLWJ0biI7YyYmKGQrPSIgdWktYnRuLSIrYyksYiYmKGQrPSIgdWktaWNvbi0iK2IrIiB1aS1idG4taWNvbi0iK2YpLGEodGhpcykuYWRkQ2xhc3MoZCl9KSxkLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Yi5oYXNDbGFzcygidWktZGlzYWJsZWQiKXx8Yi5oYXNDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl8fChlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKGMpLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSl9KSxkLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7ZS5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZTthLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxjb3VudFRoZW1lOm51bGwsZGl2aWRlclRoZW1lOm51bGwsaWNvbjoiY2FyYXQtciIsc3BsaXRJY29uOiJjYXJhdC1yIixzcGxpdFRoZW1lOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9IiI7Yis9YS5vcHRpb25zLmluc2V0PyIgdWktbGlzdHZpZXctaW5zZXQiOiIiLGEub3B0aW9ucy5pbnNldCYmKGIrPWEub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsYis9YS5vcHRpb25zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpLGEuZWxlbWVudC5hZGRDbGFzcygiIHVpLWxpc3R2aWV3IitiKSxhLnJlZnJlc2goITApfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtmb3IoZVtjXT1lW2RdPSEwO2E7KXtpZihlW2Eubm9kZU5hbWVdKXJldHVybiBhO2E9YVtiXX1yZXR1cm4gbnVsbH0sX2FkZFRodW1iQ2xhc3NlczpmdW5jdGlvbihiKXt2YXIgYyxkLGU9Yi5sZW5ndGg7Zm9yKGM9MDtlPmM7YysrKWQ9YSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGJbY10uZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLCJpbWciLCJJTUciKSksZC5sZW5ndGgmJmEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShkWzBdLnBhcmVudE5vZGUsInBhcmVudE5vZGUiLCJsaSIsIkxJIikpLmFkZENsYXNzKGQuaGFzQ2xhc3MoInVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKX0sX2dldENoaWxkcmVuQnlUYWdOYW1lOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1bXSxmPXt9O2ZvcihmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7YjspZltiLm5vZGVOYW1lXSYmZS5wdXNoKGIpLGI9Yi5uZXh0U2libGluZztyZXR1cm4gYShlKX0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDphLm5vb3AsX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmEubm9vcCxyZWZyZXNoOmZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseD10aGlzLm9wdGlvbnMseT10aGlzLmVsZW1lbnQsej0hIWEubm9kZU5hbWUoeVswXSwib2wiKSxBPXkuYXR0cigic3RhcnQiKSxCPXt9LEM9eS5maW5kKCIudWktbGktY291bnQiKSxEPWIoeVswXSwiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSxFPUQ/InVpLWJvZHktIitEOiJ1aS1ib2R5LWluaGVyaXQiO2Zvcih4LnRoZW1lJiZ5LmFkZENsYXNzKCJ1aS1ncm91cC10aGVtZS0iK3gudGhlbWUpLHomJihBfHwwPT09QSkmJihuPXBhcnNlSW50KEEsMTApLTEseS5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbikpLHRoaXMuX2JlZm9yZUxpc3R2aWV3UmVmcmVzaCgpLHc9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoeVswXSwibGkiLCJMSSIpLGU9MCxmPXcubGVuZ3RoO2Y+ZTtlKyspZz13LmVxKGUpLGg9IiIsKGN8fGdbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1saS1zdGF0aWNcYnxcYnVpLWxpLWRpdmlkZXJcYi8pPDApJiYobD10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShnWzBdLCJhIiwiQSIpLG09Imxpc3QtZGl2aWRlciI9PT1iKGdbMF0sInJvbGUiKSxwPWcuYXR0cigidmFsdWUiKSxpPWIoZ1swXSwidGhlbWUiKSxsLmxlbmd0aCYmbFswXS5jbGFzc05hbWUuc2VhcmNoKC9cYnVpLWJ0blxiLyk8MCYmIW0/KGo9YihnWzBdLCJpY29uIiksaz1qPT09ITE/ITE6anx8eC5pY29uLGwucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKSxkPSJ1aS1idG4iLGkmJihkKz0iIHVpLWJ0bi0iK2kpLGwubGVuZ3RoPjE/KGg9InVpLWxpLWhhcy1hbHQiLHE9bC5sYXN0KCkscj1iKHFbMF0sInRoZW1lIil8fHguc3BsaXRUaGVtZXx8YihnWzBdLCJ0aGVtZSIsITApLHM9cj8iIHVpLWJ0bi0iK3I6IiIsdD1iKHFbMF0sImljb24iKXx8YihnWzBdLCJpY29uIil8fHguc3BsaXRJY29uLHU9InVpLWJ0biB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi0iK3QrcyxxLmF0dHIoInRpdGxlIixhLnRyaW0ocS5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3ModSkuZW1wdHkoKSk6ayYmKGQrPSIgdWktYnRuLWljb24tcmlnaHQgdWktaWNvbi0iK2spLGwuZmlyc3QoKS5hZGRDbGFzcyhkKSk6bT8odj1iKGdbMF0sInRoZW1lIil8fHguZGl2aWRlclRoZW1lfHx4LnRoZW1lLGg9InVpLWxpLWRpdmlkZXIgdWktYmFyLSIrKHY/djoiaW5oZXJpdCIpLGcuYXR0cigicm9sZSIsImhlYWRpbmciKSk6bC5sZW5ndGg8PTAmJihoPSJ1aS1saS1zdGF0aWMgdWktYm9keS0iKyhpP2k6ImluaGVyaXQiKSkseiYmcCYmKG89cGFyc2VJbnQocCwxMCktMSxnLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIitvKSkpLEJbaF18fChCW2hdPVtdKSxCW2hdLnB1c2goZ1swXSk7Zm9yKGggaW4gQilhKEJbaF0pLmFkZENsYXNzKGgpO0MuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KSxFJiZDLmFkZENsYXNzKEUpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh3KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMody5maW5kKCIudWktYnRuIikpLHRoaXMuX2FmdGVyTGlzdHZpZXdSZWZyZXNoKCksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3Nlcyh3LHRoaXMuX2dldFZpc2libGVzKHcsYyksYyl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEudHJpbShiLnRleHQoKSl8fG51bGw7cmV0dXJuIGM/Yz1jLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTpudWxsfWEud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOnthdXRvZGl2aWRlcnM6ITEsYXV0b2RpdmlkZXJzU2VsZWN0b3I6Yn0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnMmJih0aGlzLl9yZXBsYWNlRGl2aWRlcnMoKSx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cykpfSxfcmVwbGFjZURpdmlkZXJzOmZ1bmN0aW9uKCl7dmFyIGIsZCxlLGYsZyxoPW51bGwsaT10aGlzLmVsZW1lbnQ7Zm9yKGkuY2hpbGRyZW4oImxpOmpxbURhdGEocm9sZT0nbGlzdC1kaXZpZGVyJykiKS5yZW1vdmUoKSxkPWkuY2hpbGRyZW4oImxpIiksYj0wO2I8ZC5sZW5ndGg7YisrKWU9ZFtiXSxmPXRoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihhKGUpKSxmJiZoIT09ZiYmKGc9Yy5jcmVhdGVFbGVtZW50KCJsaSIpLGcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShmKSksZy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZyxlKSksaD1mfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj0vKF58XHMpdWktbGktZGl2aWRlcigkfFxzKS8sYz0vKF58XHMpdWktc2NyZWVuLWhpZGRlbigkfFxzKS87YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2hpZGVEaXZpZGVyczohMX0sX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsZCxlLGY9ITA7aWYodGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5oaWRlRGl2aWRlcnMpZm9yKGE9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUodGhpcy5lbGVtZW50WzBdLCJsaSIsIkxJIiksZD1hLmxlbmd0aC0xO2Q+LTE7ZC0tKWU9YVtkXSxlLmNsYXNzTmFtZS5tYXRjaChiKT8oZiYmKGUuY2xhc3NOYW1lPWUuY2xhc3NOYW1lKyIgdWktc2NyZWVuLWhpZGRlbiIpLGY9ITApOmUuY2xhc3NOYW1lLm1hdGNoKGMpfHwoZj0hMSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5vanM9ZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixiKS5hZGRDbGFzcygidWktbm9qcyIpfX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldD17X2hhbmRsZUZvcm1SZXNldDpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl9yZXNldCIpfX0pfX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dDpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnICkgKVt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ106bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApKSIsb3B0aW9uczp7dGhlbWU6ImluaGVyaXQiLG1pbmk6ITEsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITEsaWNvbnBvczoibGVmdCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxlPWIuY2xvc2VzdCgibGFiZWwiKSxmPWUubGVuZ3RoP2U6Yi5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2EubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoYlswXS5pZCkrIiddIikuZmlyc3QoKSxnPWJbMF0udHlwZSxoPSJ1aS0iK2crIi1vbiIsaT0idWktIitnKyItb2ZmIjsoImNoZWNrYm94Ij09PWd8fCJyYWRpbyI9PT1nKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYiwiaWNvbnBvcyIpfHxmLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIpfHxjLmljb25wb3MsYy5taW5pPWQoYiwibWluaSIpfHxjLm1pbmksYS5leHRlbmQodGhpcyx7aW5wdXQ6YixsYWJlbDpmLHBhcmVudExhYmVsOmUsaW5wdXR0eXBlOmcsY2hlY2tlZENsYXNzOmgsdW5jaGVja2VkQ2xhc3M6aX0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGYse3Ztb3VzZW92ZXI6Il9oYW5kbGVMYWJlbFZNb3VzZU92ZXIiLHZjbGljazoiX2hhbmRsZUxhYmVsVkNsaWNrIn0pLHRoaXMuX29uKGIse3Ztb3VzZWRvd246Il9jYWNoZVZhbHMiLHZjbGljazoiX2hhbmRsZUlucHV0VkNsaWNrIixmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMiLGJsdXI6Il9oYW5kbGVJbnB1dEJsdXIifSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoInVpLWJ0biB1aS1jb3JuZXItYWxsIiksdGhpcy5wYXJlbnRMYWJlbC5sZW5ndGg+MD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcz90aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzOiIiKSsiIHVpLSIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8iIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrIicgPiIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7YS5pcygiOmNoZWNrZWQiKT8oYS5wcm9wKCJjaGVja2VkIiwhMCksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QoYSkucHJvcCgiY2hlY2tlZCIsITEpKTphLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKX0sX2hhbmRsZUxhYmVsVk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt0aGlzLmxhYmVsLnBhcmVudCgpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxfaGFuZGxlTGFiZWxWQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50O3JldHVybiBiLmlzKCI6ZGlzYWJsZWQiKT8oYS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX2NhY2hlVmFscygpLGIucHJvcCgiY2hlY2tlZCIsInJhZGlvIj09PXRoaXMuaW5wdXR0eXBlJiYhMHx8IWIucHJvcCgiY2hlY2tlZCIpKSxiLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHRoaXMuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKSwhMSl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMuaW5wdXR0eXBlP3RoaXMuZWxlbWVudDp0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8ImNoZWNrYm94Ij09PWIuaW5wdXR0eXBlKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9oYXNJY29uOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPWEubW9iaWxlLmNvbnRyb2xncm91cDtyZXR1cm4gZCYmKGI9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIjptb2JpbGUtY29udHJvbGdyb3VwLCIrZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yKSxiLmxlbmd0aD4wKT8oYz1hLmRhdGEoYlswXSwibW9iaWxlLWNvbnRyb2xncm91cCIpLCJob3Jpem9udGFsIiE9PShjP2Mub3B0aW9ucy50eXBlOmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIikpKTohMH0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX2hhc0ljb24oKSxjPXRoaXMuZWxlbWVudFswXS5jaGVja2VkLGQ9YS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsZT0idWktYnRuLWljb24tIit0aGlzLm9wdGlvbnMuaWNvbnBvcyxmPVtdLGc9W107Yj8oZy5wdXNoKGQpLGYucHVzaChlKSk6KGcucHVzaChlKSwoYz9mOmcpLnB1c2goZCkpLGM/KGYucHVzaCh0aGlzLmNoZWNrZWRDbGFzcyksZy5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpKTooZi5wdXNoKHRoaXMudW5jaGVja2VkQ2xhc3MpLGcucHVzaCh0aGlzLmNoZWNrZWRDbGFzcykpLHRoaXMubGFiZWwuYWRkQ2xhc3MoZi5qb2luKCIgIikpLnJlbW92ZUNsYXNzKGcuam9pbigiICIpKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWwucGFyZW50KCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMubGFiZWwsZD10aGlzLm9wdGlvbnMsZT10aGlzLndpZGdldCgpLGY9dGhpcy5faGFzSWNvbigpO2EuZGlzYWJsZWQhPT1iJiYodGhpcy5pbnB1dC5wcm9wKCJkaXNhYmxlZCIsISFhLmRpc2FibGVkKSxlLnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFhLmRpc2FibGVkKSksYS5taW5pIT09YiYmZS50b2dnbGVDbGFzcygidWktbWluaSIsISFhLm1pbmkpLGEudGhlbWUhPT1iJiZjLnJlbW92ZUNsYXNzKCJ1aS1idG4tIitkLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYS50aGVtZSksYS53cmFwcGVyQ2xhc3MhPT1iJiZlLnJlbW92ZUNsYXNzKGQud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS5pY29ucG9zIT09YiYmZj9jLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK2QuaWNvbnBvcykuYWRkQ2xhc3MoInVpLWJ0bi1pY29uLSIrYS5pY29ucG9zKTpmfHxjLnJlbW92ZUNsYXNzKCJ1aS1idG4taWNvbi0iK2QuaWNvbnBvcyksdGhpcy5fc3VwZXIoYSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLHtpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2J1dHRvbiddLCBpbnB1dFt0eXBlPSdzdWJtaXQnXSwgaW5wdXRbdHlwZT0ncmVzZXQnXSIsb3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczoibGVmdCIsaWNvbnNoYWRvdzohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSEwKSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSxhLmV4dGVuZCh0aGlzLHt3cmFwcGVyOnRoaXMuZWxlbWVudC5wYXJlbnQoKX0pLHRoaXMuX29uKHtmb2N1czpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCghMCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LndyYXAodGhpcy5fYnV0dG9uKCkpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5fZ2V0SWNvbkNsYXNzZXModGhpcy5vcHRpb25zKTtyZXR1cm4gYSgiPGRpdiBjbGFzcz0ndWktYnRuIHVpLWlucHV0LWJ0biIrKGIud3JhcHBlckNsYXNzPyIgIitiLndyYXBwZXJDbGFzczoiIikrKGIudGhlbWU/IiB1aS1idG4tIitiLnRoZW1lOiIiKSsoYi5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhiLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpKyhiLmlubGluZT8iIHVpLWJ0bi1pbmxpbmUiOiIiKSsoYi5taW5pPyIgdWktbWluaSI6IiIpKyhiLmRpc2FibGVkPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYz8iICIrYzoiIikrIicgPiIrdGhpcy5lbGVtZW50LnZhbCgpKyI8L2Rpdj4iKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JhcHBlcn0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuYnV0dG9uKSx0aGlzLmJ1dHRvbi5yZW1vdmUoKX0sX2dldEljb25DbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmljb24/InVpLWljb24tIithLmljb24rKGEuaWNvbnNoYWRvdz8iIHVpLXNoYWRvdy1pY29uIjoiIikrIiB1aS1idG4taWNvbi0iK2EuaWNvbnBvczoiIn0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy53aWRnZXQoKTtjLnRoZW1lIT09YiYmZC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIitjLnRoZW1lKSxjLmNvcm5lcnMhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixjLmNvcm5lcnMpLGMuc2hhZG93IT09YiYmZC50b2dnbGVDbGFzcygidWktc2hhZG93IixjLnNoYWRvdyksYy5pbmxpbmUhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1idG4taW5saW5lIixjLmlubGluZSksYy5taW5pIT09YiYmZC50b2dnbGVDbGFzcygidWktbWluaSIsYy5taW5pKSxjLmRpc2FibGVkIT09YiYmKHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsYy5kaXNhYmxlZCksZC50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGMuZGlzYWJsZWQpKSwoYy5pY29uIT09Ynx8Yy5pY29uc2hhZG93IT09Ynx8Yy5pY29ucG9zIT09YikmJmQucmVtb3ZlQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXModGhpcy5vcHRpb25zKSkuYWRkQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXMoYS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGMpKSksdGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7aWYodGhpcy5vcHRpb25zLmljb24mJiJub3RleHQiPT09dGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMuZWxlbWVudC52YWwoKSksIWIpe3ZhciBjPXRoaXMuZWxlbWVudC5kZXRhY2goKTthKHRoaXMud3JhcHBlcikudGV4dCh0aGlzLmVsZW1lbnQudmFsKCkpLmFwcGVuZChjKX19fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZCYmYyE9PSEwfHwoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLGlucHV0W3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLGlucHV0W3R5cGU9J251bWJlciddLDpqcW1EYXRhKHR5cGU9J251bWJlcicpLGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10saW5wdXRbdHlwZT0nZW1haWwnXSxpbnB1dFt0eXBlPSd1cmwnXSxpbnB1dFt0eXBlPSd0ZWwnXSx0ZXh0YXJlYSxpbnB1dFt0eXBlPSd0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZSddLGlucHV0W3R5cGU9J21vbnRoJ10saW5wdXRbdHlwZT0nd2VlayddLGlucHV0W3R5cGU9J2RhdGV0aW1lJ10saW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSxpbnB1dFt0eXBlPSdjb2xvciddLGlucHV0Om5vdChbdHlwZV0pLGlucHV0W3R5cGU9J2ZpbGUnXSIsb3B0aW9uczp7dGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsd3JhcHBlckNsYXNzOiIiLGVuaGFuY2VkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksZD0iVEVYVEFSRUEiPT09dGhpcy5lbGVtZW50WzBdLnRhZ05hbWUsZT10aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3JhbmdlJ10iKSxmPSh0aGlzLmVsZW1lbnQuaXMoImlucHV0Iil8fHRoaXMuZWxlbWVudC5pcygiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsidHlwZT0nc2VhcmNoJ10iKSkmJiFlO3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpJiYoYi5kaXNhYmxlZD0hMCksYS5leHRlbmQodGhpcyx7Y2xhc3Nlczp0aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpc1JhbmdlOmUsaW5wdXROZWVkc1dyYXA6Zn0pLHRoaXMuX2F1dG9Db3JyZWN0KCksYi5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUZvY3VzIixibHVyOiJfaGFuZGxlQmx1ciJ9KX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6dGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuaXNUZXh0YXJlYSYmYS5wdXNoKCJ1aS1pbnB1dC10ZXh0IiksKHRoaXMuaXNUZXh0YXJlYXx8dGhpcy5pc1JhbmdlKSYmYS5wdXNoKCJ1aS1zaGFkb3ctaW5zZXQiKSx0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXAoKSk6YT1hLmNvbmNhdCh0aGlzLmNsYXNzZXMpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmpvaW4oIiAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnR9LF9jbGFzc2VzRnJvbU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1bXTtyZXR1cm4gYi5wdXNoKCJ1aS1ib2R5LSIrKG51bGw9PT1hLnRoZW1lPyJpbmhlcml0IjphLnRoZW1lKSksYS5jb3JuZXJzJiZiLnB1c2goInVpLWNvcm5lci1hbGwiKSxhLm1pbmkmJmIucHVzaCgidWktbWluaSIpLGEuZGlzYWJsZWQmJmIucHVzaCgidWktc3RhdGUtZGlzYWJsZWQiKSxhLndyYXBwZXJDbGFzcyYmYi5wdXNoKGEud3JhcHBlckNsYXNzKSxifSxfd3JhcDpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2IGNsYXNzPSciKyh0aGlzLmlzU2VhcmNoPyJ1aS1pbnB1dC1zZWFyY2ggIjoidWktaW5wdXQtdGV4dCAiKSt0aGlzLmNsYXNzZXMuam9pbigiICIpKyIgIisidWktc2hhZG93LWluc2V0Jz48L2Rpdj4iKX0sX2F1dG9Db3JyZWN0OmZ1bmN0aW9uKCl7InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLmVsZW1lbnRbMF0uYXV0b2NvcnJlY3R8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwodGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSx0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSl9LF9oYW5kbGVCbHVyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSx0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSxfaGFuZGxlRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLndpZGdldCgpO3RoaXMuX3N1cGVyKGEpLChhLmRpc2FibGVkIT09Ynx8YS5taW5pIT09Ynx8YS5jb3JuZXJzIT09Ynx8YS50aGVtZSE9PWJ8fGEud3JhcHBlckNsYXNzIT09YikmJihjLnJlbW92ZUNsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpLHRoaXMuY2xhc3Nlcz10aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxjLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKCIgIikpKSxhLmRpc2FibGVkIT09YiYmdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMuaW5wdXROZWVkc1dyYXAmJnRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWlucHV0LXRleHQgIit0aGlzLmNsYXNzZXMuam9pbigiICIpKSl9fSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIix3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxmLGcsaCxpLGosayxsLG0sbixvPXRoaXMscD10aGlzLmVsZW1lbnQscT10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHBbMF0sInRoZW1lIikscj1xPyIgdWktYmFyLSIrcToiIHVpLWJhci1pbmhlcml0IixzPXRoaXMub3B0aW9ucy5jb3JuZXJzfHxwLmpxbURhdGEoImNvcm5lcnMiKT8iIHVpLWNvcm5lci1hbGwiOiIiLHQ9dGhpcy5vcHRpb25zLm1pbml8fHAuanFtRGF0YSgibWluaSIpPyIgdWktbWluaSI6IiIsdT1wWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdj0ic2VsZWN0Ij09PXUsdz1wLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIikseD12PyJ1aS1zbGlkZXItc3dpdGNoIjoiIix5PXAuYXR0cigiaWQiKSx6PWEoIltmb3I9JyIreSsiJ10iKSxBPXouYXR0cigiaWQiKXx8eSsiLWxhYmVsIixCPXY/MDpwYXJzZUZsb2F0KHAuYXR0cigibWluIikpLEM9dj9wLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xOnBhcnNlRmxvYXQocC5hdHRyKCJtYXgiKSksRD1iLnBhcnNlRmxvYXQocC5hdHRyKCJzdGVwIil8fDEpLEU9Yy5jcmVhdGVFbGVtZW50KCJhIiksRj1hKEUpLEc9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxIPWEoRyksST10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdj9mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxhKGIpLnByZXBlbmRUbyhIKX0oKTohMTtpZih6LmF0dHIoImlkIixBKSx0aGlzLmlzVG9nZ2xlU3dpdGNoPXYsRS5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksRy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJhcHBsaWNhdGlvbiIpLEcuY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCAiOiJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0ICIseCxyLHMsdF0uam9pbigiIiksRS5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLEcuYXBwZW5kQ2hpbGQoRSksRi5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpCLCJhcmlhLXZhbHVlbWF4IjpDLCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOkF9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6SCxoYW5kbGU6Rixjb250cm9sOnAsdHlwZTp1LHN0ZXA6RCxtYXg6QyxtaW46Qix2YWx1ZWJnOkksaXNSYW5nZXNsaWRlcjp3LGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExLG1vdXNlTW92ZWQ6ITF9KSx2KXtmb3Ioaz1wLmF0dHIoInRhYmluZGV4IiksayYmRi5hdHRyKCJ0YWJpbmRleCIsaykscC5hdHRyKCJ0YWJpbmRleCIsIi0xIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLmJsdXIoKSxGLmZvY3VzKCl9KSxmPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZi5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCIsZz0wLGg9Ry5jaGlsZE5vZGVzLmxlbmd0aDtoPmc7ZysrKWYuYXBwZW5kQ2hpbGQoRy5jaGlsZE5vZGVzW2ddKTtmb3IoRy5hcHBlbmRDaGlsZChmKSxGLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksZT1wLmZpbmQoIm9wdGlvbiIpLGk9MCxqPWUubGVuZ3RoO2o+aTtpKyspbD1pPyJhIjoiYiIsbT1pPyIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzczoiIixuPWMuY3JlYXRlRWxlbWVudCgic3BhbiIpLG4uY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLGwsbV0uam9pbigiIiksbi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxuLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoZVtpXS5pbm5lckhUTUwpKSxhKG4pLnByZXBlbmRUbyhIKTsKby5fbGFiZWxzPWEoIi51aS1zbGlkZXItbGFiZWwiLEgpfXAuYWRkQ2xhc3Modj8idWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci1pbnB1dCIpLHRoaXMuX29uKHAse2NoYW5nZToiX2NvbnRyb2xDaGFuZ2UiLGtleXVwOiJfY29udHJvbEtleXVwIixibHVyOiJfY29udHJvbEJsdXIiLHZtb3VzZXVwOiJfY29udHJvbFZNb3VzZVVwIn0pLEguYmluZCgidm1vdXNlZG93biIsYS5wcm94eSh0aGlzLl9zbGlkZXJWTW91c2VEb3duLHRoaXMpKS5iaW5kKCJ2Y2xpY2siLCExKSx0aGlzLl9vbihjLHt2bW91c2Vtb3ZlOiJfcHJldmVudERvY3VtZW50RHJhZyJ9KSx0aGlzLl9vbihILmFkZChjKSx7dm1vdXNldXA6Il9zbGlkZXJWTW91c2VVcCJ9KSxILmluc2VydEFmdGVyKHApLHZ8fHd8fChmPXRoaXMub3B0aW9ucy5taW5pPyI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgdWktbWluaSc+IjoiPGRpdiBjbGFzcz0ndWktc2xpZGVyJz4iLHAuYWRkKEgpLndyYXBBbGwoZikpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1kJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5jb3JuZXJzIT09ZCYmdGhpcy5fc2V0Q29ybmVycyhhLmNvcm5lcnMpLGEubWluaSE9PWQmJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWQmJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWQmJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiY29udHJvbGNoYW5nZSIsYSk9PT0hMT8hMToodGhpcy5tb3VzZU1vdmVkfHx0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCksdm9pZCAwKX0sX2NvbnRyb2xLZXl1cDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbFZNb3VzZVVwOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tlZFJlZnJlc2goKX0sX2hhbmRsZVZNb3VzZURvd246ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWx1ZSgpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlTbGlkaW5nfHwodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfXN3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOnRoaXMucmVmcmVzaCh0aGlzLm1pbik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDp0aGlzLnJlZnJlc2godGhpcy5tYXgpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6dGhpcy5yZWZyZXNoKGMrdGhpcy5zdGVwKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOnRoaXMucmVmcmVzaChjLXRoaXMuc3RlcCl9fX0sX2hhbmRsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX0sX3NsaWRlclZNb3VzZURvd246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8MSE9PWEud2hpY2gmJjAhPT1hLndoaWNoJiZhLndoaWNoIT09ZD8hMTp0aGlzLl90cmlnZ2VyKCJiZWZvcmVzdGFydCIsYSk9PT0hMT8hMToodGhpcy5kcmFnZ2luZz0hMCx0aGlzLnVzZXJNb2RpZmllZD0hMSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuYmVmb3JlU3RhcnQ9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHRoaXMucmVmcmVzaChhKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIpLCExKX0sX3NsaWRlclZNb3VzZVVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5tb3VzZU1vdmVkP3RoaXMudXNlck1vZGlmaWVkP3RoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApOnRoaXMucmVmcmVzaCh0aGlzLmJlZm9yZVN0YXJ0KTp0aGlzLnJlZnJlc2goMD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKSksdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiKSwhMSk6dm9pZCAwfSxfcHJldmVudERvY3VtZW50RHJhZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiZHJhZyIsYSk9PT0hMT8hMTp0aGlzLmRyYWdnaW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkPyh0aGlzLm1vdXNlTW92ZWQ9ITAsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLnJlZnJlc2goYSksdGhpcy51c2VyTW9kaWZpZWQ9dGhpcy5iZWZvcmVTdGFydCE9PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4LCExKTp2b2lkIDB9LF9jaGVja2VkUmVmcmVzaDpmdW5jdGlvbigpe3RoaXMudmFsdWUhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSl9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVG9nZ2xlU3dpdGNoP3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4OnBhcnNlRmxvYXQodGhpcy5lbGVtZW50LnZhbCgpKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKGQsITEsITApfSxyZWZyZXNoOmZ1bmN0aW9uKGIsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHo9dGhpcyxBPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sInRoZW1lIiksQj10aGlzLm9wdGlvbnMudGhlbWV8fEEsQz1CPyIgdWktYnRuLSIrQjoiIixEPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxBLEU9RD8iIHVpLWJhci0iK0Q6IiB1aS1iYXItaW5oZXJpdCIsRj10aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLEc9dGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIjtpZih6LnNsaWRlclswXS5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQiOiJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IixFLEYsR10uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKHouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLWJ0biIrQysiIHVpLXNoYWRvdyIpLGw9dGhpcy5lbGVtZW50LG09IXRoaXMuaXNUb2dnbGVTd2l0Y2gsbj1tP1tdOmwuZmluZCgib3B0aW9uIiksbz1tP3BhcnNlRmxvYXQobC5hdHRyKCJtaW4iKSk6MCxwPW0/cGFyc2VGbG9hdChsLmF0dHIoIm1heCIpKTpuLmxlbmd0aC0xLHE9bSYmcGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk+MD9wYXJzZUZsb2F0KGwuYXR0cigic3RlcCIpKToxLCJvYmplY3QiPT10eXBlb2YgYil7aWYoaD1iLGk9OCxmPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQsZz10aGlzLnNsaWRlci53aWR0aCgpLGo9Zy8oKHAtbykvcSksIXRoaXMuZHJhZ2dpbmd8fGgucGFnZVg8Zi1pfHxoLnBhZ2VYPmYrZytpKXJldHVybjtrPWo+MT8xMDAqKChoLnBhZ2VYLWYpL2cpOk1hdGgucm91bmQoMTAwKigoaC5wYWdlWC1mKS9nKSl9ZWxzZSBudWxsPT1iJiYoYj1tP3BhcnNlRmxvYXQobC52YWwoKXx8MCk6bFswXS5zZWxlY3RlZEluZGV4KSxrPTEwMCooKHBhcnNlRmxvYXQoYiktbykvKHAtbykpO2lmKCFpc05hTihrKSYmKHI9ay8xMDAqKHAtbykrbyxzPShyLW8pJXEsdD1yLXMsMipNYXRoLmFicyhzKT49cSYmKHQrPXM+MD9xOi1xKSx1PTEwMC8oKHAtbykvcSkscj1wYXJzZUZsb2F0KHQudG9GaXhlZCg1KSksInVuZGVmaW5lZCI9PXR5cGVvZiBqJiYoaj1nLygocC1vKS9xKSksaj4xJiZtJiYoaz0oci1vKSp1KigxL3EpKSwwPmsmJihrPTApLGs+MTAwJiYoaz0xMDApLG8+ciYmKHI9bykscj5wJiYocj1wKSx0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGsrIiUiKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLG0/cjpuLmVxKHIpLmF0dHIoInZhbHVlIikpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgidGl0bGUiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcygid2lkdGgiLGsrIiUiKSx0aGlzLl9sYWJlbHMmJih2PTEwMCoodGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKSx3PWsmJnYrKDEwMC12KSprLzEwMCx4PTEwMD09PWs/MDpNYXRoLm1pbih2KzEwMC13LDEwMCksdGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmhhc0NsYXNzKCJ1aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/dzp4KSsiJSIpfSkpLCFlKSl7aWYoeT0hMSxtPyh5PWwudmFsKCkhPT1yLGwudmFsKHIpKTooeT1sWzBdLnNlbGVjdGVkSW5kZXghPT1yLGxbMF0uc2VsZWN0ZWRJbmRleD1yKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLGIpPT09ITEpcmV0dXJuITE7IWQmJnkmJmwudHJpZ2dlcigiY2hhbmdlIil9fSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe2E9ISFhLGE/KHRoaXMub3B0aW9ucy5oaWdobGlnaHQ9ISFhLHRoaXMucmVmcmVzaCgpKTp0aGlzLnZhbHVlYmcmJih0aGlzLnZhbHVlYmcucmVtb3ZlKCksdGhpcy52YWx1ZWJnPSExKX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1idG4tIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithKTt2YXIgYj10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5jb250cm9sLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrYikuYWRkQ2xhc3MoInVpLWJvZHktIitjKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU/dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU6ImluaGVyaXQiLGM9YT9hOiJpbmhlcml0Ijt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuaXNUb2dnbGVTd2l0Y2h8fHRoaXMuaXNSYW5nZXNsaWRlcnx8KHRoaXMuc2xpZGVyLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGEpe3RoaXMuc2xpZGVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmNvbnRyb2wudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7YT0hIWEsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixhKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBjfHwoYz1hKCI8ZGl2PjwvZGl2PiIseyJjbGFzcyI6InVpLXNsaWRlci1wb3B1cCB1aS1zaGFkb3cgdWktY29ybmVyLWFsbCJ9KSksYy5jbG9uZSgpfXZhciBjO2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS5zbGlkZXIse29wdGlvbnM6e3BvcHVwRW5hYmxlZDohMSxzaG93VmFsdWU6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse19jdXJyZW50VmFsdWU6bnVsbCxfcG9wdXA6bnVsbCxfcG9wdXBWaXNpYmxlOiExfSksdGhpcy5fc2V0T3B0aW9uKCJwb3B1cEVuYWJsZWQiLHRoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfc2hvd1BvcHVwIn0pLHRoaXMuX29uKHRoaXMuc2xpZGVyLmFkZCh0aGlzLmRvY3VtZW50KSx7dm1vdXNldXA6Il9oaWRlUG9wdXAifSksdGhpcy5fcmVmcmVzaCgpfSxfcG9zaXRpb25Qb3B1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlLm9mZnNldCgpO3RoaXMuX3BvcHVwLm9mZnNldCh7bGVmdDphLmxlZnQrKHRoaXMuaGFuZGxlLndpZHRoKCktdGhpcy5fcG9wdXAud2lkdGgoKSkvMix0b3A6YS50b3AtdGhpcy5fcG9wdXAub3V0ZXJIZWlnaHQoKS01fSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxjKXt0aGlzLl9zdXBlcihhLGMpLCJzaG93VmFsdWUiPT09YT90aGlzLmhhbmRsZS5odG1sKGMmJiF0aGlzLm9wdGlvbnMubWluaT90aGlzLl92YWx1ZSgpOiIiKToicG9wdXBFbmFibGVkIj09PWEmJmMmJiF0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwPWIoKS5hZGRDbGFzcygidWktYm9keS0iKyh0aGlzLm9wdGlvbnMudGhlbWV8fCJhIikpLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnM7Yi5wb3B1cEVuYWJsZWQmJnRoaXMuaGFuZGxlLnJlbW92ZUF0dHIoInRpdGxlIiksYT10aGlzLl92YWx1ZSgpLGEhPT10aGlzLl9jdXJyZW50VmFsdWUmJih0aGlzLl9jdXJyZW50VmFsdWU9YSxiLnBvcHVwRW5hYmxlZCYmdGhpcy5fcG9wdXA/KHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cC5odG1sKGEpKTpiLnNob3dWYWx1ZSYmIXRoaXMub3B0aW9ucy5taW5pJiZ0aGlzLmhhbmRsZS5odG1sKGEpKX0sX3Nob3dQb3B1cDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQmJiF0aGlzLl9wb3B1cFZpc2libGUmJih0aGlzLmhhbmRsZS5odG1sKCIiKSx0aGlzLl9wb3B1cC5zaG93KCksdGhpcy5fcG9zaXRpb25Qb3B1cCgpLHRoaXMuX3BvcHVwVmlzaWJsZT0hMCl9LF9oaWRlUG9wdXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7YS5wb3B1cEVuYWJsZWQmJnRoaXMuX3BvcHVwVmlzaWJsZSYmKGEuc2hvd1ZhbHVlJiYhYS5taW5pJiZ0aGlzLmhhbmRsZS5odG1sKHRoaXMuX3ZhbHVlKCkpLHRoaXMuX3BvcHVwLmhpZGUoKSx0aGlzLl9wb3B1cFZpc2libGU9ITEpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuZmxpcHN3aXRjaCIsYS5leHRlbmQoe29wdGlvbnM6e29uVGV4dDoiT24iLG9mZlRleHQ6Ik9mZiIsdGhlbWU6bnVsbCxlbmhhbmNlZDohMSx3cmFwcGVyQ2xhc3M6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWQ/YS5leHRlbmQodGhpcyx7ZmxpcHN3aXRjaDp0aGlzLmVsZW1lbnQucGFyZW50KCksb246dGhpcy5lbGVtZW50LmZpbmQoIi51aS1mbGlwc3dpdGNoLW9uIikuZXEoMCksb2ZmOnRoaXMuZWxlbWVudC5maW5kKCIudWktZmxpcHN3aXRjaC1vZmYiKS5lcSgwKSx0eXBlOnRoaXMuZWxlbWVudC5nZXQoMCkudGFnTmFtZX0pOnRoaXMuX2VuaGFuY2UoKSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pLHRoaXMuX29uKHRoaXMuZmxpcHN3aXRjaCx7Y2xpY2s6Il90b2dnbGUiLHN3aXBlbGVmdDoiX2xlZnQiLHN3aXBlcmlnaHQ6Il9yaWdodCJ9KSx0aGlzLl9vbih0aGlzLm9uLHtrZXlkb3duOiJfa2V5ZG93biJ9KSx0aGlzLl9vbih7Y2hhbmdlOiJyZWZyZXNoIn0pfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbGlwc3dpdGNofSxfbGVmdDpmdW5jdGlvbigpe3RoaXMuZmxpcHN3aXRjaC5yZW1vdmVDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKSwiU0VMRUNUIj09PXRoaXMudHlwZT90aGlzLmVsZW1lbnQuZ2V0KDApLnNlbGVjdGVkSW5kZXg9MDp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIsITEpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJjaGFuZ2UiKX0sX3JpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSIpLCJTRUxFQ1QiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0xOnRoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIiwhMCksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNoYW5nZSIpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPWEoIjxkaXY+IiksYz10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT1jLnRoZW1lP2MudGhlbWU6ImluaGVyaXQiLGY9YSgiPHNwYW4+PC9zcGFuPiIse3RhYmluZGV4OjF9KSxnPWEoIjxzcGFuPjwvc3Bhbj4iKSxoPWQuZ2V0KDApLnRhZ05hbWUsaT0iSU5QVVQiPT09aD9jLm9uVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDEpLnRleHQoKSxqPSJJTlBVVCI9PT1oP2Mub2ZmVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtmLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGkpLGcuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChqKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1iYXItIitlKyIgIisoYy53cmFwcGVyQ2xhc3M/Yy53cmFwcGVyQ2xhc3M6IiIpKyIgIisoZC5pcygiOmNoZWNrZWQiKXx8ZC5maW5kKCJvcHRpb24iKS5lcSgxKS5pcygiOnNlbGVjdGVkIik/InVpLWZsaXBzd2l0Y2gtYWN0aXZlIjoiIikrKGQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhjLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChmLGcpLGQuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKS5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZixvZmY6Zyx0eXBlOmh9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX3JpZ2h0IjoiX2xlZnQiO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIpPyJfcmlnaHQiOiJfbGVmdCIsYSE9PWImJnRoaXNbYV0oKX0sX3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX2xlZnQiOiJfcmlnaHQiO3RoaXNbYV0oKX0sX2tleWRvd246ZnVuY3Rpb24oYil7Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuTEVGVD90aGlzLl9sZWZ0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuUklHSFQ/dGhpcy5fcmlnaHQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSYmKHRoaXMuX3RvZ2dsZSgpLGIucHJldmVudERlZmF1bHQoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKGEudGhlbWUhPT1iKXt2YXIgYz1hLnRoZW1lP2EudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKCJ1aS1iYXItIitjKS5hZGRDbGFzcygidWktYmFyLSIrZCl9YS5vblRleHQhPT1iJiZ0aGlzLm9uLnRleHQoYS5vblRleHQpLGEub2ZmVGV4dCE9PWImJnRoaXMub2ZmLnRleHQoYS5vZmZUZXh0KSxhLmRpc2FibGVkIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEuZGlzYWJsZWQpLGEubWluaSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5jb3JuZXJzIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSx0aGlzLl9zdXBlcihhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLm9uLnJlbW92ZSgpLHRoaXMub2ZmLnJlbW92ZSgpLHRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmZsaXBzd2l0Y2gucmVtb3ZlKCksdGhpcy5yZW1vdmVDbGFzcygidWktZmxpcHN3aXRjaC1pbnB1dCIpKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLGhpZ2hsaWdodDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5taW5pPyJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIjoidWktcmFuZ2VzbGlkZXIiLGQ9Yi5maW5kKCJpbnB1dCIpLmZpcnN0KCksZT1iLmZpbmQoImlucHV0IikubGFzdCgpLGY9Yi5maW5kKCJsYWJlbCIpLmZpcnN0KCksZz1hLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKXx8YS5kYXRhKGQuc2xpZGVyKCkuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIiksaD1hLmRhdGEoZS5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKXx8YS5kYXRhKGUuc2xpZGVyKCkuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIiksaT1nLnNsaWRlcixqPWguc2xpZGVyLGs9Zy5oYW5kbGUsbD1hKCI8ZGl2IGNsYXNzPSd1aS1yYW5nZXNsaWRlci1zbGlkZXJzJyAvPiIpLmFwcGVuZFRvKGIpO2QuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZS5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItbGFzdCIpLGIuYWRkQ2xhc3MoYyksaS5hcHBlbmRUbyhsKSxqLmFwcGVuZFRvKGwpLGYuaW5zZXJ0QmVmb3JlKGIpLGsucHJlcGVuZFRvKGopLGEuZXh0ZW5kKHRoaXMse19pbnB1dEZpcnN0OmQsX2lucHV0TGFzdDplLF9zbGlkZXJGaXJzdDppLF9zbGlkZXJMYXN0OmosX2xhYmVsOmYsX3RhcmdldFZhbDpudWxsLF9zbGlkZXJUYXJnZXQ6ITEsX3NsaWRlcnM6bCxfcHJveHk6ITF9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQudWktc2xpZGVyLWlucHV0Iikse3NsaWRlYmVmb3Jlc3RhcnQ6Il9zbGlkZWJlZm9yZXN0YXJ0IixzbGlkZXN0b3A6Il9zbGlkZXN0b3AiLHNsaWRlZHJhZzoiX3NsaWRlZHJhZyIsc2xpZGViZWZvcmVjaGFuZ2U6Il9jaGFuZ2UiLGJsdXI6Il9jaGFuZ2UiLGtleXVwOiJfY2hhbmdlIn0pLHRoaXMuX29uKHttb3VzZWRvd246Il9jaGFuZ2UifSksdGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6Il9oYW5kbGVSZXNldCJ9KSx0aGlzLl9vbihrLHt2bW91c2Vkb3duOiJfZHJhZ0ZpcnN0SGFuZGxlIn0pfSxfaGFuZGxlUmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLl91cGRhdGVIaWdobGlnaHQoKX0sMCl9LF9kcmFnRmlyc3RIYW5kbGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmRyYWdnaW5nPSEwLGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnJlZnJlc2goYiksITF9LF9zbGlkZWRyYWc6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCksZD1jP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O3JldHVybiB0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsImZpcnN0Ij09PXRoaXMuX3Byb3h5JiZjfHwibGFzdCI9PT10aGlzLl9wcm94eSYmIWM/KGEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmRyYWdnaW5nPSEwLGEuZGF0YShkLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLnJlZnJlc2goYiksITEpOnZvaWQgMH0sX3NsaWRlc3RvcDpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KTt0aGlzLl9wcm94eT0hMSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS50cmlnZ2VyKCJ2bW91c2V1cCIpLHRoaXMuX3NsaWRlckZpcnN0LmNzcygiei1pbmRleCIsYz8xOiIiKX0sX3NsaWRlYmVmb3Jlc3RhcnQ6ZnVuY3Rpb24oYil7dGhpcy5fc2xpZGVyVGFyZ2V0PSExLGEoYi5vcmlnaW5hbEV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci10cmFjayIpJiYodGhpcy5fc2xpZGVyVGFyZ2V0PSEwLHRoaXMuX3RhcmdldFZhbD1hKGIudGFyZ2V0KS52YWwoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1iJiZ0aGlzLl9zZXRUaGVtZShhLnRoZW1lKSxhLnRyYWNrVGhlbWUhPT1iJiZ0aGlzLl9zZXRUcmFja1RoZW1lKGEudHJhY2tUaGVtZSksYS5taW5pIT09YiYmdGhpcy5fc2V0TWluaShhLm1pbmkpLGEuaGlnaGxpZ2h0IT09YiYmdGhpcy5fc2V0SGlnaGxpZ2h0KGEuaGlnaGxpZ2h0KSx0aGlzLl9zdXBlcihhKSx0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPXRoaXMub3B0aW9uczsodGhpcy5faW5wdXRGaXJzdC5pcygiOmRpc2FibGVkIil8fHRoaXMuX2lucHV0TGFzdC5pcygiOmRpc2FibGVkIikpJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSEwKSxhLmZpbmQoImlucHV0Iikuc2xpZGVyKHt0aGVtZTpiLnRoZW1lLHRyYWNrVGhlbWU6Yi50cmFja1RoZW1lLGRpc2FibGVkOmIuZGlzYWJsZWQsY29ybmVyczpiLmNvcm5lcnMsbWluaTpiLm1pbmksaGlnaGxpZ2h0OmIuaGlnaGxpZ2h0fSkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCl9LF9jaGFuZ2U6ZnVuY3Rpb24oYil7aWYoImtleXVwIj09PWIudHlwZSlyZXR1cm4gdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksITE7dmFyIGM9dGhpcyxkPXBhcnNlRmxvYXQodGhpcy5faW5wdXRGaXJzdC52YWwoKSwxMCksZT1wYXJzZUZsb2F0KHRoaXMuX2lucHV0TGFzdC52YWwoKSwxMCksZj1hKGIudGFyZ2V0KS5oYXNDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxnPWY/dGhpcy5faW5wdXRGaXJzdDp0aGlzLl9pbnB1dExhc3QsaD1mP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O2lmKHRoaXMuX2lucHV0Rmlyc3QudmFsKCk+dGhpcy5faW5wdXRMYXN0LnZhbCgpJiYibW91c2Vkb3duIj09PWIudHlwZSYmIWEoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItaGFuZGxlIikpZy5ibHVyKCk7ZWxzZSBpZigibW91c2Vkb3duIj09PWIudHlwZSlyZXR1cm47cmV0dXJuIGQ+ZSYmIXRoaXMuX3NsaWRlclRhcmdldD8oZy52YWwoZj9lOmQpLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpKTpkPmUmJihnLnZhbCh0aGlzLl90YXJnZXRWYWwpLnNsaWRlcigicmVmcmVzaCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnZhbChmP2Q6ZSkuc2xpZGVyKCJyZWZyZXNoIiksYS5kYXRhKGguZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmZvY3VzKCksYy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixmPyIiOjEpLGMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1mPyJmaXJzdCI6Imxhc3QiKSxkPT09ZT8oYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMSksYS5kYXRhKGguZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMCkpOihhLmRhdGEoaC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIiksYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsIiIpKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKSxkPj1lPyExOnZvaWQgMH0sX3VwZGF0ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBiPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksYz1wYXJzZUludChhLmRhdGEodGhpcy5faW5wdXRMYXN0LmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksZD1jLWI7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zbGlkZXItYmciKS5jc3MoeyJtYXJnaW4tbGVmdCI6YisiJSIsd2lkdGg6ZCsiJSJ9KX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJ0aGVtZSIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwidGhlbWUiLGEpfSxfc2V0VHJhY2tUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwidHJhY2tUaGVtZSIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwidHJhY2tUaGVtZSIsYSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJtaW5pIixhKSx0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCJvcHRpb24iLCJtaW5pIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLCEhYSl9LF9zZXRIaWdobGlnaHQ6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsImhpZ2hsaWdodCIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwiaGlnaGxpZ2h0IixhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9sYWJlbC5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2NsZWFyQnRuOiExLGNsZWFyQnRuVGV4dDoiQ2xlYXIgdGV4dCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCh0aGlzLm9wdGlvbnMuY2xlYXJCdG58fHRoaXMuaXNTZWFyY2gpJiZ0aGlzLl9hZGRDbGVhckJ0bigpfSxjbGVhckJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXIgdWktYnRuIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1jb3JuZXItYWxsJyB0aXRsZT0nIit0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KyInPiIrdGhpcy5vcHRpb25zLmNsZWFyQnRuVGV4dCsiPC9hPiIpfSxfY2xlYXJCdG5DbGljazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLHRoaXMuX2NsZWFyQnRuLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKSxhLnByZXZlbnREZWZhdWx0KCl9LF9hZGRDbGVhckJ0bjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZUNsZWFyKCksYS5leHRlbmQodGhpcyx7X2NsZWFyQnRuOnRoaXMud2lkZ2V0KCkuZmluZCgiYS51aS1pbnB1dC1jbGVhciIpfSksdGhpcy5fYmluZENsZWFyRXZlbnRzKCksdGhpcy5fdG9nZ2xlQ2xlYXIoKX0sX2VuaGFuY2VDbGVhcjpmdW5jdGlvbigpe3RoaXMuY2xlYXJCdXR0b24oKS5hcHBlbmRUbyh0aGlzLndpZGdldCgpKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKX0sX2JpbmRDbGVhckV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMuX2NsZWFyQnRuLHtjbGljazoiX2NsZWFyQnRuQ2xpY2sifSksdGhpcy5fb24oe2tleXVwOiJfdG9nZ2xlQ2xlYXIiLGNoYW5nZToiX3RvZ2dsZUNsZWFyIixpbnB1dDoiX3RvZ2dsZUNsZWFyIixmb2N1czoiX3RvZ2dsZUNsZWFyIixibHVyOiJfdG9nZ2xlQ2xlYXIiLGN1dDoiX3RvZ2dsZUNsZWFyIixwYXN0ZToiX3RvZ2dsZUNsZWFyIn0pfSxfdW5iaW5kQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5fY2xlYXJCdG4sImNsaWNrIiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCwia2V5dXAgY2hhbmdlIGlucHV0IGZvY3VzIGJsdXIgY3V0IHBhc3RlIil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuY2xlYXJidG49PT1ifHx0aGlzLmVsZW1lbnQuaXMoInRleHRhcmVhLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpIil8fChhLmNsZWFyQnRuP3RoaXMuX2FkZENsZWFyQnRuKCk6dGhpcy5fZGVzdHJveUNsZWFyKCkpLGEuY2xlYXJCdG5UZXh0IT09YiYmdGhpcy5fY2xlYXJCdG4hPT1iJiZ0aGlzLl9jbGVhckJ0bi50ZXh0KGEuY2xlYXJCdG5UZXh0KX0sX3RvZ2dsZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl90b2dnbGVDbGVhckNsYXNzIiwwKX0sX3RvZ2dsZUNsZWFyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckJ0bi50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhdGhpcy5lbGVtZW50LnZhbCgpKX0sX2Rlc3Ryb3lDbGVhcjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksdGhpcy5fdW5iaW5kQ2xlYXIoKS5fY2xlYXJCdG4ucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl9kZXN0cm95Q2xlYXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOnthdXRvZ3JvdzohMCxrZXl1cFRpbWVvdXRCdWZmZXI6MTAwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fYXV0b2dyb3coKX0sX2F1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5fb24oe2tleXVwOiJfdGltZW91dCIsY2hhbmdlOiJfdGltZW91dCIsaW5wdXQ6Il90aW1lb3V0IixwYXN0ZToiX3RpbWVvdXQifSksdGhpcy5fb24oITAsdGhpcy5kb2N1bWVudCx7cGFnZXNob3c6Il9oYW5kbGVTaG93Iixwb3B1cGJlZm9yZXBvc2l0aW9uOiJfaGFuZGxlU2hvdyIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlU2hvdyIscGFuZWxvcGVuOiJfaGFuZGxlU2hvdyJ9KX0sX2hhbmRsZVNob3c6ZnVuY3Rpb24oYil7YS5jb250YWlucyhiLnRhcmdldCx0aGlzLmVsZW1lbnRbMF0pJiZ0aGlzLmVsZW1lbnQuaXMoIjp2aXNpYmxlIikmJigicG9wdXBiZWZvcmVwb3NpdGlvbiIhPT1iLnR5cGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktdGV4dGlucHV0LWF1dG9ncm93LXJlc2l6ZSIpLm9uZSgidHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplIil9LHRoaXMpKSx0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKCkpfSxfdW5iaW5kQXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5lbGVtZW50LCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwicGFnZXNob3cgcG9wdXBiZWZvcmVwb3NpdGlvbiB1cGRhdGVsYXlvdXQgcGFuZWxvcGVuIil9LGtleXVwVGltZW91dDpudWxsLF9wcmVwYXJlSGVpZ2h0VXBkYXRlOmZ1bmN0aW9uKGEpe3RoaXMua2V5dXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5rZXl1cFRpbWVvdXQpLGE9PT1iP3RoaXMuX3VwZGF0ZUhlaWdodCgpOnRoaXMua2V5dXBUaW1lb3V0PXRoaXMuX2RlbGF5KCJfdXBkYXRlSGVpZ2h0IixhKX0sX3RpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIpfSxfdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5rZXl1cFRpbWVvdXQ9MCx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6MCwibWluLWhlaWdodCI6MCwibWF4LWhlaWdodCI6MH0pO3ZhciBhLGIsYyxkPXRoaXMuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQsZT10aGlzLmVsZW1lbnRbMF0uY2xpZW50SGVpZ2h0LGY9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLGc9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpLGg9ZitnLGk9ZCtoKzE1OzA9PT1lJiYoYT1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIikpLGI9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxjPWErYixpKz1jKSx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6aSwibWluLWhlaWdodCI6IiIsIm1heC1oZWlnaHQiOiIifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fdXBkYXRlSGVpZ2h0KCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGEuYXV0b2dyb3chPT1iJiZ0aGlzLmlzVGV4dGFyZWEmJihhLmF1dG9ncm93P3RoaXMuX2F1dG9ncm93KCk6dGhpcy5fdW5iaW5kQXV0b2dyb3coKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5leHRlbmQoe2luaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykpOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcpICkiLG9wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjoiY2FyYXQtZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiExLG92ZXJsYXlUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLG1pbmk6ITF9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+Iil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixhKSx0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5pbmxpbmV8fHRoaXMuZWxlbWVudC5qcW1EYXRhKCJpbmxpbmUiKSxjPXRoaXMub3B0aW9ucy5taW5pfHx0aGlzLmVsZW1lbnQuanFtRGF0YSgibWluaSIpLGQ9IiI7fnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKSYmKGQ9IiB1aS1idG4tbGVmdCIpLH50aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1yaWdodCIpJiYoZD0iIHVpLWJ0bi1yaWdodCIpLGImJihkKz0iIHVpLWJ0bi1pbmxpbmUiKSxjJiYoZCs9IiB1aS1taW5pIiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK2QrIic+IiksdGhpcy5zZWxlY3RJZD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpfHwic2VsZWN0LSIrdGhpcy51dWlkLHRoaXMuYnV0dG9uSWQ9dGhpcy5zZWxlY3RJZCsiLWJ1dHRvbiIsdGhpcy5sYWJlbD1hKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJZCsiJ10iKSx0aGlzLmlzTXVsdGlwbGU9dGhpcy5zZWxlY3RbMF0ubXVsdGlwbGV9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1zZWxlY3QiKTthLmxlbmd0aD4wJiYoYS5pcygiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0IikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpPyJ1aS1idG4tbGVmdCI6InVpLWJ0bi1yaWdodCIpLHRoaXMuZWxlbWVudC5pbnNlcnRBZnRlcihhKSxhLnJlbW92ZSgpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnMsZT1kLmljb24/ZC5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ITEsZj10aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmF0dHIoImlkIix0aGlzLmJ1dHRvbklkKS5hZGRDbGFzcygidWktYnRuIisoZC5pY29uPyIgdWktaWNvbi0iK2QuaWNvbisiIHVpLWJ0bi1pY29uLSIrZSsoZC5pY29uc2hhZG93PyIgdWktc2hhZG93LWljb24iOiIiKToiIikrKGQudGhlbWU/IiB1aS1idG4tIitkLnRoZW1lOiIiKSsoZC5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhkLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpKTt0aGlzLnNldEJ1dHRvblRleHQoKSxkLm5hdGl2ZU1lbnUmJmIub3BlcmEmJmIub3BlcmEudmVyc2lvbiYmZi5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1ib2R5LWluaGVyaXQiKS5oaWRlKCkuYXBwZW5kVG8oZi5hZGRDbGFzcygidWktbGktaGFzLWNvdW50IikpKSwoZC5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtjLnJlZnJlc2goKSxkLm5hdGl2ZU1lbnUmJnRoaXMuYmx1cigpfSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb24odGhpcy5idXR0b24se2tleWRvd246Il9oYW5kbGVLZXlkb3duIn0pLHRoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGIuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7Yi5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSksYi5idXR0b24uYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIubGFiZWwuYmluZCgiY2xpY2sgZm9jdXMiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSxiLnNlbGVjdC5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuYnV0dG9uLmJpbmQoIm1vdXNldXAiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS56b29tLmVuYWJsZSghMCl9LDApfSksYi5zZWxlY3QuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApfSl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZCIpfSxzZWxlY3RlZEluZGljZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLnNlbGVjdGVkKCkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX3NlbGVjdE9wdGlvbnMoKS5pbmRleCh0aGlzKX0pLmdldCgpfSxzZXRCdXR0b25UZXh0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuc2VsZWN0ZWQoKSxlPXRoaXMucGxhY2Vob2xkZXIsZj1hKGMuY3JlYXRlRWxlbWVudCgic3BhbiIpKTt0aGlzLmJ1dHRvbi5jaGlsZHJlbigic3BhbiIpLm5vdCgiLnVpLWxpLWNvdW50IikucmVtb3ZlKCkuZW5kKCkuZW5kKCkucHJlcGVuZChmdW5jdGlvbigpe3JldHVybiBlPWQubGVuZ3RoP2QubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpiLnBsYWNlaG9sZGVyLGU/Zi50ZXh0KGUpOmYuaHRtbCgiJm5ic3A7IiksZi5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9KCkpfSxzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbYS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoYS5sZW5ndGgpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVmcmVzaEJ1dHRvbiIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3JlZnJlc2hCdXR0b246ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKSx0aGlzLnNldEJ1dHRvbkNvdW50KCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoQnV0dG9uKCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITApLHRoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpbmtzPWZ1bmN0aW9uKGIpe2EoYikuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkuZmlsdGVyKCI6anFtRGF0YShyZWw9J3BvcHVwJylbaHJlZl1baHJlZiE9JyddIikuZWFjaChmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmdldEF0dHJpYnV0ZSgiaHJlZiIpLnN1YnN0cmluZygxKTtiJiYoYS5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxhLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixiKSxhLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITEpKX0pLmVuZCgpLm5vdCgiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfX0oYSksZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGU9Yj5hP2MrKGEtYikvMjpNYXRoLm1pbihNYXRoLm1heChjLGQtYi8yKSxjK2EtYil9ZnVuY3Rpb24gZShhKXtyZXR1cm57eDphLnNjcm9sbExlZnQoKSx5OmEuc2Nyb2xsVG9wKCksY3g6YVswXS5pbm5lcldpZHRofHxhLndpZHRoKCksY3k6YVswXS5pbm5lckhlaWdodHx8YS5oZWlnaHQoKX19YS53aWRnZXQoIm1vYmlsZS5wb3B1cCIse29wdGlvbnM6e3dyYXBwZXJDbGFzczpudWxsLHRoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxjbG9zZUxpbmtTZWxlY3RvcjoiYTpqcW1EYXRhKHJlbD0nYmFjaycpIixjbG9zZUxpbmtFdmVudHM6ImNsaWNrLnBvcHVwIixuYXZpZ2F0ZUV2ZW50czoibmF2aWdhdGUucG9wdXAiLGNsb3NlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwIixkaXNtaXNzaWJsZTohMCxlbmhhbmNlZDohMSxoaXN0b3J5OiFhLm1vYmlsZS5icm93c2VyLm9sZElFfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5hdHRyKCJpZCIpLGQ9dGhpcy5vcHRpb25zO2QuaGlzdG9yeT1kLmhpc3RvcnkmJmEubW9iaWxlLmFqYXhFbmFibGVkJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCxhLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6Yi5jbG9zZXN0KCIudWktcGFnZSIpLF91aTpudWxsLF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXF1aXNpdGVzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksMD09PXRoaXMuX3BhZ2UubGVuZ3RoJiYodGhpcy5fcGFnZT1hKCJib2R5IikpLGQuZW5oYW5jZWQ/dGhpcy5fdWk9e2NvbnRhaW5lcjpiLnBhcmVudCgpLHNjcmVlbjpiLnBhcmVudCgpLnByZXYoKSxwbGFjZWhvbGRlcjphKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQoYysiLXBsYWNlaG9sZGVyIikpfToodGhpcy5fdWk9dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihkLnRyYW5zaXRpb24pKSx0aGlzLl9zZXRUb2xlcmFuY2UoZC50b2xlcmFuY2UpLl91aS5mb2N1c0VsZW1lbnQ9dGhpcy5fdWkuY29udGFpbmVyLHRoaXMuX29uKHRoaXMuX3VpLnNjcmVlbix7dmNsaWNrOiJfZWF0RXZlbnRBbmRDbG9zZSJ9KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7b3JpZW50YXRpb25jaGFuZ2U6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2UiKSxyZXNpemU6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93UmVzaXplIiksa2V5dXA6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93S2V5VXAiKX0pLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46Il9oYW5kbGVEb2N1bWVudEZvY3VzSW4ifSl9LF9lbmhhbmNlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5vcHRpb25zLGU9ZC53cmFwcGVyQ2xhc3MsZj17c2NyZWVuOmEoIjxkaXYgY2xhc3M9J3VpLXNjcmVlbi1oaWRkZW4gdWktcG9wdXAtc2NyZWVuICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLW92ZXJsYXktIixkLm92ZXJsYXlUaGVtZSkrIic+PC9kaXY+IikscGxhY2Vob2xkZXI6YSgiPGRpdiBzdHlsZT0nZGlzcGxheTogbm9uZTsnPjwhLS0gcGxhY2Vob2xkZXIgLS0+PC9kaXY+IiksY29udGFpbmVyOmEoIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWNvbnRhaW5lciB1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKyhlPyIgIitlOiIiKSsiJz48L2Rpdj4iKX0sZz10aGlzLmRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gZy5hcHBlbmRDaGlsZChmLnNjcmVlblswXSksZy5hcHBlbmRDaGlsZChmLmNvbnRhaW5lclswXSksYyYmKGYuc2NyZWVuLmF0dHIoImlkIixjKyItc2NyZWVuIiksZi5jb250YWluZXIuYXR0cigiaWQiLGMrIi1wb3B1cCIpLGYucGxhY2Vob2xkZXIuYXR0cigiaWQiLGMrIi1wbGFjZWhvbGRlciIpLmh0bWwoIjwhLS0gcGxhY2Vob2xkZXIgZm9yICIrYysiIC0tPiIpKSx0aGlzLl9wYWdlWzBdLmFwcGVuZENoaWxkKGcpLGYucGxhY2Vob2xkZXIuaW5zZXJ0QWZ0ZXIoYiksYi5kZXRhY2goKS5hZGRDbGFzcygidWktcG9wdXAgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGQudGhlbWUpKyIgIisoZC5zaGFkb3c/InVpLW92ZXJsYXktc2hhZG93ICI6IiIpKyhkLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikpLmFwcGVuZFRvKGYuY29udGFpbmVyKSxmfSxfZWF0RXZlbnRBbmRDbG9zZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLmNsb3NlKCksITF9LF9yZXNpemVTY3JlZW46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aS5zY3JlZW4sYj10aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApLGM9YS5yZW1vdmVBdHRyKCJzdHlsZSIpLmhlaWdodCgpLGQ9dGhpcy5kb2N1bWVudC5oZWlnaHQoKS0xO2Q+Yz9hLmhlaWdodChkKTpiPmMmJmEuaGVpZ2h0KGIpfSxfaGFuZGxlV2luZG93S2V5VXA6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX2lzT3BlbiYmYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FU0NBUEU/dGhpcy5fZWF0RXZlbnRBbmRDbG9zZShiKTp2b2lkIDB9LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciBhPWUodGhpcy53aW5kb3cpO2lmKHRoaXMuX3Jlc2l6ZURhdGEpe2lmKGEueD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueCYmYS55PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy55JiZhLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeCYmYS5jeT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3kpcmV0dXJuITE7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkKX1yZXR1cm4gdGhpcy5fcmVzaXplRGF0YT17dGltZW91dElkOnRoaXMuX2RlbGF5KCJfcmVzaXplVGltZW91dCIsMjAwKSx3aW5kb3dDb29yZGluYXRlczphfSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIikmJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLHRoaXMucmVwb3NpdGlvbih7cG9zaXRpb25Ubzoid2luZG93In0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9zdG9wSWdub3JpbmdSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbz0wfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89dGhpcy5fZGVsYXkoIl9zdG9wSWdub3JpbmdSZXNpemVFdmVudHMiLDFlMyl9LF9oYW5kbGVXaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKCF0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpJiYhdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzfHx0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpfHx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIpLnJlbW92ZUF0dHIoInN0eWxlIikpfSxfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2U6ZnVuY3Rpb24oKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbihiKXt2YXIgYyxkPWIudGFyZ2V0LGU9dGhpcy5fdWk7aWYodGhpcy5faXNPcGVuKXtpZihkIT09ZS5jb250YWluZXJbMF0pe2lmKGM9YShkKSwwPT09Yy5wYXJlbnRzKCkuZmlsdGVyKGUuY29udGFpbmVyWzBdKS5sZW5ndGgpcmV0dXJuIGEodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5vbmUoImZvY3VzIixmdW5jdGlvbigpe2MuYmx1cigpfSksZS5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtlLmZvY3VzRWxlbWVudFswXT09PWUuY29udGFpbmVyWzBdJiYoZS5mb2N1c0VsZW1lbnQ9Yyl9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ibm9uZSI9PT1iPyIiOmErYjphKyJpbmhlcml0In0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXtyZXR1cm4gYiYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLCJub25lIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksIm5vbmUiPT09dGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPSIiKSx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSkpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPXRoaXMuX3VpLnNjcmVlbjtyZXR1cm4gYS53cmFwcGVyQ2xhc3MhPT1jJiZ0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLnRoZW1lIT09YyYmZC5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGIudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGEudGhlbWUpKSxhLm92ZXJsYXlUaGVtZSE9PWMmJihlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsYi5vdmVybGF5VGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGEub3ZlcmxheVRoZW1lKSksdGhpcy5faXNPcGVuJiZlLmFkZENsYXNzKCJpbiIpKSxhLnNoYWRvdyE9PWMmJmQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdyksYS5jb3JuZXJzIT09YyYmZC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLnRyYW5zaXRpb24hPT1jJiYodGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihhLnRyYW5zaXRpb24pKSxhLnRvbGVyYW5jZSE9PWMmJnRoaXMuX3NldFRvbGVyYW5jZShhLnRvbGVyYW5jZSksYS5kaXNhYmxlZCE9PWMmJmEuZGlzYWJsZWQmJnRoaXMuY2xvc2UoKSx0aGlzLl9zdXBlcihhKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoIiwiKSxhLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KSxkLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGRbMF0pfHwoZS50PWUucj1lLmI9ZS5sPWRbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihkWzBdKXx8KGUudD1lLmI9ZFswXSksaXNOYU4oZFsxXSl8fChlLmw9ZS5yPWRbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihkWzBdKXx8KGUudD1kWzBdKSxpc05hTihkWzFdKXx8KGUucj1kWzFdKSxpc05hTihkWzJdKXx8KGUuYj1kWzJdKSxpc05hTihkWzNdKXx8KGUubD1kWzNdKX1yZXR1cm4gdGhpcy5fdG9sZXJhbmNlPWUsdGhpc30sX2NsYW1wUG9wdXBXaWR0aDpmdW5jdGlvbihhKXt2YXIgYixjPWUodGhpcy53aW5kb3cpLGQ9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpjLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6Yy5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpjLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifTtyZXR1cm4gYXx8dGhpcy5fdWkuY29udGFpbmVyLmNzcygibWF4LXdpZHRoIixkLmN4KSxiPXtjeDp0aGlzLl91aS5jb250YWluZXIub3V0ZXJXaWR0aCghMCksY3k6dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKX0se3JjOmQsbWVudVNpemU6Yn19LF9jYWxjdWxhdGVGaW5hbExvY2F0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1iLnJjLGY9Yi5tZW51U2l6ZTtyZXR1cm4gYz17bGVmdDpkKGUuY3gsZi5jeCxlLngsYS54KSx0b3A6ZChlLmN5LGYuY3ksZS55LGEueSl9LGMudG9wPU1hdGgubWF4KDAsYy50b3ApLGMudG9wLT1NYXRoLm1pbihjLnRvcCxNYXRoLm1heCgwLGMudG9wK2YuY3ktdGhpcy5kb2N1bWVudC5oZWlnaHQoKSkpLGN9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oYSx0aGlzLl9jbGFtcFBvcHVwV2lkdGgoKSl9LF9jcmVhdGVQcmVyZXF1aXNpdGVzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7ZT17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxlLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmIoKX0pLGUuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxdWlzaXRlcyYmYygpfSksYS53aGVuKGUuc2NyZWVuLGUuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJihmLl9wcmVyZXF1aXNpdGVzPW51bGwsZCgpKX0pLGYuX3ByZXJlcXVpc2l0ZXM9ZX0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXF1aXNpdGVzLnNjcmVlbi5yZXNvbHZlKCksYi50cmFuc2l0aW9uJiYibm9uZSIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT8odGhpcy5fdWkuY29udGFpbmVyLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lciwicmVzb2x2ZSIpKS5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksdm9pZCAwKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lci5yZXNvbHZlKCksdm9pZCAwKQp9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9bnVsbCxmPWUodGhpcy53aW5kb3cpLGc9Yi54LGg9Yi55LGk9Yi5wb3NpdGlvblRvO2lmKGkmJiJvcmlnaW4iIT09aSlpZigid2luZG93Ij09PWkpZz1mLmN4LzIrZi54LGg9Zi5jeS8yK2YueTtlbHNle3RyeXtkPWEoaSl9Y2F0Y2goail7ZD1udWxsfWQmJihkLmZpbHRlcigiOnZpc2libGUiKSwwPT09ZC5sZW5ndGgmJihkPW51bGwpKX1yZXR1cm4gZCYmKGM9ZC5vZmZzZXQoKSxnPWMubGVmdCtkLm91dGVyV2lkdGgoKS8yLGg9Yy50b3ArZC5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoIm51bWJlciIhPT1hLnR5cGUoaCl8fGlzTmFOKGgpKSYmKGg9Zi5jeS8yK2YueSkse3g6Zyx5Omh9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihhKXthPXt4OmEueCx5OmEueSxwb3NpdGlvblRvOmEucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGMsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSxhJiZ0aGlzLmRvY3VtZW50LmZpbmQoIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11bYXJpYS1vd25zPSciK2ErIiddIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuX3RyaWdnZXIoImFmdGVyb3BlbiIpfSxfb3BlbjpmdW5jdGlvbihiKXt2YXIgYz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksZD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGM9ISFiJiZiWzFdLGQ9YS5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGU9ISFkJiZkWzFdLGY9YS5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gbnVsbCE9PWQmJiI0LjAiPT09ZSYmYyYmYz41MzQuMTMmJiFmPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5ub29wLGEubm9vcCxhLnByb3h5KHRoaXMsIl9vcGVuUHJlcmVxdWlzaXRlc0NvbXBsZXRlIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWMudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oYy50cmFuc2l0aW9uKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLXRydW5jYXRlIiksdGhpcy5fcmVwb3NpdGlvbihjKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJmQmJnRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjohMCx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiIiLHNjcmVlbkNsYXNzVG9BZGQ6ImluIixjb250YWluZXJDbGFzc1RvQWRkOiJpbiIsYXBwbHlUcmFuc2l0aW9uOiExLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW46ZnVuY3Rpb24oKXt0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoIm91dCIpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LF9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lcjpmdW5jdGlvbigpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygicmV2ZXJzZSBvdXQiKS5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIikucmVtb3ZlQXR0cigic3R5bGUiKX0sX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl91aS5jb250YWluZXIsZD10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTtiLnJlbW92ZUF0dHIoInRhYmluZGV4IiksYS5tb2JpbGUucG9wdXAuYWN0aXZlPWMsYSgiOmZvY3VzIixiWzBdKS5hZGQoYlswXSkuYmx1cigpLGQmJnRoaXMuZG9jdW1lbnQuZmluZCgiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9JyIrZCsiJ10iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oYil7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1vcGVuIiksdGhpcy5faXNPcGVuPSExLHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW4iKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZUNvbnRhaW5lciIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlc0RvbmUiKSksdGhpcy5fYW5pbWF0ZSh7YWRkaXRpb25hbENvbmRpdGlvbjp0aGlzLl91aS5zY3JlZW4uaGFzQ2xhc3MoImluIiksdHJhbnNpdGlvbjpiPyJub25lIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cCB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktaW5oZXJpdCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzPyh0aGlzLmVsZW1lbnQub25lKCJwb3B1cGFmdGVyY2xvc2UiLGEucHJveHkodGhpcywiX3VuZW5oYW5jZSIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiYicGFnZWJlZm9yZWNoYW5nZSI9PT1jLnR5cGUmJmQmJihlPSJzdHJpbmciPT10eXBlb2YgZC50b1BhZ2U/ZC50b1BhZ2U6ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksdGhpcy53aW5kb3cub2ZmKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMud2luZG93Lm9uKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KHRoaXMsIl9jbG9zZVBvcHVwIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY29udGFpbmVyfSxvcGVuOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPXRoaXMsaj10aGlzLm9wdGlvbnM7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZXx8ai5kaXNhYmxlZD90aGlzOihhLm1vYmlsZS5wb3B1cC5hY3RpdmU9dGhpcyx0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksai5oaXN0b3J5PyhoPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnksZD1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5LGU9YS5tb2JpbGUuYWN0aXZlUGFnZSxmPWU/ZS5oYXNDbGFzcygidWktZGlhbG9nIik6ITEsdGhpcy5fbXlVcmw9Yz1oLmdldEFjdGl2ZSgpLnVybCwoZz1jLmluZGV4T2YoZCk+LTEmJiFmJiZoLmFjdGl2ZUluZGV4PjApPyhpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLHRoaXMpOigtMSE9PWMuaW5kZXhPZihkKXx8Zj9jPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grZDpjKz1jLmluZGV4T2YoIiMiKT4tMT9kOiIjIitkLDA9PT1oLmFjdGl2ZUluZGV4JiZjPT09aC5pbml0aWFsRHN0JiYoYys9ZCksdGhpcy53aW5kb3cub25lKCJiZWZvcmVuYXZpZ2F0ZSIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCl9KSx0aGlzLnVybEFsdGVyZWQ9ITAsYS5tb2JpbGUubmF2aWdhdGUoYyx7cm9sZToiZGlhbG9nIn0pLHRoaXMpKTooaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxpLmVsZW1lbnQuZGVsZWdhdGUoai5jbG9zZUxpbmtTZWxlY3RvcixqLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihhKXtpLmNsb3NlKCksYS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcykpfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5wb3B1cC5hY3RpdmUhPT10aGlzP3RoaXM6KHRoaXMuX3Njcm9sbFRvcD10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy51cmxBbHRlcmVkPyhhLm1vYmlsZS5iYWNrKCksdGhpcy51cmxBbHRlcmVkPSExKTp0aGlzLl9jbG9zZVBvcHVwKCksdGhpcyl9fSksYS5tb2JpbGUucG9wdXAuaGFuZGxlTGluaz1mdW5jdGlvbihiKXt2YXIgYyxkPWEubW9iaWxlLnBhdGgsZT1hKGQuaGFzaFRvU2VsZWN0b3IoZC5wYXJzZVVybChiLmF0dHIoImhyZWYiKSkuaGFzaCkpLmZpcnN0KCk7ZS5sZW5ndGg+MCYmZS5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGM9Yi5vZmZzZXQoKSxlLnBvcHVwKCJvcGVuIix7eDpjLmxlZnQrYi5vdXRlcldpZHRoKCkvMix5OmMudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25UbzpiLmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSxhLm1vYmlsZS5kb2N1bWVudC5vbigicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXsicG9wdXAiPT09Yy5vcHRpb25zLnJvbGUmJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9Ii51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIsLnVpLXNjcmVlbi1oaWRkZW4sOmpxbURhdGEocm9sZT0ncGxhY2Vob2xkZXInKSIsZT1mdW5jdGlvbihhLGIsYyl7dmFyIGU9YVtjKyJBbGwiXSgpLm5vdChkKS5maXJzdCgpO2UubGVuZ3RoJiYoYi5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGUuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSl9O2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUuc2VsZWN0bWVudSx7X2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucztyZXR1cm4gYS5uYXRpdmVNZW51PWEubmF0aXZlTWVudXx8dGhpcy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJyksOm1vYmlsZS1wb3B1cCIpLmxlbmd0aD4wLHRoaXMuX3N1cGVyKCl9LF9oYW5kbGVTZWxlY3RGb2N1czpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5ibHVyKCksdGhpcy5idXR0b24uZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksdGhpcy5faGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bihhKX0sX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd246ZnVuY3Rpb24oYil7dGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmlzT3Blbnx8KCJ2Y2xpY2siPT09Yi50eXBlfHxiLmtleUNvZGUmJihiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSkmJih0aGlzLl9kZWNpZGVGb3JtYXQoKSwib3ZlcmxheSI9PT10aGlzLm1lbnVUeXBlP3RoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLnBvcHVwSWQpLmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsicmVsIiwicG9wdXAiKTp0aGlzLmJ1dHRvbi5hdHRyKCJocmVmIiwiIyIrdGhpcy5kaWFsb2dJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJkaWFsb2ciKSx0aGlzLmlzT3Blbj0hMCl9LF9oYW5kbGVMaXN0Rm9jdXM6ZnVuY3Rpb24oYil7dmFyIGM9ImZvY3VzaW4iPT09Yi50eXBlP3t0YWJpbmRleDoiMCIsZXZlbnQ6InZtb3VzZW92ZXIifTp7dGFiaW5kZXg6Ii0xIixldmVudDoidm1vdXNlb3V0In07YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLGMudGFiaW5kZXgpLnRyaWdnZXIoYy5ldmVudCl9LF9oYW5kbGVMaXN0S2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuY2xvc2VzdCgibGkiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBlKGQsYywicHJldiIpLCExO2Nhc2UgNDA6cmV0dXJuIGUoZCxjLCJuZXh0IiksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBjLnRyaWdnZXIoImNsaWNrIiksITF9fSxfaGFuZGxlTWVudVBhZ2VIaWRlOmZ1bmN0aW9uKCl7dGhpcy50aGlzUGFnZS5wYWdlKCJiaW5kUmVtb3ZlIil9LF9oYW5kbGVIZWFkZXJDbG9zZUNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIm92ZXJsYXkiPT09dGhpcy5tZW51VHlwZT8odGhpcy5jbG9zZSgpLCExKTp2b2lkIDB9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdj10aGlzLm9wdGlvbnM7cmV0dXJuIHYubmF0aXZlTWVudT90aGlzLl9zdXBlcigpOih1PXRoaXMsYz10aGlzLnNlbGVjdElkLGQ9YysiLWxpc3Rib3giLGU9YysiLWRpYWxvZyIsZj10aGlzLmxhYmVsLGc9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksaD10aGlzLmVsZW1lbnRbMF0ubXVsdGlwbGUsaT1jKyItbWVudSIsaj12LnRoZW1lPyIgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIit2LnRoZW1lKyInIjoiIixrPXYub3ZlcmxheVRoZW1lPyIgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIit2Lm92ZXJsYXlUaGVtZSsiJyI6IiIsbD12LmRpdmlkZXJUaGVtZSYmaD8iIGRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZT0nIit2LmRpdmlkZXJUaGVtZSsiJyI6IiIsbT1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBjbGFzcz0ndWktc2VsZWN0bWVudScgaWQ9JyIrZSsiJyIraitrKyI+IisiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+IisiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZi5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj4iKyI8L2Rpdj4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+IisiPC9kaXY+Iiksbj1hKCI8ZGl2IGlkPSciK2QrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPiIpLmluc2VydEFmdGVyKHRoaXMuc2VsZWN0KS5wb3B1cCh7dGhlbWU6di5vdmVybGF5VGhlbWV9KSxvPWEoIjx1bCBjbGFzcz0ndWktc2VsZWN0bWVudS1saXN0JyBpZD0nIitpKyInIHJvbGU9J2xpc3Rib3gnIGFyaWEtbGFiZWxsZWRieT0nIit0aGlzLmJ1dHRvbklkKyInIitqK2wrIj4iKS5hcHBlbmRUbyhuKSxwPWEoIjxkaXYgY2xhc3M9J3VpLWhlYWRlciB1aS1iYXItIisodi50aGVtZT92LnRoZW1lOiJpbmhlcml0IikrIic+IikucHJlcGVuZFRvKG4pLHE9YSgiPGgxIGNsYXNzPSd1aS10aXRsZSc+IikuYXBwZW5kVG8ocCksdGhpcy5pc011bHRpcGxlJiYodD1hKCI8YT4iLHtyb2xlOiJidXR0b24iLHRleHQ6di5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuIHVpLWNvcm5lci1hbGwgdWktYnRuLWxlZnQgdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tZGVsZXRlIn0pLmFwcGVuZFRvKHApKSxhLmV4dGVuZCh0aGlzLHtzZWxlY3RJZDpjLG1lbnVJZDppLHBvcHVwSWQ6ZCxkaWFsb2dJZDplLHRoaXNQYWdlOmcsbWVudVBhZ2U6bSxsYWJlbDpmLGlzTXVsdGlwbGU6aCx0aGVtZTp2LnRoZW1lLGxpc3Rib3g6bixsaXN0Om8saGVhZGVyOnAsaGVhZGVyVGl0bGU6cSxoZWFkZXJDbG9zZTp0LG1lbnVQYWdlQ29udGVudDpyLG1lbnVQYWdlQ2xvc2U6cyxwbGFjZWhvbGRlcjoiIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29yaWdUYWJJbmRleD09PWImJih0aGlzLl9vcmlnVGFiSW5kZXg9bnVsbD09PXRoaXMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKT8hMTp0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIpKSx0aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIiksdGhpcy5fb24odGhpcy5zZWxlY3Qse2ZvY3VzOiJfaGFuZGxlU2VsZWN0Rm9jdXMifSksdGhpcy5fb24odGhpcy5idXR0b24se3ZjbGljazoiX2hhbmRsZUJ1dHRvblZjbGlja0tleWRvd24ifSksdGhpcy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IiksdGhpcy5fb24odGhpcy5saXN0LHtmb2N1c2luOiJfaGFuZGxlTGlzdEZvY3VzIixmb2N1c291dDoiX2hhbmRsZUxpc3RGb2N1cyIsa2V5ZG93bjoiX2hhbmRsZUxpc3RLZXlkb3duIn0pLHRoaXMubGlzdC5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPXUuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywib3B0aW9uLWluZGV4IiksZT11Ll9zZWxlY3RPcHRpb25zKCkuZXEoZClbMF07ZS5zZWxlY3RlZD11LmlzTXVsdGlwbGU/IWUuc2VsZWN0ZWQ6ITAsdS5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoImEiKS50b2dnbGVDbGFzcygidWktY2hlY2tib3gtb24iLGUuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKCJ1aS1jaGVja2JveC1vZmYiLCFlLnNlbGVjdGVkKSwodS5pc011bHRpcGxlfHxjIT09ZCkmJnUuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLHUuaXNNdWx0aXBsZT91Lmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmVxKGQpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6dS5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0pLHRoaXMuX29uKHRoaXMubWVudVBhZ2Use3BhZ2VoaWRlOiJfaGFuZGxlTWVudVBhZ2VIaWRlIn0pLHRoaXMuX29uKHRoaXMubGlzdGJveCx7cG9wdXBhZnRlcmNsb3NlOiJjbG9zZSJ9KSx0aGlzLmlzTXVsdGlwbGUmJnRoaXMuX29uKHRoaXMuaGVhZGVyQ2xvc2Use2NsaWNrOiJfaGFuZGxlSGVhZGVyQ2xvc2VDbGljayJ9KSx0aGlzKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoImxpIiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCkubm90KCIudWktc2NyZWVuLWhpZGRlbiIpO3JldHVybiBiLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkiKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcihiKTooYz10aGlzLChifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCksZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpLGMuc2V0QnV0dG9uVGV4dCgpLGMuc2V0QnV0dG9uQ291bnQoKSxjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZW5kKCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsZCk+LTEpe3ZhciBlPWEodGhpcyk7ZS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksYy5pc011bHRpcGxlP2UuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktY2hlY2tib3gtb24iKTplLmhhc0NsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik/ZS5uZXh0KCkuZmluZCgiYSIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTplLmZpbmQoImEiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSksdm9pZCAwKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGE9dGhpczsicGFnZSI9PT1hLm1lbnVUeXBlPyhhLm1lbnVQYWdlLmRpYWxvZygiY2xvc2UiKSxhLmxpc3QuYXBwZW5kVG8oYS5saXN0Ym94KSk6YS5saXN0Ym94LnBvcHVwKCJjbG9zZSIpLGEuX2ZvY3VzQnV0dG9uKCksYS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2ZvY3VzTWVudUl0ZW06ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxpc3QuZmluZCgiYS4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTswPT09Yi5sZW5ndGgmJihiPXRoaXMubGlzdC5maW5kKCJsaTpub3QoIitkKyIpIGEudWktYnRuIikpLGIuZmlyc3QoKS5mb2N1cygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1iLm1lbnVQYWdlLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixnKX0pLGIubWVudVBhZ2Uub25lKHtwYWdlc2hvdzphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLCJjbG9zZSIpfSksYi5tZW51VHlwZT0icGFnZSIsYi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCksYi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLnRleHQoKSkpOihiLm1lbnVUeXBlPSJvdmVybGF5IixiLmxpc3Rib3gub25lKHtwb3B1cGFmdGVyb3BlbjphLnByb3h5KHRoaXMsIl9mb2N1c01lbnVJdGVtIil9KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9dGhpcyxyPXRoaXMub3B0aW9ucyxzPXRoaXMucGxhY2Vob2xkZXIsdD0hMCx1PSJmYWxzZSIsdj0iZGF0YS0iK2EubW9iaWxlLm5zLHc9disib3B0aW9uLWluZGV4Iix4PXYrImljb24iLHk9disicm9sZSIsej12KyJwbGFjZWhvbGRlciIsQT1jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxCPSExO2ZvcihxLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95IiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCksZD1iLmxlbmd0aCxlPXRoaXMuc2VsZWN0WzBdLGc9MDtkPmc7ZysrLEI9ITEpaD1iW2ddLGk9YShoKSxpLmhhc0NsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil8fChqPWgucGFyZW50Tm9kZSxrPWkudGV4dCgpLGw9Yy5jcmVhdGVFbGVtZW50KCJhIiksbT1bXSxsLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxsLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoaykpLGohPT1lJiYib3B0Z3JvdXAiPT09ai5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYobj1qLmdldEF0dHJpYnV0ZSgibGFiZWwiKSxuIT09ZiYmKG89Yy5jcmVhdGVFbGVtZW50KCJsaSIpLG8uc2V0QXR0cmlidXRlKHksImxpc3QtZGl2aWRlciIpLG8uc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksby5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxvLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUobikpLEEuYXBwZW5kQ2hpbGQobyksZj1uKSksIXR8fGguZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpJiYwIT09ay5sZW5ndGgmJiFpLmpxbURhdGEoInBsYWNlaG9sZGVyIil8fCh0PSExLEI9ITAsbnVsbD09PWguZ2V0QXR0cmlidXRlKHopJiYodGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyPSEwKSxoLnNldEF0dHJpYnV0ZSh6LCEwKSxyLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmbS5wdXNoKCJ1aS1zY3JlZW4taGlkZGVuIikscyE9PWsmJihzPXEucGxhY2Vob2xkZXI9aykpLHA9Yy5jcmVhdGVFbGVtZW50KCJsaSIpLGguZGlzYWJsZWQmJihtLnB1c2goInVpLXN0YXRlLWRpc2FibGVkIikscC5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSkscC5zZXRBdHRyaWJ1dGUodyxnKSxwLnNldEF0dHJpYnV0ZSh4LHUpLEImJnAuc2V0QXR0cmlidXRlKHosITApLHAuY2xhc3NOYW1lPW0uam9pbigiICIpLHAuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksbC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSx0aGlzLmlzTXVsdGlwbGUmJmEobCkuYWRkQ2xhc3MoInVpLWJ0biB1aS1jaGVja2JveC1vZmYgdWktYnRuLWljb24tcmlnaHQiKSxwLmFwcGVuZENoaWxkKGwpLEEuYXBwZW5kQ2hpbGQocCkpO3EubGlzdFswXS5hcHBlbmRDaGlsZChBKSx0aGlzLmlzTXVsdGlwbGV8fHMubGVuZ3RoP3RoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTp0aGlzLmhlYWRlci5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHEubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6YSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDp0aGlzLmJ1dHRvbklkLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6dGhpcy5tZW51SWR9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMubmF0aXZlTWVudXx8KHRoaXMuY2xvc2UoKSx0aGlzLl9vcmlnVGFiSW5kZXghPT1iJiYodGhpcy5fb3JpZ1RhYkluZGV4IT09ITE/dGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLHRoaXMuX29yaWdUYWJJbmRleCk6dGhpcy5zZWxlY3QucmVtb3ZlQXR0cigidGFiaW5kZXgiKSksdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyJiZ0aGlzLl9zZWxlY3RPcHRpb25zKCkucmVtb3ZlQXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJwbGFjZWhvbGRlciIpLHRoaXMubGlzdGJveC5yZW1vdmUoKSx0aGlzLm1lbnVQYWdlLnJlbW92ZSgpKSx0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXt2YXIgYz1iP2I6W107cmV0dXJuIGMucHVzaCgidWktYnRuIiksYS50aGVtZSYmYy5wdXNoKCJ1aS1idG4tIithLnRoZW1lKSxhLmljb24mJihjPWMuY29uY2F0KFsidWktaWNvbi0iK2EuaWNvbiwidWktYnRuLWljb24tIithLmljb25wb3NdKSxhLmljb25zaGFkb3cmJmMucHVzaCgidWktc2hhZG93LWljb24iKSksYS5pbmxpbmUmJmMucHVzaCgidWktYnRuLWlubGluZSIpLGEuc2hhZG93JiZjLnB1c2goInVpLXNoYWRvdyIpLGEuY29ybmVycyYmYy5wdXNoKCJ1aS1jb3JuZXItYWxsIiksYS5taW5pJiZjLnB1c2goInVpLW1pbmkiKSxjfWZ1bmN0aW9uIGQoYSl7dmFyIGMsZCxlLGc9ITEsaD0hMCxpPXtpY29uOiIiLGlubGluZTohMSxzaGFkb3c6ITEsY29ybmVyczohMSxpY29uc2hhZG93OiExLG1pbmk6ITF9LGo9W107Zm9yKGE9YS5zcGxpdCgiICIpLGM9MDtjPGEubGVuZ3RoO2MrKyllPSEwLGQ9ZlthW2NdXSxkIT09Yj8oZT0hMSxpW2RdPSEwKTowPT09YVtjXS5pbmRleE9mKCJ1aS1idG4taWNvbi0iKT8oZT0hMSxoPSExLGkuaWNvbnBvcz1hW2NdLnN1YnN0cmluZygxMikpOjA9PT1hW2NdLmluZGV4T2YoInVpLWljb24tIik/KGU9ITEsaS5pY29uPWFbY10uc3Vic3RyaW5nKDgpKTowPT09YVtjXS5pbmRleE9mKCJ1aS1idG4tIikmJjg9PT1hW2NdLmxlbmd0aD8oZT0hMSxpLnRoZW1lPWFbY10uc3Vic3RyaW5nKDcpKToidWktYnRuIj09PWFbY10mJihlPSExLGc9ITApLGUmJmoucHVzaChhW2NdKTtyZXR1cm4gaCYmKGkuaWNvbj0iIikse29wdGlvbnM6aSx1bmtub3duQ2xhc3NlczpqLGFscmVhZHlFbmhhbmNlZDpnfX1mdW5jdGlvbiBlKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9dmFyIGY9eyJ1aS1zaGFkb3ciOiJzaGFkb3ciLCJ1aS1jb3JuZXItYWxsIjoiY29ybmVycyIsInVpLWJ0bi1pbmxpbmUiOiJpbmxpbmUiLCJ1aS1zaGFkb3ctaWNvbiI6Imljb25zaGFkb3ciLCJ1aS1taW5pIjoibWluaSJ9LGc9ZnVuY3Rpb24oKXt2YXIgYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBudWxsPT1jP2I6Y30saD0vW0EtWl0vZzthLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihmLGkpe3ZhciBqLGssbCxtLG4sbz1hLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cztmb3Ioaj0wO2o8dGhpcy5sZW5ndGg7aisrKXtpZihsPXRoaXNbal0saz1pP3thbHJlYWR5RW5oYW5jZWQ6ITEsdW5rbm93bkNsYXNzZXM6W119OmQobC5jbGFzc05hbWUpLG09YS5leHRlbmQoe30say5hbHJlYWR5RW5oYW5jZWQ/ay5vcHRpb25zOnt9LGYpLCFrLmFscmVhZHlFbmhhbmNlZClmb3IobiBpbiBvKW1bbl09PT1iJiYobVtuXT1nKGwsbi5yZXBsYWNlKGgsZSkpKTtsLmNsYXNzTmFtZT1jKGEuZXh0ZW5kKHt9LG8sbSksay51bmtub3duQ2xhc3Nlcykuam9pbigiICIpLCJidXR0b24iIT09bC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmwuc2V0QXR0cmlidXRlKCJyb2xlIiwiYnV0dG9uIil9cmV0dXJuIHRoaXN9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtpY29uOiIiLGljb25wb3M6ImxlZnQiLHRoZW1lOm51bGwsaW5saW5lOiExLHNoYWRvdzohMCxjb3JuZXJzOiEwLGljb25zaGFkb3c6ITEsbWluaTohMX0sYS5leHRlbmQoYS5mbi5idXR0b25NYXJrdXAse2luaXRTZWxlY3RvcjoiYTpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSwgYnV0dG9uIn0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY29udHJvbGdyb3VwIixhLmV4dGVuZCh7b3B0aW9uczp7ZW5oYW5jZWQ6ITEsdGhlbWU6bnVsbCxzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2EuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmVsZW1lbnQuZmluZChhLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IpLmJ1dHRvbk1hcmt1cCgpLGEuZWFjaCh0aGlzLl9jaGlsZFdpZGdldHMsYS5wcm94eShmdW5jdGlvbihiLGMpe2EubW9iaWxlW2NdJiZ0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZVtjXS5pbml0U2VsZWN0b3IpLm5vdChhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSlbY10oKX0sdGhpcykpLGEuZXh0ZW5kKHRoaXMse191aTpudWxsLF9pbml0aWFsUmVmcmVzaDohMH0pLHRoaXMuX3VpPWMuZW5oYW5jZWQ/e2dyb3VwTGVnZW5kOmIuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtbGFiZWwiKS5jaGlsZHJlbigpLGNoaWxkV3JhcHBlcjpiLmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIil9OnRoaXMuX2VuaGFuY2UoKX0sX2NoaWxkV2lkZ2V0czpbImNoZWNrYm94cmFkaW8iLCJzZWxlY3RtZW51IiwiYnV0dG9uIl0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhPyJub25lIj09PWE/IiI6InVpLWdyb3VwLXRoZW1lLSIrYToiIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD17Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbigibGVnZW5kIiksY2hpbGRXcmFwcGVyOmIuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIisoImhvcml6b250YWwiPT09Yy50eXBlPyJob3Jpem9udGFsIjoidmVydGljYWwiKSsiICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkrIiAiKyhjLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikrKGMubWluaT8idWktbWluaSAiOiIiKSkud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMgIisoYy5zaGFkb3c9PT0hMD8idWktc2hhZG93IjoiIikrIic+PC9kaXY+IikuY2hpbGRyZW4oKX07cmV0dXJuIGQuZ3JvdXBMZWdlbmQubGVuZ3RoPjAmJmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+IikuYXBwZW5kKGQuZ3JvdXBMZWdlbmQpLnByZXBlbmRUbyhiKSxkfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGU9dGhpcy5lbGVtZW50O3JldHVybiBhLnR5cGUhPT1iJiYoZS5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1hLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKSxjPSEwKSxhLnRoZW1lIT09YiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbih0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihhLnRoZW1lKSksYS5jb3JuZXJzIT09YiYmZS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSxhLm1pbmkhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhLm1pbmkpLGEuc2hhZG93IT09YiYmdGhpcy5fdWkuY2hpbGRXcmFwcGVyLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGEuc2hhZG93KSxhLmV4Y2x1ZGVJbnZpc2libGUhPT1iJiYodGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU9YS5leGNsdWRlSW52aXNpYmxlLGM9ITApLGQ9dGhpcy5fc3VwZXIoYSksYyYmdGhpcy5yZWZyZXNoKCksZH0sY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VpLmNoaWxkV3JhcHBlcn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29udGFpbmVyKCksYz1iLmZpbmQoIi51aS1idG4iKS5ub3QoIi51aS1zbGlkZXItaGFuZGxlIiksZD10aGlzLl9pbml0aWFsUmVmcmVzaDthLm1vYmlsZS5jaGVja2JveHJhZGlvJiZiLmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGMsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXMoYyxkKTpjLGQpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhLGIsYz10aGlzLm9wdGlvbnM7cmV0dXJuIGMuZW5oYW5jZWQ/dGhpczooYT10aGlzLl91aSxiPXRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCB1aS1jb3JuZXItYWxsIHVpLW1pbmkgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKSkuZmluZCgiLnVpLWJ0biIpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSx0aGlzLl9yZW1vdmVGaXJzdExhc3RDbGFzc2VzKGIpLGEuZ3JvdXBMZWdlbmQudW53cmFwKCksYS5jaGlsZFdyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSx2b2lkIDApfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdoZWFkZXInKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxhZGRCYWNrQnRuOiExLGJhY2tCdG5UaGVtZTpudWxsLGJhY2tCdG5UZXh0OiJCYWNrIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciIsZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTswPT09ZS5sZW5ndGgmJihlPSExLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OiJyZWZyZXNoIn0pKSxhLmV4dGVuZCh0aGlzLHtyb2xlOmQscGFnZTplLGxlZnRidG46YixyaWdodGJ0bjpjLGJhY2tCdG46bnVsbH0pLHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwiaGVhZGVyIj09PWQ/ImJhbm5lciI6ImNvbnRlbnRpbmZvIikuYWRkQ2xhc3MoInVpLSIrZCksdGhpcy5yZWZyZXNoKCksdGhpcy5fc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtpZihjLmFkZEJhY2tCdG4hPT1iJiYodGhpcy5vcHRpb25zLmFkZEJhY2tCdG4mJiJoZWFkZXIiPT09dGhpcy5yb2xlJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZ0aGlzLnBhZ2VbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiF0aGlzLmxlZnRidG4/dGhpcy5fYWRkQmFja0J1dHRvbigpOnRoaXMuZWxlbWVudC5maW5kKCIudWktdG9vbGJhci1iYWNrLWJ0biIpLnJlbW92ZSgpKSxudWxsIT1jLmJhY2tCdG5UaGVtZSYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikuYWRkQ2xhc3MoInVpLWJ0biB1aS1idG4tIitjLmJhY2tCdG5UaGVtZSksYy5iYWNrQnRuVGV4dCE9PWImJnRoaXMuZWxlbWVudC5maW5kKCIudWktdG9vbGJhci1iYWNrLWJ0biAudWktYnRuLXRleHQiKS50ZXh0KGMuYmFja0J0blRleHQpLGMudGhlbWUhPT1iKXt2YXIgZD10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOiJpbmhlcml0IixlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCI7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1iYXItIitkKS5hZGRDbGFzcygidWktYmFyLSIrZSl9dGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXsiaGVhZGVyIj09PXRoaXMucm9sZSYmdGhpcy5fYWRkSGVhZGVyQnV0dG9uQ2xhc3NlcygpLHRoaXMucGFnZXx8KHRoaXMuX3NldFJlbGF0aXZlKCksImZvb3RlciI9PT10aGlzLnJvbGUmJnRoaXMuZWxlbWVudC5hcHBlbmRUbygiYm9keSIpKSx0aGlzLl9hZGRIZWFkaW5nQ2xhc3NlcygpLHRoaXMuX2J0bk1hcmt1cCgpfSxfc2V0UmVsYXRpdmU6ZnVuY3Rpb24oKXthKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJ10iKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KX0sX2J0bk1hcmt1cDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jaGlsZHJlbigiYSIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImJ1dHRvbiIpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJjcmVhdGUiKX0sX2FkZEhlYWRlckJ1dHRvbkNsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImEsIGJ1dHRvbiIpO3RoaXMubGVmdGJ0bj1hLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLHRoaXMucmlnaHRidG49YS5oYXNDbGFzcygidWktYnRuLXJpZ2h0IiksdGhpcy5sZWZ0YnRuPXRoaXMubGVmdGJ0bnx8YS5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsdGhpcy5yaWdodGJ0bj10aGlzLnJpZ2h0YnRufHxhLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGh9LF9hZGRCYWNrQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLm9wdGlvbnM7dGhpcy5iYWNrQnRufHwoYj1jLmJhY2tCdG5UaGVtZXx8Yy50aGVtZSx0aGlzLmJhY2tCdG49YSgiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLWJ0bi1sZWZ0ICIrKGI/InVpLWJ0bi0iK2IrIiAiOiIiKSsidWktdG9vbGJhci1iYWNrLWJ0biB1aS1pY29uLWNhcmF0LWwgdWktYnRuLWljb24tbGVmdCcgIisiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snPiIrYy5iYWNrQnRuVGV4dCsiPC9hPiIpLnByZXBlbmRUbyh0aGlzLmVsZW1lbnQpKX0sX2FkZEhlYWRpbmdDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7cm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7b3B0aW9uczp7cG9zaXRpb246bnVsbCx2aXNpYmxlT25QYWdlU2hvdzohMCxkaXNhYmxlUGFnZVpvb206ITAsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCwgLnVpLWZsaXBzd2l0Y2gsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5maXhlZFBvc2l0aW9ufX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbnx8dGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKXx8dGhpcy5fbWFrZUZpeGVkKCl9LF9tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZml4ZWQiKSx0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKCksdGhpcy5fYWRkVHJhbnNpdGlvbkNsYXNzKCksdGhpcy5fYmluZFBhZ2VFdmVudHMoKSx0aGlzLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKSx0aGlzLl9zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKCJmaXhlZCI9PT1jLnBvc2l0aW9uJiYiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiZ0aGlzLl9tYWtlRml4ZWQoKSwiZml4ZWQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiYhdGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKSl7dmFyIGQ9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg+MD9hKCIudWktcGFnZS1hY3RpdmUiKTphKCIudWktcGFnZSIpLmVxKDApO2MuZnVsbHNjcmVlbiE9PWImJihjLmZ1bGxzY3JlZW4/KHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSk6KHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktIit0aGlzLnJvbGUrIi1mdWxsc2NyZWVuIiksZC5yZW1vdmVDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKS5hZGRDbGFzcygidWktcGFnZS0iK3RoaXMucm9sZSsiLWZpeGVkIikpKX10aGlzLl9zdXBlcihjKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJiJub25lIiE9PWEmJigic2xpZGUiPT09YSYmKGE9dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFnZT90aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTp0aGlzLmRvY3VtZW50O3RoaXMuX29uKGEse3BhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHdlYmtpdEFuaW1hdGlvblN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLGFuaW1hdGlvbnN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHVwZGF0ZWxheW91dDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixwYWdlc2hvdzoiX2hhbmRsZVBhZ2VTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksYi52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIpLHRoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb24odGhpcy53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKHRoaXMud2luZG93LCJ0aHJvdHRsZWRyZXNpemUiKSxoLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzJiYoZD1hKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLnBhZ2UpLGU9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5wYWdlKSxmPWQubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZC5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSxnPWUubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZS5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSwoZi5sZW5ndGh8fGcubGVuZ3RoKSYmKGYuYWRkKGcpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGMubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtnLnByZXBlbmRUbyh0aGlzKSxmLmFwcGVuZFRvKHRoaXMpfSkpKX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ImhlYWRlciI9PT10aGlzLnJvbGUsZj1wYXJzZUZsb2F0KGQuY3NzKGU/InRvcCI6ImJvdHRvbSIpKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9YyYmYy50eXBlPT09YiYmY3x8dGhpcy5wYWdlfHxkLmNsb3Nlc3QoIi51aS1wYWdlIiksYz10aGlzLnBhZ2U/dGhpcy5wYWdlOiIudWktcGFnZS1hY3RpdmUiLGEoYykuY3NzKCJwYWRkaW5nLSIrKGU/InRvcCI6ImJvdHRvbSIpLGQub3V0ZXJIZWlnaHQoKStmKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMud2luZG93LGQ9dGhpcy5lbGVtZW50LGU9Yy5zY3JvbGxUb3AoKSxmPWQuaGVpZ2h0KCksZz10aGlzLnBhZ2U/ZC5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpOmEoIi51aS1wYWdlLWFjdGl2ZSIpLmhlaWdodCgpLGg9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7cmV0dXJuIWImJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmIm5vbmUiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJigiaGVhZGVyIj09PXRoaXMucm9sZSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZlPmZ8fCJmb290ZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmctZj5lK2gpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKCJvdXQgIitiKS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQsZD0ib3V0IisoInNsaWRlIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMsZT1kLm9wdGlvbnMsZj0hMCxnPXRoaXMucGFnZT90aGlzLnBhZ2U6YSgiLnVpLXBhZ2UiKTtnLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7ZS50YXBUb2dnbGUmJiFhKGIudGFyZ2V0KS5jbG9zZXN0KGUudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmQudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IixmdW5jdGlvbihnKXtzY3JlZW4ud2lkdGg8MTAyNSYmYShnLnRhcmdldCkuaXMoZS5oaWRlRHVyaW5nRm9jdXMpJiYhYShnLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmKCJmb2N1c291dCIhPT1nLnR5cGV8fGY/ImZvY3VzaW4iPT09Zy50eXBlJiZmJiYoY2xlYXJUaW1lb3V0KGIpLGY9ITEsYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5oaWRlKCl9LDApKTooZj0hMCxjbGVhclRpbWVvdXQoYyksYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zaG93KCl9LDApKSl9KX0sX3NldFJlbGF0aXZlOmZ1bmN0aW9uKCl7ImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmYSgiW2RhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSddIikuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5oYXNDbGFzcygidWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLGEubW9iaWxlLnRvb2xiYXIse19tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuX3dvcmthcm91bmRzKCl9LF93b3JrYXJvdW5kczpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sYz1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZigiaVBob25lIik+LTF8fGIuaW5kZXhPZigiaVBhZCIpPi0xfHxiLmluZGV4T2YoImlQb2QiKT4tMSllPSJpb3MiO2Vsc2V7aWYoIShhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSkpcmV0dXJuO2U9ImFuZHJvaWQifWlmKCJpb3MiPT09ZSlmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO2Vsc2V7aWYoISgiYW5kcm9pZCI9PT1lJiZkJiY1MzQ+ZCkpcmV0dXJuO2YuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKX19LF92aWV3cG9ydE9mZnNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaGFzQ2xhc3MoInVpLWhlYWRlciIpLGM9TWF0aC5hYnMoYS5vZmZzZXQoKS50b3AtdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBifHwoYz1NYXRoLnJvdW5kKGMtdGhpcy53aW5kb3cuaGVpZ2h0KCkrYS5vdXRlckhlaWdodCgpKS02MCksY30sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBiPWEuX3ZpZXdwb3J0T2Zmc2V0KCk7Yj4yJiZhLl92aXNpYmxlJiZhLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VGbG9hdChhKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpO2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZS5jbG9uZSgpLGI9YS5lcSgwKSxjPWEuZXEoMSksZD1jLmNoaWxkcmVuKCksZj1kLmNoaWxkcmVuKCk7cmV0dXJue2FyRWxzOmMuYWRkKGIpLGdkOmIsY3Q6YyxhcjpkLGJnOmZ9fXZhciBkPWEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU8PTgsZT1hKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdy1ndWlkZSc+PC9kaXY+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3ctY29udGFpbmVyIisoZD8iIGllIjoiIikrIic+IisiPGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3cnPiIrIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWJhY2tncm91bmQnPjwvZGl2PiIrIjwvZGl2PiIrIjwvZGl2PiIpLGY9TWF0aC5zcXJ0KDIpLzI7YS53aWRnZXQoIm1vYmlsZS5wb3B1cCIsYS5tb2JpbGUucG9wdXAse29wdGlvbnM6e2Fycm93OiIifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLl9zdXBlcigpO3JldHVybiB0aGlzLm9wdGlvbnMuYXJyb3cmJih0aGlzLl91aS5hcnJvdz1hPXRoaXMuX2FkZEFycm93KCkpLGJ9LF9hZGRBcnJvdzpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5vcHRpb25zLGQ9YygpO3JldHVybiBhPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYi50aGVtZSksZC5hci5hZGRDbGFzcyhhKyhiLnNoYWRvdz8iIHVpLW92ZXJsYXktc2hhZG93IjoiIikpLGQuYmcuYWRkQ2xhc3MoYSksZC5hckVscy5oaWRlKCkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSxkfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX0sX3RyeUFuQXJyb3c6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaT17fSxqPXt9O3JldHVybiBkLmFyRnVsbFthLmRpbUtleV0+ZC5ndWlkZURpbXNbYS5kaW1LZXldP2U6KGlbYS5mc3RdPWNbYS5mc3RdKyhkLmFySGFsZlthLm9EaW1LZXldK2QubWVudUhhbGZbYS5vRGltS2V5XSkqYS5vZmZzZXRGYWN0b3ItZC5jb250ZW50Qm94W2EuZnN0XSsoZC5jbGFtcEluZm8ubWVudVNpemVbYS5vRGltS2V5XS1kLmNvbnRlbnRCb3hbYS5vRGltS2V5XSkqYS5hcnJvd09mZnNldEZhY3RvcixpW2Euc25kXT1jW2Euc25kXSxmPWQucmVzdWx0fHx0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGksZC5jbGFtcEluZm8pLGc9e3g6Zi5sZWZ0LHk6Zi50b3B9LGpbYS5mc3RdPWdbYS5mc3RdK2QuY29udGVudEJveFthLmZzdF0rYS50aXBPZmZzZXQsalthLnNuZF09TWF0aC5tYXgoZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmFySGFsZlthLmRpbUtleV0sTWF0aC5taW4oZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmd1aWRlRGltc1thLmRpbUtleV0tZC5hckhhbGZbYS5kaW1LZXldLGNbYS5zbmRdKSksaD1NYXRoLmFicyhjLngtai54KStNYXRoLmFicyhjLnktai55KSwoIWV8fGg8ZS5kaWZmKSYmKGpbYS5zbmRdLT1kLmFySGFsZlthLmRpbUtleV0rZlthLnByb3BdK2QuY29udGVudEJveFthLnNuZF0sZT17ZGlyOmIsZGlmZjpoLHJlc3VsdDpmLHBvc1Byb3A6YS5wcm9wLHBvc1ZhbDpqW2Euc25kXX0pLGUpfSxfZ2V0UGxhY2VtZW50U3RhdGU6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMuX3VpLmFycm93LGU9e2NsYW1wSW5mbzp0aGlzLl9jbGFtcFBvcHVwV2lkdGgoIWEpLGFyRnVsbDp7Y3g6ZC5jdC53aWR0aCgpLGN5OmQuY3QuaGVpZ2h0KCl9LGd1aWRlRGltczp7Y3g6ZC5nZC53aWR0aCgpLGN5OmQuZ2QuaGVpZ2h0KCl9LGd1aWRlT2Zmc2V0OmQuZ2Qub2Zmc2V0KCl9O3JldHVybiBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxkLmdkLmNzcyh7bGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjB9KSxjPWQuZ2Qub2Zmc2V0KCksZS5jb250ZW50Qm94PXt4OmMubGVmdC1iLmxlZnQseTpjLnRvcC1iLnRvcCxjeDpkLmdkLndpZHRoKCksY3k6ZC5nZC5oZWlnaHQoKX0sZC5nZC5yZW1vdmVBdHRyKCJzdHlsZSIpLGUuZ3VpZGVPZmZzZXQ9e2xlZnQ6ZS5ndWlkZU9mZnNldC5sZWZ0LWIubGVmdCx0b3A6ZS5ndWlkZU9mZnNldC50b3AtYi50b3B9LGUuYXJIYWxmPXtjeDplLmFyRnVsbC5jeC8yLGN5OmUuYXJGdWxsLmN5LzJ9LGUubWVudUhhbGY9e2N4OmUuY2xhbXBJbmZvLm1lbnVTaXplLmN4LzIsY3k6ZS5jbGFtcEluZm8ubWVudVNpemUuY3kvMn0sZX0sX3BsYWNlbWVudENvb3JkczpmdW5jdGlvbihiKXt2YXIgYyxlLGcsaCxpLGosayxsPXRoaXMub3B0aW9ucy5hcnJvdyxtPXRoaXMuX3VpLmFycm93O3JldHVybiBtPyhtLmFyRWxzLnNob3coKSxrPXt9LGM9dGhpcy5fZ2V0UGxhY2VtZW50U3RhdGUoITApLGc9e2w6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6MSx0aXBPZmZzZXQ6LWMuYXJIYWxmLmN4LGFycm93T2Zmc2V0RmFjdG9yOjB9LHI6e2ZzdDoieCIsc25kOiJ5Iixwcm9wOiJ0b3AiLGRpbUtleToiY3kiLG9EaW1LZXk6ImN4IixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN4K2MuY29udGVudEJveC5jeCxhcnJvd09mZnNldEZhY3RvcjoxfSxiOntmc3Q6InkiLHNuZDoieCIscHJvcDoibGVmdCIsZGltS2V5OiJjeCIsb0RpbUtleToiY3kiLG9mZnNldEZhY3RvcjotMSx0aXBPZmZzZXQ6Yy5hckhhbGYuY3krYy5jb250ZW50Qm94LmN5LGFycm93T2Zmc2V0RmFjdG9yOjF9LHQ6e2ZzdDoieSIsc25kOiJ4Iixwcm9wOiJsZWZ0IixkaW1LZXk6ImN4IixvRGltS2V5OiJjeSIsb2Zmc2V0RmFjdG9yOjEsdGlwT2Zmc2V0Oi1jLmFySGFsZi5jeSxhcnJvd09mZnNldEZhY3RvcjowfX0sYS5lYWNoKChsPT09ITA/ImwsdCxyLGIiOmwpLnNwbGl0KCIsIiksYS5wcm94eShmdW5jdGlvbihhLGQpe2U9dGhpcy5fdHJ5QW5BcnJvdyhnW2RdLGQsYixjLGUpfSx0aGlzKSksZT8obS5jdC5yZW1vdmVDbGFzcygidWktcG9wdXAtYXJyb3ctbCB1aS1wb3B1cC1hcnJvdy10IHVpLXBvcHVwLWFycm93LXIgdWktcG9wdXAtYXJyb3ctYiIpLmFkZENsYXNzKCJ1aS1wb3B1cC1hcnJvdy0iK2UuZGlyKS5yZW1vdmVBdHRyKCJzdHlsZSIpLmNzcyhlLnBvc1Byb3AsZS5wb3NWYWwpLnNob3coKSxkfHwoaT10aGlzLmVsZW1lbnQub2Zmc2V0KCksa1tnW2UuZGlyXS5mc3RdPW0uY3Qub2Zmc2V0KCksa1tnW2UuZGlyXS5zbmRdPXtsZWZ0OmkubGVmdCtjLmNvbnRlbnRCb3gueCx0b3A6aS50b3ArYy5jb250ZW50Qm94Lnl9LGg9bS5iZy5yZW1vdmVBdHRyKCJzdHlsZSIpLmNzcygiY3giPT09Z1tlLmRpcl0uZGltS2V5PyJ3aWR0aCI6ImhlaWdodCIsYy5jb250ZW50Qm94W2dbZS5kaXJdLmRpbUtleV0pLm9mZnNldCgpLGo9e2R4OmsueC5sZWZ0LWgubGVmdCxkeTprLnkudG9wLWgudG9wfSxtLmJnLmNzcyh7bGVmdDpmKmouZHkrZipqLmR4LHRvcDpmKmouZHktZipqLmR4fSkpLGUucmVzdWx0KToobS5hckVscy5oaWRlKCksdGhpcy5fc3VwZXIoYikpKTp0aGlzLl9zdXBlcihiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLm9wdGlvbnMudGhlbWUsZT10aGlzLl91aS5hcnJvdyxmPXRoaXMuX3N1cGVyKGEpO2lmKGEuYXJyb3chPT1iKXtpZighZSYmYS5hcnJvdylyZXR1cm4gdGhpcy5fdWkuYXJyb3c9dGhpcy5fYWRkQXJyb3coKSx2b2lkIDA7ZSYmIWEuYXJyb3cmJihlLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3VpLmFycm93PW51bGwpfXJldHVybiBlPXRoaXMuX3VpLmFycm93LGUmJihhLnRoZW1lIT09YiYmKGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixkKSxjPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYS50aGVtZSksZS5hci5yZW1vdmVDbGFzcyhkKS5hZGRDbGFzcyhjKSxlLmJnLnJlbW92ZUNsYXNzKGQpLmFkZENsYXNzKGMpKSxhLnNoYWRvdyE9PWImJmUuYXIudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdykpLGZ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLnBhbmVsIix7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlQ29udGFpbmVyOiJ1aS1wYW5lbC1wYWdlLWNvbnRhaW5lciIscGFnZVdyYXBwZXI6InVpLXBhbmVsLXdyYXBwZXIiLHBhZ2VGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWZpeGVkLXRvb2xiYXIiLHBhZ2VDb250ZW50UHJlZml4OiJ1aS1wYW5lbC1wYWdlLWNvbnRlbnQiLGFuaW1hdGU6InVpLXBhbmVsLWFuaW1hdGUifSxhbmltYXRlOiEwLHRoZW1lOm51bGwscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfcGFuZWxJRDpudWxsLF9jbG9zZUxpbms6bnVsbCxfcGFyZW50UGFnZTpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3BhbmVsSW5uZXI6bnVsbCxfd3JhcHBlcjpudWxsLF9maXhlZFRvb2xiYXJzOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7CmEuZXh0ZW5kKHRoaXMse19wYW5lbElEOmIuYXR0cigiaWQiKSxfY2xvc2VMaW5rOmIuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhcmVudFBhZ2U6Yy5sZW5ndGg+MD9jOiExLF9wYWdlOnRoaXMuX2dldFBhZ2UsX3BhbmVsSW5uZXI6dGhpcy5fZ2V0UGFuZWxJbm5lcigpLF93cmFwcGVyOnRoaXMuX2dldFdyYXBwZXIsX2ZpeGVkVG9vbGJhcnM6dGhpcy5fZ2V0Rml4ZWRUb29sYmFyc30pLHRoaXMuX2FkZFBhbmVsQ2xhc3NlcygpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdGhpcy5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9iaW5kVXBkYXRlTGF5b3V0KCksdGhpcy5fYmluZENsb3NlRXZlbnRzKCksdGhpcy5fYmluZExpbmtMaXN0ZW5lcnMoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5fY3JlYXRlTW9kYWwoKSx0aGlzLl9iaW5kU3dpcGVFdmVudHMoKX0sX2dldFBhbmVsSW5uZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZCgiLiIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcik7cmV0dXJuIDA9PT1hLmxlbmd0aCYmKGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkud3JhcEFsbCgiPGRpdiBjbGFzcz0nIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKyInIC8+IikucGFyZW50KCkpLGF9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLl9wYXJlbnRQYWdlP2IuX3BhcmVudFBhZ2UucGFyZW50KCk6Yi5lbGVtZW50LnBhcmVudCgpO2IuX21vZGFsPWEoIjxkaXYgY2xhc3M9JyIrYi5vcHRpb25zLmNsYXNzZXMubW9kYWwrIicgZGF0YS1wYW5lbGlkPSciK2IuX3BhbmVsSUQrIic+PC9kaXY+Iikub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyhjKX0sX2dldFBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9wYXJlbnRQYWdlP3RoaXMuX3BhcmVudFBhZ2U6YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtyZXR1cm4gYn0sX2dldFdyYXBwZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9wYWdlKCkuZmluZCgiLiIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIpO3JldHVybiAwPT09YS5sZW5ndGgmJihhPXRoaXMuX3BhZ2UoKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoLnVpLWhlYWRlci1maXhlZCksIC51aS1jb250ZW50Om5vdCgudWktcG9wdXApLCAudWktZm9vdGVyOm5vdCgudWktZm9vdGVyLWZpeGVkKSIpLndyYXBBbGwoIjxkaXYgY2xhc3M9JyIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrIic+PC9kaXY+IikucGFyZW50KCkpLGF9LF9nZXRGaXhlZFRvb2xiYXJzOmZ1bmN0aW9uKCl7dmFyIGI9YSgiYm9keSIpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIiksYz10aGlzLl9wYWdlKCkuZmluZCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLGQ9Yi5hZGQoYykuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZUZpeGVkVG9vbGJhcik7cmV0dXJuIGR9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQrIiAiKyJ1aS1ib2R5LSIrKHRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiKTtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksYX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuX2Nsb3NlTGluay5vbigiY2xpY2sucGFuZWwiLGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYS5jbG9zZSgpLCExfSksYS5lbGVtZW50Lm9uKCJjbGljay5wYW5lbCIsImE6anFtRGF0YShhamF4PSdmYWxzZScpIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1jLl9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksZT1kPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2V8fCFjLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZSYmKGMuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoZCkpLGIuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkpOmMuX2ZpeFBhbmVsKCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50Lm9uKCJ1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5fcG9zaXRpb25QYW5lbCgpfSl9LF9iaW5kTGlua0xpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuX29uKCJib2R5Iix7ImNsaWNrIGEiOiJfaGFuZGxlQ2xpY2sifSl9LF9oYW5kbGVDbGljazpmdW5jdGlvbihiKXtpZihiLmN1cnJlbnRUYXJnZXQuaHJlZi5zcGxpdCgiIyIpWzFdPT09dGhpcy5fcGFuZWxJRCYmdGhpcy5fcGFuZWxJRCE9PWMpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1hKGIudGFyZ2V0KTtyZXR1cm4gZC5oYXNDbGFzcygidWktYnRuIikmJihkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSx0aGlzLnRvZ2dsZSgpLCExfX0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9tb2RhbD9hLmVsZW1lbnQuYWRkKGEuX21vZGFsKTphLmVsZW1lbnQ7YS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1hLm9wdGlvbnMucG9zaXRpb24/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZG9jdW1lbnQub24oInBhbmVsYmVmb3Jlb3BlbiIsZnVuY3Rpb24oYil7YS5fb3BlbiYmYi50YXJnZXQhPT1hLmVsZW1lbnRbMF0mJmEuY2xvc2UoKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24oYil7Mjc9PT1iLmtleUNvZGUmJmEuX29wZW4mJmEuY2xvc2UoKX0pLGEuX3BhcmVudFBhZ2U/dGhpcy5kb2N1bWVudC5vbigicGFnZWhpZGUiLCI6anFtRGF0YShyb2xlPSdwYWdlJykiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KTp0aGlzLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pfSxfb3BlbjohMSxfcGFnZUNvbnRlbnRPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5kb2N1bWVudC5vZmYoInBhbmVsY2xvc2UiKSxjLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiLCJvcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZG9jdW1lbnQub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksZC50aGVtZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrZC50aGVtZSksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhbmVsT3BlbiksYy5fcG9zaXRpb25QYW5lbCgpLGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KSwib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIoKS5hZGRDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLGMuX21vZGFsT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLm1vZGFsKSsiICIrZC5jbGFzc2VzLm1vZGFsT3BlbixjLl9tb2RhbCYmYy5fbW9kYWwuYWRkQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3NlcykuaGVpZ2h0KE1hdGgubWF4KGMuX21vZGFsLmhlaWdodCgpLGMuZG9jdW1lbnQuaGVpZ2h0KCkpKX0sZj1mdW5jdGlvbigpe2MuZG9jdW1lbnQub2ZmKGMuX3RyYW5zaXRpb25FbmRFdmVudHMsZiksIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlcigpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxjLl9iaW5kRml4TGlzdGVuZXIoKSxjLl90cmlnZ2VyKCJvcGVuIil9O2MuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSwib3BlbiI9PT1jLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiKT9jLmRvY3VtZW50Lm9uKCJwYW5lbGNsb3NlIixmdW5jdGlvbigpe2UoKX0pOmUoKSxjLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24oYil7aWYodGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7IWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZG9jdW1lbnQub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIoKS5yZW1vdmVDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcykpLGMuX21vZGFsJiZjLl9tb2RhbC5yZW1vdmVDbGFzcyhjLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2MuZG9jdW1lbnQub2ZmKGMuX3RyYW5zaXRpb25FbmRFdmVudHMsZiksZC50aGVtZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrZC50aGVtZSksYy5lbGVtZW50LmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCksIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLl93cmFwcGVyKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIikpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlJiYib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLGMuX2ZpeFBhbmVsKCksYy5fdW5iaW5kRml4TGlzdGVuZXIoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSxjLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSxjLl90cmlnZ2VyKCJjbG9zZSIpfTtjLl90cmlnZ2VyKCJiZWZvcmVjbG9zZSIpLGUoKSxjLl9vcGVuPSExfX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfdHJhbnNpdGlvbkVuZEV2ZW50czoid2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCB0cmFuc2l0aW9uZW5kIG1zVHJhbnNpdGlvbkVuZCIsX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMub3B0aW9ucyxkPWEoImJvZHkgPiA6bW9iaWxlLXBhbmVsIikubGVuZ3RoK2EubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZCgiOm1vYmlsZS1wYW5lbCIpLmxlbmd0aD4xOyJvdmVybGF5IiE9PWMuZGlzcGxheSYmKGI9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5hZGQoYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikpLDA9PT1iLm5vdCgiLnVpLXBhbmVsLWRpc3BsYXktb3ZlcmxheSIpLm5vdCh0aGlzLmVsZW1lbnQpLmxlbmd0aCYmdGhpcy5fd3JhcHBlcigpLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZjLmFuaW1hdGUmJnRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLnRoZW1lJiZ0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitjLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrYy50aGVtZSkpKSxkfHwodGhpcy5kb2N1bWVudC5vZmYoInBhbmVsb3BlbiBwYW5lbGNsb3NlIiksdGhpcy5fb3BlbiYmKHRoaXMuZG9jdW1lbnQub2ZmKHRoaXMuX3RyYW5zaXRpb25FbmRFdmVudHMpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpKSksdGhpcy5fb3BlbiYmdGhpcy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYy5jbGFzc2VzLnBhbmVsT3BlbixjLmNsYXNzZXMuYW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLm9mZih0aGlzLl90cmFuc2l0aW9uRW5kRXZlbnRzKSx0aGlzLl9jbG9zZUxpbmsub2ZmKCJjbGljay5wYW5lbCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRhYmxlIix7b3B0aW9uczp7Y2xhc3Nlczp7dGFibGU6InVpLXRhYmxlIn0sZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksYS5leHRlbmQodGhpcyx7aGVhZGVyczpiLGFsbEhlYWRlcnM6Yn0pLHRoaXMuX3JlZnJlc2goITApfSxfc2V0SGVhZGVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCgidHI6ZXEoMCkiKS5jaGlsZHJlbigpLHRoaXMuYWxsSGVhZGVycz10aGlzLmhlYWRlcnMuYWRkKGEuY2hpbGRyZW4oKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCl9LHJlYnVpbGQ6YS5ub29wLF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuX3NldEhlYWRlcnMoKSxjLmVhY2goZnVuY3Rpb24oKXt2YXIgZD0wO2EodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsZj1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxnPSI6bnRoLWNoaWxkKCIrKGQrMSkrIikiO2lmKHRoaXMuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrImNvbHN0YXJ0IixkKzEpLGYpZm9yKGU9MDtmLTE+ZTtlKyspZCsrLGcrPSIsIDpudGgtY2hpbGQoIisoZCsxKSsiKSI7YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsYi5maW5kKCJ0ciIpLm5vdChjLmVxKDApKS5ub3QodGhpcykuY2hpbGRyZW4oZykpLGQrK30pfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLGEubW9iaWxlLnRhYmxlLHtvcHRpb25zOnttb2RlOiJjb2x1bW50b2dnbGUiLGNvbHVtbkJ0blRoZW1lOm51bGwsY29sdW1uUG9wdXBUaGVtZTpudWxsLGNvbHVtbkJ0blRleHQ6IkNvbHVtbnMuLi4iLGNsYXNzZXM6YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cG9wdXA6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cCIsY29sdW1uQnRuOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtYnRuIixwcmlvcml0eVByZWZpeDoidWktdGFibGUtcHJpb3JpdHktIixjb2x1bW5Ub2dnbGVUYWJsZToidWktdGFibGUtY29sdW1udG9nZ2xlIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwiY29sdW1udG9nZ2xlIj09PXRoaXMub3B0aW9ucy5tb2RlJiYoYS5leHRlbmQodGhpcyx7X21lbnU6bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZD8odGhpcy5fbWVudT1hKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQodGhpcy5faWQoKSsiLXBvcHVwIikpLmNoaWxkcmVuKCkuZmlyc3QoKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsITApLHRoaXMuX2JpbmRUb2dnbGVzKHRoaXMuX21lbnUpKToodGhpcy5fbWVudT10aGlzLl9lbmhhbmNlQ29sVG9nZ2xlKCksdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSksdGhpcy5fc2V0dXBFdmVudHMoKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJpZCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJfc2V0VG9nZ2xlU3RhdGUifSl9LF9iaW5kVG9nZ2xlczpmdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoImlucHV0Iik7dGhpcy5fb24oYix7Y2hhbmdlOiJfbWVudUlucHV0Q2hhbmdlIn0pfSxfYWRkVG9nZ2xlczpmdW5jdGlvbihiLGMpe3ZhciBkLGU9MCxmPXRoaXMub3B0aW9ucyxnPWIuY29udHJvbGdyb3VwKCJjb250YWluZXIiKTtjP2Q9Yi5maW5kKCJpbnB1dCIpOmcuZW1wdHkoKSx0aGlzLmhlYWRlcnMubm90KCJ0ZCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGg9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsInByaW9yaXR5IiksaT1iLmFkZChiLmpxbURhdGEoImNlbGxzIikpO2gmJihpLmFkZENsYXNzKGYuY2xhc3Nlcy5wcmlvcml0eVByZWZpeCtoKSwoYz9kLmVxKGUrKyk6YSgiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPiIrKGIuY2hpbGRyZW4oImFiYnIiKS5maXJzdCgpLmF0dHIoInRpdGxlIil8fGIudGV4dCgpKSsiPC9sYWJlbD4iKS5hcHBlbmRUbyhnKS5jaGlsZHJlbigwKS5jaGVja2JveHJhZGlvKHt0aGVtZTpmLmNvbHVtblBvcHVwVGhlbWV9KSkuanFtRGF0YSgiY2VsbHMiLGkpKX0pLGN8fChiLmNvbnRyb2xncm91cCgicmVmcmVzaCIpLHRoaXMuX2JpbmRUb2dnbGVzKGIpKX0sX21lbnVJbnB1dENoYW5nZTpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWNbMF0uY2hlY2tlZDtjLmpxbURhdGEoImNlbGxzIikudG9nZ2xlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIiwhZCkudG9nZ2xlQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIsZCksY1swXS5nZXRBdHRyaWJ1dGUoImxvY2tlZCIpPyhjLnJlbW92ZUF0dHIoImxvY2tlZCIpLHRoaXMuX3VubG9ja0NlbGxzKGMuanFtRGF0YSgiY2VsbHMiKSkpOmMuYXR0cigibG9ja2VkIiwhMCl9LF91bmxvY2tDZWxsczpmdW5jdGlvbihhKXthLnJlbW92ZUNsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiB1aS10YWJsZS1jZWxsLXZpc2libGUiKX0sX2VuaGFuY2VDb2xUb2dnbGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPXRoaXMuZWxlbWVudCxnPXRoaXMub3B0aW9ucyxoPWEubW9iaWxlLm5zLGk9dGhpcy5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGI9dGhpcy5faWQoKSsiLXBvcHVwIixjPWEoIjxhIGhyZWY9JyMiK2IrIicgIisiY2xhc3M9JyIrZy5jbGFzc2VzLmNvbHVtbkJ0bisiIHVpLWJ0biAiKyJ1aS1idG4tIisoZy5jb2x1bW5CdG5UaGVtZXx8ImEiKSsiIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLW1pbmknICIrImRhdGEtIitoKyJyZWw9J3BvcHVwJz4iK2cuY29sdW1uQnRuVGV4dCsiPC9hPiIpLGQ9YSgiPGRpdiBjbGFzcz0nIitnLmNsYXNzZXMucG9wdXArIicgaWQ9JyIrYisiJz48L2Rpdj4iKSxlPWEoIjxmaWVsZHNldD48L2ZpZWxkc2V0PiIpLmNvbnRyb2xncm91cCgpLHRoaXMuX2FkZFRvZ2dsZXMoZSwhMSksZS5hcHBlbmRUbyhkKSxpLmFwcGVuZENoaWxkKGRbMF0pLGkuYXBwZW5kQ2hpbGQoY1swXSksZi5iZWZvcmUoaSksZC5wb3B1cCgpLGV9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwiY29sdW1udG9nZ2xlIiE9PXRoaXMub3B0aW9ucy5tb2RlfHwodGhpcy5fdW5sb2NrQ2VsbHModGhpcy5hbGxIZWFkZXJzKSx0aGlzLl9hZGRUb2dnbGVzKHRoaXMuX21lbnUsYSksdGhpcy5fc2V0VG9nZ2xlU3RhdGUoKSl9LF9zZXRUb2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuX21lbnUuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTt0aGlzLmNoZWNrZWQ9InRhYmxlLWNlbGwiPT09Yi5qcW1EYXRhKCJjZWxscyIpLmVxKDApLmNzcygiZGlzcGxheSIpLGIuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6InJlZmxvdyIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiYodGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnJlZmxvd1RhYmxlKSx0aGlzLl91cGRhdGVSZWZsb3coKSkpfSxyZWJ1aWxkOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwicmVmbG93Ij09PXRoaXMub3B0aW9ucy5tb2RlJiZ0aGlzLl9yZWZyZXNoKCExKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYXx8InJlZmxvdyIhPT10aGlzLm9wdGlvbnMubW9kZXx8dGhpcy5fdXBkYXRlUmVmbG93KCl9LF91cGRhdGVSZWZsb3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO2EoYi5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBkLGUsZj1hKHRoaXMpLmpxbURhdGEoImNlbGxzIiksZz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiY29sc3RhcnQiKSxoPWYubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGk9YSh0aGlzKS50ZXh0KCk7IiIhPT1pJiYoaD8oZD1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKSxlPSIiLGQmJihlPSJ0ZDpudGgtY2hpbGQoIitkKyJuICsgIitnKyIpIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGEsYixjKXthLm5vdCgiOmhhcyhiLiIrYisiKSIpLnByZXBlbmQoIjxiIGNsYXNzPSciK2IrIic+IitjKyI8L2I+Iil9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9ZnVuY3Rpb24oYixjKXtyZXR1cm4tMT09PSgiIisoYS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsImZpbHRlcnRleHQiKXx8YSh0aGlzKS50ZXh0KCkpKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYyl9O2Eud2lkZ2V0KCJtb2JpbGUuZmlsdGVyYWJsZSIse2luaXRTZWxlY3RvcjoiOmpxbURhdGEoZmlsdGVyPSd0cnVlJykiLG9wdGlvbnM6e2ZpbHRlclJldmVhbDohMSxmaWx0ZXJDYWxsYmFjazpkLGVuaGFuY2VkOiExLGlucHV0Om51bGwsY2hpbGRyZW46Ij4gbGksID4gb3B0aW9uLCA+IG9wdGdyb3VwIG9wdGlvbiwgPiB0Ym9keSB0ciwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWJ0biwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWNoZWNrYm94LCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktcmFkaW8ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19zZWFyY2g6bnVsbCxfdGltZXI6MH0pLHRoaXMuX3NldElucHV0KGIuaW5wdXQpLGIuZW5oYW5jZWR8fHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8IiIpLnRvTG93ZXJDYXNlKCkpfSxfb25LZXlVcDpmdW5jdGlvbigpe3ZhciBjLGQsZT10aGlzLl9zZWFyY2g7aWYoZSl7aWYoYz1lLnZhbCgpLnRvTG93ZXJDYXNlKCksZD1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSwibGFzdHZhbCIpKyIiLGQmJmQ9PT1jKXJldHVybjt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl90aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsImJlZm9yZWZpbHRlciIse2lucHV0OmV9KSxlWzBdLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJsYXN0dmFsIixjKSx0aGlzLl9maWx0ZXJJdGVtcyhjKSx0aGlzLl90aW1lcj0wfSwyNTApfX0sX2dldEZpbHRlcmFibGVJdGVtczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucy5jaGlsZHJlbixkPWM/YS5pc0Z1bmN0aW9uKGMpP2MoKTpjLm5vZGVOYW1lP2EoYyk6Yy5qcXVlcnk/Yzp0aGlzLmVsZW1lbnQuZmluZChjKTp7bGVuZ3RoOjB9O3JldHVybiAwPT09ZC5sZW5ndGgmJihkPWIuY2hpbGRyZW4oKSksZH0sX2ZpbHRlckl0ZW1zOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGg9W10saT1bXSxqPXRoaXMub3B0aW9ucyxrPXRoaXMuX2dldEZpbHRlcmFibGVJdGVtcygpO2lmKG51bGwhPWIpZm9yKGU9ai5maWx0ZXJDYWxsYmFja3x8ZCxmPWsubGVuZ3RoLGM9MDtmPmM7YysrKWc9ZS5jYWxsKGtbY10sYyxiKT9pOmgsZy5wdXNoKGtbY10pOzA9PT1pLmxlbmd0aD9rW2ouZmlsdGVyUmV2ZWFsPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oInVpLXNjcmVlbi1oaWRkZW4iKTooYShpKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLGEoaCkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSksdGhpcy5fcmVmcmVzaENoaWxkV2lkZ2V0KCl9LF9yZWZyZXNoQ2hpbGRXaWRnZXQ6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdO2ZvcihjPWQubGVuZ3RoLTE7Yz4tMTtjLS0pYj1kW2NdLGEubW9iaWxlW2JdJiYoYj10aGlzLmVsZW1lbnQuZGF0YSgibW9iaWxlLSIrYiksYiYmYS5pc0Z1bmN0aW9uKGIucmVmcmVzaCkmJmIucmVmcmVzaCgpKX0sX3NldElucHV0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuX3NlYXJjaDt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSxkJiYodGhpcy5fb2ZmKGQsImtleXVwIGNoYW5nZSBpbnB1dCIpLGQ9bnVsbCksYyYmKGQ9Yy5qcXVlcnk/YzpjLm5vZGVOYW1lP2EoYyk6dGhpcy5kb2N1bWVudC5maW5kKGMpLHRoaXMuX29uKGQse2tleXVwOiJfb25LZXlVcCIsY2hhbmdlOiJfb25LZXlVcCIsaW5wdXQ6Il9vbktleVVwIn0pKSx0aGlzLl9zZWFyY2g9ZH0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9IShhLmZpbHRlclJldmVhbD09PWMmJmEuZmlsdGVyQ2FsbGJhY2s9PT1jJiZhLmNoaWxkcmVuPT09Yyk7dGhpcy5fc3VwZXIoYSksYS5pbnB1dCE9PWMmJih0aGlzLl9zZXRJbnB1dChhLmlucHV0KSxiPSEwKSxiJiZ0aGlzLnJlZnJlc2goKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTthLmVuaGFuY2VkP2IudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGEuZmlsdGVyUmV2ZWFsKTpiLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl9maWx0ZXJJdGVtcygodGhpcy5fc2VhcmNoJiZ0aGlzLl9zZWFyY2gudmFsKCl8fCIiKS50b0xvd2VyQ2FzZSgpKX19KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiLmNhbGwodGhpcyxjKSxhLl9zeW5jVGV4dElucHV0T3B0aW9ucyhjKX19LGQ9LyhefFxzKXVpLWxpLWRpdmlkZXIoXHN8JCkvLGU9YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjazthLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXRoaXMuY2xhc3NOYW1lLm1hdGNoKGQpJiZlLmNhbGwodGhpcyxhLGIpfSxhLndpZGdldCgibW9iaWxlLmZpbHRlcmFibGUiLGEubW9iaWxlLmZpbHRlcmFibGUse29wdGlvbnM6e2ZpbHRlclBsYWNlaG9sZGVyOiJGaWx0ZXIgaXRlbXMuLi4iLGZpbHRlclRoZW1lOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcy5lbGVtZW50LGU9WyJjb2xsYXBzaWJsZXNldCIsInNlbGVjdG1lbnUiLCJjb250cm9sZ3JvdXAiLCJsaXN0dmlldyJdLGY9e307Zm9yKHRoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X3dpZGdldDpudWxsfSksYj1lLmxlbmd0aC0xO2I+LTE7Yi0tKWlmKGM9ZVtiXSxhLm1vYmlsZVtjXSl7aWYodGhpcy5fc2V0V2lkZ2V0KGQuZGF0YSgibW9iaWxlLSIrYykpKWJyZWFrO2ZbYysiY3JlYXRlIl09Il9oYW5kbGVDcmVhdGUifXRoaXMuX3dpZGdldHx8dGhpcy5fb24oZCxmKX0sX2hhbmRsZUNyZWF0ZTpmdW5jdGlvbihhKXt0aGlzLl9zZXRXaWRnZXQodGhpcy5lbGVtZW50LmRhdGEoIm1vYmlsZS0iK2EudHlwZS5zdWJzdHJpbmcoMCxhLnR5cGUubGVuZ3RoLTYpKSl9LF9zZXRXaWRnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuX3dpZGdldCYmYSYmKHRoaXMuX3dpZGdldD1hLHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucz1jKHRoaXMsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zKSksdGhpcy5fd2lkZ2V0JiYodGhpcy5fc3luY1RleHRJbnB1dE9wdGlvbnModGhpcy5fd2lkZ2V0Lm9wdGlvbnMpLCJsaXN0dmlldyI9PT10aGlzLl93aWRnZXQud2lkZ2V0TmFtZSYmKHRoaXMuX3dpZGdldC5vcHRpb25zLmhpZGVkaXZpZGVycz0hMCx0aGlzLl93aWRnZXQuZWxlbWVudC5saXN0dmlldygicmVmcmVzaCIpKSksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoInVpLWZpbHRlcmFibGUtIit0aGlzLnV1aWQrIi1pbnRlcm5hbCIpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9ITAsZT17fTtpZighYil7aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpKXJldHVybjtkPSExLGI9YSgiPGlucHV0IGRhdGEtIithLm1vYmlsZS5ucysidHlwZT0nc2VhcmNoJyAiKyJwbGFjZWhvbGRlcj0nIitjLmZpbHRlclBsYWNlaG9sZGVyKyInPjwvaW5wdXQ+IikuanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIiwhMCksYSgiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT4iKS5hcHBlbmQoYikuc3VibWl0KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmJsdXIoKX0pLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpLGEubW9iaWxlLnRleHRpbnB1dCYmKG51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZSYmKGUudGhlbWU9Yy5maWx0ZXJUaGVtZSksYi50ZXh0aW5wdXQoZSkpfXRoaXMuX3N1cGVyKGIpLHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmZCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIixjLmZpbHRlclBsYWNlaG9sZGVyKSxjLmZpbHRlclRoZW1lIT09YiYmdGhpcy5fc2VhcmNoJiZhLm1vYmlsZS50ZXh0aW5wdXQmJnRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsInRoZW1lIixjLmZpbHRlclRoZW1lKSxkfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF9zeW5jVGV4dElucHV0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZCxlPXt9O2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmYS5tb2JpbGUudGV4dGlucHV0KXtmb3IoZCBpbiBhLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLm9wdGlvbnMpY1tkXSE9PWImJihlW2RdPSJ0aGVtZSI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsZSl9fX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4rK2V9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5oYXNoLmxlbmd0aD4xJiZkZWNvZGVVUklDb21wb25lbnQoYS5ocmVmLnJlcGxhY2UoZiwiIikpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYucmVwbGFjZShmLCIiKSl9dmFyIGU9MCxmPS8jLiokLzthLndpZGdldCgidWkudGFicyIse3ZlcnNpb246ImZhZGYyYjMxMmEwNTA0MDQzNjQ1MWM2NGJiZmFmNDgxNGJjNjJjNTYiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKCIudWktdGFicy1uYXYgPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihiKXthKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGMuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxhLmlzQXJyYXkoYy5kaXNhYmxlZCkmJihjLmRpc2FibGVkPWEudW5pcXVlKGMuZGlzYWJsZWQuY29uY2F0KGEubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRhYnMuaW5kZXgoYSl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoYy5hY3RpdmUpOmEoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoYy5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5hY3RpdmUsYz10aGlzLm9wdGlvbnMuY29sbGFwc2libGUsZD1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PWImJihkJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihjLGUpe3JldHVybiBhKGUpLmF0dHIoImFyaWEtY29udHJvbHMiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLChudWxsPT09Ynx8LTE9PT1iKSYmKGI9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksYiE9PSExJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGIpKSwtMT09PWImJihiPWM/ITE6MCkpLCFjJiZiPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPTApLGJ9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6YSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIiksZD10aGlzLnRhYnMuaW5kZXgoYyksZT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdihiKSl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBhLnVpLmtleUNvZGUuRE9XTjpkKys7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuVVA6Y2FzZSBhLnVpLmtleUNvZGUuTEVGVDplPSExLGQtLTticmVhaztjYXNlIGEudWkua2V5Q29kZS5FTkQ6ZD10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuSE9NRTpkPTA7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkKSx2b2lkIDA7Y2FzZSBhLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShkPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpkKSx2b2lkIDA7ZGVmYXVsdDpyZXR1cm59Yi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGQ9dGhpcy5fZm9jdXNOZXh0VGFiKGQsZSksYi5jdHJsS2V5fHwoYy5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSx0aGlzLnRhYnMuZXEoZCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsInRydWUiKSx0aGlzLmFjdGl2YXRpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLm9wdGlvbigiYWN0aXZlIixkKX0sdGhpcy5kZWxheSkpfX0sX3BhbmVsS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLl9oYW5kbGVQYWdlTmF2KGIpfHxiLmN0cmxLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5VUCYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmFjdGl2ZS5mb2N1cygpKX0sX2hhbmRsZVBhZ2VOYXY6ZnVuY3Rpb24oYil7cmV0dXJuIGIuYWx0S2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuUEFHRV9VUD8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUtMSwhMSkpLCEwKTpiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfRE9XTj8odGhpcy5fYWN0aXZhdGUodGhpcy5fZm9jdXNOZXh0VGFiKHRoaXMub3B0aW9ucy5hY3RpdmUrMSwhMCkpLCEwKTp2b2lkIDB9LF9maW5kTmV4dFRhYjpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoKXtyZXR1cm4gYj5lJiYoYj0wKSwwPmImJihiPWUpLGJ9Zm9yKHZhciBlPXRoaXMudGFicy5sZW5ndGgtMTstMSE9PWEuaW5BcnJheShkKCksdGhpcy5vcHRpb25zLmRpc2FibGVkKTspYj1jP2IrMTpiLTE7cmV0dXJuIGJ9LF9mb2N1c05leHRUYWI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT10aGlzLl9maW5kTmV4dFRhYihhLGIpLHRoaXMudGFicy5lcShhKS5mb2N1cygpLGF9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4iYWN0aXZlIj09PWE/KHRoaXMuX2FjdGl2YXRlKGIpLHZvaWQgMCk6ImRpc2FibGVkIj09PWE/KHRoaXMuX3NldHVwRGlzYWJsZWQoYiksdm9pZCAwKToodGhpcy5fc3VwZXIoYSxiKSwiY29sbGFwc2libGUiPT09YSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYiksYnx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLCJoZWlnaHRTdHlsZSI9PT1hJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKGIpLHZvaWQgMCl9LF90YWJJZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fCJ1aS10YWJzLSIrYygpfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnJlcGxhY2UoL1shIiQlJicoKSorLC5cLzo7PD0+P0BcW1xdXF5ge3x9fl0vZywiXFwkJiIpOiIifSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy50YWJsaXN0LmNoaWxkcmVuKCI6aGFzKGFbaHJlZl0pIik7Yi5kaXNhYmxlZD1hLm1hcChjLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24oYSl7cmV0dXJuIGMuaW5kZXgoYSl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGIuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhYS5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT1iLmRpc2FibGVkLmxlbmd0aD8oYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLGIuYWN0aXZlLTEpLCExKSk6Yi5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKTooYi5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9YSgpKSx0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0dXBEaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpLHRoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpLHRoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksdGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIikuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJJbmRleDowfSksdGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpLnNob3coKS5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pKTp0aGlzLnRhYnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsInRhYmxpc3QiKSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpLmF0dHIoe3JvbGU6InRhYiIsdGFiSW5kZXg6LTF9KSx0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBhKCJhIix0aGlzKVswXX0pLmFkZENsYXNzKCJ1aS10YWJzLWFuY2hvciIpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscz1hKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZixnLGgsaT1hKGUpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxqPWEoZSkuY2xvc2VzdCgibGkiKSxrPWouYXR0cigiYXJpYS1jb250cm9scyIpO2QoZSk/KGY9ZS5oYXNoLGc9Yi5lbGVtZW50LmZpbmQoYi5fc2FuaXRpemVTZWxlY3RvcihmKSkpOihoPWIuX3RhYklkKGopLGY9IiMiK2gsZz1iLmVsZW1lbnQuZmluZChmKSxnLmxlbmd0aHx8KGc9Yi5fY3JlYXRlUGFuZWwoaCksZy5pbnNlcnRBZnRlcihiLnBhbmVsc1tjLTFdfHxiLnRhYmxpc3QpKSxnLmF0dHIoImFyaWEtbGl2ZSIsInBvbGl0ZSIpKSxnLmxlbmd0aCYmKGIucGFuZWxzPWIucGFuZWxzLmFkZChnKSksayYmai5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiLGspLGouYXR0cih7ImFyaWEtY29udHJvbHMiOmYuc3Vic3RyaW5nKDEpLCJhcmlhLWxhYmVsbGVkYnkiOml9KSxnLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsaSl9KSx0aGlzLnBhbmVscy5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuYXR0cigicm9sZSIsInRhYnBhbmVsIil9LF9nZXRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKCJvbCx1bCIpLmVxKDApfSxfY3JlYXRlUGFuZWw6ZnVuY3Rpb24oYil7cmV0dXJuIGEoIjxkaXY+IikuYXR0cigiaWQiLGIpLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24oYil7YS5pc0FycmF5KGIpJiYoYi5sZW5ndGg/Yi5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoYj0hMCk6Yj0hMSk7Zm9yKHZhciBjLGQ9MDtjPXRoaXMudGFic1tkXTtkKyspYj09PSEwfHwtMSE9PWEuaW5BcnJheShkLGIpP2EoYykuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKTphKGMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9Yn0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBjPXtjbGljazpmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9fTtiJiZhLmVhY2goYi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Y1tiXT0iX2V2ZW50SGFuZGxlciJ9KSx0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpLHRoaXMuX29uKHRoaXMuYW5jaG9ycyxjKSx0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pLHRoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTsiZmlsbCI9PT1iPyhjPWQuaGVpZ2h0KCksYy09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuY3NzKCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1kJiYiZml4ZWQiIT09ZCYmKGMtPWIub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2MtPWEodGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsYy1hKHRoaXMpLmlubmVySGVpZ2h0KCkrYSh0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09YiYmKGM9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7Yz1NYXRoLm1heChjLGEodGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoYykpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMuYWN0aXZlLGU9YShiLmN1cnJlbnRUYXJnZXQpLGY9ZS5jbG9zZXN0KCJsaSIpLGc9ZlswXT09PWRbMF0saD1nJiZjLmNvbGxhcHNpYmxlLGk9aD9hKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaj1kLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihkKTphKCksaz17b2xkVGFiOmQsb2xkUGFuZWw6aixuZXdUYWI6aD9hKCk6ZixuZXdQYW5lbDppfTtiLnByZXZlbnREZWZhdWx0KCksZi5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8Zi5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8ZyYmIWMuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIixiLGspPT09ITF8fChjLmFjdGl2ZT1oPyExOnRoaXMudGFicy5pbmRleChmKSx0aGlzLmFjdGl2ZT1nP2EoKTpmLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGoubGVuZ3RofHxpLmxlbmd0aHx8YS5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaS5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgoZiksYiksdGhpcy5fdG9nZ2xlKGIsaykpfSxfdG9nZ2xlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2YucnVubmluZz0hMSxmLl90cmlnZ2VyKCJhY3RpdmF0ZSIsYixjKX1mdW5jdGlvbiBlKCl7Yy5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksZy5sZW5ndGgmJmYub3B0aW9ucy5zaG93P2YuX3Nob3coZyxmLm9wdGlvbnMuc2hvdyxkKTooZy5zaG93KCksZCgpKX12YXIgZj10aGlzLGc9Yy5uZXdQYW5lbCxoPWMub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwLGgubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGgsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxlKCl9KTooYy5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaC5oaWRlKCksZSgpKSxoLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLWhpZGRlbiI6InRydWUifSksYy5vbGRUYWIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksZy5sZW5ndGgmJmgubGVuZ3RoP2Mub2xkVGFiLmF0dHIoInRhYkluZGV4IiwtMSk6Zy5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEodGhpcykuYXR0cigidGFiSW5kZXgiKX0pLmF0dHIoInRhYkluZGV4IiwtMSksZy5hdHRyKHsiYXJpYS1leHBhbmRlZCI6InRydWUiLCJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLGMubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9maW5kQWN0aXZlKGIpO2RbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGQubGVuZ3RofHwoZD10aGlzLmFjdGl2ZSksYz1kLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmMsY3VycmVudFRhcmdldDpjLHByZXZlbnREZWZhdWx0OmEubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT0hMT9hKCk6dGhpcy50YWJzLmVxKGIpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhJiYoYT10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK2ErIiddIikpKSxhfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIiksdGhpcy50YWJsaXN0LnJlbW92ZUNsYXNzKCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKSx0aGlzLmFuY2hvcnMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7YS5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP2EodGhpcykucmVtb3ZlKCk6YSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIil9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2M/Yi5hdHRyKCJhcmlhLWNvbnRyb2xzIixjKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTpiLnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pLHRoaXMucGFuZWxzLnNob3coKSwiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7ZCE9PSExJiYoYz09PWI/ZD0hMTooYz10aGlzLl9nZXRJbmRleChjKSxkPWEuaXNBcnJheShkKT9hLm1hcChkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yz9hOm51bGx9KTphLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiE9PWM/YjpudWxsfSkpLHRoaXMuX3NldHVwRGlzYWJsZWQoZCkpfSxkaXNhYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihkIT09ITApe2lmKGM9PT1iKWQ9ITA7ZWxzZXtpZihjPXRoaXMuX2dldEluZGV4KGMpLC0xIT09YS5pbkFycmF5KGMsZCkpcmV0dXJuO2Q9YS5pc0FycmF5KGQpP2EubWVyZ2UoW2NdLGQpLnNvcnQoKTpbY119dGhpcy5fc2V0dXBEaXNhYmxlZChkKX19LGxvYWQ6ZnVuY3Rpb24oYixjKXtiPXRoaXMuX2dldEluZGV4KGIpO3ZhciBlPXRoaXMsZj10aGlzLnRhYnMuZXEoYiksZz1mLmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGg9dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaT17dGFiOmYscGFuZWw6aH07ZChnWzBdKXx8KHRoaXMueGhyPWEuYWpheCh0aGlzLl9hamF4U2V0dGluZ3MoZyxjLGkpKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJihmLmFkZENsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxoLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5zdWNjZXNzKGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLmh0bWwoYSksZS5fdHJpZ2dlcigibG9hZCIsYyxpKX0sMSl9KS5jb21wbGV0ZShmdW5jdGlvbihhLGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsiYWJvcnQiPT09YiYmZS5wYW5lbHMuc3RvcCghMSwhMCksZi5yZW1vdmVDbGFzcygidWktdGFicy1sb2FkaW5nIiksaC5yZW1vdmVBdHRyKCJhcmlhLWJ1c3kiKSxhPT09ZS54aHImJmRlbGV0ZSBlLnhocn0sMSl9KSkpfSxfYWpheFNldHRpbmdzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO3JldHVybnt1cmw6Yi5hdHRyKCJocmVmIiksYmVmb3JlU2VuZDpmdW5jdGlvbihiLGYpe3JldHVybiBlLl90cmlnZ2VyKCJiZWZvcmVMb2FkIixjLGEuZXh0ZW5kKHtqcVhIUjpiLGFqYXhTZXR0aW5nczpmfSxkKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuYXR0cigiYXJpYS1jb250cm9scyIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKCIjIitjKSl9fSl9KGEpLGZ1bmN0aW9uKCl7fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hLm9yaWdpbmFsRXZlbnQsaT1lLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksZj1NYXRoLmFicyhpLngpLGc9TWF0aC5hYnMoaS55KSxoPU1hdGguYWJzKGkueiksIWIub3JpZW50YXRpb24mJihmPjd8fChoPjYmJjg+Z3x8OD5oJiZnPjYpJiZmPjUpP2QuZW5hYmxlZCYmZC5kaXNhYmxlKCk6ZC5lbmFibGVkfHxkLmVuYWJsZSgpfWEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgZCxlLGYsZyxoLGksaj1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGopJiZqLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTE/KGQ9YS5tb2JpbGUuem9vbSxhLm1vYmlsZS5kb2N1bWVudC5vbigibW9iaWxlaW5pdCIsZnVuY3Rpb24oKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQmJmEubW9iaWxlLndpbmRvdy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsZC5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsYyl9KSx2b2lkIDApOihhLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITEsdm9pZCAwKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXtlLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGU9YSgiaHRtbCIpLGY9YS5tb2JpbGUud2luZG93O2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpLGEubW9iaWxlLmdyYWRlQSgpJiYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoZCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLnBhdGgsZT1hKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiksZz1iLnN0cmlwSGFzaChiLnN0cmlwUXVlcnlQYXJhbXMoYi5wYXJzZUxvY2F0aW9uKCkuaGFzaCkpLGg9Yy5nZXRFbGVtZW50QnlJZChnKTtlLmxlbmd0aHx8KGU9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKSxlLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2JbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9ZS5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKS5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZi50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksYS5tb2JpbGUubG9hZGluZygic2hvdyIpLGQoKSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGEoaCkuaXMoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpfHxhLm1vYmlsZS5wYXRoLmlzUGF0aChnKXx8Zz09PWEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpP2EuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKT8oYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5zdGFjaz1bXSxhLm1vYmlsZS5uYXZpZ2F0ZShhLm1vYmlsZS5wYXRoLmlzUGF0aChsb2NhdGlvbi5oYXNoKT9sb2NhdGlvbi5oYXNoOmxvY2F0aW9uLmhyZWYpKTpmLnRyaWdnZXIoImhhc2hjaGFuZ2UiLFshMF0pOihhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5pbml0aWFsRHN0PWcucmVwbGFjZSgiIyIsIiIpKSxhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkmJmEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5zcXVhc2goYi5wYXJzZUxvY2F0aW9uKCkuaHJlZiksYS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246Im5vbmUiLHJldmVyc2U6ITAsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKX19KSxhKGZ1bmN0aW9uKCl7YS5zdXBwb3J0LmlubGluZVNWRygpLGEubW9iaWxlLmhpZGVVcmxCYXImJmIuc2Nyb2xsVG8oMCwxKSxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD1hLnN1cHBvcnQuc2Nyb2xsVG9wJiYxIT09YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpPzE6MCxhLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCksYS5tb2JpbGUuaGlkZVVybEJhciYmZi5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCksYS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktc3RhdGUtZGlzYWJsZWQsLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKQp9KX0pKX0oYSx0aGlzKX0pOwovKgovL0Agc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuNC4wLm1pbi5tYXAKKi8=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Thu, 06 Nov 2014 19:50:53 GMT",
                    "Content-Length": "193265",
                    "Date": "Thu, 06 Nov 2014 19:50:54 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
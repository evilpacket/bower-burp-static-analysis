{
    "url": "http://localhost:9999/gignal/widget/gignal/lib/app.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.replace()</b> via the following statements:<ul><li>var href=location.href.replace(/(javascript:|#).*$/,\"\");</li><li>location.replace(href+\"#\"+fragment)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/gignal/widget/gignal/lib/app.min.js",
                "path": "/gignal/widget/gignal/lib/app.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9naWduYWwvd2lkZ2V0L2dpZ25hbC9saWIvYXBwLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTk1MzE3DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDAyOjE5OjM4IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwMjoxOTozOCBHTVQNCg0KKGZ1bmN0aW9uKCl7dmFyIHJvb3Q9dGhpcyxwcmV2aW91c1VuZGVyc2NvcmU9cm9vdC5fLGJyZWFrZXI9e30sQXJyYXlQcm90bz1BcnJheS5wcm90b3R5cGUsT2JqUHJvdG89T2JqZWN0LnByb3RvdHlwZSxGdW5jUHJvdG89RnVuY3Rpb24ucHJvdG90eXBlLHB1c2g9QXJyYXlQcm90by5wdXNoLHNsaWNlPUFycmF5UHJvdG8uc2xpY2UsY29uY2F0PUFycmF5UHJvdG8uY29uY2F0LHRvU3RyaW5nPU9ialByb3RvLnRvU3RyaW5nLGhhc093blByb3BlcnR5PU9ialByb3RvLmhhc093blByb3BlcnR5LG5hdGl2ZUZvckVhY2g9QXJyYXlQcm90by5mb3JFYWNoLG5hdGl2ZU1hcD1BcnJheVByb3RvLm1hcCxuYXRpdmVSZWR1Y2U9QXJyYXlQcm90by5yZWR1Y2UsbmF0aXZlUmVkdWNlUmlnaHQ9QXJyYXlQcm90by5yZWR1Y2VSaWdodCxuYXRpdmVGaWx0ZXI9QXJyYXlQcm90by5maWx0ZXIsbmF0aXZlRXZlcnk9QXJyYXlQcm90by5ldmVyeSxuYXRpdmVTb21lPUFycmF5UHJvdG8uc29tZSxuYXRpdmVJbmRleE9mPUFycmF5UHJvdG8uaW5kZXhPZixuYXRpdmVMYXN0SW5kZXhPZj1BcnJheVByb3RvLmxhc3RJbmRleE9mLG5hdGl2ZUlzQXJyYXk9QXJyYXkuaXNBcnJheSxuYXRpdmVLZXlzPU9iamVjdC5rZXlzLG5hdGl2ZUJpbmQ9RnVuY1Byb3RvLmJpbmQsXz1mdW5jdGlvbihvYmope3JldHVybiBvYmogaW5zdGFuY2VvZiBfP29iajp0aGlzIGluc3RhbmNlb2YgXz92b2lkKHRoaXMuX3dyYXBwZWQ9b2JqKTpuZXcgXyhvYmopfTsidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHM/KCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9XyksZXhwb3J0cy5fPV8pOnJvb3QuXz1fLF8uVkVSU0lPTj0iMS41LjIiO3ZhciBlYWNoPV8uZWFjaD1fLmZvckVhY2g9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2lmKG51bGwhPW9iailpZihuYXRpdmVGb3JFYWNoJiZvYmouZm9yRWFjaD09PW5hdGl2ZUZvckVhY2gpb2JqLmZvckVhY2goaXRlcmF0b3IsY29udGV4dCk7ZWxzZSBpZihvYmoubGVuZ3RoPT09K29iai5sZW5ndGgpe2Zvcih2YXIgaT0wLGxlbmd0aD1vYmoubGVuZ3RoO2xlbmd0aD5pO2krKylpZihpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2ldLGksb2JqKT09PWJyZWFrZXIpcmV0dXJufWVsc2UgZm9yKHZhciBrZXlzPV8ua2V5cyhvYmopLGk9MCxsZW5ndGg9a2V5cy5sZW5ndGg7bGVuZ3RoPmk7aSsrKWlmKGl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5c1tpXV0sa2V5c1tpXSxvYmopPT09YnJlYWtlcilyZXR1cm59O18ubWFwPV8uY29sbGVjdD1mdW5jdGlvbihvYmosaXRlcmF0b3IsY29udGV4dCl7dmFyIHJlc3VsdHM9W107cmV0dXJuIG51bGw9PW9iaj9yZXN1bHRzOm5hdGl2ZU1hcCYmb2JqLm1hcD09PW5hdGl2ZU1hcD9vYmoubWFwKGl0ZXJhdG9yLGNvbnRleHQpOihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtyZXN1bHRzLnB1c2goaXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpKX0pLHJlc3VsdHMpfTt2YXIgcmVkdWNlRXJyb3I9IlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiO18ucmVkdWNlPV8uZm9sZGw9Xy5pbmplY3Q9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLG1lbW8sY29udGV4dCl7dmFyIGluaXRpYWw9YXJndW1lbnRzLmxlbmd0aD4yO2lmKG51bGw9PW9iaiYmKG9iaj1bXSksbmF0aXZlUmVkdWNlJiZvYmoucmVkdWNlPT09bmF0aXZlUmVkdWNlKXJldHVybiBjb250ZXh0JiYoaXRlcmF0b3I9Xy5iaW5kKGl0ZXJhdG9yLGNvbnRleHQpKSxpbml0aWFsP29iai5yZWR1Y2UoaXRlcmF0b3IsbWVtbyk6b2JqLnJlZHVjZShpdGVyYXRvcik7aWYoZWFjaChvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7aW5pdGlhbD9tZW1vPWl0ZXJhdG9yLmNhbGwoY29udGV4dCxtZW1vLHZhbHVlLGluZGV4LGxpc3QpOihtZW1vPXZhbHVlLGluaXRpYWw9ITApfSksIWluaXRpYWwpdGhyb3cgbmV3IFR5cGVFcnJvcihyZWR1Y2VFcnJvcik7cmV0dXJuIG1lbW99LF8ucmVkdWNlUmlnaHQ9Xy5mb2xkcj1mdW5jdGlvbihvYmosaXRlcmF0b3IsbWVtbyxjb250ZXh0KXt2YXIgaW5pdGlhbD1hcmd1bWVudHMubGVuZ3RoPjI7aWYobnVsbD09b2JqJiYob2JqPVtdKSxuYXRpdmVSZWR1Y2VSaWdodCYmb2JqLnJlZHVjZVJpZ2h0PT09bmF0aXZlUmVkdWNlUmlnaHQpcmV0dXJuIGNvbnRleHQmJihpdGVyYXRvcj1fLmJpbmQoaXRlcmF0b3IsY29udGV4dCkpLGluaXRpYWw/b2JqLnJlZHVjZVJpZ2h0KGl0ZXJhdG9yLG1lbW8pOm9iai5yZWR1Y2VSaWdodChpdGVyYXRvcik7dmFyIGxlbmd0aD1vYmoubGVuZ3RoO2lmKGxlbmd0aCE9PStsZW5ndGgpe3ZhciBrZXlzPV8ua2V5cyhvYmopO2xlbmd0aD1rZXlzLmxlbmd0aH1pZihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtpbmRleD1rZXlzP2tleXNbLS1sZW5ndGhdOi0tbGVuZ3RoLGluaXRpYWw/bWVtbz1pdGVyYXRvci5jYWxsKGNvbnRleHQsbWVtbyxvYmpbaW5kZXhdLGluZGV4LGxpc3QpOihtZW1vPW9ialtpbmRleF0saW5pdGlhbD0hMCl9KSwhaW5pdGlhbCl0aHJvdyBuZXcgVHlwZUVycm9yKHJlZHVjZUVycm9yKTtyZXR1cm4gbWVtb30sXy5maW5kPV8uZGV0ZWN0PWZ1bmN0aW9uKG9iaixpdGVyYXRvcixjb250ZXh0KXt2YXIgcmVzdWx0O3JldHVybiBhbnkob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3JldHVybiBpdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCk/KHJlc3VsdD12YWx1ZSwhMCk6dm9pZCAwfSkscmVzdWx0fSxfLmZpbHRlcj1fLnNlbGVjdD1mdW5jdGlvbihvYmosaXRlcmF0b3IsY29udGV4dCl7dmFyIHJlc3VsdHM9W107cmV0dXJuIG51bGw9PW9iaj9yZXN1bHRzOm5hdGl2ZUZpbHRlciYmb2JqLmZpbHRlcj09PW5hdGl2ZUZpbHRlcj9vYmouZmlsdGVyKGl0ZXJhdG9yLGNvbnRleHQpOihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtpdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCkmJnJlc3VsdHMucHVzaCh2YWx1ZSl9KSxyZXN1bHRzKX0sXy5yZWplY3Q9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe3JldHVybiBfLmZpbHRlcihvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7cmV0dXJuIWl0ZXJhdG9yLmNhbGwoY29udGV4dCx2YWx1ZSxpbmRleCxsaXN0KX0sY29udGV4dCl9LF8uZXZlcnk9Xy5hbGw9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2l0ZXJhdG9yfHwoaXRlcmF0b3I9Xy5pZGVudGl0eSk7dmFyIHJlc3VsdD0hMDtyZXR1cm4gbnVsbD09b2JqP3Jlc3VsdDpuYXRpdmVFdmVyeSYmb2JqLmV2ZXJ5PT09bmF0aXZlRXZlcnk/b2JqLmV2ZXJ5KGl0ZXJhdG9yLGNvbnRleHQpOihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtyZXR1cm4ocmVzdWx0PXJlc3VsdCYmaXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpKT92b2lkIDA6YnJlYWtlcn0pLCEhcmVzdWx0KX07dmFyIGFueT1fLnNvbWU9Xy5hbnk9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2l0ZXJhdG9yfHwoaXRlcmF0b3I9Xy5pZGVudGl0eSk7dmFyIHJlc3VsdD0hMTtyZXR1cm4gbnVsbD09b2JqP3Jlc3VsdDpuYXRpdmVTb21lJiZvYmouc29tZT09PW5hdGl2ZVNvbWU/b2JqLnNvbWUoaXRlcmF0b3IsY29udGV4dCk6KGVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3JldHVybiByZXN1bHR8fChyZXN1bHQ9aXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpKT9icmVha2VyOnZvaWQgMH0pLCEhcmVzdWx0KX07Xy5jb250YWlucz1fLmluY2x1ZGU9ZnVuY3Rpb24ob2JqLHRhcmdldCl7cmV0dXJuIG51bGw9PW9iaj8hMTpuYXRpdmVJbmRleE9mJiZvYmouaW5kZXhPZj09PW5hdGl2ZUluZGV4T2Y/LTEhPW9iai5pbmRleE9mKHRhcmdldCk6YW55KG9iaixmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlPT09dGFyZ2V0fSl9LF8uaW52b2tlPWZ1bmN0aW9uKG9iaixtZXRob2Qpe3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGlzRnVuYz1fLmlzRnVuY3Rpb24obWV0aG9kKTtyZXR1cm4gXy5tYXAob2JqLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4oaXNGdW5jP21ldGhvZDp2YWx1ZVttZXRob2RdKS5hcHBseSh2YWx1ZSxhcmdzKX0pfSxfLnBsdWNrPWZ1bmN0aW9uKG9iaixrZXkpe3JldHVybiBfLm1hcChvYmosZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZVtrZXldfSl9LF8ud2hlcmU9ZnVuY3Rpb24ob2JqLGF0dHJzLGZpcnN0KXtyZXR1cm4gXy5pc0VtcHR5KGF0dHJzKT9maXJzdD92b2lkIDA6W106X1tmaXJzdD8iZmluZCI6ImZpbHRlciJdKG9iaixmdW5jdGlvbih2YWx1ZSl7Zm9yKHZhciBrZXkgaW4gYXR0cnMpaWYoYXR0cnNba2V5XSE9PXZhbHVlW2tleV0pcmV0dXJuITE7cmV0dXJuITB9KX0sXy5maW5kV2hlcmU9ZnVuY3Rpb24ob2JqLGF0dHJzKXtyZXR1cm4gXy53aGVyZShvYmosYXR0cnMsITApfSxfLm1heD1mdW5jdGlvbihvYmosaXRlcmF0b3IsY29udGV4dCl7aWYoIWl0ZXJhdG9yJiZfLmlzQXJyYXkob2JqKSYmb2JqWzBdPT09K29ialswXSYmb2JqLmxlbmd0aDw2NTUzNSlyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxvYmopO2lmKCFpdGVyYXRvciYmXy5pc0VtcHR5KG9iaikpcmV0dXJuLTEvMDt2YXIgcmVzdWx0PXtjb21wdXRlZDotMS8wLHZhbHVlOi0xLzB9O3JldHVybiBlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXt2YXIgY29tcHV0ZWQ9aXRlcmF0b3I/aXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpOnZhbHVlO2NvbXB1dGVkPnJlc3VsdC5jb21wdXRlZCYmKHJlc3VsdD17dmFsdWU6dmFsdWUsY29tcHV0ZWQ6Y29tcHV0ZWR9KX0pLHJlc3VsdC52YWx1ZX0sXy5taW49ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2lmKCFpdGVyYXRvciYmXy5pc0FycmF5KG9iaikmJm9ialswXT09PStvYmpbMF0mJm9iai5sZW5ndGg8NjU1MzUpcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsb2JqKTtpZighaXRlcmF0b3ImJl8uaXNFbXB0eShvYmopKXJldHVybiAxLzA7dmFyIHJlc3VsdD17Y29tcHV0ZWQ6MS8wLHZhbHVlOjEvMH07cmV0dXJuIGVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3ZhciBjb21wdXRlZD1pdGVyYXRvcj9pdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCk6dmFsdWU7Y29tcHV0ZWQ8cmVzdWx0LmNvbXB1dGVkJiYocmVzdWx0PXt2YWx1ZTp2YWx1ZSxjb21wdXRlZDpjb21wdXRlZH0pfSkscmVzdWx0LnZhbHVlfSxfLnNodWZmbGU9ZnVuY3Rpb24ob2JqKXt2YXIgcmFuZCxpbmRleD0wLHNodWZmbGVkPVtdO3JldHVybiBlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSl7cmFuZD1fLnJhbmRvbShpbmRleCsrKSxzaHVmZmxlZFtpbmRleC0xXT1zaHVmZmxlZFtyYW5kXSxzaHVmZmxlZFtyYW5kXT12YWx1ZX0pLHNodWZmbGVkfSxfLnNhbXBsZT1mdW5jdGlvbihvYmosbixndWFyZCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mnx8Z3VhcmQ/b2JqW18ucmFuZG9tKG9iai5sZW5ndGgtMSldOl8uc2h1ZmZsZShvYmopLnNsaWNlKDAsTWF0aC5tYXgoMCxuKSl9O3ZhciBsb29rdXBJdGVyYXRvcj1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSk/dmFsdWU6ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqW3ZhbHVlXX19O18uc29ydEJ5PWZ1bmN0aW9uKG9iaix2YWx1ZSxjb250ZXh0KXt2YXIgaXRlcmF0b3I9bG9va3VwSXRlcmF0b3IodmFsdWUpO3JldHVybiBfLnBsdWNrKF8ubWFwKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtyZXR1cm57dmFsdWU6dmFsdWUsaW5kZXg6aW5kZXgsY3JpdGVyaWE6aXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpfX0pLnNvcnQoZnVuY3Rpb24obGVmdCxyaWdodCl7dmFyIGE9bGVmdC5jcml0ZXJpYSxiPXJpZ2h0LmNyaXRlcmlhO2lmKGEhPT1iKXtpZihhPmJ8fHZvaWQgMD09PWEpcmV0dXJuIDE7aWYoYj5hfHx2b2lkIDA9PT1iKXJldHVybi0xfXJldHVybiBsZWZ0LmluZGV4LXJpZ2h0LmluZGV4fSksInZhbHVlIil9O3ZhciBncm91cD1mdW5jdGlvbihiZWhhdmlvcil7cmV0dXJuIGZ1bmN0aW9uKG9iaix2YWx1ZSxjb250ZXh0KXt2YXIgcmVzdWx0PXt9LGl0ZXJhdG9yPW51bGw9PXZhbHVlP18uaWRlbnRpdHk6bG9va3VwSXRlcmF0b3IodmFsdWUpO3JldHVybiBlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCl7dmFyIGtleT1pdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsb2JqKTtiZWhhdmlvcihyZXN1bHQsa2V5LHZhbHVlKX0pLHJlc3VsdH19O18uZ3JvdXBCeT1ncm91cChmdW5jdGlvbihyZXN1bHQsa2V5LHZhbHVlKXsoXy5oYXMocmVzdWx0LGtleSk/cmVzdWx0W2tleV06cmVzdWx0W2tleV09W10pLnB1c2godmFsdWUpfSksXy5pbmRleEJ5PWdyb3VwKGZ1bmN0aW9uKHJlc3VsdCxrZXksdmFsdWUpe3Jlc3VsdFtrZXldPXZhbHVlfSksXy5jb3VudEJ5PWdyb3VwKGZ1bmN0aW9uKHJlc3VsdCxrZXkpe18uaGFzKHJlc3VsdCxrZXkpP3Jlc3VsdFtrZXldKys6cmVzdWx0W2tleV09MX0pLF8uc29ydGVkSW5kZXg9ZnVuY3Rpb24oYXJyYXksb2JqLGl0ZXJhdG9yLGNvbnRleHQpe2l0ZXJhdG9yPW51bGw9PWl0ZXJhdG9yP18uaWRlbnRpdHk6bG9va3VwSXRlcmF0b3IoaXRlcmF0b3IpO2Zvcih2YXIgdmFsdWU9aXRlcmF0b3IuY2FsbChjb250ZXh0LG9iaiksbG93PTAsaGlnaD1hcnJheS5sZW5ndGg7aGlnaD5sb3c7KXt2YXIgbWlkPWxvdytoaWdoPj4+MTtpdGVyYXRvci5jYWxsKGNvbnRleHQsYXJyYXlbbWlkXSk8dmFsdWU/bG93PW1pZCsxOmhpZ2g9bWlkfXJldHVybiBsb3d9LF8udG9BcnJheT1mdW5jdGlvbihvYmope3JldHVybiBvYmo/Xy5pc0FycmF5KG9iaik/c2xpY2UuY2FsbChvYmopOm9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9fLm1hcChvYmosXy5pZGVudGl0eSk6Xy52YWx1ZXMob2JqKTpbXX0sXy5zaXplPWZ1bmN0aW9uKG9iail7cmV0dXJuIG51bGw9PW9iaj8wOm9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9vYmoubGVuZ3RoOl8ua2V5cyhvYmopLmxlbmd0aH0sXy5maXJzdD1fLmhlYWQ9Xy50YWtlPWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBudWxsPT1hcnJheT92b2lkIDA6bnVsbD09bnx8Z3VhcmQ/YXJyYXlbMF06c2xpY2UuY2FsbChhcnJheSwwLG4pfSxfLmluaXRpYWw9ZnVuY3Rpb24oYXJyYXksbixndWFyZCl7cmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksMCxhcnJheS5sZW5ndGgtKG51bGw9PW58fGd1YXJkPzE6bikpfSxfLmxhc3Q9ZnVuY3Rpb24oYXJyYXksbixndWFyZCl7cmV0dXJuIG51bGw9PWFycmF5P3ZvaWQgMDpudWxsPT1ufHxndWFyZD9hcnJheVthcnJheS5sZW5ndGgtMV06c2xpY2UuY2FsbChhcnJheSxNYXRoLm1heChhcnJheS5sZW5ndGgtbiwwKSl9LF8ucmVzdD1fLnRhaWw9Xy5kcm9wPWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBzbGljZS5jYWxsKGFycmF5LG51bGw9PW58fGd1YXJkPzE6bil9LF8uY29tcGFjdD1mdW5jdGlvbihhcnJheSl7cmV0dXJuIF8uZmlsdGVyKGFycmF5LF8uaWRlbnRpdHkpfTt2YXIgZmxhdHRlbj1mdW5jdGlvbihpbnB1dCxzaGFsbG93LG91dHB1dCl7cmV0dXJuIHNoYWxsb3cmJl8uZXZlcnkoaW5wdXQsXy5pc0FycmF5KT9jb25jYXQuYXBwbHkob3V0cHV0LGlucHV0KTooZWFjaChpbnB1dCxmdW5jdGlvbih2YWx1ZSl7Xy5pc0FycmF5KHZhbHVlKXx8Xy5pc0FyZ3VtZW50cyh2YWx1ZSk/c2hhbGxvdz9wdXNoLmFwcGx5KG91dHB1dCx2YWx1ZSk6ZmxhdHRlbih2YWx1ZSxzaGFsbG93LG91dHB1dCk6b3V0cHV0LnB1c2godmFsdWUpfSksb3V0cHV0KX07Xy5mbGF0dGVuPWZ1bmN0aW9uKGFycmF5LHNoYWxsb3cpe3JldHVybiBmbGF0dGVuKGFycmF5LHNoYWxsb3csW10pfSxfLndpdGhvdXQ9ZnVuY3Rpb24oYXJyYXkpe3JldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfSxfLnVuaXE9Xy51bmlxdWU9ZnVuY3Rpb24oYXJyYXksaXNTb3J0ZWQsaXRlcmF0b3IsY29udGV4dCl7Xy5pc0Z1bmN0aW9uKGlzU29ydGVkKSYmKGNvbnRleHQ9aXRlcmF0b3IsaXRlcmF0b3I9aXNTb3J0ZWQsaXNTb3J0ZWQ9ITEpO3ZhciBpbml0aWFsPWl0ZXJhdG9yP18ubWFwKGFycmF5LGl0ZXJhdG9yLGNvbnRleHQpOmFycmF5LHJlc3VsdHM9W10sc2Vlbj1bXTtyZXR1cm4gZWFjaChpbml0aWFsLGZ1bmN0aW9uKHZhbHVlLGluZGV4KXsoaXNTb3J0ZWQ/aW5kZXgmJnNlZW5bc2Vlbi5sZW5ndGgtMV09PT12YWx1ZTpfLmNvbnRhaW5zKHNlZW4sdmFsdWUpKXx8KHNlZW4ucHVzaCh2YWx1ZSkscmVzdWx0cy5wdXNoKGFycmF5W2luZGV4XSkpfSkscmVzdWx0c30sXy51bmlvbj1mdW5jdGlvbigpe3JldHVybiBfLnVuaXEoXy5mbGF0dGVuKGFyZ3VtZW50cywhMCkpfSxfLmludGVyc2VjdGlvbj1mdW5jdGlvbihhcnJheSl7dmFyIHJlc3Q9c2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIF8uZmlsdGVyKF8udW5pcShhcnJheSksZnVuY3Rpb24oaXRlbSl7cmV0dXJuIF8uZXZlcnkocmVzdCxmdW5jdGlvbihvdGhlcil7cmV0dXJuIF8uaW5kZXhPZihvdGhlcixpdGVtKT49MH0pfSl9LF8uZGlmZmVyZW5jZT1mdW5jdGlvbihhcnJheSl7dmFyIHJlc3Q9Y29uY2F0LmFwcGx5KEFycmF5UHJvdG8sc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO3JldHVybiBfLmZpbHRlcihhcnJheSxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIV8uY29udGFpbnMocmVzdCx2YWx1ZSl9KX0sXy56aXA9ZnVuY3Rpb24oKXtmb3IodmFyIGxlbmd0aD1fLm1heChfLnBsdWNrKGFyZ3VtZW50cywibGVuZ3RoIikuY29uY2F0KDApKSxyZXN1bHRzPW5ldyBBcnJheShsZW5ndGgpLGk9MDtsZW5ndGg+aTtpKyspcmVzdWx0c1tpXT1fLnBsdWNrKGFyZ3VtZW50cywiIitpKTtyZXR1cm4gcmVzdWx0c30sXy5vYmplY3Q9ZnVuY3Rpb24obGlzdCx2YWx1ZXMpe2lmKG51bGw9PWxpc3QpcmV0dXJue307Zm9yKHZhciByZXN1bHQ9e30saT0wLGxlbmd0aD1saXN0Lmxlbmd0aDtsZW5ndGg+aTtpKyspdmFsdWVzP3Jlc3VsdFtsaXN0W2ldXT12YWx1ZXNbaV06cmVzdWx0W2xpc3RbaV1bMF1dPWxpc3RbaV1bMV07cmV0dXJuIHJlc3VsdH0sXy5pbmRleE9mPWZ1bmN0aW9uKGFycmF5LGl0ZW0saXNTb3J0ZWQpe2lmKG51bGw9PWFycmF5KXJldHVybi0xO3ZhciBpPTAsbGVuZ3RoPWFycmF5Lmxlbmd0aDtpZihpc1NvcnRlZCl7aWYoIm51bWJlciIhPXR5cGVvZiBpc1NvcnRlZClyZXR1cm4gaT1fLnNvcnRlZEluZGV4KGFycmF5LGl0ZW0pLGFycmF5W2ldPT09aXRlbT9pOi0xO2k9MD5pc1NvcnRlZD9NYXRoLm1heCgwLGxlbmd0aCtpc1NvcnRlZCk6aXNTb3J0ZWR9aWYobmF0aXZlSW5kZXhPZiYmYXJyYXkuaW5kZXhPZj09PW5hdGl2ZUluZGV4T2YpcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSxpc1NvcnRlZCk7Zm9yKDtsZW5ndGg+aTtpKyspaWYoYXJyYXlbaV09PT1pdGVtKXJldHVybiBpO3JldHVybi0xfSxfLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGFycmF5LGl0ZW0sZnJvbSl7aWYobnVsbD09YXJyYXkpcmV0dXJuLTE7dmFyIGhhc0luZGV4PW51bGwhPWZyb207aWYobmF0aXZlTGFzdEluZGV4T2YmJmFycmF5Lmxhc3RJbmRleE9mPT09bmF0aXZlTGFzdEluZGV4T2YpcmV0dXJuIGhhc0luZGV4P2FycmF5Lmxhc3RJbmRleE9mKGl0ZW0sZnJvbSk6YXJyYXkubGFzdEluZGV4T2YoaXRlbSk7Zm9yKHZhciBpPWhhc0luZGV4P2Zyb206YXJyYXkubGVuZ3RoO2ktLTspaWYoYXJyYXlbaV09PT1pdGVtKXJldHVybiBpO3JldHVybi0xfSxfLnJhbmdlPWZ1bmN0aW9uKHN0YXJ0LHN0b3Asc3RlcCl7YXJndW1lbnRzLmxlbmd0aDw9MSYmKHN0b3A9c3RhcnR8fDAsc3RhcnQ9MCksc3RlcD1hcmd1bWVudHNbMl18fDE7Zm9yKHZhciBsZW5ndGg9TWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wLXN0YXJ0KS9zdGVwKSwwKSxpZHg9MCxyYW5nZT1uZXcgQXJyYXkobGVuZ3RoKTtsZW5ndGg+aWR4OylyYW5nZVtpZHgrK109c3RhcnQsc3RhcnQrPXN0ZXA7cmV0dXJuIHJhbmdlfTt2YXIgY3Rvcj1mdW5jdGlvbigpe307Xy5iaW5kPWZ1bmN0aW9uKGZ1bmMsY29udGV4dCl7dmFyIGFyZ3MsYm91bmQ7aWYobmF0aXZlQmluZCYmZnVuYy5iaW5kPT09bmF0aXZlQmluZClyZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtpZighXy5pc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYm91bmQ9ZnVuY3Rpb24oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkpcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtjdG9yLnByb3RvdHlwZT1mdW5jLnByb3RvdHlwZTt2YXIgc2VsZj1uZXcgY3RvcjtjdG9yLnByb3RvdHlwZT1udWxsO3ZhciByZXN1bHQ9ZnVuYy5hcHBseShzZWxmLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QocmVzdWx0KT09PXJlc3VsdD9yZXN1bHQ6c2VsZn19LF8ucGFydGlhbD1mdW5jdGlvbihmdW5jKXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZnVuYy5hcHBseSh0aGlzLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX0sXy5iaW5kQWxsPWZ1bmN0aW9uKG9iail7dmFyIGZ1bmNzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2lmKDA9PT1mdW5jcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzIik7cmV0dXJuIGVhY2goZnVuY3MsZnVuY3Rpb24oZil7b2JqW2ZdPV8uYmluZChvYmpbZl0sb2JqKX0pLG9ian0sXy5tZW1vaXplPWZ1bmN0aW9uKGZ1bmMsaGFzaGVyKXt2YXIgbWVtbz17fTtyZXR1cm4gaGFzaGVyfHwoaGFzaGVyPV8uaWRlbnRpdHkpLGZ1bmN0aW9uKCl7dmFyIGtleT1oYXNoZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBfLmhhcyhtZW1vLGtleSk/bWVtb1trZXldOm1lbW9ba2V5XT1mdW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LF8uZGVsYXk9ZnVuY3Rpb24oZnVuYyx3YWl0KXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBmdW5jLmFwcGx5KG51bGwsYXJncyl9LHdhaXQpfSxfLmRlZmVyPWZ1bmN0aW9uKGZ1bmMpe3JldHVybiBfLmRlbGF5LmFwcGx5KF8sW2Z1bmMsMV0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSl9LF8udGhyb3R0bGU9ZnVuY3Rpb24oZnVuYyx3YWl0LG9wdGlvbnMpe3ZhciBjb250ZXh0LGFyZ3MscmVzdWx0LHRpbWVvdXQ9bnVsbCxwcmV2aW91cz0wO29wdGlvbnN8fChvcHRpb25zPXt9KTt2YXIgbGF0ZXI9ZnVuY3Rpb24oKXtwcmV2aW91cz1vcHRpb25zLmxlYWRpbmc9PT0hMT8wOm5ldyBEYXRlLHRpbWVvdXQ9bnVsbCxyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbm93PW5ldyBEYXRlO3ByZXZpb3VzfHxvcHRpb25zLmxlYWRpbmchPT0hMXx8KHByZXZpb3VzPW5vdyk7dmFyIHJlbWFpbmluZz13YWl0LShub3ctcHJldmlvdXMpO3JldHVybiBjb250ZXh0PXRoaXMsYXJncz1hcmd1bWVudHMsMD49cmVtYWluaW5nPyhjbGVhclRpbWVvdXQodGltZW91dCksdGltZW91dD1udWxsLHByZXZpb3VzPW5vdyxyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpKTp0aW1lb3V0fHxvcHRpb25zLnRyYWlsaW5nPT09ITF8fCh0aW1lb3V0PXNldFRpbWVvdXQobGF0ZXIscmVtYWluaW5nKSkscmVzdWx0fX0sXy5kZWJvdW5jZT1mdW5jdGlvbihmdW5jLHdhaXQsaW1tZWRpYXRlKXt2YXIgdGltZW91dCxhcmdzLGNvbnRleHQsdGltZXN0YW1wLHJlc3VsdDtyZXR1cm4gZnVuY3Rpb24oKXtjb250ZXh0PXRoaXMsYXJncz1hcmd1bWVudHMsdGltZXN0YW1wPW5ldyBEYXRlO3ZhciBsYXRlcj1mdW5jdGlvbigpe3ZhciBsYXN0PW5ldyBEYXRlLXRpbWVzdGFtcDt3YWl0Pmxhc3Q/dGltZW91dD1zZXRUaW1lb3V0KGxhdGVyLHdhaXQtbGFzdCk6KHRpbWVvdXQ9bnVsbCxpbW1lZGlhdGV8fChyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpKSl9LGNhbGxOb3c9aW1tZWRpYXRlJiYhdGltZW91dDtyZXR1cm4gdGltZW91dHx8KHRpbWVvdXQ9c2V0VGltZW91dChsYXRlcix3YWl0KSksY2FsbE5vdyYmKHJlc3VsdD1mdW5jLmFwcGx5KGNvbnRleHQsYXJncykpLHJlc3VsdH19LF8ub25jZT1mdW5jdGlvbihmdW5jKXt2YXIgbWVtbyxyYW49ITE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHJhbj9tZW1vOihyYW49ITAsbWVtbz1mdW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxmdW5jPW51bGwsbWVtbyl9fSxfLndyYXA9ZnVuY3Rpb24oZnVuYyx3cmFwcGVyKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYXJncz1bZnVuY107cmV0dXJuIHB1c2guYXBwbHkoYXJncyxhcmd1bWVudHMpLHdyYXBwZXIuYXBwbHkodGhpcyxhcmdzKX19LF8uY29tcG9zZT1mdW5jdGlvbigpe3ZhciBmdW5jcz1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBhcmdzPWFyZ3VtZW50cyxpPWZ1bmNzLmxlbmd0aC0xO2k+PTA7aS0tKWFyZ3M9W2Z1bmNzW2ldLmFwcGx5KHRoaXMsYXJncyldO3JldHVybiBhcmdzWzBdfX0sXy5hZnRlcj1mdW5jdGlvbih0aW1lcyxmdW5jKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLXRpbWVzPDE/ZnVuYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0sXy5rZXlzPW5hdGl2ZUtleXN8fGZ1bmN0aW9uKG9iail7aWYob2JqIT09T2JqZWN0KG9iaikpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBvYmplY3QiKTt2YXIga2V5cz1bXTtmb3IodmFyIGtleSBpbiBvYmopXy5oYXMob2JqLGtleSkmJmtleXMucHVzaChrZXkpO3JldHVybiBrZXlzfSxfLnZhbHVlcz1mdW5jdGlvbihvYmope2Zvcih2YXIga2V5cz1fLmtleXMob2JqKSxsZW5ndGg9a2V5cy5sZW5ndGgsdmFsdWVzPW5ldyBBcnJheShsZW5ndGgpLGk9MDtsZW5ndGg+aTtpKyspdmFsdWVzW2ldPW9ialtrZXlzW2ldXTtyZXR1cm4gdmFsdWVzfSxfLnBhaXJzPWZ1bmN0aW9uKG9iail7Zm9yKHZhciBrZXlzPV8ua2V5cyhvYmopLGxlbmd0aD1rZXlzLmxlbmd0aCxwYWlycz1uZXcgQXJyYXkobGVuZ3RoKSxpPTA7bGVuZ3RoPmk7aSsrKXBhaXJzW2ldPVtrZXlzW2ldLG9ialtrZXlzW2ldXV07cmV0dXJuIHBhaXJzfSxfLmludmVydD1mdW5jdGlvbihvYmope2Zvcih2YXIgcmVzdWx0PXt9LGtleXM9Xy5rZXlzKG9iaiksaT0wLGxlbmd0aD1rZXlzLmxlbmd0aDtsZW5ndGg+aTtpKyspcmVzdWx0W29ialtrZXlzW2ldXV09a2V5c1tpXTtyZXR1cm4gcmVzdWx0fSxfLmZ1bmN0aW9ucz1fLm1ldGhvZHM9ZnVuY3Rpb24ob2JqKXt2YXIgbmFtZXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKV8uaXNGdW5jdGlvbihvYmpba2V5XSkmJm5hbWVzLnB1c2goa2V5KTtyZXR1cm4gbmFtZXMuc29ydCgpfSxfLmV4dGVuZD1mdW5jdGlvbihvYmope3JldHVybiBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKHNvdXJjZSl7aWYoc291cmNlKWZvcih2YXIgcHJvcCBpbiBzb3VyY2Upb2JqW3Byb3BdPXNvdXJjZVtwcm9wXX0pLG9ian0sXy5waWNrPWZ1bmN0aW9uKG9iail7dmFyIGNvcHk9e30sa2V5cz1jb25jYXQuYXBwbHkoQXJyYXlQcm90byxzbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7cmV0dXJuIGVhY2goa2V5cyxmdW5jdGlvbihrZXkpe2tleSBpbiBvYmomJihjb3B5W2tleV09b2JqW2tleV0pfSksY29weX0sXy5vbWl0PWZ1bmN0aW9uKG9iail7dmFyIGNvcHk9e30sa2V5cz1jb25jYXQuYXBwbHkoQXJyYXlQcm90byxzbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7Zm9yKHZhciBrZXkgaW4gb2JqKV8uY29udGFpbnMoa2V5cyxrZXkpfHwoY29weVtrZXldPW9ialtrZXldKTtyZXR1cm4gY29weX0sXy5kZWZhdWx0cz1mdW5jdGlvbihvYmope3JldHVybiBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKHNvdXJjZSl7aWYoc291cmNlKWZvcih2YXIgcHJvcCBpbiBzb3VyY2Updm9pZCAwPT09b2JqW3Byb3BdJiYob2JqW3Byb3BdPXNvdXJjZVtwcm9wXSl9KSxvYmp9LF8uY2xvbmU9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gXy5pc09iamVjdChvYmopP18uaXNBcnJheShvYmopP29iai5zbGljZSgpOl8uZXh0ZW5kKHt9LG9iaik6b2JqfSxfLnRhcD1mdW5jdGlvbihvYmosaW50ZXJjZXB0b3Ipe3JldHVybiBpbnRlcmNlcHRvcihvYmopLG9ian07dmFyIGVxPWZ1bmN0aW9uKGEsYixhU3RhY2ssYlN0YWNrKXtpZihhPT09YilyZXR1cm4gMCE9PWF8fDEvYT09MS9iO2lmKG51bGw9PWF8fG51bGw9PWIpcmV0dXJuIGE9PT1iO2EgaW5zdGFuY2VvZiBfJiYoYT1hLl93cmFwcGVkKSxiIGluc3RhbmNlb2YgXyYmKGI9Yi5fd3JhcHBlZCk7dmFyIGNsYXNzTmFtZT10b1N0cmluZy5jYWxsKGEpO2lmKGNsYXNzTmFtZSE9dG9TdHJpbmcuY2FsbChiKSlyZXR1cm4hMTtzd2l0Y2goY2xhc3NOYW1lKXtjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuIGE9PVN0cmluZyhiKTtjYXNlIltvYmplY3QgTnVtYmVyXSI6cmV0dXJuIGEhPSthP2IhPStiOjA9PWE/MS9hPT0xL2I6YT09K2I7Y2FzZSJbb2JqZWN0IERhdGVdIjpjYXNlIltvYmplY3QgQm9vbGVhbl0iOnJldHVybithPT0rYjtjYXNlIltvYmplY3QgUmVnRXhwXSI6cmV0dXJuIGEuc291cmNlPT1iLnNvdXJjZSYmYS5nbG9iYWw9PWIuZ2xvYmFsJiZhLm11bHRpbGluZT09Yi5tdWx0aWxpbmUmJmEuaWdub3JlQ2FzZT09Yi5pZ25vcmVDYXNlfWlmKCJvYmplY3QiIT10eXBlb2YgYXx8Im9iamVjdCIhPXR5cGVvZiBiKXJldHVybiExO2Zvcih2YXIgbGVuZ3RoPWFTdGFjay5sZW5ndGg7bGVuZ3RoLS07KWlmKGFTdGFja1tsZW5ndGhdPT1hKXJldHVybiBiU3RhY2tbbGVuZ3RoXT09Yjt2YXIgYUN0b3I9YS5jb25zdHJ1Y3RvcixiQ3Rvcj1iLmNvbnN0cnVjdG9yO2lmKGFDdG9yIT09YkN0b3ImJiEoXy5pc0Z1bmN0aW9uKGFDdG9yKSYmYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciYmXy5pc0Z1bmN0aW9uKGJDdG9yKSYmYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcikpcmV0dXJuITE7YVN0YWNrLnB1c2goYSksYlN0YWNrLnB1c2goYik7dmFyIHNpemU9MCxyZXN1bHQ9ITA7aWYoIltvYmplY3QgQXJyYXldIj09Y2xhc3NOYW1lKXtpZihzaXplPWEubGVuZ3RoLHJlc3VsdD1zaXplPT1iLmxlbmd0aClmb3IoO3NpemUtLSYmKHJlc3VsdD1lcShhW3NpemVdLGJbc2l6ZV0sYVN0YWNrLGJTdGFjaykpOyk7fWVsc2V7Zm9yKHZhciBrZXkgaW4gYSlpZihfLmhhcyhhLGtleSkmJihzaXplKyssIShyZXN1bHQ9Xy5oYXMoYixrZXkpJiZlcShhW2tleV0sYltrZXldLGFTdGFjayxiU3RhY2spKSkpYnJlYWs7aWYocmVzdWx0KXtmb3Ioa2V5IGluIGIpaWYoXy5oYXMoYixrZXkpJiYhc2l6ZS0tKWJyZWFrO3Jlc3VsdD0hc2l6ZX19cmV0dXJuIGFTdGFjay5wb3AoKSxiU3RhY2sucG9wKCkscmVzdWx0fTtfLmlzRXF1YWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZXEoYSxiLFtdLFtdKX0sXy5pc0VtcHR5PWZ1bmN0aW9uKG9iail7aWYobnVsbD09b2JqKXJldHVybiEwO2lmKF8uaXNBcnJheShvYmopfHxfLmlzU3RyaW5nKG9iaikpcmV0dXJuIDA9PT1vYmoubGVuZ3RoO2Zvcih2YXIga2V5IGluIG9iailpZihfLmhhcyhvYmosa2V5KSlyZXR1cm4hMTtyZXR1cm4hMH0sXy5pc0VsZW1lbnQ9ZnVuY3Rpb24ob2JqKXtyZXR1cm4hKCFvYmp8fDEhPT1vYmoubm9kZVR5cGUpfSxfLmlzQXJyYXk9bmF0aXZlSXNBcnJheXx8ZnVuY3Rpb24ob2JqKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT10b1N0cmluZy5jYWxsKG9iail9LF8uaXNPYmplY3Q9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqPT09T2JqZWN0KG9iail9LGVhY2goWyJBcmd1bWVudHMiLCJGdW5jdGlvbiIsIlN0cmluZyIsIk51bWJlciIsIkRhdGUiLCJSZWdFeHAiXSxmdW5jdGlvbihuYW1lKXtfWyJpcyIrbmFtZV09ZnVuY3Rpb24ob2JqKXtyZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopPT0iW29iamVjdCAiK25hbWUrIl0ifX0pLF8uaXNBcmd1bWVudHMoYXJndW1lbnRzKXx8KF8uaXNBcmd1bWVudHM9ZnVuY3Rpb24ob2JqKXtyZXR1cm4hKCFvYmp8fCFfLmhhcyhvYmosImNhbGxlZSIpKX0pLCJmdW5jdGlvbiIhPXR5cGVvZi8uLyYmKF8uaXNGdW5jdGlvbj1mdW5jdGlvbihvYmope3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBvYmp9KSxfLmlzRmluaXRlPWZ1bmN0aW9uKG9iail7cmV0dXJuIGlzRmluaXRlKG9iaikmJiFpc05hTihwYXJzZUZsb2F0KG9iaikpfSxfLmlzTmFOPWZ1bmN0aW9uKG9iail7cmV0dXJuIF8uaXNOdW1iZXIob2JqKSYmb2JqIT0rb2JqfSxfLmlzQm9vbGVhbj1mdW5jdGlvbihvYmope3JldHVybiBvYmo9PT0hMHx8b2JqPT09ITF8fCJbb2JqZWN0IEJvb2xlYW5dIj09dG9TdHJpbmcuY2FsbChvYmopfSxfLmlzTnVsbD1mdW5jdGlvbihvYmope3JldHVybiBudWxsPT09b2JqfSxfLmlzVW5kZWZpbmVkPWZ1bmN0aW9uKG9iail7cmV0dXJuIHZvaWQgMD09PW9ian0sXy5oYXM9ZnVuY3Rpb24ob2JqLGtleSl7cmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSl9LF8ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiByb290Ll89cHJldmlvdXNVbmRlcnNjb3JlLHRoaXN9LF8uaWRlbnRpdHk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX0sXy50aW1lcz1mdW5jdGlvbihuLGl0ZXJhdG9yLGNvbnRleHQpe2Zvcih2YXIgYWNjdW09QXJyYXkoTWF0aC5tYXgoMCxuKSksaT0wO24+aTtpKyspYWNjdW1baV09aXRlcmF0b3IuY2FsbChjb250ZXh0LGkpO3JldHVybiBhY2N1bX0sXy5yYW5kb209ZnVuY3Rpb24obWluLG1heCl7cmV0dXJuIG51bGw9PW1heCYmKG1heD1taW4sbWluPTApLG1pbitNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG1heC1taW4rMSkpfTt2YXIgZW50aXR5TWFwPXtlc2NhcGU6eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImI3gyNzsifX07ZW50aXR5TWFwLnVuZXNjYXBlPV8uaW52ZXJ0KGVudGl0eU1hcC5lc2NhcGUpO3ZhciBlbnRpdHlSZWdleGVzPXtlc2NhcGU6bmV3IFJlZ0V4cCgiWyIrXy5rZXlzKGVudGl0eU1hcC5lc2NhcGUpLmpvaW4oIiIpKyJdIiwiZyIpLHVuZXNjYXBlOm5ldyBSZWdFeHAoIigiK18ua2V5cyhlbnRpdHlNYXAudW5lc2NhcGUpLmpvaW4oInwiKSsiKSIsImciKX07Xy5lYWNoKFsiZXNjYXBlIiwidW5lc2NhcGUiXSxmdW5jdGlvbihtZXRob2Qpe19bbWV0aG9kXT1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBudWxsPT1zdHJpbmc/IiI6KCIiK3N0cmluZykucmVwbGFjZShlbnRpdHlSZWdleGVzW21ldGhvZF0sZnVuY3Rpb24obWF0Y2gpe3JldHVybiBlbnRpdHlNYXBbbWV0aG9kXVttYXRjaF19KX19KSxfLnJlc3VsdD1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe2lmKG51bGw9PW9iamVjdClyZXR1cm4gdm9pZCAwO3ZhciB2YWx1ZT1vYmplY3RbcHJvcGVydHldO3JldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpP3ZhbHVlLmNhbGwob2JqZWN0KTp2YWx1ZX0sXy5taXhpbj1mdW5jdGlvbihvYmope2VhY2goXy5mdW5jdGlvbnMob2JqKSxmdW5jdGlvbihuYW1lKXt2YXIgZnVuYz1fW25hbWVdPW9ialtuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3ZhciBhcmdzPVt0aGlzLl93cmFwcGVkXTtyZXR1cm4gcHVzaC5hcHBseShhcmdzLGFyZ3VtZW50cykscmVzdWx0LmNhbGwodGhpcyxmdW5jLmFwcGx5KF8sYXJncykpfX0pfTt2YXIgaWRDb3VudGVyPTA7Xy51bmlxdWVJZD1mdW5jdGlvbihwcmVmaXgpe3ZhciBpZD0rK2lkQ291bnRlcisiIjtyZXR1cm4gcHJlZml4P3ByZWZpeCtpZDppZH0sXy50ZW1wbGF0ZVNldHRpbmdzPXtldmFsdWF0ZTovPCUoW1xzXFNdKz8pJT4vZyxpbnRlcnBvbGF0ZTovPCU9KFtcc1xTXSs/KSU+L2csZXNjYXBlOi88JS0oW1xzXFNdKz8pJT4vZ307dmFyIG5vTWF0Y2g9LyguKV4vLGVzY2FwZXM9eyInIjoiJyIsIlxcIjoiXFwiLCJcciI6InIiLCJcbiI6Im4iLCIJIjoidCIsIlx1MjAyOCI6InUyMDI4IiwiXHUyMDI5IjoidTIwMjkifSxlc2NhcGVyPS9cXHwnfFxyfFxufFx0fFx1MjAyOHxcdTIwMjkvZztfLnRlbXBsYXRlPWZ1bmN0aW9uKHRleHQsZGF0YSxzZXR0aW5ncyl7dmFyIHJlbmRlcjtzZXR0aW5ncz1fLmRlZmF1bHRzKHt9LHNldHRpbmdzLF8udGVtcGxhdGVTZXR0aW5ncyk7dmFyIG1hdGNoZXI9bmV3IFJlZ0V4cChbKHNldHRpbmdzLmVzY2FwZXx8bm9NYXRjaCkuc291cmNlLChzZXR0aW5ncy5pbnRlcnBvbGF0ZXx8bm9NYXRjaCkuc291cmNlLChzZXR0aW5ncy5ldmFsdWF0ZXx8bm9NYXRjaCkuc291cmNlXS5qb2luKCJ8IikrInwkIiwiZyIpLGluZGV4PTAsc291cmNlPSJfX3ArPSciO3RleHQucmVwbGFjZShtYXRjaGVyLGZ1bmN0aW9uKG1hdGNoLGVzY2FwZSxpbnRlcnBvbGF0ZSxldmFsdWF0ZSxvZmZzZXQpe3JldHVybiBzb3VyY2UrPXRleHQuc2xpY2UoaW5kZXgsb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsZnVuY3Rpb24obWF0Y2gpe3JldHVybiJcXCIrZXNjYXBlc1ttYXRjaF19KSxlc2NhcGUmJihzb3VyY2UrPSInK1xuKChfX3Q9KCIrZXNjYXBlKyIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcbiciKSxpbnRlcnBvbGF0ZSYmKHNvdXJjZSs9IicrXG4oKF9fdD0oIitpbnRlcnBvbGF0ZSsiKSk9PW51bGw/Jyc6X190KStcbiciKSxldmFsdWF0ZSYmKHNvdXJjZSs9Iic7XG4iK2V2YWx1YXRlKyJcbl9fcCs9JyIpLGluZGV4PW9mZnNldCttYXRjaC5sZW5ndGgsbWF0Y2h9KSxzb3VyY2UrPSInO1xuIixzZXR0aW5ncy52YXJpYWJsZXx8KHNvdXJjZT0id2l0aChvYmp8fHt9KXtcbiIrc291cmNlKyJ9XG4iKSxzb3VyY2U9InZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xuIitzb3VyY2UrInJldHVybiBfX3A7XG4iO3RyeXtyZW5kZXI9bmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlfHwib2JqIiwiXyIsc291cmNlKX1jYXRjaChlKXt0aHJvdyBlLnNvdXJjZT1zb3VyY2UsZX1pZihkYXRhKXJldHVybiByZW5kZXIoZGF0YSxfKTt2YXIgdGVtcGxhdGU9ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsZGF0YSxfKX07cmV0dXJuIHRlbXBsYXRlLnNvdXJjZT0iZnVuY3Rpb24oIisoc2V0dGluZ3MudmFyaWFibGV8fCJvYmoiKSsiKXtcbiIrc291cmNlKyJ9Iix0ZW1wbGF0ZX0sXy5jaGFpbj1mdW5jdGlvbihvYmope3JldHVybiBfKG9iaikuY2hhaW4oKX07dmFyIHJlc3VsdD1mdW5jdGlvbihvYmope3JldHVybiB0aGlzLl9jaGFpbj9fKG9iaikuY2hhaW4oKTpvYmp9O18ubWl4aW4oXyksZWFjaChbInBvcCIsInB1c2giLCJyZXZlcnNlIiwic2hpZnQiLCJzb3J0Iiwic3BsaWNlIiwidW5zaGlmdCJdLGZ1bmN0aW9uKG5hbWUpe3ZhciBtZXRob2Q9QXJyYXlQcm90b1tuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3ZhciBvYmo9dGhpcy5fd3JhcHBlZDtyZXR1cm4gbWV0aG9kLmFwcGx5KG9iaixhcmd1bWVudHMpLCJzaGlmdCIhPW5hbWUmJiJzcGxpY2UiIT1uYW1lfHwwIT09b2JqLmxlbmd0aHx8ZGVsZXRlIG9ialswXSxyZXN1bHQuY2FsbCh0aGlzLG9iail9fSksZWFjaChbImNvbmNhdCIsImpvaW4iLCJzbGljZSJdLGZ1bmN0aW9uKG5hbWUpe3ZhciBtZXRob2Q9QXJyYXlQcm90b1tuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3JldHVybiByZXN1bHQuY2FsbCh0aGlzLG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLGFyZ3VtZW50cykpfX0pLF8uZXh0ZW5kKF8ucHJvdG90eXBlLHtjaGFpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGFpbj0hMCx0aGlzfSx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfX0pfSkuY2FsbCh0aGlzKSxmdW5jdGlvbihyb290LGZhY3Rvcnkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFsidW5kZXJzY29yZSIsImpxdWVyeSIsImV4cG9ydHMiXSxmdW5jdGlvbihfLCQsZXhwb3J0cyl7cm9vdC5CYWNrYm9uZT1mYWN0b3J5KHJvb3QsZXhwb3J0cyxfLCQpfSk7ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHMpe3ZhciBfPXJlcXVpcmUoInVuZGVyc2NvcmUiKTtmYWN0b3J5KHJvb3QsZXhwb3J0cyxfKX1lbHNlIHJvb3QuQmFja2JvbmU9ZmFjdG9yeShyb290LHt9LHJvb3QuXyxyb290LmpRdWVyeXx8cm9vdC5aZXB0b3x8cm9vdC5lbmRlcnx8cm9vdC4kKX0odGhpcyxmdW5jdGlvbihyb290LEJhY2tib25lLF8sJCl7e3ZhciBwcmV2aW91c0JhY2tib25lPXJvb3QuQmFja2JvbmUsYXJyYXk9W10sc2xpY2U9KGFycmF5LnB1c2gsYXJyYXkuc2xpY2UpO2FycmF5LnNwbGljZX1CYWNrYm9uZS5WRVJTSU9OPSIxLjEuMiIsQmFja2JvbmUuJD0kLEJhY2tib25lLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcm9vdC5CYWNrYm9uZT1wcmV2aW91c0JhY2tib25lLHRoaXN9LEJhY2tib25lLmVtdWxhdGVIVFRQPSExLEJhY2tib25lLmVtdWxhdGVKU09OPSExO3ZhciBFdmVudHM9QmFja2JvbmUuRXZlbnRzPXtvbjpmdW5jdGlvbihuYW1lLGNhbGxiYWNrLGNvbnRleHQpe2lmKCFldmVudHNBcGkodGhpcywib24iLG5hbWUsW2NhbGxiYWNrLGNvbnRleHRdKXx8IWNhbGxiYWNrKXJldHVybiB0aGlzO3RoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSk7dmFyIGV2ZW50cz10aGlzLl9ldmVudHNbbmFtZV18fCh0aGlzLl9ldmVudHNbbmFtZV09W10pO3JldHVybiBldmVudHMucHVzaCh7Y2FsbGJhY2s6Y2FsbGJhY2ssY29udGV4dDpjb250ZXh0LGN0eDpjb250ZXh0fHx0aGlzfSksdGhpc30sb25jZTpmdW5jdGlvbihuYW1lLGNhbGxiYWNrLGNvbnRleHQpe2lmKCFldmVudHNBcGkodGhpcywib25jZSIsbmFtZSxbY2FsbGJhY2ssY29udGV4dF0pfHwhY2FsbGJhY2spcmV0dXJuIHRoaXM7dmFyIHNlbGY9dGhpcyxvbmNlPV8ub25jZShmdW5jdGlvbigpe3NlbGYub2ZmKG5hbWUsb25jZSksY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7cmV0dXJuIG9uY2UuX2NhbGxiYWNrPWNhbGxiYWNrLHRoaXMub24obmFtZSxvbmNlLGNvbnRleHQpfSxvZmY6ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxjb250ZXh0KXt2YXIgcmV0YWluLGV2LGV2ZW50cyxuYW1lcyxpLGwsaixrO2lmKCF0aGlzLl9ldmVudHN8fCFldmVudHNBcGkodGhpcywib2ZmIixuYW1lLFtjYWxsYmFjayxjb250ZXh0XSkpcmV0dXJuIHRoaXM7aWYoIW5hbWUmJiFjYWxsYmFjayYmIWNvbnRleHQpcmV0dXJuIHRoaXMuX2V2ZW50cz12b2lkIDAsdGhpcztmb3IobmFtZXM9bmFtZT9bbmFtZV06Xy5rZXlzKHRoaXMuX2V2ZW50cyksaT0wLGw9bmFtZXMubGVuZ3RoO2w+aTtpKyspaWYobmFtZT1uYW1lc1tpXSxldmVudHM9dGhpcy5fZXZlbnRzW25hbWVdKXtpZih0aGlzLl9ldmVudHNbbmFtZV09cmV0YWluPVtdLGNhbGxiYWNrfHxjb250ZXh0KWZvcihqPTAsaz1ldmVudHMubGVuZ3RoO2s+ajtqKyspZXY9ZXZlbnRzW2pdLChjYWxsYmFjayYmY2FsbGJhY2shPT1ldi5jYWxsYmFjayYmY2FsbGJhY2shPT1ldi5jYWxsYmFjay5fY2FsbGJhY2t8fGNvbnRleHQmJmNvbnRleHQhPT1ldi5jb250ZXh0KSYmcmV0YWluLnB1c2goZXYpO3JldGFpbi5sZW5ndGh8fGRlbGV0ZSB0aGlzLl9ldmVudHNbbmFtZV19cmV0dXJuIHRoaXN9LHRyaWdnZXI6ZnVuY3Rpb24obmFtZSl7aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpczt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZighZXZlbnRzQXBpKHRoaXMsInRyaWdnZXIiLG5hbWUsYXJncykpcmV0dXJuIHRoaXM7dmFyIGV2ZW50cz10aGlzLl9ldmVudHNbbmFtZV0sYWxsRXZlbnRzPXRoaXMuX2V2ZW50cy5hbGw7cmV0dXJuIGV2ZW50cyYmdHJpZ2dlckV2ZW50cyhldmVudHMsYXJncyksYWxsRXZlbnRzJiZ0cmlnZ2VyRXZlbnRzKGFsbEV2ZW50cyxhcmd1bWVudHMpLHRoaXN9LHN0b3BMaXN0ZW5pbmc6ZnVuY3Rpb24ob2JqLG5hbWUsY2FsbGJhY2spe3ZhciBsaXN0ZW5pbmdUbz10aGlzLl9saXN0ZW5pbmdUbztpZighbGlzdGVuaW5nVG8pcmV0dXJuIHRoaXM7dmFyIHJlbW92ZT0hbmFtZSYmIWNhbGxiYWNrO2NhbGxiYWNrfHwib2JqZWN0IiE9dHlwZW9mIG5hbWV8fChjYWxsYmFjaz10aGlzKSxvYmomJigobGlzdGVuaW5nVG89e30pW29iai5fbGlzdGVuSWRdPW9iaik7Zm9yKHZhciBpZCBpbiBsaXN0ZW5pbmdUbylvYmo9bGlzdGVuaW5nVG9baWRdLG9iai5vZmYobmFtZSxjYWxsYmFjayx0aGlzKSwocmVtb3ZlfHxfLmlzRW1wdHkob2JqLl9ldmVudHMpKSYmZGVsZXRlIHRoaXMuX2xpc3RlbmluZ1RvW2lkXTtyZXR1cm4gdGhpc319LGV2ZW50U3BsaXR0ZXI9L1xzKy8sZXZlbnRzQXBpPWZ1bmN0aW9uKG9iaixhY3Rpb24sbmFtZSxyZXN0KXtpZighbmFtZSlyZXR1cm4hMDtpZigib2JqZWN0Ij09dHlwZW9mIG5hbWUpe2Zvcih2YXIga2V5IGluIG5hbWUpb2JqW2FjdGlvbl0uYXBwbHkob2JqLFtrZXksbmFtZVtrZXldXS5jb25jYXQocmVzdCkpO3JldHVybiExfWlmKGV2ZW50U3BsaXR0ZXIudGVzdChuYW1lKSl7Zm9yKHZhciBuYW1lcz1uYW1lLnNwbGl0KGV2ZW50U3BsaXR0ZXIpLGk9MCxsPW5hbWVzLmxlbmd0aDtsPmk7aSsrKW9ialthY3Rpb25dLmFwcGx5KG9iaixbbmFtZXNbaV1dLmNvbmNhdChyZXN0KSk7cmV0dXJuITF9cmV0dXJuITB9LHRyaWdnZXJFdmVudHM9ZnVuY3Rpb24oZXZlbnRzLGFyZ3Mpe3ZhciBldixpPS0xLGw9ZXZlbnRzLmxlbmd0aCxhMT1hcmdzWzBdLGEyPWFyZ3NbMV0sYTM9YXJnc1syXTtzd2l0Y2goYXJncy5sZW5ndGgpe2Nhc2UgMDpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCk7cmV0dXJuO2Nhc2UgMTpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCxhMSk7cmV0dXJuO2Nhc2UgMjpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCxhMSxhMik7cmV0dXJuO2Nhc2UgMzpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCxhMSxhMixhMyk7cmV0dXJuO2RlZmF1bHQ6Zm9yKDsrK2k8bDspKGV2PWV2ZW50c1tpXSkuY2FsbGJhY2suYXBwbHkoZXYuY3R4LGFyZ3MpO3JldHVybn19LGxpc3Rlbk1ldGhvZHM9e2xpc3RlblRvOiJvbiIsbGlzdGVuVG9PbmNlOiJvbmNlIn07Xy5lYWNoKGxpc3Rlbk1ldGhvZHMsZnVuY3Rpb24oaW1wbGVtZW50YXRpb24sbWV0aG9kKXtFdmVudHNbbWV0aG9kXT1mdW5jdGlvbihvYmosbmFtZSxjYWxsYmFjayl7dmFyIGxpc3RlbmluZ1RvPXRoaXMuX2xpc3RlbmluZ1RvfHwodGhpcy5fbGlzdGVuaW5nVG89e30pLGlkPW9iai5fbGlzdGVuSWR8fChvYmouX2xpc3RlbklkPV8udW5pcXVlSWQoImwiKSk7cmV0dXJuIGxpc3RlbmluZ1RvW2lkXT1vYmosY2FsbGJhY2t8fCJvYmplY3QiIT10eXBlb2YgbmFtZXx8KGNhbGxiYWNrPXRoaXMpLG9ialtpbXBsZW1lbnRhdGlvbl0obmFtZSxjYWxsYmFjayx0aGlzKSx0aGlzfX0pLEV2ZW50cy5iaW5kPUV2ZW50cy5vbixFdmVudHMudW5iaW5kPUV2ZW50cy5vZmYsXy5leHRlbmQoQmFja2JvbmUsRXZlbnRzKTt2YXIgTW9kZWw9QmFja2JvbmUuTW9kZWw9ZnVuY3Rpb24oYXR0cmlidXRlcyxvcHRpb25zKXt2YXIgYXR0cnM9YXR0cmlidXRlc3x8e307b3B0aW9uc3x8KG9wdGlvbnM9e30pLHRoaXMuY2lkPV8udW5pcXVlSWQoImMiKSx0aGlzLmF0dHJpYnV0ZXM9e30sb3B0aW9ucy5jb2xsZWN0aW9uJiYodGhpcy5jb2xsZWN0aW9uPW9wdGlvbnMuY29sbGVjdGlvbiksb3B0aW9ucy5wYXJzZSYmKGF0dHJzPXRoaXMucGFyc2UoYXR0cnMsb3B0aW9ucyl8fHt9KSxhdHRycz1fLmRlZmF1bHRzKHt9LGF0dHJzLF8ucmVzdWx0KHRoaXMsImRlZmF1bHRzIikpLHRoaXMuc2V0KGF0dHJzLG9wdGlvbnMpLHRoaXMuY2hhbmdlZD17fSx0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtfLmV4dGVuZChNb2RlbC5wcm90b3R5cGUsRXZlbnRzLHtjaGFuZ2VkOm51bGwsdmFsaWRhdGlvbkVycm9yOm51bGwsaWRBdHRyaWJ1dGU6ImlkIixpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpfSxzeW5jOmZ1bmN0aW9uKCl7cmV0dXJuIEJhY2tib25lLnN5bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnZXQ6ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thdHRyXX0sZXNjYXBlOmZ1bmN0aW9uKGF0dHIpe3JldHVybiBfLmVzY2FwZSh0aGlzLmdldChhdHRyKSl9LGhhczpmdW5jdGlvbihhdHRyKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXQoYXR0cil9LHNldDpmdW5jdGlvbihrZXksdmFsLG9wdGlvbnMpe3ZhciBhdHRyLGF0dHJzLHVuc2V0LGNoYW5nZXMsc2lsZW50LGNoYW5naW5nLHByZXYsY3VycmVudDtpZihudWxsPT1rZXkpcmV0dXJuIHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBrZXk/KGF0dHJzPWtleSxvcHRpb25zPXZhbCk6KGF0dHJzPXt9KVtrZXldPXZhbCxvcHRpb25zfHwob3B0aW9ucz17fSksIXRoaXMuX3ZhbGlkYXRlKGF0dHJzLG9wdGlvbnMpKXJldHVybiExO3Vuc2V0PW9wdGlvbnMudW5zZXQsc2lsZW50PW9wdGlvbnMuc2lsZW50LGNoYW5nZXM9W10sY2hhbmdpbmc9dGhpcy5fY2hhbmdpbmcsdGhpcy5fY2hhbmdpbmc9ITAsY2hhbmdpbmd8fCh0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXM9Xy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpLHRoaXMuY2hhbmdlZD17fSksY3VycmVudD10aGlzLmF0dHJpYnV0ZXMscHJldj10aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMsdGhpcy5pZEF0dHJpYnV0ZSBpbiBhdHRycyYmKHRoaXMuaWQ9YXR0cnNbdGhpcy5pZEF0dHJpYnV0ZV0pO2ZvcihhdHRyIGluIGF0dHJzKXZhbD1hdHRyc1thdHRyXSxfLmlzRXF1YWwoY3VycmVudFthdHRyXSx2YWwpfHxjaGFuZ2VzLnB1c2goYXR0ciksXy5pc0VxdWFsKHByZXZbYXR0cl0sdmFsKT9kZWxldGUgdGhpcy5jaGFuZ2VkW2F0dHJdOnRoaXMuY2hhbmdlZFthdHRyXT12YWwsdW5zZXQ/ZGVsZXRlIGN1cnJlbnRbYXR0cl06Y3VycmVudFthdHRyXT12YWw7aWYoIXNpbGVudCl7Y2hhbmdlcy5sZW5ndGgmJih0aGlzLl9wZW5kaW5nPW9wdGlvbnMpO2Zvcih2YXIgaT0wLGw9Y2hhbmdlcy5sZW5ndGg7bD5pO2krKyl0aGlzLnRyaWdnZXIoImNoYW5nZToiK2NoYW5nZXNbaV0sdGhpcyxjdXJyZW50W2NoYW5nZXNbaV1dLG9wdGlvbnMpfWlmKGNoYW5naW5nKXJldHVybiB0aGlzO2lmKCFzaWxlbnQpZm9yKDt0aGlzLl9wZW5kaW5nOylvcHRpb25zPXRoaXMuX3BlbmRpbmcsdGhpcy5fcGVuZGluZz0hMSx0aGlzLnRyaWdnZXIoImNoYW5nZSIsdGhpcyxvcHRpb25zKTtyZXR1cm4gdGhpcy5fcGVuZGluZz0hMSx0aGlzLl9jaGFuZ2luZz0hMSx0aGlzfSx1bnNldDpmdW5jdGlvbihhdHRyLG9wdGlvbnMpe3JldHVybiB0aGlzLnNldChhdHRyLHZvaWQgMCxfLmV4dGVuZCh7fSxvcHRpb25zLHt1bnNldDohMH0pKX0sY2xlYXI6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIGF0dHJzPXt9O2Zvcih2YXIga2V5IGluIHRoaXMuYXR0cmlidXRlcylhdHRyc1trZXldPXZvaWQgMDtyZXR1cm4gdGhpcy5zZXQoYXR0cnMsXy5leHRlbmQoe30sb3B0aW9ucyx7dW5zZXQ6ITB9KSl9LGhhc0NoYW5nZWQ6ZnVuY3Rpb24oYXR0cil7cmV0dXJuIG51bGw9PWF0dHI/IV8uaXNFbXB0eSh0aGlzLmNoYW5nZWQpOl8uaGFzKHRoaXMuY2hhbmdlZCxhdHRyKX0sY2hhbmdlZEF0dHJpYnV0ZXM6ZnVuY3Rpb24oZGlmZil7aWYoIWRpZmYpcmV0dXJuIHRoaXMuaGFzQ2hhbmdlZCgpP18uY2xvbmUodGhpcy5jaGFuZ2VkKTohMTt2YXIgdmFsLGNoYW5nZWQ9ITEsb2xkPXRoaXMuX2NoYW5naW5nP3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXM7Zm9yKHZhciBhdHRyIGluIGRpZmYpXy5pc0VxdWFsKG9sZFthdHRyXSx2YWw9ZGlmZlthdHRyXSl8fCgoY2hhbmdlZHx8KGNoYW5nZWQ9e30pKVthdHRyXT12YWwpO3JldHVybiBjaGFuZ2VkfSxwcmV2aW91czpmdW5jdGlvbihhdHRyKXtyZXR1cm4gbnVsbCE9YXR0ciYmdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzP3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlc1thdHRyXTpudWxsfSxwcmV2aW91c0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gXy5jbG9uZSh0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMpfSxmZXRjaDpmdW5jdGlvbihvcHRpb25zKXtvcHRpb25zPW9wdGlvbnM/Xy5jbG9uZShvcHRpb25zKTp7fSx2b2lkIDA9PT1vcHRpb25zLnBhcnNlJiYob3B0aW9ucy5wYXJzZT0hMCk7dmFyIG1vZGVsPXRoaXMsc3VjY2Vzcz1vcHRpb25zLnN1Y2Nlc3M7cmV0dXJuIG9wdGlvbnMuc3VjY2Vzcz1mdW5jdGlvbihyZXNwKXtyZXR1cm4gbW9kZWwuc2V0KG1vZGVsLnBhcnNlKHJlc3Asb3B0aW9ucyksb3B0aW9ucyk/KHN1Y2Nlc3MmJnN1Y2Nlc3MobW9kZWwscmVzcCxvcHRpb25zKSx2b2lkIG1vZGVsLnRyaWdnZXIoInN5bmMiLG1vZGVsLHJlc3Asb3B0aW9ucykpOiExfSx3cmFwRXJyb3IodGhpcyxvcHRpb25zKSx0aGlzLnN5bmMoInJlYWQiLHRoaXMsb3B0aW9ucyl9LHNhdmU6ZnVuY3Rpb24oa2V5LHZhbCxvcHRpb25zKXt2YXIgYXR0cnMsbWV0aG9kLHhocixhdHRyaWJ1dGVzPXRoaXMuYXR0cmlidXRlcztpZihudWxsPT1rZXl8fCJvYmplY3QiPT10eXBlb2Yga2V5PyhhdHRycz1rZXksb3B0aW9ucz12YWwpOihhdHRycz17fSlba2V5XT12YWwsb3B0aW9ucz1fLmV4dGVuZCh7dmFsaWRhdGU6ITB9LG9wdGlvbnMpLGF0dHJzJiYhb3B0aW9ucy53YWl0KXtpZighdGhpcy5zZXQoYXR0cnMsb3B0aW9ucykpcmV0dXJuITF9ZWxzZSBpZighdGhpcy5fdmFsaWRhdGUoYXR0cnMsb3B0aW9ucykpcmV0dXJuITE7YXR0cnMmJm9wdGlvbnMud2FpdCYmKHRoaXMuYXR0cmlidXRlcz1fLmV4dGVuZCh7fSxhdHRyaWJ1dGVzLGF0dHJzKSksdm9pZCAwPT09b3B0aW9ucy5wYXJzZSYmKG9wdGlvbnMucGFyc2U9ITApO3ZhciBtb2RlbD10aGlzLHN1Y2Nlc3M9b3B0aW9ucy5zdWNjZXNzO3JldHVybiBvcHRpb25zLnN1Y2Nlc3M9ZnVuY3Rpb24ocmVzcCl7bW9kZWwuYXR0cmlidXRlcz1hdHRyaWJ1dGVzO3ZhciBzZXJ2ZXJBdHRycz1tb2RlbC5wYXJzZShyZXNwLG9wdGlvbnMpO3JldHVybiBvcHRpb25zLndhaXQmJihzZXJ2ZXJBdHRycz1fLmV4dGVuZChhdHRyc3x8e30sc2VydmVyQXR0cnMpKSxfLmlzT2JqZWN0KHNlcnZlckF0dHJzKSYmIW1vZGVsLnNldChzZXJ2ZXJBdHRycyxvcHRpb25zKT8hMTooc3VjY2VzcyYmc3VjY2Vzcyhtb2RlbCxyZXNwLG9wdGlvbnMpLHZvaWQgbW9kZWwudHJpZ2dlcigic3luYyIsbW9kZWwscmVzcCxvcHRpb25zKSl9LHdyYXBFcnJvcih0aGlzLG9wdGlvbnMpLG1ldGhvZD10aGlzLmlzTmV3KCk/ImNyZWF0ZSI6b3B0aW9ucy5wYXRjaD8icGF0Y2giOiJ1cGRhdGUiLCJwYXRjaCI9PT1tZXRob2QmJihvcHRpb25zLmF0dHJzPWF0dHJzKSx4aHI9dGhpcy5zeW5jKG1ldGhvZCx0aGlzLG9wdGlvbnMpLGF0dHJzJiZvcHRpb25zLndhaXQmJih0aGlzLmF0dHJpYnV0ZXM9YXR0cmlidXRlcykseGhyfSxkZXN0cm95OmZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnM9b3B0aW9ucz9fLmNsb25lKG9wdGlvbnMpOnt9O3ZhciBtb2RlbD10aGlzLHN1Y2Nlc3M9b3B0aW9ucy5zdWNjZXNzLGRlc3Ryb3k9ZnVuY3Rpb24oKXttb2RlbC50cmlnZ2VyKCJkZXN0cm95Iixtb2RlbCxtb2RlbC5jb2xsZWN0aW9uLG9wdGlvbnMpfTtpZihvcHRpb25zLnN1Y2Nlc3M9ZnVuY3Rpb24ocmVzcCl7KG9wdGlvbnMud2FpdHx8bW9kZWwuaXNOZXcoKSkmJmRlc3Ryb3koKSxzdWNjZXNzJiZzdWNjZXNzKG1vZGVsLHJlc3Asb3B0aW9ucyksbW9kZWwuaXNOZXcoKXx8bW9kZWwudHJpZ2dlcigic3luYyIsbW9kZWwscmVzcCxvcHRpb25zKX0sdGhpcy5pc05ldygpKXJldHVybiBvcHRpb25zLnN1Y2Nlc3MoKSwhMTt3cmFwRXJyb3IodGhpcyxvcHRpb25zKTt2YXIgeGhyPXRoaXMuc3luYygiZGVsZXRlIix0aGlzLG9wdGlvbnMpO3JldHVybiBvcHRpb25zLndhaXR8fGRlc3Ryb3koKSx4aHJ9LHVybDpmdW5jdGlvbigpe3ZhciBiYXNlPV8ucmVzdWx0KHRoaXMsInVybFJvb3QiKXx8Xy5yZXN1bHQodGhpcy5jb2xsZWN0aW9uLCJ1cmwiKXx8dXJsRXJyb3IoKTtyZXR1cm4gdGhpcy5pc05ldygpP2Jhc2U6YmFzZS5yZXBsYWNlKC8oW15cL10pJC8sIiQxLyIpK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmlkKX0scGFyc2U6ZnVuY3Rpb24ocmVzcCl7cmV0dXJuIHJlc3B9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyl9LGlzTmV3OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaGFzKHRoaXMuaWRBdHRyaWJ1dGUpfSxpc1ZhbGlkOmZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLl92YWxpZGF0ZSh7fSxfLmV4dGVuZChvcHRpb25zfHx7fSx7dmFsaWRhdGU6ITB9KSl9LF92YWxpZGF0ZTpmdW5jdGlvbihhdHRycyxvcHRpb25zKXtpZighb3B0aW9ucy52YWxpZGF0ZXx8IXRoaXMudmFsaWRhdGUpcmV0dXJuITA7YXR0cnM9Xy5leHRlbmQoe30sdGhpcy5hdHRyaWJ1dGVzLGF0dHJzKTt2YXIgZXJyb3I9dGhpcy52YWxpZGF0aW9uRXJyb3I9dGhpcy52YWxpZGF0ZShhdHRycyxvcHRpb25zKXx8bnVsbDtyZXR1cm4gZXJyb3I/KHRoaXMudHJpZ2dlcigiaW52YWxpZCIsdGhpcyxlcnJvcixfLmV4dGVuZChvcHRpb25zLHt2YWxpZGF0aW9uRXJyb3I6ZXJyb3J9KSksITEpOiEwfX0pO3ZhciBtb2RlbE1ldGhvZHM9WyJrZXlzIiwidmFsdWVzIiwicGFpcnMiLCJpbnZlcnQiLCJwaWNrIiwib21pdCJdO18uZWFjaChtb2RlbE1ldGhvZHMsZnVuY3Rpb24obWV0aG9kKXtNb2RlbC5wcm90b3R5cGVbbWV0aG9kXT1mdW5jdGlvbigpe3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gYXJncy51bnNoaWZ0KHRoaXMuYXR0cmlidXRlcyksX1ttZXRob2RdLmFwcGx5KF8sYXJncyl9fSk7dmFyIENvbGxlY3Rpb249QmFja2JvbmUuQ29sbGVjdGlvbj1mdW5jdGlvbihtb2RlbHMsb3B0aW9ucyl7b3B0aW9uc3x8KG9wdGlvbnM9e30pLG9wdGlvbnMubW9kZWwmJih0aGlzLm1vZGVsPW9wdGlvbnMubW9kZWwpLHZvaWQgMCE9PW9wdGlvbnMuY29tcGFyYXRvciYmKHRoaXMuY29tcGFyYXRvcj1vcHRpb25zLmNvbXBhcmF0b3IpLHRoaXMuX3Jlc2V0KCksdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxtb2RlbHMmJnRoaXMucmVzZXQobW9kZWxzLF8uZXh0ZW5kKHtzaWxlbnQ6ITB9LG9wdGlvbnMpKX0sc2V0T3B0aW9ucz17YWRkOiEwLHJlbW92ZTohMCxtZXJnZTohMH0sYWRkT3B0aW9ucz17YWRkOiEwLHJlbW92ZTohMX07Xy5leHRlbmQoQ29sbGVjdGlvbi5wcm90b3R5cGUsRXZlbnRzLHttb2RlbDpNb2RlbCxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKG1vZGVsKXtyZXR1cm4gbW9kZWwudG9KU09OKG9wdGlvbnMpfSl9LHN5bmM6ZnVuY3Rpb24oKXtyZXR1cm4gQmFja2JvbmUuc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFkZDpmdW5jdGlvbihtb2RlbHMsb3B0aW9ucyl7cmV0dXJuIHRoaXMuc2V0KG1vZGVscyxfLmV4dGVuZCh7bWVyZ2U6ITF9LG9wdGlvbnMsYWRkT3B0aW9ucykpfSxyZW1vdmU6ZnVuY3Rpb24obW9kZWxzLG9wdGlvbnMpe3ZhciBzaW5ndWxhcj0hXy5pc0FycmF5KG1vZGVscyk7bW9kZWxzPXNpbmd1bGFyP1ttb2RlbHNdOl8uY2xvbmUobW9kZWxzKSxvcHRpb25zfHwob3B0aW9ucz17fSk7dmFyIGksbCxpbmRleCxtb2RlbDtmb3IoaT0wLGw9bW9kZWxzLmxlbmd0aDtsPmk7aSsrKW1vZGVsPW1vZGVsc1tpXT10aGlzLmdldChtb2RlbHNbaV0pLG1vZGVsJiYoZGVsZXRlIHRoaXMuX2J5SWRbbW9kZWwuaWRdLGRlbGV0ZSB0aGlzLl9ieUlkW21vZGVsLmNpZF0saW5kZXg9dGhpcy5pbmRleE9mKG1vZGVsKSx0aGlzLm1vZGVscy5zcGxpY2UoaW5kZXgsMSksdGhpcy5sZW5ndGgtLSxvcHRpb25zLnNpbGVudHx8KG9wdGlvbnMuaW5kZXg9aW5kZXgsbW9kZWwudHJpZ2dlcigicmVtb3ZlIixtb2RlbCx0aGlzLG9wdGlvbnMpKSx0aGlzLl9yZW1vdmVSZWZlcmVuY2UobW9kZWwsb3B0aW9ucykpO3JldHVybiBzaW5ndWxhcj9tb2RlbHNbMF06bW9kZWxzfSxzZXQ6ZnVuY3Rpb24obW9kZWxzLG9wdGlvbnMpe29wdGlvbnM9Xy5kZWZhdWx0cyh7fSxvcHRpb25zLHNldE9wdGlvbnMpLG9wdGlvbnMucGFyc2UmJihtb2RlbHM9dGhpcy5wYXJzZShtb2RlbHMsb3B0aW9ucykpO3ZhciBzaW5ndWxhcj0hXy5pc0FycmF5KG1vZGVscyk7bW9kZWxzPXNpbmd1bGFyP21vZGVscz9bbW9kZWxzXTpbXTpfLmNsb25lKG1vZGVscyk7dmFyIGksbCxpZCxtb2RlbCxhdHRycyxleGlzdGluZyxzb3J0LGF0PW9wdGlvbnMuYXQsdGFyZ2V0TW9kZWw9dGhpcy5tb2RlbCxzb3J0YWJsZT10aGlzLmNvbXBhcmF0b3ImJm51bGw9PWF0JiZvcHRpb25zLnNvcnQhPT0hMSxzb3J0QXR0cj1fLmlzU3RyaW5nKHRoaXMuY29tcGFyYXRvcik/dGhpcy5jb21wYXJhdG9yOm51bGwsdG9BZGQ9W10sdG9SZW1vdmU9W10sbW9kZWxNYXA9e30sYWRkPW9wdGlvbnMuYWRkLG1lcmdlPW9wdGlvbnMubWVyZ2UscmVtb3ZlPW9wdGlvbnMucmVtb3ZlLG9yZGVyPSFzb3J0YWJsZSYmYWRkJiZyZW1vdmU/W106ITE7Zm9yKGk9MCxsPW1vZGVscy5sZW5ndGg7bD5pO2krKyl7aWYoYXR0cnM9bW9kZWxzW2ldfHx7fSxpZD1hdHRycyBpbnN0YW5jZW9mIE1vZGVsP21vZGVsPWF0dHJzOmF0dHJzW3RhcmdldE1vZGVsLnByb3RvdHlwZS5pZEF0dHJpYnV0ZXx8ImlkIl0sZXhpc3Rpbmc9dGhpcy5nZXQoaWQpKXJlbW92ZSYmKG1vZGVsTWFwW2V4aXN0aW5nLmNpZF09ITApLG1lcmdlJiYoYXR0cnM9YXR0cnM9PT1tb2RlbD9tb2RlbC5hdHRyaWJ1dGVzOmF0dHJzLG9wdGlvbnMucGFyc2UmJihhdHRycz1leGlzdGluZy5wYXJzZShhdHRycyxvcHRpb25zKSksZXhpc3Rpbmcuc2V0KGF0dHJzLG9wdGlvbnMpLHNvcnRhYmxlJiYhc29ydCYmZXhpc3RpbmcuaGFzQ2hhbmdlZChzb3J0QXR0cikmJihzb3J0PSEwKSksbW9kZWxzW2ldPWV4aXN0aW5nO2Vsc2UgaWYoYWRkKXtpZihtb2RlbD1tb2RlbHNbaV09dGhpcy5fcHJlcGFyZU1vZGVsKGF0dHJzLG9wdGlvbnMpLCFtb2RlbCljb250aW51ZTt0b0FkZC5wdXNoKG1vZGVsKSx0aGlzLl9hZGRSZWZlcmVuY2UobW9kZWwsb3B0aW9ucyl9bW9kZWw9ZXhpc3Rpbmd8fG1vZGVsLCFvcmRlcnx8IW1vZGVsLmlzTmV3KCkmJm1vZGVsTWFwW21vZGVsLmlkXXx8b3JkZXIucHVzaChtb2RlbCksbW9kZWxNYXBbbW9kZWwuaWRdPSEwfWlmKHJlbW92ZSl7Zm9yKGk9MCxsPXRoaXMubGVuZ3RoO2w+aTsrK2kpbW9kZWxNYXBbKG1vZGVsPXRoaXMubW9kZWxzW2ldKS5jaWRdfHx0b1JlbW92ZS5wdXNoKG1vZGVsKTt0b1JlbW92ZS5sZW5ndGgmJnRoaXMucmVtb3ZlKHRvUmVtb3ZlLG9wdGlvbnMpfWlmKHRvQWRkLmxlbmd0aHx8b3JkZXImJm9yZGVyLmxlbmd0aClpZihzb3J0YWJsZSYmKHNvcnQ9ITApLHRoaXMubGVuZ3RoKz10b0FkZC5sZW5ndGgsbnVsbCE9YXQpZm9yKGk9MCxsPXRvQWRkLmxlbmd0aDtsPmk7aSsrKXRoaXMubW9kZWxzLnNwbGljZShhdCtpLDAsdG9BZGRbaV0pO2Vsc2V7b3JkZXImJih0aGlzLm1vZGVscy5sZW5ndGg9MCk7dmFyIG9yZGVyZWRNb2RlbHM9b3JkZXJ8fHRvQWRkO2ZvcihpPTAsbD1vcmRlcmVkTW9kZWxzLmxlbmd0aDtsPmk7aSsrKXRoaXMubW9kZWxzLnB1c2gob3JkZXJlZE1vZGVsc1tpXSkKfWlmKHNvcnQmJnRoaXMuc29ydCh7c2lsZW50OiEwfSksIW9wdGlvbnMuc2lsZW50KXtmb3IoaT0wLGw9dG9BZGQubGVuZ3RoO2w+aTtpKyspKG1vZGVsPXRvQWRkW2ldKS50cmlnZ2VyKCJhZGQiLG1vZGVsLHRoaXMsb3B0aW9ucyk7KHNvcnR8fG9yZGVyJiZvcmRlci5sZW5ndGgpJiZ0aGlzLnRyaWdnZXIoInNvcnQiLHRoaXMsb3B0aW9ucyl9cmV0dXJuIHNpbmd1bGFyP21vZGVsc1swXTptb2RlbHN9LHJlc2V0OmZ1bmN0aW9uKG1vZGVscyxvcHRpb25zKXtvcHRpb25zfHwob3B0aW9ucz17fSk7Zm9yKHZhciBpPTAsbD10aGlzLm1vZGVscy5sZW5ndGg7bD5pO2krKyl0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbaV0sb3B0aW9ucyk7cmV0dXJuIG9wdGlvbnMucHJldmlvdXNNb2RlbHM9dGhpcy5tb2RlbHMsdGhpcy5fcmVzZXQoKSxtb2RlbHM9dGhpcy5hZGQobW9kZWxzLF8uZXh0ZW5kKHtzaWxlbnQ6ITB9LG9wdGlvbnMpKSxvcHRpb25zLnNpbGVudHx8dGhpcy50cmlnZ2VyKCJyZXNldCIsdGhpcyxvcHRpb25zKSxtb2RlbHN9LHB1c2g6ZnVuY3Rpb24obW9kZWwsb3B0aW9ucyl7cmV0dXJuIHRoaXMuYWRkKG1vZGVsLF8uZXh0ZW5kKHthdDp0aGlzLmxlbmd0aH0sb3B0aW9ucykpfSxwb3A6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIG1vZGVsPXRoaXMuYXQodGhpcy5sZW5ndGgtMSk7cmV0dXJuIHRoaXMucmVtb3ZlKG1vZGVsLG9wdGlvbnMpLG1vZGVsfSx1bnNoaWZ0OmZ1bmN0aW9uKG1vZGVsLG9wdGlvbnMpe3JldHVybiB0aGlzLmFkZChtb2RlbCxfLmV4dGVuZCh7YXQ6MH0sb3B0aW9ucykpfSxzaGlmdDpmdW5jdGlvbihvcHRpb25zKXt2YXIgbW9kZWw9dGhpcy5hdCgwKTtyZXR1cm4gdGhpcy5yZW1vdmUobW9kZWwsb3B0aW9ucyksbW9kZWx9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHNsaWNlLmFwcGx5KHRoaXMubW9kZWxzLGFyZ3VtZW50cyl9LGdldDpmdW5jdGlvbihvYmope3JldHVybiBudWxsPT1vYmo/dm9pZCAwOnRoaXMuX2J5SWRbb2JqXXx8dGhpcy5fYnlJZFtvYmouaWRdfHx0aGlzLl9ieUlkW29iai5jaWRdfSxhdDpmdW5jdGlvbihpbmRleCl7cmV0dXJuIHRoaXMubW9kZWxzW2luZGV4XX0sd2hlcmU6ZnVuY3Rpb24oYXR0cnMsZmlyc3Qpe3JldHVybiBfLmlzRW1wdHkoYXR0cnMpP2ZpcnN0P3ZvaWQgMDpbXTp0aGlzW2ZpcnN0PyJmaW5kIjoiZmlsdGVyIl0oZnVuY3Rpb24obW9kZWwpe2Zvcih2YXIga2V5IGluIGF0dHJzKWlmKGF0dHJzW2tleV0hPT1tb2RlbC5nZXQoa2V5KSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxmaW5kV2hlcmU6ZnVuY3Rpb24oYXR0cnMpe3JldHVybiB0aGlzLndoZXJlKGF0dHJzLCEwKX0sc29ydDpmdW5jdGlvbihvcHRpb25zKXtpZighdGhpcy5jb21wYXJhdG9yKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNvcnQgYSBzZXQgd2l0aG91dCBhIGNvbXBhcmF0b3IiKTtyZXR1cm4gb3B0aW9uc3x8KG9wdGlvbnM9e30pLF8uaXNTdHJpbmcodGhpcy5jb21wYXJhdG9yKXx8MT09PXRoaXMuY29tcGFyYXRvci5sZW5ndGg/dGhpcy5tb2RlbHM9dGhpcy5zb3J0QnkodGhpcy5jb21wYXJhdG9yLHRoaXMpOnRoaXMubW9kZWxzLnNvcnQoXy5iaW5kKHRoaXMuY29tcGFyYXRvcix0aGlzKSksb3B0aW9ucy5zaWxlbnR8fHRoaXMudHJpZ2dlcigic29ydCIsdGhpcyxvcHRpb25zKSx0aGlzfSxwbHVjazpmdW5jdGlvbihhdHRyKXtyZXR1cm4gXy5pbnZva2UodGhpcy5tb2RlbHMsImdldCIsYXR0cil9LGZldGNoOmZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnM9b3B0aW9ucz9fLmNsb25lKG9wdGlvbnMpOnt9LHZvaWQgMD09PW9wdGlvbnMucGFyc2UmJihvcHRpb25zLnBhcnNlPSEwKTt2YXIgc3VjY2Vzcz1vcHRpb25zLnN1Y2Nlc3MsY29sbGVjdGlvbj10aGlzO3JldHVybiBvcHRpb25zLnN1Y2Nlc3M9ZnVuY3Rpb24ocmVzcCl7dmFyIG1ldGhvZD1vcHRpb25zLnJlc2V0PyJyZXNldCI6InNldCI7Y29sbGVjdGlvblttZXRob2RdKHJlc3Asb3B0aW9ucyksc3VjY2VzcyYmc3VjY2Vzcyhjb2xsZWN0aW9uLHJlc3Asb3B0aW9ucyksY29sbGVjdGlvbi50cmlnZ2VyKCJzeW5jIixjb2xsZWN0aW9uLHJlc3Asb3B0aW9ucyl9LHdyYXBFcnJvcih0aGlzLG9wdGlvbnMpLHRoaXMuc3luYygicmVhZCIsdGhpcyxvcHRpb25zKX0sY3JlYXRlOmZ1bmN0aW9uKG1vZGVsLG9wdGlvbnMpe2lmKG9wdGlvbnM9b3B0aW9ucz9fLmNsb25lKG9wdGlvbnMpOnt9LCEobW9kZWw9dGhpcy5fcHJlcGFyZU1vZGVsKG1vZGVsLG9wdGlvbnMpKSlyZXR1cm4hMTtvcHRpb25zLndhaXR8fHRoaXMuYWRkKG1vZGVsLG9wdGlvbnMpO3ZhciBjb2xsZWN0aW9uPXRoaXMsc3VjY2Vzcz1vcHRpb25zLnN1Y2Nlc3M7cmV0dXJuIG9wdGlvbnMuc3VjY2Vzcz1mdW5jdGlvbihtb2RlbCxyZXNwKXtvcHRpb25zLndhaXQmJmNvbGxlY3Rpb24uYWRkKG1vZGVsLG9wdGlvbnMpLHN1Y2Nlc3MmJnN1Y2Nlc3MobW9kZWwscmVzcCxvcHRpb25zKX0sbW9kZWwuc2F2ZShudWxsLG9wdGlvbnMpLG1vZGVsfSxwYXJzZTpmdW5jdGlvbihyZXNwKXtyZXR1cm4gcmVzcH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5tb2RlbHMpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wLHRoaXMubW9kZWxzPVtdLHRoaXMuX2J5SWQ9e319LF9wcmVwYXJlTW9kZWw6ZnVuY3Rpb24oYXR0cnMsb3B0aW9ucyl7aWYoYXR0cnMgaW5zdGFuY2VvZiBNb2RlbClyZXR1cm4gYXR0cnM7b3B0aW9ucz1vcHRpb25zP18uY2xvbmUob3B0aW9ucyk6e30sb3B0aW9ucy5jb2xsZWN0aW9uPXRoaXM7dmFyIG1vZGVsPW5ldyB0aGlzLm1vZGVsKGF0dHJzLG9wdGlvbnMpO3JldHVybiBtb2RlbC52YWxpZGF0aW9uRXJyb3I/KHRoaXMudHJpZ2dlcigiaW52YWxpZCIsdGhpcyxtb2RlbC52YWxpZGF0aW9uRXJyb3Isb3B0aW9ucyksITEpOm1vZGVsfSxfYWRkUmVmZXJlbmNlOmZ1bmN0aW9uKG1vZGVsKXt0aGlzLl9ieUlkW21vZGVsLmNpZF09bW9kZWwsbnVsbCE9bW9kZWwuaWQmJih0aGlzLl9ieUlkW21vZGVsLmlkXT1tb2RlbCksbW9kZWwuY29sbGVjdGlvbnx8KG1vZGVsLmNvbGxlY3Rpb249dGhpcyksbW9kZWwub24oImFsbCIsdGhpcy5fb25Nb2RlbEV2ZW50LHRoaXMpfSxfcmVtb3ZlUmVmZXJlbmNlOmZ1bmN0aW9uKG1vZGVsKXt0aGlzPT09bW9kZWwuY29sbGVjdGlvbiYmZGVsZXRlIG1vZGVsLmNvbGxlY3Rpb24sbW9kZWwub2ZmKCJhbGwiLHRoaXMuX29uTW9kZWxFdmVudCx0aGlzKX0sX29uTW9kZWxFdmVudDpmdW5jdGlvbihldmVudCxtb2RlbCxjb2xsZWN0aW9uLG9wdGlvbnMpeygiYWRkIiE9PWV2ZW50JiYicmVtb3ZlIiE9PWV2ZW50fHxjb2xsZWN0aW9uPT09dGhpcykmJigiZGVzdHJveSI9PT1ldmVudCYmdGhpcy5yZW1vdmUobW9kZWwsb3B0aW9ucyksbW9kZWwmJmV2ZW50PT09ImNoYW5nZToiK21vZGVsLmlkQXR0cmlidXRlJiYoZGVsZXRlIHRoaXMuX2J5SWRbbW9kZWwucHJldmlvdXMobW9kZWwuaWRBdHRyaWJ1dGUpXSxudWxsIT1tb2RlbC5pZCYmKHRoaXMuX2J5SWRbbW9kZWwuaWRdPW1vZGVsKSksdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fSk7dmFyIG1ldGhvZHM9WyJmb3JFYWNoIiwiZWFjaCIsIm1hcCIsImNvbGxlY3QiLCJyZWR1Y2UiLCJmb2xkbCIsImluamVjdCIsInJlZHVjZVJpZ2h0IiwiZm9sZHIiLCJmaW5kIiwiZGV0ZWN0IiwiZmlsdGVyIiwic2VsZWN0IiwicmVqZWN0IiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiaW5jbHVkZSIsImNvbnRhaW5zIiwiaW52b2tlIiwibWF4IiwibWluIiwidG9BcnJheSIsInNpemUiLCJmaXJzdCIsImhlYWQiLCJ0YWtlIiwiaW5pdGlhbCIsInJlc3QiLCJ0YWlsIiwiZHJvcCIsImxhc3QiLCJ3aXRob3V0IiwiZGlmZmVyZW5jZSIsImluZGV4T2YiLCJzaHVmZmxlIiwibGFzdEluZGV4T2YiLCJpc0VtcHR5IiwiY2hhaW4iLCJzYW1wbGUiXTtfLmVhY2gobWV0aG9kcyxmdW5jdGlvbihtZXRob2Qpe0NvbGxlY3Rpb24ucHJvdG90eXBlW21ldGhvZF09ZnVuY3Rpb24oKXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGFyZ3MudW5zaGlmdCh0aGlzLm1vZGVscyksX1ttZXRob2RdLmFwcGx5KF8sYXJncyl9fSk7dmFyIGF0dHJpYnV0ZU1ldGhvZHM9WyJncm91cEJ5IiwiY291bnRCeSIsInNvcnRCeSIsImluZGV4QnkiXTtfLmVhY2goYXR0cmlidXRlTWV0aG9kcyxmdW5jdGlvbihtZXRob2Qpe0NvbGxlY3Rpb24ucHJvdG90eXBlW21ldGhvZF09ZnVuY3Rpb24odmFsdWUsY29udGV4dCl7dmFyIGl0ZXJhdG9yPV8uaXNGdW5jdGlvbih2YWx1ZSk/dmFsdWU6ZnVuY3Rpb24obW9kZWwpe3JldHVybiBtb2RlbC5nZXQodmFsdWUpfTtyZXR1cm4gX1ttZXRob2RdKHRoaXMubW9kZWxzLGl0ZXJhdG9yLGNvbnRleHQpfX0pO3ZhciBWaWV3PUJhY2tib25lLlZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5jaWQ9Xy51bmlxdWVJZCgidmlldyIpLG9wdGlvbnN8fChvcHRpb25zPXt9KSxfLmV4dGVuZCh0aGlzLF8ucGljayhvcHRpb25zLHZpZXdPcHRpb25zKSksdGhpcy5fZW5zdXJlRWxlbWVudCgpLHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5kZWxlZ2F0ZUV2ZW50cygpfSxkZWxlZ2F0ZUV2ZW50U3BsaXR0ZXI9L14oXFMrKVxzKiguKikkLyx2aWV3T3B0aW9ucz1bIm1vZGVsIiwiY29sbGVjdGlvbiIsImVsIiwiaWQiLCJhdHRyaWJ1dGVzIiwiY2xhc3NOYW1lIiwidGFnTmFtZSIsImV2ZW50cyJdO18uZXh0ZW5kKFZpZXcucHJvdG90eXBlLEV2ZW50cyx7dGFnTmFtZToiZGl2IiwkOmZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gdGhpcy4kZWwuZmluZChzZWxlY3Rvcil9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWwucmVtb3ZlKCksdGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpc30sc2V0RWxlbWVudDpmdW5jdGlvbihlbGVtZW50LGRlbGVnYXRlKXtyZXR1cm4gdGhpcy4kZWwmJnRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpLHRoaXMuJGVsPWVsZW1lbnQgaW5zdGFuY2VvZiBCYWNrYm9uZS4kP2VsZW1lbnQ6QmFja2JvbmUuJChlbGVtZW50KSx0aGlzLmVsPXRoaXMuJGVsWzBdLGRlbGVnYXRlIT09ITEmJnRoaXMuZGVsZWdhdGVFdmVudHMoKSx0aGlzfSxkZWxlZ2F0ZUV2ZW50czpmdW5jdGlvbihldmVudHMpe2lmKCFldmVudHMmJiEoZXZlbnRzPV8ucmVzdWx0KHRoaXMsImV2ZW50cyIpKSlyZXR1cm4gdGhpczt0aGlzLnVuZGVsZWdhdGVFdmVudHMoKTtmb3IodmFyIGtleSBpbiBldmVudHMpe3ZhciBtZXRob2Q9ZXZlbnRzW2tleV07aWYoXy5pc0Z1bmN0aW9uKG1ldGhvZCl8fChtZXRob2Q9dGhpc1tldmVudHNba2V5XV0pLG1ldGhvZCl7dmFyIG1hdGNoPWtleS5tYXRjaChkZWxlZ2F0ZUV2ZW50U3BsaXR0ZXIpLGV2ZW50TmFtZT1tYXRjaFsxXSxzZWxlY3Rvcj1tYXRjaFsyXTttZXRob2Q9Xy5iaW5kKG1ldGhvZCx0aGlzKSxldmVudE5hbWUrPSIuZGVsZWdhdGVFdmVudHMiK3RoaXMuY2lkLCIiPT09c2VsZWN0b3I/dGhpcy4kZWwub24oZXZlbnROYW1lLG1ldGhvZCk6dGhpcy4kZWwub24oZXZlbnROYW1lLHNlbGVjdG9yLG1ldGhvZCl9fXJldHVybiB0aGlzfSx1bmRlbGVnYXRlRXZlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsLm9mZigiLmRlbGVnYXRlRXZlbnRzIit0aGlzLmNpZCksdGhpc30sX2Vuc3VyZUVsZW1lbnQ6ZnVuY3Rpb24oKXtpZih0aGlzLmVsKXRoaXMuc2V0RWxlbWVudChfLnJlc3VsdCh0aGlzLCJlbCIpLCExKTtlbHNle3ZhciBhdHRycz1fLmV4dGVuZCh7fSxfLnJlc3VsdCh0aGlzLCJhdHRyaWJ1dGVzIikpO3RoaXMuaWQmJihhdHRycy5pZD1fLnJlc3VsdCh0aGlzLCJpZCIpKSx0aGlzLmNsYXNzTmFtZSYmKGF0dHJzWyJjbGFzcyJdPV8ucmVzdWx0KHRoaXMsImNsYXNzTmFtZSIpKTt2YXIgJGVsPUJhY2tib25lLiQoIjwiK18ucmVzdWx0KHRoaXMsInRhZ05hbWUiKSsiPiIpLmF0dHIoYXR0cnMpO3RoaXMuc2V0RWxlbWVudCgkZWwsITEpfX19KSxCYWNrYm9uZS5zeW5jPWZ1bmN0aW9uKG1ldGhvZCxtb2RlbCxvcHRpb25zKXt2YXIgdHlwZT1tZXRob2RNYXBbbWV0aG9kXTtfLmRlZmF1bHRzKG9wdGlvbnN8fChvcHRpb25zPXt9KSx7ZW11bGF0ZUhUVFA6QmFja2JvbmUuZW11bGF0ZUhUVFAsZW11bGF0ZUpTT046QmFja2JvbmUuZW11bGF0ZUpTT059KTt2YXIgcGFyYW1zPXt0eXBlOnR5cGUsZGF0YVR5cGU6Impzb24ifTtpZihvcHRpb25zLnVybHx8KHBhcmFtcy51cmw9Xy5yZXN1bHQobW9kZWwsInVybCIpfHx1cmxFcnJvcigpKSxudWxsIT1vcHRpb25zLmRhdGF8fCFtb2RlbHx8ImNyZWF0ZSIhPT1tZXRob2QmJiJ1cGRhdGUiIT09bWV0aG9kJiYicGF0Y2giIT09bWV0aG9kfHwocGFyYW1zLmNvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi9qc29uIixwYXJhbXMuZGF0YT1KU09OLnN0cmluZ2lmeShvcHRpb25zLmF0dHJzfHxtb2RlbC50b0pTT04ob3B0aW9ucykpKSxvcHRpb25zLmVtdWxhdGVKU09OJiYocGFyYW1zLmNvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHBhcmFtcy5kYXRhPXBhcmFtcy5kYXRhP3ttb2RlbDpwYXJhbXMuZGF0YX06e30pLG9wdGlvbnMuZW11bGF0ZUhUVFAmJigiUFVUIj09PXR5cGV8fCJERUxFVEUiPT09dHlwZXx8IlBBVENIIj09PXR5cGUpKXtwYXJhbXMudHlwZT0iUE9TVCIsb3B0aW9ucy5lbXVsYXRlSlNPTiYmKHBhcmFtcy5kYXRhLl9tZXRob2Q9dHlwZSk7dmFyIGJlZm9yZVNlbmQ9b3B0aW9ucy5iZWZvcmVTZW5kO29wdGlvbnMuYmVmb3JlU2VuZD1mdW5jdGlvbih4aHIpe3JldHVybiB4aHIuc2V0UmVxdWVzdEhlYWRlcigiWC1IVFRQLU1ldGhvZC1PdmVycmlkZSIsdHlwZSksYmVmb3JlU2VuZD9iZWZvcmVTZW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSJHRVQiPT09cGFyYW1zLnR5cGV8fG9wdGlvbnMuZW11bGF0ZUpTT058fChwYXJhbXMucHJvY2Vzc0RhdGE9ITEpLCJQQVRDSCI9PT1wYXJhbXMudHlwZSYmbm9YaHJQYXRjaCYmKHBhcmFtcy54aHI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9KTt2YXIgeGhyPW9wdGlvbnMueGhyPUJhY2tib25lLmFqYXgoXy5leHRlbmQocGFyYW1zLG9wdGlvbnMpKTtyZXR1cm4gbW9kZWwudHJpZ2dlcigicmVxdWVzdCIsbW9kZWwseGhyLG9wdGlvbnMpLHhocn07dmFyIG5vWGhyUGF0Y2g9ISgidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5BY3RpdmVYT2JqZWN0fHx3aW5kb3cuWE1MSHR0cFJlcXVlc3QmJihuZXcgWE1MSHR0cFJlcXVlc3QpLmRpc3BhdGNoRXZlbnQpLG1ldGhvZE1hcD17Y3JlYXRlOiJQT1NUIix1cGRhdGU6IlBVVCIscGF0Y2g6IlBBVENIIiwiZGVsZXRlIjoiREVMRVRFIixyZWFkOiJHRVQifTtCYWNrYm9uZS5hamF4PWZ1bmN0aW9uKCl7cmV0dXJuIEJhY2tib25lLiQuYWpheC5hcHBseShCYWNrYm9uZS4kLGFyZ3VtZW50cyl9O3ZhciBSb3V0ZXI9QmFja2JvbmUuUm91dGVyPWZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnN8fChvcHRpb25zPXt9KSxvcHRpb25zLnJvdXRlcyYmKHRoaXMucm91dGVzPW9wdGlvbnMucm91dGVzKSx0aGlzLl9iaW5kUm91dGVzKCksdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb3B0aW9uYWxQYXJhbT0vXCgoLio/KVwpL2csbmFtZWRQYXJhbT0vKFwoXD8pPzpcdysvZyxzcGxhdFBhcmFtPS9cKlx3Ky9nLGVzY2FwZVJlZ0V4cD0vW1wte31cW1xdKz8uLFxcXF4kfCNcc10vZztfLmV4dGVuZChSb3V0ZXIucHJvdG90eXBlLEV2ZW50cyx7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe30scm91dGU6ZnVuY3Rpb24ocm91dGUsbmFtZSxjYWxsYmFjayl7Xy5pc1JlZ0V4cChyb3V0ZSl8fChyb3V0ZT10aGlzLl9yb3V0ZVRvUmVnRXhwKHJvdXRlKSksXy5pc0Z1bmN0aW9uKG5hbWUpJiYoY2FsbGJhY2s9bmFtZSxuYW1lPSIiKSxjYWxsYmFja3x8KGNhbGxiYWNrPXRoaXNbbmFtZV0pO3ZhciByb3V0ZXI9dGhpcztyZXR1cm4gQmFja2JvbmUuaGlzdG9yeS5yb3V0ZShyb3V0ZSxmdW5jdGlvbihmcmFnbWVudCl7dmFyIGFyZ3M9cm91dGVyLl9leHRyYWN0UGFyYW1ldGVycyhyb3V0ZSxmcmFnbWVudCk7cm91dGVyLmV4ZWN1dGUoY2FsbGJhY2ssYXJncykscm91dGVyLnRyaWdnZXIuYXBwbHkocm91dGVyLFsicm91dGU6IituYW1lXS5jb25jYXQoYXJncykpLHJvdXRlci50cmlnZ2VyKCJyb3V0ZSIsbmFtZSxhcmdzKSxCYWNrYm9uZS5oaXN0b3J5LnRyaWdnZXIoInJvdXRlIixyb3V0ZXIsbmFtZSxhcmdzKX0pLHRoaXN9LGV4ZWN1dGU6ZnVuY3Rpb24oY2FsbGJhY2ssYXJncyl7Y2FsbGJhY2smJmNhbGxiYWNrLmFwcGx5KHRoaXMsYXJncyl9LG5hdmlnYXRlOmZ1bmN0aW9uKGZyYWdtZW50LG9wdGlvbnMpe3JldHVybiBCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKGZyYWdtZW50LG9wdGlvbnMpLHRoaXN9LF9iaW5kUm91dGVzOmZ1bmN0aW9uKCl7aWYodGhpcy5yb3V0ZXMpe3RoaXMucm91dGVzPV8ucmVzdWx0KHRoaXMsInJvdXRlcyIpO2Zvcih2YXIgcm91dGUscm91dGVzPV8ua2V5cyh0aGlzLnJvdXRlcyk7bnVsbCE9KHJvdXRlPXJvdXRlcy5wb3AoKSk7KXRoaXMucm91dGUocm91dGUsdGhpcy5yb3V0ZXNbcm91dGVdKX19LF9yb3V0ZVRvUmVnRXhwOmZ1bmN0aW9uKHJvdXRlKXtyZXR1cm4gcm91dGU9cm91dGUucmVwbGFjZShlc2NhcGVSZWdFeHAsIlxcJCYiKS5yZXBsYWNlKG9wdGlvbmFsUGFyYW0sIig/OiQxKT8iKS5yZXBsYWNlKG5hbWVkUGFyYW0sZnVuY3Rpb24obWF0Y2gsb3B0aW9uYWwpe3JldHVybiBvcHRpb25hbD9tYXRjaDoiKFteLz9dKykifSkucmVwbGFjZShzcGxhdFBhcmFtLCIoW14/XSo/KSIpLG5ldyBSZWdFeHAoIl4iK3JvdXRlKyIoPzpcXD8oW1xcc1xcU10qKSk/JCIpfSxfZXh0cmFjdFBhcmFtZXRlcnM6ZnVuY3Rpb24ocm91dGUsZnJhZ21lbnQpe3ZhciBwYXJhbXM9cm91dGUuZXhlYyhmcmFnbWVudCkuc2xpY2UoMSk7cmV0dXJuIF8ubWFwKHBhcmFtcyxmdW5jdGlvbihwYXJhbSxpKXtyZXR1cm4gaT09PXBhcmFtcy5sZW5ndGgtMT9wYXJhbXx8bnVsbDpwYXJhbT9kZWNvZGVVUklDb21wb25lbnQocGFyYW0pOm51bGx9KX19KTt2YXIgSGlzdG9yeT1CYWNrYm9uZS5IaXN0b3J5PWZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVycz1bXSxfLmJpbmRBbGwodGhpcywiY2hlY2tVcmwiKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHRoaXMubG9jYXRpb249d2luZG93LmxvY2F0aW9uLHRoaXMuaGlzdG9yeT13aW5kb3cuaGlzdG9yeSl9LHJvdXRlU3RyaXBwZXI9L15bI1wvXXxccyskL2cscm9vdFN0cmlwcGVyPS9eXC8rfFwvKyQvZyxpc0V4cGxvcmVyPS9tc2llIFtcdy5dKy8sdHJhaWxpbmdTbGFzaD0vXC8kLyxwYXRoU3RyaXBwZXI9LyMuKiQvO0hpc3Rvcnkuc3RhcnRlZD0hMSxfLmV4dGVuZChIaXN0b3J5LnByb3RvdHlwZSxFdmVudHMse2ludGVydmFsOjUwLGF0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1teXC9dJC8sIiQmLyIpPT09dGhpcy5yb290fSxnZXRIYXNoOmZ1bmN0aW9uKHdpbmRvdyl7dmFyIG1hdGNoPSh3aW5kb3d8fHRoaXMpLmxvY2F0aW9uLmhyZWYubWF0Y2goLyMoLiopJC8pO3JldHVybiBtYXRjaD9tYXRjaFsxXToiIn0sZ2V0RnJhZ21lbnQ6ZnVuY3Rpb24oZnJhZ21lbnQsZm9yY2VQdXNoU3RhdGUpe2lmKG51bGw9PWZyYWdtZW50KWlmKHRoaXMuX2hhc1B1c2hTdGF0ZXx8IXRoaXMuX3dhbnRzSGFzaENoYW5nZXx8Zm9yY2VQdXNoU3RhdGUpe2ZyYWdtZW50PWRlY29kZVVSSSh0aGlzLmxvY2F0aW9uLnBhdGhuYW1lK3RoaXMubG9jYXRpb24uc2VhcmNoKTt2YXIgcm9vdD10aGlzLnJvb3QucmVwbGFjZSh0cmFpbGluZ1NsYXNoLCIiKTtmcmFnbWVudC5pbmRleE9mKHJvb3QpfHwoZnJhZ21lbnQ9ZnJhZ21lbnQuc2xpY2Uocm9vdC5sZW5ndGgpKX1lbHNlIGZyYWdtZW50PXRoaXMuZ2V0SGFzaCgpO3JldHVybiBmcmFnbWVudC5yZXBsYWNlKHJvdXRlU3RyaXBwZXIsIiIpfSxzdGFydDpmdW5jdGlvbihvcHRpb25zKXtpZihIaXN0b3J5LnN0YXJ0ZWQpdGhyb3cgbmV3IEVycm9yKCJCYWNrYm9uZS5oaXN0b3J5IGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCIpO0hpc3Rvcnkuc3RhcnRlZD0hMCx0aGlzLm9wdGlvbnM9Xy5leHRlbmQoe3Jvb3Q6Ii8ifSx0aGlzLm9wdGlvbnMsb3B0aW9ucyksdGhpcy5yb290PXRoaXMub3B0aW9ucy5yb290LHRoaXMuX3dhbnRzSGFzaENoYW5nZT10aGlzLm9wdGlvbnMuaGFzaENoYW5nZSE9PSExLHRoaXMuX3dhbnRzUHVzaFN0YXRlPSEhdGhpcy5vcHRpb25zLnB1c2hTdGF0ZSx0aGlzLl9oYXNQdXNoU3RhdGU9ISEodGhpcy5vcHRpb25zLnB1c2hTdGF0ZSYmdGhpcy5oaXN0b3J5JiZ0aGlzLmhpc3RvcnkucHVzaFN0YXRlKTt2YXIgZnJhZ21lbnQ9dGhpcy5nZXRGcmFnbWVudCgpLGRvY01vZGU9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLG9sZElFPWlzRXhwbG9yZXIuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpJiYoIWRvY01vZGV8fDc+PWRvY01vZGUpO2lmKHRoaXMucm9vdD0oIi8iK3RoaXMucm9vdCsiLyIpLnJlcGxhY2Uocm9vdFN0cmlwcGVyLCIvIiksb2xkSUUmJnRoaXMuX3dhbnRzSGFzaENoYW5nZSl7dmFyIGZyYW1lPUJhY2tib25lLiQoJzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OjAiIHRhYmluZGV4PSItMSI+Jyk7dGhpcy5pZnJhbWU9ZnJhbWUuaGlkZSgpLmFwcGVuZFRvKCJib2R5IilbMF0uY29udGVudFdpbmRvdyx0aGlzLm5hdmlnYXRlKGZyYWdtZW50KX10aGlzLl9oYXNQdXNoU3RhdGU/QmFja2JvbmUuJCh3aW5kb3cpLm9uKCJwb3BzdGF0ZSIsdGhpcy5jaGVja1VybCk6dGhpcy5fd2FudHNIYXNoQ2hhbmdlJiYib25oYXNoY2hhbmdlImluIHdpbmRvdyYmIW9sZElFP0JhY2tib25lLiQod2luZG93KS5vbigiaGFzaGNoYW5nZSIsdGhpcy5jaGVja1VybCk6dGhpcy5fd2FudHNIYXNoQ2hhbmdlJiYodGhpcy5fY2hlY2tVcmxJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLmNoZWNrVXJsLHRoaXMuaW50ZXJ2YWwpKSx0aGlzLmZyYWdtZW50PWZyYWdtZW50O3ZhciBsb2M9dGhpcy5sb2NhdGlvbjtpZih0aGlzLl93YW50c0hhc2hDaGFuZ2UmJnRoaXMuX3dhbnRzUHVzaFN0YXRlKXtpZighdGhpcy5faGFzUHVzaFN0YXRlJiYhdGhpcy5hdFJvb3QoKSlyZXR1cm4gdGhpcy5mcmFnbWVudD10aGlzLmdldEZyYWdtZW50KG51bGwsITApLHRoaXMubG9jYXRpb24ucmVwbGFjZSh0aGlzLnJvb3QrIiMiK3RoaXMuZnJhZ21lbnQpLCEwO3RoaXMuX2hhc1B1c2hTdGF0ZSYmdGhpcy5hdFJvb3QoKSYmbG9jLmhhc2gmJih0aGlzLmZyYWdtZW50PXRoaXMuZ2V0SGFzaCgpLnJlcGxhY2Uocm91dGVTdHJpcHBlciwiIiksdGhpcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSxkb2N1bWVudC50aXRsZSx0aGlzLnJvb3QrdGhpcy5mcmFnbWVudCkpfXJldHVybiB0aGlzLm9wdGlvbnMuc2lsZW50P3ZvaWQgMDp0aGlzLmxvYWRVcmwoKX0sc3RvcDpmdW5jdGlvbigpe0JhY2tib25lLiQod2luZG93KS5vZmYoInBvcHN0YXRlIix0aGlzLmNoZWNrVXJsKS5vZmYoImhhc2hjaGFuZ2UiLHRoaXMuY2hlY2tVcmwpLHRoaXMuX2NoZWNrVXJsSW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tVcmxJbnRlcnZhbCksSGlzdG9yeS5zdGFydGVkPSExfSxyb3V0ZTpmdW5jdGlvbihyb3V0ZSxjYWxsYmFjayl7dGhpcy5oYW5kbGVycy51bnNoaWZ0KHtyb3V0ZTpyb3V0ZSxjYWxsYmFjazpjYWxsYmFja30pfSxjaGVja1VybDpmdW5jdGlvbigpe3ZhciBjdXJyZW50PXRoaXMuZ2V0RnJhZ21lbnQoKTtyZXR1cm4gY3VycmVudD09PXRoaXMuZnJhZ21lbnQmJnRoaXMuaWZyYW1lJiYoY3VycmVudD10aGlzLmdldEZyYWdtZW50KHRoaXMuZ2V0SGFzaCh0aGlzLmlmcmFtZSkpKSxjdXJyZW50PT09dGhpcy5mcmFnbWVudD8hMToodGhpcy5pZnJhbWUmJnRoaXMubmF2aWdhdGUoY3VycmVudCksdm9pZCB0aGlzLmxvYWRVcmwoKSl9LGxvYWRVcmw6ZnVuY3Rpb24oZnJhZ21lbnQpe3JldHVybiBmcmFnbWVudD10aGlzLmZyYWdtZW50PXRoaXMuZ2V0RnJhZ21lbnQoZnJhZ21lbnQpLF8uYW55KHRoaXMuaGFuZGxlcnMsZnVuY3Rpb24oaGFuZGxlcil7cmV0dXJuIGhhbmRsZXIucm91dGUudGVzdChmcmFnbWVudCk/KGhhbmRsZXIuY2FsbGJhY2soZnJhZ21lbnQpLCEwKTp2b2lkIDB9KX0sbmF2aWdhdGU6ZnVuY3Rpb24oZnJhZ21lbnQsb3B0aW9ucyl7aWYoIUhpc3Rvcnkuc3RhcnRlZClyZXR1cm4hMTtvcHRpb25zJiZvcHRpb25zIT09ITB8fChvcHRpb25zPXt0cmlnZ2VyOiEhb3B0aW9uc30pO3ZhciB1cmw9dGhpcy5yb290KyhmcmFnbWVudD10aGlzLmdldEZyYWdtZW50KGZyYWdtZW50fHwiIikpO2lmKGZyYWdtZW50PWZyYWdtZW50LnJlcGxhY2UocGF0aFN0cmlwcGVyLCIiKSx0aGlzLmZyYWdtZW50IT09ZnJhZ21lbnQpe2lmKHRoaXMuZnJhZ21lbnQ9ZnJhZ21lbnQsIiI9PT1mcmFnbWVudCYmIi8iIT09dXJsJiYodXJsPXVybC5zbGljZSgwLC0xKSksdGhpcy5faGFzUHVzaFN0YXRlKXRoaXMuaGlzdG9yeVtvcHRpb25zLnJlcGxhY2U/InJlcGxhY2VTdGF0ZSI6InB1c2hTdGF0ZSJdKHt9LGRvY3VtZW50LnRpdGxlLHVybCk7ZWxzZXtpZighdGhpcy5fd2FudHNIYXNoQ2hhbmdlKXJldHVybiB0aGlzLmxvY2F0aW9uLmFzc2lnbih1cmwpO3RoaXMuX3VwZGF0ZUhhc2godGhpcy5sb2NhdGlvbixmcmFnbWVudCxvcHRpb25zLnJlcGxhY2UpLHRoaXMuaWZyYW1lJiZmcmFnbWVudCE9PXRoaXMuZ2V0RnJhZ21lbnQodGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lKSkmJihvcHRpb25zLnJlcGxhY2V8fHRoaXMuaWZyYW1lLmRvY3VtZW50Lm9wZW4oKS5jbG9zZSgpLHRoaXMuX3VwZGF0ZUhhc2godGhpcy5pZnJhbWUubG9jYXRpb24sZnJhZ21lbnQsb3B0aW9ucy5yZXBsYWNlKSl9cmV0dXJuIG9wdGlvbnMudHJpZ2dlcj90aGlzLmxvYWRVcmwoZnJhZ21lbnQpOnZvaWQgMH19LF91cGRhdGVIYXNoOmZ1bmN0aW9uKGxvY2F0aW9uLGZyYWdtZW50LHJlcGxhY2Upe2lmKHJlcGxhY2Upe3ZhciBocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKGphdmFzY3JpcHQ6fCMpLiokLywiIik7bG9jYXRpb24ucmVwbGFjZShocmVmKyIjIitmcmFnbWVudCl9ZWxzZSBsb2NhdGlvbi5oYXNoPSIjIitmcmFnbWVudH19KSxCYWNrYm9uZS5oaXN0b3J5PW5ldyBIaXN0b3J5O3ZhciBleHRlbmQ9ZnVuY3Rpb24ocHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7dmFyIGNoaWxkLHBhcmVudD10aGlzO2NoaWxkPXByb3RvUHJvcHMmJl8uaGFzKHByb3RvUHJvcHMsImNvbnN0cnVjdG9yIik/cHJvdG9Qcm9wcy5jb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3JldHVybiBwYXJlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfLmV4dGVuZChjaGlsZCxwYXJlbnQsc3RhdGljUHJvcHMpO3ZhciBTdXJyb2dhdGU9ZnVuY3Rpb24oKXt0aGlzLmNvbnN0cnVjdG9yPWNoaWxkfTtyZXR1cm4gU3Vycm9nYXRlLnByb3RvdHlwZT1wYXJlbnQucHJvdG90eXBlLGNoaWxkLnByb3RvdHlwZT1uZXcgU3Vycm9nYXRlLHByb3RvUHJvcHMmJl8uZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSxwcm90b1Byb3BzKSxjaGlsZC5fX3N1cGVyX189cGFyZW50LnByb3RvdHlwZSxjaGlsZH07TW9kZWwuZXh0ZW5kPUNvbGxlY3Rpb24uZXh0ZW5kPVJvdXRlci5leHRlbmQ9Vmlldy5leHRlbmQ9SGlzdG9yeS5leHRlbmQ9ZXh0ZW5kO3ZhciB1cmxFcnJvcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignQSAidXJsIiBwcm9wZXJ0eSBvciBmdW5jdGlvbiBtdXN0IGJlIHNwZWNpZmllZCcpfSx3cmFwRXJyb3I9ZnVuY3Rpb24obW9kZWwsb3B0aW9ucyl7dmFyIGVycm9yPW9wdGlvbnMuZXJyb3I7b3B0aW9ucy5lcnJvcj1mdW5jdGlvbihyZXNwKXtlcnJvciYmZXJyb3IobW9kZWwscmVzcCxvcHRpb25zKSxtb2RlbC50cmlnZ2VyKCJlcnJvciIsbW9kZWwscmVzcCxvcHRpb25zKX19O3JldHVybiBCYWNrYm9uZX0pLGZ1bmN0aW9uKHdpbmRvdywkKXsidXNlIHN0cmljdCI7dmFyIHRlc3ROYW1lLGRvY3VtZW50PXdpbmRvdy5kb2N1bWVudCxkb2NFbGVtPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxNb2Rlcm5penI9d2luZG93Lk1vZGVybml6cixjYXBpdGFsaXplPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStzdHIuc2xpY2UoMSl9LHByZWZpeGVzPSJNb3ogV2Via2l0IE8gTXMiLnNwbGl0KCIgIiksZ2V0U3R5bGVQcm9wZXJ0eT1mdW5jdGlvbihwcm9wTmFtZSl7dmFyIHByZWZpeGVkLHN0eWxlPWRvY0VsZW0uc3R5bGU7aWYoInN0cmluZyI9PXR5cGVvZiBzdHlsZVtwcm9wTmFtZV0pcmV0dXJuIHByb3BOYW1lO3Byb3BOYW1lPWNhcGl0YWxpemUocHJvcE5hbWUpO2Zvcih2YXIgaT0wLGxlbj1wcmVmaXhlcy5sZW5ndGg7bGVuPmk7aSsrKWlmKHByZWZpeGVkPXByZWZpeGVzW2ldK3Byb3BOYW1lLCJzdHJpbmciPT10eXBlb2Ygc3R5bGVbcHJlZml4ZWRdKXJldHVybiBwcmVmaXhlZH0sdHJhbnNmb3JtUHJvcD1nZXRTdHlsZVByb3BlcnR5KCJ0cmFuc2Zvcm0iKSx0cmFuc2l0aW9uUHJvcD1nZXRTdHlsZVByb3BlcnR5KCJ0cmFuc2l0aW9uUHJvcGVydHkiKSx0ZXN0cz17Y3NzdHJhbnNmb3JtczpmdW5jdGlvbigpe3JldHVybiEhdHJhbnNmb3JtUHJvcH0sY3NzdHJhbnNmb3JtczNkOmZ1bmN0aW9uKCl7dmFyIHRlc3Q9ISFnZXRTdHlsZVByb3BlcnR5KCJwZXJzcGVjdGl2ZSIpO2lmKHRlc3QmJiJ3ZWJraXRQZXJzcGVjdGl2ZSJpbiBkb2NFbGVtLnN0eWxlKXt2YXIgJHN0eWxlPSQoIjxzdHlsZT5AbWVkaWEgKHRyYW5zZm9ybS0zZCksKC13ZWJraXQtdHJhbnNmb3JtLTNkKXsjbW9kZXJuaXpye2hlaWdodDozcHh9fTwvc3R5bGU+IikuYXBwZW5kVG8oImhlYWQiKSwkZGl2PSQoJzxkaXYgaWQ9Im1vZGVybml6ciIgLz4nKS5hcHBlbmRUbygiaHRtbCIpO3Rlc3Q9Mz09PSRkaXYuaGVpZ2h0KCksJGRpdi5yZW1vdmUoKSwkc3R5bGUucmVtb3ZlKCl9cmV0dXJuIHRlc3R9LGNzc3RyYW5zaXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuISF0cmFuc2l0aW9uUHJvcH19O2lmKE1vZGVybml6cilmb3IodGVzdE5hbWUgaW4gdGVzdHMpTW9kZXJuaXpyLmhhc093blByb3BlcnR5KHRlc3ROYW1lKXx8TW9kZXJuaXpyLmFkZFRlc3QodGVzdE5hbWUsdGVzdHNbdGVzdE5hbWVdKTtlbHNle01vZGVybml6cj13aW5kb3cuTW9kZXJuaXpyPXtfdmVyc2lvbjoiMS42aXNoOiBtaW5pTW9kZXJuaXpyIGZvciBJc290b3BlIn07dmFyIHJlc3VsdCxjbGFzc2VzPSIgIjtmb3IodGVzdE5hbWUgaW4gdGVzdHMpcmVzdWx0PXRlc3RzW3Rlc3ROYW1lXSgpLE1vZGVybml6clt0ZXN0TmFtZV09cmVzdWx0LGNsYXNzZXMrPSIgIisocmVzdWx0PyIiOiJuby0iKSt0ZXN0TmFtZTskKCJodG1sIikuYWRkQ2xhc3MoY2xhc3Nlcyl9aWYoTW9kZXJuaXpyLmNzc3RyYW5zZm9ybXMpe3ZhciB0cmFuc2Zvcm1Gbk5vdGF0aW9ucz1Nb2Rlcm5penIuY3NzdHJhbnNmb3JtczNkP3t0cmFuc2xhdGU6ZnVuY3Rpb24ocG9zaXRpb24pe3JldHVybiJ0cmFuc2xhdGUzZCgiK3Bvc2l0aW9uWzBdKyJweCwgIitwb3NpdGlvblsxXSsicHgsIDApICJ9LHNjYWxlOmZ1bmN0aW9uKHNjYWxlKXtyZXR1cm4ic2NhbGUzZCgiK3NjYWxlKyIsICIrc2NhbGUrIiwgMSkgIn19Ont0cmFuc2xhdGU6ZnVuY3Rpb24ocG9zaXRpb24pe3JldHVybiJ0cmFuc2xhdGUoIitwb3NpdGlvblswXSsicHgsICIrcG9zaXRpb25bMV0rInB4KSAifSxzY2FsZTpmdW5jdGlvbihzY2FsZSl7cmV0dXJuInNjYWxlKCIrc2NhbGUrIikgIn19LHNldElzb1RyYW5zZm9ybT1mdW5jdGlvbihlbGVtLG5hbWUsdmFsdWUpe3ZhciBmbk5hbWUsdHJhbnNmb3JtVmFsdWUsZGF0YT0kLmRhdGEoZWxlbSwiaXNvVHJhbnNmb3JtIil8fHt9LG5ld0RhdGE9e30sdHJhbnNmb3JtT2JqPXt9O25ld0RhdGFbbmFtZV09dmFsdWUsJC5leHRlbmQoZGF0YSxuZXdEYXRhKTtmb3IoZm5OYW1lIGluIGRhdGEpdHJhbnNmb3JtVmFsdWU9ZGF0YVtmbk5hbWVdLHRyYW5zZm9ybU9ialtmbk5hbWVdPXRyYW5zZm9ybUZuTm90YXRpb25zW2ZuTmFtZV0odHJhbnNmb3JtVmFsdWUpO3ZhciB0cmFuc2xhdGVGbj10cmFuc2Zvcm1PYmoudHJhbnNsYXRlfHwiIixzY2FsZUZuPXRyYW5zZm9ybU9iai5zY2FsZXx8IiIsdmFsdWVGbnM9dHJhbnNsYXRlRm4rc2NhbGVGbjskLmRhdGEoZWxlbSwiaXNvVHJhbnNmb3JtIixkYXRhKSxlbGVtLnN0eWxlW3RyYW5zZm9ybVByb3BdPXZhbHVlRm5zfTskLmNzc051bWJlci5zY2FsZT0hMCwkLmNzc0hvb2tzLnNjYWxlPXtzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSl7c2V0SXNvVHJhbnNmb3JtKGVsZW0sInNjYWxlIix2YWx1ZSl9LGdldDpmdW5jdGlvbihlbGVtKXt2YXIgdHJhbnNmb3JtPSQuZGF0YShlbGVtLCJpc29UcmFuc2Zvcm0iKTtyZXR1cm4gdHJhbnNmb3JtJiZ0cmFuc2Zvcm0uc2NhbGU/dHJhbnNmb3JtLnNjYWxlOjF9fSwkLmZ4LnN0ZXAuc2NhbGU9ZnVuY3Rpb24oZngpeyQuY3NzSG9va3Muc2NhbGUuc2V0KGZ4LmVsZW0sZngubm93K2Z4LnVuaXQpfSwkLmNzc051bWJlci50cmFuc2xhdGU9ITAsJC5jc3NIb29rcy50cmFuc2xhdGU9e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtzZXRJc29UcmFuc2Zvcm0oZWxlbSwidHJhbnNsYXRlIix2YWx1ZSl9LGdldDpmdW5jdGlvbihlbGVtKXt2YXIgdHJhbnNmb3JtPSQuZGF0YShlbGVtLCJpc29UcmFuc2Zvcm0iKTtyZXR1cm4gdHJhbnNmb3JtJiZ0cmFuc2Zvcm0udHJhbnNsYXRlP3RyYW5zZm9ybS50cmFuc2xhdGU6WzAsMF19fX12YXIgdHJhbnNpdGlvbkVuZEV2ZW50LHRyYW5zaXRpb25EdXJQcm9wO01vZGVybml6ci5jc3N0cmFuc2l0aW9ucyYmKHRyYW5zaXRpb25FbmRFdmVudD17V2Via2l0VHJhbnNpdGlvblByb3BlcnR5OiJ3ZWJraXRUcmFuc2l0aW9uRW5kIixNb3pUcmFuc2l0aW9uUHJvcGVydHk6InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uUHJvcGVydHk6Im9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIix0cmFuc2l0aW9uUHJvcGVydHk6InRyYW5zaXRpb25lbmQifVt0cmFuc2l0aW9uUHJvcF0sdHJhbnNpdGlvbkR1clByb3A9Z2V0U3R5bGVQcm9wZXJ0eSgidHJhbnNpdGlvbkR1cmF0aW9uIikpO3ZhciByZXNpemVUaW1lb3V0LCRldmVudD0kLmV2ZW50LGRpc3BhdGNoTWV0aG9kPSQuZXZlbnQuaGFuZGxlPyJoYW5kbGUiOiJkaXNwYXRjaCI7JGV2ZW50LnNwZWNpYWwuc21hcnRyZXNpemU9e3NldHVwOmZ1bmN0aW9uKCl7JCh0aGlzKS5iaW5kKCJyZXNpemUiLCRldmVudC5zcGVjaWFsLnNtYXJ0cmVzaXplLmhhbmRsZXIpfSx0ZWFyZG93bjpmdW5jdGlvbigpeyQodGhpcykudW5iaW5kKCJyZXNpemUiLCRldmVudC5zcGVjaWFsLnNtYXJ0cmVzaXplLmhhbmRsZXIpfSxoYW5kbGVyOmZ1bmN0aW9uKGV2ZW50LGV4ZWNBc2FwKXt2YXIgY29udGV4dD10aGlzLGFyZ3M9YXJndW1lbnRzO2V2ZW50LnR5cGU9InNtYXJ0cmVzaXplIixyZXNpemVUaW1lb3V0JiZjbGVhclRpbWVvdXQocmVzaXplVGltZW91dCkscmVzaXplVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGV2ZW50W2Rpc3BhdGNoTWV0aG9kXS5hcHBseShjb250ZXh0LGFyZ3MpfSwiZXhlY0FzYXAiPT09ZXhlY0FzYXA/MDoxMDApfX0sJC5mbi5zbWFydHJlc2l6ZT1mdW5jdGlvbihmbil7cmV0dXJuIGZuP3RoaXMuYmluZCgic21hcnRyZXNpemUiLGZuKTp0aGlzLnRyaWdnZXIoInNtYXJ0cmVzaXplIixbImV4ZWNBc2FwIl0pfSwkLklzb3RvcGU9ZnVuY3Rpb24ob3B0aW9ucyxlbGVtZW50LGNhbGxiYWNrKXt0aGlzLmVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLl9jcmVhdGUob3B0aW9ucyksdGhpcy5faW5pdChjYWxsYmFjayl9O3ZhciBpc29Db250YWluZXJTdHlsZXM9WyJ3aWR0aCIsImhlaWdodCJdLCR3aW5kb3c9JCh3aW5kb3cpOyQuSXNvdG9wZS5zZXR0aW5ncz17cmVzaXphYmxlOiEwLGxheW91dE1vZGU6Im1hc29ucnkiLGNvbnRhaW5lckNsYXNzOiJpc290b3BlIixpdGVtQ2xhc3M6Imlzb3RvcGUtaXRlbSIsaGlkZGVuQ2xhc3M6Imlzb3RvcGUtaGlkZGVuIixoaWRkZW5TdHlsZTp7b3BhY2l0eTowLHNjYWxlOi4wMDF9LHZpc2libGVTdHlsZTp7b3BhY2l0eToxLHNjYWxlOjF9LGNvbnRhaW5lclN0eWxlOntwb3NpdGlvbjoicmVsYXRpdmUiLG92ZXJmbG93OiJoaWRkZW4ifSxhbmltYXRpb25FbmdpbmU6ImJlc3QtYXZhaWxhYmxlIixhbmltYXRpb25PcHRpb25zOntxdWV1ZTohMSxkdXJhdGlvbjo4MDB9LHNvcnRCeToib3JpZ2luYWwtb3JkZXIiLHNvcnRBc2NlbmRpbmc6ITAscmVzaXplc0NvbnRhaW5lcjohMCx0cmFuc2Zvcm1zRW5hYmxlZDohMCxpdGVtUG9zaXRpb25EYXRhRW5hYmxlZDohMX0sJC5Jc290b3BlLnByb3RvdHlwZT17X2NyZWF0ZTpmdW5jdGlvbihvcHRpb25zKXt0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sJC5Jc290b3BlLnNldHRpbmdzLG9wdGlvbnMpLHRoaXMuc3R5bGVRdWV1ZT1bXSx0aGlzLmVsZW1Db3VudD0wO3ZhciBlbGVtU3R5bGU9dGhpcy5lbGVtZW50WzBdLnN0eWxlO3RoaXMub3JpZ2luYWxTdHlsZT17fTt2YXIgY29udGFpbmVyU3R5bGVzPWlzb0NvbnRhaW5lclN0eWxlcy5zbGljZSgwKTtmb3IodmFyIHByb3AgaW4gdGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlKWNvbnRhaW5lclN0eWxlcy5wdXNoKHByb3ApO2Zvcih2YXIgaT0wLGxlbj1jb250YWluZXJTdHlsZXMubGVuZ3RoO2xlbj5pO2krKylwcm9wPWNvbnRhaW5lclN0eWxlc1tpXSx0aGlzLm9yaWdpbmFsU3R5bGVbcHJvcF09ZWxlbVN0eWxlW3Byb3BdfHwiIjt0aGlzLmVsZW1lbnQuY3NzKHRoaXMub3B0aW9ucy5jb250YWluZXJTdHlsZSksdGhpcy5fdXBkYXRlQW5pbWF0aW9uRW5naW5lKCksdGhpcy5fdXBkYXRlVXNpbmdUcmFuc2Zvcm1zKCk7dmFyIG9yaWdpbmFsT3JkZXJTb3J0ZXI9eyJvcmlnaW5hbC1vcmRlciI6ZnVuY3Rpb24oJGVsZW0saW5zdGFuY2Upe3JldHVybiBpbnN0YW5jZS5lbGVtQ291bnQrKyxpbnN0YW5jZS5lbGVtQ291bnR9LHJhbmRvbTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpfX07dGhpcy5vcHRpb25zLmdldFNvcnREYXRhPSQuZXh0ZW5kKHRoaXMub3B0aW9ucy5nZXRTb3J0RGF0YSxvcmlnaW5hbE9yZGVyU29ydGVyKSx0aGlzLnJlbG9hZEl0ZW1zKCksdGhpcy5vZmZzZXQ9e2xlZnQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygicGFkZGluZy1sZWZ0Iil8fDAsMTApLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIpfHwwLDEwKX07dmFyIGluc3RhbmNlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2luc3RhbmNlLmVsZW1lbnQuYWRkQ2xhc3MoaW5zdGFuY2Uub3B0aW9ucy5jb250YWluZXJDbGFzcyl9LDApLHRoaXMub3B0aW9ucy5yZXNpemFibGUmJiR3aW5kb3cuYmluZCgic21hcnRyZXNpemUuaXNvdG9wZSIsZnVuY3Rpb24oKXtpbnN0YW5jZS5yZXNpemUoKX0pLHRoaXMuZWxlbWVudC5kZWxlZ2F0ZSgiLiIrdGhpcy5vcHRpb25zLmhpZGRlbkNsYXNzLCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pfSxfZ2V0QXRvbXM6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgc2VsZWN0b3I9dGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvciwkYXRvbXM9c2VsZWN0b3I/JGVsZW1zLmZpbHRlcihzZWxlY3RvcikuYWRkKCRlbGVtcy5maW5kKHNlbGVjdG9yKSk6JGVsZW1zLGF0b21TdHlsZT17cG9zaXRpb246ImFic29sdXRlIn07cmV0dXJuICRhdG9tcz0kYXRvbXMuZmlsdGVyKGZ1bmN0aW9uKGksYXRvbSl7cmV0dXJuIDE9PT1hdG9tLm5vZGVUeXBlfSksdGhpcy51c2luZ1RyYW5zZm9ybXMmJihhdG9tU3R5bGUubGVmdD0wLGF0b21TdHlsZS50b3A9MCksJGF0b21zLmNzcyhhdG9tU3R5bGUpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5pdGVtQ2xhc3MpLHRoaXMudXBkYXRlU29ydERhdGEoJGF0b21zLCEwKSwkYXRvbXN9LF9pbml0OmZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLiRmaWx0ZXJlZEF0b21zPXRoaXMuX2ZpbHRlcih0aGlzLiRhbGxBdG9tcyksdGhpcy5fc29ydCgpLHRoaXMucmVMYXlvdXQoY2FsbGJhY2spfSxvcHRpb246ZnVuY3Rpb24ob3B0cyl7aWYoJC5pc1BsYWluT2JqZWN0KG9wdHMpKXt0aGlzLm9wdGlvbnM9JC5leHRlbmQoITAsdGhpcy5vcHRpb25zLG9wdHMpO3ZhciB1cGRhdGVPcHRpb25Gbjtmb3IodmFyIG9wdGlvbk5hbWUgaW4gb3B0cyl1cGRhdGVPcHRpb25Gbj0iX3VwZGF0ZSIrY2FwaXRhbGl6ZShvcHRpb25OYW1lKSx0aGlzW3VwZGF0ZU9wdGlvbkZuXSYmdGhpc1t1cGRhdGVPcHRpb25Gbl0oKX19LF91cGRhdGVBbmltYXRpb25FbmdpbmU6ZnVuY3Rpb24oKXt2YXIgaXNVc2luZ0pRdWVyeUFuaW1hdGlvbixhbmltYXRpb25FbmdpbmU9dGhpcy5vcHRpb25zLmFuaW1hdGlvbkVuZ2luZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1sgX1wtXS9nLCIiKTtzd2l0Y2goYW5pbWF0aW9uRW5naW5lKXtjYXNlImNzcyI6Y2FzZSJub25lIjppc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uPSExO2JyZWFrO2Nhc2UianF1ZXJ5Ijppc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uPSEwO2JyZWFrO2RlZmF1bHQ6aXNVc2luZ0pRdWVyeUFuaW1hdGlvbj0hTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zfXRoaXMuaXNVc2luZ0pRdWVyeUFuaW1hdGlvbj1pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uLHRoaXMuX3VwZGF0ZVVzaW5nVHJhbnNmb3JtcygpfSxfdXBkYXRlVHJhbnNmb3Jtc0VuYWJsZWQ6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVVc2luZ1RyYW5zZm9ybXMoKX0sX3VwZGF0ZVVzaW5nVHJhbnNmb3JtczpmdW5jdGlvbigpe3ZhciB1c2luZ1RyYW5zZm9ybXM9dGhpcy51c2luZ1RyYW5zZm9ybXM9dGhpcy5vcHRpb25zLnRyYW5zZm9ybXNFbmFibGVkJiZNb2Rlcm5penIuY3NzdHJhbnNmb3JtcyYmTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zJiYhdGhpcy5pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uO3VzaW5nVHJhbnNmb3Jtc3x8KGRlbGV0ZSB0aGlzLm9wdGlvbnMuaGlkZGVuU3R5bGUuc2NhbGUsZGVsZXRlIHRoaXMub3B0aW9ucy52aXNpYmxlU3R5bGUuc2NhbGUpLHRoaXMuZ2V0UG9zaXRpb25TdHlsZXM9dXNpbmdUcmFuc2Zvcm1zP3RoaXMuX3RyYW5zbGF0ZTp0aGlzLl9wb3NpdGlvbkFic30sX2ZpbHRlcjpmdW5jdGlvbigkYXRvbXMpe3ZhciBmaWx0ZXI9IiI9PT10aGlzLm9wdGlvbnMuZmlsdGVyPyIqIjp0aGlzLm9wdGlvbnMuZmlsdGVyO2lmKCFmaWx0ZXIpcmV0dXJuICRhdG9tczt2YXIgaGlkZGVuQ2xhc3M9dGhpcy5vcHRpb25zLmhpZGRlbkNsYXNzLGhpZGRlblNlbGVjdG9yPSIuIitoaWRkZW5DbGFzcywkaGlkZGVuQXRvbXM9JGF0b21zLmZpbHRlcihoaWRkZW5TZWxlY3RvciksJGF0b21zVG9TaG93PSRoaWRkZW5BdG9tcztpZigiKiIhPT1maWx0ZXIpeyRhdG9tc1RvU2hvdz0kaGlkZGVuQXRvbXMuZmlsdGVyKGZpbHRlcik7dmFyICRhdG9tc1RvSGlkZT0kYXRvbXMubm90KGhpZGRlblNlbGVjdG9yKS5ub3QoZmlsdGVyKS5hZGRDbGFzcyhoaWRkZW5DbGFzcyk7dGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDokYXRvbXNUb0hpZGUsc3R5bGU6dGhpcy5vcHRpb25zLmhpZGRlblN0eWxlfSl9cmV0dXJuIHRoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6JGF0b21zVG9TaG93LHN0eWxlOnRoaXMub3B0aW9ucy52aXNpYmxlU3R5bGV9KSwkYXRvbXNUb1Nob3cucmVtb3ZlQ2xhc3MoaGlkZGVuQ2xhc3MpLCRhdG9tcy5maWx0ZXIoZmlsdGVyKX0sdXBkYXRlU29ydERhdGE6ZnVuY3Rpb24oJGF0b21zLGlzSW5jcmVtZW50aW5nRWxlbUNvdW50KXt2YXIgJHRoaXMsc29ydERhdGEsaW5zdGFuY2U9dGhpcyxnZXRTb3J0RGF0YT10aGlzLm9wdGlvbnMuZ2V0U29ydERhdGE7JGF0b21zLmVhY2goZnVuY3Rpb24oKXskdGhpcz0kKHRoaXMpLHNvcnREYXRhPXt9O2Zvcih2YXIga2V5IGluIGdldFNvcnREYXRhKXNvcnREYXRhW2tleV09aXNJbmNyZW1lbnRpbmdFbGVtQ291bnR8fCJvcmlnaW5hbC1vcmRlciIhPT1rZXk/Z2V0U29ydERhdGFba2V5XSgkdGhpcyxpbnN0YW5jZSk6JC5kYXRhKHRoaXMsImlzb3RvcGUtc29ydC1kYXRhIilba2V5XTskLmRhdGEodGhpcywiaXNvdG9wZS1zb3J0LWRhdGEiLHNvcnREYXRhKX0pfSxfc29ydDpmdW5jdGlvbigpe3ZhciBzb3J0Qnk9dGhpcy5vcHRpb25zLnNvcnRCeSxnZXRTb3J0ZXI9dGhpcy5fZ2V0U29ydGVyLHNvcnREaXI9dGhpcy5vcHRpb25zLnNvcnRBc2NlbmRpbmc/MTotMSxzb3J0Rm49ZnVuY3Rpb24oYWxwaGEsYmV0YSl7dmFyIGE9Z2V0U29ydGVyKGFscGhhLHNvcnRCeSksYj1nZXRTb3J0ZXIoYmV0YSxzb3J0QnkpO3JldHVybiBhPT09YiYmIm9yaWdpbmFsLW9yZGVyIiE9PXNvcnRCeSYmKGE9Z2V0U29ydGVyKGFscGhhLCJvcmlnaW5hbC1vcmRlciIpLGI9Z2V0U29ydGVyKGJldGEsIm9yaWdpbmFsLW9yZGVyIikpLChhPmI/MTpiPmE/LTE6MCkqc29ydERpcn07dGhpcy4kZmlsdGVyZWRBdG9tcy5zb3J0KHNvcnRGbil9LF9nZXRTb3J0ZXI6ZnVuY3Rpb24oZWxlbSxzb3J0Qnkpe3JldHVybiAkLmRhdGEoZWxlbSwiaXNvdG9wZS1zb3J0LWRhdGEiKVtzb3J0QnldfSxfdHJhbnNsYXRlOmZ1bmN0aW9uKHgseSl7cmV0dXJue3RyYW5zbGF0ZTpbeCx5XX19LF9wb3NpdGlvbkFiczpmdW5jdGlvbih4LHkpe3JldHVybntsZWZ0OngsdG9wOnl9fSxfcHVzaFBvc2l0aW9uOmZ1bmN0aW9uKCRlbGVtLHgseSl7eD1NYXRoLnJvdW5kKHgrdGhpcy5vZmZzZXQubGVmdCkseT1NYXRoLnJvdW5kKHkrdGhpcy5vZmZzZXQudG9wKTt2YXIgcG9zaXRpb249dGhpcy5nZXRQb3NpdGlvblN0eWxlcyh4LHkpO3RoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6JGVsZW0sc3R5bGU6cG9zaXRpb259KSx0aGlzLm9wdGlvbnMuaXRlbVBvc2l0aW9uRGF0YUVuYWJsZWQmJiRlbGVtLmRhdGEoImlzb3RvcGUtaXRlbS1wb3NpdGlvbiIse3g6eCx5Onl9KX0sbGF5b3V0OmZ1bmN0aW9uKCRlbGVtcyxjYWxsYmFjayl7dmFyIGxheW91dE1vZGU9dGhpcy5vcHRpb25zLmxheW91dE1vZGU7aWYodGhpc1siXyIrbGF5b3V0TW9kZSsiTGF5b3V0Il0oJGVsZW1zKSx0aGlzLm9wdGlvbnMucmVzaXplc0NvbnRhaW5lcil7dmFyIGNvbnRhaW5lclN0eWxlPXRoaXNbIl8iK2xheW91dE1vZGUrIkdldENvbnRhaW5lclNpemUiXSgpO3RoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6dGhpcy5lbGVtZW50LHN0eWxlOmNvbnRhaW5lclN0eWxlfSl9dGhpcy5fcHJvY2Vzc1N0eWxlUXVldWUoJGVsZW1zLGNhbGxiYWNrKSx0aGlzLmlzTGFpZE91dD0hMH0sX3Byb2Nlc3NTdHlsZVF1ZXVlOmZ1bmN0aW9uKCRlbGVtcyxjYWxsYmFjayl7dmFyIG9ialN0eWxlRm4scHJvY2Vzc29yLHRyaWdnZXJDYWxsYmFja05vdyxjYWxsYmFja0ZuLHN0eWxlRm49dGhpcy5pc0xhaWRPdXQmJnRoaXMuaXNVc2luZ0pRdWVyeUFuaW1hdGlvbj8iYW5pbWF0ZSI6ImNzcyIsYW5pbU9wdHM9dGhpcy5vcHRpb25zLmFuaW1hdGlvbk9wdGlvbnMsb25MYXlvdXQ9dGhpcy5vcHRpb25zLm9uTGF5b3V0O2lmKHByb2Nlc3Nvcj1mdW5jdGlvbihpLG9iail7b2JqLiRlbFtzdHlsZUZuXShvYmouc3R5bGUsYW5pbU9wdHMpfSx0aGlzLl9pc0luc2VydGluZyYmdGhpcy5pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uKXByb2Nlc3Nvcj1mdW5jdGlvbihpLG9iail7b2JqU3R5bGVGbj1vYmouJGVsLmhhc0NsYXNzKCJuby10cmFuc2l0aW9uIik/ImNzcyI6c3R5bGVGbixvYmouJGVsW29ialN0eWxlRm5dKG9iai5zdHlsZSxhbmltT3B0cyl9O2Vsc2UgaWYoY2FsbGJhY2t8fG9uTGF5b3V0fHxhbmltT3B0cy5jb21wbGV0ZSl7dmFyIGlzQ2FsbGJhY2tUcmlnZ2VyZWQ9ITEsY2FsbGJhY2tzPVtjYWxsYmFjayxvbkxheW91dCxhbmltT3B0cy5jb21wbGV0ZV0saW5zdGFuY2U9dGhpcztpZih0cmlnZ2VyQ2FsbGJhY2tOb3c9ITAsY2FsbGJhY2tGbj1mdW5jdGlvbigpe2lmKCFpc0NhbGxiYWNrVHJpZ2dlcmVkKXtmb3IodmFyIGhvbGxhYmFjayxpPTAsbGVuPWNhbGxiYWNrcy5sZW5ndGg7bGVuPmk7aSsrKWhvbGxhYmFjaz1jYWxsYmFja3NbaV0sImZ1bmN0aW9uIj09dHlwZW9mIGhvbGxhYmFjayYmaG9sbGFiYWNrLmNhbGwoaW5zdGFuY2UuZWxlbWVudCwkZWxlbXMsaW5zdGFuY2UpO2lzQ2FsbGJhY2tUcmlnZ2VyZWQ9ITB9fSx0aGlzLmlzVXNpbmdKUXVlcnlBbmltYXRpb24mJiJhbmltYXRlIj09PXN0eWxlRm4pYW5pbU9wdHMuY29tcGxldGU9Y2FsbGJhY2tGbix0cmlnZ2VyQ2FsbGJhY2tOb3c9ITE7ZWxzZSBpZihNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpe2Zvcih2YXIgc3R5bGVPYmosaT0wLGZpcnN0SXRlbT10aGlzLnN0eWxlUXVldWVbMF0sdGVzdEVsZW09Zmlyc3RJdGVtJiZmaXJzdEl0ZW0uJGVsOyF0ZXN0RWxlbXx8IXRlc3RFbGVtLmxlbmd0aDspe2lmKHN0eWxlT2JqPXRoaXMuc3R5bGVRdWV1ZVtpKytdLCFzdHlsZU9iailyZXR1cm47dGVzdEVsZW09c3R5bGVPYmouJGVsfXZhciBkdXJhdGlvbj1wYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUodGVzdEVsZW1bMF0pW3RyYW5zaXRpb25EdXJQcm9wXSk7ZHVyYXRpb24+MCYmKHByb2Nlc3Nvcj1mdW5jdGlvbihpLG9iail7b2JqLiRlbFtzdHlsZUZuXShvYmouc3R5bGUsYW5pbU9wdHMpLm9uZSh0cmFuc2l0aW9uRW5kRXZlbnQsY2FsbGJhY2tGbil9LHRyaWdnZXJDYWxsYmFja05vdz0hMSl9fSQuZWFjaCh0aGlzLnN0eWxlUXVldWUscHJvY2Vzc29yKSx0cmlnZ2VyQ2FsbGJhY2tOb3cmJmNhbGxiYWNrRm4oKSx0aGlzLnN0eWxlUXVldWU9W119LHJlc2l6ZTpmdW5jdGlvbigpe3RoaXNbIl8iK3RoaXMub3B0aW9ucy5sYXlvdXRNb2RlKyJSZXNpemVDaGFuZ2VkIl0oKSYmdGhpcy5yZUxheW91dCgpfSxyZUxheW91dDpmdW5jdGlvbihjYWxsYmFjayl7dGhpc1siXyIrdGhpcy5vcHRpb25zLmxheW91dE1vZGUrIlJlc2V0Il0oKSx0aGlzLmxheW91dCh0aGlzLiRmaWx0ZXJlZEF0b21zLGNhbGxiYWNrKX0sYWRkSXRlbXM6ZnVuY3Rpb24oJGNvbnRlbnQsY2FsbGJhY2spe3ZhciAkbmV3QXRvbXM9dGhpcy5fZ2V0QXRvbXMoJGNvbnRlbnQpO3RoaXMuJGFsbEF0b21zPXRoaXMuJGFsbEF0b21zLmFkZCgkbmV3QXRvbXMpLGNhbGxiYWNrJiZjYWxsYmFjaygkbmV3QXRvbXMpfSxpbnNlcnQ6ZnVuY3Rpb24oJGNvbnRlbnQsY2FsbGJhY2spe3RoaXMuZWxlbWVudC5hcHBlbmQoJGNvbnRlbnQpO3ZhciBpbnN0YW5jZT10aGlzO3RoaXMuYWRkSXRlbXMoJGNvbnRlbnQsZnVuY3Rpb24oJG5ld0F0b21zKXt2YXIgJG5ld0ZpbHRlcmVkQXRvbXM9aW5zdGFuY2UuX2ZpbHRlcigkbmV3QXRvbXMpO2luc3RhbmNlLl9hZGRIaWRlQXBwZW5kZWQoJG5ld0ZpbHRlcmVkQXRvbXMpLGluc3RhbmNlLl9zb3J0KCksaW5zdGFuY2UucmVMYXlvdXQoKSxpbnN0YW5jZS5fcmV2ZWFsQXBwZW5kZWQoJG5ld0ZpbHRlcmVkQXRvbXMsY2FsbGJhY2spfSl9LGFwcGVuZGVkOmZ1bmN0aW9uKCRjb250ZW50LGNhbGxiYWNrKXt2YXIgaW5zdGFuY2U9dGhpczt0aGlzLmFkZEl0ZW1zKCRjb250ZW50LGZ1bmN0aW9uKCRuZXdBdG9tcyl7aW5zdGFuY2UuX2FkZEhpZGVBcHBlbmRlZCgkbmV3QXRvbXMpLGluc3RhbmNlLmxheW91dCgkbmV3QXRvbXMpLGluc3RhbmNlLl9yZXZlYWxBcHBlbmRlZCgkbmV3QXRvbXMsY2FsbGJhY2spfSl9LF9hZGRIaWRlQXBwZW5kZWQ6ZnVuY3Rpb24oJG5ld0F0b21zKXt0aGlzLiRmaWx0ZXJlZEF0b21zPXRoaXMuJGZpbHRlcmVkQXRvbXMuYWRkKCRuZXdBdG9tcyksJG5ld0F0b21zLmFkZENsYXNzKCJuby10cmFuc2l0aW9uIiksdGhpcy5faXNJbnNlcnRpbmc9ITAsdGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDokbmV3QXRvbXMsc3R5bGU6dGhpcy5vcHRpb25zLmhpZGRlblN0eWxlfSl9LF9yZXZlYWxBcHBlbmRlZDpmdW5jdGlvbigkbmV3QXRvbXMsY2FsbGJhY2spe3ZhciBpbnN0YW5jZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXskbmV3QXRvbXMucmVtb3ZlQ2xhc3MoIm5vLXRyYW5zaXRpb24iKSxpbnN0YW5jZS5zdHlsZVF1ZXVlLnB1c2goeyRlbDokbmV3QXRvbXMsc3R5bGU6aW5zdGFuY2Uub3B0aW9ucy52aXNpYmxlU3R5bGV9KSxpbnN0YW5jZS5faXNJbnNlcnRpbmc9ITEsaW5zdGFuY2UuX3Byb2Nlc3NTdHlsZVF1ZXVlKCRuZXdBdG9tcyxjYWxsYmFjayl9LDEwKX0scmVsb2FkSXRlbXM6ZnVuY3Rpb24oKXt0aGlzLiRhbGxBdG9tcz10aGlzLl9nZXRBdG9tcyh0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSl9LHJlbW92ZTpmdW5jdGlvbigkY29udGVudCxjYWxsYmFjayl7dGhpcy4kYWxsQXRvbXM9dGhpcy4kYWxsQXRvbXMubm90KCRjb250ZW50KSx0aGlzLiRmaWx0ZXJlZEF0b21zPXRoaXMuJGZpbHRlcmVkQXRvbXMubm90KCRjb250ZW50KTt2YXIgaW5zdGFuY2U9dGhpcyxyZW1vdmVDb250ZW50PWZ1bmN0aW9uKCl7JGNvbnRlbnQucmVtb3ZlKCksY2FsbGJhY2smJmNhbGxiYWNrLmNhbGwoaW5zdGFuY2UuZWxlbWVudCl9OyRjb250ZW50LmZpbHRlcigiOm5vdCguIit0aGlzLm9wdGlvbnMuaGlkZGVuQ2xhc3MrIikiKS5sZW5ndGg/KHRoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6JGNvbnRlbnQsc3R5bGU6dGhpcy5vcHRpb25zLmhpZGRlblN0eWxlfSksdGhpcy5fc29ydCgpLHRoaXMucmVMYXlvdXQocmVtb3ZlQ29udGVudCkpOnJlbW92ZUNvbnRlbnQoKX0sc2h1ZmZsZTpmdW5jdGlvbihjYWxsYmFjayl7dGhpcy51cGRhdGVTb3J0RGF0YSh0aGlzLiRhbGxBdG9tcyksdGhpcy5vcHRpb25zLnNvcnRCeT0icmFuZG9tIix0aGlzLl9zb3J0KCksdGhpcy5yZUxheW91dChjYWxsYmFjayl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdXNpbmdUcmFuc2Zvcm1zPXRoaXMudXNpbmdUcmFuc2Zvcm1zLG9wdGlvbnM9dGhpcy5vcHRpb25zO3RoaXMuJGFsbEF0b21zLnJlbW92ZUNsYXNzKG9wdGlvbnMuaGlkZGVuQ2xhc3MrIiAiK29wdGlvbnMuaXRlbUNsYXNzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHN0eWxlPXRoaXMuc3R5bGU7c3R5bGUucG9zaXRpb249IiIsc3R5bGUudG9wPSIiLHN0eWxlLmxlZnQ9IiIsc3R5bGUub3BhY2l0eT0iIix1c2luZ1RyYW5zZm9ybXMmJihzdHlsZVt0cmFuc2Zvcm1Qcm9wXT0iIil9KTt2YXIgZWxlbVN0eWxlPXRoaXMuZWxlbWVudFswXS5zdHlsZTtmb3IodmFyIHByb3AgaW4gdGhpcy5vcmlnaW5hbFN0eWxlKWVsZW1TdHlsZVtwcm9wXT10aGlzLm9yaWdpbmFsU3R5bGVbcHJvcF07dGhpcy5lbGVtZW50LnVuYmluZCgiLmlzb3RvcGUiKS51bmRlbGVnYXRlKCIuIitvcHRpb25zLmhpZGRlbkNsYXNzLCJjbGljayIpLnJlbW92ZUNsYXNzKG9wdGlvbnMuY29udGFpbmVyQ2xhc3MpLnJlbW92ZURhdGEoImlzb3RvcGUiKSwkd2luZG93LnVuYmluZCgiLmlzb3RvcGUiKX0sX2dldFNlZ21lbnRzOmZ1bmN0aW9uKGlzUm93cyl7dmFyIHNlZ21lbnRzLG5hbWVzcGFjZT10aGlzLm9wdGlvbnMubGF5b3V0TW9kZSxtZWFzdXJlPWlzUm93cz8icm93SGVpZ2h0IjoiY29sdW1uV2lkdGgiLHNpemU9aXNSb3dzPyJoZWlnaHQiOiJ3aWR0aCIsc2VnbWVudHNOYW1lPWlzUm93cz8icm93cyI6ImNvbHMiLGNvbnRhaW5lclNpemU9dGhpcy5lbGVtZW50W3NpemVdKCksc2VnbWVudFNpemU9dGhpcy5vcHRpb25zW25hbWVzcGFjZV0mJnRoaXMub3B0aW9uc1tuYW1lc3BhY2VdW21lYXN1cmVdfHx0aGlzLiRmaWx0ZXJlZEF0b21zWyJvdXRlciIrY2FwaXRhbGl6ZShzaXplKV0oITApfHxjb250YWluZXJTaXplO3NlZ21lbnRzPU1hdGguZmxvb3IoY29udGFpbmVyU2l6ZS9zZWdtZW50U2l6ZSksc2VnbWVudHM9TWF0aC5tYXgoc2VnbWVudHMsMSksdGhpc1tuYW1lc3BhY2VdW3NlZ21lbnRzTmFtZV09c2VnbWVudHMsdGhpc1tuYW1lc3BhY2VdW21lYXN1cmVdPXNlZ21lbnRTaXplfSxfY2hlY2tJZlNlZ21lbnRzQ2hhbmdlZDpmdW5jdGlvbihpc1Jvd3Mpe3ZhciBuYW1lc3BhY2U9dGhpcy5vcHRpb25zLmxheW91dE1vZGUsc2VnbWVudHNOYW1lPWlzUm93cz8icm93cyI6ImNvbHMiLHByZXZTZWdtZW50cz10aGlzW25hbWVzcGFjZV1bc2VnbWVudHNOYW1lXTtyZXR1cm4gdGhpcy5fZ2V0U2VnbWVudHMoaXNSb3dzKSx0aGlzW25hbWVzcGFjZV1bc2VnbWVudHNOYW1lXSE9PXByZXZTZWdtZW50c30sX21hc29ucnlSZXNldDpmdW5jdGlvbigpe3RoaXMubWFzb25yeT17fSx0aGlzLl9nZXRTZWdtZW50cygpO3ZhciBpPXRoaXMubWFzb25yeS5jb2xzO2Zvcih0aGlzLm1hc29ucnkuY29sWXM9W107aS0tOyl0aGlzLm1hc29ucnkuY29sWXMucHVzaCgwKX0sX21hc29ucnlMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxwcm9wcz1pbnN0YW5jZS5tYXNvbnJ5OyRlbGVtcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksY29sU3Bhbj1NYXRoLmNlaWwoJHRoaXMub3V0ZXJXaWR0aCghMCkvcHJvcHMuY29sdW1uV2lkdGgpO2lmKGNvbFNwYW49TWF0aC5taW4oY29sU3Bhbixwcm9wcy5jb2xzKSwxPT09Y29sU3BhbilpbnN0YW5jZS5fbWFzb25yeVBsYWNlQnJpY2soJHRoaXMscHJvcHMuY29sWXMpO2Vsc2V7dmFyIGdyb3VwQ29sWSxpLGdyb3VwQ291bnQ9cHJvcHMuY29scysxLWNvbFNwYW4sZ3JvdXBZPVtdO2ZvcihpPTA7Z3JvdXBDb3VudD5pO2krKylncm91cENvbFk9cHJvcHMuY29sWXMuc2xpY2UoaSxpK2NvbFNwYW4pLGdyb3VwWVtpXT1NYXRoLm1heC5hcHBseShNYXRoLGdyb3VwQ29sWSk7aW5zdGFuY2UuX21hc29ucnlQbGFjZUJyaWNrKCR0aGlzLGdyb3VwWSl9fSl9LF9tYXNvbnJ5UGxhY2VCcmljazpmdW5jdGlvbigkYnJpY2ssc2V0WSl7Zm9yKHZhciBtaW5pbXVtWT1NYXRoLm1pbi5hcHBseShNYXRoLHNldFkpLHNob3J0Q29sPTAsaT0wLGxlbj1zZXRZLmxlbmd0aDtsZW4+aTtpKyspaWYoc2V0WVtpXT09PW1pbmltdW1ZKXtzaG9ydENvbD1pO2JyZWFrfXZhciB4PXRoaXMubWFzb25yeS5jb2x1bW5XaWR0aCpzaG9ydENvbCx5PW1pbmltdW1ZO3RoaXMuX3B1c2hQb3NpdGlvbigkYnJpY2sseCx5KTt2YXIgc2V0SGVpZ2h0PW1pbmltdW1ZKyRicmljay5vdXRlckhlaWdodCghMCksc2V0U3Bhbj10aGlzLm1hc29ucnkuY29scysxLWxlbjtmb3IoaT0wO3NldFNwYW4+aTtpKyspdGhpcy5tYXNvbnJ5LmNvbFlzW3Nob3J0Q29sK2ldPXNldEhlaWdodH0sX21hc29ucnlHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7dmFyIGNvbnRhaW5lckhlaWdodD1NYXRoLm1heC5hcHBseShNYXRoLHRoaXMubWFzb25yeS5jb2xZcyk7cmV0dXJue2hlaWdodDpjb250YWluZXJIZWlnaHR9fSxfbWFzb25yeVJlc2l6ZUNoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tJZlNlZ21lbnRzQ2hhbmdlZCgpfSxfZml0Um93c1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5maXRSb3dzPXt4OjAseTowLGhlaWdodDowfX0sX2ZpdFJvd3NMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxjb250YWluZXJXaWR0aD10aGlzLmVsZW1lbnQud2lkdGgoKSxwcm9wcz10aGlzLmZpdFJvd3M7JGVsZW1zLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxhdG9tVz0kdGhpcy5vdXRlcldpZHRoKCEwKSxhdG9tSD0kdGhpcy5vdXRlckhlaWdodCghMCk7MCE9PXByb3BzLngmJmF0b21XK3Byb3BzLng+Y29udGFpbmVyV2lkdGgmJihwcm9wcy54PTAscHJvcHMueT1wcm9wcy5oZWlnaHQpLGluc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMscHJvcHMueCxwcm9wcy55KSxwcm9wcy5oZWlnaHQ9TWF0aC5tYXgocHJvcHMueSthdG9tSCxwcm9wcy5oZWlnaHQpLHByb3BzLngrPWF0b21XfSl9LF9maXRSb3dzR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybntoZWlnaHQ6dGhpcy5maXRSb3dzLmhlaWdodH19LF9maXRSb3dzUmVzaXplQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiEwfSxfY2VsbHNCeVJvd1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5jZWxsc0J5Um93PXtpbmRleDowfSx0aGlzLl9nZXRTZWdtZW50cygpLHRoaXMuX2dldFNlZ21lbnRzKCEwKX0sX2NlbGxzQnlSb3dMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxwcm9wcz10aGlzLmNlbGxzQnlSb3c7JGVsZW1zLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxjb2w9cHJvcHMuaW5kZXglcHJvcHMuY29scyxyb3c9TWF0aC5mbG9vcihwcm9wcy5pbmRleC9wcm9wcy5jb2xzKSx4PShjb2wrLjUpKnByb3BzLmNvbHVtbldpZHRoLSR0aGlzLm91dGVyV2lkdGgoITApLzIseT0ocm93Ky41KSpwcm9wcy5yb3dIZWlnaHQtJHRoaXMub3V0ZXJIZWlnaHQoITApLzI7aW5zdGFuY2UuX3B1c2hQb3NpdGlvbigkdGhpcyx4LHkpLHByb3BzLmluZGV4Kyt9KX0sX2NlbGxzQnlSb3dHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7cmV0dXJue2hlaWdodDpNYXRoLmNlaWwodGhpcy4kZmlsdGVyZWRBdG9tcy5sZW5ndGgvdGhpcy5jZWxsc0J5Um93LmNvbHMpKnRoaXMuY2VsbHNCeVJvdy5yb3dIZWlnaHQrdGhpcy5vZmZzZXQudG9wfX0sX2NlbGxzQnlSb3dSZXNpemVDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrSWZTZWdtZW50c0NoYW5nZWQoKX0sX3N0cmFpZ2h0RG93blJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zdHJhaWdodERvd249e3k6MH19LF9zdHJhaWdodERvd25MYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpczskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpO2luc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMsMCxpbnN0YW5jZS5zdHJhaWdodERvd24ueSksaW5zdGFuY2Uuc3RyYWlnaHREb3duLnkrPSR0aGlzLm91dGVySGVpZ2h0KCEwKX0pfSxfc3RyYWlnaHREb3duR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybntoZWlnaHQ6dGhpcy5zdHJhaWdodERvd24ueX19LF9zdHJhaWdodERvd25SZXNpemVDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9tYXNvbnJ5SG9yaXpvbnRhbFJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5tYXNvbnJ5SG9yaXpvbnRhbD17fSx0aGlzLl9nZXRTZWdtZW50cyghMCk7dmFyIGk9dGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dzO2Zvcih0aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd1hzPVtdO2ktLTspdGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dYcy5wdXNoKDApfSxfbWFzb25yeUhvcml6b250YWxMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxwcm9wcz1pbnN0YW5jZS5tYXNvbnJ5SG9yaXpvbnRhbDskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLHJvd1NwYW49TWF0aC5jZWlsKCR0aGlzLm91dGVySGVpZ2h0KCEwKS9wcm9wcy5yb3dIZWlnaHQpO2lmKHJvd1NwYW49TWF0aC5taW4ocm93U3Bhbixwcm9wcy5yb3dzKSwxPT09cm93U3BhbilpbnN0YW5jZS5fbWFzb25yeUhvcml6b250YWxQbGFjZUJyaWNrKCR0aGlzLHByb3BzLnJvd1hzKTtlbHNle3ZhciBncm91cFJvd1gsaSxncm91cENvdW50PXByb3BzLnJvd3MrMS1yb3dTcGFuLGdyb3VwWD1bXTtmb3IoaT0wO2dyb3VwQ291bnQ+aTtpKyspZ3JvdXBSb3dYPXByb3BzLnJvd1hzLnNsaWNlKGksaStyb3dTcGFuKSxncm91cFhbaV09TWF0aC5tYXguYXBwbHkoTWF0aCxncm91cFJvd1gpO2luc3RhbmNlLl9tYXNvbnJ5SG9yaXpvbnRhbFBsYWNlQnJpY2soJHRoaXMsZ3JvdXBYKX19KX0sX21hc29ucnlIb3Jpem9udGFsUGxhY2VCcmljazpmdW5jdGlvbigkYnJpY2ssc2V0WCl7Zm9yKHZhciBtaW5pbXVtWD1NYXRoLm1pbi5hcHBseShNYXRoLHNldFgpLHNtYWxsUm93PTAsaT0wLGxlbj1zZXRYLmxlbmd0aDtsZW4+aTtpKyspaWYoc2V0WFtpXT09PW1pbmltdW1YKXtzbWFsbFJvdz1pO2JyZWFrfXZhciB4PW1pbmltdW1YLHk9dGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dIZWlnaHQqc21hbGxSb3c7dGhpcy5fcHVzaFBvc2l0aW9uKCRicmljayx4LHkpO3ZhciBzZXRXaWR0aD1taW5pbXVtWCskYnJpY2sub3V0ZXJXaWR0aCghMCksc2V0U3Bhbj10aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd3MrMS1sZW47CmZvcihpPTA7c2V0U3Bhbj5pO2krKyl0aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd1hzW3NtYWxsUm93K2ldPXNldFdpZHRofSxfbWFzb25yeUhvcml6b250YWxHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7dmFyIGNvbnRhaW5lcldpZHRoPU1hdGgubWF4LmFwcGx5KE1hdGgsdGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dYcyk7cmV0dXJue3dpZHRoOmNvbnRhaW5lcldpZHRofX0sX21hc29ucnlIb3Jpem9udGFsUmVzaXplQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0lmU2VnbWVudHNDaGFuZ2VkKCEwKX0sX2ZpdENvbHVtbnNSZXNldDpmdW5jdGlvbigpe3RoaXMuZml0Q29sdW1ucz17eDowLHk6MCx3aWR0aDowfX0sX2ZpdENvbHVtbnNMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxjb250YWluZXJIZWlnaHQ9dGhpcy5lbGVtZW50LmhlaWdodCgpLHByb3BzPXRoaXMuZml0Q29sdW1uczskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGF0b21XPSR0aGlzLm91dGVyV2lkdGgoITApLGF0b21IPSR0aGlzLm91dGVySGVpZ2h0KCEwKTswIT09cHJvcHMueSYmYXRvbUgrcHJvcHMueT5jb250YWluZXJIZWlnaHQmJihwcm9wcy54PXByb3BzLndpZHRoLHByb3BzLnk9MCksaW5zdGFuY2UuX3B1c2hQb3NpdGlvbigkdGhpcyxwcm9wcy54LHByb3BzLnkpLHByb3BzLndpZHRoPU1hdGgubWF4KHByb3BzLngrYXRvbVcscHJvcHMud2lkdGgpLHByb3BzLnkrPWF0b21IfSl9LF9maXRDb2x1bW5zR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDp0aGlzLmZpdENvbHVtbnMud2lkdGh9fSxfZml0Q29sdW1uc1Jlc2l6ZUNoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX2NlbGxzQnlDb2x1bW5SZXNldDpmdW5jdGlvbigpe3RoaXMuY2VsbHNCeUNvbHVtbj17aW5kZXg6MH0sdGhpcy5fZ2V0U2VnbWVudHMoKSx0aGlzLl9nZXRTZWdtZW50cyghMCl9LF9jZWxsc0J5Q29sdW1uTGF5b3V0OmZ1bmN0aW9uKCRlbGVtcyl7dmFyIGluc3RhbmNlPXRoaXMscHJvcHM9dGhpcy5jZWxsc0J5Q29sdW1uOyRlbGVtcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksY29sPU1hdGguZmxvb3IocHJvcHMuaW5kZXgvcHJvcHMucm93cykscm93PXByb3BzLmluZGV4JXByb3BzLnJvd3MseD0oY29sKy41KSpwcm9wcy5jb2x1bW5XaWR0aC0kdGhpcy5vdXRlcldpZHRoKCEwKS8yLHk9KHJvdysuNSkqcHJvcHMucm93SGVpZ2h0LSR0aGlzLm91dGVySGVpZ2h0KCEwKS8yO2luc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMseCx5KSxwcm9wcy5pbmRleCsrfSl9LF9jZWxsc0J5Q29sdW1uR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDpNYXRoLmNlaWwodGhpcy4kZmlsdGVyZWRBdG9tcy5sZW5ndGgvdGhpcy5jZWxsc0J5Q29sdW1uLnJvd3MpKnRoaXMuY2VsbHNCeUNvbHVtbi5jb2x1bW5XaWR0aH19LF9jZWxsc0J5Q29sdW1uUmVzaXplQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0lmU2VnbWVudHNDaGFuZ2VkKCEwKX0sX3N0cmFpZ2h0QWNyb3NzUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmFpZ2h0QWNyb3NzPXt4OjB9fSxfc3RyYWlnaHRBY3Jvc3NMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpczskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpO2luc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMsaW5zdGFuY2Uuc3RyYWlnaHRBY3Jvc3MueCwwKSxpbnN0YW5jZS5zdHJhaWdodEFjcm9zcy54Kz0kdGhpcy5vdXRlcldpZHRoKCEwKX0pfSxfc3RyYWlnaHRBY3Jvc3NHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOnRoaXMuc3RyYWlnaHRBY3Jvc3MueH19LF9zdHJhaWdodEFjcm9zc1Jlc2l6ZUNoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LCQuZm4uaW1hZ2VzTG9hZGVkPWZ1bmN0aW9uKGNhbGxiYWNrKXtmdW5jdGlvbiB0cmlnZ2VyQ2FsbGJhY2soKXtjYWxsYmFjay5jYWxsKCR0aGlzLCRpbWFnZXMpfWZ1bmN0aW9uIGltZ0xvYWRlZChldmVudCl7dmFyIGltZz1ldmVudC50YXJnZXQ7aW1nLnNyYyE9PWJsYW5rJiYtMT09PSQuaW5BcnJheShpbWcsbG9hZGVkKSYmKGxvYWRlZC5wdXNoKGltZyksLS1sZW48PTAmJihzZXRUaW1lb3V0KHRyaWdnZXJDYWxsYmFjayksJGltYWdlcy51bmJpbmQoIi5pbWFnZXNMb2FkZWQiLGltZ0xvYWRlZCkpKX12YXIgJHRoaXM9dGhpcywkaW1hZ2VzPSR0aGlzLmZpbmQoImltZyIpLmFkZCgkdGhpcy5maWx0ZXIoImltZyIpKSxsZW49JGltYWdlcy5sZW5ndGgsYmxhbms9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0iLGxvYWRlZD1bXTtyZXR1cm4gbGVufHx0cmlnZ2VyQ2FsbGJhY2soKSwkaW1hZ2VzLmJpbmQoImxvYWQuaW1hZ2VzTG9hZGVkIGVycm9yLmltYWdlc0xvYWRlZCIsaW1nTG9hZGVkKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHNyYz10aGlzLnNyYzt0aGlzLnNyYz1ibGFuayx0aGlzLnNyYz1zcmN9KSwkdGhpc307dmFyIGxvZ0Vycm9yPWZ1bmN0aW9uKG1lc3NhZ2Upe3dpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5lcnJvcihtZXNzYWdlKX07JC5mbi5pc290b3BlPWZ1bmN0aW9uKG9wdGlvbnMsY2FsbGJhY2spe2lmKCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucyl7dmFyIGFyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpbnN0YW5jZT0kLmRhdGEodGhpcywiaXNvdG9wZSIpO3JldHVybiBpbnN0YW5jZT8kLmlzRnVuY3Rpb24oaW5zdGFuY2Vbb3B0aW9uc10pJiYiXyIhPT1vcHRpb25zLmNoYXJBdCgwKT92b2lkIGluc3RhbmNlW29wdGlvbnNdLmFwcGx5KGluc3RhbmNlLGFyZ3MpOnZvaWQgbG9nRXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK29wdGlvbnMrIicgZm9yIGlzb3RvcGUgaW5zdGFuY2UiKTp2b2lkIGxvZ0Vycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIGlzb3RvcGUgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitvcHRpb25zKyInIil9KX1lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpbnN0YW5jZT0kLmRhdGEodGhpcywiaXNvdG9wZSIpO2luc3RhbmNlPyhpbnN0YW5jZS5vcHRpb24ob3B0aW9ucyksaW5zdGFuY2UuX2luaXQoY2FsbGJhY2spKTokLmRhdGEodGhpcywiaXNvdG9wZSIsbmV3ICQuSXNvdG9wZShvcHRpb25zLHRoaXMsY2FsbGJhY2spKX0pO3JldHVybiB0aGlzfX0od2luZG93LGpRdWVyeSksZnVuY3Rpb24ocm9vdCl7ZnVuY3Rpb24gbm9ybWFsaXplKHZhbCxzaW5nbGUpe3ZhciBtYXJnaW49LjE7cmV0dXJuIHZhbD49c2luZ2xlJiZzaW5nbGUqKDErbWFyZ2luKT49dmFsP3NpbmdsZTp2YWx9dmFyIGxhbmc9e2FnbzoiQWdvIixmcm9tOiIiLG5vdzoiSnVzdCBOb3ciLG1pbnV0ZToiTWludXRlIixtaW51dGVzOiJNaW51dGVzIixob3VyOiJIb3VyIixob3VyczoiSG91cnMiLGRheToiRGF5IixkYXlzOiJEYXlzIix3ZWVrOiJXZWVrIix3ZWVrczoiV2Vla3MiLG1vbnRoOiJNb250aCIsbW9udGhzOiJNb250aHMiLHllYXI6IlllYXIiLHllYXJzOiJZZWFycyJ9LGZvcm1hdHM9W1s2MCxsYW5nLm5vd10sWzM2MDAsbGFuZy5taW51dGUsbGFuZy5taW51dGVzLDYwXSxbODY0MDAsbGFuZy5ob3VyLGxhbmcuaG91cnMsMzYwMF0sWzYwNDgwMCxsYW5nLmRheSxsYW5nLmRheXMsODY0MDBdLFsyNjI4ZTMsbGFuZy53ZWVrLGxhbmcud2Vla3MsNjA0ODAwXSxbMzE1MzZlMyxsYW5nLm1vbnRoLGxhbmcubW9udGhzLDI2MjhlM10sWzEvMCxsYW5nLnllYXIsbGFuZy55ZWFycywzMTUzNmUzXV07cm9vdC5odW1hbmVEYXRlPWZ1bmN0aW9uKGRhdGUsY29tcGFyZVRvKXtpZihkYXRlKXt2YXIgdG9rZW4saXNTdHJpbmc9InN0cmluZyI9PXR5cGVvZiBkYXRlLGRhdGU9aXNTdHJpbmc/bmV3IERhdGUoKCIiK2RhdGUpLnJlcGxhY2UoLy0vZywiLyIpLnJlcGxhY2UoL1R8KD86XC5cZCspP1ovZywiICIpKTpkYXRlLGNvbXBhcmVUbz1jb21wYXJlVG98fG5ldyBEYXRlLHNlY29uZHM9KGNvbXBhcmVUby1kYXRlKzZlNCooY29tcGFyZVRvLmdldFRpbWV6b25lT2Zmc2V0KCktKGlzU3RyaW5nPzA6ZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKSkpLzFlMzswPnNlY29uZHM/KHNlY29uZHM9TWF0aC5hYnMoc2Vjb25kcyksdG9rZW49bGFuZy5mcm9tPyIgIitsYW5nLmZyb206IiIpOnRva2VuPWxhbmcuYWdvPyIgIitsYW5nLmFnbzoiIjtmb3IodmFyIGk9MCxmb3JtYXQ9Zm9ybWF0c1swXTtmb3JtYXRzW2ldO2Zvcm1hdD1mb3JtYXRzWysraV0paWYoc2Vjb25kczxmb3JtYXRbMF0pe2lmKDA9PT1pKXJldHVybiBmb3JtYXRbMV07dmFyIHZhbD1NYXRoLmNlaWwobm9ybWFsaXplKHNlY29uZHMsZm9ybWF0WzNdKS9mb3JtYXRbM10pO3JldHVybiB2YWwrIiAiKygxIT12YWw/Zm9ybWF0WzJdOmZvcm1hdFsxXSkrKGk+MD90b2tlbjoiIil9fX0sInVuZGVmaW5lZCIhPXR5cGVvZiBqUXVlcnkmJihqUXVlcnkuZm4uaHVtYW5lRGF0ZXM9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIHNldHRpbmdzPWpRdWVyeS5leHRlbmQoe2xvd2VyY2FzZTohMX0sb3B0aW9ucyk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdD1qUXVlcnkodGhpcyksZGF0ZT0kdC5hdHRyKCJkYXRldGltZSIpfHwkdC5hdHRyKCJ0aXRsZSIpO2RhdGU9aHVtYW5lRGF0ZShkYXRlKSxkYXRlJiZzZXR0aW5ncy5sb3dlcmNhc2UmJihkYXRlPWRhdGUudG9Mb3dlckNhc2UoKSksZGF0ZSYmJHQuaHRtbCgpIT1kYXRlJiYkdC5odG1sKGRhdGUpfSl9KX0odGhpcyksZnVuY3Rpb24oJCl7ZnVuY3Rpb24gU2Nyb2xsQm90dG9tKHdpbixvcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9ucz8kLmV4dGVuZChkZWZhdWx0cyxvcHRpb25zKTpkZWZhdWx0cyx0aGlzLndpbj13aW4sdGhpcy5zY3JvbGxUb3A9JChkb2N1bWVudCkuc2Nyb2xsVG9wKCksdGhpcy5wYWdlSGVpZ2h0PSQoZG9jdW1lbnQpLmhlaWdodCgpLSQod2luZG93KS5oZWlnaHQoKSx3aW49PT13aW5kb3cmJiQod2luKS5vbigic2Nyb2xsZW5kLnNiIiwkLnByb3h5KHRoaXMuc2Nyb2xsSGFuZGxlcix0aGlzKSl9dmFyIGRlZmF1bHRzPXtvZmZzZXRZOjAsY2FsbGJhY2s6ZnVuY3Rpb24oKXt9fTtTY3JvbGxCb3R0b20ucHJvdG90eXBlLnNjcm9sbEhhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgZGlyZWN0aW9uPSQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpPnRoaXMuc2Nyb2xsVG9wPyJib3R0b20iOiJ0b3AiO3RoaXMuc2Nyb2xsVG9wPSQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLHRoaXMucGFnZUhlaWdodD0kKGRvY3VtZW50KS5oZWlnaHQoKS0kKHdpbmRvdykuaGVpZ2h0KCksdGhpcy5zY3JvbGxUb3A+PXRoaXMucGFnZUhlaWdodCt0aGlzLm9wdGlvbnMub2Zmc2V0WSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5jYWxsYmFjayYmJCh0aGlzLndpbikudHJpZ2dlcigic2Nyb2xsQm90dG9tIixbZGlyZWN0aW9uLHRoaXMuc2Nyb2xsVG9wLHRoaXMucGFnZUhlaWdodF0pfSwkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsQm90dG9tPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBzY3JvbGxUaW1lcixlbD10aGlzOyQoZWwpLm9uKCJzY3JvbGwuc2IiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVyKSxzY3JvbGxUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChlbCkudHJpZ2dlcigic2Nyb2xsZW5kLnNiIil9LDIwMCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXskKHdpbmRvdykub2ZmKCIuc2IiKX0sYWRkOmZ1bmN0aW9uKGhhbmRsZU9iail7e3ZhciBvcHRpb25zPSJvYmplY3QiPT10eXBlb2YgaGFuZGxlT2JqLmRhdGE/aGFuZGxlT2JqLmRhdGE6e307bmV3IFNjcm9sbEJvdHRvbSh0aGlzLG9wdGlvbnMpfX19fShqUXVlcnkpO3ZhciBIb2dhbj17fTshZnVuY3Rpb24oSG9nYW4sdXNlQXJyYXlCdWZmZXIpe2Z1bmN0aW9uIGNvZXJjZVRvU3RyaW5nKHZhbCl7cmV0dXJuIFN0cmluZyhudWxsPT09dmFsfHx2b2lkIDA9PT12YWw/IiI6dmFsKX1mdW5jdGlvbiBob2dhbkVzY2FwZShzdHIpe3JldHVybiBzdHI9Y29lcmNlVG9TdHJpbmcoc3RyKSxoQ2hhcnMudGVzdChzdHIpP3N0ci5yZXBsYWNlKHJBbXAsIiZhbXA7IikucmVwbGFjZShyTHQsIiZsdDsiKS5yZXBsYWNlKHJHdCwiJmd0OyIpLnJlcGxhY2UockFwb3MsIiYjMzk7IikucmVwbGFjZShyUXVvdCwiJnF1b3Q7Iik6c3RyfUhvZ2FuLlRlbXBsYXRlPWZ1bmN0aW9uKHJlbmRlckZ1bmMsdGV4dCxjb21waWxlcixvcHRpb25zKXt0aGlzLnI9cmVuZGVyRnVuY3x8dGhpcy5yLHRoaXMuYz1jb21waWxlcix0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLnRleHQ9dGV4dHx8IiIsdGhpcy5idWY9dXNlQXJyYXlCdWZmZXI/W106IiJ9LEhvZ2FuLlRlbXBsYXRlLnByb3RvdHlwZT17cjpmdW5jdGlvbigpe3JldHVybiIifSx2OmhvZ2FuRXNjYXBlLHQ6Y29lcmNlVG9TdHJpbmcscmVuZGVyOmZ1bmN0aW9uKGNvbnRleHQscGFydGlhbHMsaW5kZW50KXtyZXR1cm4gdGhpcy5yaShbY29udGV4dF0scGFydGlhbHN8fHt9LGluZGVudCl9LHJpOmZ1bmN0aW9uKGNvbnRleHQscGFydGlhbHMsaW5kZW50KXtyZXR1cm4gdGhpcy5yKGNvbnRleHQscGFydGlhbHMsaW5kZW50KX0scnA6ZnVuY3Rpb24obmFtZSxjb250ZXh0LHBhcnRpYWxzLGluZGVudCl7dmFyIHBhcnRpYWw9cGFydGlhbHNbbmFtZV07cmV0dXJuIHBhcnRpYWw/KHRoaXMuYyYmInN0cmluZyI9PXR5cGVvZiBwYXJ0aWFsJiYocGFydGlhbD10aGlzLmMuY29tcGlsZShwYXJ0aWFsLHRoaXMub3B0aW9ucykpLHBhcnRpYWwucmkoY29udGV4dCxwYXJ0aWFscyxpbmRlbnQpKToiIn0scnM6ZnVuY3Rpb24oY29udGV4dCxwYXJ0aWFscyxzZWN0aW9uKXt2YXIgdGFpbD1jb250ZXh0W2NvbnRleHQubGVuZ3RoLTFdO2lmKCFpc0FycmF5KHRhaWwpKXJldHVybiB2b2lkIHNlY3Rpb24oY29udGV4dCxwYXJ0aWFscyx0aGlzKTtmb3IodmFyIGk9MDtpPHRhaWwubGVuZ3RoO2krKyljb250ZXh0LnB1c2godGFpbFtpXSksc2VjdGlvbihjb250ZXh0LHBhcnRpYWxzLHRoaXMpLGNvbnRleHQucG9wKCl9LHM6ZnVuY3Rpb24odmFsLGN0eCxwYXJ0aWFscyxpbnZlcnRlZCxzdGFydCxlbmQsdGFncyl7dmFyIHBhc3M7cmV0dXJuIGlzQXJyYXkodmFsKSYmMD09PXZhbC5sZW5ndGg/ITE6KCJmdW5jdGlvbiI9PXR5cGVvZiB2YWwmJih2YWw9dGhpcy5scyh2YWwsY3R4LHBhcnRpYWxzLGludmVydGVkLHN0YXJ0LGVuZCx0YWdzKSkscGFzcz0iIj09PXZhbHx8ISF2YWwsIWludmVydGVkJiZwYXNzJiZjdHgmJmN0eC5wdXNoKCJvYmplY3QiPT10eXBlb2YgdmFsP3ZhbDpjdHhbY3R4Lmxlbmd0aC0xXSkscGFzcyl9LGQ6ZnVuY3Rpb24oa2V5LGN0eCxwYXJ0aWFscyxyZXR1cm5Gb3VuZCl7dmFyIG5hbWVzPWtleS5zcGxpdCgiLiIpLHZhbD10aGlzLmYobmFtZXNbMF0sY3R4LHBhcnRpYWxzLHJldHVybkZvdW5kKSxjeD1udWxsO2lmKCIuIj09PWtleSYmaXNBcnJheShjdHhbY3R4Lmxlbmd0aC0yXSkpcmV0dXJuIGN0eFtjdHgubGVuZ3RoLTFdO2Zvcih2YXIgaT0xO2k8bmFtZXMubGVuZ3RoO2krKyl2YWwmJiJvYmplY3QiPT10eXBlb2YgdmFsJiZuYW1lc1tpXWluIHZhbD8oY3g9dmFsLHZhbD12YWxbbmFtZXNbaV1dKTp2YWw9IiI7cmV0dXJuIHJldHVybkZvdW5kJiYhdmFsPyExOihyZXR1cm5Gb3VuZHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHZhbHx8KGN0eC5wdXNoKGN4KSx2YWw9dGhpcy5sdih2YWwsY3R4LHBhcnRpYWxzKSxjdHgucG9wKCkpLHZhbCl9LGY6ZnVuY3Rpb24oa2V5LGN0eCxwYXJ0aWFscyxyZXR1cm5Gb3VuZCl7Zm9yKHZhciB2YWw9ITEsdj1udWxsLGZvdW5kPSExLGk9Y3R4Lmxlbmd0aC0xO2k+PTA7aS0tKWlmKHY9Y3R4W2ldLHYmJiJvYmplY3QiPT10eXBlb2YgdiYma2V5IGluIHYpe3ZhbD12W2tleV0sZm91bmQ9ITA7YnJlYWt9cmV0dXJuIGZvdW5kPyhyZXR1cm5Gb3VuZHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHZhbHx8KHZhbD10aGlzLmx2KHZhbCxjdHgscGFydGlhbHMpKSx2YWwpOnJldHVybkZvdW5kPyExOiIifSxobzpmdW5jdGlvbih2YWwsY3gscGFydGlhbHMsdGV4dCx0YWdzKXt2YXIgY29tcGlsZXI9dGhpcy5jLG9wdGlvbnM9dGhpcy5vcHRpb25zO29wdGlvbnMuZGVsaW1pdGVycz10YWdzO3ZhciB0ZXh0PXZhbC5jYWxsKGN4LHRleHQpO3JldHVybiB0ZXh0PW51bGw9PXRleHQ/U3RyaW5nKHRleHQpOnRleHQudG9TdHJpbmcoKSx0aGlzLmIoY29tcGlsZXIuY29tcGlsZSh0ZXh0LG9wdGlvbnMpLnJlbmRlcihjeCxwYXJ0aWFscykpLCExfSxiOnVzZUFycmF5QnVmZmVyP2Z1bmN0aW9uKHMpe3RoaXMuYnVmLnB1c2gocyl9OmZ1bmN0aW9uKHMpe3RoaXMuYnVmKz1zfSxmbDp1c2VBcnJheUJ1ZmZlcj9mdW5jdGlvbigpe3ZhciByPXRoaXMuYnVmLmpvaW4oIiIpO3JldHVybiB0aGlzLmJ1Zj1bXSxyfTpmdW5jdGlvbigpe3ZhciByPXRoaXMuYnVmO3JldHVybiB0aGlzLmJ1Zj0iIixyfSxsczpmdW5jdGlvbih2YWwsY3R4LHBhcnRpYWxzLGludmVydGVkLHN0YXJ0LGVuZCx0YWdzKXt2YXIgY3g9Y3R4W2N0eC5sZW5ndGgtMV0sdD1udWxsO2lmKCFpbnZlcnRlZCYmdGhpcy5jJiZ2YWwubGVuZ3RoPjApcmV0dXJuIHRoaXMuaG8odmFsLGN4LHBhcnRpYWxzLHRoaXMudGV4dC5zdWJzdHJpbmcoc3RhcnQsZW5kKSx0YWdzKTtpZih0PXZhbC5jYWxsKGN4KSwiZnVuY3Rpb24iPT10eXBlb2YgdCl7aWYoaW52ZXJ0ZWQpcmV0dXJuITA7aWYodGhpcy5jKXJldHVybiB0aGlzLmhvKHQsY3gscGFydGlhbHMsdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCxlbmQpLHRhZ3MpfXJldHVybiB0fSxsdjpmdW5jdGlvbih2YWwsY3R4LHBhcnRpYWxzKXt2YXIgY3g9Y3R4W2N0eC5sZW5ndGgtMV0scmVzdWx0PXZhbC5jYWxsKGN4KTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgcmVzdWx0JiYocmVzdWx0PWNvZXJjZVRvU3RyaW5nKHJlc3VsdC5jYWxsKGN4KSksdGhpcy5jJiZ+cmVzdWx0LmluZGV4T2YoInt7IikpP3RoaXMuYy5jb21waWxlKHJlc3VsdCx0aGlzLm9wdGlvbnMpLnJlbmRlcihjeCxwYXJ0aWFscyk6Y29lcmNlVG9TdHJpbmcocmVzdWx0KX19O3ZhciByQW1wPS8mL2csckx0PS88L2csckd0PS8+L2csckFwb3M9L1wnL2csclF1b3Q9L1wiL2csaENoYXJzPS9bJjw+XCJcJ10vLGlzQXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX19KCJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOkhvZ2FuKSxmdW5jdGlvbigkKXt2YXIgbWZwLF9wcmV2U3RhdHVzLF9ib2R5LF9kb2N1bWVudCxfcHJldkNvbnRlbnRUeXBlLF93cmFwQ2xhc3NlcyxfY3VyclBvcHVwVHlwZSxDTE9TRV9FVkVOVD0iQ2xvc2UiLEJFRk9SRV9DTE9TRV9FVkVOVD0iQmVmb3JlQ2xvc2UiLEFGVEVSX0NMT1NFX0VWRU5UPSJBZnRlckNsb3NlIixCRUZPUkVfQVBQRU5EX0VWRU5UPSJCZWZvcmVBcHBlbmQiLE1BUktVUF9QQVJTRV9FVkVOVD0iTWFya3VwUGFyc2UiLE9QRU5fRVZFTlQ9Ik9wZW4iLENIQU5HRV9FVkVOVD0iQ2hhbmdlIixOUz0ibWZwIixFVkVOVF9OUz0iLiIrTlMsUkVBRFlfQ0xBU1M9Im1mcC1yZWFkeSIsUkVNT1ZJTkdfQ0xBU1M9Im1mcC1yZW1vdmluZyIsUFJFVkVOVF9DTE9TRV9DTEFTUz0ibWZwLXByZXZlbnQtY2xvc2UiLE1hZ25pZmljUG9wdXA9ZnVuY3Rpb24oKXt9LF9pc0pRPSEhd2luZG93LmpRdWVyeSxfd2luZG93PSQod2luZG93KSxfbWZwT249ZnVuY3Rpb24obmFtZSxmKXttZnAuZXYub24oTlMrbmFtZStFVkVOVF9OUyxmKX0sX2dldEVsPWZ1bmN0aW9uKGNsYXNzTmFtZSxhcHBlbmRUbyxodG1sLHJhdyl7dmFyIGVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlbC5jbGFzc05hbWU9Im1mcC0iK2NsYXNzTmFtZSxodG1sJiYoZWwuaW5uZXJIVE1MPWh0bWwpLHJhdz9hcHBlbmRUbyYmYXBwZW5kVG8uYXBwZW5kQ2hpbGQoZWwpOihlbD0kKGVsKSxhcHBlbmRUbyYmZWwuYXBwZW5kVG8oYXBwZW5kVG8pKSxlbH0sX21mcFRyaWdnZXI9ZnVuY3Rpb24oZSxkYXRhKXttZnAuZXYudHJpZ2dlckhhbmRsZXIoTlMrZSxkYXRhKSxtZnAuc3QuY2FsbGJhY2tzJiYoZT1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Uuc2xpY2UoMSksbWZwLnN0LmNhbGxiYWNrc1tlXSYmbWZwLnN0LmNhbGxiYWNrc1tlXS5hcHBseShtZnAsJC5pc0FycmF5KGRhdGEpP2RhdGE6W2RhdGFdKSl9LF9nZXRDbG9zZUJ0bj1mdW5jdGlvbih0eXBlKXtyZXR1cm4gdHlwZT09PV9jdXJyUG9wdXBUeXBlJiZtZnAuY3VyclRlbXBsYXRlLmNsb3NlQnRufHwobWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bj0kKG1mcC5zdC5jbG9zZU1hcmt1cC5yZXBsYWNlKCIldGl0bGUlIixtZnAuc3QudENsb3NlKSksX2N1cnJQb3B1cFR5cGU9dHlwZSksbWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bn0sX2NoZWNrSW5zdGFuY2U9ZnVuY3Rpb24oKXskLm1hZ25pZmljUG9wdXAuaW5zdGFuY2V8fChtZnA9bmV3IE1hZ25pZmljUG9wdXAsbWZwLmluaXQoKSwkLm1hZ25pZmljUG9wdXAuaW5zdGFuY2U9bWZwKX0sc3VwcG9ydHNUcmFuc2l0aW9ucz1mdW5jdGlvbigpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKS5zdHlsZSx2PVsibXMiLCJPIiwiTW96IiwiV2Via2l0Il07aWYodm9pZCAwIT09cy50cmFuc2l0aW9uKXJldHVybiEwO2Zvcig7di5sZW5ndGg7KWlmKHYucG9wKCkrIlRyYW5zaXRpb24iaW4gcylyZXR1cm4hMDtyZXR1cm4hMX07TWFnbmlmaWNQb3B1cC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk1hZ25pZmljUG9wdXAsaW5pdDpmdW5jdGlvbigpe3ZhciBhcHBWZXJzaW9uPW5hdmlnYXRvci5hcHBWZXJzaW9uO21mcC5pc0lFNz0tMSE9PWFwcFZlcnNpb24uaW5kZXhPZigiTVNJRSA3LiIpLG1mcC5pc0lFOD0tMSE9PWFwcFZlcnNpb24uaW5kZXhPZigiTVNJRSA4LiIpLG1mcC5pc0xvd0lFPW1mcC5pc0lFN3x8bWZwLmlzSUU4LG1mcC5pc0FuZHJvaWQ9L2FuZHJvaWQvZ2kudGVzdChhcHBWZXJzaW9uKSxtZnAuaXNJT1M9L2lwaG9uZXxpcGFkfGlwb2QvZ2kudGVzdChhcHBWZXJzaW9uKSxtZnAuc3VwcG9ydHNUcmFuc2l0aW9uPXN1cHBvcnRzVHJhbnNpdGlvbnMoKSxtZnAucHJvYmFibHlNb2JpbGU9bWZwLmlzQW5kcm9pZHx8bWZwLmlzSU9TfHwvKE9wZXJhIE1pbmkpfEtpbmRsZXx3ZWJPU3xCbGFja0JlcnJ5fChPcGVyYSBNb2JpKXwoV2luZG93cyBQaG9uZSl8SUVNb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLF9ib2R5PSQoZG9jdW1lbnQuYm9keSksX2RvY3VtZW50PSQoZG9jdW1lbnQpLG1mcC5wb3B1cHNDYWNoZT17fX0sb3BlbjpmdW5jdGlvbihkYXRhKXt2YXIgaTtpZihkYXRhLmlzT2JqPT09ITEpe21mcC5pdGVtcz1kYXRhLml0ZW1zLnRvQXJyYXkoKSxtZnAuaW5kZXg9MDt2YXIgaXRlbSxpdGVtcz1kYXRhLml0ZW1zO2ZvcihpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKWlmKGl0ZW09aXRlbXNbaV0saXRlbS5wYXJzZWQmJihpdGVtPWl0ZW0uZWxbMF0pLGl0ZW09PT1kYXRhLmVsWzBdKXttZnAuaW5kZXg9aTticmVha319ZWxzZSBtZnAuaXRlbXM9JC5pc0FycmF5KGRhdGEuaXRlbXMpP2RhdGEuaXRlbXM6W2RhdGEuaXRlbXNdLG1mcC5pbmRleD1kYXRhLmluZGV4fHwwO2lmKG1mcC5pc09wZW4pcmV0dXJuIHZvaWQgbWZwLnVwZGF0ZUl0ZW1IVE1MKCk7bWZwLnR5cGVzPVtdLF93cmFwQ2xhc3Nlcz0iIixtZnAuZXY9ZGF0YS5tYWluRWwmJmRhdGEubWFpbkVsLmxlbmd0aD9kYXRhLm1haW5FbC5lcSgwKTpfZG9jdW1lbnQsZGF0YS5rZXk/KG1mcC5wb3B1cHNDYWNoZVtkYXRhLmtleV18fChtZnAucG9wdXBzQ2FjaGVbZGF0YS5rZXldPXt9KSxtZnAuY3VyclRlbXBsYXRlPW1mcC5wb3B1cHNDYWNoZVtkYXRhLmtleV0pOm1mcC5jdXJyVGVtcGxhdGU9e30sbWZwLnN0PSQuZXh0ZW5kKCEwLHt9LCQubWFnbmlmaWNQb3B1cC5kZWZhdWx0cyxkYXRhKSxtZnAuZml4ZWRDb250ZW50UG9zPSJhdXRvIj09PW1mcC5zdC5maXhlZENvbnRlbnRQb3M/IW1mcC5wcm9iYWJseU1vYmlsZTptZnAuc3QuZml4ZWRDb250ZW50UG9zLG1mcC5zdC5tb2RhbCYmKG1mcC5zdC5jbG9zZU9uQ29udGVudENsaWNrPSExLG1mcC5zdC5jbG9zZU9uQmdDbGljaz0hMSxtZnAuc3Quc2hvd0Nsb3NlQnRuPSExLG1mcC5zdC5lbmFibGVFc2NhcGVLZXk9ITEpLG1mcC5iZ092ZXJsYXl8fChtZnAuYmdPdmVybGF5PV9nZXRFbCgiYmciKS5vbigiY2xpY2siK0VWRU5UX05TLGZ1bmN0aW9uKCl7bWZwLmNsb3NlKCl9KSxtZnAud3JhcD1fZ2V0RWwoIndyYXAiKS5hdHRyKCJ0YWJpbmRleCIsLTEpLm9uKCJjbGljayIrRVZFTlRfTlMsZnVuY3Rpb24oZSl7bWZwLl9jaGVja0lmQ2xvc2UoZS50YXJnZXQpJiZtZnAuY2xvc2UoKX0pLG1mcC5jb250YWluZXI9X2dldEVsKCJjb250YWluZXIiLG1mcC53cmFwKSksbWZwLmNvbnRlbnRDb250YWluZXI9X2dldEVsKCJjb250ZW50IiksbWZwLnN0LnByZWxvYWRlciYmKG1mcC5wcmVsb2FkZXI9X2dldEVsKCJwcmVsb2FkZXIiLG1mcC5jb250YWluZXIsbWZwLnN0LnRMb2FkaW5nKSk7dmFyIG1vZHVsZXM9JC5tYWduaWZpY1BvcHVwLm1vZHVsZXM7Zm9yKGk9MDtpPG1vZHVsZXMubGVuZ3RoO2krKyl7dmFyIG49bW9kdWxlc1tpXTtuPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxtZnBbImluaXQiK25dLmNhbGwobWZwKX1fbWZwVHJpZ2dlcigiQmVmb3JlT3BlbiIpLG1mcC5zdC5zaG93Q2xvc2VCdG4mJihtZnAuc3QuY2xvc2VCdG5JbnNpZGU/KF9tZnBPbihNQVJLVVBfUEFSU0VfRVZFTlQsZnVuY3Rpb24oZSx0ZW1wbGF0ZSx2YWx1ZXMsaXRlbSl7dmFsdWVzLmNsb3NlX3JlcGxhY2VXaXRoPV9nZXRDbG9zZUJ0bihpdGVtLnR5cGUpfSksX3dyYXBDbGFzc2VzKz0iIG1mcC1jbG9zZS1idG4taW4iKTptZnAud3JhcC5hcHBlbmQoX2dldENsb3NlQnRuKCkpKSxtZnAuc3QuYWxpZ25Ub3AmJihfd3JhcENsYXNzZXMrPSIgbWZwLWFsaWduLXRvcCIpLG1mcC53cmFwLmNzcyhtZnAuZml4ZWRDb250ZW50UG9zP3tvdmVyZmxvdzptZnAuc3Qub3ZlcmZsb3dZLG92ZXJmbG93WDoiaGlkZGVuIixvdmVyZmxvd1k6bWZwLnN0Lm92ZXJmbG93WX06e3RvcDpfd2luZG93LnNjcm9sbFRvcCgpLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KSwobWZwLnN0LmZpeGVkQmdQb3M9PT0hMXx8ImF1dG8iPT09bWZwLnN0LmZpeGVkQmdQb3MmJiFtZnAuZml4ZWRDb250ZW50UG9zKSYmbWZwLmJnT3ZlcmxheS5jc3Moe2hlaWdodDpfZG9jdW1lbnQuaGVpZ2h0KCkscG9zaXRpb246ImFic29sdXRlIn0pLG1mcC5zdC5lbmFibGVFc2NhcGVLZXkmJl9kb2N1bWVudC5vbigia2V5dXAiK0VWRU5UX05TLGZ1bmN0aW9uKGUpezI3PT09ZS5rZXlDb2RlJiZtZnAuY2xvc2UoKX0pLF93aW5kb3cub24oInJlc2l6ZSIrRVZFTlRfTlMsZnVuY3Rpb24oKXttZnAudXBkYXRlU2l6ZSgpfSksbWZwLnN0LmNsb3NlT25Db250ZW50Q2xpY2t8fChfd3JhcENsYXNzZXMrPSIgbWZwLWF1dG8tY3Vyc29yIiksX3dyYXBDbGFzc2VzJiZtZnAud3JhcC5hZGRDbGFzcyhfd3JhcENsYXNzZXMpO3ZhciB3aW5kb3dIZWlnaHQ9bWZwLndIPV93aW5kb3cuaGVpZ2h0KCksd2luZG93U3R5bGVzPXt9O2lmKG1mcC5maXhlZENvbnRlbnRQb3MmJm1mcC5faGFzU2Nyb2xsQmFyKHdpbmRvd0hlaWdodCkpe3ZhciBzPW1mcC5fZ2V0U2Nyb2xsYmFyU2l6ZSgpO3MmJih3aW5kb3dTdHlsZXMubWFyZ2luUmlnaHQ9cyl9bWZwLmZpeGVkQ29udGVudFBvcyYmKG1mcC5pc0lFNz8kKCJib2R5LCBodG1sIikuY3NzKCJvdmVyZmxvdyIsImhpZGRlbiIpOndpbmRvd1N0eWxlcy5vdmVyZmxvdz0iaGlkZGVuIik7dmFyIGNsYXNzZXNUb2FkZD1tZnAuc3QubWFpbkNsYXNzO3JldHVybiBtZnAuaXNJRTcmJihjbGFzc2VzVG9hZGQrPSIgbWZwLWllNyIpLGNsYXNzZXNUb2FkZCYmbWZwLl9hZGRDbGFzc1RvTUZQKGNsYXNzZXNUb2FkZCksbWZwLnVwZGF0ZUl0ZW1IVE1MKCksX21mcFRyaWdnZXIoIkJ1aWxkQ29udHJvbHMiKSwkKCJodG1sIikuY3NzKHdpbmRvd1N0eWxlcyksbWZwLmJnT3ZlcmxheS5hZGQobWZwLndyYXApLnByZXBlbmRUbyhkb2N1bWVudC5ib2R5KSxtZnAuX2xhc3RGb2N1c2VkRWw9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWZwLmNvbnRlbnQ/KG1mcC5fYWRkQ2xhc3NUb01GUChSRUFEWV9DTEFTUyksbWZwLl9zZXRGb2N1cygpKTptZnAuYmdPdmVybGF5LmFkZENsYXNzKFJFQURZX0NMQVNTKSxfZG9jdW1lbnQub24oImZvY3VzaW4iK0VWRU5UX05TLG1mcC5fb25Gb2N1c0luKX0sMTYpLG1mcC5pc09wZW49ITAsbWZwLnVwZGF0ZVNpemUod2luZG93SGVpZ2h0KSxfbWZwVHJpZ2dlcihPUEVOX0VWRU5UKSxkYXRhfSxjbG9zZTpmdW5jdGlvbigpe21mcC5pc09wZW4mJihfbWZwVHJpZ2dlcihCRUZPUkVfQ0xPU0VfRVZFTlQpLG1mcC5pc09wZW49ITEsbWZwLnN0LnJlbW92YWxEZWxheSYmIW1mcC5pc0xvd0lFJiZtZnAuc3VwcG9ydHNUcmFuc2l0aW9uPyhtZnAuX2FkZENsYXNzVG9NRlAoUkVNT1ZJTkdfQ0xBU1MpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXttZnAuX2Nsb3NlKCl9LG1mcC5zdC5yZW1vdmFsRGVsYXkpKTptZnAuX2Nsb3NlKCkpfSxfY2xvc2U6ZnVuY3Rpb24oKXtfbWZwVHJpZ2dlcihDTE9TRV9FVkVOVCk7dmFyIGNsYXNzZXNUb1JlbW92ZT1SRU1PVklOR19DTEFTUysiICIrUkVBRFlfQ0xBU1MrIiAiO2lmKG1mcC5iZ092ZXJsYXkuZGV0YWNoKCksbWZwLndyYXAuZGV0YWNoKCksbWZwLmNvbnRhaW5lci5lbXB0eSgpLG1mcC5zdC5tYWluQ2xhc3MmJihjbGFzc2VzVG9SZW1vdmUrPW1mcC5zdC5tYWluQ2xhc3MrIiAiKSxtZnAuX3JlbW92ZUNsYXNzRnJvbU1GUChjbGFzc2VzVG9SZW1vdmUpLG1mcC5maXhlZENvbnRlbnRQb3Mpe3ZhciB3aW5kb3dTdHlsZXM9e21hcmdpblJpZ2h0OiIifTttZnAuaXNJRTc/JCgiYm9keSwgaHRtbCIpLmNzcygib3ZlcmZsb3ciLCIiKTp3aW5kb3dTdHlsZXMub3ZlcmZsb3c9IiIsJCgiaHRtbCIpLmNzcyh3aW5kb3dTdHlsZXMpfV9kb2N1bWVudC5vZmYoImtleXVwIitFVkVOVF9OUysiIGZvY3VzaW4iK0VWRU5UX05TKSxtZnAuZXYub2ZmKEVWRU5UX05TKSxtZnAud3JhcC5hdHRyKCJjbGFzcyIsIm1mcC13cmFwIikucmVtb3ZlQXR0cigic3R5bGUiKSxtZnAuYmdPdmVybGF5LmF0dHIoImNsYXNzIiwibWZwLWJnIiksbWZwLmNvbnRhaW5lci5hdHRyKCJjbGFzcyIsIm1mcC1jb250YWluZXIiKSwhbWZwLnN0LnNob3dDbG9zZUJ0bnx8bWZwLnN0LmNsb3NlQnRuSW5zaWRlJiZtZnAuY3VyclRlbXBsYXRlW21mcC5jdXJySXRlbS50eXBlXSE9PSEwfHxtZnAuY3VyclRlbXBsYXRlLmNsb3NlQnRuJiZtZnAuY3VyclRlbXBsYXRlLmNsb3NlQnRuLmRldGFjaCgpLG1mcC5fbGFzdEZvY3VzZWRFbCYmJChtZnAuX2xhc3RGb2N1c2VkRWwpLmZvY3VzKCksbWZwLmN1cnJJdGVtPW51bGwsbWZwLmNvbnRlbnQ9bnVsbCxtZnAuY3VyclRlbXBsYXRlPW51bGwsbWZwLnByZXZIZWlnaHQ9MCxfbWZwVHJpZ2dlcihBRlRFUl9DTE9TRV9FVkVOVCl9LHVwZGF0ZVNpemU6ZnVuY3Rpb24od2luSGVpZ2h0KXtpZihtZnAuaXNJT1Mpe3ZhciB6b29tTGV2ZWw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoL3dpbmRvdy5pbm5lcldpZHRoLGhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQqem9vbUxldmVsO21mcC53cmFwLmNzcygiaGVpZ2h0IixoZWlnaHQpLG1mcC53SD1oZWlnaHR9ZWxzZSBtZnAud0g9d2luSGVpZ2h0fHxfd2luZG93LmhlaWdodCgpO21mcC5maXhlZENvbnRlbnRQb3N8fG1mcC53cmFwLmNzcygiaGVpZ2h0IixtZnAud0gpLF9tZnBUcmlnZ2VyKCJSZXNpemUiKX0sdXBkYXRlSXRlbUhUTUw6ZnVuY3Rpb24oKXt2YXIgaXRlbT1tZnAuaXRlbXNbbWZwLmluZGV4XTttZnAuY29udGVudENvbnRhaW5lci5kZXRhY2goKSxtZnAuY29udGVudCYmbWZwLmNvbnRlbnQuZGV0YWNoKCksaXRlbS5wYXJzZWR8fChpdGVtPW1mcC5wYXJzZUVsKG1mcC5pbmRleCkpO3ZhciB0eXBlPWl0ZW0udHlwZTtpZihfbWZwVHJpZ2dlcigiQmVmb3JlQ2hhbmdlIixbbWZwLmN1cnJJdGVtP21mcC5jdXJySXRlbS50eXBlOiIiLHR5cGVdKSxtZnAuY3Vyckl0ZW09aXRlbSwhbWZwLmN1cnJUZW1wbGF0ZVt0eXBlXSl7dmFyIG1hcmt1cD1tZnAuc3RbdHlwZV0/bWZwLnN0W3R5cGVdLm1hcmt1cDohMTtfbWZwVHJpZ2dlcigiRmlyc3RNYXJrdXBQYXJzZSIsbWFya3VwKSxtZnAuY3VyclRlbXBsYXRlW3R5cGVdPW1hcmt1cD8kKG1hcmt1cCk6ITB9X3ByZXZDb250ZW50VHlwZSYmX3ByZXZDb250ZW50VHlwZSE9PWl0ZW0udHlwZSYmbWZwLmNvbnRhaW5lci5yZW1vdmVDbGFzcygibWZwLSIrX3ByZXZDb250ZW50VHlwZSsiLWhvbGRlciIpO3ZhciBuZXdDb250ZW50PW1mcFsiZ2V0Iit0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3R5cGUuc2xpY2UoMSldKGl0ZW0sbWZwLmN1cnJUZW1wbGF0ZVt0eXBlXSk7bWZwLmFwcGVuZENvbnRlbnQobmV3Q29udGVudCx0eXBlKSxpdGVtLnByZWxvYWRlZD0hMCxfbWZwVHJpZ2dlcihDSEFOR0VfRVZFTlQsaXRlbSksX3ByZXZDb250ZW50VHlwZT1pdGVtLnR5cGUsbWZwLmNvbnRhaW5lci5wcmVwZW5kKG1mcC5jb250ZW50Q29udGFpbmVyKSxfbWZwVHJpZ2dlcigiQWZ0ZXJDaGFuZ2UiKX0sYXBwZW5kQ29udGVudDpmdW5jdGlvbihuZXdDb250ZW50LHR5cGUpe21mcC5jb250ZW50PW5ld0NvbnRlbnQsbmV3Q29udGVudD9tZnAuc3Quc2hvd0Nsb3NlQnRuJiZtZnAuc3QuY2xvc2VCdG5JbnNpZGUmJm1mcC5jdXJyVGVtcGxhdGVbdHlwZV09PT0hMD9tZnAuY29udGVudC5maW5kKCIubWZwLWNsb3NlIikubGVuZ3RofHxtZnAuY29udGVudC5hcHBlbmQoX2dldENsb3NlQnRuKCkpOm1mcC5jb250ZW50PW5ld0NvbnRlbnQ6bWZwLmNvbnRlbnQ9IiIsX21mcFRyaWdnZXIoQkVGT1JFX0FQUEVORF9FVkVOVCksbWZwLmNvbnRhaW5lci5hZGRDbGFzcygibWZwLSIrdHlwZSsiLWhvbGRlciIpLG1mcC5jb250ZW50Q29udGFpbmVyLmFwcGVuZChtZnAuY29udGVudCl9LHBhcnNlRWw6ZnVuY3Rpb24oaW5kZXgpe3ZhciBpdGVtPW1mcC5pdGVtc1tpbmRleF0sdHlwZT1pdGVtLnR5cGU7aWYoaXRlbT1pdGVtLnRhZ05hbWU/e2VsOiQoaXRlbSl9OntkYXRhOml0ZW0sc3JjOml0ZW0uc3JjfSxpdGVtLmVsKXtmb3IodmFyIHR5cGVzPW1mcC50eXBlcyxpPTA7aTx0eXBlcy5sZW5ndGg7aSsrKWlmKGl0ZW0uZWwuaGFzQ2xhc3MoIm1mcC0iK3R5cGVzW2ldKSl7dHlwZT10eXBlc1tpXTticmVha31pdGVtLnNyYz1pdGVtLmVsLmF0dHIoImRhdGEtbWZwLXNyYyIpLGl0ZW0uc3JjfHwoaXRlbS5zcmM9aXRlbS5lbC5hdHRyKCJocmVmIikpfXJldHVybiBpdGVtLnR5cGU9dHlwZXx8bWZwLnN0LnR5cGV8fCJpbmxpbmUiLGl0ZW0uaW5kZXg9aW5kZXgsaXRlbS5wYXJzZWQ9ITAsbWZwLml0ZW1zW2luZGV4XT1pdGVtLF9tZnBUcmlnZ2VyKCJFbGVtZW50UGFyc2UiLGl0ZW0pLG1mcC5pdGVtc1tpbmRleF19LGFkZEdyb3VwOmZ1bmN0aW9uKGVsLG9wdGlvbnMpe3ZhciBlSGFuZGxlcj1mdW5jdGlvbihlKXtlLm1mcEVsPXRoaXMsbWZwLl9vcGVuQ2xpY2soZSxlbCxvcHRpb25zKX07b3B0aW9uc3x8KG9wdGlvbnM9e30pO3ZhciBlTmFtZT0iY2xpY2subWFnbmlmaWNQb3B1cCI7b3B0aW9ucy5tYWluRWw9ZWwsb3B0aW9ucy5pdGVtcz8ob3B0aW9ucy5pc09iaj0hMCxlbC5vZmYoZU5hbWUpLm9uKGVOYW1lLGVIYW5kbGVyKSk6KG9wdGlvbnMuaXNPYmo9ITEsb3B0aW9ucy5kZWxlZ2F0ZT9lbC5vZmYoZU5hbWUpLm9uKGVOYW1lLG9wdGlvbnMuZGVsZWdhdGUsZUhhbmRsZXIpOihvcHRpb25zLml0ZW1zPWVsLGVsLm9mZihlTmFtZSkub24oZU5hbWUsZUhhbmRsZXIpKSl9LF9vcGVuQ2xpY2s6ZnVuY3Rpb24oZSxlbCxvcHRpb25zKXt2YXIgbWlkQ2xpY2s9dm9pZCAwIT09b3B0aW9ucy5taWRDbGljaz9vcHRpb25zLm1pZENsaWNrOiQubWFnbmlmaWNQb3B1cC5kZWZhdWx0cy5taWRDbGljaztpZihtaWRDbGlja3x8MiE9PWUud2hpY2gmJiFlLmN0cmxLZXkmJiFlLm1ldGFLZXkpe3ZhciBkaXNhYmxlT249dm9pZCAwIT09b3B0aW9ucy5kaXNhYmxlT24/b3B0aW9ucy5kaXNhYmxlT246JC5tYWduaWZpY1BvcHVwLmRlZmF1bHRzLmRpc2FibGVPbjtpZihkaXNhYmxlT24paWYoJC5pc0Z1bmN0aW9uKGRpc2FibGVPbikpe2lmKCFkaXNhYmxlT24uY2FsbChtZnApKXJldHVybiEwfWVsc2UgaWYoX3dpbmRvdy53aWR0aCgpPGRpc2FibGVPbilyZXR1cm4hMDtlLnR5cGUmJihlLnByZXZlbnREZWZhdWx0KCksbWZwLmlzT3BlbiYmZS5zdG9wUHJvcGFnYXRpb24oKSksb3B0aW9ucy5lbD0kKGUubWZwRWwpLG9wdGlvbnMuZGVsZWdhdGUmJihvcHRpb25zLml0ZW1zPWVsLmZpbmQob3B0aW9ucy5kZWxlZ2F0ZSkpLG1mcC5vcGVuKG9wdGlvbnMpfX0sdXBkYXRlU3RhdHVzOmZ1bmN0aW9uKHN0YXR1cyx0ZXh0KXtpZihtZnAucHJlbG9hZGVyKXtfcHJldlN0YXR1cyE9PXN0YXR1cyYmbWZwLmNvbnRhaW5lci5yZW1vdmVDbGFzcygibWZwLXMtIitfcHJldlN0YXR1cyksdGV4dHx8ImxvYWRpbmciIT09c3RhdHVzfHwodGV4dD1tZnAuc3QudExvYWRpbmcpO3ZhciBkYXRhPXtzdGF0dXM6c3RhdHVzLHRleHQ6dGV4dH07X21mcFRyaWdnZXIoIlVwZGF0ZVN0YXR1cyIsZGF0YSksc3RhdHVzPWRhdGEuc3RhdHVzLHRleHQ9ZGF0YS50ZXh0LG1mcC5wcmVsb2FkZXIuaHRtbCh0ZXh0KSxtZnAucHJlbG9hZGVyLmZpbmQoImEiKS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KSxtZnAuY29udGFpbmVyLmFkZENsYXNzKCJtZnAtcy0iK3N0YXR1cyksX3ByZXZTdGF0dXM9c3RhdHVzfX0sX2NoZWNrSWZDbG9zZTpmdW5jdGlvbih0YXJnZXQpe2lmKCEkKHRhcmdldCkuaGFzQ2xhc3MoUFJFVkVOVF9DTE9TRV9DTEFTUykpe3ZhciBjbG9zZU9uQ29udGVudD1tZnAuc3QuY2xvc2VPbkNvbnRlbnRDbGljayxjbG9zZU9uQmc9bWZwLnN0LmNsb3NlT25CZ0NsaWNrO2lmKGNsb3NlT25Db250ZW50JiZjbG9zZU9uQmcpcmV0dXJuITA7aWYoIW1mcC5jb250ZW50fHwkKHRhcmdldCkuaGFzQ2xhc3MoIm1mcC1jbG9zZSIpfHxtZnAucHJlbG9hZGVyJiZ0YXJnZXQ9PT1tZnAucHJlbG9hZGVyWzBdKXJldHVybiEwO2lmKHRhcmdldD09PW1mcC5jb250ZW50WzBdfHwkLmNvbnRhaW5zKG1mcC5jb250ZW50WzBdLHRhcmdldCkpe2lmKGNsb3NlT25Db250ZW50KXJldHVybiEwfWVsc2UgaWYoY2xvc2VPbkJnJiYkLmNvbnRhaW5zKGRvY3VtZW50LHRhcmdldCkpcmV0dXJuITA7cmV0dXJuITF9fSxfYWRkQ2xhc3NUb01GUDpmdW5jdGlvbihjTmFtZSl7bWZwLmJnT3ZlcmxheS5hZGRDbGFzcyhjTmFtZSksbWZwLndyYXAuYWRkQ2xhc3MoY05hbWUpfSxfcmVtb3ZlQ2xhc3NGcm9tTUZQOmZ1bmN0aW9uKGNOYW1lKXt0aGlzLmJnT3ZlcmxheS5yZW1vdmVDbGFzcyhjTmFtZSksbWZwLndyYXAucmVtb3ZlQ2xhc3MoY05hbWUpfSxfaGFzU2Nyb2xsQmFyOmZ1bmN0aW9uKHdpbkhlaWdodCl7cmV0dXJuKG1mcC5pc0lFNz9fZG9jdW1lbnQuaGVpZ2h0KCk6ZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpPih3aW5IZWlnaHR8fF93aW5kb3cuaGVpZ2h0KCkpfSxfc2V0Rm9jdXM6ZnVuY3Rpb24oKXsobWZwLnN0LmZvY3VzP21mcC5jb250ZW50LmZpbmQobWZwLnN0LmZvY3VzKS5lcSgwKTptZnAud3JhcCkuZm9jdXMoKX0sX29uRm9jdXNJbjpmdW5jdGlvbihlKXtyZXR1cm4gZS50YXJnZXQ9PT1tZnAud3JhcFswXXx8JC5jb250YWlucyhtZnAud3JhcFswXSxlLnRhcmdldCk/dm9pZCAwOihtZnAuX3NldEZvY3VzKCksITEpfSxfcGFyc2VNYXJrdXA6ZnVuY3Rpb24odGVtcGxhdGUsdmFsdWVzLGl0ZW0pe3ZhciBhcnI7aXRlbS5kYXRhJiYodmFsdWVzPSQuZXh0ZW5kKGl0ZW0uZGF0YSx2YWx1ZXMpKSxfbWZwVHJpZ2dlcihNQVJLVVBfUEFSU0VfRVZFTlQsW3RlbXBsYXRlLHZhbHVlcyxpdGVtXSksJC5lYWNoKHZhbHVlcyxmdW5jdGlvbihrZXksdmFsdWUpe2lmKHZvaWQgMD09PXZhbHVlfHx2YWx1ZT09PSExKXJldHVybiEwO2lmKGFycj1rZXkuc3BsaXQoIl8iKSxhcnIubGVuZ3RoPjEpe3ZhciBlbD10ZW1wbGF0ZS5maW5kKEVWRU5UX05TKyItIithcnJbMF0pO2lmKGVsLmxlbmd0aD4wKXt2YXIgYXR0cj1hcnJbMV07InJlcGxhY2VXaXRoIj09PWF0dHI/ZWxbMF0hPT12YWx1ZVswXSYmZWwucmVwbGFjZVdpdGgodmFsdWUpOiJpbWciPT09YXR0cj9lbC5pcygiaW1nIik/ZWwuYXR0cigic3JjIix2YWx1ZSk6ZWwucmVwbGFjZVdpdGgoJzxpbWcgc3JjPSInK3ZhbHVlKyciIGNsYXNzPSInK2VsLmF0dHIoImNsYXNzIikrJyIgLz4nKTplbC5hdHRyKGFyclsxXSx2YWx1ZSl9fWVsc2UgdGVtcGxhdGUuZmluZChFVkVOVF9OUysiLSIra2V5KS5odG1sKHZhbHVlKX0pfSxfZ2V0U2Nyb2xsYmFyU2l6ZTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PW1mcC5zY3JvbGxiYXJTaXplKXt2YXIgc2Nyb2xsRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Njcm9sbERpdi5pZD0ibWZwLXNibSIsc2Nyb2xsRGl2LnN0eWxlLmNzc1RleHQ9IndpZHRoOiA5OXB4OyBoZWlnaHQ6IDk5cHg7IG92ZXJmbG93OiBzY3JvbGw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtOTk5OXB4OyIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpLG1mcC5zY3JvbGxiYXJTaXplPXNjcm9sbERpdi5vZmZzZXRXaWR0aC1zY3JvbGxEaXYuY2xpZW50V2lkdGgsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpfXJldHVybiBtZnAuc2Nyb2xsYmFyU2l6ZX19LCQubWFnbmlmaWNQb3B1cD17aW5zdGFuY2U6bnVsbCxwcm90bzpNYWduaWZpY1BvcHVwLnByb3RvdHlwZSxtb2R1bGVzOltdLG9wZW46ZnVuY3Rpb24ob3B0aW9ucyxpbmRleCl7cmV0dXJuIF9jaGVja0luc3RhbmNlKCksb3B0aW9ucz1vcHRpb25zPyQuZXh0ZW5kKCEwLHt9LG9wdGlvbnMpOnt9LG9wdGlvbnMuaXNPYmo9ITAsb3B0aW9ucy5pbmRleD1pbmRleHx8MCx0aGlzLmluc3RhbmNlLm9wZW4ob3B0aW9ucyl9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuICQubWFnbmlmaWNQb3B1cC5pbnN0YW5jZSYmJC5tYWduaWZpY1BvcHVwLmluc3RhbmNlLmNsb3NlKCl9LHJlZ2lzdGVyTW9kdWxlOmZ1bmN0aW9uKG5hbWUsbW9kdWxlKXttb2R1bGUub3B0aW9ucyYmKCQubWFnbmlmaWNQb3B1cC5kZWZhdWx0c1tuYW1lXT1tb2R1bGUub3B0aW9ucyksJC5leHRlbmQodGhpcy5wcm90byxtb2R1bGUucHJvdG8pLHRoaXMubW9kdWxlcy5wdXNoKG5hbWUpfSxkZWZhdWx0czp7ZGlzYWJsZU9uOjAsa2V5Om51bGwsbWlkQ2xpY2s6ITEsbWFpbkNsYXNzOiIiLHByZWxvYWRlcjohMCxmb2N1czoiIixjbG9zZU9uQ29udGVudENsaWNrOiExLGNsb3NlT25CZ0NsaWNrOiEwLGNsb3NlQnRuSW5zaWRlOiEwLHNob3dDbG9zZUJ0bjohMCxlbmFibGVFc2NhcGVLZXk6ITAsbW9kYWw6ITEsYWxpZ25Ub3A6ITEscmVtb3ZhbERlbGF5OjAsZml4ZWRDb250ZW50UG9zOiJhdXRvIixmaXhlZEJnUG9zOiJhdXRvIixvdmVyZmxvd1k6ImF1dG8iLGNsb3NlTWFya3VwOic8YnV0dG9uIHRpdGxlPSIldGl0bGUlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJtZnAtY2xvc2UiPiZ0aW1lczs8L2J1dHRvbj4nLHRDbG9zZToiQ2xvc2UgKEVzYykiLHRMb2FkaW5nOiJMb2FkaW5nLi4uIn19LCQuZm4ubWFnbmlmaWNQb3B1cD1mdW5jdGlvbihvcHRpb25zKXtfY2hlY2tJbnN0YW5jZSgpO3ZhciBqcUVsPSQodGhpcyk7aWYoInN0cmluZyI9PXR5cGVvZiBvcHRpb25zKWlmKCJvcGVuIj09PW9wdGlvbnMpe3ZhciBpdGVtcyxpdGVtT3B0cz1faXNKUT9qcUVsLmRhdGEoIm1hZ25pZmljUG9wdXAiKTpqcUVsWzBdLm1hZ25pZmljUG9wdXAsaW5kZXg9cGFyc2VJbnQoYXJndW1lbnRzWzFdLDEwKXx8MDtpdGVtT3B0cy5pdGVtcz9pdGVtcz1pdGVtT3B0cy5pdGVtc1tpbmRleF06KGl0ZW1zPWpxRWwsaXRlbU9wdHMuZGVsZWdhdGUmJihpdGVtcz1pdGVtcy5maW5kKGl0ZW1PcHRzLmRlbGVnYXRlKSksaXRlbXM9aXRlbXMuZXEoaW5kZXgpKSxtZnAuX29wZW5DbGljayh7bWZwRWw6aXRlbXN9LGpxRWwsaXRlbU9wdHMpfWVsc2UgbWZwLmlzT3BlbiYmbWZwW29wdGlvbnNdLmFwcGx5KG1mcCxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO2Vsc2Ugb3B0aW9ucz0kLmV4dGVuZCghMCx7fSxvcHRpb25zKSxfaXNKUT9qcUVsLmRhdGEoIm1hZ25pZmljUG9wdXAiLG9wdGlvbnMpOmpxRWxbMF0ubWFnbmlmaWNQb3B1cD1vcHRpb25zLG1mcC5hZGRHcm91cChqcUVsLG9wdGlvbnMpO3JldHVybiBqcUVsfTt2YXIgX2hpZGRlbkNsYXNzLF9pbmxpbmVQbGFjZWhvbGRlcixfbGFzdElubGluZUVsZW1lbnQsSU5MSU5FX05TPSJpbmxpbmUiLF9wdXRJbmxpbmVFbGVtZW50c0JhY2s9ZnVuY3Rpb24oKXtfbGFzdElubGluZUVsZW1lbnQmJihfaW5saW5lUGxhY2Vob2xkZXIuYWZ0ZXIoX2xhc3RJbmxpbmVFbGVtZW50LmFkZENsYXNzKF9oaWRkZW5DbGFzcykpLmRldGFjaCgpLF9sYXN0SW5saW5lRWxlbWVudD1udWxsKX07JC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKElOTElORV9OUyx7b3B0aW9uczp7aGlkZGVuQ2xhc3M6ImhpZGUiLG1hcmt1cDoiIix0Tm90Rm91bmQ6IkNvbnRlbnQgbm90IGZvdW5kIn0scHJvdG86e2luaXRJbmxpbmU6ZnVuY3Rpb24oKXttZnAudHlwZXMucHVzaChJTkxJTkVfTlMpLF9tZnBPbihDTE9TRV9FVkVOVCsiLiIrSU5MSU5FX05TLGZ1bmN0aW9uKCl7X3B1dElubGluZUVsZW1lbnRzQmFjaygpfSl9LGdldElubGluZTpmdW5jdGlvbihpdGVtLHRlbXBsYXRlKXtpZihfcHV0SW5saW5lRWxlbWVudHNCYWNrKCksaXRlbS5zcmMpe3ZhciBpbmxpbmVTdD1tZnAuc3QuaW5saW5lLGVsPSQoaXRlbS5zcmMpO2lmKGVsLmxlbmd0aCl7dmFyIHBhcmVudD1lbFswXS5wYXJlbnROb2RlO3BhcmVudCYmcGFyZW50LnRhZ05hbWUmJihfaW5saW5lUGxhY2Vob2xkZXJ8fChfaGlkZGVuQ2xhc3M9aW5saW5lU3QuaGlkZGVuQ2xhc3MsX2lubGluZVBsYWNlaG9sZGVyPV9nZXRFbChfaGlkZGVuQ2xhc3MpLF9oaWRkZW5DbGFzcz0ibWZwLSIrX2hpZGRlbkNsYXNzKSxfbGFzdElubGluZUVsZW1lbnQ9ZWwuYWZ0ZXIoX2lubGluZVBsYWNlaG9sZGVyKS5kZXRhY2goKS5yZW1vdmVDbGFzcyhfaGlkZGVuQ2xhc3MpKSxtZnAudXBkYXRlU3RhdHVzKCJyZWFkeSIpfWVsc2UgbWZwLnVwZGF0ZVN0YXR1cygiZXJyb3IiLGlubGluZVN0LnROb3RGb3VuZCksZWw9JCgiPGRpdj4iKTtyZXR1cm4gaXRlbS5pbmxpbmVFbGVtZW50PWVsLGVsfXJldHVybiBtZnAudXBkYXRlU3RhdHVzKCJyZWFkeSIpLG1mcC5fcGFyc2VNYXJrdXAodGVtcGxhdGUse30saXRlbSksdGVtcGxhdGV9fX0pO3ZhciBfYWpheEN1cixBSkFYX05TPSJhamF4IixfcmVtb3ZlQWpheEN1cnNvcj1mdW5jdGlvbigpe19hamF4Q3VyJiZfYm9keS5yZW1vdmVDbGFzcyhfYWpheEN1cil9LF9kZXN0cm95QWpheFJlcXVlc3Q9ZnVuY3Rpb24oKXtfcmVtb3ZlQWpheEN1cnNvcigpLG1mcC5yZXEmJm1mcC5yZXEuYWJvcnQoKX07JC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKEFKQVhfTlMse29wdGlvbnM6e3NldHRpbmdzOm51bGwsY3Vyc29yOiJtZnAtYWpheC1jdXIiLHRFcnJvcjonPGEgaHJlZj0iJXVybCUiPlRoZSBjb250ZW50PC9hPiBjb3VsZCBub3QgYmUgbG9hZGVkLid9LHByb3RvOntpbml0QWpheDpmdW5jdGlvbigpe21mcC50eXBlcy5wdXNoKEFKQVhfTlMpLF9hamF4Q3VyPW1mcC5zdC5hamF4LmN1cnNvcixfbWZwT24oQ0xPU0VfRVZFTlQrIi4iK0FKQVhfTlMsX2Rlc3Ryb3lBamF4UmVxdWVzdCksX21mcE9uKCJCZWZvcmVDaGFuZ2UuIitBSkFYX05TLF9kZXN0cm95QWpheFJlcXVlc3QpfSxnZXRBamF4OmZ1bmN0aW9uKGl0ZW0pe19hamF4Q3VyJiZfYm9keS5hZGRDbGFzcyhfYWpheEN1ciksbWZwLnVwZGF0ZVN0YXR1cygibG9hZGluZyIpO3ZhciBvcHRzPSQuZXh0ZW5kKHt1cmw6aXRlbS5zcmMsc3VjY2VzczpmdW5jdGlvbihkYXRhLHRleHRTdGF0dXMsanFYSFIpe3ZhciB0ZW1wPXtkYXRhOmRhdGEseGhyOmpxWEhSfTtfbWZwVHJpZ2dlcigiUGFyc2VBamF4Iix0ZW1wKSxtZnAuYXBwZW5kQ29udGVudCgkKHRlbXAuZGF0YSksQUpBWF9OUyksaXRlbS5maW5pc2hlZD0hMCxfcmVtb3ZlQWpheEN1cnNvcigpLG1mcC5fc2V0Rm9jdXMoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWZwLndyYXAuYWRkQ2xhc3MoUkVBRFlfQ0xBU1MpfSwxNiksbWZwLnVwZGF0ZVN0YXR1cygicmVhZHkiKSxfbWZwVHJpZ2dlcigiQWpheENvbnRlbnRBZGRlZCIpfSxlcnJvcjpmdW5jdGlvbigpe19yZW1vdmVBamF4Q3Vyc29yKCksaXRlbS5maW5pc2hlZD1pdGVtLmxvYWRFcnJvcj0hMCxtZnAudXBkYXRlU3RhdHVzKCJlcnJvciIsbWZwLnN0LmFqYXgudEVycm9yLnJlcGxhY2UoIiV1cmwlIixpdGVtLnNyYykpfX0sbWZwLnN0LmFqYXguc2V0dGluZ3MpO3JldHVybiBtZnAucmVxPSQuYWpheChvcHRzKSwiIn19fSk7dmFyIF9pbWdJbnRlcnZhbCxfZ2V0VGl0bGU9ZnVuY3Rpb24oaXRlbSl7aWYoaXRlbS5kYXRhJiZ2b2lkIDAhPT1pdGVtLmRhdGEudGl0bGUpcmV0dXJuIGl0ZW0uZGF0YS50aXRsZTt2YXIgc3JjPW1mcC5zdC5pbWFnZS50aXRsZVNyYztpZihzcmMpe2lmKCQuaXNGdW5jdGlvbihzcmMpKXJldHVybiBzcmMuY2FsbChtZnAsaXRlbSk7aWYoaXRlbS5lbClyZXR1cm4gaXRlbS5lbC5hdHRyKHNyYyl8fCIifXJldHVybiIifTskLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoImltYWdlIix7b3B0aW9uczp7bWFya3VwOic8ZGl2IGNsYXNzPSJtZnAtZmlndXJlIj48ZGl2IGNsYXNzPSJtZnAtY2xvc2UiPjwvZGl2PjxmaWd1cmU+PGRpdiBjbGFzcz0ibWZwLWltZyI+PC9kaXY+PGZpZ2NhcHRpb24+PGRpdiBjbGFzcz0ibWZwLWJvdHRvbS1iYXIiPjxkaXYgY2xhc3M9Im1mcC10aXRsZSI+PC9kaXY+PGRpdiBjbGFzcz0ibWZwLWNvdW50ZXIiPjwvZGl2PjwvZGl2PjwvZmlnY2FwdGlvbj48L2ZpZ3VyZT48L2Rpdj4nLGN1cnNvcjoibWZwLXpvb20tb3V0LWN1ciIsdGl0bGVTcmM6InRpdGxlIix2ZXJ0aWNhbEZpdDohMCx0RXJyb3I6JzxhIGhyZWY9IiV1cmwlIj5UaGUgaW1hZ2U8L2E+IGNvdWxkIG5vdCBiZSBsb2FkZWQuJ30scHJvdG86e2luaXRJbWFnZTpmdW5jdGlvbigpe3ZhciBpbWdTdD1tZnAuc3QuaW1hZ2UsbnM9Ii5pbWFnZSI7bWZwLnR5cGVzLnB1c2goImltYWdlIiksX21mcE9uKE9QRU5fRVZFTlQrbnMsZnVuY3Rpb24oKXsiaW1hZ2UiPT09bWZwLmN1cnJJdGVtLnR5cGUmJmltZ1N0LmN1cnNvciYmX2JvZHkuYWRkQ2xhc3MoaW1nU3QuY3Vyc29yKX0pLF9tZnBPbihDTE9TRV9FVkVOVCtucyxmdW5jdGlvbigpe2ltZ1N0LmN1cnNvciYmX2JvZHkucmVtb3ZlQ2xhc3MoaW1nU3QuY3Vyc29yKSxfd2luZG93Lm9mZigicmVzaXplIitFVkVOVF9OUyl9KSxfbWZwT24oIlJlc2l6ZSIrbnMsbWZwLnJlc2l6ZUltYWdlKSxtZnAuaXNMb3dJRSYmX21mcE9uKCJBZnRlckNoYW5nZSIsbWZwLnJlc2l6ZUltYWdlKX0scmVzaXplSW1hZ2U6ZnVuY3Rpb24oKXt2YXIgaXRlbT1tZnAuY3Vyckl0ZW07aWYoaXRlbSYmaXRlbS5pbWcmJm1mcC5zdC5pbWFnZS52ZXJ0aWNhbEZpdCl7dmFyIGRlY3I9MDttZnAuaXNMb3dJRSYmKGRlY3I9cGFyc2VJbnQoaXRlbS5pbWcuY3NzKCJwYWRkaW5nLXRvcCIpLDEwKStwYXJzZUludChpdGVtLmltZy5jc3MoInBhZGRpbmctYm90dG9tIiksMTApKSxpdGVtLmltZy5jc3MoIm1heC1oZWlnaHQiLG1mcC53SC1kZWNyKX19LF9vbkltYWdlSGFzU2l6ZTpmdW5jdGlvbihpdGVtKXtpdGVtLmltZyYmKGl0ZW0uaGFzU2l6ZT0hMCxfaW1nSW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwoX2ltZ0ludGVydmFsKSxpdGVtLmlzQ2hlY2tpbmdJbWdTaXplPSExLF9tZnBUcmlnZ2VyKCJJbWFnZUhhc1NpemUiLGl0ZW0pLGl0ZW0uaW1nSGlkZGVuJiYobWZwLmNvbnRlbnQmJm1mcC5jb250ZW50LnJlbW92ZUNsYXNzKCJtZnAtbG9hZGluZyIpLGl0ZW0uaW1nSGlkZGVuPSExKSl9LGZpbmRJbWFnZVNpemU6ZnVuY3Rpb24oaXRlbSl7dmFyIGNvdW50ZXI9MCxpbWc9aXRlbS5pbWdbMF0sbWZwU2V0SW50ZXJ2YWw9ZnVuY3Rpb24oZGVsYXkpe19pbWdJbnRlcnZhbCYmY2xlYXJJbnRlcnZhbChfaW1nSW50ZXJ2YWwpLF9pbWdJbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JldHVybiBpbWcubmF0dXJhbFdpZHRoPjA/dm9pZCBtZnAuX29uSW1hZ2VIYXNTaXplKGl0ZW0pOihjb3VudGVyPjIwMCYmY2xlYXJJbnRlcnZhbChfaW1nSW50ZXJ2YWwpLGNvdW50ZXIrKyx2b2lkKDM9PT1jb3VudGVyP21mcFNldEludGVydmFsKDEwKTo0MD09PWNvdW50ZXI/bWZwU2V0SW50ZXJ2YWwoNTApOjEwMD09PWNvdW50ZXImJm1mcFNldEludGVydmFsKDUwMCkpKX0sZGVsYXkpfTttZnBTZXRJbnRlcnZhbCgxKX0sZ2V0SW1hZ2U6ZnVuY3Rpb24oaXRlbSx0ZW1wbGF0ZSl7dmFyIGd1YXJkPTAsb25Mb2FkQ29tcGxldGU9ZnVuY3Rpb24oKXtpdGVtJiYoaXRlbS5pbWdbMF0uY29tcGxldGU/KGl0ZW0uaW1nLm9mZigiLm1mcGxvYWRlciIpLGl0ZW09PT1tZnAuY3Vyckl0ZW0mJihtZnAuX29uSW1hZ2VIYXNTaXplKGl0ZW0pLG1mcC51cGRhdGVTdGF0dXMoInJlYWR5IikpLGl0ZW0uaGFzU2l6ZT0hMCxpdGVtLmxvYWRlZD0hMCxfbWZwVHJpZ2dlcigiSW1hZ2VMb2FkQ29tcGxldGUiKSk6KGd1YXJkKyssMjAwPmd1YXJkP3NldFRpbWVvdXQob25Mb2FkQ29tcGxldGUsMTAwKTpvbkxvYWRFcnJvcigpKSl9LG9uTG9hZEVycm9yPWZ1bmN0aW9uKCl7aXRlbSYmKGl0ZW0uaW1nLm9mZigiLm1mcGxvYWRlciIpLGl0ZW09PT1tZnAuY3Vyckl0ZW0mJihtZnAuX29uSW1hZ2VIYXNTaXplKGl0ZW0pLG1mcC51cGRhdGVTdGF0dXMoImVycm9yIixpbWdTdC50RXJyb3IucmVwbGFjZSgiJXVybCUiLGl0ZW0uc3JjKSkpLGl0ZW0uaGFzU2l6ZT0hMCxpdGVtLmxvYWRlZD0hMCxpdGVtLmxvYWRFcnJvcj0hMCl9LGltZ1N0PW1mcC5zdC5pbWFnZSxlbD10ZW1wbGF0ZS5maW5kKCIubWZwLWltZyIpO2lmKGVsLmxlbmd0aCl7dmFyIGltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtpbWcuY2xhc3NOYW1lPSJtZnAtaW1nIixpdGVtLmltZz0kKGltZykub24oImxvYWQubWZwbG9hZGVyIixvbkxvYWRDb21wbGV0ZSkub24oImVycm9yLm1mcGxvYWRlciIsb25Mb2FkRXJyb3IpLGltZy5zcmM9aXRlbS5zcmMsZWwuaXMoImltZyIpJiYoaXRlbS5pbWc9aXRlbS5pbWcuY2xvbmUoKSksaXRlbS5pbWdbMF0ubmF0dXJhbFdpZHRoPjAmJihpdGVtLmhhc1NpemU9ITApfXJldHVybiBtZnAuX3BhcnNlTWFya3VwKHRlbXBsYXRlLHt0aXRsZTpfZ2V0VGl0bGUoaXRlbSksaW1nX3JlcGxhY2VXaXRoOml0ZW0uaW1nfSxpdGVtKSxtZnAucmVzaXplSW1hZ2UoKSxpdGVtLmhhc1NpemU/KF9pbWdJbnRlcnZhbCYmY2xlYXJJbnRlcnZhbChfaW1nSW50ZXJ2YWwpLGl0ZW0ubG9hZEVycm9yPyh0ZW1wbGF0ZS5hZGRDbGFzcygibWZwLWxvYWRpbmciKSxtZnAudXBkYXRlU3RhdHVzKCJlcnJvciIsaW1nU3QudEVycm9yLnJlcGxhY2UoIiV1cmwlIixpdGVtLnNyYykpKToodGVtcGxhdGUucmVtb3ZlQ2xhc3MoIm1mcC1sb2FkaW5nIiksbWZwLnVwZGF0ZVN0YXR1cygicmVhZHkiKSksdGVtcGxhdGUpOihtZnAudXBkYXRlU3RhdHVzKCJsb2FkaW5nIiksaXRlbS5sb2FkaW5nPSEwLGl0ZW0uaGFzU2l6ZXx8KGl0ZW0uaW1nSGlkZGVuPSEwLHRlbXBsYXRlLmFkZENsYXNzKCJtZnAtbG9hZGluZyIpLG1mcC5maW5kSW1hZ2VTaXplKGl0ZW0pKSx0ZW1wbGF0ZSl9fX0pO3ZhciBoYXNNb3pUcmFuc2Zvcm0sZ2V0SGFzTW96VHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWhhc01velRyYW5zZm9ybSYmKGhhc01velRyYW5zZm9ybT12b2lkIDAhPT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIikuc3R5bGUuTW96VHJhbnNmb3JtKSxoYXNNb3pUcmFuc2Zvcm19OyQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZSgiem9vbSIse29wdGlvbnM6e2VuYWJsZWQ6ITEsZWFzaW5nOiJlYXNlLWluLW91dCIsZHVyYXRpb246MzAwLG9wZW5lcjpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5pcygiaW1nIik/ZWxlbWVudDplbGVtZW50LmZpbmQoImltZyIpfX0scHJvdG86e2luaXRab29tOmZ1bmN0aW9uKCl7dmFyIGltYWdlLHpvb21TdD1tZnAuc3Quem9vbSxucz0iLnpvb20iO2lmKHpvb21TdC5lbmFibGVkJiZtZnAuc3VwcG9ydHNUcmFuc2l0aW9uKXt2YXIgb3BlblRpbWVvdXQsYW5pbWF0ZWRJbWcsZHVyYXRpb249em9vbVN0LmR1cmF0aW9uLGdldEVsVG9BbmltYXRlPWZ1bmN0aW9uKGltYWdlKXt2YXIgbmV3SW1nPWltYWdlLmNsb25lKCkucmVtb3ZlQXR0cigic3R5bGUiKS5yZW1vdmVBdHRyKCJjbGFzcyIpLmFkZENsYXNzKCJtZnAtYW5pbWF0ZWQtaW1hZ2UiKSx0cmFuc2l0aW9uPSJhbGwgIit6b29tU3QuZHVyYXRpb24vMWUzKyJzICIrem9vbVN0LmVhc2luZyxjc3NPYmo9e3Bvc2l0aW9uOiJmaXhlZCIsekluZGV4Ojk5OTksbGVmdDowLHRvcDowLCItd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHkiOiJoaWRkZW4ifSx0PSJ0cmFuc2l0aW9uIjtyZXR1cm4gY3NzT2JqWyItd2Via2l0LSIrdF09Y3NzT2JqWyItbW96LSIrdF09Y3NzT2JqWyItby0iK3RdPWNzc09ialt0XT10cmFuc2l0aW9uLG5ld0ltZy5jc3MoY3NzT2JqKSxuZXdJbWd9LHNob3dNYWluQ29udGVudD1mdW5jdGlvbigpe21mcC5jb250ZW50LmNzcygidmlzaWJpbGl0eSIsInZpc2libGUiKX07X21mcE9uKCJCdWlsZENvbnRyb2xzIitucyxmdW5jdGlvbigpe2lmKG1mcC5fYWxsb3dab29tKCkpe2lmKGNsZWFyVGltZW91dChvcGVuVGltZW91dCksbWZwLmNvbnRlbnQuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksaW1hZ2U9bWZwLl9nZXRJdGVtVG9ab29tKCksIWltYWdlKXJldHVybiB2b2lkIHNob3dNYWluQ29udGVudCgpO2FuaW1hdGVkSW1nPWdldEVsVG9BbmltYXRlKGltYWdlKSxhbmltYXRlZEltZy5jc3MobWZwLl9nZXRPZmZzZXQoKSksbWZwLndyYXAuYXBwZW5kKGFuaW1hdGVkSW1nKSxvcGVuVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YW5pbWF0ZWRJbWcuY3NzKG1mcC5fZ2V0T2Zmc2V0KCEwKSksb3BlblRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3Nob3dNYWluQ29udGVudCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthbmltYXRlZEltZy5yZW1vdmUoKSxpbWFnZT1hbmltYXRlZEltZz1udWxsLF9tZnBUcmlnZ2VyKCJab29tQW5pbWF0aW9uRW5kZWQiKX0sMTYpfSxkdXJhdGlvbil9LDE2KX19KSxfbWZwT24oQkVGT1JFX0NMT1NFX0VWRU5UK25zLGZ1bmN0aW9uKCl7aWYobWZwLl9hbGxvd1pvb20oKSl7aWYoY2xlYXJUaW1lb3V0KG9wZW5UaW1lb3V0KSxtZnAuc3QucmVtb3ZhbERlbGF5PWR1cmF0aW9uLCFpbWFnZSl7aWYoaW1hZ2U9bWZwLl9nZXRJdGVtVG9ab29tKCksIWltYWdlKXJldHVybjthbmltYXRlZEltZz1nZXRFbFRvQW5pbWF0ZShpbWFnZSl9YW5pbWF0ZWRJbWcuY3NzKG1mcC5fZ2V0T2Zmc2V0KCEwKSksbWZwLndyYXAuYXBwZW5kKGFuaW1hdGVkSW1nKSxtZnAuY29udGVudC5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YW5pbWF0ZWRJbWcuY3NzKG1mcC5fZ2V0T2Zmc2V0KCkpfSwxNil9fSksX21mcE9uKENMT1NFX0VWRU5UK25zLGZ1bmN0aW9uKCl7bWZwLl9hbGxvd1pvb20oKSYmKHNob3dNYWluQ29udGVudCgpLGFuaW1hdGVkSW1nJiZhbmltYXRlZEltZy5yZW1vdmUoKSxpbWFnZT1udWxsKX0pfX0sX2FsbG93Wm9vbTpmdW5jdGlvbigpe3JldHVybiJpbWFnZSI9PT1tZnAuY3Vyckl0ZW0udHlwZX0sX2dldEl0ZW1Ub1pvb206ZnVuY3Rpb24oKXtyZXR1cm4gbWZwLmN1cnJJdGVtLmhhc1NpemU/bWZwLmN1cnJJdGVtLmltZzohMX0sX2dldE9mZnNldDpmdW5jdGlvbihpc0xhcmdlKXt2YXIgZWw7ZWw9aXNMYXJnZT9tZnAuY3Vyckl0ZW0uaW1nOm1mcC5zdC56b29tLm9wZW5lcihtZnAuY3Vyckl0ZW0uZWx8fG1mcC5jdXJySXRlbSk7dmFyIG9mZnNldD1lbC5vZmZzZXQoKSxwYWRkaW5nVG9wPXBhcnNlSW50KGVsLmNzcygicGFkZGluZy10b3AiKSwxMCkscGFkZGluZ0JvdHRvbT1wYXJzZUludChlbC5jc3MoInBhZGRpbmctYm90dG9tIiksMTApO29mZnNldC50b3AtPSQod2luZG93KS5zY3JvbGxUb3AoKS1wYWRkaW5nVG9wO3ZhciBvYmo9e3dpZHRoOmVsLndpZHRoKCksaGVpZ2h0OihfaXNKUT9lbC5pbm5lckhlaWdodCgpOmVsWzBdLm9mZnNldEhlaWdodCktcGFkZGluZ0JvdHRvbS1wYWRkaW5nVG9wfTtyZXR1cm4gZ2V0SGFzTW96VHJhbnNmb3JtKCk/b2JqWyItbW96LXRyYW5zZm9ybSJdPW9iai50cmFuc2Zvcm09InRyYW5zbGF0ZSgiK29mZnNldC5sZWZ0KyJweCwiK29mZnNldC50b3ArInB4KSI6KG9iai5sZWZ0PW9mZnNldC5sZWZ0LG9iai50b3A9b2Zmc2V0LnRvcCksb2JqfX19KTt2YXIgSUZSQU1FX05TPSJpZnJhbWUiLF9lbXB0eVBhZ2U9Ii8vYWJvdXQ6YmxhbmsiLF9maXhJZnJhbWVCdWdzPWZ1bmN0aW9uKGlzU2hvd2luZyl7aWYobWZwLmN1cnJUZW1wbGF0ZVtJRlJBTUVfTlNdKXt2YXIgZWw9bWZwLmN1cnJUZW1wbGF0ZVtJRlJBTUVfTlNdLmZpbmQoImlmcmFtZSIpO2VsLmxlbmd0aCYmKGlzU2hvd2luZ3x8KGVsWzBdLnNyYz1fZW1wdHlQYWdlKSxtZnAuaXNJRTgmJmVsLmNzcygiZGlzcGxheSIsaXNTaG93aW5nPyJibG9jayI6Im5vbmUiKSl9fTskLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoSUZSQU1FX05TLHtvcHRpb25zOnttYXJrdXA6JzxkaXYgY2xhc3M9Im1mcC1pZnJhbWUtc2NhbGVyIj48ZGl2IGNsYXNzPSJtZnAtY2xvc2UiPjwvZGl2PjxpZnJhbWUgY2xhc3M9Im1mcC1pZnJhbWUiIHNyYz0iLy9hYm91dDpibGFuayIgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT48L2Rpdj4nLHNyY0FjdGlvbjoiaWZyYW1lX3NyYyIscGF0dGVybnM6e3lvdXR1YmU6e2luZGV4OiJ5b3V0dWJlLmNvbSIsaWQ6InY9IixzcmM6Ii8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyVpZCU/YXV0b3BsYXk9MSJ9LHZpbWVvOntpbmRleDoidmltZW8uY29tLyIsaWQ6Ii8iLHNyYzoiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyVpZCU/YXV0b3BsYXk9MSJ9LGdtYXBzOntpbmRleDoiLy9tYXBzLmdvb2dsZS4iLHNyYzoiJWlkJSZvdXRwdXQ9ZW1iZWQifX19LHByb3RvOntpbml0SWZyYW1lOmZ1bmN0aW9uKCl7bWZwLnR5cGVzLnB1c2goSUZSQU1FX05TKSxfbWZwT24oIkJlZm9yZUNoYW5nZSIsZnVuY3Rpb24oZSxwcmV2VHlwZSxuZXdUeXBlKXtwcmV2VHlwZSE9PW5ld1R5cGUmJihwcmV2VHlwZT09PUlGUkFNRV9OUz9fZml4SWZyYW1lQnVncygpOm5ld1R5cGU9PT1JRlJBTUVfTlMmJl9maXhJZnJhbWVCdWdzKCEwKSl9KSxfbWZwT24oQ0xPU0VfRVZFTlQrIi4iK0lGUkFNRV9OUyxmdW5jdGlvbigpe19maXhJZnJhbWVCdWdzKCl9KX0sZ2V0SWZyYW1lOmZ1bmN0aW9uKGl0ZW0sdGVtcGxhdGUpe3ZhciBlbWJlZFNyYz1pdGVtLnNyYyxpZnJhbWVTdD1tZnAuc3QuaWZyYW1lOyQuZWFjaChpZnJhbWVTdC5wYXR0ZXJucyxmdW5jdGlvbigpe3JldHVybiBlbWJlZFNyYy5pbmRleE9mKHRoaXMuaW5kZXgpPi0xPyh0aGlzLmlkJiYoZW1iZWRTcmM9InN0cmluZyI9PXR5cGVvZiB0aGlzLmlkP2VtYmVkU3JjLnN1YnN0cihlbWJlZFNyYy5sYXN0SW5kZXhPZih0aGlzLmlkKSt0aGlzLmlkLmxlbmd0aCxlbWJlZFNyYy5sZW5ndGgpOnRoaXMuaWQuY2FsbCh0aGlzLGVtYmVkU3JjKSksZW1iZWRTcmM9dGhpcy5zcmMucmVwbGFjZSgiJWlkJSIsZW1iZWRTcmMpLCExKTp2b2lkIDAKfSk7dmFyIGRhdGFPYmo9e307cmV0dXJuIGlmcmFtZVN0LnNyY0FjdGlvbiYmKGRhdGFPYmpbaWZyYW1lU3Quc3JjQWN0aW9uXT1lbWJlZFNyYyksbWZwLl9wYXJzZU1hcmt1cCh0ZW1wbGF0ZSxkYXRhT2JqLGl0ZW0pLG1mcC51cGRhdGVTdGF0dXMoInJlYWR5IiksdGVtcGxhdGV9fX0pO3ZhciBfZ2V0TG9vcGVkSWQ9ZnVuY3Rpb24oaW5kZXgpe3ZhciBudW1TbGlkZXM9bWZwLml0ZW1zLmxlbmd0aDtyZXR1cm4gaW5kZXg+bnVtU2xpZGVzLTE/aW5kZXgtbnVtU2xpZGVzOjA+aW5kZXg/bnVtU2xpZGVzK2luZGV4OmluZGV4fSxfcmVwbGFjZUN1cnJUb3RhbD1mdW5jdGlvbih0ZXh0LGN1cnIsdG90YWwpe3JldHVybiB0ZXh0LnJlcGxhY2UoLyVjdXJyJS9naSxjdXJyKzEpLnJlcGxhY2UoLyV0b3RhbCUvZ2ksdG90YWwpfTskLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoImdhbGxlcnkiLHtvcHRpb25zOntlbmFibGVkOiExLGFycm93TWFya3VwOic8YnV0dG9uIHRpdGxlPSIldGl0bGUlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJtZnAtYXJyb3cgbWZwLWFycm93LSVkaXIlIj48L2J1dHRvbj4nLHByZWxvYWQ6WzAsMl0sbmF2aWdhdGVCeUltZ0NsaWNrOiEwLGFycm93czohMCx0UHJldjoiUHJldmlvdXMgKExlZnQgYXJyb3cga2V5KSIsdE5leHQ6Ik5leHQgKFJpZ2h0IGFycm93IGtleSkiLHRDb3VudGVyOiIlY3VyciUgb2YgJXRvdGFsJSJ9LHByb3RvOntpbml0R2FsbGVyeTpmdW5jdGlvbigpe3ZhciBnU3Q9bWZwLnN0LmdhbGxlcnksbnM9Ii5tZnAtZ2FsbGVyeSIsc3VwcG9ydHNGYXN0Q2xpY2s9Qm9vbGVhbigkLmZuLm1mcEZhc3RDbGljayk7cmV0dXJuIG1mcC5kaXJlY3Rpb249ITAsZ1N0JiZnU3QuZW5hYmxlZD8oX3dyYXBDbGFzc2VzKz0iIG1mcC1nYWxsZXJ5IixfbWZwT24oT1BFTl9FVkVOVCtucyxmdW5jdGlvbigpe2dTdC5uYXZpZ2F0ZUJ5SW1nQ2xpY2smJm1mcC53cmFwLm9uKCJjbGljayIrbnMsIi5tZnAtaW1nIixmdW5jdGlvbigpe3JldHVybiBtZnAuaXRlbXMubGVuZ3RoPjE/KG1mcC5uZXh0KCksITEpOnZvaWQgMH0pLF9kb2N1bWVudC5vbigia2V5ZG93biIrbnMsZnVuY3Rpb24oZSl7Mzc9PT1lLmtleUNvZGU/bWZwLnByZXYoKTozOT09PWUua2V5Q29kZSYmbWZwLm5leHQoKX0pfSksX21mcE9uKCJVcGRhdGVTdGF0dXMiK25zLGZ1bmN0aW9uKGUsZGF0YSl7ZGF0YS50ZXh0JiYoZGF0YS50ZXh0PV9yZXBsYWNlQ3VyclRvdGFsKGRhdGEudGV4dCxtZnAuY3Vyckl0ZW0uaW5kZXgsbWZwLml0ZW1zLmxlbmd0aCkpfSksX21mcE9uKE1BUktVUF9QQVJTRV9FVkVOVCtucyxmdW5jdGlvbihlLGVsZW1lbnQsdmFsdWVzLGl0ZW0pe3ZhciBsPW1mcC5pdGVtcy5sZW5ndGg7dmFsdWVzLmNvdW50ZXI9bD4xP19yZXBsYWNlQ3VyclRvdGFsKGdTdC50Q291bnRlcixpdGVtLmluZGV4LGwpOiIifSksX21mcE9uKCJCdWlsZENvbnRyb2xzIitucyxmdW5jdGlvbigpe2lmKG1mcC5pdGVtcy5sZW5ndGg+MSYmZ1N0LmFycm93cyYmIW1mcC5hcnJvd0xlZnQpe3ZhciBtYXJrdXA9Z1N0LmFycm93TWFya3VwLGFycm93TGVmdD1tZnAuYXJyb3dMZWZ0PSQobWFya3VwLnJlcGxhY2UoLyV0aXRsZSUvZ2ksZ1N0LnRQcmV2KS5yZXBsYWNlKC8lZGlyJS9naSwibGVmdCIpKS5hZGRDbGFzcyhQUkVWRU5UX0NMT1NFX0NMQVNTKSxhcnJvd1JpZ2h0PW1mcC5hcnJvd1JpZ2h0PSQobWFya3VwLnJlcGxhY2UoLyV0aXRsZSUvZ2ksZ1N0LnROZXh0KS5yZXBsYWNlKC8lZGlyJS9naSwicmlnaHQiKSkuYWRkQ2xhc3MoUFJFVkVOVF9DTE9TRV9DTEFTUyksZU5hbWU9c3VwcG9ydHNGYXN0Q2xpY2s/Im1mcEZhc3RDbGljayI6ImNsaWNrIjthcnJvd0xlZnRbZU5hbWVdKGZ1bmN0aW9uKCl7bWZwLnByZXYoKX0pLGFycm93UmlnaHRbZU5hbWVdKGZ1bmN0aW9uKCl7bWZwLm5leHQoKX0pLG1mcC5pc0lFNyYmKF9nZXRFbCgiYiIsYXJyb3dMZWZ0WzBdLCExLCEwKSxfZ2V0RWwoImEiLGFycm93TGVmdFswXSwhMSwhMCksX2dldEVsKCJiIixhcnJvd1JpZ2h0WzBdLCExLCEwKSxfZ2V0RWwoImEiLGFycm93UmlnaHRbMF0sITEsITApKSxtZnAuY29udGFpbmVyLmFwcGVuZChhcnJvd0xlZnQuYWRkKGFycm93UmlnaHQpKX19KSxfbWZwT24oQ0hBTkdFX0VWRU5UK25zLGZ1bmN0aW9uKCl7bWZwLl9wcmVsb2FkVGltZW91dCYmY2xlYXJUaW1lb3V0KG1mcC5fcHJlbG9hZFRpbWVvdXQpLG1mcC5fcHJlbG9hZFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe21mcC5wcmVsb2FkTmVhcmJ5SW1hZ2VzKCksbWZwLl9wcmVsb2FkVGltZW91dD1udWxsfSwxNil9KSx2b2lkIF9tZnBPbihDTE9TRV9FVkVOVCtucyxmdW5jdGlvbigpe19kb2N1bWVudC5vZmYobnMpLG1mcC53cmFwLm9mZigiY2xpY2siK25zKSxtZnAuYXJyb3dMZWZ0JiZzdXBwb3J0c0Zhc3RDbGljayYmbWZwLmFycm93TGVmdC5hZGQobWZwLmFycm93UmlnaHQpLmRlc3Ryb3lNZnBGYXN0Q2xpY2soKSxtZnAuYXJyb3dSaWdodD1tZnAuYXJyb3dMZWZ0PW51bGx9KSk6ITF9LG5leHQ6ZnVuY3Rpb24oKXttZnAuZGlyZWN0aW9uPSEwLG1mcC5pbmRleD1fZ2V0TG9vcGVkSWQobWZwLmluZGV4KzEpLG1mcC51cGRhdGVJdGVtSFRNTCgpfSxwcmV2OmZ1bmN0aW9uKCl7bWZwLmRpcmVjdGlvbj0hMSxtZnAuaW5kZXg9X2dldExvb3BlZElkKG1mcC5pbmRleC0xKSxtZnAudXBkYXRlSXRlbUhUTUwoKX0sZ29UbzpmdW5jdGlvbihuZXdJbmRleCl7bWZwLmRpcmVjdGlvbj1uZXdJbmRleD49bWZwLmluZGV4LG1mcC5pbmRleD1uZXdJbmRleCxtZnAudXBkYXRlSXRlbUhUTUwoKX0scHJlbG9hZE5lYXJieUltYWdlczpmdW5jdGlvbigpe3ZhciBpLHA9bWZwLnN0LmdhbGxlcnkucHJlbG9hZCxwcmVsb2FkQmVmb3JlPU1hdGgubWluKHBbMF0sbWZwLml0ZW1zLmxlbmd0aCkscHJlbG9hZEFmdGVyPU1hdGgubWluKHBbMV0sbWZwLml0ZW1zLmxlbmd0aCk7Zm9yKGk9MTtpPD0obWZwLmRpcmVjdGlvbj9wcmVsb2FkQWZ0ZXI6cHJlbG9hZEJlZm9yZSk7aSsrKW1mcC5fcHJlbG9hZEl0ZW0obWZwLmluZGV4K2kpO2ZvcihpPTE7aTw9KG1mcC5kaXJlY3Rpb24/cHJlbG9hZEJlZm9yZTpwcmVsb2FkQWZ0ZXIpO2krKyltZnAuX3ByZWxvYWRJdGVtKG1mcC5pbmRleC1pKX0sX3ByZWxvYWRJdGVtOmZ1bmN0aW9uKGluZGV4KXtpZihpbmRleD1fZ2V0TG9vcGVkSWQoaW5kZXgpLCFtZnAuaXRlbXNbaW5kZXhdLnByZWxvYWRlZCl7dmFyIGl0ZW09bWZwLml0ZW1zW2luZGV4XTtpdGVtLnBhcnNlZHx8KGl0ZW09bWZwLnBhcnNlRWwoaW5kZXgpKSxfbWZwVHJpZ2dlcigiTGF6eUxvYWQiLGl0ZW0pLCJpbWFnZSI9PT1pdGVtLnR5cGUmJihpdGVtLmltZz0kKCc8aW1nIGNsYXNzPSJtZnAtaW1nIiAvPicpLm9uKCJsb2FkLm1mcGxvYWRlciIsZnVuY3Rpb24oKXtpdGVtLmhhc1NpemU9ITB9KS5vbigiZXJyb3IubWZwbG9hZGVyIixmdW5jdGlvbigpe2l0ZW0uaGFzU2l6ZT0hMCxpdGVtLmxvYWRFcnJvcj0hMCxfbWZwVHJpZ2dlcigiTGF6eUxvYWRFcnJvciIsaXRlbSl9KS5hdHRyKCJzcmMiLGl0ZW0uc3JjKSksaXRlbS5wcmVsb2FkZWQ9ITB9fX19KTt2YXIgUkVUSU5BX05TPSJyZXRpbmEiOyQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZShSRVRJTkFfTlMse29wdGlvbnM6e3JlcGxhY2VTcmM6ZnVuY3Rpb24oaXRlbSl7cmV0dXJuIGl0ZW0uc3JjLnJlcGxhY2UoL1wuXHcrJC8sZnVuY3Rpb24obSl7cmV0dXJuIkAyeCIrbX0pfSxyYXRpbzoxfSxwcm90bzp7aW5pdFJldGluYTpmdW5jdGlvbigpe2lmKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPjEpe3ZhciBzdD1tZnAuc3QucmV0aW5hLHJhdGlvPXN0LnJhdGlvO3JhdGlvPWlzTmFOKHJhdGlvKT9yYXRpbygpOnJhdGlvLHJhdGlvPjEmJihfbWZwT24oIkltYWdlSGFzU2l6ZS4iK1JFVElOQV9OUyxmdW5jdGlvbihlLGl0ZW0pe2l0ZW0uaW1nLmNzcyh7Im1heC13aWR0aCI6aXRlbS5pbWdbMF0ubmF0dXJhbFdpZHRoL3JhdGlvLHdpZHRoOiIxMDAlIn0pfSksX21mcE9uKCJFbGVtZW50UGFyc2UuIitSRVRJTkFfTlMsZnVuY3Rpb24oZSxpdGVtKXtpdGVtLnNyYz1zdC5yZXBsYWNlU3JjKGl0ZW0scmF0aW8pfSkpfX19fSksZnVuY3Rpb24oKXt2YXIgZ2hvc3RDbGlja0RlbGF5PTFlMyxzdXBwb3J0c1RvdWNoPSJvbnRvdWNoc3RhcnQiaW4gd2luZG93LHVuYmluZFRvdWNoTW92ZT1mdW5jdGlvbigpe193aW5kb3cub2ZmKCJ0b3VjaG1vdmUiK25zKyIgdG91Y2hlbmQiK25zKX0sZU5hbWU9Im1mcEZhc3RDbGljayIsbnM9Ii4iK2VOYW1lOyQuZm4ubWZwRmFzdENsaWNrPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGxvY2ssZWxlbT0kKHRoaXMpO2lmKHN1cHBvcnRzVG91Y2gpe3ZhciB0aW1lb3V0LHN0YXJ0WCxzdGFydFkscG9pbnRlck1vdmVkLHBvaW50LG51bVBvaW50ZXJzO2VsZW0ub24oInRvdWNoc3RhcnQiK25zLGZ1bmN0aW9uKGUpe3BvaW50ZXJNb3ZlZD0hMSxudW1Qb2ludGVycz0xLHBvaW50PWUub3JpZ2luYWxFdmVudD9lLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTplLnRvdWNoZXNbMF0sc3RhcnRYPXBvaW50LmNsaWVudFgsc3RhcnRZPXBvaW50LmNsaWVudFksX3dpbmRvdy5vbigidG91Y2htb3ZlIitucyxmdW5jdGlvbihlKXtwb2ludD1lLm9yaWdpbmFsRXZlbnQ/ZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM6ZS50b3VjaGVzLG51bVBvaW50ZXJzPXBvaW50Lmxlbmd0aCxwb2ludD1wb2ludFswXSwoTWF0aC5hYnMocG9pbnQuY2xpZW50WC1zdGFydFgpPjEwfHxNYXRoLmFicyhwb2ludC5jbGllbnRZLXN0YXJ0WSk+MTApJiYocG9pbnRlck1vdmVkPSEwLHVuYmluZFRvdWNoTW92ZSgpKX0pLm9uKCJ0b3VjaGVuZCIrbnMsZnVuY3Rpb24oZSl7dW5iaW5kVG91Y2hNb3ZlKCkscG9pbnRlck1vdmVkfHxudW1Qb2ludGVycz4xfHwobG9jaz0hMCxlLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRpbWVvdXQpLHRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2xvY2s9ITF9LGdob3N0Q2xpY2tEZWxheSksY2FsbGJhY2soKSl9KX0pfWVsZW0ub24oImNsaWNrIitucyxmdW5jdGlvbigpe2xvY2t8fGNhbGxiYWNrKCl9KX0pfSwkLmZuLmRlc3Ryb3lNZnBGYXN0Q2xpY2s9ZnVuY3Rpb24oKXskKHRoaXMpLm9mZigidG91Y2hzdGFydCIrbnMrIiBjbGljayIrbnMpLHN1cHBvcnRzVG91Y2gmJl93aW5kb3cub2ZmKCJ0b3VjaG1vdmUiK25zKyIgdG91Y2hlbmQiK25zKX19KCksX2NoZWNrSW5zdGFuY2UoKX0od2luZG93LmpRdWVyeXx8d2luZG93LlplcHRvKSwhZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciBmOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P2Y9d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2Y9Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmKGY9c2VsZiksZi5pbz1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmU7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPV9kZXJlcV8oIi4vbGliLyIpfSx7Ii4vbGliLyI6Mn1dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIGxvb2t1cCh1cmksb3B0cyl7Im9iamVjdCI9PXR5cGVvZiB1cmkmJihvcHRzPXVyaSx1cmk9dm9pZCAwKSxvcHRzPW9wdHN8fHt9O3ZhciBpbyxwYXJzZWQ9dXJsKHVyaSksc291cmNlPXBhcnNlZC5zb3VyY2UsaWQ9cGFyc2VkLmlkO3JldHVybiBvcHRzLmZvcmNlTmV3fHxvcHRzWyJmb3JjZSBuZXcgY29ubmVjdGlvbiJdfHwhMT09PW9wdHMubXVsdGlwbGV4PyhkZWJ1ZygiaWdub3Jpbmcgc29ja2V0IGNhY2hlIGZvciAlcyIsc291cmNlKSxpbz1NYW5hZ2VyKHNvdXJjZSxvcHRzKSk6KGNhY2hlW2lkXXx8KGRlYnVnKCJuZXcgaW8gaW5zdGFuY2UgZm9yICVzIixzb3VyY2UpLGNhY2hlW2lkXT1NYW5hZ2VyKHNvdXJjZSxvcHRzKSksaW89Y2FjaGVbaWRdKSxpby5zb2NrZXQocGFyc2VkLnBhdGgpfXZhciB1cmw9X2RlcmVxXygiLi91cmwiKSxwYXJzZXI9X2RlcmVxXygic29ja2V0LmlvLXBhcnNlciIpLE1hbmFnZXI9X2RlcmVxXygiLi9tYW5hZ2VyIiksZGVidWc9X2RlcmVxXygiZGVidWciKSgic29ja2V0LmlvLWNsaWVudCIpO21vZHVsZS5leHBvcnRzPWV4cG9ydHM9bG9va3VwO3ZhciBjYWNoZT1leHBvcnRzLm1hbmFnZXJzPXt9O2V4cG9ydHMucHJvdG9jb2w9cGFyc2VyLnByb3RvY29sLGV4cG9ydHMuY29ubmVjdD1sb29rdXAsZXhwb3J0cy5NYW5hZ2VyPV9kZXJlcV8oIi4vbWFuYWdlciIpLGV4cG9ydHMuU29ja2V0PV9kZXJlcV8oIi4vc29ja2V0Iil9LHsiLi9tYW5hZ2VyIjozLCIuL3NvY2tldCI6NSwiLi91cmwiOjYsZGVidWc6OSwic29ja2V0LmlvLXBhcnNlciI6NDB9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gTWFuYWdlcih1cmksb3B0cyl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBNYW5hZ2VyPyh1cmkmJiJvYmplY3QiPT10eXBlb2YgdXJpJiYob3B0cz11cmksdXJpPXZvaWQgMCksb3B0cz1vcHRzfHx7fSxvcHRzLnBhdGg9b3B0cy5wYXRofHwiL3NvY2tldC5pbyIsdGhpcy5uc3BzPXt9LHRoaXMuc3Vicz1bXSx0aGlzLm9wdHM9b3B0cyx0aGlzLnJlY29ubmVjdGlvbihvcHRzLnJlY29ubmVjdGlvbiE9PSExKSx0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKG9wdHMucmVjb25uZWN0aW9uQXR0ZW1wdHN8fDEvMCksdGhpcy5yZWNvbm5lY3Rpb25EZWxheShvcHRzLnJlY29ubmVjdGlvbkRlbGF5fHwxZTMpLHRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgob3B0cy5yZWNvbm5lY3Rpb25EZWxheU1heHx8NWUzKSx0aGlzLnRpbWVvdXQobnVsbD09b3B0cy50aW1lb3V0PzJlNDpvcHRzLnRpbWVvdXQpLHRoaXMucmVhZHlTdGF0ZT0iY2xvc2VkIix0aGlzLnVyaT11cmksdGhpcy5jb25uZWN0ZWQ9MCx0aGlzLmF0dGVtcHRzPTAsdGhpcy5lbmNvZGluZz0hMSx0aGlzLnBhY2tldEJ1ZmZlcj1bXSx0aGlzLmVuY29kZXI9bmV3IHBhcnNlci5FbmNvZGVyLHRoaXMuZGVjb2Rlcj1uZXcgcGFyc2VyLkRlY29kZXIsdGhpcy5hdXRvQ29ubmVjdD1vcHRzLmF1dG9Db25uZWN0IT09ITEsdm9pZCh0aGlzLmF1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKSkpOm5ldyBNYW5hZ2VyKHVyaSxvcHRzKX12YXIgZWlvPShfZGVyZXFfKCIuL3VybCIpLF9kZXJlcV8oImVuZ2luZS5pby1jbGllbnQiKSksU29ja2V0PV9kZXJlcV8oIi4vc29ja2V0IiksRW1pdHRlcj1fZGVyZXFfKCJjb21wb25lbnQtZW1pdHRlciIpLHBhcnNlcj1fZGVyZXFfKCJzb2NrZXQuaW8tcGFyc2VyIiksb249X2RlcmVxXygiLi9vbiIpLGJpbmQ9X2RlcmVxXygiY29tcG9uZW50LWJpbmQiKSxkZWJ1Zz0oX2RlcmVxXygib2JqZWN0LWNvbXBvbmVudCIpLF9kZXJlcV8oImRlYnVnIikoInNvY2tldC5pby1jbGllbnQ6bWFuYWdlciIpKTttb2R1bGUuZXhwb3J0cz1NYW5hZ2VyLE1hbmFnZXIucHJvdG90eXBlLmVtaXRBbGw9ZnVuY3Rpb24oKXt0aGlzLmVtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgbnNwIGluIHRoaXMubnNwcyl0aGlzLm5zcHNbbnNwXS5lbWl0LmFwcGx5KHRoaXMubnNwc1tuc3BdLGFyZ3VtZW50cyl9LEVtaXR0ZXIoTWFuYWdlci5wcm90b3R5cGUpLE1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbj1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uPSEhdix0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb259LE1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbkF0dGVtcHRzPWZ1bmN0aW9uKHYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cz12LHRoaXMpOnRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzfSxNYW5hZ2VyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25EZWxheT1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uRGVsYXk9dix0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb25EZWxheX0sTWFuYWdlci5wcm90b3R5cGUucmVjb25uZWN0aW9uRGVsYXlNYXg9ZnVuY3Rpb24odil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4PXYsdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXh9LE1hbmFnZXIucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3RpbWVvdXQ9dix0aGlzKTp0aGlzLl90aW1lb3V0fSxNYW5hZ2VyLnByb3RvdHlwZS5tYXliZVJlY29ubmVjdE9uT3Blbj1mdW5jdGlvbigpe3RoaXMub3BlblJlY29ubmVjdHx8dGhpcy5yZWNvbm5lY3Rpbmd8fCF0aGlzLl9yZWNvbm5lY3Rpb258fDAhPT10aGlzLmF0dGVtcHRzfHwodGhpcy5vcGVuUmVjb25uZWN0PSEwLHRoaXMucmVjb25uZWN0KCkpfSxNYW5hZ2VyLnByb3RvdHlwZS5vcGVuPU1hbmFnZXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZm4pe2lmKGRlYnVnKCJyZWFkeVN0YXRlICVzIix0aGlzLnJlYWR5U3RhdGUpLH50aGlzLnJlYWR5U3RhdGUuaW5kZXhPZigib3BlbiIpKXJldHVybiB0aGlzO2RlYnVnKCJvcGVuaW5nICVzIix0aGlzLnVyaSksdGhpcy5lbmdpbmU9ZWlvKHRoaXMudXJpLHRoaXMub3B0cyk7dmFyIHNvY2tldD10aGlzLmVuZ2luZSxzZWxmPXRoaXM7dGhpcy5yZWFkeVN0YXRlPSJvcGVuaW5nIjt2YXIgb3BlblN1Yj1vbihzb2NrZXQsIm9wZW4iLGZ1bmN0aW9uKCl7c2VsZi5vbm9wZW4oKSxmbiYmZm4oKX0pLGVycm9yU3ViPW9uKHNvY2tldCwiZXJyb3IiLGZ1bmN0aW9uKGRhdGEpe2lmKGRlYnVnKCJjb25uZWN0X2Vycm9yIiksc2VsZi5jbGVhbnVwKCksc2VsZi5yZWFkeVN0YXRlPSJjbG9zZWQiLHNlbGYuZW1pdEFsbCgiY29ubmVjdF9lcnJvciIsZGF0YSksZm4pe3ZhciBlcnI9bmV3IEVycm9yKCJDb25uZWN0aW9uIGVycm9yIik7ZXJyLmRhdGE9ZGF0YSxmbihlcnIpfXNlbGYubWF5YmVSZWNvbm5lY3RPbk9wZW4oKX0pO2lmKCExIT09dGhpcy5fdGltZW91dCl7dmFyIHRpbWVvdXQ9dGhpcy5fdGltZW91dDtkZWJ1ZygiY29ubmVjdCBhdHRlbXB0IHdpbGwgdGltZW91dCBhZnRlciAlZCIsdGltZW91dCk7dmFyIHRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWJ1ZygiY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZCIsdGltZW91dCksb3BlblN1Yi5kZXN0cm95KCksc29ja2V0LmNsb3NlKCksc29ja2V0LmVtaXQoImVycm9yIiwidGltZW91dCIpLHNlbGYuZW1pdEFsbCgiY29ubmVjdF90aW1lb3V0Iix0aW1lb3V0KX0sdGltZW91dCk7dGhpcy5zdWJzLnB1c2goe2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZXIpfX0pfXJldHVybiB0aGlzLnN1YnMucHVzaChvcGVuU3ViKSx0aGlzLnN1YnMucHVzaChlcnJvclN1YiksdGhpc30sTWFuYWdlci5wcm90b3R5cGUub25vcGVuPWZ1bmN0aW9uKCl7ZGVidWcoIm9wZW4iKSx0aGlzLmNsZWFudXAoKSx0aGlzLnJlYWR5U3RhdGU9Im9wZW4iLHRoaXMuZW1pdCgib3BlbiIpO3ZhciBzb2NrZXQ9dGhpcy5lbmdpbmU7dGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCJkYXRhIixiaW5kKHRoaXMsIm9uZGF0YSIpKSksdGhpcy5zdWJzLnB1c2gob24odGhpcy5kZWNvZGVyLCJkZWNvZGVkIixiaW5kKHRoaXMsIm9uZGVjb2RlZCIpKSksdGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCJlcnJvciIsYmluZCh0aGlzLCJvbmVycm9yIikpKSx0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsImNsb3NlIixiaW5kKHRoaXMsIm9uY2xvc2UiKSkpfSxNYW5hZ2VyLnByb3RvdHlwZS5vbmRhdGE9ZnVuY3Rpb24oZGF0YSl7dGhpcy5kZWNvZGVyLmFkZChkYXRhKX0sTWFuYWdlci5wcm90b3R5cGUub25kZWNvZGVkPWZ1bmN0aW9uKHBhY2tldCl7dGhpcy5lbWl0KCJwYWNrZXQiLHBhY2tldCl9LE1hbmFnZXIucHJvdG90eXBlLm9uZXJyb3I9ZnVuY3Rpb24oZXJyKXtkZWJ1ZygiZXJyb3IiLGVyciksdGhpcy5lbWl0QWxsKCJlcnJvciIsZXJyKX0sTWFuYWdlci5wcm90b3R5cGUuc29ja2V0PWZ1bmN0aW9uKG5zcCl7dmFyIHNvY2tldD10aGlzLm5zcHNbbnNwXTtpZighc29ja2V0KXtzb2NrZXQ9bmV3IFNvY2tldCh0aGlzLG5zcCksdGhpcy5uc3BzW25zcF09c29ja2V0O3ZhciBzZWxmPXRoaXM7c29ja2V0Lm9uKCJjb25uZWN0IixmdW5jdGlvbigpe3NlbGYuY29ubmVjdGVkKyt9KX1yZXR1cm4gc29ja2V0fSxNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7LS10aGlzLmNvbm5lY3RlZHx8dGhpcy5jbG9zZSgpfSxNYW5hZ2VyLnByb3RvdHlwZS5wYWNrZXQ9ZnVuY3Rpb24ocGFja2V0KXtkZWJ1Zygid3JpdGluZyBwYWNrZXQgJWoiLHBhY2tldCk7dmFyIHNlbGY9dGhpcztzZWxmLmVuY29kaW5nP3NlbGYucGFja2V0QnVmZmVyLnB1c2gocGFja2V0KTooc2VsZi5lbmNvZGluZz0hMCx0aGlzLmVuY29kZXIuZW5jb2RlKHBhY2tldCxmdW5jdGlvbihlbmNvZGVkUGFja2V0cyl7Zm9yKHZhciBpPTA7aTxlbmNvZGVkUGFja2V0cy5sZW5ndGg7aSsrKXNlbGYuZW5naW5lLndyaXRlKGVuY29kZWRQYWNrZXRzW2ldKTtzZWxmLmVuY29kaW5nPSExLHNlbGYucHJvY2Vzc1BhY2tldFF1ZXVlKCl9KSl9LE1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQYWNrZXRRdWV1ZT1mdW5jdGlvbigpe2lmKHRoaXMucGFja2V0QnVmZmVyLmxlbmd0aD4wJiYhdGhpcy5lbmNvZGluZyl7dmFyIHBhY2s9dGhpcy5wYWNrZXRCdWZmZXIuc2hpZnQoKTt0aGlzLnBhY2tldChwYWNrKX19LE1hbmFnZXIucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24oKXtmb3IodmFyIHN1YjtzdWI9dGhpcy5zdWJzLnNoaWZ0KCk7KXN1Yi5kZXN0cm95KCk7dGhpcy5wYWNrZXRCdWZmZXI9W10sdGhpcy5lbmNvZGluZz0hMSx0aGlzLmRlY29kZXIuZGVzdHJveSgpfSxNYW5hZ2VyLnByb3RvdHlwZS5jbG9zZT1NYW5hZ2VyLnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5za2lwUmVjb25uZWN0PSEwLHRoaXMuZW5naW5lLmNsb3NlKCl9LE1hbmFnZXIucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24ocmVhc29uKXtkZWJ1ZygiY2xvc2UiKSx0aGlzLmNsZWFudXAoKSx0aGlzLnJlYWR5U3RhdGU9ImNsb3NlZCIsdGhpcy5lbWl0KCJjbG9zZSIscmVhc29uKSx0aGlzLl9yZWNvbm5lY3Rpb24mJiF0aGlzLnNraXBSZWNvbm5lY3QmJnRoaXMucmVjb25uZWN0KCl9LE1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdD1mdW5jdGlvbigpe2lmKHRoaXMucmVjb25uZWN0aW5nKXJldHVybiB0aGlzO3ZhciBzZWxmPXRoaXM7aWYodGhpcy5hdHRlbXB0cysrLHRoaXMuYXR0ZW1wdHM+dGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpZGVidWcoInJlY29ubmVjdCBmYWlsZWQiKSx0aGlzLmVtaXRBbGwoInJlY29ubmVjdF9mYWlsZWQiKSx0aGlzLnJlY29ubmVjdGluZz0hMTtlbHNle3ZhciBkZWxheT10aGlzLmF0dGVtcHRzKnRoaXMucmVjb25uZWN0aW9uRGVsYXkoKTtkZWxheT1NYXRoLm1pbihkZWxheSx0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCkpLGRlYnVnKCJ3aWxsIHdhaXQgJWRtcyBiZWZvcmUgcmVjb25uZWN0IGF0dGVtcHQiLGRlbGF5KSx0aGlzLnJlY29ubmVjdGluZz0hMDt2YXIgdGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2RlYnVnKCJhdHRlbXB0aW5nIHJlY29ubmVjdCIpLHNlbGYuZW1pdEFsbCgicmVjb25uZWN0X2F0dGVtcHQiLHNlbGYuYXR0ZW1wdHMpLHNlbGYuZW1pdEFsbCgicmVjb25uZWN0aW5nIixzZWxmLmF0dGVtcHRzKSxzZWxmLm9wZW4oZnVuY3Rpb24oZXJyKXtlcnI/KGRlYnVnKCJyZWNvbm5lY3QgYXR0ZW1wdCBlcnJvciIpLHNlbGYucmVjb25uZWN0aW5nPSExLHNlbGYucmVjb25uZWN0KCksc2VsZi5lbWl0QWxsKCJyZWNvbm5lY3RfZXJyb3IiLGVyci5kYXRhKSk6KGRlYnVnKCJyZWNvbm5lY3Qgc3VjY2VzcyIpLHNlbGYub25yZWNvbm5lY3QoKSl9KX0sZGVsYXkpO3RoaXMuc3Vicy5wdXNoKHtkZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRpbWVyKX19KX19LE1hbmFnZXIucHJvdG90eXBlLm9ucmVjb25uZWN0PWZ1bmN0aW9uKCl7dmFyIGF0dGVtcHQ9dGhpcy5hdHRlbXB0czt0aGlzLmF0dGVtcHRzPTAsdGhpcy5yZWNvbm5lY3Rpbmc9ITEsdGhpcy5lbWl0QWxsKCJyZWNvbm5lY3QiLGF0dGVtcHQpfX0seyIuL29uIjo0LCIuL3NvY2tldCI6NSwiLi91cmwiOjYsImNvbXBvbmVudC1iaW5kIjo3LCJjb21wb25lbnQtZW1pdHRlciI6OCxkZWJ1Zzo5LCJlbmdpbmUuaW8tY2xpZW50IjoxMCwib2JqZWN0LWNvbXBvbmVudCI6MzcsInNvY2tldC5pby1wYXJzZXIiOjQwfV0sNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIG9uKG9iaixldixmbil7cmV0dXJuIG9iai5vbihldixmbikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXtvYmoucmVtb3ZlTGlzdGVuZXIoZXYsZm4pfX19bW9kdWxlLmV4cG9ydHM9b259LHt9XSw1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBTb2NrZXQoaW8sbnNwKXt0aGlzLmlvPWlvLHRoaXMubnNwPW5zcCx0aGlzLmpzb249dGhpcyx0aGlzLmlkcz0wLHRoaXMuYWNrcz17fSx0aGlzLmlvLmF1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKSx0aGlzLnJlY2VpdmVCdWZmZXI9W10sdGhpcy5zZW5kQnVmZmVyPVtdLHRoaXMuY29ubmVjdGVkPSExLHRoaXMuZGlzY29ubmVjdGVkPSEwLHRoaXMuc3ViRXZlbnRzKCl9e3ZhciBwYXJzZXI9X2RlcmVxXygic29ja2V0LmlvLXBhcnNlciIpLEVtaXR0ZXI9X2RlcmVxXygiY29tcG9uZW50LWVtaXR0ZXIiKSx0b0FycmF5PV9kZXJlcV8oInRvLWFycmF5Iiksb249X2RlcmVxXygiLi9vbiIpLGJpbmQ9X2RlcmVxXygiY29tcG9uZW50LWJpbmQiKSxkZWJ1Zz1fZGVyZXFfKCJkZWJ1ZyIpKCJzb2NrZXQuaW8tY2xpZW50OnNvY2tldCIpLGhhc0Jpbj1fZGVyZXFfKCJoYXMtYmluYXJ5Iik7X2RlcmVxXygiaW5kZXhvZiIpfW1vZHVsZS5leHBvcnRzPWV4cG9ydHM9U29ja2V0O3ZhciBldmVudHM9e2Nvbm5lY3Q6MSxjb25uZWN0X2Vycm9yOjEsY29ubmVjdF90aW1lb3V0OjEsZGlzY29ubmVjdDoxLGVycm9yOjEscmVjb25uZWN0OjEscmVjb25uZWN0X2F0dGVtcHQ6MSxyZWNvbm5lY3RfZmFpbGVkOjEscmVjb25uZWN0X2Vycm9yOjEscmVjb25uZWN0aW5nOjF9LGVtaXQ9RW1pdHRlci5wcm90b3R5cGUuZW1pdDtFbWl0dGVyKFNvY2tldC5wcm90b3R5cGUpLFNvY2tldC5wcm90b3R5cGUuc3ViRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGlvPXRoaXMuaW87dGhpcy5zdWJzPVtvbihpbywib3BlbiIsYmluZCh0aGlzLCJvbm9wZW4iKSksb24oaW8sInBhY2tldCIsYmluZCh0aGlzLCJvbnBhY2tldCIpKSxvbihpbywiY2xvc2UiLGJpbmQodGhpcywib25jbG9zZSIpKV19LFNvY2tldC5wcm90b3R5cGUub3Blbj1Tb2NrZXQucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQ/dGhpczoodGhpcy5pby5vcGVuKCksIm9wZW4iPT10aGlzLmlvLnJlYWR5U3RhdGUmJnRoaXMub25vcGVuKCksdGhpcyl9LFNvY2tldC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe3ZhciBhcmdzPXRvQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gYXJncy51bnNoaWZ0KCJtZXNzYWdlIiksdGhpcy5lbWl0LmFwcGx5KHRoaXMsYXJncyksdGhpc30sU29ja2V0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGV2KXtpZihldmVudHMuaGFzT3duUHJvcGVydHkoZXYpKXJldHVybiBlbWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzO3ZhciBhcmdzPXRvQXJyYXkoYXJndW1lbnRzKSxwYXJzZXJUeXBlPXBhcnNlci5FVkVOVDtoYXNCaW4oYXJncykmJihwYXJzZXJUeXBlPXBhcnNlci5CSU5BUllfRVZFTlQpO3ZhciBwYWNrZXQ9e3R5cGU6cGFyc2VyVHlwZSxkYXRhOmFyZ3N9O3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoLTFdJiYoZGVidWcoImVtaXR0aW5nIHBhY2tldCB3aXRoIGFjayBpZCAlZCIsdGhpcy5pZHMpLHRoaXMuYWNrc1t0aGlzLmlkc109YXJncy5wb3AoKSxwYWNrZXQuaWQ9dGhpcy5pZHMrKyksdGhpcy5jb25uZWN0ZWQ/dGhpcy5wYWNrZXQocGFja2V0KTp0aGlzLnNlbmRCdWZmZXIucHVzaChwYWNrZXQpLHRoaXN9LFNvY2tldC5wcm90b3R5cGUucGFja2V0PWZ1bmN0aW9uKHBhY2tldCl7cGFja2V0Lm5zcD10aGlzLm5zcCx0aGlzLmlvLnBhY2tldChwYWNrZXQpfSxTb2NrZXQucHJvdG90eXBlLm9ub3Blbj1mdW5jdGlvbigpe2RlYnVnKCJ0cmFuc3BvcnQgaXMgb3BlbiAtIGNvbm5lY3RpbmciKSwiLyIhPXRoaXMubnNwJiZ0aGlzLnBhY2tldCh7dHlwZTpwYXJzZXIuQ09OTkVDVH0pfSxTb2NrZXQucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24ocmVhc29uKXtkZWJ1ZygiY2xvc2UgKCVzKSIscmVhc29uKSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmRpc2Nvbm5lY3RlZD0hMCx0aGlzLmVtaXQoImRpc2Nvbm5lY3QiLHJlYXNvbil9LFNvY2tldC5wcm90b3R5cGUub25wYWNrZXQ9ZnVuY3Rpb24ocGFja2V0KXtpZihwYWNrZXQubnNwPT10aGlzLm5zcClzd2l0Y2gocGFja2V0LnR5cGUpe2Nhc2UgcGFyc2VyLkNPTk5FQ1Q6dGhpcy5vbmNvbm5lY3QoKTticmVhaztjYXNlIHBhcnNlci5FVkVOVDp0aGlzLm9uZXZlbnQocGFja2V0KTticmVhaztjYXNlIHBhcnNlci5CSU5BUllfRVZFTlQ6dGhpcy5vbmV2ZW50KHBhY2tldCk7YnJlYWs7Y2FzZSBwYXJzZXIuQUNLOnRoaXMub25hY2socGFja2V0KTticmVhaztjYXNlIHBhcnNlci5CSU5BUllfQUNLOnRoaXMub25hY2socGFja2V0KTticmVhaztjYXNlIHBhcnNlci5ESVNDT05ORUNUOnRoaXMub25kaXNjb25uZWN0KCk7YnJlYWs7Y2FzZSBwYXJzZXIuRVJST1I6dGhpcy5lbWl0KCJlcnJvciIscGFja2V0LmRhdGEpfX0sU29ja2V0LnByb3RvdHlwZS5vbmV2ZW50PWZ1bmN0aW9uKHBhY2tldCl7dmFyIGFyZ3M9cGFja2V0LmRhdGF8fFtdO2RlYnVnKCJlbWl0dGluZyBldmVudCAlaiIsYXJncyksbnVsbCE9cGFja2V0LmlkJiYoZGVidWcoImF0dGFjaGluZyBhY2sgY2FsbGJhY2sgdG8gZXZlbnQiKSxhcmdzLnB1c2godGhpcy5hY2socGFja2V0LmlkKSkpLHRoaXMuY29ubmVjdGVkP2VtaXQuYXBwbHkodGhpcyxhcmdzKTp0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChhcmdzKX0sU29ja2V0LnByb3RvdHlwZS5hY2s9ZnVuY3Rpb24oaWQpe3ZhciBzZWxmPXRoaXMsc2VudD0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighc2VudCl7c2VudD0hMDt2YXIgYXJncz10b0FycmF5KGFyZ3VtZW50cyk7ZGVidWcoInNlbmRpbmcgYWNrICVqIixhcmdzKTt2YXIgdHlwZT1oYXNCaW4oYXJncyk/cGFyc2VyLkJJTkFSWV9BQ0s6cGFyc2VyLkFDSztzZWxmLnBhY2tldCh7dHlwZTp0eXBlLGlkOmlkLGRhdGE6YXJnc30pfX19LFNvY2tldC5wcm90b3R5cGUub25hY2s9ZnVuY3Rpb24ocGFja2V0KXtkZWJ1ZygiY2FsbGluZyBhY2sgJXMgd2l0aCAlaiIscGFja2V0LmlkLHBhY2tldC5kYXRhKTt2YXIgZm49dGhpcy5hY2tzW3BhY2tldC5pZF07Zm4uYXBwbHkodGhpcyxwYWNrZXQuZGF0YSksZGVsZXRlIHRoaXMuYWNrc1twYWNrZXQuaWRdfSxTb2NrZXQucHJvdG90eXBlLm9uY29ubmVjdD1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGVkPSEwLHRoaXMuZGlzY29ubmVjdGVkPSExLHRoaXMuZW1pdCgiY29ubmVjdCIpLHRoaXMuZW1pdEJ1ZmZlcmVkKCl9LFNvY2tldC5wcm90b3R5cGUuZW1pdEJ1ZmZlcmVkPWZ1bmN0aW9uKCl7dmFyIGk7Zm9yKGk9MDtpPHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGg7aSsrKWVtaXQuYXBwbHkodGhpcyx0aGlzLnJlY2VpdmVCdWZmZXJbaV0pO2Zvcih0aGlzLnJlY2VpdmVCdWZmZXI9W10saT0wO2k8dGhpcy5zZW5kQnVmZmVyLmxlbmd0aDtpKyspdGhpcy5wYWNrZXQodGhpcy5zZW5kQnVmZmVyW2ldKTt0aGlzLnNlbmRCdWZmZXI9W119LFNvY2tldC5wcm90b3R5cGUub25kaXNjb25uZWN0PWZ1bmN0aW9uKCl7ZGVidWcoInNlcnZlciBkaXNjb25uZWN0ICglcykiLHRoaXMubnNwKSx0aGlzLmRlc3Ryb3koKSx0aGlzLm9uY2xvc2UoImlvIHNlcnZlciBkaXNjb25uZWN0Iil9LFNvY2tldC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgaT0wO2k8dGhpcy5zdWJzLmxlbmd0aDtpKyspdGhpcy5zdWJzW2ldLmRlc3Ryb3koKTt0aGlzLmlvLmRlc3Ryb3kodGhpcyl9LFNvY2tldC5wcm90b3R5cGUuY2xvc2U9U29ja2V0LnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGVkPyhkZWJ1ZygicGVyZm9ybWluZyBkaXNjb25uZWN0ICglcykiLHRoaXMubnNwKSx0aGlzLnBhY2tldCh7dHlwZTpwYXJzZXIuRElTQ09OTkVDVH0pLHRoaXMuZGVzdHJveSgpLHRoaXMub25jbG9zZSgiaW8gY2xpZW50IGRpc2Nvbm5lY3QiKSx0aGlzKTp0aGlzfX0seyIuL29uIjo0LCJjb21wb25lbnQtYmluZCI6NywiY29tcG9uZW50LWVtaXR0ZXIiOjgsZGVidWc6OSwiaGFzLWJpbmFyeSI6MzIsaW5kZXhvZjozNiwic29ja2V0LmlvLXBhcnNlciI6NDAsInRvLWFycmF5Ijo0NH1dLDY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXsoZnVuY3Rpb24oZ2xvYmFsKXtmdW5jdGlvbiB1cmwodXJpLGxvYyl7dmFyIG9iaj11cmksbG9jPWxvY3x8Z2xvYmFsLmxvY2F0aW9uO3JldHVybiBudWxsPT11cmkmJih1cmk9bG9jLnByb3RvY29sKyIvLyIrbG9jLmhvc3RuYW1lKSwic3RyaW5nIj09dHlwZW9mIHVyaSYmKCIvIj09dXJpLmNoYXJBdCgwKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBsb2MmJih1cmk9bG9jLmhvc3RuYW1lK3VyaSksL14oaHR0cHM/fHdzcz8pOlwvXC8vLnRlc3QodXJpKXx8KGRlYnVnKCJwcm90b2NvbC1sZXNzIHVybCAlcyIsdXJpKSx1cmk9InVuZGVmaW5lZCIhPXR5cGVvZiBsb2M/bG9jLnByb3RvY29sKyIvLyIrdXJpOiJodHRwczovLyIrdXJpKSxkZWJ1ZygicGFyc2UgJXMiLHVyaSksb2JqPXBhcnNldXJpKHVyaSkpLG9iai5wb3J0fHwoL14oaHR0cHx3cykkLy50ZXN0KG9iai5wcm90b2NvbCk/b2JqLnBvcnQ9IjgwIjovXihodHRwfHdzKXMkLy50ZXN0KG9iai5wcm90b2NvbCkmJihvYmoucG9ydD0iNDQzIikpLG9iai5wYXRoPW9iai5wYXRofHwiLyIsb2JqLmlkPW9iai5wcm90b2NvbCsiOi8vIitvYmouaG9zdCsiOiIrb2JqLnBvcnQsb2JqLmhyZWY9b2JqLnByb3RvY29sKyI6Ly8iK29iai5ob3N0Kyhsb2MmJmxvYy5wb3J0PT1vYmoucG9ydD8iIjoiOiIrb2JqLnBvcnQpLG9ian12YXIgcGFyc2V1cmk9X2RlcmVxXygicGFyc2V1cmkiKSxkZWJ1Zz1fZGVyZXFfKCJkZWJ1ZyIpKCJzb2NrZXQuaW8tY2xpZW50OnVybCIpO21vZHVsZS5leHBvcnRzPXVybH0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7ZGVidWc6OSxwYXJzZXVyaTozOH1dLDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgc2xpY2U9W10uc2xpY2U7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob2JqLGZuKXtpZigic3RyaW5nIj09dHlwZW9mIGZuJiYoZm49b2JqW2ZuXSksImZ1bmN0aW9uIiE9dHlwZW9mIGZuKXRocm93IG5ldyBFcnJvcigiYmluZCgpIHJlcXVpcmVzIGEgZnVuY3Rpb24iKTt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZm4uYXBwbHkob2JqLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX19LHt9XSw4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gRW1pdHRlcihvYmope3JldHVybiBvYmo/bWl4aW4ob2JqKTp2b2lkIDB9ZnVuY3Rpb24gbWl4aW4ob2JqKXtmb3IodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSlvYmpba2V5XT1FbWl0dGVyLnByb3RvdHlwZVtrZXldO3JldHVybiBvYmp9bW9kdWxlLmV4cG9ydHM9RW1pdHRlcixFbWl0dGVyLnByb3RvdHlwZS5vbj1FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGZuKXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sKHRoaXMuX2NhbGxiYWNrc1tldmVudF09dGhpcy5fY2FsbGJhY2tzW2V2ZW50XXx8W10pLnB1c2goZm4pLHRoaXN9LEVtaXR0ZXIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZXZlbnQsZm4pe2Z1bmN0aW9uIG9uKCl7c2VsZi5vZmYoZXZlbnQsb24pLGZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgc2VsZj10aGlzO3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSxvbi5mbj1mbix0aGlzLm9uKGV2ZW50LG9uKSx0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5vZmY9RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPUVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQsZm4pe2lmKHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX2NhbGxiYWNrcz17fSx0aGlzO3ZhciBjYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzW2V2ZW50XTtpZighY2FsbGJhY2tzKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbZXZlbnRdLHRoaXM7Zm9yKHZhciBjYixpPTA7aTxjYWxsYmFja3MubGVuZ3RoO2krKylpZihjYj1jYWxsYmFja3NbaV0sY2I9PT1mbnx8Y2IuZm49PT1mbil7Y2FsbGJhY2tzLnNwbGljZShpLDEpO2JyZWFrfXJldHVybiB0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGV2ZW50KXt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fTt2YXIgYXJncz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzW2V2ZW50XTtpZihjYWxsYmFja3Mpe2NhbGxiYWNrcz1jYWxsYmFja3Muc2xpY2UoMCk7Zm9yKHZhciBpPTAsbGVuPWNhbGxiYWNrcy5sZW5ndGg7bGVuPmk7KytpKWNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLGFyZ3MpfXJldHVybiB0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnQpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbZXZlbnRdfHxbXX0sRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGh9fSx7fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIGRlYnVnKG5hbWUpe3JldHVybiBkZWJ1Zy5lbmFibGVkKG5hbWUpP2Z1bmN0aW9uKGZtdCl7Zm10PWNvZXJjZShmbXQpO3ZhciBjdXJyPW5ldyBEYXRlLG1zPWN1cnItKGRlYnVnW25hbWVdfHxjdXJyKTtkZWJ1Z1tuYW1lXT1jdXJyLGZtdD1uYW1lKyIgIitmbXQrIiArIitkZWJ1Zy5odW1hbml6ZShtcyksd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9OmZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBjb2VyY2UodmFsKXtyZXR1cm4gdmFsIGluc3RhbmNlb2YgRXJyb3I/dmFsLnN0YWNrfHx2YWwubWVzc2FnZTp2YWx9bW9kdWxlLmV4cG9ydHM9ZGVidWcsZGVidWcubmFtZXM9W10sZGVidWcuc2tpcHM9W10sZGVidWcuZW5hYmxlPWZ1bmN0aW9uKG5hbWUpe3RyeXtsb2NhbFN0b3JhZ2UuZGVidWc9bmFtZX1jYXRjaChlKXt9Zm9yKHZhciBzcGxpdD0obmFtZXx8IiIpLnNwbGl0KC9bXHMsXSsvKSxsZW49c3BsaXQubGVuZ3RoLGk9MDtsZW4+aTtpKyspbmFtZT1zcGxpdFtpXS5yZXBsYWNlKCIqIiwiLio/IiksIi0iPT09bmFtZVswXT9kZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoIl4iK25hbWUuc3Vic3RyKDEpKyIkIikpOmRlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgiXiIrbmFtZSsiJCIpKX0sZGVidWcuZGlzYWJsZT1mdW5jdGlvbigpe2RlYnVnLmVuYWJsZSgiIil9LGRlYnVnLmh1bWFuaXplPWZ1bmN0aW9uKG1zKXt2YXIgc2VjPTFlMyxtaW49NmU0LGhvdXI9NjAqbWluO3JldHVybiBtcz49aG91cj8obXMvaG91cikudG9GaXhlZCgxKSsiaCI6bXM+PW1pbj8obXMvbWluKS50b0ZpeGVkKDEpKyJtIjptcz49c2VjPyhtcy9zZWN8MCkrInMiOm1zKyJtcyJ9LGRlYnVnLmVuYWJsZWQ9ZnVuY3Rpb24obmFtZSl7Zm9yKHZhciBpPTAsbGVuPWRlYnVnLnNraXBzLmxlbmd0aDtsZW4+aTtpKyspaWYoZGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSlyZXR1cm4hMTtmb3IodmFyIGk9MCxsZW49ZGVidWcubmFtZXMubGVuZ3RoO2xlbj5pO2krKylpZihkZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKXJldHVybiEwO3JldHVybiExfTt0cnl7d2luZG93LmxvY2FsU3RvcmFnZSYmZGVidWcuZW5hYmxlKGxvY2FsU3RvcmFnZS5kZWJ1Zyl9Y2F0Y2goZSl7fX0se31dLDEwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9X2RlcmVxXygiLi9saWIvIil9LHsiLi9saWIvIjoxMX1dLDExOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9X2RlcmVxXygiLi9zb2NrZXQiKSxtb2R1bGUuZXhwb3J0cy5wYXJzZXI9X2RlcmVxXygiZW5naW5lLmlvLXBhcnNlciIpfSx7Ii4vc29ja2V0IjoxMiwiZW5naW5lLmlvLXBhcnNlciI6MjF9XSwxMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIFNvY2tldCh1cmksb3B0cyl7aWYoISh0aGlzIGluc3RhbmNlb2YgU29ja2V0KSlyZXR1cm4gbmV3IFNvY2tldCh1cmksb3B0cyk7aWYob3B0cz1vcHRzfHx7fSx1cmkmJiJvYmplY3QiPT10eXBlb2YgdXJpJiYob3B0cz11cmksdXJpPW51bGwpLHVyaSYmKHVyaT1wYXJzZXVyaSh1cmkpLG9wdHMuaG9zdD11cmkuaG9zdCxvcHRzLnNlY3VyZT0iaHR0cHMiPT11cmkucHJvdG9jb2x8fCJ3c3MiPT11cmkucHJvdG9jb2wsb3B0cy5wb3J0PXVyaS5wb3J0LHVyaS5xdWVyeSYmKG9wdHMucXVlcnk9dXJpLnF1ZXJ5KSksdGhpcy5zZWN1cmU9bnVsbCE9b3B0cy5zZWN1cmU/b3B0cy5zZWN1cmU6Z2xvYmFsLmxvY2F0aW9uJiYiaHR0cHM6Ij09bG9jYXRpb24ucHJvdG9jb2wsb3B0cy5ob3N0KXt2YXIgcGllY2VzPW9wdHMuaG9zdC5zcGxpdCgiOiIpO29wdHMuaG9zdG5hbWU9cGllY2VzLnNoaWZ0KCkscGllY2VzLmxlbmd0aCYmKG9wdHMucG9ydD1waWVjZXMucG9wKCkpfXRoaXMuYWdlbnQ9b3B0cy5hZ2VudHx8ITEsdGhpcy5ob3N0bmFtZT1vcHRzLmhvc3RuYW1lfHwoZ2xvYmFsLmxvY2F0aW9uP2xvY2F0aW9uLmhvc3RuYW1lOiJsb2NhbGhvc3QiKSx0aGlzLnBvcnQ9b3B0cy5wb3J0fHwoZ2xvYmFsLmxvY2F0aW9uJiZsb2NhdGlvbi5wb3J0P2xvY2F0aW9uLnBvcnQ6dGhpcy5zZWN1cmU/NDQzOjgwKSx0aGlzLnF1ZXJ5PW9wdHMucXVlcnl8fHt9LCJzdHJpbmciPT10eXBlb2YgdGhpcy5xdWVyeSYmKHRoaXMucXVlcnk9cGFyc2Vxcy5kZWNvZGUodGhpcy5xdWVyeSkpLHRoaXMudXBncmFkZT0hMSE9PW9wdHMudXBncmFkZSx0aGlzLnBhdGg9KG9wdHMucGF0aHx8Ii9lbmdpbmUuaW8iKS5yZXBsYWNlKC9cLyQvLCIiKSsiLyIsdGhpcy5mb3JjZUpTT05QPSEhb3B0cy5mb3JjZUpTT05QLHRoaXMuanNvbnA9ITEhPT1vcHRzLmpzb25wLHRoaXMuZm9yY2VCYXNlNjQ9ISFvcHRzLmZvcmNlQmFzZTY0LHRoaXMuZW5hYmxlc1hEUj0hIW9wdHMuZW5hYmxlc1hEUix0aGlzLnRpbWVzdGFtcFBhcmFtPW9wdHMudGltZXN0YW1wUGFyYW18fCJ0Iix0aGlzLnRpbWVzdGFtcFJlcXVlc3RzPW9wdHMudGltZXN0YW1wUmVxdWVzdHMsdGhpcy50cmFuc3BvcnRzPW9wdHMudHJhbnNwb3J0c3x8WyJwb2xsaW5nIiwid2Vic29ja2V0Il0sdGhpcy5yZWFkeVN0YXRlPSIiLHRoaXMud3JpdGVCdWZmZXI9W10sdGhpcy5jYWxsYmFja0J1ZmZlcj1bXSx0aGlzLnBvbGljeVBvcnQ9b3B0cy5wb2xpY3lQb3J0fHw4NDMsdGhpcy5yZW1lbWJlclVwZ3JhZGU9b3B0cy5yZW1lbWJlclVwZ3JhZGV8fCExLHRoaXMub3BlbigpLHRoaXMuYmluYXJ5VHlwZT1udWxsLHRoaXMub25seUJpbmFyeVVwZ3JhZGVzPW9wdHMub25seUJpbmFyeVVwZ3JhZGVzfWZ1bmN0aW9uIGNsb25lKG9iail7dmFyIG89e307Zm9yKHZhciBpIGluIG9iailvYmouaGFzT3duUHJvcGVydHkoaSkmJihvW2ldPW9ialtpXSk7cmV0dXJuIG99dmFyIHRyYW5zcG9ydHM9X2RlcmVxXygiLi90cmFuc3BvcnRzIiksRW1pdHRlcj1fZGVyZXFfKCJjb21wb25lbnQtZW1pdHRlciIpLGRlYnVnPV9kZXJlcV8oImRlYnVnIikoImVuZ2luZS5pby1jbGllbnQ6c29ja2V0IiksaW5kZXg9X2RlcmVxXygiaW5kZXhvZiIpLHBhcnNlcj1fZGVyZXFfKCJlbmdpbmUuaW8tcGFyc2VyIikscGFyc2V1cmk9X2RlcmVxXygicGFyc2V1cmkiKSxwYXJzZWpzb249X2RlcmVxXygicGFyc2Vqc29uIikscGFyc2Vxcz1fZGVyZXFfKCJwYXJzZXFzIik7bW9kdWxlLmV4cG9ydHM9U29ja2V0LFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9ITEsRW1pdHRlcihTb2NrZXQucHJvdG90eXBlKSxTb2NrZXQucHJvdG9jb2w9cGFyc2VyLnByb3RvY29sLFNvY2tldC5Tb2NrZXQ9U29ja2V0LFNvY2tldC5UcmFuc3BvcnQ9X2RlcmVxXygiLi90cmFuc3BvcnQiKSxTb2NrZXQudHJhbnNwb3J0cz1fZGVyZXFfKCIuL3RyYW5zcG9ydHMiKSxTb2NrZXQucGFyc2VyPV9kZXJlcV8oImVuZ2luZS5pby1wYXJzZXIiKSxTb2NrZXQucHJvdG90eXBlLmNyZWF0ZVRyYW5zcG9ydD1mdW5jdGlvbihuYW1lKXtkZWJ1ZygnY3JlYXRpbmcgdHJhbnNwb3J0ICIlcyInLG5hbWUpO3ZhciBxdWVyeT1jbG9uZSh0aGlzLnF1ZXJ5KTtxdWVyeS5FSU89cGFyc2VyLnByb3RvY29sLHF1ZXJ5LnRyYW5zcG9ydD1uYW1lLHRoaXMuaWQmJihxdWVyeS5zaWQ9dGhpcy5pZCk7dmFyIHRyYW5zcG9ydD1uZXcgdHJhbnNwb3J0c1tuYW1lXSh7YWdlbnQ6dGhpcy5hZ2VudCxob3N0bmFtZTp0aGlzLmhvc3RuYW1lLHBvcnQ6dGhpcy5wb3J0LHNlY3VyZTp0aGlzLnNlY3VyZSxwYXRoOnRoaXMucGF0aCxxdWVyeTpxdWVyeSxmb3JjZUpTT05QOnRoaXMuZm9yY2VKU09OUCxqc29ucDp0aGlzLmpzb25wLGZvcmNlQmFzZTY0OnRoaXMuZm9yY2VCYXNlNjQsZW5hYmxlc1hEUjp0aGlzLmVuYWJsZXNYRFIsdGltZXN0YW1wUmVxdWVzdHM6dGhpcy50aW1lc3RhbXBSZXF1ZXN0cyx0aW1lc3RhbXBQYXJhbTp0aGlzLnRpbWVzdGFtcFBhcmFtLHBvbGljeVBvcnQ6dGhpcy5wb2xpY3lQb3J0LHNvY2tldDp0aGlzfSk7cmV0dXJuIHRyYW5zcG9ydH0sU29ja2V0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dmFyIHRyYW5zcG9ydDtpZih0aGlzLnJlbWVtYmVyVXBncmFkZSYmU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyYmLTEhPXRoaXMudHJhbnNwb3J0cy5pbmRleE9mKCJ3ZWJzb2NrZXQiKSl0cmFuc3BvcnQ9IndlYnNvY2tldCI7ZWxzZXtpZigwPT10aGlzLnRyYW5zcG9ydHMubGVuZ3RoKXt2YXIgc2VsZj10aGlzO3JldHVybiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLmVtaXQoImVycm9yIiwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGUiKX0sMCl9dHJhbnNwb3J0PXRoaXMudHJhbnNwb3J0c1swXX10aGlzLnJlYWR5U3RhdGU9Im9wZW5pbmciO3ZhciB0cmFuc3BvcnQ7dHJ5e3RyYW5zcG9ydD10aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpfWNhdGNoKGUpe3JldHVybiB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKSx2b2lkIHRoaXMub3BlbigpfXRyYW5zcG9ydC5vcGVuKCksdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KX0sU29ja2V0LnByb3RvdHlwZS5zZXRUcmFuc3BvcnQ9ZnVuY3Rpb24odHJhbnNwb3J0KXtkZWJ1Zygic2V0dGluZyB0cmFuc3BvcnQgJXMiLHRyYW5zcG9ydC5uYW1lKTt2YXIgc2VsZj10aGlzO3RoaXMudHJhbnNwb3J0JiYoZGVidWcoImNsZWFyaW5nIGV4aXN0aW5nIHRyYW5zcG9ydCAlcyIsdGhpcy50cmFuc3BvcnQubmFtZSksdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCkpLHRoaXMudHJhbnNwb3J0PXRyYW5zcG9ydCx0cmFuc3BvcnQub24oImRyYWluIixmdW5jdGlvbigpe3NlbGYub25EcmFpbigpfSkub24oInBhY2tldCIsZnVuY3Rpb24ocGFja2V0KXtzZWxmLm9uUGFja2V0KHBhY2tldCl9KS5vbigiZXJyb3IiLGZ1bmN0aW9uKGUpe3NlbGYub25FcnJvcihlKX0pLm9uKCJjbG9zZSIsZnVuY3Rpb24oKXtzZWxmLm9uQ2xvc2UoInRyYW5zcG9ydCBjbG9zZSIpfSl9LFNvY2tldC5wcm90b3R5cGUucHJvYmU9ZnVuY3Rpb24obmFtZSl7ZnVuY3Rpb24gb25UcmFuc3BvcnRPcGVuKCl7aWYoc2VsZi5vbmx5QmluYXJ5VXBncmFkZXMpe3ZhciB1cGdyYWRlTG9zZXNCaW5hcnk9IXRoaXMuc3VwcG9ydHNCaW5hcnkmJnNlbGYudHJhbnNwb3J0LnN1cHBvcnRzQmluYXJ5O2ZhaWxlZD1mYWlsZWR8fHVwZ3JhZGVMb3Nlc0JpbmFyeX1mYWlsZWR8fChkZWJ1ZygncHJvYmUgdHJhbnNwb3J0ICIlcyIgb3BlbmVkJyxuYW1lKSx0cmFuc3BvcnQuc2VuZChbe3R5cGU6InBpbmciLGRhdGE6InByb2JlIn1dKSx0cmFuc3BvcnQub25jZSgicGFja2V0IixmdW5jdGlvbihtc2cpe2lmKCFmYWlsZWQpaWYoInBvbmciPT1tc2cudHlwZSYmInByb2JlIj09bXNnLmRhdGEpZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCAiJXMiIHBvbmcnLG5hbWUpLHNlbGYudXBncmFkaW5nPSEwLHNlbGYuZW1pdCgidXBncmFkaW5nIix0cmFuc3BvcnQpLFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9IndlYnNvY2tldCI9PXRyYW5zcG9ydC5uYW1lLGRlYnVnKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0ICIlcyInLHNlbGYudHJhbnNwb3J0Lm5hbWUpLHNlbGYudHJhbnNwb3J0LnBhdXNlKGZ1bmN0aW9uKCl7ZmFpbGVkfHwiY2xvc2VkIiE9c2VsZi5yZWFkeVN0YXRlJiYiY2xvc2luZyIhPXNlbGYucmVhZHlTdGF0ZSYmKGRlYnVnKCJjaGFuZ2luZyB0cmFuc3BvcnQgYW5kIHNlbmRpbmcgdXBncmFkZSBwYWNrZXQiKSxjbGVhbnVwKCksc2VsZi5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KSx0cmFuc3BvcnQuc2VuZChbe3R5cGU6InVwZ3JhZGUifV0pLHNlbGYuZW1pdCgidXBncmFkZSIsdHJhbnNwb3J0KSx0cmFuc3BvcnQ9bnVsbCxzZWxmLnVwZ3JhZGluZz0hMSxzZWxmLmZsdXNoKCkpfSk7ZWxzZXtkZWJ1ZygncHJvYmUgdHJhbnNwb3J0ICIlcyIgZmFpbGVkJyxuYW1lKTt2YXIgZXJyPW5ldyBFcnJvcigicHJvYmUgZXJyb3IiKTtlcnIudHJhbnNwb3J0PXRyYW5zcG9ydC5uYW1lLHNlbGYuZW1pdCgidXBncmFkZUVycm9yIixlcnIpfX0pKX1mdW5jdGlvbiBmcmVlemVUcmFuc3BvcnQoKXtmYWlsZWR8fChmYWlsZWQ9ITAsY2xlYW51cCgpLHRyYW5zcG9ydC5jbG9zZSgpLHRyYW5zcG9ydD1udWxsKX1mdW5jdGlvbiBvbmVycm9yKGVycil7dmFyIGVycm9yPW5ldyBFcnJvcigicHJvYmUgZXJyb3I6ICIrZXJyKTtlcnJvci50cmFuc3BvcnQ9dHJhbnNwb3J0Lm5hbWUsZnJlZXplVHJhbnNwb3J0KCksZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCAiJXMiIGZhaWxlZCBiZWNhdXNlIG9mIGVycm9yOiAlcycsbmFtZSxlcnIpLHNlbGYuZW1pdCgidXBncmFkZUVycm9yIixlcnJvcil9ZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpe29uZXJyb3IoInRyYW5zcG9ydCBjbG9zZWQiKX1mdW5jdGlvbiBvbmNsb3NlKCl7b25lcnJvcigic29ja2V0IGNsb3NlZCIpfWZ1bmN0aW9uIG9udXBncmFkZSh0byl7dHJhbnNwb3J0JiZ0by5uYW1lIT10cmFuc3BvcnQubmFtZSYmKGRlYnVnKCciJXMiIHdvcmtzIC0gYWJvcnRpbmcgIiVzIicsdG8ubmFtZSx0cmFuc3BvcnQubmFtZSksZnJlZXplVHJhbnNwb3J0KCkpfWZ1bmN0aW9uIGNsZWFudXAoKXt0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoIm9wZW4iLG9uVHJhbnNwb3J0T3BlbiksdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsb25lcnJvciksdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsb25UcmFuc3BvcnRDbG9zZSksc2VsZi5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLG9uY2xvc2UpLHNlbGYucmVtb3ZlTGlzdGVuZXIoInVwZ3JhZGluZyIsb251cGdyYWRlKX1kZWJ1ZygncHJvYmluZyB0cmFuc3BvcnQgIiVzIicsbmFtZSk7dmFyIHRyYW5zcG9ydD10aGlzLmNyZWF0ZVRyYW5zcG9ydChuYW1lLHtwcm9iZToxfSksZmFpbGVkPSExLHNlbGY9dGhpcztTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExLHRyYW5zcG9ydC5vbmNlKCJvcGVuIixvblRyYW5zcG9ydE9wZW4pLHRyYW5zcG9ydC5vbmNlKCJlcnJvciIsb25lcnJvciksdHJhbnNwb3J0Lm9uY2UoImNsb3NlIixvblRyYW5zcG9ydENsb3NlKSx0aGlzLm9uY2UoImNsb3NlIixvbmNsb3NlKSx0aGlzLm9uY2UoInVwZ3JhZGluZyIsb251cGdyYWRlKSx0cmFuc3BvcnQub3BlbigpfSxTb2NrZXQucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe2lmKGRlYnVnKCJzb2NrZXQgb3BlbiIpLHRoaXMucmVhZHlTdGF0ZT0ib3BlbiIsU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2Vzcz0id2Vic29ja2V0Ij09dGhpcy50cmFuc3BvcnQubmFtZSx0aGlzLmVtaXQoIm9wZW4iKSx0aGlzLmZsdXNoKCksIm9wZW4iPT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudXBncmFkZSYmdGhpcy50cmFuc3BvcnQucGF1c2Upe2RlYnVnKCJzdGFydGluZyB1cGdyYWRlIHByb2JlcyIpO2Zvcih2YXIgaT0wLGw9dGhpcy51cGdyYWRlcy5sZW5ndGg7bD5pO2krKyl0aGlzLnByb2JlKHRoaXMudXBncmFkZXNbaV0pfX0sU29ja2V0LnByb3RvdHlwZS5vblBhY2tldD1mdW5jdGlvbihwYWNrZXQpe2lmKCJvcGVuaW5nIj09dGhpcy5yZWFkeVN0YXRlfHwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZSlzd2l0Y2goZGVidWcoJ3NvY2tldCByZWNlaXZlOiB0eXBlICIlcyIsIGRhdGEgIiVzIicscGFja2V0LnR5cGUscGFja2V0LmRhdGEpLHRoaXMuZW1pdCgicGFja2V0IixwYWNrZXQpLHRoaXMuZW1pdCgiaGVhcnRiZWF0IikscGFja2V0LnR5cGUpe2Nhc2Uib3BlbiI6dGhpcy5vbkhhbmRzaGFrZShwYXJzZWpzb24ocGFja2V0LmRhdGEpKTticmVhaztjYXNlInBvbmciOnRoaXMuc2V0UGluZygpO2JyZWFrO2Nhc2UiZXJyb3IiOnZhciBlcnI9bmV3IEVycm9yKCJzZXJ2ZXIgZXJyb3IiKTtlcnIuY29kZT1wYWNrZXQuZGF0YSx0aGlzLmVtaXQoImVycm9yIixlcnIpO2JyZWFrO2Nhc2UibWVzc2FnZSI6dGhpcy5lbWl0KCJkYXRhIixwYWNrZXQuZGF0YSksdGhpcy5lbWl0KCJtZXNzYWdlIixwYWNrZXQuZGF0YSl9ZWxzZSBkZWJ1ZygncGFja2V0IHJlY2VpdmVkIHdpdGggc29ja2V0IHJlYWR5U3RhdGUgIiVzIicsdGhpcy5yZWFkeVN0YXRlKX0sU29ja2V0LnByb3RvdHlwZS5vbkhhbmRzaGFrZT1mdW5jdGlvbihkYXRhKXt0aGlzLmVtaXQoImhhbmRzaGFrZSIsZGF0YSksdGhpcy5pZD1kYXRhLnNpZCx0aGlzLnRyYW5zcG9ydC5xdWVyeS5zaWQ9ZGF0YS5zaWQsdGhpcy51cGdyYWRlcz10aGlzLmZpbHRlclVwZ3JhZGVzKGRhdGEudXBncmFkZXMpLHRoaXMucGluZ0ludGVydmFsPWRhdGEucGluZ0ludGVydmFsLHRoaXMucGluZ1RpbWVvdXQ9ZGF0YS5waW5nVGltZW91dCx0aGlzLm9uT3BlbigpLCJjbG9zZWQiIT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLnNldFBpbmcoKSx0aGlzLnJlbW92ZUxpc3RlbmVyKCJoZWFydGJlYXQiLHRoaXMub25IZWFydGJlYXQpLHRoaXMub24oImhlYXJ0YmVhdCIsdGhpcy5vbkhlYXJ0YmVhdCkpfSxTb2NrZXQucHJvdG90eXBlLm9uSGVhcnRiZWF0PWZ1bmN0aW9uKHRpbWVvdXQpe2NsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0VGltZXIpO3ZhciBzZWxmPXRoaXM7c2VsZi5waW5nVGltZW91dFRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXsiY2xvc2VkIiE9c2VsZi5yZWFkeVN0YXRlJiZzZWxmLm9uQ2xvc2UoInBpbmcgdGltZW91dCIpfSx0aW1lb3V0fHxzZWxmLnBpbmdJbnRlcnZhbCtzZWxmLnBpbmdUaW1lb3V0KX0sU29ja2V0LnByb3RvdHlwZS5zZXRQaW5nPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcztjbGVhclRpbWVvdXQoc2VsZi5waW5nSW50ZXJ2YWxUaW1lciksc2VsZi5waW5nSW50ZXJ2YWxUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVidWcoIndyaXRpbmcgcGluZyBwYWNrZXQgLSBleHBlY3RpbmcgcG9uZyB3aXRoaW4gJXNtcyIsc2VsZi5waW5nVGltZW91dCksc2VsZi5waW5nKCksc2VsZi5vbkhlYXJ0YmVhdChzZWxmLnBpbmdUaW1lb3V0KX0sc2VsZi5waW5nSW50ZXJ2YWwpfSxTb2NrZXQucHJvdG90eXBlLnBpbmc9ZnVuY3Rpb24oKXt0aGlzLnNlbmRQYWNrZXQoInBpbmciKX0sU29ja2V0LnByb3RvdHlwZS5vbkRyYWluPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTx0aGlzLnByZXZCdWZmZXJMZW47aSsrKXRoaXMuY2FsbGJhY2tCdWZmZXJbaV0mJnRoaXMuY2FsbGJhY2tCdWZmZXJbaV0oKTt0aGlzLndyaXRlQnVmZmVyLnNwbGljZSgwLHRoaXMucHJldkJ1ZmZlckxlbiksdGhpcy5jYWxsYmFja0J1ZmZlci5zcGxpY2UoMCx0aGlzLnByZXZCdWZmZXJMZW4pLHRoaXMucHJldkJ1ZmZlckxlbj0wLDA9PXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoP3RoaXMuZW1pdCgiZHJhaW4iKTp0aGlzLmZsdXNoKCl9LFNvY2tldC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXsiY2xvc2VkIiE9dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLnRyYW5zcG9ydC53cml0YWJsZSYmIXRoaXMudXBncmFkaW5nJiZ0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCYmKGRlYnVnKCJmbHVzaGluZyAlZCBwYWNrZXRzIGluIHNvY2tldCIsdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpLHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlciksdGhpcy5wcmV2QnVmZmVyTGVuPXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoLHRoaXMuZW1pdCgiZmx1c2giKSl9LFNvY2tldC5wcm90b3R5cGUud3JpdGU9U29ja2V0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKG1zZyxmbil7cmV0dXJuIHRoaXMuc2VuZFBhY2tldCgibWVzc2FnZSIsbXNnLGZuKSx0aGlzfSxTb2NrZXQucHJvdG90eXBlLnNlbmRQYWNrZXQ9ZnVuY3Rpb24odHlwZSxkYXRhLGZuKXt2YXIgcGFja2V0PXt0eXBlOnR5cGUsZGF0YTpkYXRhfTt0aGlzLmVtaXQoInBhY2tldENyZWF0ZSIscGFja2V0KSx0aGlzLndyaXRlQnVmZmVyLnB1c2gocGFja2V0KSx0aGlzLmNhbGxiYWNrQnVmZmVyLnB1c2goZm4pLHRoaXMuZmx1c2goKX0sU29ja2V0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybigib3BlbmluZyI9PXRoaXMucmVhZHlTdGF0ZXx8Im9wZW4iPT10aGlzLnJlYWR5U3RhdGUpJiYodGhpcy5vbkNsb3NlKCJmb3JjZWQgY2xvc2UiKSxkZWJ1Zygic29ja2V0IGNsb3NpbmcgLSB0ZWxsaW5nIHRyYW5zcG9ydCB0byBjbG9zZSIpLHRoaXMudHJhbnNwb3J0LmNsb3NlKCkpLHRoaXN9LFNvY2tldC5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlcnIpe2RlYnVnKCJzb2NrZXQgZXJyb3IgJWoiLGVyciksU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSx0aGlzLmVtaXQoImVycm9yIixlcnIpLHRoaXMub25DbG9zZSgidHJhbnNwb3J0IGVycm9yIixlcnIpfSxTb2NrZXQucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24ocmVhc29uLGRlc2Mpe2lmKCJvcGVuaW5nIj09dGhpcy5yZWFkeVN0YXRlfHwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZSl7ZGVidWcoJ3NvY2tldCBjbG9zZSB3aXRoIHJlYXNvbjogIiVzIicscmVhc29uKTt2YXIgc2VsZj10aGlzO2NsZWFyVGltZW91dCh0aGlzLnBpbmdJbnRlcnZhbFRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2VsZi53cml0ZUJ1ZmZlcj1bXSxzZWxmLmNhbGxiYWNrQnVmZmVyPVtdLHNlbGYucHJldkJ1ZmZlckxlbj0wfSwwKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoImNsb3NlIiksdGhpcy50cmFuc3BvcnQuY2xvc2UoKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnJlYWR5U3RhdGU9ImNsb3NlZCIsdGhpcy5pZD1udWxsLHRoaXMuZW1pdCgiY2xvc2UiLHJlYXNvbixkZXNjKX19LFNvY2tldC5wcm90b3R5cGUuZmlsdGVyVXBncmFkZXM9ZnVuY3Rpb24odXBncmFkZXMpe2Zvcih2YXIgZmlsdGVyZWRVcGdyYWRlcz1bXSxpPTAsaj11cGdyYWRlcy5sZW5ndGg7aj5pO2krKyl+aW5kZXgodGhpcy50cmFuc3BvcnRzLHVwZ3JhZGVzW2ldKSYmZmlsdGVyZWRVcGdyYWRlcy5wdXNoKHVwZ3JhZGVzW2ldKTtyZXR1cm4gZmlsdGVyZWRVcGdyYWRlc319KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL3RyYW5zcG9ydCI6MTMsIi4vdHJhbnNwb3J0cyI6MTQsImNvbXBvbmVudC1lbWl0dGVyIjo4LGRlYnVnOjksImVuZ2luZS5pby1wYXJzZXIiOjIxLGluZGV4b2Y6MzYscGFyc2Vqc29uOjI4LHBhcnNlcXM6MjkscGFyc2V1cmk6MzB9XSwxMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIFRyYW5zcG9ydChvcHRzKXt0aGlzLnBhdGg9b3B0cy5wYXRoLHRoaXMuaG9zdG5hbWU9b3B0cy5ob3N0bmFtZSx0aGlzLnBvcnQ9b3B0cy5wb3J0LHRoaXMuc2VjdXJlPW9wdHMuc2VjdXJlLHRoaXMucXVlcnk9b3B0cy5xdWVyeSx0aGlzLnRpbWVzdGFtcFBhcmFtPW9wdHMudGltZXN0YW1wUGFyYW0sdGhpcy50aW1lc3RhbXBSZXF1ZXN0cz1vcHRzLnRpbWVzdGFtcFJlcXVlc3RzLHRoaXMucmVhZHlTdGF0ZT0iIix0aGlzLmFnZW50PW9wdHMuYWdlbnR8fCExLHRoaXMuc29ja2V0PW9wdHMuc29ja2V0LHRoaXMuZW5hYmxlc1hEUj1vcHRzLmVuYWJsZXNYRFJ9dmFyIHBhcnNlcj1fZGVyZXFfKCJlbmdpbmUuaW8tcGFyc2VyIiksRW1pdHRlcj1fZGVyZXFfKCJjb21wb25lbnQtZW1pdHRlciIpO21vZHVsZS5leHBvcnRzPVRyYW5zcG9ydCxFbWl0dGVyKFRyYW5zcG9ydC5wcm90b3R5cGUpLFRyYW5zcG9ydC50aW1lc3RhbXBzPTAsVHJhbnNwb3J0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKG1zZyxkZXNjKXt2YXIgZXJyPW5ldyBFcnJvcihtc2cpO3JldHVybiBlcnIudHlwZT0iVHJhbnNwb3J0RXJyb3IiLGVyci5kZXNjcmlwdGlvbj1kZXNjLHRoaXMuZW1pdCgiZXJyb3IiLGVyciksdGhpc30sVHJhbnNwb3J0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7cmV0dXJuKCJjbG9zZWQiPT10aGlzLnJlYWR5U3RhdGV8fCIiPT10aGlzLnJlYWR5U3RhdGUpJiYodGhpcy5yZWFkeVN0YXRlPSJvcGVuaW5nIix0aGlzLmRvT3BlbigpKSx0aGlzfSxUcmFuc3BvcnQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuKCJvcGVuaW5nIj09dGhpcy5yZWFkeVN0YXRlfHwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZSkmJih0aGlzLmRvQ2xvc2UoKSx0aGlzLm9uQ2xvc2UoKSksdGhpc30sVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHBhY2tldHMpe2lmKCJvcGVuIiE9dGhpcy5yZWFkeVN0YXRlKXRocm93IG5ldyBFcnJvcigiVHJhbnNwb3J0IG5vdCBvcGVuIik7CnRoaXMud3JpdGUocGFja2V0cyl9LFRyYW5zcG9ydC5wcm90b3R5cGUub25PcGVuPWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPSJvcGVuIix0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdCgib3BlbiIpfSxUcmFuc3BvcnQucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihkYXRhKXt2YXIgcGFja2V0PXBhcnNlci5kZWNvZGVQYWNrZXQoZGF0YSx0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTt0aGlzLm9uUGFja2V0KHBhY2tldCl9LFRyYW5zcG9ydC5wcm90b3R5cGUub25QYWNrZXQ9ZnVuY3Rpb24ocGFja2V0KXt0aGlzLmVtaXQoInBhY2tldCIscGFja2V0KX0sVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPSJjbG9zZWQiLHRoaXMuZW1pdCgiY2xvc2UiKX19LHsiY29tcG9uZW50LWVtaXR0ZXIiOjgsImVuZ2luZS5pby1wYXJzZXIiOjIxfV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIHBvbGxpbmcob3B0cyl7dmFyIHhocix4ZD0hMSx4cz0hMSxqc29ucD0hMSE9PW9wdHMuanNvbnA7aWYoZ2xvYmFsLmxvY2F0aW9uKXt2YXIgaXNTU0w9Imh0dHBzOiI9PWxvY2F0aW9uLnByb3RvY29sLHBvcnQ9bG9jYXRpb24ucG9ydDtwb3J0fHwocG9ydD1pc1NTTD80NDM6ODApLHhkPW9wdHMuaG9zdG5hbWUhPWxvY2F0aW9uLmhvc3RuYW1lfHxwb3J0IT1vcHRzLnBvcnQseHM9b3B0cy5zZWN1cmUhPWlzU1NMfWlmKG9wdHMueGRvbWFpbj14ZCxvcHRzLnhzY2hlbWU9eHMseGhyPW5ldyBYTUxIdHRwUmVxdWVzdChvcHRzKSwib3BlbiJpbiB4aHImJiFvcHRzLmZvcmNlSlNPTlApcmV0dXJuIG5ldyBYSFIob3B0cyk7aWYoIWpzb25wKXRocm93IG5ldyBFcnJvcigiSlNPTlAgZGlzYWJsZWQiKTtyZXR1cm4gbmV3IEpTT05QKG9wdHMpfXZhciBYTUxIdHRwUmVxdWVzdD1fZGVyZXFfKCJ4bWxodHRwcmVxdWVzdCIpLFhIUj1fZGVyZXFfKCIuL3BvbGxpbmcteGhyIiksSlNPTlA9X2RlcmVxXygiLi9wb2xsaW5nLWpzb25wIiksd2Vic29ja2V0PV9kZXJlcV8oIi4vd2Vic29ja2V0Iik7ZXhwb3J0cy5wb2xsaW5nPXBvbGxpbmcsZXhwb3J0cy53ZWJzb2NrZXQ9d2Vic29ja2V0fSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9wb2xsaW5nLWpzb25wIjoxNSwiLi9wb2xsaW5nLXhociI6MTYsIi4vd2Vic29ja2V0IjoxOCx4bWxodHRwcmVxdWVzdDoxOX1dLDE1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7KGZ1bmN0aW9uKGdsb2JhbCl7ZnVuY3Rpb24gZW1wdHkoKXt9ZnVuY3Rpb24gSlNPTlBQb2xsaW5nKG9wdHMpe1BvbGxpbmcuY2FsbCh0aGlzLG9wdHMpLHRoaXMucXVlcnk9dGhpcy5xdWVyeXx8e30sY2FsbGJhY2tzfHwoZ2xvYmFsLl9fX2Vpb3x8KGdsb2JhbC5fX19laW89W10pLGNhbGxiYWNrcz1nbG9iYWwuX19fZWlvKSx0aGlzLmluZGV4PWNhbGxiYWNrcy5sZW5ndGg7dmFyIHNlbGY9dGhpcztjYWxsYmFja3MucHVzaChmdW5jdGlvbihtc2cpe3NlbGYub25EYXRhKG1zZyl9KSx0aGlzLnF1ZXJ5Lmo9dGhpcy5pbmRleCxnbG9iYWwuZG9jdW1lbnQmJmdsb2JhbC5hZGRFdmVudExpc3RlbmVyJiZnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIixmdW5jdGlvbigpe3NlbGYuc2NyaXB0JiYoc2VsZi5zY3JpcHQub25lcnJvcj1lbXB0eSl9KX12YXIgUG9sbGluZz1fZGVyZXFfKCIuL3BvbGxpbmciKSxpbmhlcml0PV9kZXJlcV8oImNvbXBvbmVudC1pbmhlcml0Iik7bW9kdWxlLmV4cG9ydHM9SlNPTlBQb2xsaW5nO3ZhciBjYWxsYmFja3Msck5ld2xpbmU9L1xuL2csckVzY2FwZWROZXdsaW5lPS9cXG4vZztpbmhlcml0KEpTT05QUG9sbGluZyxQb2xsaW5nKSxKU09OUFBvbGxpbmcucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSExLEpTT05QUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpe3RoaXMuc2NyaXB0JiYodGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCksdGhpcy5mb3JtJiYodGhpcy5mb3JtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb3JtKSx0aGlzLmZvcm09bnVsbCksUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZS5jYWxsKHRoaXMpfSxKU09OUFBvbGxpbmcucHJvdG90eXBlLmRvUG9sbD1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXMsc2NyaXB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3RoaXMuc2NyaXB0JiYodGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCksc2NyaXB0LmFzeW5jPSEwLHNjcmlwdC5zcmM9dGhpcy51cmkoKSxzY3JpcHQub25lcnJvcj1mdW5jdGlvbihlKXtzZWxmLm9uRXJyb3IoImpzb25wIHBvbGwgZXJyb3IiLGUpfTt2YXIgaW5zZXJ0QXQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdO2luc2VydEF0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCxpbnNlcnRBdCksdGhpcy5zY3JpcHQ9c2NyaXB0O3ZhciBpc1VBZ2Vja289InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9nZWNrby9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7aXNVQWdlY2tvJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGlmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpfSwxMDApfSxKU09OUFBvbGxpbmcucHJvdG90eXBlLmRvV3JpdGU9ZnVuY3Rpb24oZGF0YSxmbil7ZnVuY3Rpb24gY29tcGxldGUoKXtpbml0SWZyYW1lKCksZm4oKX1mdW5jdGlvbiBpbml0SWZyYW1lKCl7aWYoc2VsZi5pZnJhbWUpdHJ5e3NlbGYuZm9ybS5yZW1vdmVDaGlsZChzZWxmLmlmcmFtZSl9Y2F0Y2goZSl7c2VsZi5vbkVycm9yKCJqc29ucCBwb2xsaW5nIGlmcmFtZSByZW1vdmFsIGVycm9yIixlKX10cnl7dmFyIGh0bWw9JzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OjAiIG5hbWU9Iicrc2VsZi5pZnJhbWVJZCsnIj4nO2lmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWwpfWNhdGNoKGUpe2lmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxpZnJhbWUubmFtZT1zZWxmLmlmcmFtZUlkLGlmcmFtZS5zcmM9ImphdmFzY3JpcHQ6MCJ9aWZyYW1lLmlkPXNlbGYuaWZyYW1lSWQsc2VsZi5mb3JtLmFwcGVuZENoaWxkKGlmcmFtZSksc2VsZi5pZnJhbWU9aWZyYW1lfXZhciBzZWxmPXRoaXM7aWYoIXRoaXMuZm9ybSl7dmFyIGlmcmFtZSxmb3JtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKSxhcmVhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIiksaWQ9dGhpcy5pZnJhbWVJZD0iZWlvX2lmcmFtZV8iK3RoaXMuaW5kZXg7Zm9ybS5jbGFzc05hbWU9InNvY2tldGlvIixmb3JtLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsZm9ybS5zdHlsZS50b3A9Ii0xMDAwcHgiLGZvcm0uc3R5bGUubGVmdD0iLTEwMDBweCIsZm9ybS50YXJnZXQ9aWQsZm9ybS5tZXRob2Q9IlBPU1QiLGZvcm0uc2V0QXR0cmlidXRlKCJhY2NlcHQtY2hhcnNldCIsInV0Zi04IiksYXJlYS5uYW1lPSJkIixmb3JtLmFwcGVuZENoaWxkKGFyZWEpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSksdGhpcy5mb3JtPWZvcm0sdGhpcy5hcmVhPWFyZWF9dGhpcy5mb3JtLmFjdGlvbj10aGlzLnVyaSgpLGluaXRJZnJhbWUoKSxkYXRhPWRhdGEucmVwbGFjZShyRXNjYXBlZE5ld2xpbmUsIlxcXG4iKSx0aGlzLmFyZWEudmFsdWU9ZGF0YS5yZXBsYWNlKHJOZXdsaW5lLCJcXG4iKTt0cnl7dGhpcy5mb3JtLnN1Ym1pdCgpfWNhdGNoKGUpe310aGlzLmlmcmFtZS5hdHRhY2hFdmVudD90aGlzLmlmcmFtZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsiY29tcGxldGUiPT1zZWxmLmlmcmFtZS5yZWFkeVN0YXRlJiZjb21wbGV0ZSgpfTp0aGlzLmlmcmFtZS5vbmxvYWQ9Y29tcGxldGV9fSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9wb2xsaW5nIjoxNywiY29tcG9uZW50LWluaGVyaXQiOjIwfV0sMTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXsoZnVuY3Rpb24oZ2xvYmFsKXtmdW5jdGlvbiBlbXB0eSgpe31mdW5jdGlvbiBYSFIob3B0cyl7aWYoUG9sbGluZy5jYWxsKHRoaXMsb3B0cyksZ2xvYmFsLmxvY2F0aW9uKXt2YXIgaXNTU0w9Imh0dHBzOiI9PWxvY2F0aW9uLnByb3RvY29sLHBvcnQ9bG9jYXRpb24ucG9ydDtwb3J0fHwocG9ydD1pc1NTTD80NDM6ODApLHRoaXMueGQ9b3B0cy5ob3N0bmFtZSE9Z2xvYmFsLmxvY2F0aW9uLmhvc3RuYW1lfHxwb3J0IT1vcHRzLnBvcnQsdGhpcy54cz1vcHRzLnNlY3VyZSE9aXNTU0x9fWZ1bmN0aW9uIFJlcXVlc3Qob3B0cyl7dGhpcy5tZXRob2Q9b3B0cy5tZXRob2R8fCJHRVQiLHRoaXMudXJpPW9wdHMudXJpLHRoaXMueGQ9ISFvcHRzLnhkLHRoaXMueHM9ISFvcHRzLnhzLHRoaXMuYXN5bmM9ITEhPT1vcHRzLmFzeW5jLHRoaXMuZGF0YT12b2lkIDAhPW9wdHMuZGF0YT9vcHRzLmRhdGE6bnVsbCx0aGlzLmFnZW50PW9wdHMuYWdlbnQsdGhpcy5pc0JpbmFyeT1vcHRzLmlzQmluYXJ5LHRoaXMuc3VwcG9ydHNCaW5hcnk9b3B0cy5zdXBwb3J0c0JpbmFyeSx0aGlzLmVuYWJsZXNYRFI9b3B0cy5lbmFibGVzWERSLHRoaXMuY3JlYXRlKCl9ZnVuY3Rpb24gdW5sb2FkSGFuZGxlcigpe2Zvcih2YXIgaSBpbiBSZXF1ZXN0LnJlcXVlc3RzKVJlcXVlc3QucmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaSkmJlJlcXVlc3QucmVxdWVzdHNbaV0uYWJvcnQoKX12YXIgWE1MSHR0cFJlcXVlc3Q9X2RlcmVxXygieG1saHR0cHJlcXVlc3QiKSxQb2xsaW5nPV9kZXJlcV8oIi4vcG9sbGluZyIpLEVtaXR0ZXI9X2RlcmVxXygiY29tcG9uZW50LWVtaXR0ZXIiKSxpbmhlcml0PV9kZXJlcV8oImNvbXBvbmVudC1pbmhlcml0IiksZGVidWc9X2RlcmVxXygiZGVidWciKSgiZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nLXhociIpO21vZHVsZS5leHBvcnRzPVhIUixtb2R1bGUuZXhwb3J0cy5SZXF1ZXN0PVJlcXVlc3QsaW5oZXJpdChYSFIsUG9sbGluZyksWEhSLnByb3RvdHlwZS5zdXBwb3J0c0JpbmFyeT0hMCxYSFIucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24ob3B0cyl7cmV0dXJuIG9wdHM9b3B0c3x8e30sb3B0cy51cmk9dGhpcy51cmkoKSxvcHRzLnhkPXRoaXMueGQsb3B0cy54cz10aGlzLnhzLG9wdHMuYWdlbnQ9dGhpcy5hZ2VudHx8ITEsb3B0cy5zdXBwb3J0c0JpbmFyeT10aGlzLnN1cHBvcnRzQmluYXJ5LG9wdHMuZW5hYmxlc1hEUj10aGlzLmVuYWJsZXNYRFIsbmV3IFJlcXVlc3Qob3B0cyl9LFhIUi5wcm90b3R5cGUuZG9Xcml0ZT1mdW5jdGlvbihkYXRhLGZuKXt2YXIgaXNCaW5hcnk9InN0cmluZyIhPXR5cGVvZiBkYXRhJiZ2b2lkIDAhPT1kYXRhLHJlcT10aGlzLnJlcXVlc3Qoe21ldGhvZDoiUE9TVCIsZGF0YTpkYXRhLGlzQmluYXJ5OmlzQmluYXJ5fSksc2VsZj10aGlzO3JlcS5vbigic3VjY2VzcyIsZm4pLHJlcS5vbigiZXJyb3IiLGZ1bmN0aW9uKGVycil7c2VsZi5vbkVycm9yKCJ4aHIgcG9zdCBlcnJvciIsZXJyKX0pLHRoaXMuc2VuZFhocj1yZXF9LFhIUi5wcm90b3R5cGUuZG9Qb2xsPWZ1bmN0aW9uKCl7ZGVidWcoInhociBwb2xsIik7dmFyIHJlcT10aGlzLnJlcXVlc3QoKSxzZWxmPXRoaXM7cmVxLm9uKCJkYXRhIixmdW5jdGlvbihkYXRhKXtzZWxmLm9uRGF0YShkYXRhKX0pLHJlcS5vbigiZXJyb3IiLGZ1bmN0aW9uKGVycil7c2VsZi5vbkVycm9yKCJ4aHIgcG9sbCBlcnJvciIsZXJyKX0pLHRoaXMucG9sbFhocj1yZXF9LEVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpLFJlcXVlc3QucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB4aHI9dGhpcy54aHI9bmV3IFhNTEh0dHBSZXF1ZXN0KHthZ2VudDp0aGlzLmFnZW50LHhkb21haW46dGhpcy54ZCx4c2NoZW1lOnRoaXMueHMsZW5hYmxlc1hEUjp0aGlzLmVuYWJsZXNYRFJ9KSxzZWxmPXRoaXM7dHJ5e2lmKGRlYnVnKCJ4aHIgb3BlbiAlczogJXMiLHRoaXMubWV0aG9kLHRoaXMudXJpKSx4aHIub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVyaSx0aGlzLmFzeW5jKSx0aGlzLnN1cHBvcnRzQmluYXJ5JiYoeGhyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSwiUE9TVCI9PXRoaXMubWV0aG9kKXRyeXt0aGlzLmlzQmluYXJ5P3hoci5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKTp4aHIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Iil9Y2F0Y2goZSl7fSJ3aXRoQ3JlZGVudGlhbHMiaW4geGhyJiYoeGhyLndpdGhDcmVkZW50aWFscz0hMCksdGhpcy5oYXNYRFIoKT8oeGhyLm9ubG9hZD1mdW5jdGlvbigpe3NlbGYub25Mb2FkKCl9LHhoci5vbmVycm9yPWZ1bmN0aW9uKCl7c2VsZi5vbkVycm9yKHhoci5yZXNwb25zZVRleHQpfSk6eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PXhoci5yZWFkeVN0YXRlJiYoMjAwPT14aHIuc3RhdHVzfHwxMjIzPT14aHIuc3RhdHVzP3NlbGYub25Mb2FkKCk6c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYub25FcnJvcih4aHIuc3RhdHVzKX0sMCkpfSxkZWJ1ZygieGhyIGRhdGEgJXMiLHRoaXMuZGF0YSkseGhyLnNlbmQodGhpcy5kYXRhKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2VsZi5vbkVycm9yKGUpfSwwKX1nbG9iYWwuZG9jdW1lbnQmJih0aGlzLmluZGV4PVJlcXVlc3QucmVxdWVzdHNDb3VudCsrLFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF09dGhpcyl9LFJlcXVlc3QucHJvdG90eXBlLm9uU3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMuZW1pdCgic3VjY2VzcyIpLHRoaXMuY2xlYW51cCgpfSxSZXF1ZXN0LnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZGF0YSl7dGhpcy5lbWl0KCJkYXRhIixkYXRhKSx0aGlzLm9uU3VjY2VzcygpfSxSZXF1ZXN0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGVycil7dGhpcy5lbWl0KCJlcnJvciIsZXJyKSx0aGlzLmNsZWFudXAoKX0sUmVxdWVzdC5wcm90b3R5cGUuY2xlYW51cD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy54aHImJm51bGwhPT10aGlzLnhocil7dGhpcy5oYXNYRFIoKT90aGlzLnhoci5vbmxvYWQ9dGhpcy54aHIub25lcnJvcj1lbXB0eTp0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZW1wdHk7dHJ5e3RoaXMueGhyLmFib3J0KCl9Y2F0Y2goZSl7fWdsb2JhbC5kb2N1bWVudCYmZGVsZXRlIFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF0sdGhpcy54aHI9bnVsbH19LFJlcXVlc3QucHJvdG90eXBlLm9uTG9hZD1mdW5jdGlvbigpe3ZhciBkYXRhO3RyeXt2YXIgY29udGVudFR5cGU7dHJ5e2NvbnRlbnRUeXBlPXRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKX1jYXRjaChlKXt9ZGF0YT0iYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIj09PWNvbnRlbnRUeXBlP3RoaXMueGhyLnJlc3BvbnNlOnRoaXMuc3VwcG9ydHNCaW5hcnk/Im9rIjp0aGlzLnhoci5yZXNwb25zZVRleHR9Y2F0Y2goZSl7dGhpcy5vbkVycm9yKGUpfW51bGwhPWRhdGEmJnRoaXMub25EYXRhKGRhdGEpfSxSZXF1ZXN0LnByb3RvdHlwZS5oYXNYRFI9ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbC5YRG9tYWluUmVxdWVzdCYmIXRoaXMueHMmJnRoaXMuZW5hYmxlc1hEUn0sUmVxdWVzdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0sZ2xvYmFsLmRvY3VtZW50JiYoUmVxdWVzdC5yZXF1ZXN0c0NvdW50PTAsUmVxdWVzdC5yZXF1ZXN0cz17fSxnbG9iYWwuYXR0YWNoRXZlbnQ/Z2xvYmFsLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsdW5sb2FkSGFuZGxlcik6Z2xvYmFsLmFkZEV2ZW50TGlzdGVuZXImJmdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLHVubG9hZEhhbmRsZXIpKX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vcG9sbGluZyI6MTcsImNvbXBvbmVudC1lbWl0dGVyIjo4LCJjb21wb25lbnQtaW5oZXJpdCI6MjAsZGVidWc6OSx4bWxodHRwcmVxdWVzdDoxOX1dLDE3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gUG9sbGluZyhvcHRzKXt2YXIgZm9yY2VCYXNlNjQ9b3B0cyYmb3B0cy5mb3JjZUJhc2U2NDsoIWhhc1hIUjJ8fGZvcmNlQmFzZTY0KSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLFRyYW5zcG9ydC5jYWxsKHRoaXMsb3B0cyl9dmFyIFRyYW5zcG9ydD1fZGVyZXFfKCIuLi90cmFuc3BvcnQiKSxwYXJzZXFzPV9kZXJlcV8oInBhcnNlcXMiKSxwYXJzZXI9X2RlcmVxXygiZW5naW5lLmlvLXBhcnNlciIpLGluaGVyaXQ9X2RlcmVxXygiY29tcG9uZW50LWluaGVyaXQiKSxkZWJ1Zz1fZGVyZXFfKCJkZWJ1ZyIpKCJlbmdpbmUuaW8tY2xpZW50OnBvbGxpbmciKTttb2R1bGUuZXhwb3J0cz1Qb2xsaW5nO3ZhciBoYXNYSFIyPWZ1bmN0aW9uKCl7dmFyIFhNTEh0dHBSZXF1ZXN0PV9kZXJlcV8oInhtbGh0dHByZXF1ZXN0IikseGhyPW5ldyBYTUxIdHRwUmVxdWVzdCh7YWdlbnQ6dGhpcy5hZ2VudCx4ZG9tYWluOiExfSk7cmV0dXJuIG51bGwhPXhoci5yZXNwb25zZVR5cGV9KCk7aW5oZXJpdChQb2xsaW5nLFRyYW5zcG9ydCksUG9sbGluZy5wcm90b3R5cGUubmFtZT0icG9sbGluZyIsUG9sbGluZy5wcm90b3R5cGUuZG9PcGVuPWZ1bmN0aW9uKCl7dGhpcy5wb2xsKCl9LFBvbGxpbmcucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKG9uUGF1c2Upe2Z1bmN0aW9uIHBhdXNlKCl7ZGVidWcoInBhdXNlZCIpLHNlbGYucmVhZHlTdGF0ZT0icGF1c2VkIixvblBhdXNlKCl9dmFyIHNlbGY9dGhpcztpZih0aGlzLnJlYWR5U3RhdGU9InBhdXNpbmciLHRoaXMucG9sbGluZ3x8IXRoaXMud3JpdGFibGUpe3ZhciB0b3RhbD0wO3RoaXMucG9sbGluZyYmKGRlYnVnKCJ3ZSBhcmUgY3VycmVudGx5IHBvbGxpbmcgLSB3YWl0aW5nIHRvIHBhdXNlIiksdG90YWwrKyx0aGlzLm9uY2UoInBvbGxDb21wbGV0ZSIsZnVuY3Rpb24oKXtkZWJ1ZygicHJlLXBhdXNlIHBvbGxpbmcgY29tcGxldGUiKSwtLXRvdGFsfHxwYXVzZSgpfSkpLHRoaXMud3JpdGFibGV8fChkZWJ1Zygid2UgYXJlIGN1cnJlbnRseSB3cml0aW5nIC0gd2FpdGluZyB0byBwYXVzZSIpLHRvdGFsKyssdGhpcy5vbmNlKCJkcmFpbiIsZnVuY3Rpb24oKXtkZWJ1ZygicHJlLXBhdXNlIHdyaXRpbmcgY29tcGxldGUiKSwtLXRvdGFsfHxwYXVzZSgpfSkpfWVsc2UgcGF1c2UoKX0sUG9sbGluZy5wcm90b3R5cGUucG9sbD1mdW5jdGlvbigpe2RlYnVnKCJwb2xsaW5nIiksdGhpcy5wb2xsaW5nPSEwLHRoaXMuZG9Qb2xsKCksdGhpcy5lbWl0KCJwb2xsIil9LFBvbGxpbmcucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihkYXRhKXt2YXIgc2VsZj10aGlzO2RlYnVnKCJwb2xsaW5nIGdvdCBkYXRhICVzIixkYXRhKTt2YXIgY2FsbGJhY2s9ZnVuY3Rpb24ocGFja2V0KXtyZXR1cm4ib3BlbmluZyI9PXNlbGYucmVhZHlTdGF0ZSYmc2VsZi5vbk9wZW4oKSwiY2xvc2UiPT1wYWNrZXQudHlwZT8oc2VsZi5vbkNsb3NlKCksITEpOnZvaWQgc2VsZi5vblBhY2tldChwYWNrZXQpfTtwYXJzZXIuZGVjb2RlUGF5bG9hZChkYXRhLHRoaXMuc29ja2V0LmJpbmFyeVR5cGUsY2FsbGJhY2spLCJjbG9zZWQiIT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLnBvbGxpbmc9ITEsdGhpcy5lbWl0KCJwb2xsQ29tcGxldGUiKSwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZT90aGlzLnBvbGwoKTpkZWJ1ZygnaWdub3JpbmcgcG9sbCAtIHRyYW5zcG9ydCBzdGF0ZSAiJXMiJyx0aGlzLnJlYWR5U3RhdGUpKX0sUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGNsb3NlKCl7ZGVidWcoIndyaXRpbmcgY2xvc2UgcGFja2V0Iiksc2VsZi53cml0ZShbe3R5cGU6ImNsb3NlIn1dKX12YXIgc2VsZj10aGlzOyJvcGVuIj09dGhpcy5yZWFkeVN0YXRlPyhkZWJ1ZygidHJhbnNwb3J0IG9wZW4gLSBjbG9zaW5nIiksY2xvc2UoKSk6KGRlYnVnKCJ0cmFuc3BvcnQgbm90IG9wZW4gLSBkZWZlcnJpbmcgY2xvc2UiKSx0aGlzLm9uY2UoIm9wZW4iLGNsb3NlKSl9LFBvbGxpbmcucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHBhY2tldHMpe3ZhciBzZWxmPXRoaXM7dGhpcy53cml0YWJsZT0hMTt2YXIgY2FsbGJhY2tmbj1mdW5jdGlvbigpe3NlbGYud3JpdGFibGU9ITAsc2VsZi5lbWl0KCJkcmFpbiIpfSxzZWxmPXRoaXM7cGFyc2VyLmVuY29kZVBheWxvYWQocGFja2V0cyx0aGlzLnN1cHBvcnRzQmluYXJ5LGZ1bmN0aW9uKGRhdGEpe3NlbGYuZG9Xcml0ZShkYXRhLGNhbGxiYWNrZm4pfSl9LFBvbGxpbmcucHJvdG90eXBlLnVyaT1mdW5jdGlvbigpe3ZhciBxdWVyeT10aGlzLnF1ZXJ5fHx7fSxzY2hlbWE9dGhpcy5zZWN1cmU/Imh0dHBzIjoiaHR0cCIscG9ydD0iIjtyZXR1cm4hMSE9PXRoaXMudGltZXN0YW1wUmVxdWVzdHMmJihxdWVyeVt0aGlzLnRpbWVzdGFtcFBhcmFtXT0rbmV3IERhdGUrIi0iK1RyYW5zcG9ydC50aW1lc3RhbXBzKyspLHRoaXMuc3VwcG9ydHNCaW5hcnl8fHF1ZXJ5LnNpZHx8KHF1ZXJ5LmI2ND0xKSxxdWVyeT1wYXJzZXFzLmVuY29kZShxdWVyeSksdGhpcy5wb3J0JiYoImh0dHBzIj09c2NoZW1hJiY0NDMhPXRoaXMucG9ydHx8Imh0dHAiPT1zY2hlbWEmJjgwIT10aGlzLnBvcnQpJiYocG9ydD0iOiIrdGhpcy5wb3J0KSxxdWVyeS5sZW5ndGgmJihxdWVyeT0iPyIrcXVlcnkpLHNjaGVtYSsiOi8vIit0aGlzLmhvc3RuYW1lK3BvcnQrdGhpcy5wYXRoK3F1ZXJ5fX0seyIuLi90cmFuc3BvcnQiOjEzLCJjb21wb25lbnQtaW5oZXJpdCI6MjAsZGVidWc6OSwiZW5naW5lLmlvLXBhcnNlciI6MjEscGFyc2VxczoyOSx4bWxodHRwcmVxdWVzdDoxOX1dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gV1Mob3B0cyl7dmFyIGZvcmNlQmFzZTY0PW9wdHMmJm9wdHMuZm9yY2VCYXNlNjQ7Zm9yY2VCYXNlNjQmJih0aGlzLnN1cHBvcnRzQmluYXJ5PSExKSxUcmFuc3BvcnQuY2FsbCh0aGlzLG9wdHMpfXZhciBUcmFuc3BvcnQ9X2RlcmVxXygiLi4vdHJhbnNwb3J0IikscGFyc2VyPV9kZXJlcV8oImVuZ2luZS5pby1wYXJzZXIiKSxwYXJzZXFzPV9kZXJlcV8oInBhcnNlcXMiKSxpbmhlcml0PV9kZXJlcV8oImNvbXBvbmVudC1pbmhlcml0IiksZGVidWc9X2RlcmVxXygiZGVidWciKSgiZW5naW5lLmlvLWNsaWVudDp3ZWJzb2NrZXQiKSxXZWJTb2NrZXQ9X2RlcmVxXygid3MiKTttb2R1bGUuZXhwb3J0cz1XUyxpbmhlcml0KFdTLFRyYW5zcG9ydCksV1MucHJvdG90eXBlLm5hbWU9IndlYnNvY2tldCIsV1MucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSEwLFdTLnByb3RvdHlwZS5kb09wZW49ZnVuY3Rpb24oKXtpZih0aGlzLmNoZWNrKCkpe3ZhciB1cmk9dGhpcy51cmkoKSxwcm90b2NvbHM9dm9pZCAwLG9wdHM9e2FnZW50OnRoaXMuYWdlbnR9O3RoaXMud3M9bmV3IFdlYlNvY2tldCh1cmkscHJvdG9jb2xzLG9wdHMpLHZvaWQgMD09PXRoaXMud3MuYmluYXJ5VHlwZSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLHRoaXMud3MuYmluYXJ5VHlwZT0iYXJyYXlidWZmZXIiLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX19LFdTLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dGhpcy53cy5vbm9wZW49ZnVuY3Rpb24oKXtzZWxmLm9uT3BlbigpfSx0aGlzLndzLm9uY2xvc2U9ZnVuY3Rpb24oKXtzZWxmLm9uQ2xvc2UoKX0sdGhpcy53cy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZXYpe3NlbGYub25EYXRhKGV2LmRhdGEpfSx0aGlzLndzLm9uZXJyb3I9ZnVuY3Rpb24oZSl7c2VsZi5vbkVycm9yKCJ3ZWJzb2NrZXQgZXJyb3IiLGUpfX0sInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9pUGFkfGlQaG9uZXxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKFdTLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZGF0YSl7dmFyIHNlbGY9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VHJhbnNwb3J0LnByb3RvdHlwZS5vbkRhdGEuY2FsbChzZWxmLGRhdGEpfSwwKX0pLFdTLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihwYWNrZXRzKXtmdW5jdGlvbiBvbmRyYWluKCl7c2VsZi53cml0YWJsZT0hMCxzZWxmLmVtaXQoImRyYWluIil9dmFyIHNlbGY9dGhpczt0aGlzLndyaXRhYmxlPSExO2Zvcih2YXIgaT0wLGw9cGFja2V0cy5sZW5ndGg7bD5pO2krKylwYXJzZXIuZW5jb2RlUGFja2V0KHBhY2tldHNbaV0sdGhpcy5zdXBwb3J0c0JpbmFyeSxmdW5jdGlvbihkYXRhKXt0cnl7c2VsZi53cy5zZW5kKGRhdGEpfWNhdGNoKGUpe2RlYnVnKCJ3ZWJzb2NrZXQgY2xvc2VkIGJlZm9yZSBvbmNsb3NlIGV2ZW50Iil9fSk7c2V0VGltZW91dChvbmRyYWluLDApfSxXUy5wcm90b3R5cGUub25DbG9zZT1mdW5jdGlvbigpe1RyYW5zcG9ydC5wcm90b3R5cGUub25DbG9zZS5jYWxsKHRoaXMpfSxXUy5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpeyJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy53cyYmdGhpcy53cy5jbG9zZSgpfSxXUy5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKCl7dmFyIHF1ZXJ5PXRoaXMucXVlcnl8fHt9LHNjaGVtYT10aGlzLnNlY3VyZT8id3NzIjoid3MiLHBvcnQ9IiI7cmV0dXJuIHRoaXMucG9ydCYmKCJ3c3MiPT1zY2hlbWEmJjQ0MyE9dGhpcy5wb3J0fHwid3MiPT1zY2hlbWEmJjgwIT10aGlzLnBvcnQpJiYocG9ydD0iOiIrdGhpcy5wb3J0KSx0aGlzLnRpbWVzdGFtcFJlcXVlc3RzJiYocXVlcnlbdGhpcy50aW1lc3RhbXBQYXJhbV09K25ldyBEYXRlKSx0aGlzLnN1cHBvcnRzQmluYXJ5fHwocXVlcnkuYjY0PTEpLHF1ZXJ5PXBhcnNlcXMuZW5jb2RlKHF1ZXJ5KSxxdWVyeS5sZW5ndGgmJihxdWVyeT0iPyIrcXVlcnkpLHNjaGVtYSsiOi8vIit0aGlzLmhvc3RuYW1lK3BvcnQrdGhpcy5wYXRoK3F1ZXJ5fSxXUy5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4hKCFXZWJTb2NrZXR8fCJfX2luaXRpYWxpemUiaW4gV2ViU29ja2V0JiZ0aGlzLm5hbWU9PT1XUy5wcm90b3R5cGUubmFtZSl9fSx7Ii4uL3RyYW5zcG9ydCI6MTMsImNvbXBvbmVudC1pbmhlcml0IjoyMCxkZWJ1Zzo5LCJlbmdpbmUuaW8tcGFyc2VyIjoyMSxwYXJzZXFzOjI5LHdzOjMxfV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgaGFzQ09SUz1fZGVyZXFfKCJoYXMtY29ycyIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG9wdHMpe3ZhciB4ZG9tYWluPW9wdHMueGRvbWFpbix4c2NoZW1lPW9wdHMueHNjaGVtZSxlbmFibGVzWERSPW9wdHMuZW5hYmxlc1hEUjt0cnl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdCYmIXhzY2hlbWUmJmVuYWJsZXNYRFIpcmV0dXJuIG5ldyBYRG9tYWluUmVxdWVzdH1jYXRjaChlKXt9dHJ5e2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJigheGRvbWFpbnx8aGFzQ09SUykpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9aWYoIXhkb21haW4pdHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChlKXt9fX0seyJoYXMtY29ycyI6MzR9XSwyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGEsYil7dmFyIGZuPWZ1bmN0aW9uKCl7fTtmbi5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS5wcm90b3R5cGU9bmV3IGZuLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9fSx7fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIGVuY29kZUFycmF5QnVmZmVyKHBhY2tldCxzdXBwb3J0c0JpbmFyeSxjYWxsYmFjayl7aWYoIXN1cHBvcnRzQmluYXJ5KXJldHVybiBleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldChwYWNrZXQsY2FsbGJhY2spO3ZhciBkYXRhPXBhY2tldC5kYXRhLGNvbnRlbnRBcnJheT1uZXcgVWludDhBcnJheShkYXRhKSxyZXN1bHRCdWZmZXI9bmV3IFVpbnQ4QXJyYXkoMStkYXRhLmJ5dGVMZW5ndGgpO3Jlc3VsdEJ1ZmZlclswXT1wYWNrZXRzW3BhY2tldC50eXBlXTtmb3IodmFyIGk9MDtpPGNvbnRlbnRBcnJheS5sZW5ndGg7aSsrKXJlc3VsdEJ1ZmZlcltpKzFdPWNvbnRlbnRBcnJheVtpXTtyZXR1cm4gY2FsbGJhY2socmVzdWx0QnVmZmVyLmJ1ZmZlcil9ZnVuY3Rpb24gZW5jb2RlQmxvYkFzQXJyYXlCdWZmZXIocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKXtpZighc3VwcG9ydHNCaW5hcnkpcmV0dXJuIGV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0KHBhY2tldCxjYWxsYmFjayk7dmFyIGZyPW5ldyBGaWxlUmVhZGVyO3JldHVybiBmci5vbmxvYWQ9ZnVuY3Rpb24oKXtwYWNrZXQuZGF0YT1mci5yZXN1bHQsZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LHN1cHBvcnRzQmluYXJ5LCEwLGNhbGxiYWNrKX0sZnIucmVhZEFzQXJyYXlCdWZmZXIocGFja2V0LmRhdGEpfWZ1bmN0aW9uIGVuY29kZUJsb2IocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKXtpZighc3VwcG9ydHNCaW5hcnkpcmV0dXJuIGV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0KHBhY2tldCxjYWxsYmFjayk7aWYoaXNBbmRyb2lkKXJldHVybiBlbmNvZGVCbG9iQXNBcnJheUJ1ZmZlcihwYWNrZXQsc3VwcG9ydHNCaW5hcnksY2FsbGJhY2spO3ZhciBsZW5ndGg9bmV3IFVpbnQ4QXJyYXkoMSk7bGVuZ3RoWzBdPXBhY2tldHNbcGFja2V0LnR5cGVdO3ZhciBibG9iPW5ldyBCbG9iKFtsZW5ndGguYnVmZmVyLHBhY2tldC5kYXRhXSk7cmV0dXJuIGNhbGxiYWNrKGJsb2IpfWZ1bmN0aW9uIG1hcChhcnksZWFjaCxkb25lKXtmb3IodmFyIHJlc3VsdD1uZXcgQXJyYXkoYXJ5Lmxlbmd0aCksbmV4dD1hZnRlcihhcnkubGVuZ3RoLGRvbmUpLGVhY2hXaXRoSW5kZXg9ZnVuY3Rpb24oaSxlbCxjYil7ZWFjaChlbCxmdW5jdGlvbihlcnJvcixtc2cpe3Jlc3VsdFtpXT1tc2csY2IoZXJyb3IscmVzdWx0KX0pfSxpPTA7aTxhcnkubGVuZ3RoO2krKyllYWNoV2l0aEluZGV4KGksYXJ5W2ldLG5leHQpfXZhciBrZXlzPV9kZXJlcV8oIi4va2V5cyIpLHNsaWNlQnVmZmVyPV9kZXJlcV8oImFycmF5YnVmZmVyLnNsaWNlIiksYmFzZTY0ZW5jb2Rlcj1fZGVyZXFfKCJiYXNlNjQtYXJyYXlidWZmZXIiKSxhZnRlcj1fZGVyZXFfKCJhZnRlciIpLHV0Zjg9X2RlcmVxXygidXRmOCIpLGlzQW5kcm9pZD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpO2V4cG9ydHMucHJvdG9jb2w9Mzt2YXIgcGFja2V0cz1leHBvcnRzLnBhY2tldHM9e29wZW46MCxjbG9zZToxLHBpbmc6Mixwb25nOjMsbWVzc2FnZTo0LHVwZ3JhZGU6NSxub29wOjZ9LHBhY2tldHNsaXN0PWtleXMocGFja2V0cyksZXJyPXt0eXBlOiJlcnJvciIsZGF0YToicGFyc2VyIGVycm9yIn0sQmxvYj1fZGVyZXFfKCJibG9iIik7ZXhwb3J0cy5lbmNvZGVQYWNrZXQ9ZnVuY3Rpb24ocGFja2V0LHN1cHBvcnRzQmluYXJ5LHV0ZjhlbmNvZGUsY2FsbGJhY2speyJmdW5jdGlvbiI9PXR5cGVvZiBzdXBwb3J0c0JpbmFyeSYmKGNhbGxiYWNrPXN1cHBvcnRzQmluYXJ5LHN1cHBvcnRzQmluYXJ5PSExKSwiZnVuY3Rpb24iPT10eXBlb2YgdXRmOGVuY29kZSYmKGNhbGxiYWNrPXV0ZjhlbmNvZGUsdXRmOGVuY29kZT1udWxsKTt2YXIgZGF0YT12b2lkIDA9PT1wYWNrZXQuZGF0YT92b2lkIDA6cGFja2V0LmRhdGEuYnVmZmVyfHxwYWNrZXQuZGF0YTtpZihnbG9iYWwuQXJyYXlCdWZmZXImJmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gZW5jb2RlQXJyYXlCdWZmZXIocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKTtpZihCbG9iJiZkYXRhIGluc3RhbmNlb2YgZ2xvYmFsLkJsb2IpcmV0dXJuIGVuY29kZUJsb2IocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKTt2YXIgZW5jb2RlZD1wYWNrZXRzW3BhY2tldC50eXBlXTtyZXR1cm4gdm9pZCAwIT09cGFja2V0LmRhdGEmJihlbmNvZGVkKz11dGY4ZW5jb2RlP3V0ZjguZW5jb2RlKFN0cmluZyhwYWNrZXQuZGF0YSkpOlN0cmluZyhwYWNrZXQuZGF0YSkpLGNhbGxiYWNrKCIiK2VuY29kZWQpfSxleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldD1mdW5jdGlvbihwYWNrZXQsY2FsbGJhY2spe3ZhciBtZXNzYWdlPSJiIitleHBvcnRzLnBhY2tldHNbcGFja2V0LnR5cGVdO2lmKEJsb2ImJnBhY2tldC5kYXRhIGluc3RhbmNlb2YgQmxvYil7dmFyIGZyPW5ldyBGaWxlUmVhZGVyO3JldHVybiBmci5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYjY0PWZyLnJlc3VsdC5zcGxpdCgiLCIpWzFdO2NhbGxiYWNrKG1lc3NhZ2UrYjY0KX0sZnIucmVhZEFzRGF0YVVSTChwYWNrZXQuZGF0YSl9dmFyIGI2NGRhdGE7dHJ5e2I2NGRhdGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHBhY2tldC5kYXRhKSl9Y2F0Y2goZSl7Zm9yKHZhciB0eXBlZD1uZXcgVWludDhBcnJheShwYWNrZXQuZGF0YSksYmFzaWM9bmV3IEFycmF5KHR5cGVkLmxlbmd0aCksaT0wO2k8dHlwZWQubGVuZ3RoO2krKyliYXNpY1tpXT10eXBlZFtpXTtiNjRkYXRhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxiYXNpYyl9cmV0dXJuIG1lc3NhZ2UrPWdsb2JhbC5idG9hKGI2NGRhdGEpLGNhbGxiYWNrKG1lc3NhZ2UpfSxleHBvcnRzLmRlY29kZVBhY2tldD1mdW5jdGlvbihkYXRhLGJpbmFyeVR5cGUsdXRmOGRlY29kZSl7aWYoInN0cmluZyI9PXR5cGVvZiBkYXRhfHx2b2lkIDA9PT1kYXRhKXtpZigiYiI9PWRhdGEuY2hhckF0KDApKXJldHVybiBleHBvcnRzLmRlY29kZUJhc2U2NFBhY2tldChkYXRhLnN1YnN0cigxKSxiaW5hcnlUeXBlKTtpZih1dGY4ZGVjb2RlKXRyeXtkYXRhPXV0ZjguZGVjb2RlKGRhdGEpfWNhdGNoKGUpe3JldHVybiBlcnJ9dmFyIHR5cGU9ZGF0YS5jaGFyQXQoMCk7cmV0dXJuIE51bWJlcih0eXBlKT09dHlwZSYmcGFja2V0c2xpc3RbdHlwZV0/ZGF0YS5sZW5ndGg+MT97dHlwZTpwYWNrZXRzbGlzdFt0eXBlXSxkYXRhOmRhdGEuc3Vic3RyaW5nKDEpfTp7dHlwZTpwYWNrZXRzbGlzdFt0eXBlXX06ZXJyfXZhciBhc0FycmF5PW5ldyBVaW50OEFycmF5KGRhdGEpLHR5cGU9YXNBcnJheVswXSxyZXN0PXNsaWNlQnVmZmVyKGRhdGEsMSk7cmV0dXJuIEJsb2ImJiJibG9iIj09PWJpbmFyeVR5cGUmJihyZXN0PW5ldyBCbG9iKFtyZXN0XSkpLHt0eXBlOnBhY2tldHNsaXN0W3R5cGVdLGRhdGE6cmVzdH19LGV4cG9ydHMuZGVjb2RlQmFzZTY0UGFja2V0PWZ1bmN0aW9uKG1zZyxiaW5hcnlUeXBlKXt2YXIgdHlwZT1wYWNrZXRzbGlzdFttc2cuY2hhckF0KDApXTtpZighZ2xvYmFsLkFycmF5QnVmZmVyKXJldHVybnt0eXBlOnR5cGUsZGF0YTp7YmFzZTY0OiEwLGRhdGE6bXNnLnN1YnN0cigxKX19O3ZhciBkYXRhPWJhc2U2NGVuY29kZXIuZGVjb2RlKG1zZy5zdWJzdHIoMSkpO3JldHVybiJibG9iIj09PWJpbmFyeVR5cGUmJkJsb2ImJihkYXRhPW5ldyBCbG9iKFtkYXRhXSkpLHt0eXBlOnR5cGUsZGF0YTpkYXRhfX0sZXhwb3J0cy5lbmNvZGVQYXlsb2FkPWZ1bmN0aW9uKHBhY2tldHMsc3VwcG9ydHNCaW5hcnksY2FsbGJhY2spe2Z1bmN0aW9uIHNldExlbmd0aEhlYWRlcihtZXNzYWdlKXtyZXR1cm4gbWVzc2FnZS5sZW5ndGgrIjoiK21lc3NhZ2V9ZnVuY3Rpb24gZW5jb2RlT25lKHBhY2tldCxkb25lQ2FsbGJhY2spe2V4cG9ydHMuZW5jb2RlUGFja2V0KHBhY2tldCxzdXBwb3J0c0JpbmFyeSwhMCxmdW5jdGlvbihtZXNzYWdlKXtkb25lQ2FsbGJhY2sobnVsbCxzZXRMZW5ndGhIZWFkZXIobWVzc2FnZSkpfSl9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHN1cHBvcnRzQmluYXJ5JiYoY2FsbGJhY2s9c3VwcG9ydHNCaW5hcnksc3VwcG9ydHNCaW5hcnk9bnVsbCksc3VwcG9ydHNCaW5hcnk/QmxvYiYmIWlzQW5kcm9pZD9leHBvcnRzLmVuY29kZVBheWxvYWRBc0Jsb2IocGFja2V0cyxjYWxsYmFjayk6ZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcihwYWNrZXRzLGNhbGxiYWNrKTpwYWNrZXRzLmxlbmd0aD92b2lkIG1hcChwYWNrZXRzLGVuY29kZU9uZSxmdW5jdGlvbihlcnIscmVzdWx0cyl7cmV0dXJuIGNhbGxiYWNrKHJlc3VsdHMuam9pbigiIikpfSk6Y2FsbGJhY2soIjA6Iil9LGV4cG9ydHMuZGVjb2RlUGF5bG9hZD1mdW5jdGlvbihkYXRhLGJpbmFyeVR5cGUsY2FsbGJhY2spe2lmKCJzdHJpbmciIT10eXBlb2YgZGF0YSlyZXR1cm4gZXhwb3J0cy5kZWNvZGVQYXlsb2FkQXNCaW5hcnkoZGF0YSxiaW5hcnlUeXBlLGNhbGxiYWNrKTsiZnVuY3Rpb24iPT10eXBlb2YgYmluYXJ5VHlwZSYmKGNhbGxiYWNrPWJpbmFyeVR5cGUsYmluYXJ5VHlwZT1udWxsKTt2YXIgcGFja2V0O2lmKCIiPT1kYXRhKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTtmb3IodmFyIG4sbXNnLGxlbmd0aD0iIixpPTAsbD1kYXRhLmxlbmd0aDtsPmk7aSsrKXt2YXIgY2hyPWRhdGEuY2hhckF0KGkpO2lmKCI6IiE9Y2hyKWxlbmd0aCs9Y2hyO2Vsc2V7aWYoIiI9PWxlbmd0aHx8bGVuZ3RoIT0obj1OdW1iZXIobGVuZ3RoKSkpcmV0dXJuIGNhbGxiYWNrKGVyciwwLDEpO2lmKG1zZz1kYXRhLnN1YnN0cihpKzEsbiksbGVuZ3RoIT1tc2cubGVuZ3RoKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTtpZihtc2cubGVuZ3RoKXtpZihwYWNrZXQ9ZXhwb3J0cy5kZWNvZGVQYWNrZXQobXNnLGJpbmFyeVR5cGUsITApLGVyci50eXBlPT1wYWNrZXQudHlwZSYmZXJyLmRhdGE9PXBhY2tldC5kYXRhKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTt2YXIgcmV0PWNhbGxiYWNrKHBhY2tldCxpK24sbCk7aWYoITE9PT1yZXQpcmV0dXJufWkrPW4sbGVuZ3RoPSIifX1yZXR1cm4iIiE9bGVuZ3RoP2NhbGxiYWNrKGVyciwwLDEpOnZvaWQgMH0sZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcj1mdW5jdGlvbihwYWNrZXRzLGNhbGxiYWNrKXtmdW5jdGlvbiBlbmNvZGVPbmUocGFja2V0LGRvbmVDYWxsYmFjayl7ZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCEwLCEwLGZ1bmN0aW9uKGRhdGEpe3JldHVybiBkb25lQ2FsbGJhY2sobnVsbCxkYXRhKX0pfXJldHVybiBwYWNrZXRzLmxlbmd0aD92b2lkIG1hcChwYWNrZXRzLGVuY29kZU9uZSxmdW5jdGlvbihlcnIsZW5jb2RlZFBhY2tldHMpe3ZhciB0b3RhbExlbmd0aD1lbmNvZGVkUGFja2V0cy5yZWR1Y2UoZnVuY3Rpb24oYWNjLHApe3ZhciBsZW47cmV0dXJuIGxlbj0ic3RyaW5nIj09dHlwZW9mIHA/cC5sZW5ndGg6cC5ieXRlTGVuZ3RoLGFjYytsZW4udG9TdHJpbmcoKS5sZW5ndGgrbGVuKzJ9LDApLHJlc3VsdEFycmF5PW5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKSxidWZmZXJJbmRleD0wO3JldHVybiBlbmNvZGVkUGFja2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHApe3ZhciBpc1N0cmluZz0ic3RyaW5nIj09dHlwZW9mIHAsYWI9cDtpZihpc1N0cmluZyl7Zm9yKHZhciB2aWV3PW5ldyBVaW50OEFycmF5KHAubGVuZ3RoKSxpPTA7aTxwLmxlbmd0aDtpKyspdmlld1tpXT1wLmNoYXJDb2RlQXQoaSk7YWI9dmlldy5idWZmZXJ9cmVzdWx0QXJyYXlbYnVmZmVySW5kZXgrK109aXNTdHJpbmc/MDoxO2Zvcih2YXIgbGVuU3RyPWFiLmJ5dGVMZW5ndGgudG9TdHJpbmcoKSxpPTA7aTxsZW5TdHIubGVuZ3RoO2krKylyZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXT1wYXJzZUludChsZW5TdHJbaV0pO3Jlc3VsdEFycmF5W2J1ZmZlckluZGV4KytdPTI1NTtmb3IodmFyIHZpZXc9bmV3IFVpbnQ4QXJyYXkoYWIpLGk9MDtpPHZpZXcubGVuZ3RoO2krKylyZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXT12aWV3W2ldfSksY2FsbGJhY2socmVzdWx0QXJyYXkuYnVmZmVyKX0pOmNhbGxiYWNrKG5ldyBBcnJheUJ1ZmZlcigwKSl9LGV4cG9ydHMuZW5jb2RlUGF5bG9hZEFzQmxvYj1mdW5jdGlvbihwYWNrZXRzLGNhbGxiYWNrKXtmdW5jdGlvbiBlbmNvZGVPbmUocGFja2V0LGRvbmVDYWxsYmFjayl7ZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCEwLCEwLGZ1bmN0aW9uKGVuY29kZWQpe3ZhciBiaW5hcnlJZGVudGlmaWVyPW5ldyBVaW50OEFycmF5KDEpO2lmKGJpbmFyeUlkZW50aWZpZXJbMF09MSwic3RyaW5nIj09dHlwZW9mIGVuY29kZWQpe2Zvcih2YXIgdmlldz1uZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCksaT0wO2k8ZW5jb2RlZC5sZW5ndGg7aSsrKXZpZXdbaV09ZW5jb2RlZC5jaGFyQ29kZUF0KGkpO2VuY29kZWQ9dmlldy5idWZmZXIsYmluYXJ5SWRlbnRpZmllclswXT0wfWZvcih2YXIgbGVuPWVuY29kZWQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lbmNvZGVkLmJ5dGVMZW5ndGg6ZW5jb2RlZC5zaXplLGxlblN0cj1sZW4udG9TdHJpbmcoKSxsZW5ndGhBcnk9bmV3IFVpbnQ4QXJyYXkobGVuU3RyLmxlbmd0aCsxKSxpPTA7aTxsZW5TdHIubGVuZ3RoO2krKylsZW5ndGhBcnlbaV09cGFyc2VJbnQobGVuU3RyW2ldKTtpZihsZW5ndGhBcnlbbGVuU3RyLmxlbmd0aF09MjU1LEJsb2Ipe3ZhciBibG9iPW5ldyBCbG9iKFtiaW5hcnlJZGVudGlmaWVyLmJ1ZmZlcixsZW5ndGhBcnkuYnVmZmVyLGVuY29kZWRdKTtkb25lQ2FsbGJhY2sobnVsbCxibG9iKX19KX1tYXAocGFja2V0cyxlbmNvZGVPbmUsZnVuY3Rpb24oZXJyLHJlc3VsdHMpe3JldHVybiBjYWxsYmFjayhuZXcgQmxvYihyZXN1bHRzKSl9KX0sZXhwb3J0cy5kZWNvZGVQYXlsb2FkQXNCaW5hcnk9ZnVuY3Rpb24oZGF0YSxiaW5hcnlUeXBlLGNhbGxiYWNrKXsiZnVuY3Rpb24iPT10eXBlb2YgYmluYXJ5VHlwZSYmKGNhbGxiYWNrPWJpbmFyeVR5cGUsYmluYXJ5VHlwZT1udWxsKTtmb3IodmFyIGJ1ZmZlclRhaWw9ZGF0YSxidWZmZXJzPVtdLG51bWJlclRvb0xvbmc9ITE7YnVmZmVyVGFpbC5ieXRlTGVuZ3RoPjA7KXtmb3IodmFyIHRhaWxBcnJheT1uZXcgVWludDhBcnJheShidWZmZXJUYWlsKSxpc1N0cmluZz0wPT09dGFpbEFycmF5WzBdLG1zZ0xlbmd0aD0iIixpPTE7MjU1IT10YWlsQXJyYXlbaV07aSsrKXtpZihtc2dMZW5ndGgubGVuZ3RoPjMxMCl7bnVtYmVyVG9vTG9uZz0hMDticmVha31tc2dMZW5ndGgrPXRhaWxBcnJheVtpXX1pZihudW1iZXJUb29Mb25nKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTtidWZmZXJUYWlsPXNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsMittc2dMZW5ndGgubGVuZ3RoKSxtc2dMZW5ndGg9cGFyc2VJbnQobXNnTGVuZ3RoKTt2YXIgbXNnPXNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsMCxtc2dMZW5ndGgpO2lmKGlzU3RyaW5nKXRyeXttc2c9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KG1zZykpfWNhdGNoKGUpe3ZhciB0eXBlZD1uZXcgVWludDhBcnJheShtc2cpO21zZz0iIjtmb3IodmFyIGk9MDtpPHR5cGVkLmxlbmd0aDtpKyspbXNnKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHR5cGVkW2ldKX1idWZmZXJzLnB1c2gobXNnKSxidWZmZXJUYWlsPXNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsbXNnTGVuZ3RoKX12YXIgdG90YWw9YnVmZmVycy5sZW5ndGg7YnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uKGJ1ZmZlcixpKXtjYWxsYmFjayhleHBvcnRzLmRlY29kZVBhY2tldChidWZmZXIsYmluYXJ5VHlwZSwhMCksaSx0b3RhbCl9KX19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL2tleXMiOjIyLGFmdGVyOjIzLCJhcnJheWJ1ZmZlci5zbGljZSI6MjQsImJhc2U2NC1hcnJheWJ1ZmZlciI6MjUsYmxvYjoyNix1dGY4OjI3fV0sMjI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXttb2R1bGUuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24ob2JqKXt2YXIgYXJyPVtdLGhhcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Zvcih2YXIgaSBpbiBvYmopaGFzLmNhbGwob2JqLGkpJiZhcnIucHVzaChpKTtyZXR1cm4gYXJyfX0se31dLDIzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gYWZ0ZXIoY291bnQsY2FsbGJhY2ssZXJyX2NiKXtmdW5jdGlvbiBwcm94eShlcnIscmVzdWx0KXtpZihwcm94eS5jb3VudDw9MCl0aHJvdyBuZXcgRXJyb3IoImFmdGVyIGNhbGxlZCB0b28gbWFueSB0aW1lcyIpOy0tcHJveHkuY291bnQsZXJyPyhiYWlsPSEwLGNhbGxiYWNrKGVyciksY2FsbGJhY2s9ZXJyX2NiKTowIT09cHJveHkuY291bnR8fGJhaWx8fGNhbGxiYWNrKG51bGwscmVzdWx0KX12YXIgYmFpbD0hMTtyZXR1cm4gZXJyX2NiPWVycl9jYnx8bm9vcCxwcm94eS5jb3VudD1jb3VudCwwPT09Y291bnQ/Y2FsbGJhY2soKTpwcm94eX1mdW5jdGlvbiBub29wKCl7fW1vZHVsZS5leHBvcnRzPWFmdGVyfSx7fV0sMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihhcnJheWJ1ZmZlcixzdGFydCxlbmQpe3ZhciBieXRlcz1hcnJheWJ1ZmZlci5ieXRlTGVuZ3RoO2lmKHN0YXJ0PXN0YXJ0fHwwLGVuZD1lbmR8fGJ5dGVzLGFycmF5YnVmZmVyLnNsaWNlKXJldHVybiBhcnJheWJ1ZmZlci5zbGljZShzdGFydCxlbmQpO2lmKDA+c3RhcnQmJihzdGFydCs9Ynl0ZXMpLDA+ZW5kJiYoZW5kKz1ieXRlcyksZW5kPmJ5dGVzJiYoZW5kPWJ5dGVzKSxzdGFydD49Ynl0ZXN8fHN0YXJ0Pj1lbmR8fDA9PT1ieXRlcylyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO2Zvcih2YXIgYWJ2PW5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSxyZXN1bHQ9bmV3IFVpbnQ4QXJyYXkoZW5kLXN0YXJ0KSxpPXN0YXJ0LGlpPTA7ZW5kPmk7aSsrLGlpKyspcmVzdWx0W2lpXT1hYnZbaV07cmV0dXJuIHJlc3VsdC5idWZmZXJ9fSx7fV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyFmdW5jdGlvbihjaGFycyl7InVzZSBzdHJpY3QiO2V4cG9ydHMuZW5jb2RlPWZ1bmN0aW9uKGFycmF5YnVmZmVyKXt2YXIgaSxieXRlcz1uZXcgVWludDhBcnJheShhcnJheWJ1ZmZlciksbGVuPWJ5dGVzLmxlbmd0aCxiYXNlNjQ9IiI7Zm9yKGk9MDtsZW4+aTtpKz0zKWJhc2U2NCs9Y2hhcnNbYnl0ZXNbaV0+PjJdLGJhc2U2NCs9Y2hhcnNbKDMmYnl0ZXNbaV0pPDw0fGJ5dGVzW2krMV0+PjRdLGJhc2U2NCs9Y2hhcnNbKDE1JmJ5dGVzW2krMV0pPDwyfGJ5dGVzW2krMl0+PjZdLGJhc2U2NCs9Y2hhcnNbNjMmYnl0ZXNbaSsyXV07cmV0dXJuIGxlbiUzPT09Mj9iYXNlNjQ9YmFzZTY0LnN1YnN0cmluZygwLGJhc2U2NC5sZW5ndGgtMSkrIj0iOmxlbiUzPT09MSYmKGJhc2U2ND1iYXNlNjQuc3Vic3RyaW5nKDAsYmFzZTY0Lmxlbmd0aC0yKSsiPT0iKSxiYXNlNjR9LGV4cG9ydHMuZGVjb2RlPWZ1bmN0aW9uKGJhc2U2NCl7dmFyIGksZW5jb2RlZDEsZW5jb2RlZDIsZW5jb2RlZDMsZW5jb2RlZDQsYnVmZmVyTGVuZ3RoPS43NSpiYXNlNjQubGVuZ3RoLGxlbj1iYXNlNjQubGVuZ3RoLHA9MDsiPSI9PT1iYXNlNjRbYmFzZTY0Lmxlbmd0aC0xXSYmKGJ1ZmZlckxlbmd0aC0tLCI9Ij09PWJhc2U2NFtiYXNlNjQubGVuZ3RoLTJdJiZidWZmZXJMZW5ndGgtLSk7dmFyIGFycmF5YnVmZmVyPW5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLGJ5dGVzPW5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtmb3IoaT0wO2xlbj5pO2krPTQpZW5jb2RlZDE9Y2hhcnMuaW5kZXhPZihiYXNlNjRbaV0pLGVuY29kZWQyPWNoYXJzLmluZGV4T2YoYmFzZTY0W2krMV0pLGVuY29kZWQzPWNoYXJzLmluZGV4T2YoYmFzZTY0W2krMl0pLGVuY29kZWQ0PWNoYXJzLmluZGV4T2YoYmFzZTY0W2krM10pLGJ5dGVzW3ArK109ZW5jb2RlZDE8PDJ8ZW5jb2RlZDI+PjQsYnl0ZXNbcCsrXT0oMTUmZW5jb2RlZDIpPDw0fGVuY29kZWQzPj4yLGJ5dGVzW3ArK109KDMmZW5jb2RlZDMpPDw2fDYzJmVuY29kZWQ0O3JldHVybiBhcnJheWJ1ZmZlcn19KCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIil9LHt9XSwyNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIEJsb2JCdWlsZGVyQ29uc3RydWN0b3IoYXJ5LG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307Zm9yKHZhciBiYj1uZXcgQmxvYkJ1aWxkZXIsaT0wO2k8YXJ5Lmxlbmd0aDtpKyspYmIuYXBwZW5kKGFyeVtpXSk7cmV0dXJuIG9wdGlvbnMudHlwZT9iYi5nZXRCbG9iKG9wdGlvbnMudHlwZSk6YmIuZ2V0QmxvYigpfXZhciBCbG9iQnVpbGRlcj1nbG9iYWwuQmxvYkJ1aWxkZXJ8fGdsb2JhbC5XZWJLaXRCbG9iQnVpbGRlcnx8Z2xvYmFsLk1TQmxvYkJ1aWxkZXJ8fGdsb2JhbC5Nb3pCbG9iQnVpbGRlcixibG9iU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e3ZhciBiPW5ldyBCbG9iKFsiaGkiXSk7cmV0dXJuIDI9PWIuc2l6ZX1jYXRjaChlKXtyZXR1cm4hMX19KCksYmxvYkJ1aWxkZXJTdXBwb3J0ZWQ9QmxvYkJ1aWxkZXImJkJsb2JCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmQmJkJsb2JCdWlsZGVyLnByb3RvdHlwZS5nZXRCbG9iO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGJsb2JTdXBwb3J0ZWQ/Z2xvYmFsLkJsb2I6YmxvYkJ1aWxkZXJTdXBwb3J0ZWQ/QmxvYkJ1aWxkZXJDb25zdHJ1Y3Rvcjp2b2lkIDB9KCl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oZ2xvYmFsKXshZnVuY3Rpb24ocm9vdCl7ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpe2Zvcih2YXIgdmFsdWUsZXh0cmEsb3V0cHV0PVtdLGNvdW50ZXI9MCxsZW5ndGg9c3RyaW5nLmxlbmd0aDtsZW5ndGg+Y291bnRlcjspdmFsdWU9c3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKSx2YWx1ZT49NTUyOTYmJjU2MzE5Pj12YWx1ZSYmbGVuZ3RoPmNvdW50ZXI/KGV4dHJhPXN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyksNTYzMjA9PSg2NDUxMiZleHRyYSk/b3V0cHV0LnB1c2goKCgxMDIzJnZhbHVlKTw8MTApKygxMDIzJmV4dHJhKSs2NTUzNik6KG91dHB1dC5wdXNoKHZhbHVlKSxjb3VudGVyLS0pKTpvdXRwdXQucHVzaCh2YWx1ZSk7cmV0dXJuIG91dHB1dH1mdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KXtmb3IodmFyIHZhbHVlLGxlbmd0aD1hcnJheS5sZW5ndGgsaW5kZXg9LTEsb3V0cHV0PSIiOysraW5kZXg8bGVuZ3RoOyl2YWx1ZT1hcnJheVtpbmRleF0sdmFsdWU+NjU1MzUmJih2YWx1ZS09NjU1MzYsb3V0cHV0Kz1zdHJpbmdGcm9tQ2hhckNvZGUodmFsdWU+Pj4xMCYxMDIzfDU1Mjk2KSx2YWx1ZT01NjMyMHwxMDIzJnZhbHVlKSxvdXRwdXQrPXN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7cmV0dXJuIG91dHB1dH1mdW5jdGlvbiBjcmVhdGVCeXRlKGNvZGVQb2ludCxzaGlmdCl7cmV0dXJuIHN0cmluZ0Zyb21DaGFyQ29kZShjb2RlUG9pbnQ+PnNoaWZ0JjYzfDEyOCl9ZnVuY3Rpb24gZW5jb2RlQ29kZVBvaW50KGNvZGVQb2ludCl7aWYoMD09KDQyOTQ5NjcxNjgmY29kZVBvaW50KSlyZXR1cm4gc3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludCk7dmFyIHN5bWJvbD0iIjtyZXR1cm4gMD09KDQyOTQ5NjUyNDgmY29kZVBvaW50KT9zeW1ib2w9c3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludD4+NiYzMXwxOTIpOjA9PSg0Mjk0OTAxNzYwJmNvZGVQb2ludCk/KHN5bWJvbD1zdHJpbmdGcm9tQ2hhckNvZGUoY29kZVBvaW50Pj4xMiYxNXwyMjQpLHN5bWJvbCs9Y3JlYXRlQnl0ZShjb2RlUG9pbnQsNikpOjA9PSg0MjkyODcwMTQ0JmNvZGVQb2ludCkmJihzeW1ib2w9c3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludD4+MTgmN3wyNDApLHN5bWJvbCs9Y3JlYXRlQnl0ZShjb2RlUG9pbnQsMTIpLHN5bWJvbCs9Y3JlYXRlQnl0ZShjb2RlUG9pbnQsNikpLHN5bWJvbCs9c3RyaW5nRnJvbUNoYXJDb2RlKDYzJmNvZGVQb2ludHwxMjgpfWZ1bmN0aW9uIHV0ZjhlbmNvZGUoc3RyaW5nKXtmb3IodmFyIGNvZGVQb2ludCxjb2RlUG9pbnRzPXVjczJkZWNvZGUoc3RyaW5nKSxsZW5ndGg9Y29kZVBvaW50cy5sZW5ndGgsaW5kZXg9LTEsYnl0ZVN0cmluZz0iIjsrK2luZGV4PGxlbmd0aDspY29kZVBvaW50PWNvZGVQb2ludHNbaW5kZXhdLGJ5dGVTdHJpbmcrPWVuY29kZUNvZGVQb2ludChjb2RlUG9pbnQpO3JldHVybiBieXRlU3RyaW5nfWZ1bmN0aW9uIHJlYWRDb250aW51YXRpb25CeXRlKCl7aWYoYnl0ZUluZGV4Pj1ieXRlQ291bnQpdGhyb3cgRXJyb3IoIkludmFsaWQgYnl0ZSBpbmRleCIpO3ZhciBjb250aW51YXRpb25CeXRlPTI1NSZieXRlQXJyYXlbYnl0ZUluZGV4XTtpZihieXRlSW5kZXgrKywxMjg9PSgxOTImY29udGludWF0aW9uQnl0ZSkpcmV0dXJuIDYzJmNvbnRpbnVhdGlvbkJ5dGU7dGhyb3cgRXJyb3IoIkludmFsaWQgY29udGludWF0aW9uIGJ5dGUiKX1mdW5jdGlvbiBkZWNvZGVTeW1ib2woKXt2YXIgYnl0ZTEsYnl0ZTIsYnl0ZTMsYnl0ZTQsY29kZVBvaW50O2lmKGJ5dGVJbmRleD5ieXRlQ291bnQpdGhyb3cgRXJyb3IoIkludmFsaWQgYnl0ZSBpbmRleCIpO2lmKGJ5dGVJbmRleD09Ynl0ZUNvdW50KXJldHVybiExO2lmKGJ5dGUxPTI1NSZieXRlQXJyYXlbYnl0ZUluZGV4XSxieXRlSW5kZXgrKywwPT0oMTI4JmJ5dGUxKSlyZXR1cm4gYnl0ZTE7aWYoMTkyPT0oMjI0JmJ5dGUxKSl7dmFyIGJ5dGUyPXJlYWRDb250aW51YXRpb25CeXRlKCk7aWYoY29kZVBvaW50PSgzMSZieXRlMSk8PDZ8Ynl0ZTIsY29kZVBvaW50Pj0xMjgpcmV0dXJuIGNvZGVQb2ludDt0aHJvdyBFcnJvcigiSW52YWxpZCBjb250aW51YXRpb24gYnl0ZSIpfWlmKDIyND09KDI0MCZieXRlMSkpe2lmKGJ5dGUyPXJlYWRDb250aW51YXRpb25CeXRlKCksYnl0ZTM9cmVhZENvbnRpbnVhdGlvbkJ5dGUoKSxjb2RlUG9pbnQ9KDE1JmJ5dGUxKTw8MTJ8Ynl0ZTI8PDZ8Ynl0ZTMsY29kZVBvaW50Pj0yMDQ4KXJldHVybiBjb2RlUG9pbnQ7dGhyb3cgRXJyb3IoIkludmFsaWQgY29udGludWF0aW9uIGJ5dGUiKX1pZigyNDA9PSgyNDgmYnl0ZTEpJiYoYnl0ZTI9cmVhZENvbnRpbnVhdGlvbkJ5dGUoKSxieXRlMz1yZWFkQ29udGludWF0aW9uQnl0ZSgpLGJ5dGU0PXJlYWRDb250aW51YXRpb25CeXRlKCksY29kZVBvaW50PSgxNSZieXRlMSk8PDE4fGJ5dGUyPDwxMnxieXRlMzw8NnxieXRlNCxjb2RlUG9pbnQ+PTY1NTM2JiYxMTE0MTExPj1jb2RlUG9pbnQpKXJldHVybiBjb2RlUG9pbnQ7dGhyb3cgRXJyb3IoIkludmFsaWQgVVRGLTggZGV0ZWN0ZWQiKX1mdW5jdGlvbiB1dGY4ZGVjb2RlKGJ5dGVTdHJpbmcpe2J5dGVBcnJheT11Y3MyZGVjb2RlKGJ5dGVTdHJpbmcpLGJ5dGVDb3VudD1ieXRlQXJyYXkubGVuZ3RoLGJ5dGVJbmRleD0wO2Zvcih2YXIgdG1wLGNvZGVQb2ludHM9W107KHRtcD1kZWNvZGVTeW1ib2woKSkhPT0hMTspY29kZVBvaW50cy5wdXNoKHRtcCk7cmV0dXJuIHVjczJlbmNvZGUoY29kZVBvaW50cyl9dmFyIGZyZWVFeHBvcnRzPSJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyxmcmVlTW9kdWxlPSJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJm1vZHVsZS5leHBvcnRzPT1mcmVlRXhwb3J0cyYmbW9kdWxlLGZyZWVHbG9iYWw9Im9iamVjdCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbDsoZnJlZUdsb2JhbC5nbG9iYWw9PT1mcmVlR2xvYmFsfHxmcmVlR2xvYmFsLndpbmRvdz09PWZyZWVHbG9iYWwpJiYocm9vdD1mcmVlR2xvYmFsKTt2YXIgYnl0ZUFycmF5LGJ5dGVDb3VudCxieXRlSW5kZXgsc3RyaW5nRnJvbUNoYXJDb2RlPVN0cmluZy5mcm9tQ2hhckNvZGUsdXRmOD17dmVyc2lvbjoiMi4wLjAiLGVuY29kZTp1dGY4ZW5jb2RlLGRlY29kZTp1dGY4ZGVjb2RlfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiYib2JqZWN0Ij09dHlwZW9mIGRlZmluZS5hbWQmJmRlZmluZS5hbWQpZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIHV0Zjh9KTtlbHNlIGlmKGZyZWVFeHBvcnRzJiYhZnJlZUV4cG9ydHMubm9kZVR5cGUpaWYoZnJlZU1vZHVsZSlmcmVlTW9kdWxlLmV4cG9ydHM9dXRmODtlbHNle3ZhciBvYmplY3Q9e30saGFzT3duUHJvcGVydHk9b2JqZWN0Lmhhc093blByb3BlcnR5O2Zvcih2YXIga2V5IGluIHV0ZjgpaGFzT3duUHJvcGVydHkuY2FsbCh1dGY4LGtleSkmJihmcmVlRXhwb3J0c1trZXldPXV0Zjhba2V5XSl9ZWxzZSByb290LnV0Zjg9dXRmOH0odGhpcyl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIHJ2YWxpZGNoYXJzPS9eW1xdLDp7fVxzXSokLyxydmFsaWRlc2NhcGU9L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyxydmFsaWR0b2tlbnM9LyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLHJ2YWxpZGJyYWNlcz0vKD86Xnw6fCwpKD86XHMqXFspKy9nLHJ0cmltTGVmdD0vXlxzKy8scnRyaW1SaWdodD0vXHMrJC87bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZGF0YSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBkYXRhJiZkYXRhPyhkYXRhPWRhdGEucmVwbGFjZShydHJpbUxlZnQsIiIpLnJlcGxhY2UocnRyaW1SaWdodCwiIiksZ2xvYmFsLkpTT04mJkpTT04ucGFyc2U/SlNPTi5wYXJzZShkYXRhKTpydmFsaWRjaGFycy50ZXN0KGRhdGEucmVwbGFjZShydmFsaWRlc2NhcGUsIkAiKS5yZXBsYWNlKHJ2YWxpZHRva2VucywiXSIpLnJlcGxhY2UocnZhbGlkYnJhY2VzLCIiKSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitkYXRhKSgpOnZvaWQgMCk6bnVsbH19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtleHBvcnRzLmVuY29kZT1mdW5jdGlvbihvYmope3ZhciBzdHI9IiI7Zm9yKHZhciBpIGluIG9iailvYmouaGFzT3duUHJvcGVydHkoaSkmJihzdHIubGVuZ3RoJiYoc3RyKz0iJiIpLHN0cis9ZW5jb2RlVVJJQ29tcG9uZW50KGkpKyI9IitlbmNvZGVVUklDb21wb25lbnQob2JqW2ldKSk7cmV0dXJuIHN0cn0sZXhwb3J0cy5kZWNvZGU9ZnVuY3Rpb24ocXMpe2Zvcih2YXIgcXJ5PXt9LHBhaXJzPXFzLnNwbGl0KCImIiksaT0wLGw9cGFpcnMubGVuZ3RoO2w+aTtpKyspe3ZhciBwYWlyPXBhaXJzW2ldLnNwbGl0KCI9Iik7cXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV09ZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pfXJldHVybiBxcnl9fSx7fV0sMzA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgcmU9L14oPzooPyFbXjpAXSs6W146QFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XC9cLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oKD86W2EtZjAtOV17MCw0fTopezIsN31bYS1mMC05XXswLDR9fFteOlwvPyNdKikoPzo6KFxkKikpPykoKChcLyg/OltePyNdKD8hW14/I1wvXSpcLltePyNcLy5dKyg/Ols/I118JCkpKSpcLz8pPyhbXj8jXC9dKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8scGFydHM9WyJzb3VyY2UiLCJwcm90b2NvbCIsImF1dGhvcml0eSIsInVzZXJJbmZvIiwidXNlciIsInBhc3N3b3JkIiwiaG9zdCIsInBvcnQiLCJyZWxhdGl2ZSIsInBhdGgiLCJkaXJlY3RvcnkiLCJmaWxlIiwicXVlcnkiLCJhbmNob3IiXTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihzdHIpe3ZhciBzcmM9c3RyLGI9c3RyLmluZGV4T2YoIlsiKSxlPXN0ci5pbmRleE9mKCJdIik7LTEhPWImJi0xIT1lJiYoc3RyPXN0ci5zdWJzdHJpbmcoMCxiKStzdHIuc3Vic3RyaW5nKGIsZSkucmVwbGFjZSgvOi9nLCI7Iikrc3RyLnN1YnN0cmluZyhlLHN0ci5sZW5ndGgpKTtmb3IodmFyIG09cmUuZXhlYyhzdHJ8fCIiKSx1cmk9e30saT0xNDtpLS07KXVyaVtwYXJ0c1tpXV09bVtpXXx8IiI7cmV0dXJuLTEhPWImJi0xIT1lJiYodXJpLnNvdXJjZT1zcmMsdXJpLmhvc3Q9dXJpLmhvc3Quc3Vic3RyaW5nKDEsdXJpLmhvc3QubGVuZ3RoLTEpLnJlcGxhY2UoLzsvZywiOiIpLHVyaS5hdXRob3JpdHk9dXJpLmF1dGhvcml0eS5yZXBsYWNlKCJbIiwiIikucmVwbGFjZSgiXSIsIiIpLnJlcGxhY2UoLzsvZywiOiIpLHVyaS5pcHY2dXJpPSEwKSx1cml9fSx7fV0sMzE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXtmdW5jdGlvbiB3cyh1cmkscHJvdG9jb2xzKXt2YXIgaW5zdGFuY2U7cmV0dXJuIGluc3RhbmNlPXByb3RvY29scz9uZXcgV2ViU29ja2V0KHVyaSxwcm90b2NvbHMpOm5ldyBXZWJTb2NrZXQodXJpKX12YXIgZ2xvYmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCksV2ViU29ja2V0PWdsb2JhbC5XZWJTb2NrZXR8fGdsb2JhbC5Nb3pXZWJTb2NrZXQ7bW9kdWxlLmV4cG9ydHM9V2ViU29ja2V0P3dzOm51bGwsV2ViU29ja2V0JiYod3MucHJvdG90eXBlPVdlYlNvY2tldC5wcm90b3R5cGUpfSx7fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXsoZnVuY3Rpb24oZ2xvYmFsKXtmdW5jdGlvbiBoYXNCaW5hcnkoZGF0YSl7ZnVuY3Rpb24gX2hhc0JpbmFyeShvYmope2lmKCFvYmopcmV0dXJuITE7aWYoZ2xvYmFsLkJ1ZmZlciYmZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlcihvYmopfHxnbG9iYWwuQXJyYXlCdWZmZXImJm9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxnbG9iYWwuQmxvYiYmb2JqIGluc3RhbmNlb2YgQmxvYnx8Z2xvYmFsLkZpbGUmJm9iaiBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuITA7aWYoaXNBcnJheShvYmopKXtmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKWlmKF9oYXNCaW5hcnkob2JqW2ldKSlyZXR1cm4hMH1lbHNlIGlmKG9iaiYmIm9iamVjdCI9PXR5cGVvZiBvYmope29iai50b0pTT04mJihvYmo9b2JqLnRvSlNPTigpKTtmb3IodmFyIGtleSBpbiBvYmopaWYob2JqLmhhc093blByb3BlcnR5KGtleSkmJl9oYXNCaW5hcnkob2JqW2tleV0pKXJldHVybiEwfXJldHVybiExfXJldHVybiBfaGFzQmluYXJ5KGRhdGEpfXZhciBpc0FycmF5PV9kZXJlcV8oImlzYXJyYXkiKTttb2R1bGUuZXhwb3J0cz1oYXNCaW5hcnl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se2lzYXJyYXk6MzN9XSwzMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGFycil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycil9fSx7fV0sMzQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgZ2xvYmFsPV9kZXJlcV8oImdsb2JhbCIpO3RyeXttb2R1bGUuZXhwb3J0cz0iWE1MSHR0cFJlcXVlc3QiaW4gZ2xvYmFsJiYid2l0aENyZWRlbnRpYWxzImluIG5ldyBnbG9iYWwuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZXJyKXttb2R1bGUuZXhwb3J0cz0hMX19LHtnbG9iYWw6MzV9XSwzNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl9LHt9XSwzNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe3ZhciBpbmRleE9mPVtdLmluZGV4T2Y7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYXJyLG9iail7aWYoaW5kZXhPZilyZXR1cm4gYXJyLmluZGV4T2Yob2JqKTsKZm9yKHZhciBpPTA7aTxhcnIubGVuZ3RoOysraSlpZihhcnJbaV09PT1vYmopcmV0dXJuIGk7cmV0dXJuLTF9fSx7fV0sMzc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe3ZhciBoYXM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtleHBvcnRzLmtleXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKG9iail7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKWhhcy5jYWxsKG9iaixrZXkpJiZrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c30sZXhwb3J0cy52YWx1ZXM9ZnVuY3Rpb24ob2JqKXt2YXIgdmFscz1bXTtmb3IodmFyIGtleSBpbiBvYmopaGFzLmNhbGwob2JqLGtleSkmJnZhbHMucHVzaChvYmpba2V5XSk7cmV0dXJuIHZhbHN9LGV4cG9ydHMubWVyZ2U9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGtleSBpbiBiKWhhcy5jYWxsKGIsa2V5KSYmKGFba2V5XT1iW2tleV0pO3JldHVybiBhfSxleHBvcnRzLmxlbmd0aD1mdW5jdGlvbihvYmope3JldHVybiBleHBvcnRzLmtleXMob2JqKS5sZW5ndGh9LGV4cG9ydHMuaXNFbXB0eT1mdW5jdGlvbihvYmope3JldHVybiAwPT1leHBvcnRzLmxlbmd0aChvYmopfX0se31dLDM4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7dmFyIHJlPS9eKD86KD8hW146QF0rOlteOkBcL10qQCkoaHR0cHxodHRwc3x3c3x3c3MpOlwvXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLHBhcnRzPVsic291cmNlIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJ1c2VySW5mbyIsInVzZXIiLCJwYXNzd29yZCIsImhvc3QiLCJwb3J0IiwicmVsYXRpdmUiLCJwYXRoIiwiZGlyZWN0b3J5IiwiZmlsZSIsInF1ZXJ5IiwiYW5jaG9yIl07bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oc3RyKXtmb3IodmFyIG09cmUuZXhlYyhzdHJ8fCIiKSx1cmk9e30saT0xNDtpLS07KXVyaVtwYXJ0c1tpXV09bVtpXXx8IiI7cmV0dXJuIHVyaX19LHt9XSwzOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIGlzQXJyYXk9X2RlcmVxXygiaXNhcnJheSIpLGlzQnVmPV9kZXJlcV8oIi4vaXMtYnVmZmVyIik7ZXhwb3J0cy5kZWNvbnN0cnVjdFBhY2tldD1mdW5jdGlvbihwYWNrZXQpe2Z1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhKXtpZighZGF0YSlyZXR1cm4gZGF0YTtpZihpc0J1ZihkYXRhKSl7dmFyIHBsYWNlaG9sZGVyPXtfcGxhY2Vob2xkZXI6ITAsbnVtOmJ1ZmZlcnMubGVuZ3RofTtyZXR1cm4gYnVmZmVycy5wdXNoKGRhdGEpLHBsYWNlaG9sZGVyfWlmKGlzQXJyYXkoZGF0YSkpe2Zvcih2YXIgbmV3RGF0YT1uZXcgQXJyYXkoZGF0YS5sZW5ndGgpLGk9MDtpPGRhdGEubGVuZ3RoO2krKyluZXdEYXRhW2ldPV9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldKTtyZXR1cm4gbmV3RGF0YX1pZigib2JqZWN0Ij09dHlwZW9mIGRhdGEmJiEoZGF0YSBpbnN0YW5jZW9mIERhdGUpKXt2YXIgbmV3RGF0YT17fTtmb3IodmFyIGtleSBpbiBkYXRhKW5ld0RhdGFba2V5XT1fZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldKTtyZXR1cm4gbmV3RGF0YX1yZXR1cm4gZGF0YX12YXIgYnVmZmVycz1bXSxwYWNrZXREYXRhPXBhY2tldC5kYXRhLHBhY2s9cGFja2V0O3JldHVybiBwYWNrLmRhdGE9X2RlY29uc3RydWN0UGFja2V0KHBhY2tldERhdGEpLHBhY2suYXR0YWNobWVudHM9YnVmZmVycy5sZW5ndGgse3BhY2tldDpwYWNrLGJ1ZmZlcnM6YnVmZmVyc319LGV4cG9ydHMucmVjb25zdHJ1Y3RQYWNrZXQ9ZnVuY3Rpb24ocGFja2V0LGJ1ZmZlcnMpe2Z1bmN0aW9uIF9yZWNvbnN0cnVjdFBhY2tldChkYXRhKXtpZihkYXRhJiZkYXRhLl9wbGFjZWhvbGRlcil7dmFyIGJ1Zj1idWZmZXJzW2RhdGEubnVtXTtyZXR1cm4gYnVmfWlmKGlzQXJyYXkoZGF0YSkpe2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKWRhdGFbaV09X3JlY29uc3RydWN0UGFja2V0KGRhdGFbaV0pO3JldHVybiBkYXRhfWlmKGRhdGEmJiJvYmplY3QiPT10eXBlb2YgZGF0YSl7Zm9yKHZhciBrZXkgaW4gZGF0YSlkYXRhW2tleV09X3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSk7cmV0dXJuIGRhdGF9cmV0dXJuIGRhdGF9cmV0dXJuIHBhY2tldC5kYXRhPV9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSkscGFja2V0LmF0dGFjaG1lbnRzPXZvaWQgMCxwYWNrZXR9LGV4cG9ydHMucmVtb3ZlQmxvYnM9ZnVuY3Rpb24oZGF0YSxjYWxsYmFjayl7ZnVuY3Rpb24gX3JlbW92ZUJsb2JzKG9iaixjdXJLZXksY29udGFpbmluZ09iamVjdCl7aWYoIW9iailyZXR1cm4gb2JqO2lmKGdsb2JhbC5CbG9iJiZvYmogaW5zdGFuY2VvZiBCbG9ifHxnbG9iYWwuRmlsZSYmb2JqIGluc3RhbmNlb2YgRmlsZSl7cGVuZGluZ0Jsb2JzKys7dmFyIGZpbGVSZWFkZXI9bmV3IEZpbGVSZWFkZXI7ZmlsZVJlYWRlci5vbmxvYWQ9ZnVuY3Rpb24oKXtjb250YWluaW5nT2JqZWN0P2NvbnRhaW5pbmdPYmplY3RbY3VyS2V5XT10aGlzLnJlc3VsdDpibG9ibGVzc0RhdGE9dGhpcy5yZXN1bHQsLS1wZW5kaW5nQmxvYnN8fGNhbGxiYWNrKGJsb2JsZXNzRGF0YSl9LGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIob2JqKX1lbHNlIGlmKGlzQXJyYXkob2JqKSlmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKV9yZW1vdmVCbG9icyhvYmpbaV0saSxvYmopO2Vsc2UgaWYob2JqJiYib2JqZWN0Ij09dHlwZW9mIG9iaiYmIWlzQnVmKG9iaikpZm9yKHZhciBrZXkgaW4gb2JqKV9yZW1vdmVCbG9icyhvYmpba2V5XSxrZXksb2JqKX12YXIgcGVuZGluZ0Jsb2JzPTAsYmxvYmxlc3NEYXRhPWRhdGE7X3JlbW92ZUJsb2JzKGJsb2JsZXNzRGF0YSkscGVuZGluZ0Jsb2JzfHxjYWxsYmFjayhibG9ibGVzc0RhdGEpfX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vaXMtYnVmZmVyIjo0MSxpc2FycmF5OjQyfV0sNDA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIEVuY29kZXIoKXt9ZnVuY3Rpb24gZW5jb2RlQXNTdHJpbmcob2JqKXt2YXIgc3RyPSIiLG5zcD0hMTtyZXR1cm4gc3RyKz1vYmoudHlwZSwoZXhwb3J0cy5CSU5BUllfRVZFTlQ9PW9iai50eXBlfHxleHBvcnRzLkJJTkFSWV9BQ0s9PW9iai50eXBlKSYmKHN0cis9b2JqLmF0dGFjaG1lbnRzLHN0cis9Ii0iKSxvYmoubnNwJiYiLyIhPW9iai5uc3AmJihuc3A9ITAsc3RyKz1vYmoubnNwKSxudWxsIT1vYmouaWQmJihuc3AmJihzdHIrPSIsIixuc3A9ITEpLHN0cis9b2JqLmlkKSxudWxsIT1vYmouZGF0YSYmKG5zcCYmKHN0cis9IiwiKSxzdHIrPWpzb24uc3RyaW5naWZ5KG9iai5kYXRhKSksZGVidWcoImVuY29kZWQgJWogYXMgJXMiLG9iaixzdHIpLHN0cn1mdW5jdGlvbiBlbmNvZGVBc0JpbmFyeShvYmosY2FsbGJhY2spe2Z1bmN0aW9uIHdyaXRlRW5jb2RpbmcoYmxvYmxlc3NEYXRhKXt2YXIgZGVjb25zdHJ1Y3Rpb249YmluYXJ5LmRlY29uc3RydWN0UGFja2V0KGJsb2JsZXNzRGF0YSkscGFjaz1lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpLGJ1ZmZlcnM9ZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztidWZmZXJzLnVuc2hpZnQocGFjayksY2FsbGJhY2soYnVmZmVycyl9YmluYXJ5LnJlbW92ZUJsb2JzKG9iaix3cml0ZUVuY29kaW5nKX1mdW5jdGlvbiBEZWNvZGVyKCl7dGhpcy5yZWNvbnN0cnVjdG9yPW51bGx9ZnVuY3Rpb24gZGVjb2RlU3RyaW5nKHN0cil7dmFyIHA9e30saT0wO2lmKHAudHlwZT1OdW1iZXIoc3RyLmNoYXJBdCgwKSksbnVsbD09ZXhwb3J0cy50eXBlc1twLnR5cGVdKXJldHVybiBlcnJvcigpO2lmKGV4cG9ydHMuQklOQVJZX0VWRU5UPT1wLnR5cGV8fGV4cG9ydHMuQklOQVJZX0FDSz09cC50eXBlKXtmb3IocC5hdHRhY2htZW50cz0iIjsiLSIhPXN0ci5jaGFyQXQoKytpKTspcC5hdHRhY2htZW50cys9c3RyLmNoYXJBdChpKTtwLmF0dGFjaG1lbnRzPU51bWJlcihwLmF0dGFjaG1lbnRzKX1pZigiLyI9PXN0ci5jaGFyQXQoaSsxKSlmb3IocC5uc3A9IiI7KytpOyl7dmFyIGM9c3RyLmNoYXJBdChpKTtpZigiLCI9PWMpYnJlYWs7aWYocC5uc3ArPWMsaSsxPT1zdHIubGVuZ3RoKWJyZWFrfWVsc2UgcC5uc3A9Ii8iO3ZhciBuZXh0PXN0ci5jaGFyQXQoaSsxKTtpZigiIiE9bmV4dCYmTnVtYmVyKG5leHQpPT1uZXh0KXtmb3IocC5pZD0iIjsrK2k7KXt2YXIgYz1zdHIuY2hhckF0KGkpO2lmKG51bGw9PWN8fE51bWJlcihjKSE9Yyl7LS1pO2JyZWFrfWlmKHAuaWQrPXN0ci5jaGFyQXQoaSksaSsxPT1zdHIubGVuZ3RoKWJyZWFrfXAuaWQ9TnVtYmVyKHAuaWQpfWlmKHN0ci5jaGFyQXQoKytpKSl0cnl7cC5kYXRhPWpzb24ucGFyc2Uoc3RyLnN1YnN0cihpKSl9Y2F0Y2goZSl7cmV0dXJuIGVycm9yKCl9cmV0dXJuIGRlYnVnKCJkZWNvZGVkICVzIGFzICVqIixzdHIscCkscH1mdW5jdGlvbiBCaW5hcnlSZWNvbnN0cnVjdG9yKHBhY2tldCl7dGhpcy5yZWNvblBhY2s9cGFja2V0LHRoaXMuYnVmZmVycz1bXX1mdW5jdGlvbiBlcnJvcigpe3JldHVybnt0eXBlOmV4cG9ydHMuRVJST1IsZGF0YToicGFyc2VyIGVycm9yIn19dmFyIGRlYnVnPV9kZXJlcV8oImRlYnVnIikoInNvY2tldC5pby1wYXJzZXIiKSxqc29uPV9kZXJlcV8oImpzb24zIiksRW1pdHRlcj0oX2RlcmVxXygiaXNhcnJheSIpLF9kZXJlcV8oImNvbXBvbmVudC1lbWl0dGVyIikpLGJpbmFyeT1fZGVyZXFfKCIuL2JpbmFyeSIpLGlzQnVmPV9kZXJlcV8oIi4vaXMtYnVmZmVyIik7ZXhwb3J0cy5wcm90b2NvbD00LGV4cG9ydHMudHlwZXM9WyJDT05ORUNUIiwiRElTQ09OTkVDVCIsIkVWRU5UIiwiQklOQVJZX0VWRU5UIiwiQUNLIiwiQklOQVJZX0FDSyIsIkVSUk9SIl0sZXhwb3J0cy5DT05ORUNUPTAsZXhwb3J0cy5ESVNDT05ORUNUPTEsZXhwb3J0cy5FVkVOVD0yLGV4cG9ydHMuQUNLPTMsZXhwb3J0cy5FUlJPUj00LGV4cG9ydHMuQklOQVJZX0VWRU5UPTUsZXhwb3J0cy5CSU5BUllfQUNLPTYsZXhwb3J0cy5FbmNvZGVyPUVuY29kZXIsZXhwb3J0cy5EZWNvZGVyPURlY29kZXIsRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKG9iaixjYWxsYmFjayl7aWYoZGVidWcoImVuY29kaW5nIHBhY2tldCAlaiIsb2JqKSxleHBvcnRzLkJJTkFSWV9FVkVOVD09b2JqLnR5cGV8fGV4cG9ydHMuQklOQVJZX0FDSz09b2JqLnR5cGUpZW5jb2RlQXNCaW5hcnkob2JqLGNhbGxiYWNrKTtlbHNle3ZhciBlbmNvZGluZz1lbmNvZGVBc1N0cmluZyhvYmopO2NhbGxiYWNrKFtlbmNvZGluZ10pfX0sRW1pdHRlcihEZWNvZGVyLnByb3RvdHlwZSksRGVjb2Rlci5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKG9iail7dmFyIHBhY2tldDtpZigic3RyaW5nIj09dHlwZW9mIG9iailwYWNrZXQ9ZGVjb2RlU3RyaW5nKG9iaiksZXhwb3J0cy5CSU5BUllfRVZFTlQ9PXBhY2tldC50eXBlfHxleHBvcnRzLkJJTkFSWV9BQ0s9PXBhY2tldC50eXBlPyh0aGlzLnJlY29uc3RydWN0b3I9bmV3IEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KSwwPT10aGlzLnJlY29uc3RydWN0b3IucmVjb25QYWNrLmF0dGFjaG1lbnRzJiZ0aGlzLmVtaXQoImRlY29kZWQiLHBhY2tldCkpOnRoaXMuZW1pdCgiZGVjb2RlZCIscGFja2V0KTtlbHNle2lmKCFpc0J1ZihvYmopJiYhb2JqLmJhc2U2NCl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gdHlwZTogIitvYmopO2lmKCF0aGlzLnJlY29uc3RydWN0b3IpdGhyb3cgbmV3IEVycm9yKCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXQiKTtwYWNrZXQ9dGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKG9iaikscGFja2V0JiYodGhpcy5yZWNvbnN0cnVjdG9yPW51bGwsdGhpcy5lbWl0KCJkZWNvZGVkIixwYWNrZXQpKX19LERlY29kZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlY29uc3RydWN0b3ImJnRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCl9LEJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLnRha2VCaW5hcnlEYXRhPWZ1bmN0aW9uKGJpbkRhdGEpe2lmKHRoaXMuYnVmZmVycy5wdXNoKGJpbkRhdGEpLHRoaXMuYnVmZmVycy5sZW5ndGg9PXRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKXt2YXIgcGFja2V0PWJpbmFyeS5yZWNvbnN0cnVjdFBhY2tldCh0aGlzLnJlY29uUGFjayx0aGlzLmJ1ZmZlcnMpO3JldHVybiB0aGlzLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSxwYWNrZXR9cmV0dXJuIG51bGx9LEJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb249ZnVuY3Rpb24oKXt0aGlzLnJlY29uUGFjaz1udWxsLHRoaXMuYnVmZmVycz1bXX19LHsiLi9iaW5hcnkiOjM5LCIuL2lzLWJ1ZmZlciI6NDEsImNvbXBvbmVudC1lbWl0dGVyIjo4LGRlYnVnOjksaXNhcnJheTo0Mixqc29uMzo0M31dLDQxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7KGZ1bmN0aW9uKGdsb2JhbCl7ZnVuY3Rpb24gaXNCdWYob2JqKXtyZXR1cm4gZ2xvYmFsLkJ1ZmZlciYmZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlcihvYmopfHxnbG9iYWwuQXJyYXlCdWZmZXImJm9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfW1vZHVsZS5leHBvcnRzPWlzQnVmfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw0MjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPV9kZXJlcV8oMzMpfSx7fV0sNDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyFmdW5jdGlvbih3aW5kb3cpe2Z1bmN0aW9uIGhhcyhuYW1lKXtpZihoYXNbbmFtZV0hPT11bmRlZilyZXR1cm4gaGFzW25hbWVdO3ZhciBpc1N1cHBvcnRlZDtpZigiYnVnLXN0cmluZy1jaGFyLWluZGV4Ij09bmFtZSlpc1N1cHBvcnRlZD0iYSIhPSJhIlswXTtlbHNlIGlmKCJqc29uIj09bmFtZSlpc1N1cHBvcnRlZD1oYXMoImpzb24tc3RyaW5naWZ5IikmJmhhcygianNvbi1wYXJzZSIpO2Vsc2V7dmFyIHZhbHVlLHNlcmlhbGl6ZWQ9J3siYSI6WzEsdHJ1ZSxmYWxzZSxudWxsLCJcXHUwMDAwXFxiXFxuXFxmXFxyXFx0Il19JztpZigianNvbi1zdHJpbmdpZnkiPT1uYW1lKXt2YXIgc3RyaW5naWZ5PUpTT04zLnN0cmluZ2lmeSxzdHJpbmdpZnlTdXBwb3J0ZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHN0cmluZ2lmeSYmaXNFeHRlbmRlZDtpZihzdHJpbmdpZnlTdXBwb3J0ZWQpeyh2YWx1ZT1mdW5jdGlvbigpe3JldHVybiAxfSkudG9KU09OPXZhbHVlO3RyeXtzdHJpbmdpZnlTdXBwb3J0ZWQ9IjAiPT09c3RyaW5naWZ5KDApJiYiMCI9PT1zdHJpbmdpZnkobmV3IE51bWJlcikmJiciIic9PXN0cmluZ2lmeShuZXcgU3RyaW5nKSYmc3RyaW5naWZ5KGdldENsYXNzKT09PXVuZGVmJiZzdHJpbmdpZnkodW5kZWYpPT09dW5kZWYmJnN0cmluZ2lmeSgpPT09dW5kZWYmJiIxIj09PXN0cmluZ2lmeSh2YWx1ZSkmJiJbMV0iPT1zdHJpbmdpZnkoW3ZhbHVlXSkmJiJbbnVsbF0iPT1zdHJpbmdpZnkoW3VuZGVmXSkmJiJudWxsIj09c3RyaW5naWZ5KG51bGwpJiYiW251bGwsbnVsbCxudWxsXSI9PXN0cmluZ2lmeShbdW5kZWYsZ2V0Q2xhc3MsbnVsbF0pJiZzdHJpbmdpZnkoe2E6W3ZhbHVlLCEwLCExLG51bGwsIlx4MDBcYlxuXGZccgkiXX0pPT1zZXJpYWxpemVkJiYiMSI9PT1zdHJpbmdpZnkobnVsbCx2YWx1ZSkmJiJbXG4gMSxcbiAyXG5dIj09c3RyaW5naWZ5KFsxLDJdLG51bGwsMSkmJiciLTI3MTgyMS0wNC0yMFQwMDowMDowMC4wMDBaIic9PXN0cmluZ2lmeShuZXcgRGF0ZSgtODY0ZTEzKSkmJiciKzI3NTc2MC0wOS0xM1QwMDowMDowMC4wMDBaIic9PXN0cmluZ2lmeShuZXcgRGF0ZSg4NjRlMTMpKSYmJyItMDAwMDAxLTAxLTAxVDAwOjAwOjAwLjAwMFoiJz09c3RyaW5naWZ5KG5ldyBEYXRlKC02MjE5ODc1NTJlNSkpJiYnIjE5NjktMTItMzFUMjM6NTk6NTkuOTk5WiInPT1zdHJpbmdpZnkobmV3IERhdGUoLTEpKX1jYXRjaChleGNlcHRpb24pe3N0cmluZ2lmeVN1cHBvcnRlZD0hMX19aXNTdXBwb3J0ZWQ9c3RyaW5naWZ5U3VwcG9ydGVkfWlmKCJqc29uLXBhcnNlIj09bmFtZSl7dmFyIHBhcnNlPUpTT04zLnBhcnNlO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBwYXJzZSl0cnl7aWYoMD09PXBhcnNlKCIwIikmJiFwYXJzZSghMSkpe3ZhbHVlPXBhcnNlKHNlcmlhbGl6ZWQpO3ZhciBwYXJzZVN1cHBvcnRlZD01PT12YWx1ZS5hLmxlbmd0aCYmMT09PXZhbHVlLmFbMF07aWYocGFyc2VTdXBwb3J0ZWQpe3RyeXtwYXJzZVN1cHBvcnRlZD0hcGFyc2UoJyIJIicpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKHBhcnNlU3VwcG9ydGVkKXRyeXtwYXJzZVN1cHBvcnRlZD0xIT09cGFyc2UoIjAxIil9Y2F0Y2goZXhjZXB0aW9uKXt9aWYocGFyc2VTdXBwb3J0ZWQpdHJ5e3BhcnNlU3VwcG9ydGVkPTEhPT1wYXJzZSgiMS4iKX1jYXRjaChleGNlcHRpb24pe319fX1jYXRjaChleGNlcHRpb24pe3BhcnNlU3VwcG9ydGVkPSExfWlzU3VwcG9ydGVkPXBhcnNlU3VwcG9ydGVkfX1yZXR1cm4gaGFzW25hbWVdPSEhaXNTdXBwb3J0ZWR9dmFyIGlzUHJvcGVydHksZm9yRWFjaCx1bmRlZixnZXRDbGFzcz17fS50b1N0cmluZyxpc0xvYWRlcj0iZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kLG5hdGl2ZUpTT049Im9iamVjdCI9PXR5cGVvZiBKU09OJiZKU09OLEpTT04zPSJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHM7SlNPTjMmJm5hdGl2ZUpTT04/KEpTT04zLnN0cmluZ2lmeT1uYXRpdmVKU09OLnN0cmluZ2lmeSxKU09OMy5wYXJzZT1uYXRpdmVKU09OLnBhcnNlKTpKU09OMz13aW5kb3cuSlNPTj1uYXRpdmVKU09OfHx7fTt2YXIgaXNFeHRlbmRlZD1uZXcgRGF0ZSgtMHhjNzgyYjViODAwY2VjKTt0cnl7aXNFeHRlbmRlZD0tMTA5MjUyPT1pc0V4dGVuZGVkLmdldFVUQ0Z1bGxZZWFyKCkmJjA9PT1pc0V4dGVuZGVkLmdldFVUQ01vbnRoKCkmJjE9PT1pc0V4dGVuZGVkLmdldFVUQ0RhdGUoKSYmMTA9PWlzRXh0ZW5kZWQuZ2V0VVRDSG91cnMoKSYmMzc9PWlzRXh0ZW5kZWQuZ2V0VVRDTWludXRlcygpJiY2PT1pc0V4dGVuZGVkLmdldFVUQ1NlY29uZHMoKSYmNzA4PT1pc0V4dGVuZGVkLmdldFVUQ01pbGxpc2Vjb25kcygpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKCFoYXMoImpzb24iKSl7dmFyIGZ1bmN0aW9uQ2xhc3M9IltvYmplY3QgRnVuY3Rpb25dIixkYXRlQ2xhc3M9IltvYmplY3QgRGF0ZV0iLG51bWJlckNsYXNzPSJbb2JqZWN0IE51bWJlcl0iLHN0cmluZ0NsYXNzPSJbb2JqZWN0IFN0cmluZ10iLGFycmF5Q2xhc3M9IltvYmplY3QgQXJyYXldIixib29sZWFuQ2xhc3M9IltvYmplY3QgQm9vbGVhbl0iLGNoYXJJbmRleEJ1Z2d5PWhhcygiYnVnLXN0cmluZy1jaGFyLWluZGV4Iik7aWYoIWlzRXh0ZW5kZWQpdmFyIGZsb29yPU1hdGguZmxvb3IsTW9udGhzPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdLGdldERheT1mdW5jdGlvbih5ZWFyLG1vbnRoKXtyZXR1cm4gTW9udGhzW21vbnRoXSszNjUqKHllYXItMTk3MCkrZmxvb3IoKHllYXItMTk2OSsobW9udGg9Kyhtb250aD4xKSkpLzQpLWZsb29yKCh5ZWFyLTE5MDErbW9udGgpLzEwMCkrZmxvb3IoKHllYXItMTYwMSttb250aCkvNDAwKX07KGlzUHJvcGVydHk9e30uaGFzT3duUHJvcGVydHkpfHwoaXNQcm9wZXJ0eT1mdW5jdGlvbihwcm9wZXJ0eSl7dmFyIGNvbnN0cnVjdG9yLG1lbWJlcnM9e307cmV0dXJuKG1lbWJlcnMuX19wcm90b19fPW51bGwsbWVtYmVycy5fX3Byb3RvX189e3RvU3RyaW5nOjF9LG1lbWJlcnMpLnRvU3RyaW5nIT1nZXRDbGFzcz9pc1Byb3BlcnR5PWZ1bmN0aW9uKHByb3BlcnR5KXt2YXIgb3JpZ2luYWw9dGhpcy5fX3Byb3RvX18scmVzdWx0PXByb3BlcnR5IGluKHRoaXMuX19wcm90b19fPW51bGwsdGhpcyk7cmV0dXJuIHRoaXMuX19wcm90b19fPW9yaWdpbmFsLHJlc3VsdH06KGNvbnN0cnVjdG9yPW1lbWJlcnMuY29uc3RydWN0b3IsaXNQcm9wZXJ0eT1mdW5jdGlvbihwcm9wZXJ0eSl7dmFyIHBhcmVudD0odGhpcy5jb25zdHJ1Y3Rvcnx8Y29uc3RydWN0b3IpLnByb3RvdHlwZTtyZXR1cm4gcHJvcGVydHkgaW4gdGhpcyYmIShwcm9wZXJ0eSBpbiBwYXJlbnQmJnRoaXNbcHJvcGVydHldPT09cGFyZW50W3Byb3BlcnR5XSl9KSxtZW1iZXJzPW51bGwsaXNQcm9wZXJ0eS5jYWxsKHRoaXMscHJvcGVydHkpfSk7dmFyIFByaW1pdGl2ZVR5cGVzPXsiYm9vbGVhbiI6MSxudW1iZXI6MSxzdHJpbmc6MSx1bmRlZmluZWQ6MX0saXNIb3N0VHlwZT1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3ZhciB0eXBlPXR5cGVvZiBvYmplY3RbcHJvcGVydHldO3JldHVybiJvYmplY3QiPT10eXBlPyEhb2JqZWN0W3Byb3BlcnR5XTohUHJpbWl0aXZlVHlwZXNbdHlwZV19O2lmKGZvckVhY2g9ZnVuY3Rpb24ob2JqZWN0LGNhbGxiYWNrKXt2YXIgUHJvcGVydGllcyxtZW1iZXJzLHByb3BlcnR5LHNpemU9MDsoUHJvcGVydGllcz1mdW5jdGlvbigpe3RoaXMudmFsdWVPZj0wfSkucHJvdG90eXBlLnZhbHVlT2Y9MCxtZW1iZXJzPW5ldyBQcm9wZXJ0aWVzO2Zvcihwcm9wZXJ0eSBpbiBtZW1iZXJzKWlzUHJvcGVydHkuY2FsbChtZW1iZXJzLHByb3BlcnR5KSYmc2l6ZSsrO3JldHVybiBQcm9wZXJ0aWVzPW1lbWJlcnM9bnVsbCxzaXplP2ZvckVhY2g9Mj09c2l6ZT9mdW5jdGlvbihvYmplY3QsY2FsbGJhY2spe3ZhciBwcm9wZXJ0eSxtZW1iZXJzPXt9LGlzRnVuY3Rpb249Z2V0Q2xhc3MuY2FsbChvYmplY3QpPT1mdW5jdGlvbkNsYXNzO2Zvcihwcm9wZXJ0eSBpbiBvYmplY3QpaXNGdW5jdGlvbiYmInByb3RvdHlwZSI9PXByb3BlcnR5fHxpc1Byb3BlcnR5LmNhbGwobWVtYmVycyxwcm9wZXJ0eSl8fCEobWVtYmVyc1twcm9wZXJ0eV09MSl8fCFpc1Byb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KXx8Y2FsbGJhY2socHJvcGVydHkpfTpmdW5jdGlvbihvYmplY3QsY2FsbGJhY2spe3ZhciBwcm9wZXJ0eSxpc0NvbnN0cnVjdG9yLGlzRnVuY3Rpb249Z2V0Q2xhc3MuY2FsbChvYmplY3QpPT1mdW5jdGlvbkNsYXNzO2Zvcihwcm9wZXJ0eSBpbiBvYmplY3QpaXNGdW5jdGlvbiYmInByb3RvdHlwZSI9PXByb3BlcnR5fHwhaXNQcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl8fChpc0NvbnN0cnVjdG9yPSJjb25zdHJ1Y3RvciI9PT1wcm9wZXJ0eSl8fGNhbGxiYWNrKHByb3BlcnR5KTsoaXNDb25zdHJ1Y3Rvcnx8aXNQcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eT0iY29uc3RydWN0b3IiKSkmJmNhbGxiYWNrKHByb3BlcnR5KX06KG1lbWJlcnM9WyJ2YWx1ZU9mIiwidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiaXNQcm90b3R5cGVPZiIsImhhc093blByb3BlcnR5IiwiY29uc3RydWN0b3IiXSxmb3JFYWNoPWZ1bmN0aW9uKG9iamVjdCxjYWxsYmFjayl7dmFyIHByb3BlcnR5LGxlbmd0aCxpc0Z1bmN0aW9uPWdldENsYXNzLmNhbGwob2JqZWN0KT09ZnVuY3Rpb25DbGFzcyxoYXNQcm9wZXJ0eT0haXNGdW5jdGlvbiYmImZ1bmN0aW9uIiE9dHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciYmaXNIb3N0VHlwZShvYmplY3QsImhhc093blByb3BlcnR5Iik/b2JqZWN0Lmhhc093blByb3BlcnR5OmlzUHJvcGVydHk7Zm9yKHByb3BlcnR5IGluIG9iamVjdClpc0Z1bmN0aW9uJiYicHJvdG90eXBlIj09cHJvcGVydHl8fCFoYXNQcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl8fGNhbGxiYWNrKHByb3BlcnR5KTtmb3IobGVuZ3RoPW1lbWJlcnMubGVuZ3RoO3Byb3BlcnR5PW1lbWJlcnNbLS1sZW5ndGhdO2hhc1Byb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KSYmY2FsbGJhY2socHJvcGVydHkpKTt9KSxmb3JFYWNoKG9iamVjdCxjYWxsYmFjayl9LCFoYXMoImpzb24tc3RyaW5naWZ5Iikpe3ZhciBFc2NhcGVzPXs5MjoiXFxcXCIsMzQ6J1xcIicsODoiXFxiIiwxMjoiXFxmIiwxMDoiXFxuIiwxMzoiXFxyIiw5OiJcXHQifSxsZWFkaW5nWmVyb2VzPSIwMDAwMDAiLHRvUGFkZGVkU3RyaW5nPWZ1bmN0aW9uKHdpZHRoLHZhbHVlKXtyZXR1cm4obGVhZGluZ1plcm9lcysodmFsdWV8fDApKS5zbGljZSgtd2lkdGgpfSx1bmljb2RlUHJlZml4PSJcXHUwMCIscXVvdGU9ZnVuY3Rpb24odmFsdWUpe3ZhciBzeW1ib2xzLHJlc3VsdD0nIicsaW5kZXg9MCxsZW5ndGg9dmFsdWUubGVuZ3RoLGlzTGFyZ2U9bGVuZ3RoPjEwJiZjaGFySW5kZXhCdWdneTtmb3IoaXNMYXJnZSYmKHN5bWJvbHM9dmFsdWUuc3BsaXQoIiIpKTtsZW5ndGg+aW5kZXg7aW5kZXgrKyl7dmFyIGNoYXJDb2RlPXZhbHVlLmNoYXJDb2RlQXQoaW5kZXgpO3N3aXRjaChjaGFyQ29kZSl7Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDM0OmNhc2UgOTI6cmVzdWx0Kz1Fc2NhcGVzW2NoYXJDb2RlXTticmVhaztkZWZhdWx0OmlmKDMyPmNoYXJDb2RlKXtyZXN1bHQrPXVuaWNvZGVQcmVmaXgrdG9QYWRkZWRTdHJpbmcoMixjaGFyQ29kZS50b1N0cmluZygxNikpO2JyZWFrfXJlc3VsdCs9aXNMYXJnZT9zeW1ib2xzW2luZGV4XTpjaGFySW5kZXhCdWdneT92YWx1ZS5jaGFyQXQoaW5kZXgpOnZhbHVlW2luZGV4XX19cmV0dXJuIHJlc3VsdCsnIid9LHNlcmlhbGl6ZT1mdW5jdGlvbihwcm9wZXJ0eSxvYmplY3QsY2FsbGJhY2sscHJvcGVydGllcyx3aGl0ZXNwYWNlLGluZGVudGF0aW9uLHN0YWNrKXt2YXIgdmFsdWUsY2xhc3NOYW1lLHllYXIsbW9udGgsZGF0ZSx0aW1lLGhvdXJzLG1pbnV0ZXMsc2Vjb25kcyxtaWxsaXNlY29uZHMscmVzdWx0cyxlbGVtZW50LGluZGV4LGxlbmd0aCxwcmVmaXgscmVzdWx0O3RyeXt2YWx1ZT1vYmplY3RbcHJvcGVydHldfWNhdGNoKGV4Y2VwdGlvbil7fWlmKCJvYmplY3QiPT10eXBlb2YgdmFsdWUmJnZhbHVlKWlmKGNsYXNzTmFtZT1nZXRDbGFzcy5jYWxsKHZhbHVlKSxjbGFzc05hbWUhPWRhdGVDbGFzc3x8aXNQcm9wZXJ0eS5jYWxsKHZhbHVlLCJ0b0pTT04iKSkiZnVuY3Rpb24iPT10eXBlb2YgdmFsdWUudG9KU09OJiYoY2xhc3NOYW1lIT1udW1iZXJDbGFzcyYmY2xhc3NOYW1lIT1zdHJpbmdDbGFzcyYmY2xhc3NOYW1lIT1hcnJheUNsYXNzfHxpc1Byb3BlcnR5LmNhbGwodmFsdWUsInRvSlNPTiIpKSYmKHZhbHVlPXZhbHVlLnRvSlNPTihwcm9wZXJ0eSkpO2Vsc2UgaWYodmFsdWU+LTEvMCYmMS8wPnZhbHVlKXtpZihnZXREYXkpe2ZvcihkYXRlPWZsb29yKHZhbHVlLzg2NGU1KSx5ZWFyPWZsb29yKGRhdGUvMzY1LjI0MjUpKzE5NzAtMTtnZXREYXkoeWVhcisxLDApPD1kYXRlO3llYXIrKyk7Zm9yKG1vbnRoPWZsb29yKChkYXRlLWdldERheSh5ZWFyLDApKS8zMC40Mik7Z2V0RGF5KHllYXIsbW9udGgrMSk8PWRhdGU7bW9udGgrKyk7ZGF0ZT0xK2RhdGUtZ2V0RGF5KHllYXIsbW9udGgpLHRpbWU9KHZhbHVlJTg2NGU1Kzg2NGU1KSU4NjRlNSxob3Vycz1mbG9vcih0aW1lLzM2ZTUpJTI0LG1pbnV0ZXM9Zmxvb3IodGltZS82ZTQpJTYwLHNlY29uZHM9Zmxvb3IodGltZS8xZTMpJTYwLG1pbGxpc2Vjb25kcz10aW1lJTFlM31lbHNlIHllYXI9dmFsdWUuZ2V0VVRDRnVsbFllYXIoKSxtb250aD12YWx1ZS5nZXRVVENNb250aCgpLGRhdGU9dmFsdWUuZ2V0VVRDRGF0ZSgpLGhvdXJzPXZhbHVlLmdldFVUQ0hvdXJzKCksbWludXRlcz12YWx1ZS5nZXRVVENNaW51dGVzKCksc2Vjb25kcz12YWx1ZS5nZXRVVENTZWNvbmRzKCksbWlsbGlzZWNvbmRzPXZhbHVlLmdldFVUQ01pbGxpc2Vjb25kcygpO3ZhbHVlPSgwPj15ZWFyfHx5ZWFyPj0xZTQ/KDA+eWVhcj8iLSI6IisiKSt0b1BhZGRlZFN0cmluZyg2LDA+eWVhcj8teWVhcjp5ZWFyKTp0b1BhZGRlZFN0cmluZyg0LHllYXIpKSsiLSIrdG9QYWRkZWRTdHJpbmcoMixtb250aCsxKSsiLSIrdG9QYWRkZWRTdHJpbmcoMixkYXRlKSsiVCIrdG9QYWRkZWRTdHJpbmcoMixob3VycykrIjoiK3RvUGFkZGVkU3RyaW5nKDIsbWludXRlcykrIjoiK3RvUGFkZGVkU3RyaW5nKDIsc2Vjb25kcykrIi4iK3RvUGFkZGVkU3RyaW5nKDMsbWlsbGlzZWNvbmRzKSsiWiJ9ZWxzZSB2YWx1ZT1udWxsO2lmKGNhbGxiYWNrJiYodmFsdWU9Y2FsbGJhY2suY2FsbChvYmplY3QscHJvcGVydHksdmFsdWUpKSxudWxsPT09dmFsdWUpcmV0dXJuIm51bGwiO2lmKGNsYXNzTmFtZT1nZXRDbGFzcy5jYWxsKHZhbHVlKSxjbGFzc05hbWU9PWJvb2xlYW5DbGFzcylyZXR1cm4iIit2YWx1ZTtpZihjbGFzc05hbWU9PW51bWJlckNsYXNzKXJldHVybiB2YWx1ZT4tMS8wJiYxLzA+dmFsdWU/IiIrdmFsdWU6Im51bGwiO2lmKGNsYXNzTmFtZT09c3RyaW5nQ2xhc3MpcmV0dXJuIHF1b3RlKCIiK3ZhbHVlKTtpZigib2JqZWN0Ij09dHlwZW9mIHZhbHVlKXtmb3IobGVuZ3RoPXN0YWNrLmxlbmd0aDtsZW5ndGgtLTspaWYoc3RhY2tbbGVuZ3RoXT09PXZhbHVlKXRocm93IFR5cGVFcnJvcigpO2lmKHN0YWNrLnB1c2godmFsdWUpLHJlc3VsdHM9W10scHJlZml4PWluZGVudGF0aW9uLGluZGVudGF0aW9uKz13aGl0ZXNwYWNlLGNsYXNzTmFtZT09YXJyYXlDbGFzcyl7Zm9yKGluZGV4PTAsbGVuZ3RoPXZhbHVlLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKyllbGVtZW50PXNlcmlhbGl6ZShpbmRleCx2YWx1ZSxjYWxsYmFjayxwcm9wZXJ0aWVzLHdoaXRlc3BhY2UsaW5kZW50YXRpb24sc3RhY2spLHJlc3VsdHMucHVzaChlbGVtZW50PT09dW5kZWY/Im51bGwiOmVsZW1lbnQpO3Jlc3VsdD1yZXN1bHRzLmxlbmd0aD93aGl0ZXNwYWNlPyJbXG4iK2luZGVudGF0aW9uK3Jlc3VsdHMuam9pbigiLFxuIitpbmRlbnRhdGlvbikrIlxuIitwcmVmaXgrIl0iOiJbIityZXN1bHRzLmpvaW4oIiwiKSsiXSI6IltdIn1lbHNlIGZvckVhY2gocHJvcGVydGllc3x8dmFsdWUsZnVuY3Rpb24ocHJvcGVydHkpe3ZhciBlbGVtZW50PXNlcmlhbGl6ZShwcm9wZXJ0eSx2YWx1ZSxjYWxsYmFjayxwcm9wZXJ0aWVzLHdoaXRlc3BhY2UsaW5kZW50YXRpb24sc3RhY2spO2VsZW1lbnQhPT11bmRlZiYmcmVzdWx0cy5wdXNoKHF1b3RlKHByb3BlcnR5KSsiOiIrKHdoaXRlc3BhY2U/IiAiOiIiKStlbGVtZW50KX0pLHJlc3VsdD1yZXN1bHRzLmxlbmd0aD93aGl0ZXNwYWNlPyJ7XG4iK2luZGVudGF0aW9uK3Jlc3VsdHMuam9pbigiLFxuIitpbmRlbnRhdGlvbikrIlxuIitwcmVmaXgrIn0iOiJ7IityZXN1bHRzLmpvaW4oIiwiKSsifSI6Int9IjtyZXR1cm4gc3RhY2sucG9wKCkscmVzdWx0fX07SlNPTjMuc3RyaW5naWZ5PWZ1bmN0aW9uKHNvdXJjZSxmaWx0ZXIsd2lkdGgpe3ZhciB3aGl0ZXNwYWNlLGNhbGxiYWNrLHByb3BlcnRpZXMsY2xhc3NOYW1lO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBmaWx0ZXJ8fCJvYmplY3QiPT10eXBlb2YgZmlsdGVyJiZmaWx0ZXIpaWYoKGNsYXNzTmFtZT1nZXRDbGFzcy5jYWxsKGZpbHRlcikpPT1mdW5jdGlvbkNsYXNzKWNhbGxiYWNrPWZpbHRlcjtlbHNlIGlmKGNsYXNzTmFtZT09YXJyYXlDbGFzcyl7cHJvcGVydGllcz17fTtmb3IodmFyIHZhbHVlLGluZGV4PTAsbGVuZ3RoPWZpbHRlci5sZW5ndGg7bGVuZ3RoPmluZGV4O3ZhbHVlPWZpbHRlcltpbmRleCsrXSxjbGFzc05hbWU9Z2V0Q2xhc3MuY2FsbCh2YWx1ZSksKGNsYXNzTmFtZT09c3RyaW5nQ2xhc3N8fGNsYXNzTmFtZT09bnVtYmVyQ2xhc3MpJiYocHJvcGVydGllc1t2YWx1ZV09MSkpO31pZih3aWR0aClpZigoY2xhc3NOYW1lPWdldENsYXNzLmNhbGwod2lkdGgpKT09bnVtYmVyQ2xhc3Mpe2lmKCh3aWR0aC09d2lkdGglMSk+MClmb3Iod2hpdGVzcGFjZT0iIix3aWR0aD4xMCYmKHdpZHRoPTEwKTt3aGl0ZXNwYWNlLmxlbmd0aDx3aWR0aDt3aGl0ZXNwYWNlKz0iICIpO31lbHNlIGNsYXNzTmFtZT09c3RyaW5nQ2xhc3MmJih3aGl0ZXNwYWNlPXdpZHRoLmxlbmd0aDw9MTA/d2lkdGg6d2lkdGguc2xpY2UoMCwxMCkpO3JldHVybiBzZXJpYWxpemUoIiIsKHZhbHVlPXt9LHZhbHVlWyIiXT1zb3VyY2UsdmFsdWUpLGNhbGxiYWNrLHByb3BlcnRpZXMsd2hpdGVzcGFjZSwiIixbXSl9fWlmKCFoYXMoImpzb24tcGFyc2UiKSl7dmFyIEluZGV4LFNvdXJjZSxmcm9tQ2hhckNvZGU9U3RyaW5nLmZyb21DaGFyQ29kZSxVbmVzY2FwZXM9ezkyOiJcXCIsMzQ6JyInLDQ3OiIvIiw5ODoiXGIiLDExNjoiCSIsMTEwOiJcbiIsMTAyOiJcZiIsMTE0OiJcciJ9LGFib3J0PWZ1bmN0aW9uKCl7dGhyb3cgSW5kZXg9U291cmNlPW51bGwsU3ludGF4RXJyb3IoKX0sbGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciB2YWx1ZSxiZWdpbixwb3NpdGlvbixpc1NpZ25lZCxjaGFyQ29kZSxzb3VyY2U9U291cmNlLGxlbmd0aD1zb3VyY2UubGVuZ3RoO2xlbmd0aD5JbmRleDspc3dpdGNoKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSl7Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMzpjYXNlIDMyOkluZGV4Kys7YnJlYWs7Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA0NDpyZXR1cm4gdmFsdWU9Y2hhckluZGV4QnVnZ3k/c291cmNlLmNoYXJBdChJbmRleCk6c291cmNlW0luZGV4XSxJbmRleCsrLHZhbHVlO2Nhc2UgMzQ6Zm9yKHZhbHVlPSJAIixJbmRleCsrO2xlbmd0aD5JbmRleDspaWYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoSW5kZXgpLDMyPmNoYXJDb2RlKWFib3J0KCk7ZWxzZSBpZig5Mj09Y2hhckNvZGUpc3dpdGNoKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KCsrSW5kZXgpKXtjYXNlIDkyOmNhc2UgMzQ6Y2FzZSA0NzpjYXNlIDk4OmNhc2UgMTE2OmNhc2UgMTEwOmNhc2UgMTAyOmNhc2UgMTE0OnZhbHVlKz1VbmVzY2FwZXNbY2hhckNvZGVdLEluZGV4Kys7YnJlYWs7Y2FzZSAxMTc6Zm9yKGJlZ2luPSsrSW5kZXgscG9zaXRpb249SW5kZXgrNDtwb3NpdGlvbj5JbmRleDtJbmRleCsrKWNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSxjaGFyQ29kZT49NDgmJjU3Pj1jaGFyQ29kZXx8Y2hhckNvZGU+PTk3JiYxMDI+PWNoYXJDb2RlfHxjaGFyQ29kZT49NjUmJjcwPj1jaGFyQ29kZXx8YWJvcnQoKTt2YWx1ZSs9ZnJvbUNoYXJDb2RlKCIweCIrc291cmNlLnNsaWNlKGJlZ2luLEluZGV4KSk7YnJlYWs7ZGVmYXVsdDphYm9ydCgpfWVsc2V7aWYoMzQ9PWNoYXJDb2RlKWJyZWFrO2ZvcihjaGFyQ29kZT1zb3VyY2UuY2hhckNvZGVBdChJbmRleCksYmVnaW49SW5kZXg7Y2hhckNvZGU+PTMyJiY5MiE9Y2hhckNvZGUmJjM0IT1jaGFyQ29kZTspY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7dmFsdWUrPXNvdXJjZS5zbGljZShiZWdpbixJbmRleCl9aWYoMzQ9PXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSlyZXR1cm4gSW5kZXgrKyx2YWx1ZTthYm9ydCgpO2RlZmF1bHQ6aWYoYmVnaW49SW5kZXgsNDU9PWNoYXJDb2RlJiYoaXNTaWduZWQ9ITAsY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoKytJbmRleCkpLGNoYXJDb2RlPj00OCYmNTc+PWNoYXJDb2RlKXtmb3IoNDg9PWNoYXJDb2RlJiYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoSW5kZXgrMSksY2hhckNvZGU+PTQ4JiY1Nz49Y2hhckNvZGUpJiZhYm9ydCgpLGlzU2lnbmVkPSExO2xlbmd0aD5JbmRleCYmKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSxjaGFyQ29kZT49NDgmJjU3Pj1jaGFyQ29kZSk7SW5kZXgrKyk7aWYoNDY9PXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSl7Zm9yKHBvc2l0aW9uPSsrSW5kZXg7bGVuZ3RoPnBvc2l0aW9uJiYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pLGNoYXJDb2RlPj00OCYmNTc+PWNoYXJDb2RlKTtwb3NpdGlvbisrKTtwb3NpdGlvbj09SW5kZXgmJmFib3J0KCksSW5kZXg9cG9zaXRpb259aWYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoSW5kZXgpLDEwMT09Y2hhckNvZGV8fDY5PT1jaGFyQ29kZSl7Zm9yKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KCsrSW5kZXgpLCg0Mz09Y2hhckNvZGV8fDQ1PT1jaGFyQ29kZSkmJkluZGV4KysscG9zaXRpb249SW5kZXg7bGVuZ3RoPnBvc2l0aW9uJiYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pLGNoYXJDb2RlPj00OCYmNTc+PWNoYXJDb2RlKTtwb3NpdGlvbisrKTtwb3NpdGlvbj09SW5kZXgmJmFib3J0KCksSW5kZXg9cG9zaXRpb259cmV0dXJuK3NvdXJjZS5zbGljZShiZWdpbixJbmRleCl9aWYoaXNTaWduZWQmJmFib3J0KCksInRydWUiPT1zb3VyY2Uuc2xpY2UoSW5kZXgsSW5kZXgrNCkpcmV0dXJuIEluZGV4Kz00LCEwO2lmKCJmYWxzZSI9PXNvdXJjZS5zbGljZShJbmRleCxJbmRleCs1KSlyZXR1cm4gSW5kZXgrPTUsITE7aWYoIm51bGwiPT1zb3VyY2Uuc2xpY2UoSW5kZXgsSW5kZXgrNCkpcmV0dXJuIEluZGV4Kz00LG51bGw7YWJvcnQoKX1yZXR1cm4iJCJ9LGdldD1mdW5jdGlvbih2YWx1ZSl7dmFyIHJlc3VsdHMsaGFzTWVtYmVycztpZigiJCI9PXZhbHVlJiZhYm9ydCgpLCJzdHJpbmciPT10eXBlb2YgdmFsdWUpe2lmKCJAIj09KGNoYXJJbmRleEJ1Z2d5P3ZhbHVlLmNoYXJBdCgwKTp2YWx1ZVswXSkpcmV0dXJuIHZhbHVlLnNsaWNlKDEpO2lmKCJbIj09dmFsdWUpe2ZvcihyZXN1bHRzPVtdO3ZhbHVlPWxleCgpLCJdIiE9dmFsdWU7aGFzTWVtYmVyc3x8KGhhc01lbWJlcnM9ITApKWhhc01lbWJlcnMmJigiLCI9PXZhbHVlPyh2YWx1ZT1sZXgoKSwiXSI9PXZhbHVlJiZhYm9ydCgpKTphYm9ydCgpKSwiLCI9PXZhbHVlJiZhYm9ydCgpLHJlc3VsdHMucHVzaChnZXQodmFsdWUpKTtyZXR1cm4gcmVzdWx0c31pZigieyI9PXZhbHVlKXtmb3IocmVzdWx0cz17fTt2YWx1ZT1sZXgoKSwifSIhPXZhbHVlO2hhc01lbWJlcnN8fChoYXNNZW1iZXJzPSEwKSloYXNNZW1iZXJzJiYoIiwiPT12YWx1ZT8odmFsdWU9bGV4KCksIn0iPT12YWx1ZSYmYWJvcnQoKSk6YWJvcnQoKSksKCIsIj09dmFsdWV8fCJzdHJpbmciIT10eXBlb2YgdmFsdWV8fCJAIiE9KGNoYXJJbmRleEJ1Z2d5P3ZhbHVlLmNoYXJBdCgwKTp2YWx1ZVswXSl8fCI6IiE9bGV4KCkpJiZhYm9ydCgpLHJlc3VsdHNbdmFsdWUuc2xpY2UoMSldPWdldChsZXgoKSk7cmV0dXJuIHJlc3VsdHN9YWJvcnQoKX1yZXR1cm4gdmFsdWV9LHVwZGF0ZT1mdW5jdGlvbihzb3VyY2UscHJvcGVydHksY2FsbGJhY2spe3ZhciBlbGVtZW50PXdhbGsoc291cmNlLHByb3BlcnR5LGNhbGxiYWNrKTtlbGVtZW50PT09dW5kZWY/ZGVsZXRlIHNvdXJjZVtwcm9wZXJ0eV06c291cmNlW3Byb3BlcnR5XT1lbGVtZW50fSx3YWxrPWZ1bmN0aW9uKHNvdXJjZSxwcm9wZXJ0eSxjYWxsYmFjayl7dmFyIGxlbmd0aCx2YWx1ZT1zb3VyY2VbcHJvcGVydHldO2lmKCJvYmplY3QiPT10eXBlb2YgdmFsdWUmJnZhbHVlKWlmKGdldENsYXNzLmNhbGwodmFsdWUpPT1hcnJheUNsYXNzKWZvcihsZW5ndGg9dmFsdWUubGVuZ3RoO2xlbmd0aC0tOyl1cGRhdGUodmFsdWUsbGVuZ3RoLGNhbGxiYWNrKTtlbHNlIGZvckVhY2godmFsdWUsZnVuY3Rpb24ocHJvcGVydHkpe3VwZGF0ZSh2YWx1ZSxwcm9wZXJ0eSxjYWxsYmFjayl9KTtyZXR1cm4gY2FsbGJhY2suY2FsbChzb3VyY2UscHJvcGVydHksdmFsdWUpfTtKU09OMy5wYXJzZT1mdW5jdGlvbihzb3VyY2UsY2FsbGJhY2spe3ZhciByZXN1bHQsdmFsdWU7cmV0dXJuIEluZGV4PTAsU291cmNlPSIiK3NvdXJjZSxyZXN1bHQ9Z2V0KGxleCgpKSwiJCIhPWxleCgpJiZhYm9ydCgpLEluZGV4PVNvdXJjZT1udWxsLGNhbGxiYWNrJiZnZXRDbGFzcy5jYWxsKGNhbGxiYWNrKT09ZnVuY3Rpb25DbGFzcz93YWxrKCh2YWx1ZT17fSx2YWx1ZVsiIl09cmVzdWx0LHZhbHVlKSwiIixjYWxsYmFjayk6cmVzdWx0fX19aXNMb2FkZXImJmRlZmluZShmdW5jdGlvbigpe3JldHVybiBKU09OM30pfSh0aGlzKX0se31dLDQ0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gdG9BcnJheShsaXN0LGluZGV4KXt2YXIgYXJyYXk9W107aW5kZXg9aW5kZXh8fDA7Zm9yKHZhciBpPWluZGV4fHwwO2k8bGlzdC5sZW5ndGg7aSsrKWFycmF5W2ktaW5kZXhdPWxpc3RbaV07cmV0dXJuIGFycmF5fW1vZHVsZS5leHBvcnRzPXRvQXJyYXl9LHt9XX0se30sWzFdKSgxKX0pLHRoaXMuVGVtcGxhdGVzPXRoaXMuVGVtcGxhdGVzfHx7fSx0aGlzLlRlbXBsYXRlcy5mb290ZXI9bmV3IEhvZ2FuLlRlbXBsYXRlKGZ1bmN0aW9uKGMscCxpKXt2YXIgXz10aGlzO3JldHVybiBfLmIoaT1pfHwiIiksXy5iKCc8ZGl2IGNsYXNzPSJnaWduYWwtYm94LWZvb3RlciI+JyksXy5iKCJcbiIraSksXy5iKCcgIDxkaXYgY2xhc3M9InB1bGwtbGVmdCI+JyksXy5iKCJcbiIraSksXy5iKCcgICAgPGEgaHJlZj0iaHR0cDovLycpLF8uYihfLnYoXy5mKCJzZXJ2aWNlIixjLHAsMCkpKSxfLmIoIi5jb20vIiksXy5iKF8udihfLmYoInVzZXJuYW1lIixjLHAsMCkpKSxfLmIoJyIgdGFyZ2V0PSJfYmxhbmsiPicpLF8uYigiXG4iK2kpLF8uYignICAgICAgPGltZyBzcmM9IicpLF8uYihfLnYoXy5mKCJ1c2VyX2ltYWdlIixjLHAsMCkpKSxfLmIoJyIgY2xhc3M9ImdpZ25hbC1hdmF0YXIiIC8+JyksXy5iKCJcbiIraSksXy5iKCIgICAgPC9hPiIpLF8uYigiXG4iK2kpLF8uYigiICA8L2Rpdj4iKSxfLmIoIlxuIitpKSxfLmIoIiAgIiksXy5iKF8udihfLmYoIm5hbWUiLGMscCwwKSkpLF8uYigiXG4iK2kpLF8ucyhfLmYoInVzZXJuYW1lIixjLHAsMSksYyxwLDAsMjI2LDMxOSwie3sgfX0iKSYmKF8ucnMoYyxwLGZ1bmN0aW9uKGMscCxfKXtfLmIoJyAgICA8YnIgLz48YSBocmVmPSJodHRwOi8vJyksXy5iKF8udihfLmYoInNlcnZpY2UiLGMscCwwKSkpLF8uYigiLmNvbS8iKSxfLmIoXy52KF8uZigidXNlcm5hbWUiLGMscCwwKSkpLF8uYignIiB0YXJnZXQ9Il9ibGFuayI+QCcpLF8uYihfLnYoXy5mKCJ1c2VybmFtZSIsYyxwLDApKSksXy5iKCI8L2E+IiksXy5iKCJcbiIpfSksYy5wb3AoKSksXy5iKCcgIDxiciAvPjxzbWFsbCBjbGFzcz0ibGNhc2UiPjxhIGhyZWY9IicpLF8uYihfLnYoXy5mKCJkaXJlY3QiLGMscCwwKSkpLF8uYignIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImRpcmVjdCBzaW5jZSI+JyksXy5iKF8udihfLmYoInNpbmNlIixjLHAsMCkpKSxfLmIoIjwvYT48L3NtYWxsPiIpLF8uYigiXG4iK2kpLF8uYigiPC9kaXY+IiksXy5iKCJcbiIpLF8uZmwoKX0pLHRoaXMuVGVtcGxhdGVzLnRvb2xib3g9bmV3IEhvZ2FuLlRlbXBsYXRlKGZ1bmN0aW9uKGMscCxpKXt2YXIgXz10aGlzO3JldHVybiBfLmIoaT1pfHwiIiksXy5iKCc8ZGl2IGNsYXNzPSJnaWduYWwtdG9vbGJveCI+JyksXy5iKCJcbiIraSksXy5iKCcJPHNwYW4gY2xhc3M9ImdpZ25hbC1zZXJ2aWNlIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJPGEgaHJlZj0iJyksXy5iKF8udihfLmYoImxpbmsiLGMscCwwKSkpLF8uYignIiB0YXJnZXQ9Il9ibGFuayI+JyksXy5iKCJcbiIraSksXy5iKCIJCQk8cD4iKSxfLmIoXy52KF8uZigic2VydmljZSIsYyxwLDApKSksXy5iKCI8L3A+IiksXy5iKCJcbiIraSksXy5iKCIJCTwvYT4iKSxfLmIoIlxuIitpKSxfLmIoIgk8L3NwYW4+IiksXy5iKCJcbiIraSksXy5iKCcJPHNwYW4gY2xhc3M9ImdpZ25hbC10b29sIj4nKSxfLmIoIlxuIitpKSxfLmIoIgkJPHVsPiIpLF8uYigiXG4iK2kpLF8ucyhfLmYoIlR3aXR0ZXIiLGMscCwxKSxjLHAsMCwxODYsMTEzMSwie3sgfX0iKSYmKF8ucnMoYyxwLGZ1bmN0aW9uKGMscCxfKXtfLmIoJwkJCTxsaSBjbGFzcz0icmV0d2VldCIgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy9zcHJpdGUtc29jaWFsLnBuZ1wnKTsiIG9ubW91c2VvdmVyPSJiYXJPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJiYXJPdXQodGhpcykiPicpLF8uYigiXG4iK2kpLF8uYignCQkJCTxzcGFuIGNsYXNzPSJnaWduYWwtY29udGVuZXIiPicpLF8uYigiXG4iK2kpLF8uYignCQkJCQk8YSBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTogdXJsKFwnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL3R3aXR0ZXJfZ3JheS5wbmdcJyk7IiBocmVmPSJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC9yZXR3ZWV0P3R3ZWV0X2lkPScpLF8uYihfLnYoXy5mKCJUd2l0dGVyIixjLHAsMCkpKSxfLmIoJyIgb25tb3VzZW92ZXI9Im15QmlyZE92ZXIodGhpcykiIG9ubW91c2VvdXQ9Im15QmlyZE91dCh0aGlzKSI+UmV0d2VldDwvYT4nKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8L3NwYW4+IiksXy5iKCJcbiIraSksXy5iKCIJCQkJPHA+PC9wPiIpLF8uYigiXG4iK2kpLF8uYigiCQkJPC9saT4iKSxfLmIoIlxuIitpKSxfLmIoJwkJCTxsaSBjbGFzcz0icmVwbHkiIHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCcvL2dpZ25hbC5naXRodWIuaW8vd2lkZ2V0L2dpZ25hbC9pbWFnZXMvc3ByaXRlLXNvY2lhbC5wbmdcJyk7IiBvbm1vdXNlb3Zlcj0iYmFyT3Zlcih0aGlzKSIgb25tb3VzZW91dD0iYmFyT3V0KHRoaXMpIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQk8c3BhbiBjbGFzcz0iZ2lnbmFsLWNvbnRlbmVyIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy90d2l0dGVyX2dyYXkucG5nXCcpOyIgaHJlZj0iaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/aW5fcmVwbHlfdG89JyksXy5iKF8udihfLmYoIlR3aXR0ZXIiLGMscCwwKSkpLF8uYignIiBvbm1vdXNlb3Zlcj0ibXlCaXJkT3Zlcih0aGlzKSIgb25tb3VzZW91dD0ibXlCaXJkT3V0KHRoaXMpIj5SZXBseTwvYT4nKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8L3NwYW4+IiksXy5iKCJcbiIraSksXy5iKCIJCQkJPHA+PC9wPiIpLF8uYigiXG4iK2kpLF8uYigiCQkJPC9saT4iKSxfLmIoIlxuIil9KSxjLnBvcCgpKSxfLmIoJwkJCTxsaSBjbGFzcz0icG9zdCIgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy9zcHJpdGUtc29jaWFsLnBuZ1wnKTsiIG9ubW91c2VvdmVyPSJiYXJPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJiYXJPdXQodGhpcykiPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTxzcGFuICIpLF8ucyhfLmYoIlR3aXR0ZXIiLGMscCwxKSxjLHAsMCwxMzMzLDEzNTUsInt7IH19IikmJihfLnJzKGMscCxmdW5jdGlvbihjLHAsXyl7Xy5iKCcgc3R5bGU9ImxlZnQ6LTE4MnB4OyIgJyl9KSxjLnBvcCgpKSxfLmIoJyBjbGFzcz0iZ2lnbmFsLWNvbnRlbmVyIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgY2xhc3M9IkZhY2Vib29rIiBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTogdXJsKFwnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL2ZhY2Vib29rX2dyYXkucG5nXCcpOyIgb25jbGljaz0iJyksXy5iKF8udihfLmYoInBvc3RGQiIsYyxwLDApKSksXy5iKCciIG9ubW91c2VvdmVyPSJteUZhY2VPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJteUZhY2VPdXQodGhpcykiPkZhY2Vib29rPC9hPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTwvc3Bhbj4iKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8cD48L3A+IiksXy5iKCJcbiIraSksXy5iKCIJCQk8L2xpPiIpLF8uYigiXG4iK2kpLF8uYignCQkJPGxpIGNsYXNzPSJzaGFyZSIgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy9zcHJpdGUtc29jaWFsLnBuZ1wnKTsiIG9ubW91c2VvdmVyPSJiYXJPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJiYXJPdXQodGhpcykiPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTxzcGFuICIpLF8ucyhfLmYoIlR3aXR0ZXIiLGMscCwxKSxjLHAsMCwxODI3LDE4NDksInt7IH19IikmJihfLnJzKGMscCxmdW5jdGlvbihjLHAsXyl7Xy5iKCcgc3R5bGU9ImxlZnQ6LTIxNHB4OyIgJyl9KSxjLnBvcCgpKSxfLmIoJyBjbGFzcz0iZ2lnbmFsLWNvbnRlbmVyIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgY2xhc3M9IkZhY2Vib29rIiBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTogdXJsKFwnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL2ZhY2Vib29rX2dyYXkucG5nXCcpOyIgb25jbGljaz0iJyksXy5iKF8udihfLmYoInNoYXJlRkIiLGMscCwwKSkpLF8uYignIiBvbm1vdXNlb3Zlcj0ibXlGYWNlT3Zlcih0aGlzKSIgb25tb3VzZW91dD0ibXlGYWNlT3V0KHRoaXMpIj5GYWNlYm9vazwvYT4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgY2xhc3M9IlR3aXR0ZXIiIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4O2JhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy90d2l0dGVyX2dyYXkucG5nXCcpOyIgb25jbGljaz0iJyksXy5iKF8udihfLmYoInNoYXJlVFQiLGMscCwwKSkpLF8uYignIiBvbm1vdXNlb3Zlcj0ibXlCaXJkT3Zlcih0aGlzKSIgb25tb3VzZW91dD0ibXlCaXJkT3V0KHRoaXMpIj5Ud2l0dGVyPC9hPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTwvc3Bhbj4iKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8cD48L3A+IiksXy5iKCJcbiIraSksXy5iKCIJCQk8L2xpPiIpLF8uYigiXG4iK2kpLF8uYigiCQk8L3VsPiIpLF8uYigiXG4iK2kpLF8uYigiCTwvc3Bhbj4iKSxfLmIoIlxuIitpKSxfLmIoIjwvZGl2PiIpLF8uYigiXG4iKSxfLmZsKCl9KSx0aGlzLlRlbXBsYXRlcy51bmk9bmV3IEhvZ2FuLlRlbXBsYXRlKGZ1bmN0aW9uKGMscCxpKXt2YXIgXz10aGlzO3JldHVybiBfLmIoaT1pfHwiIiksXy5iKCc8ZGl2IGNsYXNzPSJnaWduYWwtdW5pYm94Ij4nKSxfLmIoIlxuIitpKSxfLnMoXy5mKCJwaG90byIsYyxwLDEpLGMscCwwLDQwLDEwMSwie3sgfX0iKSYmKF8ucnMoYyxwLGZ1bmN0aW9uKGMscCxfKXtfLmIoJyAgICA8ZGl2IGNsYXNzPSJnaWduYWwtaW1hZ2UgZ2lnbmFsLWltYWdlLWxvYWRpbmciPjwvZGl2PicpLF8uYigiXG4iKX0pLGMucG9wKCkpLF8ucyhfLmYoIm1lc3NhZ2UiLGMscCwxKSxjLHAsMCwxMjYsMTcwLCJ7eyB9fSIpJiYoXy5ycyhjLHAsZnVuY3Rpb24oYyxwLF8pe18uYignICAgIDxwIGNsYXNzPSJtZXNzYWdlIj4nKSxfLmIoXy50KF8uZigibWVzc2FnZSIsYyxwLDApKSksXy5iKCI8L3A+IiksXy5iKCJcbiIpfSksYy5wb3AoKSksXy5iKCI8L2Rpdj4iKSxfLmIoIlxuIitpKSxfLmIoIlxuIitpKSxfLmIoXy5ycCgiZm9vdGVyIixjLHAsIiIpKSxfLmZsKCl9KTt2YXIgUG9zdCxTdHJlYW0sYmFyT3V0LGJhck92ZXIsZ2V0UGFyYW1ldGVyQnlOYW1lLGdldFVybCxteUJpcmRPdXQsbXlCaXJkT3ZlcixteUZhY2VPdXQsbXlGYWNlT3ZlcixfX2JpbmQ9ZnVuY3Rpb24oZm4sbWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmbi5hcHBseShtZSxhcmd1bWVudHMpfX0sX19oYXNQcm9wPXt9Lmhhc093blByb3BlcnR5LF9fZXh0ZW5kcz1mdW5jdGlvbihjaGlsZCxwYXJlbnQpe2Z1bmN0aW9uIGN0b3IoKXt0aGlzLmNvbnN0cnVjdG9yPWNoaWxkfWZvcih2YXIga2V5IGluIHBhcmVudClfX2hhc1Byb3AuY2FsbChwYXJlbnQsa2V5KSYmKGNoaWxkW2tleV09cGFyZW50W2tleV0pO3JldHVybiBjdG9yLnByb3RvdHlwZT1wYXJlbnQucHJvdG90eXBlLGNoaWxkLnByb3RvdHlwZT1uZXcgY3RvcixjaGlsZC5fX3N1cGVyX189cGFyZW50LnByb3RvdHlwZSxjaGlsZH07ZG9jdW1lbnQuZ2lnbmFsPXt2aWV3czp7fX0sUG9zdD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFBvc3QoKXtyZXR1cm4gdGhpcy5nZXREYXRhPV9fYmluZCh0aGlzLmdldERhdGEsdGhpcyksUG9zdC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoUG9zdCxfc3VwZXIpLFBvc3QucHJvdG90eXBlLmlkQXR0cmlidXRlPSJvYmplY3RJZCIsUG9zdC5wcm90b3R5cGUucmVfbGlua3M9LygoaHR0cHxodHRwcylcOlwvXC9bYS16QS1aMC05XC1cLl0rXC5bYS16QS1aXXsyLDN9KFwvXFMqKT8pL2csUG9zdC5wcm90b3R5cGUuZGVmYXVsdHM9e3RleHQ6IiIsdXNlcm5hbWU6IiJ9LFBvc3QucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXt2YXIgZGF0YSxkaXJlY3Qsa2V5RkIscG9zdEZCLHNoYXJlRkIsc2hhcmVUVCx0ZXh0LHVzZXJuYW1lO3JldHVybiB0ZXh0PXRoaXMuZ2V0KCJ0ZXh0IiksdGV4dD10ZXh0LnJlcGxhY2UodGhpcy5yZV9saW5rcywnPGEgaHJlZj0iJDEiIHRhcmdldD0iX2JsYW5rIj5saW5rPC9hPicpLC0xPT09dGV4dC5pbmRleE9mKCIgIikmJih0ZXh0PW51bGwpLHVzZXJuYW1lPXRoaXMuZ2V0KCJ1c2VybmFtZSIpLC0xIT09dXNlcm5hbWUuaW5kZXhPZigiICIpJiYodXNlcm5hbWU9bnVsbCksZGlyZWN0PXRoaXMuZ2V0KCJsaW5rIiksc2hhcmVGQj0namF2YXNjcmlwdDpnZXRVcmwoImh0dHA6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT0nK2VuY29kZVVSSUNvbXBvbmVudChkaXJlY3QpKyciKTsnLHNoYXJlVFQ9J2phdmFzY3JpcHQ6Z2V0VXJsKCJodHRwOi8vdHdpdHRlci5jb20vc2hhcmU/dGV4dD0nK2VuY29kZVVSSUNvbXBvbmVudChkaXJlY3QpKyImdXJsPSIrZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpKyciKTsnLGtleUZCPSIxMjg5OTA2MTA0NDIiLHBvc3RGQj0namF2YXNjcmlwdDpnZXRVcmwoImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kaWFsb2cvZmVlZD9hcHBfaWQ9JytrZXlGQisiJmRpc3BsYXk9cG9wdXAmbGluaz0iK2VuY29kZVVSSUNvbXBvbmVudChkaXJlY3QpKyImcGljdHVyZT0iK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmdldCgibGFyZ2VfcGhvdG8iKSkrIiZyZWRpcmVjdF91cmk9IitlbmNvZGVVUklDb21wb25lbnQoImh0dHA6Ly93d3cuZ2lnbmFsLmNvbS8iKSsnIik7Jyx0aGlzLnNldCgiY3JlYXRlZCIsbmV3IERhdGUoMWUzKnRoaXMuZ2V0KCJjcmVhdGVkX29uIikpKSxkYXRhPXttZXNzYWdlOnRleHQsdXNlcm5hbWU6dXNlcm5hbWUsbmFtZTp0aGlzLmdldCgibmFtZSIpLHNpbmNlOmh1bWFuZURhdGUodGhpcy5nZXQoImNyZWF0ZWQiKSksbGluazpkaXJlY3Qsc2VydmljZTp0aGlzLmdldCgic2VydmljZSIpLHVzZXJfaW1hZ2U6dGhpcy5nZXQoInVzZXJfaW1hZ2UiKSxwaG90bzoiIiE9PXRoaXMuZ2V0KCJsYXJnZV9waG90byIpP3RoaXMuZ2V0KCJsYXJnZV9waG90byIpOiExLGRpcmVjdDpkaXJlY3Qsc2hhcmVGQjpzaGFyZUZCLHNoYXJlVFQ6c2hhcmVUVCxwb3N0RkI6cG9zdEZCLFR3aXR0ZXI6InR3aXR0ZXIiPT09dGhpcy5nZXQoInNlcnZpY2UiKT90aGlzLmdldCgib3JpZ2luYWxfaWQiKTp2b2lkIDAsRmFjZWJvb2s6ImZhY2Vib29rIj09PXRoaXMuZ2V0KCJzZXJ2aWNlIik/dGhpcy5nZXQoIm9yaWdpbmFsX2lkIik6dm9pZCAwLEluc3RhZ3JhbToiaW5zdGFncmFtIj09PXRoaXMuZ2V0KCJzZXJ2aWNlIik/dGhpcy5nZXQoIm9yaWdpbmFsX2lkIik6dm9pZCAwfX0sUG9zdH0oQmFja2JvbmUuTW9kZWwpLFN0cmVhbT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFN0cmVhbSgpe3JldHVybiB0aGlzLnVwZGF0ZT1fX2JpbmQodGhpcy51cGRhdGUsdGhpcyksdGhpcy5pbnNldD1fX2JpbmQodGhpcy5pbnNldCx0aGlzKSxTdHJlYW0uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKFN0cmVhbSxfc3VwZXIpLFN0cmVhbS5wcm90b3R5cGUubW9kZWw9UG9zdCxTdHJlYW0ucHJvdG90eXBlLnVybD1mdW5jdGlvbigpe3ZhciBldmVudGlkO3JldHVybiBldmVudGlkPWRvY3VtZW50LmdpZ25hbC5ldmVudGlkLCIvL2QyeXJxa25xamNyZjhuLmNsb3VkZnJvbnQubmV0L2ZlZWQvIitldmVudGlkKyI/Y2FsbGJhY2s9PyJ9LFN0cmVhbS5wcm90b3R5cGUuY2FsbGluZz0hMSxTdHJlYW0ucHJvdG90eXBlLnBhcmFtZXRlcnM9e2xpbWl0OjMwLG9mZnNldDowLHNpbmNlVGltZTowfSxTdHJlYW0ucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbigiYWRkIix0aGlzLmluc2V0KSx0aGlzLnVwZGF0ZSgpLHRoaXMudXBkYXRlVGltZXMoKX0sU3RyZWFtLnByb3RvdHlwZS5pbnNldD1mdW5jdGlvbihtb2RlbCl7dmFyIHZpZXc7cmV0dXJuIHZpZXc9bmV3IGRvY3VtZW50LmdpZ25hbC52aWV3cy5VbmlCb3goe21vZGVsOm1vZGVsfSksZG9jdW1lbnQuZ2lnbmFsLndpZGdldC4kZWwuaXNvdG9wZSgiaW5zZXJ0Iix2aWV3LnJlbmRlcigpLiRlbCl9LFN0cmVhbS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5zdHJlYW19LFN0cmVhbS5wcm90b3R5cGUuY29tcGFyYXRvcj1mdW5jdGlvbihpdGVtKXtyZXR1cm4taXRlbS5nZXQoImNyZWF0ZWRfb24iKX0sU3RyZWFtLnByb3RvdHlwZS5pc1Njcm9sbGVkSW50b1ZpZXc9ZnVuY3Rpb24oZWxlbSl7dmFyIGRvY1ZpZXdCb3R0b20sZG9jVmlld1RvcCxlbGVtQm90dG9tLGVsZW1Ub3A7cmV0dXJuIGRvY1ZpZXdUb3A9JCh3aW5kb3cpLnNjcm9sbFRvcCgpLGRvY1ZpZXdCb3R0b209ZG9jVmlld1RvcCskKHdpbmRvdykuaGVpZ2h0KCksZWxlbVRvcD0kKGVsZW0pLm9mZnNldCgpLnRvcCxlbGVtQm90dG9tPWVsZW1Ub3ArJChlbGVtKS5oZWlnaHQoKSxkb2NWaWV3Qm90dG9tPj1lbGVtQm90dG9tJiZlbGVtVG9wPj1kb2NWaWV3VG9wfSxTdHJlYW0ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhcHBlbmQpe3ZhciBvZmZzZXQsc2luY2VUaW1lO3JldHVybiB0aGlzLmFwcGVuZD1hcHBlbmQsdGhpcy5jYWxsaW5nfHwhdGhpcy5hcHBlbmQmJiF0aGlzLmlzU2Nyb2xsZWRJbnRvVmlldygiI2dpZ25hbC1zdHJlYW0gaGVhZGVyIik/dm9pZCAwOih0aGlzLmNhbGxpbmc9ITAsdGhpcy5hcHBlbmQ/KHNpbmNlVGltZT1fLm1pbih0aGlzLnBsdWNrKCJzYXZlZF9vbiIpKSxvZmZzZXQ9dGhpcy5wYXJhbWV0ZXJzLm9mZnNldCs9dGhpcy5wYXJhbWV0ZXJzLmxpbWl0KTooc2luY2VUaW1lPV8ubWF4KHRoaXMucGx1Y2soInNhdmVkX29uIikpLF8uaXNGaW5pdGUoc2luY2VUaW1lKXx8KHNpbmNlVGltZT1udWxsKSxvZmZzZXQ9MCksdGhpcy5mZXRjaCh7cmVtb3ZlOiExLHRpbWVvdXQ6MTVlMyxqc29ucENhbGxiYWNrOiJjYWxsbWUiLGRhdGE6e2xpbWl0OnRoaXMucGFyYW1ldGVycy5saW1pdCxvZmZzZXQ6b2Zmc2V0P29mZnNldDp2b2lkIDAsc2luY2VUaW1lOl8uaXNGaW5pdGUoc2luY2VUaW1lKT9zaW5jZVRpbWU6dm9pZCAwfSxzdWNjZXNzOmZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuY2FsbGluZz0hMX19KHRoaXMpLGVycm9yOmZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuY2FsbGluZz0hMX19KHRoaXMpfSkpfSxTdHJlYW0ucHJvdG90eXBlLnNldEludGVydmFsVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIG5vdyxzbGVlcCxzdGFydDtyZXR1cm4gc2xlZXA9MWU0LG5vdz0rbmV3IERhdGUsc3RhcnQ9c2xlZXAqTWF0aC5mbG9vcihub3cvc2xlZXApK3NsZWVwLW5vdyxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHNsZWVwPTFlNCxzZXRJbnRlcnZhbChkb2N1bWVudC5naWduYWwuc3RyZWFtLnVwZGF0ZSxzbGVlcCl9LHN0YXJ0KX0sU3RyZWFtLnByb3RvdHlwZS51cGRhdGVUaW1lcz1mdW5jdGlvbigpe3ZhciBzbGVlcDtyZXR1cm4gc2xlZXA9M2U0LHNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuICQoIi5naWduYWwtb3V0ZXJib3giKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcykuZmluZCgiLnNpbmNlIikuaHRtbChodW1hbmVEYXRlKCQodGhpcykuZGF0YSgiY3JlYXRlZCIpKSl9KX0sc2xlZXApfSxTdHJlYW19KEJhY2tib25lLkNvbGxlY3Rpb24pLGRvY3VtZW50LmdpZ25hbC52aWV3cy5FdmVudD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEV2ZW50KCl7cmV0dXJuIHRoaXMucmVmcmVzaD1fX2JpbmQodGhpcy5yZWZyZXNoLHRoaXMpLEV2ZW50Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhFdmVudCxfc3VwZXIpLEV2ZW50LnByb3RvdHlwZS5lbD0iI2dpZ25hbC13aWRnZXQiLEV2ZW50LnByb3RvdHlwZS5jb2x1bW5XaWR0aD0yMzAsRXZlbnQucHJvdG90eXBlLmlzb3RvcHRpb25zPXtpdGVtU2VsZWN0b3I6Ii5naWduYWwtb3V0ZXJib3giLGxheW91dE1vZGU6Im1hc29ucnkiLHNvcnRBc2NlbmRpbmc6ITEsc29ydEJ5OiJjcmVhdGVkX29uIixnZXRTb3J0RGF0YTp7Y3JlYXRlZF9vbjpmdW5jdGlvbihlbCl7cmV0dXJuIHBhcnNlSW50KGVsLmRhdGEoImNyZWF0ZWRfb24iKSl9fX0sRXZlbnQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgY29sdW1uc0FzSW50LG1hZ2ljLG1haW5XaWR0aCxyYWRpeDtyZXR1cm4gcmFkaXg9MTAsbWFnaWM9MTUsbWFpbldpZHRoPXRoaXMuJGVsLmlubmVyV2lkdGgoKSxjb2x1bW5zQXNJbnQ9ZG9jdW1lbnQuZ2lnbmFsLmNvbHVtbnM/ZG9jdW1lbnQuZ2lnbmFsLmNvbHVtbnM6cGFyc2VJbnQobWFpbldpZHRoL3RoaXMuY29sdW1uV2lkdGgscmFkaXgpLHRoaXMuY29sdW1uV2lkdGg9dGhpcy5jb2x1bW5XaWR0aCsocGFyc2VJbnQoKG1haW5XaWR0aC1jb2x1bW5zQXNJbnQqdGhpcy5jb2x1bW5XaWR0aCkvY29sdW1uc0FzSW50LHJhZGl4KS1tYWdpYyksdGhpcy4kZWwuaXNvdG9wZSh0aGlzLmlzb3RvcHRpb25zKX0sRXZlbnQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWwuaW1hZ2VzTG9hZGVkKGZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuJGVsLmlzb3RvcGUoX3RoaXMuaXNvdG9wdGlvbnMpfX0odGhpcykpfSxFdmVudH0oQmFja2JvbmUuVmlldyksZG9jdW1lbnQuZ2lnbmFsLnZpZXdzLlVuaUJveD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFVuaUJveCgpe3JldHVybiB0aGlzLnJlbmRlcj1fX2JpbmQodGhpcy5yZW5kZXIsdGhpcyksVW5pQm94Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhVbmlCb3gsX3N1cGVyKSxVbmlCb3gucHJvdG90eXBlLnRhZ05hbWU9ImRpdiIsVW5pQm94LnByb3RvdHlwZS5jbGFzc05hbWU9ImdpZ25hbC1vdXRlcmJveCIsVW5pQm94LnByb3RvdHlwZS5ldmVudHM9eyJjbGljayAuZ2lnbmFsLWltYWdlIjoic2hvd0JpZ0ltZyJ9LFVuaUJveC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBmaWx0ZXI7cmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwiY2hhbmdlIix0aGlzLnJlbmRlciksdGhpcy5tb2RlbC5nZXQoImxhcmdlX3Bob3RvIikmJigkKCI8aW1nLz4iKS5hdHRyKCJzcmMiLHRoaXMubW9kZWwuZ2V0KCJsYXJnZV9waG90byIpKS5sb2FkKGZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gJChfdGhpcykucmVtb3ZlKCksX3RoaXMuJCgiLmdpZ25hbC1pbWFnZSIpLmNzcygiYmFja2dyb3VuZC1pbWFnZSIsInVybCgiK190aGlzLm1vZGVsLmdldCgibGFyZ2VfcGhvdG8iKSsiKSIpLF90aGlzLiQoIi5naWduYWwtaW1hZ2UiKS5yZW1vdmVDbGFzcygiZ2lnbmFsLWltYWdlLWxvYWRpbmciKX19KHRoaXMpKS5lcnJvcihmdW5jdGlvbihfdGhpcyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdpZ25hbC53aWRnZXQuJGVsLmlzb3RvcGUoInJlbW92ZSIsX3RoaXMuJGVsKX19KHRoaXMpKSwkLmJyb3dzZXImJiQuYnJvd3Nlci5tc2llKT8oZmlsdGVyPSdwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGFJbWFnZUxvYWRlcihzcmM9IicrdGhpcy5tb2RlbC5nZXQoImxhcmdlX3Bob3RvIikrJyIsc2l6aW5nTWV0aG9kPSJzY2FsZSIpOycsdGhpcy4kKCIuZ2lnbmFsLWltYWdlIikuY3NzKCJmaWx0ZXIiLGZpbHRlciksdGhpcy4kKCIuZ2lnbmFsLWltYWdlIikuY3NzKCItbXMtZmlsdGVyIiwiJyIrZmlsdGVyKyInIikpOnZvaWQgMAp9LFVuaUJveC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsLmRhdGEoImNyZWF0ZWQiLHRoaXMubW9kZWwuZ2V0KCJjcmVhdGVkIikpLHRoaXMuJGVsLmRhdGEoImNyZWF0ZWRfb24iLHRoaXMubW9kZWwuZ2V0KCJjcmVhdGVkX29uIikpLHRoaXMuJGVsLmNzcygid2lkdGgiLGRvY3VtZW50LmdpZ25hbC53aWRnZXQuY29sdW1uV2lkdGgpLHRoaXMubW9kZWwuZ2V0KCJhZG1pbl9lbnRyeSIpJiZ0aGlzLiRlbC5hZGRDbGFzcygiZ2lnbmFsLW93bmVyIiksdGhpcy4kZWwuaHRtbChUZW1wbGF0ZXMudW5pLnJlbmRlcih0aGlzLm1vZGVsLmdldERhdGEoKSx7Zm9vdGVyOlRlbXBsYXRlcy5mb290ZXJ9KSksZG9jdW1lbnQuZ2lnbmFsLmZvb3Rlcnx8dGhpcy4kKCIuZ2lnbmFsLXRvb2xib3giKS5oaWRlKCksdGhpc30sVW5pQm94LnByb3RvdHlwZS5lbWJlZGx5PWZ1bmN0aW9uKGxpbmssY2FsbGJhY2spe3ZhciBrZXksdXJsO3JldHVybiBrZXk9IjNjZTRmMzI2MGYyZDQxNzg4NzUxZDlkM2Y0M2RjYWIyIix1cmw9Ii8vYXBpLmVtYmVkLmx5LzEvb2VtYmVkP2tleT0iK2tleSsiJnVybD0iK2xpbmssJC5nZXRKU09OKHVybCxmdW5jdGlvbihkYXRhKXtyZXR1cm4gY2FsbGJhY2sobnVsbCxkYXRhLmh0bWwpfSl9LFVuaUJveC5wcm90b3R5cGUuc2hvd1ZpZGVvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW1iZWRseSh0aGlzLm1vZGVsLmdldCgibGluayIpLGZ1bmN0aW9uKGVycixodG1sKXtyZXR1cm4gJC5tYWduaWZpY1BvcHVwLm9wZW4oe2l0ZW1zOnt0eXBlOiJpbmxpbmUiLHNyYzpodG1sfX0pfSl9LFVuaUJveC5wcm90b3R5cGUuc2hvd0JpZ0ltZz1mdW5jdGlvbigpe3JldHVybiJ2aWRlbyI9PT10aGlzLm1vZGVsLmdldCgidHlwZSIpP3RoaXMuc2hvd1ZpZGVvKCk6JC5tYWduaWZpY1BvcHVwLm9wZW4oe3R5cGU6ImltYWdlIixjbG9zZU9uQ29udGVudENsaWNrOiEwLGl0ZW1zOntzcmM6dGhpcy5tb2RlbC5nZXQoImxhcmdlX3Bob3RvIil9fSl9LFVuaUJveH0oQmFja2JvbmUuVmlldyksZ2V0UGFyYW1ldGVyQnlOYW1lPWZ1bmN0aW9uKG5hbWUpe3ZhciByZWdleCxyZXN1bHRzO3JldHVybiBuYW1lPW5hbWUucmVwbGFjZSgvW1xbXS8sIlxcWyIpLnJlcGxhY2UoL1tcXV0vLCJcXF0iKSxyZWdleD1uZXcgUmVnRXhwKCJbXFw/Jl0iK25hbWUrIj0oW14mI10qKSIpLHJlc3VsdHM9cmVnZXguZXhlYyhsb2NhdGlvbi5zZWFyY2gpLG51bGw9PXJlc3VsdHM/IiI6ZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXCsvZywiICIpKX0sZ2V0VXJsPWZ1bmN0aW9uKHVybCl7cmV0dXJuIHdpbmRvdy5vcGVuKHVybCwiZmVlZERpYWxvZyIsInRvb2xiYXI9MCxzdGF0dXM9MCx3aWR0aD02MjYsaGVpZ2h0PTM3MCIpfSxteUJpcmRPdmVyPWZ1bmN0aW9uKHRoZSl7cmV0dXJuIHRoZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL3R3aXR0ZXJfYmx1ZS5wbmcnKSJ9LG15QmlyZE91dD1mdW5jdGlvbih0aGUpe3JldHVybiB0aGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy90d2l0dGVyX2dyYXkucG5nJykifSxteUZhY2VPdmVyPWZ1bmN0aW9uKHRoZSl7cmV0dXJuIHRoZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL2ZhY2Vib29rX2JsdWUucG5nJykifSxteUZhY2VPdXQ9ZnVuY3Rpb24odGhlKXtyZXR1cm4gdGhlLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCcvL2dpZ25hbC5naXRodWIuaW8vd2lkZ2V0L2dpZ25hbC9pbWFnZXMvZmFjZWJvb2tfZ3JheS5wbmcnKSJ9LGJhck92ZXI9ZnVuY3Rpb24odGhlKXtyZXR1cm4gdGhlLmNoaWxkcmVuWzBdLnN0eWxlLmRpc3BsYXk9ImJsb2NrIix0aGUuY2hpbGRyZW5bMV0uc3R5bGUuZGlzcGxheT0iYmxvY2sifSxiYXJPdXQ9ZnVuY3Rpb24odGhlKXtyZXR1cm4gdGhlLmNoaWxkcmVuWzBdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoZS5jaGlsZHJlblsxXS5zdHlsZS5kaXNwbGF5PSJub25lIn0salF1ZXJ5KGZ1bmN0aW9uKCQpe3JldHVybiAkLmFqYXhTZXR1cCh7Y2FjaGU6ITB9KSxCYWNrYm9uZS4kPSQsZG9jdW1lbnQuZ2lnbmFsLmV2ZW50aWQ9JCgiI2dpZ25hbC13aWRnZXQiKS5kYXRhKCJldmVudGlkIiksZ2V0UGFyYW1ldGVyQnlOYW1lKCJldmVudGlkIikmJihkb2N1bWVudC5naWduYWwuZXZlbnRpZD1nZXRQYXJhbWV0ZXJCeU5hbWUoImV2ZW50aWQiKSksZG9jdW1lbnQuZ2lnbmFsLmV2ZW50aWQ/KGRvY3VtZW50LmdpZ25hbC5jb2x1bW5zPXBhcnNlSW50KGdldFBhcmFtZXRlckJ5TmFtZSgiY29scyIpKSxkb2N1bWVudC5naWduYWwuZm9vdGVyPSJmYWxzZSI9PT1nZXRQYXJhbWV0ZXJCeU5hbWUoImZvb3RlciIpPyExOiEwLGRvY3VtZW50LmdpZ25hbC5mb250c2l6ZT1wYXJzZUZsb2F0KGdldFBhcmFtZXRlckJ5TmFtZSgiZm9udHNpemUiKSksZG9jdW1lbnQuZ2lnbmFsLndpZGdldD1uZXcgZG9jdW1lbnQuZ2lnbmFsLnZpZXdzLkV2ZW50LGRvY3VtZW50LmdpZ25hbC5zdHJlYW09bmV3IFN0cmVhbSxpby5jb25uZWN0KCJ3czovL2dzb2NrZXQuaGVyb2t1YXBwLmNvbTo4MC8iK2RvY3VtZW50LmdpZ25hbC5ldmVudGlkLHt0cmFuc3BvcnRzOlsid2Vic29ja2V0Il19KS5vbigicmVmcmVzaCIsZG9jdW1lbnQuZ2lnbmFsLnN0cmVhbS51cGRhdGUpLGRvY3VtZW50LmdpZ25hbC5mb250c2l6ZSYmJCgiYm9keSIpLmNzcygiZm9udC1zaXplIixkb2N1bWVudC5naWduYWwuZm9udHNpemUrImVtIiksJCh3aW5kb3cpLm9uKCJzY3JvbGxCb3R0b20iLHtvZmZzZXRZOi01MDB9LGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdpZ25hbC5zdHJlYW0udXBkYXRlKCEwKX0pKTp2b2lkIGNvbnNvbGUuZXJyb3IoIlBsZWFzZSBzZXQgVVJJIHBhcmFtZXRlciBldmVudGlkIil9KTs=",
                "body": "KGZ1bmN0aW9uKCl7dmFyIHJvb3Q9dGhpcyxwcmV2aW91c1VuZGVyc2NvcmU9cm9vdC5fLGJyZWFrZXI9e30sQXJyYXlQcm90bz1BcnJheS5wcm90b3R5cGUsT2JqUHJvdG89T2JqZWN0LnByb3RvdHlwZSxGdW5jUHJvdG89RnVuY3Rpb24ucHJvdG90eXBlLHB1c2g9QXJyYXlQcm90by5wdXNoLHNsaWNlPUFycmF5UHJvdG8uc2xpY2UsY29uY2F0PUFycmF5UHJvdG8uY29uY2F0LHRvU3RyaW5nPU9ialByb3RvLnRvU3RyaW5nLGhhc093blByb3BlcnR5PU9ialByb3RvLmhhc093blByb3BlcnR5LG5hdGl2ZUZvckVhY2g9QXJyYXlQcm90by5mb3JFYWNoLG5hdGl2ZU1hcD1BcnJheVByb3RvLm1hcCxuYXRpdmVSZWR1Y2U9QXJyYXlQcm90by5yZWR1Y2UsbmF0aXZlUmVkdWNlUmlnaHQ9QXJyYXlQcm90by5yZWR1Y2VSaWdodCxuYXRpdmVGaWx0ZXI9QXJyYXlQcm90by5maWx0ZXIsbmF0aXZlRXZlcnk9QXJyYXlQcm90by5ldmVyeSxuYXRpdmVTb21lPUFycmF5UHJvdG8uc29tZSxuYXRpdmVJbmRleE9mPUFycmF5UHJvdG8uaW5kZXhPZixuYXRpdmVMYXN0SW5kZXhPZj1BcnJheVByb3RvLmxhc3RJbmRleE9mLG5hdGl2ZUlzQXJyYXk9QXJyYXkuaXNBcnJheSxuYXRpdmVLZXlzPU9iamVjdC5rZXlzLG5hdGl2ZUJpbmQ9RnVuY1Byb3RvLmJpbmQsXz1mdW5jdGlvbihvYmope3JldHVybiBvYmogaW5zdGFuY2VvZiBfP29iajp0aGlzIGluc3RhbmNlb2YgXz92b2lkKHRoaXMuX3dyYXBwZWQ9b2JqKTpuZXcgXyhvYmopfTsidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHM/KCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9XyksZXhwb3J0cy5fPV8pOnJvb3QuXz1fLF8uVkVSU0lPTj0iMS41LjIiO3ZhciBlYWNoPV8uZWFjaD1fLmZvckVhY2g9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2lmKG51bGwhPW9iailpZihuYXRpdmVGb3JFYWNoJiZvYmouZm9yRWFjaD09PW5hdGl2ZUZvckVhY2gpb2JqLmZvckVhY2goaXRlcmF0b3IsY29udGV4dCk7ZWxzZSBpZihvYmoubGVuZ3RoPT09K29iai5sZW5ndGgpe2Zvcih2YXIgaT0wLGxlbmd0aD1vYmoubGVuZ3RoO2xlbmd0aD5pO2krKylpZihpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2ldLGksb2JqKT09PWJyZWFrZXIpcmV0dXJufWVsc2UgZm9yKHZhciBrZXlzPV8ua2V5cyhvYmopLGk9MCxsZW5ndGg9a2V5cy5sZW5ndGg7bGVuZ3RoPmk7aSsrKWlmKGl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5c1tpXV0sa2V5c1tpXSxvYmopPT09YnJlYWtlcilyZXR1cm59O18ubWFwPV8uY29sbGVjdD1mdW5jdGlvbihvYmosaXRlcmF0b3IsY29udGV4dCl7dmFyIHJlc3VsdHM9W107cmV0dXJuIG51bGw9PW9iaj9yZXN1bHRzOm5hdGl2ZU1hcCYmb2JqLm1hcD09PW5hdGl2ZU1hcD9vYmoubWFwKGl0ZXJhdG9yLGNvbnRleHQpOihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtyZXN1bHRzLnB1c2goaXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpKX0pLHJlc3VsdHMpfTt2YXIgcmVkdWNlRXJyb3I9IlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiO18ucmVkdWNlPV8uZm9sZGw9Xy5pbmplY3Q9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLG1lbW8sY29udGV4dCl7dmFyIGluaXRpYWw9YXJndW1lbnRzLmxlbmd0aD4yO2lmKG51bGw9PW9iaiYmKG9iaj1bXSksbmF0aXZlUmVkdWNlJiZvYmoucmVkdWNlPT09bmF0aXZlUmVkdWNlKXJldHVybiBjb250ZXh0JiYoaXRlcmF0b3I9Xy5iaW5kKGl0ZXJhdG9yLGNvbnRleHQpKSxpbml0aWFsP29iai5yZWR1Y2UoaXRlcmF0b3IsbWVtbyk6b2JqLnJlZHVjZShpdGVyYXRvcik7aWYoZWFjaChvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7aW5pdGlhbD9tZW1vPWl0ZXJhdG9yLmNhbGwoY29udGV4dCxtZW1vLHZhbHVlLGluZGV4LGxpc3QpOihtZW1vPXZhbHVlLGluaXRpYWw9ITApfSksIWluaXRpYWwpdGhyb3cgbmV3IFR5cGVFcnJvcihyZWR1Y2VFcnJvcik7cmV0dXJuIG1lbW99LF8ucmVkdWNlUmlnaHQ9Xy5mb2xkcj1mdW5jdGlvbihvYmosaXRlcmF0b3IsbWVtbyxjb250ZXh0KXt2YXIgaW5pdGlhbD1hcmd1bWVudHMubGVuZ3RoPjI7aWYobnVsbD09b2JqJiYob2JqPVtdKSxuYXRpdmVSZWR1Y2VSaWdodCYmb2JqLnJlZHVjZVJpZ2h0PT09bmF0aXZlUmVkdWNlUmlnaHQpcmV0dXJuIGNvbnRleHQmJihpdGVyYXRvcj1fLmJpbmQoaXRlcmF0b3IsY29udGV4dCkpLGluaXRpYWw/b2JqLnJlZHVjZVJpZ2h0KGl0ZXJhdG9yLG1lbW8pOm9iai5yZWR1Y2VSaWdodChpdGVyYXRvcik7dmFyIGxlbmd0aD1vYmoubGVuZ3RoO2lmKGxlbmd0aCE9PStsZW5ndGgpe3ZhciBrZXlzPV8ua2V5cyhvYmopO2xlbmd0aD1rZXlzLmxlbmd0aH1pZihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtpbmRleD1rZXlzP2tleXNbLS1sZW5ndGhdOi0tbGVuZ3RoLGluaXRpYWw/bWVtbz1pdGVyYXRvci5jYWxsKGNvbnRleHQsbWVtbyxvYmpbaW5kZXhdLGluZGV4LGxpc3QpOihtZW1vPW9ialtpbmRleF0saW5pdGlhbD0hMCl9KSwhaW5pdGlhbCl0aHJvdyBuZXcgVHlwZUVycm9yKHJlZHVjZUVycm9yKTtyZXR1cm4gbWVtb30sXy5maW5kPV8uZGV0ZWN0PWZ1bmN0aW9uKG9iaixpdGVyYXRvcixjb250ZXh0KXt2YXIgcmVzdWx0O3JldHVybiBhbnkob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3JldHVybiBpdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCk/KHJlc3VsdD12YWx1ZSwhMCk6dm9pZCAwfSkscmVzdWx0fSxfLmZpbHRlcj1fLnNlbGVjdD1mdW5jdGlvbihvYmosaXRlcmF0b3IsY29udGV4dCl7dmFyIHJlc3VsdHM9W107cmV0dXJuIG51bGw9PW9iaj9yZXN1bHRzOm5hdGl2ZUZpbHRlciYmb2JqLmZpbHRlcj09PW5hdGl2ZUZpbHRlcj9vYmouZmlsdGVyKGl0ZXJhdG9yLGNvbnRleHQpOihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtpdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCkmJnJlc3VsdHMucHVzaCh2YWx1ZSl9KSxyZXN1bHRzKX0sXy5yZWplY3Q9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe3JldHVybiBfLmZpbHRlcihvYmosZnVuY3Rpb24odmFsdWUsaW5kZXgsbGlzdCl7cmV0dXJuIWl0ZXJhdG9yLmNhbGwoY29udGV4dCx2YWx1ZSxpbmRleCxsaXN0KX0sY29udGV4dCl9LF8uZXZlcnk9Xy5hbGw9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2l0ZXJhdG9yfHwoaXRlcmF0b3I9Xy5pZGVudGl0eSk7dmFyIHJlc3VsdD0hMDtyZXR1cm4gbnVsbD09b2JqP3Jlc3VsdDpuYXRpdmVFdmVyeSYmb2JqLmV2ZXJ5PT09bmF0aXZlRXZlcnk/b2JqLmV2ZXJ5KGl0ZXJhdG9yLGNvbnRleHQpOihlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtyZXR1cm4ocmVzdWx0PXJlc3VsdCYmaXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpKT92b2lkIDA6YnJlYWtlcn0pLCEhcmVzdWx0KX07dmFyIGFueT1fLnNvbWU9Xy5hbnk9ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2l0ZXJhdG9yfHwoaXRlcmF0b3I9Xy5pZGVudGl0eSk7dmFyIHJlc3VsdD0hMTtyZXR1cm4gbnVsbD09b2JqP3Jlc3VsdDpuYXRpdmVTb21lJiZvYmouc29tZT09PW5hdGl2ZVNvbWU/b2JqLnNvbWUoaXRlcmF0b3IsY29udGV4dCk6KGVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3JldHVybiByZXN1bHR8fChyZXN1bHQ9aXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpKT9icmVha2VyOnZvaWQgMH0pLCEhcmVzdWx0KX07Xy5jb250YWlucz1fLmluY2x1ZGU9ZnVuY3Rpb24ob2JqLHRhcmdldCl7cmV0dXJuIG51bGw9PW9iaj8hMTpuYXRpdmVJbmRleE9mJiZvYmouaW5kZXhPZj09PW5hdGl2ZUluZGV4T2Y/LTEhPW9iai5pbmRleE9mKHRhcmdldCk6YW55KG9iaixmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlPT09dGFyZ2V0fSl9LF8uaW52b2tlPWZ1bmN0aW9uKG9iaixtZXRob2Qpe3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGlzRnVuYz1fLmlzRnVuY3Rpb24obWV0aG9kKTtyZXR1cm4gXy5tYXAob2JqLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4oaXNGdW5jP21ldGhvZDp2YWx1ZVttZXRob2RdKS5hcHBseSh2YWx1ZSxhcmdzKX0pfSxfLnBsdWNrPWZ1bmN0aW9uKG9iaixrZXkpe3JldHVybiBfLm1hcChvYmosZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZVtrZXldfSl9LF8ud2hlcmU9ZnVuY3Rpb24ob2JqLGF0dHJzLGZpcnN0KXtyZXR1cm4gXy5pc0VtcHR5KGF0dHJzKT9maXJzdD92b2lkIDA6W106X1tmaXJzdD8iZmluZCI6ImZpbHRlciJdKG9iaixmdW5jdGlvbih2YWx1ZSl7Zm9yKHZhciBrZXkgaW4gYXR0cnMpaWYoYXR0cnNba2V5XSE9PXZhbHVlW2tleV0pcmV0dXJuITE7cmV0dXJuITB9KX0sXy5maW5kV2hlcmU9ZnVuY3Rpb24ob2JqLGF0dHJzKXtyZXR1cm4gXy53aGVyZShvYmosYXR0cnMsITApfSxfLm1heD1mdW5jdGlvbihvYmosaXRlcmF0b3IsY29udGV4dCl7aWYoIWl0ZXJhdG9yJiZfLmlzQXJyYXkob2JqKSYmb2JqWzBdPT09K29ialswXSYmb2JqLmxlbmd0aDw2NTUzNSlyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxvYmopO2lmKCFpdGVyYXRvciYmXy5pc0VtcHR5KG9iaikpcmV0dXJuLTEvMDt2YXIgcmVzdWx0PXtjb21wdXRlZDotMS8wLHZhbHVlOi0xLzB9O3JldHVybiBlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXt2YXIgY29tcHV0ZWQ9aXRlcmF0b3I/aXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpOnZhbHVlO2NvbXB1dGVkPnJlc3VsdC5jb21wdXRlZCYmKHJlc3VsdD17dmFsdWU6dmFsdWUsY29tcHV0ZWQ6Y29tcHV0ZWR9KX0pLHJlc3VsdC52YWx1ZX0sXy5taW49ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2lmKCFpdGVyYXRvciYmXy5pc0FycmF5KG9iaikmJm9ialswXT09PStvYmpbMF0mJm9iai5sZW5ndGg8NjU1MzUpcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsb2JqKTtpZighaXRlcmF0b3ImJl8uaXNFbXB0eShvYmopKXJldHVybiAxLzA7dmFyIHJlc3VsdD17Y29tcHV0ZWQ6MS8wLHZhbHVlOjEvMH07cmV0dXJuIGVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3ZhciBjb21wdXRlZD1pdGVyYXRvcj9pdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCk6dmFsdWU7Y29tcHV0ZWQ8cmVzdWx0LmNvbXB1dGVkJiYocmVzdWx0PXt2YWx1ZTp2YWx1ZSxjb21wdXRlZDpjb21wdXRlZH0pfSkscmVzdWx0LnZhbHVlfSxfLnNodWZmbGU9ZnVuY3Rpb24ob2JqKXt2YXIgcmFuZCxpbmRleD0wLHNodWZmbGVkPVtdO3JldHVybiBlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSl7cmFuZD1fLnJhbmRvbShpbmRleCsrKSxzaHVmZmxlZFtpbmRleC0xXT1zaHVmZmxlZFtyYW5kXSxzaHVmZmxlZFtyYW5kXT12YWx1ZX0pLHNodWZmbGVkfSxfLnNhbXBsZT1mdW5jdGlvbihvYmosbixndWFyZCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mnx8Z3VhcmQ/b2JqW18ucmFuZG9tKG9iai5sZW5ndGgtMSldOl8uc2h1ZmZsZShvYmopLnNsaWNlKDAsTWF0aC5tYXgoMCxuKSl9O3ZhciBsb29rdXBJdGVyYXRvcj1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSk/dmFsdWU6ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqW3ZhbHVlXX19O18uc29ydEJ5PWZ1bmN0aW9uKG9iaix2YWx1ZSxjb250ZXh0KXt2YXIgaXRlcmF0b3I9bG9va3VwSXRlcmF0b3IodmFsdWUpO3JldHVybiBfLnBsdWNrKF8ubWFwKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCxsaXN0KXtyZXR1cm57dmFsdWU6dmFsdWUsaW5kZXg6aW5kZXgsY3JpdGVyaWE6aXRlcmF0b3IuY2FsbChjb250ZXh0LHZhbHVlLGluZGV4LGxpc3QpfX0pLnNvcnQoZnVuY3Rpb24obGVmdCxyaWdodCl7dmFyIGE9bGVmdC5jcml0ZXJpYSxiPXJpZ2h0LmNyaXRlcmlhO2lmKGEhPT1iKXtpZihhPmJ8fHZvaWQgMD09PWEpcmV0dXJuIDE7aWYoYj5hfHx2b2lkIDA9PT1iKXJldHVybi0xfXJldHVybiBsZWZ0LmluZGV4LXJpZ2h0LmluZGV4fSksInZhbHVlIil9O3ZhciBncm91cD1mdW5jdGlvbihiZWhhdmlvcil7cmV0dXJuIGZ1bmN0aW9uKG9iaix2YWx1ZSxjb250ZXh0KXt2YXIgcmVzdWx0PXt9LGl0ZXJhdG9yPW51bGw9PXZhbHVlP18uaWRlbnRpdHk6bG9va3VwSXRlcmF0b3IodmFsdWUpO3JldHVybiBlYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxpbmRleCl7dmFyIGtleT1pdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsb2JqKTtiZWhhdmlvcihyZXN1bHQsa2V5LHZhbHVlKX0pLHJlc3VsdH19O18uZ3JvdXBCeT1ncm91cChmdW5jdGlvbihyZXN1bHQsa2V5LHZhbHVlKXsoXy5oYXMocmVzdWx0LGtleSk/cmVzdWx0W2tleV06cmVzdWx0W2tleV09W10pLnB1c2godmFsdWUpfSksXy5pbmRleEJ5PWdyb3VwKGZ1bmN0aW9uKHJlc3VsdCxrZXksdmFsdWUpe3Jlc3VsdFtrZXldPXZhbHVlfSksXy5jb3VudEJ5PWdyb3VwKGZ1bmN0aW9uKHJlc3VsdCxrZXkpe18uaGFzKHJlc3VsdCxrZXkpP3Jlc3VsdFtrZXldKys6cmVzdWx0W2tleV09MX0pLF8uc29ydGVkSW5kZXg9ZnVuY3Rpb24oYXJyYXksb2JqLGl0ZXJhdG9yLGNvbnRleHQpe2l0ZXJhdG9yPW51bGw9PWl0ZXJhdG9yP18uaWRlbnRpdHk6bG9va3VwSXRlcmF0b3IoaXRlcmF0b3IpO2Zvcih2YXIgdmFsdWU9aXRlcmF0b3IuY2FsbChjb250ZXh0LG9iaiksbG93PTAsaGlnaD1hcnJheS5sZW5ndGg7aGlnaD5sb3c7KXt2YXIgbWlkPWxvdytoaWdoPj4+MTtpdGVyYXRvci5jYWxsKGNvbnRleHQsYXJyYXlbbWlkXSk8dmFsdWU/bG93PW1pZCsxOmhpZ2g9bWlkfXJldHVybiBsb3d9LF8udG9BcnJheT1mdW5jdGlvbihvYmope3JldHVybiBvYmo/Xy5pc0FycmF5KG9iaik/c2xpY2UuY2FsbChvYmopOm9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9fLm1hcChvYmosXy5pZGVudGl0eSk6Xy52YWx1ZXMob2JqKTpbXX0sXy5zaXplPWZ1bmN0aW9uKG9iail7cmV0dXJuIG51bGw9PW9iaj8wOm9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aD9vYmoubGVuZ3RoOl8ua2V5cyhvYmopLmxlbmd0aH0sXy5maXJzdD1fLmhlYWQ9Xy50YWtlPWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBudWxsPT1hcnJheT92b2lkIDA6bnVsbD09bnx8Z3VhcmQ/YXJyYXlbMF06c2xpY2UuY2FsbChhcnJheSwwLG4pfSxfLmluaXRpYWw9ZnVuY3Rpb24oYXJyYXksbixndWFyZCl7cmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksMCxhcnJheS5sZW5ndGgtKG51bGw9PW58fGd1YXJkPzE6bikpfSxfLmxhc3Q9ZnVuY3Rpb24oYXJyYXksbixndWFyZCl7cmV0dXJuIG51bGw9PWFycmF5P3ZvaWQgMDpudWxsPT1ufHxndWFyZD9hcnJheVthcnJheS5sZW5ndGgtMV06c2xpY2UuY2FsbChhcnJheSxNYXRoLm1heChhcnJheS5sZW5ndGgtbiwwKSl9LF8ucmVzdD1fLnRhaWw9Xy5kcm9wPWZ1bmN0aW9uKGFycmF5LG4sZ3VhcmQpe3JldHVybiBzbGljZS5jYWxsKGFycmF5LG51bGw9PW58fGd1YXJkPzE6bil9LF8uY29tcGFjdD1mdW5jdGlvbihhcnJheSl7cmV0dXJuIF8uZmlsdGVyKGFycmF5LF8uaWRlbnRpdHkpfTt2YXIgZmxhdHRlbj1mdW5jdGlvbihpbnB1dCxzaGFsbG93LG91dHB1dCl7cmV0dXJuIHNoYWxsb3cmJl8uZXZlcnkoaW5wdXQsXy5pc0FycmF5KT9jb25jYXQuYXBwbHkob3V0cHV0LGlucHV0KTooZWFjaChpbnB1dCxmdW5jdGlvbih2YWx1ZSl7Xy5pc0FycmF5KHZhbHVlKXx8Xy5pc0FyZ3VtZW50cyh2YWx1ZSk/c2hhbGxvdz9wdXNoLmFwcGx5KG91dHB1dCx2YWx1ZSk6ZmxhdHRlbih2YWx1ZSxzaGFsbG93LG91dHB1dCk6b3V0cHV0LnB1c2godmFsdWUpfSksb3V0cHV0KX07Xy5mbGF0dGVuPWZ1bmN0aW9uKGFycmF5LHNoYWxsb3cpe3JldHVybiBmbGF0dGVuKGFycmF5LHNoYWxsb3csW10pfSxfLndpdGhvdXQ9ZnVuY3Rpb24oYXJyYXkpe3JldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfSxfLnVuaXE9Xy51bmlxdWU9ZnVuY3Rpb24oYXJyYXksaXNTb3J0ZWQsaXRlcmF0b3IsY29udGV4dCl7Xy5pc0Z1bmN0aW9uKGlzU29ydGVkKSYmKGNvbnRleHQ9aXRlcmF0b3IsaXRlcmF0b3I9aXNTb3J0ZWQsaXNTb3J0ZWQ9ITEpO3ZhciBpbml0aWFsPWl0ZXJhdG9yP18ubWFwKGFycmF5LGl0ZXJhdG9yLGNvbnRleHQpOmFycmF5LHJlc3VsdHM9W10sc2Vlbj1bXTtyZXR1cm4gZWFjaChpbml0aWFsLGZ1bmN0aW9uKHZhbHVlLGluZGV4KXsoaXNTb3J0ZWQ/aW5kZXgmJnNlZW5bc2Vlbi5sZW5ndGgtMV09PT12YWx1ZTpfLmNvbnRhaW5zKHNlZW4sdmFsdWUpKXx8KHNlZW4ucHVzaCh2YWx1ZSkscmVzdWx0cy5wdXNoKGFycmF5W2luZGV4XSkpfSkscmVzdWx0c30sXy51bmlvbj1mdW5jdGlvbigpe3JldHVybiBfLnVuaXEoXy5mbGF0dGVuKGFyZ3VtZW50cywhMCkpfSxfLmludGVyc2VjdGlvbj1mdW5jdGlvbihhcnJheSl7dmFyIHJlc3Q9c2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIF8uZmlsdGVyKF8udW5pcShhcnJheSksZnVuY3Rpb24oaXRlbSl7cmV0dXJuIF8uZXZlcnkocmVzdCxmdW5jdGlvbihvdGhlcil7cmV0dXJuIF8uaW5kZXhPZihvdGhlcixpdGVtKT49MH0pfSl9LF8uZGlmZmVyZW5jZT1mdW5jdGlvbihhcnJheSl7dmFyIHJlc3Q9Y29uY2F0LmFwcGx5KEFycmF5UHJvdG8sc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO3JldHVybiBfLmZpbHRlcihhcnJheSxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIV8uY29udGFpbnMocmVzdCx2YWx1ZSl9KX0sXy56aXA9ZnVuY3Rpb24oKXtmb3IodmFyIGxlbmd0aD1fLm1heChfLnBsdWNrKGFyZ3VtZW50cywibGVuZ3RoIikuY29uY2F0KDApKSxyZXN1bHRzPW5ldyBBcnJheShsZW5ndGgpLGk9MDtsZW5ndGg+aTtpKyspcmVzdWx0c1tpXT1fLnBsdWNrKGFyZ3VtZW50cywiIitpKTtyZXR1cm4gcmVzdWx0c30sXy5vYmplY3Q9ZnVuY3Rpb24obGlzdCx2YWx1ZXMpe2lmKG51bGw9PWxpc3QpcmV0dXJue307Zm9yKHZhciByZXN1bHQ9e30saT0wLGxlbmd0aD1saXN0Lmxlbmd0aDtsZW5ndGg+aTtpKyspdmFsdWVzP3Jlc3VsdFtsaXN0W2ldXT12YWx1ZXNbaV06cmVzdWx0W2xpc3RbaV1bMF1dPWxpc3RbaV1bMV07cmV0dXJuIHJlc3VsdH0sXy5pbmRleE9mPWZ1bmN0aW9uKGFycmF5LGl0ZW0saXNTb3J0ZWQpe2lmKG51bGw9PWFycmF5KXJldHVybi0xO3ZhciBpPTAsbGVuZ3RoPWFycmF5Lmxlbmd0aDtpZihpc1NvcnRlZCl7aWYoIm51bWJlciIhPXR5cGVvZiBpc1NvcnRlZClyZXR1cm4gaT1fLnNvcnRlZEluZGV4KGFycmF5LGl0ZW0pLGFycmF5W2ldPT09aXRlbT9pOi0xO2k9MD5pc1NvcnRlZD9NYXRoLm1heCgwLGxlbmd0aCtpc1NvcnRlZCk6aXNTb3J0ZWR9aWYobmF0aXZlSW5kZXhPZiYmYXJyYXkuaW5kZXhPZj09PW5hdGl2ZUluZGV4T2YpcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSxpc1NvcnRlZCk7Zm9yKDtsZW5ndGg+aTtpKyspaWYoYXJyYXlbaV09PT1pdGVtKXJldHVybiBpO3JldHVybi0xfSxfLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGFycmF5LGl0ZW0sZnJvbSl7aWYobnVsbD09YXJyYXkpcmV0dXJuLTE7dmFyIGhhc0luZGV4PW51bGwhPWZyb207aWYobmF0aXZlTGFzdEluZGV4T2YmJmFycmF5Lmxhc3RJbmRleE9mPT09bmF0aXZlTGFzdEluZGV4T2YpcmV0dXJuIGhhc0luZGV4P2FycmF5Lmxhc3RJbmRleE9mKGl0ZW0sZnJvbSk6YXJyYXkubGFzdEluZGV4T2YoaXRlbSk7Zm9yKHZhciBpPWhhc0luZGV4P2Zyb206YXJyYXkubGVuZ3RoO2ktLTspaWYoYXJyYXlbaV09PT1pdGVtKXJldHVybiBpO3JldHVybi0xfSxfLnJhbmdlPWZ1bmN0aW9uKHN0YXJ0LHN0b3Asc3RlcCl7YXJndW1lbnRzLmxlbmd0aDw9MSYmKHN0b3A9c3RhcnR8fDAsc3RhcnQ9MCksc3RlcD1hcmd1bWVudHNbMl18fDE7Zm9yKHZhciBsZW5ndGg9TWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wLXN0YXJ0KS9zdGVwKSwwKSxpZHg9MCxyYW5nZT1uZXcgQXJyYXkobGVuZ3RoKTtsZW5ndGg+aWR4OylyYW5nZVtpZHgrK109c3RhcnQsc3RhcnQrPXN0ZXA7cmV0dXJuIHJhbmdlfTt2YXIgY3Rvcj1mdW5jdGlvbigpe307Xy5iaW5kPWZ1bmN0aW9uKGZ1bmMsY29udGV4dCl7dmFyIGFyZ3MsYm91bmQ7aWYobmF0aXZlQmluZCYmZnVuYy5iaW5kPT09bmF0aXZlQmluZClyZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtpZighXy5pc0Z1bmN0aW9uKGZ1bmMpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYm91bmQ9ZnVuY3Rpb24oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkpcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtjdG9yLnByb3RvdHlwZT1mdW5jLnByb3RvdHlwZTt2YXIgc2VsZj1uZXcgY3RvcjtjdG9yLnByb3RvdHlwZT1udWxsO3ZhciByZXN1bHQ9ZnVuYy5hcHBseShzZWxmLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QocmVzdWx0KT09PXJlc3VsdD9yZXN1bHQ6c2VsZn19LF8ucGFydGlhbD1mdW5jdGlvbihmdW5jKXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZnVuYy5hcHBseSh0aGlzLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX0sXy5iaW5kQWxsPWZ1bmN0aW9uKG9iail7dmFyIGZ1bmNzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2lmKDA9PT1mdW5jcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzIik7cmV0dXJuIGVhY2goZnVuY3MsZnVuY3Rpb24oZil7b2JqW2ZdPV8uYmluZChvYmpbZl0sb2JqKX0pLG9ian0sXy5tZW1vaXplPWZ1bmN0aW9uKGZ1bmMsaGFzaGVyKXt2YXIgbWVtbz17fTtyZXR1cm4gaGFzaGVyfHwoaGFzaGVyPV8uaWRlbnRpdHkpLGZ1bmN0aW9uKCl7dmFyIGtleT1oYXNoZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBfLmhhcyhtZW1vLGtleSk/bWVtb1trZXldOm1lbW9ba2V5XT1mdW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LF8uZGVsYXk9ZnVuY3Rpb24oZnVuYyx3YWl0KXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBmdW5jLmFwcGx5KG51bGwsYXJncyl9LHdhaXQpfSxfLmRlZmVyPWZ1bmN0aW9uKGZ1bmMpe3JldHVybiBfLmRlbGF5LmFwcGx5KF8sW2Z1bmMsMV0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSl9LF8udGhyb3R0bGU9ZnVuY3Rpb24oZnVuYyx3YWl0LG9wdGlvbnMpe3ZhciBjb250ZXh0LGFyZ3MscmVzdWx0LHRpbWVvdXQ9bnVsbCxwcmV2aW91cz0wO29wdGlvbnN8fChvcHRpb25zPXt9KTt2YXIgbGF0ZXI9ZnVuY3Rpb24oKXtwcmV2aW91cz1vcHRpb25zLmxlYWRpbmc9PT0hMT8wOm5ldyBEYXRlLHRpbWVvdXQ9bnVsbCxyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbm93PW5ldyBEYXRlO3ByZXZpb3VzfHxvcHRpb25zLmxlYWRpbmchPT0hMXx8KHByZXZpb3VzPW5vdyk7dmFyIHJlbWFpbmluZz13YWl0LShub3ctcHJldmlvdXMpO3JldHVybiBjb250ZXh0PXRoaXMsYXJncz1hcmd1bWVudHMsMD49cmVtYWluaW5nPyhjbGVhclRpbWVvdXQodGltZW91dCksdGltZW91dD1udWxsLHByZXZpb3VzPW5vdyxyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpKTp0aW1lb3V0fHxvcHRpb25zLnRyYWlsaW5nPT09ITF8fCh0aW1lb3V0PXNldFRpbWVvdXQobGF0ZXIscmVtYWluaW5nKSkscmVzdWx0fX0sXy5kZWJvdW5jZT1mdW5jdGlvbihmdW5jLHdhaXQsaW1tZWRpYXRlKXt2YXIgdGltZW91dCxhcmdzLGNvbnRleHQsdGltZXN0YW1wLHJlc3VsdDtyZXR1cm4gZnVuY3Rpb24oKXtjb250ZXh0PXRoaXMsYXJncz1hcmd1bWVudHMsdGltZXN0YW1wPW5ldyBEYXRlO3ZhciBsYXRlcj1mdW5jdGlvbigpe3ZhciBsYXN0PW5ldyBEYXRlLXRpbWVzdGFtcDt3YWl0Pmxhc3Q/dGltZW91dD1zZXRUaW1lb3V0KGxhdGVyLHdhaXQtbGFzdCk6KHRpbWVvdXQ9bnVsbCxpbW1lZGlhdGV8fChyZXN1bHQ9ZnVuYy5hcHBseShjb250ZXh0LGFyZ3MpKSl9LGNhbGxOb3c9aW1tZWRpYXRlJiYhdGltZW91dDtyZXR1cm4gdGltZW91dHx8KHRpbWVvdXQ9c2V0VGltZW91dChsYXRlcix3YWl0KSksY2FsbE5vdyYmKHJlc3VsdD1mdW5jLmFwcGx5KGNvbnRleHQsYXJncykpLHJlc3VsdH19LF8ub25jZT1mdW5jdGlvbihmdW5jKXt2YXIgbWVtbyxyYW49ITE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHJhbj9tZW1vOihyYW49ITAsbWVtbz1mdW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxmdW5jPW51bGwsbWVtbyl9fSxfLndyYXA9ZnVuY3Rpb24oZnVuYyx3cmFwcGVyKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYXJncz1bZnVuY107cmV0dXJuIHB1c2guYXBwbHkoYXJncyxhcmd1bWVudHMpLHdyYXBwZXIuYXBwbHkodGhpcyxhcmdzKX19LF8uY29tcG9zZT1mdW5jdGlvbigpe3ZhciBmdW5jcz1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBhcmdzPWFyZ3VtZW50cyxpPWZ1bmNzLmxlbmd0aC0xO2k+PTA7aS0tKWFyZ3M9W2Z1bmNzW2ldLmFwcGx5KHRoaXMsYXJncyldO3JldHVybiBhcmdzWzBdfX0sXy5hZnRlcj1mdW5jdGlvbih0aW1lcyxmdW5jKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLXRpbWVzPDE/ZnVuYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0sXy5rZXlzPW5hdGl2ZUtleXN8fGZ1bmN0aW9uKG9iail7aWYob2JqIT09T2JqZWN0KG9iaikpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBvYmplY3QiKTt2YXIga2V5cz1bXTtmb3IodmFyIGtleSBpbiBvYmopXy5oYXMob2JqLGtleSkmJmtleXMucHVzaChrZXkpO3JldHVybiBrZXlzfSxfLnZhbHVlcz1mdW5jdGlvbihvYmope2Zvcih2YXIga2V5cz1fLmtleXMob2JqKSxsZW5ndGg9a2V5cy5sZW5ndGgsdmFsdWVzPW5ldyBBcnJheShsZW5ndGgpLGk9MDtsZW5ndGg+aTtpKyspdmFsdWVzW2ldPW9ialtrZXlzW2ldXTtyZXR1cm4gdmFsdWVzfSxfLnBhaXJzPWZ1bmN0aW9uKG9iail7Zm9yKHZhciBrZXlzPV8ua2V5cyhvYmopLGxlbmd0aD1rZXlzLmxlbmd0aCxwYWlycz1uZXcgQXJyYXkobGVuZ3RoKSxpPTA7bGVuZ3RoPmk7aSsrKXBhaXJzW2ldPVtrZXlzW2ldLG9ialtrZXlzW2ldXV07cmV0dXJuIHBhaXJzfSxfLmludmVydD1mdW5jdGlvbihvYmope2Zvcih2YXIgcmVzdWx0PXt9LGtleXM9Xy5rZXlzKG9iaiksaT0wLGxlbmd0aD1rZXlzLmxlbmd0aDtsZW5ndGg+aTtpKyspcmVzdWx0W29ialtrZXlzW2ldXV09a2V5c1tpXTtyZXR1cm4gcmVzdWx0fSxfLmZ1bmN0aW9ucz1fLm1ldGhvZHM9ZnVuY3Rpb24ob2JqKXt2YXIgbmFtZXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKV8uaXNGdW5jdGlvbihvYmpba2V5XSkmJm5hbWVzLnB1c2goa2V5KTtyZXR1cm4gbmFtZXMuc29ydCgpfSxfLmV4dGVuZD1mdW5jdGlvbihvYmope3JldHVybiBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKHNvdXJjZSl7aWYoc291cmNlKWZvcih2YXIgcHJvcCBpbiBzb3VyY2Upb2JqW3Byb3BdPXNvdXJjZVtwcm9wXX0pLG9ian0sXy5waWNrPWZ1bmN0aW9uKG9iail7dmFyIGNvcHk9e30sa2V5cz1jb25jYXQuYXBwbHkoQXJyYXlQcm90byxzbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7cmV0dXJuIGVhY2goa2V5cyxmdW5jdGlvbihrZXkpe2tleSBpbiBvYmomJihjb3B5W2tleV09b2JqW2tleV0pfSksY29weX0sXy5vbWl0PWZ1bmN0aW9uKG9iail7dmFyIGNvcHk9e30sa2V5cz1jb25jYXQuYXBwbHkoQXJyYXlQcm90byxzbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7Zm9yKHZhciBrZXkgaW4gb2JqKV8uY29udGFpbnMoa2V5cyxrZXkpfHwoY29weVtrZXldPW9ialtrZXldKTtyZXR1cm4gY29weX0sXy5kZWZhdWx0cz1mdW5jdGlvbihvYmope3JldHVybiBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKHNvdXJjZSl7aWYoc291cmNlKWZvcih2YXIgcHJvcCBpbiBzb3VyY2Updm9pZCAwPT09b2JqW3Byb3BdJiYob2JqW3Byb3BdPXNvdXJjZVtwcm9wXSl9KSxvYmp9LF8uY2xvbmU9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gXy5pc09iamVjdChvYmopP18uaXNBcnJheShvYmopP29iai5zbGljZSgpOl8uZXh0ZW5kKHt9LG9iaik6b2JqfSxfLnRhcD1mdW5jdGlvbihvYmosaW50ZXJjZXB0b3Ipe3JldHVybiBpbnRlcmNlcHRvcihvYmopLG9ian07dmFyIGVxPWZ1bmN0aW9uKGEsYixhU3RhY2ssYlN0YWNrKXtpZihhPT09YilyZXR1cm4gMCE9PWF8fDEvYT09MS9iO2lmKG51bGw9PWF8fG51bGw9PWIpcmV0dXJuIGE9PT1iO2EgaW5zdGFuY2VvZiBfJiYoYT1hLl93cmFwcGVkKSxiIGluc3RhbmNlb2YgXyYmKGI9Yi5fd3JhcHBlZCk7dmFyIGNsYXNzTmFtZT10b1N0cmluZy5jYWxsKGEpO2lmKGNsYXNzTmFtZSE9dG9TdHJpbmcuY2FsbChiKSlyZXR1cm4hMTtzd2l0Y2goY2xhc3NOYW1lKXtjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuIGE9PVN0cmluZyhiKTtjYXNlIltvYmplY3QgTnVtYmVyXSI6cmV0dXJuIGEhPSthP2IhPStiOjA9PWE/MS9hPT0xL2I6YT09K2I7Y2FzZSJbb2JqZWN0IERhdGVdIjpjYXNlIltvYmplY3QgQm9vbGVhbl0iOnJldHVybithPT0rYjtjYXNlIltvYmplY3QgUmVnRXhwXSI6cmV0dXJuIGEuc291cmNlPT1iLnNvdXJjZSYmYS5nbG9iYWw9PWIuZ2xvYmFsJiZhLm11bHRpbGluZT09Yi5tdWx0aWxpbmUmJmEuaWdub3JlQ2FzZT09Yi5pZ25vcmVDYXNlfWlmKCJvYmplY3QiIT10eXBlb2YgYXx8Im9iamVjdCIhPXR5cGVvZiBiKXJldHVybiExO2Zvcih2YXIgbGVuZ3RoPWFTdGFjay5sZW5ndGg7bGVuZ3RoLS07KWlmKGFTdGFja1tsZW5ndGhdPT1hKXJldHVybiBiU3RhY2tbbGVuZ3RoXT09Yjt2YXIgYUN0b3I9YS5jb25zdHJ1Y3RvcixiQ3Rvcj1iLmNvbnN0cnVjdG9yO2lmKGFDdG9yIT09YkN0b3ImJiEoXy5pc0Z1bmN0aW9uKGFDdG9yKSYmYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciYmXy5pc0Z1bmN0aW9uKGJDdG9yKSYmYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcikpcmV0dXJuITE7YVN0YWNrLnB1c2goYSksYlN0YWNrLnB1c2goYik7dmFyIHNpemU9MCxyZXN1bHQ9ITA7aWYoIltvYmplY3QgQXJyYXldIj09Y2xhc3NOYW1lKXtpZihzaXplPWEubGVuZ3RoLHJlc3VsdD1zaXplPT1iLmxlbmd0aClmb3IoO3NpemUtLSYmKHJlc3VsdD1lcShhW3NpemVdLGJbc2l6ZV0sYVN0YWNrLGJTdGFjaykpOyk7fWVsc2V7Zm9yKHZhciBrZXkgaW4gYSlpZihfLmhhcyhhLGtleSkmJihzaXplKyssIShyZXN1bHQ9Xy5oYXMoYixrZXkpJiZlcShhW2tleV0sYltrZXldLGFTdGFjayxiU3RhY2spKSkpYnJlYWs7aWYocmVzdWx0KXtmb3Ioa2V5IGluIGIpaWYoXy5oYXMoYixrZXkpJiYhc2l6ZS0tKWJyZWFrO3Jlc3VsdD0hc2l6ZX19cmV0dXJuIGFTdGFjay5wb3AoKSxiU3RhY2sucG9wKCkscmVzdWx0fTtfLmlzRXF1YWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZXEoYSxiLFtdLFtdKX0sXy5pc0VtcHR5PWZ1bmN0aW9uKG9iail7aWYobnVsbD09b2JqKXJldHVybiEwO2lmKF8uaXNBcnJheShvYmopfHxfLmlzU3RyaW5nKG9iaikpcmV0dXJuIDA9PT1vYmoubGVuZ3RoO2Zvcih2YXIga2V5IGluIG9iailpZihfLmhhcyhvYmosa2V5KSlyZXR1cm4hMTtyZXR1cm4hMH0sXy5pc0VsZW1lbnQ9ZnVuY3Rpb24ob2JqKXtyZXR1cm4hKCFvYmp8fDEhPT1vYmoubm9kZVR5cGUpfSxfLmlzQXJyYXk9bmF0aXZlSXNBcnJheXx8ZnVuY3Rpb24ob2JqKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT10b1N0cmluZy5jYWxsKG9iail9LF8uaXNPYmplY3Q9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqPT09T2JqZWN0KG9iail9LGVhY2goWyJBcmd1bWVudHMiLCJGdW5jdGlvbiIsIlN0cmluZyIsIk51bWJlciIsIkRhdGUiLCJSZWdFeHAiXSxmdW5jdGlvbihuYW1lKXtfWyJpcyIrbmFtZV09ZnVuY3Rpb24ob2JqKXtyZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopPT0iW29iamVjdCAiK25hbWUrIl0ifX0pLF8uaXNBcmd1bWVudHMoYXJndW1lbnRzKXx8KF8uaXNBcmd1bWVudHM9ZnVuY3Rpb24ob2JqKXtyZXR1cm4hKCFvYmp8fCFfLmhhcyhvYmosImNhbGxlZSIpKX0pLCJmdW5jdGlvbiIhPXR5cGVvZi8uLyYmKF8uaXNGdW5jdGlvbj1mdW5jdGlvbihvYmope3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBvYmp9KSxfLmlzRmluaXRlPWZ1bmN0aW9uKG9iail7cmV0dXJuIGlzRmluaXRlKG9iaikmJiFpc05hTihwYXJzZUZsb2F0KG9iaikpfSxfLmlzTmFOPWZ1bmN0aW9uKG9iail7cmV0dXJuIF8uaXNOdW1iZXIob2JqKSYmb2JqIT0rb2JqfSxfLmlzQm9vbGVhbj1mdW5jdGlvbihvYmope3JldHVybiBvYmo9PT0hMHx8b2JqPT09ITF8fCJbb2JqZWN0IEJvb2xlYW5dIj09dG9TdHJpbmcuY2FsbChvYmopfSxfLmlzTnVsbD1mdW5jdGlvbihvYmope3JldHVybiBudWxsPT09b2JqfSxfLmlzVW5kZWZpbmVkPWZ1bmN0aW9uKG9iail7cmV0dXJuIHZvaWQgMD09PW9ian0sXy5oYXM9ZnVuY3Rpb24ob2JqLGtleSl7cmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSl9LF8ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiByb290Ll89cHJldmlvdXNVbmRlcnNjb3JlLHRoaXN9LF8uaWRlbnRpdHk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX0sXy50aW1lcz1mdW5jdGlvbihuLGl0ZXJhdG9yLGNvbnRleHQpe2Zvcih2YXIgYWNjdW09QXJyYXkoTWF0aC5tYXgoMCxuKSksaT0wO24+aTtpKyspYWNjdW1baV09aXRlcmF0b3IuY2FsbChjb250ZXh0LGkpO3JldHVybiBhY2N1bX0sXy5yYW5kb209ZnVuY3Rpb24obWluLG1heCl7cmV0dXJuIG51bGw9PW1heCYmKG1heD1taW4sbWluPTApLG1pbitNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG1heC1taW4rMSkpfTt2YXIgZW50aXR5TWFwPXtlc2NhcGU6eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImI3gyNzsifX07ZW50aXR5TWFwLnVuZXNjYXBlPV8uaW52ZXJ0KGVudGl0eU1hcC5lc2NhcGUpO3ZhciBlbnRpdHlSZWdleGVzPXtlc2NhcGU6bmV3IFJlZ0V4cCgiWyIrXy5rZXlzKGVudGl0eU1hcC5lc2NhcGUpLmpvaW4oIiIpKyJdIiwiZyIpLHVuZXNjYXBlOm5ldyBSZWdFeHAoIigiK18ua2V5cyhlbnRpdHlNYXAudW5lc2NhcGUpLmpvaW4oInwiKSsiKSIsImciKX07Xy5lYWNoKFsiZXNjYXBlIiwidW5lc2NhcGUiXSxmdW5jdGlvbihtZXRob2Qpe19bbWV0aG9kXT1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBudWxsPT1zdHJpbmc/IiI6KCIiK3N0cmluZykucmVwbGFjZShlbnRpdHlSZWdleGVzW21ldGhvZF0sZnVuY3Rpb24obWF0Y2gpe3JldHVybiBlbnRpdHlNYXBbbWV0aG9kXVttYXRjaF19KX19KSxfLnJlc3VsdD1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe2lmKG51bGw9PW9iamVjdClyZXR1cm4gdm9pZCAwO3ZhciB2YWx1ZT1vYmplY3RbcHJvcGVydHldO3JldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpP3ZhbHVlLmNhbGwob2JqZWN0KTp2YWx1ZX0sXy5taXhpbj1mdW5jdGlvbihvYmope2VhY2goXy5mdW5jdGlvbnMob2JqKSxmdW5jdGlvbihuYW1lKXt2YXIgZnVuYz1fW25hbWVdPW9ialtuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3ZhciBhcmdzPVt0aGlzLl93cmFwcGVkXTtyZXR1cm4gcHVzaC5hcHBseShhcmdzLGFyZ3VtZW50cykscmVzdWx0LmNhbGwodGhpcyxmdW5jLmFwcGx5KF8sYXJncykpfX0pfTt2YXIgaWRDb3VudGVyPTA7Xy51bmlxdWVJZD1mdW5jdGlvbihwcmVmaXgpe3ZhciBpZD0rK2lkQ291bnRlcisiIjtyZXR1cm4gcHJlZml4P3ByZWZpeCtpZDppZH0sXy50ZW1wbGF0ZVNldHRpbmdzPXtldmFsdWF0ZTovPCUoW1xzXFNdKz8pJT4vZyxpbnRlcnBvbGF0ZTovPCU9KFtcc1xTXSs/KSU+L2csZXNjYXBlOi88JS0oW1xzXFNdKz8pJT4vZ307dmFyIG5vTWF0Y2g9LyguKV4vLGVzY2FwZXM9eyInIjoiJyIsIlxcIjoiXFwiLCJcciI6InIiLCJcbiI6Im4iLCIJIjoidCIsIlx1MjAyOCI6InUyMDI4IiwiXHUyMDI5IjoidTIwMjkifSxlc2NhcGVyPS9cXHwnfFxyfFxufFx0fFx1MjAyOHxcdTIwMjkvZztfLnRlbXBsYXRlPWZ1bmN0aW9uKHRleHQsZGF0YSxzZXR0aW5ncyl7dmFyIHJlbmRlcjtzZXR0aW5ncz1fLmRlZmF1bHRzKHt9LHNldHRpbmdzLF8udGVtcGxhdGVTZXR0aW5ncyk7dmFyIG1hdGNoZXI9bmV3IFJlZ0V4cChbKHNldHRpbmdzLmVzY2FwZXx8bm9NYXRjaCkuc291cmNlLChzZXR0aW5ncy5pbnRlcnBvbGF0ZXx8bm9NYXRjaCkuc291cmNlLChzZXR0aW5ncy5ldmFsdWF0ZXx8bm9NYXRjaCkuc291cmNlXS5qb2luKCJ8IikrInwkIiwiZyIpLGluZGV4PTAsc291cmNlPSJfX3ArPSciO3RleHQucmVwbGFjZShtYXRjaGVyLGZ1bmN0aW9uKG1hdGNoLGVzY2FwZSxpbnRlcnBvbGF0ZSxldmFsdWF0ZSxvZmZzZXQpe3JldHVybiBzb3VyY2UrPXRleHQuc2xpY2UoaW5kZXgsb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsZnVuY3Rpb24obWF0Y2gpe3JldHVybiJcXCIrZXNjYXBlc1ttYXRjaF19KSxlc2NhcGUmJihzb3VyY2UrPSInK1xuKChfX3Q9KCIrZXNjYXBlKyIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcbiciKSxpbnRlcnBvbGF0ZSYmKHNvdXJjZSs9IicrXG4oKF9fdD0oIitpbnRlcnBvbGF0ZSsiKSk9PW51bGw/Jyc6X190KStcbiciKSxldmFsdWF0ZSYmKHNvdXJjZSs9Iic7XG4iK2V2YWx1YXRlKyJcbl9fcCs9JyIpLGluZGV4PW9mZnNldCttYXRjaC5sZW5ndGgsbWF0Y2h9KSxzb3VyY2UrPSInO1xuIixzZXR0aW5ncy52YXJpYWJsZXx8KHNvdXJjZT0id2l0aChvYmp8fHt9KXtcbiIrc291cmNlKyJ9XG4iKSxzb3VyY2U9InZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xuIitzb3VyY2UrInJldHVybiBfX3A7XG4iO3RyeXtyZW5kZXI9bmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlfHwib2JqIiwiXyIsc291cmNlKX1jYXRjaChlKXt0aHJvdyBlLnNvdXJjZT1zb3VyY2UsZX1pZihkYXRhKXJldHVybiByZW5kZXIoZGF0YSxfKTt2YXIgdGVtcGxhdGU9ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsZGF0YSxfKX07cmV0dXJuIHRlbXBsYXRlLnNvdXJjZT0iZnVuY3Rpb24oIisoc2V0dGluZ3MudmFyaWFibGV8fCJvYmoiKSsiKXtcbiIrc291cmNlKyJ9Iix0ZW1wbGF0ZX0sXy5jaGFpbj1mdW5jdGlvbihvYmope3JldHVybiBfKG9iaikuY2hhaW4oKX07dmFyIHJlc3VsdD1mdW5jdGlvbihvYmope3JldHVybiB0aGlzLl9jaGFpbj9fKG9iaikuY2hhaW4oKTpvYmp9O18ubWl4aW4oXyksZWFjaChbInBvcCIsInB1c2giLCJyZXZlcnNlIiwic2hpZnQiLCJzb3J0Iiwic3BsaWNlIiwidW5zaGlmdCJdLGZ1bmN0aW9uKG5hbWUpe3ZhciBtZXRob2Q9QXJyYXlQcm90b1tuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3ZhciBvYmo9dGhpcy5fd3JhcHBlZDtyZXR1cm4gbWV0aG9kLmFwcGx5KG9iaixhcmd1bWVudHMpLCJzaGlmdCIhPW5hbWUmJiJzcGxpY2UiIT1uYW1lfHwwIT09b2JqLmxlbmd0aHx8ZGVsZXRlIG9ialswXSxyZXN1bHQuY2FsbCh0aGlzLG9iail9fSksZWFjaChbImNvbmNhdCIsImpvaW4iLCJzbGljZSJdLGZ1bmN0aW9uKG5hbWUpe3ZhciBtZXRob2Q9QXJyYXlQcm90b1tuYW1lXTtfLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbigpe3JldHVybiByZXN1bHQuY2FsbCh0aGlzLG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLGFyZ3VtZW50cykpfX0pLF8uZXh0ZW5kKF8ucHJvdG90eXBlLHtjaGFpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGFpbj0hMCx0aGlzfSx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfX0pfSkuY2FsbCh0aGlzKSxmdW5jdGlvbihyb290LGZhY3Rvcnkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFsidW5kZXJzY29yZSIsImpxdWVyeSIsImV4cG9ydHMiXSxmdW5jdGlvbihfLCQsZXhwb3J0cyl7cm9vdC5CYWNrYm9uZT1mYWN0b3J5KHJvb3QsZXhwb3J0cyxfLCQpfSk7ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHMpe3ZhciBfPXJlcXVpcmUoInVuZGVyc2NvcmUiKTtmYWN0b3J5KHJvb3QsZXhwb3J0cyxfKX1lbHNlIHJvb3QuQmFja2JvbmU9ZmFjdG9yeShyb290LHt9LHJvb3QuXyxyb290LmpRdWVyeXx8cm9vdC5aZXB0b3x8cm9vdC5lbmRlcnx8cm9vdC4kKX0odGhpcyxmdW5jdGlvbihyb290LEJhY2tib25lLF8sJCl7e3ZhciBwcmV2aW91c0JhY2tib25lPXJvb3QuQmFja2JvbmUsYXJyYXk9W10sc2xpY2U9KGFycmF5LnB1c2gsYXJyYXkuc2xpY2UpO2FycmF5LnNwbGljZX1CYWNrYm9uZS5WRVJTSU9OPSIxLjEuMiIsQmFja2JvbmUuJD0kLEJhY2tib25lLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcm9vdC5CYWNrYm9uZT1wcmV2aW91c0JhY2tib25lLHRoaXN9LEJhY2tib25lLmVtdWxhdGVIVFRQPSExLEJhY2tib25lLmVtdWxhdGVKU09OPSExO3ZhciBFdmVudHM9QmFja2JvbmUuRXZlbnRzPXtvbjpmdW5jdGlvbihuYW1lLGNhbGxiYWNrLGNvbnRleHQpe2lmKCFldmVudHNBcGkodGhpcywib24iLG5hbWUsW2NhbGxiYWNrLGNvbnRleHRdKXx8IWNhbGxiYWNrKXJldHVybiB0aGlzO3RoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSk7dmFyIGV2ZW50cz10aGlzLl9ldmVudHNbbmFtZV18fCh0aGlzLl9ldmVudHNbbmFtZV09W10pO3JldHVybiBldmVudHMucHVzaCh7Y2FsbGJhY2s6Y2FsbGJhY2ssY29udGV4dDpjb250ZXh0LGN0eDpjb250ZXh0fHx0aGlzfSksdGhpc30sb25jZTpmdW5jdGlvbihuYW1lLGNhbGxiYWNrLGNvbnRleHQpe2lmKCFldmVudHNBcGkodGhpcywib25jZSIsbmFtZSxbY2FsbGJhY2ssY29udGV4dF0pfHwhY2FsbGJhY2spcmV0dXJuIHRoaXM7dmFyIHNlbGY9dGhpcyxvbmNlPV8ub25jZShmdW5jdGlvbigpe3NlbGYub2ZmKG5hbWUsb25jZSksY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7cmV0dXJuIG9uY2UuX2NhbGxiYWNrPWNhbGxiYWNrLHRoaXMub24obmFtZSxvbmNlLGNvbnRleHQpfSxvZmY6ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxjb250ZXh0KXt2YXIgcmV0YWluLGV2LGV2ZW50cyxuYW1lcyxpLGwsaixrO2lmKCF0aGlzLl9ldmVudHN8fCFldmVudHNBcGkodGhpcywib2ZmIixuYW1lLFtjYWxsYmFjayxjb250ZXh0XSkpcmV0dXJuIHRoaXM7aWYoIW5hbWUmJiFjYWxsYmFjayYmIWNvbnRleHQpcmV0dXJuIHRoaXMuX2V2ZW50cz12b2lkIDAsdGhpcztmb3IobmFtZXM9bmFtZT9bbmFtZV06Xy5rZXlzKHRoaXMuX2V2ZW50cyksaT0wLGw9bmFtZXMubGVuZ3RoO2w+aTtpKyspaWYobmFtZT1uYW1lc1tpXSxldmVudHM9dGhpcy5fZXZlbnRzW25hbWVdKXtpZih0aGlzLl9ldmVudHNbbmFtZV09cmV0YWluPVtdLGNhbGxiYWNrfHxjb250ZXh0KWZvcihqPTAsaz1ldmVudHMubGVuZ3RoO2s+ajtqKyspZXY9ZXZlbnRzW2pdLChjYWxsYmFjayYmY2FsbGJhY2shPT1ldi5jYWxsYmFjayYmY2FsbGJhY2shPT1ldi5jYWxsYmFjay5fY2FsbGJhY2t8fGNvbnRleHQmJmNvbnRleHQhPT1ldi5jb250ZXh0KSYmcmV0YWluLnB1c2goZXYpO3JldGFpbi5sZW5ndGh8fGRlbGV0ZSB0aGlzLl9ldmVudHNbbmFtZV19cmV0dXJuIHRoaXN9LHRyaWdnZXI6ZnVuY3Rpb24obmFtZSl7aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpczt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZighZXZlbnRzQXBpKHRoaXMsInRyaWdnZXIiLG5hbWUsYXJncykpcmV0dXJuIHRoaXM7dmFyIGV2ZW50cz10aGlzLl9ldmVudHNbbmFtZV0sYWxsRXZlbnRzPXRoaXMuX2V2ZW50cy5hbGw7cmV0dXJuIGV2ZW50cyYmdHJpZ2dlckV2ZW50cyhldmVudHMsYXJncyksYWxsRXZlbnRzJiZ0cmlnZ2VyRXZlbnRzKGFsbEV2ZW50cyxhcmd1bWVudHMpLHRoaXN9LHN0b3BMaXN0ZW5pbmc6ZnVuY3Rpb24ob2JqLG5hbWUsY2FsbGJhY2spe3ZhciBsaXN0ZW5pbmdUbz10aGlzLl9saXN0ZW5pbmdUbztpZighbGlzdGVuaW5nVG8pcmV0dXJuIHRoaXM7dmFyIHJlbW92ZT0hbmFtZSYmIWNhbGxiYWNrO2NhbGxiYWNrfHwib2JqZWN0IiE9dHlwZW9mIG5hbWV8fChjYWxsYmFjaz10aGlzKSxvYmomJigobGlzdGVuaW5nVG89e30pW29iai5fbGlzdGVuSWRdPW9iaik7Zm9yKHZhciBpZCBpbiBsaXN0ZW5pbmdUbylvYmo9bGlzdGVuaW5nVG9baWRdLG9iai5vZmYobmFtZSxjYWxsYmFjayx0aGlzKSwocmVtb3ZlfHxfLmlzRW1wdHkob2JqLl9ldmVudHMpKSYmZGVsZXRlIHRoaXMuX2xpc3RlbmluZ1RvW2lkXTtyZXR1cm4gdGhpc319LGV2ZW50U3BsaXR0ZXI9L1xzKy8sZXZlbnRzQXBpPWZ1bmN0aW9uKG9iaixhY3Rpb24sbmFtZSxyZXN0KXtpZighbmFtZSlyZXR1cm4hMDtpZigib2JqZWN0Ij09dHlwZW9mIG5hbWUpe2Zvcih2YXIga2V5IGluIG5hbWUpb2JqW2FjdGlvbl0uYXBwbHkob2JqLFtrZXksbmFtZVtrZXldXS5jb25jYXQocmVzdCkpO3JldHVybiExfWlmKGV2ZW50U3BsaXR0ZXIudGVzdChuYW1lKSl7Zm9yKHZhciBuYW1lcz1uYW1lLnNwbGl0KGV2ZW50U3BsaXR0ZXIpLGk9MCxsPW5hbWVzLmxlbmd0aDtsPmk7aSsrKW9ialthY3Rpb25dLmFwcGx5KG9iaixbbmFtZXNbaV1dLmNvbmNhdChyZXN0KSk7cmV0dXJuITF9cmV0dXJuITB9LHRyaWdnZXJFdmVudHM9ZnVuY3Rpb24oZXZlbnRzLGFyZ3Mpe3ZhciBldixpPS0xLGw9ZXZlbnRzLmxlbmd0aCxhMT1hcmdzWzBdLGEyPWFyZ3NbMV0sYTM9YXJnc1syXTtzd2l0Y2goYXJncy5sZW5ndGgpe2Nhc2UgMDpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCk7cmV0dXJuO2Nhc2UgMTpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCxhMSk7cmV0dXJuO2Nhc2UgMjpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCxhMSxhMik7cmV0dXJuO2Nhc2UgMzpmb3IoOysraTxsOykoZXY9ZXZlbnRzW2ldKS5jYWxsYmFjay5jYWxsKGV2LmN0eCxhMSxhMixhMyk7cmV0dXJuO2RlZmF1bHQ6Zm9yKDsrK2k8bDspKGV2PWV2ZW50c1tpXSkuY2FsbGJhY2suYXBwbHkoZXYuY3R4LGFyZ3MpO3JldHVybn19LGxpc3Rlbk1ldGhvZHM9e2xpc3RlblRvOiJvbiIsbGlzdGVuVG9PbmNlOiJvbmNlIn07Xy5lYWNoKGxpc3Rlbk1ldGhvZHMsZnVuY3Rpb24oaW1wbGVtZW50YXRpb24sbWV0aG9kKXtFdmVudHNbbWV0aG9kXT1mdW5jdGlvbihvYmosbmFtZSxjYWxsYmFjayl7dmFyIGxpc3RlbmluZ1RvPXRoaXMuX2xpc3RlbmluZ1RvfHwodGhpcy5fbGlzdGVuaW5nVG89e30pLGlkPW9iai5fbGlzdGVuSWR8fChvYmouX2xpc3RlbklkPV8udW5pcXVlSWQoImwiKSk7cmV0dXJuIGxpc3RlbmluZ1RvW2lkXT1vYmosY2FsbGJhY2t8fCJvYmplY3QiIT10eXBlb2YgbmFtZXx8KGNhbGxiYWNrPXRoaXMpLG9ialtpbXBsZW1lbnRhdGlvbl0obmFtZSxjYWxsYmFjayx0aGlzKSx0aGlzfX0pLEV2ZW50cy5iaW5kPUV2ZW50cy5vbixFdmVudHMudW5iaW5kPUV2ZW50cy5vZmYsXy5leHRlbmQoQmFja2JvbmUsRXZlbnRzKTt2YXIgTW9kZWw9QmFja2JvbmUuTW9kZWw9ZnVuY3Rpb24oYXR0cmlidXRlcyxvcHRpb25zKXt2YXIgYXR0cnM9YXR0cmlidXRlc3x8e307b3B0aW9uc3x8KG9wdGlvbnM9e30pLHRoaXMuY2lkPV8udW5pcXVlSWQoImMiKSx0aGlzLmF0dHJpYnV0ZXM9e30sb3B0aW9ucy5jb2xsZWN0aW9uJiYodGhpcy5jb2xsZWN0aW9uPW9wdGlvbnMuY29sbGVjdGlvbiksb3B0aW9ucy5wYXJzZSYmKGF0dHJzPXRoaXMucGFyc2UoYXR0cnMsb3B0aW9ucyl8fHt9KSxhdHRycz1fLmRlZmF1bHRzKHt9LGF0dHJzLF8ucmVzdWx0KHRoaXMsImRlZmF1bHRzIikpLHRoaXMuc2V0KGF0dHJzLG9wdGlvbnMpLHRoaXMuY2hhbmdlZD17fSx0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtfLmV4dGVuZChNb2RlbC5wcm90b3R5cGUsRXZlbnRzLHtjaGFuZ2VkOm51bGwsdmFsaWRhdGlvbkVycm9yOm51bGwsaWRBdHRyaWJ1dGU6ImlkIixpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpfSxzeW5jOmZ1bmN0aW9uKCl7cmV0dXJuIEJhY2tib25lLnN5bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnZXQ6ZnVuY3Rpb24oYXR0cil7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thdHRyXX0sZXNjYXBlOmZ1bmN0aW9uKGF0dHIpe3JldHVybiBfLmVzY2FwZSh0aGlzLmdldChhdHRyKSl9LGhhczpmdW5jdGlvbihhdHRyKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXQoYXR0cil9LHNldDpmdW5jdGlvbihrZXksdmFsLG9wdGlvbnMpe3ZhciBhdHRyLGF0dHJzLHVuc2V0LGNoYW5nZXMsc2lsZW50LGNoYW5naW5nLHByZXYsY3VycmVudDtpZihudWxsPT1rZXkpcmV0dXJuIHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBrZXk/KGF0dHJzPWtleSxvcHRpb25zPXZhbCk6KGF0dHJzPXt9KVtrZXldPXZhbCxvcHRpb25zfHwob3B0aW9ucz17fSksIXRoaXMuX3ZhbGlkYXRlKGF0dHJzLG9wdGlvbnMpKXJldHVybiExO3Vuc2V0PW9wdGlvbnMudW5zZXQsc2lsZW50PW9wdGlvbnMuc2lsZW50LGNoYW5nZXM9W10sY2hhbmdpbmc9dGhpcy5fY2hhbmdpbmcsdGhpcy5fY2hhbmdpbmc9ITAsY2hhbmdpbmd8fCh0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXM9Xy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpLHRoaXMuY2hhbmdlZD17fSksY3VycmVudD10aGlzLmF0dHJpYnV0ZXMscHJldj10aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMsdGhpcy5pZEF0dHJpYnV0ZSBpbiBhdHRycyYmKHRoaXMuaWQ9YXR0cnNbdGhpcy5pZEF0dHJpYnV0ZV0pO2ZvcihhdHRyIGluIGF0dHJzKXZhbD1hdHRyc1thdHRyXSxfLmlzRXF1YWwoY3VycmVudFthdHRyXSx2YWwpfHxjaGFuZ2VzLnB1c2goYXR0ciksXy5pc0VxdWFsKHByZXZbYXR0cl0sdmFsKT9kZWxldGUgdGhpcy5jaGFuZ2VkW2F0dHJdOnRoaXMuY2hhbmdlZFthdHRyXT12YWwsdW5zZXQ/ZGVsZXRlIGN1cnJlbnRbYXR0cl06Y3VycmVudFthdHRyXT12YWw7aWYoIXNpbGVudCl7Y2hhbmdlcy5sZW5ndGgmJih0aGlzLl9wZW5kaW5nPW9wdGlvbnMpO2Zvcih2YXIgaT0wLGw9Y2hhbmdlcy5sZW5ndGg7bD5pO2krKyl0aGlzLnRyaWdnZXIoImNoYW5nZToiK2NoYW5nZXNbaV0sdGhpcyxjdXJyZW50W2NoYW5nZXNbaV1dLG9wdGlvbnMpfWlmKGNoYW5naW5nKXJldHVybiB0aGlzO2lmKCFzaWxlbnQpZm9yKDt0aGlzLl9wZW5kaW5nOylvcHRpb25zPXRoaXMuX3BlbmRpbmcsdGhpcy5fcGVuZGluZz0hMSx0aGlzLnRyaWdnZXIoImNoYW5nZSIsdGhpcyxvcHRpb25zKTtyZXR1cm4gdGhpcy5fcGVuZGluZz0hMSx0aGlzLl9jaGFuZ2luZz0hMSx0aGlzfSx1bnNldDpmdW5jdGlvbihhdHRyLG9wdGlvbnMpe3JldHVybiB0aGlzLnNldChhdHRyLHZvaWQgMCxfLmV4dGVuZCh7fSxvcHRpb25zLHt1bnNldDohMH0pKX0sY2xlYXI6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIGF0dHJzPXt9O2Zvcih2YXIga2V5IGluIHRoaXMuYXR0cmlidXRlcylhdHRyc1trZXldPXZvaWQgMDtyZXR1cm4gdGhpcy5zZXQoYXR0cnMsXy5leHRlbmQoe30sb3B0aW9ucyx7dW5zZXQ6ITB9KSl9LGhhc0NoYW5nZWQ6ZnVuY3Rpb24oYXR0cil7cmV0dXJuIG51bGw9PWF0dHI/IV8uaXNFbXB0eSh0aGlzLmNoYW5nZWQpOl8uaGFzKHRoaXMuY2hhbmdlZCxhdHRyKX0sY2hhbmdlZEF0dHJpYnV0ZXM6ZnVuY3Rpb24oZGlmZil7aWYoIWRpZmYpcmV0dXJuIHRoaXMuaGFzQ2hhbmdlZCgpP18uY2xvbmUodGhpcy5jaGFuZ2VkKTohMTt2YXIgdmFsLGNoYW5nZWQ9ITEsb2xkPXRoaXMuX2NoYW5naW5nP3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXM7Zm9yKHZhciBhdHRyIGluIGRpZmYpXy5pc0VxdWFsKG9sZFthdHRyXSx2YWw9ZGlmZlthdHRyXSl8fCgoY2hhbmdlZHx8KGNoYW5nZWQ9e30pKVthdHRyXT12YWwpO3JldHVybiBjaGFuZ2VkfSxwcmV2aW91czpmdW5jdGlvbihhdHRyKXtyZXR1cm4gbnVsbCE9YXR0ciYmdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzP3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlc1thdHRyXTpudWxsfSxwcmV2aW91c0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gXy5jbG9uZSh0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMpfSxmZXRjaDpmdW5jdGlvbihvcHRpb25zKXtvcHRpb25zPW9wdGlvbnM/Xy5jbG9uZShvcHRpb25zKTp7fSx2b2lkIDA9PT1vcHRpb25zLnBhcnNlJiYob3B0aW9ucy5wYXJzZT0hMCk7dmFyIG1vZGVsPXRoaXMsc3VjY2Vzcz1vcHRpb25zLnN1Y2Nlc3M7cmV0dXJuIG9wdGlvbnMuc3VjY2Vzcz1mdW5jdGlvbihyZXNwKXtyZXR1cm4gbW9kZWwuc2V0KG1vZGVsLnBhcnNlKHJlc3Asb3B0aW9ucyksb3B0aW9ucyk/KHN1Y2Nlc3MmJnN1Y2Nlc3MobW9kZWwscmVzcCxvcHRpb25zKSx2b2lkIG1vZGVsLnRyaWdnZXIoInN5bmMiLG1vZGVsLHJlc3Asb3B0aW9ucykpOiExfSx3cmFwRXJyb3IodGhpcyxvcHRpb25zKSx0aGlzLnN5bmMoInJlYWQiLHRoaXMsb3B0aW9ucyl9LHNhdmU6ZnVuY3Rpb24oa2V5LHZhbCxvcHRpb25zKXt2YXIgYXR0cnMsbWV0aG9kLHhocixhdHRyaWJ1dGVzPXRoaXMuYXR0cmlidXRlcztpZihudWxsPT1rZXl8fCJvYmplY3QiPT10eXBlb2Yga2V5PyhhdHRycz1rZXksb3B0aW9ucz12YWwpOihhdHRycz17fSlba2V5XT12YWwsb3B0aW9ucz1fLmV4dGVuZCh7dmFsaWRhdGU6ITB9LG9wdGlvbnMpLGF0dHJzJiYhb3B0aW9ucy53YWl0KXtpZighdGhpcy5zZXQoYXR0cnMsb3B0aW9ucykpcmV0dXJuITF9ZWxzZSBpZighdGhpcy5fdmFsaWRhdGUoYXR0cnMsb3B0aW9ucykpcmV0dXJuITE7YXR0cnMmJm9wdGlvbnMud2FpdCYmKHRoaXMuYXR0cmlidXRlcz1fLmV4dGVuZCh7fSxhdHRyaWJ1dGVzLGF0dHJzKSksdm9pZCAwPT09b3B0aW9ucy5wYXJzZSYmKG9wdGlvbnMucGFyc2U9ITApO3ZhciBtb2RlbD10aGlzLHN1Y2Nlc3M9b3B0aW9ucy5zdWNjZXNzO3JldHVybiBvcHRpb25zLnN1Y2Nlc3M9ZnVuY3Rpb24ocmVzcCl7bW9kZWwuYXR0cmlidXRlcz1hdHRyaWJ1dGVzO3ZhciBzZXJ2ZXJBdHRycz1tb2RlbC5wYXJzZShyZXNwLG9wdGlvbnMpO3JldHVybiBvcHRpb25zLndhaXQmJihzZXJ2ZXJBdHRycz1fLmV4dGVuZChhdHRyc3x8e30sc2VydmVyQXR0cnMpKSxfLmlzT2JqZWN0KHNlcnZlckF0dHJzKSYmIW1vZGVsLnNldChzZXJ2ZXJBdHRycyxvcHRpb25zKT8hMTooc3VjY2VzcyYmc3VjY2Vzcyhtb2RlbCxyZXNwLG9wdGlvbnMpLHZvaWQgbW9kZWwudHJpZ2dlcigic3luYyIsbW9kZWwscmVzcCxvcHRpb25zKSl9LHdyYXBFcnJvcih0aGlzLG9wdGlvbnMpLG1ldGhvZD10aGlzLmlzTmV3KCk/ImNyZWF0ZSI6b3B0aW9ucy5wYXRjaD8icGF0Y2giOiJ1cGRhdGUiLCJwYXRjaCI9PT1tZXRob2QmJihvcHRpb25zLmF0dHJzPWF0dHJzKSx4aHI9dGhpcy5zeW5jKG1ldGhvZCx0aGlzLG9wdGlvbnMpLGF0dHJzJiZvcHRpb25zLndhaXQmJih0aGlzLmF0dHJpYnV0ZXM9YXR0cmlidXRlcykseGhyfSxkZXN0cm95OmZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnM9b3B0aW9ucz9fLmNsb25lKG9wdGlvbnMpOnt9O3ZhciBtb2RlbD10aGlzLHN1Y2Nlc3M9b3B0aW9ucy5zdWNjZXNzLGRlc3Ryb3k9ZnVuY3Rpb24oKXttb2RlbC50cmlnZ2VyKCJkZXN0cm95Iixtb2RlbCxtb2RlbC5jb2xsZWN0aW9uLG9wdGlvbnMpfTtpZihvcHRpb25zLnN1Y2Nlc3M9ZnVuY3Rpb24ocmVzcCl7KG9wdGlvbnMud2FpdHx8bW9kZWwuaXNOZXcoKSkmJmRlc3Ryb3koKSxzdWNjZXNzJiZzdWNjZXNzKG1vZGVsLHJlc3Asb3B0aW9ucyksbW9kZWwuaXNOZXcoKXx8bW9kZWwudHJpZ2dlcigic3luYyIsbW9kZWwscmVzcCxvcHRpb25zKX0sdGhpcy5pc05ldygpKXJldHVybiBvcHRpb25zLnN1Y2Nlc3MoKSwhMTt3cmFwRXJyb3IodGhpcyxvcHRpb25zKTt2YXIgeGhyPXRoaXMuc3luYygiZGVsZXRlIix0aGlzLG9wdGlvbnMpO3JldHVybiBvcHRpb25zLndhaXR8fGRlc3Ryb3koKSx4aHJ9LHVybDpmdW5jdGlvbigpe3ZhciBiYXNlPV8ucmVzdWx0KHRoaXMsInVybFJvb3QiKXx8Xy5yZXN1bHQodGhpcy5jb2xsZWN0aW9uLCJ1cmwiKXx8dXJsRXJyb3IoKTtyZXR1cm4gdGhpcy5pc05ldygpP2Jhc2U6YmFzZS5yZXBsYWNlKC8oW15cL10pJC8sIiQxLyIpK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmlkKX0scGFyc2U6ZnVuY3Rpb24ocmVzcCl7cmV0dXJuIHJlc3B9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyl9LGlzTmV3OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaGFzKHRoaXMuaWRBdHRyaWJ1dGUpfSxpc1ZhbGlkOmZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLl92YWxpZGF0ZSh7fSxfLmV4dGVuZChvcHRpb25zfHx7fSx7dmFsaWRhdGU6ITB9KSl9LF92YWxpZGF0ZTpmdW5jdGlvbihhdHRycyxvcHRpb25zKXtpZighb3B0aW9ucy52YWxpZGF0ZXx8IXRoaXMudmFsaWRhdGUpcmV0dXJuITA7YXR0cnM9Xy5leHRlbmQoe30sdGhpcy5hdHRyaWJ1dGVzLGF0dHJzKTt2YXIgZXJyb3I9dGhpcy52YWxpZGF0aW9uRXJyb3I9dGhpcy52YWxpZGF0ZShhdHRycyxvcHRpb25zKXx8bnVsbDtyZXR1cm4gZXJyb3I/KHRoaXMudHJpZ2dlcigiaW52YWxpZCIsdGhpcyxlcnJvcixfLmV4dGVuZChvcHRpb25zLHt2YWxpZGF0aW9uRXJyb3I6ZXJyb3J9KSksITEpOiEwfX0pO3ZhciBtb2RlbE1ldGhvZHM9WyJrZXlzIiwidmFsdWVzIiwicGFpcnMiLCJpbnZlcnQiLCJwaWNrIiwib21pdCJdO18uZWFjaChtb2RlbE1ldGhvZHMsZnVuY3Rpb24obWV0aG9kKXtNb2RlbC5wcm90b3R5cGVbbWV0aG9kXT1mdW5jdGlvbigpe3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gYXJncy51bnNoaWZ0KHRoaXMuYXR0cmlidXRlcyksX1ttZXRob2RdLmFwcGx5KF8sYXJncyl9fSk7dmFyIENvbGxlY3Rpb249QmFja2JvbmUuQ29sbGVjdGlvbj1mdW5jdGlvbihtb2RlbHMsb3B0aW9ucyl7b3B0aW9uc3x8KG9wdGlvbnM9e30pLG9wdGlvbnMubW9kZWwmJih0aGlzLm1vZGVsPW9wdGlvbnMubW9kZWwpLHZvaWQgMCE9PW9wdGlvbnMuY29tcGFyYXRvciYmKHRoaXMuY29tcGFyYXRvcj1vcHRpb25zLmNvbXBhcmF0b3IpLHRoaXMuX3Jlc2V0KCksdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxtb2RlbHMmJnRoaXMucmVzZXQobW9kZWxzLF8uZXh0ZW5kKHtzaWxlbnQ6ITB9LG9wdGlvbnMpKX0sc2V0T3B0aW9ucz17YWRkOiEwLHJlbW92ZTohMCxtZXJnZTohMH0sYWRkT3B0aW9ucz17YWRkOiEwLHJlbW92ZTohMX07Xy5leHRlbmQoQ29sbGVjdGlvbi5wcm90b3R5cGUsRXZlbnRzLHttb2RlbDpNb2RlbCxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKG1vZGVsKXtyZXR1cm4gbW9kZWwudG9KU09OKG9wdGlvbnMpfSl9LHN5bmM6ZnVuY3Rpb24oKXtyZXR1cm4gQmFja2JvbmUuc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFkZDpmdW5jdGlvbihtb2RlbHMsb3B0aW9ucyl7cmV0dXJuIHRoaXMuc2V0KG1vZGVscyxfLmV4dGVuZCh7bWVyZ2U6ITF9LG9wdGlvbnMsYWRkT3B0aW9ucykpfSxyZW1vdmU6ZnVuY3Rpb24obW9kZWxzLG9wdGlvbnMpe3ZhciBzaW5ndWxhcj0hXy5pc0FycmF5KG1vZGVscyk7bW9kZWxzPXNpbmd1bGFyP1ttb2RlbHNdOl8uY2xvbmUobW9kZWxzKSxvcHRpb25zfHwob3B0aW9ucz17fSk7dmFyIGksbCxpbmRleCxtb2RlbDtmb3IoaT0wLGw9bW9kZWxzLmxlbmd0aDtsPmk7aSsrKW1vZGVsPW1vZGVsc1tpXT10aGlzLmdldChtb2RlbHNbaV0pLG1vZGVsJiYoZGVsZXRlIHRoaXMuX2J5SWRbbW9kZWwuaWRdLGRlbGV0ZSB0aGlzLl9ieUlkW21vZGVsLmNpZF0saW5kZXg9dGhpcy5pbmRleE9mKG1vZGVsKSx0aGlzLm1vZGVscy5zcGxpY2UoaW5kZXgsMSksdGhpcy5sZW5ndGgtLSxvcHRpb25zLnNpbGVudHx8KG9wdGlvbnMuaW5kZXg9aW5kZXgsbW9kZWwudHJpZ2dlcigicmVtb3ZlIixtb2RlbCx0aGlzLG9wdGlvbnMpKSx0aGlzLl9yZW1vdmVSZWZlcmVuY2UobW9kZWwsb3B0aW9ucykpO3JldHVybiBzaW5ndWxhcj9tb2RlbHNbMF06bW9kZWxzfSxzZXQ6ZnVuY3Rpb24obW9kZWxzLG9wdGlvbnMpe29wdGlvbnM9Xy5kZWZhdWx0cyh7fSxvcHRpb25zLHNldE9wdGlvbnMpLG9wdGlvbnMucGFyc2UmJihtb2RlbHM9dGhpcy5wYXJzZShtb2RlbHMsb3B0aW9ucykpO3ZhciBzaW5ndWxhcj0hXy5pc0FycmF5KG1vZGVscyk7bW9kZWxzPXNpbmd1bGFyP21vZGVscz9bbW9kZWxzXTpbXTpfLmNsb25lKG1vZGVscyk7dmFyIGksbCxpZCxtb2RlbCxhdHRycyxleGlzdGluZyxzb3J0LGF0PW9wdGlvbnMuYXQsdGFyZ2V0TW9kZWw9dGhpcy5tb2RlbCxzb3J0YWJsZT10aGlzLmNvbXBhcmF0b3ImJm51bGw9PWF0JiZvcHRpb25zLnNvcnQhPT0hMSxzb3J0QXR0cj1fLmlzU3RyaW5nKHRoaXMuY29tcGFyYXRvcik/dGhpcy5jb21wYXJhdG9yOm51bGwsdG9BZGQ9W10sdG9SZW1vdmU9W10sbW9kZWxNYXA9e30sYWRkPW9wdGlvbnMuYWRkLG1lcmdlPW9wdGlvbnMubWVyZ2UscmVtb3ZlPW9wdGlvbnMucmVtb3ZlLG9yZGVyPSFzb3J0YWJsZSYmYWRkJiZyZW1vdmU/W106ITE7Zm9yKGk9MCxsPW1vZGVscy5sZW5ndGg7bD5pO2krKyl7aWYoYXR0cnM9bW9kZWxzW2ldfHx7fSxpZD1hdHRycyBpbnN0YW5jZW9mIE1vZGVsP21vZGVsPWF0dHJzOmF0dHJzW3RhcmdldE1vZGVsLnByb3RvdHlwZS5pZEF0dHJpYnV0ZXx8ImlkIl0sZXhpc3Rpbmc9dGhpcy5nZXQoaWQpKXJlbW92ZSYmKG1vZGVsTWFwW2V4aXN0aW5nLmNpZF09ITApLG1lcmdlJiYoYXR0cnM9YXR0cnM9PT1tb2RlbD9tb2RlbC5hdHRyaWJ1dGVzOmF0dHJzLG9wdGlvbnMucGFyc2UmJihhdHRycz1leGlzdGluZy5wYXJzZShhdHRycyxvcHRpb25zKSksZXhpc3Rpbmcuc2V0KGF0dHJzLG9wdGlvbnMpLHNvcnRhYmxlJiYhc29ydCYmZXhpc3RpbmcuaGFzQ2hhbmdlZChzb3J0QXR0cikmJihzb3J0PSEwKSksbW9kZWxzW2ldPWV4aXN0aW5nO2Vsc2UgaWYoYWRkKXtpZihtb2RlbD1tb2RlbHNbaV09dGhpcy5fcHJlcGFyZU1vZGVsKGF0dHJzLG9wdGlvbnMpLCFtb2RlbCljb250aW51ZTt0b0FkZC5wdXNoKG1vZGVsKSx0aGlzLl9hZGRSZWZlcmVuY2UobW9kZWwsb3B0aW9ucyl9bW9kZWw9ZXhpc3Rpbmd8fG1vZGVsLCFvcmRlcnx8IW1vZGVsLmlzTmV3KCkmJm1vZGVsTWFwW21vZGVsLmlkXXx8b3JkZXIucHVzaChtb2RlbCksbW9kZWxNYXBbbW9kZWwuaWRdPSEwfWlmKHJlbW92ZSl7Zm9yKGk9MCxsPXRoaXMubGVuZ3RoO2w+aTsrK2kpbW9kZWxNYXBbKG1vZGVsPXRoaXMubW9kZWxzW2ldKS5jaWRdfHx0b1JlbW92ZS5wdXNoKG1vZGVsKTt0b1JlbW92ZS5sZW5ndGgmJnRoaXMucmVtb3ZlKHRvUmVtb3ZlLG9wdGlvbnMpfWlmKHRvQWRkLmxlbmd0aHx8b3JkZXImJm9yZGVyLmxlbmd0aClpZihzb3J0YWJsZSYmKHNvcnQ9ITApLHRoaXMubGVuZ3RoKz10b0FkZC5sZW5ndGgsbnVsbCE9YXQpZm9yKGk9MCxsPXRvQWRkLmxlbmd0aDtsPmk7aSsrKXRoaXMubW9kZWxzLnNwbGljZShhdCtpLDAsdG9BZGRbaV0pO2Vsc2V7b3JkZXImJih0aGlzLm1vZGVscy5sZW5ndGg9MCk7dmFyIG9yZGVyZWRNb2RlbHM9b3JkZXJ8fHRvQWRkO2ZvcihpPTAsbD1vcmRlcmVkTW9kZWxzLmxlbmd0aDtsPmk7aSsrKXRoaXMubW9kZWxzLnB1c2gob3JkZXJlZE1vZGVsc1tpXSkKfWlmKHNvcnQmJnRoaXMuc29ydCh7c2lsZW50OiEwfSksIW9wdGlvbnMuc2lsZW50KXtmb3IoaT0wLGw9dG9BZGQubGVuZ3RoO2w+aTtpKyspKG1vZGVsPXRvQWRkW2ldKS50cmlnZ2VyKCJhZGQiLG1vZGVsLHRoaXMsb3B0aW9ucyk7KHNvcnR8fG9yZGVyJiZvcmRlci5sZW5ndGgpJiZ0aGlzLnRyaWdnZXIoInNvcnQiLHRoaXMsb3B0aW9ucyl9cmV0dXJuIHNpbmd1bGFyP21vZGVsc1swXTptb2RlbHN9LHJlc2V0OmZ1bmN0aW9uKG1vZGVscyxvcHRpb25zKXtvcHRpb25zfHwob3B0aW9ucz17fSk7Zm9yKHZhciBpPTAsbD10aGlzLm1vZGVscy5sZW5ndGg7bD5pO2krKyl0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbaV0sb3B0aW9ucyk7cmV0dXJuIG9wdGlvbnMucHJldmlvdXNNb2RlbHM9dGhpcy5tb2RlbHMsdGhpcy5fcmVzZXQoKSxtb2RlbHM9dGhpcy5hZGQobW9kZWxzLF8uZXh0ZW5kKHtzaWxlbnQ6ITB9LG9wdGlvbnMpKSxvcHRpb25zLnNpbGVudHx8dGhpcy50cmlnZ2VyKCJyZXNldCIsdGhpcyxvcHRpb25zKSxtb2RlbHN9LHB1c2g6ZnVuY3Rpb24obW9kZWwsb3B0aW9ucyl7cmV0dXJuIHRoaXMuYWRkKG1vZGVsLF8uZXh0ZW5kKHthdDp0aGlzLmxlbmd0aH0sb3B0aW9ucykpfSxwb3A6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIG1vZGVsPXRoaXMuYXQodGhpcy5sZW5ndGgtMSk7cmV0dXJuIHRoaXMucmVtb3ZlKG1vZGVsLG9wdGlvbnMpLG1vZGVsfSx1bnNoaWZ0OmZ1bmN0aW9uKG1vZGVsLG9wdGlvbnMpe3JldHVybiB0aGlzLmFkZChtb2RlbCxfLmV4dGVuZCh7YXQ6MH0sb3B0aW9ucykpfSxzaGlmdDpmdW5jdGlvbihvcHRpb25zKXt2YXIgbW9kZWw9dGhpcy5hdCgwKTtyZXR1cm4gdGhpcy5yZW1vdmUobW9kZWwsb3B0aW9ucyksbW9kZWx9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHNsaWNlLmFwcGx5KHRoaXMubW9kZWxzLGFyZ3VtZW50cyl9LGdldDpmdW5jdGlvbihvYmope3JldHVybiBudWxsPT1vYmo/dm9pZCAwOnRoaXMuX2J5SWRbb2JqXXx8dGhpcy5fYnlJZFtvYmouaWRdfHx0aGlzLl9ieUlkW29iai5jaWRdfSxhdDpmdW5jdGlvbihpbmRleCl7cmV0dXJuIHRoaXMubW9kZWxzW2luZGV4XX0sd2hlcmU6ZnVuY3Rpb24oYXR0cnMsZmlyc3Qpe3JldHVybiBfLmlzRW1wdHkoYXR0cnMpP2ZpcnN0P3ZvaWQgMDpbXTp0aGlzW2ZpcnN0PyJmaW5kIjoiZmlsdGVyIl0oZnVuY3Rpb24obW9kZWwpe2Zvcih2YXIga2V5IGluIGF0dHJzKWlmKGF0dHJzW2tleV0hPT1tb2RlbC5nZXQoa2V5KSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxmaW5kV2hlcmU6ZnVuY3Rpb24oYXR0cnMpe3JldHVybiB0aGlzLndoZXJlKGF0dHJzLCEwKX0sc29ydDpmdW5jdGlvbihvcHRpb25zKXtpZighdGhpcy5jb21wYXJhdG9yKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNvcnQgYSBzZXQgd2l0aG91dCBhIGNvbXBhcmF0b3IiKTtyZXR1cm4gb3B0aW9uc3x8KG9wdGlvbnM9e30pLF8uaXNTdHJpbmcodGhpcy5jb21wYXJhdG9yKXx8MT09PXRoaXMuY29tcGFyYXRvci5sZW5ndGg/dGhpcy5tb2RlbHM9dGhpcy5zb3J0QnkodGhpcy5jb21wYXJhdG9yLHRoaXMpOnRoaXMubW9kZWxzLnNvcnQoXy5iaW5kKHRoaXMuY29tcGFyYXRvcix0aGlzKSksb3B0aW9ucy5zaWxlbnR8fHRoaXMudHJpZ2dlcigic29ydCIsdGhpcyxvcHRpb25zKSx0aGlzfSxwbHVjazpmdW5jdGlvbihhdHRyKXtyZXR1cm4gXy5pbnZva2UodGhpcy5tb2RlbHMsImdldCIsYXR0cil9LGZldGNoOmZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnM9b3B0aW9ucz9fLmNsb25lKG9wdGlvbnMpOnt9LHZvaWQgMD09PW9wdGlvbnMucGFyc2UmJihvcHRpb25zLnBhcnNlPSEwKTt2YXIgc3VjY2Vzcz1vcHRpb25zLnN1Y2Nlc3MsY29sbGVjdGlvbj10aGlzO3JldHVybiBvcHRpb25zLnN1Y2Nlc3M9ZnVuY3Rpb24ocmVzcCl7dmFyIG1ldGhvZD1vcHRpb25zLnJlc2V0PyJyZXNldCI6InNldCI7Y29sbGVjdGlvblttZXRob2RdKHJlc3Asb3B0aW9ucyksc3VjY2VzcyYmc3VjY2Vzcyhjb2xsZWN0aW9uLHJlc3Asb3B0aW9ucyksY29sbGVjdGlvbi50cmlnZ2VyKCJzeW5jIixjb2xsZWN0aW9uLHJlc3Asb3B0aW9ucyl9LHdyYXBFcnJvcih0aGlzLG9wdGlvbnMpLHRoaXMuc3luYygicmVhZCIsdGhpcyxvcHRpb25zKX0sY3JlYXRlOmZ1bmN0aW9uKG1vZGVsLG9wdGlvbnMpe2lmKG9wdGlvbnM9b3B0aW9ucz9fLmNsb25lKG9wdGlvbnMpOnt9LCEobW9kZWw9dGhpcy5fcHJlcGFyZU1vZGVsKG1vZGVsLG9wdGlvbnMpKSlyZXR1cm4hMTtvcHRpb25zLndhaXR8fHRoaXMuYWRkKG1vZGVsLG9wdGlvbnMpO3ZhciBjb2xsZWN0aW9uPXRoaXMsc3VjY2Vzcz1vcHRpb25zLnN1Y2Nlc3M7cmV0dXJuIG9wdGlvbnMuc3VjY2Vzcz1mdW5jdGlvbihtb2RlbCxyZXNwKXtvcHRpb25zLndhaXQmJmNvbGxlY3Rpb24uYWRkKG1vZGVsLG9wdGlvbnMpLHN1Y2Nlc3MmJnN1Y2Nlc3MobW9kZWwscmVzcCxvcHRpb25zKX0sbW9kZWwuc2F2ZShudWxsLG9wdGlvbnMpLG1vZGVsfSxwYXJzZTpmdW5jdGlvbihyZXNwKXtyZXR1cm4gcmVzcH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5tb2RlbHMpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wLHRoaXMubW9kZWxzPVtdLHRoaXMuX2J5SWQ9e319LF9wcmVwYXJlTW9kZWw6ZnVuY3Rpb24oYXR0cnMsb3B0aW9ucyl7aWYoYXR0cnMgaW5zdGFuY2VvZiBNb2RlbClyZXR1cm4gYXR0cnM7b3B0aW9ucz1vcHRpb25zP18uY2xvbmUob3B0aW9ucyk6e30sb3B0aW9ucy5jb2xsZWN0aW9uPXRoaXM7dmFyIG1vZGVsPW5ldyB0aGlzLm1vZGVsKGF0dHJzLG9wdGlvbnMpO3JldHVybiBtb2RlbC52YWxpZGF0aW9uRXJyb3I/KHRoaXMudHJpZ2dlcigiaW52YWxpZCIsdGhpcyxtb2RlbC52YWxpZGF0aW9uRXJyb3Isb3B0aW9ucyksITEpOm1vZGVsfSxfYWRkUmVmZXJlbmNlOmZ1bmN0aW9uKG1vZGVsKXt0aGlzLl9ieUlkW21vZGVsLmNpZF09bW9kZWwsbnVsbCE9bW9kZWwuaWQmJih0aGlzLl9ieUlkW21vZGVsLmlkXT1tb2RlbCksbW9kZWwuY29sbGVjdGlvbnx8KG1vZGVsLmNvbGxlY3Rpb249dGhpcyksbW9kZWwub24oImFsbCIsdGhpcy5fb25Nb2RlbEV2ZW50LHRoaXMpfSxfcmVtb3ZlUmVmZXJlbmNlOmZ1bmN0aW9uKG1vZGVsKXt0aGlzPT09bW9kZWwuY29sbGVjdGlvbiYmZGVsZXRlIG1vZGVsLmNvbGxlY3Rpb24sbW9kZWwub2ZmKCJhbGwiLHRoaXMuX29uTW9kZWxFdmVudCx0aGlzKX0sX29uTW9kZWxFdmVudDpmdW5jdGlvbihldmVudCxtb2RlbCxjb2xsZWN0aW9uLG9wdGlvbnMpeygiYWRkIiE9PWV2ZW50JiYicmVtb3ZlIiE9PWV2ZW50fHxjb2xsZWN0aW9uPT09dGhpcykmJigiZGVzdHJveSI9PT1ldmVudCYmdGhpcy5yZW1vdmUobW9kZWwsb3B0aW9ucyksbW9kZWwmJmV2ZW50PT09ImNoYW5nZToiK21vZGVsLmlkQXR0cmlidXRlJiYoZGVsZXRlIHRoaXMuX2J5SWRbbW9kZWwucHJldmlvdXMobW9kZWwuaWRBdHRyaWJ1dGUpXSxudWxsIT1tb2RlbC5pZCYmKHRoaXMuX2J5SWRbbW9kZWwuaWRdPW1vZGVsKSksdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fSk7dmFyIG1ldGhvZHM9WyJmb3JFYWNoIiwiZWFjaCIsIm1hcCIsImNvbGxlY3QiLCJyZWR1Y2UiLCJmb2xkbCIsImluamVjdCIsInJlZHVjZVJpZ2h0IiwiZm9sZHIiLCJmaW5kIiwiZGV0ZWN0IiwiZmlsdGVyIiwic2VsZWN0IiwicmVqZWN0IiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiaW5jbHVkZSIsImNvbnRhaW5zIiwiaW52b2tlIiwibWF4IiwibWluIiwidG9BcnJheSIsInNpemUiLCJmaXJzdCIsImhlYWQiLCJ0YWtlIiwiaW5pdGlhbCIsInJlc3QiLCJ0YWlsIiwiZHJvcCIsImxhc3QiLCJ3aXRob3V0IiwiZGlmZmVyZW5jZSIsImluZGV4T2YiLCJzaHVmZmxlIiwibGFzdEluZGV4T2YiLCJpc0VtcHR5IiwiY2hhaW4iLCJzYW1wbGUiXTtfLmVhY2gobWV0aG9kcyxmdW5jdGlvbihtZXRob2Qpe0NvbGxlY3Rpb24ucHJvdG90eXBlW21ldGhvZF09ZnVuY3Rpb24oKXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGFyZ3MudW5zaGlmdCh0aGlzLm1vZGVscyksX1ttZXRob2RdLmFwcGx5KF8sYXJncyl9fSk7dmFyIGF0dHJpYnV0ZU1ldGhvZHM9WyJncm91cEJ5IiwiY291bnRCeSIsInNvcnRCeSIsImluZGV4QnkiXTtfLmVhY2goYXR0cmlidXRlTWV0aG9kcyxmdW5jdGlvbihtZXRob2Qpe0NvbGxlY3Rpb24ucHJvdG90eXBlW21ldGhvZF09ZnVuY3Rpb24odmFsdWUsY29udGV4dCl7dmFyIGl0ZXJhdG9yPV8uaXNGdW5jdGlvbih2YWx1ZSk/dmFsdWU6ZnVuY3Rpb24obW9kZWwpe3JldHVybiBtb2RlbC5nZXQodmFsdWUpfTtyZXR1cm4gX1ttZXRob2RdKHRoaXMubW9kZWxzLGl0ZXJhdG9yLGNvbnRleHQpfX0pO3ZhciBWaWV3PUJhY2tib25lLlZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5jaWQ9Xy51bmlxdWVJZCgidmlldyIpLG9wdGlvbnN8fChvcHRpb25zPXt9KSxfLmV4dGVuZCh0aGlzLF8ucGljayhvcHRpb25zLHZpZXdPcHRpb25zKSksdGhpcy5fZW5zdXJlRWxlbWVudCgpLHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5kZWxlZ2F0ZUV2ZW50cygpfSxkZWxlZ2F0ZUV2ZW50U3BsaXR0ZXI9L14oXFMrKVxzKiguKikkLyx2aWV3T3B0aW9ucz1bIm1vZGVsIiwiY29sbGVjdGlvbiIsImVsIiwiaWQiLCJhdHRyaWJ1dGVzIiwiY2xhc3NOYW1lIiwidGFnTmFtZSIsImV2ZW50cyJdO18uZXh0ZW5kKFZpZXcucHJvdG90eXBlLEV2ZW50cyx7dGFnTmFtZToiZGl2IiwkOmZ1bmN0aW9uKHNlbGVjdG9yKXtyZXR1cm4gdGhpcy4kZWwuZmluZChzZWxlY3Rvcil9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWwucmVtb3ZlKCksdGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpc30sc2V0RWxlbWVudDpmdW5jdGlvbihlbGVtZW50LGRlbGVnYXRlKXtyZXR1cm4gdGhpcy4kZWwmJnRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpLHRoaXMuJGVsPWVsZW1lbnQgaW5zdGFuY2VvZiBCYWNrYm9uZS4kP2VsZW1lbnQ6QmFja2JvbmUuJChlbGVtZW50KSx0aGlzLmVsPXRoaXMuJGVsWzBdLGRlbGVnYXRlIT09ITEmJnRoaXMuZGVsZWdhdGVFdmVudHMoKSx0aGlzfSxkZWxlZ2F0ZUV2ZW50czpmdW5jdGlvbihldmVudHMpe2lmKCFldmVudHMmJiEoZXZlbnRzPV8ucmVzdWx0KHRoaXMsImV2ZW50cyIpKSlyZXR1cm4gdGhpczt0aGlzLnVuZGVsZWdhdGVFdmVudHMoKTtmb3IodmFyIGtleSBpbiBldmVudHMpe3ZhciBtZXRob2Q9ZXZlbnRzW2tleV07aWYoXy5pc0Z1bmN0aW9uKG1ldGhvZCl8fChtZXRob2Q9dGhpc1tldmVudHNba2V5XV0pLG1ldGhvZCl7dmFyIG1hdGNoPWtleS5tYXRjaChkZWxlZ2F0ZUV2ZW50U3BsaXR0ZXIpLGV2ZW50TmFtZT1tYXRjaFsxXSxzZWxlY3Rvcj1tYXRjaFsyXTttZXRob2Q9Xy5iaW5kKG1ldGhvZCx0aGlzKSxldmVudE5hbWUrPSIuZGVsZWdhdGVFdmVudHMiK3RoaXMuY2lkLCIiPT09c2VsZWN0b3I/dGhpcy4kZWwub24oZXZlbnROYW1lLG1ldGhvZCk6dGhpcy4kZWwub24oZXZlbnROYW1lLHNlbGVjdG9yLG1ldGhvZCl9fXJldHVybiB0aGlzfSx1bmRlbGVnYXRlRXZlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsLm9mZigiLmRlbGVnYXRlRXZlbnRzIit0aGlzLmNpZCksdGhpc30sX2Vuc3VyZUVsZW1lbnQ6ZnVuY3Rpb24oKXtpZih0aGlzLmVsKXRoaXMuc2V0RWxlbWVudChfLnJlc3VsdCh0aGlzLCJlbCIpLCExKTtlbHNle3ZhciBhdHRycz1fLmV4dGVuZCh7fSxfLnJlc3VsdCh0aGlzLCJhdHRyaWJ1dGVzIikpO3RoaXMuaWQmJihhdHRycy5pZD1fLnJlc3VsdCh0aGlzLCJpZCIpKSx0aGlzLmNsYXNzTmFtZSYmKGF0dHJzWyJjbGFzcyJdPV8ucmVzdWx0KHRoaXMsImNsYXNzTmFtZSIpKTt2YXIgJGVsPUJhY2tib25lLiQoIjwiK18ucmVzdWx0KHRoaXMsInRhZ05hbWUiKSsiPiIpLmF0dHIoYXR0cnMpO3RoaXMuc2V0RWxlbWVudCgkZWwsITEpfX19KSxCYWNrYm9uZS5zeW5jPWZ1bmN0aW9uKG1ldGhvZCxtb2RlbCxvcHRpb25zKXt2YXIgdHlwZT1tZXRob2RNYXBbbWV0aG9kXTtfLmRlZmF1bHRzKG9wdGlvbnN8fChvcHRpb25zPXt9KSx7ZW11bGF0ZUhUVFA6QmFja2JvbmUuZW11bGF0ZUhUVFAsZW11bGF0ZUpTT046QmFja2JvbmUuZW11bGF0ZUpTT059KTt2YXIgcGFyYW1zPXt0eXBlOnR5cGUsZGF0YVR5cGU6Impzb24ifTtpZihvcHRpb25zLnVybHx8KHBhcmFtcy51cmw9Xy5yZXN1bHQobW9kZWwsInVybCIpfHx1cmxFcnJvcigpKSxudWxsIT1vcHRpb25zLmRhdGF8fCFtb2RlbHx8ImNyZWF0ZSIhPT1tZXRob2QmJiJ1cGRhdGUiIT09bWV0aG9kJiYicGF0Y2giIT09bWV0aG9kfHwocGFyYW1zLmNvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi9qc29uIixwYXJhbXMuZGF0YT1KU09OLnN0cmluZ2lmeShvcHRpb25zLmF0dHJzfHxtb2RlbC50b0pTT04ob3B0aW9ucykpKSxvcHRpb25zLmVtdWxhdGVKU09OJiYocGFyYW1zLmNvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHBhcmFtcy5kYXRhPXBhcmFtcy5kYXRhP3ttb2RlbDpwYXJhbXMuZGF0YX06e30pLG9wdGlvbnMuZW11bGF0ZUhUVFAmJigiUFVUIj09PXR5cGV8fCJERUxFVEUiPT09dHlwZXx8IlBBVENIIj09PXR5cGUpKXtwYXJhbXMudHlwZT0iUE9TVCIsb3B0aW9ucy5lbXVsYXRlSlNPTiYmKHBhcmFtcy5kYXRhLl9tZXRob2Q9dHlwZSk7dmFyIGJlZm9yZVNlbmQ9b3B0aW9ucy5iZWZvcmVTZW5kO29wdGlvbnMuYmVmb3JlU2VuZD1mdW5jdGlvbih4aHIpe3JldHVybiB4aHIuc2V0UmVxdWVzdEhlYWRlcigiWC1IVFRQLU1ldGhvZC1PdmVycmlkZSIsdHlwZSksYmVmb3JlU2VuZD9iZWZvcmVTZW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSJHRVQiPT09cGFyYW1zLnR5cGV8fG9wdGlvbnMuZW11bGF0ZUpTT058fChwYXJhbXMucHJvY2Vzc0RhdGE9ITEpLCJQQVRDSCI9PT1wYXJhbXMudHlwZSYmbm9YaHJQYXRjaCYmKHBhcmFtcy54aHI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9KTt2YXIgeGhyPW9wdGlvbnMueGhyPUJhY2tib25lLmFqYXgoXy5leHRlbmQocGFyYW1zLG9wdGlvbnMpKTtyZXR1cm4gbW9kZWwudHJpZ2dlcigicmVxdWVzdCIsbW9kZWwseGhyLG9wdGlvbnMpLHhocn07dmFyIG5vWGhyUGF0Y2g9ISgidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5BY3RpdmVYT2JqZWN0fHx3aW5kb3cuWE1MSHR0cFJlcXVlc3QmJihuZXcgWE1MSHR0cFJlcXVlc3QpLmRpc3BhdGNoRXZlbnQpLG1ldGhvZE1hcD17Y3JlYXRlOiJQT1NUIix1cGRhdGU6IlBVVCIscGF0Y2g6IlBBVENIIiwiZGVsZXRlIjoiREVMRVRFIixyZWFkOiJHRVQifTtCYWNrYm9uZS5hamF4PWZ1bmN0aW9uKCl7cmV0dXJuIEJhY2tib25lLiQuYWpheC5hcHBseShCYWNrYm9uZS4kLGFyZ3VtZW50cyl9O3ZhciBSb3V0ZXI9QmFja2JvbmUuUm91dGVyPWZ1bmN0aW9uKG9wdGlvbnMpe29wdGlvbnN8fChvcHRpb25zPXt9KSxvcHRpb25zLnJvdXRlcyYmKHRoaXMucm91dGVzPW9wdGlvbnMucm91dGVzKSx0aGlzLl9iaW5kUm91dGVzKCksdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb3B0aW9uYWxQYXJhbT0vXCgoLio/KVwpL2csbmFtZWRQYXJhbT0vKFwoXD8pPzpcdysvZyxzcGxhdFBhcmFtPS9cKlx3Ky9nLGVzY2FwZVJlZ0V4cD0vW1wte31cW1xdKz8uLFxcXF4kfCNcc10vZztfLmV4dGVuZChSb3V0ZXIucHJvdG90eXBlLEV2ZW50cyx7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe30scm91dGU6ZnVuY3Rpb24ocm91dGUsbmFtZSxjYWxsYmFjayl7Xy5pc1JlZ0V4cChyb3V0ZSl8fChyb3V0ZT10aGlzLl9yb3V0ZVRvUmVnRXhwKHJvdXRlKSksXy5pc0Z1bmN0aW9uKG5hbWUpJiYoY2FsbGJhY2s9bmFtZSxuYW1lPSIiKSxjYWxsYmFja3x8KGNhbGxiYWNrPXRoaXNbbmFtZV0pO3ZhciByb3V0ZXI9dGhpcztyZXR1cm4gQmFja2JvbmUuaGlzdG9yeS5yb3V0ZShyb3V0ZSxmdW5jdGlvbihmcmFnbWVudCl7dmFyIGFyZ3M9cm91dGVyLl9leHRyYWN0UGFyYW1ldGVycyhyb3V0ZSxmcmFnbWVudCk7cm91dGVyLmV4ZWN1dGUoY2FsbGJhY2ssYXJncykscm91dGVyLnRyaWdnZXIuYXBwbHkocm91dGVyLFsicm91dGU6IituYW1lXS5jb25jYXQoYXJncykpLHJvdXRlci50cmlnZ2VyKCJyb3V0ZSIsbmFtZSxhcmdzKSxCYWNrYm9uZS5oaXN0b3J5LnRyaWdnZXIoInJvdXRlIixyb3V0ZXIsbmFtZSxhcmdzKX0pLHRoaXN9LGV4ZWN1dGU6ZnVuY3Rpb24oY2FsbGJhY2ssYXJncyl7Y2FsbGJhY2smJmNhbGxiYWNrLmFwcGx5KHRoaXMsYXJncyl9LG5hdmlnYXRlOmZ1bmN0aW9uKGZyYWdtZW50LG9wdGlvbnMpe3JldHVybiBCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKGZyYWdtZW50LG9wdGlvbnMpLHRoaXN9LF9iaW5kUm91dGVzOmZ1bmN0aW9uKCl7aWYodGhpcy5yb3V0ZXMpe3RoaXMucm91dGVzPV8ucmVzdWx0KHRoaXMsInJvdXRlcyIpO2Zvcih2YXIgcm91dGUscm91dGVzPV8ua2V5cyh0aGlzLnJvdXRlcyk7bnVsbCE9KHJvdXRlPXJvdXRlcy5wb3AoKSk7KXRoaXMucm91dGUocm91dGUsdGhpcy5yb3V0ZXNbcm91dGVdKX19LF9yb3V0ZVRvUmVnRXhwOmZ1bmN0aW9uKHJvdXRlKXtyZXR1cm4gcm91dGU9cm91dGUucmVwbGFjZShlc2NhcGVSZWdFeHAsIlxcJCYiKS5yZXBsYWNlKG9wdGlvbmFsUGFyYW0sIig/OiQxKT8iKS5yZXBsYWNlKG5hbWVkUGFyYW0sZnVuY3Rpb24obWF0Y2gsb3B0aW9uYWwpe3JldHVybiBvcHRpb25hbD9tYXRjaDoiKFteLz9dKykifSkucmVwbGFjZShzcGxhdFBhcmFtLCIoW14/XSo/KSIpLG5ldyBSZWdFeHAoIl4iK3JvdXRlKyIoPzpcXD8oW1xcc1xcU10qKSk/JCIpfSxfZXh0cmFjdFBhcmFtZXRlcnM6ZnVuY3Rpb24ocm91dGUsZnJhZ21lbnQpe3ZhciBwYXJhbXM9cm91dGUuZXhlYyhmcmFnbWVudCkuc2xpY2UoMSk7cmV0dXJuIF8ubWFwKHBhcmFtcyxmdW5jdGlvbihwYXJhbSxpKXtyZXR1cm4gaT09PXBhcmFtcy5sZW5ndGgtMT9wYXJhbXx8bnVsbDpwYXJhbT9kZWNvZGVVUklDb21wb25lbnQocGFyYW0pOm51bGx9KX19KTt2YXIgSGlzdG9yeT1CYWNrYm9uZS5IaXN0b3J5PWZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVycz1bXSxfLmJpbmRBbGwodGhpcywiY2hlY2tVcmwiKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHRoaXMubG9jYXRpb249d2luZG93LmxvY2F0aW9uLHRoaXMuaGlzdG9yeT13aW5kb3cuaGlzdG9yeSl9LHJvdXRlU3RyaXBwZXI9L15bI1wvXXxccyskL2cscm9vdFN0cmlwcGVyPS9eXC8rfFwvKyQvZyxpc0V4cGxvcmVyPS9tc2llIFtcdy5dKy8sdHJhaWxpbmdTbGFzaD0vXC8kLyxwYXRoU3RyaXBwZXI9LyMuKiQvO0hpc3Rvcnkuc3RhcnRlZD0hMSxfLmV4dGVuZChIaXN0b3J5LnByb3RvdHlwZSxFdmVudHMse2ludGVydmFsOjUwLGF0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1teXC9dJC8sIiQmLyIpPT09dGhpcy5yb290fSxnZXRIYXNoOmZ1bmN0aW9uKHdpbmRvdyl7dmFyIG1hdGNoPSh3aW5kb3d8fHRoaXMpLmxvY2F0aW9uLmhyZWYubWF0Y2goLyMoLiopJC8pO3JldHVybiBtYXRjaD9tYXRjaFsxXToiIn0sZ2V0RnJhZ21lbnQ6ZnVuY3Rpb24oZnJhZ21lbnQsZm9yY2VQdXNoU3RhdGUpe2lmKG51bGw9PWZyYWdtZW50KWlmKHRoaXMuX2hhc1B1c2hTdGF0ZXx8IXRoaXMuX3dhbnRzSGFzaENoYW5nZXx8Zm9yY2VQdXNoU3RhdGUpe2ZyYWdtZW50PWRlY29kZVVSSSh0aGlzLmxvY2F0aW9uLnBhdGhuYW1lK3RoaXMubG9jYXRpb24uc2VhcmNoKTt2YXIgcm9vdD10aGlzLnJvb3QucmVwbGFjZSh0cmFpbGluZ1NsYXNoLCIiKTtmcmFnbWVudC5pbmRleE9mKHJvb3QpfHwoZnJhZ21lbnQ9ZnJhZ21lbnQuc2xpY2Uocm9vdC5sZW5ndGgpKX1lbHNlIGZyYWdtZW50PXRoaXMuZ2V0SGFzaCgpO3JldHVybiBmcmFnbWVudC5yZXBsYWNlKHJvdXRlU3RyaXBwZXIsIiIpfSxzdGFydDpmdW5jdGlvbihvcHRpb25zKXtpZihIaXN0b3J5LnN0YXJ0ZWQpdGhyb3cgbmV3IEVycm9yKCJCYWNrYm9uZS5oaXN0b3J5IGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCIpO0hpc3Rvcnkuc3RhcnRlZD0hMCx0aGlzLm9wdGlvbnM9Xy5leHRlbmQoe3Jvb3Q6Ii8ifSx0aGlzLm9wdGlvbnMsb3B0aW9ucyksdGhpcy5yb290PXRoaXMub3B0aW9ucy5yb290LHRoaXMuX3dhbnRzSGFzaENoYW5nZT10aGlzLm9wdGlvbnMuaGFzaENoYW5nZSE9PSExLHRoaXMuX3dhbnRzUHVzaFN0YXRlPSEhdGhpcy5vcHRpb25zLnB1c2hTdGF0ZSx0aGlzLl9oYXNQdXNoU3RhdGU9ISEodGhpcy5vcHRpb25zLnB1c2hTdGF0ZSYmdGhpcy5oaXN0b3J5JiZ0aGlzLmhpc3RvcnkucHVzaFN0YXRlKTt2YXIgZnJhZ21lbnQ9dGhpcy5nZXRGcmFnbWVudCgpLGRvY01vZGU9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLG9sZElFPWlzRXhwbG9yZXIuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpJiYoIWRvY01vZGV8fDc+PWRvY01vZGUpO2lmKHRoaXMucm9vdD0oIi8iK3RoaXMucm9vdCsiLyIpLnJlcGxhY2Uocm9vdFN0cmlwcGVyLCIvIiksb2xkSUUmJnRoaXMuX3dhbnRzSGFzaENoYW5nZSl7dmFyIGZyYW1lPUJhY2tib25lLiQoJzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OjAiIHRhYmluZGV4PSItMSI+Jyk7dGhpcy5pZnJhbWU9ZnJhbWUuaGlkZSgpLmFwcGVuZFRvKCJib2R5IilbMF0uY29udGVudFdpbmRvdyx0aGlzLm5hdmlnYXRlKGZyYWdtZW50KX10aGlzLl9oYXNQdXNoU3RhdGU/QmFja2JvbmUuJCh3aW5kb3cpLm9uKCJwb3BzdGF0ZSIsdGhpcy5jaGVja1VybCk6dGhpcy5fd2FudHNIYXNoQ2hhbmdlJiYib25oYXNoY2hhbmdlImluIHdpbmRvdyYmIW9sZElFP0JhY2tib25lLiQod2luZG93KS5vbigiaGFzaGNoYW5nZSIsdGhpcy5jaGVja1VybCk6dGhpcy5fd2FudHNIYXNoQ2hhbmdlJiYodGhpcy5fY2hlY2tVcmxJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLmNoZWNrVXJsLHRoaXMuaW50ZXJ2YWwpKSx0aGlzLmZyYWdtZW50PWZyYWdtZW50O3ZhciBsb2M9dGhpcy5sb2NhdGlvbjtpZih0aGlzLl93YW50c0hhc2hDaGFuZ2UmJnRoaXMuX3dhbnRzUHVzaFN0YXRlKXtpZighdGhpcy5faGFzUHVzaFN0YXRlJiYhdGhpcy5hdFJvb3QoKSlyZXR1cm4gdGhpcy5mcmFnbWVudD10aGlzLmdldEZyYWdtZW50KG51bGwsITApLHRoaXMubG9jYXRpb24ucmVwbGFjZSh0aGlzLnJvb3QrIiMiK3RoaXMuZnJhZ21lbnQpLCEwO3RoaXMuX2hhc1B1c2hTdGF0ZSYmdGhpcy5hdFJvb3QoKSYmbG9jLmhhc2gmJih0aGlzLmZyYWdtZW50PXRoaXMuZ2V0SGFzaCgpLnJlcGxhY2Uocm91dGVTdHJpcHBlciwiIiksdGhpcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSxkb2N1bWVudC50aXRsZSx0aGlzLnJvb3QrdGhpcy5mcmFnbWVudCkpfXJldHVybiB0aGlzLm9wdGlvbnMuc2lsZW50P3ZvaWQgMDp0aGlzLmxvYWRVcmwoKX0sc3RvcDpmdW5jdGlvbigpe0JhY2tib25lLiQod2luZG93KS5vZmYoInBvcHN0YXRlIix0aGlzLmNoZWNrVXJsKS5vZmYoImhhc2hjaGFuZ2UiLHRoaXMuY2hlY2tVcmwpLHRoaXMuX2NoZWNrVXJsSW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tVcmxJbnRlcnZhbCksSGlzdG9yeS5zdGFydGVkPSExfSxyb3V0ZTpmdW5jdGlvbihyb3V0ZSxjYWxsYmFjayl7dGhpcy5oYW5kbGVycy51bnNoaWZ0KHtyb3V0ZTpyb3V0ZSxjYWxsYmFjazpjYWxsYmFja30pfSxjaGVja1VybDpmdW5jdGlvbigpe3ZhciBjdXJyZW50PXRoaXMuZ2V0RnJhZ21lbnQoKTtyZXR1cm4gY3VycmVudD09PXRoaXMuZnJhZ21lbnQmJnRoaXMuaWZyYW1lJiYoY3VycmVudD10aGlzLmdldEZyYWdtZW50KHRoaXMuZ2V0SGFzaCh0aGlzLmlmcmFtZSkpKSxjdXJyZW50PT09dGhpcy5mcmFnbWVudD8hMToodGhpcy5pZnJhbWUmJnRoaXMubmF2aWdhdGUoY3VycmVudCksdm9pZCB0aGlzLmxvYWRVcmwoKSl9LGxvYWRVcmw6ZnVuY3Rpb24oZnJhZ21lbnQpe3JldHVybiBmcmFnbWVudD10aGlzLmZyYWdtZW50PXRoaXMuZ2V0RnJhZ21lbnQoZnJhZ21lbnQpLF8uYW55KHRoaXMuaGFuZGxlcnMsZnVuY3Rpb24oaGFuZGxlcil7cmV0dXJuIGhhbmRsZXIucm91dGUudGVzdChmcmFnbWVudCk/KGhhbmRsZXIuY2FsbGJhY2soZnJhZ21lbnQpLCEwKTp2b2lkIDB9KX0sbmF2aWdhdGU6ZnVuY3Rpb24oZnJhZ21lbnQsb3B0aW9ucyl7aWYoIUhpc3Rvcnkuc3RhcnRlZClyZXR1cm4hMTtvcHRpb25zJiZvcHRpb25zIT09ITB8fChvcHRpb25zPXt0cmlnZ2VyOiEhb3B0aW9uc30pO3ZhciB1cmw9dGhpcy5yb290KyhmcmFnbWVudD10aGlzLmdldEZyYWdtZW50KGZyYWdtZW50fHwiIikpO2lmKGZyYWdtZW50PWZyYWdtZW50LnJlcGxhY2UocGF0aFN0cmlwcGVyLCIiKSx0aGlzLmZyYWdtZW50IT09ZnJhZ21lbnQpe2lmKHRoaXMuZnJhZ21lbnQ9ZnJhZ21lbnQsIiI9PT1mcmFnbWVudCYmIi8iIT09dXJsJiYodXJsPXVybC5zbGljZSgwLC0xKSksdGhpcy5faGFzUHVzaFN0YXRlKXRoaXMuaGlzdG9yeVtvcHRpb25zLnJlcGxhY2U/InJlcGxhY2VTdGF0ZSI6InB1c2hTdGF0ZSJdKHt9LGRvY3VtZW50LnRpdGxlLHVybCk7ZWxzZXtpZighdGhpcy5fd2FudHNIYXNoQ2hhbmdlKXJldHVybiB0aGlzLmxvY2F0aW9uLmFzc2lnbih1cmwpO3RoaXMuX3VwZGF0ZUhhc2godGhpcy5sb2NhdGlvbixmcmFnbWVudCxvcHRpb25zLnJlcGxhY2UpLHRoaXMuaWZyYW1lJiZmcmFnbWVudCE9PXRoaXMuZ2V0RnJhZ21lbnQodGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lKSkmJihvcHRpb25zLnJlcGxhY2V8fHRoaXMuaWZyYW1lLmRvY3VtZW50Lm9wZW4oKS5jbG9zZSgpLHRoaXMuX3VwZGF0ZUhhc2godGhpcy5pZnJhbWUubG9jYXRpb24sZnJhZ21lbnQsb3B0aW9ucy5yZXBsYWNlKSl9cmV0dXJuIG9wdGlvbnMudHJpZ2dlcj90aGlzLmxvYWRVcmwoZnJhZ21lbnQpOnZvaWQgMH19LF91cGRhdGVIYXNoOmZ1bmN0aW9uKGxvY2F0aW9uLGZyYWdtZW50LHJlcGxhY2Upe2lmKHJlcGxhY2Upe3ZhciBocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKGphdmFzY3JpcHQ6fCMpLiokLywiIik7bG9jYXRpb24ucmVwbGFjZShocmVmKyIjIitmcmFnbWVudCl9ZWxzZSBsb2NhdGlvbi5oYXNoPSIjIitmcmFnbWVudH19KSxCYWNrYm9uZS5oaXN0b3J5PW5ldyBIaXN0b3J5O3ZhciBleHRlbmQ9ZnVuY3Rpb24ocHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7dmFyIGNoaWxkLHBhcmVudD10aGlzO2NoaWxkPXByb3RvUHJvcHMmJl8uaGFzKHByb3RvUHJvcHMsImNvbnN0cnVjdG9yIik/cHJvdG9Qcm9wcy5jb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3JldHVybiBwYXJlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfLmV4dGVuZChjaGlsZCxwYXJlbnQsc3RhdGljUHJvcHMpO3ZhciBTdXJyb2dhdGU9ZnVuY3Rpb24oKXt0aGlzLmNvbnN0cnVjdG9yPWNoaWxkfTtyZXR1cm4gU3Vycm9nYXRlLnByb3RvdHlwZT1wYXJlbnQucHJvdG90eXBlLGNoaWxkLnByb3RvdHlwZT1uZXcgU3Vycm9nYXRlLHByb3RvUHJvcHMmJl8uZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSxwcm90b1Byb3BzKSxjaGlsZC5fX3N1cGVyX189cGFyZW50LnByb3RvdHlwZSxjaGlsZH07TW9kZWwuZXh0ZW5kPUNvbGxlY3Rpb24uZXh0ZW5kPVJvdXRlci5leHRlbmQ9Vmlldy5leHRlbmQ9SGlzdG9yeS5leHRlbmQ9ZXh0ZW5kO3ZhciB1cmxFcnJvcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignQSAidXJsIiBwcm9wZXJ0eSBvciBmdW5jdGlvbiBtdXN0IGJlIHNwZWNpZmllZCcpfSx3cmFwRXJyb3I9ZnVuY3Rpb24obW9kZWwsb3B0aW9ucyl7dmFyIGVycm9yPW9wdGlvbnMuZXJyb3I7b3B0aW9ucy5lcnJvcj1mdW5jdGlvbihyZXNwKXtlcnJvciYmZXJyb3IobW9kZWwscmVzcCxvcHRpb25zKSxtb2RlbC50cmlnZ2VyKCJlcnJvciIsbW9kZWwscmVzcCxvcHRpb25zKX19O3JldHVybiBCYWNrYm9uZX0pLGZ1bmN0aW9uKHdpbmRvdywkKXsidXNlIHN0cmljdCI7dmFyIHRlc3ROYW1lLGRvY3VtZW50PXdpbmRvdy5kb2N1bWVudCxkb2NFbGVtPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxNb2Rlcm5penI9d2luZG93Lk1vZGVybml6cixjYXBpdGFsaXplPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStzdHIuc2xpY2UoMSl9LHByZWZpeGVzPSJNb3ogV2Via2l0IE8gTXMiLnNwbGl0KCIgIiksZ2V0U3R5bGVQcm9wZXJ0eT1mdW5jdGlvbihwcm9wTmFtZSl7dmFyIHByZWZpeGVkLHN0eWxlPWRvY0VsZW0uc3R5bGU7aWYoInN0cmluZyI9PXR5cGVvZiBzdHlsZVtwcm9wTmFtZV0pcmV0dXJuIHByb3BOYW1lO3Byb3BOYW1lPWNhcGl0YWxpemUocHJvcE5hbWUpO2Zvcih2YXIgaT0wLGxlbj1wcmVmaXhlcy5sZW5ndGg7bGVuPmk7aSsrKWlmKHByZWZpeGVkPXByZWZpeGVzW2ldK3Byb3BOYW1lLCJzdHJpbmciPT10eXBlb2Ygc3R5bGVbcHJlZml4ZWRdKXJldHVybiBwcmVmaXhlZH0sdHJhbnNmb3JtUHJvcD1nZXRTdHlsZVByb3BlcnR5KCJ0cmFuc2Zvcm0iKSx0cmFuc2l0aW9uUHJvcD1nZXRTdHlsZVByb3BlcnR5KCJ0cmFuc2l0aW9uUHJvcGVydHkiKSx0ZXN0cz17Y3NzdHJhbnNmb3JtczpmdW5jdGlvbigpe3JldHVybiEhdHJhbnNmb3JtUHJvcH0sY3NzdHJhbnNmb3JtczNkOmZ1bmN0aW9uKCl7dmFyIHRlc3Q9ISFnZXRTdHlsZVByb3BlcnR5KCJwZXJzcGVjdGl2ZSIpO2lmKHRlc3QmJiJ3ZWJraXRQZXJzcGVjdGl2ZSJpbiBkb2NFbGVtLnN0eWxlKXt2YXIgJHN0eWxlPSQoIjxzdHlsZT5AbWVkaWEgKHRyYW5zZm9ybS0zZCksKC13ZWJraXQtdHJhbnNmb3JtLTNkKXsjbW9kZXJuaXpye2hlaWdodDozcHh9fTwvc3R5bGU+IikuYXBwZW5kVG8oImhlYWQiKSwkZGl2PSQoJzxkaXYgaWQ9Im1vZGVybml6ciIgLz4nKS5hcHBlbmRUbygiaHRtbCIpO3Rlc3Q9Mz09PSRkaXYuaGVpZ2h0KCksJGRpdi5yZW1vdmUoKSwkc3R5bGUucmVtb3ZlKCl9cmV0dXJuIHRlc3R9LGNzc3RyYW5zaXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuISF0cmFuc2l0aW9uUHJvcH19O2lmKE1vZGVybml6cilmb3IodGVzdE5hbWUgaW4gdGVzdHMpTW9kZXJuaXpyLmhhc093blByb3BlcnR5KHRlc3ROYW1lKXx8TW9kZXJuaXpyLmFkZFRlc3QodGVzdE5hbWUsdGVzdHNbdGVzdE5hbWVdKTtlbHNle01vZGVybml6cj13aW5kb3cuTW9kZXJuaXpyPXtfdmVyc2lvbjoiMS42aXNoOiBtaW5pTW9kZXJuaXpyIGZvciBJc290b3BlIn07dmFyIHJlc3VsdCxjbGFzc2VzPSIgIjtmb3IodGVzdE5hbWUgaW4gdGVzdHMpcmVzdWx0PXRlc3RzW3Rlc3ROYW1lXSgpLE1vZGVybml6clt0ZXN0TmFtZV09cmVzdWx0LGNsYXNzZXMrPSIgIisocmVzdWx0PyIiOiJuby0iKSt0ZXN0TmFtZTskKCJodG1sIikuYWRkQ2xhc3MoY2xhc3Nlcyl9aWYoTW9kZXJuaXpyLmNzc3RyYW5zZm9ybXMpe3ZhciB0cmFuc2Zvcm1Gbk5vdGF0aW9ucz1Nb2Rlcm5penIuY3NzdHJhbnNmb3JtczNkP3t0cmFuc2xhdGU6ZnVuY3Rpb24ocG9zaXRpb24pe3JldHVybiJ0cmFuc2xhdGUzZCgiK3Bvc2l0aW9uWzBdKyJweCwgIitwb3NpdGlvblsxXSsicHgsIDApICJ9LHNjYWxlOmZ1bmN0aW9uKHNjYWxlKXtyZXR1cm4ic2NhbGUzZCgiK3NjYWxlKyIsICIrc2NhbGUrIiwgMSkgIn19Ont0cmFuc2xhdGU6ZnVuY3Rpb24ocG9zaXRpb24pe3JldHVybiJ0cmFuc2xhdGUoIitwb3NpdGlvblswXSsicHgsICIrcG9zaXRpb25bMV0rInB4KSAifSxzY2FsZTpmdW5jdGlvbihzY2FsZSl7cmV0dXJuInNjYWxlKCIrc2NhbGUrIikgIn19LHNldElzb1RyYW5zZm9ybT1mdW5jdGlvbihlbGVtLG5hbWUsdmFsdWUpe3ZhciBmbk5hbWUsdHJhbnNmb3JtVmFsdWUsZGF0YT0kLmRhdGEoZWxlbSwiaXNvVHJhbnNmb3JtIil8fHt9LG5ld0RhdGE9e30sdHJhbnNmb3JtT2JqPXt9O25ld0RhdGFbbmFtZV09dmFsdWUsJC5leHRlbmQoZGF0YSxuZXdEYXRhKTtmb3IoZm5OYW1lIGluIGRhdGEpdHJhbnNmb3JtVmFsdWU9ZGF0YVtmbk5hbWVdLHRyYW5zZm9ybU9ialtmbk5hbWVdPXRyYW5zZm9ybUZuTm90YXRpb25zW2ZuTmFtZV0odHJhbnNmb3JtVmFsdWUpO3ZhciB0cmFuc2xhdGVGbj10cmFuc2Zvcm1PYmoudHJhbnNsYXRlfHwiIixzY2FsZUZuPXRyYW5zZm9ybU9iai5zY2FsZXx8IiIsdmFsdWVGbnM9dHJhbnNsYXRlRm4rc2NhbGVGbjskLmRhdGEoZWxlbSwiaXNvVHJhbnNmb3JtIixkYXRhKSxlbGVtLnN0eWxlW3RyYW5zZm9ybVByb3BdPXZhbHVlRm5zfTskLmNzc051bWJlci5zY2FsZT0hMCwkLmNzc0hvb2tzLnNjYWxlPXtzZXQ6ZnVuY3Rpb24oZWxlbSx2YWx1ZSl7c2V0SXNvVHJhbnNmb3JtKGVsZW0sInNjYWxlIix2YWx1ZSl9LGdldDpmdW5jdGlvbihlbGVtKXt2YXIgdHJhbnNmb3JtPSQuZGF0YShlbGVtLCJpc29UcmFuc2Zvcm0iKTtyZXR1cm4gdHJhbnNmb3JtJiZ0cmFuc2Zvcm0uc2NhbGU/dHJhbnNmb3JtLnNjYWxlOjF9fSwkLmZ4LnN0ZXAuc2NhbGU9ZnVuY3Rpb24oZngpeyQuY3NzSG9va3Muc2NhbGUuc2V0KGZ4LmVsZW0sZngubm93K2Z4LnVuaXQpfSwkLmNzc051bWJlci50cmFuc2xhdGU9ITAsJC5jc3NIb29rcy50cmFuc2xhdGU9e3NldDpmdW5jdGlvbihlbGVtLHZhbHVlKXtzZXRJc29UcmFuc2Zvcm0oZWxlbSwidHJhbnNsYXRlIix2YWx1ZSl9LGdldDpmdW5jdGlvbihlbGVtKXt2YXIgdHJhbnNmb3JtPSQuZGF0YShlbGVtLCJpc29UcmFuc2Zvcm0iKTtyZXR1cm4gdHJhbnNmb3JtJiZ0cmFuc2Zvcm0udHJhbnNsYXRlP3RyYW5zZm9ybS50cmFuc2xhdGU6WzAsMF19fX12YXIgdHJhbnNpdGlvbkVuZEV2ZW50LHRyYW5zaXRpb25EdXJQcm9wO01vZGVybml6ci5jc3N0cmFuc2l0aW9ucyYmKHRyYW5zaXRpb25FbmRFdmVudD17V2Via2l0VHJhbnNpdGlvblByb3BlcnR5OiJ3ZWJraXRUcmFuc2l0aW9uRW5kIixNb3pUcmFuc2l0aW9uUHJvcGVydHk6InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uUHJvcGVydHk6Im9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIix0cmFuc2l0aW9uUHJvcGVydHk6InRyYW5zaXRpb25lbmQifVt0cmFuc2l0aW9uUHJvcF0sdHJhbnNpdGlvbkR1clByb3A9Z2V0U3R5bGVQcm9wZXJ0eSgidHJhbnNpdGlvbkR1cmF0aW9uIikpO3ZhciByZXNpemVUaW1lb3V0LCRldmVudD0kLmV2ZW50LGRpc3BhdGNoTWV0aG9kPSQuZXZlbnQuaGFuZGxlPyJoYW5kbGUiOiJkaXNwYXRjaCI7JGV2ZW50LnNwZWNpYWwuc21hcnRyZXNpemU9e3NldHVwOmZ1bmN0aW9uKCl7JCh0aGlzKS5iaW5kKCJyZXNpemUiLCRldmVudC5zcGVjaWFsLnNtYXJ0cmVzaXplLmhhbmRsZXIpfSx0ZWFyZG93bjpmdW5jdGlvbigpeyQodGhpcykudW5iaW5kKCJyZXNpemUiLCRldmVudC5zcGVjaWFsLnNtYXJ0cmVzaXplLmhhbmRsZXIpfSxoYW5kbGVyOmZ1bmN0aW9uKGV2ZW50LGV4ZWNBc2FwKXt2YXIgY29udGV4dD10aGlzLGFyZ3M9YXJndW1lbnRzO2V2ZW50LnR5cGU9InNtYXJ0cmVzaXplIixyZXNpemVUaW1lb3V0JiZjbGVhclRpbWVvdXQocmVzaXplVGltZW91dCkscmVzaXplVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGV2ZW50W2Rpc3BhdGNoTWV0aG9kXS5hcHBseShjb250ZXh0LGFyZ3MpfSwiZXhlY0FzYXAiPT09ZXhlY0FzYXA/MDoxMDApfX0sJC5mbi5zbWFydHJlc2l6ZT1mdW5jdGlvbihmbil7cmV0dXJuIGZuP3RoaXMuYmluZCgic21hcnRyZXNpemUiLGZuKTp0aGlzLnRyaWdnZXIoInNtYXJ0cmVzaXplIixbImV4ZWNBc2FwIl0pfSwkLklzb3RvcGU9ZnVuY3Rpb24ob3B0aW9ucyxlbGVtZW50LGNhbGxiYWNrKXt0aGlzLmVsZW1lbnQ9JChlbGVtZW50KSx0aGlzLl9jcmVhdGUob3B0aW9ucyksdGhpcy5faW5pdChjYWxsYmFjayl9O3ZhciBpc29Db250YWluZXJTdHlsZXM9WyJ3aWR0aCIsImhlaWdodCJdLCR3aW5kb3c9JCh3aW5kb3cpOyQuSXNvdG9wZS5zZXR0aW5ncz17cmVzaXphYmxlOiEwLGxheW91dE1vZGU6Im1hc29ucnkiLGNvbnRhaW5lckNsYXNzOiJpc290b3BlIixpdGVtQ2xhc3M6Imlzb3RvcGUtaXRlbSIsaGlkZGVuQ2xhc3M6Imlzb3RvcGUtaGlkZGVuIixoaWRkZW5TdHlsZTp7b3BhY2l0eTowLHNjYWxlOi4wMDF9LHZpc2libGVTdHlsZTp7b3BhY2l0eToxLHNjYWxlOjF9LGNvbnRhaW5lclN0eWxlOntwb3NpdGlvbjoicmVsYXRpdmUiLG92ZXJmbG93OiJoaWRkZW4ifSxhbmltYXRpb25FbmdpbmU6ImJlc3QtYXZhaWxhYmxlIixhbmltYXRpb25PcHRpb25zOntxdWV1ZTohMSxkdXJhdGlvbjo4MDB9LHNvcnRCeToib3JpZ2luYWwtb3JkZXIiLHNvcnRBc2NlbmRpbmc6ITAscmVzaXplc0NvbnRhaW5lcjohMCx0cmFuc2Zvcm1zRW5hYmxlZDohMCxpdGVtUG9zaXRpb25EYXRhRW5hYmxlZDohMX0sJC5Jc290b3BlLnByb3RvdHlwZT17X2NyZWF0ZTpmdW5jdGlvbihvcHRpb25zKXt0aGlzLm9wdGlvbnM9JC5leHRlbmQoe30sJC5Jc290b3BlLnNldHRpbmdzLG9wdGlvbnMpLHRoaXMuc3R5bGVRdWV1ZT1bXSx0aGlzLmVsZW1Db3VudD0wO3ZhciBlbGVtU3R5bGU9dGhpcy5lbGVtZW50WzBdLnN0eWxlO3RoaXMub3JpZ2luYWxTdHlsZT17fTt2YXIgY29udGFpbmVyU3R5bGVzPWlzb0NvbnRhaW5lclN0eWxlcy5zbGljZSgwKTtmb3IodmFyIHByb3AgaW4gdGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlKWNvbnRhaW5lclN0eWxlcy5wdXNoKHByb3ApO2Zvcih2YXIgaT0wLGxlbj1jb250YWluZXJTdHlsZXMubGVuZ3RoO2xlbj5pO2krKylwcm9wPWNvbnRhaW5lclN0eWxlc1tpXSx0aGlzLm9yaWdpbmFsU3R5bGVbcHJvcF09ZWxlbVN0eWxlW3Byb3BdfHwiIjt0aGlzLmVsZW1lbnQuY3NzKHRoaXMub3B0aW9ucy5jb250YWluZXJTdHlsZSksdGhpcy5fdXBkYXRlQW5pbWF0aW9uRW5naW5lKCksdGhpcy5fdXBkYXRlVXNpbmdUcmFuc2Zvcm1zKCk7dmFyIG9yaWdpbmFsT3JkZXJTb3J0ZXI9eyJvcmlnaW5hbC1vcmRlciI6ZnVuY3Rpb24oJGVsZW0saW5zdGFuY2Upe3JldHVybiBpbnN0YW5jZS5lbGVtQ291bnQrKyxpbnN0YW5jZS5lbGVtQ291bnR9LHJhbmRvbTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpfX07dGhpcy5vcHRpb25zLmdldFNvcnREYXRhPSQuZXh0ZW5kKHRoaXMub3B0aW9ucy5nZXRTb3J0RGF0YSxvcmlnaW5hbE9yZGVyU29ydGVyKSx0aGlzLnJlbG9hZEl0ZW1zKCksdGhpcy5vZmZzZXQ9e2xlZnQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygicGFkZGluZy1sZWZ0Iil8fDAsMTApLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIpfHwwLDEwKX07dmFyIGluc3RhbmNlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2luc3RhbmNlLmVsZW1lbnQuYWRkQ2xhc3MoaW5zdGFuY2Uub3B0aW9ucy5jb250YWluZXJDbGFzcyl9LDApLHRoaXMub3B0aW9ucy5yZXNpemFibGUmJiR3aW5kb3cuYmluZCgic21hcnRyZXNpemUuaXNvdG9wZSIsZnVuY3Rpb24oKXtpbnN0YW5jZS5yZXNpemUoKX0pLHRoaXMuZWxlbWVudC5kZWxlZ2F0ZSgiLiIrdGhpcy5vcHRpb25zLmhpZGRlbkNsYXNzLCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pfSxfZ2V0QXRvbXM6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgc2VsZWN0b3I9dGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvciwkYXRvbXM9c2VsZWN0b3I/JGVsZW1zLmZpbHRlcihzZWxlY3RvcikuYWRkKCRlbGVtcy5maW5kKHNlbGVjdG9yKSk6JGVsZW1zLGF0b21TdHlsZT17cG9zaXRpb246ImFic29sdXRlIn07cmV0dXJuICRhdG9tcz0kYXRvbXMuZmlsdGVyKGZ1bmN0aW9uKGksYXRvbSl7cmV0dXJuIDE9PT1hdG9tLm5vZGVUeXBlfSksdGhpcy51c2luZ1RyYW5zZm9ybXMmJihhdG9tU3R5bGUubGVmdD0wLGF0b21TdHlsZS50b3A9MCksJGF0b21zLmNzcyhhdG9tU3R5bGUpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5pdGVtQ2xhc3MpLHRoaXMudXBkYXRlU29ydERhdGEoJGF0b21zLCEwKSwkYXRvbXN9LF9pbml0OmZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLiRmaWx0ZXJlZEF0b21zPXRoaXMuX2ZpbHRlcih0aGlzLiRhbGxBdG9tcyksdGhpcy5fc29ydCgpLHRoaXMucmVMYXlvdXQoY2FsbGJhY2spfSxvcHRpb246ZnVuY3Rpb24ob3B0cyl7aWYoJC5pc1BsYWluT2JqZWN0KG9wdHMpKXt0aGlzLm9wdGlvbnM9JC5leHRlbmQoITAsdGhpcy5vcHRpb25zLG9wdHMpO3ZhciB1cGRhdGVPcHRpb25Gbjtmb3IodmFyIG9wdGlvbk5hbWUgaW4gb3B0cyl1cGRhdGVPcHRpb25Gbj0iX3VwZGF0ZSIrY2FwaXRhbGl6ZShvcHRpb25OYW1lKSx0aGlzW3VwZGF0ZU9wdGlvbkZuXSYmdGhpc1t1cGRhdGVPcHRpb25Gbl0oKX19LF91cGRhdGVBbmltYXRpb25FbmdpbmU6ZnVuY3Rpb24oKXt2YXIgaXNVc2luZ0pRdWVyeUFuaW1hdGlvbixhbmltYXRpb25FbmdpbmU9dGhpcy5vcHRpb25zLmFuaW1hdGlvbkVuZ2luZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1sgX1wtXS9nLCIiKTtzd2l0Y2goYW5pbWF0aW9uRW5naW5lKXtjYXNlImNzcyI6Y2FzZSJub25lIjppc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uPSExO2JyZWFrO2Nhc2UianF1ZXJ5Ijppc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uPSEwO2JyZWFrO2RlZmF1bHQ6aXNVc2luZ0pRdWVyeUFuaW1hdGlvbj0hTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zfXRoaXMuaXNVc2luZ0pRdWVyeUFuaW1hdGlvbj1pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uLHRoaXMuX3VwZGF0ZVVzaW5nVHJhbnNmb3JtcygpfSxfdXBkYXRlVHJhbnNmb3Jtc0VuYWJsZWQ6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVVc2luZ1RyYW5zZm9ybXMoKX0sX3VwZGF0ZVVzaW5nVHJhbnNmb3JtczpmdW5jdGlvbigpe3ZhciB1c2luZ1RyYW5zZm9ybXM9dGhpcy51c2luZ1RyYW5zZm9ybXM9dGhpcy5vcHRpb25zLnRyYW5zZm9ybXNFbmFibGVkJiZNb2Rlcm5penIuY3NzdHJhbnNmb3JtcyYmTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zJiYhdGhpcy5pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uO3VzaW5nVHJhbnNmb3Jtc3x8KGRlbGV0ZSB0aGlzLm9wdGlvbnMuaGlkZGVuU3R5bGUuc2NhbGUsZGVsZXRlIHRoaXMub3B0aW9ucy52aXNpYmxlU3R5bGUuc2NhbGUpLHRoaXMuZ2V0UG9zaXRpb25TdHlsZXM9dXNpbmdUcmFuc2Zvcm1zP3RoaXMuX3RyYW5zbGF0ZTp0aGlzLl9wb3NpdGlvbkFic30sX2ZpbHRlcjpmdW5jdGlvbigkYXRvbXMpe3ZhciBmaWx0ZXI9IiI9PT10aGlzLm9wdGlvbnMuZmlsdGVyPyIqIjp0aGlzLm9wdGlvbnMuZmlsdGVyO2lmKCFmaWx0ZXIpcmV0dXJuICRhdG9tczt2YXIgaGlkZGVuQ2xhc3M9dGhpcy5vcHRpb25zLmhpZGRlbkNsYXNzLGhpZGRlblNlbGVjdG9yPSIuIitoaWRkZW5DbGFzcywkaGlkZGVuQXRvbXM9JGF0b21zLmZpbHRlcihoaWRkZW5TZWxlY3RvciksJGF0b21zVG9TaG93PSRoaWRkZW5BdG9tcztpZigiKiIhPT1maWx0ZXIpeyRhdG9tc1RvU2hvdz0kaGlkZGVuQXRvbXMuZmlsdGVyKGZpbHRlcik7dmFyICRhdG9tc1RvSGlkZT0kYXRvbXMubm90KGhpZGRlblNlbGVjdG9yKS5ub3QoZmlsdGVyKS5hZGRDbGFzcyhoaWRkZW5DbGFzcyk7dGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDokYXRvbXNUb0hpZGUsc3R5bGU6dGhpcy5vcHRpb25zLmhpZGRlblN0eWxlfSl9cmV0dXJuIHRoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6JGF0b21zVG9TaG93LHN0eWxlOnRoaXMub3B0aW9ucy52aXNpYmxlU3R5bGV9KSwkYXRvbXNUb1Nob3cucmVtb3ZlQ2xhc3MoaGlkZGVuQ2xhc3MpLCRhdG9tcy5maWx0ZXIoZmlsdGVyKX0sdXBkYXRlU29ydERhdGE6ZnVuY3Rpb24oJGF0b21zLGlzSW5jcmVtZW50aW5nRWxlbUNvdW50KXt2YXIgJHRoaXMsc29ydERhdGEsaW5zdGFuY2U9dGhpcyxnZXRTb3J0RGF0YT10aGlzLm9wdGlvbnMuZ2V0U29ydERhdGE7JGF0b21zLmVhY2goZnVuY3Rpb24oKXskdGhpcz0kKHRoaXMpLHNvcnREYXRhPXt9O2Zvcih2YXIga2V5IGluIGdldFNvcnREYXRhKXNvcnREYXRhW2tleV09aXNJbmNyZW1lbnRpbmdFbGVtQ291bnR8fCJvcmlnaW5hbC1vcmRlciIhPT1rZXk/Z2V0U29ydERhdGFba2V5XSgkdGhpcyxpbnN0YW5jZSk6JC5kYXRhKHRoaXMsImlzb3RvcGUtc29ydC1kYXRhIilba2V5XTskLmRhdGEodGhpcywiaXNvdG9wZS1zb3J0LWRhdGEiLHNvcnREYXRhKX0pfSxfc29ydDpmdW5jdGlvbigpe3ZhciBzb3J0Qnk9dGhpcy5vcHRpb25zLnNvcnRCeSxnZXRTb3J0ZXI9dGhpcy5fZ2V0U29ydGVyLHNvcnREaXI9dGhpcy5vcHRpb25zLnNvcnRBc2NlbmRpbmc/MTotMSxzb3J0Rm49ZnVuY3Rpb24oYWxwaGEsYmV0YSl7dmFyIGE9Z2V0U29ydGVyKGFscGhhLHNvcnRCeSksYj1nZXRTb3J0ZXIoYmV0YSxzb3J0QnkpO3JldHVybiBhPT09YiYmIm9yaWdpbmFsLW9yZGVyIiE9PXNvcnRCeSYmKGE9Z2V0U29ydGVyKGFscGhhLCJvcmlnaW5hbC1vcmRlciIpLGI9Z2V0U29ydGVyKGJldGEsIm9yaWdpbmFsLW9yZGVyIikpLChhPmI/MTpiPmE/LTE6MCkqc29ydERpcn07dGhpcy4kZmlsdGVyZWRBdG9tcy5zb3J0KHNvcnRGbil9LF9nZXRTb3J0ZXI6ZnVuY3Rpb24oZWxlbSxzb3J0Qnkpe3JldHVybiAkLmRhdGEoZWxlbSwiaXNvdG9wZS1zb3J0LWRhdGEiKVtzb3J0QnldfSxfdHJhbnNsYXRlOmZ1bmN0aW9uKHgseSl7cmV0dXJue3RyYW5zbGF0ZTpbeCx5XX19LF9wb3NpdGlvbkFiczpmdW5jdGlvbih4LHkpe3JldHVybntsZWZ0OngsdG9wOnl9fSxfcHVzaFBvc2l0aW9uOmZ1bmN0aW9uKCRlbGVtLHgseSl7eD1NYXRoLnJvdW5kKHgrdGhpcy5vZmZzZXQubGVmdCkseT1NYXRoLnJvdW5kKHkrdGhpcy5vZmZzZXQudG9wKTt2YXIgcG9zaXRpb249dGhpcy5nZXRQb3NpdGlvblN0eWxlcyh4LHkpO3RoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6JGVsZW0sc3R5bGU6cG9zaXRpb259KSx0aGlzLm9wdGlvbnMuaXRlbVBvc2l0aW9uRGF0YUVuYWJsZWQmJiRlbGVtLmRhdGEoImlzb3RvcGUtaXRlbS1wb3NpdGlvbiIse3g6eCx5Onl9KX0sbGF5b3V0OmZ1bmN0aW9uKCRlbGVtcyxjYWxsYmFjayl7dmFyIGxheW91dE1vZGU9dGhpcy5vcHRpb25zLmxheW91dE1vZGU7aWYodGhpc1siXyIrbGF5b3V0TW9kZSsiTGF5b3V0Il0oJGVsZW1zKSx0aGlzLm9wdGlvbnMucmVzaXplc0NvbnRhaW5lcil7dmFyIGNvbnRhaW5lclN0eWxlPXRoaXNbIl8iK2xheW91dE1vZGUrIkdldENvbnRhaW5lclNpemUiXSgpO3RoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6dGhpcy5lbGVtZW50LHN0eWxlOmNvbnRhaW5lclN0eWxlfSl9dGhpcy5fcHJvY2Vzc1N0eWxlUXVldWUoJGVsZW1zLGNhbGxiYWNrKSx0aGlzLmlzTGFpZE91dD0hMH0sX3Byb2Nlc3NTdHlsZVF1ZXVlOmZ1bmN0aW9uKCRlbGVtcyxjYWxsYmFjayl7dmFyIG9ialN0eWxlRm4scHJvY2Vzc29yLHRyaWdnZXJDYWxsYmFja05vdyxjYWxsYmFja0ZuLHN0eWxlRm49dGhpcy5pc0xhaWRPdXQmJnRoaXMuaXNVc2luZ0pRdWVyeUFuaW1hdGlvbj8iYW5pbWF0ZSI6ImNzcyIsYW5pbU9wdHM9dGhpcy5vcHRpb25zLmFuaW1hdGlvbk9wdGlvbnMsb25MYXlvdXQ9dGhpcy5vcHRpb25zLm9uTGF5b3V0O2lmKHByb2Nlc3Nvcj1mdW5jdGlvbihpLG9iail7b2JqLiRlbFtzdHlsZUZuXShvYmouc3R5bGUsYW5pbU9wdHMpfSx0aGlzLl9pc0luc2VydGluZyYmdGhpcy5pc1VzaW5nSlF1ZXJ5QW5pbWF0aW9uKXByb2Nlc3Nvcj1mdW5jdGlvbihpLG9iail7b2JqU3R5bGVGbj1vYmouJGVsLmhhc0NsYXNzKCJuby10cmFuc2l0aW9uIik/ImNzcyI6c3R5bGVGbixvYmouJGVsW29ialN0eWxlRm5dKG9iai5zdHlsZSxhbmltT3B0cyl9O2Vsc2UgaWYoY2FsbGJhY2t8fG9uTGF5b3V0fHxhbmltT3B0cy5jb21wbGV0ZSl7dmFyIGlzQ2FsbGJhY2tUcmlnZ2VyZWQ9ITEsY2FsbGJhY2tzPVtjYWxsYmFjayxvbkxheW91dCxhbmltT3B0cy5jb21wbGV0ZV0saW5zdGFuY2U9dGhpcztpZih0cmlnZ2VyQ2FsbGJhY2tOb3c9ITAsY2FsbGJhY2tGbj1mdW5jdGlvbigpe2lmKCFpc0NhbGxiYWNrVHJpZ2dlcmVkKXtmb3IodmFyIGhvbGxhYmFjayxpPTAsbGVuPWNhbGxiYWNrcy5sZW5ndGg7bGVuPmk7aSsrKWhvbGxhYmFjaz1jYWxsYmFja3NbaV0sImZ1bmN0aW9uIj09dHlwZW9mIGhvbGxhYmFjayYmaG9sbGFiYWNrLmNhbGwoaW5zdGFuY2UuZWxlbWVudCwkZWxlbXMsaW5zdGFuY2UpO2lzQ2FsbGJhY2tUcmlnZ2VyZWQ9ITB9fSx0aGlzLmlzVXNpbmdKUXVlcnlBbmltYXRpb24mJiJhbmltYXRlIj09PXN0eWxlRm4pYW5pbU9wdHMuY29tcGxldGU9Y2FsbGJhY2tGbix0cmlnZ2VyQ2FsbGJhY2tOb3c9ITE7ZWxzZSBpZihNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpe2Zvcih2YXIgc3R5bGVPYmosaT0wLGZpcnN0SXRlbT10aGlzLnN0eWxlUXVldWVbMF0sdGVzdEVsZW09Zmlyc3RJdGVtJiZmaXJzdEl0ZW0uJGVsOyF0ZXN0RWxlbXx8IXRlc3RFbGVtLmxlbmd0aDspe2lmKHN0eWxlT2JqPXRoaXMuc3R5bGVRdWV1ZVtpKytdLCFzdHlsZU9iailyZXR1cm47dGVzdEVsZW09c3R5bGVPYmouJGVsfXZhciBkdXJhdGlvbj1wYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUodGVzdEVsZW1bMF0pW3RyYW5zaXRpb25EdXJQcm9wXSk7ZHVyYXRpb24+MCYmKHByb2Nlc3Nvcj1mdW5jdGlvbihpLG9iail7b2JqLiRlbFtzdHlsZUZuXShvYmouc3R5bGUsYW5pbU9wdHMpLm9uZSh0cmFuc2l0aW9uRW5kRXZlbnQsY2FsbGJhY2tGbil9LHRyaWdnZXJDYWxsYmFja05vdz0hMSl9fSQuZWFjaCh0aGlzLnN0eWxlUXVldWUscHJvY2Vzc29yKSx0cmlnZ2VyQ2FsbGJhY2tOb3cmJmNhbGxiYWNrRm4oKSx0aGlzLnN0eWxlUXVldWU9W119LHJlc2l6ZTpmdW5jdGlvbigpe3RoaXNbIl8iK3RoaXMub3B0aW9ucy5sYXlvdXRNb2RlKyJSZXNpemVDaGFuZ2VkIl0oKSYmdGhpcy5yZUxheW91dCgpfSxyZUxheW91dDpmdW5jdGlvbihjYWxsYmFjayl7dGhpc1siXyIrdGhpcy5vcHRpb25zLmxheW91dE1vZGUrIlJlc2V0Il0oKSx0aGlzLmxheW91dCh0aGlzLiRmaWx0ZXJlZEF0b21zLGNhbGxiYWNrKX0sYWRkSXRlbXM6ZnVuY3Rpb24oJGNvbnRlbnQsY2FsbGJhY2spe3ZhciAkbmV3QXRvbXM9dGhpcy5fZ2V0QXRvbXMoJGNvbnRlbnQpO3RoaXMuJGFsbEF0b21zPXRoaXMuJGFsbEF0b21zLmFkZCgkbmV3QXRvbXMpLGNhbGxiYWNrJiZjYWxsYmFjaygkbmV3QXRvbXMpfSxpbnNlcnQ6ZnVuY3Rpb24oJGNvbnRlbnQsY2FsbGJhY2spe3RoaXMuZWxlbWVudC5hcHBlbmQoJGNvbnRlbnQpO3ZhciBpbnN0YW5jZT10aGlzO3RoaXMuYWRkSXRlbXMoJGNvbnRlbnQsZnVuY3Rpb24oJG5ld0F0b21zKXt2YXIgJG5ld0ZpbHRlcmVkQXRvbXM9aW5zdGFuY2UuX2ZpbHRlcigkbmV3QXRvbXMpO2luc3RhbmNlLl9hZGRIaWRlQXBwZW5kZWQoJG5ld0ZpbHRlcmVkQXRvbXMpLGluc3RhbmNlLl9zb3J0KCksaW5zdGFuY2UucmVMYXlvdXQoKSxpbnN0YW5jZS5fcmV2ZWFsQXBwZW5kZWQoJG5ld0ZpbHRlcmVkQXRvbXMsY2FsbGJhY2spfSl9LGFwcGVuZGVkOmZ1bmN0aW9uKCRjb250ZW50LGNhbGxiYWNrKXt2YXIgaW5zdGFuY2U9dGhpczt0aGlzLmFkZEl0ZW1zKCRjb250ZW50LGZ1bmN0aW9uKCRuZXdBdG9tcyl7aW5zdGFuY2UuX2FkZEhpZGVBcHBlbmRlZCgkbmV3QXRvbXMpLGluc3RhbmNlLmxheW91dCgkbmV3QXRvbXMpLGluc3RhbmNlLl9yZXZlYWxBcHBlbmRlZCgkbmV3QXRvbXMsY2FsbGJhY2spfSl9LF9hZGRIaWRlQXBwZW5kZWQ6ZnVuY3Rpb24oJG5ld0F0b21zKXt0aGlzLiRmaWx0ZXJlZEF0b21zPXRoaXMuJGZpbHRlcmVkQXRvbXMuYWRkKCRuZXdBdG9tcyksJG5ld0F0b21zLmFkZENsYXNzKCJuby10cmFuc2l0aW9uIiksdGhpcy5faXNJbnNlcnRpbmc9ITAsdGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDokbmV3QXRvbXMsc3R5bGU6dGhpcy5vcHRpb25zLmhpZGRlblN0eWxlfSl9LF9yZXZlYWxBcHBlbmRlZDpmdW5jdGlvbigkbmV3QXRvbXMsY2FsbGJhY2spe3ZhciBpbnN0YW5jZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXskbmV3QXRvbXMucmVtb3ZlQ2xhc3MoIm5vLXRyYW5zaXRpb24iKSxpbnN0YW5jZS5zdHlsZVF1ZXVlLnB1c2goeyRlbDokbmV3QXRvbXMsc3R5bGU6aW5zdGFuY2Uub3B0aW9ucy52aXNpYmxlU3R5bGV9KSxpbnN0YW5jZS5faXNJbnNlcnRpbmc9ITEsaW5zdGFuY2UuX3Byb2Nlc3NTdHlsZVF1ZXVlKCRuZXdBdG9tcyxjYWxsYmFjayl9LDEwKX0scmVsb2FkSXRlbXM6ZnVuY3Rpb24oKXt0aGlzLiRhbGxBdG9tcz10aGlzLl9nZXRBdG9tcyh0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSl9LHJlbW92ZTpmdW5jdGlvbigkY29udGVudCxjYWxsYmFjayl7dGhpcy4kYWxsQXRvbXM9dGhpcy4kYWxsQXRvbXMubm90KCRjb250ZW50KSx0aGlzLiRmaWx0ZXJlZEF0b21zPXRoaXMuJGZpbHRlcmVkQXRvbXMubm90KCRjb250ZW50KTt2YXIgaW5zdGFuY2U9dGhpcyxyZW1vdmVDb250ZW50PWZ1bmN0aW9uKCl7JGNvbnRlbnQucmVtb3ZlKCksY2FsbGJhY2smJmNhbGxiYWNrLmNhbGwoaW5zdGFuY2UuZWxlbWVudCl9OyRjb250ZW50LmZpbHRlcigiOm5vdCguIit0aGlzLm9wdGlvbnMuaGlkZGVuQ2xhc3MrIikiKS5sZW5ndGg/KHRoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6JGNvbnRlbnQsc3R5bGU6dGhpcy5vcHRpb25zLmhpZGRlblN0eWxlfSksdGhpcy5fc29ydCgpLHRoaXMucmVMYXlvdXQocmVtb3ZlQ29udGVudCkpOnJlbW92ZUNvbnRlbnQoKX0sc2h1ZmZsZTpmdW5jdGlvbihjYWxsYmFjayl7dGhpcy51cGRhdGVTb3J0RGF0YSh0aGlzLiRhbGxBdG9tcyksdGhpcy5vcHRpb25zLnNvcnRCeT0icmFuZG9tIix0aGlzLl9zb3J0KCksdGhpcy5yZUxheW91dChjYWxsYmFjayl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdXNpbmdUcmFuc2Zvcm1zPXRoaXMudXNpbmdUcmFuc2Zvcm1zLG9wdGlvbnM9dGhpcy5vcHRpb25zO3RoaXMuJGFsbEF0b21zLnJlbW92ZUNsYXNzKG9wdGlvbnMuaGlkZGVuQ2xhc3MrIiAiK29wdGlvbnMuaXRlbUNsYXNzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHN0eWxlPXRoaXMuc3R5bGU7c3R5bGUucG9zaXRpb249IiIsc3R5bGUudG9wPSIiLHN0eWxlLmxlZnQ9IiIsc3R5bGUub3BhY2l0eT0iIix1c2luZ1RyYW5zZm9ybXMmJihzdHlsZVt0cmFuc2Zvcm1Qcm9wXT0iIil9KTt2YXIgZWxlbVN0eWxlPXRoaXMuZWxlbWVudFswXS5zdHlsZTtmb3IodmFyIHByb3AgaW4gdGhpcy5vcmlnaW5hbFN0eWxlKWVsZW1TdHlsZVtwcm9wXT10aGlzLm9yaWdpbmFsU3R5bGVbcHJvcF07dGhpcy5lbGVtZW50LnVuYmluZCgiLmlzb3RvcGUiKS51bmRlbGVnYXRlKCIuIitvcHRpb25zLmhpZGRlbkNsYXNzLCJjbGljayIpLnJlbW92ZUNsYXNzKG9wdGlvbnMuY29udGFpbmVyQ2xhc3MpLnJlbW92ZURhdGEoImlzb3RvcGUiKSwkd2luZG93LnVuYmluZCgiLmlzb3RvcGUiKX0sX2dldFNlZ21lbnRzOmZ1bmN0aW9uKGlzUm93cyl7dmFyIHNlZ21lbnRzLG5hbWVzcGFjZT10aGlzLm9wdGlvbnMubGF5b3V0TW9kZSxtZWFzdXJlPWlzUm93cz8icm93SGVpZ2h0IjoiY29sdW1uV2lkdGgiLHNpemU9aXNSb3dzPyJoZWlnaHQiOiJ3aWR0aCIsc2VnbWVudHNOYW1lPWlzUm93cz8icm93cyI6ImNvbHMiLGNvbnRhaW5lclNpemU9dGhpcy5lbGVtZW50W3NpemVdKCksc2VnbWVudFNpemU9dGhpcy5vcHRpb25zW25hbWVzcGFjZV0mJnRoaXMub3B0aW9uc1tuYW1lc3BhY2VdW21lYXN1cmVdfHx0aGlzLiRmaWx0ZXJlZEF0b21zWyJvdXRlciIrY2FwaXRhbGl6ZShzaXplKV0oITApfHxjb250YWluZXJTaXplO3NlZ21lbnRzPU1hdGguZmxvb3IoY29udGFpbmVyU2l6ZS9zZWdtZW50U2l6ZSksc2VnbWVudHM9TWF0aC5tYXgoc2VnbWVudHMsMSksdGhpc1tuYW1lc3BhY2VdW3NlZ21lbnRzTmFtZV09c2VnbWVudHMsdGhpc1tuYW1lc3BhY2VdW21lYXN1cmVdPXNlZ21lbnRTaXplfSxfY2hlY2tJZlNlZ21lbnRzQ2hhbmdlZDpmdW5jdGlvbihpc1Jvd3Mpe3ZhciBuYW1lc3BhY2U9dGhpcy5vcHRpb25zLmxheW91dE1vZGUsc2VnbWVudHNOYW1lPWlzUm93cz8icm93cyI6ImNvbHMiLHByZXZTZWdtZW50cz10aGlzW25hbWVzcGFjZV1bc2VnbWVudHNOYW1lXTtyZXR1cm4gdGhpcy5fZ2V0U2VnbWVudHMoaXNSb3dzKSx0aGlzW25hbWVzcGFjZV1bc2VnbWVudHNOYW1lXSE9PXByZXZTZWdtZW50c30sX21hc29ucnlSZXNldDpmdW5jdGlvbigpe3RoaXMubWFzb25yeT17fSx0aGlzLl9nZXRTZWdtZW50cygpO3ZhciBpPXRoaXMubWFzb25yeS5jb2xzO2Zvcih0aGlzLm1hc29ucnkuY29sWXM9W107aS0tOyl0aGlzLm1hc29ucnkuY29sWXMucHVzaCgwKX0sX21hc29ucnlMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxwcm9wcz1pbnN0YW5jZS5tYXNvbnJ5OyRlbGVtcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksY29sU3Bhbj1NYXRoLmNlaWwoJHRoaXMub3V0ZXJXaWR0aCghMCkvcHJvcHMuY29sdW1uV2lkdGgpO2lmKGNvbFNwYW49TWF0aC5taW4oY29sU3Bhbixwcm9wcy5jb2xzKSwxPT09Y29sU3BhbilpbnN0YW5jZS5fbWFzb25yeVBsYWNlQnJpY2soJHRoaXMscHJvcHMuY29sWXMpO2Vsc2V7dmFyIGdyb3VwQ29sWSxpLGdyb3VwQ291bnQ9cHJvcHMuY29scysxLWNvbFNwYW4sZ3JvdXBZPVtdO2ZvcihpPTA7Z3JvdXBDb3VudD5pO2krKylncm91cENvbFk9cHJvcHMuY29sWXMuc2xpY2UoaSxpK2NvbFNwYW4pLGdyb3VwWVtpXT1NYXRoLm1heC5hcHBseShNYXRoLGdyb3VwQ29sWSk7aW5zdGFuY2UuX21hc29ucnlQbGFjZUJyaWNrKCR0aGlzLGdyb3VwWSl9fSl9LF9tYXNvbnJ5UGxhY2VCcmljazpmdW5jdGlvbigkYnJpY2ssc2V0WSl7Zm9yKHZhciBtaW5pbXVtWT1NYXRoLm1pbi5hcHBseShNYXRoLHNldFkpLHNob3J0Q29sPTAsaT0wLGxlbj1zZXRZLmxlbmd0aDtsZW4+aTtpKyspaWYoc2V0WVtpXT09PW1pbmltdW1ZKXtzaG9ydENvbD1pO2JyZWFrfXZhciB4PXRoaXMubWFzb25yeS5jb2x1bW5XaWR0aCpzaG9ydENvbCx5PW1pbmltdW1ZO3RoaXMuX3B1c2hQb3NpdGlvbigkYnJpY2sseCx5KTt2YXIgc2V0SGVpZ2h0PW1pbmltdW1ZKyRicmljay5vdXRlckhlaWdodCghMCksc2V0U3Bhbj10aGlzLm1hc29ucnkuY29scysxLWxlbjtmb3IoaT0wO3NldFNwYW4+aTtpKyspdGhpcy5tYXNvbnJ5LmNvbFlzW3Nob3J0Q29sK2ldPXNldEhlaWdodH0sX21hc29ucnlHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7dmFyIGNvbnRhaW5lckhlaWdodD1NYXRoLm1heC5hcHBseShNYXRoLHRoaXMubWFzb25yeS5jb2xZcyk7cmV0dXJue2hlaWdodDpjb250YWluZXJIZWlnaHR9fSxfbWFzb25yeVJlc2l6ZUNoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tJZlNlZ21lbnRzQ2hhbmdlZCgpfSxfZml0Um93c1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5maXRSb3dzPXt4OjAseTowLGhlaWdodDowfX0sX2ZpdFJvd3NMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxjb250YWluZXJXaWR0aD10aGlzLmVsZW1lbnQud2lkdGgoKSxwcm9wcz10aGlzLmZpdFJvd3M7JGVsZW1zLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxhdG9tVz0kdGhpcy5vdXRlcldpZHRoKCEwKSxhdG9tSD0kdGhpcy5vdXRlckhlaWdodCghMCk7MCE9PXByb3BzLngmJmF0b21XK3Byb3BzLng+Y29udGFpbmVyV2lkdGgmJihwcm9wcy54PTAscHJvcHMueT1wcm9wcy5oZWlnaHQpLGluc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMscHJvcHMueCxwcm9wcy55KSxwcm9wcy5oZWlnaHQ9TWF0aC5tYXgocHJvcHMueSthdG9tSCxwcm9wcy5oZWlnaHQpLHByb3BzLngrPWF0b21XfSl9LF9maXRSb3dzR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybntoZWlnaHQ6dGhpcy5maXRSb3dzLmhlaWdodH19LF9maXRSb3dzUmVzaXplQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiEwfSxfY2VsbHNCeVJvd1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5jZWxsc0J5Um93PXtpbmRleDowfSx0aGlzLl9nZXRTZWdtZW50cygpLHRoaXMuX2dldFNlZ21lbnRzKCEwKX0sX2NlbGxzQnlSb3dMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxwcm9wcz10aGlzLmNlbGxzQnlSb3c7JGVsZW1zLmVhY2goZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKSxjb2w9cHJvcHMuaW5kZXglcHJvcHMuY29scyxyb3c9TWF0aC5mbG9vcihwcm9wcy5pbmRleC9wcm9wcy5jb2xzKSx4PShjb2wrLjUpKnByb3BzLmNvbHVtbldpZHRoLSR0aGlzLm91dGVyV2lkdGgoITApLzIseT0ocm93Ky41KSpwcm9wcy5yb3dIZWlnaHQtJHRoaXMub3V0ZXJIZWlnaHQoITApLzI7aW5zdGFuY2UuX3B1c2hQb3NpdGlvbigkdGhpcyx4LHkpLHByb3BzLmluZGV4Kyt9KX0sX2NlbGxzQnlSb3dHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7cmV0dXJue2hlaWdodDpNYXRoLmNlaWwodGhpcy4kZmlsdGVyZWRBdG9tcy5sZW5ndGgvdGhpcy5jZWxsc0J5Um93LmNvbHMpKnRoaXMuY2VsbHNCeVJvdy5yb3dIZWlnaHQrdGhpcy5vZmZzZXQudG9wfX0sX2NlbGxzQnlSb3dSZXNpemVDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrSWZTZWdtZW50c0NoYW5nZWQoKX0sX3N0cmFpZ2h0RG93blJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zdHJhaWdodERvd249e3k6MH19LF9zdHJhaWdodERvd25MYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpczskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpO2luc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMsMCxpbnN0YW5jZS5zdHJhaWdodERvd24ueSksaW5zdGFuY2Uuc3RyYWlnaHREb3duLnkrPSR0aGlzLm91dGVySGVpZ2h0KCEwKX0pfSxfc3RyYWlnaHREb3duR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybntoZWlnaHQ6dGhpcy5zdHJhaWdodERvd24ueX19LF9zdHJhaWdodERvd25SZXNpemVDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9tYXNvbnJ5SG9yaXpvbnRhbFJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5tYXNvbnJ5SG9yaXpvbnRhbD17fSx0aGlzLl9nZXRTZWdtZW50cyghMCk7dmFyIGk9dGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dzO2Zvcih0aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd1hzPVtdO2ktLTspdGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dYcy5wdXNoKDApfSxfbWFzb25yeUhvcml6b250YWxMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxwcm9wcz1pbnN0YW5jZS5tYXNvbnJ5SG9yaXpvbnRhbDskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLHJvd1NwYW49TWF0aC5jZWlsKCR0aGlzLm91dGVySGVpZ2h0KCEwKS9wcm9wcy5yb3dIZWlnaHQpO2lmKHJvd1NwYW49TWF0aC5taW4ocm93U3Bhbixwcm9wcy5yb3dzKSwxPT09cm93U3BhbilpbnN0YW5jZS5fbWFzb25yeUhvcml6b250YWxQbGFjZUJyaWNrKCR0aGlzLHByb3BzLnJvd1hzKTtlbHNle3ZhciBncm91cFJvd1gsaSxncm91cENvdW50PXByb3BzLnJvd3MrMS1yb3dTcGFuLGdyb3VwWD1bXTtmb3IoaT0wO2dyb3VwQ291bnQ+aTtpKyspZ3JvdXBSb3dYPXByb3BzLnJvd1hzLnNsaWNlKGksaStyb3dTcGFuKSxncm91cFhbaV09TWF0aC5tYXguYXBwbHkoTWF0aCxncm91cFJvd1gpO2luc3RhbmNlLl9tYXNvbnJ5SG9yaXpvbnRhbFBsYWNlQnJpY2soJHRoaXMsZ3JvdXBYKX19KX0sX21hc29ucnlIb3Jpem9udGFsUGxhY2VCcmljazpmdW5jdGlvbigkYnJpY2ssc2V0WCl7Zm9yKHZhciBtaW5pbXVtWD1NYXRoLm1pbi5hcHBseShNYXRoLHNldFgpLHNtYWxsUm93PTAsaT0wLGxlbj1zZXRYLmxlbmd0aDtsZW4+aTtpKyspaWYoc2V0WFtpXT09PW1pbmltdW1YKXtzbWFsbFJvdz1pO2JyZWFrfXZhciB4PW1pbmltdW1YLHk9dGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dIZWlnaHQqc21hbGxSb3c7dGhpcy5fcHVzaFBvc2l0aW9uKCRicmljayx4LHkpO3ZhciBzZXRXaWR0aD1taW5pbXVtWCskYnJpY2sub3V0ZXJXaWR0aCghMCksc2V0U3Bhbj10aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd3MrMS1sZW47CmZvcihpPTA7c2V0U3Bhbj5pO2krKyl0aGlzLm1hc29ucnlIb3Jpem9udGFsLnJvd1hzW3NtYWxsUm93K2ldPXNldFdpZHRofSxfbWFzb25yeUhvcml6b250YWxHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7dmFyIGNvbnRhaW5lcldpZHRoPU1hdGgubWF4LmFwcGx5KE1hdGgsdGhpcy5tYXNvbnJ5SG9yaXpvbnRhbC5yb3dYcyk7cmV0dXJue3dpZHRoOmNvbnRhaW5lcldpZHRofX0sX21hc29ucnlIb3Jpem9udGFsUmVzaXplQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0lmU2VnbWVudHNDaGFuZ2VkKCEwKX0sX2ZpdENvbHVtbnNSZXNldDpmdW5jdGlvbigpe3RoaXMuZml0Q29sdW1ucz17eDowLHk6MCx3aWR0aDowfX0sX2ZpdENvbHVtbnNMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpcyxjb250YWluZXJIZWlnaHQ9dGhpcy5lbGVtZW50LmhlaWdodCgpLHByb3BzPXRoaXMuZml0Q29sdW1uczskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpLGF0b21XPSR0aGlzLm91dGVyV2lkdGgoITApLGF0b21IPSR0aGlzLm91dGVySGVpZ2h0KCEwKTswIT09cHJvcHMueSYmYXRvbUgrcHJvcHMueT5jb250YWluZXJIZWlnaHQmJihwcm9wcy54PXByb3BzLndpZHRoLHByb3BzLnk9MCksaW5zdGFuY2UuX3B1c2hQb3NpdGlvbigkdGhpcyxwcm9wcy54LHByb3BzLnkpLHByb3BzLndpZHRoPU1hdGgubWF4KHByb3BzLngrYXRvbVcscHJvcHMud2lkdGgpLHByb3BzLnkrPWF0b21IfSl9LF9maXRDb2x1bW5zR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDp0aGlzLmZpdENvbHVtbnMud2lkdGh9fSxfZml0Q29sdW1uc1Jlc2l6ZUNoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX2NlbGxzQnlDb2x1bW5SZXNldDpmdW5jdGlvbigpe3RoaXMuY2VsbHNCeUNvbHVtbj17aW5kZXg6MH0sdGhpcy5fZ2V0U2VnbWVudHMoKSx0aGlzLl9nZXRTZWdtZW50cyghMCl9LF9jZWxsc0J5Q29sdW1uTGF5b3V0OmZ1bmN0aW9uKCRlbGVtcyl7dmFyIGluc3RhbmNlPXRoaXMscHJvcHM9dGhpcy5jZWxsc0J5Q29sdW1uOyRlbGVtcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksY29sPU1hdGguZmxvb3IocHJvcHMuaW5kZXgvcHJvcHMucm93cykscm93PXByb3BzLmluZGV4JXByb3BzLnJvd3MseD0oY29sKy41KSpwcm9wcy5jb2x1bW5XaWR0aC0kdGhpcy5vdXRlcldpZHRoKCEwKS8yLHk9KHJvdysuNSkqcHJvcHMucm93SGVpZ2h0LSR0aGlzLm91dGVySGVpZ2h0KCEwKS8yO2luc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMseCx5KSxwcm9wcy5pbmRleCsrfSl9LF9jZWxsc0J5Q29sdW1uR2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDpNYXRoLmNlaWwodGhpcy4kZmlsdGVyZWRBdG9tcy5sZW5ndGgvdGhpcy5jZWxsc0J5Q29sdW1uLnJvd3MpKnRoaXMuY2VsbHNCeUNvbHVtbi5jb2x1bW5XaWR0aH19LF9jZWxsc0J5Q29sdW1uUmVzaXplQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0lmU2VnbWVudHNDaGFuZ2VkKCEwKX0sX3N0cmFpZ2h0QWNyb3NzUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmFpZ2h0QWNyb3NzPXt4OjB9fSxfc3RyYWlnaHRBY3Jvc3NMYXlvdXQ6ZnVuY3Rpb24oJGVsZW1zKXt2YXIgaW5zdGFuY2U9dGhpczskZWxlbXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpO2luc3RhbmNlLl9wdXNoUG9zaXRpb24oJHRoaXMsaW5zdGFuY2Uuc3RyYWlnaHRBY3Jvc3MueCwwKSxpbnN0YW5jZS5zdHJhaWdodEFjcm9zcy54Kz0kdGhpcy5vdXRlcldpZHRoKCEwKX0pfSxfc3RyYWlnaHRBY3Jvc3NHZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOnRoaXMuc3RyYWlnaHRBY3Jvc3MueH19LF9zdHJhaWdodEFjcm9zc1Jlc2l6ZUNoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LCQuZm4uaW1hZ2VzTG9hZGVkPWZ1bmN0aW9uKGNhbGxiYWNrKXtmdW5jdGlvbiB0cmlnZ2VyQ2FsbGJhY2soKXtjYWxsYmFjay5jYWxsKCR0aGlzLCRpbWFnZXMpfWZ1bmN0aW9uIGltZ0xvYWRlZChldmVudCl7dmFyIGltZz1ldmVudC50YXJnZXQ7aW1nLnNyYyE9PWJsYW5rJiYtMT09PSQuaW5BcnJheShpbWcsbG9hZGVkKSYmKGxvYWRlZC5wdXNoKGltZyksLS1sZW48PTAmJihzZXRUaW1lb3V0KHRyaWdnZXJDYWxsYmFjayksJGltYWdlcy51bmJpbmQoIi5pbWFnZXNMb2FkZWQiLGltZ0xvYWRlZCkpKX12YXIgJHRoaXM9dGhpcywkaW1hZ2VzPSR0aGlzLmZpbmQoImltZyIpLmFkZCgkdGhpcy5maWx0ZXIoImltZyIpKSxsZW49JGltYWdlcy5sZW5ndGgsYmxhbms9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0iLGxvYWRlZD1bXTtyZXR1cm4gbGVufHx0cmlnZ2VyQ2FsbGJhY2soKSwkaW1hZ2VzLmJpbmQoImxvYWQuaW1hZ2VzTG9hZGVkIGVycm9yLmltYWdlc0xvYWRlZCIsaW1nTG9hZGVkKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHNyYz10aGlzLnNyYzt0aGlzLnNyYz1ibGFuayx0aGlzLnNyYz1zcmN9KSwkdGhpc307dmFyIGxvZ0Vycm9yPWZ1bmN0aW9uKG1lc3NhZ2Upe3dpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5lcnJvcihtZXNzYWdlKX07JC5mbi5pc290b3BlPWZ1bmN0aW9uKG9wdGlvbnMsY2FsbGJhY2spe2lmKCJzdHJpbmciPT10eXBlb2Ygb3B0aW9ucyl7dmFyIGFyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpbnN0YW5jZT0kLmRhdGEodGhpcywiaXNvdG9wZSIpO3JldHVybiBpbnN0YW5jZT8kLmlzRnVuY3Rpb24oaW5zdGFuY2Vbb3B0aW9uc10pJiYiXyIhPT1vcHRpb25zLmNoYXJBdCgwKT92b2lkIGluc3RhbmNlW29wdGlvbnNdLmFwcGx5KGluc3RhbmNlLGFyZ3MpOnZvaWQgbG9nRXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK29wdGlvbnMrIicgZm9yIGlzb3RvcGUgaW5zdGFuY2UiKTp2b2lkIGxvZ0Vycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIGlzb3RvcGUgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitvcHRpb25zKyInIil9KX1lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpbnN0YW5jZT0kLmRhdGEodGhpcywiaXNvdG9wZSIpO2luc3RhbmNlPyhpbnN0YW5jZS5vcHRpb24ob3B0aW9ucyksaW5zdGFuY2UuX2luaXQoY2FsbGJhY2spKTokLmRhdGEodGhpcywiaXNvdG9wZSIsbmV3ICQuSXNvdG9wZShvcHRpb25zLHRoaXMsY2FsbGJhY2spKX0pO3JldHVybiB0aGlzfX0od2luZG93LGpRdWVyeSksZnVuY3Rpb24ocm9vdCl7ZnVuY3Rpb24gbm9ybWFsaXplKHZhbCxzaW5nbGUpe3ZhciBtYXJnaW49LjE7cmV0dXJuIHZhbD49c2luZ2xlJiZzaW5nbGUqKDErbWFyZ2luKT49dmFsP3NpbmdsZTp2YWx9dmFyIGxhbmc9e2FnbzoiQWdvIixmcm9tOiIiLG5vdzoiSnVzdCBOb3ciLG1pbnV0ZToiTWludXRlIixtaW51dGVzOiJNaW51dGVzIixob3VyOiJIb3VyIixob3VyczoiSG91cnMiLGRheToiRGF5IixkYXlzOiJEYXlzIix3ZWVrOiJXZWVrIix3ZWVrczoiV2Vla3MiLG1vbnRoOiJNb250aCIsbW9udGhzOiJNb250aHMiLHllYXI6IlllYXIiLHllYXJzOiJZZWFycyJ9LGZvcm1hdHM9W1s2MCxsYW5nLm5vd10sWzM2MDAsbGFuZy5taW51dGUsbGFuZy5taW51dGVzLDYwXSxbODY0MDAsbGFuZy5ob3VyLGxhbmcuaG91cnMsMzYwMF0sWzYwNDgwMCxsYW5nLmRheSxsYW5nLmRheXMsODY0MDBdLFsyNjI4ZTMsbGFuZy53ZWVrLGxhbmcud2Vla3MsNjA0ODAwXSxbMzE1MzZlMyxsYW5nLm1vbnRoLGxhbmcubW9udGhzLDI2MjhlM10sWzEvMCxsYW5nLnllYXIsbGFuZy55ZWFycywzMTUzNmUzXV07cm9vdC5odW1hbmVEYXRlPWZ1bmN0aW9uKGRhdGUsY29tcGFyZVRvKXtpZihkYXRlKXt2YXIgdG9rZW4saXNTdHJpbmc9InN0cmluZyI9PXR5cGVvZiBkYXRlLGRhdGU9aXNTdHJpbmc/bmV3IERhdGUoKCIiK2RhdGUpLnJlcGxhY2UoLy0vZywiLyIpLnJlcGxhY2UoL1R8KD86XC5cZCspP1ovZywiICIpKTpkYXRlLGNvbXBhcmVUbz1jb21wYXJlVG98fG5ldyBEYXRlLHNlY29uZHM9KGNvbXBhcmVUby1kYXRlKzZlNCooY29tcGFyZVRvLmdldFRpbWV6b25lT2Zmc2V0KCktKGlzU3RyaW5nPzA6ZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKSkpLzFlMzswPnNlY29uZHM/KHNlY29uZHM9TWF0aC5hYnMoc2Vjb25kcyksdG9rZW49bGFuZy5mcm9tPyIgIitsYW5nLmZyb206IiIpOnRva2VuPWxhbmcuYWdvPyIgIitsYW5nLmFnbzoiIjtmb3IodmFyIGk9MCxmb3JtYXQ9Zm9ybWF0c1swXTtmb3JtYXRzW2ldO2Zvcm1hdD1mb3JtYXRzWysraV0paWYoc2Vjb25kczxmb3JtYXRbMF0pe2lmKDA9PT1pKXJldHVybiBmb3JtYXRbMV07dmFyIHZhbD1NYXRoLmNlaWwobm9ybWFsaXplKHNlY29uZHMsZm9ybWF0WzNdKS9mb3JtYXRbM10pO3JldHVybiB2YWwrIiAiKygxIT12YWw/Zm9ybWF0WzJdOmZvcm1hdFsxXSkrKGk+MD90b2tlbjoiIil9fX0sInVuZGVmaW5lZCIhPXR5cGVvZiBqUXVlcnkmJihqUXVlcnkuZm4uaHVtYW5lRGF0ZXM9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIHNldHRpbmdzPWpRdWVyeS5leHRlbmQoe2xvd2VyY2FzZTohMX0sb3B0aW9ucyk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciAkdD1qUXVlcnkodGhpcyksZGF0ZT0kdC5hdHRyKCJkYXRldGltZSIpfHwkdC5hdHRyKCJ0aXRsZSIpO2RhdGU9aHVtYW5lRGF0ZShkYXRlKSxkYXRlJiZzZXR0aW5ncy5sb3dlcmNhc2UmJihkYXRlPWRhdGUudG9Mb3dlckNhc2UoKSksZGF0ZSYmJHQuaHRtbCgpIT1kYXRlJiYkdC5odG1sKGRhdGUpfSl9KX0odGhpcyksZnVuY3Rpb24oJCl7ZnVuY3Rpb24gU2Nyb2xsQm90dG9tKHdpbixvcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9ucz8kLmV4dGVuZChkZWZhdWx0cyxvcHRpb25zKTpkZWZhdWx0cyx0aGlzLndpbj13aW4sdGhpcy5zY3JvbGxUb3A9JChkb2N1bWVudCkuc2Nyb2xsVG9wKCksdGhpcy5wYWdlSGVpZ2h0PSQoZG9jdW1lbnQpLmhlaWdodCgpLSQod2luZG93KS5oZWlnaHQoKSx3aW49PT13aW5kb3cmJiQod2luKS5vbigic2Nyb2xsZW5kLnNiIiwkLnByb3h5KHRoaXMuc2Nyb2xsSGFuZGxlcix0aGlzKSl9dmFyIGRlZmF1bHRzPXtvZmZzZXRZOjAsY2FsbGJhY2s6ZnVuY3Rpb24oKXt9fTtTY3JvbGxCb3R0b20ucHJvdG90eXBlLnNjcm9sbEhhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgZGlyZWN0aW9uPSQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpPnRoaXMuc2Nyb2xsVG9wPyJib3R0b20iOiJ0b3AiO3RoaXMuc2Nyb2xsVG9wPSQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLHRoaXMucGFnZUhlaWdodD0kKGRvY3VtZW50KS5oZWlnaHQoKS0kKHdpbmRvdykuaGVpZ2h0KCksdGhpcy5zY3JvbGxUb3A+PXRoaXMucGFnZUhlaWdodCt0aGlzLm9wdGlvbnMub2Zmc2V0WSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5jYWxsYmFjayYmJCh0aGlzLndpbikudHJpZ2dlcigic2Nyb2xsQm90dG9tIixbZGlyZWN0aW9uLHRoaXMuc2Nyb2xsVG9wLHRoaXMucGFnZUhlaWdodF0pfSwkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsQm90dG9tPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBzY3JvbGxUaW1lcixlbD10aGlzOyQoZWwpLm9uKCJzY3JvbGwuc2IiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVyKSxzY3JvbGxUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChlbCkudHJpZ2dlcigic2Nyb2xsZW5kLnNiIil9LDIwMCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXskKHdpbmRvdykub2ZmKCIuc2IiKX0sYWRkOmZ1bmN0aW9uKGhhbmRsZU9iail7e3ZhciBvcHRpb25zPSJvYmplY3QiPT10eXBlb2YgaGFuZGxlT2JqLmRhdGE/aGFuZGxlT2JqLmRhdGE6e307bmV3IFNjcm9sbEJvdHRvbSh0aGlzLG9wdGlvbnMpfX19fShqUXVlcnkpO3ZhciBIb2dhbj17fTshZnVuY3Rpb24oSG9nYW4sdXNlQXJyYXlCdWZmZXIpe2Z1bmN0aW9uIGNvZXJjZVRvU3RyaW5nKHZhbCl7cmV0dXJuIFN0cmluZyhudWxsPT09dmFsfHx2b2lkIDA9PT12YWw/IiI6dmFsKX1mdW5jdGlvbiBob2dhbkVzY2FwZShzdHIpe3JldHVybiBzdHI9Y29lcmNlVG9TdHJpbmcoc3RyKSxoQ2hhcnMudGVzdChzdHIpP3N0ci5yZXBsYWNlKHJBbXAsIiZhbXA7IikucmVwbGFjZShyTHQsIiZsdDsiKS5yZXBsYWNlKHJHdCwiJmd0OyIpLnJlcGxhY2UockFwb3MsIiYjMzk7IikucmVwbGFjZShyUXVvdCwiJnF1b3Q7Iik6c3RyfUhvZ2FuLlRlbXBsYXRlPWZ1bmN0aW9uKHJlbmRlckZ1bmMsdGV4dCxjb21waWxlcixvcHRpb25zKXt0aGlzLnI9cmVuZGVyRnVuY3x8dGhpcy5yLHRoaXMuYz1jb21waWxlcix0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLnRleHQ9dGV4dHx8IiIsdGhpcy5idWY9dXNlQXJyYXlCdWZmZXI/W106IiJ9LEhvZ2FuLlRlbXBsYXRlLnByb3RvdHlwZT17cjpmdW5jdGlvbigpe3JldHVybiIifSx2OmhvZ2FuRXNjYXBlLHQ6Y29lcmNlVG9TdHJpbmcscmVuZGVyOmZ1bmN0aW9uKGNvbnRleHQscGFydGlhbHMsaW5kZW50KXtyZXR1cm4gdGhpcy5yaShbY29udGV4dF0scGFydGlhbHN8fHt9LGluZGVudCl9LHJpOmZ1bmN0aW9uKGNvbnRleHQscGFydGlhbHMsaW5kZW50KXtyZXR1cm4gdGhpcy5yKGNvbnRleHQscGFydGlhbHMsaW5kZW50KX0scnA6ZnVuY3Rpb24obmFtZSxjb250ZXh0LHBhcnRpYWxzLGluZGVudCl7dmFyIHBhcnRpYWw9cGFydGlhbHNbbmFtZV07cmV0dXJuIHBhcnRpYWw/KHRoaXMuYyYmInN0cmluZyI9PXR5cGVvZiBwYXJ0aWFsJiYocGFydGlhbD10aGlzLmMuY29tcGlsZShwYXJ0aWFsLHRoaXMub3B0aW9ucykpLHBhcnRpYWwucmkoY29udGV4dCxwYXJ0aWFscyxpbmRlbnQpKToiIn0scnM6ZnVuY3Rpb24oY29udGV4dCxwYXJ0aWFscyxzZWN0aW9uKXt2YXIgdGFpbD1jb250ZXh0W2NvbnRleHQubGVuZ3RoLTFdO2lmKCFpc0FycmF5KHRhaWwpKXJldHVybiB2b2lkIHNlY3Rpb24oY29udGV4dCxwYXJ0aWFscyx0aGlzKTtmb3IodmFyIGk9MDtpPHRhaWwubGVuZ3RoO2krKyljb250ZXh0LnB1c2godGFpbFtpXSksc2VjdGlvbihjb250ZXh0LHBhcnRpYWxzLHRoaXMpLGNvbnRleHQucG9wKCl9LHM6ZnVuY3Rpb24odmFsLGN0eCxwYXJ0aWFscyxpbnZlcnRlZCxzdGFydCxlbmQsdGFncyl7dmFyIHBhc3M7cmV0dXJuIGlzQXJyYXkodmFsKSYmMD09PXZhbC5sZW5ndGg/ITE6KCJmdW5jdGlvbiI9PXR5cGVvZiB2YWwmJih2YWw9dGhpcy5scyh2YWwsY3R4LHBhcnRpYWxzLGludmVydGVkLHN0YXJ0LGVuZCx0YWdzKSkscGFzcz0iIj09PXZhbHx8ISF2YWwsIWludmVydGVkJiZwYXNzJiZjdHgmJmN0eC5wdXNoKCJvYmplY3QiPT10eXBlb2YgdmFsP3ZhbDpjdHhbY3R4Lmxlbmd0aC0xXSkscGFzcyl9LGQ6ZnVuY3Rpb24oa2V5LGN0eCxwYXJ0aWFscyxyZXR1cm5Gb3VuZCl7dmFyIG5hbWVzPWtleS5zcGxpdCgiLiIpLHZhbD10aGlzLmYobmFtZXNbMF0sY3R4LHBhcnRpYWxzLHJldHVybkZvdW5kKSxjeD1udWxsO2lmKCIuIj09PWtleSYmaXNBcnJheShjdHhbY3R4Lmxlbmd0aC0yXSkpcmV0dXJuIGN0eFtjdHgubGVuZ3RoLTFdO2Zvcih2YXIgaT0xO2k8bmFtZXMubGVuZ3RoO2krKyl2YWwmJiJvYmplY3QiPT10eXBlb2YgdmFsJiZuYW1lc1tpXWluIHZhbD8oY3g9dmFsLHZhbD12YWxbbmFtZXNbaV1dKTp2YWw9IiI7cmV0dXJuIHJldHVybkZvdW5kJiYhdmFsPyExOihyZXR1cm5Gb3VuZHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHZhbHx8KGN0eC5wdXNoKGN4KSx2YWw9dGhpcy5sdih2YWwsY3R4LHBhcnRpYWxzKSxjdHgucG9wKCkpLHZhbCl9LGY6ZnVuY3Rpb24oa2V5LGN0eCxwYXJ0aWFscyxyZXR1cm5Gb3VuZCl7Zm9yKHZhciB2YWw9ITEsdj1udWxsLGZvdW5kPSExLGk9Y3R4Lmxlbmd0aC0xO2k+PTA7aS0tKWlmKHY9Y3R4W2ldLHYmJiJvYmplY3QiPT10eXBlb2YgdiYma2V5IGluIHYpe3ZhbD12W2tleV0sZm91bmQ9ITA7YnJlYWt9cmV0dXJuIGZvdW5kPyhyZXR1cm5Gb3VuZHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHZhbHx8KHZhbD10aGlzLmx2KHZhbCxjdHgscGFydGlhbHMpKSx2YWwpOnJldHVybkZvdW5kPyExOiIifSxobzpmdW5jdGlvbih2YWwsY3gscGFydGlhbHMsdGV4dCx0YWdzKXt2YXIgY29tcGlsZXI9dGhpcy5jLG9wdGlvbnM9dGhpcy5vcHRpb25zO29wdGlvbnMuZGVsaW1pdGVycz10YWdzO3ZhciB0ZXh0PXZhbC5jYWxsKGN4LHRleHQpO3JldHVybiB0ZXh0PW51bGw9PXRleHQ/U3RyaW5nKHRleHQpOnRleHQudG9TdHJpbmcoKSx0aGlzLmIoY29tcGlsZXIuY29tcGlsZSh0ZXh0LG9wdGlvbnMpLnJlbmRlcihjeCxwYXJ0aWFscykpLCExfSxiOnVzZUFycmF5QnVmZmVyP2Z1bmN0aW9uKHMpe3RoaXMuYnVmLnB1c2gocyl9OmZ1bmN0aW9uKHMpe3RoaXMuYnVmKz1zfSxmbDp1c2VBcnJheUJ1ZmZlcj9mdW5jdGlvbigpe3ZhciByPXRoaXMuYnVmLmpvaW4oIiIpO3JldHVybiB0aGlzLmJ1Zj1bXSxyfTpmdW5jdGlvbigpe3ZhciByPXRoaXMuYnVmO3JldHVybiB0aGlzLmJ1Zj0iIixyfSxsczpmdW5jdGlvbih2YWwsY3R4LHBhcnRpYWxzLGludmVydGVkLHN0YXJ0LGVuZCx0YWdzKXt2YXIgY3g9Y3R4W2N0eC5sZW5ndGgtMV0sdD1udWxsO2lmKCFpbnZlcnRlZCYmdGhpcy5jJiZ2YWwubGVuZ3RoPjApcmV0dXJuIHRoaXMuaG8odmFsLGN4LHBhcnRpYWxzLHRoaXMudGV4dC5zdWJzdHJpbmcoc3RhcnQsZW5kKSx0YWdzKTtpZih0PXZhbC5jYWxsKGN4KSwiZnVuY3Rpb24iPT10eXBlb2YgdCl7aWYoaW52ZXJ0ZWQpcmV0dXJuITA7aWYodGhpcy5jKXJldHVybiB0aGlzLmhvKHQsY3gscGFydGlhbHMsdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCxlbmQpLHRhZ3MpfXJldHVybiB0fSxsdjpmdW5jdGlvbih2YWwsY3R4LHBhcnRpYWxzKXt2YXIgY3g9Y3R4W2N0eC5sZW5ndGgtMV0scmVzdWx0PXZhbC5jYWxsKGN4KTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgcmVzdWx0JiYocmVzdWx0PWNvZXJjZVRvU3RyaW5nKHJlc3VsdC5jYWxsKGN4KSksdGhpcy5jJiZ+cmVzdWx0LmluZGV4T2YoInt7IikpP3RoaXMuYy5jb21waWxlKHJlc3VsdCx0aGlzLm9wdGlvbnMpLnJlbmRlcihjeCxwYXJ0aWFscyk6Y29lcmNlVG9TdHJpbmcocmVzdWx0KX19O3ZhciByQW1wPS8mL2csckx0PS88L2csckd0PS8+L2csckFwb3M9L1wnL2csclF1b3Q9L1wiL2csaENoYXJzPS9bJjw+XCJcJ10vLGlzQXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX19KCJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOkhvZ2FuKSxmdW5jdGlvbigkKXt2YXIgbWZwLF9wcmV2U3RhdHVzLF9ib2R5LF9kb2N1bWVudCxfcHJldkNvbnRlbnRUeXBlLF93cmFwQ2xhc3NlcyxfY3VyclBvcHVwVHlwZSxDTE9TRV9FVkVOVD0iQ2xvc2UiLEJFRk9SRV9DTE9TRV9FVkVOVD0iQmVmb3JlQ2xvc2UiLEFGVEVSX0NMT1NFX0VWRU5UPSJBZnRlckNsb3NlIixCRUZPUkVfQVBQRU5EX0VWRU5UPSJCZWZvcmVBcHBlbmQiLE1BUktVUF9QQVJTRV9FVkVOVD0iTWFya3VwUGFyc2UiLE9QRU5fRVZFTlQ9Ik9wZW4iLENIQU5HRV9FVkVOVD0iQ2hhbmdlIixOUz0ibWZwIixFVkVOVF9OUz0iLiIrTlMsUkVBRFlfQ0xBU1M9Im1mcC1yZWFkeSIsUkVNT1ZJTkdfQ0xBU1M9Im1mcC1yZW1vdmluZyIsUFJFVkVOVF9DTE9TRV9DTEFTUz0ibWZwLXByZXZlbnQtY2xvc2UiLE1hZ25pZmljUG9wdXA9ZnVuY3Rpb24oKXt9LF9pc0pRPSEhd2luZG93LmpRdWVyeSxfd2luZG93PSQod2luZG93KSxfbWZwT249ZnVuY3Rpb24obmFtZSxmKXttZnAuZXYub24oTlMrbmFtZStFVkVOVF9OUyxmKX0sX2dldEVsPWZ1bmN0aW9uKGNsYXNzTmFtZSxhcHBlbmRUbyxodG1sLHJhdyl7dmFyIGVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlbC5jbGFzc05hbWU9Im1mcC0iK2NsYXNzTmFtZSxodG1sJiYoZWwuaW5uZXJIVE1MPWh0bWwpLHJhdz9hcHBlbmRUbyYmYXBwZW5kVG8uYXBwZW5kQ2hpbGQoZWwpOihlbD0kKGVsKSxhcHBlbmRUbyYmZWwuYXBwZW5kVG8oYXBwZW5kVG8pKSxlbH0sX21mcFRyaWdnZXI9ZnVuY3Rpb24oZSxkYXRhKXttZnAuZXYudHJpZ2dlckhhbmRsZXIoTlMrZSxkYXRhKSxtZnAuc3QuY2FsbGJhY2tzJiYoZT1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Uuc2xpY2UoMSksbWZwLnN0LmNhbGxiYWNrc1tlXSYmbWZwLnN0LmNhbGxiYWNrc1tlXS5hcHBseShtZnAsJC5pc0FycmF5KGRhdGEpP2RhdGE6W2RhdGFdKSl9LF9nZXRDbG9zZUJ0bj1mdW5jdGlvbih0eXBlKXtyZXR1cm4gdHlwZT09PV9jdXJyUG9wdXBUeXBlJiZtZnAuY3VyclRlbXBsYXRlLmNsb3NlQnRufHwobWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bj0kKG1mcC5zdC5jbG9zZU1hcmt1cC5yZXBsYWNlKCIldGl0bGUlIixtZnAuc3QudENsb3NlKSksX2N1cnJQb3B1cFR5cGU9dHlwZSksbWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bn0sX2NoZWNrSW5zdGFuY2U9ZnVuY3Rpb24oKXskLm1hZ25pZmljUG9wdXAuaW5zdGFuY2V8fChtZnA9bmV3IE1hZ25pZmljUG9wdXAsbWZwLmluaXQoKSwkLm1hZ25pZmljUG9wdXAuaW5zdGFuY2U9bWZwKX0sc3VwcG9ydHNUcmFuc2l0aW9ucz1mdW5jdGlvbigpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKS5zdHlsZSx2PVsibXMiLCJPIiwiTW96IiwiV2Via2l0Il07aWYodm9pZCAwIT09cy50cmFuc2l0aW9uKXJldHVybiEwO2Zvcig7di5sZW5ndGg7KWlmKHYucG9wKCkrIlRyYW5zaXRpb24iaW4gcylyZXR1cm4hMDtyZXR1cm4hMX07TWFnbmlmaWNQb3B1cC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk1hZ25pZmljUG9wdXAsaW5pdDpmdW5jdGlvbigpe3ZhciBhcHBWZXJzaW9uPW5hdmlnYXRvci5hcHBWZXJzaW9uO21mcC5pc0lFNz0tMSE9PWFwcFZlcnNpb24uaW5kZXhPZigiTVNJRSA3LiIpLG1mcC5pc0lFOD0tMSE9PWFwcFZlcnNpb24uaW5kZXhPZigiTVNJRSA4LiIpLG1mcC5pc0xvd0lFPW1mcC5pc0lFN3x8bWZwLmlzSUU4LG1mcC5pc0FuZHJvaWQ9L2FuZHJvaWQvZ2kudGVzdChhcHBWZXJzaW9uKSxtZnAuaXNJT1M9L2lwaG9uZXxpcGFkfGlwb2QvZ2kudGVzdChhcHBWZXJzaW9uKSxtZnAuc3VwcG9ydHNUcmFuc2l0aW9uPXN1cHBvcnRzVHJhbnNpdGlvbnMoKSxtZnAucHJvYmFibHlNb2JpbGU9bWZwLmlzQW5kcm9pZHx8bWZwLmlzSU9TfHwvKE9wZXJhIE1pbmkpfEtpbmRsZXx3ZWJPU3xCbGFja0JlcnJ5fChPcGVyYSBNb2JpKXwoV2luZG93cyBQaG9uZSl8SUVNb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLF9ib2R5PSQoZG9jdW1lbnQuYm9keSksX2RvY3VtZW50PSQoZG9jdW1lbnQpLG1mcC5wb3B1cHNDYWNoZT17fX0sb3BlbjpmdW5jdGlvbihkYXRhKXt2YXIgaTtpZihkYXRhLmlzT2JqPT09ITEpe21mcC5pdGVtcz1kYXRhLml0ZW1zLnRvQXJyYXkoKSxtZnAuaW5kZXg9MDt2YXIgaXRlbSxpdGVtcz1kYXRhLml0ZW1zO2ZvcihpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKWlmKGl0ZW09aXRlbXNbaV0saXRlbS5wYXJzZWQmJihpdGVtPWl0ZW0uZWxbMF0pLGl0ZW09PT1kYXRhLmVsWzBdKXttZnAuaW5kZXg9aTticmVha319ZWxzZSBtZnAuaXRlbXM9JC5pc0FycmF5KGRhdGEuaXRlbXMpP2RhdGEuaXRlbXM6W2RhdGEuaXRlbXNdLG1mcC5pbmRleD1kYXRhLmluZGV4fHwwO2lmKG1mcC5pc09wZW4pcmV0dXJuIHZvaWQgbWZwLnVwZGF0ZUl0ZW1IVE1MKCk7bWZwLnR5cGVzPVtdLF93cmFwQ2xhc3Nlcz0iIixtZnAuZXY9ZGF0YS5tYWluRWwmJmRhdGEubWFpbkVsLmxlbmd0aD9kYXRhLm1haW5FbC5lcSgwKTpfZG9jdW1lbnQsZGF0YS5rZXk/KG1mcC5wb3B1cHNDYWNoZVtkYXRhLmtleV18fChtZnAucG9wdXBzQ2FjaGVbZGF0YS5rZXldPXt9KSxtZnAuY3VyclRlbXBsYXRlPW1mcC5wb3B1cHNDYWNoZVtkYXRhLmtleV0pOm1mcC5jdXJyVGVtcGxhdGU9e30sbWZwLnN0PSQuZXh0ZW5kKCEwLHt9LCQubWFnbmlmaWNQb3B1cC5kZWZhdWx0cyxkYXRhKSxtZnAuZml4ZWRDb250ZW50UG9zPSJhdXRvIj09PW1mcC5zdC5maXhlZENvbnRlbnRQb3M/IW1mcC5wcm9iYWJseU1vYmlsZTptZnAuc3QuZml4ZWRDb250ZW50UG9zLG1mcC5zdC5tb2RhbCYmKG1mcC5zdC5jbG9zZU9uQ29udGVudENsaWNrPSExLG1mcC5zdC5jbG9zZU9uQmdDbGljaz0hMSxtZnAuc3Quc2hvd0Nsb3NlQnRuPSExLG1mcC5zdC5lbmFibGVFc2NhcGVLZXk9ITEpLG1mcC5iZ092ZXJsYXl8fChtZnAuYmdPdmVybGF5PV9nZXRFbCgiYmciKS5vbigiY2xpY2siK0VWRU5UX05TLGZ1bmN0aW9uKCl7bWZwLmNsb3NlKCl9KSxtZnAud3JhcD1fZ2V0RWwoIndyYXAiKS5hdHRyKCJ0YWJpbmRleCIsLTEpLm9uKCJjbGljayIrRVZFTlRfTlMsZnVuY3Rpb24oZSl7bWZwLl9jaGVja0lmQ2xvc2UoZS50YXJnZXQpJiZtZnAuY2xvc2UoKX0pLG1mcC5jb250YWluZXI9X2dldEVsKCJjb250YWluZXIiLG1mcC53cmFwKSksbWZwLmNvbnRlbnRDb250YWluZXI9X2dldEVsKCJjb250ZW50IiksbWZwLnN0LnByZWxvYWRlciYmKG1mcC5wcmVsb2FkZXI9X2dldEVsKCJwcmVsb2FkZXIiLG1mcC5jb250YWluZXIsbWZwLnN0LnRMb2FkaW5nKSk7dmFyIG1vZHVsZXM9JC5tYWduaWZpY1BvcHVwLm1vZHVsZXM7Zm9yKGk9MDtpPG1vZHVsZXMubGVuZ3RoO2krKyl7dmFyIG49bW9kdWxlc1tpXTtuPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxtZnBbImluaXQiK25dLmNhbGwobWZwKX1fbWZwVHJpZ2dlcigiQmVmb3JlT3BlbiIpLG1mcC5zdC5zaG93Q2xvc2VCdG4mJihtZnAuc3QuY2xvc2VCdG5JbnNpZGU/KF9tZnBPbihNQVJLVVBfUEFSU0VfRVZFTlQsZnVuY3Rpb24oZSx0ZW1wbGF0ZSx2YWx1ZXMsaXRlbSl7dmFsdWVzLmNsb3NlX3JlcGxhY2VXaXRoPV9nZXRDbG9zZUJ0bihpdGVtLnR5cGUpfSksX3dyYXBDbGFzc2VzKz0iIG1mcC1jbG9zZS1idG4taW4iKTptZnAud3JhcC5hcHBlbmQoX2dldENsb3NlQnRuKCkpKSxtZnAuc3QuYWxpZ25Ub3AmJihfd3JhcENsYXNzZXMrPSIgbWZwLWFsaWduLXRvcCIpLG1mcC53cmFwLmNzcyhtZnAuZml4ZWRDb250ZW50UG9zP3tvdmVyZmxvdzptZnAuc3Qub3ZlcmZsb3dZLG92ZXJmbG93WDoiaGlkZGVuIixvdmVyZmxvd1k6bWZwLnN0Lm92ZXJmbG93WX06e3RvcDpfd2luZG93LnNjcm9sbFRvcCgpLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KSwobWZwLnN0LmZpeGVkQmdQb3M9PT0hMXx8ImF1dG8iPT09bWZwLnN0LmZpeGVkQmdQb3MmJiFtZnAuZml4ZWRDb250ZW50UG9zKSYmbWZwLmJnT3ZlcmxheS5jc3Moe2hlaWdodDpfZG9jdW1lbnQuaGVpZ2h0KCkscG9zaXRpb246ImFic29sdXRlIn0pLG1mcC5zdC5lbmFibGVFc2NhcGVLZXkmJl9kb2N1bWVudC5vbigia2V5dXAiK0VWRU5UX05TLGZ1bmN0aW9uKGUpezI3PT09ZS5rZXlDb2RlJiZtZnAuY2xvc2UoKX0pLF93aW5kb3cub24oInJlc2l6ZSIrRVZFTlRfTlMsZnVuY3Rpb24oKXttZnAudXBkYXRlU2l6ZSgpfSksbWZwLnN0LmNsb3NlT25Db250ZW50Q2xpY2t8fChfd3JhcENsYXNzZXMrPSIgbWZwLWF1dG8tY3Vyc29yIiksX3dyYXBDbGFzc2VzJiZtZnAud3JhcC5hZGRDbGFzcyhfd3JhcENsYXNzZXMpO3ZhciB3aW5kb3dIZWlnaHQ9bWZwLndIPV93aW5kb3cuaGVpZ2h0KCksd2luZG93U3R5bGVzPXt9O2lmKG1mcC5maXhlZENvbnRlbnRQb3MmJm1mcC5faGFzU2Nyb2xsQmFyKHdpbmRvd0hlaWdodCkpe3ZhciBzPW1mcC5fZ2V0U2Nyb2xsYmFyU2l6ZSgpO3MmJih3aW5kb3dTdHlsZXMubWFyZ2luUmlnaHQ9cyl9bWZwLmZpeGVkQ29udGVudFBvcyYmKG1mcC5pc0lFNz8kKCJib2R5LCBodG1sIikuY3NzKCJvdmVyZmxvdyIsImhpZGRlbiIpOndpbmRvd1N0eWxlcy5vdmVyZmxvdz0iaGlkZGVuIik7dmFyIGNsYXNzZXNUb2FkZD1tZnAuc3QubWFpbkNsYXNzO3JldHVybiBtZnAuaXNJRTcmJihjbGFzc2VzVG9hZGQrPSIgbWZwLWllNyIpLGNsYXNzZXNUb2FkZCYmbWZwLl9hZGRDbGFzc1RvTUZQKGNsYXNzZXNUb2FkZCksbWZwLnVwZGF0ZUl0ZW1IVE1MKCksX21mcFRyaWdnZXIoIkJ1aWxkQ29udHJvbHMiKSwkKCJodG1sIikuY3NzKHdpbmRvd1N0eWxlcyksbWZwLmJnT3ZlcmxheS5hZGQobWZwLndyYXApLnByZXBlbmRUbyhkb2N1bWVudC5ib2R5KSxtZnAuX2xhc3RGb2N1c2VkRWw9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWZwLmNvbnRlbnQ/KG1mcC5fYWRkQ2xhc3NUb01GUChSRUFEWV9DTEFTUyksbWZwLl9zZXRGb2N1cygpKTptZnAuYmdPdmVybGF5LmFkZENsYXNzKFJFQURZX0NMQVNTKSxfZG9jdW1lbnQub24oImZvY3VzaW4iK0VWRU5UX05TLG1mcC5fb25Gb2N1c0luKX0sMTYpLG1mcC5pc09wZW49ITAsbWZwLnVwZGF0ZVNpemUod2luZG93SGVpZ2h0KSxfbWZwVHJpZ2dlcihPUEVOX0VWRU5UKSxkYXRhfSxjbG9zZTpmdW5jdGlvbigpe21mcC5pc09wZW4mJihfbWZwVHJpZ2dlcihCRUZPUkVfQ0xPU0VfRVZFTlQpLG1mcC5pc09wZW49ITEsbWZwLnN0LnJlbW92YWxEZWxheSYmIW1mcC5pc0xvd0lFJiZtZnAuc3VwcG9ydHNUcmFuc2l0aW9uPyhtZnAuX2FkZENsYXNzVG9NRlAoUkVNT1ZJTkdfQ0xBU1MpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXttZnAuX2Nsb3NlKCl9LG1mcC5zdC5yZW1vdmFsRGVsYXkpKTptZnAuX2Nsb3NlKCkpfSxfY2xvc2U6ZnVuY3Rpb24oKXtfbWZwVHJpZ2dlcihDTE9TRV9FVkVOVCk7dmFyIGNsYXNzZXNUb1JlbW92ZT1SRU1PVklOR19DTEFTUysiICIrUkVBRFlfQ0xBU1MrIiAiO2lmKG1mcC5iZ092ZXJsYXkuZGV0YWNoKCksbWZwLndyYXAuZGV0YWNoKCksbWZwLmNvbnRhaW5lci5lbXB0eSgpLG1mcC5zdC5tYWluQ2xhc3MmJihjbGFzc2VzVG9SZW1vdmUrPW1mcC5zdC5tYWluQ2xhc3MrIiAiKSxtZnAuX3JlbW92ZUNsYXNzRnJvbU1GUChjbGFzc2VzVG9SZW1vdmUpLG1mcC5maXhlZENvbnRlbnRQb3Mpe3ZhciB3aW5kb3dTdHlsZXM9e21hcmdpblJpZ2h0OiIifTttZnAuaXNJRTc/JCgiYm9keSwgaHRtbCIpLmNzcygib3ZlcmZsb3ciLCIiKTp3aW5kb3dTdHlsZXMub3ZlcmZsb3c9IiIsJCgiaHRtbCIpLmNzcyh3aW5kb3dTdHlsZXMpfV9kb2N1bWVudC5vZmYoImtleXVwIitFVkVOVF9OUysiIGZvY3VzaW4iK0VWRU5UX05TKSxtZnAuZXYub2ZmKEVWRU5UX05TKSxtZnAud3JhcC5hdHRyKCJjbGFzcyIsIm1mcC13cmFwIikucmVtb3ZlQXR0cigic3R5bGUiKSxtZnAuYmdPdmVybGF5LmF0dHIoImNsYXNzIiwibWZwLWJnIiksbWZwLmNvbnRhaW5lci5hdHRyKCJjbGFzcyIsIm1mcC1jb250YWluZXIiKSwhbWZwLnN0LnNob3dDbG9zZUJ0bnx8bWZwLnN0LmNsb3NlQnRuSW5zaWRlJiZtZnAuY3VyclRlbXBsYXRlW21mcC5jdXJySXRlbS50eXBlXSE9PSEwfHxtZnAuY3VyclRlbXBsYXRlLmNsb3NlQnRuJiZtZnAuY3VyclRlbXBsYXRlLmNsb3NlQnRuLmRldGFjaCgpLG1mcC5fbGFzdEZvY3VzZWRFbCYmJChtZnAuX2xhc3RGb2N1c2VkRWwpLmZvY3VzKCksbWZwLmN1cnJJdGVtPW51bGwsbWZwLmNvbnRlbnQ9bnVsbCxtZnAuY3VyclRlbXBsYXRlPW51bGwsbWZwLnByZXZIZWlnaHQ9MCxfbWZwVHJpZ2dlcihBRlRFUl9DTE9TRV9FVkVOVCl9LHVwZGF0ZVNpemU6ZnVuY3Rpb24od2luSGVpZ2h0KXtpZihtZnAuaXNJT1Mpe3ZhciB6b29tTGV2ZWw9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoL3dpbmRvdy5pbm5lcldpZHRoLGhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQqem9vbUxldmVsO21mcC53cmFwLmNzcygiaGVpZ2h0IixoZWlnaHQpLG1mcC53SD1oZWlnaHR9ZWxzZSBtZnAud0g9d2luSGVpZ2h0fHxfd2luZG93LmhlaWdodCgpO21mcC5maXhlZENvbnRlbnRQb3N8fG1mcC53cmFwLmNzcygiaGVpZ2h0IixtZnAud0gpLF9tZnBUcmlnZ2VyKCJSZXNpemUiKX0sdXBkYXRlSXRlbUhUTUw6ZnVuY3Rpb24oKXt2YXIgaXRlbT1tZnAuaXRlbXNbbWZwLmluZGV4XTttZnAuY29udGVudENvbnRhaW5lci5kZXRhY2goKSxtZnAuY29udGVudCYmbWZwLmNvbnRlbnQuZGV0YWNoKCksaXRlbS5wYXJzZWR8fChpdGVtPW1mcC5wYXJzZUVsKG1mcC5pbmRleCkpO3ZhciB0eXBlPWl0ZW0udHlwZTtpZihfbWZwVHJpZ2dlcigiQmVmb3JlQ2hhbmdlIixbbWZwLmN1cnJJdGVtP21mcC5jdXJySXRlbS50eXBlOiIiLHR5cGVdKSxtZnAuY3Vyckl0ZW09aXRlbSwhbWZwLmN1cnJUZW1wbGF0ZVt0eXBlXSl7dmFyIG1hcmt1cD1tZnAuc3RbdHlwZV0/bWZwLnN0W3R5cGVdLm1hcmt1cDohMTtfbWZwVHJpZ2dlcigiRmlyc3RNYXJrdXBQYXJzZSIsbWFya3VwKSxtZnAuY3VyclRlbXBsYXRlW3R5cGVdPW1hcmt1cD8kKG1hcmt1cCk6ITB9X3ByZXZDb250ZW50VHlwZSYmX3ByZXZDb250ZW50VHlwZSE9PWl0ZW0udHlwZSYmbWZwLmNvbnRhaW5lci5yZW1vdmVDbGFzcygibWZwLSIrX3ByZXZDb250ZW50VHlwZSsiLWhvbGRlciIpO3ZhciBuZXdDb250ZW50PW1mcFsiZ2V0Iit0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3R5cGUuc2xpY2UoMSldKGl0ZW0sbWZwLmN1cnJUZW1wbGF0ZVt0eXBlXSk7bWZwLmFwcGVuZENvbnRlbnQobmV3Q29udGVudCx0eXBlKSxpdGVtLnByZWxvYWRlZD0hMCxfbWZwVHJpZ2dlcihDSEFOR0VfRVZFTlQsaXRlbSksX3ByZXZDb250ZW50VHlwZT1pdGVtLnR5cGUsbWZwLmNvbnRhaW5lci5wcmVwZW5kKG1mcC5jb250ZW50Q29udGFpbmVyKSxfbWZwVHJpZ2dlcigiQWZ0ZXJDaGFuZ2UiKX0sYXBwZW5kQ29udGVudDpmdW5jdGlvbihuZXdDb250ZW50LHR5cGUpe21mcC5jb250ZW50PW5ld0NvbnRlbnQsbmV3Q29udGVudD9tZnAuc3Quc2hvd0Nsb3NlQnRuJiZtZnAuc3QuY2xvc2VCdG5JbnNpZGUmJm1mcC5jdXJyVGVtcGxhdGVbdHlwZV09PT0hMD9tZnAuY29udGVudC5maW5kKCIubWZwLWNsb3NlIikubGVuZ3RofHxtZnAuY29udGVudC5hcHBlbmQoX2dldENsb3NlQnRuKCkpOm1mcC5jb250ZW50PW5ld0NvbnRlbnQ6bWZwLmNvbnRlbnQ9IiIsX21mcFRyaWdnZXIoQkVGT1JFX0FQUEVORF9FVkVOVCksbWZwLmNvbnRhaW5lci5hZGRDbGFzcygibWZwLSIrdHlwZSsiLWhvbGRlciIpLG1mcC5jb250ZW50Q29udGFpbmVyLmFwcGVuZChtZnAuY29udGVudCl9LHBhcnNlRWw6ZnVuY3Rpb24oaW5kZXgpe3ZhciBpdGVtPW1mcC5pdGVtc1tpbmRleF0sdHlwZT1pdGVtLnR5cGU7aWYoaXRlbT1pdGVtLnRhZ05hbWU/e2VsOiQoaXRlbSl9OntkYXRhOml0ZW0sc3JjOml0ZW0uc3JjfSxpdGVtLmVsKXtmb3IodmFyIHR5cGVzPW1mcC50eXBlcyxpPTA7aTx0eXBlcy5sZW5ndGg7aSsrKWlmKGl0ZW0uZWwuaGFzQ2xhc3MoIm1mcC0iK3R5cGVzW2ldKSl7dHlwZT10eXBlc1tpXTticmVha31pdGVtLnNyYz1pdGVtLmVsLmF0dHIoImRhdGEtbWZwLXNyYyIpLGl0ZW0uc3JjfHwoaXRlbS5zcmM9aXRlbS5lbC5hdHRyKCJocmVmIikpfXJldHVybiBpdGVtLnR5cGU9dHlwZXx8bWZwLnN0LnR5cGV8fCJpbmxpbmUiLGl0ZW0uaW5kZXg9aW5kZXgsaXRlbS5wYXJzZWQ9ITAsbWZwLml0ZW1zW2luZGV4XT1pdGVtLF9tZnBUcmlnZ2VyKCJFbGVtZW50UGFyc2UiLGl0ZW0pLG1mcC5pdGVtc1tpbmRleF19LGFkZEdyb3VwOmZ1bmN0aW9uKGVsLG9wdGlvbnMpe3ZhciBlSGFuZGxlcj1mdW5jdGlvbihlKXtlLm1mcEVsPXRoaXMsbWZwLl9vcGVuQ2xpY2soZSxlbCxvcHRpb25zKX07b3B0aW9uc3x8KG9wdGlvbnM9e30pO3ZhciBlTmFtZT0iY2xpY2subWFnbmlmaWNQb3B1cCI7b3B0aW9ucy5tYWluRWw9ZWwsb3B0aW9ucy5pdGVtcz8ob3B0aW9ucy5pc09iaj0hMCxlbC5vZmYoZU5hbWUpLm9uKGVOYW1lLGVIYW5kbGVyKSk6KG9wdGlvbnMuaXNPYmo9ITEsb3B0aW9ucy5kZWxlZ2F0ZT9lbC5vZmYoZU5hbWUpLm9uKGVOYW1lLG9wdGlvbnMuZGVsZWdhdGUsZUhhbmRsZXIpOihvcHRpb25zLml0ZW1zPWVsLGVsLm9mZihlTmFtZSkub24oZU5hbWUsZUhhbmRsZXIpKSl9LF9vcGVuQ2xpY2s6ZnVuY3Rpb24oZSxlbCxvcHRpb25zKXt2YXIgbWlkQ2xpY2s9dm9pZCAwIT09b3B0aW9ucy5taWRDbGljaz9vcHRpb25zLm1pZENsaWNrOiQubWFnbmlmaWNQb3B1cC5kZWZhdWx0cy5taWRDbGljaztpZihtaWRDbGlja3x8MiE9PWUud2hpY2gmJiFlLmN0cmxLZXkmJiFlLm1ldGFLZXkpe3ZhciBkaXNhYmxlT249dm9pZCAwIT09b3B0aW9ucy5kaXNhYmxlT24/b3B0aW9ucy5kaXNhYmxlT246JC5tYWduaWZpY1BvcHVwLmRlZmF1bHRzLmRpc2FibGVPbjtpZihkaXNhYmxlT24paWYoJC5pc0Z1bmN0aW9uKGRpc2FibGVPbikpe2lmKCFkaXNhYmxlT24uY2FsbChtZnApKXJldHVybiEwfWVsc2UgaWYoX3dpbmRvdy53aWR0aCgpPGRpc2FibGVPbilyZXR1cm4hMDtlLnR5cGUmJihlLnByZXZlbnREZWZhdWx0KCksbWZwLmlzT3BlbiYmZS5zdG9wUHJvcGFnYXRpb24oKSksb3B0aW9ucy5lbD0kKGUubWZwRWwpLG9wdGlvbnMuZGVsZWdhdGUmJihvcHRpb25zLml0ZW1zPWVsLmZpbmQob3B0aW9ucy5kZWxlZ2F0ZSkpLG1mcC5vcGVuKG9wdGlvbnMpfX0sdXBkYXRlU3RhdHVzOmZ1bmN0aW9uKHN0YXR1cyx0ZXh0KXtpZihtZnAucHJlbG9hZGVyKXtfcHJldlN0YXR1cyE9PXN0YXR1cyYmbWZwLmNvbnRhaW5lci5yZW1vdmVDbGFzcygibWZwLXMtIitfcHJldlN0YXR1cyksdGV4dHx8ImxvYWRpbmciIT09c3RhdHVzfHwodGV4dD1tZnAuc3QudExvYWRpbmcpO3ZhciBkYXRhPXtzdGF0dXM6c3RhdHVzLHRleHQ6dGV4dH07X21mcFRyaWdnZXIoIlVwZGF0ZVN0YXR1cyIsZGF0YSksc3RhdHVzPWRhdGEuc3RhdHVzLHRleHQ9ZGF0YS50ZXh0LG1mcC5wcmVsb2FkZXIuaHRtbCh0ZXh0KSxtZnAucHJlbG9hZGVyLmZpbmQoImEiKS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KSxtZnAuY29udGFpbmVyLmFkZENsYXNzKCJtZnAtcy0iK3N0YXR1cyksX3ByZXZTdGF0dXM9c3RhdHVzfX0sX2NoZWNrSWZDbG9zZTpmdW5jdGlvbih0YXJnZXQpe2lmKCEkKHRhcmdldCkuaGFzQ2xhc3MoUFJFVkVOVF9DTE9TRV9DTEFTUykpe3ZhciBjbG9zZU9uQ29udGVudD1tZnAuc3QuY2xvc2VPbkNvbnRlbnRDbGljayxjbG9zZU9uQmc9bWZwLnN0LmNsb3NlT25CZ0NsaWNrO2lmKGNsb3NlT25Db250ZW50JiZjbG9zZU9uQmcpcmV0dXJuITA7aWYoIW1mcC5jb250ZW50fHwkKHRhcmdldCkuaGFzQ2xhc3MoIm1mcC1jbG9zZSIpfHxtZnAucHJlbG9hZGVyJiZ0YXJnZXQ9PT1tZnAucHJlbG9hZGVyWzBdKXJldHVybiEwO2lmKHRhcmdldD09PW1mcC5jb250ZW50WzBdfHwkLmNvbnRhaW5zKG1mcC5jb250ZW50WzBdLHRhcmdldCkpe2lmKGNsb3NlT25Db250ZW50KXJldHVybiEwfWVsc2UgaWYoY2xvc2VPbkJnJiYkLmNvbnRhaW5zKGRvY3VtZW50LHRhcmdldCkpcmV0dXJuITA7cmV0dXJuITF9fSxfYWRkQ2xhc3NUb01GUDpmdW5jdGlvbihjTmFtZSl7bWZwLmJnT3ZlcmxheS5hZGRDbGFzcyhjTmFtZSksbWZwLndyYXAuYWRkQ2xhc3MoY05hbWUpfSxfcmVtb3ZlQ2xhc3NGcm9tTUZQOmZ1bmN0aW9uKGNOYW1lKXt0aGlzLmJnT3ZlcmxheS5yZW1vdmVDbGFzcyhjTmFtZSksbWZwLndyYXAucmVtb3ZlQ2xhc3MoY05hbWUpfSxfaGFzU2Nyb2xsQmFyOmZ1bmN0aW9uKHdpbkhlaWdodCl7cmV0dXJuKG1mcC5pc0lFNz9fZG9jdW1lbnQuaGVpZ2h0KCk6ZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpPih3aW5IZWlnaHR8fF93aW5kb3cuaGVpZ2h0KCkpfSxfc2V0Rm9jdXM6ZnVuY3Rpb24oKXsobWZwLnN0LmZvY3VzP21mcC5jb250ZW50LmZpbmQobWZwLnN0LmZvY3VzKS5lcSgwKTptZnAud3JhcCkuZm9jdXMoKX0sX29uRm9jdXNJbjpmdW5jdGlvbihlKXtyZXR1cm4gZS50YXJnZXQ9PT1tZnAud3JhcFswXXx8JC5jb250YWlucyhtZnAud3JhcFswXSxlLnRhcmdldCk/dm9pZCAwOihtZnAuX3NldEZvY3VzKCksITEpfSxfcGFyc2VNYXJrdXA6ZnVuY3Rpb24odGVtcGxhdGUsdmFsdWVzLGl0ZW0pe3ZhciBhcnI7aXRlbS5kYXRhJiYodmFsdWVzPSQuZXh0ZW5kKGl0ZW0uZGF0YSx2YWx1ZXMpKSxfbWZwVHJpZ2dlcihNQVJLVVBfUEFSU0VfRVZFTlQsW3RlbXBsYXRlLHZhbHVlcyxpdGVtXSksJC5lYWNoKHZhbHVlcyxmdW5jdGlvbihrZXksdmFsdWUpe2lmKHZvaWQgMD09PXZhbHVlfHx2YWx1ZT09PSExKXJldHVybiEwO2lmKGFycj1rZXkuc3BsaXQoIl8iKSxhcnIubGVuZ3RoPjEpe3ZhciBlbD10ZW1wbGF0ZS5maW5kKEVWRU5UX05TKyItIithcnJbMF0pO2lmKGVsLmxlbmd0aD4wKXt2YXIgYXR0cj1hcnJbMV07InJlcGxhY2VXaXRoIj09PWF0dHI/ZWxbMF0hPT12YWx1ZVswXSYmZWwucmVwbGFjZVdpdGgodmFsdWUpOiJpbWciPT09YXR0cj9lbC5pcygiaW1nIik/ZWwuYXR0cigic3JjIix2YWx1ZSk6ZWwucmVwbGFjZVdpdGgoJzxpbWcgc3JjPSInK3ZhbHVlKyciIGNsYXNzPSInK2VsLmF0dHIoImNsYXNzIikrJyIgLz4nKTplbC5hdHRyKGFyclsxXSx2YWx1ZSl9fWVsc2UgdGVtcGxhdGUuZmluZChFVkVOVF9OUysiLSIra2V5KS5odG1sKHZhbHVlKX0pfSxfZ2V0U2Nyb2xsYmFyU2l6ZTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PW1mcC5zY3JvbGxiYXJTaXplKXt2YXIgc2Nyb2xsRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Njcm9sbERpdi5pZD0ibWZwLXNibSIsc2Nyb2xsRGl2LnN0eWxlLmNzc1RleHQ9IndpZHRoOiA5OXB4OyBoZWlnaHQ6IDk5cHg7IG92ZXJmbG93OiBzY3JvbGw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtOTk5OXB4OyIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpLG1mcC5zY3JvbGxiYXJTaXplPXNjcm9sbERpdi5vZmZzZXRXaWR0aC1zY3JvbGxEaXYuY2xpZW50V2lkdGgsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpfXJldHVybiBtZnAuc2Nyb2xsYmFyU2l6ZX19LCQubWFnbmlmaWNQb3B1cD17aW5zdGFuY2U6bnVsbCxwcm90bzpNYWduaWZpY1BvcHVwLnByb3RvdHlwZSxtb2R1bGVzOltdLG9wZW46ZnVuY3Rpb24ob3B0aW9ucyxpbmRleCl7cmV0dXJuIF9jaGVja0luc3RhbmNlKCksb3B0aW9ucz1vcHRpb25zPyQuZXh0ZW5kKCEwLHt9LG9wdGlvbnMpOnt9LG9wdGlvbnMuaXNPYmo9ITAsb3B0aW9ucy5pbmRleD1pbmRleHx8MCx0aGlzLmluc3RhbmNlLm9wZW4ob3B0aW9ucyl9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuICQubWFnbmlmaWNQb3B1cC5pbnN0YW5jZSYmJC5tYWduaWZpY1BvcHVwLmluc3RhbmNlLmNsb3NlKCl9LHJlZ2lzdGVyTW9kdWxlOmZ1bmN0aW9uKG5hbWUsbW9kdWxlKXttb2R1bGUub3B0aW9ucyYmKCQubWFnbmlmaWNQb3B1cC5kZWZhdWx0c1tuYW1lXT1tb2R1bGUub3B0aW9ucyksJC5leHRlbmQodGhpcy5wcm90byxtb2R1bGUucHJvdG8pLHRoaXMubW9kdWxlcy5wdXNoKG5hbWUpfSxkZWZhdWx0czp7ZGlzYWJsZU9uOjAsa2V5Om51bGwsbWlkQ2xpY2s6ITEsbWFpbkNsYXNzOiIiLHByZWxvYWRlcjohMCxmb2N1czoiIixjbG9zZU9uQ29udGVudENsaWNrOiExLGNsb3NlT25CZ0NsaWNrOiEwLGNsb3NlQnRuSW5zaWRlOiEwLHNob3dDbG9zZUJ0bjohMCxlbmFibGVFc2NhcGVLZXk6ITAsbW9kYWw6ITEsYWxpZ25Ub3A6ITEscmVtb3ZhbERlbGF5OjAsZml4ZWRDb250ZW50UG9zOiJhdXRvIixmaXhlZEJnUG9zOiJhdXRvIixvdmVyZmxvd1k6ImF1dG8iLGNsb3NlTWFya3VwOic8YnV0dG9uIHRpdGxlPSIldGl0bGUlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJtZnAtY2xvc2UiPiZ0aW1lczs8L2J1dHRvbj4nLHRDbG9zZToiQ2xvc2UgKEVzYykiLHRMb2FkaW5nOiJMb2FkaW5nLi4uIn19LCQuZm4ubWFnbmlmaWNQb3B1cD1mdW5jdGlvbihvcHRpb25zKXtfY2hlY2tJbnN0YW5jZSgpO3ZhciBqcUVsPSQodGhpcyk7aWYoInN0cmluZyI9PXR5cGVvZiBvcHRpb25zKWlmKCJvcGVuIj09PW9wdGlvbnMpe3ZhciBpdGVtcyxpdGVtT3B0cz1faXNKUT9qcUVsLmRhdGEoIm1hZ25pZmljUG9wdXAiKTpqcUVsWzBdLm1hZ25pZmljUG9wdXAsaW5kZXg9cGFyc2VJbnQoYXJndW1lbnRzWzFdLDEwKXx8MDtpdGVtT3B0cy5pdGVtcz9pdGVtcz1pdGVtT3B0cy5pdGVtc1tpbmRleF06KGl0ZW1zPWpxRWwsaXRlbU9wdHMuZGVsZWdhdGUmJihpdGVtcz1pdGVtcy5maW5kKGl0ZW1PcHRzLmRlbGVnYXRlKSksaXRlbXM9aXRlbXMuZXEoaW5kZXgpKSxtZnAuX29wZW5DbGljayh7bWZwRWw6aXRlbXN9LGpxRWwsaXRlbU9wdHMpfWVsc2UgbWZwLmlzT3BlbiYmbWZwW29wdGlvbnNdLmFwcGx5KG1mcCxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO2Vsc2Ugb3B0aW9ucz0kLmV4dGVuZCghMCx7fSxvcHRpb25zKSxfaXNKUT9qcUVsLmRhdGEoIm1hZ25pZmljUG9wdXAiLG9wdGlvbnMpOmpxRWxbMF0ubWFnbmlmaWNQb3B1cD1vcHRpb25zLG1mcC5hZGRHcm91cChqcUVsLG9wdGlvbnMpO3JldHVybiBqcUVsfTt2YXIgX2hpZGRlbkNsYXNzLF9pbmxpbmVQbGFjZWhvbGRlcixfbGFzdElubGluZUVsZW1lbnQsSU5MSU5FX05TPSJpbmxpbmUiLF9wdXRJbmxpbmVFbGVtZW50c0JhY2s9ZnVuY3Rpb24oKXtfbGFzdElubGluZUVsZW1lbnQmJihfaW5saW5lUGxhY2Vob2xkZXIuYWZ0ZXIoX2xhc3RJbmxpbmVFbGVtZW50LmFkZENsYXNzKF9oaWRkZW5DbGFzcykpLmRldGFjaCgpLF9sYXN0SW5saW5lRWxlbWVudD1udWxsKX07JC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKElOTElORV9OUyx7b3B0aW9uczp7aGlkZGVuQ2xhc3M6ImhpZGUiLG1hcmt1cDoiIix0Tm90Rm91bmQ6IkNvbnRlbnQgbm90IGZvdW5kIn0scHJvdG86e2luaXRJbmxpbmU6ZnVuY3Rpb24oKXttZnAudHlwZXMucHVzaChJTkxJTkVfTlMpLF9tZnBPbihDTE9TRV9FVkVOVCsiLiIrSU5MSU5FX05TLGZ1bmN0aW9uKCl7X3B1dElubGluZUVsZW1lbnRzQmFjaygpfSl9LGdldElubGluZTpmdW5jdGlvbihpdGVtLHRlbXBsYXRlKXtpZihfcHV0SW5saW5lRWxlbWVudHNCYWNrKCksaXRlbS5zcmMpe3ZhciBpbmxpbmVTdD1tZnAuc3QuaW5saW5lLGVsPSQoaXRlbS5zcmMpO2lmKGVsLmxlbmd0aCl7dmFyIHBhcmVudD1lbFswXS5wYXJlbnROb2RlO3BhcmVudCYmcGFyZW50LnRhZ05hbWUmJihfaW5saW5lUGxhY2Vob2xkZXJ8fChfaGlkZGVuQ2xhc3M9aW5saW5lU3QuaGlkZGVuQ2xhc3MsX2lubGluZVBsYWNlaG9sZGVyPV9nZXRFbChfaGlkZGVuQ2xhc3MpLF9oaWRkZW5DbGFzcz0ibWZwLSIrX2hpZGRlbkNsYXNzKSxfbGFzdElubGluZUVsZW1lbnQ9ZWwuYWZ0ZXIoX2lubGluZVBsYWNlaG9sZGVyKS5kZXRhY2goKS5yZW1vdmVDbGFzcyhfaGlkZGVuQ2xhc3MpKSxtZnAudXBkYXRlU3RhdHVzKCJyZWFkeSIpfWVsc2UgbWZwLnVwZGF0ZVN0YXR1cygiZXJyb3IiLGlubGluZVN0LnROb3RGb3VuZCksZWw9JCgiPGRpdj4iKTtyZXR1cm4gaXRlbS5pbmxpbmVFbGVtZW50PWVsLGVsfXJldHVybiBtZnAudXBkYXRlU3RhdHVzKCJyZWFkeSIpLG1mcC5fcGFyc2VNYXJrdXAodGVtcGxhdGUse30saXRlbSksdGVtcGxhdGV9fX0pO3ZhciBfYWpheEN1cixBSkFYX05TPSJhamF4IixfcmVtb3ZlQWpheEN1cnNvcj1mdW5jdGlvbigpe19hamF4Q3VyJiZfYm9keS5yZW1vdmVDbGFzcyhfYWpheEN1cil9LF9kZXN0cm95QWpheFJlcXVlc3Q9ZnVuY3Rpb24oKXtfcmVtb3ZlQWpheEN1cnNvcigpLG1mcC5yZXEmJm1mcC5yZXEuYWJvcnQoKX07JC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKEFKQVhfTlMse29wdGlvbnM6e3NldHRpbmdzOm51bGwsY3Vyc29yOiJtZnAtYWpheC1jdXIiLHRFcnJvcjonPGEgaHJlZj0iJXVybCUiPlRoZSBjb250ZW50PC9hPiBjb3VsZCBub3QgYmUgbG9hZGVkLid9LHByb3RvOntpbml0QWpheDpmdW5jdGlvbigpe21mcC50eXBlcy5wdXNoKEFKQVhfTlMpLF9hamF4Q3VyPW1mcC5zdC5hamF4LmN1cnNvcixfbWZwT24oQ0xPU0VfRVZFTlQrIi4iK0FKQVhfTlMsX2Rlc3Ryb3lBamF4UmVxdWVzdCksX21mcE9uKCJCZWZvcmVDaGFuZ2UuIitBSkFYX05TLF9kZXN0cm95QWpheFJlcXVlc3QpfSxnZXRBamF4OmZ1bmN0aW9uKGl0ZW0pe19hamF4Q3VyJiZfYm9keS5hZGRDbGFzcyhfYWpheEN1ciksbWZwLnVwZGF0ZVN0YXR1cygibG9hZGluZyIpO3ZhciBvcHRzPSQuZXh0ZW5kKHt1cmw6aXRlbS5zcmMsc3VjY2VzczpmdW5jdGlvbihkYXRhLHRleHRTdGF0dXMsanFYSFIpe3ZhciB0ZW1wPXtkYXRhOmRhdGEseGhyOmpxWEhSfTtfbWZwVHJpZ2dlcigiUGFyc2VBamF4Iix0ZW1wKSxtZnAuYXBwZW5kQ29udGVudCgkKHRlbXAuZGF0YSksQUpBWF9OUyksaXRlbS5maW5pc2hlZD0hMCxfcmVtb3ZlQWpheEN1cnNvcigpLG1mcC5fc2V0Rm9jdXMoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWZwLndyYXAuYWRkQ2xhc3MoUkVBRFlfQ0xBU1MpfSwxNiksbWZwLnVwZGF0ZVN0YXR1cygicmVhZHkiKSxfbWZwVHJpZ2dlcigiQWpheENvbnRlbnRBZGRlZCIpfSxlcnJvcjpmdW5jdGlvbigpe19yZW1vdmVBamF4Q3Vyc29yKCksaXRlbS5maW5pc2hlZD1pdGVtLmxvYWRFcnJvcj0hMCxtZnAudXBkYXRlU3RhdHVzKCJlcnJvciIsbWZwLnN0LmFqYXgudEVycm9yLnJlcGxhY2UoIiV1cmwlIixpdGVtLnNyYykpfX0sbWZwLnN0LmFqYXguc2V0dGluZ3MpO3JldHVybiBtZnAucmVxPSQuYWpheChvcHRzKSwiIn19fSk7dmFyIF9pbWdJbnRlcnZhbCxfZ2V0VGl0bGU9ZnVuY3Rpb24oaXRlbSl7aWYoaXRlbS5kYXRhJiZ2b2lkIDAhPT1pdGVtLmRhdGEudGl0bGUpcmV0dXJuIGl0ZW0uZGF0YS50aXRsZTt2YXIgc3JjPW1mcC5zdC5pbWFnZS50aXRsZVNyYztpZihzcmMpe2lmKCQuaXNGdW5jdGlvbihzcmMpKXJldHVybiBzcmMuY2FsbChtZnAsaXRlbSk7aWYoaXRlbS5lbClyZXR1cm4gaXRlbS5lbC5hdHRyKHNyYyl8fCIifXJldHVybiIifTskLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoImltYWdlIix7b3B0aW9uczp7bWFya3VwOic8ZGl2IGNsYXNzPSJtZnAtZmlndXJlIj48ZGl2IGNsYXNzPSJtZnAtY2xvc2UiPjwvZGl2PjxmaWd1cmU+PGRpdiBjbGFzcz0ibWZwLWltZyI+PC9kaXY+PGZpZ2NhcHRpb24+PGRpdiBjbGFzcz0ibWZwLWJvdHRvbS1iYXIiPjxkaXYgY2xhc3M9Im1mcC10aXRsZSI+PC9kaXY+PGRpdiBjbGFzcz0ibWZwLWNvdW50ZXIiPjwvZGl2PjwvZGl2PjwvZmlnY2FwdGlvbj48L2ZpZ3VyZT48L2Rpdj4nLGN1cnNvcjoibWZwLXpvb20tb3V0LWN1ciIsdGl0bGVTcmM6InRpdGxlIix2ZXJ0aWNhbEZpdDohMCx0RXJyb3I6JzxhIGhyZWY9IiV1cmwlIj5UaGUgaW1hZ2U8L2E+IGNvdWxkIG5vdCBiZSBsb2FkZWQuJ30scHJvdG86e2luaXRJbWFnZTpmdW5jdGlvbigpe3ZhciBpbWdTdD1tZnAuc3QuaW1hZ2UsbnM9Ii5pbWFnZSI7bWZwLnR5cGVzLnB1c2goImltYWdlIiksX21mcE9uKE9QRU5fRVZFTlQrbnMsZnVuY3Rpb24oKXsiaW1hZ2UiPT09bWZwLmN1cnJJdGVtLnR5cGUmJmltZ1N0LmN1cnNvciYmX2JvZHkuYWRkQ2xhc3MoaW1nU3QuY3Vyc29yKX0pLF9tZnBPbihDTE9TRV9FVkVOVCtucyxmdW5jdGlvbigpe2ltZ1N0LmN1cnNvciYmX2JvZHkucmVtb3ZlQ2xhc3MoaW1nU3QuY3Vyc29yKSxfd2luZG93Lm9mZigicmVzaXplIitFVkVOVF9OUyl9KSxfbWZwT24oIlJlc2l6ZSIrbnMsbWZwLnJlc2l6ZUltYWdlKSxtZnAuaXNMb3dJRSYmX21mcE9uKCJBZnRlckNoYW5nZSIsbWZwLnJlc2l6ZUltYWdlKX0scmVzaXplSW1hZ2U6ZnVuY3Rpb24oKXt2YXIgaXRlbT1tZnAuY3Vyckl0ZW07aWYoaXRlbSYmaXRlbS5pbWcmJm1mcC5zdC5pbWFnZS52ZXJ0aWNhbEZpdCl7dmFyIGRlY3I9MDttZnAuaXNMb3dJRSYmKGRlY3I9cGFyc2VJbnQoaXRlbS5pbWcuY3NzKCJwYWRkaW5nLXRvcCIpLDEwKStwYXJzZUludChpdGVtLmltZy5jc3MoInBhZGRpbmctYm90dG9tIiksMTApKSxpdGVtLmltZy5jc3MoIm1heC1oZWlnaHQiLG1mcC53SC1kZWNyKX19LF9vbkltYWdlSGFzU2l6ZTpmdW5jdGlvbihpdGVtKXtpdGVtLmltZyYmKGl0ZW0uaGFzU2l6ZT0hMCxfaW1nSW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwoX2ltZ0ludGVydmFsKSxpdGVtLmlzQ2hlY2tpbmdJbWdTaXplPSExLF9tZnBUcmlnZ2VyKCJJbWFnZUhhc1NpemUiLGl0ZW0pLGl0ZW0uaW1nSGlkZGVuJiYobWZwLmNvbnRlbnQmJm1mcC5jb250ZW50LnJlbW92ZUNsYXNzKCJtZnAtbG9hZGluZyIpLGl0ZW0uaW1nSGlkZGVuPSExKSl9LGZpbmRJbWFnZVNpemU6ZnVuY3Rpb24oaXRlbSl7dmFyIGNvdW50ZXI9MCxpbWc9aXRlbS5pbWdbMF0sbWZwU2V0SW50ZXJ2YWw9ZnVuY3Rpb24oZGVsYXkpe19pbWdJbnRlcnZhbCYmY2xlYXJJbnRlcnZhbChfaW1nSW50ZXJ2YWwpLF9pbWdJbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JldHVybiBpbWcubmF0dXJhbFdpZHRoPjA/dm9pZCBtZnAuX29uSW1hZ2VIYXNTaXplKGl0ZW0pOihjb3VudGVyPjIwMCYmY2xlYXJJbnRlcnZhbChfaW1nSW50ZXJ2YWwpLGNvdW50ZXIrKyx2b2lkKDM9PT1jb3VudGVyP21mcFNldEludGVydmFsKDEwKTo0MD09PWNvdW50ZXI/bWZwU2V0SW50ZXJ2YWwoNTApOjEwMD09PWNvdW50ZXImJm1mcFNldEludGVydmFsKDUwMCkpKX0sZGVsYXkpfTttZnBTZXRJbnRlcnZhbCgxKX0sZ2V0SW1hZ2U6ZnVuY3Rpb24oaXRlbSx0ZW1wbGF0ZSl7dmFyIGd1YXJkPTAsb25Mb2FkQ29tcGxldGU9ZnVuY3Rpb24oKXtpdGVtJiYoaXRlbS5pbWdbMF0uY29tcGxldGU/KGl0ZW0uaW1nLm9mZigiLm1mcGxvYWRlciIpLGl0ZW09PT1tZnAuY3Vyckl0ZW0mJihtZnAuX29uSW1hZ2VIYXNTaXplKGl0ZW0pLG1mcC51cGRhdGVTdGF0dXMoInJlYWR5IikpLGl0ZW0uaGFzU2l6ZT0hMCxpdGVtLmxvYWRlZD0hMCxfbWZwVHJpZ2dlcigiSW1hZ2VMb2FkQ29tcGxldGUiKSk6KGd1YXJkKyssMjAwPmd1YXJkP3NldFRpbWVvdXQob25Mb2FkQ29tcGxldGUsMTAwKTpvbkxvYWRFcnJvcigpKSl9LG9uTG9hZEVycm9yPWZ1bmN0aW9uKCl7aXRlbSYmKGl0ZW0uaW1nLm9mZigiLm1mcGxvYWRlciIpLGl0ZW09PT1tZnAuY3Vyckl0ZW0mJihtZnAuX29uSW1hZ2VIYXNTaXplKGl0ZW0pLG1mcC51cGRhdGVTdGF0dXMoImVycm9yIixpbWdTdC50RXJyb3IucmVwbGFjZSgiJXVybCUiLGl0ZW0uc3JjKSkpLGl0ZW0uaGFzU2l6ZT0hMCxpdGVtLmxvYWRlZD0hMCxpdGVtLmxvYWRFcnJvcj0hMCl9LGltZ1N0PW1mcC5zdC5pbWFnZSxlbD10ZW1wbGF0ZS5maW5kKCIubWZwLWltZyIpO2lmKGVsLmxlbmd0aCl7dmFyIGltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtpbWcuY2xhc3NOYW1lPSJtZnAtaW1nIixpdGVtLmltZz0kKGltZykub24oImxvYWQubWZwbG9hZGVyIixvbkxvYWRDb21wbGV0ZSkub24oImVycm9yLm1mcGxvYWRlciIsb25Mb2FkRXJyb3IpLGltZy5zcmM9aXRlbS5zcmMsZWwuaXMoImltZyIpJiYoaXRlbS5pbWc9aXRlbS5pbWcuY2xvbmUoKSksaXRlbS5pbWdbMF0ubmF0dXJhbFdpZHRoPjAmJihpdGVtLmhhc1NpemU9ITApfXJldHVybiBtZnAuX3BhcnNlTWFya3VwKHRlbXBsYXRlLHt0aXRsZTpfZ2V0VGl0bGUoaXRlbSksaW1nX3JlcGxhY2VXaXRoOml0ZW0uaW1nfSxpdGVtKSxtZnAucmVzaXplSW1hZ2UoKSxpdGVtLmhhc1NpemU/KF9pbWdJbnRlcnZhbCYmY2xlYXJJbnRlcnZhbChfaW1nSW50ZXJ2YWwpLGl0ZW0ubG9hZEVycm9yPyh0ZW1wbGF0ZS5hZGRDbGFzcygibWZwLWxvYWRpbmciKSxtZnAudXBkYXRlU3RhdHVzKCJlcnJvciIsaW1nU3QudEVycm9yLnJlcGxhY2UoIiV1cmwlIixpdGVtLnNyYykpKToodGVtcGxhdGUucmVtb3ZlQ2xhc3MoIm1mcC1sb2FkaW5nIiksbWZwLnVwZGF0ZVN0YXR1cygicmVhZHkiKSksdGVtcGxhdGUpOihtZnAudXBkYXRlU3RhdHVzKCJsb2FkaW5nIiksaXRlbS5sb2FkaW5nPSEwLGl0ZW0uaGFzU2l6ZXx8KGl0ZW0uaW1nSGlkZGVuPSEwLHRlbXBsYXRlLmFkZENsYXNzKCJtZnAtbG9hZGluZyIpLG1mcC5maW5kSW1hZ2VTaXplKGl0ZW0pKSx0ZW1wbGF0ZSl9fX0pO3ZhciBoYXNNb3pUcmFuc2Zvcm0sZ2V0SGFzTW96VHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWhhc01velRyYW5zZm9ybSYmKGhhc01velRyYW5zZm9ybT12b2lkIDAhPT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIikuc3R5bGUuTW96VHJhbnNmb3JtKSxoYXNNb3pUcmFuc2Zvcm19OyQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZSgiem9vbSIse29wdGlvbnM6e2VuYWJsZWQ6ITEsZWFzaW5nOiJlYXNlLWluLW91dCIsZHVyYXRpb246MzAwLG9wZW5lcjpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5pcygiaW1nIik/ZWxlbWVudDplbGVtZW50LmZpbmQoImltZyIpfX0scHJvdG86e2luaXRab29tOmZ1bmN0aW9uKCl7dmFyIGltYWdlLHpvb21TdD1tZnAuc3Quem9vbSxucz0iLnpvb20iO2lmKHpvb21TdC5lbmFibGVkJiZtZnAuc3VwcG9ydHNUcmFuc2l0aW9uKXt2YXIgb3BlblRpbWVvdXQsYW5pbWF0ZWRJbWcsZHVyYXRpb249em9vbVN0LmR1cmF0aW9uLGdldEVsVG9BbmltYXRlPWZ1bmN0aW9uKGltYWdlKXt2YXIgbmV3SW1nPWltYWdlLmNsb25lKCkucmVtb3ZlQXR0cigic3R5bGUiKS5yZW1vdmVBdHRyKCJjbGFzcyIpLmFkZENsYXNzKCJtZnAtYW5pbWF0ZWQtaW1hZ2UiKSx0cmFuc2l0aW9uPSJhbGwgIit6b29tU3QuZHVyYXRpb24vMWUzKyJzICIrem9vbVN0LmVhc2luZyxjc3NPYmo9e3Bvc2l0aW9uOiJmaXhlZCIsekluZGV4Ojk5OTksbGVmdDowLHRvcDowLCItd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHkiOiJoaWRkZW4ifSx0PSJ0cmFuc2l0aW9uIjtyZXR1cm4gY3NzT2JqWyItd2Via2l0LSIrdF09Y3NzT2JqWyItbW96LSIrdF09Y3NzT2JqWyItby0iK3RdPWNzc09ialt0XT10cmFuc2l0aW9uLG5ld0ltZy5jc3MoY3NzT2JqKSxuZXdJbWd9LHNob3dNYWluQ29udGVudD1mdW5jdGlvbigpe21mcC5jb250ZW50LmNzcygidmlzaWJpbGl0eSIsInZpc2libGUiKX07X21mcE9uKCJCdWlsZENvbnRyb2xzIitucyxmdW5jdGlvbigpe2lmKG1mcC5fYWxsb3dab29tKCkpe2lmKGNsZWFyVGltZW91dChvcGVuVGltZW91dCksbWZwLmNvbnRlbnQuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksaW1hZ2U9bWZwLl9nZXRJdGVtVG9ab29tKCksIWltYWdlKXJldHVybiB2b2lkIHNob3dNYWluQ29udGVudCgpO2FuaW1hdGVkSW1nPWdldEVsVG9BbmltYXRlKGltYWdlKSxhbmltYXRlZEltZy5jc3MobWZwLl9nZXRPZmZzZXQoKSksbWZwLndyYXAuYXBwZW5kKGFuaW1hdGVkSW1nKSxvcGVuVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YW5pbWF0ZWRJbWcuY3NzKG1mcC5fZ2V0T2Zmc2V0KCEwKSksb3BlblRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3Nob3dNYWluQ29udGVudCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthbmltYXRlZEltZy5yZW1vdmUoKSxpbWFnZT1hbmltYXRlZEltZz1udWxsLF9tZnBUcmlnZ2VyKCJab29tQW5pbWF0aW9uRW5kZWQiKX0sMTYpfSxkdXJhdGlvbil9LDE2KX19KSxfbWZwT24oQkVGT1JFX0NMT1NFX0VWRU5UK25zLGZ1bmN0aW9uKCl7aWYobWZwLl9hbGxvd1pvb20oKSl7aWYoY2xlYXJUaW1lb3V0KG9wZW5UaW1lb3V0KSxtZnAuc3QucmVtb3ZhbERlbGF5PWR1cmF0aW9uLCFpbWFnZSl7aWYoaW1hZ2U9bWZwLl9nZXRJdGVtVG9ab29tKCksIWltYWdlKXJldHVybjthbmltYXRlZEltZz1nZXRFbFRvQW5pbWF0ZShpbWFnZSl9YW5pbWF0ZWRJbWcuY3NzKG1mcC5fZ2V0T2Zmc2V0KCEwKSksbWZwLndyYXAuYXBwZW5kKGFuaW1hdGVkSW1nKSxtZnAuY29udGVudC5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YW5pbWF0ZWRJbWcuY3NzKG1mcC5fZ2V0T2Zmc2V0KCkpfSwxNil9fSksX21mcE9uKENMT1NFX0VWRU5UK25zLGZ1bmN0aW9uKCl7bWZwLl9hbGxvd1pvb20oKSYmKHNob3dNYWluQ29udGVudCgpLGFuaW1hdGVkSW1nJiZhbmltYXRlZEltZy5yZW1vdmUoKSxpbWFnZT1udWxsKX0pfX0sX2FsbG93Wm9vbTpmdW5jdGlvbigpe3JldHVybiJpbWFnZSI9PT1tZnAuY3Vyckl0ZW0udHlwZX0sX2dldEl0ZW1Ub1pvb206ZnVuY3Rpb24oKXtyZXR1cm4gbWZwLmN1cnJJdGVtLmhhc1NpemU/bWZwLmN1cnJJdGVtLmltZzohMX0sX2dldE9mZnNldDpmdW5jdGlvbihpc0xhcmdlKXt2YXIgZWw7ZWw9aXNMYXJnZT9tZnAuY3Vyckl0ZW0uaW1nOm1mcC5zdC56b29tLm9wZW5lcihtZnAuY3Vyckl0ZW0uZWx8fG1mcC5jdXJySXRlbSk7dmFyIG9mZnNldD1lbC5vZmZzZXQoKSxwYWRkaW5nVG9wPXBhcnNlSW50KGVsLmNzcygicGFkZGluZy10b3AiKSwxMCkscGFkZGluZ0JvdHRvbT1wYXJzZUludChlbC5jc3MoInBhZGRpbmctYm90dG9tIiksMTApO29mZnNldC50b3AtPSQod2luZG93KS5zY3JvbGxUb3AoKS1wYWRkaW5nVG9wO3ZhciBvYmo9e3dpZHRoOmVsLndpZHRoKCksaGVpZ2h0OihfaXNKUT9lbC5pbm5lckhlaWdodCgpOmVsWzBdLm9mZnNldEhlaWdodCktcGFkZGluZ0JvdHRvbS1wYWRkaW5nVG9wfTtyZXR1cm4gZ2V0SGFzTW96VHJhbnNmb3JtKCk/b2JqWyItbW96LXRyYW5zZm9ybSJdPW9iai50cmFuc2Zvcm09InRyYW5zbGF0ZSgiK29mZnNldC5sZWZ0KyJweCwiK29mZnNldC50b3ArInB4KSI6KG9iai5sZWZ0PW9mZnNldC5sZWZ0LG9iai50b3A9b2Zmc2V0LnRvcCksb2JqfX19KTt2YXIgSUZSQU1FX05TPSJpZnJhbWUiLF9lbXB0eVBhZ2U9Ii8vYWJvdXQ6YmxhbmsiLF9maXhJZnJhbWVCdWdzPWZ1bmN0aW9uKGlzU2hvd2luZyl7aWYobWZwLmN1cnJUZW1wbGF0ZVtJRlJBTUVfTlNdKXt2YXIgZWw9bWZwLmN1cnJUZW1wbGF0ZVtJRlJBTUVfTlNdLmZpbmQoImlmcmFtZSIpO2VsLmxlbmd0aCYmKGlzU2hvd2luZ3x8KGVsWzBdLnNyYz1fZW1wdHlQYWdlKSxtZnAuaXNJRTgmJmVsLmNzcygiZGlzcGxheSIsaXNTaG93aW5nPyJibG9jayI6Im5vbmUiKSl9fTskLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoSUZSQU1FX05TLHtvcHRpb25zOnttYXJrdXA6JzxkaXYgY2xhc3M9Im1mcC1pZnJhbWUtc2NhbGVyIj48ZGl2IGNsYXNzPSJtZnAtY2xvc2UiPjwvZGl2PjxpZnJhbWUgY2xhc3M9Im1mcC1pZnJhbWUiIHNyYz0iLy9hYm91dDpibGFuayIgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT48L2Rpdj4nLHNyY0FjdGlvbjoiaWZyYW1lX3NyYyIscGF0dGVybnM6e3lvdXR1YmU6e2luZGV4OiJ5b3V0dWJlLmNvbSIsaWQ6InY9IixzcmM6Ii8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyVpZCU/YXV0b3BsYXk9MSJ9LHZpbWVvOntpbmRleDoidmltZW8uY29tLyIsaWQ6Ii8iLHNyYzoiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyVpZCU/YXV0b3BsYXk9MSJ9LGdtYXBzOntpbmRleDoiLy9tYXBzLmdvb2dsZS4iLHNyYzoiJWlkJSZvdXRwdXQ9ZW1iZWQifX19LHByb3RvOntpbml0SWZyYW1lOmZ1bmN0aW9uKCl7bWZwLnR5cGVzLnB1c2goSUZSQU1FX05TKSxfbWZwT24oIkJlZm9yZUNoYW5nZSIsZnVuY3Rpb24oZSxwcmV2VHlwZSxuZXdUeXBlKXtwcmV2VHlwZSE9PW5ld1R5cGUmJihwcmV2VHlwZT09PUlGUkFNRV9OUz9fZml4SWZyYW1lQnVncygpOm5ld1R5cGU9PT1JRlJBTUVfTlMmJl9maXhJZnJhbWVCdWdzKCEwKSl9KSxfbWZwT24oQ0xPU0VfRVZFTlQrIi4iK0lGUkFNRV9OUyxmdW5jdGlvbigpe19maXhJZnJhbWVCdWdzKCl9KX0sZ2V0SWZyYW1lOmZ1bmN0aW9uKGl0ZW0sdGVtcGxhdGUpe3ZhciBlbWJlZFNyYz1pdGVtLnNyYyxpZnJhbWVTdD1tZnAuc3QuaWZyYW1lOyQuZWFjaChpZnJhbWVTdC5wYXR0ZXJucyxmdW5jdGlvbigpe3JldHVybiBlbWJlZFNyYy5pbmRleE9mKHRoaXMuaW5kZXgpPi0xPyh0aGlzLmlkJiYoZW1iZWRTcmM9InN0cmluZyI9PXR5cGVvZiB0aGlzLmlkP2VtYmVkU3JjLnN1YnN0cihlbWJlZFNyYy5sYXN0SW5kZXhPZih0aGlzLmlkKSt0aGlzLmlkLmxlbmd0aCxlbWJlZFNyYy5sZW5ndGgpOnRoaXMuaWQuY2FsbCh0aGlzLGVtYmVkU3JjKSksZW1iZWRTcmM9dGhpcy5zcmMucmVwbGFjZSgiJWlkJSIsZW1iZWRTcmMpLCExKTp2b2lkIDAKfSk7dmFyIGRhdGFPYmo9e307cmV0dXJuIGlmcmFtZVN0LnNyY0FjdGlvbiYmKGRhdGFPYmpbaWZyYW1lU3Quc3JjQWN0aW9uXT1lbWJlZFNyYyksbWZwLl9wYXJzZU1hcmt1cCh0ZW1wbGF0ZSxkYXRhT2JqLGl0ZW0pLG1mcC51cGRhdGVTdGF0dXMoInJlYWR5IiksdGVtcGxhdGV9fX0pO3ZhciBfZ2V0TG9vcGVkSWQ9ZnVuY3Rpb24oaW5kZXgpe3ZhciBudW1TbGlkZXM9bWZwLml0ZW1zLmxlbmd0aDtyZXR1cm4gaW5kZXg+bnVtU2xpZGVzLTE/aW5kZXgtbnVtU2xpZGVzOjA+aW5kZXg/bnVtU2xpZGVzK2luZGV4OmluZGV4fSxfcmVwbGFjZUN1cnJUb3RhbD1mdW5jdGlvbih0ZXh0LGN1cnIsdG90YWwpe3JldHVybiB0ZXh0LnJlcGxhY2UoLyVjdXJyJS9naSxjdXJyKzEpLnJlcGxhY2UoLyV0b3RhbCUvZ2ksdG90YWwpfTskLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoImdhbGxlcnkiLHtvcHRpb25zOntlbmFibGVkOiExLGFycm93TWFya3VwOic8YnV0dG9uIHRpdGxlPSIldGl0bGUlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJtZnAtYXJyb3cgbWZwLWFycm93LSVkaXIlIj48L2J1dHRvbj4nLHByZWxvYWQ6WzAsMl0sbmF2aWdhdGVCeUltZ0NsaWNrOiEwLGFycm93czohMCx0UHJldjoiUHJldmlvdXMgKExlZnQgYXJyb3cga2V5KSIsdE5leHQ6Ik5leHQgKFJpZ2h0IGFycm93IGtleSkiLHRDb3VudGVyOiIlY3VyciUgb2YgJXRvdGFsJSJ9LHByb3RvOntpbml0R2FsbGVyeTpmdW5jdGlvbigpe3ZhciBnU3Q9bWZwLnN0LmdhbGxlcnksbnM9Ii5tZnAtZ2FsbGVyeSIsc3VwcG9ydHNGYXN0Q2xpY2s9Qm9vbGVhbigkLmZuLm1mcEZhc3RDbGljayk7cmV0dXJuIG1mcC5kaXJlY3Rpb249ITAsZ1N0JiZnU3QuZW5hYmxlZD8oX3dyYXBDbGFzc2VzKz0iIG1mcC1nYWxsZXJ5IixfbWZwT24oT1BFTl9FVkVOVCtucyxmdW5jdGlvbigpe2dTdC5uYXZpZ2F0ZUJ5SW1nQ2xpY2smJm1mcC53cmFwLm9uKCJjbGljayIrbnMsIi5tZnAtaW1nIixmdW5jdGlvbigpe3JldHVybiBtZnAuaXRlbXMubGVuZ3RoPjE/KG1mcC5uZXh0KCksITEpOnZvaWQgMH0pLF9kb2N1bWVudC5vbigia2V5ZG93biIrbnMsZnVuY3Rpb24oZSl7Mzc9PT1lLmtleUNvZGU/bWZwLnByZXYoKTozOT09PWUua2V5Q29kZSYmbWZwLm5leHQoKX0pfSksX21mcE9uKCJVcGRhdGVTdGF0dXMiK25zLGZ1bmN0aW9uKGUsZGF0YSl7ZGF0YS50ZXh0JiYoZGF0YS50ZXh0PV9yZXBsYWNlQ3VyclRvdGFsKGRhdGEudGV4dCxtZnAuY3Vyckl0ZW0uaW5kZXgsbWZwLml0ZW1zLmxlbmd0aCkpfSksX21mcE9uKE1BUktVUF9QQVJTRV9FVkVOVCtucyxmdW5jdGlvbihlLGVsZW1lbnQsdmFsdWVzLGl0ZW0pe3ZhciBsPW1mcC5pdGVtcy5sZW5ndGg7dmFsdWVzLmNvdW50ZXI9bD4xP19yZXBsYWNlQ3VyclRvdGFsKGdTdC50Q291bnRlcixpdGVtLmluZGV4LGwpOiIifSksX21mcE9uKCJCdWlsZENvbnRyb2xzIitucyxmdW5jdGlvbigpe2lmKG1mcC5pdGVtcy5sZW5ndGg+MSYmZ1N0LmFycm93cyYmIW1mcC5hcnJvd0xlZnQpe3ZhciBtYXJrdXA9Z1N0LmFycm93TWFya3VwLGFycm93TGVmdD1tZnAuYXJyb3dMZWZ0PSQobWFya3VwLnJlcGxhY2UoLyV0aXRsZSUvZ2ksZ1N0LnRQcmV2KS5yZXBsYWNlKC8lZGlyJS9naSwibGVmdCIpKS5hZGRDbGFzcyhQUkVWRU5UX0NMT1NFX0NMQVNTKSxhcnJvd1JpZ2h0PW1mcC5hcnJvd1JpZ2h0PSQobWFya3VwLnJlcGxhY2UoLyV0aXRsZSUvZ2ksZ1N0LnROZXh0KS5yZXBsYWNlKC8lZGlyJS9naSwicmlnaHQiKSkuYWRkQ2xhc3MoUFJFVkVOVF9DTE9TRV9DTEFTUyksZU5hbWU9c3VwcG9ydHNGYXN0Q2xpY2s/Im1mcEZhc3RDbGljayI6ImNsaWNrIjthcnJvd0xlZnRbZU5hbWVdKGZ1bmN0aW9uKCl7bWZwLnByZXYoKX0pLGFycm93UmlnaHRbZU5hbWVdKGZ1bmN0aW9uKCl7bWZwLm5leHQoKX0pLG1mcC5pc0lFNyYmKF9nZXRFbCgiYiIsYXJyb3dMZWZ0WzBdLCExLCEwKSxfZ2V0RWwoImEiLGFycm93TGVmdFswXSwhMSwhMCksX2dldEVsKCJiIixhcnJvd1JpZ2h0WzBdLCExLCEwKSxfZ2V0RWwoImEiLGFycm93UmlnaHRbMF0sITEsITApKSxtZnAuY29udGFpbmVyLmFwcGVuZChhcnJvd0xlZnQuYWRkKGFycm93UmlnaHQpKX19KSxfbWZwT24oQ0hBTkdFX0VWRU5UK25zLGZ1bmN0aW9uKCl7bWZwLl9wcmVsb2FkVGltZW91dCYmY2xlYXJUaW1lb3V0KG1mcC5fcHJlbG9hZFRpbWVvdXQpLG1mcC5fcHJlbG9hZFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe21mcC5wcmVsb2FkTmVhcmJ5SW1hZ2VzKCksbWZwLl9wcmVsb2FkVGltZW91dD1udWxsfSwxNil9KSx2b2lkIF9tZnBPbihDTE9TRV9FVkVOVCtucyxmdW5jdGlvbigpe19kb2N1bWVudC5vZmYobnMpLG1mcC53cmFwLm9mZigiY2xpY2siK25zKSxtZnAuYXJyb3dMZWZ0JiZzdXBwb3J0c0Zhc3RDbGljayYmbWZwLmFycm93TGVmdC5hZGQobWZwLmFycm93UmlnaHQpLmRlc3Ryb3lNZnBGYXN0Q2xpY2soKSxtZnAuYXJyb3dSaWdodD1tZnAuYXJyb3dMZWZ0PW51bGx9KSk6ITF9LG5leHQ6ZnVuY3Rpb24oKXttZnAuZGlyZWN0aW9uPSEwLG1mcC5pbmRleD1fZ2V0TG9vcGVkSWQobWZwLmluZGV4KzEpLG1mcC51cGRhdGVJdGVtSFRNTCgpfSxwcmV2OmZ1bmN0aW9uKCl7bWZwLmRpcmVjdGlvbj0hMSxtZnAuaW5kZXg9X2dldExvb3BlZElkKG1mcC5pbmRleC0xKSxtZnAudXBkYXRlSXRlbUhUTUwoKX0sZ29UbzpmdW5jdGlvbihuZXdJbmRleCl7bWZwLmRpcmVjdGlvbj1uZXdJbmRleD49bWZwLmluZGV4LG1mcC5pbmRleD1uZXdJbmRleCxtZnAudXBkYXRlSXRlbUhUTUwoKX0scHJlbG9hZE5lYXJieUltYWdlczpmdW5jdGlvbigpe3ZhciBpLHA9bWZwLnN0LmdhbGxlcnkucHJlbG9hZCxwcmVsb2FkQmVmb3JlPU1hdGgubWluKHBbMF0sbWZwLml0ZW1zLmxlbmd0aCkscHJlbG9hZEFmdGVyPU1hdGgubWluKHBbMV0sbWZwLml0ZW1zLmxlbmd0aCk7Zm9yKGk9MTtpPD0obWZwLmRpcmVjdGlvbj9wcmVsb2FkQWZ0ZXI6cHJlbG9hZEJlZm9yZSk7aSsrKW1mcC5fcHJlbG9hZEl0ZW0obWZwLmluZGV4K2kpO2ZvcihpPTE7aTw9KG1mcC5kaXJlY3Rpb24/cHJlbG9hZEJlZm9yZTpwcmVsb2FkQWZ0ZXIpO2krKyltZnAuX3ByZWxvYWRJdGVtKG1mcC5pbmRleC1pKX0sX3ByZWxvYWRJdGVtOmZ1bmN0aW9uKGluZGV4KXtpZihpbmRleD1fZ2V0TG9vcGVkSWQoaW5kZXgpLCFtZnAuaXRlbXNbaW5kZXhdLnByZWxvYWRlZCl7dmFyIGl0ZW09bWZwLml0ZW1zW2luZGV4XTtpdGVtLnBhcnNlZHx8KGl0ZW09bWZwLnBhcnNlRWwoaW5kZXgpKSxfbWZwVHJpZ2dlcigiTGF6eUxvYWQiLGl0ZW0pLCJpbWFnZSI9PT1pdGVtLnR5cGUmJihpdGVtLmltZz0kKCc8aW1nIGNsYXNzPSJtZnAtaW1nIiAvPicpLm9uKCJsb2FkLm1mcGxvYWRlciIsZnVuY3Rpb24oKXtpdGVtLmhhc1NpemU9ITB9KS5vbigiZXJyb3IubWZwbG9hZGVyIixmdW5jdGlvbigpe2l0ZW0uaGFzU2l6ZT0hMCxpdGVtLmxvYWRFcnJvcj0hMCxfbWZwVHJpZ2dlcigiTGF6eUxvYWRFcnJvciIsaXRlbSl9KS5hdHRyKCJzcmMiLGl0ZW0uc3JjKSksaXRlbS5wcmVsb2FkZWQ9ITB9fX19KTt2YXIgUkVUSU5BX05TPSJyZXRpbmEiOyQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZShSRVRJTkFfTlMse29wdGlvbnM6e3JlcGxhY2VTcmM6ZnVuY3Rpb24oaXRlbSl7cmV0dXJuIGl0ZW0uc3JjLnJlcGxhY2UoL1wuXHcrJC8sZnVuY3Rpb24obSl7cmV0dXJuIkAyeCIrbX0pfSxyYXRpbzoxfSxwcm90bzp7aW5pdFJldGluYTpmdW5jdGlvbigpe2lmKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPjEpe3ZhciBzdD1tZnAuc3QucmV0aW5hLHJhdGlvPXN0LnJhdGlvO3JhdGlvPWlzTmFOKHJhdGlvKT9yYXRpbygpOnJhdGlvLHJhdGlvPjEmJihfbWZwT24oIkltYWdlSGFzU2l6ZS4iK1JFVElOQV9OUyxmdW5jdGlvbihlLGl0ZW0pe2l0ZW0uaW1nLmNzcyh7Im1heC13aWR0aCI6aXRlbS5pbWdbMF0ubmF0dXJhbFdpZHRoL3JhdGlvLHdpZHRoOiIxMDAlIn0pfSksX21mcE9uKCJFbGVtZW50UGFyc2UuIitSRVRJTkFfTlMsZnVuY3Rpb24oZSxpdGVtKXtpdGVtLnNyYz1zdC5yZXBsYWNlU3JjKGl0ZW0scmF0aW8pfSkpfX19fSksZnVuY3Rpb24oKXt2YXIgZ2hvc3RDbGlja0RlbGF5PTFlMyxzdXBwb3J0c1RvdWNoPSJvbnRvdWNoc3RhcnQiaW4gd2luZG93LHVuYmluZFRvdWNoTW92ZT1mdW5jdGlvbigpe193aW5kb3cub2ZmKCJ0b3VjaG1vdmUiK25zKyIgdG91Y2hlbmQiK25zKX0sZU5hbWU9Im1mcEZhc3RDbGljayIsbnM9Ii4iK2VOYW1lOyQuZm4ubWZwRmFzdENsaWNrPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGxvY2ssZWxlbT0kKHRoaXMpO2lmKHN1cHBvcnRzVG91Y2gpe3ZhciB0aW1lb3V0LHN0YXJ0WCxzdGFydFkscG9pbnRlck1vdmVkLHBvaW50LG51bVBvaW50ZXJzO2VsZW0ub24oInRvdWNoc3RhcnQiK25zLGZ1bmN0aW9uKGUpe3BvaW50ZXJNb3ZlZD0hMSxudW1Qb2ludGVycz0xLHBvaW50PWUub3JpZ2luYWxFdmVudD9lLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTplLnRvdWNoZXNbMF0sc3RhcnRYPXBvaW50LmNsaWVudFgsc3RhcnRZPXBvaW50LmNsaWVudFksX3dpbmRvdy5vbigidG91Y2htb3ZlIitucyxmdW5jdGlvbihlKXtwb2ludD1lLm9yaWdpbmFsRXZlbnQ/ZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM6ZS50b3VjaGVzLG51bVBvaW50ZXJzPXBvaW50Lmxlbmd0aCxwb2ludD1wb2ludFswXSwoTWF0aC5hYnMocG9pbnQuY2xpZW50WC1zdGFydFgpPjEwfHxNYXRoLmFicyhwb2ludC5jbGllbnRZLXN0YXJ0WSk+MTApJiYocG9pbnRlck1vdmVkPSEwLHVuYmluZFRvdWNoTW92ZSgpKX0pLm9uKCJ0b3VjaGVuZCIrbnMsZnVuY3Rpb24oZSl7dW5iaW5kVG91Y2hNb3ZlKCkscG9pbnRlck1vdmVkfHxudW1Qb2ludGVycz4xfHwobG9jaz0hMCxlLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRpbWVvdXQpLHRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2xvY2s9ITF9LGdob3N0Q2xpY2tEZWxheSksY2FsbGJhY2soKSl9KX0pfWVsZW0ub24oImNsaWNrIitucyxmdW5jdGlvbigpe2xvY2t8fGNhbGxiYWNrKCl9KX0pfSwkLmZuLmRlc3Ryb3lNZnBGYXN0Q2xpY2s9ZnVuY3Rpb24oKXskKHRoaXMpLm9mZigidG91Y2hzdGFydCIrbnMrIiBjbGljayIrbnMpLHN1cHBvcnRzVG91Y2gmJl93aW5kb3cub2ZmKCJ0b3VjaG1vdmUiK25zKyIgdG91Y2hlbmQiK25zKX19KCksX2NoZWNrSW5zdGFuY2UoKX0od2luZG93LmpRdWVyeXx8d2luZG93LlplcHRvKSwhZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciBmOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P2Y9d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2Y9Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmKGY9c2VsZiksZi5pbz1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmU7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPV9kZXJlcV8oIi4vbGliLyIpfSx7Ii4vbGliLyI6Mn1dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIGxvb2t1cCh1cmksb3B0cyl7Im9iamVjdCI9PXR5cGVvZiB1cmkmJihvcHRzPXVyaSx1cmk9dm9pZCAwKSxvcHRzPW9wdHN8fHt9O3ZhciBpbyxwYXJzZWQ9dXJsKHVyaSksc291cmNlPXBhcnNlZC5zb3VyY2UsaWQ9cGFyc2VkLmlkO3JldHVybiBvcHRzLmZvcmNlTmV3fHxvcHRzWyJmb3JjZSBuZXcgY29ubmVjdGlvbiJdfHwhMT09PW9wdHMubXVsdGlwbGV4PyhkZWJ1ZygiaWdub3Jpbmcgc29ja2V0IGNhY2hlIGZvciAlcyIsc291cmNlKSxpbz1NYW5hZ2VyKHNvdXJjZSxvcHRzKSk6KGNhY2hlW2lkXXx8KGRlYnVnKCJuZXcgaW8gaW5zdGFuY2UgZm9yICVzIixzb3VyY2UpLGNhY2hlW2lkXT1NYW5hZ2VyKHNvdXJjZSxvcHRzKSksaW89Y2FjaGVbaWRdKSxpby5zb2NrZXQocGFyc2VkLnBhdGgpfXZhciB1cmw9X2RlcmVxXygiLi91cmwiKSxwYXJzZXI9X2RlcmVxXygic29ja2V0LmlvLXBhcnNlciIpLE1hbmFnZXI9X2RlcmVxXygiLi9tYW5hZ2VyIiksZGVidWc9X2RlcmVxXygiZGVidWciKSgic29ja2V0LmlvLWNsaWVudCIpO21vZHVsZS5leHBvcnRzPWV4cG9ydHM9bG9va3VwO3ZhciBjYWNoZT1leHBvcnRzLm1hbmFnZXJzPXt9O2V4cG9ydHMucHJvdG9jb2w9cGFyc2VyLnByb3RvY29sLGV4cG9ydHMuY29ubmVjdD1sb29rdXAsZXhwb3J0cy5NYW5hZ2VyPV9kZXJlcV8oIi4vbWFuYWdlciIpLGV4cG9ydHMuU29ja2V0PV9kZXJlcV8oIi4vc29ja2V0Iil9LHsiLi9tYW5hZ2VyIjozLCIuL3NvY2tldCI6NSwiLi91cmwiOjYsZGVidWc6OSwic29ja2V0LmlvLXBhcnNlciI6NDB9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gTWFuYWdlcih1cmksb3B0cyl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBNYW5hZ2VyPyh1cmkmJiJvYmplY3QiPT10eXBlb2YgdXJpJiYob3B0cz11cmksdXJpPXZvaWQgMCksb3B0cz1vcHRzfHx7fSxvcHRzLnBhdGg9b3B0cy5wYXRofHwiL3NvY2tldC5pbyIsdGhpcy5uc3BzPXt9LHRoaXMuc3Vicz1bXSx0aGlzLm9wdHM9b3B0cyx0aGlzLnJlY29ubmVjdGlvbihvcHRzLnJlY29ubmVjdGlvbiE9PSExKSx0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKG9wdHMucmVjb25uZWN0aW9uQXR0ZW1wdHN8fDEvMCksdGhpcy5yZWNvbm5lY3Rpb25EZWxheShvcHRzLnJlY29ubmVjdGlvbkRlbGF5fHwxZTMpLHRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgob3B0cy5yZWNvbm5lY3Rpb25EZWxheU1heHx8NWUzKSx0aGlzLnRpbWVvdXQobnVsbD09b3B0cy50aW1lb3V0PzJlNDpvcHRzLnRpbWVvdXQpLHRoaXMucmVhZHlTdGF0ZT0iY2xvc2VkIix0aGlzLnVyaT11cmksdGhpcy5jb25uZWN0ZWQ9MCx0aGlzLmF0dGVtcHRzPTAsdGhpcy5lbmNvZGluZz0hMSx0aGlzLnBhY2tldEJ1ZmZlcj1bXSx0aGlzLmVuY29kZXI9bmV3IHBhcnNlci5FbmNvZGVyLHRoaXMuZGVjb2Rlcj1uZXcgcGFyc2VyLkRlY29kZXIsdGhpcy5hdXRvQ29ubmVjdD1vcHRzLmF1dG9Db25uZWN0IT09ITEsdm9pZCh0aGlzLmF1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKSkpOm5ldyBNYW5hZ2VyKHVyaSxvcHRzKX12YXIgZWlvPShfZGVyZXFfKCIuL3VybCIpLF9kZXJlcV8oImVuZ2luZS5pby1jbGllbnQiKSksU29ja2V0PV9kZXJlcV8oIi4vc29ja2V0IiksRW1pdHRlcj1fZGVyZXFfKCJjb21wb25lbnQtZW1pdHRlciIpLHBhcnNlcj1fZGVyZXFfKCJzb2NrZXQuaW8tcGFyc2VyIiksb249X2RlcmVxXygiLi9vbiIpLGJpbmQ9X2RlcmVxXygiY29tcG9uZW50LWJpbmQiKSxkZWJ1Zz0oX2RlcmVxXygib2JqZWN0LWNvbXBvbmVudCIpLF9kZXJlcV8oImRlYnVnIikoInNvY2tldC5pby1jbGllbnQ6bWFuYWdlciIpKTttb2R1bGUuZXhwb3J0cz1NYW5hZ2VyLE1hbmFnZXIucHJvdG90eXBlLmVtaXRBbGw9ZnVuY3Rpb24oKXt0aGlzLmVtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgbnNwIGluIHRoaXMubnNwcyl0aGlzLm5zcHNbbnNwXS5lbWl0LmFwcGx5KHRoaXMubnNwc1tuc3BdLGFyZ3VtZW50cyl9LEVtaXR0ZXIoTWFuYWdlci5wcm90b3R5cGUpLE1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbj1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uPSEhdix0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb259LE1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbkF0dGVtcHRzPWZ1bmN0aW9uKHYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cz12LHRoaXMpOnRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzfSxNYW5hZ2VyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25EZWxheT1mdW5jdGlvbih2KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uRGVsYXk9dix0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb25EZWxheX0sTWFuYWdlci5wcm90b3R5cGUucmVjb25uZWN0aW9uRGVsYXlNYXg9ZnVuY3Rpb24odil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4PXYsdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXh9LE1hbmFnZXIucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3RpbWVvdXQ9dix0aGlzKTp0aGlzLl90aW1lb3V0fSxNYW5hZ2VyLnByb3RvdHlwZS5tYXliZVJlY29ubmVjdE9uT3Blbj1mdW5jdGlvbigpe3RoaXMub3BlblJlY29ubmVjdHx8dGhpcy5yZWNvbm5lY3Rpbmd8fCF0aGlzLl9yZWNvbm5lY3Rpb258fDAhPT10aGlzLmF0dGVtcHRzfHwodGhpcy5vcGVuUmVjb25uZWN0PSEwLHRoaXMucmVjb25uZWN0KCkpfSxNYW5hZ2VyLnByb3RvdHlwZS5vcGVuPU1hbmFnZXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZm4pe2lmKGRlYnVnKCJyZWFkeVN0YXRlICVzIix0aGlzLnJlYWR5U3RhdGUpLH50aGlzLnJlYWR5U3RhdGUuaW5kZXhPZigib3BlbiIpKXJldHVybiB0aGlzO2RlYnVnKCJvcGVuaW5nICVzIix0aGlzLnVyaSksdGhpcy5lbmdpbmU9ZWlvKHRoaXMudXJpLHRoaXMub3B0cyk7dmFyIHNvY2tldD10aGlzLmVuZ2luZSxzZWxmPXRoaXM7dGhpcy5yZWFkeVN0YXRlPSJvcGVuaW5nIjt2YXIgb3BlblN1Yj1vbihzb2NrZXQsIm9wZW4iLGZ1bmN0aW9uKCl7c2VsZi5vbm9wZW4oKSxmbiYmZm4oKX0pLGVycm9yU3ViPW9uKHNvY2tldCwiZXJyb3IiLGZ1bmN0aW9uKGRhdGEpe2lmKGRlYnVnKCJjb25uZWN0X2Vycm9yIiksc2VsZi5jbGVhbnVwKCksc2VsZi5yZWFkeVN0YXRlPSJjbG9zZWQiLHNlbGYuZW1pdEFsbCgiY29ubmVjdF9lcnJvciIsZGF0YSksZm4pe3ZhciBlcnI9bmV3IEVycm9yKCJDb25uZWN0aW9uIGVycm9yIik7ZXJyLmRhdGE9ZGF0YSxmbihlcnIpfXNlbGYubWF5YmVSZWNvbm5lY3RPbk9wZW4oKX0pO2lmKCExIT09dGhpcy5fdGltZW91dCl7dmFyIHRpbWVvdXQ9dGhpcy5fdGltZW91dDtkZWJ1ZygiY29ubmVjdCBhdHRlbXB0IHdpbGwgdGltZW91dCBhZnRlciAlZCIsdGltZW91dCk7dmFyIHRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWJ1ZygiY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZCIsdGltZW91dCksb3BlblN1Yi5kZXN0cm95KCksc29ja2V0LmNsb3NlKCksc29ja2V0LmVtaXQoImVycm9yIiwidGltZW91dCIpLHNlbGYuZW1pdEFsbCgiY29ubmVjdF90aW1lb3V0Iix0aW1lb3V0KX0sdGltZW91dCk7dGhpcy5zdWJzLnB1c2goe2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZXIpfX0pfXJldHVybiB0aGlzLnN1YnMucHVzaChvcGVuU3ViKSx0aGlzLnN1YnMucHVzaChlcnJvclN1YiksdGhpc30sTWFuYWdlci5wcm90b3R5cGUub25vcGVuPWZ1bmN0aW9uKCl7ZGVidWcoIm9wZW4iKSx0aGlzLmNsZWFudXAoKSx0aGlzLnJlYWR5U3RhdGU9Im9wZW4iLHRoaXMuZW1pdCgib3BlbiIpO3ZhciBzb2NrZXQ9dGhpcy5lbmdpbmU7dGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCJkYXRhIixiaW5kKHRoaXMsIm9uZGF0YSIpKSksdGhpcy5zdWJzLnB1c2gob24odGhpcy5kZWNvZGVyLCJkZWNvZGVkIixiaW5kKHRoaXMsIm9uZGVjb2RlZCIpKSksdGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCJlcnJvciIsYmluZCh0aGlzLCJvbmVycm9yIikpKSx0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsImNsb3NlIixiaW5kKHRoaXMsIm9uY2xvc2UiKSkpfSxNYW5hZ2VyLnByb3RvdHlwZS5vbmRhdGE9ZnVuY3Rpb24oZGF0YSl7dGhpcy5kZWNvZGVyLmFkZChkYXRhKX0sTWFuYWdlci5wcm90b3R5cGUub25kZWNvZGVkPWZ1bmN0aW9uKHBhY2tldCl7dGhpcy5lbWl0KCJwYWNrZXQiLHBhY2tldCl9LE1hbmFnZXIucHJvdG90eXBlLm9uZXJyb3I9ZnVuY3Rpb24oZXJyKXtkZWJ1ZygiZXJyb3IiLGVyciksdGhpcy5lbWl0QWxsKCJlcnJvciIsZXJyKX0sTWFuYWdlci5wcm90b3R5cGUuc29ja2V0PWZ1bmN0aW9uKG5zcCl7dmFyIHNvY2tldD10aGlzLm5zcHNbbnNwXTtpZighc29ja2V0KXtzb2NrZXQ9bmV3IFNvY2tldCh0aGlzLG5zcCksdGhpcy5uc3BzW25zcF09c29ja2V0O3ZhciBzZWxmPXRoaXM7c29ja2V0Lm9uKCJjb25uZWN0IixmdW5jdGlvbigpe3NlbGYuY29ubmVjdGVkKyt9KX1yZXR1cm4gc29ja2V0fSxNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7LS10aGlzLmNvbm5lY3RlZHx8dGhpcy5jbG9zZSgpfSxNYW5hZ2VyLnByb3RvdHlwZS5wYWNrZXQ9ZnVuY3Rpb24ocGFja2V0KXtkZWJ1Zygid3JpdGluZyBwYWNrZXQgJWoiLHBhY2tldCk7dmFyIHNlbGY9dGhpcztzZWxmLmVuY29kaW5nP3NlbGYucGFja2V0QnVmZmVyLnB1c2gocGFja2V0KTooc2VsZi5lbmNvZGluZz0hMCx0aGlzLmVuY29kZXIuZW5jb2RlKHBhY2tldCxmdW5jdGlvbihlbmNvZGVkUGFja2V0cyl7Zm9yKHZhciBpPTA7aTxlbmNvZGVkUGFja2V0cy5sZW5ndGg7aSsrKXNlbGYuZW5naW5lLndyaXRlKGVuY29kZWRQYWNrZXRzW2ldKTtzZWxmLmVuY29kaW5nPSExLHNlbGYucHJvY2Vzc1BhY2tldFF1ZXVlKCl9KSl9LE1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQYWNrZXRRdWV1ZT1mdW5jdGlvbigpe2lmKHRoaXMucGFja2V0QnVmZmVyLmxlbmd0aD4wJiYhdGhpcy5lbmNvZGluZyl7dmFyIHBhY2s9dGhpcy5wYWNrZXRCdWZmZXIuc2hpZnQoKTt0aGlzLnBhY2tldChwYWNrKX19LE1hbmFnZXIucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24oKXtmb3IodmFyIHN1YjtzdWI9dGhpcy5zdWJzLnNoaWZ0KCk7KXN1Yi5kZXN0cm95KCk7dGhpcy5wYWNrZXRCdWZmZXI9W10sdGhpcy5lbmNvZGluZz0hMSx0aGlzLmRlY29kZXIuZGVzdHJveSgpfSxNYW5hZ2VyLnByb3RvdHlwZS5jbG9zZT1NYW5hZ2VyLnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5za2lwUmVjb25uZWN0PSEwLHRoaXMuZW5naW5lLmNsb3NlKCl9LE1hbmFnZXIucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24ocmVhc29uKXtkZWJ1ZygiY2xvc2UiKSx0aGlzLmNsZWFudXAoKSx0aGlzLnJlYWR5U3RhdGU9ImNsb3NlZCIsdGhpcy5lbWl0KCJjbG9zZSIscmVhc29uKSx0aGlzLl9yZWNvbm5lY3Rpb24mJiF0aGlzLnNraXBSZWNvbm5lY3QmJnRoaXMucmVjb25uZWN0KCl9LE1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdD1mdW5jdGlvbigpe2lmKHRoaXMucmVjb25uZWN0aW5nKXJldHVybiB0aGlzO3ZhciBzZWxmPXRoaXM7aWYodGhpcy5hdHRlbXB0cysrLHRoaXMuYXR0ZW1wdHM+dGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpZGVidWcoInJlY29ubmVjdCBmYWlsZWQiKSx0aGlzLmVtaXRBbGwoInJlY29ubmVjdF9mYWlsZWQiKSx0aGlzLnJlY29ubmVjdGluZz0hMTtlbHNle3ZhciBkZWxheT10aGlzLmF0dGVtcHRzKnRoaXMucmVjb25uZWN0aW9uRGVsYXkoKTtkZWxheT1NYXRoLm1pbihkZWxheSx0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCkpLGRlYnVnKCJ3aWxsIHdhaXQgJWRtcyBiZWZvcmUgcmVjb25uZWN0IGF0dGVtcHQiLGRlbGF5KSx0aGlzLnJlY29ubmVjdGluZz0hMDt2YXIgdGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2RlYnVnKCJhdHRlbXB0aW5nIHJlY29ubmVjdCIpLHNlbGYuZW1pdEFsbCgicmVjb25uZWN0X2F0dGVtcHQiLHNlbGYuYXR0ZW1wdHMpLHNlbGYuZW1pdEFsbCgicmVjb25uZWN0aW5nIixzZWxmLmF0dGVtcHRzKSxzZWxmLm9wZW4oZnVuY3Rpb24oZXJyKXtlcnI/KGRlYnVnKCJyZWNvbm5lY3QgYXR0ZW1wdCBlcnJvciIpLHNlbGYucmVjb25uZWN0aW5nPSExLHNlbGYucmVjb25uZWN0KCksc2VsZi5lbWl0QWxsKCJyZWNvbm5lY3RfZXJyb3IiLGVyci5kYXRhKSk6KGRlYnVnKCJyZWNvbm5lY3Qgc3VjY2VzcyIpLHNlbGYub25yZWNvbm5lY3QoKSl9KX0sZGVsYXkpO3RoaXMuc3Vicy5wdXNoKHtkZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRpbWVyKX19KX19LE1hbmFnZXIucHJvdG90eXBlLm9ucmVjb25uZWN0PWZ1bmN0aW9uKCl7dmFyIGF0dGVtcHQ9dGhpcy5hdHRlbXB0czt0aGlzLmF0dGVtcHRzPTAsdGhpcy5yZWNvbm5lY3Rpbmc9ITEsdGhpcy5lbWl0QWxsKCJyZWNvbm5lY3QiLGF0dGVtcHQpfX0seyIuL29uIjo0LCIuL3NvY2tldCI6NSwiLi91cmwiOjYsImNvbXBvbmVudC1iaW5kIjo3LCJjb21wb25lbnQtZW1pdHRlciI6OCxkZWJ1Zzo5LCJlbmdpbmUuaW8tY2xpZW50IjoxMCwib2JqZWN0LWNvbXBvbmVudCI6MzcsInNvY2tldC5pby1wYXJzZXIiOjQwfV0sNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIG9uKG9iaixldixmbil7cmV0dXJuIG9iai5vbihldixmbikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXtvYmoucmVtb3ZlTGlzdGVuZXIoZXYsZm4pfX19bW9kdWxlLmV4cG9ydHM9b259LHt9XSw1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBTb2NrZXQoaW8sbnNwKXt0aGlzLmlvPWlvLHRoaXMubnNwPW5zcCx0aGlzLmpzb249dGhpcyx0aGlzLmlkcz0wLHRoaXMuYWNrcz17fSx0aGlzLmlvLmF1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKSx0aGlzLnJlY2VpdmVCdWZmZXI9W10sdGhpcy5zZW5kQnVmZmVyPVtdLHRoaXMuY29ubmVjdGVkPSExLHRoaXMuZGlzY29ubmVjdGVkPSEwLHRoaXMuc3ViRXZlbnRzKCl9e3ZhciBwYXJzZXI9X2RlcmVxXygic29ja2V0LmlvLXBhcnNlciIpLEVtaXR0ZXI9X2RlcmVxXygiY29tcG9uZW50LWVtaXR0ZXIiKSx0b0FycmF5PV9kZXJlcV8oInRvLWFycmF5Iiksb249X2RlcmVxXygiLi9vbiIpLGJpbmQ9X2RlcmVxXygiY29tcG9uZW50LWJpbmQiKSxkZWJ1Zz1fZGVyZXFfKCJkZWJ1ZyIpKCJzb2NrZXQuaW8tY2xpZW50OnNvY2tldCIpLGhhc0Jpbj1fZGVyZXFfKCJoYXMtYmluYXJ5Iik7X2RlcmVxXygiaW5kZXhvZiIpfW1vZHVsZS5leHBvcnRzPWV4cG9ydHM9U29ja2V0O3ZhciBldmVudHM9e2Nvbm5lY3Q6MSxjb25uZWN0X2Vycm9yOjEsY29ubmVjdF90aW1lb3V0OjEsZGlzY29ubmVjdDoxLGVycm9yOjEscmVjb25uZWN0OjEscmVjb25uZWN0X2F0dGVtcHQ6MSxyZWNvbm5lY3RfZmFpbGVkOjEscmVjb25uZWN0X2Vycm9yOjEscmVjb25uZWN0aW5nOjF9LGVtaXQ9RW1pdHRlci5wcm90b3R5cGUuZW1pdDtFbWl0dGVyKFNvY2tldC5wcm90b3R5cGUpLFNvY2tldC5wcm90b3R5cGUuc3ViRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGlvPXRoaXMuaW87dGhpcy5zdWJzPVtvbihpbywib3BlbiIsYmluZCh0aGlzLCJvbm9wZW4iKSksb24oaW8sInBhY2tldCIsYmluZCh0aGlzLCJvbnBhY2tldCIpKSxvbihpbywiY2xvc2UiLGJpbmQodGhpcywib25jbG9zZSIpKV19LFNvY2tldC5wcm90b3R5cGUub3Blbj1Tb2NrZXQucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQ/dGhpczoodGhpcy5pby5vcGVuKCksIm9wZW4iPT10aGlzLmlvLnJlYWR5U3RhdGUmJnRoaXMub25vcGVuKCksdGhpcyl9LFNvY2tldC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe3ZhciBhcmdzPXRvQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gYXJncy51bnNoaWZ0KCJtZXNzYWdlIiksdGhpcy5lbWl0LmFwcGx5KHRoaXMsYXJncyksdGhpc30sU29ja2V0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGV2KXtpZihldmVudHMuaGFzT3duUHJvcGVydHkoZXYpKXJldHVybiBlbWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzO3ZhciBhcmdzPXRvQXJyYXkoYXJndW1lbnRzKSxwYXJzZXJUeXBlPXBhcnNlci5FVkVOVDtoYXNCaW4oYXJncykmJihwYXJzZXJUeXBlPXBhcnNlci5CSU5BUllfRVZFTlQpO3ZhciBwYWNrZXQ9e3R5cGU6cGFyc2VyVHlwZSxkYXRhOmFyZ3N9O3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoLTFdJiYoZGVidWcoImVtaXR0aW5nIHBhY2tldCB3aXRoIGFjayBpZCAlZCIsdGhpcy5pZHMpLHRoaXMuYWNrc1t0aGlzLmlkc109YXJncy5wb3AoKSxwYWNrZXQuaWQ9dGhpcy5pZHMrKyksdGhpcy5jb25uZWN0ZWQ/dGhpcy5wYWNrZXQocGFja2V0KTp0aGlzLnNlbmRCdWZmZXIucHVzaChwYWNrZXQpLHRoaXN9LFNvY2tldC5wcm90b3R5cGUucGFja2V0PWZ1bmN0aW9uKHBhY2tldCl7cGFja2V0Lm5zcD10aGlzLm5zcCx0aGlzLmlvLnBhY2tldChwYWNrZXQpfSxTb2NrZXQucHJvdG90eXBlLm9ub3Blbj1mdW5jdGlvbigpe2RlYnVnKCJ0cmFuc3BvcnQgaXMgb3BlbiAtIGNvbm5lY3RpbmciKSwiLyIhPXRoaXMubnNwJiZ0aGlzLnBhY2tldCh7dHlwZTpwYXJzZXIuQ09OTkVDVH0pfSxTb2NrZXQucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24ocmVhc29uKXtkZWJ1ZygiY2xvc2UgKCVzKSIscmVhc29uKSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmRpc2Nvbm5lY3RlZD0hMCx0aGlzLmVtaXQoImRpc2Nvbm5lY3QiLHJlYXNvbil9LFNvY2tldC5wcm90b3R5cGUub25wYWNrZXQ9ZnVuY3Rpb24ocGFja2V0KXtpZihwYWNrZXQubnNwPT10aGlzLm5zcClzd2l0Y2gocGFja2V0LnR5cGUpe2Nhc2UgcGFyc2VyLkNPTk5FQ1Q6dGhpcy5vbmNvbm5lY3QoKTticmVhaztjYXNlIHBhcnNlci5FVkVOVDp0aGlzLm9uZXZlbnQocGFja2V0KTticmVhaztjYXNlIHBhcnNlci5CSU5BUllfRVZFTlQ6dGhpcy5vbmV2ZW50KHBhY2tldCk7YnJlYWs7Y2FzZSBwYXJzZXIuQUNLOnRoaXMub25hY2socGFja2V0KTticmVhaztjYXNlIHBhcnNlci5CSU5BUllfQUNLOnRoaXMub25hY2socGFja2V0KTticmVhaztjYXNlIHBhcnNlci5ESVNDT05ORUNUOnRoaXMub25kaXNjb25uZWN0KCk7YnJlYWs7Y2FzZSBwYXJzZXIuRVJST1I6dGhpcy5lbWl0KCJlcnJvciIscGFja2V0LmRhdGEpfX0sU29ja2V0LnByb3RvdHlwZS5vbmV2ZW50PWZ1bmN0aW9uKHBhY2tldCl7dmFyIGFyZ3M9cGFja2V0LmRhdGF8fFtdO2RlYnVnKCJlbWl0dGluZyBldmVudCAlaiIsYXJncyksbnVsbCE9cGFja2V0LmlkJiYoZGVidWcoImF0dGFjaGluZyBhY2sgY2FsbGJhY2sgdG8gZXZlbnQiKSxhcmdzLnB1c2godGhpcy5hY2socGFja2V0LmlkKSkpLHRoaXMuY29ubmVjdGVkP2VtaXQuYXBwbHkodGhpcyxhcmdzKTp0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChhcmdzKX0sU29ja2V0LnByb3RvdHlwZS5hY2s9ZnVuY3Rpb24oaWQpe3ZhciBzZWxmPXRoaXMsc2VudD0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighc2VudCl7c2VudD0hMDt2YXIgYXJncz10b0FycmF5KGFyZ3VtZW50cyk7ZGVidWcoInNlbmRpbmcgYWNrICVqIixhcmdzKTt2YXIgdHlwZT1oYXNCaW4oYXJncyk/cGFyc2VyLkJJTkFSWV9BQ0s6cGFyc2VyLkFDSztzZWxmLnBhY2tldCh7dHlwZTp0eXBlLGlkOmlkLGRhdGE6YXJnc30pfX19LFNvY2tldC5wcm90b3R5cGUub25hY2s9ZnVuY3Rpb24ocGFja2V0KXtkZWJ1ZygiY2FsbGluZyBhY2sgJXMgd2l0aCAlaiIscGFja2V0LmlkLHBhY2tldC5kYXRhKTt2YXIgZm49dGhpcy5hY2tzW3BhY2tldC5pZF07Zm4uYXBwbHkodGhpcyxwYWNrZXQuZGF0YSksZGVsZXRlIHRoaXMuYWNrc1twYWNrZXQuaWRdfSxTb2NrZXQucHJvdG90eXBlLm9uY29ubmVjdD1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGVkPSEwLHRoaXMuZGlzY29ubmVjdGVkPSExLHRoaXMuZW1pdCgiY29ubmVjdCIpLHRoaXMuZW1pdEJ1ZmZlcmVkKCl9LFNvY2tldC5wcm90b3R5cGUuZW1pdEJ1ZmZlcmVkPWZ1bmN0aW9uKCl7dmFyIGk7Zm9yKGk9MDtpPHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGg7aSsrKWVtaXQuYXBwbHkodGhpcyx0aGlzLnJlY2VpdmVCdWZmZXJbaV0pO2Zvcih0aGlzLnJlY2VpdmVCdWZmZXI9W10saT0wO2k8dGhpcy5zZW5kQnVmZmVyLmxlbmd0aDtpKyspdGhpcy5wYWNrZXQodGhpcy5zZW5kQnVmZmVyW2ldKTt0aGlzLnNlbmRCdWZmZXI9W119LFNvY2tldC5wcm90b3R5cGUub25kaXNjb25uZWN0PWZ1bmN0aW9uKCl7ZGVidWcoInNlcnZlciBkaXNjb25uZWN0ICglcykiLHRoaXMubnNwKSx0aGlzLmRlc3Ryb3koKSx0aGlzLm9uY2xvc2UoImlvIHNlcnZlciBkaXNjb25uZWN0Iil9LFNvY2tldC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgaT0wO2k8dGhpcy5zdWJzLmxlbmd0aDtpKyspdGhpcy5zdWJzW2ldLmRlc3Ryb3koKTt0aGlzLmlvLmRlc3Ryb3kodGhpcyl9LFNvY2tldC5wcm90b3R5cGUuY2xvc2U9U29ja2V0LnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGVkPyhkZWJ1ZygicGVyZm9ybWluZyBkaXNjb25uZWN0ICglcykiLHRoaXMubnNwKSx0aGlzLnBhY2tldCh7dHlwZTpwYXJzZXIuRElTQ09OTkVDVH0pLHRoaXMuZGVzdHJveSgpLHRoaXMub25jbG9zZSgiaW8gY2xpZW50IGRpc2Nvbm5lY3QiKSx0aGlzKTp0aGlzfX0seyIuL29uIjo0LCJjb21wb25lbnQtYmluZCI6NywiY29tcG9uZW50LWVtaXR0ZXIiOjgsZGVidWc6OSwiaGFzLWJpbmFyeSI6MzIsaW5kZXhvZjozNiwic29ja2V0LmlvLXBhcnNlciI6NDAsInRvLWFycmF5Ijo0NH1dLDY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXsoZnVuY3Rpb24oZ2xvYmFsKXtmdW5jdGlvbiB1cmwodXJpLGxvYyl7dmFyIG9iaj11cmksbG9jPWxvY3x8Z2xvYmFsLmxvY2F0aW9uO3JldHVybiBudWxsPT11cmkmJih1cmk9bG9jLnByb3RvY29sKyIvLyIrbG9jLmhvc3RuYW1lKSwic3RyaW5nIj09dHlwZW9mIHVyaSYmKCIvIj09dXJpLmNoYXJBdCgwKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBsb2MmJih1cmk9bG9jLmhvc3RuYW1lK3VyaSksL14oaHR0cHM/fHdzcz8pOlwvXC8vLnRlc3QodXJpKXx8KGRlYnVnKCJwcm90b2NvbC1sZXNzIHVybCAlcyIsdXJpKSx1cmk9InVuZGVmaW5lZCIhPXR5cGVvZiBsb2M/bG9jLnByb3RvY29sKyIvLyIrdXJpOiJodHRwczovLyIrdXJpKSxkZWJ1ZygicGFyc2UgJXMiLHVyaSksb2JqPXBhcnNldXJpKHVyaSkpLG9iai5wb3J0fHwoL14oaHR0cHx3cykkLy50ZXN0KG9iai5wcm90b2NvbCk/b2JqLnBvcnQ9IjgwIjovXihodHRwfHdzKXMkLy50ZXN0KG9iai5wcm90b2NvbCkmJihvYmoucG9ydD0iNDQzIikpLG9iai5wYXRoPW9iai5wYXRofHwiLyIsb2JqLmlkPW9iai5wcm90b2NvbCsiOi8vIitvYmouaG9zdCsiOiIrb2JqLnBvcnQsb2JqLmhyZWY9b2JqLnByb3RvY29sKyI6Ly8iK29iai5ob3N0Kyhsb2MmJmxvYy5wb3J0PT1vYmoucG9ydD8iIjoiOiIrb2JqLnBvcnQpLG9ian12YXIgcGFyc2V1cmk9X2RlcmVxXygicGFyc2V1cmkiKSxkZWJ1Zz1fZGVyZXFfKCJkZWJ1ZyIpKCJzb2NrZXQuaW8tY2xpZW50OnVybCIpO21vZHVsZS5leHBvcnRzPXVybH0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7ZGVidWc6OSxwYXJzZXVyaTozOH1dLDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgc2xpY2U9W10uc2xpY2U7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob2JqLGZuKXtpZigic3RyaW5nIj09dHlwZW9mIGZuJiYoZm49b2JqW2ZuXSksImZ1bmN0aW9uIiE9dHlwZW9mIGZuKXRocm93IG5ldyBFcnJvcigiYmluZCgpIHJlcXVpcmVzIGEgZnVuY3Rpb24iKTt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZm4uYXBwbHkob2JqLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX19LHt9XSw4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gRW1pdHRlcihvYmope3JldHVybiBvYmo/bWl4aW4ob2JqKTp2b2lkIDB9ZnVuY3Rpb24gbWl4aW4ob2JqKXtmb3IodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSlvYmpba2V5XT1FbWl0dGVyLnByb3RvdHlwZVtrZXldO3JldHVybiBvYmp9bW9kdWxlLmV4cG9ydHM9RW1pdHRlcixFbWl0dGVyLnByb3RvdHlwZS5vbj1FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGZuKXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sKHRoaXMuX2NhbGxiYWNrc1tldmVudF09dGhpcy5fY2FsbGJhY2tzW2V2ZW50XXx8W10pLnB1c2goZm4pLHRoaXN9LEVtaXR0ZXIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZXZlbnQsZm4pe2Z1bmN0aW9uIG9uKCl7c2VsZi5vZmYoZXZlbnQsb24pLGZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgc2VsZj10aGlzO3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSxvbi5mbj1mbix0aGlzLm9uKGV2ZW50LG9uKSx0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5vZmY9RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPUVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQsZm4pe2lmKHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX2NhbGxiYWNrcz17fSx0aGlzO3ZhciBjYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzW2V2ZW50XTtpZighY2FsbGJhY2tzKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbZXZlbnRdLHRoaXM7Zm9yKHZhciBjYixpPTA7aTxjYWxsYmFja3MubGVuZ3RoO2krKylpZihjYj1jYWxsYmFja3NbaV0sY2I9PT1mbnx8Y2IuZm49PT1mbil7Y2FsbGJhY2tzLnNwbGljZShpLDEpO2JyZWFrfXJldHVybiB0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGV2ZW50KXt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fTt2YXIgYXJncz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzW2V2ZW50XTtpZihjYWxsYmFja3Mpe2NhbGxiYWNrcz1jYWxsYmFja3Muc2xpY2UoMCk7Zm9yKHZhciBpPTAsbGVuPWNhbGxiYWNrcy5sZW5ndGg7bGVuPmk7KytpKWNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLGFyZ3MpfXJldHVybiB0aGlzfSxFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnQpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbZXZlbnRdfHxbXX0sRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGh9fSx7fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIGRlYnVnKG5hbWUpe3JldHVybiBkZWJ1Zy5lbmFibGVkKG5hbWUpP2Z1bmN0aW9uKGZtdCl7Zm10PWNvZXJjZShmbXQpO3ZhciBjdXJyPW5ldyBEYXRlLG1zPWN1cnItKGRlYnVnW25hbWVdfHxjdXJyKTtkZWJ1Z1tuYW1lXT1jdXJyLGZtdD1uYW1lKyIgIitmbXQrIiArIitkZWJ1Zy5odW1hbml6ZShtcyksd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9OmZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBjb2VyY2UodmFsKXtyZXR1cm4gdmFsIGluc3RhbmNlb2YgRXJyb3I/dmFsLnN0YWNrfHx2YWwubWVzc2FnZTp2YWx9bW9kdWxlLmV4cG9ydHM9ZGVidWcsZGVidWcubmFtZXM9W10sZGVidWcuc2tpcHM9W10sZGVidWcuZW5hYmxlPWZ1bmN0aW9uKG5hbWUpe3RyeXtsb2NhbFN0b3JhZ2UuZGVidWc9bmFtZX1jYXRjaChlKXt9Zm9yKHZhciBzcGxpdD0obmFtZXx8IiIpLnNwbGl0KC9bXHMsXSsvKSxsZW49c3BsaXQubGVuZ3RoLGk9MDtsZW4+aTtpKyspbmFtZT1zcGxpdFtpXS5yZXBsYWNlKCIqIiwiLio/IiksIi0iPT09bmFtZVswXT9kZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoIl4iK25hbWUuc3Vic3RyKDEpKyIkIikpOmRlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgiXiIrbmFtZSsiJCIpKX0sZGVidWcuZGlzYWJsZT1mdW5jdGlvbigpe2RlYnVnLmVuYWJsZSgiIil9LGRlYnVnLmh1bWFuaXplPWZ1bmN0aW9uKG1zKXt2YXIgc2VjPTFlMyxtaW49NmU0LGhvdXI9NjAqbWluO3JldHVybiBtcz49aG91cj8obXMvaG91cikudG9GaXhlZCgxKSsiaCI6bXM+PW1pbj8obXMvbWluKS50b0ZpeGVkKDEpKyJtIjptcz49c2VjPyhtcy9zZWN8MCkrInMiOm1zKyJtcyJ9LGRlYnVnLmVuYWJsZWQ9ZnVuY3Rpb24obmFtZSl7Zm9yKHZhciBpPTAsbGVuPWRlYnVnLnNraXBzLmxlbmd0aDtsZW4+aTtpKyspaWYoZGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSlyZXR1cm4hMTtmb3IodmFyIGk9MCxsZW49ZGVidWcubmFtZXMubGVuZ3RoO2xlbj5pO2krKylpZihkZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKXJldHVybiEwO3JldHVybiExfTt0cnl7d2luZG93LmxvY2FsU3RvcmFnZSYmZGVidWcuZW5hYmxlKGxvY2FsU3RvcmFnZS5kZWJ1Zyl9Y2F0Y2goZSl7fX0se31dLDEwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9X2RlcmVxXygiLi9saWIvIil9LHsiLi9saWIvIjoxMX1dLDExOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7bW9kdWxlLmV4cG9ydHM9X2RlcmVxXygiLi9zb2NrZXQiKSxtb2R1bGUuZXhwb3J0cy5wYXJzZXI9X2RlcmVxXygiZW5naW5lLmlvLXBhcnNlciIpfSx7Ii4vc29ja2V0IjoxMiwiZW5naW5lLmlvLXBhcnNlciI6MjF9XSwxMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIFNvY2tldCh1cmksb3B0cyl7aWYoISh0aGlzIGluc3RhbmNlb2YgU29ja2V0KSlyZXR1cm4gbmV3IFNvY2tldCh1cmksb3B0cyk7aWYob3B0cz1vcHRzfHx7fSx1cmkmJiJvYmplY3QiPT10eXBlb2YgdXJpJiYob3B0cz11cmksdXJpPW51bGwpLHVyaSYmKHVyaT1wYXJzZXVyaSh1cmkpLG9wdHMuaG9zdD11cmkuaG9zdCxvcHRzLnNlY3VyZT0iaHR0cHMiPT11cmkucHJvdG9jb2x8fCJ3c3MiPT11cmkucHJvdG9jb2wsb3B0cy5wb3J0PXVyaS5wb3J0LHVyaS5xdWVyeSYmKG9wdHMucXVlcnk9dXJpLnF1ZXJ5KSksdGhpcy5zZWN1cmU9bnVsbCE9b3B0cy5zZWN1cmU/b3B0cy5zZWN1cmU6Z2xvYmFsLmxvY2F0aW9uJiYiaHR0cHM6Ij09bG9jYXRpb24ucHJvdG9jb2wsb3B0cy5ob3N0KXt2YXIgcGllY2VzPW9wdHMuaG9zdC5zcGxpdCgiOiIpO29wdHMuaG9zdG5hbWU9cGllY2VzLnNoaWZ0KCkscGllY2VzLmxlbmd0aCYmKG9wdHMucG9ydD1waWVjZXMucG9wKCkpfXRoaXMuYWdlbnQ9b3B0cy5hZ2VudHx8ITEsdGhpcy5ob3N0bmFtZT1vcHRzLmhvc3RuYW1lfHwoZ2xvYmFsLmxvY2F0aW9uP2xvY2F0aW9uLmhvc3RuYW1lOiJsb2NhbGhvc3QiKSx0aGlzLnBvcnQ9b3B0cy5wb3J0fHwoZ2xvYmFsLmxvY2F0aW9uJiZsb2NhdGlvbi5wb3J0P2xvY2F0aW9uLnBvcnQ6dGhpcy5zZWN1cmU/NDQzOjgwKSx0aGlzLnF1ZXJ5PW9wdHMucXVlcnl8fHt9LCJzdHJpbmciPT10eXBlb2YgdGhpcy5xdWVyeSYmKHRoaXMucXVlcnk9cGFyc2Vxcy5kZWNvZGUodGhpcy5xdWVyeSkpLHRoaXMudXBncmFkZT0hMSE9PW9wdHMudXBncmFkZSx0aGlzLnBhdGg9KG9wdHMucGF0aHx8Ii9lbmdpbmUuaW8iKS5yZXBsYWNlKC9cLyQvLCIiKSsiLyIsdGhpcy5mb3JjZUpTT05QPSEhb3B0cy5mb3JjZUpTT05QLHRoaXMuanNvbnA9ITEhPT1vcHRzLmpzb25wLHRoaXMuZm9yY2VCYXNlNjQ9ISFvcHRzLmZvcmNlQmFzZTY0LHRoaXMuZW5hYmxlc1hEUj0hIW9wdHMuZW5hYmxlc1hEUix0aGlzLnRpbWVzdGFtcFBhcmFtPW9wdHMudGltZXN0YW1wUGFyYW18fCJ0Iix0aGlzLnRpbWVzdGFtcFJlcXVlc3RzPW9wdHMudGltZXN0YW1wUmVxdWVzdHMsdGhpcy50cmFuc3BvcnRzPW9wdHMudHJhbnNwb3J0c3x8WyJwb2xsaW5nIiwid2Vic29ja2V0Il0sdGhpcy5yZWFkeVN0YXRlPSIiLHRoaXMud3JpdGVCdWZmZXI9W10sdGhpcy5jYWxsYmFja0J1ZmZlcj1bXSx0aGlzLnBvbGljeVBvcnQ9b3B0cy5wb2xpY3lQb3J0fHw4NDMsdGhpcy5yZW1lbWJlclVwZ3JhZGU9b3B0cy5yZW1lbWJlclVwZ3JhZGV8fCExLHRoaXMub3BlbigpLHRoaXMuYmluYXJ5VHlwZT1udWxsLHRoaXMub25seUJpbmFyeVVwZ3JhZGVzPW9wdHMub25seUJpbmFyeVVwZ3JhZGVzfWZ1bmN0aW9uIGNsb25lKG9iail7dmFyIG89e307Zm9yKHZhciBpIGluIG9iailvYmouaGFzT3duUHJvcGVydHkoaSkmJihvW2ldPW9ialtpXSk7cmV0dXJuIG99dmFyIHRyYW5zcG9ydHM9X2RlcmVxXygiLi90cmFuc3BvcnRzIiksRW1pdHRlcj1fZGVyZXFfKCJjb21wb25lbnQtZW1pdHRlciIpLGRlYnVnPV9kZXJlcV8oImRlYnVnIikoImVuZ2luZS5pby1jbGllbnQ6c29ja2V0IiksaW5kZXg9X2RlcmVxXygiaW5kZXhvZiIpLHBhcnNlcj1fZGVyZXFfKCJlbmdpbmUuaW8tcGFyc2VyIikscGFyc2V1cmk9X2RlcmVxXygicGFyc2V1cmkiKSxwYXJzZWpzb249X2RlcmVxXygicGFyc2Vqc29uIikscGFyc2Vxcz1fZGVyZXFfKCJwYXJzZXFzIik7bW9kdWxlLmV4cG9ydHM9U29ja2V0LFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9ITEsRW1pdHRlcihTb2NrZXQucHJvdG90eXBlKSxTb2NrZXQucHJvdG9jb2w9cGFyc2VyLnByb3RvY29sLFNvY2tldC5Tb2NrZXQ9U29ja2V0LFNvY2tldC5UcmFuc3BvcnQ9X2RlcmVxXygiLi90cmFuc3BvcnQiKSxTb2NrZXQudHJhbnNwb3J0cz1fZGVyZXFfKCIuL3RyYW5zcG9ydHMiKSxTb2NrZXQucGFyc2VyPV9kZXJlcV8oImVuZ2luZS5pby1wYXJzZXIiKSxTb2NrZXQucHJvdG90eXBlLmNyZWF0ZVRyYW5zcG9ydD1mdW5jdGlvbihuYW1lKXtkZWJ1ZygnY3JlYXRpbmcgdHJhbnNwb3J0ICIlcyInLG5hbWUpO3ZhciBxdWVyeT1jbG9uZSh0aGlzLnF1ZXJ5KTtxdWVyeS5FSU89cGFyc2VyLnByb3RvY29sLHF1ZXJ5LnRyYW5zcG9ydD1uYW1lLHRoaXMuaWQmJihxdWVyeS5zaWQ9dGhpcy5pZCk7dmFyIHRyYW5zcG9ydD1uZXcgdHJhbnNwb3J0c1tuYW1lXSh7YWdlbnQ6dGhpcy5hZ2VudCxob3N0bmFtZTp0aGlzLmhvc3RuYW1lLHBvcnQ6dGhpcy5wb3J0LHNlY3VyZTp0aGlzLnNlY3VyZSxwYXRoOnRoaXMucGF0aCxxdWVyeTpxdWVyeSxmb3JjZUpTT05QOnRoaXMuZm9yY2VKU09OUCxqc29ucDp0aGlzLmpzb25wLGZvcmNlQmFzZTY0OnRoaXMuZm9yY2VCYXNlNjQsZW5hYmxlc1hEUjp0aGlzLmVuYWJsZXNYRFIsdGltZXN0YW1wUmVxdWVzdHM6dGhpcy50aW1lc3RhbXBSZXF1ZXN0cyx0aW1lc3RhbXBQYXJhbTp0aGlzLnRpbWVzdGFtcFBhcmFtLHBvbGljeVBvcnQ6dGhpcy5wb2xpY3lQb3J0LHNvY2tldDp0aGlzfSk7cmV0dXJuIHRyYW5zcG9ydH0sU29ja2V0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dmFyIHRyYW5zcG9ydDtpZih0aGlzLnJlbWVtYmVyVXBncmFkZSYmU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyYmLTEhPXRoaXMudHJhbnNwb3J0cy5pbmRleE9mKCJ3ZWJzb2NrZXQiKSl0cmFuc3BvcnQ9IndlYnNvY2tldCI7ZWxzZXtpZigwPT10aGlzLnRyYW5zcG9ydHMubGVuZ3RoKXt2YXIgc2VsZj10aGlzO3JldHVybiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLmVtaXQoImVycm9yIiwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGUiKX0sMCl9dHJhbnNwb3J0PXRoaXMudHJhbnNwb3J0c1swXX10aGlzLnJlYWR5U3RhdGU9Im9wZW5pbmciO3ZhciB0cmFuc3BvcnQ7dHJ5e3RyYW5zcG9ydD10aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpfWNhdGNoKGUpe3JldHVybiB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKSx2b2lkIHRoaXMub3BlbigpfXRyYW5zcG9ydC5vcGVuKCksdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KX0sU29ja2V0LnByb3RvdHlwZS5zZXRUcmFuc3BvcnQ9ZnVuY3Rpb24odHJhbnNwb3J0KXtkZWJ1Zygic2V0dGluZyB0cmFuc3BvcnQgJXMiLHRyYW5zcG9ydC5uYW1lKTt2YXIgc2VsZj10aGlzO3RoaXMudHJhbnNwb3J0JiYoZGVidWcoImNsZWFyaW5nIGV4aXN0aW5nIHRyYW5zcG9ydCAlcyIsdGhpcy50cmFuc3BvcnQubmFtZSksdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCkpLHRoaXMudHJhbnNwb3J0PXRyYW5zcG9ydCx0cmFuc3BvcnQub24oImRyYWluIixmdW5jdGlvbigpe3NlbGYub25EcmFpbigpfSkub24oInBhY2tldCIsZnVuY3Rpb24ocGFja2V0KXtzZWxmLm9uUGFja2V0KHBhY2tldCl9KS5vbigiZXJyb3IiLGZ1bmN0aW9uKGUpe3NlbGYub25FcnJvcihlKX0pLm9uKCJjbG9zZSIsZnVuY3Rpb24oKXtzZWxmLm9uQ2xvc2UoInRyYW5zcG9ydCBjbG9zZSIpfSl9LFNvY2tldC5wcm90b3R5cGUucHJvYmU9ZnVuY3Rpb24obmFtZSl7ZnVuY3Rpb24gb25UcmFuc3BvcnRPcGVuKCl7aWYoc2VsZi5vbmx5QmluYXJ5VXBncmFkZXMpe3ZhciB1cGdyYWRlTG9zZXNCaW5hcnk9IXRoaXMuc3VwcG9ydHNCaW5hcnkmJnNlbGYudHJhbnNwb3J0LnN1cHBvcnRzQmluYXJ5O2ZhaWxlZD1mYWlsZWR8fHVwZ3JhZGVMb3Nlc0JpbmFyeX1mYWlsZWR8fChkZWJ1ZygncHJvYmUgdHJhbnNwb3J0ICIlcyIgb3BlbmVkJyxuYW1lKSx0cmFuc3BvcnQuc2VuZChbe3R5cGU6InBpbmciLGRhdGE6InByb2JlIn1dKSx0cmFuc3BvcnQub25jZSgicGFja2V0IixmdW5jdGlvbihtc2cpe2lmKCFmYWlsZWQpaWYoInBvbmciPT1tc2cudHlwZSYmInByb2JlIj09bXNnLmRhdGEpZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCAiJXMiIHBvbmcnLG5hbWUpLHNlbGYudXBncmFkaW5nPSEwLHNlbGYuZW1pdCgidXBncmFkaW5nIix0cmFuc3BvcnQpLFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9IndlYnNvY2tldCI9PXRyYW5zcG9ydC5uYW1lLGRlYnVnKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0ICIlcyInLHNlbGYudHJhbnNwb3J0Lm5hbWUpLHNlbGYudHJhbnNwb3J0LnBhdXNlKGZ1bmN0aW9uKCl7ZmFpbGVkfHwiY2xvc2VkIiE9c2VsZi5yZWFkeVN0YXRlJiYiY2xvc2luZyIhPXNlbGYucmVhZHlTdGF0ZSYmKGRlYnVnKCJjaGFuZ2luZyB0cmFuc3BvcnQgYW5kIHNlbmRpbmcgdXBncmFkZSBwYWNrZXQiKSxjbGVhbnVwKCksc2VsZi5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KSx0cmFuc3BvcnQuc2VuZChbe3R5cGU6InVwZ3JhZGUifV0pLHNlbGYuZW1pdCgidXBncmFkZSIsdHJhbnNwb3J0KSx0cmFuc3BvcnQ9bnVsbCxzZWxmLnVwZ3JhZGluZz0hMSxzZWxmLmZsdXNoKCkpfSk7ZWxzZXtkZWJ1ZygncHJvYmUgdHJhbnNwb3J0ICIlcyIgZmFpbGVkJyxuYW1lKTt2YXIgZXJyPW5ldyBFcnJvcigicHJvYmUgZXJyb3IiKTtlcnIudHJhbnNwb3J0PXRyYW5zcG9ydC5uYW1lLHNlbGYuZW1pdCgidXBncmFkZUVycm9yIixlcnIpfX0pKX1mdW5jdGlvbiBmcmVlemVUcmFuc3BvcnQoKXtmYWlsZWR8fChmYWlsZWQ9ITAsY2xlYW51cCgpLHRyYW5zcG9ydC5jbG9zZSgpLHRyYW5zcG9ydD1udWxsKX1mdW5jdGlvbiBvbmVycm9yKGVycil7dmFyIGVycm9yPW5ldyBFcnJvcigicHJvYmUgZXJyb3I6ICIrZXJyKTtlcnJvci50cmFuc3BvcnQ9dHJhbnNwb3J0Lm5hbWUsZnJlZXplVHJhbnNwb3J0KCksZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCAiJXMiIGZhaWxlZCBiZWNhdXNlIG9mIGVycm9yOiAlcycsbmFtZSxlcnIpLHNlbGYuZW1pdCgidXBncmFkZUVycm9yIixlcnJvcil9ZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpe29uZXJyb3IoInRyYW5zcG9ydCBjbG9zZWQiKX1mdW5jdGlvbiBvbmNsb3NlKCl7b25lcnJvcigic29ja2V0IGNsb3NlZCIpfWZ1bmN0aW9uIG9udXBncmFkZSh0byl7dHJhbnNwb3J0JiZ0by5uYW1lIT10cmFuc3BvcnQubmFtZSYmKGRlYnVnKCciJXMiIHdvcmtzIC0gYWJvcnRpbmcgIiVzIicsdG8ubmFtZSx0cmFuc3BvcnQubmFtZSksZnJlZXplVHJhbnNwb3J0KCkpfWZ1bmN0aW9uIGNsZWFudXAoKXt0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoIm9wZW4iLG9uVHJhbnNwb3J0T3BlbiksdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsb25lcnJvciksdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsb25UcmFuc3BvcnRDbG9zZSksc2VsZi5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLG9uY2xvc2UpLHNlbGYucmVtb3ZlTGlzdGVuZXIoInVwZ3JhZGluZyIsb251cGdyYWRlKX1kZWJ1ZygncHJvYmluZyB0cmFuc3BvcnQgIiVzIicsbmFtZSk7dmFyIHRyYW5zcG9ydD10aGlzLmNyZWF0ZVRyYW5zcG9ydChuYW1lLHtwcm9iZToxfSksZmFpbGVkPSExLHNlbGY9dGhpcztTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExLHRyYW5zcG9ydC5vbmNlKCJvcGVuIixvblRyYW5zcG9ydE9wZW4pLHRyYW5zcG9ydC5vbmNlKCJlcnJvciIsb25lcnJvciksdHJhbnNwb3J0Lm9uY2UoImNsb3NlIixvblRyYW5zcG9ydENsb3NlKSx0aGlzLm9uY2UoImNsb3NlIixvbmNsb3NlKSx0aGlzLm9uY2UoInVwZ3JhZGluZyIsb251cGdyYWRlKSx0cmFuc3BvcnQub3BlbigpfSxTb2NrZXQucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe2lmKGRlYnVnKCJzb2NrZXQgb3BlbiIpLHRoaXMucmVhZHlTdGF0ZT0ib3BlbiIsU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2Vzcz0id2Vic29ja2V0Ij09dGhpcy50cmFuc3BvcnQubmFtZSx0aGlzLmVtaXQoIm9wZW4iKSx0aGlzLmZsdXNoKCksIm9wZW4iPT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudXBncmFkZSYmdGhpcy50cmFuc3BvcnQucGF1c2Upe2RlYnVnKCJzdGFydGluZyB1cGdyYWRlIHByb2JlcyIpO2Zvcih2YXIgaT0wLGw9dGhpcy51cGdyYWRlcy5sZW5ndGg7bD5pO2krKyl0aGlzLnByb2JlKHRoaXMudXBncmFkZXNbaV0pfX0sU29ja2V0LnByb3RvdHlwZS5vblBhY2tldD1mdW5jdGlvbihwYWNrZXQpe2lmKCJvcGVuaW5nIj09dGhpcy5yZWFkeVN0YXRlfHwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZSlzd2l0Y2goZGVidWcoJ3NvY2tldCByZWNlaXZlOiB0eXBlICIlcyIsIGRhdGEgIiVzIicscGFja2V0LnR5cGUscGFja2V0LmRhdGEpLHRoaXMuZW1pdCgicGFja2V0IixwYWNrZXQpLHRoaXMuZW1pdCgiaGVhcnRiZWF0IikscGFja2V0LnR5cGUpe2Nhc2Uib3BlbiI6dGhpcy5vbkhhbmRzaGFrZShwYXJzZWpzb24ocGFja2V0LmRhdGEpKTticmVhaztjYXNlInBvbmciOnRoaXMuc2V0UGluZygpO2JyZWFrO2Nhc2UiZXJyb3IiOnZhciBlcnI9bmV3IEVycm9yKCJzZXJ2ZXIgZXJyb3IiKTtlcnIuY29kZT1wYWNrZXQuZGF0YSx0aGlzLmVtaXQoImVycm9yIixlcnIpO2JyZWFrO2Nhc2UibWVzc2FnZSI6dGhpcy5lbWl0KCJkYXRhIixwYWNrZXQuZGF0YSksdGhpcy5lbWl0KCJtZXNzYWdlIixwYWNrZXQuZGF0YSl9ZWxzZSBkZWJ1ZygncGFja2V0IHJlY2VpdmVkIHdpdGggc29ja2V0IHJlYWR5U3RhdGUgIiVzIicsdGhpcy5yZWFkeVN0YXRlKX0sU29ja2V0LnByb3RvdHlwZS5vbkhhbmRzaGFrZT1mdW5jdGlvbihkYXRhKXt0aGlzLmVtaXQoImhhbmRzaGFrZSIsZGF0YSksdGhpcy5pZD1kYXRhLnNpZCx0aGlzLnRyYW5zcG9ydC5xdWVyeS5zaWQ9ZGF0YS5zaWQsdGhpcy51cGdyYWRlcz10aGlzLmZpbHRlclVwZ3JhZGVzKGRhdGEudXBncmFkZXMpLHRoaXMucGluZ0ludGVydmFsPWRhdGEucGluZ0ludGVydmFsLHRoaXMucGluZ1RpbWVvdXQ9ZGF0YS5waW5nVGltZW91dCx0aGlzLm9uT3BlbigpLCJjbG9zZWQiIT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLnNldFBpbmcoKSx0aGlzLnJlbW92ZUxpc3RlbmVyKCJoZWFydGJlYXQiLHRoaXMub25IZWFydGJlYXQpLHRoaXMub24oImhlYXJ0YmVhdCIsdGhpcy5vbkhlYXJ0YmVhdCkpfSxTb2NrZXQucHJvdG90eXBlLm9uSGVhcnRiZWF0PWZ1bmN0aW9uKHRpbWVvdXQpe2NsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0VGltZXIpO3ZhciBzZWxmPXRoaXM7c2VsZi5waW5nVGltZW91dFRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXsiY2xvc2VkIiE9c2VsZi5yZWFkeVN0YXRlJiZzZWxmLm9uQ2xvc2UoInBpbmcgdGltZW91dCIpfSx0aW1lb3V0fHxzZWxmLnBpbmdJbnRlcnZhbCtzZWxmLnBpbmdUaW1lb3V0KX0sU29ja2V0LnByb3RvdHlwZS5zZXRQaW5nPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcztjbGVhclRpbWVvdXQoc2VsZi5waW5nSW50ZXJ2YWxUaW1lciksc2VsZi5waW5nSW50ZXJ2YWxUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVidWcoIndyaXRpbmcgcGluZyBwYWNrZXQgLSBleHBlY3RpbmcgcG9uZyB3aXRoaW4gJXNtcyIsc2VsZi5waW5nVGltZW91dCksc2VsZi5waW5nKCksc2VsZi5vbkhlYXJ0YmVhdChzZWxmLnBpbmdUaW1lb3V0KX0sc2VsZi5waW5nSW50ZXJ2YWwpfSxTb2NrZXQucHJvdG90eXBlLnBpbmc9ZnVuY3Rpb24oKXt0aGlzLnNlbmRQYWNrZXQoInBpbmciKX0sU29ja2V0LnByb3RvdHlwZS5vbkRyYWluPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTx0aGlzLnByZXZCdWZmZXJMZW47aSsrKXRoaXMuY2FsbGJhY2tCdWZmZXJbaV0mJnRoaXMuY2FsbGJhY2tCdWZmZXJbaV0oKTt0aGlzLndyaXRlQnVmZmVyLnNwbGljZSgwLHRoaXMucHJldkJ1ZmZlckxlbiksdGhpcy5jYWxsYmFja0J1ZmZlci5zcGxpY2UoMCx0aGlzLnByZXZCdWZmZXJMZW4pLHRoaXMucHJldkJ1ZmZlckxlbj0wLDA9PXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoP3RoaXMuZW1pdCgiZHJhaW4iKTp0aGlzLmZsdXNoKCl9LFNvY2tldC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXsiY2xvc2VkIiE9dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLnRyYW5zcG9ydC53cml0YWJsZSYmIXRoaXMudXBncmFkaW5nJiZ0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCYmKGRlYnVnKCJmbHVzaGluZyAlZCBwYWNrZXRzIGluIHNvY2tldCIsdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpLHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlciksdGhpcy5wcmV2QnVmZmVyTGVuPXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoLHRoaXMuZW1pdCgiZmx1c2giKSl9LFNvY2tldC5wcm90b3R5cGUud3JpdGU9U29ja2V0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKG1zZyxmbil7cmV0dXJuIHRoaXMuc2VuZFBhY2tldCgibWVzc2FnZSIsbXNnLGZuKSx0aGlzfSxTb2NrZXQucHJvdG90eXBlLnNlbmRQYWNrZXQ9ZnVuY3Rpb24odHlwZSxkYXRhLGZuKXt2YXIgcGFja2V0PXt0eXBlOnR5cGUsZGF0YTpkYXRhfTt0aGlzLmVtaXQoInBhY2tldENyZWF0ZSIscGFja2V0KSx0aGlzLndyaXRlQnVmZmVyLnB1c2gocGFja2V0KSx0aGlzLmNhbGxiYWNrQnVmZmVyLnB1c2goZm4pLHRoaXMuZmx1c2goKX0sU29ja2V0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybigib3BlbmluZyI9PXRoaXMucmVhZHlTdGF0ZXx8Im9wZW4iPT10aGlzLnJlYWR5U3RhdGUpJiYodGhpcy5vbkNsb3NlKCJmb3JjZWQgY2xvc2UiKSxkZWJ1Zygic29ja2V0IGNsb3NpbmcgLSB0ZWxsaW5nIHRyYW5zcG9ydCB0byBjbG9zZSIpLHRoaXMudHJhbnNwb3J0LmNsb3NlKCkpLHRoaXN9LFNvY2tldC5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlcnIpe2RlYnVnKCJzb2NrZXQgZXJyb3IgJWoiLGVyciksU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSx0aGlzLmVtaXQoImVycm9yIixlcnIpLHRoaXMub25DbG9zZSgidHJhbnNwb3J0IGVycm9yIixlcnIpfSxTb2NrZXQucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24ocmVhc29uLGRlc2Mpe2lmKCJvcGVuaW5nIj09dGhpcy5yZWFkeVN0YXRlfHwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZSl7ZGVidWcoJ3NvY2tldCBjbG9zZSB3aXRoIHJlYXNvbjogIiVzIicscmVhc29uKTt2YXIgc2VsZj10aGlzO2NsZWFyVGltZW91dCh0aGlzLnBpbmdJbnRlcnZhbFRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2VsZi53cml0ZUJ1ZmZlcj1bXSxzZWxmLmNhbGxiYWNrQnVmZmVyPVtdLHNlbGYucHJldkJ1ZmZlckxlbj0wfSwwKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoImNsb3NlIiksdGhpcy50cmFuc3BvcnQuY2xvc2UoKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnJlYWR5U3RhdGU9ImNsb3NlZCIsdGhpcy5pZD1udWxsLHRoaXMuZW1pdCgiY2xvc2UiLHJlYXNvbixkZXNjKX19LFNvY2tldC5wcm90b3R5cGUuZmlsdGVyVXBncmFkZXM9ZnVuY3Rpb24odXBncmFkZXMpe2Zvcih2YXIgZmlsdGVyZWRVcGdyYWRlcz1bXSxpPTAsaj11cGdyYWRlcy5sZW5ndGg7aj5pO2krKyl+aW5kZXgodGhpcy50cmFuc3BvcnRzLHVwZ3JhZGVzW2ldKSYmZmlsdGVyZWRVcGdyYWRlcy5wdXNoKHVwZ3JhZGVzW2ldKTtyZXR1cm4gZmlsdGVyZWRVcGdyYWRlc319KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL3RyYW5zcG9ydCI6MTMsIi4vdHJhbnNwb3J0cyI6MTQsImNvbXBvbmVudC1lbWl0dGVyIjo4LGRlYnVnOjksImVuZ2luZS5pby1wYXJzZXIiOjIxLGluZGV4b2Y6MzYscGFyc2Vqc29uOjI4LHBhcnNlcXM6MjkscGFyc2V1cmk6MzB9XSwxMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIFRyYW5zcG9ydChvcHRzKXt0aGlzLnBhdGg9b3B0cy5wYXRoLHRoaXMuaG9zdG5hbWU9b3B0cy5ob3N0bmFtZSx0aGlzLnBvcnQ9b3B0cy5wb3J0LHRoaXMuc2VjdXJlPW9wdHMuc2VjdXJlLHRoaXMucXVlcnk9b3B0cy5xdWVyeSx0aGlzLnRpbWVzdGFtcFBhcmFtPW9wdHMudGltZXN0YW1wUGFyYW0sdGhpcy50aW1lc3RhbXBSZXF1ZXN0cz1vcHRzLnRpbWVzdGFtcFJlcXVlc3RzLHRoaXMucmVhZHlTdGF0ZT0iIix0aGlzLmFnZW50PW9wdHMuYWdlbnR8fCExLHRoaXMuc29ja2V0PW9wdHMuc29ja2V0LHRoaXMuZW5hYmxlc1hEUj1vcHRzLmVuYWJsZXNYRFJ9dmFyIHBhcnNlcj1fZGVyZXFfKCJlbmdpbmUuaW8tcGFyc2VyIiksRW1pdHRlcj1fZGVyZXFfKCJjb21wb25lbnQtZW1pdHRlciIpO21vZHVsZS5leHBvcnRzPVRyYW5zcG9ydCxFbWl0dGVyKFRyYW5zcG9ydC5wcm90b3R5cGUpLFRyYW5zcG9ydC50aW1lc3RhbXBzPTAsVHJhbnNwb3J0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKG1zZyxkZXNjKXt2YXIgZXJyPW5ldyBFcnJvcihtc2cpO3JldHVybiBlcnIudHlwZT0iVHJhbnNwb3J0RXJyb3IiLGVyci5kZXNjcmlwdGlvbj1kZXNjLHRoaXMuZW1pdCgiZXJyb3IiLGVyciksdGhpc30sVHJhbnNwb3J0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7cmV0dXJuKCJjbG9zZWQiPT10aGlzLnJlYWR5U3RhdGV8fCIiPT10aGlzLnJlYWR5U3RhdGUpJiYodGhpcy5yZWFkeVN0YXRlPSJvcGVuaW5nIix0aGlzLmRvT3BlbigpKSx0aGlzfSxUcmFuc3BvcnQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuKCJvcGVuaW5nIj09dGhpcy5yZWFkeVN0YXRlfHwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZSkmJih0aGlzLmRvQ2xvc2UoKSx0aGlzLm9uQ2xvc2UoKSksdGhpc30sVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHBhY2tldHMpe2lmKCJvcGVuIiE9dGhpcy5yZWFkeVN0YXRlKXRocm93IG5ldyBFcnJvcigiVHJhbnNwb3J0IG5vdCBvcGVuIik7CnRoaXMud3JpdGUocGFja2V0cyl9LFRyYW5zcG9ydC5wcm90b3R5cGUub25PcGVuPWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPSJvcGVuIix0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdCgib3BlbiIpfSxUcmFuc3BvcnQucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihkYXRhKXt2YXIgcGFja2V0PXBhcnNlci5kZWNvZGVQYWNrZXQoZGF0YSx0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTt0aGlzLm9uUGFja2V0KHBhY2tldCl9LFRyYW5zcG9ydC5wcm90b3R5cGUub25QYWNrZXQ9ZnVuY3Rpb24ocGFja2V0KXt0aGlzLmVtaXQoInBhY2tldCIscGFja2V0KX0sVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPSJjbG9zZWQiLHRoaXMuZW1pdCgiY2xvc2UiKX19LHsiY29tcG9uZW50LWVtaXR0ZXIiOjgsImVuZ2luZS5pby1wYXJzZXIiOjIxfV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIHBvbGxpbmcob3B0cyl7dmFyIHhocix4ZD0hMSx4cz0hMSxqc29ucD0hMSE9PW9wdHMuanNvbnA7aWYoZ2xvYmFsLmxvY2F0aW9uKXt2YXIgaXNTU0w9Imh0dHBzOiI9PWxvY2F0aW9uLnByb3RvY29sLHBvcnQ9bG9jYXRpb24ucG9ydDtwb3J0fHwocG9ydD1pc1NTTD80NDM6ODApLHhkPW9wdHMuaG9zdG5hbWUhPWxvY2F0aW9uLmhvc3RuYW1lfHxwb3J0IT1vcHRzLnBvcnQseHM9b3B0cy5zZWN1cmUhPWlzU1NMfWlmKG9wdHMueGRvbWFpbj14ZCxvcHRzLnhzY2hlbWU9eHMseGhyPW5ldyBYTUxIdHRwUmVxdWVzdChvcHRzKSwib3BlbiJpbiB4aHImJiFvcHRzLmZvcmNlSlNPTlApcmV0dXJuIG5ldyBYSFIob3B0cyk7aWYoIWpzb25wKXRocm93IG5ldyBFcnJvcigiSlNPTlAgZGlzYWJsZWQiKTtyZXR1cm4gbmV3IEpTT05QKG9wdHMpfXZhciBYTUxIdHRwUmVxdWVzdD1fZGVyZXFfKCJ4bWxodHRwcmVxdWVzdCIpLFhIUj1fZGVyZXFfKCIuL3BvbGxpbmcteGhyIiksSlNPTlA9X2RlcmVxXygiLi9wb2xsaW5nLWpzb25wIiksd2Vic29ja2V0PV9kZXJlcV8oIi4vd2Vic29ja2V0Iik7ZXhwb3J0cy5wb2xsaW5nPXBvbGxpbmcsZXhwb3J0cy53ZWJzb2NrZXQ9d2Vic29ja2V0fSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9wb2xsaW5nLWpzb25wIjoxNSwiLi9wb2xsaW5nLXhociI6MTYsIi4vd2Vic29ja2V0IjoxOCx4bWxodHRwcmVxdWVzdDoxOX1dLDE1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7KGZ1bmN0aW9uKGdsb2JhbCl7ZnVuY3Rpb24gZW1wdHkoKXt9ZnVuY3Rpb24gSlNPTlBQb2xsaW5nKG9wdHMpe1BvbGxpbmcuY2FsbCh0aGlzLG9wdHMpLHRoaXMucXVlcnk9dGhpcy5xdWVyeXx8e30sY2FsbGJhY2tzfHwoZ2xvYmFsLl9fX2Vpb3x8KGdsb2JhbC5fX19laW89W10pLGNhbGxiYWNrcz1nbG9iYWwuX19fZWlvKSx0aGlzLmluZGV4PWNhbGxiYWNrcy5sZW5ndGg7dmFyIHNlbGY9dGhpcztjYWxsYmFja3MucHVzaChmdW5jdGlvbihtc2cpe3NlbGYub25EYXRhKG1zZyl9KSx0aGlzLnF1ZXJ5Lmo9dGhpcy5pbmRleCxnbG9iYWwuZG9jdW1lbnQmJmdsb2JhbC5hZGRFdmVudExpc3RlbmVyJiZnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIixmdW5jdGlvbigpe3NlbGYuc2NyaXB0JiYoc2VsZi5zY3JpcHQub25lcnJvcj1lbXB0eSl9KX12YXIgUG9sbGluZz1fZGVyZXFfKCIuL3BvbGxpbmciKSxpbmhlcml0PV9kZXJlcV8oImNvbXBvbmVudC1pbmhlcml0Iik7bW9kdWxlLmV4cG9ydHM9SlNPTlBQb2xsaW5nO3ZhciBjYWxsYmFja3Msck5ld2xpbmU9L1xuL2csckVzY2FwZWROZXdsaW5lPS9cXG4vZztpbmhlcml0KEpTT05QUG9sbGluZyxQb2xsaW5nKSxKU09OUFBvbGxpbmcucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSExLEpTT05QUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpe3RoaXMuc2NyaXB0JiYodGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCksdGhpcy5mb3JtJiYodGhpcy5mb3JtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb3JtKSx0aGlzLmZvcm09bnVsbCksUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZS5jYWxsKHRoaXMpfSxKU09OUFBvbGxpbmcucHJvdG90eXBlLmRvUG9sbD1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXMsc2NyaXB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3RoaXMuc2NyaXB0JiYodGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCksc2NyaXB0LmFzeW5jPSEwLHNjcmlwdC5zcmM9dGhpcy51cmkoKSxzY3JpcHQub25lcnJvcj1mdW5jdGlvbihlKXtzZWxmLm9uRXJyb3IoImpzb25wIHBvbGwgZXJyb3IiLGUpfTt2YXIgaW5zZXJ0QXQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdO2luc2VydEF0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCxpbnNlcnRBdCksdGhpcy5zY3JpcHQ9c2NyaXB0O3ZhciBpc1VBZ2Vja289InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9nZWNrby9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7aXNVQWdlY2tvJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGlmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpfSwxMDApfSxKU09OUFBvbGxpbmcucHJvdG90eXBlLmRvV3JpdGU9ZnVuY3Rpb24oZGF0YSxmbil7ZnVuY3Rpb24gY29tcGxldGUoKXtpbml0SWZyYW1lKCksZm4oKX1mdW5jdGlvbiBpbml0SWZyYW1lKCl7aWYoc2VsZi5pZnJhbWUpdHJ5e3NlbGYuZm9ybS5yZW1vdmVDaGlsZChzZWxmLmlmcmFtZSl9Y2F0Y2goZSl7c2VsZi5vbkVycm9yKCJqc29ucCBwb2xsaW5nIGlmcmFtZSByZW1vdmFsIGVycm9yIixlKX10cnl7dmFyIGh0bWw9JzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OjAiIG5hbWU9Iicrc2VsZi5pZnJhbWVJZCsnIj4nO2lmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWwpfWNhdGNoKGUpe2lmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxpZnJhbWUubmFtZT1zZWxmLmlmcmFtZUlkLGlmcmFtZS5zcmM9ImphdmFzY3JpcHQ6MCJ9aWZyYW1lLmlkPXNlbGYuaWZyYW1lSWQsc2VsZi5mb3JtLmFwcGVuZENoaWxkKGlmcmFtZSksc2VsZi5pZnJhbWU9aWZyYW1lfXZhciBzZWxmPXRoaXM7aWYoIXRoaXMuZm9ybSl7dmFyIGlmcmFtZSxmb3JtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKSxhcmVhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIiksaWQ9dGhpcy5pZnJhbWVJZD0iZWlvX2lmcmFtZV8iK3RoaXMuaW5kZXg7Zm9ybS5jbGFzc05hbWU9InNvY2tldGlvIixmb3JtLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsZm9ybS5zdHlsZS50b3A9Ii0xMDAwcHgiLGZvcm0uc3R5bGUubGVmdD0iLTEwMDBweCIsZm9ybS50YXJnZXQ9aWQsZm9ybS5tZXRob2Q9IlBPU1QiLGZvcm0uc2V0QXR0cmlidXRlKCJhY2NlcHQtY2hhcnNldCIsInV0Zi04IiksYXJlYS5uYW1lPSJkIixmb3JtLmFwcGVuZENoaWxkKGFyZWEpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSksdGhpcy5mb3JtPWZvcm0sdGhpcy5hcmVhPWFyZWF9dGhpcy5mb3JtLmFjdGlvbj10aGlzLnVyaSgpLGluaXRJZnJhbWUoKSxkYXRhPWRhdGEucmVwbGFjZShyRXNjYXBlZE5ld2xpbmUsIlxcXG4iKSx0aGlzLmFyZWEudmFsdWU9ZGF0YS5yZXBsYWNlKHJOZXdsaW5lLCJcXG4iKTt0cnl7dGhpcy5mb3JtLnN1Ym1pdCgpfWNhdGNoKGUpe310aGlzLmlmcmFtZS5hdHRhY2hFdmVudD90aGlzLmlmcmFtZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsiY29tcGxldGUiPT1zZWxmLmlmcmFtZS5yZWFkeVN0YXRlJiZjb21wbGV0ZSgpfTp0aGlzLmlmcmFtZS5vbmxvYWQ9Y29tcGxldGV9fSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9wb2xsaW5nIjoxNywiY29tcG9uZW50LWluaGVyaXQiOjIwfV0sMTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXsoZnVuY3Rpb24oZ2xvYmFsKXtmdW5jdGlvbiBlbXB0eSgpe31mdW5jdGlvbiBYSFIob3B0cyl7aWYoUG9sbGluZy5jYWxsKHRoaXMsb3B0cyksZ2xvYmFsLmxvY2F0aW9uKXt2YXIgaXNTU0w9Imh0dHBzOiI9PWxvY2F0aW9uLnByb3RvY29sLHBvcnQ9bG9jYXRpb24ucG9ydDtwb3J0fHwocG9ydD1pc1NTTD80NDM6ODApLHRoaXMueGQ9b3B0cy5ob3N0bmFtZSE9Z2xvYmFsLmxvY2F0aW9uLmhvc3RuYW1lfHxwb3J0IT1vcHRzLnBvcnQsdGhpcy54cz1vcHRzLnNlY3VyZSE9aXNTU0x9fWZ1bmN0aW9uIFJlcXVlc3Qob3B0cyl7dGhpcy5tZXRob2Q9b3B0cy5tZXRob2R8fCJHRVQiLHRoaXMudXJpPW9wdHMudXJpLHRoaXMueGQ9ISFvcHRzLnhkLHRoaXMueHM9ISFvcHRzLnhzLHRoaXMuYXN5bmM9ITEhPT1vcHRzLmFzeW5jLHRoaXMuZGF0YT12b2lkIDAhPW9wdHMuZGF0YT9vcHRzLmRhdGE6bnVsbCx0aGlzLmFnZW50PW9wdHMuYWdlbnQsdGhpcy5pc0JpbmFyeT1vcHRzLmlzQmluYXJ5LHRoaXMuc3VwcG9ydHNCaW5hcnk9b3B0cy5zdXBwb3J0c0JpbmFyeSx0aGlzLmVuYWJsZXNYRFI9b3B0cy5lbmFibGVzWERSLHRoaXMuY3JlYXRlKCl9ZnVuY3Rpb24gdW5sb2FkSGFuZGxlcigpe2Zvcih2YXIgaSBpbiBSZXF1ZXN0LnJlcXVlc3RzKVJlcXVlc3QucmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaSkmJlJlcXVlc3QucmVxdWVzdHNbaV0uYWJvcnQoKX12YXIgWE1MSHR0cFJlcXVlc3Q9X2RlcmVxXygieG1saHR0cHJlcXVlc3QiKSxQb2xsaW5nPV9kZXJlcV8oIi4vcG9sbGluZyIpLEVtaXR0ZXI9X2RlcmVxXygiY29tcG9uZW50LWVtaXR0ZXIiKSxpbmhlcml0PV9kZXJlcV8oImNvbXBvbmVudC1pbmhlcml0IiksZGVidWc9X2RlcmVxXygiZGVidWciKSgiZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nLXhociIpO21vZHVsZS5leHBvcnRzPVhIUixtb2R1bGUuZXhwb3J0cy5SZXF1ZXN0PVJlcXVlc3QsaW5oZXJpdChYSFIsUG9sbGluZyksWEhSLnByb3RvdHlwZS5zdXBwb3J0c0JpbmFyeT0hMCxYSFIucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24ob3B0cyl7cmV0dXJuIG9wdHM9b3B0c3x8e30sb3B0cy51cmk9dGhpcy51cmkoKSxvcHRzLnhkPXRoaXMueGQsb3B0cy54cz10aGlzLnhzLG9wdHMuYWdlbnQ9dGhpcy5hZ2VudHx8ITEsb3B0cy5zdXBwb3J0c0JpbmFyeT10aGlzLnN1cHBvcnRzQmluYXJ5LG9wdHMuZW5hYmxlc1hEUj10aGlzLmVuYWJsZXNYRFIsbmV3IFJlcXVlc3Qob3B0cyl9LFhIUi5wcm90b3R5cGUuZG9Xcml0ZT1mdW5jdGlvbihkYXRhLGZuKXt2YXIgaXNCaW5hcnk9InN0cmluZyIhPXR5cGVvZiBkYXRhJiZ2b2lkIDAhPT1kYXRhLHJlcT10aGlzLnJlcXVlc3Qoe21ldGhvZDoiUE9TVCIsZGF0YTpkYXRhLGlzQmluYXJ5OmlzQmluYXJ5fSksc2VsZj10aGlzO3JlcS5vbigic3VjY2VzcyIsZm4pLHJlcS5vbigiZXJyb3IiLGZ1bmN0aW9uKGVycil7c2VsZi5vbkVycm9yKCJ4aHIgcG9zdCBlcnJvciIsZXJyKX0pLHRoaXMuc2VuZFhocj1yZXF9LFhIUi5wcm90b3R5cGUuZG9Qb2xsPWZ1bmN0aW9uKCl7ZGVidWcoInhociBwb2xsIik7dmFyIHJlcT10aGlzLnJlcXVlc3QoKSxzZWxmPXRoaXM7cmVxLm9uKCJkYXRhIixmdW5jdGlvbihkYXRhKXtzZWxmLm9uRGF0YShkYXRhKX0pLHJlcS5vbigiZXJyb3IiLGZ1bmN0aW9uKGVycil7c2VsZi5vbkVycm9yKCJ4aHIgcG9sbCBlcnJvciIsZXJyKX0pLHRoaXMucG9sbFhocj1yZXF9LEVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpLFJlcXVlc3QucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB4aHI9dGhpcy54aHI9bmV3IFhNTEh0dHBSZXF1ZXN0KHthZ2VudDp0aGlzLmFnZW50LHhkb21haW46dGhpcy54ZCx4c2NoZW1lOnRoaXMueHMsZW5hYmxlc1hEUjp0aGlzLmVuYWJsZXNYRFJ9KSxzZWxmPXRoaXM7dHJ5e2lmKGRlYnVnKCJ4aHIgb3BlbiAlczogJXMiLHRoaXMubWV0aG9kLHRoaXMudXJpKSx4aHIub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVyaSx0aGlzLmFzeW5jKSx0aGlzLnN1cHBvcnRzQmluYXJ5JiYoeGhyLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSwiUE9TVCI9PXRoaXMubWV0aG9kKXRyeXt0aGlzLmlzQmluYXJ5P3hoci5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKTp4aHIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Iil9Y2F0Y2goZSl7fSJ3aXRoQ3JlZGVudGlhbHMiaW4geGhyJiYoeGhyLndpdGhDcmVkZW50aWFscz0hMCksdGhpcy5oYXNYRFIoKT8oeGhyLm9ubG9hZD1mdW5jdGlvbigpe3NlbGYub25Mb2FkKCl9LHhoci5vbmVycm9yPWZ1bmN0aW9uKCl7c2VsZi5vbkVycm9yKHhoci5yZXNwb25zZVRleHQpfSk6eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PXhoci5yZWFkeVN0YXRlJiYoMjAwPT14aHIuc3RhdHVzfHwxMjIzPT14aHIuc3RhdHVzP3NlbGYub25Mb2FkKCk6c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYub25FcnJvcih4aHIuc3RhdHVzKX0sMCkpfSxkZWJ1ZygieGhyIGRhdGEgJXMiLHRoaXMuZGF0YSkseGhyLnNlbmQodGhpcy5kYXRhKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2VsZi5vbkVycm9yKGUpfSwwKX1nbG9iYWwuZG9jdW1lbnQmJih0aGlzLmluZGV4PVJlcXVlc3QucmVxdWVzdHNDb3VudCsrLFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF09dGhpcyl9LFJlcXVlc3QucHJvdG90eXBlLm9uU3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMuZW1pdCgic3VjY2VzcyIpLHRoaXMuY2xlYW51cCgpfSxSZXF1ZXN0LnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZGF0YSl7dGhpcy5lbWl0KCJkYXRhIixkYXRhKSx0aGlzLm9uU3VjY2VzcygpfSxSZXF1ZXN0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGVycil7dGhpcy5lbWl0KCJlcnJvciIsZXJyKSx0aGlzLmNsZWFudXAoKX0sUmVxdWVzdC5wcm90b3R5cGUuY2xlYW51cD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy54aHImJm51bGwhPT10aGlzLnhocil7dGhpcy5oYXNYRFIoKT90aGlzLnhoci5vbmxvYWQ9dGhpcy54aHIub25lcnJvcj1lbXB0eTp0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZW1wdHk7dHJ5e3RoaXMueGhyLmFib3J0KCl9Y2F0Y2goZSl7fWdsb2JhbC5kb2N1bWVudCYmZGVsZXRlIFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF0sdGhpcy54aHI9bnVsbH19LFJlcXVlc3QucHJvdG90eXBlLm9uTG9hZD1mdW5jdGlvbigpe3ZhciBkYXRhO3RyeXt2YXIgY29udGVudFR5cGU7dHJ5e2NvbnRlbnRUeXBlPXRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKX1jYXRjaChlKXt9ZGF0YT0iYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIj09PWNvbnRlbnRUeXBlP3RoaXMueGhyLnJlc3BvbnNlOnRoaXMuc3VwcG9ydHNCaW5hcnk/Im9rIjp0aGlzLnhoci5yZXNwb25zZVRleHR9Y2F0Y2goZSl7dGhpcy5vbkVycm9yKGUpfW51bGwhPWRhdGEmJnRoaXMub25EYXRhKGRhdGEpfSxSZXF1ZXN0LnByb3RvdHlwZS5oYXNYRFI9ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbC5YRG9tYWluUmVxdWVzdCYmIXRoaXMueHMmJnRoaXMuZW5hYmxlc1hEUn0sUmVxdWVzdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0sZ2xvYmFsLmRvY3VtZW50JiYoUmVxdWVzdC5yZXF1ZXN0c0NvdW50PTAsUmVxdWVzdC5yZXF1ZXN0cz17fSxnbG9iYWwuYXR0YWNoRXZlbnQ/Z2xvYmFsLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsdW5sb2FkSGFuZGxlcik6Z2xvYmFsLmFkZEV2ZW50TGlzdGVuZXImJmdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLHVubG9hZEhhbmRsZXIpKX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vcG9sbGluZyI6MTcsImNvbXBvbmVudC1lbWl0dGVyIjo4LCJjb21wb25lbnQtaW5oZXJpdCI6MjAsZGVidWc6OSx4bWxodHRwcmVxdWVzdDoxOX1dLDE3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gUG9sbGluZyhvcHRzKXt2YXIgZm9yY2VCYXNlNjQ9b3B0cyYmb3B0cy5mb3JjZUJhc2U2NDsoIWhhc1hIUjJ8fGZvcmNlQmFzZTY0KSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLFRyYW5zcG9ydC5jYWxsKHRoaXMsb3B0cyl9dmFyIFRyYW5zcG9ydD1fZGVyZXFfKCIuLi90cmFuc3BvcnQiKSxwYXJzZXFzPV9kZXJlcV8oInBhcnNlcXMiKSxwYXJzZXI9X2RlcmVxXygiZW5naW5lLmlvLXBhcnNlciIpLGluaGVyaXQ9X2RlcmVxXygiY29tcG9uZW50LWluaGVyaXQiKSxkZWJ1Zz1fZGVyZXFfKCJkZWJ1ZyIpKCJlbmdpbmUuaW8tY2xpZW50OnBvbGxpbmciKTttb2R1bGUuZXhwb3J0cz1Qb2xsaW5nO3ZhciBoYXNYSFIyPWZ1bmN0aW9uKCl7dmFyIFhNTEh0dHBSZXF1ZXN0PV9kZXJlcV8oInhtbGh0dHByZXF1ZXN0IikseGhyPW5ldyBYTUxIdHRwUmVxdWVzdCh7YWdlbnQ6dGhpcy5hZ2VudCx4ZG9tYWluOiExfSk7cmV0dXJuIG51bGwhPXhoci5yZXNwb25zZVR5cGV9KCk7aW5oZXJpdChQb2xsaW5nLFRyYW5zcG9ydCksUG9sbGluZy5wcm90b3R5cGUubmFtZT0icG9sbGluZyIsUG9sbGluZy5wcm90b3R5cGUuZG9PcGVuPWZ1bmN0aW9uKCl7dGhpcy5wb2xsKCl9LFBvbGxpbmcucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKG9uUGF1c2Upe2Z1bmN0aW9uIHBhdXNlKCl7ZGVidWcoInBhdXNlZCIpLHNlbGYucmVhZHlTdGF0ZT0icGF1c2VkIixvblBhdXNlKCl9dmFyIHNlbGY9dGhpcztpZih0aGlzLnJlYWR5U3RhdGU9InBhdXNpbmciLHRoaXMucG9sbGluZ3x8IXRoaXMud3JpdGFibGUpe3ZhciB0b3RhbD0wO3RoaXMucG9sbGluZyYmKGRlYnVnKCJ3ZSBhcmUgY3VycmVudGx5IHBvbGxpbmcgLSB3YWl0aW5nIHRvIHBhdXNlIiksdG90YWwrKyx0aGlzLm9uY2UoInBvbGxDb21wbGV0ZSIsZnVuY3Rpb24oKXtkZWJ1ZygicHJlLXBhdXNlIHBvbGxpbmcgY29tcGxldGUiKSwtLXRvdGFsfHxwYXVzZSgpfSkpLHRoaXMud3JpdGFibGV8fChkZWJ1Zygid2UgYXJlIGN1cnJlbnRseSB3cml0aW5nIC0gd2FpdGluZyB0byBwYXVzZSIpLHRvdGFsKyssdGhpcy5vbmNlKCJkcmFpbiIsZnVuY3Rpb24oKXtkZWJ1ZygicHJlLXBhdXNlIHdyaXRpbmcgY29tcGxldGUiKSwtLXRvdGFsfHxwYXVzZSgpfSkpfWVsc2UgcGF1c2UoKX0sUG9sbGluZy5wcm90b3R5cGUucG9sbD1mdW5jdGlvbigpe2RlYnVnKCJwb2xsaW5nIiksdGhpcy5wb2xsaW5nPSEwLHRoaXMuZG9Qb2xsKCksdGhpcy5lbWl0KCJwb2xsIil9LFBvbGxpbmcucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihkYXRhKXt2YXIgc2VsZj10aGlzO2RlYnVnKCJwb2xsaW5nIGdvdCBkYXRhICVzIixkYXRhKTt2YXIgY2FsbGJhY2s9ZnVuY3Rpb24ocGFja2V0KXtyZXR1cm4ib3BlbmluZyI9PXNlbGYucmVhZHlTdGF0ZSYmc2VsZi5vbk9wZW4oKSwiY2xvc2UiPT1wYWNrZXQudHlwZT8oc2VsZi5vbkNsb3NlKCksITEpOnZvaWQgc2VsZi5vblBhY2tldChwYWNrZXQpfTtwYXJzZXIuZGVjb2RlUGF5bG9hZChkYXRhLHRoaXMuc29ja2V0LmJpbmFyeVR5cGUsY2FsbGJhY2spLCJjbG9zZWQiIT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLnBvbGxpbmc9ITEsdGhpcy5lbWl0KCJwb2xsQ29tcGxldGUiKSwib3BlbiI9PXRoaXMucmVhZHlTdGF0ZT90aGlzLnBvbGwoKTpkZWJ1ZygnaWdub3JpbmcgcG9sbCAtIHRyYW5zcG9ydCBzdGF0ZSAiJXMiJyx0aGlzLnJlYWR5U3RhdGUpKX0sUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGNsb3NlKCl7ZGVidWcoIndyaXRpbmcgY2xvc2UgcGFja2V0Iiksc2VsZi53cml0ZShbe3R5cGU6ImNsb3NlIn1dKX12YXIgc2VsZj10aGlzOyJvcGVuIj09dGhpcy5yZWFkeVN0YXRlPyhkZWJ1ZygidHJhbnNwb3J0IG9wZW4gLSBjbG9zaW5nIiksY2xvc2UoKSk6KGRlYnVnKCJ0cmFuc3BvcnQgbm90IG9wZW4gLSBkZWZlcnJpbmcgY2xvc2UiKSx0aGlzLm9uY2UoIm9wZW4iLGNsb3NlKSl9LFBvbGxpbmcucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHBhY2tldHMpe3ZhciBzZWxmPXRoaXM7dGhpcy53cml0YWJsZT0hMTt2YXIgY2FsbGJhY2tmbj1mdW5jdGlvbigpe3NlbGYud3JpdGFibGU9ITAsc2VsZi5lbWl0KCJkcmFpbiIpfSxzZWxmPXRoaXM7cGFyc2VyLmVuY29kZVBheWxvYWQocGFja2V0cyx0aGlzLnN1cHBvcnRzQmluYXJ5LGZ1bmN0aW9uKGRhdGEpe3NlbGYuZG9Xcml0ZShkYXRhLGNhbGxiYWNrZm4pfSl9LFBvbGxpbmcucHJvdG90eXBlLnVyaT1mdW5jdGlvbigpe3ZhciBxdWVyeT10aGlzLnF1ZXJ5fHx7fSxzY2hlbWE9dGhpcy5zZWN1cmU/Imh0dHBzIjoiaHR0cCIscG9ydD0iIjtyZXR1cm4hMSE9PXRoaXMudGltZXN0YW1wUmVxdWVzdHMmJihxdWVyeVt0aGlzLnRpbWVzdGFtcFBhcmFtXT0rbmV3IERhdGUrIi0iK1RyYW5zcG9ydC50aW1lc3RhbXBzKyspLHRoaXMuc3VwcG9ydHNCaW5hcnl8fHF1ZXJ5LnNpZHx8KHF1ZXJ5LmI2ND0xKSxxdWVyeT1wYXJzZXFzLmVuY29kZShxdWVyeSksdGhpcy5wb3J0JiYoImh0dHBzIj09c2NoZW1hJiY0NDMhPXRoaXMucG9ydHx8Imh0dHAiPT1zY2hlbWEmJjgwIT10aGlzLnBvcnQpJiYocG9ydD0iOiIrdGhpcy5wb3J0KSxxdWVyeS5sZW5ndGgmJihxdWVyeT0iPyIrcXVlcnkpLHNjaGVtYSsiOi8vIit0aGlzLmhvc3RuYW1lK3BvcnQrdGhpcy5wYXRoK3F1ZXJ5fX0seyIuLi90cmFuc3BvcnQiOjEzLCJjb21wb25lbnQtaW5oZXJpdCI6MjAsZGVidWc6OSwiZW5naW5lLmlvLXBhcnNlciI6MjEscGFyc2VxczoyOSx4bWxodHRwcmVxdWVzdDoxOX1dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gV1Mob3B0cyl7dmFyIGZvcmNlQmFzZTY0PW9wdHMmJm9wdHMuZm9yY2VCYXNlNjQ7Zm9yY2VCYXNlNjQmJih0aGlzLnN1cHBvcnRzQmluYXJ5PSExKSxUcmFuc3BvcnQuY2FsbCh0aGlzLG9wdHMpfXZhciBUcmFuc3BvcnQ9X2RlcmVxXygiLi4vdHJhbnNwb3J0IikscGFyc2VyPV9kZXJlcV8oImVuZ2luZS5pby1wYXJzZXIiKSxwYXJzZXFzPV9kZXJlcV8oInBhcnNlcXMiKSxpbmhlcml0PV9kZXJlcV8oImNvbXBvbmVudC1pbmhlcml0IiksZGVidWc9X2RlcmVxXygiZGVidWciKSgiZW5naW5lLmlvLWNsaWVudDp3ZWJzb2NrZXQiKSxXZWJTb2NrZXQ9X2RlcmVxXygid3MiKTttb2R1bGUuZXhwb3J0cz1XUyxpbmhlcml0KFdTLFRyYW5zcG9ydCksV1MucHJvdG90eXBlLm5hbWU9IndlYnNvY2tldCIsV1MucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSEwLFdTLnByb3RvdHlwZS5kb09wZW49ZnVuY3Rpb24oKXtpZih0aGlzLmNoZWNrKCkpe3ZhciB1cmk9dGhpcy51cmkoKSxwcm90b2NvbHM9dm9pZCAwLG9wdHM9e2FnZW50OnRoaXMuYWdlbnR9O3RoaXMud3M9bmV3IFdlYlNvY2tldCh1cmkscHJvdG9jb2xzLG9wdHMpLHZvaWQgMD09PXRoaXMud3MuYmluYXJ5VHlwZSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLHRoaXMud3MuYmluYXJ5VHlwZT0iYXJyYXlidWZmZXIiLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX19LFdTLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dGhpcy53cy5vbm9wZW49ZnVuY3Rpb24oKXtzZWxmLm9uT3BlbigpfSx0aGlzLndzLm9uY2xvc2U9ZnVuY3Rpb24oKXtzZWxmLm9uQ2xvc2UoKX0sdGhpcy53cy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZXYpe3NlbGYub25EYXRhKGV2LmRhdGEpfSx0aGlzLndzLm9uZXJyb3I9ZnVuY3Rpb24oZSl7c2VsZi5vbkVycm9yKCJ3ZWJzb2NrZXQgZXJyb3IiLGUpfX0sInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9pUGFkfGlQaG9uZXxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKFdTLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZGF0YSl7dmFyIHNlbGY9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VHJhbnNwb3J0LnByb3RvdHlwZS5vbkRhdGEuY2FsbChzZWxmLGRhdGEpfSwwKX0pLFdTLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihwYWNrZXRzKXtmdW5jdGlvbiBvbmRyYWluKCl7c2VsZi53cml0YWJsZT0hMCxzZWxmLmVtaXQoImRyYWluIil9dmFyIHNlbGY9dGhpczt0aGlzLndyaXRhYmxlPSExO2Zvcih2YXIgaT0wLGw9cGFja2V0cy5sZW5ndGg7bD5pO2krKylwYXJzZXIuZW5jb2RlUGFja2V0KHBhY2tldHNbaV0sdGhpcy5zdXBwb3J0c0JpbmFyeSxmdW5jdGlvbihkYXRhKXt0cnl7c2VsZi53cy5zZW5kKGRhdGEpfWNhdGNoKGUpe2RlYnVnKCJ3ZWJzb2NrZXQgY2xvc2VkIGJlZm9yZSBvbmNsb3NlIGV2ZW50Iil9fSk7c2V0VGltZW91dChvbmRyYWluLDApfSxXUy5wcm90b3R5cGUub25DbG9zZT1mdW5jdGlvbigpe1RyYW5zcG9ydC5wcm90b3R5cGUub25DbG9zZS5jYWxsKHRoaXMpfSxXUy5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpeyJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy53cyYmdGhpcy53cy5jbG9zZSgpfSxXUy5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKCl7dmFyIHF1ZXJ5PXRoaXMucXVlcnl8fHt9LHNjaGVtYT10aGlzLnNlY3VyZT8id3NzIjoid3MiLHBvcnQ9IiI7cmV0dXJuIHRoaXMucG9ydCYmKCJ3c3MiPT1zY2hlbWEmJjQ0MyE9dGhpcy5wb3J0fHwid3MiPT1zY2hlbWEmJjgwIT10aGlzLnBvcnQpJiYocG9ydD0iOiIrdGhpcy5wb3J0KSx0aGlzLnRpbWVzdGFtcFJlcXVlc3RzJiYocXVlcnlbdGhpcy50aW1lc3RhbXBQYXJhbV09K25ldyBEYXRlKSx0aGlzLnN1cHBvcnRzQmluYXJ5fHwocXVlcnkuYjY0PTEpLHF1ZXJ5PXBhcnNlcXMuZW5jb2RlKHF1ZXJ5KSxxdWVyeS5sZW5ndGgmJihxdWVyeT0iPyIrcXVlcnkpLHNjaGVtYSsiOi8vIit0aGlzLmhvc3RuYW1lK3BvcnQrdGhpcy5wYXRoK3F1ZXJ5fSxXUy5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4hKCFXZWJTb2NrZXR8fCJfX2luaXRpYWxpemUiaW4gV2ViU29ja2V0JiZ0aGlzLm5hbWU9PT1XUy5wcm90b3R5cGUubmFtZSl9fSx7Ii4uL3RyYW5zcG9ydCI6MTMsImNvbXBvbmVudC1pbmhlcml0IjoyMCxkZWJ1Zzo5LCJlbmdpbmUuaW8tcGFyc2VyIjoyMSxwYXJzZXFzOjI5LHdzOjMxfV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgaGFzQ09SUz1fZGVyZXFfKCJoYXMtY29ycyIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG9wdHMpe3ZhciB4ZG9tYWluPW9wdHMueGRvbWFpbix4c2NoZW1lPW9wdHMueHNjaGVtZSxlbmFibGVzWERSPW9wdHMuZW5hYmxlc1hEUjt0cnl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdCYmIXhzY2hlbWUmJmVuYWJsZXNYRFIpcmV0dXJuIG5ldyBYRG9tYWluUmVxdWVzdH1jYXRjaChlKXt9dHJ5e2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJigheGRvbWFpbnx8aGFzQ09SUykpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9aWYoIXhkb21haW4pdHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChlKXt9fX0seyJoYXMtY29ycyI6MzR9XSwyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGEsYil7dmFyIGZuPWZ1bmN0aW9uKCl7fTtmbi5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS5wcm90b3R5cGU9bmV3IGZuLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9fSx7fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIGVuY29kZUFycmF5QnVmZmVyKHBhY2tldCxzdXBwb3J0c0JpbmFyeSxjYWxsYmFjayl7aWYoIXN1cHBvcnRzQmluYXJ5KXJldHVybiBleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldChwYWNrZXQsY2FsbGJhY2spO3ZhciBkYXRhPXBhY2tldC5kYXRhLGNvbnRlbnRBcnJheT1uZXcgVWludDhBcnJheShkYXRhKSxyZXN1bHRCdWZmZXI9bmV3IFVpbnQ4QXJyYXkoMStkYXRhLmJ5dGVMZW5ndGgpO3Jlc3VsdEJ1ZmZlclswXT1wYWNrZXRzW3BhY2tldC50eXBlXTtmb3IodmFyIGk9MDtpPGNvbnRlbnRBcnJheS5sZW5ndGg7aSsrKXJlc3VsdEJ1ZmZlcltpKzFdPWNvbnRlbnRBcnJheVtpXTtyZXR1cm4gY2FsbGJhY2socmVzdWx0QnVmZmVyLmJ1ZmZlcil9ZnVuY3Rpb24gZW5jb2RlQmxvYkFzQXJyYXlCdWZmZXIocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKXtpZighc3VwcG9ydHNCaW5hcnkpcmV0dXJuIGV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0KHBhY2tldCxjYWxsYmFjayk7dmFyIGZyPW5ldyBGaWxlUmVhZGVyO3JldHVybiBmci5vbmxvYWQ9ZnVuY3Rpb24oKXtwYWNrZXQuZGF0YT1mci5yZXN1bHQsZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LHN1cHBvcnRzQmluYXJ5LCEwLGNhbGxiYWNrKX0sZnIucmVhZEFzQXJyYXlCdWZmZXIocGFja2V0LmRhdGEpfWZ1bmN0aW9uIGVuY29kZUJsb2IocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKXtpZighc3VwcG9ydHNCaW5hcnkpcmV0dXJuIGV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0KHBhY2tldCxjYWxsYmFjayk7aWYoaXNBbmRyb2lkKXJldHVybiBlbmNvZGVCbG9iQXNBcnJheUJ1ZmZlcihwYWNrZXQsc3VwcG9ydHNCaW5hcnksY2FsbGJhY2spO3ZhciBsZW5ndGg9bmV3IFVpbnQ4QXJyYXkoMSk7bGVuZ3RoWzBdPXBhY2tldHNbcGFja2V0LnR5cGVdO3ZhciBibG9iPW5ldyBCbG9iKFtsZW5ndGguYnVmZmVyLHBhY2tldC5kYXRhXSk7cmV0dXJuIGNhbGxiYWNrKGJsb2IpfWZ1bmN0aW9uIG1hcChhcnksZWFjaCxkb25lKXtmb3IodmFyIHJlc3VsdD1uZXcgQXJyYXkoYXJ5Lmxlbmd0aCksbmV4dD1hZnRlcihhcnkubGVuZ3RoLGRvbmUpLGVhY2hXaXRoSW5kZXg9ZnVuY3Rpb24oaSxlbCxjYil7ZWFjaChlbCxmdW5jdGlvbihlcnJvcixtc2cpe3Jlc3VsdFtpXT1tc2csY2IoZXJyb3IscmVzdWx0KX0pfSxpPTA7aTxhcnkubGVuZ3RoO2krKyllYWNoV2l0aEluZGV4KGksYXJ5W2ldLG5leHQpfXZhciBrZXlzPV9kZXJlcV8oIi4va2V5cyIpLHNsaWNlQnVmZmVyPV9kZXJlcV8oImFycmF5YnVmZmVyLnNsaWNlIiksYmFzZTY0ZW5jb2Rlcj1fZGVyZXFfKCJiYXNlNjQtYXJyYXlidWZmZXIiKSxhZnRlcj1fZGVyZXFfKCJhZnRlciIpLHV0Zjg9X2RlcmVxXygidXRmOCIpLGlzQW5kcm9pZD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpO2V4cG9ydHMucHJvdG9jb2w9Mzt2YXIgcGFja2V0cz1leHBvcnRzLnBhY2tldHM9e29wZW46MCxjbG9zZToxLHBpbmc6Mixwb25nOjMsbWVzc2FnZTo0LHVwZ3JhZGU6NSxub29wOjZ9LHBhY2tldHNsaXN0PWtleXMocGFja2V0cyksZXJyPXt0eXBlOiJlcnJvciIsZGF0YToicGFyc2VyIGVycm9yIn0sQmxvYj1fZGVyZXFfKCJibG9iIik7ZXhwb3J0cy5lbmNvZGVQYWNrZXQ9ZnVuY3Rpb24ocGFja2V0LHN1cHBvcnRzQmluYXJ5LHV0ZjhlbmNvZGUsY2FsbGJhY2speyJmdW5jdGlvbiI9PXR5cGVvZiBzdXBwb3J0c0JpbmFyeSYmKGNhbGxiYWNrPXN1cHBvcnRzQmluYXJ5LHN1cHBvcnRzQmluYXJ5PSExKSwiZnVuY3Rpb24iPT10eXBlb2YgdXRmOGVuY29kZSYmKGNhbGxiYWNrPXV0ZjhlbmNvZGUsdXRmOGVuY29kZT1udWxsKTt2YXIgZGF0YT12b2lkIDA9PT1wYWNrZXQuZGF0YT92b2lkIDA6cGFja2V0LmRhdGEuYnVmZmVyfHxwYWNrZXQuZGF0YTtpZihnbG9iYWwuQXJyYXlCdWZmZXImJmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gZW5jb2RlQXJyYXlCdWZmZXIocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKTtpZihCbG9iJiZkYXRhIGluc3RhbmNlb2YgZ2xvYmFsLkJsb2IpcmV0dXJuIGVuY29kZUJsb2IocGFja2V0LHN1cHBvcnRzQmluYXJ5LGNhbGxiYWNrKTt2YXIgZW5jb2RlZD1wYWNrZXRzW3BhY2tldC50eXBlXTtyZXR1cm4gdm9pZCAwIT09cGFja2V0LmRhdGEmJihlbmNvZGVkKz11dGY4ZW5jb2RlP3V0ZjguZW5jb2RlKFN0cmluZyhwYWNrZXQuZGF0YSkpOlN0cmluZyhwYWNrZXQuZGF0YSkpLGNhbGxiYWNrKCIiK2VuY29kZWQpfSxleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldD1mdW5jdGlvbihwYWNrZXQsY2FsbGJhY2spe3ZhciBtZXNzYWdlPSJiIitleHBvcnRzLnBhY2tldHNbcGFja2V0LnR5cGVdO2lmKEJsb2ImJnBhY2tldC5kYXRhIGluc3RhbmNlb2YgQmxvYil7dmFyIGZyPW5ldyBGaWxlUmVhZGVyO3JldHVybiBmci5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYjY0PWZyLnJlc3VsdC5zcGxpdCgiLCIpWzFdO2NhbGxiYWNrKG1lc3NhZ2UrYjY0KX0sZnIucmVhZEFzRGF0YVVSTChwYWNrZXQuZGF0YSl9dmFyIGI2NGRhdGE7dHJ5e2I2NGRhdGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KHBhY2tldC5kYXRhKSl9Y2F0Y2goZSl7Zm9yKHZhciB0eXBlZD1uZXcgVWludDhBcnJheShwYWNrZXQuZGF0YSksYmFzaWM9bmV3IEFycmF5KHR5cGVkLmxlbmd0aCksaT0wO2k8dHlwZWQubGVuZ3RoO2krKyliYXNpY1tpXT10eXBlZFtpXTtiNjRkYXRhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxiYXNpYyl9cmV0dXJuIG1lc3NhZ2UrPWdsb2JhbC5idG9hKGI2NGRhdGEpLGNhbGxiYWNrKG1lc3NhZ2UpfSxleHBvcnRzLmRlY29kZVBhY2tldD1mdW5jdGlvbihkYXRhLGJpbmFyeVR5cGUsdXRmOGRlY29kZSl7aWYoInN0cmluZyI9PXR5cGVvZiBkYXRhfHx2b2lkIDA9PT1kYXRhKXtpZigiYiI9PWRhdGEuY2hhckF0KDApKXJldHVybiBleHBvcnRzLmRlY29kZUJhc2U2NFBhY2tldChkYXRhLnN1YnN0cigxKSxiaW5hcnlUeXBlKTtpZih1dGY4ZGVjb2RlKXRyeXtkYXRhPXV0ZjguZGVjb2RlKGRhdGEpfWNhdGNoKGUpe3JldHVybiBlcnJ9dmFyIHR5cGU9ZGF0YS5jaGFyQXQoMCk7cmV0dXJuIE51bWJlcih0eXBlKT09dHlwZSYmcGFja2V0c2xpc3RbdHlwZV0/ZGF0YS5sZW5ndGg+MT97dHlwZTpwYWNrZXRzbGlzdFt0eXBlXSxkYXRhOmRhdGEuc3Vic3RyaW5nKDEpfTp7dHlwZTpwYWNrZXRzbGlzdFt0eXBlXX06ZXJyfXZhciBhc0FycmF5PW5ldyBVaW50OEFycmF5KGRhdGEpLHR5cGU9YXNBcnJheVswXSxyZXN0PXNsaWNlQnVmZmVyKGRhdGEsMSk7cmV0dXJuIEJsb2ImJiJibG9iIj09PWJpbmFyeVR5cGUmJihyZXN0PW5ldyBCbG9iKFtyZXN0XSkpLHt0eXBlOnBhY2tldHNsaXN0W3R5cGVdLGRhdGE6cmVzdH19LGV4cG9ydHMuZGVjb2RlQmFzZTY0UGFja2V0PWZ1bmN0aW9uKG1zZyxiaW5hcnlUeXBlKXt2YXIgdHlwZT1wYWNrZXRzbGlzdFttc2cuY2hhckF0KDApXTtpZighZ2xvYmFsLkFycmF5QnVmZmVyKXJldHVybnt0eXBlOnR5cGUsZGF0YTp7YmFzZTY0OiEwLGRhdGE6bXNnLnN1YnN0cigxKX19O3ZhciBkYXRhPWJhc2U2NGVuY29kZXIuZGVjb2RlKG1zZy5zdWJzdHIoMSkpO3JldHVybiJibG9iIj09PWJpbmFyeVR5cGUmJkJsb2ImJihkYXRhPW5ldyBCbG9iKFtkYXRhXSkpLHt0eXBlOnR5cGUsZGF0YTpkYXRhfX0sZXhwb3J0cy5lbmNvZGVQYXlsb2FkPWZ1bmN0aW9uKHBhY2tldHMsc3VwcG9ydHNCaW5hcnksY2FsbGJhY2spe2Z1bmN0aW9uIHNldExlbmd0aEhlYWRlcihtZXNzYWdlKXtyZXR1cm4gbWVzc2FnZS5sZW5ndGgrIjoiK21lc3NhZ2V9ZnVuY3Rpb24gZW5jb2RlT25lKHBhY2tldCxkb25lQ2FsbGJhY2spe2V4cG9ydHMuZW5jb2RlUGFja2V0KHBhY2tldCxzdXBwb3J0c0JpbmFyeSwhMCxmdW5jdGlvbihtZXNzYWdlKXtkb25lQ2FsbGJhY2sobnVsbCxzZXRMZW5ndGhIZWFkZXIobWVzc2FnZSkpfSl9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHN1cHBvcnRzQmluYXJ5JiYoY2FsbGJhY2s9c3VwcG9ydHNCaW5hcnksc3VwcG9ydHNCaW5hcnk9bnVsbCksc3VwcG9ydHNCaW5hcnk/QmxvYiYmIWlzQW5kcm9pZD9leHBvcnRzLmVuY29kZVBheWxvYWRBc0Jsb2IocGFja2V0cyxjYWxsYmFjayk6ZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcihwYWNrZXRzLGNhbGxiYWNrKTpwYWNrZXRzLmxlbmd0aD92b2lkIG1hcChwYWNrZXRzLGVuY29kZU9uZSxmdW5jdGlvbihlcnIscmVzdWx0cyl7cmV0dXJuIGNhbGxiYWNrKHJlc3VsdHMuam9pbigiIikpfSk6Y2FsbGJhY2soIjA6Iil9LGV4cG9ydHMuZGVjb2RlUGF5bG9hZD1mdW5jdGlvbihkYXRhLGJpbmFyeVR5cGUsY2FsbGJhY2spe2lmKCJzdHJpbmciIT10eXBlb2YgZGF0YSlyZXR1cm4gZXhwb3J0cy5kZWNvZGVQYXlsb2FkQXNCaW5hcnkoZGF0YSxiaW5hcnlUeXBlLGNhbGxiYWNrKTsiZnVuY3Rpb24iPT10eXBlb2YgYmluYXJ5VHlwZSYmKGNhbGxiYWNrPWJpbmFyeVR5cGUsYmluYXJ5VHlwZT1udWxsKTt2YXIgcGFja2V0O2lmKCIiPT1kYXRhKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTtmb3IodmFyIG4sbXNnLGxlbmd0aD0iIixpPTAsbD1kYXRhLmxlbmd0aDtsPmk7aSsrKXt2YXIgY2hyPWRhdGEuY2hhckF0KGkpO2lmKCI6IiE9Y2hyKWxlbmd0aCs9Y2hyO2Vsc2V7aWYoIiI9PWxlbmd0aHx8bGVuZ3RoIT0obj1OdW1iZXIobGVuZ3RoKSkpcmV0dXJuIGNhbGxiYWNrKGVyciwwLDEpO2lmKG1zZz1kYXRhLnN1YnN0cihpKzEsbiksbGVuZ3RoIT1tc2cubGVuZ3RoKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTtpZihtc2cubGVuZ3RoKXtpZihwYWNrZXQ9ZXhwb3J0cy5kZWNvZGVQYWNrZXQobXNnLGJpbmFyeVR5cGUsITApLGVyci50eXBlPT1wYWNrZXQudHlwZSYmZXJyLmRhdGE9PXBhY2tldC5kYXRhKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTt2YXIgcmV0PWNhbGxiYWNrKHBhY2tldCxpK24sbCk7aWYoITE9PT1yZXQpcmV0dXJufWkrPW4sbGVuZ3RoPSIifX1yZXR1cm4iIiE9bGVuZ3RoP2NhbGxiYWNrKGVyciwwLDEpOnZvaWQgMH0sZXhwb3J0cy5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcj1mdW5jdGlvbihwYWNrZXRzLGNhbGxiYWNrKXtmdW5jdGlvbiBlbmNvZGVPbmUocGFja2V0LGRvbmVDYWxsYmFjayl7ZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCEwLCEwLGZ1bmN0aW9uKGRhdGEpe3JldHVybiBkb25lQ2FsbGJhY2sobnVsbCxkYXRhKX0pfXJldHVybiBwYWNrZXRzLmxlbmd0aD92b2lkIG1hcChwYWNrZXRzLGVuY29kZU9uZSxmdW5jdGlvbihlcnIsZW5jb2RlZFBhY2tldHMpe3ZhciB0b3RhbExlbmd0aD1lbmNvZGVkUGFja2V0cy5yZWR1Y2UoZnVuY3Rpb24oYWNjLHApe3ZhciBsZW47cmV0dXJuIGxlbj0ic3RyaW5nIj09dHlwZW9mIHA/cC5sZW5ndGg6cC5ieXRlTGVuZ3RoLGFjYytsZW4udG9TdHJpbmcoKS5sZW5ndGgrbGVuKzJ9LDApLHJlc3VsdEFycmF5PW5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKSxidWZmZXJJbmRleD0wO3JldHVybiBlbmNvZGVkUGFja2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHApe3ZhciBpc1N0cmluZz0ic3RyaW5nIj09dHlwZW9mIHAsYWI9cDtpZihpc1N0cmluZyl7Zm9yKHZhciB2aWV3PW5ldyBVaW50OEFycmF5KHAubGVuZ3RoKSxpPTA7aTxwLmxlbmd0aDtpKyspdmlld1tpXT1wLmNoYXJDb2RlQXQoaSk7YWI9dmlldy5idWZmZXJ9cmVzdWx0QXJyYXlbYnVmZmVySW5kZXgrK109aXNTdHJpbmc/MDoxO2Zvcih2YXIgbGVuU3RyPWFiLmJ5dGVMZW5ndGgudG9TdHJpbmcoKSxpPTA7aTxsZW5TdHIubGVuZ3RoO2krKylyZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXT1wYXJzZUludChsZW5TdHJbaV0pO3Jlc3VsdEFycmF5W2J1ZmZlckluZGV4KytdPTI1NTtmb3IodmFyIHZpZXc9bmV3IFVpbnQ4QXJyYXkoYWIpLGk9MDtpPHZpZXcubGVuZ3RoO2krKylyZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXT12aWV3W2ldfSksY2FsbGJhY2socmVzdWx0QXJyYXkuYnVmZmVyKX0pOmNhbGxiYWNrKG5ldyBBcnJheUJ1ZmZlcigwKSl9LGV4cG9ydHMuZW5jb2RlUGF5bG9hZEFzQmxvYj1mdW5jdGlvbihwYWNrZXRzLGNhbGxiYWNrKXtmdW5jdGlvbiBlbmNvZGVPbmUocGFja2V0LGRvbmVDYWxsYmFjayl7ZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCEwLCEwLGZ1bmN0aW9uKGVuY29kZWQpe3ZhciBiaW5hcnlJZGVudGlmaWVyPW5ldyBVaW50OEFycmF5KDEpO2lmKGJpbmFyeUlkZW50aWZpZXJbMF09MSwic3RyaW5nIj09dHlwZW9mIGVuY29kZWQpe2Zvcih2YXIgdmlldz1uZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCksaT0wO2k8ZW5jb2RlZC5sZW5ndGg7aSsrKXZpZXdbaV09ZW5jb2RlZC5jaGFyQ29kZUF0KGkpO2VuY29kZWQ9dmlldy5idWZmZXIsYmluYXJ5SWRlbnRpZmllclswXT0wfWZvcih2YXIgbGVuPWVuY29kZWQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lbmNvZGVkLmJ5dGVMZW5ndGg6ZW5jb2RlZC5zaXplLGxlblN0cj1sZW4udG9TdHJpbmcoKSxsZW5ndGhBcnk9bmV3IFVpbnQ4QXJyYXkobGVuU3RyLmxlbmd0aCsxKSxpPTA7aTxsZW5TdHIubGVuZ3RoO2krKylsZW5ndGhBcnlbaV09cGFyc2VJbnQobGVuU3RyW2ldKTtpZihsZW5ndGhBcnlbbGVuU3RyLmxlbmd0aF09MjU1LEJsb2Ipe3ZhciBibG9iPW5ldyBCbG9iKFtiaW5hcnlJZGVudGlmaWVyLmJ1ZmZlcixsZW5ndGhBcnkuYnVmZmVyLGVuY29kZWRdKTtkb25lQ2FsbGJhY2sobnVsbCxibG9iKX19KX1tYXAocGFja2V0cyxlbmNvZGVPbmUsZnVuY3Rpb24oZXJyLHJlc3VsdHMpe3JldHVybiBjYWxsYmFjayhuZXcgQmxvYihyZXN1bHRzKSl9KX0sZXhwb3J0cy5kZWNvZGVQYXlsb2FkQXNCaW5hcnk9ZnVuY3Rpb24oZGF0YSxiaW5hcnlUeXBlLGNhbGxiYWNrKXsiZnVuY3Rpb24iPT10eXBlb2YgYmluYXJ5VHlwZSYmKGNhbGxiYWNrPWJpbmFyeVR5cGUsYmluYXJ5VHlwZT1udWxsKTtmb3IodmFyIGJ1ZmZlclRhaWw9ZGF0YSxidWZmZXJzPVtdLG51bWJlclRvb0xvbmc9ITE7YnVmZmVyVGFpbC5ieXRlTGVuZ3RoPjA7KXtmb3IodmFyIHRhaWxBcnJheT1uZXcgVWludDhBcnJheShidWZmZXJUYWlsKSxpc1N0cmluZz0wPT09dGFpbEFycmF5WzBdLG1zZ0xlbmd0aD0iIixpPTE7MjU1IT10YWlsQXJyYXlbaV07aSsrKXtpZihtc2dMZW5ndGgubGVuZ3RoPjMxMCl7bnVtYmVyVG9vTG9uZz0hMDticmVha31tc2dMZW5ndGgrPXRhaWxBcnJheVtpXX1pZihudW1iZXJUb29Mb25nKXJldHVybiBjYWxsYmFjayhlcnIsMCwxKTtidWZmZXJUYWlsPXNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsMittc2dMZW5ndGgubGVuZ3RoKSxtc2dMZW5ndGg9cGFyc2VJbnQobXNnTGVuZ3RoKTt2YXIgbXNnPXNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsMCxtc2dMZW5ndGgpO2lmKGlzU3RyaW5nKXRyeXttc2c9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KG1zZykpfWNhdGNoKGUpe3ZhciB0eXBlZD1uZXcgVWludDhBcnJheShtc2cpO21zZz0iIjtmb3IodmFyIGk9MDtpPHR5cGVkLmxlbmd0aDtpKyspbXNnKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHR5cGVkW2ldKX1idWZmZXJzLnB1c2gobXNnKSxidWZmZXJUYWlsPXNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsbXNnTGVuZ3RoKX12YXIgdG90YWw9YnVmZmVycy5sZW5ndGg7YnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uKGJ1ZmZlcixpKXtjYWxsYmFjayhleHBvcnRzLmRlY29kZVBhY2tldChidWZmZXIsYmluYXJ5VHlwZSwhMCksaSx0b3RhbCl9KX19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL2tleXMiOjIyLGFmdGVyOjIzLCJhcnJheWJ1ZmZlci5zbGljZSI6MjQsImJhc2U2NC1hcnJheWJ1ZmZlciI6MjUsYmxvYjoyNix1dGY4OjI3fV0sMjI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXttb2R1bGUuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24ob2JqKXt2YXIgYXJyPVtdLGhhcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Zvcih2YXIgaSBpbiBvYmopaGFzLmNhbGwob2JqLGkpJiZhcnIucHVzaChpKTtyZXR1cm4gYXJyfX0se31dLDIzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gYWZ0ZXIoY291bnQsY2FsbGJhY2ssZXJyX2NiKXtmdW5jdGlvbiBwcm94eShlcnIscmVzdWx0KXtpZihwcm94eS5jb3VudDw9MCl0aHJvdyBuZXcgRXJyb3IoImFmdGVyIGNhbGxlZCB0b28gbWFueSB0aW1lcyIpOy0tcHJveHkuY291bnQsZXJyPyhiYWlsPSEwLGNhbGxiYWNrKGVyciksY2FsbGJhY2s9ZXJyX2NiKTowIT09cHJveHkuY291bnR8fGJhaWx8fGNhbGxiYWNrKG51bGwscmVzdWx0KX12YXIgYmFpbD0hMTtyZXR1cm4gZXJyX2NiPWVycl9jYnx8bm9vcCxwcm94eS5jb3VudD1jb3VudCwwPT09Y291bnQ/Y2FsbGJhY2soKTpwcm94eX1mdW5jdGlvbiBub29wKCl7fW1vZHVsZS5leHBvcnRzPWFmdGVyfSx7fV0sMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihhcnJheWJ1ZmZlcixzdGFydCxlbmQpe3ZhciBieXRlcz1hcnJheWJ1ZmZlci5ieXRlTGVuZ3RoO2lmKHN0YXJ0PXN0YXJ0fHwwLGVuZD1lbmR8fGJ5dGVzLGFycmF5YnVmZmVyLnNsaWNlKXJldHVybiBhcnJheWJ1ZmZlci5zbGljZShzdGFydCxlbmQpO2lmKDA+c3RhcnQmJihzdGFydCs9Ynl0ZXMpLDA+ZW5kJiYoZW5kKz1ieXRlcyksZW5kPmJ5dGVzJiYoZW5kPWJ5dGVzKSxzdGFydD49Ynl0ZXN8fHN0YXJ0Pj1lbmR8fDA9PT1ieXRlcylyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO2Zvcih2YXIgYWJ2PW5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSxyZXN1bHQ9bmV3IFVpbnQ4QXJyYXkoZW5kLXN0YXJ0KSxpPXN0YXJ0LGlpPTA7ZW5kPmk7aSsrLGlpKyspcmVzdWx0W2lpXT1hYnZbaV07cmV0dXJuIHJlc3VsdC5idWZmZXJ9fSx7fV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyFmdW5jdGlvbihjaGFycyl7InVzZSBzdHJpY3QiO2V4cG9ydHMuZW5jb2RlPWZ1bmN0aW9uKGFycmF5YnVmZmVyKXt2YXIgaSxieXRlcz1uZXcgVWludDhBcnJheShhcnJheWJ1ZmZlciksbGVuPWJ5dGVzLmxlbmd0aCxiYXNlNjQ9IiI7Zm9yKGk9MDtsZW4+aTtpKz0zKWJhc2U2NCs9Y2hhcnNbYnl0ZXNbaV0+PjJdLGJhc2U2NCs9Y2hhcnNbKDMmYnl0ZXNbaV0pPDw0fGJ5dGVzW2krMV0+PjRdLGJhc2U2NCs9Y2hhcnNbKDE1JmJ5dGVzW2krMV0pPDwyfGJ5dGVzW2krMl0+PjZdLGJhc2U2NCs9Y2hhcnNbNjMmYnl0ZXNbaSsyXV07cmV0dXJuIGxlbiUzPT09Mj9iYXNlNjQ9YmFzZTY0LnN1YnN0cmluZygwLGJhc2U2NC5sZW5ndGgtMSkrIj0iOmxlbiUzPT09MSYmKGJhc2U2ND1iYXNlNjQuc3Vic3RyaW5nKDAsYmFzZTY0Lmxlbmd0aC0yKSsiPT0iKSxiYXNlNjR9LGV4cG9ydHMuZGVjb2RlPWZ1bmN0aW9uKGJhc2U2NCl7dmFyIGksZW5jb2RlZDEsZW5jb2RlZDIsZW5jb2RlZDMsZW5jb2RlZDQsYnVmZmVyTGVuZ3RoPS43NSpiYXNlNjQubGVuZ3RoLGxlbj1iYXNlNjQubGVuZ3RoLHA9MDsiPSI9PT1iYXNlNjRbYmFzZTY0Lmxlbmd0aC0xXSYmKGJ1ZmZlckxlbmd0aC0tLCI9Ij09PWJhc2U2NFtiYXNlNjQubGVuZ3RoLTJdJiZidWZmZXJMZW5ndGgtLSk7dmFyIGFycmF5YnVmZmVyPW5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLGJ5dGVzPW5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtmb3IoaT0wO2xlbj5pO2krPTQpZW5jb2RlZDE9Y2hhcnMuaW5kZXhPZihiYXNlNjRbaV0pLGVuY29kZWQyPWNoYXJzLmluZGV4T2YoYmFzZTY0W2krMV0pLGVuY29kZWQzPWNoYXJzLmluZGV4T2YoYmFzZTY0W2krMl0pLGVuY29kZWQ0PWNoYXJzLmluZGV4T2YoYmFzZTY0W2krM10pLGJ5dGVzW3ArK109ZW5jb2RlZDE8PDJ8ZW5jb2RlZDI+PjQsYnl0ZXNbcCsrXT0oMTUmZW5jb2RlZDIpPDw0fGVuY29kZWQzPj4yLGJ5dGVzW3ArK109KDMmZW5jb2RlZDMpPDw2fDYzJmVuY29kZWQ0O3JldHVybiBhcnJheWJ1ZmZlcn19KCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIil9LHt9XSwyNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpeyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIEJsb2JCdWlsZGVyQ29uc3RydWN0b3IoYXJ5LG9wdGlvbnMpe29wdGlvbnM9b3B0aW9uc3x8e307Zm9yKHZhciBiYj1uZXcgQmxvYkJ1aWxkZXIsaT0wO2k8YXJ5Lmxlbmd0aDtpKyspYmIuYXBwZW5kKGFyeVtpXSk7cmV0dXJuIG9wdGlvbnMudHlwZT9iYi5nZXRCbG9iKG9wdGlvbnMudHlwZSk6YmIuZ2V0QmxvYigpfXZhciBCbG9iQnVpbGRlcj1nbG9iYWwuQmxvYkJ1aWxkZXJ8fGdsb2JhbC5XZWJLaXRCbG9iQnVpbGRlcnx8Z2xvYmFsLk1TQmxvYkJ1aWxkZXJ8fGdsb2JhbC5Nb3pCbG9iQnVpbGRlcixibG9iU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e3ZhciBiPW5ldyBCbG9iKFsiaGkiXSk7cmV0dXJuIDI9PWIuc2l6ZX1jYXRjaChlKXtyZXR1cm4hMX19KCksYmxvYkJ1aWxkZXJTdXBwb3J0ZWQ9QmxvYkJ1aWxkZXImJkJsb2JCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmQmJkJsb2JCdWlsZGVyLnByb3RvdHlwZS5nZXRCbG9iO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGJsb2JTdXBwb3J0ZWQ/Z2xvYmFsLkJsb2I6YmxvYkJ1aWxkZXJTdXBwb3J0ZWQ/QmxvYkJ1aWxkZXJDb25zdHJ1Y3Rvcjp2b2lkIDB9KCl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oZ2xvYmFsKXshZnVuY3Rpb24ocm9vdCl7ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpe2Zvcih2YXIgdmFsdWUsZXh0cmEsb3V0cHV0PVtdLGNvdW50ZXI9MCxsZW5ndGg9c3RyaW5nLmxlbmd0aDtsZW5ndGg+Y291bnRlcjspdmFsdWU9c3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKSx2YWx1ZT49NTUyOTYmJjU2MzE5Pj12YWx1ZSYmbGVuZ3RoPmNvdW50ZXI/KGV4dHJhPXN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyksNTYzMjA9PSg2NDUxMiZleHRyYSk/b3V0cHV0LnB1c2goKCgxMDIzJnZhbHVlKTw8MTApKygxMDIzJmV4dHJhKSs2NTUzNik6KG91dHB1dC5wdXNoKHZhbHVlKSxjb3VudGVyLS0pKTpvdXRwdXQucHVzaCh2YWx1ZSk7cmV0dXJuIG91dHB1dH1mdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KXtmb3IodmFyIHZhbHVlLGxlbmd0aD1hcnJheS5sZW5ndGgsaW5kZXg9LTEsb3V0cHV0PSIiOysraW5kZXg8bGVuZ3RoOyl2YWx1ZT1hcnJheVtpbmRleF0sdmFsdWU+NjU1MzUmJih2YWx1ZS09NjU1MzYsb3V0cHV0Kz1zdHJpbmdGcm9tQ2hhckNvZGUodmFsdWU+Pj4xMCYxMDIzfDU1Mjk2KSx2YWx1ZT01NjMyMHwxMDIzJnZhbHVlKSxvdXRwdXQrPXN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7cmV0dXJuIG91dHB1dH1mdW5jdGlvbiBjcmVhdGVCeXRlKGNvZGVQb2ludCxzaGlmdCl7cmV0dXJuIHN0cmluZ0Zyb21DaGFyQ29kZShjb2RlUG9pbnQ+PnNoaWZ0JjYzfDEyOCl9ZnVuY3Rpb24gZW5jb2RlQ29kZVBvaW50KGNvZGVQb2ludCl7aWYoMD09KDQyOTQ5NjcxNjgmY29kZVBvaW50KSlyZXR1cm4gc3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludCk7dmFyIHN5bWJvbD0iIjtyZXR1cm4gMD09KDQyOTQ5NjUyNDgmY29kZVBvaW50KT9zeW1ib2w9c3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludD4+NiYzMXwxOTIpOjA9PSg0Mjk0OTAxNzYwJmNvZGVQb2ludCk/KHN5bWJvbD1zdHJpbmdGcm9tQ2hhckNvZGUoY29kZVBvaW50Pj4xMiYxNXwyMjQpLHN5bWJvbCs9Y3JlYXRlQnl0ZShjb2RlUG9pbnQsNikpOjA9PSg0MjkyODcwMTQ0JmNvZGVQb2ludCkmJihzeW1ib2w9c3RyaW5nRnJvbUNoYXJDb2RlKGNvZGVQb2ludD4+MTgmN3wyNDApLHN5bWJvbCs9Y3JlYXRlQnl0ZShjb2RlUG9pbnQsMTIpLHN5bWJvbCs9Y3JlYXRlQnl0ZShjb2RlUG9pbnQsNikpLHN5bWJvbCs9c3RyaW5nRnJvbUNoYXJDb2RlKDYzJmNvZGVQb2ludHwxMjgpfWZ1bmN0aW9uIHV0ZjhlbmNvZGUoc3RyaW5nKXtmb3IodmFyIGNvZGVQb2ludCxjb2RlUG9pbnRzPXVjczJkZWNvZGUoc3RyaW5nKSxsZW5ndGg9Y29kZVBvaW50cy5sZW5ndGgsaW5kZXg9LTEsYnl0ZVN0cmluZz0iIjsrK2luZGV4PGxlbmd0aDspY29kZVBvaW50PWNvZGVQb2ludHNbaW5kZXhdLGJ5dGVTdHJpbmcrPWVuY29kZUNvZGVQb2ludChjb2RlUG9pbnQpO3JldHVybiBieXRlU3RyaW5nfWZ1bmN0aW9uIHJlYWRDb250aW51YXRpb25CeXRlKCl7aWYoYnl0ZUluZGV4Pj1ieXRlQ291bnQpdGhyb3cgRXJyb3IoIkludmFsaWQgYnl0ZSBpbmRleCIpO3ZhciBjb250aW51YXRpb25CeXRlPTI1NSZieXRlQXJyYXlbYnl0ZUluZGV4XTtpZihieXRlSW5kZXgrKywxMjg9PSgxOTImY29udGludWF0aW9uQnl0ZSkpcmV0dXJuIDYzJmNvbnRpbnVhdGlvbkJ5dGU7dGhyb3cgRXJyb3IoIkludmFsaWQgY29udGludWF0aW9uIGJ5dGUiKX1mdW5jdGlvbiBkZWNvZGVTeW1ib2woKXt2YXIgYnl0ZTEsYnl0ZTIsYnl0ZTMsYnl0ZTQsY29kZVBvaW50O2lmKGJ5dGVJbmRleD5ieXRlQ291bnQpdGhyb3cgRXJyb3IoIkludmFsaWQgYnl0ZSBpbmRleCIpO2lmKGJ5dGVJbmRleD09Ynl0ZUNvdW50KXJldHVybiExO2lmKGJ5dGUxPTI1NSZieXRlQXJyYXlbYnl0ZUluZGV4XSxieXRlSW5kZXgrKywwPT0oMTI4JmJ5dGUxKSlyZXR1cm4gYnl0ZTE7aWYoMTkyPT0oMjI0JmJ5dGUxKSl7dmFyIGJ5dGUyPXJlYWRDb250aW51YXRpb25CeXRlKCk7aWYoY29kZVBvaW50PSgzMSZieXRlMSk8PDZ8Ynl0ZTIsY29kZVBvaW50Pj0xMjgpcmV0dXJuIGNvZGVQb2ludDt0aHJvdyBFcnJvcigiSW52YWxpZCBjb250aW51YXRpb24gYnl0ZSIpfWlmKDIyND09KDI0MCZieXRlMSkpe2lmKGJ5dGUyPXJlYWRDb250aW51YXRpb25CeXRlKCksYnl0ZTM9cmVhZENvbnRpbnVhdGlvbkJ5dGUoKSxjb2RlUG9pbnQ9KDE1JmJ5dGUxKTw8MTJ8Ynl0ZTI8PDZ8Ynl0ZTMsY29kZVBvaW50Pj0yMDQ4KXJldHVybiBjb2RlUG9pbnQ7dGhyb3cgRXJyb3IoIkludmFsaWQgY29udGludWF0aW9uIGJ5dGUiKX1pZigyNDA9PSgyNDgmYnl0ZTEpJiYoYnl0ZTI9cmVhZENvbnRpbnVhdGlvbkJ5dGUoKSxieXRlMz1yZWFkQ29udGludWF0aW9uQnl0ZSgpLGJ5dGU0PXJlYWRDb250aW51YXRpb25CeXRlKCksY29kZVBvaW50PSgxNSZieXRlMSk8PDE4fGJ5dGUyPDwxMnxieXRlMzw8NnxieXRlNCxjb2RlUG9pbnQ+PTY1NTM2JiYxMTE0MTExPj1jb2RlUG9pbnQpKXJldHVybiBjb2RlUG9pbnQ7dGhyb3cgRXJyb3IoIkludmFsaWQgVVRGLTggZGV0ZWN0ZWQiKX1mdW5jdGlvbiB1dGY4ZGVjb2RlKGJ5dGVTdHJpbmcpe2J5dGVBcnJheT11Y3MyZGVjb2RlKGJ5dGVTdHJpbmcpLGJ5dGVDb3VudD1ieXRlQXJyYXkubGVuZ3RoLGJ5dGVJbmRleD0wO2Zvcih2YXIgdG1wLGNvZGVQb2ludHM9W107KHRtcD1kZWNvZGVTeW1ib2woKSkhPT0hMTspY29kZVBvaW50cy5wdXNoKHRtcCk7cmV0dXJuIHVjczJlbmNvZGUoY29kZVBvaW50cyl9dmFyIGZyZWVFeHBvcnRzPSJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyxmcmVlTW9kdWxlPSJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJm1vZHVsZS5leHBvcnRzPT1mcmVlRXhwb3J0cyYmbW9kdWxlLGZyZWVHbG9iYWw9Im9iamVjdCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbDsoZnJlZUdsb2JhbC5nbG9iYWw9PT1mcmVlR2xvYmFsfHxmcmVlR2xvYmFsLndpbmRvdz09PWZyZWVHbG9iYWwpJiYocm9vdD1mcmVlR2xvYmFsKTt2YXIgYnl0ZUFycmF5LGJ5dGVDb3VudCxieXRlSW5kZXgsc3RyaW5nRnJvbUNoYXJDb2RlPVN0cmluZy5mcm9tQ2hhckNvZGUsdXRmOD17dmVyc2lvbjoiMi4wLjAiLGVuY29kZTp1dGY4ZW5jb2RlLGRlY29kZTp1dGY4ZGVjb2RlfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiYib2JqZWN0Ij09dHlwZW9mIGRlZmluZS5hbWQmJmRlZmluZS5hbWQpZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIHV0Zjh9KTtlbHNlIGlmKGZyZWVFeHBvcnRzJiYhZnJlZUV4cG9ydHMubm9kZVR5cGUpaWYoZnJlZU1vZHVsZSlmcmVlTW9kdWxlLmV4cG9ydHM9dXRmODtlbHNle3ZhciBvYmplY3Q9e30saGFzT3duUHJvcGVydHk9b2JqZWN0Lmhhc093blByb3BlcnR5O2Zvcih2YXIga2V5IGluIHV0ZjgpaGFzT3duUHJvcGVydHkuY2FsbCh1dGY4LGtleSkmJihmcmVlRXhwb3J0c1trZXldPXV0Zjhba2V5XSl9ZWxzZSByb290LnV0Zjg9dXRmOH0odGhpcyl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIHJ2YWxpZGNoYXJzPS9eW1xdLDp7fVxzXSokLyxydmFsaWRlc2NhcGU9L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyxydmFsaWR0b2tlbnM9LyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLHJ2YWxpZGJyYWNlcz0vKD86Xnw6fCwpKD86XHMqXFspKy9nLHJ0cmltTGVmdD0vXlxzKy8scnRyaW1SaWdodD0vXHMrJC87bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZGF0YSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBkYXRhJiZkYXRhPyhkYXRhPWRhdGEucmVwbGFjZShydHJpbUxlZnQsIiIpLnJlcGxhY2UocnRyaW1SaWdodCwiIiksZ2xvYmFsLkpTT04mJkpTT04ucGFyc2U/SlNPTi5wYXJzZShkYXRhKTpydmFsaWRjaGFycy50ZXN0KGRhdGEucmVwbGFjZShydmFsaWRlc2NhcGUsIkAiKS5yZXBsYWNlKHJ2YWxpZHRva2VucywiXSIpLnJlcGxhY2UocnZhbGlkYnJhY2VzLCIiKSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitkYXRhKSgpOnZvaWQgMCk6bnVsbH19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtleHBvcnRzLmVuY29kZT1mdW5jdGlvbihvYmope3ZhciBzdHI9IiI7Zm9yKHZhciBpIGluIG9iailvYmouaGFzT3duUHJvcGVydHkoaSkmJihzdHIubGVuZ3RoJiYoc3RyKz0iJiIpLHN0cis9ZW5jb2RlVVJJQ29tcG9uZW50KGkpKyI9IitlbmNvZGVVUklDb21wb25lbnQob2JqW2ldKSk7cmV0dXJuIHN0cn0sZXhwb3J0cy5kZWNvZGU9ZnVuY3Rpb24ocXMpe2Zvcih2YXIgcXJ5PXt9LHBhaXJzPXFzLnNwbGl0KCImIiksaT0wLGw9cGFpcnMubGVuZ3RoO2w+aTtpKyspe3ZhciBwYWlyPXBhaXJzW2ldLnNwbGl0KCI9Iik7cXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV09ZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pfXJldHVybiBxcnl9fSx7fV0sMzA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgcmU9L14oPzooPyFbXjpAXSs6W146QFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XC9cLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oKD86W2EtZjAtOV17MCw0fTopezIsN31bYS1mMC05XXswLDR9fFteOlwvPyNdKikoPzo6KFxkKikpPykoKChcLyg/OltePyNdKD8hW14/I1wvXSpcLltePyNcLy5dKyg/Ols/I118JCkpKSpcLz8pPyhbXj8jXC9dKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8scGFydHM9WyJzb3VyY2UiLCJwcm90b2NvbCIsImF1dGhvcml0eSIsInVzZXJJbmZvIiwidXNlciIsInBhc3N3b3JkIiwiaG9zdCIsInBvcnQiLCJyZWxhdGl2ZSIsInBhdGgiLCJkaXJlY3RvcnkiLCJmaWxlIiwicXVlcnkiLCJhbmNob3IiXTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihzdHIpe3ZhciBzcmM9c3RyLGI9c3RyLmluZGV4T2YoIlsiKSxlPXN0ci5pbmRleE9mKCJdIik7LTEhPWImJi0xIT1lJiYoc3RyPXN0ci5zdWJzdHJpbmcoMCxiKStzdHIuc3Vic3RyaW5nKGIsZSkucmVwbGFjZSgvOi9nLCI7Iikrc3RyLnN1YnN0cmluZyhlLHN0ci5sZW5ndGgpKTtmb3IodmFyIG09cmUuZXhlYyhzdHJ8fCIiKSx1cmk9e30saT0xNDtpLS07KXVyaVtwYXJ0c1tpXV09bVtpXXx8IiI7cmV0dXJuLTEhPWImJi0xIT1lJiYodXJpLnNvdXJjZT1zcmMsdXJpLmhvc3Q9dXJpLmhvc3Quc3Vic3RyaW5nKDEsdXJpLmhvc3QubGVuZ3RoLTEpLnJlcGxhY2UoLzsvZywiOiIpLHVyaS5hdXRob3JpdHk9dXJpLmF1dGhvcml0eS5yZXBsYWNlKCJbIiwiIikucmVwbGFjZSgiXSIsIiIpLnJlcGxhY2UoLzsvZywiOiIpLHVyaS5pcHY2dXJpPSEwKSx1cml9fSx7fV0sMzE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXtmdW5jdGlvbiB3cyh1cmkscHJvdG9jb2xzKXt2YXIgaW5zdGFuY2U7cmV0dXJuIGluc3RhbmNlPXByb3RvY29scz9uZXcgV2ViU29ja2V0KHVyaSxwcm90b2NvbHMpOm5ldyBXZWJTb2NrZXQodXJpKX12YXIgZ2xvYmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCksV2ViU29ja2V0PWdsb2JhbC5XZWJTb2NrZXR8fGdsb2JhbC5Nb3pXZWJTb2NrZXQ7bW9kdWxlLmV4cG9ydHM9V2ViU29ja2V0P3dzOm51bGwsV2ViU29ja2V0JiYod3MucHJvdG90eXBlPVdlYlNvY2tldC5wcm90b3R5cGUpfSx7fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXsoZnVuY3Rpb24oZ2xvYmFsKXtmdW5jdGlvbiBoYXNCaW5hcnkoZGF0YSl7ZnVuY3Rpb24gX2hhc0JpbmFyeShvYmope2lmKCFvYmopcmV0dXJuITE7aWYoZ2xvYmFsLkJ1ZmZlciYmZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlcihvYmopfHxnbG9iYWwuQXJyYXlCdWZmZXImJm9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxnbG9iYWwuQmxvYiYmb2JqIGluc3RhbmNlb2YgQmxvYnx8Z2xvYmFsLkZpbGUmJm9iaiBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuITA7aWYoaXNBcnJheShvYmopKXtmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKWlmKF9oYXNCaW5hcnkob2JqW2ldKSlyZXR1cm4hMH1lbHNlIGlmKG9iaiYmIm9iamVjdCI9PXR5cGVvZiBvYmope29iai50b0pTT04mJihvYmo9b2JqLnRvSlNPTigpKTtmb3IodmFyIGtleSBpbiBvYmopaWYob2JqLmhhc093blByb3BlcnR5KGtleSkmJl9oYXNCaW5hcnkob2JqW2tleV0pKXJldHVybiEwfXJldHVybiExfXJldHVybiBfaGFzQmluYXJ5KGRhdGEpfXZhciBpc0FycmF5PV9kZXJlcV8oImlzYXJyYXkiKTttb2R1bGUuZXhwb3J0cz1oYXNCaW5hcnl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se2lzYXJyYXk6MzN9XSwzMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGFycil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycil9fSx7fV0sMzQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXt2YXIgZ2xvYmFsPV9kZXJlcV8oImdsb2JhbCIpO3RyeXttb2R1bGUuZXhwb3J0cz0iWE1MSHR0cFJlcXVlc3QiaW4gZ2xvYmFsJiYid2l0aENyZWRlbnRpYWxzImluIG5ldyBnbG9iYWwuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZXJyKXttb2R1bGUuZXhwb3J0cz0hMX19LHtnbG9iYWw6MzV9XSwzNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl9LHt9XSwzNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe3ZhciBpbmRleE9mPVtdLmluZGV4T2Y7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYXJyLG9iail7aWYoaW5kZXhPZilyZXR1cm4gYXJyLmluZGV4T2Yob2JqKTsKZm9yKHZhciBpPTA7aTxhcnIubGVuZ3RoOysraSlpZihhcnJbaV09PT1vYmopcmV0dXJuIGk7cmV0dXJuLTF9fSx7fV0sMzc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe3ZhciBoYXM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtleHBvcnRzLmtleXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKG9iail7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKWhhcy5jYWxsKG9iaixrZXkpJiZrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c30sZXhwb3J0cy52YWx1ZXM9ZnVuY3Rpb24ob2JqKXt2YXIgdmFscz1bXTtmb3IodmFyIGtleSBpbiBvYmopaGFzLmNhbGwob2JqLGtleSkmJnZhbHMucHVzaChvYmpba2V5XSk7cmV0dXJuIHZhbHN9LGV4cG9ydHMubWVyZ2U9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGtleSBpbiBiKWhhcy5jYWxsKGIsa2V5KSYmKGFba2V5XT1iW2tleV0pO3JldHVybiBhfSxleHBvcnRzLmxlbmd0aD1mdW5jdGlvbihvYmope3JldHVybiBleHBvcnRzLmtleXMob2JqKS5sZW5ndGh9LGV4cG9ydHMuaXNFbXB0eT1mdW5jdGlvbihvYmope3JldHVybiAwPT1leHBvcnRzLmxlbmd0aChvYmopfX0se31dLDM4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7dmFyIHJlPS9eKD86KD8hW146QF0rOlteOkBcL10qQCkoaHR0cHxodHRwc3x3c3x3c3MpOlwvXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLHBhcnRzPVsic291cmNlIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJ1c2VySW5mbyIsInVzZXIiLCJwYXNzd29yZCIsImhvc3QiLCJwb3J0IiwicmVsYXRpdmUiLCJwYXRoIiwiZGlyZWN0b3J5IiwiZmlsZSIsInF1ZXJ5IiwiYW5jaG9yIl07bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oc3RyKXtmb3IodmFyIG09cmUuZXhlYyhzdHJ8fCIiKSx1cmk9e30saT0xNDtpLS07KXVyaVtwYXJ0c1tpXV09bVtpXXx8IiI7cmV0dXJuIHVyaX19LHt9XSwzOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIGlzQXJyYXk9X2RlcmVxXygiaXNhcnJheSIpLGlzQnVmPV9kZXJlcV8oIi4vaXMtYnVmZmVyIik7ZXhwb3J0cy5kZWNvbnN0cnVjdFBhY2tldD1mdW5jdGlvbihwYWNrZXQpe2Z1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhKXtpZighZGF0YSlyZXR1cm4gZGF0YTtpZihpc0J1ZihkYXRhKSl7dmFyIHBsYWNlaG9sZGVyPXtfcGxhY2Vob2xkZXI6ITAsbnVtOmJ1ZmZlcnMubGVuZ3RofTtyZXR1cm4gYnVmZmVycy5wdXNoKGRhdGEpLHBsYWNlaG9sZGVyfWlmKGlzQXJyYXkoZGF0YSkpe2Zvcih2YXIgbmV3RGF0YT1uZXcgQXJyYXkoZGF0YS5sZW5ndGgpLGk9MDtpPGRhdGEubGVuZ3RoO2krKyluZXdEYXRhW2ldPV9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldKTtyZXR1cm4gbmV3RGF0YX1pZigib2JqZWN0Ij09dHlwZW9mIGRhdGEmJiEoZGF0YSBpbnN0YW5jZW9mIERhdGUpKXt2YXIgbmV3RGF0YT17fTtmb3IodmFyIGtleSBpbiBkYXRhKW5ld0RhdGFba2V5XT1fZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldKTtyZXR1cm4gbmV3RGF0YX1yZXR1cm4gZGF0YX12YXIgYnVmZmVycz1bXSxwYWNrZXREYXRhPXBhY2tldC5kYXRhLHBhY2s9cGFja2V0O3JldHVybiBwYWNrLmRhdGE9X2RlY29uc3RydWN0UGFja2V0KHBhY2tldERhdGEpLHBhY2suYXR0YWNobWVudHM9YnVmZmVycy5sZW5ndGgse3BhY2tldDpwYWNrLGJ1ZmZlcnM6YnVmZmVyc319LGV4cG9ydHMucmVjb25zdHJ1Y3RQYWNrZXQ9ZnVuY3Rpb24ocGFja2V0LGJ1ZmZlcnMpe2Z1bmN0aW9uIF9yZWNvbnN0cnVjdFBhY2tldChkYXRhKXtpZihkYXRhJiZkYXRhLl9wbGFjZWhvbGRlcil7dmFyIGJ1Zj1idWZmZXJzW2RhdGEubnVtXTtyZXR1cm4gYnVmfWlmKGlzQXJyYXkoZGF0YSkpe2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKWRhdGFbaV09X3JlY29uc3RydWN0UGFja2V0KGRhdGFbaV0pO3JldHVybiBkYXRhfWlmKGRhdGEmJiJvYmplY3QiPT10eXBlb2YgZGF0YSl7Zm9yKHZhciBrZXkgaW4gZGF0YSlkYXRhW2tleV09X3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSk7cmV0dXJuIGRhdGF9cmV0dXJuIGRhdGF9cmV0dXJuIHBhY2tldC5kYXRhPV9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSkscGFja2V0LmF0dGFjaG1lbnRzPXZvaWQgMCxwYWNrZXR9LGV4cG9ydHMucmVtb3ZlQmxvYnM9ZnVuY3Rpb24oZGF0YSxjYWxsYmFjayl7ZnVuY3Rpb24gX3JlbW92ZUJsb2JzKG9iaixjdXJLZXksY29udGFpbmluZ09iamVjdCl7aWYoIW9iailyZXR1cm4gb2JqO2lmKGdsb2JhbC5CbG9iJiZvYmogaW5zdGFuY2VvZiBCbG9ifHxnbG9iYWwuRmlsZSYmb2JqIGluc3RhbmNlb2YgRmlsZSl7cGVuZGluZ0Jsb2JzKys7dmFyIGZpbGVSZWFkZXI9bmV3IEZpbGVSZWFkZXI7ZmlsZVJlYWRlci5vbmxvYWQ9ZnVuY3Rpb24oKXtjb250YWluaW5nT2JqZWN0P2NvbnRhaW5pbmdPYmplY3RbY3VyS2V5XT10aGlzLnJlc3VsdDpibG9ibGVzc0RhdGE9dGhpcy5yZXN1bHQsLS1wZW5kaW5nQmxvYnN8fGNhbGxiYWNrKGJsb2JsZXNzRGF0YSl9LGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIob2JqKX1lbHNlIGlmKGlzQXJyYXkob2JqKSlmb3IodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKV9yZW1vdmVCbG9icyhvYmpbaV0saSxvYmopO2Vsc2UgaWYob2JqJiYib2JqZWN0Ij09dHlwZW9mIG9iaiYmIWlzQnVmKG9iaikpZm9yKHZhciBrZXkgaW4gb2JqKV9yZW1vdmVCbG9icyhvYmpba2V5XSxrZXksb2JqKX12YXIgcGVuZGluZ0Jsb2JzPTAsYmxvYmxlc3NEYXRhPWRhdGE7X3JlbW92ZUJsb2JzKGJsb2JsZXNzRGF0YSkscGVuZGluZ0Jsb2JzfHxjYWxsYmFjayhibG9ibGVzc0RhdGEpfX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vaXMtYnVmZmVyIjo0MSxpc2FycmF5OjQyfV0sNDA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIEVuY29kZXIoKXt9ZnVuY3Rpb24gZW5jb2RlQXNTdHJpbmcob2JqKXt2YXIgc3RyPSIiLG5zcD0hMTtyZXR1cm4gc3RyKz1vYmoudHlwZSwoZXhwb3J0cy5CSU5BUllfRVZFTlQ9PW9iai50eXBlfHxleHBvcnRzLkJJTkFSWV9BQ0s9PW9iai50eXBlKSYmKHN0cis9b2JqLmF0dGFjaG1lbnRzLHN0cis9Ii0iKSxvYmoubnNwJiYiLyIhPW9iai5uc3AmJihuc3A9ITAsc3RyKz1vYmoubnNwKSxudWxsIT1vYmouaWQmJihuc3AmJihzdHIrPSIsIixuc3A9ITEpLHN0cis9b2JqLmlkKSxudWxsIT1vYmouZGF0YSYmKG5zcCYmKHN0cis9IiwiKSxzdHIrPWpzb24uc3RyaW5naWZ5KG9iai5kYXRhKSksZGVidWcoImVuY29kZWQgJWogYXMgJXMiLG9iaixzdHIpLHN0cn1mdW5jdGlvbiBlbmNvZGVBc0JpbmFyeShvYmosY2FsbGJhY2spe2Z1bmN0aW9uIHdyaXRlRW5jb2RpbmcoYmxvYmxlc3NEYXRhKXt2YXIgZGVjb25zdHJ1Y3Rpb249YmluYXJ5LmRlY29uc3RydWN0UGFja2V0KGJsb2JsZXNzRGF0YSkscGFjaz1lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpLGJ1ZmZlcnM9ZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztidWZmZXJzLnVuc2hpZnQocGFjayksY2FsbGJhY2soYnVmZmVycyl9YmluYXJ5LnJlbW92ZUJsb2JzKG9iaix3cml0ZUVuY29kaW5nKX1mdW5jdGlvbiBEZWNvZGVyKCl7dGhpcy5yZWNvbnN0cnVjdG9yPW51bGx9ZnVuY3Rpb24gZGVjb2RlU3RyaW5nKHN0cil7dmFyIHA9e30saT0wO2lmKHAudHlwZT1OdW1iZXIoc3RyLmNoYXJBdCgwKSksbnVsbD09ZXhwb3J0cy50eXBlc1twLnR5cGVdKXJldHVybiBlcnJvcigpO2lmKGV4cG9ydHMuQklOQVJZX0VWRU5UPT1wLnR5cGV8fGV4cG9ydHMuQklOQVJZX0FDSz09cC50eXBlKXtmb3IocC5hdHRhY2htZW50cz0iIjsiLSIhPXN0ci5jaGFyQXQoKytpKTspcC5hdHRhY2htZW50cys9c3RyLmNoYXJBdChpKTtwLmF0dGFjaG1lbnRzPU51bWJlcihwLmF0dGFjaG1lbnRzKX1pZigiLyI9PXN0ci5jaGFyQXQoaSsxKSlmb3IocC5uc3A9IiI7KytpOyl7dmFyIGM9c3RyLmNoYXJBdChpKTtpZigiLCI9PWMpYnJlYWs7aWYocC5uc3ArPWMsaSsxPT1zdHIubGVuZ3RoKWJyZWFrfWVsc2UgcC5uc3A9Ii8iO3ZhciBuZXh0PXN0ci5jaGFyQXQoaSsxKTtpZigiIiE9bmV4dCYmTnVtYmVyKG5leHQpPT1uZXh0KXtmb3IocC5pZD0iIjsrK2k7KXt2YXIgYz1zdHIuY2hhckF0KGkpO2lmKG51bGw9PWN8fE51bWJlcihjKSE9Yyl7LS1pO2JyZWFrfWlmKHAuaWQrPXN0ci5jaGFyQXQoaSksaSsxPT1zdHIubGVuZ3RoKWJyZWFrfXAuaWQ9TnVtYmVyKHAuaWQpfWlmKHN0ci5jaGFyQXQoKytpKSl0cnl7cC5kYXRhPWpzb24ucGFyc2Uoc3RyLnN1YnN0cihpKSl9Y2F0Y2goZSl7cmV0dXJuIGVycm9yKCl9cmV0dXJuIGRlYnVnKCJkZWNvZGVkICVzIGFzICVqIixzdHIscCkscH1mdW5jdGlvbiBCaW5hcnlSZWNvbnN0cnVjdG9yKHBhY2tldCl7dGhpcy5yZWNvblBhY2s9cGFja2V0LHRoaXMuYnVmZmVycz1bXX1mdW5jdGlvbiBlcnJvcigpe3JldHVybnt0eXBlOmV4cG9ydHMuRVJST1IsZGF0YToicGFyc2VyIGVycm9yIn19dmFyIGRlYnVnPV9kZXJlcV8oImRlYnVnIikoInNvY2tldC5pby1wYXJzZXIiKSxqc29uPV9kZXJlcV8oImpzb24zIiksRW1pdHRlcj0oX2RlcmVxXygiaXNhcnJheSIpLF9kZXJlcV8oImNvbXBvbmVudC1lbWl0dGVyIikpLGJpbmFyeT1fZGVyZXFfKCIuL2JpbmFyeSIpLGlzQnVmPV9kZXJlcV8oIi4vaXMtYnVmZmVyIik7ZXhwb3J0cy5wcm90b2NvbD00LGV4cG9ydHMudHlwZXM9WyJDT05ORUNUIiwiRElTQ09OTkVDVCIsIkVWRU5UIiwiQklOQVJZX0VWRU5UIiwiQUNLIiwiQklOQVJZX0FDSyIsIkVSUk9SIl0sZXhwb3J0cy5DT05ORUNUPTAsZXhwb3J0cy5ESVNDT05ORUNUPTEsZXhwb3J0cy5FVkVOVD0yLGV4cG9ydHMuQUNLPTMsZXhwb3J0cy5FUlJPUj00LGV4cG9ydHMuQklOQVJZX0VWRU5UPTUsZXhwb3J0cy5CSU5BUllfQUNLPTYsZXhwb3J0cy5FbmNvZGVyPUVuY29kZXIsZXhwb3J0cy5EZWNvZGVyPURlY29kZXIsRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKG9iaixjYWxsYmFjayl7aWYoZGVidWcoImVuY29kaW5nIHBhY2tldCAlaiIsb2JqKSxleHBvcnRzLkJJTkFSWV9FVkVOVD09b2JqLnR5cGV8fGV4cG9ydHMuQklOQVJZX0FDSz09b2JqLnR5cGUpZW5jb2RlQXNCaW5hcnkob2JqLGNhbGxiYWNrKTtlbHNle3ZhciBlbmNvZGluZz1lbmNvZGVBc1N0cmluZyhvYmopO2NhbGxiYWNrKFtlbmNvZGluZ10pfX0sRW1pdHRlcihEZWNvZGVyLnByb3RvdHlwZSksRGVjb2Rlci5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKG9iail7dmFyIHBhY2tldDtpZigic3RyaW5nIj09dHlwZW9mIG9iailwYWNrZXQ9ZGVjb2RlU3RyaW5nKG9iaiksZXhwb3J0cy5CSU5BUllfRVZFTlQ9PXBhY2tldC50eXBlfHxleHBvcnRzLkJJTkFSWV9BQ0s9PXBhY2tldC50eXBlPyh0aGlzLnJlY29uc3RydWN0b3I9bmV3IEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KSwwPT10aGlzLnJlY29uc3RydWN0b3IucmVjb25QYWNrLmF0dGFjaG1lbnRzJiZ0aGlzLmVtaXQoImRlY29kZWQiLHBhY2tldCkpOnRoaXMuZW1pdCgiZGVjb2RlZCIscGFja2V0KTtlbHNle2lmKCFpc0J1ZihvYmopJiYhb2JqLmJhc2U2NCl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gdHlwZTogIitvYmopO2lmKCF0aGlzLnJlY29uc3RydWN0b3IpdGhyb3cgbmV3IEVycm9yKCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXQiKTtwYWNrZXQ9dGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKG9iaikscGFja2V0JiYodGhpcy5yZWNvbnN0cnVjdG9yPW51bGwsdGhpcy5lbWl0KCJkZWNvZGVkIixwYWNrZXQpKX19LERlY29kZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlY29uc3RydWN0b3ImJnRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCl9LEJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLnRha2VCaW5hcnlEYXRhPWZ1bmN0aW9uKGJpbkRhdGEpe2lmKHRoaXMuYnVmZmVycy5wdXNoKGJpbkRhdGEpLHRoaXMuYnVmZmVycy5sZW5ndGg9PXRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKXt2YXIgcGFja2V0PWJpbmFyeS5yZWNvbnN0cnVjdFBhY2tldCh0aGlzLnJlY29uUGFjayx0aGlzLmJ1ZmZlcnMpO3JldHVybiB0aGlzLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSxwYWNrZXR9cmV0dXJuIG51bGx9LEJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb249ZnVuY3Rpb24oKXt0aGlzLnJlY29uUGFjaz1udWxsLHRoaXMuYnVmZmVycz1bXX19LHsiLi9iaW5hcnkiOjM5LCIuL2lzLWJ1ZmZlciI6NDEsImNvbXBvbmVudC1lbWl0dGVyIjo4LGRlYnVnOjksaXNhcnJheTo0Mixqc29uMzo0M31dLDQxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7KGZ1bmN0aW9uKGdsb2JhbCl7ZnVuY3Rpb24gaXNCdWYob2JqKXtyZXR1cm4gZ2xvYmFsLkJ1ZmZlciYmZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlcihvYmopfHxnbG9iYWwuQXJyYXlCdWZmZXImJm9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfW1vZHVsZS5leHBvcnRzPWlzQnVmfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw0MjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPV9kZXJlcV8oMzMpfSx7fV0sNDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyFmdW5jdGlvbih3aW5kb3cpe2Z1bmN0aW9uIGhhcyhuYW1lKXtpZihoYXNbbmFtZV0hPT11bmRlZilyZXR1cm4gaGFzW25hbWVdO3ZhciBpc1N1cHBvcnRlZDtpZigiYnVnLXN0cmluZy1jaGFyLWluZGV4Ij09bmFtZSlpc1N1cHBvcnRlZD0iYSIhPSJhIlswXTtlbHNlIGlmKCJqc29uIj09bmFtZSlpc1N1cHBvcnRlZD1oYXMoImpzb24tc3RyaW5naWZ5IikmJmhhcygianNvbi1wYXJzZSIpO2Vsc2V7dmFyIHZhbHVlLHNlcmlhbGl6ZWQ9J3siYSI6WzEsdHJ1ZSxmYWxzZSxudWxsLCJcXHUwMDAwXFxiXFxuXFxmXFxyXFx0Il19JztpZigianNvbi1zdHJpbmdpZnkiPT1uYW1lKXt2YXIgc3RyaW5naWZ5PUpTT04zLnN0cmluZ2lmeSxzdHJpbmdpZnlTdXBwb3J0ZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHN0cmluZ2lmeSYmaXNFeHRlbmRlZDtpZihzdHJpbmdpZnlTdXBwb3J0ZWQpeyh2YWx1ZT1mdW5jdGlvbigpe3JldHVybiAxfSkudG9KU09OPXZhbHVlO3RyeXtzdHJpbmdpZnlTdXBwb3J0ZWQ9IjAiPT09c3RyaW5naWZ5KDApJiYiMCI9PT1zdHJpbmdpZnkobmV3IE51bWJlcikmJiciIic9PXN0cmluZ2lmeShuZXcgU3RyaW5nKSYmc3RyaW5naWZ5KGdldENsYXNzKT09PXVuZGVmJiZzdHJpbmdpZnkodW5kZWYpPT09dW5kZWYmJnN0cmluZ2lmeSgpPT09dW5kZWYmJiIxIj09PXN0cmluZ2lmeSh2YWx1ZSkmJiJbMV0iPT1zdHJpbmdpZnkoW3ZhbHVlXSkmJiJbbnVsbF0iPT1zdHJpbmdpZnkoW3VuZGVmXSkmJiJudWxsIj09c3RyaW5naWZ5KG51bGwpJiYiW251bGwsbnVsbCxudWxsXSI9PXN0cmluZ2lmeShbdW5kZWYsZ2V0Q2xhc3MsbnVsbF0pJiZzdHJpbmdpZnkoe2E6W3ZhbHVlLCEwLCExLG51bGwsIlx4MDBcYlxuXGZccgkiXX0pPT1zZXJpYWxpemVkJiYiMSI9PT1zdHJpbmdpZnkobnVsbCx2YWx1ZSkmJiJbXG4gMSxcbiAyXG5dIj09c3RyaW5naWZ5KFsxLDJdLG51bGwsMSkmJiciLTI3MTgyMS0wNC0yMFQwMDowMDowMC4wMDBaIic9PXN0cmluZ2lmeShuZXcgRGF0ZSgtODY0ZTEzKSkmJiciKzI3NTc2MC0wOS0xM1QwMDowMDowMC4wMDBaIic9PXN0cmluZ2lmeShuZXcgRGF0ZSg4NjRlMTMpKSYmJyItMDAwMDAxLTAxLTAxVDAwOjAwOjAwLjAwMFoiJz09c3RyaW5naWZ5KG5ldyBEYXRlKC02MjE5ODc1NTJlNSkpJiYnIjE5NjktMTItMzFUMjM6NTk6NTkuOTk5WiInPT1zdHJpbmdpZnkobmV3IERhdGUoLTEpKX1jYXRjaChleGNlcHRpb24pe3N0cmluZ2lmeVN1cHBvcnRlZD0hMX19aXNTdXBwb3J0ZWQ9c3RyaW5naWZ5U3VwcG9ydGVkfWlmKCJqc29uLXBhcnNlIj09bmFtZSl7dmFyIHBhcnNlPUpTT04zLnBhcnNlO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBwYXJzZSl0cnl7aWYoMD09PXBhcnNlKCIwIikmJiFwYXJzZSghMSkpe3ZhbHVlPXBhcnNlKHNlcmlhbGl6ZWQpO3ZhciBwYXJzZVN1cHBvcnRlZD01PT12YWx1ZS5hLmxlbmd0aCYmMT09PXZhbHVlLmFbMF07aWYocGFyc2VTdXBwb3J0ZWQpe3RyeXtwYXJzZVN1cHBvcnRlZD0hcGFyc2UoJyIJIicpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKHBhcnNlU3VwcG9ydGVkKXRyeXtwYXJzZVN1cHBvcnRlZD0xIT09cGFyc2UoIjAxIil9Y2F0Y2goZXhjZXB0aW9uKXt9aWYocGFyc2VTdXBwb3J0ZWQpdHJ5e3BhcnNlU3VwcG9ydGVkPTEhPT1wYXJzZSgiMS4iKX1jYXRjaChleGNlcHRpb24pe319fX1jYXRjaChleGNlcHRpb24pe3BhcnNlU3VwcG9ydGVkPSExfWlzU3VwcG9ydGVkPXBhcnNlU3VwcG9ydGVkfX1yZXR1cm4gaGFzW25hbWVdPSEhaXNTdXBwb3J0ZWR9dmFyIGlzUHJvcGVydHksZm9yRWFjaCx1bmRlZixnZXRDbGFzcz17fS50b1N0cmluZyxpc0xvYWRlcj0iZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kLG5hdGl2ZUpTT049Im9iamVjdCI9PXR5cGVvZiBKU09OJiZKU09OLEpTT04zPSJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHM7SlNPTjMmJm5hdGl2ZUpTT04/KEpTT04zLnN0cmluZ2lmeT1uYXRpdmVKU09OLnN0cmluZ2lmeSxKU09OMy5wYXJzZT1uYXRpdmVKU09OLnBhcnNlKTpKU09OMz13aW5kb3cuSlNPTj1uYXRpdmVKU09OfHx7fTt2YXIgaXNFeHRlbmRlZD1uZXcgRGF0ZSgtMHhjNzgyYjViODAwY2VjKTt0cnl7aXNFeHRlbmRlZD0tMTA5MjUyPT1pc0V4dGVuZGVkLmdldFVUQ0Z1bGxZZWFyKCkmJjA9PT1pc0V4dGVuZGVkLmdldFVUQ01vbnRoKCkmJjE9PT1pc0V4dGVuZGVkLmdldFVUQ0RhdGUoKSYmMTA9PWlzRXh0ZW5kZWQuZ2V0VVRDSG91cnMoKSYmMzc9PWlzRXh0ZW5kZWQuZ2V0VVRDTWludXRlcygpJiY2PT1pc0V4dGVuZGVkLmdldFVUQ1NlY29uZHMoKSYmNzA4PT1pc0V4dGVuZGVkLmdldFVUQ01pbGxpc2Vjb25kcygpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKCFoYXMoImpzb24iKSl7dmFyIGZ1bmN0aW9uQ2xhc3M9IltvYmplY3QgRnVuY3Rpb25dIixkYXRlQ2xhc3M9IltvYmplY3QgRGF0ZV0iLG51bWJlckNsYXNzPSJbb2JqZWN0IE51bWJlcl0iLHN0cmluZ0NsYXNzPSJbb2JqZWN0IFN0cmluZ10iLGFycmF5Q2xhc3M9IltvYmplY3QgQXJyYXldIixib29sZWFuQ2xhc3M9IltvYmplY3QgQm9vbGVhbl0iLGNoYXJJbmRleEJ1Z2d5PWhhcygiYnVnLXN0cmluZy1jaGFyLWluZGV4Iik7aWYoIWlzRXh0ZW5kZWQpdmFyIGZsb29yPU1hdGguZmxvb3IsTW9udGhzPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdLGdldERheT1mdW5jdGlvbih5ZWFyLG1vbnRoKXtyZXR1cm4gTW9udGhzW21vbnRoXSszNjUqKHllYXItMTk3MCkrZmxvb3IoKHllYXItMTk2OSsobW9udGg9Kyhtb250aD4xKSkpLzQpLWZsb29yKCh5ZWFyLTE5MDErbW9udGgpLzEwMCkrZmxvb3IoKHllYXItMTYwMSttb250aCkvNDAwKX07KGlzUHJvcGVydHk9e30uaGFzT3duUHJvcGVydHkpfHwoaXNQcm9wZXJ0eT1mdW5jdGlvbihwcm9wZXJ0eSl7dmFyIGNvbnN0cnVjdG9yLG1lbWJlcnM9e307cmV0dXJuKG1lbWJlcnMuX19wcm90b19fPW51bGwsbWVtYmVycy5fX3Byb3RvX189e3RvU3RyaW5nOjF9LG1lbWJlcnMpLnRvU3RyaW5nIT1nZXRDbGFzcz9pc1Byb3BlcnR5PWZ1bmN0aW9uKHByb3BlcnR5KXt2YXIgb3JpZ2luYWw9dGhpcy5fX3Byb3RvX18scmVzdWx0PXByb3BlcnR5IGluKHRoaXMuX19wcm90b19fPW51bGwsdGhpcyk7cmV0dXJuIHRoaXMuX19wcm90b19fPW9yaWdpbmFsLHJlc3VsdH06KGNvbnN0cnVjdG9yPW1lbWJlcnMuY29uc3RydWN0b3IsaXNQcm9wZXJ0eT1mdW5jdGlvbihwcm9wZXJ0eSl7dmFyIHBhcmVudD0odGhpcy5jb25zdHJ1Y3Rvcnx8Y29uc3RydWN0b3IpLnByb3RvdHlwZTtyZXR1cm4gcHJvcGVydHkgaW4gdGhpcyYmIShwcm9wZXJ0eSBpbiBwYXJlbnQmJnRoaXNbcHJvcGVydHldPT09cGFyZW50W3Byb3BlcnR5XSl9KSxtZW1iZXJzPW51bGwsaXNQcm9wZXJ0eS5jYWxsKHRoaXMscHJvcGVydHkpfSk7dmFyIFByaW1pdGl2ZVR5cGVzPXsiYm9vbGVhbiI6MSxudW1iZXI6MSxzdHJpbmc6MSx1bmRlZmluZWQ6MX0saXNIb3N0VHlwZT1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3ZhciB0eXBlPXR5cGVvZiBvYmplY3RbcHJvcGVydHldO3JldHVybiJvYmplY3QiPT10eXBlPyEhb2JqZWN0W3Byb3BlcnR5XTohUHJpbWl0aXZlVHlwZXNbdHlwZV19O2lmKGZvckVhY2g9ZnVuY3Rpb24ob2JqZWN0LGNhbGxiYWNrKXt2YXIgUHJvcGVydGllcyxtZW1iZXJzLHByb3BlcnR5LHNpemU9MDsoUHJvcGVydGllcz1mdW5jdGlvbigpe3RoaXMudmFsdWVPZj0wfSkucHJvdG90eXBlLnZhbHVlT2Y9MCxtZW1iZXJzPW5ldyBQcm9wZXJ0aWVzO2Zvcihwcm9wZXJ0eSBpbiBtZW1iZXJzKWlzUHJvcGVydHkuY2FsbChtZW1iZXJzLHByb3BlcnR5KSYmc2l6ZSsrO3JldHVybiBQcm9wZXJ0aWVzPW1lbWJlcnM9bnVsbCxzaXplP2ZvckVhY2g9Mj09c2l6ZT9mdW5jdGlvbihvYmplY3QsY2FsbGJhY2spe3ZhciBwcm9wZXJ0eSxtZW1iZXJzPXt9LGlzRnVuY3Rpb249Z2V0Q2xhc3MuY2FsbChvYmplY3QpPT1mdW5jdGlvbkNsYXNzO2Zvcihwcm9wZXJ0eSBpbiBvYmplY3QpaXNGdW5jdGlvbiYmInByb3RvdHlwZSI9PXByb3BlcnR5fHxpc1Byb3BlcnR5LmNhbGwobWVtYmVycyxwcm9wZXJ0eSl8fCEobWVtYmVyc1twcm9wZXJ0eV09MSl8fCFpc1Byb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KXx8Y2FsbGJhY2socHJvcGVydHkpfTpmdW5jdGlvbihvYmplY3QsY2FsbGJhY2spe3ZhciBwcm9wZXJ0eSxpc0NvbnN0cnVjdG9yLGlzRnVuY3Rpb249Z2V0Q2xhc3MuY2FsbChvYmplY3QpPT1mdW5jdGlvbkNsYXNzO2Zvcihwcm9wZXJ0eSBpbiBvYmplY3QpaXNGdW5jdGlvbiYmInByb3RvdHlwZSI9PXByb3BlcnR5fHwhaXNQcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl8fChpc0NvbnN0cnVjdG9yPSJjb25zdHJ1Y3RvciI9PT1wcm9wZXJ0eSl8fGNhbGxiYWNrKHByb3BlcnR5KTsoaXNDb25zdHJ1Y3Rvcnx8aXNQcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eT0iY29uc3RydWN0b3IiKSkmJmNhbGxiYWNrKHByb3BlcnR5KX06KG1lbWJlcnM9WyJ2YWx1ZU9mIiwidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiaXNQcm90b3R5cGVPZiIsImhhc093blByb3BlcnR5IiwiY29uc3RydWN0b3IiXSxmb3JFYWNoPWZ1bmN0aW9uKG9iamVjdCxjYWxsYmFjayl7dmFyIHByb3BlcnR5LGxlbmd0aCxpc0Z1bmN0aW9uPWdldENsYXNzLmNhbGwob2JqZWN0KT09ZnVuY3Rpb25DbGFzcyxoYXNQcm9wZXJ0eT0haXNGdW5jdGlvbiYmImZ1bmN0aW9uIiE9dHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciYmaXNIb3N0VHlwZShvYmplY3QsImhhc093blByb3BlcnR5Iik/b2JqZWN0Lmhhc093blByb3BlcnR5OmlzUHJvcGVydHk7Zm9yKHByb3BlcnR5IGluIG9iamVjdClpc0Z1bmN0aW9uJiYicHJvdG90eXBlIj09cHJvcGVydHl8fCFoYXNQcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl8fGNhbGxiYWNrKHByb3BlcnR5KTtmb3IobGVuZ3RoPW1lbWJlcnMubGVuZ3RoO3Byb3BlcnR5PW1lbWJlcnNbLS1sZW5ndGhdO2hhc1Byb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KSYmY2FsbGJhY2socHJvcGVydHkpKTt9KSxmb3JFYWNoKG9iamVjdCxjYWxsYmFjayl9LCFoYXMoImpzb24tc3RyaW5naWZ5Iikpe3ZhciBFc2NhcGVzPXs5MjoiXFxcXCIsMzQ6J1xcIicsODoiXFxiIiwxMjoiXFxmIiwxMDoiXFxuIiwxMzoiXFxyIiw5OiJcXHQifSxsZWFkaW5nWmVyb2VzPSIwMDAwMDAiLHRvUGFkZGVkU3RyaW5nPWZ1bmN0aW9uKHdpZHRoLHZhbHVlKXtyZXR1cm4obGVhZGluZ1plcm9lcysodmFsdWV8fDApKS5zbGljZSgtd2lkdGgpfSx1bmljb2RlUHJlZml4PSJcXHUwMCIscXVvdGU9ZnVuY3Rpb24odmFsdWUpe3ZhciBzeW1ib2xzLHJlc3VsdD0nIicsaW5kZXg9MCxsZW5ndGg9dmFsdWUubGVuZ3RoLGlzTGFyZ2U9bGVuZ3RoPjEwJiZjaGFySW5kZXhCdWdneTtmb3IoaXNMYXJnZSYmKHN5bWJvbHM9dmFsdWUuc3BsaXQoIiIpKTtsZW5ndGg+aW5kZXg7aW5kZXgrKyl7dmFyIGNoYXJDb2RlPXZhbHVlLmNoYXJDb2RlQXQoaW5kZXgpO3N3aXRjaChjaGFyQ29kZSl7Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDM0OmNhc2UgOTI6cmVzdWx0Kz1Fc2NhcGVzW2NoYXJDb2RlXTticmVhaztkZWZhdWx0OmlmKDMyPmNoYXJDb2RlKXtyZXN1bHQrPXVuaWNvZGVQcmVmaXgrdG9QYWRkZWRTdHJpbmcoMixjaGFyQ29kZS50b1N0cmluZygxNikpO2JyZWFrfXJlc3VsdCs9aXNMYXJnZT9zeW1ib2xzW2luZGV4XTpjaGFySW5kZXhCdWdneT92YWx1ZS5jaGFyQXQoaW5kZXgpOnZhbHVlW2luZGV4XX19cmV0dXJuIHJlc3VsdCsnIid9LHNlcmlhbGl6ZT1mdW5jdGlvbihwcm9wZXJ0eSxvYmplY3QsY2FsbGJhY2sscHJvcGVydGllcyx3aGl0ZXNwYWNlLGluZGVudGF0aW9uLHN0YWNrKXt2YXIgdmFsdWUsY2xhc3NOYW1lLHllYXIsbW9udGgsZGF0ZSx0aW1lLGhvdXJzLG1pbnV0ZXMsc2Vjb25kcyxtaWxsaXNlY29uZHMscmVzdWx0cyxlbGVtZW50LGluZGV4LGxlbmd0aCxwcmVmaXgscmVzdWx0O3RyeXt2YWx1ZT1vYmplY3RbcHJvcGVydHldfWNhdGNoKGV4Y2VwdGlvbil7fWlmKCJvYmplY3QiPT10eXBlb2YgdmFsdWUmJnZhbHVlKWlmKGNsYXNzTmFtZT1nZXRDbGFzcy5jYWxsKHZhbHVlKSxjbGFzc05hbWUhPWRhdGVDbGFzc3x8aXNQcm9wZXJ0eS5jYWxsKHZhbHVlLCJ0b0pTT04iKSkiZnVuY3Rpb24iPT10eXBlb2YgdmFsdWUudG9KU09OJiYoY2xhc3NOYW1lIT1udW1iZXJDbGFzcyYmY2xhc3NOYW1lIT1zdHJpbmdDbGFzcyYmY2xhc3NOYW1lIT1hcnJheUNsYXNzfHxpc1Byb3BlcnR5LmNhbGwodmFsdWUsInRvSlNPTiIpKSYmKHZhbHVlPXZhbHVlLnRvSlNPTihwcm9wZXJ0eSkpO2Vsc2UgaWYodmFsdWU+LTEvMCYmMS8wPnZhbHVlKXtpZihnZXREYXkpe2ZvcihkYXRlPWZsb29yKHZhbHVlLzg2NGU1KSx5ZWFyPWZsb29yKGRhdGUvMzY1LjI0MjUpKzE5NzAtMTtnZXREYXkoeWVhcisxLDApPD1kYXRlO3llYXIrKyk7Zm9yKG1vbnRoPWZsb29yKChkYXRlLWdldERheSh5ZWFyLDApKS8zMC40Mik7Z2V0RGF5KHllYXIsbW9udGgrMSk8PWRhdGU7bW9udGgrKyk7ZGF0ZT0xK2RhdGUtZ2V0RGF5KHllYXIsbW9udGgpLHRpbWU9KHZhbHVlJTg2NGU1Kzg2NGU1KSU4NjRlNSxob3Vycz1mbG9vcih0aW1lLzM2ZTUpJTI0LG1pbnV0ZXM9Zmxvb3IodGltZS82ZTQpJTYwLHNlY29uZHM9Zmxvb3IodGltZS8xZTMpJTYwLG1pbGxpc2Vjb25kcz10aW1lJTFlM31lbHNlIHllYXI9dmFsdWUuZ2V0VVRDRnVsbFllYXIoKSxtb250aD12YWx1ZS5nZXRVVENNb250aCgpLGRhdGU9dmFsdWUuZ2V0VVRDRGF0ZSgpLGhvdXJzPXZhbHVlLmdldFVUQ0hvdXJzKCksbWludXRlcz12YWx1ZS5nZXRVVENNaW51dGVzKCksc2Vjb25kcz12YWx1ZS5nZXRVVENTZWNvbmRzKCksbWlsbGlzZWNvbmRzPXZhbHVlLmdldFVUQ01pbGxpc2Vjb25kcygpO3ZhbHVlPSgwPj15ZWFyfHx5ZWFyPj0xZTQ/KDA+eWVhcj8iLSI6IisiKSt0b1BhZGRlZFN0cmluZyg2LDA+eWVhcj8teWVhcjp5ZWFyKTp0b1BhZGRlZFN0cmluZyg0LHllYXIpKSsiLSIrdG9QYWRkZWRTdHJpbmcoMixtb250aCsxKSsiLSIrdG9QYWRkZWRTdHJpbmcoMixkYXRlKSsiVCIrdG9QYWRkZWRTdHJpbmcoMixob3VycykrIjoiK3RvUGFkZGVkU3RyaW5nKDIsbWludXRlcykrIjoiK3RvUGFkZGVkU3RyaW5nKDIsc2Vjb25kcykrIi4iK3RvUGFkZGVkU3RyaW5nKDMsbWlsbGlzZWNvbmRzKSsiWiJ9ZWxzZSB2YWx1ZT1udWxsO2lmKGNhbGxiYWNrJiYodmFsdWU9Y2FsbGJhY2suY2FsbChvYmplY3QscHJvcGVydHksdmFsdWUpKSxudWxsPT09dmFsdWUpcmV0dXJuIm51bGwiO2lmKGNsYXNzTmFtZT1nZXRDbGFzcy5jYWxsKHZhbHVlKSxjbGFzc05hbWU9PWJvb2xlYW5DbGFzcylyZXR1cm4iIit2YWx1ZTtpZihjbGFzc05hbWU9PW51bWJlckNsYXNzKXJldHVybiB2YWx1ZT4tMS8wJiYxLzA+dmFsdWU/IiIrdmFsdWU6Im51bGwiO2lmKGNsYXNzTmFtZT09c3RyaW5nQ2xhc3MpcmV0dXJuIHF1b3RlKCIiK3ZhbHVlKTtpZigib2JqZWN0Ij09dHlwZW9mIHZhbHVlKXtmb3IobGVuZ3RoPXN0YWNrLmxlbmd0aDtsZW5ndGgtLTspaWYoc3RhY2tbbGVuZ3RoXT09PXZhbHVlKXRocm93IFR5cGVFcnJvcigpO2lmKHN0YWNrLnB1c2godmFsdWUpLHJlc3VsdHM9W10scHJlZml4PWluZGVudGF0aW9uLGluZGVudGF0aW9uKz13aGl0ZXNwYWNlLGNsYXNzTmFtZT09YXJyYXlDbGFzcyl7Zm9yKGluZGV4PTAsbGVuZ3RoPXZhbHVlLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKyllbGVtZW50PXNlcmlhbGl6ZShpbmRleCx2YWx1ZSxjYWxsYmFjayxwcm9wZXJ0aWVzLHdoaXRlc3BhY2UsaW5kZW50YXRpb24sc3RhY2spLHJlc3VsdHMucHVzaChlbGVtZW50PT09dW5kZWY/Im51bGwiOmVsZW1lbnQpO3Jlc3VsdD1yZXN1bHRzLmxlbmd0aD93aGl0ZXNwYWNlPyJbXG4iK2luZGVudGF0aW9uK3Jlc3VsdHMuam9pbigiLFxuIitpbmRlbnRhdGlvbikrIlxuIitwcmVmaXgrIl0iOiJbIityZXN1bHRzLmpvaW4oIiwiKSsiXSI6IltdIn1lbHNlIGZvckVhY2gocHJvcGVydGllc3x8dmFsdWUsZnVuY3Rpb24ocHJvcGVydHkpe3ZhciBlbGVtZW50PXNlcmlhbGl6ZShwcm9wZXJ0eSx2YWx1ZSxjYWxsYmFjayxwcm9wZXJ0aWVzLHdoaXRlc3BhY2UsaW5kZW50YXRpb24sc3RhY2spO2VsZW1lbnQhPT11bmRlZiYmcmVzdWx0cy5wdXNoKHF1b3RlKHByb3BlcnR5KSsiOiIrKHdoaXRlc3BhY2U/IiAiOiIiKStlbGVtZW50KX0pLHJlc3VsdD1yZXN1bHRzLmxlbmd0aD93aGl0ZXNwYWNlPyJ7XG4iK2luZGVudGF0aW9uK3Jlc3VsdHMuam9pbigiLFxuIitpbmRlbnRhdGlvbikrIlxuIitwcmVmaXgrIn0iOiJ7IityZXN1bHRzLmpvaW4oIiwiKSsifSI6Int9IjtyZXR1cm4gc3RhY2sucG9wKCkscmVzdWx0fX07SlNPTjMuc3RyaW5naWZ5PWZ1bmN0aW9uKHNvdXJjZSxmaWx0ZXIsd2lkdGgpe3ZhciB3aGl0ZXNwYWNlLGNhbGxiYWNrLHByb3BlcnRpZXMsY2xhc3NOYW1lO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBmaWx0ZXJ8fCJvYmplY3QiPT10eXBlb2YgZmlsdGVyJiZmaWx0ZXIpaWYoKGNsYXNzTmFtZT1nZXRDbGFzcy5jYWxsKGZpbHRlcikpPT1mdW5jdGlvbkNsYXNzKWNhbGxiYWNrPWZpbHRlcjtlbHNlIGlmKGNsYXNzTmFtZT09YXJyYXlDbGFzcyl7cHJvcGVydGllcz17fTtmb3IodmFyIHZhbHVlLGluZGV4PTAsbGVuZ3RoPWZpbHRlci5sZW5ndGg7bGVuZ3RoPmluZGV4O3ZhbHVlPWZpbHRlcltpbmRleCsrXSxjbGFzc05hbWU9Z2V0Q2xhc3MuY2FsbCh2YWx1ZSksKGNsYXNzTmFtZT09c3RyaW5nQ2xhc3N8fGNsYXNzTmFtZT09bnVtYmVyQ2xhc3MpJiYocHJvcGVydGllc1t2YWx1ZV09MSkpO31pZih3aWR0aClpZigoY2xhc3NOYW1lPWdldENsYXNzLmNhbGwod2lkdGgpKT09bnVtYmVyQ2xhc3Mpe2lmKCh3aWR0aC09d2lkdGglMSk+MClmb3Iod2hpdGVzcGFjZT0iIix3aWR0aD4xMCYmKHdpZHRoPTEwKTt3aGl0ZXNwYWNlLmxlbmd0aDx3aWR0aDt3aGl0ZXNwYWNlKz0iICIpO31lbHNlIGNsYXNzTmFtZT09c3RyaW5nQ2xhc3MmJih3aGl0ZXNwYWNlPXdpZHRoLmxlbmd0aDw9MTA/d2lkdGg6d2lkdGguc2xpY2UoMCwxMCkpO3JldHVybiBzZXJpYWxpemUoIiIsKHZhbHVlPXt9LHZhbHVlWyIiXT1zb3VyY2UsdmFsdWUpLGNhbGxiYWNrLHByb3BlcnRpZXMsd2hpdGVzcGFjZSwiIixbXSl9fWlmKCFoYXMoImpzb24tcGFyc2UiKSl7dmFyIEluZGV4LFNvdXJjZSxmcm9tQ2hhckNvZGU9U3RyaW5nLmZyb21DaGFyQ29kZSxVbmVzY2FwZXM9ezkyOiJcXCIsMzQ6JyInLDQ3OiIvIiw5ODoiXGIiLDExNjoiCSIsMTEwOiJcbiIsMTAyOiJcZiIsMTE0OiJcciJ9LGFib3J0PWZ1bmN0aW9uKCl7dGhyb3cgSW5kZXg9U291cmNlPW51bGwsU3ludGF4RXJyb3IoKX0sbGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciB2YWx1ZSxiZWdpbixwb3NpdGlvbixpc1NpZ25lZCxjaGFyQ29kZSxzb3VyY2U9U291cmNlLGxlbmd0aD1zb3VyY2UubGVuZ3RoO2xlbmd0aD5JbmRleDspc3dpdGNoKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSl7Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMzpjYXNlIDMyOkluZGV4Kys7YnJlYWs7Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA0NDpyZXR1cm4gdmFsdWU9Y2hhckluZGV4QnVnZ3k/c291cmNlLmNoYXJBdChJbmRleCk6c291cmNlW0luZGV4XSxJbmRleCsrLHZhbHVlO2Nhc2UgMzQ6Zm9yKHZhbHVlPSJAIixJbmRleCsrO2xlbmd0aD5JbmRleDspaWYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoSW5kZXgpLDMyPmNoYXJDb2RlKWFib3J0KCk7ZWxzZSBpZig5Mj09Y2hhckNvZGUpc3dpdGNoKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KCsrSW5kZXgpKXtjYXNlIDkyOmNhc2UgMzQ6Y2FzZSA0NzpjYXNlIDk4OmNhc2UgMTE2OmNhc2UgMTEwOmNhc2UgMTAyOmNhc2UgMTE0OnZhbHVlKz1VbmVzY2FwZXNbY2hhckNvZGVdLEluZGV4Kys7YnJlYWs7Y2FzZSAxMTc6Zm9yKGJlZ2luPSsrSW5kZXgscG9zaXRpb249SW5kZXgrNDtwb3NpdGlvbj5JbmRleDtJbmRleCsrKWNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSxjaGFyQ29kZT49NDgmJjU3Pj1jaGFyQ29kZXx8Y2hhckNvZGU+PTk3JiYxMDI+PWNoYXJDb2RlfHxjaGFyQ29kZT49NjUmJjcwPj1jaGFyQ29kZXx8YWJvcnQoKTt2YWx1ZSs9ZnJvbUNoYXJDb2RlKCIweCIrc291cmNlLnNsaWNlKGJlZ2luLEluZGV4KSk7YnJlYWs7ZGVmYXVsdDphYm9ydCgpfWVsc2V7aWYoMzQ9PWNoYXJDb2RlKWJyZWFrO2ZvcihjaGFyQ29kZT1zb3VyY2UuY2hhckNvZGVBdChJbmRleCksYmVnaW49SW5kZXg7Y2hhckNvZGU+PTMyJiY5MiE9Y2hhckNvZGUmJjM0IT1jaGFyQ29kZTspY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7dmFsdWUrPXNvdXJjZS5zbGljZShiZWdpbixJbmRleCl9aWYoMzQ9PXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSlyZXR1cm4gSW5kZXgrKyx2YWx1ZTthYm9ydCgpO2RlZmF1bHQ6aWYoYmVnaW49SW5kZXgsNDU9PWNoYXJDb2RlJiYoaXNTaWduZWQ9ITAsY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoKytJbmRleCkpLGNoYXJDb2RlPj00OCYmNTc+PWNoYXJDb2RlKXtmb3IoNDg9PWNoYXJDb2RlJiYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoSW5kZXgrMSksY2hhckNvZGU+PTQ4JiY1Nz49Y2hhckNvZGUpJiZhYm9ydCgpLGlzU2lnbmVkPSExO2xlbmd0aD5JbmRleCYmKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSxjaGFyQ29kZT49NDgmJjU3Pj1jaGFyQ29kZSk7SW5kZXgrKyk7aWYoNDY9PXNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSl7Zm9yKHBvc2l0aW9uPSsrSW5kZXg7bGVuZ3RoPnBvc2l0aW9uJiYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pLGNoYXJDb2RlPj00OCYmNTc+PWNoYXJDb2RlKTtwb3NpdGlvbisrKTtwb3NpdGlvbj09SW5kZXgmJmFib3J0KCksSW5kZXg9cG9zaXRpb259aWYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQoSW5kZXgpLDEwMT09Y2hhckNvZGV8fDY5PT1jaGFyQ29kZSl7Zm9yKGNoYXJDb2RlPXNvdXJjZS5jaGFyQ29kZUF0KCsrSW5kZXgpLCg0Mz09Y2hhckNvZGV8fDQ1PT1jaGFyQ29kZSkmJkluZGV4KysscG9zaXRpb249SW5kZXg7bGVuZ3RoPnBvc2l0aW9uJiYoY2hhckNvZGU9c291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pLGNoYXJDb2RlPj00OCYmNTc+PWNoYXJDb2RlKTtwb3NpdGlvbisrKTtwb3NpdGlvbj09SW5kZXgmJmFib3J0KCksSW5kZXg9cG9zaXRpb259cmV0dXJuK3NvdXJjZS5zbGljZShiZWdpbixJbmRleCl9aWYoaXNTaWduZWQmJmFib3J0KCksInRydWUiPT1zb3VyY2Uuc2xpY2UoSW5kZXgsSW5kZXgrNCkpcmV0dXJuIEluZGV4Kz00LCEwO2lmKCJmYWxzZSI9PXNvdXJjZS5zbGljZShJbmRleCxJbmRleCs1KSlyZXR1cm4gSW5kZXgrPTUsITE7aWYoIm51bGwiPT1zb3VyY2Uuc2xpY2UoSW5kZXgsSW5kZXgrNCkpcmV0dXJuIEluZGV4Kz00LG51bGw7YWJvcnQoKX1yZXR1cm4iJCJ9LGdldD1mdW5jdGlvbih2YWx1ZSl7dmFyIHJlc3VsdHMsaGFzTWVtYmVycztpZigiJCI9PXZhbHVlJiZhYm9ydCgpLCJzdHJpbmciPT10eXBlb2YgdmFsdWUpe2lmKCJAIj09KGNoYXJJbmRleEJ1Z2d5P3ZhbHVlLmNoYXJBdCgwKTp2YWx1ZVswXSkpcmV0dXJuIHZhbHVlLnNsaWNlKDEpO2lmKCJbIj09dmFsdWUpe2ZvcihyZXN1bHRzPVtdO3ZhbHVlPWxleCgpLCJdIiE9dmFsdWU7aGFzTWVtYmVyc3x8KGhhc01lbWJlcnM9ITApKWhhc01lbWJlcnMmJigiLCI9PXZhbHVlPyh2YWx1ZT1sZXgoKSwiXSI9PXZhbHVlJiZhYm9ydCgpKTphYm9ydCgpKSwiLCI9PXZhbHVlJiZhYm9ydCgpLHJlc3VsdHMucHVzaChnZXQodmFsdWUpKTtyZXR1cm4gcmVzdWx0c31pZigieyI9PXZhbHVlKXtmb3IocmVzdWx0cz17fTt2YWx1ZT1sZXgoKSwifSIhPXZhbHVlO2hhc01lbWJlcnN8fChoYXNNZW1iZXJzPSEwKSloYXNNZW1iZXJzJiYoIiwiPT12YWx1ZT8odmFsdWU9bGV4KCksIn0iPT12YWx1ZSYmYWJvcnQoKSk6YWJvcnQoKSksKCIsIj09dmFsdWV8fCJzdHJpbmciIT10eXBlb2YgdmFsdWV8fCJAIiE9KGNoYXJJbmRleEJ1Z2d5P3ZhbHVlLmNoYXJBdCgwKTp2YWx1ZVswXSl8fCI6IiE9bGV4KCkpJiZhYm9ydCgpLHJlc3VsdHNbdmFsdWUuc2xpY2UoMSldPWdldChsZXgoKSk7cmV0dXJuIHJlc3VsdHN9YWJvcnQoKX1yZXR1cm4gdmFsdWV9LHVwZGF0ZT1mdW5jdGlvbihzb3VyY2UscHJvcGVydHksY2FsbGJhY2spe3ZhciBlbGVtZW50PXdhbGsoc291cmNlLHByb3BlcnR5LGNhbGxiYWNrKTtlbGVtZW50PT09dW5kZWY/ZGVsZXRlIHNvdXJjZVtwcm9wZXJ0eV06c291cmNlW3Byb3BlcnR5XT1lbGVtZW50fSx3YWxrPWZ1bmN0aW9uKHNvdXJjZSxwcm9wZXJ0eSxjYWxsYmFjayl7dmFyIGxlbmd0aCx2YWx1ZT1zb3VyY2VbcHJvcGVydHldO2lmKCJvYmplY3QiPT10eXBlb2YgdmFsdWUmJnZhbHVlKWlmKGdldENsYXNzLmNhbGwodmFsdWUpPT1hcnJheUNsYXNzKWZvcihsZW5ndGg9dmFsdWUubGVuZ3RoO2xlbmd0aC0tOyl1cGRhdGUodmFsdWUsbGVuZ3RoLGNhbGxiYWNrKTtlbHNlIGZvckVhY2godmFsdWUsZnVuY3Rpb24ocHJvcGVydHkpe3VwZGF0ZSh2YWx1ZSxwcm9wZXJ0eSxjYWxsYmFjayl9KTtyZXR1cm4gY2FsbGJhY2suY2FsbChzb3VyY2UscHJvcGVydHksdmFsdWUpfTtKU09OMy5wYXJzZT1mdW5jdGlvbihzb3VyY2UsY2FsbGJhY2spe3ZhciByZXN1bHQsdmFsdWU7cmV0dXJuIEluZGV4PTAsU291cmNlPSIiK3NvdXJjZSxyZXN1bHQ9Z2V0KGxleCgpKSwiJCIhPWxleCgpJiZhYm9ydCgpLEluZGV4PVNvdXJjZT1udWxsLGNhbGxiYWNrJiZnZXRDbGFzcy5jYWxsKGNhbGxiYWNrKT09ZnVuY3Rpb25DbGFzcz93YWxrKCh2YWx1ZT17fSx2YWx1ZVsiIl09cmVzdWx0LHZhbHVlKSwiIixjYWxsYmFjayk6cmVzdWx0fX19aXNMb2FkZXImJmRlZmluZShmdW5jdGlvbigpe3JldHVybiBKU09OM30pfSh0aGlzKX0se31dLDQ0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7ZnVuY3Rpb24gdG9BcnJheShsaXN0LGluZGV4KXt2YXIgYXJyYXk9W107aW5kZXg9aW5kZXh8fDA7Zm9yKHZhciBpPWluZGV4fHwwO2k8bGlzdC5sZW5ndGg7aSsrKWFycmF5W2ktaW5kZXhdPWxpc3RbaV07cmV0dXJuIGFycmF5fW1vZHVsZS5leHBvcnRzPXRvQXJyYXl9LHt9XX0se30sWzFdKSgxKX0pLHRoaXMuVGVtcGxhdGVzPXRoaXMuVGVtcGxhdGVzfHx7fSx0aGlzLlRlbXBsYXRlcy5mb290ZXI9bmV3IEhvZ2FuLlRlbXBsYXRlKGZ1bmN0aW9uKGMscCxpKXt2YXIgXz10aGlzO3JldHVybiBfLmIoaT1pfHwiIiksXy5iKCc8ZGl2IGNsYXNzPSJnaWduYWwtYm94LWZvb3RlciI+JyksXy5iKCJcbiIraSksXy5iKCcgIDxkaXYgY2xhc3M9InB1bGwtbGVmdCI+JyksXy5iKCJcbiIraSksXy5iKCcgICAgPGEgaHJlZj0iaHR0cDovLycpLF8uYihfLnYoXy5mKCJzZXJ2aWNlIixjLHAsMCkpKSxfLmIoIi5jb20vIiksXy5iKF8udihfLmYoInVzZXJuYW1lIixjLHAsMCkpKSxfLmIoJyIgdGFyZ2V0PSJfYmxhbmsiPicpLF8uYigiXG4iK2kpLF8uYignICAgICAgPGltZyBzcmM9IicpLF8uYihfLnYoXy5mKCJ1c2VyX2ltYWdlIixjLHAsMCkpKSxfLmIoJyIgY2xhc3M9ImdpZ25hbC1hdmF0YXIiIC8+JyksXy5iKCJcbiIraSksXy5iKCIgICAgPC9hPiIpLF8uYigiXG4iK2kpLF8uYigiICA8L2Rpdj4iKSxfLmIoIlxuIitpKSxfLmIoIiAgIiksXy5iKF8udihfLmYoIm5hbWUiLGMscCwwKSkpLF8uYigiXG4iK2kpLF8ucyhfLmYoInVzZXJuYW1lIixjLHAsMSksYyxwLDAsMjI2LDMxOSwie3sgfX0iKSYmKF8ucnMoYyxwLGZ1bmN0aW9uKGMscCxfKXtfLmIoJyAgICA8YnIgLz48YSBocmVmPSJodHRwOi8vJyksXy5iKF8udihfLmYoInNlcnZpY2UiLGMscCwwKSkpLF8uYigiLmNvbS8iKSxfLmIoXy52KF8uZigidXNlcm5hbWUiLGMscCwwKSkpLF8uYignIiB0YXJnZXQ9Il9ibGFuayI+QCcpLF8uYihfLnYoXy5mKCJ1c2VybmFtZSIsYyxwLDApKSksXy5iKCI8L2E+IiksXy5iKCJcbiIpfSksYy5wb3AoKSksXy5iKCcgIDxiciAvPjxzbWFsbCBjbGFzcz0ibGNhc2UiPjxhIGhyZWY9IicpLF8uYihfLnYoXy5mKCJkaXJlY3QiLGMscCwwKSkpLF8uYignIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImRpcmVjdCBzaW5jZSI+JyksXy5iKF8udihfLmYoInNpbmNlIixjLHAsMCkpKSxfLmIoIjwvYT48L3NtYWxsPiIpLF8uYigiXG4iK2kpLF8uYigiPC9kaXY+IiksXy5iKCJcbiIpLF8uZmwoKX0pLHRoaXMuVGVtcGxhdGVzLnRvb2xib3g9bmV3IEhvZ2FuLlRlbXBsYXRlKGZ1bmN0aW9uKGMscCxpKXt2YXIgXz10aGlzO3JldHVybiBfLmIoaT1pfHwiIiksXy5iKCc8ZGl2IGNsYXNzPSJnaWduYWwtdG9vbGJveCI+JyksXy5iKCJcbiIraSksXy5iKCcJPHNwYW4gY2xhc3M9ImdpZ25hbC1zZXJ2aWNlIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJPGEgaHJlZj0iJyksXy5iKF8udihfLmYoImxpbmsiLGMscCwwKSkpLF8uYignIiB0YXJnZXQ9Il9ibGFuayI+JyksXy5iKCJcbiIraSksXy5iKCIJCQk8cD4iKSxfLmIoXy52KF8uZigic2VydmljZSIsYyxwLDApKSksXy5iKCI8L3A+IiksXy5iKCJcbiIraSksXy5iKCIJCTwvYT4iKSxfLmIoIlxuIitpKSxfLmIoIgk8L3NwYW4+IiksXy5iKCJcbiIraSksXy5iKCcJPHNwYW4gY2xhc3M9ImdpZ25hbC10b29sIj4nKSxfLmIoIlxuIitpKSxfLmIoIgkJPHVsPiIpLF8uYigiXG4iK2kpLF8ucyhfLmYoIlR3aXR0ZXIiLGMscCwxKSxjLHAsMCwxODYsMTEzMSwie3sgfX0iKSYmKF8ucnMoYyxwLGZ1bmN0aW9uKGMscCxfKXtfLmIoJwkJCTxsaSBjbGFzcz0icmV0d2VldCIgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy9zcHJpdGUtc29jaWFsLnBuZ1wnKTsiIG9ubW91c2VvdmVyPSJiYXJPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJiYXJPdXQodGhpcykiPicpLF8uYigiXG4iK2kpLF8uYignCQkJCTxzcGFuIGNsYXNzPSJnaWduYWwtY29udGVuZXIiPicpLF8uYigiXG4iK2kpLF8uYignCQkJCQk8YSBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTogdXJsKFwnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL3R3aXR0ZXJfZ3JheS5wbmdcJyk7IiBocmVmPSJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC9yZXR3ZWV0P3R3ZWV0X2lkPScpLF8uYihfLnYoXy5mKCJUd2l0dGVyIixjLHAsMCkpKSxfLmIoJyIgb25tb3VzZW92ZXI9Im15QmlyZE92ZXIodGhpcykiIG9ubW91c2VvdXQ9Im15QmlyZE91dCh0aGlzKSI+UmV0d2VldDwvYT4nKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8L3NwYW4+IiksXy5iKCJcbiIraSksXy5iKCIJCQkJPHA+PC9wPiIpLF8uYigiXG4iK2kpLF8uYigiCQkJPC9saT4iKSxfLmIoIlxuIitpKSxfLmIoJwkJCTxsaSBjbGFzcz0icmVwbHkiIHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCcvL2dpZ25hbC5naXRodWIuaW8vd2lkZ2V0L2dpZ25hbC9pbWFnZXMvc3ByaXRlLXNvY2lhbC5wbmdcJyk7IiBvbm1vdXNlb3Zlcj0iYmFyT3Zlcih0aGlzKSIgb25tb3VzZW91dD0iYmFyT3V0KHRoaXMpIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQk8c3BhbiBjbGFzcz0iZ2lnbmFsLWNvbnRlbmVyIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy90d2l0dGVyX2dyYXkucG5nXCcpOyIgaHJlZj0iaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/aW5fcmVwbHlfdG89JyksXy5iKF8udihfLmYoIlR3aXR0ZXIiLGMscCwwKSkpLF8uYignIiBvbm1vdXNlb3Zlcj0ibXlCaXJkT3Zlcih0aGlzKSIgb25tb3VzZW91dD0ibXlCaXJkT3V0KHRoaXMpIj5SZXBseTwvYT4nKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8L3NwYW4+IiksXy5iKCJcbiIraSksXy5iKCIJCQkJPHA+PC9wPiIpLF8uYigiXG4iK2kpLF8uYigiCQkJPC9saT4iKSxfLmIoIlxuIil9KSxjLnBvcCgpKSxfLmIoJwkJCTxsaSBjbGFzcz0icG9zdCIgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy9zcHJpdGUtc29jaWFsLnBuZ1wnKTsiIG9ubW91c2VvdmVyPSJiYXJPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJiYXJPdXQodGhpcykiPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTxzcGFuICIpLF8ucyhfLmYoIlR3aXR0ZXIiLGMscCwxKSxjLHAsMCwxMzMzLDEzNTUsInt7IH19IikmJihfLnJzKGMscCxmdW5jdGlvbihjLHAsXyl7Xy5iKCcgc3R5bGU9ImxlZnQ6LTE4MnB4OyIgJyl9KSxjLnBvcCgpKSxfLmIoJyBjbGFzcz0iZ2lnbmFsLWNvbnRlbmVyIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgY2xhc3M9IkZhY2Vib29rIiBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTogdXJsKFwnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL2ZhY2Vib29rX2dyYXkucG5nXCcpOyIgb25jbGljaz0iJyksXy5iKF8udihfLmYoInBvc3RGQiIsYyxwLDApKSksXy5iKCciIG9ubW91c2VvdmVyPSJteUZhY2VPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJteUZhY2VPdXQodGhpcykiPkZhY2Vib29rPC9hPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTwvc3Bhbj4iKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8cD48L3A+IiksXy5iKCJcbiIraSksXy5iKCIJCQk8L2xpPiIpLF8uYigiXG4iK2kpLF8uYignCQkJPGxpIGNsYXNzPSJzaGFyZSIgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy9zcHJpdGUtc29jaWFsLnBuZ1wnKTsiIG9ubW91c2VvdmVyPSJiYXJPdmVyKHRoaXMpIiBvbm1vdXNlb3V0PSJiYXJPdXQodGhpcykiPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTxzcGFuICIpLF8ucyhfLmYoIlR3aXR0ZXIiLGMscCwxKSxjLHAsMCwxODI3LDE4NDksInt7IH19IikmJihfLnJzKGMscCxmdW5jdGlvbihjLHAsXyl7Xy5iKCcgc3R5bGU9ImxlZnQ6LTIxNHB4OyIgJyl9KSxjLnBvcCgpKSxfLmIoJyBjbGFzcz0iZ2lnbmFsLWNvbnRlbmVyIj4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgY2xhc3M9IkZhY2Vib29rIiBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTogdXJsKFwnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL2ZhY2Vib29rX2dyYXkucG5nXCcpOyIgb25jbGljaz0iJyksXy5iKF8udihfLmYoInNoYXJlRkIiLGMscCwwKSkpLF8uYignIiBvbm1vdXNlb3Zlcj0ibXlGYWNlT3Zlcih0aGlzKSIgb25tb3VzZW91dD0ibXlGYWNlT3V0KHRoaXMpIj5GYWNlYm9vazwvYT4nKSxfLmIoIlxuIitpKSxfLmIoJwkJCQkJPGEgY2xhc3M9IlR3aXR0ZXIiIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4O2JhY2tncm91bmQtaW1hZ2U6IHVybChcJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy90d2l0dGVyX2dyYXkucG5nXCcpOyIgb25jbGljaz0iJyksXy5iKF8udihfLmYoInNoYXJlVFQiLGMscCwwKSkpLF8uYignIiBvbm1vdXNlb3Zlcj0ibXlCaXJkT3Zlcih0aGlzKSIgb25tb3VzZW91dD0ibXlCaXJkT3V0KHRoaXMpIj5Ud2l0dGVyPC9hPicpLF8uYigiXG4iK2kpLF8uYigiCQkJCTwvc3Bhbj4iKSxfLmIoIlxuIitpKSxfLmIoIgkJCQk8cD48L3A+IiksXy5iKCJcbiIraSksXy5iKCIJCQk8L2xpPiIpLF8uYigiXG4iK2kpLF8uYigiCQk8L3VsPiIpLF8uYigiXG4iK2kpLF8uYigiCTwvc3Bhbj4iKSxfLmIoIlxuIitpKSxfLmIoIjwvZGl2PiIpLF8uYigiXG4iKSxfLmZsKCl9KSx0aGlzLlRlbXBsYXRlcy51bmk9bmV3IEhvZ2FuLlRlbXBsYXRlKGZ1bmN0aW9uKGMscCxpKXt2YXIgXz10aGlzO3JldHVybiBfLmIoaT1pfHwiIiksXy5iKCc8ZGl2IGNsYXNzPSJnaWduYWwtdW5pYm94Ij4nKSxfLmIoIlxuIitpKSxfLnMoXy5mKCJwaG90byIsYyxwLDEpLGMscCwwLDQwLDEwMSwie3sgfX0iKSYmKF8ucnMoYyxwLGZ1bmN0aW9uKGMscCxfKXtfLmIoJyAgICA8ZGl2IGNsYXNzPSJnaWduYWwtaW1hZ2UgZ2lnbmFsLWltYWdlLWxvYWRpbmciPjwvZGl2PicpLF8uYigiXG4iKX0pLGMucG9wKCkpLF8ucyhfLmYoIm1lc3NhZ2UiLGMscCwxKSxjLHAsMCwxMjYsMTcwLCJ7eyB9fSIpJiYoXy5ycyhjLHAsZnVuY3Rpb24oYyxwLF8pe18uYignICAgIDxwIGNsYXNzPSJtZXNzYWdlIj4nKSxfLmIoXy50KF8uZigibWVzc2FnZSIsYyxwLDApKSksXy5iKCI8L3A+IiksXy5iKCJcbiIpfSksYy5wb3AoKSksXy5iKCI8L2Rpdj4iKSxfLmIoIlxuIitpKSxfLmIoIlxuIitpKSxfLmIoXy5ycCgiZm9vdGVyIixjLHAsIiIpKSxfLmZsKCl9KTt2YXIgUG9zdCxTdHJlYW0sYmFyT3V0LGJhck92ZXIsZ2V0UGFyYW1ldGVyQnlOYW1lLGdldFVybCxteUJpcmRPdXQsbXlCaXJkT3ZlcixteUZhY2VPdXQsbXlGYWNlT3ZlcixfX2JpbmQ9ZnVuY3Rpb24oZm4sbWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmbi5hcHBseShtZSxhcmd1bWVudHMpfX0sX19oYXNQcm9wPXt9Lmhhc093blByb3BlcnR5LF9fZXh0ZW5kcz1mdW5jdGlvbihjaGlsZCxwYXJlbnQpe2Z1bmN0aW9uIGN0b3IoKXt0aGlzLmNvbnN0cnVjdG9yPWNoaWxkfWZvcih2YXIga2V5IGluIHBhcmVudClfX2hhc1Byb3AuY2FsbChwYXJlbnQsa2V5KSYmKGNoaWxkW2tleV09cGFyZW50W2tleV0pO3JldHVybiBjdG9yLnByb3RvdHlwZT1wYXJlbnQucHJvdG90eXBlLGNoaWxkLnByb3RvdHlwZT1uZXcgY3RvcixjaGlsZC5fX3N1cGVyX189cGFyZW50LnByb3RvdHlwZSxjaGlsZH07ZG9jdW1lbnQuZ2lnbmFsPXt2aWV3czp7fX0sUG9zdD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFBvc3QoKXtyZXR1cm4gdGhpcy5nZXREYXRhPV9fYmluZCh0aGlzLmdldERhdGEsdGhpcyksUG9zdC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoUG9zdCxfc3VwZXIpLFBvc3QucHJvdG90eXBlLmlkQXR0cmlidXRlPSJvYmplY3RJZCIsUG9zdC5wcm90b3R5cGUucmVfbGlua3M9LygoaHR0cHxodHRwcylcOlwvXC9bYS16QS1aMC05XC1cLl0rXC5bYS16QS1aXXsyLDN9KFwvXFMqKT8pL2csUG9zdC5wcm90b3R5cGUuZGVmYXVsdHM9e3RleHQ6IiIsdXNlcm5hbWU6IiJ9LFBvc3QucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXt2YXIgZGF0YSxkaXJlY3Qsa2V5RkIscG9zdEZCLHNoYXJlRkIsc2hhcmVUVCx0ZXh0LHVzZXJuYW1lO3JldHVybiB0ZXh0PXRoaXMuZ2V0KCJ0ZXh0IiksdGV4dD10ZXh0LnJlcGxhY2UodGhpcy5yZV9saW5rcywnPGEgaHJlZj0iJDEiIHRhcmdldD0iX2JsYW5rIj5saW5rPC9hPicpLC0xPT09dGV4dC5pbmRleE9mKCIgIikmJih0ZXh0PW51bGwpLHVzZXJuYW1lPXRoaXMuZ2V0KCJ1c2VybmFtZSIpLC0xIT09dXNlcm5hbWUuaW5kZXhPZigiICIpJiYodXNlcm5hbWU9bnVsbCksZGlyZWN0PXRoaXMuZ2V0KCJsaW5rIiksc2hhcmVGQj0namF2YXNjcmlwdDpnZXRVcmwoImh0dHA6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT0nK2VuY29kZVVSSUNvbXBvbmVudChkaXJlY3QpKyciKTsnLHNoYXJlVFQ9J2phdmFzY3JpcHQ6Z2V0VXJsKCJodHRwOi8vdHdpdHRlci5jb20vc2hhcmU/dGV4dD0nK2VuY29kZVVSSUNvbXBvbmVudChkaXJlY3QpKyImdXJsPSIrZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpKyciKTsnLGtleUZCPSIxMjg5OTA2MTA0NDIiLHBvc3RGQj0namF2YXNjcmlwdDpnZXRVcmwoImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kaWFsb2cvZmVlZD9hcHBfaWQ9JytrZXlGQisiJmRpc3BsYXk9cG9wdXAmbGluaz0iK2VuY29kZVVSSUNvbXBvbmVudChkaXJlY3QpKyImcGljdHVyZT0iK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmdldCgibGFyZ2VfcGhvdG8iKSkrIiZyZWRpcmVjdF91cmk9IitlbmNvZGVVUklDb21wb25lbnQoImh0dHA6Ly93d3cuZ2lnbmFsLmNvbS8iKSsnIik7Jyx0aGlzLnNldCgiY3JlYXRlZCIsbmV3IERhdGUoMWUzKnRoaXMuZ2V0KCJjcmVhdGVkX29uIikpKSxkYXRhPXttZXNzYWdlOnRleHQsdXNlcm5hbWU6dXNlcm5hbWUsbmFtZTp0aGlzLmdldCgibmFtZSIpLHNpbmNlOmh1bWFuZURhdGUodGhpcy5nZXQoImNyZWF0ZWQiKSksbGluazpkaXJlY3Qsc2VydmljZTp0aGlzLmdldCgic2VydmljZSIpLHVzZXJfaW1hZ2U6dGhpcy5nZXQoInVzZXJfaW1hZ2UiKSxwaG90bzoiIiE9PXRoaXMuZ2V0KCJsYXJnZV9waG90byIpP3RoaXMuZ2V0KCJsYXJnZV9waG90byIpOiExLGRpcmVjdDpkaXJlY3Qsc2hhcmVGQjpzaGFyZUZCLHNoYXJlVFQ6c2hhcmVUVCxwb3N0RkI6cG9zdEZCLFR3aXR0ZXI6InR3aXR0ZXIiPT09dGhpcy5nZXQoInNlcnZpY2UiKT90aGlzLmdldCgib3JpZ2luYWxfaWQiKTp2b2lkIDAsRmFjZWJvb2s6ImZhY2Vib29rIj09PXRoaXMuZ2V0KCJzZXJ2aWNlIik/dGhpcy5nZXQoIm9yaWdpbmFsX2lkIik6dm9pZCAwLEluc3RhZ3JhbToiaW5zdGFncmFtIj09PXRoaXMuZ2V0KCJzZXJ2aWNlIik/dGhpcy5nZXQoIm9yaWdpbmFsX2lkIik6dm9pZCAwfX0sUG9zdH0oQmFja2JvbmUuTW9kZWwpLFN0cmVhbT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFN0cmVhbSgpe3JldHVybiB0aGlzLnVwZGF0ZT1fX2JpbmQodGhpcy51cGRhdGUsdGhpcyksdGhpcy5pbnNldD1fX2JpbmQodGhpcy5pbnNldCx0aGlzKSxTdHJlYW0uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKFN0cmVhbSxfc3VwZXIpLFN0cmVhbS5wcm90b3R5cGUubW9kZWw9UG9zdCxTdHJlYW0ucHJvdG90eXBlLnVybD1mdW5jdGlvbigpe3ZhciBldmVudGlkO3JldHVybiBldmVudGlkPWRvY3VtZW50LmdpZ25hbC5ldmVudGlkLCIvL2QyeXJxa25xamNyZjhuLmNsb3VkZnJvbnQubmV0L2ZlZWQvIitldmVudGlkKyI/Y2FsbGJhY2s9PyJ9LFN0cmVhbS5wcm90b3R5cGUuY2FsbGluZz0hMSxTdHJlYW0ucHJvdG90eXBlLnBhcmFtZXRlcnM9e2xpbWl0OjMwLG9mZnNldDowLHNpbmNlVGltZTowfSxTdHJlYW0ucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbigiYWRkIix0aGlzLmluc2V0KSx0aGlzLnVwZGF0ZSgpLHRoaXMudXBkYXRlVGltZXMoKX0sU3RyZWFtLnByb3RvdHlwZS5pbnNldD1mdW5jdGlvbihtb2RlbCl7dmFyIHZpZXc7cmV0dXJuIHZpZXc9bmV3IGRvY3VtZW50LmdpZ25hbC52aWV3cy5VbmlCb3goe21vZGVsOm1vZGVsfSksZG9jdW1lbnQuZ2lnbmFsLndpZGdldC4kZWwuaXNvdG9wZSgiaW5zZXJ0Iix2aWV3LnJlbmRlcigpLiRlbCl9LFN0cmVhbS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5zdHJlYW19LFN0cmVhbS5wcm90b3R5cGUuY29tcGFyYXRvcj1mdW5jdGlvbihpdGVtKXtyZXR1cm4taXRlbS5nZXQoImNyZWF0ZWRfb24iKX0sU3RyZWFtLnByb3RvdHlwZS5pc1Njcm9sbGVkSW50b1ZpZXc9ZnVuY3Rpb24oZWxlbSl7dmFyIGRvY1ZpZXdCb3R0b20sZG9jVmlld1RvcCxlbGVtQm90dG9tLGVsZW1Ub3A7cmV0dXJuIGRvY1ZpZXdUb3A9JCh3aW5kb3cpLnNjcm9sbFRvcCgpLGRvY1ZpZXdCb3R0b209ZG9jVmlld1RvcCskKHdpbmRvdykuaGVpZ2h0KCksZWxlbVRvcD0kKGVsZW0pLm9mZnNldCgpLnRvcCxlbGVtQm90dG9tPWVsZW1Ub3ArJChlbGVtKS5oZWlnaHQoKSxkb2NWaWV3Qm90dG9tPj1lbGVtQm90dG9tJiZlbGVtVG9wPj1kb2NWaWV3VG9wfSxTdHJlYW0ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhcHBlbmQpe3ZhciBvZmZzZXQsc2luY2VUaW1lO3JldHVybiB0aGlzLmFwcGVuZD1hcHBlbmQsdGhpcy5jYWxsaW5nfHwhdGhpcy5hcHBlbmQmJiF0aGlzLmlzU2Nyb2xsZWRJbnRvVmlldygiI2dpZ25hbC1zdHJlYW0gaGVhZGVyIik/dm9pZCAwOih0aGlzLmNhbGxpbmc9ITAsdGhpcy5hcHBlbmQ/KHNpbmNlVGltZT1fLm1pbih0aGlzLnBsdWNrKCJzYXZlZF9vbiIpKSxvZmZzZXQ9dGhpcy5wYXJhbWV0ZXJzLm9mZnNldCs9dGhpcy5wYXJhbWV0ZXJzLmxpbWl0KTooc2luY2VUaW1lPV8ubWF4KHRoaXMucGx1Y2soInNhdmVkX29uIikpLF8uaXNGaW5pdGUoc2luY2VUaW1lKXx8KHNpbmNlVGltZT1udWxsKSxvZmZzZXQ9MCksdGhpcy5mZXRjaCh7cmVtb3ZlOiExLHRpbWVvdXQ6MTVlMyxqc29ucENhbGxiYWNrOiJjYWxsbWUiLGRhdGE6e2xpbWl0OnRoaXMucGFyYW1ldGVycy5saW1pdCxvZmZzZXQ6b2Zmc2V0P29mZnNldDp2b2lkIDAsc2luY2VUaW1lOl8uaXNGaW5pdGUoc2luY2VUaW1lKT9zaW5jZVRpbWU6dm9pZCAwfSxzdWNjZXNzOmZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuY2FsbGluZz0hMX19KHRoaXMpLGVycm9yOmZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuY2FsbGluZz0hMX19KHRoaXMpfSkpfSxTdHJlYW0ucHJvdG90eXBlLnNldEludGVydmFsVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIG5vdyxzbGVlcCxzdGFydDtyZXR1cm4gc2xlZXA9MWU0LG5vdz0rbmV3IERhdGUsc3RhcnQ9c2xlZXAqTWF0aC5mbG9vcihub3cvc2xlZXApK3NsZWVwLW5vdyxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHNsZWVwPTFlNCxzZXRJbnRlcnZhbChkb2N1bWVudC5naWduYWwuc3RyZWFtLnVwZGF0ZSxzbGVlcCl9LHN0YXJ0KX0sU3RyZWFtLnByb3RvdHlwZS51cGRhdGVUaW1lcz1mdW5jdGlvbigpe3ZhciBzbGVlcDtyZXR1cm4gc2xlZXA9M2U0LHNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuICQoIi5naWduYWwtb3V0ZXJib3giKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcykuZmluZCgiLnNpbmNlIikuaHRtbChodW1hbmVEYXRlKCQodGhpcykuZGF0YSgiY3JlYXRlZCIpKSl9KX0sc2xlZXApfSxTdHJlYW19KEJhY2tib25lLkNvbGxlY3Rpb24pLGRvY3VtZW50LmdpZ25hbC52aWV3cy5FdmVudD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEV2ZW50KCl7cmV0dXJuIHRoaXMucmVmcmVzaD1fX2JpbmQodGhpcy5yZWZyZXNoLHRoaXMpLEV2ZW50Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhFdmVudCxfc3VwZXIpLEV2ZW50LnByb3RvdHlwZS5lbD0iI2dpZ25hbC13aWRnZXQiLEV2ZW50LnByb3RvdHlwZS5jb2x1bW5XaWR0aD0yMzAsRXZlbnQucHJvdG90eXBlLmlzb3RvcHRpb25zPXtpdGVtU2VsZWN0b3I6Ii5naWduYWwtb3V0ZXJib3giLGxheW91dE1vZGU6Im1hc29ucnkiLHNvcnRBc2NlbmRpbmc6ITEsc29ydEJ5OiJjcmVhdGVkX29uIixnZXRTb3J0RGF0YTp7Y3JlYXRlZF9vbjpmdW5jdGlvbihlbCl7cmV0dXJuIHBhcnNlSW50KGVsLmRhdGEoImNyZWF0ZWRfb24iKSl9fX0sRXZlbnQucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgY29sdW1uc0FzSW50LG1hZ2ljLG1haW5XaWR0aCxyYWRpeDtyZXR1cm4gcmFkaXg9MTAsbWFnaWM9MTUsbWFpbldpZHRoPXRoaXMuJGVsLmlubmVyV2lkdGgoKSxjb2x1bW5zQXNJbnQ9ZG9jdW1lbnQuZ2lnbmFsLmNvbHVtbnM/ZG9jdW1lbnQuZ2lnbmFsLmNvbHVtbnM6cGFyc2VJbnQobWFpbldpZHRoL3RoaXMuY29sdW1uV2lkdGgscmFkaXgpLHRoaXMuY29sdW1uV2lkdGg9dGhpcy5jb2x1bW5XaWR0aCsocGFyc2VJbnQoKG1haW5XaWR0aC1jb2x1bW5zQXNJbnQqdGhpcy5jb2x1bW5XaWR0aCkvY29sdW1uc0FzSW50LHJhZGl4KS1tYWdpYyksdGhpcy4kZWwuaXNvdG9wZSh0aGlzLmlzb3RvcHRpb25zKX0sRXZlbnQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWwuaW1hZ2VzTG9hZGVkKGZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuJGVsLmlzb3RvcGUoX3RoaXMuaXNvdG9wdGlvbnMpfX0odGhpcykpfSxFdmVudH0oQmFja2JvbmUuVmlldyksZG9jdW1lbnQuZ2lnbmFsLnZpZXdzLlVuaUJveD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFVuaUJveCgpe3JldHVybiB0aGlzLnJlbmRlcj1fX2JpbmQodGhpcy5yZW5kZXIsdGhpcyksVW5pQm94Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhVbmlCb3gsX3N1cGVyKSxVbmlCb3gucHJvdG90eXBlLnRhZ05hbWU9ImRpdiIsVW5pQm94LnByb3RvdHlwZS5jbGFzc05hbWU9ImdpZ25hbC1vdXRlcmJveCIsVW5pQm94LnByb3RvdHlwZS5ldmVudHM9eyJjbGljayAuZ2lnbmFsLWltYWdlIjoic2hvd0JpZ0ltZyJ9LFVuaUJveC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBmaWx0ZXI7cmV0dXJuIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwiY2hhbmdlIix0aGlzLnJlbmRlciksdGhpcy5tb2RlbC5nZXQoImxhcmdlX3Bob3RvIikmJigkKCI8aW1nLz4iKS5hdHRyKCJzcmMiLHRoaXMubW9kZWwuZ2V0KCJsYXJnZV9waG90byIpKS5sb2FkKGZ1bmN0aW9uKF90aGlzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gJChfdGhpcykucmVtb3ZlKCksX3RoaXMuJCgiLmdpZ25hbC1pbWFnZSIpLmNzcygiYmFja2dyb3VuZC1pbWFnZSIsInVybCgiK190aGlzLm1vZGVsLmdldCgibGFyZ2VfcGhvdG8iKSsiKSIpLF90aGlzLiQoIi5naWduYWwtaW1hZ2UiKS5yZW1vdmVDbGFzcygiZ2lnbmFsLWltYWdlLWxvYWRpbmciKX19KHRoaXMpKS5lcnJvcihmdW5jdGlvbihfdGhpcyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdpZ25hbC53aWRnZXQuJGVsLmlzb3RvcGUoInJlbW92ZSIsX3RoaXMuJGVsKX19KHRoaXMpKSwkLmJyb3dzZXImJiQuYnJvd3Nlci5tc2llKT8oZmlsdGVyPSdwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGFJbWFnZUxvYWRlcihzcmM9IicrdGhpcy5tb2RlbC5nZXQoImxhcmdlX3Bob3RvIikrJyIsc2l6aW5nTWV0aG9kPSJzY2FsZSIpOycsdGhpcy4kKCIuZ2lnbmFsLWltYWdlIikuY3NzKCJmaWx0ZXIiLGZpbHRlciksdGhpcy4kKCIuZ2lnbmFsLWltYWdlIikuY3NzKCItbXMtZmlsdGVyIiwiJyIrZmlsdGVyKyInIikpOnZvaWQgMAp9LFVuaUJveC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsLmRhdGEoImNyZWF0ZWQiLHRoaXMubW9kZWwuZ2V0KCJjcmVhdGVkIikpLHRoaXMuJGVsLmRhdGEoImNyZWF0ZWRfb24iLHRoaXMubW9kZWwuZ2V0KCJjcmVhdGVkX29uIikpLHRoaXMuJGVsLmNzcygid2lkdGgiLGRvY3VtZW50LmdpZ25hbC53aWRnZXQuY29sdW1uV2lkdGgpLHRoaXMubW9kZWwuZ2V0KCJhZG1pbl9lbnRyeSIpJiZ0aGlzLiRlbC5hZGRDbGFzcygiZ2lnbmFsLW93bmVyIiksdGhpcy4kZWwuaHRtbChUZW1wbGF0ZXMudW5pLnJlbmRlcih0aGlzLm1vZGVsLmdldERhdGEoKSx7Zm9vdGVyOlRlbXBsYXRlcy5mb290ZXJ9KSksZG9jdW1lbnQuZ2lnbmFsLmZvb3Rlcnx8dGhpcy4kKCIuZ2lnbmFsLXRvb2xib3giKS5oaWRlKCksdGhpc30sVW5pQm94LnByb3RvdHlwZS5lbWJlZGx5PWZ1bmN0aW9uKGxpbmssY2FsbGJhY2spe3ZhciBrZXksdXJsO3JldHVybiBrZXk9IjNjZTRmMzI2MGYyZDQxNzg4NzUxZDlkM2Y0M2RjYWIyIix1cmw9Ii8vYXBpLmVtYmVkLmx5LzEvb2VtYmVkP2tleT0iK2tleSsiJnVybD0iK2xpbmssJC5nZXRKU09OKHVybCxmdW5jdGlvbihkYXRhKXtyZXR1cm4gY2FsbGJhY2sobnVsbCxkYXRhLmh0bWwpfSl9LFVuaUJveC5wcm90b3R5cGUuc2hvd1ZpZGVvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW1iZWRseSh0aGlzLm1vZGVsLmdldCgibGluayIpLGZ1bmN0aW9uKGVycixodG1sKXtyZXR1cm4gJC5tYWduaWZpY1BvcHVwLm9wZW4oe2l0ZW1zOnt0eXBlOiJpbmxpbmUiLHNyYzpodG1sfX0pfSl9LFVuaUJveC5wcm90b3R5cGUuc2hvd0JpZ0ltZz1mdW5jdGlvbigpe3JldHVybiJ2aWRlbyI9PT10aGlzLm1vZGVsLmdldCgidHlwZSIpP3RoaXMuc2hvd1ZpZGVvKCk6JC5tYWduaWZpY1BvcHVwLm9wZW4oe3R5cGU6ImltYWdlIixjbG9zZU9uQ29udGVudENsaWNrOiEwLGl0ZW1zOntzcmM6dGhpcy5tb2RlbC5nZXQoImxhcmdlX3Bob3RvIil9fSl9LFVuaUJveH0oQmFja2JvbmUuVmlldyksZ2V0UGFyYW1ldGVyQnlOYW1lPWZ1bmN0aW9uKG5hbWUpe3ZhciByZWdleCxyZXN1bHRzO3JldHVybiBuYW1lPW5hbWUucmVwbGFjZSgvW1xbXS8sIlxcWyIpLnJlcGxhY2UoL1tcXV0vLCJcXF0iKSxyZWdleD1uZXcgUmVnRXhwKCJbXFw/Jl0iK25hbWUrIj0oW14mI10qKSIpLHJlc3VsdHM9cmVnZXguZXhlYyhsb2NhdGlvbi5zZWFyY2gpLG51bGw9PXJlc3VsdHM/IiI6ZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXCsvZywiICIpKX0sZ2V0VXJsPWZ1bmN0aW9uKHVybCl7cmV0dXJuIHdpbmRvdy5vcGVuKHVybCwiZmVlZERpYWxvZyIsInRvb2xiYXI9MCxzdGF0dXM9MCx3aWR0aD02MjYsaGVpZ2h0PTM3MCIpfSxteUJpcmRPdmVyPWZ1bmN0aW9uKHRoZSl7cmV0dXJuIHRoZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL3R3aXR0ZXJfYmx1ZS5wbmcnKSJ9LG15QmlyZE91dD1mdW5jdGlvbih0aGUpe3JldHVybiB0aGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJy8vZ2lnbmFsLmdpdGh1Yi5pby93aWRnZXQvZ2lnbmFsL2ltYWdlcy90d2l0dGVyX2dyYXkucG5nJykifSxteUZhY2VPdmVyPWZ1bmN0aW9uKHRoZSl7cmV0dXJuIHRoZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnLy9naWduYWwuZ2l0aHViLmlvL3dpZGdldC9naWduYWwvaW1hZ2VzL2ZhY2Vib29rX2JsdWUucG5nJykifSxteUZhY2VPdXQ9ZnVuY3Rpb24odGhlKXtyZXR1cm4gdGhlLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCcvL2dpZ25hbC5naXRodWIuaW8vd2lkZ2V0L2dpZ25hbC9pbWFnZXMvZmFjZWJvb2tfZ3JheS5wbmcnKSJ9LGJhck92ZXI9ZnVuY3Rpb24odGhlKXtyZXR1cm4gdGhlLmNoaWxkcmVuWzBdLnN0eWxlLmRpc3BsYXk9ImJsb2NrIix0aGUuY2hpbGRyZW5bMV0uc3R5bGUuZGlzcGxheT0iYmxvY2sifSxiYXJPdXQ9ZnVuY3Rpb24odGhlKXtyZXR1cm4gdGhlLmNoaWxkcmVuWzBdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoZS5jaGlsZHJlblsxXS5zdHlsZS5kaXNwbGF5PSJub25lIn0salF1ZXJ5KGZ1bmN0aW9uKCQpe3JldHVybiAkLmFqYXhTZXR1cCh7Y2FjaGU6ITB9KSxCYWNrYm9uZS4kPSQsZG9jdW1lbnQuZ2lnbmFsLmV2ZW50aWQ9JCgiI2dpZ25hbC13aWRnZXQiKS5kYXRhKCJldmVudGlkIiksZ2V0UGFyYW1ldGVyQnlOYW1lKCJldmVudGlkIikmJihkb2N1bWVudC5naWduYWwuZXZlbnRpZD1nZXRQYXJhbWV0ZXJCeU5hbWUoImV2ZW50aWQiKSksZG9jdW1lbnQuZ2lnbmFsLmV2ZW50aWQ/KGRvY3VtZW50LmdpZ25hbC5jb2x1bW5zPXBhcnNlSW50KGdldFBhcmFtZXRlckJ5TmFtZSgiY29scyIpKSxkb2N1bWVudC5naWduYWwuZm9vdGVyPSJmYWxzZSI9PT1nZXRQYXJhbWV0ZXJCeU5hbWUoImZvb3RlciIpPyExOiEwLGRvY3VtZW50LmdpZ25hbC5mb250c2l6ZT1wYXJzZUZsb2F0KGdldFBhcmFtZXRlckJ5TmFtZSgiZm9udHNpemUiKSksZG9jdW1lbnQuZ2lnbmFsLndpZGdldD1uZXcgZG9jdW1lbnQuZ2lnbmFsLnZpZXdzLkV2ZW50LGRvY3VtZW50LmdpZ25hbC5zdHJlYW09bmV3IFN0cmVhbSxpby5jb25uZWN0KCJ3czovL2dzb2NrZXQuaGVyb2t1YXBwLmNvbTo4MC8iK2RvY3VtZW50LmdpZ25hbC5ldmVudGlkLHt0cmFuc3BvcnRzOlsid2Vic29ja2V0Il19KS5vbigicmVmcmVzaCIsZG9jdW1lbnQuZ2lnbmFsLnN0cmVhbS51cGRhdGUpLGRvY3VtZW50LmdpZ25hbC5mb250c2l6ZSYmJCgiYm9keSIpLmNzcygiZm9udC1zaXplIixkb2N1bWVudC5naWduYWwuZm9udHNpemUrImVtIiksJCh3aW5kb3cpLm9uKCJzY3JvbGxCb3R0b20iLHtvZmZzZXRZOi01MDB9LGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdpZ25hbC5zdHJlYW0udXBkYXRlKCEwKX0pKTp2b2lkIGNvbnNvbGUuZXJyb3IoIlBsZWFzZSBzZXQgVVJJIHBhcmFtZXRlciBldmVudGlkIil9KTs=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 02:19:38 GMT",
                    "Content-Length": "195317",
                    "Date": "Fri, 07 Nov 2014 02:19:38 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/feedhenry/fh-js-sdk/dist/feedhenry-forms.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>window.location</b> and written to <b>the 'setAttribute()' function of a DOM element</b> via the following statements:<ul><li>var l=h?h:window.location;</li><li>this.setAttribute(\"xiRedirectUrl\",l),this.setAttribute(\"redirectUrl\",\"\"),i&amp;&amp;this.setAttribute(\"redirectUrl\",i)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/feedhenry/fh-js-sdk/dist/feedhenry-forms.min.js",
                "path": "/feedhenry/fh-js-sdk/dist/feedhenry-forms.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9mZWVkaGVucnkvZmgtanMtc2RrL2Rpc3QvZmVlZGhlbnJ5LWZvcm1zLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMjYwMTQyDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDAwOjE0OjE0IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwMDoxNDoxNCBHTVQNCg0KIWZ1bmN0aW9uKGEpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyltb2R1bGUuZXhwb3J0cz1hKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShhKTtlbHNle3ZhciBiOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P2I9d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2I9Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmKGI9c2VsZiksYi5mZWVkaGVucnk9YSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiBmdW5jdGlvbiBhKGIsYyxkKXtmdW5jdGlvbiBlKGcsaCl7aWYoIWNbZ10pe2lmKCFiW2ddKXt2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighaCYmaSlyZXR1cm4gaShnLCEwKTtpZihmKXJldHVybiBmKGcsITApO3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2crIiciKX12YXIgaj1jW2ddPXtleHBvcnRzOnt9fTtiW2ddWzBdLmNhbGwoai5leHBvcnRzLGZ1bmN0aW9uKGEpe3ZhciBjPWJbZ11bMV1bYV07cmV0dXJuIGUoYz9jOmEpfSxqLGouZXhwb3J0cyxhLGIsYyxkKX1yZXR1cm4gY1tnXS5leHBvcnRzfWZvcih2YXIgZj0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxnPTA7ZzxkLmxlbmd0aDtnKyspZShkW2ddKTtyZXR1cm4gZX0oezE6W2Z1bmN0aW9uKGEsYil7KGZ1bmN0aW9uKGMpe19fYnJvd3NlcmlmeV9zaGltX3JlcXVpcmVfXz1hLGZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Znx8ZnVuY3Rpb24oYSxiKXt2YXIgYz17fSxkPWMubGliPXt9LGU9ZC5CYXNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm57ZXh0ZW5kOmZ1bmN0aW9uKGIpe2EucHJvdG90eXBlPXRoaXM7dmFyIGM9bmV3IGE7cmV0dXJuIGImJmMubWl4SW4oYiksYy5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpfHwoYy5pbml0PWZ1bmN0aW9uKCl7Yy4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxjLmluaXQucHJvdG90eXBlPWMsYy4kc3VwZXI9dGhpcyxjfSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmV4dGVuZCgpO3JldHVybiBhLmluaXQuYXBwbHkoYSxhcmd1bWVudHMpLGF9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKX19fSgpLGY9ZC5Xb3JkQXJyYXk9ZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oYSxjKXthPXRoaXMud29yZHM9YXx8W10sdGhpcy5zaWdCeXRlcz1jIT1iP2M6NCphLmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fGgpLnN0cmluZ2lmeSh0aGlzKX0sY29uY2F0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMud29yZHMsYz1hLndvcmRzLGQ9dGhpcy5zaWdCeXRlcyxlPWEuc2lnQnl0ZXM7aWYodGhpcy5jbGFtcCgpLGQlNClmb3IodmFyIGY9MDtlPmY7ZisrKXt2YXIgZz1jW2Y+Pj4yXT4+PjI0LWYlNCo4JjI1NTtiW2QrZj4+PjJdfD1nPDwyNC0oZCtmKSU0Kjh9ZWxzZSBpZihjLmxlbmd0aD42NTUzNSlmb3IodmFyIGY9MDtlPmY7Zis9NCliW2QrZj4+PjJdPWNbZj4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsYyk7cmV0dXJuIHRoaXMuc2lnQnl0ZXMrPWUsdGhpc30sY2xhbXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLndvcmRzLGM9dGhpcy5zaWdCeXRlcztiW2M+Pj4yXSY9NDI5NDk2NzI5NTw8MzItYyU0KjgsYi5sZW5ndGg9YS5jZWlsKGMvNCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBhLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCksYX0scmFuZG9tOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1bXSxkPTA7Yj5kO2QrPTQpYy5wdXNoKDQyOTQ5NjcyOTYqYS5yYW5kb20oKXwwKTtyZXR1cm4gbmV3IGYuaW5pdChjLGIpfX0pLGc9Yy5lbmM9e30saD1nLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLndvcmRzLGM9YS5zaWdCeXRlcyxkPVtdLGU9MDtjPmU7ZSsrKXt2YXIgZj1iW2U+Pj4yXT4+PjI0LWUlNCo4JjI1NTtkLnB1c2goKGY+Pj40KS50b1N0cmluZygxNikpLGQucHVzaCgoMTUmZikudG9TdHJpbmcoMTYpKX1yZXR1cm4gZC5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9W10sZD0wO2I+ZDtkKz0yKWNbZD4+PjNdfD1wYXJzZUludChhLnN1YnN0cihkLDIpLDE2KTw8MjQtZCU4KjQ7cmV0dXJuIG5ldyBmLmluaXQoYyxiLzIpfX0saT1nLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLndvcmRzLGM9YS5zaWdCeXRlcyxkPVtdLGU9MDtjPmU7ZSsrKXt2YXIgZj1iW2U+Pj4yXT4+PjI0LWUlNCo4JjI1NTtkLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShmKSl9cmV0dXJuIGQuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPVtdLGQ9MDtiPmQ7ZCsrKWNbZD4+PjJdfD0oMjU1JmEuY2hhckNvZGVBdChkKSk8PDI0LWQlNCo4O3JldHVybiBuZXcgZi5pbml0KGMsYil9fSxqPWcuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShpLnN0cmluZ2lmeShhKSkpfWNhdGNoKGIpe3Rocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKX19LHBhcnNlOmZ1bmN0aW9uKGEpe3JldHVybiBpLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhKSkpfX0saz1kLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09ZS5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgZi5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPWoucGFyc2UoYSkpLHRoaXMuX2RhdGEuY29uY2F0KGEpLHRoaXMuX25EYXRhQnl0ZXMrPWEuc2lnQnl0ZXN9LF9wcm9jZXNzOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX2RhdGEsZD1jLndvcmRzLGU9Yy5zaWdCeXRlcyxnPXRoaXMuYmxvY2tTaXplLGg9NCpnLGk9ZS9oO2k9Yj9hLmNlaWwoaSk6YS5tYXgoKDB8aSktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTt2YXIgaj1pKmcsaz1hLm1pbig0KmosZSk7aWYoail7Zm9yKHZhciBsPTA7aj5sO2wrPWcpdGhpcy5fZG9Qcm9jZXNzQmxvY2soZCxsKTt2YXIgbT1kLnNwbGljZSgwLGopO2Muc2lnQnl0ZXMtPWt9cmV0dXJuIG5ldyBmLmluaXQobSxrKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1lLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGEuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpLGF9LF9taW5CdWZmZXJTaXplOjB9KSxsPShkLkhhc2hlcj1rLmV4dGVuZCh7Y2ZnOmUuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihhKXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQoYSksdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe2sucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fYXBwZW5kKGEpLHRoaXMuX3Byb2Nlc3MoKSx0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbihhKXthJiZ0aGlzLl9hcHBlbmQoYSk7dmFyIGI9dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiBifSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gbmV3IGEuaW5pdChjKS5maW5hbGl6ZShiKX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBuZXcgbC5ITUFDLmluaXQoYSxjKS5maW5hbGl6ZShiKX19fSksYy5hbGdvPXt9KTtyZXR1cm4gY30oTWF0aCk7IWZ1bmN0aW9uKCl7e3ZhciBhPWYsYj1hLmxpYixjPWIuV29yZEFycmF5LGQ9YS5lbmM7ZC5CYXNlNjQ9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYj1hLndvcmRzLGM9YS5zaWdCeXRlcyxkPXRoaXMuX21hcDthLmNsYW1wKCk7Zm9yKHZhciBlPVtdLGY9MDtjPmY7Zis9Mylmb3IodmFyIGc9YltmPj4+Ml0+Pj4yNC1mJTQqOCYyNTUsaD1iW2YrMT4+PjJdPj4+MjQtKGYrMSklNCo4JjI1NSxpPWJbZisyPj4+Ml0+Pj4yNC0oZisyKSU0KjgmMjU1LGo9Zzw8MTZ8aDw8OHxpLGs9MDs0PmsmJmM+ZisuNzUqaztrKyspZS5wdXNoKGQuY2hhckF0KGo+Pj42KigzLWspJjYzKSk7dmFyIGw9ZC5jaGFyQXQoNjQpO2lmKGwpZm9yKDtlLmxlbmd0aCU0OyllLnB1c2gobCk7cmV0dXJuIGUuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoLGQ9dGhpcy5fbWFwLGU9ZC5jaGFyQXQoNjQpO2lmKGUpe3ZhciBmPWEuaW5kZXhPZihlKTstMSE9ZiYmKGI9Zil9Zm9yKHZhciBnPVtdLGg9MCxpPTA7Yj5pO2krKylpZihpJTQpe3ZhciBqPWQuaW5kZXhPZihhLmNoYXJBdChpLTEpKTw8aSU0KjIsaz1kLmluZGV4T2YoYS5jaGFyQXQoaSkpPj4+Ni1pJTQqMjtnW2g+Pj4yXXw9KGp8ayk8PDI0LWglNCo4LGgrK31yZXR1cm4gYy5jcmVhdGUoZyxoKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifX19KCksZi5saWIuQ2lwaGVyfHxmdW5jdGlvbihhKXt2YXIgYj1mLGM9Yi5saWIsZD1jLkJhc2UsZT1jLldvcmRBcnJheSxnPWMuQnVmZmVyZWRCbG9ja0FsZ29yaXRobSxoPWIuZW5jLGk9KGguVXRmOCxoLkJhc2U2NCksaj1iLmFsZ28saz1qLkV2cEtERixsPWMuQ2lwaGVyPWcuZXh0ZW5kKHtjZmc6ZC5leHRlbmQoKSxjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsYSxiKX0sY3JlYXRlRGVjcnlwdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLGEsYil9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChjKSx0aGlzLl94Zm9ybU1vZGU9YSx0aGlzLl9rZXk9Yix0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7Zy5yZXNldC5jYWxsKHRoaXMpLHRoaXMuX2RvUmVzZXQoKX0scHJvY2VzczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fYXBwZW5kKGEpLHRoaXMuX3Byb2Nlc3MoKX0sZmluYWxpemU6ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYXBwZW5kKGEpO3ZhciBiPXRoaXMuX2RvRmluYWxpemUoKTtyZXR1cm4gYn0sa2V5U2l6ZTo0LGl2U2l6ZTo0LF9FTkNfWEZPUk1fTU9ERToxLF9ERUNfWEZPUk1fTU9ERToyLF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiJzdHJpbmciPT10eXBlb2YgYT94OnV9cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKGMsZCxlKXtyZXR1cm4gYShkKS5lbmNyeXB0KGIsYyxkLGUpfSxkZWNyeXB0OmZ1bmN0aW9uKGMsZCxlKXtyZXR1cm4gYShkKS5kZWNyeXB0KGIsYyxkLGUpfX19fSgpfSksbT0oYy5TdHJlYW1DaXBoZXI9bC5leHRlbmQoe19kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fcHJvY2VzcyghMCk7cmV0dXJuIGF9LGJsb2NrU2l6ZToxfSksYi5tb2RlPXt9KSxuPWMuQmxvY2tDaXBoZXJNb2RlPWQuZXh0ZW5kKHtjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5FbmNyeXB0b3IuY3JlYXRlKGEsYil9LGNyZWF0ZURlY3J5cHRvcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoYSxiKX0saW5pdDpmdW5jdGlvbihhLGIpe3RoaXMuX2NpcGhlcj1hLHRoaXMuX2l2PWJ9fSksbz1tLkNCQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQpe3ZhciBlPXRoaXMuX2l2O2lmKGUpe3ZhciBmPWU7dGhpcy5faXY9YX1lbHNlIHZhciBmPXRoaXMuX3ByZXZCbG9jaztmb3IodmFyIGc9MDtkPmc7ZysrKWJbYytnXV49ZltnXX12YXIgYz1uLmV4dGVuZCgpO3JldHVybiBjLkVuY3J5cHRvcj1jLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5fY2lwaGVyLGU9ZC5ibG9ja1NpemU7Yi5jYWxsKHRoaXMsYSxjLGUpLGQuZW5jcnlwdEJsb2NrKGEsYyksdGhpcy5fcHJldkJsb2NrPWEuc2xpY2UoYyxjK2UpfX0pLGMuRGVjcnlwdG9yPWMuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLl9jaXBoZXIsZT1kLmJsb2NrU2l6ZSxmPWEuc2xpY2UoYyxjK2UpO2QuZGVjcnlwdEJsb2NrKGEsYyksYi5jYWxsKHRoaXMsYSxjLGUpLHRoaXMuX3ByZXZCbG9jaz1mfX0pLGN9KCkscD1iLnBhZD17fSxxPXAuUGtjczc9e3BhZDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz00KmIsZD1jLWEuc2lnQnl0ZXMlYyxmPWQ8PDI0fGQ8PDE2fGQ8PDh8ZCxnPVtdLGg9MDtkPmg7aCs9NClnLnB1c2goZik7dmFyIGk9ZS5jcmVhdGUoZyxkKTthLmNvbmNhdChpKX0sdW5wYWQ6ZnVuY3Rpb24oYSl7dmFyIGI9MjU1JmEud29yZHNbYS5zaWdCeXRlcy0xPj4+Ml07YS5zaWdCeXRlcy09Yn19LHI9KGMuQmxvY2tDaXBoZXI9bC5leHRlbmQoe2NmZzpsLmNmZy5leHRlbmQoe21vZGU6byxwYWRkaW5nOnF9KSxyZXNldDpmdW5jdGlvbigpe2wucmVzZXQuY2FsbCh0aGlzKTt2YXIgYT10aGlzLmNmZyxiPWEuaXYsYz1hLm1vZGU7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl2YXIgZD1jLmNyZWF0ZUVuY3J5cHRvcjtlbHNle3ZhciBkPWMuY3JlYXRlRGVjcnlwdG9yO3RoaXMuX21pbkJ1ZmZlclNpemU9MX10aGlzLl9tb2RlPWQuY2FsbChjLHRoaXMsYiYmYi53b3Jkcyl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGIpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKGEsYil9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jZmcucGFkZGluZztpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXthLnBhZCh0aGlzLl9kYXRhLHRoaXMuYmxvY2tTaXplKTt2YXIgYj10aGlzLl9wcm9jZXNzKCEwKX1lbHNle3ZhciBiPXRoaXMuX3Byb2Nlc3MoITApO2EudW5wYWQoYil9cmV0dXJuIGJ9LGJsb2NrU2l6ZTo0fSksYy5DaXBoZXJQYXJhbXM9ZC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oYSl7dGhpcy5taXhJbihhKX0sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fSkpLHM9Yi5mb3JtYXQ9e30sdD1zLk9wZW5TU0w9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYj1hLmNpcGhlcnRleHQsYz1hLnNhbHQ7aWYoYyl2YXIgZD1lLmNyZWF0ZShbMTM5ODg5MzY4NCwxNzAxMDc2ODMxXSkuY29uY2F0KGMpLmNvbmNhdChiKTtlbHNlIHZhciBkPWI7cmV0dXJuIGQudG9TdHJpbmcoaSl9LHBhcnNlOmZ1bmN0aW9uKGEpe3ZhciBiPWkucGFyc2UoYSksYz1iLndvcmRzO2lmKDEzOTg4OTM2ODQ9PWNbMF0mJjE3MDEwNzY4MzE9PWNbMV0pe3ZhciBkPWUuY3JlYXRlKGMuc2xpY2UoMiw0KSk7Yy5zcGxpY2UoMCw0KSxiLnNpZ0J5dGVzLT0xNn1yZXR1cm4gci5jcmVhdGUoe2NpcGhlcnRleHQ6YixzYWx0OmR9KX19LHU9Yy5TZXJpYWxpemFibGVDaXBoZXI9ZC5leHRlbmQoe2NmZzpkLmV4dGVuZCh7Zm9ybWF0OnR9KSxlbmNyeXB0OmZ1bmN0aW9uKGEsYixjLGQpe2Q9dGhpcy5jZmcuZXh0ZW5kKGQpO3ZhciBlPWEuY3JlYXRlRW5jcnlwdG9yKGMsZCksZj1lLmZpbmFsaXplKGIpLGc9ZS5jZmc7cmV0dXJuIHIuY3JlYXRlKHtjaXBoZXJ0ZXh0OmYsa2V5OmMsaXY6Zy5pdixhbGdvcml0aG06YSxtb2RlOmcubW9kZSxwYWRkaW5nOmcucGFkZGluZyxibG9ja1NpemU6YS5ibG9ja1NpemUsZm9ybWF0dGVyOmQuZm9ybWF0fSl9LGRlY3J5cHQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZD10aGlzLmNmZy5leHRlbmQoZCksYj10aGlzLl9wYXJzZShiLGQuZm9ybWF0KTt2YXIgZT1hLmNyZWF0ZURlY3J5cHRvcihjLGQpLmZpbmFsaXplKGIuY2lwaGVydGV4dCk7cmV0dXJuIGV9LF9wYXJzZTpmdW5jdGlvbihhLGIpe3JldHVybiJzdHJpbmciPT10eXBlb2YgYT9iLnBhcnNlKGEsdGhpcyk6YX19KSx2PWIua2RmPXt9LHc9di5PcGVuU1NMPXtleGVjdXRlOmZ1bmN0aW9uKGEsYixjLGQpe2R8fChkPWUucmFuZG9tKDgpKTt2YXIgZj1rLmNyZWF0ZSh7a2V5U2l6ZTpiK2N9KS5jb21wdXRlKGEsZCksZz1lLmNyZWF0ZShmLndvcmRzLnNsaWNlKGIpLDQqYyk7cmV0dXJuIGYuc2lnQnl0ZXM9NCpiLHIuY3JlYXRlKHtrZXk6ZixpdjpnLHNhbHQ6ZH0pfX0seD1jLlBhc3N3b3JkQmFzZWRDaXBoZXI9dS5leHRlbmQoe2NmZzp1LmNmZy5leHRlbmQoe2tkZjp3fSksZW5jcnlwdDpmdW5jdGlvbihhLGIsYyxkKXtkPXRoaXMuY2ZnLmV4dGVuZChkKTt2YXIgZT1kLmtkZi5leGVjdXRlKGMsYS5rZXlTaXplLGEuaXZTaXplKTtkLml2PWUuaXY7dmFyIGY9dS5lbmNyeXB0LmNhbGwodGhpcyxhLGIsZS5rZXksZCk7cmV0dXJuIGYubWl4SW4oZSksZn0sZGVjcnlwdDpmdW5jdGlvbihhLGIsYyxkKXtkPXRoaXMuY2ZnLmV4dGVuZChkKSxiPXRoaXMuX3BhcnNlKGIsZC5mb3JtYXQpO3ZhciBlPWQua2RmLmV4ZWN1dGUoYyxhLmtleVNpemUsYS5pdlNpemUsYi5zYWx0KTtkLml2PWUuaXY7dmFyIGY9dS5kZWNyeXB0LmNhbGwodGhpcyxhLGIsZS5rZXksZCk7cmV0dXJuIGZ9fSl9KCksZnVuY3Rpb24oKXt2YXIgYT1mLGI9YS5saWIsYz1iLkJsb2NrQ2lwaGVyLGQ9YS5hbGdvLGU9W10sZz1bXSxoPVtdLGk9W10saj1bXSxrPVtdLGw9W10sbT1bXSxuPVtdLG89W107IWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MDsyNTY+YjtiKyspYVtiXT0xMjg+Yj9iPDwxOmI8PDFeMjgzO2Zvcih2YXIgYz0wLGQ9MCxiPTA7MjU2PmI7YisrKXt2YXIgZj1kXmQ8PDFeZDw8Ml5kPDwzXmQ8PDQ7Zj1mPj4+OF4yNTUmZl45OSxlW2NdPWYsZ1tmXT1jO3ZhciBwPWFbY10scT1hW3BdLHI9YVtxXSxzPTI1NyphW2ZdXjE2ODQzMDA4KmY7aFtjXT1zPDwyNHxzPj4+OCxpW2NdPXM8PDE2fHM+Pj4xNixqW2NdPXM8PDh8cz4+PjI0LGtbY109czt2YXIgcz0xNjg0MzAwOSpyXjY1NTM3KnFeMjU3KnBeMTY4NDMwMDgqYztsW2ZdPXM8PDI0fHM+Pj44LG1bZl09czw8MTZ8cz4+PjE2LG5bZl09czw8OHxzPj4+MjQsb1tmXT1zLGM/KGM9cF5hW2FbYVtyXnBdXV0sZF49YVthW2RdXSk6Yz1kPTF9fSgpO3ZhciBwPVswLDEsMiw0LDgsMTYsMzIsNjQsMTI4LDI3LDU0XSxxPWQuQUVTPWMuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9rZXksYj1hLndvcmRzLGM9YS5zaWdCeXRlcy80LGQ9dGhpcy5fblJvdW5kcz1jKzYsZj00KihkKzEpLGc9dGhpcy5fa2V5U2NoZWR1bGU9W10saD0wO2Y+aDtoKyspaWYoYz5oKWdbaF09YltoXTtlbHNle3ZhciBpPWdbaC0xXTtoJWM/Yz42JiZoJWM9PTQmJihpPWVbaT4+PjI0XTw8MjR8ZVtpPj4+MTYmMjU1XTw8MTZ8ZVtpPj4+OCYyNTVdPDw4fGVbMjU1JmldKTooaT1pPDw4fGk+Pj4yNCxpPWVbaT4+PjI0XTw8MjR8ZVtpPj4+MTYmMjU1XTw8MTZ8ZVtpPj4+OCYyNTVdPDw4fGVbMjU1JmldLGlePXBbaC9jfDBdPDwyNCksZ1toXT1nW2gtY11eaX1mb3IodmFyIGo9dGhpcy5faW52S2V5U2NoZWR1bGU9W10saz0wO2Y+aztrKyspe3ZhciBoPWYtaztpZihrJTQpdmFyIGk9Z1toXTtlbHNlIHZhciBpPWdbaC00XTtqW2tdPTQ+a3x8ND49aD9pOmxbZVtpPj4+MjRdXV5tW2VbaT4+PjE2JjI1NV1dXm5bZVtpPj4+OCYyNTVdXV5vW2VbMjU1JmldXX19LGVuY3J5cHRCbG9jazpmdW5jdGlvbihhLGIpe3RoaXMuX2RvQ3J5cHRCbG9jayhhLGIsdGhpcy5fa2V5U2NoZWR1bGUsaCxpLGosayxlKX0sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9YVtiKzFdO2FbYisxXT1hW2IrM10sYVtiKzNdPWMsdGhpcy5fZG9DcnlwdEJsb2NrKGEsYix0aGlzLl9pbnZLZXlTY2hlZHVsZSxsLG0sbixvLGcpO3ZhciBjPWFbYisxXTthW2IrMV09YVtiKzNdLGFbYiszXT1jfSxfZG9DcnlwdEJsb2NrOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7Zm9yKHZhciBpPXRoaXMuX25Sb3VuZHMsaj1hW2JdXmNbMF0saz1hW2IrMV1eY1sxXSxsPWFbYisyXV5jWzJdLG09YVtiKzNdXmNbM10sbj00LG89MTtpPm87bysrKXt2YXIgcD1kW2o+Pj4yNF1eZVtrPj4+MTYmMjU1XV5mW2w+Pj44JjI1NV1eZ1syNTUmbV1eY1tuKytdLHE9ZFtrPj4+MjRdXmVbbD4+PjE2JjI1NV1eZlttPj4+OCYyNTVdXmdbMjU1JmpdXmNbbisrXSxyPWRbbD4+PjI0XV5lW20+Pj4xNiYyNTVdXmZbaj4+PjgmMjU1XV5nWzI1NSZrXV5jW24rK10scz1kW20+Pj4yNF1eZVtqPj4+MTYmMjU1XV5mW2s+Pj44JjI1NV1eZ1syNTUmbF1eY1tuKytdO2o9cCxrPXEsbD1yLG09c312YXIgcD0oaFtqPj4+MjRdPDwyNHxoW2s+Pj4xNiYyNTVdPDwxNnxoW2w+Pj44JjI1NV08PDh8aFsyNTUmbV0pXmNbbisrXSxxPShoW2s+Pj4yNF08PDI0fGhbbD4+PjE2JjI1NV08PDE2fGhbbT4+PjgmMjU1XTw8OHxoWzI1NSZqXSleY1tuKytdLHI9KGhbbD4+PjI0XTw8MjR8aFttPj4+MTYmMjU1XTw8MTZ8aFtqPj4+OCYyNTVdPDw4fGhbMjU1JmtdKV5jW24rK10scz0oaFttPj4+MjRdPDwyNHxoW2o+Pj4xNiYyNTVdPDwxNnxoW2s+Pj44JjI1NV08PDh8aFsyNTUmbF0pXmNbbisrXTthW2JdPXAsYVtiKzFdPXEsYVtiKzJdPXIsYVtiKzNdPXN9LGtleVNpemU6OH0pO2EuQUVTPWMuX2NyZWF0ZUhlbHBlcihxKX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjLGQsZSxmLGcpe3ZhciBoPWErKGImY3x+YiZkKStlK2c7cmV0dXJuKGg8PGZ8aD4+PjMyLWYpK2J9ZnVuY3Rpb24gYyhhLGIsYyxkLGUsZixnKXt2YXIgaD1hKyhiJmR8YyZ+ZCkrZStnO3JldHVybihoPDxmfGg+Pj4zMi1mKStifWZ1bmN0aW9uIGQoYSxiLGMsZCxlLGYsZyl7dmFyIGg9YSsoYl5jXmQpK2UrZztyZXR1cm4oaDw8ZnxoPj4+MzItZikrYn1mdW5jdGlvbiBlKGEsYixjLGQsZSxmLGcpe3ZhciBoPWErKGNeKGJ8fmQpKStlK2c7cmV0dXJuKGg8PGZ8aD4+PjMyLWYpK2J9dmFyIGc9ZixoPWcubGliLGk9aC5Xb3JkQXJyYXksaj1oLkhhc2hlcixrPWcuYWxnbyxsPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgYj0wOzY0PmI7YisrKWxbYl09NDI5NDk2NzI5NiphLmFicyhhLnNpbihiKzEpKXwwfSgpO3ZhciBtPWsuTUQ1PWouZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGYpe2Zvcih2YXIgZz0wOzE2Pmc7ZysrKXt2YXIgaD1mK2csaT1hW2hdO2FbaF09MTY3MTE5MzUmKGk8PDh8aT4+PjI0KXw0Mjc4MjU1MzYwJihpPDwyNHxpPj4+OCl9dmFyIGo9dGhpcy5faGFzaC53b3JkcyxrPWFbZiswXSxtPWFbZisxXSxuPWFbZisyXSxvPWFbZiszXSxwPWFbZis0XSxxPWFbZis1XSxyPWFbZis2XSxzPWFbZis3XSx0PWFbZis4XSx1PWFbZis5XSx2PWFbZisxMF0sdz1hW2YrMTFdLHg9YVtmKzEyXSx5PWFbZisxM10sej1hW2YrMTRdLEE9YVtmKzE1XSxCPWpbMF0sQz1qWzFdLEQ9alsyXSxFPWpbM107Qj1iKEIsQyxELEUsayw3LGxbMF0pLEU9YihFLEIsQyxELG0sMTIsbFsxXSksRD1iKEQsRSxCLEMsbiwxNyxsWzJdKSxDPWIoQyxELEUsQixvLDIyLGxbM10pLEI9YihCLEMsRCxFLHAsNyxsWzRdKSxFPWIoRSxCLEMsRCxxLDEyLGxbNV0pLEQ9YihELEUsQixDLHIsMTcsbFs2XSksQz1iKEMsRCxFLEIscywyMixsWzddKSxCPWIoQixDLEQsRSx0LDcsbFs4XSksRT1iKEUsQixDLEQsdSwxMixsWzldKSxEPWIoRCxFLEIsQyx2LDE3LGxbMTBdKSxDPWIoQyxELEUsQix3LDIyLGxbMTFdKSxCPWIoQixDLEQsRSx4LDcsbFsxMl0pLEU9YihFLEIsQyxELHksMTIsbFsxM10pLEQ9YihELEUsQixDLHosMTcsbFsxNF0pLEM9YihDLEQsRSxCLEEsMjIsbFsxNV0pLEI9YyhCLEMsRCxFLG0sNSxsWzE2XSksRT1jKEUsQixDLEQsciw5LGxbMTddKSxEPWMoRCxFLEIsQyx3LDE0LGxbMThdKSxDPWMoQyxELEUsQixrLDIwLGxbMTldKSxCPWMoQixDLEQsRSxxLDUsbFsyMF0pLEU9YyhFLEIsQyxELHYsOSxsWzIxXSksRD1jKEQsRSxCLEMsQSwxNCxsWzIyXSksQz1jKEMsRCxFLEIscCwyMCxsWzIzXSksQj1jKEIsQyxELEUsdSw1LGxbMjRdKSxFPWMoRSxCLEMsRCx6LDksbFsyNV0pLEQ9YyhELEUsQixDLG8sMTQsbFsyNl0pLEM9YyhDLEQsRSxCLHQsMjAsbFsyN10pLEI9YyhCLEMsRCxFLHksNSxsWzI4XSksRT1jKEUsQixDLEQsbiw5LGxbMjldKSxEPWMoRCxFLEIsQyxzLDE0LGxbMzBdKSxDPWMoQyxELEUsQix4LDIwLGxbMzFdKSxCPWQoQixDLEQsRSxxLDQsbFszMl0pLEU9ZChFLEIsQyxELHQsMTEsbFszM10pLEQ9ZChELEUsQixDLHcsMTYsbFszNF0pLEM9ZChDLEQsRSxCLHosMjMsbFszNV0pLEI9ZChCLEMsRCxFLG0sNCxsWzM2XSksRT1kKEUsQixDLEQscCwxMSxsWzM3XSksRD1kKEQsRSxCLEMscywxNixsWzM4XSksQz1kKEMsRCxFLEIsdiwyMyxsWzM5XSksQj1kKEIsQyxELEUseSw0LGxbNDBdKSxFPWQoRSxCLEMsRCxrLDExLGxbNDFdKSxEPWQoRCxFLEIsQyxvLDE2LGxbNDJdKSxDPWQoQyxELEUsQixyLDIzLGxbNDNdKSxCPWQoQixDLEQsRSx1LDQsbFs0NF0pLEU9ZChFLEIsQyxELHgsMTEsbFs0NV0pLEQ9ZChELEUsQixDLEEsMTYsbFs0Nl0pLEM9ZChDLEQsRSxCLG4sMjMsbFs0N10pLEI9ZShCLEMsRCxFLGssNixsWzQ4XSksRT1lKEUsQixDLEQscywxMCxsWzQ5XSksRD1lKEQsRSxCLEMseiwxNSxsWzUwXSksQz1lKEMsRCxFLEIscSwyMSxsWzUxXSksQj1lKEIsQyxELEUseCw2LGxbNTJdKSxFPWUoRSxCLEMsRCxvLDEwLGxbNTNdKSxEPWUoRCxFLEIsQyx2LDE1LGxbNTRdKSxDPWUoQyxELEUsQixtLDIxLGxbNTVdKSxCPWUoQixDLEQsRSx0LDYsbFs1Nl0pLEU9ZShFLEIsQyxELEEsMTAsbFs1N10pLEQ9ZShELEUsQixDLHIsMTUsbFs1OF0pLEM9ZShDLEQsRSxCLHksMjEsbFs1OV0pLEI9ZShCLEMsRCxFLHAsNixsWzYwXSksRT1lKEUsQixDLEQsdywxMCxsWzYxXSksRD1lKEQsRSxCLEMsbiwxNSxsWzYyXSksQz1lKEMsRCxFLEIsdSwyMSxsWzYzXSksalswXT1qWzBdK0J8MCxqWzFdPWpbMV0rQ3wwLGpbMl09alsyXStEfDAsalszXT1qWzNdK0V8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9kYXRhLGM9Yi53b3JkcyxkPTgqdGhpcy5fbkRhdGFCeXRlcyxlPTgqYi5zaWdCeXRlcztjW2U+Pj41XXw9MTI4PDwyNC1lJTMyO3ZhciBmPWEuZmxvb3IoZC80Mjk0OTY3Mjk2KSxnPWQ7Y1soZSs2ND4+Pjk8PDQpKzE1XT0xNjcxMTkzNSYoZjw8OHxmPj4+MjQpfDQyNzgyNTUzNjAmKGY8PDI0fGY+Pj44KSxjWyhlKzY0Pj4+OTw8NCkrMTRdPTE2NzExOTM1JihnPDw4fGc+Pj4yNCl8NDI3ODI1NTM2MCYoZzw8MjR8Zz4+PjgpLGIuc2lnQnl0ZXM9NCooYy5sZW5ndGgrMSksdGhpcy5fcHJvY2VzcygpO2Zvcih2YXIgaD10aGlzLl9oYXNoLGk9aC53b3JkcyxqPTA7ND5qO2orKyl7dmFyIGs9aVtqXTtpW2pdPTE2NzExOTM1JihrPDw4fGs+Pj4yNCl8NDI3ODI1NTM2MCYoazw8MjR8az4+PjgpfXJldHVybiBofSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWouY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gYS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksYX19KTtnLk1ENT1qLl9jcmVhdGVIZWxwZXIobSksZy5IbWFjTUQ1PWouX2NyZWF0ZUhtYWNIZWxwZXIobSl9KE1hdGgpLGZ1bmN0aW9uKCl7dmFyIGE9ZixiPWEubGliLGM9Yi5Xb3JkQXJyYXksZD1iLkhhc2hlcixlPWEuYWxnbyxnPVtdLGg9ZS5TSEExPWQuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGMuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX2hhc2gud29yZHMsZD1jWzBdLGU9Y1sxXSxmPWNbMl0saD1jWzNdLGk9Y1s0XSxqPTA7ODA+ajtqKyspe2lmKDE2PmopZ1tqXT0wfGFbYitqXTtlbHNle3ZhciBrPWdbai0zXV5nW2otOF1eZ1tqLTE0XV5nW2otMTZdO2dbal09azw8MXxrPj4+MzF9dmFyIGw9KGQ8PDV8ZD4+PjI3KStpK2dbal07bCs9MjA+aj8oZSZmfH5lJmgpKzE1MTg1MDAyNDk6NDA+aj8oZV5mXmgpKzE4NTk3NzUzOTM6NjA+aj8oZSZmfGUmaHxmJmgpLTE4OTQwMDc1ODg6KGVeZl5oKS04OTk0OTc1MTQsaT1oLGg9ZixmPWU8PDMwfGU+Pj4yLGU9ZCxkPWx9Y1swXT1jWzBdK2R8MCxjWzFdPWNbMV0rZXwwLGNbMl09Y1syXStmfDAsY1szXT1jWzNdK2h8MCxjWzRdPWNbNF0raXwwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2RhdGEsYj1hLndvcmRzLGM9OCp0aGlzLl9uRGF0YUJ5dGVzLGQ9OCphLnNpZ0J5dGVzO3JldHVybiBiW2Q+Pj41XXw9MTI4PDwyNC1kJTMyLGJbKGQrNjQ+Pj45PDw0KSsxNF09TWF0aC5mbG9vcihjLzQyOTQ5NjcyOTYpLGJbKGQrNjQ+Pj45PDw0KSsxNV09YyxhLnNpZ0J5dGVzPTQqYi5sZW5ndGgsdGhpcy5fcHJvY2VzcygpLHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ZC5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBhLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSxhfX0pO2EuU0hBMT1kLl9jcmVhdGVIZWxwZXIoaCksYS5IbWFjU0hBMT1kLl9jcmVhdGVIbWFjSGVscGVyKGgpfSgpLGZ1bmN0aW9uKGEpe3t2YXIgYj1mLGM9Yi5saWIsZD1jLkJhc2UsZT1jLldvcmRBcnJheSxnPWIueDY0PXt9O2cuV29yZD1kLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe3RoaXMuaGlnaD1hLHRoaXMubG93PWJ9fSksZy5Xb3JkQXJyYXk9ZC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oYixjKXtiPXRoaXMud29yZHM9Ynx8W10sdGhpcy5zaWdCeXRlcz1jIT1hP2M6OCpiLmxlbmd0aH0sdG9YMzI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy53b3JkcyxiPWEubGVuZ3RoLGM9W10sZD0wO2I+ZDtkKyspe3ZhciBmPWFbZF07Yy5wdXNoKGYuaGlnaCksYy5wdXNoKGYubG93KX1yZXR1cm4gZS5jcmVhdGUoYyx0aGlzLnNpZ0J5dGVzKX0sY2xvbmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZC5jbG9uZS5jYWxsKHRoaXMpLGI9YS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGM9Yi5sZW5ndGgsZT0wO2M+ZTtlKyspYltlXT1iW2VdLmNsb25lKCk7cmV0dXJuIGF9fSl9fSgpLGZ1bmN0aW9uKGEpe3ZhciBiPWYsYz1iLmxpYixkPWMuV29yZEFycmF5LGU9Yy5IYXNoZXIsZz1iLmFsZ28saD1bXSxpPVtdOyFmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7Zm9yKHZhciBjPWEuc3FydChiKSxkPTI7Yz49ZDtkKyspaWYoIShiJWQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIDQyOTQ5NjcyOTYqKGEtKDB8YSkpfDB9Zm9yKHZhciBkPTIsZT0wOzY0PmU7KWIoZCkmJig4PmUmJihoW2VdPWMoYS5wb3coZCwuNSkpKSxpW2VdPWMoYS5wb3coZCwxLzMpKSxlKyspLGQrK30oKTt2YXIgaj1bXSxrPWcuU0hBMjU2PWUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGQuaW5pdChoLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX2hhc2gud29yZHMsZD1jWzBdLGU9Y1sxXSxmPWNbMl0sZz1jWzNdLGg9Y1s0XSxrPWNbNV0sbD1jWzZdLG09Y1s3XSxuPTA7NjQ+bjtuKyspe2lmKDE2Pm4paltuXT0wfGFbYituXTtlbHNle3ZhciBvPWpbbi0xNV0scD0obzw8MjV8bz4+PjcpXihvPDwxNHxvPj4+MTgpXm8+Pj4zLHE9altuLTJdLHI9KHE8PDE1fHE+Pj4xNyleKHE8PDEzfHE+Pj4xOSlecT4+PjEwO2pbbl09cCtqW24tN10rcitqW24tMTZdfXZhciBzPWgma15+aCZsLHQ9ZCZlXmQmZl5lJmYsdT0oZDw8MzB8ZD4+PjIpXihkPDwxOXxkPj4+MTMpXihkPDwxMHxkPj4+MjIpLHY9KGg8PDI2fGg+Pj42KV4oaDw8MjF8aD4+PjExKV4oaDw8N3xoPj4+MjUpLHc9bSt2K3MraVtuXStqW25dLHg9dSt0O209bCxsPWssaz1oLGg9Zyt3fDAsZz1mLGY9ZSxlPWQsZD13K3h8MH1jWzBdPWNbMF0rZHwwLGNbMV09Y1sxXStlfDAsY1syXT1jWzJdK2Z8MCxjWzNdPWNbM10rZ3wwLGNbNF09Y1s0XStofDAsY1s1XT1jWzVdK2t8MCxjWzZdPWNbNl0rbHwwLGNbN109Y1s3XSttfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fZGF0YSxjPWIud29yZHMsZD04KnRoaXMuX25EYXRhQnl0ZXMsZT04KmIuc2lnQnl0ZXM7cmV0dXJuIGNbZT4+PjVdfD0xMjg8PDI0LWUlMzIsY1soZSs2ND4+Pjk8PDQpKzE0XT1hLmZsb29yKGQvNDI5NDk2NzI5NiksY1soZSs2ND4+Pjk8PDQpKzE1XT1kLGIuc2lnQnl0ZXM9NCpjLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1lLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGEuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGF9fSk7Yi5TSEEyNTY9ZS5fY3JlYXRlSGVscGVyKGspLGIuSG1hY1NIQTI1Nj1lLl9jcmVhdGVIbWFjSGVscGVyKGspfShNYXRoKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZy5jcmVhdGUuYXBwbHkoZyxhcmd1bWVudHMpfXZhciBiPWYsYz1iLmxpYixkPWMuSGFzaGVyLGU9Yi54NjQsZz1lLldvcmQsaD1lLldvcmRBcnJheSxpPWIuYWxnbyxqPVthKDExMTYzNTI0MDgsMzYwOTc2NzQ1OCksYSgxODk5NDQ3NDQxLDYwMjg5MTcyNSksYSgzMDQ5MzIzNDcxLDM5NjQ0ODQzOTkpLGEoMzkyMTAwOTU3MywyMTczMjk1NTQ4KSxhKDk2MTk4NzE2Myw0MDgxNjI4NDcyKSxhKDE1MDg5NzA5OTMsMzA1MzgzNDI2NSksYSgyNDUzNjM1NzQ4LDI5Mzc2NzE1NzkpLGEoMjg3MDc2MzIyMSwzNjY0NjA5NTYwKSxhKDM2MjQzODEwODAsMjczNDg4MzM5NCksYSgzMTA1OTg0MDEsMTE2NDk5NjU0MiksYSg2MDcyMjUyNzgsMTMyMzYxMDc2NCksYSgxNDI2ODgxOTg3LDM1OTAzMDQ5OTQpLGEoMTkyNTA3ODM4OCw0MDY4MTgyMzgzKSxhKDIxNjIwNzgyMDYsOTkxMzM2MTEzKSxhKDI2MTQ4ODgxMDMsNjMzODAzMzE3KSxhKDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCksYSgzODM1MzkwNDAxLDI2NjY2MTM0NTgpLGEoNDAyMjIyNDc3NCw5NDQ3MTExMzkpLGEoMjY0MzQ3MDc4LDIzNDEyNjI3NzMpLGEoNjA0ODA3NjI4LDIwMDc4MDA5MzMpLGEoNzcwMjU1OTgzLDE0OTU5OTA5MDEpLGEoMTI0OTE1MDEyMiwxODU2NDMxMjM1KSxhKDE1NTUwODE2OTIsMzE3NTIxODEzMiksYSgxOTk2MDY0OTg2LDIxOTg5NTA4MzcpLGEoMjU1NDIyMDg4MiwzOTk5NzE5MzM5KSxhKDI4MjE4MzQzNDksNzY2Nzg0MDE2KSxhKDI5NTI5OTY4MDgsMjU2NjU5NDg3OSksYSgzMjEwMzEzNjcxLDMyMDMzMzc5NTYpLGEoMzMzNjU3MTg5MSwxMDM0NDU3MDI2KSxhKDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSksYSgxMTM5MjY5OTMsMzc1ODMyNjM4MyksYSgzMzgyNDE4OTUsMTY4NzE3OTM2KSxhKDY2NjMwNzIwNSwxMTg4MTc5OTY0KSxhKDc3MzUyOTkxMiwxNTQ2MDQ1NzM0KSxhKDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSksYSgxMzk2MTgyMjkxLDI2NDM4MzM4MjMpLGEoMTY5NTE4MzcwMCwyMzQzNTI3MzkwKSxhKDE5ODY2NjEwNTEsMTAxNDQ3NzQ4MCksYSgyMTc3MDI2MzUwLDEyMDY3NTkxNDIpLGEoMjQ1Njk1NjAzNywzNDQwNzc2MjcpLGEoMjczMDQ4NTkyMSwxMjkwODYzNDYwKSxhKDI4MjAzMDI0MTEsMzE1ODQ1NDI3MyksYSgzMjU5NzMwODAwLDM1MDU5NTI2NTcpLGEoMzM0NTc2NDc3MSwxMDYyMTcwMDgpLGEoMzUxNjA2NTgxNywzNjA2MDA4MzQ0KSxhKDM2MDAzNTI4MDQsMTQzMjcyNTc3NiksYSg0MDk0NTcxOTA5LDE0NjcwMzE1OTQpLGEoMjc1NDIzMzQ0LDg1MTE2OTcyMCksYSg0MzAyMjc3MzQsMzEwMDgyMzc1MiksYSg1MDY5NDg2MTYsMTM2MzI1ODE5NSksYSg2NTkwNjA1NTYsMzc1MDY4NTU5MyksYSg4ODM5OTc4NzcsMzc4NTA1MDI4MCksYSg5NTgxMzk1NzEsMzMxODMwNzQyNyksYSgxMzIyODIyMjE4LDM4MTI3MjM0MDMpLGEoMTUzNzAwMjA2MywyMDAzMDM0OTk1KSxhKDE3NDc4NzM3NzksMzYwMjAzNjg5OSksYSgxOTU1NTYyMjIyLDE1NzU5OTAwMTIpLGEoMjAyNDEwNDgxNSwxMTI1NTkyOTI4KSxhKDIyMjc3MzA0NTIsMjcxNjkwNDMwNiksYSgyMzYxODUyNDI0LDQ0Mjc3NjA0NCksYSgyNDI4NDM2NDc0LDU5MzY5ODM0NCksYSgyNzU2NzM0MTg3LDM3MzMxMTAyNDkpLGEoMzIwNDAzMTQ3OSwyOTk5MzUxNTczKSxhKDMzMjkzMjUyOTgsMzgxNTkyMDQyNyksYSgzMzkxNTY5NjE0LDM5MjgzODM5MDApLGEoMzUxNTI2NzI3MSw1NjYyODA3MTEpLGEoMzk0MDE4NzYwNiwzNDU0MDY5NTM0KSxhKDQxMTg2MzAyNzEsNDAwMDIzOTk5MiksYSgxMTY0MTg0NzQsMTkxNDEzODU1NCksYSgxNzQyOTI0MjEsMjczMTA1NTI3MCksYSgyODkzODAzNTYsMzIwMzk5MzAwNiksYSg0NjAzOTMyNjksMzIwNjIwMzE1KSxhKDY4NTQ3MTczMyw1ODc0OTY4MzYpLGEoODUyMTQyOTcxLDEwODY3OTI4NTEpLGEoMTAxNzAzNjI5OCwzNjU1NDMxMDApLGEoMTEyNjAwMDU4MCwyNjE4Mjk3Njc2KSxhKDEyODgwMzM0NzAsMzQwOTg1NTE1OCksYSgxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYpLGEoMTYwNzE2NzkxNSw5ODcxNjc0NjgpLGEoMTgxNjQwMjMxNiwxMjQ2MTg5NTkxKV0saz1bXTshZnVuY3Rpb24oKXtmb3IodmFyIGI9MDs4MD5iO2IrKylrW2JdPWEoKX0oKTt2YXIgbD1pLlNIQTUxMj1kLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBoLmluaXQoW25ldyBnLmluaXQoMTc3OTAzMzcwMyw0MDg5MjM1NzIwKSxuZXcgZy5pbml0KDMxNDQxMzQyNzcsMjIyNzg3MzU5NSksbmV3IGcuaW5pdCgxMDEzOTA0MjQyLDQyNzExNzU3MjMpLG5ldyBnLmluaXQoMjc3MzQ4MDc2MiwxNTk1NzUwMTI5KSxuZXcgZy5pbml0KDEzNTk4OTMxMTksMjkxNzU2NTEzNyksbmV3IGcuaW5pdCgyNjAwODIyOTI0LDcyNTUxMTE5OSksbmV3IGcuaW5pdCg1Mjg3MzQ2MzUsNDIxNTM4OTU0NyksbmV3IGcuaW5pdCgxNTQxNDU5MjI1LDMyNzAzMzIwOSldKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX2hhc2gud29yZHMsZD1jWzBdLGU9Y1sxXSxmPWNbMl0sZz1jWzNdLGg9Y1s0XSxpPWNbNV0sbD1jWzZdLG09Y1s3XSxuPWQuaGlnaCxvPWQubG93LHA9ZS5oaWdoLHE9ZS5sb3cscj1mLmhpZ2gscz1mLmxvdyx0PWcuaGlnaCx1PWcubG93LHY9aC5oaWdoLHc9aC5sb3cseD1pLmhpZ2gseT1pLmxvdyx6PWwuaGlnaCxBPWwubG93LEI9bS5oaWdoLEM9bS5sb3csRD1uLEU9byxGPXAsRz1xLEg9cixJPXMsSj10LEs9dSxMPXYsTT13LE49eCxPPXksUD16LFE9QSxSPUIsUz1DLFQ9MDs4MD5UO1QrKyl7dmFyIFU9a1tUXTtpZigxNj5UKXZhciBWPVUuaGlnaD0wfGFbYisyKlRdLFc9VS5sb3c9MHxhW2IrMipUKzFdO2Vsc2V7dmFyIFg9a1tULTE1XSxZPVguaGlnaCxaPVgubG93LCQ9KFk+Pj4xfFo8PDMxKV4oWT4+Pjh8Wjw8MjQpXlk+Pj43LF89KFo+Pj4xfFk8PDMxKV4oWj4+Pjh8WTw8MjQpXihaPj4+N3xZPDwyNSksYWI9a1tULTJdLGJiPWFiLmhpZ2gsY2I9YWIubG93LGRiPShiYj4+PjE5fGNiPDwxMyleKGJiPDwzfGNiPj4+MjkpXmJiPj4+NixlYj0oY2I+Pj4xOXxiYjw8MTMpXihjYjw8M3xiYj4+PjI5KV4oY2I+Pj42fGJiPDwyNiksZmI9a1tULTddLGdiPWZiLmhpZ2gsaGI9ZmIubG93LGliPWtbVC0xNl0samI9aWIuaGlnaCxrYj1pYi5sb3csVz1fK2hiLFY9JCtnYisoXz4+PjA+Vz4+PjA/MTowKSxXPVcrZWIsVj1WK2RiKyhlYj4+PjA+Vz4+PjA/MTowKSxXPVcra2IsVj1WK2piKyhrYj4+PjA+Vz4+PjA/MTowKTtVLmhpZ2g9VixVLmxvdz1XfXZhciBsYj1MJk5efkwmUCxtYj1NJk9efk0mUSxuYj1EJkZeRCZIXkYmSCxvYj1FJkdeRSZJXkcmSSxwYj0oRD4+PjI4fEU8PDQpXihEPDwzMHxFPj4+MileKEQ8PDI1fEU+Pj43KSxxYj0oRT4+PjI4fEQ8PDQpXihFPDwzMHxEPj4+MileKEU8PDI1fEQ+Pj43KSxyYj0oTD4+PjE0fE08PDE4KV4oTD4+PjE4fE08PDE0KV4oTDw8MjN8TT4+PjkpLHNiPShNPj4+MTR8TDw8MTgpXihNPj4+MTh8TDw8MTQpXihNPDwyM3xMPj4+OSksdGI9altUXSx1Yj10Yi5oaWdoLHZiPXRiLmxvdyx3Yj1TK3NiLHhiPVIrcmIrKFM+Pj4wPndiPj4+MD8xOjApLHdiPXdiK21iLHhiPXhiK2xiKyhtYj4+PjA+d2I+Pj4wPzE6MCksd2I9d2IrdmIseGI9eGIrdWIrKHZiPj4+MD53Yj4+PjA/MTowKSx3Yj13YitXLHhiPXhiK1YrKFc+Pj4wPndiPj4+MD8xOjApLHliPXFiK29iLHpiPXBiK25iKyhxYj4+PjA+eWI+Pj4wPzE6MCk7Uj1QLFM9USxQPU4sUT1PLE49TCxPPU0sTT1LK3difDAsTD1KK3hiKyhLPj4+MD5NPj4+MD8xOjApfDAsSj1ILEs9SSxIPUYsST1HLEY9RCxHPUUsRT13Yit5YnwwLEQ9eGIremIrKHdiPj4+MD5FPj4+MD8xOjApfDB9bz1kLmxvdz1vK0UsZC5oaWdoPW4rRCsoRT4+PjA+bz4+PjA/MTowKSxxPWUubG93PXErRyxlLmhpZ2g9cCtGKyhHPj4+MD5xPj4+MD8xOjApLHM9Zi5sb3c9cytJLGYuaGlnaD1yK0grKEk+Pj4wPnM+Pj4wPzE6MCksdT1nLmxvdz11K0ssZy5oaWdoPXQrSisoSz4+PjA+dT4+PjA/MTowKSx3PWgubG93PXcrTSxoLmhpZ2g9ditMKyhNPj4+MD53Pj4+MD8xOjApLHk9aS5sb3c9eStPLGkuaGlnaD14K04rKE8+Pj4wPnk+Pj4wPzE6MCksQT1sLmxvdz1BK1EsbC5oaWdoPXorUCsoUT4+PjA+QT4+PjA/MTowKSxDPW0ubG93PUMrUyxtLmhpZ2g9QitSKyhTPj4+MD5DPj4+MD8xOjApfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2RhdGEsYj1hLndvcmRzLGM9OCp0aGlzLl9uRGF0YUJ5dGVzLGQ9OCphLnNpZ0J5dGVzO2JbZD4+PjVdfD0xMjg8PDI0LWQlMzIsYlsoZCsxMjg+Pj4xMDw8NSkrMzBdPU1hdGguZmxvb3IoYy80Mjk0OTY3Mjk2KSxiWyhkKzEyOD4+PjEwPDw1KSszMV09YyxhLnNpZ0J5dGVzPTQqYi5sZW5ndGgsdGhpcy5fcHJvY2VzcygpO3ZhciBlPXRoaXMuX2hhc2gudG9YMzIoKTtyZXR1cm4gZX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1kLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGEuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGF9LGJsb2NrU2l6ZTozMn0pO2IuU0hBNTEyPWQuX2NyZWF0ZUhlbHBlcihsKSxiLkhtYWNTSEE1MTI9ZC5fY3JlYXRlSG1hY0hlbHBlcihsKX0oKSxmdW5jdGlvbihhKXt2YXIgYj1mLGM9Yi5saWIsZD1jLldvcmRBcnJheSxlPWMuSGFzaGVyLGc9Yi54NjQsaD1nLldvcmQsaT1iLmFsZ28saj1bXSxrPVtdLGw9W107IWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTEsYj0wLGM9MDsyND5jO2MrKyl7althKzUqYl09KGMrMSkqKGMrMikvMiU2NDt2YXIgZD1iJTUsZT0oMiphKzMqYiklNTthPWQsYj1lfWZvcih2YXIgYT0wOzU+YTthKyspZm9yKHZhciBiPTA7NT5iO2IrKylrW2ErNSpiXT1iKygyKmErMypiKSU1KjU7Zm9yKHZhciBmPTEsZz0wOzI0Pmc7ZysrKXtmb3IodmFyIGk9MCxtPTAsbj0wOzc+bjtuKyspe2lmKDEmZil7dmFyIG89KDE8PG4pLTE7MzI+bz9tXj0xPDxvOmlePTE8PG8tMzJ9MTI4JmY/Zj1mPDwxXjExMzpmPDw9MX1sW2ddPWguY3JlYXRlKGksbSl9fSgpO3ZhciBtPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgYT0wOzI1PmE7YSsrKW1bYV09aC5jcmVhdGUoKX0oKTt2YXIgbj1pLlNIQTM9ZS5leHRlbmQoe2NmZzplLmNmZy5leHRlbmQoe291dHB1dExlbmd0aDo1MTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9zdGF0ZT1bXSxiPTA7MjU+YjtiKyspYVtiXT1uZXcgaC5pbml0O3RoaXMuYmxvY2tTaXplPSgxNjAwLTIqdGhpcy5jZmcub3V0cHV0TGVuZ3RoKS8zMn0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX3N0YXRlLGQ9dGhpcy5ibG9ja1NpemUvMixlPTA7ZD5lO2UrKyl7dmFyIGY9YVtiKzIqZV0sZz1hW2IrMiplKzFdO2Y9MTY3MTE5MzUmKGY8PDh8Zj4+PjI0KXw0Mjc4MjU1MzYwJihmPDwyNHxmPj4+OCksZz0xNjcxMTkzNSYoZzw8OHxnPj4+MjQpfDQyNzgyNTUzNjAmKGc8PDI0fGc+Pj44KTt2YXIgaD1jW2VdO2guaGlnaF49ZyxoLmxvd149Zn1mb3IodmFyIGk9MDsyND5pO2krKyl7Zm9yKHZhciBuPTA7NT5uO24rKyl7Zm9yKHZhciBvPTAscD0wLHE9MDs1PnE7cSsrKXt2YXIgaD1jW24rNSpxXTtvXj1oLmhpZ2gscF49aC5sb3d9dmFyIHI9bVtuXTtyLmhpZ2g9byxyLmxvdz1wfWZvcih2YXIgbj0wOzU+bjtuKyspZm9yKHZhciBzPW1bKG4rNCklNV0sdD1tWyhuKzEpJTVdLHU9dC5oaWdoLHY9dC5sb3csbz1zLmhpZ2heKHU8PDF8dj4+PjMxKSxwPXMubG93Xih2PDwxfHU+Pj4zMSkscT0wOzU+cTtxKyspe3ZhciBoPWNbbis1KnFdO2guaGlnaF49byxoLmxvd149cH1mb3IodmFyIHc9MTsyNT53O3crKyl7dmFyIGg9Y1t3XSx4PWguaGlnaCx5PWgubG93LHo9alt3XTtpZigzMj56KXZhciBvPXg8PHp8eT4+PjMyLXoscD15PDx6fHg+Pj4zMi16O2Vsc2UgdmFyIG89eTw8ei0zMnx4Pj4+NjQteixwPXg8PHotMzJ8eT4+PjY0LXo7dmFyIEE9bVtrW3ddXTtBLmhpZ2g9byxBLmxvdz1wfXZhciBCPW1bMF0sQz1jWzBdO0IuaGlnaD1DLmhpZ2gsQi5sb3c9Qy5sb3c7Zm9yKHZhciBuPTA7NT5uO24rKylmb3IodmFyIHE9MDs1PnE7cSsrKXt2YXIgdz1uKzUqcSxoPWNbd10sRD1tW3ddLEU9bVsobisxKSU1KzUqcV0sRj1tWyhuKzIpJTUrNSpxXTtoLmhpZ2g9RC5oaWdoXn5FLmhpZ2gmRi5oaWdoLGgubG93PUQubG93Xn5FLmxvdyZGLmxvd312YXIgaD1jWzBdLEc9bFtpXTtoLmhpZ2hePUcuaGlnaCxoLmxvd149Ry5sb3d9fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX2RhdGEsYz1iLndvcmRzLGU9KDgqdGhpcy5fbkRhdGFCeXRlcyw4KmIuc2lnQnl0ZXMpLGY9MzIqdGhpcy5ibG9ja1NpemU7Y1tlPj4+NV18PTE8PDI0LWUlMzIsY1soYS5jZWlsKChlKzEpL2YpKmY+Pj41KS0xXXw9MTI4LGIuc2lnQnl0ZXM9NCpjLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCk7Zm9yKHZhciBnPXRoaXMuX3N0YXRlLGg9dGhpcy5jZmcub3V0cHV0TGVuZ3RoLzgsaT1oLzgsaj1bXSxrPTA7aT5rO2srKyl7dmFyIGw9Z1trXSxtPWwuaGlnaCxuPWwubG93O209MTY3MTE5MzUmKG08PDh8bT4+PjI0KXw0Mjc4MjU1MzYwJihtPDwyNHxtPj4+OCksbj0xNjcxMTkzNSYobjw8OHxuPj4+MjQpfDQyNzgyNTUzNjAmKG48PDI0fG4+Pj44KSxqLnB1c2gobiksai5wdXNoKG0pfXJldHVybiBuZXcgZC5pbml0KGosaCl9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWUuY2xvbmUuY2FsbCh0aGlzKSxiPWEuX3N0YXRlPXRoaXMuX3N0YXRlLnNsaWNlKDApLGM9MDsyNT5jO2MrKyliW2NdPWJbY10uY2xvbmUoKTtyZXR1cm4gYX19KTtiLlNIQTM9ZS5fY3JlYXRlSGVscGVyKG4pLGIuSG1hY1NIQTM9ZS5fY3JlYXRlSG1hY0hlbHBlcihuKX0oTWF0aCksZSgidW5kZWZpbmVkIiE9dHlwZW9mIGY/Zjp3aW5kb3cuQ3J5cHRvSlMpfS5jYWxsKGMsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGEpe2IuZXhwb3J0cz1hfSl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI6W2Z1bmN0aW9uKGEsYil7KGZ1bmN0aW9uKGMpe19fYnJvd3NlcmlmeV9zaGltX3JlcXVpcmVfXz1hLGZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZnVuY3Rpb24oYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBmKSlyZXR1cm4gbmV3IGYoYSxiKTtpZighSlNPTil0aHJvdyJKU09OIHVuYXZhaWxhYmxlISBJbmNsdWRlIGh0dHA6Ly93d3cuanNvbi5vcmcvanNvbjIuanMgdG8gZml4LiI7aWYoIShhcmd1bWVudHMubGVuZ3RoPD0yJiZhcmd1bWVudHMubGVuZ3RoPjApKXRocm93IkluY29ycmVjdCAjIG9mIGN0b3IgYXJncyEiO2lmKGI9ImZ1bmN0aW9uIj09dHlwZW9mIGFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06YXJndW1lbnRzWzFdLGE9ImZ1bmN0aW9uIj09dHlwZW9mIGFyZ3VtZW50c1swXT97fTphcmd1bWVudHNbMF0sImZ1bmN0aW9uIiE9dHlwZW9mIGIpdGhyb3ciTm8gY2FsbGJhY2sgd2FzIHByb3ZpZGVkIjt0aGlzLnJlY29yZD1hLnJlY29yZHx8InJlY29yZCIsdGhpcy5uYW1lPWEubmFtZXx8InJlY29yZHMiO3ZhciBjO2lmKGEuYWRhcHRlcil7InN0cmluZyI9PXR5cGVvZiBhLmFkYXB0ZXImJihhLmFkYXB0ZXI9W2EuYWRhcHRlcl0pO2Zvcih2YXIgZD0wLGU9YS5hZGFwdGVyLmxlbmd0aDtlPmQ7ZCsrKXtmb3IodmFyIGc9Zi5hZGFwdGVycy5sZW5ndGgtMTtnPj0wJiYoZi5hZGFwdGVyc1tnXS5hZGFwdGVyIT09YS5hZGFwdGVyW2RdfHwhKGM9Zi5hZGFwdGVyc1tnXS52YWxpZCgpP2YuYWRhcHRlcnNbZ106dm9pZCAwKSk7Zy0tKTtpZihjKWJyZWFrfX1lbHNlIGZvcih2YXIgZz0wLGg9Zi5hZGFwdGVycy5sZW5ndGg7aD5nJiYhKGM9Zi5hZGFwdGVyc1tnXS52YWxpZCgpP2YuYWRhcHRlcnNbZ106dm9pZCAwKTtnKyspO2lmKCFjKXRocm93Ik5vIHZhbGlkIGFkYXB0ZXIuIjtmb3IodmFyIGQgaW4gYyl0aGlzW2RdPWNbZF07Zm9yKHZhciBnPTAsaD1mLnBsdWdpbnMubGVuZ3RoO2g+ZztnKyspZi5wbHVnaW5zW2ddLmNhbGwodGhpcyk7dGhpcy5pbml0KGEsYil9O2YuYWRhcHRlcnM9W10sZi5hZGFwdGVyPWZ1bmN0aW9uKGEsYil7Yi5hZGFwdGVyPWE7dmFyIGM9ImFkYXB0ZXIgdmFsaWQgaW5pdCBrZXlzIHNhdmUgYmF0Y2ggZ2V0IGV4aXN0cyBhbGwgcmVtb3ZlIG51a2UiLnNwbGl0KCIgIiksZD10aGlzLnByb3RvdHlwZS5pbmRleE9mO2Zvcih2YXIgZSBpbiBiKWlmKC0xPT09ZChjLGUpKXRocm93IkludmFsaWQgYWRhcHRlciEgTm9uc3RhbmRhcmQgbWV0aG9kOiAiK2U7Zi5hZGFwdGVycy5zcGxpY2UoMCwwLGIpfSxmLnBsdWdpbnM9W10sZi5wbHVnaW49ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpImluaXQiPT09Yj9mLnBsdWdpbnMucHVzaChhW2JdKTp0aGlzLnByb3RvdHlwZVtiXT1hW2JdfSxmLnByb3RvdHlwZT17aXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxpbmRleE9mOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGIpO2ZvcihjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxsYW1iZGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm4odGhpcy5yZWNvcmQsYSl9LGZuOmZ1bmN0aW9uKGEsYil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBiP25ldyBGdW5jdGlvbihhLGIpOmJ9LHV1aWQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybig2NTUzNiooMStNYXRoLnJhbmRvbSgpKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfTtyZXR1cm4gYSgpK2EoKSsiLSIrYSgpKyItIithKCkrIi0iK2EoKSsiLSIrYSgpK2EoKSthKCl9LGVhY2g6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sYW1iZGEoYSk7aWYodGhpcy5fX3Jlc3VsdHMpZm9yKHZhciBjPTAsZD10aGlzLl9fcmVzdWx0cy5sZW5ndGg7ZD5jO2MrKyliLmNhbGwodGhpcyx0aGlzLl9fcmVzdWx0c1tjXSxjKTtlbHNlIHRoaXMuYWxsKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKyliLmNhbGwodGhpcyxhW2NdLGMpfSk7cmV0dXJuIHRoaXN9fSxmLmFkYXB0ZXIoIndpbmRvdy1uYW1lIixmdW5jdGlvbigpeyJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93JiYod2luZG93PXt0b3A6e319KTt2YXIgYT17fTt0cnl7YT1KU09OLnBhcnNlKHdpbmRvdy50b3AubmFtZSl9Y2F0Y2goYil7fXJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LnRvcC5uYW1lfSxpbml0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGFbdGhpcy5uYW1lXT1hW3RoaXMubmFtZV18fHtpbmRleDpbXSxzdG9yZTp7fX0sdGhpcy5pbmRleD1hW3RoaXMubmFtZV0uaW5kZXgsdGhpcy5zdG9yZT1hW3RoaXMubmFtZV0uc3RvcmUsdGhpcy5mbih0aGlzLm5hbWUsYykuY2FsbCh0aGlzLHRoaXMpLHRoaXN9LGtleXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm4oImtleXMiLGEpLmNhbGwodGhpcyx0aGlzLmluZGV4KSx0aGlzfSxzYXZlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5rZXl8fHRoaXMudXVpZCgpO3JldHVybiB0aGlzLmV4aXN0cyhkLGZ1bmN0aW9uKGUpe2V8fChiLmtleSYmZGVsZXRlIGIua2V5LHRoaXMuaW5kZXgucHVzaChkKSksdGhpcy5zdG9yZVtkXT1iO3RyeXt3aW5kb3cudG9wLm5hbWU9SlNPTi5zdHJpbmdpZnkoYSl9Y2F0Y2goZil7dGhyb3cgZXx8KHRoaXMuaW5kZXgucG9wKCksZGVsZXRlIHRoaXMuc3RvcmVbZF0pLGZ9YyYmKGIua2V5PWQsdGhpcy5sYW1iZGEoYykuY2FsbCh0aGlzLGIpKX0pLHRoaXN9LGJhdGNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspdGhpcy5zYXZlKGFbZF0sZnVuY3Rpb24oYSl7Yy5wdXNoKGEpfSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih0aGlzLmlzQXJyYXkoYSkpe2M9W107Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWMucHVzaCh0aGlzLnN0b3JlW2FbZF1dKX1lbHNlIGM9dGhpcy5zdG9yZVthXSxjJiYoYy5rZXk9YSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxleGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLCEhdGhpcy5zdG9yZVthXSksdGhpc30sYWxsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD10aGlzLmluZGV4Lmxlbmd0aDtkPmM7YysrKXt2YXIgZT10aGlzLnN0b3JlW3RoaXMuaW5kZXhbY11dO2Uua2V5PXRoaXMuaW5kZXhbY10sYi5wdXNoKGUpfXJldHVybiB0aGlzLmZuKHRoaXMubmFtZSxhKS5jYWxsKHRoaXMsYiksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXRoaXMuaXNBcnJheShiKT9iOltiXSxlPTAsZj1kLmxlbmd0aDtmPmU7ZSsrKXt2YXIgZz1kW2VdLmtleT9kW2VdLmtleTpkW2VdLGg9dGhpcy5pbmRleE9mKHRoaXMuaW5kZXgsZyk7MD5ofHwoZGVsZXRlIHRoaXMuc3RvcmVbZ10sdGhpcy5pbmRleC5zcGxpY2UoaCwxKSl9cmV0dXJuIHdpbmRvdy50b3AubmFtZT1KU09OLnN0cmluZ2lmeShhKSxjJiZ0aGlzLmxhbWJkYShjKS5jYWxsKHRoaXMpLHRoaXN9LG51a2U6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuc3RvcmU9YVt0aGlzLm5hbWVdLnN0b3JlPXt9LHRoaXMuaW5kZXg9YVt0aGlzLm5hbWVdLmluZGV4PVtdLHdpbmRvdy50b3AubmFtZT1KU09OLnN0cmluZ2lmeShhKSxiJiZ0aGlzLmxhbWJkYShiKS5jYWxsKHRoaXMpLHRoaXN9fX0oKSksZi5hZGFwdGVyKCJkb20iLGZ1bmN0aW9uKCl7dmFyIGE9bnVsbDt0cnl7YT13aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGIpe312YXIgYz1mdW5jdGlvbihiKXtyZXR1cm57a2V5OmIrIi5faW5kZXhfIixhbGw6ZnVuY3Rpb24oKXt2YXIgYj1hLmdldEl0ZW0odGhpcy5rZXkpO3JldHVybiBiJiYoYj1KU09OLnBhcnNlKGIpKSxudWxsPT09YiYmYS5zZXRJdGVtKHRoaXMua2V5LEpTT04uc3RyaW5naWZ5KFtdKSksSlNPTi5wYXJzZShhLmdldEl0ZW0odGhpcy5rZXkpKX0sYWRkOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuYWxsKCk7Yy5wdXNoKGIpLGEuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShjKSl9LGRlbDpmdW5jdGlvbihiKXtmb3IodmFyIGM9dGhpcy5hbGwoKSxkPVtdLGU9MCxmPWMubGVuZ3RoO2Y+ZTtlKyspY1tlXSE9YiYmZC5wdXNoKGNbZV0pO2Euc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShkKSl9LGZpbmQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuYWxsKCksYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylpZihhPT09YltjXSlyZXR1cm4gYztyZXR1cm4hMX19fTtyZXR1cm57dmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWEmJmZ1bmN0aW9uKCl7dmFyIGI9ITAsYz1NYXRoLnJhbmRvbSgpO3RyeXthLnNldEl0ZW0oYyxjKX1jYXRjaChkKXtiPSExfXJldHVybiBhLnJlbW92ZUl0ZW0oYyksYn0oKX0saW5pdDpmdW5jdGlvbihhLGIpe3RoaXMuaW5kZXhlcj1jKHRoaXMubmFtZSksYiYmdGhpcy5mbih0aGlzLm5hbWUsYikuY2FsbCh0aGlzLHRoaXMpfSxzYXZlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5rZXk/dGhpcy5uYW1lKyIuIitiLmtleTp0aGlzLm5hbWUrIi4iK3RoaXMudXVpZCgpO3JldHVybiBkZWxldGUgYi5rZXksYS5zZXRJdGVtKGQsSlNPTi5zdHJpbmdpZnkoYikpLHRoaXMuaW5kZXhlci5maW5kKGQpPT09ITEmJnRoaXMuaW5kZXhlci5hZGQoZCksYi5rZXk9ZC5zbGljZSh0aGlzLm5hbWUubGVuZ3RoKzEpLGMmJnRoaXMubGFtYmRhKGMpLmNhbGwodGhpcyxiKSx0aGlzfSxiYXRjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKXRoaXMuc2F2ZShhW2RdLGZ1bmN0aW9uKGEpe2MucHVzaChhKX0pO3JldHVybiBiJiZ0aGlzLmxhbWJkYShiKS5jYWxsKHRoaXMsYyksdGhpc30sa2V5czpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLm5hbWUsYz10aGlzLmluZGV4ZXIuYWxsKCksZD1bXTtpZihBcnJheS5wcm90b3R5cGUubWFwKWQ9Yy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShiKyIuIiwiIil9KTtlbHNlIGZvcih2YXIgZSBpbiBjKWQucHVzaChlLnJlcGxhY2UoYisiLiIsIiIpKTt0aGlzLmZuKCJrZXlzIixhKS5jYWxsKHRoaXMsZCl9cmV0dXJuIHRoaXN9LGdldDpmdW5jdGlvbihiLGMpe2lmKHRoaXMuaXNBcnJheShiKSl7Zm9yKHZhciBkPVtdLGU9MCxmPWIubGVuZ3RoO2Y+ZTtlKyspe3ZhciBnPXRoaXMubmFtZSsiLiIrYltlXSxoPWEuZ2V0SXRlbShnKTtoJiYoaD1KU09OLnBhcnNlKGgpLGgua2V5PWJbZV0pLGQucHVzaChoKX1jJiZ0aGlzLmxhbWJkYShjKS5jYWxsKHRoaXMsZCl9ZWxzZXt2YXIgZz10aGlzLm5hbWUrIi4iK2IsaD1hLmdldEl0ZW0oZyk7aCYmKGg9SlNPTi5wYXJzZShoKSxoLmtleT1iKSxjJiZ0aGlzLmxhbWJkYShjKS5jYWxsKHRoaXMsaCl9cmV0dXJuIHRoaXN9LGV4aXN0czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaW5kZXhlci5maW5kKHRoaXMubmFtZSsiLiIrYSk9PT0hMT8hMTohMDtyZXR1cm4gdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLGMpLHRoaXN9LGFsbDpmdW5jdGlvbihiKXtmb3IodmFyIGMsZCxlPXRoaXMuaW5kZXhlci5hbGwoKSxmPVtdLGc9MCxoPWUubGVuZ3RoO2g+ZztnKyspZD1lW2ddLGM9SlNPTi5wYXJzZShhLmdldEl0ZW0oZCkpLGMua2V5PWQucmVwbGFjZSh0aGlzLm5hbWUrIi4iLCIiKSxmLnB1c2goYyk7cmV0dXJuIGImJnRoaXMuZm4odGhpcy5uYW1lLGIpLmNhbGwodGhpcyxmKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzO2lmKHRoaXMuaXNBcnJheShiKSl7dmFyIGUsZj1iLmxlbmd0aCxnPWZ1bmN0aW9uKGEpe2QucmVtb3ZlKGJbYV0sZnVuY3Rpb24oKXstLWY+MHx8YyYmZC5sYW1iZGEoYykuY2FsbChkKX0pfTtmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKWcoZSk7cmV0dXJuIHRoaXN9dmFyIGg9dGhpcy5uYW1lKyIuIisoYi5rZXk/Yi5rZXk6Yik7cmV0dXJuIHRoaXMuaW5kZXhlci5kZWwoaCksYS5yZW1vdmVJdGVtKGgpLGMmJnRoaXMubGFtYmRhKGMpLmNhbGwodGhpcyksdGhpc30sbnVrZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hbGwoZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXRoaXMucmVtb3ZlKGJbY10pO2EmJnRoaXMubGFtYmRhKGEpLmNhbGwodGhpcyl9KSx0aGlzfX19KCkpLGYuYWRhcHRlcigid2Via2l0LXNxbGl0ZSIsZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe2NvbnNvbGUmJmNvbnNvbGUubG9nKCJlcnJvciBpbiBzcWxpdGUgYWRhcHRvciEiLGEsYil9LGI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGV9O3JldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEhd2luZG93Lm9wZW5EYXRhYmFzZX0saW5pdDpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMsZT1kLmZuKGQubmFtZSxjKSxmPSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK3RoaXMucmVjb3JkKyIgKGlkIE5WQVJDSEFSKDMyKSBVTklRVUUgUFJJTUFSWSBLRVksIHZhbHVlIFRFWFQsIHRpbWVzdGFtcCBSRUFMKSIsZz1mdW5jdGlvbigpe3JldHVybiBlLmNhbGwoZCxkKX07YiYmImZ1bmN0aW9uIj09dHlwZW9mIGIuZmFpbCYmKGE9Yi5mYWlsKSx0aGlzLmRiPW9wZW5EYXRhYmFzZSh0aGlzLm5hbWUsIjEuMC4wIix0aGlzLm5hbWUsNjU1MzYpLHRoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24oYil7Yi5leGVjdXRlU3FsKGYsW10sZyxhKX0pfSxrZXlzOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMubGFtYmRhKGIpLGQ9dGhpcyxlPSJTRUxFQ1QgaWQgRlJPTSAiK3RoaXMucmVjb3JkKyIgT1JERVIgQlkgdGltZXN0YW1wIERFU0MiO3JldHVybiB0aGlzLmRiLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihiKXt2YXIgZj1mdW5jdGlvbihhLGIpe2lmKDA9PWIucm93cy5sZW5ndGgpYy5jYWxsKGQsW10pO2Vsc2V7Zm9yKHZhciBlPVtdLGY9MCxnPWIucm93cy5sZW5ndGg7Zz5mO2YrKyllLnB1c2goYi5yb3dzLml0ZW0oZikuaWQpO2MuY2FsbChkLGUpfX07Yi5leGVjdXRlU3FsKGUsW10sZixhKX0pLHRoaXN9LHNhdmU6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPXRoaXM7b2Jqcz0odGhpcy5pc0FycmF5KGMpP2M6W2NdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEua2V5fHwoYS5rZXk9Zi51dWlkKCkpLGF9KSxpbnM9IklOU0VSVCBPUiBSRVBMQUNFIElOVE8gIit0aGlzLnJlY29yZCsiICh2YWx1ZSwgdGltZXN0YW1wLCBpZCkgVkFMVUVTICg/LD8sPykiLHdpbj1mdW5jdGlvbigpe2QmJmYubGFtYmRhKGQpLmNhbGwoZixmLmlzQXJyYXkoYyk/b2JqczpvYmpzWzBdKX0sZT1lfHxmdW5jdGlvbigpe30saW5zdmFscz1bXSx0cz1iKCk7dHJ5e2Zvcih2YXIgZz0wLGg9b2Jqcy5sZW5ndGg7aD5nO2crKylpbnN2YWxzW2ddPVtKU09OLnN0cmluZ2lmeShvYmpzW2ddKSx0cyxvYmpzW2ddLmtleV19Y2F0Y2goaSl7dGhyb3cgYShpKSxpfXJldHVybiBmLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9b2Jqcy5sZW5ndGg7Yz5iO2IrKylhLmV4ZWN1dGVTcWwoaW5zLGluc3ZhbHNbYl0pfSxmdW5jdGlvbihiLGMpe2EoYixjKX0sd2luKSx0aGlzfSxiYXRjaDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNhdmUoYSxiKX0sZ2V0OmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcyxlPSIiLGY9dGhpcy5pc0FycmF5KGIpP2I6W2JdO2U9IlNFTEVDVCBpZCwgdmFsdWUgRlJPTSAiK3RoaXMucmVjb3JkKyIgV0hFUkUgaWQgSU4gKCIrZi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4iPyJ9KS5qb2luKCIsIikrIikiO3ZhciBnPWZ1bmN0aW9uKGEsZSl7Zm9yKHZhciBnLGgsaT17fSxqPTAsaz1lLnJvd3MubGVuZ3RoO2s+ajtqKyspZz1KU09OLnBhcnNlKGUucm93cy5pdGVtKGopLnZhbHVlKSxnLmtleT1lLnJvd3MuaXRlbShqKS5pZCxpW2cua2V5XT1nO2g9Zi5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGlbYV19KSxkLmlzQXJyYXkoYil8fChoPWgubGVuZ3RoP2hbMF06bnVsbCksYyYmZC5sYW1iZGEoYykuY2FsbChkLGgpfTtyZXR1cm4gdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24oYil7Yi5leGVjdXRlU3FsKGUsZixnLGEpfSksdGhpc30sZXhpc3RzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9IlNFTEVDVCAqIEZST00gIit0aGlzLnJlY29yZCsiIFdIRVJFIGlkID0gPyIsZT10aGlzLGY9ZnVuY3Rpb24oYSxiKXtjJiZlLmZuKCJleGlzdHMiLGMpLmNhbGwoZSxiLnJvd3MubGVuZ3RoPjApfTtyZXR1cm4gdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24oYyl7Yy5leGVjdXRlU3FsKGQsW2JdLGYsYSl9KSx0aGlzCn0sYWxsOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD0iU0VMRUNUICogRlJPTSAiK3RoaXMucmVjb3JkLGU9W10sZj10aGlzLmZuKHRoaXMubmFtZSxiKXx8dm9pZCAwLGc9ZnVuY3Rpb24oYSxiKXtpZigwIT1iLnJvd3MubGVuZ3RoKWZvcih2YXIgZD0wLGc9Yi5yb3dzLmxlbmd0aDtnPmQ7ZCsrKXt2YXIgaD1KU09OLnBhcnNlKGIucm93cy5pdGVtKGQpLnZhbHVlKTtoLmtleT1iLnJvd3MuaXRlbShkKS5pZCxlLnB1c2goaCl9ZiYmZi5jYWxsKGMsZSl9O3JldHVybiB0aGlzLmRiLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihiKXtiLmV4ZWN1dGVTcWwoZCxbXSxnLGEpfSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLGY9IkRFTEVURSBGUk9NICIrdGhpcy5yZWNvcmQrIiBXSEVSRSBpZCAiLGc9ZnVuY3Rpb24oKXtjJiZlLmxhbWJkYShjKS5jYWxsKGUpfTtyZXR1cm4gdGhpcy5pc0FycmF5KGIpPyhkPWIsZis9IklOICgiK2QubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIj8ifSkuam9pbigiLCIpKyIpIik6KGYrPSI9ID8iLGQ9W2JdKSxkPWQubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmtleT9hLmtleTphfSksdGhpcy5kYi50cmFuc2FjdGlvbihmdW5jdGlvbihiKXtiLmV4ZWN1dGVTcWwoZixkLGcsYSl9KSx0aGlzfSxudWtlOmZ1bmN0aW9uKGIpe3ZhciBjPSJERUxFVEUgRlJPTSAiK3RoaXMucmVjb3JkLGQ9dGhpcyxlPWI/ZnVuY3Rpb24oKXtkLmxhbWJkYShiKS5jYWxsKGQpfTpmdW5jdGlvbigpe307cmV0dXJuIHRoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24oYil7Yi5leGVjdXRlU3FsKGMsW10sZSxhKX0pLHRoaXN9fX0oKSksZi5hZGFwdGVyKCJodG1sNS1maWxlc3lzdGVtIixmdW5jdGlvbihhKXt2YXIgYj1hLkZpbGVFcnJvcixjPWZ1bmN0aW9uKGEpe3ZhciBjLGQ9ITA7c3dpdGNoKGEuY29kZSl7Y2FzZSBiLlFVT1RBX0VYQ0VFREVEX0VSUjpjPSJRVU9UQV9FWENFRURFRF9FUlIiO2JyZWFrO2Nhc2UgYi5OT1RfRk9VTkRfRVJSOmM9Ik5PVF9GT1VORF9FUlIiLGQ9ITE7YnJlYWs7Y2FzZSBiLlNFQ1VSSVRZX0VSUjpjPSJTRUNVUklUWV9FUlIiO2JyZWFrO2Nhc2UgYi5JTlZBTElEX01PRElGSUNBVElPTl9FUlI6Yz0iSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSIjticmVhaztjYXNlIGIuSU5WQUxJRF9TVEFURV9FUlI6Yz0iSU5WQUxJRF9TVEFURV9FUlIiO2JyZWFrO2RlZmF1bHQ6Yz0iVW5rbm93biBFcnJvciJ9Y29uc29sZSYmZCYmY29uc29sZS5lcnJvcihhLGMpfSxkPWZ1bmN0aW9uKGEsYixlKXt2YXIgZj1lfHxbXTthLnJlYWRFbnRyaWVzKGZ1bmN0aW9uKGMpe2MubGVuZ3RoP2QoYSxiLGYuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGMpKSk6YiYmYihmLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lfSkpfSxjKX0sZT17fSxmPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZVthLm5hbWVdO2M/YihjKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihhLGIpfSwxMCl9LGc9ZnVuY3Rpb24oKXt2YXIgYT0tMT09PWRvY3VtZW50LlVSTC5pbmRleE9mKCJodHRwOi8vIikmJi0xPT09ZG9jdW1lbnQuVVJMLmluZGV4T2YoImh0dHBzOi8vIik7cmV0dXJuIGE/ITA6ITF9LGg9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoZygpKWI9YTtlbHNle3ZhciBjPSJhcHBsaWNhdGlvbi9qc29uIjt0cnl7Yj1uZXcgQmxvYihbYV0se3R5cGU6Y30pfWNhdGNoKGQpe3ZhciBlPXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyO2lmKCJUeXBlRXJyb3IiPT1kLm5hbWUmJmUpe3ZhciBmPW5ldyBlO2YuYXBwZW5kKFthLmJ1ZmZlcl0pLGI9Zi5nZXRCbG9iKGMpfWVsc2UgYj1hfX1yZXR1cm4gYn07cmV0dXJue3ZhbGlkOmZ1bmN0aW9uKCl7dmFyIGI9YS5yZXF1ZXN0RmlsZVN5c3RlbXx8YS53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbXx8YS5tb3pfcmVxdWVzdEZpbGVTeXN0ZW07cmV0dXJuISFifSxpbml0OmZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gZihiKXt2YXIgYz1hLnJlcXVlc3RGaWxlU3lzdGVtfHxhLndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtfHxhLm1vel9yZXF1ZXN0RmlsZVN5c3RlbSxmPXdpbmRvdy5QRVJTSVNURU5UOyJ1bmRlZmluZWQiIT10eXBlb2YgTG9jYWxGaWxlU3lzdGVtJiYidW5kZWZpbmVkIiE9dHlwZW9mIExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5UJiYoZj1Mb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCksYyhmLGIsZnVuY3Rpb24oYSl7YS5yb290LmdldERpcmVjdG9yeShqLHtjcmVhdGU6ITB9LGZ1bmN0aW9uKGEpe2Vbal09YSxkJiZnLmZuKGcubmFtZSxkKS5jYWxsKGcsZyl9LGZ1bmN0aW9uKGEpe2goYSl9KX0sZnVuY3Rpb24oYSl7aChhKX0pfXZhciBnPXRoaXMsaD1mdW5jdGlvbihhKXtjKGEpLGQmJmcuZm4oZy5uYW1lLGQpLmNhbGwoZyxnKX0saT1iLnNpemV8fDEwNDg1NzYwMCxqPXRoaXMubmFtZTtnLmJhY2t1cD0hMSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuYmFja3VwJiYoZy5iYWNrdXA9Yi5iYWNrdXApLCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLndlYmtpdFBlcnNpc3RlbnRTdG9yYWdlP25hdmlnYXRvci53ZWJraXRQZXJzaXN0ZW50U3RvcmFnZS5yZXF1ZXN0UXVvdGEoaSxmLGZ1bmN0aW9uKCl7bG9nZ2VyLndhcm4oIlVzZXIgZGVjbGluZWQgZmlsZSBzdG9yYWdlIiksaCgiVXNlciBkZWNsaW5lZCBmaWxlIHN0b3JhZ2UiKX0pOmYoMCl9LGtleXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gZih0aGlzLGZ1bmN0aW9uKGMpe2QoYy5jcmVhdGVSZWFkZXIoKSxmdW5jdGlvbihjKXthJiZiLmZuKCJrZXlzIixhKS5jYWxsKGIsYyl9KX0pLHRoaXN9LHNhdmU6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9YS5rZXl8fHRoaXMudXVpZCgpO2Eua2V5PWU7dmFyIGc9ZnVuY3Rpb24oYSl7YyhhKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQpfTtyZXR1cm4gZih0aGlzLGZ1bmN0aW9uKGMpe3ZhciBmPWZ1bmN0aW9uKGMsZSl7Yy5jcmVhdGVXcml0ZXIoZnVuY3Rpb24oYyl7Yy5vbmVycm9yPWUsYy5vbndyaXRlZW5kPWZ1bmN0aW9uKCl7dGhpcy5vbndyaXRlZW5kPW51bGwsdGhpcy50cnVuY2F0ZSh0aGlzLnBvc2l0aW9uKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQsYSl9O3ZhciBmPUpTT04uc3RyaW5naWZ5KGEpLGc9aChmKTtjLndyaXRlKGcpfSxlKX07Yy5nZXRGaWxlKGUse2NyZWF0ZTohMH0sZnVuY3Rpb24oYSl7ImZ1bmN0aW9uIiE9dHlwZW9mIGEuc2V0TWV0YWRhdGF8fGQuYmFja3VwIT09ITEmJiJmYWxzZSIhPT1kLmJhY2t1cD9mKGEsZyk6YS5zZXRNZXRhZGF0YShmdW5jdGlvbigpe2YoYSxnKX0sZnVuY3Rpb24oKXtmKGEsZyl9LHsiY29tLmFwcGxlLk1vYmlsZUJhY2t1cCI6MX0pfSxnKX0pLHRoaXN9LGJhdGNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMsZD1bXSxlPTAsZj1hLmxlbmd0aDtmPmU7ZSsrKWMuc2F2ZShhW2VdLGZ1bmN0aW9uKGEpe2QucHVzaChhKSxkLmxlbmd0aD09PWYmJmImJmMubGFtYmRhKGIpLmNhbGwoYyxkKX0pO3JldHVybiB0aGlzfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzO2lmKHRoaXMuaXNBcnJheShhKSlmb3IodmFyIGU9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkLmdldChhW2ddLGZ1bmN0aW9uKGEpe2EmJmUucHVzaChhKSxlLmxlbmd0aD09PWgmJmImJmQubGFtYmRhKGIpLmNhbGwoZCxlKX0pO2Vsc2V7dmFyIGk9ZnVuY3Rpb24oYSl7YyhhKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQpfTtmKHRoaXMsZnVuY3Rpb24oYyl7Yy5nZXRGaWxlKGEse2NyZWF0ZTohMX0sZnVuY3Rpb24oYyl7Yy5maWxlKGZ1bmN0aW9uKGMpe3ZhciBlPW5ldyBGaWxlUmVhZGVyO2Uub25lcnJvcj1pLGUub25sb2FkPWZ1bmN0aW9uKGMpe3ZhciBlPXt9O3RyeXtlPUpTT04ucGFyc2UoYy50YXJnZXQucmVzdWx0KSxlLmtleT1hfWNhdGNoKGMpe2U9e2tleTphfX1iJiZkLmxhbWJkYShiKS5jYWxsKGQsZSl9LGUucmVhZEFzVGV4dChjKX0saSl9LGkpfSl9cmV0dXJuIHRoaXN9LGV4aXN0czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGYodGhpcyxmdW5jdGlvbihkKXtkLmdldEZpbGUoYSx7Y3JlYXRlOiExfSxmdW5jdGlvbigpe2ImJmMubGFtYmRhKGIpLmNhbGwoYywhMCl9LGZ1bmN0aW9uKCl7YiYmYy5sYW1iZGEoYikuY2FsbChjLCExKX0pfSksdGhpc30sYWxsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGEmJnRoaXMua2V5cyhmdW5jdGlvbihjKXtjLmxlbmd0aD9iLmdldChjLGZ1bmN0aW9uKGMpe2IuZm4oYi5uYW1lLGEpLmNhbGwoYixjKX0pOmIuZm4oYi5uYW1lLGEpLmNhbGwoYixbXSl9KSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9ZnVuY3Rpb24oYSl7YyhhKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQpfTtyZXR1cm4gZih0aGlzLGZ1bmN0aW9uKGMpe2MuZ2V0RmlsZSgic3RyaW5nIj09dHlwZW9mIGE/YTphLmtleSx7Y3JlYXRlOiExfSxmdW5jdGlvbihhKXthLnJlbW92ZShmdW5jdGlvbigpe2ImJmQubGFtYmRhKGIpLmNhbGwoZCl9LGUpfSxlKX0pLHRoaXN9LG51a2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPTA7cmV0dXJuIHRoaXMua2V5cyhmdW5jdGlvbihkKXtpZihkLmxlbmd0aClmb3IodmFyIGU9MCxmPWQubGVuZ3RoO2Y+ZTtlKyspYi5yZW1vdmUoZFtlXSxmdW5jdGlvbigpe2MrKyxjPT09ZiYmYSYmYi5sYW1iZGEoYSkuY2FsbChiKX0pO2Vsc2UgYSYmYi5sYW1iZGEoYSkuY2FsbChiKX0pLHRoaXN9fX0odGhpcykpLGYuYWRhcHRlcigibWVtb3J5IixmdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxpbml0OmZ1bmN0aW9uKGIsYyl7YVt0aGlzLm5hbWVdPWFbdGhpcy5uYW1lXXx8e2luZGV4OltdLHN0b3JlOnt9fSx0aGlzLmluZGV4PWFbdGhpcy5uYW1lXS5pbmRleCx0aGlzLnN0b3JlPWFbdGhpcy5uYW1lXS5zdG9yZTt2YXIgZD10aGlzLmZuKHRoaXMubmFtZSxjKTtyZXR1cm4gZCYmZC5jYWxsKHRoaXMsdGhpcyksdGhpc30sa2V5czpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mbigia2V5cyIsYSkuY2FsbCh0aGlzLHRoaXMuaW5kZXgpLHRoaXN9LHNhdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmtleXx8dGhpcy51dWlkKCk7cmV0dXJuIHRoaXMuZXhpc3RzKGMsZnVuY3Rpb24oZCl7ZHx8KGEua2V5JiZkZWxldGUgYS5rZXksdGhpcy5pbmRleC5wdXNoKGMpKSx0aGlzLnN0b3JlW2NdPWEsYiYmKGEua2V5PWMsdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLGEpKX0pLHRoaXN9LGJhdGNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspdGhpcy5zYXZlKGFbZF0sZnVuY3Rpb24oYSl7Yy5wdXNoKGEpfSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih0aGlzLmlzQXJyYXkoYSkpe2M9W107Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWMucHVzaCh0aGlzLnN0b3JlW2FbZF1dKX1lbHNlIGM9dGhpcy5zdG9yZVthXSxjJiYoYy5rZXk9YSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxleGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLCEhdGhpcy5zdG9yZVthXSksdGhpc30sYWxsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD10aGlzLmluZGV4Lmxlbmd0aDtkPmM7YysrKXt2YXIgZT10aGlzLnN0b3JlW3RoaXMuaW5kZXhbY11dO2Uua2V5PXRoaXMuaW5kZXhbY10sYi5wdXNoKGUpfXJldHVybiB0aGlzLmZuKHRoaXMubmFtZSxhKS5jYWxsKHRoaXMsYiksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuaXNBcnJheShhKT9hOlthXSxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj1jW2RdLmtleT9jW2RdLmtleTpjW2RdLGc9dGhpcy5pbmRleE9mKHRoaXMuaW5kZXgsZik7MD5nfHwoZGVsZXRlIHRoaXMuc3RvcmVbZl0sdGhpcy5pbmRleC5zcGxpY2UoZywxKSl9cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyksdGhpc30sbnVrZTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5zdG9yZT1hW3RoaXMubmFtZV0uc3RvcmU9e30sdGhpcy5pbmRleD1hW3RoaXMubmFtZV0uaW5kZXg9W10sYiYmdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzKSx0aGlzfX19KCkpLGUoInVuZGVmaW5lZCIhPXR5cGVvZiBmP2Y6d2luZG93Lkxhd25jaGFpcil9LmNhbGwoYyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oYSl7Yi5leHBvcnRzPWF9KX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKGdsb2JhbCl7X19icm93c2VyaWZ5X3NoaW1fcmVxdWlyZV9fPV9kZXJlcV8sZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLGV4cG9ydHMsX2RlcmVxXyxkZWZpbmUsYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18pe3ZhciBKU09OO0pTT058fChKU09OPXt9KSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKGEpe3JldHVybiAxMD5hPyIwIithOmF9ZnVuY3Rpb24gcXVvdGUoYSl7cmV0dXJuIGVzY2FwYWJsZS5sYXN0SW5kZXg9MCxlc2NhcGFibGUudGVzdChhKT8nIicrYS5yZXBsYWNlKGVzY2FwYWJsZSxmdW5jdGlvbihhKXt2YXIgYj1tZXRhW2FdO3JldHVybiJzdHJpbmciPT10eXBlb2YgYj9iOiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJyInOiciJythKyciJ31mdW5jdGlvbiBzdHIoYSxiKXt2YXIgYyxkLGUsZixnLGg9Z2FwLGk9YlthXTtzd2l0Y2goaSYmIm9iamVjdCI9PXR5cGVvZiBpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS50b0pTT04mJihpPWkudG9KU09OKGEpKSwiZnVuY3Rpb24iPT10eXBlb2YgcmVwJiYoaT1yZXAuY2FsbChiLGEsaSkpLHR5cGVvZiBpKXtjYXNlInN0cmluZyI6cmV0dXJuIHF1b3RlKGkpO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoaSk/U3RyaW5nKGkpOiJudWxsIjtjYXNlImJvb2xlYW4iOmNhc2UibnVsbCI6cmV0dXJuIFN0cmluZyhpKTtjYXNlIm9iamVjdCI6aWYoIWkpcmV0dXJuIm51bGwiO2lmKGdhcCs9aW5kZW50LGc9W10sIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoaSkpe2ZvcihmPWkubGVuZ3RoLGM9MDtmPmM7Yys9MSlnW2NdPXN0cihjLGkpfHwibnVsbCI7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJbXSI6Z2FwPyJbXG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIl0iOiJbIitnLmpvaW4oIiwiKSsiXSIsZ2FwPWgsZX1pZihyZXAmJiJvYmplY3QiPT10eXBlb2YgcmVwKWZvcihmPXJlcC5sZW5ndGgsYz0wO2Y+YztjKz0xKSJzdHJpbmciPT10eXBlb2YgcmVwW2NdJiYoZD1yZXBbY10sZT1zdHIoZCxpKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSkpO2Vsc2UgZm9yKGQgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxkKSYmKGU9c3RyKGQsaSksZSYmZy5wdXNoKHF1b3RlKGQpKyhnYXA/IjogIjoiOiIpK2UpKTtyZXR1cm4gZT0wPT09Zy5sZW5ndGg/Int9IjpnYXA/IntcbiIrZ2FwK2cuam9pbigiLFxuIitnYXApKyJcbiIraCsifSI6InsiK2cuam9pbigiLCIpKyJ9IixnYXA9aCxlfX0iZnVuY3Rpb24iIT10eXBlb2YgRGF0ZS5wcm90b3R5cGUudG9KU09OJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMudmFsdWVPZigpKT90aGlzLmdldFVUQ0Z1bGxZZWFyKCkrIi0iK2YodGhpcy5nZXRVVENNb250aCgpKzEpKyItIitmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsiVCIrZih0aGlzLmdldFVUQ0hvdXJzKCkpKyI6IitmKHRoaXMuZ2V0VVRDTWludXRlcygpKSsiOiIrZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrIloiOm51bGx9LFN0cmluZy5wcm90b3R5cGUudG9KU09OPU51bWJlci5wcm90b3R5cGUudG9KU09OPUJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlT2YoKX0pO3ZhciBjeD0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnYXAsaW5kZW50LG1ldGE9eyJcYiI6IlxcYiIsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0scmVwOyJmdW5jdGlvbiIhPXR5cGVvZiBKU09OLnN0cmluZ2lmeSYmKEpTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihnYXA9IiIsaW5kZW50PSIiLCJudW1iZXIiPT10eXBlb2YgYylmb3IoZD0wO2M+ZDtkKz0xKWluZGVudCs9IiAiO2Vsc2Uic3RyaW5nIj09dHlwZW9mIGMmJihpbmRlbnQ9Yyk7aWYocmVwPWIsYiYmImZ1bmN0aW9uIiE9dHlwZW9mIGImJigib2JqZWN0IiE9dHlwZW9mIGJ8fCJudW1iZXIiIT10eXBlb2YgYi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gc3RyKCIiLHsiIjphfSl9KSwiZnVuY3Rpb24iIT10eXBlb2YgSlNPTi5wYXJzZSYmKEpTT04ucGFyc2U9ZnVuY3Rpb24odGV4dCxyZXZpdmVyKXtmdW5jdGlvbiB3YWxrKGEsYil7dmFyIGMsZCxlPWFbYl07aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKWZvcihjIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYykmJihkPXdhbGsoZSxjKSx2b2lkIDAhPT1kP2VbY109ZDpkZWxldGUgZVtjXSk7cmV0dXJuIHJldml2ZXIuY2FsbChhLGIsZSl9dmFyIGo7aWYodGV4dD1TdHJpbmcodGV4dCksY3gubGFzdEluZGV4PTAsY3gudGVzdCh0ZXh0KSYmKHRleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKGEpe3JldHVybiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpLC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCJAIikucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csIl0iKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csIiIpKSlyZXR1cm4gaj1ldmFsKCIoIit0ZXh0KyIpIiksImZ1bmN0aW9uIj09dHlwZW9mIHJldml2ZXI/d2Fsayh7IiI6an0sIiIpOmo7dGhyb3cgbmV3IFN5bnRheEVycm9yKCJKU09OLnBhcnNlIil9KX0oKSxicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXygidW5kZWZpbmVkIiE9dHlwZW9mIEpTT04/SlNPTjp3aW5kb3cuSlNPTil9LmNhbGwoZ2xvYmFsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihhKXttb2R1bGUuZXhwb3J0cz1hfSl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDQ6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyl7bnVsbCE9YSYmKCJudW1iZXIiPT10eXBlb2YgYT90aGlzLmZyb21OdW1iZXIoYSxiLGMpOm51bGw9PWImJiJzdHJpbmciIT10eXBlb2YgYT90aGlzLmZyb21TdHJpbmcoYSwyNTYpOnRoaXMuZnJvbVN0cmluZyhhLGIpKX1mdW5jdGlvbiBkKCl7cmV0dXJuIG5ldyBjKG51bGwpfWZ1bmN0aW9uIGUoYSxiLGMsZCxlLGYpe2Zvcig7LS1mPj0wOyl7dmFyIGc9Yip0aGlzW2ErK10rY1tkXStlO2U9TWF0aC5mbG9vcihnLzY3MTA4ODY0KSxjW2QrK109NjcxMDg4NjMmZ31yZXR1cm4gZX1mdW5jdGlvbiBmKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MzI3NjcmYixoPWI+PjE1Oy0tZj49MDspe3ZhciBpPTMyNzY3JnRoaXNbYV0saj10aGlzW2ErK10+PjE1LGs9aCppK2oqZztpPWcqaSsoKDMyNzY3JmspPDwxNSkrY1tkXSsoMTA3Mzc0MTgyMyZlKSxlPShpPj4+MzApKyhrPj4+MTUpK2gqaisoZT4+PjMwKSxjW2QrK109MTA3Mzc0MTgyMyZpfXJldHVybiBlfWZ1bmN0aW9uIGcoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz0xNjM4MyZiLGg9Yj4+MTQ7LS1mPj0wOyl7dmFyIGk9MTYzODMmdGhpc1thXSxqPXRoaXNbYSsrXT4+MTQsaz1oKmkraipnO2k9ZyppKygoMTYzODMmayk8PDE0KStjW2RdK2UsZT0oaT4+MjgpKyhrPj4xNCkraCpqLGNbZCsrXT0yNjg0MzU0NTUmaX1yZXR1cm4gZX1mdW5jdGlvbiBoKGEpe3JldHVybiBuYi5jaGFyQXQoYSl9ZnVuY3Rpb24gaShhLGIpe3ZhciBjPW9iW2EuY2hhckNvZGVBdChiKV07cmV0dXJuIG51bGw9PWM/LTE6Y31mdW5jdGlvbiBqKGEpe2Zvcih2YXIgYj10aGlzLnQtMTtiPj0wOy0tYilhW2JdPXRoaXNbYl07YS50PXRoaXMudCxhLnM9dGhpcy5zfWZ1bmN0aW9uIGsoYSl7dGhpcy50PTEsdGhpcy5zPTA+YT8tMTowLGE+MD90aGlzWzBdPWE6LTE+YT90aGlzWzBdPWErRFY6dGhpcy50PTB9ZnVuY3Rpb24gbChhKXt2YXIgYj1kKCk7cmV0dXJuIGIuZnJvbUludChhKSxifWZ1bmN0aW9uIG0oYSxiKXt2YXIgZDtpZigxNj09YilkPTQ7ZWxzZSBpZig4PT1iKWQ9MztlbHNlIGlmKDI1Nj09YilkPTg7ZWxzZSBpZigyPT1iKWQ9MTtlbHNlIGlmKDMyPT1iKWQ9NTtlbHNle2lmKDQhPWIpcmV0dXJuIHZvaWQgdGhpcy5mcm9tUmFkaXgoYSxiKTtkPTJ9dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciBlPWEubGVuZ3RoLGY9ITEsZz0wOy0tZT49MDspe3ZhciBoPTg9PWQ/MjU1JmFbZV06aShhLGUpOzA+aD8iLSI9PWEuY2hhckF0KGUpJiYoZj0hMCk6KGY9ITEsMD09Zz90aGlzW3RoaXMudCsrXT1oOmcrZD50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KGgmKDE8PHRoaXMuREItZyktMSk8PGcsdGhpc1t0aGlzLnQrK109aD4+dGhpcy5EQi1nKTp0aGlzW3RoaXMudC0xXXw9aDw8ZyxnKz1kLGc+PXRoaXMuREImJihnLT10aGlzLkRCKSl9OD09ZCYmMCE9KDEyOCZhWzBdKSYmKHRoaXMucz0tMSxnPjAmJih0aGlzW3RoaXMudC0xXXw9KDE8PHRoaXMuREItZyktMTw8ZykpLHRoaXMuY2xhbXAoKSxmJiZjLlpFUk8uc3ViVG8odGhpcyx0aGlzKX1mdW5jdGlvbiBuKCl7Zm9yKHZhciBhPXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09YTspLS10aGlzLnR9ZnVuY3Rpb24gbyhhKXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b1N0cmluZyhhKTt2YXIgYjtpZigxNj09YSliPTQ7ZWxzZSBpZig4PT1hKWI9MztlbHNlIGlmKDI9PWEpYj0xO2Vsc2UgaWYoMzI9PWEpYj01O2Vsc2V7aWYoNCE9YSlyZXR1cm4gdGhpcy50b1JhZGl4KGEpO2I9Mn12YXIgYyxkPSgxPDxiKS0xLGU9ITEsZj0iIixnPXRoaXMudCxpPXRoaXMuREItZyp0aGlzLkRCJWI7aWYoZy0tPjApZm9yKGk8dGhpcy5EQiYmKGM9dGhpc1tnXT4+aSk+MCYmKGU9ITAsZj1oKGMpKTtnPj0wOyliPmk/KGM9KHRoaXNbZ10mKDE8PGkpLTEpPDxiLWksY3w9dGhpc1stLWddPj4oaSs9dGhpcy5EQi1iKSk6KGM9dGhpc1tnXT4+KGktPWIpJmQsMD49aSYmKGkrPXRoaXMuREIsLS1nKSksYz4wJiYoZT0hMCksZSYmKGYrPWgoYykpO3JldHVybiBlP2Y6IjAifWZ1bmN0aW9uIHAoKXt2YXIgYT1kKCk7cmV0dXJuIGMuWkVSTy5zdWJUbyh0aGlzLGEpLGF9ZnVuY3Rpb24gcSgpe3JldHVybiB0aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXN9ZnVuY3Rpb24gcihhKXt2YXIgYj10aGlzLnMtYS5zO2lmKDAhPWIpcmV0dXJuIGI7dmFyIGM9dGhpcy50O2lmKGI9Yy1hLnQsMCE9YilyZXR1cm4gdGhpcy5zPDA/LWI6Yjtmb3IoOy0tYz49MDspaWYoMCE9KGI9dGhpc1tjXS1hW2NdKSlyZXR1cm4gYjtyZXR1cm4gMH1mdW5jdGlvbiBzKGEpe3ZhciBiLGM9MTtyZXR1cm4gMCE9KGI9YT4+PjE2KSYmKGE9YixjKz0xNiksMCE9KGI9YT4+OCkmJihhPWIsYys9OCksMCE9KGI9YT4+NCkmJihhPWIsYys9NCksMCE9KGI9YT4+MikmJihhPWIsYys9MiksMCE9KGI9YT4+MSkmJihhPWIsYys9MSksY31mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMudDw9MD8wOnRoaXMuREIqKHRoaXMudC0xKStzKHRoaXNbdGhpcy50LTFdXnRoaXMucyZ0aGlzLkRNKX1mdW5jdGlvbiB1KGEsYil7dmFyIGM7Zm9yKGM9dGhpcy50LTE7Yz49MDstLWMpYltjK2FdPXRoaXNbY107Zm9yKGM9YS0xO2M+PTA7LS1jKWJbY109MDtiLnQ9dGhpcy50K2EsYi5zPXRoaXMuc31mdW5jdGlvbiB2KGEsYil7Zm9yKHZhciBjPWE7Yzx0aGlzLnQ7KytjKWJbYy1hXT10aGlzW2NdO2IudD1NYXRoLm1heCh0aGlzLnQtYSwwKSxiLnM9dGhpcy5zfWZ1bmN0aW9uIHcoYSxiKXt2YXIgYyxkPWEldGhpcy5EQixlPXRoaXMuREItZCxmPSgxPDxlKS0xLGc9TWF0aC5mbG9vcihhL3RoaXMuREIpLGg9dGhpcy5zPDxkJnRoaXMuRE07Zm9yKGM9dGhpcy50LTE7Yz49MDstLWMpYltjK2crMV09dGhpc1tjXT4+ZXxoLGg9KHRoaXNbY10mZik8PGQ7Zm9yKGM9Zy0xO2M+PTA7LS1jKWJbY109MDtiW2ddPWgsYi50PXRoaXMudCtnKzEsYi5zPXRoaXMucyxiLmNsYW1wKCl9ZnVuY3Rpb24geChhLGIpe2Iucz10aGlzLnM7dmFyIGM9TWF0aC5mbG9vcihhL3RoaXMuREIpO2lmKGM+PXRoaXMudClyZXR1cm4gdm9pZChiLnQ9MCk7dmFyIGQ9YSV0aGlzLkRCLGU9dGhpcy5EQi1kLGY9KDE8PGQpLTE7YlswXT10aGlzW2NdPj5kO2Zvcih2YXIgZz1jKzE7Zzx0aGlzLnQ7KytnKWJbZy1jLTFdfD0odGhpc1tnXSZmKTw8ZSxiW2ctY109dGhpc1tnXT4+ZDtkPjAmJihiW3RoaXMudC1jLTFdfD0odGhpcy5zJmYpPDxlKSxiLnQ9dGhpcy50LWMsYi5jbGFtcCgpfWZ1bmN0aW9uIHkoYSxiKXtmb3IodmFyIGM9MCxkPTAsZT1NYXRoLm1pbihhLnQsdGhpcy50KTtlPmM7KWQrPXRoaXNbY10tYVtjXSxiW2MrK109ZCZ0aGlzLkRNLGQ+Pj10aGlzLkRCO2lmKGEudDx0aGlzLnQpe2ZvcihkLT1hLnM7Yzx0aGlzLnQ7KWQrPXRoaXNbY10sYltjKytdPWQmdGhpcy5ETSxkPj49dGhpcy5EQjtkKz10aGlzLnN9ZWxzZXtmb3IoZCs9dGhpcy5zO2M8YS50OylkLT1hW2NdLGJbYysrXT1kJnRoaXMuRE0sZD4+PXRoaXMuREI7ZC09YS5zfWIucz0wPmQ/LTE6MCwtMT5kP2JbYysrXT10aGlzLkRWK2Q6ZD4wJiYoYltjKytdPWQpLGIudD1jLGIuY2xhbXAoKX1mdW5jdGlvbiB6KGEsYil7dmFyIGQ9dGhpcy5hYnMoKSxlPWEuYWJzKCksZj1kLnQ7Zm9yKGIudD1mK2UudDstLWY+PTA7KWJbZl09MDtmb3IoZj0wO2Y8ZS50OysrZiliW2YrZC50XT1kLmFtKDAsZVtmXSxiLGYsMCxkLnQpO2Iucz0wLGIuY2xhbXAoKSx0aGlzLnMhPWEucyYmYy5aRVJPLnN1YlRvKGIsYil9ZnVuY3Rpb24gQShhKXtmb3IodmFyIGI9dGhpcy5hYnMoKSxjPWEudD0yKmIudDstLWM+PTA7KWFbY109MDtmb3IoYz0wO2M8Yi50LTE7KytjKXt2YXIgZD1iLmFtKGMsYltjXSxhLDIqYywwLDEpOyhhW2MrYi50XSs9Yi5hbShjKzEsMipiW2NdLGEsMipjKzEsZCxiLnQtYy0xKSk+PWIuRFYmJihhW2MrYi50XS09Yi5EVixhW2MrYi50KzFdPTEpfWEudD4wJiYoYVthLnQtMV0rPWIuYW0oYyxiW2NdLGEsMipjLDAsMSkpLGEucz0wLGEuY2xhbXAoKX1mdW5jdGlvbiBCKGEsYixlKXt2YXIgZj1hLmFicygpO2lmKCEoZi50PD0wKSl7dmFyIGc9dGhpcy5hYnMoKTtpZihnLnQ8Zi50KXJldHVybiBudWxsIT1iJiZiLmZyb21JbnQoMCksdm9pZChudWxsIT1lJiZ0aGlzLmNvcHlUbyhlKSk7bnVsbD09ZSYmKGU9ZCgpKTt2YXIgaD1kKCksaT10aGlzLnMsaj1hLnMsaz10aGlzLkRCLXMoZltmLnQtMV0pO2s+MD8oZi5sU2hpZnRUbyhrLGgpLGcubFNoaWZ0VG8oayxlKSk6KGYuY29weVRvKGgpLGcuY29weVRvKGUpKTt2YXIgbD1oLnQsbT1oW2wtMV07aWYoMCE9bSl7dmFyIG49bSooMTw8dGhpcy5GMSkrKGw+MT9oW2wtMl0+PnRoaXMuRjI6MCksbz10aGlzLkZWL24scD0oMTw8dGhpcy5GMSkvbixxPTE8PHRoaXMuRjIscj1lLnQsdD1yLWwsdT1udWxsPT1iP2QoKTpiO2ZvcihoLmRsU2hpZnRUbyh0LHUpLGUuY29tcGFyZVRvKHUpPj0wJiYoZVtlLnQrK109MSxlLnN1YlRvKHUsZSkpLGMuT05FLmRsU2hpZnRUbyhsLHUpLHUuc3ViVG8oaCxoKTtoLnQ8bDspaFtoLnQrK109MDtmb3IoOy0tdD49MDspe3ZhciB2PWVbLS1yXT09bT90aGlzLkRNOk1hdGguZmxvb3IoZVtyXSpvKyhlW3ItMV0rcSkqcCk7aWYoKGVbcl0rPWguYW0oMCx2LGUsdCwwLGwpKTx2KWZvcihoLmRsU2hpZnRUbyh0LHUpLGUuc3ViVG8odSxlKTtlW3JdPC0tdjspZS5zdWJUbyh1LGUpfW51bGwhPWImJihlLmRyU2hpZnRUbyhsLGIpLGkhPWomJmMuWkVSTy5zdWJUbyhiLGIpKSxlLnQ9bCxlLmNsYW1wKCksaz4wJiZlLnJTaGlmdFRvKGssZSksMD5pJiZjLlpFUk8uc3ViVG8oZSxlKX19fWZ1bmN0aW9uIEMoYSl7dmFyIGI9ZCgpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKGEsbnVsbCxiKSx0aGlzLnM8MCYmYi5jb21wYXJlVG8oYy5aRVJPKT4wJiZhLnN1YlRvKGIsYiksYn1mdW5jdGlvbiBEKGEpe3RoaXMubT1hfWZ1bmN0aW9uIEUoYSl7cmV0dXJuIGEuczwwfHxhLmNvbXBhcmVUbyh0aGlzLm0pPj0wP2EubW9kKHRoaXMubSk6YX1mdW5jdGlvbiBGKGEpe3JldHVybiBhfWZ1bmN0aW9uIEcoYSl7YS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxhKX1mdW5jdGlvbiBIKGEsYixjKXthLm11bHRpcGx5VG8oYixjKSx0aGlzLnJlZHVjZShjKX1mdW5jdGlvbiBJKGEsYil7YS5zcXVhcmVUbyhiKSx0aGlzLnJlZHVjZShiKX1mdW5jdGlvbiBKKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIGE9dGhpc1swXTtpZigwPT0oMSZhKSlyZXR1cm4gMDt2YXIgYj0zJmE7cmV0dXJuIGI9YiooMi0oMTUmYSkqYikmMTUsYj1iKigyLSgyNTUmYSkqYikmMjU1LGI9YiooMi0oKDY1NTM1JmEpKmImNjU1MzUpKSY2NTUzNSxiPWIqKDItYSpiJXRoaXMuRFYpJXRoaXMuRFYsYj4wP3RoaXMuRFYtYjotYn1mdW5jdGlvbiBLKGEpe3RoaXMubT1hLHRoaXMubXA9YS5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8YS5EQi0xNSktMSx0aGlzLm10Mj0yKmEudH1mdW5jdGlvbiBMKGEpe3ZhciBiPWQoKTtyZXR1cm4gYS5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsYiksYi5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxiKSxhLnM8MCYmYi5jb21wYXJlVG8oYy5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8oYixiKSxifWZ1bmN0aW9uIE0oYSl7dmFyIGI9ZCgpO3JldHVybiBhLmNvcHlUbyhiKSx0aGlzLnJlZHVjZShiKSxifWZ1bmN0aW9uIE4oYSl7Zm9yKDthLnQ8PXRoaXMubXQyOylhW2EudCsrXT0wO2Zvcih2YXIgYj0wO2I8dGhpcy5tLnQ7KytiKXt2YXIgYz0zMjc2NyZhW2JdLGQ9Yyp0aGlzLm1wbCsoKGMqdGhpcy5tcGgrKGFbYl0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJmEuRE07Zm9yKGM9Yit0aGlzLm0udCxhW2NdKz10aGlzLm0uYW0oMCxkLGEsYiwwLHRoaXMubS50KTthW2NdPj1hLkRWOylhW2NdLT1hLkRWLGFbKytjXSsrfWEuY2xhbXAoKSxhLmRyU2hpZnRUbyh0aGlzLm0udCxhKSxhLmNvbXBhcmVUbyh0aGlzLm0pPj0wJiZhLnN1YlRvKHRoaXMubSxhKX1mdW5jdGlvbiBPKGEsYil7YS5zcXVhcmVUbyhiKSx0aGlzLnJlZHVjZShiKX1mdW5jdGlvbiBQKGEsYixjKXthLm11bHRpcGx5VG8oYixjKSx0aGlzLnJlZHVjZShjKX1mdW5jdGlvbiBRKCl7cmV0dXJuIDA9PSh0aGlzLnQ+MD8xJnRoaXNbMF06dGhpcy5zKX1mdW5jdGlvbiBSKGEsYil7aWYoYT40Mjk0OTY3Mjk1fHwxPmEpcmV0dXJuIGMuT05FO3ZhciBlPWQoKSxmPWQoKSxnPWIuY29udmVydCh0aGlzKSxoPXMoYSktMTtmb3IoZy5jb3B5VG8oZSk7LS1oPj0wOylpZihiLnNxclRvKGUsZiksKGEmMTw8aCk+MCliLm11bFRvKGYsZyxlKTtlbHNle3ZhciBpPWU7ZT1mLGY9aX1yZXR1cm4gYi5yZXZlcnQoZSl9ZnVuY3Rpb24gUyhhLGIpe3ZhciBjO3JldHVybiBjPTI1Nj5hfHxiLmlzRXZlbigpP25ldyBEKGIpOm5ldyBLKGIpLHRoaXMuZXhwKGEsYyl9ZnVuY3Rpb24gVCgpe3RoaXMuaT0wLHRoaXMuaj0wLHRoaXMuUz1uZXcgQXJyYXl9ZnVuY3Rpb24gVShhKXt2YXIgYixjLGQ7Zm9yKGI9MDsyNTY+YjsrK2IpdGhpcy5TW2JdPWI7Zm9yKGM9MCxiPTA7MjU2PmI7KytiKWM9Yyt0aGlzLlNbYl0rYVtiJWEubGVuZ3RoXSYyNTUsZD10aGlzLlNbYl0sdGhpcy5TW2JdPXRoaXMuU1tjXSx0aGlzLlNbY109ZDt0aGlzLmk9MCx0aGlzLmo9MH1mdW5jdGlvbiBWKCl7dmFyIGE7cmV0dXJuIHRoaXMuaT10aGlzLmkrMSYyNTUsdGhpcy5qPXRoaXMuait0aGlzLlNbdGhpcy5pXSYyNTUsYT10aGlzLlNbdGhpcy5pXSx0aGlzLlNbdGhpcy5pXT10aGlzLlNbdGhpcy5qXSx0aGlzLlNbdGhpcy5qXT1hLHRoaXMuU1thK3RoaXMuU1t0aGlzLmldJjI1NV19ZnVuY3Rpb24gVygpe3JldHVybiBuZXcgVH1mdW5jdGlvbiBYKGEpe3FiW3JiKytdXj0yNTUmYSxxYltyYisrXV49YT4+OCYyNTUscWJbcmIrK11ePWE+PjE2JjI1NSxxYltyYisrXV49YT4+MjQmMjU1LHJiPj1zYiYmKHJiLT1zYil9ZnVuY3Rpb24gWSgpe1goKG5ldyBEYXRlKS5nZXRUaW1lKCkpfWZ1bmN0aW9uIFooKXtpZihudWxsPT1wYil7Zm9yKFkoKSxwYj1XKCkscGIuaW5pdChxYikscmI9MDtyYjxxYi5sZW5ndGg7KytyYilxYltyYl09MDtyYj0wfXJldHVybiBwYi5uZXh0KCl9ZnVuY3Rpb24gJChhKXt2YXIgYjtmb3IoYj0wO2I8YS5sZW5ndGg7KytiKWFbYl09WigpfWZ1bmN0aW9uIF8oKXt9ZnVuY3Rpb24gYWIoYSxiKXtyZXR1cm4gbmV3IGMoYSxiKX1mdW5jdGlvbiBiYihhKXtyZXR1cm4gMTY+YT8iMCIrYS50b1N0cmluZygxNik6YS50b1N0cmluZygxNil9ZnVuY3Rpb24gY2IoYSxiKXtpZihiPGEubGVuZ3RoKzExKXJldHVybiBhbGVydCgiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBIiksbnVsbDtmb3IodmFyIGQ9bmV3IEFycmF5LGU9YS5sZW5ndGgtMTtlPj0wJiZiPjA7KXt2YXIgZj1hLmNoYXJDb2RlQXQoZS0tKTsxMjg+Zj9kWy0tYl09ZjpmPjEyNyYmMjA0OD5mPyhkWy0tYl09NjMmZnwxMjgsZFstLWJdPWY+PjZ8MTkyKTooZFstLWJdPTYzJmZ8MTI4LGRbLS1iXT1mPj42JjYzfDEyOCxkWy0tYl09Zj4+MTJ8MjI0KX1kWy0tYl09MDtmb3IodmFyIGc9bmV3IF8saD1uZXcgQXJyYXk7Yj4yOyl7Zm9yKGhbMF09MDswPT1oWzBdOylnLm5leHRCeXRlcyhoKTtkWy0tYl09aFswXX1yZXR1cm4gZFstLWJdPTIsZFstLWJdPTAsbmV3IGMoZCl9ZnVuY3Rpb24gZGIoKXt0aGlzLm49bnVsbCx0aGlzLmU9MCx0aGlzLmQ9bnVsbCx0aGlzLnA9bnVsbCx0aGlzLnE9bnVsbCx0aGlzLmRtcDE9bnVsbCx0aGlzLmRtcTE9bnVsbCx0aGlzLmNvZWZmPW51bGx9ZnVuY3Rpb24gZWIoYSxiKXtudWxsIT1hJiZudWxsIT1iJiZhLmxlbmd0aD4wJiZiLmxlbmd0aD4wPyh0aGlzLm49YWIoYSwxNiksdGhpcy5lPXBhcnNlSW50KGIsMTYpKTphbGVydCgiSW52YWxpZCBSU0EgcHVibGljIGtleSIpfWZ1bmN0aW9uIGZiKGEpe3JldHVybiBhLm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKX1mdW5jdGlvbiBnYihhKXt2YXIgYj1jYihhLHRoaXMubi5iaXRMZW5ndGgoKSs3Pj4zKTtpZihudWxsPT1iKXJldHVybiBudWxsO3ZhciBjPXRoaXMuZG9QdWJsaWMoYik7aWYobnVsbD09YylyZXR1cm4gbnVsbDt2YXIgZD1jLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmZC5sZW5ndGgpP2Q6IjAiK2R9dmFyIGhiLGliPTB4ZGVhZGJlZWZjYWZlLGpiPTE1NzE1MDcwPT0oMTY3NzcyMTUmaWIpO2piJiYiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyIj09bmF2aWdhdG9yLmFwcE5hbWU/KGMucHJvdG90eXBlLmFtPWYsaGI9MzApOmpiJiYiTmV0c2NhcGUiIT1uYXZpZ2F0b3IuYXBwTmFtZT8oYy5wcm90b3R5cGUuYW09ZSxoYj0yNik6KGMucHJvdG90eXBlLmFtPWcsaGI9MjgpLGMucHJvdG90eXBlLkRCPWhiLGMucHJvdG90eXBlLkRNPSgxPDxoYiktMSxjLnByb3RvdHlwZS5EVj0xPDxoYjt2YXIga2I9NTI7Yy5wcm90b3R5cGUuRlY9TWF0aC5wb3coMixrYiksYy5wcm90b3R5cGUuRjE9a2ItaGIsYy5wcm90b3R5cGUuRjI9MipoYi1rYjt2YXIgbGIsbWIsbmI9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsb2I9bmV3IEFycmF5O2ZvcihsYj0iMCIuY2hhckNvZGVBdCgwKSxtYj0wOzk+PW1iOysrbWIpb2JbbGIrK109bWI7Zm9yKGxiPSJhIi5jaGFyQ29kZUF0KDApLG1iPTEwOzM2Pm1iOysrbWIpb2JbbGIrK109bWI7Zm9yKGxiPSJBIi5jaGFyQ29kZUF0KDApLG1iPTEwOzM2Pm1iOysrbWIpb2JbbGIrK109bWI7RC5wcm90b3R5cGUuY29udmVydD1FLEQucHJvdG90eXBlLnJldmVydD1GLEQucHJvdG90eXBlLnJlZHVjZT1HLEQucHJvdG90eXBlLm11bFRvPUgsRC5wcm90b3R5cGUuc3FyVG89SSxLLnByb3RvdHlwZS5jb252ZXJ0PUwsSy5wcm90b3R5cGUucmV2ZXJ0PU0sSy5wcm90b3R5cGUucmVkdWNlPU4sSy5wcm90b3R5cGUubXVsVG89UCxLLnByb3RvdHlwZS5zcXJUbz1PLGMucHJvdG90eXBlLmNvcHlUbz1qLGMucHJvdG90eXBlLmZyb21JbnQ9ayxjLnByb3RvdHlwZS5mcm9tU3RyaW5nPW0sYy5wcm90b3R5cGUuY2xhbXA9bixjLnByb3RvdHlwZS5kbFNoaWZ0VG89dSxjLnByb3RvdHlwZS5kclNoaWZ0VG89dixjLnByb3RvdHlwZS5sU2hpZnRUbz13LGMucHJvdG90eXBlLnJTaGlmdFRvPXgsYy5wcm90b3R5cGUuc3ViVG89eSxjLnByb3RvdHlwZS5tdWx0aXBseVRvPXosYy5wcm90b3R5cGUuc3F1YXJlVG89QSxjLnByb3RvdHlwZS5kaXZSZW1Ubz1CLGMucHJvdG90eXBlLmludkRpZ2l0PUosYy5wcm90b3R5cGUuaXNFdmVuPVEsYy5wcm90b3R5cGUuZXhwPVIsYy5wcm90b3R5cGUudG9TdHJpbmc9byxjLnByb3RvdHlwZS5uZWdhdGU9cCxjLnByb3RvdHlwZS5hYnM9cSxjLnByb3RvdHlwZS5jb21wYXJlVG89cixjLnByb3RvdHlwZS5iaXRMZW5ndGg9dCxjLnByb3RvdHlwZS5tb2Q9QyxjLnByb3RvdHlwZS5tb2RQb3dJbnQ9UyxjLlpFUk89bCgwKSxjLk9ORT1sKDEpLFQucHJvdG90eXBlLmluaXQ9VSxULnByb3RvdHlwZS5uZXh0PVY7dmFyIHBiLHFiLHJiLHNiPTI1NjtpZihudWxsPT1xYil7cWI9bmV3IEFycmF5LHJiPTA7dmFyIHRiO2lmKCJOZXRzY2FwZSI9PW5hdmlnYXRvci5hcHBOYW1lJiZuYXZpZ2F0b3IuYXBwVmVyc2lvbjwiNSImJndpbmRvdy5jcnlwdG8pe3ZhciB1Yj13aW5kb3cuY3J5cHRvLnJhbmRvbSgzMik7Zm9yKHRiPTA7dGI8dWIubGVuZ3RoOysrdGIpcWJbcmIrK109MjU1JnViLmNoYXJDb2RlQXQodGIpfWZvcig7c2I+cmI7KXRiPU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSkscWJbcmIrK109dGI+Pj44LHFiW3JiKytdPTI1NSZ0YjtyYj0wLFkoKX1fLnByb3RvdHlwZS5uZXh0Qnl0ZXM9JCxkYi5wcm90b3R5cGUuZG9QdWJsaWM9ZmIsZGIucHJvdG90eXBlLnNldFB1YmxpYz1lYixkYi5wcm90b3R5cGUuZW5jcnlwdD1nYixiLmV4cG9ydHM9e1NlY3VyZVJhbmRvbTpfLGJ5dGUySGV4OmJiLFJTQUtleTpkYn19LHt9XSw1OltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm4gbS5pc1VuZGVmaW5lZChiKT8iIitiOiFtLmlzTnVtYmVyKGIpfHwhaXNOYU4oYikmJmlzRmluaXRlKGIpP20uaXNGdW5jdGlvbihiKXx8bS5pc1JlZ0V4cChiKT9iLnRvU3RyaW5nKCk6YjpiLnRvU3RyaW5nKCl9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBtLmlzU3RyaW5nKGEpP2EubGVuZ3RoPGI/YTphLnNsaWNlKDAsYik6YX1mdW5jdGlvbiBlKGEpe3JldHVybiBkKEpTT04uc3RyaW5naWZ5KGEuYWN0dWFsLGMpLDEyOCkrIiAiK2Eub3BlcmF0b3IrIiAiK2QoSlNPTi5zdHJpbmdpZnkoYS5leHBlY3RlZCxjKSwxMjgpfWZ1bmN0aW9uIGYoYSxiLGMsZCxlKXt0aHJvdyBuZXcgcC5Bc3NlcnRpb25FcnJvcih7bWVzc2FnZTpjLGFjdHVhbDphLGV4cGVjdGVkOmIsb3BlcmF0b3I6ZCxzdGFja1N0YXJ0RnVuY3Rpb246ZX0pfWZ1bmN0aW9uIGcoYSxiKXthfHxmKGEsITAsYiwiPT0iLHAub2spfWZ1bmN0aW9uIGgoYSxiKXtpZihhPT09YilyZXR1cm4hMDtpZihtLmlzQnVmZmVyKGEpJiZtLmlzQnVmZmVyKGIpKXtpZihhLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXSE9PWJbY10pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIG0uaXNEYXRlKGEpJiZtLmlzRGF0ZShiKT9hLmdldFRpbWUoKT09PWIuZ2V0VGltZSgpOm0uaXNSZWdFeHAoYSkmJm0uaXNSZWdFeHAoYik/YS5zb3VyY2U9PT1iLnNvdXJjZSYmYS5nbG9iYWw9PT1iLmdsb2JhbCYmYS5tdWx0aWxpbmU9PT1iLm11bHRpbGluZSYmYS5sYXN0SW5kZXg9PT1iLmxhc3RJbmRleCYmYS5pZ25vcmVDYXNlPT09Yi5pZ25vcmVDYXNlOm0uaXNPYmplY3QoYSl8fG0uaXNPYmplY3QoYik/aihhLGIpOmE9PWJ9ZnVuY3Rpb24gaShhKXtyZXR1cm4iW29iamVjdCBBcmd1bWVudHNdIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfWZ1bmN0aW9uIGooYSxiKXtpZihtLmlzTnVsbE9yVW5kZWZpbmVkKGEpfHxtLmlzTnVsbE9yVW5kZWZpbmVkKGIpKXJldHVybiExO2lmKGEucHJvdG90eXBlIT09Yi5wcm90b3R5cGUpcmV0dXJuITE7aWYoaShhKSlyZXR1cm4gaShiKT8oYT1uLmNhbGwoYSksYj1uLmNhbGwoYiksaChhLGIpKTohMTt0cnl7dmFyIGMsZCxlPXEoYSksZj1xKGIpfWNhdGNoKGcpe3JldHVybiExfWlmKGUubGVuZ3RoIT1mLmxlbmd0aClyZXR1cm4hMTtmb3IoZS5zb3J0KCksZi5zb3J0KCksZD1lLmxlbmd0aC0xO2Q+PTA7ZC0tKWlmKGVbZF0hPWZbZF0pcmV0dXJuITE7Zm9yKGQ9ZS5sZW5ndGgtMTtkPj0wO2QtLSlpZihjPWVbZF0sIWgoYVtjXSxiW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBrKGEsYil7cmV0dXJuIGEmJmI/IltvYmplY3QgUmVnRXhwXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKT9iLnRlc3QoYSk6YSBpbnN0YW5jZW9mIGI/ITA6Yi5jYWxsKHt9LGEpPT09ITA/ITA6ITE6ITF9ZnVuY3Rpb24gbChhLGIsYyxkKXt2YXIgZTttLmlzU3RyaW5nKGMpJiYoZD1jLGM9bnVsbCk7dHJ5e2IoKX1jYXRjaChnKXtlPWd9aWYoZD0oYyYmYy5uYW1lPyIgKCIrYy5uYW1lKyIpLiI6Ii4iKSsoZD8iICIrZDoiLiIpLGEmJiFlJiZmKGUsYywiTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24iK2QpLCFhJiZrKGUsYykmJmYoZSxjLCJHb3QgdW53YW50ZWQgZXhjZXB0aW9uIitkKSxhJiZlJiZjJiYhayhlLGMpfHwhYSYmZSl0aHJvdyBlfXZhciBtPWEoInV0aWwvIiksbj1BcnJheS5wcm90b3R5cGUuc2xpY2Usbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHA9Yi5leHBvcnRzPWc7cC5Bc3NlcnRpb25FcnJvcj1mdW5jdGlvbihhKXt0aGlzLm5hbWU9IkFzc2VydGlvbkVycm9yIix0aGlzLmFjdHVhbD1hLmFjdHVhbCx0aGlzLmV4cGVjdGVkPWEuZXhwZWN0ZWQsdGhpcy5vcGVyYXRvcj1hLm9wZXJhdG9yLGEubWVzc2FnZT8odGhpcy5tZXNzYWdlPWEubWVzc2FnZSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITEpOih0aGlzLm1lc3NhZ2U9ZSh0aGlzKSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITApO3ZhciBiPWEuc3RhY2tTdGFydEZ1bmN0aW9ufHxmO2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYik7ZWxzZXt2YXIgYz1uZXcgRXJyb3I7aWYoYy5zdGFjayl7dmFyIGQ9Yy5zdGFjayxnPWIubmFtZSxoPWQuaW5kZXhPZigiXG4iK2cpO2lmKGg+PTApe3ZhciBpPWQuaW5kZXhPZigiXG4iLGgrMSk7ZD1kLnN1YnN0cmluZyhpKzEpfXRoaXMuc3RhY2s9ZH19fSxtLmluaGVyaXRzKHAuQXNzZXJ0aW9uRXJyb3IsRXJyb3IpLHAuZmFpbD1mLHAub2s9ZyxwLmVxdWFsPWZ1bmN0aW9uKGEsYixjKXthIT1iJiZmKGEsYixjLCI9PSIscC5lcXVhbCl9LHAubm90RXF1YWw9ZnVuY3Rpb24oYSxiLGMpe2E9PWImJmYoYSxiLGMsIiE9IixwLm5vdEVxdWFsKX0scC5kZWVwRXF1YWw9ZnVuY3Rpb24oYSxiLGMpe2goYSxiKXx8ZihhLGIsYywiZGVlcEVxdWFsIixwLmRlZXBFcXVhbCl9LHAubm90RGVlcEVxdWFsPWZ1bmN0aW9uKGEsYixjKXtoKGEsYikmJmYoYSxiLGMsIm5vdERlZXBFcXVhbCIscC5ub3REZWVwRXF1YWwpfSxwLnN0cmljdEVxdWFsPWZ1bmN0aW9uKGEsYixjKXthIT09YiYmZihhLGIsYywiPT09IixwLnN0cmljdEVxdWFsKX0scC5ub3RTdHJpY3RFcXVhbD1mdW5jdGlvbihhLGIsYyl7YT09PWImJmYoYSxiLGMsIiE9PSIscC5ub3RTdHJpY3RFcXVhbCl9LHAudGhyb3dzPWZ1bmN0aW9uKCl7bC5hcHBseSh0aGlzLFshMF0uY29uY2F0KG4uY2FsbChhcmd1bWVudHMpKSl9LHAuZG9lc05vdFRocm93PWZ1bmN0aW9uKCl7bC5hcHBseSh0aGlzLFshMV0uY29uY2F0KG4uY2FsbChhcmd1bWVudHMpKSl9LHAuaWZFcnJvcj1mdW5jdGlvbihhKXtpZihhKXRocm93IGF9O3ZhciBxPU9iamVjdC5rZXlzfHxmdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSlvLmNhbGwoYSxjKSYmYi5wdXNoKGMpO3JldHVybiBifX0seyJ1dGlsLyI6MTF9XSw2OltmdW5jdGlvbihhLGIpeyhmdW5jdGlvbihjKXtmdW5jdGlvbiBkKCl7fWZ1bmN0aW9uIGUoKXttLmxvZy5hcHBseShtLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZigpe20ubG9nLmFwcGx5KG0sYXJndW1lbnRzKX1mdW5jdGlvbiBnKCl7bS53YXJuLmFwcGx5KG0sYXJndW1lbnRzKX1mdW5jdGlvbiBoKGEpe3BbYV09RGF0ZS5ub3coKX1mdW5jdGlvbiBpKGEpe3ZhciBiPXBbYV07aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJObyBzdWNoIGxhYmVsOiAiK2EpO3ZhciBjPURhdGUubm93KCktYjttLmxvZyhhKyI6ICIrYysibXMiKX1mdW5jdGlvbiBqKCl7dmFyIGE9bmV3IEVycm9yO2EubmFtZT0iVHJhY2UiLGEubWVzc2FnZT1uLmZvcm1hdC5hcHBseShudWxsLGFyZ3VtZW50cyksbS5lcnJvcihhLnN0YWNrKX1mdW5jdGlvbiBrKGEpe20ubG9nKG4uaW5zcGVjdChhKSsiXG4iKX1mdW5jdGlvbiBsKGEpe2lmKCFhKXt2YXIgYj1vLmNhbGwoYXJndW1lbnRzLDEpO2wub2soITEsbi5mb3JtYXQuYXBwbHkobnVsbCxiKSl9fXZhciBtLG49YSgidXRpbCIpLGw9YSgiYXNzZXJ0Iiksbz1BcnJheS5wcm90b3R5cGUuc2xpY2UscD17fTttPSJ1bmRlZmluZWQiIT10eXBlb2YgYyYmYy5jb25zb2xlP2MuY29uc29sZToidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmNvbnNvbGU/d2luZG93LmNvbnNvbGU6e307Zm9yKHZhciBxPVtbZCwibG9nIl0sW2UsImluZm8iXSxbZiwid2FybiJdLFtnLCJlcnJvciJdLFtoLCJ0aW1lIl0sW2ksInRpbWVFbmQiXSxbaiwidHJhY2UiXSxbaywiZGlyIl0sW2wsImFzc2VydCJdXSxyPTA7cjxxLmxlbmd0aDtyKyspe3ZhciBzPXFbcl0sdD1zWzBdLHU9c1sxXTttW3VdfHwobVt1XT10KX1iLmV4cG9ydHM9bX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7YXNzZXJ0OjUsdXRpbDoxMX1dLDc6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBkKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhJiZudWxsIT09YX1mdW5jdGlvbiBnKGEpe3JldHVybiB2b2lkIDA9PT1hfWIuZXhwb3J0cz1jLGMuRXZlbnRFbWl0dGVyPWMsYy5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsYy5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsYy5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLGMucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihhKXtpZighZShhKXx8MD5hfHxpc05hTihhKSl0aHJvdyBUeXBlRXJyb3IoIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9YSx0aGlzfSxjLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZSxoLGksajtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLCJlcnJvciI9PT1hJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8Zih0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKGI9YXJndW1lbnRzWzFdLGIgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBiO3Rocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuJyl9aWYoYz10aGlzLl9ldmVudHNbYV0sZyhjKSlyZXR1cm4hMTtpZihkKGMpKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6Yy5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpjLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpjLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmZvcihlPWFyZ3VtZW50cy5sZW5ndGgsaD1uZXcgQXJyYXkoZS0xKSxpPTE7ZT5pO2krKyloW2ktMV09YXJndW1lbnRzW2ldO2MuYXBwbHkodGhpcyxoKX1lbHNlIGlmKGYoYykpe2ZvcihlPWFyZ3VtZW50cy5sZW5ndGgsaD1uZXcgQXJyYXkoZS0xKSxpPTE7ZT5pO2krKyloW2ktMV09YXJndW1lbnRzW2ldO2ZvcihqPWMuc2xpY2UoKSxlPWoubGVuZ3RoLGk9MDtlPmk7aSsrKWpbaV0uYXBwbHkodGhpcyxoKX1yZXR1cm4hMH0sYy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgZTtpZighZChiKSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoIm5ld0xpc3RlbmVyIixhLGQoYi5saXN0ZW5lcik/Yi5saXN0ZW5lcjpiKSx0aGlzLl9ldmVudHNbYV0/Zih0aGlzLl9ldmVudHNbYV0pP3RoaXMuX2V2ZW50c1thXS5wdXNoKGIpOnRoaXMuX2V2ZW50c1thXT1bdGhpcy5fZXZlbnRzW2FdLGJdOnRoaXMuX2V2ZW50c1thXT1iLGYodGhpcy5fZXZlbnRzW2FdKSYmIXRoaXMuX2V2ZW50c1thXS53YXJuZWQpe3ZhciBlO2U9Zyh0aGlzLl9tYXhMaXN0ZW5lcnMpP2MuZGVmYXVsdE1heExpc3RlbmVyczp0aGlzLl9tYXhMaXN0ZW5lcnMsZSYmZT4wJiZ0aGlzLl9ldmVudHNbYV0ubGVuZ3RoPmUmJih0aGlzLl9ldmVudHNbYV0ud2FybmVkPSEwLGNvbnNvbGUuZXJyb3IoIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuIix0aGlzLl9ldmVudHNbYV0ubGVuZ3RoKSwiZnVuY3Rpb24iPT10eXBlb2YgY29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpKX1yZXR1cm4gdGhpc30sYy5wcm90b3R5cGUub249Yy5wcm90b3R5cGUuYWRkTGlzdGVuZXIsYy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGEsYyksZXx8KGU9ITAsYi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFkKGIpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIGU9ITE7cmV0dXJuIGMubGlzdGVuZXI9Yix0aGlzLm9uKGEsYyksdGhpc30sYy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGcsaDtpZighZChiKSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbYV0pcmV0dXJuIHRoaXM7aWYoYz10aGlzLl9ldmVudHNbYV0sZz1jLmxlbmd0aCxlPS0xLGM9PT1ifHxkKGMubGlzdGVuZXIpJiZjLmxpc3RlbmVyPT09YilkZWxldGUgdGhpcy5fZXZlbnRzW2FdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsYSxiKTtlbHNlIGlmKGYoYykpe2ZvcihoPWc7aC0tPjA7KWlmKGNbaF09PT1ifHxjW2hdLmxpc3RlbmVyJiZjW2hdLmxpc3RlbmVyPT09Yil7ZT1oO2JyZWFrfWlmKDA+ZSlyZXR1cm4gdGhpczsxPT09Yy5sZW5ndGg/KGMubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1thXSk6Yy5zcGxpY2UoZSwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGEsYil9cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihhKXt2YXIgYixjO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1thXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1thXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoYiBpbiB0aGlzLl9ldmVudHMpInJlbW92ZUxpc3RlbmVyIiE9PWImJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGIpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihjPXRoaXMuX2V2ZW50c1thXSxkKGMpKXRoaXMucmVtb3ZlTGlzdGVuZXIoYSxjKTtlbHNlIGZvcig7Yy5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoYSxjW2MubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1thXSx0aGlzfSxjLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbYV0/ZCh0aGlzLl9ldmVudHNbYV0pP1t0aGlzLl9ldmVudHNbYV1dOnRoaXMuX2V2ZW50c1thXS5zbGljZSgpOltdfSxjLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYz1hLl9ldmVudHMmJmEuX2V2ZW50c1tiXT9kKGEuX2V2ZW50c1tiXSk/MTphLl9ldmVudHNbYl0ubGVuZ3RoOjB9fSx7fV0sODpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oYSxiKXthLnN1cGVyXz1iLGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTphLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfTpmdW5jdGlvbihhLGIpe2Euc3VwZXJfPWI7dmFyIGM9ZnVuY3Rpb24oKXt9O2MucHJvdG90eXBlPWIucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBjLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9fSx7fV0sOTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmV4cG9ydHM9e307Yy5uZXh0VGljaz1mdW5jdGlvbigpe3ZhciBhPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuc2V0SW1tZWRpYXRlLGI9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXI7aWYoYSlyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoYSl9O2lmKGIpe3ZhciBjPVtdO3JldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS5zb3VyY2U7aWYoKGI9PT13aW5kb3d8fG51bGw9PT1iKSYmInByb2Nlc3MtdGljayI9PT1hLmRhdGEmJihhLnN0b3BQcm9wYWdhdGlvbigpLGMubGVuZ3RoPjApKXt2YXIgZD1jLnNoaWZ0KCk7ZCgpfX0sITApLGZ1bmN0aW9uKGEpe2MucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UoInByb2Nlc3MtdGljayIsIioiKX19cmV0dXJuIGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX19KCksYy50aXRsZT0iYnJvd3NlciIsYy5icm93c2VyPSEwLGMuZW52PXt9LGMuYXJndj1bXSxjLmJpbmRpbmc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LGMuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxjLmNoZGlyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX19LHt9XSwxMDpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiJvYmplY3QiPT10eXBlb2YgYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuY29weSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuZmlsbCYmImZ1bmN0aW9uIj09dHlwZW9mIGEucmVhZFVJbnQ4fX0se31dLDExOltmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gZShhLGIpe3ZhciBkPXtzZWVuOltdLHN0eWxpemU6Z307cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihkLmRlcHRoPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKGQuY29sb3JzPWFyZ3VtZW50c1szXSkscChiKT9kLnNob3dIaWRkZW49YjpiJiZjLl9leHRlbmQoZCxiKSx2KGQuc2hvd0hpZGRlbikmJihkLnNob3dIaWRkZW49ITEpLHYoZC5kZXB0aCkmJihkLmRlcHRoPTIpLHYoZC5jb2xvcnMpJiYoZC5jb2xvcnM9ITEpLHYoZC5jdXN0b21JbnNwZWN0KSYmKGQuY3VzdG9tSW5zcGVjdD0hMCksZC5jb2xvcnMmJihkLnN0eWxpemU9ZiksaShkLGEsZC5kZXB0aCl9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPWUuc3R5bGVzW2JdO3JldHVybiBjPyIbWyIrZS5jb2xvcnNbY11bMF0rIm0iK2ErIhtbIitlLmNvbG9yc1tjXVsxXSsibSI6YX1mdW5jdGlvbiBnKGEpe3JldHVybiBhfWZ1bmN0aW9uIGgoYSl7dmFyIGI9e307cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPSEwfSksYn1mdW5jdGlvbiBpKGEsYixkKXtpZihhLmN1c3RvbUluc3BlY3QmJmImJkEoYi5pbnNwZWN0KSYmYi5pbnNwZWN0IT09Yy5pbnNwZWN0JiYoIWIuY29uc3RydWN0b3J8fGIuY29uc3RydWN0b3IucHJvdG90eXBlIT09Yikpe3ZhciBlPWIuaW5zcGVjdChkLGEpO3JldHVybiB0KGUpfHwoZT1pKGEsZSxkKSksZX12YXIgZj1qKGEsYik7aWYoZilyZXR1cm4gZjt2YXIgZz1PYmplY3Qua2V5cyhiKSxwPWgoZyk7aWYoYS5zaG93SGlkZGVuJiYoZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKSkseihiKSYmKGcuaW5kZXhPZigibWVzc2FnZSIpPj0wfHxnLmluZGV4T2YoImRlc2NyaXB0aW9uIik+PTApKXJldHVybiBrKGIpO2lmKDA9PT1nLmxlbmd0aCl7aWYoQShiKSl7dmFyIHE9Yi5uYW1lPyI6ICIrYi5uYW1lOiIiO3JldHVybiBhLnN0eWxpemUoIltGdW5jdGlvbiIrcSsiXSIsInNwZWNpYWwiKX1pZih3KGIpKXJldHVybiBhLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpLCJyZWdleHAiKTtpZih5KGIpKXJldHVybiBhLnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKSwiZGF0ZSIpO2lmKHooYikpcmV0dXJuIGsoYil9dmFyIHI9IiIscz0hMSx1PVsieyIsIn0iXTtpZihvKGIpJiYocz0hMCx1PVsiWyIsIl0iXSksQShiKSl7dmFyIHY9Yi5uYW1lPyI6ICIrYi5uYW1lOiIiO3I9IiBbRnVuY3Rpb24iK3YrIl0ifWlmKHcoYikmJihyPSIgIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYikpLHkoYikmJihyPSIgIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKGIpKSx6KGIpJiYocj0iICIrayhiKSksMD09PWcubGVuZ3RoJiYoIXN8fDA9PWIubGVuZ3RoKSlyZXR1cm4gdVswXStyK3VbMV07aWYoMD5kKXJldHVybiB3KGIpP2Euc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYiksInJlZ2V4cCIpOmEuc3R5bGl6ZSgiW09iamVjdF0iLCJzcGVjaWFsIik7YS5zZWVuLnB1c2goYik7dmFyIHg7cmV0dXJuIHg9cz9sKGEsYixkLHAsZyk6Zy5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIG0oYSxiLGQscCxjLHMpfSksYS5zZWVuLnBvcCgpLG4oeCxyLHUpfWZ1bmN0aW9uIGooYSxiKXtpZih2KGIpKXJldHVybiBhLnN0eWxpemUoInVuZGVmaW5lZCIsInVuZGVmaW5lZCIpO2lmKHQoYikpe3ZhciBjPSInIitKU09OLnN0cmluZ2lmeShiKS5yZXBsYWNlKC9eInwiJC9nLCIiKS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykrIiciO3JldHVybiBhLnN0eWxpemUoYywic3RyaW5nIil9cmV0dXJuIHMoYik/YS5zdHlsaXplKCIiK2IsIm51bWJlciIpOnAoYik/YS5zdHlsaXplKCIiK2IsImJvb2xlYW4iKTpxKGIpP2Euc3R5bGl6ZSgibnVsbCIsIm51bGwiKTp2b2lkIDB9ZnVuY3Rpb24gayhhKXtyZXR1cm4iWyIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkrIl0ifWZ1bmN0aW9uIGwoYSxiLGMsZCxlKXtmb3IodmFyIGY9W10sZz0wLGg9Yi5sZW5ndGg7aD5nOysrZylmLnB1c2goRihiLFN0cmluZyhnKSk/bShhLGIsYyxkLFN0cmluZyhnKSwhMCk6IiIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5tYXRjaCgvXlxkKyQvKXx8Zi5wdXNoKG0oYSxiLGMsZCxlLCEwKSl9KSxmfWZ1bmN0aW9uIG0oYSxiLGMsZCxlLGYpe3ZhciBnLGgsajtpZihqPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixlKXx8e3ZhbHVlOmJbZV19LGouZ2V0P2g9ai5zZXQ/YS5zdHlsaXplKCJbR2V0dGVyL1NldHRlcl0iLCJzcGVjaWFsIik6YS5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKTpqLnNldCYmKGg9YS5zdHlsaXplKCJbU2V0dGVyXSIsInNwZWNpYWwiKSksRihkLGUpfHwoZz0iWyIrZSsiXSIpLGh8fChhLnNlZW4uaW5kZXhPZihqLnZhbHVlKTwwPyhoPXEoYyk/aShhLGoudmFsdWUsbnVsbCk6aShhLGoudmFsdWUsYy0xKSxoLmluZGV4T2YoIlxuIik+LTEmJihoPWY/aC5zcGxpdCgiXG4iKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIiAgIithfSkuam9pbigiXG4iKS5zdWJzdHIoMik6IlxuIitoLnNwbGl0KCJcbiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4iICAgIithfSkuam9pbigiXG4iKSkpOmg9YS5zdHlsaXplKCJbQ2lyY3VsYXJdIiwic3BlY2lhbCIpKSx2KGcpKXtpZihmJiZlLm1hdGNoKC9eXGQrJC8pKXJldHVybiBoO2c9SlNPTi5zdHJpbmdpZnkoIiIrZSksZy5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pPyhnPWcuc3Vic3RyKDEsZy5sZW5ndGgtMiksZz1hLnN0eWxpemUoZywibmFtZSIpKTooZz1nLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC8oXiJ8IiQpL2csIiciKSxnPWEuc3R5bGl6ZShnLCJzdHJpbmciKSl9cmV0dXJuIGcrIjogIitofWZ1bmN0aW9uIG4oYSxiLGMpe3ZhciBkPTAsZT1hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBkKyssYi5pbmRleE9mKCJcbiIpPj0wJiZkKyssYStiLnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSwwKTtyZXR1cm4gZT42MD9jWzBdKygiIj09PWI/IiI6YisiXG4gIikrIiAiK2Euam9pbigiLFxuICAiKSsiICIrY1sxXTpjWzBdK2IrIiAiK2Euam9pbigiLCAiKSsiICIrY1sxXX1mdW5jdGlvbiBvKGEpe3JldHVybiBBcnJheS5pc0FycmF5KGEpfWZ1bmN0aW9uIHAoYSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYX1mdW5jdGlvbiBxKGEpe3JldHVybiBudWxsPT09YX1mdW5jdGlvbiByKGEpe3JldHVybiBudWxsPT1hfWZ1bmN0aW9uIHMoYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhfWZ1bmN0aW9uIHQoYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhfWZ1bmN0aW9uIHUoYSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBhfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIHZvaWQgMD09PWF9ZnVuY3Rpb24gdyhhKXtyZXR1cm4geChhKSYmIltvYmplY3QgUmVnRXhwXSI9PT1DKGEpCn1mdW5jdGlvbiB4KGEpe3JldHVybiJvYmplY3QiPT10eXBlb2YgYSYmbnVsbCE9PWF9ZnVuY3Rpb24geShhKXtyZXR1cm4geChhKSYmIltvYmplY3QgRGF0ZV0iPT09QyhhKX1mdW5jdGlvbiB6KGEpe3JldHVybiB4KGEpJiYoIltvYmplY3QgRXJyb3JdIj09PUMoYSl8fGEgaW5zdGFuY2VvZiBFcnJvcil9ZnVuY3Rpb24gQShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYX1mdW5jdGlvbiBCKGEpe3JldHVybiBudWxsPT09YXx8ImJvb2xlYW4iPT10eXBlb2YgYXx8Im51bWJlciI9PXR5cGVvZiBhfHwic3RyaW5nIj09dHlwZW9mIGF8fCJzeW1ib2wiPT10eXBlb2YgYXx8InVuZGVmaW5lZCI9PXR5cGVvZiBhfWZ1bmN0aW9uIEMoYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiBEKGEpe3JldHVybiAxMD5hPyIwIithLnRvU3RyaW5nKDEwKTphLnRvU3RyaW5nKDEwKX1mdW5jdGlvbiBFKCl7dmFyIGE9bmV3IERhdGUsYj1bRChhLmdldEhvdXJzKCkpLEQoYS5nZXRNaW51dGVzKCkpLEQoYS5nZXRTZWNvbmRzKCkpXS5qb2luKCI6Iik7cmV0dXJuW2EuZ2V0RGF0ZSgpLEpbYS5nZXRNb250aCgpXSxiXS5qb2luKCIgIil9ZnVuY3Rpb24gRihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX12YXIgRz0vJVtzZGolXS9nO2MuZm9ybWF0PWZ1bmN0aW9uKGEpe2lmKCF0KGEpKXtmb3IodmFyIGI9W10sYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYi5wdXNoKGUoYXJndW1lbnRzW2NdKSk7cmV0dXJuIGIuam9pbigiICIpfWZvcih2YXIgYz0xLGQ9YXJndW1lbnRzLGY9ZC5sZW5ndGgsZz1TdHJpbmcoYSkucmVwbGFjZShHLGZ1bmN0aW9uKGEpe2lmKCIlJSI9PT1hKXJldHVybiIlIjtpZihjPj1mKXJldHVybiBhO3N3aXRjaChhKXtjYXNlIiVzIjpyZXR1cm4gU3RyaW5nKGRbYysrXSk7Y2FzZSIlZCI6cmV0dXJuIE51bWJlcihkW2MrK10pO2Nhc2UiJWoiOnRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZFtjKytdKX1jYXRjaChiKXtyZXR1cm4iW0NpcmN1bGFyXSJ9ZGVmYXVsdDpyZXR1cm4gYX19KSxoPWRbY107Zj5jO2g9ZFsrK2NdKWcrPXEoaCl8fCF4KGgpPyIgIitoOiIgIitlKGgpO3JldHVybiBnfSxjLmRlcHJlY2F0ZT1mdW5jdGlvbihhLGUpe2Z1bmN0aW9uIGYoKXtpZighZyl7aWYoYi50aHJvd0RlcHJlY2F0aW9uKXRocm93IG5ldyBFcnJvcihlKTtiLnRyYWNlRGVwcmVjYXRpb24/Y29uc29sZS50cmFjZShlKTpjb25zb2xlLmVycm9yKGUpLGc9ITB9cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWlmKHYoZC5wcm9jZXNzKSlyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5kZXByZWNhdGUoYSxlKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2lmKGIubm9EZXByZWNhdGlvbj09PSEwKXJldHVybiBhO3ZhciBnPSExO3JldHVybiBmfTt2YXIgSCxJPXt9O2MuZGVidWdsb2c9ZnVuY3Rpb24oYSl7aWYodihIKSYmKEg9Yi5lbnYuTk9ERV9ERUJVR3x8IiIpLGE9YS50b1VwcGVyQ2FzZSgpLCFJW2FdKWlmKG5ldyBSZWdFeHAoIlxcYiIrYSsiXFxiIiwiaSIpLnRlc3QoSCkpe3ZhciBkPWIucGlkO0lbYV09ZnVuY3Rpb24oKXt2YXIgYj1jLmZvcm1hdC5hcHBseShjLGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcigiJXMgJWQ6ICVzIixhLGQsYil9fWVsc2UgSVthXT1mdW5jdGlvbigpe307cmV0dXJuIElbYV19LGMuaW5zcGVjdD1lLGUuY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxlLnN0eWxlcz17c3BlY2lhbDoiY3lhbiIsbnVtYmVyOiJ5ZWxsb3ciLCJib29sZWFuIjoieWVsbG93Iix1bmRlZmluZWQ6ImdyZXkiLCJudWxsIjoiYm9sZCIsc3RyaW5nOiJncmVlbiIsZGF0ZToibWFnZW50YSIscmVnZXhwOiJyZWQifSxjLmlzQXJyYXk9byxjLmlzQm9vbGVhbj1wLGMuaXNOdWxsPXEsYy5pc051bGxPclVuZGVmaW5lZD1yLGMuaXNOdW1iZXI9cyxjLmlzU3RyaW5nPXQsYy5pc1N5bWJvbD11LGMuaXNVbmRlZmluZWQ9dixjLmlzUmVnRXhwPXcsYy5pc09iamVjdD14LGMuaXNEYXRlPXksYy5pc0Vycm9yPXosYy5pc0Z1bmN0aW9uPUEsYy5pc1ByaW1pdGl2ZT1CLGMuaXNCdWZmZXI9YSgiLi9zdXBwb3J0L2lzQnVmZmVyIik7dmFyIEo9WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTtjLmxvZz1mdW5jdGlvbigpe2NvbnNvbGUubG9nKCIlcyAtICVzIixFKCksYy5mb3JtYXQuYXBwbHkoYyxhcmd1bWVudHMpKX0sYy5pbmhlcml0cz1hKCJpbmhlcml0cyIpLGMuX2V4dGVuZD1mdW5jdGlvbihhLGIpe2lmKCFifHwheChiKSlyZXR1cm4gYTtmb3IodmFyIGM9T2JqZWN0LmtleXMoYiksZD1jLmxlbmd0aDtkLS07KWFbY1tkXV09YltjW2RdXTtyZXR1cm4gYX19KS5jYWxsKHRoaXMsYSgiL21udC9zcmMvZmgtanMtc2RrL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIpLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9zdXBwb3J0L2lzQnVmZmVyIjoxMCwiL21udC9zcmMvZmgtanMtc2RrL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyI6OSxpbmhlcml0czo4fV0sMTI6W2Z1bmN0aW9uKGEsYil7IWZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiOyFmdW5jdGlvbihhLGMpeyJ1bmRlZmluZWQiIT10eXBlb2YgYj9iLmV4cG9ydHM9YygpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJiJvYmplY3QiPT10eXBlb2YgZGVmaW5lLmFtZD9kZWZpbmUoYyk6dGhpc1thXT1jKCl9KCJsb2ciLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdHlwZW9mIGNvbnNvbGU9PT1jP2w6Y29uc29sZVtiXT09PWE/Y29uc29sZS5sb2chPT1hP2QoY29uc29sZSwibG9nIik6bDpkKGNvbnNvbGUsYil9ZnVuY3Rpb24gZChiLGMpe3ZhciBkPWJbY107aWYoZC5iaW5kIT09YSlyZXR1cm4gYltjXS5iaW5kKGIpO2lmKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPT09YSlyZXR1cm4gZShkLGIpO3RyeXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChiW2NdLGIpfWNhdGNoKGYpe3JldHVybiBlKGQsYil9fWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkoYSxbYixhcmd1bWVudHNdKX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPG0ubGVuZ3RoO2IrKylrW21bYl1dPWEobVtiXSl9ZnVuY3Rpb24gZygpe3JldHVybiB0eXBlb2Ygd2luZG93IT09YyYmd2luZG93LmRvY3VtZW50IT09YSYmd2luZG93LmRvY3VtZW50LmNvb2tpZSE9PWF9ZnVuY3Rpb24gaCgpe3RyeXtyZXR1cm4gdHlwZW9mIHdpbmRvdyE9PWMmJndpbmRvdy5sb2NhbFN0b3JhZ2UhPT1hfWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBpKGEpe3ZhciBiLGM9ITE7Zm9yKHZhciBkIGluIGsubGV2ZWxzKWlmKGsubGV2ZWxzLmhhc093blByb3BlcnR5KGQpJiZrLmxldmVsc1tkXT09PWEpe2I9ZDticmVha31pZihoKCkpdHJ5e3dpbmRvdy5sb2NhbFN0b3JhZ2UubG9nbGV2ZWw9Yn1jYXRjaChlKXtjPSEwfWVsc2UgYz0hMDtjJiZnKCkmJih3aW5kb3cuZG9jdW1lbnQuY29va2llPSJsb2dsZXZlbD0iK2IrIjsiKX1mdW5jdGlvbiBqKCl7dmFyIGI7aWYoaCgpJiYoYj13aW5kb3cubG9jYWxTdG9yYWdlLmxvZ2xldmVsKSxiPT09YSYmZygpKXt2YXIgYz1uLmV4ZWMod2luZG93LmRvY3VtZW50LmNvb2tpZSl8fFtdO2I9Y1sxXX1rLmxldmVsc1tiXT09PWEmJihiPSJXQVJOIiksay5zZXRMZXZlbChrLmxldmVsc1tiXSl9dmFyIGs9e30sbD1mdW5jdGlvbigpe30sbT1bInRyYWNlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIl0sbj0vbG9nbGV2ZWw9KFteO10rKS87cmV0dXJuIGsubGV2ZWxzPXtUUkFDRTowLERFQlVHOjEsSU5GTzoyLFdBUk46MyxFUlJPUjo0LFNJTEVOVDo1fSxrLnNldExldmVsPWZ1bmN0aW9uKGQpe2lmKCJudW1iZXIiPT10eXBlb2YgZCYmZD49MCYmZDw9ay5sZXZlbHMuU0lMRU5UKXtpZihpKGQpLGQ9PT1rLmxldmVscy5TSUxFTlQpcmV0dXJuIHZvaWQgZihmdW5jdGlvbigpe3JldHVybiBsfSk7aWYodHlwZW9mIGNvbnNvbGU9PT1jKXJldHVybiBmKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3R5cGVvZiBjb25zb2xlIT09YyYmKGsuc2V0TGV2ZWwoZCksa1thXS5hcHBseShrLGFyZ3VtZW50cykpfX0pLCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZyI7ZihmdW5jdGlvbihhKXtyZXR1cm4gZDw9ay5sZXZlbHNbYS50b1VwcGVyQ2FzZSgpXT9iKGEpOmx9KX1lbHNle2lmKCJzdHJpbmciIT10eXBlb2YgZHx8ay5sZXZlbHNbZC50b1VwcGVyQ2FzZSgpXT09PWEpdGhyb3cibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogIitkO2suc2V0TGV2ZWwoay5sZXZlbHNbZC50b1VwcGVyQ2FzZSgpXSl9fSxrLmVuYWJsZUFsbD1mdW5jdGlvbigpe2suc2V0TGV2ZWwoay5sZXZlbHMuVFJBQ0UpfSxrLmRpc2FibGVBbGw9ZnVuY3Rpb24oKXtrLnNldExldmVsKGsubGV2ZWxzLlNJTEVOVCl9LGooKSxrfSl9KCl9LHt9XSwxMzpbZnVuY3Rpb24oYSxiKXt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2IuZXhwb3J0cz1mdW5jdGlvbihhKXtzd2l0Y2goYy5jYWxsKGEpKXtjYXNlIltvYmplY3QgRnVuY3Rpb25dIjpyZXR1cm4iZnVuY3Rpb24iO2Nhc2UiW29iamVjdCBEYXRlXSI6cmV0dXJuImRhdGUiO2Nhc2UiW29iamVjdCBSZWdFeHBdIjpyZXR1cm4icmVnZXhwIjtjYXNlIltvYmplY3QgQXJndW1lbnRzXSI6cmV0dXJuImFyZ3VtZW50cyI7Y2FzZSJbb2JqZWN0IEFycmF5XSI6cmV0dXJuImFycmF5IjtjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuInN0cmluZyJ9aWYoIm9iamVjdCI9PXR5cGVvZiBhJiZhJiYibnVtYmVyIj09dHlwZW9mIGEubGVuZ3RoKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS5jYWxsZWUpcmV0dXJuImFyZ3VtZW50cyJ9Y2F0Y2goYil7aWYoYiBpbnN0YW5jZW9mIFR5cGVFcnJvcilyZXR1cm4iYXJndW1lbnRzIn1yZXR1cm4gbnVsbD09PWE/Im51bGwiOnZvaWQgMD09PWE/InVuZGVmaW5lZCI6YSYmMT09PWEubm9kZVR5cGU/ImVsZW1lbnQiOmE9PT1PYmplY3QoYSk/Im9iamVjdCI6dHlwZW9mIGF9fSx7fV0sMTQ6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi9tb2R1bGVzL2NvbnN0YW50cyIpLGQ9YSgiLi9tb2R1bGVzL2V2ZW50cyIpLGU9YSgiLi9tb2R1bGVzL2xvZ2dlciIpLGY9YSgiLi9tb2R1bGVzL2FqYXgiKSxkPWEoIi4vbW9kdWxlcy9ldmVudHMiKSxnPWEoIi4vbW9kdWxlcy93YWl0Rm9yQ2xvdWQiKSxoPWEoIi4vbW9kdWxlcy9hcGlfYWN0IiksaT1hKCIuL21vZHVsZXMvYXBpX2F1dGgiKSxqPWEoIi4vbW9kdWxlcy9hcGlfc2VjIiksaz1hKCIuL21vZHVsZXMvYXBpX2hhc2giKSxsPWEoIi4vbW9kdWxlcy9zeW5jLWNsaSIpLG09YSgiLi9tb2R1bGVzL2FwaV9tYmFhcyIpLG49YSgiLi9tb2R1bGVzL2FwaV9jbG91ZCIpLG89YSgiLi9tb2R1bGVzL2ZocGFyYW1zIikscD1hKCIuL21vZHVsZXMvYXBwUHJvcHMiKSxxPWEoIi4vbW9kdWxlcy9kZXZpY2UiKSxyPWZ1bmN0aW9uKGEsYil7ZC5hZGRMaXN0ZW5lcihhLGIpLGE9PT1jLklOSVRfRVZFTlQmJihnLmlzUmVhZHkoKT9iKG51bGwse2hvc3Q6Zy5nZXRDbG91ZEhvc3RVcmwoKX0pOmcuZ2V0SW5pdEVycm9yKCkmJmIoZy5nZXRJbml0RXJyb3IoKSkpfSxzPWZ1bmN0aW9uKGEsYil7YT09PWMuSU5JVF9FVkVOVCYmZy5pc1JlYWR5KCk/YihudWxsLHtob3N0OmcuZ2V0Q2xvdWRIb3N0VXJsKCl9KTphPT09Yy5JTklUX0VWRU5UJiZnLmdldEluaXRFcnJvcigpP2IoZy5nZXRJbml0RXJyb3IoKSk6ZC5vbmNlKGEsYil9LHQ9ZnVuY3Rpb24oYSxiLGMpe2Uud2FybigiJGZoLmluaXQgd2lsbCBiZSBkZXByZWNhdGVkIHNvb24iKSxnLnJlYWR5KGZ1bmN0aW9uKGEsZCl7aWYoYSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGMoYSl9ZWxzZSJmdW5jdGlvbiI9PXR5cGVvZiBiJiZiKGQuaG9zdCl9KX0sdT13aW5kb3cuJGZofHx7fTt1LmluaXQ9dCx1LmFjdD1oLHUuYXV0aD1pLHUuY2xvdWQ9bix1LnNlYz1qLHUuaGFzaD1rLHUuc3luYz1sLHUuYWpheD11Ll9fYWpheD1mLHUubWJhYXM9bSx1Ll9nZXREZXZpY2VJZD1xLmdldERldmljZUlkLHUuZmhfdGltZW91dD02ZTQsdS5nZXRDbG91ZFVSTD1mdW5jdGlvbigpe3JldHVybiBnLmdldENsb3VkSG9zdFVybCgpfSx1LmdldEZIUGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIG8uYnVpbGRGSFBhcmFtcygpfSx1LmFkZExpc3RlbmVyPXIsdS5vbj1yLHUub25jZT1zO2Zvcih2YXIgdj1bInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwic2V0TWF4TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiZW1pdCJdLHc9MDt3PHYubGVuZ3RoO3crKyl1W3Zbd11dPWRbdlt3XV07dS5vbihjLklOSVRfRVZFTlQsZnVuY3Rpb24oYSxiKXthPyh1LmNsb3VkX3Byb3BzPXt9LHUuYXBwX3Byb3BzPXt9KToodS5jbG91ZF9wcm9wcz17aG9zdHM6e3VybDpiLmhvc3R9fSx1LmFwcF9wcm9wcz1wLmdldEFwcFByb3BzKCkpfSksdS5vbihjLklOVEVSTkFMX0NPTkZJR19MT0FERURfRVZFTlQsZnVuY3Rpb24oYSl7dS5hcHBfcHJvcHM9YT97fTpwLmdldEFwcFByb3BzKCksZC5lbWl0KGMuQ09ORklHX0xPQURFRF9FVkVOVCxudWxsKX0pLHUucmVzZXQ9Zy5yZXNldCx3aW5kb3cuJGZoPXUsYi5leHBvcnRzPXV9LHsiLi9tb2R1bGVzL2FqYXgiOjE2LCIuL21vZHVsZXMvYXBpX2FjdCI6MTcsIi4vbW9kdWxlcy9hcGlfYXV0aCI6MTgsIi4vbW9kdWxlcy9hcGlfY2xvdWQiOjE5LCIuL21vZHVsZXMvYXBpX2hhc2giOjIwLCIuL21vZHVsZXMvYXBpX21iYWFzIjoyMSwiLi9tb2R1bGVzL2FwaV9zZWMiOjIyLCIuL21vZHVsZXMvYXBwUHJvcHMiOjIzLCIuL21vZHVsZXMvY29uc3RhbnRzIjoyNSwiLi9tb2R1bGVzL2RldmljZSI6MjcsIi4vbW9kdWxlcy9ldmVudHMiOjI4LCIuL21vZHVsZXMvZmhwYXJhbXMiOjI5LCIuL21vZHVsZXMvbG9nZ2VyIjozNSwiLi9tb2R1bGVzL3N5bmMtY2xpIjo0MywiLi9tb2R1bGVzL3dhaXRGb3JDbG91ZCI6NDV9XSwxNTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhKXt0aGlzLnhkcj1hLHRoaXMuaXNXcmFwcGVyPSEwLHRoaXMucmVhZHlTdGF0ZT0wLHRoaXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnN0YXR1c1RleHQ9IiIsdGhpcy5yZXNwb25zZVRleHQ9IiI7dmFyIGI9dGhpczt0aGlzLnhkci5vbmxvYWQ9ZnVuY3Rpb24oKXtiLnJlYWR5U3RhdGU9NCxiLnN0YXR1cz0yMDAsYi5zdGF0dXNUZXh0PSIiLGIucmVzcG9uc2VUZXh0PWIueGRyLnJlc3BvbnNlVGV4dCxiLm9ucmVhZHlzdGF0ZWNoYW5nZSYmYi5vbnJlYWR5c3RhdGVjaGFuZ2UoKX0sdGhpcy54ZHIub25lcnJvcj1mdW5jdGlvbigpe2Iub25lcnJvciYmYi5vbmVycm9yKCksYi5yZWFkeVN0YXRlPTQsYi5zdGF0dXM9MCxiLnN0YXR1c1RleHQ9IiIsYi5vbnJlYWR5c3RhdGVjaGFuZ2UmJmIub25yZWFkeXN0YXRlY2hhbmdlKCl9LHRoaXMueGRyLm9udGltZW91dD1mdW5jdGlvbigpe2IucmVhZHlTdGF0ZT00LGIuc3RhdHVzPTQwOCxiLnN0YXR1c1RleHQ9InRpbWVvdXQiLGIub25yZWFkeXN0YXRlY2hhbmdlJiZiLm9ucmVhZHlzdGF0ZWNoYW5nZSgpfX07Yy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe3RoaXMueGRyLm9wZW4oYSxiKX0sYy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihhKXt0aGlzLnhkci5zZW5kKGEpfSxjLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMueGRyLmFib3J0KCl9LGMucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oKXt9LGMucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKCl7fSxiLmV4cG9ydHM9Y30se31dLDE2OltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe3JldHVybiB1LmVtaXQoYixjKSwhMH1mdW5jdGlvbiBkKGEsYixkLGUpe3JldHVybiBhLmdsb2JhbD9jKGJ8fEMsZCxlKTp2b2lkIDB9ZnVuY3Rpb24gZShhKXthLmdsb2JhbCYmMD09PUkuYWN0aXZlKysmJmQoYSxudWxsLCJhamF4U3RhcnQiKX1mdW5jdGlvbiBmKGEpe2EuZ2xvYmFsJiYhLS1JLmFjdGl2ZSYmZChhLG51bGwsImFqYXhTdG9wIil9ZnVuY3Rpb24gZyhhLGIpe3ZhciBjPWIuY29udGV4dDtyZXR1cm4gYi5iZWZvcmVTZW5kLmNhbGwoYyxhLGIpPT09ITE/ITE6dm9pZCBkKGIsYywiYWpheFNlbmQiLFthLGJdKX1mdW5jdGlvbiBoKGEsYixjKXt2YXIgZT1jLmNvbnRleHQsZj0ic3VjY2VzcyI7Yy5zdWNjZXNzLmNhbGwoZSxhLGYsYiksZChjLGUsImFqYXhTdWNjZXNzIixbYixjLGFdKSxqKGYsYixjKX1mdW5jdGlvbiBpKGEsYixjLGUpe3ZhciBmPWUuY29udGV4dDtlLmVycm9yLmNhbGwoZixjLGIsYSksZChlLGYsImFqYXhFcnJvciIsW2MsZSxhXSksaihiLGMsZSl9ZnVuY3Rpb24gaihhLGIsYyl7dmFyIGU9Yy5jb250ZXh0O2MuY29tcGxldGUuY2FsbChlLGIsYSksZChjLGUsImFqYXhDb21wbGV0ZSIsW2IsY10pLGYoYyl9ZnVuY3Rpb24gaygpe31mdW5jdGlvbiBsKCl7dmFyIGE9ITE7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSIpPj0wJiYoYT0hMCksYX1mdW5jdGlvbiBtKGEpe3ZhciBiPW51bGw7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0JiYoYj1uZXcgWE1MSHR0cFJlcXVlc3QpLGwoKSYmYT09PSEwJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5YRG9tYWluUmVxdWVzdCYmInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cuY29yZG92YSYmKGI9bmV3IHYobmV3IFhEb21haW5SZXF1ZXN0KSksInVuZGVmaW5lZCIhPXR5cGVvZiBUaXRhbml1bSl7SS5zZXR0aW5ncyYmSS5zZXR0aW5ncy50aW1lb3V0JiYocGFyYW1zLnRpbWVvdXQ9SS5zZXR0aW5ncy50aW1lb3V0KSxiPVRpdGFuaXVtLk5ldHdvcmsuY3JlYXRlSFRUUENsaWVudChwYXJhbXMpfXJldHVybiBifWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGEmJihhPT1HPyJodG1sIjphPT1GPyJqc29uIjpELnRlc3QoYSk/InNjcmlwdCI6RS50ZXN0KGEpJiYieG1sIil8fCJ0ZXh0In1mdW5jdGlvbiBvKGEsYil7cmV0dXJuKGErIiYiK2IpLnJlcGxhY2UoL1smP117MSwyfS8sIj8iKX1mdW5jdGlvbiBwKGEpeyJvYmplY3QiPT09dChhLmRhdGEpJiYoImZ1bmN0aW9uIj09dHlwZW9mIGEuZGF0YS5hcHBlbmQ/YS5mb3JtZGF0YT0hMDphLmRhdGE9cihhLmRhdGEpKSwhYS5kYXRhfHxhLnR5cGUmJiJHRVQiIT1hLnR5cGUudG9VcHBlckNhc2UoKXx8KGEudXJsPW8oYS51cmwsYS5kYXRhKSl9ZnVuY3Rpb24gcShhLGIsYyxkKXt2YXIgZT0iYXJyYXkiPT09dChiKTtmb3IodmFyIGYgaW4gYil7dmFyIGc9YltmXTtkJiYoZj1jP2Q6ZCsiWyIrKGU/IiI6ZikrIl0iKSwhZCYmZT9hLmFkZChnLm5hbWUsZy52YWx1ZSk6KGM/ImFycmF5Ij09PXQoZyk6Im9iamVjdCI9PT10KGcpKT9xKGEsZyxjLGYpOmEuYWRkKGYsZyl9fWZ1bmN0aW9uIHIoYSxiKXt2YXIgYz1bXTtyZXR1cm4gYy5hZGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnB1c2goSihhKSsiPSIrSihiKSl9LHEoYyxhLGIpLGMuam9pbigiJiIpLnJlcGxhY2UoIiUyMCIsIisiKX1mdW5jdGlvbiBzKGEpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZTtyZXR1cm4gYi5jYWxsKGFyZ3VtZW50cywxKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Zvcih6IGluIGIpdm9pZCAwIT09Ylt6XSYmKGFbel09Ylt6XSl9KSxhfXZhciB0LHU9YSgiLi9ldmVudHMiKSx2PWEoIi4vWERvbWFpblJlcXVlc3RXcmFwcGVyIiksdz1hKCIuL2xvZ2dlciIpO3RyeXt0PWEoInR5cGUtb2YiKX1jYXRjaCh4KXt2YXIgeT1hO3Q9eSgidHlwZSIpfXZhciB6LEEsQj0wLEM9d2luZG93LmRvY3VtZW50LEQ9L14oPzp0ZXh0fGFwcGxpY2F0aW9uKVwvamF2YXNjcmlwdC9pLEU9L14oPzp0ZXh0fGFwcGxpY2F0aW9uKVwveG1sL2ksRj0iYXBwbGljYXRpb24vanNvbiIsRz0idGV4dC9odG1sIixIPS9eXHMqJC8sST1iLmV4cG9ydHM9ZnVuY3Rpb24oYSl7dmFyIGI9cyh7fSxhfHx7fSk7d2luZG93JiZ3aW5kb3cuJGZoJiYibnVtYmVyIj09dHlwZW9mIHdpbmRvdy4kZmguZmhfdGltZW91dCYmKEkuc2V0dGluZ3MudGltZW91dD13aW5kb3cuJGZoLmZoX3RpbWVvdXQpO2Zvcih6IGluIEkuc2V0dGluZ3Mpdm9pZCAwPT09Ylt6XSYmKGJbel09SS5zZXR0aW5nc1t6XSk7ZShiKSxiLmNyb3NzRG9tYWlufHwoYi5jcm9zc0RvbWFpbj0vXihbXHctXSs6KT9cL1wvKFteXC9dKykvLnRlc3QoYi51cmwpJiYoUmVnRXhwLiQxIT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2x8fFJlZ0V4cC4kMiE9d2luZG93LmxvY2F0aW9uLmhvc3QpKTt2YXIgYz1iLmRhdGFUeXBlLGQ9Lz1cPy8udGVzdChiLnVybCk7aWYoImpzb25wIj09Y3x8ZClyZXR1cm4gZHx8KGIudXJsPW8oYi51cmwsKGIuanNvbnA/Yi5qc29ucDoiX2NhbGxiYWNrIikrIj0/IikpLEkuSlNPTlAoYik7Yi51cmx8fChiLnVybD13aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSkscChiKTt2YXIgZj1iLmFjY2VwdHNbY10saj17fSxsPS9eKFtcdy1dKzopXC9cLy8udGVzdChiLnVybCk/UmVnRXhwLiQxOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCxtPWIueGhyKGIuY3Jvc3NEb21haW4pLHE9bnVsbDtiLmNyb3NzRG9tYWlufHwoalsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLGYmJihqLkFjY2VwdD1mLGYuaW5kZXhPZigiLCIpPi0xJiYoZj1mLnNwbGl0KCIsIiwyKVswXSksbS5vdmVycmlkZU1pbWVUeXBlJiZtLm92ZXJyaWRlTWltZVR5cGUoZikpLChiLmNvbnRlbnRUeXBlfHxiLmRhdGEmJiFiLmZvcm1kYXRhJiYiR0VUIiE9Yi50eXBlLnRvVXBwZXJDYXNlKCkpJiYoalsiQ29udGVudC1UeXBlIl09Yi5jb250ZW50VHlwZXx8ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpLGIuaGVhZGVycz1zKGosYi5oZWFkZXJzfHx7fSksInVuZGVmaW5lZCIhPXR5cGVvZiBUaXRhbml1bSYmKG0ub25lcnJvcj1mdW5jdGlvbigpe3EmJihjbGVhclRpbWVvdXQocSksaShudWxsLCJlcnJvciIsbSxiKSl9KSxtLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PW0ucmVhZHlTdGF0ZSl7Y2xlYXJUaW1lb3V0KHEpLHE9dm9pZCAwO3ZhciBhLGQ9ITE7aWYoYi50cnlKU09OUCYmMD09PW0uc3RhdHVzJiZiLmNyb3NzRG9tYWluJiYhbS5pc1RpbWVvdXQmJiJmaWxlOiIhPWwpcmV0dXJuIHcuZGVidWcoInJldHJ5IGFqYXggY2FsbCB3aXRoIGpzb25wIiksYi50eXBlPSJHRVQiLGIuZGF0YVR5cGU9Impzb25wIixiLmRhdGE9Il9qc29ucGRhdGE9IitiLmRhdGEsSShiKTtpZihtLnN0YXR1cz49MjAwJiZtLnN0YXR1czwzMDB8fDMwND09bS5zdGF0dXN8fDA9PW0uc3RhdHVzJiYiZmlsZToiPT1sKXtjPWN8fG4obS5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpLGE9bS5yZXNwb25zZVRleHQsdy5kZWJ1ZygiYWpheCByZXNwb25zZSA6OiBzdGF0dXMgPSAiK20uc3RhdHVzKyIgOjogYm9keSA9ICIrYSk7dHJ5eyJzY3JpcHQiPT1jPygxLGV2YWwpKGEpOiJ4bWwiPT1jP2E9bS5yZXNwb25zZVhNTDoianNvbiI9PWMmJihhPUgudGVzdChhKT9udWxsOkpTT04ucGFyc2UoYSkpfWNhdGNoKGUpe2Q9ZX1kPyh3LmRlYnVnKCJhamF4IGVycm9yIixkKSxpKGQsInBhcnNlcmVycm9yIixtLGIpKTpoKGEsbSxiKX1lbHNlIGkobnVsbCwiZXJyb3IiLG0sYil9fTt2YXIgcj0iYXN5bmMiaW4gYj9iLmFzeW5jOiEwO3cuZGVidWcoImFqYXggY2FsbCBzZXR0aW5ncyIsYiksbS5vcGVuKGIudHlwZSxiLnVybCxyKTtmb3IoQSBpbiBiLmhlYWRlcnMpbS5zZXRSZXF1ZXN0SGVhZGVyKEEsYi5oZWFkZXJzW0FdKTtyZXR1cm4gZyhtLGIpPT09ITE/KHcuZGVidWcoImFqYXggY2FsbCBpcyBhYm9ydGVkIGR1ZSB0byBhamF4QmVmb3JlU2VuZCIpLG0uYWJvcnQoKSwhMSk6KGIudGltZW91dD4wJiYocT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dy5kZWJ1ZygiYWpheCBjYWxsIHRpbWVkIG91dCIpLG0ub25yZWFkeXN0YXRlY2hhbmdlPWssbS5hYm9ydCgpLG0uaXNUaW1lb3V0PSEwLGkobnVsbCwidGltZW91dCIsbSxiKX0sYi50aW1lb3V0KSksbS5zZW5kKGIuZGF0YT9iLmRhdGE6bnVsbCksbSl9O0kuYWN0aXZlPTAsSS5KU09OUD1mdW5jdGlvbihhKXtpZighKCJ0eXBlImluIGEpKXJldHVybiBJKGEpO3ZhciBiLGM9Impzb25wIisgKytCLGQ9Qy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxlPWZ1bmN0aW9uKCl7YyBpbiB3aW5kb3cmJih3aW5kb3dbY109ayksaigiYWJvcnQiLGYsYSl9LGY9e2Fib3J0OmV9LGc9Qy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxDLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYS5lcnJvciYmKGQub25lcnJvcj1mdW5jdGlvbigpe2YuYWJvcnQoKSxhLmVycm9yKCl9KSx3aW5kb3dbY109ZnVuY3Rpb24oZCl7Y2xlYXJUaW1lb3V0KGIpLGI9dm9pZCAwLGRlbGV0ZSB3aW5kb3dbY10saChkLGYsYSl9LHAoYSksZC5zcmM9YS51cmwucmVwbGFjZSgvPVw/LywiPSIrYyksZy5pbnNlcnRCZWZvcmUoZCxnLmZpcnN0Q2hpbGQpLGEudGltZW91dD4wJiYoYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5hYm9ydCgpLGooInRpbWVvdXQiLGYsYSl9LGEudGltZW91dCkpLGZ9LEkuc2V0dGluZ3M9e3R5cGU6IkdFVCIsYmVmb3JlU2VuZDprLHN1Y2Nlc3M6ayxlcnJvcjprLGNvbXBsZXRlOmssY29udGV4dDpudWxsLGdsb2JhbDohMCx4aHI6bSxhY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCIsanNvbjpGLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDpHLHRleHQ6InRleHQvcGxhaW4ifSxjcm9zc0RvbWFpbjohMX0sSS5nZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSSh7dXJsOmEsc3VjY2VzczpifSl9LEkucG9zdD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4iZnVuY3Rpb24iPT09dChiKSYmKGQ9ZHx8YyxjPWIsYj1udWxsKSxJKHt0eXBlOiJQT1NUIix1cmw6YSxkYXRhOmIsc3VjY2VzczpjLGRhdGFUeXBlOmR9KX0sSS5nZXRKU09OPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEkoe3VybDphLHN1Y2Nlc3M6YixkYXRhVHlwZToianNvbiJ9KX07dmFyIEo9ZW5jb2RlVVJJQ29tcG9uZW50fSx7Ii4vWERvbWFpblJlcXVlc3RXcmFwcGVyIjoxNSwiLi9ldmVudHMiOjI4LCIuL2xvZ2dlciI6MzUsInR5cGUtb2YiOjEzfV0sMTc6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGQ9ZS5nZXRDbG91ZEhvc3QoKSxrPWQuZ2V0QWN0VXJsKGEuYWN0KSxsPWEucmVxfHx7fTtyZXR1cm4gbD1mLmFkZEZIUGFyYW1zKGwpLGcoe3VybDprLHRyeUpTT05QOiEwLHR5cGU6IlBPU1QiLGRhdGFUeXBlOiJqc29uIixkYXRhOmguc3RyaW5naWZ5KGwpLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIix0aW1lb3V0OmEudGltZW91dHx8ai50aW1lb3V0LHN1Y2Nlc3M6YixlcnJvcjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGkoYyxhLGIsZCl9fSl9dmFyIGQ9YSgiLi9sb2dnZXIiKSxlPWEoIi4vd2FpdEZvckNsb3VkIiksZj1hKCIuL2ZocGFyYW1zIiksZz1hKCIuL2FqYXgiKSxoPWEoIkpTT04iKSxpPWEoIi4vaGFuZGxlRXJyb3IiKSxqPWEoIi4vYXBwUHJvcHMiKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGYpe3JldHVybiBkLmRlYnVnKCJhY3QgaXMgY2FsbGVkIiksZnx8KGY9ZnVuY3Rpb24oYSxiKXtkLmRlYnVnKGErIjoiK2guc3RyaW5naWZ5KGIpKX0pLGEuYWN0P3ZvaWQgZS5yZWFkeShmdW5jdGlvbihlKXtyZXR1cm4gZC5kZWJ1ZygiQ2FsbGluZyBmaGFjdCBub3ciKSxlP2YoZS5tZXNzYWdlLGUpOnZvaWQgYyhhLGIsZil9KTpmKCJhY3Rfbm9fYWN0aW9uIix7fSl9fSx7Ii4vYWpheCI6MTYsIi4vYXBwUHJvcHMiOjIzLCIuL2ZocGFyYW1zIjoyOSwiLi9oYW5kbGVFcnJvciI6MzAsIi4vbG9nZ2VyIjozNSwiLi93YWl0Rm9yQ2xvdWQiOjQ1LEpTT046M31dLDE4OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vbG9nZ2VyIiksZD1hKCIuL3dhaXRGb3JDbG91ZCIpLGU9YSgiLi9maHBhcmFtcyIpLGY9YSgiLi9hamF4IiksZz1hKCJKU09OIiksaD1hKCIuL2hhbmRsZUVycm9yIiksaT1hKCIuL2RldmljZSIpLGo9YSgiLi9jb25zdGFudHMiKSxrPWEoIi4vY2hlY2tBdXRoIiksbD1hKCIuL2FwcFByb3BzIik7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYixtKXtyZXR1cm4gbXx8KG09ZnVuY3Rpb24oYSxiKXtjLmRlYnVnKGErIjoiK2cuc3RyaW5naWZ5KGIpKX0pLGEucG9saWN5SWQ/YS5jbGllbnRUb2tlbj92b2lkIGQucmVhZHkoZnVuY3Rpb24oYyl7aWYoYylyZXR1cm4gbShjLm1lc3NhZ2UsYyk7dmFyIGQ9e307ZC5wb2xpY3lJZD1hLnBvbGljeUlkLGQuY2xpZW50VG9rZW49YS5jbGllbnRUb2tlbixhLmVuZFJlZGlyZWN0VXJsJiYoZC5lbmRSZWRpcmVjdFVybD1hLmVuZFJlZGlyZWN0VXJsLGEuYXV0aENhbGxiYWNrJiYoZC5lbmRSZWRpcmVjdFVybCs9KC9cPy8udGVzdChkLmVuZFJlZGlyZWN0VXJsKT8iJiI6Ij8iKSsiX2ZoQXV0aENhbGxiYWNrPSIrYS5hdXRoQ2FsbGJhY2spKSxkLnBhcmFtcz17fSxhLnBhcmFtcyYmKGQucGFyYW1zPWEucGFyYW1zKTt2YXIgbj1hLmVuZFJlZGlyZWN0VXJsfHwic3RhdHVzPWNvbXBsZXRlIjtkLmRldmljZT1pLmdldERldmljZUlkKCk7dmFyIG89bC5nZXRBcHBQcm9wcygpLHA9by5ob3N0K2ouYm94cHJlZml4KyJhZG1pbi9hdXRocG9saWN5L2F1dGgiO28ubG9jYWwmJihwPWouYm94cHJlZml4KyJhZG1pbi9hdXRocG9saWN5L2F1dGgiKSxkPWUuYWRkRkhQYXJhbXMoZCksZih7dXJsOnAsdHlwZToiUE9TVCIsdHJ5SlNPTlA6ITAsZGF0YTpnLnN0cmluZ2lmeShkKSxkYXRhVHlwZToianNvbiIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLHRpbWVvdXQ6YS50aW1lb3V0fHxvLnRpbWVvdXQsc3VjY2VzczpmdW5jdGlvbihhKXtrLmhhbmRsZUF1dGhSZXNwb25zZShuLGEsYixtKX0sZXJyb3I6ZnVuY3Rpb24oYSxiLGMpe2gobSxhLGIsYyl9fSl9KTptKCJhdXRoX25vX2NsaWVudFRva2VuIix7fSk6bSgiYXV0aF9ub19wb2xpY3lJZCIse30pfX0seyIuL2FqYXgiOjE2LCIuL2FwcFByb3BzIjoyMywiLi9jaGVja0F1dGgiOjI0LCIuL2NvbnN0YW50cyI6MjUsIi4vZGV2aWNlIjoyNywiLi9maHBhcmFtcyI6MjksIi4vaGFuZGxlRXJyb3IiOjMwLCIuL2xvZ2dlciI6MzUsIi4vd2FpdEZvckNsb3VkIjo0NSxKU09OOjN9XSwxOTpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYixjKXt2YXIgZD1lLmdldENsb3VkSG9zdCgpLGs9ZC5nZXRDbG91ZFVybChhLnBhdGgpLGw9YS5kYXRhfHx7fTtsPWYuYWRkRkhQYXJhbXMobCk7dmFyIG0sbj1hLm1ldGhvZHx8IlBPU1QiO3JldHVybiBtPSJQT1NUIj09PW4udG9VcHBlckNhc2UoKT9oLnN0cmluZ2lmeShsKTpsLGcoe3VybDprLHR5cGU6bixkYXRhVHlwZTphLmRhdGFUeXBlfHwianNvbiIsZGF0YTptLGNvbnRlbnRUeXBlOmEuY29udGVudFR5cGV8fCJhcHBsaWNhdGlvbi9qc29uIix0aW1lb3V0OmEudGltZW91dHx8ai50aW1lb3V0LHN1Y2Nlc3M6YixlcnJvcjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGkoYyxhLGIsZCl9fSl9dmFyIGQ9YSgiLi9sb2dnZXIiKSxlPWEoIi4vd2FpdEZvckNsb3VkIiksZj1hKCIuL2ZocGFyYW1zIiksZz1hKCIuL2FqYXgiKSxoPWEoIkpTT04iKSxpPWEoIi4vaGFuZGxlRXJyb3IiKSxqPWEoIi4vYXBwUHJvcHMiKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGYpe2QuZGVidWcoImNsb3VkIGlzIGNhbGxlZCIpLGZ8fChmPWZ1bmN0aW9uKGEsYil7ZC5kZWJ1ZyhhKyI6IitoLnN0cmluZ2lmeShiKSl9KSxlLnJlYWR5KGZ1bmN0aW9uKGUpe3JldHVybiBkLmRlYnVnKCJDYWxsaW5nIGZoYWN0IG5vdyIpLGU/ZihlLm1lc3NhZ2UsZSk6dm9pZCBjKGEsYixmKX0pfX0seyIuL2FqYXgiOjE2LCIuL2FwcFByb3BzIjoyMywiLi9maHBhcmFtcyI6MjksIi4vaGFuZGxlRXJyb3IiOjMwLCIuL2xvZ2dlciI6MzUsIi4vd2FpdEZvckNsb3VkIjo0NSxKU09OOjN9XSwyMDpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuL3NlY3VyaXR5L2hhc2giKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9OyJ1bmRlZmluZWQiPT10eXBlb2YgYS5hbGdvcml0aG0mJihhLmFsZ29yaXRobT0iTUQ1IiksZS5hY3Q9Imhhc2giLGUucGFyYW1zPWEsYyhlLGIsZCl9fSx7Ii4vc2VjdXJpdHkvaGFzaCI6NDF9XSwyMTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuL2xvZ2dlciIpLGQ9YSgiLi93YWl0Rm9yQ2xvdWQiKSxlPWEoIi4vZmhwYXJhbXMiKSxmPWEoIi4vYWpheCIpLGc9YSgiSlNPTiIpLGg9YSgiLi9oYW5kbGVFcnJvciIpLGk9KGEoIi4vY29uc3RhbnRzIiksYSgiLi9hcHBQcm9wcyIpKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGope2MuZGVidWcoIm1iYWFzIGlzIGNhbGxlZC4iKSxqfHwoaj1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZGVidWcoYSsiOiIrZy5zdHJpbmdpZnkoYikpfSk7dmFyIGs9YS5zZXJ2aWNlLGw9YS5wYXJhbXM7ZC5yZWFkeShmdW5jdGlvbihtKXtpZihjLmRlYnVnKCJDYWxsaW5nIG1iYWFzIG5vdyIpLG0pcmV0dXJuIGoobS5tZXNzYWdlLG0pO3ZhciBuPWQuZ2V0Q2xvdWRIb3N0KCksbz1uLmdldE1CQUFTVXJsKGspO3JldHVybiBsPWUuYWRkRkhQYXJhbXMobCksZih7dXJsOm8sdHJ5SlNPTlA6ITAsdHlwZToiUE9TVCIsZGF0YVR5cGU6Impzb24iLGRhdGE6Zy5zdHJpbmdpZnkobCksY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLHRpbWVvdXQ6YS50aW1lb3V0fHxpLnRpbWVvdXQsc3VjY2VzczpiLGVycm9yOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaChqLGEsYixjKX19KX0pfX0seyIuL2FqYXgiOjE2LCIuL2FwcFByb3BzIjoyMywiLi9jb25zdGFudHMiOjI1LCIuL2ZocGFyYW1zIjoyOSwiLi9oYW5kbGVFcnJvciI6MzAsIi4vbG9nZ2VyIjozNSwiLi93YWl0Rm9yQ2xvdWQiOjQ1LEpTT046M31dLDIyOltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vc2VjdXJpdHkvYWVzLWtleWdlbiIpLGQ9YSgiLi9zZWN1cml0eS9hZXMtbm9kZSIpLGU9YSgiLi9zZWN1cml0eS9yc2Etbm9kZSIpLGY9YSgiLi9zZWN1cml0eS9oYXNoIik7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYixnKXtyZXR1cm4gYS5hY3Q/YS5wYXJhbXM/YS5wYXJhbXMuYWxnb3JpdGhtPyhhLnBhcmFtcy5hbGdvcml0aG09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCksImhhc2giPT09YS5hY3Q/ZihhLGIsZyk6ImVuY3J5cHQiPT09YS5hY3Q/ImFlcyI9PT1hLnBhcmFtcy5hbGdvcml0aG0/ZC5lbmNyeXB0KGEsYixnKToicnNhIj09PWEucGFyYW1zLmFsZ29yaXRobT9lLmVuY3J5cHQoYSxiLGcpOmcoImVuY3J5cHRfYmFkX2FsZ29yaXRobToiK2EucGFyYW1zLmFsZ29yaXRobSx7fSxhKToiZGVjcnlwdCI9PT1hLmFjdD8iYWVzIj09PWEucGFyYW1zLmFsZ29yaXRobT9kLmRlY3J5cHQoYSxiLGcpOmcoImRlY3J5cHRfYmFkX2FsZ29yaXRobToiK2EucGFyYW1zLmFsZ29yaXRobSx7fSxhKToia2V5Z2VuIj09PWEuYWN0PyJhZXMiPT09YS5wYXJhbXMuYWxnb3JpdGhtP2MoYSxiLGcpOmcoImtleWdlbl9iYWRfYWxnb3JpdGhtOiIrYS5wYXJhbXMuYWxnb3JpdGhtLHt9LGEpOnZvaWQgMCk6dm9pZCBnKCJub19wYXJhbXNfYWxnb3JpdGhtIix7fSxhKTp2b2lkIGcoIm5vX3BhcmFtcyIse30sYSk6dm9pZCBnKCJiYWRfYWN0Iix7fSxhKX19LHsiLi9zZWN1cml0eS9hZXMta2V5Z2VuIjozOSwiLi9zZWN1cml0eS9hZXMtbm9kZSI6NDAsIi4vc2VjdXJpdHkvaGFzaCI6NDEsIi4vc2VjdXJpdHkvcnNhLW5vZGUiOjQyfV0sMjM6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi9jb25zdGFudHMiKSxkPWEoIi4vYWpheCIpLGU9YSgiLi9sb2dnZXIiKSxmPWEoIi4vcXVlcnlNYXAiKSxnPW51bGwsaD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5sb2NhdGlvbi5ocmVmLGg9ZihiKSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgaC51cmw7aWYoaSlyZXR1cm4gZz17fSxnLmxvY2FsPSEwLGcuaG9zdD1oLnVybC5yZXBsYWNlKC8jLio/JC9nLCIiKSxnLmFwcGlkPSIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAiLGcuYXBwa2V5PSIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIixnLnByb2plY3RpZD0iMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIixnLmNvbm5lY3Rpb250YWc9IjAuMC4xIixnLmxvZ2xldmVsPWgubG9nbGV2ZWwsYShudWxsLGcpO3ZhciBqPWguZmhjb25maWd8fGMuY29uZmlnX2pzO2Qoe3VybDpqLGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKGIpe3JldHVybiBlLmRlYnVnKCJmaGNvbmZpZyA9ICIrSlNPTi5zdHJpbmdpZnkoYikpLG51bGw9PWI/d2luZG93LmZoX2FwcF9wcm9wcz8oZz13aW5kb3cuZmhfYXBwX3Byb3BzLGEobnVsbCx3aW5kb3cuZmhfYXBwX3Byb3BzKSk6YShuZXcgRXJyb3IoImFwcF9jb25maWdfbWlzc2luZyIpKTooZz1iLHZvaWQgYShudWxsLGcpKX0sZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmZoX2FwcF9wcm9wcz8oZz13aW5kb3cuZmhfYXBwX3Byb3BzLGEobnVsbCx3aW5kb3cuZmhfYXBwX3Byb3BzKSk6KGUuZXJyb3IoYy5jb25maWdfanMrIiBOb3QgRm91bmQiKSx2b2lkIGEobmV3IEVycm9yKCJhcHBfY29uZmlnX21pc3NpbmciKSkpfX0pfSxpPWZ1bmN0aW9uKGEpe2c9YX0saj1mdW5jdGlvbigpe3JldHVybiBnfTtiLmV4cG9ydHM9e2xvYWQ6aCxnZXRBcHBQcm9wczpqLHNldEFwcFByb3BzOml9fSx7Ii4vYWpheCI6MTYsIi4vY29uc3RhbnRzIjoyNSwiLi9sb2dnZXIiOjM1LCIuL3F1ZXJ5TWFwIjozN31dLDI0OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vbG9nZ2VyIiksZD1hKCIuL3F1ZXJ5TWFwIiksZT1hKCJKU09OIiksZj1hKCIuL2ZocGFyYW1zIiksZz1mdW5jdGlvbihhKXtpZigvXF9maEF1dGhDYWxsYmFjay8udGVzdChhKSl7dmFyIGI9ZChhKTtpZihiKXt2YXIgYz1iLl9maEF1dGhDYWxsYmFjaztpZihjKWlmKGIucmVzdWx0JiYic3VjY2VzcyI9PT1iLnJlc3VsdCl7dmFyIGc9e3Nlc3Npb25Ub2tlbjpiLmZoX2F1dGhfc2Vzc2lvbixhdXRoUmVzcG9uc2U6ZS5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KGIuYXV0aFJlc3BvbnNlKSkpfTtmLnNldEF1dGhTZXNzaW9uVG9rZW4oYi5maF9hdXRoX3Nlc3Npb24pLHdpbmRvd1tjXShudWxsLGcpfWVsc2Ugd2luZG93W2NdKHttZXNzYWdlOmIubWVzc2FnZX0pfX19LGg9ZnVuY3Rpb24oYSxiLGcsaCl7aWYoYi5zdGF0dXMmJiJvayI9PT1iLnN0YXR1cyl7dmFyIGk9ZnVuY3Rpb24oYSl7YS5zZXNzaW9uVG9rZW4mJmYuc2V0QXV0aFNlc3Npb25Ub2tlbihhLnNlc3Npb25Ub2tlbiksZyhhKX07aWYoYi51cmwpe3ZhciBqPW51bGwsaz1mdW5jdGlvbihiKXtpZihiLmluZGV4T2YoYSk+LTEpe2omJmouY2xvc2UoKTt2YXIgYz1kKGIpO2lmKGMpaWYoYy5yZXN1bHQmJiJzdWNjZXNzIj09PWMucmVzdWx0KXt2YXIgZj17c2Vzc2lvblRva2VuOmMuZmhfYXV0aF9zZXNzaW9uLGF1dGhSZXNwb25zZTplLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoYy5hdXRoUmVzcG9uc2UpKSl9O2koZil9ZWxzZSBoJiZoKCJhdXRoX2ZhaWxlZCIse21lc3NhZ2U6Yy5tZXNzYWdlfSk7ZWxzZSBoJiZoKCJhdXRoX2ZhaWxlZCIse21lc3NhZ2U6Yy5tZXNzYWdlfSl9fTtpZih3aW5kb3cuUGhvbmVHYXB8fHdpbmRvdy5jb3Jkb3ZhKWlmKHdpbmRvdy5wbHVnaW5zJiZ3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIpImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlci5zaG93V2ViUGFnZSYmKHdpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlci5vbkxvY2F0aW9uQ2hhbmdlPWssd2luZG93LnBsdWdpbnMuY2hpbGRCcm93c2VyLnNob3dXZWJQYWdlKGIudXJsKSxqPXdpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlcik7ZWxzZSB0cnl7aj13aW5kb3cub3BlbihiLnVybCwiX2JsYW5rIiwibG9jYXRpb249eWVzIiksai5hZGRFdmVudExpc3RlbmVyKCJsb2Fkc3RhcnQiLGZ1bmN0aW9uKGEpe2soYS51cmwpfSl9Y2F0Y2gobCl7Yy5pbmZvKCJJbkFwcEJyb3dzZXIgcGx1Z2luIGlzIG5vdCBpbnRhbGxlZC4iKSxpKGIpfWVsc2UgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1iLnVybH1lbHNlIGkoYil9ZWxzZSBoJiZoKCJhdXRoX2ZhaWxlZCIsYil9O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe2cod2luZG93LmxvY2F0aW9uLmhyZWYpfSwhMSk6d2luZG93LmF0dGFjaEV2ZW50JiZ3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsZnVuY3Rpb24oKXtnKHdpbmRvdy5sb2NhdGlvbi5ocmVmKX0pLGIuZXhwb3J0cz17aGFuZGxlQXV0aFJlc3BvbnNlOmh9fSx7Ii4vZmhwYXJhbXMiOjI5LCIuL2xvZ2dlciI6MzUsIi4vcXVlcnlNYXAiOjM3LEpTT046M31dLDI1OltmdW5jdGlvbihhLGIpe2IuZXhwb3J0cz17Ym94cHJlZml4OiIvYm94L3Nydi8xLjEvIixzZGtfdmVyc2lvbjoiMi40LjQtQlVJTEQtTlVNQkVSIixjb25maWdfanM6ImZoY29uZmlnLmpzb24iLElOSVRfRVZFTlQ6ImZoaW5pdCIsSU5URVJOQUxfQ09ORklHX0xPQURFRF9FVkVOVDoiaW50ZXJuYWxmaGNvbmZpZ2xvYWRlZCIsQ09ORklHX0xPQURFRF9FVkVOVDoiZmhjb25maWdsb2FkZWQifX0se31dLDI2OltmdW5jdGlvbihhLGIpe2IuZXhwb3J0cz17cmVhZENvb2tpZVZhbHVlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hKyI9IixjPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zm9yKHZhciBlPWNbZF07IiAiPT09ZS5jaGFyQXQoMCk7KWU9ZS5zdWJzdHJpbmcoMSxlLmxlbmd0aCk7aWYoMD09PWUuaW5kZXhPZihiKSlyZXR1cm4gZS5zdWJzdHJpbmcoYi5sZW5ndGgsZS5sZW5ndGgpfXJldHVybiBudWxsfSxjcmVhdGVDb29raWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgRGF0ZTtjLnNldFRpbWUoYy5nZXRUaW1lKCkrMzE1MzZlOCk7dmFyIGQ9IjsgZXhwaXJlcz0iK2MudG9HTVRTdHJpbmcoKTtkb2N1bWVudC5jb29raWU9YSsiPSIrYitkKyI7IHBhdGggPSAvIn19fSx7fV0sMjc6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi9jb29raWVzIiksZD1hKCIuL3V1aWQiKSxlPWEoIi4vbG9nZ2VyIik7Yi5leHBvcnRzPXtnZXREZXZpY2VJZDpmdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmZoZGV2aWNlJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5maGRldmljZS51dWlkKXJldHVybiB3aW5kb3cuZmhkZXZpY2UudXVpZDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5kZXZpY2UmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmRldmljZS51dWlkKXJldHVybiB3aW5kb3cuZGV2aWNlLnV1aWQ7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3IuZGV2aWNlJiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5kZXZpY2UudXVpZClyZXR1cm4gbmF2aWdhdG9yLmRldmljZS51dWlkO3ZhciBhPSJtb2NrX3V1aWQiLGI9Yy5yZWFkQ29va2llVmFsdWUoYSk7cmV0dXJuIG51bGw9PWImJihiPWQuY3JlYXRlVVVJRCgpLGMuY3JlYXRlQ29va2llKGEsYikpLGJ9LGdldEN1aWRNYXA6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5maGRldmljZSYmInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhkZXZpY2UuY3VpZE1hcD93aW5kb3cuZmhkZXZpY2UuY3VpZE1hcDoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5kZXZpY2UmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmRldmljZS5jdWlkTWFwP3dpbmRvdy5kZXZpY2UuY3VpZE1hcDoidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5kZXZpY2UmJiJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLmRldmljZS5jdWlkTWFwP25hdmlnYXRvci5kZXZpY2UuY3VpZE1hcDpudWxsfSxnZXREZXN0aW5hdGlvbjpmdW5jdGlvbigpe3ZhciBiPW51bGwsYz1hKCIuL3BsYXRmb3Jtc01hcCIpLGQ9bmF2aWdhdG9yLnVzZXJBZ2VudCxmPWRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5zcGxpdCgiZmhfZGVzdGluYXRpb25fY29kZT0iKTtyZXR1cm4gZi5sZW5ndGg+MT9iPWZbMV06InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhfZGVzdGluYXRpb25fY29kZT9iPXdpbmRvdy5maF9kZXN0aW5hdGlvbl9jb2RlOmMuZm9yRWFjaChmdW5jdGlvbihhKXthLnRlc3QuZm9yRWFjaChmdW5jdGlvbihjKXtkLmluZGV4T2YoYyk+LTEmJihiPWEuZGVzdGluYXRpb24pfSl9KSxudWxsPT1iJiYoYj0id2ViIiksZS5kZWJ1ZygiZGVzdGluYXRpb24gPSAiK2IpLGJ9fX0seyIuL2Nvb2tpZXMiOjI2LCIuL2xvZ2dlciI6MzUsIi4vcGxhdGZvcm1zTWFwIjozNiwiLi91dWlkIjo0NH1dLDI4OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoImV2ZW50cyIpLkV2ZW50RW1pdHRlcixkPW5ldyBjO2Quc2V0TWF4TGlzdGVuZXJzKDApLGIuZXhwb3J0cz1kfSx7ZXZlbnRzOjd9XSwyOTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuL2RldmljZSIpLGQ9YSgiLi9zZGt2ZXJzaW9uIiksZT1hKCIuL2FwcFByb3BzIiksZj1hKCIuL2xvZ2dlciIpLGc9bnVsbCxoPW51bGwsaT1mdW5jdGlvbigpe2lmKGcpcmV0dXJuIGc7dmFyIGE9e307YS5jdWlkPWMuZ2V0RGV2aWNlSWQoKSxhLmN1aWRNYXA9Yy5nZXRDdWlkTWFwKCksYS5kZXN0aW5hdGlvbj1jLmdldERlc3RpbmF0aW9uKCksKHdpbmRvdy5kZXZpY2V8fG5hdmlnYXRvci5kZXZpY2UpJiYoYS5kZXZpY2U9d2luZG93LmRldmljZXx8bmF2aWdhdG9yLmRldmljZSksInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhfYXBwX3ZlcnNpb24mJihhLmFwcF92ZXJzaW9uPWZoX2FwcF92ZXJzaW9uKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5maF9wcm9qZWN0X3ZlcnNpb24mJihhLnByb2plY3RfdmVyc2lvbj1maF9wcm9qZWN0X3ZlcnNpb24pLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmZoX3Byb2plY3RfYXBwX3ZlcnNpb24mJihhLnByb2plY3RfYXBwX3ZlcnNpb249ZmhfcHJvamVjdF9hcHBfdmVyc2lvbiksYS5zZGtfdmVyc2lvbj1kKCksaCYmKGEuc2Vzc2lvblRva2VuPWgpO3ZhciBiPWUuZ2V0QXBwUHJvcHMoKTtyZXR1cm4gYiYmKGEuYXBwaWQ9Yi5hcHBpZCxhLmFwcGtleT1iLmFwcGtleSxhLnByb2plY3RpZD1iLnByb2plY3RpZCxhLmFuYWx5dGljc1RhZz1iLmFuYWx5dGljc1RhZyxhLmNvbm5lY3Rpb250YWc9Yi5jb25uZWN0aW9udGFnLGIuaW5pdCYmKGEuaW5pdD0ic3RyaW5nIj09dHlwZW9mIGIuaW5pdD9KU09OLnBhcnNlKGIuaW5pdCk6Yi5pbml0KSksZz1hLGYuZGVidWcoImZocGFyYW1zID0gIixnKSxhfSxqPWZ1bmN0aW9uKGEpe3ZhciBhPWF8fHt9O3JldHVybiBhLl9fZmg9aSgpLGF9LGs9ZnVuY3Rpb24oYSl7aD1hfTtiLmV4cG9ydHM9e2J1aWxkRkhQYXJhbXM6aSxhZGRGSFBhcmFtczpqLHNldEF1dGhTZXNzaW9uVG9rZW46a319LHsiLi9hcHBQcm9wcyI6MjMsIi4vZGV2aWNlIjoyNywiLi9sb2dnZXIiOjM1LCIuL3Nka3ZlcnNpb24iOjM4fV0sMzA6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiSlNPTiIpO2IuZXhwb3J0cz1mdW5jdGlvbihhLGIsZCxlKXt2YXIgZixnPTA7aWYoYil0cnl7Zz1iLnN0YXR1czt2YXIgaD1jLnBhcnNlKGIucmVzcG9uc2VUZXh0KTtmPWguZXJyb3J8fGgubXNnLGYgaW5zdGFuY2VvZiBBcnJheSYmKGY9Zi5qb2luKCJcbiIpKX1jYXRjaChpKXtmPWIucmVzcG9uc2VUZXh0fWEmJmEoZix7c3RhdHVzOmcsbWVzc2FnZTpkLGVycm9yOmV9KX19LHtKU09OOjN9XSwzMTpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWE7cmV0dXJuIi8iPT09Yi5jaGFyQXQoYi5sZW5ndGgtMSkmJihiPWIuc3Vic3RyaW5nKDAsYi5sZW5ndGgtMSkpLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1hO3JldHVybiBiLmxlbmd0aD4xJiYiLyI9PT1iLmNoYXJBdCgwKSYmKGI9Yi5zdWJzdHJpbmcoMSxiLmxlbmd0aCkpLGJ9ZnVuY3Rpb24gZShhKXt0aGlzLmNsb3VkX3Byb3BzPWEsdGhpcy5jbG91ZF9ob3N0PXZvaWQgMCx0aGlzLmlzTGVnYWN5PSExfXZhciBmPWEoIi4vY29uc3RhbnRzIiksZz1hKCIuL2FwcFByb3BzIik7ZS5wcm90b3R5cGUuZ2V0SG9zdD1mdW5jdGlvbihhKXtpZih0aGlzLmNsb3VkX2hvc3QpcmV0dXJuIHRoaXMuY2xvdWRfaG9zdDt2YXIgYixkO2lmKHRoaXMuY2xvdWRfcHJvcHMmJnRoaXMuY2xvdWRfcHJvcHMuaG9zdHMmJihiPXRoaXMuY2xvdWRfcHJvcHMuaG9zdHMudXJsLCJ1bmRlZmluZWQiPT10eXBlb2YgYikpe3ZhciBlPXRoaXMuY2xvdWRfcHJvcHMuaG9zdHMucmVsZWFzZUNsb3VkVXJsO2Q9dGhpcy5jbG91ZF9wcm9wcy5ob3N0cy5yZWxlYXNlQ2xvdWRUeXBlLCJ1bmRlZmluZWQiIT10eXBlb2YgYSYmYS5pbmRleE9mKCJkZXYiKT4tMSYmKGU9dGhpcy5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVXJsLGQ9dGhpcy5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVHlwZSksYj1lfXJldHVybiBiPWMoYiksdGhpcy5jbG91ZF9ob3N0PWIsImZoIj09PWQmJih0aGlzLmlzTGVnYWN5PSEwKSxifSxlLnByb3RvdHlwZS5nZXRBY3RVcmw9ZnVuY3Rpb24oYSl7dmFyIGI9Zy5nZXRBcHBQcm9wcygpfHx7fTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuY2xvdWRfaG9zdCYmdGhpcy5nZXRIb3N0KGIubW9kZSksdGhpcy5pc0xlZ2FjeT90aGlzLmNsb3VkX2hvc3QrZi5ib3hwcmVmaXgrImFjdC8iK3RoaXMuY2xvdWRfcHJvcHMuZG9tYWluKyIvIitiLmFwcGlkKyIvIithKyIvIitiLmFwcGlkOnRoaXMuY2xvdWRfaG9zdCsiL2Nsb3VkLyIrYX0sZS5wcm90b3R5cGUuZ2V0TUJBQVNVcmw9ZnVuY3Rpb24oYSl7dmFyIGI9Zy5nZXRBcHBQcm9wcygpfHx7fTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuY2xvdWRfaG9zdCYmdGhpcy5nZXRIb3N0KGIubW9kZSksdGhpcy5jbG91ZF9ob3N0KyIvbWJhYXMvIithfSxlLnByb3RvdHlwZS5nZXRDbG91ZFVybD1mdW5jdGlvbihhKXt2YXIgYj1nLmdldEFwcFByb3BzKCl8fHt9O3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5jbG91ZF9ob3N0JiZ0aGlzLmdldEhvc3QoYi5tb2RlKSx0aGlzLmNsb3VkX2hvc3QrIi8iK2QoYSl9LGIuZXhwb3J0cz1lfSx7Ii4vYXBwUHJvcHMiOjIzLCIuL2NvbnN0YW50cyI6MjV9XSwzMjpbZnVuY3Rpb24oYSxiKXt2YXIgYz0oYSgiLi9sb2FkU2NyaXB0IiksYSgiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIikpLGQ9YSgiLi9sYXduY2hhaXItZXh0IiksZT1hKCIuL2NvbnN0YW50cyIpLGY9YSgiLi9maHBhcmFtcyIpLGc9YSgiLi9hamF4IiksaD1hKCIuL2hhbmRsZUVycm9yIiksaT1hKCIuL2xvZ2dlciIpLGo9YSgiSlNPTiIpLGs9YSgiLi9zZWN1cml0eS9oYXNoIiksbD1hKCIuL2FwcFByb3BzIiksbT1hKCIuL2NvbnN0YW50cyIpLG49YSgiLi9ldmVudHMiKSxvPWZ1bmN0aW9uKGEpe2wubG9hZChmdW5jdGlvbihiLGMpe3JldHVybiBiP2EoYik6KG4uZW1pdChtLklOVEVSTkFMX0NPTkZJR19MT0FERURfRVZFTlQsbnVsbCxjKSxwKGMsYSkpfSl9LHA9ZnVuY3Rpb24oYSxiKXtpZihhLmxvZ2xldmVsJiZpLnNldExldmVsKGEubG9nbGV2ZWwpLGEubG9jYWwpe3ZhciBsPXtkb21haW46ImxvY2FsIixmaXJzdFRpbWU6ITEsaG9zdHM6e2RlYnVnQ2xvdWRUeXBlOiJub2RlIixkZWJ1Z0Nsb3VkVXJsOmEuaG9zdCxyZWxlYXNlQ2xvdWRUeXBlOiJub2RlIixyZWxlYXNlQ2xvdWRVcmw6YS5ob3N0LHR5cGU6ImNsb3VkX25vZGVqcyIsdXJsOmEuaG9zdH0saW5pdDp7dHJhY2tJZDoiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIn0sc3RhdHVzOiJvayJ9O3JldHVybiBiKG51bGwse2Nsb3VkOmx9KX1kLmFkZEFkYXB0ZXIoYSxrKTt2YXIgbT17bmFtZToiZmhfaW5pdF9zdG9yYWdlIixhZGFwdGVyOlsiZG9tIiwid2Via2l0LXNxbGl0ZSIsIndpbmRvdy1uYW1lIl0sZmFpbDpmdW5jdGlvbihhLGIpe3ZhciBjPSJyZWFkL3NhdmUgZnJvbS90byBsb2NhbCBzdG9yYWdlIGZhaWxlZCAgbXNnOiIrYSsiIGVycjoiK2I7cmV0dXJuIGZhaWwoYyx7fSl9fTsidW5kZWZpbmVkIiE9dHlwZW9mIFRpdGFuaXVtJiYobS5hZGFwdGVyPVsidGl0YW5pdW0iXSk7dmFyIG49ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGs9Zi5idWlsZEZIUGFyYW1zKCk7Zyh7dXJsOmEsdHlwZToiUE9TVCIsdHJ5SlNPTlA6ITAsZGF0YVR5cGU6Impzb24iLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixkYXRhOmouc3RyaW5naWZ5KGspLHRpbWVvdXQ6Yy50aW1lb3V0LHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7ZSYmZS5zYXZlKHtrZXk6ImZoX2luaXQiLHZhbHVlOmF9LGZ1bmN0aW9uKCl7fSksYiYmYihudWxsLHtjbG91ZDphfSl9LGVycm9yOmZ1bmN0aW9uKGEsYyxlKXt2YXIgZj0idW5rbm93biI7YSYmKGY9YS5zdGF0dXMrIiAtICIrYS5yZXNwb25zZVRleHQpLGkuZXJyb3IoIkFwcCBpbml0IHJldHVybmVkIGVycm9yIDogIitmKSxkPyhpLmluZm8oIlVzaW5nIGNhY2hlZCBob3N0OiAiK2ouc3RyaW5naWZ5KGQpKSxiJiZiKG51bGwse2Nsb3VkOmR9KSk6KGkuZXJyb3IoIk5vIGNhY2hlZCBob3N0IGZvdW5kLiBJbml0IGZhaWxlZC4iKSxoKGZ1bmN0aW9uKGEsYyl7YiYmYih7ZXJyb3I6YyxtZXNzYWdlOmF9KX0sYSxjLGUpKX19KX0sbz1udWxsLHA9YS5ob3N0K2UuYm94cHJlZml4KyJhcHAvaW5pdCI7dHJ5e289bmV3IGMobSxmdW5jdGlvbigpe30pLG8uZ2V0KCJmaF9pbml0IixmdW5jdGlvbihiKXt2YXIgYz1udWxsO2ImJm51bGwhPT1iLnZhbHVlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGIudmFsdWUmJiIiIT09YiYmKGI9InN0cmluZyI9PXR5cGVvZiBiP2oucGFyc2UoYik6YixiLnZhbHVlPSJzdHJpbmciPT10eXBlb2YgYi52YWx1ZT9qLnBhcnNlKGIudmFsdWUpOmIudmFsdWUsYS5pbml0PWIudmFsdWUuaW5pdD9iLnZhbHVlLmluaXQ6InN0cmluZyI9PXR5cGVvZiBiLnZhbHVlP2oucGFyc2UoYi52YWx1ZSk6Yi52YWx1ZSxiLnZhbHVlLmhvc3RzJiYoYz1iLnZhbHVlKSksbihwLGEsYyxvKX0pfWNhdGNoKHEpe24ocCxhLG51bGwsbnVsbCl9fTtiLmV4cG9ydHM9e2luaXQ6byxsb2FkQ2xvdWRQcm9wczpwfX0seyIuLi8uLi9saWJzL2dlbmVyYXRlZC9sYXduY2hhaXIiOjIsIi4vYWpheCI6MTYsIi4vYXBwUHJvcHMiOjIzLCIuL2NvbnN0YW50cyI6MjUsIi4vZXZlbnRzIjoyOCwiLi9maHBhcmFtcyI6MjksIi4vaGFuZGxlRXJyb3IiOjMwLCIuL2xhd25jaGFpci1leHQiOjMzLCIuL2xvYWRTY3JpcHQiOjM0LCIuL2xvZ2dlciI6MzUsIi4vc2VjdXJpdHkvaGFzaCI6NDEsSlNPTjozfV0sMzM6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIiksZD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7Y29uc29sZSYmY29uc29sZS5sb2coYSl9ZnVuY3Rpb24gZChkLGUpe2Q9YS5hcHBpZCtkLGIoe2FsZ29yaXRobToiTUQ1Iix0ZXh0OmR9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFzaHZhbHVlKyIudHh0IjtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvci5leHRlcm5hbHN0b3JhZ2U/KGMoImZpbGVuYW1lRm9yS2V5IGtleT0iK2QrIiAsIEZpbGVuYW1lOiAiK2IpLGUoYikpOnZvaWQgbmF2aWdhdG9yLmV4dGVybmFsc3RvcmFnZS5lbmFibGUoZnVuY3Rpb24oYSl7dmFyIGM9YjtyZXR1cm4gYS5wYXRoJiYoYz1hLnBhdGgsYy5tYXRjaCgvXC8kLyl8fChjKz0iLyIpLGMrPWIpLGI9YyxlKGIpfSxmdW5jdGlvbigpe3JldHVybiBlKGIpfSl9KX12YXIgZT1mdW5jdGlvbihhLGIpe2lmKCFjb25zb2xlKXRocm93IGE7Y29uc29sZS5sb2coImVycm9yIGluIGZpbGUgc3lzdGVtIGFkYXB0ZXIgISIsYSxiKX07cmV0dXJue3ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW19LGluaXQ6ZnVuY3Rpb24oYSxiKXthJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5mYWlsJiYoZT1hLmZhaWwpLGImJnRoaXMuZm4odGhpcy5uYW1lLGIpLmNhbGwodGhpcyx0aGlzKX0sa2V5czpmdW5jdGlvbigpe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIn0sc2F2ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEua2V5LGY9YS52YWx8fGEudmFsdWU7ZChjLGZ1bmN0aW9uKGEpe3dpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbShMb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCwwLGZ1bmN0aW9uKGQpe2Qucm9vdC5nZXRGaWxlKGEse2NyZWF0ZTohMH0sZnVuY3Rpb24oYSl7YS5jcmVhdGVXcml0ZXIoZnVuY3Rpb24oYSl7YS5vbndyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGIoe2tleTpjLHZhbDpmfSl9LGEud3JpdGUoZil9LGZ1bmN0aW9uKCl7ZSgiW3NhdmVdIEZhaWxlZCB0byBjcmVhdGUgZmlsZSB3cml0ZXIiKX0pfSxmdW5jdGlvbigpe2UoIltzYXZlXSBGYWlsZWQgdG8gZ2V0RmlsZSIpfSl9LGZ1bmN0aW9uKCl7ZSgiW3NhdmVdIEZhaWxlZCB0byByZXF1ZXN0RmlsZVN5c3RlbSIpfSl9KX0sYmF0Y2g6ZnVuY3Rpb24oKXt0aHJvdyJDdXJyZW50bHkgbm90IHN1cHBvcnRlZCJ9LGdldDpmdW5jdGlvbihhLGIpe2QoYSxmdW5jdGlvbihjKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbihkKXtkLnJvb3QuZ2V0RmlsZShjLHt9LGZ1bmN0aW9uKGMpe2MuZmlsZShmdW5jdGlvbihjKXt2YXIgZD1uZXcgRmlsZVJlYWRlcjtkLm9ubG9hZGVuZD1mdW5jdGlvbihjKXt2YXIgZD1jLnRhcmdldC5yZXN1bHQ7dHJ5e2Q9ZGVjb2RlVVJJQ29tcG9uZW50KGQpfWNhdGNoKGUpe31yZXR1cm4gYih7a2V5OmEsdmFsOmR9KX0sZC5yZWFkQXNUZXh0KGMpfSxmdW5jdGlvbigpe2UoIltsb2FkXSBGYWlsZWQgdG8gZ2V0RmlsZSIpfSl9LGZ1bmN0aW9uKCl7Yih7a2V5OmEsdmFsOm51bGx9KX0pfSxmdW5jdGlvbigpe2UoIltsb2FkXSBGYWlsZWQgdG8gZ2V0IGZpbGVTeXN0ZW0iKX0pfSl9LGV4aXN0czpmdW5jdGlvbihhLGIpe2QoYSxmdW5jdGlvbihhKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbihjKXtjLnJvb3QuZ2V0RmlsZShhLHt9LGZ1bmN0aW9uKCl7cmV0dXJuIGIoITApfSxmdW5jdGlvbigpe3JldHVybiBiKCExKX0pfSl9KX0sYWxsOmZ1bmN0aW9uKCl7dGhyb3ciQ3VycmVudGx5IG5vdCBzdXBwb3J0ZWQifSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtkKGEsZnVuY3Rpb24oYyl7d2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULDAsZnVuY3Rpb24oZCl7ZC5yb290LmdldEZpbGUoYyx7fSxmdW5jdGlvbihjKXtjLnJlbW92ZShmdW5jdGlvbigpe3JldHVybiBiKHtrZXk6YSx2YWw6bnVsbH0pfSxmdW5jdGlvbigpe2UoIltyZW1vdmVdIEZhaWxlZCB0byByZW1vdmUgZmlsZSIpfSl9LGZ1bmN0aW9uKCl7ZSgiW3JlbW92ZV0gRmFpbGVkIHRvIGdldEZpbGUiKX0pfSxmdW5jdGlvbigpe2UoIltyZW1vdmVdIEZhaWxlZCB0byBnZXQgZmlsZVN5c3RlbSIpfSl9KX0sbnVrZTpmdW5jdGlvbigpe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIn19fSxlPWZ1bmN0aW9uKGEsYil7Yy5hZGFwdGVyKCJsb2NhbEZpbGVTdG9yYWdlIixkKGEsYikpfTtiLmV4cG9ydHM9e2FkZEFkYXB0ZXI6ZX19LHsiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIjoyfV0sMzQ6W2Z1bmN0aW9uKGEsYil7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1kb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxjLmFzeW5jPSJhc3luYyIsYy5zcmM9YSxjLnR5cGU9InRleHQvamF2YXNjcmlwdCIsYy5vbmxvYWQ9Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsoIWMucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChjLnJlYWR5U3RhdGUpKSYmKGMub25sb2FkPWMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZCYmYy5wYXJlbnROb2RlJiZkLnJlbW92ZUNoaWxkKGMpLGM9dm9pZCAwLGImJiJmdW5jdGlvbiI9PXR5cGVvZiBiJiZiKCkpfSxkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCl9fSx7fV0sMzU6W2Z1bmN0aW9uKGEsYil7dmFyIGM9KGEoImNvbnNvbGUiKSxhKCJsb2dsZXZlbCIpKTtjLnNldExldmVsKCJpbmZvIiksYi5leHBvcnRzPWN9LHtjb25zb2xlOjYsbG9nbGV2ZWw6MTJ9XSwzNjpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9W3tkZXN0aW5hdGlvbjoiaXBhZCIsdGVzdDpbImlQYWQiXX0se2Rlc3RpbmF0aW9uOiJpcGhvbmUiLHRlc3Q6WyJpUGhvbmUiXX0se2Rlc3RpbmF0aW9uOiJhbmRyb2lkIix0ZXN0OlsiQW5kcm9pZCJdfSx7ZGVzdGluYXRpb246ImJsYWNrYmVycnkiLHRlc3Q6WyJCbGFja0JlcnJ5IiwiQkIxMCIsIlJJTSBUYWJsZXQgT1MiXX0se2Rlc3RpbmF0aW9uOiJ3aW5kb3dzcGhvbmUiLHRlc3Q6WyJXaW5kb3dzIFBob25lIDgiXX0se2Rlc3RpbmF0aW9uOiJ3aW5kb3dzcGhvbmU3Iix0ZXN0OlsiV2luZG93cyBQaG9uZSBPUyA3Il19XX0se31dLDM3OltmdW5jdGlvbihhLGIpe2IuZXhwb3J0cz1mdW5jdGlvbihhKXt2YXIgYj17fSxjPWEuc3BsaXQoIj8iKTtpZigyPT09Yy5sZW5ndGgpe3ZhciBkPWNbMV0sZT1kLnNwbGl0KCImIik7Yj17fTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXSxoPWcuc3BsaXQoIj0iKTtiW2hbMF1dPWhbMV19fXJldHVybiBifX0se31dLDM4OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vY29uc3RhbnRzIik7Yi5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGE9IkZIX0pTX1NESyI7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhfZGVzdGluYXRpb25fY29kZT9hPSJGSF9IWUJSSURfU0RLIjood2luZG93LlBob25lR2FwfHx3aW5kb3cuY29yZG92YSkmJihhPSJGSF9QSE9ORUdBUF9TREsiKSxhKyIvIitjLnNka192ZXJzaW9ufX0seyIuL2NvbnN0YW50cyI6MjV9XSwzOTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuLi8uLi8uLi9saWJzL3JzYSIpLGQ9Yy5TZWN1cmVSYW5kb20sZT1jLmJ5dGUySGV4LGY9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGQsYz1uZXcgQXJyYXkoYSk7Yi5uZXh0Qnl0ZXMoYyk7Zm9yKHZhciBmPSIiLGc9MDtnPGMubGVuZ3RoO2crKylmKz1lKGNbZ10pO3JldHVybiBmfSxnPWZ1bmN0aW9uKGEsYixjKXtpZighYS5wYXJhbXMua2V5c2l6ZSlyZXR1cm4gdm9pZCBjKCJub19wYXJhbXNfa2V5c2l6ZSIse30sYSk7aWYoImFlcyIhPT1hLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSlyZXR1cm4gdm9pZCBjKCJrZXlnZW5fYmFkX2FsZ29yaXRobSIse30sYSk7dmFyIGU9cGFyc2VJbnQoYS5wYXJhbXMua2V5c2l6ZSwxMCk7cmV0dXJuIGU+MTAwJiYoZS89OCksInVuZGVmaW5lZCI9PXR5cGVvZiBkP2MoInNlY3VyaXR5IGxpYnJhcnkgaXMgbm90IGxvYWRlZC4iKTpiKHthbGdvcml0aG06IkFFUyIsc2VjcmV0a2V5OmYoZSksaXY6ZihlKX0pfTtiLmV4cG9ydHM9Z30seyIuLi8uLi8uLi9saWJzL3JzYSI6NH1dLDQwOltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4uLy4uLy4uL2xpYnMvZ2VuZXJhdGVkL2NyeXB0byIpLGQ9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPVsia2V5IiwicGxhaW50ZXh0IiwiaXYiXTsKaWYoImFlcyIhPT1hLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSlyZXR1cm4gZCgiZW5jcnlwdF9iYWRfYWxnb3JpdGhtIix7fSxhKTtmb3IodmFyIGY9MDtlPmY7ZisrKXt2YXIgZz1lW2ZdO2lmKCFhLnBhcmFtc1tnXSlyZXR1cm4gZCgibm9fcGFyYW1zXyIrZyx7fSxhKX12YXIgaD1jLkFFUy5lbmNyeXB0KGEucGFyYW1zLnBsYWludGV4dCxjLmVuYy5IZXgucGFyc2UoYS5wYXJhbXMua2V5KSx7aXY6Yy5lbmMuSGV4LnBhcnNlKGEucGFyYW1zLml2KX0pO3JldHVybiBjaXBoZXJfdGV4dD1jLmVuYy5IZXguc3RyaW5naWZ5KGguY2lwaGVydGV4dCksYih7Y2lwaGVydGV4dDpjaXBoZXJfdGV4dH0pfSxlPWZ1bmN0aW9uKGEsYixkKXt2YXIgZT1bImtleSIsImNpcGhlcnRleHQiLCJpdiJdO2lmKCJhZXMiIT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGQoImRlY3J5cHRfYmFkX2FsZ29yaXRobSIse30sYSk7Zm9yKHZhciBmPTA7ZT5mO2YrKyl7dmFyIGc9ZVtmXTtpZighYS5wYXJhbXNbZ10pcmV0dXJuIGQoIm5vX3BhcmFtc18iK2cse30sYSl9dmFyIGg9Yy5lbmMuSGV4LnBhcnNlKGEucGFyYW1zLmNpcGhlcnRleHQpLGk9Yy5lbmMuQmFzZTY0LnN0cmluZ2lmeShoKSxqPWMuQUVTLmRlY3J5cHQoaSxjLmVuYy5IZXgucGFyc2UoYS5wYXJhbXMua2V5KSx7aXY6Yy5lbmMuSGV4LnBhcnNlKGEucGFyYW1zLml2KX0pO3JldHVybiBwbGFpbl90ZXh0PWoudG9TdHJpbmcoYy5lbmMuVXRmOCksYih7cGxhaW50ZXh0OnBsYWluX3RleHR9KX07Yi5leHBvcnRzPXtlbmNyeXB0OmQsZGVjcnlwdDplfX0seyIuLi8uLi8uLi9saWJzL2dlbmVyYXRlZC9jcnlwdG8iOjF9XSw0MTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuLi8uLi8uLi9saWJzL2dlbmVyYXRlZC9jcnlwdG8iKSxkPWZ1bmN0aW9uKGEsYixkKXtpZighYS5wYXJhbXMudGV4dClyZXR1cm4gdm9pZCBkKCJoYXNoX25vX3RleHQiLHt9LGEpO3ZhciBlO2lmKCJtZDUiPT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpZT1jLk1ENShhLnBhcmFtcy50ZXh0KS50b1N0cmluZyhjLmVuYy5IZXgpO2Vsc2UgaWYoInNoYTEiPT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpZT1jLlNIQTEoYS5wYXJhbXMudGV4dCkudG9TdHJpbmcoYy5lbmMuSGV4KTtlbHNlIGlmKCJzaGEyNTYiPT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpZT1jLlNIQTI1NihhLnBhcmFtcy50ZXh0KS50b1N0cmluZyhjLmVuYy5IZXgpO2Vsc2V7aWYoInNoYTUxMiIhPT1hLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSlyZXR1cm4gZCgiaGFzaF91bnN1cHBvcnRlZF9hbGdvcml0aG06ICIrYS5wYXJhbXMuYWxnb3JpdGhtKTtlPWMuU0hBNTEyKGEucGFyYW1zLnRleHQpLnRvU3RyaW5nKGMuZW5jLkhleCl9cmV0dXJuIGIoe2hhc2h2YWx1ZTplfSl9O2IuZXhwb3J0cz1kfSx7Ii4uLy4uLy4uL2xpYnMvZ2VuZXJhdGVkL2NyeXB0byI6MX1dLDQyOltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4uLy4uLy4uL2xpYnMvcnNhIiksZD1jLlJTQUtleSxlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1bIm1vZHVsdSIsInBsYWludGV4dCJdO2lmKCJyc2EiIT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGMoImVuY3J5cHRfYmFkX2FsZ29yaXRobSIse30sYSk7Zm9yKHZhciBmPTA7ZT5mO2YrKyl7dmFyIGc9ZVtmXTtpZighYS5wYXJhbXNbZ10pcmV0dXJuIGMoIm5vX3BhcmFtc18iK2cse30sYSl9dmFyIGg9bmV3IGQ7aC5zZXRQdWJsaWMoYS5wYXJhbXMubW9kdWx1LCIxMDAwMSIpO3ZhciBpPWEucGFyYW1zLnBsYWludGV4dDtyZXR1cm4gY2lwaGVyX3RleHQ9aC5lbmNyeXB0KGkpLGIoe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KX07Yi5leHBvcnRzPXtlbmNyeXB0OmV9fSx7Ii4uLy4uLy4uL2xpYnMvcnNhIjo0fV0sNDM6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiSlNPTiIpLGQ9YSgiLi9hcGlfYWN0IiksZT1hKCIuL2FwaV9jbG91ZCIpLGY9YSgiLi4vLi4vbGlicy9nZW5lcmF0ZWQvY3J5cHRvIiksZz1hKCIuLi8uLi9saWJzL2dlbmVyYXRlZC9sYXduY2hhaXIiKSxoPXtkZWZhdWx0czp7c3luY19mcmVxdWVuY3k6MTAsYXV0b19zeW5jX2xvY2FsX3VwZGF0ZXM6ITAsbm90aWZ5X2NsaWVudF9zdG9yYWdlX2ZhaWxlZDohMCxub3RpZnlfc3luY19zdGFydGVkOiEwLG5vdGlmeV9zeW5jX2NvbXBsZXRlOiEwLG5vdGlmeV9vZmZsaW5lX3VwZGF0ZTohMCxub3RpZnlfY29sbGlzaW9uX2RldGVjdGVkOiEwLG5vdGlmeV9yZW1vdGVfdXBkYXRlX2ZhaWxlZDohMCxub3RpZnlfbG9jYWxfdXBkYXRlX2FwcGxpZWQ6ITAsbm90aWZ5X3JlbW90ZV91cGRhdGVfYXBwbGllZDohMCxub3RpZnlfZGVsdGFfcmVjZWl2ZWQ6ITAsbm90aWZ5X3JlY29yZF9kZWx0YV9yZWNlaXZlZDohMCxub3RpZnlfc3luY19mYWlsZWQ6ITAsZG9fY29uc29sZV9sb2c6ITEsY3Jhc2hlZF9jb3VudF93YWl0OjEwLHJlc2VuZF9jcmFzaGVkX3VwZGF0ZXM6ITAsc3luY19hY3RpdmU6ITAsc3RvcmFnZV9zdHJhdGVneToiaHRtbDUtZmlsZXN5c3RlbSIsZmlsZV9zeXN0ZW1fcXVvdGE6NjE2NDQ4MDAsaGFzX2N1c3RvbV9zeW5jOm51bGwsaWNsb3VkX2JhY2t1cDohMX0sbm90aWZpY2F0aW9uczp7Q0xJRU5UX1NUT1JBR0VfRkFJTEVEOiJjbGllbnRfc3RvcmFnZV9mYWlsZWQiLFNZTkNfU1RBUlRFRDoic3luY19zdGFydGVkIixTWU5DX0NPTVBMRVRFOiJzeW5jX2NvbXBsZXRlIixPRkZMSU5FX1VQREFURToib2ZmbGluZV91cGRhdGUiLENPTExJU0lPTl9ERVRFQ1RFRDoiY29sbGlzaW9uX2RldGVjdGVkIixSRU1PVEVfVVBEQVRFX0ZBSUxFRDoicmVtb3RlX3VwZGF0ZV9mYWlsZWQiLFJFTU9URV9VUERBVEVfQVBQTElFRDoicmVtb3RlX3VwZGF0ZV9hcHBsaWVkIixMT0NBTF9VUERBVEVfQVBQTElFRDoibG9jYWxfdXBkYXRlX2FwcGxpZWQiLERFTFRBX1JFQ0VJVkVEOiJkZWx0YV9yZWNlaXZlZCIsUkVDT1JEX0RFTFRBX1JFQ0VJVkVEOiJyZWNvcmRfZGVsdGFfcmVjZWl2ZWQiLFNZTkNfRkFJTEVEOiJzeW5jX2ZhaWxlZCJ9LGRhdGFzZXRzOnt9LGNvbmZpZzp2b2lkIDAsbm90aWZ5X2NhbGxiYWNrOnZvaWQgMCxub3RpZnlfY2FsbGJhY2tfbWFwOnt9LGluaXRfaXNfY2FsbGVkOiExLGluaXQ6ZnVuY3Rpb24oYSl7aC5jb25zb2xlTG9nKCJzeW5jIC0gaW5pdCBjYWxsZWQiKSxoLmNvbmZpZz1jLnBhcnNlKGMuc3RyaW5naWZ5KGguZGVmYXVsdHMpKTtmb3IodmFyIGIgaW4gYSloLmNvbmZpZ1tiXT1hW2JdO2guaW5pdF9pc19jYWxsZWR8fChoLmluaXRfaXNfY2FsbGVkPSEwLGguZGF0YXNldE1vbml0b3IoKSl9LG5vdGlmeTpmdW5jdGlvbihhLGIpezE9PT1hcmd1bWVudHMubGVuZ3RoJiYiZnVuY3Rpb24iPT10eXBlb2YgYT9oLm5vdGlmeV9jYWxsYmFjaz1hOmgubm90aWZ5X2NhbGxiYWNrX21hcFthXT1ifSxtYW5hZ2U6ZnVuY3Rpb24oYSxiLGQsZSxmKXtoLmNvbnNvbGVMb2coIm1hbmFnZSAtIFNUQVJUIik7dmFyIGI9Ynx8e30sZz1mdW5jdGlvbihnKXtoLmNvbnNvbGVMb2coImRvTWFuYWdlIGRhdGFzZXQgOjogaW5pdGlhbGlzZWQgPSAiK2cuaW5pdGlhbGlzZWQrIiA6OiAiK2ErIiA6OiAiK2Muc3RyaW5naWZ5KGIpKTt2YXIgaT1oLnNldE9wdGlvbnMoYik7Zy5xdWVyeV9wYXJhbXM9ZHx8Zy5xdWVyeV9wYXJhbXN8fHt9LGcubWV0YV9kYXRhPWV8fGcubWV0YV9kYXRhfHx7fSxnLmNvbmZpZz1pLGcuc3luY1J1bm5pbmc9ITEsZy5zeW5jUGVuZGluZz0hMCxnLmluaXRpYWxpc2VkPSEwLCJ1bmRlZmluZWQiPT10eXBlb2YgZy5tZXRhJiYoZy5tZXRhPXt9KSxoLnNhdmVEYXRhU2V0KGEsZnVuY3Rpb24oKXtmJiZmKCl9KX07aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oYSl7aC5jb25zb2xlTG9nKCJtYW5hZ2UgLSBkYXRhc2V0IGFscmVhZHkgbG9hZGVkIiksZyhhKX0sZnVuY3Rpb24oKXtoLmNvbnNvbGVMb2coIm1hbmFnZSAtIGRhdGFzZXQgbm90IGxvYWRlZC4uLiB0cnlpbmcgdG8gbG9hZCIpLGgubG9hZERhdGFTZXQoYSxmdW5jdGlvbihiKXtoLmNvbnNvbGVMb2coIm1hbmFnZSAtIGRhdGFzZXQgbG9hZGVkIGZyb20gbG9jYWwgc3RvcmFnZSIpLGguZG9Ob3RpZnkoYSxudWxsLGgubm90aWZpY2F0aW9ucy5MT0NBTF9VUERBVEVfQVBQTElFRCwibG9hZCIpLGcoYil9LGZ1bmN0aW9uKCl7aC5jb25zb2xlTG9nKCJtYW5hZ2UgLSBDcmVhdGluZyBuZXcgZGF0YXNldCBmb3IgaWQgIithKTt2YXIgYj17fTtiLmRhdGE9e30sYi5wZW5kaW5nPXt9LGIubWV0YT17fSxoLmRhdGFzZXRzW2FdPWIsZyhiKX0pfSl9LHNldE9wdGlvbnM6ZnVuY3Rpb24oYSl7aC5jb25maWd8fChoLmNvbmZpZz1jLnBhcnNlKGMuc3RyaW5naWZ5KGguZGVmYXVsdHMpKSk7dmFyIGI9Yy5wYXJzZShjLnN0cmluZ2lmeShoLmNvbmZpZykpLGQ9Yy5wYXJzZShjLnN0cmluZ2lmeShhKSk7Zm9yKHZhciBlIGluIGQpYltlXT1kW2VdO3JldHVybiBifSxsaXN0OmZ1bmN0aW9uKGEsYixkKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihhKXtpZihhJiZhLmRhdGEpe3ZhciBlPWMucGFyc2UoYy5zdHJpbmdpZnkoYS5kYXRhKSk7YihlKX1lbHNlIGQmJmQoIm5vX2RhdGEiKX0sZnVuY3Rpb24oYSxiKXtkJiZkKGEsYil9KX0sY3JlYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBudWxsPT1iJiZkP2QoIm51bGxfZGF0YSIpOnZvaWQgaC5hZGRQZW5kaW5nT2JqKGEsbnVsbCxiLCJjcmVhdGUiLGMsZCl9LHJlYWQ6ZnVuY3Rpb24oYSxiLGQsZSl7aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oYSl7dmFyIGY9YS5kYXRhW2JdO2lmKGYpe3ZhciBnPWMucGFyc2UoYy5zdHJpbmdpZnkoZikpO2QoZyl9ZWxzZSBlKCJ1bmtub3duX3VpZCIpfSxmdW5jdGlvbihhLGIpe2UmJmUoYSxiKX0pfSx1cGRhdGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtoLmFkZFBlbmRpbmdPYmooYSxiLGMsInVwZGF0ZSIsZCxlKX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSxiLGMsZCl7aC5hZGRQZW5kaW5nT2JqKGEsYixudWxsLCJkZWxldGUiLGMsZCl9LGdldFBlbmRpbmc6ZnVuY3Rpb24oYSxiKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihhKXt2YXIgYzthJiYoYz1hLnBlbmRpbmcpLGIoYyl9LGZ1bmN0aW9uKGEpe2guY29uc29sZUxvZyhhKX0pfSxjbGVhclBlbmRpbmc6ZnVuY3Rpb24oYSxiKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihjKXtjLnBlbmRpbmc9e30saC5zYXZlRGF0YVNldChhLGIpfSl9LGxpc3RDb2xsaXNpb25zOmZ1bmN0aW9uKGEsYixjKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihkKXtoLmRvQ2xvdWRDYWxsKHtkYXRhc2V0X2lkOmEscmVxOntmbjoibGlzdENvbGxpc2lvbnMiLG1ldGFfZGF0YTpkLm1ldGFfZGF0YX19LGIsYyl9LGMpfSxyZW1vdmVDb2xsaXNpb246ZnVuY3Rpb24oYSxiLGMsZCl7aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oZSl7aC5kb0Nsb3VkQ2FsbCh7ZGF0YXNldF9pZDphLHJlcTp7Zm46InJlbW92ZUNvbGxpc2lvbiIsaGFzaDpiLG1ldGFfZGF0YTplLm1ldGFfZGF0YX19LGMsZCl9KX0saXNPbmxpbmU6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3Iub25MaW5lJiYoYj1uYXZpZ2F0b3Iub25MaW5lKSxiJiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5uZXR3b3JrJiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5uZXR3b3JrLmNvbm5lY3Rpb24pe3ZhciBjPW5hdmlnYXRvci5uZXR3b3JrLmNvbm5lY3Rpb24udHlwZTsoIm5vbmUiPT09Y3x8bnVsbD09PWMpJiYoYj0hMSl9cmV0dXJuIGEoYil9LGRvTm90aWZ5OmZ1bmN0aW9uKGEsYixjLGQpe2lmKGgubm90aWZ5X2NhbGxiYWNrfHxoLm5vdGlmeV9jYWxsYmFja19tYXBbYV0pe3ZhciBlPWgubm90aWZ5X2NhbGxiYWNrX21hcFthXXx8aC5ub3RpZnlfY2FsbGJhY2s7aWYoaC5jb25maWdbIm5vdGlmeV8iK2NdKXt2YXIgZj17ZGF0YXNldF9pZDphLHVpZDpiLGNvZGU6YyxtZXNzYWdlOmR9O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGYpfSwwKX19fSxnZXREYXRhU2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1oLmRhdGFzZXRzW2FdO2Q/YihkKTpjJiZjKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxnZXRRdWVyeVBhcmFtczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9aC5kYXRhc2V0c1thXTtkP2IoZC5xdWVyeV9wYXJhbXMpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LHNldFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWguZGF0YXNldHNbYV07ZT8oZS5xdWVyeV9wYXJhbXM9YixoLnNhdmVEYXRhU2V0KGEpLGMmJmMoZS5xdWVyeV9wYXJhbXMpKTpkJiZkKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxnZXRNZXRhRGF0YTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9aC5kYXRhc2V0c1thXTtkP2IoZC5tZXRhX2RhdGEpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LHNldE1ldGFEYXRhOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWguZGF0YXNldHNbYV07ZT8oZS5tZXRhX2RhdGE9YixoLnNhdmVEYXRhU2V0KGEpLGMmJmMoZS5tZXRhX2RhdGEpKTpkJiZkKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxnZXRDb25maWc6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWguZGF0YXNldHNbYV07ZD9iKGQuY29uZmlnKTpjJiZjKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxzZXRDb25maWc6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9aC5kYXRhc2V0c1thXTtpZihlKXt2YXIgZj1oLnNldE9wdGlvbnMoYik7ZS5jb25maWc9ZixoLnNhdmVEYXRhU2V0KGEpLGMmJmMoZS5jb25maWcpfWVsc2UgZCYmZCgidW5rbm93bl9kYXRhc2V0ICIrYSxhKX0sc3RvcFN5bmM6ZnVuY3Rpb24oYSxiLGMpe2guc2V0Q29uZmlnKGEse3N5bmNfYWN0aXZlOiExfSxmdW5jdGlvbigpe2ImJmIoKX0sYyl9LHN0YXJ0U3luYzpmdW5jdGlvbihhLGIsYyl7aC5zZXRDb25maWcoYSx7c3luY19hY3RpdmU6ITB9LGZ1bmN0aW9uKCl7YiYmYigpfSxjKX0sZG9TeW5jOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1oLmRhdGFzZXRzW2FdO2Q/KGQuc3luY1BlbmRpbmc9ITAsaC5zYXZlRGF0YVNldChhKSxiJiZiKCkpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LGZvcmNlU3luYzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9aC5kYXRhc2V0c1thXTtkPyhkLnN5bmNGb3JjZWQ9ITAsaC5zYXZlRGF0YVNldChhKSxiJiZiKCkpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LHNvcnRPYmplY3Q6ZnVuY3Rpb24oYSl7aWYoIm9iamVjdCIhPXR5cGVvZiBhfHxudWxsPT09YSlyZXR1cm4gYTt2YXIgYj1bXTtyZXR1cm4gT2JqZWN0LmtleXMoYSkuc29ydCgpLmZvckVhY2goZnVuY3Rpb24oYyl7Yi5wdXNoKHtrZXk6Yyx2YWx1ZTpoLnNvcnRPYmplY3QoYVtjXSl9KX0pLGJ9LHNvcnRlZFN0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYj0iIjt0cnl7Yj1jLnN0cmluZ2lmeShoLnNvcnRPYmplY3QoYSkpfWNhdGNoKGQpe2NvbnNvbGUuZXJyb3IoIkVycm9yIHN0cmluZ2lmeWluZyBzb3J0ZWQgb2JqZWN0OiIrZCl9cmV0dXJuIGJ9LGdlbmVyYXRlSGFzaDpmdW5jdGlvbihhKXt2YXIgYj1mLlNIQTEoaC5zb3J0ZWRTdHJpbmdpZnkoYSkpO3JldHVybiBiLnRvU3RyaW5nKCl9LGFkZFBlbmRpbmdPYmo6ZnVuY3Rpb24oYSxiLGQsZSxmLGcpe2Z1bmN0aW9uIGkoYyl7Yy5oYXNoPWguZ2VuZXJhdGVIYXNoKGMpLGguZ2V0RGF0YVNldChhLGZ1bmN0aW9uKGQpe2QucGVuZGluZ1tjLmhhc2hdPWMsaC51cGRhdGVEYXRhc2V0RnJvbUxvY2FsKGQsYyksaC5jb25maWcuYXV0b19zeW5jX2xvY2FsX3VwZGF0ZXMmJihkLnN5bmNQZW5kaW5nPSEwKSxoLnNhdmVEYXRhU2V0KGEpLGguZG9Ob3RpZnkoYSxiLGgubm90aWZpY2F0aW9ucy5MT0NBTF9VUERBVEVfQVBQTElFRCxlKSxmKGMpfSxmdW5jdGlvbihhLGIpe2cmJmcoYSxiKX0pfWguaXNPbmxpbmUoZnVuY3Rpb24oYyl7Y3x8aC5kb05vdGlmeShhLGIsaC5ub3RpZmljYXRpb25zLk9GRkxJTkVfVVBEQVRFLGUpfSk7dmFyIGo9e307ai5pbkZsaWdodD0hMSxqLmFjdGlvbj1lLGoucG9zdD1jLnBhcnNlKGMuc3RyaW5naWZ5KGQpKSxqLnBvc3RIYXNoPWguZ2VuZXJhdGVIYXNoKGoucG9zdCksai50aW1lc3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCksImNyZWF0ZSI9PT1lPyhqLnVpZD1qLnBvc3RIYXNoLGkoaikpOmgucmVhZChhLGIsZnVuY3Rpb24oYSl7ai51aWQ9YixqLnByZT1hLmRhdGEsai5wcmVIYXNoPWguZ2VuZXJhdGVIYXNoKGEuZGF0YSksaShqKX0sZnVuY3Rpb24oYSxiKXtnJiZnKGEsYil9KX0sc3luY0xvb3A6ZnVuY3Rpb24oYSl7aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oYil7Yi5zeW5jUGVuZGluZz0hMSxiLnN5bmNSdW5uaW5nPSEwLGIuc3luY0xvb3BTdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSxoLmRvTm90aWZ5KGEsbnVsbCxoLm5vdGlmaWNhdGlvbnMuU1lOQ19TVEFSVEVELG51bGwpLGguaXNPbmxpbmUoZnVuY3Rpb24oZCl7ZD9oLmNoZWNrSGFzQ3VzdG9tU3luYyhhLGZ1bmN0aW9uKCl7dmFyIGQ9e307ZC5mbj0ic3luYyIsZC5kYXRhc2V0X2lkPWEsZC5xdWVyeV9wYXJhbXM9Yi5xdWVyeV9wYXJhbXMsZC5jb25maWc9Yi5jb25maWcsZC5tZXRhX2RhdGE9Yi5tZXRhX2RhdGEsZC5kYXRhc2V0X2hhc2g9Yi5oYXNoLGQuYWNrbm93bGVkZ2VtZW50cz1iLmFja25vd2xlZGdlbWVudHN8fFtdO3ZhciBlPWIucGVuZGluZyxmPVtdO2Zvcih2YXIgZyBpbiBlKWVbZ10uaW5GbGlnaHR8fGVbZ10uY3Jhc2hlZHx8ZVtnXS5kZWxheWVkfHwoZVtnXS5pbkZsaWdodD0hMCxlW2ddLmluRmxpZ2h0RGF0ZT0obmV3IERhdGUpLmdldFRpbWUoKSxmLnB1c2goZVtnXSkpO2QucGVuZGluZz1mLGYubGVuZ3RoPjAmJmguY29uc29sZUxvZygiU3RhcnRpbmcgc3luYyBsb29wIC0gZ2xvYmFsIGhhc2ggPSAiK2IuaGFzaCsiIDo6IHBhcmFtcyA9ICIrYy5zdHJpbmdpZnkoZCxudWxsLDIpKTt0cnl7aC5kb0Nsb3VkQ2FsbCh7ZGF0YXNldF9pZDphLHJlcTpkfSxmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGMsZCxmKXtpZihjKWZvcih2YXIgZyBpbiBjKWU9Y1tnXSxmLnB1c2goZSksYi5wZW5kaW5nW2ddJiZiLnBlbmRpbmdbZ10uaW5GbGlnaHQmJiFiLnBlbmRpbmdbZ10uY3Jhc2hlZCYmKGRlbGV0ZSBiLnBlbmRpbmdbZ10saC5kb05vdGlmeShhLGUudWlkLGQsZSkpfXZhciBlO2lmKGgudXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhKGEsYixjKSxoLnVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhKGEsYixjKSxoLnVwZGF0ZURlbGF5ZWRGcm9tTmV3RGF0YShhLGIsYyksaC51cGRhdGVNZXRhRnJvbU5ld0RhdGEoYSxiLGMpLGgudXBkYXRlTmV3RGF0YUZyb21JbkZsaWdodChhLGIsYyksaC51cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcoYSxiLGMpLGMucmVjb3JkcyYmKGIuZGF0YT1jLnJlY29yZHMsYi5oYXNoPWMuaGFzaCxoLmRvTm90aWZ5KGEsYy5oYXNoLGgubm90aWZpY2F0aW9ucy5ERUxUQV9SRUNFSVZFRCwiZnVsbCBkYXRhc2V0IikpLGMudXBkYXRlcyl7dmFyIGY9W107ZChjLnVwZGF0ZXMuYXBwbGllZCxoLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9BUFBMSUVELGYpLGQoYy51cGRhdGVzLmZhaWxlZCxoLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9GQUlMRUQsZiksZChjLnVwZGF0ZXMuY29sbGlzaW9ucyxoLm5vdGlmaWNhdGlvbnMuQ09MTElTSU9OX0RFVEVDVEVELGYpLGIuYWNrbm93bGVkZ2VtZW50cz1mfSFjLnJlY29yZHMmJmMuaGFzaCYmYy5oYXNoIT09Yi5oYXNoPyhoLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgc3RhbGUgLSBzeW5jaW5nIHJlY29yZHMgOjogbG9jYWwgaGFzaD0gIitiLmhhc2grIiAtIHJlbW90ZUhhc2g9IitjLmhhc2gpLGguc3luY1JlY29yZHMoYSkpOihoLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgdXAgdG8gZGF0ZSIpLGguc3luY0NvbXBsZXRlKGEsIm9ubGluZSIsaC5ub3RpZmljYXRpb25zLlNZTkNfQ09NUExFVEUpKX0sZnVuY3Rpb24oYyxkKXtoLm1hcmtJbkZsaWdodEFzQ3Jhc2hlZChiKSxoLmNvbnNvbGVMb2coInN5bmNMb29wIGZhaWxlZCA6IG1zZz0iK2MrIiA6OiBlcnIgPSAiK2QpLGguc3luY0NvbXBsZXRlKGEsYyxoLm5vdGlmaWNhdGlvbnMuU1lOQ19GQUlMRUQpfSl9Y2F0Y2goaSl7aC5jb25zb2xlTG9nKCJFcnJvciBwZXJmb3JtaW5nIHN5bmMgLSAiK2kpLGguc3luY0NvbXBsZXRlKGEsaSxoLm5vdGlmaWNhdGlvbnMuU1lOQ19GQUlMRUQpfX0pOmguc3luY0NvbXBsZXRlKGEsIm9mZmxpbmUiLGgubm90aWZpY2F0aW9ucy5TWU5DX0ZBSUxFRCl9KX0pfSxzeW5jUmVjb3JkczpmdW5jdGlvbihhKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihiKXt2YXIgZD1iLmRhdGF8fHt9LGU9e307Zm9yKHZhciBmIGluIGQpe3ZhciBnPWYsaT1kW2ZdLmhhc2g7ZVtnXT1pfXZhciBqPXt9O2ouZm49InN5bmNSZWNvcmRzIixqLmRhdGFzZXRfaWQ9YSxqLnF1ZXJ5X3BhcmFtcz1iLnF1ZXJ5X3BhcmFtcyxqLmNsaWVudFJlY3M9ZSxoLmNvbnNvbGVMb2coInN5bmNSZWNQYXJhbXMgOjogIitjLnN0cmluZ2lmeShqKSksaC5kb0Nsb3VkQ2FsbCh7ZGF0YXNldF9pZDphLHJlcTpqfSxmdW5jdGlvbihjKXt2YXIgZTtpZihjLmNyZWF0ZSlmb3IoZSBpbiBjLmNyZWF0ZSlkW2VdPXtoYXNoOmMuY3JlYXRlW2VdLmhhc2gsZGF0YTpjLmNyZWF0ZVtlXS5kYXRhfSxoLmRvTm90aWZ5KGEsZSxoLm5vdGlmaWNhdGlvbnMuUkVDT1JEX0RFTFRBX1JFQ0VJVkVELCJjcmVhdGUiKTtpZihjLnVwZGF0ZSlmb3IoZSBpbiBjLnVwZGF0ZSlkW2VdLmhhc2g9Yy51cGRhdGVbZV0uaGFzaCxkW2VdLmRhdGE9Yy51cGRhdGVbZV0uZGF0YSxoLmRvTm90aWZ5KGEsZSxoLm5vdGlmaWNhdGlvbnMuUkVDT1JEX0RFTFRBX1JFQ0VJVkVELCJ1cGRhdGUiKTtpZihjWyJkZWxldGUiXSlmb3IoZSBpbiBjWyJkZWxldGUiXSlkZWxldGUgZFtlXSxoLmRvTm90aWZ5KGEsZSxoLm5vdGlmaWNhdGlvbnMuUkVDT1JEX0RFTFRBX1JFQ0VJVkVELCJkZWxldGUiKTtoLmRvTm90aWZ5KGEsYy5oYXNoLGgubm90aWZpY2F0aW9ucy5ERUxUQV9SRUNFSVZFRCwicGFydGlhbCBkYXRhc2V0IiksYi5kYXRhPWQsYy5oYXNoJiYoYi5oYXNoPWMuaGFzaCksaC5zeW5jQ29tcGxldGUoYSwib25saW5lIixoLm5vdGlmaWNhdGlvbnMuU1lOQ19DT01QTEVURSl9LGZ1bmN0aW9uKGIsYyl7aC5jb25zb2xlTG9nKCJzeW5jUmVjb3JkcyBmYWlsZWQgOiBtc2c9IitiKyIgOjogZXJyPSIrYyksaC5zeW5jQ29tcGxldGUoYSxiLGgubm90aWZpY2F0aW9ucy5TWU5DX0ZBSUxFRCl9KX0pfSxzeW5jQ29tcGxldGU6ZnVuY3Rpb24oYSxiLGMpe2guZ2V0RGF0YVNldChhLGZ1bmN0aW9uKGQpe2Quc3luY1J1bm5pbmc9ITEsZC5zeW5jTG9vcEVuZD0obmV3IERhdGUpLmdldFRpbWUoKSxoLnNhdmVEYXRhU2V0KGEpLGguZG9Ob3RpZnkoYSxkLmhhc2gsYyxiKX0pfSxjaGVja0RhdGFzZXRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGguZGF0YXNldHMpaWYoaC5kYXRhc2V0cy5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGI9aC5kYXRhc2V0c1thXTtpZihiJiYhYi5zeW5jUnVubmluZyYmKGIuY29uZmlnLnN5bmNfYWN0aXZlfHxiLnN5bmNGb3JjZWQpKXt2YXIgYz1iLnN5bmNMb29wU3RhcnQsZD1iLnN5bmNMb29wRW5kO2lmKGIuc3luY0ZvcmNlZCliLnN5bmNQZW5kaW5nPSEwO2Vsc2UgaWYobnVsbD09YyloLmNvbnNvbGVMb2coYSsiIC0gUGVyZm9ybWluZyBpbml0aWFsIHN5bmMiKSxiLnN5bmNQZW5kaW5nPSEwO2Vsc2UgaWYobnVsbCE9ZCl7dmFyIGU9KG5ldyBEYXRlKS5nZXRUaW1lKCktZCxmPTFlMypiLmNvbmZpZy5zeW5jX2ZyZXF1ZW5jeTtlPmYmJihiLnN5bmNQZW5kaW5nPSEwKX1iLnN5bmNQZW5kaW5nJiYoYi5zeW5jRm9yY2VkPSExLGguc3luY0xvb3AoYSkpfX19LGNoZWNrSGFzQ3VzdG9tU3luYzpmdW5jdGlvbihhLGIpe3ZhciBjPWguZGF0YXNldHNbYV07cmV0dXJuIGMmJmMuY29uZmlnPyhoLmNvbnNvbGVMb2coImRhdGFzZXQuY29uZmlnLmhhc19jdXN0b21fc3luYyA9ICIrYy5jb25maWcuaGFzX2N1c3RvbV9zeW5jKSxudWxsIT1jLmNvbmZpZy5oYXNfY3VzdG9tX3N5bmM/YigpOihoLmNvbnNvbGVMb2coInN0YXJ0aW5nIGNoZWNrIGhhcyBjdXN0b20gc3luYyIpLHZvaWQgZCh7YWN0OmEscmVxOntmbjoic3luYyJ9fSxmdW5jdGlvbihhKXtyZXR1cm4gaC5jb25zb2xlTG9nKCJjaGVjayBoYXNfY3VzdG9tX3N5bmMgLSBzdWNjZXNzIC0gIixhKSxjLmNvbmZpZy5oYXNfY3VzdG9tX3N5bmM9ITAsYigpfSxmdW5jdGlvbihhLGQpe3JldHVybiBoLmNvbnNvbGVMb2coImNoZWNrIGhhc19jdXN0b21fc3luYyAtIGZhaWx1cmUgLSAiLGQpLGQuc3RhdHVzJiY1MDA9PT1kLnN0YXR1cz8oaC5jb25zb2xlTG9nKCJjaGVjayBoYXNfY3VzdG9tX3N5bmMgLSBmYWlsZWQgd2l0aCA1MDAsIGVuZHBvaW50IGRvZXMgZXhpc3RzIiksYy5jb25maWcuaGFzX2N1c3RvbV9zeW5jPSEwKTpjLmNvbmZpZy5oYXNfY3VzdG9tX3N5bmM9ITEsYigpfSkpKTpiKCl9LGRvQ2xvdWRDYWxsOmZ1bmN0aW9uKGEsYixjKXt2YXIgZj0hMSxnPWguZGF0YXNldHNbYS5kYXRhc2V0X2lkXTtnJiZnLmNvbmZpZyYmKGY9Zy5jb25maWcuaGFzX2N1c3RvbV9zeW5jKSwxPT1mP2Qoe2FjdDphLmRhdGFzZXRfaWQscmVxOmEucmVxfSxmdW5jdGlvbihhKXtiKGEpfSxmdW5jdGlvbihhLGIpe2MoYSxiKX0pOmUoe3BhdGg6Ii9tYmFhcy9zeW5jLyIrYS5kYXRhc2V0X2lkLG1ldGhvZDoicG9zdCIsZGF0YTphLnJlcX0sZnVuY3Rpb24oYSl7YihhKX0sZnVuY3Rpb24oYSxiKXtjKGEsYil9KX0sZGF0YXNldE1vbml0b3I6ZnVuY3Rpb24oKXtoLmNoZWNrRGF0YXNldHMoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5kYXRhc2V0TW9uaXRvcigpfSw1MDApfSxnZXRTdG9yYWdlQWRhcHRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYyxkKXt2YXIgZT0oYj8ic2F2ZSB0byI6ImxvYWQgZnJvbSIpKyIgbG9jYWwgc3RvcmFnZSBmYWlsZWQgbXNnOiAiK2MrIiBlcnI6ICIrZDtoLmRvTm90aWZ5KGEsbnVsbCxoLm5vdGlmaWNhdGlvbnMuQ0xJRU5UX1NUT1JBR0VfRkFJTEVELGUpLGguY29uc29sZUxvZyhlKX07Zyh7ZmFpbDpkLGFkYXB0ZXI6aC5jb25maWcuc3RvcmFnZV9zdHJhdGVneSxzaXplOmguY29uZmlnLmZpbGVfc3lzdGVtX3F1b3RhLGJhY2t1cDpoLmNvbmZpZy5pY2xvdWRfYmFja3VwfSxmdW5jdGlvbigpe3JldHVybiBjKG51bGwsdGhpcyl9KX0sc2F2ZURhdGFTZXQ6ZnVuY3Rpb24oYSxiKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihjKXtoLmdldFN0b3JhZ2VBZGFwdGVyKGEsITAsZnVuY3Rpb24oZCxlKXtlLnNhdmUoe2tleToiZGF0YXNldF8iK2EsdmFsOmN9LGZ1bmN0aW9uKCl7cmV0dXJuIGI/YigpOnZvaWQgMH0pfSl9KX0sbG9hZERhdGFTZXQ6ZnVuY3Rpb24oYSxiLGQpe2guZ2V0U3RvcmFnZUFkYXB0ZXIoYSwhMSxmdW5jdGlvbihlLGYpe2YuZ2V0KCJkYXRhc2V0XyIrYSxmdW5jdGlvbihlKXtpZihlJiZlLnZhbCl7dmFyIGY9ZS52YWw7aWYoInN0cmluZyI9PXR5cGVvZiBmJiYoZj1jLnBhcnNlKGYpKSxmLmluaXRpYWxpc2VkPSExLGguZGF0YXNldHNbYV09ZixoLmNvbnNvbGVMb2coImxvYWQgZnJvbSBsb2NhbCBzdG9yYWdlIHN1Y2Nlc3MgZm9yIGRhdGFzZXRfaWQgOiIrYSksYilyZXR1cm4gYihmKX1lbHNlIGlmKGQpcmV0dXJuIGQoKX0pfSl9LGNsZWFyQ2FjaGU6ZnVuY3Rpb24oYSxiKXtkZWxldGUgaC5kYXRhc2V0c1thXSxudWxsPT09aC5ub3RpZnlfY2FsbGJhY2tfbWFwW2FdLGguZ2V0U3RvcmFnZUFkYXB0ZXIoYSwhMCxmdW5jdGlvbihjLGQpe2QucmVtb3ZlKCJkYXRhc2V0XyIrYSxmdW5jdGlvbigpe3JldHVybiBoLmNvbnNvbGVMb2coImxvY2FsIGNhY2hlIGlzIGNsZWFyZWQgZm9yIGRhdGFzZXQgOiAiK2EpLGI/YigpOnZvaWQgMH0pfSl9LHVwZGF0ZURhdGFzZXRGcm9tTG9jYWw6ZnVuY3Rpb24oYSxiKXt2YXIgZCxlLGY9YS5wZW5kaW5nLGc9Yi51aWQ7aC5jb25zb2xlTG9nKCJ1cGRhdGluZyBsb2NhbCBkYXRhc2V0IGZvciB1aWQgIitnKyIgLSBhY3Rpb24gPSAiK2IuYWN0aW9uKSxhLm1ldGFbZ109YS5tZXRhW2ddfHx7fSwiY3JlYXRlIj09PWIuYWN0aW9uJiYoYS5kYXRhW2ddJiYoaC5jb25zb2xlTG9nKCJkYXRhc2V0IGFscmVhZHkgZXhpc3RzIGZvciB1aWQgaW4gY3JlYXRlIDo6ICIrYy5zdHJpbmdpZnkoYS5kYXRhW2ddKSksYS5tZXRhW2ddLmZyb21QZW5kaW5nJiYoZD1hLm1ldGFbZ10ucGVuZGluZ1VpZCxkZWxldGUgZltkXSkpLGEuZGF0YVtnXT17fSksInVwZGF0ZSI9PT1iLmFjdGlvbiYmYS5kYXRhW2ddJiZhLm1ldGFbZ10uZnJvbVBlbmRpbmcmJihoLmNvbnNvbGVMb2coInVwZGF0aW5nIGFuIGV4aXN0aW5nIHBlbmRpbmcgcmVjb3JkIGZvciBkYXRhc2V0IDo6ICIrYy5zdHJpbmdpZnkoYS5kYXRhW2ddKSksZD1hLm1ldGFbZ10ucGVuZGluZ1VpZCxhLm1ldGFbZ10ucHJldmlvdXNQZW5kaW5nVWlkPWQsZT1mW2RdLGUmJihlLmluRmxpZ2h0PyhoLmNvbnNvbGVMb2coImV4aXN0aW5nIGluLWluZmxpZ2h0IHBlbmRpbmcgcmVjb3JkID0gIitjLnN0cmluZ2lmeShlKSksYi5kZWxheWVkPSEwLGIud2FpdGluZz1lLmhhc2gpOihoLmNvbnNvbGVMb2coImV4aXN0aW5nIHByZS1mbGlnaHQgcGVuZGluZyByZWNvcmQgPSAiK2Muc3RyaW5naWZ5KGUpKSxlLnBvc3Q9Yi5wb3N0LGUucG9zdEhhc2g9Yi5wb3N0SGFzaCxkZWxldGUgZltiLmhhc2hdLGIuaGFzaD1kKSkpLCJkZWxldGUiPT09Yi5hY3Rpb24mJmEuZGF0YVtnXSYmKGEubWV0YVtnXS5mcm9tUGVuZGluZyYmKGguY29uc29sZUxvZygiRGVsZXRpbmcgYW4gZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgZm9yIGRhdGFzZXQgOjogIitjLnN0cmluZ2lmeShhLmRhdGFbZ10pKSxkPWEubWV0YVtnXS5wZW5kaW5nVWlkLGEubWV0YVtnXS5wcmV2aW91c1BlbmRpbmdVaWQ9ZCxlPWZbZF0sZSYmKGUuaW5GbGlnaHQ/KGguY29uc29sZUxvZygiZXhpc3RpbmcgaW4taW5mbGlnaHQgcGVuZGluZyByZWNvcmQgPSAiK2Muc3RyaW5naWZ5KGUpKSxiLmRlbGF5ZWQ9ITAsYi53YWl0aW5nPWUuaGFzaCk6KGguY29uc29sZUxvZygiZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgPSAiK2Muc3RyaW5naWZ5KGUpKSwiY3JlYXRlIj09PWUuYWN0aW9uJiYoZGVsZXRlIGZbYi5oYXNoXSxkZWxldGUgZltkXSksInVwZGF0ZSI9PT1lLmFjdGlvbiYmKGIucHJlPWUucHJlLGIucHJlSGFzaD1lLnByZUhhc2gsYi5pbkZsaWdodD0hMSxkZWxldGUgZltkXSkpKSksZGVsZXRlIGEuZGF0YVtnXSksYS5kYXRhW2ddJiYoYS5kYXRhW2ddLmRhdGE9Yi5wb3N0LGEuZGF0YVtnXS5oYXNoPWIucG9zdEhhc2gsYS5tZXRhW2ddLmZyb21QZW5kaW5nPSEwLGEubWV0YVtnXS5wZW5kaW5nVWlkPWIuaGFzaCl9LHVwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YTpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZj1iLnBlbmRpbmc7aWYoZiYmZC5yZWNvcmRzKWZvcih2YXIgZyBpbiBmKWlmKGYuaGFzT3duUHJvcGVydHkoZykpe3ZhciBpPWZbZ107aWYoYi5tZXRhW2kudWlkXT1iLm1ldGFbaS51aWRdfHx7fSxpLmluRmxpZ2h0PT09ITEpe2lmKGguY29uc29sZUxvZygidXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhIC0gRm91bmQgTm9uIGluRmxpZ2h0IHJlY29yZCAtPiBhY3Rpb249IitpLmFjdGlvbisiIDo6IHVpZD0iK2kudWlkKyIgOjogaGFzaD0iK2kuaGFzaCksInVwZGF0ZSI9PT1pLmFjdGlvbnx8ImRlbGV0ZSI9PT1pLmFjdGlvbilpZihlPWQucmVjb3Jkc1tpLnVpZF0paC5jb25zb2xlTG9nKCJ1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBVcGRhdGluZyBwcmUgdmFsdWVzIGZvciBleGlzdGluZyBwZW5kaW5nIHJlY29yZCAiK2kudWlkKSxpLnByZT1lLmRhdGEsaS5wcmVIYXNoPWUuaGFzaDtlbHNle3ZhciBqPWIubWV0YVtpLnVpZF0ucHJldmlvdXNQZW5kaW5nVWlkLGs9ZltqXTtpZihrJiZkJiZkLnVwZGF0ZXMmJmQudXBkYXRlcy5hcHBsaWVkJiZkLnVwZGF0ZXMuYXBwbGllZFtrLmhhc2hdKXt2YXIgbD1kLnVwZGF0ZXMuYXBwbGllZFtrLmhhc2hdLnVpZDtlPWQucmVjb3Jkc1tsXSxlJiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBVcGRhdGluZyBwcmUgdmFsdWVzIGZvciBleGlzdGluZyBwZW5kaW5nIHJlY29yZCB3aGljaCB3YXMgcHJldmlvdXNseSBhIGNyZWF0ZSAiK2kudWlkKyIgPT0+ICIrbCksaS5wcmU9ZS5kYXRhLGkucHJlSGFzaD1lLmhhc2gsaS51aWQ9bCl9fSJjcmVhdGUiPT09aS5hY3Rpb24mJmQmJmQudXBkYXRlcyYmZC51cGRhdGVzLmFwcGxpZWQmJmQudXBkYXRlcy5hcHBsaWVkW2ddJiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBGb3VuZCBhbiB1cGRhdGUgZm9yIGEgcGVuZGluZyBjcmVhdGUgIitjLnN0cmluZ2lmeShkLnVwZGF0ZXMuYXBwbGllZFtnXSkpLGU9ZC5yZWNvcmRzW2QudXBkYXRlcy5hcHBsaWVkW2ddLnVpZF0sZSYmKGguY29uc29sZUxvZygidXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhIC0gQ2hhbmdpbmcgcGVuZGluZyBjcmVhdGUgdG8gYW4gdXBkYXRlIGJhc2VkIG9uIG5ldyByZWNvcmQgICIrYy5zdHJpbmdpZnkoZSkpLGkuYWN0aW9uPSJ1cGRhdGUiLGkucHJlPWUuZGF0YSxpLnByZUhhc2g9ZS5oYXNoLGkudWlkPWQudXBkYXRlcy5hcHBsaWVkW2ddLnVpZCkpfX19LHVwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIucGVuZGluZztpZihkJiZjLnJlY29yZHMpZm9yKHZhciBlIGluIGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGY9ZFtlXTtpZihmLmluRmxpZ2h0KXt2YXIgZz1jJiZjLnVwZGF0ZXMmJmMudXBkYXRlcy5oYXNoZXMmJmMudXBkYXRlcy5oYXNoZXNbZV0/ITA6ITE7aWYoaC5jb25zb2xlTG9nKCJ1cGRhdGVOZXdEYXRhRnJvbUluRmxpZ2h0IC0gRm91bmQgaW5mbGlnaHQgcGVuZGluZyBSZWNvcmQgLSBhY3Rpb24gPSAiK2YuYWN0aW9uKyIgOjogaGFzaCA9ICIrZSsiIDo6IHVwZGF0ZVJlY2VpdmVkRm9yUGVuZGluZz0iK2cpLCFnKXt2YXIgaT1jLnJlY29yZHNbZi51aWRdO2lmKCJ1cGRhdGUiPT09Zi5hY3Rpb24mJmkpaS5kYXRhPWYucG9zdCxpLmhhc2g9Zi5wb3N0SGFzaDtlbHNlIGlmKCJkZWxldGUiPT09Zi5hY3Rpb24mJmkpZGVsZXRlIGMucmVjb3Jkc1tmLnVpZF07ZWxzZSBpZigiY3JlYXRlIj09PWYuYWN0aW9uKXtoLmNvbnNvbGVMb2coInVwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQiKTt2YXIgaj17ZGF0YTpmLnBvc3QsaGFzaDpmLnBvc3RIYXNofTtjLnJlY29yZHNbZi51aWRdPWp9fX19fSx1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmc6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIucGVuZGluZztpZihkJiZjLnJlY29yZHMpZm9yKHZhciBlIGluIGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGY9ZFtlXTtpZihmLmluRmxpZ2h0PT09ITEpe2guY29uc29sZUxvZygidXBkYXRlTmV3RGF0YUZyb21QZW5kaW5nIC0gRm91bmQgTm9uIGluRmxpZ2h0IHJlY29yZCAtPiBhY3Rpb249IitmLmFjdGlvbisiIDo6IHVpZD0iK2YudWlkKyIgOjogaGFzaD0iK2YuaGFzaCk7dmFyIGc9Yy5yZWNvcmRzW2YudWlkXTtpZigidXBkYXRlIj09PWYuYWN0aW9uJiZnKWcuZGF0YT1mLnBvc3QsZy5oYXNoPWYucG9zdEhhc2g7ZWxzZSBpZigiZGVsZXRlIj09PWYuYWN0aW9uJiZnKWRlbGV0ZSBjLnJlY29yZHNbZi51aWRdO2Vsc2UgaWYoImNyZWF0ZSI9PT1mLmFjdGlvbil7aC5jb25zb2xlTG9nKCJ1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQiKTt2YXIgaT17ZGF0YTpmLnBvc3QsaGFzaDpmLnBvc3RIYXNofTtjLnJlY29yZHNbZi51aWRdPWl9fX19LHVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhOmZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmLGc9e2FwcGxpZWQ6aC5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfQVBQTElFRCxmYWlsZWQ6aC5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfRkFJTEVELGNvbGxpc2lvbnM6aC5ub3RpZmljYXRpb25zLkNPTExJU0lPTl9ERVRFQ1RFRH0saT1iLnBlbmRpbmcsaj17fTtpZihpKXtmb3IoZSBpbiBpKWlmKGkuaGFzT3duUHJvcGVydHkoZSkmJihmPWlbZV0sZi5pbkZsaWdodCYmZi5jcmFzaGVkKSlpZihoLmNvbnNvbGVMb2coInVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gRm91bmQgY3Jhc2hlZCBpbkZsaWdodCBwZW5kaW5nIHJlY29yZCB1aWQ9IitmLnVpZCsiIDo6IGhhc2g9IitmLmhhc2gpLGQmJmQudXBkYXRlcyYmZC51cGRhdGVzLmhhc2hlcyl7dmFyIGs9ZC51cGRhdGVzLmhhc2hlc1tlXTtrPyhqW2sudWlkXT1rLGguY29uc29sZUxvZygidXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEgLSBSZXNvbHZpbmcgc3RhdHVzIGZvciBjcmFzaGVkIGluZmxpZ2h0IHBlbmRpbmcgcmVjb3JkICIrYy5zdHJpbmdpZnkoaykpLCJmYWlsZWQiPT09ay50eXBlJiYoImNyZWF0ZSI9PT1rLmFjdGlvbj8oaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIERlbGV0aW5nIGZhaWxlZCBjcmVhdGUgZnJvbSBkYXRhc2V0IiksZGVsZXRlIGIuZGF0YVtrLnVpZF0pOigidXBkYXRlIj09PWsuYWN0aW9ufHwiZGVsZXRlIj09PWsuYWN0aW9uKSYmKGguY29uc29sZUxvZygidXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEgLSBSZXZlcnRpbmcgZmFpbGVkICIray5hY3Rpb24rIiBpbiBkYXRhc2V0IiksYi5kYXRhW2sudWlkXT17ZGF0YTpmLnByZSxoYXNoOmYucHJlSGFzaH0pKSxkZWxldGUgaVtlXSxoLmRvTm90aWZ5KGEsay51aWQsZ1trLnR5cGVdLGspKTpmLmNyYXNoZWRDb3VudD9mLmNyYXNoZWRDb3VudCsrOmYuY3Jhc2hlZENvdW50PTF9ZWxzZSBmLmNyYXNoZWRDb3VudD9mLmNyYXNoZWRDb3VudCsrOmYuY3Jhc2hlZENvdW50PTE7Zm9yKGUgaW4gaSlpLmhhc093blByb3BlcnR5KGUpJiYoZj1pW2VdLGYuaW5GbGlnaHQmJmYuY3Jhc2hlZCYmZi5jcmFzaGVkQ291bnQ+Yi5jb25maWcuY3Jhc2hlZF9jb3VudF93YWl0JiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIENyYXNoZWQgaW5mbGlnaHQgcGVuZGluZyByZWNvcmQgaGFzIHJlYWNoZWQgY3Jhc2hlZF9jb3VudF93YWl0IGxpbWl0IDogIitjLnN0cmluZ2lmeShmKSksYi5jb25maWcucmVzZW5kX2NyYXNoZWRfdXBkYXRlcz8oaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIFJldHJ5aWcgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCIpLGYuY3Jhc2hlZD0hMSxmLmluRmxpZ2h0PSExKTooaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIERlbGV0aW5nIGNyYXNoZWQgaW5mbGlnaHQgcGVuZGluZyByZWNvcmQiKSxkZWxldGUgaVtlXSkpKX19LHVwZGF0ZURlbGF5ZWRGcm9tTmV3RGF0YTpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZixnPWIucGVuZGluZztpZihnKWZvcihlIGluIGcpaWYoZy5oYXNPd25Qcm9wZXJ0eShlKSYmKGY9Z1tlXSxmLmRlbGF5ZWQmJmYud2FpdGluZyYmKGguY29uc29sZUxvZygidXBkYXRlRGVsYXllZEZyb21OZXdEYXRhIC0gRm91bmQgZGVsYXllZCBwZW5kaW5nIHJlY29yZCB1aWQ9IitmLnVpZCsiIDo6IGhhc2g9IitmLmhhc2grIiA6OiB3YWl0aW5nPSIrZi53YWl0aW5nKSxkJiZkLnVwZGF0ZXMmJmQudXBkYXRlcy5oYXNoZXMpKSl7dmFyIGk9ZC51cGRhdGVzLmhhc2hlc1tmLndhaXRpbmddO2kmJihoLmNvbnNvbGVMb2coInVwZGF0ZURlbGF5ZWRGcm9tTmV3RGF0YSAtIFdhaXRpbmcgcGVuZGluZyByZWNvcmQgaXMgcmVzb2x2ZWQgcmVjPSIrYy5zdHJpbmdpZnkoaSkpLGYuZGVsYXllZD0hMSxmLndhaXRpbmc9dm9pZCAwKX19LHVwZGF0ZU1ldGFGcm9tTmV3RGF0YTpmdW5jdGlvbihhLGIsZCl7dmFyIGU9Yi5tZXRhO2lmKGUmJmQmJmQudXBkYXRlcyYmZC51cGRhdGVzLmhhc2hlcylmb3IodmFyIGYgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGYpKXt2YXIgZz1lW2ZdLGk9Zy5wZW5kaW5nVWlkLGo9Zy5wcmV2aW91c1BlbmRpbmdVaWQ7aC5jb25zb2xlTG9nKCJ1cGRhdGVNZXRhRnJvbU5ld0RhdGEgLSBGb3VuZCBtZXRhZGF0YSB3aXRoIHVpZCA9ICIrZisiIDo6IHBlbmRpbmdIYXNoID0gIitpKyIgOjogcHJldmlvdXNQZW5kaW5nSGFzaCA9IitqKTt2YXIgaz0hMCxsPSEwO2lmKGope2s9ITE7dmFyIG09ZC51cGRhdGVzLmhhc2hlc1tqXTttJiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVNZXRhRnJvbU5ld0RhdGEgLSBGb3VuZCBwcmV2aW91c1BlbmRpbmdVaWQgaW4gbWV0YSBkYXRhIHJlc29sdmVkIC0gcmVzb2x2ZWQgPSAiK2Muc3RyaW5naWZ5KG0pKSxnLnByZXZpb3VzUGVuZGluZ1VpZD12b2lkIDAsaz0hMCl9aWYoaSl7bD0hMTt2YXIgbT1kLnVwZGF0ZXMuaGFzaGVzW2ldO20mJihoLmNvbnNvbGVMb2coInVwZGF0ZU1ldGFGcm9tTmV3RGF0YSAtIEZvdW5kIHBlbmRpbmdVaWQgaW4gbWV0YSBkYXRhIHJlc29sdmVkIC0gcmVzb2x2ZWQgPSAiK2Muc3RyaW5naWZ5KG0pKSxnLnBlbmRpbmdVaWQ9dm9pZCAwLGw9ITApfWsmJmwmJihoLmNvbnNvbGVMb2coInVwZGF0ZU1ldGFGcm9tTmV3RGF0YSAtIGJvdGggcHJldmlvdXMgYW5kIGN1cnJlbnQgcGVuZGluZ3MgYXJlIHJlc29sdmVkIGZvciBtZXRhIGRhdGEgd2l0aCB1aWQgIitmKyIuIERlbGV0ZSBpdC4iKSxkZWxldGUgZVtmXSl9fSxtYXJrSW5GbGlnaHRBc0NyYXNoZWQ6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWEucGVuZGluZztpZihkKXt2YXIgZT17fTtmb3IoYiBpbiBkKWQuaGFzT3duUHJvcGVydHkoYikmJihjPWRbYl0sYy5pbkZsaWdodCYmKGguY29uc29sZUxvZygiTWFya2luZyBpbiBmbGlnaHQgcGVuZGluZyByZWNvcmQgYXMgY3Jhc2hlZCA6ICIrYiksYy5jcmFzaGVkPSEwLGVbYy51aWRdPWMpKX19LGNvbnNvbGVMb2c6ZnVuY3Rpb24oYSl7aC5jb25maWcuZG9fY29uc29sZV9sb2cmJmNvbnNvbGUubG9nKGEpfX07IWZ1bmN0aW9uKCl7aC5jb25maWc9aC5kZWZhdWx0c30oKSxiLmV4cG9ydHM9e2luaXQ6aC5pbml0LG1hbmFnZTpoLm1hbmFnZSxub3RpZnk6aC5ub3RpZnksZG9MaXN0OmgubGlzdCxkb0NyZWF0ZTpoLmNyZWF0ZSxkb1JlYWQ6aC5yZWFkLGRvVXBkYXRlOmgudXBkYXRlLGRvRGVsZXRlOmhbImRlbGV0ZSJdLGxpc3RDb2xsaXNpb25zOmgubGlzdENvbGxpc2lvbnMscmVtb3ZlQ29sbGlzaW9uOmgucmVtb3ZlQ29sbGlzaW9uLGdldFBlbmRpbmc6aC5nZXRQZW5kaW5nLGNsZWFyUGVuZGluZzpoLmNsZWFyUGVuZGluZyxnZXREYXRhc2V0OmguZ2V0RGF0YVNldCxnZXRRdWVyeVBhcmFtczpoLmdldFF1ZXJ5UGFyYW1zLHNldFF1ZXJ5UGFyYW1zOmguc2V0UXVlcnlQYXJhbXMsZ2V0TWV0YURhdGE6aC5nZXRNZXRhRGF0YSxzZXRNZXRhRGF0YTpoLnNldE1ldGFEYXRhLGdldENvbmZpZzpoLmdldENvbmZpZyxzZXRDb25maWc6aC5zZXRDb25maWcsc3RhcnRTeW5jOmguc3RhcnRTeW5jLHN0b3BTeW5jOmguc3RvcFN5bmMsZG9TeW5jOmguZG9TeW5jLGZvcmNlU3luYzpoLmZvcmNlU3luYyxnZW5lcmF0ZUhhc2g6aC5nZW5lcmF0ZUhhc2gsbG9hZERhdGFTZXQ6aC5sb2FkRGF0YVNldCxjaGVja0hhc0N1c3RvbVN5bmM6aC5jaGVja0hhc0N1c3RvbVN5bmMsY2xlYXJDYWNoZTpoLmNsZWFyQ2FjaGV9fSx7Ii4uLy4uL2xpYnMvZ2VuZXJhdGVkL2NyeXB0byI6MSwiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIjoyLCIuL2FwaV9hY3QiOjE3LCIuL2FwaV9jbG91ZCI6MTksSlNPTjozfV0sNDQ6W2Z1bmN0aW9uKGEsYil7Yi5leHBvcnRzPXtjcmVhdGVVVUlEOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9IjAxMjM0NTY3ODlBQkNERUYiLGM9MDszMj5jO2MrKylhW2NdPWIuc3Vic3RyKE1hdGguZmxvb3IoMTYqTWF0aC5yYW5kb20oKSksMSk7YVsxMl09IjQiLGFbMTZdPWIuc3Vic3RyKDMmYVsxNl18OCwxKTt2YXIgZD1hLmpvaW4oIiIpO3JldHVybiBkfX19LHt9XSw0NTpbZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEoIi4vaW5pdGlhbGl6ZXIiKSxlPWEoIi4vZXZlbnRzIiksZj1hKCIuL2hvc3RzIiksZz1hKCIuL2NvbnN0YW50cyIpLGg9YSgiLi9sb2dnZXIiKSxpPSExLGo9ITEsaz1udWxsLGw9ZnVuY3Rpb24oYSl7aWYoailyZXR1cm4gYShudWxsLHtob3N0Om4oKX0pO2lmKGUub25jZShnLklOSVRfRVZFTlQsZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiLGMpfSksIWkpe2k9ITA7dmFyIGI9ZnVuY3Rpb24oKXtkLmluaXQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gaT0hMSxhPyhrPWEsZS5lbWl0KGcuSU5JVF9FVkVOVCxhKSk6KGs9bnVsbCxqPSEwLGM9bmV3IGYoYi5jbG91ZCksZS5lbWl0KGcuSU5JVF9FVkVOVCxudWxsLHtob3N0Om4oKX0pKX0pfTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5jb3Jkb3ZhfHwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5waG9uZWdhcD9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJkZXZpY2VyZWFkeSIsYiwhMSk6YigpfX0sbT1mdW5jdGlvbigpe3JldHVybiBjfSxuPWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBjKXt2YXIgYj1hKCIuL2FwcFByb3BzIikuZ2V0QXBwUHJvcHMoKTtyZXR1cm4gYy5nZXRIb3N0KGIubW9kZSl9cmV0dXJuIHZvaWQgMH0sbz1mdW5jdGlvbigpe3JldHVybiBqfSxwPWZ1bmN0aW9uKCl7cmV0dXJuIGt9LHE9ZnVuY3Rpb24oKXtqPSExLGk9ITEsYz12b2lkIDAsaz12b2lkIDAsbChmdW5jdGlvbigpe30pfTtsKGZ1bmN0aW9uKGEpe2E/ImFwcF9jb25maWdfbWlzc2luZyIhPT1hLm1lc3NhZ2U/aC5lcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpc2UgZmguIik6aC5pbmZvKCJObyBmaCBjb25maWcgZmlsZSIpOmguaW5mbygiZmggY2xvdWQgaXMgcmVhZHkiKX0pLGIuZXhwb3J0cz17cmVhZHk6bCxpc1JlYWR5Om8sZ2V0Q2xvdWRIb3N0Om0sZ2V0Q2xvdWRIb3N0VXJsOm4sZ2V0SW5pdEVycm9yOnAscmVzZXQ6cX19LHsiLi9hcHBQcm9wcyI6MjMsIi4vY29uc3RhbnRzIjoyNSwiLi9ldmVudHMiOjI4LCIuL2hvc3RzIjozMSwiLi9pbml0aWFsaXplciI6MzIsIi4vbG9nZ2VyIjozNX1dfSx7fSxbMTRdKSgxNCl9KSxmdW5jdGlvbihyb290KXtpZighSlNPTil2YXIgSlNPTj1mdW5jdGlvbigpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIDEwPmE/IjAiK2E6YX1mdW5jdGlvbiBxdW90ZShhKXtyZXR1cm4gZXNjYXBlYWJsZS50ZXN0KGEpPyciJythLnJlcGxhY2UoZXNjYXBlYWJsZSxmdW5jdGlvbihhKXt2YXIgYj1tZXRhW2FdO3JldHVybiJzdHJpbmciPT10eXBlb2YgYj9iOihiPWEuY2hhckNvZGVBdCgpLCJcXHUwMCIrTWF0aC5mbG9vcihiLzE2KS50b1N0cmluZygxNikrKGIlMTYpLnRvU3RyaW5nKDE2KSl9KSsnIic6JyInK2ErJyInfWZ1bmN0aW9uIHN0cihhLGIpe3ZhciBjLGQsZSxmLGcsaD1nYXAsaT1iW2FdO3N3aXRjaChpJiYib2JqZWN0Ij09dHlwZW9mIGkmJiJmdW5jdGlvbiI9PXR5cGVvZiBpLnRvSlNPTiYmKGk9aS50b0pTT04oYSkpLCJmdW5jdGlvbiI9PXR5cGVvZiByZXAmJihpPXJlcC5jYWxsKGIsYSxpKSksdHlwZW9mIGkpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gcXVvdGUoaSk7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShpKT9TdHJpbmcoaSk6Im51bGwiO2Nhc2UiYm9vbGVhbiI6Y2FzZSJudWxsIjpyZXR1cm4gU3RyaW5nKGkpO2Nhc2Uib2JqZWN0IjppZighaSlyZXR1cm4ibnVsbCI7aWYoZ2FwKz1pbmRlbnQsZz1bXSwibnVtYmVyIj09dHlwZW9mIGkubGVuZ3RoJiYhaS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgibGVuZ3RoIikpe2ZvcihmPWkubGVuZ3RoLGM9MDtmPmM7Yys9MSlnW2NdPXN0cihjLGkpfHwibnVsbCI7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJbXSI6Z2FwPyJbXG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIl0iOiJbIitnLmpvaW4oIiwiKSsiXSIsZ2FwPWgsZX1pZigib2JqZWN0Ij09dHlwZW9mIHJlcClmb3IoZj1yZXAubGVuZ3RoLGM9MDtmPmM7Yys9MSlkPXJlcFtjXSwic3RyaW5nIj09dHlwZW9mIGQmJihlPXN0cihkLGkscmVwKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSkpO2Vsc2UgZm9yKGQgaW4gaSllPXN0cihkLGkscmVwKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSk7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJ7fSI6Z2FwPyJ7XG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIn0iOiJ7IitnLmpvaW4oIiwiKSsifSIsZ2FwPWgsZX19RGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VVRDRnVsbFllYXIoKSsiLSIrZih0aGlzLmdldFVUQ01vbnRoKCkrMSkrIi0iK2YodGhpcy5nZXRVVENEYXRlKCkpKyJUIitmKHRoaXMuZ2V0VVRDSG91cnMoKSkrIjoiK2YodGhpcy5nZXRVVENNaW51dGVzKCkpKyI6IitmKHRoaXMuZ2V0VVRDU2Vjb25kcygpKSsiWiJ9O3ZhciBlc2NhcGVhYmxlPS9bIlxcXHgwMC1ceDFmXHg3Zi1ceDlmXS9nLGdhcCxpbmRlbnQsbWV0YT17IlxiIjoiXFxiIiwiCSI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSxyZXA7cmV0dXJue3N0cmluZ2lmeTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoZ2FwPSIiLGluZGVudD0iIixjKWlmKCJudW1iZXIiPT10eXBlb2YgYylmb3IoZD0wO2M+ZDtkKz0xKWluZGVudCs9IiAiO2Vsc2Uic3RyaW5nIj09dHlwZW9mIGMmJihpbmRlbnQ9Yyk7aWYoYil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGImJigib2JqZWN0IiE9dHlwZW9mIGJ8fCJudW1iZXIiIT10eXBlb2YgYi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXA9Yn1lbHNlIHJlcD1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLGEpP2I6dm9pZCAwfTtyZXR1cm4gc3RyKCIiLHsiIjphfSl9LHBhcnNlOmZ1bmN0aW9uKHRleHQscmV2aXZlcil7ZnVuY3Rpb24gd2FsayhhLGIpe3ZhciBjLGQsZT1hW2JdO2lmKGUmJiJvYmplY3QiPT10eXBlb2YgZSlmb3IoYyBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYykmJihkPXdhbGsoZSxjKSx2b2lkIDAhPT1kP2VbY109ZDpkZWxldGUgZVtjXSk7cmV0dXJuIHJldml2ZXIuY2FsbChhLGIsZSl9dmFyIGo7aWYoL15bXF0sOnt9XHNdKiQvLnRlc3QodGV4dC5yZXBsYWNlKC9cXFsiXFxcL2JmbnJ0dV0vZywiQCIpLnJlcGxhY2UoLyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLCJdIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCIiKSkpcmV0dXJuIGo9ZXZhbCgiKCIrdGV4dCsiKSIpLCJmdW5jdGlvbiI9PXR5cGVvZiByZXZpdmVyP3dhbGsoeyIiOmp9LCIiKTpqO3Rocm93IG5ldyBTeW50YXhFcnJvcigiSlNPTi5wYXJzZSIpfSxxdW90ZTpxdW90ZX19KCk7aWYoZnVuY3Rpb24oKXtpZighd2luZG93Lmdvb2dsZXx8IWdvb2dsZS5nZWFycyl7dmFyIGE9bnVsbDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEdlYXJzRmFjdG9yeSlhPW5ldyBHZWFyc0ZhY3Rvcnk7ZWxzZSB0cnl7YT1uZXcgQWN0aXZlWE9iamVjdCgiR2VhcnMuRmFjdG9yeSIpLC0xIT1hLmdldEJ1aWxkSW5mbygpLmluZGV4T2YoImllX21vYmlsZSIpJiZhLnByaXZhdGVTZXRHbG9iYWxPYmplY3QodGhpcyl9Y2F0Y2goYil7InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3IubWltZVR5cGVzJiZuYXZpZ2F0b3IubWltZVR5cGVzWyJhcHBsaWNhdGlvbi94LWdvb2dsZWdlYXJzIl0mJihhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9iamVjdCIpLGEuc3R5bGUuZGlzcGxheT0ibm9uZSIsYS53aWR0aD0wLGEuaGVpZ2h0PTAsYS50eXBlPSJhcHBsaWNhdGlvbi94LWdvb2dsZWdlYXJzIixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYSkpfWEmJih3aW5kb3cuZ29vZ2xlfHwoZ29vZ2xlPXt9KSxnb29nbGUuZ2VhcnN8fChnb29nbGUuZ2VhcnM9e2ZhY3Rvcnk6YX0pKX19KCksUGVyc2lzdD1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPSIwLjIuMCI7Zj1mdW5jdGlvbigpe3ZhciBhLGI9IlRodSwgMDEtSmFuLTE5NzAgMDA6MDA6MDEgR01UIixjPTg2NGU1LGQ9WyJleHBpcmVzIiwicGF0aCIsImRvbWFpbiJdLGU9ZXNjYXBlLGY9dW5lc2NhcGUsZz1kb2N1bWVudCxoPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IERhdGU7cmV0dXJuIGEuc2V0VGltZShhLmdldFRpbWUoKSksYX0saj1mdW5jdGlvbihhLGIpe3ZhciBjLGYsZyxoPVtdLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp7fTtmb3IoaC5wdXNoKGUoYSkrIj0iK2UoYikpLGM9MDtjPGQubGVuZ3RoO2MrKylmPWRbY10sKGc9aVtmXSkmJmgucHVzaChmKyI9IitnKTtyZXR1cm4gaS5zZWN1cmUmJmgucHVzaCgic2VjdXJlIiksaC5qb2luKCI7ICIpfSxrPWZ1bmN0aW9uKCl7dmFyIGE9Il9fRUNfVEVTVF9fIixiPW5ldyBEYXRlO3JldHVybiBiPWIudG9HTVRTdHJpbmcoKSx0aGlzLnNldChhLGIpLHRoaXMuZW5hYmxlZD10aGlzLnJlbW92ZShhKT09Yix0aGlzLmVuYWJsZWR9O3JldHVybiBhPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnt9LGU9aCgpLGY9e307ZC5leHBpcmVzJiYoZC5leHBpcmVzKj1jLGYuZXhwaXJlcz1uZXcgRGF0ZShlLmdldFRpbWUoKStkLmV4cGlyZXMpLGYuZXhwaXJlcz1mLmV4cGlyZXMudG9HTVRTdHJpbmcoKSk7dmFyIGs9WyJwYXRoIiwiZG9tYWluIiwic2VjdXJlIl07Zm9yKGk9MDtpPGsubGVuZ3RoO2krKylkW2tbaV1dJiYoZltrW2ldXT1kW2tbaV1dKTt2YXIgbD1qKGEsYixmKTtyZXR1cm4gZy5jb29raWU9bCxifSxoYXM6ZnVuY3Rpb24oYSl7YT1lKGEpO3ZhciBiPWcuY29va2llLGM9Yi5pbmRleE9mKGErIj0iKSxkPShjK2EubGVuZ3RoKzEsYi5zdWJzdHJpbmcoMCxhLmxlbmd0aCkpO3JldHVybiFjJiZhIT1kfHwwPmM/ITE6ITB9LGdldDpmdW5jdGlvbihhKXthPWUoYSk7dmFyIGIsYz1nLmNvb2tpZSxkPWMuaW5kZXhPZihhKyI9IiksaD1kK2EubGVuZ3RoKzEsaT1jLnN1YnN0cmluZygwLGEubGVuZ3RoKTtyZXR1cm4hZCYmYSE9aXx8MD5kP251bGw6KGI9Yy5pbmRleE9mKCI7IixoKSwwPmImJihiPWMubGVuZ3RoKSxmKGMuc3Vic3RyaW5nKGgsYikpKX0scmVtb3ZlOmZ1bmN0aW9uKGMpe3ZhciBkPWEuZ2V0KGMpLGU9e2V4cGlyZXM6Yn07cmV0dXJuIGcuY29va2llPWooYywiIixlKSxkfSxrZXlzOmZ1bmN0aW9uKCl7dmFyIGEsYixjPWcuY29va2llLGQ9Yy5zcGxpdCgiOyAiKSxlPVtdO2ZvcihhPTA7YTxkLmxlbmd0aDthKyspYj1kW2FdLnNwbGl0KCI9IiksZS5wdXNoKGYoYlswXSkpO3JldHVybiBlfSxhbGw6ZnVuY3Rpb24oKXt2YXIgYSxiLGM9Zy5jb29raWUsZD1jLnNwbGl0KCI7ICIpLGU9W107Zm9yKGE9MDthPGQubGVuZ3RoO2ErKyliPWRbYV0uc3BsaXQoIj0iKSxlLnB1c2goW2YoYlswXSksZihiWzFdKV0pO3JldHVybiBlfSx2ZXJzaW9uOiIwLjIuMSIsZW5hYmxlZDohMX0sYS5lbmFibGVkPWsuY2FsbChhKSxhfSgpO3ZhciBoPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYSxiKX06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2ZvcihjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PWIpcmV0dXJuIGM7cmV0dXJuLTF9fSgpO2U9ZnVuY3Rpb24oKXt9LGM9ZnVuY3Rpb24oYSl7cmV0dXJuIlBTIithLnJlcGxhY2UoL18vZywiX18iKS5yZXBsYWNlKC8gL2csIl9zIil9LEM9e3NlYXJjaF9vcmRlcjpbImxvY2Fsc3RvcmFnZSIsIndoYXR3Z19kYiIsImdsb2JhbHN0b3JhZ2UiLCJnZWFycyIsImllIiwiZmxhc2giLCJjb29raWUiXSxuYW1lX3JlOi9eW2Etel1bYS16MC05XyAtXSskL2ksbWV0aG9kczpbImluaXQiLCJnZXQiLCJzZXQiLCJyZW1vdmUiLCJsb2FkIiwic2F2ZSJdLHNxbDp7dmVyc2lvbjoiMSIsY3JlYXRlOiJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwZXJzaXN0X2RhdGEgKGsgVEVYVCBVTklRVUUgTk9UIE5VTEwgUFJJTUFSWSBLRVksIHYgVEVYVCBOT1QgTlVMTCkiLGdldDoiU0VMRUNUIHYgRlJPTSBwZXJzaXN0X2RhdGEgV0hFUkUgayA9ID8iLHNldDoiSU5TRVJUIElOVE8gcGVyc2lzdF9kYXRhKGssIHYpIFZBTFVFUyAoPywgPykiLHJlbW92ZToiREVMRVRFIEZST00gcGVyc2lzdF9kYXRhIFdIRVJFIGsgPSA/In0sZmxhc2g6e2Rpdl9pZDoiX3BlcnNpc3RfZmxhc2hfd3JhcCIsaWQ6Il9wZXJzaXN0X2ZsYXNoIixwYXRoOiJwZXJzaXN0LnN3ZiIsc2l6ZTp7dzoxLGg6MX0sYXJnczp7YXV0b3N0YXJ0OiEwfX19LGI9e2dlYXJzOntzaXplOi0xLHRlc3Q6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5nb29nbGUmJndpbmRvdy5nb29nbGUuZ2VhcnM/ITA6ITF9Y2F0Y2goYSl7cmV0dXJuITF9fSxtZXRob2RzOnt0cmFuc2FjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmRiO2IuZXhlY3V0ZSgiQkVHSU4iKS5jbG9zZSgpLGEuY2FsbCh0aGlzLGIpLGIuZXhlY3V0ZSgiQ09NTUlUIikuY2xvc2UoKX0saW5pdDpmdW5jdGlvbigpe3ZhciBhO2E9dGhpcy5kYj1nb29nbGUuZ2VhcnMuZmFjdG9yeS5jcmVhdGUoImJldGEuZGF0YWJhc2UiKSxhLm9wZW4oYyh0aGlzLm5hbWUpKSxhLmV4ZWN1dGUoQy5zcWwuY3JlYXRlKS5jbG9zZSgpfSxnZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9Qy5zcWwuZ2V0O2ImJnRoaXMudHJhbnNhY3Rpb24oZnVuY3Rpb24oZil7dmFyIGcsaDtkPWYuZXhlY3V0ZShlLFthXSksZz1kLmlzVmFsaWRSb3coKSxoPWc/ZC5maWVsZCgwKTpudWxsLGQuY2xvc2UoKSxiLmNhbGwoY3x8dGhpcyxnLGgpfSl9LHNldDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1DLnNxbC5yZW1vdmUsZj1DLnNxbC5zZXQ7dGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihnKXtnLmV4ZWN1dGUoZSxbYV0pLmNsb3NlKCksZy5leGVjdXRlKGYsW2EsYl0pLmNsb3NlKCksYyYmYy5jYWxsKGR8fHRoaXMsITAsYil9KX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1DLnNxbC5nZXQ7c3FsPUMuc3FsLnJlbW92ZSx2YWw9bnVsbCxpc192YWxpZD0hMSx0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe2ImJihyPWUuZXhlY3V0ZShkLFthXSksaXNfdmFsaWQ9ci5pc1ZhbGlkUm93KCksdmFsPWlzX3ZhbGlkP3IuZmllbGQoMCk6bnVsbCxyLmNsb3NlKCkpLCghYnx8aXNfdmFsaWQpJiZlLmV4ZWN1dGUoc3FsLFthXSkuY2xvc2UoKSxiJiZiLmNhbGwoY3x8dGhpcyxpc192YWxpZCx2YWwpfSl9fX0sd2hhdHdnX2RiOntzaXplOjIwNDgwMCx0ZXN0OmZ1bmN0aW9uKCl7dHJ5e3ZhciBhPSJQZXJzaXN0SlMgVGVzdCIsYz0iUGVyc2lzdGVudCBkYXRhYmFzZSB0ZXN0LiI7cmV0dXJuIHdpbmRvdy5vcGVuRGF0YWJhc2UmJndpbmRvdy5vcGVuRGF0YWJhc2UoYSxDLnNxbC52ZXJzaW9uLGMsYi53aGF0d2dfZGIuc2l6ZSk/ITA6ITF9Y2F0Y2goZCl7cmV0dXJuITF9fSxtZXRob2RzOnt0cmFuc2FjdGlvbjpmdW5jdGlvbihhKXt0aGlzLmRiX2NyZWF0ZWR8fHRoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24oYSl7YS5leGVjdXRlU3FsKEMuc3FsLmNyZWF0ZSxbXSxmdW5jdGlvbigpe3RoaXMuZGJfY3JlYXRlZD0hMH0pfSxlKSx0aGlzLmRiLnRyYW5zYWN0aW9uKGEpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5kYj1vcGVuRGF0YWJhc2UodGhpcy5uYW1lLEMuc3FsLnZlcnNpb24sdGhpcy5vLmFib3V0fHwiUGVyc2lzdGVudCBzdG9yYWdlIGZvciAiK3RoaXMubmFtZSx0aGlzLm8uc2l6ZXx8Yi53aGF0d2dfZGIuc2l6ZSl9LGdldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Qy5zcWwuZ2V0O2ImJihjPWN8fHRoaXMsdGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoZCxbYV0sZnVuY3Rpb24oYSxkKXtkLnJvd3MubGVuZ3RoPjA/Yi5jYWxsKGMsITAsZC5yb3dzLml0ZW0oMCkudik6Yi5jYWxsKGMsITEsbnVsbCl9KX0pKX0sc2V0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUMuc3FsLnJlbW92ZSxmPUMuc3FsLnNldDtyZXR1cm4gdGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihnKXtnLmV4ZWN1dGVTcWwoZSxbYV0sZnVuY3Rpb24oKXtnLmV4ZWN1dGVTcWwoZixbYSxiXSxmdW5jdGlvbigpe2MmJmMuY2FsbChkfHx0aGlzLCEwLGIpfSl9KX0pLGJ9LHJlbW92ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Qy5zcWwuZ2V0O3NxbD1DLnNxbC5yZW1vdmUsdGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtiP2UuZXhlY3V0ZVNxbChkLFthXSxmdW5jdGlvbihkLGUpe2lmKGUucm93cy5sZW5ndGg+MCl7dmFyIGY9ZS5yb3dzLml0ZW0oMCkudjtkLmV4ZWN1dGVTcWwoc3FsLFthXSxmdW5jdGlvbigpe2IuY2FsbChjfHx0aGlzLCEwLGYpfSl9ZWxzZSBiLmNhbGwoY3x8dGhpcywhMSxudWxsKX0pOmUuZXhlY3V0ZVNxbChzcWwsW2FdKX0pfX19LGdsb2JhbHN0b3JhZ2U6e3NpemU6NTI0Mjg4MCx0ZXN0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cuZ2xvYmFsU3RvcmFnZT8hMDohMX1jYXRjaChhKXtyZXR1cm4hMX19LG1ldGhvZHM6e2tleTpmdW5jdGlvbihhKXtyZXR1cm4gYyh0aGlzLm5hbWUpK2MoYSl9LGluaXQ6ZnVuY3Rpb24oKXthbGVydCgiZG9tYWluID0gIit0aGlzLm8uZG9tYWluKSx0aGlzLnN0b3JlPWdsb2JhbFN0b3JhZ2VbdGhpcy5vLmRvbWFpbl19LGdldDpmdW5jdGlvbihhLGIsYyl7YT10aGlzLmtleShhKSxiJiZiLmNhbGwoY3x8dGhpcywhMCx0aGlzLnN0b3JlLmdldEl0ZW0oYSkpfSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLmtleShhKSx0aGlzLnN0b3JlLnNldEl0ZW0oYSxiKSxjJiZjLmNhbGwoZHx8dGhpcywhMCxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDthPXRoaXMua2V5KGEpLGQ9dGhpcy5zdG9yZVthXSx0aGlzLnN0b3JlLnJlbW92ZUl0ZW0oYSksYiYmYi5jYWxsKGN8fHRoaXMsbnVsbCE9PWQsZCl9fX0sbG9jYWxzdG9yYWdlOntzaXplOi0xLHRlc3Q6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U/ITA6ITF9Y2F0Y2goYSl7cmV0dXJuITF9fSxtZXRob2RzOntrZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGModGhpcy5uYW1lKStjKGEpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5zdG9yZT1sb2NhbFN0b3JhZ2V9LGdldDpmdW5jdGlvbihhLGIsYyl7YT10aGlzLmtleShhKSxiJiZiLmNhbGwoY3x8dGhpcywhMCx0aGlzLnN0b3JlLmdldEl0ZW0oYSkpfSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLmtleShhKSx0aGlzLnN0b3JlLnNldEl0ZW0oYSxiKSxjJiZjLmNhbGwoZHx8dGhpcywhMCxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDthPXRoaXMua2V5KGEpLGQ9dGhpcy5zdG9yZS5nZXRJdGVtKGEpLHRoaXMuc3RvcmUucmVtb3ZlSXRlbShhKSxiJiZiLmNhbGwoY3x8dGhpcyxudWxsIT09ZCxkKX19fSxpZTp7cHJlZml4OiJfcGVyc2lzdF9kYXRhLSIsc2l6ZTo2NTUzNix0ZXN0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cuQWN0aXZlWE9iamVjdD8hMDohMX1jYXRjaChhKXtyZXR1cm4hMX19LG1ha2VfdXNlcmRhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuaWQ9YSxiLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGIuYWRkQmVoYXZpb3IoIiNkZWZhdWx0I3VzZXJkYXRhIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiKSxifSxtZXRob2RzOntpbml0OmZ1bmN0aW9uKCl7dmFyIGE9Yi5pZS5wcmVmaXgrYyh0aGlzLm5hbWUpO3RoaXMuZWw9Yi5pZS5tYWtlX3VzZXJkYXRhKGEpLHRoaXMuby5kZWZlciYmdGhpcy5sb2FkKCl9LGdldDpmdW5jdGlvbihhLGIsZCl7dmFyIGU7CmE9YyhhKSx0aGlzLm8uZGVmZXJ8fHRoaXMubG9hZCgpLGU9dGhpcy5lbC5nZXRBdHRyaWJ1dGUoYSksYiYmYi5jYWxsKGR8fHRoaXMsZT8hMDohMSxlKX0sc2V0OmZ1bmN0aW9uKGEsYixkLGUpe2E9YyhhKSx0aGlzLmVsLnNldEF0dHJpYnV0ZShhLGIpLHRoaXMuby5kZWZlcnx8dGhpcy5zYXZlKCksZCYmZC5jYWxsKGV8fHRoaXMsITAsYil9LHJlbW92ZTpmdW5jdGlvbihhLGIsZCl7dmFyIGU7YT1jKGEpLHRoaXMuby5kZWZlcnx8dGhpcy5sb2FkKCksZT10aGlzLmVsLmdldEF0dHJpYnV0ZShhKSx0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZShhKSx0aGlzLm8uZGVmZXJ8fHRoaXMuc2F2ZSgpLGImJmIuY2FsbChkfHx0aGlzLGU/ITA6ITEsZSl9LGxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsLmxvYWQoYyh0aGlzLm5hbWUpKX0sc2F2ZTpmdW5jdGlvbigpe3RoaXMuZWwuc2F2ZShjKHRoaXMubmFtZSkpfX19LGNvb2tpZTp7ZGVsaW06IjoiLHNpemU6NGUzLHRlc3Q6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGEuQ29va2llLmVuYWJsZWQ/ITA6ITF9Y2F0Y2goYil7cmV0dXJuITF9fSxtZXRob2RzOntrZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubmFtZStiLmNvb2tpZS5kZWxpbSthfSxnZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2E9dGhpcy5rZXkoYSksZD1mLmdldChhKSxiJiZiLmNhbGwoY3x8dGhpcyxudWxsIT1kLGQpfSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLmtleShhKSxmLnNldChhLGIsdGhpcy5vKSxjJiZjLmNhbGwoZHx8dGhpcywhMCxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBiO2E9dGhpcy5rZXkoYSksYj1mLnJlbW92ZShhKSxjJiZjLmNhbGwoZHx8dGhpcyxudWxsIT1iLGIpfX19LGZsYXNoOnt0ZXN0OmZ1bmN0aW9uKCl7dHJ5e2lmKCFkZWNvbmNlcHR8fCFkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbClyZXR1cm4hMTt2YXIgYT1kZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uKCkubWFqb3I7cmV0dXJuIGE+PTg/ITA6ITF9Y2F0Y2goYil7cmV0dXJuITF9fSxtZXRob2RzOntpbml0OmZ1bmN0aW9uKCl7aWYoIWIuZmxhc2guZWwpe3ZhciBhLGMsZCxlPUMuZmxhc2g7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLmlkPWUuZGl2X2lkLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCksYT1uZXcgZGVjb25jZXB0LlNXRk9iamVjdCh0aGlzLm8uc3dmX3BhdGh8fGUucGF0aCxlLmlkLGUuc2l6ZS53LGUuc2l6ZS5oLCI4Iik7Zm9yKGMgaW4gZS5hcmdzKWEuYWRkVmFyaWFibGUoYyxlLmFyZ3NbY10pO2Eud3JpdGUoZCksYi5mbGFzaC5lbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmlkKX10aGlzLmVsPWIuZmxhc2guZWx9LGdldDpmdW5jdGlvbihhLGIsZCl7dmFyIGU7YT1jKGEpLGU9dGhpcy5lbC5nZXQodGhpcy5uYW1lLGEpLGImJmIuY2FsbChkfHx0aGlzLG51bGwhPT1lLGUpfSxzZXQ6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY7YT1jKGEpLGY9dGhpcy5lbC5zZXQodGhpcy5uYW1lLGEsYiksZCYmZC5jYWxsKGV8fHRoaXMsITAsYil9LHJlbW92ZTpmdW5jdGlvbihhLGIsZCl7dmFyIGU7YT1jKGEpLGU9dGhpcy5lbC5yZW1vdmUodGhpcy5uYW1lLGEpLGImJmIuY2FsbChkfHx0aGlzLCEwLGUpfX19fTt2YXIgZD1mdW5jdGlvbigpe3ZhciBjLGQsZixnLGg9Qy5tZXRob2RzLGk9Qy5zZWFyY2hfb3JkZXI7Zm9yKGM9MCxkPWgubGVuZ3RoO2Q+YztjKyspYS5TdG9yZS5wcm90b3R5cGVbaFtjXV09ZTtmb3IoYS50eXBlPW51bGwsYS5zaXplPS0xLGM9MCxkPWkubGVuZ3RoOyFhLnR5cGUmJmQ+YztjKyspaWYoZj1iW2lbY11dLGYudGVzdCgpKXthLnR5cGU9aVtjXSxhLnNpemU9Zi5zaXplO2ZvcihnIGluIGYubWV0aG9kcylhLlN0b3JlLnByb3RvdHlwZVtnXT1mLm1ldGhvZHNbZ119YS5faW5pdD0hMH07cmV0dXJuIGE9e1ZFUlNJT046Zyx0eXBlOm51bGwsc2l6ZTowLGFkZDpmdW5jdGlvbihhKXtiW2EuaWRdPWEsQy5zZWFyY2hfb3JkZXI9W2EuaWRdLmNvbmNhdChDLnNlYXJjaF9vcmRlciksZCgpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGM9aChDLnNlYXJjaF9vcmRlcixhKTswPmN8fChDLnNlYXJjaF9vcmRlci5zcGxpY2UoYywxKSxkZWxldGUgYlthXSxkKCkpfSxDb29raWU6ZixTdG9yZTpmdW5jdGlvbihiLGMpe2lmKCFDLm5hbWVfcmUuZXhlYyhiKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbmFtZSIpO2lmKCFhLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJObyBzdWl0YWJsZSBzdG9yYWdlIGZvdW5kIik7Yz1jfHx7fSx0aGlzLm5hbWU9YixjLmRvbWFpbj1jLmRvbWFpbnx8bG9jYXRpb24uaG9zdHx8ImxvY2FsaG9zdCIsYy5kb21haW49Yy5kb21haW4ucmVwbGFjZSgvOlxkKyQvLCIiKSx0aGlzLm89YyxjLmV4cGlyZXM9Yy5leHBpcmVzfHw3MzAsYy5wYXRoPWMucGF0aHx8Ii8iLHRoaXMuaW5pdCgpfX0sZCgpLGF9KCksInVuZGVmaW5lZCI9PXR5cGVvZiBkZWNvbmNlcHQpdmFyIGRlY29uY2VwdD1uZXcgT2JqZWN0OyJ1bmRlZmluZWQiPT10eXBlb2YgZGVjb25jZXB0LnV0aWwmJihkZWNvbmNlcHQudXRpbD1uZXcgT2JqZWN0KSwidW5kZWZpbmVkIj09dHlwZW9mIGRlY29uY2VwdC5TV0ZPYmplY3RVdGlsJiYoZGVjb25jZXB0LlNXRk9iamVjdFV0aWw9bmV3IE9iamVjdCksZGVjb25jZXB0LlNXRk9iamVjdD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxqKXtpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCl7dGhpcy5ERVRFQ1RfS0VZPWo/ajoiZGV0ZWN0Zmxhc2giLHRoaXMuc2tpcERldGVjdD1kZWNvbmNlcHQudXRpbC5nZXRSZXF1ZXN0UGFyYW1ldGVyKHRoaXMuREVURUNUX0tFWSksdGhpcy5wYXJhbXM9bmV3IE9iamVjdCx0aGlzLnZhcmlhYmxlcz1uZXcgT2JqZWN0LHRoaXMuYXR0cmlidXRlcz1uZXcgQXJyYXksYSYmdGhpcy5zZXRBdHRyaWJ1dGUoInN3ZiIsYSksYiYmdGhpcy5zZXRBdHRyaWJ1dGUoImlkIixiKSxjJiZ0aGlzLnNldEF0dHJpYnV0ZSgid2lkdGgiLGMpLGQmJnRoaXMuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGQpLGUmJnRoaXMuc2V0QXR0cmlidXRlKCJ2ZXJzaW9uIixuZXcgZGVjb25jZXB0LlBsYXllclZlcnNpb24oZS50b1N0cmluZygpLnNwbGl0KCIuIikpKSx0aGlzLmluc3RhbGxlZFZlcj1kZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uKCksIXdpbmRvdy5vcGVyYSYmZG9jdW1lbnQuYWxsJiZ0aGlzLmluc3RhbGxlZFZlci5tYWpvcj43JiYoZGVjb25jZXB0LlNXRk9iamVjdC5kb1ByZXBVbmxvYWQ9ITApLGYmJnRoaXMuYWRkUGFyYW0oImJnY29sb3IiLGYpO3ZhciBrPWc/ZzoiaGlnaCI7dGhpcy5hZGRQYXJhbSgicXVhbGl0eSIsayksdGhpcy5zZXRBdHRyaWJ1dGUoInVzZUV4cHJlc3NJbnN0YWxsIiwhMSksdGhpcy5zZXRBdHRyaWJ1dGUoImRvRXhwcmVzc0luc3RhbGwiLCExKTt2YXIgbD1oP2g6d2luZG93LmxvY2F0aW9uO3RoaXMuc2V0QXR0cmlidXRlKCJ4aVJlZGlyZWN0VXJsIixsKSx0aGlzLnNldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiLCIiKSxpJiZ0aGlzLnNldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiLGkpfX0sZGVjb25jZXB0LlNXRk9iamVjdC5wcm90b3R5cGU9e3VzZUV4cHJlc3NJbnN0YWxsOmZ1bmN0aW9uKGEpe3RoaXMueGlTV0ZQYXRoPWE/YToiZXhwcmVzc2luc3RhbGwuc3dmIix0aGlzLnNldEF0dHJpYnV0ZSgidXNlRXhwcmVzc0luc3RhbGwiLCEwKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5hdHRyaWJ1dGVzW2FdPWJ9LGdldEF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2FdfSxhZGRQYXJhbTpmdW5jdGlvbihhLGIpe3RoaXMucGFyYW1zW2FdPWJ9LGdldFBhcmFtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmFtc30sYWRkVmFyaWFibGU6ZnVuY3Rpb24oYSxiKXt0aGlzLnZhcmlhYmxlc1thXT1ifSxnZXRWYXJpYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YXJpYWJsZXNbYV19LGdldFZhcmlhYmxlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhcmlhYmxlc30sZ2V0VmFyaWFibGVQYWlyczpmdW5jdGlvbigpe3ZhciBhLGI9bmV3IEFycmF5LGM9dGhpcy5nZXRWYXJpYWJsZXMoKTtmb3IoYSBpbiBjKWIucHVzaChhKyI9IitjW2FdKTtyZXR1cm4gYn0sZ2V0U1dGSFRNTDpmdW5jdGlvbigpe3ZhciBhPSIiO2lmKG5hdmlnYXRvci5wbHVnaW5zJiZuYXZpZ2F0b3IubWltZVR5cGVzJiZuYXZpZ2F0b3IubWltZVR5cGVzLmxlbmd0aCl7dGhpcy5nZXRBdHRyaWJ1dGUoImRvRXhwcmVzc0luc3RhbGwiKSYmKHRoaXMuYWRkVmFyaWFibGUoIk1NcGxheWVyVHlwZSIsIlBsdWdJbiIpLHRoaXMuc2V0QXR0cmlidXRlKCJzd2YiLHRoaXMueGlTV0ZQYXRoKSksYT0nPGVtYmVkIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiBzcmM9IicrdGhpcy5nZXRBdHRyaWJ1dGUoInN3ZiIpKyciIHdpZHRoPSInK3RoaXMuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKyciIGhlaWdodD0iJyt0aGlzLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IikrJyInLGErPScgaWQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoImlkIikrJyIgbmFtZT0iJyt0aGlzLmdldEF0dHJpYnV0ZSgiaWQiKSsnIiAnO3ZhciBiPXRoaXMuZ2V0UGFyYW1zKCk7Zm9yKHZhciBjIGluIGIpYSs9W2NdKyc9IicrYltjXSsnIiAnO3ZhciBkPXRoaXMuZ2V0VmFyaWFibGVQYWlycygpLmpvaW4oIiYiKTtkLmxlbmd0aD4wJiYoYSs9J2ZsYXNodmFycz0iJytkKyciJyksYSs9Ii8+In1lbHNle3RoaXMuZ2V0QXR0cmlidXRlKCJkb0V4cHJlc3NJbnN0YWxsIikmJih0aGlzLmFkZFZhcmlhYmxlKCJNTXBsYXllclR5cGUiLCJBY3RpdmVYIiksdGhpcy5zZXRBdHRyaWJ1dGUoInN3ZiIsdGhpcy54aVNXRlBhdGgpKSxhPSc8b2JqZWN0IGlkPSInK3RoaXMuZ2V0QXR0cmlidXRlKCJpZCIpKyciIGNsYXNzaWQ9ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIgd2lkdGg9IicrdGhpcy5nZXRBdHRyaWJ1dGUoIndpZHRoIikrJyIgaGVpZ2h0PSInK3RoaXMuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSsnIj4nLGErPSc8cGFyYW0gbmFtZT0ibW92aWUiIHZhbHVlPSInK3RoaXMuZ2V0QXR0cmlidXRlKCJzd2YiKSsnIiAvPic7dmFyIGI9dGhpcy5nZXRQYXJhbXMoKTtmb3IodmFyIGMgaW4gYilhKz0nPHBhcmFtIG5hbWU9IicrYysnIiB2YWx1ZT0iJytiW2NdKyciIC8+Jzt2YXIgZD10aGlzLmdldFZhcmlhYmxlUGFpcnMoKS5qb2luKCImIik7ZC5sZW5ndGg+MCYmKGErPSc8cGFyYW0gbmFtZT0iZmxhc2h2YXJzIiB2YWx1ZT0iJytkKyciIC8+JyksYSs9Ijwvb2JqZWN0PiJ9cmV0dXJuIGF9LHdyaXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0QXR0cmlidXRlKCJ1c2VFeHByZXNzSW5zdGFsbCIpKXt2YXIgYj1uZXcgZGVjb25jZXB0LlBsYXllclZlcnNpb24oWzYsMCw2NV0pO3RoaXMuaW5zdGFsbGVkVmVyLnZlcnNpb25Jc1ZhbGlkKGIpJiYhdGhpcy5pbnN0YWxsZWRWZXIudmVyc2lvbklzVmFsaWQodGhpcy5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSkmJih0aGlzLnNldEF0dHJpYnV0ZSgiZG9FeHByZXNzSW5zdGFsbCIsITApLHRoaXMuYWRkVmFyaWFibGUoIk1NcmVkaXJlY3RVUkwiLGVzY2FwZSh0aGlzLmdldEF0dHJpYnV0ZSgieGlSZWRpcmVjdFVybCIpKSksZG9jdW1lbnQudGl0bGU9ZG9jdW1lbnQudGl0bGUuc2xpY2UoMCw0NykrIiAtIEZsYXNoIFBsYXllciBJbnN0YWxsYXRpb24iLHRoaXMuYWRkVmFyaWFibGUoIk1NZG9jdGl0bGUiLGRvY3VtZW50LnRpdGxlKSl9aWYodGhpcy5za2lwRGV0ZWN0fHx0aGlzLmdldEF0dHJpYnV0ZSgiZG9FeHByZXNzSW5zdGFsbCIpfHx0aGlzLmluc3RhbGxlZFZlci52ZXJzaW9uSXNWYWxpZCh0aGlzLmdldEF0dHJpYnV0ZSgidmVyc2lvbiIpKSl7dmFyIGM9InN0cmluZyI9PXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpOmE7cmV0dXJuIGMuaW5uZXJIVE1MPXRoaXMuZ2V0U1dGSFRNTCgpLCEwfXJldHVybiIiIT10aGlzLmdldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiKSYmZG9jdW1lbnQubG9jYXRpb24ucmVwbGFjZSh0aGlzLmdldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiKSksITF9fSxkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKFswLDAsMF0pO2lmKG5hdmlnYXRvci5wbHVnaW5zJiZuYXZpZ2F0b3IubWltZVR5cGVzLmxlbmd0aCl7dmFyIGI9bmF2aWdhdG9yLnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCJdO2ImJmIuZGVzY3JpcHRpb24mJihhPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihiLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyhbYS16QS1aXXxccykrLywiIikucmVwbGFjZSgvKFxzK3J8XHMrYlswLTldKykvLCIuIikuc3BsaXQoIi4iKSkpfWVsc2V7dHJ5e3ZhciBjPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC43Iil9Y2F0Y2goZCl7dHJ5e3ZhciBjPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC42Iik7YT1uZXcgZGVjb25jZXB0LlBsYXllclZlcnNpb24oWzYsMCwyMV0pLGMuQWxsb3dTY3JpcHRBY2Nlc3M9ImFsd2F5cyJ9Y2F0Y2goZCl7aWYoNj09YS5tYWpvcilyZXR1cm4gYX10cnl7Yz1uZXcgQWN0aXZlWE9iamVjdCgiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2giKX1jYXRjaChkKXt9fW51bGwhPWMmJihhPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihjLkdldFZhcmlhYmxlKCIkdmVyc2lvbiIpLnNwbGl0KCIgIilbMV0uc3BsaXQoIiwiKSkpfXJldHVybiBhfSxkZWNvbmNlcHQuUGxheWVyVmVyc2lvbj1mdW5jdGlvbihhKXt0aGlzLm1ham9yPW51bGwhPWFbMF0/cGFyc2VJbnQoYVswXSk6MCx0aGlzLm1pbm9yPW51bGwhPWFbMV0/cGFyc2VJbnQoYVsxXSk6MCx0aGlzLnJldj1udWxsIT1hWzJdP3BhcnNlSW50KGFbMl0pOjB9LGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uLnByb3RvdHlwZS52ZXJzaW9uSXNWYWxpZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYWpvcjxhLm1ham9yPyExOnRoaXMubWFqb3I+YS5tYWpvcj8hMDp0aGlzLm1pbm9yPGEubWlub3I/ITE6dGhpcy5taW5vcj5hLm1pbm9yPyEwOnRoaXMucmV2PGEucmV2PyExOiEwfSxkZWNvbmNlcHQudXRpbD17Z2V0UmVxdWVzdFBhcmFtZXRlcjpmdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5sb2NhdGlvbi5zZWFyY2h8fGRvY3VtZW50LmxvY2F0aW9uLmhhc2g7aWYoYilmb3IodmFyIGM9Yi5zdWJzdHJpbmcoMSkuc3BsaXQoIiYiKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoY1tkXS5zdWJzdHJpbmcoMCxjW2RdLmluZGV4T2YoIj0iKSk9PWEpcmV0dXJuIGNbZF0uc3Vic3RyaW5nKGNbZF0uaW5kZXhPZigiPSIpKzEpO3JldHVybiIifX0sZGVjb25jZXB0LlNXRk9iamVjdFV0aWwuY2xlYW51cFNXRnM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIk9CSkVDVCIpLGI9MDtiPGEubGVuZ3RoO2IrKyl7YVtiXS5zdHlsZS5kaXNwbGF5PSJub25lIjtmb3IodmFyIGMgaW4gYVtiXSkiZnVuY3Rpb24iPT10eXBlb2YgYVtiXVtjXSYmKGFbYl1bY109ZnVuY3Rpb24oKXt9KX19LGRlY29uY2VwdC5TV0ZPYmplY3QuZG9QcmVwVW5sb2FkJiYoZGVjb25jZXB0LlNXRk9iamVjdFV0aWwucHJlcFVubG9hZD1mdW5jdGlvbigpe19fZmxhc2hfdW5sb2FkSGFuZGxlcj1mdW5jdGlvbigpe30sX19mbGFzaF9zYXZlZFVubG9hZEhhbmRsZXI9ZnVuY3Rpb24oKXt9LHdpbmRvdy5hdHRhY2hFdmVudCgib251bmxvYWQiLGRlY29uY2VwdC5TV0ZPYmplY3RVdGlsLmNsZWFudXBTV0ZzKX0sd2luZG93LmF0dGFjaEV2ZW50KCJvbmJlZm9yZXVubG9hZCIsZGVjb25jZXB0LlNXRk9iamVjdFV0aWwucHJlcFVubG9hZCkpLG51bGw9PUFycmF5LnByb3RvdHlwZS5wdXNoJiYoQXJyYXkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbdGhpcy5sZW5ndGhdPWEsdGhpcy5sZW5ndGh9KTt2YXIgZ2V0UXVlcnlQYXJhbVZhbHVlPWRlY29uY2VwdC51dGlsLmdldFJlcXVlc3RQYXJhbWV0ZXIsRmxhc2hPYmplY3Q9ZGVjb25jZXB0LlNXRk9iamVjdCxTV0ZPYmplY3Q9ZGVjb25jZXB0LlNXRk9iamVjdCwkZmg9cm9vdC4kZmh8fHt9OyJvYmplY3QiPT10eXBlb2YgZmhfYXBwX3Byb3BzJiYoJGZoLmFwcF9wcm9wcz1maF9hcHBfcHJvcHMpLCRmaC5sZWdhY3k9e307dmFyIGRlZmF1bHRhcmdzPXtzdWNjZXNzOmZ1bmN0aW9uKCl7fSxmYWlsdXJlOmZ1bmN0aW9uKCl7fSxwYXJhbXM6e319LGhhbmRsZWFyZ3M9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtudWxsLG51bGwsbnVsbF0sZT1bbnVsbCxudWxsLG51bGxdLGY9YS5sZW5ndGg7Zj4yPyhlWzBdPWFbZi0zXSxlWzFdPWFbZi0yXSxlWzJdPWFbZi0xXSk6Mj09Zj8oZVsxXT1hWzBdLGVbMl09YVsxXSk6MT09ZiYmKGVbMl09YVswXSk7Zm9yKHZhciBnPTAsaD0wOzM+ZztnKyspe3ZhciBpPWVbZ10saj10eXBlb2YgaTshaXx8MCE9aHx8Im9iamVjdCIhPWomJiJib29sZWFuIiE9aj9pJiYiZnVuY3Rpb24iPT1qJiYoaD0wPT1oPzE6aCxkW2grK109aSk6ZFtoKytdPWl9aWYobnVsbD09ZFswXSlkWzBdPWI/YjpkZWZhdWx0YXJncy5wYXJhbXM7ZWxzZXt2YXIgaz1kWzBdO2suX2RlZmF1bHRzPVtdO2Zvcih2YXIgbCBpbiBiKWIuaGFzT3duUHJvcGVydHkobCkmJiJ1bmRlZmluZWQiPT10eXBlb2Yga1tsXSYmKGtbbF09YltsXSxrLl9kZWZhdWx0cy5wdXNoKGwpKX1kWzFdPW51bGw9PWRbMV0/ZGVmYXVsdGFyZ3Muc3VjY2VzczpkWzFdLGRbMl09bnVsbD09ZFsyXT9kZWZhdWx0YXJncy5mYWlsdXJlOmRbMl0sYyhkWzBdLGRbMV0sZFsyXSl9LGV2ZW50U3VwcG9ydGVkPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImkiKTtyZXR1cm4gYSBpbiBifHxiLnNldEF0dHJpYnV0ZSYmYi5zZXRBdHRyaWJ1dGUoYSwicmV0dXJuOyIpfHwhMX0sX19pc19yZWFkeT0hMSxfX3JlYWR5X2xpc3Q9W10sX19yZWFkeV9ib3VuZD0hMSxib3hwcmVmaXg9Ii9ib3gvc3J2LzEuMS8iO19nZXRIb3N0UHJlZml4PWZ1bmN0aW9uKCl7cmV0dXJuICRmaC5hcHBfcHJvcHMuaG9zdCtib3hwcmVmaXh9O3ZhciBfX3JlYWR5PWZ1bmN0aW9uKCl7aWYoIV9faXNfcmVhZHkmJihfX2lzX3JlYWR5PSEwLF9fcmVhZHlfbGlzdCkpe3RyeXtmb3IoO19fcmVhZHlfbGlzdFswXTspX19yZWFkeV9saXN0LnNoaWZ0KCkuYXBwbHkoZG9jdW1lbnQsW10pfWZpbmFsbHl7fV9fcmVhZHlfbGlzdD1udWxsfX0sX19iaW5kX3JlYWR5PWZ1bmN0aW9uKCl7X19yZWFkeV9ib3VuZHx8KF9fcmVhZHlfYm91bmQ9ITAsZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhcmd1bWVudHMuY2FsbGVlLCExKSxfX3JlYWR5KCl9LCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsX19yZWFkeSwhMSkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiYoZG9jdW1lbnQuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXsiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmKGRvY3VtZW50LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGFyZ3VtZW50cy5jYWxsZWUpLF9fcmVhZHkoKSl9KSx3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsX19yZWFkeSksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZ3aW5kb3c9PXdpbmRvdy50b3AmJmZ1bmN0aW9uKCl7aWYoIV9faXNfcmVhZHkpe3RyeXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChhKXtyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsMCl9X19yZWFkeSgpfX0oKSkpfTtfX2JpbmRfcmVhZHkoKTt2YXIgX21hcFNjcmlwdExvYWRlZD0idW5kZWZpbmVkIiE9dHlwZW9mIGdvb2dsZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBnb29nbGUubWFwcyYmInVuZGVmaW5lZCIhPXR5cGVvZiBnb29nbGUubWFwcy5NYXAsX21hcExvYWRTdWNjZXNzUGFyYW1ldGVycz1bXSxfbWFwU2NyaXB0TG9hZGluZz0hMSxfbG9hZE1hcFNjcmlwdD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2EudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt2YXIgYj1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDtiPSJodHRwOiI9PT1ifHwiaHR0cHM6Ij09PWI/YjoiaHR0cHM6IixhLnNyYz1iKyIvL21hcHMuZ29vZ2xlLmNvbS9tYXBzL2FwaS9qcz9zZW5zb3I9dHJ1ZSZjYWxsYmFjaz0kZmguX21hcExvYWRlZCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKX0sYXVkaW9fb2JqPW51bGwsYXVkaW9faXNfcGxheWluZz0hMTskZmguX19kZXN0X189e3NlbmQ6ZnVuY3Rpb24oYSxiLGMpe2MoInNlbmRfbm9zdXBwb3J0Iil9LG5vdGlmeTpmdW5jdGlvbihhLGIsYyl7Yygibm90aWZ5X25vc3VwcG9ydCIpfSxjb250YWN0czpmdW5jdGlvbihhLGIsYyl7YygiY29udGFjdHNfbm9zdXBwb3J0Iil9LGFjYzpmdW5jdGlvbihhLGIsYyl7YygiYWNjX25vc3VwcG9ydCIpfSxnZW86ZnVuY3Rpb24oYSxiLGMpe2MoImdlb19ub3N1cHBvcnQiKX0sY2FtOmZ1bmN0aW9uKGEsYixjKXtjKCJjYW1fbm9zdXBwb3J0Iil9LGRldmljZTpmdW5jdGlvbihhLGIsYyl7YygiZGV2aWNlX25vc3VwcG9ydCIpfSxsaXN0ZW46ZnVuY3Rpb24oYSxiLGMpe2MoImxpc3Rlbl9ub3N1cHBvcnQiKX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiLGMpe2MoImhhbmRsZXJzX25vX3N1cHBvcnQiKX0sZmlsZTpmdW5jdGlvbihhLGIsYyl7YygiZmlsZV9ub3N1cHBvcnQiKX0scHVzaDpmdW5jdGlvbihhLGIsYyl7YygicHVzaF9ub3N1cHBvcnQiKX0sZW52OmZ1bmN0aW9uKGEsYil7Yih7aGVpZ2h0OndpbmRvdy5pbm5lckhlaWdodCx3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aH0pfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtpZigkZmguX3BlcnNpc3R8fCgkZmguX3BlcnNpc3Q9bmV3IFBlcnNpc3QuU3RvcmUoIkZIIiskZmguYXBwX3Byb3BzLmFwcGlkLHtzd2ZfcGF0aDoiL3N0YXRpYy9jL3N0YXJ0L3N3Zi9wZXJzaXN0LnN3ZiJ9KSksIWEua2V5KXJldHVybiB2b2lkIGMoImRhdGFfbm9rZXkiKTt2YXIgZD17bG9hZDpmdW5jdGlvbigpeyRmaC5fcGVyc2lzdC5nZXQoYS5rZXksZnVuY3Rpb24oYyxkKXtiKGM/e2tleTphLmtleSx2YWw6ZH06e2tleTphLmtleSx2YWw6bnVsbH0pfSl9LHNhdmU6ZnVuY3Rpb24oKXtpZighYS52YWwpcmV0dXJuIHZvaWQgYygiZGF0YV9ub3ZhbCIpO3RyeXskZmguX3BlcnNpc3Quc2V0KGEua2V5LGEudmFsKX1jYXRjaChkKXtyZXR1cm4gdm9pZCBjKCJkYXRhX2Vycm9yIix7fSxhKX1iKCl9LHJlbW92ZTpmdW5jdGlvbigpeyRmaC5fcGVyc2lzdC5yZW1vdmUoYS5rZXksZnVuY3Rpb24oYyxkKXtiKGM/e2tleTphLmtleSx2YWw6ZH06e2tleTphLmtleSx2YWw6bnVsbH0pfSl9fTtkW2EuYWN0XT9kW2EuYWN0XSgpOmMoImRhdGFfYmFkYWN0IixhKX0sbG9nOmZ1bmN0aW9uKGEsYixjKXsidW5kZWZpbmVkIj09dHlwZW9mIGNvbnNvbGU/YygibG9nX25vc3VwcG9ydCIpOmNvbnNvbGUubG9nKGEubWVzc2FnZSl9LG9yaTpmdW5jdGlvbihhLGIsYyl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBhLmFjdHx8Imxpc3RlbiI9PWEuYWN0KWV2ZW50U3VwcG9ydGVkKCJvbm9yaWVudGF0aW9uY2hhbmdlIik/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm9yaWVudGF0aW9uY2hhbmdlIixiLCExKTpjKCJvcmlfbm9zdXBwb3J0Iix7fSxhKTtlbHNlIGlmKCJzZXQiPT1hLmFjdCl7aWYoIWEudmFsdWUpcmV0dXJuIHZvaWQgYygib3JpX25vX3ZhbHVlIix7fSxhKTsicG9ydHJhaXQiPT1hLnZhbHVlPyhkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLnN0eWxlWyItbW96LXRyYW5zZm9ybSJdPSIiLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uc3R5bGVbIi13ZWJraXQtdHJhbnNmb3JtIl09IiIsYih7b3JpZW50YXRpb246InBvcnRyYWl0In0pKTooZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsiLW1vei10cmFuc2Zvcm0iXT0icm90YXRlKDkwZGVnKSIsZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsiLXdlYmtpdC10cmFuc2Zvcm0iXT0icm90YXRlKDkwZGVnKSIsYih7b3JpZW50YXRpb246ImxhbmRzY2FwZSJ9KSl9ZWxzZSBjKCJvcmlfYmFkYWN0Iix7fSxhKX0sbWFwOmZ1bmN0aW9uKGEsYixjKXtpZighYS50YXJnZXQpcmV0dXJuIHZvaWQgYygibWFwX25vdGFyZ2V0Iix7fSxhKTtpZighYS5sYXQpcmV0dXJuIHZvaWQgYygibWFwX25vbGF0aXR1ZGUiLHt9LGEpO2lmKCFhLmxvbilyZXR1cm4gdm9pZCBjKCJtYXBfbm9sb2dpdHVkZSIse30sYSk7dmFyIGQ9YS50YXJnZXQ7aWYoInN0cmluZyI9PXR5cGVvZiBkKXt2YXIgZT1udWxsO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgalF1ZXJ5KXRyeXt2YXIgZj1qUXVlcnkoZCk7Zi5sZW5ndGg+MCYmKGU9ZlswXSl9Y2F0Y2goZyl7ZT1udWxsfW51bGw9PWUmJihlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpKSxkPWV9ZWxzZSJvYmplY3QiPT10eXBlb2YgZD8xPT09ZC5ub2RlVHlwZSYmInN0cmluZyI9PXR5cGVvZiBkLm5vZGVOYW1lfHwoZD1kWzBdKTpkPW51bGw7aWYoIWQpcmV0dXJuIHZvaWQgYygibWFwX25vY29udGFpbmVyIix7fSxhKTtpZihfbWFwU2NyaXB0TG9hZGVkKXt2YXIgaD17fTtoLnpvb209YS56b29tP2Euem9vbTo4LGguY2VudGVyPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoYS5sYXQsYS5sb24pLGgubWFwVHlwZUlkPWdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQO3ZhciBpPW5ldyBnb29nbGUubWFwcy5NYXAoZCxoKTtiKHttYXA6aX0pfWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgYiYmX21hcExvYWRTdWNjZXNzUGFyYW1ldGVycy5wdXNoKHt0YXJnZXQ6ZCxzdWNjZXNzRnVuY3Rpb246YixtT3B0aW9uczphfSksJGZoLl9tYXBMb2FkZWQ9ZnVuY3Rpb24oKXtfbWFwU2NyaXB0TG9hZGVkPSEwO2Zvcih2YXIgYT1fbWFwTG9hZFN1Y2Nlc3NQYXJhbWV0ZXJzLnNoaWZ0KCk7InVuZGVmaW5lZCIhPXR5cGVvZiBhOyl7dmFyIGI9YS5tT3B0aW9ucyxjPXt9O2Muem9vbT1iLnpvb20/Yi56b29tOjgsYy5jZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhiLmxhdCxiLmxvbiksYy5tYXBUeXBlSWQ9Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVA7dmFyIGQ9bmV3IGdvb2dsZS5tYXBzLk1hcChhLnRhcmdldCxjKTthLnN1Y2Nlc3NGdW5jdGlvbih7bWFwOmR9KSxhPV9tYXBMb2FkU3VjY2Vzc1BhcmFtZXRlcnMuc2hpZnQoKX19LF9tYXBTY3JpcHRMb2FkaW5nfHwoX21hcFNjcmlwdExvYWRpbmc9ITAsX2xvYWRNYXBTY3JpcHQoKSksc2V0VGltZW91dChmdW5jdGlvbigpe19tYXBTY3JpcHRMb2FkZWR8fGMoIm1hcF90aW1lb3V0Iix7fSxhKX0sMmU0KX0sYXVkaW86ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGw9PSFhdWRpb19vYmomJiJwbGF5Ij09YS5hY3QmJighYS5wYXRofHwiIj09YS5wYXRoKSlyZXR1cm4gdm9pZCBjKCJub19hdWRpb19wYXRoIik7dmFyIGQ9e3BsYXk6ZnVuY3Rpb24oKXtpZihudWxsPT1hdWRpb19vYmope2lmKGF1ZGlvX29iaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpLCEoYXVkaW9fb2JqLnBsYXk/ITA6ITEpKXJldHVybiB2b2lkIGMoImF1ZGlvX25vdF9zdXBwb3J0Iik7aWYoYS50eXBlKXt2YXIgZT1hdWRpb19vYmouY2FuUGxheVR5cGUoYS50eXBlKTtpZigibm8iPT1lfHwiIj09ZSlyZXR1cm4gdm9pZCBjKCJhdWRpb190eXBlX25vdF9zdXBwb3J0ZWQiKX1hdWRpb19vYmouc3JjPWEucGF0aCxhLmNvbnRyb2xzJiYoYXVkaW9fb2JqLmNvbnRyb2xzPSJjb250cm9scyIpLGEuYXV0b3BsYXkmJihhdWRpb19vYmouYXV0b3BsYXk9ImF1dG9wbGF5IiksYS5sb29wJiYoYXVkaW9fb2JqLmxvb3A9Imxvb3AiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGF1ZGlvX29iaiksYXVkaW9fb2JqLnBsYXkoKSxhdWRpb19pc19wbGF5aW5nPSEwLGIoKX1lbHNlIGEucGF0aCYmYS5wYXRoIT1hdWRpb19vYmouc3JjPyhhdWRpb19pc19wbGF5aW5nJiZkLnN0b3AoITApLGQucGxheSgpKTphdWRpb19pc19wbGF5aW5nfHwoYXVkaW9fb2JqLnBsYXkoKSxhdWRpb19pc19wbGF5aW5nPSEwLGIoKSl9LHBhdXNlOmZ1bmN0aW9uKCl7bnVsbCE9YXVkaW9fb2JqJiZhdWRpb19pc19wbGF5aW5nPygiZnVuY3Rpb24iPT10eXBlb2YgYXVkaW9fb2JqLnBhdXNlP2F1ZGlvX29iai5wYXVzZSgpOiJmdW5jdGlvbiI9PXR5cGVvZiBhdWRpb19vYmouc3RvcCYmYXVkaW9fb2JqLnN0b3AoKSxhdWRpb19pc19wbGF5aW5nPSExLGIoKSk6Yygibm9fYXVkaW9fcGxheWluZyIpfSxzdG9wOmZ1bmN0aW9uKGEpe251bGwhPWF1ZGlvX29iaj8oImZ1bmN0aW9uIj09dHlwZW9mIGF1ZGlvX29iai5zdG9wP2F1ZGlvX29iai5zdG9wKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGF1ZGlvX29iai5wYXVzZSYmYXVkaW9fb2JqLnBhdXNlKCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhdWRpb19vYmopLGF1ZGlvX29iaj1udWxsLGF1ZGlvX2lzX3BsYXlpbmc9ITEsYXx8YigpKTpjKCJub19hdWRpbyIpfX07ZFthLmFjdF0/ZFthLmFjdF0oKTpjKCJkYXRhX2JhZGFjdCIsYSl9LHdlYnZpZXc6ZnVuY3Rpb24oYSxiLGMpe2MoIndlYnZpZXdfbm9zdXBwb3J0Iil9LHJlYWR5OmZ1bmN0aW9uKGEsYil7X19iaW5kX3JlYWR5KCksX19pc19yZWFkeT9iLmFwcGx5KGRvY3VtZW50LFtdKTpfX3JlYWR5X2xpc3QucHVzaChiKX19LCRmaC5zZW5kPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse3R5cGU6ImVtYWlsIn0sJGZoLl9fZGVzdF9fLnNlbmQpfSwkZmgubm90aWZ5PWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse3R5cGU6InZpYnJhdGUifSwkZmguX19kZXN0X18ubm90aWZ5KX0sJGZoLmNvbnRhY3RzPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDoibGlzdCJ9LCRmaC5fX2Rlc3RfXy5jb250YWN0cyl9LCRmaC5hY2M9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJyZWdpc3RlciIsaW50ZXJ2YWw6MH0sJGZoLl9fZGVzdF9fLmFjYyl9LCRmaC5nZW89ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJyZWdpc3RlciIsaW50ZXJ2YWw6MH0sJGZoLl9fZGVzdF9fLmdlbyl9LCRmaC5jYW09ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJwaWN0dXJlIn0sJGZoLl9fZGVzdF9fLmNhbSl9LCRmaC5kYXRhPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDoibG9hZCJ9LCRmaC5fX2Rlc3RfXy5kYXRhKX0sJGZoLmxvZz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHttZXNzYWdlOiJub25lIn0sJGZoLl9fZGVzdF9fLmxvZyl9LCRmaC5kZXZpY2U9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18uZGV2aWNlKX0sJGZoLmxpc3Rlbj1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6ImFkZCJ9LCRmaC5fX2Rlc3RfXy5saXN0ZW4pfSwkZmgub3JpPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLm9yaSl9LCRmaC5tYXA9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ubWFwKX0sJGZoLmF1ZGlvPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLmF1ZGlvKX0sJGZoLndlYnZpZXc9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ud2Vidmlldyl9LCRmaC5yZWFkeT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy5yZWFkeSl9LCRmaC5oYW5kbGVycz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt0eXBlOiJiYWNrIn0sJGZoLl9fZGVzdF9fLmhhbmRsZXJzKX0sJGZoLmZpbGU9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJ1cGxvYWQifSwkZmguX19kZXN0X18uZmlsZSl9LCRmaC5wdXNoPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLnB1c2gpfSwkZmguZW52PWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sZnVuY3Rpb24oYSxiKXskZmguX19kZXN0X18uZW52KHt9LGZ1bmN0aW9uKGEpe2EuYXBwbGljYXRpb249JGZoLmFwcF9wcm9wcy5hcHBpZCwkZmguX2dldERldmljZUlkJiYoYS51dWlkPSRmaC5fZ2V0RGV2aWNlSWQoKSksYS5hZ2VudD1uYXZpZ2F0b3IudXNlckFnZW50fHwidW5rbm93biIsYihhKX0pfSl9LCRmaC5kZXZpY2U9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSxmdW5jdGlvbigpe30pfSwkZmguZ2VvaXA9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJnZXQifSxmdW5jdGlvbihhLGIsYyl7aWYoImdldCI9PWEuYWN0KXt2YXIgZD17aW5zdGFuY2U6JGZoLmFwcF9wcm9wcy5hcHBpZCxkb21haW46JGZoLmNsb3VkX3Byb3BzLmRvbWFpbn07JGZoLl9fYWpheCh7dXJsOl9nZXRIb3N0UHJlZml4KCkrImFjdC93aWQvZ2VvaXAvcmVzb2x2ZSIsdHlwZToiUE9TVCIsZGF0YTpKU09OLnN0cmluZ2lmeShkKSxzdWNjZXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhLmdlb2lwKWFbY109YS5nZW9pcFtjXTtiKGEpfX0pfWVsc2UgYygiZ2VvaXBfYmFkYWN0IixhKX0pfSwkZmgud2ViPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse21ldGhvZDoiR0VUIn0sZnVuY3Rpb24oYSxiLGMpe2EudXJsfHxjKCJiYWRfdXJsIiksJGZoLl9fYWpheChhLmlzX2xvY2FsP3t1cmw6YS51cmwsdHlwZToiR0VUIixkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihhKXt2YXIgYz17fTtjLnN0YXR1cz0yMDAsYy5ib2R5PWEsYihjKX0sZXJyb3I6ZnVuY3Rpb24oKXtjKCl9fTp7dXJsOl9nZXRIb3N0UHJlZml4KCkrImFjdC93aWQvd2ViIix0eXBlOiJQT1NUIixkYXRhOkpTT04uc3RyaW5naWZ5KGEpLHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7YihhKX19KX0pfSwkZmguX193ZWJ2aWV3X3dpbj12b2lkIDAsJGZoLl9fZGVzdF9fLndlYnZpZXc9ZnVuY3Rpb24oYSxiLGMpe2lmKCJhY3QiaW4gYSYmIm9wZW4iIT09YS5hY3QpImNsb3NlIj09PWEuYWN0JiYoInVuZGVmaW5lZCIhPXR5cGVvZiAkZmguX193ZWJ2aWV3X3dpbiYmKCRmaC5fX3dlYnZpZXdfd2luLmNsb3NlKCksJGZoLl9fd2Vidmlld193aW49dm9pZCAwKSxiKCJjbG9zZWQiKSk7ZWxzZXtpZighYS51cmwpcmV0dXJuIHZvaWQgYygibm9fdXJsIik7e2EudXJsfSRmaC5fX3dlYnZpZXdfd2luPXdpbmRvdy5vcGVuKGEudXJsLCJfYmxhbmsiKSxiKCJvcGVuZWQiKX19LCgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5QaG9uZUdhcHx8InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuY29yZG92YSkmJigkZmguX3JlYWR5Q2FsbGJhY2tzPVtdLCRmaC5fcmVhZHlTdGF0ZT0hMSwkZmguX19kZXN0X18ucmVhZHk9ZnVuY3Rpb24oYSxiKXtpZigkZmguX3JlYWR5U3RhdGUpdHJ5e2IoKX1jYXRjaChjKXtjb25zb2xlLmxvZygiRXJyb3IgZHVyaW5nICRmaC5yZWFkeS4gU2tpcC4gRXJyb3IgPSAiK2MubWVzc2FnZSl9ZWxzZSAkZmguX3JlYWR5Q2FsbGJhY2tzLnB1c2goYil9KSwkZmguX19kZXN0X18uZ2VvPWZ1bmN0aW9uKGEsYixjKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5nZW9sb2NhdGlvbilpZihhLmFjdCYmInJlZ2lzdGVyIiE9YS5hY3QpInVucmVnaXN0ZXIiPT1hLmFjdD8oJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyJiYobmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2goJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKSwkZmguX19kZXN0X18uX2dlb1dhdGNoZXI9dm9pZCAwKSxiKCkpOmMoImdlb19iYWRhY3QiLHt9LGEpO2Vsc2V7aWYoJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKXJldHVybiB2b2lkIGMoImdlb19pbnVzZSIse30sYSk7aWYoMD09YS5pbnRlcnZhbCYmbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbihhKXt2YXIgYz1hLmNvb3JkcyxkPXtsb246Yy5sb25naXR1ZGUsbGF0OmMubGF0aXR1ZGUsYWx0OmMuYWx0aXR1ZGUsYWNjOmMuYWNjdXJhY3ksaGVhZDpjLmhlYWRpbmcsc3BlZWQ6Yy5zcGVlZCx3aGVuOmEudGltZXN0YW1wfTtiKGQpfSxmdW5jdGlvbigpe2MoImVycm9yX2dlbyIse30sYSl9KSxhLmludGVydmFsPjApe3ZhciBkPW5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uKGEpe3ZhciBjPWEuY29vcmRzLGQ9e2xvbjpjLmxvbmdpdHVkZSxsYXQ6Yy5sYXRpdHVkZSxhbHQ6Yy5hbHRpdHVkZSxhY2M6Yy5hY2N1cmFjeSxoZWFkOmMuaGVhZGluZyxzcGVlZDpjLnNwZWVkLHdoZW46YS50aW1lc3RhbXB9O2IoZCl9LGZ1bmN0aW9uKCl7YygiZXJyb3JfZ2VvIix7fSxhKX0se2ZyZXF1ZW5jeTphLmludGVydmFsfSk7JGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyPWR9fWVsc2UgYygiZ2VvX25vc3VwcG9ydCIse30sYSl9LCRmaC5fX2Rlc3RfXy5hY2M9ZnVuY3Rpb24oYSxiKXtiKHt4OjQqTWF0aC5yYW5kb20oKS0yLHk6NCpNYXRoLnJhbmRvbSgpLTIsejo0Kk1hdGgucmFuZG9tKCktMix3aGVuOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSl9LHJvb3QuJGZoPSRmaH0odGhpcyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoKXtyZXR1cm4gZX12YXIgYz17fSxkPXtleHBvcnRzOnt9fTshZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBjPSExO3JldHVybiBmdW5jdGlvbigpe2lmKGMpdGhyb3cgbmV3IEVycm9yKCJDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuIik7Yz0hMCxhLmFwcGx5KGIsYXJndW1lbnRzKX19dmFyIGIsZSxmPXt9O2I9dGhpcyxudWxsIT1iJiYoZT1iLmFzeW5jKSxmLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYi5hc3luYz1lLGZ9O3ZhciBnPWZ1bmN0aW9uKGEsYil7aWYoYS5mb3JFYWNoKXJldHVybiBhLmZvckVhY2goYik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKz0xKWIoYVtjXSxjLGEpfSxoPWZ1bmN0aW9uKGEsYil7aWYoYS5tYXApcmV0dXJuIGEubWFwKGIpO3ZhciBjPVtdO3JldHVybiBnKGEsZnVuY3Rpb24oYSxkLGUpe2MucHVzaChiKGEsZCxlKSl9KSxjfSxpPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZWR1Y2U/YS5yZWR1Y2UoYixjKTooZyhhLGZ1bmN0aW9uKGEsZCxlKXtjPWIoYyxhLGQsZSl9KSxjKX0saj1mdW5jdGlvbihhKXtpZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXMoYSk7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmYi5wdXNoKGMpO3JldHVybiBifTsidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MubmV4dFRpY2s/KGYubmV4dFRpY2s9cHJvY2Vzcy5uZXh0VGljayxmLnNldEltbWVkaWF0ZT0idW5kZWZpbmVkIiE9dHlwZW9mIHNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGU6Zi5uZXh0VGljayk6ImZ1bmN0aW9uIj09dHlwZW9mIHNldEltbWVkaWF0ZT8oZi5uZXh0VGljaz1mdW5jdGlvbihhKXtzZXRJbW1lZGlhdGUoYSl9LGYuc2V0SW1tZWRpYXRlPWYubmV4dFRpY2spOihmLm5leHRUaWNrPWZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX0sZi5zZXRJbW1lZGlhdGU9Zi5uZXh0VGljayksZi5lYWNoPWZ1bmN0aW9uKGIsYyxkKXtpZihkPWR8fGZ1bmN0aW9uKCl7fSwhYi5sZW5ndGgpcmV0dXJuIGQoKTt2YXIgZT0wO2coYixmdW5jdGlvbihmKXtjKGYsYShmdW5jdGlvbihhKXthPyhkKGEpLGQ9ZnVuY3Rpb24oKXt9KTooZSs9MSxlPj1iLmxlbmd0aCYmZChudWxsKSl9KSl9KX0sZi5mb3JFYWNoPWYuZWFjaCxmLmVhY2hTZXJpZXM9ZnVuY3Rpb24oYSxiLGMpe2lmKGM9Y3x8ZnVuY3Rpb24oKXt9LCFhLmxlbmd0aClyZXR1cm4gYygpO3ZhciBkPTAsZT1mdW5jdGlvbigpe2IoYVtkXSxmdW5jdGlvbihiKXtiPyhjKGIpLGM9ZnVuY3Rpb24oKXt9KTooZCs9MSxkPj1hLmxlbmd0aD9jKG51bGwpOmUoKSl9KX07ZSgpfSxmLmZvckVhY2hTZXJpZXM9Zi5lYWNoU2VyaWVzLGYuZWFjaExpbWl0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWsoYik7ZS5hcHBseShudWxsLFthLGMsZF0pfSxmLmZvckVhY2hMaW1pdD1mLmVhY2hMaW1pdDt2YXIgaz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe2lmKGQ9ZHx8ZnVuY3Rpb24oKXt9LCFiLmxlbmd0aHx8MD49YSlyZXR1cm4gZCgpO3ZhciBlPTAsZj0wLGc9MDshZnVuY3Rpb24gaCgpe2lmKGU+PWIubGVuZ3RoKXJldHVybiBkKCk7Zm9yKDthPmcmJmY8Yi5sZW5ndGg7KWYrPTEsZys9MSxjKGJbZi0xXSxmdW5jdGlvbihhKXthPyhkKGEpLGQ9ZnVuY3Rpb24oKXt9KTooZSs9MSxnLT0xLGU+PWIubGVuZ3RoP2QoKTpoKCkpfSl9KCl9fSxsPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGEuYXBwbHkobnVsbCxbZi5lYWNoXS5jb25jYXQoYikpfX0sbT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGIuYXBwbHkobnVsbCxbayhhKV0uY29uY2F0KGMpKX19LG49ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gYS5hcHBseShudWxsLFtmLmVhY2hTZXJpZXNdLmNvbmNhdChiKSl9fSxvPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdO2I9aChiLGZ1bmN0aW9uKGEsYil7cmV0dXJue2luZGV4OmIsdmFsdWU6YX19KSxhKGIsZnVuY3Rpb24oYSxiKXtjKGEudmFsdWUsZnVuY3Rpb24oYyxkKXtlW2EuaW5kZXhdPWQsYihjKX0pfSxmdW5jdGlvbihhKXtkKGEsZSl9KX07Zi5tYXA9bChvKSxmLm1hcFNlcmllcz1uKG8pLGYubWFwTGltaXQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHAoYikoYSxjLGQpfTt2YXIgcD1mdW5jdGlvbihhKXtyZXR1cm4gbShhLG8pfTtmLnJlZHVjZT1mdW5jdGlvbihhLGIsYyxkKXtmLmVhY2hTZXJpZXMoYSxmdW5jdGlvbihhLGQpe2MoYixhLGZ1bmN0aW9uKGEsYyl7Yj1jLGQoYSl9KX0sZnVuY3Rpb24oYSl7ZChhLGIpfSl9LGYuaW5qZWN0PWYucmVkdWNlLGYuZm9sZGw9Zi5yZWR1Y2UsZi5yZWR1Y2VSaWdodD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1oKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5yZXZlcnNlKCk7Zi5yZWR1Y2UoZSxiLGMsZCl9LGYuZm9sZHI9Zi5yZWR1Y2VSaWdodDt2YXIgcT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXTtiPWgoYixmdW5jdGlvbihhLGIpe3JldHVybntpbmRleDpiLHZhbHVlOmF9fSksYShiLGZ1bmN0aW9uKGEsYil7YyhhLnZhbHVlLGZ1bmN0aW9uKGMpe2MmJmUucHVzaChhKSxiKCl9KX0sZnVuY3Rpb24oKXtkKGgoZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaW5kZXgtYi5pbmRleH0pLGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSkpfSl9O2YuZmlsdGVyPWwocSksZi5maWx0ZXJTZXJpZXM9bihxKSxmLnNlbGVjdD1mLmZpbHRlcixmLnNlbGVjdFNlcmllcz1mLmZpbHRlclNlcmllczt2YXIgcj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXTtiPWgoYixmdW5jdGlvbihhLGIpe3JldHVybntpbmRleDpiLHZhbHVlOmF9fSksYShiLGZ1bmN0aW9uKGEsYil7YyhhLnZhbHVlLGZ1bmN0aW9uKGMpe2N8fGUucHVzaChhKSxiKCl9KX0sZnVuY3Rpb24oKXtkKGgoZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaW5kZXgtYi5pbmRleH0pLGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSkpfSl9O2YucmVqZWN0PWwociksZi5yZWplY3RTZXJpZXM9bihyKTt2YXIgcz1mdW5jdGlvbihhLGIsYyxkKXthKGIsZnVuY3Rpb24oYSxiKXtjKGEsZnVuY3Rpb24oYyl7Yz8oZChhKSxkPWZ1bmN0aW9uKCl7fSk6YigpfSl9LGZ1bmN0aW9uKCl7ZCgpfSl9O2YuZGV0ZWN0PWwocyksZi5kZXRlY3RTZXJpZXM9bihzKSxmLnNvbWU9ZnVuY3Rpb24oYSxiLGMpe2YuZWFjaChhLGZ1bmN0aW9uKGEsZCl7YihhLGZ1bmN0aW9uKGEpe2EmJihjKCEwKSxjPWZ1bmN0aW9uKCl7fSksZCgpfSl9LGZ1bmN0aW9uKCl7YyghMSl9KX0sZi5hbnk9Zi5zb21lLGYuZXZlcnk9ZnVuY3Rpb24oYSxiLGMpe2YuZWFjaChhLGZ1bmN0aW9uKGEsZCl7YihhLGZ1bmN0aW9uKGEpe2F8fChjKCExKSxjPWZ1bmN0aW9uKCl7fSksZCgpfSl9LGZ1bmN0aW9uKCl7YyghMCl9KX0sZi5hbGw9Zi5ldmVyeSxmLnNvcnRCeT1mdW5jdGlvbihhLGIsYyl7Zi5tYXAoYSxmdW5jdGlvbihhLGMpe2IoYSxmdW5jdGlvbihiLGQpe2I/YyhiKTpjKG51bGwse3ZhbHVlOmEsY3JpdGVyaWE6ZH0pfSl9LGZ1bmN0aW9uKGEsYil7aWYoYSlyZXR1cm4gYyhhKTt2YXIgZD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuY3JpdGVyaWEsZD1iLmNyaXRlcmlhO3JldHVybiBkPmM/LTE6Yz5kPzE6MH07YyhudWxsLGgoYi5zb3J0KGQpLGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSkpfSl9LGYuYXV0bz1mdW5jdGlvbihhLGIpe2I9Ynx8ZnVuY3Rpb24oKXt9O3ZhciBjPWooYSk7aWYoIWMubGVuZ3RoKXJldHVybiBiKG51bGwpO3ZhciBkPXt9LGU9W10saD1mdW5jdGlvbihhKXtlLnVuc2hpZnQoYSl9LGs9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxlLmxlbmd0aDtiKz0xKWlmKGVbYl09PT1hKXJldHVybiB2b2lkIGUuc3BsaWNlKGIsMSl9LGw9ZnVuY3Rpb24oKXtnKGUuc2xpY2UoMCksZnVuY3Rpb24oYSl7YSgpfSl9O2goZnVuY3Rpb24oKXtqKGQpLmxlbmd0aD09PWMubGVuZ3RoJiYoYihudWxsLGQpLGI9ZnVuY3Rpb24oKXt9KX0pLGcoYyxmdW5jdGlvbihjKXt2YXIgZT1hW2NdaW5zdGFuY2VvZiBGdW5jdGlvbj9bYVtjXV06YVtjXSxtPWZ1bmN0aW9uKGEpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZihlLmxlbmd0aDw9MSYmKGU9ZVswXSksYSl7dmFyIGg9e307ZyhqKGQpLGZ1bmN0aW9uKGEpe2hbYV09ZFthXX0pLGhbY109ZSxiKGEsaCksYj1mdW5jdGlvbigpe319ZWxzZSBkW2NdPWUsZi5zZXRJbW1lZGlhdGUobCl9LG49ZS5zbGljZSgwLE1hdGguYWJzKGUubGVuZ3RoLTEpKXx8W10sbz1mdW5jdGlvbigpe3JldHVybiBpKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmZC5oYXNPd25Qcm9wZXJ0eShiKX0sITApJiYhZC5oYXNPd25Qcm9wZXJ0eShjKX07aWYobygpKWVbZS5sZW5ndGgtMV0obSxkKTtlbHNle3ZhciBwPWZ1bmN0aW9uKCl7bygpJiYoayhwKSxlW2UubGVuZ3RoLTFdKG0sZCkpfTtoKHApfX0pfSxmLndhdGVyZmFsbD1mdW5jdGlvbihhLGIpe2lmKGI9Ynx8ZnVuY3Rpb24oKXt9LGEuY29uc3RydWN0b3IhPT1BcnJheSl7dmFyIGM9bmV3IEVycm9yKCJGaXJzdCBhcmd1bWVudCB0byB3YXRlcmZhbGwgbXVzdCBiZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMiKTtyZXR1cm4gYihjKX1pZighYS5sZW5ndGgpcmV0dXJuIGIoKTt2YXIgZD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7aWYoYyliLmFwcGx5KG51bGwsYXJndW1lbnRzKSxiPWZ1bmN0aW9uKCl7fTtlbHNle3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxnPWEubmV4dCgpO2UucHVzaChnP2QoZyk6YiksZi5zZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXthLmFwcGx5KG51bGwsZSl9KX19fTtkKGYuaXRlcmF0b3IoYSkpKCl9O3ZhciB0PWZ1bmN0aW9uKGEsYixjKXtpZihjPWN8fGZ1bmN0aW9uKCl7fSxiLmNvbnN0cnVjdG9yPT09QXJyYXkpYS5tYXAoYixmdW5jdGlvbihhLGIpe2EmJmEoZnVuY3Rpb24oYSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2MubGVuZ3RoPD0xJiYoYz1jWzBdKSxiLmNhbGwobnVsbCxhLGMpfSl9LGMpO2Vsc2V7dmFyIGQ9e307YS5lYWNoKGooYiksZnVuY3Rpb24oYSxjKXtiW2FdKGZ1bmN0aW9uKGIpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmxlbmd0aDw9MSYmKGU9ZVswXSksZFthXT1lLGMoYil9KX0sZnVuY3Rpb24oYSl7YyhhLGQpfSl9fTtmLnBhcmFsbGVsPWZ1bmN0aW9uKGEsYil7dCh7bWFwOmYubWFwLGVhY2g6Zi5lYWNofSxhLGIpfSxmLnBhcmFsbGVsTGltaXQ9ZnVuY3Rpb24oYSxiLGMpe3Qoe21hcDpwKGIpLGVhY2g6ayhiKX0sYSxjKX0sZi5zZXJpZXM9ZnVuY3Rpb24oYSxiKXtpZihiPWJ8fGZ1bmN0aW9uKCl7fSxhLmNvbnN0cnVjdG9yPT09QXJyYXkpZi5tYXBTZXJpZXMoYSxmdW5jdGlvbihhLGIpe2EmJmEoZnVuY3Rpb24oYSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2MubGVuZ3RoPD0xJiYoYz1jWzBdKSxiLmNhbGwobnVsbCxhLGMpfSl9LGIpO2Vsc2V7dmFyIGM9e307Zi5lYWNoU2VyaWVzKGooYSksZnVuY3Rpb24oYixkKXthW2JdKGZ1bmN0aW9uKGEpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmxlbmd0aDw9MSYmKGU9ZVswXSksY1tiXT1lLGQoYSl9KX0sZnVuY3Rpb24oYSl7YihhLGMpfSl9fSxmLml0ZXJhdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGMpe3ZhciBkPWZ1bmN0aW9uKCl7cmV0dXJuIGEubGVuZ3RoJiZhW2NdLmFwcGx5KG51bGwsYXJndW1lbnRzKSxkLm5leHQoKX07cmV0dXJuIGQubmV4dD1mdW5jdGlvbigpe3JldHVybiBjPGEubGVuZ3RoLTE/YihjKzEpOm51bGx9LGR9O3JldHVybiBiKDApfSxmLmFwcGx5PWZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGIuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKX19O3ZhciB1PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdO2EoYixmdW5jdGlvbihhLGIpe2MoYSxmdW5jdGlvbihhLGMpe2U9ZS5jb25jYXQoY3x8W10pLGIoYSl9KX0sZnVuY3Rpb24oYSl7ZChhLGUpfSl9O2YuY29uY2F0PWwodSksZi5jb25jYXRTZXJpZXM9bih1KSxmLndoaWxzdD1mdW5jdGlvbihhLGIsYyl7YSgpP2IoZnVuY3Rpb24oZCl7cmV0dXJuIGQ/YyhkKTp2b2lkIGYud2hpbHN0KGEsYixjKX0pOmMoKX0sZi5kb1doaWxzdD1mdW5jdGlvbihhLGIsYyl7YShmdW5jdGlvbihkKXtyZXR1cm4gZD9jKGQpOnZvaWQoYigpP2YuZG9XaGlsc3QoYSxiLGMpOmMoKSl9KX0sZi51bnRpbD1mdW5jdGlvbihhLGIsYyl7YSgpP2MoKTpiKGZ1bmN0aW9uKGQpe3JldHVybiBkP2MoZCk6dm9pZCBmLnVudGlsKGEsYixjKX0pfSxmLmRvVW50aWw9ZnVuY3Rpb24oYSxiLGMpe2EoZnVuY3Rpb24oZCl7cmV0dXJuIGQ/YyhkKTp2b2lkKGIoKT9jKCk6Zi5kb1VudGlsKGEsYixjKSl9KX0sZi5xdWV1ZT1mdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYSxiLGQsZSl7Yi5jb25zdHJ1Y3RvciE9PUFycmF5JiYoYj1bYl0pLGcoYixmdW5jdGlvbihiKXt2YXIgZz17ZGF0YTpiLGNhbGxiYWNrOiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6bnVsbH07ZD9hLnRhc2tzLnVuc2hpZnQoZyk6YS50YXNrcy5wdXNoKGcpLGEuc2F0dXJhdGVkJiZhLnRhc2tzLmxlbmd0aD09PWMmJmEuc2F0dXJhdGVkKCksZi5zZXRJbW1lZGlhdGUoYS5wcm9jZXNzKX0pfXZvaWQgMD09PWMmJihjPTEpO3ZhciBlPTAsaD17dGFza3M6W10sY29uY3VycmVuY3k6YyxzYXR1cmF0ZWQ6bnVsbCxlbXB0eTpudWxsLGRyYWluOm51bGwscHVzaDpmdW5jdGlvbihhLGIpe2QoaCxhLCExLGIpfSx1bnNoaWZ0OmZ1bmN0aW9uKGEsYil7ZChoLGEsITAsYil9LHByb2Nlc3M6ZnVuY3Rpb24oKXtpZihlPGguY29uY3VycmVuY3kmJmgudGFza3MubGVuZ3RoKXt2YXIgYz1oLnRhc2tzLnNoaWZ0KCk7aC5lbXB0eSYmMD09PWgudGFza3MubGVuZ3RoJiZoLmVtcHR5KCksZSs9MTt2YXIgZD1mdW5jdGlvbigpe2UtPTEsYy5jYWxsYmFjayYmYy5jYWxsYmFjay5hcHBseShjLGFyZ3VtZW50cyksaC5kcmFpbiYmaC50YXNrcy5sZW5ndGgrZT09PTAmJmguZHJhaW4oKSxoLnByb2Nlc3MoKX0sZj1hKGQpO2IoYy5kYXRhLGYpfX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIGgudGFza3MubGVuZ3RofSxydW5uaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGV9fTtyZXR1cm4gaH0sZi5jYXJnbz1mdW5jdGlvbihhLGIpe3ZhciBjPSExLGQ9W10sZT17dGFza3M6ZCxwYXlsb2FkOmIsc2F0dXJhdGVkOm51bGwsZW1wdHk6bnVsbCxkcmFpbjpudWxsLHB1c2g6ZnVuY3Rpb24oYSxjKXthLmNvbnN0cnVjdG9yIT09QXJyYXkmJihhPVthXSksZyhhLGZ1bmN0aW9uKGEpe2QucHVzaCh7ZGF0YTphLGNhbGxiYWNrOiJmdW5jdGlvbiI9PXR5cGVvZiBjP2M6bnVsbH0pLGUuc2F0dXJhdGVkJiZkLmxlbmd0aD09PWImJmUuc2F0dXJhdGVkKCl9KSxmLnNldEltbWVkaWF0ZShlLnByb2Nlc3MpfSxwcm9jZXNzOmZ1bmN0aW9uIGkoKXtpZighYyl7aWYoMD09PWQubGVuZ3RoKXJldHVybiB2b2lkKGUuZHJhaW4mJmUuZHJhaW4oKSk7dmFyIGY9Im51bWJlciI9PXR5cGVvZiBiP2Quc3BsaWNlKDAsYik6ZC5zcGxpY2UoMCksaj1oKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pO2UuZW1wdHkmJmUuZW1wdHkoKSxjPSEwLGEoaixmdW5jdGlvbigpe2M9ITE7dmFyIGE9YXJndW1lbnRzO2coZixmdW5jdGlvbihiKXtiLmNhbGxiYWNrJiZiLmNhbGxiYWNrLmFwcGx5KG51bGwsYSl9KSxpKCl9KX19LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBkLmxlbmd0aH0scnVubmluZzpmdW5jdGlvbigpe3JldHVybiBjfX07cmV0dXJuIGV9O3ZhciB2PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Yi5hcHBseShudWxsLGMuY29uY2F0KFtmdW5jdGlvbihiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiYoYj9jb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKGIpOmNvbnNvbGVbYV0mJmcoYyxmdW5jdGlvbihiKXtjb25zb2xlW2FdKGIpfSkpfV0pKX19O2YubG9nPXYoImxvZyIpLGYuZGlyPXYoImRpciIpLGYubWVtb2l6ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXt9LGQ9e307Yj1ifHxmdW5jdGlvbihhKXtyZXR1cm4gYX07dmFyIGU9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGY9ZS5wb3AoKSxnPWIuYXBwbHkobnVsbCxlKTtnIGluIGM/Zi5hcHBseShudWxsLGNbZ10pOmcgaW4gZD9kW2ddLnB1c2goZik6KGRbZ109W2ZdLGEuYXBwbHkobnVsbCxlLmNvbmNhdChbZnVuY3Rpb24oKXtjW2ddPWFyZ3VtZW50czt2YXIgYT1kW2ddO2RlbGV0ZSBkW2ddO2Zvcih2YXIgYj0wLGU9YS5sZW5ndGg7ZT5iO2IrKylhW2JdLmFwcGx5KG51bGwsYXJndW1lbnRzKX1dKSkpfTtyZXR1cm4gZS5tZW1vPWMsZS51bm1lbW9pemVkPWEsZX0sZi51bm1lbW9pemU9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuKGEudW5tZW1vaXplZHx8YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfX0sZi50aW1lcz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDthPmU7ZSsrKWQucHVzaChlKTtyZXR1cm4gZi5tYXAoZCxiLGMpfSxmLnRpbWVzU2VyaWVzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2E+ZTtlKyspZC5wdXNoKGUpO3JldHVybiBmLm1hcFNlcmllcyhkLGIsYyl9LGYuY29tcG9zZT1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxkPWMucG9wKCk7Zi5yZWR1Y2UoYSxjLGZ1bmN0aW9uKGEsYyxkKXtjLmFwcGx5KGIsYS5jb25jYXQoW2Z1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzWzBdLGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2QoYSxiKX1dKSl9LGZ1bmN0aW9uKGEsYyl7ZC5hcHBseShiLFthXS5jb25jYXQoYykpfSl9fTt2YXIgdz1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZT1kLnBvcCgpO3JldHVybiBhKGIsZnVuY3Rpb24oYSxiKXthLmFwcGx5KGMsZC5jb25jYXQoW2JdKSl9LGUpfTtpZihhcmd1bWVudHMubGVuZ3RoPjIpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gYy5hcHBseSh0aGlzLGQpfXJldHVybiBjfTtmLmFwcGx5RWFjaD1sKHcpLGYuYXBwbHlFYWNoU2VyaWVzPW4odyksZi5mb3JldmVyPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhkKXtpZihkKXtpZihiKXJldHVybiBiKGQpO3Rocm93IGR9YShjKX1jKCl9LCJ1bmRlZmluZWQiIT10eXBlb2YgYyYmYy5hbWQ/YyhbXSxmdW5jdGlvbigpe3JldHVybiBmfSk6InVuZGVmaW5lZCIhPXR5cGVvZiBkJiZkLmV4cG9ydHM/ZC5leHBvcnRzPWY6Yi5hc3luYz1mfSgpO3ZhciBlPWQuZXhwb3J0cztyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt2YXIgZD1wYXJzZUludChhLDEwKTtyZXR1cm4haXNOYU4oZCkmJmQ+PWImJmM+PWR9ZnVuY3Rpb24gYyhiKXt2YXIgYz0wO2lmKCJzdHJpbmciPT10eXBlb2YgYil7dmFyIGQ9Yi5zcGxpdCgiOiIpO3ZhbGlkPTI9PT1kLmxlbmd0aHx8Mz09PWQubGVuZ3RoLHZhbGlkJiYodmFsaWQ9YShkWzBdLDAsMjMpLGMrPTYwKnBhcnNlSW50KGRbMF0sMTApKjYwKSx2YWxpZCYmKHZhbGlkPWEoZFsxXSwwLDU5KSxjKz02MCpwYXJzZUludChkWzFdLDEwKSksdmFsaWQmJjM9PT1kLmxlbmd0aCYmKHZhbGlkPWEoZFsyXSwwLDU5KSxjKz1wYXJzZUludChkWzJdLDEwKSl9cmV0dXJuIGN9ZnVuY3Rpb24gZShhLGIsZCxlKXtmdW5jdGlvbiBmKGEsYixjKXt2YXIgZD1wYXJzZUludChiLDEwKSxlPXBhcnNlSW50KGMsMTApO3JldHVybiBpc05hTihkKXx8aXNOYU4oZSk/ITE6ImlzIGVxdWFsIHRvIj09PWE/ZD09PWU6ImlzIGxlc3MgdGhhbiI9PT1hP2U+ZDoiaXMgZ3JlYXRlciB0aGFuIj09PWE/ZD5lOiExfXZhciBsPWEudHlwZSxtPWEuZmllbGRPcHRpb25zP2EuZmllbGRPcHRpb25zOnt9O2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgYnx8bnVsbD09PWIpcmV0dXJuITE7dmFyIG49ITA7aWYoImlzIGVxdWFsIHRvIj09PWUpbj1mKCJpcyBlcXVhbCB0byIsYixkKTtlbHNlIGlmKCJpcyBncmVhdGVyIHRoYW4iPT09ZSluPWYoImlzIGdyZWF0ZXIgdGhhbiIsYixkKTtlbHNlIGlmKCJpcyBsZXNzIHRoYW4iPT09ZSluPWYoImlzIGxlc3MgdGhhbiIsYixkKTtlbHNlIGlmKCJpcyBhdCI9PT1lKXtpZihuPSExLGw9PT1oKXN3aXRjaChtLmRlZmluaXRpb24uZGF0ZXRpbWVVbml0KXtjYXNlIGk6dHJ5e249bmV3IERhdGUobmV3IERhdGUoYikudG9EYXRlU3RyaW5nKCkpLmdldFRpbWUoKT09PW5ldyBEYXRlKG5ldyBEYXRlKGQpLnRvRGF0ZVN0cmluZygpKS5nZXRUaW1lKCl9Y2F0Y2gobyl7bj0hMX1icmVhaztjYXNlIGo6bj1jKGIpPT09YyhkKTticmVhaztjYXNlIGs6dHJ5e249bmV3IERhdGUoYikuZ2V0VGltZSgpPT09bmV3IERhdGUoZCkuZ2V0VGltZSgpfWNhdGNoKG8pe249ITF9YnJlYWs7ZGVmYXVsdDpuPSExfX1lbHNlIGlmKCJpcyBiZWZvcmUiPT09ZSl7aWYobj0hMSxsPT09aClzd2l0Y2gobS5kZWZpbml0aW9uLmRhdGV0aW1lVW5pdCl7Y2FzZSBpOnRyeXtuPW5ldyBEYXRlKG5ldyBEYXRlKGIpLnRvRGF0ZVN0cmluZygpKS5nZXRUaW1lKCk8bmV3IERhdGUobmV3IERhdGUoZCkudG9EYXRlU3RyaW5nKCkpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2Nhc2UgajpuPWMoYik8YyhkKTticmVhaztjYXNlIGs6dHJ5e249bmV3IERhdGUoYikuZ2V0VGltZSgpPG5ldyBEYXRlKGQpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2RlZmF1bHQ6bj0hMX19ZWxzZSBpZigiaXMgYWZ0ZXIiPT09ZSl7aWYobj0hMSxsPT09aClzd2l0Y2gobS5kZWZpbml0aW9uLmRhdGV0aW1lVW5pdCl7Y2FzZSBpOnRyeXtuPW5ldyBEYXRlKG5ldyBEYXRlKGIpLnRvRGF0ZVN0cmluZygpKS5nZXRUaW1lKCk+bmV3IERhdGUobmV3IERhdGUoZCkudG9EYXRlU3RyaW5nKCkpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2Nhc2UgajpuPWMoYik+YyhkKTticmVhaztjYXNlIGs6dHJ5e249bmV3IERhdGUoYikuZ2V0VGltZSgpPm5ldyBEYXRlKGQpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2RlZmF1bHQ6bj0hMX19ZWxzZSBuPSJpcyI9PT1lP2w9PT1nP2ImJmIuc2VsZWN0aW9ucyYmLTEhPT1iLnNlbGVjdGlvbnMuaW5kZXhPZihkKTpiPT09ZDoiaXMgbm90Ij09PWU/bD09PWc/YiYmYi5zZWxlY3Rpb25zJiYtMT09PWIuc2VsZWN0aW9ucy5pbmRleE9mKGQpOmIhPT1kOiJjb250YWlucyI9PT1lPy0xIT09Yi5pbmRleE9mKGQpOiJkb2VzIG5vdCBjb250YWluIj09PWU/LTE9PT1iLmluZGV4T2YoZCk6ImJlZ2lucyB3aXRoIj09PWU/Yi5zdWJzdHJpbmcoMCxkLmxlbmd0aCk9PT1kOiJlbmRzIHdpdGgiPT09ZT9iLnN1YnN0cmluZyhNYXRoLm1heCgwLGIubGVuZ3RoLWQubGVuZ3RoKSxiLmxlbmd0aCk9PT1kOiExO3JldHVybiBufXZhciBmPWIoImFzeW5jIiksZz0iY2hlY2tib3hlcyIsaD0iZGF0ZVRpbWUiLGk9ImRhdGUiLGo9InRpbWUiLGs9ImRhdGV0aW1lIixsPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYSl7Zi5lYWNoKFkucGFnZXMsZnVuY3Rpb24oYSxiKXtmLmVhY2goYS5maWVsZHMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYi5wYWdlSWQ9YS5faWQsYi5hZG1pbk9ubHk/KCRbYi5faWRdPWIsYygpKTooYi5maWVsZE9wdGlvbnM9Yi5maWVsZE9wdGlvbnM/Yi5maWVsZE9wdGlvbnM6e30sYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbj1iLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uP2IuZmllbGRPcHRpb25zLmRlZmluaXRpb246e30sYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbj1iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uP2IuZmllbGRPcHRpb25zLnZhbGlkYXRpb246e30sWltiLl9pZF09YixiLnJlcXVpcmVkJiYoX1tiLl9pZF09e2ZpZWxkOmIsc3VibWl0dGVkOiExLHZhbGlkYXRlZDohMX0pLGMoKSl9LGZ1bmN0aW9uKCl7cmV0dXJuIGIoKX0pfSxhKX1mdW5jdGlvbiBkKGEpe2YuZWFjaChZLmZpZWxkUnVsZXMsZnVuY3Rpb24oYSxiKXtmLmVhY2goYS5ydWxlQ29uZGl0aW9uYWxTdGF0ZW1lbnRzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5zb3VyY2VGaWVsZDtyZXR1cm4gYmJbZF09YmJbZF18fFtdLGJiW2RdLnB1c2goYSksYygpfSxmdW5jdGlvbigpe3JldHVybiBBcnJheS5pc0FycmF5KGEudGFyZ2V0RmllbGQpP3ZvaWQgZi5lYWNoKGEudGFyZ2V0RmllbGQsZnVuY3Rpb24oYixjKXtjYltiXT1jYltiXXx8W10sY2JbYl0ucHVzaChhKSxjKCl9LGIpOihjYlthLnRhcmdldEZpZWxkXT1jYlthLnRhcmdldEZpZWxkXXx8W10sY2JbYS50YXJnZXRGaWVsZF0ucHVzaChhKSxiKCkpfSl9LGEpfWZ1bmN0aW9uIGcoYSl7Zi5lYWNoKFkucGFnZVJ1bGVzLGZ1bmN0aW9uKGEsYil7Zi5lYWNoKGEucnVsZUNvbmRpdGlvbmFsU3RhdGVtZW50cyxmdW5jdGlvbihiLGMpe3ZhciBkPWIuc291cmNlRmllbGQ7cmV0dXJuIGRiW2RdPWRiW2RdfHxbXSxkYltkXS5wdXNoKGEpLGMoKX0sZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuaXNBcnJheShhLnRhcmdldFBhZ2UpP3ZvaWQgZi5lYWNoKGEudGFyZ2V0UGFnZSxmdW5jdGlvbihiLGMpe2ViW2JdPWViW2JdfHxbXSxlYltiXS5wdXNoKGEpLGMoKQp9LGIpOihlYlthLnRhcmdldFBhZ2VdPWViW2EudGFyZ2V0UGFnZV18fFtdLGViW2EudGFyZ2V0UGFnZV0ucHVzaChhKSxiKCkpfSl9LGEpfWZ1bmN0aW9uIGgoYSl7YWI9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfKSksZmI9e30sZi5lYWNoKFguZm9ybUZpZWxkcyxmdW5jdGlvbihhLGIpe3JldHVybiBhLmZpZWxkSWQ/JFthLmZpZWxkSWRdP2IoIlN1Ym1pc3Npb24gIithLmZpZWxkSWQrIiBpcyBhbiBhZG1pbiBmaWVsZC4gQWRtaW4gZmllbGRzIGNhbm5vdCBiZSBwYXNzZWQgdG8gdGhlIHJ1bGVzIGVuZ2luZS4iKTooZmJbYS5maWVsZElkXT1hLGIoKSk6YihuZXcgRXJyb3IoIk5vIGZpZWxkSWQgaW4gdGhpcyBzdWJtaXNzaW9uIGVudHJ5OiAiK3V0aWwuaW5zcGVjdChhKSkpfSxhKX1mdW5jdGlvbiBsKGEpe3JldHVybiBXP2EoKTp2b2lkIGYucGFyYWxsZWwoW2MsZCxnXSxmdW5jdGlvbihiKXtyZXR1cm4gYj9hKGIpOihXPSEwLGEoKSl9KX1mdW5jdGlvbiBtKGEsYil7bChmdW5jdGlvbihjKXtyZXR1cm4gYz9iKGMpOihYPWEsdm9pZCBoKGIpKX0pfWZ1bmN0aW9uIG4oYSxiLGMpe3JldHVybiBiJiZiLmZvcm1GaWVsZHM/dm9pZCBmLmZpbHRlcihiLmZvcm1GaWVsZHMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYyhiLmZpZWxkSWQudG9TdHJpbmcoKT09PWEuZmllbGRJZC50b1N0cmluZygpKX0sZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtyZXR1cm4gYSYmYVswXSYmYVswXS5maWVsZFZhbHVlcyYmKGI9YVswXS5maWVsZFZhbHVlcyksYyh2b2lkIDAsYil9KTpjKCl9ZnVuY3Rpb24gbyhhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGImJihjPWIsYj1udWxsKSxsKGZ1bmN0aW9uKGQpe3JldHVybiBkP2MoZCk6dm9pZCBtKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YyhhKTp2b2lkIGYud2F0ZXJmYWxsKFtmdW5jdGlvbihhKXtyZXR1cm4gYSh2b2lkIDAse3ZhbGlkYXRpb246e3ZhbGlkOiEwfX0pfSxmdW5jdGlvbihhLGMpe3AoYSxiLGMpfSxxXSxmdW5jdGlvbihhLGIpe3JldHVybiBhP2MoYSk6Yyh2b2lkIDAsYil9KX0pfSl9ZnVuY3Rpb24gcChhLGIsYyl7Zi5lYWNoKFguZm9ybUZpZWxkcyxmdW5jdGlvbihjLGQpe3ZhciBlPWMuZmllbGRJZCxmPVpbZV07bihjLGIsZnVuY3Rpb24oYixnKXtyZXR1cm4gYj9kKGIpOnZvaWQgdShjLGYsZyxmdW5jdGlvbihiLGMpe3JldHVybiBiP2QoYik6KGMudmFsaWR8fChhLnZhbGlkYXRpb24udmFsaWQ9ITEsYS52YWxpZGF0aW9uW2VdPWMpLGQoKSl9KX0pfSxmdW5jdGlvbihiKXtyZXR1cm4gYj9jKGIpOmModm9pZCAwLGEpfSl9ZnVuY3Rpb24gcShhLGIpe2YuZWFjaChPYmplY3Qua2V5cyhhYiksZnVuY3Rpb24oYixjKXt2YXIgZD17fTtyZXR1cm4gYWJbYl0uc3VibWl0dGVkP2MoKTp2b2lkIFUoYiwhMCxmdW5jdGlvbihlLGYpe3JldHVybiBlP2MoZSk6KGYmJihkLmZpZWxkSWQ9YixkLnZhbGlkPSExLGQuZmllbGRFcnJvck1lc3NhZ2U9WyJSZXF1aXJlZCBGaWVsZCBOb3QgU3VibWl0dGVkIl0sYS52YWxpZGF0aW9uW2JdPWQsYS52YWxpZGF0aW9uLnZhbGlkPSExKSxjKCkpfSl9LGZ1bmN0aW9uKGMpe3JldHVybiBjP2IoYyk6Yih2b2lkIDAsYSl9KX1mdW5jdGlvbiByKGEsYixjKXtsKGZ1bmN0aW9uKGQpe3JldHVybiBkP2MoZCk6dm9pZCBtKGIsZnVuY3Rpb24oYil7aWYoYilyZXR1cm4gYyhiKTt2YXIgZD1mYlthXSxlPVpbYV07dShkLGUsbnVsbCxmdW5jdGlvbihiLGQpe2lmKGIpcmV0dXJuIGMoYik7dmFyIGU9e3ZhbGlkYXRpb246e319O3JldHVybiBlLnZhbGlkYXRpb25bYV09ZCxjKHZvaWQgMCxlKX0pfSl9KX1mdW5jdGlvbiBzKGEsYixjLGQpe2Z1bmN0aW9uIGUoYixjKXt2YXIgZD17ZXJyb3JNZXNzYWdlczpbXX07cmV0dXJuIGImJmQuZXJyb3JNZXNzYWdlcy5wdXNoKGIpLHQoYSxkLGZ1bmN0aW9uKGIsZCl7aWYoYilyZXR1cm4gYyhiKTt2YXIgZT17dmFsaWRhdGlvbjp7fX07cmV0dXJuIGUudmFsaWRhdGlvblthXT1kLGModm9pZCAwLGUpfSl9ImZ1bmN0aW9uIj09dHlwZW9mIGMmJihkPWMsYz0wKSxsKGZ1bmN0aW9uKGYpe2lmKGYpcmV0dXJuIGQoZik7dmFyIGc9WlthXSxoPSExO2g9Zy5yZXBlYXRpbmcmJmcuZmllbGRPcHRpb25zJiZnLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uJiZnLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm1pblJlcGVhdD9jPGcuZmllbGRPcHRpb25zLmRlZmluaXRpb24ubWluUmVwZWF0OmcucmVxdWlyZWQ7dmFyIGk9Zy5maWVsZE9wdGlvbnMmJmcuZmllbGRPcHRpb25zLnZhbGlkYXRpb24/Zy5maWVsZE9wdGlvbnMudmFsaWRhdGlvbjp2b2lkIDA7aWYoaSYmITE9PT1pLnZhbGlkYXRlSW1tZWRpYXRlbHkpe3ZhciBqPXt2YWxpZGF0aW9uOnt9fTtyZXR1cm4gai52YWxpZGF0aW9uW2FdPXt2YWxpZDohMH0sZCh2b2lkIDAsail9cmV0dXJuIHkoYik/aD9lKCJObyB2YWx1ZSBzcGVjaWZpZWQgZm9yIHJlcXVpcmVkIGlucHV0IixkKTplKHZvaWQgMCxkKTp2b2lkIHgoZy50eXBlLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGE/ZChhKTp2b2lkIGMoYixnLHZvaWQgMCxmdW5jdGlvbihhKXt2YXIgYjthJiYoYj1hLm1lc3NhZ2U/YS5tZXNzYWdlOiJVbmtub3duIGVycm9yIG1lc3NhZ2UiKSxlKGIsZCl9KX0pfSl9ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9e307ZC5maWVsZElkPWEsZC5lcnJvck1lc3NhZ2VzPWIuZXJyb3JNZXNzYWdlc3x8W10sZC5maWVsZEVycm9yTWVzc2FnZT1iLmZpZWxkRXJyb3JNZXNzYWdlfHxbXSxmLnNvbWUoZC5lcnJvck1lc3NhZ2VzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIobnVsbCE9PWEpfSxmdW5jdGlvbihhKXtyZXR1cm4gZC52YWxpZD0hYSYmZC5maWVsZEVycm9yTWVzc2FnZS5sZW5ndGg8MSxjKHZvaWQgMCxkKX0pfWZ1bmN0aW9uIHUoYSxiLGMsZCl7VShiLl9pZCwhMCxmdW5jdGlvbihlLGYpe3JldHVybiBlP2QoZSk6dm9pZCB6KGEsYixjLGYsZnVuY3Rpb24oYixjKXtyZXR1cm4gYj9kKGIpOnZvaWQgdChhLmZpZWxkSWQsYyxkKX0pfSl9ZnVuY3Rpb24gdihhLGIsYyl7dmFyIGQ9YlthXTtyZXR1cm4gZD9jKHZvaWQgMCxkKTpjKG5ldyBFcnJvcigiSW52YWxpZCBGaWVsZCBUeXBlICIrYSkpfWZ1bmN0aW9uIHcoYSxiKXtyZXR1cm4gdihhLGdiLGIpfWZ1bmN0aW9uIHgoYSxiKXtyZXR1cm4gdihhLGhiLGIpfWZ1bmN0aW9uIHkoYSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBhfHxudWxsPT09YXx8IiI9PT1hfWZ1bmN0aW9uIHooYSxiLGMsZCxlKXtmdW5jdGlvbiBnKGEsYixjLGQpe2lmKCFiLnJlcXVpcmVkKXJldHVybiBkKHZvaWQgMCxudWxsKTt2YXIgZT1hJiZhLmZpZWxkVmFsdWVzJiZhLmZpZWxkVmFsdWVzLmxlbmd0aD4wO3JldHVybiFlJiZjP2Qodm9pZCAwLCJObyB2YWx1ZSBzdWJtaXR0ZWQgZm9yIGZpZWxkICIrYi5uYW1lKTpkKHZvaWQgMCxudWxsKX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9MDtpZihhJiZhLmZpZWxkVmFsdWVzJiZhLmZpZWxkVmFsdWVzLmxlbmd0aD4wKWZvcih2YXIgZD0wO2Q8YS5maWVsZFZhbHVlcy5sZW5ndGg7ZCs9MSlhLmZpZWxkVmFsdWVzW2RdJiYoYys9MSk7cmV0dXJuIGIodm9pZCAwLGMpfWZ1bmN0aW9uIGkoYSxiLGMsZCl7aWYoIWMpcmV0dXJuIGQodm9pZCAwLG51bGwpO2lmKGIucmVwZWF0aW5nJiZiLmZpZWxkT3B0aW9ucyYmYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbil7aWYoYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5taW5SZXBlYXQmJmE8Yi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5taW5SZXBlYXQpcmV0dXJuIGQodm9pZCAwLCJFeHBlY3RlZCBtaW4gb2YgIitiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm1pblJlcGVhdCsiIHZhbHVlcyBmb3IgZmllbGQgIitiLm5hbWUrIiBidXQgZ290ICIrYSk7aWYoYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5tYXhSZXBlYXQmJmE+Yi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5tYXhSZXBlYXQpcmV0dXJuIGQodm9pZCAwLCJFeHBlY3RlZCBtYXggb2YgIitiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm1heFJlcGVhdCsiIHZhbHVlcyBmb3IgZmllbGQgIitiLm5hbWUrIiBidXQgZ290ICIrYSl9ZWxzZSBpZihhPjEpcmV0dXJuIGQodm9pZCAwLCJTaG91bGQgbm90IGhhdmUgbXVsdGlwbGUgdmFsdWVzIGZvciBub24tcmVwZWF0aW5nIGZpZWxkIik7cmV0dXJuIGQodm9pZCAwLG51bGwpfWZ1bmN0aW9uIGooYSxiLGMsZCl7dyhiLnR5cGUsZnVuY3Rpb24oZSxnKXtyZXR1cm4gZT9kKGUpOnZvaWQgZi5tYXAoYS5maWVsZFZhbHVlcyxmdW5jdGlvbihhLGQpe3JldHVybiB5KGEpP2Qodm9pZCAwLG51bGwpOnZvaWQgZyhhLGIsYyxmdW5jdGlvbihhKXt2YXIgYztyZXR1cm4gYz1hP2EubWVzc2FnZXx8IkVycm9yIGR1cmluZyB2YWxpZGF0aW9uIG9mIGZpZWxkIjpudWxsLGFiW2IuX2lkXSYmKGFiW2IuX2lkXS5zdWJtaXR0ZWQ9ITApLGQodm9pZCAwLGMpfSl9LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/ZChhKTpkKHZvaWQgMCxiKX0pfSl9Yz1jfHxudWxsLGgoYSxmdW5jdGlvbihoLGspe3JldHVybiBoP2UoaCk6dm9pZCBmLnNlcmllcyh7dmFsdWVzU3VibWl0dGVkOmYuYXBwbHkoZyxhLGIsZCkscmVwZWF0czpmLmFwcGx5KGksayxiLGQpLHZhbHVlczpmLmFwcGx5KGosYSxiLGMpfSxmdW5jdGlvbihhLGIpe2lmKGEpcmV0dXJuIGUoYSk7dmFyIGM9W107cmV0dXJuIGIudmFsdWVzU3VibWl0dGVkJiZjLnB1c2goYi52YWx1ZXNTdWJtaXR0ZWQpLGIucmVwZWF0cyYmYy5wdXNoKGIucmVwZWF0cyksZSh2b2lkIDAse2ZpZWxkRXJyb3JNZXNzYWdlOmMsZXJyb3JNZXNzYWdlczpiLnZhbHVlc30pfSl9KX1mdW5jdGlvbiBBKGEpe3ZhciBiLGMsZCxlPSJeIixmPSJjIi5jaGFyQ29kZUF0KDApLGc9Im4iLmNoYXJDb2RlQXQoMCksaD1hLmxlbmd0aDtmb3IoYj0wO2g+YjtiKz0xKXtzd2l0Y2goYz1hLmNoYXJDb2RlQXQoYikpe2Nhc2UgZjpkPSJbYS16QS1aMC05XSI7YnJlYWs7Y2FzZSBnOmQ9IlswLTldIjticmVhaztkZWZhdWx0OnZhciBpPWMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7ZD0iXFx1IisoIjAwMDAiK2kpLnN1YnN0cigtNCl9ZSs9ZH1yZXR1cm4gZSsiJCJ9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPW5ldyBSZWdFeHAoYik7cmV0dXJuIGMudGVzdChhKX1mdW5jdGlvbiBDKGEsYixjKXt2YXIgZDtyZXR1cm4gZD0ic2ltcGxlIj09PWI/QShjKToicmVnZXgiPT09Yj9jOkEoYyksQihhLGQpfWZ1bmN0aW9uIEQoYSxiLGMsZCl7aWYoInN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBkKG5ldyBFcnJvcigiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgIit0eXBlb2YgYSkpO3ZhciBlPXt9O2ImJmIuZmllbGRPcHRpb25zJiZiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uJiYoZT1iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uKTt2YXIgZj1lLmZpZWxkX2Zvcm1hdF9tb2RlfHwiIjtmPWYudHJpbSgpO3ZhciBnPWUuZmllbGRfZm9ybWF0X3N0cmluZ3x8IiI7cmV0dXJuIGc9Zy50cmltKCksZyYmZy5sZW5ndGg+MCYmZiYmZi5sZW5ndGg+MCYmIUMoYSxmLGcpP2QobmV3IEVycm9yKCJmaWVsZCB2YWx1ZSBpbiBpbmNvcnJlY3QgZm9ybWF0LCBleHBlY3RlZCBmb3JtYXQ6ICIrZysiIGJ1dCBzdWJtaXNzaW9uIHZhbHVlIGlzOiAiK2EpKTpiLmZpZWxkT3B0aW9ucyYmYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbiYmYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbi5taW4mJmEubGVuZ3RoPGIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24ubWluP2QobmV3IEVycm9yKCJFeHBlY3RlZCBtaW5pbXVtIHN0cmluZyBsZW5ndGggb2YgIitiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbisiIGJ1dCBzdWJtaXNzaW9uIGlzICIrYS5sZW5ndGgrIi4gU3VibWl0dGVkIHZhbDogIithKSk6Yi5maWVsZE9wdGlvbnMmJmIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24mJmIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24ubWF4JiZhLmxlbmd0aD5iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heD9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbWF4aW11bSBzdHJpbmcgbGVuZ3RoIG9mICIrYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbi5tYXgrIiBidXQgc3VibWlzc2lvbiBpcyAiK2EubGVuZ3RoKyIuIFN1Ym1pdHRlZCB2YWw6ICIrYSkpOmQoKX1mdW5jdGlvbiBFKGEsYixjLGQpe3ZhciBlPWEtMCxmPWU9PWE7cmV0dXJuIGY/RihlLGIsYyxkKTpkKG5ldyBFcnJvcigiRXhwZWN0ZWQgbnVtZXJpYyBidXQgZ290OiAiK2EpKX1mdW5jdGlvbiBGKGEsYixjLGQpe3JldHVybiJudW1iZXIiIT10eXBlb2YgYT9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbnVtYmVyIGJ1dCBnb3QgIit0eXBlb2YgYSkpOmIuZmllbGRPcHRpb25zJiZiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uJiZiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbiYmYTxiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbj9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbWluaW11bSBOdW1iZXIgIitiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbisiIGJ1dCBzdWJtaXNzaW9uIGlzICIrYSsiLiBTdWJtaXR0ZWQgbnVtYmVyOiAiK2EpKTpiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heCYmYT5iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heD9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbWF4aW11bSBOdW1iZXIgIitiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heCsiIGJ1dCBzdWJtaXNzaW9uIGlzICIrYSsiLiBTdWJtaXR0ZWQgbnVtYmVyOiAiK2EpKTpkKCl9ZnVuY3Rpb24gRyhhLGIsYyxkKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIHN0cmluZyBidXQgZ290ICIrdHlwZW9mIGEpKTpudWxsPT09YS5tYXRjaCgvWy0wLTlhLXpBLVouK19dK0BbLTAtOWEtekEtWi4rX10rXC5bYS16QS1aXXsyLDR9L2cpP2QobmV3IEVycm9yKCJJbnZhbGlkIGVtYWlsIGFkZHJlc3MgZm9ybWF0OiAiK2EpKTpkKCl9ZnVuY3Rpb24gSChhLGIsYyxkKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIHN1Ym1pc3Npb24gdG8gYmUgc3RyaW5nIGJ1dCBnb3QgIit0eXBlb2YgYSkpOmIuZmllbGRPcHRpb25zLmRlZmluaXRpb24ub3B0aW9ucz92b2lkIGYuc29tZShiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm9wdGlvbnMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYyhiLmxhYmVsPT09YSl9LGZ1bmN0aW9uKGIpe3JldHVybiBiP2QoKTpkKG5ldyBFcnJvcigiSW52YWxpZCBvcHRpb24gc3BlY2lmaWVkOiAiK2EpKX0pOmQobmV3IEVycm9yKCJObyBvcHRpb25zIGV4aXN0IGZvciBmaWVsZCAiK2IubmFtZSkpfWZ1bmN0aW9uIEkoYSxiLGMsZCl7dmFyIGU7YiYmYi5maWVsZE9wdGlvbnMmJmIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24mJihlPWIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24ubWluKTt2YXIgZztpZihiJiZiLmZpZWxkT3B0aW9ucyYmYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbiYmKGc9Yi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbi5tYXgpLGUmJihudWxsPT09YS5zZWxlY3Rpb25zfHx2b2lkIDA9PT1hLnNlbGVjdGlvbnN8fGEuc2VsZWN0aW9ucy5sZW5ndGg8ZSkpe3ZhciBoO3JldHVybiBhLnNlbGVjdGlvbnMmJihoPWEuc2VsZWN0aW9ucy5sZW5ndGgpLGQobmV3IEVycm9yKCJFeHBlY3RlZCBhIG1pbmltdW0gbnVtYmVyIG9mIHNlbGVjdGlvbnMgIitlKyIgYnV0IGdvdCAiK2gpKX1pZihnJiZhLnNlbGVjdGlvbnMmJmEuc2VsZWN0aW9ucy5sZW5ndGg+ZylyZXR1cm4gZChuZXcgRXJyb3IoIkV4cGVjdGVkIGEgbWF4aW11bSBudW1iZXIgb2Ygc2VsZWN0aW9ucyAiK2crIiBidXQgZ290ICIrYS5zZWxlY3Rpb25zLmxlbmd0aCkpO3ZhciBpPVtdO2YuZWFjaFNlcmllcyhiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm9wdGlvbnMsZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSlpLnB1c2goYVtjXSk7cmV0dXJuIGIoKX0sZnVuY3Rpb24oKXtmLmVhY2hTZXJpZXMoYS5zZWxlY3Rpb25zLGZ1bmN0aW9uKGEsYil7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhP2IobmV3IEVycm9yKCJFeHBlY3RlZCBjaGVja2JveCBzdWJtaXNzaW9uIHRvIGJlIHN0cmluZyBidXQgZ290ICIrdHlwZW9mIGEpKTotMT09PWkuaW5kZXhPZihhKT9iKG5ldyBFcnJvcigiQ2hlY2tib3ggT3B0aW9uICIrYSsiIGRvZXMgbm90IGV4aXN0IGluIHRoZSBmaWVsZC4iKSk6YigpfSxkKX0pfWZ1bmN0aW9uIEooYSxiLGMsZCl7cmV0dXJuIGEubGF0JiZhWyJsb25nIl0/aXNOYU4ocGFyc2VGbG9hdChhLmxhdCkpfHxpc05hTihwYXJzZUZsb2F0KGFbImxvbmciXSkpP2QobmV3IEVycm9yKCJJbnZhbGlkIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgdmFsdWVzIikpOmQoKTpkKG5ldyBFcnJvcigiSW52YWxpZCBvYmplY3QgZm9yIGxvY2F0aW9uTWFwIHN1Ym1pc3Npb24iKSl9ZnVuY3Rpb24gSyhhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYil7aWYoInN0cmluZyIhPXR5cGVvZiBhLnpvbmV8fDA9PT1hLnpvbmUubGVuZ3RoKXJldHVybiBiKG5ldyBFcnJvcigiSW52YWxpZCB6b25lIGRlZmluaXRpb24gZm9yIG5vcnRoaW5ncyBhbmQgZWFzdGluZ3MgbG9jYXRpb24uICIrYS56b25lKSk7dmFyIGM9cGFyc2VJbnQoYS5lYXN0aW5ncywxMCk7aWYoaXNOYU4oYykpcmV0dXJuIGIobmV3IEVycm9yKCJJbnZhbGlkIGVhc3RpbmdzIGRlZmluaXRpb24gZm9yIG5vcnRoaW5ncyBhbmQgZWFzdGluZ3MgbG9jYXRpb24uICIrYS5lYXN0aW5ncykpO3ZhciBkPXBhcnNlSW50KGEubm9ydGhpbmdzLDEwKTtyZXR1cm4gaXNOYU4oZCk/YihuZXcgRXJyb3IoIkludmFsaWQgbm9ydGhpbmdzIGRlZmluaXRpb24gZm9yIG5vcnRoaW5ncyBhbmQgZWFzdGluZ3MgbG9jYXRpb24uICIrYS5ub3J0aGluZ3MpKTpiKCl9cmV0dXJuImxhdGxvbmciPT09Yi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5sb2NhdGlvblVuaXQ/YS5sYXQmJmFbImxvbmciXT9pc05hTihwYXJzZUZsb2F0KGEubGF0KSl8fGlzTmFOKHBhcnNlRmxvYXQoYVsibG9uZyJdKSk/ZChuZXcgRXJyb3IoIkludmFsaWQgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSB2YWx1ZXMiKSk6ZCgpOmQobmV3IEVycm9yKCJJbnZhbGlkIG9iamVjdCBmb3IgbGF0aXR1ZGUgbG9uZ2l0dWRlIHN1Ym1pc3Npb24iKSk6YS56b25lJiZhLmVhc3RpbmdzJiZhLm5vcnRoaW5ncz9lKGEsZCk6ZChuZXcgRXJyb3IoIkludmFsaWQgb2JqZWN0IGZvciBub3J0aGluZ3MgZWFzdGluZyBzdWJtaXNzaW9uLiBab25lLCBFYXN0aW5ncyBhbmQgTm9ydGhpbmdzIGVsZW1ldHMgYXJlIHJlcXVpcmVkIikpfWZ1bmN0aW9uIEwoYSxiLGMsZCl7UChhLGIsYyxmdW5jdGlvbihlKXtyZXR1cm4gZT92b2lkIE4oYSxiLGMsZnVuY3Rpb24oZSl7cmV0dXJuIGU/dm9pZCBPKGEsYixjLGZ1bmN0aW9uKGEpe3JldHVybiBhP2QoYSk6ZCgpfSk6ZCgpfSk6ZCgpfSl9ZnVuY3Rpb24gTShhLGIsYyxkKXthPWF8fHt9O3ZhciBlPWEuZmllbGRPcHRpb25zfHx7fSxmPWUuZGVmaW5pdGlvbnx8e30sZz1mLmZpbGVfc2l6ZXx8bnVsbDtpZihudWxsIT09Zyl7dmFyIGg9YltjXSxpPTE7cmV0dXJuIGg+MWUzJiYoaT1oLzFlMyksaD4xZTMqZz9kKG5ldyBFcnJvcigiRmlsZSBzaXplIGlzIHRvbyBsYXJnZS4gRmlsZSBjYW4gYmUgYSBtYXhpbXVtIG9mICIrZysiS0IuIFNpemUgb2YgZmlsZSBzZWxlY3RlZDogIitpKyJLQiIpKTpkKCl9cmV0dXJuIGQoKX1mdW5jdGlvbiBOKGEsYixjLGQpe2lmKCJvYmplY3QiIT10eXBlb2YgYSlyZXR1cm4gZChuZXcgRXJyb3IoIkV4cGVjdGVkIG9iamVjdCBidXQgZ290ICIrdHlwZW9mIGEpKTt2YXIgZT1be2tleU5hbWU6ImZpbGVOYW1lIix2YWx1ZVR5cGU6InN0cmluZyJ9LHtrZXlOYW1lOiJmaWxlU2l6ZSIsdmFsdWVUeXBlOiJudW1iZXIifSx7a2V5TmFtZToiZmlsZVR5cGUiLHZhbHVlVHlwZToic3RyaW5nIn0se2tleU5hbWU6ImZpbGVVcGRhdGVUaW1lIix2YWx1ZVR5cGU6Im51bWJlciJ9LHtrZXlOYW1lOiJoYXNoTmFtZSIsdmFsdWVUeXBlOiJzdHJpbmcifV07Zi5lYWNoKGUsZnVuY3Rpb24oYixjKXt2YXIgZD10eXBlb2YgYVtiLmtleU5hbWVdO3JldHVybiBkIT09Yi52YWx1ZVR5cGU/YyhuZXcgRXJyb3IoIkV4cGVjdGVkICIrYi52YWx1ZVR5cGUrIiBidXQgZ290ICIrZCkpOiJmaWxlTmFtZSI9PT1iLmtleU5hbWUmJmFbYi5rZXlOYW1lXS5sZW5ndGg8PTA/YyhuZXcgRXJyb3IoIkV4cGVjdGVkIHZhbHVlIGZvciAiK2Iua2V5TmFtZSkpOmMoKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZChlKTp2b2lkIE0oYixhLCJmaWxlU2l6ZSIsZnVuY3Rpb24oYil7cmV0dXJuIGI/ZChiKTphLmhhc2hOYW1lLmluZGV4T2YoImZpbGVQbGFjZUhvbGRlciIpPi0xP2QoKTpjJiZjLmhhc2hOYW1lJiZjLmhhc2hOYW1lLmluZGV4T2YoYS5oYXNoTmFtZSk+LTE/ZCgpOmQobmV3IEVycm9yKCJJbnZhbGlkIGZpbGUgcGxhY2Vob2xkZXIgdGV4dCIrYS5oYXNoTmFtZSkpfSl9KX1mdW5jdGlvbiBPKGEsYixjLGQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBGaWxlKXJldHVybiBkKG5ldyBFcnJvcigiRXhwZWN0ZWQgRmlsZSBvYmplY3QgYnV0IGdvdCAiK3R5cGVvZiBhKSk7dmFyIGU9W3trZXlOYW1lOiJuYW1lIix2YWx1ZVR5cGU6InN0cmluZyJ9LHtrZXlOYW1lOiJzaXplIix2YWx1ZVR5cGU6Im51bWJlciJ9XTtmLmVhY2goZSxmdW5jdGlvbihiLGMpe3ZhciBkPXR5cGVvZiBhW2Iua2V5TmFtZV07cmV0dXJuIGQhPT1iLnZhbHVlVHlwZT9jKG5ldyBFcnJvcigiRXhwZWN0ZWQgIitiLnZhbHVlVHlwZSsiIGJ1dCBnb3QgIitkKSk6InN0cmluZyI9PT1kJiZhW2Iua2V5TmFtZV0ubGVuZ3RoPD0wP2MobmV3IEVycm9yKCJFeHBlY3RlZCB2YWx1ZSBmb3IgIitiLmtleU5hbWUpKToibnVtYmVyIj09PWQmJmFbYi5rZXlOYW1lXTw9MD9jKG5ldyBFcnJvcigiRXhwZWN0ZWQgPiAwIHZhbHVlIGZvciAiK2Iua2V5TmFtZSkpOmMoKX0sZnVuY3Rpb24oYyl7cmV0dXJuIGM/ZChjKTp2b2lkIE0oYixhLCJzaXplIixmdW5jdGlvbihhKXtyZXR1cm4gYT9kKGEpOmQoKX0pfSl9ZnVuY3Rpb24gUChhLGIsYyxkKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIGJhc2U2NCBzdHJpbmcgYnV0IGdvdCAiK3R5cGVvZiBhKSk6YS5sZW5ndGg8PTA/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIGJhc2U2NCBzdHJpbmcgYnV0IHdhcyBlbXB0eSIpKTpkKCl9ZnVuY3Rpb24gUShiLGMsZCxlKXt2YXIgZixnPSExLGg9W107aWYoInN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBlKG5ldyBFcnJvcigiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgIit0eXBlb2YgYikpO3N3aXRjaChjLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLmRhdGV0aW1lVW5pdCl7Y2FzZSBpOmg9Yi5zcGxpdCgiLyIpLGc9Mz09PWgubGVuZ3RoLGcmJihnPWEoaFsyXSwxLDMxKSksZyYmKGc9YShoWzFdLDEsMTIpKSxnJiYoZz1hKGhbMF0sMWUzLDk5OTkpKTt0cnl7Zj1nP25ldyBEYXRlKGhbM10saFsxXSxoWzBdKTpuZXcgRGF0ZShiKSxnPSJJbnZhbGlkIERhdGUiIT09Zi50b1N0cmluZygpfWNhdGNoKGwpe2c9ITF9cmV0dXJuIGc/ZSgpOmUobmV3IEVycm9yKCJJbnZhbGlkIGRhdGUgdmFsdWUgIitiKyIuIERhdGUgZm9ybWF0IGlzIFlZWVkvTU0vREQiKSk7Y2FzZSBqOnJldHVybiBoPWIuc3BsaXQoIjoiKSxnPTI9PT1oLmxlbmd0aHx8Mz09PWgubGVuZ3RoLGcmJihnPWEoaFswXSwwLDIzKSksZyYmKGc9YShoWzFdLDAsNTkpKSxnJiYzPT09aC5sZW5ndGgmJihnPWEoaFsyXSwwLDU5KSksZz9lKCk6ZShuZXcgRXJyb3IoIkludmFsaWQgdGltZSB2YWx1ZSAiK2IrIi4gVGltZSBmb3JtYXQgaXMgSEg6TU06U1MiKSk7Y2FzZSBrOmg9Yi5zcGxpdCgvWy0gOl0vKSxnPTY9PT1oLmxlbmd0aHx8NT09PWgubGVuZ3RoLGcmJihnPWEoaFsyXSwxLDMxKSksZyYmKGc9YShoWzFdLDEsMTIpKSxnJiYoZz1hKGhbMF0sMWUzLDk5OTkpKSxnJiYoZz1hKGhbM10sMCwyMykpLGcmJihnPWEoaFs0XSwwLDU5KSksZyYmNj09PWgubGVuZ3RoP2c9YShoWzVdLDAsNTkpOmhbNV09MDt0cnl7Zj1nP25ldyBEYXRlKGhbMF0saFsxXSxoWzJdLGhbM10saFs0XSxoWzVdKTpuZXcgRGF0ZShiKSxnPSJJbnZhbGlkIERhdGUiIT09Zi50b1N0cmluZygpfWNhdGNoKGwpe2c9ITF9cmV0dXJuIGc/ZSgpOmUobmV3IEVycm9yKCJJbnZhbGlkIGRhdGVUaW1lIHN0cmluZyAiK2IrIi4gZGF0ZVRpbWUgZm9ybWF0IGlzIFlZWVkvTU0vREQgSEg6TU06U1MiKSk7ZGVmYXVsdDpyZXR1cm4gZShuZXcgRXJyb3IoIkludmFsaWQgZGF0ZVRpbWUgZmllbGR0eXBlICIrYy5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5kYXRldGltZVVuaXQpKX19ZnVuY3Rpb24gUihhLGIsYyxkKXtyZXR1cm4gZChuZXcgRXJyb3IoIlNob3VsZCBub3Qgc3VibWl0IHNlY3Rpb24gZmllbGQ6ICIrYi5uYW1lKSl9ZnVuY3Rpb24gUyhhLGIpe3ZhciBjPSEwO2YuZWFjaChhLGZ1bmN0aW9uKGEsYil7dmFyIGQ9W10sZz1bXTtmLmVhY2goYS5ydWxlQ29uZGl0aW9uYWxTdGF0ZW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGMsZixoPVpbYS5zb3VyY2VGaWVsZF0saT0hMSxqPVtdO3JldHVybiBmYlthLnNvdXJjZUZpZWxkXSYmZmJbYS5zb3VyY2VGaWVsZF0uZmllbGRWYWx1ZXMmJihqPWZiW2Euc291cmNlRmllbGRdLmZpZWxkVmFsdWVzLGM9YS5yZXN0cmljdGlvbixmPWEuc291cmNlVmFsdWUsaT1lKGgsalswXSxmLGMpKSxkLnB1c2goe2ZpZWxkOmgsc3VibWlzc2lvblZhbHVlczpqLGNvbmRpdGlvbjpjLHRlc3RWYWx1ZTpmLHBhc3NlZDppfSksaSYmZy5wdXNoKGgpLGIoKX0sZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZihhLGIsYyl7cmV0dXJuImFuZCI9PT1hJiZiLmxlbmd0aD09PWMubGVuZ3RofHwib3IiPT09YSYmYi5sZW5ndGg+MH1yZXR1cm4gZSYmYihlKSxjPWYoYS5ydWxlQ29uZGl0aW9uYWxPcGVyYXRvcixnLGQpPyJzaG93Ij09PWEudHlwZSYmYzoic2hvdyIhPT1hLnR5cGUmJmMsYigpfSl9LGZ1bmN0aW9uKGEpe3JldHVybiBhP2IoYSk6Yih2b2lkIDAsYyl9KX1mdW5jdGlvbiBUKGEsYil7bChmdW5jdGlvbihjKXtyZXR1cm4gYz9iKGMpOmpiKGEpP1MoZWJbYV0sYik6Yih2b2lkIDAsITApfSl9ZnVuY3Rpb24gVShhLGIsYyl7bChmdW5jdGlvbihkKXtpZihkKXJldHVybiBjKGQpO3ZhciBlPVpbYV07cmV0dXJuICRbYV0/YyhuZXcgRXJyb3IoIlN1Ym1pc3Npb24gIithKyIgaXMgYW4gYWRtaW4gZmllbGQuIEFkbWluIGZpZWxkcyBjYW5ub3QgYmUgcGFzc2VkIHRvIHRoZSBydWxlcyBlbmdpbmUuIikpOmU/dm9pZCBmLndhdGVyZmFsbChbZnVuY3Rpb24oYSl7cmV0dXJuIGI/dm9pZCBUKGUucGFnZUlkLGEpOmEodm9pZCAwLCEwKX0sZnVuY3Rpb24oYixjKXtyZXR1cm4gYj9pYihhKT9TKGNiW2FdLGMpOmModm9pZCAwLCEwKTpjKHZvaWQgMCwhMSl9XSxjKTpjKG5ldyBFcnJvcigiRmllbGQgZG9lcyBub3QgZXhpc3QgaW4gZm9ybSIpKX0pfWZ1bmN0aW9uIFYoYSxiKXtsKGZ1bmN0aW9uKGMpe3JldHVybiBjP2IoYyk6dm9pZCBtKGEsZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gYihhKTt2YXIgYz17fTtmLnBhcmFsbGVsKFtmdW5jdGlvbihhKXtjLmZpZWxkcz17fSxmLmVhY2hTZXJpZXMoT2JqZWN0LmtleXMoY2IpLGZ1bmN0aW9uKGEsYil7VShhLCExLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGQ/YihkKTooYy5maWVsZHNbYV09e3RhcmdldElkOmEsYWN0aW9uOmU/InNob3ciOiJoaWRlIn0sYigpKX0pfSxhKX0sZnVuY3Rpb24oYSl7Yy5wYWdlcz17fSxmLmVhY2hTZXJpZXMoT2JqZWN0LmtleXMoZWIpLGZ1bmN0aW9uKGEsYil7VChhLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGQ/YihkKTooYy5wYWdlc1thXT17dGFyZ2V0SWQ6YSxhY3Rpb246ZT8ic2hvdyI6ImhpZGUifSxiKCkpfSl9LGEpfV0sZnVuY3Rpb24oYSl7cmV0dXJuIGE/YihhKTpiKHZvaWQgMCx7YWN0aW9uczpjfSl9KX0pfSl9dmFyIFcsWCxZPWIsWj17fSwkPXt9LF89e30sYWI9e30sYmI9e30sY2I9e30sZGI9e30sZWI9e30sZmI9e30sZ2I9e3RleHQ6RCx0ZXh0YXJlYTpELG51bWJlcjpFLGVtYWlsQWRkcmVzczpHLGRyb3Bkb3duOkgscmFkaW86SCxjaGVja2JveGVzOkksbG9jYXRpb246Syxsb2NhdGlvbk1hcDpKLHBob3RvOk4sc2lnbmF0dXJlOk4sZmlsZTpOLGRhdGVUaW1lOlEsdXJsOkQsc2VjdGlvbkJyZWFrOlJ9LGhiPXt0ZXh0OkQsdGV4dGFyZWE6RCxudW1iZXI6RSxlbWFpbEFkZHJlc3M6Ryxkcm9wZG93bjpILHJhZGlvOkgsY2hlY2tib3hlczpJLGxvY2F0aW9uOkssbG9jYXRpb25NYXA6SixwaG90bzpMLHNpZ25hdHVyZTpMLGZpbGU6TCxkYXRlVGltZTpRLHVybDpELHNlY3Rpb25CcmVhazpSfSxpYj1mdW5jdGlvbihhKXtyZXR1cm4hIWNiW2FdfSxqYj1mdW5jdGlvbihhKXtyZXR1cm4hIWViW2FdfTtyZXR1cm57dmFsaWRhdGVGb3JtOm8sdmFsaWRhdGVGaWVsZDpyLHZhbGlkYXRlRmllbGRWYWx1ZTpzLGNoZWNrUnVsZXM6Vix2YWxpZGF0ZUZpZWxkSW50ZXJuYWw6eixpbml0U3VibWlzc2lvbjptLGlzRmllbGRWaXNpYmxlOlUsaXNDb25kaXRpb25BY3RpdmU6ZX19OyJ1bmRlZmluZWQiIT10eXBlb2YgZCYmZC5leHBvcnRzJiYoZC5leHBvcnRzPWwpfSgpLGQuZXhwb3J0cyhhKX12YXIgYj1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7dmFyIGQ9e3VwZGF0ZUZvcm1zOiEwfTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGMpYz1hO2Vsc2UgZm9yKHZhciBlIGluIGEpZFtlXT1hW2VdO3ZhciBmPWQuY29uZmlnfHx7fTtiLmNvbmZpZz1iLm1vZGVscy5jb25maWcsYi5jb25maWcuaW5pdChmLGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRm9ybSBjb25maWcgbG9hZGluZyBlcnJvcjogIixhKSxiLm1vZGVscy5sb2cubG9hZExvY2FsKGZ1bmN0aW9uKGEpe2EmJmNvbnNvbGUuZXJyb3IoIkVycm9yIGxvYWRpbmcgY29uZmlnIGZyb20gbG9jYWwgc3RvcmFnZSIpLGIubW9kZWxzLnN1Ym1pc3Npb25zLmxvYWRMb2NhbChmdW5jdGlvbihhKXthJiZjb25zb2xlLmVycm9yKCJFcnJvciBsb2FkaW5nIHN1Ym1pc3Npb25zIiksYi5tb2RlbHMudXBsb2FkTWFuYWdlci5sb2FkTG9jYWwoZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJVcGxvYWQgTWFuYWdlciBsb2FkZWQgZnJvbSBtZW1vcnkuIiksYSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBsb2FkaW5nIHVwbG9hZCBtYW5hZ2VyIGZyb20gbWVtb3J5ICIsYSksYi5tb2RlbHMudXBsb2FkTWFuYWdlci5zdGFydCgpLCRmaC5mb3Jtcy5sb2cubCgiUmVmcmVzaGluZyBUaGVtZS4iKSxiLm1vZGVscy50aGVtZS5yZWZyZXNoKCEwLGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgcmVmcmVzaGluZyB0aGVtZSAiLGEpLGQudXBkYXRlRm9ybXM9PT0hMD8oJGZoLmZvcm1zLmxvZy5sKCJSZWZyZXNoaW5nIEZvcm1zLiIpLGIubW9kZWxzLmZvcm1zLnJlZnJlc2goITAsZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciByZWZyZXNoaW5nIGZvcm1zOiAiLGEpLGMoKX0pKTpjKCl9KX0pfSl9KX0pfXJldHVybiBhLmluaXQ9YyxhfShifHx7fSk7Yi51dGlscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuUGhvbmVnYXB8fCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmNvcmRvdmF9ZnVuY3Rpb24gYyhhLGIpe2lmKGIuY29uc3RydWN0b3ImJmIuY29uc3RydWN0b3I9PT1GdW5jdGlvbilmb3IodmFyIGMgaW4gYi5wcm90b3R5cGUpYS5wcm90b3R5cGVbY109Yi5wcm90b3R5cGVbY107ZWxzZSBmb3IodmFyIGQgaW4gYilhLnByb3RvdHlwZVtkXT1iW2RdfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bmV3IERhdGU7cmV0dXJuIGE/Yi5nZXRUaW1lem9uZU9mZnNldCgpOmJ9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmdldFByb3BzKCksYz1iLl9pZCxlPWIuX3R5cGUsZj1kKCkuZ2V0VGltZSgpO3JldHVybiBjJiZlP2MrIl8iK2UrIl8iK2Y6Yz9jKyJfIitmOmU/ZSsiXyIrZjpmfWZ1bmN0aW9uIGYoYSxiKXsidW5kZWZpbmVkIiE9dHlwZW9mICRmaCYmJGZoLmhhc2g/JGZoLmhhc2goe2FsZ29yaXRobToiTUQ1Iix0ZXh0OmF9LGZ1bmN0aW9uKGEpe2EmJmEuaGFzaHZhbHVlP2IobnVsbCxhLmhhc2h2YWx1ZSk6YigiQ3J5cHRvIGZhaWxlZC4iKX0pOmIoIkNyeXB0byBub3QgZm91bmQiKX1mdW5jdGlvbiBnKGEsYil7JGZoLmZvcm1zLmxvZy5kKCJTZW5kaW5nIG1haWw6ICIsYSksJGZoLnNlbmQoYSxmdW5jdGlvbigpe2IobnVsbCl9LGZ1bmN0aW9uKGEpe2IoYSl9KX1yZXR1cm4gYS5leHRlbmQ9YyxhLmxvY2FsSWQ9ZSxhLm1kNT1mLGEuZ2V0VGltZT1kLGEuc2VuZD1nLGEuaXNQaG9uZUdhcD1iLGF9KGIudXRpbHN8fHt9KSxiLnV0aWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gcigpLHN9ZnVuY3Rpb24gZChhLGIpe2lmKCFhIGluc3RhbmNlb2YgRmlsZSlyZXR1cm4gYigiT25seSBmaWxlIG9iamVjdCBjYW4gYmUgdXNlZCBmb3IgY29udmVydGluZyIpO3ZhciBjPW5ldyBGaWxlUmVhZGVyO2Mub25sb2FkZW5kPWZ1bmN0aW9uKGEpe3ZhciBjPWEudGFyZ2V0LnJlc3VsdDtyZXR1cm4gYihudWxsLGMpfSxjLnJlYWRBc0RhdGFVUkwoYSl9ZnVuY3Rpb24gZShhKXt2YXIgYztpZihiLnV0aWxzLmlzUGhvbmVHYXAoKSljPWE7ZWxzZXt2YXIgZD0idGV4dC9wbGFpbiI7dHJ5e2M9bmV3IEJsb2IoW2FdLHt0eXBlOmR9KX1jYXRjaChlKXt2YXIgZj13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyfHx3aW5kb3cuTVNCbG9iQnVpbGRlcjtpZigiVHlwZUVycm9yIj09PWUubmFtZSYmZil7dmFyIGc9bmV3IGY7Zy5hcHBlbmQoW2EuYnVmZmVyXSksYz1nLmdldEJsb2IoZCl9ZWxzZSBjPWF9fXJldHVybiBjfWZ1bmN0aW9uIGYoYSl7aCgiZHVtbXkudHh0IiwiVGVzdENvbnRuZXQiLGZ1bmN0aW9uKGIpe3JldHVybiBiP2EoYik6dm9pZCBwKCJkdW1teS50eHQiLDAse30sZnVuY3Rpb24oYixjKXt2YXIgZD1jLmZ1bGxQYXRoLnJlcGxhY2UoImR1bW15LnR4dCIsIiIpO3JldHVybiBjLnJlbW92ZSgpLGEobnVsbCxkKX0pfSl9ZnVuY3Rpb24gZyhhKXt2YXIgYj1udWxsO2lmKCJvYmplY3QiPT10eXBlb2YgYSYmbnVsbCE9PWEpaWYoYSBpbnN0YW5jZW9mIEZpbGV8fGEgaW5zdGFuY2VvZiBCbG9iKWI9YTtlbHNle3ZhciBjPUpTT04uc3RyaW5naWZ5KGEpO2I9ZShjKX1lbHNlInN0cmluZyI9PXR5cGVvZiBhJiYoYj1lKGEpKTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYyxkKXt2YXIgZT1nKGMpO2lmKG51bGw9PT1lKXJldHVybiBkKCJJbnZhbGlkIGNvbnRlbnQgdHlwZS4gT2JqZWN0IHdhcyBudWxsIik7dmFyIGY9ZS5zaXplfHxlLmxlbmd0aDtwKGEsZix7Y3JlYXRlOiEwfSxmdW5jdGlvbihjLGYpe2M/ZChjKTpiLnV0aWxzLmlzUGhvbmVHYXAoKSYmZSBpbnN0YW5jZW9mIEZpbGU/Zi5nZXRQYXJlbnQoZnVuY3Rpb24oYil7byhlLmZ1bGxQYXRoLGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGM/ZChjKTooYT1mLm5hbWUsdm9pZCBmLnJlbW92ZShmdW5jdGlvbigpe2UuY29weVRvKGIsYSxmdW5jdGlvbihhKXtyZXR1cm4gZChudWxsLGEpfSxmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0pfSxmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0pKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSl9KX0sZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSl9KTpmLmNyZWF0ZVdyaXRlcihmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBkKG51bGwsYSl9ZnVuY3Rpb24gYygpe2Eub253cml0ZWVuZD1iLGEud3JpdGUoZSl9YS5vbndyaXRlZW5kPWMsYS50cnVuY2F0ZSgwKX0sZnVuY3Rpb24oYSl7ZCgiRmFpbGVkIHRvIGNyZWF0ZSBmaWxlIHdyaXRlOiIrYSl9KX0pfWZ1bmN0aW9uIGkoYSxiKXtwKGEsMCx7fSxmdW5jdGlvbihhLGMpe3JldHVybiBhPyJOb3RGb3VuZEVycm9yIiE9PWEubmFtZSYmMSE9PWEuY29kZT9iKGEpOmIobnVsbCxudWxsKTp2b2lkIGMucmVtb3ZlKGZ1bmN0aW9uKCl7YihudWxsLG51bGwpfSxmdW5jdGlvbihhKXtiKCJGYWlsZWQgdG8gcmVtb3ZlIGZpbGUiK2EpfSl9KX1mdW5jdGlvbiBqKGEsYil7bihhLGZ1bmN0aW9uKGEsYyl7aWYoYSliKGEpO2Vsc2V7dmFyIGQ9bmV3IEZpbGVSZWFkZXI7ZC5vbmxvYWRlbmQ9ZnVuY3Rpb24oYSl7dmFyIGM9YS50YXJnZXQucmVzdWx0OyJvYmplY3QiPT10eXBlb2YgYyYmKGM9SlNPTi5zdHJpbmdpZnkoYykpO3RyeXtjPWRlY29kZVVSSUNvbXBvbmVudChjKX1jYXRjaChkKXt9cmV0dXJuIGIobnVsbCxjKX0sZC5yZWFkQXNUZXh0KGMpfX0pfWZ1bmN0aW9uIGsoYSxiKXtuKGEsZnVuY3Rpb24oYSxjKXtpZihhKXJldHVybiBiKGEpO3ZhciBkPW5ldyBGaWxlUmVhZGVyO2Qub25sb2FkZW5kPWZ1bmN0aW9uKGEpe3ZhciBjPWEudGFyZ2V0LnJlc3VsdDtyZXR1cm4gYihudWxsLGMpfSxkLnJlYWRBc0RhdGFVUkwoYyl9KX1mdW5jdGlvbiBsKGEsYil7bihhLGZ1bmN0aW9uKGEsYyl7aWYoYSlyZXR1cm4gYihhKTt2YXIgZD1jLnR5cGUsZT1uZXcgRmlsZVJlYWRlcjtlLm9ubG9hZGVuZD1mdW5jdGlvbihhKXt2YXIgYz1hLnRhcmdldC5yZXN1bHQsZT1uZXcgQmxvYihbY10se3R5cGU6ZH0pO2IobnVsbCxlKX0sZS5yZWFkQXNBcnJheUJ1ZmZlcihjKX0pfWZ1bmN0aW9uIG0oYSxiKXtuKGEsYil9ZnVuY3Rpb24gbihhLGIpe3AoYSwwLHt9LGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGE/YihhKTp2b2lkIGMuZmlsZShmdW5jdGlvbihhKXtiKG51bGwsYSl9LGZ1bmN0aW9uKGEpe2IoYSl9KX0pfWZ1bmN0aW9uIG8oYSxiKXstMT09PWEuaW5kZXhPZigiZmlsZTovLyIpJiYiV2luMzJOVCIhPT13aW5kb3cuZGV2aWNlLnBsYXRmb3JtJiYoYT0iZmlsZTovLyIrYSksd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkkoYSxmdW5jdGlvbihhKXtyZXR1cm4gYihudWxsLGEpfSxmdW5jdGlvbihhKXtyZXR1cm4gYihhKX0pfWZ1bmN0aW9uIHAoYSxjLGQsZSl7cigpLCJzdHJpbmciPT10eXBlb2YgYT90KHUsYyxmdW5jdGlvbihmKXtmLnJvb3QuZ2V0RmlsZShhLGQsZnVuY3Rpb24oYSl7ZShudWxsLGEpfSxmdW5jdGlvbihmKXtpZigiUXVvdGFFeGNlZWRlZEVycm9yIj09PWYubmFtZXx8MTA9PT1mLmNvZGUpe3ZhciBnPTEwNzM3NDE4MjQ7cShnLGZ1bmN0aW9uKCl7cChhLGMsZCxlKX0pfWVsc2V7aWYoIWIudXRpbHMuaXNQaG9uZUdhcCgpKXJldHVybiBlKGYpO28oYSxlKX19KX0sZnVuY3Rpb24oKXtlKCJGYWlsZWQgdG8gcmVxdWVzdEZpbGVTeXN0ZW0iKX0pOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlKCJFeHBlY3RlZCBmaWxlIG5hbWUgdG8gYmUgYSBzdHJpbmcgYnV0IHdhcyAiK2EpfWZ1bmN0aW9uIHEoYSxiKXtuYXZpZ2F0b3Iud2Via2l0UGVyc2lzdGVudFN0b3JhZ2U/bmF2aWdhdG9yLndlYmtpdFBlcnNpc3RlbnRTdG9yYWdlLnJlcXVlc3RRdW90YShhLGZ1bmN0aW9uKGEpe2IobnVsbCxhKX0sZnVuY3Rpb24oYSl7YihhLDApfSk6YihudWxsLGEpfWZ1bmN0aW9uIHIoKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0/KHQ9d2luZG93LnJlcXVlc3RGaWxlU3lzdGVtLHM9ITApOndpbmRvdy53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbT8odD13aW5kb3cud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0scz0hMCk6cz0hMSx3aW5kb3cuTG9jYWxGaWxlU3lzdGVtP3U9d2luZG93LkxvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5UOndpbmRvdy5QRVJTSVNURU5UJiYodT13aW5kb3cuUEVSU0lTVEVOVCl9YS5maWxlU3lzdGVtPXtpc0ZpbGVTeXN0ZW1BdmFpbGFibGU6YyxzYXZlOmgscmVtb3ZlOmkscmVhZEFzVGV4dDpqLHJlYWRBc0Jsb2I6bCxyZWFkQXNCYXNlNjRFbmNvZGVkOmsscmVhZEFzRmlsZTptLGZpbGVUb0Jhc2U2NDpkLGdldEJhc2VQYXRoOmZ9O3ZhciBzPSExLHQ9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJObyBmaWxlIHN5c3RlbSBhdmFpbGFibGUiKX0sdT0xO3JldHVybiByKCksYX0oYi51dGlsc3x8e30pLGIudXRpbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBpKCksbX1mdW5jdGlvbiBjKCl7cmV0dXJuIGkoKSxsfWZ1bmN0aW9uIGQoYSxiKXtpKCksaChhLGIpfWZ1bmN0aW9uIGUoKXtxJiYocS5zdG9wKCkscT1udWxsKX1mdW5jdGlvbiBmKGEsYil7YT1hfHx7fSwkZmguZm9ybXMubG9nLmQoIlRha2luZyBwaG90byAiLGEsbCk7dmFyIGM9YS50YXJnZXRXaWR0aD9hLnRhcmdldFdpZHRoOiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJ0YXJnZXRXaWR0aCIsNjQwKSxkPWEudGFyZ2V0SGVpZ2h0P2EudGFyZ2V0SGVpZ2h0OiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJ0YXJnZXRIZWlnaHQiLDQ4MCksZT1hLnF1YWxpdHk/YS5xdWFsaXR5OiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJxdWFsaXR5Iiw1MCksZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuc2F2ZVRvUGhvdG9BbGJ1bT9hLnNhdmVUb1Bob3RvQWxidW06JGZoLmZvcm1zLmNvbmZpZy5nZXQoInNhdmVUb1Bob3RvQWxidW0iKSxoPWEuZW5jb2RpbmdUeXBlP2EuZW5jb2RpbmdUeXBlOiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJlbmNvZGluZ1R5cGUiLCJqcGVnIik7YS50YXJnZXRXaWR0aD1jLGEudGFyZ2V0SGVpZ2h0PWQsYS5xdWFsaXR5PWUsYS5zYXZlVG9QaG90b0FsYnVtPWYsYS5lbmNvZGluZ1R5cGU9aCwidW5kZWZpbmVkIj09dHlwZW9mIGEuc291cmNlVHlwZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBDYW1lcmEmJihhLnNvdXJjZVR5cGU9Q2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLkNBTUVSQSksbD8oYS5lbmNvZGluZ1R5cGU9ImpwZWciPT09YS5lbmNvZGluZ1R5cGU/Q2FtZXJhLkVuY29kaW5nVHlwZS5KUEVHOkNhbWVyYS5FbmNvZGluZ1R5cGUuUE5HLG5hdmlnYXRvci5jYW1lcmEuZ2V0UGljdHVyZShnKGIpLGIse3F1YWxpdHk6ZSx0YXJnZXRXaWR0aDpjLHRhcmdldEhlaWdodDpkLHNvdXJjZVR5cGU6YS5zb3VyY2VUeXBlLHNhdmVUb1Bob3RvQWxidW06YS5zYXZlVG9QaG90b0FsYnVtLGRlc3RpbmF0aW9uVHlwZTpDYW1lcmEuRGVzdGluYXRpb25UeXBlLkZJTEVfVVJJLGVuY29kaW5nVHlwZTphLmVuY29kaW5nVHlwZX0pKTptP2soYSxiKTpiKCJZb3VyIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGNhbWVyYS4iKX1mdW5jdGlvbiBnKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iO2EobnVsbCxjKX19ZnVuY3Rpb24gaChhLGIpeyRmaC5mb3Jtcy5sb2cuZCgiVGFraW5nIHBob3RvIF9odG1sNUNhbWVyYSIsYSxsKTt2YXIgYz1hLnRhcmdldFdpZHRofHwkZmguZm9ybXMuY29uZmlnLmdldCgidGFyZ2V0V2lkdGgiKSxkPWEudGFyZ2V0SGVpZ2h0fHwkZmguZm9ybXMuY29uZmlnLmdldCgidGFyZ2V0SGVpZ2h0Iik7bi53aWR0aD1jLG4uaGVpZ2h0PWQsby53aWR0aD1jLG8uaGVpZ2h0PWQscT8oJGZoLmZvcm1zLmxvZy5lKCJNZWRpYSBkZXZpY2Ugd2FzIG5vdCByZWxlYXNlZCBieSBicm93c2VyLiIpLGIoIk1lZGlhIGRldmljZSBvY2N1cGllZC4iKSk6bmF2aWdhdG9yLmdldFVzZXJNZWRpYSh7dmlkZW86ITB9LGZ1bmN0aW9uKGEpe24uc3JjPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGEpLHE9YSxiKG51bGwsbil9LGIpfWZ1bmN0aW9uIGkoKXskZmguZm9ybXMubG9nLmQoIkNoZWNraW5nIGVudiIpLG5hdmlnYXRvci5jYW1lcmEmJm5hdmlnYXRvci5jYW1lcmEuZ2V0UGljdHVyZT9sPSEwOmooKT8obT0hMCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIiksbi5hdXRvcGxheT0iYXV0b3BsYXkiLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikscD1vLmdldENvbnRleHQoIjJkIikpOmNvbnNvbGUuZXJyb3IoIkNhbm5vdCBkZXRlY3QgdXNhYmxlIG1lZGlhIEFQSS4gQ2FtZXJhIHdpbGwgbm90IHJ1biBwcm9wZXJseSBvbiB0aGlzIGRldmljZS4iKX1mdW5jdGlvbiBqKCl7cmV0dXJuIG5hdmlnYXRvci5nZXRVc2VyTWVkaWE/ITA6bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYT8obmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLCEwKTpuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhPyhuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEsITApOm5hdmlnYXRvci5tc0dldFVzZXJNZWRpYT8obmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEsITApOiExfWZ1bmN0aW9uIGsoYSxiKXtpZigkZmguZm9ybXMubG9nLmQoIlNuYXBzaG90ICIsYSkscSl7cC5kcmF3SW1hZ2UobiwwLDAsYS50YXJnZXRXaWR0aCxhLnRhcmdldEhlaWdodCk7dmFyIGM9by50b0RhdGFVUkwoImltYWdlL3BuZyIpO2UoKSxiKG51bGwsYyl9ZWxzZSAkZmguZm9ybXMubG9nLmUoIk1lZGlhIHJlc291cmNlIGlzIG5vdCBhdmFpbGFibGUiKSxiKCJSZXNvdXJjZSBub3QgYXZhaWxhYmxlIil9YS50YWtlUGhvdG89ZixhLmlzUGhvbmVHYXBDYW1BdmFpbGFibGU9YyxhLmlzSHRtbDVDYW1BdmFpbGFibGU9YixhLmluaXRIdG1sNUNhbWVyYT1kLGEuY2FuY2VsSHRtbDVDYW1lcmE9ZTt2YXIgbD0hMSxtPSExLG49bnVsbCxvPW51bGwscD1udWxsLHE9bnVsbDtyZXR1cm4gYX0oYi51dGlsc3x8e30pLGIud2ViPWZ1bmN0aW9uKGEpe3JldHVybiBhLnVwbG9hZEZpbGU9ZnVuY3Rpb24oYSxiLGMpeyRmaC5mb3Jtcy5sb2cuZCgiUGhvbmVnYXAgdXBsb2FkRmlsZSAiLGEsYik7dmFyIGQ9Yi5mdWxsUGF0aDtpZighJGZoLmZvcm1zLmNvbmZpZy5pc09ubGluZSgpKXJldHVybiAkZmguZm9ybXMubG9nLmUoIlBob25lZ2FwIHVwbG9hZEZpbGUuIE5vdCBPbmxpbmUuIixhLGIpLGMoIk5vIEludGVybmV0IENvbm5lY3Rpb24gQXZhaWxhYmxlLiIpO3ZhciBlPWZ1bmN0aW9uKGIpeyRmaC5mb3Jtcy5sb2cuZCgidXBsb2FkIHRvIHVybCAiLGEsIiBzdWNlc3NmdWwiKSxiLnJlc3BvbnNlPWIucmVzcG9uc2V8fHt9LCJzdHJpbmciPT10eXBlb2YgYi5yZXNwb25zZSYmKGIucmVzcG9uc2U9SlNPTi5wYXJzZShiLnJlc3BvbnNlKSksYyhudWxsLGIucmVzcG9uc2UpfSxmPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZSgiQW4gZXJyb3IgdXBsb2FkaW5nIGEgZmlsZSBoYXMgb2NjdXJyZWQ6IENvZGUgPSAiK2EuY29kZSksJGZoLmZvcm1zLmxvZy5kKCJ1cGxvYWQgZXJyb3Igc291cmNlICIrYS5zb3VyY2UpLCRmaC5mb3Jtcy5sb2cuZCgidXBsb2FkIGVycm9yIHRhcmdldCAiK2EudGFyZ2V0KSxjKGEpfSxnPW5ldyBGaWxlVXBsb2FkT3B0aW9ucztnLmZpbGVOYW1lPW51bGw9PWIubmFtZXx8IiI9PT1iLm5hbWU/ImltYWdlLnBuZyI6Yi5uYW1lLGcubWltZVR5cGU9Yi5jb250ZW50VHlwZT9iLmNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iLGcuaHR0cE1ldGhvZD0iaHR0cHMiLGcuY2h1bmtlZE1vZGU9ITAsZy5maWxlS2V5PSJmaWxlIixnLmhlYWRlcnM9e0Nvbm5lY3Rpb246ImNsb3NlIn0sJGZoLmZvcm1zLmxvZy5kKCJCZWdpbm5pbmcgZmlsZSB1cGxvYWQgIixhLGcpO3ZhciBoPW5ldyBGaWxlVHJhbnNmZXI7aC51cGxvYWQoZCxlbmNvZGVVUkkoYSksZSxmLGcpfSxhLmRvd25sb2FkRmlsZT1mdW5jdGlvbihhLGMsZCl7JGZoLmZvcm1zLmxvZy5kKCJQaG9uZWdhcCBkb3dubG9hZEZpbGUgIixhLGMpO3ZhciBlPW5ldyBGaWxlVHJhbnNmZXI7cmV0dXJuICRmaC5mb3Jtcy5jb25maWcuaXNPbmxpbmUoKT92b2lkIGIudXRpbHMuZmlsZVN5c3RlbS5nZXRCYXNlUGF0aChmdW5jdGlvbihiLGYpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRmlsZSBEb3dubG9hZCBDb21wbGV0ZWQgU3VjY2Vzc2Z1bGx5LiBGaWxlUGF0aDogIithLmZ1bGxQYXRoKSxkKG51bGwsYS50b1VSTCgpKX1mdW5jdGlvbiBoKGEpe3JldHVybiAkZmguZm9ybXMubG9nLmUoIkVycm9yIGRvd25sb2FkaW5nIGZpbGUgIitjLmZpbGVOYW1lKyIgY29kZTogIithLmNvZGUpLGQoIkVycm9yIGRvd25sb2FkaW5nIGZpbGUgIitjLmZpbGVOYW1lKyIgY29kZTogIithLmNvZGUpfWlmKGIpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZ2V0dGluZyBiYXNlIHBhdGggZm9yIGZpbGUgZG93bmxvYWQ6ICIrYSksZChiKTtpZighYy5maWxlTmFtZSlyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJObyBmaWxlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBmaWxlIHRvIGRvd25sb2FkIiksZCgiTm8gZmlsZSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlsZSB0byBkb3dubG9hZCIpOyRmaC5mb3Jtcy5sb2cuZCgiRmlsZSBuYW1lIGZvciBmaWxlICIrYy5maWxlTmFtZSsiIGZvdW5kLiBTdGFydGluZyBkb3dubG9hZCIpO3ZhciBpPWYrYy5maWxlTmFtZTtlLmRvd25sb2FkKGVuY29kZVVSSShhKSxpLGcsaCwhMSx7aGVhZGVyczp7Q29ubmVjdGlvbjoiY2xvc2UifX0pfSk6KCRmaC5mb3Jtcy5sb2cuZSgiUGhvbmVnYXAgZG93bmxvYWRGaWxlLiBOb3QgT25saW5lLiIsYSxjKSxkKCJObyBJbnRlcm5ldCBDb25uZWN0aW9uIEF2YWlsYWJsZS4iKSl9LGF9KGIud2VifHx7fSksYi53ZWIuYWpheD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIGMoYSxiKXskZmguZm9ybXMubG9nLmQoIkFqYXggZ2V0ICIsYSksZSh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihjKXskZmguZm9ybXMubG9nLmQoIkFqYXggZ2V0IixhLCJTdWNjZXNzIiksYihudWxsLGMpfSxlcnJvcjpmdW5jdGlvbihjLGQsZSl7JGZoLmZvcm1zLmxvZy5lKCJBamF4IGdldCIsYSwiRmFpbCIsYyxkLGUpLGIoYyl9fSl9ZnVuY3Rpb24gZChhLGIsYyl7JGZoLmZvcm1zLmxvZy5kKCJBamF4IHBvc3QgIixhLGIpO3ZhciBkLGY9ITE7aWYoIm9iamVjdCI9PXR5cGVvZiBiKWlmKGIgaW5zdGFuY2VvZiBGaWxlKXtmPSEwLGQ9bmV3IEZvcm1EYXRhO3ZhciBnPWIubmFtZTtkLmFwcGVuZChnLGIpLGI9ZH1lbHNlIGI9SlNPTi5zdHJpbmdpZnkoYik7dmFyIGg9e3VybDphLHR5cGU6IlBPU1QiLGRhdGE6YixkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihiKXskZmguZm9ybXMubG9nLmQoIkFqYXggcG9zdCAiLGEsIiBTdWNjZXNzIiksYyhudWxsLGIpfSxlcnJvcjpmdW5jdGlvbihiLGQsZSl7JGZoLmZvcm1zLmxvZy5lKCJBamF4IHBvc3QgIixhLCIgRmFpbCAiLGIsZCxlKSxjKGIpfX07Zj09PSExJiYoaC5jb250ZW50VHlwZT0iYXBwbGljYXRpb24vanNvbiIpLGUoaCl9YT0idW5kZWZpbmVkIiE9dHlwZW9mICRmaCYmJGZoLl9fYWpheD8kZmguX19hamF4OmIsYS5nZXQ9YyxhLnBvc3Q9ZDt2YXIgZT1hO3JldHVybiBhfShiLndlYi5hamF4fHx7fSksYi5zdG9yZXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLm5hbWU9YX1yZXR1cm4gYS5TdG9yZT1iLGIucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3Rocm93IkNyZWF0ZSBub3QgaW1wbGVtZW50ZWQ6Iit0aGlzLm5hbWV9LGIucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oKXt0aHJvdyJSZWFkIG5vdCBpbXBsZW1lbnRlZDoiK3RoaXMubmFtZX0sYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhyb3ciVXBkYXRlIG5vdCBpbXBsZW1lbnRlZDoiK3RoaXMubmFtZX0sYi5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24oKXt0aHJvdyJEZWxldGUgbm90IGltcGxlbWVudGVkOiIrdGhpcy5uYW1lfSxiLnByb3RvdHlwZS51cHNlcnQ9ZnVuY3Rpb24oKXt0aHJvdyJVcHNlcnQgbm90IGltcGxlbWVudGVkOiIrdGhpcy5uYW1lfSxhfShiLnN0b3Jlc3x8e30pLGIuc3RvcmVzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtiLnN0b3Jlcy5TdG9yZS5jYWxsKHRoaXMsIkxvY2FsU3RvcmFnZSIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGEuZ2V0TG9jYWxJZD9hLmdldExvY2FsSWQoKTphfWZ1bmN0aW9uIGUoKXtqKCk/Zy5hcHBseSh7fSxhcmd1bWVudHMpOmYuYXBwbHkoe30sYXJndW1lbnRzKX1mdW5jdGlvbiBmKGEsYixjKXtyZXR1cm4gJGZoJiYkZmguZGF0YT92b2lkICRmaC5kYXRhKGEsZnVuY3Rpb24oYyl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBjJiYoYz17a2V5OmEua2V5LHZhbDphLnZhbH0pLCJyZW1vdmUiPT09YS5hY3QudG9Mb3dlckNhc2UoKT9iKG51bGwsbnVsbCk6dm9pZCBiKG51bGwsYy52YWw/Yy52YWw6bnVsbCl9LGMpOmIoKX1mdW5jdGlvbiBnKGEsYyxkKXtmdW5jdGlvbiBlKGEpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgZD9kKGEse30pOnZvaWQgMH1mdW5jdGlvbiBmKGEsYyl7dmFyIGQ9Yi5jb25maWcuZ2V0KCJhcHBJZCIsInVua25vd25BcHBJZCIpO2ErPWQsaC5tZDUoYSxmdW5jdGlvbihiLGQpe2ImJihkPWEpO3ZhciBlPWQ7cmV0dXJuLTE9PT1hLmluZGV4T2YoImZpbGVQbGFjZUhvbGRlciIpJiYoZSs9Ii50eHQiKSwidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvci5leHRlcm5hbHN0b3JhZ2U/YyhlKTp2b2lkIG5hdmlnYXRvci5leHRlcm5hbHN0b3JhZ2UuZW5hYmxlKGZ1bmN0aW9uKGEpe3ZhciBiPWU7cmV0dXJuIGEucGF0aCYmKGI9YS5wYXRoLGIubWF0Y2goL1wvJC8pfHwoYis9Ii8iKSxiKz1lKSxlPWIsYyhlKX0sZnVuY3Rpb24oKXtyZXR1cm4gYyhlKX0pfSl9ZnVuY3Rpb24gZyhhLGIpe2YoYSxmdW5jdGlvbihhKXtpLnNhdmUoYSxiLGZ1bmN0aW9uKGEpe2E/ZShhKTpjKG51bGwsYil9KX0pfWZ1bmN0aW9uIGooYSl7ZihhLGZ1bmN0aW9uKGEpe2kucmVtb3ZlKGEsZnVuY3Rpb24oYSl7YT8iTm90Rm91bmRFcnJvciI9PT1hLm5hbWV8fDE9PT1hLmNvZGU/YyhudWxsLG51bGwpOmUoYSk6YyhudWxsLG51bGwpfSl9KX1mdW5jdGlvbiBrKGEpe2YoYSxmdW5jdGlvbihhKXtpLnJlYWRBc1RleHQoYSxmdW5jdGlvbihhLGIpe2E/Ik5vdEZvdW5kRXJyb3IiPT09YS5uYW1lfHwxPT09YS5jb2RlP2MobnVsbCxudWxsKTplKGEpOmMobnVsbCxiKX0pfSl9ZnVuY3Rpb24gbChhKXtmKGEsZnVuY3Rpb24oYSl7aS5yZWFkQXNGaWxlKGEsZnVuY3Rpb24oYSxiKXthPyJOb3RGb3VuZEVycm9yIj09PWEubmFtZXx8MT09PWEuY29kZT9jKG51bGwsbnVsbCk6ZShhKTpjKG51bGwsYil9KX0pfXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5hY3Q/ayhhLmtleSk6InNhdmUiPT09YS5hY3Q/ZyhhLmtleSxhLnZhbCk6InJlbW92ZSI9PT1hLmFjdD9qKGEua2V5KToibG9hZCI9PT1hLmFjdD9rKGEua2V5KToibG9hZEZpbGUiPT09YS5hY3Q/bChhLmtleSk6InVuZGVmaW5lZCIhPXR5cGVvZiBkP2QoIkFjdGlvbiBbIithLmFjdCsiXSBpcyBub3QgZGVmaW5lZCIse30pOnZvaWQgMH12YXIgaD1iLnV0aWxzLGk9aC5maWxlU3lzdGVtLGo9ZnVuY3Rpb24oKXt9O3JldHVybiBiLnV0aWxzLmV4dGVuZChjLGIuc3RvcmVzLlN0b3JlKSxjLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1oLmxvY2FsSWQoYSk7YS5zZXRMb2NhbElkKGMpLHRoaXMudXBkYXRlKGEsYil9LGMucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oYSxiKXtpZigib2JqZWN0Ij09dHlwZW9mIGEmJiJvZmZsaW5lVGVzdCI9PT1hLmdldCgiX3R5cGUiKSlyZXR1cm4gYihudWxsLHt9KTt2YXIgYz1kKGEpO251bGwhPWM/ZSh7YWN0OiJsb2FkIixrZXk6Yy50b1N0cmluZygpfSxiLGIpOmIobnVsbCxudWxsKX0sYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZChhKSxmPWEuZ2V0UHJvcHMoKSxnPUpTT04uc3RyaW5naWZ5KGYpO2Uoe2FjdDoic2F2ZSIsa2V5OmMudG9TdHJpbmcoKSx2YWw6Z30sYixiKX0sYy5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKGEpO2Uoe2FjdDoicmVtb3ZlIixrZXk6Yy50b1N0cmluZygpfSxiLGIpfSxjLnByb3RvdHlwZS51cHNlcnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKGEpO251bGw9PT1jP3RoaXMuY3JlYXRlKGEsYik6dGhpcy51cGRhdGUoYSxiKX0sYy5wcm90b3R5cGUuc3dpdGNoRmlsZVN5c3RlbT1mdW5jdGlvbihhKXtqPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxjLnByb3RvdHlwZS5kZWZhdWx0U3RvcmFnZT1mdW5jdGlvbigpe2o9ZnVuY3Rpb24oKXtyZXR1cm4gaS5pc0ZpbGVTeXN0ZW1BdmFpbGFibGUoKX19LGMucHJvdG90eXBlLnNhdmVGaWxlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaigpP3ZvaWQgZSh7YWN0OiJzYXZlIixrZXk6YSx2YWw6Yn0sYyxjKTpjKCJGaWxlIHN5c3RlbSBub3QgYXZhaWxhYmxlIil9LGMucHJvdG90eXBlLnVwZGF0ZVRleHRGaWxlPWZ1bmN0aW9uKGEsYixjKXtlKHthY3Q6InNhdmUiLGtleTphLHZhbDpifSxjLGMpfSxjLnByb3RvdHlwZS5yZWFkRmlsZT1mdW5jdGlvbihhLGIpe2Uoe2FjdDoibG9hZEZpbGUiLGtleTphfSxiLGIpfSxjLnByb3RvdHlwZS5yZWFkRmlsZVRleHQ9ZnVuY3Rpb24oYSxiKXtlKHthY3Q6ImxvYWQiLGtleTphfSxiLGIpfSxqPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaXNGaWxlU3lzdGVtQXZhaWxhYmxlKCl9LGEubG9jYWxTdG9yYWdlPW5ldyBjLGF9KGIuc3RvcmVzfHx7fSksYi5zdG9yZXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2UuY2FsbCh0aGlzLCJNQmFhUyIpfWZ1bmN0aW9uIGQoYSl7JGZoLmZvcm1zLmxvZy5kKCJfZ2V0VXJsICIsYSk7dmFyIGM9YS5nZXQoIl90eXBlIiksZD1iLmNvbmZpZy5nZXRDbG91ZEhvc3QoKSxlPWIuY29uZmlnLmdldCgibWJhYXNCYXNlVXJsIiksZj1iLmNvbmZpZy5nZXQoImZvcm1VcmxzIiksZz0iIjtmW2NdP2c9ZltjXTokZmguZm9ybXMubG9nLmUoInR5cGUgbm90IGZvdW5kIHRvIGdldCB1cmw6IitjKTt2YXIgaD1kK2UrZyxpPXt9O3N3aXRjaChpLmFwcElkPWIuY29uZmlnLmdldCgiYXBwSWQiKSxjKXtjYXNlImNvbmZpZyI6aS5hcHBpZD1hLmdldCgiYXBwSWQiKSxpLmRldmljZUlkPWEuZ2V0KCJkZXZpY2VJZCIpO2JyZWFrO2Nhc2UiZm9ybSI6aS5mb3JtSWQ9YS5nZXQoIl9pZCIpO2JyZWFrO2Nhc2UiZm9ybVN1Ym1pc3Npb24iOmkuZm9ybUlkPWEuZ2V0Rm9ybUlkKCk7YnJlYWs7Y2FzZSJmaWxlU3VibWlzc2lvbiI6aS5zdWJtaXNzaW9uSWQ9YS5nZXRTdWJtaXNzaW9uSWQoKSxpLmhhc2hOYW1lPWEuZ2V0SGFzaE5hbWUoKSxpLmZpZWxkSWQ9YS5nZXRGaWVsZElkKCk7YnJlYWs7Y2FzZSJiYXNlNjRmaWxlU3VibWlzc2lvbiI6aS5zdWJtaXNzaW9uSWQ9YS5nZXRTdWJtaXNzaW9uSWQoKSxpLmhhc2hOYW1lPWEuZ2V0SGFzaE5hbWUoKSxpLmZpZWxkSWQ9YS5nZXRGaWVsZElkKCk7YnJlYWs7Y2FzZSJzdWJtaXNzaW9uU3RhdHVzIjppLnN1Ym1pc3Npb25JZD1hLmdldCgic3VibWlzc2lvbklkIik7YnJlYWs7Y2FzZSJjb21wbGV0ZVN1Ym1pc3Npb24iOmkuc3VibWlzc2lvbklkPWEuZ2V0KCJzdWJtaXNzaW9uSWQiKTticmVhaztjYXNlImZvcm1TdWJtaXNzaW9uRG93bmxvYWQiOmkuc3VibWlzc2lvbklkPWEuZ2V0U3VibWlzc2lvbklkKCk7YnJlYWs7Y2FzZSJmaWxlU3VibWlzc2lvbkRvd25sb2FkIjppLnN1Ym1pc3Npb25JZD1hLmdldFN1Ym1pc3Npb25JZCgpLGkuZmlsZUdyb3VwSWQ9YS5nZXRGaWxlR3JvdXBJZCgpO2JyZWFrO2Nhc2Uib2ZmbGluZVRlc3QiOnJldHVybiJodHRwOi8vMTI3LjAuMC4xOjg0NTMifWZvcih2YXIgaiBpbiBpKWg9aC5yZXBsYWNlKCI6IitqLGlbal0pO3JldHVybiBofXZhciBlPWIuc3RvcmVzLlN0b3JlO3JldHVybiBhLm1CYWFTPW5ldyBjLGIudXRpbHMuZXh0ZW5kKGMsZSksYy5wcm90b3R5cGUuY2hlY2tTdHVkaW89ZnVuY3Rpb24oKXtyZXR1cm4gYi5jb25maWcuZ2V0KCJzdHVkaW9Nb2RlIil9LGMucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihhLGMpe3ZhciBlPXRoaXM7aWYoZS5jaGVja1N0dWRpbygpKWMoIlN0dWRpbyBtb2RlIG1iYWFzIG5vdCBzdXBwb3J0ZWQiKTtlbHNle3ZhciBmPWQoYSk7ZS5pc0ZpbGVBbmRQaG9uZUdhcChhKT9iLndlYi51cGxvYWRGaWxlKGYsYS5nZXRQcm9wcygpLGMpOmIud2ViLmFqYXgucG9zdChmLGEuZ2V0UHJvcHMoKSxjKX19LGMucHJvdG90eXBlLmlzRmlsZUFuZFBob25lR2FwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGIuaXNGaWxlVHJhbnNmZXIoYSkmJmIuaXNQaG9uZUdhcCgpfSxjLnByb3RvdHlwZS5pc0ZpbGVUcmFuc2Zlcj1mdW5jdGlvbihhKXtyZXR1cm4iZmlsZVN1Ym1pc3Npb24iPT09YS5nZXQoIl90eXBlIil8fCJiYXNlNjRmaWxlU3VibWlzc2lvbiI9PT1hLmdldCgiX3R5cGUiKXx8ImZpbGVTdWJtaXNzaW9uRG93bmxvYWQiPT09YS5nZXQoIl90eXBlIil9LGMucHJvdG90eXBlLmlzUGhvbmVHYXA9ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5QaG9uZWdhcHx8InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuY29yZG92YX0sYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihhLGMpe3ZhciBlPXRoaXM7aWYoZS5jaGVja1N0dWRpbygpKWMoIlN0dWRpbyBtb2RlIG1iYWFzIG5vdCBzdXBwb3J0ZWQiKTtlbHNlIGlmKCJvZmZsaW5lVGVzdCI9PT1hLmdldCgiX3R5cGUiKSljKCJvZmZsaW5ldGVzdC4gaWdub3JlIik7ZWxzZXt2YXIgZj1kKGEpO2lmKGUuaXNGaWxlVHJhbnNmZXIoYSkmJmUuaXNQaG9uZUdhcCgpKWIud2ViLmRvd25sb2FkRmlsZShmLGEuZ2V0RmlsZU1ldGFEYXRhKCksYyk7ZWxzZXtpZihlLmlzRmlsZVRyYW5zZmVyKGEpKXJldHVybiBjKG51bGwsYS5nZXRSZW1vdGVGaWxlVVJMKCkpO2Iud2ViLmFqYXguZ2V0KGYsYyl9fX0sYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7fSxjLnByb3RvdHlwZVsiZGVsZXRlIl09ZnVuY3Rpb24oKXt9LGMucHJvdG90eXBlLmNvbXBsZXRlU3VibWlzc2lvbj1mdW5jdGlvbihhLGMpe2lmKHRoaXMuY2hlY2tTdHVkaW8oKSlyZXR1cm4gYygiU3R1ZGlvIG1vZGUgbWJhYXMgbm90IHN1cHBvcnRlZCIpO3ZhciBlPWQoYSk7Yi53ZWIuYWpheC5wb3N0KGUse30sYyl9LGMucHJvdG90eXBlLnN1Ym1pc3Npb25TdGF0dXM9ZnVuY3Rpb24oYSxjKXtpZih0aGlzLmNoZWNrU3R1ZGlvKCkpcmV0dXJuIGMoIlN0dWRpbyBtb2RlIG1iYWFzIG5vdCBzdXBwb3J0ZWQiKTt2YXIgZT1kKGEpO2Iud2ViLmFqYXguZ2V0KGUsYyl9LGMucHJvdG90eXBlLmlzT25saW5lPWZ1bmN0aW9uKGEpe3ZhciBjPWIuY29uZmlnLmdldENsb3VkSG9zdCgpLGQ9YytiLmNvbmZpZy5nZXQoInN0YXR1c1VybCIsIi9zeXMvaW5mby9waW5nIik7Yi53ZWIuYWpheC5nZXQoZCxmdW5jdGlvbihiKXtyZXR1cm4gYj8oJGZoLmZvcm1zLmxvZy5lKCJPbmxpbmUgc3RhdHVzIGFqYXggIixiKSxhKCExKSk6KCRmaC5mb3Jtcy5sb2cuZCgiT25saW5lIHN0YXR1cyBhamF4IHN1Y2Nlc3MiKSxhKCEwKSl9KX0sYX0oYi5zdG9yZXN8fHt9KSxiLnN0b3Jlcz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYil7ZC5jYWxsKHRoaXMsIkRhdGFBZ2VudCIpLHRoaXMucmVtb3RlU3RvcmU9YSx0aGlzLmxvY2FsU3RvcmU9Yn12YXIgZD1iLnN0b3Jlcy5TdG9yZTtyZXR1cm4gYS5EYXRhQWdlbnQ9YyxhLmRhdGFBZ2VudD1uZXcgYyhiLnN0b3Jlcy5tQmFhUyxiLnN0b3Jlcy5sb2NhbFN0b3JhZ2UpLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihhLGIpeyRmaC5mb3Jtcy5sb2cuZCgiRGF0YUFnZW50IHJlYWQgIixhKTt2YXIgYz10aGlzO3RoaXMubG9jYWxTdG9yZS5yZWFkKGEsZnVuY3Rpb24oZCxlKXtkfHwhZT8oJGZoLmZvcm1zLmxvZy5kKCJFcnJvciByZWFkaW5nIG1vZGVsIGZyb20gbG9jYWxTdG9yZSAiLGEsZCksYy5yZWZyZXNoUmVhZChhLGIpKTpiKG51bGwsZSwhMSl9KX0sYy5wcm90b3R5cGUucmVmcmVzaFJlYWQ9ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIkRhdGFBZ2VudCByZWZyZXNoUmVhZCAiLGEpO3ZhciBjPXRoaXM7dGhpcy5yZW1vdGVTdG9yZS5yZWFkKGEsZnVuY3Rpb24oZCxlKXtkPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHJlYWRpbmcgbW9kZWwgZnJvbSByZW1vdGVTdG9yZSAiLGEsZCksYihkKSk6KCRmaC5mb3Jtcy5sb2cuZCgiTW9kZWwgcmVmcmVzaCBzdWNjZXNzZnVsbCBmcm9tIHJlbW90ZVN0b3JlICIsYSxlKSxhLmZyb21KU09OKGUpLGMubG9jYWxTdG9yZS51cHNlcnQoYSxmdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTsKYS5wdXNoKCEwKSxiLmFwcGx5KHt9LGEpfSkpfSl9LGMucHJvdG90eXBlLmF0dGVtcHRSZWFkPWZ1bmN0aW9uKGEsYil7JGZoLmZvcm1zLmxvZy5kKCJEYXRhQWdlbnQgYXR0ZW1wdFJlYWQgIixhKTt2YXIgYz10aGlzO2MuY2hlY2tPbmxpbmVTdGF0dXMoZnVuY3Rpb24oKXskZmguZm9ybXMuY29uZmlnLmlzT25saW5lKCk/Yy5yZWZyZXNoUmVhZChhLGZ1bmN0aW9uKGQpe2Q/Yy5yZWFkKGEsYik6Yi5hcHBseSh7fSxhcmd1bWVudHMpfSk6Yy5yZWFkKGEsYil9KX0sYy5wcm90b3R5cGUuY2hlY2tPbmxpbmVTdGF0dXM9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJEYXRhQWdlbnQgY2hlY2sgb25saW5lIHN0YXR1cyAiKTt2YXIgYz10aGlzO3JldHVybiBiLnV0aWxzLmlzUGhvbmVHYXAoKSYmbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZSYmbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZT09PUNvbm5lY3Rpb24uTk9ORT8oJGZoLmZvcm1zLmNvbmZpZy5vZmZsaW5lKCksYSghMSkpOnZvaWQgYy5yZW1vdGVTdG9yZS5pc09ubGluZShmdW5jdGlvbihiKXtiPT09ITE/JGZoLmZvcm1zLmNvbmZpZy5vZmZsaW5lKCk6JGZoLmZvcm1zLmNvbmZpZy5vbmxpbmUoKSxhKG51bGwsYil9KX0sYX0oYi5zdG9yZXN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2lmKHRoaXMucHJvcHM9e19pZDpudWxsLF90eXBlOm51bGwsX2x1ZGlkOm51bGx9LHRoaXMudXRpbHM9Yi51dGlscyx0aGlzLmV2ZW50cz17fSwidW5kZWZpbmVkIiE9dHlwZW9mIGEpZm9yKHZhciBjIGluIGEpdGhpcy5wcm9wc1tjXT1hW2NdO3RoaXMudG91Y2goKX1yZXR1cm4gYy5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiKXt0aGlzLmV2ZW50c1thXXx8KHRoaXMuZXZlbnRzW2FdPVtdKSx0aGlzLmV2ZW50c1thXS5pbmRleE9mKGIpPDAmJnRoaXMuZXZlbnRzW2FdLnB1c2goYil9LGMucHJvdG90eXBlLm9mZj1mdW5jdGlvbihhLGIpe3RoaXMuZXZlbnRzW2FdJiZ0aGlzLmV2ZW50c1thXS5pbmRleE9mKGIpPj0wJiZ0aGlzLmV2ZW50c1thXS5zcGxpY2UodGhpcy5ldmVudHNbYV0uaW5kZXhPZihiKSwxKX0sYy5wcm90b3R5cGUuY2xlYXJFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz17fX0sYy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxiPWEuc2hpZnQoKSxjPXRoaXMuZXZlbnRzW2JdO2lmKGMmJmMubGVuZ3RoPjApZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07ZS5hcHBseSh0aGlzLGEpfX0sYy5wcm90b3R5cGUuZ2V0UHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wc30sYy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLnByb3BzW2FdP2I6dGhpcy5wcm9wc1thXX0sYy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy5wcm9wc1thXT1ifSxjLnByb3RvdHlwZS5zZXRMb2NhbElkPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KCJfbHVkaWQiLGEpfSxjLnByb3RvdHlwZS5nZXRMb2NhbElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfbHVkaWQiKX0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGE9e307Zm9yKHZhciBiIGluIHRoaXMucHJvcHMpYVtiXT10aGlzLnByb3BzW2JdO3JldHVybiBhfSxjLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbihhKXtpZigic3RyaW5nIj09dHlwZW9mIGEpdGhpcy5mcm9tSlNPTlN0cihhKTtlbHNlIGZvcih2YXIgYiBpbiBhKXRoaXMuc2V0KGIsYVtiXSk7dGhpcy50b3VjaCgpfSxjLnByb3RvdHlwZS5mcm9tSlNPTlN0cj1mdW5jdGlvbihhKXt0cnl7dmFyIGI9SlNPTi5wYXJzZShhKTt0aGlzLmZyb21KU09OKGIpfWNhdGNoKGMpe2NvbnNvbGUuZXJyb3IoIkVycm9yIHBhcnNpbmcgSlNPTiIsYyl9fSxjLnByb3RvdHlwZS50b3VjaD1mdW5jdGlvbigpe3RoaXMuc2V0KCJfbG9jYWxMYXN0VXBkYXRlIixiLnV0aWxzLmdldFRpbWUoKSl9LGMucHJvdG90eXBlLmdldExvY2FsVXBkYXRlVGltZVN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfbG9jYWxMYXN0VXBkYXRlIil9LGMucHJvdG90eXBlLmdlbkxvY2FsSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi51dGlscy5sb2NhbElkKHRoaXMpfSxjLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGMpeyFhJiZjPyhlLmZyb21KU09OKGMpLGIobnVsbCxlKSk6YihhLGUpfXZhciBkPXRoaXMuZ2V0RGF0YUFnZW50KCksZT10aGlzOyJ1bmRlZmluZWQiPT10eXBlb2YgYiYmKGI9YSxhPSExKSxhP2QuYXR0ZW1wdFJlYWQodGhpcyxjKTpkLnJlYWQodGhpcyxjKX0sYy5wcm90b3R5cGUuYXR0ZW1wdFJlZnJlc2g9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXREYXRhQWdlbnQoKSxjPXRoaXM7Yi5hdHRlbXB0UmVhZCh0aGlzLGZ1bmN0aW9uKGIsZCl7IWImJmQ/KGMuZnJvbUpTT04oZCksYShudWxsLGMpKTphKGIsYyl9KX0sYy5wcm90b3R5cGUubG9hZExvY2FsPWZ1bmN0aW9uKGEpe3ZhciBjPWIuc3RvcmVzLmxvY2FsU3RvcmFnZSxkPXRoaXM7Yy5yZWFkKHRoaXMsZnVuY3Rpb24oYixjKXtiP2EoYik6KGMmJmQuZnJvbUpTT04oYyksYShiLGQpKX0pfSxjLnByb3RvdHlwZS5zYXZlTG9jYWw9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5zdG9yZXMubG9jYWxTdG9yYWdlO2MudXBzZXJ0KHRoaXMsYSl9LGMucHJvdG90eXBlLmNsZWFyTG9jYWw9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5zdG9yZXMubG9jYWxTdG9yYWdlO2MucmVtb3ZlRW50cnkodGhpcyxhKX0sYy5wcm90b3R5cGUuZ2V0RGF0YUFnZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YUFnZW50fHx0aGlzLnNldERhdGFBZ2VudChiLnN0b3Jlcy5kYXRhQWdlbnQpLHRoaXMuZGF0YUFnZW50fSxjLnByb3RvdHlwZS5zZXREYXRhQWdlbnQ9ZnVuY3Rpb24oYSl7dGhpcy5kYXRhQWdlbnQ9YX0sYS5Nb2RlbD1jLGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2QuY2FsbCh0aGlzLHtfdHlwZToiY29uZmlnIixfbHVkaWQ6ImNvbmZpZyJ9KX12YXIgZD1iLm1vZGVscy5Nb2RlbCxlPSEwLGY9Im5vdHNldCI7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhLGIpe2Euc3R1ZGlvTW9kZT8odGhpcy5zZXQoInN0dWRpb01vZGUiLCEwKSx0aGlzLmZyb21KU09OKGEpLGIoKSk6KHRoaXMuc2V0KCJzdHVkaW9Nb2RlIiwhMSksdGhpcy5zdGF0aWNDb25maWcoYSksdGhpcy5yZWZyZXNoKCEwLGIpKX0sYy5wcm90b3R5cGUuaXNTdHVkaW9Nb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJzdHVkaW9Nb2RlIil9LGMucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYyl7dmFyIGQ9e307aWYoIWEmJmMpe2lmKCJzdHJpbmciPT10eXBlb2YgYyl0cnl7ZD1KU09OLnBhcnNlKGMpfWNhdGNoKGYpe3JldHVybiAkZmguZm9ybXMubG9nLmUoIkludmFsaWQganNvbiBjb25maWcgZGVmaW50aW9uIGZyb20gcmVtb3RlIixmKSxkPXt9LGIoZixudWxsKX1lbHNlIGQ9YztlLnNldCgiZGVmYXVsdENvbmZpZ1ZhbHVlcyIsZCksZS5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YihhLGUpfSl9ZWxzZSBiKGEsZSl9dmFyIGQ9dGhpcy5nZXREYXRhQWdlbnQoKSxlPXRoaXM7InVuZGVmaW5lZCI9PXR5cGVvZiBiJiYoYj1hLGE9ITEpLGUubG9hZExvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiQ29uZmlnIGxvYWRMb2NhbCAiLGEpLGQucmVtb3RlU3RvcmUucmVhZChlLGMpfSl9LGMucHJvdG90eXBlLmdldENsb3VkSG9zdD1mdW5jdGlvbigpe3JldHVybiBmfSxjLnByb3RvdHlwZS5zdGF0aWNDb25maWc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXtkZWZhdWx0Q29uZmlnVmFsdWVzOnt9LHVzZXJDb25maWdWYWx1ZXM6e319O2IuZ2V0KCJ1c2VyQ29uZmlnVmFsdWVzIikmJihjLnVzZXJDb25maWdWYWx1ZXM9Yi5nZXQoInVzZXJDb25maWdWYWx1ZXMiKSk7dmFyIGQ9JGZoJiYkZmguYXBwX3Byb3BzPyRmaC5hcHBfcHJvcHMuYXBwaWQ6YS5hcHBpZCxlPSRmaCYmJGZoLmFwcF9wcm9wcz8kZmguYXBwX3Byb3BzLm1vZGU6ImRldiI7Yi5zZXQoImFwcElkIixkKSxiLnNldCgiZW52IixlKSwkZmgmJiRmaC5fZ2V0RGV2aWNlSWQ/Yi5zZXQoImRldmljZUlkIiwkZmguX2dldERldmljZUlkKCkpOmIuc2V0KCJkZXZpY2VJZCIsIm5vdHNldCIpLGIuX2luaXRNQmFhUyhhKSxhfHwoYT17fSksYS5jb25maWdfYWRtaW5fdXNlciYmZGVsZXRlIGEuY29uZmlnX2FkbWluX3VzZXIsYy5kZWZhdWx0Q29uZmlnVmFsdWVzPWE7dmFyIGY9e3NlbnRfc2F2ZV9taW46NSxzZW50X3NhdmVfbWF4OjFlMyx0YXJnZXRXaWR0aDo2NDAsdGFyZ2V0SGVpZ2h0OjQ4MCxxdWFsaXR5OjUwLGRlYnVnX21vZGU6ITEsbG9nZ2VyOiExLG1heF9yZXRyaWVzOjMsdGltZW91dDo3LGxvZ19saW5lX2xpbWl0OjVlMyxsb2dfZW1haWw6InRlc3RAZXhhbXBsZS5jb20iLGxvZ19sZXZlbDozLGxvZ19sZXZlbHM6WyJlcnJvciIsIndhcm5pbmciLCJsb2ciLCJkZWJ1ZyJdLGNvbmZpZ19hZG1pbl91c2VyOiEwLHBpY3R1cmVfc291cmNlOiJib3RoIixzYXZlVG9QaG90b0FsYnVtOiEwLGVuY29kaW5nVHlwZToianBlZyIsc2VudF9pdGVtc190b19rZWVwX2xpc3Q6WzUsMTAsMjAsMzAsNDAsNTAsMTAwXX07Zm9yKHZhciBnIGluIGYpYy5kZWZhdWx0Q29uZmlnVmFsdWVzW2ddPWZbZ107Yi5mcm9tSlNPTihjKX0sYy5wcm90b3R5cGUuX2luaXRNQmFhUz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9YXx8e307dmFyIGM9JGZoLmNsb3VkX3Byb3BzLGQ9JGZoLmFwcF9wcm9wcztkJiYoZj1kLmhvc3QpLGMmJmMuaG9zdHMmJihmPWMuaG9zdHMudXJsKSwic3RyaW5nIj09dHlwZW9mIGEuY2xvdWRIb3N0JiYoZj1hLmNsb3VkSG9zdCksYi5zZXQoIm1iYWFzQmFzZVVybCIsIi9tYmFhcyIpO2IuZ2V0KCJhcHBJZCIpO2Iuc2V0KCJmb3JtVXJscyIse2Zvcm1zOiIvZm9ybXMvOmFwcElkIixmb3JtOiIvZm9ybXMvOmFwcElkLzpmb3JtSWQiLHRoZW1lOiIvZm9ybXMvOmFwcElkL3RoZW1lIixmb3JtU3VibWlzc2lvbjoiL2Zvcm1zLzphcHBJZC86Zm9ybUlkL3N1Ym1pdEZvcm1EYXRhIixmaWxlU3VibWlzc2lvbjoiL2Zvcm1zLzphcHBJZC86c3VibWlzc2lvbklkLzpmaWVsZElkLzpoYXNoTmFtZS9zdWJtaXRGb3JtRmlsZSIsYmFzZTY0ZmlsZVN1Ym1pc3Npb246Ii9mb3Jtcy86YXBwSWQvOnN1Ym1pc3Npb25JZC86ZmllbGRJZC86aGFzaE5hbWUvc3VibWl0Rm9ybUZpbGVCYXNlNjQiLHN1Ym1pc3Npb25TdGF0dXM6Ii9mb3Jtcy86YXBwSWQvOnN1Ym1pc3Npb25JZC9zdGF0dXMiLGZvcm1TdWJtaXNzaW9uRG93bmxvYWQ6Ii9mb3Jtcy86YXBwSWQvc3VibWlzc2lvbi86c3VibWlzc2lvbklkIixmaWxlU3VibWlzc2lvbkRvd25sb2FkOiIvZm9ybXMvOmFwcElkL3N1Ym1pc3Npb24vOnN1Ym1pc3Npb25JZC9maWxlLzpmaWxlR3JvdXBJZCIsY29tcGxldGVTdWJtaXNzaW9uOiIvZm9ybXMvOmFwcElkLzpzdWJtaXNzaW9uSWQvY29tcGxldGVTdWJtaXNzaW9uIixjb25maWc6Ii9mb3Jtcy86YXBwaWQvY29uZmlnLzpkZXZpY2VJZCJ9KSxiLnNldCgic3RhdHVzVXJsIiwiL3N5cy9pbmZvL3BpbmciKX0sYy5wcm90b3R5cGUuc2V0T25saW5lPWZ1bmN0aW9uKCl7dmFyIGE9ZTtlPSEwLGF8fHRoaXMuZW1pdCgib25saW5lIil9LGMucHJvdG90eXBlLnNldE9mZmxpbmU9ZnVuY3Rpb24oKXt2YXIgYT1lO2U9ITEsYSYmdGhpcy5lbWl0KCJvZmZsaW5lIil9LGMucHJvdG90eXBlLmlzT25saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGIudXRpbHMuaXNQaG9uZUdhcCgpJiZuYXZpZ2F0b3IuY29ubmVjdGlvbi50eXBlP2U9PT0hMCYmbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZSE9PUNvbm5lY3Rpb24uTk9ORTplPT09ITB9LGMucHJvdG90eXBlLmlzU3R1ZGlvTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgic3R1ZGlvTW9kZSIsITEpfSxhLmNvbmZpZz1uZXcgYyxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtkLmNhbGwodGhpcyx7X3R5cGU6ImZvcm1zIixfbHVkaWQ6ImZvcm1zX2xpc3QiLGxvYWRlZDohMX0pfXZhciBkPWIubW9kZWxzLk1vZGVsO3JldHVybiBiLnV0aWxzLmV4dGVuZChjLGQpLGMucHJvdG90eXBlLmlzRm9ybVVwZGF0ZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXQoIl9pZCIpLGM9YS5nZXRMYXN0VXBkYXRlKCksZD10aGlzLmdldEZvcm1NZXRhQnlJZChiKTtyZXR1cm4gZD9jIT09ZC5sYXN0VXBkYXRlZFRpbWVzdGFtcDohMX0sYy5wcm90b3R5cGUuc2V0TG9jYWxJZD1mdW5jdGlvbigpeyRmaC5mb3Jtcy5sb2cuZSgiRm9ybXMgc2V0TG9jYWxJZC4gTm90IFBlcm1pdHRlZCBmb3IgRm9ybXMuIil9LGMucHJvdG90eXBlLmdldEZvcm1NZXRhQnlJZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIkZvcm1zIGdldEZvcm1NZXRhQnlJZCAiLGEpO2Zvcih2YXIgYj10aGlzLmdldEZvcm1zTGlzdCgpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLl9pZD09PWEpcmV0dXJuIGR9cmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiRm9ybXMgZ2V0Rm9ybU1ldGFCeUlkOiBObyBmb3JtIGZvdW5kIGZvciBpZDogIixhKSxudWxsfSxjLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJmb3JtcyIpLmxlbmd0aH0sYy5wcm90b3R5cGUuZ2V0Rm9ybXNMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJmb3JtcyIsW10pfSxjLnByb3RvdHlwZS5nZXRGb3JtSWRCeUluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZvcm1zIGdldEZvcm1JZEJ5SW5kZXg6ICIsYSksdGhpcy5nZXRGb3Jtc0xpc3QoKVthXS5faWR9LGEuZm9ybXM9bmV3IGMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7ZnVuY3Rpb24gZigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gaC5mcm9tSlNPTihqKSxoLmluaXRpYWxpc2UoKSxlW2guZ2V0Rm9ybUlkKCldPWgsYyhudWxsLGgpfXJldHVybiAkZmguZm9ybXMubG9nLmQoIkZvcm06IGxvYWRGcm9tTG9jYWwgIixpLGosayxsKSxlW2tdPyhjKG51bGwsZVtrXSksZVtrXSk6aj9hKCk6dm9pZCBoLnJlZnJlc2goITEsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9jKGEpOihiLmluaXRpYWxpc2UoKSxlW2tdPWIsYyhudWxsLGIpKX0pfWZ1bmN0aW9uIGcoKXtmdW5jdGlvbiBhKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogY2hlY2tGb3JVcGRhdGUiLGksaixrLGwpLGEucmVmcmVzaCghMSxmdW5jdGlvbihkLGYpe2QmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgcmVmcmVzaGluZyBmb3JtIGZyb20gbG9jYWw6ICIsZCksYi5tb2RlbHMuZm9ybXMuaXNGb3JtVXBkYXRlZChhKT9hLnJlZnJlc2goITAsZnVuY3Rpb24oYixkKXtyZXR1cm4gYj9jKGIsbnVsbCk6KGEuaW5pdGlhbGlzZSgpLGVba109ZCxjKGIsZCkpfSk6KGEuaW5pdGlhbGlzZSgpLGVba109ZixjKGQsZikpfSl9cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogbG9hZEZyb21SZW1vdGUiLGksaixrLGwpLGVba10mJigkZmguZm9ybXMubG9nLmQoIkZvcm06IGxvYWRlZCBmcm9tIGNhY2hlIixpLGosayxsKSwhYi5tb2RlbHMuZm9ybXMuaXNGb3JtVXBkYXRlZChlW2tdKSk/KGMobnVsbCxlW2tdKSxlW2tdKTp2b2lkIGEoaCl9dmFyIGg9dGhpcyxpPWEucmF3TW9kZXx8ITEsaj1hLnJhd0RhdGF8fG51bGwsaz1hLmZvcm1JZCxsPWEuZnJvbVJlbW90ZTtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGb3JtOiAiLGksaixrLGwpLCJmdW5jdGlvbiIhPXR5cGVvZiBsJiYiZnVuY3Rpb24iIT10eXBlb2YgYz8kZmguZm9ybXMubG9nLmUoImEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcmVxdWlyZWQgZm9yIGluaXRpYWxpc2luZyBmb3JtIGRhdGEuIG5ldyBGb3JtIChmb3JtSWQsIFtpc0Zyb21SZW1vdGVdLCBjYikiKTooImZ1bmN0aW9uIj09dHlwZW9mIGwmJihjPWwsbD0hMSksaz8oZC5jYWxsKGgse19pZDprLF90eXBlOiJmb3JtIn0pLGguc2V0KCJfaWQiLGspLGguc2V0TG9jYWxJZChoLmdlbkxvY2FsSWQoaykpLHZvaWQoaT09PSEwP2YoKTpnKCkpKTpjKCJDYW5ub3QgaW5pdGlhbGlzZSBhIGZvcm0gb2JqZWN0IHdpdGhvdXQgYW4gaWQuIGlkOiIrayxudWxsKSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7YS5Gb3JtPWM7dmFyIGU9e307cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0TGFzdFVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZvcm06IGdldExhc3RVcGRhdGUiKSx0aGlzLmdldCgibGFzdFVwZGF0ZWRUaW1lc3RhbXAiKX0sYy5wcm90b3R5cGUuZ2VuTG9jYWxJZD1mdW5jdGlvbihhKXtyZXR1cm4gYT0ic3RyaW5nIj09dHlwZW9mIGE/YTp0aGlzLmdldCgiX2lkIiwiIiksImZvcm1fIithfSxjLnByb3RvdHlwZS5pbml0aWFsaXNlPWZ1bmN0aW9uKCl7dGhpcy5maWx0ZXJBZG1pbkZpZWxkcygpLHRoaXMuaW5pdGlhbGlzZVBhZ2UoKSx0aGlzLmluaXRpYWxpc2VGaWVsZHMoKSx0aGlzLmluaXRpYWxpc2VSdWxlcygpfSxjLnByb3RvdHlwZS5maWx0ZXJBZG1pbkZpZWxkcz1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldFBhZ2VzRGVmKCksYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspe2Zvcih2YXIgZD1hW2NdLGU9ZC5maWVsZHMsZj1bXSxnPTAsaD0wO2g8ZS5sZW5ndGg7aCsrKXt2YXIgaT1lW2hdO2kuYWRtaW5Pbmx5fHwoYltpLl9pZF09e3BhZ2U6YyxmaWVsZDpnfSxnKyssZi5wdXNoKGkpKX1hW2NdLmZpZWxkcz1mfXRoaXMuc2V0KCJwYWdlcyIsYSksdGhpcy5zZXQoImZpZWxkUmVmIixiKX0sYy5wcm90b3R5cGUuaW5pdGlhbGlzZUZpZWxkcz1mdW5jdGlvbigpeyRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogaW5pdGlhbGlzZUZpZWxkcyIpO3ZhciBhPXRoaXMuZ2V0RmllbGRSZWYoKTt0aGlzLmZpZWxkcz17fTtmb3IodmFyIGMgaW4gYSl7dmFyIGQ9YVtjXSxlPWQucGFnZSxmPWQuZmllbGQ7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09Zil0aHJvdyJDb3JydXB0dGVkIGZpZWxkIHJlZmVyZW5jZSI7dmFyIGc9dGhpcy5nZXRGaWVsZERlZkJ5SW5kZXgoZSxmKTtpZighZyl0aHJvdyJGaWVsZCBkZWYgaXMgbm90IGZvdW5kLiI7dGhpcy5maWVsZHNbY109bmV3IGIubW9kZWxzLkZpZWxkKGcsdGhpcyl9fSxjLnByb3RvdHlwZS5pbml0aWFsaXNlUnVsZXM9ZnVuY3Rpb24oKXskZmguZm9ybXMubG9nLmQoIkZvcm06IGluaXRpYWxpc2VSdWxlcyIpLHRoaXMucnVsZXM9e307Zm9yKHZhciBhPXRoaXMuZ2V0UGFnZVJ1bGVzKCksYz10aGlzLmdldEZpZWxkUnVsZXMoKSxkPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YVtlXTtkLnB1c2goe3R5cGU6InBhZ2UiLGRlZmluaXRpb246Zn0pfWZvcihlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBnPWNbZV07ZC5wdXNoKHt0eXBlOiJmaWVsZCIsZGVmaW5pdGlvbjpnfSl9Zm9yKGU9MDtlPGQubGVuZ3RoO2UrKylmb3IodmFyIGg9ZFtlXSxpPW5ldyBiLm1vZGVscy5SdWxlKGgpLGo9aS5nZXRSZWxhdGVkRmllbGRJZCgpLGs9MDtrPGoubGVuZ3RoO2srKyl7dmFyIGw9altrXTt0aGlzLnJ1bGVzW2xdfHwodGhpcy5ydWxlc1tsXT1bXSksdGhpcy5ydWxlc1tsXS5wdXNoKGkpfX0sYy5wcm90b3R5cGUuZ2V0UnVsZXNCeUZpZWxkSWQ9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogZ2V0UnVsZXNCeUZpZWxkSWQiKSx0aGlzLnJ1bGVzW2FdfSxjLnByb3RvdHlwZS5pbml0aWFsaXNlUGFnZT1mdW5jdGlvbigpeyRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogaW5pdGlhbGlzZVBhZ2UiKTt2YXIgYT10aGlzLmdldFBhZ2VzRGVmKCk7dGhpcy5wYWdlcz1bXTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPW5ldyBiLm1vZGVscy5QYWdlKGQsdGhpcyk7dGhpcy5wYWdlcy5wdXNoKGUpfX0sYy5wcm90b3R5cGUuZ2V0UGFnZU51bWJlckJ5RmllbGRJZD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmdldEZpZWxkUmVmKClbYV0ucGFnZTpudWxsfSxjLnByb3RvdHlwZS5nZXRQYWdlTW9kZWxMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFnZXN9LGMucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIm5hbWUiLCIiKX0sYy5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImRlc2NyaXB0aW9uIiwiIil9LGMucHJvdG90eXBlLmdldFBhZ2VSdWxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicGFnZVJ1bGVzIixbXSl9LGMucHJvdG90eXBlLmdldEZpZWxkUnVsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkUnVsZXMiLFtdKX0sYy5wcm90b3R5cGUuZ2V0RmllbGRSZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkUmVmIix7fSl9LGMucHJvdG90eXBlLmdldFBhZ2VzRGVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJwYWdlcyIsW10pfSxjLnByb3RvdHlwZS5nZXRQYWdlUmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJwYWdlUmVmIix7fSl9LGMucHJvdG90eXBlLmdldEZpZWxkTW9kZWxCeUlkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpZWxkc1thXX0sYy5wcm90b3R5cGUuZ2V0RmllbGRNb2RlbEJ5Q29kZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7Zm9yKHZhciBjIGluIGIuZmllbGRzKXt2YXIgZD1iLmZpZWxkc1tjXTtpZihudWxsIT09ZC5nZXRDb2RlKCkmJmQuZ2V0Q29kZSgpPT09YSlyZXR1cm4gZH1yZXR1cm4gbnVsbH0sYy5wcm90b3R5cGUuZ2V0RmllbGREZWZCeUluZGV4PWZ1bmN0aW9uKGEsYil7JGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBnZXRGaWVsZERlZkJ5SW5kZXg6ICIsYSxiKTt2YXIgYz10aGlzLmdldFBhZ2VzRGVmKCksZD1jW2FdO2lmKGQpe3ZhciBlPWQuZmllbGRzP2QuZmllbGRzOltdLGY9ZVtiXTtpZihmKXJldHVybiBmfXJldHVybiAkZmguZm9ybXMubG9nLmUoIkZvcm06IGdldEZpZWxkRGVmQnlJbmRleDogTm8gZmllbGQgZm91bmQgZm9yIHBhZ2UgYW5kIGZpZWxkIGluZGV4OiAiLGEsYiksbnVsbH0sYy5wcm90b3R5cGUuZ2V0UGFnZU1vZGVsQnlJZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIkZvcm06IGdldFBhZ2VNb2RlbEJ5SWQ6ICIsYSk7dmFyIGI9dGhpcy5nZXRQYWdlUmVmKClbYV07cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiP3RoaXMucGFnZXNbYl06dm9pZCAkZmguZm9ybXMubG9nLmUoInBhZ2UgaWQgaXMgbm90IGZvdW5kIGluIHBhZ2VSZWY6ICIrYSl9LGMucHJvdG90eXBlLm5ld1N1Ym1pc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBuZXdTdWJtaXNzaW9uIiksYi5tb2RlbHMuc3VibWlzc2lvbi5uZXdJbnN0YW5jZSh0aGlzKX0sYy5wcm90b3R5cGUuZ2V0Rm9ybUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfaWQiKX0sYy5wcm90b3R5cGUucmVtb3ZlRnJvbUNhY2hlPWZ1bmN0aW9uKCl7JGZoLmZvcm1zLmxvZy5kKCJGb3JtOiByZW1vdmVGcm9tQ2FjaGUiKSxlW3RoaXMuZ2V0Rm9ybUlkKCldJiZkZWxldGUgZVt0aGlzLmdldEZvcm1JZCgpXX0sYy5wcm90b3R5cGUuZ2V0RmlsZUZpZWxkc0lkPWZ1bmN0aW9uKCl7JGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBnZXRGaWxlRmllbGRzSWQiKTt2YXIgYT1bXTtmb3IodmFyIGIgaW4gdGhpcy5maWVsZHMpe3ZhciBjPXRoaXMuZmllbGRzW2JdOygiZmlsZSI9PT1jLmdldFR5cGUoKXx8InBob3RvIj09PWMuZ2V0VHlwZSgpfHwic2lnbmF0dXJlIj09PWMuZ2V0VHlwZSgpKSYmYS5wdXNoKGIpfXJldHVybiBhfSxjLnByb3RvdHlwZS5nZXRSdWxlRW5naW5lPWZ1bmN0aW9uKCl7aWYoJGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBnZXRSdWxlRW5naW5lIiksdGhpcy5ydWxlc0VuZ2luZSlyZXR1cm4gdGhpcy5ydWxlc0VuZ2luZTt2YXIgYT10aGlzLmdldFByb3BzKCk7cmV0dXJuIHRoaXMucnVsZXNFbmdpbmU9bmV3IGIuUnVsZXNFbmdpbmUoYSksdGhpcy5ydWxlc0VuZ2luZX0sYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gIixhKSxkLmNhbGwodGhpcyx7X3R5cGU6ImZpbGVTdWJtaXNzaW9uIixkYXRhOmF9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5GaWxlU3VibWlzc2lvbj1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUubG9hZEZpbGU9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBsb2FkRmlsZSIpO3ZhciBjPXRoaXMuZ2V0SGFzaE5hbWUoKSxkPXRoaXM7Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnJlYWRGaWxlKGMsZnVuY3Rpb24oYixlKXtiPygkZmguZm9ybXMubG9nLmUoIkZpbGVTdWJtaXNzaW9uIGxvYWRGaWxlLiBFcnJvciByZWFkaW5nIGZpbGUiLGMsYiksYShiKSk6KCRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gbG9hZEZpbGUuIEZpbGUgcmVhZCBjb3JyZWN0bHkiLGMsZSksZC5maWxlT2JqPWUsYShudWxsKSl9KX0sYy5wcm90b3R5cGUuZ2V0UHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlT2JqPygkZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uRG93bmxvYWQ6IGZpbGUgb2JqZWN0IGZvdW5kIiksdGhpcy5maWxlT2JqKTp2b2lkICRmaC5mb3Jtcy5sb2cuZSgiRmlsZVN1Ym1pc3Npb25Eb3dubG9hZDogbm8gZmlsZSBvYmplY3QgZm91bmQiKX0sYy5wcm90b3R5cGUuc2V0U3VibWlzc2lvbklkPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gc2V0U3VibWlzc2lvbklkLiIsYSksdGhpcy5zZXQoInN1Ym1pc3Npb25JZCIsYSl9LGMucHJvdG90eXBlLmdldFN1Ym1pc3Npb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgic3VibWlzc2lvbklkIil9LGMucHJvdG90eXBlLmdldEhhc2hOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkYXRhIikuaGFzaE5hbWV9LGMucHJvdG90eXBlLmdldEZpZWxkSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImRhdGEiKS5maWVsZElkfSxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7JGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbkRvd25sb2FkICIsYSksZC5jYWxsKHRoaXMse190eXBlOiJmaWxlU3VibWlzc2lvbkRvd25sb2FkIixkYXRhOmF9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5GaWxlU3VibWlzc2lvbkRvd25sb2FkPWMsYi51dGlscy5leHRlbmQoYyxkKSxjLnByb3RvdHlwZS5zZXRTdWJtaXNzaW9uSWQ9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBzZXRTdWJtaXNzaW9uSWQuIixhKSx0aGlzLnNldCgic3VibWlzc2lvbklkIixhKX0sYy5wcm90b3R5cGUuZ2V0U3VibWlzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gZ2V0U3VibWlzc2lvbklkOiAiLHRoaXMuZ2V0KCJzdWJtaXNzaW9uSWQiKSksdGhpcy5nZXQoInN1Ym1pc3Npb25JZCIsIiIpfSxjLnByb3RvdHlwZS5nZXRIYXNoTmFtZT1mdW5jdGlvbigpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uIGdldEhhc2hOYW1lOiAiLHRoaXMuZ2V0KCJkYXRhIikuaGFzaE5hbWUpLHRoaXMuZ2V0KCJkYXRhIix7fSkuaGFzaE5hbWV9LGMucHJvdG90eXBlLmdldEZpZWxkSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBnZXRGaWVsZElkOiAiLHRoaXMuZ2V0KCJkYXRhIikuZmllbGRJZCksdGhpcy5nZXQoImRhdGEiLHt9KS5maWVsZElkfSxjLnByb3RvdHlwZS5nZXRGaWxlTWV0YURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBnZXRGaWxlTWV0YURhdGE6ICIsdGhpcy5nZXQoImRhdGEiKSksdGhpcy5nZXQoImRhdGEiKT8kZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uIGdldEZpbGVNZXRhRGF0YTogZGF0YSBmb3VuZCIsdGhpcy5nZXQoImRhdGEiKSk6JGZoLmZvcm1zLmxvZy5lKCJGaWxlU3VibWlzc2lvbiBnZXRGaWxlTWV0YURhdGE6IE5vIGRhdGEgZm91bmQiKSx0aGlzLmdldCgiZGF0YSIse30pfSxjLnByb3RvdHlwZS5nZXRGaWxlR3JvdXBJZD1mdW5jdGlvbigpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uIGdldEZpbGVHcm91cElkOiAiLHRoaXMuZ2V0KCJkYXRhIikpLHRoaXMuZ2V0KCJkYXRhIix7fSkuZ3JvdXBJZHx8Im5vdHNldCJ9LGMucHJvdG90eXBlLmdldFJlbW90ZUZpbGVVUkw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGE9Yy5nZXRTdWJtaXNzaW9uSWQoKSxkPWMuZ2V0RmlsZUdyb3VwSWQoKSxlPWIuY29uZmlnLmdldCgiZm9ybVVybHMiLHt9KS5maWxlU3VibWlzc2lvbkRvd25sb2FkO3JldHVybiBlPyhlPWUucmVwbGFjZSgiOnN1Ym1pc3Npb25JZCIsYSksZT1lLnJlcGxhY2UoIjpmaWxlR3JvdXBJZCIsZCksZT1lLnJlcGxhY2UoIjphcHBJZCIsYi5jb25maWcuZ2V0KCJhcHBJZCIsIm5vdFNldCIpKSxiLm1vZGVscy5jb25maWcuZ2V0Q2xvdWRIb3N0KCkrIi9tYmFhcyIrZSk6Im5vdHNldCJ9dmFyIGM9dGhpcztyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBnZXRSZW1vdGVGaWxlVVJMOiAiKSxhKCl9LGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyx7X3R5cGU6ImZvcm1TdWJtaXNzaW9uIixkYXRhOmF9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5Gb3JtU3VibWlzc2lvbj1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0UHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImRhdGEiKX0sYy5wcm90b3R5cGUuZ2V0Rm9ybUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkYXRhIil8fCRmaC5mb3Jtcy5sb2cuZSgiTm8gZm9ybSBkYXRhIGZvciBmb3JtIHN1Ym1pc3Npb24iKSx0aGlzLmdldCgiZGF0YSIpLmZvcm1JZH0sYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLHtfdHlwZToiY29tcGxldGVTdWJtaXNzaW9uIixzdWJtaXNzaW9uSWQ6YS5nZXQoInN1Ym1pc3Npb25JZCIpLGxvY2FsU3VibWlzc2lvbklkOmEuZ2V0KCJsb2NhbFN1Ym1pc3Npb25JZCIpfSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGEuRm9ybVN1Ym1pc3Npb25Db21wbGV0ZT1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLHtfdHlwZToiZm9ybVN1Ym1pc3Npb25Eb3dubG9hZCIsZGF0YTphfSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGEuRm9ybVN1Ym1pc3Npb25Eb3dubG9hZD1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0U3VibWlzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkYXRhIikuZ2V0KCJzdWJtaXNzaW9uSWQiLCJub3Qtc2V0Iil9LGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyx7X3R5cGU6InN1Ym1pc3Npb25TdGF0dXMiLHN1Ym1pc3Npb25JZDphLmdldCgic3VibWlzc2lvbklkIiksbG9jYWxTdWJtaXNzaW9uSWQ6YS5nZXQoImxvY2FsU3VibWlzc2lvbklkIil9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5Gb3JtU3VibWlzc2lvblN0YXR1cz1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLGEpLHRoaXMuc2V0KCJfdHlwZSIsImJhc2U2NGZpbGVTdWJtaXNzaW9uIil9dmFyIGQ9Yi5tb2RlbHMuRmlsZVN1Ym1pc3Npb247cmV0dXJuIGEuQmFzZTY0RmlsZVN1Ym1pc3Npb249YyxiLnV0aWxzLmV4dGVuZChjLGQpLGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2QuY2FsbCh0aGlzLHtfdHlwZToic3VibWlzc2lvbnMiLF9sdWRpZDoic3VibWlzc2lvbnNfbGlzdCIsc3VibWlzc2lvbnM6W119KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYi51dGlscy5leHRlbmQoYyxkKSxjLnByb3RvdHlwZS5zZXRMb2NhbElkPWZ1bmN0aW9uKCl7JGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9ucyBzZXRMb2NhbElkLiBOb3QgUGVybWl0dGVkIGZvciBzdWJtaXNzaW9ucy4iKX0sYy5wcm90b3R5cGUuc2F2ZVN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIHNhdmVTdWJtaXNzaW9uIik7dmFyIGM9dGhpczt0aGlzLnVwZGF0ZVN1Ym1pc3Npb25XaXRob3V0U2F2aW5nKGEpLHRoaXMuY2xlYXJTZW50U3VibWlzc2lvbihmdW5jdGlvbigpe2Muc2F2ZUxvY2FsKGIpfSl9LGMucHJvdG90eXBlLnVwZGF0ZVN1Ym1pc3Npb25XaXRob3V0U2F2aW5nPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgdXBkYXRlU3VibWlzc2lvbldpdGhvdXRTYXZpbmciKTt2YXIgYj10aGlzLnBydW5lU3VibWlzc2lvbihhKSxjPWIuX2x1ZGlkO2lmKGMpe3ZhciBkPXRoaXMuZmluZE1ldGFCeUxvY2FsSWQoYyksZT10aGlzLmdldCgic3VibWlzc2lvbnMiKTtkPyhlLnNwbGljZShlLmluZGV4T2YoZCksMSksZS5wdXNoKGIpKTplLnB1c2goYil9ZWxzZSAkZmguZm9ybXMubG9nLmUoIkludmFsaWQgc3VibWlzc2lvbiBmb3IgbG9jYWxJZDoiLGMsSlNPTi5zdHJpbmdpZnkoYSkpfSxjLnByb3RvdHlwZS5jbGVhclNlbnRTdWJtaXNzaW9uPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgY2xlYXJTZW50U3VibWlzc2lvbiIpO3ZhciBiPXRoaXMsYz0kZmguZm9ybXMuY29uZmlnLmdldCgkZmguZm9ybXMuY29uZmlnLmdldCgibWF4X3NlbnRfc2F2ZWQiKT8ibWF4X3NlbnRfc2F2ZWQiOiJzZW50X3NhdmVfbWluIiksZD0odGhpcy5nZXQoInN1Ym1pc3Npb25zIiksdGhpcy5nZXRTdWJtaXR0ZWQoKSk7aWYoZC5sZW5ndGg+Yyl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9ucyBjbGVhclNlbnRTdWJtaXNzaW9uIHBydW5pbmcgc2VudFN1Ym1pc3Npb25zLmxlbmd0aD5tYXhTZW50IiksZD1kLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gRGF0ZShhLnN1Ym1pdHRlZERhdGUpPERhdGUoYi5zdWJtaXR0ZWREYXRlKT8xOi0xfSk7Zm9yKHZhciBlPVtdO2QubGVuZ3RoPmM7KWUucHVzaChkLnBvcCgpKTtmb3IodmFyIGY9ZS5sZW5ndGgsZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgaD1lW2ddO2IuZ2V0U3VibWlzc2lvbkJ5TWV0YShoLGZ1bmN0aW9uKGIsYyl7Yy5jbGVhckxvY2FsKGZ1bmN0aW9uKGIpe2ImJiRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbnMgY2xlYXJTZW50U3VibWlzc2lvbiBzdWJtaXNzaW9uIGNsZWFyTG9jYWwiLGIpLGYtLSwwPT09ZiYmYShudWxsLG51bGwpfSl9KX19ZWxzZSBhKG51bGwsbnVsbCl9LGMucHJvdG90eXBlLmZpbmRCeUZvcm1JZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGZpbmRCeUZvcm1JZCIsYSk7Zm9yKHZhciBiPVtdLGM9dGhpcy5nZXQoInN1Ym1pc3Npb25zIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2NbZF0uZm9ybUlkPT09YSYmYi5wdXNoKGUpfXJldHVybiBifSxjLnByb3RvdHlwZS5nZXRTdWJtaXNzaW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgic3VibWlzc2lvbnMiKX0sYy5wcm90b3R5cGUuZ2V0U3VibWlzc2lvbk1ldGFMaXN0PWMucHJvdG90eXBlLmdldFN1Ym1pc3Npb25zLGMucHJvdG90eXBlLmZpbmRNZXRhQnlMb2NhbElkPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZmluZE1ldGFCeUxvY2FsSWQiLGEpO2Zvcih2YXIgYj10aGlzLmdldCgic3VibWlzc2lvbnMiKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoYltjXS5fbHVkaWQ9PT1hKXJldHVybiBkfXJldHVybiBudWxsfSxjLnByb3RvdHlwZS5maW5kTWV0YUJ5UmVtb3RlSWQ9ZnVuY3Rpb24oYSl7YT1hfHwiIiwkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGZpbmRNZXRhQnlSZW1vdGVJZDogIithKTtmb3IodmFyIGI9dGhpcy5nZXQoInN1Ym1pc3Npb25zIiksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGJbY10uc3VibWlzc2lvbklkJiZiW2NdLnN1Ym1pc3Npb25JZD09PWEpcmV0dXJuIGR9cmV0dXJuIG51bGx9LGMucHJvdG90eXBlLnBydW5lU3VibWlzc2lvbj1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIHBydW5lU3VibWlzc2lvbiIpO2Zvcih2YXIgYj1bIl9pZCIsIl9sdWRpZCIsInN0YXR1cyIsImZvcm1OYW1lIiwiZm9ybUlkIiwiX2xvY2FsTGFzdFVwZGF0ZSIsImNyZWF0ZURhdGUiLCJzdWJtaXREYXRlIiwiZGV2aWNlRm9ybVRpbWVzdGFtcCIsImVycm9yTWVzc2FnZSIsInN1Ym1pc3Npb25TdGFydGVkVGltZXN0YW1wIiwic3VibWl0dGVkRGF0ZSIsInN1Ym1pc3Npb25JZCIsInNhdmVEYXRlIiwidXBsb2FkU3RhcnREYXRlIl0sYz1hLmdldFByb3BzKCksZD17fSxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV07ZFtmXT1jW2ZdfXJldHVybiBkfSxjLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGNsZWFyIik7dmFyIGI9dGhpczt0aGlzLmNsZWFyTG9jYWwoZnVuY3Rpb24oYyl7Yz8oJGZoLmZvcm1zLmxvZy5lKGMpLGEoYykpOihiLnNldCgic3VibWlzc2lvbnMiLFtdKSxhKG51bGwsbnVsbCkpfSl9LGMucHJvdG90eXBlLmdldERyYWZ0cz1mdW5jdGlvbihhKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9ucyBnZXREcmFmdHM6ICIsYSksYXx8KGE9e30pLGEuc3RhdHVzPSJkcmFmdCIsdGhpcy5maW5kQnlTdGF0dXMoYSl9LGMucHJvdG90eXBlLmdldFBlbmRpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0UGVuZGluZzogIixhKSxhfHwoYT17fSksYS5zdGF0dXM9InBlbmRpbmciLHRoaXMuZmluZEJ5U3RhdHVzKGEpfSxjLnByb3RvdHlwZS5nZXRTdWJtaXR0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0U3VibWl0dGVkOiAiLGEpLGF8fChhPXt9KSxhLnN0YXR1cz0ic3VibWl0dGVkIix0aGlzLmZpbmRCeVN0YXR1cyhhKX0sYy5wcm90b3R5cGUuZ2V0RXJyb3I9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0RXJyb3I6ICIsYSksYXx8KGE9e30pLGEuc3RhdHVzPSJlcnJvciIsdGhpcy5maW5kQnlTdGF0dXMoYSl9LGMucHJvdG90eXBlLmdldEluUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0SW5Qcm9ncmVzczogIixhKSxhfHwoYT17fSksYS5zdGF0dXM9ImlucHJvZ3Jlc3MiLHRoaXMuZmluZEJ5U3RhdHVzKGEpfSxjLnByb3RvdHlwZS5nZXREb3dubG9hZGVkPWZ1bmN0aW9uKGEpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGdldERvd25sb2FkZWQ6ICIsYSksYXx8KGE9e30pLGEuc3RhdHVzPSJkb3dubG9hZGVkIix0aGlzLmZpbmRCeVN0YXR1cyhhKX0sYy5wcm90b3R5cGUuZmluZEJ5U3RhdHVzPWZ1bmN0aW9uKGEpe2lmKCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZmluZEJ5U3RhdHVzOiAiLGEpLGF8fChhPXt9KSwic3RyaW5nIj09dHlwZW9mIGEmJihhPXtzdGF0dXM6YX0pLG51bGw9PT1hLnN0YXR1cylyZXR1cm5bXTtmb3IodmFyIGI9YS5zdGF0dXMsYz1hLmZvcm1JZCxkPWEuc29ydEZpZWxkfHwiY3JlYXRlRGF0ZSIsZT10aGlzLmdldCgic3VibWlzc2lvbnMiLFtdKSxmPVtdLGc9MDtnPGUubGVuZ3RoO2crKyliLmluZGV4T2YoZVtnXS5zdGF0dXMpPi0xJiYobnVsbCE9Yz9lW2ddLmZvcm1JZD09PWMmJmYucHVzaChlW2ddKTpmLnB1c2goZVtnXSkpO3JldHVybiBmPWYuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBEYXRlKGFbZF0pPERhdGUoYltkXSk/LTE6MX0pfSxjLnByb3RvdHlwZS5nZXRTdWJtaXNzaW9uQnlNZXRhPWZ1bmN0aW9uKGEsYyl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9ucyBnZXRTdWJtaXNzaW9uQnlNZXRhOiAiLGEpO3ZhciBkPWEuX2x1ZGlkO2Q/Yi5tb2RlbHMuc3VibWlzc2lvbi5mcm9tTG9jYWwoZCxjKTooJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9ucyBnZXRTdWJtaXNzaW9uQnlNZXRhOiBsb2NhbCBpZCBub3QgZm91bmQgZm9yIHJldHJpZXZpbmcgc3VibWlzc2lvbi4iLGQsYSksYygibG9jYWwgaWQgbm90IGZvdW5kIGZvciByZXRyaWV2aW5nIHN1Ym1pc3Npb24iKSl9LGMucHJvdG90eXBlLnJlbW92ZVN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIHJlbW92ZVN1Ym1pc3Npb246ICIsYSk7dmFyIGM9dGhpcy5pbmRleE9mKGEpO2M+LTEmJnRoaXMuZ2V0KCJzdWJtaXNzaW9ucyIpLnNwbGljZShjLDEpLHRoaXMuc2F2ZUxvY2FsKGIpfSxjLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgaW5kZXhPZjogIixhKTtmb3IodmFyIGI9dGhpcy5nZXQoInN1Ym1pc3Npb25zIiksYz0wO2M8Yi5sZW5ndGg7YysrKXt7YltjXX1pZihiW2NdLl9sdWRpZD09PWEpcmV0dXJuIGN9cmV0dXJuLTF9LGEuc3VibWlzc2lvbnM9bmV3IGMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7Yz1jP2M6e307dmFyIGQ9bmV3IGUoYSxjKTtyZXR1cm4gYy5zdWJtaXNzaW9uSWQmJmIubW9kZWxzLnN1Ym1pc3Npb25zLnVwZGF0ZVN1Ym1pc3Npb25XaXRob3V0U2F2aW5nKGQpLGR9ZnVuY3Rpb24gZChhLGIpe2lmKCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbiBmcm9tTG9jYWw6ICIsYSksZlthXSkkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gZnJvbUxvY2FsIGZyb20gY2FjaGU6ICIsYSksYihudWxsLGZbYV0pO2Vsc2V7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIGZyb21Mb2NhbCBub3QgaW4gY2FjaGUuIExvYWRpbmcgZnJvbSBsb2NhbCBzdG9yYWdlLjogIixhKTt2YXIgYz1uZXcgZTtjLnNldExvY2FsSWQoYSksYy5sb2FkTG9jYWwoZnVuY3Rpb24oYyxkKXtpZihjKSRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbiBmcm9tTG9jYWwuIEVycm9yIGxvYWRpbmcgZnJvbSBsb2NhbDogIixhLGMpLGIoYyk7ZWxzZXtpZigkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gZnJvbUxvY2FsLiBMb2FkIGZyb20gbG9jYWwgc3VjZXNzZnVsbDogIixhKSxkLmlzRG93bmxvYWRTdWJtaXNzaW9uKCkpcmV0dXJuIGIobnVsbCxkKTtkLnJlbG9hZEZvcm0oZnVuY3Rpb24oYyl7Yz8oJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9uIGZyb21Mb2NhbC4gcmVsb2FkRm9ybS4gRXJyb3IgcmUtbG9hZGluZyBmb3JtOiAiLGEsYyksYihjKSk6KCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbiBmcm9tTG9jYWwuIHJlbG9hZEZvcm0uIFJlLWxvYWRpbmcgZm9ybSBzdWNjZXNzZnVsbDogIixhKSxmW2FdPWQsYihudWxsLGQpKX0pfX0pfX1mdW5jdGlvbiBlKGEsYyl7Yz1jfHx7fSwkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb246ICIsYyksZy5jYWxsKHRoaXMse190eXBlOiJzdWJtaXNzaW9uIn0pLCJ1bmRlZmluZWQiIT10eXBlb2YgYSYmYT8odGhpcy5zZXQoImZvcm1OYW1lIixhLmdldCgibmFtZSIpKSx0aGlzLnNldCgiZm9ybUlkIixhLmdldCgiX2lkIikpLHRoaXMuc2V0KCJkZXZpY2VGb3JtVGltZXN0YW1wIixhLmdldExhc3RVcGRhdGUoKSksdGhpcy5zZXQoImNyZWF0ZURhdGUiLGIudXRpbHMuZ2V0VGltZSgpKSx0aGlzLnNldCgidGltZXpvbmVPZmZzZXQiLGIudXRpbHMuZ2V0VGltZSghMCkpLHRoaXMuc2V0KCJhcHBJZCIsYi5jb25maWcuZ2V0KCJhcHBJZCIpKSx0aGlzLnNldCgiYXBwRW52aXJvbm1lbnQiLGIuY29uZmlnLmdldCgiZW52IikpLHRoaXMuc2V0KCJhcHBDbG91ZE5hbWUiLCIiKSx0aGlzLnNldCgiY29tbWVudHMiLFtdKSx0aGlzLnNldCgiZm9ybUZpZWxkcyIsW10pLHRoaXMuc2V0KCJzYXZlRGF0ZSIsbnVsbCksdGhpcy5zZXQoInN1Ym1pdERhdGUiLG51bGwpLHRoaXMuc2V0KCJ1cGxvYWRTdGFydERhdGUiLG51bGwpLHRoaXMuc2V0KCJzdWJtaXR0ZWREYXRlIixudWxsKSx0aGlzLnNldCgidXNlcklkIixudWxsKSx0aGlzLnNldCgiZmlsZXNJblN1Ym1pc3Npb24iLFtdKSx0aGlzLnNldCgiZGV2aWNlSWQiLGIuY29uZmlnLmdldCgiZGV2aWNlSWQiKSksdGhpcy50cmFuc2FjdGlvbk1vZGU9ITEpOih0aGlzLnNldCgiYXBwSWQiLGIuY29uZmlnLmdldCgiYXBwSWQiKSksYy5zdWJtaXNzaW9uSWQ/KHRoaXMuc2V0KCJkb3dubG9hZFN1Ym1pc3Npb24iLCEwKSx0aGlzLnNldFJlbW90ZVN1Ym1pc3Npb25JZChjLnN1Ym1pc3Npb25JZCkpOnRoaXMuc2V0KCJzdGF0dXMiLCJuZXciKSksdGhpcy5zZXQoInN0YXR1cyIsIm5ldyIpLHRoaXMuZ2VuTG9jYWxJZCgpO3ZhciBkPXRoaXMuZ2V0TG9jYWxJZCgpO2ZbZF09dGhpc31hLnN1Ym1pc3Npb249e25ld0luc3RhbmNlOmMsZnJvbUxvY2FsOmR9O3ZhciBmPXt9LGc9Yi5tb2RlbHMuTW9kZWwsaD17Im5ldyI6WyJkcmFmdCIsInBlbmRpbmciXSxkcmFmdDpbInBlbmRpbmciLCJkcmFmdCJdLHBlbmRpbmc6WyJpbnByb2dyZXNzIiwiZXJyb3IiLCJkcmFmdCJdLGlucHJvZ3Jlc3M6WyJwZW5kaW5nIiwiZXJyb3IiLCJpbnByb2dyZXNzIiwiZG93bmxvYWRlZCIsInF1ZXVlZCJdLHN1Ym1pdHRlZDpbXSxlcnJvcjpbImRyYWZ0IiwicGVuZGluZyIsImVycm9yIl0sZG93bmxvYWRlZDpbXSxxdWV1ZWQ6WyJlcnJvciIsInN1Ym1pdHRlZCJdfTtyZXR1cm4gYi51dGlscy5leHRlbmQoZSxnKSxlLnByb3RvdHlwZS5zYXZlRHJhZnQ9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIHNhdmVEcmFmdDogIik7dmFyIGM9ImRyYWZ0IixkPXRoaXM7dGhpcy5zZXQoInRpbWV6b25lT2Zmc2V0IixiLnV0aWxzLmdldFRpbWUoITApKSx0aGlzLnNldCgic2F2ZURhdGUiLGIudXRpbHMuZ2V0VGltZSgpKSx0aGlzLmNoYW5nZVN0YXR1cyhjLGZ1bmN0aW9uKGIpe3JldHVybiBiP2EoYik6KGQuZW1pdCgic2F2ZWRyYWZ0Iiksdm9pZCBhKG51bGwsbnVsbCkpfSl9LGUucHJvdG90eXBlLnZhbGlkYXRlRmllbGQ9ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gdmFsaWRhdGVGaWVsZDogIixhKTt2YXIgYz10aGlzO3RoaXMuZ2V0Rm9ybShmdW5jdGlvbihkLGUpe2lmKGQpYihkKTtlbHNle3ZhciBmPWMuZ2V0UHJvcHMoKSxnPWUuZ2V0UnVsZUVuZ2luZSgpO2cudmFsaWRhdGVGaWVsZChhLGYsYil9fSl9LGUucHJvdG90eXBlLmNoZWNrUnVsZXM9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIGNoZWNrUnVsZXM6ICIpO3ZhciBiPXRoaXM7dGhpcy5nZXRGb3JtKGZ1bmN0aW9uKGMsZCl7aWYoYylhKGMpO2Vsc2V7dmFyIGU9Yi5nZXRQcm9wcygpLGY9ZC5nZXRSdWxlRW5naW5lKCk7Zi5jaGVja1J1bGVzKGUsYSl9fSl9LGUucHJvdG90eXBlLnBlcmZvcm1WYWxpZGF0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5nZXRGb3JtKGZ1bmN0aW9uKGMsZCl7aWYoYylyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9uIHN1Ym1pdDogRXJyb3IgZ2V0dGluZyBmb3JtICIsYyksYShjKTt2YXIgZT1kLmdldFJ1bGVFbmdpbmUoKSxmPWIuZ2V0UHJvcHMoKTtlLnZhbGlkYXRlRm9ybShmLGEpfSl9LGUucHJvdG90eXBlLnZhbGlkYXRlU3VibWlzc2lvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IucGVyZm9ybVZhbGlkYXRpb24oZnVuY3Rpb24oYyxkKXtpZihjKXJldHVybiBhKGMpO3ZhciBlPWQudmFsaWRhdGlvbjtyZXR1cm4gZS52YWxpZD9hKG51bGwsZS52YWxpZCk6KGIuZW1pdCgidmFsaWRhdGlvbmVycm9yIixlKSx2b2lkIGEobnVsbCxlLnZhbGlkKSl9KX0sZS5wcm90b3R5cGUuc3VibWl0PWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIHN1Ym1pdDogIik7dmFyIGQ9InBlbmRpbmciO3RoaXMuc2V0KCJ0aW1lem9uZU9mZnNldCIsYi51dGlscy5nZXRUaW1lKCEwKSksYy5wZXJmb3JtVmFsaWRhdGlvbihmdW5jdGlvbihiLGUpe2lmKGIpJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9uIHN1Ym1pdCB2YWxpZGF0ZUZvcm06IEVycm9yIHZhbGlkYXRpbmcgZm9ybSAiLGIpLGEoYik7ZWxzZXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gc3VibWl0OiB2YWxpZGF0ZUZvcm0uIENvbXBsZXRlZCByZXN1bHQiLGUpO3ZhciBmPWUudmFsaWRhdGlvbjtmLnZhbGlkPygkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gc3VibWl0OiB2YWxpZGF0ZUZvcm0uIENvbXBsZXRlZCBGb3JtIFZhbGlkIixlKSxjLnNldCgic3VibWl0RGF0ZSIsbmV3IERhdGUpLGMuY2hhbmdlU3RhdHVzKGQsZnVuY3Rpb24oYil7Yj9hKGIpOihjLmVtaXQoInN1Ym1pdCIpLGEobnVsbCxudWxsKSl9KSk6KCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbiBzdWJtaXQ6IHZhbGlkYXRlRm9ybS4gQ29tcGxldGVkIFZhbGlkYXRpb24gZXJyb3IiLGUpLGMuZW1pdCgidmFsaWRhdGlvbmVycm9yIixmKSxhKCJWYWxpZGF0aW9uIGVycm9yIikpfX0pfSxlLnByb3RvdHlwZS5nZXRVcGxvYWRUYXNrPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZ2V0VXBsb2FkVGFza0lkKCk7Yz9iLm1vZGVscy51cGxvYWRNYW5hZ2VyLmdldFRhc2tCeUlkKGMsYSk6YShudWxsLG51bGwpfSxlLnByb3RvdHlwZS5nZXRGb3JtSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZvcm1JZCIpfSxlLnByb3RvdHlwZS5nZXRGb3JtU3VibWl0dGVkQWdhaW5zdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZm9ybVN1Ym1pdHRlZEFnYWluc3QiKX0sZS5wcm90b3R5cGUuZ2V0RG93bmxvYWRUYXNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoJGZoLmZvcm1zLmxvZy5kKCJnZXREb3dubG9hZFRhc2siKSxiLmlzRG93bmxvYWRTdWJtaXNzaW9uKCkpYi5nZXRVcGxvYWRUYXNrKGEpO2Vsc2UgaWYoYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbiBpcyBub3QgYSBkb3dubG9hZCBzdWJtaXNzaW9uIiksYSgiU3VibWlzc2lvbiBpcyBub3QgYSBkb3dubG9hZCBzdWJtaXNzaW9uIil9LGUucHJvdG90eXBlLmNhbmNlbFVwbG9hZFRhc2s9ZnVuY3Rpb24oYSl7dmFyIGM9InN1Ym1pdCIsZD10aGlzO2IubW9kZWxzLnVwbG9hZE1hbmFnZXIuY2FuY2VsU3VibWlzc2lvbih0aGlzLGZ1bmN0aW9uKGIpe2ImJiRmaC5mb3Jtcy5sb2cuZShiKSxkLmNoYW5nZVN0YXR1cyhjLGEpfSl9LGUucHJvdG90eXBlLmdldFVwbG9hZFRhc2tJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgidXBsb2FkVGFza0lkIil9LGUucHJvdG90eXBlLnNldFVwbG9hZFRhc2tJZD1mdW5jdGlvbihhKXt0aGlzLnNldCgidXBsb2FkVGFza0lkIixhKX0sZS5wcm90b3R5cGUuaXNJblByb2dyZXNzPWZ1bmN0aW9uKCl7cmV0dXJuImlucHJvZ3Jlc3MiPT09dGhpcy5nZXQoInN0YXR1cyIpfSxlLnByb3RvdHlwZS5pc0Rvd25sb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4iZG93bmxvYWRlZCI9PT10aGlzLmdldCgic3RhdHVzIil9LGUucHJvdG90eXBlLmlzU3VibWl0dGVkPWZ1bmN0aW9uKCl7cmV0dXJuInN1Ym1pdHRlZCI9PT10aGlzLmdldCgic3RhdHVzIil9LGUucHJvdG90eXBlLnN1Ym1pdHRlZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKGMuaXNEb3dubG9hZFN1Ym1pc3Npb24oKSl7dmFyIGQ9IkRvd25sb2FkZWQgc3VibWlzc2lvbnMgc2hvdWxkIG5vdCBjYWxsIHN1Ym1pdHRlZCBmdW5jdGlvbi4iO3JldHVybiAkZmguZm9ybXMubG9nLmUoZCksYShkKX0kZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gc3VibWl0dGVkIGNhbGxlZCIpO3ZhciBlPSJzdWJtaXR0ZWQiO2Muc2V0KCJzdWJtaXR0ZWREYXRlIixiLnV0aWxzLmdldFRpbWUoKSksYy5jaGFuZ2VTdGF0dXMoZSxmdW5jdGlvbihiKXtiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHNldHRpbmcgc3VibWl0dGVkIHN0YXR1cyAiK2IpLGEoYikpOigkZmguZm9ybXMubG9nLmQoIlN1Ym1pdHRlZCBzdGF0dXMgc2V0IGZvciBzdWJtaXNzaW9uICIrYy5nZXQoInN1Ym1pc3Npb25JZCIpKyIgd2l0aCBsb2NhbElkICIrYy5nZXRMb2NhbElkKCkpLGMuZW1pdCgic3VibWl0dGVkIixjLmdldCgic3VibWlzc2lvbklkIikpLGEobnVsbCxudWxsKSl9KX0sZS5wcm90b3R5cGUucXVldWVkPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7aWYoYy5pc0Rvd25sb2FkU3VibWlzc2lvbigpKXt2YXIgZD0iRG93bmxvYWRlZCBzdWJtaXNzaW9ucyBzaG91bGQgbm90IGNhbGwgcXVldWVkIGZ1bmN0aW9uLiI7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZShkKSxhKGQpfXZhciBlPSJxdWV1ZWQiO2Muc2V0KCJxdWV1ZWREYXRlIixiLnV0aWxzLmdldFRpbWUoKSksYy5jaGFuZ2VTdGF0dXMoZSxmdW5jdGlvbihiKXtiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHNldHRpbmcgcXVldWVkIHN0YXR1cyAiK2IpLGEoYikpOigkZmguZm9ybXMubG9nLmQoIlF1ZXVlZCBzdGF0dXMgc2V0IGZvciBzdWJtaXNzaW9uICIrYy5nZXQoInN1Ym1pc3Npb25JZCIpKyIgd2l0aCBsb2NhbElkICIrYy5nZXRMb2NhbElkKCkpLGMuZW1pdCgicXVldWVkIixjLmdldCgic3VibWlzc2lvbklkIikpLGEobnVsbCxjKSl9KX0sZS5wcm90b3R5cGUuZG93bmxvYWRlZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gRG93bmxvYWRlZCBjYWxsZWQiKTt2YXIgYz10aGlzLGQ9ImRvd25sb2FkZWQiO2Muc2V0KCJkb3dubG9hZGVkRGF0ZSIsYi51dGlscy5nZXRUaW1lKCkpLGMuY2hhbmdlU3RhdHVzKGQsZnVuY3Rpb24oYil7Yj8oJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzZXR0aW5nIGRvd25sb2FkZWQgc3RhdHVzICIrYiksYShiKSk6KCRmaC5mb3Jtcy5sb2cuZCgiRG93bmxvYWRlZCBzdGF0dXMgc2V0IGZvciBzdWJtaXNzaW9uICIrYy5nZXQoInN1Ym1pc3Npb25JZCIpKyIgd2l0aCBsb2NhbElkICIrYy5nZXRMb2NhbElkKCkpLGMuZW1pdCgiZG93bmxvYWRlZCIsYy5nZXQoInN1Ym1pc3Npb25JZCIpKSxhKG51bGwsYykpfSl9LGUucHJvdG90eXBlLmdlbkxvY2FsSWQ9ZnVuY3Rpb24oKXt2YXIgYT1iLnV0aWxzLmxvY2FsSWQodGhpcyksYz10aGlzLmdldCgiZm9ybUlkIil8fE1hdGguY2VpbCgxZTUqTWF0aC5yYW5kb20oKSk7dGhpcy5zZXRMb2NhbElkKGMrIl8iK2EpfSxlLnByb3RvdHlwZS5jaGFuZ2VTdGF0dXM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmlzU3RhdHVzVmFsaWQoYSkpe3RoaXMuc2V0KCJzdGF0dXMiLGEpLHRoaXMuc2F2ZVRvTGlzdChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoYSl9KSx0aGlzLnNhdmVMb2NhbChiKX1lbHNlICRmaC5mb3Jtcy5sb2cuZSgiVGFyZ2V0IHN0YXR1cyBpcyBub3QgdmFsaWQ6ICIrYSksYigiVGFyZ2V0IHN0YXR1cyBpcyBub3QgdmFsaWQ6ICIrYSl9LGUucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbihhKXt2YXIgYz0iaW5wcm9ncmVzcyIsZD10aGlzO3JldHVybiB0aGlzLmlzU3RhdHVzVmFsaWQoYyk/KHRoaXMuc2V0KCJzdGF0dXMiLGMpLHRoaXMuc2V0KCJ1cGxvYWRTdGFydERhdGUiLGIudXRpbHMuZ2V0VGltZSgpKSxiLm1vZGVscy5zdWJtaXNzaW9ucy51cGRhdGVTdWJtaXNzaW9uV2l0aG91dFNhdmluZyh0aGlzKSxiLm1vZGVscy51cGxvYWRNYW5hZ2VyLnF1ZXVlU3VibWlzc2lvbihkLGZ1bmN0aW9uKGIsYyl7Yj9hKGIpOihjLnNldCgiZXJyb3IiLG51bGwpLGMuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCB0YXNrOiAiK2EpfSksZC5lbWl0KCJpbnByb2dyZXNzIixjKSxjLm9uKCJwcm9ncmVzcyIsZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJFbWl0dGluZyB1cGxvYWQgcHJvZ3Jlc3MgZm9yIHN1Ym1pc3Npb246ICIrZC5nZXRMb2NhbElkKCkrSlNPTi5zdHJpbmdpZnkoYSkpLGQuZW1pdCgicHJvZ3Jlc3MiLGEpfSksYShudWxsLGMpKX0pLHZvaWQgMCk6YSgiSW52YWxpZCBTdGF0dXMgdG8gdXBsb2FkIGEgZm9ybSBzdWJtaXNzaW9uLiIpfSxlLnByb3RvdHlwZS5kb3dubG9hZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzOyRmaC5mb3Jtcy5sb2cuZCgiU3RhcnRpbmcgZG93bmxvYWQgZm9yIHN1Ym1pc3Npb246ICIrYy5nZXRMb2NhbElkKCkpO3ZhciBkPSJwZW5kaW5nIjtyZXR1cm4gdGhpcy5pc1N0YXR1c1ZhbGlkKGQpPyh0aGlzLnNldCgic3RhdHVzIixkKSxkPSJpbnByb2dyZXNzIix0aGlzLmlzU3RhdHVzVmFsaWQoZCk/KHRoaXMuc2V0KCJzdGF0dXMiLGQpLHZvaWQgYi5tb2RlbHMudXBsb2FkTWFuYWdlci5xdWV1ZVN1Ym1pc3Npb24oYyxmdW5jdGlvbihiLGQpe3JldHVybiBiP2EoYik6KGQuc2V0KCJlcnJvciIsbnVsbCksZC5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgZG93bmxvYWQgdGFzazogIithKX0pLGMuZW1pdCgiaW5wcm9ncmVzcyIsZCksZC5vbigicHJvZ3Jlc3MiLGZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRW1pdHRpbmcgZG93bmxvYWQgcHJvZ3Jlc3MgZm9yIHN1Ym1pc3Npb246ICIrYy5nZXRMb2NhbElkKCkrSlNPTi5zdHJpbmdpZnkoYSkpLGMuZW1pdCgicHJvZ3Jlc3MiLGEpfSksYShudWxsLGQpKX0pKTphKCJJbnZhbGlkIFN0YXR1cyB0byBkb3dsb2FkIGEgZm9ybSBzdWJtaXNzaW9uIikpOmEoIkludmFsaWQgU3RhdHVzIHRvIGRvd25sb2FkIGEgZm9ybSBzdWJtaXNzaW9uLiIpfSxlLnByb3RvdHlwZS5zYXZlVG9MaXN0PWZ1bmN0aW9uKGEpe2IubW9kZWxzLnN1Ym1pc3Npb25zLnNhdmVTdWJtaXNzaW9uKHRoaXMsYSl9LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXQoImVycm9yTWVzc2FnZSIsYSk7dmFyIGM9ImVycm9yIjt0aGlzLmNoYW5nZVN0YXR1cyhjLGIpLHRoaXMuZW1pdCgiZXJyb3IiLGEpfSxlLnByb3RvdHlwZS5nZXRTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInN0YXR1cyIpfSxlLnByb3RvdHlwZS5pc1N0YXR1c1ZhbGlkPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiaXNTdGF0dXNWYWxpZC4gVGFyZ2V0IFN0YXR1czogIithKyIgQ3VycmVudCBTdGF0dXM6ICIrdGhpcy5nZXQoInN0YXR1cyIpLnRvTG93ZXJDYXNlKCkpO3ZhciBiPXRoaXMuZ2V0KCJzdGF0dXMiKS50b0xvd2VyQ2FzZSgpLGM9aFtiXTtyZXR1cm4gYy5pbmRleE9mKGEpPi0xPyEwOih0aGlzLnNldCgic3RhdHVzIiwiZXJyb3IiKSwhMSl9LGUucHJvdG90eXBlLmFkZENvbW1lbnQ9ZnVuY3Rpb24oYSxjKXt2YXIgZD1iLnV0aWxzLmdldFRpbWUoKSxlPWQuZ2V0VGltZSgpLGY9e21hZGVCeToidW5kZWZpbmVkIj09dHlwZW9mIGM/IiI6Yy50b1N0cmluZygpLG1hZGVPbjpkLHZhbHVlOmEsdGltZVN0YW1wOmV9O3JldHVybiB0aGlzLmdldENvbW1lbnRzKCkucHVzaChmKSxlfSxlLnByb3RvdHlwZS5nZXRDb21tZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiY29tbWVudHMiKX0sZS5wcm90b3R5cGUucmVtb3ZlQ29tbWVudD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5nZXRDb21tZW50cygpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLnRpbWVTdGFtcD09PWEpcmV0dXJuIHZvaWQgYi5zcGxpY2UoYywxKX19LGUucHJvdG90eXBlLnBvcHVsYXRlRmlsZXNJblN1Ym1pc3Npb249ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcyxiPVtdLGM9YS5nZXRTdWJtaXNzaW9uRmlsZXMoKSxkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5maWxlTmFtZT9iLnB1c2goY1tkXS5maWxlTmFtZSk6Y1tkXS5oYXNoTmFtZSYmYi5wdXNoKGNbZF0uaGFzaE5hbWUpO2Euc2V0KCJmaWxlc0luU3VibWlzc2lvbiIsYyl9LGUucHJvdG90eXBlLmdldFN1Ym1pc3Npb25GaWxlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7JGZoLmZvcm1zLmxvZy5kKCJJbiBnZXRTdWJtaXNzaW9uRmlsZXM6ICIrYS5nZXRMb2NhbElkKCkpO2Zvcih2YXIgYj1bXSxjPWEuZ2V0Rm9ybUZpZWxkcygpLGQ9MDtkPGMubGVuZ3RoO2QrKylmb3IodmFyIGU9Y1tkXS5maWVsZFZhbHVlc3x8W10sZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0uZmlsZU5hbWU/Yi5wdXNoKGVbZl0pOmVbZl0uaGFzaE5hbWUmJmIucHVzaChlW2ZdKTtyZXR1cm4gYn0sZS5wcm90b3R5cGUuYWRkSW5wdXRWYWx1ZT1mdW5jdGlvbihhLGIpeyRmaC5mb3Jtcy5sb2cuZCgiQWRkaW5nIGlucHV0IHZhbHVlOiAiLEpTT04uc3RyaW5naWZ5KGF8fHt9KSk7dmFyIGM9dGhpcyxkPWEuZmllbGRJZCxlPWEudmFsdWU7aWYobnVsbD09PWV8fCJ1bmRlZmluZWQiPT10eXBlb2YgZSlyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJhZGRJbnB1dFZhbHVlOiBJbnB1dCB2YWx1ZSB3YXMgbnVsbC4gUGFyYW1zOiAiK2QpLGIobnVsbCx7fSk7dmFyIGY9dm9pZCAwPT09YS5pbmRleD8tMTphLmluZGV4O3RoaXMuZ2V0Rm9ybShmdW5jdGlvbihlLGcpe3ZhciBoPWcuZ2V0RmllbGRNb2RlbEJ5SWQoZCk7aWYoYy50cmFuc2FjdGlvbk1vZGUpYy50bXBGaWVsZHNbZF18fChjLnRtcEZpZWxkc1tkXT1bXSksYS5pc1N0b3JlPSExLGgucHJvY2Vzc0lucHV0KGEsZnVuY3Rpb24oYSxlKXtyZXR1cm4gYT9iKGEpOihmPi0xP2MudG1wRmllbGRzW2RdW2ZdPWU6Yy50bXBGaWVsZHNbZF0ucHVzaChlKSxiKG51bGwsZSkpfSk7ZWxzZXt2YXIgaT1jLmdldElucHV0VmFsdWVPYmplY3RCeUlkKGQpO2kuZmllbGRWYWx1ZXNbZl0mJiJzdHJpbmciPT10eXBlb2YgaS5maWVsZFZhbHVlc1tmXS5oYXNoTmFtZSYmKGEucHJldmlvdXNGaWxlPWkuZmllbGRWYWx1ZXNbZl0pLGgucHJvY2Vzc0lucHV0KGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYT9iKGEpOihmPi0xP2kuZmllbGRWYWx1ZXNbZl09ZDppLmZpZWxkVmFsdWVzLnB1c2goZCksInN0cmluZyI9PXR5cGVvZiBkLmhhc2hOYW1lJiZjLnB1c2hGaWxlKGQuaGFzaE5hbWUpLGIobnVsbCxkKSl9KX19KX0sZS5wcm90b3R5cGUucHVzaEZpbGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXQoImZpbGVzSW5TdWJtaXNzaW9uIixbXSk7InN0cmluZyI9PXR5cGVvZiBhJiYtMT09PWIuaW5kZXhPZihhKSYmKGIucHVzaChhKSx0aGlzLnNldCgiZmlsZXNJblN1Ym1pc3Npb24iLGIpKX0sZS5wcm90b3R5cGUucmVtb3ZlRmlsZVZhbHVlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0KCJmaWxlc0luU3VibWlzc2lvbiIsW10pOyJzdHJpbmciPT10eXBlb2YgYSYmYi5pbmRleE9mKGEpPi0xJiYoYi5zcGxpY2UoYi5pbmRleE9mKGEpLDEpLHRoaXMuc2V0KCJmaWxlc0luU3VibWlzc2lvbiIsYikpfSxlLnByb3RvdHlwZS5nZXRJbnB1dFZhbHVlQnlGaWVsZElkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRJbnB1dFZhbHVlT2JqZWN0QnlJZChhKS5maWVsZFZhbHVlczt0aGlzLmdldEZvcm0oZnVuY3Rpb24oZCxlKXt2YXIgZj1lLmdldEZpZWxkTW9kZWxCeUlkKGEpO2YuY29udmVydFN1Ym1pc3Npb24oYyxiKX0pfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jbGVhckxvY2FsU3VibWlzc2lvbkZpbGVzKGZ1bmN0aW9uKCl7YS5zZXQoImZvcm1GaWVsZHMiLFtdKX0pfSxlLnByb3RvdHlwZS5pc0Rvd25sb2FkU3VibWlzc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZG93bmxvYWRTdWJtaXNzaW9uIik9PT0hMAp9LGUucHJvdG90eXBlLmdldFN1Ym1pc3Npb25GaWxlPWZ1bmN0aW9uKGEsYyl7Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnJlYWRGaWxlKGEsYyl9LGUucHJvdG90eXBlLmNsZWFyTG9jYWxTdWJtaXNzaW9uRmlsZXM9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJJbiBjbGVhckxvY2FsU3VibWlzc2lvbkZpbGVzIik7dmFyIGM9dGhpcyxkPWMuZ2V0KCJmaWxlc0luU3VibWlzc2lvbiIsW10pOyRmaC5mb3Jtcy5sb2cuZCgiRmlsZXMgdG8gY2xlYXIgIixkKTtmb3IodmFyIGUgaW4gZCkkZmguZm9ybXMubG9nLmQoIkNsZWFyaW5nIGZpbGUgIitkW2VdKSxiLnN0b3Jlcy5sb2NhbFN0b3JhZ2UucmVtb3ZlRW50cnkoZFtlXSxmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHJlbW92aW5nIGZpbGVzIGZyb20gIithKX0pO2EoKX0sZS5wcm90b3R5cGUuc3RhcnRJbnB1dFRyYW5zYWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy50cmFuc2FjdGlvbk1vZGU9ITAsdGhpcy50bXBGaWVsZHM9e319LGUucHJvdG90eXBlLmVuZElucHV0VHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7dGhpcy50cmFuc2FjdGlvbk1vZGU9ITE7dmFyIGM9e30sZD0iIixlPTAsZj1bXSxnPSIiO2lmKGEpe2M9dGhpcy50bXBGaWVsZHM7Zm9yKGQgaW4gYyl7dmFyIGg9dGhpcy5nZXRJbnB1dFZhbHVlT2JqZWN0QnlJZChkKTtmb3IoZj1jW2RdLGU9MDtlPGYubGVuZ3RoO2UrKylnPWZbZV0saC5maWVsZFZhbHVlcy5wdXNoKGcpLCJzdHJpbmciPT10eXBlb2YgZy5oYXNoTmFtZSYmdGhpcy5wdXNoRmlsZShnLmhhc2hOYW1lKX10aGlzLnRtcEZpZWxkcz17fX1lbHNle2M9dGhpcy50bXBGaWVsZHMsdGhpcy50bXBGaWVsZHM9e307Zm9yKGQgaW4gYylmb3IoZj1jW2RdLGU9MDtlPGYubGVuZ3RoO2UrKylnPWZbZV0sInN0cmluZyI9PXR5cGVvZiBnLmhhc2hOYW1lJiZiLnN0b3Jlcy5sb2NhbFN0b3JhZ2UucmVtb3ZlRW50cnkoZy5oYXNoTmFtZSxmdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmUoIkVycm9yIHJlbW92aW5nIGZpbGUgZnJvbSB0cmFuc2FjdGlvbiAiLGEpfSl9fSxlLnByb3RvdHlwZS5yZW1vdmVGaWVsZFZhbHVlPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcyxlPVtdLGY9e307ZT10aGlzLnRyYW5zYWN0aW9uTW9kZT90aGlzLnRtcEZpZWxkcy5maWVsZElkOnRoaXMuZ2V0SW5wdXRWYWx1ZU9iamVjdEJ5SWQoYSkuZmllbGRJZCwidW5kZWZpbmVkIj09dHlwZW9mIGM/Zj1lLnNwbGljZSgwLGUubGVuZ3RoKTplLmxlbmd0aD5jJiYoZj1lLnNwbGljZShjLDEpKSwic3RyaW5nIj09dHlwZW9mIGYuaGFzaE5hbWUmJmIuc3RvcmVzLmxvY2FsU3RvcmFnZS5yZW1vdmVFbnRyeShmLmhhc2hOYW1lLGZ1bmN0aW9uKGEpe2E/JGZoLmZvcm1zLmxvZy5lKCJFcnJvciByZW1vdmluZyBmaWxlOiAiLGEpOmQucmVtb3ZlRmlsZVZhbHVlKGYuaGFzaE5hbWUpfSl9LGUucHJvdG90eXBlLmdldElucHV0VmFsdWVPYmplY3RCeUlkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldEZvcm1GaWVsZHMoKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5maWVsZElkLl9pZCl7aWYoZC5maWVsZElkLl9pZD09PWEpcmV0dXJuIGR9ZWxzZSBpZihkLmZpZWxkSWQ9PT1hKXJldHVybiBkfXZhciBlPXtmaWVsZElkOmEsZmllbGRWYWx1ZXM6W119O3JldHVybiBiLnB1c2goZSksZX0sZS5wcm90b3R5cGUuZ2V0Rm9ybT1mdW5jdGlvbihhKXt2YXIgYz1iLm1vZGVscy5Gb3JtLGQ9dGhpcy5nZXQoImZvcm1JZCIpO3JldHVybiBkPygkZmguZm9ybXMubG9nLmQoIkZvcm1JZCBmb3VuZCBmb3IgZ2V0Rm9ybTogIitkKSx2b2lkIG5ldyBjKHtmb3JtSWQ6ZCxyYXdNb2RlOiEwfSxhKSk6KCRmaC5mb3Jtcy5sb2cuZSgiTm8gZm9ybSBJZCBzcGVjaWZpZWQgZm9yIGdldEZvcm0iKSxhKCJObyBmb3JtIElkIHNwZWNpZmllZCBmb3IgZ2V0Rm9ybSIpKX0sZS5wcm90b3R5cGUucmVsb2FkRm9ybT1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gcmVsb2FkIGZvcm0iKTt2YXIgYz1iLm1vZGVscy5Gb3JtLGQ9dGhpcy5nZXQoImZvcm1JZCIpLGU9dGhpcztuZXcgYyh7Zm9ybUlkOmQscmF3TW9kZTohMH0sZnVuY3Rpb24oYixjKXtiP2EoYik6KGUuZm9ybT1jLGUuZ2V0KCJkZXZpY2VGb3JtVGltZXN0YW1wIixudWxsKXx8ZS5zZXQoImRldmljZUZvcm1UaW1lc3RhbXAiLGMuZ2V0TGFzdFVwZGF0ZSgpKSxhKG51bGwsYykpfSl9LGUucHJvdG90eXBlLmdldEZpbGVJbnB1dFZhbHVlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuZ2V0RmlsZUZpZWxkc0lkKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGM/YShjKTphKG51bGwsYi5nZXRJbnB1dFZhbHVlQXJyYXkoZCkpfSl9LGUucHJvdG90eXBlLmdldEZvcm1GaWVsZHM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXQoImZvcm1GaWVsZHMiLFtdKSxiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5maWVsZFZhbHVlcz1hW2JdLmZpZWxkVmFsdWVzfHxbXSxhW2JdLmZpZWxkVmFsdWVzPWFbYl0uZmllbGRWYWx1ZXMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhfSk7cmV0dXJuIGF9LGUucHJvdG90eXBlLmdldEZpbGVGaWVsZHNJZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9W107aWYoYi5pc0Rvd25sb2FkU3VibWlzc2lvbigpKXtmb3IodmFyIGQ9Yi5nZXRGb3JtRmllbGRzKCksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLmZpZWxkSWR8fHt9OygiZmlsZSI9PT1mLnR5cGV8fCJwaG90byI9PT1mLnR5cGV8fCJzaWduYXR1cmUiPT09Zi50eXBlKSYmZi5faWQmJmMucHVzaChmLl9pZCl9cmV0dXJuIGEobnVsbCxjKX1iLmdldEZvcm0oZnVuY3Rpb24oYixjKXtyZXR1cm4gYj8oJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBnZXR0aW5nIGZvcm0gZm9yIGdldEZpbGVGaWVsZHNJZCIrYiksYShiKSk6YShiLGMuZ2V0RmlsZUZpZWxkc0lkKCkpfSl9LGUucHJvdG90eXBlLnVwZGF0ZUZpbGVMb2NhbFVSST1mdW5jdGlvbihhLGIsYyl7JGZoLmZvcm1zLmxvZy5kKCJ1cGRhdGVGaWxlTG9jYWxVUkk6ICIrYik7dmFyIGQ9dGhpcztyZXR1cm4gYT1hfHx7fSxhLmZpbGVOYW1lJiZiP3ZvaWQgZC5maW5kRmlsZVBsYWNlaG9sZGVyRmllbGRJZChhLmZpbGVOYW1lLGZ1bmN0aW9uKGUsZil7aWYoZSlyZXR1cm4gYyhlKTtpZighZi5maWVsZElkKXJldHVybiAkZmguZm9ybXMubG9nLmUoIk5vIGZpbGUgZmllbGQgbWF0Y2hlcyB0aGUgcGxhY2Vob2xkZXIgbmFtZSAiK2EuZmlsZU5hbWUpLGMoIk5vIGZpbGUgZmllbGQgbWF0Y2hlcyB0aGUgcGxhY2Vob2xkZXIgbmFtZSAiK2EuZmlsZU5hbWUpO3ZhciBnPWQuZ2V0SW5wdXRWYWx1ZU9iamVjdEJ5SWQoZi5maWVsZElkKS5maWVsZFZhbHVlc1tmLnZhbHVlSW5kZXhdO2cubG9jYWxVUkk9YixkLmdldElucHV0VmFsdWVPYmplY3RCeUlkKGYuZmllbGRJZCkuZmllbGRWYWx1ZXNbZi52YWx1ZUluZGV4XT1nLGQuc2F2ZUxvY2FsKGMpfSk6KCRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbjogdXBkYXRlRmlsZUxvY2FsVVJJIDogTm8gZmlsZU5hbWUgZm9yIHN1Ym1pc3Npb25JZCA6ICIrSlNPTi5zdHJpbmdpZnkoYSkpLGMoIlN1Ym1pc3Npb246IHVwZGF0ZUZpbGVMb2NhbFVSSSA6IE5vIGZpbGVOYW1lIGZvciBzdWJtaXNzaW9uSWQgOiAiK0pTT04uc3RyaW5naWZ5KGEpKSl9LGUucHJvdG90eXBlLmZpbmRGaWxlUGxhY2Vob2xkZXJGaWVsZElkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXt9O2MuZ2V0RmlsZUZpZWxkc0lkKGZ1bmN0aW9uKGUsZil7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspZm9yKHZhciBoPWZbZ10saT1jLmdldElucHV0VmFsdWVPYmplY3RCeUlkKGgpLGo9MDtqPGkuZmllbGRWYWx1ZXMubGVuZ3RoO2orKyl7dmFyIGs9aS5maWVsZFZhbHVlc1tqXTtrJiZudWxsIT09ay5maWxlTmFtZSYmay5maWxlTmFtZT09PWEmJihkLmZpZWxkSWQ9aCxkLnZhbHVlSW5kZXg9ail9cmV0dXJuIGIobnVsbCxkKX0pfSxlLnByb3RvdHlwZS5nZXRJbnB1dFZhbHVlQXJyYXk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKylmb3IodmFyIGQ9YVtjXSxlPXRoaXMuZ2V0SW5wdXRWYWx1ZU9iamVjdEJ5SWQoZCksZj0wO2Y8ZS5maWVsZFZhbHVlcy5sZW5ndGg7ZisrKXt2YXIgZz1lLmZpZWxkVmFsdWVzW2ZdO2cmJihnLmZpZWxkSWQ9ZCxiLnB1c2goZykpfXJldHVybiBifSxlLnByb3RvdHlwZS5jbGVhckxvY2FsPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7Yi5tb2RlbHMudXBsb2FkTWFuYWdlci5jYW5jZWxTdWJtaXNzaW9uKGMsZnVuY3Rpb24oZCl7cmV0dXJuIGQ/KCRmaC5mb3Jtcy5sb2cuZShkKSxhKGQpKTp2b2lkIGIubW9kZWxzLnN1Ym1pc3Npb25zLnJlbW92ZVN1Ym1pc3Npb24oYy5nZXRMb2NhbElkKCksZnVuY3Rpb24oYil7cmV0dXJuIGI/KCRmaC5mb3Jtcy5sb2cuZShiKSxhKGIpKTp2b2lkIGMuY2xlYXJMb2NhbFN1Ym1pc3Npb25GaWxlcyhmdW5jdGlvbigpe2cucHJvdG90eXBlLmNsZWFyTG9jYWwuY2FsbChjLGZ1bmN0aW9uKGIpe3JldHVybiBiPygkZmguZm9ybXMubG9nLmUoYiksYShiKSk6dm9pZCBhKG51bGwsbnVsbCl9KX0pfSl9KX0sZS5wcm90b3R5cGUuZ2V0UmVtb3RlU3VibWlzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJzdWJtaXNzaW9uSWQiLCIiKX0sZS5wcm90b3R5cGUuc2V0UmVtb3RlU3VibWlzc2lvbklkPWZ1bmN0aW9uKGEpe2EmJnRoaXMuc2V0KCJzdWJtaXNzaW9uSWQiLGEpfSxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSxiKXtkLmNhbGwodGhpcyx7X3R5cGU6ImZpZWxkIn0pLGEmJih0aGlzLmZyb21KU09OKGEpLHRoaXMuZ2VuTG9jYWxJZCgpKSxiJiYodGhpcy5mb3JtPWIpfXZhciBkPWIubW9kZWxzLk1vZGVsO3JldHVybiBiLnV0aWxzLmV4dGVuZChjLGQpLGMucHJvdG90eXBlLmlzUmVxdWlyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInJlcXVpcmVkIil9LGMucHJvdG90eXBlLmdldEZpZWxkVmFsaWRhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZpZWxkT3B0aW9ucygpLnZhbGlkYXRpb258fHt9fSxjLnByb3RvdHlwZS5nZXRGaWVsZERlZmluaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRGaWVsZE9wdGlvbnMoKS5kZWZpbml0aW9ufHx7fX0sYy5wcm90b3R5cGUuZ2V0TWluUmVwZWF0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKTtyZXR1cm4gYS5taW5SZXBlYXR8fDF9LGMucHJvdG90eXBlLmdldE1heFJlcGVhdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWZpbml0aW9uKCk7cmV0dXJuIGEubWF4UmVwZWF0fHwxfSxjLnByb3RvdHlwZS5nZXRGaWVsZE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkT3B0aW9ucyIse3ZhbGlkYXRpb246e30sZGVmaW5pdGlvbjp7fX0pfSxjLnByb3RvdHlwZS5nZXRQaG90b09wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT17dGFyZ2V0V2lkdGg6bnVsbCx0YXJnZXRIZWlnaHQ6bnVsbCxxdWFsaXR5Om51bGwsc2F2ZVRvUGhvdG9BbGJ1bTpudWxsLHBpY3R1cmVTb3VyY2U6bnVsbCxlbmNvZGluZ1R5cGU6bnVsbH0sYj10aGlzLmdldEZpZWxkRGVmaW5pdGlvbigpO3JldHVybiBhLnRhcmdldFdpZHRoPWIucGhvdG9XaWR0aCxhLnRhcmdldEhlaWdodD1iLnBob3RvSGVpZ2h0LGEucXVhbGl0eT1iLnBob3RvUXVhbGl0eSxhLnNhdmVUb1Bob3RvQWxidW09Yi5zYXZlVG9QaG90b0FsYnVtLGEucGljdHVyZVNvdXJjZT1iLnBob3RvU291cmNlLGEuZW5jb2RpbmdUeXBlPWIucGhvdG9UeXBlLGF9LGMucHJvdG90eXBlLmlzUmVwZWF0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJyZXBlYXRpbmciLCExKX0sYy5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgidHlwZSIsInRleHQiKX0sYy5wcm90b3R5cGUuZ2V0RmllbGRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiX2lkIiwiIil9LGMucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIm5hbWUiLCJ1bmtub3duIil9LGMucHJvdG90eXBlLmdldENvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkQ29kZSIsbnVsbCl9LGMucHJvdG90eXBlLmdldEhlbHBUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJoZWxwVGV4dCIsIiIpfSxjLnByb3RvdHlwZS5nZXREZWZhdWx0VmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEZpZWxkRGVmaW5pdGlvbigpO3JldHVybiBhP2EuZGVmYXVsdFZhbHVlOiIifSxjLnByb3RvdHlwZS5pc0FkbWluRmllbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImFkbWluT25seSIpfSxjLnByb3RvdHlwZS5wcm9jZXNzSW5wdXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFR5cGUoKSxkPSJwcm9jZXNzXyIrYyxlPWEudmFsdWU7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlfHxudWxsPT09ZT9iKG51bGwsZSk6dm9pZCh0aGlzW2RdJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpc1tkXT90aGlzW2RdKGEsYik6YihudWxsLGUpKX0sYy5wcm90b3R5cGUuY29udmVydFN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFR5cGUoKSxkPSJjb252ZXJ0XyIrYzt0aGlzW2RdJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpc1tkXT90aGlzW2RdKGEsYik6YihudWxsLGEpfSxjLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbihhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGImJihjPWIsYj0wKSx0aGlzLmZvcm0uZ2V0UnVsZUVuZ2luZSgpLnZhbGlkYXRlRmllbGRWYWx1ZSh0aGlzLmdldEZpZWxkSWQoKSxhLGIsYyl9LGMucHJvdG90eXBlLmdldFJ1bGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZElkKCk7cmV0dXJuIHRoaXMuZm9ybS5nZXRSdWxlc0J5RmllbGRJZChhKX0sYy5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLnNldCgidmlzaWJsZSIsYSksdGhpcy5lbWl0KGE/InZpc2libGUiOiJoaWRkZW4iKX0sYS5GaWVsZD1jLGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHMuRmllbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdG90eXBlLmdldENoZWNrQm94T3B0aW9ucz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWZpbml0aW9uKCk7aWYoYS5vcHRpb25zKXJldHVybiBhLm9wdGlvbnM7dGhyb3ciY2hlY2tib3ggY2hvaWNlIGRlZmluaXRpb24gaXMgbm90IGZvdW5kIGluIGZpZWxkIGRlZmluaXRpb24ifSxhLnByb3RvdHlwZS5wcm9jZXNzX2NoZWNrYm94ZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZhbHVlO2MmJmMuc2VsZWN0aW9ucyYmYy5zZWxlY3Rpb25zIGluc3RhbmNlb2YgQXJyYXk/YihudWxsLGMpOmIoInRoZSBpbnB1dCB2YWx1ZSBmb3IgcHJvY2Vzc2luZyBjaGVja2JveCBmaWVsZCBzaG91bGQgYmUgbGlrZSB7c2VsZWN0aW9uczogW3ZhbDEsdmFsMl19Iil9LGEucHJvdG90eXBlLmNvbnZlcnRfY2hlY2tib3hlcz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspYy5wdXNoKGFbZF0uc2VsZWN0aW9ucyk7YihudWxsLGMpfSxhfShiLm1vZGVscy5GaWVsZHx8e30pLGIubW9kZWxzLkZpZWxkPWZ1bmN0aW9uKGEpe3JldHVybiBhLnByb3RvdHlwZS5wcm9jZXNzX2ZpbGU9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIGE9YXx8IiIsYj1ifHwiIixhLmxlbmd0aD4wP2E6Yi5pbmRleE9mKCIucG5nIik+LTE/ImltYWdlL3BuZyI6Yi5pbmRleE9mKCIuanBnIik+LTE/ImltYWdlL2pwZWciOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0ifWZ1bmN0aW9uIGUoYSxiKXtpZihhPWF8fCIiLGEubGVuZ3RoPjApcmV0dXJuIGE7dmFyIGM9Yi5sYXN0SW5kZXhPZigiLyIpO3JldHVybiBjPi0xP2Iuc2xpY2UoYyk6bnVsbH12YXIgZj1hLnZhbHVlLGc9dm9pZCAwPT09YS5pc1N0b3JlPyEwOmEuaXNTdG9yZSxoPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9YS5wcmV2aW91c0ZpbGV8fHt9LGo9bnVsbDtpZigidW5kZWZpbmVkIj09dHlwZW9mIGZ8fG51bGw9PT1mKXJldHVybiBjKCJObyBpbnB1dCB2YWx1ZSB0byBwcm9jZXNzX2ZpbGUiLG51bGwpO3ZhciBrPWY7ZiBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQmJihrPWYuZmlsZXNbMF18fHt9KSwidW5kZWZpbmVkIj09dHlwZW9mIGsubGFzdE1vZGlmaWVkRGF0ZSYmKGg9Yi51dGlscy5nZXRUaW1lKCkuZ2V0VGltZSgpKSxrLmxhc3RNb2RpZmllZERhdGUgaW5zdGFuY2VvZiBEYXRlJiYoaD1rLmxhc3RNb2RpZmllZERhdGUuZ2V0VGltZSgpKTt2YXIgbD1lKGsubmFtZXx8ay5maWxlTmFtZSxrLmZ1bGxQYXRoKSxtPWQoay50eXBlfHxrLmZpbGVUeXBlLGwpO2lmKG51bGw9PT1sJiYhaS5maWxlTmFtZSlyZXR1cm4gYygiRXhwZWN0ZWQgcGljdHVyZSB0byBiZSBQTkcgb3IgSlBFRyBidXQgd2FzIG51bGwiKTtpZihpLmhhc2hOYW1lJiYobD09PWkuaGFzaE5hbWV8fGsuaGFzaE5hbWU9PT1pLmhhc2hOYW1lKSlyZXR1cm4gYyhudWxsLGkpO3ZhciBuPXtmaWxlTmFtZTpsLGZpbGVTaXplOmsuc2l6ZSxmaWxlVHlwZTptLGZpbGVVcGRhdGVUaW1lOmgsaGFzaE5hbWU6IiIsaW1nSGVhZGVyOiIiLGNvbnRlbnRUeXBlOiJiaW5hcnkifTtpPW47dmFyIG89bCsobmV3IERhdGUpLmdldFRpbWUoKStNYXRoLmNlaWwoMWU1Kk1hdGgucmFuZG9tKCkpO2IudXRpbHMubWQ1KG8sZnVuY3Rpb24oYSxkKXtqPWQsYSYmKGo9byksaj0iZmlsZVBsYWNlSG9sZGVyIitqLDA9PT1sLmxlbmd0aCYmKGkuZmlsZU5hbWU9aiksaS5oYXNoTmFtZT1qLGc/Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnNhdmVGaWxlKGosayxmdW5jdGlvbihhKXthPygkZmguZm9ybXMubG9nLmUoYSksYyhhKSk6YyhudWxsLGkpfSk6YyhudWxsLGkpfSl9LGF9KGIubW9kZWxzLkZpZWxkfHx7fSksYi5tb2RlbHMuRmllbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdG90eXBlLnByb2Nlc3NfbG9jYXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZhbHVlLGQ9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKSxlPXt9O3N3aXRjaChkLmxvY2F0aW9uVW5pdCl7Y2FzZSJsYXRsb25nIjpjLmxhdCYmY1sibG9uZyJdPyhlPXtsYXQ6Yy5sYXQsImxvbmciOmNbImxvbmciXX0sYihudWxsLGUpKTpiKCJ0aGUgaW5wdXQgdmFsdWVzIGZvciBsYXRsb25nIGZpZWxkIGlzIHtsYXQ6IG51bWJlciwgbG9uZzogbnVtYmVyfSIpO2JyZWFrO2Nhc2UiZWFzdG5vcnRoIjpjLnpvbmUmJmMuZWFzdGluZ3MmJmMubm9ydGhpbmdzPyhlPXt6b25lOmMuem9uZSxlYXN0aW5nczpjLmVhc3RpbmdzLG5vcnRoaW5nczpjLm5vcnRoaW5nc30sYihudWxsLGUpKTpiKCJ0aGUgaW5wdXQgdmFsdWVzIGZvciBub3J0aGVhc3QgZmllbGQgaXMge3pvbmU6IHRleHQsIGVhc3RpbmdzOiB0ZXh0LCBub3J0aGluZ3M6dGV4dH0iKTticmVhaztkZWZhdWx0OmIoIkludmFsaWQgc3VidHlwZSB0eXBlIG9mIGxvY2F0aW9uIGZpZWxkLCBhbGxvd2VkIHR5cGVzOiBsYXRsb25nIGFuZCBlYXN0bm9ydGgsIHdhczogIitkLmxvY2F0aW9uVW5pdCl9fSxhfShiLm1vZGVscy5GaWVsZHx8e30pLGIubW9kZWxzLkZpZWxkPWZ1bmN0aW9uKGEpe3JldHVybiBhLnByb3RvdHlwZS5nZXRNYXRyaXhSb3dzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKTtpZihhLnJvd3MpcmV0dXJuIGEucm93czt0aHJvdyJtYXRyaXggcm93cyBkZWZpbml0aW9uIGlzIG5vdCBmb3VuZCBpbiBmaWVsZCBkZWZpbml0aW9uIn0sYS5wcm90b3R5cGUuZ2V0TWF0cml4Q29scz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWZpbml0aW9uKCk7aWYoYS5jb2x1bW5zKXJldHVybiBhLmNvbHVtbnM7dGhyb3cibWF0cml4IGNvbHVtbnMgZGVmaW5pdGlvbiBpcyBub3QgZm91bmQgaW4gZmllbGQgZGVmaW5pdGlvbiJ9LGF9KGIubW9kZWxzLkZpZWxkfHx7fSksYi5tb2RlbHMuRmllbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdG90eXBlLmdldFJhZGlvT3B0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKTtpZihhLm9wdGlvbnMpcmV0dXJuIGEub3B0aW9uczt0aHJvdyJSYWRpbyBvcHRpb25zIGRlZmluaXRpb24gaXMgbm90IGZvdW5kIGluIGZpZWxkIGRlZmluaXRpb24ifSxhfShiLm1vZGVscy5GaWVsZHx8e30pLGIubW9kZWxzLkZpZWxkPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSxjKXt2YXIgZT10aGlzLGY9YS52YWx1ZSxnPXZvaWQgMD09PWEuaXNTdG9yZT8hMDphLmlzU3RvcmUsaD1hLnByZXZpb3VzRmlsZXx8e307aWYoInN0cmluZyIhPXR5cGVvZiBmKXJldHVybiBjKCJFeHBlY3RlZCBiYXNlNjQgc3RyaW5nIGltYWdlIG9yIGZpbGUgVVJJIGJ1dCBwYXJhbWV0ZXIgd2FzIG5vdCBhIHN0cmluZyIsbnVsbCk7aWYoZi5sZW5ndGg8MSlyZXR1cm4gYygiRXhwZWN0ZWQgYmFzZTY0IHN0cmluZyBvciBmaWxlIHVyaSBidXQgZ290IHN0cmluZyBvZiBsZW5naHQgMDogICIrZixudWxsKTtpZihmLmluZGV4T2YoIjtiYXNlNjQsIik+LTEpe3ZhciBpPSIiLGo9Zi5zcGxpdCgiO2Jhc2U2NCwiKSxrPWpbMF0uc3BsaXQoIjoiKVsxXSxsPWsuc3BsaXQoIi8iKVsxXSxtPWYubGVuZ3RoO2QoZnVuY3Rpb24oYSxkKXtpPWguaGFzaE5hbWU/aC5oYXNoTmFtZToiZmlsZVBsYWNlSG9sZGVyIitkO3ZhciBlPXtmaWxlTmFtZTppKyIuIitsLGhhc2hOYW1lOmksY29udGVudFR5cGU6ImJhc2U2NCIsZmlsZVNpemU6bSxmaWxlVHlwZTprLGltZ0hlYWRlcjoiZGF0YToiK2srIjtiYXNlNjQsIixmaWxlVXBkYXRlVGltZToobmV3IERhdGUpLmdldFRpbWUoKX07Zz9iLnN0b3Jlcy5sb2NhbFN0b3JhZ2UudXBkYXRlVGV4dEZpbGUoaSxqWzFdLGZ1bmN0aW9uKGEpe2E/KCRmaC5mb3Jtcy5sb2cuZShhKSxjKGEpKTpjKG51bGwsZSl9KTpjKG51bGwsZSl9KX1lbHNlIGIudXRpbHMuZmlsZVN5c3RlbS5yZWFkQXNGaWxlKGYsZnVuY3Rpb24oYixkKXtyZXR1cm4gYj9jKGIpOihhLnZhbHVlPWQsdm9pZCBlLnByb2Nlc3NfZmlsZShhLGMpKX0pfWZ1bmN0aW9uIGQoYSl7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCkrIiIrTWF0aC5jZWlsKDFlNSpNYXRoLnJhbmRvbSgpKTtiLnV0aWxzLm1kNShjLGEpfWZ1bmN0aW9uIGUoYSxiKXtpZigwPT09YS5sZW5ndGgpYihudWxsLGEpO2Vsc2UgZm9yKHZhciBjPWEubGVuZ3RoLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtmKGUsZnVuY3Rpb24oKXtjLS0sMD09PWMmJmIobnVsbCxhKX0pfX1mdW5jdGlvbiBmKGEsYyl7aWYoYSl7aWYoYS5sb2NhbFVSSSlyZXR1cm4gYyhudWxsLGEpO3ZhciBkPWEuaGFzaE5hbWU7ImJhc2U2NCI9PT1hLmNvbnRlbnRUeXBlP2Iuc3RvcmVzLmxvY2FsU3RvcmFnZS5yZWFkRmlsZVRleHQoZCxmdW5jdGlvbihiLGQpe2ImJiRmaC5mb3Jtcy5sb2cuZShiKSxhLmRhdGE9ZCxjKGIsYSl9KToiYmluYXJ5Ij09PWEuY29udGVudFR5cGU/Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnJlYWRGaWxlKGQsZnVuY3Rpb24oYixlKXtiJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHJlYWRpbmcgZmlsZSAiK2QsYiksYS5kYXRhPWUmJmUuZnVsbFBhdGg/ZS5mdWxsUGF0aDoiZmlsZS1ub3QtZm91bmQiLGMoYixhKX0pOiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgbG9hZCBpbWFnZSB3aXRoIGludmFsaWQgbWV0YSIrYS5jb250ZW50VHlwZSl9ZWxzZSBjKG51bGwsYSl9cmV0dXJuIGEucHJvdG90eXBlLnByb2Nlc3Nfc2lnbmF0dXJlPWMsYS5wcm90b3R5cGUuY29udmVydF9zaWduYXR1cmU9ZSxhLnByb3RvdHlwZS5wcm9jZXNzX3Bob3RvPWMsYS5wcm90b3R5cGUuY29udmVydF9waG90bz1lLGF9KGIubW9kZWxzLkZpZWxkfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhLGIpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgYXx8InVuZGVmaW5lZCI9PXR5cGVvZiBiKXRocm93IlBhZ2UgaW5pdGlhbGlzZSBmYWlsZWQ6IG5ldyBQYWdlKHBhZ2VEZWZpbml0aW9uSlNPTiwgcGFyZW50Rm9ybU1vZGVsKSI7ZC5jYWxsKHRoaXMse190eXBlOiJwYWdlIn0pLHRoaXMuZnJvbUpTT04oYSksdGhpcy5mb3JtPWIsdGhpcy5pbml0aWFsaXNlKCl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuaW5pdGlhbGlzZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWYoKTt0aGlzLmZpZWxkc0lkcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLmZpZWxkc0lkcy5wdXNoKGFbYl0uX2lkKX0sYy5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLnNldCgidmlzaWJsZSIsYSksdGhpcy5lbWl0KGE/InZpc2libGUiOiJoaWRkZW4iKX0sYy5wcm90b3R5cGUuZ2V0RmllbGREZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkcyIsW10pfSxjLnByb3RvdHlwZS5nZXRGaWVsZERlZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZmllbGRzIixbXSl9LGMucHJvdG90eXBlLmdldEZpZWxkTW9kZWxMaXN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MDtiPHRoaXMuZmllbGRzSWRzLmxlbmd0aDtiKyspYS5wdXNoKHRoaXMuZm9ybS5nZXRGaWVsZE1vZGVsQnlJZCh0aGlzLmZpZWxkc0lkc1tiXSkpO3JldHVybiBhfSxjLnByb3RvdHlwZS5jaGVja0ZvclNlY3Rpb25CcmVha3M9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuZmllbGRzSWRzLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuZm9ybS5nZXRGaWVsZE1vZGVsQnlJZCh0aGlzLmZpZWxkc0lkc1thXSk7aWYoYiYmInNlY3Rpb25CcmVhayI9PT1iLmdldFR5cGUoKSlyZXR1cm4hMH1yZXR1cm4hMX0sYy5wcm90b3R5cGUuZ2V0U2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPW51bGwsYz10aGlzLmNoZWNrRm9yU2VjdGlvbkJyZWFrcygpLGQ9ITE7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5mb3JtLmdldEZpZWxkTW9kZWxCeUlkKHRoaXMuZmllbGRzSWRzWzBdKTsic2VjdGlvbkJyZWFrIiE9PWUuZ2V0VHlwZSgpJiYoZD0hMCk7Zm9yKHZhciBmPTA7Zjx0aGlzLmZpZWxkc0lkcy5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmZvcm0uZ2V0RmllbGRNb2RlbEJ5SWQodGhpcy5maWVsZHNJZHNbZl0pO2QmJjA9PT1mJiYoYj0ic2VjdGlvbkJyZWFrIitmLGFbYl09YVtiXT9hW2JdOntmaWVsZHM6W119LGFbYl0udGl0bGU9IlNlY3Rpb24gIisoZisxKSksbnVsbCE9PWImJiJzZWN0aW9uQnJlYWsiIT09Zy5nZXRUeXBlKCkmJmFbYl0uZmllbGRzLnB1c2goZyksInNlY3Rpb25CcmVhayI9PT1nLmdldFR5cGUoKSYmKGI9InNlY3Rpb25CcmVhayIrZixhW2JdPWFbYl0/YVtiXTp7ZmllbGRzOltdfSxhW2JdLnRpdGxlPWcuZ2V0KCJuYW1lIiwiU2VjdGlvbiAiKyhmKzEpKSxhW2JdLmZpZWxkcy5wdXNoKGcpKX1yZXR1cm4gYX0sYy5wcm90b3R5cGUuZ2V0RmllbGRNb2RlbEJ5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm9ybS5nZXRGaWVsZE1vZGVsQnlJZChhKX0sYy5wcm90b3R5cGUuZ2V0UGFnZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfaWQiLCIiKX0sYy5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgibmFtZSIsIiIpfSxjLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZGVzY3JpcHRpb24iLCIiKX0sYy5wcm90b3R5cGUuZ2V0RmllbGREZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkcyIsW10pfSxjLnByb3RvdHlwZS5nZXRGaWVsZE1vZGVsTGlzdD1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPTA7Yjx0aGlzLmZpZWxkc0lkcy5sZW5ndGg7YisrKWEucHVzaCh0aGlzLmZvcm0uZ2V0RmllbGRNb2RlbEJ5SWQodGhpcy5maWVsZHNJZHNbYl0pKTtyZXR1cm4gYX0sYS5QYWdlPWMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7dmFyIGE9dGhpcztkLmNhbGwoYSx7X3R5cGU6InVwbG9hZE1hbmFnZXIiLF9sdWRpZDoidXBsb2FkTWFuYWdlcl9xdWV1ZSJ9KSxhLnNldCgidGFza1F1ZXVlIixbXSksYS5zZW5kaW5nPSExLGEudGltZXJJbnRlcnZhbD0yMDAsYS5zZW5kaW5nU3RhcnQ9Yi51dGlscy5nZXRUaW1lKCl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUucXVldWVTdWJtaXNzaW9uPWZ1bmN0aW9uKGEsYyl7JGZoLmZvcm1zLmxvZy5kKCJRdWV1ZWluZyBTdWJtaXNzaW9uIGZvciB1cGxvYWRNYW5hZ2VyIik7dmFyIGQsZT1udWxsLGY9dGhpcztmLmNoZWNrT25saW5lU3RhdHVzKGZ1bmN0aW9uKCl7cmV0dXJuICRmaC5mb3Jtcy5jb25maWcuaXNPbmxpbmUoKT8oYS5nZXRVcGxvYWRUYXNrSWQoKT9kPWEuZ2V0VXBsb2FkVGFza0lkKCk6KGU9Yi5tb2RlbHMudXBsb2FkVGFzay5uZXdJbnN0YW5jZShhKSxkPWUuZ2V0TG9jYWxJZCgpKSxmLnB1c2goZCksZi50aW1lcnx8KCRmaC5mb3Jtcy5sb2cuZCgiU3RhcnRpbmcgdGltZXIgZm9yIHVwbG9hZE1hbmFnZXIiKSxmLnN0YXJ0KCkpLGU/ZS5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKGEpLGYuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCBtYW5hZ2VyOiAiK2EpLGMobnVsbCxlKX0pfSk6Zi5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgdXBsb2FkIG1hbmFnZXI6ICIrYSksZi5nZXRUYXNrQnlJZChkLGMpfSksdm9pZCAwKTpjKCJXb3JraW5nIG9mZmxpbmUgY2Fubm90IHN1Ym1pdCBmb3JtLiIpfSl9LGMucHJvdG90eXBlLmNhbmNlbFN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldFVwbG9hZFRhc2tJZCgpLGQ9dGhpcy5nZXQoInRhc2tRdWV1ZSIpO2lmKGMpe3ZhciBlPWQuaW5kZXhPZihjKTtlPi0xJiZkLnNwbGljZShlLDEpLHRoaXMuZ2V0VGFza0J5SWQoYyxmdW5jdGlvbihhLGMpe2E/KCRmaC5mb3Jtcy5sb2cuZShhKSxiKGEsYykpOmM/Yy5jbGVhckxvY2FsKGIpOmIobnVsbCxudWxsKX0pLHRoaXMuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZShhKX0pfWVsc2UgYihudWxsLG51bGwpfSxjLnByb3RvdHlwZS5nZXRUYXNrUXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInRhc2tRdWV1ZSIsW10pfSxjLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdG9wKCksYS50aW1lcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EudGljaygpfSx0aGlzLnRpbWVySW50ZXJ2YWwpfSxjLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy50aW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksdGhpcy50aW1lcj1udWxsKX0sYy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhKXt0aGlzLmdldCgidGFza1F1ZXVlIikucHVzaChhKSx0aGlzLnNhdmVMb2NhbChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyBsb2NhbCBVcGxvYWQgbWFuYWdlciIsYSl9KX0sYy5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldCgidGFza1F1ZXVlIikuc2hpZnQoKTtyZXR1cm4gdGhpcy5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKGEpfSksYX0sYy5wcm90b3R5cGUucm9sbFRhc2s9ZnVuY3Rpb24oKXt0aGlzLnB1c2godGhpcy5zaGlmdCgpKX0sYy5wcm90b3R5cGUudGljaz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5zZW5kaW5nKXt2YXIgYz1iLnV0aWxzLmdldFRpbWUoKSxkPWMuZ2V0VGltZSgpLWEuc2VuZGluZ1N0YXJ0LmdldFRpbWUoKTtkPjFlMyokZmguZm9ybXMuY29uZmlnLmdldCgidGltZW91dCIpJiYoJGZoLmZvcm1zLmxvZy5lKCJVcGxvYWRpbmcgY29udGVudCB0aW1lb3V0LiBpdCB3aWxsIHRyeSB0byByZXVwbG9hZC4iKSxhLnNlbmRpbmc9ITEsYS5yb2xsVGFzaygpKX1lbHNlIGEuaGFzVGFzaygpPyhhLnNlbmRpbmc9ITAsYS5zZW5kaW5nU3RhcnQ9Yi51dGlscy5nZXRUaW1lKCksYS5nZXRDdXJyZW50VGFzayhmdW5jdGlvbihiLGMpe2J8fCFjPygkZmguZm9ybXMubG9nLmUoYiksYS5zZW5kaW5nPSExKTpjLmlzQ29tcGxldGVkKCl8fGMuaXNFcnJvcigpPyhhLnNoaWZ0KCksYS5zZW5kaW5nPSExLGEuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCBtYW5hZ2VyOiAiLGEpfSkpOmEuY2hlY2tPbmxpbmVTdGF0dXMoZnVuY3Rpb24oKXskZmguZm9ybXMuY29uZmlnLmlzT25saW5lKCk/Yy51cGxvYWRUaWNrKGZ1bmN0aW9uKGIpe2ImJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igb24gdXBsb2FkIHRpY2s6ICIsYixjKSxhLnNlbmRpbmc9ITF9KTokZmguZm9ybXMubG9nLmQoIlVwbG9hZCBNYW5hZ2VyOiBUaWNrOiBOb3Qgb25saW5lLiIpfSl9KSk6YS5zdG9wKCl9LGMucHJvdG90eXBlLmhhc1Rhc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInRhc2tRdWV1ZSIpLmxlbmd0aD4wfSxjLnByb3RvdHlwZS5nZXRDdXJyZW50VGFzaz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRhc2tRdWV1ZSgpWzBdO2I/dGhpcy5nZXRUYXNrQnlJZChiLGEpOmEobnVsbCxudWxsKX0sYy5wcm90b3R5cGUuY2hlY2tPbmxpbmVTdGF0dXM9ZnVuY3Rpb24oYSl7Yi5zdG9yZXMuZGF0YUFnZW50LmNoZWNrT25saW5lU3RhdHVzKGEpfSxjLnByb3RvdHlwZS5nZXRUYXNrQnlJZD1mdW5jdGlvbihhLGMpe2IubW9kZWxzLnVwbG9hZFRhc2suZnJvbUxvY2FsKGEsYyl9LGEudXBsb2FkTWFuYWdlcj1uZXcgYyxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMse190eXBlOiJydWxlIn0pLHRoaXMuZnJvbUpTT04oYSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0UmVsYXRlZEZpZWxkSWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXREZWZpbml0aW9uKCksYj1hLnJ1bGVDb25kaXRpb25hbFN0YXRlbWVudHMsYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF07Yy5wdXNoKGUuc291cmNlRmllbGQpfXJldHVybiBjfSxjLnByb3RvdHlwZS50ZXN0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldFJlbGF0ZWRGaWVsZElkKCksYz10aGlzLmdldExvZ2ljKCksZD0ib3IiPT09Yz8hMTohMCxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV0sZz1hW2ZdO2lmKGcpe3ZhciBoPXRoaXMudGVzdEZpZWxkKGYsZyk7aWYoIm9yIj09PWMpe2lmKGQ9ZHx8aCxkPT09ITApcmV0dXJuITB9ZWxzZSBpZihkPWQmJmgsZD09PSExKXJldHVybiExfWVsc2V7aWYoIm9yIiE9PWMpcmV0dXJuITE7ZD1kfHwhMX19cmV0dXJuIGR9LGMucHJvdG90eXBlLnRlc3RGaWVsZD1mdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuZ2V0UnVsZUNvbmRpdGlvblN0YXRlbWVudChhKSxlPWQucmVzdHJpY3Rpb24sZj1kLnNvdXJjZVZhbHVlO3JldHVybiBiLm1vZGVscy5jaGVja1J1bGUoZSxmLGMpfSxjLnByb3RvdHlwZS5nZXRSdWxlQ29uZGl0aW9uU3RhdGVtZW50PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldERlZmluaXRpb24oKS5ydWxlQ29uZGl0aW9uYWxTdGF0ZW1lbnRzLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLnNvdXJjZUZpZWxkPT09YSlyZXR1cm4gZH1yZXR1cm4gbnVsbH0sYy5wcm90b3R5cGUuZ2V0TG9naWM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldERlZmluaXRpb24oKTtyZXR1cm4gYS5ydWxlQ29uZGl0aW9uYWxPcGVyYXRvci50b0xvd2VyQ2FzZSgpfSxjLnByb3RvdHlwZS5nZXREZWZpbml0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkZWZpbml0aW9uIil9LGMucHJvdG90eXBlLmdldEFjdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RGVmaW5pdGlvbigpLGI9e2FjdGlvbjphLnR5cGUsdGFyZ2V0SWQ6InBhZ2UiPT09dGhpcy5nZXQoInR5cGUiKT9hLnRhcmdldFBhZ2U6YS50YXJnZXRGaWVsZCx0YXJnZXRUeXBlOnRoaXMuZ2V0KCJ0eXBlIil9O3JldHVybiBifSxhLlJ1bGU9YyxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7aWYoYSl7dmFyIGI9bmV3IGU7cmV0dXJuIGIuaW5pdChhKSxmW2IuZ2V0TG9jYWxJZCgpXT1iLGJ9cmV0dXJue319ZnVuY3Rpb24gZChhLGIpe2lmKGZbYV0pcmV0dXJuIGIobnVsbCxmW2FdKTt2YXIgYz1uZXcgZTtjLnNldExvY2FsSWQoYSksZlthXT1jLGMubG9hZExvY2FsKGIpfWZ1bmN0aW9uIGUoKXtnLmNhbGwodGhpcyx7X3R5cGU6InVwbG9hZFRhc2sifSl9YS51cGxvYWRUYXNrPXtuZXdJbnN0YW5jZTpjLGZyb21Mb2NhbDpkfTt2YXIgZj17fSxnPWIubW9kZWxzLk1vZGVsO3JldHVybiBiLnV0aWxzLmV4dGVuZChlLGcpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBiPWEuZ2V0UHJvcHMoKTtkLnNldCgianNvblRhc2siLGIpLGQuc2V0KCJmb3JtSWQiLGEuZ2V0KCJmb3JtSWQiKSl9ZnVuY3Rpb24gYygpe2Quc2V0KCJzdWJtaXNzaW9uSWQiLGEuZ2V0UmVtb3RlU3VibWlzc2lvbklkKCkpLGQuc2V0KCJqc29uVGFzayIse30pLGQuc2V0KCJzdWJtaXNzaW9uVHJhbnNmZXJUeXBlIiwiZG93bmxvYWQiKX12YXIgZD10aGlzLGU9YS5nZXRMb2NhbElkKCk7ZC5zZXRMb2NhbElkKGUrIl91cGxvYWRUYXNrIiksZC5zZXQoInN1Ym1pc3Npb25Mb2NhbElkIixlKSxkLnNldCgiZmlsZVRhc2tzIixbXSksZC5zZXQoImN1cnJlbnRUYXNrIixudWxsKSxkLnNldCgiY29tcGxldGVkIiwhMSksZC5zZXQoInJldHJ5QXR0ZW1wdHMiLDApLGQuc2V0KCJyZXRyeU5lZWRlZCIsITEpLGQuc2V0KCJtYmFhc0NvbXBsZXRlZCIsITEpLGQuc2V0KCJzdWJtaXNzaW9uVHJhbnNmZXJUeXBlIiwidXBsb2FkIiksYS5zZXRVcGxvYWRUYXNrSWQoZC5nZXRMb2NhbElkKCkpLGEuaXNEb3dubG9hZFN1Ym1pc3Npb24oKT9jKCk6YigpfSxlLnByb3RvdHlwZS5nZXRUb3RhbFNpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj10aGlzLGM9SlNPTi5zdHJpbmdpZnkoYi5nZXQoImpzb25UYXNrIikpLmxlbmd0aCxkPWIuZ2V0KCJmaWxlVGFza3MiKSxlPTAsZj0wO2Y8ZC5sZW5ndGg7ZisrKWE9ZFtmXSxlKz1hLmZpbGVTaXplO3JldHVybiBjK2V9LGUucHJvdG90eXBlLmdldFVwbG9hZGVkU2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VycmVudFRhc2soKTtpZihudWxsPT09YSlyZXR1cm4gMDtmb3IodmFyIGIsYz1KU09OLnN0cmluZ2lmeSh0aGlzLmdldCgianNvblRhc2siKSkubGVuZ3RoLGQ9dGhpcy5nZXQoImZpbGVUYXNrcyIpLGU9MCxmPTA7KGI9ZFtmXSkmJmE+ZjtmKyspZSs9Yi5maWxlU2l6ZTtyZXR1cm4gYytlfSxlLnByb3RvdHlwZS5nZXRSZW1vdGVTdG9yZT1mdW5jdGlvbigpe3JldHVybiBiLnN0b3Jlcy5kYXRhQWdlbnQucmVtb3RlU3RvcmV9LGUucHJvdG90eXBlLmFkZEZpbGVUYXNrcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YS5nZXRGaWxlSW5wdXRWYWx1ZXMoZnVuY3Rpb24oYSxkKXtpZihhKXJldHVybiAkZmguZm9ybXMubG9nLmUoIkVycm9yIGdldHRpbmcgZmlsZSBJbnB1dCB2YWx1ZXM6ICIrYSksYihhKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtjLmFkZEZpbGVUYXNrKGYpfWIoKX0pfSxlLnByb3RvdHlwZS5hZGRGaWxlVGFzaz1mdW5jdGlvbihhKXt0aGlzLmdldCgiZmlsZVRhc2tzIikucHVzaChhKX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFRhc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImN1cnJlbnRUYXNrIixudWxsKX0sZS5wcm90b3R5cGUuZ2V0UmV0cnlBdHRlbXB0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicmV0cnlBdHRlbXB0cyIpfSxlLnByb3RvdHlwZS5pbmNyZVJldHJ5QXR0ZW1wdHM9ZnVuY3Rpb24oKXt0aGlzLnNldCgicmV0cnlBdHRlbXB0cyIsdGhpcy5nZXQoInJldHJ5QXR0ZW1wdHMiKSsxKX0sZS5wcm90b3R5cGUucmVzZXRSZXRyeUF0dGVtcHRzPWZ1bmN0aW9uKCl7dGhpcy5zZXQoInJldHJ5QXR0ZW1wdHMiLDApfSxlLnByb3RvdHlwZS5pc1N0YXJ0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuZ2V0Q3VycmVudFRhc2soKT8hMTohMH0sZS5wcm90b3R5cGUuc2V0U3VibWlzc2lvblF1ZXVlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2Iuc3VibWlzc2lvbk1vZGVsKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGM/YShjKTooYi5nZXQoInN1Ym1pc3Npb25JZCIpJiZkLnNldFJlbW90ZVN1Ym1pc3Npb25JZChiLmdldCgic3VibWlzc2lvbklkIikpLHZvaWQgZC5xdWV1ZWQoYSkpfSl9LGUucHJvdG90eXBlLnVwbG9hZEZvcm09ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhjKXskZmguZm9ybXMubG9nLmQoIkluIHByb2Nlc3NVcGxvYWREYXRhUmVzdWx0Iik7dmFyIGQ9Zy5nZXQoImpzb25UYXNrIik7aWYoYy5lcnJvcilyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzdWJtaXR0aW5nIGZvcm0gIitjLmVycm9yKSxhKCJFcnJvciBzdWJtaXR0aW5nIGZvcm0gIitjLmVycm9yKTt2YXIgZT1jLnN1Ym1pc3Npb25JZDtkLmxhc3RVcGRhdGU9Yi51dGlscy5nZXRUaW1lKCksZy5zZXQoInN1Ym1pc3Npb25JZCIsZSksZy5zZXRTdWJtaXNzaW9uUXVldWVkKGZ1bmN0aW9uKCl7cmV0dXJuIGcuaW5jcmVQcm9ncmVzcygpLGcuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZFRhc2sgdG8gbG9jYWwgc3RvcmFnZSIrYSl9KSxnLmVtaXQoInByb2dyZXNzIixnLmdldFByb2dyZXNzKCkpLGEobnVsbCl9KX1mdW5jdGlvbiBkKGIsYyl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiSW4gcHJvY2Vzc0Rvd25sb2FkRGF0YVJlc3VsdCIpLGI/KCRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZG93bmxvYWRpbmcgc3VibWlzc2lvbiBkYXRhIitiKSxhKGIpKTp2b2lkIGcuc3VibWlzc2lvbk1vZGVsKGZ1bmN0aW9uKGIsZCl7aWYoJGZoLmZvcm1zLmxvZy5kKCJHb3QgU3VibWlzc2lvbk1vZGVsIixiLGQpLGIpcmV0dXJuIGEoYik7dmFyIGU9e307aWYoInN0cmluZyI9PXR5cGVvZiBjKXRyeXtlPUpTT04ucGFyc2UoYyl9Y2F0Y2goZil7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgicHJvY2Vzc0Rvd25sb2FkRGF0YVJlc3VsdCBJbnZhbGlkIEpTT04gT2JqZWN0IFJldHVybmVkIixjKSxhKCJJbnZhbGlkIEpTT04gT2JqZWN0IFJldHVybmVkIil9ZWxzZSBlPWM7ZS5zdGF0dXMmJmRlbGV0ZSBlLnN0YXR1cyxkLmZyb21KU09OKGUpLGcuc2V0KCJqc29uVGFzayIsYyksZC5zYXZlTG9jYWwoZnVuY3Rpb24oYil7JGZoLmZvcm1zLmxvZy5kKCJTYXZlZCBTdWJtaXNzaW9uTW9kZWwiLGIsZCksYiYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgdXBkYXRlZCBzdWJtaXNzaW9uIGZyb20gZG93bmxvYWQgc3VibWlzc2lvbjogIitiKSxnLmFkZEZpbGVUYXNrcyhkLGZ1bmN0aW9uKGIpe3JldHVybiAkZmguZm9ybXMubG9nLmQoImFkZEZpbGVUYXNrcyBjYWxsZWQiLGIsZCksYj9hKGIpOihnLmluY3JlUHJvZ3Jlc3MoKSx2b2lkIGcuc2F2ZUxvY2FsKGZ1bmN0aW9uKGIpe3JldHVybiBiJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyBkb3dubG9hZFRhc2sgdG8gbG9jYWwgc3RvcmFnZSIrYiksZy5lbWl0KCJwcm9ncmVzcyIsZy5nZXRQcm9ncmVzcygpKSxhKCl9KSl9KX0pfSl9ZnVuY3Rpb24gZSgpeyRmaC5mb3Jtcy5sb2cuZCgiSW4gdXBsb2FkU3VibWlzc2lvbkpTT04iKTt2YXIgZD1nLmdldCgianNvblRhc2siKTtnLnN1Ym1pc3Npb25Nb2RlbChmdW5jdGlvbihlLGYpe3JldHVybiBlP2EoZSk6dm9pZCBnLmFkZEZpbGVUYXNrcyhmLGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgYWRkaW5nIGZpbGUgdGFza3MgZm9yIHN1Ym1pc3Npb24gdXBsb2FkIiksYShlKTt2YXIgZj1uZXcgYi5tb2RlbHMuRm9ybVN1Ym1pc3Npb24oZCk7Zy5nZXRSZW1vdGVTdG9yZSgpLmNyZWF0ZShmLGZ1bmN0aW9uKGIsZCl7aWYoYilyZXR1cm4gYShiKTt2YXIgZT1kLnVwZGF0ZWRGb3JtRGVmaW5pdGlvbjtlP2cucmVmcmVzaEZvcm0oZSxmdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIkZvcm0gVXBkYXRlZCwgcmVmcmVzaGVkIiksYSYmJGZoLmZvcm1zLmxvZy5lKGEpLGMoZCl9KTpjKGQpfSl9KX0pfWZ1bmN0aW9uIGYoKXt2YXIgYT1uZXcgYi5tb2RlbHMuRm9ybVN1Ym1pc3Npb25Eb3dubG9hZChnKTtnLmdldFJlbW90ZVN0b3JlKCkucmVhZChhLGQpfXZhciBnPXRoaXM7Zy5pc0Rvd25sb2FkVGFzaygpP2YoKTplKCl9LGUucHJvdG90eXBlLmhhbmRsZUNvbXBsZXRpb25FcnJvcj1mdW5jdGlvbihhLGIsYyl7JGZoLmZvcm1zLmxvZy5kKCJoYW5kbGVDb21wbGV0aW9uRXJyb3IgQ2FsbGVkIik7dmFyIGQ9YTtkPSJwZW5kaW5nIj09PWIuc3RhdHVzPyJTdWJtaXNzaW9uIFN0aWxsIFBlbmRpbmcuIjoiZXJyb3IiPT09Yi5zdGF0dXM/IkVycm9yIGNvbXBsZXRpbmcgc3VibWlzc2lvbiI6IkludmFsaWQgcmV0dXJuIHR5cGUgZnJvbSBjb21wbGV0ZSBzdWJtaXNzaW9uIixjKGQpfSxlLnByb3RvdHlwZS5oYW5kbGVJbmNvbXBsZXRlU3VibWlzc2lvbj1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7dmFyIGM9ZS5nZXRSZW1vdGVTdG9yZSgpLGQ9bmV3IGIubW9kZWxzLkZvcm1TdWJtaXNzaW9uU3RhdHVzKGUpO2Muc3VibWlzc2lvblN0YXR1cyhkLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9IiI7aWYoYilhKGIpO2Vsc2UgaWYoImVycm9yIj09PWMuc3RhdHVzKWQ9IkVycm9yIHN1Ym1pdHRpbmcgZm9ybS4iLGEoZCk7ZWxzZSBpZigiY29tcGxldGUiPT09Yy5zdGF0dXMpZS5pbmNyZVByb2dyZXNzKCksYSgpO2Vsc2UgaWYoInBlbmRpbmciPT09Yy5zdGF0dXMpe3ZhciBmPWMucGVuZGluZ0ZpbGVzfHxbXTtmLmxlbmd0aD4wP2UucmVzZXRVcGxvYWRUYXNrKGYsZnVuY3Rpb24oKXthKCl9KTooZS5pbmNyZVByb2dyZXNzKCksYSgpKX1lbHNlIGQ9IkludmFsaWQgc3VibWlzc2lvbiBzdGF0dXMgcmVzcG9uc2UuIixhKGQpfSl9ZnVuY3Rpb24gZCgpe2EoKX12YXIgZT10aGlzO2UuaXNEb3dubG9hZFRhc2soKT9kKCk6YygpfSxlLnByb3RvdHlwZS5yZXNldFVwbG9hZFRhc2s9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMuZ2V0KCJmaWxlVGFza3MiKSxlPVtdO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspYS5pbmRleE9mKGRbY10uaGFzaE5hbWUpPDAmJmUucHVzaChkW2NdKTtmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKWEuaW5kZXhPZihkW2NdLmhhc2hOYW1lKT4tMSYmZS5wdXNoKGRbY10pO3ZhciBmPWQubGVuZ3RoLWEubGVuZ3RoLTEsZz0wO2Y+MCYmKGc9ZiksdGhpcy5zZXQoImN1cnJlbnRUYXNrIixnKSx0aGlzLnNldCgiZmlsZVRhc2tzIixlKSx0aGlzLnNhdmVMb2NhbChiKX0sZS5wcm90b3R5cGUudXBsb2FkRmlsZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7JGZoLmZvcm1zLmxvZy5kKCJwcm9jZXNzVXBsb2FkRmlsZSBmb3Igc3VibWlzc2lvbklkOiAiKSxnPSJiYXNlNjQiPT09aC5jb250ZW50VHlwZT9uZXcgYi5tb2RlbHMuQmFzZTY0RmlsZVN1Ym1pc3Npb24oaCk6bmV3IGIubW9kZWxzLkZpbGVTdWJtaXNzaW9uKGgpLGcuc2V0U3VibWlzc2lvbklkKGkpLGcubG9hZEZpbGUoZnVuY3Rpb24oYyl7cmV0dXJuIGM/KCRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgbG9hZGluZyBmaWxlIGZvciB1cGxvYWQ6ICIrYyksYShjKSk6dm9pZCBlLmdldFJlbW90ZVN0b3JlKCkuY3JlYXRlKGcsZnVuY3Rpb24oYyxkKXtpZihjKWEoYyk7ZWxzZSBpZigib2siPT09ZC5zdGF0dXN8fDIwMD09PWQuc3RhdHVzfHwiMjAwIj09PWQuc3RhdHVzKWgudXBkYXRlRGF0ZT1iLnV0aWxzLmdldFRpbWUoKSxlLmluY3JlUHJvZ3Jlc3MoKSxlLnNhdmVMb2NhbChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyB1cGxvYWQgdGFzayIrYSl9KSxlLmVtaXQoInByb2dyZXNzIixlLmdldFByb2dyZXNzKCkpLGEobnVsbCk7ZWxzZXt2YXIgZj0iRmlsZSB1cGxvYWQgZmFpbGVkIGZvciBmaWxlOiAiK2guZmlsZU5hbWU7YShmKX19KX0pfWZ1bmN0aW9uIGQoKXskZmguZm9ybXMubG9nLmQoInByb2Nlc3NEb3dubG9hZEZpbGUgY2FsbGVkIiksZz1uZXcgYi5tb2RlbHMuRmlsZVN1Ym1pc3Npb25Eb3dubG9hZChoKSxnLnNldFN1Ym1pc3Npb25JZChpKSxlLmdldFJlbW90ZVN0b3JlKCkucmVhZChnLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI/KCRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZG93bmxvYWRpbmcgYSBmaWxlIGZyb20gcmVtb3RlOiAiK2IpLGEoYikpOigkZmguZm9ybXMubG9nLmQoInByb2Nlc3NEb3dubG9hZEZpbGUgY2FsbGVkLiBMb2NhbCBGaWxlIFBhdGg6ICIrYyksdm9pZCBlLnN1Ym1pc3Npb25Nb2RlbChmdW5jdGlvbihiLGQpe3JldHVybiBiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIExvYWRpbmcgc3VibWlzc2lvbiBtb2RlbCBmb3IgcHJvY2Vzc0Rvd25sb2FkRmlsZSAiK2IpLGEoYikpOnZvaWQgZC51cGRhdGVGaWxlTG9jYWxVUkkoaCxjLGZ1bmN0aW9uKGIpe3JldHVybiBiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHVwZGF0aW5nIGZpbGUgbG9jYWwgdXJsIGZvciBmaWxlVGFzayAiK0pTT04uc3RyaW5naWZ5KGgpKSxhKGIpKTooZS5pbmNyZVByb2dyZXNzKCksZS5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgZG93bmxvYWQgdGFzayIpfSksZS5lbWl0KCJwcm9ncmVzcyIsZS5nZXRQcm9ncmVzcygpKSxhKCkpfSl9KSl9KX12YXIgZT10aGlzLGY9ZS5nZXRDdXJyZW50VGFzaygpO251bGw9PT1mJiYoZj0wLGUuc2V0KCJjdXJyZW50VGFzayIsZikpO3ZhciBnLGg9ZS5nZXQoImZpbGVUYXNrcyIsW10pW2ZdLGk9ZS5nZXQoInN1Ym1pc3Npb25JZCIpO3JldHVybiBoP2k/dm9pZChlLmlzRG93bmxvYWRUYXNrKCk/ZCgpOmMoKSk6KCRmaC5mb3Jtcy5sb2cuZSgiTm8gc3VibWlzc2lvbiBpZCBmb3VuZCB3aGVuIHRyeWluZyB0byB0cmFuc2ZlciBhIGZpbGUuIiksYSgiTm8gc3VibWlzc2lvbiBJZCBmb3VuZCIpKTooJGZoLmZvcm1zLmxvZy5lKCJObyBmaWxlIHRhc2sgZm91bmQgd2hlbiB0cnlpbmcgdG8gdHJhbnNmZXIgYSBmaWxlLiIpLGEoImNhbm5vdCBmaW5kIGZpbGUgdGFzayIpKX0sZS5wcm90b3R5cGUuaXNEb3dubG9hZFRhc2s9ZnVuY3Rpb24oKXtyZXR1cm4iZG93bmxvYWQiPT09dGhpcy5nZXQoInN1Ym1pc3Npb25UcmFuc2ZlclR5cGUiKX0sZS5wcm90b3R5cGUuc2V0UmV0cnlOZWVkZWQ9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5nZXQoInN1Ym1pc3Npb25JZCIsbnVsbCk/dGhpcy5zZXQoInJldHJ5TmVlZGVkIixhKToodGhpcy5zZXQoInJldHJ5TmVlZGVkIiwhMSksdGhpcy5zZXQoImN1cnJlbnRUYXNrIixudWxsKSl9LGUucHJvdG90eXBlLnJldHJ5TmVlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJyZXRyeU5lZWRlZCIpfSxlLnByb3RvdHlwZS51cGxvYWRUaWNrPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7Yj8oJGZoLmZvcm1zLmxvZy5kKCJFcnIsIHJldHJ5aW5nIHRyYW5zZmVyOiAiK2MuZ2V0TG9jYWxJZCgpKSxjLmluY3JlUmV0cnlBdHRlbXB0cygpLGMuZ2V0UmV0cnlBdHRlbXB0cygpPD0kZmguZm9ybXMuY29uZmlnLmdldCgibWF4X3JldHJpZXMiKT8oYy5zZXRSZXRyeU5lZWRlZCghMCksYy5zYXZlTG9jYWwoZnVuY3Rpb24oYil7YiYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgdXBsb2FkIHRhc2tMICIrYiksYSgpfSkpOihjLnNldFJldHJ5TmVlZGVkKCEwKSxjLnJlc2V0UmV0cnlBdHRlbXB0cygpLGMuZXJyb3IoYixmdW5jdGlvbigpe2EoYil9KSkpOihjLnNldFJldHJ5TmVlZGVkKCExKSxjLnNhdmVMb2NhbChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyB1cGxvYWQgdGFzayB0byBsb2NhbCBtZW1vcnkiK2EpfSksYy5zdWJtaXNzaW9uTW9kZWwoZnVuY3Rpb24oYixjKXtpZihiKWEoYik7ZWxzZXt2YXIgZD1jLmdldCgic3RhdHVzIik7ImlucHJvZ3Jlc3MiIT09ZCYmInN1Ym1pdHRlZCIhPT1kJiYiZG93bmxvYWRlZCIhPT1kJiYicXVldWVkIiE9PWQ/KCRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbiBzdGF0dXMgaXMgaW5jb3JyZWN0LiBVcGxvYWQgdGFzayBzaG91bGQgYmUgc3RhcnRlZCBieSBzdWJtaXNzaW9uIG9iamVjdCdzIHVwbG9hZCBtZXRob2QuIitkKSxhKCJTdWJtaXNzaW9uIHN0YXR1cyBpcyBpbmNvcnJlY3QuIFVwbG9hZCB0YXNrIHNob3VsZCBiZSBzdGFydGVkIGJ5IHN1Ym1pc3Npb24gb2JqZWN0J3MgdXBsb2FkIG1ldGhvZC4iKSk6YSgpfX0pKX12YXIgYz10aGlzO3RoaXMuaXNGb3JtQ29tcGxldGVkKCk/dGhpcy5yZXRyeU5lZWRlZCgpP3RoaXMuaGFuZGxlSW5jb21wbGV0ZVN1Ym1pc3Npb24oYik6dGhpcy5pc0ZpbGVDb21wbGV0ZWQoKT90aGlzLmlzTUJhYVNDb21wbGV0ZWQoKT90aGlzLmlzQ29tcGxldGVkKCk/YihudWxsLG51bGwpOnRoaXMuc3VjY2VzcyhiKTp0aGlzLnVwbG9hZENvbXBsZXRlKGIpOnRoaXMudXBsb2FkRmlsZShiKTp0aGlzLnVwbG9hZEZvcm0oYil9LGUucHJvdG90eXBlLmluY3JlUHJvZ3Jlc3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRUYXNrKCk7bnVsbD09PWE/YT0wOmErKyx0aGlzLnNldCgiY3VycmVudFRhc2siLGEpfSxlLnByb3RvdHlwZS51cGxvYWRDb21wbGV0ZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7JGZoLmZvcm1zLmxvZy5kKCJwcm9jZXNzRG93bmxvYWRDb21wbGV0ZSBDYWxsZWQiKSxlLmluY3JlUHJvZ3Jlc3MoKSxhKG51bGwpfWZ1bmN0aW9uIGQoKXskZmguZm9ybXMubG9nLmQoInByb2Nlc3NVcGxvYWRDb21wbGV0ZSBDYWxsZWQiKTt2YXIgYz1lLmdldFJlbW90ZVN0b3JlKCksZD1uZXcgYi5tb2RlbHMuRm9ybVN1Ym1pc3Npb25Db21wbGV0ZShlKTtjLmNyZWF0ZShkLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGM9Y3x8e30sImNvbXBsZXRlIiE9PWMuc3RhdHVzP2UuaGFuZGxlQ29tcGxldGlvbkVycm9yKGIsYyxhKTooZS5pbmNyZVByb2dyZXNzKCksdm9pZCBhKG51bGwpKX0pfSRmaC5mb3Jtcy5sb2cuZCgiVXBsb2FkQ29tcGxldGUgQ2FsbGVkIik7dmFyIGU9dGhpcyxmPWUuZ2V0KCJzdWJtaXNzaW9uSWQiLG51bGwpO3JldHVybiBudWxsPT09Zj9hKCJGYWlsZWQgdG8gY29tcGxldGUgc3VibWlzc2lvbi4gU3VibWlzc2lvbiBJZCBub3QgZm91bmQuIik6dm9pZChlLmlzRG93bmxvYWRUYXNrKCk/YygpOmQoKSl9LGUucHJvdG90eXBlLnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXskZmguZm9ybXMubG9nLmQoInByb2Nlc3NVcGxvYWRTdWNjZXNzIENhbGxlZCIpLGQuc3VibWlzc2lvbk1vZGVsKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI/YShiKTooYy5zZXQoInN1Ym1pc3Npb25JZCIsZSksdm9pZCBjLnN1Ym1pdHRlZChhKSl9KX1mdW5jdGlvbiBjKGEpeyRmaC5mb3Jtcy5sb2cuZCgicHJvY2Vzc0Rvd25sb2FkU3VjY2VzcyBDYWxsZWQiKSxkLnN1Ym1pc3Npb25Nb2RlbChmdW5jdGlvbihiLGMpe3JldHVybiBiP2EoYik6KGMucG9wdWxhdGVGaWxlc0luU3VibWlzc2lvbigpLHZvaWQgYy5kb3dubG9hZGVkKGEpKX0pfSRmaC5mb3Jtcy5sb2cuZCgiVHJhbnNmZXIgU3VjZXNzZnVsLiBTdWNjZXNzIENhbGxlZC4iKTt2YXIgZD10aGlzLGU9ZC5nZXQoInN1Ym1pc3Npb25JZCIsbnVsbCk7ZC5zZXQoImNvbXBsZXRlZCIsITApLGQuc2F2ZUxvY2FsKGZ1bmN0aW9uKGUpe2UmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgQ2xlYXJpbmcgVXBsb2FkIFRhc2siKSxkLmlzRG93bmxvYWRUYXNrKCk/YyhmdW5jdGlvbigpe2QuY2xlYXJMb2NhbChhKX0pOmIoZnVuY3Rpb24oKXtkLmNsZWFyTG9jYWwoYSl9KX0pfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7JGZoLmZvcm1zLmxvZy5lKCJFcnJvciB1cGxvYWRpbmcgc3VibWlzc2lvbjogIixhKSxjLnNldCgiZXJyb3IiLGEpLGMuc2F2ZUxvY2FsKGZ1bmN0aW9uKGQpe2QmJiRmaC5mb3Jtcy5sb2cuZSgiVXBsb2FkIHRhc2sgc2F2ZSBmYWlsZWQ6ICIrZCksYy5zdWJtaXNzaW9uTW9kZWwoZnVuY3Rpb24oZCxlKXtkP2IoZCk6KGUuc2V0VXBsb2FkVGFza0lkKG51bGwpLGUuZXJyb3IoYSxmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHVwZGF0aW5nIHN1Ym1pc3Npb24gbW9kZWwgdG8gZXJyb3Igc3RhdHVzICIsYSksYy5jbGVhckxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgY2xlYXJpbmcgdXBsb2FkIHRhc2sgbG9jYWwgc3RvcmFnZTogIixhKSxiKGEpfSl9KSl9KX0pfSxlLnByb3RvdHlwZS5pc0Zvcm1Db21wbGV0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRUYXNrKCk7cmV0dXJuIG51bGw9PT1hPyExOiEwfSxlLnByb3RvdHlwZS5pc0ZpbGVDb21wbGV0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRUYXNrKCk7cmV0dXJuIG51bGw9PT1hPyExOmE8dGhpcy5nZXQoImZpbGVUYXNrcyIsW10pLmxlbmd0aD8hMTohMH0sZS5wcm90b3R5cGUuaXNFcnJvcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0KCJlcnJvciIsbnVsbCk7cmV0dXJuIGE/ITA6ITF9LGUucHJvdG90eXBlLmlzQ29tcGxldGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJjb21wbGV0ZWQiLCExKX0sZS5wcm90b3R5cGUuaXNNQmFhU0NvbXBsZXRlZD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5pc0ZpbGVDb21wbGV0ZWQoKSl7dmFyIGI9YS5nZXRDdXJyZW50VGFzaygpO3JldHVybiBiPmEuZ2V0KCJmaWxlVGFza3MiLFtdKS5sZW5ndGg/KGEuc2V0KCJtYmFhc0NvbXBsZXRlZCIsITApLGEuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCB0YXNrOiAiLGEpfSksITApOiExfXJldHVybiExfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj17Zm9ybUpTT046ITEsY3VycmVudEZpbGVJbmRleDowLHRvdGFsRmlsZXM6YS5nZXQoImZpbGVUYXNrcyIpLmxlbmd0aCx0b3RhbFNpemU6YS5nZXRUb3RhbFNpemUoKSx1cGxvYWRlZDphLmdldFVwbG9hZGVkU2l6ZSgpLHJldHJ5QXR0ZW1wdHM6YS5nZXRSZXRyeUF0dGVtcHRzKCksc3VibWlzc2lvblRyYW5zZmVyVHlwZTphLmdldCgic3VibWlzc2lvblRyYW5zZmVyVHlwZSIpfSxjPWEuZ2V0Q3VycmVudFRhc2soKTtyZXR1cm4gbnVsbD09PWM/YjooYi5mb3JtSlNPTj0hMCxiLmN1cnJlbnRGaWxlSW5kZXg9YyxiKX0sZS5wcm90b3R5cGUucmVmcmVzaEZvcm09ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmdldCgiZm9ybUlkIik7bmV3IGIubW9kZWxzLkZvcm0oe2Zvcm1JZDpkLHJhd01vZGU6ITAscmF3RGF0YTphfSxmdW5jdGlvbihiKXtiJiYkZmguZm9ybXMubG9nLmUoYiksJGZoLmZvcm1zLmxvZy5sKCJzdWNjZXNzZnVsbHkgdXBkYXRlZCBmb3JtIHRoZSBmb3JtIHdpdGggaWQgIithLl9pZCksYygpfSl9LGUucHJvdG90eXBlLnN1Ym1pc3Npb25Nb2RlbD1mdW5jdGlvbihhKXtiLm1vZGVscy5zdWJtaXNzaW9uLmZyb21Mb2NhbCh0aGlzLmdldCgic3VibWlzc2lvbkxvY2FsSWQiKSxmdW5jdGlvbihiLGMpe2ImJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZ2V0dGluZyBzdWJtaXNzaW9uIG1vZGVsIGZyb20gbG9jYWwgbWVtb3J5ICIrYiksYShiLGMpfSl9LGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2QuY2FsbCh0aGlzLHtfdHlwZToidGhlbWUiLF9sdWRpZDoidGhlbWVfb2JqZWN0In0pfXZhciBkPWIubW9kZWxzLk1vZGVsO3JldHVybiBjLnByb3RvdHlwZS5nZXRDU1M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImNzcyIsIiIpfSxiLnV0aWxzLmV4dGVuZChjLGQpLGEudGhlbWU9bmV3IGMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7ZC5jYWxsKHRoaXMse190eXBlOiJsb2ciLF9sdWRpZDoibG9nIn0pLHRoaXMuc2V0KCJsb2dzIixbXSksdGhpcy5pc1dyaXRpbmc9ITEsdGhpcy5tb3JlVG9Xcml0ZT0hMX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYi51dGlscy5leHRlbmQoYyxkKSxjLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKGEpe2lmKCRmaC5mb3Jtcy5jb25maWcuZ2V0KCJsb2dnZXIiKT09PSEwKXt2YXIgYj0iIixjPSRmaC5mb3Jtcy5jb25maWcuZ2V0KCJsb2dfbGV2ZWwiKSxkPSRmaC5mb3Jtcy5jb25maWcuZ2V0KCJsb2dfbGV2ZWxzIiksZT10aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgYT8oYj1hLGE9ZC5pbmRleE9mKGEudG9Mb3dlckNhc2UoKSkpOmE9MCxjPWlzTmFOKHBhcnNlSW50KGMsMTApKT9jOnBhcnNlSW50KGMsMTApLGE9aXNOYU4ocGFyc2VJbnQoYSwxMCkpP2E6cGFyc2VJbnQoYSwxMCksYT5jKXJldHVybjt2YXIgZj1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApLGc9ZS5nZXQoImxvZ3MiKTtmLnNoaWZ0KCk7Zm9yKHZhciBoPSIiO2YubGVuZ3RoPjA7KWgrPUpTT04uc3RyaW5naWZ5KGYuc2hpZnQoKSkrIiAiO2lmKGcucHVzaChlLndyYXAoaCxiKSksZy5sZW5ndGg+JGZoLmZvcm1zLmNvbmZpZy5nZXQoImxvZ19saW5lX2xpbWl0IikmJmcuc2hpZnQoKSxlLmlzV3JpdGluZyllLm1vcmVUb1dyaXRlPSEwO2Vsc2V7dmFyIGk9ZnVuY3Rpb24oKXtlLm1vcmVUb1dyaXRlJiYoZS5tb3JlVG9Xcml0ZT0hMSxlLndyaXRlKGkpKX07ZS53cml0ZShpKX19fSxjLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IERhdGUsZD1jLnRvSVNPU3RyaW5nKCk7Im9iamVjdCI9PXR5cGVvZiBhJiYoYT1KU09OLnN0cmluZ2lmeShhKSk7dmFyIGU9ZCsiICIrYi50b1VwcGVyQ2FzZSgpKyIgIithO3JldHVybiBlfSxjLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuaXNXcml0aW5nPSEwLGIuc2F2ZUxvY2FsKGZ1bmN0aW9uKCl7Yi5pc1dyaXRpbmc9ITEsYSgpfSl9LGMucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApO2EudW5zaGlmdCgiZXJyb3IiKSx0aGlzLmluZm8uYXBwbHkodGhpcyxhKX0sYy5wcm90b3R5cGUudz1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsMCk7YS51bnNoaWZ0KCJ3YXJuaW5nIiksdGhpcy5pbmZvLmFwcGx5KHRoaXMsYSl9LGMucHJvdG90eXBlLmw9ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApO2EudW5zaGlmdCgibG9nIiksdGhpcy5pbmZvLmFwcGx5KHRoaXMsYSl9LGMucHJvdG90eXBlLmQ9ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApO2EudW5zaGlmdCgiZGVidWciKSx0aGlzLmluZm8uYXBwbHkodGhpcyxhKX0sYy5wcm90b3R5cGUuZ2V0TG9ncz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgibG9ncyIpfSxjLnByb3RvdHlwZS5jbGVhckxvZ3M9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoImxvZ3MiLFtdKSx0aGlzLnNhdmVMb2NhbChmdW5jdGlvbigpe2EmJmEoKX0pfSxjLnByb3RvdHlwZS5zZW5kTG9ncz1mdW5jdGlvbihhKXt2YXIgYz0kZmguZm9ybXMuY29uZmlnLmdldCgibG9nX2VtYWlsIiksZD1iLmNvbmZpZy5nZXRQcm9wcygpLGU9dGhpcy5nZXRMb2dzKCksZj17dHlwZToiZW1haWwiLHRvOmMsc3ViamVjdDoiQXBwIEZvcm1zIEFwcCBMb2dzIixib2R5OiJDb25maWd1cmF0aW9uOlxuIitKU09OLnN0cmluZ2lmeShkKSsiXG5cbkFwcCBMb2dzOlxuIitlLmpvaW4oIlxuIil9O2IudXRpbHMuc2VuZChmLGEpCn0sYS5sb2c9bmV3IGMsYi5sb2c9YS5sb2csYX0oYi5tb2RlbHN8fHt9KSxiLmFwaT1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGEmJihjPWEsYT17fSksYT1hP2E6e30sYz1jP2M6bDt2YXIgZD1hLmZyb21SZW1vdGU7dm9pZCAwPT09ZCYmKGQ9ITEpLGIubW9kZWxzLmZvcm1zLnJlZnJlc2goZCxjKX1mdW5jdGlvbiBkKGEsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGEmJihjPWEsYT17fSksYT1hP2E6e30sYz1jP2M6bCxuZXcgYi5tb2RlbHMuRm9ybShhLGMpfWZ1bmN0aW9uIGUoYSxjKXsiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGM9YSxhPXt9KSxhPWE/YTp7fSxjPWM/YzpsO3ZhciBkPWIubW9kZWxzLnRoZW1lO2EuZnJvbVJlbW90ZXx8KGEuZnJvbVJlbW90ZT0hMSksZC5yZWZyZXNoKGEuZnJvbVJlbW90ZSxmdW5jdGlvbihiLGUpe3JldHVybiBiP2MoYik6bnVsbD09PWU/YyhuZXcgRXJyb3IoIk5vIHRoZW1lIGRlZmluZWQgZm9yIHRoaXMgYXBwIikpOmEuY3NzPT09ITA/YyhudWxsLGQuZ2V0Q1NTKCkpOmMobnVsbCxkKX0pfWZ1bmN0aW9uIGYoYSxjKXsiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGM9YSxhPXt9KSxhPWE/YTp7fSxjPWM/YzpsO2IubW9kZWxzLnN1Ym1pc3Npb25zO251bGw9PT1pP2IubW9kZWxzLnN1Ym1pc3Npb25zLmxvYWRMb2NhbChmdW5jdGlvbihhKXthPygkZmguZm9ybXMubG9nLmUoYSksYyhhKSk6KGk9Yi5tb2RlbHMuc3VibWlzc2lvbnMsYyhudWxsLGkpKX0pOmMobnVsbCxpKX1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGE/dm9pZCBhLnN1Ym1pdChmdW5jdGlvbihjKXtyZXR1cm4gYz9iKGMpOnZvaWQgYS51cGxvYWQoYil9KTpiKCJJbnZhbGlkIHN1Ym1pc3Npb24gb2JqZWN0LiIpfWZ1bmN0aW9uIGgoYSxjKXtmdW5jdGlvbiBkKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhJiYyND09PWEubGVuZ3RoP251bGw6YSwkZmguZm9ybXMubG9nLmQoImZpbmlzaFN1Ym1pc3Npb25Eb3dubG9hZCAiLGEsZSk7dmFyIGI9ZS5nZXRSZW1vdGVTdWJtaXNzaW9uSWQoKSxkPWpbYl07aWYoIWQpcmV0dXJuIGUuY2xlYXJFdmVudHMoKSxjKGEsZSk7Zm9yKHZhciBmPWQucG9wKCk7ImZ1bmN0aW9uIj09dHlwZW9mIGY7KWYoYSxlKSxmPWQucG9wKCk7ZS5jbGVhckV2ZW50cyYmZS5jbGVhckV2ZW50cygpfWE9YT9hOnt9O3ZhciBlPW51bGw7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGMpcmV0dXJuIG51bGw7aWYoJGZoLmZvcm1zLmxvZy5kKCJkb3dubG9hZFN1Ym1pc3Npb24gY2FsbGVkIixhKSwhYS5zdWJtaXNzaW9uSWQpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiTm8gc3VibWlzc2lvbklkIHBhc3NlZCB0byBkb3dubG9hZCBhIHN1Ym1pc3Npb24iKSxjKCJObyBzdWJtaXNzaW9uSWQgcGFzc2VkIHRvIGRvd25sb2FkIGEgc3VibWlzc2lvbiIpOyRmaC5mb3Jtcy5sb2cuZCgiZG93bmxvYWRTdWJtaXNzaW9uIFN1Ym1pc3Npb25JZCBleGlzdHMiK2Euc3VibWlzc2lvbklkKTt2YXIgZj1iLm1vZGVscy5zdWJtaXNzaW9ucy5maW5kTWV0YUJ5UmVtb3RlSWQoYS5zdWJtaXNzaW9uSWQpO251bGw9PT1mPygkZmguZm9ybXMubG9nLmQoImRvd25sb2FkU3VibWlzc2lvbiBzdWJtaXNzaW9uIGRvZXMgbm90IGV4aXN0LCBkb3dubG9hZGluZyIsYSksZT1uZXcgYi5tb2RlbHMuc3VibWlzc2lvbi5uZXdJbnN0YW5jZShudWxsLHtzdWJtaXNzaW9uSWQ6YS5zdWJtaXNzaW9uSWR9KSxlLm9uKCJlcnJvciIsZCksZS5vbigiZG93bmxvYWRlZCIsZCksImZ1bmN0aW9uIj09dHlwZW9mIGEudXBkYXRlRnVuY3Rpb24mJmUub24oInByb2dyZXNzIixhLnVwZGF0ZUZ1bmN0aW9uKSwiZnVuY3Rpb24iPT10eXBlb2YgYyYmKGpbYS5zdWJtaXNzaW9uSWRdP2pbYS5zdWJtaXNzaW9uSWRdLnB1c2goYyk6KGpbYS5zdWJtaXNzaW9uSWRdPVtdLGpbYS5zdWJtaXNzaW9uSWRdLnB1c2goYykpKSxlLmRvd25sb2FkKGZ1bmN0aW9uKGEpe3JldHVybiBhPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHF1ZXVlaW5nIHN1Ym1pc3Npb24gZm9yIGRvd25sb2FkICIrYSksYyhhKSk6dm9pZCAwfSkpOigkZmguZm9ybXMubG9nLmQoImRvd25sb2FkU3VibWlzc2lvbiBzdWJtaXNzaW9uIGV4aXN0cyIsYSksImRvd25sb2FkZWQiIT09Zi5zdGF0dXMmJiJzdWJtaXR0ZWQiIT09Zi5zdGF0dXM/ImZ1bmN0aW9uIj09dHlwZW9mIGMmJihqW2Euc3VibWlzc2lvbklkXT9qW2Euc3VibWlzc2lvbklkXS5wdXNoKGMpOihqW2Euc3VibWlzc2lvbklkXT1bXSxqW2Euc3VibWlzc2lvbklkXS5wdXNoKGMpKSk6Yi5tb2RlbHMuc3VibWlzc2lvbnMuZ2V0U3VibWlzc2lvbkJ5TWV0YShmLGMpKX1hLmdldEZvcm1zPWMsYS5nZXRGb3JtPWQsYS5nZXRUaGVtZT1lLGEuc3VibWl0Rm9ybT1nLGEuZ2V0U3VibWlzc2lvbnM9ZixhLmRvd25sb2FkU3VibWlzc2lvbj1oLGEuaW5pdD1iLmluaXQsYS5sb2c9Yi5tb2RlbHMubG9nO3ZhciBpPW51bGwsaj17fSxrPWIubW9kZWxzLmNvbmZpZyxsPWZ1bmN0aW9uKGEpe2E9YT9hOiIiLCRmaC5mb3Jtcy5sb2cudygiRGVmYXVsdCBGdW5jdGlvbiBDYWxsZWQgIithKX0sbT17ZWRpdEFsbG93ZWQ6ZnVuY3Rpb24oKXt2YXIgYT1rLmdldCgiZGVmYXVsdENvbmZpZ1ZhbHVlcyIse30pO3JldHVybiBhLmNvbmZpZ19hZG1pbl91c2VyPT09ITB9LGdldDpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj1rLmdldCgidXNlckNvbmZpZ1ZhbHVlcyIse30pLGM9ay5nZXQoImRlZmF1bHRDb25maWdWYWx1ZXMiLHt9KTtyZXR1cm4gYlthXT9iW2FdOmNbYV19fSxnZXREZXZpY2VJZDpmdW5jdGlvbigpe3JldHVybiBrLmdldCgiZGV2aWNlSWQiLCJOb3QgU2V0Iil9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGImJm51bGwhPT1iJiYoYy5lZGl0QWxsb3dlZCgpfHwibWF4X3NlbnRfc2F2ZWQiPT09YSkpe3ZhciBkPWsuZ2V0KCJ1c2VyQ29uZmlnVmFsdWVzIix7fSk7ZFthXT1iLGsuc2V0KCJ1c2VyQ29uZmlnVmFsdWVzIixkKX19LGdldENvbmZpZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1rLmdldCgiZGVmYXVsdENvbmZpZ1ZhbHVlcyIse30pLGM9ay5nZXQoInVzZXJDb25maWdWYWx1ZXMiLHt9KSxkPXt9O2lmKGEuZWRpdEFsbG93ZWQoKSl7Zm9yKHZhciBlIGluIGIpZFtlXT1jW2VdP2NbZV06YltlXTtyZXR1cm4gZH1yZXR1cm4gYn0sc2F2ZUNvbmZpZzpmdW5jdGlvbihhKXtrLnNhdmVMb2NhbChmdW5jdGlvbihiKXtiPyRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIGEgZm9ybSBjb25maWc6ICIsYik6JGZoLmZvcm1zLmxvZy5sKCJGb3JtIGNvbmZpZyBzYXZlZCBzdWNlc3NmdWxseS4iKSwiZnVuY3Rpb24iPT10eXBlb2YgYSYmYSgpfSl9LG9mZmxpbmU6ZnVuY3Rpb24oKXtrLnNldE9mZmxpbmUoKX0sb25saW5lOmZ1bmN0aW9uKCl7ay5zZXRPbmxpbmUoKX0sbWJhYXNPbmxpbmU6ZnVuY3Rpb24oYSl7ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmsub24oIm9ubGluZSIsYSl9LG1iYWFzT2ZmbGluZTpmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgYSYmay5vbigib2ZmbGluZSIsYSl9LGlzT25saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaXNPbmxpbmUoKX0saXNTdHVkaW9Nb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaXNTdHVkaW9Nb2RlKCl9LHJlZnJlc2g6ZnVuY3Rpb24oYSl7ay5yZWZyZXNoKCEwLGEpfX07cmV0dXJuIGEuY29uZmlnPW0sYX0oYi5hcGl8fHt9KSwidW5kZWZpbmVkIj09dHlwZW9mICRmaCYmKCRmaD17fSksdm9pZCAwPT09JGZoLmZvcm1zJiYoJGZoLmZvcm1zPWIuYXBpKSxiJiYoYi5SdWxlc0VuZ2luZT1hKX0od2luZG93fHxtb2R1bGUuZXhwb3J0cyk7",
                "body": "IWZ1bmN0aW9uKGEpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyltb2R1bGUuZXhwb3J0cz1hKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShhKTtlbHNle3ZhciBiOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P2I9d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2I9Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmKGI9c2VsZiksYi5mZWVkaGVucnk9YSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiBmdW5jdGlvbiBhKGIsYyxkKXtmdW5jdGlvbiBlKGcsaCl7aWYoIWNbZ10pe2lmKCFiW2ddKXt2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighaCYmaSlyZXR1cm4gaShnLCEwKTtpZihmKXJldHVybiBmKGcsITApO3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2crIiciKX12YXIgaj1jW2ddPXtleHBvcnRzOnt9fTtiW2ddWzBdLmNhbGwoai5leHBvcnRzLGZ1bmN0aW9uKGEpe3ZhciBjPWJbZ11bMV1bYV07cmV0dXJuIGUoYz9jOmEpfSxqLGouZXhwb3J0cyxhLGIsYyxkKX1yZXR1cm4gY1tnXS5leHBvcnRzfWZvcih2YXIgZj0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxnPTA7ZzxkLmxlbmd0aDtnKyspZShkW2ddKTtyZXR1cm4gZX0oezE6W2Z1bmN0aW9uKGEsYil7KGZ1bmN0aW9uKGMpe19fYnJvd3NlcmlmeV9zaGltX3JlcXVpcmVfXz1hLGZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Znx8ZnVuY3Rpb24oYSxiKXt2YXIgYz17fSxkPWMubGliPXt9LGU9ZC5CYXNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm57ZXh0ZW5kOmZ1bmN0aW9uKGIpe2EucHJvdG90eXBlPXRoaXM7dmFyIGM9bmV3IGE7cmV0dXJuIGImJmMubWl4SW4oYiksYy5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpfHwoYy5pbml0PWZ1bmN0aW9uKCl7Yy4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxjLmluaXQucHJvdG90eXBlPWMsYy4kc3VwZXI9dGhpcyxjfSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmV4dGVuZCgpO3JldHVybiBhLmluaXQuYXBwbHkoYSxhcmd1bWVudHMpLGF9LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJih0aGlzW2JdPWFbYl0pO2EuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJih0aGlzLnRvU3RyaW5nPWEudG9TdHJpbmcpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKX19fSgpLGY9ZC5Xb3JkQXJyYXk9ZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oYSxjKXthPXRoaXMud29yZHM9YXx8W10sdGhpcy5zaWdCeXRlcz1jIT1iP2M6NCphLmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fGgpLnN0cmluZ2lmeSh0aGlzKX0sY29uY2F0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMud29yZHMsYz1hLndvcmRzLGQ9dGhpcy5zaWdCeXRlcyxlPWEuc2lnQnl0ZXM7aWYodGhpcy5jbGFtcCgpLGQlNClmb3IodmFyIGY9MDtlPmY7ZisrKXt2YXIgZz1jW2Y+Pj4yXT4+PjI0LWYlNCo4JjI1NTtiW2QrZj4+PjJdfD1nPDwyNC0oZCtmKSU0Kjh9ZWxzZSBpZihjLmxlbmd0aD42NTUzNSlmb3IodmFyIGY9MDtlPmY7Zis9NCliW2QrZj4+PjJdPWNbZj4+PjJdO2Vsc2UgYi5wdXNoLmFwcGx5KGIsYyk7cmV0dXJuIHRoaXMuc2lnQnl0ZXMrPWUsdGhpc30sY2xhbXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLndvcmRzLGM9dGhpcy5zaWdCeXRlcztiW2M+Pj4yXSY9NDI5NDk2NzI5NTw8MzItYyU0KjgsYi5sZW5ndGg9YS5jZWlsKGMvNCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBhLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCksYX0scmFuZG9tOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1bXSxkPTA7Yj5kO2QrPTQpYy5wdXNoKDQyOTQ5NjcyOTYqYS5yYW5kb20oKXwwKTtyZXR1cm4gbmV3IGYuaW5pdChjLGIpfX0pLGc9Yy5lbmM9e30saD1nLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLndvcmRzLGM9YS5zaWdCeXRlcyxkPVtdLGU9MDtjPmU7ZSsrKXt2YXIgZj1iW2U+Pj4yXT4+PjI0LWUlNCo4JjI1NTtkLnB1c2goKGY+Pj40KS50b1N0cmluZygxNikpLGQucHVzaCgoMTUmZikudG9TdHJpbmcoMTYpKX1yZXR1cm4gZC5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9W10sZD0wO2I+ZDtkKz0yKWNbZD4+PjNdfD1wYXJzZUludChhLnN1YnN0cihkLDIpLDE2KTw8MjQtZCU4KjQ7cmV0dXJuIG5ldyBmLmluaXQoYyxiLzIpfX0saT1nLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLndvcmRzLGM9YS5zaWdCeXRlcyxkPVtdLGU9MDtjPmU7ZSsrKXt2YXIgZj1iW2U+Pj4yXT4+PjI0LWUlNCo4JjI1NTtkLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShmKSl9cmV0dXJuIGQuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPVtdLGQ9MDtiPmQ7ZCsrKWNbZD4+PjJdfD0oMjU1JmEuY2hhckNvZGVBdChkKSk8PDI0LWQlNCo4O3JldHVybiBuZXcgZi5pbml0KGMsYil9fSxqPWcuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShpLnN0cmluZ2lmeShhKSkpfWNhdGNoKGIpe3Rocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKX19LHBhcnNlOmZ1bmN0aW9uKGEpe3JldHVybiBpLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhKSkpfX0saz1kLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09ZS5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgZi5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPWoucGFyc2UoYSkpLHRoaXMuX2RhdGEuY29uY2F0KGEpLHRoaXMuX25EYXRhQnl0ZXMrPWEuc2lnQnl0ZXN9LF9wcm9jZXNzOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX2RhdGEsZD1jLndvcmRzLGU9Yy5zaWdCeXRlcyxnPXRoaXMuYmxvY2tTaXplLGg9NCpnLGk9ZS9oO2k9Yj9hLmNlaWwoaSk6YS5tYXgoKDB8aSktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTt2YXIgaj1pKmcsaz1hLm1pbig0KmosZSk7aWYoail7Zm9yKHZhciBsPTA7aj5sO2wrPWcpdGhpcy5fZG9Qcm9jZXNzQmxvY2soZCxsKTt2YXIgbT1kLnNwbGljZSgwLGopO2Muc2lnQnl0ZXMtPWt9cmV0dXJuIG5ldyBmLmluaXQobSxrKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1lLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGEuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpLGF9LF9taW5CdWZmZXJTaXplOjB9KSxsPShkLkhhc2hlcj1rLmV4dGVuZCh7Y2ZnOmUuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihhKXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQoYSksdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe2sucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fYXBwZW5kKGEpLHRoaXMuX3Byb2Nlc3MoKSx0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbihhKXthJiZ0aGlzLl9hcHBlbmQoYSk7dmFyIGI9dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiBifSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gbmV3IGEuaW5pdChjKS5maW5hbGl6ZShiKX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVybiBuZXcgbC5ITUFDLmluaXQoYSxjKS5maW5hbGl6ZShiKX19fSksYy5hbGdvPXt9KTtyZXR1cm4gY30oTWF0aCk7IWZ1bmN0aW9uKCl7e3ZhciBhPWYsYj1hLmxpYixjPWIuV29yZEFycmF5LGQ9YS5lbmM7ZC5CYXNlNjQ9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYj1hLndvcmRzLGM9YS5zaWdCeXRlcyxkPXRoaXMuX21hcDthLmNsYW1wKCk7Zm9yKHZhciBlPVtdLGY9MDtjPmY7Zis9Mylmb3IodmFyIGc9YltmPj4+Ml0+Pj4yNC1mJTQqOCYyNTUsaD1iW2YrMT4+PjJdPj4+MjQtKGYrMSklNCo4JjI1NSxpPWJbZisyPj4+Ml0+Pj4yNC0oZisyKSU0KjgmMjU1LGo9Zzw8MTZ8aDw8OHxpLGs9MDs0PmsmJmM+ZisuNzUqaztrKyspZS5wdXNoKGQuY2hhckF0KGo+Pj42KigzLWspJjYzKSk7dmFyIGw9ZC5jaGFyQXQoNjQpO2lmKGwpZm9yKDtlLmxlbmd0aCU0OyllLnB1c2gobCk7cmV0dXJuIGUuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoLGQ9dGhpcy5fbWFwLGU9ZC5jaGFyQXQoNjQpO2lmKGUpe3ZhciBmPWEuaW5kZXhPZihlKTstMSE9ZiYmKGI9Zil9Zm9yKHZhciBnPVtdLGg9MCxpPTA7Yj5pO2krKylpZihpJTQpe3ZhciBqPWQuaW5kZXhPZihhLmNoYXJBdChpLTEpKTw8aSU0KjIsaz1kLmluZGV4T2YoYS5jaGFyQXQoaSkpPj4+Ni1pJTQqMjtnW2g+Pj4yXXw9KGp8ayk8PDI0LWglNCo4LGgrK31yZXR1cm4gYy5jcmVhdGUoZyxoKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifX19KCksZi5saWIuQ2lwaGVyfHxmdW5jdGlvbihhKXt2YXIgYj1mLGM9Yi5saWIsZD1jLkJhc2UsZT1jLldvcmRBcnJheSxnPWMuQnVmZmVyZWRCbG9ja0FsZ29yaXRobSxoPWIuZW5jLGk9KGguVXRmOCxoLkJhc2U2NCksaj1iLmFsZ28saz1qLkV2cEtERixsPWMuQ2lwaGVyPWcuZXh0ZW5kKHtjZmc6ZC5leHRlbmQoKSxjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsYSxiKX0sY3JlYXRlRGVjcnlwdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLGEsYil9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChjKSx0aGlzLl94Zm9ybU1vZGU9YSx0aGlzLl9rZXk9Yix0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7Zy5yZXNldC5jYWxsKHRoaXMpLHRoaXMuX2RvUmVzZXQoKX0scHJvY2VzczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fYXBwZW5kKGEpLHRoaXMuX3Byb2Nlc3MoKX0sZmluYWxpemU6ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYXBwZW5kKGEpO3ZhciBiPXRoaXMuX2RvRmluYWxpemUoKTtyZXR1cm4gYn0sa2V5U2l6ZTo0LGl2U2l6ZTo0LF9FTkNfWEZPUk1fTU9ERToxLF9ERUNfWEZPUk1fTU9ERToyLF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiJzdHJpbmciPT10eXBlb2YgYT94OnV9cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKGMsZCxlKXtyZXR1cm4gYShkKS5lbmNyeXB0KGIsYyxkLGUpfSxkZWNyeXB0OmZ1bmN0aW9uKGMsZCxlKXtyZXR1cm4gYShkKS5kZWNyeXB0KGIsYyxkLGUpfX19fSgpfSksbT0oYy5TdHJlYW1DaXBoZXI9bC5leHRlbmQoe19kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fcHJvY2VzcyghMCk7cmV0dXJuIGF9LGJsb2NrU2l6ZToxfSksYi5tb2RlPXt9KSxuPWMuQmxvY2tDaXBoZXJNb2RlPWQuZXh0ZW5kKHtjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5FbmNyeXB0b3IuY3JlYXRlKGEsYil9LGNyZWF0ZURlY3J5cHRvcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoYSxiKX0saW5pdDpmdW5jdGlvbihhLGIpe3RoaXMuX2NpcGhlcj1hLHRoaXMuX2l2PWJ9fSksbz1tLkNCQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQpe3ZhciBlPXRoaXMuX2l2O2lmKGUpe3ZhciBmPWU7dGhpcy5faXY9YX1lbHNlIHZhciBmPXRoaXMuX3ByZXZCbG9jaztmb3IodmFyIGc9MDtkPmc7ZysrKWJbYytnXV49ZltnXX12YXIgYz1uLmV4dGVuZCgpO3JldHVybiBjLkVuY3J5cHRvcj1jLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5fY2lwaGVyLGU9ZC5ibG9ja1NpemU7Yi5jYWxsKHRoaXMsYSxjLGUpLGQuZW5jcnlwdEJsb2NrKGEsYyksdGhpcy5fcHJldkJsb2NrPWEuc2xpY2UoYyxjK2UpfX0pLGMuRGVjcnlwdG9yPWMuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLl9jaXBoZXIsZT1kLmJsb2NrU2l6ZSxmPWEuc2xpY2UoYyxjK2UpO2QuZGVjcnlwdEJsb2NrKGEsYyksYi5jYWxsKHRoaXMsYSxjLGUpLHRoaXMuX3ByZXZCbG9jaz1mfX0pLGN9KCkscD1iLnBhZD17fSxxPXAuUGtjczc9e3BhZDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz00KmIsZD1jLWEuc2lnQnl0ZXMlYyxmPWQ8PDI0fGQ8PDE2fGQ8PDh8ZCxnPVtdLGg9MDtkPmg7aCs9NClnLnB1c2goZik7dmFyIGk9ZS5jcmVhdGUoZyxkKTthLmNvbmNhdChpKX0sdW5wYWQ6ZnVuY3Rpb24oYSl7dmFyIGI9MjU1JmEud29yZHNbYS5zaWdCeXRlcy0xPj4+Ml07YS5zaWdCeXRlcy09Yn19LHI9KGMuQmxvY2tDaXBoZXI9bC5leHRlbmQoe2NmZzpsLmNmZy5leHRlbmQoe21vZGU6byxwYWRkaW5nOnF9KSxyZXNldDpmdW5jdGlvbigpe2wucmVzZXQuY2FsbCh0aGlzKTt2YXIgYT10aGlzLmNmZyxiPWEuaXYsYz1hLm1vZGU7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl2YXIgZD1jLmNyZWF0ZUVuY3J5cHRvcjtlbHNle3ZhciBkPWMuY3JlYXRlRGVjcnlwdG9yO3RoaXMuX21pbkJ1ZmZlclNpemU9MX10aGlzLl9tb2RlPWQuY2FsbChjLHRoaXMsYiYmYi53b3Jkcyl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGIpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKGEsYil9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jZmcucGFkZGluZztpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXthLnBhZCh0aGlzLl9kYXRhLHRoaXMuYmxvY2tTaXplKTt2YXIgYj10aGlzLl9wcm9jZXNzKCEwKX1lbHNle3ZhciBiPXRoaXMuX3Byb2Nlc3MoITApO2EudW5wYWQoYil9cmV0dXJuIGJ9LGJsb2NrU2l6ZTo0fSksYy5DaXBoZXJQYXJhbXM9ZC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oYSl7dGhpcy5taXhJbihhKX0sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fHRoaXMuZm9ybWF0dGVyKS5zdHJpbmdpZnkodGhpcyl9fSkpLHM9Yi5mb3JtYXQ9e30sdD1zLk9wZW5TU0w9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYj1hLmNpcGhlcnRleHQsYz1hLnNhbHQ7aWYoYyl2YXIgZD1lLmNyZWF0ZShbMTM5ODg5MzY4NCwxNzAxMDc2ODMxXSkuY29uY2F0KGMpLmNvbmNhdChiKTtlbHNlIHZhciBkPWI7cmV0dXJuIGQudG9TdHJpbmcoaSl9LHBhcnNlOmZ1bmN0aW9uKGEpe3ZhciBiPWkucGFyc2UoYSksYz1iLndvcmRzO2lmKDEzOTg4OTM2ODQ9PWNbMF0mJjE3MDEwNzY4MzE9PWNbMV0pe3ZhciBkPWUuY3JlYXRlKGMuc2xpY2UoMiw0KSk7Yy5zcGxpY2UoMCw0KSxiLnNpZ0J5dGVzLT0xNn1yZXR1cm4gci5jcmVhdGUoe2NpcGhlcnRleHQ6YixzYWx0OmR9KX19LHU9Yy5TZXJpYWxpemFibGVDaXBoZXI9ZC5leHRlbmQoe2NmZzpkLmV4dGVuZCh7Zm9ybWF0OnR9KSxlbmNyeXB0OmZ1bmN0aW9uKGEsYixjLGQpe2Q9dGhpcy5jZmcuZXh0ZW5kKGQpO3ZhciBlPWEuY3JlYXRlRW5jcnlwdG9yKGMsZCksZj1lLmZpbmFsaXplKGIpLGc9ZS5jZmc7cmV0dXJuIHIuY3JlYXRlKHtjaXBoZXJ0ZXh0OmYsa2V5OmMsaXY6Zy5pdixhbGdvcml0aG06YSxtb2RlOmcubW9kZSxwYWRkaW5nOmcucGFkZGluZyxibG9ja1NpemU6YS5ibG9ja1NpemUsZm9ybWF0dGVyOmQuZm9ybWF0fSl9LGRlY3J5cHQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZD10aGlzLmNmZy5leHRlbmQoZCksYj10aGlzLl9wYXJzZShiLGQuZm9ybWF0KTt2YXIgZT1hLmNyZWF0ZURlY3J5cHRvcihjLGQpLmZpbmFsaXplKGIuY2lwaGVydGV4dCk7cmV0dXJuIGV9LF9wYXJzZTpmdW5jdGlvbihhLGIpe3JldHVybiJzdHJpbmciPT10eXBlb2YgYT9iLnBhcnNlKGEsdGhpcyk6YX19KSx2PWIua2RmPXt9LHc9di5PcGVuU1NMPXtleGVjdXRlOmZ1bmN0aW9uKGEsYixjLGQpe2R8fChkPWUucmFuZG9tKDgpKTt2YXIgZj1rLmNyZWF0ZSh7a2V5U2l6ZTpiK2N9KS5jb21wdXRlKGEsZCksZz1lLmNyZWF0ZShmLndvcmRzLnNsaWNlKGIpLDQqYyk7cmV0dXJuIGYuc2lnQnl0ZXM9NCpiLHIuY3JlYXRlKHtrZXk6ZixpdjpnLHNhbHQ6ZH0pfX0seD1jLlBhc3N3b3JkQmFzZWRDaXBoZXI9dS5leHRlbmQoe2NmZzp1LmNmZy5leHRlbmQoe2tkZjp3fSksZW5jcnlwdDpmdW5jdGlvbihhLGIsYyxkKXtkPXRoaXMuY2ZnLmV4dGVuZChkKTt2YXIgZT1kLmtkZi5leGVjdXRlKGMsYS5rZXlTaXplLGEuaXZTaXplKTtkLml2PWUuaXY7dmFyIGY9dS5lbmNyeXB0LmNhbGwodGhpcyxhLGIsZS5rZXksZCk7cmV0dXJuIGYubWl4SW4oZSksZn0sZGVjcnlwdDpmdW5jdGlvbihhLGIsYyxkKXtkPXRoaXMuY2ZnLmV4dGVuZChkKSxiPXRoaXMuX3BhcnNlKGIsZC5mb3JtYXQpO3ZhciBlPWQua2RmLmV4ZWN1dGUoYyxhLmtleVNpemUsYS5pdlNpemUsYi5zYWx0KTtkLml2PWUuaXY7dmFyIGY9dS5kZWNyeXB0LmNhbGwodGhpcyxhLGIsZS5rZXksZCk7cmV0dXJuIGZ9fSl9KCksZnVuY3Rpb24oKXt2YXIgYT1mLGI9YS5saWIsYz1iLkJsb2NrQ2lwaGVyLGQ9YS5hbGdvLGU9W10sZz1bXSxoPVtdLGk9W10saj1bXSxrPVtdLGw9W10sbT1bXSxuPVtdLG89W107IWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MDsyNTY+YjtiKyspYVtiXT0xMjg+Yj9iPDwxOmI8PDFeMjgzO2Zvcih2YXIgYz0wLGQ9MCxiPTA7MjU2PmI7YisrKXt2YXIgZj1kXmQ8PDFeZDw8Ml5kPDwzXmQ8PDQ7Zj1mPj4+OF4yNTUmZl45OSxlW2NdPWYsZ1tmXT1jO3ZhciBwPWFbY10scT1hW3BdLHI9YVtxXSxzPTI1NyphW2ZdXjE2ODQzMDA4KmY7aFtjXT1zPDwyNHxzPj4+OCxpW2NdPXM8PDE2fHM+Pj4xNixqW2NdPXM8PDh8cz4+PjI0LGtbY109czt2YXIgcz0xNjg0MzAwOSpyXjY1NTM3KnFeMjU3KnBeMTY4NDMwMDgqYztsW2ZdPXM8PDI0fHM+Pj44LG1bZl09czw8MTZ8cz4+PjE2LG5bZl09czw8OHxzPj4+MjQsb1tmXT1zLGM/KGM9cF5hW2FbYVtyXnBdXV0sZF49YVthW2RdXSk6Yz1kPTF9fSgpO3ZhciBwPVswLDEsMiw0LDgsMTYsMzIsNjQsMTI4LDI3LDU0XSxxPWQuQUVTPWMuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9rZXksYj1hLndvcmRzLGM9YS5zaWdCeXRlcy80LGQ9dGhpcy5fblJvdW5kcz1jKzYsZj00KihkKzEpLGc9dGhpcy5fa2V5U2NoZWR1bGU9W10saD0wO2Y+aDtoKyspaWYoYz5oKWdbaF09YltoXTtlbHNle3ZhciBpPWdbaC0xXTtoJWM/Yz42JiZoJWM9PTQmJihpPWVbaT4+PjI0XTw8MjR8ZVtpPj4+MTYmMjU1XTw8MTZ8ZVtpPj4+OCYyNTVdPDw4fGVbMjU1JmldKTooaT1pPDw4fGk+Pj4yNCxpPWVbaT4+PjI0XTw8MjR8ZVtpPj4+MTYmMjU1XTw8MTZ8ZVtpPj4+OCYyNTVdPDw4fGVbMjU1JmldLGlePXBbaC9jfDBdPDwyNCksZ1toXT1nW2gtY11eaX1mb3IodmFyIGo9dGhpcy5faW52S2V5U2NoZWR1bGU9W10saz0wO2Y+aztrKyspe3ZhciBoPWYtaztpZihrJTQpdmFyIGk9Z1toXTtlbHNlIHZhciBpPWdbaC00XTtqW2tdPTQ+a3x8ND49aD9pOmxbZVtpPj4+MjRdXV5tW2VbaT4+PjE2JjI1NV1dXm5bZVtpPj4+OCYyNTVdXV5vW2VbMjU1JmldXX19LGVuY3J5cHRCbG9jazpmdW5jdGlvbihhLGIpe3RoaXMuX2RvQ3J5cHRCbG9jayhhLGIsdGhpcy5fa2V5U2NoZWR1bGUsaCxpLGosayxlKX0sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9YVtiKzFdO2FbYisxXT1hW2IrM10sYVtiKzNdPWMsdGhpcy5fZG9DcnlwdEJsb2NrKGEsYix0aGlzLl9pbnZLZXlTY2hlZHVsZSxsLG0sbixvLGcpO3ZhciBjPWFbYisxXTthW2IrMV09YVtiKzNdLGFbYiszXT1jfSxfZG9DcnlwdEJsb2NrOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7Zm9yKHZhciBpPXRoaXMuX25Sb3VuZHMsaj1hW2JdXmNbMF0saz1hW2IrMV1eY1sxXSxsPWFbYisyXV5jWzJdLG09YVtiKzNdXmNbM10sbj00LG89MTtpPm87bysrKXt2YXIgcD1kW2o+Pj4yNF1eZVtrPj4+MTYmMjU1XV5mW2w+Pj44JjI1NV1eZ1syNTUmbV1eY1tuKytdLHE9ZFtrPj4+MjRdXmVbbD4+PjE2JjI1NV1eZlttPj4+OCYyNTVdXmdbMjU1JmpdXmNbbisrXSxyPWRbbD4+PjI0XV5lW20+Pj4xNiYyNTVdXmZbaj4+PjgmMjU1XV5nWzI1NSZrXV5jW24rK10scz1kW20+Pj4yNF1eZVtqPj4+MTYmMjU1XV5mW2s+Pj44JjI1NV1eZ1syNTUmbF1eY1tuKytdO2o9cCxrPXEsbD1yLG09c312YXIgcD0oaFtqPj4+MjRdPDwyNHxoW2s+Pj4xNiYyNTVdPDwxNnxoW2w+Pj44JjI1NV08PDh8aFsyNTUmbV0pXmNbbisrXSxxPShoW2s+Pj4yNF08PDI0fGhbbD4+PjE2JjI1NV08PDE2fGhbbT4+PjgmMjU1XTw8OHxoWzI1NSZqXSleY1tuKytdLHI9KGhbbD4+PjI0XTw8MjR8aFttPj4+MTYmMjU1XTw8MTZ8aFtqPj4+OCYyNTVdPDw4fGhbMjU1JmtdKV5jW24rK10scz0oaFttPj4+MjRdPDwyNHxoW2o+Pj4xNiYyNTVdPDwxNnxoW2s+Pj44JjI1NV08PDh8aFsyNTUmbF0pXmNbbisrXTthW2JdPXAsYVtiKzFdPXEsYVtiKzJdPXIsYVtiKzNdPXN9LGtleVNpemU6OH0pO2EuQUVTPWMuX2NyZWF0ZUhlbHBlcihxKX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjLGQsZSxmLGcpe3ZhciBoPWErKGImY3x+YiZkKStlK2c7cmV0dXJuKGg8PGZ8aD4+PjMyLWYpK2J9ZnVuY3Rpb24gYyhhLGIsYyxkLGUsZixnKXt2YXIgaD1hKyhiJmR8YyZ+ZCkrZStnO3JldHVybihoPDxmfGg+Pj4zMi1mKStifWZ1bmN0aW9uIGQoYSxiLGMsZCxlLGYsZyl7dmFyIGg9YSsoYl5jXmQpK2UrZztyZXR1cm4oaDw8ZnxoPj4+MzItZikrYn1mdW5jdGlvbiBlKGEsYixjLGQsZSxmLGcpe3ZhciBoPWErKGNeKGJ8fmQpKStlK2c7cmV0dXJuKGg8PGZ8aD4+PjMyLWYpK2J9dmFyIGc9ZixoPWcubGliLGk9aC5Xb3JkQXJyYXksaj1oLkhhc2hlcixrPWcuYWxnbyxsPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgYj0wOzY0PmI7YisrKWxbYl09NDI5NDk2NzI5NiphLmFicyhhLnNpbihiKzEpKXwwfSgpO3ZhciBtPWsuTUQ1PWouZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGYpe2Zvcih2YXIgZz0wOzE2Pmc7ZysrKXt2YXIgaD1mK2csaT1hW2hdO2FbaF09MTY3MTE5MzUmKGk8PDh8aT4+PjI0KXw0Mjc4MjU1MzYwJihpPDwyNHxpPj4+OCl9dmFyIGo9dGhpcy5faGFzaC53b3JkcyxrPWFbZiswXSxtPWFbZisxXSxuPWFbZisyXSxvPWFbZiszXSxwPWFbZis0XSxxPWFbZis1XSxyPWFbZis2XSxzPWFbZis3XSx0PWFbZis4XSx1PWFbZis5XSx2PWFbZisxMF0sdz1hW2YrMTFdLHg9YVtmKzEyXSx5PWFbZisxM10sej1hW2YrMTRdLEE9YVtmKzE1XSxCPWpbMF0sQz1qWzFdLEQ9alsyXSxFPWpbM107Qj1iKEIsQyxELEUsayw3LGxbMF0pLEU9YihFLEIsQyxELG0sMTIsbFsxXSksRD1iKEQsRSxCLEMsbiwxNyxsWzJdKSxDPWIoQyxELEUsQixvLDIyLGxbM10pLEI9YihCLEMsRCxFLHAsNyxsWzRdKSxFPWIoRSxCLEMsRCxxLDEyLGxbNV0pLEQ9YihELEUsQixDLHIsMTcsbFs2XSksQz1iKEMsRCxFLEIscywyMixsWzddKSxCPWIoQixDLEQsRSx0LDcsbFs4XSksRT1iKEUsQixDLEQsdSwxMixsWzldKSxEPWIoRCxFLEIsQyx2LDE3LGxbMTBdKSxDPWIoQyxELEUsQix3LDIyLGxbMTFdKSxCPWIoQixDLEQsRSx4LDcsbFsxMl0pLEU9YihFLEIsQyxELHksMTIsbFsxM10pLEQ9YihELEUsQixDLHosMTcsbFsxNF0pLEM9YihDLEQsRSxCLEEsMjIsbFsxNV0pLEI9YyhCLEMsRCxFLG0sNSxsWzE2XSksRT1jKEUsQixDLEQsciw5LGxbMTddKSxEPWMoRCxFLEIsQyx3LDE0LGxbMThdKSxDPWMoQyxELEUsQixrLDIwLGxbMTldKSxCPWMoQixDLEQsRSxxLDUsbFsyMF0pLEU9YyhFLEIsQyxELHYsOSxsWzIxXSksRD1jKEQsRSxCLEMsQSwxNCxsWzIyXSksQz1jKEMsRCxFLEIscCwyMCxsWzIzXSksQj1jKEIsQyxELEUsdSw1LGxbMjRdKSxFPWMoRSxCLEMsRCx6LDksbFsyNV0pLEQ9YyhELEUsQixDLG8sMTQsbFsyNl0pLEM9YyhDLEQsRSxCLHQsMjAsbFsyN10pLEI9YyhCLEMsRCxFLHksNSxsWzI4XSksRT1jKEUsQixDLEQsbiw5LGxbMjldKSxEPWMoRCxFLEIsQyxzLDE0LGxbMzBdKSxDPWMoQyxELEUsQix4LDIwLGxbMzFdKSxCPWQoQixDLEQsRSxxLDQsbFszMl0pLEU9ZChFLEIsQyxELHQsMTEsbFszM10pLEQ9ZChELEUsQixDLHcsMTYsbFszNF0pLEM9ZChDLEQsRSxCLHosMjMsbFszNV0pLEI9ZChCLEMsRCxFLG0sNCxsWzM2XSksRT1kKEUsQixDLEQscCwxMSxsWzM3XSksRD1kKEQsRSxCLEMscywxNixsWzM4XSksQz1kKEMsRCxFLEIsdiwyMyxsWzM5XSksQj1kKEIsQyxELEUseSw0LGxbNDBdKSxFPWQoRSxCLEMsRCxrLDExLGxbNDFdKSxEPWQoRCxFLEIsQyxvLDE2LGxbNDJdKSxDPWQoQyxELEUsQixyLDIzLGxbNDNdKSxCPWQoQixDLEQsRSx1LDQsbFs0NF0pLEU9ZChFLEIsQyxELHgsMTEsbFs0NV0pLEQ9ZChELEUsQixDLEEsMTYsbFs0Nl0pLEM9ZChDLEQsRSxCLG4sMjMsbFs0N10pLEI9ZShCLEMsRCxFLGssNixsWzQ4XSksRT1lKEUsQixDLEQscywxMCxsWzQ5XSksRD1lKEQsRSxCLEMseiwxNSxsWzUwXSksQz1lKEMsRCxFLEIscSwyMSxsWzUxXSksQj1lKEIsQyxELEUseCw2LGxbNTJdKSxFPWUoRSxCLEMsRCxvLDEwLGxbNTNdKSxEPWUoRCxFLEIsQyx2LDE1LGxbNTRdKSxDPWUoQyxELEUsQixtLDIxLGxbNTVdKSxCPWUoQixDLEQsRSx0LDYsbFs1Nl0pLEU9ZShFLEIsQyxELEEsMTAsbFs1N10pLEQ9ZShELEUsQixDLHIsMTUsbFs1OF0pLEM9ZShDLEQsRSxCLHksMjEsbFs1OV0pLEI9ZShCLEMsRCxFLHAsNixsWzYwXSksRT1lKEUsQixDLEQsdywxMCxsWzYxXSksRD1lKEQsRSxCLEMsbiwxNSxsWzYyXSksQz1lKEMsRCxFLEIsdSwyMSxsWzYzXSksalswXT1qWzBdK0J8MCxqWzFdPWpbMV0rQ3wwLGpbMl09alsyXStEfDAsalszXT1qWzNdK0V8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9kYXRhLGM9Yi53b3JkcyxkPTgqdGhpcy5fbkRhdGFCeXRlcyxlPTgqYi5zaWdCeXRlcztjW2U+Pj41XXw9MTI4PDwyNC1lJTMyO3ZhciBmPWEuZmxvb3IoZC80Mjk0OTY3Mjk2KSxnPWQ7Y1soZSs2ND4+Pjk8PDQpKzE1XT0xNjcxMTkzNSYoZjw8OHxmPj4+MjQpfDQyNzgyNTUzNjAmKGY8PDI0fGY+Pj44KSxjWyhlKzY0Pj4+OTw8NCkrMTRdPTE2NzExOTM1JihnPDw4fGc+Pj4yNCl8NDI3ODI1NTM2MCYoZzw8MjR8Zz4+PjgpLGIuc2lnQnl0ZXM9NCooYy5sZW5ndGgrMSksdGhpcy5fcHJvY2VzcygpO2Zvcih2YXIgaD10aGlzLl9oYXNoLGk9aC53b3JkcyxqPTA7ND5qO2orKyl7dmFyIGs9aVtqXTtpW2pdPTE2NzExOTM1JihrPDw4fGs+Pj4yNCl8NDI3ODI1NTM2MCYoazw8MjR8az4+PjgpfXJldHVybiBofSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPWouY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gYS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCksYX19KTtnLk1ENT1qLl9jcmVhdGVIZWxwZXIobSksZy5IbWFjTUQ1PWouX2NyZWF0ZUhtYWNIZWxwZXIobSl9KE1hdGgpLGZ1bmN0aW9uKCl7dmFyIGE9ZixiPWEubGliLGM9Yi5Xb3JkQXJyYXksZD1iLkhhc2hlcixlPWEuYWxnbyxnPVtdLGg9ZS5TSEExPWQuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGMuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX2hhc2gud29yZHMsZD1jWzBdLGU9Y1sxXSxmPWNbMl0saD1jWzNdLGk9Y1s0XSxqPTA7ODA+ajtqKyspe2lmKDE2PmopZ1tqXT0wfGFbYitqXTtlbHNle3ZhciBrPWdbai0zXV5nW2otOF1eZ1tqLTE0XV5nW2otMTZdO2dbal09azw8MXxrPj4+MzF9dmFyIGw9KGQ8PDV8ZD4+PjI3KStpK2dbal07bCs9MjA+aj8oZSZmfH5lJmgpKzE1MTg1MDAyNDk6NDA+aj8oZV5mXmgpKzE4NTk3NzUzOTM6NjA+aj8oZSZmfGUmaHxmJmgpLTE4OTQwMDc1ODg6KGVeZl5oKS04OTk0OTc1MTQsaT1oLGg9ZixmPWU8PDMwfGU+Pj4yLGU9ZCxkPWx9Y1swXT1jWzBdK2R8MCxjWzFdPWNbMV0rZXwwLGNbMl09Y1syXStmfDAsY1szXT1jWzNdK2h8MCxjWzRdPWNbNF0raXwwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2RhdGEsYj1hLndvcmRzLGM9OCp0aGlzLl9uRGF0YUJ5dGVzLGQ9OCphLnNpZ0J5dGVzO3JldHVybiBiW2Q+Pj41XXw9MTI4PDwyNC1kJTMyLGJbKGQrNjQ+Pj45PDw0KSsxNF09TWF0aC5mbG9vcihjLzQyOTQ5NjcyOTYpLGJbKGQrNjQ+Pj45PDw0KSsxNV09YyxhLnNpZ0J5dGVzPTQqYi5sZW5ndGgsdGhpcy5fcHJvY2VzcygpLHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9ZC5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBhLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSxhfX0pO2EuU0hBMT1kLl9jcmVhdGVIZWxwZXIoaCksYS5IbWFjU0hBMT1kLl9jcmVhdGVIbWFjSGVscGVyKGgpfSgpLGZ1bmN0aW9uKGEpe3t2YXIgYj1mLGM9Yi5saWIsZD1jLkJhc2UsZT1jLldvcmRBcnJheSxnPWIueDY0PXt9O2cuV29yZD1kLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhLGIpe3RoaXMuaGlnaD1hLHRoaXMubG93PWJ9fSksZy5Xb3JkQXJyYXk9ZC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oYixjKXtiPXRoaXMud29yZHM9Ynx8W10sdGhpcy5zaWdCeXRlcz1jIT1hP2M6OCpiLmxlbmd0aH0sdG9YMzI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy53b3JkcyxiPWEubGVuZ3RoLGM9W10sZD0wO2I+ZDtkKyspe3ZhciBmPWFbZF07Yy5wdXNoKGYuaGlnaCksYy5wdXNoKGYubG93KX1yZXR1cm4gZS5jcmVhdGUoYyx0aGlzLnNpZ0J5dGVzKX0sY2xvbmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZC5jbG9uZS5jYWxsKHRoaXMpLGI9YS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGM9Yi5sZW5ndGgsZT0wO2M+ZTtlKyspYltlXT1iW2VdLmNsb25lKCk7cmV0dXJuIGF9fSl9fSgpLGZ1bmN0aW9uKGEpe3ZhciBiPWYsYz1iLmxpYixkPWMuV29yZEFycmF5LGU9Yy5IYXNoZXIsZz1iLmFsZ28saD1bXSxpPVtdOyFmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7Zm9yKHZhciBjPWEuc3FydChiKSxkPTI7Yz49ZDtkKyspaWYoIShiJWQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIDQyOTQ5NjcyOTYqKGEtKDB8YSkpfDB9Zm9yKHZhciBkPTIsZT0wOzY0PmU7KWIoZCkmJig4PmUmJihoW2VdPWMoYS5wb3coZCwuNSkpKSxpW2VdPWMoYS5wb3coZCwxLzMpKSxlKyspLGQrK30oKTt2YXIgaj1bXSxrPWcuU0hBMjU2PWUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGQuaW5pdChoLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX2hhc2gud29yZHMsZD1jWzBdLGU9Y1sxXSxmPWNbMl0sZz1jWzNdLGg9Y1s0XSxrPWNbNV0sbD1jWzZdLG09Y1s3XSxuPTA7NjQ+bjtuKyspe2lmKDE2Pm4paltuXT0wfGFbYituXTtlbHNle3ZhciBvPWpbbi0xNV0scD0obzw8MjV8bz4+PjcpXihvPDwxNHxvPj4+MTgpXm8+Pj4zLHE9altuLTJdLHI9KHE8PDE1fHE+Pj4xNyleKHE8PDEzfHE+Pj4xOSlecT4+PjEwO2pbbl09cCtqW24tN10rcitqW24tMTZdfXZhciBzPWgma15+aCZsLHQ9ZCZlXmQmZl5lJmYsdT0oZDw8MzB8ZD4+PjIpXihkPDwxOXxkPj4+MTMpXihkPDwxMHxkPj4+MjIpLHY9KGg8PDI2fGg+Pj42KV4oaDw8MjF8aD4+PjExKV4oaDw8N3xoPj4+MjUpLHc9bSt2K3MraVtuXStqW25dLHg9dSt0O209bCxsPWssaz1oLGg9Zyt3fDAsZz1mLGY9ZSxlPWQsZD13K3h8MH1jWzBdPWNbMF0rZHwwLGNbMV09Y1sxXStlfDAsY1syXT1jWzJdK2Z8MCxjWzNdPWNbM10rZ3wwLGNbNF09Y1s0XStofDAsY1s1XT1jWzVdK2t8MCxjWzZdPWNbNl0rbHwwLGNbN109Y1s3XSttfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fZGF0YSxjPWIud29yZHMsZD04KnRoaXMuX25EYXRhQnl0ZXMsZT04KmIuc2lnQnl0ZXM7cmV0dXJuIGNbZT4+PjVdfD0xMjg8PDI0LWUlMzIsY1soZSs2ND4+Pjk8PDQpKzE0XT1hLmZsb29yKGQvNDI5NDk2NzI5NiksY1soZSs2ND4+Pjk8PDQpKzE1XT1kLGIuc2lnQnl0ZXM9NCpjLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1lLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGEuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGF9fSk7Yi5TSEEyNTY9ZS5fY3JlYXRlSGVscGVyKGspLGIuSG1hY1NIQTI1Nj1lLl9jcmVhdGVIbWFjSGVscGVyKGspfShNYXRoKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZy5jcmVhdGUuYXBwbHkoZyxhcmd1bWVudHMpfXZhciBiPWYsYz1iLmxpYixkPWMuSGFzaGVyLGU9Yi54NjQsZz1lLldvcmQsaD1lLldvcmRBcnJheSxpPWIuYWxnbyxqPVthKDExMTYzNTI0MDgsMzYwOTc2NzQ1OCksYSgxODk5NDQ3NDQxLDYwMjg5MTcyNSksYSgzMDQ5MzIzNDcxLDM5NjQ0ODQzOTkpLGEoMzkyMTAwOTU3MywyMTczMjk1NTQ4KSxhKDk2MTk4NzE2Myw0MDgxNjI4NDcyKSxhKDE1MDg5NzA5OTMsMzA1MzgzNDI2NSksYSgyNDUzNjM1NzQ4LDI5Mzc2NzE1NzkpLGEoMjg3MDc2MzIyMSwzNjY0NjA5NTYwKSxhKDM2MjQzODEwODAsMjczNDg4MzM5NCksYSgzMTA1OTg0MDEsMTE2NDk5NjU0MiksYSg2MDcyMjUyNzgsMTMyMzYxMDc2NCksYSgxNDI2ODgxOTg3LDM1OTAzMDQ5OTQpLGEoMTkyNTA3ODM4OCw0MDY4MTgyMzgzKSxhKDIxNjIwNzgyMDYsOTkxMzM2MTEzKSxhKDI2MTQ4ODgxMDMsNjMzODAzMzE3KSxhKDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCksYSgzODM1MzkwNDAxLDI2NjY2MTM0NTgpLGEoNDAyMjIyNDc3NCw5NDQ3MTExMzkpLGEoMjY0MzQ3MDc4LDIzNDEyNjI3NzMpLGEoNjA0ODA3NjI4LDIwMDc4MDA5MzMpLGEoNzcwMjU1OTgzLDE0OTU5OTA5MDEpLGEoMTI0OTE1MDEyMiwxODU2NDMxMjM1KSxhKDE1NTUwODE2OTIsMzE3NTIxODEzMiksYSgxOTk2MDY0OTg2LDIxOTg5NTA4MzcpLGEoMjU1NDIyMDg4MiwzOTk5NzE5MzM5KSxhKDI4MjE4MzQzNDksNzY2Nzg0MDE2KSxhKDI5NTI5OTY4MDgsMjU2NjU5NDg3OSksYSgzMjEwMzEzNjcxLDMyMDMzMzc5NTYpLGEoMzMzNjU3MTg5MSwxMDM0NDU3MDI2KSxhKDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSksYSgxMTM5MjY5OTMsMzc1ODMyNjM4MyksYSgzMzgyNDE4OTUsMTY4NzE3OTM2KSxhKDY2NjMwNzIwNSwxMTg4MTc5OTY0KSxhKDc3MzUyOTkxMiwxNTQ2MDQ1NzM0KSxhKDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSksYSgxMzk2MTgyMjkxLDI2NDM4MzM4MjMpLGEoMTY5NTE4MzcwMCwyMzQzNTI3MzkwKSxhKDE5ODY2NjEwNTEsMTAxNDQ3NzQ4MCksYSgyMTc3MDI2MzUwLDEyMDY3NTkxNDIpLGEoMjQ1Njk1NjAzNywzNDQwNzc2MjcpLGEoMjczMDQ4NTkyMSwxMjkwODYzNDYwKSxhKDI4MjAzMDI0MTEsMzE1ODQ1NDI3MyksYSgzMjU5NzMwODAwLDM1MDU5NTI2NTcpLGEoMzM0NTc2NDc3MSwxMDYyMTcwMDgpLGEoMzUxNjA2NTgxNywzNjA2MDA4MzQ0KSxhKDM2MDAzNTI4MDQsMTQzMjcyNTc3NiksYSg0MDk0NTcxOTA5LDE0NjcwMzE1OTQpLGEoMjc1NDIzMzQ0LDg1MTE2OTcyMCksYSg0MzAyMjc3MzQsMzEwMDgyMzc1MiksYSg1MDY5NDg2MTYsMTM2MzI1ODE5NSksYSg2NTkwNjA1NTYsMzc1MDY4NTU5MyksYSg4ODM5OTc4NzcsMzc4NTA1MDI4MCksYSg5NTgxMzk1NzEsMzMxODMwNzQyNyksYSgxMzIyODIyMjE4LDM4MTI3MjM0MDMpLGEoMTUzNzAwMjA2MywyMDAzMDM0OTk1KSxhKDE3NDc4NzM3NzksMzYwMjAzNjg5OSksYSgxOTU1NTYyMjIyLDE1NzU5OTAwMTIpLGEoMjAyNDEwNDgxNSwxMTI1NTkyOTI4KSxhKDIyMjc3MzA0NTIsMjcxNjkwNDMwNiksYSgyMzYxODUyNDI0LDQ0Mjc3NjA0NCksYSgyNDI4NDM2NDc0LDU5MzY5ODM0NCksYSgyNzU2NzM0MTg3LDM3MzMxMTAyNDkpLGEoMzIwNDAzMTQ3OSwyOTk5MzUxNTczKSxhKDMzMjkzMjUyOTgsMzgxNTkyMDQyNyksYSgzMzkxNTY5NjE0LDM5MjgzODM5MDApLGEoMzUxNTI2NzI3MSw1NjYyODA3MTEpLGEoMzk0MDE4NzYwNiwzNDU0MDY5NTM0KSxhKDQxMTg2MzAyNzEsNDAwMDIzOTk5MiksYSgxMTY0MTg0NzQsMTkxNDEzODU1NCksYSgxNzQyOTI0MjEsMjczMTA1NTI3MCksYSgyODkzODAzNTYsMzIwMzk5MzAwNiksYSg0NjAzOTMyNjksMzIwNjIwMzE1KSxhKDY4NTQ3MTczMyw1ODc0OTY4MzYpLGEoODUyMTQyOTcxLDEwODY3OTI4NTEpLGEoMTAxNzAzNjI5OCwzNjU1NDMxMDApLGEoMTEyNjAwMDU4MCwyNjE4Mjk3Njc2KSxhKDEyODgwMzM0NzAsMzQwOTg1NTE1OCksYSgxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYpLGEoMTYwNzE2NzkxNSw5ODcxNjc0NjgpLGEoMTgxNjQwMjMxNiwxMjQ2MTg5NTkxKV0saz1bXTshZnVuY3Rpb24oKXtmb3IodmFyIGI9MDs4MD5iO2IrKylrW2JdPWEoKX0oKTt2YXIgbD1pLlNIQTUxMj1kLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBoLmluaXQoW25ldyBnLmluaXQoMTc3OTAzMzcwMyw0MDg5MjM1NzIwKSxuZXcgZy5pbml0KDMxNDQxMzQyNzcsMjIyNzg3MzU5NSksbmV3IGcuaW5pdCgxMDEzOTA0MjQyLDQyNzExNzU3MjMpLG5ldyBnLmluaXQoMjc3MzQ4MDc2MiwxNTk1NzUwMTI5KSxuZXcgZy5pbml0KDEzNTk4OTMxMTksMjkxNzU2NTEzNyksbmV3IGcuaW5pdCgyNjAwODIyOTI0LDcyNTUxMTE5OSksbmV3IGcuaW5pdCg1Mjg3MzQ2MzUsNDIxNTM4OTU0NyksbmV3IGcuaW5pdCgxNTQxNDU5MjI1LDMyNzAzMzIwOSldKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX2hhc2gud29yZHMsZD1jWzBdLGU9Y1sxXSxmPWNbMl0sZz1jWzNdLGg9Y1s0XSxpPWNbNV0sbD1jWzZdLG09Y1s3XSxuPWQuaGlnaCxvPWQubG93LHA9ZS5oaWdoLHE9ZS5sb3cscj1mLmhpZ2gscz1mLmxvdyx0PWcuaGlnaCx1PWcubG93LHY9aC5oaWdoLHc9aC5sb3cseD1pLmhpZ2gseT1pLmxvdyx6PWwuaGlnaCxBPWwubG93LEI9bS5oaWdoLEM9bS5sb3csRD1uLEU9byxGPXAsRz1xLEg9cixJPXMsSj10LEs9dSxMPXYsTT13LE49eCxPPXksUD16LFE9QSxSPUIsUz1DLFQ9MDs4MD5UO1QrKyl7dmFyIFU9a1tUXTtpZigxNj5UKXZhciBWPVUuaGlnaD0wfGFbYisyKlRdLFc9VS5sb3c9MHxhW2IrMipUKzFdO2Vsc2V7dmFyIFg9a1tULTE1XSxZPVguaGlnaCxaPVgubG93LCQ9KFk+Pj4xfFo8PDMxKV4oWT4+Pjh8Wjw8MjQpXlk+Pj43LF89KFo+Pj4xfFk8PDMxKV4oWj4+Pjh8WTw8MjQpXihaPj4+N3xZPDwyNSksYWI9a1tULTJdLGJiPWFiLmhpZ2gsY2I9YWIubG93LGRiPShiYj4+PjE5fGNiPDwxMyleKGJiPDwzfGNiPj4+MjkpXmJiPj4+NixlYj0oY2I+Pj4xOXxiYjw8MTMpXihjYjw8M3xiYj4+PjI5KV4oY2I+Pj42fGJiPDwyNiksZmI9a1tULTddLGdiPWZiLmhpZ2gsaGI9ZmIubG93LGliPWtbVC0xNl0samI9aWIuaGlnaCxrYj1pYi5sb3csVz1fK2hiLFY9JCtnYisoXz4+PjA+Vz4+PjA/MTowKSxXPVcrZWIsVj1WK2RiKyhlYj4+PjA+Vz4+PjA/MTowKSxXPVcra2IsVj1WK2piKyhrYj4+PjA+Vz4+PjA/MTowKTtVLmhpZ2g9VixVLmxvdz1XfXZhciBsYj1MJk5efkwmUCxtYj1NJk9efk0mUSxuYj1EJkZeRCZIXkYmSCxvYj1FJkdeRSZJXkcmSSxwYj0oRD4+PjI4fEU8PDQpXihEPDwzMHxFPj4+MileKEQ8PDI1fEU+Pj43KSxxYj0oRT4+PjI4fEQ8PDQpXihFPDwzMHxEPj4+MileKEU8PDI1fEQ+Pj43KSxyYj0oTD4+PjE0fE08PDE4KV4oTD4+PjE4fE08PDE0KV4oTDw8MjN8TT4+PjkpLHNiPShNPj4+MTR8TDw8MTgpXihNPj4+MTh8TDw8MTQpXihNPDwyM3xMPj4+OSksdGI9altUXSx1Yj10Yi5oaWdoLHZiPXRiLmxvdyx3Yj1TK3NiLHhiPVIrcmIrKFM+Pj4wPndiPj4+MD8xOjApLHdiPXdiK21iLHhiPXhiK2xiKyhtYj4+PjA+d2I+Pj4wPzE6MCksd2I9d2IrdmIseGI9eGIrdWIrKHZiPj4+MD53Yj4+PjA/MTowKSx3Yj13YitXLHhiPXhiK1YrKFc+Pj4wPndiPj4+MD8xOjApLHliPXFiK29iLHpiPXBiK25iKyhxYj4+PjA+eWI+Pj4wPzE6MCk7Uj1QLFM9USxQPU4sUT1PLE49TCxPPU0sTT1LK3difDAsTD1KK3hiKyhLPj4+MD5NPj4+MD8xOjApfDAsSj1ILEs9SSxIPUYsST1HLEY9RCxHPUUsRT13Yit5YnwwLEQ9eGIremIrKHdiPj4+MD5FPj4+MD8xOjApfDB9bz1kLmxvdz1vK0UsZC5oaWdoPW4rRCsoRT4+PjA+bz4+PjA/MTowKSxxPWUubG93PXErRyxlLmhpZ2g9cCtGKyhHPj4+MD5xPj4+MD8xOjApLHM9Zi5sb3c9cytJLGYuaGlnaD1yK0grKEk+Pj4wPnM+Pj4wPzE6MCksdT1nLmxvdz11K0ssZy5oaWdoPXQrSisoSz4+PjA+dT4+PjA/MTowKSx3PWgubG93PXcrTSxoLmhpZ2g9ditMKyhNPj4+MD53Pj4+MD8xOjApLHk9aS5sb3c9eStPLGkuaGlnaD14K04rKE8+Pj4wPnk+Pj4wPzE6MCksQT1sLmxvdz1BK1EsbC5oaWdoPXorUCsoUT4+PjA+QT4+PjA/MTowKSxDPW0ubG93PUMrUyxtLmhpZ2g9QitSKyhTPj4+MD5DPj4+MD8xOjApfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2RhdGEsYj1hLndvcmRzLGM9OCp0aGlzLl9uRGF0YUJ5dGVzLGQ9OCphLnNpZ0J5dGVzO2JbZD4+PjVdfD0xMjg8PDI0LWQlMzIsYlsoZCsxMjg+Pj4xMDw8NSkrMzBdPU1hdGguZmxvb3IoYy80Mjk0OTY3Mjk2KSxiWyhkKzEyOD4+PjEwPDw1KSszMV09YyxhLnNpZ0J5dGVzPTQqYi5sZW5ndGgsdGhpcy5fcHJvY2VzcygpO3ZhciBlPXRoaXMuX2hhc2gudG9YMzIoKTtyZXR1cm4gZX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1kLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGEuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGF9LGJsb2NrU2l6ZTozMn0pO2IuU0hBNTEyPWQuX2NyZWF0ZUhlbHBlcihsKSxiLkhtYWNTSEE1MTI9ZC5fY3JlYXRlSG1hY0hlbHBlcihsKX0oKSxmdW5jdGlvbihhKXt2YXIgYj1mLGM9Yi5saWIsZD1jLldvcmRBcnJheSxlPWMuSGFzaGVyLGc9Yi54NjQsaD1nLldvcmQsaT1iLmFsZ28saj1bXSxrPVtdLGw9W107IWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTEsYj0wLGM9MDsyND5jO2MrKyl7althKzUqYl09KGMrMSkqKGMrMikvMiU2NDt2YXIgZD1iJTUsZT0oMiphKzMqYiklNTthPWQsYj1lfWZvcih2YXIgYT0wOzU+YTthKyspZm9yKHZhciBiPTA7NT5iO2IrKylrW2ErNSpiXT1iKygyKmErMypiKSU1KjU7Zm9yKHZhciBmPTEsZz0wOzI0Pmc7ZysrKXtmb3IodmFyIGk9MCxtPTAsbj0wOzc+bjtuKyspe2lmKDEmZil7dmFyIG89KDE8PG4pLTE7MzI+bz9tXj0xPDxvOmlePTE8PG8tMzJ9MTI4JmY/Zj1mPDwxXjExMzpmPDw9MX1sW2ddPWguY3JlYXRlKGksbSl9fSgpO3ZhciBtPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgYT0wOzI1PmE7YSsrKW1bYV09aC5jcmVhdGUoKX0oKTt2YXIgbj1pLlNIQTM9ZS5leHRlbmQoe2NmZzplLmNmZy5leHRlbmQoe291dHB1dExlbmd0aDo1MTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9zdGF0ZT1bXSxiPTA7MjU+YjtiKyspYVtiXT1uZXcgaC5pbml0O3RoaXMuYmxvY2tTaXplPSgxNjAwLTIqdGhpcy5jZmcub3V0cHV0TGVuZ3RoKS8zMn0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuX3N0YXRlLGQ9dGhpcy5ibG9ja1NpemUvMixlPTA7ZD5lO2UrKyl7dmFyIGY9YVtiKzIqZV0sZz1hW2IrMiplKzFdO2Y9MTY3MTE5MzUmKGY8PDh8Zj4+PjI0KXw0Mjc4MjU1MzYwJihmPDwyNHxmPj4+OCksZz0xNjcxMTkzNSYoZzw8OHxnPj4+MjQpfDQyNzgyNTUzNjAmKGc8PDI0fGc+Pj44KTt2YXIgaD1jW2VdO2guaGlnaF49ZyxoLmxvd149Zn1mb3IodmFyIGk9MDsyND5pO2krKyl7Zm9yKHZhciBuPTA7NT5uO24rKyl7Zm9yKHZhciBvPTAscD0wLHE9MDs1PnE7cSsrKXt2YXIgaD1jW24rNSpxXTtvXj1oLmhpZ2gscF49aC5sb3d9dmFyIHI9bVtuXTtyLmhpZ2g9byxyLmxvdz1wfWZvcih2YXIgbj0wOzU+bjtuKyspZm9yKHZhciBzPW1bKG4rNCklNV0sdD1tWyhuKzEpJTVdLHU9dC5oaWdoLHY9dC5sb3csbz1zLmhpZ2heKHU8PDF8dj4+PjMxKSxwPXMubG93Xih2PDwxfHU+Pj4zMSkscT0wOzU+cTtxKyspe3ZhciBoPWNbbis1KnFdO2guaGlnaF49byxoLmxvd149cH1mb3IodmFyIHc9MTsyNT53O3crKyl7dmFyIGg9Y1t3XSx4PWguaGlnaCx5PWgubG93LHo9alt3XTtpZigzMj56KXZhciBvPXg8PHp8eT4+PjMyLXoscD15PDx6fHg+Pj4zMi16O2Vsc2UgdmFyIG89eTw8ei0zMnx4Pj4+NjQteixwPXg8PHotMzJ8eT4+PjY0LXo7dmFyIEE9bVtrW3ddXTtBLmhpZ2g9byxBLmxvdz1wfXZhciBCPW1bMF0sQz1jWzBdO0IuaGlnaD1DLmhpZ2gsQi5sb3c9Qy5sb3c7Zm9yKHZhciBuPTA7NT5uO24rKylmb3IodmFyIHE9MDs1PnE7cSsrKXt2YXIgdz1uKzUqcSxoPWNbd10sRD1tW3ddLEU9bVsobisxKSU1KzUqcV0sRj1tWyhuKzIpJTUrNSpxXTtoLmhpZ2g9RC5oaWdoXn5FLmhpZ2gmRi5oaWdoLGgubG93PUQubG93Xn5FLmxvdyZGLmxvd312YXIgaD1jWzBdLEc9bFtpXTtoLmhpZ2hePUcuaGlnaCxoLmxvd149Ry5sb3d9fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX2RhdGEsYz1iLndvcmRzLGU9KDgqdGhpcy5fbkRhdGFCeXRlcyw4KmIuc2lnQnl0ZXMpLGY9MzIqdGhpcy5ibG9ja1NpemU7Y1tlPj4+NV18PTE8PDI0LWUlMzIsY1soYS5jZWlsKChlKzEpL2YpKmY+Pj41KS0xXXw9MTI4LGIuc2lnQnl0ZXM9NCpjLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCk7Zm9yKHZhciBnPXRoaXMuX3N0YXRlLGg9dGhpcy5jZmcub3V0cHV0TGVuZ3RoLzgsaT1oLzgsaj1bXSxrPTA7aT5rO2srKyl7dmFyIGw9Z1trXSxtPWwuaGlnaCxuPWwubG93O209MTY3MTE5MzUmKG08PDh8bT4+PjI0KXw0Mjc4MjU1MzYwJihtPDwyNHxtPj4+OCksbj0xNjcxMTkzNSYobjw8OHxuPj4+MjQpfDQyNzgyNTUzNjAmKG48PDI0fG4+Pj44KSxqLnB1c2gobiksai5wdXNoKG0pfXJldHVybiBuZXcgZC5pbml0KGosaCl9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWUuY2xvbmUuY2FsbCh0aGlzKSxiPWEuX3N0YXRlPXRoaXMuX3N0YXRlLnNsaWNlKDApLGM9MDsyNT5jO2MrKyliW2NdPWJbY10uY2xvbmUoKTtyZXR1cm4gYX19KTtiLlNIQTM9ZS5fY3JlYXRlSGVscGVyKG4pLGIuSG1hY1NIQTM9ZS5fY3JlYXRlSG1hY0hlbHBlcihuKX0oTWF0aCksZSgidW5kZWZpbmVkIiE9dHlwZW9mIGY/Zjp3aW5kb3cuQ3J5cHRvSlMpfS5jYWxsKGMsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGEpe2IuZXhwb3J0cz1hfSl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI6W2Z1bmN0aW9uKGEsYil7KGZ1bmN0aW9uKGMpe19fYnJvd3NlcmlmeV9zaGltX3JlcXVpcmVfXz1hLGZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZnVuY3Rpb24oYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBmKSlyZXR1cm4gbmV3IGYoYSxiKTtpZighSlNPTil0aHJvdyJKU09OIHVuYXZhaWxhYmxlISBJbmNsdWRlIGh0dHA6Ly93d3cuanNvbi5vcmcvanNvbjIuanMgdG8gZml4LiI7aWYoIShhcmd1bWVudHMubGVuZ3RoPD0yJiZhcmd1bWVudHMubGVuZ3RoPjApKXRocm93IkluY29ycmVjdCAjIG9mIGN0b3IgYXJncyEiO2lmKGI9ImZ1bmN0aW9uIj09dHlwZW9mIGFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06YXJndW1lbnRzWzFdLGE9ImZ1bmN0aW9uIj09dHlwZW9mIGFyZ3VtZW50c1swXT97fTphcmd1bWVudHNbMF0sImZ1bmN0aW9uIiE9dHlwZW9mIGIpdGhyb3ciTm8gY2FsbGJhY2sgd2FzIHByb3ZpZGVkIjt0aGlzLnJlY29yZD1hLnJlY29yZHx8InJlY29yZCIsdGhpcy5uYW1lPWEubmFtZXx8InJlY29yZHMiO3ZhciBjO2lmKGEuYWRhcHRlcil7InN0cmluZyI9PXR5cGVvZiBhLmFkYXB0ZXImJihhLmFkYXB0ZXI9W2EuYWRhcHRlcl0pO2Zvcih2YXIgZD0wLGU9YS5hZGFwdGVyLmxlbmd0aDtlPmQ7ZCsrKXtmb3IodmFyIGc9Zi5hZGFwdGVycy5sZW5ndGgtMTtnPj0wJiYoZi5hZGFwdGVyc1tnXS5hZGFwdGVyIT09YS5hZGFwdGVyW2RdfHwhKGM9Zi5hZGFwdGVyc1tnXS52YWxpZCgpP2YuYWRhcHRlcnNbZ106dm9pZCAwKSk7Zy0tKTtpZihjKWJyZWFrfX1lbHNlIGZvcih2YXIgZz0wLGg9Zi5hZGFwdGVycy5sZW5ndGg7aD5nJiYhKGM9Zi5hZGFwdGVyc1tnXS52YWxpZCgpP2YuYWRhcHRlcnNbZ106dm9pZCAwKTtnKyspO2lmKCFjKXRocm93Ik5vIHZhbGlkIGFkYXB0ZXIuIjtmb3IodmFyIGQgaW4gYyl0aGlzW2RdPWNbZF07Zm9yKHZhciBnPTAsaD1mLnBsdWdpbnMubGVuZ3RoO2g+ZztnKyspZi5wbHVnaW5zW2ddLmNhbGwodGhpcyk7dGhpcy5pbml0KGEsYil9O2YuYWRhcHRlcnM9W10sZi5hZGFwdGVyPWZ1bmN0aW9uKGEsYil7Yi5hZGFwdGVyPWE7dmFyIGM9ImFkYXB0ZXIgdmFsaWQgaW5pdCBrZXlzIHNhdmUgYmF0Y2ggZ2V0IGV4aXN0cyBhbGwgcmVtb3ZlIG51a2UiLnNwbGl0KCIgIiksZD10aGlzLnByb3RvdHlwZS5pbmRleE9mO2Zvcih2YXIgZSBpbiBiKWlmKC0xPT09ZChjLGUpKXRocm93IkludmFsaWQgYWRhcHRlciEgTm9uc3RhbmRhcmQgbWV0aG9kOiAiK2U7Zi5hZGFwdGVycy5zcGxpY2UoMCwwLGIpfSxmLnBsdWdpbnM9W10sZi5wbHVnaW49ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpImluaXQiPT09Yj9mLnBsdWdpbnMucHVzaChhW2JdKTp0aGlzLnByb3RvdHlwZVtiXT1hW2JdfSxmLnByb3RvdHlwZT17aXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxpbmRleE9mOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGIpO2ZvcihjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxsYW1iZGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm4odGhpcy5yZWNvcmQsYSl9LGZuOmZ1bmN0aW9uKGEsYil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBiP25ldyBGdW5jdGlvbihhLGIpOmJ9LHV1aWQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybig2NTUzNiooMStNYXRoLnJhbmRvbSgpKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfTtyZXR1cm4gYSgpK2EoKSsiLSIrYSgpKyItIithKCkrIi0iK2EoKSsiLSIrYSgpK2EoKSthKCl9LGVhY2g6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sYW1iZGEoYSk7aWYodGhpcy5fX3Jlc3VsdHMpZm9yKHZhciBjPTAsZD10aGlzLl9fcmVzdWx0cy5sZW5ndGg7ZD5jO2MrKyliLmNhbGwodGhpcyx0aGlzLl9fcmVzdWx0c1tjXSxjKTtlbHNlIHRoaXMuYWxsKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKyliLmNhbGwodGhpcyxhW2NdLGMpfSk7cmV0dXJuIHRoaXN9fSxmLmFkYXB0ZXIoIndpbmRvdy1uYW1lIixmdW5jdGlvbigpeyJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93JiYod2luZG93PXt0b3A6e319KTt2YXIgYT17fTt0cnl7YT1KU09OLnBhcnNlKHdpbmRvdy50b3AubmFtZSl9Y2F0Y2goYil7fXJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LnRvcC5uYW1lfSxpbml0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGFbdGhpcy5uYW1lXT1hW3RoaXMubmFtZV18fHtpbmRleDpbXSxzdG9yZTp7fX0sdGhpcy5pbmRleD1hW3RoaXMubmFtZV0uaW5kZXgsdGhpcy5zdG9yZT1hW3RoaXMubmFtZV0uc3RvcmUsdGhpcy5mbih0aGlzLm5hbWUsYykuY2FsbCh0aGlzLHRoaXMpLHRoaXN9LGtleXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm4oImtleXMiLGEpLmNhbGwodGhpcyx0aGlzLmluZGV4KSx0aGlzfSxzYXZlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5rZXl8fHRoaXMudXVpZCgpO3JldHVybiB0aGlzLmV4aXN0cyhkLGZ1bmN0aW9uKGUpe2V8fChiLmtleSYmZGVsZXRlIGIua2V5LHRoaXMuaW5kZXgucHVzaChkKSksdGhpcy5zdG9yZVtkXT1iO3RyeXt3aW5kb3cudG9wLm5hbWU9SlNPTi5zdHJpbmdpZnkoYSl9Y2F0Y2goZil7dGhyb3cgZXx8KHRoaXMuaW5kZXgucG9wKCksZGVsZXRlIHRoaXMuc3RvcmVbZF0pLGZ9YyYmKGIua2V5PWQsdGhpcy5sYW1iZGEoYykuY2FsbCh0aGlzLGIpKX0pLHRoaXN9LGJhdGNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspdGhpcy5zYXZlKGFbZF0sZnVuY3Rpb24oYSl7Yy5wdXNoKGEpfSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih0aGlzLmlzQXJyYXkoYSkpe2M9W107Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWMucHVzaCh0aGlzLnN0b3JlW2FbZF1dKX1lbHNlIGM9dGhpcy5zdG9yZVthXSxjJiYoYy5rZXk9YSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxleGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLCEhdGhpcy5zdG9yZVthXSksdGhpc30sYWxsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD10aGlzLmluZGV4Lmxlbmd0aDtkPmM7YysrKXt2YXIgZT10aGlzLnN0b3JlW3RoaXMuaW5kZXhbY11dO2Uua2V5PXRoaXMuaW5kZXhbY10sYi5wdXNoKGUpfXJldHVybiB0aGlzLmZuKHRoaXMubmFtZSxhKS5jYWxsKHRoaXMsYiksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXRoaXMuaXNBcnJheShiKT9iOltiXSxlPTAsZj1kLmxlbmd0aDtmPmU7ZSsrKXt2YXIgZz1kW2VdLmtleT9kW2VdLmtleTpkW2VdLGg9dGhpcy5pbmRleE9mKHRoaXMuaW5kZXgsZyk7MD5ofHwoZGVsZXRlIHRoaXMuc3RvcmVbZ10sdGhpcy5pbmRleC5zcGxpY2UoaCwxKSl9cmV0dXJuIHdpbmRvdy50b3AubmFtZT1KU09OLnN0cmluZ2lmeShhKSxjJiZ0aGlzLmxhbWJkYShjKS5jYWxsKHRoaXMpLHRoaXN9LG51a2U6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuc3RvcmU9YVt0aGlzLm5hbWVdLnN0b3JlPXt9LHRoaXMuaW5kZXg9YVt0aGlzLm5hbWVdLmluZGV4PVtdLHdpbmRvdy50b3AubmFtZT1KU09OLnN0cmluZ2lmeShhKSxiJiZ0aGlzLmxhbWJkYShiKS5jYWxsKHRoaXMpLHRoaXN9fX0oKSksZi5hZGFwdGVyKCJkb20iLGZ1bmN0aW9uKCl7dmFyIGE9bnVsbDt0cnl7YT13aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGIpe312YXIgYz1mdW5jdGlvbihiKXtyZXR1cm57a2V5OmIrIi5faW5kZXhfIixhbGw6ZnVuY3Rpb24oKXt2YXIgYj1hLmdldEl0ZW0odGhpcy5rZXkpO3JldHVybiBiJiYoYj1KU09OLnBhcnNlKGIpKSxudWxsPT09YiYmYS5zZXRJdGVtKHRoaXMua2V5LEpTT04uc3RyaW5naWZ5KFtdKSksSlNPTi5wYXJzZShhLmdldEl0ZW0odGhpcy5rZXkpKX0sYWRkOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuYWxsKCk7Yy5wdXNoKGIpLGEuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShjKSl9LGRlbDpmdW5jdGlvbihiKXtmb3IodmFyIGM9dGhpcy5hbGwoKSxkPVtdLGU9MCxmPWMubGVuZ3RoO2Y+ZTtlKyspY1tlXSE9YiYmZC5wdXNoKGNbZV0pO2Euc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShkKSl9LGZpbmQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuYWxsKCksYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylpZihhPT09YltjXSlyZXR1cm4gYztyZXR1cm4hMX19fTtyZXR1cm57dmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWEmJmZ1bmN0aW9uKCl7dmFyIGI9ITAsYz1NYXRoLnJhbmRvbSgpO3RyeXthLnNldEl0ZW0oYyxjKX1jYXRjaChkKXtiPSExfXJldHVybiBhLnJlbW92ZUl0ZW0oYyksYn0oKX0saW5pdDpmdW5jdGlvbihhLGIpe3RoaXMuaW5kZXhlcj1jKHRoaXMubmFtZSksYiYmdGhpcy5mbih0aGlzLm5hbWUsYikuY2FsbCh0aGlzLHRoaXMpfSxzYXZlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5rZXk/dGhpcy5uYW1lKyIuIitiLmtleTp0aGlzLm5hbWUrIi4iK3RoaXMudXVpZCgpO3JldHVybiBkZWxldGUgYi5rZXksYS5zZXRJdGVtKGQsSlNPTi5zdHJpbmdpZnkoYikpLHRoaXMuaW5kZXhlci5maW5kKGQpPT09ITEmJnRoaXMuaW5kZXhlci5hZGQoZCksYi5rZXk9ZC5zbGljZSh0aGlzLm5hbWUubGVuZ3RoKzEpLGMmJnRoaXMubGFtYmRhKGMpLmNhbGwodGhpcyxiKSx0aGlzfSxiYXRjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKXRoaXMuc2F2ZShhW2RdLGZ1bmN0aW9uKGEpe2MucHVzaChhKX0pO3JldHVybiBiJiZ0aGlzLmxhbWJkYShiKS5jYWxsKHRoaXMsYyksdGhpc30sa2V5czpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLm5hbWUsYz10aGlzLmluZGV4ZXIuYWxsKCksZD1bXTtpZihBcnJheS5wcm90b3R5cGUubWFwKWQ9Yy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShiKyIuIiwiIil9KTtlbHNlIGZvcih2YXIgZSBpbiBjKWQucHVzaChlLnJlcGxhY2UoYisiLiIsIiIpKTt0aGlzLmZuKCJrZXlzIixhKS5jYWxsKHRoaXMsZCl9cmV0dXJuIHRoaXN9LGdldDpmdW5jdGlvbihiLGMpe2lmKHRoaXMuaXNBcnJheShiKSl7Zm9yKHZhciBkPVtdLGU9MCxmPWIubGVuZ3RoO2Y+ZTtlKyspe3ZhciBnPXRoaXMubmFtZSsiLiIrYltlXSxoPWEuZ2V0SXRlbShnKTtoJiYoaD1KU09OLnBhcnNlKGgpLGgua2V5PWJbZV0pLGQucHVzaChoKX1jJiZ0aGlzLmxhbWJkYShjKS5jYWxsKHRoaXMsZCl9ZWxzZXt2YXIgZz10aGlzLm5hbWUrIi4iK2IsaD1hLmdldEl0ZW0oZyk7aCYmKGg9SlNPTi5wYXJzZShoKSxoLmtleT1iKSxjJiZ0aGlzLmxhbWJkYShjKS5jYWxsKHRoaXMsaCl9cmV0dXJuIHRoaXN9LGV4aXN0czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaW5kZXhlci5maW5kKHRoaXMubmFtZSsiLiIrYSk9PT0hMT8hMTohMDtyZXR1cm4gdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLGMpLHRoaXN9LGFsbDpmdW5jdGlvbihiKXtmb3IodmFyIGMsZCxlPXRoaXMuaW5kZXhlci5hbGwoKSxmPVtdLGc9MCxoPWUubGVuZ3RoO2g+ZztnKyspZD1lW2ddLGM9SlNPTi5wYXJzZShhLmdldEl0ZW0oZCkpLGMua2V5PWQucmVwbGFjZSh0aGlzLm5hbWUrIi4iLCIiKSxmLnB1c2goYyk7cmV0dXJuIGImJnRoaXMuZm4odGhpcy5uYW1lLGIpLmNhbGwodGhpcyxmKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzO2lmKHRoaXMuaXNBcnJheShiKSl7dmFyIGUsZj1iLmxlbmd0aCxnPWZ1bmN0aW9uKGEpe2QucmVtb3ZlKGJbYV0sZnVuY3Rpb24oKXstLWY+MHx8YyYmZC5sYW1iZGEoYykuY2FsbChkKX0pfTtmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKWcoZSk7cmV0dXJuIHRoaXN9dmFyIGg9dGhpcy5uYW1lKyIuIisoYi5rZXk/Yi5rZXk6Yik7cmV0dXJuIHRoaXMuaW5kZXhlci5kZWwoaCksYS5yZW1vdmVJdGVtKGgpLGMmJnRoaXMubGFtYmRhKGMpLmNhbGwodGhpcyksdGhpc30sbnVrZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hbGwoZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXRoaXMucmVtb3ZlKGJbY10pO2EmJnRoaXMubGFtYmRhKGEpLmNhbGwodGhpcyl9KSx0aGlzfX19KCkpLGYuYWRhcHRlcigid2Via2l0LXNxbGl0ZSIsZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe2NvbnNvbGUmJmNvbnNvbGUubG9nKCJlcnJvciBpbiBzcWxpdGUgYWRhcHRvciEiLGEsYil9LGI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGV9O3JldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEhd2luZG93Lm9wZW5EYXRhYmFzZX0saW5pdDpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMsZT1kLmZuKGQubmFtZSxjKSxmPSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK3RoaXMucmVjb3JkKyIgKGlkIE5WQVJDSEFSKDMyKSBVTklRVUUgUFJJTUFSWSBLRVksIHZhbHVlIFRFWFQsIHRpbWVzdGFtcCBSRUFMKSIsZz1mdW5jdGlvbigpe3JldHVybiBlLmNhbGwoZCxkKX07YiYmImZ1bmN0aW9uIj09dHlwZW9mIGIuZmFpbCYmKGE9Yi5mYWlsKSx0aGlzLmRiPW9wZW5EYXRhYmFzZSh0aGlzLm5hbWUsIjEuMC4wIix0aGlzLm5hbWUsNjU1MzYpLHRoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24oYil7Yi5leGVjdXRlU3FsKGYsW10sZyxhKX0pfSxrZXlzOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMubGFtYmRhKGIpLGQ9dGhpcyxlPSJTRUxFQ1QgaWQgRlJPTSAiK3RoaXMucmVjb3JkKyIgT1JERVIgQlkgdGltZXN0YW1wIERFU0MiO3JldHVybiB0aGlzLmRiLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihiKXt2YXIgZj1mdW5jdGlvbihhLGIpe2lmKDA9PWIucm93cy5sZW5ndGgpYy5jYWxsKGQsW10pO2Vsc2V7Zm9yKHZhciBlPVtdLGY9MCxnPWIucm93cy5sZW5ndGg7Zz5mO2YrKyllLnB1c2goYi5yb3dzLml0ZW0oZikuaWQpO2MuY2FsbChkLGUpfX07Yi5leGVjdXRlU3FsKGUsW10sZixhKX0pLHRoaXN9LHNhdmU6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPXRoaXM7b2Jqcz0odGhpcy5pc0FycmF5KGMpP2M6W2NdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEua2V5fHwoYS5rZXk9Zi51dWlkKCkpLGF9KSxpbnM9IklOU0VSVCBPUiBSRVBMQUNFIElOVE8gIit0aGlzLnJlY29yZCsiICh2YWx1ZSwgdGltZXN0YW1wLCBpZCkgVkFMVUVTICg/LD8sPykiLHdpbj1mdW5jdGlvbigpe2QmJmYubGFtYmRhKGQpLmNhbGwoZixmLmlzQXJyYXkoYyk/b2JqczpvYmpzWzBdKX0sZT1lfHxmdW5jdGlvbigpe30saW5zdmFscz1bXSx0cz1iKCk7dHJ5e2Zvcih2YXIgZz0wLGg9b2Jqcy5sZW5ndGg7aD5nO2crKylpbnN2YWxzW2ddPVtKU09OLnN0cmluZ2lmeShvYmpzW2ddKSx0cyxvYmpzW2ddLmtleV19Y2F0Y2goaSl7dGhyb3cgYShpKSxpfXJldHVybiBmLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9b2Jqcy5sZW5ndGg7Yz5iO2IrKylhLmV4ZWN1dGVTcWwoaW5zLGluc3ZhbHNbYl0pfSxmdW5jdGlvbihiLGMpe2EoYixjKX0sd2luKSx0aGlzfSxiYXRjaDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNhdmUoYSxiKX0sZ2V0OmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcyxlPSIiLGY9dGhpcy5pc0FycmF5KGIpP2I6W2JdO2U9IlNFTEVDVCBpZCwgdmFsdWUgRlJPTSAiK3RoaXMucmVjb3JkKyIgV0hFUkUgaWQgSU4gKCIrZi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4iPyJ9KS5qb2luKCIsIikrIikiO3ZhciBnPWZ1bmN0aW9uKGEsZSl7Zm9yKHZhciBnLGgsaT17fSxqPTAsaz1lLnJvd3MubGVuZ3RoO2s+ajtqKyspZz1KU09OLnBhcnNlKGUucm93cy5pdGVtKGopLnZhbHVlKSxnLmtleT1lLnJvd3MuaXRlbShqKS5pZCxpW2cua2V5XT1nO2g9Zi5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGlbYV19KSxkLmlzQXJyYXkoYil8fChoPWgubGVuZ3RoP2hbMF06bnVsbCksYyYmZC5sYW1iZGEoYykuY2FsbChkLGgpfTtyZXR1cm4gdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24oYil7Yi5leGVjdXRlU3FsKGUsZixnLGEpfSksdGhpc30sZXhpc3RzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9IlNFTEVDVCAqIEZST00gIit0aGlzLnJlY29yZCsiIFdIRVJFIGlkID0gPyIsZT10aGlzLGY9ZnVuY3Rpb24oYSxiKXtjJiZlLmZuKCJleGlzdHMiLGMpLmNhbGwoZSxiLnJvd3MubGVuZ3RoPjApfTtyZXR1cm4gdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24oYyl7Yy5leGVjdXRlU3FsKGQsW2JdLGYsYSl9KSx0aGlzCn0sYWxsOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD0iU0VMRUNUICogRlJPTSAiK3RoaXMucmVjb3JkLGU9W10sZj10aGlzLmZuKHRoaXMubmFtZSxiKXx8dm9pZCAwLGc9ZnVuY3Rpb24oYSxiKXtpZigwIT1iLnJvd3MubGVuZ3RoKWZvcih2YXIgZD0wLGc9Yi5yb3dzLmxlbmd0aDtnPmQ7ZCsrKXt2YXIgaD1KU09OLnBhcnNlKGIucm93cy5pdGVtKGQpLnZhbHVlKTtoLmtleT1iLnJvd3MuaXRlbShkKS5pZCxlLnB1c2goaCl9ZiYmZi5jYWxsKGMsZSl9O3JldHVybiB0aGlzLmRiLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihiKXtiLmV4ZWN1dGVTcWwoZCxbXSxnLGEpfSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLGY9IkRFTEVURSBGUk9NICIrdGhpcy5yZWNvcmQrIiBXSEVSRSBpZCAiLGc9ZnVuY3Rpb24oKXtjJiZlLmxhbWJkYShjKS5jYWxsKGUpfTtyZXR1cm4gdGhpcy5pc0FycmF5KGIpPyhkPWIsZis9IklOICgiK2QubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIj8ifSkuam9pbigiLCIpKyIpIik6KGYrPSI9ID8iLGQ9W2JdKSxkPWQubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmtleT9hLmtleTphfSksdGhpcy5kYi50cmFuc2FjdGlvbihmdW5jdGlvbihiKXtiLmV4ZWN1dGVTcWwoZixkLGcsYSl9KSx0aGlzfSxudWtlOmZ1bmN0aW9uKGIpe3ZhciBjPSJERUxFVEUgRlJPTSAiK3RoaXMucmVjb3JkLGQ9dGhpcyxlPWI/ZnVuY3Rpb24oKXtkLmxhbWJkYShiKS5jYWxsKGQpfTpmdW5jdGlvbigpe307cmV0dXJuIHRoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24oYil7Yi5leGVjdXRlU3FsKGMsW10sZSxhKX0pLHRoaXN9fX0oKSksZi5hZGFwdGVyKCJodG1sNS1maWxlc3lzdGVtIixmdW5jdGlvbihhKXt2YXIgYj1hLkZpbGVFcnJvcixjPWZ1bmN0aW9uKGEpe3ZhciBjLGQ9ITA7c3dpdGNoKGEuY29kZSl7Y2FzZSBiLlFVT1RBX0VYQ0VFREVEX0VSUjpjPSJRVU9UQV9FWENFRURFRF9FUlIiO2JyZWFrO2Nhc2UgYi5OT1RfRk9VTkRfRVJSOmM9Ik5PVF9GT1VORF9FUlIiLGQ9ITE7YnJlYWs7Y2FzZSBiLlNFQ1VSSVRZX0VSUjpjPSJTRUNVUklUWV9FUlIiO2JyZWFrO2Nhc2UgYi5JTlZBTElEX01PRElGSUNBVElPTl9FUlI6Yz0iSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSIjticmVhaztjYXNlIGIuSU5WQUxJRF9TVEFURV9FUlI6Yz0iSU5WQUxJRF9TVEFURV9FUlIiO2JyZWFrO2RlZmF1bHQ6Yz0iVW5rbm93biBFcnJvciJ9Y29uc29sZSYmZCYmY29uc29sZS5lcnJvcihhLGMpfSxkPWZ1bmN0aW9uKGEsYixlKXt2YXIgZj1lfHxbXTthLnJlYWRFbnRyaWVzKGZ1bmN0aW9uKGMpe2MubGVuZ3RoP2QoYSxiLGYuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGMpKSk6YiYmYihmLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lfSkpfSxjKX0sZT17fSxmPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZVthLm5hbWVdO2M/YihjKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihhLGIpfSwxMCl9LGc9ZnVuY3Rpb24oKXt2YXIgYT0tMT09PWRvY3VtZW50LlVSTC5pbmRleE9mKCJodHRwOi8vIikmJi0xPT09ZG9jdW1lbnQuVVJMLmluZGV4T2YoImh0dHBzOi8vIik7cmV0dXJuIGE/ITA6ITF9LGg9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoZygpKWI9YTtlbHNle3ZhciBjPSJhcHBsaWNhdGlvbi9qc29uIjt0cnl7Yj1uZXcgQmxvYihbYV0se3R5cGU6Y30pfWNhdGNoKGQpe3ZhciBlPXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyO2lmKCJUeXBlRXJyb3IiPT1kLm5hbWUmJmUpe3ZhciBmPW5ldyBlO2YuYXBwZW5kKFthLmJ1ZmZlcl0pLGI9Zi5nZXRCbG9iKGMpfWVsc2UgYj1hfX1yZXR1cm4gYn07cmV0dXJue3ZhbGlkOmZ1bmN0aW9uKCl7dmFyIGI9YS5yZXF1ZXN0RmlsZVN5c3RlbXx8YS53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbXx8YS5tb3pfcmVxdWVzdEZpbGVTeXN0ZW07cmV0dXJuISFifSxpbml0OmZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gZihiKXt2YXIgYz1hLnJlcXVlc3RGaWxlU3lzdGVtfHxhLndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtfHxhLm1vel9yZXF1ZXN0RmlsZVN5c3RlbSxmPXdpbmRvdy5QRVJTSVNURU5UOyJ1bmRlZmluZWQiIT10eXBlb2YgTG9jYWxGaWxlU3lzdGVtJiYidW5kZWZpbmVkIiE9dHlwZW9mIExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5UJiYoZj1Mb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCksYyhmLGIsZnVuY3Rpb24oYSl7YS5yb290LmdldERpcmVjdG9yeShqLHtjcmVhdGU6ITB9LGZ1bmN0aW9uKGEpe2Vbal09YSxkJiZnLmZuKGcubmFtZSxkKS5jYWxsKGcsZyl9LGZ1bmN0aW9uKGEpe2goYSl9KX0sZnVuY3Rpb24oYSl7aChhKX0pfXZhciBnPXRoaXMsaD1mdW5jdGlvbihhKXtjKGEpLGQmJmcuZm4oZy5uYW1lLGQpLmNhbGwoZyxnKX0saT1iLnNpemV8fDEwNDg1NzYwMCxqPXRoaXMubmFtZTtnLmJhY2t1cD0hMSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuYmFja3VwJiYoZy5iYWNrdXA9Yi5iYWNrdXApLCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLndlYmtpdFBlcnNpc3RlbnRTdG9yYWdlP25hdmlnYXRvci53ZWJraXRQZXJzaXN0ZW50U3RvcmFnZS5yZXF1ZXN0UXVvdGEoaSxmLGZ1bmN0aW9uKCl7bG9nZ2VyLndhcm4oIlVzZXIgZGVjbGluZWQgZmlsZSBzdG9yYWdlIiksaCgiVXNlciBkZWNsaW5lZCBmaWxlIHN0b3JhZ2UiKX0pOmYoMCl9LGtleXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gZih0aGlzLGZ1bmN0aW9uKGMpe2QoYy5jcmVhdGVSZWFkZXIoKSxmdW5jdGlvbihjKXthJiZiLmZuKCJrZXlzIixhKS5jYWxsKGIsYyl9KX0pLHRoaXN9LHNhdmU6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9YS5rZXl8fHRoaXMudXVpZCgpO2Eua2V5PWU7dmFyIGc9ZnVuY3Rpb24oYSl7YyhhKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQpfTtyZXR1cm4gZih0aGlzLGZ1bmN0aW9uKGMpe3ZhciBmPWZ1bmN0aW9uKGMsZSl7Yy5jcmVhdGVXcml0ZXIoZnVuY3Rpb24oYyl7Yy5vbmVycm9yPWUsYy5vbndyaXRlZW5kPWZ1bmN0aW9uKCl7dGhpcy5vbndyaXRlZW5kPW51bGwsdGhpcy50cnVuY2F0ZSh0aGlzLnBvc2l0aW9uKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQsYSl9O3ZhciBmPUpTT04uc3RyaW5naWZ5KGEpLGc9aChmKTtjLndyaXRlKGcpfSxlKX07Yy5nZXRGaWxlKGUse2NyZWF0ZTohMH0sZnVuY3Rpb24oYSl7ImZ1bmN0aW9uIiE9dHlwZW9mIGEuc2V0TWV0YWRhdGF8fGQuYmFja3VwIT09ITEmJiJmYWxzZSIhPT1kLmJhY2t1cD9mKGEsZyk6YS5zZXRNZXRhZGF0YShmdW5jdGlvbigpe2YoYSxnKX0sZnVuY3Rpb24oKXtmKGEsZyl9LHsiY29tLmFwcGxlLk1vYmlsZUJhY2t1cCI6MX0pfSxnKX0pLHRoaXN9LGJhdGNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMsZD1bXSxlPTAsZj1hLmxlbmd0aDtmPmU7ZSsrKWMuc2F2ZShhW2VdLGZ1bmN0aW9uKGEpe2QucHVzaChhKSxkLmxlbmd0aD09PWYmJmImJmMubGFtYmRhKGIpLmNhbGwoYyxkKX0pO3JldHVybiB0aGlzfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzO2lmKHRoaXMuaXNBcnJheShhKSlmb3IodmFyIGU9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkLmdldChhW2ddLGZ1bmN0aW9uKGEpe2EmJmUucHVzaChhKSxlLmxlbmd0aD09PWgmJmImJmQubGFtYmRhKGIpLmNhbGwoZCxlKX0pO2Vsc2V7dmFyIGk9ZnVuY3Rpb24oYSl7YyhhKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQpfTtmKHRoaXMsZnVuY3Rpb24oYyl7Yy5nZXRGaWxlKGEse2NyZWF0ZTohMX0sZnVuY3Rpb24oYyl7Yy5maWxlKGZ1bmN0aW9uKGMpe3ZhciBlPW5ldyBGaWxlUmVhZGVyO2Uub25lcnJvcj1pLGUub25sb2FkPWZ1bmN0aW9uKGMpe3ZhciBlPXt9O3RyeXtlPUpTT04ucGFyc2UoYy50YXJnZXQucmVzdWx0KSxlLmtleT1hfWNhdGNoKGMpe2U9e2tleTphfX1iJiZkLmxhbWJkYShiKS5jYWxsKGQsZSl9LGUucmVhZEFzVGV4dChjKX0saSl9LGkpfSl9cmV0dXJuIHRoaXN9LGV4aXN0czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGYodGhpcyxmdW5jdGlvbihkKXtkLmdldEZpbGUoYSx7Y3JlYXRlOiExfSxmdW5jdGlvbigpe2ImJmMubGFtYmRhKGIpLmNhbGwoYywhMCl9LGZ1bmN0aW9uKCl7YiYmYy5sYW1iZGEoYikuY2FsbChjLCExKX0pfSksdGhpc30sYWxsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGEmJnRoaXMua2V5cyhmdW5jdGlvbihjKXtjLmxlbmd0aD9iLmdldChjLGZ1bmN0aW9uKGMpe2IuZm4oYi5uYW1lLGEpLmNhbGwoYixjKX0pOmIuZm4oYi5uYW1lLGEpLmNhbGwoYixbXSl9KSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9ZnVuY3Rpb24oYSl7YyhhKSxiJiZkLmxhbWJkYShiKS5jYWxsKGQpfTtyZXR1cm4gZih0aGlzLGZ1bmN0aW9uKGMpe2MuZ2V0RmlsZSgic3RyaW5nIj09dHlwZW9mIGE/YTphLmtleSx7Y3JlYXRlOiExfSxmdW5jdGlvbihhKXthLnJlbW92ZShmdW5jdGlvbigpe2ImJmQubGFtYmRhKGIpLmNhbGwoZCl9LGUpfSxlKX0pLHRoaXN9LG51a2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPTA7cmV0dXJuIHRoaXMua2V5cyhmdW5jdGlvbihkKXtpZihkLmxlbmd0aClmb3IodmFyIGU9MCxmPWQubGVuZ3RoO2Y+ZTtlKyspYi5yZW1vdmUoZFtlXSxmdW5jdGlvbigpe2MrKyxjPT09ZiYmYSYmYi5sYW1iZGEoYSkuY2FsbChiKX0pO2Vsc2UgYSYmYi5sYW1iZGEoYSkuY2FsbChiKX0pLHRoaXN9fX0odGhpcykpLGYuYWRhcHRlcigibWVtb3J5IixmdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxpbml0OmZ1bmN0aW9uKGIsYyl7YVt0aGlzLm5hbWVdPWFbdGhpcy5uYW1lXXx8e2luZGV4OltdLHN0b3JlOnt9fSx0aGlzLmluZGV4PWFbdGhpcy5uYW1lXS5pbmRleCx0aGlzLnN0b3JlPWFbdGhpcy5uYW1lXS5zdG9yZTt2YXIgZD10aGlzLmZuKHRoaXMubmFtZSxjKTtyZXR1cm4gZCYmZC5jYWxsKHRoaXMsdGhpcyksdGhpc30sa2V5czpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mbigia2V5cyIsYSkuY2FsbCh0aGlzLHRoaXMuaW5kZXgpLHRoaXN9LHNhdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmtleXx8dGhpcy51dWlkKCk7cmV0dXJuIHRoaXMuZXhpc3RzKGMsZnVuY3Rpb24oZCl7ZHx8KGEua2V5JiZkZWxldGUgYS5rZXksdGhpcy5pbmRleC5wdXNoKGMpKSx0aGlzLnN0b3JlW2NdPWEsYiYmKGEua2V5PWMsdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLGEpKX0pLHRoaXN9LGJhdGNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspdGhpcy5zYXZlKGFbZF0sZnVuY3Rpb24oYSl7Yy5wdXNoKGEpfSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih0aGlzLmlzQXJyYXkoYSkpe2M9W107Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWMucHVzaCh0aGlzLnN0b3JlW2FbZF1dKX1lbHNlIGM9dGhpcy5zdG9yZVthXSxjJiYoYy5rZXk9YSk7cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyxjKSx0aGlzfSxleGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzLCEhdGhpcy5zdG9yZVthXSksdGhpc30sYWxsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD10aGlzLmluZGV4Lmxlbmd0aDtkPmM7YysrKXt2YXIgZT10aGlzLnN0b3JlW3RoaXMuaW5kZXhbY11dO2Uua2V5PXRoaXMuaW5kZXhbY10sYi5wdXNoKGUpfXJldHVybiB0aGlzLmZuKHRoaXMubmFtZSxhKS5jYWxsKHRoaXMsYiksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuaXNBcnJheShhKT9hOlthXSxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj1jW2RdLmtleT9jW2RdLmtleTpjW2RdLGc9dGhpcy5pbmRleE9mKHRoaXMuaW5kZXgsZik7MD5nfHwoZGVsZXRlIHRoaXMuc3RvcmVbZl0sdGhpcy5pbmRleC5zcGxpY2UoZywxKSl9cmV0dXJuIGImJnRoaXMubGFtYmRhKGIpLmNhbGwodGhpcyksdGhpc30sbnVrZTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5zdG9yZT1hW3RoaXMubmFtZV0uc3RvcmU9e30sdGhpcy5pbmRleD1hW3RoaXMubmFtZV0uaW5kZXg9W10sYiYmdGhpcy5sYW1iZGEoYikuY2FsbCh0aGlzKSx0aGlzfX19KCkpLGUoInVuZGVmaW5lZCIhPXR5cGVvZiBmP2Y6d2luZG93Lkxhd25jaGFpcil9LmNhbGwoYyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oYSl7Yi5leHBvcnRzPWF9KX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKGdsb2JhbCl7X19icm93c2VyaWZ5X3NoaW1fcmVxdWlyZV9fPV9kZXJlcV8sZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLGV4cG9ydHMsX2RlcmVxXyxkZWZpbmUsYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18pe3ZhciBKU09OO0pTT058fChKU09OPXt9KSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKGEpe3JldHVybiAxMD5hPyIwIithOmF9ZnVuY3Rpb24gcXVvdGUoYSl7cmV0dXJuIGVzY2FwYWJsZS5sYXN0SW5kZXg9MCxlc2NhcGFibGUudGVzdChhKT8nIicrYS5yZXBsYWNlKGVzY2FwYWJsZSxmdW5jdGlvbihhKXt2YXIgYj1tZXRhW2FdO3JldHVybiJzdHJpbmciPT10eXBlb2YgYj9iOiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJyInOiciJythKyciJ31mdW5jdGlvbiBzdHIoYSxiKXt2YXIgYyxkLGUsZixnLGg9Z2FwLGk9YlthXTtzd2l0Y2goaSYmIm9iamVjdCI9PXR5cGVvZiBpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS50b0pTT04mJihpPWkudG9KU09OKGEpKSwiZnVuY3Rpb24iPT10eXBlb2YgcmVwJiYoaT1yZXAuY2FsbChiLGEsaSkpLHR5cGVvZiBpKXtjYXNlInN0cmluZyI6cmV0dXJuIHF1b3RlKGkpO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoaSk/U3RyaW5nKGkpOiJudWxsIjtjYXNlImJvb2xlYW4iOmNhc2UibnVsbCI6cmV0dXJuIFN0cmluZyhpKTtjYXNlIm9iamVjdCI6aWYoIWkpcmV0dXJuIm51bGwiO2lmKGdhcCs9aW5kZW50LGc9W10sIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoaSkpe2ZvcihmPWkubGVuZ3RoLGM9MDtmPmM7Yys9MSlnW2NdPXN0cihjLGkpfHwibnVsbCI7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJbXSI6Z2FwPyJbXG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIl0iOiJbIitnLmpvaW4oIiwiKSsiXSIsZ2FwPWgsZX1pZihyZXAmJiJvYmplY3QiPT10eXBlb2YgcmVwKWZvcihmPXJlcC5sZW5ndGgsYz0wO2Y+YztjKz0xKSJzdHJpbmciPT10eXBlb2YgcmVwW2NdJiYoZD1yZXBbY10sZT1zdHIoZCxpKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSkpO2Vsc2UgZm9yKGQgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxkKSYmKGU9c3RyKGQsaSksZSYmZy5wdXNoKHF1b3RlKGQpKyhnYXA/IjogIjoiOiIpK2UpKTtyZXR1cm4gZT0wPT09Zy5sZW5ndGg/Int9IjpnYXA/IntcbiIrZ2FwK2cuam9pbigiLFxuIitnYXApKyJcbiIraCsifSI6InsiK2cuam9pbigiLCIpKyJ9IixnYXA9aCxlfX0iZnVuY3Rpb24iIT10eXBlb2YgRGF0ZS5wcm90b3R5cGUudG9KU09OJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMudmFsdWVPZigpKT90aGlzLmdldFVUQ0Z1bGxZZWFyKCkrIi0iK2YodGhpcy5nZXRVVENNb250aCgpKzEpKyItIitmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsiVCIrZih0aGlzLmdldFVUQ0hvdXJzKCkpKyI6IitmKHRoaXMuZ2V0VVRDTWludXRlcygpKSsiOiIrZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrIloiOm51bGx9LFN0cmluZy5wcm90b3R5cGUudG9KU09OPU51bWJlci5wcm90b3R5cGUudG9KU09OPUJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlT2YoKX0pO3ZhciBjeD0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnYXAsaW5kZW50LG1ldGE9eyJcYiI6IlxcYiIsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0scmVwOyJmdW5jdGlvbiIhPXR5cGVvZiBKU09OLnN0cmluZ2lmeSYmKEpTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihnYXA9IiIsaW5kZW50PSIiLCJudW1iZXIiPT10eXBlb2YgYylmb3IoZD0wO2M+ZDtkKz0xKWluZGVudCs9IiAiO2Vsc2Uic3RyaW5nIj09dHlwZW9mIGMmJihpbmRlbnQ9Yyk7aWYocmVwPWIsYiYmImZ1bmN0aW9uIiE9dHlwZW9mIGImJigib2JqZWN0IiE9dHlwZW9mIGJ8fCJudW1iZXIiIT10eXBlb2YgYi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gc3RyKCIiLHsiIjphfSl9KSwiZnVuY3Rpb24iIT10eXBlb2YgSlNPTi5wYXJzZSYmKEpTT04ucGFyc2U9ZnVuY3Rpb24odGV4dCxyZXZpdmVyKXtmdW5jdGlvbiB3YWxrKGEsYil7dmFyIGMsZCxlPWFbYl07aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKWZvcihjIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYykmJihkPXdhbGsoZSxjKSx2b2lkIDAhPT1kP2VbY109ZDpkZWxldGUgZVtjXSk7cmV0dXJuIHJldml2ZXIuY2FsbChhLGIsZSl9dmFyIGo7aWYodGV4dD1TdHJpbmcodGV4dCksY3gubGFzdEluZGV4PTAsY3gudGVzdCh0ZXh0KSYmKHRleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKGEpe3JldHVybiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpLC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCJAIikucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csIl0iKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csIiIpKSlyZXR1cm4gaj1ldmFsKCIoIit0ZXh0KyIpIiksImZ1bmN0aW9uIj09dHlwZW9mIHJldml2ZXI/d2Fsayh7IiI6an0sIiIpOmo7dGhyb3cgbmV3IFN5bnRheEVycm9yKCJKU09OLnBhcnNlIil9KX0oKSxicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXygidW5kZWZpbmVkIiE9dHlwZW9mIEpTT04/SlNPTjp3aW5kb3cuSlNPTil9LmNhbGwoZ2xvYmFsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihhKXttb2R1bGUuZXhwb3J0cz1hfSl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDQ6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyl7bnVsbCE9YSYmKCJudW1iZXIiPT10eXBlb2YgYT90aGlzLmZyb21OdW1iZXIoYSxiLGMpOm51bGw9PWImJiJzdHJpbmciIT10eXBlb2YgYT90aGlzLmZyb21TdHJpbmcoYSwyNTYpOnRoaXMuZnJvbVN0cmluZyhhLGIpKX1mdW5jdGlvbiBkKCl7cmV0dXJuIG5ldyBjKG51bGwpfWZ1bmN0aW9uIGUoYSxiLGMsZCxlLGYpe2Zvcig7LS1mPj0wOyl7dmFyIGc9Yip0aGlzW2ErK10rY1tkXStlO2U9TWF0aC5mbG9vcihnLzY3MTA4ODY0KSxjW2QrK109NjcxMDg4NjMmZ31yZXR1cm4gZX1mdW5jdGlvbiBmKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MzI3NjcmYixoPWI+PjE1Oy0tZj49MDspe3ZhciBpPTMyNzY3JnRoaXNbYV0saj10aGlzW2ErK10+PjE1LGs9aCppK2oqZztpPWcqaSsoKDMyNzY3JmspPDwxNSkrY1tkXSsoMTA3Mzc0MTgyMyZlKSxlPShpPj4+MzApKyhrPj4+MTUpK2gqaisoZT4+PjMwKSxjW2QrK109MTA3Mzc0MTgyMyZpfXJldHVybiBlfWZ1bmN0aW9uIGcoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz0xNjM4MyZiLGg9Yj4+MTQ7LS1mPj0wOyl7dmFyIGk9MTYzODMmdGhpc1thXSxqPXRoaXNbYSsrXT4+MTQsaz1oKmkraipnO2k9ZyppKygoMTYzODMmayk8PDE0KStjW2RdK2UsZT0oaT4+MjgpKyhrPj4xNCkraCpqLGNbZCsrXT0yNjg0MzU0NTUmaX1yZXR1cm4gZX1mdW5jdGlvbiBoKGEpe3JldHVybiBuYi5jaGFyQXQoYSl9ZnVuY3Rpb24gaShhLGIpe3ZhciBjPW9iW2EuY2hhckNvZGVBdChiKV07cmV0dXJuIG51bGw9PWM/LTE6Y31mdW5jdGlvbiBqKGEpe2Zvcih2YXIgYj10aGlzLnQtMTtiPj0wOy0tYilhW2JdPXRoaXNbYl07YS50PXRoaXMudCxhLnM9dGhpcy5zfWZ1bmN0aW9uIGsoYSl7dGhpcy50PTEsdGhpcy5zPTA+YT8tMTowLGE+MD90aGlzWzBdPWE6LTE+YT90aGlzWzBdPWErRFY6dGhpcy50PTB9ZnVuY3Rpb24gbChhKXt2YXIgYj1kKCk7cmV0dXJuIGIuZnJvbUludChhKSxifWZ1bmN0aW9uIG0oYSxiKXt2YXIgZDtpZigxNj09YilkPTQ7ZWxzZSBpZig4PT1iKWQ9MztlbHNlIGlmKDI1Nj09YilkPTg7ZWxzZSBpZigyPT1iKWQ9MTtlbHNlIGlmKDMyPT1iKWQ9NTtlbHNle2lmKDQhPWIpcmV0dXJuIHZvaWQgdGhpcy5mcm9tUmFkaXgoYSxiKTtkPTJ9dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciBlPWEubGVuZ3RoLGY9ITEsZz0wOy0tZT49MDspe3ZhciBoPTg9PWQ/MjU1JmFbZV06aShhLGUpOzA+aD8iLSI9PWEuY2hhckF0KGUpJiYoZj0hMCk6KGY9ITEsMD09Zz90aGlzW3RoaXMudCsrXT1oOmcrZD50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KGgmKDE8PHRoaXMuREItZyktMSk8PGcsdGhpc1t0aGlzLnQrK109aD4+dGhpcy5EQi1nKTp0aGlzW3RoaXMudC0xXXw9aDw8ZyxnKz1kLGc+PXRoaXMuREImJihnLT10aGlzLkRCKSl9OD09ZCYmMCE9KDEyOCZhWzBdKSYmKHRoaXMucz0tMSxnPjAmJih0aGlzW3RoaXMudC0xXXw9KDE8PHRoaXMuREItZyktMTw8ZykpLHRoaXMuY2xhbXAoKSxmJiZjLlpFUk8uc3ViVG8odGhpcyx0aGlzKX1mdW5jdGlvbiBuKCl7Zm9yKHZhciBhPXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09YTspLS10aGlzLnR9ZnVuY3Rpb24gbyhhKXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b1N0cmluZyhhKTt2YXIgYjtpZigxNj09YSliPTQ7ZWxzZSBpZig4PT1hKWI9MztlbHNlIGlmKDI9PWEpYj0xO2Vsc2UgaWYoMzI9PWEpYj01O2Vsc2V7aWYoNCE9YSlyZXR1cm4gdGhpcy50b1JhZGl4KGEpO2I9Mn12YXIgYyxkPSgxPDxiKS0xLGU9ITEsZj0iIixnPXRoaXMudCxpPXRoaXMuREItZyp0aGlzLkRCJWI7aWYoZy0tPjApZm9yKGk8dGhpcy5EQiYmKGM9dGhpc1tnXT4+aSk+MCYmKGU9ITAsZj1oKGMpKTtnPj0wOyliPmk/KGM9KHRoaXNbZ10mKDE8PGkpLTEpPDxiLWksY3w9dGhpc1stLWddPj4oaSs9dGhpcy5EQi1iKSk6KGM9dGhpc1tnXT4+KGktPWIpJmQsMD49aSYmKGkrPXRoaXMuREIsLS1nKSksYz4wJiYoZT0hMCksZSYmKGYrPWgoYykpO3JldHVybiBlP2Y6IjAifWZ1bmN0aW9uIHAoKXt2YXIgYT1kKCk7cmV0dXJuIGMuWkVSTy5zdWJUbyh0aGlzLGEpLGF9ZnVuY3Rpb24gcSgpe3JldHVybiB0aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXN9ZnVuY3Rpb24gcihhKXt2YXIgYj10aGlzLnMtYS5zO2lmKDAhPWIpcmV0dXJuIGI7dmFyIGM9dGhpcy50O2lmKGI9Yy1hLnQsMCE9YilyZXR1cm4gdGhpcy5zPDA/LWI6Yjtmb3IoOy0tYz49MDspaWYoMCE9KGI9dGhpc1tjXS1hW2NdKSlyZXR1cm4gYjtyZXR1cm4gMH1mdW5jdGlvbiBzKGEpe3ZhciBiLGM9MTtyZXR1cm4gMCE9KGI9YT4+PjE2KSYmKGE9YixjKz0xNiksMCE9KGI9YT4+OCkmJihhPWIsYys9OCksMCE9KGI9YT4+NCkmJihhPWIsYys9NCksMCE9KGI9YT4+MikmJihhPWIsYys9MiksMCE9KGI9YT4+MSkmJihhPWIsYys9MSksY31mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMudDw9MD8wOnRoaXMuREIqKHRoaXMudC0xKStzKHRoaXNbdGhpcy50LTFdXnRoaXMucyZ0aGlzLkRNKX1mdW5jdGlvbiB1KGEsYil7dmFyIGM7Zm9yKGM9dGhpcy50LTE7Yz49MDstLWMpYltjK2FdPXRoaXNbY107Zm9yKGM9YS0xO2M+PTA7LS1jKWJbY109MDtiLnQ9dGhpcy50K2EsYi5zPXRoaXMuc31mdW5jdGlvbiB2KGEsYil7Zm9yKHZhciBjPWE7Yzx0aGlzLnQ7KytjKWJbYy1hXT10aGlzW2NdO2IudD1NYXRoLm1heCh0aGlzLnQtYSwwKSxiLnM9dGhpcy5zfWZ1bmN0aW9uIHcoYSxiKXt2YXIgYyxkPWEldGhpcy5EQixlPXRoaXMuREItZCxmPSgxPDxlKS0xLGc9TWF0aC5mbG9vcihhL3RoaXMuREIpLGg9dGhpcy5zPDxkJnRoaXMuRE07Zm9yKGM9dGhpcy50LTE7Yz49MDstLWMpYltjK2crMV09dGhpc1tjXT4+ZXxoLGg9KHRoaXNbY10mZik8PGQ7Zm9yKGM9Zy0xO2M+PTA7LS1jKWJbY109MDtiW2ddPWgsYi50PXRoaXMudCtnKzEsYi5zPXRoaXMucyxiLmNsYW1wKCl9ZnVuY3Rpb24geChhLGIpe2Iucz10aGlzLnM7dmFyIGM9TWF0aC5mbG9vcihhL3RoaXMuREIpO2lmKGM+PXRoaXMudClyZXR1cm4gdm9pZChiLnQ9MCk7dmFyIGQ9YSV0aGlzLkRCLGU9dGhpcy5EQi1kLGY9KDE8PGQpLTE7YlswXT10aGlzW2NdPj5kO2Zvcih2YXIgZz1jKzE7Zzx0aGlzLnQ7KytnKWJbZy1jLTFdfD0odGhpc1tnXSZmKTw8ZSxiW2ctY109dGhpc1tnXT4+ZDtkPjAmJihiW3RoaXMudC1jLTFdfD0odGhpcy5zJmYpPDxlKSxiLnQ9dGhpcy50LWMsYi5jbGFtcCgpfWZ1bmN0aW9uIHkoYSxiKXtmb3IodmFyIGM9MCxkPTAsZT1NYXRoLm1pbihhLnQsdGhpcy50KTtlPmM7KWQrPXRoaXNbY10tYVtjXSxiW2MrK109ZCZ0aGlzLkRNLGQ+Pj10aGlzLkRCO2lmKGEudDx0aGlzLnQpe2ZvcihkLT1hLnM7Yzx0aGlzLnQ7KWQrPXRoaXNbY10sYltjKytdPWQmdGhpcy5ETSxkPj49dGhpcy5EQjtkKz10aGlzLnN9ZWxzZXtmb3IoZCs9dGhpcy5zO2M8YS50OylkLT1hW2NdLGJbYysrXT1kJnRoaXMuRE0sZD4+PXRoaXMuREI7ZC09YS5zfWIucz0wPmQ/LTE6MCwtMT5kP2JbYysrXT10aGlzLkRWK2Q6ZD4wJiYoYltjKytdPWQpLGIudD1jLGIuY2xhbXAoKX1mdW5jdGlvbiB6KGEsYil7dmFyIGQ9dGhpcy5hYnMoKSxlPWEuYWJzKCksZj1kLnQ7Zm9yKGIudD1mK2UudDstLWY+PTA7KWJbZl09MDtmb3IoZj0wO2Y8ZS50OysrZiliW2YrZC50XT1kLmFtKDAsZVtmXSxiLGYsMCxkLnQpO2Iucz0wLGIuY2xhbXAoKSx0aGlzLnMhPWEucyYmYy5aRVJPLnN1YlRvKGIsYil9ZnVuY3Rpb24gQShhKXtmb3IodmFyIGI9dGhpcy5hYnMoKSxjPWEudD0yKmIudDstLWM+PTA7KWFbY109MDtmb3IoYz0wO2M8Yi50LTE7KytjKXt2YXIgZD1iLmFtKGMsYltjXSxhLDIqYywwLDEpOyhhW2MrYi50XSs9Yi5hbShjKzEsMipiW2NdLGEsMipjKzEsZCxiLnQtYy0xKSk+PWIuRFYmJihhW2MrYi50XS09Yi5EVixhW2MrYi50KzFdPTEpfWEudD4wJiYoYVthLnQtMV0rPWIuYW0oYyxiW2NdLGEsMipjLDAsMSkpLGEucz0wLGEuY2xhbXAoKX1mdW5jdGlvbiBCKGEsYixlKXt2YXIgZj1hLmFicygpO2lmKCEoZi50PD0wKSl7dmFyIGc9dGhpcy5hYnMoKTtpZihnLnQ8Zi50KXJldHVybiBudWxsIT1iJiZiLmZyb21JbnQoMCksdm9pZChudWxsIT1lJiZ0aGlzLmNvcHlUbyhlKSk7bnVsbD09ZSYmKGU9ZCgpKTt2YXIgaD1kKCksaT10aGlzLnMsaj1hLnMsaz10aGlzLkRCLXMoZltmLnQtMV0pO2s+MD8oZi5sU2hpZnRUbyhrLGgpLGcubFNoaWZ0VG8oayxlKSk6KGYuY29weVRvKGgpLGcuY29weVRvKGUpKTt2YXIgbD1oLnQsbT1oW2wtMV07aWYoMCE9bSl7dmFyIG49bSooMTw8dGhpcy5GMSkrKGw+MT9oW2wtMl0+PnRoaXMuRjI6MCksbz10aGlzLkZWL24scD0oMTw8dGhpcy5GMSkvbixxPTE8PHRoaXMuRjIscj1lLnQsdD1yLWwsdT1udWxsPT1iP2QoKTpiO2ZvcihoLmRsU2hpZnRUbyh0LHUpLGUuY29tcGFyZVRvKHUpPj0wJiYoZVtlLnQrK109MSxlLnN1YlRvKHUsZSkpLGMuT05FLmRsU2hpZnRUbyhsLHUpLHUuc3ViVG8oaCxoKTtoLnQ8bDspaFtoLnQrK109MDtmb3IoOy0tdD49MDspe3ZhciB2PWVbLS1yXT09bT90aGlzLkRNOk1hdGguZmxvb3IoZVtyXSpvKyhlW3ItMV0rcSkqcCk7aWYoKGVbcl0rPWguYW0oMCx2LGUsdCwwLGwpKTx2KWZvcihoLmRsU2hpZnRUbyh0LHUpLGUuc3ViVG8odSxlKTtlW3JdPC0tdjspZS5zdWJUbyh1LGUpfW51bGwhPWImJihlLmRyU2hpZnRUbyhsLGIpLGkhPWomJmMuWkVSTy5zdWJUbyhiLGIpKSxlLnQ9bCxlLmNsYW1wKCksaz4wJiZlLnJTaGlmdFRvKGssZSksMD5pJiZjLlpFUk8uc3ViVG8oZSxlKX19fWZ1bmN0aW9uIEMoYSl7dmFyIGI9ZCgpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKGEsbnVsbCxiKSx0aGlzLnM8MCYmYi5jb21wYXJlVG8oYy5aRVJPKT4wJiZhLnN1YlRvKGIsYiksYn1mdW5jdGlvbiBEKGEpe3RoaXMubT1hfWZ1bmN0aW9uIEUoYSl7cmV0dXJuIGEuczwwfHxhLmNvbXBhcmVUbyh0aGlzLm0pPj0wP2EubW9kKHRoaXMubSk6YX1mdW5jdGlvbiBGKGEpe3JldHVybiBhfWZ1bmN0aW9uIEcoYSl7YS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxhKX1mdW5jdGlvbiBIKGEsYixjKXthLm11bHRpcGx5VG8oYixjKSx0aGlzLnJlZHVjZShjKX1mdW5jdGlvbiBJKGEsYil7YS5zcXVhcmVUbyhiKSx0aGlzLnJlZHVjZShiKX1mdW5jdGlvbiBKKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIGE9dGhpc1swXTtpZigwPT0oMSZhKSlyZXR1cm4gMDt2YXIgYj0zJmE7cmV0dXJuIGI9YiooMi0oMTUmYSkqYikmMTUsYj1iKigyLSgyNTUmYSkqYikmMjU1LGI9YiooMi0oKDY1NTM1JmEpKmImNjU1MzUpKSY2NTUzNSxiPWIqKDItYSpiJXRoaXMuRFYpJXRoaXMuRFYsYj4wP3RoaXMuRFYtYjotYn1mdW5jdGlvbiBLKGEpe3RoaXMubT1hLHRoaXMubXA9YS5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8YS5EQi0xNSktMSx0aGlzLm10Mj0yKmEudH1mdW5jdGlvbiBMKGEpe3ZhciBiPWQoKTtyZXR1cm4gYS5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsYiksYi5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxiKSxhLnM8MCYmYi5jb21wYXJlVG8oYy5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8oYixiKSxifWZ1bmN0aW9uIE0oYSl7dmFyIGI9ZCgpO3JldHVybiBhLmNvcHlUbyhiKSx0aGlzLnJlZHVjZShiKSxifWZ1bmN0aW9uIE4oYSl7Zm9yKDthLnQ8PXRoaXMubXQyOylhW2EudCsrXT0wO2Zvcih2YXIgYj0wO2I8dGhpcy5tLnQ7KytiKXt2YXIgYz0zMjc2NyZhW2JdLGQ9Yyp0aGlzLm1wbCsoKGMqdGhpcy5tcGgrKGFbYl0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJmEuRE07Zm9yKGM9Yit0aGlzLm0udCxhW2NdKz10aGlzLm0uYW0oMCxkLGEsYiwwLHRoaXMubS50KTthW2NdPj1hLkRWOylhW2NdLT1hLkRWLGFbKytjXSsrfWEuY2xhbXAoKSxhLmRyU2hpZnRUbyh0aGlzLm0udCxhKSxhLmNvbXBhcmVUbyh0aGlzLm0pPj0wJiZhLnN1YlRvKHRoaXMubSxhKX1mdW5jdGlvbiBPKGEsYil7YS5zcXVhcmVUbyhiKSx0aGlzLnJlZHVjZShiKX1mdW5jdGlvbiBQKGEsYixjKXthLm11bHRpcGx5VG8oYixjKSx0aGlzLnJlZHVjZShjKX1mdW5jdGlvbiBRKCl7cmV0dXJuIDA9PSh0aGlzLnQ+MD8xJnRoaXNbMF06dGhpcy5zKX1mdW5jdGlvbiBSKGEsYil7aWYoYT40Mjk0OTY3Mjk1fHwxPmEpcmV0dXJuIGMuT05FO3ZhciBlPWQoKSxmPWQoKSxnPWIuY29udmVydCh0aGlzKSxoPXMoYSktMTtmb3IoZy5jb3B5VG8oZSk7LS1oPj0wOylpZihiLnNxclRvKGUsZiksKGEmMTw8aCk+MCliLm11bFRvKGYsZyxlKTtlbHNle3ZhciBpPWU7ZT1mLGY9aX1yZXR1cm4gYi5yZXZlcnQoZSl9ZnVuY3Rpb24gUyhhLGIpe3ZhciBjO3JldHVybiBjPTI1Nj5hfHxiLmlzRXZlbigpP25ldyBEKGIpOm5ldyBLKGIpLHRoaXMuZXhwKGEsYyl9ZnVuY3Rpb24gVCgpe3RoaXMuaT0wLHRoaXMuaj0wLHRoaXMuUz1uZXcgQXJyYXl9ZnVuY3Rpb24gVShhKXt2YXIgYixjLGQ7Zm9yKGI9MDsyNTY+YjsrK2IpdGhpcy5TW2JdPWI7Zm9yKGM9MCxiPTA7MjU2PmI7KytiKWM9Yyt0aGlzLlNbYl0rYVtiJWEubGVuZ3RoXSYyNTUsZD10aGlzLlNbYl0sdGhpcy5TW2JdPXRoaXMuU1tjXSx0aGlzLlNbY109ZDt0aGlzLmk9MCx0aGlzLmo9MH1mdW5jdGlvbiBWKCl7dmFyIGE7cmV0dXJuIHRoaXMuaT10aGlzLmkrMSYyNTUsdGhpcy5qPXRoaXMuait0aGlzLlNbdGhpcy5pXSYyNTUsYT10aGlzLlNbdGhpcy5pXSx0aGlzLlNbdGhpcy5pXT10aGlzLlNbdGhpcy5qXSx0aGlzLlNbdGhpcy5qXT1hLHRoaXMuU1thK3RoaXMuU1t0aGlzLmldJjI1NV19ZnVuY3Rpb24gVygpe3JldHVybiBuZXcgVH1mdW5jdGlvbiBYKGEpe3FiW3JiKytdXj0yNTUmYSxxYltyYisrXV49YT4+OCYyNTUscWJbcmIrK11ePWE+PjE2JjI1NSxxYltyYisrXV49YT4+MjQmMjU1LHJiPj1zYiYmKHJiLT1zYil9ZnVuY3Rpb24gWSgpe1goKG5ldyBEYXRlKS5nZXRUaW1lKCkpfWZ1bmN0aW9uIFooKXtpZihudWxsPT1wYil7Zm9yKFkoKSxwYj1XKCkscGIuaW5pdChxYikscmI9MDtyYjxxYi5sZW5ndGg7KytyYilxYltyYl09MDtyYj0wfXJldHVybiBwYi5uZXh0KCl9ZnVuY3Rpb24gJChhKXt2YXIgYjtmb3IoYj0wO2I8YS5sZW5ndGg7KytiKWFbYl09WigpfWZ1bmN0aW9uIF8oKXt9ZnVuY3Rpb24gYWIoYSxiKXtyZXR1cm4gbmV3IGMoYSxiKX1mdW5jdGlvbiBiYihhKXtyZXR1cm4gMTY+YT8iMCIrYS50b1N0cmluZygxNik6YS50b1N0cmluZygxNil9ZnVuY3Rpb24gY2IoYSxiKXtpZihiPGEubGVuZ3RoKzExKXJldHVybiBhbGVydCgiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBIiksbnVsbDtmb3IodmFyIGQ9bmV3IEFycmF5LGU9YS5sZW5ndGgtMTtlPj0wJiZiPjA7KXt2YXIgZj1hLmNoYXJDb2RlQXQoZS0tKTsxMjg+Zj9kWy0tYl09ZjpmPjEyNyYmMjA0OD5mPyhkWy0tYl09NjMmZnwxMjgsZFstLWJdPWY+PjZ8MTkyKTooZFstLWJdPTYzJmZ8MTI4LGRbLS1iXT1mPj42JjYzfDEyOCxkWy0tYl09Zj4+MTJ8MjI0KX1kWy0tYl09MDtmb3IodmFyIGc9bmV3IF8saD1uZXcgQXJyYXk7Yj4yOyl7Zm9yKGhbMF09MDswPT1oWzBdOylnLm5leHRCeXRlcyhoKTtkWy0tYl09aFswXX1yZXR1cm4gZFstLWJdPTIsZFstLWJdPTAsbmV3IGMoZCl9ZnVuY3Rpb24gZGIoKXt0aGlzLm49bnVsbCx0aGlzLmU9MCx0aGlzLmQ9bnVsbCx0aGlzLnA9bnVsbCx0aGlzLnE9bnVsbCx0aGlzLmRtcDE9bnVsbCx0aGlzLmRtcTE9bnVsbCx0aGlzLmNvZWZmPW51bGx9ZnVuY3Rpb24gZWIoYSxiKXtudWxsIT1hJiZudWxsIT1iJiZhLmxlbmd0aD4wJiZiLmxlbmd0aD4wPyh0aGlzLm49YWIoYSwxNiksdGhpcy5lPXBhcnNlSW50KGIsMTYpKTphbGVydCgiSW52YWxpZCBSU0EgcHVibGljIGtleSIpfWZ1bmN0aW9uIGZiKGEpe3JldHVybiBhLm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKX1mdW5jdGlvbiBnYihhKXt2YXIgYj1jYihhLHRoaXMubi5iaXRMZW5ndGgoKSs3Pj4zKTtpZihudWxsPT1iKXJldHVybiBudWxsO3ZhciBjPXRoaXMuZG9QdWJsaWMoYik7aWYobnVsbD09YylyZXR1cm4gbnVsbDt2YXIgZD1jLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmZC5sZW5ndGgpP2Q6IjAiK2R9dmFyIGhiLGliPTB4ZGVhZGJlZWZjYWZlLGpiPTE1NzE1MDcwPT0oMTY3NzcyMTUmaWIpO2piJiYiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyIj09bmF2aWdhdG9yLmFwcE5hbWU/KGMucHJvdG90eXBlLmFtPWYsaGI9MzApOmpiJiYiTmV0c2NhcGUiIT1uYXZpZ2F0b3IuYXBwTmFtZT8oYy5wcm90b3R5cGUuYW09ZSxoYj0yNik6KGMucHJvdG90eXBlLmFtPWcsaGI9MjgpLGMucHJvdG90eXBlLkRCPWhiLGMucHJvdG90eXBlLkRNPSgxPDxoYiktMSxjLnByb3RvdHlwZS5EVj0xPDxoYjt2YXIga2I9NTI7Yy5wcm90b3R5cGUuRlY9TWF0aC5wb3coMixrYiksYy5wcm90b3R5cGUuRjE9a2ItaGIsYy5wcm90b3R5cGUuRjI9MipoYi1rYjt2YXIgbGIsbWIsbmI9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsb2I9bmV3IEFycmF5O2ZvcihsYj0iMCIuY2hhckNvZGVBdCgwKSxtYj0wOzk+PW1iOysrbWIpb2JbbGIrK109bWI7Zm9yKGxiPSJhIi5jaGFyQ29kZUF0KDApLG1iPTEwOzM2Pm1iOysrbWIpb2JbbGIrK109bWI7Zm9yKGxiPSJBIi5jaGFyQ29kZUF0KDApLG1iPTEwOzM2Pm1iOysrbWIpb2JbbGIrK109bWI7RC5wcm90b3R5cGUuY29udmVydD1FLEQucHJvdG90eXBlLnJldmVydD1GLEQucHJvdG90eXBlLnJlZHVjZT1HLEQucHJvdG90eXBlLm11bFRvPUgsRC5wcm90b3R5cGUuc3FyVG89SSxLLnByb3RvdHlwZS5jb252ZXJ0PUwsSy5wcm90b3R5cGUucmV2ZXJ0PU0sSy5wcm90b3R5cGUucmVkdWNlPU4sSy5wcm90b3R5cGUubXVsVG89UCxLLnByb3RvdHlwZS5zcXJUbz1PLGMucHJvdG90eXBlLmNvcHlUbz1qLGMucHJvdG90eXBlLmZyb21JbnQ9ayxjLnByb3RvdHlwZS5mcm9tU3RyaW5nPW0sYy5wcm90b3R5cGUuY2xhbXA9bixjLnByb3RvdHlwZS5kbFNoaWZ0VG89dSxjLnByb3RvdHlwZS5kclNoaWZ0VG89dixjLnByb3RvdHlwZS5sU2hpZnRUbz13LGMucHJvdG90eXBlLnJTaGlmdFRvPXgsYy5wcm90b3R5cGUuc3ViVG89eSxjLnByb3RvdHlwZS5tdWx0aXBseVRvPXosYy5wcm90b3R5cGUuc3F1YXJlVG89QSxjLnByb3RvdHlwZS5kaXZSZW1Ubz1CLGMucHJvdG90eXBlLmludkRpZ2l0PUosYy5wcm90b3R5cGUuaXNFdmVuPVEsYy5wcm90b3R5cGUuZXhwPVIsYy5wcm90b3R5cGUudG9TdHJpbmc9byxjLnByb3RvdHlwZS5uZWdhdGU9cCxjLnByb3RvdHlwZS5hYnM9cSxjLnByb3RvdHlwZS5jb21wYXJlVG89cixjLnByb3RvdHlwZS5iaXRMZW5ndGg9dCxjLnByb3RvdHlwZS5tb2Q9QyxjLnByb3RvdHlwZS5tb2RQb3dJbnQ9UyxjLlpFUk89bCgwKSxjLk9ORT1sKDEpLFQucHJvdG90eXBlLmluaXQ9VSxULnByb3RvdHlwZS5uZXh0PVY7dmFyIHBiLHFiLHJiLHNiPTI1NjtpZihudWxsPT1xYil7cWI9bmV3IEFycmF5LHJiPTA7dmFyIHRiO2lmKCJOZXRzY2FwZSI9PW5hdmlnYXRvci5hcHBOYW1lJiZuYXZpZ2F0b3IuYXBwVmVyc2lvbjwiNSImJndpbmRvdy5jcnlwdG8pe3ZhciB1Yj13aW5kb3cuY3J5cHRvLnJhbmRvbSgzMik7Zm9yKHRiPTA7dGI8dWIubGVuZ3RoOysrdGIpcWJbcmIrK109MjU1JnViLmNoYXJDb2RlQXQodGIpfWZvcig7c2I+cmI7KXRiPU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSkscWJbcmIrK109dGI+Pj44LHFiW3JiKytdPTI1NSZ0YjtyYj0wLFkoKX1fLnByb3RvdHlwZS5uZXh0Qnl0ZXM9JCxkYi5wcm90b3R5cGUuZG9QdWJsaWM9ZmIsZGIucHJvdG90eXBlLnNldFB1YmxpYz1lYixkYi5wcm90b3R5cGUuZW5jcnlwdD1nYixiLmV4cG9ydHM9e1NlY3VyZVJhbmRvbTpfLGJ5dGUySGV4OmJiLFJTQUtleTpkYn19LHt9XSw1OltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm4gbS5pc1VuZGVmaW5lZChiKT8iIitiOiFtLmlzTnVtYmVyKGIpfHwhaXNOYU4oYikmJmlzRmluaXRlKGIpP20uaXNGdW5jdGlvbihiKXx8bS5pc1JlZ0V4cChiKT9iLnRvU3RyaW5nKCk6YjpiLnRvU3RyaW5nKCl9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBtLmlzU3RyaW5nKGEpP2EubGVuZ3RoPGI/YTphLnNsaWNlKDAsYik6YX1mdW5jdGlvbiBlKGEpe3JldHVybiBkKEpTT04uc3RyaW5naWZ5KGEuYWN0dWFsLGMpLDEyOCkrIiAiK2Eub3BlcmF0b3IrIiAiK2QoSlNPTi5zdHJpbmdpZnkoYS5leHBlY3RlZCxjKSwxMjgpfWZ1bmN0aW9uIGYoYSxiLGMsZCxlKXt0aHJvdyBuZXcgcC5Bc3NlcnRpb25FcnJvcih7bWVzc2FnZTpjLGFjdHVhbDphLGV4cGVjdGVkOmIsb3BlcmF0b3I6ZCxzdGFja1N0YXJ0RnVuY3Rpb246ZX0pfWZ1bmN0aW9uIGcoYSxiKXthfHxmKGEsITAsYiwiPT0iLHAub2spfWZ1bmN0aW9uIGgoYSxiKXtpZihhPT09YilyZXR1cm4hMDtpZihtLmlzQnVmZmVyKGEpJiZtLmlzQnVmZmVyKGIpKXtpZihhLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXSE9PWJbY10pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIG0uaXNEYXRlKGEpJiZtLmlzRGF0ZShiKT9hLmdldFRpbWUoKT09PWIuZ2V0VGltZSgpOm0uaXNSZWdFeHAoYSkmJm0uaXNSZWdFeHAoYik/YS5zb3VyY2U9PT1iLnNvdXJjZSYmYS5nbG9iYWw9PT1iLmdsb2JhbCYmYS5tdWx0aWxpbmU9PT1iLm11bHRpbGluZSYmYS5sYXN0SW5kZXg9PT1iLmxhc3RJbmRleCYmYS5pZ25vcmVDYXNlPT09Yi5pZ25vcmVDYXNlOm0uaXNPYmplY3QoYSl8fG0uaXNPYmplY3QoYik/aihhLGIpOmE9PWJ9ZnVuY3Rpb24gaShhKXtyZXR1cm4iW29iamVjdCBBcmd1bWVudHNdIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfWZ1bmN0aW9uIGooYSxiKXtpZihtLmlzTnVsbE9yVW5kZWZpbmVkKGEpfHxtLmlzTnVsbE9yVW5kZWZpbmVkKGIpKXJldHVybiExO2lmKGEucHJvdG90eXBlIT09Yi5wcm90b3R5cGUpcmV0dXJuITE7aWYoaShhKSlyZXR1cm4gaShiKT8oYT1uLmNhbGwoYSksYj1uLmNhbGwoYiksaChhLGIpKTohMTt0cnl7dmFyIGMsZCxlPXEoYSksZj1xKGIpfWNhdGNoKGcpe3JldHVybiExfWlmKGUubGVuZ3RoIT1mLmxlbmd0aClyZXR1cm4hMTtmb3IoZS5zb3J0KCksZi5zb3J0KCksZD1lLmxlbmd0aC0xO2Q+PTA7ZC0tKWlmKGVbZF0hPWZbZF0pcmV0dXJuITE7Zm9yKGQ9ZS5sZW5ndGgtMTtkPj0wO2QtLSlpZihjPWVbZF0sIWgoYVtjXSxiW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBrKGEsYil7cmV0dXJuIGEmJmI/IltvYmplY3QgUmVnRXhwXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKT9iLnRlc3QoYSk6YSBpbnN0YW5jZW9mIGI/ITA6Yi5jYWxsKHt9LGEpPT09ITA/ITA6ITE6ITF9ZnVuY3Rpb24gbChhLGIsYyxkKXt2YXIgZTttLmlzU3RyaW5nKGMpJiYoZD1jLGM9bnVsbCk7dHJ5e2IoKX1jYXRjaChnKXtlPWd9aWYoZD0oYyYmYy5uYW1lPyIgKCIrYy5uYW1lKyIpLiI6Ii4iKSsoZD8iICIrZDoiLiIpLGEmJiFlJiZmKGUsYywiTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24iK2QpLCFhJiZrKGUsYykmJmYoZSxjLCJHb3QgdW53YW50ZWQgZXhjZXB0aW9uIitkKSxhJiZlJiZjJiYhayhlLGMpfHwhYSYmZSl0aHJvdyBlfXZhciBtPWEoInV0aWwvIiksbj1BcnJheS5wcm90b3R5cGUuc2xpY2Usbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHA9Yi5leHBvcnRzPWc7cC5Bc3NlcnRpb25FcnJvcj1mdW5jdGlvbihhKXt0aGlzLm5hbWU9IkFzc2VydGlvbkVycm9yIix0aGlzLmFjdHVhbD1hLmFjdHVhbCx0aGlzLmV4cGVjdGVkPWEuZXhwZWN0ZWQsdGhpcy5vcGVyYXRvcj1hLm9wZXJhdG9yLGEubWVzc2FnZT8odGhpcy5tZXNzYWdlPWEubWVzc2FnZSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITEpOih0aGlzLm1lc3NhZ2U9ZSh0aGlzKSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITApO3ZhciBiPWEuc3RhY2tTdGFydEZ1bmN0aW9ufHxmO2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsYik7ZWxzZXt2YXIgYz1uZXcgRXJyb3I7aWYoYy5zdGFjayl7dmFyIGQ9Yy5zdGFjayxnPWIubmFtZSxoPWQuaW5kZXhPZigiXG4iK2cpO2lmKGg+PTApe3ZhciBpPWQuaW5kZXhPZigiXG4iLGgrMSk7ZD1kLnN1YnN0cmluZyhpKzEpfXRoaXMuc3RhY2s9ZH19fSxtLmluaGVyaXRzKHAuQXNzZXJ0aW9uRXJyb3IsRXJyb3IpLHAuZmFpbD1mLHAub2s9ZyxwLmVxdWFsPWZ1bmN0aW9uKGEsYixjKXthIT1iJiZmKGEsYixjLCI9PSIscC5lcXVhbCl9LHAubm90RXF1YWw9ZnVuY3Rpb24oYSxiLGMpe2E9PWImJmYoYSxiLGMsIiE9IixwLm5vdEVxdWFsKX0scC5kZWVwRXF1YWw9ZnVuY3Rpb24oYSxiLGMpe2goYSxiKXx8ZihhLGIsYywiZGVlcEVxdWFsIixwLmRlZXBFcXVhbCl9LHAubm90RGVlcEVxdWFsPWZ1bmN0aW9uKGEsYixjKXtoKGEsYikmJmYoYSxiLGMsIm5vdERlZXBFcXVhbCIscC5ub3REZWVwRXF1YWwpfSxwLnN0cmljdEVxdWFsPWZ1bmN0aW9uKGEsYixjKXthIT09YiYmZihhLGIsYywiPT09IixwLnN0cmljdEVxdWFsKX0scC5ub3RTdHJpY3RFcXVhbD1mdW5jdGlvbihhLGIsYyl7YT09PWImJmYoYSxiLGMsIiE9PSIscC5ub3RTdHJpY3RFcXVhbCl9LHAudGhyb3dzPWZ1bmN0aW9uKCl7bC5hcHBseSh0aGlzLFshMF0uY29uY2F0KG4uY2FsbChhcmd1bWVudHMpKSl9LHAuZG9lc05vdFRocm93PWZ1bmN0aW9uKCl7bC5hcHBseSh0aGlzLFshMV0uY29uY2F0KG4uY2FsbChhcmd1bWVudHMpKSl9LHAuaWZFcnJvcj1mdW5jdGlvbihhKXtpZihhKXRocm93IGF9O3ZhciBxPU9iamVjdC5rZXlzfHxmdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSlvLmNhbGwoYSxjKSYmYi5wdXNoKGMpO3JldHVybiBifX0seyJ1dGlsLyI6MTF9XSw2OltmdW5jdGlvbihhLGIpeyhmdW5jdGlvbihjKXtmdW5jdGlvbiBkKCl7fWZ1bmN0aW9uIGUoKXttLmxvZy5hcHBseShtLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZigpe20ubG9nLmFwcGx5KG0sYXJndW1lbnRzKX1mdW5jdGlvbiBnKCl7bS53YXJuLmFwcGx5KG0sYXJndW1lbnRzKX1mdW5jdGlvbiBoKGEpe3BbYV09RGF0ZS5ub3coKX1mdW5jdGlvbiBpKGEpe3ZhciBiPXBbYV07aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJObyBzdWNoIGxhYmVsOiAiK2EpO3ZhciBjPURhdGUubm93KCktYjttLmxvZyhhKyI6ICIrYysibXMiKX1mdW5jdGlvbiBqKCl7dmFyIGE9bmV3IEVycm9yO2EubmFtZT0iVHJhY2UiLGEubWVzc2FnZT1uLmZvcm1hdC5hcHBseShudWxsLGFyZ3VtZW50cyksbS5lcnJvcihhLnN0YWNrKX1mdW5jdGlvbiBrKGEpe20ubG9nKG4uaW5zcGVjdChhKSsiXG4iKX1mdW5jdGlvbiBsKGEpe2lmKCFhKXt2YXIgYj1vLmNhbGwoYXJndW1lbnRzLDEpO2wub2soITEsbi5mb3JtYXQuYXBwbHkobnVsbCxiKSl9fXZhciBtLG49YSgidXRpbCIpLGw9YSgiYXNzZXJ0Iiksbz1BcnJheS5wcm90b3R5cGUuc2xpY2UscD17fTttPSJ1bmRlZmluZWQiIT10eXBlb2YgYyYmYy5jb25zb2xlP2MuY29uc29sZToidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmNvbnNvbGU/d2luZG93LmNvbnNvbGU6e307Zm9yKHZhciBxPVtbZCwibG9nIl0sW2UsImluZm8iXSxbZiwid2FybiJdLFtnLCJlcnJvciJdLFtoLCJ0aW1lIl0sW2ksInRpbWVFbmQiXSxbaiwidHJhY2UiXSxbaywiZGlyIl0sW2wsImFzc2VydCJdXSxyPTA7cjxxLmxlbmd0aDtyKyspe3ZhciBzPXFbcl0sdD1zWzBdLHU9c1sxXTttW3VdfHwobVt1XT10KX1iLmV4cG9ydHM9bX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7YXNzZXJ0OjUsdXRpbDoxMX1dLDc6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBkKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhJiZudWxsIT09YX1mdW5jdGlvbiBnKGEpe3JldHVybiB2b2lkIDA9PT1hfWIuZXhwb3J0cz1jLGMuRXZlbnRFbWl0dGVyPWMsYy5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsYy5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsYy5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLGMucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihhKXtpZighZShhKXx8MD5hfHxpc05hTihhKSl0aHJvdyBUeXBlRXJyb3IoIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9YSx0aGlzfSxjLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZSxoLGksajtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLCJlcnJvciI9PT1hJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8Zih0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKGI9YXJndW1lbnRzWzFdLGIgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBiO3Rocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuJyl9aWYoYz10aGlzLl9ldmVudHNbYV0sZyhjKSlyZXR1cm4hMTtpZihkKGMpKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6Yy5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpjLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpjLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmZvcihlPWFyZ3VtZW50cy5sZW5ndGgsaD1uZXcgQXJyYXkoZS0xKSxpPTE7ZT5pO2krKyloW2ktMV09YXJndW1lbnRzW2ldO2MuYXBwbHkodGhpcyxoKX1lbHNlIGlmKGYoYykpe2ZvcihlPWFyZ3VtZW50cy5sZW5ndGgsaD1uZXcgQXJyYXkoZS0xKSxpPTE7ZT5pO2krKyloW2ktMV09YXJndW1lbnRzW2ldO2ZvcihqPWMuc2xpY2UoKSxlPWoubGVuZ3RoLGk9MDtlPmk7aSsrKWpbaV0uYXBwbHkodGhpcyxoKX1yZXR1cm4hMH0sYy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgZTtpZighZChiKSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoIm5ld0xpc3RlbmVyIixhLGQoYi5saXN0ZW5lcik/Yi5saXN0ZW5lcjpiKSx0aGlzLl9ldmVudHNbYV0/Zih0aGlzLl9ldmVudHNbYV0pP3RoaXMuX2V2ZW50c1thXS5wdXNoKGIpOnRoaXMuX2V2ZW50c1thXT1bdGhpcy5fZXZlbnRzW2FdLGJdOnRoaXMuX2V2ZW50c1thXT1iLGYodGhpcy5fZXZlbnRzW2FdKSYmIXRoaXMuX2V2ZW50c1thXS53YXJuZWQpe3ZhciBlO2U9Zyh0aGlzLl9tYXhMaXN0ZW5lcnMpP2MuZGVmYXVsdE1heExpc3RlbmVyczp0aGlzLl9tYXhMaXN0ZW5lcnMsZSYmZT4wJiZ0aGlzLl9ldmVudHNbYV0ubGVuZ3RoPmUmJih0aGlzLl9ldmVudHNbYV0ud2FybmVkPSEwLGNvbnNvbGUuZXJyb3IoIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuIix0aGlzLl9ldmVudHNbYV0ubGVuZ3RoKSwiZnVuY3Rpb24iPT10eXBlb2YgY29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpKX1yZXR1cm4gdGhpc30sYy5wcm90b3R5cGUub249Yy5wcm90b3R5cGUuYWRkTGlzdGVuZXIsYy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGEsYyksZXx8KGU9ITAsYi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFkKGIpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIGU9ITE7cmV0dXJuIGMubGlzdGVuZXI9Yix0aGlzLm9uKGEsYyksdGhpc30sYy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGcsaDtpZighZChiKSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbYV0pcmV0dXJuIHRoaXM7aWYoYz10aGlzLl9ldmVudHNbYV0sZz1jLmxlbmd0aCxlPS0xLGM9PT1ifHxkKGMubGlzdGVuZXIpJiZjLmxpc3RlbmVyPT09YilkZWxldGUgdGhpcy5fZXZlbnRzW2FdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsYSxiKTtlbHNlIGlmKGYoYykpe2ZvcihoPWc7aC0tPjA7KWlmKGNbaF09PT1ifHxjW2hdLmxpc3RlbmVyJiZjW2hdLmxpc3RlbmVyPT09Yil7ZT1oO2JyZWFrfWlmKDA+ZSlyZXR1cm4gdGhpczsxPT09Yy5sZW5ndGg/KGMubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1thXSk6Yy5zcGxpY2UoZSwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGEsYil9cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihhKXt2YXIgYixjO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1thXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1thXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoYiBpbiB0aGlzLl9ldmVudHMpInJlbW92ZUxpc3RlbmVyIiE9PWImJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGIpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihjPXRoaXMuX2V2ZW50c1thXSxkKGMpKXRoaXMucmVtb3ZlTGlzdGVuZXIoYSxjKTtlbHNlIGZvcig7Yy5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoYSxjW2MubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1thXSx0aGlzfSxjLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbYV0/ZCh0aGlzLl9ldmVudHNbYV0pP1t0aGlzLl9ldmVudHNbYV1dOnRoaXMuX2V2ZW50c1thXS5zbGljZSgpOltdfSxjLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYz1hLl9ldmVudHMmJmEuX2V2ZW50c1tiXT9kKGEuX2V2ZW50c1tiXSk/MTphLl9ldmVudHNbYl0ubGVuZ3RoOjB9fSx7fV0sODpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oYSxiKXthLnN1cGVyXz1iLGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTphLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfTpmdW5jdGlvbihhLGIpe2Euc3VwZXJfPWI7dmFyIGM9ZnVuY3Rpb24oKXt9O2MucHJvdG90eXBlPWIucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBjLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9fSx7fV0sOTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmV4cG9ydHM9e307Yy5uZXh0VGljaz1mdW5jdGlvbigpe3ZhciBhPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuc2V0SW1tZWRpYXRlLGI9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXI7aWYoYSlyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoYSl9O2lmKGIpe3ZhciBjPVtdO3JldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS5zb3VyY2U7aWYoKGI9PT13aW5kb3d8fG51bGw9PT1iKSYmInByb2Nlc3MtdGljayI9PT1hLmRhdGEmJihhLnN0b3BQcm9wYWdhdGlvbigpLGMubGVuZ3RoPjApKXt2YXIgZD1jLnNoaWZ0KCk7ZCgpfX0sITApLGZ1bmN0aW9uKGEpe2MucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UoInByb2Nlc3MtdGljayIsIioiKX19cmV0dXJuIGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX19KCksYy50aXRsZT0iYnJvd3NlciIsYy5icm93c2VyPSEwLGMuZW52PXt9LGMuYXJndj1bXSxjLmJpbmRpbmc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LGMuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxjLmNoZGlyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX19LHt9XSwxMDpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiJvYmplY3QiPT10eXBlb2YgYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuY29weSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuZmlsbCYmImZ1bmN0aW9uIj09dHlwZW9mIGEucmVhZFVJbnQ4fX0se31dLDExOltmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gZShhLGIpe3ZhciBkPXtzZWVuOltdLHN0eWxpemU6Z307cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihkLmRlcHRoPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKGQuY29sb3JzPWFyZ3VtZW50c1szXSkscChiKT9kLnNob3dIaWRkZW49YjpiJiZjLl9leHRlbmQoZCxiKSx2KGQuc2hvd0hpZGRlbikmJihkLnNob3dIaWRkZW49ITEpLHYoZC5kZXB0aCkmJihkLmRlcHRoPTIpLHYoZC5jb2xvcnMpJiYoZC5jb2xvcnM9ITEpLHYoZC5jdXN0b21JbnNwZWN0KSYmKGQuY3VzdG9tSW5zcGVjdD0hMCksZC5jb2xvcnMmJihkLnN0eWxpemU9ZiksaShkLGEsZC5kZXB0aCl9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPWUuc3R5bGVzW2JdO3JldHVybiBjPyIbWyIrZS5jb2xvcnNbY11bMF0rIm0iK2ErIhtbIitlLmNvbG9yc1tjXVsxXSsibSI6YX1mdW5jdGlvbiBnKGEpe3JldHVybiBhfWZ1bmN0aW9uIGgoYSl7dmFyIGI9e307cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPSEwfSksYn1mdW5jdGlvbiBpKGEsYixkKXtpZihhLmN1c3RvbUluc3BlY3QmJmImJkEoYi5pbnNwZWN0KSYmYi5pbnNwZWN0IT09Yy5pbnNwZWN0JiYoIWIuY29uc3RydWN0b3J8fGIuY29uc3RydWN0b3IucHJvdG90eXBlIT09Yikpe3ZhciBlPWIuaW5zcGVjdChkLGEpO3JldHVybiB0KGUpfHwoZT1pKGEsZSxkKSksZX12YXIgZj1qKGEsYik7aWYoZilyZXR1cm4gZjt2YXIgZz1PYmplY3Qua2V5cyhiKSxwPWgoZyk7aWYoYS5zaG93SGlkZGVuJiYoZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKSkseihiKSYmKGcuaW5kZXhPZigibWVzc2FnZSIpPj0wfHxnLmluZGV4T2YoImRlc2NyaXB0aW9uIik+PTApKXJldHVybiBrKGIpO2lmKDA9PT1nLmxlbmd0aCl7aWYoQShiKSl7dmFyIHE9Yi5uYW1lPyI6ICIrYi5uYW1lOiIiO3JldHVybiBhLnN0eWxpemUoIltGdW5jdGlvbiIrcSsiXSIsInNwZWNpYWwiKX1pZih3KGIpKXJldHVybiBhLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpLCJyZWdleHAiKTtpZih5KGIpKXJldHVybiBhLnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKSwiZGF0ZSIpO2lmKHooYikpcmV0dXJuIGsoYil9dmFyIHI9IiIscz0hMSx1PVsieyIsIn0iXTtpZihvKGIpJiYocz0hMCx1PVsiWyIsIl0iXSksQShiKSl7dmFyIHY9Yi5uYW1lPyI6ICIrYi5uYW1lOiIiO3I9IiBbRnVuY3Rpb24iK3YrIl0ifWlmKHcoYikmJihyPSIgIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYikpLHkoYikmJihyPSIgIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKGIpKSx6KGIpJiYocj0iICIrayhiKSksMD09PWcubGVuZ3RoJiYoIXN8fDA9PWIubGVuZ3RoKSlyZXR1cm4gdVswXStyK3VbMV07aWYoMD5kKXJldHVybiB3KGIpP2Euc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYiksInJlZ2V4cCIpOmEuc3R5bGl6ZSgiW09iamVjdF0iLCJzcGVjaWFsIik7YS5zZWVuLnB1c2goYik7dmFyIHg7cmV0dXJuIHg9cz9sKGEsYixkLHAsZyk6Zy5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIG0oYSxiLGQscCxjLHMpfSksYS5zZWVuLnBvcCgpLG4oeCxyLHUpfWZ1bmN0aW9uIGooYSxiKXtpZih2KGIpKXJldHVybiBhLnN0eWxpemUoInVuZGVmaW5lZCIsInVuZGVmaW5lZCIpO2lmKHQoYikpe3ZhciBjPSInIitKU09OLnN0cmluZ2lmeShiKS5yZXBsYWNlKC9eInwiJC9nLCIiKS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykrIiciO3JldHVybiBhLnN0eWxpemUoYywic3RyaW5nIil9cmV0dXJuIHMoYik/YS5zdHlsaXplKCIiK2IsIm51bWJlciIpOnAoYik/YS5zdHlsaXplKCIiK2IsImJvb2xlYW4iKTpxKGIpP2Euc3R5bGl6ZSgibnVsbCIsIm51bGwiKTp2b2lkIDB9ZnVuY3Rpb24gayhhKXtyZXR1cm4iWyIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkrIl0ifWZ1bmN0aW9uIGwoYSxiLGMsZCxlKXtmb3IodmFyIGY9W10sZz0wLGg9Yi5sZW5ndGg7aD5nOysrZylmLnB1c2goRihiLFN0cmluZyhnKSk/bShhLGIsYyxkLFN0cmluZyhnKSwhMCk6IiIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5tYXRjaCgvXlxkKyQvKXx8Zi5wdXNoKG0oYSxiLGMsZCxlLCEwKSl9KSxmfWZ1bmN0aW9uIG0oYSxiLGMsZCxlLGYpe3ZhciBnLGgsajtpZihqPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixlKXx8e3ZhbHVlOmJbZV19LGouZ2V0P2g9ai5zZXQ/YS5zdHlsaXplKCJbR2V0dGVyL1NldHRlcl0iLCJzcGVjaWFsIik6YS5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKTpqLnNldCYmKGg9YS5zdHlsaXplKCJbU2V0dGVyXSIsInNwZWNpYWwiKSksRihkLGUpfHwoZz0iWyIrZSsiXSIpLGh8fChhLnNlZW4uaW5kZXhPZihqLnZhbHVlKTwwPyhoPXEoYyk/aShhLGoudmFsdWUsbnVsbCk6aShhLGoudmFsdWUsYy0xKSxoLmluZGV4T2YoIlxuIik+LTEmJihoPWY/aC5zcGxpdCgiXG4iKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIiAgIithfSkuam9pbigiXG4iKS5zdWJzdHIoMik6IlxuIitoLnNwbGl0KCJcbiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4iICAgIithfSkuam9pbigiXG4iKSkpOmg9YS5zdHlsaXplKCJbQ2lyY3VsYXJdIiwic3BlY2lhbCIpKSx2KGcpKXtpZihmJiZlLm1hdGNoKC9eXGQrJC8pKXJldHVybiBoO2c9SlNPTi5zdHJpbmdpZnkoIiIrZSksZy5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pPyhnPWcuc3Vic3RyKDEsZy5sZW5ndGgtMiksZz1hLnN0eWxpemUoZywibmFtZSIpKTooZz1nLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC8oXiJ8IiQpL2csIiciKSxnPWEuc3R5bGl6ZShnLCJzdHJpbmciKSl9cmV0dXJuIGcrIjogIitofWZ1bmN0aW9uIG4oYSxiLGMpe3ZhciBkPTAsZT1hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBkKyssYi5pbmRleE9mKCJcbiIpPj0wJiZkKyssYStiLnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSwwKTtyZXR1cm4gZT42MD9jWzBdKygiIj09PWI/IiI6YisiXG4gIikrIiAiK2Euam9pbigiLFxuICAiKSsiICIrY1sxXTpjWzBdK2IrIiAiK2Euam9pbigiLCAiKSsiICIrY1sxXX1mdW5jdGlvbiBvKGEpe3JldHVybiBBcnJheS5pc0FycmF5KGEpfWZ1bmN0aW9uIHAoYSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYX1mdW5jdGlvbiBxKGEpe3JldHVybiBudWxsPT09YX1mdW5jdGlvbiByKGEpe3JldHVybiBudWxsPT1hfWZ1bmN0aW9uIHMoYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhfWZ1bmN0aW9uIHQoYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhfWZ1bmN0aW9uIHUoYSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBhfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIHZvaWQgMD09PWF9ZnVuY3Rpb24gdyhhKXtyZXR1cm4geChhKSYmIltvYmplY3QgUmVnRXhwXSI9PT1DKGEpCn1mdW5jdGlvbiB4KGEpe3JldHVybiJvYmplY3QiPT10eXBlb2YgYSYmbnVsbCE9PWF9ZnVuY3Rpb24geShhKXtyZXR1cm4geChhKSYmIltvYmplY3QgRGF0ZV0iPT09QyhhKX1mdW5jdGlvbiB6KGEpe3JldHVybiB4KGEpJiYoIltvYmplY3QgRXJyb3JdIj09PUMoYSl8fGEgaW5zdGFuY2VvZiBFcnJvcil9ZnVuY3Rpb24gQShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYX1mdW5jdGlvbiBCKGEpe3JldHVybiBudWxsPT09YXx8ImJvb2xlYW4iPT10eXBlb2YgYXx8Im51bWJlciI9PXR5cGVvZiBhfHwic3RyaW5nIj09dHlwZW9mIGF8fCJzeW1ib2wiPT10eXBlb2YgYXx8InVuZGVmaW5lZCI9PXR5cGVvZiBhfWZ1bmN0aW9uIEMoYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiBEKGEpe3JldHVybiAxMD5hPyIwIithLnRvU3RyaW5nKDEwKTphLnRvU3RyaW5nKDEwKX1mdW5jdGlvbiBFKCl7dmFyIGE9bmV3IERhdGUsYj1bRChhLmdldEhvdXJzKCkpLEQoYS5nZXRNaW51dGVzKCkpLEQoYS5nZXRTZWNvbmRzKCkpXS5qb2luKCI6Iik7cmV0dXJuW2EuZ2V0RGF0ZSgpLEpbYS5nZXRNb250aCgpXSxiXS5qb2luKCIgIil9ZnVuY3Rpb24gRihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX12YXIgRz0vJVtzZGolXS9nO2MuZm9ybWF0PWZ1bmN0aW9uKGEpe2lmKCF0KGEpKXtmb3IodmFyIGI9W10sYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYi5wdXNoKGUoYXJndW1lbnRzW2NdKSk7cmV0dXJuIGIuam9pbigiICIpfWZvcih2YXIgYz0xLGQ9YXJndW1lbnRzLGY9ZC5sZW5ndGgsZz1TdHJpbmcoYSkucmVwbGFjZShHLGZ1bmN0aW9uKGEpe2lmKCIlJSI9PT1hKXJldHVybiIlIjtpZihjPj1mKXJldHVybiBhO3N3aXRjaChhKXtjYXNlIiVzIjpyZXR1cm4gU3RyaW5nKGRbYysrXSk7Y2FzZSIlZCI6cmV0dXJuIE51bWJlcihkW2MrK10pO2Nhc2UiJWoiOnRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZFtjKytdKX1jYXRjaChiKXtyZXR1cm4iW0NpcmN1bGFyXSJ9ZGVmYXVsdDpyZXR1cm4gYX19KSxoPWRbY107Zj5jO2g9ZFsrK2NdKWcrPXEoaCl8fCF4KGgpPyIgIitoOiIgIitlKGgpO3JldHVybiBnfSxjLmRlcHJlY2F0ZT1mdW5jdGlvbihhLGUpe2Z1bmN0aW9uIGYoKXtpZighZyl7aWYoYi50aHJvd0RlcHJlY2F0aW9uKXRocm93IG5ldyBFcnJvcihlKTtiLnRyYWNlRGVwcmVjYXRpb24/Y29uc29sZS50cmFjZShlKTpjb25zb2xlLmVycm9yKGUpLGc9ITB9cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWlmKHYoZC5wcm9jZXNzKSlyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5kZXByZWNhdGUoYSxlKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2lmKGIubm9EZXByZWNhdGlvbj09PSEwKXJldHVybiBhO3ZhciBnPSExO3JldHVybiBmfTt2YXIgSCxJPXt9O2MuZGVidWdsb2c9ZnVuY3Rpb24oYSl7aWYodihIKSYmKEg9Yi5lbnYuTk9ERV9ERUJVR3x8IiIpLGE9YS50b1VwcGVyQ2FzZSgpLCFJW2FdKWlmKG5ldyBSZWdFeHAoIlxcYiIrYSsiXFxiIiwiaSIpLnRlc3QoSCkpe3ZhciBkPWIucGlkO0lbYV09ZnVuY3Rpb24oKXt2YXIgYj1jLmZvcm1hdC5hcHBseShjLGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcigiJXMgJWQ6ICVzIixhLGQsYil9fWVsc2UgSVthXT1mdW5jdGlvbigpe307cmV0dXJuIElbYV19LGMuaW5zcGVjdD1lLGUuY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxlLnN0eWxlcz17c3BlY2lhbDoiY3lhbiIsbnVtYmVyOiJ5ZWxsb3ciLCJib29sZWFuIjoieWVsbG93Iix1bmRlZmluZWQ6ImdyZXkiLCJudWxsIjoiYm9sZCIsc3RyaW5nOiJncmVlbiIsZGF0ZToibWFnZW50YSIscmVnZXhwOiJyZWQifSxjLmlzQXJyYXk9byxjLmlzQm9vbGVhbj1wLGMuaXNOdWxsPXEsYy5pc051bGxPclVuZGVmaW5lZD1yLGMuaXNOdW1iZXI9cyxjLmlzU3RyaW5nPXQsYy5pc1N5bWJvbD11LGMuaXNVbmRlZmluZWQ9dixjLmlzUmVnRXhwPXcsYy5pc09iamVjdD14LGMuaXNEYXRlPXksYy5pc0Vycm9yPXosYy5pc0Z1bmN0aW9uPUEsYy5pc1ByaW1pdGl2ZT1CLGMuaXNCdWZmZXI9YSgiLi9zdXBwb3J0L2lzQnVmZmVyIik7dmFyIEo9WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTtjLmxvZz1mdW5jdGlvbigpe2NvbnNvbGUubG9nKCIlcyAtICVzIixFKCksYy5mb3JtYXQuYXBwbHkoYyxhcmd1bWVudHMpKX0sYy5pbmhlcml0cz1hKCJpbmhlcml0cyIpLGMuX2V4dGVuZD1mdW5jdGlvbihhLGIpe2lmKCFifHwheChiKSlyZXR1cm4gYTtmb3IodmFyIGM9T2JqZWN0LmtleXMoYiksZD1jLmxlbmd0aDtkLS07KWFbY1tkXV09YltjW2RdXTtyZXR1cm4gYX19KS5jYWxsKHRoaXMsYSgiL21udC9zcmMvZmgtanMtc2RrL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIpLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9zdXBwb3J0L2lzQnVmZmVyIjoxMCwiL21udC9zcmMvZmgtanMtc2RrL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyI6OSxpbmhlcml0czo4fV0sMTI6W2Z1bmN0aW9uKGEsYil7IWZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiOyFmdW5jdGlvbihhLGMpeyJ1bmRlZmluZWQiIT10eXBlb2YgYj9iLmV4cG9ydHM9YygpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJiJvYmplY3QiPT10eXBlb2YgZGVmaW5lLmFtZD9kZWZpbmUoYyk6dGhpc1thXT1jKCl9KCJsb2ciLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdHlwZW9mIGNvbnNvbGU9PT1jP2w6Y29uc29sZVtiXT09PWE/Y29uc29sZS5sb2chPT1hP2QoY29uc29sZSwibG9nIik6bDpkKGNvbnNvbGUsYil9ZnVuY3Rpb24gZChiLGMpe3ZhciBkPWJbY107aWYoZC5iaW5kIT09YSlyZXR1cm4gYltjXS5iaW5kKGIpO2lmKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPT09YSlyZXR1cm4gZShkLGIpO3RyeXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChiW2NdLGIpfWNhdGNoKGYpe3JldHVybiBlKGQsYil9fWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkoYSxbYixhcmd1bWVudHNdKX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPG0ubGVuZ3RoO2IrKylrW21bYl1dPWEobVtiXSl9ZnVuY3Rpb24gZygpe3JldHVybiB0eXBlb2Ygd2luZG93IT09YyYmd2luZG93LmRvY3VtZW50IT09YSYmd2luZG93LmRvY3VtZW50LmNvb2tpZSE9PWF9ZnVuY3Rpb24gaCgpe3RyeXtyZXR1cm4gdHlwZW9mIHdpbmRvdyE9PWMmJndpbmRvdy5sb2NhbFN0b3JhZ2UhPT1hfWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBpKGEpe3ZhciBiLGM9ITE7Zm9yKHZhciBkIGluIGsubGV2ZWxzKWlmKGsubGV2ZWxzLmhhc093blByb3BlcnR5KGQpJiZrLmxldmVsc1tkXT09PWEpe2I9ZDticmVha31pZihoKCkpdHJ5e3dpbmRvdy5sb2NhbFN0b3JhZ2UubG9nbGV2ZWw9Yn1jYXRjaChlKXtjPSEwfWVsc2UgYz0hMDtjJiZnKCkmJih3aW5kb3cuZG9jdW1lbnQuY29va2llPSJsb2dsZXZlbD0iK2IrIjsiKX1mdW5jdGlvbiBqKCl7dmFyIGI7aWYoaCgpJiYoYj13aW5kb3cubG9jYWxTdG9yYWdlLmxvZ2xldmVsKSxiPT09YSYmZygpKXt2YXIgYz1uLmV4ZWMod2luZG93LmRvY3VtZW50LmNvb2tpZSl8fFtdO2I9Y1sxXX1rLmxldmVsc1tiXT09PWEmJihiPSJXQVJOIiksay5zZXRMZXZlbChrLmxldmVsc1tiXSl9dmFyIGs9e30sbD1mdW5jdGlvbigpe30sbT1bInRyYWNlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIl0sbj0vbG9nbGV2ZWw9KFteO10rKS87cmV0dXJuIGsubGV2ZWxzPXtUUkFDRTowLERFQlVHOjEsSU5GTzoyLFdBUk46MyxFUlJPUjo0LFNJTEVOVDo1fSxrLnNldExldmVsPWZ1bmN0aW9uKGQpe2lmKCJudW1iZXIiPT10eXBlb2YgZCYmZD49MCYmZDw9ay5sZXZlbHMuU0lMRU5UKXtpZihpKGQpLGQ9PT1rLmxldmVscy5TSUxFTlQpcmV0dXJuIHZvaWQgZihmdW5jdGlvbigpe3JldHVybiBsfSk7aWYodHlwZW9mIGNvbnNvbGU9PT1jKXJldHVybiBmKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3R5cGVvZiBjb25zb2xlIT09YyYmKGsuc2V0TGV2ZWwoZCksa1thXS5hcHBseShrLGFyZ3VtZW50cykpfX0pLCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZyI7ZihmdW5jdGlvbihhKXtyZXR1cm4gZDw9ay5sZXZlbHNbYS50b1VwcGVyQ2FzZSgpXT9iKGEpOmx9KX1lbHNle2lmKCJzdHJpbmciIT10eXBlb2YgZHx8ay5sZXZlbHNbZC50b1VwcGVyQ2FzZSgpXT09PWEpdGhyb3cibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogIitkO2suc2V0TGV2ZWwoay5sZXZlbHNbZC50b1VwcGVyQ2FzZSgpXSl9fSxrLmVuYWJsZUFsbD1mdW5jdGlvbigpe2suc2V0TGV2ZWwoay5sZXZlbHMuVFJBQ0UpfSxrLmRpc2FibGVBbGw9ZnVuY3Rpb24oKXtrLnNldExldmVsKGsubGV2ZWxzLlNJTEVOVCl9LGooKSxrfSl9KCl9LHt9XSwxMzpbZnVuY3Rpb24oYSxiKXt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2IuZXhwb3J0cz1mdW5jdGlvbihhKXtzd2l0Y2goYy5jYWxsKGEpKXtjYXNlIltvYmplY3QgRnVuY3Rpb25dIjpyZXR1cm4iZnVuY3Rpb24iO2Nhc2UiW29iamVjdCBEYXRlXSI6cmV0dXJuImRhdGUiO2Nhc2UiW29iamVjdCBSZWdFeHBdIjpyZXR1cm4icmVnZXhwIjtjYXNlIltvYmplY3QgQXJndW1lbnRzXSI6cmV0dXJuImFyZ3VtZW50cyI7Y2FzZSJbb2JqZWN0IEFycmF5XSI6cmV0dXJuImFycmF5IjtjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuInN0cmluZyJ9aWYoIm9iamVjdCI9PXR5cGVvZiBhJiZhJiYibnVtYmVyIj09dHlwZW9mIGEubGVuZ3RoKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS5jYWxsZWUpcmV0dXJuImFyZ3VtZW50cyJ9Y2F0Y2goYil7aWYoYiBpbnN0YW5jZW9mIFR5cGVFcnJvcilyZXR1cm4iYXJndW1lbnRzIn1yZXR1cm4gbnVsbD09PWE/Im51bGwiOnZvaWQgMD09PWE/InVuZGVmaW5lZCI6YSYmMT09PWEubm9kZVR5cGU/ImVsZW1lbnQiOmE9PT1PYmplY3QoYSk/Im9iamVjdCI6dHlwZW9mIGF9fSx7fV0sMTQ6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi9tb2R1bGVzL2NvbnN0YW50cyIpLGQ9YSgiLi9tb2R1bGVzL2V2ZW50cyIpLGU9YSgiLi9tb2R1bGVzL2xvZ2dlciIpLGY9YSgiLi9tb2R1bGVzL2FqYXgiKSxkPWEoIi4vbW9kdWxlcy9ldmVudHMiKSxnPWEoIi4vbW9kdWxlcy93YWl0Rm9yQ2xvdWQiKSxoPWEoIi4vbW9kdWxlcy9hcGlfYWN0IiksaT1hKCIuL21vZHVsZXMvYXBpX2F1dGgiKSxqPWEoIi4vbW9kdWxlcy9hcGlfc2VjIiksaz1hKCIuL21vZHVsZXMvYXBpX2hhc2giKSxsPWEoIi4vbW9kdWxlcy9zeW5jLWNsaSIpLG09YSgiLi9tb2R1bGVzL2FwaV9tYmFhcyIpLG49YSgiLi9tb2R1bGVzL2FwaV9jbG91ZCIpLG89YSgiLi9tb2R1bGVzL2ZocGFyYW1zIikscD1hKCIuL21vZHVsZXMvYXBwUHJvcHMiKSxxPWEoIi4vbW9kdWxlcy9kZXZpY2UiKSxyPWZ1bmN0aW9uKGEsYil7ZC5hZGRMaXN0ZW5lcihhLGIpLGE9PT1jLklOSVRfRVZFTlQmJihnLmlzUmVhZHkoKT9iKG51bGwse2hvc3Q6Zy5nZXRDbG91ZEhvc3RVcmwoKX0pOmcuZ2V0SW5pdEVycm9yKCkmJmIoZy5nZXRJbml0RXJyb3IoKSkpfSxzPWZ1bmN0aW9uKGEsYil7YT09PWMuSU5JVF9FVkVOVCYmZy5pc1JlYWR5KCk/YihudWxsLHtob3N0OmcuZ2V0Q2xvdWRIb3N0VXJsKCl9KTphPT09Yy5JTklUX0VWRU5UJiZnLmdldEluaXRFcnJvcigpP2IoZy5nZXRJbml0RXJyb3IoKSk6ZC5vbmNlKGEsYil9LHQ9ZnVuY3Rpb24oYSxiLGMpe2Uud2FybigiJGZoLmluaXQgd2lsbCBiZSBkZXByZWNhdGVkIHNvb24iKSxnLnJlYWR5KGZ1bmN0aW9uKGEsZCl7aWYoYSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGMoYSl9ZWxzZSJmdW5jdGlvbiI9PXR5cGVvZiBiJiZiKGQuaG9zdCl9KX0sdT13aW5kb3cuJGZofHx7fTt1LmluaXQ9dCx1LmFjdD1oLHUuYXV0aD1pLHUuY2xvdWQ9bix1LnNlYz1qLHUuaGFzaD1rLHUuc3luYz1sLHUuYWpheD11Ll9fYWpheD1mLHUubWJhYXM9bSx1Ll9nZXREZXZpY2VJZD1xLmdldERldmljZUlkLHUuZmhfdGltZW91dD02ZTQsdS5nZXRDbG91ZFVSTD1mdW5jdGlvbigpe3JldHVybiBnLmdldENsb3VkSG9zdFVybCgpfSx1LmdldEZIUGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIG8uYnVpbGRGSFBhcmFtcygpfSx1LmFkZExpc3RlbmVyPXIsdS5vbj1yLHUub25jZT1zO2Zvcih2YXIgdj1bInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwic2V0TWF4TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiZW1pdCJdLHc9MDt3PHYubGVuZ3RoO3crKyl1W3Zbd11dPWRbdlt3XV07dS5vbihjLklOSVRfRVZFTlQsZnVuY3Rpb24oYSxiKXthPyh1LmNsb3VkX3Byb3BzPXt9LHUuYXBwX3Byb3BzPXt9KToodS5jbG91ZF9wcm9wcz17aG9zdHM6e3VybDpiLmhvc3R9fSx1LmFwcF9wcm9wcz1wLmdldEFwcFByb3BzKCkpfSksdS5vbihjLklOVEVSTkFMX0NPTkZJR19MT0FERURfRVZFTlQsZnVuY3Rpb24oYSl7dS5hcHBfcHJvcHM9YT97fTpwLmdldEFwcFByb3BzKCksZC5lbWl0KGMuQ09ORklHX0xPQURFRF9FVkVOVCxudWxsKX0pLHUucmVzZXQ9Zy5yZXNldCx3aW5kb3cuJGZoPXUsYi5leHBvcnRzPXV9LHsiLi9tb2R1bGVzL2FqYXgiOjE2LCIuL21vZHVsZXMvYXBpX2FjdCI6MTcsIi4vbW9kdWxlcy9hcGlfYXV0aCI6MTgsIi4vbW9kdWxlcy9hcGlfY2xvdWQiOjE5LCIuL21vZHVsZXMvYXBpX2hhc2giOjIwLCIuL21vZHVsZXMvYXBpX21iYWFzIjoyMSwiLi9tb2R1bGVzL2FwaV9zZWMiOjIyLCIuL21vZHVsZXMvYXBwUHJvcHMiOjIzLCIuL21vZHVsZXMvY29uc3RhbnRzIjoyNSwiLi9tb2R1bGVzL2RldmljZSI6MjcsIi4vbW9kdWxlcy9ldmVudHMiOjI4LCIuL21vZHVsZXMvZmhwYXJhbXMiOjI5LCIuL21vZHVsZXMvbG9nZ2VyIjozNSwiLi9tb2R1bGVzL3N5bmMtY2xpIjo0MywiLi9tb2R1bGVzL3dhaXRGb3JDbG91ZCI6NDV9XSwxNTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhKXt0aGlzLnhkcj1hLHRoaXMuaXNXcmFwcGVyPSEwLHRoaXMucmVhZHlTdGF0ZT0wLHRoaXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnN0YXR1c1RleHQ9IiIsdGhpcy5yZXNwb25zZVRleHQ9IiI7dmFyIGI9dGhpczt0aGlzLnhkci5vbmxvYWQ9ZnVuY3Rpb24oKXtiLnJlYWR5U3RhdGU9NCxiLnN0YXR1cz0yMDAsYi5zdGF0dXNUZXh0PSIiLGIucmVzcG9uc2VUZXh0PWIueGRyLnJlc3BvbnNlVGV4dCxiLm9ucmVhZHlzdGF0ZWNoYW5nZSYmYi5vbnJlYWR5c3RhdGVjaGFuZ2UoKX0sdGhpcy54ZHIub25lcnJvcj1mdW5jdGlvbigpe2Iub25lcnJvciYmYi5vbmVycm9yKCksYi5yZWFkeVN0YXRlPTQsYi5zdGF0dXM9MCxiLnN0YXR1c1RleHQ9IiIsYi5vbnJlYWR5c3RhdGVjaGFuZ2UmJmIub25yZWFkeXN0YXRlY2hhbmdlKCl9LHRoaXMueGRyLm9udGltZW91dD1mdW5jdGlvbigpe2IucmVhZHlTdGF0ZT00LGIuc3RhdHVzPTQwOCxiLnN0YXR1c1RleHQ9InRpbWVvdXQiLGIub25yZWFkeXN0YXRlY2hhbmdlJiZiLm9ucmVhZHlzdGF0ZWNoYW5nZSgpfX07Yy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe3RoaXMueGRyLm9wZW4oYSxiKX0sYy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihhKXt0aGlzLnhkci5zZW5kKGEpfSxjLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMueGRyLmFib3J0KCl9LGMucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oKXt9LGMucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKCl7fSxiLmV4cG9ydHM9Y30se31dLDE2OltmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe3JldHVybiB1LmVtaXQoYixjKSwhMH1mdW5jdGlvbiBkKGEsYixkLGUpe3JldHVybiBhLmdsb2JhbD9jKGJ8fEMsZCxlKTp2b2lkIDB9ZnVuY3Rpb24gZShhKXthLmdsb2JhbCYmMD09PUkuYWN0aXZlKysmJmQoYSxudWxsLCJhamF4U3RhcnQiKX1mdW5jdGlvbiBmKGEpe2EuZ2xvYmFsJiYhLS1JLmFjdGl2ZSYmZChhLG51bGwsImFqYXhTdG9wIil9ZnVuY3Rpb24gZyhhLGIpe3ZhciBjPWIuY29udGV4dDtyZXR1cm4gYi5iZWZvcmVTZW5kLmNhbGwoYyxhLGIpPT09ITE/ITE6dm9pZCBkKGIsYywiYWpheFNlbmQiLFthLGJdKX1mdW5jdGlvbiBoKGEsYixjKXt2YXIgZT1jLmNvbnRleHQsZj0ic3VjY2VzcyI7Yy5zdWNjZXNzLmNhbGwoZSxhLGYsYiksZChjLGUsImFqYXhTdWNjZXNzIixbYixjLGFdKSxqKGYsYixjKX1mdW5jdGlvbiBpKGEsYixjLGUpe3ZhciBmPWUuY29udGV4dDtlLmVycm9yLmNhbGwoZixjLGIsYSksZChlLGYsImFqYXhFcnJvciIsW2MsZSxhXSksaihiLGMsZSl9ZnVuY3Rpb24gaihhLGIsYyl7dmFyIGU9Yy5jb250ZXh0O2MuY29tcGxldGUuY2FsbChlLGIsYSksZChjLGUsImFqYXhDb21wbGV0ZSIsW2IsY10pLGYoYyl9ZnVuY3Rpb24gaygpe31mdW5jdGlvbiBsKCl7dmFyIGE9ITE7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSIpPj0wJiYoYT0hMCksYX1mdW5jdGlvbiBtKGEpe3ZhciBiPW51bGw7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0JiYoYj1uZXcgWE1MSHR0cFJlcXVlc3QpLGwoKSYmYT09PSEwJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5YRG9tYWluUmVxdWVzdCYmInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cuY29yZG92YSYmKGI9bmV3IHYobmV3IFhEb21haW5SZXF1ZXN0KSksInVuZGVmaW5lZCIhPXR5cGVvZiBUaXRhbml1bSl7SS5zZXR0aW5ncyYmSS5zZXR0aW5ncy50aW1lb3V0JiYocGFyYW1zLnRpbWVvdXQ9SS5zZXR0aW5ncy50aW1lb3V0KSxiPVRpdGFuaXVtLk5ldHdvcmsuY3JlYXRlSFRUUENsaWVudChwYXJhbXMpfXJldHVybiBifWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGEmJihhPT1HPyJodG1sIjphPT1GPyJqc29uIjpELnRlc3QoYSk/InNjcmlwdCI6RS50ZXN0KGEpJiYieG1sIil8fCJ0ZXh0In1mdW5jdGlvbiBvKGEsYil7cmV0dXJuKGErIiYiK2IpLnJlcGxhY2UoL1smP117MSwyfS8sIj8iKX1mdW5jdGlvbiBwKGEpeyJvYmplY3QiPT09dChhLmRhdGEpJiYoImZ1bmN0aW9uIj09dHlwZW9mIGEuZGF0YS5hcHBlbmQ/YS5mb3JtZGF0YT0hMDphLmRhdGE9cihhLmRhdGEpKSwhYS5kYXRhfHxhLnR5cGUmJiJHRVQiIT1hLnR5cGUudG9VcHBlckNhc2UoKXx8KGEudXJsPW8oYS51cmwsYS5kYXRhKSl9ZnVuY3Rpb24gcShhLGIsYyxkKXt2YXIgZT0iYXJyYXkiPT09dChiKTtmb3IodmFyIGYgaW4gYil7dmFyIGc9YltmXTtkJiYoZj1jP2Q6ZCsiWyIrKGU/IiI6ZikrIl0iKSwhZCYmZT9hLmFkZChnLm5hbWUsZy52YWx1ZSk6KGM/ImFycmF5Ij09PXQoZyk6Im9iamVjdCI9PT10KGcpKT9xKGEsZyxjLGYpOmEuYWRkKGYsZyl9fWZ1bmN0aW9uIHIoYSxiKXt2YXIgYz1bXTtyZXR1cm4gYy5hZGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnB1c2goSihhKSsiPSIrSihiKSl9LHEoYyxhLGIpLGMuam9pbigiJiIpLnJlcGxhY2UoIiUyMCIsIisiKX1mdW5jdGlvbiBzKGEpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZTtyZXR1cm4gYi5jYWxsKGFyZ3VtZW50cywxKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Zvcih6IGluIGIpdm9pZCAwIT09Ylt6XSYmKGFbel09Ylt6XSl9KSxhfXZhciB0LHU9YSgiLi9ldmVudHMiKSx2PWEoIi4vWERvbWFpblJlcXVlc3RXcmFwcGVyIiksdz1hKCIuL2xvZ2dlciIpO3RyeXt0PWEoInR5cGUtb2YiKX1jYXRjaCh4KXt2YXIgeT1hO3Q9eSgidHlwZSIpfXZhciB6LEEsQj0wLEM9d2luZG93LmRvY3VtZW50LEQ9L14oPzp0ZXh0fGFwcGxpY2F0aW9uKVwvamF2YXNjcmlwdC9pLEU9L14oPzp0ZXh0fGFwcGxpY2F0aW9uKVwveG1sL2ksRj0iYXBwbGljYXRpb24vanNvbiIsRz0idGV4dC9odG1sIixIPS9eXHMqJC8sST1iLmV4cG9ydHM9ZnVuY3Rpb24oYSl7dmFyIGI9cyh7fSxhfHx7fSk7d2luZG93JiZ3aW5kb3cuJGZoJiYibnVtYmVyIj09dHlwZW9mIHdpbmRvdy4kZmguZmhfdGltZW91dCYmKEkuc2V0dGluZ3MudGltZW91dD13aW5kb3cuJGZoLmZoX3RpbWVvdXQpO2Zvcih6IGluIEkuc2V0dGluZ3Mpdm9pZCAwPT09Ylt6XSYmKGJbel09SS5zZXR0aW5nc1t6XSk7ZShiKSxiLmNyb3NzRG9tYWlufHwoYi5jcm9zc0RvbWFpbj0vXihbXHctXSs6KT9cL1wvKFteXC9dKykvLnRlc3QoYi51cmwpJiYoUmVnRXhwLiQxIT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2x8fFJlZ0V4cC4kMiE9d2luZG93LmxvY2F0aW9uLmhvc3QpKTt2YXIgYz1iLmRhdGFUeXBlLGQ9Lz1cPy8udGVzdChiLnVybCk7aWYoImpzb25wIj09Y3x8ZClyZXR1cm4gZHx8KGIudXJsPW8oYi51cmwsKGIuanNvbnA/Yi5qc29ucDoiX2NhbGxiYWNrIikrIj0/IikpLEkuSlNPTlAoYik7Yi51cmx8fChiLnVybD13aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSkscChiKTt2YXIgZj1iLmFjY2VwdHNbY10saj17fSxsPS9eKFtcdy1dKzopXC9cLy8udGVzdChiLnVybCk/UmVnRXhwLiQxOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCxtPWIueGhyKGIuY3Jvc3NEb21haW4pLHE9bnVsbDtiLmNyb3NzRG9tYWlufHwoalsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLGYmJihqLkFjY2VwdD1mLGYuaW5kZXhPZigiLCIpPi0xJiYoZj1mLnNwbGl0KCIsIiwyKVswXSksbS5vdmVycmlkZU1pbWVUeXBlJiZtLm92ZXJyaWRlTWltZVR5cGUoZikpLChiLmNvbnRlbnRUeXBlfHxiLmRhdGEmJiFiLmZvcm1kYXRhJiYiR0VUIiE9Yi50eXBlLnRvVXBwZXJDYXNlKCkpJiYoalsiQ29udGVudC1UeXBlIl09Yi5jb250ZW50VHlwZXx8ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpLGIuaGVhZGVycz1zKGosYi5oZWFkZXJzfHx7fSksInVuZGVmaW5lZCIhPXR5cGVvZiBUaXRhbml1bSYmKG0ub25lcnJvcj1mdW5jdGlvbigpe3EmJihjbGVhclRpbWVvdXQocSksaShudWxsLCJlcnJvciIsbSxiKSl9KSxtLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PW0ucmVhZHlTdGF0ZSl7Y2xlYXJUaW1lb3V0KHEpLHE9dm9pZCAwO3ZhciBhLGQ9ITE7aWYoYi50cnlKU09OUCYmMD09PW0uc3RhdHVzJiZiLmNyb3NzRG9tYWluJiYhbS5pc1RpbWVvdXQmJiJmaWxlOiIhPWwpcmV0dXJuIHcuZGVidWcoInJldHJ5IGFqYXggY2FsbCB3aXRoIGpzb25wIiksYi50eXBlPSJHRVQiLGIuZGF0YVR5cGU9Impzb25wIixiLmRhdGE9Il9qc29ucGRhdGE9IitiLmRhdGEsSShiKTtpZihtLnN0YXR1cz49MjAwJiZtLnN0YXR1czwzMDB8fDMwND09bS5zdGF0dXN8fDA9PW0uc3RhdHVzJiYiZmlsZToiPT1sKXtjPWN8fG4obS5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpLGE9bS5yZXNwb25zZVRleHQsdy5kZWJ1ZygiYWpheCByZXNwb25zZSA6OiBzdGF0dXMgPSAiK20uc3RhdHVzKyIgOjogYm9keSA9ICIrYSk7dHJ5eyJzY3JpcHQiPT1jPygxLGV2YWwpKGEpOiJ4bWwiPT1jP2E9bS5yZXNwb25zZVhNTDoianNvbiI9PWMmJihhPUgudGVzdChhKT9udWxsOkpTT04ucGFyc2UoYSkpfWNhdGNoKGUpe2Q9ZX1kPyh3LmRlYnVnKCJhamF4IGVycm9yIixkKSxpKGQsInBhcnNlcmVycm9yIixtLGIpKTpoKGEsbSxiKX1lbHNlIGkobnVsbCwiZXJyb3IiLG0sYil9fTt2YXIgcj0iYXN5bmMiaW4gYj9iLmFzeW5jOiEwO3cuZGVidWcoImFqYXggY2FsbCBzZXR0aW5ncyIsYiksbS5vcGVuKGIudHlwZSxiLnVybCxyKTtmb3IoQSBpbiBiLmhlYWRlcnMpbS5zZXRSZXF1ZXN0SGVhZGVyKEEsYi5oZWFkZXJzW0FdKTtyZXR1cm4gZyhtLGIpPT09ITE/KHcuZGVidWcoImFqYXggY2FsbCBpcyBhYm9ydGVkIGR1ZSB0byBhamF4QmVmb3JlU2VuZCIpLG0uYWJvcnQoKSwhMSk6KGIudGltZW91dD4wJiYocT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dy5kZWJ1ZygiYWpheCBjYWxsIHRpbWVkIG91dCIpLG0ub25yZWFkeXN0YXRlY2hhbmdlPWssbS5hYm9ydCgpLG0uaXNUaW1lb3V0PSEwLGkobnVsbCwidGltZW91dCIsbSxiKX0sYi50aW1lb3V0KSksbS5zZW5kKGIuZGF0YT9iLmRhdGE6bnVsbCksbSl9O0kuYWN0aXZlPTAsSS5KU09OUD1mdW5jdGlvbihhKXtpZighKCJ0eXBlImluIGEpKXJldHVybiBJKGEpO3ZhciBiLGM9Impzb25wIisgKytCLGQ9Qy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxlPWZ1bmN0aW9uKCl7YyBpbiB3aW5kb3cmJih3aW5kb3dbY109ayksaigiYWJvcnQiLGYsYSl9LGY9e2Fib3J0OmV9LGc9Qy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxDLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYS5lcnJvciYmKGQub25lcnJvcj1mdW5jdGlvbigpe2YuYWJvcnQoKSxhLmVycm9yKCl9KSx3aW5kb3dbY109ZnVuY3Rpb24oZCl7Y2xlYXJUaW1lb3V0KGIpLGI9dm9pZCAwLGRlbGV0ZSB3aW5kb3dbY10saChkLGYsYSl9LHAoYSksZC5zcmM9YS51cmwucmVwbGFjZSgvPVw/LywiPSIrYyksZy5pbnNlcnRCZWZvcmUoZCxnLmZpcnN0Q2hpbGQpLGEudGltZW91dD4wJiYoYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5hYm9ydCgpLGooInRpbWVvdXQiLGYsYSl9LGEudGltZW91dCkpLGZ9LEkuc2V0dGluZ3M9e3R5cGU6IkdFVCIsYmVmb3JlU2VuZDprLHN1Y2Nlc3M6ayxlcnJvcjprLGNvbXBsZXRlOmssY29udGV4dDpudWxsLGdsb2JhbDohMCx4aHI6bSxhY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCIsanNvbjpGLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDpHLHRleHQ6InRleHQvcGxhaW4ifSxjcm9zc0RvbWFpbjohMX0sSS5nZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSSh7dXJsOmEsc3VjY2VzczpifSl9LEkucG9zdD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4iZnVuY3Rpb24iPT09dChiKSYmKGQ9ZHx8YyxjPWIsYj1udWxsKSxJKHt0eXBlOiJQT1NUIix1cmw6YSxkYXRhOmIsc3VjY2VzczpjLGRhdGFUeXBlOmR9KX0sSS5nZXRKU09OPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEkoe3VybDphLHN1Y2Nlc3M6YixkYXRhVHlwZToianNvbiJ9KX07dmFyIEo9ZW5jb2RlVVJJQ29tcG9uZW50fSx7Ii4vWERvbWFpblJlcXVlc3RXcmFwcGVyIjoxNSwiLi9ldmVudHMiOjI4LCIuL2xvZ2dlciI6MzUsInR5cGUtb2YiOjEzfV0sMTc6W2Z1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGQ9ZS5nZXRDbG91ZEhvc3QoKSxrPWQuZ2V0QWN0VXJsKGEuYWN0KSxsPWEucmVxfHx7fTtyZXR1cm4gbD1mLmFkZEZIUGFyYW1zKGwpLGcoe3VybDprLHRyeUpTT05QOiEwLHR5cGU6IlBPU1QiLGRhdGFUeXBlOiJqc29uIixkYXRhOmguc3RyaW5naWZ5KGwpLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIix0aW1lb3V0OmEudGltZW91dHx8ai50aW1lb3V0LHN1Y2Nlc3M6YixlcnJvcjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGkoYyxhLGIsZCl9fSl9dmFyIGQ9YSgiLi9sb2dnZXIiKSxlPWEoIi4vd2FpdEZvckNsb3VkIiksZj1hKCIuL2ZocGFyYW1zIiksZz1hKCIuL2FqYXgiKSxoPWEoIkpTT04iKSxpPWEoIi4vaGFuZGxlRXJyb3IiKSxqPWEoIi4vYXBwUHJvcHMiKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGYpe3JldHVybiBkLmRlYnVnKCJhY3QgaXMgY2FsbGVkIiksZnx8KGY9ZnVuY3Rpb24oYSxiKXtkLmRlYnVnKGErIjoiK2guc3RyaW5naWZ5KGIpKX0pLGEuYWN0P3ZvaWQgZS5yZWFkeShmdW5jdGlvbihlKXtyZXR1cm4gZC5kZWJ1ZygiQ2FsbGluZyBmaGFjdCBub3ciKSxlP2YoZS5tZXNzYWdlLGUpOnZvaWQgYyhhLGIsZil9KTpmKCJhY3Rfbm9fYWN0aW9uIix7fSl9fSx7Ii4vYWpheCI6MTYsIi4vYXBwUHJvcHMiOjIzLCIuL2ZocGFyYW1zIjoyOSwiLi9oYW5kbGVFcnJvciI6MzAsIi4vbG9nZ2VyIjozNSwiLi93YWl0Rm9yQ2xvdWQiOjQ1LEpTT046M31dLDE4OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vbG9nZ2VyIiksZD1hKCIuL3dhaXRGb3JDbG91ZCIpLGU9YSgiLi9maHBhcmFtcyIpLGY9YSgiLi9hamF4IiksZz1hKCJKU09OIiksaD1hKCIuL2hhbmRsZUVycm9yIiksaT1hKCIuL2RldmljZSIpLGo9YSgiLi9jb25zdGFudHMiKSxrPWEoIi4vY2hlY2tBdXRoIiksbD1hKCIuL2FwcFByb3BzIik7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYixtKXtyZXR1cm4gbXx8KG09ZnVuY3Rpb24oYSxiKXtjLmRlYnVnKGErIjoiK2cuc3RyaW5naWZ5KGIpKX0pLGEucG9saWN5SWQ/YS5jbGllbnRUb2tlbj92b2lkIGQucmVhZHkoZnVuY3Rpb24oYyl7aWYoYylyZXR1cm4gbShjLm1lc3NhZ2UsYyk7dmFyIGQ9e307ZC5wb2xpY3lJZD1hLnBvbGljeUlkLGQuY2xpZW50VG9rZW49YS5jbGllbnRUb2tlbixhLmVuZFJlZGlyZWN0VXJsJiYoZC5lbmRSZWRpcmVjdFVybD1hLmVuZFJlZGlyZWN0VXJsLGEuYXV0aENhbGxiYWNrJiYoZC5lbmRSZWRpcmVjdFVybCs9KC9cPy8udGVzdChkLmVuZFJlZGlyZWN0VXJsKT8iJiI6Ij8iKSsiX2ZoQXV0aENhbGxiYWNrPSIrYS5hdXRoQ2FsbGJhY2spKSxkLnBhcmFtcz17fSxhLnBhcmFtcyYmKGQucGFyYW1zPWEucGFyYW1zKTt2YXIgbj1hLmVuZFJlZGlyZWN0VXJsfHwic3RhdHVzPWNvbXBsZXRlIjtkLmRldmljZT1pLmdldERldmljZUlkKCk7dmFyIG89bC5nZXRBcHBQcm9wcygpLHA9by5ob3N0K2ouYm94cHJlZml4KyJhZG1pbi9hdXRocG9saWN5L2F1dGgiO28ubG9jYWwmJihwPWouYm94cHJlZml4KyJhZG1pbi9hdXRocG9saWN5L2F1dGgiKSxkPWUuYWRkRkhQYXJhbXMoZCksZih7dXJsOnAsdHlwZToiUE9TVCIsdHJ5SlNPTlA6ITAsZGF0YTpnLnN0cmluZ2lmeShkKSxkYXRhVHlwZToianNvbiIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLHRpbWVvdXQ6YS50aW1lb3V0fHxvLnRpbWVvdXQsc3VjY2VzczpmdW5jdGlvbihhKXtrLmhhbmRsZUF1dGhSZXNwb25zZShuLGEsYixtKX0sZXJyb3I6ZnVuY3Rpb24oYSxiLGMpe2gobSxhLGIsYyl9fSl9KTptKCJhdXRoX25vX2NsaWVudFRva2VuIix7fSk6bSgiYXV0aF9ub19wb2xpY3lJZCIse30pfX0seyIuL2FqYXgiOjE2LCIuL2FwcFByb3BzIjoyMywiLi9jaGVja0F1dGgiOjI0LCIuL2NvbnN0YW50cyI6MjUsIi4vZGV2aWNlIjoyNywiLi9maHBhcmFtcyI6MjksIi4vaGFuZGxlRXJyb3IiOjMwLCIuL2xvZ2dlciI6MzUsIi4vd2FpdEZvckNsb3VkIjo0NSxKU09OOjN9XSwxOTpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYixjKXt2YXIgZD1lLmdldENsb3VkSG9zdCgpLGs9ZC5nZXRDbG91ZFVybChhLnBhdGgpLGw9YS5kYXRhfHx7fTtsPWYuYWRkRkhQYXJhbXMobCk7dmFyIG0sbj1hLm1ldGhvZHx8IlBPU1QiO3JldHVybiBtPSJQT1NUIj09PW4udG9VcHBlckNhc2UoKT9oLnN0cmluZ2lmeShsKTpsLGcoe3VybDprLHR5cGU6bixkYXRhVHlwZTphLmRhdGFUeXBlfHwianNvbiIsZGF0YTptLGNvbnRlbnRUeXBlOmEuY29udGVudFR5cGV8fCJhcHBsaWNhdGlvbi9qc29uIix0aW1lb3V0OmEudGltZW91dHx8ai50aW1lb3V0LHN1Y2Nlc3M6YixlcnJvcjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGkoYyxhLGIsZCl9fSl9dmFyIGQ9YSgiLi9sb2dnZXIiKSxlPWEoIi4vd2FpdEZvckNsb3VkIiksZj1hKCIuL2ZocGFyYW1zIiksZz1hKCIuL2FqYXgiKSxoPWEoIkpTT04iKSxpPWEoIi4vaGFuZGxlRXJyb3IiKSxqPWEoIi4vYXBwUHJvcHMiKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGYpe2QuZGVidWcoImNsb3VkIGlzIGNhbGxlZCIpLGZ8fChmPWZ1bmN0aW9uKGEsYil7ZC5kZWJ1ZyhhKyI6IitoLnN0cmluZ2lmeShiKSl9KSxlLnJlYWR5KGZ1bmN0aW9uKGUpe3JldHVybiBkLmRlYnVnKCJDYWxsaW5nIGZoYWN0IG5vdyIpLGU/ZihlLm1lc3NhZ2UsZSk6dm9pZCBjKGEsYixmKX0pfX0seyIuL2FqYXgiOjE2LCIuL2FwcFByb3BzIjoyMywiLi9maHBhcmFtcyI6MjksIi4vaGFuZGxlRXJyb3IiOjMwLCIuL2xvZ2dlciI6MzUsIi4vd2FpdEZvckNsb3VkIjo0NSxKU09OOjN9XSwyMDpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuL3NlY3VyaXR5L2hhc2giKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9OyJ1bmRlZmluZWQiPT10eXBlb2YgYS5hbGdvcml0aG0mJihhLmFsZ29yaXRobT0iTUQ1IiksZS5hY3Q9Imhhc2giLGUucGFyYW1zPWEsYyhlLGIsZCl9fSx7Ii4vc2VjdXJpdHkvaGFzaCI6NDF9XSwyMTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuL2xvZ2dlciIpLGQ9YSgiLi93YWl0Rm9yQ2xvdWQiKSxlPWEoIi4vZmhwYXJhbXMiKSxmPWEoIi4vYWpheCIpLGc9YSgiSlNPTiIpLGg9YSgiLi9oYW5kbGVFcnJvciIpLGk9KGEoIi4vY29uc3RhbnRzIiksYSgiLi9hcHBQcm9wcyIpKTtiLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGope2MuZGVidWcoIm1iYWFzIGlzIGNhbGxlZC4iKSxqfHwoaj1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZGVidWcoYSsiOiIrZy5zdHJpbmdpZnkoYikpfSk7dmFyIGs9YS5zZXJ2aWNlLGw9YS5wYXJhbXM7ZC5yZWFkeShmdW5jdGlvbihtKXtpZihjLmRlYnVnKCJDYWxsaW5nIG1iYWFzIG5vdyIpLG0pcmV0dXJuIGoobS5tZXNzYWdlLG0pO3ZhciBuPWQuZ2V0Q2xvdWRIb3N0KCksbz1uLmdldE1CQUFTVXJsKGspO3JldHVybiBsPWUuYWRkRkhQYXJhbXMobCksZih7dXJsOm8sdHJ5SlNPTlA6ITAsdHlwZToiUE9TVCIsZGF0YVR5cGU6Impzb24iLGRhdGE6Zy5zdHJpbmdpZnkobCksY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLHRpbWVvdXQ6YS50aW1lb3V0fHxpLnRpbWVvdXQsc3VjY2VzczpiLGVycm9yOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaChqLGEsYixjKX19KX0pfX0seyIuL2FqYXgiOjE2LCIuL2FwcFByb3BzIjoyMywiLi9jb25zdGFudHMiOjI1LCIuL2ZocGFyYW1zIjoyOSwiLi9oYW5kbGVFcnJvciI6MzAsIi4vbG9nZ2VyIjozNSwiLi93YWl0Rm9yQ2xvdWQiOjQ1LEpTT046M31dLDIyOltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vc2VjdXJpdHkvYWVzLWtleWdlbiIpLGQ9YSgiLi9zZWN1cml0eS9hZXMtbm9kZSIpLGU9YSgiLi9zZWN1cml0eS9yc2Etbm9kZSIpLGY9YSgiLi9zZWN1cml0eS9oYXNoIik7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYixnKXtyZXR1cm4gYS5hY3Q/YS5wYXJhbXM/YS5wYXJhbXMuYWxnb3JpdGhtPyhhLnBhcmFtcy5hbGdvcml0aG09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCksImhhc2giPT09YS5hY3Q/ZihhLGIsZyk6ImVuY3J5cHQiPT09YS5hY3Q/ImFlcyI9PT1hLnBhcmFtcy5hbGdvcml0aG0/ZC5lbmNyeXB0KGEsYixnKToicnNhIj09PWEucGFyYW1zLmFsZ29yaXRobT9lLmVuY3J5cHQoYSxiLGcpOmcoImVuY3J5cHRfYmFkX2FsZ29yaXRobToiK2EucGFyYW1zLmFsZ29yaXRobSx7fSxhKToiZGVjcnlwdCI9PT1hLmFjdD8iYWVzIj09PWEucGFyYW1zLmFsZ29yaXRobT9kLmRlY3J5cHQoYSxiLGcpOmcoImRlY3J5cHRfYmFkX2FsZ29yaXRobToiK2EucGFyYW1zLmFsZ29yaXRobSx7fSxhKToia2V5Z2VuIj09PWEuYWN0PyJhZXMiPT09YS5wYXJhbXMuYWxnb3JpdGhtP2MoYSxiLGcpOmcoImtleWdlbl9iYWRfYWxnb3JpdGhtOiIrYS5wYXJhbXMuYWxnb3JpdGhtLHt9LGEpOnZvaWQgMCk6dm9pZCBnKCJub19wYXJhbXNfYWxnb3JpdGhtIix7fSxhKTp2b2lkIGcoIm5vX3BhcmFtcyIse30sYSk6dm9pZCBnKCJiYWRfYWN0Iix7fSxhKX19LHsiLi9zZWN1cml0eS9hZXMta2V5Z2VuIjozOSwiLi9zZWN1cml0eS9hZXMtbm9kZSI6NDAsIi4vc2VjdXJpdHkvaGFzaCI6NDEsIi4vc2VjdXJpdHkvcnNhLW5vZGUiOjQyfV0sMjM6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi9jb25zdGFudHMiKSxkPWEoIi4vYWpheCIpLGU9YSgiLi9sb2dnZXIiKSxmPWEoIi4vcXVlcnlNYXAiKSxnPW51bGwsaD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5sb2NhdGlvbi5ocmVmLGg9ZihiKSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgaC51cmw7aWYoaSlyZXR1cm4gZz17fSxnLmxvY2FsPSEwLGcuaG9zdD1oLnVybC5yZXBsYWNlKC8jLio/JC9nLCIiKSxnLmFwcGlkPSIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAiLGcuYXBwa2V5PSIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIixnLnByb2plY3RpZD0iMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIixnLmNvbm5lY3Rpb250YWc9IjAuMC4xIixnLmxvZ2xldmVsPWgubG9nbGV2ZWwsYShudWxsLGcpO3ZhciBqPWguZmhjb25maWd8fGMuY29uZmlnX2pzO2Qoe3VybDpqLGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKGIpe3JldHVybiBlLmRlYnVnKCJmaGNvbmZpZyA9ICIrSlNPTi5zdHJpbmdpZnkoYikpLG51bGw9PWI/d2luZG93LmZoX2FwcF9wcm9wcz8oZz13aW5kb3cuZmhfYXBwX3Byb3BzLGEobnVsbCx3aW5kb3cuZmhfYXBwX3Byb3BzKSk6YShuZXcgRXJyb3IoImFwcF9jb25maWdfbWlzc2luZyIpKTooZz1iLHZvaWQgYShudWxsLGcpKX0sZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmZoX2FwcF9wcm9wcz8oZz13aW5kb3cuZmhfYXBwX3Byb3BzLGEobnVsbCx3aW5kb3cuZmhfYXBwX3Byb3BzKSk6KGUuZXJyb3IoYy5jb25maWdfanMrIiBOb3QgRm91bmQiKSx2b2lkIGEobmV3IEVycm9yKCJhcHBfY29uZmlnX21pc3NpbmciKSkpfX0pfSxpPWZ1bmN0aW9uKGEpe2c9YX0saj1mdW5jdGlvbigpe3JldHVybiBnfTtiLmV4cG9ydHM9e2xvYWQ6aCxnZXRBcHBQcm9wczpqLHNldEFwcFByb3BzOml9fSx7Ii4vYWpheCI6MTYsIi4vY29uc3RhbnRzIjoyNSwiLi9sb2dnZXIiOjM1LCIuL3F1ZXJ5TWFwIjozN31dLDI0OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vbG9nZ2VyIiksZD1hKCIuL3F1ZXJ5TWFwIiksZT1hKCJKU09OIiksZj1hKCIuL2ZocGFyYW1zIiksZz1mdW5jdGlvbihhKXtpZigvXF9maEF1dGhDYWxsYmFjay8udGVzdChhKSl7dmFyIGI9ZChhKTtpZihiKXt2YXIgYz1iLl9maEF1dGhDYWxsYmFjaztpZihjKWlmKGIucmVzdWx0JiYic3VjY2VzcyI9PT1iLnJlc3VsdCl7dmFyIGc9e3Nlc3Npb25Ub2tlbjpiLmZoX2F1dGhfc2Vzc2lvbixhdXRoUmVzcG9uc2U6ZS5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KGIuYXV0aFJlc3BvbnNlKSkpfTtmLnNldEF1dGhTZXNzaW9uVG9rZW4oYi5maF9hdXRoX3Nlc3Npb24pLHdpbmRvd1tjXShudWxsLGcpfWVsc2Ugd2luZG93W2NdKHttZXNzYWdlOmIubWVzc2FnZX0pfX19LGg9ZnVuY3Rpb24oYSxiLGcsaCl7aWYoYi5zdGF0dXMmJiJvayI9PT1iLnN0YXR1cyl7dmFyIGk9ZnVuY3Rpb24oYSl7YS5zZXNzaW9uVG9rZW4mJmYuc2V0QXV0aFNlc3Npb25Ub2tlbihhLnNlc3Npb25Ub2tlbiksZyhhKX07aWYoYi51cmwpe3ZhciBqPW51bGwsaz1mdW5jdGlvbihiKXtpZihiLmluZGV4T2YoYSk+LTEpe2omJmouY2xvc2UoKTt2YXIgYz1kKGIpO2lmKGMpaWYoYy5yZXN1bHQmJiJzdWNjZXNzIj09PWMucmVzdWx0KXt2YXIgZj17c2Vzc2lvblRva2VuOmMuZmhfYXV0aF9zZXNzaW9uLGF1dGhSZXNwb25zZTplLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoYy5hdXRoUmVzcG9uc2UpKSl9O2koZil9ZWxzZSBoJiZoKCJhdXRoX2ZhaWxlZCIse21lc3NhZ2U6Yy5tZXNzYWdlfSk7ZWxzZSBoJiZoKCJhdXRoX2ZhaWxlZCIse21lc3NhZ2U6Yy5tZXNzYWdlfSl9fTtpZih3aW5kb3cuUGhvbmVHYXB8fHdpbmRvdy5jb3Jkb3ZhKWlmKHdpbmRvdy5wbHVnaW5zJiZ3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIpImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlci5zaG93V2ViUGFnZSYmKHdpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlci5vbkxvY2F0aW9uQ2hhbmdlPWssd2luZG93LnBsdWdpbnMuY2hpbGRCcm93c2VyLnNob3dXZWJQYWdlKGIudXJsKSxqPXdpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlcik7ZWxzZSB0cnl7aj13aW5kb3cub3BlbihiLnVybCwiX2JsYW5rIiwibG9jYXRpb249eWVzIiksai5hZGRFdmVudExpc3RlbmVyKCJsb2Fkc3RhcnQiLGZ1bmN0aW9uKGEpe2soYS51cmwpfSl9Y2F0Y2gobCl7Yy5pbmZvKCJJbkFwcEJyb3dzZXIgcGx1Z2luIGlzIG5vdCBpbnRhbGxlZC4iKSxpKGIpfWVsc2UgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1iLnVybH1lbHNlIGkoYil9ZWxzZSBoJiZoKCJhdXRoX2ZhaWxlZCIsYil9O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe2cod2luZG93LmxvY2F0aW9uLmhyZWYpfSwhMSk6d2luZG93LmF0dGFjaEV2ZW50JiZ3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsZnVuY3Rpb24oKXtnKHdpbmRvdy5sb2NhdGlvbi5ocmVmKX0pLGIuZXhwb3J0cz17aGFuZGxlQXV0aFJlc3BvbnNlOmh9fSx7Ii4vZmhwYXJhbXMiOjI5LCIuL2xvZ2dlciI6MzUsIi4vcXVlcnlNYXAiOjM3LEpTT046M31dLDI1OltmdW5jdGlvbihhLGIpe2IuZXhwb3J0cz17Ym94cHJlZml4OiIvYm94L3Nydi8xLjEvIixzZGtfdmVyc2lvbjoiMi40LjQtQlVJTEQtTlVNQkVSIixjb25maWdfanM6ImZoY29uZmlnLmpzb24iLElOSVRfRVZFTlQ6ImZoaW5pdCIsSU5URVJOQUxfQ09ORklHX0xPQURFRF9FVkVOVDoiaW50ZXJuYWxmaGNvbmZpZ2xvYWRlZCIsQ09ORklHX0xPQURFRF9FVkVOVDoiZmhjb25maWdsb2FkZWQifX0se31dLDI2OltmdW5jdGlvbihhLGIpe2IuZXhwb3J0cz17cmVhZENvb2tpZVZhbHVlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hKyI9IixjPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zm9yKHZhciBlPWNbZF07IiAiPT09ZS5jaGFyQXQoMCk7KWU9ZS5zdWJzdHJpbmcoMSxlLmxlbmd0aCk7aWYoMD09PWUuaW5kZXhPZihiKSlyZXR1cm4gZS5zdWJzdHJpbmcoYi5sZW5ndGgsZS5sZW5ndGgpfXJldHVybiBudWxsfSxjcmVhdGVDb29raWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgRGF0ZTtjLnNldFRpbWUoYy5nZXRUaW1lKCkrMzE1MzZlOCk7dmFyIGQ9IjsgZXhwaXJlcz0iK2MudG9HTVRTdHJpbmcoKTtkb2N1bWVudC5jb29raWU9YSsiPSIrYitkKyI7IHBhdGggPSAvIn19fSx7fV0sMjc6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi9jb29raWVzIiksZD1hKCIuL3V1aWQiKSxlPWEoIi4vbG9nZ2VyIik7Yi5leHBvcnRzPXtnZXREZXZpY2VJZDpmdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmZoZGV2aWNlJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5maGRldmljZS51dWlkKXJldHVybiB3aW5kb3cuZmhkZXZpY2UudXVpZDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5kZXZpY2UmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmRldmljZS51dWlkKXJldHVybiB3aW5kb3cuZGV2aWNlLnV1aWQ7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3IuZGV2aWNlJiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5kZXZpY2UudXVpZClyZXR1cm4gbmF2aWdhdG9yLmRldmljZS51dWlkO3ZhciBhPSJtb2NrX3V1aWQiLGI9Yy5yZWFkQ29va2llVmFsdWUoYSk7cmV0dXJuIG51bGw9PWImJihiPWQuY3JlYXRlVVVJRCgpLGMuY3JlYXRlQ29va2llKGEsYikpLGJ9LGdldEN1aWRNYXA6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5maGRldmljZSYmInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhkZXZpY2UuY3VpZE1hcD93aW5kb3cuZmhkZXZpY2UuY3VpZE1hcDoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5kZXZpY2UmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmRldmljZS5jdWlkTWFwP3dpbmRvdy5kZXZpY2UuY3VpZE1hcDoidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5kZXZpY2UmJiJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLmRldmljZS5jdWlkTWFwP25hdmlnYXRvci5kZXZpY2UuY3VpZE1hcDpudWxsfSxnZXREZXN0aW5hdGlvbjpmdW5jdGlvbigpe3ZhciBiPW51bGwsYz1hKCIuL3BsYXRmb3Jtc01hcCIpLGQ9bmF2aWdhdG9yLnVzZXJBZ2VudCxmPWRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5zcGxpdCgiZmhfZGVzdGluYXRpb25fY29kZT0iKTtyZXR1cm4gZi5sZW5ndGg+MT9iPWZbMV06InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhfZGVzdGluYXRpb25fY29kZT9iPXdpbmRvdy5maF9kZXN0aW5hdGlvbl9jb2RlOmMuZm9yRWFjaChmdW5jdGlvbihhKXthLnRlc3QuZm9yRWFjaChmdW5jdGlvbihjKXtkLmluZGV4T2YoYyk+LTEmJihiPWEuZGVzdGluYXRpb24pfSl9KSxudWxsPT1iJiYoYj0id2ViIiksZS5kZWJ1ZygiZGVzdGluYXRpb24gPSAiK2IpLGJ9fX0seyIuL2Nvb2tpZXMiOjI2LCIuL2xvZ2dlciI6MzUsIi4vcGxhdGZvcm1zTWFwIjozNiwiLi91dWlkIjo0NH1dLDI4OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoImV2ZW50cyIpLkV2ZW50RW1pdHRlcixkPW5ldyBjO2Quc2V0TWF4TGlzdGVuZXJzKDApLGIuZXhwb3J0cz1kfSx7ZXZlbnRzOjd9XSwyOTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuL2RldmljZSIpLGQ9YSgiLi9zZGt2ZXJzaW9uIiksZT1hKCIuL2FwcFByb3BzIiksZj1hKCIuL2xvZ2dlciIpLGc9bnVsbCxoPW51bGwsaT1mdW5jdGlvbigpe2lmKGcpcmV0dXJuIGc7dmFyIGE9e307YS5jdWlkPWMuZ2V0RGV2aWNlSWQoKSxhLmN1aWRNYXA9Yy5nZXRDdWlkTWFwKCksYS5kZXN0aW5hdGlvbj1jLmdldERlc3RpbmF0aW9uKCksKHdpbmRvdy5kZXZpY2V8fG5hdmlnYXRvci5kZXZpY2UpJiYoYS5kZXZpY2U9d2luZG93LmRldmljZXx8bmF2aWdhdG9yLmRldmljZSksInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhfYXBwX3ZlcnNpb24mJihhLmFwcF92ZXJzaW9uPWZoX2FwcF92ZXJzaW9uKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5maF9wcm9qZWN0X3ZlcnNpb24mJihhLnByb2plY3RfdmVyc2lvbj1maF9wcm9qZWN0X3ZlcnNpb24pLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmZoX3Byb2plY3RfYXBwX3ZlcnNpb24mJihhLnByb2plY3RfYXBwX3ZlcnNpb249ZmhfcHJvamVjdF9hcHBfdmVyc2lvbiksYS5zZGtfdmVyc2lvbj1kKCksaCYmKGEuc2Vzc2lvblRva2VuPWgpO3ZhciBiPWUuZ2V0QXBwUHJvcHMoKTtyZXR1cm4gYiYmKGEuYXBwaWQ9Yi5hcHBpZCxhLmFwcGtleT1iLmFwcGtleSxhLnByb2plY3RpZD1iLnByb2plY3RpZCxhLmFuYWx5dGljc1RhZz1iLmFuYWx5dGljc1RhZyxhLmNvbm5lY3Rpb250YWc9Yi5jb25uZWN0aW9udGFnLGIuaW5pdCYmKGEuaW5pdD0ic3RyaW5nIj09dHlwZW9mIGIuaW5pdD9KU09OLnBhcnNlKGIuaW5pdCk6Yi5pbml0KSksZz1hLGYuZGVidWcoImZocGFyYW1zID0gIixnKSxhfSxqPWZ1bmN0aW9uKGEpe3ZhciBhPWF8fHt9O3JldHVybiBhLl9fZmg9aSgpLGF9LGs9ZnVuY3Rpb24oYSl7aD1hfTtiLmV4cG9ydHM9e2J1aWxkRkhQYXJhbXM6aSxhZGRGSFBhcmFtczpqLHNldEF1dGhTZXNzaW9uVG9rZW46a319LHsiLi9hcHBQcm9wcyI6MjMsIi4vZGV2aWNlIjoyNywiLi9sb2dnZXIiOjM1LCIuL3Nka3ZlcnNpb24iOjM4fV0sMzA6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiSlNPTiIpO2IuZXhwb3J0cz1mdW5jdGlvbihhLGIsZCxlKXt2YXIgZixnPTA7aWYoYil0cnl7Zz1iLnN0YXR1czt2YXIgaD1jLnBhcnNlKGIucmVzcG9uc2VUZXh0KTtmPWguZXJyb3J8fGgubXNnLGYgaW5zdGFuY2VvZiBBcnJheSYmKGY9Zi5qb2luKCJcbiIpKX1jYXRjaChpKXtmPWIucmVzcG9uc2VUZXh0fWEmJmEoZix7c3RhdHVzOmcsbWVzc2FnZTpkLGVycm9yOmV9KX19LHtKU09OOjN9XSwzMTpbZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWE7cmV0dXJuIi8iPT09Yi5jaGFyQXQoYi5sZW5ndGgtMSkmJihiPWIuc3Vic3RyaW5nKDAsYi5sZW5ndGgtMSkpLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1hO3JldHVybiBiLmxlbmd0aD4xJiYiLyI9PT1iLmNoYXJBdCgwKSYmKGI9Yi5zdWJzdHJpbmcoMSxiLmxlbmd0aCkpLGJ9ZnVuY3Rpb24gZShhKXt0aGlzLmNsb3VkX3Byb3BzPWEsdGhpcy5jbG91ZF9ob3N0PXZvaWQgMCx0aGlzLmlzTGVnYWN5PSExfXZhciBmPWEoIi4vY29uc3RhbnRzIiksZz1hKCIuL2FwcFByb3BzIik7ZS5wcm90b3R5cGUuZ2V0SG9zdD1mdW5jdGlvbihhKXtpZih0aGlzLmNsb3VkX2hvc3QpcmV0dXJuIHRoaXMuY2xvdWRfaG9zdDt2YXIgYixkO2lmKHRoaXMuY2xvdWRfcHJvcHMmJnRoaXMuY2xvdWRfcHJvcHMuaG9zdHMmJihiPXRoaXMuY2xvdWRfcHJvcHMuaG9zdHMudXJsLCJ1bmRlZmluZWQiPT10eXBlb2YgYikpe3ZhciBlPXRoaXMuY2xvdWRfcHJvcHMuaG9zdHMucmVsZWFzZUNsb3VkVXJsO2Q9dGhpcy5jbG91ZF9wcm9wcy5ob3N0cy5yZWxlYXNlQ2xvdWRUeXBlLCJ1bmRlZmluZWQiIT10eXBlb2YgYSYmYS5pbmRleE9mKCJkZXYiKT4tMSYmKGU9dGhpcy5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVXJsLGQ9dGhpcy5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVHlwZSksYj1lfXJldHVybiBiPWMoYiksdGhpcy5jbG91ZF9ob3N0PWIsImZoIj09PWQmJih0aGlzLmlzTGVnYWN5PSEwKSxifSxlLnByb3RvdHlwZS5nZXRBY3RVcmw9ZnVuY3Rpb24oYSl7dmFyIGI9Zy5nZXRBcHBQcm9wcygpfHx7fTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuY2xvdWRfaG9zdCYmdGhpcy5nZXRIb3N0KGIubW9kZSksdGhpcy5pc0xlZ2FjeT90aGlzLmNsb3VkX2hvc3QrZi5ib3hwcmVmaXgrImFjdC8iK3RoaXMuY2xvdWRfcHJvcHMuZG9tYWluKyIvIitiLmFwcGlkKyIvIithKyIvIitiLmFwcGlkOnRoaXMuY2xvdWRfaG9zdCsiL2Nsb3VkLyIrYX0sZS5wcm90b3R5cGUuZ2V0TUJBQVNVcmw9ZnVuY3Rpb24oYSl7dmFyIGI9Zy5nZXRBcHBQcm9wcygpfHx7fTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuY2xvdWRfaG9zdCYmdGhpcy5nZXRIb3N0KGIubW9kZSksdGhpcy5jbG91ZF9ob3N0KyIvbWJhYXMvIithfSxlLnByb3RvdHlwZS5nZXRDbG91ZFVybD1mdW5jdGlvbihhKXt2YXIgYj1nLmdldEFwcFByb3BzKCl8fHt9O3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5jbG91ZF9ob3N0JiZ0aGlzLmdldEhvc3QoYi5tb2RlKSx0aGlzLmNsb3VkX2hvc3QrIi8iK2QoYSl9LGIuZXhwb3J0cz1lfSx7Ii4vYXBwUHJvcHMiOjIzLCIuL2NvbnN0YW50cyI6MjV9XSwzMjpbZnVuY3Rpb24oYSxiKXt2YXIgYz0oYSgiLi9sb2FkU2NyaXB0IiksYSgiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIikpLGQ9YSgiLi9sYXduY2hhaXItZXh0IiksZT1hKCIuL2NvbnN0YW50cyIpLGY9YSgiLi9maHBhcmFtcyIpLGc9YSgiLi9hamF4IiksaD1hKCIuL2hhbmRsZUVycm9yIiksaT1hKCIuL2xvZ2dlciIpLGo9YSgiSlNPTiIpLGs9YSgiLi9zZWN1cml0eS9oYXNoIiksbD1hKCIuL2FwcFByb3BzIiksbT1hKCIuL2NvbnN0YW50cyIpLG49YSgiLi9ldmVudHMiKSxvPWZ1bmN0aW9uKGEpe2wubG9hZChmdW5jdGlvbihiLGMpe3JldHVybiBiP2EoYik6KG4uZW1pdChtLklOVEVSTkFMX0NPTkZJR19MT0FERURfRVZFTlQsbnVsbCxjKSxwKGMsYSkpfSl9LHA9ZnVuY3Rpb24oYSxiKXtpZihhLmxvZ2xldmVsJiZpLnNldExldmVsKGEubG9nbGV2ZWwpLGEubG9jYWwpe3ZhciBsPXtkb21haW46ImxvY2FsIixmaXJzdFRpbWU6ITEsaG9zdHM6e2RlYnVnQ2xvdWRUeXBlOiJub2RlIixkZWJ1Z0Nsb3VkVXJsOmEuaG9zdCxyZWxlYXNlQ2xvdWRUeXBlOiJub2RlIixyZWxlYXNlQ2xvdWRVcmw6YS5ob3N0LHR5cGU6ImNsb3VkX25vZGVqcyIsdXJsOmEuaG9zdH0saW5pdDp7dHJhY2tJZDoiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIn0sc3RhdHVzOiJvayJ9O3JldHVybiBiKG51bGwse2Nsb3VkOmx9KX1kLmFkZEFkYXB0ZXIoYSxrKTt2YXIgbT17bmFtZToiZmhfaW5pdF9zdG9yYWdlIixhZGFwdGVyOlsiZG9tIiwid2Via2l0LXNxbGl0ZSIsIndpbmRvdy1uYW1lIl0sZmFpbDpmdW5jdGlvbihhLGIpe3ZhciBjPSJyZWFkL3NhdmUgZnJvbS90byBsb2NhbCBzdG9yYWdlIGZhaWxlZCAgbXNnOiIrYSsiIGVycjoiK2I7cmV0dXJuIGZhaWwoYyx7fSl9fTsidW5kZWZpbmVkIiE9dHlwZW9mIFRpdGFuaXVtJiYobS5hZGFwdGVyPVsidGl0YW5pdW0iXSk7dmFyIG49ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGs9Zi5idWlsZEZIUGFyYW1zKCk7Zyh7dXJsOmEsdHlwZToiUE9TVCIsdHJ5SlNPTlA6ITAsZGF0YVR5cGU6Impzb24iLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixkYXRhOmouc3RyaW5naWZ5KGspLHRpbWVvdXQ6Yy50aW1lb3V0LHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7ZSYmZS5zYXZlKHtrZXk6ImZoX2luaXQiLHZhbHVlOmF9LGZ1bmN0aW9uKCl7fSksYiYmYihudWxsLHtjbG91ZDphfSl9LGVycm9yOmZ1bmN0aW9uKGEsYyxlKXt2YXIgZj0idW5rbm93biI7YSYmKGY9YS5zdGF0dXMrIiAtICIrYS5yZXNwb25zZVRleHQpLGkuZXJyb3IoIkFwcCBpbml0IHJldHVybmVkIGVycm9yIDogIitmKSxkPyhpLmluZm8oIlVzaW5nIGNhY2hlZCBob3N0OiAiK2ouc3RyaW5naWZ5KGQpKSxiJiZiKG51bGwse2Nsb3VkOmR9KSk6KGkuZXJyb3IoIk5vIGNhY2hlZCBob3N0IGZvdW5kLiBJbml0IGZhaWxlZC4iKSxoKGZ1bmN0aW9uKGEsYyl7YiYmYih7ZXJyb3I6YyxtZXNzYWdlOmF9KX0sYSxjLGUpKX19KX0sbz1udWxsLHA9YS5ob3N0K2UuYm94cHJlZml4KyJhcHAvaW5pdCI7dHJ5e289bmV3IGMobSxmdW5jdGlvbigpe30pLG8uZ2V0KCJmaF9pbml0IixmdW5jdGlvbihiKXt2YXIgYz1udWxsO2ImJm51bGwhPT1iLnZhbHVlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGIudmFsdWUmJiIiIT09YiYmKGI9InN0cmluZyI9PXR5cGVvZiBiP2oucGFyc2UoYik6YixiLnZhbHVlPSJzdHJpbmciPT10eXBlb2YgYi52YWx1ZT9qLnBhcnNlKGIudmFsdWUpOmIudmFsdWUsYS5pbml0PWIudmFsdWUuaW5pdD9iLnZhbHVlLmluaXQ6InN0cmluZyI9PXR5cGVvZiBiLnZhbHVlP2oucGFyc2UoYi52YWx1ZSk6Yi52YWx1ZSxiLnZhbHVlLmhvc3RzJiYoYz1iLnZhbHVlKSksbihwLGEsYyxvKX0pfWNhdGNoKHEpe24ocCxhLG51bGwsbnVsbCl9fTtiLmV4cG9ydHM9e2luaXQ6byxsb2FkQ2xvdWRQcm9wczpwfX0seyIuLi8uLi9saWJzL2dlbmVyYXRlZC9sYXduY2hhaXIiOjIsIi4vYWpheCI6MTYsIi4vYXBwUHJvcHMiOjIzLCIuL2NvbnN0YW50cyI6MjUsIi4vZXZlbnRzIjoyOCwiLi9maHBhcmFtcyI6MjksIi4vaGFuZGxlRXJyb3IiOjMwLCIuL2xhd25jaGFpci1leHQiOjMzLCIuL2xvYWRTY3JpcHQiOjM0LCIuL2xvZ2dlciI6MzUsIi4vc2VjdXJpdHkvaGFzaCI6NDEsSlNPTjozfV0sMzM6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIiksZD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7Y29uc29sZSYmY29uc29sZS5sb2coYSl9ZnVuY3Rpb24gZChkLGUpe2Q9YS5hcHBpZCtkLGIoe2FsZ29yaXRobToiTUQ1Iix0ZXh0OmR9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFzaHZhbHVlKyIudHh0IjtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvci5leHRlcm5hbHN0b3JhZ2U/KGMoImZpbGVuYW1lRm9yS2V5IGtleT0iK2QrIiAsIEZpbGVuYW1lOiAiK2IpLGUoYikpOnZvaWQgbmF2aWdhdG9yLmV4dGVybmFsc3RvcmFnZS5lbmFibGUoZnVuY3Rpb24oYSl7dmFyIGM9YjtyZXR1cm4gYS5wYXRoJiYoYz1hLnBhdGgsYy5tYXRjaCgvXC8kLyl8fChjKz0iLyIpLGMrPWIpLGI9YyxlKGIpfSxmdW5jdGlvbigpe3JldHVybiBlKGIpfSl9KX12YXIgZT1mdW5jdGlvbihhLGIpe2lmKCFjb25zb2xlKXRocm93IGE7Y29uc29sZS5sb2coImVycm9yIGluIGZpbGUgc3lzdGVtIGFkYXB0ZXIgISIsYSxiKX07cmV0dXJue3ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW19LGluaXQ6ZnVuY3Rpb24oYSxiKXthJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5mYWlsJiYoZT1hLmZhaWwpLGImJnRoaXMuZm4odGhpcy5uYW1lLGIpLmNhbGwodGhpcyx0aGlzKX0sa2V5czpmdW5jdGlvbigpe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIn0sc2F2ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEua2V5LGY9YS52YWx8fGEudmFsdWU7ZChjLGZ1bmN0aW9uKGEpe3dpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbShMb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCwwLGZ1bmN0aW9uKGQpe2Qucm9vdC5nZXRGaWxlKGEse2NyZWF0ZTohMH0sZnVuY3Rpb24oYSl7YS5jcmVhdGVXcml0ZXIoZnVuY3Rpb24oYSl7YS5vbndyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGIoe2tleTpjLHZhbDpmfSl9LGEud3JpdGUoZil9LGZ1bmN0aW9uKCl7ZSgiW3NhdmVdIEZhaWxlZCB0byBjcmVhdGUgZmlsZSB3cml0ZXIiKX0pfSxmdW5jdGlvbigpe2UoIltzYXZlXSBGYWlsZWQgdG8gZ2V0RmlsZSIpfSl9LGZ1bmN0aW9uKCl7ZSgiW3NhdmVdIEZhaWxlZCB0byByZXF1ZXN0RmlsZVN5c3RlbSIpfSl9KX0sYmF0Y2g6ZnVuY3Rpb24oKXt0aHJvdyJDdXJyZW50bHkgbm90IHN1cHBvcnRlZCJ9LGdldDpmdW5jdGlvbihhLGIpe2QoYSxmdW5jdGlvbihjKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbihkKXtkLnJvb3QuZ2V0RmlsZShjLHt9LGZ1bmN0aW9uKGMpe2MuZmlsZShmdW5jdGlvbihjKXt2YXIgZD1uZXcgRmlsZVJlYWRlcjtkLm9ubG9hZGVuZD1mdW5jdGlvbihjKXt2YXIgZD1jLnRhcmdldC5yZXN1bHQ7dHJ5e2Q9ZGVjb2RlVVJJQ29tcG9uZW50KGQpfWNhdGNoKGUpe31yZXR1cm4gYih7a2V5OmEsdmFsOmR9KX0sZC5yZWFkQXNUZXh0KGMpfSxmdW5jdGlvbigpe2UoIltsb2FkXSBGYWlsZWQgdG8gZ2V0RmlsZSIpfSl9LGZ1bmN0aW9uKCl7Yih7a2V5OmEsdmFsOm51bGx9KX0pfSxmdW5jdGlvbigpe2UoIltsb2FkXSBGYWlsZWQgdG8gZ2V0IGZpbGVTeXN0ZW0iKX0pfSl9LGV4aXN0czpmdW5jdGlvbihhLGIpe2QoYSxmdW5jdGlvbihhKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbihjKXtjLnJvb3QuZ2V0RmlsZShhLHt9LGZ1bmN0aW9uKCl7cmV0dXJuIGIoITApfSxmdW5jdGlvbigpe3JldHVybiBiKCExKX0pfSl9KX0sYWxsOmZ1bmN0aW9uKCl7dGhyb3ciQ3VycmVudGx5IG5vdCBzdXBwb3J0ZWQifSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtkKGEsZnVuY3Rpb24oYyl7d2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULDAsZnVuY3Rpb24oZCl7ZC5yb290LmdldEZpbGUoYyx7fSxmdW5jdGlvbihjKXtjLnJlbW92ZShmdW5jdGlvbigpe3JldHVybiBiKHtrZXk6YSx2YWw6bnVsbH0pfSxmdW5jdGlvbigpe2UoIltyZW1vdmVdIEZhaWxlZCB0byByZW1vdmUgZmlsZSIpfSl9LGZ1bmN0aW9uKCl7ZSgiW3JlbW92ZV0gRmFpbGVkIHRvIGdldEZpbGUiKX0pfSxmdW5jdGlvbigpe2UoIltyZW1vdmVdIEZhaWxlZCB0byBnZXQgZmlsZVN5c3RlbSIpfSl9KX0sbnVrZTpmdW5jdGlvbigpe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIn19fSxlPWZ1bmN0aW9uKGEsYil7Yy5hZGFwdGVyKCJsb2NhbEZpbGVTdG9yYWdlIixkKGEsYikpfTtiLmV4cG9ydHM9e2FkZEFkYXB0ZXI6ZX19LHsiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIjoyfV0sMzQ6W2Z1bmN0aW9uKGEsYil7Yi5leHBvcnRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1kb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxjLmFzeW5jPSJhc3luYyIsYy5zcmM9YSxjLnR5cGU9InRleHQvamF2YXNjcmlwdCIsYy5vbmxvYWQ9Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsoIWMucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChjLnJlYWR5U3RhdGUpKSYmKGMub25sb2FkPWMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZCYmYy5wYXJlbnROb2RlJiZkLnJlbW92ZUNoaWxkKGMpLGM9dm9pZCAwLGImJiJmdW5jdGlvbiI9PXR5cGVvZiBiJiZiKCkpfSxkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCl9fSx7fV0sMzU6W2Z1bmN0aW9uKGEsYil7dmFyIGM9KGEoImNvbnNvbGUiKSxhKCJsb2dsZXZlbCIpKTtjLnNldExldmVsKCJpbmZvIiksYi5leHBvcnRzPWN9LHtjb25zb2xlOjYsbG9nbGV2ZWw6MTJ9XSwzNjpbZnVuY3Rpb24oYSxiKXtiLmV4cG9ydHM9W3tkZXN0aW5hdGlvbjoiaXBhZCIsdGVzdDpbImlQYWQiXX0se2Rlc3RpbmF0aW9uOiJpcGhvbmUiLHRlc3Q6WyJpUGhvbmUiXX0se2Rlc3RpbmF0aW9uOiJhbmRyb2lkIix0ZXN0OlsiQW5kcm9pZCJdfSx7ZGVzdGluYXRpb246ImJsYWNrYmVycnkiLHRlc3Q6WyJCbGFja0JlcnJ5IiwiQkIxMCIsIlJJTSBUYWJsZXQgT1MiXX0se2Rlc3RpbmF0aW9uOiJ3aW5kb3dzcGhvbmUiLHRlc3Q6WyJXaW5kb3dzIFBob25lIDgiXX0se2Rlc3RpbmF0aW9uOiJ3aW5kb3dzcGhvbmU3Iix0ZXN0OlsiV2luZG93cyBQaG9uZSBPUyA3Il19XX0se31dLDM3OltmdW5jdGlvbihhLGIpe2IuZXhwb3J0cz1mdW5jdGlvbihhKXt2YXIgYj17fSxjPWEuc3BsaXQoIj8iKTtpZigyPT09Yy5sZW5ndGgpe3ZhciBkPWNbMV0sZT1kLnNwbGl0KCImIik7Yj17fTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXSxoPWcuc3BsaXQoIj0iKTtiW2hbMF1dPWhbMV19fXJldHVybiBifX0se31dLDM4OltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4vY29uc3RhbnRzIik7Yi5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGE9IkZIX0pTX1NESyI7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuZmhfZGVzdGluYXRpb25fY29kZT9hPSJGSF9IWUJSSURfU0RLIjood2luZG93LlBob25lR2FwfHx3aW5kb3cuY29yZG92YSkmJihhPSJGSF9QSE9ORUdBUF9TREsiKSxhKyIvIitjLnNka192ZXJzaW9ufX0seyIuL2NvbnN0YW50cyI6MjV9XSwzOTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuLi8uLi8uLi9saWJzL3JzYSIpLGQ9Yy5TZWN1cmVSYW5kb20sZT1jLmJ5dGUySGV4LGY9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGQsYz1uZXcgQXJyYXkoYSk7Yi5uZXh0Qnl0ZXMoYyk7Zm9yKHZhciBmPSIiLGc9MDtnPGMubGVuZ3RoO2crKylmKz1lKGNbZ10pO3JldHVybiBmfSxnPWZ1bmN0aW9uKGEsYixjKXtpZighYS5wYXJhbXMua2V5c2l6ZSlyZXR1cm4gdm9pZCBjKCJub19wYXJhbXNfa2V5c2l6ZSIse30sYSk7aWYoImFlcyIhPT1hLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSlyZXR1cm4gdm9pZCBjKCJrZXlnZW5fYmFkX2FsZ29yaXRobSIse30sYSk7dmFyIGU9cGFyc2VJbnQoYS5wYXJhbXMua2V5c2l6ZSwxMCk7cmV0dXJuIGU+MTAwJiYoZS89OCksInVuZGVmaW5lZCI9PXR5cGVvZiBkP2MoInNlY3VyaXR5IGxpYnJhcnkgaXMgbm90IGxvYWRlZC4iKTpiKHthbGdvcml0aG06IkFFUyIsc2VjcmV0a2V5OmYoZSksaXY6ZihlKX0pfTtiLmV4cG9ydHM9Z30seyIuLi8uLi8uLi9saWJzL3JzYSI6NH1dLDQwOltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4uLy4uLy4uL2xpYnMvZ2VuZXJhdGVkL2NyeXB0byIpLGQ9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPVsia2V5IiwicGxhaW50ZXh0IiwiaXYiXTsKaWYoImFlcyIhPT1hLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSlyZXR1cm4gZCgiZW5jcnlwdF9iYWRfYWxnb3JpdGhtIix7fSxhKTtmb3IodmFyIGY9MDtlPmY7ZisrKXt2YXIgZz1lW2ZdO2lmKCFhLnBhcmFtc1tnXSlyZXR1cm4gZCgibm9fcGFyYW1zXyIrZyx7fSxhKX12YXIgaD1jLkFFUy5lbmNyeXB0KGEucGFyYW1zLnBsYWludGV4dCxjLmVuYy5IZXgucGFyc2UoYS5wYXJhbXMua2V5KSx7aXY6Yy5lbmMuSGV4LnBhcnNlKGEucGFyYW1zLml2KX0pO3JldHVybiBjaXBoZXJfdGV4dD1jLmVuYy5IZXguc3RyaW5naWZ5KGguY2lwaGVydGV4dCksYih7Y2lwaGVydGV4dDpjaXBoZXJfdGV4dH0pfSxlPWZ1bmN0aW9uKGEsYixkKXt2YXIgZT1bImtleSIsImNpcGhlcnRleHQiLCJpdiJdO2lmKCJhZXMiIT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGQoImRlY3J5cHRfYmFkX2FsZ29yaXRobSIse30sYSk7Zm9yKHZhciBmPTA7ZT5mO2YrKyl7dmFyIGc9ZVtmXTtpZighYS5wYXJhbXNbZ10pcmV0dXJuIGQoIm5vX3BhcmFtc18iK2cse30sYSl9dmFyIGg9Yy5lbmMuSGV4LnBhcnNlKGEucGFyYW1zLmNpcGhlcnRleHQpLGk9Yy5lbmMuQmFzZTY0LnN0cmluZ2lmeShoKSxqPWMuQUVTLmRlY3J5cHQoaSxjLmVuYy5IZXgucGFyc2UoYS5wYXJhbXMua2V5KSx7aXY6Yy5lbmMuSGV4LnBhcnNlKGEucGFyYW1zLml2KX0pO3JldHVybiBwbGFpbl90ZXh0PWoudG9TdHJpbmcoYy5lbmMuVXRmOCksYih7cGxhaW50ZXh0OnBsYWluX3RleHR9KX07Yi5leHBvcnRzPXtlbmNyeXB0OmQsZGVjcnlwdDplfX0seyIuLi8uLi8uLi9saWJzL2dlbmVyYXRlZC9jcnlwdG8iOjF9XSw0MTpbZnVuY3Rpb24oYSxiKXt2YXIgYz1hKCIuLi8uLi8uLi9saWJzL2dlbmVyYXRlZC9jcnlwdG8iKSxkPWZ1bmN0aW9uKGEsYixkKXtpZighYS5wYXJhbXMudGV4dClyZXR1cm4gdm9pZCBkKCJoYXNoX25vX3RleHQiLHt9LGEpO3ZhciBlO2lmKCJtZDUiPT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpZT1jLk1ENShhLnBhcmFtcy50ZXh0KS50b1N0cmluZyhjLmVuYy5IZXgpO2Vsc2UgaWYoInNoYTEiPT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpZT1jLlNIQTEoYS5wYXJhbXMudGV4dCkudG9TdHJpbmcoYy5lbmMuSGV4KTtlbHNlIGlmKCJzaGEyNTYiPT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpZT1jLlNIQTI1NihhLnBhcmFtcy50ZXh0KS50b1N0cmluZyhjLmVuYy5IZXgpO2Vsc2V7aWYoInNoYTUxMiIhPT1hLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSlyZXR1cm4gZCgiaGFzaF91bnN1cHBvcnRlZF9hbGdvcml0aG06ICIrYS5wYXJhbXMuYWxnb3JpdGhtKTtlPWMuU0hBNTEyKGEucGFyYW1zLnRleHQpLnRvU3RyaW5nKGMuZW5jLkhleCl9cmV0dXJuIGIoe2hhc2h2YWx1ZTplfSl9O2IuZXhwb3J0cz1kfSx7Ii4uLy4uLy4uL2xpYnMvZ2VuZXJhdGVkL2NyeXB0byI6MX1dLDQyOltmdW5jdGlvbihhLGIpe3ZhciBjPWEoIi4uLy4uLy4uL2xpYnMvcnNhIiksZD1jLlJTQUtleSxlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1bIm1vZHVsdSIsInBsYWludGV4dCJdO2lmKCJyc2EiIT09YS5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGMoImVuY3J5cHRfYmFkX2FsZ29yaXRobSIse30sYSk7Zm9yKHZhciBmPTA7ZT5mO2YrKyl7dmFyIGc9ZVtmXTtpZighYS5wYXJhbXNbZ10pcmV0dXJuIGMoIm5vX3BhcmFtc18iK2cse30sYSl9dmFyIGg9bmV3IGQ7aC5zZXRQdWJsaWMoYS5wYXJhbXMubW9kdWx1LCIxMDAwMSIpO3ZhciBpPWEucGFyYW1zLnBsYWludGV4dDtyZXR1cm4gY2lwaGVyX3RleHQ9aC5lbmNyeXB0KGkpLGIoe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KX07Yi5leHBvcnRzPXtlbmNyeXB0OmV9fSx7Ii4uLy4uLy4uL2xpYnMvcnNhIjo0fV0sNDM6W2Z1bmN0aW9uKGEsYil7dmFyIGM9YSgiSlNPTiIpLGQ9YSgiLi9hcGlfYWN0IiksZT1hKCIuL2FwaV9jbG91ZCIpLGY9YSgiLi4vLi4vbGlicy9nZW5lcmF0ZWQvY3J5cHRvIiksZz1hKCIuLi8uLi9saWJzL2dlbmVyYXRlZC9sYXduY2hhaXIiKSxoPXtkZWZhdWx0czp7c3luY19mcmVxdWVuY3k6MTAsYXV0b19zeW5jX2xvY2FsX3VwZGF0ZXM6ITAsbm90aWZ5X2NsaWVudF9zdG9yYWdlX2ZhaWxlZDohMCxub3RpZnlfc3luY19zdGFydGVkOiEwLG5vdGlmeV9zeW5jX2NvbXBsZXRlOiEwLG5vdGlmeV9vZmZsaW5lX3VwZGF0ZTohMCxub3RpZnlfY29sbGlzaW9uX2RldGVjdGVkOiEwLG5vdGlmeV9yZW1vdGVfdXBkYXRlX2ZhaWxlZDohMCxub3RpZnlfbG9jYWxfdXBkYXRlX2FwcGxpZWQ6ITAsbm90aWZ5X3JlbW90ZV91cGRhdGVfYXBwbGllZDohMCxub3RpZnlfZGVsdGFfcmVjZWl2ZWQ6ITAsbm90aWZ5X3JlY29yZF9kZWx0YV9yZWNlaXZlZDohMCxub3RpZnlfc3luY19mYWlsZWQ6ITAsZG9fY29uc29sZV9sb2c6ITEsY3Jhc2hlZF9jb3VudF93YWl0OjEwLHJlc2VuZF9jcmFzaGVkX3VwZGF0ZXM6ITAsc3luY19hY3RpdmU6ITAsc3RvcmFnZV9zdHJhdGVneToiaHRtbDUtZmlsZXN5c3RlbSIsZmlsZV9zeXN0ZW1fcXVvdGE6NjE2NDQ4MDAsaGFzX2N1c3RvbV9zeW5jOm51bGwsaWNsb3VkX2JhY2t1cDohMX0sbm90aWZpY2F0aW9uczp7Q0xJRU5UX1NUT1JBR0VfRkFJTEVEOiJjbGllbnRfc3RvcmFnZV9mYWlsZWQiLFNZTkNfU1RBUlRFRDoic3luY19zdGFydGVkIixTWU5DX0NPTVBMRVRFOiJzeW5jX2NvbXBsZXRlIixPRkZMSU5FX1VQREFURToib2ZmbGluZV91cGRhdGUiLENPTExJU0lPTl9ERVRFQ1RFRDoiY29sbGlzaW9uX2RldGVjdGVkIixSRU1PVEVfVVBEQVRFX0ZBSUxFRDoicmVtb3RlX3VwZGF0ZV9mYWlsZWQiLFJFTU9URV9VUERBVEVfQVBQTElFRDoicmVtb3RlX3VwZGF0ZV9hcHBsaWVkIixMT0NBTF9VUERBVEVfQVBQTElFRDoibG9jYWxfdXBkYXRlX2FwcGxpZWQiLERFTFRBX1JFQ0VJVkVEOiJkZWx0YV9yZWNlaXZlZCIsUkVDT1JEX0RFTFRBX1JFQ0VJVkVEOiJyZWNvcmRfZGVsdGFfcmVjZWl2ZWQiLFNZTkNfRkFJTEVEOiJzeW5jX2ZhaWxlZCJ9LGRhdGFzZXRzOnt9LGNvbmZpZzp2b2lkIDAsbm90aWZ5X2NhbGxiYWNrOnZvaWQgMCxub3RpZnlfY2FsbGJhY2tfbWFwOnt9LGluaXRfaXNfY2FsbGVkOiExLGluaXQ6ZnVuY3Rpb24oYSl7aC5jb25zb2xlTG9nKCJzeW5jIC0gaW5pdCBjYWxsZWQiKSxoLmNvbmZpZz1jLnBhcnNlKGMuc3RyaW5naWZ5KGguZGVmYXVsdHMpKTtmb3IodmFyIGIgaW4gYSloLmNvbmZpZ1tiXT1hW2JdO2guaW5pdF9pc19jYWxsZWR8fChoLmluaXRfaXNfY2FsbGVkPSEwLGguZGF0YXNldE1vbml0b3IoKSl9LG5vdGlmeTpmdW5jdGlvbihhLGIpezE9PT1hcmd1bWVudHMubGVuZ3RoJiYiZnVuY3Rpb24iPT10eXBlb2YgYT9oLm5vdGlmeV9jYWxsYmFjaz1hOmgubm90aWZ5X2NhbGxiYWNrX21hcFthXT1ifSxtYW5hZ2U6ZnVuY3Rpb24oYSxiLGQsZSxmKXtoLmNvbnNvbGVMb2coIm1hbmFnZSAtIFNUQVJUIik7dmFyIGI9Ynx8e30sZz1mdW5jdGlvbihnKXtoLmNvbnNvbGVMb2coImRvTWFuYWdlIGRhdGFzZXQgOjogaW5pdGlhbGlzZWQgPSAiK2cuaW5pdGlhbGlzZWQrIiA6OiAiK2ErIiA6OiAiK2Muc3RyaW5naWZ5KGIpKTt2YXIgaT1oLnNldE9wdGlvbnMoYik7Zy5xdWVyeV9wYXJhbXM9ZHx8Zy5xdWVyeV9wYXJhbXN8fHt9LGcubWV0YV9kYXRhPWV8fGcubWV0YV9kYXRhfHx7fSxnLmNvbmZpZz1pLGcuc3luY1J1bm5pbmc9ITEsZy5zeW5jUGVuZGluZz0hMCxnLmluaXRpYWxpc2VkPSEwLCJ1bmRlZmluZWQiPT10eXBlb2YgZy5tZXRhJiYoZy5tZXRhPXt9KSxoLnNhdmVEYXRhU2V0KGEsZnVuY3Rpb24oKXtmJiZmKCl9KX07aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oYSl7aC5jb25zb2xlTG9nKCJtYW5hZ2UgLSBkYXRhc2V0IGFscmVhZHkgbG9hZGVkIiksZyhhKX0sZnVuY3Rpb24oKXtoLmNvbnNvbGVMb2coIm1hbmFnZSAtIGRhdGFzZXQgbm90IGxvYWRlZC4uLiB0cnlpbmcgdG8gbG9hZCIpLGgubG9hZERhdGFTZXQoYSxmdW5jdGlvbihiKXtoLmNvbnNvbGVMb2coIm1hbmFnZSAtIGRhdGFzZXQgbG9hZGVkIGZyb20gbG9jYWwgc3RvcmFnZSIpLGguZG9Ob3RpZnkoYSxudWxsLGgubm90aWZpY2F0aW9ucy5MT0NBTF9VUERBVEVfQVBQTElFRCwibG9hZCIpLGcoYil9LGZ1bmN0aW9uKCl7aC5jb25zb2xlTG9nKCJtYW5hZ2UgLSBDcmVhdGluZyBuZXcgZGF0YXNldCBmb3IgaWQgIithKTt2YXIgYj17fTtiLmRhdGE9e30sYi5wZW5kaW5nPXt9LGIubWV0YT17fSxoLmRhdGFzZXRzW2FdPWIsZyhiKX0pfSl9LHNldE9wdGlvbnM6ZnVuY3Rpb24oYSl7aC5jb25maWd8fChoLmNvbmZpZz1jLnBhcnNlKGMuc3RyaW5naWZ5KGguZGVmYXVsdHMpKSk7dmFyIGI9Yy5wYXJzZShjLnN0cmluZ2lmeShoLmNvbmZpZykpLGQ9Yy5wYXJzZShjLnN0cmluZ2lmeShhKSk7Zm9yKHZhciBlIGluIGQpYltlXT1kW2VdO3JldHVybiBifSxsaXN0OmZ1bmN0aW9uKGEsYixkKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihhKXtpZihhJiZhLmRhdGEpe3ZhciBlPWMucGFyc2UoYy5zdHJpbmdpZnkoYS5kYXRhKSk7YihlKX1lbHNlIGQmJmQoIm5vX2RhdGEiKX0sZnVuY3Rpb24oYSxiKXtkJiZkKGEsYil9KX0sY3JlYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBudWxsPT1iJiZkP2QoIm51bGxfZGF0YSIpOnZvaWQgaC5hZGRQZW5kaW5nT2JqKGEsbnVsbCxiLCJjcmVhdGUiLGMsZCl9LHJlYWQ6ZnVuY3Rpb24oYSxiLGQsZSl7aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oYSl7dmFyIGY9YS5kYXRhW2JdO2lmKGYpe3ZhciBnPWMucGFyc2UoYy5zdHJpbmdpZnkoZikpO2QoZyl9ZWxzZSBlKCJ1bmtub3duX3VpZCIpfSxmdW5jdGlvbihhLGIpe2UmJmUoYSxiKX0pfSx1cGRhdGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtoLmFkZFBlbmRpbmdPYmooYSxiLGMsInVwZGF0ZSIsZCxlKX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSxiLGMsZCl7aC5hZGRQZW5kaW5nT2JqKGEsYixudWxsLCJkZWxldGUiLGMsZCl9LGdldFBlbmRpbmc6ZnVuY3Rpb24oYSxiKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihhKXt2YXIgYzthJiYoYz1hLnBlbmRpbmcpLGIoYyl9LGZ1bmN0aW9uKGEpe2guY29uc29sZUxvZyhhKX0pfSxjbGVhclBlbmRpbmc6ZnVuY3Rpb24oYSxiKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihjKXtjLnBlbmRpbmc9e30saC5zYXZlRGF0YVNldChhLGIpfSl9LGxpc3RDb2xsaXNpb25zOmZ1bmN0aW9uKGEsYixjKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihkKXtoLmRvQ2xvdWRDYWxsKHtkYXRhc2V0X2lkOmEscmVxOntmbjoibGlzdENvbGxpc2lvbnMiLG1ldGFfZGF0YTpkLm1ldGFfZGF0YX19LGIsYyl9LGMpfSxyZW1vdmVDb2xsaXNpb246ZnVuY3Rpb24oYSxiLGMsZCl7aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oZSl7aC5kb0Nsb3VkQ2FsbCh7ZGF0YXNldF9pZDphLHJlcTp7Zm46InJlbW92ZUNvbGxpc2lvbiIsaGFzaDpiLG1ldGFfZGF0YTplLm1ldGFfZGF0YX19LGMsZCl9KX0saXNPbmxpbmU6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3Iub25MaW5lJiYoYj1uYXZpZ2F0b3Iub25MaW5lKSxiJiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5uZXR3b3JrJiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5uZXR3b3JrLmNvbm5lY3Rpb24pe3ZhciBjPW5hdmlnYXRvci5uZXR3b3JrLmNvbm5lY3Rpb24udHlwZTsoIm5vbmUiPT09Y3x8bnVsbD09PWMpJiYoYj0hMSl9cmV0dXJuIGEoYil9LGRvTm90aWZ5OmZ1bmN0aW9uKGEsYixjLGQpe2lmKGgubm90aWZ5X2NhbGxiYWNrfHxoLm5vdGlmeV9jYWxsYmFja19tYXBbYV0pe3ZhciBlPWgubm90aWZ5X2NhbGxiYWNrX21hcFthXXx8aC5ub3RpZnlfY2FsbGJhY2s7aWYoaC5jb25maWdbIm5vdGlmeV8iK2NdKXt2YXIgZj17ZGF0YXNldF9pZDphLHVpZDpiLGNvZGU6YyxtZXNzYWdlOmR9O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGYpfSwwKX19fSxnZXREYXRhU2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1oLmRhdGFzZXRzW2FdO2Q/YihkKTpjJiZjKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxnZXRRdWVyeVBhcmFtczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9aC5kYXRhc2V0c1thXTtkP2IoZC5xdWVyeV9wYXJhbXMpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LHNldFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWguZGF0YXNldHNbYV07ZT8oZS5xdWVyeV9wYXJhbXM9YixoLnNhdmVEYXRhU2V0KGEpLGMmJmMoZS5xdWVyeV9wYXJhbXMpKTpkJiZkKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxnZXRNZXRhRGF0YTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9aC5kYXRhc2V0c1thXTtkP2IoZC5tZXRhX2RhdGEpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LHNldE1ldGFEYXRhOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWguZGF0YXNldHNbYV07ZT8oZS5tZXRhX2RhdGE9YixoLnNhdmVEYXRhU2V0KGEpLGMmJmMoZS5tZXRhX2RhdGEpKTpkJiZkKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxnZXRDb25maWc6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWguZGF0YXNldHNbYV07ZD9iKGQuY29uZmlnKTpjJiZjKCJ1bmtub3duX2RhdGFzZXQgIithLGEpfSxzZXRDb25maWc6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9aC5kYXRhc2V0c1thXTtpZihlKXt2YXIgZj1oLnNldE9wdGlvbnMoYik7ZS5jb25maWc9ZixoLnNhdmVEYXRhU2V0KGEpLGMmJmMoZS5jb25maWcpfWVsc2UgZCYmZCgidW5rbm93bl9kYXRhc2V0ICIrYSxhKX0sc3RvcFN5bmM6ZnVuY3Rpb24oYSxiLGMpe2guc2V0Q29uZmlnKGEse3N5bmNfYWN0aXZlOiExfSxmdW5jdGlvbigpe2ImJmIoKX0sYyl9LHN0YXJ0U3luYzpmdW5jdGlvbihhLGIsYyl7aC5zZXRDb25maWcoYSx7c3luY19hY3RpdmU6ITB9LGZ1bmN0aW9uKCl7YiYmYigpfSxjKX0sZG9TeW5jOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1oLmRhdGFzZXRzW2FdO2Q/KGQuc3luY1BlbmRpbmc9ITAsaC5zYXZlRGF0YVNldChhKSxiJiZiKCkpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LGZvcmNlU3luYzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9aC5kYXRhc2V0c1thXTtkPyhkLnN5bmNGb3JjZWQ9ITAsaC5zYXZlRGF0YVNldChhKSxiJiZiKCkpOmMmJmMoInVua25vd25fZGF0YXNldCAiK2EsYSl9LHNvcnRPYmplY3Q6ZnVuY3Rpb24oYSl7aWYoIm9iamVjdCIhPXR5cGVvZiBhfHxudWxsPT09YSlyZXR1cm4gYTt2YXIgYj1bXTtyZXR1cm4gT2JqZWN0LmtleXMoYSkuc29ydCgpLmZvckVhY2goZnVuY3Rpb24oYyl7Yi5wdXNoKHtrZXk6Yyx2YWx1ZTpoLnNvcnRPYmplY3QoYVtjXSl9KX0pLGJ9LHNvcnRlZFN0cmluZ2lmeTpmdW5jdGlvbihhKXt2YXIgYj0iIjt0cnl7Yj1jLnN0cmluZ2lmeShoLnNvcnRPYmplY3QoYSkpfWNhdGNoKGQpe2NvbnNvbGUuZXJyb3IoIkVycm9yIHN0cmluZ2lmeWluZyBzb3J0ZWQgb2JqZWN0OiIrZCl9cmV0dXJuIGJ9LGdlbmVyYXRlSGFzaDpmdW5jdGlvbihhKXt2YXIgYj1mLlNIQTEoaC5zb3J0ZWRTdHJpbmdpZnkoYSkpO3JldHVybiBiLnRvU3RyaW5nKCl9LGFkZFBlbmRpbmdPYmo6ZnVuY3Rpb24oYSxiLGQsZSxmLGcpe2Z1bmN0aW9uIGkoYyl7Yy5oYXNoPWguZ2VuZXJhdGVIYXNoKGMpLGguZ2V0RGF0YVNldChhLGZ1bmN0aW9uKGQpe2QucGVuZGluZ1tjLmhhc2hdPWMsaC51cGRhdGVEYXRhc2V0RnJvbUxvY2FsKGQsYyksaC5jb25maWcuYXV0b19zeW5jX2xvY2FsX3VwZGF0ZXMmJihkLnN5bmNQZW5kaW5nPSEwKSxoLnNhdmVEYXRhU2V0KGEpLGguZG9Ob3RpZnkoYSxiLGgubm90aWZpY2F0aW9ucy5MT0NBTF9VUERBVEVfQVBQTElFRCxlKSxmKGMpfSxmdW5jdGlvbihhLGIpe2cmJmcoYSxiKX0pfWguaXNPbmxpbmUoZnVuY3Rpb24oYyl7Y3x8aC5kb05vdGlmeShhLGIsaC5ub3RpZmljYXRpb25zLk9GRkxJTkVfVVBEQVRFLGUpfSk7dmFyIGo9e307ai5pbkZsaWdodD0hMSxqLmFjdGlvbj1lLGoucG9zdD1jLnBhcnNlKGMuc3RyaW5naWZ5KGQpKSxqLnBvc3RIYXNoPWguZ2VuZXJhdGVIYXNoKGoucG9zdCksai50aW1lc3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCksImNyZWF0ZSI9PT1lPyhqLnVpZD1qLnBvc3RIYXNoLGkoaikpOmgucmVhZChhLGIsZnVuY3Rpb24oYSl7ai51aWQ9YixqLnByZT1hLmRhdGEsai5wcmVIYXNoPWguZ2VuZXJhdGVIYXNoKGEuZGF0YSksaShqKX0sZnVuY3Rpb24oYSxiKXtnJiZnKGEsYil9KX0sc3luY0xvb3A6ZnVuY3Rpb24oYSl7aC5nZXREYXRhU2V0KGEsZnVuY3Rpb24oYil7Yi5zeW5jUGVuZGluZz0hMSxiLnN5bmNSdW5uaW5nPSEwLGIuc3luY0xvb3BTdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSxoLmRvTm90aWZ5KGEsbnVsbCxoLm5vdGlmaWNhdGlvbnMuU1lOQ19TVEFSVEVELG51bGwpLGguaXNPbmxpbmUoZnVuY3Rpb24oZCl7ZD9oLmNoZWNrSGFzQ3VzdG9tU3luYyhhLGZ1bmN0aW9uKCl7dmFyIGQ9e307ZC5mbj0ic3luYyIsZC5kYXRhc2V0X2lkPWEsZC5xdWVyeV9wYXJhbXM9Yi5xdWVyeV9wYXJhbXMsZC5jb25maWc9Yi5jb25maWcsZC5tZXRhX2RhdGE9Yi5tZXRhX2RhdGEsZC5kYXRhc2V0X2hhc2g9Yi5oYXNoLGQuYWNrbm93bGVkZ2VtZW50cz1iLmFja25vd2xlZGdlbWVudHN8fFtdO3ZhciBlPWIucGVuZGluZyxmPVtdO2Zvcih2YXIgZyBpbiBlKWVbZ10uaW5GbGlnaHR8fGVbZ10uY3Jhc2hlZHx8ZVtnXS5kZWxheWVkfHwoZVtnXS5pbkZsaWdodD0hMCxlW2ddLmluRmxpZ2h0RGF0ZT0obmV3IERhdGUpLmdldFRpbWUoKSxmLnB1c2goZVtnXSkpO2QucGVuZGluZz1mLGYubGVuZ3RoPjAmJmguY29uc29sZUxvZygiU3RhcnRpbmcgc3luYyBsb29wIC0gZ2xvYmFsIGhhc2ggPSAiK2IuaGFzaCsiIDo6IHBhcmFtcyA9ICIrYy5zdHJpbmdpZnkoZCxudWxsLDIpKTt0cnl7aC5kb0Nsb3VkQ2FsbCh7ZGF0YXNldF9pZDphLHJlcTpkfSxmdW5jdGlvbihjKXtmdW5jdGlvbiBkKGMsZCxmKXtpZihjKWZvcih2YXIgZyBpbiBjKWU9Y1tnXSxmLnB1c2goZSksYi5wZW5kaW5nW2ddJiZiLnBlbmRpbmdbZ10uaW5GbGlnaHQmJiFiLnBlbmRpbmdbZ10uY3Jhc2hlZCYmKGRlbGV0ZSBiLnBlbmRpbmdbZ10saC5kb05vdGlmeShhLGUudWlkLGQsZSkpfXZhciBlO2lmKGgudXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhKGEsYixjKSxoLnVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhKGEsYixjKSxoLnVwZGF0ZURlbGF5ZWRGcm9tTmV3RGF0YShhLGIsYyksaC51cGRhdGVNZXRhRnJvbU5ld0RhdGEoYSxiLGMpLGgudXBkYXRlTmV3RGF0YUZyb21JbkZsaWdodChhLGIsYyksaC51cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcoYSxiLGMpLGMucmVjb3JkcyYmKGIuZGF0YT1jLnJlY29yZHMsYi5oYXNoPWMuaGFzaCxoLmRvTm90aWZ5KGEsYy5oYXNoLGgubm90aWZpY2F0aW9ucy5ERUxUQV9SRUNFSVZFRCwiZnVsbCBkYXRhc2V0IikpLGMudXBkYXRlcyl7dmFyIGY9W107ZChjLnVwZGF0ZXMuYXBwbGllZCxoLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9BUFBMSUVELGYpLGQoYy51cGRhdGVzLmZhaWxlZCxoLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9GQUlMRUQsZiksZChjLnVwZGF0ZXMuY29sbGlzaW9ucyxoLm5vdGlmaWNhdGlvbnMuQ09MTElTSU9OX0RFVEVDVEVELGYpLGIuYWNrbm93bGVkZ2VtZW50cz1mfSFjLnJlY29yZHMmJmMuaGFzaCYmYy5oYXNoIT09Yi5oYXNoPyhoLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgc3RhbGUgLSBzeW5jaW5nIHJlY29yZHMgOjogbG9jYWwgaGFzaD0gIitiLmhhc2grIiAtIHJlbW90ZUhhc2g9IitjLmhhc2gpLGguc3luY1JlY29yZHMoYSkpOihoLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgdXAgdG8gZGF0ZSIpLGguc3luY0NvbXBsZXRlKGEsIm9ubGluZSIsaC5ub3RpZmljYXRpb25zLlNZTkNfQ09NUExFVEUpKX0sZnVuY3Rpb24oYyxkKXtoLm1hcmtJbkZsaWdodEFzQ3Jhc2hlZChiKSxoLmNvbnNvbGVMb2coInN5bmNMb29wIGZhaWxlZCA6IG1zZz0iK2MrIiA6OiBlcnIgPSAiK2QpLGguc3luY0NvbXBsZXRlKGEsYyxoLm5vdGlmaWNhdGlvbnMuU1lOQ19GQUlMRUQpfSl9Y2F0Y2goaSl7aC5jb25zb2xlTG9nKCJFcnJvciBwZXJmb3JtaW5nIHN5bmMgLSAiK2kpLGguc3luY0NvbXBsZXRlKGEsaSxoLm5vdGlmaWNhdGlvbnMuU1lOQ19GQUlMRUQpfX0pOmguc3luY0NvbXBsZXRlKGEsIm9mZmxpbmUiLGgubm90aWZpY2F0aW9ucy5TWU5DX0ZBSUxFRCl9KX0pfSxzeW5jUmVjb3JkczpmdW5jdGlvbihhKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihiKXt2YXIgZD1iLmRhdGF8fHt9LGU9e307Zm9yKHZhciBmIGluIGQpe3ZhciBnPWYsaT1kW2ZdLmhhc2g7ZVtnXT1pfXZhciBqPXt9O2ouZm49InN5bmNSZWNvcmRzIixqLmRhdGFzZXRfaWQ9YSxqLnF1ZXJ5X3BhcmFtcz1iLnF1ZXJ5X3BhcmFtcyxqLmNsaWVudFJlY3M9ZSxoLmNvbnNvbGVMb2coInN5bmNSZWNQYXJhbXMgOjogIitjLnN0cmluZ2lmeShqKSksaC5kb0Nsb3VkQ2FsbCh7ZGF0YXNldF9pZDphLHJlcTpqfSxmdW5jdGlvbihjKXt2YXIgZTtpZihjLmNyZWF0ZSlmb3IoZSBpbiBjLmNyZWF0ZSlkW2VdPXtoYXNoOmMuY3JlYXRlW2VdLmhhc2gsZGF0YTpjLmNyZWF0ZVtlXS5kYXRhfSxoLmRvTm90aWZ5KGEsZSxoLm5vdGlmaWNhdGlvbnMuUkVDT1JEX0RFTFRBX1JFQ0VJVkVELCJjcmVhdGUiKTtpZihjLnVwZGF0ZSlmb3IoZSBpbiBjLnVwZGF0ZSlkW2VdLmhhc2g9Yy51cGRhdGVbZV0uaGFzaCxkW2VdLmRhdGE9Yy51cGRhdGVbZV0uZGF0YSxoLmRvTm90aWZ5KGEsZSxoLm5vdGlmaWNhdGlvbnMuUkVDT1JEX0RFTFRBX1JFQ0VJVkVELCJ1cGRhdGUiKTtpZihjWyJkZWxldGUiXSlmb3IoZSBpbiBjWyJkZWxldGUiXSlkZWxldGUgZFtlXSxoLmRvTm90aWZ5KGEsZSxoLm5vdGlmaWNhdGlvbnMuUkVDT1JEX0RFTFRBX1JFQ0VJVkVELCJkZWxldGUiKTtoLmRvTm90aWZ5KGEsYy5oYXNoLGgubm90aWZpY2F0aW9ucy5ERUxUQV9SRUNFSVZFRCwicGFydGlhbCBkYXRhc2V0IiksYi5kYXRhPWQsYy5oYXNoJiYoYi5oYXNoPWMuaGFzaCksaC5zeW5jQ29tcGxldGUoYSwib25saW5lIixoLm5vdGlmaWNhdGlvbnMuU1lOQ19DT01QTEVURSl9LGZ1bmN0aW9uKGIsYyl7aC5jb25zb2xlTG9nKCJzeW5jUmVjb3JkcyBmYWlsZWQgOiBtc2c9IitiKyIgOjogZXJyPSIrYyksaC5zeW5jQ29tcGxldGUoYSxiLGgubm90aWZpY2F0aW9ucy5TWU5DX0ZBSUxFRCl9KX0pfSxzeW5jQ29tcGxldGU6ZnVuY3Rpb24oYSxiLGMpe2guZ2V0RGF0YVNldChhLGZ1bmN0aW9uKGQpe2Quc3luY1J1bm5pbmc9ITEsZC5zeW5jTG9vcEVuZD0obmV3IERhdGUpLmdldFRpbWUoKSxoLnNhdmVEYXRhU2V0KGEpLGguZG9Ob3RpZnkoYSxkLmhhc2gsYyxiKX0pfSxjaGVja0RhdGFzZXRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGguZGF0YXNldHMpaWYoaC5kYXRhc2V0cy5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGI9aC5kYXRhc2V0c1thXTtpZihiJiYhYi5zeW5jUnVubmluZyYmKGIuY29uZmlnLnN5bmNfYWN0aXZlfHxiLnN5bmNGb3JjZWQpKXt2YXIgYz1iLnN5bmNMb29wU3RhcnQsZD1iLnN5bmNMb29wRW5kO2lmKGIuc3luY0ZvcmNlZCliLnN5bmNQZW5kaW5nPSEwO2Vsc2UgaWYobnVsbD09YyloLmNvbnNvbGVMb2coYSsiIC0gUGVyZm9ybWluZyBpbml0aWFsIHN5bmMiKSxiLnN5bmNQZW5kaW5nPSEwO2Vsc2UgaWYobnVsbCE9ZCl7dmFyIGU9KG5ldyBEYXRlKS5nZXRUaW1lKCktZCxmPTFlMypiLmNvbmZpZy5zeW5jX2ZyZXF1ZW5jeTtlPmYmJihiLnN5bmNQZW5kaW5nPSEwKX1iLnN5bmNQZW5kaW5nJiYoYi5zeW5jRm9yY2VkPSExLGguc3luY0xvb3AoYSkpfX19LGNoZWNrSGFzQ3VzdG9tU3luYzpmdW5jdGlvbihhLGIpe3ZhciBjPWguZGF0YXNldHNbYV07cmV0dXJuIGMmJmMuY29uZmlnPyhoLmNvbnNvbGVMb2coImRhdGFzZXQuY29uZmlnLmhhc19jdXN0b21fc3luYyA9ICIrYy5jb25maWcuaGFzX2N1c3RvbV9zeW5jKSxudWxsIT1jLmNvbmZpZy5oYXNfY3VzdG9tX3N5bmM/YigpOihoLmNvbnNvbGVMb2coInN0YXJ0aW5nIGNoZWNrIGhhcyBjdXN0b20gc3luYyIpLHZvaWQgZCh7YWN0OmEscmVxOntmbjoic3luYyJ9fSxmdW5jdGlvbihhKXtyZXR1cm4gaC5jb25zb2xlTG9nKCJjaGVjayBoYXNfY3VzdG9tX3N5bmMgLSBzdWNjZXNzIC0gIixhKSxjLmNvbmZpZy5oYXNfY3VzdG9tX3N5bmM9ITAsYigpfSxmdW5jdGlvbihhLGQpe3JldHVybiBoLmNvbnNvbGVMb2coImNoZWNrIGhhc19jdXN0b21fc3luYyAtIGZhaWx1cmUgLSAiLGQpLGQuc3RhdHVzJiY1MDA9PT1kLnN0YXR1cz8oaC5jb25zb2xlTG9nKCJjaGVjayBoYXNfY3VzdG9tX3N5bmMgLSBmYWlsZWQgd2l0aCA1MDAsIGVuZHBvaW50IGRvZXMgZXhpc3RzIiksYy5jb25maWcuaGFzX2N1c3RvbV9zeW5jPSEwKTpjLmNvbmZpZy5oYXNfY3VzdG9tX3N5bmM9ITEsYigpfSkpKTpiKCl9LGRvQ2xvdWRDYWxsOmZ1bmN0aW9uKGEsYixjKXt2YXIgZj0hMSxnPWguZGF0YXNldHNbYS5kYXRhc2V0X2lkXTtnJiZnLmNvbmZpZyYmKGY9Zy5jb25maWcuaGFzX2N1c3RvbV9zeW5jKSwxPT1mP2Qoe2FjdDphLmRhdGFzZXRfaWQscmVxOmEucmVxfSxmdW5jdGlvbihhKXtiKGEpfSxmdW5jdGlvbihhLGIpe2MoYSxiKX0pOmUoe3BhdGg6Ii9tYmFhcy9zeW5jLyIrYS5kYXRhc2V0X2lkLG1ldGhvZDoicG9zdCIsZGF0YTphLnJlcX0sZnVuY3Rpb24oYSl7YihhKX0sZnVuY3Rpb24oYSxiKXtjKGEsYil9KX0sZGF0YXNldE1vbml0b3I6ZnVuY3Rpb24oKXtoLmNoZWNrRGF0YXNldHMoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5kYXRhc2V0TW9uaXRvcigpfSw1MDApfSxnZXRTdG9yYWdlQWRhcHRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYyxkKXt2YXIgZT0oYj8ic2F2ZSB0byI6ImxvYWQgZnJvbSIpKyIgbG9jYWwgc3RvcmFnZSBmYWlsZWQgbXNnOiAiK2MrIiBlcnI6ICIrZDtoLmRvTm90aWZ5KGEsbnVsbCxoLm5vdGlmaWNhdGlvbnMuQ0xJRU5UX1NUT1JBR0VfRkFJTEVELGUpLGguY29uc29sZUxvZyhlKX07Zyh7ZmFpbDpkLGFkYXB0ZXI6aC5jb25maWcuc3RvcmFnZV9zdHJhdGVneSxzaXplOmguY29uZmlnLmZpbGVfc3lzdGVtX3F1b3RhLGJhY2t1cDpoLmNvbmZpZy5pY2xvdWRfYmFja3VwfSxmdW5jdGlvbigpe3JldHVybiBjKG51bGwsdGhpcyl9KX0sc2F2ZURhdGFTZXQ6ZnVuY3Rpb24oYSxiKXtoLmdldERhdGFTZXQoYSxmdW5jdGlvbihjKXtoLmdldFN0b3JhZ2VBZGFwdGVyKGEsITAsZnVuY3Rpb24oZCxlKXtlLnNhdmUoe2tleToiZGF0YXNldF8iK2EsdmFsOmN9LGZ1bmN0aW9uKCl7cmV0dXJuIGI/YigpOnZvaWQgMH0pfSl9KX0sbG9hZERhdGFTZXQ6ZnVuY3Rpb24oYSxiLGQpe2guZ2V0U3RvcmFnZUFkYXB0ZXIoYSwhMSxmdW5jdGlvbihlLGYpe2YuZ2V0KCJkYXRhc2V0XyIrYSxmdW5jdGlvbihlKXtpZihlJiZlLnZhbCl7dmFyIGY9ZS52YWw7aWYoInN0cmluZyI9PXR5cGVvZiBmJiYoZj1jLnBhcnNlKGYpKSxmLmluaXRpYWxpc2VkPSExLGguZGF0YXNldHNbYV09ZixoLmNvbnNvbGVMb2coImxvYWQgZnJvbSBsb2NhbCBzdG9yYWdlIHN1Y2Nlc3MgZm9yIGRhdGFzZXRfaWQgOiIrYSksYilyZXR1cm4gYihmKX1lbHNlIGlmKGQpcmV0dXJuIGQoKX0pfSl9LGNsZWFyQ2FjaGU6ZnVuY3Rpb24oYSxiKXtkZWxldGUgaC5kYXRhc2V0c1thXSxudWxsPT09aC5ub3RpZnlfY2FsbGJhY2tfbWFwW2FdLGguZ2V0U3RvcmFnZUFkYXB0ZXIoYSwhMCxmdW5jdGlvbihjLGQpe2QucmVtb3ZlKCJkYXRhc2V0XyIrYSxmdW5jdGlvbigpe3JldHVybiBoLmNvbnNvbGVMb2coImxvY2FsIGNhY2hlIGlzIGNsZWFyZWQgZm9yIGRhdGFzZXQgOiAiK2EpLGI/YigpOnZvaWQgMH0pfSl9LHVwZGF0ZURhdGFzZXRGcm9tTG9jYWw6ZnVuY3Rpb24oYSxiKXt2YXIgZCxlLGY9YS5wZW5kaW5nLGc9Yi51aWQ7aC5jb25zb2xlTG9nKCJ1cGRhdGluZyBsb2NhbCBkYXRhc2V0IGZvciB1aWQgIitnKyIgLSBhY3Rpb24gPSAiK2IuYWN0aW9uKSxhLm1ldGFbZ109YS5tZXRhW2ddfHx7fSwiY3JlYXRlIj09PWIuYWN0aW9uJiYoYS5kYXRhW2ddJiYoaC5jb25zb2xlTG9nKCJkYXRhc2V0IGFscmVhZHkgZXhpc3RzIGZvciB1aWQgaW4gY3JlYXRlIDo6ICIrYy5zdHJpbmdpZnkoYS5kYXRhW2ddKSksYS5tZXRhW2ddLmZyb21QZW5kaW5nJiYoZD1hLm1ldGFbZ10ucGVuZGluZ1VpZCxkZWxldGUgZltkXSkpLGEuZGF0YVtnXT17fSksInVwZGF0ZSI9PT1iLmFjdGlvbiYmYS5kYXRhW2ddJiZhLm1ldGFbZ10uZnJvbVBlbmRpbmcmJihoLmNvbnNvbGVMb2coInVwZGF0aW5nIGFuIGV4aXN0aW5nIHBlbmRpbmcgcmVjb3JkIGZvciBkYXRhc2V0IDo6ICIrYy5zdHJpbmdpZnkoYS5kYXRhW2ddKSksZD1hLm1ldGFbZ10ucGVuZGluZ1VpZCxhLm1ldGFbZ10ucHJldmlvdXNQZW5kaW5nVWlkPWQsZT1mW2RdLGUmJihlLmluRmxpZ2h0PyhoLmNvbnNvbGVMb2coImV4aXN0aW5nIGluLWluZmxpZ2h0IHBlbmRpbmcgcmVjb3JkID0gIitjLnN0cmluZ2lmeShlKSksYi5kZWxheWVkPSEwLGIud2FpdGluZz1lLmhhc2gpOihoLmNvbnNvbGVMb2coImV4aXN0aW5nIHByZS1mbGlnaHQgcGVuZGluZyByZWNvcmQgPSAiK2Muc3RyaW5naWZ5KGUpKSxlLnBvc3Q9Yi5wb3N0LGUucG9zdEhhc2g9Yi5wb3N0SGFzaCxkZWxldGUgZltiLmhhc2hdLGIuaGFzaD1kKSkpLCJkZWxldGUiPT09Yi5hY3Rpb24mJmEuZGF0YVtnXSYmKGEubWV0YVtnXS5mcm9tUGVuZGluZyYmKGguY29uc29sZUxvZygiRGVsZXRpbmcgYW4gZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgZm9yIGRhdGFzZXQgOjogIitjLnN0cmluZ2lmeShhLmRhdGFbZ10pKSxkPWEubWV0YVtnXS5wZW5kaW5nVWlkLGEubWV0YVtnXS5wcmV2aW91c1BlbmRpbmdVaWQ9ZCxlPWZbZF0sZSYmKGUuaW5GbGlnaHQ/KGguY29uc29sZUxvZygiZXhpc3RpbmcgaW4taW5mbGlnaHQgcGVuZGluZyByZWNvcmQgPSAiK2Muc3RyaW5naWZ5KGUpKSxiLmRlbGF5ZWQ9ITAsYi53YWl0aW5nPWUuaGFzaCk6KGguY29uc29sZUxvZygiZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgPSAiK2Muc3RyaW5naWZ5KGUpKSwiY3JlYXRlIj09PWUuYWN0aW9uJiYoZGVsZXRlIGZbYi5oYXNoXSxkZWxldGUgZltkXSksInVwZGF0ZSI9PT1lLmFjdGlvbiYmKGIucHJlPWUucHJlLGIucHJlSGFzaD1lLnByZUhhc2gsYi5pbkZsaWdodD0hMSxkZWxldGUgZltkXSkpKSksZGVsZXRlIGEuZGF0YVtnXSksYS5kYXRhW2ddJiYoYS5kYXRhW2ddLmRhdGE9Yi5wb3N0LGEuZGF0YVtnXS5oYXNoPWIucG9zdEhhc2gsYS5tZXRhW2ddLmZyb21QZW5kaW5nPSEwLGEubWV0YVtnXS5wZW5kaW5nVWlkPWIuaGFzaCl9LHVwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YTpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZj1iLnBlbmRpbmc7aWYoZiYmZC5yZWNvcmRzKWZvcih2YXIgZyBpbiBmKWlmKGYuaGFzT3duUHJvcGVydHkoZykpe3ZhciBpPWZbZ107aWYoYi5tZXRhW2kudWlkXT1iLm1ldGFbaS51aWRdfHx7fSxpLmluRmxpZ2h0PT09ITEpe2lmKGguY29uc29sZUxvZygidXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhIC0gRm91bmQgTm9uIGluRmxpZ2h0IHJlY29yZCAtPiBhY3Rpb249IitpLmFjdGlvbisiIDo6IHVpZD0iK2kudWlkKyIgOjogaGFzaD0iK2kuaGFzaCksInVwZGF0ZSI9PT1pLmFjdGlvbnx8ImRlbGV0ZSI9PT1pLmFjdGlvbilpZihlPWQucmVjb3Jkc1tpLnVpZF0paC5jb25zb2xlTG9nKCJ1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBVcGRhdGluZyBwcmUgdmFsdWVzIGZvciBleGlzdGluZyBwZW5kaW5nIHJlY29yZCAiK2kudWlkKSxpLnByZT1lLmRhdGEsaS5wcmVIYXNoPWUuaGFzaDtlbHNle3ZhciBqPWIubWV0YVtpLnVpZF0ucHJldmlvdXNQZW5kaW5nVWlkLGs9ZltqXTtpZihrJiZkJiZkLnVwZGF0ZXMmJmQudXBkYXRlcy5hcHBsaWVkJiZkLnVwZGF0ZXMuYXBwbGllZFtrLmhhc2hdKXt2YXIgbD1kLnVwZGF0ZXMuYXBwbGllZFtrLmhhc2hdLnVpZDtlPWQucmVjb3Jkc1tsXSxlJiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBVcGRhdGluZyBwcmUgdmFsdWVzIGZvciBleGlzdGluZyBwZW5kaW5nIHJlY29yZCB3aGljaCB3YXMgcHJldmlvdXNseSBhIGNyZWF0ZSAiK2kudWlkKyIgPT0+ICIrbCksaS5wcmU9ZS5kYXRhLGkucHJlSGFzaD1lLmhhc2gsaS51aWQ9bCl9fSJjcmVhdGUiPT09aS5hY3Rpb24mJmQmJmQudXBkYXRlcyYmZC51cGRhdGVzLmFwcGxpZWQmJmQudXBkYXRlcy5hcHBsaWVkW2ddJiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBGb3VuZCBhbiB1cGRhdGUgZm9yIGEgcGVuZGluZyBjcmVhdGUgIitjLnN0cmluZ2lmeShkLnVwZGF0ZXMuYXBwbGllZFtnXSkpLGU9ZC5yZWNvcmRzW2QudXBkYXRlcy5hcHBsaWVkW2ddLnVpZF0sZSYmKGguY29uc29sZUxvZygidXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhIC0gQ2hhbmdpbmcgcGVuZGluZyBjcmVhdGUgdG8gYW4gdXBkYXRlIGJhc2VkIG9uIG5ldyByZWNvcmQgICIrYy5zdHJpbmdpZnkoZSkpLGkuYWN0aW9uPSJ1cGRhdGUiLGkucHJlPWUuZGF0YSxpLnByZUhhc2g9ZS5oYXNoLGkudWlkPWQudXBkYXRlcy5hcHBsaWVkW2ddLnVpZCkpfX19LHVwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIucGVuZGluZztpZihkJiZjLnJlY29yZHMpZm9yKHZhciBlIGluIGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGY9ZFtlXTtpZihmLmluRmxpZ2h0KXt2YXIgZz1jJiZjLnVwZGF0ZXMmJmMudXBkYXRlcy5oYXNoZXMmJmMudXBkYXRlcy5oYXNoZXNbZV0/ITA6ITE7aWYoaC5jb25zb2xlTG9nKCJ1cGRhdGVOZXdEYXRhRnJvbUluRmxpZ2h0IC0gRm91bmQgaW5mbGlnaHQgcGVuZGluZyBSZWNvcmQgLSBhY3Rpb24gPSAiK2YuYWN0aW9uKyIgOjogaGFzaCA9ICIrZSsiIDo6IHVwZGF0ZVJlY2VpdmVkRm9yUGVuZGluZz0iK2cpLCFnKXt2YXIgaT1jLnJlY29yZHNbZi51aWRdO2lmKCJ1cGRhdGUiPT09Zi5hY3Rpb24mJmkpaS5kYXRhPWYucG9zdCxpLmhhc2g9Zi5wb3N0SGFzaDtlbHNlIGlmKCJkZWxldGUiPT09Zi5hY3Rpb24mJmkpZGVsZXRlIGMucmVjb3Jkc1tmLnVpZF07ZWxzZSBpZigiY3JlYXRlIj09PWYuYWN0aW9uKXtoLmNvbnNvbGVMb2coInVwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQiKTt2YXIgaj17ZGF0YTpmLnBvc3QsaGFzaDpmLnBvc3RIYXNofTtjLnJlY29yZHNbZi51aWRdPWp9fX19fSx1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmc6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIucGVuZGluZztpZihkJiZjLnJlY29yZHMpZm9yKHZhciBlIGluIGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGY9ZFtlXTtpZihmLmluRmxpZ2h0PT09ITEpe2guY29uc29sZUxvZygidXBkYXRlTmV3RGF0YUZyb21QZW5kaW5nIC0gRm91bmQgTm9uIGluRmxpZ2h0IHJlY29yZCAtPiBhY3Rpb249IitmLmFjdGlvbisiIDo6IHVpZD0iK2YudWlkKyIgOjogaGFzaD0iK2YuaGFzaCk7dmFyIGc9Yy5yZWNvcmRzW2YudWlkXTtpZigidXBkYXRlIj09PWYuYWN0aW9uJiZnKWcuZGF0YT1mLnBvc3QsZy5oYXNoPWYucG9zdEhhc2g7ZWxzZSBpZigiZGVsZXRlIj09PWYuYWN0aW9uJiZnKWRlbGV0ZSBjLnJlY29yZHNbZi51aWRdO2Vsc2UgaWYoImNyZWF0ZSI9PT1mLmFjdGlvbil7aC5jb25zb2xlTG9nKCJ1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQiKTt2YXIgaT17ZGF0YTpmLnBvc3QsaGFzaDpmLnBvc3RIYXNofTtjLnJlY29yZHNbZi51aWRdPWl9fX19LHVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhOmZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmLGc9e2FwcGxpZWQ6aC5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfQVBQTElFRCxmYWlsZWQ6aC5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfRkFJTEVELGNvbGxpc2lvbnM6aC5ub3RpZmljYXRpb25zLkNPTExJU0lPTl9ERVRFQ1RFRH0saT1iLnBlbmRpbmcsaj17fTtpZihpKXtmb3IoZSBpbiBpKWlmKGkuaGFzT3duUHJvcGVydHkoZSkmJihmPWlbZV0sZi5pbkZsaWdodCYmZi5jcmFzaGVkKSlpZihoLmNvbnNvbGVMb2coInVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gRm91bmQgY3Jhc2hlZCBpbkZsaWdodCBwZW5kaW5nIHJlY29yZCB1aWQ9IitmLnVpZCsiIDo6IGhhc2g9IitmLmhhc2gpLGQmJmQudXBkYXRlcyYmZC51cGRhdGVzLmhhc2hlcyl7dmFyIGs9ZC51cGRhdGVzLmhhc2hlc1tlXTtrPyhqW2sudWlkXT1rLGguY29uc29sZUxvZygidXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEgLSBSZXNvbHZpbmcgc3RhdHVzIGZvciBjcmFzaGVkIGluZmxpZ2h0IHBlbmRpbmcgcmVjb3JkICIrYy5zdHJpbmdpZnkoaykpLCJmYWlsZWQiPT09ay50eXBlJiYoImNyZWF0ZSI9PT1rLmFjdGlvbj8oaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIERlbGV0aW5nIGZhaWxlZCBjcmVhdGUgZnJvbSBkYXRhc2V0IiksZGVsZXRlIGIuZGF0YVtrLnVpZF0pOigidXBkYXRlIj09PWsuYWN0aW9ufHwiZGVsZXRlIj09PWsuYWN0aW9uKSYmKGguY29uc29sZUxvZygidXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEgLSBSZXZlcnRpbmcgZmFpbGVkICIray5hY3Rpb24rIiBpbiBkYXRhc2V0IiksYi5kYXRhW2sudWlkXT17ZGF0YTpmLnByZSxoYXNoOmYucHJlSGFzaH0pKSxkZWxldGUgaVtlXSxoLmRvTm90aWZ5KGEsay51aWQsZ1trLnR5cGVdLGspKTpmLmNyYXNoZWRDb3VudD9mLmNyYXNoZWRDb3VudCsrOmYuY3Jhc2hlZENvdW50PTF9ZWxzZSBmLmNyYXNoZWRDb3VudD9mLmNyYXNoZWRDb3VudCsrOmYuY3Jhc2hlZENvdW50PTE7Zm9yKGUgaW4gaSlpLmhhc093blByb3BlcnR5KGUpJiYoZj1pW2VdLGYuaW5GbGlnaHQmJmYuY3Jhc2hlZCYmZi5jcmFzaGVkQ291bnQ+Yi5jb25maWcuY3Jhc2hlZF9jb3VudF93YWl0JiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIENyYXNoZWQgaW5mbGlnaHQgcGVuZGluZyByZWNvcmQgaGFzIHJlYWNoZWQgY3Jhc2hlZF9jb3VudF93YWl0IGxpbWl0IDogIitjLnN0cmluZ2lmeShmKSksYi5jb25maWcucmVzZW5kX2NyYXNoZWRfdXBkYXRlcz8oaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIFJldHJ5aWcgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCIpLGYuY3Jhc2hlZD0hMSxmLmluRmxpZ2h0PSExKTooaC5jb25zb2xlTG9nKCJ1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIERlbGV0aW5nIGNyYXNoZWQgaW5mbGlnaHQgcGVuZGluZyByZWNvcmQiKSxkZWxldGUgaVtlXSkpKX19LHVwZGF0ZURlbGF5ZWRGcm9tTmV3RGF0YTpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZixnPWIucGVuZGluZztpZihnKWZvcihlIGluIGcpaWYoZy5oYXNPd25Qcm9wZXJ0eShlKSYmKGY9Z1tlXSxmLmRlbGF5ZWQmJmYud2FpdGluZyYmKGguY29uc29sZUxvZygidXBkYXRlRGVsYXllZEZyb21OZXdEYXRhIC0gRm91bmQgZGVsYXllZCBwZW5kaW5nIHJlY29yZCB1aWQ9IitmLnVpZCsiIDo6IGhhc2g9IitmLmhhc2grIiA6OiB3YWl0aW5nPSIrZi53YWl0aW5nKSxkJiZkLnVwZGF0ZXMmJmQudXBkYXRlcy5oYXNoZXMpKSl7dmFyIGk9ZC51cGRhdGVzLmhhc2hlc1tmLndhaXRpbmddO2kmJihoLmNvbnNvbGVMb2coInVwZGF0ZURlbGF5ZWRGcm9tTmV3RGF0YSAtIFdhaXRpbmcgcGVuZGluZyByZWNvcmQgaXMgcmVzb2x2ZWQgcmVjPSIrYy5zdHJpbmdpZnkoaSkpLGYuZGVsYXllZD0hMSxmLndhaXRpbmc9dm9pZCAwKX19LHVwZGF0ZU1ldGFGcm9tTmV3RGF0YTpmdW5jdGlvbihhLGIsZCl7dmFyIGU9Yi5tZXRhO2lmKGUmJmQmJmQudXBkYXRlcyYmZC51cGRhdGVzLmhhc2hlcylmb3IodmFyIGYgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGYpKXt2YXIgZz1lW2ZdLGk9Zy5wZW5kaW5nVWlkLGo9Zy5wcmV2aW91c1BlbmRpbmdVaWQ7aC5jb25zb2xlTG9nKCJ1cGRhdGVNZXRhRnJvbU5ld0RhdGEgLSBGb3VuZCBtZXRhZGF0YSB3aXRoIHVpZCA9ICIrZisiIDo6IHBlbmRpbmdIYXNoID0gIitpKyIgOjogcHJldmlvdXNQZW5kaW5nSGFzaCA9IitqKTt2YXIgaz0hMCxsPSEwO2lmKGope2s9ITE7dmFyIG09ZC51cGRhdGVzLmhhc2hlc1tqXTttJiYoaC5jb25zb2xlTG9nKCJ1cGRhdGVNZXRhRnJvbU5ld0RhdGEgLSBGb3VuZCBwcmV2aW91c1BlbmRpbmdVaWQgaW4gbWV0YSBkYXRhIHJlc29sdmVkIC0gcmVzb2x2ZWQgPSAiK2Muc3RyaW5naWZ5KG0pKSxnLnByZXZpb3VzUGVuZGluZ1VpZD12b2lkIDAsaz0hMCl9aWYoaSl7bD0hMTt2YXIgbT1kLnVwZGF0ZXMuaGFzaGVzW2ldO20mJihoLmNvbnNvbGVMb2coInVwZGF0ZU1ldGFGcm9tTmV3RGF0YSAtIEZvdW5kIHBlbmRpbmdVaWQgaW4gbWV0YSBkYXRhIHJlc29sdmVkIC0gcmVzb2x2ZWQgPSAiK2Muc3RyaW5naWZ5KG0pKSxnLnBlbmRpbmdVaWQ9dm9pZCAwLGw9ITApfWsmJmwmJihoLmNvbnNvbGVMb2coInVwZGF0ZU1ldGFGcm9tTmV3RGF0YSAtIGJvdGggcHJldmlvdXMgYW5kIGN1cnJlbnQgcGVuZGluZ3MgYXJlIHJlc29sdmVkIGZvciBtZXRhIGRhdGEgd2l0aCB1aWQgIitmKyIuIERlbGV0ZSBpdC4iKSxkZWxldGUgZVtmXSl9fSxtYXJrSW5GbGlnaHRBc0NyYXNoZWQ6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWEucGVuZGluZztpZihkKXt2YXIgZT17fTtmb3IoYiBpbiBkKWQuaGFzT3duUHJvcGVydHkoYikmJihjPWRbYl0sYy5pbkZsaWdodCYmKGguY29uc29sZUxvZygiTWFya2luZyBpbiBmbGlnaHQgcGVuZGluZyByZWNvcmQgYXMgY3Jhc2hlZCA6ICIrYiksYy5jcmFzaGVkPSEwLGVbYy51aWRdPWMpKX19LGNvbnNvbGVMb2c6ZnVuY3Rpb24oYSl7aC5jb25maWcuZG9fY29uc29sZV9sb2cmJmNvbnNvbGUubG9nKGEpfX07IWZ1bmN0aW9uKCl7aC5jb25maWc9aC5kZWZhdWx0c30oKSxiLmV4cG9ydHM9e2luaXQ6aC5pbml0LG1hbmFnZTpoLm1hbmFnZSxub3RpZnk6aC5ub3RpZnksZG9MaXN0OmgubGlzdCxkb0NyZWF0ZTpoLmNyZWF0ZSxkb1JlYWQ6aC5yZWFkLGRvVXBkYXRlOmgudXBkYXRlLGRvRGVsZXRlOmhbImRlbGV0ZSJdLGxpc3RDb2xsaXNpb25zOmgubGlzdENvbGxpc2lvbnMscmVtb3ZlQ29sbGlzaW9uOmgucmVtb3ZlQ29sbGlzaW9uLGdldFBlbmRpbmc6aC5nZXRQZW5kaW5nLGNsZWFyUGVuZGluZzpoLmNsZWFyUGVuZGluZyxnZXREYXRhc2V0OmguZ2V0RGF0YVNldCxnZXRRdWVyeVBhcmFtczpoLmdldFF1ZXJ5UGFyYW1zLHNldFF1ZXJ5UGFyYW1zOmguc2V0UXVlcnlQYXJhbXMsZ2V0TWV0YURhdGE6aC5nZXRNZXRhRGF0YSxzZXRNZXRhRGF0YTpoLnNldE1ldGFEYXRhLGdldENvbmZpZzpoLmdldENvbmZpZyxzZXRDb25maWc6aC5zZXRDb25maWcsc3RhcnRTeW5jOmguc3RhcnRTeW5jLHN0b3BTeW5jOmguc3RvcFN5bmMsZG9TeW5jOmguZG9TeW5jLGZvcmNlU3luYzpoLmZvcmNlU3luYyxnZW5lcmF0ZUhhc2g6aC5nZW5lcmF0ZUhhc2gsbG9hZERhdGFTZXQ6aC5sb2FkRGF0YVNldCxjaGVja0hhc0N1c3RvbVN5bmM6aC5jaGVja0hhc0N1c3RvbVN5bmMsY2xlYXJDYWNoZTpoLmNsZWFyQ2FjaGV9fSx7Ii4uLy4uL2xpYnMvZ2VuZXJhdGVkL2NyeXB0byI6MSwiLi4vLi4vbGlicy9nZW5lcmF0ZWQvbGF3bmNoYWlyIjoyLCIuL2FwaV9hY3QiOjE3LCIuL2FwaV9jbG91ZCI6MTksSlNPTjozfV0sNDQ6W2Z1bmN0aW9uKGEsYil7Yi5leHBvcnRzPXtjcmVhdGVVVUlEOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9IjAxMjM0NTY3ODlBQkNERUYiLGM9MDszMj5jO2MrKylhW2NdPWIuc3Vic3RyKE1hdGguZmxvb3IoMTYqTWF0aC5yYW5kb20oKSksMSk7YVsxMl09IjQiLGFbMTZdPWIuc3Vic3RyKDMmYVsxNl18OCwxKTt2YXIgZD1hLmpvaW4oIiIpO3JldHVybiBkfX19LHt9XSw0NTpbZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEoIi4vaW5pdGlhbGl6ZXIiKSxlPWEoIi4vZXZlbnRzIiksZj1hKCIuL2hvc3RzIiksZz1hKCIuL2NvbnN0YW50cyIpLGg9YSgiLi9sb2dnZXIiKSxpPSExLGo9ITEsaz1udWxsLGw9ZnVuY3Rpb24oYSl7aWYoailyZXR1cm4gYShudWxsLHtob3N0Om4oKX0pO2lmKGUub25jZShnLklOSVRfRVZFTlQsZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiLGMpfSksIWkpe2k9ITA7dmFyIGI9ZnVuY3Rpb24oKXtkLmluaXQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gaT0hMSxhPyhrPWEsZS5lbWl0KGcuSU5JVF9FVkVOVCxhKSk6KGs9bnVsbCxqPSEwLGM9bmV3IGYoYi5jbG91ZCksZS5lbWl0KGcuSU5JVF9FVkVOVCxudWxsLHtob3N0Om4oKX0pKX0pfTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5jb3Jkb3ZhfHwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5waG9uZWdhcD9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJkZXZpY2VyZWFkeSIsYiwhMSk6YigpfX0sbT1mdW5jdGlvbigpe3JldHVybiBjfSxuPWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBjKXt2YXIgYj1hKCIuL2FwcFByb3BzIikuZ2V0QXBwUHJvcHMoKTtyZXR1cm4gYy5nZXRIb3N0KGIubW9kZSl9cmV0dXJuIHZvaWQgMH0sbz1mdW5jdGlvbigpe3JldHVybiBqfSxwPWZ1bmN0aW9uKCl7cmV0dXJuIGt9LHE9ZnVuY3Rpb24oKXtqPSExLGk9ITEsYz12b2lkIDAsaz12b2lkIDAsbChmdW5jdGlvbigpe30pfTtsKGZ1bmN0aW9uKGEpe2E/ImFwcF9jb25maWdfbWlzc2luZyIhPT1hLm1lc3NhZ2U/aC5lcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpc2UgZmguIik6aC5pbmZvKCJObyBmaCBjb25maWcgZmlsZSIpOmguaW5mbygiZmggY2xvdWQgaXMgcmVhZHkiKX0pLGIuZXhwb3J0cz17cmVhZHk6bCxpc1JlYWR5Om8sZ2V0Q2xvdWRIb3N0Om0sZ2V0Q2xvdWRIb3N0VXJsOm4sZ2V0SW5pdEVycm9yOnAscmVzZXQ6cX19LHsiLi9hcHBQcm9wcyI6MjMsIi4vY29uc3RhbnRzIjoyNSwiLi9ldmVudHMiOjI4LCIuL2hvc3RzIjozMSwiLi9pbml0aWFsaXplciI6MzIsIi4vbG9nZ2VyIjozNX1dfSx7fSxbMTRdKSgxNCl9KSxmdW5jdGlvbihyb290KXtpZighSlNPTil2YXIgSlNPTj1mdW5jdGlvbigpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIDEwPmE/IjAiK2E6YX1mdW5jdGlvbiBxdW90ZShhKXtyZXR1cm4gZXNjYXBlYWJsZS50ZXN0KGEpPyciJythLnJlcGxhY2UoZXNjYXBlYWJsZSxmdW5jdGlvbihhKXt2YXIgYj1tZXRhW2FdO3JldHVybiJzdHJpbmciPT10eXBlb2YgYj9iOihiPWEuY2hhckNvZGVBdCgpLCJcXHUwMCIrTWF0aC5mbG9vcihiLzE2KS50b1N0cmluZygxNikrKGIlMTYpLnRvU3RyaW5nKDE2KSl9KSsnIic6JyInK2ErJyInfWZ1bmN0aW9uIHN0cihhLGIpe3ZhciBjLGQsZSxmLGcsaD1nYXAsaT1iW2FdO3N3aXRjaChpJiYib2JqZWN0Ij09dHlwZW9mIGkmJiJmdW5jdGlvbiI9PXR5cGVvZiBpLnRvSlNPTiYmKGk9aS50b0pTT04oYSkpLCJmdW5jdGlvbiI9PXR5cGVvZiByZXAmJihpPXJlcC5jYWxsKGIsYSxpKSksdHlwZW9mIGkpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gcXVvdGUoaSk7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShpKT9TdHJpbmcoaSk6Im51bGwiO2Nhc2UiYm9vbGVhbiI6Y2FzZSJudWxsIjpyZXR1cm4gU3RyaW5nKGkpO2Nhc2Uib2JqZWN0IjppZighaSlyZXR1cm4ibnVsbCI7aWYoZ2FwKz1pbmRlbnQsZz1bXSwibnVtYmVyIj09dHlwZW9mIGkubGVuZ3RoJiYhaS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgibGVuZ3RoIikpe2ZvcihmPWkubGVuZ3RoLGM9MDtmPmM7Yys9MSlnW2NdPXN0cihjLGkpfHwibnVsbCI7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJbXSI6Z2FwPyJbXG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIl0iOiJbIitnLmpvaW4oIiwiKSsiXSIsZ2FwPWgsZX1pZigib2JqZWN0Ij09dHlwZW9mIHJlcClmb3IoZj1yZXAubGVuZ3RoLGM9MDtmPmM7Yys9MSlkPXJlcFtjXSwic3RyaW5nIj09dHlwZW9mIGQmJihlPXN0cihkLGkscmVwKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSkpO2Vsc2UgZm9yKGQgaW4gaSllPXN0cihkLGkscmVwKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSk7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJ7fSI6Z2FwPyJ7XG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIn0iOiJ7IitnLmpvaW4oIiwiKSsifSIsZ2FwPWgsZX19RGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VVRDRnVsbFllYXIoKSsiLSIrZih0aGlzLmdldFVUQ01vbnRoKCkrMSkrIi0iK2YodGhpcy5nZXRVVENEYXRlKCkpKyJUIitmKHRoaXMuZ2V0VVRDSG91cnMoKSkrIjoiK2YodGhpcy5nZXRVVENNaW51dGVzKCkpKyI6IitmKHRoaXMuZ2V0VVRDU2Vjb25kcygpKSsiWiJ9O3ZhciBlc2NhcGVhYmxlPS9bIlxcXHgwMC1ceDFmXHg3Zi1ceDlmXS9nLGdhcCxpbmRlbnQsbWV0YT17IlxiIjoiXFxiIiwiCSI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSxyZXA7cmV0dXJue3N0cmluZ2lmeTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoZ2FwPSIiLGluZGVudD0iIixjKWlmKCJudW1iZXIiPT10eXBlb2YgYylmb3IoZD0wO2M+ZDtkKz0xKWluZGVudCs9IiAiO2Vsc2Uic3RyaW5nIj09dHlwZW9mIGMmJihpbmRlbnQ9Yyk7aWYoYil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGImJigib2JqZWN0IiE9dHlwZW9mIGJ8fCJudW1iZXIiIT10eXBlb2YgYi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXA9Yn1lbHNlIHJlcD1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLGEpP2I6dm9pZCAwfTtyZXR1cm4gc3RyKCIiLHsiIjphfSl9LHBhcnNlOmZ1bmN0aW9uKHRleHQscmV2aXZlcil7ZnVuY3Rpb24gd2FsayhhLGIpe3ZhciBjLGQsZT1hW2JdO2lmKGUmJiJvYmplY3QiPT10eXBlb2YgZSlmb3IoYyBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYykmJihkPXdhbGsoZSxjKSx2b2lkIDAhPT1kP2VbY109ZDpkZWxldGUgZVtjXSk7cmV0dXJuIHJldml2ZXIuY2FsbChhLGIsZSl9dmFyIGo7aWYoL15bXF0sOnt9XHNdKiQvLnRlc3QodGV4dC5yZXBsYWNlKC9cXFsiXFxcL2JmbnJ0dV0vZywiQCIpLnJlcGxhY2UoLyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLCJdIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCIiKSkpcmV0dXJuIGo9ZXZhbCgiKCIrdGV4dCsiKSIpLCJmdW5jdGlvbiI9PXR5cGVvZiByZXZpdmVyP3dhbGsoeyIiOmp9LCIiKTpqO3Rocm93IG5ldyBTeW50YXhFcnJvcigiSlNPTi5wYXJzZSIpfSxxdW90ZTpxdW90ZX19KCk7aWYoZnVuY3Rpb24oKXtpZighd2luZG93Lmdvb2dsZXx8IWdvb2dsZS5nZWFycyl7dmFyIGE9bnVsbDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEdlYXJzRmFjdG9yeSlhPW5ldyBHZWFyc0ZhY3Rvcnk7ZWxzZSB0cnl7YT1uZXcgQWN0aXZlWE9iamVjdCgiR2VhcnMuRmFjdG9yeSIpLC0xIT1hLmdldEJ1aWxkSW5mbygpLmluZGV4T2YoImllX21vYmlsZSIpJiZhLnByaXZhdGVTZXRHbG9iYWxPYmplY3QodGhpcyl9Y2F0Y2goYil7InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3IubWltZVR5cGVzJiZuYXZpZ2F0b3IubWltZVR5cGVzWyJhcHBsaWNhdGlvbi94LWdvb2dsZWdlYXJzIl0mJihhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9iamVjdCIpLGEuc3R5bGUuZGlzcGxheT0ibm9uZSIsYS53aWR0aD0wLGEuaGVpZ2h0PTAsYS50eXBlPSJhcHBsaWNhdGlvbi94LWdvb2dsZWdlYXJzIixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYSkpfWEmJih3aW5kb3cuZ29vZ2xlfHwoZ29vZ2xlPXt9KSxnb29nbGUuZ2VhcnN8fChnb29nbGUuZ2VhcnM9e2ZhY3Rvcnk6YX0pKX19KCksUGVyc2lzdD1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPSIwLjIuMCI7Zj1mdW5jdGlvbigpe3ZhciBhLGI9IlRodSwgMDEtSmFuLTE5NzAgMDA6MDA6MDEgR01UIixjPTg2NGU1LGQ9WyJleHBpcmVzIiwicGF0aCIsImRvbWFpbiJdLGU9ZXNjYXBlLGY9dW5lc2NhcGUsZz1kb2N1bWVudCxoPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IERhdGU7cmV0dXJuIGEuc2V0VGltZShhLmdldFRpbWUoKSksYX0saj1mdW5jdGlvbihhLGIpe3ZhciBjLGYsZyxoPVtdLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp7fTtmb3IoaC5wdXNoKGUoYSkrIj0iK2UoYikpLGM9MDtjPGQubGVuZ3RoO2MrKylmPWRbY10sKGc9aVtmXSkmJmgucHVzaChmKyI9IitnKTtyZXR1cm4gaS5zZWN1cmUmJmgucHVzaCgic2VjdXJlIiksaC5qb2luKCI7ICIpfSxrPWZ1bmN0aW9uKCl7dmFyIGE9Il9fRUNfVEVTVF9fIixiPW5ldyBEYXRlO3JldHVybiBiPWIudG9HTVRTdHJpbmcoKSx0aGlzLnNldChhLGIpLHRoaXMuZW5hYmxlZD10aGlzLnJlbW92ZShhKT09Yix0aGlzLmVuYWJsZWR9O3JldHVybiBhPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnt9LGU9aCgpLGY9e307ZC5leHBpcmVzJiYoZC5leHBpcmVzKj1jLGYuZXhwaXJlcz1uZXcgRGF0ZShlLmdldFRpbWUoKStkLmV4cGlyZXMpLGYuZXhwaXJlcz1mLmV4cGlyZXMudG9HTVRTdHJpbmcoKSk7dmFyIGs9WyJwYXRoIiwiZG9tYWluIiwic2VjdXJlIl07Zm9yKGk9MDtpPGsubGVuZ3RoO2krKylkW2tbaV1dJiYoZltrW2ldXT1kW2tbaV1dKTt2YXIgbD1qKGEsYixmKTtyZXR1cm4gZy5jb29raWU9bCxifSxoYXM6ZnVuY3Rpb24oYSl7YT1lKGEpO3ZhciBiPWcuY29va2llLGM9Yi5pbmRleE9mKGErIj0iKSxkPShjK2EubGVuZ3RoKzEsYi5zdWJzdHJpbmcoMCxhLmxlbmd0aCkpO3JldHVybiFjJiZhIT1kfHwwPmM/ITE6ITB9LGdldDpmdW5jdGlvbihhKXthPWUoYSk7dmFyIGIsYz1nLmNvb2tpZSxkPWMuaW5kZXhPZihhKyI9IiksaD1kK2EubGVuZ3RoKzEsaT1jLnN1YnN0cmluZygwLGEubGVuZ3RoKTtyZXR1cm4hZCYmYSE9aXx8MD5kP251bGw6KGI9Yy5pbmRleE9mKCI7IixoKSwwPmImJihiPWMubGVuZ3RoKSxmKGMuc3Vic3RyaW5nKGgsYikpKX0scmVtb3ZlOmZ1bmN0aW9uKGMpe3ZhciBkPWEuZ2V0KGMpLGU9e2V4cGlyZXM6Yn07cmV0dXJuIGcuY29va2llPWooYywiIixlKSxkfSxrZXlzOmZ1bmN0aW9uKCl7dmFyIGEsYixjPWcuY29va2llLGQ9Yy5zcGxpdCgiOyAiKSxlPVtdO2ZvcihhPTA7YTxkLmxlbmd0aDthKyspYj1kW2FdLnNwbGl0KCI9IiksZS5wdXNoKGYoYlswXSkpO3JldHVybiBlfSxhbGw6ZnVuY3Rpb24oKXt2YXIgYSxiLGM9Zy5jb29raWUsZD1jLnNwbGl0KCI7ICIpLGU9W107Zm9yKGE9MDthPGQubGVuZ3RoO2ErKyliPWRbYV0uc3BsaXQoIj0iKSxlLnB1c2goW2YoYlswXSksZihiWzFdKV0pO3JldHVybiBlfSx2ZXJzaW9uOiIwLjIuMSIsZW5hYmxlZDohMX0sYS5lbmFibGVkPWsuY2FsbChhKSxhfSgpO3ZhciBoPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYSxiKX06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2ZvcihjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PWIpcmV0dXJuIGM7cmV0dXJuLTF9fSgpO2U9ZnVuY3Rpb24oKXt9LGM9ZnVuY3Rpb24oYSl7cmV0dXJuIlBTIithLnJlcGxhY2UoL18vZywiX18iKS5yZXBsYWNlKC8gL2csIl9zIil9LEM9e3NlYXJjaF9vcmRlcjpbImxvY2Fsc3RvcmFnZSIsIndoYXR3Z19kYiIsImdsb2JhbHN0b3JhZ2UiLCJnZWFycyIsImllIiwiZmxhc2giLCJjb29raWUiXSxuYW1lX3JlOi9eW2Etel1bYS16MC05XyAtXSskL2ksbWV0aG9kczpbImluaXQiLCJnZXQiLCJzZXQiLCJyZW1vdmUiLCJsb2FkIiwic2F2ZSJdLHNxbDp7dmVyc2lvbjoiMSIsY3JlYXRlOiJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwZXJzaXN0X2RhdGEgKGsgVEVYVCBVTklRVUUgTk9UIE5VTEwgUFJJTUFSWSBLRVksIHYgVEVYVCBOT1QgTlVMTCkiLGdldDoiU0VMRUNUIHYgRlJPTSBwZXJzaXN0X2RhdGEgV0hFUkUgayA9ID8iLHNldDoiSU5TRVJUIElOVE8gcGVyc2lzdF9kYXRhKGssIHYpIFZBTFVFUyAoPywgPykiLHJlbW92ZToiREVMRVRFIEZST00gcGVyc2lzdF9kYXRhIFdIRVJFIGsgPSA/In0sZmxhc2g6e2Rpdl9pZDoiX3BlcnNpc3RfZmxhc2hfd3JhcCIsaWQ6Il9wZXJzaXN0X2ZsYXNoIixwYXRoOiJwZXJzaXN0LnN3ZiIsc2l6ZTp7dzoxLGg6MX0sYXJnczp7YXV0b3N0YXJ0OiEwfX19LGI9e2dlYXJzOntzaXplOi0xLHRlc3Q6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5nb29nbGUmJndpbmRvdy5nb29nbGUuZ2VhcnM/ITA6ITF9Y2F0Y2goYSl7cmV0dXJuITF9fSxtZXRob2RzOnt0cmFuc2FjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmRiO2IuZXhlY3V0ZSgiQkVHSU4iKS5jbG9zZSgpLGEuY2FsbCh0aGlzLGIpLGIuZXhlY3V0ZSgiQ09NTUlUIikuY2xvc2UoKX0saW5pdDpmdW5jdGlvbigpe3ZhciBhO2E9dGhpcy5kYj1nb29nbGUuZ2VhcnMuZmFjdG9yeS5jcmVhdGUoImJldGEuZGF0YWJhc2UiKSxhLm9wZW4oYyh0aGlzLm5hbWUpKSxhLmV4ZWN1dGUoQy5zcWwuY3JlYXRlKS5jbG9zZSgpfSxnZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9Qy5zcWwuZ2V0O2ImJnRoaXMudHJhbnNhY3Rpb24oZnVuY3Rpb24oZil7dmFyIGcsaDtkPWYuZXhlY3V0ZShlLFthXSksZz1kLmlzVmFsaWRSb3coKSxoPWc/ZC5maWVsZCgwKTpudWxsLGQuY2xvc2UoKSxiLmNhbGwoY3x8dGhpcyxnLGgpfSl9LHNldDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1DLnNxbC5yZW1vdmUsZj1DLnNxbC5zZXQ7dGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihnKXtnLmV4ZWN1dGUoZSxbYV0pLmNsb3NlKCksZy5leGVjdXRlKGYsW2EsYl0pLmNsb3NlKCksYyYmYy5jYWxsKGR8fHRoaXMsITAsYil9KX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1DLnNxbC5nZXQ7c3FsPUMuc3FsLnJlbW92ZSx2YWw9bnVsbCxpc192YWxpZD0hMSx0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe2ImJihyPWUuZXhlY3V0ZShkLFthXSksaXNfdmFsaWQ9ci5pc1ZhbGlkUm93KCksdmFsPWlzX3ZhbGlkP3IuZmllbGQoMCk6bnVsbCxyLmNsb3NlKCkpLCghYnx8aXNfdmFsaWQpJiZlLmV4ZWN1dGUoc3FsLFthXSkuY2xvc2UoKSxiJiZiLmNhbGwoY3x8dGhpcyxpc192YWxpZCx2YWwpfSl9fX0sd2hhdHdnX2RiOntzaXplOjIwNDgwMCx0ZXN0OmZ1bmN0aW9uKCl7dHJ5e3ZhciBhPSJQZXJzaXN0SlMgVGVzdCIsYz0iUGVyc2lzdGVudCBkYXRhYmFzZSB0ZXN0LiI7cmV0dXJuIHdpbmRvdy5vcGVuRGF0YWJhc2UmJndpbmRvdy5vcGVuRGF0YWJhc2UoYSxDLnNxbC52ZXJzaW9uLGMsYi53aGF0d2dfZGIuc2l6ZSk/ITA6ITF9Y2F0Y2goZCl7cmV0dXJuITF9fSxtZXRob2RzOnt0cmFuc2FjdGlvbjpmdW5jdGlvbihhKXt0aGlzLmRiX2NyZWF0ZWR8fHRoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24oYSl7YS5leGVjdXRlU3FsKEMuc3FsLmNyZWF0ZSxbXSxmdW5jdGlvbigpe3RoaXMuZGJfY3JlYXRlZD0hMH0pfSxlKSx0aGlzLmRiLnRyYW5zYWN0aW9uKGEpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5kYj1vcGVuRGF0YWJhc2UodGhpcy5uYW1lLEMuc3FsLnZlcnNpb24sdGhpcy5vLmFib3V0fHwiUGVyc2lzdGVudCBzdG9yYWdlIGZvciAiK3RoaXMubmFtZSx0aGlzLm8uc2l6ZXx8Yi53aGF0d2dfZGIuc2l6ZSl9LGdldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Qy5zcWwuZ2V0O2ImJihjPWN8fHRoaXMsdGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoZCxbYV0sZnVuY3Rpb24oYSxkKXtkLnJvd3MubGVuZ3RoPjA/Yi5jYWxsKGMsITAsZC5yb3dzLml0ZW0oMCkudik6Yi5jYWxsKGMsITEsbnVsbCl9KX0pKX0sc2V0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUMuc3FsLnJlbW92ZSxmPUMuc3FsLnNldDtyZXR1cm4gdGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihnKXtnLmV4ZWN1dGVTcWwoZSxbYV0sZnVuY3Rpb24oKXtnLmV4ZWN1dGVTcWwoZixbYSxiXSxmdW5jdGlvbigpe2MmJmMuY2FsbChkfHx0aGlzLCEwLGIpfSl9KX0pLGJ9LHJlbW92ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Qy5zcWwuZ2V0O3NxbD1DLnNxbC5yZW1vdmUsdGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtiP2UuZXhlY3V0ZVNxbChkLFthXSxmdW5jdGlvbihkLGUpe2lmKGUucm93cy5sZW5ndGg+MCl7dmFyIGY9ZS5yb3dzLml0ZW0oMCkudjtkLmV4ZWN1dGVTcWwoc3FsLFthXSxmdW5jdGlvbigpe2IuY2FsbChjfHx0aGlzLCEwLGYpfSl9ZWxzZSBiLmNhbGwoY3x8dGhpcywhMSxudWxsKX0pOmUuZXhlY3V0ZVNxbChzcWwsW2FdKX0pfX19LGdsb2JhbHN0b3JhZ2U6e3NpemU6NTI0Mjg4MCx0ZXN0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cuZ2xvYmFsU3RvcmFnZT8hMDohMX1jYXRjaChhKXtyZXR1cm4hMX19LG1ldGhvZHM6e2tleTpmdW5jdGlvbihhKXtyZXR1cm4gYyh0aGlzLm5hbWUpK2MoYSl9LGluaXQ6ZnVuY3Rpb24oKXthbGVydCgiZG9tYWluID0gIit0aGlzLm8uZG9tYWluKSx0aGlzLnN0b3JlPWdsb2JhbFN0b3JhZ2VbdGhpcy5vLmRvbWFpbl19LGdldDpmdW5jdGlvbihhLGIsYyl7YT10aGlzLmtleShhKSxiJiZiLmNhbGwoY3x8dGhpcywhMCx0aGlzLnN0b3JlLmdldEl0ZW0oYSkpfSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLmtleShhKSx0aGlzLnN0b3JlLnNldEl0ZW0oYSxiKSxjJiZjLmNhbGwoZHx8dGhpcywhMCxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDthPXRoaXMua2V5KGEpLGQ9dGhpcy5zdG9yZVthXSx0aGlzLnN0b3JlLnJlbW92ZUl0ZW0oYSksYiYmYi5jYWxsKGN8fHRoaXMsbnVsbCE9PWQsZCl9fX0sbG9jYWxzdG9yYWdlOntzaXplOi0xLHRlc3Q6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U/ITA6ITF9Y2F0Y2goYSl7cmV0dXJuITF9fSxtZXRob2RzOntrZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGModGhpcy5uYW1lKStjKGEpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5zdG9yZT1sb2NhbFN0b3JhZ2V9LGdldDpmdW5jdGlvbihhLGIsYyl7YT10aGlzLmtleShhKSxiJiZiLmNhbGwoY3x8dGhpcywhMCx0aGlzLnN0b3JlLmdldEl0ZW0oYSkpfSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLmtleShhKSx0aGlzLnN0b3JlLnNldEl0ZW0oYSxiKSxjJiZjLmNhbGwoZHx8dGhpcywhMCxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDthPXRoaXMua2V5KGEpLGQ9dGhpcy5zdG9yZS5nZXRJdGVtKGEpLHRoaXMuc3RvcmUucmVtb3ZlSXRlbShhKSxiJiZiLmNhbGwoY3x8dGhpcyxudWxsIT09ZCxkKX19fSxpZTp7cHJlZml4OiJfcGVyc2lzdF9kYXRhLSIsc2l6ZTo2NTUzNix0ZXN0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cuQWN0aXZlWE9iamVjdD8hMDohMX1jYXRjaChhKXtyZXR1cm4hMX19LG1ha2VfdXNlcmRhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuaWQ9YSxiLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGIuYWRkQmVoYXZpb3IoIiNkZWZhdWx0I3VzZXJkYXRhIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiKSxifSxtZXRob2RzOntpbml0OmZ1bmN0aW9uKCl7dmFyIGE9Yi5pZS5wcmVmaXgrYyh0aGlzLm5hbWUpO3RoaXMuZWw9Yi5pZS5tYWtlX3VzZXJkYXRhKGEpLHRoaXMuby5kZWZlciYmdGhpcy5sb2FkKCl9LGdldDpmdW5jdGlvbihhLGIsZCl7dmFyIGU7CmE9YyhhKSx0aGlzLm8uZGVmZXJ8fHRoaXMubG9hZCgpLGU9dGhpcy5lbC5nZXRBdHRyaWJ1dGUoYSksYiYmYi5jYWxsKGR8fHRoaXMsZT8hMDohMSxlKX0sc2V0OmZ1bmN0aW9uKGEsYixkLGUpe2E9YyhhKSx0aGlzLmVsLnNldEF0dHJpYnV0ZShhLGIpLHRoaXMuby5kZWZlcnx8dGhpcy5zYXZlKCksZCYmZC5jYWxsKGV8fHRoaXMsITAsYil9LHJlbW92ZTpmdW5jdGlvbihhLGIsZCl7dmFyIGU7YT1jKGEpLHRoaXMuby5kZWZlcnx8dGhpcy5sb2FkKCksZT10aGlzLmVsLmdldEF0dHJpYnV0ZShhKSx0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZShhKSx0aGlzLm8uZGVmZXJ8fHRoaXMuc2F2ZSgpLGImJmIuY2FsbChkfHx0aGlzLGU/ITA6ITEsZSl9LGxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsLmxvYWQoYyh0aGlzLm5hbWUpKX0sc2F2ZTpmdW5jdGlvbigpe3RoaXMuZWwuc2F2ZShjKHRoaXMubmFtZSkpfX19LGNvb2tpZTp7ZGVsaW06IjoiLHNpemU6NGUzLHRlc3Q6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGEuQ29va2llLmVuYWJsZWQ/ITA6ITF9Y2F0Y2goYil7cmV0dXJuITF9fSxtZXRob2RzOntrZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubmFtZStiLmNvb2tpZS5kZWxpbSthfSxnZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2E9dGhpcy5rZXkoYSksZD1mLmdldChhKSxiJiZiLmNhbGwoY3x8dGhpcyxudWxsIT1kLGQpfSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLmtleShhKSxmLnNldChhLGIsdGhpcy5vKSxjJiZjLmNhbGwoZHx8dGhpcywhMCxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBiO2E9dGhpcy5rZXkoYSksYj1mLnJlbW92ZShhKSxjJiZjLmNhbGwoZHx8dGhpcyxudWxsIT1iLGIpfX19LGZsYXNoOnt0ZXN0OmZ1bmN0aW9uKCl7dHJ5e2lmKCFkZWNvbmNlcHR8fCFkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbClyZXR1cm4hMTt2YXIgYT1kZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uKCkubWFqb3I7cmV0dXJuIGE+PTg/ITA6ITF9Y2F0Y2goYil7cmV0dXJuITF9fSxtZXRob2RzOntpbml0OmZ1bmN0aW9uKCl7aWYoIWIuZmxhc2guZWwpe3ZhciBhLGMsZCxlPUMuZmxhc2g7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLmlkPWUuZGl2X2lkLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCksYT1uZXcgZGVjb25jZXB0LlNXRk9iamVjdCh0aGlzLm8uc3dmX3BhdGh8fGUucGF0aCxlLmlkLGUuc2l6ZS53LGUuc2l6ZS5oLCI4Iik7Zm9yKGMgaW4gZS5hcmdzKWEuYWRkVmFyaWFibGUoYyxlLmFyZ3NbY10pO2Eud3JpdGUoZCksYi5mbGFzaC5lbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmlkKX10aGlzLmVsPWIuZmxhc2guZWx9LGdldDpmdW5jdGlvbihhLGIsZCl7dmFyIGU7YT1jKGEpLGU9dGhpcy5lbC5nZXQodGhpcy5uYW1lLGEpLGImJmIuY2FsbChkfHx0aGlzLG51bGwhPT1lLGUpfSxzZXQ6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY7YT1jKGEpLGY9dGhpcy5lbC5zZXQodGhpcy5uYW1lLGEsYiksZCYmZC5jYWxsKGV8fHRoaXMsITAsYil9LHJlbW92ZTpmdW5jdGlvbihhLGIsZCl7dmFyIGU7YT1jKGEpLGU9dGhpcy5lbC5yZW1vdmUodGhpcy5uYW1lLGEpLGImJmIuY2FsbChkfHx0aGlzLCEwLGUpfX19fTt2YXIgZD1mdW5jdGlvbigpe3ZhciBjLGQsZixnLGg9Qy5tZXRob2RzLGk9Qy5zZWFyY2hfb3JkZXI7Zm9yKGM9MCxkPWgubGVuZ3RoO2Q+YztjKyspYS5TdG9yZS5wcm90b3R5cGVbaFtjXV09ZTtmb3IoYS50eXBlPW51bGwsYS5zaXplPS0xLGM9MCxkPWkubGVuZ3RoOyFhLnR5cGUmJmQ+YztjKyspaWYoZj1iW2lbY11dLGYudGVzdCgpKXthLnR5cGU9aVtjXSxhLnNpemU9Zi5zaXplO2ZvcihnIGluIGYubWV0aG9kcylhLlN0b3JlLnByb3RvdHlwZVtnXT1mLm1ldGhvZHNbZ119YS5faW5pdD0hMH07cmV0dXJuIGE9e1ZFUlNJT046Zyx0eXBlOm51bGwsc2l6ZTowLGFkZDpmdW5jdGlvbihhKXtiW2EuaWRdPWEsQy5zZWFyY2hfb3JkZXI9W2EuaWRdLmNvbmNhdChDLnNlYXJjaF9vcmRlciksZCgpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGM9aChDLnNlYXJjaF9vcmRlcixhKTswPmN8fChDLnNlYXJjaF9vcmRlci5zcGxpY2UoYywxKSxkZWxldGUgYlthXSxkKCkpfSxDb29raWU6ZixTdG9yZTpmdW5jdGlvbihiLGMpe2lmKCFDLm5hbWVfcmUuZXhlYyhiKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbmFtZSIpO2lmKCFhLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJObyBzdWl0YWJsZSBzdG9yYWdlIGZvdW5kIik7Yz1jfHx7fSx0aGlzLm5hbWU9YixjLmRvbWFpbj1jLmRvbWFpbnx8bG9jYXRpb24uaG9zdHx8ImxvY2FsaG9zdCIsYy5kb21haW49Yy5kb21haW4ucmVwbGFjZSgvOlxkKyQvLCIiKSx0aGlzLm89YyxjLmV4cGlyZXM9Yy5leHBpcmVzfHw3MzAsYy5wYXRoPWMucGF0aHx8Ii8iLHRoaXMuaW5pdCgpfX0sZCgpLGF9KCksInVuZGVmaW5lZCI9PXR5cGVvZiBkZWNvbmNlcHQpdmFyIGRlY29uY2VwdD1uZXcgT2JqZWN0OyJ1bmRlZmluZWQiPT10eXBlb2YgZGVjb25jZXB0LnV0aWwmJihkZWNvbmNlcHQudXRpbD1uZXcgT2JqZWN0KSwidW5kZWZpbmVkIj09dHlwZW9mIGRlY29uY2VwdC5TV0ZPYmplY3RVdGlsJiYoZGVjb25jZXB0LlNXRk9iamVjdFV0aWw9bmV3IE9iamVjdCksZGVjb25jZXB0LlNXRk9iamVjdD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxqKXtpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCl7dGhpcy5ERVRFQ1RfS0VZPWo/ajoiZGV0ZWN0Zmxhc2giLHRoaXMuc2tpcERldGVjdD1kZWNvbmNlcHQudXRpbC5nZXRSZXF1ZXN0UGFyYW1ldGVyKHRoaXMuREVURUNUX0tFWSksdGhpcy5wYXJhbXM9bmV3IE9iamVjdCx0aGlzLnZhcmlhYmxlcz1uZXcgT2JqZWN0LHRoaXMuYXR0cmlidXRlcz1uZXcgQXJyYXksYSYmdGhpcy5zZXRBdHRyaWJ1dGUoInN3ZiIsYSksYiYmdGhpcy5zZXRBdHRyaWJ1dGUoImlkIixiKSxjJiZ0aGlzLnNldEF0dHJpYnV0ZSgid2lkdGgiLGMpLGQmJnRoaXMuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGQpLGUmJnRoaXMuc2V0QXR0cmlidXRlKCJ2ZXJzaW9uIixuZXcgZGVjb25jZXB0LlBsYXllclZlcnNpb24oZS50b1N0cmluZygpLnNwbGl0KCIuIikpKSx0aGlzLmluc3RhbGxlZFZlcj1kZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uKCksIXdpbmRvdy5vcGVyYSYmZG9jdW1lbnQuYWxsJiZ0aGlzLmluc3RhbGxlZFZlci5tYWpvcj43JiYoZGVjb25jZXB0LlNXRk9iamVjdC5kb1ByZXBVbmxvYWQ9ITApLGYmJnRoaXMuYWRkUGFyYW0oImJnY29sb3IiLGYpO3ZhciBrPWc/ZzoiaGlnaCI7dGhpcy5hZGRQYXJhbSgicXVhbGl0eSIsayksdGhpcy5zZXRBdHRyaWJ1dGUoInVzZUV4cHJlc3NJbnN0YWxsIiwhMSksdGhpcy5zZXRBdHRyaWJ1dGUoImRvRXhwcmVzc0luc3RhbGwiLCExKTt2YXIgbD1oP2g6d2luZG93LmxvY2F0aW9uO3RoaXMuc2V0QXR0cmlidXRlKCJ4aVJlZGlyZWN0VXJsIixsKSx0aGlzLnNldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiLCIiKSxpJiZ0aGlzLnNldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiLGkpfX0sZGVjb25jZXB0LlNXRk9iamVjdC5wcm90b3R5cGU9e3VzZUV4cHJlc3NJbnN0YWxsOmZ1bmN0aW9uKGEpe3RoaXMueGlTV0ZQYXRoPWE/YToiZXhwcmVzc2luc3RhbGwuc3dmIix0aGlzLnNldEF0dHJpYnV0ZSgidXNlRXhwcmVzc0luc3RhbGwiLCEwKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5hdHRyaWJ1dGVzW2FdPWJ9LGdldEF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2FdfSxhZGRQYXJhbTpmdW5jdGlvbihhLGIpe3RoaXMucGFyYW1zW2FdPWJ9LGdldFBhcmFtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmFtc30sYWRkVmFyaWFibGU6ZnVuY3Rpb24oYSxiKXt0aGlzLnZhcmlhYmxlc1thXT1ifSxnZXRWYXJpYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YXJpYWJsZXNbYV19LGdldFZhcmlhYmxlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhcmlhYmxlc30sZ2V0VmFyaWFibGVQYWlyczpmdW5jdGlvbigpe3ZhciBhLGI9bmV3IEFycmF5LGM9dGhpcy5nZXRWYXJpYWJsZXMoKTtmb3IoYSBpbiBjKWIucHVzaChhKyI9IitjW2FdKTtyZXR1cm4gYn0sZ2V0U1dGSFRNTDpmdW5jdGlvbigpe3ZhciBhPSIiO2lmKG5hdmlnYXRvci5wbHVnaW5zJiZuYXZpZ2F0b3IubWltZVR5cGVzJiZuYXZpZ2F0b3IubWltZVR5cGVzLmxlbmd0aCl7dGhpcy5nZXRBdHRyaWJ1dGUoImRvRXhwcmVzc0luc3RhbGwiKSYmKHRoaXMuYWRkVmFyaWFibGUoIk1NcGxheWVyVHlwZSIsIlBsdWdJbiIpLHRoaXMuc2V0QXR0cmlidXRlKCJzd2YiLHRoaXMueGlTV0ZQYXRoKSksYT0nPGVtYmVkIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiBzcmM9IicrdGhpcy5nZXRBdHRyaWJ1dGUoInN3ZiIpKyciIHdpZHRoPSInK3RoaXMuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKyciIGhlaWdodD0iJyt0aGlzLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IikrJyInLGErPScgaWQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoImlkIikrJyIgbmFtZT0iJyt0aGlzLmdldEF0dHJpYnV0ZSgiaWQiKSsnIiAnO3ZhciBiPXRoaXMuZ2V0UGFyYW1zKCk7Zm9yKHZhciBjIGluIGIpYSs9W2NdKyc9IicrYltjXSsnIiAnO3ZhciBkPXRoaXMuZ2V0VmFyaWFibGVQYWlycygpLmpvaW4oIiYiKTtkLmxlbmd0aD4wJiYoYSs9J2ZsYXNodmFycz0iJytkKyciJyksYSs9Ii8+In1lbHNle3RoaXMuZ2V0QXR0cmlidXRlKCJkb0V4cHJlc3NJbnN0YWxsIikmJih0aGlzLmFkZFZhcmlhYmxlKCJNTXBsYXllclR5cGUiLCJBY3RpdmVYIiksdGhpcy5zZXRBdHRyaWJ1dGUoInN3ZiIsdGhpcy54aVNXRlBhdGgpKSxhPSc8b2JqZWN0IGlkPSInK3RoaXMuZ2V0QXR0cmlidXRlKCJpZCIpKyciIGNsYXNzaWQ9ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIgd2lkdGg9IicrdGhpcy5nZXRBdHRyaWJ1dGUoIndpZHRoIikrJyIgaGVpZ2h0PSInK3RoaXMuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSsnIj4nLGErPSc8cGFyYW0gbmFtZT0ibW92aWUiIHZhbHVlPSInK3RoaXMuZ2V0QXR0cmlidXRlKCJzd2YiKSsnIiAvPic7dmFyIGI9dGhpcy5nZXRQYXJhbXMoKTtmb3IodmFyIGMgaW4gYilhKz0nPHBhcmFtIG5hbWU9IicrYysnIiB2YWx1ZT0iJytiW2NdKyciIC8+Jzt2YXIgZD10aGlzLmdldFZhcmlhYmxlUGFpcnMoKS5qb2luKCImIik7ZC5sZW5ndGg+MCYmKGErPSc8cGFyYW0gbmFtZT0iZmxhc2h2YXJzIiB2YWx1ZT0iJytkKyciIC8+JyksYSs9Ijwvb2JqZWN0PiJ9cmV0dXJuIGF9LHdyaXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0QXR0cmlidXRlKCJ1c2VFeHByZXNzSW5zdGFsbCIpKXt2YXIgYj1uZXcgZGVjb25jZXB0LlBsYXllclZlcnNpb24oWzYsMCw2NV0pO3RoaXMuaW5zdGFsbGVkVmVyLnZlcnNpb25Jc1ZhbGlkKGIpJiYhdGhpcy5pbnN0YWxsZWRWZXIudmVyc2lvbklzVmFsaWQodGhpcy5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSkmJih0aGlzLnNldEF0dHJpYnV0ZSgiZG9FeHByZXNzSW5zdGFsbCIsITApLHRoaXMuYWRkVmFyaWFibGUoIk1NcmVkaXJlY3RVUkwiLGVzY2FwZSh0aGlzLmdldEF0dHJpYnV0ZSgieGlSZWRpcmVjdFVybCIpKSksZG9jdW1lbnQudGl0bGU9ZG9jdW1lbnQudGl0bGUuc2xpY2UoMCw0NykrIiAtIEZsYXNoIFBsYXllciBJbnN0YWxsYXRpb24iLHRoaXMuYWRkVmFyaWFibGUoIk1NZG9jdGl0bGUiLGRvY3VtZW50LnRpdGxlKSl9aWYodGhpcy5za2lwRGV0ZWN0fHx0aGlzLmdldEF0dHJpYnV0ZSgiZG9FeHByZXNzSW5zdGFsbCIpfHx0aGlzLmluc3RhbGxlZFZlci52ZXJzaW9uSXNWYWxpZCh0aGlzLmdldEF0dHJpYnV0ZSgidmVyc2lvbiIpKSl7dmFyIGM9InN0cmluZyI9PXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpOmE7cmV0dXJuIGMuaW5uZXJIVE1MPXRoaXMuZ2V0U1dGSFRNTCgpLCEwfXJldHVybiIiIT10aGlzLmdldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiKSYmZG9jdW1lbnQubG9jYXRpb24ucmVwbGFjZSh0aGlzLmdldEF0dHJpYnV0ZSgicmVkaXJlY3RVcmwiKSksITF9fSxkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKFswLDAsMF0pO2lmKG5hdmlnYXRvci5wbHVnaW5zJiZuYXZpZ2F0b3IubWltZVR5cGVzLmxlbmd0aCl7dmFyIGI9bmF2aWdhdG9yLnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCJdO2ImJmIuZGVzY3JpcHRpb24mJihhPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihiLmRlc2NyaXB0aW9uLnJlcGxhY2UoLyhbYS16QS1aXXxccykrLywiIikucmVwbGFjZSgvKFxzK3J8XHMrYlswLTldKykvLCIuIikuc3BsaXQoIi4iKSkpfWVsc2V7dHJ5e3ZhciBjPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC43Iil9Y2F0Y2goZCl7dHJ5e3ZhciBjPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC42Iik7YT1uZXcgZGVjb25jZXB0LlBsYXllclZlcnNpb24oWzYsMCwyMV0pLGMuQWxsb3dTY3JpcHRBY2Nlc3M9ImFsd2F5cyJ9Y2F0Y2goZCl7aWYoNj09YS5tYWpvcilyZXR1cm4gYX10cnl7Yz1uZXcgQWN0aXZlWE9iamVjdCgiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2giKX1jYXRjaChkKXt9fW51bGwhPWMmJihhPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihjLkdldFZhcmlhYmxlKCIkdmVyc2lvbiIpLnNwbGl0KCIgIilbMV0uc3BsaXQoIiwiKSkpfXJldHVybiBhfSxkZWNvbmNlcHQuUGxheWVyVmVyc2lvbj1mdW5jdGlvbihhKXt0aGlzLm1ham9yPW51bGwhPWFbMF0/cGFyc2VJbnQoYVswXSk6MCx0aGlzLm1pbm9yPW51bGwhPWFbMV0/cGFyc2VJbnQoYVsxXSk6MCx0aGlzLnJldj1udWxsIT1hWzJdP3BhcnNlSW50KGFbMl0pOjB9LGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uLnByb3RvdHlwZS52ZXJzaW9uSXNWYWxpZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYWpvcjxhLm1ham9yPyExOnRoaXMubWFqb3I+YS5tYWpvcj8hMDp0aGlzLm1pbm9yPGEubWlub3I/ITE6dGhpcy5taW5vcj5hLm1pbm9yPyEwOnRoaXMucmV2PGEucmV2PyExOiEwfSxkZWNvbmNlcHQudXRpbD17Z2V0UmVxdWVzdFBhcmFtZXRlcjpmdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5sb2NhdGlvbi5zZWFyY2h8fGRvY3VtZW50LmxvY2F0aW9uLmhhc2g7aWYoYilmb3IodmFyIGM9Yi5zdWJzdHJpbmcoMSkuc3BsaXQoIiYiKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoY1tkXS5zdWJzdHJpbmcoMCxjW2RdLmluZGV4T2YoIj0iKSk9PWEpcmV0dXJuIGNbZF0uc3Vic3RyaW5nKGNbZF0uaW5kZXhPZigiPSIpKzEpO3JldHVybiIifX0sZGVjb25jZXB0LlNXRk9iamVjdFV0aWwuY2xlYW51cFNXRnM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIk9CSkVDVCIpLGI9MDtiPGEubGVuZ3RoO2IrKyl7YVtiXS5zdHlsZS5kaXNwbGF5PSJub25lIjtmb3IodmFyIGMgaW4gYVtiXSkiZnVuY3Rpb24iPT10eXBlb2YgYVtiXVtjXSYmKGFbYl1bY109ZnVuY3Rpb24oKXt9KX19LGRlY29uY2VwdC5TV0ZPYmplY3QuZG9QcmVwVW5sb2FkJiYoZGVjb25jZXB0LlNXRk9iamVjdFV0aWwucHJlcFVubG9hZD1mdW5jdGlvbigpe19fZmxhc2hfdW5sb2FkSGFuZGxlcj1mdW5jdGlvbigpe30sX19mbGFzaF9zYXZlZFVubG9hZEhhbmRsZXI9ZnVuY3Rpb24oKXt9LHdpbmRvdy5hdHRhY2hFdmVudCgib251bmxvYWQiLGRlY29uY2VwdC5TV0ZPYmplY3RVdGlsLmNsZWFudXBTV0ZzKX0sd2luZG93LmF0dGFjaEV2ZW50KCJvbmJlZm9yZXVubG9hZCIsZGVjb25jZXB0LlNXRk9iamVjdFV0aWwucHJlcFVubG9hZCkpLG51bGw9PUFycmF5LnByb3RvdHlwZS5wdXNoJiYoQXJyYXkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbdGhpcy5sZW5ndGhdPWEsdGhpcy5sZW5ndGh9KTt2YXIgZ2V0UXVlcnlQYXJhbVZhbHVlPWRlY29uY2VwdC51dGlsLmdldFJlcXVlc3RQYXJhbWV0ZXIsRmxhc2hPYmplY3Q9ZGVjb25jZXB0LlNXRk9iamVjdCxTV0ZPYmplY3Q9ZGVjb25jZXB0LlNXRk9iamVjdCwkZmg9cm9vdC4kZmh8fHt9OyJvYmplY3QiPT10eXBlb2YgZmhfYXBwX3Byb3BzJiYoJGZoLmFwcF9wcm9wcz1maF9hcHBfcHJvcHMpLCRmaC5sZWdhY3k9e307dmFyIGRlZmF1bHRhcmdzPXtzdWNjZXNzOmZ1bmN0aW9uKCl7fSxmYWlsdXJlOmZ1bmN0aW9uKCl7fSxwYXJhbXM6e319LGhhbmRsZWFyZ3M9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtudWxsLG51bGwsbnVsbF0sZT1bbnVsbCxudWxsLG51bGxdLGY9YS5sZW5ndGg7Zj4yPyhlWzBdPWFbZi0zXSxlWzFdPWFbZi0yXSxlWzJdPWFbZi0xXSk6Mj09Zj8oZVsxXT1hWzBdLGVbMl09YVsxXSk6MT09ZiYmKGVbMl09YVswXSk7Zm9yKHZhciBnPTAsaD0wOzM+ZztnKyspe3ZhciBpPWVbZ10saj10eXBlb2YgaTshaXx8MCE9aHx8Im9iamVjdCIhPWomJiJib29sZWFuIiE9aj9pJiYiZnVuY3Rpb24iPT1qJiYoaD0wPT1oPzE6aCxkW2grK109aSk6ZFtoKytdPWl9aWYobnVsbD09ZFswXSlkWzBdPWI/YjpkZWZhdWx0YXJncy5wYXJhbXM7ZWxzZXt2YXIgaz1kWzBdO2suX2RlZmF1bHRzPVtdO2Zvcih2YXIgbCBpbiBiKWIuaGFzT3duUHJvcGVydHkobCkmJiJ1bmRlZmluZWQiPT10eXBlb2Yga1tsXSYmKGtbbF09YltsXSxrLl9kZWZhdWx0cy5wdXNoKGwpKX1kWzFdPW51bGw9PWRbMV0/ZGVmYXVsdGFyZ3Muc3VjY2VzczpkWzFdLGRbMl09bnVsbD09ZFsyXT9kZWZhdWx0YXJncy5mYWlsdXJlOmRbMl0sYyhkWzBdLGRbMV0sZFsyXSl9LGV2ZW50U3VwcG9ydGVkPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImkiKTtyZXR1cm4gYSBpbiBifHxiLnNldEF0dHJpYnV0ZSYmYi5zZXRBdHRyaWJ1dGUoYSwicmV0dXJuOyIpfHwhMX0sX19pc19yZWFkeT0hMSxfX3JlYWR5X2xpc3Q9W10sX19yZWFkeV9ib3VuZD0hMSxib3hwcmVmaXg9Ii9ib3gvc3J2LzEuMS8iO19nZXRIb3N0UHJlZml4PWZ1bmN0aW9uKCl7cmV0dXJuICRmaC5hcHBfcHJvcHMuaG9zdCtib3hwcmVmaXh9O3ZhciBfX3JlYWR5PWZ1bmN0aW9uKCl7aWYoIV9faXNfcmVhZHkmJihfX2lzX3JlYWR5PSEwLF9fcmVhZHlfbGlzdCkpe3RyeXtmb3IoO19fcmVhZHlfbGlzdFswXTspX19yZWFkeV9saXN0LnNoaWZ0KCkuYXBwbHkoZG9jdW1lbnQsW10pfWZpbmFsbHl7fV9fcmVhZHlfbGlzdD1udWxsfX0sX19iaW5kX3JlYWR5PWZ1bmN0aW9uKCl7X19yZWFkeV9ib3VuZHx8KF9fcmVhZHlfYm91bmQ9ITAsZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhcmd1bWVudHMuY2FsbGVlLCExKSxfX3JlYWR5KCl9LCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsX19yZWFkeSwhMSkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiYoZG9jdW1lbnQuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXsiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmKGRvY3VtZW50LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGFyZ3VtZW50cy5jYWxsZWUpLF9fcmVhZHkoKSl9KSx3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsX19yZWFkeSksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZ3aW5kb3c9PXdpbmRvdy50b3AmJmZ1bmN0aW9uKCl7aWYoIV9faXNfcmVhZHkpe3RyeXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChhKXtyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsMCl9X19yZWFkeSgpfX0oKSkpfTtfX2JpbmRfcmVhZHkoKTt2YXIgX21hcFNjcmlwdExvYWRlZD0idW5kZWZpbmVkIiE9dHlwZW9mIGdvb2dsZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBnb29nbGUubWFwcyYmInVuZGVmaW5lZCIhPXR5cGVvZiBnb29nbGUubWFwcy5NYXAsX21hcExvYWRTdWNjZXNzUGFyYW1ldGVycz1bXSxfbWFwU2NyaXB0TG9hZGluZz0hMSxfbG9hZE1hcFNjcmlwdD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2EudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt2YXIgYj1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDtiPSJodHRwOiI9PT1ifHwiaHR0cHM6Ij09PWI/YjoiaHR0cHM6IixhLnNyYz1iKyIvL21hcHMuZ29vZ2xlLmNvbS9tYXBzL2FwaS9qcz9zZW5zb3I9dHJ1ZSZjYWxsYmFjaz0kZmguX21hcExvYWRlZCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKX0sYXVkaW9fb2JqPW51bGwsYXVkaW9faXNfcGxheWluZz0hMTskZmguX19kZXN0X189e3NlbmQ6ZnVuY3Rpb24oYSxiLGMpe2MoInNlbmRfbm9zdXBwb3J0Iil9LG5vdGlmeTpmdW5jdGlvbihhLGIsYyl7Yygibm90aWZ5X25vc3VwcG9ydCIpfSxjb250YWN0czpmdW5jdGlvbihhLGIsYyl7YygiY29udGFjdHNfbm9zdXBwb3J0Iil9LGFjYzpmdW5jdGlvbihhLGIsYyl7YygiYWNjX25vc3VwcG9ydCIpfSxnZW86ZnVuY3Rpb24oYSxiLGMpe2MoImdlb19ub3N1cHBvcnQiKX0sY2FtOmZ1bmN0aW9uKGEsYixjKXtjKCJjYW1fbm9zdXBwb3J0Iil9LGRldmljZTpmdW5jdGlvbihhLGIsYyl7YygiZGV2aWNlX25vc3VwcG9ydCIpfSxsaXN0ZW46ZnVuY3Rpb24oYSxiLGMpe2MoImxpc3Rlbl9ub3N1cHBvcnQiKX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiLGMpe2MoImhhbmRsZXJzX25vX3N1cHBvcnQiKX0sZmlsZTpmdW5jdGlvbihhLGIsYyl7YygiZmlsZV9ub3N1cHBvcnQiKX0scHVzaDpmdW5jdGlvbihhLGIsYyl7YygicHVzaF9ub3N1cHBvcnQiKX0sZW52OmZ1bmN0aW9uKGEsYil7Yih7aGVpZ2h0OndpbmRvdy5pbm5lckhlaWdodCx3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aH0pfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtpZigkZmguX3BlcnNpc3R8fCgkZmguX3BlcnNpc3Q9bmV3IFBlcnNpc3QuU3RvcmUoIkZIIiskZmguYXBwX3Byb3BzLmFwcGlkLHtzd2ZfcGF0aDoiL3N0YXRpYy9jL3N0YXJ0L3N3Zi9wZXJzaXN0LnN3ZiJ9KSksIWEua2V5KXJldHVybiB2b2lkIGMoImRhdGFfbm9rZXkiKTt2YXIgZD17bG9hZDpmdW5jdGlvbigpeyRmaC5fcGVyc2lzdC5nZXQoYS5rZXksZnVuY3Rpb24oYyxkKXtiKGM/e2tleTphLmtleSx2YWw6ZH06e2tleTphLmtleSx2YWw6bnVsbH0pfSl9LHNhdmU6ZnVuY3Rpb24oKXtpZighYS52YWwpcmV0dXJuIHZvaWQgYygiZGF0YV9ub3ZhbCIpO3RyeXskZmguX3BlcnNpc3Quc2V0KGEua2V5LGEudmFsKX1jYXRjaChkKXtyZXR1cm4gdm9pZCBjKCJkYXRhX2Vycm9yIix7fSxhKX1iKCl9LHJlbW92ZTpmdW5jdGlvbigpeyRmaC5fcGVyc2lzdC5yZW1vdmUoYS5rZXksZnVuY3Rpb24oYyxkKXtiKGM/e2tleTphLmtleSx2YWw6ZH06e2tleTphLmtleSx2YWw6bnVsbH0pfSl9fTtkW2EuYWN0XT9kW2EuYWN0XSgpOmMoImRhdGFfYmFkYWN0IixhKX0sbG9nOmZ1bmN0aW9uKGEsYixjKXsidW5kZWZpbmVkIj09dHlwZW9mIGNvbnNvbGU/YygibG9nX25vc3VwcG9ydCIpOmNvbnNvbGUubG9nKGEubWVzc2FnZSl9LG9yaTpmdW5jdGlvbihhLGIsYyl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBhLmFjdHx8Imxpc3RlbiI9PWEuYWN0KWV2ZW50U3VwcG9ydGVkKCJvbm9yaWVudGF0aW9uY2hhbmdlIik/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm9yaWVudGF0aW9uY2hhbmdlIixiLCExKTpjKCJvcmlfbm9zdXBwb3J0Iix7fSxhKTtlbHNlIGlmKCJzZXQiPT1hLmFjdCl7aWYoIWEudmFsdWUpcmV0dXJuIHZvaWQgYygib3JpX25vX3ZhbHVlIix7fSxhKTsicG9ydHJhaXQiPT1hLnZhbHVlPyhkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLnN0eWxlWyItbW96LXRyYW5zZm9ybSJdPSIiLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uc3R5bGVbIi13ZWJraXQtdHJhbnNmb3JtIl09IiIsYih7b3JpZW50YXRpb246InBvcnRyYWl0In0pKTooZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsiLW1vei10cmFuc2Zvcm0iXT0icm90YXRlKDkwZGVnKSIsZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsiLXdlYmtpdC10cmFuc2Zvcm0iXT0icm90YXRlKDkwZGVnKSIsYih7b3JpZW50YXRpb246ImxhbmRzY2FwZSJ9KSl9ZWxzZSBjKCJvcmlfYmFkYWN0Iix7fSxhKX0sbWFwOmZ1bmN0aW9uKGEsYixjKXtpZighYS50YXJnZXQpcmV0dXJuIHZvaWQgYygibWFwX25vdGFyZ2V0Iix7fSxhKTtpZighYS5sYXQpcmV0dXJuIHZvaWQgYygibWFwX25vbGF0aXR1ZGUiLHt9LGEpO2lmKCFhLmxvbilyZXR1cm4gdm9pZCBjKCJtYXBfbm9sb2dpdHVkZSIse30sYSk7dmFyIGQ9YS50YXJnZXQ7aWYoInN0cmluZyI9PXR5cGVvZiBkKXt2YXIgZT1udWxsO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgalF1ZXJ5KXRyeXt2YXIgZj1qUXVlcnkoZCk7Zi5sZW5ndGg+MCYmKGU9ZlswXSl9Y2F0Y2goZyl7ZT1udWxsfW51bGw9PWUmJihlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpKSxkPWV9ZWxzZSJvYmplY3QiPT10eXBlb2YgZD8xPT09ZC5ub2RlVHlwZSYmInN0cmluZyI9PXR5cGVvZiBkLm5vZGVOYW1lfHwoZD1kWzBdKTpkPW51bGw7aWYoIWQpcmV0dXJuIHZvaWQgYygibWFwX25vY29udGFpbmVyIix7fSxhKTtpZihfbWFwU2NyaXB0TG9hZGVkKXt2YXIgaD17fTtoLnpvb209YS56b29tP2Euem9vbTo4LGguY2VudGVyPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoYS5sYXQsYS5sb24pLGgubWFwVHlwZUlkPWdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQO3ZhciBpPW5ldyBnb29nbGUubWFwcy5NYXAoZCxoKTtiKHttYXA6aX0pfWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgYiYmX21hcExvYWRTdWNjZXNzUGFyYW1ldGVycy5wdXNoKHt0YXJnZXQ6ZCxzdWNjZXNzRnVuY3Rpb246YixtT3B0aW9uczphfSksJGZoLl9tYXBMb2FkZWQ9ZnVuY3Rpb24oKXtfbWFwU2NyaXB0TG9hZGVkPSEwO2Zvcih2YXIgYT1fbWFwTG9hZFN1Y2Nlc3NQYXJhbWV0ZXJzLnNoaWZ0KCk7InVuZGVmaW5lZCIhPXR5cGVvZiBhOyl7dmFyIGI9YS5tT3B0aW9ucyxjPXt9O2Muem9vbT1iLnpvb20/Yi56b29tOjgsYy5jZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhiLmxhdCxiLmxvbiksYy5tYXBUeXBlSWQ9Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVA7dmFyIGQ9bmV3IGdvb2dsZS5tYXBzLk1hcChhLnRhcmdldCxjKTthLnN1Y2Nlc3NGdW5jdGlvbih7bWFwOmR9KSxhPV9tYXBMb2FkU3VjY2Vzc1BhcmFtZXRlcnMuc2hpZnQoKX19LF9tYXBTY3JpcHRMb2FkaW5nfHwoX21hcFNjcmlwdExvYWRpbmc9ITAsX2xvYWRNYXBTY3JpcHQoKSksc2V0VGltZW91dChmdW5jdGlvbigpe19tYXBTY3JpcHRMb2FkZWR8fGMoIm1hcF90aW1lb3V0Iix7fSxhKX0sMmU0KX0sYXVkaW86ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGw9PSFhdWRpb19vYmomJiJwbGF5Ij09YS5hY3QmJighYS5wYXRofHwiIj09YS5wYXRoKSlyZXR1cm4gdm9pZCBjKCJub19hdWRpb19wYXRoIik7dmFyIGQ9e3BsYXk6ZnVuY3Rpb24oKXtpZihudWxsPT1hdWRpb19vYmope2lmKGF1ZGlvX29iaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpLCEoYXVkaW9fb2JqLnBsYXk/ITA6ITEpKXJldHVybiB2b2lkIGMoImF1ZGlvX25vdF9zdXBwb3J0Iik7aWYoYS50eXBlKXt2YXIgZT1hdWRpb19vYmouY2FuUGxheVR5cGUoYS50eXBlKTtpZigibm8iPT1lfHwiIj09ZSlyZXR1cm4gdm9pZCBjKCJhdWRpb190eXBlX25vdF9zdXBwb3J0ZWQiKX1hdWRpb19vYmouc3JjPWEucGF0aCxhLmNvbnRyb2xzJiYoYXVkaW9fb2JqLmNvbnRyb2xzPSJjb250cm9scyIpLGEuYXV0b3BsYXkmJihhdWRpb19vYmouYXV0b3BsYXk9ImF1dG9wbGF5IiksYS5sb29wJiYoYXVkaW9fb2JqLmxvb3A9Imxvb3AiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGF1ZGlvX29iaiksYXVkaW9fb2JqLnBsYXkoKSxhdWRpb19pc19wbGF5aW5nPSEwLGIoKX1lbHNlIGEucGF0aCYmYS5wYXRoIT1hdWRpb19vYmouc3JjPyhhdWRpb19pc19wbGF5aW5nJiZkLnN0b3AoITApLGQucGxheSgpKTphdWRpb19pc19wbGF5aW5nfHwoYXVkaW9fb2JqLnBsYXkoKSxhdWRpb19pc19wbGF5aW5nPSEwLGIoKSl9LHBhdXNlOmZ1bmN0aW9uKCl7bnVsbCE9YXVkaW9fb2JqJiZhdWRpb19pc19wbGF5aW5nPygiZnVuY3Rpb24iPT10eXBlb2YgYXVkaW9fb2JqLnBhdXNlP2F1ZGlvX29iai5wYXVzZSgpOiJmdW5jdGlvbiI9PXR5cGVvZiBhdWRpb19vYmouc3RvcCYmYXVkaW9fb2JqLnN0b3AoKSxhdWRpb19pc19wbGF5aW5nPSExLGIoKSk6Yygibm9fYXVkaW9fcGxheWluZyIpfSxzdG9wOmZ1bmN0aW9uKGEpe251bGwhPWF1ZGlvX29iaj8oImZ1bmN0aW9uIj09dHlwZW9mIGF1ZGlvX29iai5zdG9wP2F1ZGlvX29iai5zdG9wKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGF1ZGlvX29iai5wYXVzZSYmYXVkaW9fb2JqLnBhdXNlKCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhdWRpb19vYmopLGF1ZGlvX29iaj1udWxsLGF1ZGlvX2lzX3BsYXlpbmc9ITEsYXx8YigpKTpjKCJub19hdWRpbyIpfX07ZFthLmFjdF0/ZFthLmFjdF0oKTpjKCJkYXRhX2JhZGFjdCIsYSl9LHdlYnZpZXc6ZnVuY3Rpb24oYSxiLGMpe2MoIndlYnZpZXdfbm9zdXBwb3J0Iil9LHJlYWR5OmZ1bmN0aW9uKGEsYil7X19iaW5kX3JlYWR5KCksX19pc19yZWFkeT9iLmFwcGx5KGRvY3VtZW50LFtdKTpfX3JlYWR5X2xpc3QucHVzaChiKX19LCRmaC5zZW5kPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse3R5cGU6ImVtYWlsIn0sJGZoLl9fZGVzdF9fLnNlbmQpfSwkZmgubm90aWZ5PWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse3R5cGU6InZpYnJhdGUifSwkZmguX19kZXN0X18ubm90aWZ5KX0sJGZoLmNvbnRhY3RzPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDoibGlzdCJ9LCRmaC5fX2Rlc3RfXy5jb250YWN0cyl9LCRmaC5hY2M9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJyZWdpc3RlciIsaW50ZXJ2YWw6MH0sJGZoLl9fZGVzdF9fLmFjYyl9LCRmaC5nZW89ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJyZWdpc3RlciIsaW50ZXJ2YWw6MH0sJGZoLl9fZGVzdF9fLmdlbyl9LCRmaC5jYW09ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJwaWN0dXJlIn0sJGZoLl9fZGVzdF9fLmNhbSl9LCRmaC5kYXRhPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDoibG9hZCJ9LCRmaC5fX2Rlc3RfXy5kYXRhKX0sJGZoLmxvZz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHttZXNzYWdlOiJub25lIn0sJGZoLl9fZGVzdF9fLmxvZyl9LCRmaC5kZXZpY2U9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18uZGV2aWNlKX0sJGZoLmxpc3Rlbj1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6ImFkZCJ9LCRmaC5fX2Rlc3RfXy5saXN0ZW4pfSwkZmgub3JpPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLm9yaSl9LCRmaC5tYXA9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ubWFwKX0sJGZoLmF1ZGlvPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLmF1ZGlvKX0sJGZoLndlYnZpZXc9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ud2Vidmlldyl9LCRmaC5yZWFkeT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy5yZWFkeSl9LCRmaC5oYW5kbGVycz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt0eXBlOiJiYWNrIn0sJGZoLl9fZGVzdF9fLmhhbmRsZXJzKX0sJGZoLmZpbGU9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJ1cGxvYWQifSwkZmguX19kZXN0X18uZmlsZSl9LCRmaC5wdXNoPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLnB1c2gpfSwkZmguZW52PWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sZnVuY3Rpb24oYSxiKXskZmguX19kZXN0X18uZW52KHt9LGZ1bmN0aW9uKGEpe2EuYXBwbGljYXRpb249JGZoLmFwcF9wcm9wcy5hcHBpZCwkZmguX2dldERldmljZUlkJiYoYS51dWlkPSRmaC5fZ2V0RGV2aWNlSWQoKSksYS5hZ2VudD1uYXZpZ2F0b3IudXNlckFnZW50fHwidW5rbm93biIsYihhKX0pfSl9LCRmaC5kZXZpY2U9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSxmdW5jdGlvbigpe30pfSwkZmguZ2VvaXA9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OiJnZXQifSxmdW5jdGlvbihhLGIsYyl7aWYoImdldCI9PWEuYWN0KXt2YXIgZD17aW5zdGFuY2U6JGZoLmFwcF9wcm9wcy5hcHBpZCxkb21haW46JGZoLmNsb3VkX3Byb3BzLmRvbWFpbn07JGZoLl9fYWpheCh7dXJsOl9nZXRIb3N0UHJlZml4KCkrImFjdC93aWQvZ2VvaXAvcmVzb2x2ZSIsdHlwZToiUE9TVCIsZGF0YTpKU09OLnN0cmluZ2lmeShkKSxzdWNjZXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhLmdlb2lwKWFbY109YS5nZW9pcFtjXTtiKGEpfX0pfWVsc2UgYygiZ2VvaXBfYmFkYWN0IixhKX0pfSwkZmgud2ViPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse21ldGhvZDoiR0VUIn0sZnVuY3Rpb24oYSxiLGMpe2EudXJsfHxjKCJiYWRfdXJsIiksJGZoLl9fYWpheChhLmlzX2xvY2FsP3t1cmw6YS51cmwsdHlwZToiR0VUIixkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihhKXt2YXIgYz17fTtjLnN0YXR1cz0yMDAsYy5ib2R5PWEsYihjKX0sZXJyb3I6ZnVuY3Rpb24oKXtjKCl9fTp7dXJsOl9nZXRIb3N0UHJlZml4KCkrImFjdC93aWQvd2ViIix0eXBlOiJQT1NUIixkYXRhOkpTT04uc3RyaW5naWZ5KGEpLHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7YihhKX19KX0pfSwkZmguX193ZWJ2aWV3X3dpbj12b2lkIDAsJGZoLl9fZGVzdF9fLndlYnZpZXc9ZnVuY3Rpb24oYSxiLGMpe2lmKCJhY3QiaW4gYSYmIm9wZW4iIT09YS5hY3QpImNsb3NlIj09PWEuYWN0JiYoInVuZGVmaW5lZCIhPXR5cGVvZiAkZmguX193ZWJ2aWV3X3dpbiYmKCRmaC5fX3dlYnZpZXdfd2luLmNsb3NlKCksJGZoLl9fd2Vidmlld193aW49dm9pZCAwKSxiKCJjbG9zZWQiKSk7ZWxzZXtpZighYS51cmwpcmV0dXJuIHZvaWQgYygibm9fdXJsIik7e2EudXJsfSRmaC5fX3dlYnZpZXdfd2luPXdpbmRvdy5vcGVuKGEudXJsLCJfYmxhbmsiKSxiKCJvcGVuZWQiKX19LCgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5QaG9uZUdhcHx8InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuY29yZG92YSkmJigkZmguX3JlYWR5Q2FsbGJhY2tzPVtdLCRmaC5fcmVhZHlTdGF0ZT0hMSwkZmguX19kZXN0X18ucmVhZHk9ZnVuY3Rpb24oYSxiKXtpZigkZmguX3JlYWR5U3RhdGUpdHJ5e2IoKX1jYXRjaChjKXtjb25zb2xlLmxvZygiRXJyb3IgZHVyaW5nICRmaC5yZWFkeS4gU2tpcC4gRXJyb3IgPSAiK2MubWVzc2FnZSl9ZWxzZSAkZmguX3JlYWR5Q2FsbGJhY2tzLnB1c2goYil9KSwkZmguX19kZXN0X18uZ2VvPWZ1bmN0aW9uKGEsYixjKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvci5nZW9sb2NhdGlvbilpZihhLmFjdCYmInJlZ2lzdGVyIiE9YS5hY3QpInVucmVnaXN0ZXIiPT1hLmFjdD8oJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyJiYobmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2goJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKSwkZmguX19kZXN0X18uX2dlb1dhdGNoZXI9dm9pZCAwKSxiKCkpOmMoImdlb19iYWRhY3QiLHt9LGEpO2Vsc2V7aWYoJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKXJldHVybiB2b2lkIGMoImdlb19pbnVzZSIse30sYSk7aWYoMD09YS5pbnRlcnZhbCYmbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbihhKXt2YXIgYz1hLmNvb3JkcyxkPXtsb246Yy5sb25naXR1ZGUsbGF0OmMubGF0aXR1ZGUsYWx0OmMuYWx0aXR1ZGUsYWNjOmMuYWNjdXJhY3ksaGVhZDpjLmhlYWRpbmcsc3BlZWQ6Yy5zcGVlZCx3aGVuOmEudGltZXN0YW1wfTtiKGQpfSxmdW5jdGlvbigpe2MoImVycm9yX2dlbyIse30sYSl9KSxhLmludGVydmFsPjApe3ZhciBkPW5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uKGEpe3ZhciBjPWEuY29vcmRzLGQ9e2xvbjpjLmxvbmdpdHVkZSxsYXQ6Yy5sYXRpdHVkZSxhbHQ6Yy5hbHRpdHVkZSxhY2M6Yy5hY2N1cmFjeSxoZWFkOmMuaGVhZGluZyxzcGVlZDpjLnNwZWVkLHdoZW46YS50aW1lc3RhbXB9O2IoZCl9LGZ1bmN0aW9uKCl7YygiZXJyb3JfZ2VvIix7fSxhKX0se2ZyZXF1ZW5jeTphLmludGVydmFsfSk7JGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyPWR9fWVsc2UgYygiZ2VvX25vc3VwcG9ydCIse30sYSl9LCRmaC5fX2Rlc3RfXy5hY2M9ZnVuY3Rpb24oYSxiKXtiKHt4OjQqTWF0aC5yYW5kb20oKS0yLHk6NCpNYXRoLnJhbmRvbSgpLTIsejo0Kk1hdGgucmFuZG9tKCktMix3aGVuOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSl9LHJvb3QuJGZoPSRmaH0odGhpcyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoKXtyZXR1cm4gZX12YXIgYz17fSxkPXtleHBvcnRzOnt9fTshZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBjPSExO3JldHVybiBmdW5jdGlvbigpe2lmKGMpdGhyb3cgbmV3IEVycm9yKCJDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuIik7Yz0hMCxhLmFwcGx5KGIsYXJndW1lbnRzKX19dmFyIGIsZSxmPXt9O2I9dGhpcyxudWxsIT1iJiYoZT1iLmFzeW5jKSxmLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYi5hc3luYz1lLGZ9O3ZhciBnPWZ1bmN0aW9uKGEsYil7aWYoYS5mb3JFYWNoKXJldHVybiBhLmZvckVhY2goYik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKz0xKWIoYVtjXSxjLGEpfSxoPWZ1bmN0aW9uKGEsYil7aWYoYS5tYXApcmV0dXJuIGEubWFwKGIpO3ZhciBjPVtdO3JldHVybiBnKGEsZnVuY3Rpb24oYSxkLGUpe2MucHVzaChiKGEsZCxlKSl9KSxjfSxpPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZWR1Y2U/YS5yZWR1Y2UoYixjKTooZyhhLGZ1bmN0aW9uKGEsZCxlKXtjPWIoYyxhLGQsZSl9KSxjKX0saj1mdW5jdGlvbihhKXtpZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXMoYSk7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmYi5wdXNoKGMpO3JldHVybiBifTsidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MubmV4dFRpY2s/KGYubmV4dFRpY2s9cHJvY2Vzcy5uZXh0VGljayxmLnNldEltbWVkaWF0ZT0idW5kZWZpbmVkIiE9dHlwZW9mIHNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGU6Zi5uZXh0VGljayk6ImZ1bmN0aW9uIj09dHlwZW9mIHNldEltbWVkaWF0ZT8oZi5uZXh0VGljaz1mdW5jdGlvbihhKXtzZXRJbW1lZGlhdGUoYSl9LGYuc2V0SW1tZWRpYXRlPWYubmV4dFRpY2spOihmLm5leHRUaWNrPWZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX0sZi5zZXRJbW1lZGlhdGU9Zi5uZXh0VGljayksZi5lYWNoPWZ1bmN0aW9uKGIsYyxkKXtpZihkPWR8fGZ1bmN0aW9uKCl7fSwhYi5sZW5ndGgpcmV0dXJuIGQoKTt2YXIgZT0wO2coYixmdW5jdGlvbihmKXtjKGYsYShmdW5jdGlvbihhKXthPyhkKGEpLGQ9ZnVuY3Rpb24oKXt9KTooZSs9MSxlPj1iLmxlbmd0aCYmZChudWxsKSl9KSl9KX0sZi5mb3JFYWNoPWYuZWFjaCxmLmVhY2hTZXJpZXM9ZnVuY3Rpb24oYSxiLGMpe2lmKGM9Y3x8ZnVuY3Rpb24oKXt9LCFhLmxlbmd0aClyZXR1cm4gYygpO3ZhciBkPTAsZT1mdW5jdGlvbigpe2IoYVtkXSxmdW5jdGlvbihiKXtiPyhjKGIpLGM9ZnVuY3Rpb24oKXt9KTooZCs9MSxkPj1hLmxlbmd0aD9jKG51bGwpOmUoKSl9KX07ZSgpfSxmLmZvckVhY2hTZXJpZXM9Zi5lYWNoU2VyaWVzLGYuZWFjaExpbWl0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWsoYik7ZS5hcHBseShudWxsLFthLGMsZF0pfSxmLmZvckVhY2hMaW1pdD1mLmVhY2hMaW1pdDt2YXIgaz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe2lmKGQ9ZHx8ZnVuY3Rpb24oKXt9LCFiLmxlbmd0aHx8MD49YSlyZXR1cm4gZCgpO3ZhciBlPTAsZj0wLGc9MDshZnVuY3Rpb24gaCgpe2lmKGU+PWIubGVuZ3RoKXJldHVybiBkKCk7Zm9yKDthPmcmJmY8Yi5sZW5ndGg7KWYrPTEsZys9MSxjKGJbZi0xXSxmdW5jdGlvbihhKXthPyhkKGEpLGQ9ZnVuY3Rpb24oKXt9KTooZSs9MSxnLT0xLGU+PWIubGVuZ3RoP2QoKTpoKCkpfSl9KCl9fSxsPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGEuYXBwbHkobnVsbCxbZi5lYWNoXS5jb25jYXQoYikpfX0sbT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGIuYXBwbHkobnVsbCxbayhhKV0uY29uY2F0KGMpKX19LG49ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gYS5hcHBseShudWxsLFtmLmVhY2hTZXJpZXNdLmNvbmNhdChiKSl9fSxvPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdO2I9aChiLGZ1bmN0aW9uKGEsYil7cmV0dXJue2luZGV4OmIsdmFsdWU6YX19KSxhKGIsZnVuY3Rpb24oYSxiKXtjKGEudmFsdWUsZnVuY3Rpb24oYyxkKXtlW2EuaW5kZXhdPWQsYihjKX0pfSxmdW5jdGlvbihhKXtkKGEsZSl9KX07Zi5tYXA9bChvKSxmLm1hcFNlcmllcz1uKG8pLGYubWFwTGltaXQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHAoYikoYSxjLGQpfTt2YXIgcD1mdW5jdGlvbihhKXtyZXR1cm4gbShhLG8pfTtmLnJlZHVjZT1mdW5jdGlvbihhLGIsYyxkKXtmLmVhY2hTZXJpZXMoYSxmdW5jdGlvbihhLGQpe2MoYixhLGZ1bmN0aW9uKGEsYyl7Yj1jLGQoYSl9KX0sZnVuY3Rpb24oYSl7ZChhLGIpfSl9LGYuaW5qZWN0PWYucmVkdWNlLGYuZm9sZGw9Zi5yZWR1Y2UsZi5yZWR1Y2VSaWdodD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1oKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5yZXZlcnNlKCk7Zi5yZWR1Y2UoZSxiLGMsZCl9LGYuZm9sZHI9Zi5yZWR1Y2VSaWdodDt2YXIgcT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXTtiPWgoYixmdW5jdGlvbihhLGIpe3JldHVybntpbmRleDpiLHZhbHVlOmF9fSksYShiLGZ1bmN0aW9uKGEsYil7YyhhLnZhbHVlLGZ1bmN0aW9uKGMpe2MmJmUucHVzaChhKSxiKCl9KX0sZnVuY3Rpb24oKXtkKGgoZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaW5kZXgtYi5pbmRleH0pLGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSkpfSl9O2YuZmlsdGVyPWwocSksZi5maWx0ZXJTZXJpZXM9bihxKSxmLnNlbGVjdD1mLmZpbHRlcixmLnNlbGVjdFNlcmllcz1mLmZpbHRlclNlcmllczt2YXIgcj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXTtiPWgoYixmdW5jdGlvbihhLGIpe3JldHVybntpbmRleDpiLHZhbHVlOmF9fSksYShiLGZ1bmN0aW9uKGEsYil7YyhhLnZhbHVlLGZ1bmN0aW9uKGMpe2N8fGUucHVzaChhKSxiKCl9KX0sZnVuY3Rpb24oKXtkKGgoZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaW5kZXgtYi5pbmRleH0pLGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSkpfSl9O2YucmVqZWN0PWwociksZi5yZWplY3RTZXJpZXM9bihyKTt2YXIgcz1mdW5jdGlvbihhLGIsYyxkKXthKGIsZnVuY3Rpb24oYSxiKXtjKGEsZnVuY3Rpb24oYyl7Yz8oZChhKSxkPWZ1bmN0aW9uKCl7fSk6YigpfSl9LGZ1bmN0aW9uKCl7ZCgpfSl9O2YuZGV0ZWN0PWwocyksZi5kZXRlY3RTZXJpZXM9bihzKSxmLnNvbWU9ZnVuY3Rpb24oYSxiLGMpe2YuZWFjaChhLGZ1bmN0aW9uKGEsZCl7YihhLGZ1bmN0aW9uKGEpe2EmJihjKCEwKSxjPWZ1bmN0aW9uKCl7fSksZCgpfSl9LGZ1bmN0aW9uKCl7YyghMSl9KX0sZi5hbnk9Zi5zb21lLGYuZXZlcnk9ZnVuY3Rpb24oYSxiLGMpe2YuZWFjaChhLGZ1bmN0aW9uKGEsZCl7YihhLGZ1bmN0aW9uKGEpe2F8fChjKCExKSxjPWZ1bmN0aW9uKCl7fSksZCgpfSl9LGZ1bmN0aW9uKCl7YyghMCl9KX0sZi5hbGw9Zi5ldmVyeSxmLnNvcnRCeT1mdW5jdGlvbihhLGIsYyl7Zi5tYXAoYSxmdW5jdGlvbihhLGMpe2IoYSxmdW5jdGlvbihiLGQpe2I/YyhiKTpjKG51bGwse3ZhbHVlOmEsY3JpdGVyaWE6ZH0pfSl9LGZ1bmN0aW9uKGEsYil7aWYoYSlyZXR1cm4gYyhhKTt2YXIgZD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuY3JpdGVyaWEsZD1iLmNyaXRlcmlhO3JldHVybiBkPmM/LTE6Yz5kPzE6MH07YyhudWxsLGgoYi5zb3J0KGQpLGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSkpfSl9LGYuYXV0bz1mdW5jdGlvbihhLGIpe2I9Ynx8ZnVuY3Rpb24oKXt9O3ZhciBjPWooYSk7aWYoIWMubGVuZ3RoKXJldHVybiBiKG51bGwpO3ZhciBkPXt9LGU9W10saD1mdW5jdGlvbihhKXtlLnVuc2hpZnQoYSl9LGs9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxlLmxlbmd0aDtiKz0xKWlmKGVbYl09PT1hKXJldHVybiB2b2lkIGUuc3BsaWNlKGIsMSl9LGw9ZnVuY3Rpb24oKXtnKGUuc2xpY2UoMCksZnVuY3Rpb24oYSl7YSgpfSl9O2goZnVuY3Rpb24oKXtqKGQpLmxlbmd0aD09PWMubGVuZ3RoJiYoYihudWxsLGQpLGI9ZnVuY3Rpb24oKXt9KX0pLGcoYyxmdW5jdGlvbihjKXt2YXIgZT1hW2NdaW5zdGFuY2VvZiBGdW5jdGlvbj9bYVtjXV06YVtjXSxtPWZ1bmN0aW9uKGEpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZihlLmxlbmd0aDw9MSYmKGU9ZVswXSksYSl7dmFyIGg9e307ZyhqKGQpLGZ1bmN0aW9uKGEpe2hbYV09ZFthXX0pLGhbY109ZSxiKGEsaCksYj1mdW5jdGlvbigpe319ZWxzZSBkW2NdPWUsZi5zZXRJbW1lZGlhdGUobCl9LG49ZS5zbGljZSgwLE1hdGguYWJzKGUubGVuZ3RoLTEpKXx8W10sbz1mdW5jdGlvbigpe3JldHVybiBpKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmZC5oYXNPd25Qcm9wZXJ0eShiKX0sITApJiYhZC5oYXNPd25Qcm9wZXJ0eShjKX07aWYobygpKWVbZS5sZW5ndGgtMV0obSxkKTtlbHNle3ZhciBwPWZ1bmN0aW9uKCl7bygpJiYoayhwKSxlW2UubGVuZ3RoLTFdKG0sZCkpfTtoKHApfX0pfSxmLndhdGVyZmFsbD1mdW5jdGlvbihhLGIpe2lmKGI9Ynx8ZnVuY3Rpb24oKXt9LGEuY29uc3RydWN0b3IhPT1BcnJheSl7dmFyIGM9bmV3IEVycm9yKCJGaXJzdCBhcmd1bWVudCB0byB3YXRlcmZhbGwgbXVzdCBiZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMiKTtyZXR1cm4gYihjKX1pZighYS5sZW5ndGgpcmV0dXJuIGIoKTt2YXIgZD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7aWYoYyliLmFwcGx5KG51bGwsYXJndW1lbnRzKSxiPWZ1bmN0aW9uKCl7fTtlbHNle3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxnPWEubmV4dCgpO2UucHVzaChnP2QoZyk6YiksZi5zZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXthLmFwcGx5KG51bGwsZSl9KX19fTtkKGYuaXRlcmF0b3IoYSkpKCl9O3ZhciB0PWZ1bmN0aW9uKGEsYixjKXtpZihjPWN8fGZ1bmN0aW9uKCl7fSxiLmNvbnN0cnVjdG9yPT09QXJyYXkpYS5tYXAoYixmdW5jdGlvbihhLGIpe2EmJmEoZnVuY3Rpb24oYSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2MubGVuZ3RoPD0xJiYoYz1jWzBdKSxiLmNhbGwobnVsbCxhLGMpfSl9LGMpO2Vsc2V7dmFyIGQ9e307YS5lYWNoKGooYiksZnVuY3Rpb24oYSxjKXtiW2FdKGZ1bmN0aW9uKGIpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmxlbmd0aDw9MSYmKGU9ZVswXSksZFthXT1lLGMoYil9KX0sZnVuY3Rpb24oYSl7YyhhLGQpfSl9fTtmLnBhcmFsbGVsPWZ1bmN0aW9uKGEsYil7dCh7bWFwOmYubWFwLGVhY2g6Zi5lYWNofSxhLGIpfSxmLnBhcmFsbGVsTGltaXQ9ZnVuY3Rpb24oYSxiLGMpe3Qoe21hcDpwKGIpLGVhY2g6ayhiKX0sYSxjKX0sZi5zZXJpZXM9ZnVuY3Rpb24oYSxiKXtpZihiPWJ8fGZ1bmN0aW9uKCl7fSxhLmNvbnN0cnVjdG9yPT09QXJyYXkpZi5tYXBTZXJpZXMoYSxmdW5jdGlvbihhLGIpe2EmJmEoZnVuY3Rpb24oYSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2MubGVuZ3RoPD0xJiYoYz1jWzBdKSxiLmNhbGwobnVsbCxhLGMpfSl9LGIpO2Vsc2V7dmFyIGM9e307Zi5lYWNoU2VyaWVzKGooYSksZnVuY3Rpb24oYixkKXthW2JdKGZ1bmN0aW9uKGEpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmxlbmd0aDw9MSYmKGU9ZVswXSksY1tiXT1lLGQoYSl9KX0sZnVuY3Rpb24oYSl7YihhLGMpfSl9fSxmLml0ZXJhdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGMpe3ZhciBkPWZ1bmN0aW9uKCl7cmV0dXJuIGEubGVuZ3RoJiZhW2NdLmFwcGx5KG51bGwsYXJndW1lbnRzKSxkLm5leHQoKX07cmV0dXJuIGQubmV4dD1mdW5jdGlvbigpe3JldHVybiBjPGEubGVuZ3RoLTE/YihjKzEpOm51bGx9LGR9O3JldHVybiBiKDApfSxmLmFwcGx5PWZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGIuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKX19O3ZhciB1PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdO2EoYixmdW5jdGlvbihhLGIpe2MoYSxmdW5jdGlvbihhLGMpe2U9ZS5jb25jYXQoY3x8W10pLGIoYSl9KX0sZnVuY3Rpb24oYSl7ZChhLGUpfSl9O2YuY29uY2F0PWwodSksZi5jb25jYXRTZXJpZXM9bih1KSxmLndoaWxzdD1mdW5jdGlvbihhLGIsYyl7YSgpP2IoZnVuY3Rpb24oZCl7cmV0dXJuIGQ/YyhkKTp2b2lkIGYud2hpbHN0KGEsYixjKX0pOmMoKX0sZi5kb1doaWxzdD1mdW5jdGlvbihhLGIsYyl7YShmdW5jdGlvbihkKXtyZXR1cm4gZD9jKGQpOnZvaWQoYigpP2YuZG9XaGlsc3QoYSxiLGMpOmMoKSl9KX0sZi51bnRpbD1mdW5jdGlvbihhLGIsYyl7YSgpP2MoKTpiKGZ1bmN0aW9uKGQpe3JldHVybiBkP2MoZCk6dm9pZCBmLnVudGlsKGEsYixjKX0pfSxmLmRvVW50aWw9ZnVuY3Rpb24oYSxiLGMpe2EoZnVuY3Rpb24oZCl7cmV0dXJuIGQ/YyhkKTp2b2lkKGIoKT9jKCk6Zi5kb1VudGlsKGEsYixjKSl9KX0sZi5xdWV1ZT1mdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYSxiLGQsZSl7Yi5jb25zdHJ1Y3RvciE9PUFycmF5JiYoYj1bYl0pLGcoYixmdW5jdGlvbihiKXt2YXIgZz17ZGF0YTpiLGNhbGxiYWNrOiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6bnVsbH07ZD9hLnRhc2tzLnVuc2hpZnQoZyk6YS50YXNrcy5wdXNoKGcpLGEuc2F0dXJhdGVkJiZhLnRhc2tzLmxlbmd0aD09PWMmJmEuc2F0dXJhdGVkKCksZi5zZXRJbW1lZGlhdGUoYS5wcm9jZXNzKX0pfXZvaWQgMD09PWMmJihjPTEpO3ZhciBlPTAsaD17dGFza3M6W10sY29uY3VycmVuY3k6YyxzYXR1cmF0ZWQ6bnVsbCxlbXB0eTpudWxsLGRyYWluOm51bGwscHVzaDpmdW5jdGlvbihhLGIpe2QoaCxhLCExLGIpfSx1bnNoaWZ0OmZ1bmN0aW9uKGEsYil7ZChoLGEsITAsYil9LHByb2Nlc3M6ZnVuY3Rpb24oKXtpZihlPGguY29uY3VycmVuY3kmJmgudGFza3MubGVuZ3RoKXt2YXIgYz1oLnRhc2tzLnNoaWZ0KCk7aC5lbXB0eSYmMD09PWgudGFza3MubGVuZ3RoJiZoLmVtcHR5KCksZSs9MTt2YXIgZD1mdW5jdGlvbigpe2UtPTEsYy5jYWxsYmFjayYmYy5jYWxsYmFjay5hcHBseShjLGFyZ3VtZW50cyksaC5kcmFpbiYmaC50YXNrcy5sZW5ndGgrZT09PTAmJmguZHJhaW4oKSxoLnByb2Nlc3MoKX0sZj1hKGQpO2IoYy5kYXRhLGYpfX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIGgudGFza3MubGVuZ3RofSxydW5uaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGV9fTtyZXR1cm4gaH0sZi5jYXJnbz1mdW5jdGlvbihhLGIpe3ZhciBjPSExLGQ9W10sZT17dGFza3M6ZCxwYXlsb2FkOmIsc2F0dXJhdGVkOm51bGwsZW1wdHk6bnVsbCxkcmFpbjpudWxsLHB1c2g6ZnVuY3Rpb24oYSxjKXthLmNvbnN0cnVjdG9yIT09QXJyYXkmJihhPVthXSksZyhhLGZ1bmN0aW9uKGEpe2QucHVzaCh7ZGF0YTphLGNhbGxiYWNrOiJmdW5jdGlvbiI9PXR5cGVvZiBjP2M6bnVsbH0pLGUuc2F0dXJhdGVkJiZkLmxlbmd0aD09PWImJmUuc2F0dXJhdGVkKCl9KSxmLnNldEltbWVkaWF0ZShlLnByb2Nlc3MpfSxwcm9jZXNzOmZ1bmN0aW9uIGkoKXtpZighYyl7aWYoMD09PWQubGVuZ3RoKXJldHVybiB2b2lkKGUuZHJhaW4mJmUuZHJhaW4oKSk7dmFyIGY9Im51bWJlciI9PXR5cGVvZiBiP2Quc3BsaWNlKDAsYik6ZC5zcGxpY2UoMCksaj1oKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pO2UuZW1wdHkmJmUuZW1wdHkoKSxjPSEwLGEoaixmdW5jdGlvbigpe2M9ITE7dmFyIGE9YXJndW1lbnRzO2coZixmdW5jdGlvbihiKXtiLmNhbGxiYWNrJiZiLmNhbGxiYWNrLmFwcGx5KG51bGwsYSl9KSxpKCl9KX19LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBkLmxlbmd0aH0scnVubmluZzpmdW5jdGlvbigpe3JldHVybiBjfX07cmV0dXJuIGV9O3ZhciB2PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Yi5hcHBseShudWxsLGMuY29uY2F0KFtmdW5jdGlvbihiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiYoYj9jb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKGIpOmNvbnNvbGVbYV0mJmcoYyxmdW5jdGlvbihiKXtjb25zb2xlW2FdKGIpfSkpfV0pKX19O2YubG9nPXYoImxvZyIpLGYuZGlyPXYoImRpciIpLGYubWVtb2l6ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXt9LGQ9e307Yj1ifHxmdW5jdGlvbihhKXtyZXR1cm4gYX07dmFyIGU9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGY9ZS5wb3AoKSxnPWIuYXBwbHkobnVsbCxlKTtnIGluIGM/Zi5hcHBseShudWxsLGNbZ10pOmcgaW4gZD9kW2ddLnB1c2goZik6KGRbZ109W2ZdLGEuYXBwbHkobnVsbCxlLmNvbmNhdChbZnVuY3Rpb24oKXtjW2ddPWFyZ3VtZW50czt2YXIgYT1kW2ddO2RlbGV0ZSBkW2ddO2Zvcih2YXIgYj0wLGU9YS5sZW5ndGg7ZT5iO2IrKylhW2JdLmFwcGx5KG51bGwsYXJndW1lbnRzKX1dKSkpfTtyZXR1cm4gZS5tZW1vPWMsZS51bm1lbW9pemVkPWEsZX0sZi51bm1lbW9pemU9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuKGEudW5tZW1vaXplZHx8YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfX0sZi50aW1lcz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDthPmU7ZSsrKWQucHVzaChlKTtyZXR1cm4gZi5tYXAoZCxiLGMpfSxmLnRpbWVzU2VyaWVzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2E+ZTtlKyspZC5wdXNoKGUpO3JldHVybiBmLm1hcFNlcmllcyhkLGIsYyl9LGYuY29tcG9zZT1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxkPWMucG9wKCk7Zi5yZWR1Y2UoYSxjLGZ1bmN0aW9uKGEsYyxkKXtjLmFwcGx5KGIsYS5jb25jYXQoW2Z1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzWzBdLGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2QoYSxiKX1dKSl9LGZ1bmN0aW9uKGEsYyl7ZC5hcHBseShiLFthXS5jb25jYXQoYykpfSl9fTt2YXIgdz1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZT1kLnBvcCgpO3JldHVybiBhKGIsZnVuY3Rpb24oYSxiKXthLmFwcGx5KGMsZC5jb25jYXQoW2JdKSl9LGUpfTtpZihhcmd1bWVudHMubGVuZ3RoPjIpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gYy5hcHBseSh0aGlzLGQpfXJldHVybiBjfTtmLmFwcGx5RWFjaD1sKHcpLGYuYXBwbHlFYWNoU2VyaWVzPW4odyksZi5mb3JldmVyPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhkKXtpZihkKXtpZihiKXJldHVybiBiKGQpO3Rocm93IGR9YShjKX1jKCl9LCJ1bmRlZmluZWQiIT10eXBlb2YgYyYmYy5hbWQ/YyhbXSxmdW5jdGlvbigpe3JldHVybiBmfSk6InVuZGVmaW5lZCIhPXR5cGVvZiBkJiZkLmV4cG9ydHM/ZC5leHBvcnRzPWY6Yi5hc3luYz1mfSgpO3ZhciBlPWQuZXhwb3J0cztyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt2YXIgZD1wYXJzZUludChhLDEwKTtyZXR1cm4haXNOYU4oZCkmJmQ+PWImJmM+PWR9ZnVuY3Rpb24gYyhiKXt2YXIgYz0wO2lmKCJzdHJpbmciPT10eXBlb2YgYil7dmFyIGQ9Yi5zcGxpdCgiOiIpO3ZhbGlkPTI9PT1kLmxlbmd0aHx8Mz09PWQubGVuZ3RoLHZhbGlkJiYodmFsaWQ9YShkWzBdLDAsMjMpLGMrPTYwKnBhcnNlSW50KGRbMF0sMTApKjYwKSx2YWxpZCYmKHZhbGlkPWEoZFsxXSwwLDU5KSxjKz02MCpwYXJzZUludChkWzFdLDEwKSksdmFsaWQmJjM9PT1kLmxlbmd0aCYmKHZhbGlkPWEoZFsyXSwwLDU5KSxjKz1wYXJzZUludChkWzJdLDEwKSl9cmV0dXJuIGN9ZnVuY3Rpb24gZShhLGIsZCxlKXtmdW5jdGlvbiBmKGEsYixjKXt2YXIgZD1wYXJzZUludChiLDEwKSxlPXBhcnNlSW50KGMsMTApO3JldHVybiBpc05hTihkKXx8aXNOYU4oZSk/ITE6ImlzIGVxdWFsIHRvIj09PWE/ZD09PWU6ImlzIGxlc3MgdGhhbiI9PT1hP2U+ZDoiaXMgZ3JlYXRlciB0aGFuIj09PWE/ZD5lOiExfXZhciBsPWEudHlwZSxtPWEuZmllbGRPcHRpb25zP2EuZmllbGRPcHRpb25zOnt9O2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgYnx8bnVsbD09PWIpcmV0dXJuITE7dmFyIG49ITA7aWYoImlzIGVxdWFsIHRvIj09PWUpbj1mKCJpcyBlcXVhbCB0byIsYixkKTtlbHNlIGlmKCJpcyBncmVhdGVyIHRoYW4iPT09ZSluPWYoImlzIGdyZWF0ZXIgdGhhbiIsYixkKTtlbHNlIGlmKCJpcyBsZXNzIHRoYW4iPT09ZSluPWYoImlzIGxlc3MgdGhhbiIsYixkKTtlbHNlIGlmKCJpcyBhdCI9PT1lKXtpZihuPSExLGw9PT1oKXN3aXRjaChtLmRlZmluaXRpb24uZGF0ZXRpbWVVbml0KXtjYXNlIGk6dHJ5e249bmV3IERhdGUobmV3IERhdGUoYikudG9EYXRlU3RyaW5nKCkpLmdldFRpbWUoKT09PW5ldyBEYXRlKG5ldyBEYXRlKGQpLnRvRGF0ZVN0cmluZygpKS5nZXRUaW1lKCl9Y2F0Y2gobyl7bj0hMX1icmVhaztjYXNlIGo6bj1jKGIpPT09YyhkKTticmVhaztjYXNlIGs6dHJ5e249bmV3IERhdGUoYikuZ2V0VGltZSgpPT09bmV3IERhdGUoZCkuZ2V0VGltZSgpfWNhdGNoKG8pe249ITF9YnJlYWs7ZGVmYXVsdDpuPSExfX1lbHNlIGlmKCJpcyBiZWZvcmUiPT09ZSl7aWYobj0hMSxsPT09aClzd2l0Y2gobS5kZWZpbml0aW9uLmRhdGV0aW1lVW5pdCl7Y2FzZSBpOnRyeXtuPW5ldyBEYXRlKG5ldyBEYXRlKGIpLnRvRGF0ZVN0cmluZygpKS5nZXRUaW1lKCk8bmV3IERhdGUobmV3IERhdGUoZCkudG9EYXRlU3RyaW5nKCkpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2Nhc2UgajpuPWMoYik8YyhkKTticmVhaztjYXNlIGs6dHJ5e249bmV3IERhdGUoYikuZ2V0VGltZSgpPG5ldyBEYXRlKGQpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2RlZmF1bHQ6bj0hMX19ZWxzZSBpZigiaXMgYWZ0ZXIiPT09ZSl7aWYobj0hMSxsPT09aClzd2l0Y2gobS5kZWZpbml0aW9uLmRhdGV0aW1lVW5pdCl7Y2FzZSBpOnRyeXtuPW5ldyBEYXRlKG5ldyBEYXRlKGIpLnRvRGF0ZVN0cmluZygpKS5nZXRUaW1lKCk+bmV3IERhdGUobmV3IERhdGUoZCkudG9EYXRlU3RyaW5nKCkpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2Nhc2UgajpuPWMoYik+YyhkKTticmVhaztjYXNlIGs6dHJ5e249bmV3IERhdGUoYikuZ2V0VGltZSgpPm5ldyBEYXRlKGQpLmdldFRpbWUoKX1jYXRjaChvKXtuPSExfWJyZWFrO2RlZmF1bHQ6bj0hMX19ZWxzZSBuPSJpcyI9PT1lP2w9PT1nP2ImJmIuc2VsZWN0aW9ucyYmLTEhPT1iLnNlbGVjdGlvbnMuaW5kZXhPZihkKTpiPT09ZDoiaXMgbm90Ij09PWU/bD09PWc/YiYmYi5zZWxlY3Rpb25zJiYtMT09PWIuc2VsZWN0aW9ucy5pbmRleE9mKGQpOmIhPT1kOiJjb250YWlucyI9PT1lPy0xIT09Yi5pbmRleE9mKGQpOiJkb2VzIG5vdCBjb250YWluIj09PWU/LTE9PT1iLmluZGV4T2YoZCk6ImJlZ2lucyB3aXRoIj09PWU/Yi5zdWJzdHJpbmcoMCxkLmxlbmd0aCk9PT1kOiJlbmRzIHdpdGgiPT09ZT9iLnN1YnN0cmluZyhNYXRoLm1heCgwLGIubGVuZ3RoLWQubGVuZ3RoKSxiLmxlbmd0aCk9PT1kOiExO3JldHVybiBufXZhciBmPWIoImFzeW5jIiksZz0iY2hlY2tib3hlcyIsaD0iZGF0ZVRpbWUiLGk9ImRhdGUiLGo9InRpbWUiLGs9ImRhdGV0aW1lIixsPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYSl7Zi5lYWNoKFkucGFnZXMsZnVuY3Rpb24oYSxiKXtmLmVhY2goYS5maWVsZHMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYi5wYWdlSWQ9YS5faWQsYi5hZG1pbk9ubHk/KCRbYi5faWRdPWIsYygpKTooYi5maWVsZE9wdGlvbnM9Yi5maWVsZE9wdGlvbnM/Yi5maWVsZE9wdGlvbnM6e30sYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbj1iLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uP2IuZmllbGRPcHRpb25zLmRlZmluaXRpb246e30sYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbj1iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uP2IuZmllbGRPcHRpb25zLnZhbGlkYXRpb246e30sWltiLl9pZF09YixiLnJlcXVpcmVkJiYoX1tiLl9pZF09e2ZpZWxkOmIsc3VibWl0dGVkOiExLHZhbGlkYXRlZDohMX0pLGMoKSl9LGZ1bmN0aW9uKCl7cmV0dXJuIGIoKX0pfSxhKX1mdW5jdGlvbiBkKGEpe2YuZWFjaChZLmZpZWxkUnVsZXMsZnVuY3Rpb24oYSxiKXtmLmVhY2goYS5ydWxlQ29uZGl0aW9uYWxTdGF0ZW1lbnRzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5zb3VyY2VGaWVsZDtyZXR1cm4gYmJbZF09YmJbZF18fFtdLGJiW2RdLnB1c2goYSksYygpfSxmdW5jdGlvbigpe3JldHVybiBBcnJheS5pc0FycmF5KGEudGFyZ2V0RmllbGQpP3ZvaWQgZi5lYWNoKGEudGFyZ2V0RmllbGQsZnVuY3Rpb24oYixjKXtjYltiXT1jYltiXXx8W10sY2JbYl0ucHVzaChhKSxjKCl9LGIpOihjYlthLnRhcmdldEZpZWxkXT1jYlthLnRhcmdldEZpZWxkXXx8W10sY2JbYS50YXJnZXRGaWVsZF0ucHVzaChhKSxiKCkpfSl9LGEpfWZ1bmN0aW9uIGcoYSl7Zi5lYWNoKFkucGFnZVJ1bGVzLGZ1bmN0aW9uKGEsYil7Zi5lYWNoKGEucnVsZUNvbmRpdGlvbmFsU3RhdGVtZW50cyxmdW5jdGlvbihiLGMpe3ZhciBkPWIuc291cmNlRmllbGQ7cmV0dXJuIGRiW2RdPWRiW2RdfHxbXSxkYltkXS5wdXNoKGEpLGMoKX0sZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuaXNBcnJheShhLnRhcmdldFBhZ2UpP3ZvaWQgZi5lYWNoKGEudGFyZ2V0UGFnZSxmdW5jdGlvbihiLGMpe2ViW2JdPWViW2JdfHxbXSxlYltiXS5wdXNoKGEpLGMoKQp9LGIpOihlYlthLnRhcmdldFBhZ2VdPWViW2EudGFyZ2V0UGFnZV18fFtdLGViW2EudGFyZ2V0UGFnZV0ucHVzaChhKSxiKCkpfSl9LGEpfWZ1bmN0aW9uIGgoYSl7YWI9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfKSksZmI9e30sZi5lYWNoKFguZm9ybUZpZWxkcyxmdW5jdGlvbihhLGIpe3JldHVybiBhLmZpZWxkSWQ/JFthLmZpZWxkSWRdP2IoIlN1Ym1pc3Npb24gIithLmZpZWxkSWQrIiBpcyBhbiBhZG1pbiBmaWVsZC4gQWRtaW4gZmllbGRzIGNhbm5vdCBiZSBwYXNzZWQgdG8gdGhlIHJ1bGVzIGVuZ2luZS4iKTooZmJbYS5maWVsZElkXT1hLGIoKSk6YihuZXcgRXJyb3IoIk5vIGZpZWxkSWQgaW4gdGhpcyBzdWJtaXNzaW9uIGVudHJ5OiAiK3V0aWwuaW5zcGVjdChhKSkpfSxhKX1mdW5jdGlvbiBsKGEpe3JldHVybiBXP2EoKTp2b2lkIGYucGFyYWxsZWwoW2MsZCxnXSxmdW5jdGlvbihiKXtyZXR1cm4gYj9hKGIpOihXPSEwLGEoKSl9KX1mdW5jdGlvbiBtKGEsYil7bChmdW5jdGlvbihjKXtyZXR1cm4gYz9iKGMpOihYPWEsdm9pZCBoKGIpKX0pfWZ1bmN0aW9uIG4oYSxiLGMpe3JldHVybiBiJiZiLmZvcm1GaWVsZHM/dm9pZCBmLmZpbHRlcihiLmZvcm1GaWVsZHMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYyhiLmZpZWxkSWQudG9TdHJpbmcoKT09PWEuZmllbGRJZC50b1N0cmluZygpKX0sZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtyZXR1cm4gYSYmYVswXSYmYVswXS5maWVsZFZhbHVlcyYmKGI9YVswXS5maWVsZFZhbHVlcyksYyh2b2lkIDAsYil9KTpjKCl9ZnVuY3Rpb24gbyhhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGImJihjPWIsYj1udWxsKSxsKGZ1bmN0aW9uKGQpe3JldHVybiBkP2MoZCk6dm9pZCBtKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YyhhKTp2b2lkIGYud2F0ZXJmYWxsKFtmdW5jdGlvbihhKXtyZXR1cm4gYSh2b2lkIDAse3ZhbGlkYXRpb246e3ZhbGlkOiEwfX0pfSxmdW5jdGlvbihhLGMpe3AoYSxiLGMpfSxxXSxmdW5jdGlvbihhLGIpe3JldHVybiBhP2MoYSk6Yyh2b2lkIDAsYil9KX0pfSl9ZnVuY3Rpb24gcChhLGIsYyl7Zi5lYWNoKFguZm9ybUZpZWxkcyxmdW5jdGlvbihjLGQpe3ZhciBlPWMuZmllbGRJZCxmPVpbZV07bihjLGIsZnVuY3Rpb24oYixnKXtyZXR1cm4gYj9kKGIpOnZvaWQgdShjLGYsZyxmdW5jdGlvbihiLGMpe3JldHVybiBiP2QoYik6KGMudmFsaWR8fChhLnZhbGlkYXRpb24udmFsaWQ9ITEsYS52YWxpZGF0aW9uW2VdPWMpLGQoKSl9KX0pfSxmdW5jdGlvbihiKXtyZXR1cm4gYj9jKGIpOmModm9pZCAwLGEpfSl9ZnVuY3Rpb24gcShhLGIpe2YuZWFjaChPYmplY3Qua2V5cyhhYiksZnVuY3Rpb24oYixjKXt2YXIgZD17fTtyZXR1cm4gYWJbYl0uc3VibWl0dGVkP2MoKTp2b2lkIFUoYiwhMCxmdW5jdGlvbihlLGYpe3JldHVybiBlP2MoZSk6KGYmJihkLmZpZWxkSWQ9YixkLnZhbGlkPSExLGQuZmllbGRFcnJvck1lc3NhZ2U9WyJSZXF1aXJlZCBGaWVsZCBOb3QgU3VibWl0dGVkIl0sYS52YWxpZGF0aW9uW2JdPWQsYS52YWxpZGF0aW9uLnZhbGlkPSExKSxjKCkpfSl9LGZ1bmN0aW9uKGMpe3JldHVybiBjP2IoYyk6Yih2b2lkIDAsYSl9KX1mdW5jdGlvbiByKGEsYixjKXtsKGZ1bmN0aW9uKGQpe3JldHVybiBkP2MoZCk6dm9pZCBtKGIsZnVuY3Rpb24oYil7aWYoYilyZXR1cm4gYyhiKTt2YXIgZD1mYlthXSxlPVpbYV07dShkLGUsbnVsbCxmdW5jdGlvbihiLGQpe2lmKGIpcmV0dXJuIGMoYik7dmFyIGU9e3ZhbGlkYXRpb246e319O3JldHVybiBlLnZhbGlkYXRpb25bYV09ZCxjKHZvaWQgMCxlKX0pfSl9KX1mdW5jdGlvbiBzKGEsYixjLGQpe2Z1bmN0aW9uIGUoYixjKXt2YXIgZD17ZXJyb3JNZXNzYWdlczpbXX07cmV0dXJuIGImJmQuZXJyb3JNZXNzYWdlcy5wdXNoKGIpLHQoYSxkLGZ1bmN0aW9uKGIsZCl7aWYoYilyZXR1cm4gYyhiKTt2YXIgZT17dmFsaWRhdGlvbjp7fX07cmV0dXJuIGUudmFsaWRhdGlvblthXT1kLGModm9pZCAwLGUpfSl9ImZ1bmN0aW9uIj09dHlwZW9mIGMmJihkPWMsYz0wKSxsKGZ1bmN0aW9uKGYpe2lmKGYpcmV0dXJuIGQoZik7dmFyIGc9WlthXSxoPSExO2g9Zy5yZXBlYXRpbmcmJmcuZmllbGRPcHRpb25zJiZnLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uJiZnLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm1pblJlcGVhdD9jPGcuZmllbGRPcHRpb25zLmRlZmluaXRpb24ubWluUmVwZWF0OmcucmVxdWlyZWQ7dmFyIGk9Zy5maWVsZE9wdGlvbnMmJmcuZmllbGRPcHRpb25zLnZhbGlkYXRpb24/Zy5maWVsZE9wdGlvbnMudmFsaWRhdGlvbjp2b2lkIDA7aWYoaSYmITE9PT1pLnZhbGlkYXRlSW1tZWRpYXRlbHkpe3ZhciBqPXt2YWxpZGF0aW9uOnt9fTtyZXR1cm4gai52YWxpZGF0aW9uW2FdPXt2YWxpZDohMH0sZCh2b2lkIDAsail9cmV0dXJuIHkoYik/aD9lKCJObyB2YWx1ZSBzcGVjaWZpZWQgZm9yIHJlcXVpcmVkIGlucHV0IixkKTplKHZvaWQgMCxkKTp2b2lkIHgoZy50eXBlLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGE/ZChhKTp2b2lkIGMoYixnLHZvaWQgMCxmdW5jdGlvbihhKXt2YXIgYjthJiYoYj1hLm1lc3NhZ2U/YS5tZXNzYWdlOiJVbmtub3duIGVycm9yIG1lc3NhZ2UiKSxlKGIsZCl9KX0pfSl9ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9e307ZC5maWVsZElkPWEsZC5lcnJvck1lc3NhZ2VzPWIuZXJyb3JNZXNzYWdlc3x8W10sZC5maWVsZEVycm9yTWVzc2FnZT1iLmZpZWxkRXJyb3JNZXNzYWdlfHxbXSxmLnNvbWUoZC5lcnJvck1lc3NhZ2VzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIobnVsbCE9PWEpfSxmdW5jdGlvbihhKXtyZXR1cm4gZC52YWxpZD0hYSYmZC5maWVsZEVycm9yTWVzc2FnZS5sZW5ndGg8MSxjKHZvaWQgMCxkKX0pfWZ1bmN0aW9uIHUoYSxiLGMsZCl7VShiLl9pZCwhMCxmdW5jdGlvbihlLGYpe3JldHVybiBlP2QoZSk6dm9pZCB6KGEsYixjLGYsZnVuY3Rpb24oYixjKXtyZXR1cm4gYj9kKGIpOnZvaWQgdChhLmZpZWxkSWQsYyxkKX0pfSl9ZnVuY3Rpb24gdihhLGIsYyl7dmFyIGQ9YlthXTtyZXR1cm4gZD9jKHZvaWQgMCxkKTpjKG5ldyBFcnJvcigiSW52YWxpZCBGaWVsZCBUeXBlICIrYSkpfWZ1bmN0aW9uIHcoYSxiKXtyZXR1cm4gdihhLGdiLGIpfWZ1bmN0aW9uIHgoYSxiKXtyZXR1cm4gdihhLGhiLGIpfWZ1bmN0aW9uIHkoYSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBhfHxudWxsPT09YXx8IiI9PT1hfWZ1bmN0aW9uIHooYSxiLGMsZCxlKXtmdW5jdGlvbiBnKGEsYixjLGQpe2lmKCFiLnJlcXVpcmVkKXJldHVybiBkKHZvaWQgMCxudWxsKTt2YXIgZT1hJiZhLmZpZWxkVmFsdWVzJiZhLmZpZWxkVmFsdWVzLmxlbmd0aD4wO3JldHVybiFlJiZjP2Qodm9pZCAwLCJObyB2YWx1ZSBzdWJtaXR0ZWQgZm9yIGZpZWxkICIrYi5uYW1lKTpkKHZvaWQgMCxudWxsKX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9MDtpZihhJiZhLmZpZWxkVmFsdWVzJiZhLmZpZWxkVmFsdWVzLmxlbmd0aD4wKWZvcih2YXIgZD0wO2Q8YS5maWVsZFZhbHVlcy5sZW5ndGg7ZCs9MSlhLmZpZWxkVmFsdWVzW2RdJiYoYys9MSk7cmV0dXJuIGIodm9pZCAwLGMpfWZ1bmN0aW9uIGkoYSxiLGMsZCl7aWYoIWMpcmV0dXJuIGQodm9pZCAwLG51bGwpO2lmKGIucmVwZWF0aW5nJiZiLmZpZWxkT3B0aW9ucyYmYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbil7aWYoYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5taW5SZXBlYXQmJmE8Yi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5taW5SZXBlYXQpcmV0dXJuIGQodm9pZCAwLCJFeHBlY3RlZCBtaW4gb2YgIitiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm1pblJlcGVhdCsiIHZhbHVlcyBmb3IgZmllbGQgIitiLm5hbWUrIiBidXQgZ290ICIrYSk7aWYoYi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5tYXhSZXBlYXQmJmE+Yi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5tYXhSZXBlYXQpcmV0dXJuIGQodm9pZCAwLCJFeHBlY3RlZCBtYXggb2YgIitiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm1heFJlcGVhdCsiIHZhbHVlcyBmb3IgZmllbGQgIitiLm5hbWUrIiBidXQgZ290ICIrYSl9ZWxzZSBpZihhPjEpcmV0dXJuIGQodm9pZCAwLCJTaG91bGQgbm90IGhhdmUgbXVsdGlwbGUgdmFsdWVzIGZvciBub24tcmVwZWF0aW5nIGZpZWxkIik7cmV0dXJuIGQodm9pZCAwLG51bGwpfWZ1bmN0aW9uIGooYSxiLGMsZCl7dyhiLnR5cGUsZnVuY3Rpb24oZSxnKXtyZXR1cm4gZT9kKGUpOnZvaWQgZi5tYXAoYS5maWVsZFZhbHVlcyxmdW5jdGlvbihhLGQpe3JldHVybiB5KGEpP2Qodm9pZCAwLG51bGwpOnZvaWQgZyhhLGIsYyxmdW5jdGlvbihhKXt2YXIgYztyZXR1cm4gYz1hP2EubWVzc2FnZXx8IkVycm9yIGR1cmluZyB2YWxpZGF0aW9uIG9mIGZpZWxkIjpudWxsLGFiW2IuX2lkXSYmKGFiW2IuX2lkXS5zdWJtaXR0ZWQ9ITApLGQodm9pZCAwLGMpfSl9LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/ZChhKTpkKHZvaWQgMCxiKX0pfSl9Yz1jfHxudWxsLGgoYSxmdW5jdGlvbihoLGspe3JldHVybiBoP2UoaCk6dm9pZCBmLnNlcmllcyh7dmFsdWVzU3VibWl0dGVkOmYuYXBwbHkoZyxhLGIsZCkscmVwZWF0czpmLmFwcGx5KGksayxiLGQpLHZhbHVlczpmLmFwcGx5KGosYSxiLGMpfSxmdW5jdGlvbihhLGIpe2lmKGEpcmV0dXJuIGUoYSk7dmFyIGM9W107cmV0dXJuIGIudmFsdWVzU3VibWl0dGVkJiZjLnB1c2goYi52YWx1ZXNTdWJtaXR0ZWQpLGIucmVwZWF0cyYmYy5wdXNoKGIucmVwZWF0cyksZSh2b2lkIDAse2ZpZWxkRXJyb3JNZXNzYWdlOmMsZXJyb3JNZXNzYWdlczpiLnZhbHVlc30pfSl9KX1mdW5jdGlvbiBBKGEpe3ZhciBiLGMsZCxlPSJeIixmPSJjIi5jaGFyQ29kZUF0KDApLGc9Im4iLmNoYXJDb2RlQXQoMCksaD1hLmxlbmd0aDtmb3IoYj0wO2g+YjtiKz0xKXtzd2l0Y2goYz1hLmNoYXJDb2RlQXQoYikpe2Nhc2UgZjpkPSJbYS16QS1aMC05XSI7YnJlYWs7Y2FzZSBnOmQ9IlswLTldIjticmVhaztkZWZhdWx0OnZhciBpPWMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7ZD0iXFx1IisoIjAwMDAiK2kpLnN1YnN0cigtNCl9ZSs9ZH1yZXR1cm4gZSsiJCJ9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPW5ldyBSZWdFeHAoYik7cmV0dXJuIGMudGVzdChhKX1mdW5jdGlvbiBDKGEsYixjKXt2YXIgZDtyZXR1cm4gZD0ic2ltcGxlIj09PWI/QShjKToicmVnZXgiPT09Yj9jOkEoYyksQihhLGQpfWZ1bmN0aW9uIEQoYSxiLGMsZCl7aWYoInN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBkKG5ldyBFcnJvcigiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgIit0eXBlb2YgYSkpO3ZhciBlPXt9O2ImJmIuZmllbGRPcHRpb25zJiZiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uJiYoZT1iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uKTt2YXIgZj1lLmZpZWxkX2Zvcm1hdF9tb2RlfHwiIjtmPWYudHJpbSgpO3ZhciBnPWUuZmllbGRfZm9ybWF0X3N0cmluZ3x8IiI7cmV0dXJuIGc9Zy50cmltKCksZyYmZy5sZW5ndGg+MCYmZiYmZi5sZW5ndGg+MCYmIUMoYSxmLGcpP2QobmV3IEVycm9yKCJmaWVsZCB2YWx1ZSBpbiBpbmNvcnJlY3QgZm9ybWF0LCBleHBlY3RlZCBmb3JtYXQ6ICIrZysiIGJ1dCBzdWJtaXNzaW9uIHZhbHVlIGlzOiAiK2EpKTpiLmZpZWxkT3B0aW9ucyYmYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbiYmYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbi5taW4mJmEubGVuZ3RoPGIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24ubWluP2QobmV3IEVycm9yKCJFeHBlY3RlZCBtaW5pbXVtIHN0cmluZyBsZW5ndGggb2YgIitiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbisiIGJ1dCBzdWJtaXNzaW9uIGlzICIrYS5sZW5ndGgrIi4gU3VibWl0dGVkIHZhbDogIithKSk6Yi5maWVsZE9wdGlvbnMmJmIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24mJmIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24ubWF4JiZhLmxlbmd0aD5iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heD9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbWF4aW11bSBzdHJpbmcgbGVuZ3RoIG9mICIrYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbi5tYXgrIiBidXQgc3VibWlzc2lvbiBpcyAiK2EubGVuZ3RoKyIuIFN1Ym1pdHRlZCB2YWw6ICIrYSkpOmQoKX1mdW5jdGlvbiBFKGEsYixjLGQpe3ZhciBlPWEtMCxmPWU9PWE7cmV0dXJuIGY/RihlLGIsYyxkKTpkKG5ldyBFcnJvcigiRXhwZWN0ZWQgbnVtZXJpYyBidXQgZ290OiAiK2EpKX1mdW5jdGlvbiBGKGEsYixjLGQpe3JldHVybiJudW1iZXIiIT10eXBlb2YgYT9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbnVtYmVyIGJ1dCBnb3QgIit0eXBlb2YgYSkpOmIuZmllbGRPcHRpb25zJiZiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uJiZiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbiYmYTxiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbj9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbWluaW11bSBOdW1iZXIgIitiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1pbisiIGJ1dCBzdWJtaXNzaW9uIGlzICIrYSsiLiBTdWJtaXR0ZWQgbnVtYmVyOiAiK2EpKTpiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heCYmYT5iLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heD9kKG5ldyBFcnJvcigiRXhwZWN0ZWQgbWF4aW11bSBOdW1iZXIgIitiLmZpZWxkT3B0aW9ucy52YWxpZGF0aW9uLm1heCsiIGJ1dCBzdWJtaXNzaW9uIGlzICIrYSsiLiBTdWJtaXR0ZWQgbnVtYmVyOiAiK2EpKTpkKCl9ZnVuY3Rpb24gRyhhLGIsYyxkKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIHN0cmluZyBidXQgZ290ICIrdHlwZW9mIGEpKTpudWxsPT09YS5tYXRjaCgvWy0wLTlhLXpBLVouK19dK0BbLTAtOWEtekEtWi4rX10rXC5bYS16QS1aXXsyLDR9L2cpP2QobmV3IEVycm9yKCJJbnZhbGlkIGVtYWlsIGFkZHJlc3MgZm9ybWF0OiAiK2EpKTpkKCl9ZnVuY3Rpb24gSChhLGIsYyxkKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIHN1Ym1pc3Npb24gdG8gYmUgc3RyaW5nIGJ1dCBnb3QgIit0eXBlb2YgYSkpOmIuZmllbGRPcHRpb25zLmRlZmluaXRpb24ub3B0aW9ucz92b2lkIGYuc29tZShiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm9wdGlvbnMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYyhiLmxhYmVsPT09YSl9LGZ1bmN0aW9uKGIpe3JldHVybiBiP2QoKTpkKG5ldyBFcnJvcigiSW52YWxpZCBvcHRpb24gc3BlY2lmaWVkOiAiK2EpKX0pOmQobmV3IEVycm9yKCJObyBvcHRpb25zIGV4aXN0IGZvciBmaWVsZCAiK2IubmFtZSkpfWZ1bmN0aW9uIEkoYSxiLGMsZCl7dmFyIGU7YiYmYi5maWVsZE9wdGlvbnMmJmIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24mJihlPWIuZmllbGRPcHRpb25zLnZhbGlkYXRpb24ubWluKTt2YXIgZztpZihiJiZiLmZpZWxkT3B0aW9ucyYmYi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbiYmKGc9Yi5maWVsZE9wdGlvbnMudmFsaWRhdGlvbi5tYXgpLGUmJihudWxsPT09YS5zZWxlY3Rpb25zfHx2b2lkIDA9PT1hLnNlbGVjdGlvbnN8fGEuc2VsZWN0aW9ucy5sZW5ndGg8ZSkpe3ZhciBoO3JldHVybiBhLnNlbGVjdGlvbnMmJihoPWEuc2VsZWN0aW9ucy5sZW5ndGgpLGQobmV3IEVycm9yKCJFeHBlY3RlZCBhIG1pbmltdW0gbnVtYmVyIG9mIHNlbGVjdGlvbnMgIitlKyIgYnV0IGdvdCAiK2gpKX1pZihnJiZhLnNlbGVjdGlvbnMmJmEuc2VsZWN0aW9ucy5sZW5ndGg+ZylyZXR1cm4gZChuZXcgRXJyb3IoIkV4cGVjdGVkIGEgbWF4aW11bSBudW1iZXIgb2Ygc2VsZWN0aW9ucyAiK2crIiBidXQgZ290ICIrYS5zZWxlY3Rpb25zLmxlbmd0aCkpO3ZhciBpPVtdO2YuZWFjaFNlcmllcyhiLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLm9wdGlvbnMsZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSlpLnB1c2goYVtjXSk7cmV0dXJuIGIoKX0sZnVuY3Rpb24oKXtmLmVhY2hTZXJpZXMoYS5zZWxlY3Rpb25zLGZ1bmN0aW9uKGEsYil7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhP2IobmV3IEVycm9yKCJFeHBlY3RlZCBjaGVja2JveCBzdWJtaXNzaW9uIHRvIGJlIHN0cmluZyBidXQgZ290ICIrdHlwZW9mIGEpKTotMT09PWkuaW5kZXhPZihhKT9iKG5ldyBFcnJvcigiQ2hlY2tib3ggT3B0aW9uICIrYSsiIGRvZXMgbm90IGV4aXN0IGluIHRoZSBmaWVsZC4iKSk6YigpfSxkKX0pfWZ1bmN0aW9uIEooYSxiLGMsZCl7cmV0dXJuIGEubGF0JiZhWyJsb25nIl0/aXNOYU4ocGFyc2VGbG9hdChhLmxhdCkpfHxpc05hTihwYXJzZUZsb2F0KGFbImxvbmciXSkpP2QobmV3IEVycm9yKCJJbnZhbGlkIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgdmFsdWVzIikpOmQoKTpkKG5ldyBFcnJvcigiSW52YWxpZCBvYmplY3QgZm9yIGxvY2F0aW9uTWFwIHN1Ym1pc3Npb24iKSl9ZnVuY3Rpb24gSyhhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYil7aWYoInN0cmluZyIhPXR5cGVvZiBhLnpvbmV8fDA9PT1hLnpvbmUubGVuZ3RoKXJldHVybiBiKG5ldyBFcnJvcigiSW52YWxpZCB6b25lIGRlZmluaXRpb24gZm9yIG5vcnRoaW5ncyBhbmQgZWFzdGluZ3MgbG9jYXRpb24uICIrYS56b25lKSk7dmFyIGM9cGFyc2VJbnQoYS5lYXN0aW5ncywxMCk7aWYoaXNOYU4oYykpcmV0dXJuIGIobmV3IEVycm9yKCJJbnZhbGlkIGVhc3RpbmdzIGRlZmluaXRpb24gZm9yIG5vcnRoaW5ncyBhbmQgZWFzdGluZ3MgbG9jYXRpb24uICIrYS5lYXN0aW5ncykpO3ZhciBkPXBhcnNlSW50KGEubm9ydGhpbmdzLDEwKTtyZXR1cm4gaXNOYU4oZCk/YihuZXcgRXJyb3IoIkludmFsaWQgbm9ydGhpbmdzIGRlZmluaXRpb24gZm9yIG5vcnRoaW5ncyBhbmQgZWFzdGluZ3MgbG9jYXRpb24uICIrYS5ub3J0aGluZ3MpKTpiKCl9cmV0dXJuImxhdGxvbmciPT09Yi5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5sb2NhdGlvblVuaXQ/YS5sYXQmJmFbImxvbmciXT9pc05hTihwYXJzZUZsb2F0KGEubGF0KSl8fGlzTmFOKHBhcnNlRmxvYXQoYVsibG9uZyJdKSk/ZChuZXcgRXJyb3IoIkludmFsaWQgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSB2YWx1ZXMiKSk6ZCgpOmQobmV3IEVycm9yKCJJbnZhbGlkIG9iamVjdCBmb3IgbGF0aXR1ZGUgbG9uZ2l0dWRlIHN1Ym1pc3Npb24iKSk6YS56b25lJiZhLmVhc3RpbmdzJiZhLm5vcnRoaW5ncz9lKGEsZCk6ZChuZXcgRXJyb3IoIkludmFsaWQgb2JqZWN0IGZvciBub3J0aGluZ3MgZWFzdGluZyBzdWJtaXNzaW9uLiBab25lLCBFYXN0aW5ncyBhbmQgTm9ydGhpbmdzIGVsZW1ldHMgYXJlIHJlcXVpcmVkIikpfWZ1bmN0aW9uIEwoYSxiLGMsZCl7UChhLGIsYyxmdW5jdGlvbihlKXtyZXR1cm4gZT92b2lkIE4oYSxiLGMsZnVuY3Rpb24oZSl7cmV0dXJuIGU/dm9pZCBPKGEsYixjLGZ1bmN0aW9uKGEpe3JldHVybiBhP2QoYSk6ZCgpfSk6ZCgpfSk6ZCgpfSl9ZnVuY3Rpb24gTShhLGIsYyxkKXthPWF8fHt9O3ZhciBlPWEuZmllbGRPcHRpb25zfHx7fSxmPWUuZGVmaW5pdGlvbnx8e30sZz1mLmZpbGVfc2l6ZXx8bnVsbDtpZihudWxsIT09Zyl7dmFyIGg9YltjXSxpPTE7cmV0dXJuIGg+MWUzJiYoaT1oLzFlMyksaD4xZTMqZz9kKG5ldyBFcnJvcigiRmlsZSBzaXplIGlzIHRvbyBsYXJnZS4gRmlsZSBjYW4gYmUgYSBtYXhpbXVtIG9mICIrZysiS0IuIFNpemUgb2YgZmlsZSBzZWxlY3RlZDogIitpKyJLQiIpKTpkKCl9cmV0dXJuIGQoKX1mdW5jdGlvbiBOKGEsYixjLGQpe2lmKCJvYmplY3QiIT10eXBlb2YgYSlyZXR1cm4gZChuZXcgRXJyb3IoIkV4cGVjdGVkIG9iamVjdCBidXQgZ290ICIrdHlwZW9mIGEpKTt2YXIgZT1be2tleU5hbWU6ImZpbGVOYW1lIix2YWx1ZVR5cGU6InN0cmluZyJ9LHtrZXlOYW1lOiJmaWxlU2l6ZSIsdmFsdWVUeXBlOiJudW1iZXIifSx7a2V5TmFtZToiZmlsZVR5cGUiLHZhbHVlVHlwZToic3RyaW5nIn0se2tleU5hbWU6ImZpbGVVcGRhdGVUaW1lIix2YWx1ZVR5cGU6Im51bWJlciJ9LHtrZXlOYW1lOiJoYXNoTmFtZSIsdmFsdWVUeXBlOiJzdHJpbmcifV07Zi5lYWNoKGUsZnVuY3Rpb24oYixjKXt2YXIgZD10eXBlb2YgYVtiLmtleU5hbWVdO3JldHVybiBkIT09Yi52YWx1ZVR5cGU/YyhuZXcgRXJyb3IoIkV4cGVjdGVkICIrYi52YWx1ZVR5cGUrIiBidXQgZ290ICIrZCkpOiJmaWxlTmFtZSI9PT1iLmtleU5hbWUmJmFbYi5rZXlOYW1lXS5sZW5ndGg8PTA/YyhuZXcgRXJyb3IoIkV4cGVjdGVkIHZhbHVlIGZvciAiK2Iua2V5TmFtZSkpOmMoKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZChlKTp2b2lkIE0oYixhLCJmaWxlU2l6ZSIsZnVuY3Rpb24oYil7cmV0dXJuIGI/ZChiKTphLmhhc2hOYW1lLmluZGV4T2YoImZpbGVQbGFjZUhvbGRlciIpPi0xP2QoKTpjJiZjLmhhc2hOYW1lJiZjLmhhc2hOYW1lLmluZGV4T2YoYS5oYXNoTmFtZSk+LTE/ZCgpOmQobmV3IEVycm9yKCJJbnZhbGlkIGZpbGUgcGxhY2Vob2xkZXIgdGV4dCIrYS5oYXNoTmFtZSkpfSl9KX1mdW5jdGlvbiBPKGEsYixjLGQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBGaWxlKXJldHVybiBkKG5ldyBFcnJvcigiRXhwZWN0ZWQgRmlsZSBvYmplY3QgYnV0IGdvdCAiK3R5cGVvZiBhKSk7dmFyIGU9W3trZXlOYW1lOiJuYW1lIix2YWx1ZVR5cGU6InN0cmluZyJ9LHtrZXlOYW1lOiJzaXplIix2YWx1ZVR5cGU6Im51bWJlciJ9XTtmLmVhY2goZSxmdW5jdGlvbihiLGMpe3ZhciBkPXR5cGVvZiBhW2Iua2V5TmFtZV07cmV0dXJuIGQhPT1iLnZhbHVlVHlwZT9jKG5ldyBFcnJvcigiRXhwZWN0ZWQgIitiLnZhbHVlVHlwZSsiIGJ1dCBnb3QgIitkKSk6InN0cmluZyI9PT1kJiZhW2Iua2V5TmFtZV0ubGVuZ3RoPD0wP2MobmV3IEVycm9yKCJFeHBlY3RlZCB2YWx1ZSBmb3IgIitiLmtleU5hbWUpKToibnVtYmVyIj09PWQmJmFbYi5rZXlOYW1lXTw9MD9jKG5ldyBFcnJvcigiRXhwZWN0ZWQgPiAwIHZhbHVlIGZvciAiK2Iua2V5TmFtZSkpOmMoKX0sZnVuY3Rpb24oYyl7cmV0dXJuIGM/ZChjKTp2b2lkIE0oYixhLCJzaXplIixmdW5jdGlvbihhKXtyZXR1cm4gYT9kKGEpOmQoKX0pfSl9ZnVuY3Rpb24gUChhLGIsYyxkKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIGJhc2U2NCBzdHJpbmcgYnV0IGdvdCAiK3R5cGVvZiBhKSk6YS5sZW5ndGg8PTA/ZChuZXcgRXJyb3IoIkV4cGVjdGVkIGJhc2U2NCBzdHJpbmcgYnV0IHdhcyBlbXB0eSIpKTpkKCl9ZnVuY3Rpb24gUShiLGMsZCxlKXt2YXIgZixnPSExLGg9W107aWYoInN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBlKG5ldyBFcnJvcigiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgIit0eXBlb2YgYikpO3N3aXRjaChjLmZpZWxkT3B0aW9ucy5kZWZpbml0aW9uLmRhdGV0aW1lVW5pdCl7Y2FzZSBpOmg9Yi5zcGxpdCgiLyIpLGc9Mz09PWgubGVuZ3RoLGcmJihnPWEoaFsyXSwxLDMxKSksZyYmKGc9YShoWzFdLDEsMTIpKSxnJiYoZz1hKGhbMF0sMWUzLDk5OTkpKTt0cnl7Zj1nP25ldyBEYXRlKGhbM10saFsxXSxoWzBdKTpuZXcgRGF0ZShiKSxnPSJJbnZhbGlkIERhdGUiIT09Zi50b1N0cmluZygpfWNhdGNoKGwpe2c9ITF9cmV0dXJuIGc/ZSgpOmUobmV3IEVycm9yKCJJbnZhbGlkIGRhdGUgdmFsdWUgIitiKyIuIERhdGUgZm9ybWF0IGlzIFlZWVkvTU0vREQiKSk7Y2FzZSBqOnJldHVybiBoPWIuc3BsaXQoIjoiKSxnPTI9PT1oLmxlbmd0aHx8Mz09PWgubGVuZ3RoLGcmJihnPWEoaFswXSwwLDIzKSksZyYmKGc9YShoWzFdLDAsNTkpKSxnJiYzPT09aC5sZW5ndGgmJihnPWEoaFsyXSwwLDU5KSksZz9lKCk6ZShuZXcgRXJyb3IoIkludmFsaWQgdGltZSB2YWx1ZSAiK2IrIi4gVGltZSBmb3JtYXQgaXMgSEg6TU06U1MiKSk7Y2FzZSBrOmg9Yi5zcGxpdCgvWy0gOl0vKSxnPTY9PT1oLmxlbmd0aHx8NT09PWgubGVuZ3RoLGcmJihnPWEoaFsyXSwxLDMxKSksZyYmKGc9YShoWzFdLDEsMTIpKSxnJiYoZz1hKGhbMF0sMWUzLDk5OTkpKSxnJiYoZz1hKGhbM10sMCwyMykpLGcmJihnPWEoaFs0XSwwLDU5KSksZyYmNj09PWgubGVuZ3RoP2c9YShoWzVdLDAsNTkpOmhbNV09MDt0cnl7Zj1nP25ldyBEYXRlKGhbMF0saFsxXSxoWzJdLGhbM10saFs0XSxoWzVdKTpuZXcgRGF0ZShiKSxnPSJJbnZhbGlkIERhdGUiIT09Zi50b1N0cmluZygpfWNhdGNoKGwpe2c9ITF9cmV0dXJuIGc/ZSgpOmUobmV3IEVycm9yKCJJbnZhbGlkIGRhdGVUaW1lIHN0cmluZyAiK2IrIi4gZGF0ZVRpbWUgZm9ybWF0IGlzIFlZWVkvTU0vREQgSEg6TU06U1MiKSk7ZGVmYXVsdDpyZXR1cm4gZShuZXcgRXJyb3IoIkludmFsaWQgZGF0ZVRpbWUgZmllbGR0eXBlICIrYy5maWVsZE9wdGlvbnMuZGVmaW5pdGlvbi5kYXRldGltZVVuaXQpKX19ZnVuY3Rpb24gUihhLGIsYyxkKXtyZXR1cm4gZChuZXcgRXJyb3IoIlNob3VsZCBub3Qgc3VibWl0IHNlY3Rpb24gZmllbGQ6ICIrYi5uYW1lKSl9ZnVuY3Rpb24gUyhhLGIpe3ZhciBjPSEwO2YuZWFjaChhLGZ1bmN0aW9uKGEsYil7dmFyIGQ9W10sZz1bXTtmLmVhY2goYS5ydWxlQ29uZGl0aW9uYWxTdGF0ZW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGMsZixoPVpbYS5zb3VyY2VGaWVsZF0saT0hMSxqPVtdO3JldHVybiBmYlthLnNvdXJjZUZpZWxkXSYmZmJbYS5zb3VyY2VGaWVsZF0uZmllbGRWYWx1ZXMmJihqPWZiW2Euc291cmNlRmllbGRdLmZpZWxkVmFsdWVzLGM9YS5yZXN0cmljdGlvbixmPWEuc291cmNlVmFsdWUsaT1lKGgsalswXSxmLGMpKSxkLnB1c2goe2ZpZWxkOmgsc3VibWlzc2lvblZhbHVlczpqLGNvbmRpdGlvbjpjLHRlc3RWYWx1ZTpmLHBhc3NlZDppfSksaSYmZy5wdXNoKGgpLGIoKX0sZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZihhLGIsYyl7cmV0dXJuImFuZCI9PT1hJiZiLmxlbmd0aD09PWMubGVuZ3RofHwib3IiPT09YSYmYi5sZW5ndGg+MH1yZXR1cm4gZSYmYihlKSxjPWYoYS5ydWxlQ29uZGl0aW9uYWxPcGVyYXRvcixnLGQpPyJzaG93Ij09PWEudHlwZSYmYzoic2hvdyIhPT1hLnR5cGUmJmMsYigpfSl9LGZ1bmN0aW9uKGEpe3JldHVybiBhP2IoYSk6Yih2b2lkIDAsYyl9KX1mdW5jdGlvbiBUKGEsYil7bChmdW5jdGlvbihjKXtyZXR1cm4gYz9iKGMpOmpiKGEpP1MoZWJbYV0sYik6Yih2b2lkIDAsITApfSl9ZnVuY3Rpb24gVShhLGIsYyl7bChmdW5jdGlvbihkKXtpZihkKXJldHVybiBjKGQpO3ZhciBlPVpbYV07cmV0dXJuICRbYV0/YyhuZXcgRXJyb3IoIlN1Ym1pc3Npb24gIithKyIgaXMgYW4gYWRtaW4gZmllbGQuIEFkbWluIGZpZWxkcyBjYW5ub3QgYmUgcGFzc2VkIHRvIHRoZSBydWxlcyBlbmdpbmUuIikpOmU/dm9pZCBmLndhdGVyZmFsbChbZnVuY3Rpb24oYSl7cmV0dXJuIGI/dm9pZCBUKGUucGFnZUlkLGEpOmEodm9pZCAwLCEwKX0sZnVuY3Rpb24oYixjKXtyZXR1cm4gYj9pYihhKT9TKGNiW2FdLGMpOmModm9pZCAwLCEwKTpjKHZvaWQgMCwhMSl9XSxjKTpjKG5ldyBFcnJvcigiRmllbGQgZG9lcyBub3QgZXhpc3QgaW4gZm9ybSIpKX0pfWZ1bmN0aW9uIFYoYSxiKXtsKGZ1bmN0aW9uKGMpe3JldHVybiBjP2IoYyk6dm9pZCBtKGEsZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gYihhKTt2YXIgYz17fTtmLnBhcmFsbGVsKFtmdW5jdGlvbihhKXtjLmZpZWxkcz17fSxmLmVhY2hTZXJpZXMoT2JqZWN0LmtleXMoY2IpLGZ1bmN0aW9uKGEsYil7VShhLCExLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGQ/YihkKTooYy5maWVsZHNbYV09e3RhcmdldElkOmEsYWN0aW9uOmU/InNob3ciOiJoaWRlIn0sYigpKX0pfSxhKX0sZnVuY3Rpb24oYSl7Yy5wYWdlcz17fSxmLmVhY2hTZXJpZXMoT2JqZWN0LmtleXMoZWIpLGZ1bmN0aW9uKGEsYil7VChhLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGQ/YihkKTooYy5wYWdlc1thXT17dGFyZ2V0SWQ6YSxhY3Rpb246ZT8ic2hvdyI6ImhpZGUifSxiKCkpfSl9LGEpfV0sZnVuY3Rpb24oYSl7cmV0dXJuIGE/YihhKTpiKHZvaWQgMCx7YWN0aW9uczpjfSl9KX0pfSl9dmFyIFcsWCxZPWIsWj17fSwkPXt9LF89e30sYWI9e30sYmI9e30sY2I9e30sZGI9e30sZWI9e30sZmI9e30sZ2I9e3RleHQ6RCx0ZXh0YXJlYTpELG51bWJlcjpFLGVtYWlsQWRkcmVzczpHLGRyb3Bkb3duOkgscmFkaW86SCxjaGVja2JveGVzOkksbG9jYXRpb246Syxsb2NhdGlvbk1hcDpKLHBob3RvOk4sc2lnbmF0dXJlOk4sZmlsZTpOLGRhdGVUaW1lOlEsdXJsOkQsc2VjdGlvbkJyZWFrOlJ9LGhiPXt0ZXh0OkQsdGV4dGFyZWE6RCxudW1iZXI6RSxlbWFpbEFkZHJlc3M6Ryxkcm9wZG93bjpILHJhZGlvOkgsY2hlY2tib3hlczpJLGxvY2F0aW9uOkssbG9jYXRpb25NYXA6SixwaG90bzpMLHNpZ25hdHVyZTpMLGZpbGU6TCxkYXRlVGltZTpRLHVybDpELHNlY3Rpb25CcmVhazpSfSxpYj1mdW5jdGlvbihhKXtyZXR1cm4hIWNiW2FdfSxqYj1mdW5jdGlvbihhKXtyZXR1cm4hIWViW2FdfTtyZXR1cm57dmFsaWRhdGVGb3JtOm8sdmFsaWRhdGVGaWVsZDpyLHZhbGlkYXRlRmllbGRWYWx1ZTpzLGNoZWNrUnVsZXM6Vix2YWxpZGF0ZUZpZWxkSW50ZXJuYWw6eixpbml0U3VibWlzc2lvbjptLGlzRmllbGRWaXNpYmxlOlUsaXNDb25kaXRpb25BY3RpdmU6ZX19OyJ1bmRlZmluZWQiIT10eXBlb2YgZCYmZC5leHBvcnRzJiYoZC5leHBvcnRzPWwpfSgpLGQuZXhwb3J0cyhhKX12YXIgYj1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7dmFyIGQ9e3VwZGF0ZUZvcm1zOiEwfTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGMpYz1hO2Vsc2UgZm9yKHZhciBlIGluIGEpZFtlXT1hW2VdO3ZhciBmPWQuY29uZmlnfHx7fTtiLmNvbmZpZz1iLm1vZGVscy5jb25maWcsYi5jb25maWcuaW5pdChmLGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRm9ybSBjb25maWcgbG9hZGluZyBlcnJvcjogIixhKSxiLm1vZGVscy5sb2cubG9hZExvY2FsKGZ1bmN0aW9uKGEpe2EmJmNvbnNvbGUuZXJyb3IoIkVycm9yIGxvYWRpbmcgY29uZmlnIGZyb20gbG9jYWwgc3RvcmFnZSIpLGIubW9kZWxzLnN1Ym1pc3Npb25zLmxvYWRMb2NhbChmdW5jdGlvbihhKXthJiZjb25zb2xlLmVycm9yKCJFcnJvciBsb2FkaW5nIHN1Ym1pc3Npb25zIiksYi5tb2RlbHMudXBsb2FkTWFuYWdlci5sb2FkTG9jYWwoZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJVcGxvYWQgTWFuYWdlciBsb2FkZWQgZnJvbSBtZW1vcnkuIiksYSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBsb2FkaW5nIHVwbG9hZCBtYW5hZ2VyIGZyb20gbWVtb3J5ICIsYSksYi5tb2RlbHMudXBsb2FkTWFuYWdlci5zdGFydCgpLCRmaC5mb3Jtcy5sb2cubCgiUmVmcmVzaGluZyBUaGVtZS4iKSxiLm1vZGVscy50aGVtZS5yZWZyZXNoKCEwLGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgcmVmcmVzaGluZyB0aGVtZSAiLGEpLGQudXBkYXRlRm9ybXM9PT0hMD8oJGZoLmZvcm1zLmxvZy5sKCJSZWZyZXNoaW5nIEZvcm1zLiIpLGIubW9kZWxzLmZvcm1zLnJlZnJlc2goITAsZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciByZWZyZXNoaW5nIGZvcm1zOiAiLGEpLGMoKX0pKTpjKCl9KX0pfSl9KX0pfXJldHVybiBhLmluaXQ9YyxhfShifHx7fSk7Yi51dGlscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuUGhvbmVnYXB8fCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmNvcmRvdmF9ZnVuY3Rpb24gYyhhLGIpe2lmKGIuY29uc3RydWN0b3ImJmIuY29uc3RydWN0b3I9PT1GdW5jdGlvbilmb3IodmFyIGMgaW4gYi5wcm90b3R5cGUpYS5wcm90b3R5cGVbY109Yi5wcm90b3R5cGVbY107ZWxzZSBmb3IodmFyIGQgaW4gYilhLnByb3RvdHlwZVtkXT1iW2RdfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bmV3IERhdGU7cmV0dXJuIGE/Yi5nZXRUaW1lem9uZU9mZnNldCgpOmJ9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmdldFByb3BzKCksYz1iLl9pZCxlPWIuX3R5cGUsZj1kKCkuZ2V0VGltZSgpO3JldHVybiBjJiZlP2MrIl8iK2UrIl8iK2Y6Yz9jKyJfIitmOmU/ZSsiXyIrZjpmfWZ1bmN0aW9uIGYoYSxiKXsidW5kZWZpbmVkIiE9dHlwZW9mICRmaCYmJGZoLmhhc2g/JGZoLmhhc2goe2FsZ29yaXRobToiTUQ1Iix0ZXh0OmF9LGZ1bmN0aW9uKGEpe2EmJmEuaGFzaHZhbHVlP2IobnVsbCxhLmhhc2h2YWx1ZSk6YigiQ3J5cHRvIGZhaWxlZC4iKX0pOmIoIkNyeXB0byBub3QgZm91bmQiKX1mdW5jdGlvbiBnKGEsYil7JGZoLmZvcm1zLmxvZy5kKCJTZW5kaW5nIG1haWw6ICIsYSksJGZoLnNlbmQoYSxmdW5jdGlvbigpe2IobnVsbCl9LGZ1bmN0aW9uKGEpe2IoYSl9KX1yZXR1cm4gYS5leHRlbmQ9YyxhLmxvY2FsSWQ9ZSxhLm1kNT1mLGEuZ2V0VGltZT1kLGEuc2VuZD1nLGEuaXNQaG9uZUdhcD1iLGF9KGIudXRpbHN8fHt9KSxiLnV0aWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gcigpLHN9ZnVuY3Rpb24gZChhLGIpe2lmKCFhIGluc3RhbmNlb2YgRmlsZSlyZXR1cm4gYigiT25seSBmaWxlIG9iamVjdCBjYW4gYmUgdXNlZCBmb3IgY29udmVydGluZyIpO3ZhciBjPW5ldyBGaWxlUmVhZGVyO2Mub25sb2FkZW5kPWZ1bmN0aW9uKGEpe3ZhciBjPWEudGFyZ2V0LnJlc3VsdDtyZXR1cm4gYihudWxsLGMpfSxjLnJlYWRBc0RhdGFVUkwoYSl9ZnVuY3Rpb24gZShhKXt2YXIgYztpZihiLnV0aWxzLmlzUGhvbmVHYXAoKSljPWE7ZWxzZXt2YXIgZD0idGV4dC9wbGFpbiI7dHJ5e2M9bmV3IEJsb2IoW2FdLHt0eXBlOmR9KX1jYXRjaChlKXt2YXIgZj13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyfHx3aW5kb3cuTVNCbG9iQnVpbGRlcjtpZigiVHlwZUVycm9yIj09PWUubmFtZSYmZil7dmFyIGc9bmV3IGY7Zy5hcHBlbmQoW2EuYnVmZmVyXSksYz1nLmdldEJsb2IoZCl9ZWxzZSBjPWF9fXJldHVybiBjfWZ1bmN0aW9uIGYoYSl7aCgiZHVtbXkudHh0IiwiVGVzdENvbnRuZXQiLGZ1bmN0aW9uKGIpe3JldHVybiBiP2EoYik6dm9pZCBwKCJkdW1teS50eHQiLDAse30sZnVuY3Rpb24oYixjKXt2YXIgZD1jLmZ1bGxQYXRoLnJlcGxhY2UoImR1bW15LnR4dCIsIiIpO3JldHVybiBjLnJlbW92ZSgpLGEobnVsbCxkKX0pfSl9ZnVuY3Rpb24gZyhhKXt2YXIgYj1udWxsO2lmKCJvYmplY3QiPT10eXBlb2YgYSYmbnVsbCE9PWEpaWYoYSBpbnN0YW5jZW9mIEZpbGV8fGEgaW5zdGFuY2VvZiBCbG9iKWI9YTtlbHNle3ZhciBjPUpTT04uc3RyaW5naWZ5KGEpO2I9ZShjKX1lbHNlInN0cmluZyI9PXR5cGVvZiBhJiYoYj1lKGEpKTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYyxkKXt2YXIgZT1nKGMpO2lmKG51bGw9PT1lKXJldHVybiBkKCJJbnZhbGlkIGNvbnRlbnQgdHlwZS4gT2JqZWN0IHdhcyBudWxsIik7dmFyIGY9ZS5zaXplfHxlLmxlbmd0aDtwKGEsZix7Y3JlYXRlOiEwfSxmdW5jdGlvbihjLGYpe2M/ZChjKTpiLnV0aWxzLmlzUGhvbmVHYXAoKSYmZSBpbnN0YW5jZW9mIEZpbGU/Zi5nZXRQYXJlbnQoZnVuY3Rpb24oYil7byhlLmZ1bGxQYXRoLGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGM/ZChjKTooYT1mLm5hbWUsdm9pZCBmLnJlbW92ZShmdW5jdGlvbigpe2UuY29weVRvKGIsYSxmdW5jdGlvbihhKXtyZXR1cm4gZChudWxsLGEpfSxmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0pfSxmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0pKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSl9KX0sZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSl9KTpmLmNyZWF0ZVdyaXRlcihmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBkKG51bGwsYSl9ZnVuY3Rpb24gYygpe2Eub253cml0ZWVuZD1iLGEud3JpdGUoZSl9YS5vbndyaXRlZW5kPWMsYS50cnVuY2F0ZSgwKX0sZnVuY3Rpb24oYSl7ZCgiRmFpbGVkIHRvIGNyZWF0ZSBmaWxlIHdyaXRlOiIrYSl9KX0pfWZ1bmN0aW9uIGkoYSxiKXtwKGEsMCx7fSxmdW5jdGlvbihhLGMpe3JldHVybiBhPyJOb3RGb3VuZEVycm9yIiE9PWEubmFtZSYmMSE9PWEuY29kZT9iKGEpOmIobnVsbCxudWxsKTp2b2lkIGMucmVtb3ZlKGZ1bmN0aW9uKCl7YihudWxsLG51bGwpfSxmdW5jdGlvbihhKXtiKCJGYWlsZWQgdG8gcmVtb3ZlIGZpbGUiK2EpfSl9KX1mdW5jdGlvbiBqKGEsYil7bihhLGZ1bmN0aW9uKGEsYyl7aWYoYSliKGEpO2Vsc2V7dmFyIGQ9bmV3IEZpbGVSZWFkZXI7ZC5vbmxvYWRlbmQ9ZnVuY3Rpb24oYSl7dmFyIGM9YS50YXJnZXQucmVzdWx0OyJvYmplY3QiPT10eXBlb2YgYyYmKGM9SlNPTi5zdHJpbmdpZnkoYykpO3RyeXtjPWRlY29kZVVSSUNvbXBvbmVudChjKX1jYXRjaChkKXt9cmV0dXJuIGIobnVsbCxjKX0sZC5yZWFkQXNUZXh0KGMpfX0pfWZ1bmN0aW9uIGsoYSxiKXtuKGEsZnVuY3Rpb24oYSxjKXtpZihhKXJldHVybiBiKGEpO3ZhciBkPW5ldyBGaWxlUmVhZGVyO2Qub25sb2FkZW5kPWZ1bmN0aW9uKGEpe3ZhciBjPWEudGFyZ2V0LnJlc3VsdDtyZXR1cm4gYihudWxsLGMpfSxkLnJlYWRBc0RhdGFVUkwoYyl9KX1mdW5jdGlvbiBsKGEsYil7bihhLGZ1bmN0aW9uKGEsYyl7aWYoYSlyZXR1cm4gYihhKTt2YXIgZD1jLnR5cGUsZT1uZXcgRmlsZVJlYWRlcjtlLm9ubG9hZGVuZD1mdW5jdGlvbihhKXt2YXIgYz1hLnRhcmdldC5yZXN1bHQsZT1uZXcgQmxvYihbY10se3R5cGU6ZH0pO2IobnVsbCxlKX0sZS5yZWFkQXNBcnJheUJ1ZmZlcihjKX0pfWZ1bmN0aW9uIG0oYSxiKXtuKGEsYil9ZnVuY3Rpb24gbihhLGIpe3AoYSwwLHt9LGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGE/YihhKTp2b2lkIGMuZmlsZShmdW5jdGlvbihhKXtiKG51bGwsYSl9LGZ1bmN0aW9uKGEpe2IoYSl9KX0pfWZ1bmN0aW9uIG8oYSxiKXstMT09PWEuaW5kZXhPZigiZmlsZTovLyIpJiYiV2luMzJOVCIhPT13aW5kb3cuZGV2aWNlLnBsYXRmb3JtJiYoYT0iZmlsZTovLyIrYSksd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkkoYSxmdW5jdGlvbihhKXtyZXR1cm4gYihudWxsLGEpfSxmdW5jdGlvbihhKXtyZXR1cm4gYihhKX0pfWZ1bmN0aW9uIHAoYSxjLGQsZSl7cigpLCJzdHJpbmciPT10eXBlb2YgYT90KHUsYyxmdW5jdGlvbihmKXtmLnJvb3QuZ2V0RmlsZShhLGQsZnVuY3Rpb24oYSl7ZShudWxsLGEpfSxmdW5jdGlvbihmKXtpZigiUXVvdGFFeGNlZWRlZEVycm9yIj09PWYubmFtZXx8MTA9PT1mLmNvZGUpe3ZhciBnPTEwNzM3NDE4MjQ7cShnLGZ1bmN0aW9uKCl7cChhLGMsZCxlKX0pfWVsc2V7aWYoIWIudXRpbHMuaXNQaG9uZUdhcCgpKXJldHVybiBlKGYpO28oYSxlKX19KX0sZnVuY3Rpb24oKXtlKCJGYWlsZWQgdG8gcmVxdWVzdEZpbGVTeXN0ZW0iKX0pOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlKCJFeHBlY3RlZCBmaWxlIG5hbWUgdG8gYmUgYSBzdHJpbmcgYnV0IHdhcyAiK2EpfWZ1bmN0aW9uIHEoYSxiKXtuYXZpZ2F0b3Iud2Via2l0UGVyc2lzdGVudFN0b3JhZ2U/bmF2aWdhdG9yLndlYmtpdFBlcnNpc3RlbnRTdG9yYWdlLnJlcXVlc3RRdW90YShhLGZ1bmN0aW9uKGEpe2IobnVsbCxhKX0sZnVuY3Rpb24oYSl7YihhLDApfSk6YihudWxsLGEpfWZ1bmN0aW9uIHIoKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0/KHQ9d2luZG93LnJlcXVlc3RGaWxlU3lzdGVtLHM9ITApOndpbmRvdy53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbT8odD13aW5kb3cud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0scz0hMCk6cz0hMSx3aW5kb3cuTG9jYWxGaWxlU3lzdGVtP3U9d2luZG93LkxvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5UOndpbmRvdy5QRVJTSVNURU5UJiYodT13aW5kb3cuUEVSU0lTVEVOVCl9YS5maWxlU3lzdGVtPXtpc0ZpbGVTeXN0ZW1BdmFpbGFibGU6YyxzYXZlOmgscmVtb3ZlOmkscmVhZEFzVGV4dDpqLHJlYWRBc0Jsb2I6bCxyZWFkQXNCYXNlNjRFbmNvZGVkOmsscmVhZEFzRmlsZTptLGZpbGVUb0Jhc2U2NDpkLGdldEJhc2VQYXRoOmZ9O3ZhciBzPSExLHQ9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJObyBmaWxlIHN5c3RlbSBhdmFpbGFibGUiKX0sdT0xO3JldHVybiByKCksYX0oYi51dGlsc3x8e30pLGIudXRpbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBpKCksbX1mdW5jdGlvbiBjKCl7cmV0dXJuIGkoKSxsfWZ1bmN0aW9uIGQoYSxiKXtpKCksaChhLGIpfWZ1bmN0aW9uIGUoKXtxJiYocS5zdG9wKCkscT1udWxsKX1mdW5jdGlvbiBmKGEsYil7YT1hfHx7fSwkZmguZm9ybXMubG9nLmQoIlRha2luZyBwaG90byAiLGEsbCk7dmFyIGM9YS50YXJnZXRXaWR0aD9hLnRhcmdldFdpZHRoOiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJ0YXJnZXRXaWR0aCIsNjQwKSxkPWEudGFyZ2V0SGVpZ2h0P2EudGFyZ2V0SGVpZ2h0OiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJ0YXJnZXRIZWlnaHQiLDQ4MCksZT1hLnF1YWxpdHk/YS5xdWFsaXR5OiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJxdWFsaXR5Iiw1MCksZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuc2F2ZVRvUGhvdG9BbGJ1bT9hLnNhdmVUb1Bob3RvQWxidW06JGZoLmZvcm1zLmNvbmZpZy5nZXQoInNhdmVUb1Bob3RvQWxidW0iKSxoPWEuZW5jb2RpbmdUeXBlP2EuZW5jb2RpbmdUeXBlOiRmaC5mb3Jtcy5jb25maWcuZ2V0KCJlbmNvZGluZ1R5cGUiLCJqcGVnIik7YS50YXJnZXRXaWR0aD1jLGEudGFyZ2V0SGVpZ2h0PWQsYS5xdWFsaXR5PWUsYS5zYXZlVG9QaG90b0FsYnVtPWYsYS5lbmNvZGluZ1R5cGU9aCwidW5kZWZpbmVkIj09dHlwZW9mIGEuc291cmNlVHlwZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBDYW1lcmEmJihhLnNvdXJjZVR5cGU9Q2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLkNBTUVSQSksbD8oYS5lbmNvZGluZ1R5cGU9ImpwZWciPT09YS5lbmNvZGluZ1R5cGU/Q2FtZXJhLkVuY29kaW5nVHlwZS5KUEVHOkNhbWVyYS5FbmNvZGluZ1R5cGUuUE5HLG5hdmlnYXRvci5jYW1lcmEuZ2V0UGljdHVyZShnKGIpLGIse3F1YWxpdHk6ZSx0YXJnZXRXaWR0aDpjLHRhcmdldEhlaWdodDpkLHNvdXJjZVR5cGU6YS5zb3VyY2VUeXBlLHNhdmVUb1Bob3RvQWxidW06YS5zYXZlVG9QaG90b0FsYnVtLGRlc3RpbmF0aW9uVHlwZTpDYW1lcmEuRGVzdGluYXRpb25UeXBlLkZJTEVfVVJJLGVuY29kaW5nVHlwZTphLmVuY29kaW5nVHlwZX0pKTptP2soYSxiKTpiKCJZb3VyIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGNhbWVyYS4iKX1mdW5jdGlvbiBnKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iO2EobnVsbCxjKX19ZnVuY3Rpb24gaChhLGIpeyRmaC5mb3Jtcy5sb2cuZCgiVGFraW5nIHBob3RvIF9odG1sNUNhbWVyYSIsYSxsKTt2YXIgYz1hLnRhcmdldFdpZHRofHwkZmguZm9ybXMuY29uZmlnLmdldCgidGFyZ2V0V2lkdGgiKSxkPWEudGFyZ2V0SGVpZ2h0fHwkZmguZm9ybXMuY29uZmlnLmdldCgidGFyZ2V0SGVpZ2h0Iik7bi53aWR0aD1jLG4uaGVpZ2h0PWQsby53aWR0aD1jLG8uaGVpZ2h0PWQscT8oJGZoLmZvcm1zLmxvZy5lKCJNZWRpYSBkZXZpY2Ugd2FzIG5vdCByZWxlYXNlZCBieSBicm93c2VyLiIpLGIoIk1lZGlhIGRldmljZSBvY2N1cGllZC4iKSk6bmF2aWdhdG9yLmdldFVzZXJNZWRpYSh7dmlkZW86ITB9LGZ1bmN0aW9uKGEpe24uc3JjPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGEpLHE9YSxiKG51bGwsbil9LGIpfWZ1bmN0aW9uIGkoKXskZmguZm9ybXMubG9nLmQoIkNoZWNraW5nIGVudiIpLG5hdmlnYXRvci5jYW1lcmEmJm5hdmlnYXRvci5jYW1lcmEuZ2V0UGljdHVyZT9sPSEwOmooKT8obT0hMCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIiksbi5hdXRvcGxheT0iYXV0b3BsYXkiLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikscD1vLmdldENvbnRleHQoIjJkIikpOmNvbnNvbGUuZXJyb3IoIkNhbm5vdCBkZXRlY3QgdXNhYmxlIG1lZGlhIEFQSS4gQ2FtZXJhIHdpbGwgbm90IHJ1biBwcm9wZXJseSBvbiB0aGlzIGRldmljZS4iKX1mdW5jdGlvbiBqKCl7cmV0dXJuIG5hdmlnYXRvci5nZXRVc2VyTWVkaWE/ITA6bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYT8obmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLCEwKTpuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhPyhuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEsITApOm5hdmlnYXRvci5tc0dldFVzZXJNZWRpYT8obmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEsITApOiExfWZ1bmN0aW9uIGsoYSxiKXtpZigkZmguZm9ybXMubG9nLmQoIlNuYXBzaG90ICIsYSkscSl7cC5kcmF3SW1hZ2UobiwwLDAsYS50YXJnZXRXaWR0aCxhLnRhcmdldEhlaWdodCk7dmFyIGM9by50b0RhdGFVUkwoImltYWdlL3BuZyIpO2UoKSxiKG51bGwsYyl9ZWxzZSAkZmguZm9ybXMubG9nLmUoIk1lZGlhIHJlc291cmNlIGlzIG5vdCBhdmFpbGFibGUiKSxiKCJSZXNvdXJjZSBub3QgYXZhaWxhYmxlIil9YS50YWtlUGhvdG89ZixhLmlzUGhvbmVHYXBDYW1BdmFpbGFibGU9YyxhLmlzSHRtbDVDYW1BdmFpbGFibGU9YixhLmluaXRIdG1sNUNhbWVyYT1kLGEuY2FuY2VsSHRtbDVDYW1lcmE9ZTt2YXIgbD0hMSxtPSExLG49bnVsbCxvPW51bGwscD1udWxsLHE9bnVsbDtyZXR1cm4gYX0oYi51dGlsc3x8e30pLGIud2ViPWZ1bmN0aW9uKGEpe3JldHVybiBhLnVwbG9hZEZpbGU9ZnVuY3Rpb24oYSxiLGMpeyRmaC5mb3Jtcy5sb2cuZCgiUGhvbmVnYXAgdXBsb2FkRmlsZSAiLGEsYik7dmFyIGQ9Yi5mdWxsUGF0aDtpZighJGZoLmZvcm1zLmNvbmZpZy5pc09ubGluZSgpKXJldHVybiAkZmguZm9ybXMubG9nLmUoIlBob25lZ2FwIHVwbG9hZEZpbGUuIE5vdCBPbmxpbmUuIixhLGIpLGMoIk5vIEludGVybmV0IENvbm5lY3Rpb24gQXZhaWxhYmxlLiIpO3ZhciBlPWZ1bmN0aW9uKGIpeyRmaC5mb3Jtcy5sb2cuZCgidXBsb2FkIHRvIHVybCAiLGEsIiBzdWNlc3NmdWwiKSxiLnJlc3BvbnNlPWIucmVzcG9uc2V8fHt9LCJzdHJpbmciPT10eXBlb2YgYi5yZXNwb25zZSYmKGIucmVzcG9uc2U9SlNPTi5wYXJzZShiLnJlc3BvbnNlKSksYyhudWxsLGIucmVzcG9uc2UpfSxmPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZSgiQW4gZXJyb3IgdXBsb2FkaW5nIGEgZmlsZSBoYXMgb2NjdXJyZWQ6IENvZGUgPSAiK2EuY29kZSksJGZoLmZvcm1zLmxvZy5kKCJ1cGxvYWQgZXJyb3Igc291cmNlICIrYS5zb3VyY2UpLCRmaC5mb3Jtcy5sb2cuZCgidXBsb2FkIGVycm9yIHRhcmdldCAiK2EudGFyZ2V0KSxjKGEpfSxnPW5ldyBGaWxlVXBsb2FkT3B0aW9ucztnLmZpbGVOYW1lPW51bGw9PWIubmFtZXx8IiI9PT1iLm5hbWU/ImltYWdlLnBuZyI6Yi5uYW1lLGcubWltZVR5cGU9Yi5jb250ZW50VHlwZT9iLmNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iLGcuaHR0cE1ldGhvZD0iaHR0cHMiLGcuY2h1bmtlZE1vZGU9ITAsZy5maWxlS2V5PSJmaWxlIixnLmhlYWRlcnM9e0Nvbm5lY3Rpb246ImNsb3NlIn0sJGZoLmZvcm1zLmxvZy5kKCJCZWdpbm5pbmcgZmlsZSB1cGxvYWQgIixhLGcpO3ZhciBoPW5ldyBGaWxlVHJhbnNmZXI7aC51cGxvYWQoZCxlbmNvZGVVUkkoYSksZSxmLGcpfSxhLmRvd25sb2FkRmlsZT1mdW5jdGlvbihhLGMsZCl7JGZoLmZvcm1zLmxvZy5kKCJQaG9uZWdhcCBkb3dubG9hZEZpbGUgIixhLGMpO3ZhciBlPW5ldyBGaWxlVHJhbnNmZXI7cmV0dXJuICRmaC5mb3Jtcy5jb25maWcuaXNPbmxpbmUoKT92b2lkIGIudXRpbHMuZmlsZVN5c3RlbS5nZXRCYXNlUGF0aChmdW5jdGlvbihiLGYpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRmlsZSBEb3dubG9hZCBDb21wbGV0ZWQgU3VjY2Vzc2Z1bGx5LiBGaWxlUGF0aDogIithLmZ1bGxQYXRoKSxkKG51bGwsYS50b1VSTCgpKX1mdW5jdGlvbiBoKGEpe3JldHVybiAkZmguZm9ybXMubG9nLmUoIkVycm9yIGRvd25sb2FkaW5nIGZpbGUgIitjLmZpbGVOYW1lKyIgY29kZTogIithLmNvZGUpLGQoIkVycm9yIGRvd25sb2FkaW5nIGZpbGUgIitjLmZpbGVOYW1lKyIgY29kZTogIithLmNvZGUpfWlmKGIpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZ2V0dGluZyBiYXNlIHBhdGggZm9yIGZpbGUgZG93bmxvYWQ6ICIrYSksZChiKTtpZighYy5maWxlTmFtZSlyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJObyBmaWxlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBmaWxlIHRvIGRvd25sb2FkIiksZCgiTm8gZmlsZSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlsZSB0byBkb3dubG9hZCIpOyRmaC5mb3Jtcy5sb2cuZCgiRmlsZSBuYW1lIGZvciBmaWxlICIrYy5maWxlTmFtZSsiIGZvdW5kLiBTdGFydGluZyBkb3dubG9hZCIpO3ZhciBpPWYrYy5maWxlTmFtZTtlLmRvd25sb2FkKGVuY29kZVVSSShhKSxpLGcsaCwhMSx7aGVhZGVyczp7Q29ubmVjdGlvbjoiY2xvc2UifX0pfSk6KCRmaC5mb3Jtcy5sb2cuZSgiUGhvbmVnYXAgZG93bmxvYWRGaWxlLiBOb3QgT25saW5lLiIsYSxjKSxkKCJObyBJbnRlcm5ldCBDb25uZWN0aW9uIEF2YWlsYWJsZS4iKSl9LGF9KGIud2VifHx7fSksYi53ZWIuYWpheD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIGMoYSxiKXskZmguZm9ybXMubG9nLmQoIkFqYXggZ2V0ICIsYSksZSh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihjKXskZmguZm9ybXMubG9nLmQoIkFqYXggZ2V0IixhLCJTdWNjZXNzIiksYihudWxsLGMpfSxlcnJvcjpmdW5jdGlvbihjLGQsZSl7JGZoLmZvcm1zLmxvZy5lKCJBamF4IGdldCIsYSwiRmFpbCIsYyxkLGUpLGIoYyl9fSl9ZnVuY3Rpb24gZChhLGIsYyl7JGZoLmZvcm1zLmxvZy5kKCJBamF4IHBvc3QgIixhLGIpO3ZhciBkLGY9ITE7aWYoIm9iamVjdCI9PXR5cGVvZiBiKWlmKGIgaW5zdGFuY2VvZiBGaWxlKXtmPSEwLGQ9bmV3IEZvcm1EYXRhO3ZhciBnPWIubmFtZTtkLmFwcGVuZChnLGIpLGI9ZH1lbHNlIGI9SlNPTi5zdHJpbmdpZnkoYik7dmFyIGg9e3VybDphLHR5cGU6IlBPU1QiLGRhdGE6YixkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihiKXskZmguZm9ybXMubG9nLmQoIkFqYXggcG9zdCAiLGEsIiBTdWNjZXNzIiksYyhudWxsLGIpfSxlcnJvcjpmdW5jdGlvbihiLGQsZSl7JGZoLmZvcm1zLmxvZy5lKCJBamF4IHBvc3QgIixhLCIgRmFpbCAiLGIsZCxlKSxjKGIpfX07Zj09PSExJiYoaC5jb250ZW50VHlwZT0iYXBwbGljYXRpb24vanNvbiIpLGUoaCl9YT0idW5kZWZpbmVkIiE9dHlwZW9mICRmaCYmJGZoLl9fYWpheD8kZmguX19hamF4OmIsYS5nZXQ9YyxhLnBvc3Q9ZDt2YXIgZT1hO3JldHVybiBhfShiLndlYi5hamF4fHx7fSksYi5zdG9yZXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLm5hbWU9YX1yZXR1cm4gYS5TdG9yZT1iLGIucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3Rocm93IkNyZWF0ZSBub3QgaW1wbGVtZW50ZWQ6Iit0aGlzLm5hbWV9LGIucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oKXt0aHJvdyJSZWFkIG5vdCBpbXBsZW1lbnRlZDoiK3RoaXMubmFtZX0sYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhyb3ciVXBkYXRlIG5vdCBpbXBsZW1lbnRlZDoiK3RoaXMubmFtZX0sYi5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24oKXt0aHJvdyJEZWxldGUgbm90IGltcGxlbWVudGVkOiIrdGhpcy5uYW1lfSxiLnByb3RvdHlwZS51cHNlcnQ9ZnVuY3Rpb24oKXt0aHJvdyJVcHNlcnQgbm90IGltcGxlbWVudGVkOiIrdGhpcy5uYW1lfSxhfShiLnN0b3Jlc3x8e30pLGIuc3RvcmVzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtiLnN0b3Jlcy5TdG9yZS5jYWxsKHRoaXMsIkxvY2FsU3RvcmFnZSIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGEuZ2V0TG9jYWxJZD9hLmdldExvY2FsSWQoKTphfWZ1bmN0aW9uIGUoKXtqKCk/Zy5hcHBseSh7fSxhcmd1bWVudHMpOmYuYXBwbHkoe30sYXJndW1lbnRzKX1mdW5jdGlvbiBmKGEsYixjKXtyZXR1cm4gJGZoJiYkZmguZGF0YT92b2lkICRmaC5kYXRhKGEsZnVuY3Rpb24oYyl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBjJiYoYz17a2V5OmEua2V5LHZhbDphLnZhbH0pLCJyZW1vdmUiPT09YS5hY3QudG9Mb3dlckNhc2UoKT9iKG51bGwsbnVsbCk6dm9pZCBiKG51bGwsYy52YWw/Yy52YWw6bnVsbCl9LGMpOmIoKX1mdW5jdGlvbiBnKGEsYyxkKXtmdW5jdGlvbiBlKGEpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgZD9kKGEse30pOnZvaWQgMH1mdW5jdGlvbiBmKGEsYyl7dmFyIGQ9Yi5jb25maWcuZ2V0KCJhcHBJZCIsInVua25vd25BcHBJZCIpO2ErPWQsaC5tZDUoYSxmdW5jdGlvbihiLGQpe2ImJihkPWEpO3ZhciBlPWQ7cmV0dXJuLTE9PT1hLmluZGV4T2YoImZpbGVQbGFjZUhvbGRlciIpJiYoZSs9Ii50eHQiKSwidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvci5leHRlcm5hbHN0b3JhZ2U/YyhlKTp2b2lkIG5hdmlnYXRvci5leHRlcm5hbHN0b3JhZ2UuZW5hYmxlKGZ1bmN0aW9uKGEpe3ZhciBiPWU7cmV0dXJuIGEucGF0aCYmKGI9YS5wYXRoLGIubWF0Y2goL1wvJC8pfHwoYis9Ii8iKSxiKz1lKSxlPWIsYyhlKX0sZnVuY3Rpb24oKXtyZXR1cm4gYyhlKX0pfSl9ZnVuY3Rpb24gZyhhLGIpe2YoYSxmdW5jdGlvbihhKXtpLnNhdmUoYSxiLGZ1bmN0aW9uKGEpe2E/ZShhKTpjKG51bGwsYil9KX0pfWZ1bmN0aW9uIGooYSl7ZihhLGZ1bmN0aW9uKGEpe2kucmVtb3ZlKGEsZnVuY3Rpb24oYSl7YT8iTm90Rm91bmRFcnJvciI9PT1hLm5hbWV8fDE9PT1hLmNvZGU/YyhudWxsLG51bGwpOmUoYSk6YyhudWxsLG51bGwpfSl9KX1mdW5jdGlvbiBrKGEpe2YoYSxmdW5jdGlvbihhKXtpLnJlYWRBc1RleHQoYSxmdW5jdGlvbihhLGIpe2E/Ik5vdEZvdW5kRXJyb3IiPT09YS5uYW1lfHwxPT09YS5jb2RlP2MobnVsbCxudWxsKTplKGEpOmMobnVsbCxiKX0pfSl9ZnVuY3Rpb24gbChhKXtmKGEsZnVuY3Rpb24oYSl7aS5yZWFkQXNGaWxlKGEsZnVuY3Rpb24oYSxiKXthPyJOb3RGb3VuZEVycm9yIj09PWEubmFtZXx8MT09PWEuY29kZT9jKG51bGwsbnVsbCk6ZShhKTpjKG51bGwsYil9KX0pfXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5hY3Q/ayhhLmtleSk6InNhdmUiPT09YS5hY3Q/ZyhhLmtleSxhLnZhbCk6InJlbW92ZSI9PT1hLmFjdD9qKGEua2V5KToibG9hZCI9PT1hLmFjdD9rKGEua2V5KToibG9hZEZpbGUiPT09YS5hY3Q/bChhLmtleSk6InVuZGVmaW5lZCIhPXR5cGVvZiBkP2QoIkFjdGlvbiBbIithLmFjdCsiXSBpcyBub3QgZGVmaW5lZCIse30pOnZvaWQgMH12YXIgaD1iLnV0aWxzLGk9aC5maWxlU3lzdGVtLGo9ZnVuY3Rpb24oKXt9O3JldHVybiBiLnV0aWxzLmV4dGVuZChjLGIuc3RvcmVzLlN0b3JlKSxjLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1oLmxvY2FsSWQoYSk7YS5zZXRMb2NhbElkKGMpLHRoaXMudXBkYXRlKGEsYil9LGMucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oYSxiKXtpZigib2JqZWN0Ij09dHlwZW9mIGEmJiJvZmZsaW5lVGVzdCI9PT1hLmdldCgiX3R5cGUiKSlyZXR1cm4gYihudWxsLHt9KTt2YXIgYz1kKGEpO251bGwhPWM/ZSh7YWN0OiJsb2FkIixrZXk6Yy50b1N0cmluZygpfSxiLGIpOmIobnVsbCxudWxsKX0sYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZChhKSxmPWEuZ2V0UHJvcHMoKSxnPUpTT04uc3RyaW5naWZ5KGYpO2Uoe2FjdDoic2F2ZSIsa2V5OmMudG9TdHJpbmcoKSx2YWw6Z30sYixiKX0sYy5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKGEpO2Uoe2FjdDoicmVtb3ZlIixrZXk6Yy50b1N0cmluZygpfSxiLGIpfSxjLnByb3RvdHlwZS51cHNlcnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKGEpO251bGw9PT1jP3RoaXMuY3JlYXRlKGEsYik6dGhpcy51cGRhdGUoYSxiKX0sYy5wcm90b3R5cGUuc3dpdGNoRmlsZVN5c3RlbT1mdW5jdGlvbihhKXtqPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxjLnByb3RvdHlwZS5kZWZhdWx0U3RvcmFnZT1mdW5jdGlvbigpe2o9ZnVuY3Rpb24oKXtyZXR1cm4gaS5pc0ZpbGVTeXN0ZW1BdmFpbGFibGUoKX19LGMucHJvdG90eXBlLnNhdmVGaWxlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaigpP3ZvaWQgZSh7YWN0OiJzYXZlIixrZXk6YSx2YWw6Yn0sYyxjKTpjKCJGaWxlIHN5c3RlbSBub3QgYXZhaWxhYmxlIil9LGMucHJvdG90eXBlLnVwZGF0ZVRleHRGaWxlPWZ1bmN0aW9uKGEsYixjKXtlKHthY3Q6InNhdmUiLGtleTphLHZhbDpifSxjLGMpfSxjLnByb3RvdHlwZS5yZWFkRmlsZT1mdW5jdGlvbihhLGIpe2Uoe2FjdDoibG9hZEZpbGUiLGtleTphfSxiLGIpfSxjLnByb3RvdHlwZS5yZWFkRmlsZVRleHQ9ZnVuY3Rpb24oYSxiKXtlKHthY3Q6ImxvYWQiLGtleTphfSxiLGIpfSxqPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaXNGaWxlU3lzdGVtQXZhaWxhYmxlKCl9LGEubG9jYWxTdG9yYWdlPW5ldyBjLGF9KGIuc3RvcmVzfHx7fSksYi5zdG9yZXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2UuY2FsbCh0aGlzLCJNQmFhUyIpfWZ1bmN0aW9uIGQoYSl7JGZoLmZvcm1zLmxvZy5kKCJfZ2V0VXJsICIsYSk7dmFyIGM9YS5nZXQoIl90eXBlIiksZD1iLmNvbmZpZy5nZXRDbG91ZEhvc3QoKSxlPWIuY29uZmlnLmdldCgibWJhYXNCYXNlVXJsIiksZj1iLmNvbmZpZy5nZXQoImZvcm1VcmxzIiksZz0iIjtmW2NdP2c9ZltjXTokZmguZm9ybXMubG9nLmUoInR5cGUgbm90IGZvdW5kIHRvIGdldCB1cmw6IitjKTt2YXIgaD1kK2UrZyxpPXt9O3N3aXRjaChpLmFwcElkPWIuY29uZmlnLmdldCgiYXBwSWQiKSxjKXtjYXNlImNvbmZpZyI6aS5hcHBpZD1hLmdldCgiYXBwSWQiKSxpLmRldmljZUlkPWEuZ2V0KCJkZXZpY2VJZCIpO2JyZWFrO2Nhc2UiZm9ybSI6aS5mb3JtSWQ9YS5nZXQoIl9pZCIpO2JyZWFrO2Nhc2UiZm9ybVN1Ym1pc3Npb24iOmkuZm9ybUlkPWEuZ2V0Rm9ybUlkKCk7YnJlYWs7Y2FzZSJmaWxlU3VibWlzc2lvbiI6aS5zdWJtaXNzaW9uSWQ9YS5nZXRTdWJtaXNzaW9uSWQoKSxpLmhhc2hOYW1lPWEuZ2V0SGFzaE5hbWUoKSxpLmZpZWxkSWQ9YS5nZXRGaWVsZElkKCk7YnJlYWs7Y2FzZSJiYXNlNjRmaWxlU3VibWlzc2lvbiI6aS5zdWJtaXNzaW9uSWQ9YS5nZXRTdWJtaXNzaW9uSWQoKSxpLmhhc2hOYW1lPWEuZ2V0SGFzaE5hbWUoKSxpLmZpZWxkSWQ9YS5nZXRGaWVsZElkKCk7YnJlYWs7Y2FzZSJzdWJtaXNzaW9uU3RhdHVzIjppLnN1Ym1pc3Npb25JZD1hLmdldCgic3VibWlzc2lvbklkIik7YnJlYWs7Y2FzZSJjb21wbGV0ZVN1Ym1pc3Npb24iOmkuc3VibWlzc2lvbklkPWEuZ2V0KCJzdWJtaXNzaW9uSWQiKTticmVhaztjYXNlImZvcm1TdWJtaXNzaW9uRG93bmxvYWQiOmkuc3VibWlzc2lvbklkPWEuZ2V0U3VibWlzc2lvbklkKCk7YnJlYWs7Y2FzZSJmaWxlU3VibWlzc2lvbkRvd25sb2FkIjppLnN1Ym1pc3Npb25JZD1hLmdldFN1Ym1pc3Npb25JZCgpLGkuZmlsZUdyb3VwSWQ9YS5nZXRGaWxlR3JvdXBJZCgpO2JyZWFrO2Nhc2Uib2ZmbGluZVRlc3QiOnJldHVybiJodHRwOi8vMTI3LjAuMC4xOjg0NTMifWZvcih2YXIgaiBpbiBpKWg9aC5yZXBsYWNlKCI6IitqLGlbal0pO3JldHVybiBofXZhciBlPWIuc3RvcmVzLlN0b3JlO3JldHVybiBhLm1CYWFTPW5ldyBjLGIudXRpbHMuZXh0ZW5kKGMsZSksYy5wcm90b3R5cGUuY2hlY2tTdHVkaW89ZnVuY3Rpb24oKXtyZXR1cm4gYi5jb25maWcuZ2V0KCJzdHVkaW9Nb2RlIil9LGMucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihhLGMpe3ZhciBlPXRoaXM7aWYoZS5jaGVja1N0dWRpbygpKWMoIlN0dWRpbyBtb2RlIG1iYWFzIG5vdCBzdXBwb3J0ZWQiKTtlbHNle3ZhciBmPWQoYSk7ZS5pc0ZpbGVBbmRQaG9uZUdhcChhKT9iLndlYi51cGxvYWRGaWxlKGYsYS5nZXRQcm9wcygpLGMpOmIud2ViLmFqYXgucG9zdChmLGEuZ2V0UHJvcHMoKSxjKX19LGMucHJvdG90eXBlLmlzRmlsZUFuZFBob25lR2FwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGIuaXNGaWxlVHJhbnNmZXIoYSkmJmIuaXNQaG9uZUdhcCgpfSxjLnByb3RvdHlwZS5pc0ZpbGVUcmFuc2Zlcj1mdW5jdGlvbihhKXtyZXR1cm4iZmlsZVN1Ym1pc3Npb24iPT09YS5nZXQoIl90eXBlIil8fCJiYXNlNjRmaWxlU3VibWlzc2lvbiI9PT1hLmdldCgiX3R5cGUiKXx8ImZpbGVTdWJtaXNzaW9uRG93bmxvYWQiPT09YS5nZXQoIl90eXBlIil9LGMucHJvdG90eXBlLmlzUGhvbmVHYXA9ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5QaG9uZWdhcHx8InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuY29yZG92YX0sYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihhLGMpe3ZhciBlPXRoaXM7aWYoZS5jaGVja1N0dWRpbygpKWMoIlN0dWRpbyBtb2RlIG1iYWFzIG5vdCBzdXBwb3J0ZWQiKTtlbHNlIGlmKCJvZmZsaW5lVGVzdCI9PT1hLmdldCgiX3R5cGUiKSljKCJvZmZsaW5ldGVzdC4gaWdub3JlIik7ZWxzZXt2YXIgZj1kKGEpO2lmKGUuaXNGaWxlVHJhbnNmZXIoYSkmJmUuaXNQaG9uZUdhcCgpKWIud2ViLmRvd25sb2FkRmlsZShmLGEuZ2V0RmlsZU1ldGFEYXRhKCksYyk7ZWxzZXtpZihlLmlzRmlsZVRyYW5zZmVyKGEpKXJldHVybiBjKG51bGwsYS5nZXRSZW1vdGVGaWxlVVJMKCkpO2Iud2ViLmFqYXguZ2V0KGYsYyl9fX0sYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7fSxjLnByb3RvdHlwZVsiZGVsZXRlIl09ZnVuY3Rpb24oKXt9LGMucHJvdG90eXBlLmNvbXBsZXRlU3VibWlzc2lvbj1mdW5jdGlvbihhLGMpe2lmKHRoaXMuY2hlY2tTdHVkaW8oKSlyZXR1cm4gYygiU3R1ZGlvIG1vZGUgbWJhYXMgbm90IHN1cHBvcnRlZCIpO3ZhciBlPWQoYSk7Yi53ZWIuYWpheC5wb3N0KGUse30sYyl9LGMucHJvdG90eXBlLnN1Ym1pc3Npb25TdGF0dXM9ZnVuY3Rpb24oYSxjKXtpZih0aGlzLmNoZWNrU3R1ZGlvKCkpcmV0dXJuIGMoIlN0dWRpbyBtb2RlIG1iYWFzIG5vdCBzdXBwb3J0ZWQiKTt2YXIgZT1kKGEpO2Iud2ViLmFqYXguZ2V0KGUsYyl9LGMucHJvdG90eXBlLmlzT25saW5lPWZ1bmN0aW9uKGEpe3ZhciBjPWIuY29uZmlnLmdldENsb3VkSG9zdCgpLGQ9YytiLmNvbmZpZy5nZXQoInN0YXR1c1VybCIsIi9zeXMvaW5mby9waW5nIik7Yi53ZWIuYWpheC5nZXQoZCxmdW5jdGlvbihiKXtyZXR1cm4gYj8oJGZoLmZvcm1zLmxvZy5lKCJPbmxpbmUgc3RhdHVzIGFqYXggIixiKSxhKCExKSk6KCRmaC5mb3Jtcy5sb2cuZCgiT25saW5lIHN0YXR1cyBhamF4IHN1Y2Nlc3MiKSxhKCEwKSl9KX0sYX0oYi5zdG9yZXN8fHt9KSxiLnN0b3Jlcz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYil7ZC5jYWxsKHRoaXMsIkRhdGFBZ2VudCIpLHRoaXMucmVtb3RlU3RvcmU9YSx0aGlzLmxvY2FsU3RvcmU9Yn12YXIgZD1iLnN0b3Jlcy5TdG9yZTtyZXR1cm4gYS5EYXRhQWdlbnQ9YyxhLmRhdGFBZ2VudD1uZXcgYyhiLnN0b3Jlcy5tQmFhUyxiLnN0b3Jlcy5sb2NhbFN0b3JhZ2UpLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihhLGIpeyRmaC5mb3Jtcy5sb2cuZCgiRGF0YUFnZW50IHJlYWQgIixhKTt2YXIgYz10aGlzO3RoaXMubG9jYWxTdG9yZS5yZWFkKGEsZnVuY3Rpb24oZCxlKXtkfHwhZT8oJGZoLmZvcm1zLmxvZy5kKCJFcnJvciByZWFkaW5nIG1vZGVsIGZyb20gbG9jYWxTdG9yZSAiLGEsZCksYy5yZWZyZXNoUmVhZChhLGIpKTpiKG51bGwsZSwhMSl9KX0sYy5wcm90b3R5cGUucmVmcmVzaFJlYWQ9ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIkRhdGFBZ2VudCByZWZyZXNoUmVhZCAiLGEpO3ZhciBjPXRoaXM7dGhpcy5yZW1vdGVTdG9yZS5yZWFkKGEsZnVuY3Rpb24oZCxlKXtkPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHJlYWRpbmcgbW9kZWwgZnJvbSByZW1vdGVTdG9yZSAiLGEsZCksYihkKSk6KCRmaC5mb3Jtcy5sb2cuZCgiTW9kZWwgcmVmcmVzaCBzdWNjZXNzZnVsbCBmcm9tIHJlbW90ZVN0b3JlICIsYSxlKSxhLmZyb21KU09OKGUpLGMubG9jYWxTdG9yZS51cHNlcnQoYSxmdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTsKYS5wdXNoKCEwKSxiLmFwcGx5KHt9LGEpfSkpfSl9LGMucHJvdG90eXBlLmF0dGVtcHRSZWFkPWZ1bmN0aW9uKGEsYil7JGZoLmZvcm1zLmxvZy5kKCJEYXRhQWdlbnQgYXR0ZW1wdFJlYWQgIixhKTt2YXIgYz10aGlzO2MuY2hlY2tPbmxpbmVTdGF0dXMoZnVuY3Rpb24oKXskZmguZm9ybXMuY29uZmlnLmlzT25saW5lKCk/Yy5yZWZyZXNoUmVhZChhLGZ1bmN0aW9uKGQpe2Q/Yy5yZWFkKGEsYik6Yi5hcHBseSh7fSxhcmd1bWVudHMpfSk6Yy5yZWFkKGEsYil9KX0sYy5wcm90b3R5cGUuY2hlY2tPbmxpbmVTdGF0dXM9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJEYXRhQWdlbnQgY2hlY2sgb25saW5lIHN0YXR1cyAiKTt2YXIgYz10aGlzO3JldHVybiBiLnV0aWxzLmlzUGhvbmVHYXAoKSYmbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZSYmbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZT09PUNvbm5lY3Rpb24uTk9ORT8oJGZoLmZvcm1zLmNvbmZpZy5vZmZsaW5lKCksYSghMSkpOnZvaWQgYy5yZW1vdGVTdG9yZS5pc09ubGluZShmdW5jdGlvbihiKXtiPT09ITE/JGZoLmZvcm1zLmNvbmZpZy5vZmZsaW5lKCk6JGZoLmZvcm1zLmNvbmZpZy5vbmxpbmUoKSxhKG51bGwsYil9KX0sYX0oYi5zdG9yZXN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2lmKHRoaXMucHJvcHM9e19pZDpudWxsLF90eXBlOm51bGwsX2x1ZGlkOm51bGx9LHRoaXMudXRpbHM9Yi51dGlscyx0aGlzLmV2ZW50cz17fSwidW5kZWZpbmVkIiE9dHlwZW9mIGEpZm9yKHZhciBjIGluIGEpdGhpcy5wcm9wc1tjXT1hW2NdO3RoaXMudG91Y2goKX1yZXR1cm4gYy5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiKXt0aGlzLmV2ZW50c1thXXx8KHRoaXMuZXZlbnRzW2FdPVtdKSx0aGlzLmV2ZW50c1thXS5pbmRleE9mKGIpPDAmJnRoaXMuZXZlbnRzW2FdLnB1c2goYil9LGMucHJvdG90eXBlLm9mZj1mdW5jdGlvbihhLGIpe3RoaXMuZXZlbnRzW2FdJiZ0aGlzLmV2ZW50c1thXS5pbmRleE9mKGIpPj0wJiZ0aGlzLmV2ZW50c1thXS5zcGxpY2UodGhpcy5ldmVudHNbYV0uaW5kZXhPZihiKSwxKX0sYy5wcm90b3R5cGUuY2xlYXJFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz17fX0sYy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxiPWEuc2hpZnQoKSxjPXRoaXMuZXZlbnRzW2JdO2lmKGMmJmMubGVuZ3RoPjApZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07ZS5hcHBseSh0aGlzLGEpfX0sYy5wcm90b3R5cGUuZ2V0UHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wc30sYy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLnByb3BzW2FdP2I6dGhpcy5wcm9wc1thXX0sYy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy5wcm9wc1thXT1ifSxjLnByb3RvdHlwZS5zZXRMb2NhbElkPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KCJfbHVkaWQiLGEpfSxjLnByb3RvdHlwZS5nZXRMb2NhbElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfbHVkaWQiKX0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGE9e307Zm9yKHZhciBiIGluIHRoaXMucHJvcHMpYVtiXT10aGlzLnByb3BzW2JdO3JldHVybiBhfSxjLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbihhKXtpZigic3RyaW5nIj09dHlwZW9mIGEpdGhpcy5mcm9tSlNPTlN0cihhKTtlbHNlIGZvcih2YXIgYiBpbiBhKXRoaXMuc2V0KGIsYVtiXSk7dGhpcy50b3VjaCgpfSxjLnByb3RvdHlwZS5mcm9tSlNPTlN0cj1mdW5jdGlvbihhKXt0cnl7dmFyIGI9SlNPTi5wYXJzZShhKTt0aGlzLmZyb21KU09OKGIpfWNhdGNoKGMpe2NvbnNvbGUuZXJyb3IoIkVycm9yIHBhcnNpbmcgSlNPTiIsYyl9fSxjLnByb3RvdHlwZS50b3VjaD1mdW5jdGlvbigpe3RoaXMuc2V0KCJfbG9jYWxMYXN0VXBkYXRlIixiLnV0aWxzLmdldFRpbWUoKSl9LGMucHJvdG90eXBlLmdldExvY2FsVXBkYXRlVGltZVN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfbG9jYWxMYXN0VXBkYXRlIil9LGMucHJvdG90eXBlLmdlbkxvY2FsSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi51dGlscy5sb2NhbElkKHRoaXMpfSxjLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGMpeyFhJiZjPyhlLmZyb21KU09OKGMpLGIobnVsbCxlKSk6YihhLGUpfXZhciBkPXRoaXMuZ2V0RGF0YUFnZW50KCksZT10aGlzOyJ1bmRlZmluZWQiPT10eXBlb2YgYiYmKGI9YSxhPSExKSxhP2QuYXR0ZW1wdFJlYWQodGhpcyxjKTpkLnJlYWQodGhpcyxjKX0sYy5wcm90b3R5cGUuYXR0ZW1wdFJlZnJlc2g9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXREYXRhQWdlbnQoKSxjPXRoaXM7Yi5hdHRlbXB0UmVhZCh0aGlzLGZ1bmN0aW9uKGIsZCl7IWImJmQ/KGMuZnJvbUpTT04oZCksYShudWxsLGMpKTphKGIsYyl9KX0sYy5wcm90b3R5cGUubG9hZExvY2FsPWZ1bmN0aW9uKGEpe3ZhciBjPWIuc3RvcmVzLmxvY2FsU3RvcmFnZSxkPXRoaXM7Yy5yZWFkKHRoaXMsZnVuY3Rpb24oYixjKXtiP2EoYik6KGMmJmQuZnJvbUpTT04oYyksYShiLGQpKX0pfSxjLnByb3RvdHlwZS5zYXZlTG9jYWw9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5zdG9yZXMubG9jYWxTdG9yYWdlO2MudXBzZXJ0KHRoaXMsYSl9LGMucHJvdG90eXBlLmNsZWFyTG9jYWw9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5zdG9yZXMubG9jYWxTdG9yYWdlO2MucmVtb3ZlRW50cnkodGhpcyxhKX0sYy5wcm90b3R5cGUuZ2V0RGF0YUFnZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YUFnZW50fHx0aGlzLnNldERhdGFBZ2VudChiLnN0b3Jlcy5kYXRhQWdlbnQpLHRoaXMuZGF0YUFnZW50fSxjLnByb3RvdHlwZS5zZXREYXRhQWdlbnQ9ZnVuY3Rpb24oYSl7dGhpcy5kYXRhQWdlbnQ9YX0sYS5Nb2RlbD1jLGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2QuY2FsbCh0aGlzLHtfdHlwZToiY29uZmlnIixfbHVkaWQ6ImNvbmZpZyJ9KX12YXIgZD1iLm1vZGVscy5Nb2RlbCxlPSEwLGY9Im5vdHNldCI7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhLGIpe2Euc3R1ZGlvTW9kZT8odGhpcy5zZXQoInN0dWRpb01vZGUiLCEwKSx0aGlzLmZyb21KU09OKGEpLGIoKSk6KHRoaXMuc2V0KCJzdHVkaW9Nb2RlIiwhMSksdGhpcy5zdGF0aWNDb25maWcoYSksdGhpcy5yZWZyZXNoKCEwLGIpKX0sYy5wcm90b3R5cGUuaXNTdHVkaW9Nb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJzdHVkaW9Nb2RlIil9LGMucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYyl7dmFyIGQ9e307aWYoIWEmJmMpe2lmKCJzdHJpbmciPT10eXBlb2YgYyl0cnl7ZD1KU09OLnBhcnNlKGMpfWNhdGNoKGYpe3JldHVybiAkZmguZm9ybXMubG9nLmUoIkludmFsaWQganNvbiBjb25maWcgZGVmaW50aW9uIGZyb20gcmVtb3RlIixmKSxkPXt9LGIoZixudWxsKX1lbHNlIGQ9YztlLnNldCgiZGVmYXVsdENvbmZpZ1ZhbHVlcyIsZCksZS5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YihhLGUpfSl9ZWxzZSBiKGEsZSl9dmFyIGQ9dGhpcy5nZXREYXRhQWdlbnQoKSxlPXRoaXM7InVuZGVmaW5lZCI9PXR5cGVvZiBiJiYoYj1hLGE9ITEpLGUubG9hZExvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiQ29uZmlnIGxvYWRMb2NhbCAiLGEpLGQucmVtb3RlU3RvcmUucmVhZChlLGMpfSl9LGMucHJvdG90eXBlLmdldENsb3VkSG9zdD1mdW5jdGlvbigpe3JldHVybiBmfSxjLnByb3RvdHlwZS5zdGF0aWNDb25maWc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXtkZWZhdWx0Q29uZmlnVmFsdWVzOnt9LHVzZXJDb25maWdWYWx1ZXM6e319O2IuZ2V0KCJ1c2VyQ29uZmlnVmFsdWVzIikmJihjLnVzZXJDb25maWdWYWx1ZXM9Yi5nZXQoInVzZXJDb25maWdWYWx1ZXMiKSk7dmFyIGQ9JGZoJiYkZmguYXBwX3Byb3BzPyRmaC5hcHBfcHJvcHMuYXBwaWQ6YS5hcHBpZCxlPSRmaCYmJGZoLmFwcF9wcm9wcz8kZmguYXBwX3Byb3BzLm1vZGU6ImRldiI7Yi5zZXQoImFwcElkIixkKSxiLnNldCgiZW52IixlKSwkZmgmJiRmaC5fZ2V0RGV2aWNlSWQ/Yi5zZXQoImRldmljZUlkIiwkZmguX2dldERldmljZUlkKCkpOmIuc2V0KCJkZXZpY2VJZCIsIm5vdHNldCIpLGIuX2luaXRNQmFhUyhhKSxhfHwoYT17fSksYS5jb25maWdfYWRtaW5fdXNlciYmZGVsZXRlIGEuY29uZmlnX2FkbWluX3VzZXIsYy5kZWZhdWx0Q29uZmlnVmFsdWVzPWE7dmFyIGY9e3NlbnRfc2F2ZV9taW46NSxzZW50X3NhdmVfbWF4OjFlMyx0YXJnZXRXaWR0aDo2NDAsdGFyZ2V0SGVpZ2h0OjQ4MCxxdWFsaXR5OjUwLGRlYnVnX21vZGU6ITEsbG9nZ2VyOiExLG1heF9yZXRyaWVzOjMsdGltZW91dDo3LGxvZ19saW5lX2xpbWl0OjVlMyxsb2dfZW1haWw6InRlc3RAZXhhbXBsZS5jb20iLGxvZ19sZXZlbDozLGxvZ19sZXZlbHM6WyJlcnJvciIsIndhcm5pbmciLCJsb2ciLCJkZWJ1ZyJdLGNvbmZpZ19hZG1pbl91c2VyOiEwLHBpY3R1cmVfc291cmNlOiJib3RoIixzYXZlVG9QaG90b0FsYnVtOiEwLGVuY29kaW5nVHlwZToianBlZyIsc2VudF9pdGVtc190b19rZWVwX2xpc3Q6WzUsMTAsMjAsMzAsNDAsNTAsMTAwXX07Zm9yKHZhciBnIGluIGYpYy5kZWZhdWx0Q29uZmlnVmFsdWVzW2ddPWZbZ107Yi5mcm9tSlNPTihjKX0sYy5wcm90b3R5cGUuX2luaXRNQmFhUz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9YXx8e307dmFyIGM9JGZoLmNsb3VkX3Byb3BzLGQ9JGZoLmFwcF9wcm9wcztkJiYoZj1kLmhvc3QpLGMmJmMuaG9zdHMmJihmPWMuaG9zdHMudXJsKSwic3RyaW5nIj09dHlwZW9mIGEuY2xvdWRIb3N0JiYoZj1hLmNsb3VkSG9zdCksYi5zZXQoIm1iYWFzQmFzZVVybCIsIi9tYmFhcyIpO2IuZ2V0KCJhcHBJZCIpO2Iuc2V0KCJmb3JtVXJscyIse2Zvcm1zOiIvZm9ybXMvOmFwcElkIixmb3JtOiIvZm9ybXMvOmFwcElkLzpmb3JtSWQiLHRoZW1lOiIvZm9ybXMvOmFwcElkL3RoZW1lIixmb3JtU3VibWlzc2lvbjoiL2Zvcm1zLzphcHBJZC86Zm9ybUlkL3N1Ym1pdEZvcm1EYXRhIixmaWxlU3VibWlzc2lvbjoiL2Zvcm1zLzphcHBJZC86c3VibWlzc2lvbklkLzpmaWVsZElkLzpoYXNoTmFtZS9zdWJtaXRGb3JtRmlsZSIsYmFzZTY0ZmlsZVN1Ym1pc3Npb246Ii9mb3Jtcy86YXBwSWQvOnN1Ym1pc3Npb25JZC86ZmllbGRJZC86aGFzaE5hbWUvc3VibWl0Rm9ybUZpbGVCYXNlNjQiLHN1Ym1pc3Npb25TdGF0dXM6Ii9mb3Jtcy86YXBwSWQvOnN1Ym1pc3Npb25JZC9zdGF0dXMiLGZvcm1TdWJtaXNzaW9uRG93bmxvYWQ6Ii9mb3Jtcy86YXBwSWQvc3VibWlzc2lvbi86c3VibWlzc2lvbklkIixmaWxlU3VibWlzc2lvbkRvd25sb2FkOiIvZm9ybXMvOmFwcElkL3N1Ym1pc3Npb24vOnN1Ym1pc3Npb25JZC9maWxlLzpmaWxlR3JvdXBJZCIsY29tcGxldGVTdWJtaXNzaW9uOiIvZm9ybXMvOmFwcElkLzpzdWJtaXNzaW9uSWQvY29tcGxldGVTdWJtaXNzaW9uIixjb25maWc6Ii9mb3Jtcy86YXBwaWQvY29uZmlnLzpkZXZpY2VJZCJ9KSxiLnNldCgic3RhdHVzVXJsIiwiL3N5cy9pbmZvL3BpbmciKX0sYy5wcm90b3R5cGUuc2V0T25saW5lPWZ1bmN0aW9uKCl7dmFyIGE9ZTtlPSEwLGF8fHRoaXMuZW1pdCgib25saW5lIil9LGMucHJvdG90eXBlLnNldE9mZmxpbmU9ZnVuY3Rpb24oKXt2YXIgYT1lO2U9ITEsYSYmdGhpcy5lbWl0KCJvZmZsaW5lIil9LGMucHJvdG90eXBlLmlzT25saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGIudXRpbHMuaXNQaG9uZUdhcCgpJiZuYXZpZ2F0b3IuY29ubmVjdGlvbi50eXBlP2U9PT0hMCYmbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZSE9PUNvbm5lY3Rpb24uTk9ORTplPT09ITB9LGMucHJvdG90eXBlLmlzU3R1ZGlvTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgic3R1ZGlvTW9kZSIsITEpfSxhLmNvbmZpZz1uZXcgYyxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtkLmNhbGwodGhpcyx7X3R5cGU6ImZvcm1zIixfbHVkaWQ6ImZvcm1zX2xpc3QiLGxvYWRlZDohMX0pfXZhciBkPWIubW9kZWxzLk1vZGVsO3JldHVybiBiLnV0aWxzLmV4dGVuZChjLGQpLGMucHJvdG90eXBlLmlzRm9ybVVwZGF0ZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXQoIl9pZCIpLGM9YS5nZXRMYXN0VXBkYXRlKCksZD10aGlzLmdldEZvcm1NZXRhQnlJZChiKTtyZXR1cm4gZD9jIT09ZC5sYXN0VXBkYXRlZFRpbWVzdGFtcDohMX0sYy5wcm90b3R5cGUuc2V0TG9jYWxJZD1mdW5jdGlvbigpeyRmaC5mb3Jtcy5sb2cuZSgiRm9ybXMgc2V0TG9jYWxJZC4gTm90IFBlcm1pdHRlZCBmb3IgRm9ybXMuIil9LGMucHJvdG90eXBlLmdldEZvcm1NZXRhQnlJZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIkZvcm1zIGdldEZvcm1NZXRhQnlJZCAiLGEpO2Zvcih2YXIgYj10aGlzLmdldEZvcm1zTGlzdCgpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLl9pZD09PWEpcmV0dXJuIGR9cmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiRm9ybXMgZ2V0Rm9ybU1ldGFCeUlkOiBObyBmb3JtIGZvdW5kIGZvciBpZDogIixhKSxudWxsfSxjLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJmb3JtcyIpLmxlbmd0aH0sYy5wcm90b3R5cGUuZ2V0Rm9ybXNMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJmb3JtcyIsW10pfSxjLnByb3RvdHlwZS5nZXRGb3JtSWRCeUluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZvcm1zIGdldEZvcm1JZEJ5SW5kZXg6ICIsYSksdGhpcy5nZXRGb3Jtc0xpc3QoKVthXS5faWR9LGEuZm9ybXM9bmV3IGMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7ZnVuY3Rpb24gZigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gaC5mcm9tSlNPTihqKSxoLmluaXRpYWxpc2UoKSxlW2guZ2V0Rm9ybUlkKCldPWgsYyhudWxsLGgpfXJldHVybiAkZmguZm9ybXMubG9nLmQoIkZvcm06IGxvYWRGcm9tTG9jYWwgIixpLGosayxsKSxlW2tdPyhjKG51bGwsZVtrXSksZVtrXSk6aj9hKCk6dm9pZCBoLnJlZnJlc2goITEsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9jKGEpOihiLmluaXRpYWxpc2UoKSxlW2tdPWIsYyhudWxsLGIpKX0pfWZ1bmN0aW9uIGcoKXtmdW5jdGlvbiBhKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogY2hlY2tGb3JVcGRhdGUiLGksaixrLGwpLGEucmVmcmVzaCghMSxmdW5jdGlvbihkLGYpe2QmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgcmVmcmVzaGluZyBmb3JtIGZyb20gbG9jYWw6ICIsZCksYi5tb2RlbHMuZm9ybXMuaXNGb3JtVXBkYXRlZChhKT9hLnJlZnJlc2goITAsZnVuY3Rpb24oYixkKXtyZXR1cm4gYj9jKGIsbnVsbCk6KGEuaW5pdGlhbGlzZSgpLGVba109ZCxjKGIsZCkpfSk6KGEuaW5pdGlhbGlzZSgpLGVba109ZixjKGQsZikpfSl9cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogbG9hZEZyb21SZW1vdGUiLGksaixrLGwpLGVba10mJigkZmguZm9ybXMubG9nLmQoIkZvcm06IGxvYWRlZCBmcm9tIGNhY2hlIixpLGosayxsKSwhYi5tb2RlbHMuZm9ybXMuaXNGb3JtVXBkYXRlZChlW2tdKSk/KGMobnVsbCxlW2tdKSxlW2tdKTp2b2lkIGEoaCl9dmFyIGg9dGhpcyxpPWEucmF3TW9kZXx8ITEsaj1hLnJhd0RhdGF8fG51bGwsaz1hLmZvcm1JZCxsPWEuZnJvbVJlbW90ZTtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGb3JtOiAiLGksaixrLGwpLCJmdW5jdGlvbiIhPXR5cGVvZiBsJiYiZnVuY3Rpb24iIT10eXBlb2YgYz8kZmguZm9ybXMubG9nLmUoImEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcmVxdWlyZWQgZm9yIGluaXRpYWxpc2luZyBmb3JtIGRhdGEuIG5ldyBGb3JtIChmb3JtSWQsIFtpc0Zyb21SZW1vdGVdLCBjYikiKTooImZ1bmN0aW9uIj09dHlwZW9mIGwmJihjPWwsbD0hMSksaz8oZC5jYWxsKGgse19pZDprLF90eXBlOiJmb3JtIn0pLGguc2V0KCJfaWQiLGspLGguc2V0TG9jYWxJZChoLmdlbkxvY2FsSWQoaykpLHZvaWQoaT09PSEwP2YoKTpnKCkpKTpjKCJDYW5ub3QgaW5pdGlhbGlzZSBhIGZvcm0gb2JqZWN0IHdpdGhvdXQgYW4gaWQuIGlkOiIrayxudWxsKSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7YS5Gb3JtPWM7dmFyIGU9e307cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0TGFzdFVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZvcm06IGdldExhc3RVcGRhdGUiKSx0aGlzLmdldCgibGFzdFVwZGF0ZWRUaW1lc3RhbXAiKX0sYy5wcm90b3R5cGUuZ2VuTG9jYWxJZD1mdW5jdGlvbihhKXtyZXR1cm4gYT0ic3RyaW5nIj09dHlwZW9mIGE/YTp0aGlzLmdldCgiX2lkIiwiIiksImZvcm1fIithfSxjLnByb3RvdHlwZS5pbml0aWFsaXNlPWZ1bmN0aW9uKCl7dGhpcy5maWx0ZXJBZG1pbkZpZWxkcygpLHRoaXMuaW5pdGlhbGlzZVBhZ2UoKSx0aGlzLmluaXRpYWxpc2VGaWVsZHMoKSx0aGlzLmluaXRpYWxpc2VSdWxlcygpfSxjLnByb3RvdHlwZS5maWx0ZXJBZG1pbkZpZWxkcz1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldFBhZ2VzRGVmKCksYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspe2Zvcih2YXIgZD1hW2NdLGU9ZC5maWVsZHMsZj1bXSxnPTAsaD0wO2g8ZS5sZW5ndGg7aCsrKXt2YXIgaT1lW2hdO2kuYWRtaW5Pbmx5fHwoYltpLl9pZF09e3BhZ2U6YyxmaWVsZDpnfSxnKyssZi5wdXNoKGkpKX1hW2NdLmZpZWxkcz1mfXRoaXMuc2V0KCJwYWdlcyIsYSksdGhpcy5zZXQoImZpZWxkUmVmIixiKX0sYy5wcm90b3R5cGUuaW5pdGlhbGlzZUZpZWxkcz1mdW5jdGlvbigpeyRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogaW5pdGlhbGlzZUZpZWxkcyIpO3ZhciBhPXRoaXMuZ2V0RmllbGRSZWYoKTt0aGlzLmZpZWxkcz17fTtmb3IodmFyIGMgaW4gYSl7dmFyIGQ9YVtjXSxlPWQucGFnZSxmPWQuZmllbGQ7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09Zil0aHJvdyJDb3JydXB0dGVkIGZpZWxkIHJlZmVyZW5jZSI7dmFyIGc9dGhpcy5nZXRGaWVsZERlZkJ5SW5kZXgoZSxmKTtpZighZyl0aHJvdyJGaWVsZCBkZWYgaXMgbm90IGZvdW5kLiI7dGhpcy5maWVsZHNbY109bmV3IGIubW9kZWxzLkZpZWxkKGcsdGhpcyl9fSxjLnByb3RvdHlwZS5pbml0aWFsaXNlUnVsZXM9ZnVuY3Rpb24oKXskZmguZm9ybXMubG9nLmQoIkZvcm06IGluaXRpYWxpc2VSdWxlcyIpLHRoaXMucnVsZXM9e307Zm9yKHZhciBhPXRoaXMuZ2V0UGFnZVJ1bGVzKCksYz10aGlzLmdldEZpZWxkUnVsZXMoKSxkPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YVtlXTtkLnB1c2goe3R5cGU6InBhZ2UiLGRlZmluaXRpb246Zn0pfWZvcihlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBnPWNbZV07ZC5wdXNoKHt0eXBlOiJmaWVsZCIsZGVmaW5pdGlvbjpnfSl9Zm9yKGU9MDtlPGQubGVuZ3RoO2UrKylmb3IodmFyIGg9ZFtlXSxpPW5ldyBiLm1vZGVscy5SdWxlKGgpLGo9aS5nZXRSZWxhdGVkRmllbGRJZCgpLGs9MDtrPGoubGVuZ3RoO2srKyl7dmFyIGw9altrXTt0aGlzLnJ1bGVzW2xdfHwodGhpcy5ydWxlc1tsXT1bXSksdGhpcy5ydWxlc1tsXS5wdXNoKGkpfX0sYy5wcm90b3R5cGUuZ2V0UnVsZXNCeUZpZWxkSWQ9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogZ2V0UnVsZXNCeUZpZWxkSWQiKSx0aGlzLnJ1bGVzW2FdfSxjLnByb3RvdHlwZS5pbml0aWFsaXNlUGFnZT1mdW5jdGlvbigpeyRmaC5mb3Jtcy5sb2cuZCgiRm9ybTogaW5pdGlhbGlzZVBhZ2UiKTt2YXIgYT10aGlzLmdldFBhZ2VzRGVmKCk7dGhpcy5wYWdlcz1bXTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPW5ldyBiLm1vZGVscy5QYWdlKGQsdGhpcyk7dGhpcy5wYWdlcy5wdXNoKGUpfX0sYy5wcm90b3R5cGUuZ2V0UGFnZU51bWJlckJ5RmllbGRJZD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmdldEZpZWxkUmVmKClbYV0ucGFnZTpudWxsfSxjLnByb3RvdHlwZS5nZXRQYWdlTW9kZWxMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFnZXN9LGMucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIm5hbWUiLCIiKX0sYy5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImRlc2NyaXB0aW9uIiwiIil9LGMucHJvdG90eXBlLmdldFBhZ2VSdWxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicGFnZVJ1bGVzIixbXSl9LGMucHJvdG90eXBlLmdldEZpZWxkUnVsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkUnVsZXMiLFtdKX0sYy5wcm90b3R5cGUuZ2V0RmllbGRSZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkUmVmIix7fSl9LGMucHJvdG90eXBlLmdldFBhZ2VzRGVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJwYWdlcyIsW10pfSxjLnByb3RvdHlwZS5nZXRQYWdlUmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJwYWdlUmVmIix7fSl9LGMucHJvdG90eXBlLmdldEZpZWxkTW9kZWxCeUlkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpZWxkc1thXX0sYy5wcm90b3R5cGUuZ2V0RmllbGRNb2RlbEJ5Q29kZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7Zm9yKHZhciBjIGluIGIuZmllbGRzKXt2YXIgZD1iLmZpZWxkc1tjXTtpZihudWxsIT09ZC5nZXRDb2RlKCkmJmQuZ2V0Q29kZSgpPT09YSlyZXR1cm4gZH1yZXR1cm4gbnVsbH0sYy5wcm90b3R5cGUuZ2V0RmllbGREZWZCeUluZGV4PWZ1bmN0aW9uKGEsYil7JGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBnZXRGaWVsZERlZkJ5SW5kZXg6ICIsYSxiKTt2YXIgYz10aGlzLmdldFBhZ2VzRGVmKCksZD1jW2FdO2lmKGQpe3ZhciBlPWQuZmllbGRzP2QuZmllbGRzOltdLGY9ZVtiXTtpZihmKXJldHVybiBmfXJldHVybiAkZmguZm9ybXMubG9nLmUoIkZvcm06IGdldEZpZWxkRGVmQnlJbmRleDogTm8gZmllbGQgZm91bmQgZm9yIHBhZ2UgYW5kIGZpZWxkIGluZGV4OiAiLGEsYiksbnVsbH0sYy5wcm90b3R5cGUuZ2V0UGFnZU1vZGVsQnlJZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIkZvcm06IGdldFBhZ2VNb2RlbEJ5SWQ6ICIsYSk7dmFyIGI9dGhpcy5nZXRQYWdlUmVmKClbYV07cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiP3RoaXMucGFnZXNbYl06dm9pZCAkZmguZm9ybXMubG9nLmUoInBhZ2UgaWQgaXMgbm90IGZvdW5kIGluIHBhZ2VSZWY6ICIrYSl9LGMucHJvdG90eXBlLm5ld1N1Ym1pc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBuZXdTdWJtaXNzaW9uIiksYi5tb2RlbHMuc3VibWlzc2lvbi5uZXdJbnN0YW5jZSh0aGlzKX0sYy5wcm90b3R5cGUuZ2V0Rm9ybUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfaWQiKX0sYy5wcm90b3R5cGUucmVtb3ZlRnJvbUNhY2hlPWZ1bmN0aW9uKCl7JGZoLmZvcm1zLmxvZy5kKCJGb3JtOiByZW1vdmVGcm9tQ2FjaGUiKSxlW3RoaXMuZ2V0Rm9ybUlkKCldJiZkZWxldGUgZVt0aGlzLmdldEZvcm1JZCgpXX0sYy5wcm90b3R5cGUuZ2V0RmlsZUZpZWxkc0lkPWZ1bmN0aW9uKCl7JGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBnZXRGaWxlRmllbGRzSWQiKTt2YXIgYT1bXTtmb3IodmFyIGIgaW4gdGhpcy5maWVsZHMpe3ZhciBjPXRoaXMuZmllbGRzW2JdOygiZmlsZSI9PT1jLmdldFR5cGUoKXx8InBob3RvIj09PWMuZ2V0VHlwZSgpfHwic2lnbmF0dXJlIj09PWMuZ2V0VHlwZSgpKSYmYS5wdXNoKGIpfXJldHVybiBhfSxjLnByb3RvdHlwZS5nZXRSdWxlRW5naW5lPWZ1bmN0aW9uKCl7aWYoJGZoLmZvcm1zLmxvZy5kKCJGb3JtOiBnZXRSdWxlRW5naW5lIiksdGhpcy5ydWxlc0VuZ2luZSlyZXR1cm4gdGhpcy5ydWxlc0VuZ2luZTt2YXIgYT10aGlzLmdldFByb3BzKCk7cmV0dXJuIHRoaXMucnVsZXNFbmdpbmU9bmV3IGIuUnVsZXNFbmdpbmUoYSksdGhpcy5ydWxlc0VuZ2luZX0sYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gIixhKSxkLmNhbGwodGhpcyx7X3R5cGU6ImZpbGVTdWJtaXNzaW9uIixkYXRhOmF9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5GaWxlU3VibWlzc2lvbj1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUubG9hZEZpbGU9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBsb2FkRmlsZSIpO3ZhciBjPXRoaXMuZ2V0SGFzaE5hbWUoKSxkPXRoaXM7Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnJlYWRGaWxlKGMsZnVuY3Rpb24oYixlKXtiPygkZmguZm9ybXMubG9nLmUoIkZpbGVTdWJtaXNzaW9uIGxvYWRGaWxlLiBFcnJvciByZWFkaW5nIGZpbGUiLGMsYiksYShiKSk6KCRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gbG9hZEZpbGUuIEZpbGUgcmVhZCBjb3JyZWN0bHkiLGMsZSksZC5maWxlT2JqPWUsYShudWxsKSl9KX0sYy5wcm90b3R5cGUuZ2V0UHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlT2JqPygkZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uRG93bmxvYWQ6IGZpbGUgb2JqZWN0IGZvdW5kIiksdGhpcy5maWxlT2JqKTp2b2lkICRmaC5mb3Jtcy5sb2cuZSgiRmlsZVN1Ym1pc3Npb25Eb3dubG9hZDogbm8gZmlsZSBvYmplY3QgZm91bmQiKX0sYy5wcm90b3R5cGUuc2V0U3VibWlzc2lvbklkPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gc2V0U3VibWlzc2lvbklkLiIsYSksdGhpcy5zZXQoInN1Ym1pc3Npb25JZCIsYSl9LGMucHJvdG90eXBlLmdldFN1Ym1pc3Npb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgic3VibWlzc2lvbklkIil9LGMucHJvdG90eXBlLmdldEhhc2hOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkYXRhIikuaGFzaE5hbWV9LGMucHJvdG90eXBlLmdldEZpZWxkSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImRhdGEiKS5maWVsZElkfSxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7JGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbkRvd25sb2FkICIsYSksZC5jYWxsKHRoaXMse190eXBlOiJmaWxlU3VibWlzc2lvbkRvd25sb2FkIixkYXRhOmF9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5GaWxlU3VibWlzc2lvbkRvd25sb2FkPWMsYi51dGlscy5leHRlbmQoYyxkKSxjLnByb3RvdHlwZS5zZXRTdWJtaXNzaW9uSWQ9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBzZXRTdWJtaXNzaW9uSWQuIixhKSx0aGlzLnNldCgic3VibWlzc2lvbklkIixhKX0sYy5wcm90b3R5cGUuZ2V0U3VibWlzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiRmlsZVN1Ym1pc3Npb24gZ2V0U3VibWlzc2lvbklkOiAiLHRoaXMuZ2V0KCJzdWJtaXNzaW9uSWQiKSksdGhpcy5nZXQoInN1Ym1pc3Npb25JZCIsIiIpfSxjLnByb3RvdHlwZS5nZXRIYXNoTmFtZT1mdW5jdGlvbigpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uIGdldEhhc2hOYW1lOiAiLHRoaXMuZ2V0KCJkYXRhIikuaGFzaE5hbWUpLHRoaXMuZ2V0KCJkYXRhIix7fSkuaGFzaE5hbWV9LGMucHJvdG90eXBlLmdldEZpZWxkSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBnZXRGaWVsZElkOiAiLHRoaXMuZ2V0KCJkYXRhIikuZmllbGRJZCksdGhpcy5nZXQoImRhdGEiLHt9KS5maWVsZElkfSxjLnByb3RvdHlwZS5nZXRGaWxlTWV0YURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBnZXRGaWxlTWV0YURhdGE6ICIsdGhpcy5nZXQoImRhdGEiKSksdGhpcy5nZXQoImRhdGEiKT8kZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uIGdldEZpbGVNZXRhRGF0YTogZGF0YSBmb3VuZCIsdGhpcy5nZXQoImRhdGEiKSk6JGZoLmZvcm1zLmxvZy5lKCJGaWxlU3VibWlzc2lvbiBnZXRGaWxlTWV0YURhdGE6IE5vIGRhdGEgZm91bmQiKSx0aGlzLmdldCgiZGF0YSIse30pfSxjLnByb3RvdHlwZS5nZXRGaWxlR3JvdXBJZD1mdW5jdGlvbigpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIkZpbGVTdWJtaXNzaW9uIGdldEZpbGVHcm91cElkOiAiLHRoaXMuZ2V0KCJkYXRhIikpLHRoaXMuZ2V0KCJkYXRhIix7fSkuZ3JvdXBJZHx8Im5vdHNldCJ9LGMucHJvdG90eXBlLmdldFJlbW90ZUZpbGVVUkw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGE9Yy5nZXRTdWJtaXNzaW9uSWQoKSxkPWMuZ2V0RmlsZUdyb3VwSWQoKSxlPWIuY29uZmlnLmdldCgiZm9ybVVybHMiLHt9KS5maWxlU3VibWlzc2lvbkRvd25sb2FkO3JldHVybiBlPyhlPWUucmVwbGFjZSgiOnN1Ym1pc3Npb25JZCIsYSksZT1lLnJlcGxhY2UoIjpmaWxlR3JvdXBJZCIsZCksZT1lLnJlcGxhY2UoIjphcHBJZCIsYi5jb25maWcuZ2V0KCJhcHBJZCIsIm5vdFNldCIpKSxiLm1vZGVscy5jb25maWcuZ2V0Q2xvdWRIb3N0KCkrIi9tYmFhcyIrZSk6Im5vdHNldCJ9dmFyIGM9dGhpcztyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJGaWxlU3VibWlzc2lvbiBnZXRSZW1vdGVGaWxlVVJMOiAiKSxhKCl9LGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyx7X3R5cGU6ImZvcm1TdWJtaXNzaW9uIixkYXRhOmF9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5Gb3JtU3VibWlzc2lvbj1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0UHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImRhdGEiKX0sYy5wcm90b3R5cGUuZ2V0Rm9ybUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkYXRhIil8fCRmaC5mb3Jtcy5sb2cuZSgiTm8gZm9ybSBkYXRhIGZvciBmb3JtIHN1Ym1pc3Npb24iKSx0aGlzLmdldCgiZGF0YSIpLmZvcm1JZH0sYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLHtfdHlwZToiY29tcGxldGVTdWJtaXNzaW9uIixzdWJtaXNzaW9uSWQ6YS5nZXQoInN1Ym1pc3Npb25JZCIpLGxvY2FsU3VibWlzc2lvbklkOmEuZ2V0KCJsb2NhbFN1Ym1pc3Npb25JZCIpfSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGEuRm9ybVN1Ym1pc3Npb25Db21wbGV0ZT1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLHtfdHlwZToiZm9ybVN1Ym1pc3Npb25Eb3dubG9hZCIsZGF0YTphfSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGEuRm9ybVN1Ym1pc3Npb25Eb3dubG9hZD1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0U3VibWlzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkYXRhIikuZ2V0KCJzdWJtaXNzaW9uSWQiLCJub3Qtc2V0Iil9LGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyx7X3R5cGU6InN1Ym1pc3Npb25TdGF0dXMiLHN1Ym1pc3Npb25JZDphLmdldCgic3VibWlzc2lvbklkIiksbG9jYWxTdWJtaXNzaW9uSWQ6YS5nZXQoImxvY2FsU3VibWlzc2lvbklkIil9KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYS5Gb3JtU3VibWlzc2lvblN0YXR1cz1jLGIudXRpbHMuZXh0ZW5kKGMsZCksYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLGEpLHRoaXMuc2V0KCJfdHlwZSIsImJhc2U2NGZpbGVTdWJtaXNzaW9uIil9dmFyIGQ9Yi5tb2RlbHMuRmlsZVN1Ym1pc3Npb247cmV0dXJuIGEuQmFzZTY0RmlsZVN1Ym1pc3Npb249YyxiLnV0aWxzLmV4dGVuZChjLGQpLGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2QuY2FsbCh0aGlzLHtfdHlwZToic3VibWlzc2lvbnMiLF9sdWRpZDoic3VibWlzc2lvbnNfbGlzdCIsc3VibWlzc2lvbnM6W119KX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYi51dGlscy5leHRlbmQoYyxkKSxjLnByb3RvdHlwZS5zZXRMb2NhbElkPWZ1bmN0aW9uKCl7JGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9ucyBzZXRMb2NhbElkLiBOb3QgUGVybWl0dGVkIGZvciBzdWJtaXNzaW9ucy4iKX0sYy5wcm90b3R5cGUuc2F2ZVN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIHNhdmVTdWJtaXNzaW9uIik7dmFyIGM9dGhpczt0aGlzLnVwZGF0ZVN1Ym1pc3Npb25XaXRob3V0U2F2aW5nKGEpLHRoaXMuY2xlYXJTZW50U3VibWlzc2lvbihmdW5jdGlvbigpe2Muc2F2ZUxvY2FsKGIpfSl9LGMucHJvdG90eXBlLnVwZGF0ZVN1Ym1pc3Npb25XaXRob3V0U2F2aW5nPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgdXBkYXRlU3VibWlzc2lvbldpdGhvdXRTYXZpbmciKTt2YXIgYj10aGlzLnBydW5lU3VibWlzc2lvbihhKSxjPWIuX2x1ZGlkO2lmKGMpe3ZhciBkPXRoaXMuZmluZE1ldGFCeUxvY2FsSWQoYyksZT10aGlzLmdldCgic3VibWlzc2lvbnMiKTtkPyhlLnNwbGljZShlLmluZGV4T2YoZCksMSksZS5wdXNoKGIpKTplLnB1c2goYil9ZWxzZSAkZmguZm9ybXMubG9nLmUoIkludmFsaWQgc3VibWlzc2lvbiBmb3IgbG9jYWxJZDoiLGMsSlNPTi5zdHJpbmdpZnkoYSkpfSxjLnByb3RvdHlwZS5jbGVhclNlbnRTdWJtaXNzaW9uPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgY2xlYXJTZW50U3VibWlzc2lvbiIpO3ZhciBiPXRoaXMsYz0kZmguZm9ybXMuY29uZmlnLmdldCgkZmguZm9ybXMuY29uZmlnLmdldCgibWF4X3NlbnRfc2F2ZWQiKT8ibWF4X3NlbnRfc2F2ZWQiOiJzZW50X3NhdmVfbWluIiksZD0odGhpcy5nZXQoInN1Ym1pc3Npb25zIiksdGhpcy5nZXRTdWJtaXR0ZWQoKSk7aWYoZC5sZW5ndGg+Yyl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9ucyBjbGVhclNlbnRTdWJtaXNzaW9uIHBydW5pbmcgc2VudFN1Ym1pc3Npb25zLmxlbmd0aD5tYXhTZW50IiksZD1kLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gRGF0ZShhLnN1Ym1pdHRlZERhdGUpPERhdGUoYi5zdWJtaXR0ZWREYXRlKT8xOi0xfSk7Zm9yKHZhciBlPVtdO2QubGVuZ3RoPmM7KWUucHVzaChkLnBvcCgpKTtmb3IodmFyIGY9ZS5sZW5ndGgsZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgaD1lW2ddO2IuZ2V0U3VibWlzc2lvbkJ5TWV0YShoLGZ1bmN0aW9uKGIsYyl7Yy5jbGVhckxvY2FsKGZ1bmN0aW9uKGIpe2ImJiRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbnMgY2xlYXJTZW50U3VibWlzc2lvbiBzdWJtaXNzaW9uIGNsZWFyTG9jYWwiLGIpLGYtLSwwPT09ZiYmYShudWxsLG51bGwpfSl9KX19ZWxzZSBhKG51bGwsbnVsbCl9LGMucHJvdG90eXBlLmZpbmRCeUZvcm1JZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGZpbmRCeUZvcm1JZCIsYSk7Zm9yKHZhciBiPVtdLGM9dGhpcy5nZXQoInN1Ym1pc3Npb25zIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2NbZF0uZm9ybUlkPT09YSYmYi5wdXNoKGUpfXJldHVybiBifSxjLnByb3RvdHlwZS5nZXRTdWJtaXNzaW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgic3VibWlzc2lvbnMiKX0sYy5wcm90b3R5cGUuZ2V0U3VibWlzc2lvbk1ldGFMaXN0PWMucHJvdG90eXBlLmdldFN1Ym1pc3Npb25zLGMucHJvdG90eXBlLmZpbmRNZXRhQnlMb2NhbElkPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZmluZE1ldGFCeUxvY2FsSWQiLGEpO2Zvcih2YXIgYj10aGlzLmdldCgic3VibWlzc2lvbnMiKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoYltjXS5fbHVkaWQ9PT1hKXJldHVybiBkfXJldHVybiBudWxsfSxjLnByb3RvdHlwZS5maW5kTWV0YUJ5UmVtb3RlSWQ9ZnVuY3Rpb24oYSl7YT1hfHwiIiwkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGZpbmRNZXRhQnlSZW1vdGVJZDogIithKTtmb3IodmFyIGI9dGhpcy5nZXQoInN1Ym1pc3Npb25zIiksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGJbY10uc3VibWlzc2lvbklkJiZiW2NdLnN1Ym1pc3Npb25JZD09PWEpcmV0dXJuIGR9cmV0dXJuIG51bGx9LGMucHJvdG90eXBlLnBydW5lU3VibWlzc2lvbj1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIHBydW5lU3VibWlzc2lvbiIpO2Zvcih2YXIgYj1bIl9pZCIsIl9sdWRpZCIsInN0YXR1cyIsImZvcm1OYW1lIiwiZm9ybUlkIiwiX2xvY2FsTGFzdFVwZGF0ZSIsImNyZWF0ZURhdGUiLCJzdWJtaXREYXRlIiwiZGV2aWNlRm9ybVRpbWVzdGFtcCIsImVycm9yTWVzc2FnZSIsInN1Ym1pc3Npb25TdGFydGVkVGltZXN0YW1wIiwic3VibWl0dGVkRGF0ZSIsInN1Ym1pc3Npb25JZCIsInNhdmVEYXRlIiwidXBsb2FkU3RhcnREYXRlIl0sYz1hLmdldFByb3BzKCksZD17fSxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV07ZFtmXT1jW2ZdfXJldHVybiBkfSxjLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGNsZWFyIik7dmFyIGI9dGhpczt0aGlzLmNsZWFyTG9jYWwoZnVuY3Rpb24oYyl7Yz8oJGZoLmZvcm1zLmxvZy5lKGMpLGEoYykpOihiLnNldCgic3VibWlzc2lvbnMiLFtdKSxhKG51bGwsbnVsbCkpfSl9LGMucHJvdG90eXBlLmdldERyYWZ0cz1mdW5jdGlvbihhKXtyZXR1cm4gJGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9ucyBnZXREcmFmdHM6ICIsYSksYXx8KGE9e30pLGEuc3RhdHVzPSJkcmFmdCIsdGhpcy5maW5kQnlTdGF0dXMoYSl9LGMucHJvdG90eXBlLmdldFBlbmRpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0UGVuZGluZzogIixhKSxhfHwoYT17fSksYS5zdGF0dXM9InBlbmRpbmciLHRoaXMuZmluZEJ5U3RhdHVzKGEpfSxjLnByb3RvdHlwZS5nZXRTdWJtaXR0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0U3VibWl0dGVkOiAiLGEpLGF8fChhPXt9KSxhLnN0YXR1cz0ic3VibWl0dGVkIix0aGlzLmZpbmRCeVN0YXR1cyhhKX0sYy5wcm90b3R5cGUuZ2V0RXJyb3I9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0RXJyb3I6ICIsYSksYXx8KGE9e30pLGEuc3RhdHVzPSJlcnJvciIsdGhpcy5maW5kQnlTdGF0dXMoYSl9LGMucHJvdG90eXBlLmdldEluUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZ2V0SW5Qcm9ncmVzczogIixhKSxhfHwoYT17fSksYS5zdGF0dXM9ImlucHJvZ3Jlc3MiLHRoaXMuZmluZEJ5U3RhdHVzKGEpfSxjLnByb3RvdHlwZS5nZXREb3dubG9hZGVkPWZ1bmN0aW9uKGEpe3JldHVybiAkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIGdldERvd25sb2FkZWQ6ICIsYSksYXx8KGE9e30pLGEuc3RhdHVzPSJkb3dubG9hZGVkIix0aGlzLmZpbmRCeVN0YXR1cyhhKX0sYy5wcm90b3R5cGUuZmluZEJ5U3RhdHVzPWZ1bmN0aW9uKGEpe2lmKCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgZmluZEJ5U3RhdHVzOiAiLGEpLGF8fChhPXt9KSwic3RyaW5nIj09dHlwZW9mIGEmJihhPXtzdGF0dXM6YX0pLG51bGw9PT1hLnN0YXR1cylyZXR1cm5bXTtmb3IodmFyIGI9YS5zdGF0dXMsYz1hLmZvcm1JZCxkPWEuc29ydEZpZWxkfHwiY3JlYXRlRGF0ZSIsZT10aGlzLmdldCgic3VibWlzc2lvbnMiLFtdKSxmPVtdLGc9MDtnPGUubGVuZ3RoO2crKyliLmluZGV4T2YoZVtnXS5zdGF0dXMpPi0xJiYobnVsbCE9Yz9lW2ddLmZvcm1JZD09PWMmJmYucHVzaChlW2ddKTpmLnB1c2goZVtnXSkpO3JldHVybiBmPWYuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBEYXRlKGFbZF0pPERhdGUoYltkXSk/LTE6MX0pfSxjLnByb3RvdHlwZS5nZXRTdWJtaXNzaW9uQnlNZXRhPWZ1bmN0aW9uKGEsYyl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9ucyBnZXRTdWJtaXNzaW9uQnlNZXRhOiAiLGEpO3ZhciBkPWEuX2x1ZGlkO2Q/Yi5tb2RlbHMuc3VibWlzc2lvbi5mcm9tTG9jYWwoZCxjKTooJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9ucyBnZXRTdWJtaXNzaW9uQnlNZXRhOiBsb2NhbCBpZCBub3QgZm91bmQgZm9yIHJldHJpZXZpbmcgc3VibWlzc2lvbi4iLGQsYSksYygibG9jYWwgaWQgbm90IGZvdW5kIGZvciByZXRyaWV2aW5nIHN1Ym1pc3Npb24iKSl9LGMucHJvdG90eXBlLnJlbW92ZVN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb25zIHJlbW92ZVN1Ym1pc3Npb246ICIsYSk7dmFyIGM9dGhpcy5pbmRleE9mKGEpO2M+LTEmJnRoaXMuZ2V0KCJzdWJtaXNzaW9ucyIpLnNwbGljZShjLDEpLHRoaXMuc2F2ZUxvY2FsKGIpfSxjLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbnMgaW5kZXhPZjogIixhKTtmb3IodmFyIGI9dGhpcy5nZXQoInN1Ym1pc3Npb25zIiksYz0wO2M8Yi5sZW5ndGg7YysrKXt7YltjXX1pZihiW2NdLl9sdWRpZD09PWEpcmV0dXJuIGN9cmV0dXJuLTF9LGEuc3VibWlzc2lvbnM9bmV3IGMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7Yz1jP2M6e307dmFyIGQ9bmV3IGUoYSxjKTtyZXR1cm4gYy5zdWJtaXNzaW9uSWQmJmIubW9kZWxzLnN1Ym1pc3Npb25zLnVwZGF0ZVN1Ym1pc3Npb25XaXRob3V0U2F2aW5nKGQpLGR9ZnVuY3Rpb24gZChhLGIpe2lmKCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbiBmcm9tTG9jYWw6ICIsYSksZlthXSkkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gZnJvbUxvY2FsIGZyb20gY2FjaGU6ICIsYSksYihudWxsLGZbYV0pO2Vsc2V7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIGZyb21Mb2NhbCBub3QgaW4gY2FjaGUuIExvYWRpbmcgZnJvbSBsb2NhbCBzdG9yYWdlLjogIixhKTt2YXIgYz1uZXcgZTtjLnNldExvY2FsSWQoYSksYy5sb2FkTG9jYWwoZnVuY3Rpb24oYyxkKXtpZihjKSRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbiBmcm9tTG9jYWwuIEVycm9yIGxvYWRpbmcgZnJvbSBsb2NhbDogIixhLGMpLGIoYyk7ZWxzZXtpZigkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gZnJvbUxvY2FsLiBMb2FkIGZyb20gbG9jYWwgc3VjZXNzZnVsbDogIixhKSxkLmlzRG93bmxvYWRTdWJtaXNzaW9uKCkpcmV0dXJuIGIobnVsbCxkKTtkLnJlbG9hZEZvcm0oZnVuY3Rpb24oYyl7Yz8oJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9uIGZyb21Mb2NhbC4gcmVsb2FkRm9ybS4gRXJyb3IgcmUtbG9hZGluZyBmb3JtOiAiLGEsYyksYihjKSk6KCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbiBmcm9tTG9jYWwuIHJlbG9hZEZvcm0uIFJlLWxvYWRpbmcgZm9ybSBzdWNjZXNzZnVsbDogIixhKSxmW2FdPWQsYihudWxsLGQpKX0pfX0pfX1mdW5jdGlvbiBlKGEsYyl7Yz1jfHx7fSwkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb246ICIsYyksZy5jYWxsKHRoaXMse190eXBlOiJzdWJtaXNzaW9uIn0pLCJ1bmRlZmluZWQiIT10eXBlb2YgYSYmYT8odGhpcy5zZXQoImZvcm1OYW1lIixhLmdldCgibmFtZSIpKSx0aGlzLnNldCgiZm9ybUlkIixhLmdldCgiX2lkIikpLHRoaXMuc2V0KCJkZXZpY2VGb3JtVGltZXN0YW1wIixhLmdldExhc3RVcGRhdGUoKSksdGhpcy5zZXQoImNyZWF0ZURhdGUiLGIudXRpbHMuZ2V0VGltZSgpKSx0aGlzLnNldCgidGltZXpvbmVPZmZzZXQiLGIudXRpbHMuZ2V0VGltZSghMCkpLHRoaXMuc2V0KCJhcHBJZCIsYi5jb25maWcuZ2V0KCJhcHBJZCIpKSx0aGlzLnNldCgiYXBwRW52aXJvbm1lbnQiLGIuY29uZmlnLmdldCgiZW52IikpLHRoaXMuc2V0KCJhcHBDbG91ZE5hbWUiLCIiKSx0aGlzLnNldCgiY29tbWVudHMiLFtdKSx0aGlzLnNldCgiZm9ybUZpZWxkcyIsW10pLHRoaXMuc2V0KCJzYXZlRGF0ZSIsbnVsbCksdGhpcy5zZXQoInN1Ym1pdERhdGUiLG51bGwpLHRoaXMuc2V0KCJ1cGxvYWRTdGFydERhdGUiLG51bGwpLHRoaXMuc2V0KCJzdWJtaXR0ZWREYXRlIixudWxsKSx0aGlzLnNldCgidXNlcklkIixudWxsKSx0aGlzLnNldCgiZmlsZXNJblN1Ym1pc3Npb24iLFtdKSx0aGlzLnNldCgiZGV2aWNlSWQiLGIuY29uZmlnLmdldCgiZGV2aWNlSWQiKSksdGhpcy50cmFuc2FjdGlvbk1vZGU9ITEpOih0aGlzLnNldCgiYXBwSWQiLGIuY29uZmlnLmdldCgiYXBwSWQiKSksYy5zdWJtaXNzaW9uSWQ/KHRoaXMuc2V0KCJkb3dubG9hZFN1Ym1pc3Npb24iLCEwKSx0aGlzLnNldFJlbW90ZVN1Ym1pc3Npb25JZChjLnN1Ym1pc3Npb25JZCkpOnRoaXMuc2V0KCJzdGF0dXMiLCJuZXciKSksdGhpcy5zZXQoInN0YXR1cyIsIm5ldyIpLHRoaXMuZ2VuTG9jYWxJZCgpO3ZhciBkPXRoaXMuZ2V0TG9jYWxJZCgpO2ZbZF09dGhpc31hLnN1Ym1pc3Npb249e25ld0luc3RhbmNlOmMsZnJvbUxvY2FsOmR9O3ZhciBmPXt9LGc9Yi5tb2RlbHMuTW9kZWwsaD17Im5ldyI6WyJkcmFmdCIsInBlbmRpbmciXSxkcmFmdDpbInBlbmRpbmciLCJkcmFmdCJdLHBlbmRpbmc6WyJpbnByb2dyZXNzIiwiZXJyb3IiLCJkcmFmdCJdLGlucHJvZ3Jlc3M6WyJwZW5kaW5nIiwiZXJyb3IiLCJpbnByb2dyZXNzIiwiZG93bmxvYWRlZCIsInF1ZXVlZCJdLHN1Ym1pdHRlZDpbXSxlcnJvcjpbImRyYWZ0IiwicGVuZGluZyIsImVycm9yIl0sZG93bmxvYWRlZDpbXSxxdWV1ZWQ6WyJlcnJvciIsInN1Ym1pdHRlZCJdfTtyZXR1cm4gYi51dGlscy5leHRlbmQoZSxnKSxlLnByb3RvdHlwZS5zYXZlRHJhZnQ9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIHNhdmVEcmFmdDogIik7dmFyIGM9ImRyYWZ0IixkPXRoaXM7dGhpcy5zZXQoInRpbWV6b25lT2Zmc2V0IixiLnV0aWxzLmdldFRpbWUoITApKSx0aGlzLnNldCgic2F2ZURhdGUiLGIudXRpbHMuZ2V0VGltZSgpKSx0aGlzLmNoYW5nZVN0YXR1cyhjLGZ1bmN0aW9uKGIpe3JldHVybiBiP2EoYik6KGQuZW1pdCgic2F2ZWRyYWZ0Iiksdm9pZCBhKG51bGwsbnVsbCkpfSl9LGUucHJvdG90eXBlLnZhbGlkYXRlRmllbGQ9ZnVuY3Rpb24oYSxiKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gdmFsaWRhdGVGaWVsZDogIixhKTt2YXIgYz10aGlzO3RoaXMuZ2V0Rm9ybShmdW5jdGlvbihkLGUpe2lmKGQpYihkKTtlbHNle3ZhciBmPWMuZ2V0UHJvcHMoKSxnPWUuZ2V0UnVsZUVuZ2luZSgpO2cudmFsaWRhdGVGaWVsZChhLGYsYil9fSl9LGUucHJvdG90eXBlLmNoZWNrUnVsZXM9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIGNoZWNrUnVsZXM6ICIpO3ZhciBiPXRoaXM7dGhpcy5nZXRGb3JtKGZ1bmN0aW9uKGMsZCl7aWYoYylhKGMpO2Vsc2V7dmFyIGU9Yi5nZXRQcm9wcygpLGY9ZC5nZXRSdWxlRW5naW5lKCk7Zi5jaGVja1J1bGVzKGUsYSl9fSl9LGUucHJvdG90eXBlLnBlcmZvcm1WYWxpZGF0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5nZXRGb3JtKGZ1bmN0aW9uKGMsZCl7aWYoYylyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9uIHN1Ym1pdDogRXJyb3IgZ2V0dGluZyBmb3JtICIsYyksYShjKTt2YXIgZT1kLmdldFJ1bGVFbmdpbmUoKSxmPWIuZ2V0UHJvcHMoKTtlLnZhbGlkYXRlRm9ybShmLGEpfSl9LGUucHJvdG90eXBlLnZhbGlkYXRlU3VibWlzc2lvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IucGVyZm9ybVZhbGlkYXRpb24oZnVuY3Rpb24oYyxkKXtpZihjKXJldHVybiBhKGMpO3ZhciBlPWQudmFsaWRhdGlvbjtyZXR1cm4gZS52YWxpZD9hKG51bGwsZS52YWxpZCk6KGIuZW1pdCgidmFsaWRhdGlvbmVycm9yIixlKSx2b2lkIGEobnVsbCxlLnZhbGlkKSl9KX0sZS5wcm90b3R5cGUuc3VibWl0PWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7JGZoLmZvcm1zLmxvZy5kKCJTdWJtaXNzaW9uIHN1Ym1pdDogIik7dmFyIGQ9InBlbmRpbmciO3RoaXMuc2V0KCJ0aW1lem9uZU9mZnNldCIsYi51dGlscy5nZXRUaW1lKCEwKSksYy5wZXJmb3JtVmFsaWRhdGlvbihmdW5jdGlvbihiLGUpe2lmKGIpJGZoLmZvcm1zLmxvZy5lKCJTdWJtaXNzaW9uIHN1Ym1pdCB2YWxpZGF0ZUZvcm06IEVycm9yIHZhbGlkYXRpbmcgZm9ybSAiLGIpLGEoYik7ZWxzZXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gc3VibWl0OiB2YWxpZGF0ZUZvcm0uIENvbXBsZXRlZCByZXN1bHQiLGUpO3ZhciBmPWUudmFsaWRhdGlvbjtmLnZhbGlkPygkZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gc3VibWl0OiB2YWxpZGF0ZUZvcm0uIENvbXBsZXRlZCBGb3JtIFZhbGlkIixlKSxjLnNldCgic3VibWl0RGF0ZSIsbmV3IERhdGUpLGMuY2hhbmdlU3RhdHVzKGQsZnVuY3Rpb24oYil7Yj9hKGIpOihjLmVtaXQoInN1Ym1pdCIpLGEobnVsbCxudWxsKSl9KSk6KCRmaC5mb3Jtcy5sb2cuZCgiU3VibWlzc2lvbiBzdWJtaXQ6IHZhbGlkYXRlRm9ybS4gQ29tcGxldGVkIFZhbGlkYXRpb24gZXJyb3IiLGUpLGMuZW1pdCgidmFsaWRhdGlvbmVycm9yIixmKSxhKCJWYWxpZGF0aW9uIGVycm9yIikpfX0pfSxlLnByb3RvdHlwZS5nZXRVcGxvYWRUYXNrPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZ2V0VXBsb2FkVGFza0lkKCk7Yz9iLm1vZGVscy51cGxvYWRNYW5hZ2VyLmdldFRhc2tCeUlkKGMsYSk6YShudWxsLG51bGwpfSxlLnByb3RvdHlwZS5nZXRGb3JtSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZvcm1JZCIpfSxlLnByb3RvdHlwZS5nZXRGb3JtU3VibWl0dGVkQWdhaW5zdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZm9ybVN1Ym1pdHRlZEFnYWluc3QiKX0sZS5wcm90b3R5cGUuZ2V0RG93bmxvYWRUYXNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoJGZoLmZvcm1zLmxvZy5kKCJnZXREb3dubG9hZFRhc2siKSxiLmlzRG93bmxvYWRTdWJtaXNzaW9uKCkpYi5nZXRVcGxvYWRUYXNrKGEpO2Vsc2UgaWYoYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbiBpcyBub3QgYSBkb3dubG9hZCBzdWJtaXNzaW9uIiksYSgiU3VibWlzc2lvbiBpcyBub3QgYSBkb3dubG9hZCBzdWJtaXNzaW9uIil9LGUucHJvdG90eXBlLmNhbmNlbFVwbG9hZFRhc2s9ZnVuY3Rpb24oYSl7dmFyIGM9InN1Ym1pdCIsZD10aGlzO2IubW9kZWxzLnVwbG9hZE1hbmFnZXIuY2FuY2VsU3VibWlzc2lvbih0aGlzLGZ1bmN0aW9uKGIpe2ImJiRmaC5mb3Jtcy5sb2cuZShiKSxkLmNoYW5nZVN0YXR1cyhjLGEpfSl9LGUucHJvdG90eXBlLmdldFVwbG9hZFRhc2tJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgidXBsb2FkVGFza0lkIil9LGUucHJvdG90eXBlLnNldFVwbG9hZFRhc2tJZD1mdW5jdGlvbihhKXt0aGlzLnNldCgidXBsb2FkVGFza0lkIixhKX0sZS5wcm90b3R5cGUuaXNJblByb2dyZXNzPWZ1bmN0aW9uKCl7cmV0dXJuImlucHJvZ3Jlc3MiPT09dGhpcy5nZXQoInN0YXR1cyIpfSxlLnByb3RvdHlwZS5pc0Rvd25sb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4iZG93bmxvYWRlZCI9PT10aGlzLmdldCgic3RhdHVzIil9LGUucHJvdG90eXBlLmlzU3VibWl0dGVkPWZ1bmN0aW9uKCl7cmV0dXJuInN1Ym1pdHRlZCI9PT10aGlzLmdldCgic3RhdHVzIil9LGUucHJvdG90eXBlLnN1Ym1pdHRlZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKGMuaXNEb3dubG9hZFN1Ym1pc3Npb24oKSl7dmFyIGQ9IkRvd25sb2FkZWQgc3VibWlzc2lvbnMgc2hvdWxkIG5vdCBjYWxsIHN1Ym1pdHRlZCBmdW5jdGlvbi4iO3JldHVybiAkZmguZm9ybXMubG9nLmUoZCksYShkKX0kZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gc3VibWl0dGVkIGNhbGxlZCIpO3ZhciBlPSJzdWJtaXR0ZWQiO2Muc2V0KCJzdWJtaXR0ZWREYXRlIixiLnV0aWxzLmdldFRpbWUoKSksYy5jaGFuZ2VTdGF0dXMoZSxmdW5jdGlvbihiKXtiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHNldHRpbmcgc3VibWl0dGVkIHN0YXR1cyAiK2IpLGEoYikpOigkZmguZm9ybXMubG9nLmQoIlN1Ym1pdHRlZCBzdGF0dXMgc2V0IGZvciBzdWJtaXNzaW9uICIrYy5nZXQoInN1Ym1pc3Npb25JZCIpKyIgd2l0aCBsb2NhbElkICIrYy5nZXRMb2NhbElkKCkpLGMuZW1pdCgic3VibWl0dGVkIixjLmdldCgic3VibWlzc2lvbklkIikpLGEobnVsbCxudWxsKSl9KX0sZS5wcm90b3R5cGUucXVldWVkPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7aWYoYy5pc0Rvd25sb2FkU3VibWlzc2lvbigpKXt2YXIgZD0iRG93bmxvYWRlZCBzdWJtaXNzaW9ucyBzaG91bGQgbm90IGNhbGwgcXVldWVkIGZ1bmN0aW9uLiI7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZShkKSxhKGQpfXZhciBlPSJxdWV1ZWQiO2Muc2V0KCJxdWV1ZWREYXRlIixiLnV0aWxzLmdldFRpbWUoKSksYy5jaGFuZ2VTdGF0dXMoZSxmdW5jdGlvbihiKXtiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHNldHRpbmcgcXVldWVkIHN0YXR1cyAiK2IpLGEoYikpOigkZmguZm9ybXMubG9nLmQoIlF1ZXVlZCBzdGF0dXMgc2V0IGZvciBzdWJtaXNzaW9uICIrYy5nZXQoInN1Ym1pc3Npb25JZCIpKyIgd2l0aCBsb2NhbElkICIrYy5nZXRMb2NhbElkKCkpLGMuZW1pdCgicXVldWVkIixjLmdldCgic3VibWlzc2lvbklkIikpLGEobnVsbCxjKSl9KX0sZS5wcm90b3R5cGUuZG93bmxvYWRlZD1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gRG93bmxvYWRlZCBjYWxsZWQiKTt2YXIgYz10aGlzLGQ9ImRvd25sb2FkZWQiO2Muc2V0KCJkb3dubG9hZGVkRGF0ZSIsYi51dGlscy5nZXRUaW1lKCkpLGMuY2hhbmdlU3RhdHVzKGQsZnVuY3Rpb24oYil7Yj8oJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzZXR0aW5nIGRvd25sb2FkZWQgc3RhdHVzICIrYiksYShiKSk6KCRmaC5mb3Jtcy5sb2cuZCgiRG93bmxvYWRlZCBzdGF0dXMgc2V0IGZvciBzdWJtaXNzaW9uICIrYy5nZXQoInN1Ym1pc3Npb25JZCIpKyIgd2l0aCBsb2NhbElkICIrYy5nZXRMb2NhbElkKCkpLGMuZW1pdCgiZG93bmxvYWRlZCIsYy5nZXQoInN1Ym1pc3Npb25JZCIpKSxhKG51bGwsYykpfSl9LGUucHJvdG90eXBlLmdlbkxvY2FsSWQ9ZnVuY3Rpb24oKXt2YXIgYT1iLnV0aWxzLmxvY2FsSWQodGhpcyksYz10aGlzLmdldCgiZm9ybUlkIil8fE1hdGguY2VpbCgxZTUqTWF0aC5yYW5kb20oKSk7dGhpcy5zZXRMb2NhbElkKGMrIl8iK2EpfSxlLnByb3RvdHlwZS5jaGFuZ2VTdGF0dXM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmlzU3RhdHVzVmFsaWQoYSkpe3RoaXMuc2V0KCJzdGF0dXMiLGEpLHRoaXMuc2F2ZVRvTGlzdChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoYSl9KSx0aGlzLnNhdmVMb2NhbChiKX1lbHNlICRmaC5mb3Jtcy5sb2cuZSgiVGFyZ2V0IHN0YXR1cyBpcyBub3QgdmFsaWQ6ICIrYSksYigiVGFyZ2V0IHN0YXR1cyBpcyBub3QgdmFsaWQ6ICIrYSl9LGUucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbihhKXt2YXIgYz0iaW5wcm9ncmVzcyIsZD10aGlzO3JldHVybiB0aGlzLmlzU3RhdHVzVmFsaWQoYyk/KHRoaXMuc2V0KCJzdGF0dXMiLGMpLHRoaXMuc2V0KCJ1cGxvYWRTdGFydERhdGUiLGIudXRpbHMuZ2V0VGltZSgpKSxiLm1vZGVscy5zdWJtaXNzaW9ucy51cGRhdGVTdWJtaXNzaW9uV2l0aG91dFNhdmluZyh0aGlzKSxiLm1vZGVscy51cGxvYWRNYW5hZ2VyLnF1ZXVlU3VibWlzc2lvbihkLGZ1bmN0aW9uKGIsYyl7Yj9hKGIpOihjLnNldCgiZXJyb3IiLG51bGwpLGMuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCB0YXNrOiAiK2EpfSksZC5lbWl0KCJpbnByb2dyZXNzIixjKSxjLm9uKCJwcm9ncmVzcyIsZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJFbWl0dGluZyB1cGxvYWQgcHJvZ3Jlc3MgZm9yIHN1Ym1pc3Npb246ICIrZC5nZXRMb2NhbElkKCkrSlNPTi5zdHJpbmdpZnkoYSkpLGQuZW1pdCgicHJvZ3Jlc3MiLGEpfSksYShudWxsLGMpKX0pLHZvaWQgMCk6YSgiSW52YWxpZCBTdGF0dXMgdG8gdXBsb2FkIGEgZm9ybSBzdWJtaXNzaW9uLiIpfSxlLnByb3RvdHlwZS5kb3dubG9hZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzOyRmaC5mb3Jtcy5sb2cuZCgiU3RhcnRpbmcgZG93bmxvYWQgZm9yIHN1Ym1pc3Npb246ICIrYy5nZXRMb2NhbElkKCkpO3ZhciBkPSJwZW5kaW5nIjtyZXR1cm4gdGhpcy5pc1N0YXR1c1ZhbGlkKGQpPyh0aGlzLnNldCgic3RhdHVzIixkKSxkPSJpbnByb2dyZXNzIix0aGlzLmlzU3RhdHVzVmFsaWQoZCk/KHRoaXMuc2V0KCJzdGF0dXMiLGQpLHZvaWQgYi5tb2RlbHMudXBsb2FkTWFuYWdlci5xdWV1ZVN1Ym1pc3Npb24oYyxmdW5jdGlvbihiLGQpe3JldHVybiBiP2EoYik6KGQuc2V0KCJlcnJvciIsbnVsbCksZC5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgZG93bmxvYWQgdGFzazogIithKX0pLGMuZW1pdCgiaW5wcm9ncmVzcyIsZCksZC5vbigicHJvZ3Jlc3MiLGZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiRW1pdHRpbmcgZG93bmxvYWQgcHJvZ3Jlc3MgZm9yIHN1Ym1pc3Npb246ICIrYy5nZXRMb2NhbElkKCkrSlNPTi5zdHJpbmdpZnkoYSkpLGMuZW1pdCgicHJvZ3Jlc3MiLGEpfSksYShudWxsLGQpKX0pKTphKCJJbnZhbGlkIFN0YXR1cyB0byBkb3dsb2FkIGEgZm9ybSBzdWJtaXNzaW9uIikpOmEoIkludmFsaWQgU3RhdHVzIHRvIGRvd25sb2FkIGEgZm9ybSBzdWJtaXNzaW9uLiIpfSxlLnByb3RvdHlwZS5zYXZlVG9MaXN0PWZ1bmN0aW9uKGEpe2IubW9kZWxzLnN1Ym1pc3Npb25zLnNhdmVTdWJtaXNzaW9uKHRoaXMsYSl9LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXQoImVycm9yTWVzc2FnZSIsYSk7dmFyIGM9ImVycm9yIjt0aGlzLmNoYW5nZVN0YXR1cyhjLGIpLHRoaXMuZW1pdCgiZXJyb3IiLGEpfSxlLnByb3RvdHlwZS5nZXRTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInN0YXR1cyIpfSxlLnByb3RvdHlwZS5pc1N0YXR1c1ZhbGlkPWZ1bmN0aW9uKGEpeyRmaC5mb3Jtcy5sb2cuZCgiaXNTdGF0dXNWYWxpZC4gVGFyZ2V0IFN0YXR1czogIithKyIgQ3VycmVudCBTdGF0dXM6ICIrdGhpcy5nZXQoInN0YXR1cyIpLnRvTG93ZXJDYXNlKCkpO3ZhciBiPXRoaXMuZ2V0KCJzdGF0dXMiKS50b0xvd2VyQ2FzZSgpLGM9aFtiXTtyZXR1cm4gYy5pbmRleE9mKGEpPi0xPyEwOih0aGlzLnNldCgic3RhdHVzIiwiZXJyb3IiKSwhMSl9LGUucHJvdG90eXBlLmFkZENvbW1lbnQ9ZnVuY3Rpb24oYSxjKXt2YXIgZD1iLnV0aWxzLmdldFRpbWUoKSxlPWQuZ2V0VGltZSgpLGY9e21hZGVCeToidW5kZWZpbmVkIj09dHlwZW9mIGM/IiI6Yy50b1N0cmluZygpLG1hZGVPbjpkLHZhbHVlOmEsdGltZVN0YW1wOmV9O3JldHVybiB0aGlzLmdldENvbW1lbnRzKCkucHVzaChmKSxlfSxlLnByb3RvdHlwZS5nZXRDb21tZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiY29tbWVudHMiKX0sZS5wcm90b3R5cGUucmVtb3ZlQ29tbWVudD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5nZXRDb21tZW50cygpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLnRpbWVTdGFtcD09PWEpcmV0dXJuIHZvaWQgYi5zcGxpY2UoYywxKX19LGUucHJvdG90eXBlLnBvcHVsYXRlRmlsZXNJblN1Ym1pc3Npb249ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcyxiPVtdLGM9YS5nZXRTdWJtaXNzaW9uRmlsZXMoKSxkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5maWxlTmFtZT9iLnB1c2goY1tkXS5maWxlTmFtZSk6Y1tkXS5oYXNoTmFtZSYmYi5wdXNoKGNbZF0uaGFzaE5hbWUpO2Euc2V0KCJmaWxlc0luU3VibWlzc2lvbiIsYyl9LGUucHJvdG90eXBlLmdldFN1Ym1pc3Npb25GaWxlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7JGZoLmZvcm1zLmxvZy5kKCJJbiBnZXRTdWJtaXNzaW9uRmlsZXM6ICIrYS5nZXRMb2NhbElkKCkpO2Zvcih2YXIgYj1bXSxjPWEuZ2V0Rm9ybUZpZWxkcygpLGQ9MDtkPGMubGVuZ3RoO2QrKylmb3IodmFyIGU9Y1tkXS5maWVsZFZhbHVlc3x8W10sZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0uZmlsZU5hbWU/Yi5wdXNoKGVbZl0pOmVbZl0uaGFzaE5hbWUmJmIucHVzaChlW2ZdKTtyZXR1cm4gYn0sZS5wcm90b3R5cGUuYWRkSW5wdXRWYWx1ZT1mdW5jdGlvbihhLGIpeyRmaC5mb3Jtcy5sb2cuZCgiQWRkaW5nIGlucHV0IHZhbHVlOiAiLEpTT04uc3RyaW5naWZ5KGF8fHt9KSk7dmFyIGM9dGhpcyxkPWEuZmllbGRJZCxlPWEudmFsdWU7aWYobnVsbD09PWV8fCJ1bmRlZmluZWQiPT10eXBlb2YgZSlyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJhZGRJbnB1dFZhbHVlOiBJbnB1dCB2YWx1ZSB3YXMgbnVsbC4gUGFyYW1zOiAiK2QpLGIobnVsbCx7fSk7dmFyIGY9dm9pZCAwPT09YS5pbmRleD8tMTphLmluZGV4O3RoaXMuZ2V0Rm9ybShmdW5jdGlvbihlLGcpe3ZhciBoPWcuZ2V0RmllbGRNb2RlbEJ5SWQoZCk7aWYoYy50cmFuc2FjdGlvbk1vZGUpYy50bXBGaWVsZHNbZF18fChjLnRtcEZpZWxkc1tkXT1bXSksYS5pc1N0b3JlPSExLGgucHJvY2Vzc0lucHV0KGEsZnVuY3Rpb24oYSxlKXtyZXR1cm4gYT9iKGEpOihmPi0xP2MudG1wRmllbGRzW2RdW2ZdPWU6Yy50bXBGaWVsZHNbZF0ucHVzaChlKSxiKG51bGwsZSkpfSk7ZWxzZXt2YXIgaT1jLmdldElucHV0VmFsdWVPYmplY3RCeUlkKGQpO2kuZmllbGRWYWx1ZXNbZl0mJiJzdHJpbmciPT10eXBlb2YgaS5maWVsZFZhbHVlc1tmXS5oYXNoTmFtZSYmKGEucHJldmlvdXNGaWxlPWkuZmllbGRWYWx1ZXNbZl0pLGgucHJvY2Vzc0lucHV0KGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYT9iKGEpOihmPi0xP2kuZmllbGRWYWx1ZXNbZl09ZDppLmZpZWxkVmFsdWVzLnB1c2goZCksInN0cmluZyI9PXR5cGVvZiBkLmhhc2hOYW1lJiZjLnB1c2hGaWxlKGQuaGFzaE5hbWUpLGIobnVsbCxkKSl9KX19KX0sZS5wcm90b3R5cGUucHVzaEZpbGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXQoImZpbGVzSW5TdWJtaXNzaW9uIixbXSk7InN0cmluZyI9PXR5cGVvZiBhJiYtMT09PWIuaW5kZXhPZihhKSYmKGIucHVzaChhKSx0aGlzLnNldCgiZmlsZXNJblN1Ym1pc3Npb24iLGIpKX0sZS5wcm90b3R5cGUucmVtb3ZlRmlsZVZhbHVlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0KCJmaWxlc0luU3VibWlzc2lvbiIsW10pOyJzdHJpbmciPT10eXBlb2YgYSYmYi5pbmRleE9mKGEpPi0xJiYoYi5zcGxpY2UoYi5pbmRleE9mKGEpLDEpLHRoaXMuc2V0KCJmaWxlc0luU3VibWlzc2lvbiIsYikpfSxlLnByb3RvdHlwZS5nZXRJbnB1dFZhbHVlQnlGaWVsZElkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRJbnB1dFZhbHVlT2JqZWN0QnlJZChhKS5maWVsZFZhbHVlczt0aGlzLmdldEZvcm0oZnVuY3Rpb24oZCxlKXt2YXIgZj1lLmdldEZpZWxkTW9kZWxCeUlkKGEpO2YuY29udmVydFN1Ym1pc3Npb24oYyxiKX0pfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jbGVhckxvY2FsU3VibWlzc2lvbkZpbGVzKGZ1bmN0aW9uKCl7YS5zZXQoImZvcm1GaWVsZHMiLFtdKX0pfSxlLnByb3RvdHlwZS5pc0Rvd25sb2FkU3VibWlzc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZG93bmxvYWRTdWJtaXNzaW9uIik9PT0hMAp9LGUucHJvdG90eXBlLmdldFN1Ym1pc3Npb25GaWxlPWZ1bmN0aW9uKGEsYyl7Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnJlYWRGaWxlKGEsYyl9LGUucHJvdG90eXBlLmNsZWFyTG9jYWxTdWJtaXNzaW9uRmlsZXM9ZnVuY3Rpb24oYSl7JGZoLmZvcm1zLmxvZy5kKCJJbiBjbGVhckxvY2FsU3VibWlzc2lvbkZpbGVzIik7dmFyIGM9dGhpcyxkPWMuZ2V0KCJmaWxlc0luU3VibWlzc2lvbiIsW10pOyRmaC5mb3Jtcy5sb2cuZCgiRmlsZXMgdG8gY2xlYXIgIixkKTtmb3IodmFyIGUgaW4gZCkkZmguZm9ybXMubG9nLmQoIkNsZWFyaW5nIGZpbGUgIitkW2VdKSxiLnN0b3Jlcy5sb2NhbFN0b3JhZ2UucmVtb3ZlRW50cnkoZFtlXSxmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHJlbW92aW5nIGZpbGVzIGZyb20gIithKX0pO2EoKX0sZS5wcm90b3R5cGUuc3RhcnRJbnB1dFRyYW5zYWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy50cmFuc2FjdGlvbk1vZGU9ITAsdGhpcy50bXBGaWVsZHM9e319LGUucHJvdG90eXBlLmVuZElucHV0VHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7dGhpcy50cmFuc2FjdGlvbk1vZGU9ITE7dmFyIGM9e30sZD0iIixlPTAsZj1bXSxnPSIiO2lmKGEpe2M9dGhpcy50bXBGaWVsZHM7Zm9yKGQgaW4gYyl7dmFyIGg9dGhpcy5nZXRJbnB1dFZhbHVlT2JqZWN0QnlJZChkKTtmb3IoZj1jW2RdLGU9MDtlPGYubGVuZ3RoO2UrKylnPWZbZV0saC5maWVsZFZhbHVlcy5wdXNoKGcpLCJzdHJpbmciPT10eXBlb2YgZy5oYXNoTmFtZSYmdGhpcy5wdXNoRmlsZShnLmhhc2hOYW1lKX10aGlzLnRtcEZpZWxkcz17fX1lbHNle2M9dGhpcy50bXBGaWVsZHMsdGhpcy50bXBGaWVsZHM9e307Zm9yKGQgaW4gYylmb3IoZj1jW2RdLGU9MDtlPGYubGVuZ3RoO2UrKylnPWZbZV0sInN0cmluZyI9PXR5cGVvZiBnLmhhc2hOYW1lJiZiLnN0b3Jlcy5sb2NhbFN0b3JhZ2UucmVtb3ZlRW50cnkoZy5oYXNoTmFtZSxmdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmUoIkVycm9yIHJlbW92aW5nIGZpbGUgZnJvbSB0cmFuc2FjdGlvbiAiLGEpfSl9fSxlLnByb3RvdHlwZS5yZW1vdmVGaWVsZFZhbHVlPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcyxlPVtdLGY9e307ZT10aGlzLnRyYW5zYWN0aW9uTW9kZT90aGlzLnRtcEZpZWxkcy5maWVsZElkOnRoaXMuZ2V0SW5wdXRWYWx1ZU9iamVjdEJ5SWQoYSkuZmllbGRJZCwidW5kZWZpbmVkIj09dHlwZW9mIGM/Zj1lLnNwbGljZSgwLGUubGVuZ3RoKTplLmxlbmd0aD5jJiYoZj1lLnNwbGljZShjLDEpKSwic3RyaW5nIj09dHlwZW9mIGYuaGFzaE5hbWUmJmIuc3RvcmVzLmxvY2FsU3RvcmFnZS5yZW1vdmVFbnRyeShmLmhhc2hOYW1lLGZ1bmN0aW9uKGEpe2E/JGZoLmZvcm1zLmxvZy5lKCJFcnJvciByZW1vdmluZyBmaWxlOiAiLGEpOmQucmVtb3ZlRmlsZVZhbHVlKGYuaGFzaE5hbWUpfSl9LGUucHJvdG90eXBlLmdldElucHV0VmFsdWVPYmplY3RCeUlkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldEZvcm1GaWVsZHMoKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5maWVsZElkLl9pZCl7aWYoZC5maWVsZElkLl9pZD09PWEpcmV0dXJuIGR9ZWxzZSBpZihkLmZpZWxkSWQ9PT1hKXJldHVybiBkfXZhciBlPXtmaWVsZElkOmEsZmllbGRWYWx1ZXM6W119O3JldHVybiBiLnB1c2goZSksZX0sZS5wcm90b3R5cGUuZ2V0Rm9ybT1mdW5jdGlvbihhKXt2YXIgYz1iLm1vZGVscy5Gb3JtLGQ9dGhpcy5nZXQoImZvcm1JZCIpO3JldHVybiBkPygkZmguZm9ybXMubG9nLmQoIkZvcm1JZCBmb3VuZCBmb3IgZ2V0Rm9ybTogIitkKSx2b2lkIG5ldyBjKHtmb3JtSWQ6ZCxyYXdNb2RlOiEwfSxhKSk6KCRmaC5mb3Jtcy5sb2cuZSgiTm8gZm9ybSBJZCBzcGVjaWZpZWQgZm9yIGdldEZvcm0iKSxhKCJObyBmb3JtIElkIHNwZWNpZmllZCBmb3IgZ2V0Rm9ybSIpKX0sZS5wcm90b3R5cGUucmVsb2FkRm9ybT1mdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIlN1Ym1pc3Npb24gcmVsb2FkIGZvcm0iKTt2YXIgYz1iLm1vZGVscy5Gb3JtLGQ9dGhpcy5nZXQoImZvcm1JZCIpLGU9dGhpcztuZXcgYyh7Zm9ybUlkOmQscmF3TW9kZTohMH0sZnVuY3Rpb24oYixjKXtiP2EoYik6KGUuZm9ybT1jLGUuZ2V0KCJkZXZpY2VGb3JtVGltZXN0YW1wIixudWxsKXx8ZS5zZXQoImRldmljZUZvcm1UaW1lc3RhbXAiLGMuZ2V0TGFzdFVwZGF0ZSgpKSxhKG51bGwsYykpfSl9LGUucHJvdG90eXBlLmdldEZpbGVJbnB1dFZhbHVlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuZ2V0RmlsZUZpZWxkc0lkKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGM/YShjKTphKG51bGwsYi5nZXRJbnB1dFZhbHVlQXJyYXkoZCkpfSl9LGUucHJvdG90eXBlLmdldEZvcm1GaWVsZHM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXQoImZvcm1GaWVsZHMiLFtdKSxiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5maWVsZFZhbHVlcz1hW2JdLmZpZWxkVmFsdWVzfHxbXSxhW2JdLmZpZWxkVmFsdWVzPWFbYl0uZmllbGRWYWx1ZXMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhfSk7cmV0dXJuIGF9LGUucHJvdG90eXBlLmdldEZpbGVGaWVsZHNJZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9W107aWYoYi5pc0Rvd25sb2FkU3VibWlzc2lvbigpKXtmb3IodmFyIGQ9Yi5nZXRGb3JtRmllbGRzKCksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLmZpZWxkSWR8fHt9OygiZmlsZSI9PT1mLnR5cGV8fCJwaG90byI9PT1mLnR5cGV8fCJzaWduYXR1cmUiPT09Zi50eXBlKSYmZi5faWQmJmMucHVzaChmLl9pZCl9cmV0dXJuIGEobnVsbCxjKX1iLmdldEZvcm0oZnVuY3Rpb24oYixjKXtyZXR1cm4gYj8oJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBnZXR0aW5nIGZvcm0gZm9yIGdldEZpbGVGaWVsZHNJZCIrYiksYShiKSk6YShiLGMuZ2V0RmlsZUZpZWxkc0lkKCkpfSl9LGUucHJvdG90eXBlLnVwZGF0ZUZpbGVMb2NhbFVSST1mdW5jdGlvbihhLGIsYyl7JGZoLmZvcm1zLmxvZy5kKCJ1cGRhdGVGaWxlTG9jYWxVUkk6ICIrYik7dmFyIGQ9dGhpcztyZXR1cm4gYT1hfHx7fSxhLmZpbGVOYW1lJiZiP3ZvaWQgZC5maW5kRmlsZVBsYWNlaG9sZGVyRmllbGRJZChhLmZpbGVOYW1lLGZ1bmN0aW9uKGUsZil7aWYoZSlyZXR1cm4gYyhlKTtpZighZi5maWVsZElkKXJldHVybiAkZmguZm9ybXMubG9nLmUoIk5vIGZpbGUgZmllbGQgbWF0Y2hlcyB0aGUgcGxhY2Vob2xkZXIgbmFtZSAiK2EuZmlsZU5hbWUpLGMoIk5vIGZpbGUgZmllbGQgbWF0Y2hlcyB0aGUgcGxhY2Vob2xkZXIgbmFtZSAiK2EuZmlsZU5hbWUpO3ZhciBnPWQuZ2V0SW5wdXRWYWx1ZU9iamVjdEJ5SWQoZi5maWVsZElkKS5maWVsZFZhbHVlc1tmLnZhbHVlSW5kZXhdO2cubG9jYWxVUkk9YixkLmdldElucHV0VmFsdWVPYmplY3RCeUlkKGYuZmllbGRJZCkuZmllbGRWYWx1ZXNbZi52YWx1ZUluZGV4XT1nLGQuc2F2ZUxvY2FsKGMpfSk6KCRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbjogdXBkYXRlRmlsZUxvY2FsVVJJIDogTm8gZmlsZU5hbWUgZm9yIHN1Ym1pc3Npb25JZCA6ICIrSlNPTi5zdHJpbmdpZnkoYSkpLGMoIlN1Ym1pc3Npb246IHVwZGF0ZUZpbGVMb2NhbFVSSSA6IE5vIGZpbGVOYW1lIGZvciBzdWJtaXNzaW9uSWQgOiAiK0pTT04uc3RyaW5naWZ5KGEpKSl9LGUucHJvdG90eXBlLmZpbmRGaWxlUGxhY2Vob2xkZXJGaWVsZElkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXt9O2MuZ2V0RmlsZUZpZWxkc0lkKGZ1bmN0aW9uKGUsZil7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspZm9yKHZhciBoPWZbZ10saT1jLmdldElucHV0VmFsdWVPYmplY3RCeUlkKGgpLGo9MDtqPGkuZmllbGRWYWx1ZXMubGVuZ3RoO2orKyl7dmFyIGs9aS5maWVsZFZhbHVlc1tqXTtrJiZudWxsIT09ay5maWxlTmFtZSYmay5maWxlTmFtZT09PWEmJihkLmZpZWxkSWQ9aCxkLnZhbHVlSW5kZXg9ail9cmV0dXJuIGIobnVsbCxkKX0pfSxlLnByb3RvdHlwZS5nZXRJbnB1dFZhbHVlQXJyYXk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKylmb3IodmFyIGQ9YVtjXSxlPXRoaXMuZ2V0SW5wdXRWYWx1ZU9iamVjdEJ5SWQoZCksZj0wO2Y8ZS5maWVsZFZhbHVlcy5sZW5ndGg7ZisrKXt2YXIgZz1lLmZpZWxkVmFsdWVzW2ZdO2cmJihnLmZpZWxkSWQ9ZCxiLnB1c2goZykpfXJldHVybiBifSxlLnByb3RvdHlwZS5jbGVhckxvY2FsPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7Yi5tb2RlbHMudXBsb2FkTWFuYWdlci5jYW5jZWxTdWJtaXNzaW9uKGMsZnVuY3Rpb24oZCl7cmV0dXJuIGQ/KCRmaC5mb3Jtcy5sb2cuZShkKSxhKGQpKTp2b2lkIGIubW9kZWxzLnN1Ym1pc3Npb25zLnJlbW92ZVN1Ym1pc3Npb24oYy5nZXRMb2NhbElkKCksZnVuY3Rpb24oYil7cmV0dXJuIGI/KCRmaC5mb3Jtcy5sb2cuZShiKSxhKGIpKTp2b2lkIGMuY2xlYXJMb2NhbFN1Ym1pc3Npb25GaWxlcyhmdW5jdGlvbigpe2cucHJvdG90eXBlLmNsZWFyTG9jYWwuY2FsbChjLGZ1bmN0aW9uKGIpe3JldHVybiBiPygkZmguZm9ybXMubG9nLmUoYiksYShiKSk6dm9pZCBhKG51bGwsbnVsbCl9KX0pfSl9KX0sZS5wcm90b3R5cGUuZ2V0UmVtb3RlU3VibWlzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJzdWJtaXNzaW9uSWQiLCIiKX0sZS5wcm90b3R5cGUuc2V0UmVtb3RlU3VibWlzc2lvbklkPWZ1bmN0aW9uKGEpe2EmJnRoaXMuc2V0KCJzdWJtaXNzaW9uSWQiLGEpfSxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSxiKXtkLmNhbGwodGhpcyx7X3R5cGU6ImZpZWxkIn0pLGEmJih0aGlzLmZyb21KU09OKGEpLHRoaXMuZ2VuTG9jYWxJZCgpKSxiJiYodGhpcy5mb3JtPWIpfXZhciBkPWIubW9kZWxzLk1vZGVsO3JldHVybiBiLnV0aWxzLmV4dGVuZChjLGQpLGMucHJvdG90eXBlLmlzUmVxdWlyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInJlcXVpcmVkIil9LGMucHJvdG90eXBlLmdldEZpZWxkVmFsaWRhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZpZWxkT3B0aW9ucygpLnZhbGlkYXRpb258fHt9fSxjLnByb3RvdHlwZS5nZXRGaWVsZERlZmluaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRGaWVsZE9wdGlvbnMoKS5kZWZpbml0aW9ufHx7fX0sYy5wcm90b3R5cGUuZ2V0TWluUmVwZWF0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKTtyZXR1cm4gYS5taW5SZXBlYXR8fDF9LGMucHJvdG90eXBlLmdldE1heFJlcGVhdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWZpbml0aW9uKCk7cmV0dXJuIGEubWF4UmVwZWF0fHwxfSxjLnByb3RvdHlwZS5nZXRGaWVsZE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkT3B0aW9ucyIse3ZhbGlkYXRpb246e30sZGVmaW5pdGlvbjp7fX0pfSxjLnByb3RvdHlwZS5nZXRQaG90b09wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT17dGFyZ2V0V2lkdGg6bnVsbCx0YXJnZXRIZWlnaHQ6bnVsbCxxdWFsaXR5Om51bGwsc2F2ZVRvUGhvdG9BbGJ1bTpudWxsLHBpY3R1cmVTb3VyY2U6bnVsbCxlbmNvZGluZ1R5cGU6bnVsbH0sYj10aGlzLmdldEZpZWxkRGVmaW5pdGlvbigpO3JldHVybiBhLnRhcmdldFdpZHRoPWIucGhvdG9XaWR0aCxhLnRhcmdldEhlaWdodD1iLnBob3RvSGVpZ2h0LGEucXVhbGl0eT1iLnBob3RvUXVhbGl0eSxhLnNhdmVUb1Bob3RvQWxidW09Yi5zYXZlVG9QaG90b0FsYnVtLGEucGljdHVyZVNvdXJjZT1iLnBob3RvU291cmNlLGEuZW5jb2RpbmdUeXBlPWIucGhvdG9UeXBlLGF9LGMucHJvdG90eXBlLmlzUmVwZWF0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJyZXBlYXRpbmciLCExKX0sYy5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgidHlwZSIsInRleHQiKX0sYy5wcm90b3R5cGUuZ2V0RmllbGRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiX2lkIiwiIil9LGMucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIm5hbWUiLCJ1bmtub3duIil9LGMucHJvdG90eXBlLmdldENvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkQ29kZSIsbnVsbCl9LGMucHJvdG90eXBlLmdldEhlbHBUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJoZWxwVGV4dCIsIiIpfSxjLnByb3RvdHlwZS5nZXREZWZhdWx0VmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEZpZWxkRGVmaW5pdGlvbigpO3JldHVybiBhP2EuZGVmYXVsdFZhbHVlOiIifSxjLnByb3RvdHlwZS5pc0FkbWluRmllbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImFkbWluT25seSIpfSxjLnByb3RvdHlwZS5wcm9jZXNzSW5wdXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFR5cGUoKSxkPSJwcm9jZXNzXyIrYyxlPWEudmFsdWU7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlfHxudWxsPT09ZT9iKG51bGwsZSk6dm9pZCh0aGlzW2RdJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpc1tkXT90aGlzW2RdKGEsYik6YihudWxsLGUpKX0sYy5wcm90b3R5cGUuY29udmVydFN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFR5cGUoKSxkPSJjb252ZXJ0XyIrYzt0aGlzW2RdJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpc1tkXT90aGlzW2RdKGEsYik6YihudWxsLGEpfSxjLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbihhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGImJihjPWIsYj0wKSx0aGlzLmZvcm0uZ2V0UnVsZUVuZ2luZSgpLnZhbGlkYXRlRmllbGRWYWx1ZSh0aGlzLmdldEZpZWxkSWQoKSxhLGIsYyl9LGMucHJvdG90eXBlLmdldFJ1bGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZElkKCk7cmV0dXJuIHRoaXMuZm9ybS5nZXRSdWxlc0J5RmllbGRJZChhKX0sYy5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLnNldCgidmlzaWJsZSIsYSksdGhpcy5lbWl0KGE/InZpc2libGUiOiJoaWRkZW4iKX0sYS5GaWVsZD1jLGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHMuRmllbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdG90eXBlLmdldENoZWNrQm94T3B0aW9ucz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWZpbml0aW9uKCk7aWYoYS5vcHRpb25zKXJldHVybiBhLm9wdGlvbnM7dGhyb3ciY2hlY2tib3ggY2hvaWNlIGRlZmluaXRpb24gaXMgbm90IGZvdW5kIGluIGZpZWxkIGRlZmluaXRpb24ifSxhLnByb3RvdHlwZS5wcm9jZXNzX2NoZWNrYm94ZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZhbHVlO2MmJmMuc2VsZWN0aW9ucyYmYy5zZWxlY3Rpb25zIGluc3RhbmNlb2YgQXJyYXk/YihudWxsLGMpOmIoInRoZSBpbnB1dCB2YWx1ZSBmb3IgcHJvY2Vzc2luZyBjaGVja2JveCBmaWVsZCBzaG91bGQgYmUgbGlrZSB7c2VsZWN0aW9uczogW3ZhbDEsdmFsMl19Iil9LGEucHJvdG90eXBlLmNvbnZlcnRfY2hlY2tib3hlcz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspYy5wdXNoKGFbZF0uc2VsZWN0aW9ucyk7YihudWxsLGMpfSxhfShiLm1vZGVscy5GaWVsZHx8e30pLGIubW9kZWxzLkZpZWxkPWZ1bmN0aW9uKGEpe3JldHVybiBhLnByb3RvdHlwZS5wcm9jZXNzX2ZpbGU9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIGE9YXx8IiIsYj1ifHwiIixhLmxlbmd0aD4wP2E6Yi5pbmRleE9mKCIucG5nIik+LTE/ImltYWdlL3BuZyI6Yi5pbmRleE9mKCIuanBnIik+LTE/ImltYWdlL2pwZWciOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0ifWZ1bmN0aW9uIGUoYSxiKXtpZihhPWF8fCIiLGEubGVuZ3RoPjApcmV0dXJuIGE7dmFyIGM9Yi5sYXN0SW5kZXhPZigiLyIpO3JldHVybiBjPi0xP2Iuc2xpY2UoYyk6bnVsbH12YXIgZj1hLnZhbHVlLGc9dm9pZCAwPT09YS5pc1N0b3JlPyEwOmEuaXNTdG9yZSxoPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9YS5wcmV2aW91c0ZpbGV8fHt9LGo9bnVsbDtpZigidW5kZWZpbmVkIj09dHlwZW9mIGZ8fG51bGw9PT1mKXJldHVybiBjKCJObyBpbnB1dCB2YWx1ZSB0byBwcm9jZXNzX2ZpbGUiLG51bGwpO3ZhciBrPWY7ZiBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQmJihrPWYuZmlsZXNbMF18fHt9KSwidW5kZWZpbmVkIj09dHlwZW9mIGsubGFzdE1vZGlmaWVkRGF0ZSYmKGg9Yi51dGlscy5nZXRUaW1lKCkuZ2V0VGltZSgpKSxrLmxhc3RNb2RpZmllZERhdGUgaW5zdGFuY2VvZiBEYXRlJiYoaD1rLmxhc3RNb2RpZmllZERhdGUuZ2V0VGltZSgpKTt2YXIgbD1lKGsubmFtZXx8ay5maWxlTmFtZSxrLmZ1bGxQYXRoKSxtPWQoay50eXBlfHxrLmZpbGVUeXBlLGwpO2lmKG51bGw9PT1sJiYhaS5maWxlTmFtZSlyZXR1cm4gYygiRXhwZWN0ZWQgcGljdHVyZSB0byBiZSBQTkcgb3IgSlBFRyBidXQgd2FzIG51bGwiKTtpZihpLmhhc2hOYW1lJiYobD09PWkuaGFzaE5hbWV8fGsuaGFzaE5hbWU9PT1pLmhhc2hOYW1lKSlyZXR1cm4gYyhudWxsLGkpO3ZhciBuPXtmaWxlTmFtZTpsLGZpbGVTaXplOmsuc2l6ZSxmaWxlVHlwZTptLGZpbGVVcGRhdGVUaW1lOmgsaGFzaE5hbWU6IiIsaW1nSGVhZGVyOiIiLGNvbnRlbnRUeXBlOiJiaW5hcnkifTtpPW47dmFyIG89bCsobmV3IERhdGUpLmdldFRpbWUoKStNYXRoLmNlaWwoMWU1Kk1hdGgucmFuZG9tKCkpO2IudXRpbHMubWQ1KG8sZnVuY3Rpb24oYSxkKXtqPWQsYSYmKGo9byksaj0iZmlsZVBsYWNlSG9sZGVyIitqLDA9PT1sLmxlbmd0aCYmKGkuZmlsZU5hbWU9aiksaS5oYXNoTmFtZT1qLGc/Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnNhdmVGaWxlKGosayxmdW5jdGlvbihhKXthPygkZmguZm9ybXMubG9nLmUoYSksYyhhKSk6YyhudWxsLGkpfSk6YyhudWxsLGkpfSl9LGF9KGIubW9kZWxzLkZpZWxkfHx7fSksYi5tb2RlbHMuRmllbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdG90eXBlLnByb2Nlc3NfbG9jYXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZhbHVlLGQ9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKSxlPXt9O3N3aXRjaChkLmxvY2F0aW9uVW5pdCl7Y2FzZSJsYXRsb25nIjpjLmxhdCYmY1sibG9uZyJdPyhlPXtsYXQ6Yy5sYXQsImxvbmciOmNbImxvbmciXX0sYihudWxsLGUpKTpiKCJ0aGUgaW5wdXQgdmFsdWVzIGZvciBsYXRsb25nIGZpZWxkIGlzIHtsYXQ6IG51bWJlciwgbG9uZzogbnVtYmVyfSIpO2JyZWFrO2Nhc2UiZWFzdG5vcnRoIjpjLnpvbmUmJmMuZWFzdGluZ3MmJmMubm9ydGhpbmdzPyhlPXt6b25lOmMuem9uZSxlYXN0aW5nczpjLmVhc3RpbmdzLG5vcnRoaW5nczpjLm5vcnRoaW5nc30sYihudWxsLGUpKTpiKCJ0aGUgaW5wdXQgdmFsdWVzIGZvciBub3J0aGVhc3QgZmllbGQgaXMge3pvbmU6IHRleHQsIGVhc3RpbmdzOiB0ZXh0LCBub3J0aGluZ3M6dGV4dH0iKTticmVhaztkZWZhdWx0OmIoIkludmFsaWQgc3VidHlwZSB0eXBlIG9mIGxvY2F0aW9uIGZpZWxkLCBhbGxvd2VkIHR5cGVzOiBsYXRsb25nIGFuZCBlYXN0bm9ydGgsIHdhczogIitkLmxvY2F0aW9uVW5pdCl9fSxhfShiLm1vZGVscy5GaWVsZHx8e30pLGIubW9kZWxzLkZpZWxkPWZ1bmN0aW9uKGEpe3JldHVybiBhLnByb3RvdHlwZS5nZXRNYXRyaXhSb3dzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKTtpZihhLnJvd3MpcmV0dXJuIGEucm93czt0aHJvdyJtYXRyaXggcm93cyBkZWZpbml0aW9uIGlzIG5vdCBmb3VuZCBpbiBmaWVsZCBkZWZpbml0aW9uIn0sYS5wcm90b3R5cGUuZ2V0TWF0cml4Q29scz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWZpbml0aW9uKCk7aWYoYS5jb2x1bW5zKXJldHVybiBhLmNvbHVtbnM7dGhyb3cibWF0cml4IGNvbHVtbnMgZGVmaW5pdGlvbiBpcyBub3QgZm91bmQgaW4gZmllbGQgZGVmaW5pdGlvbiJ9LGF9KGIubW9kZWxzLkZpZWxkfHx7fSksYi5tb2RlbHMuRmllbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdG90eXBlLmdldFJhZGlvT3B0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRGaWVsZERlZmluaXRpb24oKTtpZihhLm9wdGlvbnMpcmV0dXJuIGEub3B0aW9uczt0aHJvdyJSYWRpbyBvcHRpb25zIGRlZmluaXRpb24gaXMgbm90IGZvdW5kIGluIGZpZWxkIGRlZmluaXRpb24ifSxhfShiLm1vZGVscy5GaWVsZHx8e30pLGIubW9kZWxzLkZpZWxkPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSxjKXt2YXIgZT10aGlzLGY9YS52YWx1ZSxnPXZvaWQgMD09PWEuaXNTdG9yZT8hMDphLmlzU3RvcmUsaD1hLnByZXZpb3VzRmlsZXx8e307aWYoInN0cmluZyIhPXR5cGVvZiBmKXJldHVybiBjKCJFeHBlY3RlZCBiYXNlNjQgc3RyaW5nIGltYWdlIG9yIGZpbGUgVVJJIGJ1dCBwYXJhbWV0ZXIgd2FzIG5vdCBhIHN0cmluZyIsbnVsbCk7aWYoZi5sZW5ndGg8MSlyZXR1cm4gYygiRXhwZWN0ZWQgYmFzZTY0IHN0cmluZyBvciBmaWxlIHVyaSBidXQgZ290IHN0cmluZyBvZiBsZW5naHQgMDogICIrZixudWxsKTtpZihmLmluZGV4T2YoIjtiYXNlNjQsIik+LTEpe3ZhciBpPSIiLGo9Zi5zcGxpdCgiO2Jhc2U2NCwiKSxrPWpbMF0uc3BsaXQoIjoiKVsxXSxsPWsuc3BsaXQoIi8iKVsxXSxtPWYubGVuZ3RoO2QoZnVuY3Rpb24oYSxkKXtpPWguaGFzaE5hbWU/aC5oYXNoTmFtZToiZmlsZVBsYWNlSG9sZGVyIitkO3ZhciBlPXtmaWxlTmFtZTppKyIuIitsLGhhc2hOYW1lOmksY29udGVudFR5cGU6ImJhc2U2NCIsZmlsZVNpemU6bSxmaWxlVHlwZTprLGltZ0hlYWRlcjoiZGF0YToiK2srIjtiYXNlNjQsIixmaWxlVXBkYXRlVGltZToobmV3IERhdGUpLmdldFRpbWUoKX07Zz9iLnN0b3Jlcy5sb2NhbFN0b3JhZ2UudXBkYXRlVGV4dEZpbGUoaSxqWzFdLGZ1bmN0aW9uKGEpe2E/KCRmaC5mb3Jtcy5sb2cuZShhKSxjKGEpKTpjKG51bGwsZSl9KTpjKG51bGwsZSl9KX1lbHNlIGIudXRpbHMuZmlsZVN5c3RlbS5yZWFkQXNGaWxlKGYsZnVuY3Rpb24oYixkKXtyZXR1cm4gYj9jKGIpOihhLnZhbHVlPWQsdm9pZCBlLnByb2Nlc3NfZmlsZShhLGMpKX0pfWZ1bmN0aW9uIGQoYSl7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCkrIiIrTWF0aC5jZWlsKDFlNSpNYXRoLnJhbmRvbSgpKTtiLnV0aWxzLm1kNShjLGEpfWZ1bmN0aW9uIGUoYSxiKXtpZigwPT09YS5sZW5ndGgpYihudWxsLGEpO2Vsc2UgZm9yKHZhciBjPWEubGVuZ3RoLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtmKGUsZnVuY3Rpb24oKXtjLS0sMD09PWMmJmIobnVsbCxhKX0pfX1mdW5jdGlvbiBmKGEsYyl7aWYoYSl7aWYoYS5sb2NhbFVSSSlyZXR1cm4gYyhudWxsLGEpO3ZhciBkPWEuaGFzaE5hbWU7ImJhc2U2NCI9PT1hLmNvbnRlbnRUeXBlP2Iuc3RvcmVzLmxvY2FsU3RvcmFnZS5yZWFkRmlsZVRleHQoZCxmdW5jdGlvbihiLGQpe2ImJiRmaC5mb3Jtcy5sb2cuZShiKSxhLmRhdGE9ZCxjKGIsYSl9KToiYmluYXJ5Ij09PWEuY29udGVudFR5cGU/Yi5zdG9yZXMubG9jYWxTdG9yYWdlLnJlYWRGaWxlKGQsZnVuY3Rpb24oYixlKXtiJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHJlYWRpbmcgZmlsZSAiK2QsYiksYS5kYXRhPWUmJmUuZnVsbFBhdGg/ZS5mdWxsUGF0aDoiZmlsZS1ub3QtZm91bmQiLGMoYixhKX0pOiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgbG9hZCBpbWFnZSB3aXRoIGludmFsaWQgbWV0YSIrYS5jb250ZW50VHlwZSl9ZWxzZSBjKG51bGwsYSl9cmV0dXJuIGEucHJvdG90eXBlLnByb2Nlc3Nfc2lnbmF0dXJlPWMsYS5wcm90b3R5cGUuY29udmVydF9zaWduYXR1cmU9ZSxhLnByb3RvdHlwZS5wcm9jZXNzX3Bob3RvPWMsYS5wcm90b3R5cGUuY29udmVydF9waG90bz1lLGF9KGIubW9kZWxzLkZpZWxkfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhLGIpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgYXx8InVuZGVmaW5lZCI9PXR5cGVvZiBiKXRocm93IlBhZ2UgaW5pdGlhbGlzZSBmYWlsZWQ6IG5ldyBQYWdlKHBhZ2VEZWZpbml0aW9uSlNPTiwgcGFyZW50Rm9ybU1vZGVsKSI7ZC5jYWxsKHRoaXMse190eXBlOiJwYWdlIn0pLHRoaXMuZnJvbUpTT04oYSksdGhpcy5mb3JtPWIsdGhpcy5pbml0aWFsaXNlKCl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuaW5pdGlhbGlzZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RmllbGREZWYoKTt0aGlzLmZpZWxkc0lkcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLmZpZWxkc0lkcy5wdXNoKGFbYl0uX2lkKX0sYy5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLnNldCgidmlzaWJsZSIsYSksdGhpcy5lbWl0KGE/InZpc2libGUiOiJoaWRkZW4iKX0sYy5wcm90b3R5cGUuZ2V0RmllbGREZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkcyIsW10pfSxjLnByb3RvdHlwZS5nZXRGaWVsZERlZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZmllbGRzIixbXSl9LGMucHJvdG90eXBlLmdldEZpZWxkTW9kZWxMaXN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MDtiPHRoaXMuZmllbGRzSWRzLmxlbmd0aDtiKyspYS5wdXNoKHRoaXMuZm9ybS5nZXRGaWVsZE1vZGVsQnlJZCh0aGlzLmZpZWxkc0lkc1tiXSkpO3JldHVybiBhfSxjLnByb3RvdHlwZS5jaGVja0ZvclNlY3Rpb25CcmVha3M9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuZmllbGRzSWRzLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuZm9ybS5nZXRGaWVsZE1vZGVsQnlJZCh0aGlzLmZpZWxkc0lkc1thXSk7aWYoYiYmInNlY3Rpb25CcmVhayI9PT1iLmdldFR5cGUoKSlyZXR1cm4hMH1yZXR1cm4hMX0sYy5wcm90b3R5cGUuZ2V0U2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPW51bGwsYz10aGlzLmNoZWNrRm9yU2VjdGlvbkJyZWFrcygpLGQ9ITE7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5mb3JtLmdldEZpZWxkTW9kZWxCeUlkKHRoaXMuZmllbGRzSWRzWzBdKTsic2VjdGlvbkJyZWFrIiE9PWUuZ2V0VHlwZSgpJiYoZD0hMCk7Zm9yKHZhciBmPTA7Zjx0aGlzLmZpZWxkc0lkcy5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmZvcm0uZ2V0RmllbGRNb2RlbEJ5SWQodGhpcy5maWVsZHNJZHNbZl0pO2QmJjA9PT1mJiYoYj0ic2VjdGlvbkJyZWFrIitmLGFbYl09YVtiXT9hW2JdOntmaWVsZHM6W119LGFbYl0udGl0bGU9IlNlY3Rpb24gIisoZisxKSksbnVsbCE9PWImJiJzZWN0aW9uQnJlYWsiIT09Zy5nZXRUeXBlKCkmJmFbYl0uZmllbGRzLnB1c2goZyksInNlY3Rpb25CcmVhayI9PT1nLmdldFR5cGUoKSYmKGI9InNlY3Rpb25CcmVhayIrZixhW2JdPWFbYl0/YVtiXTp7ZmllbGRzOltdfSxhW2JdLnRpdGxlPWcuZ2V0KCJuYW1lIiwiU2VjdGlvbiAiKyhmKzEpKSxhW2JdLmZpZWxkcy5wdXNoKGcpKX1yZXR1cm4gYX0sYy5wcm90b3R5cGUuZ2V0RmllbGRNb2RlbEJ5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm9ybS5nZXRGaWVsZE1vZGVsQnlJZChhKX0sYy5wcm90b3R5cGUuZ2V0UGFnZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJfaWQiLCIiKX0sYy5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgibmFtZSIsIiIpfSxjLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZGVzY3JpcHRpb24iLCIiKX0sYy5wcm90b3R5cGUuZ2V0RmllbGREZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImZpZWxkcyIsW10pfSxjLnByb3RvdHlwZS5nZXRGaWVsZE1vZGVsTGlzdD1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPTA7Yjx0aGlzLmZpZWxkc0lkcy5sZW5ndGg7YisrKWEucHVzaCh0aGlzLmZvcm0uZ2V0RmllbGRNb2RlbEJ5SWQodGhpcy5maWVsZHNJZHNbYl0pKTtyZXR1cm4gYX0sYS5QYWdlPWMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7dmFyIGE9dGhpcztkLmNhbGwoYSx7X3R5cGU6InVwbG9hZE1hbmFnZXIiLF9sdWRpZDoidXBsb2FkTWFuYWdlcl9xdWV1ZSJ9KSxhLnNldCgidGFza1F1ZXVlIixbXSksYS5zZW5kaW5nPSExLGEudGltZXJJbnRlcnZhbD0yMDAsYS5zZW5kaW5nU3RhcnQ9Yi51dGlscy5nZXRUaW1lKCl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUucXVldWVTdWJtaXNzaW9uPWZ1bmN0aW9uKGEsYyl7JGZoLmZvcm1zLmxvZy5kKCJRdWV1ZWluZyBTdWJtaXNzaW9uIGZvciB1cGxvYWRNYW5hZ2VyIik7dmFyIGQsZT1udWxsLGY9dGhpcztmLmNoZWNrT25saW5lU3RhdHVzKGZ1bmN0aW9uKCl7cmV0dXJuICRmaC5mb3Jtcy5jb25maWcuaXNPbmxpbmUoKT8oYS5nZXRVcGxvYWRUYXNrSWQoKT9kPWEuZ2V0VXBsb2FkVGFza0lkKCk6KGU9Yi5tb2RlbHMudXBsb2FkVGFzay5uZXdJbnN0YW5jZShhKSxkPWUuZ2V0TG9jYWxJZCgpKSxmLnB1c2goZCksZi50aW1lcnx8KCRmaC5mb3Jtcy5sb2cuZCgiU3RhcnRpbmcgdGltZXIgZm9yIHVwbG9hZE1hbmFnZXIiKSxmLnN0YXJ0KCkpLGU/ZS5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKGEpLGYuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCBtYW5hZ2VyOiAiK2EpLGMobnVsbCxlKX0pfSk6Zi5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgdXBsb2FkIG1hbmFnZXI6ICIrYSksZi5nZXRUYXNrQnlJZChkLGMpfSksdm9pZCAwKTpjKCJXb3JraW5nIG9mZmxpbmUgY2Fubm90IHN1Ym1pdCBmb3JtLiIpfSl9LGMucHJvdG90eXBlLmNhbmNlbFN1Ym1pc3Npb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldFVwbG9hZFRhc2tJZCgpLGQ9dGhpcy5nZXQoInRhc2tRdWV1ZSIpO2lmKGMpe3ZhciBlPWQuaW5kZXhPZihjKTtlPi0xJiZkLnNwbGljZShlLDEpLHRoaXMuZ2V0VGFza0J5SWQoYyxmdW5jdGlvbihhLGMpe2E/KCRmaC5mb3Jtcy5sb2cuZShhKSxiKGEsYykpOmM/Yy5jbGVhckxvY2FsKGIpOmIobnVsbCxudWxsKX0pLHRoaXMuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZShhKX0pfWVsc2UgYihudWxsLG51bGwpfSxjLnByb3RvdHlwZS5nZXRUYXNrUXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInRhc2tRdWV1ZSIsW10pfSxjLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdG9wKCksYS50aW1lcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EudGljaygpfSx0aGlzLnRpbWVySW50ZXJ2YWwpfSxjLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy50aW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksdGhpcy50aW1lcj1udWxsKX0sYy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhKXt0aGlzLmdldCgidGFza1F1ZXVlIikucHVzaChhKSx0aGlzLnNhdmVMb2NhbChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyBsb2NhbCBVcGxvYWQgbWFuYWdlciIsYSl9KX0sYy5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldCgidGFza1F1ZXVlIikuc2hpZnQoKTtyZXR1cm4gdGhpcy5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKGEpfSksYX0sYy5wcm90b3R5cGUucm9sbFRhc2s9ZnVuY3Rpb24oKXt0aGlzLnB1c2godGhpcy5zaGlmdCgpKX0sYy5wcm90b3R5cGUudGljaz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5zZW5kaW5nKXt2YXIgYz1iLnV0aWxzLmdldFRpbWUoKSxkPWMuZ2V0VGltZSgpLWEuc2VuZGluZ1N0YXJ0LmdldFRpbWUoKTtkPjFlMyokZmguZm9ybXMuY29uZmlnLmdldCgidGltZW91dCIpJiYoJGZoLmZvcm1zLmxvZy5lKCJVcGxvYWRpbmcgY29udGVudCB0aW1lb3V0LiBpdCB3aWxsIHRyeSB0byByZXVwbG9hZC4iKSxhLnNlbmRpbmc9ITEsYS5yb2xsVGFzaygpKX1lbHNlIGEuaGFzVGFzaygpPyhhLnNlbmRpbmc9ITAsYS5zZW5kaW5nU3RhcnQ9Yi51dGlscy5nZXRUaW1lKCksYS5nZXRDdXJyZW50VGFzayhmdW5jdGlvbihiLGMpe2J8fCFjPygkZmguZm9ybXMubG9nLmUoYiksYS5zZW5kaW5nPSExKTpjLmlzQ29tcGxldGVkKCl8fGMuaXNFcnJvcigpPyhhLnNoaWZ0KCksYS5zZW5kaW5nPSExLGEuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCBtYW5hZ2VyOiAiLGEpfSkpOmEuY2hlY2tPbmxpbmVTdGF0dXMoZnVuY3Rpb24oKXskZmguZm9ybXMuY29uZmlnLmlzT25saW5lKCk/Yy51cGxvYWRUaWNrKGZ1bmN0aW9uKGIpe2ImJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igb24gdXBsb2FkIHRpY2s6ICIsYixjKSxhLnNlbmRpbmc9ITF9KTokZmguZm9ybXMubG9nLmQoIlVwbG9hZCBNYW5hZ2VyOiBUaWNrOiBOb3Qgb25saW5lLiIpfSl9KSk6YS5zdG9wKCl9LGMucHJvdG90eXBlLmhhc1Rhc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInRhc2tRdWV1ZSIpLmxlbmd0aD4wfSxjLnByb3RvdHlwZS5nZXRDdXJyZW50VGFzaz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRhc2tRdWV1ZSgpWzBdO2I/dGhpcy5nZXRUYXNrQnlJZChiLGEpOmEobnVsbCxudWxsKX0sYy5wcm90b3R5cGUuY2hlY2tPbmxpbmVTdGF0dXM9ZnVuY3Rpb24oYSl7Yi5zdG9yZXMuZGF0YUFnZW50LmNoZWNrT25saW5lU3RhdHVzKGEpfSxjLnByb3RvdHlwZS5nZXRUYXNrQnlJZD1mdW5jdGlvbihhLGMpe2IubW9kZWxzLnVwbG9hZFRhc2suZnJvbUxvY2FsKGEsYyl9LGEudXBsb2FkTWFuYWdlcj1uZXcgYyxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMse190eXBlOiJydWxlIn0pLHRoaXMuZnJvbUpTT04oYSl9dmFyIGQ9Yi5tb2RlbHMuTW9kZWw7cmV0dXJuIGIudXRpbHMuZXh0ZW5kKGMsZCksYy5wcm90b3R5cGUuZ2V0UmVsYXRlZEZpZWxkSWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXREZWZpbml0aW9uKCksYj1hLnJ1bGVDb25kaXRpb25hbFN0YXRlbWVudHMsYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF07Yy5wdXNoKGUuc291cmNlRmllbGQpfXJldHVybiBjfSxjLnByb3RvdHlwZS50ZXN0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldFJlbGF0ZWRGaWVsZElkKCksYz10aGlzLmdldExvZ2ljKCksZD0ib3IiPT09Yz8hMTohMCxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV0sZz1hW2ZdO2lmKGcpe3ZhciBoPXRoaXMudGVzdEZpZWxkKGYsZyk7aWYoIm9yIj09PWMpe2lmKGQ9ZHx8aCxkPT09ITApcmV0dXJuITB9ZWxzZSBpZihkPWQmJmgsZD09PSExKXJldHVybiExfWVsc2V7aWYoIm9yIiE9PWMpcmV0dXJuITE7ZD1kfHwhMX19cmV0dXJuIGR9LGMucHJvdG90eXBlLnRlc3RGaWVsZD1mdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuZ2V0UnVsZUNvbmRpdGlvblN0YXRlbWVudChhKSxlPWQucmVzdHJpY3Rpb24sZj1kLnNvdXJjZVZhbHVlO3JldHVybiBiLm1vZGVscy5jaGVja1J1bGUoZSxmLGMpfSxjLnByb3RvdHlwZS5nZXRSdWxlQ29uZGl0aW9uU3RhdGVtZW50PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldERlZmluaXRpb24oKS5ydWxlQ29uZGl0aW9uYWxTdGF0ZW1lbnRzLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLnNvdXJjZUZpZWxkPT09YSlyZXR1cm4gZH1yZXR1cm4gbnVsbH0sYy5wcm90b3R5cGUuZ2V0TG9naWM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldERlZmluaXRpb24oKTtyZXR1cm4gYS5ydWxlQ29uZGl0aW9uYWxPcGVyYXRvci50b0xvd2VyQ2FzZSgpfSxjLnByb3RvdHlwZS5nZXREZWZpbml0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJkZWZpbml0aW9uIil9LGMucHJvdG90eXBlLmdldEFjdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RGVmaW5pdGlvbigpLGI9e2FjdGlvbjphLnR5cGUsdGFyZ2V0SWQ6InBhZ2UiPT09dGhpcy5nZXQoInR5cGUiKT9hLnRhcmdldFBhZ2U6YS50YXJnZXRGaWVsZCx0YXJnZXRUeXBlOnRoaXMuZ2V0KCJ0eXBlIil9O3JldHVybiBifSxhLlJ1bGU9YyxhfShiLm1vZGVsc3x8e30pLGIubW9kZWxzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7aWYoYSl7dmFyIGI9bmV3IGU7cmV0dXJuIGIuaW5pdChhKSxmW2IuZ2V0TG9jYWxJZCgpXT1iLGJ9cmV0dXJue319ZnVuY3Rpb24gZChhLGIpe2lmKGZbYV0pcmV0dXJuIGIobnVsbCxmW2FdKTt2YXIgYz1uZXcgZTtjLnNldExvY2FsSWQoYSksZlthXT1jLGMubG9hZExvY2FsKGIpfWZ1bmN0aW9uIGUoKXtnLmNhbGwodGhpcyx7X3R5cGU6InVwbG9hZFRhc2sifSl9YS51cGxvYWRUYXNrPXtuZXdJbnN0YW5jZTpjLGZyb21Mb2NhbDpkfTt2YXIgZj17fSxnPWIubW9kZWxzLk1vZGVsO3JldHVybiBiLnV0aWxzLmV4dGVuZChlLGcpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBiPWEuZ2V0UHJvcHMoKTtkLnNldCgianNvblRhc2siLGIpLGQuc2V0KCJmb3JtSWQiLGEuZ2V0KCJmb3JtSWQiKSl9ZnVuY3Rpb24gYygpe2Quc2V0KCJzdWJtaXNzaW9uSWQiLGEuZ2V0UmVtb3RlU3VibWlzc2lvbklkKCkpLGQuc2V0KCJqc29uVGFzayIse30pLGQuc2V0KCJzdWJtaXNzaW9uVHJhbnNmZXJUeXBlIiwiZG93bmxvYWQiKX12YXIgZD10aGlzLGU9YS5nZXRMb2NhbElkKCk7ZC5zZXRMb2NhbElkKGUrIl91cGxvYWRUYXNrIiksZC5zZXQoInN1Ym1pc3Npb25Mb2NhbElkIixlKSxkLnNldCgiZmlsZVRhc2tzIixbXSksZC5zZXQoImN1cnJlbnRUYXNrIixudWxsKSxkLnNldCgiY29tcGxldGVkIiwhMSksZC5zZXQoInJldHJ5QXR0ZW1wdHMiLDApLGQuc2V0KCJyZXRyeU5lZWRlZCIsITEpLGQuc2V0KCJtYmFhc0NvbXBsZXRlZCIsITEpLGQuc2V0KCJzdWJtaXNzaW9uVHJhbnNmZXJUeXBlIiwidXBsb2FkIiksYS5zZXRVcGxvYWRUYXNrSWQoZC5nZXRMb2NhbElkKCkpLGEuaXNEb3dubG9hZFN1Ym1pc3Npb24oKT9jKCk6YigpfSxlLnByb3RvdHlwZS5nZXRUb3RhbFNpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj10aGlzLGM9SlNPTi5zdHJpbmdpZnkoYi5nZXQoImpzb25UYXNrIikpLmxlbmd0aCxkPWIuZ2V0KCJmaWxlVGFza3MiKSxlPTAsZj0wO2Y8ZC5sZW5ndGg7ZisrKWE9ZFtmXSxlKz1hLmZpbGVTaXplO3JldHVybiBjK2V9LGUucHJvdG90eXBlLmdldFVwbG9hZGVkU2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VycmVudFRhc2soKTtpZihudWxsPT09YSlyZXR1cm4gMDtmb3IodmFyIGIsYz1KU09OLnN0cmluZ2lmeSh0aGlzLmdldCgianNvblRhc2siKSkubGVuZ3RoLGQ9dGhpcy5nZXQoImZpbGVUYXNrcyIpLGU9MCxmPTA7KGI9ZFtmXSkmJmE+ZjtmKyspZSs9Yi5maWxlU2l6ZTtyZXR1cm4gYytlfSxlLnByb3RvdHlwZS5nZXRSZW1vdGVTdG9yZT1mdW5jdGlvbigpe3JldHVybiBiLnN0b3Jlcy5kYXRhQWdlbnQucmVtb3RlU3RvcmV9LGUucHJvdG90eXBlLmFkZEZpbGVUYXNrcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YS5nZXRGaWxlSW5wdXRWYWx1ZXMoZnVuY3Rpb24oYSxkKXtpZihhKXJldHVybiAkZmguZm9ybXMubG9nLmUoIkVycm9yIGdldHRpbmcgZmlsZSBJbnB1dCB2YWx1ZXM6ICIrYSksYihhKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtjLmFkZEZpbGVUYXNrKGYpfWIoKX0pfSxlLnByb3RvdHlwZS5hZGRGaWxlVGFzaz1mdW5jdGlvbihhKXt0aGlzLmdldCgiZmlsZVRhc2tzIikucHVzaChhKX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFRhc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImN1cnJlbnRUYXNrIixudWxsKX0sZS5wcm90b3R5cGUuZ2V0UmV0cnlBdHRlbXB0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicmV0cnlBdHRlbXB0cyIpfSxlLnByb3RvdHlwZS5pbmNyZVJldHJ5QXR0ZW1wdHM9ZnVuY3Rpb24oKXt0aGlzLnNldCgicmV0cnlBdHRlbXB0cyIsdGhpcy5nZXQoInJldHJ5QXR0ZW1wdHMiKSsxKX0sZS5wcm90b3R5cGUucmVzZXRSZXRyeUF0dGVtcHRzPWZ1bmN0aW9uKCl7dGhpcy5zZXQoInJldHJ5QXR0ZW1wdHMiLDApfSxlLnByb3RvdHlwZS5pc1N0YXJ0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuZ2V0Q3VycmVudFRhc2soKT8hMTohMH0sZS5wcm90b3R5cGUuc2V0U3VibWlzc2lvblF1ZXVlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2Iuc3VibWlzc2lvbk1vZGVsKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGM/YShjKTooYi5nZXQoInN1Ym1pc3Npb25JZCIpJiZkLnNldFJlbW90ZVN1Ym1pc3Npb25JZChiLmdldCgic3VibWlzc2lvbklkIikpLHZvaWQgZC5xdWV1ZWQoYSkpfSl9LGUucHJvdG90eXBlLnVwbG9hZEZvcm09ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhjKXskZmguZm9ybXMubG9nLmQoIkluIHByb2Nlc3NVcGxvYWREYXRhUmVzdWx0Iik7dmFyIGQ9Zy5nZXQoImpzb25UYXNrIik7aWYoYy5lcnJvcilyZXR1cm4gJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzdWJtaXR0aW5nIGZvcm0gIitjLmVycm9yKSxhKCJFcnJvciBzdWJtaXR0aW5nIGZvcm0gIitjLmVycm9yKTt2YXIgZT1jLnN1Ym1pc3Npb25JZDtkLmxhc3RVcGRhdGU9Yi51dGlscy5nZXRUaW1lKCksZy5zZXQoInN1Ym1pc3Npb25JZCIsZSksZy5zZXRTdWJtaXNzaW9uUXVldWVkKGZ1bmN0aW9uKCl7cmV0dXJuIGcuaW5jcmVQcm9ncmVzcygpLGcuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZFRhc2sgdG8gbG9jYWwgc3RvcmFnZSIrYSl9KSxnLmVtaXQoInByb2dyZXNzIixnLmdldFByb2dyZXNzKCkpLGEobnVsbCl9KX1mdW5jdGlvbiBkKGIsYyl7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZCgiSW4gcHJvY2Vzc0Rvd25sb2FkRGF0YVJlc3VsdCIpLGI/KCRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZG93bmxvYWRpbmcgc3VibWlzc2lvbiBkYXRhIitiKSxhKGIpKTp2b2lkIGcuc3VibWlzc2lvbk1vZGVsKGZ1bmN0aW9uKGIsZCl7aWYoJGZoLmZvcm1zLmxvZy5kKCJHb3QgU3VibWlzc2lvbk1vZGVsIixiLGQpLGIpcmV0dXJuIGEoYik7dmFyIGU9e307aWYoInN0cmluZyI9PXR5cGVvZiBjKXRyeXtlPUpTT04ucGFyc2UoYyl9Y2F0Y2goZil7cmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgicHJvY2Vzc0Rvd25sb2FkRGF0YVJlc3VsdCBJbnZhbGlkIEpTT04gT2JqZWN0IFJldHVybmVkIixjKSxhKCJJbnZhbGlkIEpTT04gT2JqZWN0IFJldHVybmVkIil9ZWxzZSBlPWM7ZS5zdGF0dXMmJmRlbGV0ZSBlLnN0YXR1cyxkLmZyb21KU09OKGUpLGcuc2V0KCJqc29uVGFzayIsYyksZC5zYXZlTG9jYWwoZnVuY3Rpb24oYil7JGZoLmZvcm1zLmxvZy5kKCJTYXZlZCBTdWJtaXNzaW9uTW9kZWwiLGIsZCksYiYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgdXBkYXRlZCBzdWJtaXNzaW9uIGZyb20gZG93bmxvYWQgc3VibWlzc2lvbjogIitiKSxnLmFkZEZpbGVUYXNrcyhkLGZ1bmN0aW9uKGIpe3JldHVybiAkZmguZm9ybXMubG9nLmQoImFkZEZpbGVUYXNrcyBjYWxsZWQiLGIsZCksYj9hKGIpOihnLmluY3JlUHJvZ3Jlc3MoKSx2b2lkIGcuc2F2ZUxvY2FsKGZ1bmN0aW9uKGIpe3JldHVybiBiJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyBkb3dubG9hZFRhc2sgdG8gbG9jYWwgc3RvcmFnZSIrYiksZy5lbWl0KCJwcm9ncmVzcyIsZy5nZXRQcm9ncmVzcygpKSxhKCl9KSl9KX0pfSl9ZnVuY3Rpb24gZSgpeyRmaC5mb3Jtcy5sb2cuZCgiSW4gdXBsb2FkU3VibWlzc2lvbkpTT04iKTt2YXIgZD1nLmdldCgianNvblRhc2siKTtnLnN1Ym1pc3Npb25Nb2RlbChmdW5jdGlvbihlLGYpe3JldHVybiBlP2EoZSk6dm9pZCBnLmFkZEZpbGVUYXNrcyhmLGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgYWRkaW5nIGZpbGUgdGFza3MgZm9yIHN1Ym1pc3Npb24gdXBsb2FkIiksYShlKTt2YXIgZj1uZXcgYi5tb2RlbHMuRm9ybVN1Ym1pc3Npb24oZCk7Zy5nZXRSZW1vdGVTdG9yZSgpLmNyZWF0ZShmLGZ1bmN0aW9uKGIsZCl7aWYoYilyZXR1cm4gYShiKTt2YXIgZT1kLnVwZGF0ZWRGb3JtRGVmaW5pdGlvbjtlP2cucmVmcmVzaEZvcm0oZSxmdW5jdGlvbihhKXskZmguZm9ybXMubG9nLmQoIkZvcm0gVXBkYXRlZCwgcmVmcmVzaGVkIiksYSYmJGZoLmZvcm1zLmxvZy5lKGEpLGMoZCl9KTpjKGQpfSl9KX0pfWZ1bmN0aW9uIGYoKXt2YXIgYT1uZXcgYi5tb2RlbHMuRm9ybVN1Ym1pc3Npb25Eb3dubG9hZChnKTtnLmdldFJlbW90ZVN0b3JlKCkucmVhZChhLGQpfXZhciBnPXRoaXM7Zy5pc0Rvd25sb2FkVGFzaygpP2YoKTplKCl9LGUucHJvdG90eXBlLmhhbmRsZUNvbXBsZXRpb25FcnJvcj1mdW5jdGlvbihhLGIsYyl7JGZoLmZvcm1zLmxvZy5kKCJoYW5kbGVDb21wbGV0aW9uRXJyb3IgQ2FsbGVkIik7dmFyIGQ9YTtkPSJwZW5kaW5nIj09PWIuc3RhdHVzPyJTdWJtaXNzaW9uIFN0aWxsIFBlbmRpbmcuIjoiZXJyb3IiPT09Yi5zdGF0dXM/IkVycm9yIGNvbXBsZXRpbmcgc3VibWlzc2lvbiI6IkludmFsaWQgcmV0dXJuIHR5cGUgZnJvbSBjb21wbGV0ZSBzdWJtaXNzaW9uIixjKGQpfSxlLnByb3RvdHlwZS5oYW5kbGVJbmNvbXBsZXRlU3VibWlzc2lvbj1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7dmFyIGM9ZS5nZXRSZW1vdGVTdG9yZSgpLGQ9bmV3IGIubW9kZWxzLkZvcm1TdWJtaXNzaW9uU3RhdHVzKGUpO2Muc3VibWlzc2lvblN0YXR1cyhkLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9IiI7aWYoYilhKGIpO2Vsc2UgaWYoImVycm9yIj09PWMuc3RhdHVzKWQ9IkVycm9yIHN1Ym1pdHRpbmcgZm9ybS4iLGEoZCk7ZWxzZSBpZigiY29tcGxldGUiPT09Yy5zdGF0dXMpZS5pbmNyZVByb2dyZXNzKCksYSgpO2Vsc2UgaWYoInBlbmRpbmciPT09Yy5zdGF0dXMpe3ZhciBmPWMucGVuZGluZ0ZpbGVzfHxbXTtmLmxlbmd0aD4wP2UucmVzZXRVcGxvYWRUYXNrKGYsZnVuY3Rpb24oKXthKCl9KTooZS5pbmNyZVByb2dyZXNzKCksYSgpKX1lbHNlIGQ9IkludmFsaWQgc3VibWlzc2lvbiBzdGF0dXMgcmVzcG9uc2UuIixhKGQpfSl9ZnVuY3Rpb24gZCgpe2EoKX12YXIgZT10aGlzO2UuaXNEb3dubG9hZFRhc2soKT9kKCk6YygpfSxlLnByb3RvdHlwZS5yZXNldFVwbG9hZFRhc2s9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMuZ2V0KCJmaWxlVGFza3MiKSxlPVtdO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspYS5pbmRleE9mKGRbY10uaGFzaE5hbWUpPDAmJmUucHVzaChkW2NdKTtmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKWEuaW5kZXhPZihkW2NdLmhhc2hOYW1lKT4tMSYmZS5wdXNoKGRbY10pO3ZhciBmPWQubGVuZ3RoLWEubGVuZ3RoLTEsZz0wO2Y+MCYmKGc9ZiksdGhpcy5zZXQoImN1cnJlbnRUYXNrIixnKSx0aGlzLnNldCgiZmlsZVRhc2tzIixlKSx0aGlzLnNhdmVMb2NhbChiKX0sZS5wcm90b3R5cGUudXBsb2FkRmlsZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7JGZoLmZvcm1zLmxvZy5kKCJwcm9jZXNzVXBsb2FkRmlsZSBmb3Igc3VibWlzc2lvbklkOiAiKSxnPSJiYXNlNjQiPT09aC5jb250ZW50VHlwZT9uZXcgYi5tb2RlbHMuQmFzZTY0RmlsZVN1Ym1pc3Npb24oaCk6bmV3IGIubW9kZWxzLkZpbGVTdWJtaXNzaW9uKGgpLGcuc2V0U3VibWlzc2lvbklkKGkpLGcubG9hZEZpbGUoZnVuY3Rpb24oYyl7cmV0dXJuIGM/KCRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgbG9hZGluZyBmaWxlIGZvciB1cGxvYWQ6ICIrYyksYShjKSk6dm9pZCBlLmdldFJlbW90ZVN0b3JlKCkuY3JlYXRlKGcsZnVuY3Rpb24oYyxkKXtpZihjKWEoYyk7ZWxzZSBpZigib2siPT09ZC5zdGF0dXN8fDIwMD09PWQuc3RhdHVzfHwiMjAwIj09PWQuc3RhdHVzKWgudXBkYXRlRGF0ZT1iLnV0aWxzLmdldFRpbWUoKSxlLmluY3JlUHJvZ3Jlc3MoKSxlLnNhdmVMb2NhbChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyB1cGxvYWQgdGFzayIrYSl9KSxlLmVtaXQoInByb2dyZXNzIixlLmdldFByb2dyZXNzKCkpLGEobnVsbCk7ZWxzZXt2YXIgZj0iRmlsZSB1cGxvYWQgZmFpbGVkIGZvciBmaWxlOiAiK2guZmlsZU5hbWU7YShmKX19KX0pfWZ1bmN0aW9uIGQoKXskZmguZm9ybXMubG9nLmQoInByb2Nlc3NEb3dubG9hZEZpbGUgY2FsbGVkIiksZz1uZXcgYi5tb2RlbHMuRmlsZVN1Ym1pc3Npb25Eb3dubG9hZChoKSxnLnNldFN1Ym1pc3Npb25JZChpKSxlLmdldFJlbW90ZVN0b3JlKCkucmVhZChnLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI/KCRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZG93bmxvYWRpbmcgYSBmaWxlIGZyb20gcmVtb3RlOiAiK2IpLGEoYikpOigkZmguZm9ybXMubG9nLmQoInByb2Nlc3NEb3dubG9hZEZpbGUgY2FsbGVkLiBMb2NhbCBGaWxlIFBhdGg6ICIrYyksdm9pZCBlLnN1Ym1pc3Npb25Nb2RlbChmdW5jdGlvbihiLGQpe3JldHVybiBiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIExvYWRpbmcgc3VibWlzc2lvbiBtb2RlbCBmb3IgcHJvY2Vzc0Rvd25sb2FkRmlsZSAiK2IpLGEoYikpOnZvaWQgZC51cGRhdGVGaWxlTG9jYWxVUkkoaCxjLGZ1bmN0aW9uKGIpe3JldHVybiBiPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHVwZGF0aW5nIGZpbGUgbG9jYWwgdXJsIGZvciBmaWxlVGFzayAiK0pTT04uc3RyaW5naWZ5KGgpKSxhKGIpKTooZS5pbmNyZVByb2dyZXNzKCksZS5zYXZlTG9jYWwoZnVuY3Rpb24oYSl7YSYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgZG93bmxvYWQgdGFzayIpfSksZS5lbWl0KCJwcm9ncmVzcyIsZS5nZXRQcm9ncmVzcygpKSxhKCkpfSl9KSl9KX12YXIgZT10aGlzLGY9ZS5nZXRDdXJyZW50VGFzaygpO251bGw9PT1mJiYoZj0wLGUuc2V0KCJjdXJyZW50VGFzayIsZikpO3ZhciBnLGg9ZS5nZXQoImZpbGVUYXNrcyIsW10pW2ZdLGk9ZS5nZXQoInN1Ym1pc3Npb25JZCIpO3JldHVybiBoP2k/dm9pZChlLmlzRG93bmxvYWRUYXNrKCk/ZCgpOmMoKSk6KCRmaC5mb3Jtcy5sb2cuZSgiTm8gc3VibWlzc2lvbiBpZCBmb3VuZCB3aGVuIHRyeWluZyB0byB0cmFuc2ZlciBhIGZpbGUuIiksYSgiTm8gc3VibWlzc2lvbiBJZCBmb3VuZCIpKTooJGZoLmZvcm1zLmxvZy5lKCJObyBmaWxlIHRhc2sgZm91bmQgd2hlbiB0cnlpbmcgdG8gdHJhbnNmZXIgYSBmaWxlLiIpLGEoImNhbm5vdCBmaW5kIGZpbGUgdGFzayIpKX0sZS5wcm90b3R5cGUuaXNEb3dubG9hZFRhc2s9ZnVuY3Rpb24oKXtyZXR1cm4iZG93bmxvYWQiPT09dGhpcy5nZXQoInN1Ym1pc3Npb25UcmFuc2ZlclR5cGUiKX0sZS5wcm90b3R5cGUuc2V0UmV0cnlOZWVkZWQ9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5nZXQoInN1Ym1pc3Npb25JZCIsbnVsbCk/dGhpcy5zZXQoInJldHJ5TmVlZGVkIixhKToodGhpcy5zZXQoInJldHJ5TmVlZGVkIiwhMSksdGhpcy5zZXQoImN1cnJlbnRUYXNrIixudWxsKSl9LGUucHJvdG90eXBlLnJldHJ5TmVlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJyZXRyeU5lZWRlZCIpfSxlLnByb3RvdHlwZS51cGxvYWRUaWNrPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7Yj8oJGZoLmZvcm1zLmxvZy5kKCJFcnIsIHJldHJ5aW5nIHRyYW5zZmVyOiAiK2MuZ2V0TG9jYWxJZCgpKSxjLmluY3JlUmV0cnlBdHRlbXB0cygpLGMuZ2V0UmV0cnlBdHRlbXB0cygpPD0kZmguZm9ybXMuY29uZmlnLmdldCgibWF4X3JldHJpZXMiKT8oYy5zZXRSZXRyeU5lZWRlZCghMCksYy5zYXZlTG9jYWwoZnVuY3Rpb24oYil7YiYmJGZoLmZvcm1zLmxvZy5lKCJFcnJvciBzYXZpbmcgdXBsb2FkIHRhc2tMICIrYiksYSgpfSkpOihjLnNldFJldHJ5TmVlZGVkKCEwKSxjLnJlc2V0UmV0cnlBdHRlbXB0cygpLGMuZXJyb3IoYixmdW5jdGlvbigpe2EoYil9KSkpOihjLnNldFJldHJ5TmVlZGVkKCExKSxjLnNhdmVMb2NhbChmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHNhdmluZyB1cGxvYWQgdGFzayB0byBsb2NhbCBtZW1vcnkiK2EpfSksYy5zdWJtaXNzaW9uTW9kZWwoZnVuY3Rpb24oYixjKXtpZihiKWEoYik7ZWxzZXt2YXIgZD1jLmdldCgic3RhdHVzIik7ImlucHJvZ3Jlc3MiIT09ZCYmInN1Ym1pdHRlZCIhPT1kJiYiZG93bmxvYWRlZCIhPT1kJiYicXVldWVkIiE9PWQ/KCRmaC5mb3Jtcy5sb2cuZSgiU3VibWlzc2lvbiBzdGF0dXMgaXMgaW5jb3JyZWN0LiBVcGxvYWQgdGFzayBzaG91bGQgYmUgc3RhcnRlZCBieSBzdWJtaXNzaW9uIG9iamVjdCdzIHVwbG9hZCBtZXRob2QuIitkKSxhKCJTdWJtaXNzaW9uIHN0YXR1cyBpcyBpbmNvcnJlY3QuIFVwbG9hZCB0YXNrIHNob3VsZCBiZSBzdGFydGVkIGJ5IHN1Ym1pc3Npb24gb2JqZWN0J3MgdXBsb2FkIG1ldGhvZC4iKSk6YSgpfX0pKX12YXIgYz10aGlzO3RoaXMuaXNGb3JtQ29tcGxldGVkKCk/dGhpcy5yZXRyeU5lZWRlZCgpP3RoaXMuaGFuZGxlSW5jb21wbGV0ZVN1Ym1pc3Npb24oYik6dGhpcy5pc0ZpbGVDb21wbGV0ZWQoKT90aGlzLmlzTUJhYVNDb21wbGV0ZWQoKT90aGlzLmlzQ29tcGxldGVkKCk/YihudWxsLG51bGwpOnRoaXMuc3VjY2VzcyhiKTp0aGlzLnVwbG9hZENvbXBsZXRlKGIpOnRoaXMudXBsb2FkRmlsZShiKTp0aGlzLnVwbG9hZEZvcm0oYil9LGUucHJvdG90eXBlLmluY3JlUHJvZ3Jlc3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRUYXNrKCk7bnVsbD09PWE/YT0wOmErKyx0aGlzLnNldCgiY3VycmVudFRhc2siLGEpfSxlLnByb3RvdHlwZS51cGxvYWRDb21wbGV0ZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7JGZoLmZvcm1zLmxvZy5kKCJwcm9jZXNzRG93bmxvYWRDb21wbGV0ZSBDYWxsZWQiKSxlLmluY3JlUHJvZ3Jlc3MoKSxhKG51bGwpfWZ1bmN0aW9uIGQoKXskZmguZm9ybXMubG9nLmQoInByb2Nlc3NVcGxvYWRDb21wbGV0ZSBDYWxsZWQiKTt2YXIgYz1lLmdldFJlbW90ZVN0b3JlKCksZD1uZXcgYi5tb2RlbHMuRm9ybVN1Ym1pc3Npb25Db21wbGV0ZShlKTtjLmNyZWF0ZShkLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGM9Y3x8e30sImNvbXBsZXRlIiE9PWMuc3RhdHVzP2UuaGFuZGxlQ29tcGxldGlvbkVycm9yKGIsYyxhKTooZS5pbmNyZVByb2dyZXNzKCksdm9pZCBhKG51bGwpKX0pfSRmaC5mb3Jtcy5sb2cuZCgiVXBsb2FkQ29tcGxldGUgQ2FsbGVkIik7dmFyIGU9dGhpcyxmPWUuZ2V0KCJzdWJtaXNzaW9uSWQiLG51bGwpO3JldHVybiBudWxsPT09Zj9hKCJGYWlsZWQgdG8gY29tcGxldGUgc3VibWlzc2lvbi4gU3VibWlzc2lvbiBJZCBub3QgZm91bmQuIik6dm9pZChlLmlzRG93bmxvYWRUYXNrKCk/YygpOmQoKSl9LGUucHJvdG90eXBlLnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXskZmguZm9ybXMubG9nLmQoInByb2Nlc3NVcGxvYWRTdWNjZXNzIENhbGxlZCIpLGQuc3VibWlzc2lvbk1vZGVsKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI/YShiKTooYy5zZXQoInN1Ym1pc3Npb25JZCIsZSksdm9pZCBjLnN1Ym1pdHRlZChhKSl9KX1mdW5jdGlvbiBjKGEpeyRmaC5mb3Jtcy5sb2cuZCgicHJvY2Vzc0Rvd25sb2FkU3VjY2VzcyBDYWxsZWQiKSxkLnN1Ym1pc3Npb25Nb2RlbChmdW5jdGlvbihiLGMpe3JldHVybiBiP2EoYik6KGMucG9wdWxhdGVGaWxlc0luU3VibWlzc2lvbigpLHZvaWQgYy5kb3dubG9hZGVkKGEpKX0pfSRmaC5mb3Jtcy5sb2cuZCgiVHJhbnNmZXIgU3VjZXNzZnVsLiBTdWNjZXNzIENhbGxlZC4iKTt2YXIgZD10aGlzLGU9ZC5nZXQoInN1Ym1pc3Npb25JZCIsbnVsbCk7ZC5zZXQoImNvbXBsZXRlZCIsITApLGQuc2F2ZUxvY2FsKGZ1bmN0aW9uKGUpe2UmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgQ2xlYXJpbmcgVXBsb2FkIFRhc2siKSxkLmlzRG93bmxvYWRUYXNrKCk/YyhmdW5jdGlvbigpe2QuY2xlYXJMb2NhbChhKX0pOmIoZnVuY3Rpb24oKXtkLmNsZWFyTG9jYWwoYSl9KX0pfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7JGZoLmZvcm1zLmxvZy5lKCJFcnJvciB1cGxvYWRpbmcgc3VibWlzc2lvbjogIixhKSxjLnNldCgiZXJyb3IiLGEpLGMuc2F2ZUxvY2FsKGZ1bmN0aW9uKGQpe2QmJiRmaC5mb3Jtcy5sb2cuZSgiVXBsb2FkIHRhc2sgc2F2ZSBmYWlsZWQ6ICIrZCksYy5zdWJtaXNzaW9uTW9kZWwoZnVuY3Rpb24oZCxlKXtkP2IoZCk6KGUuc2V0VXBsb2FkVGFza0lkKG51bGwpLGUuZXJyb3IoYSxmdW5jdGlvbihhKXthJiYkZmguZm9ybXMubG9nLmUoIkVycm9yIHVwZGF0aW5nIHN1Ym1pc3Npb24gbW9kZWwgdG8gZXJyb3Igc3RhdHVzICIsYSksYy5jbGVhckxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgY2xlYXJpbmcgdXBsb2FkIHRhc2sgbG9jYWwgc3RvcmFnZTogIixhKSxiKGEpfSl9KSl9KX0pfSxlLnByb3RvdHlwZS5pc0Zvcm1Db21wbGV0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRUYXNrKCk7cmV0dXJuIG51bGw9PT1hPyExOiEwfSxlLnByb3RvdHlwZS5pc0ZpbGVDb21wbGV0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRUYXNrKCk7cmV0dXJuIG51bGw9PT1hPyExOmE8dGhpcy5nZXQoImZpbGVUYXNrcyIsW10pLmxlbmd0aD8hMTohMH0sZS5wcm90b3R5cGUuaXNFcnJvcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0KCJlcnJvciIsbnVsbCk7cmV0dXJuIGE/ITA6ITF9LGUucHJvdG90eXBlLmlzQ29tcGxldGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJjb21wbGV0ZWQiLCExKX0sZS5wcm90b3R5cGUuaXNNQmFhU0NvbXBsZXRlZD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5pc0ZpbGVDb21wbGV0ZWQoKSl7dmFyIGI9YS5nZXRDdXJyZW50VGFzaygpO3JldHVybiBiPmEuZ2V0KCJmaWxlVGFza3MiLFtdKS5sZW5ndGg/KGEuc2V0KCJtYmFhc0NvbXBsZXRlZCIsITApLGEuc2F2ZUxvY2FsKGZ1bmN0aW9uKGEpe2EmJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIHVwbG9hZCB0YXNrOiAiLGEpfSksITApOiExfXJldHVybiExfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj17Zm9ybUpTT046ITEsY3VycmVudEZpbGVJbmRleDowLHRvdGFsRmlsZXM6YS5nZXQoImZpbGVUYXNrcyIpLmxlbmd0aCx0b3RhbFNpemU6YS5nZXRUb3RhbFNpemUoKSx1cGxvYWRlZDphLmdldFVwbG9hZGVkU2l6ZSgpLHJldHJ5QXR0ZW1wdHM6YS5nZXRSZXRyeUF0dGVtcHRzKCksc3VibWlzc2lvblRyYW5zZmVyVHlwZTphLmdldCgic3VibWlzc2lvblRyYW5zZmVyVHlwZSIpfSxjPWEuZ2V0Q3VycmVudFRhc2soKTtyZXR1cm4gbnVsbD09PWM/YjooYi5mb3JtSlNPTj0hMCxiLmN1cnJlbnRGaWxlSW5kZXg9YyxiKX0sZS5wcm90b3R5cGUucmVmcmVzaEZvcm09ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmdldCgiZm9ybUlkIik7bmV3IGIubW9kZWxzLkZvcm0oe2Zvcm1JZDpkLHJhd01vZGU6ITAscmF3RGF0YTphfSxmdW5jdGlvbihiKXtiJiYkZmguZm9ybXMubG9nLmUoYiksJGZoLmZvcm1zLmxvZy5sKCJzdWNjZXNzZnVsbHkgdXBkYXRlZCBmb3JtIHRoZSBmb3JtIHdpdGggaWQgIithLl9pZCksYygpfSl9LGUucHJvdG90eXBlLnN1Ym1pc3Npb25Nb2RlbD1mdW5jdGlvbihhKXtiLm1vZGVscy5zdWJtaXNzaW9uLmZyb21Mb2NhbCh0aGlzLmdldCgic3VibWlzc2lvbkxvY2FsSWQiKSxmdW5jdGlvbihiLGMpe2ImJiRmaC5mb3Jtcy5sb2cuZSgiRXJyb3IgZ2V0dGluZyBzdWJtaXNzaW9uIG1vZGVsIGZyb20gbG9jYWwgbWVtb3J5ICIrYiksYShiLGMpfSl9LGF9KGIubW9kZWxzfHx7fSksYi5tb2RlbHM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2QuY2FsbCh0aGlzLHtfdHlwZToidGhlbWUiLF9sdWRpZDoidGhlbWVfb2JqZWN0In0pfXZhciBkPWIubW9kZWxzLk1vZGVsO3JldHVybiBjLnByb3RvdHlwZS5nZXRDU1M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImNzcyIsIiIpfSxiLnV0aWxzLmV4dGVuZChjLGQpLGEudGhlbWU9bmV3IGMsYX0oYi5tb2RlbHN8fHt9KSxiLm1vZGVscz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7ZC5jYWxsKHRoaXMse190eXBlOiJsb2ciLF9sdWRpZDoibG9nIn0pLHRoaXMuc2V0KCJsb2dzIixbXSksdGhpcy5pc1dyaXRpbmc9ITEsdGhpcy5tb3JlVG9Xcml0ZT0hMX12YXIgZD1iLm1vZGVscy5Nb2RlbDtyZXR1cm4gYi51dGlscy5leHRlbmQoYyxkKSxjLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKGEpe2lmKCRmaC5mb3Jtcy5jb25maWcuZ2V0KCJsb2dnZXIiKT09PSEwKXt2YXIgYj0iIixjPSRmaC5mb3Jtcy5jb25maWcuZ2V0KCJsb2dfbGV2ZWwiKSxkPSRmaC5mb3Jtcy5jb25maWcuZ2V0KCJsb2dfbGV2ZWxzIiksZT10aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgYT8oYj1hLGE9ZC5pbmRleE9mKGEudG9Mb3dlckNhc2UoKSkpOmE9MCxjPWlzTmFOKHBhcnNlSW50KGMsMTApKT9jOnBhcnNlSW50KGMsMTApLGE9aXNOYU4ocGFyc2VJbnQoYSwxMCkpP2E6cGFyc2VJbnQoYSwxMCksYT5jKXJldHVybjt2YXIgZj1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApLGc9ZS5nZXQoImxvZ3MiKTtmLnNoaWZ0KCk7Zm9yKHZhciBoPSIiO2YubGVuZ3RoPjA7KWgrPUpTT04uc3RyaW5naWZ5KGYuc2hpZnQoKSkrIiAiO2lmKGcucHVzaChlLndyYXAoaCxiKSksZy5sZW5ndGg+JGZoLmZvcm1zLmNvbmZpZy5nZXQoImxvZ19saW5lX2xpbWl0IikmJmcuc2hpZnQoKSxlLmlzV3JpdGluZyllLm1vcmVUb1dyaXRlPSEwO2Vsc2V7dmFyIGk9ZnVuY3Rpb24oKXtlLm1vcmVUb1dyaXRlJiYoZS5tb3JlVG9Xcml0ZT0hMSxlLndyaXRlKGkpKX07ZS53cml0ZShpKX19fSxjLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IERhdGUsZD1jLnRvSVNPU3RyaW5nKCk7Im9iamVjdCI9PXR5cGVvZiBhJiYoYT1KU09OLnN0cmluZ2lmeShhKSk7dmFyIGU9ZCsiICIrYi50b1VwcGVyQ2FzZSgpKyIgIithO3JldHVybiBlfSxjLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuaXNXcml0aW5nPSEwLGIuc2F2ZUxvY2FsKGZ1bmN0aW9uKCl7Yi5pc1dyaXRpbmc9ITEsYSgpfSl9LGMucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApO2EudW5zaGlmdCgiZXJyb3IiKSx0aGlzLmluZm8uYXBwbHkodGhpcyxhKX0sYy5wcm90b3R5cGUudz1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsMCk7YS51bnNoaWZ0KCJ3YXJuaW5nIiksdGhpcy5pbmZvLmFwcGx5KHRoaXMsYSl9LGMucHJvdG90eXBlLmw9ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApO2EudW5zaGlmdCgibG9nIiksdGhpcy5pbmZvLmFwcGx5KHRoaXMsYSl9LGMucHJvdG90eXBlLmQ9ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApO2EudW5zaGlmdCgiZGVidWciKSx0aGlzLmluZm8uYXBwbHkodGhpcyxhKX0sYy5wcm90b3R5cGUuZ2V0TG9ncz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgibG9ncyIpfSxjLnByb3RvdHlwZS5jbGVhckxvZ3M9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoImxvZ3MiLFtdKSx0aGlzLnNhdmVMb2NhbChmdW5jdGlvbigpe2EmJmEoKX0pfSxjLnByb3RvdHlwZS5zZW5kTG9ncz1mdW5jdGlvbihhKXt2YXIgYz0kZmguZm9ybXMuY29uZmlnLmdldCgibG9nX2VtYWlsIiksZD1iLmNvbmZpZy5nZXRQcm9wcygpLGU9dGhpcy5nZXRMb2dzKCksZj17dHlwZToiZW1haWwiLHRvOmMsc3ViamVjdDoiQXBwIEZvcm1zIEFwcCBMb2dzIixib2R5OiJDb25maWd1cmF0aW9uOlxuIitKU09OLnN0cmluZ2lmeShkKSsiXG5cbkFwcCBMb2dzOlxuIitlLmpvaW4oIlxuIil9O2IudXRpbHMuc2VuZChmLGEpCn0sYS5sb2c9bmV3IGMsYi5sb2c9YS5sb2csYX0oYi5tb2RlbHN8fHt9KSxiLmFwaT1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGEmJihjPWEsYT17fSksYT1hP2E6e30sYz1jP2M6bDt2YXIgZD1hLmZyb21SZW1vdGU7dm9pZCAwPT09ZCYmKGQ9ITEpLGIubW9kZWxzLmZvcm1zLnJlZnJlc2goZCxjKX1mdW5jdGlvbiBkKGEsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGEmJihjPWEsYT17fSksYT1hP2E6e30sYz1jP2M6bCxuZXcgYi5tb2RlbHMuRm9ybShhLGMpfWZ1bmN0aW9uIGUoYSxjKXsiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGM9YSxhPXt9KSxhPWE/YTp7fSxjPWM/YzpsO3ZhciBkPWIubW9kZWxzLnRoZW1lO2EuZnJvbVJlbW90ZXx8KGEuZnJvbVJlbW90ZT0hMSksZC5yZWZyZXNoKGEuZnJvbVJlbW90ZSxmdW5jdGlvbihiLGUpe3JldHVybiBiP2MoYik6bnVsbD09PWU/YyhuZXcgRXJyb3IoIk5vIHRoZW1lIGRlZmluZWQgZm9yIHRoaXMgYXBwIikpOmEuY3NzPT09ITA/YyhudWxsLGQuZ2V0Q1NTKCkpOmMobnVsbCxkKX0pfWZ1bmN0aW9uIGYoYSxjKXsiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGM9YSxhPXt9KSxhPWE/YTp7fSxjPWM/YzpsO2IubW9kZWxzLnN1Ym1pc3Npb25zO251bGw9PT1pP2IubW9kZWxzLnN1Ym1pc3Npb25zLmxvYWRMb2NhbChmdW5jdGlvbihhKXthPygkZmguZm9ybXMubG9nLmUoYSksYyhhKSk6KGk9Yi5tb2RlbHMuc3VibWlzc2lvbnMsYyhudWxsLGkpKX0pOmMobnVsbCxpKX1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGE/dm9pZCBhLnN1Ym1pdChmdW5jdGlvbihjKXtyZXR1cm4gYz9iKGMpOnZvaWQgYS51cGxvYWQoYil9KTpiKCJJbnZhbGlkIHN1Ym1pc3Npb24gb2JqZWN0LiIpfWZ1bmN0aW9uIGgoYSxjKXtmdW5jdGlvbiBkKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhJiYyND09PWEubGVuZ3RoP251bGw6YSwkZmguZm9ybXMubG9nLmQoImZpbmlzaFN1Ym1pc3Npb25Eb3dubG9hZCAiLGEsZSk7dmFyIGI9ZS5nZXRSZW1vdGVTdWJtaXNzaW9uSWQoKSxkPWpbYl07aWYoIWQpcmV0dXJuIGUuY2xlYXJFdmVudHMoKSxjKGEsZSk7Zm9yKHZhciBmPWQucG9wKCk7ImZ1bmN0aW9uIj09dHlwZW9mIGY7KWYoYSxlKSxmPWQucG9wKCk7ZS5jbGVhckV2ZW50cyYmZS5jbGVhckV2ZW50cygpfWE9YT9hOnt9O3ZhciBlPW51bGw7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGMpcmV0dXJuIG51bGw7aWYoJGZoLmZvcm1zLmxvZy5kKCJkb3dubG9hZFN1Ym1pc3Npb24gY2FsbGVkIixhKSwhYS5zdWJtaXNzaW9uSWQpcmV0dXJuICRmaC5mb3Jtcy5sb2cuZSgiTm8gc3VibWlzc2lvbklkIHBhc3NlZCB0byBkb3dubG9hZCBhIHN1Ym1pc3Npb24iKSxjKCJObyBzdWJtaXNzaW9uSWQgcGFzc2VkIHRvIGRvd25sb2FkIGEgc3VibWlzc2lvbiIpOyRmaC5mb3Jtcy5sb2cuZCgiZG93bmxvYWRTdWJtaXNzaW9uIFN1Ym1pc3Npb25JZCBleGlzdHMiK2Euc3VibWlzc2lvbklkKTt2YXIgZj1iLm1vZGVscy5zdWJtaXNzaW9ucy5maW5kTWV0YUJ5UmVtb3RlSWQoYS5zdWJtaXNzaW9uSWQpO251bGw9PT1mPygkZmguZm9ybXMubG9nLmQoImRvd25sb2FkU3VibWlzc2lvbiBzdWJtaXNzaW9uIGRvZXMgbm90IGV4aXN0LCBkb3dubG9hZGluZyIsYSksZT1uZXcgYi5tb2RlbHMuc3VibWlzc2lvbi5uZXdJbnN0YW5jZShudWxsLHtzdWJtaXNzaW9uSWQ6YS5zdWJtaXNzaW9uSWR9KSxlLm9uKCJlcnJvciIsZCksZS5vbigiZG93bmxvYWRlZCIsZCksImZ1bmN0aW9uIj09dHlwZW9mIGEudXBkYXRlRnVuY3Rpb24mJmUub24oInByb2dyZXNzIixhLnVwZGF0ZUZ1bmN0aW9uKSwiZnVuY3Rpb24iPT10eXBlb2YgYyYmKGpbYS5zdWJtaXNzaW9uSWRdP2pbYS5zdWJtaXNzaW9uSWRdLnB1c2goYyk6KGpbYS5zdWJtaXNzaW9uSWRdPVtdLGpbYS5zdWJtaXNzaW9uSWRdLnB1c2goYykpKSxlLmRvd25sb2FkKGZ1bmN0aW9uKGEpe3JldHVybiBhPygkZmguZm9ybXMubG9nLmUoIkVycm9yIHF1ZXVlaW5nIHN1Ym1pc3Npb24gZm9yIGRvd25sb2FkICIrYSksYyhhKSk6dm9pZCAwfSkpOigkZmguZm9ybXMubG9nLmQoImRvd25sb2FkU3VibWlzc2lvbiBzdWJtaXNzaW9uIGV4aXN0cyIsYSksImRvd25sb2FkZWQiIT09Zi5zdGF0dXMmJiJzdWJtaXR0ZWQiIT09Zi5zdGF0dXM/ImZ1bmN0aW9uIj09dHlwZW9mIGMmJihqW2Euc3VibWlzc2lvbklkXT9qW2Euc3VibWlzc2lvbklkXS5wdXNoKGMpOihqW2Euc3VibWlzc2lvbklkXT1bXSxqW2Euc3VibWlzc2lvbklkXS5wdXNoKGMpKSk6Yi5tb2RlbHMuc3VibWlzc2lvbnMuZ2V0U3VibWlzc2lvbkJ5TWV0YShmLGMpKX1hLmdldEZvcm1zPWMsYS5nZXRGb3JtPWQsYS5nZXRUaGVtZT1lLGEuc3VibWl0Rm9ybT1nLGEuZ2V0U3VibWlzc2lvbnM9ZixhLmRvd25sb2FkU3VibWlzc2lvbj1oLGEuaW5pdD1iLmluaXQsYS5sb2c9Yi5tb2RlbHMubG9nO3ZhciBpPW51bGwsaj17fSxrPWIubW9kZWxzLmNvbmZpZyxsPWZ1bmN0aW9uKGEpe2E9YT9hOiIiLCRmaC5mb3Jtcy5sb2cudygiRGVmYXVsdCBGdW5jdGlvbiBDYWxsZWQgIithKX0sbT17ZWRpdEFsbG93ZWQ6ZnVuY3Rpb24oKXt2YXIgYT1rLmdldCgiZGVmYXVsdENvbmZpZ1ZhbHVlcyIse30pO3JldHVybiBhLmNvbmZpZ19hZG1pbl91c2VyPT09ITB9LGdldDpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj1rLmdldCgidXNlckNvbmZpZ1ZhbHVlcyIse30pLGM9ay5nZXQoImRlZmF1bHRDb25maWdWYWx1ZXMiLHt9KTtyZXR1cm4gYlthXT9iW2FdOmNbYV19fSxnZXREZXZpY2VJZDpmdW5jdGlvbigpe3JldHVybiBrLmdldCgiZGV2aWNlSWQiLCJOb3QgU2V0Iil9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGImJm51bGwhPT1iJiYoYy5lZGl0QWxsb3dlZCgpfHwibWF4X3NlbnRfc2F2ZWQiPT09YSkpe3ZhciBkPWsuZ2V0KCJ1c2VyQ29uZmlnVmFsdWVzIix7fSk7ZFthXT1iLGsuc2V0KCJ1c2VyQ29uZmlnVmFsdWVzIixkKX19LGdldENvbmZpZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1rLmdldCgiZGVmYXVsdENvbmZpZ1ZhbHVlcyIse30pLGM9ay5nZXQoInVzZXJDb25maWdWYWx1ZXMiLHt9KSxkPXt9O2lmKGEuZWRpdEFsbG93ZWQoKSl7Zm9yKHZhciBlIGluIGIpZFtlXT1jW2VdP2NbZV06YltlXTtyZXR1cm4gZH1yZXR1cm4gYn0sc2F2ZUNvbmZpZzpmdW5jdGlvbihhKXtrLnNhdmVMb2NhbChmdW5jdGlvbihiKXtiPyRmaC5mb3Jtcy5sb2cuZSgiRXJyb3Igc2F2aW5nIGEgZm9ybSBjb25maWc6ICIsYik6JGZoLmZvcm1zLmxvZy5sKCJGb3JtIGNvbmZpZyBzYXZlZCBzdWNlc3NmdWxseS4iKSwiZnVuY3Rpb24iPT10eXBlb2YgYSYmYSgpfSl9LG9mZmxpbmU6ZnVuY3Rpb24oKXtrLnNldE9mZmxpbmUoKX0sb25saW5lOmZ1bmN0aW9uKCl7ay5zZXRPbmxpbmUoKX0sbWJhYXNPbmxpbmU6ZnVuY3Rpb24oYSl7ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmsub24oIm9ubGluZSIsYSl9LG1iYWFzT2ZmbGluZTpmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgYSYmay5vbigib2ZmbGluZSIsYSl9LGlzT25saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaXNPbmxpbmUoKX0saXNTdHVkaW9Nb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuaXNTdHVkaW9Nb2RlKCl9LHJlZnJlc2g6ZnVuY3Rpb24oYSl7ay5yZWZyZXNoKCEwLGEpfX07cmV0dXJuIGEuY29uZmlnPW0sYX0oYi5hcGl8fHt9KSwidW5kZWZpbmVkIj09dHlwZW9mICRmaCYmKCRmaD17fSksdm9pZCAwPT09JGZoLmZvcm1zJiYoJGZoLmZvcm1zPWIuYXBpKSxiJiYoYi5SdWxlc0VuZ2luZT1hKX0od2luZG93fHxtb2R1bGUuZXhwb3J0cyk7",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 00:14:14 GMT",
                    "Content-Length": "260142",
                    "Date": "Fri, 07 Nov 2014 00:14:14 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
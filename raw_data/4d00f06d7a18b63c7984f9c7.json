{
    "url": "http://localhost:9999/basisjs/basis-library/basis.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>location.href</b> and written to <b>the 'setAttribute()' function of a DOM element</b> via the following statement:<ul><li>t.setAttribute(\"href\",location.href),kt.remove(t)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/basisjs/basis-library/basis.min.js",
                "path": "/basisjs/basis-library/basis.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9iYXNpc2pzL2Jhc2lzLWxpYnJhcnkvYmFzaXMubWluLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMjA0MDQyDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBUaHUsIDA2IE5vdiAyMDE0IDEyOjExOjEwIEdNVA0KTGFzdC1Nb2RpZmllZDogVGh1LCAwNiBOb3YgMjAxNCAxMjoxMTowOCBHTVQNCg0KKGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBlPXsiMC5qcyI6ImxpYnJhcnkiLCIxLmpzIjoiYmFzaXMudWkiLCIyLmpzIjoiYmFzaXMubDEwbiIsIjMuanMiOiJiYXNpcy5ldmVudCIsIjQuanMiOiJiYXNpcy5kYXRhIiwiNS5qcyI6ImJhc2lzLmRvbS53cmFwcGVyIiwiNi5qcyI6ImJhc2lzLnRlbXBsYXRlIiwiNy5qcyI6ImJhc2lzLnRlbXBsYXRlLmh0bWwiLCI4LmpzIjoiYmFzaXMuZG9tLmV2ZW50IiwiOS5qcyI6ImJhc2lzLnRlbXBsYXRlLmh0bWxmZ2VuIiwiYS5qcyI6ImJhc2lzLmRyYWdkcm9wIiwiYi5qcyI6ImJhc2lzLmRvbS5jb21wdXRlZFN0eWxlIiwiYy5qcyI6ImJhc2lzLmxheW91dCIsImQuanMiOiJiYXNpcy5kYXRhLmRhdGFzZXQiLCJlLmpzIjoiYmFzaXMuZGF0YS52YWx1ZSIsImYuanMiOiJiYXNpcy5kYXRhLmluZGV4IiwiZy5qcyI6ImJhc2lzLmRhdGEub2JqZWN0IiwiaC5qcyI6ImJhc2lzLmVudGl0eSIsImkuanMiOiJiYXNpcy5uZXQuanNvbnAiLCJqLmpzIjoiYmFzaXMubmV0Iiwiay5qcyI6ImJhc2lzLm5ldC5zZXJ2aWNlIiwibC5qcyI6ImJhc2lzLm5ldC5hamF4IiwibS5qcyI6ImJhc2lzLnVhIiwibi5qcyI6ImJhc2lzLm5ldC5hY3Rpb24iLCJvLmpzIjoiYmFzaXMucm91dGVyIiwicC5qcyI6ImJhc2lzLmFwcCJ9LHQsbj17ImQuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gayhlLHQpe3ZhciBuPXt9LHI7ZSYmZS5sZW5ndGgmJihyPW4uaW5zZXJ0ZWQ9ZSksdCYmdC5sZW5ndGgmJihyPW4uZGVsZXRlZD10KTtpZihyKXJldHVybiBufWZ1bmN0aW9uIEwoZSx0KXtyZXR1cm4gZnVuY3Rpb24gcih0KXtyZXR1cm4gdD90Ll9fZXh0ZW5kX18/dDoodHlwZW9mIHQhPSJzdHJpbmciJiYhQXJyYXkuaXNBcnJheSh0KSYmKHQ9bnVsbCksYyhuLmV2ZW50LmNyZWF0ZUhhbmRsZXIodCxlKSx7X19leHRlbmRfXzpyfSkpOm51bGx9KHQpfWZ1bmN0aW9uIEEoZSx0LG4scil7cmV0dXJuIG5ldyBTKGMoe2tleUdldHRlcjp0LGl0ZW1DbGFzczpuLGNyZWF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVMucHJvdG90eXBlLmNyZWF0ZS5jYWxsKHRoaXMsZSx0KTtyZXR1cm4gbi5ydWxlVmFsdWU9ZSxuLnNldERhdGFzZXQobmV3IHIoe3J1bGVWYWx1ZTplfSkpLG59fSxlKSl9ZnVuY3Rpb24gVShlLHQpe2lmKCFlLmxlbmd0aClyZXR1cm4gMDt2YXIgbj10LnZhbHVlLHI9dC5vYmplY3QuYmFzaXNPYmplY3RJZCxpLHMsbyx1LGE9MCxmPWUubGVuZ3RoLTE7ZG97bz1hK2Y+PjEsdT1lW29dLGk9dS52YWx1ZTtpZihuPGkpZj1vLTE7ZWxzZSBpZihuPmkpYT1vKzE7ZWxzZXtzPXUub2JqZWN0LmJhc2lzT2JqZWN0SWQ7aWYocjxzKWY9by0xO2Vsc2V7aWYoIShyPnMpKXJldHVybiBvO2E9bysxfX19d2hpbGUoYTw9Zik7cmV0dXJuIG8rKGk9PW4/czxyOmk8bil9ZnVuY3Rpb24gVyhlLHQpe3JldHVybisoZS52YWx1ZT50LnZhbHVlKXx8LShlLnZhbHVlPHQudmFsdWUpfHxlLm9iamVjdC5iYXNpc09iamVjdElkLXQub2JqZWN0LmJhc2lzT2JqZWN0SWR9ZnVuY3Rpb24gWihlLHQsbil7dmFyIHI9ZS5zb3VyY2VNYXBfW3QuYmFzaXNPYmplY3RJZF07aWYociYmci52aXNpdGVkIT09bil7Zm9yKHZhciBpPXI7aT1pLnJlZjspaWYoaS5vYmplY3Q9PT1lLnNvdXJjZSlyZXR1cm4hMDtyLnZpc2l0ZWQ9bjtmb3IodmFyIGk9cjtpPWkucmVmOylpZihaKGUsaS5vYmplY3Qsbnx8e30pKXJldHVybiEwfX1mdW5jdGlvbiBldChlLHQsbil7dmFyIHI9ZS5zb3VyY2VNYXBfLGk9ZS5tZW1iZXJzXyxzPXkodCksbz1bXTtmb3IodmFyIHU9MDt1PHMubGVuZ3RoO3UrKyl7dmFyIGE9c1t1XSxmPWEuYmFzaXNPYmplY3RJZDtmfHwobj1hLnJlZixhPWEub2JqZWN0LGY9YS5iYXNpc09iamVjdElkKTt2YXIgbD1yW2ZdO2lmKGwpbC5yZWY9e29iamVjdDpuLHJlZjpsLnJlZn07ZWxzZXtsPXJbZl09e3NvdXJjZTphLHJlZjp7b2JqZWN0Om4scmVmOm51bGx9LHZpc2l0ZWQ6bnVsbCx2YWx1ZTpudWxsfTtpZihhIGluc3RhbmNlb2YgRSl7dmFyIGM9ZS5ydWxlKGEpfHxudWxsO2lmKGMgaW5zdGFuY2VvZiBFfHxjIGluc3RhbmNlb2YgeClsLnZhbHVlPWMscy5wdXNoKHtvYmplY3Q6YyxyZWY6YX0pO2lbZl09bCxvLnB1c2goYSksZS5ydWxlRXZlbnRzJiZhLmFkZEhhbmRsZXIoZS5ydWxlRXZlbnRzLGUpfWVsc2V7YS5hZGRIYW5kbGVyKFksZSk7Zm9yKHZhciBoPTAscD1hLmdldEl0ZW1zKCk7aDxwLmxlbmd0aDtoKyspcy5wdXNoKHtvYmplY3Q6cFtoXSxyZWY6YX0pfX19cmV0dXJuIG99ZnVuY3Rpb24gdHQoZSx0LG4pe3ZhciByPWUuc291cmNlTWFwXyxpPWUubWVtYmVyc18scz15KHQpLG89W107Zm9yKHZhciB1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBhPXNbdV0sZj1hLmJhc2lzT2JqZWN0SWQ7Znx8KG49YS5yZWYsYT1hLm9iamVjdCxmPWEuYmFzaXNPYmplY3RJZCk7dmFyIGw9cltmXSxjPWwudmFsdWU7Zm9yKHZhciBoPWwscD1sO2g9aC5yZWY7KXtpZihoLm9iamVjdD09PW4pe3AucmVmPWgucmVmO2JyZWFrfXA9aH1pZighbC5yZWYpe2lmKGEgaW5zdGFuY2VvZiBFKWRlbGV0ZSBpW2ZdLG8ucHVzaChhKSxlLnJ1bGVFdmVudHMmJmEucmVtb3ZlSGFuZGxlcihlLnJ1bGVFdmVudHMsZSksYyYmcy5wdXNoKHtvYmplY3Q6YyxyZWY6YX0pO2Vsc2V7YS5yZW1vdmVIYW5kbGVyKFksZSk7Zm9yKHZhciBkPTAsdj1hLmdldEl0ZW1zKCk7ZDx2Lmxlbmd0aDtkKyspcy5wdXNoKHtvYmplY3Q6dltkXSxyZWY6YX0pfWRlbGV0ZSByW2ZdfWVsc2UgYyYmIVooZSxhKSYmKGwudmFsdWU9bnVsbCxzLnB1c2goe29iamVjdDpjLHJlZjphfSkpfXJldHVybiBvfW4ucmVxdWlyZSgiLi8zLmpzIiksbi5yZXF1aXJlKCIuLzQuanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLkNsYXNzLGw9Zi5vbmVGdW5jdGlvblByb3BlcnR5LGM9bi5vYmplY3QuZXh0ZW5kLGg9bi5vYmplY3QudmFsdWVzLHA9bi5nZXR0ZXIsZD1uLmZuLiRzZWxmLHY9bi5mbi4kdHJ1ZSxtPW4uZm4uJGZhbHNlLGc9bi5mbi4kdW5kZWYseT1uLmFycmF5LmZyb20sYj1uLmV2ZW50LmNyZWF0ZSx3PW4uZGF0YS5TVUJTQ1JJUFRJT04sRT1uLmRhdGEuT2JqZWN0LFM9bi5kYXRhLktleU9iamVjdE1hcCx4PW4uZGF0YS5SZWFkT25seURhdGFzZXQsVD1uLmRhdGEuRGF0YXNldCxOPW4uZGF0YS5EYXRhc2V0V3JhcHBlcixDPVQuc2V0QWNjdW11bGF0ZVN0YXRlO3cuYWRkKCJTT1VSQ0UiLHtzb3VyY2VDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dCYmdy51bmxpbmsoInNvdXJjZSIsZSx0KSxlLnNvdXJjZSYmdy5saW5rKCJzb3VyY2UiLGUsZS5zb3VyY2UpfSxzb3VyY2VzQ2hhbmdlZDpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKG49dC5pbnNlcnRlZClmb3IodmFyIHI9MCxpO2k9bltyXTtyKyspdy5saW5rKCJzb3VyY2UiLGUsbltyXSk7aWYobj10LmRlbGV0ZWQpZm9yKHZhciByPTAsaTtpPW5bcl07cisrKXcudW5saW5rKCJzb3VyY2UiLGUsbltyXSl9fSxmdW5jdGlvbihlLHQpe3ZhciBuPXQuc291cmNlc3x8KHQuc291cmNlP1t0LnNvdXJjZV06W10pO2Zvcih2YXIgcj0wLGk7aT1uW3IrK107KWUoInNvdXJjZSIsdCxpKX0pLHcuYWRkUHJvcGVydHkoIm1pbnVlbmQiKSx3LmFkZFByb3BlcnR5KCJzdWJ0cmFoZW5kIik7dmFyIE89e2l0ZW1zQ2hhbmdlZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubWVtYmVyc18scj17fSxpLHM7aWYodC5pbnNlcnRlZClmb3IodmFyIG89MDtpPXQuaW5zZXJ0ZWRbb107bysrKXM9aS5iYXNpc09iamVjdElkLG5bc10/bltzXS5jb3VudCsrOm5bc109e2NvdW50OjEsb2JqZWN0Oml9LHJbc109bltzXTtpZih0LmRlbGV0ZWQpZm9yKHZhciBvPTA7aT10LmRlbGV0ZWRbb107bysrKXM9aS5iYXNpc09iamVjdElkLHJbc109bltzXSxuW3NdLmNvdW50LS07dGhpcy5hcHBseVJ1bGUocil9fSxNPWYoeCx7Y2xhc3NOYW1lOmErIi5NZXJnZSIsc3Vic2NyaWJlVG86dy5TT1VSQ0UsZW1pdF9zb3VyY2VzQ2hhbmdlZDpiKCJzb3VyY2VzQ2hhbmdlZCIsImRlbHRhIiksc291cmNlczpudWxsLHNvdXJjZVZhbHVlc186bnVsbCxzb3VyY2VzTWFwXzpudWxsLHNvdXJjZURlbHRhXzpudWxsLHJ1bGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4wfSxlbWl0X3J1bGVDaGFuZ2VkOmIoInJ1bGVDaGFuZ2VkIiwib2xkUnVsZSIpLGxpc3Rlbjp7c291cmNlOk8sc291cmNlVmFsdWU6e2Rlc3Ryb3k6ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVTb3VyY2UoZSl9fX0saW5pdDpmdW5jdGlvbigpe3gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLnNvdXJjZXM7dGhpcy5zb3VyY2VzPVtdLHRoaXMuc291cmNlc01hcF89e30sdGhpcy5zb3VyY2VWYWx1ZXNfPVtdLGUmJnRoaXMuc2V0U291cmNlcyhlKX0sc2V0UnVsZTpmdW5jdGlvbihlKXtlPXAoZXx8TS5VTklPTik7aWYodGhpcy5ydWxlIT09ZSl7dmFyIHQ9dGhpcy5ydWxlO3JldHVybiB0aGlzLnJ1bGU9ZSx0aGlzLmVtaXRfcnVsZUNoYW5nZWQodCksdGhpcy5hcHBseVJ1bGUoKX19LGFwcGx5UnVsZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1lbWJlcnNfLG49dGhpcy5ydWxlLHI9dGhpcy5zb3VyY2VzLmxlbmd0aCxpPVtdLHM9W10sbyx1LGE7ZXx8KGU9dCk7Zm9yKHZhciBmIGluIGUpbz10W2ZdLHU9ciYmby5jb3VudCYmbihvLmNvdW50LHIpLHUhPWYgaW4gdGhpcy5pdGVtc18mJih1P2kucHVzaChvLm9iamVjdCk6cy5wdXNoKG8ub2JqZWN0KSksby5jb3VudD09MCYmZGVsZXRlIHRbZl07cmV0dXJuKGE9ayhpLHMpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChhKSxhfSxhZGREYXRhc2V0XzpmdW5jdGlvbihlKXt0aGlzLnNvdXJjZXMucHVzaChlKSx0aGlzLmxpc3Rlbi5zb3VyY2UmJmUuYWRkSGFuZGxlcih0aGlzLmxpc3Rlbi5zb3VyY2UsdGhpcyk7dmFyIHQ9dGhpcy5tZW1iZXJzXztmb3IodmFyIG4gaW4gZS5pdGVtc18pdFtuXT90W25dLmNvdW50Kys6dFtuXT17Y291bnQ6MSxvYmplY3Q6ZS5pdGVtc19bbl19O3JldHVybiEwfSxyZW1vdmVEYXRhc2V0XzpmdW5jdGlvbihlKXtuLmFycmF5LnJlbW92ZSh0aGlzLnNvdXJjZXMsZSksdGhpcy5saXN0ZW4uc291cmNlJiZlLnJlbW92ZUhhbmRsZXIodGhpcy5saXN0ZW4uc291cmNlLHRoaXMpO3ZhciB0PXRoaXMubWVtYmVyc187Zm9yKHZhciByIGluIGUuaXRlbXNfKXRbcl0uY291bnQtLX0sdXBkYXRlRGF0YXNldF86ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vd25lcixyPXQuc291cmNlc01hcF8saT1uLmRhdGEucmVzb2x2ZURhdGFzZXQodGhpcyx0LnVwZGF0ZURhdGFzZXRfLGUsImFkYXB0ZXIiKSxzLG8sdTtpZih0aGlzLmRhdGFzZXQ9PT1pKXJldHVybjtpZihpKXt2YXIgYT0ocltpLmJhc2lzT2JqZWN0SWRdfHwwKSsxO3JbaS5iYXNpc09iamVjdElkXT1hLGE9PTEmJih0LmFkZERhdGFzZXRfKGkpLHM9W2ldKX1pZih0aGlzLmRhdGFzZXQpe3ZhciBhPShyW3RoaXMuZGF0YXNldC5iYXNpc09iamVjdElkXXx8MCktMTtyW3RoaXMuZGF0YXNldC5iYXNpc09iamVjdElkXT1hLGE9PTAmJih0LnJlbW92ZURhdGFzZXRfKHRoaXMuZGF0YXNldCksbz1bdGhpcy5kYXRhc2V0XSl9dGhpcy5kYXRhc2V0PWksdC5hcHBseVJ1bGUoKTtpZih1PWsocyxvKSl7dmFyIGY9dC5zb3VyY2VEZWx0YV87Zj8odS5pbnNlcnRlZCYmdS5pbnNlcnRlZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uYXJyYXkucmVtb3ZlKHRoaXMuZGVsZXRlZCxlKXx8bi5hcnJheS5hZGQodGhpcy5pbnNlcnRlZCxlKX0sZiksdS5kZWxldGVkJiZ1LmRlbGV0ZWQuZm9yRWFjaChmdW5jdGlvbihlKXtuLmFycmF5LnJlbW92ZSh0aGlzLmluc2VydGVkLGUpfHxuLmFycmF5LmFkZCh0aGlzLmRlbGV0ZWQsZSl9LGYpKTp0LmVtaXRfc291cmNlc0NoYW5nZWQodSl9cmV0dXJuIHV9LGdldFNvdXJjZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZVZhbHVlc18ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNvdXJjZX0pfSxhZGRTb3VyY2U6ZnVuY3Rpb24oZSl7aWYoIWV8fHR5cGVvZiBlIT0ib2JqZWN0IiYmdHlwZW9mIGUhPSJmdW5jdGlvbiIpcmV0dXJuO2lmKHRoaXMuaGFzU291cmNlKGUpKXJldHVybjt2YXIgdD17b3duZXI6dGhpcyxzb3VyY2U6ZSxhZGFwdGVyOm51bGwsZGF0YXNldDpudWxsfTt0aGlzLnNvdXJjZVZhbHVlc18ucHVzaCh0KSx0aGlzLnVwZGF0ZURhdGFzZXRfLmNhbGwodCxlKSx0aGlzLmxpc3Rlbi5zb3VyY2VWYWx1ZSYmZSBpbnN0YW5jZW9mIG4uZXZlbnQuRW1pdHRlciYmZS5hZGRIYW5kbGVyKHRoaXMubGlzdGVuLnNvdXJjZVZhbHVlLHRoaXMpfSxyZW1vdmVTb3VyY2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscjtyPXRoaXMuc291cmNlVmFsdWVzX1t0XTt0KyspaWYoci5zb3VyY2U9PT1lKXt0aGlzLmxpc3Rlbi5zb3VyY2VWYWx1ZSYmZSBpbnN0YW5jZW9mIG4uZXZlbnQuRW1pdHRlciYmZS5yZW1vdmVIYW5kbGVyKHRoaXMubGlzdGVuLnNvdXJjZVZhbHVlLHRoaXMpLHRoaXMudXBkYXRlRGF0YXNldF8uY2FsbChyLG51bGwpLHRoaXMuc291cmNlVmFsdWVzXy5zcGxpY2UodCwxKTtyZXR1cm59fSxoYXNTb3VyY2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbjtuPXRoaXMuc291cmNlVmFsdWVzX1t0XTt0KyspaWYobi5zb3VyY2U9PT1lKXJldHVybiEwO3JldHVybiExfSxzZXRTb3VyY2VzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlVmFsdWVzXy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc291cmNlfSkscj1bXSxpPVtdLHM7ZXx8KGU9W10pLHRoaXMuc291cmNlRGVsdGFfPXtpbnNlcnRlZDpyLGRlbGV0ZWQ6aX07Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciB1PWVbb107bi5hcnJheS5yZW1vdmUodCx1KXx8dGhpcy5hZGRTb3VyY2UodSl9cmV0dXJuIHQuZm9yRWFjaCh0aGlzLnJlbW92ZVNvdXJjZSx0aGlzKSx0aGlzLnNvdXJjZURlbHRhXz1udWxsLChzPWsocixpKSkmJnRoaXMuZW1pdF9zb3VyY2VzQ2hhbmdlZChzKSxzfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZXRTb3VyY2VzKCkseC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMuc291cmNlVmFsdWVzXz1udWxsLHRoaXMuc291cmNlc01hcF89bnVsbCx0aGlzLnNvdXJjZURlbHRhXz1udWxsLHRoaXMuc291cmNlcz1udWxsfX0pO00uVU5JT049TS5wcm90b3R5cGUucnVsZSxNLklOVEVSU0VDVElPTj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT10fSxNLkRJRkZFUkVOQ0U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09MX0sTS5NT1JFX1RIQU5fT05FX0lOQ0xVREU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09MXx8ZT4xfSxNLkFUX0xFQVNUX09ORV9FWENMVURFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PTF8fGU8dH07dmFyIF89ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaGFzKGUpfSxEPXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5zdWJ0cmFoZW5kKXJldHVybjt2YXIgbj1rKHQuaW5zZXJ0ZWQmJnQuaW5zZXJ0ZWQuZmlsdGVyKF8sdGhpcy5zdWJ0cmFoZW5kKSx0LmRlbGV0ZWQmJnQuZGVsZXRlZC5maWx0ZXIodGhpcy5oYXMsdGhpcykpO24mJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQobil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1pbnVlbmRBZGFwdGVyX3x8dGhpcy5zZXRNaW51ZW5kKG51bGwpfX0sUD17aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMubWludWVuZClyZXR1cm47dmFyIG49ayh0LmRlbGV0ZWQmJnQuZGVsZXRlZC5maWx0ZXIodGhpcy5taW51ZW5kLmhhcyx0aGlzLm1pbnVlbmQpLHQuaW5zZXJ0ZWQmJnQuaW5zZXJ0ZWQuZmlsdGVyKHRoaXMuaGFzLHRoaXMpKTtuJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKG4pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zdWJ0cmFoZW5kQWRhcHRlcl98fHRoaXMuc2V0U3VidHJhaGVuZChudWxsKX19LEg9Zih4LHtjbGFzc05hbWU6YSsiLlN1YnRyYWN0IixzdWJzY3JpYmVUbzp3Lk1JTlVFTkQrdy5TVUJUUkFIRU5ELG1pbnVlbmQ6bnVsbCxtaW51ZW5kQWRhcHRlcl86bnVsbCxlbWl0X21pbnVlbmRDaGFuZ2VkOmIoIm1pbnVlbmRDaGFuZ2VkIiwib2xkTWludWVuZCIpLHN1YnRyYWhlbmQ6bnVsbCxzdWJ0cmFoZW5kQWRhcHRlcl86bnVsbCxlbWl0X3N1YnRyYWhlbmRDaGFuZ2VkOmIoInN1YnRyYWhlbmRDaGFuZ2VkIiwib2xkU3VidHJhaGVuZCIpLGxpc3Rlbjp7bWludWVuZDpELHN1YnRyYWhlbmQ6UH0saW5pdDpmdW5jdGlvbigpe3gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLm1pbnVlbmQsdD10aGlzLnN1YnRyYWhlbmQ7dGhpcy5taW51ZW5kPW51bGwsdGhpcy5zdWJ0cmFoZW5kPW51bGwsKGV8fHQpJiZ0aGlzLnNldE9wZXJhbmRzKGUsdCl9LHNldE9wZXJhbmRzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaT0hMTtlPW4uZGF0YS5yZXNvbHZlRGF0YXNldCh0aGlzLHRoaXMuc2V0TWludWVuZCxlLCJtaW51ZW5kQWRhcHRlcl8iKSx0PW4uZGF0YS5yZXNvbHZlRGF0YXNldCh0aGlzLHRoaXMuc2V0U3VidHJhaGVuZCx0LCJzdWJ0cmFoZW5kQWRhcHRlcl8iKTt2YXIgcz10aGlzLm1pbnVlbmQsbz10aGlzLnN1YnRyYWhlbmQ7aWYocyE9PWUpe2k9ITAsdGhpcy5taW51ZW5kPWU7dmFyIHU9dGhpcy5saXN0ZW4ubWludWVuZDt1JiYocyYmcy5yZW1vdmVIYW5kbGVyKHUsdGhpcyksZSYmZS5hZGRIYW5kbGVyKHUsdGhpcykpLHRoaXMuZW1pdF9taW51ZW5kQ2hhbmdlZChzKX1pZihvIT09dCl7aT0hMCx0aGlzLnN1YnRyYWhlbmQ9dDt2YXIgdT10aGlzLmxpc3Rlbi5zdWJ0cmFoZW5kO3UmJihvJiZvLnJlbW92ZUhhbmRsZXIodSx0aGlzKSx0JiZ0LmFkZEhhbmRsZXIodSx0aGlzKSksdGhpcy5lbWl0X3N1YnRyYWhlbmRDaGFuZ2VkKG8pfWlmKCFpKXJldHVybiExO2lmKCFlfHwhdCl0aGlzLml0ZW1Db3VudCYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChyPXtkZWxldGVkOnRoaXMuZ2V0SXRlbXMoKX0pO2Vsc2V7dmFyIGE9W10sZj1bXTtmb3IodmFyIGwgaW4gdGhpcy5pdGVtc18pKCFlLml0ZW1zX1tsXXx8dC5pdGVtc19bbF0pJiZhLnB1c2godGhpcy5pdGVtc19bbF0pO2Zvcih2YXIgbCBpbiBlLml0ZW1zXykhdGhpcy5pdGVtc19bbF0mJiF0Lml0ZW1zX1tsXSYmZi5wdXNoKGUuaXRlbXNfW2xdKTsocj1rKGYsYSkpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHIpfXJldHVybiByfSxzZXRNaW51ZW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldE9wZXJhbmRzKGUsdGhpcy5zdWJ0cmFoZW5kQWRhcHRlcl8/dGhpcy5zdWJ0cmFoZW5kQWRhcHRlcl8uc291cmNlOnRoaXMuc3VidHJhaGVuZCl9LHNldFN1YnRyYWhlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0T3BlcmFuZHModGhpcy5taW51ZW5kQWRhcHRlcl8/dGhpcy5taW51ZW5kQWRhcHRlcl8uc291cmNlOnRoaXMubWludWVuZCxlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0T3BlcmFuZHMoKSx4LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSksQj1mKHgse2NsYXNzTmFtZTphKyIuU291cmNlRGF0YXNldCIsc3Vic2NyaWJlVG86dy5TT1VSQ0Usc291cmNlOm51bGwsZW1pdF9zb3VyY2VDaGFuZ2VkOmIoInNvdXJjZUNoYW5nZWQiLCJvbGRTb3VyY2UiKSxzb3VyY2VBZGFwdGVyXzpudWxsLHNvdXJjZU1hcF86bnVsbCxsaXN0ZW46e3NvdXJjZTp7ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc291cmNlQWRhcHRlcl98fHRoaXMuc2V0U291cmNlKCl9fX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc291cmNlTWFwXz17fSx4LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5zb3VyY2U7ZSYmKHRoaXMuc291cmNlPW51bGwsdGhpcy5zZXRTb3VyY2UoZSkpfSxzZXRTb3VyY2U6ZnVuY3Rpb24oZSl7ZT1uLmRhdGEucmVzb2x2ZURhdGFzZXQodGhpcyx0aGlzLnNldFNvdXJjZSxlLCJzb3VyY2VBZGFwdGVyXyIpO2lmKHRoaXMuc291cmNlIT09ZSl7dmFyIHQ9dGhpcy5zb3VyY2Uscj10aGlzLmxpc3Rlbi5zb3VyY2U7dGhpcy5zb3VyY2U9ZTtpZihyKXt2YXIgaT1yLml0ZW1zQ2hhbmdlZDtDKCEwKSx0JiYodC5yZW1vdmVIYW5kbGVyKHIsdGhpcyksaSYmaS5jYWxsKHRoaXMsdCx7ZGVsZXRlZDp0LmdldEl0ZW1zKCl9KSksZSYmKGUuYWRkSGFuZGxlcihyLHRoaXMpLGkmJmkuY2FsbCh0aGlzLGUse2luc2VydGVkOmUuZ2V0SXRlbXMoKX0pKSxDKCExKX10aGlzLmVtaXRfc291cmNlQ2hhbmdlZCh0KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNldFNvdXJjZSgpLHgucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLnNvdXJjZU1hcF89bnVsbH19KSxqPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFwP3RoaXMubWFwKGUpOm9iamVjdDtpZih0IGluc3RhbmNlb2YgRT09MHx8dGhpcy5maWx0ZXIodCkpdD1udWxsO3ZhciBuPXRoaXMuc291cmNlTWFwX1tlLmJhc2lzT2JqZWN0SWRdLHI9bi5tZW1iZXI7aWYociE9PXQpe3ZhciBpPXRoaXMubWVtYmVyc18scyxvLHU7bi5tZW1iZXI9dDtpZihyKXt2YXIgYT1yLmJhc2lzT2JqZWN0SWQ7dGhpcy5yZW1vdmVNZW1iZXJSZWYmJnRoaXMucmVtb3ZlTWVtYmVyUmVmKHIsZSksLS1pW2FdPT0wJiYoZGVsZXRlIGlbYV0sdT1bcl0pfWlmKHQpe3ZhciBmPXQuYmFzaXNPYmplY3RJZDt0aGlzLmFkZE1lbWJlclJlZiYmdGhpcy5hZGRNZW1iZXJSZWYodCxlKSxpW2ZdP2lbZl0rKzooaVtmXT0xLG89W3RdKX0ocz1rKG8sdSkpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHMpfX0sRj17aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zb3VyY2VNYXBfLHI9dGhpcy5tZW1iZXJzXyxpPVtdLHM9W10sbyx1LGEsZj10aGlzLnJ1bGVFdmVudHM7QyghMCk7aWYodC5pbnNlcnRlZClmb3IodmFyIGw9MDtvPXQuaW5zZXJ0ZWRbbF07bCsrKXthPXRoaXMubWFwP3RoaXMubWFwKG8pOm87aWYoYSBpbnN0YW5jZW9mIEU9PTB8fHRoaXMuZmlsdGVyKGEpKWE9bnVsbDtmJiZvLmFkZEhhbmRsZXIoZix0aGlzKSxuW28uYmFzaXNPYmplY3RJZF09e3NvdXJjZU9iamVjdDpvLG1lbWJlcjphfTtpZihhKXt2YXIgYz1hLmJhc2lzT2JqZWN0SWQ7cltjXT9yW2NdKys6KHJbY109MSxpLnB1c2goYSkpLHRoaXMuYWRkTWVtYmVyUmVmJiZ0aGlzLmFkZE1lbWJlclJlZihhLG8pfX1pZih0LmRlbGV0ZWQpZm9yKHZhciBsPTA7bz10LmRlbGV0ZWRbbF07bCsrKXt1PW8uYmFzaXNPYmplY3RJZCxhPW5bdV0ubWVtYmVyLGYmJm8ucmVtb3ZlSGFuZGxlcihmLHRoaXMpLGRlbGV0ZSBuW3VdO2lmKGEpe3ZhciBjPWEuYmFzaXNPYmplY3RJZDstLXJbY109PTAmJihkZWxldGUgcltjXSxzLnB1c2goYSkpLHRoaXMucmVtb3ZlTWVtYmVyUmVmJiZ0aGlzLnJlbW92ZU1lbWJlclJlZihhLG8pfX1DKCExKSwodD1rKGkscykpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHQpfX0sST1mKEIse2NsYXNzTmFtZTphKyIuTWFwRmlsdGVyIixtYXA6ZCxmaWx0ZXI6bSxydWxlOnAodiksZW1pdF9ydWxlQ2hhbmdlZDpiKCJydWxlQ2hhbmdlZCIsIm9sZFJ1bGUiKSxydWxlRXZlbnRzOkwoaiwidXBkYXRlIiksYWRkTWVtYmVyUmVmOm51bGwscmVtb3ZlTWVtYmVyUmVmOm51bGwsbGlzdGVuOntzb3VyY2U6Rn0sc2V0TWFwOmZ1bmN0aW9uKGUpe3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1kKTtpZih0aGlzLm1hcCE9PWUpcmV0dXJuIHRoaXMubWFwPWUsdGhpcy5hcHBseVJ1bGUoKX0sc2V0RmlsdGVyOmZ1bmN0aW9uKGUpe3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1tKTtpZih0aGlzLmZpbHRlciE9PWUpcmV0dXJuIHRoaXMuZmlsdGVyPWUsdGhpcy5hcHBseVJ1bGUoKX0sc2V0UnVsZTpmdW5jdGlvbihlKXtlPXAoZXx8dik7aWYodGhpcy5ydWxlIT09ZSl7dmFyIHQ9dGhpcy5ydWxlO3JldHVybiB0aGlzLnJ1bGU9ZSx0aGlzLmVtaXRfcnVsZUNoYW5nZWQodCksdGhpcy5hcHBseVJ1bGUoKX19LGFwcGx5UnVsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc291cmNlTWFwXyx0PXRoaXMubWVtYmVyc18sbixyLGkscyxvLHUsYT1bXSxmPVtdLGw7Zm9yKHZhciBjIGluIGUpe3U9ZVtjXSxvPXUuc291cmNlT2JqZWN0LG49dS5tZW1iZXIscj10aGlzLm1hcD90aGlzLm1hcChvKTpvO2lmKHIgaW5zdGFuY2VvZiBFPT0wfHx0aGlzLmZpbHRlcihyKSlyPW51bGw7biE9ciYmKHUubWVtYmVyPXIsbiYmKGk9bi5iYXNpc09iamVjdElkLHRoaXMucmVtb3ZlTWVtYmVyUmVmJiZ0aGlzLnJlbW92ZU1lbWJlclJlZihuLG8pLHRbaV0tLSksciYmKHM9ci5iYXNpc09iamVjdElkLHRoaXMuYWRkTWVtYmVyUmVmJiZ0aGlzLmFkZE1lbWJlclJlZihyLG8pLHMgaW4gdD90W3NdKys6KHRbc109MSxhLnB1c2gocikpKSl9Zm9yKGkgaW4gdGhpcy5pdGVtc18pdFtpXT09MCYmKGRlbGV0ZSB0W2ldLGYucHVzaCh0aGlzLml0ZW1zX1tpXSkpO3JldHVybihsPWsoYSxmKSkmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQobCksbH19KSxxPWYoSSx7Y2xhc3NOYW1lOmErIi5GaWx0ZXIiLGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5ydWxlKGUpfX0pLFI9ZihJLHtjbGFzc05hbWU6YSsiLlNwbGl0IixzdWJzZXRDbGFzczp4LHN1YnNldFdyYXBwZXJDbGFzczpOLGtleU1hcDpudWxsLG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5rZXlNYXAucmVzb2x2ZShlKX0scnVsZTpwKGcpLHNldFJ1bGU6ZnVuY3Rpb24oZSl7ZT1wKGV8fGcpO2lmKHRoaXMucnVsZSE9PWUpe3ZhciB0PXRoaXMucnVsZTtyZXR1cm4gdGhpcy5ydWxlPWUsdGhpcy5rZXlNYXAua2V5R2V0dGVyPWUsdGhpcy5lbWl0X3J1bGVDaGFuZ2VkKHQpLHRoaXMuYXBwbHlSdWxlKCl9fSxhZGRNZW1iZXJSZWY6ZnVuY3Rpb24oZSx0KXtlLmRhdGFzZXQuZW1pdF9pdGVtc0NoYW5nZWQoe2luc2VydGVkOlt0XX0pfSxyZW1vdmVNZW1iZXJSZWY6ZnVuY3Rpb24oZSx0KXtlLmRhdGFzZXQuZW1pdF9pdGVtc0NoYW5nZWQoe2RlbGV0ZWQ6W3RdfSl9LGluaXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5rZXlNYXB8fHRoaXMua2V5TWFwIGluc3RhbmNlb2YgUz09MCl0aGlzLmtleU1hcD1BKHRoaXMua2V5TWFwLHRoaXMucnVsZSx0aGlzLnN1YnNldFdyYXBwZXJDbGFzcyx0aGlzLnN1YnNldENsYXNzKTtJLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGdldFN1YnNldDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmtleU1hcC5nZXQoZSx0KX0sZGVzdHJveTpmdW5jdGlvbigpe0kucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLmtleU1hcC5kZXN0cm95KCksdGhpcy5rZXlNYXA9bnVsbH19KSx6PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlTWFwX1tlLmJhc2lzT2JqZWN0SWRdLG49dGhpcy5ydWxlKGUpLHI9dGhpcy5pbmRleF87aWYobiE9PXQudmFsdWUpe3ZhciBpPVUocix0KSxzPXJbaS0xXSxvPXJbaSsxXTt0LnZhbHVlPW47aWYocyYmKHMudmFsdWU+bnx8cy52YWx1ZT09biYmcy5vYmplY3QuYmFzaXNPYmplY3RJZD50Lm9iamVjdC5iYXNpc09iamVjdElkKXx8byYmKG8udmFsdWU8bnx8by52YWx1ZT09biYmby5vYmplY3QuYmFzaXNPYmplY3RJZDx0Lm9iamVjdC5iYXNpc09iamVjdElkKSlyLnNwbGljZShpLDEpLHIuc3BsaWNlKFUocix0KSwwLHQpLHRoaXMuYXBwbHlSdWxlKCl9fSxYPXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNvdXJjZU1hcF8scj10aGlzLmluZGV4XyxpPXRoaXMucnVsZUV2ZW50cyxzPSExLG89ITEsdSxhPXQuaW5zZXJ0ZWQsZj10LmRlbGV0ZWQ7aWYoZil7Zi5sZW5ndGg+ci5sZW5ndGgtZi5sZW5ndGgmJihzPSEwLG89Zi5sZW5ndGghPXIubGVuZ3RoLHIubGVuZ3RoPTApO2Zvcih2YXIgbD0wLGM7Yz1mW2xdO2wrKylzfHwodT1uW2MuYmFzaXNPYmplY3RJZF0sci5zcGxpY2UoVShyLHUpLDEpKSxkZWxldGUgbltjLmJhc2lzT2JqZWN0SWRdLGkmJmMucmVtb3ZlSGFuZGxlcihpLHRoaXMpO2lmKG8pZm9yKHZhciBoIGluIG4pdT1uW2hdLHIuc3BsaWNlKFUocix1KSwwLHUpfWlmKGEpe289IXIubGVuZ3RoO2Zvcih2YXIgbD0wLGM7Yz1hW2xdO2wrKyl1PXtvYmplY3Q6Yyx2YWx1ZTp0aGlzLnJ1bGUoYyl9LG5bYy5iYXNpc09iamVjdElkXT11LG8/ci5wdXNoKHUpOnIuc3BsaWNlKFUocix1KSwwLHUpLGkmJmMuYWRkSGFuZGxlcihpLHRoaXMpO28mJnIuc29ydChXKX10aGlzLmFwcGx5UnVsZSgpfX0sVj1mKEIse2NsYXNzTmFtZTphKyIuU2xpY2UiLHJ1bGU6cCh2KSxlbWl0X3J1bGVDaGFuZ2VkOmIoInJ1bGVDaGFuZ2VkIiwib2xkUnVsZSIsIm9sZE9yZGVyRGVzYyIpLHJ1bGVFdmVudHM6TCh6LCJ1cGRhdGUiKSxpbmRleF86bnVsbCxvcmRlckRlc2M6ITEsb2Zmc2V0OjAsbGltaXQ6MTAsbGlzdGVuOntzb3VyY2U6WH0sZW1pdF9yYW5nZUNoYW5nZWQ6YigicmFuZ2VDaGFuZ2VkIiwib2xkT2Zmc2V0Iiwib2xkTGltaXQiKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5pbmRleF89W10sQi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfSxzZXRSYW5nZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMub2Zmc2V0LHI9dGhpcy5saW1pdCxpPSExO2lmKG4hPWV8fHIhPXQpdGhpcy5vZmZzZXQ9ZSx0aGlzLmxpbWl0PXQsaT10aGlzLmFwcGx5UnVsZSgpLHRoaXMuZW1pdF9yYW5nZUNoYW5nZWQobixyKTtyZXR1cm4gaX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldFJhbmdlKGUsdGhpcy5saW1pdCl9LHNldExpbWl0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldFJhbmdlKHRoaXMub2Zmc2V0LGUpfSxzZXRSdWxlOmZ1bmN0aW9uKGUsdCl7ZT1wKGV8fHYpLHQ9ISF0O2lmKHRoaXMucnVsZSE9ZXx8dGhpcy5vcmRlckRlc2MhPXQpe3ZhciBuPXRoaXMucnVsZSxyPXRoaXMub3JkZXJEZXNjO2lmKHRoaXMucnVsZSE9ZSl7dmFyIGk9dGhpcy5pbmRleF87Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspaVtzXS52YWx1ZT1lKGlbc10ub2JqZWN0KTtpLnNvcnQoVyksdGhpcy5ydWxlPWV9cmV0dXJuIHRoaXMub3JkZXJEZXNjPXQsdGhpcy5ydWxlPWUsdGhpcy5lbWl0X3J1bGVDaGFuZ2VkKG4sciksdGhpcy5hcHBseVJ1bGUoKX19LGFwcGx5UnVsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0LHQ9ZSt0aGlzLmxpbWl0O3RoaXMub3JkZXJEZXNjJiYoZT10aGlzLmluZGV4Xy5sZW5ndGgtdCx0PWUrdGhpcy5saW1pdCk7dmFyIHI9bi5vYmplY3Quc2xpY2UodGhpcy5tZW1iZXJzXyksaT10aGlzLmluZGV4Xy5zbGljZShNYXRoLm1heCgwLGUpLE1hdGgubWF4KDAsdCkpLHM9W10sbztmb3IodmFyIHU9MCxhO2E9aVt1XTt1Kyspe3ZhciBmPWEub2JqZWN0LmJhc2lzT2JqZWN0SWQ7cltmXT9kZWxldGUgcltmXToocy5wdXNoKGEub2JqZWN0KSx0aGlzLm1lbWJlcnNfW2ZdPWEub2JqZWN0KX1mb3IodmFyIGYgaW4gcilkZWxldGUgdGhpcy5tZW1iZXJzX1tmXTtyZXR1cm4obz1rKHMsaChyKSkpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKG8pLG99LGRlc3Ryb3k6ZnVuY3Rpb24oKXtCLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5pbmRleF89bnVsbH19KSwkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlTWFwXyxuPXRoaXMubWVtYmVyc18scj1lLmJhc2lzT2JqZWN0SWQsaT10W3JdLmxpc3Qscz10W3JdLmxpc3Q9e30sbz10aGlzLnJ1bGUoZSksdSxhPVtdLGY9W10sbDtpZihBcnJheS5pc0FycmF5KG8pKWZvcih2YXIgYz0wO2M8by5sZW5ndGg7YysrKWw9dGhpcy5rZXlNYXAuZ2V0KG9bY10sITApLGwmJiFsLmhhcyhlKSYmKGg9bC5iYXNpc09iamVjdElkLHNbaF09bCxpW2hdfHwobC5kYXRhc2V0LmVtaXRfaXRlbXNDaGFuZ2VkKHtpbnNlcnRlZDpbZV19KSxuW2hdP25baF0rKzooYS5wdXNoKGwpLG5baF09MSkpKTtmb3IodmFyIGggaW4gaSlpZighc1toXSl7dmFyIGw9aVtoXTtsLmRhdGFzZXQuZW1pdF9pdGVtc0NoYW5nZWQoe2RlbGV0ZWQ6W2VdfSksLS1uW2hdfHwoZGVsZXRlIG5baF0sZi5wdXNoKGwpKX0odT1rKGEsZikpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHUpfSxKPXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNvdXJjZU1hcF8scj10aGlzLm1lbWJlcnNfLGk9dGhpcy5ydWxlRXZlbnRzLHMsbyx1LGE9W10sZj1bXTtDKCEwKTtpZihzPXQuaW5zZXJ0ZWQpZm9yKHZhciBsPTAsYztjPXNbbF07bCsrKXt2YXIgaD10aGlzLnJ1bGUoYykscD17b2JqZWN0OmMsbGlzdDp7fX07bltjLmJhc2lzT2JqZWN0SWRdPXA7aWYoQXJyYXkuaXNBcnJheShoKSlmb3IodmFyIGQ9MCx2PXt9O2Q8aC5sZW5ndGg7ZCsrKW89dGhpcy5rZXlNYXAuZ2V0KGhbZF0sITApLG8mJiF2W28uYmFzaXNPYmplY3RJZF0mJih1PW8uYmFzaXNPYmplY3RJZCx2W3VdPSEwLHAubGlzdFt1XT1vLG8uZGF0YXNldC5lbWl0X2l0ZW1zQ2hhbmdlZCh7aW5zZXJ0ZWQ6W2NdfSksclt1XT9yW3VdKys6KGEucHVzaChvKSxyW3VdPTEpKTtpJiZjLmFkZEhhbmRsZXIoaSx0aGlzKX1pZihzPXQuZGVsZXRlZClmb3IodmFyIGw9MCxjO2M9c1tsXTtsKyspe3ZhciBtPWMuYmFzaXNPYmplY3RJZCxoPW5bbV0ubGlzdDtkZWxldGUgblttXTtmb3IodmFyIHUgaW4gaClvPWhbdV0sby5kYXRhc2V0LmVtaXRfaXRlbXNDaGFuZ2VkKHtkZWxldGVkOltjXX0pLC0tclt1XXx8KGRlbGV0ZSByW3VdLGYucHVzaChvKSk7aSYmYy5yZW1vdmVIYW5kbGVyKGksdGhpcyl9QyghMSksKHQ9ayhhLGYpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZCh0KX19LEs9ZihCLHtjbGFzc05hbWU6YSsiLkNsb3VkIixzdWJzZXRDbGFzczp4LHN1YnNldFdyYXBwZXJDbGFzczpOLHJ1bGU6cChnKSxydWxlRXZlbnRzOkwoJCwidXBkYXRlIiksa2V5TWFwOm51bGwsbWFwOmQsbGlzdGVuOntzb3VyY2U6Sn0saW5pdDpmdW5jdGlvbigpe2lmKCF0aGlzLmtleU1hcHx8dGhpcy5rZXlNYXAgaW5zdGFuY2VvZiBTPT0wKXRoaXMua2V5TWFwPUEodGhpcy5rZXlNYXAsdGhpcy5ydWxlLHRoaXMuc3Vic2V0V3JhcHBlckNsYXNzLHRoaXMuc3Vic2V0Q2xhc3MpO0IucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0sZ2V0U3Vic2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMua2V5TWFwLmdldChlLHQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Qi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMua2V5TWFwLmRlc3Ryb3koKSx0aGlzLmtleU1hcD1udWxsfX0pLFE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zb3VyY2VNYXBfW2UuYmFzaXNPYmplY3RJZF0sbj10aGlzLnJ1bGUoZSl8fG51bGwscj10LnZhbHVlLGkscyxvO2lmKG49PT1yKXJldHVybjtpZihuIGluc3RhbmNlb2YgRXx8biBpbnN0YW5jZW9mIHgpaT1ldCh0aGlzLG4sZSk7ciYmKHM9dHQodGhpcyxyLGUpKSx0LnZhbHVlPW4sKG89ayhpLHMpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChvKX0sRz1mdW5jdGlvbihlLHQpe3ZhciBuPXQuaW5zZXJ0ZWQscj10LmRlbGV0ZWQsdDtuJiYobj1ldCh0aGlzLG4sZSkpLHImJihyPXR0KHRoaXMscixlKSksKHQ9ayhuLHIpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZCh0KX0sWT17aXRlbXNDaGFuZ2VkOkcsZGVzdHJveTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNvdXJjZU1hcF87Zm9yKHZhciBuPXRbZS5iYXNpc09iamVjdElkXTtuPW4ucmVmOyl0W24ub2JqZWN0LmJhc2lzT2JqZWN0SWRdLnZhbHVlPW51bGw7ZGVsZXRlIHRbZS5iYXNpc09iamVjdElkXX19LG50PUIuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuRXh0cmFjdCIscnVsZTpwKGcpLGVtaXRfcnVsZUNoYW5nZWQ6YigicnVsZUNoYW5nZWQiLCJvbGRSdWxlIikscnVsZUV2ZW50czpMKFEsInVwZGF0ZSIpLGxpc3Rlbjp7c291cmNlOntpdGVtc0NoYW5nZWQ6R319LHNldFJ1bGU6ZnVuY3Rpb24oZSl7ZT1wKGV8fGcpO2lmKHRoaXMucnVsZSE9PWUpe3ZhciB0PXRoaXMucnVsZTtyZXR1cm4gdGhpcy5ydWxlPWUsdGhpcy5lbWl0X3J1bGVDaGFuZ2VkKHQpLHRoaXMuYXBwbHlSdWxlKCl9fSxhcHBseVJ1bGU6ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9LG4scjtmb3IodmFyIGkgaW4gdGhpcy5zb3VyY2VNYXBfKXt2YXIgcz10aGlzLnNvdXJjZU1hcF9baV0sbz1zLnNvdXJjZTtpZihvIGluc3RhbmNlb2YgRSl7dmFyIHU9dGhpcy5ydWxlKG8pfHxudWxsLGE9cy52YWx1ZTtpZih1PT09YSljb250aW51ZTtpZih1IGluc3RhbmNlb2YgRXx8dSBpbnN0YW5jZW9mIHgpe3ZhciBmPWV0KHRoaXMsdSxvKTtmb3IodmFyIGw9MDtsPGYubGVuZ3RoO2wrKyl7dmFyIGM9ZltsXSxwPWMuYmFzaXNPYmplY3RJZDt0W3BdP2RlbGV0ZSB0W3BdOmVbcF09Y319aWYoYSl7dmFyIGQ9dHQodGhpcyxhLG8pO2Zvcih2YXIgbD0wO2w8ZC5sZW5ndGg7bCsrKXt2YXIgYz1kW2xdLHA9Yy5iYXNpc09iamVjdElkO2VbcF0/ZGVsZXRlIGVbcF06dFtwXT1jfX1zLnZhbHVlPXV9fXJldHVybihyPWsoaChlKSxoKHQpKSkmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQocikscn19KTt0LmV4cG9ydHM9e2dldERlbHRhOmssY3JlYXRlUnVsZUV2ZW50czpMLE1lcmdlOk0sU3VidHJhY3Q6SCxTb3VyY2VEYXRhc2V0OkIsTWFwRmlsdGVyOkksRmlsdGVyOnEsU3BsaXQ6UixFeHRyYWN0Om50LFNsaWNlOlYsQ2xvdWQ6S319LCIwLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe24ucmVxdWlyZSgiLi8xLmpzIiksbi5yZXF1aXJlKCIuL2EuanMiKSxuLnJlcXVpcmUoIi4vZC5qcyIpLG4ucmVxdWlyZSgiLi9lLmpzIiksbi5yZXF1aXJlKCIuL2YuanMiKSxuLnJlcXVpcmUoIi4vZy5qcyIpLG4ucmVxdWlyZSgiLi9oLmpzIiksbi5yZXF1aXJlKCIuL2kuanMiKSxuLnJlcXVpcmUoIi4vay5qcyIpLG4ucmVxdWlyZSgiLi9uLmpzIiksbi5yZXF1aXJlKCIuL28uanMiKSxuLnJlcXVpcmUoIi4vcC5qcyIpLHIuYmFzaXM9bn0sIjIuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gaChlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSljLmNhbGwoZSxuKSYmdC5wdXNoKG4pO3JldHVybiB0fWZ1bmN0aW9uIGIoZSl7aWYoZS5jaGFyQXQoMCk9PSIjIilyZXR1cm4gcFtwYXJzZUludChlLnN1YnN0cigxKSwzNildO3ZhciB0PWUubWF0Y2goL14oLis/KUAoLispJC8pO2lmKHQpcmV0dXJuIE4obi5wYXRoLnJlc29sdmUodFsyXSkpLnRva2VuKHRbMV0pfWZ1bmN0aW9uIHgoZSx0LG4scil7dmFyIGk9ZS5jdWx0dXJlVmFsdWVzW3RdO3I9cj9yKyIuIjoiIjtmb3IodmFyIHMgaW4gbilpZihjLmNhbGwobixzKSl7dmFyIG89citzLHU9bltzXTtpW29dPXUsdSYmKHR5cGVvZiB1PT0ib2JqZWN0Inx8QXJyYXkuaXNBcnJheSh1KSkmJngoZSx0LHUsbyl9fWZ1bmN0aW9uIE4oZSl7dmFyIHQ7aWYodHlwZW9mIGU9PSJzdHJpbmciKXt2YXIgcj1lLGk9bi5wYXRoLmV4dG5hbWUocik7aSE9Ii5sMTBuIiYmKHI9bi5wYXRoLmRpcm5hbWUocikrIi8iK24ucGF0aC5iYXNlbmFtZShyLGkpKyIubDEwbiIpLGU9bi5yZXNvdXJjZShyKX1yZXR1cm4gbi5yZXNvdXJjZS5pc1Jlc291cmNlKGUpJiYodD1FW2UudXJsXSksdHx8bmV3IFQoZSl9ZnVuY3Rpb24gQygpe3JldHVybiB3LnNsaWNlKDApfWZ1bmN0aW9uIFAoZSx0KXtyZXR1cm4gZSYmIUFbZV0mJihBW2VdPW5ldyBEKGUsdCkpLEFbZXx8TF19ZnVuY3Rpb24gSCgpe3JldHVybiBMfWZ1bmN0aW9uIEIoZSl7aWYoIWUpcmV0dXJuO2lmKEwhPWUpe2lmKGsuaW5kZXhPZihlKT09LTEpcmV0dXJuO0w9ZTtmb3IodmFyIHQ9MCxyO3I9d1t0XTt0Kyspci5zeW5jVmFsdWVzKCk7bi5Ub2tlbi5wcm90b3R5cGUuc2V0LmNhbGwoUCxlKX19ZnVuY3Rpb24gaigpe3JldHVybiBrLnNsaWNlKDApfWZ1bmN0aW9uIEYoZSl7dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1lLnRyaW0oKS5zcGxpdCgiICIpKTtpZighZS5sZW5ndGgpcmV0dXJuO3ZhciB0PXt9LHIsaTtPPXt9O2Zvcih2YXIgcz0wLG8sdTtvPWVbc107cysrKXI9by5zcGxpdCgiLyIpLHIubGVuZ3RoPjImJihyPXIuc2xpY2UoMCwyKSksdT1yWzBdLGl8fChpPXUpLHRbdV09UCh1KSxPW3VdPXI7Zm9yKHZhciB1IGluIE8pT1t1XT1uLmFycmF5LmZsYXR0ZW4oT1t1XS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE9bZV19KSkuY29uY2F0KGkpLmZpbHRlcihmdW5jdGlvbihlLHQsbil7cmV0dXJuIXR8fG4ubGFzdEluZGV4T2YoZSx0LTEpPT0tMX0pO2s9bi5vYmplY3Qua2V5cyh0KSxMIGluIHQ9PTAmJkIoaSl9ZnVuY3Rpb24gSShlLHQsbil7UC5hdHRhY2goZSx0KSxuJiZlLmNhbGwodCxMKX1uLnJlcXVpcmUoIi4vMy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4uQ2xhc3MsbD1uLmV2ZW50LkVtaXR0ZXIsYz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O24ucmVzb3VyY2UuZXh0ZW5zaW9uc1siLmwxMG4iXT1mdW5jdGlvbihlLHQpe3JldHVybiBOKHQpLnVwZGF0ZShuLnJlc291cmNlLmV4dGVuc2lvbnNbIi5qc29uIl0oZSx0KSl9O3ZhciBwPVtdLGQ9e30sdj17fSxtPW4uVG9rZW4ucHJvdG90eXBlLnNldCxnPWYobi5Ub2tlbix7Y2xhc3NOYW1lOmErIi5Db21wdXRlVG9rZW4iLGluaXQ6ZnVuY3Rpb24oZSx0KXt0LmNvbXB1dGVUb2tlbnNbdGhpcy5iYXNpc09iamVjdElkXT10aGlzLHRoaXMudG9rZW49dCxuLlRva2VuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyxlKX0sZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50b2tlbi50eXBlPT0icGx1cmFsIj9BW0xdLnBsdXJhbCh0aGlzLnZhbHVlKTp0aGlzLnZhbHVlO3JldHVybiB0aGlzLnRva2VuLmRpY3Rpb25hcnkuZ2V0VmFsdWUodGhpcy50b2tlbi5uYW1lKyIuIitlKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnRva2VuLmNvbXB1dGVUb2tlbnNbdGhpcy5iYXNpc09iamVjdElkXSx0aGlzLnRva2VuPW51bGwsbi5Ub2tlbi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pLHk9ZihuLlRva2VuLHtjbGFzc05hbWU6YSsiLlRva2VuIixpbmRleDpOYU4sZGljdGlvbmFyeTpudWxsLG5hbWU6IiIsdHlwZToiZGVmYXVsdCIsY29tcHV0ZVRva2VuczpudWxsLGluaXQ6ZnVuY3Rpb24oZSx0LHIsaSl7bi5Ub2tlbi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsaSksdGhpcy5pbmRleD1wLnB1c2godGhpcyktMSx0aGlzLm5hbWU9dCx0aGlzLmRpY3Rpb25hcnk9ZSx0aGlzLmNvbXB1dGVUb2tlbnM9e30scj90aGlzLnNldFR5cGUocik6dGhpcy5hcHBseSgpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgpfSxhcHBseTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmNvbXB1dGVUb2tlbnMpdGhpcy5jb21wdXRlVG9rZW5zW2VdLmFwcGx5KCk7bi5Ub2tlbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0aGlzKX0sc2V0OmZ1bmN0aW9uKCl7fSxzZXRUeXBlOmZ1bmN0aW9uKGUpe2UhPSJwbHVyYWwiJiYoIW4ubDEwbi5lbmFibGVNYXJrdXB8fGUhPSJtYXJrdXAiKSYmKGU9ImRlZmF1bHQiKSx0aGlzLnR5cGUhPWUmJih0aGlzLnR5cGU9ZSx0aGlzLmFwcGx5KCkpfSxjb21wdXRlOmZ1bmN0aW9uKGUsdCl7YXJndW1lbnRzLmxlbmd0aD09MSYmKHQ9ZSxlPSIiKSx0PW4uZ2V0dGVyKHQpLGU9U3RyaW5nKGUpLnRyaW0oKS5zcGxpdCgvXHMrfFxzKixccyovKS5zb3J0KCk7dmFyIHI9dGhpcy5iYXNpc09iamVjdElkLGk9ZS5jb25jYXQocix0W24uZ2V0dGVyLklEXSkuam9pbigiXyIpO2lmKGRbaV0pcmV0dXJuIGRbaV07dmFyIHM9dGhpcyxvPXt9LHU9ZnVuY3Rpb24oZSl7bS5jYWxsKHRoaXMsdChlKSl9LGE9e2Rlc3Ryb3k6ZnVuY3Rpb24oZSl7ZGVsZXRlIG9bZS5iYXNpc09iamVjdElkXSx0aGlzLmRlc3Ryb3koKX19O2Zvcih2YXIgZj0wLGM7Yz1lW2ZdO2YrKyljIT0iZGVzdHJveSImJihhW2NdPXUpO3JldHVybiBkW2ldPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsPT0wKXRocm93IDM7dmFyIG49ZS5iYXNpc09iamVjdElkLHI9b1tuXTtyZXR1cm4gcnx8KHI9b1tuXT1uZXcgZyh0KGUpLHMpLGUuYWRkSGFuZGxlcihhLHIpKSxyfX0sY29tcHV0ZVRva2VuOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZyhlLHRoaXMpfSx0b2tlbjpmdW5jdGlvbihlKXt0aGlzLnR5cGU9PSJwbHVyYWwiJiYoZT1BW0xdLnBsdXJhbChlKSk7aWYodGhpcy5kaWN0aW9uYXJ5KXJldHVybiB0aGlzLmRpY3Rpb25hcnkudG9rZW4odGhpcy5uYW1lKyIuIitlKX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmNvbXB1dGVUb2tlbnMpdGhpcy5jb21wdXRlVG9rZW5zW2VdLmRlc3Ryb3koKTt0aGlzLmNvbXB1dGVUb2tlbnM9bnVsbCx0aGlzLnZhbHVlPW51bGwsbi5Ub2tlbi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pLHc9W10sRT17fSxTPW5ldyBuLlRva2VuLFQ9ZihudWxsLHtjbGFzc05hbWU6YSsiLkRpY3Rpb25hcnkiLHRva2VuczpudWxsLHR5cGVzOm51bGwsY3VsdHVyZVZhbHVlczpudWxsLGluZGV4Ok5hTixyZXNvdXJjZTpudWxsLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy50b2tlbnM9e30sdGhpcy50eXBlcz17fSx0aGlzLmN1bHR1cmVWYWx1ZXM9e30sdGhpcy5pbmRleD13LnB1c2godGhpcyktMTtpZihuLnJlc291cmNlLmlzUmVzb3VyY2UoZSkpe3ZhciB0PWU7dGhpcy5yZXNvdXJjZT10LEVbdC51cmxdfHwoRVt0LnVybF09dGhpcyxTLnNldCh0LnVybCkpLHQuZmV0Y2goKX1lbHNlIHRoaXMudXBkYXRlKGV8fHt9KX0sdXBkYXRlOmZ1bmN0aW9uKGUpe2V8fChlPXt9KSx0aGlzLmN1bHR1cmVWYWx1ZXM9e307Zm9yKHZhciB0IGluIGUpL15ffF8kLy50ZXN0KHQpfHwodGhpcy5jdWx0dXJlVmFsdWVzW3RdPXt9LHgodGhpcyx0LGVbdF0pKTt0aGlzLnR5cGVzPWUuX21ldGEmJmUuX21ldGEudHlwZXx8e307Zm9yKHZhciBuIGluIHRoaXMudG9rZW5zKXRoaXMudG9rZW5zW25dLnNldFR5cGUodGhpcy50eXBlc1tuXSk7cmV0dXJuIHRoaXMuc3luY1ZhbHVlcygpLHRoaXN9LHN5bmNWYWx1ZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy50b2tlbnMpbS5jYWxsKHRoaXMudG9rZW5zW2VdLHRoaXMuZ2V0VmFsdWUoZSkpfSxnZXRWYWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1PW0xdfHxbXTtmb3IodmFyIG49MCxyO3I9dFtuXTtuKyspe3ZhciBpPXRoaXMuY3VsdHVyZVZhbHVlc1tyXTtpZihpJiZlIGluIGkpcmV0dXJuIGlbZV19fSxnZXRDdWx0dXJlVmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jdWx0dXJlVmFsdWVzW2VdJiZ0aGlzLmN1bHR1cmVWYWx1ZXNbZV1bdF19LHRva2VuOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudG9rZW5zW2VdO3JldHVybiB0fHwodD10aGlzLnRva2Vuc1tlXT1uZXcgeSh0aGlzLGUsdGhpcy50eXBlc1tlXSx0aGlzLmdldFZhbHVlKGUpKSksdH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudG9rZW5zPW51bGwsdGhpcy5jdWx0dXJlVmFsdWVzPW51bGwsbi5hcnJheS5yZW1vdmUodyx0aGlzKSx0aGlzLnJlc291cmNlJiYoZGVsZXRlIEVbdGhpcy5yZXNvdXJjZS51cmxdLHRoaXMucmVzb3VyY2U9bnVsbCl9fSksaz1bXSxMPW51bGwsQT17fSxPPXt9LE09e30sXz1bWzEsZnVuY3Rpb24oZSl7cmV0dXJuIDB9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MXx8ZSUxMD09MT8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MD8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MHx8ZT09MT8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZSUxMCE9MXx8ZSUxMDA9PTExPzE6MH1dLFszLGZ1bmN0aW9uKGUpe3JldHVybiBlPT0xPzA6ZSUxMD49MiYmZSUxMDw9NCYmKGUlMTAwPDEwfHxlJTEwMD49MjApPzE6Mn1dLFszLGZ1bmN0aW9uKGUpe3JldHVybiBlJTEwPT0xJiZlJTEwMCE9MTE/MDplIT0wPzE6Mn1dLFszLGZ1bmN0aW9uKGUpe3JldHVybiBlJTEwPT0xJiZlJTEwMCE9MTE/MDplJTEwPj0yJiYoZSUxMDA8MTB8fGUlMTAwPj0yMCk/MToyfV0sWzMsZnVuY3Rpb24oZSl7cmV0dXJuIGUlMTA9PTEmJmUlMTAwIT0xMT8wOmUlMTA+PTImJmUlMTA8PTQmJihlJTEwMDwxMHx8ZSUxMDA+PTIwKT8xOjJ9XSxbMyxmdW5jdGlvbihlKXtyZXR1cm4gZT09MD8wOmU9PTE/MToyfV0sWzMsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTE/MDplPT0wfHxlJTEwMD4wJiZlJTEwMDwyMD8xOjJ9XSxbMyxmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOmUlMTA+PTImJmUlMTA8PTQmJihlJTEwMDwxMHx8ZSUxMDA+PTIwKT8xOjJ9XSxbMyxmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOmU+PTImJmU8PTQ/MToyfV0sWzQsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTE/MDplPT0yPzE6ZSE9OCYmZSE9MTE/MjozfV0sWzQsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTE/MDplPT0yPzE6ZT09Mz8yOjN9XSxbNCxmdW5jdGlvbihlKXtyZXR1cm4gZSUxMDA9PTE/MTplJTEwMD09Mj8yOmUlMTAwPT0zfHxlJTEwMD09ND8zOjB9XSxbNCxmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOmU9PTB8fGUlMTAwPjEmJmUlMTAwPDExPzE6ZSUxMDA+MTAmJmUlMTAwPDIwPzI6M31dLFs0LGZ1bmN0aW9uKGUpe3JldHVybiBlPT0xfHxlPT0xMT8wOmU9PTJ8fGU9PTEyPzE6ZT4yJiZlPDIwPzI6M31dLFs1LGZ1bmN0aW9uKGUpe3JldHVybiBlPT0xPzA6ZT09Mj8xOmU8Nz8yOmU8MTE/Mzo0fV0sWzYsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTA/MDplPT0xPzE6ZT09Mj8yOmUlMTAwPj0zJiZlJTEwMDw9MTA/MzplJTEwMD49MTE/NDo1fV1dO1siYXkgYm8gY2dnIGR6IGZhIGlkIGphIGpibyBrYSBrayBrbSBrbyBreSBsbyBtcyBteSBzYWggc3UgdGggdHQgdWcgdmkgd28gemgiLCJtayIsImp2IiwiYWYgYW4gYXN0IGF6IGJnIGJuIGJyeCBjYSBkYSBkZSBkb2kgZWwgZW4gZW8gZXMgZXMtQVIgZXQgZXUgZmYgZmkgZm8gZnVyIGZ5IGdsIGd1IGhhIGhlIGhpIGhuZSBodSBoeSBpYSBpdCBrbiBrdSBsYiBtYWkgbWwgbW4gbW5pIG1yIG5haCBuYXAgbmIgbmUgbmwgbm4gbm8gbnNvIG9yIHBhIHBhcCBwbXMgcHMgcHQgcm0gcncgc2F0IHNjbyBzZCBzZSBzaSBzbyBzb24gc3Egc3Ygc3cgdGEgdGUgdGsgdXIgeW8iLCJhY2ggYWsgYW0gYXJuIGJyIGZpbCBmciBndW4gbG4gbWZlIG1nIG1pIG9jIHB0LUJSIHRnIHRpIHRyIHV6IHdhIHpoIiwiaXMiLCJjc2IiLCJsdiIsImx0IiwiYmUgYnMgaHIgcnUgc3IgdWsiLCJtbmsiLCJybyIsInBsIiwiY3Mgc2siLCJjeSIsImt3Iiwic2wiLCJtdCIsImdkIiwiZ2EiLCJhciJdLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihlKXtNW2VdPXRoaXN9LF9bdF0pfSk7dmFyIEQ9bi5DbGFzcyhudWxsLHtjbGFzc05hbWU6YSsiLkN1bHR1cmUiLG5hbWU6IiIscGx1cmFsRm9ybTpudWxsLGluaXQ6ZnVuY3Rpb24oZSx0KXt0aGlzLm5hbWU9ZSxBW2VdfHwoQVtlXT10aGlzKSx0aGlzLnBsdXJhbEZvcm09dHx8TVtlXXx8TVtlLnNwbGl0KCItIilbMF1dfHxfWzBdfSxwbHVyYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcih0aGlzLnBsdXJhbEZvcm1bMV0oTWF0aC5hYnMocGFyc2VJbnQoZSwxMCkpKSl9fSk7bi5vYmplY3QuZXh0ZW5kKFAsbmV3IG4uVG9rZW4pLFAuc2V0PUIsRigiZW4tVVMiKSxCKCJlbi1VUyIpLHQuZXhwb3J0cz17Q29tcHV0ZVRva2VuOmcsVG9rZW46eSx0b2tlbjpiLERpY3Rpb25hcnk6VCxkaWN0aW9uYXJ5Ok4sZ2V0RGljdGlvbmFyaWVzOkMsYWRkQ3JlYXRlRGljdGlvbmFyeUhhbmRsZXI6Uy5hdHRhY2guYmluZChTKSxyZW1vdmVDcmVhdGVEaWN0aW9uYXJ5SGFuZGxlcjpTLmRldGFjaC5iaW5kKFMpLEN1bHR1cmU6RCxjdWx0dXJlOlAsZ2V0Q3VsdHVyZTpILHNldEN1bHR1cmU6QixnZXRDdWx0dXJlTGlzdDpqLHNldEN1bHR1cmVMaXN0OkYscGx1cmFsRm9ybXM6XyxvbkN1bHR1cmVDaGFuZ2U6SX19LCIzLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIHYoZSl7dmFyIHQ9cFtlXTtyZXR1cm4gdHx8KHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG4scjt3aGlsZSh0PXQuaGFuZGxlcil7cj10LmNhbGxiYWNrc1tlXTtpZih0eXBlb2Ygcj09ImZ1bmN0aW9uIil7aWYoIW4pe249W3RoaXNdO2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbi5wdXNoKGFyZ3VtZW50c1tpXSl9ci5hcHBseSh0LmNvbnRleHR8fHRoaXMsbil9cj10LmNhbGxiYWNrc1siKiJdO2lmKHR5cGVvZiByPT0iZnVuY3Rpb24iKXtpZighbil7bj1bdGhpc107Zm9yKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluLnB1c2goYXJndW1lbnRzW2ldKX1yLmNhbGwodC5jb250ZXh0fHx0aGlzLHtzZW5kZXI6dGhpcyx0eXBlOmUsYXJnczpufSl9fX0scFtlXT10KSx0fWZ1bmN0aW9uIG0oZSx0KXt2YXIgbj17ZXZlbnRzOltdfTtpZihlKXtlPVN0cmluZyhlKS50cmltKCkuc3BsaXQoL1xzK3xccyosXHMqLykuc29ydCgpLG49e2V2ZW50czplfTtmb3IodmFyIHI9MCxpO2k9ZVtyXTtyKyspaSE9ImRlc3Ryb3kiJiYobltpXT10KX1yZXR1cm4gbn12YXIgYT10aGlzLnBhdGgsZj1uLkNsYXNzLGw9bi5vYmplY3QuZXh0ZW5kLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLGg9e30scD17fSxkPWZ1bmN0aW9uKCl7fSxnPWYobnVsbCx7Y2xhc3NOYW1lOmErIi5FbWl0dGVyIixleHRlbmRDb25zdHJ1Y3Rvcl86ITAsaGFuZGxlcjpudWxsLGVtaXRfZGVzdHJveTp2KCJkZXN0cm95IiksbGlzdGVuOmYubmVzdGVkRXh0ZW5kUHJvcGVydHkoKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyJiYhdGhpcy5oYW5kbGVyLmNhbGxiYWNrcyYmKHRoaXMuaGFuZGxlcj17Y2FsbGJhY2tzOnRoaXMuaGFuZGxlcixjb250ZXh0OnRoaXMsaGFuZGxlcjpudWxsfSl9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXMsdGhpcy5oYW5kbGVyPXtjYWxsYmFja3M6ZSxjb250ZXh0OnQsaGFuZGxlcjp0aGlzLmhhbmRsZXJ9fSxyZW1vdmVIYW5kbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyO3Q9dHx8dGhpczt3aGlsZShyPW4sbj1uLmhhbmRsZXIpaWYobi5jYWxsYmFja3M9PT1lJiZuLmNvbnRleHQ9PT10KXtuLmNhbGxiYWNrcz1oLHIuaGFuZGxlcj1uLmhhbmRsZXI7cmV0dXJufX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVzdHJveT1kLHRoaXMuZW1pdF9kZXN0cm95KCksdGhpcy5oYW5kbGVyPW51bGx9fSk7dC5leHBvcnRzPXtjcmVhdGU6dixjcmVhdGVIYW5kbGVyOm0sZXZlbnRzOnAsRW1pdHRlcjpnfX0sIjQuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gVChlLHQpe3JldHVybiBmdW5jdGlvbigpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PXhbZV07aWYoIXQpe3ZhciBuPVtdLHI9e30saT0xO3Q9eFtlXT17YWN0aW9uczpuLGhhbmRsZXI6cn07d2hpbGUoZSl7aWYoZSYxKXt2YXIgcz13W2ldO24ucHVzaChzLmFjdGlvbik7Zm9yKHZhciBvIGluIHMuaGFuZGxlcilyW29dPXJbb10/VChyW29dLHMuaGFuZGxlcltvXSk6cy5oYW5kbGVyW29dfWk8PD0xLGU+Pj0xfX1yZXR1cm4gdH1mdW5jdGlvbiBDKGUsdCl7dmFyIG49Tih0KTtmb3IodmFyIHI9MCxpO2k9bi5hY3Rpb25zW3JdO3IrKylpKFMubGluayxlKTtlLmFkZEhhbmRsZXIobi5oYW5kbGVyKX1mdW5jdGlvbiBrKGUsdCl7dmFyIG49Tih0KTtmb3IodmFyIHI9MCxpO2k9bi5hY3Rpb25zW3IrK107KWkoUy51bmxpbmssZSk7ZS5yZW1vdmVIYW5kbGVyKG4uaGFuZGxlcil9ZnVuY3Rpb24gSShlLHQpe3doaWxlKHQmJnQhPT1lJiZ0IT09dC5kZWxlZ2F0ZSl0PXQuZGVsZWdhdGU7cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIHEoZSx0LG4pe3ZhciByPWUuZGVsZWdhdGU7ciYmKGUucm9vdD1yLnJvb3QsZS50YXJnZXQ9ci50YXJnZXQsZS5kYXRhPXIuZGF0YSxlLnN0YXRlPXIuc3RhdGUpO2lmKGUucm9vdCE9PXQpe3ZhciBpPWUubGlzdGVuLnJvb3Q7aSYmKHQmJnQhPT1lJiZ0LnJlbW92ZUhhbmRsZXIoaSxlKSxlLnJvb3QmJmUucm9vdCE9PWUmJmUucm9vdC5hZGRIYW5kbGVyKGksZSkpLGUuZW1pdF9yb290Q2hhbmdlZCh0KX1pZihlLnRhcmdldCE9PW4pe3ZhciBzPWUubGlzdGVuLnRhcmdldDtzJiYobiYmbiE9PWUmJm4ucmVtb3ZlSGFuZGxlcihzLGUpLGUudGFyZ2V0JiZlLnRhcmdldCE9PWUmJmUudGFyZ2V0LmFkZEhhbmRsZXIocyxlKSksZS5lbWl0X3RhcmdldENoYW5nZWQobil9dmFyIG89ZS5kZWxlZ2F0ZXNfO3doaWxlKG8pby5kZWxlZ2F0ZSYmcShvLmRlbGVnYXRlLHQsbiksbz1vLm5leHR9ZnVuY3Rpb24gWChlLHQpe3ZhciBuPXt9LHI7ZSYmZS5sZW5ndGgmJihyPW4uaW5zZXJ0ZWQ9ZSksdCYmdC5sZW5ndGgmJihyPW4uZGVsZXRlZD10KTtpZihyKXJldHVybiBufWZ1bmN0aW9uIFYoZSx0KXtpZighZXx8IWUuaXRlbUNvdW50KXtpZih0JiZ0Lml0ZW1Db3VudClyZXR1cm57aW5zZXJ0ZWQ6dC5nZXRJdGVtcygpfX1lbHNle2lmKCEhdCYmISF0Lml0ZW1Db3VudCl7dmFyIG49W10scj1bXTtmb3IodmFyIGkgaW4gZS5pdGVtc18pe3ZhciBzPWUuaXRlbXNfW2ldO3MuYmFzaXNPYmplY3RJZCBpbiB0Lml0ZW1zXz09MCYmci5wdXNoKHMpfWZvcih2YXIgaSBpbiB0Lml0ZW1zXyl7dmFyIHM9dC5pdGVtc19baV07cy5iYXNpc09iamVjdElkIGluIGUuaXRlbXNfPT0wJiZuLnB1c2gocyl9cmV0dXJuIFgobixyKX1pZihlLml0ZW1Db3VudClyZXR1cm57ZGVsZXRlZDplLmdldEl0ZW1zKCl9fX1mdW5jdGlvbiB0dChlLHQsbixyKXt2YXIgaT1lW3JdfHxudWxsLHM9bnVsbDtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiImJihuPW4uY2FsbChlLGUpKSxuJiYobiBpbnN0YW5jZW9mICQ/KHM9bmV3IFEoZSx0LG4sWiksbj1uLmRhdGFzZXQpOm4gaW5zdGFuY2VvZiBIPyhzPW5ldyBRKGUsdCxuLGV0KSxuPXR0KHMscy5wcm94eSxuLnZhbHVlLCJuZXh0IikpOm4uYmluZGluZ0JyaWRnZSYmKHM9bmV3IEcoZSx0LG4sWSksbj10dChzLHMucHJveHksbi52YWx1ZSwibmV4dCIpKSksbiBpbnN0YW5jZW9mIEo9PTAmJihuPW51bGwpLHImJmkhPT1zJiYoaSYmKGkuZGV0YWNoKCksaS5uZXh0JiZ0dChpLG51bGwsbnVsbCwibmV4dCIpKSxzJiZzLmF0dGFjaCgpLGVbcl09cyksbn1mdW5jdGlvbiBudChlLHQsbixyKXt2YXIgaT1lW3JdfHxudWxsLHM9bnVsbDtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiImJihuPW4uY2FsbChlLGUpKSxuJiYobiBpbnN0YW5jZW9mIEg/KHM9bmV3IFEoZSx0LG4sZXQpLG49bnQocyxzLnByb3h5LG4udmFsdWUsIm5leHQiKSk6bi5iaW5kaW5nQnJpZGdlJiYocz1uZXcgRyhlLHQsbixZKSxuPW50KHMscy5wcm94eSxuLnZhbHVlLCJuZXh0IikpKSxuIGluc3RhbmNlb2YgUj09MCYmKG49bnVsbCksciYmaSE9PXMmJihpJiYoaS5kZXRhY2goKSxpLm5leHQmJm50KGksbnVsbCxudWxsLCJuZXh0IikpLHMmJnMuYXR0YWNoKCksZVtyXT1zKSxufWZ1bmN0aW9uIHJ0KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybntkYXRhOmV9fSk6e2RhdGE6ZX19ZnVuY3Rpb24gaXQoZSl7aWYoIWV8fGUuY29uc3RydWN0b3IhPT1PYmplY3QpZT17dmFsdWU6ZX07cmV0dXJuIG5ldyBSKHtkYXRhOmV9KX1mdW5jdGlvbiBzdChlLHQpe3ZhciBuPXQ/aXQ6cnQ7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5tYXAobik6bihlKX1uLnJlcXVpcmUoIi4vMy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4uQ2xhc3MsbD1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1uLm9iamVjdC52YWx1ZXMsaD1uLmZuLiRzZWxmLHA9bi5ldmVudC5FbWl0dGVyLGQ9bi5ldmVudC5jcmVhdGUsdj1uLmV2ZW50LmV2ZW50cyxtPXt9LGc9W10seT17fSxiPXtwcmlvcml0eTpbXSx2YWx1ZXM6e30sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZSxyPWUudG9Mb3dlckNhc2UoKTtiW25dPXIseVtyXT1uLHRoaXMudmFsdWVzW3JdPW4sdD90PXRoaXMucHJpb3JpdHkuaW5kZXhPZih0KTp0PS0xLHQ9PS0xP3RoaXMucHJpb3JpdHkucHVzaChyKTp0aGlzLnByaW9yaXR5LnNwbGljZSh0LDAscil9LGdldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYyh5KX19O2IuYWRkKCJSRUFEWSIpLGIuYWRkKCJERVBSRUNBVEVEIiksYi5hZGQoIlVOREVGSU5FRCIpLGIuYWRkKCJFUlJPUiIpLGIuYWRkKCJQUk9DRVNTSU5HIik7dmFyIHc9e30sRT0xLFM9e05PTkU6MCxBTEw6MCxsaW5rOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lK3QuYmFzaXNPYmplY3RJZCxpPW4uc3Vic2NyaWJlcnNfO2l8fChpPW4uc3Vic2NyaWJlcnNfPXt9KTtpZighaVtyXSl7aVtyXT10O3ZhciBzPW4uc3Vic2NyaWJlckNvdW50Kz0xO3M9PTEmJm4uZW1pdF9zdWJzY3JpYmVyc0NoYW5nZWQoMSl9fSx1bmxpbms6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUrdC5iYXNpc09iamVjdElkLGk9bi5zdWJzY3JpYmVyc187aWYoaSYmaVtyXSl7ZGVsZXRlIGlbcl07dmFyIHM9bi5zdWJzY3JpYmVyQ291bnQtPTE7cz09MCYmKG4uZW1pdF9zdWJzY3JpYmVyc0NoYW5nZWQoLTEpLG4uc3Vic2NyaWJlcnNfPW51bGwpfX0sYWRkOmZ1bmN0aW9uKGUsdCxuKXt3W0VdPXtoYW5kbGVyOnQsYWN0aW9uOm59LFNbZV09RSxTLkFMTHw9RSxFPDw9MX0sYWRkUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtuW3R8fGUrIkNoYW5nZWQiXT1mdW5jdGlvbih0LG4pe24gaW5zdGFuY2VvZiBMJiZTLnVubGluayhlLHQsbiksdFtlXWluc3RhbmNlb2YgTCYmUy5saW5rKGUsdCx0W2VdKX0sdGhpcy5hZGQoZS50b1VwcGVyQ2FzZSgpLG4sZnVuY3Rpb24odCxuKXtuW2VdJiZ0KGUsbixuW2VdKX0pfX0seD17fTtTLmFkZFByb3BlcnR5KCJkZWxlZ2F0ZSIpLFMuYWRkUHJvcGVydHkoInRhcmdldCIpLFMuYWRkUHJvcGVydHkoImRhdGFzZXQiKSxTLmFkZFByb3BlcnR5KCJ2YWx1ZSIsImNoYW5nZSIpO3ZhciBMPWYocCx7Y2xhc3NOYW1lOmErIi5BYnN0cmFjdERhdGEiLHN0YXRlOmIuVU5ERUZJTkVELGVtaXRfc3RhdGVDaGFuZ2VkOmQoInN0YXRlQ2hhbmdlZCIsIm9sZFN0YXRlIiksYWN0aXZlOiExLGVtaXRfYWN0aXZlQ2hhbmdlZDpkKCJhY3RpdmVDaGFuZ2VkIiksc3Vic2NyaWJlVG86Uy5OT05FLHN1YnNjcmliZXJDb3VudDowLHN1YnNjcmliZXJzXzpudWxsLGVtaXRfc3Vic2NyaWJlcnNDaGFuZ2VkOmQoInN1YnNjcmliZXJzQ2hhbmdlZCIsImRlbHRhIiksc3luY0V2ZW50czpmLm9uZUZ1bmN0aW9uUHJvcGVydHkoZnVuY3Rpb24oKXt0aGlzLmlzU3luY1JlcXVpcmVkKCkmJnRoaXMuc3luY0FjdGlvbigpfSx7c3RhdGVDaGFuZ2VkOiEwLHN1YnNjcmliZXJzQ2hhbmdlZDohMH0pLHN5bmNBY3Rpb246bnVsbCxpbml0OmZ1bmN0aW9uKCl7cC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuYWN0aXZlJiZ0aGlzLmFkZEhhbmRsZXIoTih0aGlzLnN1YnNjcmliZVRvKS5oYW5kbGVyKTt2YXIgZT10aGlzLnN5bmNBY3Rpb247ZSYmKHRoaXMuc3luY0FjdGlvbj1udWxsLHRoaXMuc2V0U3luY0FjdGlvbihlKSl9LHNldFN0YXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG49U3RyaW5nKGUpO2lmKCF5W25dKXRocm93IDQ7aWYodGhpcy5zdGF0ZSE9bnx8dGhpcy5zdGF0ZS5kYXRhIT10KXt2YXIgcj10aGlzLnN0YXRlO3JldHVybiB0aGlzLnN0YXRlPU9iamVjdChuKSx0aGlzLnN0YXRlLmRhdGE9dCx0aGlzLmVtaXRfc3RhdGVDaGFuZ2VkKHIpLCEwfXJldHVybiExfSxkZXByZWNhdGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlIT1iLlBST0NFU1NJTkcmJnRoaXMuc2V0U3RhdGUoYi5ERVBSRUNBVEVEKX0sc2V0QWN0aXZlOmZ1bmN0aW9uKGUpe3JldHVybiBlPSEhZSx0aGlzLmFjdGl2ZSE9ZT8odGhpcy5hY3RpdmU9ZSx0aGlzLmVtaXRfYWN0aXZlQ2hhbmdlZCgpLGU/Qyh0aGlzLHRoaXMuc3Vic2NyaWJlVG8pOmsodGhpcyx0aGlzLnN1YnNjcmliZVRvKSwhMCk6ITF9LHNldFN1YnNjcmlwdGlvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN1YnNjcmliZVRvLG49ZSZTLkFMTCxyPXRebjtpZihyKXt0aGlzLnN1YnNjcmliZVRvPW47aWYodGhpcy5hY3RpdmUpe3ZhciBpPU4odCkscz1OKG4pO3RoaXMucmVtb3ZlSGFuZGxlcihpLmhhbmRsZXIpLHRoaXMuYWRkSGFuZGxlcihzLmhhbmRsZXIpO3ZhciBvPTE7d2hpbGUocil7aWYociYxKXt2YXIgdT13W29dO3Qmbz91LmFjdGlvbihTLnVubGluayx0aGlzKTp1LmFjdGlvbihTLmxpbmssdGhpcyl9bzw8PTEscj4+PTF9fXJldHVybiEwfXJldHVybiExfSxpc1N5bmNSZXF1aXJlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnNjcmliZXJDb3VudD4wJiYodGhpcy5zdGF0ZT09Yi5VTkRFRklORUR8fHRoaXMuc3RhdGU9PWIuREVQUkVDQVRFRCl9LHNldFN5bmNBY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zeW5jQWN0aW9uO3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1udWxsKSx0aGlzLnN5bmNBY3Rpb249ZSxlPyh0fHx0aGlzLmFkZEhhbmRsZXIodGhpcy5zeW5jRXZlbnRzKSx0aGlzLmlzU3luY1JlcXVpcmVkKCkmJnRoaXMuc3luY0FjdGlvbigpKTp0JiZ0aGlzLnJlbW92ZUhhbmRsZXIodGhpcy5zeW5jRXZlbnRzKX0sZGVzdHJveTpmdW5jdGlvbigpe3AucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtpZih0aGlzLmFjdGl2ZSl7dmFyIGU9Tih0aGlzLnN1YnNjcmliZVRvKTtmb3IodmFyIHQ9MCxuO249ZS5hY3Rpb25zW3RdO3QrKyluKFMudW5saW5rLHRoaXMpfXRoaXMuc3RhdGU9Yi5VTkRFRklORUR9fSksQT1uLmdldHRlci5JRCxPPXtkZXN0cm95OmZ1bmN0aW9uKGUpe3RoaXMudmFsdWUudW5saW5rKGUsdGhpcy5mbil9fSxNPXtkZXN0cm95OmZ1bmN0aW9uKGUpe3RoaXMuc2V0KG51bGwpfX0sXz17fSxEPXt9LFA9ZnVuY3Rpb24oZSl7dGhpcy5zZXQodGhpcy5mbihlKSl9LEg9ZihMLHtjbGFzc05hbWU6YSsiLlZhbHVlIixzdWJzY3JpYmVUbzpTLlZBTFVFLGVtaXRfY2hhbmdlOmQoImNoYW5nZSIsIm9sZFZhbHVlIikmJmZ1bmN0aW9uKGUpe3YuY2hhbmdlLmNhbGwodGhpcyxlKTt2YXIgdD10aGlzO3doaWxlKHQ9dC5saW5rc18pdC5mbi5jYWxsKHQuY29udGV4dCx0aGlzLnZhbHVlLGUpfSx2YWx1ZTpudWxsLGluaXRWYWx1ZTpudWxsLHByb3h5Om51bGwsbG9ja2VkOjAsbG9ja2VkVmFsdWVfOm51bGwsbGlua3NfOm51bGwsc2V0TnVsbE9uRW1pdHRlckRlc3Ryb3k6ITAsYmluZGluZ0JyaWRnZTp7YXR0YWNoOmZ1bmN0aW9uKGUsdCxuKXtlLmxpbmsobix0LCEwKX0sZGV0YWNoOmZ1bmN0aW9uKGUsdCxuKXtlLnVubGluayhuLHQpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFsdWV9fSxpbml0OmZ1bmN0aW9uKCl7TC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHJveHkmJih0aGlzLnZhbHVlPXRoaXMucHJveHkodGhpcy52YWx1ZSkpLHRoaXMuc2V0TnVsbE9uRW1pdHRlckRlc3Ryb3kmJnRoaXMudmFsdWUgaW5zdGFuY2VvZiBwJiZ0aGlzLnZhbHVlLmFkZEhhbmRsZXIoTSx0aGlzKSx0aGlzLmluaXRWYWx1ZT10aGlzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52YWx1ZSxuPXRoaXMucHJveHk/dGhpcy5wcm94eShlKTplLHI9biE9PXQ7cmV0dXJuIHImJih0aGlzLnNldE51bGxPbkVtaXR0ZXJEZXN0cm95JiYodCBpbnN0YW5jZW9mIHAmJnQucmVtb3ZlSGFuZGxlcihNLHRoaXMpLG4gaW5zdGFuY2VvZiBwJiZuLmFkZEhhbmRsZXIoTSx0aGlzKSksdGhpcy52YWx1ZT1uLHRoaXMubG9ja2VkfHx0aGlzLmVtaXRfY2hhbmdlKHQpKSxyfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuc2V0KHRoaXMuaW5pdFZhbHVlKX0saXNMb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWQ+MH0sbG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkKyssdGhpcy5sb2NrZWQ9PTEmJih0aGlzLmxvY2tlZFZhbHVlXz10aGlzLnZhbHVlKX0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5sb2NrZWQpe3RoaXMubG9ja2VkLS07aWYoIXRoaXMubG9ja2VkKXt2YXIgZT10aGlzLmxvY2tlZFZhbHVlXzt0aGlzLmxvY2tlZFZhbHVlXz1udWxsLHRoaXMudmFsdWUhPT1lJiZ0aGlzLmVtaXRfY2hhbmdlKGUpfX19LGNvbXB1dGU6ZnVuY3Rpb24oZSx0KXt0fHwodD1lLGU9bnVsbCksdHx8KHQ9aCk7dmFyIHI9dGhpcyxpPW4uZXZlbnQuY3JlYXRlSGFuZGxlcihlLGZ1bmN0aW9uKGUpe3RoaXMuc2V0KHQoZSxyLnZhbHVlKSl9KSxzPXRbQV18fFN0cmluZyh0KSxvPWkuZXZlbnRzLmNvbmNhdChzLHRoaXMuYmFzaXNPYmplY3RJZCkuam9pbigiXyIpLHU9X1tvXTtpZighdSl7dmFyIGE9e307aS5kZXN0cm95PWZ1bmN0aW9uKGUpe2RlbGV0ZSBhW2UuYmFzaXNPYmplY3RJZF0sdGhpcy5kZXN0cm95KCl9LHRoaXMuYWRkSGFuZGxlcih7Y2hhbmdlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGEpe3ZhciBuPWFbZV07bi50b2tlbi5zZXQodChuLm9iamVjdCx0aGlzLnZhbHVlKSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGEpe3ZhciB0PWFbZV07dC5vYmplY3QucmVtb3ZlSGFuZGxlcihpLHQudG9rZW4pLHQudG9rZW4uZGVzdHJveSgpfWE9bnVsbCxyPW51bGx9fSksdT1fW29dPWZ1bmN0aW9uKGUpe3ZhciBzPWUuYmFzaXNPYmplY3RJZCxvPWFbc10sdT10KGUsci52YWx1ZSk7aWYoIW8pe3ZhciBmPW5ldyBuLlRva2VuKHUpO2UuYWRkSGFuZGxlcihpLGYpLG89YVtzXT17dG9rZW46ZixvYmplY3Q6ZX19ZWxzZSBvLnRva2VuLnNldCh1KTtyZXR1cm4gby50b2tlbn0sdS5kZWZlcnJlZD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdShlKS5kZWZlcnJlZCgpfX19cmV0dXJuIHV9LGFzOmZ1bmN0aW9uKGUsdCl7ZXx8KGU9aCk7aWYodGhpcy5saW5rc18pe3ZhciByPXRoaXMsaT1lW0FdfHxTdHJpbmcoZSk7d2hpbGUocj1yLmxpbmtzXyl7dmFyIHM9ci5jb250ZXh0O2lmKHMgaW5zdGFuY2VvZiBuLlRva2VuJiYocy5mbltBXXx8U3RyaW5nKHMuZm4pKT09aSlyZXR1cm4gdD9zLmRlZmVycmVkKCk6c319dmFyIG89bmV3IG4uVG9rZW47cmV0dXJuIG8uZm49ZSx0aGlzLmxpbmsobyxQKSx0P28uZGVmZXJyZWQoKTpvfSxkZWZlcnJlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcyhlLCEwKX0sbGluazpmdW5jdGlvbihlLHQsbil7aWYodHlwZW9mIHQhPSJmdW5jdGlvbiIpe3ZhciByPVN0cmluZyh0KTt0PURbcl0sdHx8KHQ9RFtyXT1mdW5jdGlvbihlKXt0aGlzW3JdPWV9KX1yZXR1cm4gdGhpcy5saW5rc189e3ZhbHVlOnRoaXMsY29udGV4dDplLGZuOnQsbGlua3NfOnRoaXMubGlua3NffSxlIGluc3RhbmNlb2YgcCYmZS5hZGRIYW5kbGVyKE8sdGhpcy5saW5rc18pLG58fHQuY2FsbChlLHRoaXMudmFsdWUpLGV9LHVubGluazpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaTt3aGlsZShpPXIscj1yLmxpbmtzXylyLmNvbnRleHQ9PT1lJiYoIXR8fHIuZm49PT10KSYmKHIuZm49bi5mbi4kdW5kZWYsaS5saW5rc189ci5saW5rc18sci5jb250ZXh0IGluc3RhbmNlb2YgcCYmci5jb250ZXh0LnJlbW92ZUhhbmRsZXIoTyxyKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtMLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5zZXROdWxsT25FbWl0dGVyRGVzdHJveSYmdGhpcy52YWx1ZSBpbnN0YW5jZW9mIHAmJnRoaXMudmFsdWUucmVtb3ZlSGFuZGxlcihNLHRoaXMpO3ZhciBlPXRoaXM7d2hpbGUoZT1lLmxpbmtzXyllLmNvbnRleHQgaW5zdGFuY2VvZiBwJiZlLmNvbnRleHQucmVtb3ZlSGFuZGxlcihPLGUpO3RoaXMucHJveHk9bnVsbCx0aGlzLmluaXRWYWx1ZT1udWxsLHRoaXMudmFsdWU9bnVsbCx0aGlzLmxvY2tlZFZhbHVlXz1udWxsLHRoaXMubGlua3NfPW51bGx9fSksQj17fSxqPWZ1bmN0aW9uKGUpe0gucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsZSl9O0guZnJvbT1mdW5jdGlvbihlLHQscil7dmFyIGk7aWYoIWUpcmV0dXJuIG51bGw7aWYoZSBpbnN0YW5jZW9mIHApe3J8fChyPXQsdD1udWxsKSxyfHwocj1oKTt2YXIgcz1uLmV2ZW50LmNyZWF0ZUhhbmRsZXIodCxqKSxvPXJbQV18fFN0cmluZyhyKSx1PXMuZXZlbnRzLmNvbmNhdChvLGUuYmFzaXNPYmplY3RJZCkuam9pbigiXyIpO2k9Qlt1XSxpfHwoaT1CW3VdPW5ldyBIKHt2YWx1ZTplLHByb3h5Om4uZ2V0dGVyKHIpLHNldDpuLmZuLiR1bmRlZixoYW5kbGVyOntkZXN0cm95OmZ1bmN0aW9uKCl7Qlt1XT1udWxsLGUucmVtb3ZlSGFuZGxlcihzLHRoaXMpfX19KSxzLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7Qlt1XT1udWxsLHRoaXMuZGVzdHJveSgpfSxlLmFkZEhhbmRsZXIocyxpKSl9aWYoIWkpe3ZhciB1PWUuYmFzaXNPYmplY3RJZCxhPWUuYmluZGluZ0JyaWRnZTt1JiZhJiYoaT1CW3VdLGl8fChpPUJbdV09bmV3IEgoe3ZhbHVlOmEuZ2V0KGUpfSksYS5hdHRhY2goZSxpLnNldCxpKSkpfWlmKCFpKXRocm93IDU7cmV0dXJuIGl9LEguZmFjdG9yeT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gSC5mcm9tKG4sZSx0KX19O3ZhciBGPXt9LFI9ZihMLHtjbGFzc05hbWU6YSsiLk9iamVjdCIsc3Vic2NyaWJlVG86Uy5ERUxFR0FURStTLlRBUkdFVCxkYXRhOm51bGwsZW1pdF91cGRhdGU6ZCgidXBkYXRlIiwiZGVsdGEiKSYmZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kZWxlZ2F0ZXNfO3YudXBkYXRlLmNhbGwodGhpcyxlKTt3aGlsZSh0KXQuZGVsZWdhdGUmJnQuZGVsZWdhdGUuZW1pdF91cGRhdGUoZSksdD10Lm5leHR9LGVtaXRfc3RhdGVDaGFuZ2VkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGVsZWdhdGVzXztMLnByb3RvdHlwZS5lbWl0X3N0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsZSk7d2hpbGUodCl0LmRlbGVnYXRlJiYodC5kZWxlZ2F0ZS5zdGF0ZT10aGlzLnN0YXRlLHQuZGVsZWdhdGUuZW1pdF9zdGF0ZUNoYW5nZWQoZSkpLHQ9dC5uZXh0fSxkZWxlZ2F0ZTpudWxsLGRlbGVnYXRlQWRhcHRlcl86bnVsbCxkZWxlZ2F0ZXNfOm51bGwsZW1pdF9kZWxlZ2F0ZUNoYW5nZWQ6ZCgiZGVsZWdhdGVDaGFuZ2VkIiwib2xkRGVsZWdhdGUiKSx0YXJnZXQ6bnVsbCxlbWl0X3RhcmdldENoYW5nZWQ6ZCgidGFyZ2V0Q2hhbmdlZCIsIm9sZFRhcmdldCIpLHJvb3Q6bnVsbCxlbWl0X3Jvb3RDaGFuZ2VkOmQoInJvb3RDaGFuZ2VkIiwib2xkUm9vdCIpLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnJvb3Q9dGhpcyxMLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5kZWxlZ2F0ZSx0PXRoaXMuZGF0YTtlPyh0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmRhdGE9Rix0aGlzLnNldERlbGVnYXRlKGUpLHRoaXMuZGF0YT09PUYmJih0aGlzLmRhdGE9dHx8e30pKToodHx8KHRoaXMuZGF0YT17fSksdGhpcy50YXJnZXQhPT1udWxsJiYodGhpcy50YXJnZXQ9dGhpcykpfSxzZXREZWxlZ2F0ZTpmdW5jdGlvbihlKXtlPW50KHRoaXMsdGhpcy5zZXREZWxlZ2F0ZSxlLCJkZWxlZ2F0ZUFkYXB0ZXJfIik7aWYoZSYmZSBpbnN0YW5jZW9mIFIpe2lmKGUuZGVsZWdhdGUmJkkodGhpcyxlKSlyZXR1cm4hMX1lbHNlIGU9bnVsbDtpZih0aGlzLmRlbGVnYXRlIT09ZSl7dmFyIHQ9dGhpcy5zdGF0ZSxuPXRoaXMuZGF0YSxyPXRoaXMuZGVsZWdhdGUsaT10aGlzLnRhcmdldCxzPXRoaXMucm9vdCxvPXRoaXMubGlzdGVuLmRlbGVnYXRlLHU9ITEsYTtpZihyKXtvJiZyLnJlbW92ZUhhbmRsZXIobyx0aGlzKTt2YXIgZj1yLmRlbGVnYXRlc18sbD1yO3doaWxlKGYpe2lmKGYuZGVsZWdhdGU9PT10aGlzKXtmLmRlbGVnYXRlPW51bGwsbD09PXI/ci5kZWxlZ2F0ZXNfPWYubmV4dDpsLm5leHQ9Zi5uZXh0O2JyZWFrfWw9ZixmPWYubmV4dH19aWYoZSl7dGhpcy5kZWxlZ2F0ZT1lLG8mJmUuYWRkSGFuZGxlcihvLHRoaXMpLGUuZGVsZWdhdGVzXz17ZGVsZWdhdGU6dGhpcyxuZXh0OmUuZGVsZWdhdGVzX307aWYodGhpcy5kYXRhIT09Ril7YT17fTtmb3IodmFyIGMgaW4gZS5kYXRhKWMgaW4gbj09MCYmKHU9ITAsYVtjXT11bmRlZmluZWQpO2Zvcih2YXIgYyBpbiBuKW5bY10hPT1lLmRhdGFbY10mJih1PSEwLGFbY109bltjXSl9fWVsc2V7dGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMudGFyZ2V0PW51bGwsdGhpcy5yb290PXRoaXMsdGhpcy5kYXRhPXt9O2Zvcih2YXIgYyBpbiBuKXRoaXMuZGF0YVtjXT1uW2NdfXJldHVybiBxKHRoaXMscyxpKSx1JiZ0aGlzLmVtaXRfdXBkYXRlKGEpLGEmJnQhPT10aGlzLnN0YXRlJiYoU3RyaW5nKHQpIT10aGlzLnN0YXRlfHx0LmRhdGEhPT10aGlzLnN0YXRlLmRhdGEpJiZ0aGlzLmVtaXRfc3RhdGVDaGFuZ2VkKHQpLHRoaXMuZW1pdF9kZWxlZ2F0ZUNoYW5nZWQociksITB9cmV0dXJuITF9LHNldFN0YXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGVsZWdhdGU/dGhpcy5yb290LnNldFN0YXRlKGUsdCk6TC5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLGUsdCl9LHVwZGF0ZTpmdW5jdGlvbihlKXtpZih0aGlzLmRlbGVnYXRlKXJldHVybiB0aGlzLnJvb3QudXBkYXRlKGUpO2lmKGUpe3ZhciB0PXt9LG49ITE7Zm9yKHZhciByIGluIGUpdGhpcy5kYXRhW3JdIT09ZVtyXSYmKG49ITAsdFtyXT10aGlzLmRhdGFbcl0sdGhpcy5kYXRhW3JdPWVbcl0pO2lmKG4pcmV0dXJuIHRoaXMuZW1pdF91cGRhdGUodCksdH1yZXR1cm4hMX0sZGVzdHJveTpmdW5jdGlvbigpe0wucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmRlbGVnYXRlc187dGhpcy5kZWxlZ2F0ZXNfPW51bGw7d2hpbGUoZSllLmRlbGVnYXRlLnNldERlbGVnYXRlKCksZT1lLm5leHQ7dGhpcy5kZWxlZ2F0ZSYmdGhpcy5zZXREZWxlZ2F0ZSgpLHRoaXMuZGF0YT1tLHRoaXMucm9vdD1udWxsLHRoaXMudGFyZ2V0PW51bGx9fSksVT1mKFIse2NsYXNzTmFtZTphKyIuU2xvdCJ9KSx6PXtkZXN0cm95OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMubWFwW3RoaXMuaWRdfX0sVz1mKEwse2NsYXNzTmFtZTphKyIuS2V5T2JqZWN0TWFwIixpdGVtQ2xhc3M6UixrZXlHZXR0ZXI6aCxhdXRvRGVzdHJveU1lbWJlcnM6ITAsbWFwXzpudWxsLGV4dGVuZENvbnN0cnVjdG9yXzohMCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXBfPXt9LEwucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0scmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXQodGhpcy5rZXlHZXR0ZXIoZSksZSl9LGNyZWF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBlIGluc3RhbmNlb2YgUj9uPXtkZWxlZ2F0ZTplfTpuPXtkYXRhOntpZDplLHRpdGxlOmV9fSxuZXcgdGhpcy5pdGVtQ2xhc3Mobil9LGdldDpmdW5jdGlvbihlLHQpe3ZhciBuPWUgaW5zdGFuY2VvZiBSP2UuYmFzaXNPYmplY3RJZDplLHI9dGhpcy5tYXBfW25dOyFyJiZ0JiYocj10aGlzLm1hcF9bbl09e21hcDp0aGlzLm1hcF8saWQ6bixpdGVtOnRoaXMuY3JlYXRlKGUsdCl9LHIuaXRlbS5hZGRIYW5kbGVyKHoscikpO2lmKHIpcmV0dXJuIHIuaXRlbX0sZGVzdHJveTpmdW5jdGlvbigpe0wucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTt2YXIgZT10aGlzLm1hcF87dGhpcy5tYXBfPW51bGw7Zm9yKHZhciB0IGluIGUpe3ZhciBuPWVbdF07dGhpcy5hdXRvRGVzdHJveU1lbWJlcnM/bi5pdGVtLmRlc3Ryb3koKTpuLml0ZW0ucmVtb3ZlSGFuZGxlcih6LG4pfX19KSwkPWYoUix7Y2xhc3NOYW1lOmErIi5EYXRhc2V0V3JhcHBlciIsc3Vic2NyaWJlVG86Ui5wcm90b3R5cGUuc3Vic2NyaWJlVG8rUy5EQVRBU0VULGxpc3Rlbjp7ZGF0YXNldDp7aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dGhpcy5pdGVtQ291bnQ9ZS5pdGVtQ291bnQsdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZCh0KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0RGF0YXNldCgpfX19LGRhdGFzZXQ6bnVsbCxkYXRhc2V0QWRhcHRlcl86bnVsbCxlbWl0X2RhdGFzZXRDaGFuZ2VkOmQoImRhdGFzZXRDaGFuZ2VkIiwib2xkRGF0YXNldCIpLGVtaXRfaXRlbXNDaGFuZ2VkOmQoIml0ZW1zQ2hhbmdlZCIsImRlbHRhIiksaW5pdDpmdW5jdGlvbigpe1IucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmRhdGFzZXQ7ZSYmKHRoaXMuZGF0YXNldD1udWxsLHRoaXMuc2V0RGF0YXNldChlKSl9LHNldERhdGFzZXQ6ZnVuY3Rpb24oZSl7ZT10dCh0aGlzLHRoaXMuc2V0RGF0YXNldCxlLCJkYXRhc2V0QWRhcHRlcl8iKTtpZih0aGlzLmRhdGFzZXQhPT1lKXt2YXIgdD10aGlzLmxpc3Rlbi5kYXRhc2V0LG49dGhpcy5kYXRhc2V0LHI7dCYmKG4mJm4ucmVtb3ZlSGFuZGxlcih0LHRoaXMpLGUmJmUuYWRkSGFuZGxlcih0LHRoaXMpKSx0aGlzLml0ZW1Db3VudD1lP2UuaXRlbUNvdW50OjAsKHI9VihuLGUpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChyKSx0aGlzLmRhdGFzZXQ9ZSx0aGlzLmVtaXRfZGF0YXNldENoYW5nZWQobil9fSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YXNldD90aGlzLmRhdGFzZXQuaGFzKGUpOm51bGx9LGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YXNldD90aGlzLmRhdGFzZXQuZ2V0SXRlbXMoKTpbXX0scGljazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFzZXQ/dGhpcy5kYXRhc2V0LnBpY2soKTpudWxsfSx0b3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YXNldD90aGlzLmRhdGFzZXQudG9wKGUpOltdfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZGF0YXNldClyZXR1cm4gdGhpcy5kYXRhc2V0LmZvckVhY2goZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXsodGhpcy5kYXRhc2V0fHx0aGlzLmRhdGFzZXRBZGFwdGVyXykmJnRoaXMuc2V0RGF0YXNldCgpLFIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxKPWYoTCx7Y2xhc3NOYW1lOmErIi5SZWFkT25seURhdGFzZXQiLGl0ZW1Db3VudDowLGl0ZW1zXzpudWxsLG1lbWJlcnNfOm51bGwsY2FjaGVfOm51bGwsZW1pdF9pdGVtc0NoYW5nZWQ6ZCgiaXRlbXNDaGFuZ2VkIiwiZGVsdGEiKSYmZnVuY3Rpb24oZSl7dmFyIHQsbj0wLHI9MCxpO2lmKHQ9ZS5pbnNlcnRlZCl3aGlsZShpPXRbbl0pdGhpcy5pdGVtc19baS5iYXNpc09iamVjdElkXT1pLG4rKztpZih0PWUuZGVsZXRlZCl3aGlsZShpPXRbcl0pZGVsZXRlIHRoaXMuaXRlbXNfW2kuYmFzaXNPYmplY3RJZF0scisrO3RoaXMuaXRlbUNvdW50Kz1uLXIsdGhpcy5jYWNoZV89bj09dGhpcy5pdGVtQ291bnQ/ZS5pbnNlcnRlZDpudWxsLHYuaXRlbXNDaGFuZ2VkLmNhbGwodGhpcyxlKX0saW5pdDpmdW5jdGlvbigpe0wucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLm1lbWJlcnNfPXt9LHRoaXMuaXRlbXNfPXt9fSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYhIXRoaXMuaXRlbXNfW2UuYmFzaXNPYmplY3RJZF19LGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVffHwodGhpcy5jYWNoZV89Yyh0aGlzLml0ZW1zXykpLHRoaXMuY2FjaGVffSxnZXRWYWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0SXRlbXMoKS5tYXAobi5nZXR0ZXIoZXx8aCkpfSxwaWNrOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuaXRlbXNfKXJldHVybiB0aGlzLml0ZW1zX1tlXTtyZXR1cm4gbnVsbH0sdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKGUpZm9yKHZhciBuIGluIHRoaXMuaXRlbXNfKWlmKHQucHVzaCh0aGlzLml0ZW1zX1tuXSk+PWUpYnJlYWs7cmV0dXJuIHR9LGZvckVhY2g6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRJdGVtcygpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUodFtuXSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtMLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5jYWNoZV89Zyx0aGlzLml0ZW1Db3VudD0wLHRoaXMubWVtYmVyc189bnVsbCx0aGlzLml0ZW1zXz1udWxsfX0pLEs9ZihKLHtjbGFzc05hbWU6YSsiLkRhdGFzZXQiLGxpc3Rlbjp7aXRlbTp7ZGVzdHJveTpmdW5jdGlvbihlKXt0aGlzLnJlbW92ZShbZV0pfX19LGluaXQ6ZnVuY3Rpb24oKXtKLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5pdGVtcztlJiYodGhpcy5pdGVtcz1udWxsLHRoaXMuc2V0KGUpKX0sYWRkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWVtYmVyc18sbj10aGlzLmxpc3Rlbi5pdGVtLHI9W10saTtlJiYhQXJyYXkuaXNBcnJheShlKSYmKGU9W2VdKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIG89ZVtzXTtpZihvIGluc3RhbmNlb2YgUil7dmFyIHU9by5iYXNpc09iamVjdElkO3RbdV18fCh0W3VdPW8sbiYmby5hZGRIYW5kbGVyKG4sdGhpcyksci5wdXNoKG8pKX19cmV0dXJuIHIubGVuZ3RoJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKGk9e2luc2VydGVkOnJ9KSxpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tZW1iZXJzXyxuPXRoaXMubGlzdGVuLml0ZW0scj1bXSxpO2UmJiFBcnJheS5pc0FycmF5KGUpJiYoZT1bZV0pO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbz1lW3NdO2lmKG8gaW5zdGFuY2VvZiBSKXt2YXIgdT1vLmJhc2lzT2JqZWN0SWQ7dFt1XSYmKG4mJm8ucmVtb3ZlSGFuZGxlcihuLHRoaXMpLGRlbGV0ZSB0W3VdLHIucHVzaChvKSl9fXJldHVybiByLmxlbmd0aCYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChpPXtkZWxldGVkOnJ9KSxpfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXRlbUNvdW50KXJldHVybiB0aGlzLmFkZChlKTtpZighZXx8IWUubGVuZ3RoKXJldHVybiB0aGlzLmNsZWFyKCk7dmFyIHQ9dGhpcy5tZW1iZXJzXyxuPXRoaXMubGlzdGVuLml0ZW0scj17fSxpPVtdLHM9W10sbyx1LGE7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspbz1lW2ZdLG8gaW5zdGFuY2VvZiBSJiYodT1vLmJhc2lzT2JqZWN0SWQsclt1XT1vLHRbdV18fCh0W3VdPW8sbiYmby5hZGRIYW5kbGVyKG4sdGhpcykscy5wdXNoKG8pKSk7Zm9yKHZhciB1IGluIHQpclt1XXx8KG89dFt1XSxuJiZvLnJlbW92ZUhhbmRsZXIobix0aGlzKSxkZWxldGUgdFt1XSxpLnB1c2gobykpO3JldHVybihhPVgocyxpKSkmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQoYSksYX0sc3luYzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNldChlKXx8e30sbj10LmRlbGV0ZWQ7Sy5zZXRBY2N1bXVsYXRlU3RhdGUoITApO2lmKG4pZm9yKHZhciByPTAsaTtpPW5bcl07cisrKWkuZGVzdHJveSgpO3JldHVybiBLLnNldEFjY3VtdWxhdGVTdGF0ZSghMSksdC5pbnNlcnRlZH0sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEl0ZW1zKCksdD10aGlzLmxpc3Rlbi5pdGVtLG47aWYoZS5sZW5ndGgpe2lmKHQpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5yZW1vdmVIYW5kbGVyKHQsdGhpcyk7dGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChuPXtkZWxldGVkOmV9KSx0aGlzLm1lbWJlcnNfPXt9fXJldHVybiBufSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpLEoucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxRPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuY29udGV4dD1lLHRoaXMuZm49dCx0aGlzLnNvdXJjZT1uLHRoaXMuaGFuZGxlcj1yfTtRLnByb3RvdHlwZT17Y29udGV4dDpudWxsLGZuOm51bGwsc291cmNlOm51bGwsaGFuZGxlcjpudWxsLG5leHQ6bnVsbCxhdHRhY2g6ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZS5hZGRIYW5kbGVyKHRoaXMuaGFuZGxlcix0aGlzKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5zb3VyY2UucmVtb3ZlSGFuZGxlcih0aGlzLmhhbmRsZXIsdGhpcyl9LHByb3h5OmZ1bmN0aW9uKCl7dGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCx0aGlzLnNvdXJjZSl9fTt2YXIgRz1mdW5jdGlvbigpe1EuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHLnByb3RvdHlwZT1uZXcgUSxHLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZS5iaW5kaW5nQnJpZGdlLmF0dGFjaCh0aGlzLnNvdXJjZSx0aGlzLmhhbmRsZXIsdGhpcyl9LEcucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuc291cmNlLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHRoaXMuc291cmNlLHRoaXMuaGFuZGxlcix0aGlzKX07dmFyIFk9ZnVuY3Rpb24oKXt0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LHRoaXMuc291cmNlKX0sWj17ZGF0YXNldENoYW5nZWQ6ZnVuY3Rpb24oKXt0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LHRoaXMuc291cmNlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsbnVsbCl9fSxldD17Y2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCx0aGlzLnNvdXJjZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LG51bGwpfX07Sy5zZXRBY2N1bXVsYXRlU3RhdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGUpe3ZhciB0PWUuZGF0YXNldDtzLmNhbGwodCxlKX1mdW5jdGlvbiB1KCl7dmFyIGU9dDt0PXt9O2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dO3ImJm8ocil9fWZ1bmN0aW9uIGEoZSl7dmFyIG49dGhpcyxyPW4uYmFzaXNPYmplY3RJZCxpPWUuaW5zZXJ0ZWQsdT1lLmRlbGV0ZWQsYT10W3JdO2lmKGkmJnV8fGEmJmEubWl4ZWQpe2EmJih0W3JdPW51bGwsbyhhKSkscy5jYWxsKG4sZSk7cmV0dXJufWlmKGEpe3ZhciBmPWk/Imluc2VydGVkIjoiZGVsZXRlZCIsYz1hW2ZdO2lmKCFjKXt2YXIgaD1pPyJkZWxldGVkIjoiaW5zZXJ0ZWQiLHA9YVtoXSxkPXt9LHY9aXx8dSxtPVtdLGc9MDtmb3IodmFyIHk9MDt5PHAubGVuZ3RoO3krKylkW3BbeV0uYmFzaXNPYmplY3RJZF09eTtmb3IodmFyIHk9MDt5PHYubGVuZ3RoO3krKyl7dmFyIGI9dlt5XS5iYXNpc09iamVjdElkO2IgaW4gZD09MD9tLnB1c2godlt5XSk6KGd8fChwPWwuY2FsbChwKSksZysrLHBbZFtiXV09bnVsbCl9ZyYmKGc8cC5sZW5ndGg/cD1wLmZpbHRlcihCb29sZWFuKTpwPW51bGwsYVtoXT1wKSxtLmxlbmd0aD8oYVtmXT1tLHAmJihhLm1peGVkPSEwKSk6KG09bnVsbCxwfHwodFtyXT1udWxsKSl9ZWxzZSBjLnB1c2guYXBwbHkoYyxpfHx1KTtyZXR1cm59dFtyXT17aW5zZXJ0ZWQ6aSxkZWxldGVkOnUsZGF0YXNldDpuLG1peGVkOiExfX1mdW5jdGlvbiBmKCl7aT1udWxsLHImJihyPTAsYygpKX1mdW5jdGlvbiBjKCl7ZS5lbWl0X2l0ZW1zQ2hhbmdlZD1zLHUoKX12YXIgZT1KLnByb3RvdHlwZSx0PXt9LHI9MCxpLHM7cmV0dXJuIGZ1bmN0aW9uKHQpe3Q/KHI9PTAmJihzPWUuZW1pdF9pdGVtc0NoYW5nZWQsZS5lbWl0X2l0ZW1zQ2hhbmdlZD1hLGl8fChpPW4uc2V0SW1tZWRpYXRlKGYpKSkscisrKTooci09cj4wLHI9PTAmJmMoKSl9fSgpLHQuZXhwb3J0cz17U1RBVEU6YixTVUJTQ1JJUFRJT046UyxBYnN0cmFjdERhdGE6TCxWYWx1ZTpILE9iamVjdDpSLFNsb3Q6VSxLZXlPYmplY3RNYXA6VyxSZWFkT25seURhdGFzZXQ6SixEYXRhc2V0OkssRGF0YXNldFdyYXBwZXI6JCxpc0Nvbm5lY3RlZDpJLGdldERhdGFzZXREZWx0YTpWLFJlc29sdmVBZGFwdGVyOlEscmVzb2x2ZURhdGFzZXQ6dHQscmVzb2x2ZU9iamVjdDpudCx3cmFwRGF0YTpydCx3cmFwT2JqZWN0Oml0LHdyYXA6c3R9fSwiNS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBCKCl7fWZ1bmN0aW9uIGooKXt9ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBJKGUpe2Uuc2V0RGVsZWdhdGU9bi5mbi4kdW5kZWYsZS5kZXN0cm95PUJ9ZnVuY3Rpb24gcShlKXt2YXIgdD1lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtlLnNldERlbGVnYXRlPXQuc2V0RGVsZWdhdGUsZS5kZXN0cm95PXQuZGVzdHJveX1mdW5jdGlvbiBSKGUpe3JldHVybiBlLnNvcnRpbmdWYWx1ZXx8MH1mdW5jdGlvbiBVKGUsdCl7cmV0dXJuIGU9ZS5zb3J0aW5nVmFsdWV8fDAsdD10LnNvcnRpbmdWYWx1ZXx8MCwrKGU+dCl8fC0oZTx0KX1mdW5jdGlvbiB6KGUsdCl7cmV0dXJuIGU9ZS5zb3J0aW5nVmFsdWV8fDAsdD10LnNvcnRpbmdWYWx1ZXx8MCwtKGU+dCl8fCsoZTx0KX1mdW5jdGlvbiBXKGUpe3JldHVybiBlLmNoaWxkTm9kZXMuc29ydChlLnNvcnRpbmdEZXNjP3o6VSl9ZnVuY3Rpb24gWChlLHQsbixyKXtpZighZS5sZW5ndGgpcmV0dXJuIDA7cj0hIXI7dmFyIGkscyxvPTAsdT1lLmxlbmd0aC0xO2Rve2k9byt1Pj4xLHM9bihlW2ldKTtpZihyP3Q+czp0PHMpdT1pLTE7ZWxzZXtpZighKHI/dDxzOnQ+cykpcmV0dXJuIHQ9PXM/aTowO289aSsxfX13aGlsZShvPD11KTtyZXR1cm4gaSsoczx0XnIpfWZ1bmN0aW9uIFYoZSx0LG4scixpKXtpZih0PT09bilyZXR1cm47dmFyIHMsbz1lLHU9W107ciYmKGUuY29udGV4dFNlbGVjdGlvbj1uLGUuc2VsZWN0ZWQmJnUucHVzaChlKSk7d2hpbGUobyl7cz0hby5zZWxlY3Rpb258fGkmJm89PT1lP28uZmlyc3RDaGlsZDpudWxsO2lmKHMmJnMuY29udGV4dFNlbGVjdGlvbiE9PXQpdGhyb3cgNjt3aGlsZSghcyl7aWYobz09PWUpe3UubGVuZ3RoJiYodCYmdC5yZW1vdmUodSksbiYmbi5hZGQodSkpO3JldHVybn1zPW8ubmV4dFNpYmxpbmcsc3x8KG89by5wYXJlbnROb2RlKX1vPXMsby5zZWxlY3RlZCYmdS5wdXNoKG8pLG8uY29udGV4dFNlbGVjdGlvbj1ufX1mdW5jdGlvbiAkKGUsdCl7aWYoZS5jb250ZXh0RGlzYWJsZWQhPXQpe2UuY29udGV4dERpc2FibGVkPXQ7aWYoZS5kaXNhYmxlZClyZXR1cm47dD9lLmVtaXRfZGlzYWJsZSgpOmUuZW1pdF9lbmFibGUoKX19ZnVuY3Rpb24gSihlKXtpZighZSlyZXR1cm4gbnVsbDtpZihlLmlzU2F0ZWxsaXRlQ29uZmlnKXJldHVybiBlO2lmKGUgaW5zdGFuY2VvZiBaKXJldHVybiBlO2YuaXNDbGFzcyhlKSYmKGU9e2luc3RhbmNlT2Y6ZX0pO2lmKGUmJmUuY29uc3RydWN0b3I9PT1PYmplY3Qpe3ZhciB0PSExLG49e2lzU2F0ZWxsaXRlQ29uZmlnOiEwfSxyO2Zvcih2YXIgaSBpbiBlKXN3aXRjaChpKXtjYXNlImluc3RhbmNlIjplW2ldaW5zdGFuY2VvZiBaJiYobltpXT1lW2ldKTticmVhaztjYXNlImluc3RhbmNlT2YiOmYuaXNDbGFzcyhlW2ldKSYmZVtpXS5pc1N1YmNsYXNzT2YoWikmJihyPWVbaV0pO2JyZWFrO2Nhc2UiZXhpc3RzSWYiOmNhc2UiZGVsZWdhdGUiOmNhc2UiZGF0YVNvdXJjZSI6dD0hMCxuW2ldPWQoZVtpXSk7YnJlYWs7Y2FzZSJjb25maWciOm5baV09ZVtpXX1uLmluc3RhbmNlfHwobi5pbnN0YW5jZU9mPXJ8fFopO2lmKHQpe3ZhciBzPSJldmVudHMiaW4gZT9lLmV2ZW50czoidXBkYXRlIjtBcnJheS5pc0FycmF5KHMpJiYocz1zLmpvaW4oIiAiKSk7aWYodHlwZW9mIHM9PSJzdHJpbmciKXt2YXIgbz17fTtzPXMuc3BsaXQoL1xzKy8pO2Zvcih2YXIgdT0wLGE7YT1zW3VdO3UrKylvW2FdPUcsbi5oYW5kbGVyPW99fXJldHVybiBufXJldHVybiBudWxsfWZ1bmN0aW9uIEsoZSx0KXtmb3IodmFyIG4gaW4gdCl0W25dJiZ0eXBlb2YgdFtuXT09Im9iamVjdCImJmUuc2V0U2F0ZWxsaXRlKG4sdFtuXSl9ZnVuY3Rpb24gcnQoZSx0KXt2YXIgbj10Lmxlbmd0aC0xO2UuY2hpbGROb2Rlcz10LGUuZmlyc3RDaGlsZD10WzBdfHxudWxsLGUubGFzdENoaWxkPXRbbl18fG51bGw7Zm9yKHZhciByLGk9bjtyPXRbaV07aS0tKXIubmV4dFNpYmxpbmc9dFtpKzFdfHxudWxsLHIucHJldmlvdXNTaWJsaW5nPXRbaS0xXXx8bnVsbCxlLmluc2VydEJlZm9yZShyLHIubmV4dFNpYmxpbmcpfWZ1bmN0aW9uIGl0KGUsdCl7Zm9yKHZhciBuPTAscjtyPXRbbl07bisrKXIuZ3JvdXBOb2RlLm5vZGVzLnB1c2gocik7dC5sZW5ndGg9MDtmb3IodmFyIGk9ZS5ncm91cGluZy5udWxsR3JvdXA7aTtpPWkubmV4dFNpYmxpbmcpe3ZhciBzPWkubm9kZXM7aS5maXJzdD1zWzBdfHxudWxsLGkubGFzdD1zW3MubGVuZ3RoLTFdfHxudWxsLHQucHVzaC5hcHBseSh0LHMpLGkuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2luc2VydGVkOnN9KX1yZXR1cm4gdH1mdW5jdGlvbiBzdChlLHQpe3ZhciBuO2lmKHR5cGVvZiBlLmNoaWxkRmFjdG9yeT09ImZ1bmN0aW9uIil7bj1lLmNoaWxkRmFjdG9yeSh0KTtpZihuIGluc3RhbmNlb2YgZS5jaGlsZENsYXNzKXJldHVybiBufXRocm93IG4/MTA6OX1uLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5DbGFzcyxsPW4ub2JqZWN0LmNvbXBsZXRlLGM9bi5hcnJheSxoPW4uYXJyYXkucmVtb3ZlLHA9bi5mbi4kdW5kZWYsZD1uLmdldHRlcix2PW4uZm4ubnVsbEdldHRlcixtPWYub25lRnVuY3Rpb25Qcm9wZXJ0eSxnPW4uZXZlbnQuY3JlYXRlLHk9bi5ldmVudC5ldmVudHMsYj1uLmRhdGEuU1VCU0NSSVBUSU9OLHc9bi5kYXRhLlNUQVRFLEU9bi5kYXRhLkFic3RyYWN0RGF0YSxTPW4uZGF0YS5PYmplY3QseD1uLmRhdGEuUmVhZE9ubHlEYXRhc2V0LFQ9bi5kYXRhLkRhdGFzZXQsTj1uLmRhdGEuRGF0YXNldFdyYXBwZXIsQz1hKyI6IE5vZGUgY2FuJ3QgYmUgaW5zZXJ0ZWQgYXQgc3BlY2lmaWVkIHBvaW50IGluIGhpZXJhcmNoeSIsaz1hKyI6IE5vZGUgd2FzIG5vdCBmb3VuZCIsTD1hKyI6IENoaWxkIG5vZGUgaGFzIHdyb25nIGNsYXNzIixBPWErIjogQ2hpbGQgbm9kZSBpcyBudWxsIixPPWErIjogT3BlcmF0aW9uIGlzIG5vdCBhbGxvd2VkIGJlY2F1c2Ugbm9kZSBpcyB1bmRlciBkYXRhU291cmNlIGNvbnRyb2wiLE09YSsiOiBPcGVyYXRpb24gaXMgbm90IGFsbG93ZWQgYmVjYXVzZSBub2RlIGlzIHVuZGVyIGRhdGFTb3VyY2UgYWRhcHRlciBjb250cm9sIixfPWErIjogTm9kZSBjYW4ndCBoYXMgb3duZXIgYW5kIHBhcmVudE5vZGUiLEQ9YSsiOiBOb2RlIGNhbid0IGhhcyBjaGlsZHJlbiBhbmQgZGF0YVNvdXJjZSBhcyBjaGlsZENsYXNzIGlzbid0IHNwZWNpZmllZCIsUD17QU5ZOiEwLE5PTkU6ITEsUEFSRU5UOiJwYXJlbnQiLE9XTkVSOiJvd25lciJ9LEg9e307Yi5hZGRQcm9wZXJ0eSgib3duZXIiKSxiLmFkZFByb3BlcnR5KCJkYXRhU291cmNlIik7dmFyIFE9Zi5jdXN0b21FeHRlbmRQcm9wZXJ0eSh7fSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09Sih0W25dKX0pLEc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5uYW1lLG49dGhpcy5jb25maWcscj0hbi5leGlzdHNJZnx8bi5leGlzdHNJZihlKSxpPWUuc2F0ZWxsaXRlW3RdO2lmKHIpaWYoaSluLmRlbGVnYXRlJiZpLnNldERlbGVnYXRlKG4uZGVsZWdhdGUoZSkpLG4uZGF0YVNvdXJjZSYmaS5zZXREYXRhU291cmNlKG4uZGF0YVNvdXJjZShlKSk7ZWxzZXtpPW4uaW5zdGFuY2U7aWYoIWkpe3ZhciBzLG89KHR5cGVvZiBuLmNvbmZpZz09ImZ1bmN0aW9uIj9uLmNvbmZpZyhlKTpuLmNvbmZpZyl8fHt9O28ub3duZXI9ZSxuLmRlbGVnYXRlJiYoby5hdXRvRGVsZWdhdGU9ITEsby5kZWxlZ2F0ZT1uLmRlbGVnYXRlKGUpKSxuLmRhdGFTb3VyY2UmJihvLmRhdGFTb3VyY2U9bi5kYXRhU291cmNlKGUpKSxpPW5ldyBuLmluc3RhbmNlT2YobyksaS5kZXN0cm95PUYsKHM9ZS5saXN0ZW4uc2F0ZWxsaXRlKSYmaS5hZGRIYW5kbGVyKHMsZSksKHM9ZS5saXN0ZW5bInNhdGVsbGl0ZToiK3RdKSYmaS5hZGRIYW5kbGVyKHMsZSl9ZWxzZSBuLmRlbGVnYXRlJiZpLnNldERlbGVnYXRlKG4uZGVsZWdhdGUoZSkpLG4uZGF0YVNvdXJjZSYmaS5zZXREYXRhU291cmNlKG4uZGF0YVNvdXJjZShlKSk7ZS5zYXRlbGxpdGUuX19hdXRvX19bdF0uaW5zdGFuY2U9aSxlLnNldFNhdGVsbGl0ZSh0LGksITApfWVsc2UgaSYmKG4uaW5zdGFuY2UmJihuLmRlbGVnYXRlJiZpLnNldERlbGVnYXRlKCksbi5kYXRhU291cmNlJiZpLnNldERhdGFTb3VyY2UoKSksZS5zYXRlbGxpdGUuX19hdXRvX19bdF0uaW5zdGFuY2U9bnVsbCxlLnNldFNhdGVsbGl0ZSh0LG51bGwsITApKX0sWT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3duZXIuc2V0U2F0ZWxsaXRlKHRoaXMubmFtZSxudWxsKX19LFo9ZihTLHtjbGFzc05hbWU6YSsiLkFic3RyYWN0Tm9kZSIsc3Vic2NyaWJlVG86Uy5wcm90b3R5cGUuc3Vic2NyaWJlVG8rYi5EQVRBU09VUkNFLGlzU3luY1JlcXVpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PXcuVU5ERUZJTkVEfHx0aGlzLnN0YXRlPT13LkRFUFJFQ0FURUR9LHN5bmNFdmVudHM6e2FjdGl2ZUNoYW5nZWQ6ITF9LGVtaXRfdXBkYXRlOmZ1bmN0aW9uKGUpe1MucHJvdG90eXBlLmVtaXRfdXBkYXRlLmNhbGwodGhpcyxlKTt2YXIgdD10aGlzLnBhcmVudE5vZGU7dCYmKHQubWF0Y2hGdW5jdGlvbiYmdGhpcy5tYXRjaCh0Lm1hdGNoRnVuY3Rpb24pLHQuaW5zZXJ0QmVmb3JlKHRoaXMsdGhpcy5uZXh0U2libGluZykpfSxsaXN0ZW46e293bmVyOntkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vd25lclNhdGVsbGl0ZU5hbWV8fHRoaXMuc2V0T3duZXIoKX19fSxhdXRvRGVsZWdhdGU6UC5OT05FLG5hbWU6bnVsbCxjaGlsZE5vZGVzOm51bGwsZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQ6ZygiY2hpbGROb2Rlc01vZGlmaWVkIiwiZGVsdGEiKSYmZnVuY3Rpb24oZSl7eS5jaGlsZE5vZGVzTW9kaWZpZWQuY2FsbCh0aGlzLGUpO3ZhciB0PXRoaXMubGlzdGVuLmNoaWxkTm9kZSxuO2lmKHQpe2lmKG49ZS5pbnNlcnRlZClmb3IodmFyIHI9MCxpO2k9bltyXTtyKyspaS5hZGRIYW5kbGVyKHQsdGhpcyk7aWYobj1lLmRlbGV0ZWQpZm9yKHZhciByPTAsaTtpPW5bcl07cisrKWkucmVtb3ZlSGFuZGxlcih0LHRoaXMpfX0sY2hpbGROb2Rlc1N0YXRlOncuVU5ERUZJTkVELGVtaXRfY2hpbGROb2Rlc1N0YXRlQ2hhbmdlZDpnKCJjaGlsZE5vZGVzU3RhdGVDaGFuZ2VkIiwib2xkU3RhdGUiKSxjaGlsZENsYXNzOlosZGF0YVNvdXJjZTpudWxsLGVtaXRfZGF0YVNvdXJjZUNoYW5nZWQ6ZygiZGF0YVNvdXJjZUNoYW5nZWQiLCJvbGREYXRhU291cmNlIiksZGF0YVNvdXJjZUFkYXB0ZXJfOm51bGwsZGF0YVNvdXJjZU1hcF86bnVsbCxkZXN0cm95RGF0YVNvdXJjZU1lbWJlcjohMCxwYXJlbnROb2RlOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxwcmV2aW91c1NpYmxpbmc6bnVsbCxmaXJzdENoaWxkOm51bGwsbGFzdENoaWxkOm51bGwsc29ydGluZzp2LHNvcnRpbmdEZXNjOiExLGVtaXRfc29ydGluZ0NoYW5nZWQ6Zygic29ydGluZ0NoYW5nZWQiLCJvbGRTb3J0aW5nIiwib2xkU29ydGluZ0Rlc2MiKSxncm91cGluZ0NsYXNzOm51bGwsZ3JvdXBpbmc6bnVsbCxlbWl0X2dyb3VwaW5nQ2hhbmdlZDpnKCJncm91cGluZ0NoYW5nZWQiLCJvbGRHcm91cGluZyIpLGdyb3VwTm9kZTpudWxsLGdyb3VwSWQ6TmFOLHNhdGVsbGl0ZTpRLG93bmVyU2F0ZWxsaXRlTmFtZTpudWxsLGVtaXRfc2F0ZWxsaXRlQ2hhbmdlZDpnKCJzYXRlbGxpdGVDaGFuZ2VkIiwibmFtZSIsIm9sZFNhdGVsbGl0ZSIpLG93bmVyOm51bGwsZW1pdF9vd25lckNoYW5nZWQ6Zygib3duZXJDaGFuZ2VkIiwib2xkT3duZXIiKSxpbml0OmZ1bmN0aW9uKCl7Uy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO3ZhciBlPXRoaXMuY2hpbGROb2Rlcyx0PXRoaXMuZGF0YVNvdXJjZTtlJiYodGhpcy5jaGlsZE5vZGVzPW51bGwpLHQmJih0aGlzLmRhdGFTb3VyY2U9bnVsbCk7dmFyIG49dGhpcy5ncm91cGluZztuJiYodGhpcy5ncm91cGluZz1udWxsLHRoaXMuc2V0R3JvdXBpbmcobikpLHRoaXMuY2hpbGRDbGFzcyYmKHRoaXMuY2hpbGROb2Rlcz1bXSx0P3RoaXMuc2V0RGF0YVNvdXJjZSh0KTplJiZ0aGlzLnNldENoaWxkTm9kZXMoZSkpO3ZhciByPXRoaXMuc2F0ZWxsaXRlO3IhPT1RJiYodGhpcy5zYXRlbGxpdGU9USxLKHRoaXMscikpO3ZhciBpPXRoaXMub3duZXI7aSYmKHRoaXMub3duZXI9bnVsbCx0aGlzLnNldE93bmVyKGkpKX0sc2V0Q2hpbGROb2Rlc1N0YXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG49U3RyaW5nKGUpLHI9dGhpcy5jaGlsZE5vZGVzU3RhdGU7aWYoIXcudmFsdWVzW25dKXRocm93IDc7aWYociE9bnx8ci5kYXRhIT10KXRoaXMuY2hpbGROb2Rlc1N0YXRlPU9iamVjdChuKSx0aGlzLmNoaWxkTm9kZXNTdGF0ZS5kYXRhPXQsdGhpcy5lbWl0X2NoaWxkTm9kZXNTdGF0ZUNoYW5nZWQocil9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUpe30saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsdCl7fSxyZW1vdmVDaGlsZDpmdW5jdGlvbihlKXt9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihlLHQpe30sY2xlYXI6ZnVuY3Rpb24oZSl7fSxzZXRDaGlsZE5vZGVzOmZ1bmN0aW9uKGUpe30sc2V0R3JvdXBpbmc6ZnVuY3Rpb24oZSx0KXt9LHNldFNvcnRpbmc6ZnVuY3Rpb24oZSx0KXt9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24oZSl7fSxzZXRPd25lcjpmdW5jdGlvbihlKXtpZighZXx8ZSBpbnN0YW5jZW9mIFo9PTApZT1udWxsO2lmKGUmJnRoaXMucGFyZW50Tm9kZSl0aHJvdyA4O3ZhciB0PXRoaXMub3duZXI7aWYodCE9PWUpe3ZhciBuPXRoaXMubGlzdGVuLm93bmVyO2lmKHQpe2lmKHRoaXMub3duZXJTYXRlbGxpdGVOYW1lJiZ0LnNhdGVsbGl0ZS5fX2F1dG9fXyYmdGhpcy5vd25lclNhdGVsbGl0ZU5hbWUgaW4gdC5zYXRlbGxpdGUuX19hdXRvX18pcmV0dXJuO24mJnQucmVtb3ZlSGFuZGxlcihuLHRoaXMpLHRoaXMub3duZXJTYXRlbGxpdGVOYW1lJiYodGhpcy5vd25lcj1udWxsLHQuc2V0U2F0ZWxsaXRlKHRoaXMub3duZXJTYXRlbGxpdGVOYW1lLG51bGwpKX1lJiZuJiZlLmFkZEhhbmRsZXIobix0aGlzKSx0aGlzLm93bmVyPWUsdGhpcy5lbWl0X293bmVyQ2hhbmdlZCh0KSwodGhpcy5hdXRvRGVsZWdhdGU9PVAuT1dORVJ8fHRoaXMuYXV0b0RlbGVnYXRlPT09UC5BTlkpJiZ0aGlzLnNldERlbGVnYXRlKGUpfX0sc2V0U2F0ZWxsaXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnNhdGVsbGl0ZVtlXXx8bnVsbCxpPXRoaXMuc2F0ZWxsaXRlLl9fYXV0b19fLHM9aSYmaVtlXSxvPW4mJnM7aWYobyl0PXMuaW5zdGFuY2Uscy5jb25maWcuaW5zdGFuY2UmJnQmJmRlbGV0ZSBzLmNvbmZpZy5pbnN0YW5jZS5zZXRPd25lcjtlbHNle3Q9Sih0KTtpZih0JiZ0Lm93bmVyJiZpJiZ0Lm93bmVyU2F0ZWxsaXRlTmFtZSYmaVt0Lm93bmVyU2F0ZWxsaXRlTmFtZV0pcmV0dXJuO3MmJihkZWxldGUgaVtlXSxzLmNvbmZpZy5pbnN0YW5jZSYmcy5jb25maWcuaW5zdGFuY2UucmVtb3ZlSGFuZGxlcihZLHMpLHMuY29uZmlnLmhhbmRsZXImJnRoaXMucmVtb3ZlSGFuZGxlcihzLmNvbmZpZy5oYW5kbGVyLHMpKX1pZihyIT09dCl7dmFyIHU9dGhpcy5saXN0ZW4uc2F0ZWxsaXRlLGE9dGhpcy5saXN0ZW5bInNhdGVsbGl0ZToiK2VdLGY7ciYmKGRlbGV0ZSB0aGlzLnNhdGVsbGl0ZVtlXSxyLm93bmVyU2F0ZWxsaXRlTmFtZT1udWxsLHMmJnIuZGVzdHJveT09PUY/Zj1yOih1JiZyLnJlbW92ZUhhbmRsZXIodSx0aGlzKSxhJiZyLnJlbW92ZUhhbmRsZXIoYSx0aGlzKSxyLnNldE93bmVyKG51bGwpKSxvJiYhdCYmcy5jb25maWcuaW5zdGFuY2UmJihzLmNvbmZpZy5pbnN0YW5jZS5zZXRPd25lcj1qKSk7aWYodCl7aWYodCBpbnN0YW5jZW9mIFo9PTApe3ZhciBzPXtvd25lcjp0aGlzLG5hbWU6ZSxjb25maWc6dCxpbnN0YW5jZTpudWxsfTt0LmhhbmRsZXImJnRoaXMuYWRkSGFuZGxlcih0LmhhbmRsZXIscyksdC5pbnN0YW5jZSYmKHQuaW5zdGFuY2UuYWRkSGFuZGxlcihZLHMpLHQuaW5zdGFuY2Uuc2V0T3duZXI9aiksaXx8KHRoaXMuc2F0ZWxsaXRlPT09USYmKHRoaXMuc2F0ZWxsaXRlPXt9KSxpPXRoaXMuc2F0ZWxsaXRlLl9fYXV0b19fPXt9KSxpW2VdPXMsRy5jYWxsKHMsdGhpcyksIXMuaW5zdGFuY2UmJnImJnRoaXMuZW1pdF9zYXRlbGxpdGVDaGFuZ2VkKGUsciksZiYmKGRlbGV0ZSBmLmRlc3Ryb3ksZi5kZXN0cm95KCkpO3JldHVybn1pZih0Lm93bmVyIT09dGhpcyl7aWYocyYmcy5jb25maWcuZGVsZWdhdGUpe3ZhciBsPXQuYXV0b0RlbGVnYXRlO3QuYXV0b0RlbGVnYXRlPSExLHQuc2V0T3duZXIodGhpcyksdC5hdXRvRGVsZWdhdGU9bH1lbHNlIHQuc2V0T3duZXIodGhpcyk7aWYodC5vd25lciE9PXRoaXMpcmV0dXJuO3UmJnQuYWRkSGFuZGxlcih1LHRoaXMpLGEmJnQuYWRkSGFuZGxlcihhLHRoaXMpfWVsc2UgdC5vd25lclNhdGVsbGl0ZU5hbWUmJihkZWxldGUgdGhpcy5zYXRlbGxpdGVbdC5vd25lclNhdGVsbGl0ZU5hbWVdLHRoaXMuZW1pdF9zYXRlbGxpdGVDaGFuZ2VkKHQub3duZXJTYXRlbGxpdGVOYW1lLHQpKTt0aGlzLnNhdGVsbGl0ZT09USYmKHRoaXMuc2F0ZWxsaXRlPXt9KSx0aGlzLnNhdGVsbGl0ZVtlXT10LHQub3duZXJTYXRlbGxpdGVOYW1lPWV9dGhpcy5lbWl0X3NhdGVsbGl0ZUNoYW5nZWQoZSxyKSxmJiYoZGVsZXRlIGYuZGVzdHJveSxmLmRlc3Ryb3koKSl9fSxnZXRDaGlsZE5vZGVzRGF0YXNldDpmdW5jdGlvbigpe3JldHVybiBIW3RoaXMuYmFzaXNPYmplY3RJZF18fG5ldyBsdCh7c291cmNlTm9kZTp0aGlzfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5kYXRhU291cmNlfHx0aGlzLmRhdGFTb3VyY2VBZGFwdGVyXz90aGlzLnNldERhdGFTb3VyY2UoKTp0aGlzLmZpcnN0Q2hpbGQmJnRoaXMuY2xlYXIoKSx0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKSx0aGlzLmdyb3VwaW5nJiYodGhpcy5ncm91cGluZy5zZXRPd25lcigpLHRoaXMuZ3JvdXBpbmc9bnVsbCksdGhpcy5vd25lciYmdGhpcy5zZXRPd25lcigpO3ZhciBlPXRoaXMuc2F0ZWxsaXRlO2lmKGUhPT1RKXt2YXIgdD1lLl9fYXV0b19fO2RlbGV0ZSBlLl9fYXV0b19fO2Zvcih2YXIgbiBpbiB0KXRbbl0uY29uZmlnLmluc3RhbmNlJiYhdFtuXS5pbnN0YW5jZSYmdFtuXS5jb25maWcuaW5zdGFuY2UuZGVzdHJveSgpO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dO3Iub3duZXI9bnVsbCxyLm93bmVyU2F0ZWxsaXRlTmFtZT1udWxsLHIuZGVzdHJveT09PUYmJmRlbGV0ZSByLmRlc3Ryb3ksci5kZXN0cm95KCl9dGhpcy5zYXRlbGxpdGU9bnVsbH10aGlzLmNoaWxkTm9kZXM9bnVsbCx0aGlzLnBhcmVudE5vZGU9bnVsbCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmZpcnN0Q2hpbGQ9bnVsbCx0aGlzLmxhc3RDaGlsZD1udWxsfX0pLGV0PWYoWix7Y2xhc3NOYW1lOmErIi5QYXJ0aXRpb25Ob2RlIixhdXRvRGVzdHJveUlmRW1wdHk6ITEsbm9kZXM6bnVsbCxmaXJzdDpudWxsLGxhc3Q6bnVsbCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlcz1bXSxaLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGluc2VydDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubm9kZXMscj10P24uaW5kZXhPZih0KTotMTtyPT0tMT8obi5wdXNoKGUpLHRoaXMubGFzdD1lKTpuLnNwbGljZShyLDAsZSksdGhpcy5maXJzdD1uWzBdLGUuZ3JvdXBOb2RlPXRoaXMsdGhpcy5lbWl0X2NoaWxkTm9kZXNNb2RpZmllZCh7aW5zZXJ0ZWQ6W2VdfSl9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm5vZGVzO2godCxlKSYmKHRoaXMuZmlyc3Q9dFswXXx8bnVsbCx0aGlzLmxhc3Q9dFt0Lmxlbmd0aC0xXXx8bnVsbCxlLmdyb3VwTm9kZT1udWxsLHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6W2VdfSkpLCF0aGlzLmZpcnN0JiZ0aGlzLmF1dG9EZXN0cm95SWZFbXB0eSYmdGhpcy5kZXN0cm95KCl9LGNsZWFyOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyc3QpcmV0dXJuO3ZhciBlPXRoaXMubm9kZXM7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLT4wOyllW3RdLmdyb3VwTm9kZT1udWxsO3RoaXMubm9kZXM9W10sdGhpcy5maXJzdD1udWxsLHRoaXMubGFzdD1udWxsLHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6ZX0pLHRoaXMuYXV0b0Rlc3Ryb3lJZkVtcHR5JiZ0aGlzLmRlc3Ryb3koKX0sZGVzdHJveTpmdW5jdGlvbigpe1oucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLm5vZGVzPW51bGwsdGhpcy5maXJzdD1udWxsLHRoaXMubGFzdD1udWxsfX0pLHR0PXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxyPVtdO2lmKHQuZGVsZXRlZCl7bi5kZWxldGVkPXI7aWYodGhpcy5jaGlsZE5vZGVzLmxlbmd0aD09dC5kZWxldGVkLmxlbmd0aCl7cj1jKHRoaXMuY2hpbGROb2Rlcyk7Zm9yKHZhciBpPTAscztzPXJbaV07aSsrKXEocyk7dmFyIG89dGhpcy5kYXRhU291cmNlO3RoaXMuZGF0YVNvdXJjZT1udWxsLHRoaXMuY2xlYXIoITApLHRoaXMuZGF0YVNvdXJjZT1vLHRoaXMuZGF0YVNvdXJjZU1hcF89e319ZWxzZSBmb3IodmFyIGk9MCx1O3U9dC5kZWxldGVkW2ldO2krKyl7dmFyIGE9dS5iYXNpc09iamVjdElkLGY9dGhpcy5kYXRhU291cmNlTWFwX1thXTtxKGYpLGRlbGV0ZSB0aGlzLmRhdGFTb3VyY2VNYXBfW2FdLHRoaXMucmVtb3ZlQ2hpbGQoZiksci5wdXNoKGYpfX1pZih0Lmluc2VydGVkKXtuLmluc2VydGVkPVtdO2Zvcih2YXIgaT0wLHU7dT10Lmluc2VydGVkW2ldO2krKyl7dmFyIGw9c3QodGhpcyx7ZGVsZWdhdGU6dX0pO0kobCksdGhpcy5kYXRhU291cmNlTWFwX1t1LmJhc2lzT2JqZWN0SWRdPWwsbi5pbnNlcnRlZC5wdXNoKGwpLHRoaXMuZmlyc3RDaGlsZCYmdGhpcy5pbnNlcnRCZWZvcmUobCl9fXRoaXMuZmlyc3RDaGlsZD90aGlzLmVtaXRfY2hpbGROb2Rlc01vZGlmaWVkKG4pOnRoaXMuc2V0Q2hpbGROb2RlcyhuLmluc2VydGVkKTtpZih0aGlzLmRlc3Ryb3lEYXRhU291cmNlTWVtYmVyJiZyLmxlbmd0aClmb3IodmFyIGk9MCx1O3U9cltpXTtpKyspdS5kZXN0cm95KCl9LHN0YXRlQ2hhbmdlZDpmdW5jdGlvbihlKXt0aGlzLnNldENoaWxkTm9kZXNTdGF0ZShlLnN0YXRlLGUuc3RhdGUuZGF0YSl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7dGhpcy5kYXRhU291cmNlQWRhcHRlcl98fHRoaXMuc2V0RGF0YVNvdXJjZSgpfX0sbnQ9e2RhdGFzZXRDaGFuZ2VkOmZ1bmN0aW9uKGUpe3RoaXMuc2V0RGF0YVNvdXJjZShlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0RGF0YVNvdXJjZSgpfX0sb3Q9e2NoaWxkQ2xhc3M6WixjaGlsZEZhY3Rvcnk6bnVsbCxsaXN0ZW46e2RhdGFTb3VyY2U6dHR9LGdldENoaWxkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uYXJyYXkuc2VhcmNoKHRoaXMuY2hpbGROb2RlcyxlLHQpfSxnZXRDaGlsZEJ5TmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDaGlsZChlLCJuYW1lIil9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShlKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuY2hpbGRDbGFzcyl0aHJvdyAxMTtpZihlLmZpcnN0Q2hpbGQpe3ZhciBuPXRoaXM7d2hpbGUobj1uLnBhcmVudE5vZGUpaWYobj09PWUpdGhyb3cgMTJ9dmFyIHI9ZSYmZSBpbnN0YW5jZW9mIHRoaXMuY2hpbGRDbGFzcztpZih0aGlzLmRhdGFTb3VyY2Upe2lmKCFyfHwhZS5kZWxlZ2F0ZXx8dGhpcy5kYXRhU291cmNlTWFwX1tlLmRlbGVnYXRlLmJhc2lzT2JqZWN0SWRdIT09ZSl0aHJvdyAxM31lbHNlIGlmKHRoaXMuZGF0YVNvdXJjZUFkYXB0ZXJfKXRocm93IDE0O3J8fChlPXN0KHRoaXMsZSBpbnN0YW5jZW9mIFM/e2RlbGVnYXRlOmV9OmUpKTtpZihlLm93bmVyKXRocm93IDE1O3ZhciBpPWUucGFyZW50Tm9kZT09PXRoaXMscz10aGlzLmNoaWxkTm9kZXMsbz10aGlzLmdyb3VwaW5nLHUsYT1lLmdyb3VwTm9kZSxmPW51bGwsbD10aGlzLnNvcnRpbmcsYyxwPSExLGQsbT0tMSxnLHk7aSYmKGc9ZS5uZXh0U2libGluZyx5PWUucHJldmlvdXNTaWJsaW5nKSxsIT09diYmKHQ9bnVsbCxjPXRoaXMuc29ydGluZ0Rlc2MsZD1sKGUpfHwwLGkmJihkPT09ZS5zb3J0aW5nVmFsdWU/cD0hMDooIWd8fChjP2cuc29ydGluZ1ZhbHVlPD1kOmcuc29ydGluZ1ZhbHVlPj1kKSkmJigheXx8KGM/eS5zb3J0aW5nVmFsdWU+PWQ6eS5zb3J0aW5nVmFsdWU8PWQpKSYmKGUuc29ydGluZ1ZhbHVlPWQscD0hMCkpKTtpZihvKXt2YXIgbjtmPW8uZ2V0R3JvdXBOb2RlKGUsITApLHU9Zi5ub2RlcztpZihhPT09ZilpZihwfHxsPT09diYmZz09PXQpcmV0dXJuIGU7bCE9PXY/YT09PWYmJnA/ZyYmZy5ncm91cE5vZGU9PT1mP209dS5pbmRleE9mKGcpOm09dS5sZW5ndGg6KG09WCh1LGQsUixjKSxlLnNvcnRpbmdWYWx1ZT1kKTp0JiZ0Lmdyb3VwTm9kZT09PWY/bT11LmluZGV4T2YodCk6bT11Lmxlbmd0aDtpZihtPHUubGVuZ3RoKXQ9dVttXTtlbHNlIGlmKGYubGFzdCl0PWYubGFzdC5uZXh0U2libGluZztlbHNle249Zix0PW51bGw7d2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKHQ9bi5maXJzdClicmVha31pZihlPT09dHx8aSYmZz09PXQpcmV0dXJuIGEhPT1mJiYoYSYmYS5yZW1vdmUoZSksZi5pbnNlcnQoZSx0KSksZTttPS0xfWVsc2UgaWYobCE9PXYpe2lmKHApcmV0dXJuIGU7bT1YKHMsZCxSLGMpLHQ9c1ttXSxlLnNvcnRpbmdWYWx1ZT1kO2lmKGU9PT10fHxpJiZnPT09dClyZXR1cm4gZX1lbHNle2lmKHQmJnQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgMTY7aWYoaSl7aWYoZz09PXQpcmV0dXJuIGU7aWYoZT09PXQpdGhyb3cgMTd9fWlmKGkpe2c/KGcucHJldmlvdXNTaWJsaW5nPXksZS5uZXh0U2libGluZz1udWxsKTp0aGlzLmxhc3RDaGlsZD15LHk/KHkubmV4dFNpYmxpbmc9ZyxlLnByZXZpb3VzU2libGluZz1udWxsKTp0aGlzLmZpcnN0Q2hpbGQ9ZztpZihtPT0tMSloKHMsZSk7ZWxzZXt2YXIgYj1zLmluZGV4T2YoZSk7cy5zcGxpY2UoYiwxKSxtLT1iPG19YSYmKGEucmVtb3ZlKGUpLGE9bnVsbCl9ZWxzZSBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTthIT1mJiZmLmluc2VydChlLHQpO2lmKHQpe209PS0xJiYobT1zLmluZGV4T2YodCkpO2lmKG09PS0xKXRocm93IDE4O2UubmV4dFNpYmxpbmc9dCxzLnNwbGljZShtLDAsZSl9ZWxzZSBtPXMubGVuZ3RoLHMucHVzaChlKSx0PXtwcmV2aW91c1NpYmxpbmc6dGhpcy5sYXN0Q2hpbGR9LHRoaXMubGFzdENoaWxkPWU7cmV0dXJuIGUucGFyZW50Tm9kZT10aGlzLGUucHJldmlvdXNTaWJsaW5nPXQucHJldmlvdXNTaWJsaW5nLG09PTA/dGhpcy5maXJzdENoaWxkPWU6dC5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmc9ZSx0LnByZXZpb3VzU2libGluZz1lLGl8fChWKGUsZS5jb250ZXh0U2VsZWN0aW9uLHRoaXMuc2VsZWN0aW9ufHx0aGlzLmNvbnRleHRTZWxlY3Rpb24sITApLCQoZSx0aGlzLmRpc2FibGVkfHx0aGlzLmNvbnRleHREaXNhYmxlZCksKGUudW5kZXJNYXRjaF98fHRoaXMubWF0Y2hGdW5jdGlvbikmJmUubWF0Y2gmJmUubWF0Y2godGhpcy5tYXRjaEZ1bmN0aW9uKSwoZS5hdXRvRGVsZWdhdGU9PVAuUEFSRU5UfHxlLmF1dG9EZWxlZ2F0ZT09PVAuQU5ZKSYmZS5zZXREZWxlZ2F0ZSh0aGlzKSx0aGlzLmRhdGFTb3VyY2V8fHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2luc2VydGVkOltlXX0pLGUubGlzdGVuLnBhcmVudE5vZGUmJnRoaXMuYWRkSGFuZGxlcihlLmxpc3Rlbi5wYXJlbnROb2RlLGUpKSxlfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihlKXtpZighZXx8ZS5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyAxOTtpZihlIGluc3RhbmNlb2YgdGhpcy5jaGlsZENsYXNzPT0wKXRocm93IDIwO2lmKHRoaXMuZGF0YVNvdXJjZSl7aWYodGhpcy5kYXRhU291cmNlLmhhcyhlLmRlbGVnYXRlKSl0aHJvdyAyMX1lbHNlIGlmKHRoaXMuZGF0YVNvdXJjZUFkYXB0ZXJfKXRocm93IDIyO3ZhciB0PXRoaXMuY2hpbGROb2Rlcy5pbmRleE9mKGUpO2lmKHQ9PS0xKXRocm93IDIzO3JldHVybiB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKHQsMSksZS5wYXJlbnROb2RlPW51bGwsZS5uZXh0U2libGluZz9lLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZD1lLnByZXZpb3VzU2libGluZyxlLnByZXZpb3VzU2libGluZz9lLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nOnRoaXMuZmlyc3RDaGlsZD1lLm5leHRTaWJsaW5nLGUubmV4dFNpYmxpbmc9bnVsbCxlLnByZXZpb3VzU2libGluZz1udWxsLGUubGlzdGVuLnBhcmVudE5vZGUmJnRoaXMucmVtb3ZlSGFuZGxlcihlLmxpc3Rlbi5wYXJlbnROb2RlLGUpLFYoZSxlLmNvbnRleHRTZWxlY3Rpb24sbnVsbCwhMCksZS5ncm91cE5vZGUmJmUuZ3JvdXBOb2RlLnJlbW92ZShlKSx0aGlzLmRhdGFTb3VyY2V8fHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6W2VdfSksKGUuYXV0b0RlbGVnYXRlPT1QLlBBUkVOVHx8ZS5hdXRvRGVsZWdhdGU9PT1QLkFOWSkmJmUuc2V0RGVsZWdhdGUoKSxlfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmRhdGFTb3VyY2UpdGhyb3cgMjQ7aWYodGhpcy5kYXRhU291cmNlQWRhcHRlcl8pdGhyb3cgMjU7aWYodD09bnVsbHx8dC5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyAyNjtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoZSx0KSx0aGlzLnJlbW92ZUNoaWxkKHQpfSxjbGVhcjpmdW5jdGlvbihlKXtpZih0aGlzLmRhdGFTb3VyY2UmJnRoaXMuZGF0YVNvdXJjZS5pdGVtQ291bnQpdGhyb3cgMjc7aWYoIXRoaXMuZmlyc3RDaGlsZClyZXR1cm47ZSYmVih0aGlzLHRoaXMuc2VsZWN0aW9ufHx0aGlzLmNvbnRleHRTZWxlY3Rpb24sbnVsbCwhMSwhMCk7dmFyIHQ9dGhpcy5jaGlsZE5vZGVzO3RoaXMuZmlyc3RDaGlsZD1udWxsLHRoaXMubGFzdENoaWxkPW51bGwsdGhpcy5jaGlsZE5vZGVzPVtdLHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6dH0pO2Zvcih2YXIgbj10Lmxlbmd0aDtuLS0+MDspe3ZhciByPXRbbl07ci5saXN0ZW4ucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLnJlbW92ZUhhbmRsZXIoci5saXN0ZW4ucGFyZW50Tm9kZSxyKSxyLnBhcmVudE5vZGU9bnVsbCxyLmdyb3VwTm9kZT1udWxsLGU/KHIubmV4dFNpYmxpbmc9bnVsbCxyLnByZXZpb3VzU2libGluZz1udWxsLChyLmF1dG9EZWxlZ2F0ZT09UC5QQVJFTlR8fHIuYXV0b0RlbGVnYXRlPT09UC5BTlkpJiZyLnNldERlbGVnYXRlKCkpOnIuZGVzdHJveSgpfWlmKHRoaXMuZ3JvdXBpbmcpZm9yKHZhciB0PXRoaXMuZ3JvdXBpbmcuY2hpbGROb2RlcyxuPXQubGVuZ3RoLTEsaTtpPXRbbl07bi0tKWkuY2xlYXIoKX0sc2V0Q2hpbGROb2RlczpmdW5jdGlvbihlLHQpeyF0aGlzLmRhdGFTb3VyY2UmJiF0aGlzLmRhdGFTb3VyY2VBZGFwdGVyXyYmdGhpcy5jbGVhcih0KTtpZihlKXsibGVuZ3RoImluIGU9PTAmJihlPVtlXSk7aWYoZS5sZW5ndGgpe3ZhciBuPXRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQ7dGhpcy5lbWl0X2NoaWxkTm9kZXNNb2RpZmllZD1wO2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyl0aGlzLmluc2VydEJlZm9yZShlW3JdKTt0aGlzLmVtaXRfY2hpbGROb2Rlc01vZGlmaWVkPW4sdGhpcy5lbWl0X2NoaWxkTm9kZXNNb2RpZmllZCh7aW5zZXJ0ZWQ6dGhpcy5jaGlsZE5vZGVzfSl9fX0sc2V0RGF0YVNvdXJjZTpmdW5jdGlvbihlKXtpZighdGhpcy5jaGlsZENsYXNzKXRocm93IDI4O2U9bi5kYXRhLnJlc29sdmVEYXRhc2V0KHRoaXMsdGhpcy5zZXREYXRhU291cmNlLGUsImRhdGFTb3VyY2VBZGFwdGVyXyIpO2lmKHRoaXMuZGF0YVNvdXJjZSE9PWUpe3ZhciB0PXRoaXMuZGF0YVNvdXJjZSxyPXRoaXMubGlzdGVuLmRhdGFTb3VyY2U7dCYmKHRoaXMuZGF0YVNvdXJjZU1hcF89bnVsbCx0aGlzLmRhdGFTb3VyY2U9bnVsbCxyJiZ0LnJlbW92ZUhhbmRsZXIocix0aGlzKSk7aWYodGhpcy5maXJzdENoaWxkKXtpZih0KWZvcih2YXIgaT0wLHM7cz10aGlzLmNoaWxkTm9kZXNbaV07aSsrKXEocyk7dGhpcy5jbGVhcigpfXRoaXMuZGF0YVNvdXJjZT1lLGU/KHRoaXMuZGF0YVNvdXJjZU1hcF89e30sdGhpcy5zZXRDaGlsZE5vZGVzU3RhdGUoZS5zdGF0ZSxlLnN0YXRlLmRhdGEpLHImJihlLmFkZEhhbmRsZXIocix0aGlzKSxlLml0ZW1Db3VudCYmci5pdGVtc0NoYW5nZWQmJnIuaXRlbXNDaGFuZ2VkLmNhbGwodGhpcyxlLHtpbnNlcnRlZDplLmdldEl0ZW1zKCl9KSkpOnRoaXMuc2V0Q2hpbGROb2Rlc1N0YXRlKHcuVU5ERUZJTkVEKSx0aGlzLmVtaXRfZGF0YVNvdXJjZUNoYW5nZWQodCl9fSxzZXRHcm91cGluZzpmdW5jdGlvbihlLHQpe2lmKHR5cGVvZiBlPT0iZnVuY3Rpb24ifHx0eXBlb2YgZT09InN0cmluZyIpZT17cnVsZTplfTtlIGluc3RhbmNlb2YgYXQ9PTAmJihlPWUmJnR5cGVvZiBlPT0ib2JqZWN0Ij9uZXcgdGhpcy5ncm91cGluZ0NsYXNzKGUpOm51bGwpO2lmKHRoaXMuZ3JvdXBpbmchPT1lKXt2YXIgbj10aGlzLmdyb3VwaW5nLHI7aWYobil7dGhpcy5ncm91cGluZz1udWxsO2lmKCFlJiZ0aGlzLmZpcnN0Q2hpbGQpe3RoaXMuc29ydGluZyE9PXY/cj1XKHRoaXMpOnI9dGhpcy5jaGlsZE5vZGVzLG4ubnVsbEdyb3VwLmNsZWFyKCk7dmFyIGk9bi5jaGlsZE5vZGVzLnNsaWNlKDApO2Zvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKWlbc10uY2xlYXIoKTtydCh0aGlzLHIpfW4uc2V0T3duZXIoKX1pZihlKXt0aGlzLmdyb3VwaW5nPWUsZS5zZXRPd25lcih0aGlzKTtpZih0aGlzLmZpcnN0Q2hpbGQpe3RoaXMuc29ydGluZyE9PXY/cj1XKHRoaXMpOnI9dGhpcy5jaGlsZE5vZGVzO2Zvcih2YXIgcz0wLG87bz1yW3NdO3MrKylvLmdyb3VwTm9kZT10aGlzLmdyb3VwaW5nLmdldEdyb3VwTm9kZShvLCEwKTtyPWl0KHRoaXMscikscnQodGhpcyxyKX19dGhpcy5lbWl0X2dyb3VwaW5nQ2hhbmdlZChuKX19LHNldFNvcnRpbmc6ZnVuY3Rpb24oZSx0KXtlPWQoZSksdD0hIXQ7aWYodGhpcy5zb3J0aW5nIT09ZXx8dGhpcy5zb3J0aW5nRGVzYyE9ISF0KXt2YXIgbj10aGlzLnNvcnRpbmcscj10aGlzLnNvcnRpbmdEZXNjO3RoaXMuc29ydGluZz1lLHRoaXMuc29ydGluZ0Rlc2M9ISF0O2lmKGUhPT12JiZ0aGlzLmZpcnN0Q2hpbGQpe3ZhciBpPVtdLHM7Zm9yKHZhciBvPXRoaXMuZmlyc3RDaGlsZDtvO289by5uZXh0U2libGluZylvLnNvcnRpbmdWYWx1ZT1lKG8pfHwwO2lmKHRoaXMuZ3JvdXBpbmcpZm9yKHZhciB1PXRoaXMuZ3JvdXBpbmcubnVsbEdyb3VwO3U7dT11Lm5leHRTaWJsaW5nKXM9dS5ub2Rlcz1XKHtjaGlsZE5vZGVzOnUubm9kZXMsc29ydGluZ0Rlc2M6dGhpcy5zb3J0aW5nRGVzY30pLHUuZmlyc3Q9c1swXXx8bnVsbCx1Lmxhc3Q9c1tzLmxlbmd0aC0xXXx8bnVsbCxpLnB1c2guYXBwbHkoaSxzKTtlbHNlIGk9Vyh0aGlzKTtydCh0aGlzLGkpfXRoaXMuZW1pdF9zb3J0aW5nQ2hhbmdlZChuLHIpfX0sc2V0TWF0Y2hGdW5jdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLm1hdGNoRnVuY3Rpb24hPWUpe3ZhciB0PXRoaXMubWF0Y2hGdW5jdGlvbjt0aGlzLm1hdGNoRnVuY3Rpb249ZTtmb3IodmFyIG49dGhpcy5sYXN0Q2hpbGQ7bjtuPW4ucHJldmlvdXNTaWJsaW5nKW4ubWF0Y2goZSk7dGhpcy5lbWl0X21hdGNoRnVuY3Rpb25DaGFuZ2VkKHQpfX19LHV0PWYoWixvdCx7Y2xhc3NOYW1lOmErIi5Ob2RlIixlbWl0X2VuYWJsZTpnKCJlbmFibGUiKSYmZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKSQoZSwhMSk7eS5lbmFibGUuY2FsbCh0aGlzKX0sZW1pdF9kaXNhYmxlOmcoImRpc2FibGUiKSYmZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKSQoZSwhMCk7eS5kaXNhYmxlLmNhbGwodGhpcyl9LGVtaXRfc2F0ZWxsaXRlQ2hhbmdlZDpmdW5jdGlvbihlLHQpe1oucHJvdG90eXBlLmVtaXRfc2F0ZWxsaXRlQ2hhbmdlZC5jYWxsKHRoaXMsZSx0KSx0aGlzLnNhdGVsbGl0ZVtlXWluc3RhbmNlb2YgdXQmJiQodGhpcy5zYXRlbGxpdGVbZV0sdGhpcy5kaXNhYmxlZHx8dGhpcy5jb250ZXh0RGlzYWJsZWQpfSxlbWl0X3NlbGVjdDpnKCJzZWxlY3QiKSxlbWl0X3Vuc2VsZWN0OmcoInVuc2VsZWN0IiksZW1pdF9tYXRjaDpnKCJtYXRjaCIpLGVtaXRfdW5tYXRjaDpnKCJ1bm1hdGNoIiksZW1pdF9tYXRjaEZ1bmN0aW9uQ2hhbmdlZDpnKCJtYXRjaEZ1bmN0aW9uQ2hhbmdlZCIsIm9sZE1hdGNoRnVuY3Rpb24iKSxzZWxlY3RhYmxlOiEwLHNlbGVjdGVkOiExLHNlbGVjdGlvbjpudWxsLGNvbnRleHRTZWxlY3Rpb246bnVsbCxtYXRjaEZ1bmN0aW9uOm51bGwsbWF0Y2hlZDohMCxkaXNhYmxlZDohMSxjb250ZXh0RGlzYWJsZWQ6ITEsbGlzdGVuOntvd25lcjp7ZW5hYmxlOmZ1bmN0aW9uKCl7JCh0aGlzLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpeyQodGhpcywhMCl9fX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uJiYodGhpcy5zZWxlY3Rpb24gaW5zdGFuY2VvZiB4PT0wJiYodGhpcy5zZWxlY3Rpb249bmV3IGN0KHRoaXMuc2VsZWN0aW9uKSksdGhpcy5saXN0ZW4uc2VsZWN0aW9uJiZ0aGlzLnNlbGVjdGlvbi5hZGRIYW5kbGVyKHRoaXMubGlzdGVuLnNlbGVjdGlvbix0aGlzKSksWi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuZGlzYWJsZWQmJnRoaXMuZW1pdF9kaXNhYmxlKCksdGhpcy5zZWxlY3RlZCYmKHRoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5zZWxlY3QoITApKX0sc2V0U2VsZWN0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc2VsZWN0aW9uIT09ZSlyZXR1cm4gVih0aGlzLHRoaXMuc2VsZWN0aW9ufHx0aGlzLmNvbnRleHRTZWxlY3Rpb24sZXx8dGhpcy5jb250ZXh0U2VsZWN0aW9uLCExLCEwKSx0aGlzLnNlbGVjdGlvbiYmdGhpcy5saXN0ZW4uc2VsZWN0aW9uJiZ0aGlzLnNlbGVjdGlvbi5yZW1vdmVIYW5kbGVyKHRoaXMubGlzdGVuLnNlbGVjdGlvbix0aGlzKSx0aGlzLnNlbGVjdGlvbj1lLGUmJnRoaXMubGlzdGVuLnNlbGVjdGlvbiYmZS5hZGRIYW5kbGVyKHRoaXMubGlzdGVuLnNlbGVjdGlvbix0aGlzKSwhMH0sc2VsZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0ZWQsbj10aGlzLmNvbnRleHRTZWxlY3Rpb247cmV0dXJuIG4/ZT90P24ucmVtb3ZlKFt0aGlzXSk6bi5hZGQoW3RoaXNdKTp0aGlzLnNlbGVjdGFibGUmJm4uc2V0KFt0aGlzXSk6IXQmJnRoaXMuc2VsZWN0YWJsZSYmKHRoaXMuc2VsZWN0ZWQ9ITAsdGhpcy5lbWl0X3NlbGVjdCgpKSx0aGlzLnNlbGVjdGVkIT10fSx1bnNlbGVjdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VsZWN0ZWQ7aWYoZSl7dmFyIHQ9dGhpcy5jb250ZXh0U2VsZWN0aW9uO3Q/dC5yZW1vdmUoW3RoaXNdKToodGhpcy5zZWxlY3RlZD0hMSx0aGlzLmVtaXRfdW5zZWxlY3QoKSl9cmV0dXJuIHRoaXMuc2VsZWN0ZWQhPWV9LHNldFNlbGVjdGVkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dGhpcy5zZWxlY3QodCk6dGhpcy51bnNlbGVjdCgpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRpc2FibGVkO3JldHVybiBlJiYodGhpcy5kaXNhYmxlZD0hMSx0aGlzLmNvbnRleHREaXNhYmxlZHx8dGhpcy5lbWl0X2VuYWJsZSgpKSx0aGlzLmRpc2FibGVkIT1lfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kaXNhYmxlZDtyZXR1cm4gZXx8KHRoaXMuZGlzYWJsZWQ9ITAsdGhpcy5jb250ZXh0RGlzYWJsZWR8fHRoaXMuZW1pdF9kaXNhYmxlKCkpLHRoaXMuZGlzYWJsZWQhPWV9LHNldERpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGlzRGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNhYmxlZHx8dGhpcy5jb250ZXh0RGlzYWJsZWR9LG1hdGNoOmZ1bmN0aW9uKGUpe3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1udWxsKSx0aGlzLnVuZGVyTWF0Y2hfJiYhZSYmdGhpcy51bmRlck1hdGNoXyh0aGlzLCEwKSx0aGlzLnVuZGVyTWF0Y2hfPWU7dmFyIHQ9IWV8fGUodGhpcyk7dGhpcy5tYXRjaGVkIT10JiYodGhpcy5tYXRjaGVkPXQsdD90aGlzLmVtaXRfbWF0Y2goKTp0aGlzLmVtaXRfdW5tYXRjaCgpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudW5zZWxlY3QoKSx0aGlzLmNvbnRleHRTZWxlY3Rpb249bnVsbCx0aGlzLnNlbGVjdGlvbiYmdGhpcy5zZXRTZWxlY3Rpb24oKSxaLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSksYXQ9ZihaLG90LHtjbGFzc05hbWU6YSsiLkdyb3VwaW5nTm9kZSIsZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQ6ZnVuY3Rpb24oZSl7eS5jaGlsZE5vZGVzTW9kaWZpZWQuY2FsbCh0aGlzLGUpLHRoaXMubnVsbEdyb3VwLm5leHRTaWJsaW5nPXRoaXMuZmlyc3RDaGlsZDt2YXIgdDtpZih0PWUuaW5zZXJ0ZWQpe2Zvcih2YXIgbj0wLHI7cj10W24rK107KXIuZ3JvdXBJZF89ci5kZWxlZ2F0ZT9yLmRlbGVnYXRlLmJhc2lzT2JqZWN0SWQ6ci5kYXRhLmlkLHRoaXMubWFwX1tyLmdyb3VwSWRfXT1yO2lmKHRoaXMuZGF0YVNvdXJjZSYmdGhpcy5udWxsR3JvdXAuZmlyc3Qpe3ZhciBpPXRoaXMub3duZXIscz1jKHRoaXMubnVsbEdyb3VwLm5vZGVzKTtmb3IodmFyIG49cy5sZW5ndGg7bi0tPjA7KWkuaW5zZXJ0QmVmb3JlKHNbbl0sc1tuXS5uZXh0U2libGluZyl9fX0sZW1pdF9vd25lckNoYW5nZWQ6ZnVuY3Rpb24oZSl7ZSYmZS5ncm91cGluZz09PXRoaXMmJmUuc2V0R3JvdXBpbmcobnVsbCwhMCksdGhpcy5vd25lciYmdGhpcy5vd25lci5ncm91cGluZyE9PXRoaXMmJnRoaXMub3duZXIuc2V0R3JvdXBpbmcodGhpcykseS5vd25lckNoYW5nZWQuY2FsbCh0aGlzLGUpLCF0aGlzLm93bmVyJiZ0aGlzLmF1dG9EZXN0cm95V2l0aE5vT3duZXImJnRoaXMuZGVzdHJveSgpfSxtYXBfOm51bGwsbnVsbEdyb3VwOm51bGwsYXV0b0Rlc3Ryb3lXaXRoTm9Pd25lcjohMCxhdXRvRGVzdHJveUVtcHR5R3JvdXBzOiEwLHJ1bGU6dixjaGlsZENsYXNzOmV0LGNoaWxkRmFjdG9yeTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY2hpbGRDbGFzcyhsKHthdXRvRGVzdHJveUlmRW1wdHk6dGhpcy5kYXRhU291cmNlPyExOnRoaXMuYXV0b0Rlc3Ryb3lFbXB0eUdyb3Vwc30sZSkpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXBfPXt9LHRoaXMubnVsbEdyb3VwPW5ldyBldCxaLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGdldEdyb3VwTm9kZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucnVsZShlKSxyPW4gaW5zdGFuY2VvZiBTLGk9dGhpcy5tYXBfW3I/bi5iYXNpc09iamVjdElkOm5dO3JldHVybiB0aGlzLmRhdGFTb3VyY2UmJih0PSExKSwhaSYmdCYmKGk9dGhpcy5hcHBlbmRDaGlsZChyP246e2RhdGE6e2lkOm4sdGl0bGU6bn19KSksaXx8dGhpcy5udWxsR3JvdXB9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhU291cmNlO290LnNldERhdGFTb3VyY2UuY2FsbCh0aGlzLGUpO3ZhciBuPXRoaXMub3duZXI7aWYobiYmdGhpcy5kYXRhU291cmNlIT09dCl7dmFyIHI9YyhuLmNoaWxkTm9kZXMpO2Zvcih2YXIgaT1yLmxlbmd0aC0xO2k+PTA7aS0tKW4uaW5zZXJ0QmVmb3JlKHJbaV0scltpKzFdKX19LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLHQpe2U9b3QuaW5zZXJ0QmVmb3JlLmNhbGwodGhpcyxlLHQpO3ZhciBuPWUuZmlyc3Q7aWYobil7dmFyIHI9bi5wYXJlbnROb2RlLGk9ZS5sYXN0LHMsbyx1LGE9bnVsbCxmPWU7d2hpbGUoZj1mLm5leHRTaWJsaW5nKWlmKGE9Zi5maXJzdClicmVhazt1PWE/YS5wcmV2aW91c1NpYmxpbmc6ci5sYXN0Q2hpbGQscz1uLnByZXZpb3VzU2libGluZyxvPWkubmV4dFNpYmxpbmc7aWYobyE9PWEpe3ZhciBsPXIuY2hpbGROb2RlcyxjPWUubm9kZXMsaD1jLmxlbmd0aDtzJiYocy5uZXh0U2libGluZz1vKSxvJiYoby5wcmV2aW91c1NpYmxpbmc9cyksdSYmKHUubmV4dFNpYmxpbmc9biksYSYmKGEucHJldmlvdXNTaWJsaW5nPWkpLG4ucHJldmlvdXNTaWJsaW5nPXUsaS5uZXh0U2libGluZz1hO3ZhciBwPWwuaW5kZXhPZihuKSxkPWE/bC5pbmRleE9mKGEpOmwubGVuZ3RoO2Q+cCYmKGQtPWgpLGwuc3BsaWNlKHAsaCksbC5zcGxpY2UuYXBwbHkobCxbZCwwXS5jb25jYXQoYykpO2lmKCF1fHwhcylyLmZpcnN0Q2hpbGQ9bFswXTtpZighYXx8IW8pci5sYXN0Q2hpbGQ9bFtsLmxlbmd0aC0xXTtpZihuIGluc3RhbmNlb2YgZXQpZm9yKHZhciB2PWgsbT1hO3YtLT4wOylyLmluc2VydEJlZm9yZShjW3ZdLG0pLG09Y1t2XX19cmV0dXJuIGV9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGUpe2lmKGU9b3QucmVtb3ZlQ2hpbGQuY2FsbCh0aGlzLGUpKXtkZWxldGUgdGhpcy5tYXBfW2UuZ3JvdXBJZF9dO2Zvcih2YXIgdD0wLG47bj1lLm5vZGVzW3RdO3QrKyluLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4pfXJldHVybiBlfSxjbGVhcjpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPXRoaXMuZ2V0R3JvdXBOb2RlLHI9dGhpcy5udWxsR3JvdXA7dGhpcy5nZXRHcm91cE5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn07Zm9yKHZhciBpPXRoaXMuZmlyc3RDaGlsZDtpO2k9aS5uZXh0U2libGluZyl0LnB1c2guYXBwbHkodCxpLm5vZGVzKTtmb3IodmFyIHM9MCxvO289dFtzXTtzKyspby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvKTt0aGlzLmdldEdyb3VwTm9kZT1uLG90LmNsZWFyLmNhbGwodGhpcyxlKSx0aGlzLm1hcF89e319LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmF1dG9EZXN0cm95V2l0aE5vT3duZXI9ITEsWi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMubnVsbEdyb3VwLmRlc3Ryb3koKSx0aGlzLm51bGxHcm91cD1udWxsLHRoaXMubWFwXz1udWxsfX0pO1oucHJvdG90eXBlLmdyb3VwaW5nQ2xhc3M9YXQ7dmFyIGZ0PXtjaGlsZE5vZGVzTW9kaWZpZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1lbWJlcnNfLHI9e30saSxzPTAsbz0wLHU9dC5pbnNlcnRlZCxhPXQuZGVsZXRlZDtpZih1JiZ1Lmxlbmd0aCl7ci5pbnNlcnRlZD11O3doaWxlKGk9dVtzXSluW2kuYmFzaXNPYmplY3RJZF09aSxzKyt9aWYoYSYmYS5sZW5ndGgpe3IuZGVsZXRlZD1hO3doaWxlKGk9YVtvXSlkZWxldGUgbltpLmJhc2lzT2JqZWN0SWRdLG8rK30oc3x8bykmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQocil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKX19LGx0PWYoeCx7Y2xhc3NOYW1lOmErIi5DaGlsZE5vZGVzRGF0YXNldCIsc291cmNlTm9kZTpudWxsLGluaXQ6ZnVuY3Rpb24oKXt4LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5zb3VyY2VOb2RlO0hbZS5iYXNpc09iamVjdElkXT10aGlzLGUuZmlyc3RDaGlsZCYmZnQuY2hpbGROb2Rlc01vZGlmaWVkLmNhbGwodGhpcyxlLHtpbnNlcnRlZDplLmNoaWxkTm9kZXN9KSxlLmFkZEhhbmRsZXIoZnQsdGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZU5vZGUucmVtb3ZlSGFuZGxlcihmdCx0aGlzKSxkZWxldGUgSFt0aGlzLnNvdXJjZU5vZGUuYmFzaXNPYmplY3RJZF0seC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pLGN0PWYoVCx7Y2xhc3NOYW1lOmErIi5TZWxlY3Rpb24iLG11bHRpcGxlOiExLGVtaXRfaXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUpe1QucHJvdG90eXBlLmVtaXRfaXRlbXNDaGFuZ2VkLmNhbGwodGhpcyxlKTtpZihlLmluc2VydGVkKWZvcih2YXIgdD0wLG47bj1lLmluc2VydGVkW3RdO3QrKyluLnNlbGVjdGVkfHwobi5zZWxlY3RlZD0hMCxuLmVtaXRfc2VsZWN0KCkpO2lmKGUuZGVsZXRlZClmb3IodmFyIHQ9MCxuO249ZS5kZWxldGVkW3RdO3QrKyluLnNlbGVjdGVkJiYobi5zZWxlY3RlZD0hMSxuLmVtaXRfdW5zZWxlY3QoKSl9LGFkZDpmdW5jdGlvbihlKXtpZighdGhpcy5tdWx0aXBsZSl7aWYodGhpcy5pdGVtQ291bnQpcmV0dXJuIHRoaXMuc2V0KGUpO2U9W2VbMF1dfXZhciB0PVtdO2Zvcih2YXIgbj0wLHI7cj1lW25dO24rKylyLmNvbnRleHRTZWxlY3Rpb249PXRoaXMmJnIuc2VsZWN0YWJsZSYmdC5wdXNoKHIpO3JldHVybiBULnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuPTAscjtyPWVbbl07bisrKXIuY29udGV4dFNlbGVjdGlvbj09dGhpcyYmci5zZWxlY3RhYmxlJiZ0LnB1c2gocik7cmV0dXJuIHRoaXMubXVsdGlwbGV8fHQuc3BsaWNlKDEpLFQucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsdCl9fSk7dC5leHBvcnRzPXtERUxFR0FURTpQLEFic3RyYWN0Tm9kZTpaLE5vZGU6dXQsR3JvdXBpbmdOb2RlOmF0LFBhcnRpdGlvbk5vZGU6ZXQsQ2hpbGROb2Rlc0RhdGFzZXQ6bHQsU2VsZWN0aW9uOmN0LG51bGxTZWxlY3Rpb246bmV3IHh9fSwiNi5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBldChlLHQpe3JldHVybic8c3BhbiBjbGFzcz0iYmFzaXNqcy1tYXJrdXAiIGRhdGEtYmFzaXNqcy1sMTBuPSInK3QrJyI+JytTdHJpbmcoZSkrIjwvc3Bhbj4ifWZ1bmN0aW9uIHR0KGUpe3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9bi5sMTBuLnRva2VuKGUpKTtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1lLmJhc2lzT2JqZWN0SWQscj1ZW3RdO3JldHVybiByfHwocj1ZW3RdPW5ldyBkdChuZXcgWihlKSkpLHJ9ZnVuY3Rpb24gbnQoKXtyZXR1cm4iaSIrbi5nZW5VSUQoKSsiX18ifWZ1bmN0aW9uIHJ0KGUsdCl7ZnVuY3Rpb24gbih0KXtmPm8mJihyLnB1c2goKHR8fCIiKStlLnN1YnN0cmluZyhvLGYpKSxvPWYpfXZhciByPVtdLGk9ZS5zcGxpdCgiIikscz1pLmxlbmd0aCxvPTAsdT0hMSxhO3R8fCh0PW50KCkpO2Zvcih2YXIgZj0wO2Y8cztmKyspc3dpdGNoKGlbZl0pe2Nhc2UiJyI6Y2FzZSciJzphPWlbZl07d2hpbGUoKytmPHMpaWYoaVtmXT09IlxcIilmKys7ZWxzZSBpZihpW2ZdPT1hKXtmKys7YnJlYWt9YnJlYWs7Y2FzZSIvIjppZihpW2YrMV09PSIqIil7ZisrO3doaWxlKCsrZjxzKWlmKGlbZl09PSIqIiYmaVtmKzFdPT0iLyIpe2YrPTI7YnJlYWt9fWJyZWFrO2Nhc2UieyI6dT0hMDticmVhaztjYXNlIn0iOnU9ITE7YnJlYWs7Y2FzZSIuIjppZighdSl7ZisrLG4oKTt3aGlsZSgrK2Y8cylpZighL1thLXowLTlcLVxfXS8udGVzdChpW2ZdKSl7bih0KSxmLT0xO2JyZWFrfX19cmV0dXJuIG4oKSxyLmpvaW4oIiIpfWZ1bmN0aW9uIHN0KGUpe3ZhciB0PW4ucmVzb3VyY2UoZSkuZmV0Y2goKTt0eXBlb2YgdC5zdGFydFVzZT09ImZ1bmN0aW9uIiYmdC5zdGFydFVzZSgpfWZ1bmN0aW9uIG90KGUpe3ZhciB0PW4ucmVzb3VyY2UoZSkuZmV0Y2goKTt0eXBlb2YgdC5zdG9wVXNlPT0iZnVuY3Rpb24iJiZ0LnN0b3BVc2UoKX1mdW5jdGlvbiB1dCgpe3RoaXMuZGVzdHJveUJ1aWxkZXImJmx0LmNhbGwodGhpcyk7Zm9yKHZhciBlPTAsdDt0PXRoaXMuYXR0YWNoZXNfW2VdO2UrKyl0LmhhbmRsZXIuY2FsbCh0LmNvbnRleHQpfWZ1bmN0aW9uIGF0KGUpe3ZhciB0PVtdO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaChBcnJheS5pc0FycmF5KGVbbl0pP2F0KGVbbl0pOmVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIGZ0KGUsdCxyLGkpe3ZhciBzPWUsbzt0eXBlb2Ygcz09ImZ1bmN0aW9uIiYmKHQ9ImJhc2VVUkkiaW4gZT9lLmJhc2VVUkk6dCxvPSJ1cmwiaW4gZT9lLnVybDpvLHM9cygpKSxzIGluc3RhbmNlb2Ygbi5Ub2tlbiYmKHQ9ImJhc2VVUkkiaW4gZT9lLmJhc2VVUkk6dCxvPSJ1cmwiaW4gZT9lLnVybDpvLHM9cy5nZXQoKSk7aWYoQXJyYXkuaXNBcnJheShzKSlyJiYocz1hdChzKSkscz17dG9rZW5zOnN9O2Vsc2UgaWYodHlwZW9mIHMhPSJvYmplY3QifHwhQXJyYXkuaXNBcnJheShzLnRva2Vucykpcz1TdHJpbmcocyk7cmV0dXJuIHR5cGVvZiBzPT0ic3RyaW5nIiYmKHM9aXQocyx0LGksbyxlKSksc31mdW5jdGlvbiBsdCgpe3ZhciBlPWZ0KHRoaXMuc291cmNlLHRoaXMuYmFzZVVSSSwhMSx7aXNvbGF0ZTp0aGlzLmdldElzb2xhdGVQcmVmaXgoKX0pLHQ9dGhpcy5kZXN0cm95QnVpbGRlcixuPXRoaXMuYnVpbGRlcihlLnRva2Vucyx0aGlzKSxyPXRoaXMuZGVwc187aWYocil7dGhpcy5kZXBzXz1udWxsO2Zvcih2YXIgaT0wLHM7cz1yW2ldO2krKylzLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHMsbHQsdGhpcyl9aWYoZS5kZXBzJiZlLmRlcHMubGVuZ3RoKXtyPWUuZGVwcyx0aGlzLmRlcHNfPXI7Zm9yKHZhciBpPTAscztzPXJbaV07aSsrKXMuYmluZGluZ0JyaWRnZS5hdHRhY2gocyxsdCx0aGlzKX10aGlzLmNyZWF0ZUluc3RhbmNlPW4uY3JlYXRlSW5zdGFuY2UsdGhpcy5jbGVhckluc3RhbmNlPW4uZGVzdHJveUluc3RhbmNlLHRoaXMuZ2V0QmluZGluZz1mdW5jdGlvbigpe3JldHVybntuYW1lczpuLmtleXN9fSx0aGlzLmRlc3Ryb3lCdWlsZGVyPW4uZGVzdHJveTt2YXIgbz1lLnJlc291cmNlcyYmZS5yZXNvdXJjZXMubGVuZ3RoPjA/ZS5yZXNvdXJjZXM6bnVsbDtpZihvKWZvcih2YXIgaT0wLHU7dT1vW2ldO2krKylzdCh1KTtpZih0aGlzLnJlc291cmNlcylmb3IodmFyIGk9MCx1O3U9dGhpcy5yZXNvdXJjZXNbaV07aSsrKW90KHUpO3RoaXMucmVzb3VyY2VzPW8sdCYmdCghMCl9ZnVuY3Rpb24gaHQoZSl7dmFyIHQ9cHQoZSk7aWYodC50ZW1wbGF0ZSlyZXR1cm4gdC50ZW1wbGF0ZTt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSxyPSIiO3JldHVybiBuJiZuLnRhZ05hbWU9PSJTQ1JJUFQiJiZuLnR5cGU9PSJ0ZXh0L2Jhc2lzLXRlbXBsYXRlIiYmKHI9bi50ZXh0Q29udGVudHx8bi50ZXh0KSx0LnRlbXBsYXRlPW5ldyBkdChyKX1mdW5jdGlvbiBwdChlKXt2YXIgdD1jdFtlXTtyZXR1cm4gdHx8KHQ9Y3RbZV09ZnVuY3Rpb24oKXtyZXR1cm4gaHQoZSkuc291cmNlfSksdH1mdW5jdGlvbiBndChlLHQpe3ZhciByPW4uYXJyYXkoYXJndW1lbnRzKSx0PXIucG9wKCk7cmV0dXJuIG5ldyB2dCh7cnVsZTp0LGV2ZW50czpyLmpvaW4oIiAiKS50cmltKCkuc3BsaXQoL1xzKy8pfSl9ZnVuY3Rpb24gd3QoKXt2YXIgZT1uLmFycmF5KGFyZ3VtZW50cykuam9pbigiLiIpLHQ9QXRbZV07cmV0dXJuIHR8fCh0PW5ldyBidCgiIixlKSxBdFtlXT10KSx0fWZ1bmN0aW9uIEV0KGUpe3ZhciB0PXt9LG49W107Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdFtlW3JdXXx8KHRbZVtyXV09ITAsbi5wdXNoKGVbcl0pKTtyZXR1cm4gbn1mdW5jdGlvbiBTdChlLHQpe3ZhciBuPVtdO24uc291cmNlPUV0KHQpLmpvaW4oIi8iKTt2YXIgcj17YmFzZTohMH07Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV18fCJiYXNlIjtpZihzPT1lfHxyW3NdKWNvbnRpbnVlO3ZhciBvPWt0KHMpO3Jbc109ITAsbi5wdXNoKHMpLHQuc3BsaWNlLmFwcGx5KHQsW2krMSwwXS5jb25jYXQoTHRbc10uZmFsbGJhY2spKX1yZXR1cm4gbi51bnNoaWZ0KGUpLGUhPSJiYXNlIiYmbi5wdXNoKCJiYXNlIiksbi52YWx1ZT1uLmpvaW4oIi8iKSxufWZ1bmN0aW9uIHh0KGUsdCl7dmFyIG49THRbZV0uc291cmNlc0xpc3Q7Zm9yKHZhciByPTAsaTtpPW5bcl07cisrKWlmKGkuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIGlbdF07cmV0dXJuIiJ9ZnVuY3Rpb24gVHQoZSl7cmV0dXJuIEx0W010XS5mYWxsYmFjay5pbmRleE9mKGUpIT0tMX1mdW5jdGlvbiBOdChlKXt3dChlKS5zZXQoKX1mdW5jdGlvbiBDdChlKXtmb3IodmFyIHQgaW4gQXQpTnQodCl9ZnVuY3Rpb24ga3QoZSl7ZXx8KGU9ImJhc2UiKTtpZihMdFtlXSlyZXR1cm4gTHRbZV0udGhlbWU7aWYoIS9eKFthLXowLTlcX1wtXSspJC8udGVzdChlKSl0aHJvdyAzMTt2YXIgdD17fSxyPVt0XSxpPW5ldyB5dDtMdFtlXT17dGhlbWU6aSxzb3VyY2VzOnQsc291cmNlc0xpc3Q6cixmYWxsYmFjazpbXX07dmFyIHM9ZnVuY3Rpb24obixyKXtyZXR1cm4gbiBpbiB0PT0wJiYodFtuXT1yLFR0KGUpJiZOdChuKSksd3Qobil9O3JldHVybiBuLm9iamVjdC5leHRlbmQoaSx7bmFtZTplLGZhbGxiYWNrOmZ1bmN0aW9uKHQpe2lmKGkhPT1PdCYmYXJndW1lbnRzLmxlbmd0aD4wKXt2YXIgbj10eXBlb2YgdD09InN0cmluZyI/dC5zcGxpdCgiLyIpOltdLHI9e307bj1TdChlLG4pO2lmKEx0W2VdLmZhbGxiYWNrLnNvdXJjZSE9bi5zb3VyY2Upe0x0W2VdLmZhbGxiYWNrLnNvdXJjZT1uLnNvdXJjZTtmb3IodmFyIHMgaW4gTHQpe3ZhciBvPUx0W3NdLmZhbGxiYWNrLG49U3Qocywoby5zb3VyY2V8fCIiKS5zcGxpdCgiLyIpKTtpZihuLnZhbHVlIT1vLnZhbHVlKXtyW3NdPSEwLEx0W3NdLmZhbGxiYWNrPW47dmFyIHU9THRbc10uc291cmNlc0xpc3Q7dS5sZW5ndGg9bi5sZW5ndGg7Zm9yKHZhciBhPTA7YTx1Lmxlbmd0aDthKyspdVthXT1MdFtuW2FdXS5zb3VyY2VzfX19dmFyIGY9THRbTXRdLmZhbGxiYWNrO2Zvcih2YXIgcyBpbiByKWlmKFR0KHMpKXtDdCgpO2JyZWFrfX12YXIgbD1MdFtlXS5mYWxsYmFjay5zbGljZSgxKTtyZXR1cm4gbC5zb3VyY2U9THRbZV0uZmFsbGJhY2suc291cmNlLGx9LGRlZmluZTpmdW5jdGlvbihlLHQpe3R5cGVvZiBlPT0iZnVuY3Rpb24iJiYoZT1lKCkpO2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7aWYodHlwZW9mIHQ9PSJvYmplY3QiKXt2YXIgbj1lLHI9dCxvPXt9O2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJihvW3VdPXMobisiLiIrdSxyW3VdKSk7cmV0dXJuIG99cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PTE/d3QoZSk6cyhlLHQpfWlmKHR5cGVvZiBlPT0ib2JqZWN0Iil7dmFyIHI9ZTtmb3IodmFyIGEgaW4gcilyLmhhc093blByb3BlcnR5KGEpJiZzKGEsclthXSk7cmV0dXJuIGl9fSxhcHBseTpmdW5jdGlvbigpe2lmKGUhPU10KXtNdD1lLEN0KCk7Zm9yKHZhciB0PTAsbjtuPV90W3RdO3QrKyluLmZuLmNhbGwobi5jb250ZXh0LGUpfXJldHVybiBpfSxnZXRTb3VyY2U6ZnVuY3Rpb24obixyKXtyZXR1cm4gcj94dChlLG4pOnRbbl19LGRyb3A6ZnVuY3Rpb24obil7dC5oYXNPd25Qcm9wZXJ0eShuKSYmKGRlbGV0ZSB0W25dLFR0KGUpJiZOdChuKSl9fSksTHRbZV0uZmFsbGJhY2s9U3QoZSxbXSksci5wdXNoKEx0LmJhc2Uuc291cmNlcyksaX1mdW5jdGlvbiBEdChlLHQsbil7X3QucHVzaCh7Zm46ZSxjb250ZXh0OnR9KSxuJiZlLmNhbGwodCxNdCl9bi5yZXF1aXJlKCIuLzIuanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLkNsYXNzLGw9bi5jbGVhbmVyLGM9bi5wYXRoLGg9bi5hcnJheS5zZWFyY2gscD1uLmFycmF5LmFkZCxkPW4uYXJyYXkucmVtb3ZlLHY9W10sbT17fSxnPTIseT0xLGI9Mix3PTQsRT01LFM9Nix4PTMsVD04LE49MCxDPTEsaz0yLEw9MyxBPTQsTz0vXmV2ZW50LSguKykkLyxNPXs0OiJjbGFzcyIsNToic3R5bGUifSxfPXsiY2xhc3MiOncsc3R5bGU6RX0sRD17MjpBLDQ6QS0xLDU6QS0xLDY6Mn0sUD0zLEg9NCxCPTUsaj0zLEY9MyxJPSJJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIHN5bnRheCIscT0vKCg/Oi58W1xyXG5dKSo/KShceyg/OmwxMG46KFthLXpBLVpfXVthLXpBLVowLTlfXC1dKig/OlwuW2EtekEtWl9dW2EtekEtWjAtOV9cLV0qKSooPzpcLlx7W2EtekEtWl9dW2EtekEtWjAtOV9cLV0qXH0pPylcfSk/fDwoXC98IS0tKFxzKlx7KT8pP3wkKS9nLFI9LyhbYS16X11bYS16MC05XC1fXSopKDp8XHt8XHMqKFwvPz4pPykvaWcsVT0vKFthLXpfXVthLXowLTlfXC1dKikoOnxce3w9fFxzKil8KFwvPz4pL2lnLHo9LygufFtcclxuXSkqPy0tPi9nLFc9LyhbYS16X11bYS16MC05X1wtXSooPzo6W2Etel9dW2EtejAtOV9cLV0qKT8pPi9pZyxYPS8oW2Etel9dW2EtejAtOV9dKikoXHx8XH1ccyopL2lnLFY9LyIoKD86KFxcIil8W14iXSkqPykiXHMqL2csJD0vXi9nLEo9L14oYXJlYXxiYXNlfGJyfGNvbHxjb21tYW5kfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW18c291cmNlKSQvaSxLPXt0ZXh0Oi8oKD86LnxbXHJcbl0pKj8pKD86PFwvYjp0ZXh0PnwkKS9nLHN0eWxlOi8oKD86LnxbXHJcbl0pKj8pKD86PFwvYjpzdHlsZT58JCkvZ30sUT0vXFwiL2csRz1mdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLHI9e2NoaWxkczp0fSxpLHMsbyx1LGE9ITEsZj0wLGwsYz1xLGg9MCxwO2U9ZS50cmltKCk7d2hpbGUoaDxlLmxlbmd0aHx8YyE9cSl7Yy5sYXN0SW5kZXg9aCx1PWgscD1jLmV4ZWMoZSk7aWYoIXB8fHAuaW5kZXghPT1oKXtpZihjPT1YJiZzJiZzLnR5cGU9PVQpe2M9ejtjb250aW51ZX1hJiYocj1uLnBvcCgpKSxzJiZyLmNoaWxkcy5wb3AoKTtpZihzPXIuY2hpbGRzLnBvcCgpKXMudHlwZT09eCYmIXMucmVmcz9mLT0ibGVuImluIHM/cy5sZW46cy52YWx1ZS5sZW5ndGg6ci5jaGlsZHMucHVzaChzKTthPSExLGM9cTtjb250aW51ZX1oPWMubGFzdEluZGV4O3N3aXRjaChjKXtjYXNlIHE6bD11K3BbMV0ubGVuZ3RoLGYhPWwmJihpPWY9PXU/cFsxXTplLnN1YnN0cmluZyhmLGwpLHM9aS5yZXBsYWNlKC9ccyooXHJcbj98XG5ccj8pXHMqL2csIiIpLHMmJnIuY2hpbGRzLnB1c2goe3R5cGU6eCxsZW46aS5sZW5ndGgsdmFsdWU6c30pKSxmPWwscFszXT9yLmNoaWxkcy5wdXNoKHt0eXBlOngscmVmczpbImwxMG46IitwWzNdXSx2YWx1ZToie2wxMG46IitwWzNdKyJ9In0pOnBbMl09PSJ7Ij8obz1oLTEsci5jaGlsZHMucHVzaChzPXt0eXBlOnh9KSxjPVgpOnBbNF0/cFs0XT09Ii8iPyhzPW51bGwsYz1XKTooci5jaGlsZHMucHVzaChzPXt0eXBlOlR9KSxwWzVdPyhvPWgtcFs1XS5sZW5ndGgsYz1YKToobz1oLGM9eikpOnBbMl0mJihhPSEwLG4ucHVzaChyKSxyLmNoaWxkcy5wdXNoKHM9e3R5cGU6eSxhdHRyczpbXSxjaGlsZHM6W119KSxyPXMsYz1SKTticmVhaztjYXNlIFc6cFsxXSE9PShyLnByZWZpeD9yLnByZWZpeCsiOiI6IiIpK3IubmFtZT9yLmNoaWxkcy5wdXNoKHt0eXBlOngsdmFsdWU6IjwvIitwWzBdfSk6cj1uLnBvcCgpLGM9cTticmVhaztjYXNlIFI6Y2FzZSBVOmlmKHBbMl09PSI6Iil7cy5wcmVmaXg/Yz0kOnMucHJlZml4PXBbMV07YnJlYWt9cFsxXSYmKHMubmFtZT1wWzFdLHMudHlwZT09YiYmci5hdHRycy5wdXNoKHMpKTtpZihwWzJdPT0ieyIpe3MudHlwZT09eT9jPVg6Yz0kO2JyZWFrfWlmKHBbM10pe2E9ITE7aWYocFszXT09Ii8+Inx8IXIucHJlZml4JiZKLnRlc3Qoci5uYW1lKSlyPW4ucG9wKCk7ZWxzZSBpZihyLnByZWZpeD09ImIiJiZyLm5hbWUgaW4gSyl7Yz1LW3IubmFtZV07YnJlYWt9Yz1xO2JyZWFrfWlmKHBbMl09PSI9Iil7Yz1WO2JyZWFrfXM9e3R5cGU6Yn0sYz1VO2JyZWFrO2Nhc2UgejpzLnZhbHVlPWUuc3Vic3RyaW5nKG8saC0zKSxjPXE7YnJlYWs7Y2FzZSBYOnMucmVmcz9zLnJlZnMucHVzaChwWzFdKTpzLnJlZnM9W3BbMV1dLHBbMl0hPSJ8IiYmKHMudHlwZT09eD8oaC09cFsyXS5sZW5ndGgtMSxzLnZhbHVlPWUuc3Vic3RyaW5nKG8saCksYz1xKTpzLnR5cGU9PVQ/Yz16OnMudHlwZT09YiYmZVtoXT09Ij0iPyhoKyssYz1WKToocz17dHlwZTpifSxjPVUpKTticmVhaztjYXNlIFY6cy52YWx1ZT1wWzFdLnJlcGxhY2UoUSwnIicpLHM9e3R5cGU6Yn0sYz1VO2JyZWFrO2Nhc2UgSy50ZXh0OmNhc2UgSy5zdHlsZTpyLmNoaWxkcy5wdXNoKHt0eXBlOngsdmFsdWU6cFsxXX0pLHI9bi5wb3AoKSxjPXE7YnJlYWs7ZGVmYXVsdDp0aHJvdyAyOX1jPT1xJiYoZj1oKX1yZXR1cm4gZiE9aCYmci5jaGlsZHMucHVzaCh7dHlwZTp4LHZhbHVlOmUuc3Vic3RyaW5nKGYsaCl9KSx0LnRlbXBsYXRlVG9rZW5zPSEwLHR9LFk9e30sWj1uLlRva2VuLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLkwxMG5Qcm94eVRva2VuIix0b2tlbjpudWxsLHVybDoiIixpbml0OmZ1bmN0aW9uKGUpe3RoaXMudXJsPWUuZGljdGlvbmFyeS5yZXNvdXJjZS51cmwrIjoiK2UubmFtZSx0aGlzLnRva2VuPWUsdGhpcy5zZXQoKSxlLmF0dGFjaCh0aGlzLnNldCx0aGlzKX0sc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uVG9rZW4ucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsdGhpcy50b2tlbi50eXBlPT0ibWFya3VwIj9ldCh0aGlzLnRva2VuLnZhbHVlLHRoaXMudG9rZW4ubmFtZSsiQCIrdGhpcy50b2tlbi5kaWN0aW9uYXJ5LnJlc291cmNlLnVybCk6IiIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bi5Ub2tlbi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMudG9rZW49bnVsbH19KSxpdD1mdW5jdGlvbigpe2Z1bmN0aW9uIFAoZSl7cmV0dXJuKGUucHJlZml4P2UucHJlZml4KyI6IjoiIikrZS5uYW1lfWZ1bmN0aW9uIEIoZSx0KXtyZXR1cm4gZlt0XXx8KHQuY2hhckF0KDApPT0iIyI/Zlt0XT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQuY2hhckF0KDEpPT0ieCJ8fHQuY2hhckF0KDEpPT0iWCI/cGFyc2VJbnQodC5zdWJzdHIoMiksMTYpOnQuc3Vic3RyKDEpKTpsJiYobC5pbm5lckhUTUw9ZSxmW3RdPWwuZmlyc3RDaGlsZD9sLmZpcnN0Q2hpbGQubm9kZVZhbHVlOmUpKSxmW3RdfHxlfWZ1bmN0aW9uIGooZSl7cmV0dXJuIGUucmVwbGFjZShhLEIpfWZ1bmN0aW9uIEYoZSl7dmFyIHQ9ZS5yZWZzO3JldHVybiF0fHwhdC5sZW5ndGg/MDp0fWZ1bmN0aW9uIEkoZSl7dmFyIHQsbj1bXSxyPVtdLGk9e307Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspcyUyPyh0PWVbc10saVt0XXx8KGlbdF09bi5sZW5ndGgsbi5wdXNoKHQpKSxyLnB1c2goaVt0XSkpOmVbc10mJnIucHVzaChqKGVbc10pKTtyZXR1cm5bbixyXX1mdW5jdGlvbiBxKGUsbil7dmFyIGE9MCxmLGw7aWYobilzd2l0Y2goZSl7Y2FzZSJjbGFzcyI6aWYoZj1uLm1hdGNoKHQpKXt2YXIgYz1bXTthPVtdO2Zvcih2YXIgaD0wLHA7cD1mW2hdO2grKykobD1wLm1hdGNoKHIpKT9hLnB1c2goW2xbMV18fCIiLGxbMl1dKTpjLnB1c2gocCk7bj1jLmpvaW4oIiAiKX1icmVhaztjYXNlInN0eWxlIjp2YXIgZD1bXTthPVtdO2lmKGY9bi5tYXRjaChpKSlmb3IodmFyIGg9MCxwO3A9ZltoXTtoKyspe3ZhciBsPXAubWF0Y2gocyksdj1sWzFdLG49bFsyXS50cmltKCksbT1uLnNwbGl0KG8pO2lmKG0ubGVuZ3RoPjEpe3ZhciBnPUkobSk7Zy5wdXNoKHYpLGEucHVzaChnKX1lbHNlIGQucHVzaCh2KyI6ICIraihuKSl9bj1kLmpvaW4oIjsgIiksbiYmKG4rPSI7Iik7YnJlYWs7ZGVmYXVsdDpmPW4uc3BsaXQodSksZi5sZW5ndGg+MT9hPUkoZik6bj1qKG4pfXJldHVybiBhJiYhYS5sZW5ndGgmJihhPTApLHtiaW5kaW5nOmEsdmFsdWU6bix0eXBlOl9bZV18fDJ9fWZ1bmN0aW9uIFIoZSx0LG4pe3ZhciByPWUuYXR0cnMsaT1bXSxzLG8sYTtmb3IodmFyIGY9MCxsO2w9cltmXTtmKyspe2lmKGwucHJlZml4PT0iYiIpe3N3aXRjaChsLm5hbWUpe2Nhc2UicmVmIjp2YXIgYz0obC52YWx1ZXx8IiIpLnRyaW0oKS5zcGxpdCgvXHMrLyk7Zm9yKHZhciBoPTA7aDxjLmxlbmd0aDtoKyspVSh0LGNbaF0pO2JyZWFrO2Nhc2Uic2hvdyI6Y2FzZSJoaWRlIjpvPWx9Y29udGludWV9aWYoYT1sLm5hbWUubWF0Y2goTykpe2kucHVzaChhWzFdPT1sLnZhbHVlP1tTLGFbMV1dOltTLGFbMV0sbC52YWx1ZV0pO2NvbnRpbnVlfXZhciBwPXEobC5uYW1lLGwudmFsdWUpLGQ9W3AudHlwZSxwLmJpbmRpbmcsRihsKV07cC50eXBlPT0yJiZkLnB1c2goUChsKSkscC52YWx1ZSYmKCFufHwhcC5iaW5kaW5nfHxwLnR5cGUhPTIpJiZkLnB1c2gocC52YWx1ZSkscC50eXBlPT1FJiYocz1kKSxpLnB1c2goZCl9aWYobyl7c3x8KHM9W0UsMCwwXSxpLnB1c2gocykpLHNbMV18fChzWzFdPVtdKTt2YXIgdj1JKChvLnZhbHVlfHxvLm5hbWUpLnNwbGl0KHUpKTt2WzBdLmxlbmd0aC12WzFdLmxlbmd0aD9zWzNdPShzWzNdP3NbM10rIjsgIjoiIikrKG8ubmFtZT09InNob3ciXm8udmFsdWU9PT0iIj8iIjoiZGlzcGxheTogbm9uZSIpOihvLm5hbWU9PSJzaG93IiYmKHNbM109KHNbM10/c1szXSsiOyAiOiIiKSsiZGlzcGxheTogbm9uZSIpLHNbMV0ucHVzaCh2LmNvbmNhdCgiZGlzcGxheSIsby5uYW1lKSkpfXJldHVybiBpLmxlbmd0aD9pOjB9ZnVuY3Rpb24gVShlLHQpe2Vba118fChlW2tdPVtdKSxwKGVba10sdCksdCE9ImVsZW1lbnQiJiYoZVtDXT1lW2tdLmxlbmd0aD09MT90OjApfWZ1bmN0aW9uIHooZSx0KXt2YXIgbj1lW2tdLmluZGV4T2YodCk7aWYobiE9LTEpe3ZhciByPWVbQ10mJnR5cGVvZiBlW0NdPT0ibnVtYmVyIjtlW2tdLnNwbGljZShuLDEpLHImJm49PWVbQ10tMSYmKGVbQ109dCksZVtrXS5sZW5ndGg/ciYmKGVbQ10tPW48ZVtDXS0xKTplW2tdPTB9fWZ1bmN0aW9uIFcoZSl7dmFyIHQ9e307aWYoZS5hdHRycylmb3IodmFyIG49MCxyO3I9ZS5hdHRyc1tuXTtuKyspdFtQKHIpXT1yLnZhbHVlO3JldHVybiB0fWZ1bmN0aW9uIFgoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylwKGUsdFtuXSl9ZnVuY3Rpb24gVihlLHQsbil7Zm9yKHZhciByPTAsaTtpPXRbcl07cisrKWlbMV0hPT1nJiYoaVsxXT1uK2lbMV0pO2UudW5zaGlmdC5hcHBseShlLHQpfWZ1bmN0aW9uICQoZSx0LHIsaSl7dmFyIHM7aWYocilzPWMucmVzb2x2ZShlLmJhc2VVUkkrcik7ZWxzZXt2YXIgbz10LmNoaWxkc1swXTtzPW4ucmVzb3VyY2UudmlydHVhbCgiY3NzIixvP28udmFsdWU6IiIsZS5zb3VyY2VVcmwpLnVybH1yZXR1cm4gZS5yZXNvdXJjZXMucHVzaChbcyxpXSksc31mdW5jdGlvbiBKKHQscixpLHMpe2Z1bmN0aW9uIG8odCxuLHIpe3ZhciBzPVcodCk7biYmKHMubmFtZT1uKTtpZighcy5uYW1lKXJldHVybjtpZighZS50ZXN0KHMubmFtZSkpcmV0dXJuO3ZhciBvPWh0W3MucmVmfHwiZWxlbWVudCJdO2lmKG8mJm8udG9rZW5bTl09PXkpe3ZhciB1PW8udG9rZW4sYT1zLm5hbWUubWF0Y2goTyksZj1hP1M6X1tzLm5hbWVdfHxiLGw9RFtmXXx8QSxjPXUmJmgodSxzLm5hbWUsZnVuY3Rpb24oZSl7cmV0dXJuIGVbTl09PVM/ImV2ZW50LSIrZVsxXTpNW2VbTl1dfHxlW0xdfSxIKTshYyYmciE9InJlbW92ZSImJihhP2M9W2YsYVsxXV06KGM9W2YsMCwwLGY9PWI/cy5uYW1lOiIiXSxmPT1iJiZjLnB1c2goIiIpKSx1fHwodT1bXSxvLnRva2VuLnB1c2godSkpLHUucHVzaChjKSk7dmFyIHY9cy5uYW1lPT0iY2xhc3MifHxzLm5hbWU9PSJzdHlsZSI7c3dpdGNoKHIpe2Nhc2Uic2V0IjppZihjW05dPT1TKXtzLnZhbHVlPT1hWzFdP2MubGVuZ3RoPTI6Y1tsXT1zLnZhbHVlO3JldHVybn12YXIgbT1xKHMubmFtZSxzLnZhbHVlKTtjW0NdPW0uYmluZGluZywhaS5vcHRpbWl6ZVNpemV8fCFjW0NdfHx2P2NbbF09bS52YWx1ZXx8IiI6Yy5sZW5ndGg9bDtpZih2JiYhY1tDXSYmIWNbbF0pe2QodSxjKTtyZXR1cm59YnJlYWs7Y2FzZSJhcHBlbmQiOnZhciBtPXEocy5uYW1lLHMudmFsdWUpO2lmKCFhKWlmKG0uYmluZGluZyl7dmFyIGc9Y1tDXTtpZihnKXN3aXRjaChzLm5hbWUpe2Nhc2Uic3R5bGUiOnZhciB3PXt9O2Zvcih2YXIgRT0wLHg7eD1nW0VdO0UrKyl3W3hbMl1dPUU7Zm9yKHZhciBFPTAsVDtUPW0uYmluZGluZ1tFXTtFKyspVFsyXWluIHc/Z1t3W1RbMl1dXT1UOmcucHVzaChUKTticmVhaztjYXNlImNsYXNzIjpnLnB1c2guYXBwbHkoZyxtLmJpbmRpbmcpO2JyZWFrO2RlZmF1bHQ6bS5iaW5kaW5nWzBdLmZvckVhY2goZnVuY3Rpb24oZSl7cCh0aGlzLGUpfSxnWzBdKTtmb3IodmFyIEU9MDtFPG0uYmluZGluZ1sxXS5sZW5ndGg7RSsrKXt2YXIgaz1tLmJpbmRpbmdbMV1bRV07dHlwZW9mIGs9PSJudW1iZXIiJiYoaz1nWzBdLmluZGV4T2YobS5iaW5kaW5nWzBdW2tdKSksZ1sxXS5wdXNoKGspfX1lbHNlIGNbQ109bS5iaW5kaW5nLHZ8fGNbQ11bMV0udW5zaGlmdChjW2xdKX1lbHNlIXYmJmNbQ10mJmNbQ11bMV0ucHVzaChzLnZhbHVlKTttLnZhbHVlJiYoY1tsXT0oY1tsXXx8IiIpKyhjW2xdJiYoYXx8dik/IiAiOiIiKSttLnZhbHVlKTtpZih2JiYhY1tDXSYmIWNbbF0pe2QodSxjKTtyZXR1cm59YnJlYWs7Y2FzZSJyZW1vdmUiOmMmJmQodSxjKX19fXZhciB1PVtdO2Zvcih2YXIgYT0wLGYsbDtmPXRbYV07YSsrKXt2YXIgdz1GKGYpLEU9dyYmdy5sZW5ndGg9PTE/d1swXTowO3N3aXRjaChmLnR5cGUpe2Nhc2UgeTppZihmLnByZWZpeD09ImIiKXt2YXIgaz1XKGYpO3N3aXRjaChmLm5hbWUpe2Nhc2Uic3R5bGUiOnZhciBCPWsubmFtZXNwYWNlfHxrLm5zLEk9Qj9nOnMmJnMuaXNvbGF0ZXx8IiIsWT0kKHIsZixrLnNyYyxJKTtCJiYoWSBpbiBnPT0wJiYoZ1tZXT1udCgpKSxyLnN0eWxlTlNQcmVmaXhbQl09Z1tZXSk7YnJlYWs7Y2FzZSJpc29sYXRlIjpyLmlzb2xhdGV8fChyLmlzb2xhdGU9ay5wcmVmaXh8fGkuaXNvbGF0ZXx8bnQoKSk7YnJlYWs7Y2FzZSJsMTBuIjprLnNyYyYmKHIuZGljdFVSST1jLnJlc29sdmUoci5iYXNlVVJJLGsuc3JjKSk7YnJlYWs7Y2FzZSJkZWZpbmUiOmlmKCJuYW1lImluIGsmJiFyLmRlZmluZXNbay5uYW1lXSlzd2l0Y2goay50eXBlKXtjYXNlImJvb2wiOnIuZGVmaW5lc1trLm5hbWVdPVtrWyJkZWZhdWx0Il09PSJ0cnVlIj8xOjBdO2JyZWFrO2Nhc2UiZW51bSI6dmFyIGV0PWsudmFsdWVzP2sudmFsdWVzLnRyaW0oKS5zcGxpdCgiICIpOltdO3IuZGVmaW5lc1trLm5hbWVdPVtldC5pbmRleE9mKGtbImRlZmF1bHQiXSkrMSxldF19YnJlYWs7Y2FzZSJ0ZXh0Ijp2YXIgcnQ9Zi5jaGlsZHNbMF07dFthLS1dPW4ub2JqZWN0LmV4dGVuZChydCx7cmVmczooay5yZWZ8fCIiKS50cmltKCkuc3BsaXQoL1xzKy8pLHZhbHVlOiJub3RyaW0iaW4gaz9ydC52YWx1ZTpydC52YWx1ZS5yZXBsYWNlKC9eXHMqW1xyXG5dK3xbXHJcbl1ccyokL2csIiIpfSk7YnJlYWs7Y2FzZSJpbmNsdWRlIjp2YXIgaXQ9ay5zcmM7aWYoaXQpe3ZhciBzdD0vXiNcZCskLy50ZXN0KGl0KSxvdD0vXmlkOi8udGVzdChpdCksdXQ9c3Q/aXQuc3Vic3RyKDEpOml0LGF0O3N0P2F0PXZbdXRdOm90P2F0PXB0KHV0LnN1YnN0cigzKSk6L15bYS16MC05XC5dKyQvaS50ZXN0KHV0KSYmIS9cLnRtcGwkLy50ZXN0KHV0KT9hdD13dCh1dCk6YXQ9bi5yZXNvdXJjZShjLnJlc29sdmUoci5iYXNlVVJJK3V0KSk7aWYoIWF0KWNvbnRpbnVlO2lmKG0uaW5kZXhPZihhdCk9PS0xKXt2YXIgbHQ9Imlzb2xhdGUiaW4gaz9rLmlzb2xhdGV8fG50KCk6IiIsY3Q7b3R8fHAoci5kZXBzLGF0KSxzdD8oYXQuc291cmNlLmJpbmRpbmdCcmlkZ2UmJnAoci5kZXBzLGF0LnNvdXJjZSksY3Q9ZnQoYXQuc291cmNlLGF0LmJhc2VVUkksITAsaSkpOmN0PWZ0KGF0LGF0LnVybD9jLmRpcm5hbWUoYXQudXJsKSsiLyI6IiIsITAsaSksY3QucmVzb3VyY2VzJiYibm8tc3R5bGUiaW4gaz09MCYmVihyLnJlc291cmNlcyxjdC5yZXNvdXJjZXMsbHQpLGN0LmRlcHMmJlgoci5kZXBzLGN0LmRlcHMpO3ZhciBodD1RKGN0LnRva2VucyksZHQ9KGYuY2hpbGRzfHxbXSkuc2xpY2UoKSx2dD1uLm9iamVjdC5zbGljZShjdC5zdHlsZU5TUHJlZml4KTtrWyJjbGFzcyJdJiZkdC5wdXNoKHt0eXBlOnkscHJlZml4OiJiIixuYW1lOiJhcHBlbmQtY2xhc3MiLGF0dHJzOlt7dHlwZTpiLG5hbWU6InZhbHVlIix2YWx1ZTprWyJjbGFzcyJdfV19KSxrLmlkJiZkdC5wdXNoKHt0eXBlOnkscHJlZml4OiJiIixuYW1lOiJzZXQtYXR0ciIsYXR0cnM6W3t0eXBlOmIsbmFtZToibmFtZSIsdmFsdWU6ImlkIn0se3R5cGU6YixuYW1lOiJ2YWx1ZSIsdmFsdWU6ay5pZH1dfSksay5yZWYmJmh0LmVsZW1lbnQmJmsucmVmLnRyaW0oKS5zcGxpdCgvXHMrLykubWFwKGZ1bmN0aW9uKGUpe1UoaHQuZWxlbWVudC50b2tlbixlKX0pO2Zvcih2YXIgbXQ9MCxndDtndD1kdFttdF07bXQrKylpZihndC50eXBlPT15JiZndC5wcmVmaXg9PSJiIilzd2l0Y2goZ3QubmFtZSl7Y2FzZSJzdHlsZSI6dmFyIHl0PVcoZ3QpLEI9eXQubmFtZXNwYWNlfHx5dC5ucyxJPUI/ZzpsdCxZPSQocixndCx5dC5zcmMsSSk7QiYmKFkgaW4gZz09MCYmKGdbWV09bnQoKSksdnRbQl09Z1tZXSk7YnJlYWs7Y2FzZSJyZXBsYWNlIjpjYXNlInJlbW92ZSI6Y2FzZSJiZWZvcmUiOmNhc2UiYWZ0ZXIiOnZhciBidD1ndC5uYW1lPT0icmVwbGFjZSJ8fGd0Lm5hbWU9PSJyZW1vdmUiLHl0PVcoZ3QpLEV0PSJyZWYiaW4geXR8fCFidD95dC5yZWY6ImVsZW1lbnQiLFN0PUV0JiZodFtFdF07aWYoU3Qpe3ZhciB4dD1TdC5vd25lci5pbmRleE9mKFN0LnRva2VuKTtpZih4dCE9LTEpe3ZhciBUdD1beHQrKGd0Lm5hbWU9PSJhZnRlciIpLGJ0XTtndC5uYW1lIT0icmVtb3ZlIiYmKFR0PVR0LmNvbmNhdChKKGd0LmNoaWxkcyxyLGkpfHxbXSkpLFN0Lm93bmVyLnNwbGljZS5hcHBseShTdC5vd25lcixUdCl9fWJyZWFrO2Nhc2UicHJlcGVuZCI6Y2FzZSJhcHBlbmQiOnZhciB5dD1XKGd0KSxFdD0icmVmImluIHl0P3l0LnJlZjoiZWxlbWVudCIsU3Q9RXQmJmh0W0V0XSxmPVN0JiZTdC50b2tlbjtpZihmJiZmW05dPT15KXt2YXIgTnQ9SihndC5jaGlsZHMscixpKXx8W107Z3QubmFtZT09InByZXBlbmQiP2Yuc3BsaWNlLmFwcGx5KGYsW0gsMF0uY29uY2F0KE50KSk6Zi5wdXNoLmFwcGx5KGYsTnQpfWJyZWFrO2Nhc2UiYXR0ciI6Y2FzZSJzZXQtYXR0ciI6byhndCwhMSwic2V0Iik7YnJlYWs7Y2FzZSJhcHBlbmQtYXR0ciI6byhndCwhMSwiYXBwZW5kIik7YnJlYWs7Y2FzZSJyZW1vdmUtYXR0ciI6byhndCwhMSwicmVtb3ZlIik7YnJlYWs7Y2FzZSJjbGFzcyI6Y2FzZSJhcHBlbmQtY2xhc3MiOm8oZ3QsImNsYXNzIiwiYXBwZW5kIik7YnJlYWs7Y2FzZSJzZXQtY2xhc3MiOm8oZ3QsImNsYXNzIiwic2V0Iik7YnJlYWs7Y2FzZSJyZW1vdmUtY2xhc3MiOm8oZ3QsImNsYXNzIiwicmVtb3ZlIik7YnJlYWs7Y2FzZSJhZGQtcmVmIjp2YXIgeXQ9VyhndCksRXQ9InJlZiJpbiB5dD95dC5yZWY6ImVsZW1lbnQiLFN0PUV0JiZodFtFdF0sZj1TdCYmU3QudG9rZW47ZiYmeXQubmFtZSYmVShmLHl0Lm5hbWUpO2JyZWFrO2Nhc2UicmVtb3ZlLXJlZiI6dmFyIHl0PVcoZ3QpLEV0PSJyZWYiaW4geXQ/eXQucmVmOiJlbGVtZW50IixTdD1FdCYmaHRbRXRdLGY9U3QmJlN0LnRva2VuO2YmJnooZix5dC5uYW1lfHx5dC5yZWYpO2JyZWFrO2RlZmF1bHQ6fWVsc2UgY3QudG9rZW5zLnB1c2guYXBwbHkoY3QudG9rZW5zLEooW2d0XSxyLGkpfHxbXSk7aHQuZWxlbWVudCYmeihodC5lbGVtZW50LnRva2VuLCJlbGVtZW50Iiksbi5vYmplY3QuY29tcGxldGUoci5zdHlsZU5TUHJlZml4LHZ0KSxsdD9aKGN0LnRva2VucyxsdCk6Y3QuaXNvbGF0ZSYmIXIuaXNvbGF0ZSYmKHIuaXNvbGF0ZT1pLmlzb2xhdGV8fG50KCkpLHUucHVzaC5hcHBseSh1LGN0LnRva2Vucyl9fX1jb250aW51ZX1sPVsxLEUsdyxQKGYpXSxsLnB1c2guYXBwbHkobCxSKGYsbCxpLm9wdGltaXplU2l6ZSl8fFtdKSxsLnB1c2guYXBwbHkobCxKKGYuY2hpbGRzLHIsaSl8fFtdKTticmVhaztjYXNlIHg6dyYmdy5sZW5ndGg9PTImJmgodywiZWxlbWVudCIpJiYoRT13Wyshdy5sYXN0U2VhcmNoSW5kZXhdKTtpZihFKXt2YXIgQ3Q9SyhFLHIuZGljdFVSSSksa3Q9Q3Quc3BsaXQoL1s6QFx7XS8pO2lmKGt0WzBdPT0ibDEwbiImJmt0Lmxlbmd0aD09MylpZigha3RbMl0pZCh3LEUpLHcubGVuZ3RoPT0wJiYodz1udWxsKSxFPTAsZi52YWx1ZT1mLnZhbHVlLnJlcGxhY2UoL1x9JC8sIkB1bmRlZmluZWR9Iik7ZWxzZXt2YXIgTHQ9a3Quc2xpY2UoMSkuam9pbigiQCIpLEF0PW4ubDEwbi50b2tlbihMdCksT3Q9dHQoQXQpO3IubDEwblJlc29sdmVkPSEwO2lmKE90JiZBdC50eXBlPT0ibWFya3VwIil7dFthLS1dPUcoJzxiOmluY2x1ZGUgc3JjPSIjJytPdC50ZW1wbGF0ZUlkKyciLz4nKVswXTtjb250aW51ZX19fWw9WzMsRSx3XSwoIXd8fGYudmFsdWUhPSJ7Iit3LmpvaW4oInwiKSsifSIpJiZsLnB1c2goaihmLnZhbHVlKSk7YnJlYWs7Y2FzZSBUOmlmKGkub3B0aW1pemVTaXplJiYhRSYmIXcpY29udGludWU7bD1bOCxFLHddLGkub3B0aW1pemVTaXplfHwoIXd8fGYudmFsdWUhPSJ7Iit3LmpvaW4oInwiKSsifSIpJiZsLnB1c2goaihmLnZhbHVlKSl9d2hpbGUobFtsLmxlbmd0aC0xXT09PTApbC5wb3AoKTt1LnB1c2gobCl9cmV0dXJuIHUubGVuZ3RoP3U6MH1mdW5jdGlvbiBLKGUsdCl7aWYodHlwZW9mIGUhPSJzdHJpbmciKXJldHVybiBlO3ZhciBuPWUuc3BsaXQoIjoiKTtyZXR1cm4gbi5sZW5ndGg9PTImJm5bMF09PSJsMTBuIiYmblsxXS5pbmRleE9mKCJAIik9PS0xJiYoblsxXT1uWzFdKyJAIit0KSxuLmpvaW4oIjoiKX1mdW5jdGlvbiBRKGUsdCxuLHIpe258fChuPXt9KTtmb3IodmFyIGk9cnx8MCxzO3M9ZVtpXTtpKyspe2lmKHNbTl09PVMpY29udGludWU7dmFyIG89c1trXTtpZihvKWZvcih2YXIgdT1vLmxlbmd0aC0xLGE7YT1vW3VdO3UtLSl7aWYoYS5pbmRleE9mKCI6IikhPS0xKXt6KHMsYSk7Y29udGludWV9blthXSYmeihuW2FdLnRva2VuLGEpLHNbQ109PWEmJihzW0NdPXUrMSksblthXT17b3duZXI6ZSx0b2tlbjpzfX1zd2l0Y2goc1tOXSl7Y2FzZSB4OnNbQ109SyhzW0NdLHQpO2JyZWFrO2Nhc2UgYjppZihzW0NdKXt2YXIgZj1zW0NdWzBdO2Zvcih2YXIgdT0wO3U8Zi5sZW5ndGg7dSsrKWZbdV09SyhmW3VdLHQpfWJyZWFrO2Nhc2UgeTpRKHMsdCxuLEgpfX1yZXR1cm4gbn1mdW5jdGlvbiBZKGUsdCxuLHIpe3ZhciBpPTA7Zm9yKHZhciBzPXJ8fDAsbztvPWVbc107cysrKXt2YXIgdT1vW05dO3U9PXkmJihpKz1ZKG8sdCxuLEgpKTtpZih1PT13fHx1PT1iJiZvW0xdPT0iY2xhc3MiKXt2YXIgYT1vW0NdLGY9RFt1XTtpZihhKXt2YXIgbD0ob1tmXXx8IiIpLnRyaW0oKS5zcGxpdCgiICIpO2Zvcih2YXIgYz0wLGg7aD1hW2NdO2MrKyl7aWYoaC5sZW5ndGg+Miljb250aW51ZTt2YXIgZD1oWzFdLnNwbGl0KCI6IikucG9wKCksdj10LmRlZmluZXNbZF07dj8oaC5wdXNoLmFwcGx5KGgsdiksdi51c2VkPSEwLHZbMF0mJih2Lmxlbmd0aD09MT9wKGwsaFswXStkKTpwKGwsaFswXSt2WzFdW3ZbMF0tMV0pKSk6aSsrfW9bZl09bC5qb2luKCIgIiksbi5vcHRpbWl6ZVNpemUmJiFvW2ZdJiYoby5sZW5ndGg9Zil9fX1yZXR1cm4gaX1mdW5jdGlvbiBaKGUsdCxuLHIpe2Z1bmN0aW9uIGkoZSl7dmFyIHI9ZS5zcGxpdCgiOiIpO3JldHVybiByLmxlbmd0aD09MT90K3JbMF06bj9yWzBdP3JbMF1pbiBuLnN0eWxlTlNQcmVmaXg9PTA/ZTpuLnN0eWxlTlNQcmVmaXhbclswXV0rclsxXTpyWzFdOmV9Zm9yKHZhciBzPXJ8fDAsbztvPWVbc107cysrKXt2YXIgdT1vW05dO3U9PXkmJloobyx0LG4sSCk7aWYodT09d3x8dT09YiYmb1tMXT09ImNsYXNzIil7dmFyIGE9b1tDXSxmPURbdV07b1tmXSYmKG9bZl09b1tmXS5zcGxpdCgvXHMrLykubWFwKGkpLmpvaW4oIiAiKSk7aWYoYSlmb3IodmFyIGw9MCxjO2M9YVtsXTtsKyspY1swXT1pKGNbMF0pfX19dmFyIGU9L15bYS16X11bYS16MC05X1wtXSokL2ksdD0vKFxTKykvZyxyPS9eKCg/OlthLXpfXVthLXowLTlfXC1dKik/KD86Oig/OlthLXpfXVthLXowLTlfXC1dKik/KT8pXHsoKGFuaW06KT9bYS16X11bYS16MC05X1wtXSopXH0kL2ksaT0vXHMqW146XSs/XHMqOig/OlwoLio/XCl8Ii4qPyJ8Jy4qPyd8W147XSs/KSsoPzo7fCQpL2dpLHM9L1xzKihbXjpdKz8pXHMqOigoPzpcKC4qP1wpfCIuKj8ifCcuKj8nfFteO10rPykrKTs/JC9pLG89L1x7KFthLXpfXVthLXowLTlfXSopXH0vaSx1PS9ceyhbYS16X11bYS16MC05X10qfGwxMG46W2Etel9dW2EtejAtOV9dKig/OlwuW2Etel9dW2EtejAtOV9dKikqKD86XC5ce1thLXpfXVthLXowLTlfXSpcfSk/KVx9L2ksYT0vJihbYS16XSt8I1swLTldK3wjeFswLTlhLWZdezEsNH0pOz8vZ2ksZj1uLk5PREVfRU5WP19fbm9kZWpzUmVxdWlyZSgiLi90ZW1wbGF0ZS9odG1sZW50aXR5Lmpzb24iKTp7fSxsPW4uTk9ERV9FTlY/bnVsbDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPVtdLGc9e307cmV0dXJuIGZ1bmN0aW9uKHQscixpLHMsbyl7aT1pfHx7fTt2YXIgdT1bXSxhPXtzb3VyY2VVcmw6cyxiYXNlVVJJOnJ8fCIiLHRva2VuczpudWxsLHJlc291cmNlczpbXSxzdHlsZU5TUHJlZml4Ont9LGRlcHM6W10sZGVmaW5lczp7fSx1bnByZWRpY3RhYmxlOiEwLHdhcm5zOnUsaXNvbGF0ZTohMX07YS5kaWN0VVJJPXM/bi5wYXRoLnJlc29sdmUocyk6cnx8IiI7aWYoYS5kaWN0VVJJKXt2YXIgZj1uLnBhdGguZXh0bmFtZShhLmRpY3RVUkkpO2YmJmYhPSIubDEwbiImJihhLmRpY3RVUkk9YS5kaWN0VVJJLnN1YnN0cigwLGEuZGljdFVSSS5sZW5ndGgtZi5sZW5ndGgpKyIubDEwbiIpfXQudGVtcGxhdGVUb2tlbnN8fCh0PUcoU3RyaW5nKHQpKSksdC53YXJucyYmdS5wdXNoLmFwcGx5KHUsdC53YXJucyksbS5wdXNoKG8hPT0hMCYmb3x8e30pLGEudG9rZW5zPUoodCxhLGkpLG0ucG9wKCksYS50b2tlbnN8fChhLnRva2Vucz1bWzMsMCwwLCIiXV0pLFUoYS50b2tlbnNbMF0sImVsZW1lbnQiKSxRKGEudG9rZW5zLGEuZGljdFVSSSksYS51bnByZWRpY3RhYmxlPSEhWShhLnRva2VucyxhLGkpO2lmKG0ubGVuZ3RoPT0wKXtaKGEudG9rZW5zLGEuaXNvbGF0ZXx8IiIsYSk7aWYoYS5pc29sYXRlKWZvcih2YXIgbD0wLGM7Yz1hLnJlc291cmNlc1tsXTtsKyspY1sxXSE9PWcmJihjWzFdPWEuaXNvbGF0ZStjWzFdKTthLnJlc291cmNlcz1hLnJlc291cmNlcy5maWx0ZXIoZnVuY3Rpb24oZSx0LHIpe3JldHVybiFuLmFycmF5LnNlYXJjaChyLFN0cmluZyhlKSxTdHJpbmcsdCsxKX0pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXTtyPT09ZyYmKHI9Z1t0XSk7aWYoIXIpcmV0dXJuIHQ7dmFyIGk9bi5yZXNvdXJjZS52aXJ0dWFsKCJjc3MiLCIiKS5yZWFkeShmdW5jdGlvbihlKXtzKCksbi5vYmplY3QuZXh0ZW5kKGUse3VybDp0KyI/aXNvbGF0ZS1wcmVmaXg9IityLGJhc2VVUkk6bi5wYXRoLmRpcm5hbWUodCkrIi8ifSl9KSxzPW4ucmVzb3VyY2UodCkucmVhZHkoZnVuY3Rpb24oZSl7dmFyIHQ9cnQoZS5jc3NUZXh0fHwiIixyKTtpLnVwZGF0ZSh0KX0pO3JldHVybiBpLnVybH0pfXJldHVybiBkZWxldGUgYS5kZWZpbmVzLGRlbGV0ZSBhLmwxMG5SZXNvbHZlZCx1Lmxlbmd0aHx8KGEud2FybnM9ITEpLGF9fSgpLGN0PXt9LGR0PWYobnVsbCx7Y2xhc3NOYW1lOmErIi5UZW1wbGF0ZSIsX19leHRlbmRfXzpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGR0P2U6ZSBpbnN0YW5jZW9mIHZ0P25ldyBtdChlKTpuZXcgZHQoZSl9LHNvdXJjZToiIixiYXNlVVJJOiIiLGluaXQ6ZnVuY3Rpb24oZSl7aWYodi5sZW5ndGg9PTQwOTYpdGhyb3cgMzA7dGhpcy5hdHRhY2hlc189W10sdGhpcy5zZXRTb3VyY2UoZXx8IiIpLHRoaXMudGVtcGxhdGVJZD12LnB1c2godGhpcyktMX0sYmluZGluZ0JyaWRnZTp7YXR0YWNoOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxpO2k9ZS5hdHRhY2hlc19bcl07cisrKWlmKGkuaGFuZGxlcj09dCYmaS5jb250ZXh0PT1uKXJldHVybjtlLmF0dGFjaGVzXy5wdXNoKHtoYW5kbGVyOnQsY29udGV4dDpufSl9LGRldGFjaDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaTtpPWUuYXR0YWNoZXNfW3JdO3IrKylpZihpLmhhbmRsZXI9PXQmJmkuY29udGV4dD09bil7ZS5hdHRhY2hlc18uc3BsaWNlKHIsMSk7cmV0dXJufX0sZ2V0OmZ1bmN0aW9uKCl7fX0sY3JlYXRlSW5zdGFuY2U6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gbHQuY2FsbCh0aGlzKSx0aGlzLmNyZWF0ZUluc3RhbmNlKGUsdCxuLHIsaSl9LGNsZWFySW5zdGFuY2U6ZnVuY3Rpb24oZSl7fSxnZXRJc29sYXRlUHJlZml4OmZ1bmN0aW9uKCl7cmV0dXJuImkiK3RoaXMudGVtcGxhdGVJZCsiX18ifSxnZXRCaW5kaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBsdC5jYWxsKHRoaXMpLHRoaXMuZ2V0QmluZGluZyhlKX0sc2V0U291cmNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlO2lmKHQhPWUpe2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7dmFyIHI9ZS5tYXRjaCgvXihbYS16XSspOi8pO2lmKHIpe3ZhciBpPXJbMV07ZT1lLnN1YnN0cihyWzBdLmxlbmd0aCk7c3dpdGNoKGkpe2Nhc2UiZmlsZSI6ZT1uLnJlc291cmNlKGUpO2JyZWFrO2Nhc2UiaWQiOmU9cHQoZSk7YnJlYWs7Y2FzZSJ0b2tlbnMiOmU9bi5zdHJpbmcudG9PYmplY3QoZSksZS5pc0RlY2w9ITA7YnJlYWs7Y2FzZSJyYXciOmJyZWFrO2Nhc2UicGF0aCI6ZT13dChlKTticmVhaztkZWZhdWx0On19fWlmKHQmJnQuYmluZGluZ0JyaWRnZSl7dmFyIHM9dC51cmwmJm1bdC51cmxdO3MmJihkKHMsdGhpcykscy5sZW5ndGh8fGRlbGV0ZSBtW3QudXJsXSksdGhpcy5iYXNlVVJJPSIiLHRoaXMuc291cmNlLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHQsdXQsdGhpcyl9ZSYmZS5iaW5kaW5nQnJpZGdlJiYoZS51cmwmJih0aGlzLmJhc2VVUkk9Yy5kaXJuYW1lKGUudXJsKSsiLyIsbVtlLnVybF18fChtW2UudXJsXT1bXSkscChtW2UudXJsXSx0aGlzKSksZS5iaW5kaW5nQnJpZGdlLmF0dGFjaChlLHV0LHRoaXMpKSx0aGlzLnNvdXJjZT1lLHV0LmNhbGwodGhpcyl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95QnVpbGRlciYmdGhpcy5kZXN0cm95QnVpbGRlcigpLHRoaXMuYXR0YWNoZXNfPW51bGwsdGhpcy5jcmVhdGVJbnN0YW5jZT1udWxsLHRoaXMuZ2V0QmluZGluZz1udWxsLHRoaXMucmVzb3VyY2VzPW51bGwsdGhpcy5zb3VyY2U9bnVsbH19KSx2dD1mdW5jdGlvbihlKXtuLm9iamVjdC5leHRlbmQodGhpcyxlKX0sbXQ9bi5DbGFzcyhudWxsLHtjbGFzc05hbWU6YSsiLlRlbXBsYXRlU3dpdGNoZXIiLHJ1bGVSZXRfOm51bGwsdGVtcGxhdGVzXzpudWxsLHRlbXBsYXRlQ2xhc3M6ZHQscnVsZUV2ZW50czpudWxsLHJ1bGU6U3RyaW5nLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5ydWxlUmV0Xz1bXSx0aGlzLnRlbXBsYXRlc189W10sdGhpcy5ydWxlPWUucnVsZTt2YXIgdD1lLmV2ZW50cztpZih0JiZ0Lmxlbmd0aCl7dGhpcy5ydWxlRXZlbnRzPXt9O2Zvcih2YXIgbj0wLHI7cj10W25dO24rKyl0aGlzLnJ1bGVFdmVudHNbcl09ITB9bC5hZGQodGhpcyl9LHJlc29sdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ydWxlKGUpLG49dGhpcy5ydWxlUmV0Xy5pbmRleE9mKHQpO3JldHVybiBuPT0tMSYmKHRoaXMucnVsZVJldF8ucHVzaCh0KSxuPXRoaXMudGVtcGxhdGVzXy5wdXNoKG5ldyB0aGlzLnRlbXBsYXRlQ2xhc3ModCkpLTEpLHRoaXMudGVtcGxhdGVzX1tuXX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucnVsZT1udWxsLHRoaXMudGVtcGxhdGVzXz1udWxsLHRoaXMucnVsZVJldF89bnVsbH19KSx5dD1mKG51bGwse2NsYXNzTmFtZTphKyIuVGhlbWUiLGdldDp3dH0pLGJ0PWYobi5Ub2tlbix7Y2xhc3NOYW1lOmErIi5Tb3VyY2VXcmFwcGVyIixwYXRoOiIiLHVybDoiIixiYXNlVVJJOiIiLGluaXQ6ZnVuY3Rpb24oZSx0KXt0aGlzLnBhdGg9dCxuLlRva2VuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcywiIil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2U/dGhpcy52YWx1ZS5iaW5kaW5nQnJpZGdlLmdldCh0aGlzLnZhbHVlKTp0aGlzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oKXt2YXIgZT14dChNdCx0aGlzLnBhdGgpO3RoaXMudmFsdWUhPWUmJih0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2UmJnRoaXMudmFsdWUuYmluZGluZ0JyaWRnZS5kZXRhY2godGhpcy52YWx1ZSxidC5wcm90b3R5cGUuYXBwbHksdGhpcyksdGhpcy52YWx1ZT1lLHRoaXMudXJsPWUmJmUudXJsfHwiIix0aGlzLmJhc2VVUkk9KHR5cGVvZiBlPT0ib2JqZWN0Inx8dHlwZW9mIGU9PSJmdW5jdGlvbiIpJiYiYmFzZVVSSSJpbiBlP2UuYmFzZVVSSTpjLmRpcm5hbWUodGhpcy51cmwpKyIvIix0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2UmJnRoaXMudmFsdWUuYmluZGluZ0JyaWRnZS5hdHRhY2godGhpcy52YWx1ZSxidC5wcm90b3R5cGUuYXBwbHksdGhpcyksdGhpcy5hcHBseSgpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudXJsPW51bGwsdGhpcy5iYXNlVVJJPW51bGwsdGhpcy52YWx1ZSYmdGhpcy52YWx1ZS5iaW5kaW5nQnJpZGdlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHRoaXMudmFsdWUsdGhpcy5hcHBseSx0aGlzKSxuLlRva2VuLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSksTHQ9e30sQXQ9e30sT3Q9a3QoKSxNdD0iYmFzZSIsX3Q9W107bC5hZGQoe2Rlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gQXQpQXRbZV0uZGVzdHJveSgpO0x0PW51bGwsQXQ9bnVsbDtmb3IodmFyIHQ9MCxuO249dlt0XTt0Kyspbi5kZXN0cm95KCk7dj1udWxsfX0pLHQuZXhwb3J0cz17REVDTEFSQVRJT05fVkVSU0lPTjpnLFRZUEVfRUxFTUVOVDp5LFRZUEVfQVRUUklCVVRFOmIsVFlQRV9BVFRSSUJVVEVfQ0xBU1M6dyxUWVBFX0FUVFJJQlVURV9TVFlMRTpFLFRZUEVfQVRUUklCVVRFX0VWRU5UOlMsVFlQRV9URVhUOngsVFlQRV9DT01NRU5UOlQsVE9LRU5fVFlQRTpOLFRPS0VOX0JJTkRJTkdTOkMsVE9LRU5fUkVGUzprLEFUVFJfTkFNRTpMLEFUVFJfVkFMVUU6QSxBVFRSX05BTUVfQllfVFlQRTpNLEVMRU1FTlRfTkFNRTpQLEVMRU1FTlRfQVRUUlM6SCxFTEVNRU5UX0NISUxEUzpCLFRFWFRfVkFMVUU6aixDT01NRU5UX1ZBTFVFOkYsTDEwblByb3h5VG9rZW46WixUZW1wbGF0ZVN3aXRjaENvbmZpZzp2dCxUZW1wbGF0ZVN3aXRjaGVyOm10LFRlbXBsYXRlOmR0LFNvdXJjZVdyYXBwZXI6YnQsc3dpdGNoZXI6Z3QsdG9rZW5pemU6Ryxpc29sYXRlQ3NzOnJ0LGdldERlY2xGcm9tU291cmNlOmZ0LG1ha2VEZWNsYXJhdGlvbjppdCxnZXRMMTBuVGVtcGxhdGU6dHQsVGhlbWU6eXQsdGhlbWU6a3QsZ2V0VGhlbWVMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ub2JqZWN0LmtleXMoTHQpfSxjdXJyZW50VGhlbWU6ZnVuY3Rpb24oKXtyZXR1cm4gTHRbTXRdLnRoZW1lfSxzZXRUaGVtZTpmdW5jdGlvbihlKXtyZXR1cm4ga3QoZSkuYXBwbHkoKX0sb25UaGVtZUNoYW5nZTpEdCxkZWZpbmU6T3QuZGVmaW5lLGdldDp3dCxnZXRQYXRoTGlzdDpmdW5jdGlvbigpe3JldHVybiBuLm9iamVjdC5rZXlzKEF0KX19fSwiNy5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBYKGUpe3ZhciB0PW4udGVtcGxhdGUuZ2V0TDEwblRlbXBsYXRlKGUpLHI9dC50ZW1wbGF0ZUlkLGk9V1tyXTtyZXR1cm4gaXx8KGk9V1tyXT1uZXcgZXQodC5zb3VyY2UpKSxpfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudHlwZT09ImNsaWNrIiYmdC53aGljaD09MylyZXR1cm47dmFyIG49alt0LnR5cGVdfHx0LnR5cGUhPSJtb3VzZWVudGVyIiYmdC50eXBlIT0ibW91c2VsZWF2ZSIscj10LnNlbmRlcixpO3doaWxlKHIpe2k9ci5nZXRBdHRyaWJ1dGUmJnIuZ2V0QXR0cmlidXRlKGUpO2lmKCFufHx0eXBlb2YgaT09InN0cmluZyIpYnJlYWs7cj1yLnBhcmVudE5vZGV9aWYodHlwZW9mIGk9PSJzdHJpbmciKXt2YXIgcz1yLG89cyx1LGE7aWYoalt0LnR5cGVdKXt2YXIgZj10LnJlbGF0ZWRUYXJnZXQ7ZiYmKHM9PT1mfHxzLmNvbnRhaW5zKGYpKSYmKHM9bnVsbCl9d2hpbGUocyl7dT1zW19dO2lmKHR5cGVvZiB1PT0ibnVtYmVyIilpZihhPUsodSkpYnJlYWs7cz1zLnBhcmVudE5vZGV9aWYoYSYmYS5hY3Rpb24pe3ZhciBsPWkudHJpbSgpLnNwbGl0KC9ccysvKTt0LmFjdGlvblRhcmdldD1vO2Zvcih2YXIgYz0wLGg7aD1sW2MrK107KXN3aXRjaChoKXtjYXNlInByZXZlbnQtZGVmYXVsdCI6dC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2Uic3RvcC1wcm9wYWdhdGlvbiI6dC5zdG9wUHJvcGFnYXRpb24oKTticmVhaztkZWZhdWx0OmEuYWN0aW9uLmNhbGwoYS5jb250ZXh0LGgsdCl9fX10LnR5cGUgaW4gQiYmQlt0LnR5cGVdKHQscil9fWZ1bmN0aW9uIEooZSl7dmFyIHQ9ZSY0MDk1LG49UFt0XTtyZXR1cm4gbiYmbi50ZW1wbGF0ZX1mdW5jdGlvbiBLKGUpe3ZhciB0PWUmNDA5NSxuPWU+PjEyLHI9UFt0XTtyZXR1cm4gciYmci5pbnN0YW5jZXNbbl19ZnVuY3Rpb24gUShlKXt2YXIgdD1LKGUpO3JldHVybiB0JiZ0LmNvbnRleHR9ZnVuY3Rpb24gRyhlKXt2YXIgdD1LKGUpO3JldHVybiB0JiZ0LnRtcGx9ZnVuY3Rpb24gWShlKXt2YXIgdD1LKGUpO3JldHVybiB0JiZ0LmRlYnVnJiZ0LmRlYnVnKCl9bi5yZXF1aXJlKCIuLzguanMiKSxuLnJlcXVpcmUoIi4vMi5qcyIpLG4ucmVxdWlyZSgiLi82LmpzIiksbi5yZXF1aXJlKCIuLzkuanMiKTt2YXIgYT10aGlzLnBhdGgsZj1yLmRvY3VtZW50LGw9bi5kb20uZXZlbnQsYz1uLmFycmF5LmZyb20saD1uLnN0cmluZy5jYW1lbGl6ZSxwPW4ubDEwbi50b2tlbixkPW4udGVtcGxhdGUuaHRtbGZnZW4uZ2V0RnVuY3Rpb25zLHY9bi50ZW1wbGF0ZS5UZW1wbGF0ZVN3aXRjaENvbmZpZyxtPW4udGVtcGxhdGUuVGVtcGxhdGVTd2l0Y2hlcixnPW4udGVtcGxhdGUuVGVtcGxhdGUseT1uLnRlbXBsYXRlLlRZUEVfRUxFTUVOVCxiPW4udGVtcGxhdGUuVFlQRV9BVFRSSUJVVEUsdz1uLnRlbXBsYXRlLlRZUEVfVEVYVCxFPW4udGVtcGxhdGUuVFlQRV9DT01NRU5ULFM9bi50ZW1wbGF0ZS5UT0tFTl9UWVBFLHg9bi50ZW1wbGF0ZS5UT0tFTl9CSU5ESU5HUyxUPW4udGVtcGxhdGUuVE9LRU5fUkVGUyxOPW4udGVtcGxhdGUuQVRUUl9OQU1FLEM9bi50ZW1wbGF0ZS5BVFRSX1ZBTFVFLGs9bi50ZW1wbGF0ZS5BVFRSX05BTUVfQllfVFlQRSxMPW4udGVtcGxhdGUuRUxFTUVOVF9OQU1FLEE9bi50ZW1wbGF0ZS5URVhUX1ZBTFVFLE89bi50ZW1wbGF0ZS5DT01NRU5UX1ZBTFVFLE09L15ldmVudC0oLispKy8sXz0iYmFzaXNUZW1wbGF0ZUlkXyIrbi5nZW5VSUQoKSxEPXt9LFA9e30sSD17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyJ9LEI9e30saj17fSxGPSJvbm1vdXNlZW50ZXIiaW4gZi5kb2N1bWVudEVsZW1lbnQsST0hZi5hZGRFdmVudExpc3RlbmVyJiYiX19iYXNpc1RlbXBsYXRlIitwYXJzZUludCgxZTkqTWF0aC5yYW5kb20oKSk7SSYmKHJbSV09ZnVuY3Rpb24oZSx0KXtsLmZpcmVFdmVudChmLGUpLHQucmV0dXJuVmFsdWU9ITA7dmFyIG49RFtlXTtuJiZuKG5ldyBsLkV2ZW50KHQpKX0pO3ZhciBxPWZ1bmN0aW9uKCl7dmFyIGU9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5hcHBlbmRDaGlsZChmLmNyZWF0ZVRleHROb2RlKCJhIikpLGUuYXBwZW5kQ2hpbGQoZi5jcmVhdGVUZXh0Tm9kZSgiYSIpKSxlLmNsb25lTm9kZSh0cnVlKS5jaGlsZE5vZGVzLmxlbmd0aD09MX0oKSxSPWZ1bmN0aW9uKCl7dmFyIGU9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwiYSIpLCFlLmNsYXNzTmFtZX0oKSxVPWZ1bmN0aW9uKCl7dmFyIGU9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwicG9zaXRpb246YWJzb2x1dGUiKSxlLnN0eWxlLnBvc2l0aW9uIT0iYWJzb2x1dGUifSgpLHo9ISFmdW5jdGlvbigpe3RyeXtyZXR1cm4gZi5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY29sb3I9IngifWNhdGNoKGUpe319KCk7dHlwZW9mIE5vZGUhPSJ1bmRlZmluZWQiJiYhTm9kZS5wcm90b3R5cGUuY29udGFpbnMmJihOb2RlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4hISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpJjE2KX0pO3ZhciBXPXt9LCQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUsdCl7cih0KSxqW2VdPSEwLEJbdF09ZnVuY3Rpb24odCl7dD1uZXcgbC5FdmVudCh0KSx0LnR5cGU9ZSxEW2VdKHQpfSxCW2VdPWZ1bmN0aW9uKHQsbil7bj1uJiZuLnBhcmVudE5vZGUsbiYmKHQ9bmV3IGwuRXZlbnQodCksdC50eXBlPWUsdC5zZW5kZXI9bixEW2VdKHQpKX19ZnVuY3Rpb24gcihlKXtpZighRFtlXSl7RFtlXT1WKCJldmVudC0iK2UpO2lmKCFJKXtpZighRiYmZT09Im1vdXNlZW50ZXIiKXJldHVybiBuKGUsIm1vdXNlb3ZlciIpO2lmKCFGJiZlPT0ibW91c2VsZWF2ZSIpcmV0dXJuIG4oZSwibW91c2VvdXQiKTtmb3IodmFyIHQ9MCxyPWwuYnJvd3NlckV2ZW50cyhlKSxpO2k9clt0XTt0KyspbC5hZGRHbG9iYWxIYW5kbGVyKGksRFtlXSl9fX1mdW5jdGlvbiBpKGUsdCl7cihlKSxJJiZvLnNldEF0dHJpYnV0ZSgib24iK2UsSSsnKCInK2UrJyIsZXZlbnQpJyksby5zZXRBdHRyaWJ1dGUoImV2ZW50LSIrZSx0KX1mdW5jdGlvbiBzKGUsdCl7UiYmZT09ImNsYXNzIiYmKGU9ImNsYXNzTmFtZSIpO2lmKFUmJmU9PSJzdHlsZSIpcmV0dXJuIG8uc3R5bGUuY3NzVGV4dD10O28uc2V0QXR0cmlidXRlKGUsdCl9dmFyIG89dHx8Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHZhciB1PXQ/NDowLGE7YT1lW3VdO3UrKylzd2l0Y2goYVtTXSl7Y2FzZSB5OnZhciBjPWFbTF0saD1jLnNwbGl0KC86LykscD1oLmxlbmd0aD4xP2YuY3JlYXRlRWxlbWVudE5TKEhbaFswXV0sYyk6Zi5jcmVhdGVFbGVtZW50KGMpOyQoYSxwKSxvLmFwcGVuZENoaWxkKHApO2JyZWFrO2Nhc2UgYjp2YXIgZD1hW05dLHY9YVtDXSxtPWQucmVwbGFjZSgvXmV2ZW50LS8sIiIpO20hPWQ/aShtLHYpOihkIT0iY2xhc3MiJiZkIT0ic3R5bGUiPyFhW3hdOnYpJiZzKGQsdnx8IiIpO2JyZWFrO2Nhc2UgNDpjYXNlIDU6dmFyIHY9YVtDLTFdO3YmJnMoa1thW1NdXSx2KTticmVhaztjYXNlIDY6aShhWzFdLGFbMl18fGFbMV0pO2JyZWFrO2Nhc2UgRTpvLmFwcGVuZENoaWxkKGYuY3JlYXRlQ29tbWVudChhW09dfHwoYVtUXT8ieyIrYVtUXS5qb2luKCJ8IikrIn0iOiIiKSkpO2JyZWFrO2Nhc2UgdzpxJiZ1JiZlW3UtMV1bU109PXcmJm8uYXBwZW5kQ2hpbGQoZi5jcmVhdGVDb21tZW50KCIiKSksby5hcHBlbmRDaGlsZChmLmNyZWF0ZVRleHROb2RlKGFbQV18fChhW1RdPyJ7IithW1RdLmpvaW4oInwiKSsifSI6IiIpfHwoYVt4XT8ieyIrYVt4XSsifSI6IiIpKSl9cmV0dXJuIXQmJmUubGVuZ3RoPT0xJiYobz1vLmZpcnN0Q2hpbGQpLG99LFo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBtKCl7dGhpcy5zZXQodGhpcy5uYW1lLHRoaXMudmFsdWUpfWZ1bmN0aW9uIGcoZSx0LHIpe3ZhciBpPXQmJnQuYmluZGluZ0JyaWRnZSxzPXRoaXMuYXR0YWNoZXMmJnRoaXMuYXR0YWNoZXNbZV0sbz1udWxsO2lmKGl8fHMpaWYoaSl7aWYoIXN8fHQhPT1zLnZhbHVlKXtzJiYocy50bXBsJiYocy50bXBsLmVsZW1lbnQudG9TdHJpbmc9bnVsbCxYKHMudmFsdWUpLmNsZWFySW5zdGFuY2Uocy50bXBsKSkscy52YWx1ZS5iaW5kaW5nQnJpZGdlLmRldGFjaChzLnZhbHVlLG0scykpO2lmKHQudHlwZT09Im1hcmt1cCImJnQgaW5zdGFuY2VvZiBuLmwxMG4uVG9rZW4pe3ZhciB1PVgodCksYT10aGlzLmNvbnRleHQsZj10aGlzLmJpbmRpbmdzLGw9dGhpcy5iaW5kaW5nSW50ZXJmYWNlO289dS5jcmVhdGVJbnN0YW5jZShhLG51bGwsZnVuY3Rpb24gaCgpe289Yy50bXBsPXUuY3JlYXRlSW5zdGFuY2UoYSxudWxsLGgsZixsKSxvLmVsZW1lbnQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdC52YWx1ZX0sbS5jYWxsKGMpfSxmLGwpLG8uZWxlbWVudC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0LnZhbHVlfX10aGlzLmF0dGFjaGVzfHwodGhpcy5hdHRhY2hlcz1uZXcgcik7dmFyIGM9dGhpcy5hdHRhY2hlc1tlXT17bmFtZTplLHZhbHVlOnQsdG1wbDpvLHNldDp0aGlzLnRtcGwuc2V0fTtpLmF0dGFjaCh0LG0sYyl9ZWxzZSBvPXQmJnQudHlwZT09Im1hcmt1cCI/cy50bXBsOm51bGw7aWYobylyZXR1cm4gby5lbGVtZW50O3Q9aS5nZXQodCl9ZWxzZSBzJiYocy50bXBsJiYocy50bXBsLmVsZW1lbnQudG9TdHJpbmc9bnVsbCxYKHMudmFsdWUpLmNsZWFySW5zdGFuY2Uocy50bXBsKSkscy52YWx1ZS5iaW5kaW5nQnJpZGdlLmRldGFjaChzLnZhbHVlLG0scyksdGhpcy5hdHRhY2hlc1tlXT1udWxsKTtyZXR1cm4gdH1mdW5jdGlvbiB5KGUsdCl7dmFyIG49ZVswXSxyPWVbMV0saT10W25dLHM9dFtyXTtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24odCl7dGhpcyhuLGkodCkpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQpe3RoaXMobixpKHQpKSx0aGlzKHIscyh0KSl9O2RlZmF1bHQ6dmFyIG89ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KTtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdGhpcyhlW3JdLG9bcl0obikpfX19ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgbiBpbiBlKWVbbl09eShlW25dLHQpO3JldHVybiBuP2U6bnVsbH1mdW5jdGlvbiB3KGUpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihyLGkscyxvKXtpZighcilyZXR1cm57fTt2YXIgdT0iYmluZGluZ0lkImluIHI/ci5iaW5kaW5nSWQ6bnVsbCxhPXRbdV07aWYoIWEpe3ZhciBmPVtdLGw9e30sYz17fTtmb3IodmFyIGg9MCxwO3A9ZVtoXTtoKyspe3ZhciBkPXJbcF0sdj1kJiZkLmdldHRlcjtpZih2KXtsW3BdPXYsZi5wdXNoKHApO2lmKGQuZXZlbnRzKXt2YXIgbT1TdHJpbmcoZC5ldmVudHMpLnRyaW0oKS5zcGxpdCgvXHMrfFxzKixccyovKTtmb3IodmFyIGc9MCx3O3c9bVtnXTtnKyspY1t3XT9jW3ddLnB1c2gocCk6Y1t3XT1bcF19fX1hPXtuYW1lczpmLHN5bmM6eShmLGwpLGhhbmRsZXI6YihjLGwpfSx1JiYodFt1XT1hKX1pJiZzJiZhLnN5bmMuY2FsbChzLGkpO2lmKCFvKXJldHVybjtyZXR1cm4gYS5oYW5kbGVyJiZvLmF0dGFjaChpLGEuaGFuZGxlcixzKSxhLmhhbmRsZXJ9fXZhciBlPS9ccysvLHQ9dHlwZW9mIE5vZGU9PSJmdW5jdGlvbiImJmYgaW5zdGFuY2VvZiBOb2RlLGk9ci5ET01Ub2tlbkxpc3QmJmYmJmYuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdCBpbnN0YW5jZW9mIHIuRE9NVG9rZW5MaXN0LHM9dD9mdW5jdGlvbihlLHQsbil7dmFyIHI9biYmbiBpbnN0YW5jZW9mIE5vZGU/bjplO3JldHVybiByIT09dCYmdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChyLHQpLHJ9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uJiZ0eXBlb2Ygbj09Im9iamVjdCI/bjplO2lmKHIhPT10KXRyeXt0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHIsdCl9Y2F0Y2goaSl7cj1lLHQhPT1yJiZ0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHIsdCl9cmV0dXJuIHJ9LG89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXMoZSx0LG4pO3JldHVybiByPT09ZSYmdHlwZW9mIG49PSJzdHJpbmciJiYoZS5pbm5lckhUTUw9bikscn0sdT1zLGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXMoZSx0LG4pO3JldHVybiByPT09ZSYmKGUubm9kZVZhbHVlPW4pLHJ9LGw9aT9mdW5jdGlvbihlLHQscixpLHMpe3ZhciBvPXI/aStyOiIiO3JldHVybiBvIT10JiYodCYmZS5jbGFzc0xpc3QucmVtb3ZlKHQpLG8mJihlLmNsYXNzTGlzdC5hZGQobykscyYmKGUuY2xhc3NMaXN0LmFkZChvKyItYW5pbSIpLG4ubmV4dFRpY2soZnVuY3Rpb24oKXtlLmNsYXNzTGlzdC5yZW1vdmUobysiLWFuaW0iKX0pKSkpLG99OmZ1bmN0aW9uKHQscixpLHMsbyl7dmFyIHU9aT9zK2k6IiI7aWYodSE9cil7dmFyIGE9dC5jbGFzc05hbWUsZj10eXBlb2YgYSE9InN0cmluZyIsbDtmJiYoYT1hLmJhc2VWYWwpLGw9YS5zcGxpdChlKSxyJiZuLmFycmF5LnJlbW92ZShsLHIpLHUmJihsLnB1c2godSksbyYmKG4uYXJyYXkuYWRkKGwsdSsiLWFuaW0iKSxuLm5leHRUaWNrKGZ1bmN0aW9uKCl7dmFyIHI9KGY/dC5jbGFzc05hbWUuYmFzZVZhbDp0LmNsYXNzTmFtZSkuc3BsaXQoZSk7bi5hcnJheS5yZW1vdmUocix1KyItYW5pbSIpLGY/dC5jbGFzc05hbWUuYmFzZVZhbD1yLmpvaW4oIiAiKTp0LmNsYXNzTmFtZT1yLmpvaW4oIiAiKX0pKSksZj90LmNsYXNzTmFtZS5iYXNlVmFsPWwuam9pbigiICIpOnQuY2xhc3NOYW1lPWwuam9pbigiICIpfXJldHVybiB1fSxjPXo/ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG4hPT1yJiYoZS5zdHlsZVtoKHQpXT1yKSxyfTpmdW5jdGlvbihlLHQsbixyKXtpZihuIT09cil0cnl7ZS5zdHlsZVtoKHQpXT1yfWNhdGNoKGkpe31yZXR1cm4gcn0sdj1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbiE9PXImJihyP2Uuc2V0QXR0cmlidXRlKHQscik6ZS5yZW1vdmVBdHRyaWJ1dGUodCkpLHJ9LEU9e2JpbmRfdGV4dE5vZGU6YSxiaW5kX25vZGU6cyxiaW5kX2VsZW1lbnQ6byxiaW5kX2NvbW1lbnQ6dSxiaW5kX2F0dHI6dixiaW5kX2F0dHJDbGFzczpsLGJpbmRfYXR0clN0eWxlOmMscmVzb2x2ZTpnLGwxMG5Ub2tlbjpwLGNyZWF0ZUJpbmRpbmdGdW5jdGlvbjp3fTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZChlLCEwLHRoaXMuc291cmNlLnVybCxlLnNvdXJjZV8sIXEsXyksbixyPXt9LGk9e30scz1bXSxvPTAsdT0kKGUpLGE9dGhpcy50ZW1wbGF0ZUlkO1BbYV09e3RlbXBsYXRlOnRoaXMsaW5zdGFuY2VzOnJ9O2lmKHQuY3JlYXRlTDEwblN5bmMpe3ZhciBmPXQuY3JlYXRlTDEwblN5bmModSxpLHYscSk7Zm9yKHZhciBsPTAsYztjPXQubDEwbktleXNbbF07bCsrKWYoYyxwKGMpLnZhbHVlKTtpZih0LmwxMG5LZXlzKWZvcih2YXIgbD0wLGM7Yz10LmwxMG5LZXlzW2xdO2wrKyl7dmFyIGg9e3BhdGg6Yyx0b2tlbjpwKGMpLGhhbmRsZXI6ZnVuY3Rpb24oZSl7Zih0aGlzLnBhdGgsZSk7Zm9yKHZhciB0IGluIHIpclt0XS50bXBsLnNldCh0aGlzLnBhdGgsZSl9fTtoLnRva2VuLmF0dGFjaChoLmhhbmRsZXIsaCkscy5wdXNoKGgpLGg9bnVsbH19cmV0dXJuIG49dC5jcmVhdGVJbnN0YW5jZShhLHIsdSxFLGkscSkse2NyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGUsdCxpLHMsdSl7dmFyIGE9bysrLGY9bihhLGUsdCxpLHMsdSk7cmV0dXJuIHJbYV09ZixmLnRtcGx9LGRlc3Ryb3lJbnN0YW5jZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRlbXBsYXRlSWRfLG49clt0XTtpZihuKXtuLmhhbmRsZXImJm4uYmluZGluZ0ludGVyZmFjZS5kZXRhY2gobi5jb250ZXh0LG4uaGFuZGxlcixuLnRtcGwuc2V0KTtmb3IodmFyIGkgaW4gbi5hdHRhY2hlcylnLmNhbGwobixpLG51bGwpO2RlbGV0ZSByW3RdfX0sa2V5czp0LmtleXMsZGVzdHJveTpmdW5jdGlvbihlKXtmb3IodmFyIG49MCxvO289c1tuXTtuKyspby50b2tlbi5kZXRhY2goby5oYW5kbGVyLG8pO2Zvcih2YXIgbCBpbiByKXt2YXIgYz1yW2xdO2UmJmMucmVidWlsZCYmYy5yZWJ1aWxkLmNhbGwoYy5jb250ZXh0KTtpZighZXx8bCBpbiByKXtjLmhhbmRsZXImJmMuYmluZGluZ0ludGVyZmFjZS5kZXRhY2goYy5jb250ZXh0LGMuaGFuZGxlcixjLnRtcGwuc2V0KTtmb3IodmFyIGwgaW4gYy5hdHRhY2hlcylnLmNhbGwobCxudWxsKX19UFthXSYmUFthXS5pbnN0YW5jZXM9PT1yJiZkZWxldGUgUFthXSx0PW51bGwsdT1udWxsLGk9bnVsbCxzPW51bGwsZj1udWxsLHI9bnVsbH19fX0oKSxldD1nLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlRlbXBsYXRlIixfX2V4dGVuZF9fOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZXQ/ZTplIGluc3RhbmNlb2Ygdj9uZXcgdHQoZSk6bmV3IGV0KGUpfSxidWlsZGVyOlp9KSx0dD1tLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlRlbXBsYXRlU3dpdGNoZXIiLHRlbXBsYXRlQ2xhc3M6ZXR9KTt0LmV4cG9ydHM9e21hcmtlcjpfLFRlbXBsYXRlOmV0LFRlbXBsYXRlU3dpdGNoZXI6dHR9LG4udGVtcGxhdGUuZXh0ZW5kKHtidWlsZEh0bWw6JCxyZXNvbHZlVGVtcGxhdGVCeUlkOkoscmVzb2x2ZU9iamVjdEJ5SWQ6USxyZXNvbHZlVG1wbEJ5SWQ6R30pfSwiOC5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBiKGUpe3JldHVybiB5W2VdfHxbZV19ZnVuY3Rpb24gRShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHc/ZS5ldmVudF86ZXx8ci5ldmVudH1mdW5jdGlvbiBTKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/Zi5nZXRFbGVtZW50QnlJZChlKTplfWZ1bmN0aW9uIHgoZSl7dmFyIHQ9ZS50YXJnZXR8fGUuc3JjRWxlbWVudHx8ZjtyZXR1cm4gdC5ub2RlVHlwZT09Mz90LnBhcmVudE5vZGU6dH1mdW5jdGlvbiBUKGUpe2Uuc3RvcFByb3BhZ2F0aW9uP2Uuc3RvcFByb3BhZ2F0aW9uKCk6ZS5jYW5jZWxCdWJibGU9ITB9ZnVuY3Rpb24gTihlKXtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIEMoZSx0KXt0PVModCksdD9SKHQsZSxDKTooTihlKSxUKGUpKX1mdW5jdGlvbiBrKGUpe3JldHVybiBlLmtleUNvZGV8fGUud2hpY2h8fDB9ZnVuY3Rpb24gTChlKXtyZXR1cm4gZS5jaGFyQ29kZXx8ZS5rZXlDb2RlfHwwfWZ1bmN0aW9uIEEoZSx0KXtyZXR1cm4gdHlwZW9mIGUud2hpY2g9PSJudW1iZXIiP2Uud2hpY2g9PXQuVkFMVUU6ISEoZS5idXR0b24mdC5CSVQpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIGUuY2hhbmdlZFRvdWNoZXM/ZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDoicGFnZVgiaW4gZT9lLnBhZ2VYOiJjbGllbnRYImluIGU/ZS5jbGllbnRYKyhmLmNvbXBhdE1vZGU9PSJDU1MxQ29tcGF0Ij9mLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OmYuYm9keS5zY3JvbGxMZWZ0KTowfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIGUuY2hhbmdlZFRvdWNoZXM/ZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWToicGFnZVkiaW4gZT9lLnBhZ2VZOiJjbGllbnRZImluIGU/ZS5jbGllbnRZKyhmLmNvbXBhdE1vZGU9PSJDU1MxQ29tcGF0Ij9mLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A6Zi5ib2R5LnNjcm9sbFRvcCk6MH1mdW5jdGlvbiBfKGUpe3ZhciB0PTA7cmV0dXJuIndoZWVsRGVsdGEiaW4gZT90PWUud2hlZWxEZWx0YTplLnR5cGU9PSJET01Nb3VzZVNjcm9sbCImJih0PS1lLmRldGFpbCksdCYmdC9NYXRoLmFicyh0KX1mdW5jdGlvbiBCKGUpe3ZhciB0PWMoRFtlLnR5cGVdKSxuPVBbZS50eXBlXSxyPW5ldyB3KGUpO2lmKG4pe24uaGFuZGxlci5jYWxsKG4udGhpc09iamVjdCxyKSxDKGUpO3JldHVybn1pZih0KWZvcih2YXIgaT10Lmxlbmd0aDtpLS0+MDspe3ZhciBzPXRbaV07cy5oYW5kbGVyLmNhbGwocy50aGlzT2JqZWN0LHIpfX1mdW5jdGlvbiBqKGUsdCxuKXtQW2VdJiZGKGUpLEkoZSx0LG4pLFBbZV09e2hhbmRsZXI6dCx0aGlzT2JqZWN0Om59fWZ1bmN0aW9uIEYoZSl7dmFyIHQ9UFtlXTt0JiYocShlLHQuaGFuZGxlcix0LnRoaXNPYmplY3QpLGRlbGV0ZSBQW2VdKX1mdW5jdGlvbiBJKGUsdCxuKXt2YXIgcj1EW2VdO2lmKHIpe2Zvcih2YXIgaT0wLHM7cz1yW2ldO2krKylpZihzLmhhbmRsZXI9PT10JiZzLnRoaXNPYmplY3Q9PT1uKXJldHVybn1lbHNlIEg/UihmLGUsbCk6Zi5hZGRFdmVudExpc3RlbmVyKGUsQiwhMCkscj1EW2VdPVtdO3IucHVzaCh7aGFuZGxlcjp0LHRoaXNPYmplY3Q6bn0pfWZ1bmN0aW9uIHEoZSx0LG4pe3ZhciByPURbZV07aWYocilmb3IodmFyIGk9MCxzO3M9cltpXTtpKyspaWYocy5oYW5kbGVyPT09dCYmcy50aGlzT2JqZWN0PT09bil7ci5zcGxpY2UoaSwxKSxyLmxlbmd0aHx8KGRlbGV0ZSBEW2VdLEg/eihmLGUsbCk6Zi5yZW1vdmVFdmVudExpc3RlbmVyKGUsQiwhMCkpO3JldHVybn19ZnVuY3Rpb24gUihlLHQsbixyKXtlPVMoZSk7aWYoIWUpdGhyb3cgMzI7aWYodHlwZW9mIG4hPSJmdW5jdGlvbiIpdGhyb3cgMzM7ZVtwXXx8KGVbcF09e30pO3ZhciBpPXtoYW5kbGVyOm4sdGhpc09iamVjdDpyfSxzPWVbcF0sbz1zW3RdO2lmKCFvKW89c1t0XT1baV0sby5maXJlRXZlbnQ9ZnVuY3Rpb24oZSl7ZT1FKGUpO2lmKEgmJmUmJkRbdF0mJnR5cGVvZiBlLnJldHVyblZhbHVlPT0idW5kZWZpbmVkIil7QihlKTtpZihlLmNhbmNlbEJ1YmJsZT09PSEwKXJldHVybjt0eXBlb2YgZS5yZXR1cm5WYWx1ZT09InVuZGVmaW5lZCImJihlLnJldHVyblZhbHVlPSEwKX1mb3IodmFyIG49MCxyPW5ldyB3KGUpLGk7aT1vW24rK107KWkuaGFuZGxlci5jYWxsKGkudGhpc09iamVjdCxyKX0saD9lLmFkZEV2ZW50TGlzdGVuZXIodCxvLmZpcmVFdmVudCwhMSk6ZS5hdHRhY2hFdmVudCgib24iK3Qsby5maXJlRXZlbnQpO2Vsc2V7Zm9yKHZhciB1PTAsYTthPW9bdV07dSsrKWlmKGEuaGFuZGxlcj09PW4mJmEudGhpc09iamVjdD09PXIpcmV0dXJuO28ucHVzaChpKX19ZnVuY3Rpb24gVShlLHQsbil7ZT1TKGUpO2Zvcih2YXIgciBpbiB0KVIoZSxyLHRbcl0sbil9ZnVuY3Rpb24geihlLHQsbixyKXtlPVMoZSk7dmFyIGk9ZVtwXTtpZihpKXt2YXIgcz1pW3RdO2lmKHMpZm9yKHZhciBvPTAsdTt1PXNbb107bysrKWlmKHUuaGFuZGxlcj09PW4mJnUudGhpc09iamVjdD09PXIpe3Muc3BsaWNlKG8sMSkscy5sZW5ndGh8fFcoZSx0KTtyZXR1cm59fX1mdW5jdGlvbiBXKGUsdCl7ZT1TKGUpO3ZhciBuPWVbcF07aWYobilpZih0eXBlb2YgdCE9InN0cmluZyIpZm9yKHQgaW4gbilXKGUsdCk7ZWxzZXt2YXIgcj1uW3RdO3ImJihlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsci5maXJlRXZlbnQsITEpOmUuZGV0YWNoRXZlbnQoIm9uIit0LHIuZmlyZUV2ZW50KSxkZWxldGUgblt0XSl9fWZ1bmN0aW9uIFgoZSx0LG4pe2U9UyhlKTt2YXIgcj1lW3BdO3ImJnJbdF0mJnJbdF0uZmlyZUV2ZW50KG4pfWZ1bmN0aW9uIFYoZSx0KXtSKHIsInVubG9hZCIsZSx0KX1mdW5jdGlvbiBKKGUsdCl7dHx8KHQ9ImRpdiIpO3ZhciBuPXQrIi0iK2U7aWYoJFtuXSlyZXR1cm4gJFtuXTt2YXIgcj0hMSxpPSExO2lmKCFoKXt2YXIgcz0ib24iK2Usbz1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHU9by5hcHBlbmRDaGlsZChmLmNyZWF0ZUVsZW1lbnQodCkpO29bc109ZnVuY3Rpb24oKXtpPSEwfTt0cnl7dS5maXJlRXZlbnQocykscj0hMH1jYXRjaChhKXt9fXJldHVybiAkW25dPXtzdXBwb3J0ZWQ6cixidWJibGU6aX19ZnVuY3Rpb24gSyhlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gZShFKHQpLG4pfX12YXIgYT10aGlzLnBhdGgsZj1yLmRvY3VtZW50LGw9bi5mbi4kbnVsbCxjPW4uYXJyYXkuZnJvbSxoPSEhZi5hZGRFdmVudExpc3RlbmVyLHA9Il9fYmFzaXNFdmVudHMiLGQ9e0JBQ0tTUEFDRTo4LFRBQjo5LENUUkxfRU5URVI6MTAsRU5URVI6MTMsU0hJRlQ6MTYsQ1RSTDoxNyxBTFQ6MTgsRVNDOjI3LEVTQ0FQRToyNyxTUEFDRTozMixQQUdFVVA6MzMsUEFHRURPV046MzQsRU5EOjM1LEhPTUU6MzYsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwLElOU0VSVDo0NSxERUxFVEU6NDYsRjE6MTEyLEYyOjExMyxGMzoxMTQsRjQ6MTE1LEY1OjExNixGNjoxMTcsRjc6MTE4LEY4OjExOSxGOToxMjAsRjEwOjEyMSxGMTE6MTIyLEYxMjoxMjN9LHY9e1ZBTFVFOjEsQklUOjF9LG09e1ZBTFVFOjIsQklUOjR9LGc9e1ZBTFVFOjMsQklUOjJ9LHk9e21vdXNld2hlZWw6WyJtb3VzZXdoZWVsIiwiRE9NTW91c2VTY3JvbGwiXX0sdz1uLkNsYXNzKG51bGwse2NsYXNzTmFtZTphKyIuRXZlbnQiLEtFWTpkLGluaXQ6ZnVuY3Rpb24oZSl7ZT1FKGUpO2Zvcih2YXIgdCBpbiBlKXR5cGVvZiBlW3RdIT0iZnVuY3Rpb24iJiZ0IGluIHRoaXM9PTAmJih0aGlzW3RdPWVbdF0pO3ZhciByPXgoZSk7bi5vYmplY3QuZXh0ZW5kKHRoaXMse2V2ZW50XzplLHNlbmRlcjpyLHRhcmdldDpyLGtleTprKGUpLGNoYXJDb2RlOkwoZSksbW91c2VMZWZ0OkEoZSx2KSxtb3VzZU1pZGRsZTpBKGUsbSksbW91c2VSaWdodDpBKGUsZyksbW91c2VYOk8oZSksbW91c2VZOk0oZSksd2hlZWxEZWx0YTpfKGUpfSl9LHN0b3BCdWJibGU6ZnVuY3Rpb24oKXtUKHRoaXMuZXZlbnRfKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7VCh0aGlzLmV2ZW50Xyl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7Tih0aGlzLmV2ZW50Xyl9LGRpZTpmdW5jdGlvbigpe3RoaXMuc3RvcEJ1YmJsZSgpLHRoaXMucHJldmVudERlZmF1bHQoKX19KSxEPXt9LFA9e30sSD0haCwkPXt9O3QuZXhwb3J0cz17VzNDU1VQUE9SVDpoLGJyb3dzZXJFdmVudHM6YixnZXRFdmVudEluZm86SixLRVk6ZCxNT1VTRV9MRUZUOnYsTU9VU0VfUklHSFQ6ZyxNT1VTRV9NSURETEU6bSxFdmVudDp3LHNlbmRlcjpLKHgpLGNhbmNlbEJ1YmJsZTpLKFQpLGNhbmNlbERlZmF1bHQ6SyhOKSxraWxsOksoQyksa2V5OksoayksY2hhckNvZGU6SyhMKSxtb3VzZUJ1dHRvbjpLKEEpLG1vdXNlWDpLKE8pLG1vdXNlWTpLKE0pLHdoZWVsRGVsdGE6SyhfKSxhZGRHbG9iYWxIYW5kbGVyOkkscmVtb3ZlR2xvYmFsSGFuZGxlcjpxLGNhcHR1cmVFdmVudDpqLHJlbGVhc2VFdmVudDpGLGFkZEhhbmRsZXI6UixhZGRIYW5kbGVyczpVLHJlbW92ZUhhbmRsZXI6eixjbGVhckhhbmRsZXJzOlcsZmlyZUV2ZW50Olgsb25VbmxvYWQ6Vix3cmFwOkV9fSwiOS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBDKGUsdCl7cmV0dXJuIG5ldyBGdW5jdGlvbihlLHQpfW4ucmVxdWlyZSgiLi82LmpzIik7dmFyIGE9bi50ZW1wbGF0ZS5UWVBFX0VMRU1FTlQsZj1uLnRlbXBsYXRlLlRZUEVfQVRUUklCVVRFLGw9bi50ZW1wbGF0ZS5UWVBFX1RFWFQsYz1uLnRlbXBsYXRlLlRZUEVfQ09NTUVOVCxoPW4udGVtcGxhdGUuVE9LRU5fVFlQRSxwPW4udGVtcGxhdGUuVE9LRU5fQklORElOR1MsZD1uLnRlbXBsYXRlLlRPS0VOX1JFRlMsdj1uLnRlbXBsYXRlLkFUVFJfTkFNRSxtPW4udGVtcGxhdGUuQVRUUl9OQU1FX0JZX1RZUEUsZz1uLnRlbXBsYXRlLkVMRU1FTlRfTkFNRSx5PW4udGVtcGxhdGUuRUxFTUVOVF9BVFRSUyxiPW4udGVtcGxhdGUuRUxFTUVOVF9DSElMRFMsdz1uLnRlbXBsYXRlLlRFWFRfVkFMVUUsRT1uLnRlbXBsYXRlLkNPTU1FTlRfVkFMVUUsUz17fSx4PTEsVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9MCxpO2k9ZVtyXTtyKyspaS5pbmRleE9mKCI6Iik9PS0xJiZuLnB1c2goaSsiOiIrdCl9ZnVuY3Rpb24gZihuKXt2YXIgcj10Lmxlbmd0aCxpPWVbcl18fCJyIityO3JldHVybiB0LnB1c2goaSsiPSIrbiksaX1mdW5jdGlvbiBiKGUpe3IucHVzaChlKX1mdW5jdGlvbiB3KGUsbixyLEUpe3ZhciBTLHgsVCxOLEM7Zm9yKHZhciBrPTAsTD0wLEE9MCxPO089ZVtrXTtrKyssTCsrLE49ITEpe2s/ZVtrKzFdPyhPW2hdPT1lW2stMV1baF0mJk9baF09PWwmJkErKyxTPW4rIi5jaGlsZE5vZGVzWyIrKHI/TDpMKyhBPyIgKyAiK0ErIiAqIFRFWFRfQlVHIjoiIikpKyJdIik6Uz1uKyIubGFzdENoaWxkIjpTPW4rIi5maXJzdENoaWxkIjtpZih4PU9bZF0pTj0hMCxTPWYoUyksdSh4LFMpO09bcF0mJihPW3BdJiZ0eXBlb2YgT1twXT09Im51bWJlciImJihPW3BdPU9bZF1bT1twXS0xXSksTnx8KE49ITAsUz1mKFMpKSxiKFtPW2hdLFMsT1twXV0pKTtpZihPW2hdPT1hKXtUPS0xLG49PXMmJmkucHVzaChTKyIuIitFKSxOfHwoUz1mKFMpLFQ9dC5sZW5ndGgpO3ZhciBNPVtdLF89W107Zm9yKHZhciBEPXksUDtQPU9bRF07RCsrKVBbaF09PWF8fFBbaF09PWx8fFBbaF09PWM/Xy5wdXNoKFApOk0ucHVzaChQKTtmb3IodmFyIEQ9MCxIO0g9TVtEXTtEKyspe2lmKEhbaF09PTYpY29udGludWU7dmFyIEI9bVtIW2hdXXx8SFt2XTtpZih4PUhbZF0pTj0hMCx1KHgsZihTKycuZ2V0QXR0cmlidXRlTm9kZSgiJytCKyciKScpKTtpZihDPUhbcF0pe049ITA7c3dpdGNoKEIpe2Nhc2UiY2xhc3MiOmZvcih2YXIgaj0wLEY7Rj1DW2pdO2orKyliKFsyLFMsRlsxXSxCLEZbMF1dLmNvbmNhdChGLnNsaWNlKDIpKSk7YnJlYWs7Y2FzZSJzdHlsZSI6Zm9yKHZhciBqPTAsSTtJPUNbal07aisrKXtvKys7Zm9yKHZhciBxPTAsUjtSPUlbMF1bcV07cSsrKWIoWzIsUyxSLEIsSVswXSxJWzFdLElbMl0sSVszXSxvXSl9YnJlYWs7ZGVmYXVsdDpvKys7Zm9yKHZhciBqPTAsUjtSPUNbMF1bal07aisrKWIoWzIsUyxSLEIsQ1swXSxDWzFdLE9bZ10sb10pfX19Xy5sZW5ndGgmJncoXyxTLHIpLCFOJiZUPT10Lmxlbmd0aCYmdC5wb3AoKX19fXZhciBlPSJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIi5zcGxpdCgiIiksdCxuLHIsaSxzLG87cmV0dXJuIGZ1bmN0aW9uKGUsdSxhLGYpe3JldHVybiB0PVtdLG49W10scj1bXSxpPVtdLHM9dXx8Il8iLG89MCx3KGUscyxhLGYpLHtwYXRoOnQscmVmOm4sYmluZGluZzpyLG1hcmtlZEVsZW1lbnRMaXN0Oml9fX0oKSxOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyh0LG4scil7dmFyIGk9W10scz10WzVdLG89dFs0XSx1LGE7Zm9yKHZhciBmPTA7ZjxzLmxlbmd0aDtmKyspaWYodHlwZW9mIHNbZl09PSJzdHJpbmciKWkucHVzaCgnIicrc1tmXS5yZXBsYWNlKC8iL2csJ1xcIicpKyciJyk7ZWxzZXt1PW9bc1tmXV0sYT11LmluZGV4T2YoIjoiKTtpZihhPT0tMSlpLnB1c2gobj09ImwxMG4iPycieycrdSsnfSInOm49PSJib29sIj8iKF9fIit1Kyd8fCIiKSc6Il9fIit1KTtlbHNle3ZhciBsPW51bGwsYz11LnN1YnN0cihhKzEpLnJlcGxhY2UoZSxmdW5jdGlvbihlLHQpe3JldHVybiBsPXQsIiJ9KTtsP2kucHVzaChyW3Uuc3Vic3RyKGErMSldKTppLnB1c2goJ19fbDEwblsiJytjKyciXScpfX1yZXR1cm4gaS5sZW5ndGg9PTEmJmkucHVzaCgnIiInKSxpLmpvaW4oIisiKX12YXIgZT0vXC5ceyhbYS16QS1aX11bYS16QS1aMC05X1wtXSopXH0vLHQ9e2Rpc2FibGVkOiIqIixjaGVja2VkOlsiaW5wdXQiXSxpbmRldGVybWluYXRlOlsiaW5wdXQiXSx2YWx1ZTpbImlucHV0IiwidGV4dGFyZWEiLCJzZWxlY3QiXSxtaW5sZW5ndGg6WyJpbnB1dCJdLG1heGxlbmd0aDpbImlucHV0Il0scmVhZG9ubHk6WyJpbnB1dCJdLHNlbGVjdGVkOlsib3B0aW9uIl0sbXVsdGlwbGU6WyJzZWxlY3QiXX0scj17ZGlzYWJsZWQ6ITAsY2hlY2tlZDohMCxzZWxlY3RlZDohMCxyZWFkb25seTohMCxtdWx0aXBsZTohMCxpbmRldGVybWluYXRlOiEwfSxpPXsxOiJiaW5kX2VsZW1lbnQiLDM6ImJpbmRfdGV4dE5vZGUiLDg6ImJpbmRfY29tbWVudCJ9O3JldHVybiBmdW5jdGlvbihvKXtmdW5jdGlvbiB1KGUpe05bZV09ITAsaC5wdXNoKHArIj0iK2UrIigiK24uYXJyYXkoYXJndW1lbnRzLDEpKyIpOyIpfXZhciBjPXt9LGgscCxkPVtdLG09W10sZyx5LGI9W10sdz17fSxFPTEsUyx4LFQ9e30sTj17cmVzb2x2ZTohMH07Zm9yKHZhciBDPTAsaztrPW9bQ107QysrKXt2YXIgTD1rWzBdLEE9a1sxXSxPPWtbMl07aWYoWyJnZXQiLCJzZXQiLCJ0ZW1wbGF0ZUlkXyJdLmluZGV4T2YoTykhPS0xKWNvbnRpbnVlO3ZhciBNPU8uc3BsaXQoIjoiKSxfPU1bMF09PSJhbmltIjtfJiYoTz1NWzFdKSxoPWNbT10scD0iXyIrQyxnPSJfXyIrTztpZihNWzBdPT0ibDEwbiImJk1bMV0pe3ZhciBEPU1bMV0sUD1udWxsLEg9RC5yZXBsYWNlKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gUD10LCIifSk7aWYoUCl7RCBpbiB3PT0wJiYoZz0iJGwxMG5fIitFKyssd1tEXT1nLGIucHVzaCgnc2V0KCInK2crJyIsJytnKyIpIiksZC5wdXNoKGcrJz10b29scy5sMTBuVG9rZW4oIicrSCsnIikuY29tcHV0ZVRva2VuKCknKSxoPWNbUF0saHx8KGg9Y1tQXT1bXSxkLnB1c2goIl9fIitQKSksaC5wdXNoKGcrIi5zZXQoX18iK1ArIik7IikpLE89d1tEXSxwPSJfIitDLGc9Il9fIitPLGg9Y1tPXSxofHwoaD1jW09dPVtdLGQucHVzaChnKSksTD09bD8oZC5wdXNoKHArIj0iK0EpLHUoaVtMXSxBLHAsInZhbHVlIikpOihCPSciJytrW3ZdKyciJyxkLnB1c2gocCksdSgiYmluZF9hdHRyIixBLEIscCxzKGssITEsdykpKTtjb250aW51ZX15fHwoeT17fSksY1tIXXx8KGNbSF09W10seVtIXT1bXSksaD1jW0hdLGgubDEwbj0hMDtpZihMPT1sKXt5W0hdLnB1c2goQSsiLm5vZGVWYWx1ZT12YWx1ZTsiKSxoLnB1c2goQSsnLm5vZGVWYWx1ZT1fX2wxMG5bIicrSCsnIl0nKyhQPyJbX18iK1ArIl0iOiIiKSsiOyIpO2NvbnRpbnVlfXlbSF0ucHVzaCgiYmluZF9hdHRyKCIrW0EsJyInK2tbdl0rJyInLCJOYU4iLHMoaywibDEwbiIsdyldKyIpOyIpfWh8fChoPWNbT109W10sZC5wdXNoKGcpKTtpZihMIT1mKWlmKCFoLm5vZGVCaW5kKWQucHVzaChwKyI9IitBKSx1KGlbTF0sQSxwLCJ2YWx1ZSIpLGgubm9kZUJpbmQ9cDtlbHNlIHN3aXRjaChMKXtjYXNlIGE6dShpW0xdLEEsQSwidmFsdWUhPT1udWxsP1N0cmluZyh2YWx1ZSk6bnVsbCIpO2JyZWFrO2Nhc2UgbDpoLnB1c2goQSsiLm5vZGVWYWx1ZT12YWx1ZTsiKX1lbHNle3ZhciBCPWtbdl07c3dpdGNoKEIpe2Nhc2UiY2xhc3MiOnZhciBqPSIiLEY9InZhbHVlIixJPWtbNF0scT1rLmxlbmd0aDtpZihxPj02KWlmKHE9PTZ8fHR5cGVvZiBrWzZdPT0ic3RyaW5nIilxPT02PyhGPSd2YWx1ZT8iJytPKyciOiIiJyxrWzVdJiYoaj1JK08pKTooST0iIixGPSd2YWx1ZT8iJytrWzZdKyciOiIiJyxrWzVdJiYoaj1rWzZdKSk7ZWxzZXtpZigha1s2XS5sZW5ndGgpY29udGludWU7cT09Nz8oRj1rWzZdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4ndmFsdWU9PSInK2UrJyInfSkuam9pbigifHwiKSsnP3ZhbHVlOiIiJyxrWzVdJiYoaj1JK2tbNl1ba1s1XS0xXSkpOihJPSIiLEY9a1s2XS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4ndmFsdWU9PSInK2UrJyI/IicrdGhpc1t0XSsnIid9LGtbN10pLmpvaW4oIjoiKSsnOiIiJyxrWzVdJiYoaj1rWzddW2tbNV0tMV0pKX1lbHNlIEY9J3R5cGVvZiB2YWx1ZT09InN0cmluZyJ8fHR5cGVvZiB2YWx1ZT09Im51bWJlciI/dmFsdWU6KHZhbHVlPyInK08rJyI6IiIpJztkLnB1c2gocCsnPSInK2orJyInKSx1KCJiaW5kX2F0dHJDbGFzcyIsQSxwLEYsJyInK0krJyInLF8pO2JyZWFrO2Nhc2Uic3R5bGUiOnZhciBSPXMoaywhMSx3KTt4PWtbOF0sVFt4XXx8KFRbeF09cCxkLnB1c2gocCsiPSIrKGtbN109PSJoaWRlIj8nIiInOicibm9uZSInKSkpLGtbN10mJihSPVIucmVwbGFjZSgvXCsiIiQvLCIiKSsoa1s3XT09ImhpZGUiPyc/Im5vbmUiOiIiJzonPyIiOiJub25lIicpKSxwPVRbeF0sdSgiYmluZF9hdHRyU3R5bGUiLEEsJyInK2tbNl0rJyInLHAsUik7YnJlYWs7ZGVmYXVsdDpTPXRbQl0seD1rWzddLFRbeF18fChkLnB1c2gocCsiPSIrcyhrLCJsMTBuIix3KSksVFt4XT1wKSxwPVRbeF0sdSgiYmluZF9hdHRyIixBLCciJytCKyciJyxwLFMmJnJbQl0/cyhrLCJib29sIix3KSsnPyInK0IrJyI6IiInOnMoaywhMSx3KSksUyYmKFM9PSIqInx8Uy5pbmRleE9mKGtbNl0udG9Mb3dlckNhc2UoKSkhPS0xKSYmaC5wdXNoKCJpZigiK0ErIi4iK0IrIiE9IitwKyIpIitBKyIuIitCKyI9IisocltCXT8iISEiK3A6cCkrIjsiKX19fW0ucHVzaCgnO2Z1bmN0aW9uIHNldChiaW5kTmFtZSx2YWx1ZSl7aWYodHlwZW9mIGJpbmROYW1lIT0ic3RyaW5nIiknKTtmb3IodmFyIE8gaW4gYyljW09dLm5vZGVCaW5kJiZtLnB1c2goImlmKGJpbmROYW1lPT09IitjW09dLm5vZGVCaW5kKyIpIisnYmluZE5hbWU9IicrTysnIjsnKyJlbHNlICIpO20ucHVzaCgicmV0dXJuOyIpLG0ucHVzaCgidmFsdWU9cmVzb2x2ZS5jYWxsKGluc3RhbmNlLGJpbmROYW1lLHZhbHVlLEF0dGFjaGVzKTtzd2l0Y2goYmluZE5hbWUpeyIpO2Zvcih2YXIgTyBpbiBjKW0ucHVzaCgnY2FzZSInK08rJyI6JysoY1tPXS5sMTBuP2NbT10uam9pbigiIik6ImlmKF9fIitPKyIhPT12YWx1ZSkiKyJ7IisiX18iK08rIj12YWx1ZTsiK2NbT10uam9pbigiIikrIn0iKSsiYnJlYWs7Iik7bS5wdXNoKCJ9fSIpO3ZhciBVPVtdO2Zvcih2YXIgeiBpbiBOKVUucHVzaCh6KyI9dG9vbHMuIit6KTtyZXR1cm57a2V5czpuLm9iamVjdC5rZXlzKGMpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5pbmRleE9mKCJAIik9PS0xfSksdG9vbHM6VSx2YXJzOmQsc2V0Om0uam9pbigiIiksbDEwbjp5LGwxMG5Db21wdXRlOmJ9fX0oKSxrPWZ1bmN0aW9uKGUsdCxyLGkscyxvKXt2YXIgdT1TW3ImJm4ucGF0aC5yZWxhdGl2ZShyKV07aWYodSlyZXR1cm4gdTt2YXIgYT1UKGUsIl8iLHMsbyksZj1OKGEuYmluZGluZyksbD1hLm1hcmtlZEVsZW1lbnRMaXN0LmpvaW4oIj0iKSxjLGgscD17a2V5czpmLmtleXMsbDEwbktleXM6bi5vYmplY3Qua2V5cyhmLmwxMG4pfTtlLmxlbmd0aD09MSYmKGEucGF0aFswXT0iYT1fIik7aWYoZi5sMTBuKXt2YXIgZD1bXTtmb3IodmFyIHYgaW4gZi5sMTBuKWQucHVzaCgnY2FzZSInK3YrJyI6JysnaWYodmFsdWU9PW51bGwpdmFsdWU9InsnK3YrJ30iOycrIl9fbDEwblt0b2tlbl09dmFsdWU7IitmLmwxMG5bdl0uam9pbigiIikrImJyZWFrOyIpO3AuY3JlYXRlTDEwblN5bmM9QyhbIl8iLCJfX2wxMG4iLCJiaW5kX2F0dHIiLCJURVhUX0JVRyJdLCJ2YXIgIithLnBhdGgrIjsiKyJyZXR1cm4gZnVuY3Rpb24odG9rZW4sIHZhbHVlKXsiKyJzd2l0Y2godG9rZW4peyIrZC5qb2luKCIiKSsifSIrIn0iKX1yZXR1cm4gcC5jcmVhdGVJbnN0YW5jZT1DKFsidGlkIiwibWFwIiwicHJvdG8iLCJ0b29scyIsIl9fbDEwbiIsIlRFWFRfQlVHIl0sInZhciBnZXRCaW5kaW5ncz10b29scy5jcmVhdGVCaW5kaW5nRnVuY3Rpb24oWyIrZi5rZXlzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4nIicrZSsnIid9KSsiXSksIisoZi50b29scy5sZW5ndGg/Zi50b29scysiLCI6IiIpKyJBdHRhY2hlcz1mdW5jdGlvbigpe307IisiQXR0YWNoZXMucHJvdG90eXBlPXsiK2Yua2V5cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUrIjpudWxsIn0pKyJ9OyIrInJldHVybiBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZV8oaWQsb2JqLG9uQWN0aW9uLG9uUmVidWlsZCxiaW5kaW5ncyxiaW5kaW5nSW50ZXJmYWNlKXsiKyJ2YXIgXz1wcm90by5jbG9uZU5vZGUodHJ1ZSksIithLnBhdGguY29uY2F0KGYudmFycykrIiwiKyJpbnN0YW5jZT17IisiY29udGV4dDpvYmosIisiYWN0aW9uOm9uQWN0aW9uLCIrInJlYnVpbGQ6b25SZWJ1aWxkLCIrImhhbmRsZXI6bnVsbCwiKyJiaW5kaW5nczpiaW5kaW5ncywiKyJiaW5kaW5nSW50ZXJmYWNlOmJpbmRpbmdJbnRlcmZhY2UsIisiYXR0YWNoZXM6bnVsbCwiKyJ0bXBsOnsiK1thLnJlZiwidGVtcGxhdGVJZF86aWQiLCJzZXQ6c2V0Il0rIn0iKyJ9IisobD8iO2lmKG9ianx8b25BY3Rpb24pIitsKyI9KGlkPDwxMil8dGlkIjoiIikrZi5zZXQrIjtpZihiaW5kaW5ncylpbnN0YW5jZS5oYW5kbGVyPWdldEJpbmRpbmdzKGJpbmRpbmdzLG9iaixzZXQsYmluZGluZ0ludGVyZmFjZSkiKyI7IitmLmwxMG5Db21wdXRlKyI7cmV0dXJuIGluc3RhbmNlIisifSIpLHB9O3QuZXhwb3J0cz17Z2V0RnVuY3Rpb25zOmt9fSwiYS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBUKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/Zi5nZXRFbGVtZW50QnlJZChlKTplfWZ1bmN0aW9uIE4oZSl7aWYoU3x8dGhpcy5pZ25vcmVUYXJnZXQoZS5zZW5kZXIsZSkpcmV0dXJuO3ZhciB0PWIoZS5zZW5kZXIpO2lmKGUubW91c2VYPHQubGVmdHx8ZS5tb3VzZVg+dC5yaWdodHx8ZS5tb3VzZVk8dC50b3B8fGUubW91c2VZPnQuYm90dG9tKXJldHVybjtTPXRoaXMseD17aW5pdFg6ZS5tb3VzZVgsaW5pdFk6ZS5tb3VzZVksZGVsdGFYOjAsbWluRGVsdGFYOi1JbmZpbml0eSxtYXhEZWx0YVg6SW5maW5pdHksZGVsdGFZOjAsbWluRGVsdGFZOi1JbmZpbml0eSxtYXhEZWx0YVk6SW5maW5pdHl9LGgoIm1vdXNlbW92ZSIsQyksaCgibW91c2V1cCIsayksaCgibW91c2Vkb3duIixrKSx3JiZoKCJzZWxlY3RzdGFydCIsYy5raWxsKSxlLnByZXZlbnREZWZhdWx0KCksdGhpcy5wcmVwYXJlRHJhZyh4LGUpfWZ1bmN0aW9uIEMoZSl7dmFyIHQ9ZS5tb3VzZVgteC5pbml0WCxyPWUubW91c2VZLXguaW5pdFk7aWYoIUUpe2lmKCFTLnN0YXJ0UnVsZSh0LHIpKXJldHVybjtFPSEwLFMuZW1pdF9zdGFydCh4LGUpfVMuYXhpc1gmJih4LmRlbHRhWD1TLmF4aXNYcHJveHkobi5udW1iZXIuZml0KHQseC5taW5EZWx0YVgseC5tYXhEZWx0YVgpKSksUy5heGlzWSYmKHguZGVsdGFZPVMuYXhpc1lwcm94eShuLm51bWJlci5maXQocix4Lm1pbkRlbHRhWSx4Lm1heERlbHRhWSkpKSxTLmVtaXRfZHJhZyh4LGUpfWZ1bmN0aW9uIGsoZSl7cCgibW91c2Vtb3ZlIixDKSxwKCJtb3VzZXVwIixrKSxwKCJtb3VzZWRvd24iLGspLHcmJnAoInNlbGVjdHN0YXJ0IixjLmtpbGwpO3ZhciB0PVMsbj14O1M9bnVsbCx4PW51bGwsRSYmKEU9ITEsdC5lbWl0X292ZXIobixlKSksZS5kaWUoKX1uLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi84LmpzIiksbi5yZXF1aXJlKCIuL2IuanMiKSxuLnJlcXVpcmUoIi4vYy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPXIuZG9jdW1lbnQsbD1uLmNsZWFuZXIsYz1uLmRvbS5ldmVudCxoPWMuYWRkR2xvYmFsSGFuZGxlcixwPWMucmVtb3ZlR2xvYmFsSGFuZGxlcixkPW4uZXZlbnQuRW1pdHRlcix2PW4uZXZlbnQuY3JlYXRlLG09bi5kb20uY29tcHV0ZWRTdHlsZS5nZXQsZz1uLmxheW91dC5nZXRPZmZzZXRQYXJlbnQseT1uLmxheW91dC5nZXRCb3VuZGluZ1JlY3QsYj1uLmxheW91dC5nZXRWaWV3cG9ydFJlY3Qsdz1jLmdldEV2ZW50SW5mbygic2VsZWN0c3RhcnQiKS5zdXBwb3J0ZWQsRSxTLHgsTD1kLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLkRyYWdEcm9wRWxlbWVudCIsZWxlbWVudDpudWxsLHRyaWdnZXI6bnVsbCxiYXNlRWxlbWVudDpudWxsLGF4aXNYOiEwLGF4aXNZOiEwLGF4aXNYcHJveHk6bi5mbi4kc2VsZixheGlzWXByb3h5Om4uZm4uJHNlbGYscHJlcGFyZURyYWc6bi5mbi4kdW5kZWYsc3RhcnRSdWxlOm4uZm4uJHRydWUsaWdub3JlVGFyZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuL14oSU5QVVR8VEVYVEFSRUF8U0VMRUNUfEJVVFRPTikkLy50ZXN0KGUudGFnTmFtZSl9LGVtaXRfc3RhcnQ6digic3RhcnQiKSxlbWl0X2RyYWc6digiZHJhZyIpLGVtaXRfb3Zlcjp2KCJvdmVyIiksaW5pdDpmdW5jdGlvbigpe2QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmVsZW1lbnQsdD10aGlzLnRyaWdnZXI7dGhpcy5lbGVtZW50PW51bGwsdGhpcy50cmlnZ2VyPW51bGwsdGhpcy5zZXRFbGVtZW50KGUsdCksdGhpcy5zZXRCYXNlKHRoaXMuYmFzZUVsZW1lbnQpLGwuYWRkKHRoaXMpfSxzZXRFbGVtZW50OmZ1bmN0aW9uKGUsdCl7dGhpcy5lbGVtZW50PVQoZSksdD1UKHQpfHx0aGlzLmVsZW1lbnQsdGhpcy50cmlnZ2VyIT09dCYmKHRoaXMudHJpZ2dlciYmYy5yZW1vdmVIYW5kbGVyKHRoaXMudHJpZ2dlciwibW91c2Vkb3duIixOLHRoaXMpLHRoaXMudHJpZ2dlcj10LHRoaXMudHJpZ2dlciYmYy5hZGRIYW5kbGVyKHRoaXMudHJpZ2dlciwibW91c2Vkb3duIixOLHRoaXMpKX0sc2V0QmFzZTpmdW5jdGlvbihlKXt0aGlzLmJhc2VFbGVtZW50PVQoZSl9LGdldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXNlRWxlbWVudHx8KGYuY29tcGF0TW9kZT09IkNTUzFDb21wYXQiP2YuZG9jdW1lbnRFbGVtZW50OmYuYm9keSl9LGlzRHJhZ2dpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gUz09PXRoaXN9LHN0YXJ0OmZ1bmN0aW9uKGUpe3RoaXMuaXNEcmFnZ2luZygpfHxOLmNhbGwodGhpcyxlKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuaXNEcmFnZ2luZygpJiZrKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSxsLnJlbW92ZSh0aGlzKSxkLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5zZXRFbGVtZW50KCksdGhpcy5zZXRCYXNlKCl9fSksQT1uLkNsYXNzKG51bGwse2NsYXNzTmFtZTphKyIuRGVsdGFXcml0ZXIiLHByb3BlcnR5Om51bGwsaW52ZXJ0OiExLGZvcm1hdDpuLmZuLiRzZWxmLGluaXQ6ZnVuY3Rpb24oZSl7dHlwZW9mIHRoaXMucHJvcGVydHk9PSJmdW5jdGlvbiImJih0aGlzLnByb3BlcnR5PXRoaXMucHJvcGVydHkoZSkpLHR5cGVvZiB0aGlzLmludmVydD09ImZ1bmN0aW9uIiYmKHRoaXMuaW52ZXJ0PXRoaXMuaW52ZXJ0KHRoaXMucHJvcGVydHkpKSx0aGlzLnZhbHVlPXRoaXMucmVhZChlKX0scmVhZDpmdW5jdGlvbigpe3JldHVybiBlbGVtZW50W3RoaXMucHJvcGVydHldfSx3cml0ZTpmdW5jdGlvbihlLHQpe2VbdGhpcy5wcm9wZXJ0eV09dH0sYXBwbHlEZWx0YTpmdW5jdGlvbihlLHQpe3RoaXMuaW52ZXJ0JiYodD0tdCksdGhpcy53cml0ZShlLHRoaXMuZm9ybWF0KHRoaXMudmFsdWUrdCx0KSl9fSksTz1BLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlN0eWxlRGVsdGFXcml0ZXIiLGZvcm1hdDpmdW5jdGlvbihlLHQpe3JldHVybiBlKyJweCJ9LHJlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQobShlLHRoaXMucHJvcGVydHkpKXx8MH0sd3JpdGU6ZnVuY3Rpb24oZSx0KXtlLnN0eWxlW3RoaXMucHJvcGVydHldPXR9fSksTT1PLnN1YmNsYXNzKHtwcm9wZXJ0eTpmdW5jdGlvbihlKXtyZXR1cm4gbShlLCJsZWZ0Iik9PSJhdXRvIiYmbShlLCJyaWdodCIpIT0iYXV0byI/InJpZ2h0IjoibGVmdCJ9LGludmVydDpmdW5jdGlvbihlKXtyZXR1cm4gZT09InJpZ2h0In19KSxfPU8uc3ViY2xhc3Moe3Byb3BlcnR5OmZ1bmN0aW9uKGUpe3JldHVybiBtKGUsInRvcCIpPT0iYXV0byImJm0oZSwiYm90dG9tIikhPSJhdXRvIj8iYm90dG9tIjoidG9wIn0saW52ZXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT0iYm90dG9tIn19KSxEPUwuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuTW92ZWFibGVFbGVtZW50IixmaXhUb3A6ITAsZml4UmlnaHQ6ITAsZml4Qm90dG9tOiEwLGZpeExlZnQ6ITAsYXhpc1g6TSxheGlzWTpfLGVtaXRfc3RhcnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmVsZW1lbnQ7aWYobil7dmFyIHI9Yih0aGlzLmdldEJhc2UoKSksaT15KG4pO2UuZWxlbWVudD1uLHRoaXMuYXhpc1gmJihlLmF4aXNYPW5ldyB0aGlzLmF4aXNYKG4pLHRoaXMuZml4TGVmdCYmKGUubWluRGVsdGFYPXIubGVmdC1pLmxlZnQpLHRoaXMuZml4UmlnaHQmJihlLm1heERlbHRhWD1yLnJpZ2h0LWkucmlnaHQpKSx0aGlzLmF4aXNZJiYoZS5heGlzWT1uZXcgdGhpcy5heGlzWShuKSx0aGlzLmZpeFRvcCYmKGUubWluRGVsdGFZPXIudG9wLWkudG9wKSx0aGlzLmZpeEJvdHRvbSYmKGUubWF4RGVsdGFZPXIuYm90dG9tLWkuYm90dG9tKSl9TC5wcm90b3R5cGUuZW1pdF9zdGFydC5jYWxsKHRoaXMsZSx0KX0sZW1pdF9kcmFnOmZ1bmN0aW9uKGUsdCl7aWYoIWUuZWxlbWVudClyZXR1cm47ZS5heGlzWCYmZS5heGlzWC5hcHBseURlbHRhKGUuZWxlbWVudCxlLmRlbHRhWCksZS5heGlzWSYmZS5heGlzWS5hcHBseURlbHRhKGUuZWxlbWVudCxlLmRlbHRhWSksTC5wcm90b3R5cGUuZW1pdF9kcmFnLmNhbGwodGhpcyxlLHQpfX0pO3QuZXhwb3J0cz17RHJhZ0Ryb3BFbGVtZW50OkwsTW92ZWFibGVFbGVtZW50OkQsRGVsdGFXcml0ZXI6QSxTdHlsZURlbHRhV3JpdGVyOk99fSwiYi5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXt2YXIgYT1yLmRvY3VtZW50LGY7aWYoImdldENvbXB1dGVkU3R5bGUiaW4gcil7dmFyIGw9e3RvcDohMCxib3R0b206ITAsbGVmdDohMCxyaWdodDohMCxoZWlnaHQ6ITAsd2lkdGg6ITB9LGM9bi5mbi5ydW5PbmNlKGZ1bmN0aW9uKCl7dmFyIGU9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6YXV0byFpbXBvcnRhbnQiKSxuLmRvYy5ib2R5LmFkZChlKSxyLmdldENvbXB1dGVkU3R5bGUoZSkudG9wPT0iYXV0byImJihsPXt9KSxuLmRvYy5yZW1vdmUoZSl9KTtmPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5nZXRDb21wdXRlZFN0eWxlKGUpLGk7aWYobil7dCBpbiBsJiZjKCk7aWYobFt0XSYmbi5wb3NpdGlvbiE9InN0YXRpYyIpe3ZhciBzPWUuc3R5bGUuZGlzcGxheTtlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGk9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpLGUuc3R5bGUuZGlzcGxheT1zfWVsc2UgaT1uLmdldFByb3BlcnR5VmFsdWUodCk7cmV0dXJuIGl9fX1lbHNle3ZhciBoPS9eLT8oXGQqXC4pP1xkKyhbYS16XSt8JSk/JC9pLHA9L1xkcHgkL2ksZD1mdW5jdGlvbihlLHQpe2lmKHAudGVzdCh0KSlyZXR1cm4gcGFyc2VJbnQodCwxMCkrInB4Ijt2YXIgbj1lLnN0eWxlLHI9ZS5ydW50aW1lU3R5bGUsaT1uLmxlZnQscz1yLmxlZnQ7cmV0dXJuIHIubGVmdD1lLmN1cnJlbnRTdHlsZS5sZWZ0LG4ubGVmdD10fHwwLHQ9bi5waXhlbExlZnQsbi5sZWZ0PWksci5sZWZ0PXMsdCsicHgifTtmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jdXJyZW50U3R5bGU7aWYocil7dmFyIGk9clt0PT0iZmxvYXQiPyJzdHlsZUZsb2F0IjpuLnN0cmluZy5jYW1lbGl6ZSh0KV0scz0oaXx8IiIpLm1hdGNoKGgpO3JldHVybiBzJiZzWzJdJiZzWzJdIT0icHgiJiYoaT1kKGUsaSkpLGl9fX10LmV4cG9ydHM9e2dldDpmfX0sImMuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gaChlKXt2YXIgdD1lLm9mZnNldFBhcmVudHx8bDt3aGlsZSh0JiZ0IT09bCYmYyh0LCJwb3NpdGlvbiIpPT0ic3RhdGljIil0PXQub2Zmc2V0UGFyZW50O3JldHVybiB0fHxsfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9MCxuPTA7aWYoZSYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bj0taS5sZWZ0LHQ9LWkudG9wfWVsc2UgaWYoZi5jb21wYXRNb2RlPT0iQ1NTMUNvbXBhdCIpdD1yLnBhZ2VZT2Zmc2V0fHxsLnNjcm9sbFRvcCxuPXIucGFnZVhPZmZzZXR8fGwuc2Nyb2xsTGVmdDtlbHNle3ZhciBzPWYuYm9keTtlIT09cyYmKHQ9cy5zY3JvbGxUb3Atcy5jbGllbnRUb3Asbj1zLnNjcm9sbExlZnQtcy5jbGllbnRMZWZ0KX1yZXR1cm57eDpuLHk6dH19ZnVuY3Rpb24gZChlLHQpe3ZhciBuPTAscj0wO2lmKGUmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9cCh0KTtyPWkudG9wK3MueSxuPWkubGVmdCtzLnh9cmV0dXJue3RvcDpyLGxlZnQ6bn19ZnVuY3Rpb24gdihlLHQpe3ZhciBuPTAscj0wLGk9MCxzPTA7aWYoZSYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1wKHQpO249by50b3ArdS55LHI9by5sZWZ0K3UueCxpPW8ucmlnaHQrdS54LHM9by5ib3R0b20rdS55fXJldHVybnt0b3A6bixsZWZ0OnIscmlnaHQ6aSxib3R0b206cyx3aWR0aDppLXIsaGVpZ2h0OnMtbn19ZnVuY3Rpb24gbShlLHQpe3ZhciBuPWQoZSx0KSxyPW4udG9wK2UuY2xpZW50VG9wLGk9bi5sZWZ0K2UuY2xpZW50TGVmdCxzPWUuY2xpZW50V2lkdGgsbz1lLmNsaWVudEhlaWdodDtyZXR1cm57dG9wOnIsbGVmdDppLGJvdHRvbTpyK28scmlnaHQ6aStzLHdpZHRoOnMsaGVpZ2h0Om99fW4ucmVxdWlyZSgiLi9iLmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9ci5kb2N1bWVudCxsPWYuZG9jdW1lbnRFbGVtZW50LGM9bi5kb20uY29tcHV0ZWRTdHlsZS5nZXQ7dC5leHBvcnRzPXtnZXRPZmZzZXRQYXJlbnQ6aCxnZXRUb3BMZWZ0UG9pbnQ6ZCxnZXRCb3VuZGluZ1JlY3Q6dixnZXRWaWV3cG9ydFJlY3Q6bX19LCIxLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIGIoZSx0KXtlLmJpbmRpbmdJZD15Kys7Zm9yKHZhciByIGluIHQpe3ZhciBpPW51bGwscz10W3JdO1AmJnMgaW5zdGFuY2VvZiBQfHxuLnJlc291cmNlLmlzUmVzb3VyY2Uocyk/aT17ZXZlbnRzOiJzYXRlbGxpdGVDaGFuZ2VkIixnZXR0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgdD09ImZ1bmN0aW9uIj90Om51bGwscj1mdW5jdGlvbihpKXtyPSExO2lmKG4pe3Q9bigpO2lmKHQgaW5zdGFuY2VvZiBQPT0wKXJldHVybjtuPW51bGx9aS5zZXRTYXRlbGxpdGUoZSx0KX07cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiByJiZyKHQpLG58fCh0LnNhdGVsbGl0ZVtlXT90LnNhdGVsbGl0ZVtlXS5lbGVtZW50Om51bGwpfX0ocixzKX06cyYmKHR5cGVvZiBzPT0ic3RyaW5nIj9zPXcucHJvY2VzcyhyLHMpOnMuYmluZGluZ0JyaWRnZSYmKHM9bi5mbi4kY29uc3QocykpLHR5cGVvZiBzIT0ib2JqZWN0Ij9pPXtnZXR0ZXI6dHlwZW9mIHM9PSJmdW5jdGlvbiI/czpuLmdldHRlcihzKX06QXJyYXkuaXNBcnJheShzKT9pPXtldmVudHM6c1swXSxnZXR0ZXI6bi5nZXR0ZXIoc1sxXSl9Omk9e2V2ZW50czpzLmV2ZW50cyxnZXR0ZXI6bi5nZXR0ZXIocy5nZXR0ZXIpfSksZVtyXT1pfX1mdW5jdGlvbiBrKCl7cmV0dXJuIEMucG9wKCl8fGYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpfWZ1bmN0aW9uIEwoZSl7dmFyIHQ9ZS5ub2RlcztpZih0KWZvcih2YXIgbj10Lmxlbmd0aC0xLHI7cj10W25dO24tLSlyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsci5uZXh0U2libGluZyl9bi5yZXF1aXJlKCIuLzIuanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpLG4ucmVxdWlyZSgiLi81LmpzIiksbi5yZXF1aXJlKCIuLzYuanMiKSxuLnJlcXVpcmUoIi4vNy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPXIuZG9jdW1lbnQsbD1uLkNsYXNzLGM9bi5ldmVudC5jcmVhdGUsaD1uLnRlbXBsYXRlLmh0bWwuVGVtcGxhdGUscD1uLnRlbXBsYXRlLmh0bWwubWFya2VyLGQ9bi50ZW1wbGF0ZS5UZW1wbGF0ZVN3aXRjaGVyLHY9bi5kb20ud3JhcHBlci5Ob2RlLG09bi5kb20ud3JhcHBlci5QYXJ0aXRpb25Ob2RlLGc9bi5kb20ud3JhcHBlci5Hcm91cGluZ05vZGUseT0xLHc9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PS9eKFthLXpfXVthLXowLTlfXSopOiguKikvaTtyZXR1cm57YWRkOmZ1bmN0aW9uKHQsbil7ZVt0XXx8KGVbdF09bil9LHByb2Nlc3M6ZnVuY3Rpb24obixyKXt2YXIgaSxzPXIubWF0Y2godCk7cmV0dXJuIHMmJihpPWVbc1sxXV0scj1zWzJdfHxuKSxpP2kocik6cn19fSgpO3cuYWRkKCJkYXRhIixmdW5jdGlvbihlKXtyZXR1cm57ZXZlbnRzOiJ1cGRhdGUiLGdldHRlcjoiZGF0YS4iK2V9fSksdy5hZGQoInNhdGVsbGl0ZSIsZnVuY3Rpb24oZSl7cmV0dXJue2V2ZW50czoic2F0ZWxsaXRlQ2hhbmdlZCIsZ2V0dGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNhdGVsbGl0ZVtlXT90LnNhdGVsbGl0ZVtlXS5lbGVtZW50Om51bGx9fX0pO3ZhciBFPWwuY3VzdG9tRXh0ZW5kUHJvcGVydHkoe3N0YXRlOntldmVudHM6InN0YXRlQ2hhbmdlZCIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZS5zdGF0ZSl9fSxjaGlsZE5vZGVzU3RhdGU6e2V2ZW50czoiY2hpbGROb2Rlc1N0YXRlQ2hhbmdlZCIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZS5jaGlsZE5vZGVzU3RhdGUpfX0sY2hpbGRDb3VudDp7ZXZlbnRzOiJjaGlsZE5vZGVzTW9kaWZpZWQiLGdldHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZE5vZGVzP2UuY2hpbGROb2Rlcy5sZW5ndGg6MH19LGhhc0NoaWxkcmVuOntldmVudHM6ImNoaWxkTm9kZXNNb2RpZmllZCIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5maXJzdENoaWxkfX0sZW1wdHk6e2V2ZW50czoiY2hpbGROb2Rlc01vZGlmaWVkIixnZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIWUuZmlyc3RDaGlsZH19fSxiKSxTPXthdHRhY2g6ZnVuY3Rpb24oZSx0LG4pe2UuYWRkSGFuZGxlcih0LG4pfSxkZXRhY2g6ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlSGFuZGxlcih0LG4pfX0seD1sLmV4dGVuc2libGVQcm9wZXJ0eSh7c2VsZWN0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNEaXNhYmxlZCgpKXJldHVybjt0aGlzLmNvbnRleHRTZWxlY3Rpb24mJnRoaXMuY29udGV4dFNlbGVjdGlvbi5tdWx0aXBsZT90aGlzLnNlbGVjdChlLmN0cmxLZXl8fGUubWV0YUtleSk6dGhpcy5zZWxlY3QoKX19KSxUPXsiKiI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50ZW1wbGF0ZVN3aXRjaGVyXzt0JiZ0LnJ1bGVFdmVudHMmJnQucnVsZUV2ZW50c1tlLnR5cGVdJiZ0aGlzLnNldFRlbXBsYXRlKHQucmVzb2x2ZSh0aGlzKSl9fSxOPW5ldyBoKCI8ZGl2Lz4iKSxDPVtdLEEsTz1mdW5jdGlvbihlKXtyZXR1cm57dGVtcGxhdGU6TixlbWl0X3RlbXBsYXRlQ2hhbmdlZDpjKCJ0ZW1wbGF0ZUNoYW5nZWQiKSx0ZW1wbGF0ZVN3aXRjaGVyXzpudWxsLGJpbmRpbmc6RSxhY3Rpb246eCx0bXBsOm51bGwsZWxlbWVudDpudWxsLGNoaWxkTm9kZXNFbGVtZW50Om51bGwsaW5pdDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudD10aGlzLmNoaWxkTm9kZXNFbGVtZW50PWsoKSxlLmluaXQuY2FsbCh0aGlzKX0scG9zdEluaXQ6ZnVuY3Rpb24oKXtlLnBvc3RJbml0LmNhbGwodGhpcyk7dmFyIHQ9dGhpcy50ZW1wbGF0ZTtpZih0KXt2YXIgbj10aGlzLmVsZW1lbnQ7dGhpcy50ZW1wbGF0ZT1udWxsLHRoaXMuc2V0VGVtcGxhdGUodCksQy5wdXNoKG4pLHRoaXMuY29udGFpbmVyJiYodGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSx0aGlzLmNvbnRhaW5lcj1udWxsKX19LHRlbXBsYXRlU3luYzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PXRoaXMudG1wbCxuPXRoaXMudGVtcGxhdGUuY3JlYXRlSW5zdGFuY2UodGhpcyx0aGlzLnRlbXBsYXRlQWN0aW9uLHRoaXMudGVtcGxhdGVTeW5jLHRoaXMuYmluZGluZyxTKSxyO24uY2hpbGROb2Rlc0hlcmUmJihuLmNoaWxkTm9kZXNFbGVtZW50PW4uY2hpbGROb2Rlc0hlcmUucGFyZW50Tm9kZSxuLmNoaWxkTm9kZXNFbGVtZW50Lmluc2VydFBvaW50PW4uY2hpbGROb2Rlc0hlcmUpLHRoaXMudG1wbD1uLHRoaXMuZWxlbWVudD1uLmVsZW1lbnQsdGhpcy5jaGlsZE5vZGVzRWxlbWVudD1uLmNoaWxkTm9kZXNFbGVtZW50fHxuLmVsZW1lbnQscj10aGlzLmNoaWxkTm9kZXNFbGVtZW50Lm5vZGVUeXBlIT0xLHImJih0aGlzLmNoaWxkTm9kZXNFbGVtZW50PWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtpZih0aGlzLmdyb3VwaW5nKXt0aGlzLmdyb3VwaW5nLnN5bmNEb21SZWZzKCk7dmFyIGk9dGhpczt3aGlsZShpLmdyb3VwaW5nKWk9aS5ncm91cGluZzt2YXIgcz1pO2Zvcih2YXIgbz1zLmxhc3RDaGlsZDtvO289by5wcmV2aW91c1NpYmxpbmcpbyBpbnN0YW5jZW9mIF8/cy5pbnNlcnRCZWZvcmUobyxvLm5leHRTaWJsaW5nKTpMKG8pO0wocy5udWxsR3JvdXApfWVsc2UgZm9yKHZhciB1PXRoaXMubGFzdENoaWxkO3U7dT11LnByZXZpb3VzU2libGluZyl0aGlzLmluc2VydEJlZm9yZSh1LHUubmV4dFNpYmxpbmcpO3RoaXMgaW5zdGFuY2VvZiBfJiZMKHRoaXMpO2lmKGUmJmUhPT10aGlzLmVsZW1lbnQmJmUubm9kZVR5cGUhPTExKXt2YXIgYT1lJiZlLnBhcmVudE5vZGU7YSYmKHRoaXMub3duZXImJnRoaXMub3duZXIudG1wbCYmdGhpcy5vd25lci50bXBsLnNldChlLHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50LnBhcmVudE5vZGUhPT1hJiZhLnJlcGxhY2VDaGlsZCh0aGlzLmVsZW1lbnQsZSkpfXQmJnRoaXMuZW1pdF90ZW1wbGF0ZUNoYW5nZWQoKX0sc2V0VGVtcGxhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50ZW1wbGF0ZVN3aXRjaGVyXyxuO2UgaW5zdGFuY2VvZiBkJiYobj1lLGU9bi5yZXNvbHZlKHRoaXMpKSxlIGluc3RhbmNlb2YgaD09MCYmKGU9bnVsbCk7aWYoIWUpcmV0dXJuO24mJih0aGlzLnRlbXBsYXRlU3dpdGNoZXJfPW4sdHx8dGhpcy5hZGRIYW5kbGVyKFQsdGhpcykpLHQmJnQucmVzb2x2ZSh0aGlzKSE9PWUmJih0aGlzLnRlbXBsYXRlU3dpdGNoZXJfPW51bGwsdGhpcy5yZW1vdmVIYW5kbGVyKFQsdGhpcykpO3ZhciByPXRoaXMudG1wbCxpPXRoaXMudGVtcGxhdGU7aSE9PWUmJih0aGlzLnRlbXBsYXRlPWUsdGhpcy50ZW1wbGF0ZVN5bmMoKSxpJiZpLmNsZWFySW5zdGFuY2UocikpfSx1cGRhdGVCaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmluZGluZ1tlXSxuPXQmJnQuZ2V0dGVyO24mJnRoaXMudG1wbCYmdGhpcy50bXBsLnNldChlLG4odGhpcykpfSx0ZW1wbGF0ZUFjdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuYWN0aW9uW2VdO24mJm4uY2FsbCh0aGlzLHQpfSxmb2N1czpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRtcGw/dGhpcy50bXBsLmZvY3VzfHx0aGlzLmVsZW1lbnQ6bnVsbDt0JiYoQSYmKEE9bi5jbGVhckltbWVkaWF0ZShBKSksQT1uLnNldEltbWVkaWF0ZShmdW5jdGlvbigpe3RyeXt0LmZvY3VzKCksZSYmdC5zZWxlY3QoKX1jYXRjaChuKXt9fSkpfSxibHVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50bXBsP3RoaXMudG1wbC5mb2N1c3x8dGhpcy5lbGVtZW50Om51bGw7aWYoZSl0cnl7ZS5ibHVyKCl9Y2F0Y2godCl7fX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudGVtcGxhdGUsbj10aGlzLmVsZW1lbnQ7dGhpcy50ZW1wbGF0ZVN3aXRjaGVyXyYmKHRoaXMudGVtcGxhdGVTd2l0Y2hlcl89bnVsbCx0aGlzLnJlbW92ZUhhbmRsZXIoVCx0aGlzKSksdC5jbGVhckluc3RhbmNlKHRoaXMudG1wbCksZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy50bXBsPW51bGwsdGhpcy5lbGVtZW50PW51bGwsdGhpcy5jaGlsZE5vZGVzRWxlbWVudD1udWxsO3ZhciByPW4mJm4ucGFyZW50Tm9kZTtyJiZyLm5vZGVUeXBlPT0xJiZyLnJlbW92ZUNoaWxkKG4pfX19LE09ZnVuY3Rpb24oZSl7cmV0dXJue2luc2VydEJlZm9yZTpmdW5jdGlvbih0LG4pe3Q9ZS5pbnNlcnRCZWZvcmUuY2FsbCh0aGlzLHQsbik7dmFyIHI9dC5ncm91cE5vZGV8fHRoaXMsaT1yLmNoaWxkTm9kZXNFbGVtZW50fHx0aGlzLmNoaWxkTm9kZXNFbGVtZW50LHM9dC5uZXh0U2libGluZyxvPXMmJnMuZWxlbWVudC5wYXJlbnROb2RlPT1pP3MuZWxlbWVudDpudWxsLHU9dC5lbGVtZW50LGE9b3x8aS5pbnNlcnRQb2ludHx8bnVsbDtyZXR1cm4odS5wYXJlbnROb2RlIT09aXx8dS5uZXh0U2libGluZyE9PWEpJiZpLmluc2VydEJlZm9yZSh1LGEpLHR9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe2UucmVtb3ZlQ2hpbGQuY2FsbCh0aGlzLHQpO3ZhciBuPXQuZWxlbWVudCxyPW4ucGFyZW50Tm9kZTtyZXR1cm4gciYmci5yZW1vdmVDaGlsZChuKSx0fSxjbGVhcjpmdW5jdGlvbih0KXtpZih0KXt2YXIgbj10aGlzLmZpcnN0Q2hpbGQ7d2hpbGUobil7dmFyIHI9bi5lbGVtZW50LGk9ci5wYXJlbnROb2RlO2kmJmkucmVtb3ZlQ2hpbGQociksbj1uLm5leHRTaWJsaW5nfX1lLmNsZWFyLmNhbGwodGhpcyx0KX0sc2V0Q2hpbGROb2RlczpmdW5jdGlvbih0LG4pe3ZhciByPWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9dGhpcy5ncm91cGluZ3x8dGhpcyxzPWkuY2hpbGROb2Rlc0VsZW1lbnQ7aS5jaGlsZE5vZGVzRWxlbWVudD1yLGUuc2V0Q2hpbGROb2Rlcy5jYWxsKHRoaXMsdCxuKSxzLmluc2VydEJlZm9yZShyLHMuaW5zZXJ0UG9pbnR8fG51bGwpLGkuY2hpbGROb2Rlc0VsZW1lbnQ9c319fSxfPWwobSxPLHtjbGFzc05hbWU6YSsiLlBhcnRpdGlvbk5vZGUiLGJpbmRpbmc6e3RpdGxlOiJkYXRhOiJ9fSksRD1sKGcsTSx7Y2xhc3NOYW1lOmErIi5Hcm91cGluZ05vZGUiLGNoaWxkQ2xhc3M6Xyxncm91cGluZ0NsYXNzOmwuU0VMRixlbGVtZW50Om51bGwsY2hpbGROb2Rlc0VsZW1lbnQ6bnVsbCxlbWl0X293bmVyQ2hhbmdlZDpmdW5jdGlvbihlKXt0aGlzLnN5bmNEb21SZWZzKCksZy5wcm90b3R5cGUuZW1pdF9vd25lckNoYW5nZWQuY2FsbCh0aGlzLGUpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50PXRoaXMuY2hpbGROb2Rlc0VsZW1lbnQ9Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfSxzeW5jRG9tUmVmczpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLm93bmVyLG49bnVsbDt0JiYobj10LnRtcGwmJnQudG1wbC5ncm91cHNFbGVtZW50fHx0LmNoaWxkTm9kZXNFbGVtZW50KTtkbyBlLmVsZW1lbnQ9ZS5jaGlsZE5vZGVzRWxlbWVudD1uO3doaWxlKGU9ZS5ncm91cGluZyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtnLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5lbGVtZW50PW51bGwsdGhpcy5jaGlsZE5vZGVzRWxlbWVudD1udWxsfX0pLFA9bCh2LE8sTSx7Y2xhc3NOYW1lOmErIi5Ob2RlIixiaW5kaW5nOntzZWxlY3RlZDp7ZXZlbnRzOiJzZWxlY3QgdW5zZWxlY3QiLGdldHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWxlY3RlZH19LHVuc2VsZWN0ZWQ6e2V2ZW50czoic2VsZWN0IHVuc2VsZWN0IixnZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIWUuc2VsZWN0ZWR9fSxkaXNhYmxlZDp7ZXZlbnRzOiJkaXNhYmxlIGVuYWJsZSIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRGlzYWJsZWQoKX19LGVuYWJsZWQ6e2V2ZW50czoiZGlzYWJsZSBlbmFibGUiLGdldHRlcjpmdW5jdGlvbihlKXtyZXR1cm4hZS5pc0Rpc2FibGVkKCl9fX0sY2hpbGRDbGFzczpsLlNFTEYsY2hpbGRGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jaGlsZENsYXNzKGUpfSxncm91cGluZ0NsYXNzOkR9KSxIPVAuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuU2hhZG93Tm9kZUxpc3QiLGVtaXRfb3duZXJDaGFuZ2VkOmZ1bmN0aW9uKGUpe1AucHJvdG90eXBlLmVtaXRfb3duZXJDaGFuZ2VkLmNhbGwodGhpcyxlKSx0aGlzLnNldERhdGFTb3VyY2UodGhpcy5vd25lciYmdGhpcy5vd25lci5nZXRDaGlsZE5vZGVzRGF0YXNldCgpKX0sZ2V0Q2hpbGROb2Rlc0VsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hpbGROb2Rlc0VsZW1lbnR9LGxpc3Rlbjp7b3duZXI6e3RlbXBsYXRlQ2hhbmdlZDpmdW5jdGlvbigpe3RoaXMuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuYXBwZW5kQ2hpbGQoZS5lbGVtZW50KX0sdGhpcy5nZXRDaGlsZE5vZGVzRWxlbWVudCh0aGlzLm93bmVyKXx8dGhpcy5vd25lci5lbGVtZW50KX19fSxjaGlsZENsYXNzOntjbGFzc05hbWU6YSsiLlNoYWRvd05vZGUiLGdldEVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWxlbWVudH0sdGVtcGxhdGVTeW5jOmZ1bmN0aW9uKCl7UC5wcm90b3R5cGUudGVtcGxhdGVTeW5jLmNhbGwodGhpcyk7dmFyIGU9dGhpcy5nZXRFbGVtZW50KHRoaXMuZGVsZWdhdGUpO2UmJihlW3BdPXRoaXMuZGVsZWdhdGUuZWxlbWVudFtwXSx0aGlzLmVsZW1lbnQ9ZSl9LGxpc3Rlbjp7ZGVsZWdhdGU6e3RlbXBsYXRlQ2hhbmdlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PWUucGFyZW50Tm9kZSxuPXRoaXMuZ2V0RWxlbWVudCh0aGlzLmRlbGVnYXRlKTtuJiYobltwXT10aGlzLmRlbGVnYXRlLmVsZW1lbnRbcF0pLHRoaXMuZWxlbWVudD1ufHx0aGlzLnRtcGwuZWxlbWVudCx0JiZ0LnJlcGxhY2VDaGlsZCh0aGlzLmVsZW1lbnQsZSl9fX19fSk7dC5leHBvcnRzPXtCSU5ESU5HX1BSRVNFVDp3LE5vZGU6UCxQYXJ0aXRpb25Ob2RlOl8sR3JvdXBpbmdOb2RlOkQsU2hhZG93Tm9kZUxpc3Q6SCxTaGFkb3dOb2RlOkgucHJvdG90eXBlLmNoaWxkQ2xhc3N9fSwiZS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtuLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5nZXR0ZXIsbD1uLmNsZWFuZXIsYz1uLmV2ZW50LkVtaXR0ZXIsaD1uLmRhdGEuQWJzdHJhY3REYXRhLHA9bi5kYXRhLlZhbHVlLGQ9bi5kYXRhLlNUQVRFLHY9cC5zdWJjbGFzcyh7Y2xhc3NOYW1lOmErIi5Qcm9wZXJ0eSIsZXh0ZW5kQ29uc3RydWN0b3JfOiExLGluaXQ6ZnVuY3Rpb24oZSx0LG4pe3RoaXMudmFsdWU9ZSx0aGlzLmhhbmRsZXI9dCx0aGlzLnByb3h5PW4scC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfX0pLG09ZC5wcmlvcml0eSxnPXtzdGF0ZUNoYW5nZWQ6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoITEsITApfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoITApfSxjaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoITApfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlKGUpfX0seT1wLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLk9iamVjdFNldCIsb2JqZWN0czpudWxsLHZhbHVlOjAsdmFsdWVDaGFuZ2VkXzohMSxjYWxjdWxhdGVWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlKzF9LGNhbGN1bGF0ZU9uSW5pdDohMSxzdGF0ZVByaW9yaXR5Om0sc3RhdGVDaGFuZ2VkXzohMCx0aW1lcl86ITEsaW5pdDpmdW5jdGlvbigpe3AucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLm9iamVjdHM7dGhpcy5vYmplY3RzPVtdLGUmJkFycmF5LmlzQXJyYXkoZSkmJih0aGlzLmxvY2soKSx0aGlzLmFkZC5hcHBseSh0aGlzLGUpLHRoaXMudW5sb2NrKCkpLHRoaXMudmFsdWVDaGFuZ2VkXz10aGlzLnN0YXRlQ2hhbmdlZF89ISF0aGlzLmNhbGN1bGF0ZU9uSW5pdCx0aGlzLnVwZGF0ZSgpfSxhZGQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGg7ZTx0O2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2lmKCEociBpbnN0YW5jZW9mIGgpKXRocm93IDM0O24uYXJyYXkuYWRkKHRoaXMub2JqZWN0cyxyKSYmci5hZGRIYW5kbGVyKGcsdGhpcyl9dGhpcy5maXJlKCEwLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe24uYXJyYXkucmVtb3ZlKHRoaXMub2JqZWN0cyxlKSYmZS5yZW1vdmVIYW5kbGVyKGcsdGhpcyksdGhpcy5maXJlKCEwLCEwKX0sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0O3Q9dGhpcy5vYmplY3RzW2VdO2UrKyl0LnJlbW92ZUhhbmRsZXIoZyx0aGlzKTt0aGlzLm9iamVjdHMubGVuZ3RoPTAsdGhpcy5maXJlKCEwLCEwKX0sZmlyZTpmdW5jdGlvbihlLHQpe3RoaXMubG9ja2VkfHwodGhpcy52YWx1ZUNoYW5nZWRfPXRoaXMudmFsdWVDaGFuZ2VkX3x8ISFlLHRoaXMuc3RhdGVDaGFuZ2VkXz10aGlzLnN0YXRlQ2hhbmdlZF98fCEhdCwhdGhpcy50aW1lcl8mJih0aGlzLnZhbHVlQ2hhbmdlZF98fHRoaXMuc3RhdGVDaGFuZ2VkXykmJih0aGlzLnRpbWVyXz1uLnNldEltbWVkaWF0ZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKSkpfSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5sb2NrZWQ9ITB9LHVubG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkPSExfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZhbHVlQ2hhbmdlZF8sdD10aGlzLnN0YXRlQ2hhbmdlZF87dGhpcy52YWx1ZUNoYW5nZWRfPSExLHRoaXMuc3RhdGVDaGFuZ2VkXz0hMSx0aGlzLnRpbWVyXz1uLmNsZWFySW1tZWRpYXRlKHRoaXMudGltZXJfKTtpZighbC5nbG9iYWxEZXN0cm95KXtlJiZ0aGlzLnNldCh0aGlzLmNhbGN1bGF0ZVZhbHVlKCkpO2lmKHQpe3ZhciByPXRoaXMub2JqZWN0cy5sZW5ndGg7aWYoIXIpdGhpcy5zZXRTdGF0ZShkLlVOREVGSU5FRCk7ZWxzZXt2YXIgaT0tMixzO2Zvcih2YXIgbz0wO288cjtvKyspe3ZhciB1PXRoaXMub2JqZWN0c1tvXSxhPXRoaXMuc3RhdGVQcmlvcml0eS5pbmRleE9mKFN0cmluZyh1LnN0YXRlKSk7YT5pJiYocz11LGk9YSl9cyYmdGhpcy5zZXRTdGF0ZShzLnN0YXRlLHMuc3RhdGUuZGF0YSl9fX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxvY2soKSx0aGlzLmNsZWFyKCksdGhpcy50aW1lcl8mJm4uY2xlYXJJbW1lZGlhdGUodGhpcy50aW1lcl8pLHAucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxiPXYuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuRXhwcmVzc2lvbiIsaW5pdDpmdW5jdGlvbihlLHQpe3AucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT1uLmFycmF5KGFyZ3VtZW50cyksdD1lLnBvcCgpO3R5cGVvZiB0IT0iZnVuY3Rpb24iJiYodD1uLmZuLiR1bmRlZiksZS5sZW5ndGg9PTEmJmVbMF0ubGluayh0aGlzLGZ1bmN0aW9uKGUpe3RoaXMuc2V0KHQuY2FsbCh0aGlzLGUpKX0pO2lmKGUubGVuZ3RoPjEpe3ZhciByPW5ldyB5KHtvYmplY3RzOmUsY2FsY3VsYXRlT25Jbml0OiEwLGNhbGN1bGF0ZVZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS52YWx1ZX0pKX19KTtyLmxpbmsodGhpcyx0aGlzLnNldCksdGhpcy5hZGRIYW5kbGVyKHtkZXN0cm95OmZ1bmN0aW9uKCl7bC5nbG9iYWxEZXN0cm95fHxyLmRlc3Ryb3koKX19KX19fSk7dC5leHBvcnRzPXtQcm9wZXJ0eTp2LE9iamVjdFNldDp5LEV4cHJlc3Npb246Yn19LCJmLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIG0oZSx0KXtpZighZS5sZW5ndGgpcmV0dXJuIDA7dmFyIG4scixpPTAscz1lLmxlbmd0aC0xO2Rve249aStzPj4xLHI9ZVtuXXx8MDtpZih0PHIpcz1uLTE7ZWxzZXtpZighKHQ+cikpcmV0dXJuIHQ9PXI/bjowO2k9bisxfX13aGlsZShpPD1zKTtyZXR1cm4gbisocjx0KX1mdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIEwoZSx0LHIpe2lmKCFmLmlzQ2xhc3MoZSl8fCFlLmlzU3ViY2xhc3NPZihnKSl0aHJvdyAzNTt0PW4uZ2V0dGVyKHQpLHI9cnx8InVwZGF0ZSI7aWYodHlwZW9mIHIhPSJzdHJpbmciKXRocm93IDM2O3I9ci50cmltKCkuc3BsaXQoIiAiKS5zb3J0KCk7dmFyIGk9W2UuYmFzaXNDbGFzc0lkXyx0W24uZ2V0dGVyLklEXSxyXS5qb2luKCJfIikscz1OW2ldO2lmKHMpcmV0dXJuIHMub3duZXI7dmFyIG89e307Zm9yKHZhciB1PTA7dTxyLmxlbmd0aDt1Kyspb1tyW3VdXT0hMDtyZXR1cm4gcz1uZXcgayxOW2ldPXtvd25lcjpzLGluZGV4Q2xhc3M6ZS5zdWJjbGFzcyh7aW5kZXhJZDppLHVwZGF0ZUV2ZW50czpvLHZhbHVlR2V0dGVyOnR9KX0scy5pbmRleElkPWksc31mdW5jdGlvbiBCKGUsdCxuKXt2YXIgcj1lLmluZGV4Q2FjaGVfLGk7ZS5sb2NrKCk7aWYodClmb3IodmFyIHM9MCxvO289dFtzKytdOyl7dmFyIHU9ZS5ub3JtYWxpemUoZS52YWx1ZUdldHRlcihvKSk7cltvLmJhc2lzT2JqZWN0SWRdPXUsZS5hZGRfKHUpfWlmKG4pZm9yKHZhciBzPTAsbztvPW5bcysrXTspaT1vLmJhc2lzT2JqZWN0SWQsZS5yZW1vdmVfKHJbaV0pLGRlbGV0ZSByW2ldO2UudW5sb2NrKCl9ZnVuY3Rpb24gcShlLHQpe2lmKHQgaW5zdGFuY2VvZiBrPT0wKXRocm93IDM3O3ZhciBuPWUuYmFzaXNPYmplY3RJZCxyPUlbbl07cnx8KHI9SVtuXT17fSxlLmFkZEhhbmRsZXIoRiksRi5pdGVtc0NoYW5nZWQuY2FsbChlLGUse2luc2VydGVkOmUuZ2V0SXRlbXMoKX0pKTt2YXIgaT10LmluZGV4SWQscz1yW2ldO2lmKCFzKXt0PU5baV07aWYoIXQpdGhyb3cgMzg7cz1uZXcgdC5pbmRleENsYXNzLHMuYWRkSGFuZGxlcihDLGUpLHJbaV09cyxCKHMsZS5nZXRJdGVtcygpKX1yZXR1cm4gc31mdW5jdGlvbiBSKGUsdCl7dmFyIG49SVtlLmJhc2lzT2JqZWN0SWRdO2lmKG4mJm5bdC5pbmRleElkXSl7ZGVsZXRlIG5bdC5pbmRleElkXSx0LnJlbW92ZUhhbmRsZXIoQyxlKTtmb3IodmFyIHIgaW4gbilyZXR1cm47ZS5yZW1vdmVIYW5kbGVyKEYpLEYuaXRlbXNDaGFuZ2VkLmNhbGwoZSxlLHtkZWxldGVkOmUuZ2V0SXRlbXMoKX0pLGRlbGV0ZSBJW2UuYmFzaXNPYmplY3RJZF19fWZ1bmN0aW9uIFcoKXtyZXR1cm4iY2FsYy1pbmRleC1wcmVzZXQtIituLm51bWJlci5sZWFkKHorKyw4KX1mdW5jdGlvbiBYKGUsdCl7dmFyIHI9Im1pbl8iK1coKSxpPSJtYXhfIitXKCkscz17fTtzW3JdPUQoZSx0KSxzW2ldPVAoZSx0KSx0PW4uZ2V0dGVyKHR8fGUpO3ZhciBvPWZ1bmN0aW9uKGUsbixzKXtyZXR1cm4odChzKS1uW3JdKS8obltpXS1uW3JdKX07cmV0dXJuIG8ucHJlc2V0PW5ldyBVKHtpbmRleGVzOnMsY2FsYzpvfSl9ZnVuY3Rpb24gVihlLHQpe3ZhciByPSJtYXhfIitXKCksaT17fTtpW3JdPVAoZSx0KSx0PW4uZ2V0dGVyKHR8fGUpO3ZhciBzPWZ1bmN0aW9uKGUsbixpKXtyZXR1cm4gdChpKS9uW3JdfTtyZXR1cm4gcy5wcmVzZXQ9bmV3IFUoe2luZGV4ZXM6aSxjYWxjOnN9KX1mdW5jdGlvbiAkKGUsdCl7dmFyIHI9InN1bV8iK1coKSxpPXt9O2lbcl09TSh0LGUpLGU9bi5nZXR0ZXIoZXx8dCk7dmFyIHM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBlKGkpL25bcl19O3JldHVybiBzLnByZXNldD1uZXcgVSh7aW5kZXhlczppLGNhbGM6c30pfW4ucmVxdWlyZSgiLi80LmpzIiksbi5yZXF1aXJlKCIuL2QuanMiKSxuLnJlcXVpcmUoIi4vZS5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4uQ2xhc3MsbD1uLmRhdGEuT2JqZWN0LGM9bi5kYXRhLktleU9iamVjdE1hcCxoPW4uZGF0YS5SZWFkT25seURhdGFzZXQscD1uLmRhdGEuRGF0YXNldFdyYXBwZXIsZD1uLmRhdGEuVmFsdWUsdj1uLmRhdGEuZGF0YXNldC5NYXBGaWx0ZXIsZz1mKGQse2NsYXNzTmFtZTphKyIuSW5kZXgiLGF1dG9EZXN0cm95OiEwLGluZGV4Q2FjaGVfOm51bGwsdmFsdWVHZXR0ZXI6bi5mbi4kbnVsbCx1cGRhdGVFdmVudHM6e30sdmFsdWU6MCxzZXROdWxsT25FbWl0dGVyRGVzdHJveTohMSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5pbmRleENhY2hlXz17fSxkLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGFkZF86ZnVuY3Rpb24oZSl7fSxyZW1vdmVfOmZ1bmN0aW9uKGUpe30sdXBkYXRlXzpmdW5jdGlvbihlLHQpe30sbm9ybWFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl8fDB9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5pbmRleENhY2hlXz1udWxsfX0pLHk9ZihnLHtjbGFzc05hbWU6YSsiLlN1bSIsYWRkXzpmdW5jdGlvbihlKXt0aGlzLnZhbHVlKz1lfSxyZW1vdmVfOmZ1bmN0aW9uKGUpe3RoaXMudmFsdWUtPWV9LHVwZGF0ZV86ZnVuY3Rpb24oZSx0KXt0aGlzLnNldCh0aGlzLnZhbHVlLXQrZSl9fSksYj1mKGcse2NsYXNzTmFtZTphKyIuQ291bnQiLHZhbHVlR2V0dGVyOm4uZm4uJHRydWUsYWRkXzpmdW5jdGlvbihlKXt0aGlzLnZhbHVlKz1lfSxyZW1vdmVfOmZ1bmN0aW9uKGUpe3RoaXMudmFsdWUtPWV9LG5vcm1hbGl6ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWV9LHVwZGF0ZV86ZnVuY3Rpb24oZSx0KXt0aGlzLnNldCh0aGlzLnZhbHVlLSEhdCshIWUpfX0pLHc9ZihnLHtjbGFzc05hbWU6YSsiLkF2ZyIsc3VtXzowLGNvdW50XzowLGFkZF86ZnVuY3Rpb24oZSl7dGhpcy5zdW1fKz1lLHRoaXMuY291bnRfKz0xLHRoaXMudmFsdWU9dGhpcy5zdW1fL3RoaXMuY291bnRffSxyZW1vdmVfOmZ1bmN0aW9uKGUpe3RoaXMuc3VtXy09ZSx0aGlzLmNvdW50Xy09MSx0aGlzLnZhbHVlPXRoaXMuY291bnRfP3RoaXMuc3VtXy90aGlzLmNvdW50XzowfSx1cGRhdGVfOmZ1bmN0aW9uKGUsdCl7dGhpcy5zdW1fKz1lLXQsdGhpcy5zZXQodGhpcy5zdW1fL3RoaXMuY291bnRfKX19KSxFPWYoZyx7Y2xhc3NOYW1lOmErIi5WZWN0b3JJbmRleCIsdmVjdG9yR2V0dGVyOm4uZm4uJG51bGwsdmVjdG9yXzpudWxsLHZhbHVlOnVuZGVmaW5lZCxpbml0OmZ1bmN0aW9uKCl7dGhpcy52ZWN0b3JfPVtdLGcucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0sYWRkXzpmdW5jdGlvbihlKXtlIT09bnVsbCYmKHRoaXMudmVjdG9yXy5zcGxpY2UobSh0aGlzLnZlY3Rvcl8sZSksMCxlKSx0aGlzLnZhbHVlPXRoaXMudmVjdG9yR2V0dGVyKHRoaXMudmVjdG9yXykpfSxyZW1vdmVfOmZ1bmN0aW9uKGUpe2UhPT1udWxsJiYodGhpcy52ZWN0b3JfLnNwbGljZShtKHRoaXMudmVjdG9yXyxlKSwxKSx0aGlzLnZhbHVlPXRoaXMudmVjdG9yR2V0dGVyKHRoaXMudmVjdG9yXykpfSx1cGRhdGVfOmZ1bmN0aW9uKGUsdCl7dCE9PW51bGwmJnRoaXMudmVjdG9yXy5zcGxpY2UobSh0aGlzLnZlY3Rvcl8sdCksMSksZSE9PW51bGwmJnRoaXMudmVjdG9yXy5zcGxpY2UobSh0aGlzLnZlY3Rvcl8sZSksMCxlKSx0aGlzLnNldCh0aGlzLnZlY3RvckdldHRlcih0aGlzLnZlY3Rvcl8pKX0sbm9ybWFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyJ8fHR5cGVvZiBlPT0ibnVtYmVyIj9lOm51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtnLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy52ZWN0b3JfPW51bGx9fSksUz1mKEUse2NsYXNzTmFtZTphKyIuTWluIix2ZWN0b3JHZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF19fSkseD1mKEUse2NsYXNzTmFtZTphKyIuTWF4Iix2ZWN0b3JHZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19fSksVD1mKGcse2NsYXNzTmFtZTphKyIuRGlzdGluY3QiLG1hcF86bnVsbCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXBfPXt9LGcucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0sYWRkXzpmdW5jdGlvbihlKXt0aGlzLm1hcF8uaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLm1hcF9bZV09MCksKyt0aGlzLm1hcF9bZV09PTEmJih0aGlzLnZhbHVlKz0xKX0scmVtb3ZlXzpmdW5jdGlvbihlKXstLXRoaXMubWFwX1tlXT09MCYmKHRoaXMudmFsdWUtPTEpfSx1cGRhdGVfOmZ1bmN0aW9uKGUsdCl7dmFyIG49MDt0aGlzLm1hcF8uaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLm1hcF9bZV09MCksKyt0aGlzLm1hcF9bZV09PTEmJihuKz0xKSwtLXRoaXMubWFwX1t0XT09MCYmKG4tPTEpLG4mJnRoaXMuc2V0KHRoaXMudmFsdWUrbil9LG5vcm1hbGl6ZTpTdHJpbmcsZGVzdHJveTpmdW5jdGlvbigpe2cucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLm1hcF89bnVsbH19KSxOPXt9LEM9e2Rlc3Ryb3k6ZnVuY3Rpb24oZSl7Uih0aGlzLGUpfX0sQT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBpO2lmKG4gaW5zdGFuY2VvZiBofHxuIGluc3RhbmNlb2YgcClpPW4sbj1yLHI9YXJndW1lbnRzWzJdO3J8fChyPW4sbj0iIik7dmFyIHM9TChlLHJ8fHQsbik7cmV0dXJuIGk/cShpLHMpOnN9fSxPPUEoYixuLmZuLiR0cnVlKSxNPUEoeSksXz1BKHcpLEQ9QShTKSxQPUEoeCksSD1BKFQpLGo9eyIqIjpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT1lLnR5cGUscz1lLnNlbmRlcixvPXMuYmFzaXNPYmplY3RJZCx1PUlbdGhpcy5iYXNpc09iamVjdElkXTtmb3IodmFyIGEgaW4gdSlyPXVbYV0sci51cGRhdGVFdmVudHNbaV0mJih0PXIuaW5kZXhDYWNoZV9bb10sbj1yLm5vcm1hbGl6ZShyLnZhbHVlR2V0dGVyKHMpKSxuIT09dCYmKHIudXBkYXRlXyhuLHQpLHIuaW5kZXhDYWNoZV9bb109bikpfX0sRj17aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dmFyIG47aWYobj10Lmluc2VydGVkKWZvcih2YXIgcj1uLmxlbmd0aDtyLS0+MDspbltyXS5hZGRIYW5kbGVyKGosdGhpcyk7aWYobj10LmRlbGV0ZWQpZm9yKHZhciByPW4ubGVuZ3RoO3ItLT4wOyluW3JdLnJlbW92ZUhhbmRsZXIoaix0aGlzKTt2YXIgaT1JW3RoaXMuYmFzaXNPYmplY3RJZF07Zm9yKHZhciBzIGluIGkpQihpW3NdLHQuaW5zZXJ0ZWQsdC5kZWxldGVkKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPUlbdGhpcy5iYXNpc09iamVjdElkXTtmb3IodmFyIHQgaW4gZSlSKHRoaXMsZVt0XSl9fSxJPXt9LFU9ZihudWxsLHtjbGFzc05hbWU6YSsiLkNhbGNJbmRleFByZXNldCIsZXh0ZW5kQ29uc3RydWN0b3JfOiEwLGluZGV4ZXM6e30sY2FsYzpuLmZuLiRudWxsfSksej0xLEo9Zih2LHtjbGFzc05hbWU6YSsiLkluZGV4TWFwIixjYWxjczpudWxsLGluZGV4ZXM6bnVsbCxpbmRleGVzXzpudWxsLGluZGV4ZXNCaW5kXzpudWxsLHRpbWVyXzp1bmRlZmluZWQsaW5kZXhVcGRhdGVkOm51bGwsaW5kZXhWYWx1ZXM6bnVsbCxtZW1iZXJTb3VyY2VNYXA6bnVsbCxrZXlNYXA6bnVsbCxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMua2V5TWFwLmdldChlLCEwKX0sYWRkTWVtYmVyUmVmOmZ1bmN0aW9uKGUsdCl7dGhpcy5tZW1iZXJTb3VyY2VNYXBbZS5iYXNpc09iamVjdElkXT10LmJhc2lzT2JqZWN0SWQsdGhpcy5saXN0ZW4ubWVtYmVyJiZlLmFkZEhhbmRsZXIodGhpcy5saXN0ZW4ubWVtYmVyLHRoaXMpLHRoaXMuc291cmNlTWFwX1t0LmJhc2lzT2JqZWN0SWRdLnVwZGF0ZWQ9ITAsZS5zdWJzY3JpYmVyQ291bnQ+MCYmdGhpcy5jYWxjTWVtYmVyKGUpfSxyZW1vdmVNZW1iZXJSZWY6ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5tZW1iZXJTb3VyY2VNYXBbZS5iYXNpc09iamVjdElkXSx0aGlzLmxpc3Rlbi5tZW1iZXImJmUucmVtb3ZlSGFuZGxlcih0aGlzLmxpc3Rlbi5tZW1iZXIsdGhpcyl9LGVtaXRfc291cmNlQ2hhbmdlZDpmdW5jdGlvbihlKXt2LnByb3RvdHlwZS5lbWl0X3NvdXJjZUNoYW5nZWQuY2FsbCh0aGlzLGUpO2Zvcih2YXIgdCBpbiB0aGlzLmluZGV4ZXNfKXt2YXIgbj10aGlzLmluZGV4ZXNfW3RdO2UmJih0aGlzLnJlbW92ZUluZGV4KHQpLFIoZSx0aGlzLmluZGV4ZXNbdF0pKSx0aGlzLnNvdXJjZSYmdGhpcy5hZGRJbmRleCh0LHEodGhpcy5zb3VyY2UsbikpfX0sbGlzdGVuOntpbmRleDp7Y2hhbmdlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5kZXhNYXA7dC5pbmRleFZhbHVlc1t0aGlzLmtleV09ZS52YWx1ZSx0LmluZGV4VXBkYXRlZD0hMCx0LnJlY2FsY1JlcXVlc3QoKX19LG1lbWJlcjp7c3Vic2NyaWJlcnNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7ZS5zdWJzY3JpYmVyQ291bnQ+MCYmdGhpcy5jYWxjTWVtYmVyKGUpfX19LHJ1bGVFdmVudHM6bi5kYXRhLmRhdGFzZXQuY3JlYXRlUnVsZUV2ZW50cyhmdW5jdGlvbihlLHQpe3YucHJvdG90eXBlLnJ1bGVFdmVudHMudXBkYXRlLmNhbGwodGhpcyxlLHQpLHRoaXMuc291cmNlTWFwX1tlLmJhc2lzT2JqZWN0SWRdLnVwZGF0ZWQ9ITAsdGhpcy5yZWNhbGNSZXF1ZXN0KCl9LCJ1cGRhdGUiKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWNhbGM9dGhpcy5yZWNhbGMuYmluZCh0aGlzKSx0aGlzLmluZGV4VXBkYXRlZD0hMSx0aGlzLmluZGV4ZXNCaW5kXz17fSx0aGlzLm1lbWJlclNvdXJjZU1hcD17fTt2YXIgZT10aGlzLmluZGV4ZXM7dGhpcy5pbmRleGVzPXt9LHRoaXMuaW5kZXhlc189e30sdGhpcy5pbmRleFZhbHVlcz17fTt2YXIgdD10aGlzLmNhbGNzO3RoaXMuY2FsY3M9e307aWYoIXRoaXMua2V5TWFwfHx0aGlzLmtleU1hcCBpbnN0YW5jZW9mIGM9PTApdGhpcy5rZXlNYXA9bmV3IGMobi5vYmplY3QuY29tcGxldGUoe2NyZWF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgdGhpcy5pdGVtQ2xhc3ModCl9fSx0aGlzLmtleU1hcCkpO3YucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSxuLm9iamVjdC5pdGVyYXRlKGUsdGhpcy5hZGRJbmRleCx0aGlzKSxuLm9iamVjdC5pdGVyYXRlKHQsdGhpcy5hZGRDYWxjLHRoaXMpfSxhZGRJbmRleDpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmluZGV4ZXNbZV0pe2lmKHQgaW5zdGFuY2VvZiBrKXtpZighIXRoaXMuaW5kZXhlc19bZV0pcmV0dXJuO3RoaXMuaW5kZXhlc19bZV09dCx0PXRoaXMuc291cmNlP3EodGhpcy5zb3VyY2UsdCk6bnVsbH1pZih0IGluc3RhbmNlb2YgZyl7dGhpcy5pbmRleFZhbHVlc1tlXT10LnZhbHVlLHRoaXMuaW5kZXhlc1tlXT10LHRoaXMuaW5kZXhlc0JpbmRfW2VdPXtrZXk6ZSxpbmRleE1hcDp0aGlzfTt2YXIgbj10aGlzLmxpc3Rlbi5pbmRleDtuJiYodC5hZGRIYW5kbGVyKG4sdGhpcy5pbmRleGVzQmluZF9bZV0pLG4uY2hhbmdlJiZuLmNoYW5nZS5jYWxsKHRoaXMuaW5kZXhlc0JpbmRfW2VdLHQsdC52YWx1ZSkpfX19LHJlbW92ZUluZGV4OmZ1bmN0aW9uKGUpe2lmKHRoaXMuaW5kZXhlc19bZV18fHRoaXMuaW5kZXhlc1tlXSl0aGlzLmluZGV4ZXNbZV0mJnRoaXMubGlzdGVuLmluZGV4JiZ0aGlzLmluZGV4ZXNbZV0ucmVtb3ZlSGFuZGxlcih0aGlzLmxpc3Rlbi5pbmRleCx0aGlzLmluZGV4ZXNCaW5kX1tlXSksZGVsZXRlIHRoaXMuaW5kZXhWYWx1ZXNbZV0sZGVsZXRlIHRoaXMuaW5kZXhlc0JpbmRfW2VdLGRlbGV0ZSB0aGlzLmluZGV4ZXNbZV0sZGVsZXRlIHRoaXMuaW5kZXhlc19bZV19LGFkZENhbGM6ZnVuY3Rpb24oZSx0KXtpZih0IGluc3RhbmNlb2YgVSl7dGhpcy5jYWxjc1tlXT10LmNhbGM7Zm9yKHZhciBuIGluIHQuaW5kZXhlcyl0aGlzLmFkZEluZGV4KG4sdC5pbmRleGVzW25dKX1lbHNlIHRoaXMuY2FsY3NbZV09dDt0aGlzLnJlY2FsY1JlcXVlc3QoKX0scmVtb3ZlQ2FsYzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNhbGNzW2VdO2lmKHQmJnQucHJlc2V0IGluc3RhbmNlb2YgVSl7dmFyIG49dC5wcmVzZXQuaW5kZXhlcztmb3IodmFyIHIgaW4gbil0aGlzLnJlbW92ZUluZGV4KHIsbltyXSl9ZGVsZXRlIHRoaXMuY2FsY3NbZV19LGxvY2s6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5pbmRleGVzKXRoaXMuaW5kZXhlc1tlXS5sb2NrKCl9LHVubG9jazpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmluZGV4ZXMpdGhpcy5pbmRleGVzW2VdLnVubG9jaygpfSxyZWNhbGNSZXF1ZXN0OmZ1bmN0aW9uKCl7dGhpcy50aW1lcl98fCh0aGlzLnRpbWVyXz1uLnNldEltbWVkaWF0ZSh0aGlzLnJlY2FsYykpfSxyZWNhbGM6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5pdGVtc18pdGhpcy5jYWxjTWVtYmVyKHRoaXMuaXRlbXNfW2VdKTt0aGlzLmluZGV4VXBkYXRlZD0hMSx0aGlzLnRpbWVyXz1uLmNsZWFySW1tZWRpYXRlKHRoaXMudGltZXJfKX0sY2FsY01lbWJlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNvdXJjZU1hcF9bdGhpcy5tZW1iZXJTb3VyY2VNYXBbZS5iYXNpc09iamVjdElkXV07aWYoZS5zdWJzY3JpYmVyQ291bnQmJih0LnVwZGF0ZWR8fHRoaXMuaW5kZXhVcGRhdGVkKSl7dC51cGRhdGVkPSExO3ZhciBuPXt9LHIsaSxzO2Zvcih2YXIgbyBpbiB0aGlzLmNhbGNzKXI9dGhpcy5jYWxjc1tvXSh0LnNvdXJjZU9iamVjdC5kYXRhLHRoaXMuaW5kZXhWYWx1ZXMsdC5zb3VyY2VPYmplY3QpLGk9ZS5kYXRhW29dLGUuZGF0YVtvXSE9PXImJih0eXBlb2YgciE9Im51bWJlciJ8fHR5cGVvZiBpIT0ibnVtYmVyInx8IWlzTmFOKHIpfHwhaXNOYU4oaSkpJiYobltvXT1yLHM9ITApO3MmJmUudXBkYXRlKG4pfX0sZ2V0TWVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtleU1hcC5nZXQoZSwhMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmtleU1hcC5kZXN0cm95KCksdGhpcy5rZXlNYXA9bnVsbDtmb3IodmFyIGUgaW4gdGhpcy5pbmRleGVzKXRoaXMucmVtb3ZlSW5kZXgoZSk7di5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMudGltZXJfPW4uY2xlYXJJbW1lZGlhdGUodGhpcy50aW1lcl8pLHRoaXMuY2FsY3M9bnVsbCx0aGlzLmluZGV4ZXM9bnVsbCx0aGlzLmluZGV4ZXNfPW51bGwsdGhpcy5pbmRleFZhbHVlcz1udWxsLHRoaXMubWVtYmVyU291cmNlTWFwPW51bGwsdGhpcy5pbmRleGVzQmluZF89bnVsbH19KTt0LmV4cG9ydHM9e0luZGV4Q29uc3RydWN0b3I6ayxjcmVhdGVJbmRleENvbnN0cnVjdG9yOkEsZ2V0RGF0YXNldEluZGV4OnEscmVtb3ZlRGF0YXNldEluZGV4OlIsSW5kZXg6ZyxDb3VudDpiLFN1bTp5LEF2Zzp3LFZlY3RvckluZGV4OkUsTWluOlMsTWF4OngsRGlzdGluY3Q6VCxjb3VudDpPLHN1bTpNLGF2ZzpfLG1heDpQLG1pbjpELGRpc3RpbmN0OkgsQ2FsY0luZGV4UHJlc2V0OlUscGVyY2VudE9mUmFuZ2U6WCxwZXJjZW50T2ZNYXg6VixwZXJjZW50T2ZTdW06JCxJbmRleE1hcDpKfX0sImcuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gbChlKXtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJkYXRhIiwicmV0dXJuIHsiK24ub2JqZWN0Lml0ZXJhdGUoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlPWUucmVwbGFjZSgvIi9nLCdcXCInKSx0PXQucmVwbGFjZSgvIi9nLCdcXCInKSwnIicrZSsnIjogZGF0YVsiJyt0KyciXSd9KSsifSIpfW4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5kYXRhLk9iamVjdCxjPXt1cGRhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmhvc3QuZmllbGRzLHI9e307aWYodGhpcy5uYW1lPT1uLmRlZmF1bHRTb3VyY2UpZm9yKHZhciBpIGluIHQpaSBpbiBuLmZpZWxkU291cmNlPT0wJiYocltpXT1lLmRhdGFbaV0pO2Vsc2UgZm9yKHZhciBpIGluIHQpe3ZhciBzPW4uZnJvbU5hbWVzW3RoaXMubmFtZV1baV07cyYmdGhpcy5ob3N0LmZpZWxkcy5maWVsZFNvdXJjZVtzXT09dGhpcy5uYW1lJiYocltzXT1lLmRhdGFbaV0pfWZvcih2YXIgaSBpbiByKXJldHVybiB0aGlzLmhvc3QudXBkYXRlKHIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnNldFNvdXJjZSh0aGlzLm5hbWUsbnVsbCl9fSxoPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e30scj17fSxpPXtkZWZhdWx0U291cmNlOiExLGZpZWxkU291cmNlOnt9LHRvTmFtZXM6bixmcm9tTmFtZXM6cixzb3VyY2VzOnQsX19leHRlbmRfXzpofTtlWyIqIl0mJihpLmRlZmF1bHRTb3VyY2U9ZVsiKiJdKTtmb3IodmFyIHMgaW4gZSl7dmFyIG89ZVtzXS5zcGxpdCgiOiIpLHU9by5zaGlmdCgpLGE9by5sZW5ndGg/by5qb2luKCI6Iik6cztpZih1PT1pLmRlZmF1bHRTb3VyY2UpY29udGludWU7aWYodT09Ii0iJiZhIT1zKWNvbnRpbnVlO25bdV18fChuW3VdPXt9LHJbdV09e30pLG5bdV1bc109YSxyW3VdW2FdPXMsaS5maWVsZFNvdXJjZVtzXT11fWZvcih2YXIgdSBpbiBuKXRbdV09bChuW3VdKTtyZXR1cm4gaS5kZWZhdWx0U291cmNlJiYodFtpLmRlZmF1bHRTb3VyY2VdPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKW4gaW4gaS5maWVsZFNvdXJjZT09MCYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9KSxpfSxwPWYuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuTWVyZ2UiLGVtaXRfc291cmNlQ2hhbmdlZDpuLmV2ZW50LmNyZWF0ZSgic291cmNlQ2hhbmdlZCIsIm5hbWUiLCJvbGRTb3VyY2UiKSxmaWVsZHM6aCh7IioiOiItIn0pLHNvdXJjZXM6bnVsbCxzb3VyY2VzQ29udGV4dF86bnVsbCxkZWx0YV86bnVsbCxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLHQ9dGhpcy5zb3VyY2VzO3RoaXMuZGF0YT17fSx0aGlzLmRlbGVnYXRlPW51bGwsZi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj10aGlzLmZpZWxkcy5maWVsZFNvdXJjZVtuXXx8dGhpcy5maWVsZHMuZGVmYXVsdFNvdXJjZTtyPT0iLSImJih0aGlzLmRhdGFbbl09ZVtuXSl9dGhpcy5zb3VyY2VzPXt9LHRoaXMuc291cmNlc0NvbnRleHRfPXt9LHQmJnRoaXMuc2V0U291cmNlcyh0KX0sdXBkYXRlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZGVsdGFfKXtmb3IodmFyIHQgaW4gZSl7dmFyIG49dGhpcy5maWVsZHMuZmllbGRTb3VyY2VbdF18fHRoaXMuZmllbGRzLmRlZmF1bHRTb3VyY2U7aWYoIW4pY29udGludWU7dmFyIHI9biE9dGhpcy5maWVsZHMuZGVmYXVsdFNvdXJjZT90aGlzLmZpZWxkcy50b05hbWVzW25dW3RdOnQsaT10aGlzLnNvdXJjZXNbbl0uZGF0YVtyXTtpIT09dGhpcy5kYXRhW3RdJiYodCBpbiB0aGlzLmRlbHRhXz09MD90aGlzLmRlbHRhX1t0XT10aGlzLmRhdGFbdF06dGhpcy5kZWx0YV9bdF09PT1pJiZkZWxldGUgdGhpcy5kZWx0YV9bdF0sdGhpcy5kYXRhW3RdPWkpfXJldHVybn12YXIgcyxvPXt9O3RoaXMuZGVsdGFfPW87Zm9yKHZhciB0IGluIGUpe3ZhciBuPXRoaXMuZmllbGRzLmZpZWxkU291cmNlW3RdfHx0aGlzLmZpZWxkcy5kZWZhdWx0U291cmNlO2lmKCFuKWNvbnRpbnVlO2lmKG49PSItIil7b1t0XT10aGlzLmRhdGFbdF0sdGhpcy5kYXRhW3RdPWVbdF07Y29udGludWV9aWYodGhpcy5zb3VyY2VzW25dKXt2YXIgcj1uIT10aGlzLmZpZWxkcy5kZWZhdWx0U291cmNlP3RoaXMuZmllbGRzLnRvTmFtZXNbbl1bdF06dDt0aGlzLnNvdXJjZXNbbl0uZGF0YVtyXSE9PWVbdF0/KHN8fChzPXt9KSxuIGluIHM9PTAmJihzW25dPXt9KSxzW25dW3JdPWVbdF0pOnRoaXMuZGF0YVt0XSE9PWVbdF0mJihvW3RdPXRoaXMuZGF0YVt0XSx0aGlzLmRhdGFbdF09ZVt0XSl9fWlmKHMpZm9yKHZhciBuIGluIHMpdGhpcy5zb3VyY2VzW25dLnVwZGF0ZShzW25dKTt0aGlzLmRlbHRhXz1udWxsO2Zvcih2YXIgdCBpbiBvKXJldHVybiB0aGlzLmVtaXRfdXBkYXRlKG8pLG87cmV0dXJuITF9LHNldERlbGVnYXRlOmZ1bmN0aW9uKCl7fSxzZXRTb3VyY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNvdXJjZXNbZV07aWYoZSBpbiB0aGlzLmZpZWxkcy5zb3VyY2VzPT0wKXJldHVybjtpZihlPT0iLSIpcmV0dXJuO3QgaW5zdGFuY2VvZiBmPT0wJiYodD1udWxsKTtpZihuIT09dCl7dmFyIHI9dGhpcy5saXN0ZW5bInNvdXJjZToiK2VdO24mJihyJiZuLnJlbW92ZUhhbmRsZXIocix0aGlzKSxuLnJlbW92ZUhhbmRsZXIoYyx0aGlzLnNvdXJjZXNDb250ZXh0X1tlXSkpLHRoaXMuc291cmNlc1tlXT10LHQmJihlIGluIHRoaXMuc291cmNlc0NvbnRleHRfPT0wJiYodGhpcy5zb3VyY2VzQ29udGV4dF9bZV09e2hvc3Q6dGhpcyxuYW1lOmV9KSx0LmFkZEhhbmRsZXIoYyx0aGlzLnNvdXJjZXNDb250ZXh0X1tlXSksciYmdC5hZGRIYW5kbGVyKHIsdGhpcyksdGhpcy51cGRhdGUodGhpcy5maWVsZHMuc291cmNlc1tlXSh0LmRhdGEpKSksdGhpcy5lbWl0X3NvdXJjZUNoYW5nZWQoZSxuKX19LHNldFNvdXJjZXM6ZnVuY3Rpb24oZSl7ZXx8KGU9e30pO2Zvcih2YXIgdCBpbiB0aGlzLmZpZWxkcy5zb3VyY2VzKXRoaXMuc2V0U291cmNlKHQsZVt0XSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNldFNvdXJjZXMoKSx0aGlzLnNvdXJjZXM9bnVsbCx0aGlzLnNvdXJjZXNDb250ZXh0Xz1udWxsLGYucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KTt0LmV4cG9ydHM9e01lcmdlOnB9fSwiaC5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBfKGUpe3JldHVybiBNW2VdPU1bZV18fDAsZStNW2VdKyt9ZnVuY3Rpb24gaihlLHQpe3ZhciBuPUhbZV07aWYobil7Zm9yKHZhciByPTAsaTtpPW5bcl07cisrKXt2YXIgcz1pWzBdLG89aVsxXTtzW29dPXR9ZGVsZXRlIEhbZV19RFtlXT10fWZ1bmN0aW9uIEYoZSx0LG4pe2lmKERbZV0pcmV0dXJuIERbZV07dmFyIHI9SFtlXTtyZXR1cm4gcnx8KHI9SFtlXT1bXSksci5wdXNoKFt0LG5dKSxmdW5jdGlvbih0LG4pe3ZhciByPURbZV07aWYocilyZXR1cm4gcih0LG4pfX1mdW5jdGlvbiBJKCl7Zm9yKHZhciBlIGluIEgpbi5kZXYud2FybihhKyI6IHR5cGUgYCIrZSsiYCBpcyBub3QgZGVmaW5lZCwgYnV0IHVzZWQgYnkgIitIW2VdLmxlbmd0aCsiIHR5cGUocykiKX1mdW5jdGlvbiBSKCl7dmFyIGU9bShhcmd1bWVudHMpLHQ9ZS5wb3AoKSxuPWVbMF0scj1lWzFdLGk9ZVsyXSxzO2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IDQwO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnM9ZnVuY3Rpb24oKXtyZXR1cm4gdCgpfTticmVhaztjYXNlIDE6cz1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG4gaW4gZT90KHJbbl0pOml9O2JyZWFrO2Nhc2UgMjpzPWZ1bmN0aW9uKGUsaSxzKXtyZXR1cm4gbiBpbiBlfHxyIGluIGU/dChpW25dLGlbcl0pOnN9O2JyZWFrO2Nhc2UgMzpzPWZ1bmN0aW9uKGUscyxvKXtyZXR1cm4gbiBpbiBlfHxyIGluIGV8fGkgaW4gZT90KHNbbl0sc1tyXSxzW2ldKTpvfTticmVhaztkZWZhdWx0OnM9ZnVuY3Rpb24obixyLGkpe3ZhciBzPSExLG89W107Zm9yKHZhciB1PTAsYTthPWVbdV07dSsrKXM9c3x8YSBpbiBuLG8ucHVzaChyW2FdKTtyZXR1cm4gcz90LmFwcGx5KG51bGwsbyk6aX19cmV0dXJuIHMuYXJncz1lLHMuY2FsYz1zLHN9ZnVuY3Rpb24gVShlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09MT9mdW5jdGlvbih0LG4scil7cmV0dXJuIGUgaW4gdD9uW2VdIT1udWxsP1N0cmluZyhuW2VdKTpudWxsOnJ9OlIuYXBwbHkobnVsbCxtKGFyZ3VtZW50cykuY29uY2F0KGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgtMTtlPj0wO2UtLSlpZihhcmd1bWVudHNbZV09PW51bGwpcmV0dXJuIG51bGw7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5qb2luLmNhbGwoYXJndW1lbnRzLCItIil9KSl9ZnVuY3Rpb24gbnQoZSx0KXt2YXIgbj1bImhhcyJdLHI9W2xdLGk9W107Zm9yKHZhciBzIGluIGUpaWYobC5jYWxsKGUscykpe3ZhciBvPSJ2IitpLmxlbmd0aCx1PSJmIitpLmxlbmd0aCxhPWVbc107bi5wdXNoKG8sdSksci5wdXNoKGEsdFtzXSksaS5wdXNoKCciJytzKyciOicrJ2hhcy5jYWxsKGRhdGEsIicrcysnIiknKyI/Iit1KycoZGF0YVsiJytzKyciXSwnK28rIikiKyI6IitvKyh0eXBlb2YgYT09ImZ1bmN0aW9uIj8iKGRhdGEpIjoiIikpfXZhciBmPWkuc29ydCgpLmpvaW4oIiwiKSxjPWV0W2ZdO3JldHVybiBjfHwoYz1ldFtmXT1uZXcgRnVuY3Rpb24obiwicmV0dXJuIGZ1bmN0aW9uKGRhdGEpe3JldHVybiB7IitmKyJ9OyIrIn07IikpLGMuYXBwbHkobnVsbCxyKX1mdW5jdGlvbiBydChlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBudWxsO2lmKCFBcnJheS5pc0FycmF5KHQpfHxlLmxlbmd0aCE9dC5sZW5ndGgpcmV0dXJuIGV8fG51bGw7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXSE9PXRbbl0pcmV0dXJuIGU7cmV0dXJuIHR9ZnVuY3Rpb24gc3QoZSx0KXtyZXR1cm4gdHlwZW9mIGU9PSJzdHJpbmciP2l0KGUpOnR5cGVvZiBlPT0ibnVtYmVyIj9uZXcgRGF0ZShlKTplPT1udWxsP251bGw6ZSYmZS5jb25zdHJ1Y3Rvcj09PURhdGU/ZTp0fWZ1bmN0aW9uIG90KGUsdCxyKXtlLmFsaWFzZXNbdF09dCx0eXBlb2Ygcj09InN0cmluZyJ8fEFycmF5LmlzQXJyYXkocil8fHR5cGVvZiByPT0iZnVuY3Rpb24iJiZyLmNhbGMhPT1yP3I9e3R5cGU6cn06cj1yP24ub2JqZWN0LnNsaWNlKHIpOnt9O2lmKCJ0eXBlImluIHIpe3R5cGVvZiByLnR5cGU9PSJzdHJpbmciJiYoci50eXBlPUYoci50eXBlLGUuZmllbGRzLHQpKTtpZihBcnJheS5pc0FycmF5KHIudHlwZSkpe3ZhciBpPXIudHlwZS5zbGljZSgpO2kubGVuZ3RoPT0xPyhyLnR5cGU9bi5mbi4kY29uc3QoaVswXSksci5kZWZWYWx1ZT1pWzBdKTooci50eXBlPWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5pbmRleE9mKGUpIT0tMTtyZXR1cm4gbj9lOnR9LHIuZGVmVmFsdWU9aS5pbmRleE9mKHIuZGVmVmFsdWUpIT0tMT9yLmRlZlZhbHVlOmlbMF0pfXIudHlwZT09PUFycmF5JiYoci50eXBlPXJ0KSxyLnR5cGU9PT1EYXRlJiYoci50eXBlPXN0KSx0eXBlb2Ygci50eXBlIT0iZnVuY3Rpb24iJiYoci50eXBlPW51bGwpfXZhciBzPXIudHlwZXx8ZDtpZihyLmlkfHxyLmluZGV4fHxbayxMLEEsT10uaW5kZXhPZihzKSE9LTEpZS5pZEZpZWxkc1t0XT1yO3IuY2FsYz8oYXQoZSx0LHIuY2FsYyksZS5maWVsZHNbdF09dHQpOmUuZmllbGRzW3RdPXMsZS5kZWZhdWx0c1t0XT0iZGVmVmFsdWUiaW4gcj9yLmRlZlZhbHVlOnMoKSxaW3RdfHwoWlt0XT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0KHQsbnVsbCl9fSl9ZnVuY3Rpb24gdXQoZSx0LG4pe2lmKG4gaW4gZS5maWVsZHM9PTApcmV0dXJuO2lmKHQgaW4gZS5hbGlhc2VzKXJldHVybjtlLmFsaWFzZXNbdF09bn1mdW5jdGlvbiBhdChlLHQscil7ZS5jYWxjc3x8KGUuY2FsY3M9W10pO3ZhciBpPWUuY2FsY3Mscz1lLmRlcHMsbz1yLmFyZ3N8fFtdLHU9e2FyZ3M6byx3cmFwcGVyOnJ9LGE9ZS5jYWxjcy5sZW5ndGgsZj0wO2lmKG8pZm9yKHZhciBsPTAsYztjPWlbbF07bCsrKW8uaW5kZXhPZihjLmtleSkhPS0xJiYoZj1sKzEpO2lmKHQpe3Uua2V5PXQ7Zm9yKHZhciBsPTAsYztjPWlbbF07bCsrKWlmKGMuYXJncy5pbmRleE9mKHQpIT0tMSl7YT1sO2JyZWFrfWlmKGY+YSlyZXR1cm47c1t0XT1vLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciByPXNbdF18fFt0XTtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKyluLmFycmF5LmFkZChlLHJbaV0pO3JldHVybiBlfSxbXSk7Zm9yKHZhciBoIGluIHMpe3ZhciBwPXNbaF0uaW5kZXhPZih0KTtwIT0tMSYmQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzW2hdLFtwLDFdLmNvbmNhdChzW3RdKSl9fWVsc2UgYT1mO2kuc3BsaWNlKE1hdGgubWluKGEsZiksMCx1KX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMubW9kaWZpZWQmJmUgaW4gdGhpcy5tb2RpZmllZD90aGlzLm1vZGlmaWVkW2VdOnRoaXMuZGF0YVtlXX19ZnVuY3Rpb24gbHQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuc2V0KGUsdCxuKX19ZnVuY3Rpb24gaHQoZSx0KXtuLmRldi53YXJuKCJbYmFzaXMuZW50aXR5ICIrZS5lbnRpdHlUeXBlLm5hbWUrIiMiK2UuYmFzaXNPYmplY3RJZCsiXSAiK3QsZSl9ZnVuY3Rpb24gdnQoZSl7cmV0dXJuIGUmJmUgaW5zdGFuY2VvZiBwdH1mdW5jdGlvbiBtdChlLHQpe3ZhciByPWV8fHt9O3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/cj17bmFtZTpyLGZpZWxkczp0fHx7fX06dCYmKHI9bi5vYmplY3QubWVyZ2Uocix7ZmllbGRzOnR9KSksbmV3IFkocil9ZnVuY3Rpb24gZ3QoZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP25ldyBRKHQsZSk6bmV3IFEoZSl9bi5yZXF1aXJlKCIuLzMuanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpLG4ucmVxdWlyZSgiLi9kLmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5DbGFzcyxsPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksYz1uLm9iamVjdC5rZXlzLGg9bi5vYmplY3QuZXh0ZW5kLHA9bi5vYmplY3QuY29tcGxldGUsZD1uLmZuLiRzZWxmLHY9bi5nZXR0ZXIsbT1uLmFycmF5LmZyb20sZz1uLmV2ZW50LkVtaXR0ZXIseT1uLmV2ZW50LmNyZWF0ZSxiPW4uZGF0YS5PYmplY3Qsdz1uLmRhdGEuU2xvdCxFPW4uZGF0YS5EYXRhc2V0LFM9bi5kYXRhLmRhdGFzZXQuRmlsdGVyLHg9bi5kYXRhLmRhdGFzZXQuU3BsaXQsVD17fSxOPVtdLEM9e3N0cmluZzohMCxudW1iZXI6ITB9LGs9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGUpP251bGw6TnVtYmVyKGUpfSxMPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlKT9udWxsOk51bWJlcihlKX0sQT1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZSk/bnVsbDpwYXJzZUludChlLDEwKX0sTz1mdW5jdGlvbihlKXtyZXR1cm4gZT09bnVsbD9udWxsOlN0cmluZyhlKX0sTT17fSxEPXt9LFA9e30sSD17fSxCPWZ1bmN0aW9uKCl7fSxxPWYobnVsbCx7Y2xhc3NOYW1lOmErIi5JbmRleCIsaXRlbXM6bnVsbCxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuaXRlbXM9e319LGdldDpmdW5jdGlvbihlLHQpe3ZhciBuPWwuY2FsbCh0aGlzLml0ZW1zLGUpJiZ0aGlzLml0ZW1zW2VdO2lmKG4mJighdHx8bi5lbnRpdHlUeXBlPT09dCkpcmV0dXJuIG59LGFkZDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPXRoaXMuZ2V0KGUpO2lmKCFuKXJldHVybiB0aGlzLml0ZW1zW2VdPXQsITA7aWYobiE9PXQpdGhyb3cgMzl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLml0ZW1zW2VdPT09dClyZXR1cm4gZGVsZXRlIHRoaXMuaXRlbXNbZV0sITB9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPW51bGx9fSksej1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5wcm90b3R5cGVbdF0uY2FsbCh0aGlzLG4mJm4ubWFwKHRoaXMud3JhcHBlcikpfX0sVz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3RoaXMubmFtZXx8KHRoaXMubmFtZT1fKHQpKSxlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9fSxYPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1uLm9iamVjdC5zbGljZSh0aGlzLml0ZW1zXykscj1bXSxpPVtdO2lmKGUpe0Uuc2V0QWNjdW11bGF0ZVN0YXRlKCEwKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy53cmFwcGVyKGVbc10pO28mJih0W28uYmFzaXNPYmplY3RJZF09ITEpfUUuc2V0QWNjdW11bGF0ZVN0YXRlKCExKX1mb3IodmFyIHUgaW4gdGhpcy5pdGVtc18pdSBpbiB0PT0wJiZyLnB1c2godGhpcy5pdGVtc19bdV0pO2Zvcih2YXIgdSBpbiB0KXRbdV0mJmkucHVzaCh0W3VdKTtpLmxlbmd0aCYmdGhpcy53cmFwcGVyLmFsbCYmdGhpcy53cmFwcGVyLmFsbC5lbWl0X2l0ZW1zQ2hhbmdlZCh7ZGVsZXRlZDppfSksRS5zZXRBY2N1bXVsYXRlU3RhdGUoITApO2Zvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKWlbc10uZGVzdHJveSgpO3JldHVybiBFLnNldEFjY3VtdWxhdGVTdGF0ZSghMSksci5sZW5ndGg/cjpudWxsfX0sVj1mKEUse2NsYXNzTmFtZTphKyIuRW50aXR5U2V0IixuYW1lOm51bGwsd3JhcHBlcjpkLGluaXQ6VyhFLCJFbnRpdHlTZXQiKSxzeW5jOlgoRSksc2V0OnooRSwic2V0IiksYWRkOnooRSwiYWRkIikscmVtb3ZlOnooRSwicmVtb3ZlIiksZGVzdHJveTpmdW5jdGlvbigpe0UucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLndyYXBwZXI9bnVsbH19KSwkPWYoVix7Y2xhc3NOYW1lOmErIi5SZWFkT25seUVudGl0eVNldCIsc2V0Om4uZm4uJGZhbHNlLGFkZDpuLmZuLiRmYWxzZSxyZW1vdmU6bi5mbi4kZmFsc2UsY2xlYXI6bi5mbi4kZmFsc2V9KSxKPWYoUyx7Y2xhc3NOYW1lOmErIi5FbnRpdHlDb2xsZWN0aW9uIixuYW1lOm51bGwsaW5pdDpXKFMsIkVudGl0eUNvbGxlY3Rpb24iKSxzeW5jOlgoUyl9KSxLPWYoeCx7Y2xhc3NOYW1lOmErIi5FbnRpdHlHcm91cGluZyIsbmFtZTpudWxsLHN1YnNldENsYXNzOiQsaW5pdDpXKHgsIkVudGl0eUdyb3VwaW5nIiksc3luYzpYKHgpLGdldFN1YnNldDpmdW5jdGlvbihlLHQpe3ZhciBuPXgucHJvdG90eXBlLmdldFN1YnNldC5jYWxsKHRoaXMsZSx0KTtyZXR1cm4gbiYmbi5kYXRhc2V0JiYobi5kYXRhc2V0LndyYXBwZXI9dGhpcy53cmFwcGVyKSxufX0pLFE9ZnVuY3Rpb24oZSx0KXtpZih0aGlzIGluc3RhbmNlb2YgUSl7ZXx8KGU9ZCk7aWYoIXR8fERbdF0pdD1fKCJVbnRpdGxlZEVudGl0eVNldFR5cGUiKTt2YXIgbj1uZXcgRyh7ZW50aXR5U2V0Q2xhc3M6e3dyYXBwZXI6ZX19KSxyPW4uZW50aXR5U2V0Q2xhc3MsaT1mdW5jdGlvbihlLHQpe3JldHVybiBlIT1udWxsPyh0IGluc3RhbmNlb2YgVj09MCYmKHQ9bi5jcmVhdGVFbnRpdHlTZXQoKSksdC5zZXQoZSBpbnN0YW5jZW9mIEU/ZS5nZXRJdGVtcygpOm0oZSkpLHQpOm51bGx9O3JldHVybiB0eXBlb2YgZT09InN0cmluZyImJihyLnByb3RvdHlwZS53cmFwcGVyPUYoZSxyLnByb3RvdHlwZSwid3JhcHBlciIpKSxqKHQsaSksaChpLHt0eXBlOm4sdHlwZU5hbWU6dCx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0KyIoKSJ9LHJlYWRlcjpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXt2YXIgdD1yLnByb3RvdHlwZS53cmFwcGVyO3JldHVybiBlLm1hcCh0LnJlYWRlcnx8dCl9cmV0dXJuIGV9LGV4dGVuZENsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiByLmV4dGVuZC5jYWxsKHIsZSksaX0sZXh0ZW5kUmVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWkucmVhZGVyO3JldHVybiBpLnJlYWRlcj1mdW5jdGlvbihuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKSYmZShuKSx0KG4pfSxpfSxlbnRpdHlTZXRUeXBlOm4sZXh0ZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZXh0ZW5kLmFwcGx5KHIsYXJndW1lbnRzKX19KSxpfX0sRz1mKG51bGwse2NsYXNzTmFtZTphKyIuRW50aXR5U2V0Q29uc3RydWN0b3IiLGVudGl0eVNldENsYXNzOlYsZXh0ZW5kQ29uc3RydWN0b3JfOiEwLGNyZWF0ZUVudGl0eVNldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5lbnRpdHlTZXRDbGFzc319KSxZPWZ1bmN0aW9uKGUpe2lmKHRoaXMgaW5zdGFuY2VvZiBZKXt2YXIgdDtlLnNpbmdsZXRvbj90PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0KCk7cmV0dXJuIHQ/ZSYmdC51cGRhdGUoZSk6dD1uZXcgcihlfHx7fSksdH06dD1mdW5jdGlvbihlLHQpe2lmKGUhPW51bGwpe2lmKCF0fHx0LmVudGl0eVR5cGUhPT1uKXQ9bnVsbDtpZihlPT09dHx8ZS5lbnRpdHlUeXBlPT09bilyZXR1cm4gZTt2YXIgaSxzPW4uaWRGaWVsZDtpZihDW3R5cGVvZiBlXSl7aWYoIXMpcmV0dXJuO2lmKHQ9bi5pbmRleC5nZXQoZSxuKSlyZXR1cm4gdDtpPWUsZT17fSxlW3NdPWl9ZWxzZSBuLmNvbXBvc2l0ZUtleSYmKGk9bi5jb21wb3NpdGVLZXkoZSxlKSksaSE9bnVsbCYmKHQ9bi5pbmRleC5nZXQoaSxuKSk7cmV0dXJuIHQmJnQuZW50aXR5VHlwZT09PW4/dC51cGRhdGUoZSk6dD1uZXcgcihlKSx0fX07dmFyIG49bmV3IGN0KGV8fHt9LHQpLHI9bi5lbnRpdHlDbGFzcyxpPW4ubmFtZTtyZXR1cm4gaihpLHQpLGgodCx7YWxsOm4uYWxsLHR5cGU6bix0eXBlTmFtZTppLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGkrIigpIn0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuLmdldChlKX0sZ2V0U2xvdDpmdW5jdGlvbihlLHQpe3JldHVybiBuLmdldFNsb3QoZSx0KX0scmVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBuLnJlYWRlcihlKX0sZXh0ZW5kQ2xhc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZXh0ZW5kLmNhbGwocixlKSx0fSxleHRlbmRSZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIG49dC5yZWFkZXI7cmV0dXJuIHQucmVhZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0eXBlb2YgdD09Im9iamVjdCImJmUodCksbih0KX0sdH0sZW50aXR5VHlwZTpuLGV4dGVuZDpmdW5jdGlvbigpe3JldHVybiByLmV4dGVuZC5hcHBseShyLGFyZ3VtZW50cyl9fSksdH19LFo9e30sZXQ9e30sdHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0saXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbixyLGkscyxvLHUpe3ZhciBhPW5ldyBEYXRlKGUsbi0xLHIsaXx8MCwwLG98fDAsdT91LnN1YnN0cigwLDMpOjApO3JldHVybiBhLnNldE1pbnV0ZXMoKHN8fDApLXQtYS5nZXRUaW1lem9uZU9mZnNldCgpKSxhfXZhciB0O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdD0wLGUuYXBwbHkobnVsbCxTdHJpbmcobnx8IiIpLnJlcGxhY2UocmVJc29UaW1lem9uZURlc2lnbmF0b3IsZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIHQ9aT9yKjYwK2kqMTpyKjEsbn0pLnNwbGl0KHJlSXNvU3RyaW5nU3BsaXQpKX19KCksY3Q9ZihudWxsLHtjbGFzc05hbWU6YSsiLkVudGl0eVR5cGUiLHdyYXBwZXI6bnVsbCxhbGw6bnVsbCxmaWVsZHM6bnVsbCxpZEZpZWxkOm51bGwsaWRGaWVsZHM6bnVsbCxkZWZhdWx0czpudWxsLGFsaWFzZXM6bnVsbCxzbG90czpudWxsLHNpbmdsZXRvbjohMSxpbmRleDpudWxsLGluZGV4ZXM6bnVsbCxlbnRpdHlDbGFzczpudWxsLGluaXQ6ZnVuY3Rpb24oZSx0KXt0aGlzLm5hbWU9ZS5uYW1lO2lmKCF0aGlzLm5hbWV8fERbdGhpcy5uYW1lXSl0aGlzLm5hbWU9XygiVW50aXRsZWRFbnRpdHlUeXBlIik7dGhpcy5maWVsZHM9e30sdGhpcy5kZXBzPXt9LHRoaXMuaWRGaWVsZHM9e30sdGhpcy5kZWZhdWx0cz17fSx0aGlzLmFsaWFzZXM9e30sdGhpcy5zbG90cz17fTt2YXIgcj1lLmluZGV4O3ImJnIgaW5zdGFuY2VvZiBxJiYodGhpcy5pbmRleD1yKSx0aGlzLndyYXBwZXI9dDtpZigiYWxsImluIGU9PTB8fGUuYWxsfHxlLnNpbmdsZXRvbil0aGlzLmFsbD1uZXcgJChuLm9iamVjdC5jb21wbGV0ZSh7d3JhcHBlcjp0fSxlLmFsbCkpO3RoaXMuc2luZ2xldG9uPSEhZS5zaW5nbGV0b247aWYodGhpcy5zaW5nbGV0b24pe3ZhciBpO3RoaXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuYWxsLmFkZEhhbmRsZXIoe2l0ZW1zQ2hhbmdlZDpmdW5jdGlvbihlLHQpe2k9dC5pbnNlcnRlZD90Lmluc2VydGVkWzBdOm51bGx9fSx0aGlzKX1mb3IodmFyIHMgaW4gZS5maWVsZHMpb3QodGhpcyxzLGUuZmllbGRzW3NdKTtmb3IodmFyIHMgaW4gZS5hbGlhc2VzKXV0KHRoaXMscyxlLmFsaWFzZXNbc10pO2UuY29uc3RyYWlucyYmZS5jb25zdHJhaW5zLmZvckVhY2goZnVuY3Rpb24oZSl7YXQodGhpcyxudWxsLGUpfSx0aGlzKTt2YXIgbz1jKHRoaXMuaWRGaWVsZHMpLHU9e307aWYoby5sZW5ndGgpe2Zvcih2YXIgYSBpbiB0aGlzLmlkRmllbGRzKXt2YXIgZj10aGlzLmlkRmllbGRzW2FdLHI9Zi5pbmRleCxsO2lmKCFyfHxyIGluc3RhbmNlb2YgcT09MCl0eXBlb2Ygcj09InN0cmluZyI/KHIgaW4gUD09MCYmKFBbcl09bmV3IHEpLHI9UFtyXSk6KHRoaXMuaW5kZXh8fCh0aGlzLmluZGV4PW5ldyBxKSxyPXRoaXMuaW5kZXgpO2w9dVtyLmJhc2lzT2JqZWN0SWRdLGx8fChsPXVbci5iYXNpc09iamVjdElkXT17aW5kZXg6cixmaWVsZHM6W119KSxsLmZpZWxkcy5wdXNoKGEpLHRoaXMuaWRGaWVsZHNbYV09bH10aGlzLmluZGV4JiZ0aGlzLmluZGV4LmJhc2lzT2JqZWN0SWQgaW4gdT09MCYmKHRoaXMuaW5kZXg9bnVsbCk7Zm9yKHZhciBoIGluIHUpe3ZhciBsPXVbaF07bC5wcm9wZXJ0eT0iX19pZF9fIitoLGwuY29tcG9zaXRlS2V5PVUuYXBwbHkobnVsbCxsLmZpZWxkcyksbC5maWVsZHMubGVuZ3RoPT0xJiYobC5pZEZpZWxkPWwuZmllbGRzWzBdKX12YXIgcD1jKHUpLGQ9dVt0aGlzLmluZGV4P3RoaXMuaW5kZXguYmFzaXNPYmplY3RJZDpwWzBdXTt0aGlzLmluZGV4PWQuaW5kZXgsdGhpcy5pZEZpZWxkPWQuaWRGaWVsZCx0aGlzLmNvbXBvc2l0ZUtleT1kLmNvbXBvc2l0ZUtleSx0aGlzLmlkUHJvcGVydHk9ZC5wcm9wZXJ0eSx0aGlzLmluZGV4ZXM9dX1lbHNlIHRoaXMuaW5kZXgmJih0aGlzLmluZGV4PW51bGwpO3ZhciB2PXt9O2Zvcih2YXIgcyBpbiB0aGlzLmRlZmF1bHRzKXZbc109dW5kZWZpbmVkO3RoaXMuZW50aXR5Q2xhc3M9ZHQodGhpcyx0aGlzLmFsbCx0aGlzLmZpZWxkcyx0aGlzLnNsb3RzKSx0aGlzLmVudGl0eUNsYXNzLmV4dGVuZCh7ZW50aXR5VHlwZTp0aGlzLHR5cGU6dCx0eXBlTmFtZTp0aGlzLm5hbWUsc3RhdGU6ZS5zdGF0ZXx8dGhpcy5lbnRpdHlDbGFzcy5wcm90b3R5cGUuc3RhdGUsZ2VuZXJhdGVEYXRhOm50KHRoaXMuZGVmYXVsdHMsdGhpcy5maWVsZHMpLGluaXREZWx0YTp2fSk7Zm9yKHZhciBtIGluIHRoaXMuZmllbGRzKXRoaXMuZW50aXR5Q2xhc3MucHJvdG90eXBlWyJnZXRfIittXT1mdChtKSx0aGlzLmZpZWxkc1ttXSE9PXR0JiYodGhpcy5lbnRpdHlDbGFzcy5wcm90b3R5cGVbInNldF8iK21dPWx0KG0pKTtOLnB1c2godGhpcyl9LHJlYWRlcjpmdW5jdGlvbihlKXt2YXIgdD17fTtpZihDW3R5cGVvZiBlXSlyZXR1cm4gdGhpcy5pZEZpZWxkP2U6bnVsbDtpZighZXx8ZT09bnVsbClyZXR1cm4gbnVsbDtmb3IodmFyIG4gaW4gZSl7dmFyIHI9dGhpcy5hbGlhc2VzW25dO2lmKHIpe3ZhciBpPXRoaXMuZmllbGRzW3JdLnJlYWRlcjt0W3JdPWk/aShlW25dKTplW25dfX1yZXR1cm4gdH0sZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0SWQoZSk7aWYodGhpcy5pbmRleCYmdCE9bnVsbClyZXR1cm4gdGhpcy5pbmRleC5nZXQodCx0aGlzKX0sZ2V0SWQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5jb21wb3NpdGVLZXkmJmUhPW51bGwpe2lmKENbdHlwZW9mIGVdKXJldHVybiBlO2lmKGUmJmUuZW50aXR5VHlwZT09PXRoaXMpcmV0dXJuIGVbdGhpcy5pZFByb3BlcnR5XTtlIGluc3RhbmNlb2YgYiYmKGU9ZS5kYXRhKTtpZih0aGlzLmNvbXBvc2l0ZUtleSlyZXR1cm4gdGhpcy5jb21wb3NpdGVLZXkoZSxlKX19LGdldFNsb3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRJZChlKTtpZih0IT1udWxsKXt2YXIgbj1sLmNhbGwodGhpcy5zbG90cyx0KSYmdGhpcy5zbG90c1t0XTtpZighbil7aWYoQ1t0eXBlb2YgZV0pe3ZhciByPXt9O3RoaXMuaWRGaWVsZCYmKHJbdGhpcy5pZEZpZWxkXT1lKSxlPXJ9bj10aGlzLnNsb3RzW3RdPW5ldyB3KHtkZWxlZ2F0ZTp0aGlzLmdldCh0KXx8bnVsbCxkYXRhOmV9KX1yZXR1cm4gbn19fSkscHQ9ZihiLHtjbGFzc05hbWU6YSsiLkJhc2VFbnRpdHkiLHRhcmdldDohMCxzZXREZWxlZ2F0ZTpmdW5jdGlvbigpe30sZXh0ZW5kQ29uc3RydWN0b3JfOiExLGZpZWxkSGFuZGxlcnNfOm51bGwsbW9kaWZpZWQ6bnVsbCxlbWl0X3JvbGxiYWNrVXBkYXRlOnkoInJvbGxiYWNrVXBkYXRlIil9KSxkdD1mdW5jdGlvbihlLHQscixpKXtmdW5jdGlvbiBzKHQsbixyKXt2YXIgaT1lLmNhbGNzLHM9dC5kYXRhLHU9ITE7dHJ5e2lmKGkpZm9yKHZhciBhPTAsZjtmPWlbYV07YSsrKXt2YXIgbD1mLmtleSxjPXNbbF0saD1mLndyYXBwZXIobixzLGMpO2wmJmghPT1jJiYobltsXT1jLHNbbF09aCx1PSEwKX1mb3IodmFyIHAgaW4gZS5pbmRleGVzKXt2YXIgZD1lLmluZGV4ZXNbcF0sdj10W2QucHJvcGVydHldLG09djtkLmNvbXBvc2l0ZUtleSYmKG09ZC5jb21wb3NpdGVLZXkobixzLHYpKSxtIT09diYmKG8oZC5pbmRleCx0LHYsbSksdFtkLnByb3BlcnR5XT1tKX1yZXR1cm4gdX1jYXRjaChnKXtmb3IodmFyIGwgaW4gbil0LmRhdGFbbF09bltsXTtyJiYhdC5tb2RpZmllZCYmKHQubW9kaWZpZWQ9cil9fWZ1bmN0aW9uIG8oZSx0LG4scil7ciE9bnVsbCYmKGUuYWRkKHIsdCksbC5jYWxsKGkscikmJmlbcl0uc2V0RGVsZWdhdGUodCkpLG4hPW51bGwmJihlLnJlbW92ZShuLHQpLGwuY2FsbChpLG4pJiZpW25dLnNldERlbGVnYXRlKCkpfXJldHVybiBmKHB0LHtjbGFzc05hbWU6ZS5uYW1lLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMuZGF0YT10aGlzLmdlbmVyYXRlRGF0YShlKSxwdC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO3ZhciBuO2Zvcih2YXIgciBpbiB0aGlzLmRhdGEpbj10aGlzLmRhdGFbcl0sbiYmbiE9PXRoaXMmJm4gaW5zdGFuY2VvZiBnJiYobi5hZGRIYW5kbGVyKFpbcl0sdGhpcyksdGhpcy5maWVsZEhhbmRsZXJzX3x8KHRoaXMuZmllbGRIYW5kbGVyc189e30pLHRoaXMuZmllbGRIYW5kbGVyc19bcl09ITApO3ModGhpcyx0aGlzLmluaXREZWx0YSksdCYmdC5lbWl0X2l0ZW1zQ2hhbmdlZCh7aW5zZXJ0ZWQ6W3RoaXNdfSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIit0aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSsiKCIrdGhpcy5lbnRpdHlUeXBlLm5hbWUrIildIn0sZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tlLmlkUHJvcGVydHldfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdGhpcy5tb2RpZmllZCYmZSBpbiB0aGlzLm1vZGlmaWVkP3RoaXMubW9kaWZpZWRbZV06dGhpcy5kYXRhW2VdfSxzZXQ6ZnVuY3Rpb24odCxuLGksbyl7dmFyIHU9clt0XTtpZighdSlyZXR1cm4hMTt2YXIgYSxmPXRoaXMubW9kaWZpZWQ7dT09PXJ0JiZmJiZ0IGluIGYmJihuPXJ0KG4sZlt0XSkpO3ZhciBsPXUobix0aGlzLmRhdGFbdF0pLGg9dGhpcy5kYXRhW3RdLHA9bCE9PWgmJighbHx8IWh8fGwuY29uc3RydWN0b3IhPT1EYXRlfHxoLmNvbnN0cnVjdG9yIT09RGF0ZXx8K2whPT0raCk7aWYocCllOnthPXt9O2lmKCFlLmlkRmllbGRzW3RdKWlmKGkpZnx8KHRoaXMubW9kaWZpZWQ9Zj17fSksdCBpbiBmPT0wPyhhLnJvbGxiYWNrPXtrZXk6dCx2YWx1ZTp1bmRlZmluZWR9LGZbdF09aCk6Zlt0XT09PWwmJihhLnJvbGxiYWNrPXtrZXk6dCx2YWx1ZTpsfSxkZWxldGUgZlt0XSxjKGYpLmxlbmd0aHx8KHRoaXMubW9kaWZpZWQ9bnVsbCkpO2Vsc2UgaWYoZiYmdCBpbiBmKXtpZihmW3RdIT09bCl7YS5yb2xsYmFjaz17a2V5OnQsdmFsdWU6Zlt0XX0sZlt0XT1sO2JyZWFrIGV9cmV0dXJuITF9dGhpcy5kYXRhW3RdPWwsdGhpcy5maWVsZEhhbmRsZXJzXyYmdGhpcy5maWVsZEhhbmRsZXJzX1t0XSYmKGgucmVtb3ZlSGFuZGxlcihaW3RdLHRoaXMpLHRoaXMuZmllbGRIYW5kbGVyc19bdF09ITEpLGwmJmwhPT10aGlzJiZsIGluc3RhbmNlb2YgZyYmKGwuYWRkSGFuZGxlcihaW3RdLHRoaXMpLHRoaXMuZmllbGRIYW5kbGVyc198fCh0aGlzLmZpZWxkSGFuZGxlcnNfPXt9KSx0aGlzLmZpZWxkSGFuZGxlcnNfW3RdPSEwKSxhLmtleT10LGEudmFsdWU9aCxhLmRlbHRhPXt9LGEuZGVsdGFbdF09aH1lbHNlIWkmJmYmJnQgaW4gZiYmKGE9e3JvbGxiYWNrOntrZXk6dCx2YWx1ZTpmW3RdfX0sZGVsZXRlIGZbdF0sYyhmKS5sZW5ndGh8fCh0aGlzLm1vZGlmaWVkPW51bGwpKTtpZighbyYmYSl7dmFyIGQ9YS5rZXksdj1hLmRlbHRhfHx7fSxtO2Eucm9sbGJhY2smJihtPXt9LG1bYS5yb2xsYmFjay5rZXldPWEucm9sbGJhY2sudmFsdWUpLHModGhpcyx2LG0pJiYoZD0hMCksZCYmKHRoaXMuZW1pdF91cGRhdGUodiksYS5kZWx0YT12KSxtJiZ0aGlzLmVtaXRfcm9sbGJhY2tVcGRhdGUobSl9cmV0dXJuIGF8fCExfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMSxyPXt9O2lmKGUpe3ZhciBpLG87Zm9yKHZhciB1IGluIGUpaWYobz10aGlzLnNldCh1LGVbdV0sdCwhMCkpby5rZXkmJihuPSEwLHJbby5rZXldPW8udmFsdWUpLG8ucm9sbGJhY2smJihpfHwoaT17fSksaVtvLnJvbGxiYWNrLmtleV09by5yb2xsYmFjay52YWx1ZSk7cyh0aGlzLHIsaSkmJihuPSEwKSxuJiZ0aGlzLmVtaXRfdXBkYXRlKHIpLGkmJnRoaXMuZW1pdF9yb2xsYmFja1VwZGF0ZShpKX1yZXR1cm4gbj9yOiExfSxnZW5lcmF0ZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm57fX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSh0aGlzLmdlbmVyYXRlRGF0YSh7fSkpfSxjbGVhcjpmdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLmRhdGEpZVt0XT11bmRlZmluZWQ7cmV0dXJuIHRoaXMudXBkYXRlKGUpfSxjb21taXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tb2RpZmllZDt0aGlzLm1vZGlmaWVkPW51bGwsZSYmdGhpcy51cGRhdGUoZSksdCYmdGhpcy5lbWl0X3JvbGxiYWNrVXBkYXRlKHQpfSxyb2xsYmFjazpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm1vZGlmaWVkO3ImJnQmJihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHI9bi5vYmplY3Quc2xpY2Uocix0LnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiB0LmNvbmNhdChlLmRlcHNbbl18fG4pfSxbXSkpKSx0aGlzLnVwZGF0ZShyLCEwKX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMuZmllbGRIYW5kbGVyc18pe2Zvcih2YXIgbiBpbiB0aGlzLmZpZWxkSGFuZGxlcnNfKXRoaXMuZmllbGRIYW5kbGVyc19bbl0mJnRoaXMuZGF0YVtuXS5yZW1vdmVIYW5kbGVyKFpbbl0sdGhpcyk7dGhpcy5maWVsZEhhbmRsZXJzXz1udWxsfWZvcih2YXIgbiBpbiBlLmluZGV4ZXMpe3ZhciByPWUuaW5kZXhlc1tuXSxpPXRoaXNbci5wcm9wZXJ0eV07aSE9bnVsbCYmbyhyLmluZGV4LHRoaXMsaSxudWxsKX10JiZ0Lmhhcyh0aGlzKSYmdC5lbWl0X2l0ZW1zQ2hhbmdlZCh7ZGVsZXRlZDpbdGhpc119KSxiLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5kYXRhPVQsdGhpcy5tb2RpZmllZD1udWxsfX0pfTt0LmV4cG9ydHM9e2lzRW50aXR5OnZ0LGNyZWF0ZVR5cGU6bXQsY3JlYXRlU2V0VHlwZTpndCx2YWxpZGF0ZTpJLGdldFR5cGVCeU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIERbZV19LGdldEluZGV4QnlOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiBQW2VdfSxnZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1EW2VdO2lmKG4pcmV0dXJuIG4uZ2V0KHQpfSxyZXNvbHZlOmZ1bmN0aW9uKGUsdCl7dmFyIG49RFtlXTtpZihuKXJldHVybiBuKHQpfSxnZXRCeUluZGV4OmZ1bmN0aW9uKGUsdCl7aWYoZSBpbiBQKXJldHVybiBQW2VdLmdldCh0KX0sTnVtZXJpY0lkOmssTnVtYmVySWQ6TCxJbnRJZDpBLFN0cmluZ0lkOk8sSW5kZXg6cSxDYWxjdWxhdGVGaWVsZDpSLENvbmNhdFN0cmluZ0ZpZWxkOlUsY2FsYzpSLEVudGl0eVR5cGU6WSxFbnRpdHk6ZHQsQmFzZUVudGl0eTpwdCxFbnRpdHlTZXRUeXBlOlEsRW50aXR5U2V0OlYsUmVhZE9ubHlFbnRpdHlTZXQ6JCxDb2xsZWN0aW9uOkosR3JvdXBpbmc6S319LCJpLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIFQoKXt2YXIgZT0iYmFzaXNqc0pzb25wQ2FsbGJhY2siK3BhcnNlSW50KE1hdGgucmFuZG9tKCkqMWUxMSk7cmV0dXJuIHJbZV09ZnVuY3Rpb24odCl7eFtlXT10fSxlfWZ1bmN0aW9uIE4oZSl7dmFyIHQ9eFtlXTtyZXR1cm4gZGVsZXRlIHhbZV0sdH1mdW5jdGlvbiBDKGUpe2RlbGV0ZSB4W2VdLGRlbGV0ZSByW2VdfWZ1bmN0aW9uIGsoZSx0KXt2YXIgbixpLHM9ITE7aWYodHlwZW9mIGUhPSJudW1iZXIiKXtpZighZXx8dGhpcy5zY3JpcHQhPT1lLnRhcmdldClyZXR1cm47cz1lJiZlLnR5cGU9PSJlcnJvciIsZT1zfHwhdGhpcy5zY3JpcHQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdCh0aGlzLnNjcmlwdC5yZWFkeVN0YXRlKT9TOkV9aWYoZT09dGhpcy5wcmV2UmVhZHlTdGF0ZV8pcmV0dXJuO3RoaXMucHJldlJlYWR5U3RhdGVfPWUsdGhpcy5lbWl0X3JlYWR5U3RhdGVDaGFuZ2VkKGUpO2lmKGU9PVMpe3RoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5zY3JpcHQub25sb2FkPXRoaXMuc2NyaXB0Lm9uZXJyb3I9dGhpcy5zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5zY3JpcHQucGFyZW50Tm9kZSYmdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCx0Pyh0aGlzLmVtaXRfYWJvcnQoKSxuPXRoaXMuc3RhdGVPbkFib3J0KToodGhpcy5wcm9jZXNzUmVzcG9uc2UoKSx0aGlzLmlzU3VjY2Vzc2Z1bCgpJiYhcz8obj15LlJFQURZLHRoaXMuZW1pdF9zdWNjZXNzKHRoaXMuZ2V0UmVzcG9uc2VEYXRhKCkpKToobj15LkVSUk9SLGk9dGhpcy5nZXRSZXNwb25zZUVycm9yKCksdGhpcy5lbWl0X2ZhaWx1cmUoaSkpKSx0aGlzLmVtaXRfY29tcGxldGUodGhpcyk7dmFyIG89dGhpcy5jYWxsYmFjazt0P3NldFRpbWVvdXQocltvXT1mdW5jdGlvbigpe0Mobyl9LDNlNSk6QyhvKX1lbHNlIG49eS5QUk9DRVNTSU5HO3RoaXMuc2V0U3RhdGUobixpKX1uLnJlcXVpcmUoIi4vai5qcyIpLG4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9ci5kb2N1bWVudCxsPXIuZW5jb2RlVVJJQ29tcG9uZW50LGM9bi5vYmplY3QuZXh0ZW5kLGg9bi5vYmplY3Quc2xpY2UscD1uLm9iamVjdC5tZXJnZSxkPW4ubmV0LmNyZWF0ZVRyYW5zcG9ydEV2ZW50LHY9bi5uZXQuY3JlYXRlUmVxdWVzdEV2ZW50LG09bi5uZXQuQWJzdHJhY3RSZXF1ZXN0LGc9bi5uZXQuQWJzdHJhY3RUcmFuc3BvcnQseT1uLmRhdGEuU1RBVEUsYj0wLHc9MSxFPTMsUz00LHg9e30sTD1tLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlJlcXVlc3QiLHRpbWVvdXQ6M2U0LHRpbWVyXzpudWxsLGVtaXRfcmVhZHlTdGF0ZUNoYW5nZWQ6digicmVhZHlTdGF0ZUNoYW5nZWQiKSxpc0lkbGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5zY3JpcHR9LGlzU3VjY2Vzc2Z1bDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuc3RhdHVzPT0yMDB9LHByb2Nlc3NSZXNwb25zZTpmdW5jdGlvbigpe3RoaXMuY2FsbGJhY2sgaW4geCYmdGhpcy51cGRhdGUoe2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0IixkYXRhOk4odGhpcy5jYWxsYmFjayksc3RhdHVzOjIwMH0pfSxnZXRSZXNwb25zZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmRhdGF9LGdldFJlc3BvbnNlRXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm57Y29kZToiRVJST1IiLG1zZzoiRVJST1IifX0scHJlcGFyZTpuLmZuLiR0cnVlLHByZXBhcmVSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWUudXJsO2U9aChlKSx0aGlzLmNhbGxiYWNrPVQoKTtmb3IodmFyIHIgaW4gZS5wYXJhbXMpe3ZhciBpPWUucGFyYW1zW3JdO2lmKGk9PW51bGx8fGkudG9TdHJpbmcoKT09bnVsbCljb250aW51ZTt0LnB1c2gobChyKSsiPSIrbChpLnRvU3RyaW5nKCkpKX1yZXR1cm4gdC5wdXNoKGwoZS5jYWxsYmFja1BhcmFtKSsiPSIrbCh0aGlzLmNhbGxiYWNrKSksdD10LmpvaW4oIiYiKSxlLnJvdXRlclBhcmFtcyYmKG49bi5yZXBsYWNlKC86KFthLXpcX1wtXVthLXowLTlcX1wtXSspL2dpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4gaW4gZS5yb3V0ZXJQYXJhbXM/ZS5yb3V0ZXJQYXJhbXNbbl06dH0pKSx0JiYobis9KG4uaW5kZXhPZigiPyIpPT0tMT8iPyI6IiYiKSt0KSxlLnJlcXVlc3RVcmw9bixlfSxkb1JlcXVlc3Q6ZnVuY3Rpb24oKXt0aGlzLnNlbmQodGhpcy5wcmVwYXJlUmVxdWVzdERhdGEodGhpcy5yZXF1ZXN0RGF0YSkpfSxzZW5kOmZ1bmN0aW9uKGUpe2lmKCFmKXRocm93IDQxO3ZhciB0PWYuaGVhZHx8Zi5nZXRFbGVtZW50QnlOYW1lKCJoZWFkIilbMF18fGYuZG9jdW1lbnRFbGVtZW50LG49Zi5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0aGlzLnVwZGF0ZSh7ZGF0YTp1bmRlZmluZWQsc3RhdHVzOiIiLGVycm9yOiIifSksdGhpcy5zY3JpcHQ9bixuLmFzeW5jPSEwLG4uc3JjPWUucmVxdWVzdFVybCxuLmNoYXJzZXQ9ZS5lbmNvZGluZyxuLm9ubG9hZD1uLm9uZXJyb3I9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ay5iaW5kKHRoaXMpLHRoaXMucHJldlJlYWR5U3RhdGVfPS0xLHRoaXMuZW1pdF9zdGFydCgpLGsuY2FsbCh0aGlzLGIpLHRoaXMuc2V0VGltZW91dCh0aGlzLnRpbWVvdXQpLHQuYXBwZW5kQ2hpbGQodGhpcy5zY3JpcHQpfSxyZXBlYXQ6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3REYXRhJiYodGhpcy5hYm9ydCgpLHRoaXMuZG9SZXF1ZXN0KCkpfSxhYm9ydDpmdW5jdGlvbigpe3RoaXMuaXNJZGxlKCl8fCh0aGlzLmNsZWFyVGltZW91dCgpLGsuY2FsbCh0aGlzLFMsITApKX0sc2V0VGltZW91dDpmdW5jdGlvbihlKXt0aGlzLnRpbWVyXz1zZXRUaW1lb3V0KHRoaXMudGltZW91dEFib3J0LmJpbmQodGhpcyksZSl9LGNsZWFyVGltZW91dDpmdW5jdGlvbigpe3RoaXMudGltZXJfJiYodGhpcy50aW1lcl89Y2xlYXJUaW1lb3V0KHRoaXMudGltZXJfKSl9LHRpbWVvdXRBYm9ydDpmdW5jdGlvbigpe3RoaXMudXBkYXRlKHtlcnJvcjp7Y29kZToiVElNRU9VVF9FUlJPUiIsbWVzc2FnZToiVGltZW91dCBlcnJvciJ9fSksdGhpcy5lbWl0X3RpbWVvdXQodGhpcyksdGhpcy5hYm9ydCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLG0ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxBPWcuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuVHJhbnNwb3J0IixyZXF1ZXN0Q2xhc3M6TCxlbWl0X3JlYWR5U3RhdGVDaGFuZ2VkOnYoInJlYWR5U3RhdGVDaGFuZ2VkIiksZW5jb2Rpbmc6bnVsbCxwYXJhbXM6bnVsbCxjYWxsYmFja1BhcmFtOiJjYWxsYmFjayIsaW5pdDpmdW5jdGlvbigpe2cucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnBhcmFtcz1oKHRoaXMucGFyYW1zKX0sc2V0UGFyYW06ZnVuY3Rpb24oZSx0KXt0aGlzLnBhcmFtc1tlXT10fSxzZXRQYXJhbXM6ZnVuY3Rpb24oZSl7dGhpcy5jbGVhclBhcmFtcygpO2Zvcih2YXIgdCBpbiBlKXRoaXMuc2V0UGFyYW0odCxlW3RdKX0scmVtb3ZlUGFyYW06ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMucGFyYW1zW2VdfSxjbGVhclBhcmFtczpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLnBhcmFtcylkZWxldGUgdGhpcy5wYXJhbXNbZV19LHByZXBhcmVSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLnVybHx8dGhpcy51cmw7aWYoIXQpdGhyb3cgNDI7cmV0dXJuIGMoZSx7dXJsOnQsZW5jb2Rpbmc6ZS5lbmNvZGluZ3x8dGhpcy5lbmNvZGluZyxwYXJhbXM6cCh0aGlzLnBhcmFtcyxlLnBhcmFtcykscm91dGVyUGFyYW1zOmUucm91dGVyUGFyYW1zLGNhbGxiYWNrUGFyYW06ZS5jYWxsYmFja1BhcmFtfHx0aGlzLmNhbGxiYWNrUGFyYW0saW5mbHVlbmNlOmUuaW5mbHVlbmNlfSksZX19KTt0LmV4cG9ydHM9e1JlcXVlc3Q6TCxUcmFuc3BvcnQ6QSxyZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt0eXBlb2YgZT09InN0cmluZyImJihlPXt1cmw6ZX0pO3ZhciBpPW5ldyBBKGUpO2kuYWRkSGFuZGxlcih7c3VjY2Vzczp0JiZmdW5jdGlvbihlLG4scil7dChyKX0sZmFpbHVyZTpyJiZmdW5jdGlvbihlLHQsbil7cihuKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtuLm5leHRUaWNrKGZ1bmN0aW9uKCl7aS5kZXN0cm95KCl9KX19KSxpLnJlcXVlc3QoKX19fSwiai5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBnKGUpe3ZhciB0PXAoZSk7cmV0dXJuIGZ1bmN0aW9uKCl7dC5hcHBseSh3LGFyZ3VtZW50cyksdGhpcy5zZXJ2aWNlJiZ0LmFwcGx5KHRoaXMuc2VydmljZSxhcmd1bWVudHMpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB5KGUpe3ZhciB0PXAoZSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9W3RoaXNdLmNvbmNhdChsKGFyZ3VtZW50cykpO3QuYXBwbHkodyxyKSx0aGlzLnRyYW5zcG9ydCYmdGhpcy50cmFuc3BvcnRbImVtaXRfIitlXS5hcHBseSh0aGlzLnRyYW5zcG9ydCxyKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19bi5yZXF1aXJlKCIuLzMuanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4ub2JqZWN0LmV4dGVuZCxsPW4uYXJyYXkuZnJvbSxjPW4ub2JqZWN0LnNsaWNlLGg9bi5vYmplY3QubWVyZ2UscD1uLmV2ZW50LmNyZWF0ZSxkPW4uZGF0YS5TVEFURSx2PW4uZGF0YS5PYmplY3QsbT1uLmV2ZW50LkVtaXR0ZXIsYj1bXSx3PW5ldyBtKHthYm9ydDpmdW5jdGlvbigpe3ZhciBlPWwoYik7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5hYm9ydCgpO3JldHVybiBlfSxoYW5kbGVyOntzdGFydDpmdW5jdGlvbihlKXtuLmFycmF5LmFkZChiLGUudHJhbnNwb3J0KX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7bi5hcnJheS5yZW1vdmUoYixlLnRyYW5zcG9ydCl9fX0pLEU9di5zdWJjbGFzcyh7Y2xhc3NOYW1lOmErIi5BYnN0cmFjdFJlcXVlc3QiLGluZmx1ZW5jZTpudWxsLGluaXREYXRhOm51bGwscmVxdWVzdERhdGE6bnVsbCx0cmFuc3BvcnQ6bnVsbCxzdGF0ZU9uQWJvcnQ6ZC5VTkRFRklORUQsZW1pdF9zdGFydDp5KCJzdGFydCIpLGVtaXRfdGltZW91dDp5KCJ0aW1lb3V0IiksZW1pdF9hYm9ydDp5KCJhYm9ydCIpLGVtaXRfc3VjY2Vzczp5KCJzdWNjZXNzIiksZW1pdF9mYWlsdXJlOnkoImZhaWx1cmUiKSxlbWl0X2NvbXBsZXRlOnkoImNvbXBsZXRlIiksZW1pdF9zdGF0ZUNoYW5nZWQ6ZnVuY3Rpb24oZSl7di5wcm90b3R5cGUuZW1pdF9zdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLGUpO2lmKHRoaXMuaW5mbHVlbmNlKWZvcih2YXIgdD0wO3Q8dGhpcy5pbmZsdWVuY2UubGVuZ3RoO3QrKyl0aGlzLmluZmx1ZW5jZVt0XS5zZXRTdGF0ZSh0aGlzLnN0YXRlLHRoaXMuc3RhdGUuZGF0YSl9LGluaXQ6ZnVuY3Rpb24oKXt2LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5pbmZsdWVuY2U9W119LHNldEluZmx1ZW5jZTpmdW5jdGlvbihlKXt0aGlzLmluZmx1ZW5jZT1sKGUpfSxjbGVhckluZmx1ZW5jZTpmdW5jdGlvbigpe3RoaXMuaW5mbHVlbmNlPW51bGx9LGRvUmVxdWVzdDpuLmZuLiR1bmRlZixnZXRSZXNwb25zZURhdGE6bi5mbi4kdW5kZWYsZGVzdHJveTpmdW5jdGlvbigpe3YucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLmluaXREYXRhPW51bGwsdGhpcy5yZXF1ZXN0RGF0YT1udWxsLHRoaXMuY2xlYXJJbmZsdWVuY2UoKX19KSxTPXtzdGFydDpmdW5jdGlvbihlLHQpe24uYXJyYXkuYWRkKHRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzLHQpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe24uYXJyYXkucmVtb3ZlKHRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzLHQpfX0seD17Y29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlcXVlc3RRdWV1ZS5zaGlmdCgpO2UmJm4ubmV4dFRpY2soZnVuY3Rpb24oKXtlLmRvUmVxdWVzdCgpfSl9fSxUPW0uc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuQWJzdHJhY3RUcmFuc3BvcnQiLHJlcXVlc3RDbGFzczpFLHJlcXVlc3RzOm51bGwscG9vbExpbWl0Om51bGwscG9vbEhhc2hHZXR0ZXI6bi5mbi4kdHJ1ZSxlbWl0X3N0YXJ0OmcoInN0YXJ0IiksZW1pdF90aW1lb3V0OmcoInRpbWVvdXQiKSxlbWl0X2Fib3J0OmcoImFib3J0IiksZW1pdF9zdWNjZXNzOmcoInN1Y2Nlc3MiKSxlbWl0X2ZhaWx1cmU6ZygiZmFpbHVyZSIpLGVtaXRfY29tcGxldGU6ZygiY29tcGxldGUiKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5yZXF1ZXN0cz17fSx0aGlzLnJlcXVlc3RRdWV1ZT1bXSx0aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0cz1bXSxtLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5hZGRIYW5kbGVyKFMsdGhpcyksdGhpcy5wb29sTGltaXQmJnRoaXMuYWRkSGFuZGxlcih4LHRoaXMpfSxnZXRSZXF1ZXN0QnlIYXNoOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVxdWVzdHNbZV07aWYoIXQpe2Zvcih2YXIgbiBpbiB0aGlzLnJlcXVlc3RzKWlmKHRoaXMucmVxdWVzdHNbbl0uaXNJZGxlKCkmJnRoaXMucmVxdWVzdFF1ZXVlLmluZGV4T2YodGhpcy5yZXF1ZXN0c1tuXSk9PS0xKXt0PXRoaXMucmVxdWVzdHNbbl0sZGVsZXRlIHRoaXMucmVxdWVzdHNbbl07YnJlYWt9dHx8KHQ9bmV3IHRoaXMucmVxdWVzdENsYXNzKHt0cmFuc3BvcnQ6dGhpc30pKSx0aGlzLnJlcXVlc3RzW2VdPXR9cmV0dXJuIHR9LHByZXBhcmU6bi5mbi4kdHJ1ZSxwcmVwYXJlUmVxdWVzdERhdGE6bi5mbi4kc2VsZixyZXF1ZXN0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnByZXBhcmUoKSlyZXR1cm47dmFyIHQ9YyhlKSxuPXRoaXMucG9vbEhhc2hHZXR0ZXIodGhpcy5wcmVwYXJlUmVxdWVzdERhdGEodCkpLHI9dGhpcy5nZXRSZXF1ZXN0QnlIYXNoKG4sITApO3JldHVybiByLmluaXREYXRhJiZyLmFib3J0KCksci5pbml0RGF0YT10LHIucmVxdWVzdERhdGE9dCxyLnNldEluZmx1ZW5jZSh0LmluZmx1ZW5jZXx8dGhpcy5pbmZsdWVuY2UpLHRoaXMucG9vbExpbWl0JiZ0aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0cy5sZW5ndGg+PXRoaXMucG9vbExpbWl0Pyh0aGlzLnJlcXVlc3RRdWV1ZS5wdXNoKHIpLHIuc2V0U3RhdGUoZC5QUk9DRVNTSU5HKSk6ci5kb1JlcXVlc3QoKSxyfSxhYm9ydDpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ7dD10aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0c1tlXTtlKyspdC5hYm9ydCgpO2Zvcih2YXIgZT0wLHQ7dD10aGlzLnJlcXVlc3RRdWV1ZVtlXTtlKyspdC5zZXRTdGF0ZShkLkVSUk9SKTt0aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0cz1bXSx0aGlzLnJlcXVlc3RRdWV1ZT1bXX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuc3RvcHBlZHx8KHRoaXMuc3RvcHBlZFJlcXVlc3RzPXRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzLmNvbmNhdCh0aGlzLnJlcXVlc3RRdWV1ZSksdGhpcy5hYm9ydCgpLHRoaXMuc3RvcHBlZD0hMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKHRoaXMuc3RvcHBlZFJlcXVlc3RzKXtmb3IodmFyIGU9MCx0O3Q9dGhpcy5zdG9wcGVkUmVxdWVzdHNbZV07ZSsrKXQudHJhbnNwb3J0LnJlcXVlc3QodC5pbml0RGF0YSk7dGhpcy5zdG9wcGVkUmVxdWVzdHM9bnVsbH10aGlzLnN0b3BwZWQ9ITF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5yZXF1ZXN0cyl0aGlzLnJlcXVlc3RzW2VdLmRlc3Ryb3koKTt0aGlzLnJlcXVlc3RzPXt9LHRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzPW51bGwsdGhpcy5yZXF1ZXN0UXVldWU9bnVsbCx0aGlzLnN0b3BwZWRSZXF1ZXN0cz1udWxsLG0ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KTt0LmV4cG9ydHM9e2NyZWF0ZVRyYW5zcG9ydEV2ZW50OmcsY3JlYXRlUmVxdWVzdEV2ZW50OnksdHJhbnNwb3J0RGlzcGF0Y2hlcjp3LEFic3RyYWN0UmVxdWVzdDpFLEFic3RyYWN0VHJhbnNwb3J0OlR9fSwiay5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtuLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi9sLmpzIiksbi5yZXF1aXJlKCIuL24uanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLmV2ZW50LmNyZWF0ZSxsPW4ubmV0LmFjdGlvbi5jcmVhdGUsYz1uLmV2ZW50LkVtaXR0ZXIsaD1uLm5ldC5hamF4LlRyYW5zcG9ydCxwPXtzdGFydDpmdW5jdGlvbihlLHQpe24uYXJyYXkuYWRkKHRoaXMuaW5wcm9ncmVzc1RyYW5zcG9ydHMsdC50cmFuc3BvcnQpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe24uYXJyYXkucmVtb3ZlKHRoaXMuaW5wcm9ncmVzc1RyYW5zcG9ydHMsdC50cmFuc3BvcnQpfX0sZD1jLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlNlcnZpY2UiLGlucHJvZ3Jlc3NUcmFuc3BvcnRzOm51bGwsdHJhbnNwb3J0Q2xhc3M6aCxlbWl0X3Nlc3Npb25PcGVuOmYoInNlc3Npb25PcGVuIiksZW1pdF9zZXNzaW9uQ2xvc2U6Zigic2Vzc2lvbkNsb3NlIiksZW1pdF9zZXNzaW9uRnJlZXplOmYoInNlc3Npb25GcmVlemUiKSxlbWl0X3Nlc3Npb25VbmZyZWV6ZTpmKCJzZXNzaW9uVW5mcmVlemUiKSxpc1NlY3VyZTohMSxwcmVwYXJlOm4uZm4uJHRydWUsc2lnbmF0dXJlOm4uZm4uJHVuZGVmLGlzU2Vzc2lvbkV4cGlyZWRFcnJvcjpuLmZuLiRmYWxzZSxpbml0OmZ1bmN0aW9uKCl7Yy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuaW5wcm9ncmVzc1RyYW5zcG9ydHM9W107dmFyIGU9dGhpcy50cmFuc3BvcnRDbGFzczt0aGlzLnRyYW5zcG9ydENsYXNzPWUuc3ViY2xhc3Moe3NlcnZpY2U6dGhpcyxuZWVkU2lnbmF0dXJlOnRoaXMuaXNTZWN1cmUsZW1pdF9mYWlsdXJlOmZ1bmN0aW9uKHQsbil7ZS5wcm90b3R5cGUuZW1pdF9mYWlsdXJlLmNhbGwodGhpcyx0LG4pLHRoaXMubmVlZFNpZ25hdHVyZSYmdGhpcy5zZXJ2aWNlLmlzU2Vzc2lvbkV4cGlyZWRFcnJvcih0KSYmKHRoaXMuc2VydmljZS5mcmVlemUoKSx0aGlzLnNlcnZpY2Uuc3RvcHBlZFRyYW5zcG9ydHMucHVzaCh0aGlzKSx0aGlzLnN0b3AoKSl9LHJlcXVlc3Q6ZnVuY3Rpb24odCl7aWYoIXRoaXMuc2VydmljZS5wcmVwYXJlKHRoaXMsdCkpcmV0dXJuO2lmKHRoaXMubmVlZFNpZ25hdHVyZSYmIXRoaXMuc2VydmljZS5zaWduKHRoaXMpKXJldHVybjtyZXR1cm4gZS5wcm90b3R5cGUucmVxdWVzdC5jYWxsKHRoaXMsdCl9fSksdGhpcy5hZGRIYW5kbGVyKHApfSxzaWduOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc2Vzc2lvbktleSlyZXR1cm4gdGhpcy5zaWduYXR1cmUoZSx0aGlzLnNlc3Npb25EYXRhKSwhMH0sb3BlblNlc3Npb246ZnVuY3Rpb24oZSx0KXt0aGlzLnNlc3Npb25LZXk9ZSx0aGlzLnNlc3Npb25EYXRhPXQsdGhpcy51bmZyZWV6ZSgpLHRoaXMuZW1pdF9zZXNzaW9uT3BlbigpfSxjbG9zZVNlc3Npb246ZnVuY3Rpb24oKXt0aGlzLmZyZWV6ZSgpLHRoaXMuZW1pdF9zZXNzaW9uQ2xvc2UoKX0sZnJlZXplOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc2Vzc2lvbktleSlyZXR1cm47dGhpcy5zZXNzaW9uS2V5PW51bGwsdGhpcy5zZXNzaW9uRGF0YT1udWxsLHRoaXMuc3RvcHBlZFRyYW5zcG9ydHM9dGhpcy5pbnByb2dyZXNzVHJhbnNwb3J0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmVlZFNpZ25hdHVyZX0pO2Zvcih2YXIgZT0wLHQ7dD10aGlzLmlucHJvZ3Jlc3NUcmFuc3BvcnRzW2VdO2UrKyl0LnN0b3AoKTt0aGlzLmVtaXRfc2Vzc2lvbkZyZWV6ZSgpfSx1bmZyZWV6ZTpmdW5jdGlvbigpe2lmKHRoaXMuc3RvcHBlZFRyYW5zcG9ydHMpZm9yKHZhciBlPTAsdDt0PXRoaXMuc3RvcHBlZFRyYW5zcG9ydHNbZV07ZSsrKXQucmVzdW1lKCk7dGhpcy5lbWl0X3Nlc3Npb25VbmZyZWV6ZSgpfSxjcmVhdGVUcmFuc3BvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLnRyYW5zcG9ydENsYXNzKGUpfSxjcmVhdGVBY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGwobi5vYmplY3QuY29tcGxldGUoe3NlcnZpY2U6dGhpc30sZSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pbnByb2dyZXNzVHJhbnNwb3J0cz1udWxsLHRoaXMuc3RvcHBlZFRyYW5zcG9ydHM9bnVsbCx0aGlzLnNlc3Npb25LZXk9bnVsbCx0aGlzLnNlc3Npb25EYXRhPW51bGwsYy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pO3QuZXhwb3J0cz17U2VydmljZTpkfX0sImwuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gTyhlLHQpe3ZhciByPXt9O2lmKGsudGVzdCh0Lm1ldGhvZCkpe2lmKCFjfHx0LnBvc3RCb2R5IGluc3RhbmNlb2YgYz09MClyWyJDb250ZW50LVR5cGUiXT10LmNvbnRlbnRUeXBlKyh0LmVuY29kaW5nPyI7Y2hhcnNldD0iK3QuZW5jb2Rpbmc6IiIpfWVsc2UgZi50ZXN0KCJpZSIpJiYoclsiSWYtTW9kaWZpZWQtU2luY2UiXT0iVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQiKTtuLm9iamVjdC5pdGVyYXRlKGgocix0LmhlYWRlcnMpLGZ1bmN0aW9uKGUsdCl7dCE9bnVsbCYmdHlwZW9mIHQhPSJmdW5jdGlvbiImJnRoaXMuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSxlKX1mdW5jdGlvbiBNKGUsdCl7aWYodC5yZXNwb25zZVR5cGUmJnQuYXN5bmNocm9ub3VzJiYicmVzcG9uc2VUeXBlImluIGUpdHJ5e2UucmVzcG9uc2VUeXBlPXQucmVzcG9uc2VUeXBlfWNhdGNoKG4pe319ZnVuY3Rpb24gXyhlLHQpe3RyeXtyZXR1cm4gbi5qc29uLnBhcnNlKGUpfWNhdGNoKHIpe319ZnVuY3Rpb24gRChlKXt2YXIgdD10aGlzLnhocixyLGksczt0aGlzLnNlbmREZWxheVRpbWVyXz1jbGVhclRpbWVvdXQodGhpcy5zZW5kRGVsYXlUaW1lcl8pO2lmKCF0KXJldHVybjt0eXBlb2YgZSE9Im51bWJlciImJihlPXQucmVhZHlTdGF0ZSk7aWYoZT09dGhpcy5wcmV2UmVhZHlTdGF0ZV8pcmV0dXJuO3RoaXMucHJldlJlYWR5U3RhdGVfPWUsdGhpcy5lbWl0X3JlYWR5U3RhdGVDaGFuZ2VkKGUpLGU9PXg/KHRoaXMuY2xlYXJUaW1lb3V0KCksdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bi5mbi4kdW5kZWYscz10LnN0YXR1cz09MCwhcyYmIXQucmVzcG9uc2VUeXBlJiYocz10eXBlb2YgdC5yZXNwb25zZVRleHQ9PSJ1bmtub3duInx8IXQucmVzcG9uc2VUZXh0JiYhdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkscz8odGhpcy5lbWl0X2Fib3J0KCkscj10aGlzLnN0YXRlT25BYm9ydCk6KHRoaXMucHJvY2Vzc1Jlc3BvbnNlKCksdGhpcy5pc1N1Y2Nlc3NmdWwoKT8ocj1ULlJFQURZLHRoaXMuZW1pdF9zdWNjZXNzKHRoaXMuZ2V0UmVzcG9uc2VEYXRhKCkpKToocj1ULkVSUk9SLGk9dGhpcy5nZXRSZXNwb25zZUVycm9yKCksIWkmJnRoaXMuZGF0YS5lcnJvciYmKGk9dGhpcy5kYXRhLmVycm9yKSx0aGlzLmVtaXRfZmFpbHVyZShpKSkpLHRoaXMuZW1pdF9jb21wbGV0ZSh0aGlzKSk6cj1ULlBST0NFU1NJTkcsdGhpcy5zZXRTdGF0ZShyLGkpfW4ucmVxdWlyZSgiLi9tLmpzIiksbi5yZXF1aXJlKCIuL2ouanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4udWEsbD1yLmVuY29kZVVSSUNvbXBvbmVudCxjPXIuRm9ybURhdGEsaD1uLm9iamVjdC5leHRlbmQscD1uLm9iamVjdC5zbGljZSxkPW4ub2JqZWN0Lm1lcmdlLHY9bi5uZXQuY3JlYXRlVHJhbnNwb3J0RXZlbnQsbT1uLm5ldC5jcmVhdGVSZXF1ZXN0RXZlbnQsZz1uLm5ldC5BYnN0cmFjdFJlcXVlc3QseT1uLm5ldC5BYnN0cmFjdFRyYW5zcG9ydCxiPTAsdz0xLEU9MixTPTMseD00LFQ9bi5kYXRhLlNUQVRFLE49IkhFQUQgR0VUIFBPU1QgUFVUIFBBVENIIERFTEVURSBUUkFDRSBMSU5LIFVOTElOSyBDT05ORUNUIi5zcGxpdCgiICIpLEM9L1BPU1QvaSxrPS9eKFBPU1R8UFVUfFBBVENIfExJTkt8VU5MSU5LKSQvaSxMPSJuYXRpdmUiLEE9ZnVuY3Rpb24oKXtpZigiWE1MSHR0cFJlcXVlc3QiaW4gcilyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fTt2YXIgZT1yLkFjdGl2ZVhPYmplY3Q7aWYoZSl7dmFyIHQ9WyJNU1hNTDIuWE1MSFRUUC42LjAiLCJNU1hNTDIuWE1MSFRUUC4zLjAiLCJNU1hNTDIuWE1MSFRUUCIsIk1pY3Jvc29mdC5YTUxIVFRQIl07Zm9yKHZhciBuPTA7TD10W25dO24rKyl0cnl7aWYobmV3IGUoTCkpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKEwpfX1jYXRjaChpKXt9fXRocm93IDQzfSgpLFA9Zy5zdWJjbGFzcyh7Y2xhc3NOYW1lOmErIi5SZXF1ZXN0IixyZXF1ZXN0U3RhcnRUaW1lOjAsdGltZW91dDozZTQsdGltZXJfOm51bGwsc2VuZERlbGF5Om51bGwsc2VuZERlbGF5VGltZXJfOm51bGwsbGFzdFJlcXVlc3RVcmxfOm51bGwsZGVidWc6ITEsZW1pdF9yZWFkeVN0YXRlQ2hhbmdlZDptKCJyZWFkeVN0YXRlQ2hhbmdlZCIpLGluaXQ6ZnVuY3Rpb24oKXtnLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy54aHI9QSgpfSxpc0lkbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54aHIucmVhZHlTdGF0ZT09eHx8dGhpcy54aHIucmVhZHlTdGF0ZT09Yn0saXNTdWNjZXNzZnVsOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy54aHIuc3RhdHVzO3JldHVybiBlPj0yMDAmJmU8MzAwfHxlPT0zMDR9LHByb2Nlc3NSZXNwb25zZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlKHtjb250ZW50VHlwZTp0aGlzLnhoci5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIiksc3RhdHVzOnRoaXMueGhyLnN0YXR1c30pfSxnZXRSZXNwb25zZURhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnhocjtpZighZS5yZXNwb25zZVR5cGUpaWYodGhpcy5yZXNwb25zZVR5cGU9PSJqc29uInx8L15hcHBsaWNhdGlvblwvanNvbi9pLnRlc3QodGhpcy5kYXRhLmNvbnRlbnRUeXBlKSlyZXR1cm4gXyhlLnJlc3BvbnNlVGV4dCx0aGlzLmxhc3RSZXF1ZXN0VXJsXyk7cmV0dXJuInJlc3BvbnNlImluIGU/ZS5yZXNwb25zZTplLnJlc3BvbnNlVGV4dH0scHJvY2Vzc0Vycm9yUmVzcG9uc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZXNwb25zZUVycm9yKCl9LGdldFJlc3BvbnNlRXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm57Y29kZToiU0VSVkVSX0VSUk9SIixtc2c6dGhpcy5yZXNwb25zZVR5cGU/dGhpcy54aHIucmVzcG9uc2V8fHRoaXMueGhyLnN0YXR1c1RleHR8fCJFcnJvciI6dGhpcy54aHIucmVzcG9uc2VUZXh0fX0scHJlcGFyZTpuLmZuLiR0cnVlLHByZXBhcmVSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWUudXJsO2U9cChlKTtmb3IodmFyIHIgaW4gZS5wYXJhbXMpe3ZhciBpPWUucGFyYW1zW3JdO2lmKGk9PW51bGx8fGkudG9TdHJpbmcoKT09bnVsbCljb250aW51ZTt0LnB1c2gobChyKSsiPSIrbChpLnRvU3RyaW5nKCkpKX1yZXR1cm4gdD10LmpvaW4oIiYiKSwhZS5wb3N0Qm9keSYmay50ZXN0KGUubWV0aG9kKSYmKGUucG9zdEJvZHk9dHx8IiIsdD0iIiksZS5yb3V0ZXJQYXJhbXMmJihuPW4ucmVwbGFjZSgvOihbYS16XF9cLV1bYS16MC05XF9cLV0rKS9naSxmdW5jdGlvbih0LG4pe3JldHVybiBuIGluIGUucm91dGVyUGFyYW1zP2Uucm91dGVyUGFyYW1zW25dOnR9KSksdCYmKG4rPShuLmluZGV4T2YoIj8iKT09LTE/Ij8iOiImIikrdCksZS5yZXF1ZXN0VXJsPW4sZX0sZG9SZXF1ZXN0OmZ1bmN0aW9uKCl7dGhpcy5zZW5kKHRoaXMucHJlcGFyZVJlcXVlc3REYXRhKHRoaXMucmVxdWVzdERhdGEpKX0sc2VuZDpmdW5jdGlvbihlKXt0aGlzLnVwZGF0ZSh7Y29udGVudFR5cGU6IiIsc3RhdHVzOiIifSksZi50ZXN0KCJnZWNrbzEuOC4xLSIpJiZlLmFzeW5jaHJvbm91cyYmKHRoaXMueGhyPUEoKSksdGhpcy5lbWl0X3N0YXJ0KCk7dmFyIHQ9dGhpcy54aHI7dGhpcy5wcmV2UmVhZHlTdGF0ZV89LTEsdC5vbnJlYWR5c3RhdGVjaGFuZ2U9RC5iaW5kKHRoaXMpLGUuYXN5bmNocm9ub3VzfHxELmNhbGwodGhpcyxiKSx0Lm9wZW4oZS5tZXRob2QsZS5yZXF1ZXN0VXJsLGUuYXN5bmNocm9ub3VzKSx0aGlzLmxhc3RSZXF1ZXN0VXJsXz1lLnJlcXVlc3RVcmwsTSh0LGUpLHRoaXMucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlfHwiIixPKHQsZSksdGhpcy5zZXRUaW1lb3V0KHRoaXMudGltZW91dCk7dmFyIG49ZS5wb3N0Qm9keTtpZihrLnRlc3QoZS5tZXRob2QpJiZmLnRlc3QoImllOS0iKSlpZih0eXBlb2Ygbj09Im9iamVjdCImJnR5cGVvZiBuLmRvY3VtZW50RWxlbWVudCE9InVuZGVmaW5lZCImJnR5cGVvZiBuLnhtbD09InN0cmluZyIpbj1uLnhtbDtlbHNlIGlmKHR5cGVvZiBuPT0ic3RyaW5nIiluPW4ucmVwbGFjZSgvXHIvZywiIik7ZWxzZSBpZihuPT1udWxsfHxuPT0iIiluPSJbTm8gZGF0YV0iO3JldHVybiB0aGlzLnNlbmREZWxheT8odGhpcy5zZW5kRGVsYXlUaW1lcl8mJih0aGlzLnNlbmREZWxheVRpbWVyXz1jbGVhclRpbWVvdXQodGhpcy5zZW5kRGVsYXlUaW1lcl8pKSx0aGlzLnNlbmREZWxheVRpbWVyXz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5zZW5kRGVsYXlUaW1lcl89bnVsbCx0aGlzLnhocj09PXQmJnQucmVhZHlTdGF0ZT09dyYmdC5zZW5kKG4pfS5iaW5kKHRoaXMpLHRoaXMuc2VuZERlbGF5KSk6dC5zZW5kKG4pLCEwfSxyZXBlYXQ6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3REYXRhJiYodGhpcy5hYm9ydCgpLHRoaXMuZG9SZXF1ZXN0KCkpfSxhYm9ydDpmdW5jdGlvbigpe3RoaXMuaXNJZGxlKCl8fCh0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMueGhyLmFib3J0KCksdGhpcy54aHIucmVhZHlTdGF0ZSE9eCYmdGhpcy54aHIucmVhZHlTdGF0ZSE9YiYmRC5jYWxsKHRoaXMseCkpfSxzZXRUaW1lb3V0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnhoci5hc3luY2hyb25vdXMpcmV0dXJuOyJvbnRpbWVvdXQiaW4gdGhpcy54aHI/KHRoaXMueGhyLnRpbWVvdXQ9ZSx0aGlzLnhoci5vbnRpbWVvdXQ9dGhpcy50aW1lb3V0QWJvcnQuYmluZCh0aGlzKSk6dGhpcy50aW1lcl89c2V0VGltZW91dCh0aGlzLnRpbWVvdXRBYm9ydC5iaW5kKHRoaXMpLGUpfSxjbGVhclRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLnRpbWVyXyYmKHRoaXMudGltZXJfPWNsZWFyVGltZW91dCh0aGlzLnRpbWVyXykpfSx0aW1lb3V0QWJvcnQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSh7ZXJyb3I6e2NvZGU6IlRJTUVPVVRfRVJST1IiLG1lc3NhZ2U6IlRpbWVvdXQgZXJyb3IifX0pLHRoaXMuZW1pdF90aW1lb3V0KHRoaXMpLHRoaXMuYWJvcnQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYWJvcnQoKSx0aGlzLnhocj1udWxsLGcucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxIPXkuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuVHJhbnNwb3J0IixyZXF1ZXN0Q2xhc3M6UCxlbWl0X3JlYWR5U3RhdGVDaGFuZ2VkOnYoInJlYWR5U3RhdGVDaGFuZ2VkIiksYXN5bmNocm9ub3VzOiEwLG1ldGhvZDoiR0VUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixlbmNvZGluZzpudWxsLHJlcXVlc3RIZWFkZXJzOm4uQ2xhc3MuZXh0ZW5zaWJsZVByb3BlcnR5KCkscmVzcG9uc2VUeXBlOiIiLHBhcmFtczpudWxsLHJvdXRlclBhcmFtczpudWxsLHVybDoiIixwb3N0Qm9keTpudWxsLGluaXQ6ZnVuY3Rpb24oKXt5LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wYXJhbXM9cCh0aGlzLnBhcmFtcyksdGhpcy5yb3V0ZXJQYXJhbXM9cCh0aGlzLnJvdXRlclBhcmFtcyl9LHNldFBhcmFtOmZ1bmN0aW9uKGUsdCl7dGhpcy5wYXJhbXNbZV09dH0sc2V0UGFyYW1zOmZ1bmN0aW9uKGUpe3RoaXMuY2xlYXJQYXJhbXMoKTtmb3IodmFyIHQgaW4gZSl0aGlzLnNldFBhcmFtKHQsZVt0XSl9LHJlbW92ZVBhcmFtOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnBhcmFtc1tlXX0sY2xlYXJQYXJhbXM6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5wYXJhbXMpZGVsZXRlIHRoaXMucGFyYW1zW2VdfSxwcmVwYXJlUmVxdWVzdERhdGE6ZnVuY3Rpb24oZSl7aWYoIWUudXJsJiYhdGhpcy51cmwpdGhyb3cgNDQ7cmV0dXJuIGgoZSx7aGVhZGVyczpkKHRoaXMucmVxdWVzdEhlYWRlcnMsZS5oZWFkZXJzKSxwYXJhbXM6ZCh0aGlzLnBhcmFtcyxlLnBhcmFtcykscm91dGVyUGFyYW1zOmQodGhpcy5yb3V0ZXJQYXJhbXMsZS5yb3V0ZXJQYXJhbXMpfSksbi5vYmplY3QuY29tcGxldGUoZSx7YXN5bmNocm9ub3VzOnRoaXMuYXN5bmNocm9ub3VzLHVybDp0aGlzLnVybCxtZXRob2Q6dGhpcy5tZXRob2QsY29udGVudFR5cGU6dGhpcy5jb250ZW50VHlwZSxlbmNvZGluZzp0aGlzLmVuY29kaW5nLHBvc3RCb2R5OnRoaXMucG9zdEJvZHkscmVzcG9uc2VUeXBlOnRoaXMucmVzcG9uc2VUeXBlfSksZX19KTt0LmV4cG9ydHM9e1JlcXVlc3Q6UCxUcmFuc3BvcnQ6SCxyZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt0eXBlb2YgZT09InN0cmluZyImJihlPXt1cmw6ZSxhc3luY2hyb25vdXM6ISF0fHwhIXJ9KTt2YXIgaT1uZXcgSChlKTtpLmFkZEhhbmRsZXIoe3N1Y2Nlc3M6dCYmZnVuY3Rpb24oZSxuLHIpe3Qocil9LGZhaWx1cmU6ciYmZnVuY3Rpb24oZSx0LG4pe3Iobil9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7bi5uZXh0VGljayhmdW5jdGlvbigpe2kuZGVzdHJveSgpfSl9fSk7dmFyIHM9aS5yZXF1ZXN0KCk7aWYoIXMucmVxdWVzdERhdGEuYXN5bmNocm9ub3VzKXJldHVybiBzLmdldFJlc3BvbnNlRGF0YSgpfX19LCJtLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIFMoZSl7dmFyIHQ9MWU2LG49U3RyaW5nKGUpLnNwbGl0KCIuIik7Zm9yKHZhciByPTAsaT0wO3I8NCYmcjxuLmxlbmd0aDtyKyssdC89MTAwKWkrPW5bcl0qdDtyZXR1cm4gaX1mdW5jdGlvbiB4KGUpe3ZhciB0PWUudG9Mb3dlckNhc2UoKTtpZih0IGluIHApcmV0dXJuIHBbdF07dmFyIG49dC5tYXRjaCgvXihbYS16XSspKChbXGRcLl0rKShbKy09XT8pKT8kL2kpO2lmKG4pe3BbdF09ITE7dmFyIHI9blsxXS50b0xvd2VyQ2FzZSgpLGk9UyhuWzNdKSxzPW5bNF18fCI9IixvPWhbcl07aWYobylyZXR1cm4gcFt0XT0haXx8cz09Ij0iJiZvPT1pfHxzPT0iKyImJm8+PWl8fHM9PSItIiYmbzxpfXJldHVybiExfXZhciBhPXRoaXMucGF0aCxmPXIuZG9jdW1lbnQsbD1yLm5hdmlnYXRvciYmci5uYXZpZ2F0b3IudXNlckFnZW50fHwiIixjPXIub3BlcmEsaD17fSxwPXt9LGQ9InVua25vd24iLHY9InVua25vd24iLG09e01TSUU6WyJJbnRlcm5ldCBFeHBsb3JlciIsIm1zaWUiLCJpZSJdLEdlY2tvOlsiR2Vja28iLCJnZWNrbyJdLFNhZmFyaTpbIlNhZmFyaSIsInNhZmFyaSJdLCJpUGhvbmUgT1MiOlsiaVBob25lIiwiaXBob25lIl0sQWRvYmVBaXI6WyJBZG9iZUFpciIsImFpciJdLEFwcGxlV2ViS2l0OlsiV2ViS2l0Il0sQ2hyb21lOlsiQ2hyb21lIiwiY2hyb21lIl0sRmlyZUZveDpbIkZpcmVGb3giLCJmaXJlZm94IiwiZmYiXSxJY2V3ZWFzZWw6WyJGaXJlRm94IiwiZmlyZWZveCIsImZmIl0sU2hpcmV0b2tvOlsiRmlyZUZveCIsImZpcmVmb3giLCJmZiJdLE9wZXJhOlsiT3BlcmEiLCJvcGVyYSJdfTtmb3IodmFyIGcgaW4gbSl7aWYoZz09Ik1TSUUiJiZjKWNvbnRpbnVlO2lmKGc9PSJTYWZhcmkiJiYvY2hyb21lL2kudGVzdChsKSljb250aW51ZTtpZihnPT0iQXBwbGVXZWJLaXQiJiYvaXBob25lL2kudGVzdChsKSljb250aW51ZTtpZihsLm1hdGNoKG5ldyBSZWdFeHAoZysiLiIrIihcXGQrKFxcLlxcZCspKikiLCJpIikpKXt2YXIgeT1tW2ddLGI9YyYmdHlwZW9mIGMudmVyc2lvbj09ImZ1bmN0aW9uIj9jLnZlcnNpb24oKTpSZWdFeHAuJDEsdz1TKGIpO2Q9eVswXSt3LHY9eVswXSsiICIrYjtmb3IodmFyIEU9MDtFPHkubGVuZ3RoO0UrKyloW3lbRV0udG9Mb3dlckNhc2UoKV09d319dmFyIFQ9e3NldDpmdW5jdGlvbihlLHQsbixyLGkpe2YuY29va2llPWUrIj0iKyh0PT1udWxsPyIiOmVzY2FwZSh0KSkrIjtwYXRoPSIrKHJ8fChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCIvIik9PTA/IiI6Ii8iKStsb2NhdGlvbi5wYXRobmFtZSkrKG4/IjtleHBpcmVzPSIrKG5ldyBEYXRlKERhdGUubm93KCkrbioxZTMpKS50b0dNVFN0cmluZygpOiIiKSsoaT8iO2RvbWFpbj0iK2k6IiIpfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Zi5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgiKF58OylcXHMqIitlKyJcXHMqPVxccyooLio/KVxccyooO3wkKSIpKTtyZXR1cm4gdCYmdW5lc2NhcGUodFsyXSl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbil7Zi5jb29raWU9ZSsiPTtleHBpcmVzPSIrKG5ldyBEYXRlKDApKS50b0dNVFN0cmluZygpKyI7cGF0aD0iKyh0fHwobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigiLyIpPT0wPyIiOiIvIikrbG9jYXRpb24ucGF0aG5hbWUpKyhuPyI7ZG9tYWluPSIrbjoiIil9fTt0LmV4cG9ydHM9e3ByZXR0eU5hbWU6dixpczp4LHRlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hcnJheShhcmd1bWVudHMpLnNvbWUoeCl9LGNvb2tpZXM6VH19LCJuLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGUudHJhbnNwb3J0P2UudHJhbnNwb3J0OmUuc2VydmljZT9lLnNlcnZpY2UuY3JlYXRlVHJhbnNwb3J0KGUpOmUuY3JlYXRlVHJhbnNwb3J0P2UuY3JlYXRlVHJhbnNwb3J0KGUpOm5ldyBuLm5ldC5hamF4LlRyYW5zcG9ydChlKX1mdW5jdGlvbiBtKGUpe2U9bi5vYmplY3QuZXh0ZW5kKHtwcmVwYXJlOmgscmVxdWVzdDpofSxlKTt2YXIgdD1uLm9iamVjdC5zcGxpY2UoZSxbInByZXBhcmUiLCJyZXF1ZXN0Il0pLHI9bi5vYmplY3QubWVyZ2UoZCxuLm9iamVjdC5zcGxpY2UoZSxbInN0YXJ0Iiwic3VjY2VzcyIsImZhaWx1cmUiLCJhYm9ydCIsImNvbXBsZXRlIl0pKSxpPW4uZm4ubGF6eUluaXQoZnVuY3Rpb24oKXt2YXIgdD12KGUpO3JldHVybiB0LmFkZEhhbmRsZXIocCxyKSx0fSk7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZSE9bCYmKHQucHJlcGFyZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5yZXF1ZXN0PWkoKS5yZXF1ZXN0KG4ub2JqZWN0LmNvbXBsZXRlKHtvcmlnaW46dGhpc30sdC5yZXF1ZXN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpKX19bi5yZXF1aXJlKCIuLzQuanMiKSxuLnJlcXVpcmUoIi4vbC5qcyIpO3ZhciBhPW4uZGF0YS5TVEFURS5VTkRFRklORUQsZj1uLmRhdGEuU1RBVEUuUkVBRFksbD1uLmRhdGEuU1RBVEUuUFJPQ0VTU0lORyxjPW4uZGF0YS5TVEFURS5FUlJPUixoPWZ1bmN0aW9uKCl7fSxwPXtzdGFydDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucmVxdWVzdERhdGEub3JpZ2luO3RoaXMuc3RhcnQuY2FsbCh0LnJlcXVlc3REYXRhLm9yaWdpbiksbi5zdGF0ZSE9bCYmbi5zZXRTdGF0ZShsKX0sc3VjY2VzczpmdW5jdGlvbihlLHQsbil7dmFyIHI9dC5yZXF1ZXN0RGF0YS5vcmlnaW47dGhpcy5zdWNjZXNzLmNhbGwocixuKSxyLnN0YXRlPT1sJiZyLnNldFN0YXRlKGYpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LnJlcXVlc3REYXRhLm9yaWdpbjt0aGlzLmZhaWx1cmUuY2FsbChyLG4pLHIuc3RhdGU9PWwmJnIuc2V0U3RhdGUoYyxuKX0sYWJvcnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnJlcXVlc3REYXRhLm9yaWdpbjt0aGlzLmFib3J0LmNhbGwobiksbi5zdGF0ZT09bCYmbi5zZXRTdGF0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbXBsZXRlLmNhbGwodC5yZXF1ZXN0RGF0YS5vcmlnaW4pfX0sZD17c3RhcnQ6aCxzdWNjZXNzOmgsZmFpbHVyZTpoLGFib3J0OmgsY29tcGxldGU6aH07dC5leHBvcnRzPXtjcmVhdGU6bX19LCJvLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIEUoZSl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gdC5zdWJzdHIoZSkubWF0Y2goL15cdysvKX1mdW5jdGlvbiBpKGUscyl7dmFyIG89IiIsdTtmb3IodmFyIGE9ZTthPHQubGVuZ3RoO2ErKyl7dmFyIGY9dC5jaGFyQXQoYSk7c3dpdGNoKGYpe2Nhc2UgczpyZXR1cm57cmVzdWx0Om8sb2Zmc2V0OmF9O2Nhc2UiXFwiOm8rPSJcXCIrdC5jaGFyQXQoKythKTticmVhaztjYXNlInwiOm8rPXMhPSIpIj8iXFx8IjoifCI7YnJlYWs7Y2FzZSIoIjoodT1pKGErMSwiKSIpKT8oYT11Lm9mZnNldCxvKz0iKD86Iit1LnJlc3VsdCsiKT8iKTpvKz0iXFwoIjticmVhaztjYXNlIjoiOih1PXIoYSsxKSk/KGErPXVbMF0ubGVuZ3RoLG8rPSIoW14vXSspIik6bys9IjoiO2JyZWFrO2Nhc2UiKiI6KHU9cihhKzEpKT8oYSs9dVswXS5sZW5ndGgsbys9IiguKj8pIik6bys9IlxcKiI7YnJlYWs7ZGVmYXVsdDpvKz1uLnN0cmluZy5mb3JSZWdFeHAoZil9fXJldHVybiBzP251bGw6b312YXIgdD1TdHJpbmcoZXx8IiIpO3JldHVybiBuZXcgUmVnRXhwKCJeIitpKDApKyIkIiwiaSIpfWZ1bmN0aW9uIFMoKXtwP24uZG9tLmV2ZW50LmFkZEhhbmRsZXIociwiaGFzaGNoYW5nZSIsQyk6dz1zZXRJbnRlcnZhbChDLGQpfWZ1bmN0aW9uIHgoKXtwP24uZG9tLmV2ZW50LnJlbW92ZUhhbmRsZXIociwiaGFzaGNoYW5nZSIsQyk6Y2xlYXJJbnRlcnZhbCh3KX1mdW5jdGlvbiBUKCl7eXx8KFMoKSx5PSEwLEMoKSl9ZnVuY3Rpb24gTigpe3kmJih4KCkseT0hMSl9ZnVuY3Rpb24gQygpe3ZhciBlPWwuaGFzaC5zdWJzdHIoMSl8fCIiO2lmKGUhPWIpe3ZhciB0PVtdLG49W107Yj1lO2Zvcih2YXIgciBpbiBtKXt2YXIgaT1tW3JdLHM9ZS5tYXRjaChpLnJlZ2V4cCk7cz8oZ1tyXXx8dC5wdXNoKGkpLGdbcl09cyk6Z1tyXSYmKG4ucHVzaChpKSxkZWxldGUgZ1tyXSl9Zm9yKHZhciBvPTAsaTtpPW5bb107bysrKXt2YXIgdT12KGkuY2FsbGJhY2tzKTtmb3IodmFyIGE9MCxmO2Y9dVthXTthKyspZi5jYWxsYmFjay5sZWF2ZSYmZi5jYWxsYmFjay5sZWF2ZS5jYWxsKGYuY29udGV4dCl9Zm9yKHZhciBvPTAsaTtpPXRbb107bysrKXt2YXIgdT12KGkuY2FsbGJhY2tzKTtmb3IodmFyIGE9MCxmO2Y9dVthXTthKyspZi5jYWxsYmFjay5lbnRlciYmZi5jYWxsYmFjay5lbnRlci5jYWxsKGYuY29udGV4dCl9Zm9yKHZhciByIGluIGcpe3ZhciBpPW1bcl0sYz12KGdbcl0sMSksdT12KGkuY2FsbGJhY2tzKTtmb3IodmFyIG89MCxmO2Y9dVtvXTtvKyspZi5jYWxsYmFjay5tYXRjaCYmZi5jYWxsYmFjay5tYXRjaC5hcHBseShmLmNvbnRleHQsYyl9fX1mdW5jdGlvbiBrKGUsdCxuKXt2YXIgcj1tW2VdLGk7aWYoIXIpe3I9bVtlXT17c291cmNlOmUsY2FsbGJhY2tzOltdLHJlZ2V4cDpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkhPSJbb2JqZWN0IFJlZ0V4cF0iP0UoZSk6ZX07aWYodHlwZW9mIGI9PSJzdHJpbmciKXt2YXIgcz1iLm1hdGNoKHIucmVnZXhwKTtzJiYoZ1tlXT1zKX19aT17Y2JfOnQsY29udGV4dDpuLGNhbGxiYWNrOnR5cGVvZiB0IT0iZnVuY3Rpb24iP3R8fHt9OnttYXRjaDp0fX0sci5jYWxsYmFja3MucHVzaChpKSxlIGluIGcmJihpLmNhbGxiYWNrLmVudGVyJiZpLmNhbGxiYWNrLmVudGVyLmNhbGwobiksaS5jYWxsYmFjay5tYXRjaCYmaS5jYWxsYmFjay5tYXRjaC5hcHBseShuLHYoZ1tlXSwxKSkpfWZ1bmN0aW9uIEwoZSx0LG4pe3ZhciByPW1bZV07aWYocil7dmFyIGk9LTE7Zm9yKHZhciBzPTAsbztvPXIuY2FsbGJhY2tzW3NdO3MrKylpZihvLmNiXz09PXQmJm8uY29udGV4dD09PW4pe3IuY2FsbGJhY2tzLnNwbGljZShzLDEpLHIuY2FsbGJhY2tzLmxlbmd0aHx8KGRlbGV0ZSBtW2VdLGRlbGV0ZSBnW2VdKTticmVha319fWZ1bmN0aW9uIEEoZSx0KXt0P2wucmVwbGFjZShsLnBhdGhuYW1lKyIjIitlKTpsLmhhc2g9ZSx5JiZDKCl9bi5yZXF1aXJlKCIuLzguanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLm5hbWVzcGFjZShTdHJpbmcoYSkpLGw9ci5sb2NhdGlvbixjPXIuZG9jdW1lbnQsaD1jLmRvY3VtZW50TW9kZSxwPSJvbmhhc2hjaGFuZ2UiaW4gciYmKGg9PT11bmRlZmluZWR8fGg+NyksZD01MCx2PW4uYXJyYXkuZnJvbSxtPXt9LGc9e30seT0hMSxiLHc7dC5leHBvcnRzPXtkZWJ1ZzohMSxhZGQ6ayxyZW1vdmU6TCxzdG9wOk4sc3RhcnQ6VCxjaGVja1VybDpDLG5hdmlnYXRlOkF9fSwicC5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBwKGUpe2EudGl0bGU9ZX1mdW5jdGlvbiBkKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/YS5nZXRFbGVtZW50QnlJZChlKTplfWZ1bmN0aW9uIHYoZSx0KXtlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsZSl9dmFyIGE9ci5kb2N1bWVudHx8e3RpdGxlOiJ1bmtub3duIn0sZj1hLnRpdGxlLGw9bi5mbi4kdW5kZWYsYyxoLG09bi5mbi5sYXp5SW5pdChmdW5jdGlvbihlKXt2YXIgdD1bXSxyPSExLGk9e2luaXRlZDohMSxzZXRUaXRsZTpmdW5jdGlvbihlKXtlIT1mJiYoZiBpbnN0YW5jZW9mIG4uVG9rZW4mJmYuZGV0YWNoKHApLGUgaW5zdGFuY2VvZiBuLlRva2VuPyhlLmF0dGFjaChwKSxwKGUuZ2V0KCkpKTpwKGUpLGY9ZSl9LHNldEVsZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZChlKTtpZihoPT10KXJldHVybjtpZihoKXt2KGgsdCk7cmV0dXJufWg9dCxjfHwoYz17dHlwZToiYXBwZW5kIixub2RlOmEuYm9keX0pO3ZhciBuPWQoYy5ub2RlKTtpZighbilyZXR1cm47Yy50eXBlPT0iYXBwZW5kIj9uLmFwcGVuZENoaWxkKGgpOnYobixoKX0scmVhZHk6ZnVuY3Rpb24oZSxuKXtyP2UuY2FsbChuLGkpOnQucHVzaCh7Zm46ZSxjb250ZXh0Om59KX19O2Zvcih2YXIgcyBpbiBlKXt2YXIgbz1lW3NdO3N3aXRjaChzKXtjYXNlInRpdGxlIjppLnNldFRpdGxlKG8pO2JyZWFrO2Nhc2UiY29udGFpbmVyIjpjPXt0eXBlOiJhcHBlbmQiLG5vZGU6b307YnJlYWs7Y2FzZSJyZXBsYWNlIjpjPXt0eXBlOiJyZXBsYWNlIixub2RlOm99O2JyZWFrO2Nhc2UiZWxlbWVudCI6aD1vO2JyZWFrO2Nhc2UiaW5pdCI6bD10eXBlb2Ygbz09ImZ1bmN0aW9uIj9vOmw7YnJlYWs7ZGVmYXVsdDp9fXJldHVybiBuLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGU9aCxuPWwuY2FsbChpKTtuJiYobi5lbGVtZW50P2U9bi5lbGVtZW50OmU9biksaD1udWxsLGkuc2V0RWxlbWVudChlKSxyPSEwLGkuaW5pdGVkPSEwO3ZhciBzO3doaWxlKHM9dC5zaGlmdCgpKXMuZm4uY2FsbChzLmNvbnRleHQsaSl9KSxpfSk7dC5leHBvcnRzPXtjcmVhdGU6bX19fTsoZnVuY3Rpb24gcihpLHMsbyl7ZnVuY3Rpb24gbChlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDM2KX12YXIgbj10KDEwKzI1Kk1hdGgucmFuZG9tKCkpO2V8fChlPTE2KTt3aGlsZShuLmxlbmd0aDxlKW4rPXQobmV3IERhdGUqTWF0aC5yYW5kb20oKSk7cmV0dXJuIG4uc3Vic3RyKDAsZSl9ZnVuY3Rpb24gYyhlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciBuIGluIHQpbiBpbiBlPT0wJiYoZVtuXT10W25dKTtyZXR1cm4gZX1mdW5jdGlvbiBwKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gdH1mdW5jdGlvbiBkKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChlW25dKTtyZXR1cm4gdH1mdW5jdGlvbiB2KGUsdCl7dmFyIG49e307aWYoIXQpcmV0dXJuIGMobixlKTtmb3IodmFyIHI9MCxpO2k9dFtyKytdOylpIGluIGUmJihuW2ldPWVbaV0pO3JldHVybiBufWZ1bmN0aW9uIG0oZSx0KXt2YXIgbj17fTtpZighdClyZXR1cm4gYyhuLGUpO2Zvcih2YXIgcj0wLGk7aT10W3IrK107KWkgaW4gZSYmKG5baV09ZVtpXSxkZWxldGUgZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gZygpe3ZhciBlPXt9O2Zvcih2YXIgdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspYyhlLGFyZ3VtZW50c1t0XSk7cmV0dXJuIGV9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9W107Zm9yKHZhciBpIGluIGUpci5wdXNoKHQuY2FsbChuLGksZVtpXSkpO3JldHVybiByfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGU9PXVuZGVmaW5lZH1mdW5jdGlvbiB3KGUpe3JldHVybiBlIT11bmRlZmluZWR9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZT09bnVsbHx8ZT09dW5kZWZpbmVkfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIGUhPW51bGwmJmUhPXVuZGVmaW5lZH1mdW5jdGlvbiB4KGUpe3JldHVybiBlPT09dGhpc31mdW5jdGlvbiBUKGUpe3JldHVybiBlIT09dGhpc31mdW5jdGlvbiBOKGUpe3JldHVybiBlfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fWZ1bmN0aW9uIGsoKXtyZXR1cm4hMX1mdW5jdGlvbiBMKCl7cmV0dXJuITB9ZnVuY3Rpb24gQSgpe3JldHVybiBudWxsfWZ1bmN0aW9uIE8oKXt9ZnVuY3Rpb24gRChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49e307cmV0dXJuIG5bZV09dCxufX1mdW5jdGlvbiBQKGUsdCl7dmFyIG49MCxyLGk7cmV0dXJuIHI9ZnVuY3Rpb24oKXtyZXR1cm4gbisrfHwoci5pbml0ZWQ9ITAsci5kYXRhPWk9ZS5hcHBseSh0fHx0aGlzLGFyZ3VtZW50cykpLGl9fWZ1bmN0aW9uIEgoZSx0LG4pe3ZhciByPTAsaSxzO3JldHVybiBpPWZ1bmN0aW9uKCl7cmV0dXJuIHIrK3x8KGkuaW5pdGVkPSEwLGkuZGF0YT1zPWUuY2FsbChufHx0aGlzKSksdC5hcHBseShzLGFyZ3VtZW50cyksc319ZnVuY3Rpb24gQihlLHQpe3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIShuKyspKXJldHVybiBlLmFwcGx5KHR8fHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gVygpe3ZhciBlPW87aWYoIWUpaWYocSlVPV9fZmlsZW5hbWUucmVwbGFjZSgvXFwvZywiLyIpO2Vsc2V7dmFyIHQ9YS5zY3JpcHRzO2Zvcih2YXIgbj0wLHI7cj10W25dO24rKyl7dmFyIGk9ci5oYXNBdHRyaWJ1dGUoImJhc2lzLWNvbmZpZyIpP3IuZ2V0QXR0cmlidXRlKCJiYXNpcy1jb25maWciKTpyLmdldEF0dHJpYnV0ZSgiZGF0YS1iYXNpcy1jb25maWciKTtyLnJlbW92ZUF0dHJpYnV0ZSgiYmFzaXMtY29uZmlnIiksci5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtYmFzaXMtY29uZmlnIik7aWYoaSE9PW51bGwpe1U9Ui5ub3JtYWxpemUoci5zcmMpO3RyeXtlPUZ1bmN0aW9uKCJyZXR1cm57IitpKyJ9IikoKX1jYXRjaChzKXt9YnJlYWt9fX1yZXR1cm4gWChlKX1mdW5jdGlvbiBYKGUsdCl7ZT12KGUpO3ZhciBuPVtdLHI9ZyhlLnBhdGgsZS5tb2R1bGVzLHtiYXNpczpVfSk7ZS5tb2R1bGVzPXt9O2lmKGUuYXV0b2xvYWQpe3ZhciBpPVN0cmluZyhlLmF1dG9sb2FkKS5tYXRjaCgvXigoPzpbXlwvXSpcLykqKShbYS16JF9dW2EtejAtOSRfXSopKCg/OlwuW2EteiRfXVthLXowLTkkX10qKSopJC9pKTtpJiYocltpWzJdXT17YXV0b2xvYWQ6ITAsZmlsZW5hbWU6aVsxXStpWzJdKyhpWzNdfHwiLmpzIil9KSxkZWxldGUgZS5hdXRvbG9hZH1mb3IodmFyIHMgaW4gcil7dmFyIG89cltzXTt0eXBlb2Ygbz09InN0cmluZyImJihvPXtmaWxlbmFtZTpvLnJlcGxhY2UoL1wvJC8sIi8iK3MrIi5qcyIpfSk7dmFyIHU9by5maWxlbmFtZSxhPW8ucGF0aDt1JiYhYSYmKHU9Ui5yZXNvbHZlKHUpLGE9dS5zdWJzdHIoMCx1Lmxlbmd0aC1SLmV4dG5hbWUodSkubGVuZ3RoKSx1PSIuLi8iK1IuYmFzZW5hbWUodSkpLGE9Ui5yZXNvbHZlKGEpLCF1JiZhJiYodT1SLmJhc2VuYW1lKGEpLGE9Ui5kaXJuYW1lKGEpKSxSLmV4dG5hbWUodSl8fCh1Kz0iLmpzIiksdT1SLnJlc29sdmUoYSx1KSxlLm1vZHVsZXNbc109e3BhdGg6YSxmaWxlbmFtZTp1fSxvLmF1dG9sb2FkJiYoZS5hdXRvbG9hZD1uLG4ucHVzaChzKSl9cmV0dXJuIGV9ZnVuY3Rpb24gZXQoZSl7dmFyIHQ9WVtlLnVybF07aWYodClmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0W25dKGUuZ2V0KCksZS51cmwpfWZ1bmN0aW9uIGl0KGUsdCxuKXt0cnl7cmV0dXJuIG5ldyBGdW5jdGlvbih0LG4pfWNhdGNoKHIpe2ouZXJyb3IoIkNvbXBpbGF0aW9uIGVycm9yIGF0ICIrZSsoImxpbmUiaW4gcj8iOiIrKHIubGluZS0xKToiIikrIjogIityKX19ZnVuY3Rpb24gY3QoZSl7aWYoZSBpbiB1dD09MCl7dmFyIHQ9ZS5zcGxpdCgiLiIpLG49dC5zaGlmdCgpLHI9dC5qb2luKCIvIikrIi5qcyI7biBpbiBmdD09MCYmKGZ0W25dPVIuYmFzZVVSSStuKyIvIiksbj09ZT9yPWZ0W25dLnJlcGxhY2UoL1wvJC8sIiIpKyIuanMiOnI9ZnRbbl0rcix1dFtlXT1yLGF0W3JdPWV9cmV0dXJuIHV0W2VdfWZ1bmN0aW9uIGh0KGUpe3ZhciBuPW90W2VdO3JldHVybiBufHwobj1vdFtlXT1uZXcgbHQoZSksbi5uYW1lc3BhY2VzXz17fSxuLm5hbWVzcGFjZXNfW2VdPW4sei5ub0NvbmZsaWN0fHwoaVtlXT1uKSksZT09ImxpYnJhcnkiJiYhdCYmKHQ9b3RbZV0pLG59ZnVuY3Rpb24gcHQoZSl7ZT1lLnNwbGl0KCIuIik7dmFyIHQ9aHQoZVswXSksbj10O2Zvcih2YXIgcj0xLGk7aT1lW3JdO3IrKyl7aWYoIW5baV0pe3ZhciBzPWUuc2xpY2UoMCxyKzEpLmpvaW4oIi4iKTtuW2ldPW5ldyBsdChzKSx0Lm5hbWVzcGFjZXNfW3NdPW5baV19bj1uW2ldfXJldHVybiBvdFtlLmpvaW4oIi4iKV09bixufWZ1bmN0aW9uIHZ0KGUsdCl7IS9bXmEtejAtOV9cLl0vaS50ZXN0KGUpJiZSLmV4dG5hbWUoZSkhPSIuanMiP2U9Y3QoZSk6ZT1SLnJlc29sdmUoZSksWVtlXT9ZW2VdLnB1c2godCk6WVtlXT1bdF07dmFyIG49cnQuZ2V0KGUpO24mJm4uaXNSZXNvbHZlZCgpJiZ0KG4uZ2V0KCksbi51cmwpfWZ1bmN0aW9uIG10KGUsdCl7aWYoZSE9bnVsbCl7dmFyIG49ZS5sZW5ndGg7aWYodHlwZW9mIG49PSJ1bmRlZmluZWQifHxmLmNhbGwoZSk9PSJbb2JqZWN0IEZ1bmN0aW9uXSIpcmV0dXJuW2VdO3R8fCh0PTApO2lmKG4tdD4wKXtmb3IodmFyIHI9W10saT0wLHM9dDtzPG47KXJbaSsrXT1lW3MrK107cmV0dXJuIHJ9fXJldHVybltdfWZ1bmN0aW9uIGd0KGUsdCxuKXt2YXIgcj1bXSxpPXR5cGVvZiB0PT0iZnVuY3Rpb24iO2Zvcih2YXIgcz0wO3M8ZTtzKyspcltzXT1pP3QuY2FsbChuLHMscik6dDtyZXR1cm4gcn12YXIgdT0iMS4zLjMiLGE9aS5kb2N1bWVudCxmPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsTT1mdW5jdGlvbigpe2Z1bmN0aW9uIG8oZSl7aWYobi50ZXN0KGUpKXt2YXIgdD1lLnNwbGl0KCIuIikscj10WzBdLGk9dFsxXSxzPXRbMl0sbztzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMTpvPWZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsP2Vbcl06ZX07YnJlYWs7Y2FzZSAyOm89ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPW51bGw/ZVtyXVtpXTplfTticmVhaztjYXNlIDM6bz1mdW5jdGlvbihlKXtyZXR1cm4gZSE9bnVsbD9lW3JdW2ldW3NdOmV9O2JyZWFrO2RlZmF1bHQ6bz1mdW5jdGlvbihlKXtpZihlIT1udWxsKXtlPWVbcl1baV1bc107Zm9yKHZhciBuPTMsbztvPXRbbl07bisrKWU9ZVtvXX1yZXR1cm4gZX19cmV0dXJuIG99cmV0dXJuIG5ldyBGdW5jdGlvbigib2JqZWN0IiwicmV0dXJuIG9iamVjdCAhPSBudWxsID8gb2JqZWN0LiIrZSsiIDogb2JqZWN0Iil9dmFyIGU9ImJhc2lzR2V0dGVySWQiK2woKSsiXyIsdD0xLG49L15bYS16JF9dW2EteiRfMC05XSooXC5bYS16JF9dW2EteiRfMC05XSopKiQvaSxyPVtdLGk9e30scz17fSx1PWZ1bmN0aW9uKG4sdSl7dmFyIGEsZixsO2lmKCFufHxuPT09XylyZXR1cm4gXzt0eXBlb2Ygbj09ImZ1bmN0aW9uIj8obD1uW2VdLGw/YT1yW01hdGguYWJzKGwpLTFdOihhPWZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSxhLmJhc2U9bixhLl9fZXh0ZW5kX189TSxsPXIucHVzaChhKSxuW2VdPS1sLGFbZV09bCkpOihhPWlbbl0sYT9sPWFbZV06KGE9byhuKSxhLmJhc2U9bixhLl9fZXh0ZW5kX189TSxsPXIucHVzaChhKSxhW2VdPWwsaVtuXT1hKSk7dmFyIGM9dSE9bnVsbCYmdHlwZW9mIHU7aWYoIWMpcmV0dXJuIGE7dmFyIGg9c1tsXSxwO2lmKGM9PSJzdHJpbmciKXA9Yyt1O2Vsc2UgaWYoYz09ImZ1bmN0aW9uIilwPXUuYmFzaXNNb2RJZF87ZWxzZSBpZihjIT0ib2JqZWN0IilyZXR1cm4gYTtpZihwJiZoJiZoW3BdKXJldHVybiBoW3BdO3R5cGVvZiBhLmJhc2U9PSJmdW5jdGlvbiImJihhPWEuYmFzZSk7c3dpdGNoKGMpe2Nhc2Uic3RyaW5nIjpmPWZ1bmN0aW9uKGUpe3JldHVybiBTdC5mb3JtYXQodSxhKGUpKX07YnJlYWs7Y2FzZSJmdW5jdGlvbiI6cHx8KHA9Yyt0KyssdS5iYXNpc01vZElkXz1wKSxmPWZ1bmN0aW9uKGUpe3JldHVybiB1KGEoZSkpfTticmVhaztkZWZhdWx0OmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHVbYShlKV19fXJldHVybiBmLmJhc2U9YS5iYXNlfHxhLGYuX19leHRlbmRfXz1NLHAmJihofHwoaD17fSxzW2xdPWgpLGhbcF09ZixmLm1vZD11LGZbZV09ci5wdXNoKGYpKSxmfTtyZXR1cm4gdS5JRD1lLHV9KCksXz1jKGZ1bmN0aW9uKCl7fSx7X19leHRlbmRfXzpNfSksaj1mdW5jdGlvbigpe3ZhciBlPXtsb2c6TyxpbmZvOk8sd2FybjpPLGVycm9yOk99O3JldHVybiB0eXBlb2YgY29uc29sZSE9InVuZGVmaW5lZCImJnkoZSxmdW5jdGlvbih0KXtlW3RdPSJiaW5kImluIEZ1bmN0aW9uLnByb3RvdHlwZSYmdHlwZW9mIGNvbnNvbGVbdF09PSJmdW5jdGlvbiI/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlW3RdLGNvbnNvbGUpOmZ1bmN0aW9uKCl7RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVt0XSxjb25zb2xlLGFyZ3VtZW50cyl9fSksZX0oKSxGPWkuc2V0SW1tZWRpYXRlfHxpLm1zU2V0SW1tZWRpYXRlLEk9aS5jbGVhckltbWVkaWF0ZXx8aS5tc1NldEltbWVkaWF0ZTtGJiYoRj1GLmJpbmQoaSkpLEkmJihJPUkuYmluZChpKSksRnx8ZnVuY3Rpb24oKXt2YXIgZT0iYmFzaXNqcy5zZXRJbW1lZGlhdGUiLHQ9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PTE7cmV0dXJuIEY9ZnVuY3Rpb24ocil7aWYodHlwZW9mIHIhPSJmdW5jdGlvbiIpcmV0dXJuO3JldHVybiBlWysrdF09e2ZuOnIsYXJnczptdChhcmd1bWVudHMsMSl9LG4odCksdH0sST1mdW5jdGlvbih0KXtkZWxldGUgZVt0XX0sZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtpZihuKXJldHVybiBkZWxldGUgZVt0XSxuLmZuLmFwcGx5KHVuZGVmaW5lZCxuLmFyZ3MpfX0oKSxuPWZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGUpfSwwKX07aWYoaS5wcm9jZXNzJiZ0eXBlb2YgcHJvY2Vzcy5uZXh0VGljaz09ImZ1bmN0aW9uIiluPWZ1bmN0aW9uKGUpe3Byb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXt0KGUpfSl9O2Vsc2UgaWYoaS5NZXNzYWdlQ2hhbm5lbCl7dmFyIHI9bmV3IGkuTWVzc2FnZUNoYW5uZWw7ci5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIG49ZS5kYXRhO3Qobil9LG49ZnVuY3Rpb24oZSl7ci5wb3J0Mi5wb3N0TWVzc2FnZShlKX19ZWxzZXt2YXIgcz1pLnBvc3RNZXNzYWdlJiYhaS5pbXBvcnRTY3JpcHRzO2lmKHMpe3ZhciBvPWkub25tZXNzYWdlO2kub25tZXNzYWdlPWZ1bmN0aW9uKCl7cz0hMX0saS5wb3N0TWVzc2FnZSgiIiwiKiIpLGkub25tZXNzYWdlPW99aWYocyl7dmFyIHU9ZnVuY3Rpb24obil7aWYobiYmbi5zb3VyY2U9PWkpe3ZhciByPVN0cmluZyhuLmRhdGEpLnNwbGl0KGUpWzFdO3ImJnQocil9fTtpLmFkZEV2ZW50TGlzdGVuZXI/aS5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix1LCEwKTppLmF0dGFjaEV2ZW50KCJvbm1lc3NhZ2UiLHUpLG49ZnVuY3Rpb24odCl7aS5wb3N0TWVzc2FnZShlK3QsIioiKX19ZWxzZXt2YXIgZj1mdW5jdGlvbigpe3JldHVybiBhLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpfTtpZihhJiYib25yZWFkeXN0YXRlY2hhbmdlImluIGYoKSl7dmFyIGw9bjtuPWZ1bmN0aW9uIGMoZSl7dHlwZW9mIGt0IT0idW5kZWZpbmVkIiYmKG49bCxrdC5oZWFkLnJlYWR5KGZ1bmN0aW9uKCl7bj1mdW5jdGlvbihlKXt2YXIgbj1mKCk7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGt0LnJlbW92ZShuKSxuPW51bGwsdChlKX0sa3QuaGVhZC5hZGQobil9fSkpLG49PT1jP2woZSk6bihlKX19fX19KCk7dmFyIHE9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZmLmNhbGwocHJvY2Vzcyk9PSJbb2JqZWN0IHByb2Nlc3NdIixSPWZ1bmN0aW9uKCl7dmFyIGU9L14oW15cL10rOnxcLykvLHQ9L15bYS16QS1aMC05XC1dKzpcLz8vLG49L14oPzpbYS16QS1aMC05XC1dKzopP1wvXC9bXlwvXStcLz8vLHI9L1tcPyNdLiokLyxpLHMsbztpZihxKXt2YXIgdT0ocHJvY2Vzcy5iYXNpc2pzQmFzZVVSSXx8cmVxdWlyZSgicGF0aCIpLnJlc29sdmUoIi4iKSkucmVwbGFjZSgvXFwvZywiLyIpO2k9dS5yZXBsYWNlKC9eW15cL10qLywiIikscz11LnJlcGxhY2UoL1wvLiovLCIiKX1lbHNlIGk9bG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvW15cL10rJC8sIiIpLHM9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0O3JldHVybiBvPXtiYXNlVVJJOmksb3JpZ2luOnMsbm9ybWFsaXplOmZ1bmN0aW9uKGUpe2U9KGV8fCIiKS5yZXBsYWNlKHQsIi8iKS5yZXBsYWNlKG4sIi8iKS5yZXBsYWNlKHIsIiIpO3ZhciBpPVtdLHM9ZS5zcGxpdCgiLyIpO2Zvcih2YXIgbz0wO288cy5sZW5ndGg7bysrKXNbb109PSIuLiI/KGkubGVuZ3RoPjF8fGlbMF0pJiZpLnBvcCgpOihzW29dfHwhbykmJnNbb10hPSIuIiYmaS5wdXNoKHNbb10pO3JldHVybiBpLmpvaW4oIi8iKXx8KGVbMF09PT0iLyI/Ii8iOiIiKX0sZGlybmFtZTpmdW5jdGlvbihlKXt2YXIgdD1vLm5vcm1hbGl6ZShlKTtyZXR1cm4gdC5yZXBsYWNlKC9cLyhbXlwvXSopJHxeW15cL10rJC8sIiIpfHwodFswXT09Ii8iPyIvIjoiLiIpfSxleHRuYW1lOmZ1bmN0aW9uKGUpe3ZhciB0PW8ubm9ybWFsaXplKGUpLm1hdGNoKC9bXlwvXShcLlteXC9cLl0qKSQvKTtyZXR1cm4gdD90WzFdOiIifSxiYXNlbmFtZTpmdW5jdGlvbihlLHQpe3ZhciBuPW8ubm9ybWFsaXplKGUpLm1hdGNoKC9bXlxcXC9dKiQvKTtyZXR1cm4gbj1uP25bMF06IiIsdD09by5leHRuYW1lKG4pJiYobj1uLnN1YnN0cmluZygwLG4ubGVuZ3RoLXQubGVuZ3RoKSksbn0scmVzb2x2ZTpmdW5jdGlvbih0LG4pe3ZhciByPW10KGFyZ3VtZW50cykucmV2ZXJzZSgpLHM9W10sdT0hMTtmb3IodmFyIGE9MDshdSYmYTxyLmxlbmd0aDthKyspdHlwZW9mIHJbYV09PSJzdHJpbmciJiYocy51bnNoaWZ0KHJbYV0pLHU9ZS50ZXN0KHJbYV0pKTtyZXR1cm4gdXx8cy51bnNoaWZ0KGk9PSIvIj8iIjppKSxvLm5vcm1hbGl6ZShzLmpvaW4oIi8iKSl9LHJlbGF0aXZlOmZ1bmN0aW9uKGUsdCl7dHlwZW9mIHQhPSJzdHJpbmciJiYodD1lLGU9aSksZT1vLm5vcm1hbGl6ZShlKSx0PW8ubm9ybWFsaXplKHQpO2lmKGVbMF09PSIvIiYmdFswXSE9Ii8iKXJldHVybiBlO2lmKHRbMF09PSIvIiYmZVswXSE9Ii8iKXJldHVybiB0O3ZhciBuPWUucmVwbGFjZSgvXlwvJC8sIiIpLnNwbGl0KC9cLy8pLHI9dC5yZXBsYWNlKC9eXC8kLywiIikuc3BsaXQoL1wvLykscz1bXSx1PTA7d2hpbGUoclt1XT09blt1XSYmdHlwZW9mIG5bdV09PSJzdHJpbmciKXUrKztmb3IodmFyIGE9bi5sZW5ndGgtdTthPjA7YS0tKXMucHVzaCgiLi4iKTtyZXR1cm4gcy5jb25jYXQoci5zbGljZSh1KS5maWx0ZXIoQm9vbGVhbikpLmpvaW4oIi8iKX19LG99KCksVT1zfHwiIix6PW98fHtub0NvbmZsaWN0OiEwLG1vZHVsZXM6e30sYXV0b2xvYWQ6WyIuLzAuanMiXX0sVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIHR5cGVvZiBlPT0iZnVuY3Rpb24iJiYhIWUuYmFzaXNDbGFzc0lkX31mdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7d2hpbGUodCYmdCE9PWUpdD10LnN1cGVyQ2xhc3NfO3JldHVybiB0PT09ZX1mdW5jdGlvbiBzKGUsdCxuKXtyZXR1cm4obmV3IEZ1bmN0aW9uKHAodCksJ3JldHVybiB7IicrZSsnIjogJytuKydcbn1bIicrZSsnIl0nKSkuYXBwbHkobnVsbCxkKHQpKX1mdW5jdGlvbiB1KHMsbyl7dmFyIGY9dCsrO3R5cGVvZiBzIT0iZnVuY3Rpb24iJiYocz1sKTt2YXIgaD1mdW5jdGlvbigpe307aC5wcm90b3R5cGU9cy5wcm90b3R5cGU7dmFyIHA9bmV3IGgsZD17YmFzaXNDbGFzc0lkXzpmLHN1cGVyQ2xhc3NfOnMsZXh0ZW5kQ29uc3RydWN0b3JfOiEhcy5leHRlbmRDb25zdHJ1Y3Rvcl8saXNTdWJjbGFzc09mOmksc3ViY2xhc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdS5hcHBseShudWxsLFtnXS5jb25jYXQobXQoYXJndW1lbnRzKSkpfSxleHRlbmQ6YSxfX2V4dGVuZF9fOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlIT09biYmKHR5cGVvZiBlPT0ib2JqZWN0Inx8dHlwZW9mIGU9PSJmdW5jdGlvbiImJiFyKGUpKT9sLmNyZWF0ZS5jYWxsKG51bGwsZyxlKTplfSxwcm90b3R5cGU6cH07Zm9yKHZhciB2PTEsbTttPWFyZ3VtZW50c1t2XTt2KyspZC5leHRlbmQobSk7dmFyIGc9ZC5leHRlbmRDb25zdHJ1Y3Rvcl8/ZnVuY3Rpb24odCl7dGhpcy5iYXNpc09iamVjdElkPWUuaWQrKzt2YXIgbjtmb3IodmFyIHIgaW4gdCluPXRoaXNbcl0sdGhpc1tyXT1uJiZuLl9fZXh0ZW5kX18/bi5fX2V4dGVuZF9fKHRbcl0pOnRbcl07dGhpcy5pbml0KCksdGhpcy5wb3N0SW5pdCgpfTpmdW5jdGlvbigpe3RoaXMuYmFzaXNPYmplY3RJZD1lLmlkKyssdGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnBvc3RJbml0KCl9O3AuY29uc3RydWN0b3I9Zztmb3IodmFyIHkgaW4gcClwW3ldPT09biYmKHBbeV09Zyk7cmV0dXJuIGMoZyxkKSxnfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9dGhpcy5wcm90b3R5cGU7dHlwZW9mIGU9PSJmdW5jdGlvbiImJiFyKGUpJiYoZT1lKHRoaXMuc3VwZXJDbGFzc18ucHJvdG90eXBlLHYodCkpKSxlLnByb3RvdHlwZSYmKGU9ZS5wcm90b3R5cGUpO2Zvcih2YXIgbiBpbiBlKXt2YXIgaT1lW25dLHM9dFtuXTtuPT0iY2xhc3NOYW1lInx8bj09ImV4dGVuZENvbnN0cnVjdG9yXyI/dGhpc1tuXT1pOnMmJnMuX19leHRlbmRfXz90W25dPXMuX19leHRlbmRfXyhpKTp0W25dPWl9cmV0dXJuIG8mJmVbbj0idG9TdHJpbmciXSE9PWYmJih0W25dPWVbbl0pLHRoaXN9dmFyIGU9e2lkOjF9LHQ9MSxuPXt9LG89ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW57dG9TdHJpbmc6MX0pcmV0dXJuITE7cmV0dXJuITB9KCksbD1jKHUse2NsYXNzTmFtZToiYmFzaXMuQ2xhc3MiLGV4dGVuZENvbnN0cnVjdG9yXzohMSxwcm90b3R5cGU6e2Jhc2lzT2JqZWN0SWQ6MCxjb25zdHJ1Y3RvcjpudWxsLGluaXQ6ZnVuY3Rpb24oKXt9LHBvc3RJbml0OmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMpaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLGUpJiYodGhpc1tlXT1udWxsKTt0aGlzLmRlc3Ryb3k9T319fSksaD1mdW5jdGlvbihlLHQsbil7cmV0dXJue19fZXh0ZW5kX186ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIGU7aWYoZSYmZS5fX2V4dGVuZF9fKXJldHVybiBlO3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT10aGlzO3ZhciByPW5ldyBuO3JldHVybiB0KHIsZSkscn19Ll9fZXh0ZW5kX18oZXx8e30pfSxtPWZ1bmN0aW9uKGUpe3JldHVybiBoKGUsYywiZXh0ZW5zaWJsZVByb3BlcnR5Iil9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgcj1lW25dO2Vbbl09ciYmci5fX2V4dGVuZF9fP3IuX19leHRlbmRfXyh0W25dKTptKHRbbl0pfX0sIm5lc3RlZEV4dGVuZFByb3BlcnR5Iil9LHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgcj17X19leHRlbmRfXzpufTtpZih0KXtpZih0Ll9fZXh0ZW5kX18pcmV0dXJuIHQ7Zm9yKHZhciBpIGluIHQpdFtpXSYmKHJbaV09ZSl9cmV0dXJuIHJ9O3JldHVybiBuKHR8fHt9KX07cmV0dXJuIGMobCx7U0VMRjpuLGNyZWF0ZTp1LGlzQ2xhc3M6cixjdXN0b21FeHRlbmRQcm9wZXJ0eTpoLGV4dGVuc2libGVQcm9wZXJ0eTptLG5lc3RlZEV4dGVuZFByb3BlcnR5Omcsb25lRnVuY3Rpb25Qcm9wZXJ0eTp5fSl9KCksJD1WKG51bGwse2NsYXNzTmFtZToiYmFzaXMuVG9rZW4iLHZhbHVlOm51bGwsaGFuZGxlcjpudWxsLGRlZmVycmVkVG9rZW46bnVsbCxiaW5kaW5nQnJpZGdlOnthdHRhY2g6ZnVuY3Rpb24oZSx0LG4pe2UuYXR0YWNoKHQsbil9LGRldGFjaDpmdW5jdGlvbihlLHQsbil7ZS5kZXRhY2godCxuKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldCgpfX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLnZhbHVlPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy52YWx1ZSE9PWUmJih0aGlzLnZhbHVlPWUsdGhpcy5hcHBseSgpKX0sYXR0YWNoOmZ1bmN0aW9uKGUsdCl7dGhpcy5oYW5kbGVyPXtmbjplLGNvbnRleHQ6dCxoYW5kbGVyOnRoaXMuaGFuZGxlcn19LGRldGFjaDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscjt3aGlsZShyPW4sbj1uLmhhbmRsZXIpaWYobi5mbj09PWUmJm4uY29udGV4dD09PXQpe24uZm49TyxyLmhhbmRsZXI9bi5oYW5kbGVyO3JldHVybn19LGFwcGx5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXQoKSx0PXRoaXM7d2hpbGUodD10LmhhbmRsZXIpdC5mbi5jYWxsKHQuY29udGV4dCxlKX0sZGVmZXJyZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRlZmVycmVkVG9rZW47cmV0dXJuIGV8fChlPXRoaXMuZGVmZXJyZWRUb2tlbj1uZXcgSyh0aGlzLnZhbHVlKSx0aGlzLmF0dGFjaChlLnNldCxlKSksZX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVmZXJyZWRUb2tlbiYmKHRoaXMuZGVmZXJyZWRUb2tlbi5kZXN0cm95KCksdGhpcy5kZWZlcnJlZFRva2VuPW51bGwpLHRoaXMuaGFuZGxlcj1udWxsLHRoaXMudmFsdWU9bnVsbCx0aGlzLmF0dGFjaD1PLHRoaXMuZGV0YWNoPU99fSksSj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt2YXIgbj1lO2U9e30sdD1udWxsO2Zvcih2YXIgciBpbiBuKW5bcl0uYXBwbHkoKX12YXIgZT17fSx0O3JldHVybiBmdW5jdGlvbihyKXtpZihyLmJhc2lzT2JqZWN0SWQgaW4gZSlyZXR1cm47ZVtyLmJhc2lzT2JqZWN0SWRdPXIsdHx8RihuKX19KCksSz0kLnN1YmNsYXNzKHtjbGFzc05hbWU6ImJhc2lzLkRlZmVycmVkVG9rZW4iLHNldDpmdW5jdGlvbihlKXt0aGlzLnZhbHVlIT09ZSYmKHRoaXMudmFsdWU9ZSxKKHRoaXMpKX0sZGVmZXJyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KSxRPXt9LEc9e30sWT17fSxaPTE7KGZ1bmN0aW9uKCl7dmFyIGU9dHlwZW9mIG4hPSJ1bmRlZmluZWQiP246bnVsbDtpZihlKWZvcih2YXIgdCBpbiBlKUdbUi5yZXNvbHZlKHQpXT1lW3RdfSkoKTt2YXIgdHQ9ZnVuY3Rpb24oZSx0KXtpZih0fHwhRy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG49IiI7aWYoIXEpe3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdDtyLm9wZW4oIkdFVCIsZSwhMSksci5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsKG5ldyBEYXRlKDApKS50b0dNVFN0cmluZygpKSxyLnNldFJlcXVlc3RIZWFkZXIoIlgtQmFzaXMtUmVzb3VyY2UiLDEpLHIuc2VuZCgiIiksci5zdGF0dXM+PTIwMCYmci5zdGF0dXM8NDAwJiYobj1yLnJlc3BvbnNlVGV4dCl9ZWxzZSB0cnl7bj1wcm9jZXNzLmJhc2lzanNSZWFkRmlsZT9wcm9jZXNzLmJhc2lzanNSZWFkRmlsZShlKTpyZXF1aXJlKCJmcyIpLnJlYWRGaWxlU3luYyhlLCJ1dGYtOCIpfWNhdGNoKGkpe31HW2VdPW59cmV0dXJuIEdbZV19LG50PWZ1bmN0aW9uKGUsdCl7dmFyIG49Ui5leHRuYW1lKGUpLHI9cnQuZXh0ZW5zaW9uc1tuXSxpPWFyZ3VtZW50cy5sZW5ndGg+MSxzPSExLG89ITE7aSYmKGUrPSIjdmlydHVhbCIpO3ZhciB1PWZ1bmN0aW9uKCl7aWYocylyZXR1cm4gdDt2YXIgbj1pP3Q6dHQoZSk7cmV0dXJuIHI/b3x8KG89ITAsdD1yKG4sZSkpOnQ9bixzPSEwLGV0KHUpLHUuYXBwbHkoKSx0fTtyZXR1cm4gYyh1LGMobmV3ICQse3VybDplLHR5cGU6bix2aXJ0dWFsOmksZmV0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbYmFzaXMucmVzb3VyY2UgIitlKyJdIn0saXNSZXNvbHZlZDpmdW5jdGlvbigpe3JldHVybiBzfSx1cGRhdGU6ZnVuY3Rpb24obil7aWYoIXN8fGl8fG4hPUdbZV0paXx8KEdbZV09bikscj8oIW8mJmkmJih0PW4pLG8mJiFyLnBlcm1hbmVudCYmKHQ9cihuLGUsdCksZXQodSksdS5hcHBseSgpKSk6KHQ9bixzPSEwLGV0KHUpLHUuYXBwbHkoKSl9LHJlbG9hZDpmdW5jdGlvbigpe2lmKGkpcmV0dXJuO3ZhciB0PUdbZV0sbj10dChlLCEwKTtuIT10JiYocz0hMSx1LnVwZGF0ZShuKSl9LGdldDpmdW5jdGlvbihuKXtyZXR1cm4gaSYmbj9yP3dyYXBwZWRDb250ZW50OnQ6bj90dChlKTp1KCl9LHJlYWR5OmZ1bmN0aW9uKGUsdCl7aWYocyl7ZS5jYWxsKHQsdSgpKTtpZihyJiZyLnBlcm1hbmVudClyZXR1cm59cmV0dXJuIHUuYXR0YWNoKGUsdCksdX19KSksUVtlXT11LHV9LHJ0PWZ1bmN0aW9uKGUpe3ZhciB0PVFbZV07cmV0dXJuIHQ/dDooZT1SLnJlc29sdmUoZSksdD1RW2VdLHR8fG50KGUpKX07YyhydCx7aXNSZXNvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9RW2UudXJsXT09PWU6ITF9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9cnQuZ2V0KGUpO3JldHVybiB0P3QuaXNSZXNvbHZlZCgpOiExfSxleGlzdHM6ZnVuY3Rpb24oZSl7cmV0dXJuIFEuaGFzT3duUHJvcGVydHkoUi5yZXNvbHZlKGUpKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlPVIucmVzb2x2ZShlKSxydC5leGlzdHMoZSk/cnQoZSk6bnVsbH0sZ2V0RmlsZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHAoZT9HOlEpLm1hcChSLnJlbGF0aXZlKX0sdmlydHVhbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG50KChuP24rIjoiOlIubm9ybWFsaXplKFIuYmFzZVVSST09Ii8iPyIiOlIuYmFzZVVSSSkrIi8iKSsidmlydHVhbC1yZXNvdXJjZSIrWisrICsiLiIrZSx0KX0sZXh0ZW5zaW9uczp7Ii5qcyI6YyhmdW5jdGlvbihlLHQpe3ZhciBuPWF0W3RdO2lmKCFuKXt2YXIgcj0hMCxpPVIuZGlybmFtZSh0KSsiLyIrUi5iYXNlbmFtZSh0LFIuZXh0bmFtZSh0KSk7Zm9yKHZhciBzIGluIGZ0KXt2YXIgbz1mdFtzXStzKyIvIjtpZihpLnN1YnN0cigwLG8ubGVuZ3RoKT09byl7cj0hMSxpPWkuc3Vic3RyKGZ0W3NdLmxlbmd0aCk7YnJlYWt9fW49aS5yZXBsYWNlKC9cLi9nLCJfIikucmVwbGFjZSgvXlwvL2csIiIpLnJlcGxhY2UoL1wvL2csIi4iKSxyJiYobj0iaW1wbGljaXQuIituKX1pZighb3Rbbl0pe3ZhciBzPXB0KG4pO3MuZXhwb3J0cz1zdCh7cGF0aDpzLnBhdGgsZXhwb3J0czpzLmV4cG9ydHN9LHQsZSkuZXhwb3J0cyxzLmV4cG9ydHMmJnMuZXhwb3J0cy5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmaChzLHMuZXhwb3J0cyl9cmV0dXJuIG90W25dLmV4cG9ydHN9LHtwZXJtYW5lbnQ6ITB9KSwiLmNzcyI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBufHwobj1uZXcgQXQodCkpLG4udXBkYXRlQ3NzVGV4dChlKSxufSwiLmpzb24iOmZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGU9PSJvYmplY3QiKXJldHVybiBlO3ZhciBuO3RyeXtlPVN0cmluZyhlKSxuPU90Lmpzb24ucGFyc2UoZSl9Y2F0Y2gocil7fXJldHVybiBufHxudWxsfX19KTt2YXIgc3Q9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVIuZGlybmFtZSh0KSsiLyIscz1uO3JldHVybiBlLmV4cG9ydHN8fChlLmV4cG9ydHM9e30pLHR5cGVvZiBzIT0iZnVuY3Rpb24iJiYocz1pdCh0LFsiZXhwb3J0cyIsIm1vZHVsZSIsImJhc2lzIiwiZ2xvYmFsIiwiX19maWxlbmFtZSIsIl9fZGlybmFtZSIsInJlc291cmNlIiwicmVxdWlyZSJdLCcidXNlIHN0cmljdCI7XG4nK24pKSx0eXBlb2Ygcz09ImZ1bmN0aW9uIiYmcy5jYWxsKGUuZXhwb3J0cyxlLmV4cG9ydHMsZSxPdCxpLHQscixmdW5jdGlvbihlKXtyZXR1cm4gcnQoUi5yZXNvbHZlKHIsZSkpfSxmdW5jdGlvbihlLHQpe3JldHVybiBkdChlLHR8fHIpfSksZX0sb3Q9e30sdXQ9e30sYXQ9e30sZnQ9e307eSh6Lm1vZHVsZXMsZnVuY3Rpb24oZSx0KXtmdFtlXT10LnBhdGgrIi8iLHV0W2VdPXQuZmlsZW5hbWUsYXRbdC5maWxlbmFtZV09ZX0pLGZ1bmN0aW9uKHQpe3ZhciB0PXR5cGVvZiBlIT0idW5kZWZpbmVkIj9lOm51bGw7aWYodClmb3IodmFyIG4gaW4gdCl7dmFyIHI9Ui5yZXNvbHZlKG4pLGk9dFtuXTthdFtyXT1pLHV0W2ldPXJ9fSgpO3ZhciBsdD1WKG51bGwse2NsYXNzTmFtZToiYmFzaXMuTmFtZXNwYWNlIixpbml0OmZ1bmN0aW9uKGUpe3RoaXMubmFtZT1lLHRoaXMuZXhwb3J0cz17cGF0aDp0aGlzLm5hbWV9fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbYmFzaXMubmFtZXNwYWNlICIrdGhpcy5wYXRoKyJdIn0sZXh0ZW5kOmZ1bmN0aW9uKGUpe3JldHVybiBjKHRoaXMuZXhwb3J0cyxlKSxoKHRoaXMsZSl9fSksZHQ9ZnVuY3Rpb24oKXtpZihxKXt2YXIgZT1tb2R1bGUuY29uc3RydWN0b3IucHJvdG90eXBlO3JldHVybiBmdW5jdGlvbih0LG4pe2lmKCEvW15hLXowLTlfXC5dL2kudGVzdCh0KXx8Ui5leHRuYW1lKHQpPT0iLmpzIil7dmFyIHI9ZS5fY29tcGlsZSxpPXB0KHQpO2UuX2NvbXBpbGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmJhc2lzPU90LGU9J3ZhciBfX25vZGVqc1JlcXVpcmUgPSByZXF1aXJlO1xudmFyIGJhc2lzID0gbW9kdWxlLmJhc2lzO1xudmFyIHJlc291cmNlID0gZnVuY3Rpb24oZmlsZW5hbWUpeyByZXR1cm4gYmFzaXMucmVzb3VyY2UoX19kaXJuYW1lICsgIi8iICsgZmlsZW5hbWUpIH07XG52YXIgcmVxdWlyZSA9IGZ1bmN0aW9uKGZpbGVuYW1lLCBiYXNlVVJJKXsgcmV0dXJuIGJhc2lzLnJlcXVpcmUoZmlsZW5hbWUsIGJhc2VVUkkgfHwgX19kaXJuYW1lKSB9O1xuJytlLHIuY2FsbChjKHRoaXMsaSksZSx0KX07dmFyIHM9cmVxdWlyZShfX2Rpcm5hbWUrIi8iK3QucmVwbGFjZSgvXC4vZywiLyIpKTtyZXR1cm4gaS5leHBvcnRzPXMscyYmcy5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmaChpLHMpLGUuX2NvbXBpbGU9cixzfXJldHVybiB0PVIucmVzb2x2ZShuLHQpLHJlcXVpcmUodCl9fXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiEvW15hLXowLTlfXC5dL2kudGVzdChlKSYmUi5leHRuYW1lKGUpIT0iLmpzIj9lPWN0KGUpOmU9Ui5yZXNvbHZlKHQsZSkscnQoZSkuZmV0Y2goKX19KCk7aChGdW5jdGlvbi5wcm90b3R5cGUse2JpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPW10KGFyZ3VtZW50cywxKTtyZXR1cm4gbi5sZW5ndGg/ZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0LmFwcGx5KG4sYXJndW1lbnRzKSl9OmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19KSxoKEFycmF5LHtpc0FycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBmLmNhbGwoZSk9PT0iW29iamVjdCBBcnJheV0ifX0pLGgoQXJyYXkucHJvdG90eXBlLHtpbmRleE9mOmZ1bmN0aW9uKGUsdCl7dD1wYXJzZUludCh0LDEwKXx8MDtpZih0PDApcmV0dXJuLTE7Zm9yKDt0PHRoaXMubGVuZ3RoO3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sbGFzdEluZGV4T2Y6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmxlbmd0aDt0PXBhcnNlSW50KHQsMTApLGlzTmFOKHQpfHx0Pj1uP3Q9bi0xOnQ9KHQrbiklbjtmb3IoO3Q+PTA7dC0tKWlmKHRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSxmb3JFYWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj10aGlzLmxlbmd0aDtuPHI7bisrKW4gaW4gdGhpcyYmZS5jYWxsKHQsdGhpc1tuXSxuLHRoaXMpfSxldmVyeTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9dGhpcy5sZW5ndGg7bjxyO24rKylpZihuIGluIHRoaXMmJiFlLmNhbGwodCx0aGlzW25dLG4sdGhpcykpcmV0dXJuITE7cmV0dXJuITB9LHNvbWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPXRoaXMubGVuZ3RoO248cjtuKyspaWYobiBpbiB0aGlzJiZlLmNhbGwodCx0aGlzW25dLG4sdGhpcykpcmV0dXJuITA7cmV0dXJuITF9LGZpbHRlcjpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2Zvcih2YXIgcj0wLGk9dGhpcy5sZW5ndGg7cjxpO3IrKylyIGluIHRoaXMmJmUuY2FsbCh0LHRoaXNbcl0scix0aGlzKSYmbi5wdXNoKHRoaXNbcl0pO3JldHVybiBufSxtYXA6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtmb3IodmFyIHI9MCxpPXRoaXMubGVuZ3RoO3I8aTtyKyspciBpbiB0aGlzJiYobltyXT1lLmNhbGwodCx0aGlzW3JdLHIsdGhpcykpO3JldHVybiBufSxyZWR1Y2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmxlbmd0aCxyPWFyZ3VtZW50cy5sZW5ndGg7aWYobj09MCYmcj09MSl0aHJvdyAxO3ZhciBpLHM9MDtyPjEmJihpPXQscz0xKTtmb3IodmFyIG89MDtvPG47bysrKW8gaW4gdGhpcyYmKHMrKz9pPWUuY2FsbChudWxsLGksdGhpc1tvXSxvLHRoaXMpOmk9dGhpc1tvXSk7cmV0dXJuIGl9fSk7dmFyIHl0PXtmcm9tOm10LGNyZWF0ZTpndCxmbGF0dGVuOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbmNhdC5hcHBseShbXSxlKX0scmVwZWF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHl0LmZsYXR0ZW4oZ3QocGFyc2VJbnQodCwxMCl8fDAsZSkpfSxzZWFyY2g6ZnVuY3Rpb24oZSx0LG4scil7ZS5sYXN0U2VhcmNoSW5kZXg9LTEsbj1NKG58fE4pO2Zvcih2YXIgaT1wYXJzZUludChyLDEwKXx8MCxzPWUubGVuZ3RoO2k8cztpKyspaWYobihlW2ldKT09PXQpcmV0dXJuIGVbZS5sYXN0U2VhcmNoSW5kZXg9aV19LGxhc3RTZWFyY2g6ZnVuY3Rpb24oZSx0LG4scil7ZS5sYXN0U2VhcmNoSW5kZXg9LTEsbj1NKG58fE4pO3ZhciBpPWUubGVuZ3RoLHM9aXNOYU4ocil8fHI9PW51bGw/aTpwYXJzZUludChyLDEwKTtmb3IodmFyIG89cz5pP2k6cztvLS0+MDspaWYobihlW29dKT09PXQpcmV0dXJuIGVbZS5sYXN0U2VhcmNoSW5kZXg9b119LGFkZDpmdW5jdGlvbihlLHQpe3JldHVybiBlLmluZGV4T2YodCk9PS0xJiYhIWUucHVzaCh0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5pbmRleE9mKHQpO3JldHVybiBuIT0tMSYmISFlLnNwbGljZShuLDEpfSxoYXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleE9mKHQpIT0tMX0sc29ydEFzT2JqZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHl0LnNvcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzb3J0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0PU0odCkscj1yPy0xOjEsZS5tYXAoZnVuY3Rpb24oZSxuKXtyZXR1cm57aTpuLHY6dChlKX19KS5zb3J0KG58fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIqKGUudj50LnZ8fC0oZS52PHQudil8fChlLmk+dC5pPzE6LTEpKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tlLmldfSxlKX19O2lmKCFbMSwyXS5zcGxpY2UoMSkubGVuZ3RoKXt2YXIgYnQ9QXJyYXkucHJvdG90eXBlLnNwbGljZTtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKCl7dmFyIGU9bXQoYXJndW1lbnRzKTtyZXR1cm4gZS5sZW5ndGg8MiYmKGVbMV09dGhpcy5sZW5ndGgpLGJ0LmFwcGx5KHRoaXMsZSl9fXZhciB3dD0vKFtcL1xcXChcKVxbXF1cP1x7XH1cfFwqXCtcLVwuXF5cJF0pL2csRXQ9L1x7KFthLXpcZF9dKykoPzo6KFtcLjBdKShcZCspfDooXD8pKT9cfS9naTtoKFN0cmluZyx7dG9Mb3dlckNhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfSx0b1VwcGVyQ2FzZTpmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnRvVXBwZXJDYXNlKCl9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS50cmltKCl9LHRyaW1MZWZ0OmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkudHJpbUxlZnQoKX0sdHJpbVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkudHJpbVJpZ2h0KCl9fSksaChTdHJpbmcucHJvdG90eXBlLHt0cmltTGVmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoL15ccysvLCIiKX0sdHJpbVJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwbGFjZSgvXHMrJC8sIiIpfSx0cmltOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJpbUxlZnQoKS50cmltUmlnaHQoKX19KTt2YXIgU3Q9e3RvT2JqZWN0OmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybihuZXcgRnVuY3Rpb24oInJldHVybiAwLCIrZSkpKCl9Y2F0Y2gobil7aWYodCl0aHJvdyAyfX0scmVwZWF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKG5ldyBBcnJheShwYXJzZUludCh0LDEwKSsxfHwwKSkuam9pbihlKX0scXc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50cmltKCk7cmV0dXJuIHQ/dC5zcGxpdCgvXHMrLyk6W119LGZvclJlZ0V4cDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHd0LCJcXCQxIil9LGZvcm1hdDpmdW5jdGlvbihlLHQpe3ZhciBuPW10KGFyZ3VtZW50cywxKTtyZXR1cm4gdHlwZW9mIHQ9PSJvYmplY3QiJiZjKG4sdCksZS5yZXBsYWNlKEV0LGZ1bmN0aW9uKGUsdCxyLGkscyl7dmFyIG89dCBpbiBuP25bdF06cz8iIjplO3JldHVybiByJiYhaXNOYU4obyk/KG89TnVtYmVyKG8pLHI9PSIuIj9vLnRvRml4ZWQoaSk6TnQubGVhZChvLGkpKTpvfSl9LGNhcGl0YWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKX0sY2FtZWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvLSguKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfSxkYXNoZXJpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihlKXtyZXR1cm4iLSIrZS50b0xvd2VyQ2FzZSgpfSl9LGlzRW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW51bGx8fFN0cmluZyhlKT09IiJ9LGlzTm90RW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPW51bGwmJlN0cmluZyhlKSE9IiJ9fTtpZigifHx8Ii5zcGxpdCgvXHwvKS5sZW5ndGgrInx8fCIuc3BsaXQoLyhcfCkvKS5sZW5ndGghPTExKXt2YXIgeHQ9U3RyaW5nLnByb3RvdHlwZS5zcGxpdDtTdHJpbmcucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKGUsdCl7aWYoIWV8fGUgaW5zdGFuY2VvZiBSZWdFeHA9PTB8fGUuc291cmNlPT0iIilyZXR1cm4geHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBuPVtdLHI9MCxpO2UuZ2xvYmFsfHwoZT1uZXcgUmVnRXhwKGUuc291cmNlLC9cLyhbbWldKikkLy5leGVjKGUpWzFdKyJnIikpO3doaWxlKGk9ZS5leGVjKHRoaXMpKWlbMF09dGhpcy5zdWJzdHJpbmcocixpLmluZGV4KSxuLnB1c2guYXBwbHkobixpKSxyPWUubGFzdEluZGV4O3JldHVybiBuLnB1c2godGhpcy5zdWJzdHIocikpLG59fWlmKCIxMiIuc3Vic3RyKC0xKSE9IjIiKXt2YXIgVHQ9U3RyaW5nLnByb3RvdHlwZS5zdWJzdHI7U3RyaW5nLnByb3RvdHlwZS5zdWJzdHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVHQuY2FsbCh0aGlzLGU8MD9NYXRoLm1heCgwLHRoaXMubGVuZ3RoK2UpOmUsdCl9fXZhciBOdD17Zml0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4haXNOYU4odCkmJmU8dD9OdW1iZXIodCk6IWlzTmFOKG4pJiZlPm4/TnVtYmVyKG4pOmV9LGxlYWQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZSgvXGQrLyxmdW5jdGlvbihlKXtyZXR1cm4odC09ZS5sZW5ndGgtMSk+MT8obmV3IEFycmF5KHQpKS5qb2luKG58fDApK2U6ZX0pfSxncm91cDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC9cZCsvLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xkL2csZnVuY3Rpb24ocixpKXtyZXR1cm4haSsoZS5sZW5ndGgtaSklKHR8fDMpP3I6KG58fCIgIikrcn0pfSl9LGZvcm1hdDpmdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIG89ZS50b0ZpeGVkKHQpO2lmKG58fHMpbz1vLnJlcGxhY2UoLyhcZCspKFwuPykvLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4obj9PdC5udW1iZXIuZ3JvdXAoTnVtYmVyKHQpLDMsbik6dCkrKHI/c3x8cjoiIil9KTtyZXR1cm4gciYmKG89by5yZXBsYWNlKC9eLT8vLCIkJiIrKHJ8fCIiKSkpLG8rKGl8fCIiKX19O2goRGF0ZSx7bm93OmZ1bmN0aW9uKCl7cmV0dXJuIE51bWJlcihuZXcgRGF0ZSl9fSk7dmFyIEN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiBhLnJlYWR5U3RhdGU9PSJjb21wbGV0ZSImJiEhYS5ib2R5fWZ1bmN0aW9uIHIoZSl7ZS5jYWxsYmFjay5jYWxsKGUuY29udGV4dCl9ZnVuY3Rpb24gcygpe2lmKGUoKSYmISh0KyspKXdoaWxlKG4pcihuKSxuPW4ubmV4dH1mdW5jdGlvbiBvKCl7dHJ5e2EuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCJsZWZ0IikscygpfWNhdGNoKGUpe3NldFRpbWVvdXQobywxKX19dmFyIHQ9IWF8fGUoKSxuO2lmKCF0KWlmKGEuYWRkRXZlbnRMaXN0ZW5lcilhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLHMsITEpLGkuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIscywhMSk7ZWxzZXthLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHMpLGkuYXR0YWNoRXZlbnQoIm9ubG9hZCIscyk7dHJ5eyFpLmZyYW1lRWxlbWVudCYmYS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJm8oKX1jYXRjaCh1KXt9fXJldHVybiBmdW5jdGlvbihlLGkpe3Q/cih7Y2FsbGJhY2s6ZSxjb250ZXh0Oml9KTpuPXtjYWxsYmFjazplLGNvbnRleHQ6aSxuZXh0Om59fX0oKSxrdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSl7aWYoYSYmIXRbZV0pe3RbZV09YVtlXXx8YS5nZXRFbGVtZW50c0J5VGFnTmFtZShlKVswXTtpZih0W2VdKXt2YXIgcj1uW2VdO2RlbGV0ZSBuW2VdO2Zvcih2YXIgaT0wLHM7cz1yW2ldO2krKylzWzBdLmNhbGwoc1sxXSx0W2VdKX19cmV0dXJuIHRbZV19ZnVuY3Rpb24gaSgpe3ZhciBlPXRoaXNbMF0sdD10aGlzWzFdLHM9dGhpc1syXTtvKHQpO3ZhciB1PXIoZSk7aWYodSl7cz09PSEwJiYocz11LmZpcnN0Q2hpbGQpO2lmKCFzfHxzLnBhcmVudE5vZGUhPT11KXM9bnVsbDt1Lmluc2VydEJlZm9yZSh0LHMpfWVsc2UgbltlXS5wdXNoKFtpLFtlLHQsc11dKX1mdW5jdGlvbiBzKGUscixpKXtuW2VdP25bZV0ucHVzaChbcixpXSk6ci5jYWxsKGksdFtlXSl9ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQgaW4gbil7dmFyIHI9eXQuc2VhcmNoKG5bdF0sZSxmdW5jdGlvbihlKXtyZXR1cm4gZVsxXSYmZVsxXVsxXX0pO3ImJnl0LnJlbW92ZShuW3RdLHIpfWUmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLm5vZGVUeXBlPT0xJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gdSgpe2UmJnIoImhlYWQiKSYmcigiYm9keSIpJiYoZT1jbGVhckludGVydmFsKGUpKX12YXIgZSx0PXt9LG49e2hlYWQ6W10sYm9keTpbXX07cmV0dXJuIGEmJighcigiaGVhZCIpfHwhcigiYm9keSIpKSYmKGU9c2V0SW50ZXJ2YWwodSw1KSxDdCh1KSkse2hlYWQ6e3JlYWR5OmZ1bmN0aW9uKGUsdCl7cygiaGVhZCIsZSx0KX0sYWRkOmZ1bmN0aW9uKGUsdCl7aS5jYWxsKFsiaGVhZCIsZSx0XSl9fSxib2R5OntyZWFkeTpmdW5jdGlvbihlLHQpe3MoImJvZHkiLGUsdCl9LGFkZDpmdW5jdGlvbihlLHQpe2kuY2FsbChbImJvZHkiLGUsdF0pfX0scmVtb3ZlOm99fSgpLEx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtuLmdsb2JhbERlc3Ryb3k9ITAsbi5hZGQ9TyxuLnJlbW92ZT1PO3ZhciByO3doaWxlKHI9ZS5wb3AoKSlpZih0eXBlb2Ygci5kZXN0cm95PT0iZnVuY3Rpb24iKXRyeXtyLmRlc3Ryb3koKX1jYXRjaChpKXt9ZWxzZSBmb3IodmFyIHMgaW4gcilyW3NdPW51bGw7ZS5sZW5ndGg9MH12YXIgZT1bXTtpZigiYXR0YWNoRXZlbnQiaW4gaSlpLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsdCk7ZWxzZXtpZighKCJhZGRFdmVudExpc3RlbmVyImluIGkpKXJldHVybnthZGQ6TyxyZW1vdmU6T307aS5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLHQsITEpfXZhciBuPXthZGQ6ZnVuY3Rpb24odCl7dCE9bnVsbCYmZS5wdXNoKHQpfSxyZW1vdmU6ZnVuY3Rpb24odCl7eXQucmVtb3ZlKGUsdCl9fTtyZXR1cm4gbn0oKSxBdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSl7dC5zZXRBdHRyaWJ1dGUoImhyZWYiLGUpLGt0LmhlYWQuYWRkKHQsITApfWZ1bmN0aW9uIHIoKXt0LnNldEF0dHJpYnV0ZSgiaHJlZiIsbG9jYXRpb24uaHJlZiksa3QucmVtb3ZlKHQpfWZ1bmN0aW9uIGkoKXtuKHRoaXMuYmFzZVVSSSksdGhpcy5lbGVtZW50fHwodGhpcy5lbGVtZW50PWEuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxlfHx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoYS5jcmVhdGVUZXh0Tm9kZSgiIikpKSxrdC5oZWFkLmFkZCh0aGlzLmVsZW1lbnQpLHRoaXMuc3luY0Nzc1RleHQoKSxyKCl9dmFyIGU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIWEuY3JlYXRlRWxlbWVudCgic3R5bGUiKS5hcHBlbmRDaGlsZChhLmNyZWF0ZVRleHROb2RlKCIiKSl9Y2F0Y2goZSl7cmV0dXJuITB9fSgpLHQ9YSYmYS5jcmVhdGVFbGVtZW50KCJiYXNlIik7cmV0dXJuIFYobnVsbCx7Y2xhc3NOYW1lOiJiYXNpcy5Dc3NSZXNvdXJjZSIsaW5Vc2U6MCx1cmw6IiIsYmFzZVVSSToiIixjc3NUZXh0OnVuZGVmaW5lZCxlbGVtZW50Om51bGwsaW5pdDpmdW5jdGlvbihlKXt0aGlzLnVybD1lLHRoaXMuYmFzZVVSST1SLmRpcm5hbWUoZSkrIi8ifSx1cGRhdGVDc3NUZXh0OmZ1bmN0aW9uKGUpe3RoaXMuY3NzVGV4dCE9ZSYmKHRoaXMuY3NzVGV4dD1lLHRoaXMuaW5Vc2UmJnRoaXMuZWxlbWVudCYmKG4odGhpcy5iYXNlVVJJKSx0aGlzLnN5bmNDc3NUZXh0KCkscigpKSl9LHN5bmNDc3NUZXh0OmU/ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0PXRoaXMuY3NzVGV4dH06ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNzc1RleHQ7dGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQubm9kZVZhbHVlPWV9LHN0YXJ0VXNlOmZ1bmN0aW9uKCl7dGhpcy5pblVzZXx8a3QuaGVhZC5yZWFkeShpLHRoaXMpLHRoaXMuaW5Vc2UrPTF9LHN0b3BVc2U6ZnVuY3Rpb24oKXt0aGlzLmluVXNlJiYodGhpcy5pblVzZS09MSwhdGhpcy5pblVzZSYmdGhpcy5lbGVtZW50JiZrdC5yZW1vdmUodGhpcy5lbGVtZW50KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJmt0LnJlbW92ZSh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudD1udWxsLHRoaXMuY3NzVGV4dD1udWxsfX0pfSgpLE90PXB0KCJiYXNpcyIpLmV4dGVuZCh7dmVyc2lvbjp1LE5PREVfRU5WOnEsY29uZmlnOnosY3JlYXRlU2FuZGJveDpmdW5jdGlvbihlKXtyZXR1cm4gcihpLFUsaCh7bm9Db25mbGljdDohMH0sZSkpfSxyZXNvbHZlTlNGaWxlbmFtZTpjdCxwYXRjaDp2dCxuYW1lc3BhY2U6cHQscmVxdWlyZTpkdCxyZXNvdXJjZTpydCxhc3NldDpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc2V0SW1tZWRpYXRlOkYsY2xlYXJJbW1lZGlhdGU6SSxuZXh0VGljazpmdW5jdGlvbigpe0YuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDbGFzczpWLFRva2VuOiQsRGVmZXJyZWRUb2tlbjpLLGdlblVJRDpsLGdldHRlcjpNLHJlYWR5OkN0LGNsZWFuZXI6THQsY29uc29sZTpqLHBhdGg6Uixkb2M6a3Qsb2JqZWN0OntleHRlbmQ6Yyxjb21wbGV0ZTpoLGtleXM6cCx2YWx1ZXM6ZCxzbGljZTp2LHNwbGljZTptLG1lcmdlOmcsaXRlcmF0ZTp5fSxmbjp7JHVuZGVmaW5lZDpiLCRkZWZpbmVkOncsJGlzTnVsbDpFLCRpc05vdE51bGw6UywkaXNTYW1lOngsJGlzTm90U2FtZTpULCRzZWxmOk4sJGNvbnN0OkMsJGZhbHNlOmssJHRydWU6TCwkbnVsbDpBLCR1bmRlZjpPLGdldHRlcjpNLG51bGxHZXR0ZXI6Xyx3cmFwcGVyOkQsbGF6eUluaXQ6UCxsYXp5SW5pdEFuZFJ1bjpILHJ1bk9uY2U6Qn0sYXJyYXk6YyhtdCx5dCksc3RyaW5nOlN0LG51bWJlcjpOdCxib29sOntpbnZlcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWV9fSxqc29uOntwYXJzZTp0eXBlb2YgSlNPTiE9InVuZGVmaW5lZCI/SlNPTi5wYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gU3QudG9PYmplY3QoZSwhMCl9fX0pO3JldHVybiBwdCgiYmFzaXMuZGV2IikuZXh0ZW5kKGopLHouYXV0b2xvYWQmJnouYXV0b2xvYWQuZm9yRWFjaChmdW5jdGlvbihlKXtkdChlKX0pLE90fSkodGhpcyl9KS5jYWxsKHRoaXMp",
                "body": "KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBlPXsiMC5qcyI6ImxpYnJhcnkiLCIxLmpzIjoiYmFzaXMudWkiLCIyLmpzIjoiYmFzaXMubDEwbiIsIjMuanMiOiJiYXNpcy5ldmVudCIsIjQuanMiOiJiYXNpcy5kYXRhIiwiNS5qcyI6ImJhc2lzLmRvbS53cmFwcGVyIiwiNi5qcyI6ImJhc2lzLnRlbXBsYXRlIiwiNy5qcyI6ImJhc2lzLnRlbXBsYXRlLmh0bWwiLCI4LmpzIjoiYmFzaXMuZG9tLmV2ZW50IiwiOS5qcyI6ImJhc2lzLnRlbXBsYXRlLmh0bWxmZ2VuIiwiYS5qcyI6ImJhc2lzLmRyYWdkcm9wIiwiYi5qcyI6ImJhc2lzLmRvbS5jb21wdXRlZFN0eWxlIiwiYy5qcyI6ImJhc2lzLmxheW91dCIsImQuanMiOiJiYXNpcy5kYXRhLmRhdGFzZXQiLCJlLmpzIjoiYmFzaXMuZGF0YS52YWx1ZSIsImYuanMiOiJiYXNpcy5kYXRhLmluZGV4IiwiZy5qcyI6ImJhc2lzLmRhdGEub2JqZWN0IiwiaC5qcyI6ImJhc2lzLmVudGl0eSIsImkuanMiOiJiYXNpcy5uZXQuanNvbnAiLCJqLmpzIjoiYmFzaXMubmV0Iiwiay5qcyI6ImJhc2lzLm5ldC5zZXJ2aWNlIiwibC5qcyI6ImJhc2lzLm5ldC5hamF4IiwibS5qcyI6ImJhc2lzLnVhIiwibi5qcyI6ImJhc2lzLm5ldC5hY3Rpb24iLCJvLmpzIjoiYmFzaXMucm91dGVyIiwicC5qcyI6ImJhc2lzLmFwcCJ9LHQsbj17ImQuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gayhlLHQpe3ZhciBuPXt9LHI7ZSYmZS5sZW5ndGgmJihyPW4uaW5zZXJ0ZWQ9ZSksdCYmdC5sZW5ndGgmJihyPW4uZGVsZXRlZD10KTtpZihyKXJldHVybiBufWZ1bmN0aW9uIEwoZSx0KXtyZXR1cm4gZnVuY3Rpb24gcih0KXtyZXR1cm4gdD90Ll9fZXh0ZW5kX18/dDoodHlwZW9mIHQhPSJzdHJpbmciJiYhQXJyYXkuaXNBcnJheSh0KSYmKHQ9bnVsbCksYyhuLmV2ZW50LmNyZWF0ZUhhbmRsZXIodCxlKSx7X19leHRlbmRfXzpyfSkpOm51bGx9KHQpfWZ1bmN0aW9uIEEoZSx0LG4scil7cmV0dXJuIG5ldyBTKGMoe2tleUdldHRlcjp0LGl0ZW1DbGFzczpuLGNyZWF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVMucHJvdG90eXBlLmNyZWF0ZS5jYWxsKHRoaXMsZSx0KTtyZXR1cm4gbi5ydWxlVmFsdWU9ZSxuLnNldERhdGFzZXQobmV3IHIoe3J1bGVWYWx1ZTplfSkpLG59fSxlKSl9ZnVuY3Rpb24gVShlLHQpe2lmKCFlLmxlbmd0aClyZXR1cm4gMDt2YXIgbj10LnZhbHVlLHI9dC5vYmplY3QuYmFzaXNPYmplY3RJZCxpLHMsbyx1LGE9MCxmPWUubGVuZ3RoLTE7ZG97bz1hK2Y+PjEsdT1lW29dLGk9dS52YWx1ZTtpZihuPGkpZj1vLTE7ZWxzZSBpZihuPmkpYT1vKzE7ZWxzZXtzPXUub2JqZWN0LmJhc2lzT2JqZWN0SWQ7aWYocjxzKWY9by0xO2Vsc2V7aWYoIShyPnMpKXJldHVybiBvO2E9bysxfX19d2hpbGUoYTw9Zik7cmV0dXJuIG8rKGk9PW4/czxyOmk8bil9ZnVuY3Rpb24gVyhlLHQpe3JldHVybisoZS52YWx1ZT50LnZhbHVlKXx8LShlLnZhbHVlPHQudmFsdWUpfHxlLm9iamVjdC5iYXNpc09iamVjdElkLXQub2JqZWN0LmJhc2lzT2JqZWN0SWR9ZnVuY3Rpb24gWihlLHQsbil7dmFyIHI9ZS5zb3VyY2VNYXBfW3QuYmFzaXNPYmplY3RJZF07aWYociYmci52aXNpdGVkIT09bil7Zm9yKHZhciBpPXI7aT1pLnJlZjspaWYoaS5vYmplY3Q9PT1lLnNvdXJjZSlyZXR1cm4hMDtyLnZpc2l0ZWQ9bjtmb3IodmFyIGk9cjtpPWkucmVmOylpZihaKGUsaS5vYmplY3Qsbnx8e30pKXJldHVybiEwfX1mdW5jdGlvbiBldChlLHQsbil7dmFyIHI9ZS5zb3VyY2VNYXBfLGk9ZS5tZW1iZXJzXyxzPXkodCksbz1bXTtmb3IodmFyIHU9MDt1PHMubGVuZ3RoO3UrKyl7dmFyIGE9c1t1XSxmPWEuYmFzaXNPYmplY3RJZDtmfHwobj1hLnJlZixhPWEub2JqZWN0LGY9YS5iYXNpc09iamVjdElkKTt2YXIgbD1yW2ZdO2lmKGwpbC5yZWY9e29iamVjdDpuLHJlZjpsLnJlZn07ZWxzZXtsPXJbZl09e3NvdXJjZTphLHJlZjp7b2JqZWN0Om4scmVmOm51bGx9LHZpc2l0ZWQ6bnVsbCx2YWx1ZTpudWxsfTtpZihhIGluc3RhbmNlb2YgRSl7dmFyIGM9ZS5ydWxlKGEpfHxudWxsO2lmKGMgaW5zdGFuY2VvZiBFfHxjIGluc3RhbmNlb2YgeClsLnZhbHVlPWMscy5wdXNoKHtvYmplY3Q6YyxyZWY6YX0pO2lbZl09bCxvLnB1c2goYSksZS5ydWxlRXZlbnRzJiZhLmFkZEhhbmRsZXIoZS5ydWxlRXZlbnRzLGUpfWVsc2V7YS5hZGRIYW5kbGVyKFksZSk7Zm9yKHZhciBoPTAscD1hLmdldEl0ZW1zKCk7aDxwLmxlbmd0aDtoKyspcy5wdXNoKHtvYmplY3Q6cFtoXSxyZWY6YX0pfX19cmV0dXJuIG99ZnVuY3Rpb24gdHQoZSx0LG4pe3ZhciByPWUuc291cmNlTWFwXyxpPWUubWVtYmVyc18scz15KHQpLG89W107Zm9yKHZhciB1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBhPXNbdV0sZj1hLmJhc2lzT2JqZWN0SWQ7Znx8KG49YS5yZWYsYT1hLm9iamVjdCxmPWEuYmFzaXNPYmplY3RJZCk7dmFyIGw9cltmXSxjPWwudmFsdWU7Zm9yKHZhciBoPWwscD1sO2g9aC5yZWY7KXtpZihoLm9iamVjdD09PW4pe3AucmVmPWgucmVmO2JyZWFrfXA9aH1pZighbC5yZWYpe2lmKGEgaW5zdGFuY2VvZiBFKWRlbGV0ZSBpW2ZdLG8ucHVzaChhKSxlLnJ1bGVFdmVudHMmJmEucmVtb3ZlSGFuZGxlcihlLnJ1bGVFdmVudHMsZSksYyYmcy5wdXNoKHtvYmplY3Q6YyxyZWY6YX0pO2Vsc2V7YS5yZW1vdmVIYW5kbGVyKFksZSk7Zm9yKHZhciBkPTAsdj1hLmdldEl0ZW1zKCk7ZDx2Lmxlbmd0aDtkKyspcy5wdXNoKHtvYmplY3Q6dltkXSxyZWY6YX0pfWRlbGV0ZSByW2ZdfWVsc2UgYyYmIVooZSxhKSYmKGwudmFsdWU9bnVsbCxzLnB1c2goe29iamVjdDpjLHJlZjphfSkpfXJldHVybiBvfW4ucmVxdWlyZSgiLi8zLmpzIiksbi5yZXF1aXJlKCIuLzQuanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLkNsYXNzLGw9Zi5vbmVGdW5jdGlvblByb3BlcnR5LGM9bi5vYmplY3QuZXh0ZW5kLGg9bi5vYmplY3QudmFsdWVzLHA9bi5nZXR0ZXIsZD1uLmZuLiRzZWxmLHY9bi5mbi4kdHJ1ZSxtPW4uZm4uJGZhbHNlLGc9bi5mbi4kdW5kZWYseT1uLmFycmF5LmZyb20sYj1uLmV2ZW50LmNyZWF0ZSx3PW4uZGF0YS5TVUJTQ1JJUFRJT04sRT1uLmRhdGEuT2JqZWN0LFM9bi5kYXRhLktleU9iamVjdE1hcCx4PW4uZGF0YS5SZWFkT25seURhdGFzZXQsVD1uLmRhdGEuRGF0YXNldCxOPW4uZGF0YS5EYXRhc2V0V3JhcHBlcixDPVQuc2V0QWNjdW11bGF0ZVN0YXRlO3cuYWRkKCJTT1VSQ0UiLHtzb3VyY2VDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dCYmdy51bmxpbmsoInNvdXJjZSIsZSx0KSxlLnNvdXJjZSYmdy5saW5rKCJzb3VyY2UiLGUsZS5zb3VyY2UpfSxzb3VyY2VzQ2hhbmdlZDpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKG49dC5pbnNlcnRlZClmb3IodmFyIHI9MCxpO2k9bltyXTtyKyspdy5saW5rKCJzb3VyY2UiLGUsbltyXSk7aWYobj10LmRlbGV0ZWQpZm9yKHZhciByPTAsaTtpPW5bcl07cisrKXcudW5saW5rKCJzb3VyY2UiLGUsbltyXSl9fSxmdW5jdGlvbihlLHQpe3ZhciBuPXQuc291cmNlc3x8KHQuc291cmNlP1t0LnNvdXJjZV06W10pO2Zvcih2YXIgcj0wLGk7aT1uW3IrK107KWUoInNvdXJjZSIsdCxpKX0pLHcuYWRkUHJvcGVydHkoIm1pbnVlbmQiKSx3LmFkZFByb3BlcnR5KCJzdWJ0cmFoZW5kIik7dmFyIE89e2l0ZW1zQ2hhbmdlZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubWVtYmVyc18scj17fSxpLHM7aWYodC5pbnNlcnRlZClmb3IodmFyIG89MDtpPXQuaW5zZXJ0ZWRbb107bysrKXM9aS5iYXNpc09iamVjdElkLG5bc10/bltzXS5jb3VudCsrOm5bc109e2NvdW50OjEsb2JqZWN0Oml9LHJbc109bltzXTtpZih0LmRlbGV0ZWQpZm9yKHZhciBvPTA7aT10LmRlbGV0ZWRbb107bysrKXM9aS5iYXNpc09iamVjdElkLHJbc109bltzXSxuW3NdLmNvdW50LS07dGhpcy5hcHBseVJ1bGUocil9fSxNPWYoeCx7Y2xhc3NOYW1lOmErIi5NZXJnZSIsc3Vic2NyaWJlVG86dy5TT1VSQ0UsZW1pdF9zb3VyY2VzQ2hhbmdlZDpiKCJzb3VyY2VzQ2hhbmdlZCIsImRlbHRhIiksc291cmNlczpudWxsLHNvdXJjZVZhbHVlc186bnVsbCxzb3VyY2VzTWFwXzpudWxsLHNvdXJjZURlbHRhXzpudWxsLHJ1bGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4wfSxlbWl0X3J1bGVDaGFuZ2VkOmIoInJ1bGVDaGFuZ2VkIiwib2xkUnVsZSIpLGxpc3Rlbjp7c291cmNlOk8sc291cmNlVmFsdWU6e2Rlc3Ryb3k6ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVTb3VyY2UoZSl9fX0saW5pdDpmdW5jdGlvbigpe3gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLnNvdXJjZXM7dGhpcy5zb3VyY2VzPVtdLHRoaXMuc291cmNlc01hcF89e30sdGhpcy5zb3VyY2VWYWx1ZXNfPVtdLGUmJnRoaXMuc2V0U291cmNlcyhlKX0sc2V0UnVsZTpmdW5jdGlvbihlKXtlPXAoZXx8TS5VTklPTik7aWYodGhpcy5ydWxlIT09ZSl7dmFyIHQ9dGhpcy5ydWxlO3JldHVybiB0aGlzLnJ1bGU9ZSx0aGlzLmVtaXRfcnVsZUNoYW5nZWQodCksdGhpcy5hcHBseVJ1bGUoKX19LGFwcGx5UnVsZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1lbWJlcnNfLG49dGhpcy5ydWxlLHI9dGhpcy5zb3VyY2VzLmxlbmd0aCxpPVtdLHM9W10sbyx1LGE7ZXx8KGU9dCk7Zm9yKHZhciBmIGluIGUpbz10W2ZdLHU9ciYmby5jb3VudCYmbihvLmNvdW50LHIpLHUhPWYgaW4gdGhpcy5pdGVtc18mJih1P2kucHVzaChvLm9iamVjdCk6cy5wdXNoKG8ub2JqZWN0KSksby5jb3VudD09MCYmZGVsZXRlIHRbZl07cmV0dXJuKGE9ayhpLHMpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChhKSxhfSxhZGREYXRhc2V0XzpmdW5jdGlvbihlKXt0aGlzLnNvdXJjZXMucHVzaChlKSx0aGlzLmxpc3Rlbi5zb3VyY2UmJmUuYWRkSGFuZGxlcih0aGlzLmxpc3Rlbi5zb3VyY2UsdGhpcyk7dmFyIHQ9dGhpcy5tZW1iZXJzXztmb3IodmFyIG4gaW4gZS5pdGVtc18pdFtuXT90W25dLmNvdW50Kys6dFtuXT17Y291bnQ6MSxvYmplY3Q6ZS5pdGVtc19bbl19O3JldHVybiEwfSxyZW1vdmVEYXRhc2V0XzpmdW5jdGlvbihlKXtuLmFycmF5LnJlbW92ZSh0aGlzLnNvdXJjZXMsZSksdGhpcy5saXN0ZW4uc291cmNlJiZlLnJlbW92ZUhhbmRsZXIodGhpcy5saXN0ZW4uc291cmNlLHRoaXMpO3ZhciB0PXRoaXMubWVtYmVyc187Zm9yKHZhciByIGluIGUuaXRlbXNfKXRbcl0uY291bnQtLX0sdXBkYXRlRGF0YXNldF86ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vd25lcixyPXQuc291cmNlc01hcF8saT1uLmRhdGEucmVzb2x2ZURhdGFzZXQodGhpcyx0LnVwZGF0ZURhdGFzZXRfLGUsImFkYXB0ZXIiKSxzLG8sdTtpZih0aGlzLmRhdGFzZXQ9PT1pKXJldHVybjtpZihpKXt2YXIgYT0ocltpLmJhc2lzT2JqZWN0SWRdfHwwKSsxO3JbaS5iYXNpc09iamVjdElkXT1hLGE9PTEmJih0LmFkZERhdGFzZXRfKGkpLHM9W2ldKX1pZih0aGlzLmRhdGFzZXQpe3ZhciBhPShyW3RoaXMuZGF0YXNldC5iYXNpc09iamVjdElkXXx8MCktMTtyW3RoaXMuZGF0YXNldC5iYXNpc09iamVjdElkXT1hLGE9PTAmJih0LnJlbW92ZURhdGFzZXRfKHRoaXMuZGF0YXNldCksbz1bdGhpcy5kYXRhc2V0XSl9dGhpcy5kYXRhc2V0PWksdC5hcHBseVJ1bGUoKTtpZih1PWsocyxvKSl7dmFyIGY9dC5zb3VyY2VEZWx0YV87Zj8odS5pbnNlcnRlZCYmdS5pbnNlcnRlZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uYXJyYXkucmVtb3ZlKHRoaXMuZGVsZXRlZCxlKXx8bi5hcnJheS5hZGQodGhpcy5pbnNlcnRlZCxlKX0sZiksdS5kZWxldGVkJiZ1LmRlbGV0ZWQuZm9yRWFjaChmdW5jdGlvbihlKXtuLmFycmF5LnJlbW92ZSh0aGlzLmluc2VydGVkLGUpfHxuLmFycmF5LmFkZCh0aGlzLmRlbGV0ZWQsZSl9LGYpKTp0LmVtaXRfc291cmNlc0NoYW5nZWQodSl9cmV0dXJuIHV9LGdldFNvdXJjZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZVZhbHVlc18ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNvdXJjZX0pfSxhZGRTb3VyY2U6ZnVuY3Rpb24oZSl7aWYoIWV8fHR5cGVvZiBlIT0ib2JqZWN0IiYmdHlwZW9mIGUhPSJmdW5jdGlvbiIpcmV0dXJuO2lmKHRoaXMuaGFzU291cmNlKGUpKXJldHVybjt2YXIgdD17b3duZXI6dGhpcyxzb3VyY2U6ZSxhZGFwdGVyOm51bGwsZGF0YXNldDpudWxsfTt0aGlzLnNvdXJjZVZhbHVlc18ucHVzaCh0KSx0aGlzLnVwZGF0ZURhdGFzZXRfLmNhbGwodCxlKSx0aGlzLmxpc3Rlbi5zb3VyY2VWYWx1ZSYmZSBpbnN0YW5jZW9mIG4uZXZlbnQuRW1pdHRlciYmZS5hZGRIYW5kbGVyKHRoaXMubGlzdGVuLnNvdXJjZVZhbHVlLHRoaXMpfSxyZW1vdmVTb3VyY2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscjtyPXRoaXMuc291cmNlVmFsdWVzX1t0XTt0KyspaWYoci5zb3VyY2U9PT1lKXt0aGlzLmxpc3Rlbi5zb3VyY2VWYWx1ZSYmZSBpbnN0YW5jZW9mIG4uZXZlbnQuRW1pdHRlciYmZS5yZW1vdmVIYW5kbGVyKHRoaXMubGlzdGVuLnNvdXJjZVZhbHVlLHRoaXMpLHRoaXMudXBkYXRlRGF0YXNldF8uY2FsbChyLG51bGwpLHRoaXMuc291cmNlVmFsdWVzXy5zcGxpY2UodCwxKTtyZXR1cm59fSxoYXNTb3VyY2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbjtuPXRoaXMuc291cmNlVmFsdWVzX1t0XTt0KyspaWYobi5zb3VyY2U9PT1lKXJldHVybiEwO3JldHVybiExfSxzZXRTb3VyY2VzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlVmFsdWVzXy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc291cmNlfSkscj1bXSxpPVtdLHM7ZXx8KGU9W10pLHRoaXMuc291cmNlRGVsdGFfPXtpbnNlcnRlZDpyLGRlbGV0ZWQ6aX07Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciB1PWVbb107bi5hcnJheS5yZW1vdmUodCx1KXx8dGhpcy5hZGRTb3VyY2UodSl9cmV0dXJuIHQuZm9yRWFjaCh0aGlzLnJlbW92ZVNvdXJjZSx0aGlzKSx0aGlzLnNvdXJjZURlbHRhXz1udWxsLChzPWsocixpKSkmJnRoaXMuZW1pdF9zb3VyY2VzQ2hhbmdlZChzKSxzfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZXRTb3VyY2VzKCkseC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMuc291cmNlVmFsdWVzXz1udWxsLHRoaXMuc291cmNlc01hcF89bnVsbCx0aGlzLnNvdXJjZURlbHRhXz1udWxsLHRoaXMuc291cmNlcz1udWxsfX0pO00uVU5JT049TS5wcm90b3R5cGUucnVsZSxNLklOVEVSU0VDVElPTj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT10fSxNLkRJRkZFUkVOQ0U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09MX0sTS5NT1JFX1RIQU5fT05FX0lOQ0xVREU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09MXx8ZT4xfSxNLkFUX0xFQVNUX09ORV9FWENMVURFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PTF8fGU8dH07dmFyIF89ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaGFzKGUpfSxEPXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5zdWJ0cmFoZW5kKXJldHVybjt2YXIgbj1rKHQuaW5zZXJ0ZWQmJnQuaW5zZXJ0ZWQuZmlsdGVyKF8sdGhpcy5zdWJ0cmFoZW5kKSx0LmRlbGV0ZWQmJnQuZGVsZXRlZC5maWx0ZXIodGhpcy5oYXMsdGhpcykpO24mJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQobil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1pbnVlbmRBZGFwdGVyX3x8dGhpcy5zZXRNaW51ZW5kKG51bGwpfX0sUD17aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMubWludWVuZClyZXR1cm47dmFyIG49ayh0LmRlbGV0ZWQmJnQuZGVsZXRlZC5maWx0ZXIodGhpcy5taW51ZW5kLmhhcyx0aGlzLm1pbnVlbmQpLHQuaW5zZXJ0ZWQmJnQuaW5zZXJ0ZWQuZmlsdGVyKHRoaXMuaGFzLHRoaXMpKTtuJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKG4pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zdWJ0cmFoZW5kQWRhcHRlcl98fHRoaXMuc2V0U3VidHJhaGVuZChudWxsKX19LEg9Zih4LHtjbGFzc05hbWU6YSsiLlN1YnRyYWN0IixzdWJzY3JpYmVUbzp3Lk1JTlVFTkQrdy5TVUJUUkFIRU5ELG1pbnVlbmQ6bnVsbCxtaW51ZW5kQWRhcHRlcl86bnVsbCxlbWl0X21pbnVlbmRDaGFuZ2VkOmIoIm1pbnVlbmRDaGFuZ2VkIiwib2xkTWludWVuZCIpLHN1YnRyYWhlbmQ6bnVsbCxzdWJ0cmFoZW5kQWRhcHRlcl86bnVsbCxlbWl0X3N1YnRyYWhlbmRDaGFuZ2VkOmIoInN1YnRyYWhlbmRDaGFuZ2VkIiwib2xkU3VidHJhaGVuZCIpLGxpc3Rlbjp7bWludWVuZDpELHN1YnRyYWhlbmQ6UH0saW5pdDpmdW5jdGlvbigpe3gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLm1pbnVlbmQsdD10aGlzLnN1YnRyYWhlbmQ7dGhpcy5taW51ZW5kPW51bGwsdGhpcy5zdWJ0cmFoZW5kPW51bGwsKGV8fHQpJiZ0aGlzLnNldE9wZXJhbmRzKGUsdCl9LHNldE9wZXJhbmRzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaT0hMTtlPW4uZGF0YS5yZXNvbHZlRGF0YXNldCh0aGlzLHRoaXMuc2V0TWludWVuZCxlLCJtaW51ZW5kQWRhcHRlcl8iKSx0PW4uZGF0YS5yZXNvbHZlRGF0YXNldCh0aGlzLHRoaXMuc2V0U3VidHJhaGVuZCx0LCJzdWJ0cmFoZW5kQWRhcHRlcl8iKTt2YXIgcz10aGlzLm1pbnVlbmQsbz10aGlzLnN1YnRyYWhlbmQ7aWYocyE9PWUpe2k9ITAsdGhpcy5taW51ZW5kPWU7dmFyIHU9dGhpcy5saXN0ZW4ubWludWVuZDt1JiYocyYmcy5yZW1vdmVIYW5kbGVyKHUsdGhpcyksZSYmZS5hZGRIYW5kbGVyKHUsdGhpcykpLHRoaXMuZW1pdF9taW51ZW5kQ2hhbmdlZChzKX1pZihvIT09dCl7aT0hMCx0aGlzLnN1YnRyYWhlbmQ9dDt2YXIgdT10aGlzLmxpc3Rlbi5zdWJ0cmFoZW5kO3UmJihvJiZvLnJlbW92ZUhhbmRsZXIodSx0aGlzKSx0JiZ0LmFkZEhhbmRsZXIodSx0aGlzKSksdGhpcy5lbWl0X3N1YnRyYWhlbmRDaGFuZ2VkKG8pfWlmKCFpKXJldHVybiExO2lmKCFlfHwhdCl0aGlzLml0ZW1Db3VudCYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChyPXtkZWxldGVkOnRoaXMuZ2V0SXRlbXMoKX0pO2Vsc2V7dmFyIGE9W10sZj1bXTtmb3IodmFyIGwgaW4gdGhpcy5pdGVtc18pKCFlLml0ZW1zX1tsXXx8dC5pdGVtc19bbF0pJiZhLnB1c2godGhpcy5pdGVtc19bbF0pO2Zvcih2YXIgbCBpbiBlLml0ZW1zXykhdGhpcy5pdGVtc19bbF0mJiF0Lml0ZW1zX1tsXSYmZi5wdXNoKGUuaXRlbXNfW2xdKTsocj1rKGYsYSkpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHIpfXJldHVybiByfSxzZXRNaW51ZW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldE9wZXJhbmRzKGUsdGhpcy5zdWJ0cmFoZW5kQWRhcHRlcl8/dGhpcy5zdWJ0cmFoZW5kQWRhcHRlcl8uc291cmNlOnRoaXMuc3VidHJhaGVuZCl9LHNldFN1YnRyYWhlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0T3BlcmFuZHModGhpcy5taW51ZW5kQWRhcHRlcl8/dGhpcy5taW51ZW5kQWRhcHRlcl8uc291cmNlOnRoaXMubWludWVuZCxlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0T3BlcmFuZHMoKSx4LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSksQj1mKHgse2NsYXNzTmFtZTphKyIuU291cmNlRGF0YXNldCIsc3Vic2NyaWJlVG86dy5TT1VSQ0Usc291cmNlOm51bGwsZW1pdF9zb3VyY2VDaGFuZ2VkOmIoInNvdXJjZUNoYW5nZWQiLCJvbGRTb3VyY2UiKSxzb3VyY2VBZGFwdGVyXzpudWxsLHNvdXJjZU1hcF86bnVsbCxsaXN0ZW46e3NvdXJjZTp7ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc291cmNlQWRhcHRlcl98fHRoaXMuc2V0U291cmNlKCl9fX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc291cmNlTWFwXz17fSx4LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5zb3VyY2U7ZSYmKHRoaXMuc291cmNlPW51bGwsdGhpcy5zZXRTb3VyY2UoZSkpfSxzZXRTb3VyY2U6ZnVuY3Rpb24oZSl7ZT1uLmRhdGEucmVzb2x2ZURhdGFzZXQodGhpcyx0aGlzLnNldFNvdXJjZSxlLCJzb3VyY2VBZGFwdGVyXyIpO2lmKHRoaXMuc291cmNlIT09ZSl7dmFyIHQ9dGhpcy5zb3VyY2Uscj10aGlzLmxpc3Rlbi5zb3VyY2U7dGhpcy5zb3VyY2U9ZTtpZihyKXt2YXIgaT1yLml0ZW1zQ2hhbmdlZDtDKCEwKSx0JiYodC5yZW1vdmVIYW5kbGVyKHIsdGhpcyksaSYmaS5jYWxsKHRoaXMsdCx7ZGVsZXRlZDp0LmdldEl0ZW1zKCl9KSksZSYmKGUuYWRkSGFuZGxlcihyLHRoaXMpLGkmJmkuY2FsbCh0aGlzLGUse2luc2VydGVkOmUuZ2V0SXRlbXMoKX0pKSxDKCExKX10aGlzLmVtaXRfc291cmNlQ2hhbmdlZCh0KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNldFNvdXJjZSgpLHgucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLnNvdXJjZU1hcF89bnVsbH19KSxqPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFwP3RoaXMubWFwKGUpOm9iamVjdDtpZih0IGluc3RhbmNlb2YgRT09MHx8dGhpcy5maWx0ZXIodCkpdD1udWxsO3ZhciBuPXRoaXMuc291cmNlTWFwX1tlLmJhc2lzT2JqZWN0SWRdLHI9bi5tZW1iZXI7aWYociE9PXQpe3ZhciBpPXRoaXMubWVtYmVyc18scyxvLHU7bi5tZW1iZXI9dDtpZihyKXt2YXIgYT1yLmJhc2lzT2JqZWN0SWQ7dGhpcy5yZW1vdmVNZW1iZXJSZWYmJnRoaXMucmVtb3ZlTWVtYmVyUmVmKHIsZSksLS1pW2FdPT0wJiYoZGVsZXRlIGlbYV0sdT1bcl0pfWlmKHQpe3ZhciBmPXQuYmFzaXNPYmplY3RJZDt0aGlzLmFkZE1lbWJlclJlZiYmdGhpcy5hZGRNZW1iZXJSZWYodCxlKSxpW2ZdP2lbZl0rKzooaVtmXT0xLG89W3RdKX0ocz1rKG8sdSkpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHMpfX0sRj17aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zb3VyY2VNYXBfLHI9dGhpcy5tZW1iZXJzXyxpPVtdLHM9W10sbyx1LGEsZj10aGlzLnJ1bGVFdmVudHM7QyghMCk7aWYodC5pbnNlcnRlZClmb3IodmFyIGw9MDtvPXQuaW5zZXJ0ZWRbbF07bCsrKXthPXRoaXMubWFwP3RoaXMubWFwKG8pOm87aWYoYSBpbnN0YW5jZW9mIEU9PTB8fHRoaXMuZmlsdGVyKGEpKWE9bnVsbDtmJiZvLmFkZEhhbmRsZXIoZix0aGlzKSxuW28uYmFzaXNPYmplY3RJZF09e3NvdXJjZU9iamVjdDpvLG1lbWJlcjphfTtpZihhKXt2YXIgYz1hLmJhc2lzT2JqZWN0SWQ7cltjXT9yW2NdKys6KHJbY109MSxpLnB1c2goYSkpLHRoaXMuYWRkTWVtYmVyUmVmJiZ0aGlzLmFkZE1lbWJlclJlZihhLG8pfX1pZih0LmRlbGV0ZWQpZm9yKHZhciBsPTA7bz10LmRlbGV0ZWRbbF07bCsrKXt1PW8uYmFzaXNPYmplY3RJZCxhPW5bdV0ubWVtYmVyLGYmJm8ucmVtb3ZlSGFuZGxlcihmLHRoaXMpLGRlbGV0ZSBuW3VdO2lmKGEpe3ZhciBjPWEuYmFzaXNPYmplY3RJZDstLXJbY109PTAmJihkZWxldGUgcltjXSxzLnB1c2goYSkpLHRoaXMucmVtb3ZlTWVtYmVyUmVmJiZ0aGlzLnJlbW92ZU1lbWJlclJlZihhLG8pfX1DKCExKSwodD1rKGkscykpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHQpfX0sST1mKEIse2NsYXNzTmFtZTphKyIuTWFwRmlsdGVyIixtYXA6ZCxmaWx0ZXI6bSxydWxlOnAodiksZW1pdF9ydWxlQ2hhbmdlZDpiKCJydWxlQ2hhbmdlZCIsIm9sZFJ1bGUiKSxydWxlRXZlbnRzOkwoaiwidXBkYXRlIiksYWRkTWVtYmVyUmVmOm51bGwscmVtb3ZlTWVtYmVyUmVmOm51bGwsbGlzdGVuOntzb3VyY2U6Rn0sc2V0TWFwOmZ1bmN0aW9uKGUpe3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1kKTtpZih0aGlzLm1hcCE9PWUpcmV0dXJuIHRoaXMubWFwPWUsdGhpcy5hcHBseVJ1bGUoKX0sc2V0RmlsdGVyOmZ1bmN0aW9uKGUpe3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1tKTtpZih0aGlzLmZpbHRlciE9PWUpcmV0dXJuIHRoaXMuZmlsdGVyPWUsdGhpcy5hcHBseVJ1bGUoKX0sc2V0UnVsZTpmdW5jdGlvbihlKXtlPXAoZXx8dik7aWYodGhpcy5ydWxlIT09ZSl7dmFyIHQ9dGhpcy5ydWxlO3JldHVybiB0aGlzLnJ1bGU9ZSx0aGlzLmVtaXRfcnVsZUNoYW5nZWQodCksdGhpcy5hcHBseVJ1bGUoKX19LGFwcGx5UnVsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc291cmNlTWFwXyx0PXRoaXMubWVtYmVyc18sbixyLGkscyxvLHUsYT1bXSxmPVtdLGw7Zm9yKHZhciBjIGluIGUpe3U9ZVtjXSxvPXUuc291cmNlT2JqZWN0LG49dS5tZW1iZXIscj10aGlzLm1hcD90aGlzLm1hcChvKTpvO2lmKHIgaW5zdGFuY2VvZiBFPT0wfHx0aGlzLmZpbHRlcihyKSlyPW51bGw7biE9ciYmKHUubWVtYmVyPXIsbiYmKGk9bi5iYXNpc09iamVjdElkLHRoaXMucmVtb3ZlTWVtYmVyUmVmJiZ0aGlzLnJlbW92ZU1lbWJlclJlZihuLG8pLHRbaV0tLSksciYmKHM9ci5iYXNpc09iamVjdElkLHRoaXMuYWRkTWVtYmVyUmVmJiZ0aGlzLmFkZE1lbWJlclJlZihyLG8pLHMgaW4gdD90W3NdKys6KHRbc109MSxhLnB1c2gocikpKSl9Zm9yKGkgaW4gdGhpcy5pdGVtc18pdFtpXT09MCYmKGRlbGV0ZSB0W2ldLGYucHVzaCh0aGlzLml0ZW1zX1tpXSkpO3JldHVybihsPWsoYSxmKSkmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQobCksbH19KSxxPWYoSSx7Y2xhc3NOYW1lOmErIi5GaWx0ZXIiLGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5ydWxlKGUpfX0pLFI9ZihJLHtjbGFzc05hbWU6YSsiLlNwbGl0IixzdWJzZXRDbGFzczp4LHN1YnNldFdyYXBwZXJDbGFzczpOLGtleU1hcDpudWxsLG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5rZXlNYXAucmVzb2x2ZShlKX0scnVsZTpwKGcpLHNldFJ1bGU6ZnVuY3Rpb24oZSl7ZT1wKGV8fGcpO2lmKHRoaXMucnVsZSE9PWUpe3ZhciB0PXRoaXMucnVsZTtyZXR1cm4gdGhpcy5ydWxlPWUsdGhpcy5rZXlNYXAua2V5R2V0dGVyPWUsdGhpcy5lbWl0X3J1bGVDaGFuZ2VkKHQpLHRoaXMuYXBwbHlSdWxlKCl9fSxhZGRNZW1iZXJSZWY6ZnVuY3Rpb24oZSx0KXtlLmRhdGFzZXQuZW1pdF9pdGVtc0NoYW5nZWQoe2luc2VydGVkOlt0XX0pfSxyZW1vdmVNZW1iZXJSZWY6ZnVuY3Rpb24oZSx0KXtlLmRhdGFzZXQuZW1pdF9pdGVtc0NoYW5nZWQoe2RlbGV0ZWQ6W3RdfSl9LGluaXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5rZXlNYXB8fHRoaXMua2V5TWFwIGluc3RhbmNlb2YgUz09MCl0aGlzLmtleU1hcD1BKHRoaXMua2V5TWFwLHRoaXMucnVsZSx0aGlzLnN1YnNldFdyYXBwZXJDbGFzcyx0aGlzLnN1YnNldENsYXNzKTtJLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGdldFN1YnNldDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmtleU1hcC5nZXQoZSx0KX0sZGVzdHJveTpmdW5jdGlvbigpe0kucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLmtleU1hcC5kZXN0cm95KCksdGhpcy5rZXlNYXA9bnVsbH19KSx6PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlTWFwX1tlLmJhc2lzT2JqZWN0SWRdLG49dGhpcy5ydWxlKGUpLHI9dGhpcy5pbmRleF87aWYobiE9PXQudmFsdWUpe3ZhciBpPVUocix0KSxzPXJbaS0xXSxvPXJbaSsxXTt0LnZhbHVlPW47aWYocyYmKHMudmFsdWU+bnx8cy52YWx1ZT09biYmcy5vYmplY3QuYmFzaXNPYmplY3RJZD50Lm9iamVjdC5iYXNpc09iamVjdElkKXx8byYmKG8udmFsdWU8bnx8by52YWx1ZT09biYmby5vYmplY3QuYmFzaXNPYmplY3RJZDx0Lm9iamVjdC5iYXNpc09iamVjdElkKSlyLnNwbGljZShpLDEpLHIuc3BsaWNlKFUocix0KSwwLHQpLHRoaXMuYXBwbHlSdWxlKCl9fSxYPXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNvdXJjZU1hcF8scj10aGlzLmluZGV4XyxpPXRoaXMucnVsZUV2ZW50cyxzPSExLG89ITEsdSxhPXQuaW5zZXJ0ZWQsZj10LmRlbGV0ZWQ7aWYoZil7Zi5sZW5ndGg+ci5sZW5ndGgtZi5sZW5ndGgmJihzPSEwLG89Zi5sZW5ndGghPXIubGVuZ3RoLHIubGVuZ3RoPTApO2Zvcih2YXIgbD0wLGM7Yz1mW2xdO2wrKylzfHwodT1uW2MuYmFzaXNPYmplY3RJZF0sci5zcGxpY2UoVShyLHUpLDEpKSxkZWxldGUgbltjLmJhc2lzT2JqZWN0SWRdLGkmJmMucmVtb3ZlSGFuZGxlcihpLHRoaXMpO2lmKG8pZm9yKHZhciBoIGluIG4pdT1uW2hdLHIuc3BsaWNlKFUocix1KSwwLHUpfWlmKGEpe289IXIubGVuZ3RoO2Zvcih2YXIgbD0wLGM7Yz1hW2xdO2wrKyl1PXtvYmplY3Q6Yyx2YWx1ZTp0aGlzLnJ1bGUoYyl9LG5bYy5iYXNpc09iamVjdElkXT11LG8/ci5wdXNoKHUpOnIuc3BsaWNlKFUocix1KSwwLHUpLGkmJmMuYWRkSGFuZGxlcihpLHRoaXMpO28mJnIuc29ydChXKX10aGlzLmFwcGx5UnVsZSgpfX0sVj1mKEIse2NsYXNzTmFtZTphKyIuU2xpY2UiLHJ1bGU6cCh2KSxlbWl0X3J1bGVDaGFuZ2VkOmIoInJ1bGVDaGFuZ2VkIiwib2xkUnVsZSIsIm9sZE9yZGVyRGVzYyIpLHJ1bGVFdmVudHM6TCh6LCJ1cGRhdGUiKSxpbmRleF86bnVsbCxvcmRlckRlc2M6ITEsb2Zmc2V0OjAsbGltaXQ6MTAsbGlzdGVuOntzb3VyY2U6WH0sZW1pdF9yYW5nZUNoYW5nZWQ6YigicmFuZ2VDaGFuZ2VkIiwib2xkT2Zmc2V0Iiwib2xkTGltaXQiKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5pbmRleF89W10sQi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfSxzZXRSYW5nZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMub2Zmc2V0LHI9dGhpcy5saW1pdCxpPSExO2lmKG4hPWV8fHIhPXQpdGhpcy5vZmZzZXQ9ZSx0aGlzLmxpbWl0PXQsaT10aGlzLmFwcGx5UnVsZSgpLHRoaXMuZW1pdF9yYW5nZUNoYW5nZWQobixyKTtyZXR1cm4gaX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldFJhbmdlKGUsdGhpcy5saW1pdCl9LHNldExpbWl0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldFJhbmdlKHRoaXMub2Zmc2V0LGUpfSxzZXRSdWxlOmZ1bmN0aW9uKGUsdCl7ZT1wKGV8fHYpLHQ9ISF0O2lmKHRoaXMucnVsZSE9ZXx8dGhpcy5vcmRlckRlc2MhPXQpe3ZhciBuPXRoaXMucnVsZSxyPXRoaXMub3JkZXJEZXNjO2lmKHRoaXMucnVsZSE9ZSl7dmFyIGk9dGhpcy5pbmRleF87Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspaVtzXS52YWx1ZT1lKGlbc10ub2JqZWN0KTtpLnNvcnQoVyksdGhpcy5ydWxlPWV9cmV0dXJuIHRoaXMub3JkZXJEZXNjPXQsdGhpcy5ydWxlPWUsdGhpcy5lbWl0X3J1bGVDaGFuZ2VkKG4sciksdGhpcy5hcHBseVJ1bGUoKX19LGFwcGx5UnVsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0LHQ9ZSt0aGlzLmxpbWl0O3RoaXMub3JkZXJEZXNjJiYoZT10aGlzLmluZGV4Xy5sZW5ndGgtdCx0PWUrdGhpcy5saW1pdCk7dmFyIHI9bi5vYmplY3Quc2xpY2UodGhpcy5tZW1iZXJzXyksaT10aGlzLmluZGV4Xy5zbGljZShNYXRoLm1heCgwLGUpLE1hdGgubWF4KDAsdCkpLHM9W10sbztmb3IodmFyIHU9MCxhO2E9aVt1XTt1Kyspe3ZhciBmPWEub2JqZWN0LmJhc2lzT2JqZWN0SWQ7cltmXT9kZWxldGUgcltmXToocy5wdXNoKGEub2JqZWN0KSx0aGlzLm1lbWJlcnNfW2ZdPWEub2JqZWN0KX1mb3IodmFyIGYgaW4gcilkZWxldGUgdGhpcy5tZW1iZXJzX1tmXTtyZXR1cm4obz1rKHMsaChyKSkpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKG8pLG99LGRlc3Ryb3k6ZnVuY3Rpb24oKXtCLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5pbmRleF89bnVsbH19KSwkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlTWFwXyxuPXRoaXMubWVtYmVyc18scj1lLmJhc2lzT2JqZWN0SWQsaT10W3JdLmxpc3Qscz10W3JdLmxpc3Q9e30sbz10aGlzLnJ1bGUoZSksdSxhPVtdLGY9W10sbDtpZihBcnJheS5pc0FycmF5KG8pKWZvcih2YXIgYz0wO2M8by5sZW5ndGg7YysrKWw9dGhpcy5rZXlNYXAuZ2V0KG9bY10sITApLGwmJiFsLmhhcyhlKSYmKGg9bC5iYXNpc09iamVjdElkLHNbaF09bCxpW2hdfHwobC5kYXRhc2V0LmVtaXRfaXRlbXNDaGFuZ2VkKHtpbnNlcnRlZDpbZV19KSxuW2hdP25baF0rKzooYS5wdXNoKGwpLG5baF09MSkpKTtmb3IodmFyIGggaW4gaSlpZighc1toXSl7dmFyIGw9aVtoXTtsLmRhdGFzZXQuZW1pdF9pdGVtc0NoYW5nZWQoe2RlbGV0ZWQ6W2VdfSksLS1uW2hdfHwoZGVsZXRlIG5baF0sZi5wdXNoKGwpKX0odT1rKGEsZikpJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKHUpfSxKPXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNvdXJjZU1hcF8scj10aGlzLm1lbWJlcnNfLGk9dGhpcy5ydWxlRXZlbnRzLHMsbyx1LGE9W10sZj1bXTtDKCEwKTtpZihzPXQuaW5zZXJ0ZWQpZm9yKHZhciBsPTAsYztjPXNbbF07bCsrKXt2YXIgaD10aGlzLnJ1bGUoYykscD17b2JqZWN0OmMsbGlzdDp7fX07bltjLmJhc2lzT2JqZWN0SWRdPXA7aWYoQXJyYXkuaXNBcnJheShoKSlmb3IodmFyIGQ9MCx2PXt9O2Q8aC5sZW5ndGg7ZCsrKW89dGhpcy5rZXlNYXAuZ2V0KGhbZF0sITApLG8mJiF2W28uYmFzaXNPYmplY3RJZF0mJih1PW8uYmFzaXNPYmplY3RJZCx2W3VdPSEwLHAubGlzdFt1XT1vLG8uZGF0YXNldC5lbWl0X2l0ZW1zQ2hhbmdlZCh7aW5zZXJ0ZWQ6W2NdfSksclt1XT9yW3VdKys6KGEucHVzaChvKSxyW3VdPTEpKTtpJiZjLmFkZEhhbmRsZXIoaSx0aGlzKX1pZihzPXQuZGVsZXRlZClmb3IodmFyIGw9MCxjO2M9c1tsXTtsKyspe3ZhciBtPWMuYmFzaXNPYmplY3RJZCxoPW5bbV0ubGlzdDtkZWxldGUgblttXTtmb3IodmFyIHUgaW4gaClvPWhbdV0sby5kYXRhc2V0LmVtaXRfaXRlbXNDaGFuZ2VkKHtkZWxldGVkOltjXX0pLC0tclt1XXx8KGRlbGV0ZSByW3VdLGYucHVzaChvKSk7aSYmYy5yZW1vdmVIYW5kbGVyKGksdGhpcyl9QyghMSksKHQ9ayhhLGYpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZCh0KX19LEs9ZihCLHtjbGFzc05hbWU6YSsiLkNsb3VkIixzdWJzZXRDbGFzczp4LHN1YnNldFdyYXBwZXJDbGFzczpOLHJ1bGU6cChnKSxydWxlRXZlbnRzOkwoJCwidXBkYXRlIiksa2V5TWFwOm51bGwsbWFwOmQsbGlzdGVuOntzb3VyY2U6Sn0saW5pdDpmdW5jdGlvbigpe2lmKCF0aGlzLmtleU1hcHx8dGhpcy5rZXlNYXAgaW5zdGFuY2VvZiBTPT0wKXRoaXMua2V5TWFwPUEodGhpcy5rZXlNYXAsdGhpcy5ydWxlLHRoaXMuc3Vic2V0V3JhcHBlckNsYXNzLHRoaXMuc3Vic2V0Q2xhc3MpO0IucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0sZ2V0U3Vic2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMua2V5TWFwLmdldChlLHQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Qi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMua2V5TWFwLmRlc3Ryb3koKSx0aGlzLmtleU1hcD1udWxsfX0pLFE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zb3VyY2VNYXBfW2UuYmFzaXNPYmplY3RJZF0sbj10aGlzLnJ1bGUoZSl8fG51bGwscj10LnZhbHVlLGkscyxvO2lmKG49PT1yKXJldHVybjtpZihuIGluc3RhbmNlb2YgRXx8biBpbnN0YW5jZW9mIHgpaT1ldCh0aGlzLG4sZSk7ciYmKHM9dHQodGhpcyxyLGUpKSx0LnZhbHVlPW4sKG89ayhpLHMpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChvKX0sRz1mdW5jdGlvbihlLHQpe3ZhciBuPXQuaW5zZXJ0ZWQscj10LmRlbGV0ZWQsdDtuJiYobj1ldCh0aGlzLG4sZSkpLHImJihyPXR0KHRoaXMscixlKSksKHQ9ayhuLHIpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZCh0KX0sWT17aXRlbXNDaGFuZ2VkOkcsZGVzdHJveTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNvdXJjZU1hcF87Zm9yKHZhciBuPXRbZS5iYXNpc09iamVjdElkXTtuPW4ucmVmOyl0W24ub2JqZWN0LmJhc2lzT2JqZWN0SWRdLnZhbHVlPW51bGw7ZGVsZXRlIHRbZS5iYXNpc09iamVjdElkXX19LG50PUIuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuRXh0cmFjdCIscnVsZTpwKGcpLGVtaXRfcnVsZUNoYW5nZWQ6YigicnVsZUNoYW5nZWQiLCJvbGRSdWxlIikscnVsZUV2ZW50czpMKFEsInVwZGF0ZSIpLGxpc3Rlbjp7c291cmNlOntpdGVtc0NoYW5nZWQ6R319LHNldFJ1bGU6ZnVuY3Rpb24oZSl7ZT1wKGV8fGcpO2lmKHRoaXMucnVsZSE9PWUpe3ZhciB0PXRoaXMucnVsZTtyZXR1cm4gdGhpcy5ydWxlPWUsdGhpcy5lbWl0X3J1bGVDaGFuZ2VkKHQpLHRoaXMuYXBwbHlSdWxlKCl9fSxhcHBseVJ1bGU6ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9LG4scjtmb3IodmFyIGkgaW4gdGhpcy5zb3VyY2VNYXBfKXt2YXIgcz10aGlzLnNvdXJjZU1hcF9baV0sbz1zLnNvdXJjZTtpZihvIGluc3RhbmNlb2YgRSl7dmFyIHU9dGhpcy5ydWxlKG8pfHxudWxsLGE9cy52YWx1ZTtpZih1PT09YSljb250aW51ZTtpZih1IGluc3RhbmNlb2YgRXx8dSBpbnN0YW5jZW9mIHgpe3ZhciBmPWV0KHRoaXMsdSxvKTtmb3IodmFyIGw9MDtsPGYubGVuZ3RoO2wrKyl7dmFyIGM9ZltsXSxwPWMuYmFzaXNPYmplY3RJZDt0W3BdP2RlbGV0ZSB0W3BdOmVbcF09Y319aWYoYSl7dmFyIGQ9dHQodGhpcyxhLG8pO2Zvcih2YXIgbD0wO2w8ZC5sZW5ndGg7bCsrKXt2YXIgYz1kW2xdLHA9Yy5iYXNpc09iamVjdElkO2VbcF0/ZGVsZXRlIGVbcF06dFtwXT1jfX1zLnZhbHVlPXV9fXJldHVybihyPWsoaChlKSxoKHQpKSkmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQocikscn19KTt0LmV4cG9ydHM9e2dldERlbHRhOmssY3JlYXRlUnVsZUV2ZW50czpMLE1lcmdlOk0sU3VidHJhY3Q6SCxTb3VyY2VEYXRhc2V0OkIsTWFwRmlsdGVyOkksRmlsdGVyOnEsU3BsaXQ6UixFeHRyYWN0Om50LFNsaWNlOlYsQ2xvdWQ6S319LCIwLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe24ucmVxdWlyZSgiLi8xLmpzIiksbi5yZXF1aXJlKCIuL2EuanMiKSxuLnJlcXVpcmUoIi4vZC5qcyIpLG4ucmVxdWlyZSgiLi9lLmpzIiksbi5yZXF1aXJlKCIuL2YuanMiKSxuLnJlcXVpcmUoIi4vZy5qcyIpLG4ucmVxdWlyZSgiLi9oLmpzIiksbi5yZXF1aXJlKCIuL2kuanMiKSxuLnJlcXVpcmUoIi4vay5qcyIpLG4ucmVxdWlyZSgiLi9uLmpzIiksbi5yZXF1aXJlKCIuL28uanMiKSxuLnJlcXVpcmUoIi4vcC5qcyIpLHIuYmFzaXM9bn0sIjIuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gaChlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSljLmNhbGwoZSxuKSYmdC5wdXNoKG4pO3JldHVybiB0fWZ1bmN0aW9uIGIoZSl7aWYoZS5jaGFyQXQoMCk9PSIjIilyZXR1cm4gcFtwYXJzZUludChlLnN1YnN0cigxKSwzNildO3ZhciB0PWUubWF0Y2goL14oLis/KUAoLispJC8pO2lmKHQpcmV0dXJuIE4obi5wYXRoLnJlc29sdmUodFsyXSkpLnRva2VuKHRbMV0pfWZ1bmN0aW9uIHgoZSx0LG4scil7dmFyIGk9ZS5jdWx0dXJlVmFsdWVzW3RdO3I9cj9yKyIuIjoiIjtmb3IodmFyIHMgaW4gbilpZihjLmNhbGwobixzKSl7dmFyIG89citzLHU9bltzXTtpW29dPXUsdSYmKHR5cGVvZiB1PT0ib2JqZWN0Inx8QXJyYXkuaXNBcnJheSh1KSkmJngoZSx0LHUsbyl9fWZ1bmN0aW9uIE4oZSl7dmFyIHQ7aWYodHlwZW9mIGU9PSJzdHJpbmciKXt2YXIgcj1lLGk9bi5wYXRoLmV4dG5hbWUocik7aSE9Ii5sMTBuIiYmKHI9bi5wYXRoLmRpcm5hbWUocikrIi8iK24ucGF0aC5iYXNlbmFtZShyLGkpKyIubDEwbiIpLGU9bi5yZXNvdXJjZShyKX1yZXR1cm4gbi5yZXNvdXJjZS5pc1Jlc291cmNlKGUpJiYodD1FW2UudXJsXSksdHx8bmV3IFQoZSl9ZnVuY3Rpb24gQygpe3JldHVybiB3LnNsaWNlKDApfWZ1bmN0aW9uIFAoZSx0KXtyZXR1cm4gZSYmIUFbZV0mJihBW2VdPW5ldyBEKGUsdCkpLEFbZXx8TF19ZnVuY3Rpb24gSCgpe3JldHVybiBMfWZ1bmN0aW9uIEIoZSl7aWYoIWUpcmV0dXJuO2lmKEwhPWUpe2lmKGsuaW5kZXhPZihlKT09LTEpcmV0dXJuO0w9ZTtmb3IodmFyIHQ9MCxyO3I9d1t0XTt0Kyspci5zeW5jVmFsdWVzKCk7bi5Ub2tlbi5wcm90b3R5cGUuc2V0LmNhbGwoUCxlKX19ZnVuY3Rpb24gaigpe3JldHVybiBrLnNsaWNlKDApfWZ1bmN0aW9uIEYoZSl7dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1lLnRyaW0oKS5zcGxpdCgiICIpKTtpZighZS5sZW5ndGgpcmV0dXJuO3ZhciB0PXt9LHIsaTtPPXt9O2Zvcih2YXIgcz0wLG8sdTtvPWVbc107cysrKXI9by5zcGxpdCgiLyIpLHIubGVuZ3RoPjImJihyPXIuc2xpY2UoMCwyKSksdT1yWzBdLGl8fChpPXUpLHRbdV09UCh1KSxPW3VdPXI7Zm9yKHZhciB1IGluIE8pT1t1XT1uLmFycmF5LmZsYXR0ZW4oT1t1XS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE9bZV19KSkuY29uY2F0KGkpLmZpbHRlcihmdW5jdGlvbihlLHQsbil7cmV0dXJuIXR8fG4ubGFzdEluZGV4T2YoZSx0LTEpPT0tMX0pO2s9bi5vYmplY3Qua2V5cyh0KSxMIGluIHQ9PTAmJkIoaSl9ZnVuY3Rpb24gSShlLHQsbil7UC5hdHRhY2goZSx0KSxuJiZlLmNhbGwodCxMKX1uLnJlcXVpcmUoIi4vMy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4uQ2xhc3MsbD1uLmV2ZW50LkVtaXR0ZXIsYz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O24ucmVzb3VyY2UuZXh0ZW5zaW9uc1siLmwxMG4iXT1mdW5jdGlvbihlLHQpe3JldHVybiBOKHQpLnVwZGF0ZShuLnJlc291cmNlLmV4dGVuc2lvbnNbIi5qc29uIl0oZSx0KSl9O3ZhciBwPVtdLGQ9e30sdj17fSxtPW4uVG9rZW4ucHJvdG90eXBlLnNldCxnPWYobi5Ub2tlbix7Y2xhc3NOYW1lOmErIi5Db21wdXRlVG9rZW4iLGluaXQ6ZnVuY3Rpb24oZSx0KXt0LmNvbXB1dGVUb2tlbnNbdGhpcy5iYXNpc09iamVjdElkXT10aGlzLHRoaXMudG9rZW49dCxuLlRva2VuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyxlKX0sZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50b2tlbi50eXBlPT0icGx1cmFsIj9BW0xdLnBsdXJhbCh0aGlzLnZhbHVlKTp0aGlzLnZhbHVlO3JldHVybiB0aGlzLnRva2VuLmRpY3Rpb25hcnkuZ2V0VmFsdWUodGhpcy50b2tlbi5uYW1lKyIuIitlKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnRva2VuLmNvbXB1dGVUb2tlbnNbdGhpcy5iYXNpc09iamVjdElkXSx0aGlzLnRva2VuPW51bGwsbi5Ub2tlbi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pLHk9ZihuLlRva2VuLHtjbGFzc05hbWU6YSsiLlRva2VuIixpbmRleDpOYU4sZGljdGlvbmFyeTpudWxsLG5hbWU6IiIsdHlwZToiZGVmYXVsdCIsY29tcHV0ZVRva2VuczpudWxsLGluaXQ6ZnVuY3Rpb24oZSx0LHIsaSl7bi5Ub2tlbi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsaSksdGhpcy5pbmRleD1wLnB1c2godGhpcyktMSx0aGlzLm5hbWU9dCx0aGlzLmRpY3Rpb25hcnk9ZSx0aGlzLmNvbXB1dGVUb2tlbnM9e30scj90aGlzLnNldFR5cGUocik6dGhpcy5hcHBseSgpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgpfSxhcHBseTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmNvbXB1dGVUb2tlbnMpdGhpcy5jb21wdXRlVG9rZW5zW2VdLmFwcGx5KCk7bi5Ub2tlbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0aGlzKX0sc2V0OmZ1bmN0aW9uKCl7fSxzZXRUeXBlOmZ1bmN0aW9uKGUpe2UhPSJwbHVyYWwiJiYoIW4ubDEwbi5lbmFibGVNYXJrdXB8fGUhPSJtYXJrdXAiKSYmKGU9ImRlZmF1bHQiKSx0aGlzLnR5cGUhPWUmJih0aGlzLnR5cGU9ZSx0aGlzLmFwcGx5KCkpfSxjb21wdXRlOmZ1bmN0aW9uKGUsdCl7YXJndW1lbnRzLmxlbmd0aD09MSYmKHQ9ZSxlPSIiKSx0PW4uZ2V0dGVyKHQpLGU9U3RyaW5nKGUpLnRyaW0oKS5zcGxpdCgvXHMrfFxzKixccyovKS5zb3J0KCk7dmFyIHI9dGhpcy5iYXNpc09iamVjdElkLGk9ZS5jb25jYXQocix0W24uZ2V0dGVyLklEXSkuam9pbigiXyIpO2lmKGRbaV0pcmV0dXJuIGRbaV07dmFyIHM9dGhpcyxvPXt9LHU9ZnVuY3Rpb24oZSl7bS5jYWxsKHRoaXMsdChlKSl9LGE9e2Rlc3Ryb3k6ZnVuY3Rpb24oZSl7ZGVsZXRlIG9bZS5iYXNpc09iamVjdElkXSx0aGlzLmRlc3Ryb3koKX19O2Zvcih2YXIgZj0wLGM7Yz1lW2ZdO2YrKyljIT0iZGVzdHJveSImJihhW2NdPXUpO3JldHVybiBkW2ldPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsPT0wKXRocm93IDM7dmFyIG49ZS5iYXNpc09iamVjdElkLHI9b1tuXTtyZXR1cm4gcnx8KHI9b1tuXT1uZXcgZyh0KGUpLHMpLGUuYWRkSGFuZGxlcihhLHIpKSxyfX0sY29tcHV0ZVRva2VuOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZyhlLHRoaXMpfSx0b2tlbjpmdW5jdGlvbihlKXt0aGlzLnR5cGU9PSJwbHVyYWwiJiYoZT1BW0xdLnBsdXJhbChlKSk7aWYodGhpcy5kaWN0aW9uYXJ5KXJldHVybiB0aGlzLmRpY3Rpb25hcnkudG9rZW4odGhpcy5uYW1lKyIuIitlKX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmNvbXB1dGVUb2tlbnMpdGhpcy5jb21wdXRlVG9rZW5zW2VdLmRlc3Ryb3koKTt0aGlzLmNvbXB1dGVUb2tlbnM9bnVsbCx0aGlzLnZhbHVlPW51bGwsbi5Ub2tlbi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pLHc9W10sRT17fSxTPW5ldyBuLlRva2VuLFQ9ZihudWxsLHtjbGFzc05hbWU6YSsiLkRpY3Rpb25hcnkiLHRva2VuczpudWxsLHR5cGVzOm51bGwsY3VsdHVyZVZhbHVlczpudWxsLGluZGV4Ok5hTixyZXNvdXJjZTpudWxsLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy50b2tlbnM9e30sdGhpcy50eXBlcz17fSx0aGlzLmN1bHR1cmVWYWx1ZXM9e30sdGhpcy5pbmRleD13LnB1c2godGhpcyktMTtpZihuLnJlc291cmNlLmlzUmVzb3VyY2UoZSkpe3ZhciB0PWU7dGhpcy5yZXNvdXJjZT10LEVbdC51cmxdfHwoRVt0LnVybF09dGhpcyxTLnNldCh0LnVybCkpLHQuZmV0Y2goKX1lbHNlIHRoaXMudXBkYXRlKGV8fHt9KX0sdXBkYXRlOmZ1bmN0aW9uKGUpe2V8fChlPXt9KSx0aGlzLmN1bHR1cmVWYWx1ZXM9e307Zm9yKHZhciB0IGluIGUpL15ffF8kLy50ZXN0KHQpfHwodGhpcy5jdWx0dXJlVmFsdWVzW3RdPXt9LHgodGhpcyx0LGVbdF0pKTt0aGlzLnR5cGVzPWUuX21ldGEmJmUuX21ldGEudHlwZXx8e307Zm9yKHZhciBuIGluIHRoaXMudG9rZW5zKXRoaXMudG9rZW5zW25dLnNldFR5cGUodGhpcy50eXBlc1tuXSk7cmV0dXJuIHRoaXMuc3luY1ZhbHVlcygpLHRoaXN9LHN5bmNWYWx1ZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy50b2tlbnMpbS5jYWxsKHRoaXMudG9rZW5zW2VdLHRoaXMuZ2V0VmFsdWUoZSkpfSxnZXRWYWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1PW0xdfHxbXTtmb3IodmFyIG49MCxyO3I9dFtuXTtuKyspe3ZhciBpPXRoaXMuY3VsdHVyZVZhbHVlc1tyXTtpZihpJiZlIGluIGkpcmV0dXJuIGlbZV19fSxnZXRDdWx0dXJlVmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jdWx0dXJlVmFsdWVzW2VdJiZ0aGlzLmN1bHR1cmVWYWx1ZXNbZV1bdF19LHRva2VuOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudG9rZW5zW2VdO3JldHVybiB0fHwodD10aGlzLnRva2Vuc1tlXT1uZXcgeSh0aGlzLGUsdGhpcy50eXBlc1tlXSx0aGlzLmdldFZhbHVlKGUpKSksdH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudG9rZW5zPW51bGwsdGhpcy5jdWx0dXJlVmFsdWVzPW51bGwsbi5hcnJheS5yZW1vdmUodyx0aGlzKSx0aGlzLnJlc291cmNlJiYoZGVsZXRlIEVbdGhpcy5yZXNvdXJjZS51cmxdLHRoaXMucmVzb3VyY2U9bnVsbCl9fSksaz1bXSxMPW51bGwsQT17fSxPPXt9LE09e30sXz1bWzEsZnVuY3Rpb24oZSl7cmV0dXJuIDB9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MXx8ZSUxMD09MT8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MD8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZT09MHx8ZT09MT8wOjF9XSxbMixmdW5jdGlvbihlKXtyZXR1cm4gZSUxMCE9MXx8ZSUxMDA9PTExPzE6MH1dLFszLGZ1bmN0aW9uKGUpe3JldHVybiBlPT0xPzA6ZSUxMD49MiYmZSUxMDw9NCYmKGUlMTAwPDEwfHxlJTEwMD49MjApPzE6Mn1dLFszLGZ1bmN0aW9uKGUpe3JldHVybiBlJTEwPT0xJiZlJTEwMCE9MTE/MDplIT0wPzE6Mn1dLFszLGZ1bmN0aW9uKGUpe3JldHVybiBlJTEwPT0xJiZlJTEwMCE9MTE/MDplJTEwPj0yJiYoZSUxMDA8MTB8fGUlMTAwPj0yMCk/MToyfV0sWzMsZnVuY3Rpb24oZSl7cmV0dXJuIGUlMTA9PTEmJmUlMTAwIT0xMT8wOmUlMTA+PTImJmUlMTA8PTQmJihlJTEwMDwxMHx8ZSUxMDA+PTIwKT8xOjJ9XSxbMyxmdW5jdGlvbihlKXtyZXR1cm4gZT09MD8wOmU9PTE/MToyfV0sWzMsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTE/MDplPT0wfHxlJTEwMD4wJiZlJTEwMDwyMD8xOjJ9XSxbMyxmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOmUlMTA+PTImJmUlMTA8PTQmJihlJTEwMDwxMHx8ZSUxMDA+PTIwKT8xOjJ9XSxbMyxmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOmU+PTImJmU8PTQ/MToyfV0sWzQsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTE/MDplPT0yPzE6ZSE9OCYmZSE9MTE/MjozfV0sWzQsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTE/MDplPT0yPzE6ZT09Mz8yOjN9XSxbNCxmdW5jdGlvbihlKXtyZXR1cm4gZSUxMDA9PTE/MTplJTEwMD09Mj8yOmUlMTAwPT0zfHxlJTEwMD09ND8zOjB9XSxbNCxmdW5jdGlvbihlKXtyZXR1cm4gZT09MT8wOmU9PTB8fGUlMTAwPjEmJmUlMTAwPDExPzE6ZSUxMDA+MTAmJmUlMTAwPDIwPzI6M31dLFs0LGZ1bmN0aW9uKGUpe3JldHVybiBlPT0xfHxlPT0xMT8wOmU9PTJ8fGU9PTEyPzE6ZT4yJiZlPDIwPzI6M31dLFs1LGZ1bmN0aW9uKGUpe3JldHVybiBlPT0xPzA6ZT09Mj8xOmU8Nz8yOmU8MTE/Mzo0fV0sWzYsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PTA/MDplPT0xPzE6ZT09Mj8yOmUlMTAwPj0zJiZlJTEwMDw9MTA/MzplJTEwMD49MTE/NDo1fV1dO1siYXkgYm8gY2dnIGR6IGZhIGlkIGphIGpibyBrYSBrayBrbSBrbyBreSBsbyBtcyBteSBzYWggc3UgdGggdHQgdWcgdmkgd28gemgiLCJtayIsImp2IiwiYWYgYW4gYXN0IGF6IGJnIGJuIGJyeCBjYSBkYSBkZSBkb2kgZWwgZW4gZW8gZXMgZXMtQVIgZXQgZXUgZmYgZmkgZm8gZnVyIGZ5IGdsIGd1IGhhIGhlIGhpIGhuZSBodSBoeSBpYSBpdCBrbiBrdSBsYiBtYWkgbWwgbW4gbW5pIG1yIG5haCBuYXAgbmIgbmUgbmwgbm4gbm8gbnNvIG9yIHBhIHBhcCBwbXMgcHMgcHQgcm0gcncgc2F0IHNjbyBzZCBzZSBzaSBzbyBzb24gc3Egc3Ygc3cgdGEgdGUgdGsgdXIgeW8iLCJhY2ggYWsgYW0gYXJuIGJyIGZpbCBmciBndW4gbG4gbWZlIG1nIG1pIG9jIHB0LUJSIHRnIHRpIHRyIHV6IHdhIHpoIiwiaXMiLCJjc2IiLCJsdiIsImx0IiwiYmUgYnMgaHIgcnUgc3IgdWsiLCJtbmsiLCJybyIsInBsIiwiY3Mgc2siLCJjeSIsImt3Iiwic2wiLCJtdCIsImdkIiwiZ2EiLCJhciJdLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihlKXtNW2VdPXRoaXN9LF9bdF0pfSk7dmFyIEQ9bi5DbGFzcyhudWxsLHtjbGFzc05hbWU6YSsiLkN1bHR1cmUiLG5hbWU6IiIscGx1cmFsRm9ybTpudWxsLGluaXQ6ZnVuY3Rpb24oZSx0KXt0aGlzLm5hbWU9ZSxBW2VdfHwoQVtlXT10aGlzKSx0aGlzLnBsdXJhbEZvcm09dHx8TVtlXXx8TVtlLnNwbGl0KCItIilbMF1dfHxfWzBdfSxwbHVyYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcih0aGlzLnBsdXJhbEZvcm1bMV0oTWF0aC5hYnMocGFyc2VJbnQoZSwxMCkpKSl9fSk7bi5vYmplY3QuZXh0ZW5kKFAsbmV3IG4uVG9rZW4pLFAuc2V0PUIsRigiZW4tVVMiKSxCKCJlbi1VUyIpLHQuZXhwb3J0cz17Q29tcHV0ZVRva2VuOmcsVG9rZW46eSx0b2tlbjpiLERpY3Rpb25hcnk6VCxkaWN0aW9uYXJ5Ok4sZ2V0RGljdGlvbmFyaWVzOkMsYWRkQ3JlYXRlRGljdGlvbmFyeUhhbmRsZXI6Uy5hdHRhY2guYmluZChTKSxyZW1vdmVDcmVhdGVEaWN0aW9uYXJ5SGFuZGxlcjpTLmRldGFjaC5iaW5kKFMpLEN1bHR1cmU6RCxjdWx0dXJlOlAsZ2V0Q3VsdHVyZTpILHNldEN1bHR1cmU6QixnZXRDdWx0dXJlTGlzdDpqLHNldEN1bHR1cmVMaXN0OkYscGx1cmFsRm9ybXM6XyxvbkN1bHR1cmVDaGFuZ2U6SX19LCIzLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIHYoZSl7dmFyIHQ9cFtlXTtyZXR1cm4gdHx8KHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG4scjt3aGlsZSh0PXQuaGFuZGxlcil7cj10LmNhbGxiYWNrc1tlXTtpZih0eXBlb2Ygcj09ImZ1bmN0aW9uIil7aWYoIW4pe249W3RoaXNdO2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbi5wdXNoKGFyZ3VtZW50c1tpXSl9ci5hcHBseSh0LmNvbnRleHR8fHRoaXMsbil9cj10LmNhbGxiYWNrc1siKiJdO2lmKHR5cGVvZiByPT0iZnVuY3Rpb24iKXtpZighbil7bj1bdGhpc107Zm9yKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluLnB1c2goYXJndW1lbnRzW2ldKX1yLmNhbGwodC5jb250ZXh0fHx0aGlzLHtzZW5kZXI6dGhpcyx0eXBlOmUsYXJnczpufSl9fX0scFtlXT10KSx0fWZ1bmN0aW9uIG0oZSx0KXt2YXIgbj17ZXZlbnRzOltdfTtpZihlKXtlPVN0cmluZyhlKS50cmltKCkuc3BsaXQoL1xzK3xccyosXHMqLykuc29ydCgpLG49e2V2ZW50czplfTtmb3IodmFyIHI9MCxpO2k9ZVtyXTtyKyspaSE9ImRlc3Ryb3kiJiYobltpXT10KX1yZXR1cm4gbn12YXIgYT10aGlzLnBhdGgsZj1uLkNsYXNzLGw9bi5vYmplY3QuZXh0ZW5kLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLGg9e30scD17fSxkPWZ1bmN0aW9uKCl7fSxnPWYobnVsbCx7Y2xhc3NOYW1lOmErIi5FbWl0dGVyIixleHRlbmRDb25zdHJ1Y3Rvcl86ITAsaGFuZGxlcjpudWxsLGVtaXRfZGVzdHJveTp2KCJkZXN0cm95IiksbGlzdGVuOmYubmVzdGVkRXh0ZW5kUHJvcGVydHkoKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyJiYhdGhpcy5oYW5kbGVyLmNhbGxiYWNrcyYmKHRoaXMuaGFuZGxlcj17Y2FsbGJhY2tzOnRoaXMuaGFuZGxlcixjb250ZXh0OnRoaXMsaGFuZGxlcjpudWxsfSl9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXMsdGhpcy5oYW5kbGVyPXtjYWxsYmFja3M6ZSxjb250ZXh0OnQsaGFuZGxlcjp0aGlzLmhhbmRsZXJ9fSxyZW1vdmVIYW5kbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyO3Q9dHx8dGhpczt3aGlsZShyPW4sbj1uLmhhbmRsZXIpaWYobi5jYWxsYmFja3M9PT1lJiZuLmNvbnRleHQ9PT10KXtuLmNhbGxiYWNrcz1oLHIuaGFuZGxlcj1uLmhhbmRsZXI7cmV0dXJufX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVzdHJveT1kLHRoaXMuZW1pdF9kZXN0cm95KCksdGhpcy5oYW5kbGVyPW51bGx9fSk7dC5leHBvcnRzPXtjcmVhdGU6dixjcmVhdGVIYW5kbGVyOm0sZXZlbnRzOnAsRW1pdHRlcjpnfX0sIjQuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gVChlLHQpe3JldHVybiBmdW5jdGlvbigpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PXhbZV07aWYoIXQpe3ZhciBuPVtdLHI9e30saT0xO3Q9eFtlXT17YWN0aW9uczpuLGhhbmRsZXI6cn07d2hpbGUoZSl7aWYoZSYxKXt2YXIgcz13W2ldO24ucHVzaChzLmFjdGlvbik7Zm9yKHZhciBvIGluIHMuaGFuZGxlcilyW29dPXJbb10/VChyW29dLHMuaGFuZGxlcltvXSk6cy5oYW5kbGVyW29dfWk8PD0xLGU+Pj0xfX1yZXR1cm4gdH1mdW5jdGlvbiBDKGUsdCl7dmFyIG49Tih0KTtmb3IodmFyIHI9MCxpO2k9bi5hY3Rpb25zW3JdO3IrKylpKFMubGluayxlKTtlLmFkZEhhbmRsZXIobi5oYW5kbGVyKX1mdW5jdGlvbiBrKGUsdCl7dmFyIG49Tih0KTtmb3IodmFyIHI9MCxpO2k9bi5hY3Rpb25zW3IrK107KWkoUy51bmxpbmssZSk7ZS5yZW1vdmVIYW5kbGVyKG4uaGFuZGxlcil9ZnVuY3Rpb24gSShlLHQpe3doaWxlKHQmJnQhPT1lJiZ0IT09dC5kZWxlZ2F0ZSl0PXQuZGVsZWdhdGU7cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIHEoZSx0LG4pe3ZhciByPWUuZGVsZWdhdGU7ciYmKGUucm9vdD1yLnJvb3QsZS50YXJnZXQ9ci50YXJnZXQsZS5kYXRhPXIuZGF0YSxlLnN0YXRlPXIuc3RhdGUpO2lmKGUucm9vdCE9PXQpe3ZhciBpPWUubGlzdGVuLnJvb3Q7aSYmKHQmJnQhPT1lJiZ0LnJlbW92ZUhhbmRsZXIoaSxlKSxlLnJvb3QmJmUucm9vdCE9PWUmJmUucm9vdC5hZGRIYW5kbGVyKGksZSkpLGUuZW1pdF9yb290Q2hhbmdlZCh0KX1pZihlLnRhcmdldCE9PW4pe3ZhciBzPWUubGlzdGVuLnRhcmdldDtzJiYobiYmbiE9PWUmJm4ucmVtb3ZlSGFuZGxlcihzLGUpLGUudGFyZ2V0JiZlLnRhcmdldCE9PWUmJmUudGFyZ2V0LmFkZEhhbmRsZXIocyxlKSksZS5lbWl0X3RhcmdldENoYW5nZWQobil9dmFyIG89ZS5kZWxlZ2F0ZXNfO3doaWxlKG8pby5kZWxlZ2F0ZSYmcShvLmRlbGVnYXRlLHQsbiksbz1vLm5leHR9ZnVuY3Rpb24gWChlLHQpe3ZhciBuPXt9LHI7ZSYmZS5sZW5ndGgmJihyPW4uaW5zZXJ0ZWQ9ZSksdCYmdC5sZW5ndGgmJihyPW4uZGVsZXRlZD10KTtpZihyKXJldHVybiBufWZ1bmN0aW9uIFYoZSx0KXtpZighZXx8IWUuaXRlbUNvdW50KXtpZih0JiZ0Lml0ZW1Db3VudClyZXR1cm57aW5zZXJ0ZWQ6dC5nZXRJdGVtcygpfX1lbHNle2lmKCEhdCYmISF0Lml0ZW1Db3VudCl7dmFyIG49W10scj1bXTtmb3IodmFyIGkgaW4gZS5pdGVtc18pe3ZhciBzPWUuaXRlbXNfW2ldO3MuYmFzaXNPYmplY3RJZCBpbiB0Lml0ZW1zXz09MCYmci5wdXNoKHMpfWZvcih2YXIgaSBpbiB0Lml0ZW1zXyl7dmFyIHM9dC5pdGVtc19baV07cy5iYXNpc09iamVjdElkIGluIGUuaXRlbXNfPT0wJiZuLnB1c2gocyl9cmV0dXJuIFgobixyKX1pZihlLml0ZW1Db3VudClyZXR1cm57ZGVsZXRlZDplLmdldEl0ZW1zKCl9fX1mdW5jdGlvbiB0dChlLHQsbixyKXt2YXIgaT1lW3JdfHxudWxsLHM9bnVsbDtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiImJihuPW4uY2FsbChlLGUpKSxuJiYobiBpbnN0YW5jZW9mICQ/KHM9bmV3IFEoZSx0LG4sWiksbj1uLmRhdGFzZXQpOm4gaW5zdGFuY2VvZiBIPyhzPW5ldyBRKGUsdCxuLGV0KSxuPXR0KHMscy5wcm94eSxuLnZhbHVlLCJuZXh0IikpOm4uYmluZGluZ0JyaWRnZSYmKHM9bmV3IEcoZSx0LG4sWSksbj10dChzLHMucHJveHksbi52YWx1ZSwibmV4dCIpKSksbiBpbnN0YW5jZW9mIEo9PTAmJihuPW51bGwpLHImJmkhPT1zJiYoaSYmKGkuZGV0YWNoKCksaS5uZXh0JiZ0dChpLG51bGwsbnVsbCwibmV4dCIpKSxzJiZzLmF0dGFjaCgpLGVbcl09cyksbn1mdW5jdGlvbiBudChlLHQsbixyKXt2YXIgaT1lW3JdfHxudWxsLHM9bnVsbDtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiImJihuPW4uY2FsbChlLGUpKSxuJiYobiBpbnN0YW5jZW9mIEg/KHM9bmV3IFEoZSx0LG4sZXQpLG49bnQocyxzLnByb3h5LG4udmFsdWUsIm5leHQiKSk6bi5iaW5kaW5nQnJpZGdlJiYocz1uZXcgRyhlLHQsbixZKSxuPW50KHMscy5wcm94eSxuLnZhbHVlLCJuZXh0IikpKSxuIGluc3RhbmNlb2YgUj09MCYmKG49bnVsbCksciYmaSE9PXMmJihpJiYoaS5kZXRhY2goKSxpLm5leHQmJm50KGksbnVsbCxudWxsLCJuZXh0IikpLHMmJnMuYXR0YWNoKCksZVtyXT1zKSxufWZ1bmN0aW9uIHJ0KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybntkYXRhOmV9fSk6e2RhdGE6ZX19ZnVuY3Rpb24gaXQoZSl7aWYoIWV8fGUuY29uc3RydWN0b3IhPT1PYmplY3QpZT17dmFsdWU6ZX07cmV0dXJuIG5ldyBSKHtkYXRhOmV9KX1mdW5jdGlvbiBzdChlLHQpe3ZhciBuPXQ/aXQ6cnQ7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5tYXAobik6bihlKX1uLnJlcXVpcmUoIi4vMy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4uQ2xhc3MsbD1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1uLm9iamVjdC52YWx1ZXMsaD1uLmZuLiRzZWxmLHA9bi5ldmVudC5FbWl0dGVyLGQ9bi5ldmVudC5jcmVhdGUsdj1uLmV2ZW50LmV2ZW50cyxtPXt9LGc9W10seT17fSxiPXtwcmlvcml0eTpbXSx2YWx1ZXM6e30sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZSxyPWUudG9Mb3dlckNhc2UoKTtiW25dPXIseVtyXT1uLHRoaXMudmFsdWVzW3JdPW4sdD90PXRoaXMucHJpb3JpdHkuaW5kZXhPZih0KTp0PS0xLHQ9PS0xP3RoaXMucHJpb3JpdHkucHVzaChyKTp0aGlzLnByaW9yaXR5LnNwbGljZSh0LDAscil9LGdldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYyh5KX19O2IuYWRkKCJSRUFEWSIpLGIuYWRkKCJERVBSRUNBVEVEIiksYi5hZGQoIlVOREVGSU5FRCIpLGIuYWRkKCJFUlJPUiIpLGIuYWRkKCJQUk9DRVNTSU5HIik7dmFyIHc9e30sRT0xLFM9e05PTkU6MCxBTEw6MCxsaW5rOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lK3QuYmFzaXNPYmplY3RJZCxpPW4uc3Vic2NyaWJlcnNfO2l8fChpPW4uc3Vic2NyaWJlcnNfPXt9KTtpZighaVtyXSl7aVtyXT10O3ZhciBzPW4uc3Vic2NyaWJlckNvdW50Kz0xO3M9PTEmJm4uZW1pdF9zdWJzY3JpYmVyc0NoYW5nZWQoMSl9fSx1bmxpbms6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUrdC5iYXNpc09iamVjdElkLGk9bi5zdWJzY3JpYmVyc187aWYoaSYmaVtyXSl7ZGVsZXRlIGlbcl07dmFyIHM9bi5zdWJzY3JpYmVyQ291bnQtPTE7cz09MCYmKG4uZW1pdF9zdWJzY3JpYmVyc0NoYW5nZWQoLTEpLG4uc3Vic2NyaWJlcnNfPW51bGwpfX0sYWRkOmZ1bmN0aW9uKGUsdCxuKXt3W0VdPXtoYW5kbGVyOnQsYWN0aW9uOm59LFNbZV09RSxTLkFMTHw9RSxFPDw9MX0sYWRkUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtuW3R8fGUrIkNoYW5nZWQiXT1mdW5jdGlvbih0LG4pe24gaW5zdGFuY2VvZiBMJiZTLnVubGluayhlLHQsbiksdFtlXWluc3RhbmNlb2YgTCYmUy5saW5rKGUsdCx0W2VdKX0sdGhpcy5hZGQoZS50b1VwcGVyQ2FzZSgpLG4sZnVuY3Rpb24odCxuKXtuW2VdJiZ0KGUsbixuW2VdKX0pfX0seD17fTtTLmFkZFByb3BlcnR5KCJkZWxlZ2F0ZSIpLFMuYWRkUHJvcGVydHkoInRhcmdldCIpLFMuYWRkUHJvcGVydHkoImRhdGFzZXQiKSxTLmFkZFByb3BlcnR5KCJ2YWx1ZSIsImNoYW5nZSIpO3ZhciBMPWYocCx7Y2xhc3NOYW1lOmErIi5BYnN0cmFjdERhdGEiLHN0YXRlOmIuVU5ERUZJTkVELGVtaXRfc3RhdGVDaGFuZ2VkOmQoInN0YXRlQ2hhbmdlZCIsIm9sZFN0YXRlIiksYWN0aXZlOiExLGVtaXRfYWN0aXZlQ2hhbmdlZDpkKCJhY3RpdmVDaGFuZ2VkIiksc3Vic2NyaWJlVG86Uy5OT05FLHN1YnNjcmliZXJDb3VudDowLHN1YnNjcmliZXJzXzpudWxsLGVtaXRfc3Vic2NyaWJlcnNDaGFuZ2VkOmQoInN1YnNjcmliZXJzQ2hhbmdlZCIsImRlbHRhIiksc3luY0V2ZW50czpmLm9uZUZ1bmN0aW9uUHJvcGVydHkoZnVuY3Rpb24oKXt0aGlzLmlzU3luY1JlcXVpcmVkKCkmJnRoaXMuc3luY0FjdGlvbigpfSx7c3RhdGVDaGFuZ2VkOiEwLHN1YnNjcmliZXJzQ2hhbmdlZDohMH0pLHN5bmNBY3Rpb246bnVsbCxpbml0OmZ1bmN0aW9uKCl7cC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuYWN0aXZlJiZ0aGlzLmFkZEhhbmRsZXIoTih0aGlzLnN1YnNjcmliZVRvKS5oYW5kbGVyKTt2YXIgZT10aGlzLnN5bmNBY3Rpb247ZSYmKHRoaXMuc3luY0FjdGlvbj1udWxsLHRoaXMuc2V0U3luY0FjdGlvbihlKSl9LHNldFN0YXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG49U3RyaW5nKGUpO2lmKCF5W25dKXRocm93IDQ7aWYodGhpcy5zdGF0ZSE9bnx8dGhpcy5zdGF0ZS5kYXRhIT10KXt2YXIgcj10aGlzLnN0YXRlO3JldHVybiB0aGlzLnN0YXRlPU9iamVjdChuKSx0aGlzLnN0YXRlLmRhdGE9dCx0aGlzLmVtaXRfc3RhdGVDaGFuZ2VkKHIpLCEwfXJldHVybiExfSxkZXByZWNhdGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlIT1iLlBST0NFU1NJTkcmJnRoaXMuc2V0U3RhdGUoYi5ERVBSRUNBVEVEKX0sc2V0QWN0aXZlOmZ1bmN0aW9uKGUpe3JldHVybiBlPSEhZSx0aGlzLmFjdGl2ZSE9ZT8odGhpcy5hY3RpdmU9ZSx0aGlzLmVtaXRfYWN0aXZlQ2hhbmdlZCgpLGU/Qyh0aGlzLHRoaXMuc3Vic2NyaWJlVG8pOmsodGhpcyx0aGlzLnN1YnNjcmliZVRvKSwhMCk6ITF9LHNldFN1YnNjcmlwdGlvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN1YnNjcmliZVRvLG49ZSZTLkFMTCxyPXRebjtpZihyKXt0aGlzLnN1YnNjcmliZVRvPW47aWYodGhpcy5hY3RpdmUpe3ZhciBpPU4odCkscz1OKG4pO3RoaXMucmVtb3ZlSGFuZGxlcihpLmhhbmRsZXIpLHRoaXMuYWRkSGFuZGxlcihzLmhhbmRsZXIpO3ZhciBvPTE7d2hpbGUocil7aWYociYxKXt2YXIgdT13W29dO3Qmbz91LmFjdGlvbihTLnVubGluayx0aGlzKTp1LmFjdGlvbihTLmxpbmssdGhpcyl9bzw8PTEscj4+PTF9fXJldHVybiEwfXJldHVybiExfSxpc1N5bmNSZXF1aXJlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnNjcmliZXJDb3VudD4wJiYodGhpcy5zdGF0ZT09Yi5VTkRFRklORUR8fHRoaXMuc3RhdGU9PWIuREVQUkVDQVRFRCl9LHNldFN5bmNBY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zeW5jQWN0aW9uO3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1udWxsKSx0aGlzLnN5bmNBY3Rpb249ZSxlPyh0fHx0aGlzLmFkZEhhbmRsZXIodGhpcy5zeW5jRXZlbnRzKSx0aGlzLmlzU3luY1JlcXVpcmVkKCkmJnRoaXMuc3luY0FjdGlvbigpKTp0JiZ0aGlzLnJlbW92ZUhhbmRsZXIodGhpcy5zeW5jRXZlbnRzKX0sZGVzdHJveTpmdW5jdGlvbigpe3AucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtpZih0aGlzLmFjdGl2ZSl7dmFyIGU9Tih0aGlzLnN1YnNjcmliZVRvKTtmb3IodmFyIHQ9MCxuO249ZS5hY3Rpb25zW3RdO3QrKyluKFMudW5saW5rLHRoaXMpfXRoaXMuc3RhdGU9Yi5VTkRFRklORUR9fSksQT1uLmdldHRlci5JRCxPPXtkZXN0cm95OmZ1bmN0aW9uKGUpe3RoaXMudmFsdWUudW5saW5rKGUsdGhpcy5mbil9fSxNPXtkZXN0cm95OmZ1bmN0aW9uKGUpe3RoaXMuc2V0KG51bGwpfX0sXz17fSxEPXt9LFA9ZnVuY3Rpb24oZSl7dGhpcy5zZXQodGhpcy5mbihlKSl9LEg9ZihMLHtjbGFzc05hbWU6YSsiLlZhbHVlIixzdWJzY3JpYmVUbzpTLlZBTFVFLGVtaXRfY2hhbmdlOmQoImNoYW5nZSIsIm9sZFZhbHVlIikmJmZ1bmN0aW9uKGUpe3YuY2hhbmdlLmNhbGwodGhpcyxlKTt2YXIgdD10aGlzO3doaWxlKHQ9dC5saW5rc18pdC5mbi5jYWxsKHQuY29udGV4dCx0aGlzLnZhbHVlLGUpfSx2YWx1ZTpudWxsLGluaXRWYWx1ZTpudWxsLHByb3h5Om51bGwsbG9ja2VkOjAsbG9ja2VkVmFsdWVfOm51bGwsbGlua3NfOm51bGwsc2V0TnVsbE9uRW1pdHRlckRlc3Ryb3k6ITAsYmluZGluZ0JyaWRnZTp7YXR0YWNoOmZ1bmN0aW9uKGUsdCxuKXtlLmxpbmsobix0LCEwKX0sZGV0YWNoOmZ1bmN0aW9uKGUsdCxuKXtlLnVubGluayhuLHQpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFsdWV9fSxpbml0OmZ1bmN0aW9uKCl7TC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHJveHkmJih0aGlzLnZhbHVlPXRoaXMucHJveHkodGhpcy52YWx1ZSkpLHRoaXMuc2V0TnVsbE9uRW1pdHRlckRlc3Ryb3kmJnRoaXMudmFsdWUgaW5zdGFuY2VvZiBwJiZ0aGlzLnZhbHVlLmFkZEhhbmRsZXIoTSx0aGlzKSx0aGlzLmluaXRWYWx1ZT10aGlzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52YWx1ZSxuPXRoaXMucHJveHk/dGhpcy5wcm94eShlKTplLHI9biE9PXQ7cmV0dXJuIHImJih0aGlzLnNldE51bGxPbkVtaXR0ZXJEZXN0cm95JiYodCBpbnN0YW5jZW9mIHAmJnQucmVtb3ZlSGFuZGxlcihNLHRoaXMpLG4gaW5zdGFuY2VvZiBwJiZuLmFkZEhhbmRsZXIoTSx0aGlzKSksdGhpcy52YWx1ZT1uLHRoaXMubG9ja2VkfHx0aGlzLmVtaXRfY2hhbmdlKHQpKSxyfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuc2V0KHRoaXMuaW5pdFZhbHVlKX0saXNMb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWQ+MH0sbG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkKyssdGhpcy5sb2NrZWQ9PTEmJih0aGlzLmxvY2tlZFZhbHVlXz10aGlzLnZhbHVlKX0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5sb2NrZWQpe3RoaXMubG9ja2VkLS07aWYoIXRoaXMubG9ja2VkKXt2YXIgZT10aGlzLmxvY2tlZFZhbHVlXzt0aGlzLmxvY2tlZFZhbHVlXz1udWxsLHRoaXMudmFsdWUhPT1lJiZ0aGlzLmVtaXRfY2hhbmdlKGUpfX19LGNvbXB1dGU6ZnVuY3Rpb24oZSx0KXt0fHwodD1lLGU9bnVsbCksdHx8KHQ9aCk7dmFyIHI9dGhpcyxpPW4uZXZlbnQuY3JlYXRlSGFuZGxlcihlLGZ1bmN0aW9uKGUpe3RoaXMuc2V0KHQoZSxyLnZhbHVlKSl9KSxzPXRbQV18fFN0cmluZyh0KSxvPWkuZXZlbnRzLmNvbmNhdChzLHRoaXMuYmFzaXNPYmplY3RJZCkuam9pbigiXyIpLHU9X1tvXTtpZighdSl7dmFyIGE9e307aS5kZXN0cm95PWZ1bmN0aW9uKGUpe2RlbGV0ZSBhW2UuYmFzaXNPYmplY3RJZF0sdGhpcy5kZXN0cm95KCl9LHRoaXMuYWRkSGFuZGxlcih7Y2hhbmdlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGEpe3ZhciBuPWFbZV07bi50b2tlbi5zZXQodChuLm9iamVjdCx0aGlzLnZhbHVlKSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGEpe3ZhciB0PWFbZV07dC5vYmplY3QucmVtb3ZlSGFuZGxlcihpLHQudG9rZW4pLHQudG9rZW4uZGVzdHJveSgpfWE9bnVsbCxyPW51bGx9fSksdT1fW29dPWZ1bmN0aW9uKGUpe3ZhciBzPWUuYmFzaXNPYmplY3RJZCxvPWFbc10sdT10KGUsci52YWx1ZSk7aWYoIW8pe3ZhciBmPW5ldyBuLlRva2VuKHUpO2UuYWRkSGFuZGxlcihpLGYpLG89YVtzXT17dG9rZW46ZixvYmplY3Q6ZX19ZWxzZSBvLnRva2VuLnNldCh1KTtyZXR1cm4gby50b2tlbn0sdS5kZWZlcnJlZD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdShlKS5kZWZlcnJlZCgpfX19cmV0dXJuIHV9LGFzOmZ1bmN0aW9uKGUsdCl7ZXx8KGU9aCk7aWYodGhpcy5saW5rc18pe3ZhciByPXRoaXMsaT1lW0FdfHxTdHJpbmcoZSk7d2hpbGUocj1yLmxpbmtzXyl7dmFyIHM9ci5jb250ZXh0O2lmKHMgaW5zdGFuY2VvZiBuLlRva2VuJiYocy5mbltBXXx8U3RyaW5nKHMuZm4pKT09aSlyZXR1cm4gdD9zLmRlZmVycmVkKCk6c319dmFyIG89bmV3IG4uVG9rZW47cmV0dXJuIG8uZm49ZSx0aGlzLmxpbmsobyxQKSx0P28uZGVmZXJyZWQoKTpvfSxkZWZlcnJlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcyhlLCEwKX0sbGluazpmdW5jdGlvbihlLHQsbil7aWYodHlwZW9mIHQhPSJmdW5jdGlvbiIpe3ZhciByPVN0cmluZyh0KTt0PURbcl0sdHx8KHQ9RFtyXT1mdW5jdGlvbihlKXt0aGlzW3JdPWV9KX1yZXR1cm4gdGhpcy5saW5rc189e3ZhbHVlOnRoaXMsY29udGV4dDplLGZuOnQsbGlua3NfOnRoaXMubGlua3NffSxlIGluc3RhbmNlb2YgcCYmZS5hZGRIYW5kbGVyKE8sdGhpcy5saW5rc18pLG58fHQuY2FsbChlLHRoaXMudmFsdWUpLGV9LHVubGluazpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaTt3aGlsZShpPXIscj1yLmxpbmtzXylyLmNvbnRleHQ9PT1lJiYoIXR8fHIuZm49PT10KSYmKHIuZm49bi5mbi4kdW5kZWYsaS5saW5rc189ci5saW5rc18sci5jb250ZXh0IGluc3RhbmNlb2YgcCYmci5jb250ZXh0LnJlbW92ZUhhbmRsZXIoTyxyKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtMLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5zZXROdWxsT25FbWl0dGVyRGVzdHJveSYmdGhpcy52YWx1ZSBpbnN0YW5jZW9mIHAmJnRoaXMudmFsdWUucmVtb3ZlSGFuZGxlcihNLHRoaXMpO3ZhciBlPXRoaXM7d2hpbGUoZT1lLmxpbmtzXyllLmNvbnRleHQgaW5zdGFuY2VvZiBwJiZlLmNvbnRleHQucmVtb3ZlSGFuZGxlcihPLGUpO3RoaXMucHJveHk9bnVsbCx0aGlzLmluaXRWYWx1ZT1udWxsLHRoaXMudmFsdWU9bnVsbCx0aGlzLmxvY2tlZFZhbHVlXz1udWxsLHRoaXMubGlua3NfPW51bGx9fSksQj17fSxqPWZ1bmN0aW9uKGUpe0gucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsZSl9O0guZnJvbT1mdW5jdGlvbihlLHQscil7dmFyIGk7aWYoIWUpcmV0dXJuIG51bGw7aWYoZSBpbnN0YW5jZW9mIHApe3J8fChyPXQsdD1udWxsKSxyfHwocj1oKTt2YXIgcz1uLmV2ZW50LmNyZWF0ZUhhbmRsZXIodCxqKSxvPXJbQV18fFN0cmluZyhyKSx1PXMuZXZlbnRzLmNvbmNhdChvLGUuYmFzaXNPYmplY3RJZCkuam9pbigiXyIpO2k9Qlt1XSxpfHwoaT1CW3VdPW5ldyBIKHt2YWx1ZTplLHByb3h5Om4uZ2V0dGVyKHIpLHNldDpuLmZuLiR1bmRlZixoYW5kbGVyOntkZXN0cm95OmZ1bmN0aW9uKCl7Qlt1XT1udWxsLGUucmVtb3ZlSGFuZGxlcihzLHRoaXMpfX19KSxzLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7Qlt1XT1udWxsLHRoaXMuZGVzdHJveSgpfSxlLmFkZEhhbmRsZXIocyxpKSl9aWYoIWkpe3ZhciB1PWUuYmFzaXNPYmplY3RJZCxhPWUuYmluZGluZ0JyaWRnZTt1JiZhJiYoaT1CW3VdLGl8fChpPUJbdV09bmV3IEgoe3ZhbHVlOmEuZ2V0KGUpfSksYS5hdHRhY2goZSxpLnNldCxpKSkpfWlmKCFpKXRocm93IDU7cmV0dXJuIGl9LEguZmFjdG9yeT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gSC5mcm9tKG4sZSx0KX19O3ZhciBGPXt9LFI9ZihMLHtjbGFzc05hbWU6YSsiLk9iamVjdCIsc3Vic2NyaWJlVG86Uy5ERUxFR0FURStTLlRBUkdFVCxkYXRhOm51bGwsZW1pdF91cGRhdGU6ZCgidXBkYXRlIiwiZGVsdGEiKSYmZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kZWxlZ2F0ZXNfO3YudXBkYXRlLmNhbGwodGhpcyxlKTt3aGlsZSh0KXQuZGVsZWdhdGUmJnQuZGVsZWdhdGUuZW1pdF91cGRhdGUoZSksdD10Lm5leHR9LGVtaXRfc3RhdGVDaGFuZ2VkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGVsZWdhdGVzXztMLnByb3RvdHlwZS5lbWl0X3N0YXRlQ2hhbmdlZC5jYWxsKHRoaXMsZSk7d2hpbGUodCl0LmRlbGVnYXRlJiYodC5kZWxlZ2F0ZS5zdGF0ZT10aGlzLnN0YXRlLHQuZGVsZWdhdGUuZW1pdF9zdGF0ZUNoYW5nZWQoZSkpLHQ9dC5uZXh0fSxkZWxlZ2F0ZTpudWxsLGRlbGVnYXRlQWRhcHRlcl86bnVsbCxkZWxlZ2F0ZXNfOm51bGwsZW1pdF9kZWxlZ2F0ZUNoYW5nZWQ6ZCgiZGVsZWdhdGVDaGFuZ2VkIiwib2xkRGVsZWdhdGUiKSx0YXJnZXQ6bnVsbCxlbWl0X3RhcmdldENoYW5nZWQ6ZCgidGFyZ2V0Q2hhbmdlZCIsIm9sZFRhcmdldCIpLHJvb3Q6bnVsbCxlbWl0X3Jvb3RDaGFuZ2VkOmQoInJvb3RDaGFuZ2VkIiwib2xkUm9vdCIpLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnJvb3Q9dGhpcyxMLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5kZWxlZ2F0ZSx0PXRoaXMuZGF0YTtlPyh0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmRhdGE9Rix0aGlzLnNldERlbGVnYXRlKGUpLHRoaXMuZGF0YT09PUYmJih0aGlzLmRhdGE9dHx8e30pKToodHx8KHRoaXMuZGF0YT17fSksdGhpcy50YXJnZXQhPT1udWxsJiYodGhpcy50YXJnZXQ9dGhpcykpfSxzZXREZWxlZ2F0ZTpmdW5jdGlvbihlKXtlPW50KHRoaXMsdGhpcy5zZXREZWxlZ2F0ZSxlLCJkZWxlZ2F0ZUFkYXB0ZXJfIik7aWYoZSYmZSBpbnN0YW5jZW9mIFIpe2lmKGUuZGVsZWdhdGUmJkkodGhpcyxlKSlyZXR1cm4hMX1lbHNlIGU9bnVsbDtpZih0aGlzLmRlbGVnYXRlIT09ZSl7dmFyIHQ9dGhpcy5zdGF0ZSxuPXRoaXMuZGF0YSxyPXRoaXMuZGVsZWdhdGUsaT10aGlzLnRhcmdldCxzPXRoaXMucm9vdCxvPXRoaXMubGlzdGVuLmRlbGVnYXRlLHU9ITEsYTtpZihyKXtvJiZyLnJlbW92ZUhhbmRsZXIobyx0aGlzKTt2YXIgZj1yLmRlbGVnYXRlc18sbD1yO3doaWxlKGYpe2lmKGYuZGVsZWdhdGU9PT10aGlzKXtmLmRlbGVnYXRlPW51bGwsbD09PXI/ci5kZWxlZ2F0ZXNfPWYubmV4dDpsLm5leHQ9Zi5uZXh0O2JyZWFrfWw9ZixmPWYubmV4dH19aWYoZSl7dGhpcy5kZWxlZ2F0ZT1lLG8mJmUuYWRkSGFuZGxlcihvLHRoaXMpLGUuZGVsZWdhdGVzXz17ZGVsZWdhdGU6dGhpcyxuZXh0OmUuZGVsZWdhdGVzX307aWYodGhpcy5kYXRhIT09Ril7YT17fTtmb3IodmFyIGMgaW4gZS5kYXRhKWMgaW4gbj09MCYmKHU9ITAsYVtjXT11bmRlZmluZWQpO2Zvcih2YXIgYyBpbiBuKW5bY10hPT1lLmRhdGFbY10mJih1PSEwLGFbY109bltjXSl9fWVsc2V7dGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMudGFyZ2V0PW51bGwsdGhpcy5yb290PXRoaXMsdGhpcy5kYXRhPXt9O2Zvcih2YXIgYyBpbiBuKXRoaXMuZGF0YVtjXT1uW2NdfXJldHVybiBxKHRoaXMscyxpKSx1JiZ0aGlzLmVtaXRfdXBkYXRlKGEpLGEmJnQhPT10aGlzLnN0YXRlJiYoU3RyaW5nKHQpIT10aGlzLnN0YXRlfHx0LmRhdGEhPT10aGlzLnN0YXRlLmRhdGEpJiZ0aGlzLmVtaXRfc3RhdGVDaGFuZ2VkKHQpLHRoaXMuZW1pdF9kZWxlZ2F0ZUNoYW5nZWQociksITB9cmV0dXJuITF9LHNldFN0YXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGVsZWdhdGU/dGhpcy5yb290LnNldFN0YXRlKGUsdCk6TC5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLGUsdCl9LHVwZGF0ZTpmdW5jdGlvbihlKXtpZih0aGlzLmRlbGVnYXRlKXJldHVybiB0aGlzLnJvb3QudXBkYXRlKGUpO2lmKGUpe3ZhciB0PXt9LG49ITE7Zm9yKHZhciByIGluIGUpdGhpcy5kYXRhW3JdIT09ZVtyXSYmKG49ITAsdFtyXT10aGlzLmRhdGFbcl0sdGhpcy5kYXRhW3JdPWVbcl0pO2lmKG4pcmV0dXJuIHRoaXMuZW1pdF91cGRhdGUodCksdH1yZXR1cm4hMX0sZGVzdHJveTpmdW5jdGlvbigpe0wucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmRlbGVnYXRlc187dGhpcy5kZWxlZ2F0ZXNfPW51bGw7d2hpbGUoZSllLmRlbGVnYXRlLnNldERlbGVnYXRlKCksZT1lLm5leHQ7dGhpcy5kZWxlZ2F0ZSYmdGhpcy5zZXREZWxlZ2F0ZSgpLHRoaXMuZGF0YT1tLHRoaXMucm9vdD1udWxsLHRoaXMudGFyZ2V0PW51bGx9fSksVT1mKFIse2NsYXNzTmFtZTphKyIuU2xvdCJ9KSx6PXtkZXN0cm95OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMubWFwW3RoaXMuaWRdfX0sVz1mKEwse2NsYXNzTmFtZTphKyIuS2V5T2JqZWN0TWFwIixpdGVtQ2xhc3M6UixrZXlHZXR0ZXI6aCxhdXRvRGVzdHJveU1lbWJlcnM6ITAsbWFwXzpudWxsLGV4dGVuZENvbnN0cnVjdG9yXzohMCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXBfPXt9LEwucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0scmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXQodGhpcy5rZXlHZXR0ZXIoZSksZSl9LGNyZWF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBlIGluc3RhbmNlb2YgUj9uPXtkZWxlZ2F0ZTplfTpuPXtkYXRhOntpZDplLHRpdGxlOmV9fSxuZXcgdGhpcy5pdGVtQ2xhc3Mobil9LGdldDpmdW5jdGlvbihlLHQpe3ZhciBuPWUgaW5zdGFuY2VvZiBSP2UuYmFzaXNPYmplY3RJZDplLHI9dGhpcy5tYXBfW25dOyFyJiZ0JiYocj10aGlzLm1hcF9bbl09e21hcDp0aGlzLm1hcF8saWQ6bixpdGVtOnRoaXMuY3JlYXRlKGUsdCl9LHIuaXRlbS5hZGRIYW5kbGVyKHoscikpO2lmKHIpcmV0dXJuIHIuaXRlbX0sZGVzdHJveTpmdW5jdGlvbigpe0wucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTt2YXIgZT10aGlzLm1hcF87dGhpcy5tYXBfPW51bGw7Zm9yKHZhciB0IGluIGUpe3ZhciBuPWVbdF07dGhpcy5hdXRvRGVzdHJveU1lbWJlcnM/bi5pdGVtLmRlc3Ryb3koKTpuLml0ZW0ucmVtb3ZlSGFuZGxlcih6LG4pfX19KSwkPWYoUix7Y2xhc3NOYW1lOmErIi5EYXRhc2V0V3JhcHBlciIsc3Vic2NyaWJlVG86Ui5wcm90b3R5cGUuc3Vic2NyaWJlVG8rUy5EQVRBU0VULGxpc3Rlbjp7ZGF0YXNldDp7aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dGhpcy5pdGVtQ291bnQ9ZS5pdGVtQ291bnQsdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZCh0KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0RGF0YXNldCgpfX19LGRhdGFzZXQ6bnVsbCxkYXRhc2V0QWRhcHRlcl86bnVsbCxlbWl0X2RhdGFzZXRDaGFuZ2VkOmQoImRhdGFzZXRDaGFuZ2VkIiwib2xkRGF0YXNldCIpLGVtaXRfaXRlbXNDaGFuZ2VkOmQoIml0ZW1zQ2hhbmdlZCIsImRlbHRhIiksaW5pdDpmdW5jdGlvbigpe1IucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmRhdGFzZXQ7ZSYmKHRoaXMuZGF0YXNldD1udWxsLHRoaXMuc2V0RGF0YXNldChlKSl9LHNldERhdGFzZXQ6ZnVuY3Rpb24oZSl7ZT10dCh0aGlzLHRoaXMuc2V0RGF0YXNldCxlLCJkYXRhc2V0QWRhcHRlcl8iKTtpZih0aGlzLmRhdGFzZXQhPT1lKXt2YXIgdD10aGlzLmxpc3Rlbi5kYXRhc2V0LG49dGhpcy5kYXRhc2V0LHI7dCYmKG4mJm4ucmVtb3ZlSGFuZGxlcih0LHRoaXMpLGUmJmUuYWRkSGFuZGxlcih0LHRoaXMpKSx0aGlzLml0ZW1Db3VudD1lP2UuaXRlbUNvdW50OjAsKHI9VihuLGUpKSYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChyKSx0aGlzLmRhdGFzZXQ9ZSx0aGlzLmVtaXRfZGF0YXNldENoYW5nZWQobil9fSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YXNldD90aGlzLmRhdGFzZXQuaGFzKGUpOm51bGx9LGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YXNldD90aGlzLmRhdGFzZXQuZ2V0SXRlbXMoKTpbXX0scGljazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFzZXQ/dGhpcy5kYXRhc2V0LnBpY2soKTpudWxsfSx0b3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YXNldD90aGlzLmRhdGFzZXQudG9wKGUpOltdfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZGF0YXNldClyZXR1cm4gdGhpcy5kYXRhc2V0LmZvckVhY2goZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXsodGhpcy5kYXRhc2V0fHx0aGlzLmRhdGFzZXRBZGFwdGVyXykmJnRoaXMuc2V0RGF0YXNldCgpLFIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxKPWYoTCx7Y2xhc3NOYW1lOmErIi5SZWFkT25seURhdGFzZXQiLGl0ZW1Db3VudDowLGl0ZW1zXzpudWxsLG1lbWJlcnNfOm51bGwsY2FjaGVfOm51bGwsZW1pdF9pdGVtc0NoYW5nZWQ6ZCgiaXRlbXNDaGFuZ2VkIiwiZGVsdGEiKSYmZnVuY3Rpb24oZSl7dmFyIHQsbj0wLHI9MCxpO2lmKHQ9ZS5pbnNlcnRlZCl3aGlsZShpPXRbbl0pdGhpcy5pdGVtc19baS5iYXNpc09iamVjdElkXT1pLG4rKztpZih0PWUuZGVsZXRlZCl3aGlsZShpPXRbcl0pZGVsZXRlIHRoaXMuaXRlbXNfW2kuYmFzaXNPYmplY3RJZF0scisrO3RoaXMuaXRlbUNvdW50Kz1uLXIsdGhpcy5jYWNoZV89bj09dGhpcy5pdGVtQ291bnQ/ZS5pbnNlcnRlZDpudWxsLHYuaXRlbXNDaGFuZ2VkLmNhbGwodGhpcyxlKX0saW5pdDpmdW5jdGlvbigpe0wucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLm1lbWJlcnNfPXt9LHRoaXMuaXRlbXNfPXt9fSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYhIXRoaXMuaXRlbXNfW2UuYmFzaXNPYmplY3RJZF19LGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVffHwodGhpcy5jYWNoZV89Yyh0aGlzLml0ZW1zXykpLHRoaXMuY2FjaGVffSxnZXRWYWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0SXRlbXMoKS5tYXAobi5nZXR0ZXIoZXx8aCkpfSxwaWNrOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuaXRlbXNfKXJldHVybiB0aGlzLml0ZW1zX1tlXTtyZXR1cm4gbnVsbH0sdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKGUpZm9yKHZhciBuIGluIHRoaXMuaXRlbXNfKWlmKHQucHVzaCh0aGlzLml0ZW1zX1tuXSk+PWUpYnJlYWs7cmV0dXJuIHR9LGZvckVhY2g6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRJdGVtcygpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUodFtuXSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtMLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5jYWNoZV89Zyx0aGlzLml0ZW1Db3VudD0wLHRoaXMubWVtYmVyc189bnVsbCx0aGlzLml0ZW1zXz1udWxsfX0pLEs9ZihKLHtjbGFzc05hbWU6YSsiLkRhdGFzZXQiLGxpc3Rlbjp7aXRlbTp7ZGVzdHJveTpmdW5jdGlvbihlKXt0aGlzLnJlbW92ZShbZV0pfX19LGluaXQ6ZnVuY3Rpb24oKXtKLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5pdGVtcztlJiYodGhpcy5pdGVtcz1udWxsLHRoaXMuc2V0KGUpKX0sYWRkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWVtYmVyc18sbj10aGlzLmxpc3Rlbi5pdGVtLHI9W10saTtlJiYhQXJyYXkuaXNBcnJheShlKSYmKGU9W2VdKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIG89ZVtzXTtpZihvIGluc3RhbmNlb2YgUil7dmFyIHU9by5iYXNpc09iamVjdElkO3RbdV18fCh0W3VdPW8sbiYmby5hZGRIYW5kbGVyKG4sdGhpcyksci5wdXNoKG8pKX19cmV0dXJuIHIubGVuZ3RoJiZ0aGlzLmVtaXRfaXRlbXNDaGFuZ2VkKGk9e2luc2VydGVkOnJ9KSxpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tZW1iZXJzXyxuPXRoaXMubGlzdGVuLml0ZW0scj1bXSxpO2UmJiFBcnJheS5pc0FycmF5KGUpJiYoZT1bZV0pO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbz1lW3NdO2lmKG8gaW5zdGFuY2VvZiBSKXt2YXIgdT1vLmJhc2lzT2JqZWN0SWQ7dFt1XSYmKG4mJm8ucmVtb3ZlSGFuZGxlcihuLHRoaXMpLGRlbGV0ZSB0W3VdLHIucHVzaChvKSl9fXJldHVybiByLmxlbmd0aCYmdGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChpPXtkZWxldGVkOnJ9KSxpfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXRlbUNvdW50KXJldHVybiB0aGlzLmFkZChlKTtpZighZXx8IWUubGVuZ3RoKXJldHVybiB0aGlzLmNsZWFyKCk7dmFyIHQ9dGhpcy5tZW1iZXJzXyxuPXRoaXMubGlzdGVuLml0ZW0scj17fSxpPVtdLHM9W10sbyx1LGE7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspbz1lW2ZdLG8gaW5zdGFuY2VvZiBSJiYodT1vLmJhc2lzT2JqZWN0SWQsclt1XT1vLHRbdV18fCh0W3VdPW8sbiYmby5hZGRIYW5kbGVyKG4sdGhpcykscy5wdXNoKG8pKSk7Zm9yKHZhciB1IGluIHQpclt1XXx8KG89dFt1XSxuJiZvLnJlbW92ZUhhbmRsZXIobix0aGlzKSxkZWxldGUgdFt1XSxpLnB1c2gobykpO3JldHVybihhPVgocyxpKSkmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQoYSksYX0sc3luYzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNldChlKXx8e30sbj10LmRlbGV0ZWQ7Sy5zZXRBY2N1bXVsYXRlU3RhdGUoITApO2lmKG4pZm9yKHZhciByPTAsaTtpPW5bcl07cisrKWkuZGVzdHJveSgpO3JldHVybiBLLnNldEFjY3VtdWxhdGVTdGF0ZSghMSksdC5pbnNlcnRlZH0sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEl0ZW1zKCksdD10aGlzLmxpc3Rlbi5pdGVtLG47aWYoZS5sZW5ndGgpe2lmKHQpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5yZW1vdmVIYW5kbGVyKHQsdGhpcyk7dGhpcy5lbWl0X2l0ZW1zQ2hhbmdlZChuPXtkZWxldGVkOmV9KSx0aGlzLm1lbWJlcnNfPXt9fXJldHVybiBufSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpLEoucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxRPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuY29udGV4dD1lLHRoaXMuZm49dCx0aGlzLnNvdXJjZT1uLHRoaXMuaGFuZGxlcj1yfTtRLnByb3RvdHlwZT17Y29udGV4dDpudWxsLGZuOm51bGwsc291cmNlOm51bGwsaGFuZGxlcjpudWxsLG5leHQ6bnVsbCxhdHRhY2g6ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZS5hZGRIYW5kbGVyKHRoaXMuaGFuZGxlcix0aGlzKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5zb3VyY2UucmVtb3ZlSGFuZGxlcih0aGlzLmhhbmRsZXIsdGhpcyl9LHByb3h5OmZ1bmN0aW9uKCl7dGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCx0aGlzLnNvdXJjZSl9fTt2YXIgRz1mdW5jdGlvbigpe1EuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHLnByb3RvdHlwZT1uZXcgUSxHLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZS5iaW5kaW5nQnJpZGdlLmF0dGFjaCh0aGlzLnNvdXJjZSx0aGlzLmhhbmRsZXIsdGhpcyl9LEcucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuc291cmNlLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHRoaXMuc291cmNlLHRoaXMuaGFuZGxlcix0aGlzKX07dmFyIFk9ZnVuY3Rpb24oKXt0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LHRoaXMuc291cmNlKX0sWj17ZGF0YXNldENoYW5nZWQ6ZnVuY3Rpb24oKXt0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LHRoaXMuc291cmNlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsbnVsbCl9fSxldD17Y2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCx0aGlzLnNvdXJjZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LG51bGwpfX07Sy5zZXRBY2N1bXVsYXRlU3RhdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGUpe3ZhciB0PWUuZGF0YXNldDtzLmNhbGwodCxlKX1mdW5jdGlvbiB1KCl7dmFyIGU9dDt0PXt9O2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dO3ImJm8ocil9fWZ1bmN0aW9uIGEoZSl7dmFyIG49dGhpcyxyPW4uYmFzaXNPYmplY3RJZCxpPWUuaW5zZXJ0ZWQsdT1lLmRlbGV0ZWQsYT10W3JdO2lmKGkmJnV8fGEmJmEubWl4ZWQpe2EmJih0W3JdPW51bGwsbyhhKSkscy5jYWxsKG4sZSk7cmV0dXJufWlmKGEpe3ZhciBmPWk/Imluc2VydGVkIjoiZGVsZXRlZCIsYz1hW2ZdO2lmKCFjKXt2YXIgaD1pPyJkZWxldGVkIjoiaW5zZXJ0ZWQiLHA9YVtoXSxkPXt9LHY9aXx8dSxtPVtdLGc9MDtmb3IodmFyIHk9MDt5PHAubGVuZ3RoO3krKylkW3BbeV0uYmFzaXNPYmplY3RJZF09eTtmb3IodmFyIHk9MDt5PHYubGVuZ3RoO3krKyl7dmFyIGI9dlt5XS5iYXNpc09iamVjdElkO2IgaW4gZD09MD9tLnB1c2godlt5XSk6KGd8fChwPWwuY2FsbChwKSksZysrLHBbZFtiXV09bnVsbCl9ZyYmKGc8cC5sZW5ndGg/cD1wLmZpbHRlcihCb29sZWFuKTpwPW51bGwsYVtoXT1wKSxtLmxlbmd0aD8oYVtmXT1tLHAmJihhLm1peGVkPSEwKSk6KG09bnVsbCxwfHwodFtyXT1udWxsKSl9ZWxzZSBjLnB1c2guYXBwbHkoYyxpfHx1KTtyZXR1cm59dFtyXT17aW5zZXJ0ZWQ6aSxkZWxldGVkOnUsZGF0YXNldDpuLG1peGVkOiExfX1mdW5jdGlvbiBmKCl7aT1udWxsLHImJihyPTAsYygpKX1mdW5jdGlvbiBjKCl7ZS5lbWl0X2l0ZW1zQ2hhbmdlZD1zLHUoKX12YXIgZT1KLnByb3RvdHlwZSx0PXt9LHI9MCxpLHM7cmV0dXJuIGZ1bmN0aW9uKHQpe3Q/KHI9PTAmJihzPWUuZW1pdF9pdGVtc0NoYW5nZWQsZS5lbWl0X2l0ZW1zQ2hhbmdlZD1hLGl8fChpPW4uc2V0SW1tZWRpYXRlKGYpKSkscisrKTooci09cj4wLHI9PTAmJmMoKSl9fSgpLHQuZXhwb3J0cz17U1RBVEU6YixTVUJTQ1JJUFRJT046UyxBYnN0cmFjdERhdGE6TCxWYWx1ZTpILE9iamVjdDpSLFNsb3Q6VSxLZXlPYmplY3RNYXA6VyxSZWFkT25seURhdGFzZXQ6SixEYXRhc2V0OkssRGF0YXNldFdyYXBwZXI6JCxpc0Nvbm5lY3RlZDpJLGdldERhdGFzZXREZWx0YTpWLFJlc29sdmVBZGFwdGVyOlEscmVzb2x2ZURhdGFzZXQ6dHQscmVzb2x2ZU9iamVjdDpudCx3cmFwRGF0YTpydCx3cmFwT2JqZWN0Oml0LHdyYXA6c3R9fSwiNS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBCKCl7fWZ1bmN0aW9uIGooKXt9ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBJKGUpe2Uuc2V0RGVsZWdhdGU9bi5mbi4kdW5kZWYsZS5kZXN0cm95PUJ9ZnVuY3Rpb24gcShlKXt2YXIgdD1lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtlLnNldERlbGVnYXRlPXQuc2V0RGVsZWdhdGUsZS5kZXN0cm95PXQuZGVzdHJveX1mdW5jdGlvbiBSKGUpe3JldHVybiBlLnNvcnRpbmdWYWx1ZXx8MH1mdW5jdGlvbiBVKGUsdCl7cmV0dXJuIGU9ZS5zb3J0aW5nVmFsdWV8fDAsdD10LnNvcnRpbmdWYWx1ZXx8MCwrKGU+dCl8fC0oZTx0KX1mdW5jdGlvbiB6KGUsdCl7cmV0dXJuIGU9ZS5zb3J0aW5nVmFsdWV8fDAsdD10LnNvcnRpbmdWYWx1ZXx8MCwtKGU+dCl8fCsoZTx0KX1mdW5jdGlvbiBXKGUpe3JldHVybiBlLmNoaWxkTm9kZXMuc29ydChlLnNvcnRpbmdEZXNjP3o6VSl9ZnVuY3Rpb24gWChlLHQsbixyKXtpZighZS5sZW5ndGgpcmV0dXJuIDA7cj0hIXI7dmFyIGkscyxvPTAsdT1lLmxlbmd0aC0xO2Rve2k9byt1Pj4xLHM9bihlW2ldKTtpZihyP3Q+czp0PHMpdT1pLTE7ZWxzZXtpZighKHI/dDxzOnQ+cykpcmV0dXJuIHQ9PXM/aTowO289aSsxfX13aGlsZShvPD11KTtyZXR1cm4gaSsoczx0XnIpfWZ1bmN0aW9uIFYoZSx0LG4scixpKXtpZih0PT09bilyZXR1cm47dmFyIHMsbz1lLHU9W107ciYmKGUuY29udGV4dFNlbGVjdGlvbj1uLGUuc2VsZWN0ZWQmJnUucHVzaChlKSk7d2hpbGUobyl7cz0hby5zZWxlY3Rpb258fGkmJm89PT1lP28uZmlyc3RDaGlsZDpudWxsO2lmKHMmJnMuY29udGV4dFNlbGVjdGlvbiE9PXQpdGhyb3cgNjt3aGlsZSghcyl7aWYobz09PWUpe3UubGVuZ3RoJiYodCYmdC5yZW1vdmUodSksbiYmbi5hZGQodSkpO3JldHVybn1zPW8ubmV4dFNpYmxpbmcsc3x8KG89by5wYXJlbnROb2RlKX1vPXMsby5zZWxlY3RlZCYmdS5wdXNoKG8pLG8uY29udGV4dFNlbGVjdGlvbj1ufX1mdW5jdGlvbiAkKGUsdCl7aWYoZS5jb250ZXh0RGlzYWJsZWQhPXQpe2UuY29udGV4dERpc2FibGVkPXQ7aWYoZS5kaXNhYmxlZClyZXR1cm47dD9lLmVtaXRfZGlzYWJsZSgpOmUuZW1pdF9lbmFibGUoKX19ZnVuY3Rpb24gSihlKXtpZighZSlyZXR1cm4gbnVsbDtpZihlLmlzU2F0ZWxsaXRlQ29uZmlnKXJldHVybiBlO2lmKGUgaW5zdGFuY2VvZiBaKXJldHVybiBlO2YuaXNDbGFzcyhlKSYmKGU9e2luc3RhbmNlT2Y6ZX0pO2lmKGUmJmUuY29uc3RydWN0b3I9PT1PYmplY3Qpe3ZhciB0PSExLG49e2lzU2F0ZWxsaXRlQ29uZmlnOiEwfSxyO2Zvcih2YXIgaSBpbiBlKXN3aXRjaChpKXtjYXNlImluc3RhbmNlIjplW2ldaW5zdGFuY2VvZiBaJiYobltpXT1lW2ldKTticmVhaztjYXNlImluc3RhbmNlT2YiOmYuaXNDbGFzcyhlW2ldKSYmZVtpXS5pc1N1YmNsYXNzT2YoWikmJihyPWVbaV0pO2JyZWFrO2Nhc2UiZXhpc3RzSWYiOmNhc2UiZGVsZWdhdGUiOmNhc2UiZGF0YVNvdXJjZSI6dD0hMCxuW2ldPWQoZVtpXSk7YnJlYWs7Y2FzZSJjb25maWciOm5baV09ZVtpXX1uLmluc3RhbmNlfHwobi5pbnN0YW5jZU9mPXJ8fFopO2lmKHQpe3ZhciBzPSJldmVudHMiaW4gZT9lLmV2ZW50czoidXBkYXRlIjtBcnJheS5pc0FycmF5KHMpJiYocz1zLmpvaW4oIiAiKSk7aWYodHlwZW9mIHM9PSJzdHJpbmciKXt2YXIgbz17fTtzPXMuc3BsaXQoL1xzKy8pO2Zvcih2YXIgdT0wLGE7YT1zW3VdO3UrKylvW2FdPUcsbi5oYW5kbGVyPW99fXJldHVybiBufXJldHVybiBudWxsfWZ1bmN0aW9uIEsoZSx0KXtmb3IodmFyIG4gaW4gdCl0W25dJiZ0eXBlb2YgdFtuXT09Im9iamVjdCImJmUuc2V0U2F0ZWxsaXRlKG4sdFtuXSl9ZnVuY3Rpb24gcnQoZSx0KXt2YXIgbj10Lmxlbmd0aC0xO2UuY2hpbGROb2Rlcz10LGUuZmlyc3RDaGlsZD10WzBdfHxudWxsLGUubGFzdENoaWxkPXRbbl18fG51bGw7Zm9yKHZhciByLGk9bjtyPXRbaV07aS0tKXIubmV4dFNpYmxpbmc9dFtpKzFdfHxudWxsLHIucHJldmlvdXNTaWJsaW5nPXRbaS0xXXx8bnVsbCxlLmluc2VydEJlZm9yZShyLHIubmV4dFNpYmxpbmcpfWZ1bmN0aW9uIGl0KGUsdCl7Zm9yKHZhciBuPTAscjtyPXRbbl07bisrKXIuZ3JvdXBOb2RlLm5vZGVzLnB1c2gocik7dC5sZW5ndGg9MDtmb3IodmFyIGk9ZS5ncm91cGluZy5udWxsR3JvdXA7aTtpPWkubmV4dFNpYmxpbmcpe3ZhciBzPWkubm9kZXM7aS5maXJzdD1zWzBdfHxudWxsLGkubGFzdD1zW3MubGVuZ3RoLTFdfHxudWxsLHQucHVzaC5hcHBseSh0LHMpLGkuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2luc2VydGVkOnN9KX1yZXR1cm4gdH1mdW5jdGlvbiBzdChlLHQpe3ZhciBuO2lmKHR5cGVvZiBlLmNoaWxkRmFjdG9yeT09ImZ1bmN0aW9uIil7bj1lLmNoaWxkRmFjdG9yeSh0KTtpZihuIGluc3RhbmNlb2YgZS5jaGlsZENsYXNzKXJldHVybiBufXRocm93IG4/MTA6OX1uLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5DbGFzcyxsPW4ub2JqZWN0LmNvbXBsZXRlLGM9bi5hcnJheSxoPW4uYXJyYXkucmVtb3ZlLHA9bi5mbi4kdW5kZWYsZD1uLmdldHRlcix2PW4uZm4ubnVsbEdldHRlcixtPWYub25lRnVuY3Rpb25Qcm9wZXJ0eSxnPW4uZXZlbnQuY3JlYXRlLHk9bi5ldmVudC5ldmVudHMsYj1uLmRhdGEuU1VCU0NSSVBUSU9OLHc9bi5kYXRhLlNUQVRFLEU9bi5kYXRhLkFic3RyYWN0RGF0YSxTPW4uZGF0YS5PYmplY3QseD1uLmRhdGEuUmVhZE9ubHlEYXRhc2V0LFQ9bi5kYXRhLkRhdGFzZXQsTj1uLmRhdGEuRGF0YXNldFdyYXBwZXIsQz1hKyI6IE5vZGUgY2FuJ3QgYmUgaW5zZXJ0ZWQgYXQgc3BlY2lmaWVkIHBvaW50IGluIGhpZXJhcmNoeSIsaz1hKyI6IE5vZGUgd2FzIG5vdCBmb3VuZCIsTD1hKyI6IENoaWxkIG5vZGUgaGFzIHdyb25nIGNsYXNzIixBPWErIjogQ2hpbGQgbm9kZSBpcyBudWxsIixPPWErIjogT3BlcmF0aW9uIGlzIG5vdCBhbGxvd2VkIGJlY2F1c2Ugbm9kZSBpcyB1bmRlciBkYXRhU291cmNlIGNvbnRyb2wiLE09YSsiOiBPcGVyYXRpb24gaXMgbm90IGFsbG93ZWQgYmVjYXVzZSBub2RlIGlzIHVuZGVyIGRhdGFTb3VyY2UgYWRhcHRlciBjb250cm9sIixfPWErIjogTm9kZSBjYW4ndCBoYXMgb3duZXIgYW5kIHBhcmVudE5vZGUiLEQ9YSsiOiBOb2RlIGNhbid0IGhhcyBjaGlsZHJlbiBhbmQgZGF0YVNvdXJjZSBhcyBjaGlsZENsYXNzIGlzbid0IHNwZWNpZmllZCIsUD17QU5ZOiEwLE5PTkU6ITEsUEFSRU5UOiJwYXJlbnQiLE9XTkVSOiJvd25lciJ9LEg9e307Yi5hZGRQcm9wZXJ0eSgib3duZXIiKSxiLmFkZFByb3BlcnR5KCJkYXRhU291cmNlIik7dmFyIFE9Zi5jdXN0b21FeHRlbmRQcm9wZXJ0eSh7fSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09Sih0W25dKX0pLEc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5uYW1lLG49dGhpcy5jb25maWcscj0hbi5leGlzdHNJZnx8bi5leGlzdHNJZihlKSxpPWUuc2F0ZWxsaXRlW3RdO2lmKHIpaWYoaSluLmRlbGVnYXRlJiZpLnNldERlbGVnYXRlKG4uZGVsZWdhdGUoZSkpLG4uZGF0YVNvdXJjZSYmaS5zZXREYXRhU291cmNlKG4uZGF0YVNvdXJjZShlKSk7ZWxzZXtpPW4uaW5zdGFuY2U7aWYoIWkpe3ZhciBzLG89KHR5cGVvZiBuLmNvbmZpZz09ImZ1bmN0aW9uIj9uLmNvbmZpZyhlKTpuLmNvbmZpZyl8fHt9O28ub3duZXI9ZSxuLmRlbGVnYXRlJiYoby5hdXRvRGVsZWdhdGU9ITEsby5kZWxlZ2F0ZT1uLmRlbGVnYXRlKGUpKSxuLmRhdGFTb3VyY2UmJihvLmRhdGFTb3VyY2U9bi5kYXRhU291cmNlKGUpKSxpPW5ldyBuLmluc3RhbmNlT2YobyksaS5kZXN0cm95PUYsKHM9ZS5saXN0ZW4uc2F0ZWxsaXRlKSYmaS5hZGRIYW5kbGVyKHMsZSksKHM9ZS5saXN0ZW5bInNhdGVsbGl0ZToiK3RdKSYmaS5hZGRIYW5kbGVyKHMsZSl9ZWxzZSBuLmRlbGVnYXRlJiZpLnNldERlbGVnYXRlKG4uZGVsZWdhdGUoZSkpLG4uZGF0YVNvdXJjZSYmaS5zZXREYXRhU291cmNlKG4uZGF0YVNvdXJjZShlKSk7ZS5zYXRlbGxpdGUuX19hdXRvX19bdF0uaW5zdGFuY2U9aSxlLnNldFNhdGVsbGl0ZSh0LGksITApfWVsc2UgaSYmKG4uaW5zdGFuY2UmJihuLmRlbGVnYXRlJiZpLnNldERlbGVnYXRlKCksbi5kYXRhU291cmNlJiZpLnNldERhdGFTb3VyY2UoKSksZS5zYXRlbGxpdGUuX19hdXRvX19bdF0uaW5zdGFuY2U9bnVsbCxlLnNldFNhdGVsbGl0ZSh0LG51bGwsITApKX0sWT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3duZXIuc2V0U2F0ZWxsaXRlKHRoaXMubmFtZSxudWxsKX19LFo9ZihTLHtjbGFzc05hbWU6YSsiLkFic3RyYWN0Tm9kZSIsc3Vic2NyaWJlVG86Uy5wcm90b3R5cGUuc3Vic2NyaWJlVG8rYi5EQVRBU09VUkNFLGlzU3luY1JlcXVpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PXcuVU5ERUZJTkVEfHx0aGlzLnN0YXRlPT13LkRFUFJFQ0FURUR9LHN5bmNFdmVudHM6e2FjdGl2ZUNoYW5nZWQ6ITF9LGVtaXRfdXBkYXRlOmZ1bmN0aW9uKGUpe1MucHJvdG90eXBlLmVtaXRfdXBkYXRlLmNhbGwodGhpcyxlKTt2YXIgdD10aGlzLnBhcmVudE5vZGU7dCYmKHQubWF0Y2hGdW5jdGlvbiYmdGhpcy5tYXRjaCh0Lm1hdGNoRnVuY3Rpb24pLHQuaW5zZXJ0QmVmb3JlKHRoaXMsdGhpcy5uZXh0U2libGluZykpfSxsaXN0ZW46e293bmVyOntkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vd25lclNhdGVsbGl0ZU5hbWV8fHRoaXMuc2V0T3duZXIoKX19fSxhdXRvRGVsZWdhdGU6UC5OT05FLG5hbWU6bnVsbCxjaGlsZE5vZGVzOm51bGwsZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQ6ZygiY2hpbGROb2Rlc01vZGlmaWVkIiwiZGVsdGEiKSYmZnVuY3Rpb24oZSl7eS5jaGlsZE5vZGVzTW9kaWZpZWQuY2FsbCh0aGlzLGUpO3ZhciB0PXRoaXMubGlzdGVuLmNoaWxkTm9kZSxuO2lmKHQpe2lmKG49ZS5pbnNlcnRlZClmb3IodmFyIHI9MCxpO2k9bltyXTtyKyspaS5hZGRIYW5kbGVyKHQsdGhpcyk7aWYobj1lLmRlbGV0ZWQpZm9yKHZhciByPTAsaTtpPW5bcl07cisrKWkucmVtb3ZlSGFuZGxlcih0LHRoaXMpfX0sY2hpbGROb2Rlc1N0YXRlOncuVU5ERUZJTkVELGVtaXRfY2hpbGROb2Rlc1N0YXRlQ2hhbmdlZDpnKCJjaGlsZE5vZGVzU3RhdGVDaGFuZ2VkIiwib2xkU3RhdGUiKSxjaGlsZENsYXNzOlosZGF0YVNvdXJjZTpudWxsLGVtaXRfZGF0YVNvdXJjZUNoYW5nZWQ6ZygiZGF0YVNvdXJjZUNoYW5nZWQiLCJvbGREYXRhU291cmNlIiksZGF0YVNvdXJjZUFkYXB0ZXJfOm51bGwsZGF0YVNvdXJjZU1hcF86bnVsbCxkZXN0cm95RGF0YVNvdXJjZU1lbWJlcjohMCxwYXJlbnROb2RlOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxwcmV2aW91c1NpYmxpbmc6bnVsbCxmaXJzdENoaWxkOm51bGwsbGFzdENoaWxkOm51bGwsc29ydGluZzp2LHNvcnRpbmdEZXNjOiExLGVtaXRfc29ydGluZ0NoYW5nZWQ6Zygic29ydGluZ0NoYW5nZWQiLCJvbGRTb3J0aW5nIiwib2xkU29ydGluZ0Rlc2MiKSxncm91cGluZ0NsYXNzOm51bGwsZ3JvdXBpbmc6bnVsbCxlbWl0X2dyb3VwaW5nQ2hhbmdlZDpnKCJncm91cGluZ0NoYW5nZWQiLCJvbGRHcm91cGluZyIpLGdyb3VwTm9kZTpudWxsLGdyb3VwSWQ6TmFOLHNhdGVsbGl0ZTpRLG93bmVyU2F0ZWxsaXRlTmFtZTpudWxsLGVtaXRfc2F0ZWxsaXRlQ2hhbmdlZDpnKCJzYXRlbGxpdGVDaGFuZ2VkIiwibmFtZSIsIm9sZFNhdGVsbGl0ZSIpLG93bmVyOm51bGwsZW1pdF9vd25lckNoYW5nZWQ6Zygib3duZXJDaGFuZ2VkIiwib2xkT3duZXIiKSxpbml0OmZ1bmN0aW9uKCl7Uy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO3ZhciBlPXRoaXMuY2hpbGROb2Rlcyx0PXRoaXMuZGF0YVNvdXJjZTtlJiYodGhpcy5jaGlsZE5vZGVzPW51bGwpLHQmJih0aGlzLmRhdGFTb3VyY2U9bnVsbCk7dmFyIG49dGhpcy5ncm91cGluZztuJiYodGhpcy5ncm91cGluZz1udWxsLHRoaXMuc2V0R3JvdXBpbmcobikpLHRoaXMuY2hpbGRDbGFzcyYmKHRoaXMuY2hpbGROb2Rlcz1bXSx0P3RoaXMuc2V0RGF0YVNvdXJjZSh0KTplJiZ0aGlzLnNldENoaWxkTm9kZXMoZSkpO3ZhciByPXRoaXMuc2F0ZWxsaXRlO3IhPT1RJiYodGhpcy5zYXRlbGxpdGU9USxLKHRoaXMscikpO3ZhciBpPXRoaXMub3duZXI7aSYmKHRoaXMub3duZXI9bnVsbCx0aGlzLnNldE93bmVyKGkpKX0sc2V0Q2hpbGROb2Rlc1N0YXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG49U3RyaW5nKGUpLHI9dGhpcy5jaGlsZE5vZGVzU3RhdGU7aWYoIXcudmFsdWVzW25dKXRocm93IDc7aWYociE9bnx8ci5kYXRhIT10KXRoaXMuY2hpbGROb2Rlc1N0YXRlPU9iamVjdChuKSx0aGlzLmNoaWxkTm9kZXNTdGF0ZS5kYXRhPXQsdGhpcy5lbWl0X2NoaWxkTm9kZXNTdGF0ZUNoYW5nZWQocil9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUpe30saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsdCl7fSxyZW1vdmVDaGlsZDpmdW5jdGlvbihlKXt9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihlLHQpe30sY2xlYXI6ZnVuY3Rpb24oZSl7fSxzZXRDaGlsZE5vZGVzOmZ1bmN0aW9uKGUpe30sc2V0R3JvdXBpbmc6ZnVuY3Rpb24oZSx0KXt9LHNldFNvcnRpbmc6ZnVuY3Rpb24oZSx0KXt9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24oZSl7fSxzZXRPd25lcjpmdW5jdGlvbihlKXtpZighZXx8ZSBpbnN0YW5jZW9mIFo9PTApZT1udWxsO2lmKGUmJnRoaXMucGFyZW50Tm9kZSl0aHJvdyA4O3ZhciB0PXRoaXMub3duZXI7aWYodCE9PWUpe3ZhciBuPXRoaXMubGlzdGVuLm93bmVyO2lmKHQpe2lmKHRoaXMub3duZXJTYXRlbGxpdGVOYW1lJiZ0LnNhdGVsbGl0ZS5fX2F1dG9fXyYmdGhpcy5vd25lclNhdGVsbGl0ZU5hbWUgaW4gdC5zYXRlbGxpdGUuX19hdXRvX18pcmV0dXJuO24mJnQucmVtb3ZlSGFuZGxlcihuLHRoaXMpLHRoaXMub3duZXJTYXRlbGxpdGVOYW1lJiYodGhpcy5vd25lcj1udWxsLHQuc2V0U2F0ZWxsaXRlKHRoaXMub3duZXJTYXRlbGxpdGVOYW1lLG51bGwpKX1lJiZuJiZlLmFkZEhhbmRsZXIobix0aGlzKSx0aGlzLm93bmVyPWUsdGhpcy5lbWl0X293bmVyQ2hhbmdlZCh0KSwodGhpcy5hdXRvRGVsZWdhdGU9PVAuT1dORVJ8fHRoaXMuYXV0b0RlbGVnYXRlPT09UC5BTlkpJiZ0aGlzLnNldERlbGVnYXRlKGUpfX0sc2V0U2F0ZWxsaXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnNhdGVsbGl0ZVtlXXx8bnVsbCxpPXRoaXMuc2F0ZWxsaXRlLl9fYXV0b19fLHM9aSYmaVtlXSxvPW4mJnM7aWYobyl0PXMuaW5zdGFuY2Uscy5jb25maWcuaW5zdGFuY2UmJnQmJmRlbGV0ZSBzLmNvbmZpZy5pbnN0YW5jZS5zZXRPd25lcjtlbHNle3Q9Sih0KTtpZih0JiZ0Lm93bmVyJiZpJiZ0Lm93bmVyU2F0ZWxsaXRlTmFtZSYmaVt0Lm93bmVyU2F0ZWxsaXRlTmFtZV0pcmV0dXJuO3MmJihkZWxldGUgaVtlXSxzLmNvbmZpZy5pbnN0YW5jZSYmcy5jb25maWcuaW5zdGFuY2UucmVtb3ZlSGFuZGxlcihZLHMpLHMuY29uZmlnLmhhbmRsZXImJnRoaXMucmVtb3ZlSGFuZGxlcihzLmNvbmZpZy5oYW5kbGVyLHMpKX1pZihyIT09dCl7dmFyIHU9dGhpcy5saXN0ZW4uc2F0ZWxsaXRlLGE9dGhpcy5saXN0ZW5bInNhdGVsbGl0ZToiK2VdLGY7ciYmKGRlbGV0ZSB0aGlzLnNhdGVsbGl0ZVtlXSxyLm93bmVyU2F0ZWxsaXRlTmFtZT1udWxsLHMmJnIuZGVzdHJveT09PUY/Zj1yOih1JiZyLnJlbW92ZUhhbmRsZXIodSx0aGlzKSxhJiZyLnJlbW92ZUhhbmRsZXIoYSx0aGlzKSxyLnNldE93bmVyKG51bGwpKSxvJiYhdCYmcy5jb25maWcuaW5zdGFuY2UmJihzLmNvbmZpZy5pbnN0YW5jZS5zZXRPd25lcj1qKSk7aWYodCl7aWYodCBpbnN0YW5jZW9mIFo9PTApe3ZhciBzPXtvd25lcjp0aGlzLG5hbWU6ZSxjb25maWc6dCxpbnN0YW5jZTpudWxsfTt0LmhhbmRsZXImJnRoaXMuYWRkSGFuZGxlcih0LmhhbmRsZXIscyksdC5pbnN0YW5jZSYmKHQuaW5zdGFuY2UuYWRkSGFuZGxlcihZLHMpLHQuaW5zdGFuY2Uuc2V0T3duZXI9aiksaXx8KHRoaXMuc2F0ZWxsaXRlPT09USYmKHRoaXMuc2F0ZWxsaXRlPXt9KSxpPXRoaXMuc2F0ZWxsaXRlLl9fYXV0b19fPXt9KSxpW2VdPXMsRy5jYWxsKHMsdGhpcyksIXMuaW5zdGFuY2UmJnImJnRoaXMuZW1pdF9zYXRlbGxpdGVDaGFuZ2VkKGUsciksZiYmKGRlbGV0ZSBmLmRlc3Ryb3ksZi5kZXN0cm95KCkpO3JldHVybn1pZih0Lm93bmVyIT09dGhpcyl7aWYocyYmcy5jb25maWcuZGVsZWdhdGUpe3ZhciBsPXQuYXV0b0RlbGVnYXRlO3QuYXV0b0RlbGVnYXRlPSExLHQuc2V0T3duZXIodGhpcyksdC5hdXRvRGVsZWdhdGU9bH1lbHNlIHQuc2V0T3duZXIodGhpcyk7aWYodC5vd25lciE9PXRoaXMpcmV0dXJuO3UmJnQuYWRkSGFuZGxlcih1LHRoaXMpLGEmJnQuYWRkSGFuZGxlcihhLHRoaXMpfWVsc2UgdC5vd25lclNhdGVsbGl0ZU5hbWUmJihkZWxldGUgdGhpcy5zYXRlbGxpdGVbdC5vd25lclNhdGVsbGl0ZU5hbWVdLHRoaXMuZW1pdF9zYXRlbGxpdGVDaGFuZ2VkKHQub3duZXJTYXRlbGxpdGVOYW1lLHQpKTt0aGlzLnNhdGVsbGl0ZT09USYmKHRoaXMuc2F0ZWxsaXRlPXt9KSx0aGlzLnNhdGVsbGl0ZVtlXT10LHQub3duZXJTYXRlbGxpdGVOYW1lPWV9dGhpcy5lbWl0X3NhdGVsbGl0ZUNoYW5nZWQoZSxyKSxmJiYoZGVsZXRlIGYuZGVzdHJveSxmLmRlc3Ryb3koKSl9fSxnZXRDaGlsZE5vZGVzRGF0YXNldDpmdW5jdGlvbigpe3JldHVybiBIW3RoaXMuYmFzaXNPYmplY3RJZF18fG5ldyBsdCh7c291cmNlTm9kZTp0aGlzfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5kYXRhU291cmNlfHx0aGlzLmRhdGFTb3VyY2VBZGFwdGVyXz90aGlzLnNldERhdGFTb3VyY2UoKTp0aGlzLmZpcnN0Q2hpbGQmJnRoaXMuY2xlYXIoKSx0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKSx0aGlzLmdyb3VwaW5nJiYodGhpcy5ncm91cGluZy5zZXRPd25lcigpLHRoaXMuZ3JvdXBpbmc9bnVsbCksdGhpcy5vd25lciYmdGhpcy5zZXRPd25lcigpO3ZhciBlPXRoaXMuc2F0ZWxsaXRlO2lmKGUhPT1RKXt2YXIgdD1lLl9fYXV0b19fO2RlbGV0ZSBlLl9fYXV0b19fO2Zvcih2YXIgbiBpbiB0KXRbbl0uY29uZmlnLmluc3RhbmNlJiYhdFtuXS5pbnN0YW5jZSYmdFtuXS5jb25maWcuaW5zdGFuY2UuZGVzdHJveSgpO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dO3Iub3duZXI9bnVsbCxyLm93bmVyU2F0ZWxsaXRlTmFtZT1udWxsLHIuZGVzdHJveT09PUYmJmRlbGV0ZSByLmRlc3Ryb3ksci5kZXN0cm95KCl9dGhpcy5zYXRlbGxpdGU9bnVsbH10aGlzLmNoaWxkTm9kZXM9bnVsbCx0aGlzLnBhcmVudE5vZGU9bnVsbCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmZpcnN0Q2hpbGQ9bnVsbCx0aGlzLmxhc3RDaGlsZD1udWxsfX0pLGV0PWYoWix7Y2xhc3NOYW1lOmErIi5QYXJ0aXRpb25Ob2RlIixhdXRvRGVzdHJveUlmRW1wdHk6ITEsbm9kZXM6bnVsbCxmaXJzdDpudWxsLGxhc3Q6bnVsbCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlcz1bXSxaLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGluc2VydDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubm9kZXMscj10P24uaW5kZXhPZih0KTotMTtyPT0tMT8obi5wdXNoKGUpLHRoaXMubGFzdD1lKTpuLnNwbGljZShyLDAsZSksdGhpcy5maXJzdD1uWzBdLGUuZ3JvdXBOb2RlPXRoaXMsdGhpcy5lbWl0X2NoaWxkTm9kZXNNb2RpZmllZCh7aW5zZXJ0ZWQ6W2VdfSl9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm5vZGVzO2godCxlKSYmKHRoaXMuZmlyc3Q9dFswXXx8bnVsbCx0aGlzLmxhc3Q9dFt0Lmxlbmd0aC0xXXx8bnVsbCxlLmdyb3VwTm9kZT1udWxsLHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6W2VdfSkpLCF0aGlzLmZpcnN0JiZ0aGlzLmF1dG9EZXN0cm95SWZFbXB0eSYmdGhpcy5kZXN0cm95KCl9LGNsZWFyOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyc3QpcmV0dXJuO3ZhciBlPXRoaXMubm9kZXM7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLT4wOyllW3RdLmdyb3VwTm9kZT1udWxsO3RoaXMubm9kZXM9W10sdGhpcy5maXJzdD1udWxsLHRoaXMubGFzdD1udWxsLHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6ZX0pLHRoaXMuYXV0b0Rlc3Ryb3lJZkVtcHR5JiZ0aGlzLmRlc3Ryb3koKX0sZGVzdHJveTpmdW5jdGlvbigpe1oucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLm5vZGVzPW51bGwsdGhpcy5maXJzdD1udWxsLHRoaXMubGFzdD1udWxsfX0pLHR0PXtpdGVtc0NoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxyPVtdO2lmKHQuZGVsZXRlZCl7bi5kZWxldGVkPXI7aWYodGhpcy5jaGlsZE5vZGVzLmxlbmd0aD09dC5kZWxldGVkLmxlbmd0aCl7cj1jKHRoaXMuY2hpbGROb2Rlcyk7Zm9yKHZhciBpPTAscztzPXJbaV07aSsrKXEocyk7dmFyIG89dGhpcy5kYXRhU291cmNlO3RoaXMuZGF0YVNvdXJjZT1udWxsLHRoaXMuY2xlYXIoITApLHRoaXMuZGF0YVNvdXJjZT1vLHRoaXMuZGF0YVNvdXJjZU1hcF89e319ZWxzZSBmb3IodmFyIGk9MCx1O3U9dC5kZWxldGVkW2ldO2krKyl7dmFyIGE9dS5iYXNpc09iamVjdElkLGY9dGhpcy5kYXRhU291cmNlTWFwX1thXTtxKGYpLGRlbGV0ZSB0aGlzLmRhdGFTb3VyY2VNYXBfW2FdLHRoaXMucmVtb3ZlQ2hpbGQoZiksci5wdXNoKGYpfX1pZih0Lmluc2VydGVkKXtuLmluc2VydGVkPVtdO2Zvcih2YXIgaT0wLHU7dT10Lmluc2VydGVkW2ldO2krKyl7dmFyIGw9c3QodGhpcyx7ZGVsZWdhdGU6dX0pO0kobCksdGhpcy5kYXRhU291cmNlTWFwX1t1LmJhc2lzT2JqZWN0SWRdPWwsbi5pbnNlcnRlZC5wdXNoKGwpLHRoaXMuZmlyc3RDaGlsZCYmdGhpcy5pbnNlcnRCZWZvcmUobCl9fXRoaXMuZmlyc3RDaGlsZD90aGlzLmVtaXRfY2hpbGROb2Rlc01vZGlmaWVkKG4pOnRoaXMuc2V0Q2hpbGROb2RlcyhuLmluc2VydGVkKTtpZih0aGlzLmRlc3Ryb3lEYXRhU291cmNlTWVtYmVyJiZyLmxlbmd0aClmb3IodmFyIGk9MCx1O3U9cltpXTtpKyspdS5kZXN0cm95KCl9LHN0YXRlQ2hhbmdlZDpmdW5jdGlvbihlKXt0aGlzLnNldENoaWxkTm9kZXNTdGF0ZShlLnN0YXRlLGUuc3RhdGUuZGF0YSl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7dGhpcy5kYXRhU291cmNlQWRhcHRlcl98fHRoaXMuc2V0RGF0YVNvdXJjZSgpfX0sbnQ9e2RhdGFzZXRDaGFuZ2VkOmZ1bmN0aW9uKGUpe3RoaXMuc2V0RGF0YVNvdXJjZShlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0RGF0YVNvdXJjZSgpfX0sb3Q9e2NoaWxkQ2xhc3M6WixjaGlsZEZhY3Rvcnk6bnVsbCxsaXN0ZW46e2RhdGFTb3VyY2U6dHR9LGdldENoaWxkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uYXJyYXkuc2VhcmNoKHRoaXMuY2hpbGROb2RlcyxlLHQpfSxnZXRDaGlsZEJ5TmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDaGlsZChlLCJuYW1lIil9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShlKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuY2hpbGRDbGFzcyl0aHJvdyAxMTtpZihlLmZpcnN0Q2hpbGQpe3ZhciBuPXRoaXM7d2hpbGUobj1uLnBhcmVudE5vZGUpaWYobj09PWUpdGhyb3cgMTJ9dmFyIHI9ZSYmZSBpbnN0YW5jZW9mIHRoaXMuY2hpbGRDbGFzcztpZih0aGlzLmRhdGFTb3VyY2Upe2lmKCFyfHwhZS5kZWxlZ2F0ZXx8dGhpcy5kYXRhU291cmNlTWFwX1tlLmRlbGVnYXRlLmJhc2lzT2JqZWN0SWRdIT09ZSl0aHJvdyAxM31lbHNlIGlmKHRoaXMuZGF0YVNvdXJjZUFkYXB0ZXJfKXRocm93IDE0O3J8fChlPXN0KHRoaXMsZSBpbnN0YW5jZW9mIFM/e2RlbGVnYXRlOmV9OmUpKTtpZihlLm93bmVyKXRocm93IDE1O3ZhciBpPWUucGFyZW50Tm9kZT09PXRoaXMscz10aGlzLmNoaWxkTm9kZXMsbz10aGlzLmdyb3VwaW5nLHUsYT1lLmdyb3VwTm9kZSxmPW51bGwsbD10aGlzLnNvcnRpbmcsYyxwPSExLGQsbT0tMSxnLHk7aSYmKGc9ZS5uZXh0U2libGluZyx5PWUucHJldmlvdXNTaWJsaW5nKSxsIT09diYmKHQ9bnVsbCxjPXRoaXMuc29ydGluZ0Rlc2MsZD1sKGUpfHwwLGkmJihkPT09ZS5zb3J0aW5nVmFsdWU/cD0hMDooIWd8fChjP2cuc29ydGluZ1ZhbHVlPD1kOmcuc29ydGluZ1ZhbHVlPj1kKSkmJigheXx8KGM/eS5zb3J0aW5nVmFsdWU+PWQ6eS5zb3J0aW5nVmFsdWU8PWQpKSYmKGUuc29ydGluZ1ZhbHVlPWQscD0hMCkpKTtpZihvKXt2YXIgbjtmPW8uZ2V0R3JvdXBOb2RlKGUsITApLHU9Zi5ub2RlcztpZihhPT09ZilpZihwfHxsPT09diYmZz09PXQpcmV0dXJuIGU7bCE9PXY/YT09PWYmJnA/ZyYmZy5ncm91cE5vZGU9PT1mP209dS5pbmRleE9mKGcpOm09dS5sZW5ndGg6KG09WCh1LGQsUixjKSxlLnNvcnRpbmdWYWx1ZT1kKTp0JiZ0Lmdyb3VwTm9kZT09PWY/bT11LmluZGV4T2YodCk6bT11Lmxlbmd0aDtpZihtPHUubGVuZ3RoKXQ9dVttXTtlbHNlIGlmKGYubGFzdCl0PWYubGFzdC5uZXh0U2libGluZztlbHNle249Zix0PW51bGw7d2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKHQ9bi5maXJzdClicmVha31pZihlPT09dHx8aSYmZz09PXQpcmV0dXJuIGEhPT1mJiYoYSYmYS5yZW1vdmUoZSksZi5pbnNlcnQoZSx0KSksZTttPS0xfWVsc2UgaWYobCE9PXYpe2lmKHApcmV0dXJuIGU7bT1YKHMsZCxSLGMpLHQ9c1ttXSxlLnNvcnRpbmdWYWx1ZT1kO2lmKGU9PT10fHxpJiZnPT09dClyZXR1cm4gZX1lbHNle2lmKHQmJnQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgMTY7aWYoaSl7aWYoZz09PXQpcmV0dXJuIGU7aWYoZT09PXQpdGhyb3cgMTd9fWlmKGkpe2c/KGcucHJldmlvdXNTaWJsaW5nPXksZS5uZXh0U2libGluZz1udWxsKTp0aGlzLmxhc3RDaGlsZD15LHk/KHkubmV4dFNpYmxpbmc9ZyxlLnByZXZpb3VzU2libGluZz1udWxsKTp0aGlzLmZpcnN0Q2hpbGQ9ZztpZihtPT0tMSloKHMsZSk7ZWxzZXt2YXIgYj1zLmluZGV4T2YoZSk7cy5zcGxpY2UoYiwxKSxtLT1iPG19YSYmKGEucmVtb3ZlKGUpLGE9bnVsbCl9ZWxzZSBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTthIT1mJiZmLmluc2VydChlLHQpO2lmKHQpe209PS0xJiYobT1zLmluZGV4T2YodCkpO2lmKG09PS0xKXRocm93IDE4O2UubmV4dFNpYmxpbmc9dCxzLnNwbGljZShtLDAsZSl9ZWxzZSBtPXMubGVuZ3RoLHMucHVzaChlKSx0PXtwcmV2aW91c1NpYmxpbmc6dGhpcy5sYXN0Q2hpbGR9LHRoaXMubGFzdENoaWxkPWU7cmV0dXJuIGUucGFyZW50Tm9kZT10aGlzLGUucHJldmlvdXNTaWJsaW5nPXQucHJldmlvdXNTaWJsaW5nLG09PTA/dGhpcy5maXJzdENoaWxkPWU6dC5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmc9ZSx0LnByZXZpb3VzU2libGluZz1lLGl8fChWKGUsZS5jb250ZXh0U2VsZWN0aW9uLHRoaXMuc2VsZWN0aW9ufHx0aGlzLmNvbnRleHRTZWxlY3Rpb24sITApLCQoZSx0aGlzLmRpc2FibGVkfHx0aGlzLmNvbnRleHREaXNhYmxlZCksKGUudW5kZXJNYXRjaF98fHRoaXMubWF0Y2hGdW5jdGlvbikmJmUubWF0Y2gmJmUubWF0Y2godGhpcy5tYXRjaEZ1bmN0aW9uKSwoZS5hdXRvRGVsZWdhdGU9PVAuUEFSRU5UfHxlLmF1dG9EZWxlZ2F0ZT09PVAuQU5ZKSYmZS5zZXREZWxlZ2F0ZSh0aGlzKSx0aGlzLmRhdGFTb3VyY2V8fHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2luc2VydGVkOltlXX0pLGUubGlzdGVuLnBhcmVudE5vZGUmJnRoaXMuYWRkSGFuZGxlcihlLmxpc3Rlbi5wYXJlbnROb2RlLGUpKSxlfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihlKXtpZighZXx8ZS5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyAxOTtpZihlIGluc3RhbmNlb2YgdGhpcy5jaGlsZENsYXNzPT0wKXRocm93IDIwO2lmKHRoaXMuZGF0YVNvdXJjZSl7aWYodGhpcy5kYXRhU291cmNlLmhhcyhlLmRlbGVnYXRlKSl0aHJvdyAyMX1lbHNlIGlmKHRoaXMuZGF0YVNvdXJjZUFkYXB0ZXJfKXRocm93IDIyO3ZhciB0PXRoaXMuY2hpbGROb2Rlcy5pbmRleE9mKGUpO2lmKHQ9PS0xKXRocm93IDIzO3JldHVybiB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKHQsMSksZS5wYXJlbnROb2RlPW51bGwsZS5uZXh0U2libGluZz9lLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZD1lLnByZXZpb3VzU2libGluZyxlLnByZXZpb3VzU2libGluZz9lLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nOnRoaXMuZmlyc3RDaGlsZD1lLm5leHRTaWJsaW5nLGUubmV4dFNpYmxpbmc9bnVsbCxlLnByZXZpb3VzU2libGluZz1udWxsLGUubGlzdGVuLnBhcmVudE5vZGUmJnRoaXMucmVtb3ZlSGFuZGxlcihlLmxpc3Rlbi5wYXJlbnROb2RlLGUpLFYoZSxlLmNvbnRleHRTZWxlY3Rpb24sbnVsbCwhMCksZS5ncm91cE5vZGUmJmUuZ3JvdXBOb2RlLnJlbW92ZShlKSx0aGlzLmRhdGFTb3VyY2V8fHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6W2VdfSksKGUuYXV0b0RlbGVnYXRlPT1QLlBBUkVOVHx8ZS5hdXRvRGVsZWdhdGU9PT1QLkFOWSkmJmUuc2V0RGVsZWdhdGUoKSxlfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmRhdGFTb3VyY2UpdGhyb3cgMjQ7aWYodGhpcy5kYXRhU291cmNlQWRhcHRlcl8pdGhyb3cgMjU7aWYodD09bnVsbHx8dC5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyAyNjtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoZSx0KSx0aGlzLnJlbW92ZUNoaWxkKHQpfSxjbGVhcjpmdW5jdGlvbihlKXtpZih0aGlzLmRhdGFTb3VyY2UmJnRoaXMuZGF0YVNvdXJjZS5pdGVtQ291bnQpdGhyb3cgMjc7aWYoIXRoaXMuZmlyc3RDaGlsZClyZXR1cm47ZSYmVih0aGlzLHRoaXMuc2VsZWN0aW9ufHx0aGlzLmNvbnRleHRTZWxlY3Rpb24sbnVsbCwhMSwhMCk7dmFyIHQ9dGhpcy5jaGlsZE5vZGVzO3RoaXMuZmlyc3RDaGlsZD1udWxsLHRoaXMubGFzdENoaWxkPW51bGwsdGhpcy5jaGlsZE5vZGVzPVtdLHRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQoe2RlbGV0ZWQ6dH0pO2Zvcih2YXIgbj10Lmxlbmd0aDtuLS0+MDspe3ZhciByPXRbbl07ci5saXN0ZW4ucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLnJlbW92ZUhhbmRsZXIoci5saXN0ZW4ucGFyZW50Tm9kZSxyKSxyLnBhcmVudE5vZGU9bnVsbCxyLmdyb3VwTm9kZT1udWxsLGU/KHIubmV4dFNpYmxpbmc9bnVsbCxyLnByZXZpb3VzU2libGluZz1udWxsLChyLmF1dG9EZWxlZ2F0ZT09UC5QQVJFTlR8fHIuYXV0b0RlbGVnYXRlPT09UC5BTlkpJiZyLnNldERlbGVnYXRlKCkpOnIuZGVzdHJveSgpfWlmKHRoaXMuZ3JvdXBpbmcpZm9yKHZhciB0PXRoaXMuZ3JvdXBpbmcuY2hpbGROb2RlcyxuPXQubGVuZ3RoLTEsaTtpPXRbbl07bi0tKWkuY2xlYXIoKX0sc2V0Q2hpbGROb2RlczpmdW5jdGlvbihlLHQpeyF0aGlzLmRhdGFTb3VyY2UmJiF0aGlzLmRhdGFTb3VyY2VBZGFwdGVyXyYmdGhpcy5jbGVhcih0KTtpZihlKXsibGVuZ3RoImluIGU9PTAmJihlPVtlXSk7aWYoZS5sZW5ndGgpe3ZhciBuPXRoaXMuZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQ7dGhpcy5lbWl0X2NoaWxkTm9kZXNNb2RpZmllZD1wO2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyl0aGlzLmluc2VydEJlZm9yZShlW3JdKTt0aGlzLmVtaXRfY2hpbGROb2Rlc01vZGlmaWVkPW4sdGhpcy5lbWl0X2NoaWxkTm9kZXNNb2RpZmllZCh7aW5zZXJ0ZWQ6dGhpcy5jaGlsZE5vZGVzfSl9fX0sc2V0RGF0YVNvdXJjZTpmdW5jdGlvbihlKXtpZighdGhpcy5jaGlsZENsYXNzKXRocm93IDI4O2U9bi5kYXRhLnJlc29sdmVEYXRhc2V0KHRoaXMsdGhpcy5zZXREYXRhU291cmNlLGUsImRhdGFTb3VyY2VBZGFwdGVyXyIpO2lmKHRoaXMuZGF0YVNvdXJjZSE9PWUpe3ZhciB0PXRoaXMuZGF0YVNvdXJjZSxyPXRoaXMubGlzdGVuLmRhdGFTb3VyY2U7dCYmKHRoaXMuZGF0YVNvdXJjZU1hcF89bnVsbCx0aGlzLmRhdGFTb3VyY2U9bnVsbCxyJiZ0LnJlbW92ZUhhbmRsZXIocix0aGlzKSk7aWYodGhpcy5maXJzdENoaWxkKXtpZih0KWZvcih2YXIgaT0wLHM7cz10aGlzLmNoaWxkTm9kZXNbaV07aSsrKXEocyk7dGhpcy5jbGVhcigpfXRoaXMuZGF0YVNvdXJjZT1lLGU/KHRoaXMuZGF0YVNvdXJjZU1hcF89e30sdGhpcy5zZXRDaGlsZE5vZGVzU3RhdGUoZS5zdGF0ZSxlLnN0YXRlLmRhdGEpLHImJihlLmFkZEhhbmRsZXIocix0aGlzKSxlLml0ZW1Db3VudCYmci5pdGVtc0NoYW5nZWQmJnIuaXRlbXNDaGFuZ2VkLmNhbGwodGhpcyxlLHtpbnNlcnRlZDplLmdldEl0ZW1zKCl9KSkpOnRoaXMuc2V0Q2hpbGROb2Rlc1N0YXRlKHcuVU5ERUZJTkVEKSx0aGlzLmVtaXRfZGF0YVNvdXJjZUNoYW5nZWQodCl9fSxzZXRHcm91cGluZzpmdW5jdGlvbihlLHQpe2lmKHR5cGVvZiBlPT0iZnVuY3Rpb24ifHx0eXBlb2YgZT09InN0cmluZyIpZT17cnVsZTplfTtlIGluc3RhbmNlb2YgYXQ9PTAmJihlPWUmJnR5cGVvZiBlPT0ib2JqZWN0Ij9uZXcgdGhpcy5ncm91cGluZ0NsYXNzKGUpOm51bGwpO2lmKHRoaXMuZ3JvdXBpbmchPT1lKXt2YXIgbj10aGlzLmdyb3VwaW5nLHI7aWYobil7dGhpcy5ncm91cGluZz1udWxsO2lmKCFlJiZ0aGlzLmZpcnN0Q2hpbGQpe3RoaXMuc29ydGluZyE9PXY/cj1XKHRoaXMpOnI9dGhpcy5jaGlsZE5vZGVzLG4ubnVsbEdyb3VwLmNsZWFyKCk7dmFyIGk9bi5jaGlsZE5vZGVzLnNsaWNlKDApO2Zvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKWlbc10uY2xlYXIoKTtydCh0aGlzLHIpfW4uc2V0T3duZXIoKX1pZihlKXt0aGlzLmdyb3VwaW5nPWUsZS5zZXRPd25lcih0aGlzKTtpZih0aGlzLmZpcnN0Q2hpbGQpe3RoaXMuc29ydGluZyE9PXY/cj1XKHRoaXMpOnI9dGhpcy5jaGlsZE5vZGVzO2Zvcih2YXIgcz0wLG87bz1yW3NdO3MrKylvLmdyb3VwTm9kZT10aGlzLmdyb3VwaW5nLmdldEdyb3VwTm9kZShvLCEwKTtyPWl0KHRoaXMscikscnQodGhpcyxyKX19dGhpcy5lbWl0X2dyb3VwaW5nQ2hhbmdlZChuKX19LHNldFNvcnRpbmc6ZnVuY3Rpb24oZSx0KXtlPWQoZSksdD0hIXQ7aWYodGhpcy5zb3J0aW5nIT09ZXx8dGhpcy5zb3J0aW5nRGVzYyE9ISF0KXt2YXIgbj10aGlzLnNvcnRpbmcscj10aGlzLnNvcnRpbmdEZXNjO3RoaXMuc29ydGluZz1lLHRoaXMuc29ydGluZ0Rlc2M9ISF0O2lmKGUhPT12JiZ0aGlzLmZpcnN0Q2hpbGQpe3ZhciBpPVtdLHM7Zm9yKHZhciBvPXRoaXMuZmlyc3RDaGlsZDtvO289by5uZXh0U2libGluZylvLnNvcnRpbmdWYWx1ZT1lKG8pfHwwO2lmKHRoaXMuZ3JvdXBpbmcpZm9yKHZhciB1PXRoaXMuZ3JvdXBpbmcubnVsbEdyb3VwO3U7dT11Lm5leHRTaWJsaW5nKXM9dS5ub2Rlcz1XKHtjaGlsZE5vZGVzOnUubm9kZXMsc29ydGluZ0Rlc2M6dGhpcy5zb3J0aW5nRGVzY30pLHUuZmlyc3Q9c1swXXx8bnVsbCx1Lmxhc3Q9c1tzLmxlbmd0aC0xXXx8bnVsbCxpLnB1c2guYXBwbHkoaSxzKTtlbHNlIGk9Vyh0aGlzKTtydCh0aGlzLGkpfXRoaXMuZW1pdF9zb3J0aW5nQ2hhbmdlZChuLHIpfX0sc2V0TWF0Y2hGdW5jdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLm1hdGNoRnVuY3Rpb24hPWUpe3ZhciB0PXRoaXMubWF0Y2hGdW5jdGlvbjt0aGlzLm1hdGNoRnVuY3Rpb249ZTtmb3IodmFyIG49dGhpcy5sYXN0Q2hpbGQ7bjtuPW4ucHJldmlvdXNTaWJsaW5nKW4ubWF0Y2goZSk7dGhpcy5lbWl0X21hdGNoRnVuY3Rpb25DaGFuZ2VkKHQpfX19LHV0PWYoWixvdCx7Y2xhc3NOYW1lOmErIi5Ob2RlIixlbWl0X2VuYWJsZTpnKCJlbmFibGUiKSYmZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKSQoZSwhMSk7eS5lbmFibGUuY2FsbCh0aGlzKX0sZW1pdF9kaXNhYmxlOmcoImRpc2FibGUiKSYmZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKSQoZSwhMCk7eS5kaXNhYmxlLmNhbGwodGhpcyl9LGVtaXRfc2F0ZWxsaXRlQ2hhbmdlZDpmdW5jdGlvbihlLHQpe1oucHJvdG90eXBlLmVtaXRfc2F0ZWxsaXRlQ2hhbmdlZC5jYWxsKHRoaXMsZSx0KSx0aGlzLnNhdGVsbGl0ZVtlXWluc3RhbmNlb2YgdXQmJiQodGhpcy5zYXRlbGxpdGVbZV0sdGhpcy5kaXNhYmxlZHx8dGhpcy5jb250ZXh0RGlzYWJsZWQpfSxlbWl0X3NlbGVjdDpnKCJzZWxlY3QiKSxlbWl0X3Vuc2VsZWN0OmcoInVuc2VsZWN0IiksZW1pdF9tYXRjaDpnKCJtYXRjaCIpLGVtaXRfdW5tYXRjaDpnKCJ1bm1hdGNoIiksZW1pdF9tYXRjaEZ1bmN0aW9uQ2hhbmdlZDpnKCJtYXRjaEZ1bmN0aW9uQ2hhbmdlZCIsIm9sZE1hdGNoRnVuY3Rpb24iKSxzZWxlY3RhYmxlOiEwLHNlbGVjdGVkOiExLHNlbGVjdGlvbjpudWxsLGNvbnRleHRTZWxlY3Rpb246bnVsbCxtYXRjaEZ1bmN0aW9uOm51bGwsbWF0Y2hlZDohMCxkaXNhYmxlZDohMSxjb250ZXh0RGlzYWJsZWQ6ITEsbGlzdGVuOntvd25lcjp7ZW5hYmxlOmZ1bmN0aW9uKCl7JCh0aGlzLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpeyQodGhpcywhMCl9fX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uJiYodGhpcy5zZWxlY3Rpb24gaW5zdGFuY2VvZiB4PT0wJiYodGhpcy5zZWxlY3Rpb249bmV3IGN0KHRoaXMuc2VsZWN0aW9uKSksdGhpcy5saXN0ZW4uc2VsZWN0aW9uJiZ0aGlzLnNlbGVjdGlvbi5hZGRIYW5kbGVyKHRoaXMubGlzdGVuLnNlbGVjdGlvbix0aGlzKSksWi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuZGlzYWJsZWQmJnRoaXMuZW1pdF9kaXNhYmxlKCksdGhpcy5zZWxlY3RlZCYmKHRoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5zZWxlY3QoITApKX0sc2V0U2VsZWN0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc2VsZWN0aW9uIT09ZSlyZXR1cm4gVih0aGlzLHRoaXMuc2VsZWN0aW9ufHx0aGlzLmNvbnRleHRTZWxlY3Rpb24sZXx8dGhpcy5jb250ZXh0U2VsZWN0aW9uLCExLCEwKSx0aGlzLnNlbGVjdGlvbiYmdGhpcy5saXN0ZW4uc2VsZWN0aW9uJiZ0aGlzLnNlbGVjdGlvbi5yZW1vdmVIYW5kbGVyKHRoaXMubGlzdGVuLnNlbGVjdGlvbix0aGlzKSx0aGlzLnNlbGVjdGlvbj1lLGUmJnRoaXMubGlzdGVuLnNlbGVjdGlvbiYmZS5hZGRIYW5kbGVyKHRoaXMubGlzdGVuLnNlbGVjdGlvbix0aGlzKSwhMH0sc2VsZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0ZWQsbj10aGlzLmNvbnRleHRTZWxlY3Rpb247cmV0dXJuIG4/ZT90P24ucmVtb3ZlKFt0aGlzXSk6bi5hZGQoW3RoaXNdKTp0aGlzLnNlbGVjdGFibGUmJm4uc2V0KFt0aGlzXSk6IXQmJnRoaXMuc2VsZWN0YWJsZSYmKHRoaXMuc2VsZWN0ZWQ9ITAsdGhpcy5lbWl0X3NlbGVjdCgpKSx0aGlzLnNlbGVjdGVkIT10fSx1bnNlbGVjdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VsZWN0ZWQ7aWYoZSl7dmFyIHQ9dGhpcy5jb250ZXh0U2VsZWN0aW9uO3Q/dC5yZW1vdmUoW3RoaXNdKToodGhpcy5zZWxlY3RlZD0hMSx0aGlzLmVtaXRfdW5zZWxlY3QoKSl9cmV0dXJuIHRoaXMuc2VsZWN0ZWQhPWV9LHNldFNlbGVjdGVkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dGhpcy5zZWxlY3QodCk6dGhpcy51bnNlbGVjdCgpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRpc2FibGVkO3JldHVybiBlJiYodGhpcy5kaXNhYmxlZD0hMSx0aGlzLmNvbnRleHREaXNhYmxlZHx8dGhpcy5lbWl0X2VuYWJsZSgpKSx0aGlzLmRpc2FibGVkIT1lfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kaXNhYmxlZDtyZXR1cm4gZXx8KHRoaXMuZGlzYWJsZWQ9ITAsdGhpcy5jb250ZXh0RGlzYWJsZWR8fHRoaXMuZW1pdF9kaXNhYmxlKCkpLHRoaXMuZGlzYWJsZWQhPWV9LHNldERpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGlzRGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNhYmxlZHx8dGhpcy5jb250ZXh0RGlzYWJsZWR9LG1hdGNoOmZ1bmN0aW9uKGUpe3R5cGVvZiBlIT0iZnVuY3Rpb24iJiYoZT1udWxsKSx0aGlzLnVuZGVyTWF0Y2hfJiYhZSYmdGhpcy51bmRlck1hdGNoXyh0aGlzLCEwKSx0aGlzLnVuZGVyTWF0Y2hfPWU7dmFyIHQ9IWV8fGUodGhpcyk7dGhpcy5tYXRjaGVkIT10JiYodGhpcy5tYXRjaGVkPXQsdD90aGlzLmVtaXRfbWF0Y2goKTp0aGlzLmVtaXRfdW5tYXRjaCgpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudW5zZWxlY3QoKSx0aGlzLmNvbnRleHRTZWxlY3Rpb249bnVsbCx0aGlzLnNlbGVjdGlvbiYmdGhpcy5zZXRTZWxlY3Rpb24oKSxaLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSksYXQ9ZihaLG90LHtjbGFzc05hbWU6YSsiLkdyb3VwaW5nTm9kZSIsZW1pdF9jaGlsZE5vZGVzTW9kaWZpZWQ6ZnVuY3Rpb24oZSl7eS5jaGlsZE5vZGVzTW9kaWZpZWQuY2FsbCh0aGlzLGUpLHRoaXMubnVsbEdyb3VwLm5leHRTaWJsaW5nPXRoaXMuZmlyc3RDaGlsZDt2YXIgdDtpZih0PWUuaW5zZXJ0ZWQpe2Zvcih2YXIgbj0wLHI7cj10W24rK107KXIuZ3JvdXBJZF89ci5kZWxlZ2F0ZT9yLmRlbGVnYXRlLmJhc2lzT2JqZWN0SWQ6ci5kYXRhLmlkLHRoaXMubWFwX1tyLmdyb3VwSWRfXT1yO2lmKHRoaXMuZGF0YVNvdXJjZSYmdGhpcy5udWxsR3JvdXAuZmlyc3Qpe3ZhciBpPXRoaXMub3duZXIscz1jKHRoaXMubnVsbEdyb3VwLm5vZGVzKTtmb3IodmFyIG49cy5sZW5ndGg7bi0tPjA7KWkuaW5zZXJ0QmVmb3JlKHNbbl0sc1tuXS5uZXh0U2libGluZyl9fX0sZW1pdF9vd25lckNoYW5nZWQ6ZnVuY3Rpb24oZSl7ZSYmZS5ncm91cGluZz09PXRoaXMmJmUuc2V0R3JvdXBpbmcobnVsbCwhMCksdGhpcy5vd25lciYmdGhpcy5vd25lci5ncm91cGluZyE9PXRoaXMmJnRoaXMub3duZXIuc2V0R3JvdXBpbmcodGhpcykseS5vd25lckNoYW5nZWQuY2FsbCh0aGlzLGUpLCF0aGlzLm93bmVyJiZ0aGlzLmF1dG9EZXN0cm95V2l0aE5vT3duZXImJnRoaXMuZGVzdHJveSgpfSxtYXBfOm51bGwsbnVsbEdyb3VwOm51bGwsYXV0b0Rlc3Ryb3lXaXRoTm9Pd25lcjohMCxhdXRvRGVzdHJveUVtcHR5R3JvdXBzOiEwLHJ1bGU6dixjaGlsZENsYXNzOmV0LGNoaWxkRmFjdG9yeTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY2hpbGRDbGFzcyhsKHthdXRvRGVzdHJveUlmRW1wdHk6dGhpcy5kYXRhU291cmNlPyExOnRoaXMuYXV0b0Rlc3Ryb3lFbXB0eUdyb3Vwc30sZSkpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXBfPXt9LHRoaXMubnVsbEdyb3VwPW5ldyBldCxaLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGdldEdyb3VwTm9kZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucnVsZShlKSxyPW4gaW5zdGFuY2VvZiBTLGk9dGhpcy5tYXBfW3I/bi5iYXNpc09iamVjdElkOm5dO3JldHVybiB0aGlzLmRhdGFTb3VyY2UmJih0PSExKSwhaSYmdCYmKGk9dGhpcy5hcHBlbmRDaGlsZChyP246e2RhdGE6e2lkOm4sdGl0bGU6bn19KSksaXx8dGhpcy5udWxsR3JvdXB9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhU291cmNlO290LnNldERhdGFTb3VyY2UuY2FsbCh0aGlzLGUpO3ZhciBuPXRoaXMub3duZXI7aWYobiYmdGhpcy5kYXRhU291cmNlIT09dCl7dmFyIHI9YyhuLmNoaWxkTm9kZXMpO2Zvcih2YXIgaT1yLmxlbmd0aC0xO2k+PTA7aS0tKW4uaW5zZXJ0QmVmb3JlKHJbaV0scltpKzFdKX19LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLHQpe2U9b3QuaW5zZXJ0QmVmb3JlLmNhbGwodGhpcyxlLHQpO3ZhciBuPWUuZmlyc3Q7aWYobil7dmFyIHI9bi5wYXJlbnROb2RlLGk9ZS5sYXN0LHMsbyx1LGE9bnVsbCxmPWU7d2hpbGUoZj1mLm5leHRTaWJsaW5nKWlmKGE9Zi5maXJzdClicmVhazt1PWE/YS5wcmV2aW91c1NpYmxpbmc6ci5sYXN0Q2hpbGQscz1uLnByZXZpb3VzU2libGluZyxvPWkubmV4dFNpYmxpbmc7aWYobyE9PWEpe3ZhciBsPXIuY2hpbGROb2RlcyxjPWUubm9kZXMsaD1jLmxlbmd0aDtzJiYocy5uZXh0U2libGluZz1vKSxvJiYoby5wcmV2aW91c1NpYmxpbmc9cyksdSYmKHUubmV4dFNpYmxpbmc9biksYSYmKGEucHJldmlvdXNTaWJsaW5nPWkpLG4ucHJldmlvdXNTaWJsaW5nPXUsaS5uZXh0U2libGluZz1hO3ZhciBwPWwuaW5kZXhPZihuKSxkPWE/bC5pbmRleE9mKGEpOmwubGVuZ3RoO2Q+cCYmKGQtPWgpLGwuc3BsaWNlKHAsaCksbC5zcGxpY2UuYXBwbHkobCxbZCwwXS5jb25jYXQoYykpO2lmKCF1fHwhcylyLmZpcnN0Q2hpbGQ9bFswXTtpZighYXx8IW8pci5sYXN0Q2hpbGQ9bFtsLmxlbmd0aC0xXTtpZihuIGluc3RhbmNlb2YgZXQpZm9yKHZhciB2PWgsbT1hO3YtLT4wOylyLmluc2VydEJlZm9yZShjW3ZdLG0pLG09Y1t2XX19cmV0dXJuIGV9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGUpe2lmKGU9b3QucmVtb3ZlQ2hpbGQuY2FsbCh0aGlzLGUpKXtkZWxldGUgdGhpcy5tYXBfW2UuZ3JvdXBJZF9dO2Zvcih2YXIgdD0wLG47bj1lLm5vZGVzW3RdO3QrKyluLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4pfXJldHVybiBlfSxjbGVhcjpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPXRoaXMuZ2V0R3JvdXBOb2RlLHI9dGhpcy5udWxsR3JvdXA7dGhpcy5nZXRHcm91cE5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn07Zm9yKHZhciBpPXRoaXMuZmlyc3RDaGlsZDtpO2k9aS5uZXh0U2libGluZyl0LnB1c2guYXBwbHkodCxpLm5vZGVzKTtmb3IodmFyIHM9MCxvO289dFtzXTtzKyspby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvKTt0aGlzLmdldEdyb3VwTm9kZT1uLG90LmNsZWFyLmNhbGwodGhpcyxlKSx0aGlzLm1hcF89e319LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmF1dG9EZXN0cm95V2l0aE5vT3duZXI9ITEsWi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMubnVsbEdyb3VwLmRlc3Ryb3koKSx0aGlzLm51bGxHcm91cD1udWxsLHRoaXMubWFwXz1udWxsfX0pO1oucHJvdG90eXBlLmdyb3VwaW5nQ2xhc3M9YXQ7dmFyIGZ0PXtjaGlsZE5vZGVzTW9kaWZpZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1lbWJlcnNfLHI9e30saSxzPTAsbz0wLHU9dC5pbnNlcnRlZCxhPXQuZGVsZXRlZDtpZih1JiZ1Lmxlbmd0aCl7ci5pbnNlcnRlZD11O3doaWxlKGk9dVtzXSluW2kuYmFzaXNPYmplY3RJZF09aSxzKyt9aWYoYSYmYS5sZW5ndGgpe3IuZGVsZXRlZD1hO3doaWxlKGk9YVtvXSlkZWxldGUgbltpLmJhc2lzT2JqZWN0SWRdLG8rK30oc3x8bykmJnRoaXMuZW1pdF9pdGVtc0NoYW5nZWQocil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKX19LGx0PWYoeCx7Y2xhc3NOYW1lOmErIi5DaGlsZE5vZGVzRGF0YXNldCIsc291cmNlTm9kZTpudWxsLGluaXQ6ZnVuY3Rpb24oKXt4LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5zb3VyY2VOb2RlO0hbZS5iYXNpc09iamVjdElkXT10aGlzLGUuZmlyc3RDaGlsZCYmZnQuY2hpbGROb2Rlc01vZGlmaWVkLmNhbGwodGhpcyxlLHtpbnNlcnRlZDplLmNoaWxkTm9kZXN9KSxlLmFkZEhhbmRsZXIoZnQsdGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZU5vZGUucmVtb3ZlSGFuZGxlcihmdCx0aGlzKSxkZWxldGUgSFt0aGlzLnNvdXJjZU5vZGUuYmFzaXNPYmplY3RJZF0seC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pLGN0PWYoVCx7Y2xhc3NOYW1lOmErIi5TZWxlY3Rpb24iLG11bHRpcGxlOiExLGVtaXRfaXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUpe1QucHJvdG90eXBlLmVtaXRfaXRlbXNDaGFuZ2VkLmNhbGwodGhpcyxlKTtpZihlLmluc2VydGVkKWZvcih2YXIgdD0wLG47bj1lLmluc2VydGVkW3RdO3QrKyluLnNlbGVjdGVkfHwobi5zZWxlY3RlZD0hMCxuLmVtaXRfc2VsZWN0KCkpO2lmKGUuZGVsZXRlZClmb3IodmFyIHQ9MCxuO249ZS5kZWxldGVkW3RdO3QrKyluLnNlbGVjdGVkJiYobi5zZWxlY3RlZD0hMSxuLmVtaXRfdW5zZWxlY3QoKSl9LGFkZDpmdW5jdGlvbihlKXtpZighdGhpcy5tdWx0aXBsZSl7aWYodGhpcy5pdGVtQ291bnQpcmV0dXJuIHRoaXMuc2V0KGUpO2U9W2VbMF1dfXZhciB0PVtdO2Zvcih2YXIgbj0wLHI7cj1lW25dO24rKylyLmNvbnRleHRTZWxlY3Rpb249PXRoaXMmJnIuc2VsZWN0YWJsZSYmdC5wdXNoKHIpO3JldHVybiBULnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuPTAscjtyPWVbbl07bisrKXIuY29udGV4dFNlbGVjdGlvbj09dGhpcyYmci5zZWxlY3RhYmxlJiZ0LnB1c2gocik7cmV0dXJuIHRoaXMubXVsdGlwbGV8fHQuc3BsaWNlKDEpLFQucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsdCl9fSk7dC5leHBvcnRzPXtERUxFR0FURTpQLEFic3RyYWN0Tm9kZTpaLE5vZGU6dXQsR3JvdXBpbmdOb2RlOmF0LFBhcnRpdGlvbk5vZGU6ZXQsQ2hpbGROb2Rlc0RhdGFzZXQ6bHQsU2VsZWN0aW9uOmN0LG51bGxTZWxlY3Rpb246bmV3IHh9fSwiNi5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBldChlLHQpe3JldHVybic8c3BhbiBjbGFzcz0iYmFzaXNqcy1tYXJrdXAiIGRhdGEtYmFzaXNqcy1sMTBuPSInK3QrJyI+JytTdHJpbmcoZSkrIjwvc3Bhbj4ifWZ1bmN0aW9uIHR0KGUpe3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9bi5sMTBuLnRva2VuKGUpKTtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1lLmJhc2lzT2JqZWN0SWQscj1ZW3RdO3JldHVybiByfHwocj1ZW3RdPW5ldyBkdChuZXcgWihlKSkpLHJ9ZnVuY3Rpb24gbnQoKXtyZXR1cm4iaSIrbi5nZW5VSUQoKSsiX18ifWZ1bmN0aW9uIHJ0KGUsdCl7ZnVuY3Rpb24gbih0KXtmPm8mJihyLnB1c2goKHR8fCIiKStlLnN1YnN0cmluZyhvLGYpKSxvPWYpfXZhciByPVtdLGk9ZS5zcGxpdCgiIikscz1pLmxlbmd0aCxvPTAsdT0hMSxhO3R8fCh0PW50KCkpO2Zvcih2YXIgZj0wO2Y8cztmKyspc3dpdGNoKGlbZl0pe2Nhc2UiJyI6Y2FzZSciJzphPWlbZl07d2hpbGUoKytmPHMpaWYoaVtmXT09IlxcIilmKys7ZWxzZSBpZihpW2ZdPT1hKXtmKys7YnJlYWt9YnJlYWs7Y2FzZSIvIjppZihpW2YrMV09PSIqIil7ZisrO3doaWxlKCsrZjxzKWlmKGlbZl09PSIqIiYmaVtmKzFdPT0iLyIpe2YrPTI7YnJlYWt9fWJyZWFrO2Nhc2UieyI6dT0hMDticmVhaztjYXNlIn0iOnU9ITE7YnJlYWs7Y2FzZSIuIjppZighdSl7ZisrLG4oKTt3aGlsZSgrK2Y8cylpZighL1thLXowLTlcLVxfXS8udGVzdChpW2ZdKSl7bih0KSxmLT0xO2JyZWFrfX19cmV0dXJuIG4oKSxyLmpvaW4oIiIpfWZ1bmN0aW9uIHN0KGUpe3ZhciB0PW4ucmVzb3VyY2UoZSkuZmV0Y2goKTt0eXBlb2YgdC5zdGFydFVzZT09ImZ1bmN0aW9uIiYmdC5zdGFydFVzZSgpfWZ1bmN0aW9uIG90KGUpe3ZhciB0PW4ucmVzb3VyY2UoZSkuZmV0Y2goKTt0eXBlb2YgdC5zdG9wVXNlPT0iZnVuY3Rpb24iJiZ0LnN0b3BVc2UoKX1mdW5jdGlvbiB1dCgpe3RoaXMuZGVzdHJveUJ1aWxkZXImJmx0LmNhbGwodGhpcyk7Zm9yKHZhciBlPTAsdDt0PXRoaXMuYXR0YWNoZXNfW2VdO2UrKyl0LmhhbmRsZXIuY2FsbCh0LmNvbnRleHQpfWZ1bmN0aW9uIGF0KGUpe3ZhciB0PVtdO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaChBcnJheS5pc0FycmF5KGVbbl0pP2F0KGVbbl0pOmVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIGZ0KGUsdCxyLGkpe3ZhciBzPWUsbzt0eXBlb2Ygcz09ImZ1bmN0aW9uIiYmKHQ9ImJhc2VVUkkiaW4gZT9lLmJhc2VVUkk6dCxvPSJ1cmwiaW4gZT9lLnVybDpvLHM9cygpKSxzIGluc3RhbmNlb2Ygbi5Ub2tlbiYmKHQ9ImJhc2VVUkkiaW4gZT9lLmJhc2VVUkk6dCxvPSJ1cmwiaW4gZT9lLnVybDpvLHM9cy5nZXQoKSk7aWYoQXJyYXkuaXNBcnJheShzKSlyJiYocz1hdChzKSkscz17dG9rZW5zOnN9O2Vsc2UgaWYodHlwZW9mIHMhPSJvYmplY3QifHwhQXJyYXkuaXNBcnJheShzLnRva2Vucykpcz1TdHJpbmcocyk7cmV0dXJuIHR5cGVvZiBzPT0ic3RyaW5nIiYmKHM9aXQocyx0LGksbyxlKSksc31mdW5jdGlvbiBsdCgpe3ZhciBlPWZ0KHRoaXMuc291cmNlLHRoaXMuYmFzZVVSSSwhMSx7aXNvbGF0ZTp0aGlzLmdldElzb2xhdGVQcmVmaXgoKX0pLHQ9dGhpcy5kZXN0cm95QnVpbGRlcixuPXRoaXMuYnVpbGRlcihlLnRva2Vucyx0aGlzKSxyPXRoaXMuZGVwc187aWYocil7dGhpcy5kZXBzXz1udWxsO2Zvcih2YXIgaT0wLHM7cz1yW2ldO2krKylzLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHMsbHQsdGhpcyl9aWYoZS5kZXBzJiZlLmRlcHMubGVuZ3RoKXtyPWUuZGVwcyx0aGlzLmRlcHNfPXI7Zm9yKHZhciBpPTAscztzPXJbaV07aSsrKXMuYmluZGluZ0JyaWRnZS5hdHRhY2gocyxsdCx0aGlzKX10aGlzLmNyZWF0ZUluc3RhbmNlPW4uY3JlYXRlSW5zdGFuY2UsdGhpcy5jbGVhckluc3RhbmNlPW4uZGVzdHJveUluc3RhbmNlLHRoaXMuZ2V0QmluZGluZz1mdW5jdGlvbigpe3JldHVybntuYW1lczpuLmtleXN9fSx0aGlzLmRlc3Ryb3lCdWlsZGVyPW4uZGVzdHJveTt2YXIgbz1lLnJlc291cmNlcyYmZS5yZXNvdXJjZXMubGVuZ3RoPjA/ZS5yZXNvdXJjZXM6bnVsbDtpZihvKWZvcih2YXIgaT0wLHU7dT1vW2ldO2krKylzdCh1KTtpZih0aGlzLnJlc291cmNlcylmb3IodmFyIGk9MCx1O3U9dGhpcy5yZXNvdXJjZXNbaV07aSsrKW90KHUpO3RoaXMucmVzb3VyY2VzPW8sdCYmdCghMCl9ZnVuY3Rpb24gaHQoZSl7dmFyIHQ9cHQoZSk7aWYodC50ZW1wbGF0ZSlyZXR1cm4gdC50ZW1wbGF0ZTt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSxyPSIiO3JldHVybiBuJiZuLnRhZ05hbWU9PSJTQ1JJUFQiJiZuLnR5cGU9PSJ0ZXh0L2Jhc2lzLXRlbXBsYXRlIiYmKHI9bi50ZXh0Q29udGVudHx8bi50ZXh0KSx0LnRlbXBsYXRlPW5ldyBkdChyKX1mdW5jdGlvbiBwdChlKXt2YXIgdD1jdFtlXTtyZXR1cm4gdHx8KHQ9Y3RbZV09ZnVuY3Rpb24oKXtyZXR1cm4gaHQoZSkuc291cmNlfSksdH1mdW5jdGlvbiBndChlLHQpe3ZhciByPW4uYXJyYXkoYXJndW1lbnRzKSx0PXIucG9wKCk7cmV0dXJuIG5ldyB2dCh7cnVsZTp0LGV2ZW50czpyLmpvaW4oIiAiKS50cmltKCkuc3BsaXQoL1xzKy8pfSl9ZnVuY3Rpb24gd3QoKXt2YXIgZT1uLmFycmF5KGFyZ3VtZW50cykuam9pbigiLiIpLHQ9QXRbZV07cmV0dXJuIHR8fCh0PW5ldyBidCgiIixlKSxBdFtlXT10KSx0fWZ1bmN0aW9uIEV0KGUpe3ZhciB0PXt9LG49W107Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdFtlW3JdXXx8KHRbZVtyXV09ITAsbi5wdXNoKGVbcl0pKTtyZXR1cm4gbn1mdW5jdGlvbiBTdChlLHQpe3ZhciBuPVtdO24uc291cmNlPUV0KHQpLmpvaW4oIi8iKTt2YXIgcj17YmFzZTohMH07Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV18fCJiYXNlIjtpZihzPT1lfHxyW3NdKWNvbnRpbnVlO3ZhciBvPWt0KHMpO3Jbc109ITAsbi5wdXNoKHMpLHQuc3BsaWNlLmFwcGx5KHQsW2krMSwwXS5jb25jYXQoTHRbc10uZmFsbGJhY2spKX1yZXR1cm4gbi51bnNoaWZ0KGUpLGUhPSJiYXNlIiYmbi5wdXNoKCJiYXNlIiksbi52YWx1ZT1uLmpvaW4oIi8iKSxufWZ1bmN0aW9uIHh0KGUsdCl7dmFyIG49THRbZV0uc291cmNlc0xpc3Q7Zm9yKHZhciByPTAsaTtpPW5bcl07cisrKWlmKGkuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIGlbdF07cmV0dXJuIiJ9ZnVuY3Rpb24gVHQoZSl7cmV0dXJuIEx0W010XS5mYWxsYmFjay5pbmRleE9mKGUpIT0tMX1mdW5jdGlvbiBOdChlKXt3dChlKS5zZXQoKX1mdW5jdGlvbiBDdChlKXtmb3IodmFyIHQgaW4gQXQpTnQodCl9ZnVuY3Rpb24ga3QoZSl7ZXx8KGU9ImJhc2UiKTtpZihMdFtlXSlyZXR1cm4gTHRbZV0udGhlbWU7aWYoIS9eKFthLXowLTlcX1wtXSspJC8udGVzdChlKSl0aHJvdyAzMTt2YXIgdD17fSxyPVt0XSxpPW5ldyB5dDtMdFtlXT17dGhlbWU6aSxzb3VyY2VzOnQsc291cmNlc0xpc3Q6cixmYWxsYmFjazpbXX07dmFyIHM9ZnVuY3Rpb24obixyKXtyZXR1cm4gbiBpbiB0PT0wJiYodFtuXT1yLFR0KGUpJiZOdChuKSksd3Qobil9O3JldHVybiBuLm9iamVjdC5leHRlbmQoaSx7bmFtZTplLGZhbGxiYWNrOmZ1bmN0aW9uKHQpe2lmKGkhPT1PdCYmYXJndW1lbnRzLmxlbmd0aD4wKXt2YXIgbj10eXBlb2YgdD09InN0cmluZyI/dC5zcGxpdCgiLyIpOltdLHI9e307bj1TdChlLG4pO2lmKEx0W2VdLmZhbGxiYWNrLnNvdXJjZSE9bi5zb3VyY2Upe0x0W2VdLmZhbGxiYWNrLnNvdXJjZT1uLnNvdXJjZTtmb3IodmFyIHMgaW4gTHQpe3ZhciBvPUx0W3NdLmZhbGxiYWNrLG49U3Qocywoby5zb3VyY2V8fCIiKS5zcGxpdCgiLyIpKTtpZihuLnZhbHVlIT1vLnZhbHVlKXtyW3NdPSEwLEx0W3NdLmZhbGxiYWNrPW47dmFyIHU9THRbc10uc291cmNlc0xpc3Q7dS5sZW5ndGg9bi5sZW5ndGg7Zm9yKHZhciBhPTA7YTx1Lmxlbmd0aDthKyspdVthXT1MdFtuW2FdXS5zb3VyY2VzfX19dmFyIGY9THRbTXRdLmZhbGxiYWNrO2Zvcih2YXIgcyBpbiByKWlmKFR0KHMpKXtDdCgpO2JyZWFrfX12YXIgbD1MdFtlXS5mYWxsYmFjay5zbGljZSgxKTtyZXR1cm4gbC5zb3VyY2U9THRbZV0uZmFsbGJhY2suc291cmNlLGx9LGRlZmluZTpmdW5jdGlvbihlLHQpe3R5cGVvZiBlPT0iZnVuY3Rpb24iJiYoZT1lKCkpO2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7aWYodHlwZW9mIHQ9PSJvYmplY3QiKXt2YXIgbj1lLHI9dCxvPXt9O2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJihvW3VdPXMobisiLiIrdSxyW3VdKSk7cmV0dXJuIG99cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PTE/d3QoZSk6cyhlLHQpfWlmKHR5cGVvZiBlPT0ib2JqZWN0Iil7dmFyIHI9ZTtmb3IodmFyIGEgaW4gcilyLmhhc093blByb3BlcnR5KGEpJiZzKGEsclthXSk7cmV0dXJuIGl9fSxhcHBseTpmdW5jdGlvbigpe2lmKGUhPU10KXtNdD1lLEN0KCk7Zm9yKHZhciB0PTAsbjtuPV90W3RdO3QrKyluLmZuLmNhbGwobi5jb250ZXh0LGUpfXJldHVybiBpfSxnZXRTb3VyY2U6ZnVuY3Rpb24obixyKXtyZXR1cm4gcj94dChlLG4pOnRbbl19LGRyb3A6ZnVuY3Rpb24obil7dC5oYXNPd25Qcm9wZXJ0eShuKSYmKGRlbGV0ZSB0W25dLFR0KGUpJiZOdChuKSl9fSksTHRbZV0uZmFsbGJhY2s9U3QoZSxbXSksci5wdXNoKEx0LmJhc2Uuc291cmNlcyksaX1mdW5jdGlvbiBEdChlLHQsbil7X3QucHVzaCh7Zm46ZSxjb250ZXh0OnR9KSxuJiZlLmNhbGwodCxNdCl9bi5yZXF1aXJlKCIuLzIuanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLkNsYXNzLGw9bi5jbGVhbmVyLGM9bi5wYXRoLGg9bi5hcnJheS5zZWFyY2gscD1uLmFycmF5LmFkZCxkPW4uYXJyYXkucmVtb3ZlLHY9W10sbT17fSxnPTIseT0xLGI9Mix3PTQsRT01LFM9Nix4PTMsVD04LE49MCxDPTEsaz0yLEw9MyxBPTQsTz0vXmV2ZW50LSguKykkLyxNPXs0OiJjbGFzcyIsNToic3R5bGUifSxfPXsiY2xhc3MiOncsc3R5bGU6RX0sRD17MjpBLDQ6QS0xLDU6QS0xLDY6Mn0sUD0zLEg9NCxCPTUsaj0zLEY9MyxJPSJJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIHN5bnRheCIscT0vKCg/Oi58W1xyXG5dKSo/KShceyg/OmwxMG46KFthLXpBLVpfXVthLXpBLVowLTlfXC1dKig/OlwuW2EtekEtWl9dW2EtekEtWjAtOV9cLV0qKSooPzpcLlx7W2EtekEtWl9dW2EtekEtWjAtOV9cLV0qXH0pPylcfSk/fDwoXC98IS0tKFxzKlx7KT8pP3wkKS9nLFI9LyhbYS16X11bYS16MC05XC1fXSopKDp8XHt8XHMqKFwvPz4pPykvaWcsVT0vKFthLXpfXVthLXowLTlfXC1dKikoOnxce3w9fFxzKil8KFwvPz4pL2lnLHo9LygufFtcclxuXSkqPy0tPi9nLFc9LyhbYS16X11bYS16MC05X1wtXSooPzo6W2Etel9dW2EtejAtOV9cLV0qKT8pPi9pZyxYPS8oW2Etel9dW2EtejAtOV9dKikoXHx8XH1ccyopL2lnLFY9LyIoKD86KFxcIil8W14iXSkqPykiXHMqL2csJD0vXi9nLEo9L14oYXJlYXxiYXNlfGJyfGNvbHxjb21tYW5kfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW18c291cmNlKSQvaSxLPXt0ZXh0Oi8oKD86LnxbXHJcbl0pKj8pKD86PFwvYjp0ZXh0PnwkKS9nLHN0eWxlOi8oKD86LnxbXHJcbl0pKj8pKD86PFwvYjpzdHlsZT58JCkvZ30sUT0vXFwiL2csRz1mdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLHI9e2NoaWxkczp0fSxpLHMsbyx1LGE9ITEsZj0wLGwsYz1xLGg9MCxwO2U9ZS50cmltKCk7d2hpbGUoaDxlLmxlbmd0aHx8YyE9cSl7Yy5sYXN0SW5kZXg9aCx1PWgscD1jLmV4ZWMoZSk7aWYoIXB8fHAuaW5kZXghPT1oKXtpZihjPT1YJiZzJiZzLnR5cGU9PVQpe2M9ejtjb250aW51ZX1hJiYocj1uLnBvcCgpKSxzJiZyLmNoaWxkcy5wb3AoKTtpZihzPXIuY2hpbGRzLnBvcCgpKXMudHlwZT09eCYmIXMucmVmcz9mLT0ibGVuImluIHM/cy5sZW46cy52YWx1ZS5sZW5ndGg6ci5jaGlsZHMucHVzaChzKTthPSExLGM9cTtjb250aW51ZX1oPWMubGFzdEluZGV4O3N3aXRjaChjKXtjYXNlIHE6bD11K3BbMV0ubGVuZ3RoLGYhPWwmJihpPWY9PXU/cFsxXTplLnN1YnN0cmluZyhmLGwpLHM9aS5yZXBsYWNlKC9ccyooXHJcbj98XG5ccj8pXHMqL2csIiIpLHMmJnIuY2hpbGRzLnB1c2goe3R5cGU6eCxsZW46aS5sZW5ndGgsdmFsdWU6c30pKSxmPWwscFszXT9yLmNoaWxkcy5wdXNoKHt0eXBlOngscmVmczpbImwxMG46IitwWzNdXSx2YWx1ZToie2wxMG46IitwWzNdKyJ9In0pOnBbMl09PSJ7Ij8obz1oLTEsci5jaGlsZHMucHVzaChzPXt0eXBlOnh9KSxjPVgpOnBbNF0/cFs0XT09Ii8iPyhzPW51bGwsYz1XKTooci5jaGlsZHMucHVzaChzPXt0eXBlOlR9KSxwWzVdPyhvPWgtcFs1XS5sZW5ndGgsYz1YKToobz1oLGM9eikpOnBbMl0mJihhPSEwLG4ucHVzaChyKSxyLmNoaWxkcy5wdXNoKHM9e3R5cGU6eSxhdHRyczpbXSxjaGlsZHM6W119KSxyPXMsYz1SKTticmVhaztjYXNlIFc6cFsxXSE9PShyLnByZWZpeD9yLnByZWZpeCsiOiI6IiIpK3IubmFtZT9yLmNoaWxkcy5wdXNoKHt0eXBlOngsdmFsdWU6IjwvIitwWzBdfSk6cj1uLnBvcCgpLGM9cTticmVhaztjYXNlIFI6Y2FzZSBVOmlmKHBbMl09PSI6Iil7cy5wcmVmaXg/Yz0kOnMucHJlZml4PXBbMV07YnJlYWt9cFsxXSYmKHMubmFtZT1wWzFdLHMudHlwZT09YiYmci5hdHRycy5wdXNoKHMpKTtpZihwWzJdPT0ieyIpe3MudHlwZT09eT9jPVg6Yz0kO2JyZWFrfWlmKHBbM10pe2E9ITE7aWYocFszXT09Ii8+Inx8IXIucHJlZml4JiZKLnRlc3Qoci5uYW1lKSlyPW4ucG9wKCk7ZWxzZSBpZihyLnByZWZpeD09ImIiJiZyLm5hbWUgaW4gSyl7Yz1LW3IubmFtZV07YnJlYWt9Yz1xO2JyZWFrfWlmKHBbMl09PSI9Iil7Yz1WO2JyZWFrfXM9e3R5cGU6Yn0sYz1VO2JyZWFrO2Nhc2UgejpzLnZhbHVlPWUuc3Vic3RyaW5nKG8saC0zKSxjPXE7YnJlYWs7Y2FzZSBYOnMucmVmcz9zLnJlZnMucHVzaChwWzFdKTpzLnJlZnM9W3BbMV1dLHBbMl0hPSJ8IiYmKHMudHlwZT09eD8oaC09cFsyXS5sZW5ndGgtMSxzLnZhbHVlPWUuc3Vic3RyaW5nKG8saCksYz1xKTpzLnR5cGU9PVQ/Yz16OnMudHlwZT09YiYmZVtoXT09Ij0iPyhoKyssYz1WKToocz17dHlwZTpifSxjPVUpKTticmVhaztjYXNlIFY6cy52YWx1ZT1wWzFdLnJlcGxhY2UoUSwnIicpLHM9e3R5cGU6Yn0sYz1VO2JyZWFrO2Nhc2UgSy50ZXh0OmNhc2UgSy5zdHlsZTpyLmNoaWxkcy5wdXNoKHt0eXBlOngsdmFsdWU6cFsxXX0pLHI9bi5wb3AoKSxjPXE7YnJlYWs7ZGVmYXVsdDp0aHJvdyAyOX1jPT1xJiYoZj1oKX1yZXR1cm4gZiE9aCYmci5jaGlsZHMucHVzaCh7dHlwZTp4LHZhbHVlOmUuc3Vic3RyaW5nKGYsaCl9KSx0LnRlbXBsYXRlVG9rZW5zPSEwLHR9LFk9e30sWj1uLlRva2VuLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLkwxMG5Qcm94eVRva2VuIix0b2tlbjpudWxsLHVybDoiIixpbml0OmZ1bmN0aW9uKGUpe3RoaXMudXJsPWUuZGljdGlvbmFyeS5yZXNvdXJjZS51cmwrIjoiK2UubmFtZSx0aGlzLnRva2VuPWUsdGhpcy5zZXQoKSxlLmF0dGFjaCh0aGlzLnNldCx0aGlzKX0sc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uVG9rZW4ucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsdGhpcy50b2tlbi50eXBlPT0ibWFya3VwIj9ldCh0aGlzLnRva2VuLnZhbHVlLHRoaXMudG9rZW4ubmFtZSsiQCIrdGhpcy50b2tlbi5kaWN0aW9uYXJ5LnJlc291cmNlLnVybCk6IiIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bi5Ub2tlbi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMudG9rZW49bnVsbH19KSxpdD1mdW5jdGlvbigpe2Z1bmN0aW9uIFAoZSl7cmV0dXJuKGUucHJlZml4P2UucHJlZml4KyI6IjoiIikrZS5uYW1lfWZ1bmN0aW9uIEIoZSx0KXtyZXR1cm4gZlt0XXx8KHQuY2hhckF0KDApPT0iIyI/Zlt0XT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQuY2hhckF0KDEpPT0ieCJ8fHQuY2hhckF0KDEpPT0iWCI/cGFyc2VJbnQodC5zdWJzdHIoMiksMTYpOnQuc3Vic3RyKDEpKTpsJiYobC5pbm5lckhUTUw9ZSxmW3RdPWwuZmlyc3RDaGlsZD9sLmZpcnN0Q2hpbGQubm9kZVZhbHVlOmUpKSxmW3RdfHxlfWZ1bmN0aW9uIGooZSl7cmV0dXJuIGUucmVwbGFjZShhLEIpfWZ1bmN0aW9uIEYoZSl7dmFyIHQ9ZS5yZWZzO3JldHVybiF0fHwhdC5sZW5ndGg/MDp0fWZ1bmN0aW9uIEkoZSl7dmFyIHQsbj1bXSxyPVtdLGk9e307Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspcyUyPyh0PWVbc10saVt0XXx8KGlbdF09bi5sZW5ndGgsbi5wdXNoKHQpKSxyLnB1c2goaVt0XSkpOmVbc10mJnIucHVzaChqKGVbc10pKTtyZXR1cm5bbixyXX1mdW5jdGlvbiBxKGUsbil7dmFyIGE9MCxmLGw7aWYobilzd2l0Y2goZSl7Y2FzZSJjbGFzcyI6aWYoZj1uLm1hdGNoKHQpKXt2YXIgYz1bXTthPVtdO2Zvcih2YXIgaD0wLHA7cD1mW2hdO2grKykobD1wLm1hdGNoKHIpKT9hLnB1c2goW2xbMV18fCIiLGxbMl1dKTpjLnB1c2gocCk7bj1jLmpvaW4oIiAiKX1icmVhaztjYXNlInN0eWxlIjp2YXIgZD1bXTthPVtdO2lmKGY9bi5tYXRjaChpKSlmb3IodmFyIGg9MCxwO3A9ZltoXTtoKyspe3ZhciBsPXAubWF0Y2gocyksdj1sWzFdLG49bFsyXS50cmltKCksbT1uLnNwbGl0KG8pO2lmKG0ubGVuZ3RoPjEpe3ZhciBnPUkobSk7Zy5wdXNoKHYpLGEucHVzaChnKX1lbHNlIGQucHVzaCh2KyI6ICIraihuKSl9bj1kLmpvaW4oIjsgIiksbiYmKG4rPSI7Iik7YnJlYWs7ZGVmYXVsdDpmPW4uc3BsaXQodSksZi5sZW5ndGg+MT9hPUkoZik6bj1qKG4pfXJldHVybiBhJiYhYS5sZW5ndGgmJihhPTApLHtiaW5kaW5nOmEsdmFsdWU6bix0eXBlOl9bZV18fDJ9fWZ1bmN0aW9uIFIoZSx0LG4pe3ZhciByPWUuYXR0cnMsaT1bXSxzLG8sYTtmb3IodmFyIGY9MCxsO2w9cltmXTtmKyspe2lmKGwucHJlZml4PT0iYiIpe3N3aXRjaChsLm5hbWUpe2Nhc2UicmVmIjp2YXIgYz0obC52YWx1ZXx8IiIpLnRyaW0oKS5zcGxpdCgvXHMrLyk7Zm9yKHZhciBoPTA7aDxjLmxlbmd0aDtoKyspVSh0LGNbaF0pO2JyZWFrO2Nhc2Uic2hvdyI6Y2FzZSJoaWRlIjpvPWx9Y29udGludWV9aWYoYT1sLm5hbWUubWF0Y2goTykpe2kucHVzaChhWzFdPT1sLnZhbHVlP1tTLGFbMV1dOltTLGFbMV0sbC52YWx1ZV0pO2NvbnRpbnVlfXZhciBwPXEobC5uYW1lLGwudmFsdWUpLGQ9W3AudHlwZSxwLmJpbmRpbmcsRihsKV07cC50eXBlPT0yJiZkLnB1c2goUChsKSkscC52YWx1ZSYmKCFufHwhcC5iaW5kaW5nfHxwLnR5cGUhPTIpJiZkLnB1c2gocC52YWx1ZSkscC50eXBlPT1FJiYocz1kKSxpLnB1c2goZCl9aWYobyl7c3x8KHM9W0UsMCwwXSxpLnB1c2gocykpLHNbMV18fChzWzFdPVtdKTt2YXIgdj1JKChvLnZhbHVlfHxvLm5hbWUpLnNwbGl0KHUpKTt2WzBdLmxlbmd0aC12WzFdLmxlbmd0aD9zWzNdPShzWzNdP3NbM10rIjsgIjoiIikrKG8ubmFtZT09InNob3ciXm8udmFsdWU9PT0iIj8iIjoiZGlzcGxheTogbm9uZSIpOihvLm5hbWU9PSJzaG93IiYmKHNbM109KHNbM10/c1szXSsiOyAiOiIiKSsiZGlzcGxheTogbm9uZSIpLHNbMV0ucHVzaCh2LmNvbmNhdCgiZGlzcGxheSIsby5uYW1lKSkpfXJldHVybiBpLmxlbmd0aD9pOjB9ZnVuY3Rpb24gVShlLHQpe2Vba118fChlW2tdPVtdKSxwKGVba10sdCksdCE9ImVsZW1lbnQiJiYoZVtDXT1lW2tdLmxlbmd0aD09MT90OjApfWZ1bmN0aW9uIHooZSx0KXt2YXIgbj1lW2tdLmluZGV4T2YodCk7aWYobiE9LTEpe3ZhciByPWVbQ10mJnR5cGVvZiBlW0NdPT0ibnVtYmVyIjtlW2tdLnNwbGljZShuLDEpLHImJm49PWVbQ10tMSYmKGVbQ109dCksZVtrXS5sZW5ndGg/ciYmKGVbQ10tPW48ZVtDXS0xKTplW2tdPTB9fWZ1bmN0aW9uIFcoZSl7dmFyIHQ9e307aWYoZS5hdHRycylmb3IodmFyIG49MCxyO3I9ZS5hdHRyc1tuXTtuKyspdFtQKHIpXT1yLnZhbHVlO3JldHVybiB0fWZ1bmN0aW9uIFgoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylwKGUsdFtuXSl9ZnVuY3Rpb24gVihlLHQsbil7Zm9yKHZhciByPTAsaTtpPXRbcl07cisrKWlbMV0hPT1nJiYoaVsxXT1uK2lbMV0pO2UudW5zaGlmdC5hcHBseShlLHQpfWZ1bmN0aW9uICQoZSx0LHIsaSl7dmFyIHM7aWYocilzPWMucmVzb2x2ZShlLmJhc2VVUkkrcik7ZWxzZXt2YXIgbz10LmNoaWxkc1swXTtzPW4ucmVzb3VyY2UudmlydHVhbCgiY3NzIixvP28udmFsdWU6IiIsZS5zb3VyY2VVcmwpLnVybH1yZXR1cm4gZS5yZXNvdXJjZXMucHVzaChbcyxpXSksc31mdW5jdGlvbiBKKHQscixpLHMpe2Z1bmN0aW9uIG8odCxuLHIpe3ZhciBzPVcodCk7biYmKHMubmFtZT1uKTtpZighcy5uYW1lKXJldHVybjtpZighZS50ZXN0KHMubmFtZSkpcmV0dXJuO3ZhciBvPWh0W3MucmVmfHwiZWxlbWVudCJdO2lmKG8mJm8udG9rZW5bTl09PXkpe3ZhciB1PW8udG9rZW4sYT1zLm5hbWUubWF0Y2goTyksZj1hP1M6X1tzLm5hbWVdfHxiLGw9RFtmXXx8QSxjPXUmJmgodSxzLm5hbWUsZnVuY3Rpb24oZSl7cmV0dXJuIGVbTl09PVM/ImV2ZW50LSIrZVsxXTpNW2VbTl1dfHxlW0xdfSxIKTshYyYmciE9InJlbW92ZSImJihhP2M9W2YsYVsxXV06KGM9W2YsMCwwLGY9PWI/cy5uYW1lOiIiXSxmPT1iJiZjLnB1c2goIiIpKSx1fHwodT1bXSxvLnRva2VuLnB1c2godSkpLHUucHVzaChjKSk7dmFyIHY9cy5uYW1lPT0iY2xhc3MifHxzLm5hbWU9PSJzdHlsZSI7c3dpdGNoKHIpe2Nhc2Uic2V0IjppZihjW05dPT1TKXtzLnZhbHVlPT1hWzFdP2MubGVuZ3RoPTI6Y1tsXT1zLnZhbHVlO3JldHVybn12YXIgbT1xKHMubmFtZSxzLnZhbHVlKTtjW0NdPW0uYmluZGluZywhaS5vcHRpbWl6ZVNpemV8fCFjW0NdfHx2P2NbbF09bS52YWx1ZXx8IiI6Yy5sZW5ndGg9bDtpZih2JiYhY1tDXSYmIWNbbF0pe2QodSxjKTtyZXR1cm59YnJlYWs7Y2FzZSJhcHBlbmQiOnZhciBtPXEocy5uYW1lLHMudmFsdWUpO2lmKCFhKWlmKG0uYmluZGluZyl7dmFyIGc9Y1tDXTtpZihnKXN3aXRjaChzLm5hbWUpe2Nhc2Uic3R5bGUiOnZhciB3PXt9O2Zvcih2YXIgRT0wLHg7eD1nW0VdO0UrKyl3W3hbMl1dPUU7Zm9yKHZhciBFPTAsVDtUPW0uYmluZGluZ1tFXTtFKyspVFsyXWluIHc/Z1t3W1RbMl1dXT1UOmcucHVzaChUKTticmVhaztjYXNlImNsYXNzIjpnLnB1c2guYXBwbHkoZyxtLmJpbmRpbmcpO2JyZWFrO2RlZmF1bHQ6bS5iaW5kaW5nWzBdLmZvckVhY2goZnVuY3Rpb24oZSl7cCh0aGlzLGUpfSxnWzBdKTtmb3IodmFyIEU9MDtFPG0uYmluZGluZ1sxXS5sZW5ndGg7RSsrKXt2YXIgaz1tLmJpbmRpbmdbMV1bRV07dHlwZW9mIGs9PSJudW1iZXIiJiYoaz1nWzBdLmluZGV4T2YobS5iaW5kaW5nWzBdW2tdKSksZ1sxXS5wdXNoKGspfX1lbHNlIGNbQ109bS5iaW5kaW5nLHZ8fGNbQ11bMV0udW5zaGlmdChjW2xdKX1lbHNlIXYmJmNbQ10mJmNbQ11bMV0ucHVzaChzLnZhbHVlKTttLnZhbHVlJiYoY1tsXT0oY1tsXXx8IiIpKyhjW2xdJiYoYXx8dik/IiAiOiIiKSttLnZhbHVlKTtpZih2JiYhY1tDXSYmIWNbbF0pe2QodSxjKTtyZXR1cm59YnJlYWs7Y2FzZSJyZW1vdmUiOmMmJmQodSxjKX19fXZhciB1PVtdO2Zvcih2YXIgYT0wLGYsbDtmPXRbYV07YSsrKXt2YXIgdz1GKGYpLEU9dyYmdy5sZW5ndGg9PTE/d1swXTowO3N3aXRjaChmLnR5cGUpe2Nhc2UgeTppZihmLnByZWZpeD09ImIiKXt2YXIgaz1XKGYpO3N3aXRjaChmLm5hbWUpe2Nhc2Uic3R5bGUiOnZhciBCPWsubmFtZXNwYWNlfHxrLm5zLEk9Qj9nOnMmJnMuaXNvbGF0ZXx8IiIsWT0kKHIsZixrLnNyYyxJKTtCJiYoWSBpbiBnPT0wJiYoZ1tZXT1udCgpKSxyLnN0eWxlTlNQcmVmaXhbQl09Z1tZXSk7YnJlYWs7Y2FzZSJpc29sYXRlIjpyLmlzb2xhdGV8fChyLmlzb2xhdGU9ay5wcmVmaXh8fGkuaXNvbGF0ZXx8bnQoKSk7YnJlYWs7Y2FzZSJsMTBuIjprLnNyYyYmKHIuZGljdFVSST1jLnJlc29sdmUoci5iYXNlVVJJLGsuc3JjKSk7YnJlYWs7Y2FzZSJkZWZpbmUiOmlmKCJuYW1lImluIGsmJiFyLmRlZmluZXNbay5uYW1lXSlzd2l0Y2goay50eXBlKXtjYXNlImJvb2wiOnIuZGVmaW5lc1trLm5hbWVdPVtrWyJkZWZhdWx0Il09PSJ0cnVlIj8xOjBdO2JyZWFrO2Nhc2UiZW51bSI6dmFyIGV0PWsudmFsdWVzP2sudmFsdWVzLnRyaW0oKS5zcGxpdCgiICIpOltdO3IuZGVmaW5lc1trLm5hbWVdPVtldC5pbmRleE9mKGtbImRlZmF1bHQiXSkrMSxldF19YnJlYWs7Y2FzZSJ0ZXh0Ijp2YXIgcnQ9Zi5jaGlsZHNbMF07dFthLS1dPW4ub2JqZWN0LmV4dGVuZChydCx7cmVmczooay5yZWZ8fCIiKS50cmltKCkuc3BsaXQoL1xzKy8pLHZhbHVlOiJub3RyaW0iaW4gaz9ydC52YWx1ZTpydC52YWx1ZS5yZXBsYWNlKC9eXHMqW1xyXG5dK3xbXHJcbl1ccyokL2csIiIpfSk7YnJlYWs7Y2FzZSJpbmNsdWRlIjp2YXIgaXQ9ay5zcmM7aWYoaXQpe3ZhciBzdD0vXiNcZCskLy50ZXN0KGl0KSxvdD0vXmlkOi8udGVzdChpdCksdXQ9c3Q/aXQuc3Vic3RyKDEpOml0LGF0O3N0P2F0PXZbdXRdOm90P2F0PXB0KHV0LnN1YnN0cigzKSk6L15bYS16MC05XC5dKyQvaS50ZXN0KHV0KSYmIS9cLnRtcGwkLy50ZXN0KHV0KT9hdD13dCh1dCk6YXQ9bi5yZXNvdXJjZShjLnJlc29sdmUoci5iYXNlVVJJK3V0KSk7aWYoIWF0KWNvbnRpbnVlO2lmKG0uaW5kZXhPZihhdCk9PS0xKXt2YXIgbHQ9Imlzb2xhdGUiaW4gaz9rLmlzb2xhdGV8fG50KCk6IiIsY3Q7b3R8fHAoci5kZXBzLGF0KSxzdD8oYXQuc291cmNlLmJpbmRpbmdCcmlkZ2UmJnAoci5kZXBzLGF0LnNvdXJjZSksY3Q9ZnQoYXQuc291cmNlLGF0LmJhc2VVUkksITAsaSkpOmN0PWZ0KGF0LGF0LnVybD9jLmRpcm5hbWUoYXQudXJsKSsiLyI6IiIsITAsaSksY3QucmVzb3VyY2VzJiYibm8tc3R5bGUiaW4gaz09MCYmVihyLnJlc291cmNlcyxjdC5yZXNvdXJjZXMsbHQpLGN0LmRlcHMmJlgoci5kZXBzLGN0LmRlcHMpO3ZhciBodD1RKGN0LnRva2VucyksZHQ9KGYuY2hpbGRzfHxbXSkuc2xpY2UoKSx2dD1uLm9iamVjdC5zbGljZShjdC5zdHlsZU5TUHJlZml4KTtrWyJjbGFzcyJdJiZkdC5wdXNoKHt0eXBlOnkscHJlZml4OiJiIixuYW1lOiJhcHBlbmQtY2xhc3MiLGF0dHJzOlt7dHlwZTpiLG5hbWU6InZhbHVlIix2YWx1ZTprWyJjbGFzcyJdfV19KSxrLmlkJiZkdC5wdXNoKHt0eXBlOnkscHJlZml4OiJiIixuYW1lOiJzZXQtYXR0ciIsYXR0cnM6W3t0eXBlOmIsbmFtZToibmFtZSIsdmFsdWU6ImlkIn0se3R5cGU6YixuYW1lOiJ2YWx1ZSIsdmFsdWU6ay5pZH1dfSksay5yZWYmJmh0LmVsZW1lbnQmJmsucmVmLnRyaW0oKS5zcGxpdCgvXHMrLykubWFwKGZ1bmN0aW9uKGUpe1UoaHQuZWxlbWVudC50b2tlbixlKX0pO2Zvcih2YXIgbXQ9MCxndDtndD1kdFttdF07bXQrKylpZihndC50eXBlPT15JiZndC5wcmVmaXg9PSJiIilzd2l0Y2goZ3QubmFtZSl7Y2FzZSJzdHlsZSI6dmFyIHl0PVcoZ3QpLEI9eXQubmFtZXNwYWNlfHx5dC5ucyxJPUI/ZzpsdCxZPSQocixndCx5dC5zcmMsSSk7QiYmKFkgaW4gZz09MCYmKGdbWV09bnQoKSksdnRbQl09Z1tZXSk7YnJlYWs7Y2FzZSJyZXBsYWNlIjpjYXNlInJlbW92ZSI6Y2FzZSJiZWZvcmUiOmNhc2UiYWZ0ZXIiOnZhciBidD1ndC5uYW1lPT0icmVwbGFjZSJ8fGd0Lm5hbWU9PSJyZW1vdmUiLHl0PVcoZ3QpLEV0PSJyZWYiaW4geXR8fCFidD95dC5yZWY6ImVsZW1lbnQiLFN0PUV0JiZodFtFdF07aWYoU3Qpe3ZhciB4dD1TdC5vd25lci5pbmRleE9mKFN0LnRva2VuKTtpZih4dCE9LTEpe3ZhciBUdD1beHQrKGd0Lm5hbWU9PSJhZnRlciIpLGJ0XTtndC5uYW1lIT0icmVtb3ZlIiYmKFR0PVR0LmNvbmNhdChKKGd0LmNoaWxkcyxyLGkpfHxbXSkpLFN0Lm93bmVyLnNwbGljZS5hcHBseShTdC5vd25lcixUdCl9fWJyZWFrO2Nhc2UicHJlcGVuZCI6Y2FzZSJhcHBlbmQiOnZhciB5dD1XKGd0KSxFdD0icmVmImluIHl0P3l0LnJlZjoiZWxlbWVudCIsU3Q9RXQmJmh0W0V0XSxmPVN0JiZTdC50b2tlbjtpZihmJiZmW05dPT15KXt2YXIgTnQ9SihndC5jaGlsZHMscixpKXx8W107Z3QubmFtZT09InByZXBlbmQiP2Yuc3BsaWNlLmFwcGx5KGYsW0gsMF0uY29uY2F0KE50KSk6Zi5wdXNoLmFwcGx5KGYsTnQpfWJyZWFrO2Nhc2UiYXR0ciI6Y2FzZSJzZXQtYXR0ciI6byhndCwhMSwic2V0Iik7YnJlYWs7Y2FzZSJhcHBlbmQtYXR0ciI6byhndCwhMSwiYXBwZW5kIik7YnJlYWs7Y2FzZSJyZW1vdmUtYXR0ciI6byhndCwhMSwicmVtb3ZlIik7YnJlYWs7Y2FzZSJjbGFzcyI6Y2FzZSJhcHBlbmQtY2xhc3MiOm8oZ3QsImNsYXNzIiwiYXBwZW5kIik7YnJlYWs7Y2FzZSJzZXQtY2xhc3MiOm8oZ3QsImNsYXNzIiwic2V0Iik7YnJlYWs7Y2FzZSJyZW1vdmUtY2xhc3MiOm8oZ3QsImNsYXNzIiwicmVtb3ZlIik7YnJlYWs7Y2FzZSJhZGQtcmVmIjp2YXIgeXQ9VyhndCksRXQ9InJlZiJpbiB5dD95dC5yZWY6ImVsZW1lbnQiLFN0PUV0JiZodFtFdF0sZj1TdCYmU3QudG9rZW47ZiYmeXQubmFtZSYmVShmLHl0Lm5hbWUpO2JyZWFrO2Nhc2UicmVtb3ZlLXJlZiI6dmFyIHl0PVcoZ3QpLEV0PSJyZWYiaW4geXQ/eXQucmVmOiJlbGVtZW50IixTdD1FdCYmaHRbRXRdLGY9U3QmJlN0LnRva2VuO2YmJnooZix5dC5uYW1lfHx5dC5yZWYpO2JyZWFrO2RlZmF1bHQ6fWVsc2UgY3QudG9rZW5zLnB1c2guYXBwbHkoY3QudG9rZW5zLEooW2d0XSxyLGkpfHxbXSk7aHQuZWxlbWVudCYmeihodC5lbGVtZW50LnRva2VuLCJlbGVtZW50Iiksbi5vYmplY3QuY29tcGxldGUoci5zdHlsZU5TUHJlZml4LHZ0KSxsdD9aKGN0LnRva2VucyxsdCk6Y3QuaXNvbGF0ZSYmIXIuaXNvbGF0ZSYmKHIuaXNvbGF0ZT1pLmlzb2xhdGV8fG50KCkpLHUucHVzaC5hcHBseSh1LGN0LnRva2Vucyl9fX1jb250aW51ZX1sPVsxLEUsdyxQKGYpXSxsLnB1c2guYXBwbHkobCxSKGYsbCxpLm9wdGltaXplU2l6ZSl8fFtdKSxsLnB1c2guYXBwbHkobCxKKGYuY2hpbGRzLHIsaSl8fFtdKTticmVhaztjYXNlIHg6dyYmdy5sZW5ndGg9PTImJmgodywiZWxlbWVudCIpJiYoRT13Wyshdy5sYXN0U2VhcmNoSW5kZXhdKTtpZihFKXt2YXIgQ3Q9SyhFLHIuZGljdFVSSSksa3Q9Q3Quc3BsaXQoL1s6QFx7XS8pO2lmKGt0WzBdPT0ibDEwbiImJmt0Lmxlbmd0aD09MylpZigha3RbMl0pZCh3LEUpLHcubGVuZ3RoPT0wJiYodz1udWxsKSxFPTAsZi52YWx1ZT1mLnZhbHVlLnJlcGxhY2UoL1x9JC8sIkB1bmRlZmluZWR9Iik7ZWxzZXt2YXIgTHQ9a3Quc2xpY2UoMSkuam9pbigiQCIpLEF0PW4ubDEwbi50b2tlbihMdCksT3Q9dHQoQXQpO3IubDEwblJlc29sdmVkPSEwO2lmKE90JiZBdC50eXBlPT0ibWFya3VwIil7dFthLS1dPUcoJzxiOmluY2x1ZGUgc3JjPSIjJytPdC50ZW1wbGF0ZUlkKyciLz4nKVswXTtjb250aW51ZX19fWw9WzMsRSx3XSwoIXd8fGYudmFsdWUhPSJ7Iit3LmpvaW4oInwiKSsifSIpJiZsLnB1c2goaihmLnZhbHVlKSk7YnJlYWs7Y2FzZSBUOmlmKGkub3B0aW1pemVTaXplJiYhRSYmIXcpY29udGludWU7bD1bOCxFLHddLGkub3B0aW1pemVTaXplfHwoIXd8fGYudmFsdWUhPSJ7Iit3LmpvaW4oInwiKSsifSIpJiZsLnB1c2goaihmLnZhbHVlKSl9d2hpbGUobFtsLmxlbmd0aC0xXT09PTApbC5wb3AoKTt1LnB1c2gobCl9cmV0dXJuIHUubGVuZ3RoP3U6MH1mdW5jdGlvbiBLKGUsdCl7aWYodHlwZW9mIGUhPSJzdHJpbmciKXJldHVybiBlO3ZhciBuPWUuc3BsaXQoIjoiKTtyZXR1cm4gbi5sZW5ndGg9PTImJm5bMF09PSJsMTBuIiYmblsxXS5pbmRleE9mKCJAIik9PS0xJiYoblsxXT1uWzFdKyJAIit0KSxuLmpvaW4oIjoiKX1mdW5jdGlvbiBRKGUsdCxuLHIpe258fChuPXt9KTtmb3IodmFyIGk9cnx8MCxzO3M9ZVtpXTtpKyspe2lmKHNbTl09PVMpY29udGludWU7dmFyIG89c1trXTtpZihvKWZvcih2YXIgdT1vLmxlbmd0aC0xLGE7YT1vW3VdO3UtLSl7aWYoYS5pbmRleE9mKCI6IikhPS0xKXt6KHMsYSk7Y29udGludWV9blthXSYmeihuW2FdLnRva2VuLGEpLHNbQ109PWEmJihzW0NdPXUrMSksblthXT17b3duZXI6ZSx0b2tlbjpzfX1zd2l0Y2goc1tOXSl7Y2FzZSB4OnNbQ109SyhzW0NdLHQpO2JyZWFrO2Nhc2UgYjppZihzW0NdKXt2YXIgZj1zW0NdWzBdO2Zvcih2YXIgdT0wO3U8Zi5sZW5ndGg7dSsrKWZbdV09SyhmW3VdLHQpfWJyZWFrO2Nhc2UgeTpRKHMsdCxuLEgpfX1yZXR1cm4gbn1mdW5jdGlvbiBZKGUsdCxuLHIpe3ZhciBpPTA7Zm9yKHZhciBzPXJ8fDAsbztvPWVbc107cysrKXt2YXIgdT1vW05dO3U9PXkmJihpKz1ZKG8sdCxuLEgpKTtpZih1PT13fHx1PT1iJiZvW0xdPT0iY2xhc3MiKXt2YXIgYT1vW0NdLGY9RFt1XTtpZihhKXt2YXIgbD0ob1tmXXx8IiIpLnRyaW0oKS5zcGxpdCgiICIpO2Zvcih2YXIgYz0wLGg7aD1hW2NdO2MrKyl7aWYoaC5sZW5ndGg+Miljb250aW51ZTt2YXIgZD1oWzFdLnNwbGl0KCI6IikucG9wKCksdj10LmRlZmluZXNbZF07dj8oaC5wdXNoLmFwcGx5KGgsdiksdi51c2VkPSEwLHZbMF0mJih2Lmxlbmd0aD09MT9wKGwsaFswXStkKTpwKGwsaFswXSt2WzFdW3ZbMF0tMV0pKSk6aSsrfW9bZl09bC5qb2luKCIgIiksbi5vcHRpbWl6ZVNpemUmJiFvW2ZdJiYoby5sZW5ndGg9Zil9fX1yZXR1cm4gaX1mdW5jdGlvbiBaKGUsdCxuLHIpe2Z1bmN0aW9uIGkoZSl7dmFyIHI9ZS5zcGxpdCgiOiIpO3JldHVybiByLmxlbmd0aD09MT90K3JbMF06bj9yWzBdP3JbMF1pbiBuLnN0eWxlTlNQcmVmaXg9PTA/ZTpuLnN0eWxlTlNQcmVmaXhbclswXV0rclsxXTpyWzFdOmV9Zm9yKHZhciBzPXJ8fDAsbztvPWVbc107cysrKXt2YXIgdT1vW05dO3U9PXkmJloobyx0LG4sSCk7aWYodT09d3x8dT09YiYmb1tMXT09ImNsYXNzIil7dmFyIGE9b1tDXSxmPURbdV07b1tmXSYmKG9bZl09b1tmXS5zcGxpdCgvXHMrLykubWFwKGkpLmpvaW4oIiAiKSk7aWYoYSlmb3IodmFyIGw9MCxjO2M9YVtsXTtsKyspY1swXT1pKGNbMF0pfX19dmFyIGU9L15bYS16X11bYS16MC05X1wtXSokL2ksdD0vKFxTKykvZyxyPS9eKCg/OlthLXpfXVthLXowLTlfXC1dKik/KD86Oig/OlthLXpfXVthLXowLTlfXC1dKik/KT8pXHsoKGFuaW06KT9bYS16X11bYS16MC05X1wtXSopXH0kL2ksaT0vXHMqW146XSs/XHMqOig/OlwoLio/XCl8Ii4qPyJ8Jy4qPyd8W147XSs/KSsoPzo7fCQpL2dpLHM9L1xzKihbXjpdKz8pXHMqOigoPzpcKC4qP1wpfCIuKj8ifCcuKj8nfFteO10rPykrKTs/JC9pLG89L1x7KFthLXpfXVthLXowLTlfXSopXH0vaSx1PS9ceyhbYS16X11bYS16MC05X10qfGwxMG46W2Etel9dW2EtejAtOV9dKig/OlwuW2Etel9dW2EtejAtOV9dKikqKD86XC5ce1thLXpfXVthLXowLTlfXSpcfSk/KVx9L2ksYT0vJihbYS16XSt8I1swLTldK3wjeFswLTlhLWZdezEsNH0pOz8vZ2ksZj1uLk5PREVfRU5WP19fbm9kZWpzUmVxdWlyZSgiLi90ZW1wbGF0ZS9odG1sZW50aXR5Lmpzb24iKTp7fSxsPW4uTk9ERV9FTlY/bnVsbDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPVtdLGc9e307cmV0dXJuIGZ1bmN0aW9uKHQscixpLHMsbyl7aT1pfHx7fTt2YXIgdT1bXSxhPXtzb3VyY2VVcmw6cyxiYXNlVVJJOnJ8fCIiLHRva2VuczpudWxsLHJlc291cmNlczpbXSxzdHlsZU5TUHJlZml4Ont9LGRlcHM6W10sZGVmaW5lczp7fSx1bnByZWRpY3RhYmxlOiEwLHdhcm5zOnUsaXNvbGF0ZTohMX07YS5kaWN0VVJJPXM/bi5wYXRoLnJlc29sdmUocyk6cnx8IiI7aWYoYS5kaWN0VVJJKXt2YXIgZj1uLnBhdGguZXh0bmFtZShhLmRpY3RVUkkpO2YmJmYhPSIubDEwbiImJihhLmRpY3RVUkk9YS5kaWN0VVJJLnN1YnN0cigwLGEuZGljdFVSSS5sZW5ndGgtZi5sZW5ndGgpKyIubDEwbiIpfXQudGVtcGxhdGVUb2tlbnN8fCh0PUcoU3RyaW5nKHQpKSksdC53YXJucyYmdS5wdXNoLmFwcGx5KHUsdC53YXJucyksbS5wdXNoKG8hPT0hMCYmb3x8e30pLGEudG9rZW5zPUoodCxhLGkpLG0ucG9wKCksYS50b2tlbnN8fChhLnRva2Vucz1bWzMsMCwwLCIiXV0pLFUoYS50b2tlbnNbMF0sImVsZW1lbnQiKSxRKGEudG9rZW5zLGEuZGljdFVSSSksYS51bnByZWRpY3RhYmxlPSEhWShhLnRva2VucyxhLGkpO2lmKG0ubGVuZ3RoPT0wKXtaKGEudG9rZW5zLGEuaXNvbGF0ZXx8IiIsYSk7aWYoYS5pc29sYXRlKWZvcih2YXIgbD0wLGM7Yz1hLnJlc291cmNlc1tsXTtsKyspY1sxXSE9PWcmJihjWzFdPWEuaXNvbGF0ZStjWzFdKTthLnJlc291cmNlcz1hLnJlc291cmNlcy5maWx0ZXIoZnVuY3Rpb24oZSx0LHIpe3JldHVybiFuLmFycmF5LnNlYXJjaChyLFN0cmluZyhlKSxTdHJpbmcsdCsxKX0pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXTtyPT09ZyYmKHI9Z1t0XSk7aWYoIXIpcmV0dXJuIHQ7dmFyIGk9bi5yZXNvdXJjZS52aXJ0dWFsKCJjc3MiLCIiKS5yZWFkeShmdW5jdGlvbihlKXtzKCksbi5vYmplY3QuZXh0ZW5kKGUse3VybDp0KyI/aXNvbGF0ZS1wcmVmaXg9IityLGJhc2VVUkk6bi5wYXRoLmRpcm5hbWUodCkrIi8ifSl9KSxzPW4ucmVzb3VyY2UodCkucmVhZHkoZnVuY3Rpb24oZSl7dmFyIHQ9cnQoZS5jc3NUZXh0fHwiIixyKTtpLnVwZGF0ZSh0KX0pO3JldHVybiBpLnVybH0pfXJldHVybiBkZWxldGUgYS5kZWZpbmVzLGRlbGV0ZSBhLmwxMG5SZXNvbHZlZCx1Lmxlbmd0aHx8KGEud2FybnM9ITEpLGF9fSgpLGN0PXt9LGR0PWYobnVsbCx7Y2xhc3NOYW1lOmErIi5UZW1wbGF0ZSIsX19leHRlbmRfXzpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGR0P2U6ZSBpbnN0YW5jZW9mIHZ0P25ldyBtdChlKTpuZXcgZHQoZSl9LHNvdXJjZToiIixiYXNlVVJJOiIiLGluaXQ6ZnVuY3Rpb24oZSl7aWYodi5sZW5ndGg9PTQwOTYpdGhyb3cgMzA7dGhpcy5hdHRhY2hlc189W10sdGhpcy5zZXRTb3VyY2UoZXx8IiIpLHRoaXMudGVtcGxhdGVJZD12LnB1c2godGhpcyktMX0sYmluZGluZ0JyaWRnZTp7YXR0YWNoOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxpO2k9ZS5hdHRhY2hlc19bcl07cisrKWlmKGkuaGFuZGxlcj09dCYmaS5jb250ZXh0PT1uKXJldHVybjtlLmF0dGFjaGVzXy5wdXNoKHtoYW5kbGVyOnQsY29udGV4dDpufSl9LGRldGFjaDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaTtpPWUuYXR0YWNoZXNfW3JdO3IrKylpZihpLmhhbmRsZXI9PXQmJmkuY29udGV4dD09bil7ZS5hdHRhY2hlc18uc3BsaWNlKHIsMSk7cmV0dXJufX0sZ2V0OmZ1bmN0aW9uKCl7fX0sY3JlYXRlSW5zdGFuY2U6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gbHQuY2FsbCh0aGlzKSx0aGlzLmNyZWF0ZUluc3RhbmNlKGUsdCxuLHIsaSl9LGNsZWFySW5zdGFuY2U6ZnVuY3Rpb24oZSl7fSxnZXRJc29sYXRlUHJlZml4OmZ1bmN0aW9uKCl7cmV0dXJuImkiK3RoaXMudGVtcGxhdGVJZCsiX18ifSxnZXRCaW5kaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBsdC5jYWxsKHRoaXMpLHRoaXMuZ2V0QmluZGluZyhlKX0sc2V0U291cmNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlO2lmKHQhPWUpe2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7dmFyIHI9ZS5tYXRjaCgvXihbYS16XSspOi8pO2lmKHIpe3ZhciBpPXJbMV07ZT1lLnN1YnN0cihyWzBdLmxlbmd0aCk7c3dpdGNoKGkpe2Nhc2UiZmlsZSI6ZT1uLnJlc291cmNlKGUpO2JyZWFrO2Nhc2UiaWQiOmU9cHQoZSk7YnJlYWs7Y2FzZSJ0b2tlbnMiOmU9bi5zdHJpbmcudG9PYmplY3QoZSksZS5pc0RlY2w9ITA7YnJlYWs7Y2FzZSJyYXciOmJyZWFrO2Nhc2UicGF0aCI6ZT13dChlKTticmVhaztkZWZhdWx0On19fWlmKHQmJnQuYmluZGluZ0JyaWRnZSl7dmFyIHM9dC51cmwmJm1bdC51cmxdO3MmJihkKHMsdGhpcykscy5sZW5ndGh8fGRlbGV0ZSBtW3QudXJsXSksdGhpcy5iYXNlVVJJPSIiLHRoaXMuc291cmNlLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHQsdXQsdGhpcyl9ZSYmZS5iaW5kaW5nQnJpZGdlJiYoZS51cmwmJih0aGlzLmJhc2VVUkk9Yy5kaXJuYW1lKGUudXJsKSsiLyIsbVtlLnVybF18fChtW2UudXJsXT1bXSkscChtW2UudXJsXSx0aGlzKSksZS5iaW5kaW5nQnJpZGdlLmF0dGFjaChlLHV0LHRoaXMpKSx0aGlzLnNvdXJjZT1lLHV0LmNhbGwodGhpcyl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95QnVpbGRlciYmdGhpcy5kZXN0cm95QnVpbGRlcigpLHRoaXMuYXR0YWNoZXNfPW51bGwsdGhpcy5jcmVhdGVJbnN0YW5jZT1udWxsLHRoaXMuZ2V0QmluZGluZz1udWxsLHRoaXMucmVzb3VyY2VzPW51bGwsdGhpcy5zb3VyY2U9bnVsbH19KSx2dD1mdW5jdGlvbihlKXtuLm9iamVjdC5leHRlbmQodGhpcyxlKX0sbXQ9bi5DbGFzcyhudWxsLHtjbGFzc05hbWU6YSsiLlRlbXBsYXRlU3dpdGNoZXIiLHJ1bGVSZXRfOm51bGwsdGVtcGxhdGVzXzpudWxsLHRlbXBsYXRlQ2xhc3M6ZHQscnVsZUV2ZW50czpudWxsLHJ1bGU6U3RyaW5nLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5ydWxlUmV0Xz1bXSx0aGlzLnRlbXBsYXRlc189W10sdGhpcy5ydWxlPWUucnVsZTt2YXIgdD1lLmV2ZW50cztpZih0JiZ0Lmxlbmd0aCl7dGhpcy5ydWxlRXZlbnRzPXt9O2Zvcih2YXIgbj0wLHI7cj10W25dO24rKyl0aGlzLnJ1bGVFdmVudHNbcl09ITB9bC5hZGQodGhpcyl9LHJlc29sdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ydWxlKGUpLG49dGhpcy5ydWxlUmV0Xy5pbmRleE9mKHQpO3JldHVybiBuPT0tMSYmKHRoaXMucnVsZVJldF8ucHVzaCh0KSxuPXRoaXMudGVtcGxhdGVzXy5wdXNoKG5ldyB0aGlzLnRlbXBsYXRlQ2xhc3ModCkpLTEpLHRoaXMudGVtcGxhdGVzX1tuXX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucnVsZT1udWxsLHRoaXMudGVtcGxhdGVzXz1udWxsLHRoaXMucnVsZVJldF89bnVsbH19KSx5dD1mKG51bGwse2NsYXNzTmFtZTphKyIuVGhlbWUiLGdldDp3dH0pLGJ0PWYobi5Ub2tlbix7Y2xhc3NOYW1lOmErIi5Tb3VyY2VXcmFwcGVyIixwYXRoOiIiLHVybDoiIixiYXNlVVJJOiIiLGluaXQ6ZnVuY3Rpb24oZSx0KXt0aGlzLnBhdGg9dCxuLlRva2VuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcywiIil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2U/dGhpcy52YWx1ZS5iaW5kaW5nQnJpZGdlLmdldCh0aGlzLnZhbHVlKTp0aGlzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oKXt2YXIgZT14dChNdCx0aGlzLnBhdGgpO3RoaXMudmFsdWUhPWUmJih0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2UmJnRoaXMudmFsdWUuYmluZGluZ0JyaWRnZS5kZXRhY2godGhpcy52YWx1ZSxidC5wcm90b3R5cGUuYXBwbHksdGhpcyksdGhpcy52YWx1ZT1lLHRoaXMudXJsPWUmJmUudXJsfHwiIix0aGlzLmJhc2VVUkk9KHR5cGVvZiBlPT0ib2JqZWN0Inx8dHlwZW9mIGU9PSJmdW5jdGlvbiIpJiYiYmFzZVVSSSJpbiBlP2UuYmFzZVVSSTpjLmRpcm5hbWUodGhpcy51cmwpKyIvIix0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2UmJnRoaXMudmFsdWUuYmluZGluZ0JyaWRnZS5hdHRhY2godGhpcy52YWx1ZSxidC5wcm90b3R5cGUuYXBwbHksdGhpcyksdGhpcy5hcHBseSgpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudXJsPW51bGwsdGhpcy5iYXNlVVJJPW51bGwsdGhpcy52YWx1ZSYmdGhpcy52YWx1ZS5iaW5kaW5nQnJpZGdlJiZ0aGlzLnZhbHVlLmJpbmRpbmdCcmlkZ2UuZGV0YWNoKHRoaXMudmFsdWUsdGhpcy5hcHBseSx0aGlzKSxuLlRva2VuLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9fSksTHQ9e30sQXQ9e30sT3Q9a3QoKSxNdD0iYmFzZSIsX3Q9W107bC5hZGQoe2Rlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gQXQpQXRbZV0uZGVzdHJveSgpO0x0PW51bGwsQXQ9bnVsbDtmb3IodmFyIHQ9MCxuO249dlt0XTt0Kyspbi5kZXN0cm95KCk7dj1udWxsfX0pLHQuZXhwb3J0cz17REVDTEFSQVRJT05fVkVSU0lPTjpnLFRZUEVfRUxFTUVOVDp5LFRZUEVfQVRUUklCVVRFOmIsVFlQRV9BVFRSSUJVVEVfQ0xBU1M6dyxUWVBFX0FUVFJJQlVURV9TVFlMRTpFLFRZUEVfQVRUUklCVVRFX0VWRU5UOlMsVFlQRV9URVhUOngsVFlQRV9DT01NRU5UOlQsVE9LRU5fVFlQRTpOLFRPS0VOX0JJTkRJTkdTOkMsVE9LRU5fUkVGUzprLEFUVFJfTkFNRTpMLEFUVFJfVkFMVUU6QSxBVFRSX05BTUVfQllfVFlQRTpNLEVMRU1FTlRfTkFNRTpQLEVMRU1FTlRfQVRUUlM6SCxFTEVNRU5UX0NISUxEUzpCLFRFWFRfVkFMVUU6aixDT01NRU5UX1ZBTFVFOkYsTDEwblByb3h5VG9rZW46WixUZW1wbGF0ZVN3aXRjaENvbmZpZzp2dCxUZW1wbGF0ZVN3aXRjaGVyOm10LFRlbXBsYXRlOmR0LFNvdXJjZVdyYXBwZXI6YnQsc3dpdGNoZXI6Z3QsdG9rZW5pemU6Ryxpc29sYXRlQ3NzOnJ0LGdldERlY2xGcm9tU291cmNlOmZ0LG1ha2VEZWNsYXJhdGlvbjppdCxnZXRMMTBuVGVtcGxhdGU6dHQsVGhlbWU6eXQsdGhlbWU6a3QsZ2V0VGhlbWVMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ub2JqZWN0LmtleXMoTHQpfSxjdXJyZW50VGhlbWU6ZnVuY3Rpb24oKXtyZXR1cm4gTHRbTXRdLnRoZW1lfSxzZXRUaGVtZTpmdW5jdGlvbihlKXtyZXR1cm4ga3QoZSkuYXBwbHkoKX0sb25UaGVtZUNoYW5nZTpEdCxkZWZpbmU6T3QuZGVmaW5lLGdldDp3dCxnZXRQYXRoTGlzdDpmdW5jdGlvbigpe3JldHVybiBuLm9iamVjdC5rZXlzKEF0KX19fSwiNy5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBYKGUpe3ZhciB0PW4udGVtcGxhdGUuZ2V0TDEwblRlbXBsYXRlKGUpLHI9dC50ZW1wbGF0ZUlkLGk9V1tyXTtyZXR1cm4gaXx8KGk9V1tyXT1uZXcgZXQodC5zb3VyY2UpKSxpfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudHlwZT09ImNsaWNrIiYmdC53aGljaD09MylyZXR1cm47dmFyIG49alt0LnR5cGVdfHx0LnR5cGUhPSJtb3VzZWVudGVyIiYmdC50eXBlIT0ibW91c2VsZWF2ZSIscj10LnNlbmRlcixpO3doaWxlKHIpe2k9ci5nZXRBdHRyaWJ1dGUmJnIuZ2V0QXR0cmlidXRlKGUpO2lmKCFufHx0eXBlb2YgaT09InN0cmluZyIpYnJlYWs7cj1yLnBhcmVudE5vZGV9aWYodHlwZW9mIGk9PSJzdHJpbmciKXt2YXIgcz1yLG89cyx1LGE7aWYoalt0LnR5cGVdKXt2YXIgZj10LnJlbGF0ZWRUYXJnZXQ7ZiYmKHM9PT1mfHxzLmNvbnRhaW5zKGYpKSYmKHM9bnVsbCl9d2hpbGUocyl7dT1zW19dO2lmKHR5cGVvZiB1PT0ibnVtYmVyIilpZihhPUsodSkpYnJlYWs7cz1zLnBhcmVudE5vZGV9aWYoYSYmYS5hY3Rpb24pe3ZhciBsPWkudHJpbSgpLnNwbGl0KC9ccysvKTt0LmFjdGlvblRhcmdldD1vO2Zvcih2YXIgYz0wLGg7aD1sW2MrK107KXN3aXRjaChoKXtjYXNlInByZXZlbnQtZGVmYXVsdCI6dC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2Uic3RvcC1wcm9wYWdhdGlvbiI6dC5zdG9wUHJvcGFnYXRpb24oKTticmVhaztkZWZhdWx0OmEuYWN0aW9uLmNhbGwoYS5jb250ZXh0LGgsdCl9fX10LnR5cGUgaW4gQiYmQlt0LnR5cGVdKHQscil9fWZ1bmN0aW9uIEooZSl7dmFyIHQ9ZSY0MDk1LG49UFt0XTtyZXR1cm4gbiYmbi50ZW1wbGF0ZX1mdW5jdGlvbiBLKGUpe3ZhciB0PWUmNDA5NSxuPWU+PjEyLHI9UFt0XTtyZXR1cm4gciYmci5pbnN0YW5jZXNbbl19ZnVuY3Rpb24gUShlKXt2YXIgdD1LKGUpO3JldHVybiB0JiZ0LmNvbnRleHR9ZnVuY3Rpb24gRyhlKXt2YXIgdD1LKGUpO3JldHVybiB0JiZ0LnRtcGx9ZnVuY3Rpb24gWShlKXt2YXIgdD1LKGUpO3JldHVybiB0JiZ0LmRlYnVnJiZ0LmRlYnVnKCl9bi5yZXF1aXJlKCIuLzguanMiKSxuLnJlcXVpcmUoIi4vMi5qcyIpLG4ucmVxdWlyZSgiLi82LmpzIiksbi5yZXF1aXJlKCIuLzkuanMiKTt2YXIgYT10aGlzLnBhdGgsZj1yLmRvY3VtZW50LGw9bi5kb20uZXZlbnQsYz1uLmFycmF5LmZyb20saD1uLnN0cmluZy5jYW1lbGl6ZSxwPW4ubDEwbi50b2tlbixkPW4udGVtcGxhdGUuaHRtbGZnZW4uZ2V0RnVuY3Rpb25zLHY9bi50ZW1wbGF0ZS5UZW1wbGF0ZVN3aXRjaENvbmZpZyxtPW4udGVtcGxhdGUuVGVtcGxhdGVTd2l0Y2hlcixnPW4udGVtcGxhdGUuVGVtcGxhdGUseT1uLnRlbXBsYXRlLlRZUEVfRUxFTUVOVCxiPW4udGVtcGxhdGUuVFlQRV9BVFRSSUJVVEUsdz1uLnRlbXBsYXRlLlRZUEVfVEVYVCxFPW4udGVtcGxhdGUuVFlQRV9DT01NRU5ULFM9bi50ZW1wbGF0ZS5UT0tFTl9UWVBFLHg9bi50ZW1wbGF0ZS5UT0tFTl9CSU5ESU5HUyxUPW4udGVtcGxhdGUuVE9LRU5fUkVGUyxOPW4udGVtcGxhdGUuQVRUUl9OQU1FLEM9bi50ZW1wbGF0ZS5BVFRSX1ZBTFVFLGs9bi50ZW1wbGF0ZS5BVFRSX05BTUVfQllfVFlQRSxMPW4udGVtcGxhdGUuRUxFTUVOVF9OQU1FLEE9bi50ZW1wbGF0ZS5URVhUX1ZBTFVFLE89bi50ZW1wbGF0ZS5DT01NRU5UX1ZBTFVFLE09L15ldmVudC0oLispKy8sXz0iYmFzaXNUZW1wbGF0ZUlkXyIrbi5nZW5VSUQoKSxEPXt9LFA9e30sSD17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyJ9LEI9e30saj17fSxGPSJvbm1vdXNlZW50ZXIiaW4gZi5kb2N1bWVudEVsZW1lbnQsST0hZi5hZGRFdmVudExpc3RlbmVyJiYiX19iYXNpc1RlbXBsYXRlIitwYXJzZUludCgxZTkqTWF0aC5yYW5kb20oKSk7SSYmKHJbSV09ZnVuY3Rpb24oZSx0KXtsLmZpcmVFdmVudChmLGUpLHQucmV0dXJuVmFsdWU9ITA7dmFyIG49RFtlXTtuJiZuKG5ldyBsLkV2ZW50KHQpKX0pO3ZhciBxPWZ1bmN0aW9uKCl7dmFyIGU9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5hcHBlbmRDaGlsZChmLmNyZWF0ZVRleHROb2RlKCJhIikpLGUuYXBwZW5kQ2hpbGQoZi5jcmVhdGVUZXh0Tm9kZSgiYSIpKSxlLmNsb25lTm9kZSh0cnVlKS5jaGlsZE5vZGVzLmxlbmd0aD09MX0oKSxSPWZ1bmN0aW9uKCl7dmFyIGU9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwiYSIpLCFlLmNsYXNzTmFtZX0oKSxVPWZ1bmN0aW9uKCl7dmFyIGU9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwicG9zaXRpb246YWJzb2x1dGUiKSxlLnN0eWxlLnBvc2l0aW9uIT0iYWJzb2x1dGUifSgpLHo9ISFmdW5jdGlvbigpe3RyeXtyZXR1cm4gZi5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY29sb3I9IngifWNhdGNoKGUpe319KCk7dHlwZW9mIE5vZGUhPSJ1bmRlZmluZWQiJiYhTm9kZS5wcm90b3R5cGUuY29udGFpbnMmJihOb2RlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4hISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpJjE2KX0pO3ZhciBXPXt9LCQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUsdCl7cih0KSxqW2VdPSEwLEJbdF09ZnVuY3Rpb24odCl7dD1uZXcgbC5FdmVudCh0KSx0LnR5cGU9ZSxEW2VdKHQpfSxCW2VdPWZ1bmN0aW9uKHQsbil7bj1uJiZuLnBhcmVudE5vZGUsbiYmKHQ9bmV3IGwuRXZlbnQodCksdC50eXBlPWUsdC5zZW5kZXI9bixEW2VdKHQpKX19ZnVuY3Rpb24gcihlKXtpZighRFtlXSl7RFtlXT1WKCJldmVudC0iK2UpO2lmKCFJKXtpZighRiYmZT09Im1vdXNlZW50ZXIiKXJldHVybiBuKGUsIm1vdXNlb3ZlciIpO2lmKCFGJiZlPT0ibW91c2VsZWF2ZSIpcmV0dXJuIG4oZSwibW91c2VvdXQiKTtmb3IodmFyIHQ9MCxyPWwuYnJvd3NlckV2ZW50cyhlKSxpO2k9clt0XTt0KyspbC5hZGRHbG9iYWxIYW5kbGVyKGksRFtlXSl9fX1mdW5jdGlvbiBpKGUsdCl7cihlKSxJJiZvLnNldEF0dHJpYnV0ZSgib24iK2UsSSsnKCInK2UrJyIsZXZlbnQpJyksby5zZXRBdHRyaWJ1dGUoImV2ZW50LSIrZSx0KX1mdW5jdGlvbiBzKGUsdCl7UiYmZT09ImNsYXNzIiYmKGU9ImNsYXNzTmFtZSIpO2lmKFUmJmU9PSJzdHlsZSIpcmV0dXJuIG8uc3R5bGUuY3NzVGV4dD10O28uc2V0QXR0cmlidXRlKGUsdCl9dmFyIG89dHx8Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHZhciB1PXQ/NDowLGE7YT1lW3VdO3UrKylzd2l0Y2goYVtTXSl7Y2FzZSB5OnZhciBjPWFbTF0saD1jLnNwbGl0KC86LykscD1oLmxlbmd0aD4xP2YuY3JlYXRlRWxlbWVudE5TKEhbaFswXV0sYyk6Zi5jcmVhdGVFbGVtZW50KGMpOyQoYSxwKSxvLmFwcGVuZENoaWxkKHApO2JyZWFrO2Nhc2UgYjp2YXIgZD1hW05dLHY9YVtDXSxtPWQucmVwbGFjZSgvXmV2ZW50LS8sIiIpO20hPWQ/aShtLHYpOihkIT0iY2xhc3MiJiZkIT0ic3R5bGUiPyFhW3hdOnYpJiZzKGQsdnx8IiIpO2JyZWFrO2Nhc2UgNDpjYXNlIDU6dmFyIHY9YVtDLTFdO3YmJnMoa1thW1NdXSx2KTticmVhaztjYXNlIDY6aShhWzFdLGFbMl18fGFbMV0pO2JyZWFrO2Nhc2UgRTpvLmFwcGVuZENoaWxkKGYuY3JlYXRlQ29tbWVudChhW09dfHwoYVtUXT8ieyIrYVtUXS5qb2luKCJ8IikrIn0iOiIiKSkpO2JyZWFrO2Nhc2UgdzpxJiZ1JiZlW3UtMV1bU109PXcmJm8uYXBwZW5kQ2hpbGQoZi5jcmVhdGVDb21tZW50KCIiKSksby5hcHBlbmRDaGlsZChmLmNyZWF0ZVRleHROb2RlKGFbQV18fChhW1RdPyJ7IithW1RdLmpvaW4oInwiKSsifSI6IiIpfHwoYVt4XT8ieyIrYVt4XSsifSI6IiIpKSl9cmV0dXJuIXQmJmUubGVuZ3RoPT0xJiYobz1vLmZpcnN0Q2hpbGQpLG99LFo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBtKCl7dGhpcy5zZXQodGhpcy5uYW1lLHRoaXMudmFsdWUpfWZ1bmN0aW9uIGcoZSx0LHIpe3ZhciBpPXQmJnQuYmluZGluZ0JyaWRnZSxzPXRoaXMuYXR0YWNoZXMmJnRoaXMuYXR0YWNoZXNbZV0sbz1udWxsO2lmKGl8fHMpaWYoaSl7aWYoIXN8fHQhPT1zLnZhbHVlKXtzJiYocy50bXBsJiYocy50bXBsLmVsZW1lbnQudG9TdHJpbmc9bnVsbCxYKHMudmFsdWUpLmNsZWFySW5zdGFuY2Uocy50bXBsKSkscy52YWx1ZS5iaW5kaW5nQnJpZGdlLmRldGFjaChzLnZhbHVlLG0scykpO2lmKHQudHlwZT09Im1hcmt1cCImJnQgaW5zdGFuY2VvZiBuLmwxMG4uVG9rZW4pe3ZhciB1PVgodCksYT10aGlzLmNvbnRleHQsZj10aGlzLmJpbmRpbmdzLGw9dGhpcy5iaW5kaW5nSW50ZXJmYWNlO289dS5jcmVhdGVJbnN0YW5jZShhLG51bGwsZnVuY3Rpb24gaCgpe289Yy50bXBsPXUuY3JlYXRlSW5zdGFuY2UoYSxudWxsLGgsZixsKSxvLmVsZW1lbnQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdC52YWx1ZX0sbS5jYWxsKGMpfSxmLGwpLG8uZWxlbWVudC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0LnZhbHVlfX10aGlzLmF0dGFjaGVzfHwodGhpcy5hdHRhY2hlcz1uZXcgcik7dmFyIGM9dGhpcy5hdHRhY2hlc1tlXT17bmFtZTplLHZhbHVlOnQsdG1wbDpvLHNldDp0aGlzLnRtcGwuc2V0fTtpLmF0dGFjaCh0LG0sYyl9ZWxzZSBvPXQmJnQudHlwZT09Im1hcmt1cCI/cy50bXBsOm51bGw7aWYobylyZXR1cm4gby5lbGVtZW50O3Q9aS5nZXQodCl9ZWxzZSBzJiYocy50bXBsJiYocy50bXBsLmVsZW1lbnQudG9TdHJpbmc9bnVsbCxYKHMudmFsdWUpLmNsZWFySW5zdGFuY2Uocy50bXBsKSkscy52YWx1ZS5iaW5kaW5nQnJpZGdlLmRldGFjaChzLnZhbHVlLG0scyksdGhpcy5hdHRhY2hlc1tlXT1udWxsKTtyZXR1cm4gdH1mdW5jdGlvbiB5KGUsdCl7dmFyIG49ZVswXSxyPWVbMV0saT10W25dLHM9dFtyXTtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24odCl7dGhpcyhuLGkodCkpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQpe3RoaXMobixpKHQpKSx0aGlzKHIscyh0KSl9O2RlZmF1bHQ6dmFyIG89ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KTtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdGhpcyhlW3JdLG9bcl0obikpfX19ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgbiBpbiBlKWVbbl09eShlW25dLHQpO3JldHVybiBuP2U6bnVsbH1mdW5jdGlvbiB3KGUpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihyLGkscyxvKXtpZighcilyZXR1cm57fTt2YXIgdT0iYmluZGluZ0lkImluIHI/ci5iaW5kaW5nSWQ6bnVsbCxhPXRbdV07aWYoIWEpe3ZhciBmPVtdLGw9e30sYz17fTtmb3IodmFyIGg9MCxwO3A9ZVtoXTtoKyspe3ZhciBkPXJbcF0sdj1kJiZkLmdldHRlcjtpZih2KXtsW3BdPXYsZi5wdXNoKHApO2lmKGQuZXZlbnRzKXt2YXIgbT1TdHJpbmcoZC5ldmVudHMpLnRyaW0oKS5zcGxpdCgvXHMrfFxzKixccyovKTtmb3IodmFyIGc9MCx3O3c9bVtnXTtnKyspY1t3XT9jW3ddLnB1c2gocCk6Y1t3XT1bcF19fX1hPXtuYW1lczpmLHN5bmM6eShmLGwpLGhhbmRsZXI6YihjLGwpfSx1JiYodFt1XT1hKX1pJiZzJiZhLnN5bmMuY2FsbChzLGkpO2lmKCFvKXJldHVybjtyZXR1cm4gYS5oYW5kbGVyJiZvLmF0dGFjaChpLGEuaGFuZGxlcixzKSxhLmhhbmRsZXJ9fXZhciBlPS9ccysvLHQ9dHlwZW9mIE5vZGU9PSJmdW5jdGlvbiImJmYgaW5zdGFuY2VvZiBOb2RlLGk9ci5ET01Ub2tlbkxpc3QmJmYmJmYuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdCBpbnN0YW5jZW9mIHIuRE9NVG9rZW5MaXN0LHM9dD9mdW5jdGlvbihlLHQsbil7dmFyIHI9biYmbiBpbnN0YW5jZW9mIE5vZGU/bjplO3JldHVybiByIT09dCYmdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChyLHQpLHJ9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uJiZ0eXBlb2Ygbj09Im9iamVjdCI/bjplO2lmKHIhPT10KXRyeXt0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHIsdCl9Y2F0Y2goaSl7cj1lLHQhPT1yJiZ0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHIsdCl9cmV0dXJuIHJ9LG89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXMoZSx0LG4pO3JldHVybiByPT09ZSYmdHlwZW9mIG49PSJzdHJpbmciJiYoZS5pbm5lckhUTUw9bikscn0sdT1zLGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXMoZSx0LG4pO3JldHVybiByPT09ZSYmKGUubm9kZVZhbHVlPW4pLHJ9LGw9aT9mdW5jdGlvbihlLHQscixpLHMpe3ZhciBvPXI/aStyOiIiO3JldHVybiBvIT10JiYodCYmZS5jbGFzc0xpc3QucmVtb3ZlKHQpLG8mJihlLmNsYXNzTGlzdC5hZGQobykscyYmKGUuY2xhc3NMaXN0LmFkZChvKyItYW5pbSIpLG4ubmV4dFRpY2soZnVuY3Rpb24oKXtlLmNsYXNzTGlzdC5yZW1vdmUobysiLWFuaW0iKX0pKSkpLG99OmZ1bmN0aW9uKHQscixpLHMsbyl7dmFyIHU9aT9zK2k6IiI7aWYodSE9cil7dmFyIGE9dC5jbGFzc05hbWUsZj10eXBlb2YgYSE9InN0cmluZyIsbDtmJiYoYT1hLmJhc2VWYWwpLGw9YS5zcGxpdChlKSxyJiZuLmFycmF5LnJlbW92ZShsLHIpLHUmJihsLnB1c2godSksbyYmKG4uYXJyYXkuYWRkKGwsdSsiLWFuaW0iKSxuLm5leHRUaWNrKGZ1bmN0aW9uKCl7dmFyIHI9KGY/dC5jbGFzc05hbWUuYmFzZVZhbDp0LmNsYXNzTmFtZSkuc3BsaXQoZSk7bi5hcnJheS5yZW1vdmUocix1KyItYW5pbSIpLGY/dC5jbGFzc05hbWUuYmFzZVZhbD1yLmpvaW4oIiAiKTp0LmNsYXNzTmFtZT1yLmpvaW4oIiAiKX0pKSksZj90LmNsYXNzTmFtZS5iYXNlVmFsPWwuam9pbigiICIpOnQuY2xhc3NOYW1lPWwuam9pbigiICIpfXJldHVybiB1fSxjPXo/ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG4hPT1yJiYoZS5zdHlsZVtoKHQpXT1yKSxyfTpmdW5jdGlvbihlLHQsbixyKXtpZihuIT09cil0cnl7ZS5zdHlsZVtoKHQpXT1yfWNhdGNoKGkpe31yZXR1cm4gcn0sdj1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbiE9PXImJihyP2Uuc2V0QXR0cmlidXRlKHQscik6ZS5yZW1vdmVBdHRyaWJ1dGUodCkpLHJ9LEU9e2JpbmRfdGV4dE5vZGU6YSxiaW5kX25vZGU6cyxiaW5kX2VsZW1lbnQ6byxiaW5kX2NvbW1lbnQ6dSxiaW5kX2F0dHI6dixiaW5kX2F0dHJDbGFzczpsLGJpbmRfYXR0clN0eWxlOmMscmVzb2x2ZTpnLGwxMG5Ub2tlbjpwLGNyZWF0ZUJpbmRpbmdGdW5jdGlvbjp3fTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZChlLCEwLHRoaXMuc291cmNlLnVybCxlLnNvdXJjZV8sIXEsXyksbixyPXt9LGk9e30scz1bXSxvPTAsdT0kKGUpLGE9dGhpcy50ZW1wbGF0ZUlkO1BbYV09e3RlbXBsYXRlOnRoaXMsaW5zdGFuY2VzOnJ9O2lmKHQuY3JlYXRlTDEwblN5bmMpe3ZhciBmPXQuY3JlYXRlTDEwblN5bmModSxpLHYscSk7Zm9yKHZhciBsPTAsYztjPXQubDEwbktleXNbbF07bCsrKWYoYyxwKGMpLnZhbHVlKTtpZih0LmwxMG5LZXlzKWZvcih2YXIgbD0wLGM7Yz10LmwxMG5LZXlzW2xdO2wrKyl7dmFyIGg9e3BhdGg6Yyx0b2tlbjpwKGMpLGhhbmRsZXI6ZnVuY3Rpb24oZSl7Zih0aGlzLnBhdGgsZSk7Zm9yKHZhciB0IGluIHIpclt0XS50bXBsLnNldCh0aGlzLnBhdGgsZSl9fTtoLnRva2VuLmF0dGFjaChoLmhhbmRsZXIsaCkscy5wdXNoKGgpLGg9bnVsbH19cmV0dXJuIG49dC5jcmVhdGVJbnN0YW5jZShhLHIsdSxFLGkscSkse2NyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGUsdCxpLHMsdSl7dmFyIGE9bysrLGY9bihhLGUsdCxpLHMsdSk7cmV0dXJuIHJbYV09ZixmLnRtcGx9LGRlc3Ryb3lJbnN0YW5jZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRlbXBsYXRlSWRfLG49clt0XTtpZihuKXtuLmhhbmRsZXImJm4uYmluZGluZ0ludGVyZmFjZS5kZXRhY2gobi5jb250ZXh0LG4uaGFuZGxlcixuLnRtcGwuc2V0KTtmb3IodmFyIGkgaW4gbi5hdHRhY2hlcylnLmNhbGwobixpLG51bGwpO2RlbGV0ZSByW3RdfX0sa2V5czp0LmtleXMsZGVzdHJveTpmdW5jdGlvbihlKXtmb3IodmFyIG49MCxvO289c1tuXTtuKyspby50b2tlbi5kZXRhY2goby5oYW5kbGVyLG8pO2Zvcih2YXIgbCBpbiByKXt2YXIgYz1yW2xdO2UmJmMucmVidWlsZCYmYy5yZWJ1aWxkLmNhbGwoYy5jb250ZXh0KTtpZighZXx8bCBpbiByKXtjLmhhbmRsZXImJmMuYmluZGluZ0ludGVyZmFjZS5kZXRhY2goYy5jb250ZXh0LGMuaGFuZGxlcixjLnRtcGwuc2V0KTtmb3IodmFyIGwgaW4gYy5hdHRhY2hlcylnLmNhbGwobCxudWxsKX19UFthXSYmUFthXS5pbnN0YW5jZXM9PT1yJiZkZWxldGUgUFthXSx0PW51bGwsdT1udWxsLGk9bnVsbCxzPW51bGwsZj1udWxsLHI9bnVsbH19fX0oKSxldD1nLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlRlbXBsYXRlIixfX2V4dGVuZF9fOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZXQ/ZTplIGluc3RhbmNlb2Ygdj9uZXcgdHQoZSk6bmV3IGV0KGUpfSxidWlsZGVyOlp9KSx0dD1tLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlRlbXBsYXRlU3dpdGNoZXIiLHRlbXBsYXRlQ2xhc3M6ZXR9KTt0LmV4cG9ydHM9e21hcmtlcjpfLFRlbXBsYXRlOmV0LFRlbXBsYXRlU3dpdGNoZXI6dHR9LG4udGVtcGxhdGUuZXh0ZW5kKHtidWlsZEh0bWw6JCxyZXNvbHZlVGVtcGxhdGVCeUlkOkoscmVzb2x2ZU9iamVjdEJ5SWQ6USxyZXNvbHZlVG1wbEJ5SWQ6R30pfSwiOC5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBiKGUpe3JldHVybiB5W2VdfHxbZV19ZnVuY3Rpb24gRShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHc/ZS5ldmVudF86ZXx8ci5ldmVudH1mdW5jdGlvbiBTKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/Zi5nZXRFbGVtZW50QnlJZChlKTplfWZ1bmN0aW9uIHgoZSl7dmFyIHQ9ZS50YXJnZXR8fGUuc3JjRWxlbWVudHx8ZjtyZXR1cm4gdC5ub2RlVHlwZT09Mz90LnBhcmVudE5vZGU6dH1mdW5jdGlvbiBUKGUpe2Uuc3RvcFByb3BhZ2F0aW9uP2Uuc3RvcFByb3BhZ2F0aW9uKCk6ZS5jYW5jZWxCdWJibGU9ITB9ZnVuY3Rpb24gTihlKXtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIEMoZSx0KXt0PVModCksdD9SKHQsZSxDKTooTihlKSxUKGUpKX1mdW5jdGlvbiBrKGUpe3JldHVybiBlLmtleUNvZGV8fGUud2hpY2h8fDB9ZnVuY3Rpb24gTChlKXtyZXR1cm4gZS5jaGFyQ29kZXx8ZS5rZXlDb2RlfHwwfWZ1bmN0aW9uIEEoZSx0KXtyZXR1cm4gdHlwZW9mIGUud2hpY2g9PSJudW1iZXIiP2Uud2hpY2g9PXQuVkFMVUU6ISEoZS5idXR0b24mdC5CSVQpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIGUuY2hhbmdlZFRvdWNoZXM/ZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDoicGFnZVgiaW4gZT9lLnBhZ2VYOiJjbGllbnRYImluIGU/ZS5jbGllbnRYKyhmLmNvbXBhdE1vZGU9PSJDU1MxQ29tcGF0Ij9mLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OmYuYm9keS5zY3JvbGxMZWZ0KTowfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIGUuY2hhbmdlZFRvdWNoZXM/ZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWToicGFnZVkiaW4gZT9lLnBhZ2VZOiJjbGllbnRZImluIGU/ZS5jbGllbnRZKyhmLmNvbXBhdE1vZGU9PSJDU1MxQ29tcGF0Ij9mLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A6Zi5ib2R5LnNjcm9sbFRvcCk6MH1mdW5jdGlvbiBfKGUpe3ZhciB0PTA7cmV0dXJuIndoZWVsRGVsdGEiaW4gZT90PWUud2hlZWxEZWx0YTplLnR5cGU9PSJET01Nb3VzZVNjcm9sbCImJih0PS1lLmRldGFpbCksdCYmdC9NYXRoLmFicyh0KX1mdW5jdGlvbiBCKGUpe3ZhciB0PWMoRFtlLnR5cGVdKSxuPVBbZS50eXBlXSxyPW5ldyB3KGUpO2lmKG4pe24uaGFuZGxlci5jYWxsKG4udGhpc09iamVjdCxyKSxDKGUpO3JldHVybn1pZih0KWZvcih2YXIgaT10Lmxlbmd0aDtpLS0+MDspe3ZhciBzPXRbaV07cy5oYW5kbGVyLmNhbGwocy50aGlzT2JqZWN0LHIpfX1mdW5jdGlvbiBqKGUsdCxuKXtQW2VdJiZGKGUpLEkoZSx0LG4pLFBbZV09e2hhbmRsZXI6dCx0aGlzT2JqZWN0Om59fWZ1bmN0aW9uIEYoZSl7dmFyIHQ9UFtlXTt0JiYocShlLHQuaGFuZGxlcix0LnRoaXNPYmplY3QpLGRlbGV0ZSBQW2VdKX1mdW5jdGlvbiBJKGUsdCxuKXt2YXIgcj1EW2VdO2lmKHIpe2Zvcih2YXIgaT0wLHM7cz1yW2ldO2krKylpZihzLmhhbmRsZXI9PT10JiZzLnRoaXNPYmplY3Q9PT1uKXJldHVybn1lbHNlIEg/UihmLGUsbCk6Zi5hZGRFdmVudExpc3RlbmVyKGUsQiwhMCkscj1EW2VdPVtdO3IucHVzaCh7aGFuZGxlcjp0LHRoaXNPYmplY3Q6bn0pfWZ1bmN0aW9uIHEoZSx0LG4pe3ZhciByPURbZV07aWYocilmb3IodmFyIGk9MCxzO3M9cltpXTtpKyspaWYocy5oYW5kbGVyPT09dCYmcy50aGlzT2JqZWN0PT09bil7ci5zcGxpY2UoaSwxKSxyLmxlbmd0aHx8KGRlbGV0ZSBEW2VdLEg/eihmLGUsbCk6Zi5yZW1vdmVFdmVudExpc3RlbmVyKGUsQiwhMCkpO3JldHVybn19ZnVuY3Rpb24gUihlLHQsbixyKXtlPVMoZSk7aWYoIWUpdGhyb3cgMzI7aWYodHlwZW9mIG4hPSJmdW5jdGlvbiIpdGhyb3cgMzM7ZVtwXXx8KGVbcF09e30pO3ZhciBpPXtoYW5kbGVyOm4sdGhpc09iamVjdDpyfSxzPWVbcF0sbz1zW3RdO2lmKCFvKW89c1t0XT1baV0sby5maXJlRXZlbnQ9ZnVuY3Rpb24oZSl7ZT1FKGUpO2lmKEgmJmUmJkRbdF0mJnR5cGVvZiBlLnJldHVyblZhbHVlPT0idW5kZWZpbmVkIil7QihlKTtpZihlLmNhbmNlbEJ1YmJsZT09PSEwKXJldHVybjt0eXBlb2YgZS5yZXR1cm5WYWx1ZT09InVuZGVmaW5lZCImJihlLnJldHVyblZhbHVlPSEwKX1mb3IodmFyIG49MCxyPW5ldyB3KGUpLGk7aT1vW24rK107KWkuaGFuZGxlci5jYWxsKGkudGhpc09iamVjdCxyKX0saD9lLmFkZEV2ZW50TGlzdGVuZXIodCxvLmZpcmVFdmVudCwhMSk6ZS5hdHRhY2hFdmVudCgib24iK3Qsby5maXJlRXZlbnQpO2Vsc2V7Zm9yKHZhciB1PTAsYTthPW9bdV07dSsrKWlmKGEuaGFuZGxlcj09PW4mJmEudGhpc09iamVjdD09PXIpcmV0dXJuO28ucHVzaChpKX19ZnVuY3Rpb24gVShlLHQsbil7ZT1TKGUpO2Zvcih2YXIgciBpbiB0KVIoZSxyLHRbcl0sbil9ZnVuY3Rpb24geihlLHQsbixyKXtlPVMoZSk7dmFyIGk9ZVtwXTtpZihpKXt2YXIgcz1pW3RdO2lmKHMpZm9yKHZhciBvPTAsdTt1PXNbb107bysrKWlmKHUuaGFuZGxlcj09PW4mJnUudGhpc09iamVjdD09PXIpe3Muc3BsaWNlKG8sMSkscy5sZW5ndGh8fFcoZSx0KTtyZXR1cm59fX1mdW5jdGlvbiBXKGUsdCl7ZT1TKGUpO3ZhciBuPWVbcF07aWYobilpZih0eXBlb2YgdCE9InN0cmluZyIpZm9yKHQgaW4gbilXKGUsdCk7ZWxzZXt2YXIgcj1uW3RdO3ImJihlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsci5maXJlRXZlbnQsITEpOmUuZGV0YWNoRXZlbnQoIm9uIit0LHIuZmlyZUV2ZW50KSxkZWxldGUgblt0XSl9fWZ1bmN0aW9uIFgoZSx0LG4pe2U9UyhlKTt2YXIgcj1lW3BdO3ImJnJbdF0mJnJbdF0uZmlyZUV2ZW50KG4pfWZ1bmN0aW9uIFYoZSx0KXtSKHIsInVubG9hZCIsZSx0KX1mdW5jdGlvbiBKKGUsdCl7dHx8KHQ9ImRpdiIpO3ZhciBuPXQrIi0iK2U7aWYoJFtuXSlyZXR1cm4gJFtuXTt2YXIgcj0hMSxpPSExO2lmKCFoKXt2YXIgcz0ib24iK2Usbz1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHU9by5hcHBlbmRDaGlsZChmLmNyZWF0ZUVsZW1lbnQodCkpO29bc109ZnVuY3Rpb24oKXtpPSEwfTt0cnl7dS5maXJlRXZlbnQocykscj0hMH1jYXRjaChhKXt9fXJldHVybiAkW25dPXtzdXBwb3J0ZWQ6cixidWJibGU6aX19ZnVuY3Rpb24gSyhlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gZShFKHQpLG4pfX12YXIgYT10aGlzLnBhdGgsZj1yLmRvY3VtZW50LGw9bi5mbi4kbnVsbCxjPW4uYXJyYXkuZnJvbSxoPSEhZi5hZGRFdmVudExpc3RlbmVyLHA9Il9fYmFzaXNFdmVudHMiLGQ9e0JBQ0tTUEFDRTo4LFRBQjo5LENUUkxfRU5URVI6MTAsRU5URVI6MTMsU0hJRlQ6MTYsQ1RSTDoxNyxBTFQ6MTgsRVNDOjI3LEVTQ0FQRToyNyxTUEFDRTozMixQQUdFVVA6MzMsUEFHRURPV046MzQsRU5EOjM1LEhPTUU6MzYsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwLElOU0VSVDo0NSxERUxFVEU6NDYsRjE6MTEyLEYyOjExMyxGMzoxMTQsRjQ6MTE1LEY1OjExNixGNjoxMTcsRjc6MTE4LEY4OjExOSxGOToxMjAsRjEwOjEyMSxGMTE6MTIyLEYxMjoxMjN9LHY9e1ZBTFVFOjEsQklUOjF9LG09e1ZBTFVFOjIsQklUOjR9LGc9e1ZBTFVFOjMsQklUOjJ9LHk9e21vdXNld2hlZWw6WyJtb3VzZXdoZWVsIiwiRE9NTW91c2VTY3JvbGwiXX0sdz1uLkNsYXNzKG51bGwse2NsYXNzTmFtZTphKyIuRXZlbnQiLEtFWTpkLGluaXQ6ZnVuY3Rpb24oZSl7ZT1FKGUpO2Zvcih2YXIgdCBpbiBlKXR5cGVvZiBlW3RdIT0iZnVuY3Rpb24iJiZ0IGluIHRoaXM9PTAmJih0aGlzW3RdPWVbdF0pO3ZhciByPXgoZSk7bi5vYmplY3QuZXh0ZW5kKHRoaXMse2V2ZW50XzplLHNlbmRlcjpyLHRhcmdldDpyLGtleTprKGUpLGNoYXJDb2RlOkwoZSksbW91c2VMZWZ0OkEoZSx2KSxtb3VzZU1pZGRsZTpBKGUsbSksbW91c2VSaWdodDpBKGUsZyksbW91c2VYOk8oZSksbW91c2VZOk0oZSksd2hlZWxEZWx0YTpfKGUpfSl9LHN0b3BCdWJibGU6ZnVuY3Rpb24oKXtUKHRoaXMuZXZlbnRfKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7VCh0aGlzLmV2ZW50Xyl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7Tih0aGlzLmV2ZW50Xyl9LGRpZTpmdW5jdGlvbigpe3RoaXMuc3RvcEJ1YmJsZSgpLHRoaXMucHJldmVudERlZmF1bHQoKX19KSxEPXt9LFA9e30sSD0haCwkPXt9O3QuZXhwb3J0cz17VzNDU1VQUE9SVDpoLGJyb3dzZXJFdmVudHM6YixnZXRFdmVudEluZm86SixLRVk6ZCxNT1VTRV9MRUZUOnYsTU9VU0VfUklHSFQ6ZyxNT1VTRV9NSURETEU6bSxFdmVudDp3LHNlbmRlcjpLKHgpLGNhbmNlbEJ1YmJsZTpLKFQpLGNhbmNlbERlZmF1bHQ6SyhOKSxraWxsOksoQyksa2V5OksoayksY2hhckNvZGU6SyhMKSxtb3VzZUJ1dHRvbjpLKEEpLG1vdXNlWDpLKE8pLG1vdXNlWTpLKE0pLHdoZWVsRGVsdGE6SyhfKSxhZGRHbG9iYWxIYW5kbGVyOkkscmVtb3ZlR2xvYmFsSGFuZGxlcjpxLGNhcHR1cmVFdmVudDpqLHJlbGVhc2VFdmVudDpGLGFkZEhhbmRsZXI6UixhZGRIYW5kbGVyczpVLHJlbW92ZUhhbmRsZXI6eixjbGVhckhhbmRsZXJzOlcsZmlyZUV2ZW50Olgsb25VbmxvYWQ6Vix3cmFwOkV9fSwiOS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBDKGUsdCl7cmV0dXJuIG5ldyBGdW5jdGlvbihlLHQpfW4ucmVxdWlyZSgiLi82LmpzIik7dmFyIGE9bi50ZW1wbGF0ZS5UWVBFX0VMRU1FTlQsZj1uLnRlbXBsYXRlLlRZUEVfQVRUUklCVVRFLGw9bi50ZW1wbGF0ZS5UWVBFX1RFWFQsYz1uLnRlbXBsYXRlLlRZUEVfQ09NTUVOVCxoPW4udGVtcGxhdGUuVE9LRU5fVFlQRSxwPW4udGVtcGxhdGUuVE9LRU5fQklORElOR1MsZD1uLnRlbXBsYXRlLlRPS0VOX1JFRlMsdj1uLnRlbXBsYXRlLkFUVFJfTkFNRSxtPW4udGVtcGxhdGUuQVRUUl9OQU1FX0JZX1RZUEUsZz1uLnRlbXBsYXRlLkVMRU1FTlRfTkFNRSx5PW4udGVtcGxhdGUuRUxFTUVOVF9BVFRSUyxiPW4udGVtcGxhdGUuRUxFTUVOVF9DSElMRFMsdz1uLnRlbXBsYXRlLlRFWFRfVkFMVUUsRT1uLnRlbXBsYXRlLkNPTU1FTlRfVkFMVUUsUz17fSx4PTEsVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9MCxpO2k9ZVtyXTtyKyspaS5pbmRleE9mKCI6Iik9PS0xJiZuLnB1c2goaSsiOiIrdCl9ZnVuY3Rpb24gZihuKXt2YXIgcj10Lmxlbmd0aCxpPWVbcl18fCJyIityO3JldHVybiB0LnB1c2goaSsiPSIrbiksaX1mdW5jdGlvbiBiKGUpe3IucHVzaChlKX1mdW5jdGlvbiB3KGUsbixyLEUpe3ZhciBTLHgsVCxOLEM7Zm9yKHZhciBrPTAsTD0wLEE9MCxPO089ZVtrXTtrKyssTCsrLE49ITEpe2s/ZVtrKzFdPyhPW2hdPT1lW2stMV1baF0mJk9baF09PWwmJkErKyxTPW4rIi5jaGlsZE5vZGVzWyIrKHI/TDpMKyhBPyIgKyAiK0ErIiAqIFRFWFRfQlVHIjoiIikpKyJdIik6Uz1uKyIubGFzdENoaWxkIjpTPW4rIi5maXJzdENoaWxkIjtpZih4PU9bZF0pTj0hMCxTPWYoUyksdSh4LFMpO09bcF0mJihPW3BdJiZ0eXBlb2YgT1twXT09Im51bWJlciImJihPW3BdPU9bZF1bT1twXS0xXSksTnx8KE49ITAsUz1mKFMpKSxiKFtPW2hdLFMsT1twXV0pKTtpZihPW2hdPT1hKXtUPS0xLG49PXMmJmkucHVzaChTKyIuIitFKSxOfHwoUz1mKFMpLFQ9dC5sZW5ndGgpO3ZhciBNPVtdLF89W107Zm9yKHZhciBEPXksUDtQPU9bRF07RCsrKVBbaF09PWF8fFBbaF09PWx8fFBbaF09PWM/Xy5wdXNoKFApOk0ucHVzaChQKTtmb3IodmFyIEQ9MCxIO0g9TVtEXTtEKyspe2lmKEhbaF09PTYpY29udGludWU7dmFyIEI9bVtIW2hdXXx8SFt2XTtpZih4PUhbZF0pTj0hMCx1KHgsZihTKycuZ2V0QXR0cmlidXRlTm9kZSgiJytCKyciKScpKTtpZihDPUhbcF0pe049ITA7c3dpdGNoKEIpe2Nhc2UiY2xhc3MiOmZvcih2YXIgaj0wLEY7Rj1DW2pdO2orKyliKFsyLFMsRlsxXSxCLEZbMF1dLmNvbmNhdChGLnNsaWNlKDIpKSk7YnJlYWs7Y2FzZSJzdHlsZSI6Zm9yKHZhciBqPTAsSTtJPUNbal07aisrKXtvKys7Zm9yKHZhciBxPTAsUjtSPUlbMF1bcV07cSsrKWIoWzIsUyxSLEIsSVswXSxJWzFdLElbMl0sSVszXSxvXSl9YnJlYWs7ZGVmYXVsdDpvKys7Zm9yKHZhciBqPTAsUjtSPUNbMF1bal07aisrKWIoWzIsUyxSLEIsQ1swXSxDWzFdLE9bZ10sb10pfX19Xy5sZW5ndGgmJncoXyxTLHIpLCFOJiZUPT10Lmxlbmd0aCYmdC5wb3AoKX19fXZhciBlPSJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIi5zcGxpdCgiIiksdCxuLHIsaSxzLG87cmV0dXJuIGZ1bmN0aW9uKGUsdSxhLGYpe3JldHVybiB0PVtdLG49W10scj1bXSxpPVtdLHM9dXx8Il8iLG89MCx3KGUscyxhLGYpLHtwYXRoOnQscmVmOm4sYmluZGluZzpyLG1hcmtlZEVsZW1lbnRMaXN0Oml9fX0oKSxOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyh0LG4scil7dmFyIGk9W10scz10WzVdLG89dFs0XSx1LGE7Zm9yKHZhciBmPTA7ZjxzLmxlbmd0aDtmKyspaWYodHlwZW9mIHNbZl09PSJzdHJpbmciKWkucHVzaCgnIicrc1tmXS5yZXBsYWNlKC8iL2csJ1xcIicpKyciJyk7ZWxzZXt1PW9bc1tmXV0sYT11LmluZGV4T2YoIjoiKTtpZihhPT0tMSlpLnB1c2gobj09ImwxMG4iPycieycrdSsnfSInOm49PSJib29sIj8iKF9fIit1Kyd8fCIiKSc6Il9fIit1KTtlbHNle3ZhciBsPW51bGwsYz11LnN1YnN0cihhKzEpLnJlcGxhY2UoZSxmdW5jdGlvbihlLHQpe3JldHVybiBsPXQsIiJ9KTtsP2kucHVzaChyW3Uuc3Vic3RyKGErMSldKTppLnB1c2goJ19fbDEwblsiJytjKyciXScpfX1yZXR1cm4gaS5sZW5ndGg9PTEmJmkucHVzaCgnIiInKSxpLmpvaW4oIisiKX12YXIgZT0vXC5ceyhbYS16QS1aX11bYS16QS1aMC05X1wtXSopXH0vLHQ9e2Rpc2FibGVkOiIqIixjaGVja2VkOlsiaW5wdXQiXSxpbmRldGVybWluYXRlOlsiaW5wdXQiXSx2YWx1ZTpbImlucHV0IiwidGV4dGFyZWEiLCJzZWxlY3QiXSxtaW5sZW5ndGg6WyJpbnB1dCJdLG1heGxlbmd0aDpbImlucHV0Il0scmVhZG9ubHk6WyJpbnB1dCJdLHNlbGVjdGVkOlsib3B0aW9uIl0sbXVsdGlwbGU6WyJzZWxlY3QiXX0scj17ZGlzYWJsZWQ6ITAsY2hlY2tlZDohMCxzZWxlY3RlZDohMCxyZWFkb25seTohMCxtdWx0aXBsZTohMCxpbmRldGVybWluYXRlOiEwfSxpPXsxOiJiaW5kX2VsZW1lbnQiLDM6ImJpbmRfdGV4dE5vZGUiLDg6ImJpbmRfY29tbWVudCJ9O3JldHVybiBmdW5jdGlvbihvKXtmdW5jdGlvbiB1KGUpe05bZV09ITAsaC5wdXNoKHArIj0iK2UrIigiK24uYXJyYXkoYXJndW1lbnRzLDEpKyIpOyIpfXZhciBjPXt9LGgscCxkPVtdLG09W10sZyx5LGI9W10sdz17fSxFPTEsUyx4LFQ9e30sTj17cmVzb2x2ZTohMH07Zm9yKHZhciBDPTAsaztrPW9bQ107QysrKXt2YXIgTD1rWzBdLEE9a1sxXSxPPWtbMl07aWYoWyJnZXQiLCJzZXQiLCJ0ZW1wbGF0ZUlkXyJdLmluZGV4T2YoTykhPS0xKWNvbnRpbnVlO3ZhciBNPU8uc3BsaXQoIjoiKSxfPU1bMF09PSJhbmltIjtfJiYoTz1NWzFdKSxoPWNbT10scD0iXyIrQyxnPSJfXyIrTztpZihNWzBdPT0ibDEwbiImJk1bMV0pe3ZhciBEPU1bMV0sUD1udWxsLEg9RC5yZXBsYWNlKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gUD10LCIifSk7aWYoUCl7RCBpbiB3PT0wJiYoZz0iJGwxMG5fIitFKyssd1tEXT1nLGIucHVzaCgnc2V0KCInK2crJyIsJytnKyIpIiksZC5wdXNoKGcrJz10b29scy5sMTBuVG9rZW4oIicrSCsnIikuY29tcHV0ZVRva2VuKCknKSxoPWNbUF0saHx8KGg9Y1tQXT1bXSxkLnB1c2goIl9fIitQKSksaC5wdXNoKGcrIi5zZXQoX18iK1ArIik7IikpLE89d1tEXSxwPSJfIitDLGc9Il9fIitPLGg9Y1tPXSxofHwoaD1jW09dPVtdLGQucHVzaChnKSksTD09bD8oZC5wdXNoKHArIj0iK0EpLHUoaVtMXSxBLHAsInZhbHVlIikpOihCPSciJytrW3ZdKyciJyxkLnB1c2gocCksdSgiYmluZF9hdHRyIixBLEIscCxzKGssITEsdykpKTtjb250aW51ZX15fHwoeT17fSksY1tIXXx8KGNbSF09W10seVtIXT1bXSksaD1jW0hdLGgubDEwbj0hMDtpZihMPT1sKXt5W0hdLnB1c2goQSsiLm5vZGVWYWx1ZT12YWx1ZTsiKSxoLnB1c2goQSsnLm5vZGVWYWx1ZT1fX2wxMG5bIicrSCsnIl0nKyhQPyJbX18iK1ArIl0iOiIiKSsiOyIpO2NvbnRpbnVlfXlbSF0ucHVzaCgiYmluZF9hdHRyKCIrW0EsJyInK2tbdl0rJyInLCJOYU4iLHMoaywibDEwbiIsdyldKyIpOyIpfWh8fChoPWNbT109W10sZC5wdXNoKGcpKTtpZihMIT1mKWlmKCFoLm5vZGVCaW5kKWQucHVzaChwKyI9IitBKSx1KGlbTF0sQSxwLCJ2YWx1ZSIpLGgubm9kZUJpbmQ9cDtlbHNlIHN3aXRjaChMKXtjYXNlIGE6dShpW0xdLEEsQSwidmFsdWUhPT1udWxsP1N0cmluZyh2YWx1ZSk6bnVsbCIpO2JyZWFrO2Nhc2UgbDpoLnB1c2goQSsiLm5vZGVWYWx1ZT12YWx1ZTsiKX1lbHNle3ZhciBCPWtbdl07c3dpdGNoKEIpe2Nhc2UiY2xhc3MiOnZhciBqPSIiLEY9InZhbHVlIixJPWtbNF0scT1rLmxlbmd0aDtpZihxPj02KWlmKHE9PTZ8fHR5cGVvZiBrWzZdPT0ic3RyaW5nIilxPT02PyhGPSd2YWx1ZT8iJytPKyciOiIiJyxrWzVdJiYoaj1JK08pKTooST0iIixGPSd2YWx1ZT8iJytrWzZdKyciOiIiJyxrWzVdJiYoaj1rWzZdKSk7ZWxzZXtpZigha1s2XS5sZW5ndGgpY29udGludWU7cT09Nz8oRj1rWzZdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4ndmFsdWU9PSInK2UrJyInfSkuam9pbigifHwiKSsnP3ZhbHVlOiIiJyxrWzVdJiYoaj1JK2tbNl1ba1s1XS0xXSkpOihJPSIiLEY9a1s2XS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4ndmFsdWU9PSInK2UrJyI/IicrdGhpc1t0XSsnIid9LGtbN10pLmpvaW4oIjoiKSsnOiIiJyxrWzVdJiYoaj1rWzddW2tbNV0tMV0pKX1lbHNlIEY9J3R5cGVvZiB2YWx1ZT09InN0cmluZyJ8fHR5cGVvZiB2YWx1ZT09Im51bWJlciI/dmFsdWU6KHZhbHVlPyInK08rJyI6IiIpJztkLnB1c2gocCsnPSInK2orJyInKSx1KCJiaW5kX2F0dHJDbGFzcyIsQSxwLEYsJyInK0krJyInLF8pO2JyZWFrO2Nhc2Uic3R5bGUiOnZhciBSPXMoaywhMSx3KTt4PWtbOF0sVFt4XXx8KFRbeF09cCxkLnB1c2gocCsiPSIrKGtbN109PSJoaWRlIj8nIiInOicibm9uZSInKSkpLGtbN10mJihSPVIucmVwbGFjZSgvXCsiIiQvLCIiKSsoa1s3XT09ImhpZGUiPyc/Im5vbmUiOiIiJzonPyIiOiJub25lIicpKSxwPVRbeF0sdSgiYmluZF9hdHRyU3R5bGUiLEEsJyInK2tbNl0rJyInLHAsUik7YnJlYWs7ZGVmYXVsdDpTPXRbQl0seD1rWzddLFRbeF18fChkLnB1c2gocCsiPSIrcyhrLCJsMTBuIix3KSksVFt4XT1wKSxwPVRbeF0sdSgiYmluZF9hdHRyIixBLCciJytCKyciJyxwLFMmJnJbQl0/cyhrLCJib29sIix3KSsnPyInK0IrJyI6IiInOnMoaywhMSx3KSksUyYmKFM9PSIqInx8Uy5pbmRleE9mKGtbNl0udG9Mb3dlckNhc2UoKSkhPS0xKSYmaC5wdXNoKCJpZigiK0ErIi4iK0IrIiE9IitwKyIpIitBKyIuIitCKyI9IisocltCXT8iISEiK3A6cCkrIjsiKX19fW0ucHVzaCgnO2Z1bmN0aW9uIHNldChiaW5kTmFtZSx2YWx1ZSl7aWYodHlwZW9mIGJpbmROYW1lIT0ic3RyaW5nIiknKTtmb3IodmFyIE8gaW4gYyljW09dLm5vZGVCaW5kJiZtLnB1c2goImlmKGJpbmROYW1lPT09IitjW09dLm5vZGVCaW5kKyIpIisnYmluZE5hbWU9IicrTysnIjsnKyJlbHNlICIpO20ucHVzaCgicmV0dXJuOyIpLG0ucHVzaCgidmFsdWU9cmVzb2x2ZS5jYWxsKGluc3RhbmNlLGJpbmROYW1lLHZhbHVlLEF0dGFjaGVzKTtzd2l0Y2goYmluZE5hbWUpeyIpO2Zvcih2YXIgTyBpbiBjKW0ucHVzaCgnY2FzZSInK08rJyI6JysoY1tPXS5sMTBuP2NbT10uam9pbigiIik6ImlmKF9fIitPKyIhPT12YWx1ZSkiKyJ7IisiX18iK08rIj12YWx1ZTsiK2NbT10uam9pbigiIikrIn0iKSsiYnJlYWs7Iik7bS5wdXNoKCJ9fSIpO3ZhciBVPVtdO2Zvcih2YXIgeiBpbiBOKVUucHVzaCh6KyI9dG9vbHMuIit6KTtyZXR1cm57a2V5czpuLm9iamVjdC5rZXlzKGMpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5pbmRleE9mKCJAIik9PS0xfSksdG9vbHM6VSx2YXJzOmQsc2V0Om0uam9pbigiIiksbDEwbjp5LGwxMG5Db21wdXRlOmJ9fX0oKSxrPWZ1bmN0aW9uKGUsdCxyLGkscyxvKXt2YXIgdT1TW3ImJm4ucGF0aC5yZWxhdGl2ZShyKV07aWYodSlyZXR1cm4gdTt2YXIgYT1UKGUsIl8iLHMsbyksZj1OKGEuYmluZGluZyksbD1hLm1hcmtlZEVsZW1lbnRMaXN0LmpvaW4oIj0iKSxjLGgscD17a2V5czpmLmtleXMsbDEwbktleXM6bi5vYmplY3Qua2V5cyhmLmwxMG4pfTtlLmxlbmd0aD09MSYmKGEucGF0aFswXT0iYT1fIik7aWYoZi5sMTBuKXt2YXIgZD1bXTtmb3IodmFyIHYgaW4gZi5sMTBuKWQucHVzaCgnY2FzZSInK3YrJyI6JysnaWYodmFsdWU9PW51bGwpdmFsdWU9InsnK3YrJ30iOycrIl9fbDEwblt0b2tlbl09dmFsdWU7IitmLmwxMG5bdl0uam9pbigiIikrImJyZWFrOyIpO3AuY3JlYXRlTDEwblN5bmM9QyhbIl8iLCJfX2wxMG4iLCJiaW5kX2F0dHIiLCJURVhUX0JVRyJdLCJ2YXIgIithLnBhdGgrIjsiKyJyZXR1cm4gZnVuY3Rpb24odG9rZW4sIHZhbHVlKXsiKyJzd2l0Y2godG9rZW4peyIrZC5qb2luKCIiKSsifSIrIn0iKX1yZXR1cm4gcC5jcmVhdGVJbnN0YW5jZT1DKFsidGlkIiwibWFwIiwicHJvdG8iLCJ0b29scyIsIl9fbDEwbiIsIlRFWFRfQlVHIl0sInZhciBnZXRCaW5kaW5ncz10b29scy5jcmVhdGVCaW5kaW5nRnVuY3Rpb24oWyIrZi5rZXlzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4nIicrZSsnIid9KSsiXSksIisoZi50b29scy5sZW5ndGg/Zi50b29scysiLCI6IiIpKyJBdHRhY2hlcz1mdW5jdGlvbigpe307IisiQXR0YWNoZXMucHJvdG90eXBlPXsiK2Yua2V5cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUrIjpudWxsIn0pKyJ9OyIrInJldHVybiBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZV8oaWQsb2JqLG9uQWN0aW9uLG9uUmVidWlsZCxiaW5kaW5ncyxiaW5kaW5nSW50ZXJmYWNlKXsiKyJ2YXIgXz1wcm90by5jbG9uZU5vZGUodHJ1ZSksIithLnBhdGguY29uY2F0KGYudmFycykrIiwiKyJpbnN0YW5jZT17IisiY29udGV4dDpvYmosIisiYWN0aW9uOm9uQWN0aW9uLCIrInJlYnVpbGQ6b25SZWJ1aWxkLCIrImhhbmRsZXI6bnVsbCwiKyJiaW5kaW5nczpiaW5kaW5ncywiKyJiaW5kaW5nSW50ZXJmYWNlOmJpbmRpbmdJbnRlcmZhY2UsIisiYXR0YWNoZXM6bnVsbCwiKyJ0bXBsOnsiK1thLnJlZiwidGVtcGxhdGVJZF86aWQiLCJzZXQ6c2V0Il0rIn0iKyJ9IisobD8iO2lmKG9ianx8b25BY3Rpb24pIitsKyI9KGlkPDwxMil8dGlkIjoiIikrZi5zZXQrIjtpZihiaW5kaW5ncylpbnN0YW5jZS5oYW5kbGVyPWdldEJpbmRpbmdzKGJpbmRpbmdzLG9iaixzZXQsYmluZGluZ0ludGVyZmFjZSkiKyI7IitmLmwxMG5Db21wdXRlKyI7cmV0dXJuIGluc3RhbmNlIisifSIpLHB9O3QuZXhwb3J0cz17Z2V0RnVuY3Rpb25zOmt9fSwiYS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBUKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/Zi5nZXRFbGVtZW50QnlJZChlKTplfWZ1bmN0aW9uIE4oZSl7aWYoU3x8dGhpcy5pZ25vcmVUYXJnZXQoZS5zZW5kZXIsZSkpcmV0dXJuO3ZhciB0PWIoZS5zZW5kZXIpO2lmKGUubW91c2VYPHQubGVmdHx8ZS5tb3VzZVg+dC5yaWdodHx8ZS5tb3VzZVk8dC50b3B8fGUubW91c2VZPnQuYm90dG9tKXJldHVybjtTPXRoaXMseD17aW5pdFg6ZS5tb3VzZVgsaW5pdFk6ZS5tb3VzZVksZGVsdGFYOjAsbWluRGVsdGFYOi1JbmZpbml0eSxtYXhEZWx0YVg6SW5maW5pdHksZGVsdGFZOjAsbWluRGVsdGFZOi1JbmZpbml0eSxtYXhEZWx0YVk6SW5maW5pdHl9LGgoIm1vdXNlbW92ZSIsQyksaCgibW91c2V1cCIsayksaCgibW91c2Vkb3duIixrKSx3JiZoKCJzZWxlY3RzdGFydCIsYy5raWxsKSxlLnByZXZlbnREZWZhdWx0KCksdGhpcy5wcmVwYXJlRHJhZyh4LGUpfWZ1bmN0aW9uIEMoZSl7dmFyIHQ9ZS5tb3VzZVgteC5pbml0WCxyPWUubW91c2VZLXguaW5pdFk7aWYoIUUpe2lmKCFTLnN0YXJ0UnVsZSh0LHIpKXJldHVybjtFPSEwLFMuZW1pdF9zdGFydCh4LGUpfVMuYXhpc1gmJih4LmRlbHRhWD1TLmF4aXNYcHJveHkobi5udW1iZXIuZml0KHQseC5taW5EZWx0YVgseC5tYXhEZWx0YVgpKSksUy5heGlzWSYmKHguZGVsdGFZPVMuYXhpc1lwcm94eShuLm51bWJlci5maXQocix4Lm1pbkRlbHRhWSx4Lm1heERlbHRhWSkpKSxTLmVtaXRfZHJhZyh4LGUpfWZ1bmN0aW9uIGsoZSl7cCgibW91c2Vtb3ZlIixDKSxwKCJtb3VzZXVwIixrKSxwKCJtb3VzZWRvd24iLGspLHcmJnAoInNlbGVjdHN0YXJ0IixjLmtpbGwpO3ZhciB0PVMsbj14O1M9bnVsbCx4PW51bGwsRSYmKEU9ITEsdC5lbWl0X292ZXIobixlKSksZS5kaWUoKX1uLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi84LmpzIiksbi5yZXF1aXJlKCIuL2IuanMiKSxuLnJlcXVpcmUoIi4vYy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPXIuZG9jdW1lbnQsbD1uLmNsZWFuZXIsYz1uLmRvbS5ldmVudCxoPWMuYWRkR2xvYmFsSGFuZGxlcixwPWMucmVtb3ZlR2xvYmFsSGFuZGxlcixkPW4uZXZlbnQuRW1pdHRlcix2PW4uZXZlbnQuY3JlYXRlLG09bi5kb20uY29tcHV0ZWRTdHlsZS5nZXQsZz1uLmxheW91dC5nZXRPZmZzZXRQYXJlbnQseT1uLmxheW91dC5nZXRCb3VuZGluZ1JlY3QsYj1uLmxheW91dC5nZXRWaWV3cG9ydFJlY3Qsdz1jLmdldEV2ZW50SW5mbygic2VsZWN0c3RhcnQiKS5zdXBwb3J0ZWQsRSxTLHgsTD1kLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLkRyYWdEcm9wRWxlbWVudCIsZWxlbWVudDpudWxsLHRyaWdnZXI6bnVsbCxiYXNlRWxlbWVudDpudWxsLGF4aXNYOiEwLGF4aXNZOiEwLGF4aXNYcHJveHk6bi5mbi4kc2VsZixheGlzWXByb3h5Om4uZm4uJHNlbGYscHJlcGFyZURyYWc6bi5mbi4kdW5kZWYsc3RhcnRSdWxlOm4uZm4uJHRydWUsaWdub3JlVGFyZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuL14oSU5QVVR8VEVYVEFSRUF8U0VMRUNUfEJVVFRPTikkLy50ZXN0KGUudGFnTmFtZSl9LGVtaXRfc3RhcnQ6digic3RhcnQiKSxlbWl0X2RyYWc6digiZHJhZyIpLGVtaXRfb3Zlcjp2KCJvdmVyIiksaW5pdDpmdW5jdGlvbigpe2QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmVsZW1lbnQsdD10aGlzLnRyaWdnZXI7dGhpcy5lbGVtZW50PW51bGwsdGhpcy50cmlnZ2VyPW51bGwsdGhpcy5zZXRFbGVtZW50KGUsdCksdGhpcy5zZXRCYXNlKHRoaXMuYmFzZUVsZW1lbnQpLGwuYWRkKHRoaXMpfSxzZXRFbGVtZW50OmZ1bmN0aW9uKGUsdCl7dGhpcy5lbGVtZW50PVQoZSksdD1UKHQpfHx0aGlzLmVsZW1lbnQsdGhpcy50cmlnZ2VyIT09dCYmKHRoaXMudHJpZ2dlciYmYy5yZW1vdmVIYW5kbGVyKHRoaXMudHJpZ2dlciwibW91c2Vkb3duIixOLHRoaXMpLHRoaXMudHJpZ2dlcj10LHRoaXMudHJpZ2dlciYmYy5hZGRIYW5kbGVyKHRoaXMudHJpZ2dlciwibW91c2Vkb3duIixOLHRoaXMpKX0sc2V0QmFzZTpmdW5jdGlvbihlKXt0aGlzLmJhc2VFbGVtZW50PVQoZSl9LGdldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXNlRWxlbWVudHx8KGYuY29tcGF0TW9kZT09IkNTUzFDb21wYXQiP2YuZG9jdW1lbnRFbGVtZW50OmYuYm9keSl9LGlzRHJhZ2dpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gUz09PXRoaXN9LHN0YXJ0OmZ1bmN0aW9uKGUpe3RoaXMuaXNEcmFnZ2luZygpfHxOLmNhbGwodGhpcyxlKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuaXNEcmFnZ2luZygpJiZrKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSxsLnJlbW92ZSh0aGlzKSxkLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5zZXRFbGVtZW50KCksdGhpcy5zZXRCYXNlKCl9fSksQT1uLkNsYXNzKG51bGwse2NsYXNzTmFtZTphKyIuRGVsdGFXcml0ZXIiLHByb3BlcnR5Om51bGwsaW52ZXJ0OiExLGZvcm1hdDpuLmZuLiRzZWxmLGluaXQ6ZnVuY3Rpb24oZSl7dHlwZW9mIHRoaXMucHJvcGVydHk9PSJmdW5jdGlvbiImJih0aGlzLnByb3BlcnR5PXRoaXMucHJvcGVydHkoZSkpLHR5cGVvZiB0aGlzLmludmVydD09ImZ1bmN0aW9uIiYmKHRoaXMuaW52ZXJ0PXRoaXMuaW52ZXJ0KHRoaXMucHJvcGVydHkpKSx0aGlzLnZhbHVlPXRoaXMucmVhZChlKX0scmVhZDpmdW5jdGlvbigpe3JldHVybiBlbGVtZW50W3RoaXMucHJvcGVydHldfSx3cml0ZTpmdW5jdGlvbihlLHQpe2VbdGhpcy5wcm9wZXJ0eV09dH0sYXBwbHlEZWx0YTpmdW5jdGlvbihlLHQpe3RoaXMuaW52ZXJ0JiYodD0tdCksdGhpcy53cml0ZShlLHRoaXMuZm9ybWF0KHRoaXMudmFsdWUrdCx0KSl9fSksTz1BLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlN0eWxlRGVsdGFXcml0ZXIiLGZvcm1hdDpmdW5jdGlvbihlLHQpe3JldHVybiBlKyJweCJ9LHJlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQobShlLHRoaXMucHJvcGVydHkpKXx8MH0sd3JpdGU6ZnVuY3Rpb24oZSx0KXtlLnN0eWxlW3RoaXMucHJvcGVydHldPXR9fSksTT1PLnN1YmNsYXNzKHtwcm9wZXJ0eTpmdW5jdGlvbihlKXtyZXR1cm4gbShlLCJsZWZ0Iik9PSJhdXRvIiYmbShlLCJyaWdodCIpIT0iYXV0byI/InJpZ2h0IjoibGVmdCJ9LGludmVydDpmdW5jdGlvbihlKXtyZXR1cm4gZT09InJpZ2h0In19KSxfPU8uc3ViY2xhc3Moe3Byb3BlcnR5OmZ1bmN0aW9uKGUpe3JldHVybiBtKGUsInRvcCIpPT0iYXV0byImJm0oZSwiYm90dG9tIikhPSJhdXRvIj8iYm90dG9tIjoidG9wIn0saW52ZXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT0iYm90dG9tIn19KSxEPUwuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuTW92ZWFibGVFbGVtZW50IixmaXhUb3A6ITAsZml4UmlnaHQ6ITAsZml4Qm90dG9tOiEwLGZpeExlZnQ6ITAsYXhpc1g6TSxheGlzWTpfLGVtaXRfc3RhcnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmVsZW1lbnQ7aWYobil7dmFyIHI9Yih0aGlzLmdldEJhc2UoKSksaT15KG4pO2UuZWxlbWVudD1uLHRoaXMuYXhpc1gmJihlLmF4aXNYPW5ldyB0aGlzLmF4aXNYKG4pLHRoaXMuZml4TGVmdCYmKGUubWluRGVsdGFYPXIubGVmdC1pLmxlZnQpLHRoaXMuZml4UmlnaHQmJihlLm1heERlbHRhWD1yLnJpZ2h0LWkucmlnaHQpKSx0aGlzLmF4aXNZJiYoZS5heGlzWT1uZXcgdGhpcy5heGlzWShuKSx0aGlzLmZpeFRvcCYmKGUubWluRGVsdGFZPXIudG9wLWkudG9wKSx0aGlzLmZpeEJvdHRvbSYmKGUubWF4RGVsdGFZPXIuYm90dG9tLWkuYm90dG9tKSl9TC5wcm90b3R5cGUuZW1pdF9zdGFydC5jYWxsKHRoaXMsZSx0KX0sZW1pdF9kcmFnOmZ1bmN0aW9uKGUsdCl7aWYoIWUuZWxlbWVudClyZXR1cm47ZS5heGlzWCYmZS5heGlzWC5hcHBseURlbHRhKGUuZWxlbWVudCxlLmRlbHRhWCksZS5heGlzWSYmZS5heGlzWS5hcHBseURlbHRhKGUuZWxlbWVudCxlLmRlbHRhWSksTC5wcm90b3R5cGUuZW1pdF9kcmFnLmNhbGwodGhpcyxlLHQpfX0pO3QuZXhwb3J0cz17RHJhZ0Ryb3BFbGVtZW50OkwsTW92ZWFibGVFbGVtZW50OkQsRGVsdGFXcml0ZXI6QSxTdHlsZURlbHRhV3JpdGVyOk99fSwiYi5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXt2YXIgYT1yLmRvY3VtZW50LGY7aWYoImdldENvbXB1dGVkU3R5bGUiaW4gcil7dmFyIGw9e3RvcDohMCxib3R0b206ITAsbGVmdDohMCxyaWdodDohMCxoZWlnaHQ6ITAsd2lkdGg6ITB9LGM9bi5mbi5ydW5PbmNlKGZ1bmN0aW9uKCl7dmFyIGU9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6YXV0byFpbXBvcnRhbnQiKSxuLmRvYy5ib2R5LmFkZChlKSxyLmdldENvbXB1dGVkU3R5bGUoZSkudG9wPT0iYXV0byImJihsPXt9KSxuLmRvYy5yZW1vdmUoZSl9KTtmPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5nZXRDb21wdXRlZFN0eWxlKGUpLGk7aWYobil7dCBpbiBsJiZjKCk7aWYobFt0XSYmbi5wb3NpdGlvbiE9InN0YXRpYyIpe3ZhciBzPWUuc3R5bGUuZGlzcGxheTtlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGk9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpLGUuc3R5bGUuZGlzcGxheT1zfWVsc2UgaT1uLmdldFByb3BlcnR5VmFsdWUodCk7cmV0dXJuIGl9fX1lbHNle3ZhciBoPS9eLT8oXGQqXC4pP1xkKyhbYS16XSt8JSk/JC9pLHA9L1xkcHgkL2ksZD1mdW5jdGlvbihlLHQpe2lmKHAudGVzdCh0KSlyZXR1cm4gcGFyc2VJbnQodCwxMCkrInB4Ijt2YXIgbj1lLnN0eWxlLHI9ZS5ydW50aW1lU3R5bGUsaT1uLmxlZnQscz1yLmxlZnQ7cmV0dXJuIHIubGVmdD1lLmN1cnJlbnRTdHlsZS5sZWZ0LG4ubGVmdD10fHwwLHQ9bi5waXhlbExlZnQsbi5sZWZ0PWksci5sZWZ0PXMsdCsicHgifTtmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jdXJyZW50U3R5bGU7aWYocil7dmFyIGk9clt0PT0iZmxvYXQiPyJzdHlsZUZsb2F0IjpuLnN0cmluZy5jYW1lbGl6ZSh0KV0scz0oaXx8IiIpLm1hdGNoKGgpO3JldHVybiBzJiZzWzJdJiZzWzJdIT0icHgiJiYoaT1kKGUsaSkpLGl9fX10LmV4cG9ydHM9e2dldDpmfX0sImMuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gaChlKXt2YXIgdD1lLm9mZnNldFBhcmVudHx8bDt3aGlsZSh0JiZ0IT09bCYmYyh0LCJwb3NpdGlvbiIpPT0ic3RhdGljIil0PXQub2Zmc2V0UGFyZW50O3JldHVybiB0fHxsfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9MCxuPTA7aWYoZSYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bj0taS5sZWZ0LHQ9LWkudG9wfWVsc2UgaWYoZi5jb21wYXRNb2RlPT0iQ1NTMUNvbXBhdCIpdD1yLnBhZ2VZT2Zmc2V0fHxsLnNjcm9sbFRvcCxuPXIucGFnZVhPZmZzZXR8fGwuc2Nyb2xsTGVmdDtlbHNle3ZhciBzPWYuYm9keTtlIT09cyYmKHQ9cy5zY3JvbGxUb3Atcy5jbGllbnRUb3Asbj1zLnNjcm9sbExlZnQtcy5jbGllbnRMZWZ0KX1yZXR1cm57eDpuLHk6dH19ZnVuY3Rpb24gZChlLHQpe3ZhciBuPTAscj0wO2lmKGUmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9cCh0KTtyPWkudG9wK3MueSxuPWkubGVmdCtzLnh9cmV0dXJue3RvcDpyLGxlZnQ6bn19ZnVuY3Rpb24gdihlLHQpe3ZhciBuPTAscj0wLGk9MCxzPTA7aWYoZSYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1wKHQpO249by50b3ArdS55LHI9by5sZWZ0K3UueCxpPW8ucmlnaHQrdS54LHM9by5ib3R0b20rdS55fXJldHVybnt0b3A6bixsZWZ0OnIscmlnaHQ6aSxib3R0b206cyx3aWR0aDppLXIsaGVpZ2h0OnMtbn19ZnVuY3Rpb24gbShlLHQpe3ZhciBuPWQoZSx0KSxyPW4udG9wK2UuY2xpZW50VG9wLGk9bi5sZWZ0K2UuY2xpZW50TGVmdCxzPWUuY2xpZW50V2lkdGgsbz1lLmNsaWVudEhlaWdodDtyZXR1cm57dG9wOnIsbGVmdDppLGJvdHRvbTpyK28scmlnaHQ6aStzLHdpZHRoOnMsaGVpZ2h0Om99fW4ucmVxdWlyZSgiLi9iLmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9ci5kb2N1bWVudCxsPWYuZG9jdW1lbnRFbGVtZW50LGM9bi5kb20uY29tcHV0ZWRTdHlsZS5nZXQ7dC5leHBvcnRzPXtnZXRPZmZzZXRQYXJlbnQ6aCxnZXRUb3BMZWZ0UG9pbnQ6ZCxnZXRCb3VuZGluZ1JlY3Q6dixnZXRWaWV3cG9ydFJlY3Q6bX19LCIxLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIGIoZSx0KXtlLmJpbmRpbmdJZD15Kys7Zm9yKHZhciByIGluIHQpe3ZhciBpPW51bGwscz10W3JdO1AmJnMgaW5zdGFuY2VvZiBQfHxuLnJlc291cmNlLmlzUmVzb3VyY2Uocyk/aT17ZXZlbnRzOiJzYXRlbGxpdGVDaGFuZ2VkIixnZXR0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgdD09ImZ1bmN0aW9uIj90Om51bGwscj1mdW5jdGlvbihpKXtyPSExO2lmKG4pe3Q9bigpO2lmKHQgaW5zdGFuY2VvZiBQPT0wKXJldHVybjtuPW51bGx9aS5zZXRTYXRlbGxpdGUoZSx0KX07cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiByJiZyKHQpLG58fCh0LnNhdGVsbGl0ZVtlXT90LnNhdGVsbGl0ZVtlXS5lbGVtZW50Om51bGwpfX0ocixzKX06cyYmKHR5cGVvZiBzPT0ic3RyaW5nIj9zPXcucHJvY2VzcyhyLHMpOnMuYmluZGluZ0JyaWRnZSYmKHM9bi5mbi4kY29uc3QocykpLHR5cGVvZiBzIT0ib2JqZWN0Ij9pPXtnZXR0ZXI6dHlwZW9mIHM9PSJmdW5jdGlvbiI/czpuLmdldHRlcihzKX06QXJyYXkuaXNBcnJheShzKT9pPXtldmVudHM6c1swXSxnZXR0ZXI6bi5nZXR0ZXIoc1sxXSl9Omk9e2V2ZW50czpzLmV2ZW50cyxnZXR0ZXI6bi5nZXR0ZXIocy5nZXR0ZXIpfSksZVtyXT1pfX1mdW5jdGlvbiBrKCl7cmV0dXJuIEMucG9wKCl8fGYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpfWZ1bmN0aW9uIEwoZSl7dmFyIHQ9ZS5ub2RlcztpZih0KWZvcih2YXIgbj10Lmxlbmd0aC0xLHI7cj10W25dO24tLSlyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsci5uZXh0U2libGluZyl9bi5yZXF1aXJlKCIuLzIuanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpLG4ucmVxdWlyZSgiLi81LmpzIiksbi5yZXF1aXJlKCIuLzYuanMiKSxuLnJlcXVpcmUoIi4vNy5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPXIuZG9jdW1lbnQsbD1uLkNsYXNzLGM9bi5ldmVudC5jcmVhdGUsaD1uLnRlbXBsYXRlLmh0bWwuVGVtcGxhdGUscD1uLnRlbXBsYXRlLmh0bWwubWFya2VyLGQ9bi50ZW1wbGF0ZS5UZW1wbGF0ZVN3aXRjaGVyLHY9bi5kb20ud3JhcHBlci5Ob2RlLG09bi5kb20ud3JhcHBlci5QYXJ0aXRpb25Ob2RlLGc9bi5kb20ud3JhcHBlci5Hcm91cGluZ05vZGUseT0xLHc9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PS9eKFthLXpfXVthLXowLTlfXSopOiguKikvaTtyZXR1cm57YWRkOmZ1bmN0aW9uKHQsbil7ZVt0XXx8KGVbdF09bil9LHByb2Nlc3M6ZnVuY3Rpb24obixyKXt2YXIgaSxzPXIubWF0Y2godCk7cmV0dXJuIHMmJihpPWVbc1sxXV0scj1zWzJdfHxuKSxpP2kocik6cn19fSgpO3cuYWRkKCJkYXRhIixmdW5jdGlvbihlKXtyZXR1cm57ZXZlbnRzOiJ1cGRhdGUiLGdldHRlcjoiZGF0YS4iK2V9fSksdy5hZGQoInNhdGVsbGl0ZSIsZnVuY3Rpb24oZSl7cmV0dXJue2V2ZW50czoic2F0ZWxsaXRlQ2hhbmdlZCIsZ2V0dGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0LnNhdGVsbGl0ZVtlXT90LnNhdGVsbGl0ZVtlXS5lbGVtZW50Om51bGx9fX0pO3ZhciBFPWwuY3VzdG9tRXh0ZW5kUHJvcGVydHkoe3N0YXRlOntldmVudHM6InN0YXRlQ2hhbmdlZCIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZS5zdGF0ZSl9fSxjaGlsZE5vZGVzU3RhdGU6e2V2ZW50czoiY2hpbGROb2Rlc1N0YXRlQ2hhbmdlZCIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZS5jaGlsZE5vZGVzU3RhdGUpfX0sY2hpbGRDb3VudDp7ZXZlbnRzOiJjaGlsZE5vZGVzTW9kaWZpZWQiLGdldHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZE5vZGVzP2UuY2hpbGROb2Rlcy5sZW5ndGg6MH19LGhhc0NoaWxkcmVuOntldmVudHM6ImNoaWxkTm9kZXNNb2RpZmllZCIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5maXJzdENoaWxkfX0sZW1wdHk6e2V2ZW50czoiY2hpbGROb2Rlc01vZGlmaWVkIixnZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIWUuZmlyc3RDaGlsZH19fSxiKSxTPXthdHRhY2g6ZnVuY3Rpb24oZSx0LG4pe2UuYWRkSGFuZGxlcih0LG4pfSxkZXRhY2g6ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlSGFuZGxlcih0LG4pfX0seD1sLmV4dGVuc2libGVQcm9wZXJ0eSh7c2VsZWN0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNEaXNhYmxlZCgpKXJldHVybjt0aGlzLmNvbnRleHRTZWxlY3Rpb24mJnRoaXMuY29udGV4dFNlbGVjdGlvbi5tdWx0aXBsZT90aGlzLnNlbGVjdChlLmN0cmxLZXl8fGUubWV0YUtleSk6dGhpcy5zZWxlY3QoKX19KSxUPXsiKiI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50ZW1wbGF0ZVN3aXRjaGVyXzt0JiZ0LnJ1bGVFdmVudHMmJnQucnVsZUV2ZW50c1tlLnR5cGVdJiZ0aGlzLnNldFRlbXBsYXRlKHQucmVzb2x2ZSh0aGlzKSl9fSxOPW5ldyBoKCI8ZGl2Lz4iKSxDPVtdLEEsTz1mdW5jdGlvbihlKXtyZXR1cm57dGVtcGxhdGU6TixlbWl0X3RlbXBsYXRlQ2hhbmdlZDpjKCJ0ZW1wbGF0ZUNoYW5nZWQiKSx0ZW1wbGF0ZVN3aXRjaGVyXzpudWxsLGJpbmRpbmc6RSxhY3Rpb246eCx0bXBsOm51bGwsZWxlbWVudDpudWxsLGNoaWxkTm9kZXNFbGVtZW50Om51bGwsaW5pdDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudD10aGlzLmNoaWxkTm9kZXNFbGVtZW50PWsoKSxlLmluaXQuY2FsbCh0aGlzKX0scG9zdEluaXQ6ZnVuY3Rpb24oKXtlLnBvc3RJbml0LmNhbGwodGhpcyk7dmFyIHQ9dGhpcy50ZW1wbGF0ZTtpZih0KXt2YXIgbj10aGlzLmVsZW1lbnQ7dGhpcy50ZW1wbGF0ZT1udWxsLHRoaXMuc2V0VGVtcGxhdGUodCksQy5wdXNoKG4pLHRoaXMuY29udGFpbmVyJiYodGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSx0aGlzLmNvbnRhaW5lcj1udWxsKX19LHRlbXBsYXRlU3luYzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PXRoaXMudG1wbCxuPXRoaXMudGVtcGxhdGUuY3JlYXRlSW5zdGFuY2UodGhpcyx0aGlzLnRlbXBsYXRlQWN0aW9uLHRoaXMudGVtcGxhdGVTeW5jLHRoaXMuYmluZGluZyxTKSxyO24uY2hpbGROb2Rlc0hlcmUmJihuLmNoaWxkTm9kZXNFbGVtZW50PW4uY2hpbGROb2Rlc0hlcmUucGFyZW50Tm9kZSxuLmNoaWxkTm9kZXNFbGVtZW50Lmluc2VydFBvaW50PW4uY2hpbGROb2Rlc0hlcmUpLHRoaXMudG1wbD1uLHRoaXMuZWxlbWVudD1uLmVsZW1lbnQsdGhpcy5jaGlsZE5vZGVzRWxlbWVudD1uLmNoaWxkTm9kZXNFbGVtZW50fHxuLmVsZW1lbnQscj10aGlzLmNoaWxkTm9kZXNFbGVtZW50Lm5vZGVUeXBlIT0xLHImJih0aGlzLmNoaWxkTm9kZXNFbGVtZW50PWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtpZih0aGlzLmdyb3VwaW5nKXt0aGlzLmdyb3VwaW5nLnN5bmNEb21SZWZzKCk7dmFyIGk9dGhpczt3aGlsZShpLmdyb3VwaW5nKWk9aS5ncm91cGluZzt2YXIgcz1pO2Zvcih2YXIgbz1zLmxhc3RDaGlsZDtvO289by5wcmV2aW91c1NpYmxpbmcpbyBpbnN0YW5jZW9mIF8/cy5pbnNlcnRCZWZvcmUobyxvLm5leHRTaWJsaW5nKTpMKG8pO0wocy5udWxsR3JvdXApfWVsc2UgZm9yKHZhciB1PXRoaXMubGFzdENoaWxkO3U7dT11LnByZXZpb3VzU2libGluZyl0aGlzLmluc2VydEJlZm9yZSh1LHUubmV4dFNpYmxpbmcpO3RoaXMgaW5zdGFuY2VvZiBfJiZMKHRoaXMpO2lmKGUmJmUhPT10aGlzLmVsZW1lbnQmJmUubm9kZVR5cGUhPTExKXt2YXIgYT1lJiZlLnBhcmVudE5vZGU7YSYmKHRoaXMub3duZXImJnRoaXMub3duZXIudG1wbCYmdGhpcy5vd25lci50bXBsLnNldChlLHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50LnBhcmVudE5vZGUhPT1hJiZhLnJlcGxhY2VDaGlsZCh0aGlzLmVsZW1lbnQsZSkpfXQmJnRoaXMuZW1pdF90ZW1wbGF0ZUNoYW5nZWQoKX0sc2V0VGVtcGxhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50ZW1wbGF0ZVN3aXRjaGVyXyxuO2UgaW5zdGFuY2VvZiBkJiYobj1lLGU9bi5yZXNvbHZlKHRoaXMpKSxlIGluc3RhbmNlb2YgaD09MCYmKGU9bnVsbCk7aWYoIWUpcmV0dXJuO24mJih0aGlzLnRlbXBsYXRlU3dpdGNoZXJfPW4sdHx8dGhpcy5hZGRIYW5kbGVyKFQsdGhpcykpLHQmJnQucmVzb2x2ZSh0aGlzKSE9PWUmJih0aGlzLnRlbXBsYXRlU3dpdGNoZXJfPW51bGwsdGhpcy5yZW1vdmVIYW5kbGVyKFQsdGhpcykpO3ZhciByPXRoaXMudG1wbCxpPXRoaXMudGVtcGxhdGU7aSE9PWUmJih0aGlzLnRlbXBsYXRlPWUsdGhpcy50ZW1wbGF0ZVN5bmMoKSxpJiZpLmNsZWFySW5zdGFuY2UocikpfSx1cGRhdGVCaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYmluZGluZ1tlXSxuPXQmJnQuZ2V0dGVyO24mJnRoaXMudG1wbCYmdGhpcy50bXBsLnNldChlLG4odGhpcykpfSx0ZW1wbGF0ZUFjdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuYWN0aW9uW2VdO24mJm4uY2FsbCh0aGlzLHQpfSxmb2N1czpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRtcGw/dGhpcy50bXBsLmZvY3VzfHx0aGlzLmVsZW1lbnQ6bnVsbDt0JiYoQSYmKEE9bi5jbGVhckltbWVkaWF0ZShBKSksQT1uLnNldEltbWVkaWF0ZShmdW5jdGlvbigpe3RyeXt0LmZvY3VzKCksZSYmdC5zZWxlY3QoKX1jYXRjaChuKXt9fSkpfSxibHVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50bXBsP3RoaXMudG1wbC5mb2N1c3x8dGhpcy5lbGVtZW50Om51bGw7aWYoZSl0cnl7ZS5ibHVyKCl9Y2F0Y2godCl7fX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudGVtcGxhdGUsbj10aGlzLmVsZW1lbnQ7dGhpcy50ZW1wbGF0ZVN3aXRjaGVyXyYmKHRoaXMudGVtcGxhdGVTd2l0Y2hlcl89bnVsbCx0aGlzLnJlbW92ZUhhbmRsZXIoVCx0aGlzKSksdC5jbGVhckluc3RhbmNlKHRoaXMudG1wbCksZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy50bXBsPW51bGwsdGhpcy5lbGVtZW50PW51bGwsdGhpcy5jaGlsZE5vZGVzRWxlbWVudD1udWxsO3ZhciByPW4mJm4ucGFyZW50Tm9kZTtyJiZyLm5vZGVUeXBlPT0xJiZyLnJlbW92ZUNoaWxkKG4pfX19LE09ZnVuY3Rpb24oZSl7cmV0dXJue2luc2VydEJlZm9yZTpmdW5jdGlvbih0LG4pe3Q9ZS5pbnNlcnRCZWZvcmUuY2FsbCh0aGlzLHQsbik7dmFyIHI9dC5ncm91cE5vZGV8fHRoaXMsaT1yLmNoaWxkTm9kZXNFbGVtZW50fHx0aGlzLmNoaWxkTm9kZXNFbGVtZW50LHM9dC5uZXh0U2libGluZyxvPXMmJnMuZWxlbWVudC5wYXJlbnROb2RlPT1pP3MuZWxlbWVudDpudWxsLHU9dC5lbGVtZW50LGE9b3x8aS5pbnNlcnRQb2ludHx8bnVsbDtyZXR1cm4odS5wYXJlbnROb2RlIT09aXx8dS5uZXh0U2libGluZyE9PWEpJiZpLmluc2VydEJlZm9yZSh1LGEpLHR9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe2UucmVtb3ZlQ2hpbGQuY2FsbCh0aGlzLHQpO3ZhciBuPXQuZWxlbWVudCxyPW4ucGFyZW50Tm9kZTtyZXR1cm4gciYmci5yZW1vdmVDaGlsZChuKSx0fSxjbGVhcjpmdW5jdGlvbih0KXtpZih0KXt2YXIgbj10aGlzLmZpcnN0Q2hpbGQ7d2hpbGUobil7dmFyIHI9bi5lbGVtZW50LGk9ci5wYXJlbnROb2RlO2kmJmkucmVtb3ZlQ2hpbGQociksbj1uLm5leHRTaWJsaW5nfX1lLmNsZWFyLmNhbGwodGhpcyx0KX0sc2V0Q2hpbGROb2RlczpmdW5jdGlvbih0LG4pe3ZhciByPWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9dGhpcy5ncm91cGluZ3x8dGhpcyxzPWkuY2hpbGROb2Rlc0VsZW1lbnQ7aS5jaGlsZE5vZGVzRWxlbWVudD1yLGUuc2V0Q2hpbGROb2Rlcy5jYWxsKHRoaXMsdCxuKSxzLmluc2VydEJlZm9yZShyLHMuaW5zZXJ0UG9pbnR8fG51bGwpLGkuY2hpbGROb2Rlc0VsZW1lbnQ9c319fSxfPWwobSxPLHtjbGFzc05hbWU6YSsiLlBhcnRpdGlvbk5vZGUiLGJpbmRpbmc6e3RpdGxlOiJkYXRhOiJ9fSksRD1sKGcsTSx7Y2xhc3NOYW1lOmErIi5Hcm91cGluZ05vZGUiLGNoaWxkQ2xhc3M6Xyxncm91cGluZ0NsYXNzOmwuU0VMRixlbGVtZW50Om51bGwsY2hpbGROb2Rlc0VsZW1lbnQ6bnVsbCxlbWl0X293bmVyQ2hhbmdlZDpmdW5jdGlvbihlKXt0aGlzLnN5bmNEb21SZWZzKCksZy5wcm90b3R5cGUuZW1pdF9vd25lckNoYW5nZWQuY2FsbCh0aGlzLGUpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50PXRoaXMuY2hpbGROb2Rlc0VsZW1lbnQ9Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfSxzeW5jRG9tUmVmczpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLm93bmVyLG49bnVsbDt0JiYobj10LnRtcGwmJnQudG1wbC5ncm91cHNFbGVtZW50fHx0LmNoaWxkTm9kZXNFbGVtZW50KTtkbyBlLmVsZW1lbnQ9ZS5jaGlsZE5vZGVzRWxlbWVudD1uO3doaWxlKGU9ZS5ncm91cGluZyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtnLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5lbGVtZW50PW51bGwsdGhpcy5jaGlsZE5vZGVzRWxlbWVudD1udWxsfX0pLFA9bCh2LE8sTSx7Y2xhc3NOYW1lOmErIi5Ob2RlIixiaW5kaW5nOntzZWxlY3RlZDp7ZXZlbnRzOiJzZWxlY3QgdW5zZWxlY3QiLGdldHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWxlY3RlZH19LHVuc2VsZWN0ZWQ6e2V2ZW50czoic2VsZWN0IHVuc2VsZWN0IixnZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIWUuc2VsZWN0ZWR9fSxkaXNhYmxlZDp7ZXZlbnRzOiJkaXNhYmxlIGVuYWJsZSIsZ2V0dGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRGlzYWJsZWQoKX19LGVuYWJsZWQ6e2V2ZW50czoiZGlzYWJsZSBlbmFibGUiLGdldHRlcjpmdW5jdGlvbihlKXtyZXR1cm4hZS5pc0Rpc2FibGVkKCl9fX0sY2hpbGRDbGFzczpsLlNFTEYsY2hpbGRGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jaGlsZENsYXNzKGUpfSxncm91cGluZ0NsYXNzOkR9KSxIPVAuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuU2hhZG93Tm9kZUxpc3QiLGVtaXRfb3duZXJDaGFuZ2VkOmZ1bmN0aW9uKGUpe1AucHJvdG90eXBlLmVtaXRfb3duZXJDaGFuZ2VkLmNhbGwodGhpcyxlKSx0aGlzLnNldERhdGFTb3VyY2UodGhpcy5vd25lciYmdGhpcy5vd25lci5nZXRDaGlsZE5vZGVzRGF0YXNldCgpKX0sZ2V0Q2hpbGROb2Rlc0VsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hpbGROb2Rlc0VsZW1lbnR9LGxpc3Rlbjp7b3duZXI6e3RlbXBsYXRlQ2hhbmdlZDpmdW5jdGlvbigpe3RoaXMuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuYXBwZW5kQ2hpbGQoZS5lbGVtZW50KX0sdGhpcy5nZXRDaGlsZE5vZGVzRWxlbWVudCh0aGlzLm93bmVyKXx8dGhpcy5vd25lci5lbGVtZW50KX19fSxjaGlsZENsYXNzOntjbGFzc05hbWU6YSsiLlNoYWRvd05vZGUiLGdldEVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWxlbWVudH0sdGVtcGxhdGVTeW5jOmZ1bmN0aW9uKCl7UC5wcm90b3R5cGUudGVtcGxhdGVTeW5jLmNhbGwodGhpcyk7dmFyIGU9dGhpcy5nZXRFbGVtZW50KHRoaXMuZGVsZWdhdGUpO2UmJihlW3BdPXRoaXMuZGVsZWdhdGUuZWxlbWVudFtwXSx0aGlzLmVsZW1lbnQ9ZSl9LGxpc3Rlbjp7ZGVsZWdhdGU6e3RlbXBsYXRlQ2hhbmdlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PWUucGFyZW50Tm9kZSxuPXRoaXMuZ2V0RWxlbWVudCh0aGlzLmRlbGVnYXRlKTtuJiYobltwXT10aGlzLmRlbGVnYXRlLmVsZW1lbnRbcF0pLHRoaXMuZWxlbWVudD1ufHx0aGlzLnRtcGwuZWxlbWVudCx0JiZ0LnJlcGxhY2VDaGlsZCh0aGlzLmVsZW1lbnQsZSl9fX19fSk7dC5leHBvcnRzPXtCSU5ESU5HX1BSRVNFVDp3LE5vZGU6UCxQYXJ0aXRpb25Ob2RlOl8sR3JvdXBpbmdOb2RlOkQsU2hhZG93Tm9kZUxpc3Q6SCxTaGFkb3dOb2RlOkgucHJvdG90eXBlLmNoaWxkQ2xhc3N9fSwiZS5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtuLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5nZXR0ZXIsbD1uLmNsZWFuZXIsYz1uLmV2ZW50LkVtaXR0ZXIsaD1uLmRhdGEuQWJzdHJhY3REYXRhLHA9bi5kYXRhLlZhbHVlLGQ9bi5kYXRhLlNUQVRFLHY9cC5zdWJjbGFzcyh7Y2xhc3NOYW1lOmErIi5Qcm9wZXJ0eSIsZXh0ZW5kQ29uc3RydWN0b3JfOiExLGluaXQ6ZnVuY3Rpb24oZSx0LG4pe3RoaXMudmFsdWU9ZSx0aGlzLmhhbmRsZXI9dCx0aGlzLnByb3h5PW4scC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfX0pLG09ZC5wcmlvcml0eSxnPXtzdGF0ZUNoYW5nZWQ6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoITEsITApfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoITApfSxjaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoITApfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlKGUpfX0seT1wLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLk9iamVjdFNldCIsb2JqZWN0czpudWxsLHZhbHVlOjAsdmFsdWVDaGFuZ2VkXzohMSxjYWxjdWxhdGVWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlKzF9LGNhbGN1bGF0ZU9uSW5pdDohMSxzdGF0ZVByaW9yaXR5Om0sc3RhdGVDaGFuZ2VkXzohMCx0aW1lcl86ITEsaW5pdDpmdW5jdGlvbigpe3AucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT10aGlzLm9iamVjdHM7dGhpcy5vYmplY3RzPVtdLGUmJkFycmF5LmlzQXJyYXkoZSkmJih0aGlzLmxvY2soKSx0aGlzLmFkZC5hcHBseSh0aGlzLGUpLHRoaXMudW5sb2NrKCkpLHRoaXMudmFsdWVDaGFuZ2VkXz10aGlzLnN0YXRlQ2hhbmdlZF89ISF0aGlzLmNhbGN1bGF0ZU9uSW5pdCx0aGlzLnVwZGF0ZSgpfSxhZGQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGg7ZTx0O2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2lmKCEociBpbnN0YW5jZW9mIGgpKXRocm93IDM0O24uYXJyYXkuYWRkKHRoaXMub2JqZWN0cyxyKSYmci5hZGRIYW5kbGVyKGcsdGhpcyl9dGhpcy5maXJlKCEwLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe24uYXJyYXkucmVtb3ZlKHRoaXMub2JqZWN0cyxlKSYmZS5yZW1vdmVIYW5kbGVyKGcsdGhpcyksdGhpcy5maXJlKCEwLCEwKX0sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0O3Q9dGhpcy5vYmplY3RzW2VdO2UrKyl0LnJlbW92ZUhhbmRsZXIoZyx0aGlzKTt0aGlzLm9iamVjdHMubGVuZ3RoPTAsdGhpcy5maXJlKCEwLCEwKX0sZmlyZTpmdW5jdGlvbihlLHQpe3RoaXMubG9ja2VkfHwodGhpcy52YWx1ZUNoYW5nZWRfPXRoaXMudmFsdWVDaGFuZ2VkX3x8ISFlLHRoaXMuc3RhdGVDaGFuZ2VkXz10aGlzLnN0YXRlQ2hhbmdlZF98fCEhdCwhdGhpcy50aW1lcl8mJih0aGlzLnZhbHVlQ2hhbmdlZF98fHRoaXMuc3RhdGVDaGFuZ2VkXykmJih0aGlzLnRpbWVyXz1uLnNldEltbWVkaWF0ZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKSkpfSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5sb2NrZWQ9ITB9LHVubG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkPSExfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZhbHVlQ2hhbmdlZF8sdD10aGlzLnN0YXRlQ2hhbmdlZF87dGhpcy52YWx1ZUNoYW5nZWRfPSExLHRoaXMuc3RhdGVDaGFuZ2VkXz0hMSx0aGlzLnRpbWVyXz1uLmNsZWFySW1tZWRpYXRlKHRoaXMudGltZXJfKTtpZighbC5nbG9iYWxEZXN0cm95KXtlJiZ0aGlzLnNldCh0aGlzLmNhbGN1bGF0ZVZhbHVlKCkpO2lmKHQpe3ZhciByPXRoaXMub2JqZWN0cy5sZW5ndGg7aWYoIXIpdGhpcy5zZXRTdGF0ZShkLlVOREVGSU5FRCk7ZWxzZXt2YXIgaT0tMixzO2Zvcih2YXIgbz0wO288cjtvKyspe3ZhciB1PXRoaXMub2JqZWN0c1tvXSxhPXRoaXMuc3RhdGVQcmlvcml0eS5pbmRleE9mKFN0cmluZyh1LnN0YXRlKSk7YT5pJiYocz11LGk9YSl9cyYmdGhpcy5zZXRTdGF0ZShzLnN0YXRlLHMuc3RhdGUuZGF0YSl9fX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxvY2soKSx0aGlzLmNsZWFyKCksdGhpcy50aW1lcl8mJm4uY2xlYXJJbW1lZGlhdGUodGhpcy50aW1lcl8pLHAucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxiPXYuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuRXhwcmVzc2lvbiIsaW5pdDpmdW5jdGlvbihlLHQpe3AucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTt2YXIgZT1uLmFycmF5KGFyZ3VtZW50cyksdD1lLnBvcCgpO3R5cGVvZiB0IT0iZnVuY3Rpb24iJiYodD1uLmZuLiR1bmRlZiksZS5sZW5ndGg9PTEmJmVbMF0ubGluayh0aGlzLGZ1bmN0aW9uKGUpe3RoaXMuc2V0KHQuY2FsbCh0aGlzLGUpKX0pO2lmKGUubGVuZ3RoPjEpe3ZhciByPW5ldyB5KHtvYmplY3RzOmUsY2FsY3VsYXRlT25Jbml0OiEwLGNhbGN1bGF0ZVZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS52YWx1ZX0pKX19KTtyLmxpbmsodGhpcyx0aGlzLnNldCksdGhpcy5hZGRIYW5kbGVyKHtkZXN0cm95OmZ1bmN0aW9uKCl7bC5nbG9iYWxEZXN0cm95fHxyLmRlc3Ryb3koKX19KX19fSk7dC5leHBvcnRzPXtQcm9wZXJ0eTp2LE9iamVjdFNldDp5LEV4cHJlc3Npb246Yn19LCJmLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIG0oZSx0KXtpZighZS5sZW5ndGgpcmV0dXJuIDA7dmFyIG4scixpPTAscz1lLmxlbmd0aC0xO2Rve249aStzPj4xLHI9ZVtuXXx8MDtpZih0PHIpcz1uLTE7ZWxzZXtpZighKHQ+cikpcmV0dXJuIHQ9PXI/bjowO2k9bisxfX13aGlsZShpPD1zKTtyZXR1cm4gbisocjx0KX1mdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIEwoZSx0LHIpe2lmKCFmLmlzQ2xhc3MoZSl8fCFlLmlzU3ViY2xhc3NPZihnKSl0aHJvdyAzNTt0PW4uZ2V0dGVyKHQpLHI9cnx8InVwZGF0ZSI7aWYodHlwZW9mIHIhPSJzdHJpbmciKXRocm93IDM2O3I9ci50cmltKCkuc3BsaXQoIiAiKS5zb3J0KCk7dmFyIGk9W2UuYmFzaXNDbGFzc0lkXyx0W24uZ2V0dGVyLklEXSxyXS5qb2luKCJfIikscz1OW2ldO2lmKHMpcmV0dXJuIHMub3duZXI7dmFyIG89e307Zm9yKHZhciB1PTA7dTxyLmxlbmd0aDt1Kyspb1tyW3VdXT0hMDtyZXR1cm4gcz1uZXcgayxOW2ldPXtvd25lcjpzLGluZGV4Q2xhc3M6ZS5zdWJjbGFzcyh7aW5kZXhJZDppLHVwZGF0ZUV2ZW50czpvLHZhbHVlR2V0dGVyOnR9KX0scy5pbmRleElkPWksc31mdW5jdGlvbiBCKGUsdCxuKXt2YXIgcj1lLmluZGV4Q2FjaGVfLGk7ZS5sb2NrKCk7aWYodClmb3IodmFyIHM9MCxvO289dFtzKytdOyl7dmFyIHU9ZS5ub3JtYWxpemUoZS52YWx1ZUdldHRlcihvKSk7cltvLmJhc2lzT2JqZWN0SWRdPXUsZS5hZGRfKHUpfWlmKG4pZm9yKHZhciBzPTAsbztvPW5bcysrXTspaT1vLmJhc2lzT2JqZWN0SWQsZS5yZW1vdmVfKHJbaV0pLGRlbGV0ZSByW2ldO2UudW5sb2NrKCl9ZnVuY3Rpb24gcShlLHQpe2lmKHQgaW5zdGFuY2VvZiBrPT0wKXRocm93IDM3O3ZhciBuPWUuYmFzaXNPYmplY3RJZCxyPUlbbl07cnx8KHI9SVtuXT17fSxlLmFkZEhhbmRsZXIoRiksRi5pdGVtc0NoYW5nZWQuY2FsbChlLGUse2luc2VydGVkOmUuZ2V0SXRlbXMoKX0pKTt2YXIgaT10LmluZGV4SWQscz1yW2ldO2lmKCFzKXt0PU5baV07aWYoIXQpdGhyb3cgMzg7cz1uZXcgdC5pbmRleENsYXNzLHMuYWRkSGFuZGxlcihDLGUpLHJbaV09cyxCKHMsZS5nZXRJdGVtcygpKX1yZXR1cm4gc31mdW5jdGlvbiBSKGUsdCl7dmFyIG49SVtlLmJhc2lzT2JqZWN0SWRdO2lmKG4mJm5bdC5pbmRleElkXSl7ZGVsZXRlIG5bdC5pbmRleElkXSx0LnJlbW92ZUhhbmRsZXIoQyxlKTtmb3IodmFyIHIgaW4gbilyZXR1cm47ZS5yZW1vdmVIYW5kbGVyKEYpLEYuaXRlbXNDaGFuZ2VkLmNhbGwoZSxlLHtkZWxldGVkOmUuZ2V0SXRlbXMoKX0pLGRlbGV0ZSBJW2UuYmFzaXNPYmplY3RJZF19fWZ1bmN0aW9uIFcoKXtyZXR1cm4iY2FsYy1pbmRleC1wcmVzZXQtIituLm51bWJlci5sZWFkKHorKyw4KX1mdW5jdGlvbiBYKGUsdCl7dmFyIHI9Im1pbl8iK1coKSxpPSJtYXhfIitXKCkscz17fTtzW3JdPUQoZSx0KSxzW2ldPVAoZSx0KSx0PW4uZ2V0dGVyKHR8fGUpO3ZhciBvPWZ1bmN0aW9uKGUsbixzKXtyZXR1cm4odChzKS1uW3JdKS8obltpXS1uW3JdKX07cmV0dXJuIG8ucHJlc2V0PW5ldyBVKHtpbmRleGVzOnMsY2FsYzpvfSl9ZnVuY3Rpb24gVihlLHQpe3ZhciByPSJtYXhfIitXKCksaT17fTtpW3JdPVAoZSx0KSx0PW4uZ2V0dGVyKHR8fGUpO3ZhciBzPWZ1bmN0aW9uKGUsbixpKXtyZXR1cm4gdChpKS9uW3JdfTtyZXR1cm4gcy5wcmVzZXQ9bmV3IFUoe2luZGV4ZXM6aSxjYWxjOnN9KX1mdW5jdGlvbiAkKGUsdCl7dmFyIHI9InN1bV8iK1coKSxpPXt9O2lbcl09TSh0LGUpLGU9bi5nZXR0ZXIoZXx8dCk7dmFyIHM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBlKGkpL25bcl19O3JldHVybiBzLnByZXNldD1uZXcgVSh7aW5kZXhlczppLGNhbGM6c30pfW4ucmVxdWlyZSgiLi80LmpzIiksbi5yZXF1aXJlKCIuL2QuanMiKSxuLnJlcXVpcmUoIi4vZS5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4uQ2xhc3MsbD1uLmRhdGEuT2JqZWN0LGM9bi5kYXRhLktleU9iamVjdE1hcCxoPW4uZGF0YS5SZWFkT25seURhdGFzZXQscD1uLmRhdGEuRGF0YXNldFdyYXBwZXIsZD1uLmRhdGEuVmFsdWUsdj1uLmRhdGEuZGF0YXNldC5NYXBGaWx0ZXIsZz1mKGQse2NsYXNzTmFtZTphKyIuSW5kZXgiLGF1dG9EZXN0cm95OiEwLGluZGV4Q2FjaGVfOm51bGwsdmFsdWVHZXR0ZXI6bi5mbi4kbnVsbCx1cGRhdGVFdmVudHM6e30sdmFsdWU6MCxzZXROdWxsT25FbWl0dGVyRGVzdHJveTohMSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5pbmRleENhY2hlXz17fSxkLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9LGFkZF86ZnVuY3Rpb24oZSl7fSxyZW1vdmVfOmZ1bmN0aW9uKGUpe30sdXBkYXRlXzpmdW5jdGlvbihlLHQpe30sbm9ybWFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl8fDB9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5pbmRleENhY2hlXz1udWxsfX0pLHk9ZihnLHtjbGFzc05hbWU6YSsiLlN1bSIsYWRkXzpmdW5jdGlvbihlKXt0aGlzLnZhbHVlKz1lfSxyZW1vdmVfOmZ1bmN0aW9uKGUpe3RoaXMudmFsdWUtPWV9LHVwZGF0ZV86ZnVuY3Rpb24oZSx0KXt0aGlzLnNldCh0aGlzLnZhbHVlLXQrZSl9fSksYj1mKGcse2NsYXNzTmFtZTphKyIuQ291bnQiLHZhbHVlR2V0dGVyOm4uZm4uJHRydWUsYWRkXzpmdW5jdGlvbihlKXt0aGlzLnZhbHVlKz1lfSxyZW1vdmVfOmZ1bmN0aW9uKGUpe3RoaXMudmFsdWUtPWV9LG5vcm1hbGl6ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWV9LHVwZGF0ZV86ZnVuY3Rpb24oZSx0KXt0aGlzLnNldCh0aGlzLnZhbHVlLSEhdCshIWUpfX0pLHc9ZihnLHtjbGFzc05hbWU6YSsiLkF2ZyIsc3VtXzowLGNvdW50XzowLGFkZF86ZnVuY3Rpb24oZSl7dGhpcy5zdW1fKz1lLHRoaXMuY291bnRfKz0xLHRoaXMudmFsdWU9dGhpcy5zdW1fL3RoaXMuY291bnRffSxyZW1vdmVfOmZ1bmN0aW9uKGUpe3RoaXMuc3VtXy09ZSx0aGlzLmNvdW50Xy09MSx0aGlzLnZhbHVlPXRoaXMuY291bnRfP3RoaXMuc3VtXy90aGlzLmNvdW50XzowfSx1cGRhdGVfOmZ1bmN0aW9uKGUsdCl7dGhpcy5zdW1fKz1lLXQsdGhpcy5zZXQodGhpcy5zdW1fL3RoaXMuY291bnRfKX19KSxFPWYoZyx7Y2xhc3NOYW1lOmErIi5WZWN0b3JJbmRleCIsdmVjdG9yR2V0dGVyOm4uZm4uJG51bGwsdmVjdG9yXzpudWxsLHZhbHVlOnVuZGVmaW5lZCxpbml0OmZ1bmN0aW9uKCl7dGhpcy52ZWN0b3JfPVtdLGcucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0sYWRkXzpmdW5jdGlvbihlKXtlIT09bnVsbCYmKHRoaXMudmVjdG9yXy5zcGxpY2UobSh0aGlzLnZlY3Rvcl8sZSksMCxlKSx0aGlzLnZhbHVlPXRoaXMudmVjdG9yR2V0dGVyKHRoaXMudmVjdG9yXykpfSxyZW1vdmVfOmZ1bmN0aW9uKGUpe2UhPT1udWxsJiYodGhpcy52ZWN0b3JfLnNwbGljZShtKHRoaXMudmVjdG9yXyxlKSwxKSx0aGlzLnZhbHVlPXRoaXMudmVjdG9yR2V0dGVyKHRoaXMudmVjdG9yXykpfSx1cGRhdGVfOmZ1bmN0aW9uKGUsdCl7dCE9PW51bGwmJnRoaXMudmVjdG9yXy5zcGxpY2UobSh0aGlzLnZlY3Rvcl8sdCksMSksZSE9PW51bGwmJnRoaXMudmVjdG9yXy5zcGxpY2UobSh0aGlzLnZlY3Rvcl8sZSksMCxlKSx0aGlzLnNldCh0aGlzLnZlY3RvckdldHRlcih0aGlzLnZlY3Rvcl8pKX0sbm9ybWFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyJ8fHR5cGVvZiBlPT0ibnVtYmVyIj9lOm51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtnLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy52ZWN0b3JfPW51bGx9fSksUz1mKEUse2NsYXNzTmFtZTphKyIuTWluIix2ZWN0b3JHZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF19fSkseD1mKEUse2NsYXNzTmFtZTphKyIuTWF4Iix2ZWN0b3JHZXR0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19fSksVD1mKGcse2NsYXNzTmFtZTphKyIuRGlzdGluY3QiLG1hcF86bnVsbCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXBfPXt9LGcucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKX0sYWRkXzpmdW5jdGlvbihlKXt0aGlzLm1hcF8uaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLm1hcF9bZV09MCksKyt0aGlzLm1hcF9bZV09PTEmJih0aGlzLnZhbHVlKz0xKX0scmVtb3ZlXzpmdW5jdGlvbihlKXstLXRoaXMubWFwX1tlXT09MCYmKHRoaXMudmFsdWUtPTEpfSx1cGRhdGVfOmZ1bmN0aW9uKGUsdCl7dmFyIG49MDt0aGlzLm1hcF8uaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLm1hcF9bZV09MCksKyt0aGlzLm1hcF9bZV09PTEmJihuKz0xKSwtLXRoaXMubWFwX1t0XT09MCYmKG4tPTEpLG4mJnRoaXMuc2V0KHRoaXMudmFsdWUrbil9LG5vcm1hbGl6ZTpTdHJpbmcsZGVzdHJveTpmdW5jdGlvbigpe2cucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLm1hcF89bnVsbH19KSxOPXt9LEM9e2Rlc3Ryb3k6ZnVuY3Rpb24oZSl7Uih0aGlzLGUpfX0sQT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBpO2lmKG4gaW5zdGFuY2VvZiBofHxuIGluc3RhbmNlb2YgcClpPW4sbj1yLHI9YXJndW1lbnRzWzJdO3J8fChyPW4sbj0iIik7dmFyIHM9TChlLHJ8fHQsbik7cmV0dXJuIGk/cShpLHMpOnN9fSxPPUEoYixuLmZuLiR0cnVlKSxNPUEoeSksXz1BKHcpLEQ9QShTKSxQPUEoeCksSD1BKFQpLGo9eyIqIjpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT1lLnR5cGUscz1lLnNlbmRlcixvPXMuYmFzaXNPYmplY3RJZCx1PUlbdGhpcy5iYXNpc09iamVjdElkXTtmb3IodmFyIGEgaW4gdSlyPXVbYV0sci51cGRhdGVFdmVudHNbaV0mJih0PXIuaW5kZXhDYWNoZV9bb10sbj1yLm5vcm1hbGl6ZShyLnZhbHVlR2V0dGVyKHMpKSxuIT09dCYmKHIudXBkYXRlXyhuLHQpLHIuaW5kZXhDYWNoZV9bb109bikpfX0sRj17aXRlbXNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dmFyIG47aWYobj10Lmluc2VydGVkKWZvcih2YXIgcj1uLmxlbmd0aDtyLS0+MDspbltyXS5hZGRIYW5kbGVyKGosdGhpcyk7aWYobj10LmRlbGV0ZWQpZm9yKHZhciByPW4ubGVuZ3RoO3ItLT4wOyluW3JdLnJlbW92ZUhhbmRsZXIoaix0aGlzKTt2YXIgaT1JW3RoaXMuYmFzaXNPYmplY3RJZF07Zm9yKHZhciBzIGluIGkpQihpW3NdLHQuaW5zZXJ0ZWQsdC5kZWxldGVkKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPUlbdGhpcy5iYXNpc09iamVjdElkXTtmb3IodmFyIHQgaW4gZSlSKHRoaXMsZVt0XSl9fSxJPXt9LFU9ZihudWxsLHtjbGFzc05hbWU6YSsiLkNhbGNJbmRleFByZXNldCIsZXh0ZW5kQ29uc3RydWN0b3JfOiEwLGluZGV4ZXM6e30sY2FsYzpuLmZuLiRudWxsfSksej0xLEo9Zih2LHtjbGFzc05hbWU6YSsiLkluZGV4TWFwIixjYWxjczpudWxsLGluZGV4ZXM6bnVsbCxpbmRleGVzXzpudWxsLGluZGV4ZXNCaW5kXzpudWxsLHRpbWVyXzp1bmRlZmluZWQsaW5kZXhVcGRhdGVkOm51bGwsaW5kZXhWYWx1ZXM6bnVsbCxtZW1iZXJTb3VyY2VNYXA6bnVsbCxrZXlNYXA6bnVsbCxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMua2V5TWFwLmdldChlLCEwKX0sYWRkTWVtYmVyUmVmOmZ1bmN0aW9uKGUsdCl7dGhpcy5tZW1iZXJTb3VyY2VNYXBbZS5iYXNpc09iamVjdElkXT10LmJhc2lzT2JqZWN0SWQsdGhpcy5saXN0ZW4ubWVtYmVyJiZlLmFkZEhhbmRsZXIodGhpcy5saXN0ZW4ubWVtYmVyLHRoaXMpLHRoaXMuc291cmNlTWFwX1t0LmJhc2lzT2JqZWN0SWRdLnVwZGF0ZWQ9ITAsZS5zdWJzY3JpYmVyQ291bnQ+MCYmdGhpcy5jYWxjTWVtYmVyKGUpfSxyZW1vdmVNZW1iZXJSZWY6ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5tZW1iZXJTb3VyY2VNYXBbZS5iYXNpc09iamVjdElkXSx0aGlzLmxpc3Rlbi5tZW1iZXImJmUucmVtb3ZlSGFuZGxlcih0aGlzLmxpc3Rlbi5tZW1iZXIsdGhpcyl9LGVtaXRfc291cmNlQ2hhbmdlZDpmdW5jdGlvbihlKXt2LnByb3RvdHlwZS5lbWl0X3NvdXJjZUNoYW5nZWQuY2FsbCh0aGlzLGUpO2Zvcih2YXIgdCBpbiB0aGlzLmluZGV4ZXNfKXt2YXIgbj10aGlzLmluZGV4ZXNfW3RdO2UmJih0aGlzLnJlbW92ZUluZGV4KHQpLFIoZSx0aGlzLmluZGV4ZXNbdF0pKSx0aGlzLnNvdXJjZSYmdGhpcy5hZGRJbmRleCh0LHEodGhpcy5zb3VyY2UsbikpfX0sbGlzdGVuOntpbmRleDp7Y2hhbmdlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5kZXhNYXA7dC5pbmRleFZhbHVlc1t0aGlzLmtleV09ZS52YWx1ZSx0LmluZGV4VXBkYXRlZD0hMCx0LnJlY2FsY1JlcXVlc3QoKX19LG1lbWJlcjp7c3Vic2NyaWJlcnNDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7ZS5zdWJzY3JpYmVyQ291bnQ+MCYmdGhpcy5jYWxjTWVtYmVyKGUpfX19LHJ1bGVFdmVudHM6bi5kYXRhLmRhdGFzZXQuY3JlYXRlUnVsZUV2ZW50cyhmdW5jdGlvbihlLHQpe3YucHJvdG90eXBlLnJ1bGVFdmVudHMudXBkYXRlLmNhbGwodGhpcyxlLHQpLHRoaXMuc291cmNlTWFwX1tlLmJhc2lzT2JqZWN0SWRdLnVwZGF0ZWQ9ITAsdGhpcy5yZWNhbGNSZXF1ZXN0KCl9LCJ1cGRhdGUiKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWNhbGM9dGhpcy5yZWNhbGMuYmluZCh0aGlzKSx0aGlzLmluZGV4VXBkYXRlZD0hMSx0aGlzLmluZGV4ZXNCaW5kXz17fSx0aGlzLm1lbWJlclNvdXJjZU1hcD17fTt2YXIgZT10aGlzLmluZGV4ZXM7dGhpcy5pbmRleGVzPXt9LHRoaXMuaW5kZXhlc189e30sdGhpcy5pbmRleFZhbHVlcz17fTt2YXIgdD10aGlzLmNhbGNzO3RoaXMuY2FsY3M9e307aWYoIXRoaXMua2V5TWFwfHx0aGlzLmtleU1hcCBpbnN0YW5jZW9mIGM9PTApdGhpcy5rZXlNYXA9bmV3IGMobi5vYmplY3QuY29tcGxldGUoe2NyZWF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgdGhpcy5pdGVtQ2xhc3ModCl9fSx0aGlzLmtleU1hcCkpO3YucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSxuLm9iamVjdC5pdGVyYXRlKGUsdGhpcy5hZGRJbmRleCx0aGlzKSxuLm9iamVjdC5pdGVyYXRlKHQsdGhpcy5hZGRDYWxjLHRoaXMpfSxhZGRJbmRleDpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmluZGV4ZXNbZV0pe2lmKHQgaW5zdGFuY2VvZiBrKXtpZighIXRoaXMuaW5kZXhlc19bZV0pcmV0dXJuO3RoaXMuaW5kZXhlc19bZV09dCx0PXRoaXMuc291cmNlP3EodGhpcy5zb3VyY2UsdCk6bnVsbH1pZih0IGluc3RhbmNlb2YgZyl7dGhpcy5pbmRleFZhbHVlc1tlXT10LnZhbHVlLHRoaXMuaW5kZXhlc1tlXT10LHRoaXMuaW5kZXhlc0JpbmRfW2VdPXtrZXk6ZSxpbmRleE1hcDp0aGlzfTt2YXIgbj10aGlzLmxpc3Rlbi5pbmRleDtuJiYodC5hZGRIYW5kbGVyKG4sdGhpcy5pbmRleGVzQmluZF9bZV0pLG4uY2hhbmdlJiZuLmNoYW5nZS5jYWxsKHRoaXMuaW5kZXhlc0JpbmRfW2VdLHQsdC52YWx1ZSkpfX19LHJlbW92ZUluZGV4OmZ1bmN0aW9uKGUpe2lmKHRoaXMuaW5kZXhlc19bZV18fHRoaXMuaW5kZXhlc1tlXSl0aGlzLmluZGV4ZXNbZV0mJnRoaXMubGlzdGVuLmluZGV4JiZ0aGlzLmluZGV4ZXNbZV0ucmVtb3ZlSGFuZGxlcih0aGlzLmxpc3Rlbi5pbmRleCx0aGlzLmluZGV4ZXNCaW5kX1tlXSksZGVsZXRlIHRoaXMuaW5kZXhWYWx1ZXNbZV0sZGVsZXRlIHRoaXMuaW5kZXhlc0JpbmRfW2VdLGRlbGV0ZSB0aGlzLmluZGV4ZXNbZV0sZGVsZXRlIHRoaXMuaW5kZXhlc19bZV19LGFkZENhbGM6ZnVuY3Rpb24oZSx0KXtpZih0IGluc3RhbmNlb2YgVSl7dGhpcy5jYWxjc1tlXT10LmNhbGM7Zm9yKHZhciBuIGluIHQuaW5kZXhlcyl0aGlzLmFkZEluZGV4KG4sdC5pbmRleGVzW25dKX1lbHNlIHRoaXMuY2FsY3NbZV09dDt0aGlzLnJlY2FsY1JlcXVlc3QoKX0scmVtb3ZlQ2FsYzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNhbGNzW2VdO2lmKHQmJnQucHJlc2V0IGluc3RhbmNlb2YgVSl7dmFyIG49dC5wcmVzZXQuaW5kZXhlcztmb3IodmFyIHIgaW4gbil0aGlzLnJlbW92ZUluZGV4KHIsbltyXSl9ZGVsZXRlIHRoaXMuY2FsY3NbZV19LGxvY2s6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5pbmRleGVzKXRoaXMuaW5kZXhlc1tlXS5sb2NrKCl9LHVubG9jazpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmluZGV4ZXMpdGhpcy5pbmRleGVzW2VdLnVubG9jaygpfSxyZWNhbGNSZXF1ZXN0OmZ1bmN0aW9uKCl7dGhpcy50aW1lcl98fCh0aGlzLnRpbWVyXz1uLnNldEltbWVkaWF0ZSh0aGlzLnJlY2FsYykpfSxyZWNhbGM6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5pdGVtc18pdGhpcy5jYWxjTWVtYmVyKHRoaXMuaXRlbXNfW2VdKTt0aGlzLmluZGV4VXBkYXRlZD0hMSx0aGlzLnRpbWVyXz1uLmNsZWFySW1tZWRpYXRlKHRoaXMudGltZXJfKX0sY2FsY01lbWJlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNvdXJjZU1hcF9bdGhpcy5tZW1iZXJTb3VyY2VNYXBbZS5iYXNpc09iamVjdElkXV07aWYoZS5zdWJzY3JpYmVyQ291bnQmJih0LnVwZGF0ZWR8fHRoaXMuaW5kZXhVcGRhdGVkKSl7dC51cGRhdGVkPSExO3ZhciBuPXt9LHIsaSxzO2Zvcih2YXIgbyBpbiB0aGlzLmNhbGNzKXI9dGhpcy5jYWxjc1tvXSh0LnNvdXJjZU9iamVjdC5kYXRhLHRoaXMuaW5kZXhWYWx1ZXMsdC5zb3VyY2VPYmplY3QpLGk9ZS5kYXRhW29dLGUuZGF0YVtvXSE9PXImJih0eXBlb2YgciE9Im51bWJlciJ8fHR5cGVvZiBpIT0ibnVtYmVyInx8IWlzTmFOKHIpfHwhaXNOYU4oaSkpJiYobltvXT1yLHM9ITApO3MmJmUudXBkYXRlKG4pfX0sZ2V0TWVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtleU1hcC5nZXQoZSwhMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmtleU1hcC5kZXN0cm95KCksdGhpcy5rZXlNYXA9bnVsbDtmb3IodmFyIGUgaW4gdGhpcy5pbmRleGVzKXRoaXMucmVtb3ZlSW5kZXgoZSk7di5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMudGltZXJfPW4uY2xlYXJJbW1lZGlhdGUodGhpcy50aW1lcl8pLHRoaXMuY2FsY3M9bnVsbCx0aGlzLmluZGV4ZXM9bnVsbCx0aGlzLmluZGV4ZXNfPW51bGwsdGhpcy5pbmRleFZhbHVlcz1udWxsLHRoaXMubWVtYmVyU291cmNlTWFwPW51bGwsdGhpcy5pbmRleGVzQmluZF89bnVsbH19KTt0LmV4cG9ydHM9e0luZGV4Q29uc3RydWN0b3I6ayxjcmVhdGVJbmRleENvbnN0cnVjdG9yOkEsZ2V0RGF0YXNldEluZGV4OnEscmVtb3ZlRGF0YXNldEluZGV4OlIsSW5kZXg6ZyxDb3VudDpiLFN1bTp5LEF2Zzp3LFZlY3RvckluZGV4OkUsTWluOlMsTWF4OngsRGlzdGluY3Q6VCxjb3VudDpPLHN1bTpNLGF2ZzpfLG1heDpQLG1pbjpELGRpc3RpbmN0OkgsQ2FsY0luZGV4UHJlc2V0OlUscGVyY2VudE9mUmFuZ2U6WCxwZXJjZW50T2ZNYXg6VixwZXJjZW50T2ZTdW06JCxJbmRleE1hcDpKfX0sImcuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gbChlKXtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJkYXRhIiwicmV0dXJuIHsiK24ub2JqZWN0Lml0ZXJhdGUoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlPWUucmVwbGFjZSgvIi9nLCdcXCInKSx0PXQucmVwbGFjZSgvIi9nLCdcXCInKSwnIicrZSsnIjogZGF0YVsiJyt0KyciXSd9KSsifSIpfW4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5kYXRhLk9iamVjdCxjPXt1cGRhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmhvc3QuZmllbGRzLHI9e307aWYodGhpcy5uYW1lPT1uLmRlZmF1bHRTb3VyY2UpZm9yKHZhciBpIGluIHQpaSBpbiBuLmZpZWxkU291cmNlPT0wJiYocltpXT1lLmRhdGFbaV0pO2Vsc2UgZm9yKHZhciBpIGluIHQpe3ZhciBzPW4uZnJvbU5hbWVzW3RoaXMubmFtZV1baV07cyYmdGhpcy5ob3N0LmZpZWxkcy5maWVsZFNvdXJjZVtzXT09dGhpcy5uYW1lJiYocltzXT1lLmRhdGFbaV0pfWZvcih2YXIgaSBpbiByKXJldHVybiB0aGlzLmhvc3QudXBkYXRlKHIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnNldFNvdXJjZSh0aGlzLm5hbWUsbnVsbCl9fSxoPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e30scj17fSxpPXtkZWZhdWx0U291cmNlOiExLGZpZWxkU291cmNlOnt9LHRvTmFtZXM6bixmcm9tTmFtZXM6cixzb3VyY2VzOnQsX19leHRlbmRfXzpofTtlWyIqIl0mJihpLmRlZmF1bHRTb3VyY2U9ZVsiKiJdKTtmb3IodmFyIHMgaW4gZSl7dmFyIG89ZVtzXS5zcGxpdCgiOiIpLHU9by5zaGlmdCgpLGE9by5sZW5ndGg/by5qb2luKCI6Iik6cztpZih1PT1pLmRlZmF1bHRTb3VyY2UpY29udGludWU7aWYodT09Ii0iJiZhIT1zKWNvbnRpbnVlO25bdV18fChuW3VdPXt9LHJbdV09e30pLG5bdV1bc109YSxyW3VdW2FdPXMsaS5maWVsZFNvdXJjZVtzXT11fWZvcih2YXIgdSBpbiBuKXRbdV09bChuW3VdKTtyZXR1cm4gaS5kZWZhdWx0U291cmNlJiYodFtpLmRlZmF1bHRTb3VyY2VdPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKW4gaW4gaS5maWVsZFNvdXJjZT09MCYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9KSxpfSxwPWYuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuTWVyZ2UiLGVtaXRfc291cmNlQ2hhbmdlZDpuLmV2ZW50LmNyZWF0ZSgic291cmNlQ2hhbmdlZCIsIm5hbWUiLCJvbGRTb3VyY2UiKSxmaWVsZHM6aCh7IioiOiItIn0pLHNvdXJjZXM6bnVsbCxzb3VyY2VzQ29udGV4dF86bnVsbCxkZWx0YV86bnVsbCxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLHQ9dGhpcy5zb3VyY2VzO3RoaXMuZGF0YT17fSx0aGlzLmRlbGVnYXRlPW51bGwsZi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj10aGlzLmZpZWxkcy5maWVsZFNvdXJjZVtuXXx8dGhpcy5maWVsZHMuZGVmYXVsdFNvdXJjZTtyPT0iLSImJih0aGlzLmRhdGFbbl09ZVtuXSl9dGhpcy5zb3VyY2VzPXt9LHRoaXMuc291cmNlc0NvbnRleHRfPXt9LHQmJnRoaXMuc2V0U291cmNlcyh0KX0sdXBkYXRlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZGVsdGFfKXtmb3IodmFyIHQgaW4gZSl7dmFyIG49dGhpcy5maWVsZHMuZmllbGRTb3VyY2VbdF18fHRoaXMuZmllbGRzLmRlZmF1bHRTb3VyY2U7aWYoIW4pY29udGludWU7dmFyIHI9biE9dGhpcy5maWVsZHMuZGVmYXVsdFNvdXJjZT90aGlzLmZpZWxkcy50b05hbWVzW25dW3RdOnQsaT10aGlzLnNvdXJjZXNbbl0uZGF0YVtyXTtpIT09dGhpcy5kYXRhW3RdJiYodCBpbiB0aGlzLmRlbHRhXz09MD90aGlzLmRlbHRhX1t0XT10aGlzLmRhdGFbdF06dGhpcy5kZWx0YV9bdF09PT1pJiZkZWxldGUgdGhpcy5kZWx0YV9bdF0sdGhpcy5kYXRhW3RdPWkpfXJldHVybn12YXIgcyxvPXt9O3RoaXMuZGVsdGFfPW87Zm9yKHZhciB0IGluIGUpe3ZhciBuPXRoaXMuZmllbGRzLmZpZWxkU291cmNlW3RdfHx0aGlzLmZpZWxkcy5kZWZhdWx0U291cmNlO2lmKCFuKWNvbnRpbnVlO2lmKG49PSItIil7b1t0XT10aGlzLmRhdGFbdF0sdGhpcy5kYXRhW3RdPWVbdF07Y29udGludWV9aWYodGhpcy5zb3VyY2VzW25dKXt2YXIgcj1uIT10aGlzLmZpZWxkcy5kZWZhdWx0U291cmNlP3RoaXMuZmllbGRzLnRvTmFtZXNbbl1bdF06dDt0aGlzLnNvdXJjZXNbbl0uZGF0YVtyXSE9PWVbdF0/KHN8fChzPXt9KSxuIGluIHM9PTAmJihzW25dPXt9KSxzW25dW3JdPWVbdF0pOnRoaXMuZGF0YVt0XSE9PWVbdF0mJihvW3RdPXRoaXMuZGF0YVt0XSx0aGlzLmRhdGFbdF09ZVt0XSl9fWlmKHMpZm9yKHZhciBuIGluIHMpdGhpcy5zb3VyY2VzW25dLnVwZGF0ZShzW25dKTt0aGlzLmRlbHRhXz1udWxsO2Zvcih2YXIgdCBpbiBvKXJldHVybiB0aGlzLmVtaXRfdXBkYXRlKG8pLG87cmV0dXJuITF9LHNldERlbGVnYXRlOmZ1bmN0aW9uKCl7fSxzZXRTb3VyY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNvdXJjZXNbZV07aWYoZSBpbiB0aGlzLmZpZWxkcy5zb3VyY2VzPT0wKXJldHVybjtpZihlPT0iLSIpcmV0dXJuO3QgaW5zdGFuY2VvZiBmPT0wJiYodD1udWxsKTtpZihuIT09dCl7dmFyIHI9dGhpcy5saXN0ZW5bInNvdXJjZToiK2VdO24mJihyJiZuLnJlbW92ZUhhbmRsZXIocix0aGlzKSxuLnJlbW92ZUhhbmRsZXIoYyx0aGlzLnNvdXJjZXNDb250ZXh0X1tlXSkpLHRoaXMuc291cmNlc1tlXT10LHQmJihlIGluIHRoaXMuc291cmNlc0NvbnRleHRfPT0wJiYodGhpcy5zb3VyY2VzQ29udGV4dF9bZV09e2hvc3Q6dGhpcyxuYW1lOmV9KSx0LmFkZEhhbmRsZXIoYyx0aGlzLnNvdXJjZXNDb250ZXh0X1tlXSksciYmdC5hZGRIYW5kbGVyKHIsdGhpcyksdGhpcy51cGRhdGUodGhpcy5maWVsZHMuc291cmNlc1tlXSh0LmRhdGEpKSksdGhpcy5lbWl0X3NvdXJjZUNoYW5nZWQoZSxuKX19LHNldFNvdXJjZXM6ZnVuY3Rpb24oZSl7ZXx8KGU9e30pO2Zvcih2YXIgdCBpbiB0aGlzLmZpZWxkcy5zb3VyY2VzKXRoaXMuc2V0U291cmNlKHQsZVt0XSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNldFNvdXJjZXMoKSx0aGlzLnNvdXJjZXM9bnVsbCx0aGlzLnNvdXJjZXNDb250ZXh0Xz1udWxsLGYucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KTt0LmV4cG9ydHM9e01lcmdlOnB9fSwiaC5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBfKGUpe3JldHVybiBNW2VdPU1bZV18fDAsZStNW2VdKyt9ZnVuY3Rpb24gaihlLHQpe3ZhciBuPUhbZV07aWYobil7Zm9yKHZhciByPTAsaTtpPW5bcl07cisrKXt2YXIgcz1pWzBdLG89aVsxXTtzW29dPXR9ZGVsZXRlIEhbZV19RFtlXT10fWZ1bmN0aW9uIEYoZSx0LG4pe2lmKERbZV0pcmV0dXJuIERbZV07dmFyIHI9SFtlXTtyZXR1cm4gcnx8KHI9SFtlXT1bXSksci5wdXNoKFt0LG5dKSxmdW5jdGlvbih0LG4pe3ZhciByPURbZV07aWYocilyZXR1cm4gcih0LG4pfX1mdW5jdGlvbiBJKCl7Zm9yKHZhciBlIGluIEgpbi5kZXYud2FybihhKyI6IHR5cGUgYCIrZSsiYCBpcyBub3QgZGVmaW5lZCwgYnV0IHVzZWQgYnkgIitIW2VdLmxlbmd0aCsiIHR5cGUocykiKX1mdW5jdGlvbiBSKCl7dmFyIGU9bShhcmd1bWVudHMpLHQ9ZS5wb3AoKSxuPWVbMF0scj1lWzFdLGk9ZVsyXSxzO2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IDQwO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnM9ZnVuY3Rpb24oKXtyZXR1cm4gdCgpfTticmVhaztjYXNlIDE6cz1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG4gaW4gZT90KHJbbl0pOml9O2JyZWFrO2Nhc2UgMjpzPWZ1bmN0aW9uKGUsaSxzKXtyZXR1cm4gbiBpbiBlfHxyIGluIGU/dChpW25dLGlbcl0pOnN9O2JyZWFrO2Nhc2UgMzpzPWZ1bmN0aW9uKGUscyxvKXtyZXR1cm4gbiBpbiBlfHxyIGluIGV8fGkgaW4gZT90KHNbbl0sc1tyXSxzW2ldKTpvfTticmVhaztkZWZhdWx0OnM9ZnVuY3Rpb24obixyLGkpe3ZhciBzPSExLG89W107Zm9yKHZhciB1PTAsYTthPWVbdV07dSsrKXM9c3x8YSBpbiBuLG8ucHVzaChyW2FdKTtyZXR1cm4gcz90LmFwcGx5KG51bGwsbyk6aX19cmV0dXJuIHMuYXJncz1lLHMuY2FsYz1zLHN9ZnVuY3Rpb24gVShlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09MT9mdW5jdGlvbih0LG4scil7cmV0dXJuIGUgaW4gdD9uW2VdIT1udWxsP1N0cmluZyhuW2VdKTpudWxsOnJ9OlIuYXBwbHkobnVsbCxtKGFyZ3VtZW50cykuY29uY2F0KGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgtMTtlPj0wO2UtLSlpZihhcmd1bWVudHNbZV09PW51bGwpcmV0dXJuIG51bGw7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5qb2luLmNhbGwoYXJndW1lbnRzLCItIil9KSl9ZnVuY3Rpb24gbnQoZSx0KXt2YXIgbj1bImhhcyJdLHI9W2xdLGk9W107Zm9yKHZhciBzIGluIGUpaWYobC5jYWxsKGUscykpe3ZhciBvPSJ2IitpLmxlbmd0aCx1PSJmIitpLmxlbmd0aCxhPWVbc107bi5wdXNoKG8sdSksci5wdXNoKGEsdFtzXSksaS5wdXNoKCciJytzKyciOicrJ2hhcy5jYWxsKGRhdGEsIicrcysnIiknKyI/Iit1KycoZGF0YVsiJytzKyciXSwnK28rIikiKyI6IitvKyh0eXBlb2YgYT09ImZ1bmN0aW9uIj8iKGRhdGEpIjoiIikpfXZhciBmPWkuc29ydCgpLmpvaW4oIiwiKSxjPWV0W2ZdO3JldHVybiBjfHwoYz1ldFtmXT1uZXcgRnVuY3Rpb24obiwicmV0dXJuIGZ1bmN0aW9uKGRhdGEpe3JldHVybiB7IitmKyJ9OyIrIn07IikpLGMuYXBwbHkobnVsbCxyKX1mdW5jdGlvbiBydChlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBudWxsO2lmKCFBcnJheS5pc0FycmF5KHQpfHxlLmxlbmd0aCE9dC5sZW5ndGgpcmV0dXJuIGV8fG51bGw7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXSE9PXRbbl0pcmV0dXJuIGU7cmV0dXJuIHR9ZnVuY3Rpb24gc3QoZSx0KXtyZXR1cm4gdHlwZW9mIGU9PSJzdHJpbmciP2l0KGUpOnR5cGVvZiBlPT0ibnVtYmVyIj9uZXcgRGF0ZShlKTplPT1udWxsP251bGw6ZSYmZS5jb25zdHJ1Y3Rvcj09PURhdGU/ZTp0fWZ1bmN0aW9uIG90KGUsdCxyKXtlLmFsaWFzZXNbdF09dCx0eXBlb2Ygcj09InN0cmluZyJ8fEFycmF5LmlzQXJyYXkocil8fHR5cGVvZiByPT0iZnVuY3Rpb24iJiZyLmNhbGMhPT1yP3I9e3R5cGU6cn06cj1yP24ub2JqZWN0LnNsaWNlKHIpOnt9O2lmKCJ0eXBlImluIHIpe3R5cGVvZiByLnR5cGU9PSJzdHJpbmciJiYoci50eXBlPUYoci50eXBlLGUuZmllbGRzLHQpKTtpZihBcnJheS5pc0FycmF5KHIudHlwZSkpe3ZhciBpPXIudHlwZS5zbGljZSgpO2kubGVuZ3RoPT0xPyhyLnR5cGU9bi5mbi4kY29uc3QoaVswXSksci5kZWZWYWx1ZT1pWzBdKTooci50eXBlPWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5pbmRleE9mKGUpIT0tMTtyZXR1cm4gbj9lOnR9LHIuZGVmVmFsdWU9aS5pbmRleE9mKHIuZGVmVmFsdWUpIT0tMT9yLmRlZlZhbHVlOmlbMF0pfXIudHlwZT09PUFycmF5JiYoci50eXBlPXJ0KSxyLnR5cGU9PT1EYXRlJiYoci50eXBlPXN0KSx0eXBlb2Ygci50eXBlIT0iZnVuY3Rpb24iJiYoci50eXBlPW51bGwpfXZhciBzPXIudHlwZXx8ZDtpZihyLmlkfHxyLmluZGV4fHxbayxMLEEsT10uaW5kZXhPZihzKSE9LTEpZS5pZEZpZWxkc1t0XT1yO3IuY2FsYz8oYXQoZSx0LHIuY2FsYyksZS5maWVsZHNbdF09dHQpOmUuZmllbGRzW3RdPXMsZS5kZWZhdWx0c1t0XT0iZGVmVmFsdWUiaW4gcj9yLmRlZlZhbHVlOnMoKSxaW3RdfHwoWlt0XT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2V0KHQsbnVsbCl9fSl9ZnVuY3Rpb24gdXQoZSx0LG4pe2lmKG4gaW4gZS5maWVsZHM9PTApcmV0dXJuO2lmKHQgaW4gZS5hbGlhc2VzKXJldHVybjtlLmFsaWFzZXNbdF09bn1mdW5jdGlvbiBhdChlLHQscil7ZS5jYWxjc3x8KGUuY2FsY3M9W10pO3ZhciBpPWUuY2FsY3Mscz1lLmRlcHMsbz1yLmFyZ3N8fFtdLHU9e2FyZ3M6byx3cmFwcGVyOnJ9LGE9ZS5jYWxjcy5sZW5ndGgsZj0wO2lmKG8pZm9yKHZhciBsPTAsYztjPWlbbF07bCsrKW8uaW5kZXhPZihjLmtleSkhPS0xJiYoZj1sKzEpO2lmKHQpe3Uua2V5PXQ7Zm9yKHZhciBsPTAsYztjPWlbbF07bCsrKWlmKGMuYXJncy5pbmRleE9mKHQpIT0tMSl7YT1sO2JyZWFrfWlmKGY+YSlyZXR1cm47c1t0XT1vLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciByPXNbdF18fFt0XTtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKyluLmFycmF5LmFkZChlLHJbaV0pO3JldHVybiBlfSxbXSk7Zm9yKHZhciBoIGluIHMpe3ZhciBwPXNbaF0uaW5kZXhPZih0KTtwIT0tMSYmQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzW2hdLFtwLDFdLmNvbmNhdChzW3RdKSl9fWVsc2UgYT1mO2kuc3BsaWNlKE1hdGgubWluKGEsZiksMCx1KX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMubW9kaWZpZWQmJmUgaW4gdGhpcy5tb2RpZmllZD90aGlzLm1vZGlmaWVkW2VdOnRoaXMuZGF0YVtlXX19ZnVuY3Rpb24gbHQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuc2V0KGUsdCxuKX19ZnVuY3Rpb24gaHQoZSx0KXtuLmRldi53YXJuKCJbYmFzaXMuZW50aXR5ICIrZS5lbnRpdHlUeXBlLm5hbWUrIiMiK2UuYmFzaXNPYmplY3RJZCsiXSAiK3QsZSl9ZnVuY3Rpb24gdnQoZSl7cmV0dXJuIGUmJmUgaW5zdGFuY2VvZiBwdH1mdW5jdGlvbiBtdChlLHQpe3ZhciByPWV8fHt9O3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/cj17bmFtZTpyLGZpZWxkczp0fHx7fX06dCYmKHI9bi5vYmplY3QubWVyZ2Uocix7ZmllbGRzOnR9KSksbmV3IFkocil9ZnVuY3Rpb24gZ3QoZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP25ldyBRKHQsZSk6bmV3IFEoZSl9bi5yZXF1aXJlKCIuLzMuanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpLG4ucmVxdWlyZSgiLi9kLmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9bi5DbGFzcyxsPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksYz1uLm9iamVjdC5rZXlzLGg9bi5vYmplY3QuZXh0ZW5kLHA9bi5vYmplY3QuY29tcGxldGUsZD1uLmZuLiRzZWxmLHY9bi5nZXR0ZXIsbT1uLmFycmF5LmZyb20sZz1uLmV2ZW50LkVtaXR0ZXIseT1uLmV2ZW50LmNyZWF0ZSxiPW4uZGF0YS5PYmplY3Qsdz1uLmRhdGEuU2xvdCxFPW4uZGF0YS5EYXRhc2V0LFM9bi5kYXRhLmRhdGFzZXQuRmlsdGVyLHg9bi5kYXRhLmRhdGFzZXQuU3BsaXQsVD17fSxOPVtdLEM9e3N0cmluZzohMCxudW1iZXI6ITB9LGs9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGUpP251bGw6TnVtYmVyKGUpfSxMPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlKT9udWxsOk51bWJlcihlKX0sQT1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZSk/bnVsbDpwYXJzZUludChlLDEwKX0sTz1mdW5jdGlvbihlKXtyZXR1cm4gZT09bnVsbD9udWxsOlN0cmluZyhlKX0sTT17fSxEPXt9LFA9e30sSD17fSxCPWZ1bmN0aW9uKCl7fSxxPWYobnVsbCx7Y2xhc3NOYW1lOmErIi5JbmRleCIsaXRlbXM6bnVsbCxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuaXRlbXM9e319LGdldDpmdW5jdGlvbihlLHQpe3ZhciBuPWwuY2FsbCh0aGlzLml0ZW1zLGUpJiZ0aGlzLml0ZW1zW2VdO2lmKG4mJighdHx8bi5lbnRpdHlUeXBlPT09dCkpcmV0dXJuIG59LGFkZDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPXRoaXMuZ2V0KGUpO2lmKCFuKXJldHVybiB0aGlzLml0ZW1zW2VdPXQsITA7aWYobiE9PXQpdGhyb3cgMzl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLml0ZW1zW2VdPT09dClyZXR1cm4gZGVsZXRlIHRoaXMuaXRlbXNbZV0sITB9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPW51bGx9fSksej1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5wcm90b3R5cGVbdF0uY2FsbCh0aGlzLG4mJm4ubWFwKHRoaXMud3JhcHBlcikpfX0sVz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3RoaXMubmFtZXx8KHRoaXMubmFtZT1fKHQpKSxlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyl9fSxYPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1uLm9iamVjdC5zbGljZSh0aGlzLml0ZW1zXykscj1bXSxpPVtdO2lmKGUpe0Uuc2V0QWNjdW11bGF0ZVN0YXRlKCEwKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy53cmFwcGVyKGVbc10pO28mJih0W28uYmFzaXNPYmplY3RJZF09ITEpfUUuc2V0QWNjdW11bGF0ZVN0YXRlKCExKX1mb3IodmFyIHUgaW4gdGhpcy5pdGVtc18pdSBpbiB0PT0wJiZyLnB1c2godGhpcy5pdGVtc19bdV0pO2Zvcih2YXIgdSBpbiB0KXRbdV0mJmkucHVzaCh0W3VdKTtpLmxlbmd0aCYmdGhpcy53cmFwcGVyLmFsbCYmdGhpcy53cmFwcGVyLmFsbC5lbWl0X2l0ZW1zQ2hhbmdlZCh7ZGVsZXRlZDppfSksRS5zZXRBY2N1bXVsYXRlU3RhdGUoITApO2Zvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKWlbc10uZGVzdHJveSgpO3JldHVybiBFLnNldEFjY3VtdWxhdGVTdGF0ZSghMSksci5sZW5ndGg/cjpudWxsfX0sVj1mKEUse2NsYXNzTmFtZTphKyIuRW50aXR5U2V0IixuYW1lOm51bGwsd3JhcHBlcjpkLGluaXQ6VyhFLCJFbnRpdHlTZXQiKSxzeW5jOlgoRSksc2V0OnooRSwic2V0IiksYWRkOnooRSwiYWRkIikscmVtb3ZlOnooRSwicmVtb3ZlIiksZGVzdHJveTpmdW5jdGlvbigpe0UucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLndyYXBwZXI9bnVsbH19KSwkPWYoVix7Y2xhc3NOYW1lOmErIi5SZWFkT25seUVudGl0eVNldCIsc2V0Om4uZm4uJGZhbHNlLGFkZDpuLmZuLiRmYWxzZSxyZW1vdmU6bi5mbi4kZmFsc2UsY2xlYXI6bi5mbi4kZmFsc2V9KSxKPWYoUyx7Y2xhc3NOYW1lOmErIi5FbnRpdHlDb2xsZWN0aW9uIixuYW1lOm51bGwsaW5pdDpXKFMsIkVudGl0eUNvbGxlY3Rpb24iKSxzeW5jOlgoUyl9KSxLPWYoeCx7Y2xhc3NOYW1lOmErIi5FbnRpdHlHcm91cGluZyIsbmFtZTpudWxsLHN1YnNldENsYXNzOiQsaW5pdDpXKHgsIkVudGl0eUdyb3VwaW5nIiksc3luYzpYKHgpLGdldFN1YnNldDpmdW5jdGlvbihlLHQpe3ZhciBuPXgucHJvdG90eXBlLmdldFN1YnNldC5jYWxsKHRoaXMsZSx0KTtyZXR1cm4gbiYmbi5kYXRhc2V0JiYobi5kYXRhc2V0LndyYXBwZXI9dGhpcy53cmFwcGVyKSxufX0pLFE9ZnVuY3Rpb24oZSx0KXtpZih0aGlzIGluc3RhbmNlb2YgUSl7ZXx8KGU9ZCk7aWYoIXR8fERbdF0pdD1fKCJVbnRpdGxlZEVudGl0eVNldFR5cGUiKTt2YXIgbj1uZXcgRyh7ZW50aXR5U2V0Q2xhc3M6e3dyYXBwZXI6ZX19KSxyPW4uZW50aXR5U2V0Q2xhc3MsaT1mdW5jdGlvbihlLHQpe3JldHVybiBlIT1udWxsPyh0IGluc3RhbmNlb2YgVj09MCYmKHQ9bi5jcmVhdGVFbnRpdHlTZXQoKSksdC5zZXQoZSBpbnN0YW5jZW9mIEU/ZS5nZXRJdGVtcygpOm0oZSkpLHQpOm51bGx9O3JldHVybiB0eXBlb2YgZT09InN0cmluZyImJihyLnByb3RvdHlwZS53cmFwcGVyPUYoZSxyLnByb3RvdHlwZSwid3JhcHBlciIpKSxqKHQsaSksaChpLHt0eXBlOm4sdHlwZU5hbWU6dCx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0KyIoKSJ9LHJlYWRlcjpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXt2YXIgdD1yLnByb3RvdHlwZS53cmFwcGVyO3JldHVybiBlLm1hcCh0LnJlYWRlcnx8dCl9cmV0dXJuIGV9LGV4dGVuZENsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiByLmV4dGVuZC5jYWxsKHIsZSksaX0sZXh0ZW5kUmVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWkucmVhZGVyO3JldHVybiBpLnJlYWRlcj1mdW5jdGlvbihuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKSYmZShuKSx0KG4pfSxpfSxlbnRpdHlTZXRUeXBlOm4sZXh0ZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZXh0ZW5kLmFwcGx5KHIsYXJndW1lbnRzKX19KSxpfX0sRz1mKG51bGwse2NsYXNzTmFtZTphKyIuRW50aXR5U2V0Q29uc3RydWN0b3IiLGVudGl0eVNldENsYXNzOlYsZXh0ZW5kQ29uc3RydWN0b3JfOiEwLGNyZWF0ZUVudGl0eVNldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5lbnRpdHlTZXRDbGFzc319KSxZPWZ1bmN0aW9uKGUpe2lmKHRoaXMgaW5zdGFuY2VvZiBZKXt2YXIgdDtlLnNpbmdsZXRvbj90PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0KCk7cmV0dXJuIHQ/ZSYmdC51cGRhdGUoZSk6dD1uZXcgcihlfHx7fSksdH06dD1mdW5jdGlvbihlLHQpe2lmKGUhPW51bGwpe2lmKCF0fHx0LmVudGl0eVR5cGUhPT1uKXQ9bnVsbDtpZihlPT09dHx8ZS5lbnRpdHlUeXBlPT09bilyZXR1cm4gZTt2YXIgaSxzPW4uaWRGaWVsZDtpZihDW3R5cGVvZiBlXSl7aWYoIXMpcmV0dXJuO2lmKHQ9bi5pbmRleC5nZXQoZSxuKSlyZXR1cm4gdDtpPWUsZT17fSxlW3NdPWl9ZWxzZSBuLmNvbXBvc2l0ZUtleSYmKGk9bi5jb21wb3NpdGVLZXkoZSxlKSksaSE9bnVsbCYmKHQ9bi5pbmRleC5nZXQoaSxuKSk7cmV0dXJuIHQmJnQuZW50aXR5VHlwZT09PW4/dC51cGRhdGUoZSk6dD1uZXcgcihlKSx0fX07dmFyIG49bmV3IGN0KGV8fHt9LHQpLHI9bi5lbnRpdHlDbGFzcyxpPW4ubmFtZTtyZXR1cm4gaihpLHQpLGgodCx7YWxsOm4uYWxsLHR5cGU6bix0eXBlTmFtZTppLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIGkrIigpIn0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuLmdldChlKX0sZ2V0U2xvdDpmdW5jdGlvbihlLHQpe3JldHVybiBuLmdldFNsb3QoZSx0KX0scmVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBuLnJlYWRlcihlKX0sZXh0ZW5kQ2xhc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHIuZXh0ZW5kLmNhbGwocixlKSx0fSxleHRlbmRSZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIG49dC5yZWFkZXI7cmV0dXJuIHQucmVhZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0eXBlb2YgdD09Im9iamVjdCImJmUodCksbih0KX0sdH0sZW50aXR5VHlwZTpuLGV4dGVuZDpmdW5jdGlvbigpe3JldHVybiByLmV4dGVuZC5hcHBseShyLGFyZ3VtZW50cyl9fSksdH19LFo9e30sZXQ9e30sdHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0saXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbixyLGkscyxvLHUpe3ZhciBhPW5ldyBEYXRlKGUsbi0xLHIsaXx8MCwwLG98fDAsdT91LnN1YnN0cigwLDMpOjApO3JldHVybiBhLnNldE1pbnV0ZXMoKHN8fDApLXQtYS5nZXRUaW1lem9uZU9mZnNldCgpKSxhfXZhciB0O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdD0wLGUuYXBwbHkobnVsbCxTdHJpbmcobnx8IiIpLnJlcGxhY2UocmVJc29UaW1lem9uZURlc2lnbmF0b3IsZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIHQ9aT9yKjYwK2kqMTpyKjEsbn0pLnNwbGl0KHJlSXNvU3RyaW5nU3BsaXQpKX19KCksY3Q9ZihudWxsLHtjbGFzc05hbWU6YSsiLkVudGl0eVR5cGUiLHdyYXBwZXI6bnVsbCxhbGw6bnVsbCxmaWVsZHM6bnVsbCxpZEZpZWxkOm51bGwsaWRGaWVsZHM6bnVsbCxkZWZhdWx0czpudWxsLGFsaWFzZXM6bnVsbCxzbG90czpudWxsLHNpbmdsZXRvbjohMSxpbmRleDpudWxsLGluZGV4ZXM6bnVsbCxlbnRpdHlDbGFzczpudWxsLGluaXQ6ZnVuY3Rpb24oZSx0KXt0aGlzLm5hbWU9ZS5uYW1lO2lmKCF0aGlzLm5hbWV8fERbdGhpcy5uYW1lXSl0aGlzLm5hbWU9XygiVW50aXRsZWRFbnRpdHlUeXBlIik7dGhpcy5maWVsZHM9e30sdGhpcy5kZXBzPXt9LHRoaXMuaWRGaWVsZHM9e30sdGhpcy5kZWZhdWx0cz17fSx0aGlzLmFsaWFzZXM9e30sdGhpcy5zbG90cz17fTt2YXIgcj1lLmluZGV4O3ImJnIgaW5zdGFuY2VvZiBxJiYodGhpcy5pbmRleD1yKSx0aGlzLndyYXBwZXI9dDtpZigiYWxsImluIGU9PTB8fGUuYWxsfHxlLnNpbmdsZXRvbil0aGlzLmFsbD1uZXcgJChuLm9iamVjdC5jb21wbGV0ZSh7d3JhcHBlcjp0fSxlLmFsbCkpO3RoaXMuc2luZ2xldG9uPSEhZS5zaW5nbGV0b247aWYodGhpcy5zaW5nbGV0b24pe3ZhciBpO3RoaXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuYWxsLmFkZEhhbmRsZXIoe2l0ZW1zQ2hhbmdlZDpmdW5jdGlvbihlLHQpe2k9dC5pbnNlcnRlZD90Lmluc2VydGVkWzBdOm51bGx9fSx0aGlzKX1mb3IodmFyIHMgaW4gZS5maWVsZHMpb3QodGhpcyxzLGUuZmllbGRzW3NdKTtmb3IodmFyIHMgaW4gZS5hbGlhc2VzKXV0KHRoaXMscyxlLmFsaWFzZXNbc10pO2UuY29uc3RyYWlucyYmZS5jb25zdHJhaW5zLmZvckVhY2goZnVuY3Rpb24oZSl7YXQodGhpcyxudWxsLGUpfSx0aGlzKTt2YXIgbz1jKHRoaXMuaWRGaWVsZHMpLHU9e307aWYoby5sZW5ndGgpe2Zvcih2YXIgYSBpbiB0aGlzLmlkRmllbGRzKXt2YXIgZj10aGlzLmlkRmllbGRzW2FdLHI9Zi5pbmRleCxsO2lmKCFyfHxyIGluc3RhbmNlb2YgcT09MCl0eXBlb2Ygcj09InN0cmluZyI/KHIgaW4gUD09MCYmKFBbcl09bmV3IHEpLHI9UFtyXSk6KHRoaXMuaW5kZXh8fCh0aGlzLmluZGV4PW5ldyBxKSxyPXRoaXMuaW5kZXgpO2w9dVtyLmJhc2lzT2JqZWN0SWRdLGx8fChsPXVbci5iYXNpc09iamVjdElkXT17aW5kZXg6cixmaWVsZHM6W119KSxsLmZpZWxkcy5wdXNoKGEpLHRoaXMuaWRGaWVsZHNbYV09bH10aGlzLmluZGV4JiZ0aGlzLmluZGV4LmJhc2lzT2JqZWN0SWQgaW4gdT09MCYmKHRoaXMuaW5kZXg9bnVsbCk7Zm9yKHZhciBoIGluIHUpe3ZhciBsPXVbaF07bC5wcm9wZXJ0eT0iX19pZF9fIitoLGwuY29tcG9zaXRlS2V5PVUuYXBwbHkobnVsbCxsLmZpZWxkcyksbC5maWVsZHMubGVuZ3RoPT0xJiYobC5pZEZpZWxkPWwuZmllbGRzWzBdKX12YXIgcD1jKHUpLGQ9dVt0aGlzLmluZGV4P3RoaXMuaW5kZXguYmFzaXNPYmplY3RJZDpwWzBdXTt0aGlzLmluZGV4PWQuaW5kZXgsdGhpcy5pZEZpZWxkPWQuaWRGaWVsZCx0aGlzLmNvbXBvc2l0ZUtleT1kLmNvbXBvc2l0ZUtleSx0aGlzLmlkUHJvcGVydHk9ZC5wcm9wZXJ0eSx0aGlzLmluZGV4ZXM9dX1lbHNlIHRoaXMuaW5kZXgmJih0aGlzLmluZGV4PW51bGwpO3ZhciB2PXt9O2Zvcih2YXIgcyBpbiB0aGlzLmRlZmF1bHRzKXZbc109dW5kZWZpbmVkO3RoaXMuZW50aXR5Q2xhc3M9ZHQodGhpcyx0aGlzLmFsbCx0aGlzLmZpZWxkcyx0aGlzLnNsb3RzKSx0aGlzLmVudGl0eUNsYXNzLmV4dGVuZCh7ZW50aXR5VHlwZTp0aGlzLHR5cGU6dCx0eXBlTmFtZTp0aGlzLm5hbWUsc3RhdGU6ZS5zdGF0ZXx8dGhpcy5lbnRpdHlDbGFzcy5wcm90b3R5cGUuc3RhdGUsZ2VuZXJhdGVEYXRhOm50KHRoaXMuZGVmYXVsdHMsdGhpcy5maWVsZHMpLGluaXREZWx0YTp2fSk7Zm9yKHZhciBtIGluIHRoaXMuZmllbGRzKXRoaXMuZW50aXR5Q2xhc3MucHJvdG90eXBlWyJnZXRfIittXT1mdChtKSx0aGlzLmZpZWxkc1ttXSE9PXR0JiYodGhpcy5lbnRpdHlDbGFzcy5wcm90b3R5cGVbInNldF8iK21dPWx0KG0pKTtOLnB1c2godGhpcyl9LHJlYWRlcjpmdW5jdGlvbihlKXt2YXIgdD17fTtpZihDW3R5cGVvZiBlXSlyZXR1cm4gdGhpcy5pZEZpZWxkP2U6bnVsbDtpZighZXx8ZT09bnVsbClyZXR1cm4gbnVsbDtmb3IodmFyIG4gaW4gZSl7dmFyIHI9dGhpcy5hbGlhc2VzW25dO2lmKHIpe3ZhciBpPXRoaXMuZmllbGRzW3JdLnJlYWRlcjt0W3JdPWk/aShlW25dKTplW25dfX1yZXR1cm4gdH0sZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0SWQoZSk7aWYodGhpcy5pbmRleCYmdCE9bnVsbClyZXR1cm4gdGhpcy5pbmRleC5nZXQodCx0aGlzKX0sZ2V0SWQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5jb21wb3NpdGVLZXkmJmUhPW51bGwpe2lmKENbdHlwZW9mIGVdKXJldHVybiBlO2lmKGUmJmUuZW50aXR5VHlwZT09PXRoaXMpcmV0dXJuIGVbdGhpcy5pZFByb3BlcnR5XTtlIGluc3RhbmNlb2YgYiYmKGU9ZS5kYXRhKTtpZih0aGlzLmNvbXBvc2l0ZUtleSlyZXR1cm4gdGhpcy5jb21wb3NpdGVLZXkoZSxlKX19LGdldFNsb3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRJZChlKTtpZih0IT1udWxsKXt2YXIgbj1sLmNhbGwodGhpcy5zbG90cyx0KSYmdGhpcy5zbG90c1t0XTtpZighbil7aWYoQ1t0eXBlb2YgZV0pe3ZhciByPXt9O3RoaXMuaWRGaWVsZCYmKHJbdGhpcy5pZEZpZWxkXT1lKSxlPXJ9bj10aGlzLnNsb3RzW3RdPW5ldyB3KHtkZWxlZ2F0ZTp0aGlzLmdldCh0KXx8bnVsbCxkYXRhOmV9KX1yZXR1cm4gbn19fSkscHQ9ZihiLHtjbGFzc05hbWU6YSsiLkJhc2VFbnRpdHkiLHRhcmdldDohMCxzZXREZWxlZ2F0ZTpmdW5jdGlvbigpe30sZXh0ZW5kQ29uc3RydWN0b3JfOiExLGZpZWxkSGFuZGxlcnNfOm51bGwsbW9kaWZpZWQ6bnVsbCxlbWl0X3JvbGxiYWNrVXBkYXRlOnkoInJvbGxiYWNrVXBkYXRlIil9KSxkdD1mdW5jdGlvbihlLHQscixpKXtmdW5jdGlvbiBzKHQsbixyKXt2YXIgaT1lLmNhbGNzLHM9dC5kYXRhLHU9ITE7dHJ5e2lmKGkpZm9yKHZhciBhPTAsZjtmPWlbYV07YSsrKXt2YXIgbD1mLmtleSxjPXNbbF0saD1mLndyYXBwZXIobixzLGMpO2wmJmghPT1jJiYobltsXT1jLHNbbF09aCx1PSEwKX1mb3IodmFyIHAgaW4gZS5pbmRleGVzKXt2YXIgZD1lLmluZGV4ZXNbcF0sdj10W2QucHJvcGVydHldLG09djtkLmNvbXBvc2l0ZUtleSYmKG09ZC5jb21wb3NpdGVLZXkobixzLHYpKSxtIT09diYmKG8oZC5pbmRleCx0LHYsbSksdFtkLnByb3BlcnR5XT1tKX1yZXR1cm4gdX1jYXRjaChnKXtmb3IodmFyIGwgaW4gbil0LmRhdGFbbF09bltsXTtyJiYhdC5tb2RpZmllZCYmKHQubW9kaWZpZWQ9cil9fWZ1bmN0aW9uIG8oZSx0LG4scil7ciE9bnVsbCYmKGUuYWRkKHIsdCksbC5jYWxsKGkscikmJmlbcl0uc2V0RGVsZWdhdGUodCkpLG4hPW51bGwmJihlLnJlbW92ZShuLHQpLGwuY2FsbChpLG4pJiZpW25dLnNldERlbGVnYXRlKCkpfXJldHVybiBmKHB0LHtjbGFzc05hbWU6ZS5uYW1lLGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMuZGF0YT10aGlzLmdlbmVyYXRlRGF0YShlKSxwdC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO3ZhciBuO2Zvcih2YXIgciBpbiB0aGlzLmRhdGEpbj10aGlzLmRhdGFbcl0sbiYmbiE9PXRoaXMmJm4gaW5zdGFuY2VvZiBnJiYobi5hZGRIYW5kbGVyKFpbcl0sdGhpcyksdGhpcy5maWVsZEhhbmRsZXJzX3x8KHRoaXMuZmllbGRIYW5kbGVyc189e30pLHRoaXMuZmllbGRIYW5kbGVyc19bcl09ITApO3ModGhpcyx0aGlzLmluaXREZWx0YSksdCYmdC5lbWl0X2l0ZW1zQ2hhbmdlZCh7aW5zZXJ0ZWQ6W3RoaXNdfSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIit0aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSsiKCIrdGhpcy5lbnRpdHlUeXBlLm5hbWUrIildIn0sZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tlLmlkUHJvcGVydHldfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdGhpcy5tb2RpZmllZCYmZSBpbiB0aGlzLm1vZGlmaWVkP3RoaXMubW9kaWZpZWRbZV06dGhpcy5kYXRhW2VdfSxzZXQ6ZnVuY3Rpb24odCxuLGksbyl7dmFyIHU9clt0XTtpZighdSlyZXR1cm4hMTt2YXIgYSxmPXRoaXMubW9kaWZpZWQ7dT09PXJ0JiZmJiZ0IGluIGYmJihuPXJ0KG4sZlt0XSkpO3ZhciBsPXUobix0aGlzLmRhdGFbdF0pLGg9dGhpcy5kYXRhW3RdLHA9bCE9PWgmJighbHx8IWh8fGwuY29uc3RydWN0b3IhPT1EYXRlfHxoLmNvbnN0cnVjdG9yIT09RGF0ZXx8K2whPT0raCk7aWYocCllOnthPXt9O2lmKCFlLmlkRmllbGRzW3RdKWlmKGkpZnx8KHRoaXMubW9kaWZpZWQ9Zj17fSksdCBpbiBmPT0wPyhhLnJvbGxiYWNrPXtrZXk6dCx2YWx1ZTp1bmRlZmluZWR9LGZbdF09aCk6Zlt0XT09PWwmJihhLnJvbGxiYWNrPXtrZXk6dCx2YWx1ZTpsfSxkZWxldGUgZlt0XSxjKGYpLmxlbmd0aHx8KHRoaXMubW9kaWZpZWQ9bnVsbCkpO2Vsc2UgaWYoZiYmdCBpbiBmKXtpZihmW3RdIT09bCl7YS5yb2xsYmFjaz17a2V5OnQsdmFsdWU6Zlt0XX0sZlt0XT1sO2JyZWFrIGV9cmV0dXJuITF9dGhpcy5kYXRhW3RdPWwsdGhpcy5maWVsZEhhbmRsZXJzXyYmdGhpcy5maWVsZEhhbmRsZXJzX1t0XSYmKGgucmVtb3ZlSGFuZGxlcihaW3RdLHRoaXMpLHRoaXMuZmllbGRIYW5kbGVyc19bdF09ITEpLGwmJmwhPT10aGlzJiZsIGluc3RhbmNlb2YgZyYmKGwuYWRkSGFuZGxlcihaW3RdLHRoaXMpLHRoaXMuZmllbGRIYW5kbGVyc198fCh0aGlzLmZpZWxkSGFuZGxlcnNfPXt9KSx0aGlzLmZpZWxkSGFuZGxlcnNfW3RdPSEwKSxhLmtleT10LGEudmFsdWU9aCxhLmRlbHRhPXt9LGEuZGVsdGFbdF09aH1lbHNlIWkmJmYmJnQgaW4gZiYmKGE9e3JvbGxiYWNrOntrZXk6dCx2YWx1ZTpmW3RdfX0sZGVsZXRlIGZbdF0sYyhmKS5sZW5ndGh8fCh0aGlzLm1vZGlmaWVkPW51bGwpKTtpZighbyYmYSl7dmFyIGQ9YS5rZXksdj1hLmRlbHRhfHx7fSxtO2Eucm9sbGJhY2smJihtPXt9LG1bYS5yb2xsYmFjay5rZXldPWEucm9sbGJhY2sudmFsdWUpLHModGhpcyx2LG0pJiYoZD0hMCksZCYmKHRoaXMuZW1pdF91cGRhdGUodiksYS5kZWx0YT12KSxtJiZ0aGlzLmVtaXRfcm9sbGJhY2tVcGRhdGUobSl9cmV0dXJuIGF8fCExfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMSxyPXt9O2lmKGUpe3ZhciBpLG87Zm9yKHZhciB1IGluIGUpaWYobz10aGlzLnNldCh1LGVbdV0sdCwhMCkpby5rZXkmJihuPSEwLHJbby5rZXldPW8udmFsdWUpLG8ucm9sbGJhY2smJihpfHwoaT17fSksaVtvLnJvbGxiYWNrLmtleV09by5yb2xsYmFjay52YWx1ZSk7cyh0aGlzLHIsaSkmJihuPSEwKSxuJiZ0aGlzLmVtaXRfdXBkYXRlKHIpLGkmJnRoaXMuZW1pdF9yb2xsYmFja1VwZGF0ZShpKX1yZXR1cm4gbj9yOiExfSxnZW5lcmF0ZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm57fX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSh0aGlzLmdlbmVyYXRlRGF0YSh7fSkpfSxjbGVhcjpmdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLmRhdGEpZVt0XT11bmRlZmluZWQ7cmV0dXJuIHRoaXMudXBkYXRlKGUpfSxjb21taXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tb2RpZmllZDt0aGlzLm1vZGlmaWVkPW51bGwsZSYmdGhpcy51cGRhdGUoZSksdCYmdGhpcy5lbWl0X3JvbGxiYWNrVXBkYXRlKHQpfSxyb2xsYmFjazpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm1vZGlmaWVkO3ImJnQmJihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHI9bi5vYmplY3Quc2xpY2Uocix0LnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiB0LmNvbmNhdChlLmRlcHNbbl18fG4pfSxbXSkpKSx0aGlzLnVwZGF0ZShyLCEwKX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMuZmllbGRIYW5kbGVyc18pe2Zvcih2YXIgbiBpbiB0aGlzLmZpZWxkSGFuZGxlcnNfKXRoaXMuZmllbGRIYW5kbGVyc19bbl0mJnRoaXMuZGF0YVtuXS5yZW1vdmVIYW5kbGVyKFpbbl0sdGhpcyk7dGhpcy5maWVsZEhhbmRsZXJzXz1udWxsfWZvcih2YXIgbiBpbiBlLmluZGV4ZXMpe3ZhciByPWUuaW5kZXhlc1tuXSxpPXRoaXNbci5wcm9wZXJ0eV07aSE9bnVsbCYmbyhyLmluZGV4LHRoaXMsaSxudWxsKX10JiZ0Lmhhcyh0aGlzKSYmdC5lbWl0X2l0ZW1zQ2hhbmdlZCh7ZGVsZXRlZDpbdGhpc119KSxiLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5kYXRhPVQsdGhpcy5tb2RpZmllZD1udWxsfX0pfTt0LmV4cG9ydHM9e2lzRW50aXR5OnZ0LGNyZWF0ZVR5cGU6bXQsY3JlYXRlU2V0VHlwZTpndCx2YWxpZGF0ZTpJLGdldFR5cGVCeU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIERbZV19LGdldEluZGV4QnlOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiBQW2VdfSxnZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1EW2VdO2lmKG4pcmV0dXJuIG4uZ2V0KHQpfSxyZXNvbHZlOmZ1bmN0aW9uKGUsdCl7dmFyIG49RFtlXTtpZihuKXJldHVybiBuKHQpfSxnZXRCeUluZGV4OmZ1bmN0aW9uKGUsdCl7aWYoZSBpbiBQKXJldHVybiBQW2VdLmdldCh0KX0sTnVtZXJpY0lkOmssTnVtYmVySWQ6TCxJbnRJZDpBLFN0cmluZ0lkOk8sSW5kZXg6cSxDYWxjdWxhdGVGaWVsZDpSLENvbmNhdFN0cmluZ0ZpZWxkOlUsY2FsYzpSLEVudGl0eVR5cGU6WSxFbnRpdHk6ZHQsQmFzZUVudGl0eTpwdCxFbnRpdHlTZXRUeXBlOlEsRW50aXR5U2V0OlYsUmVhZE9ubHlFbnRpdHlTZXQ6JCxDb2xsZWN0aW9uOkosR3JvdXBpbmc6S319LCJpLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIFQoKXt2YXIgZT0iYmFzaXNqc0pzb25wQ2FsbGJhY2siK3BhcnNlSW50KE1hdGgucmFuZG9tKCkqMWUxMSk7cmV0dXJuIHJbZV09ZnVuY3Rpb24odCl7eFtlXT10fSxlfWZ1bmN0aW9uIE4oZSl7dmFyIHQ9eFtlXTtyZXR1cm4gZGVsZXRlIHhbZV0sdH1mdW5jdGlvbiBDKGUpe2RlbGV0ZSB4W2VdLGRlbGV0ZSByW2VdfWZ1bmN0aW9uIGsoZSx0KXt2YXIgbixpLHM9ITE7aWYodHlwZW9mIGUhPSJudW1iZXIiKXtpZighZXx8dGhpcy5zY3JpcHQhPT1lLnRhcmdldClyZXR1cm47cz1lJiZlLnR5cGU9PSJlcnJvciIsZT1zfHwhdGhpcy5zY3JpcHQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdCh0aGlzLnNjcmlwdC5yZWFkeVN0YXRlKT9TOkV9aWYoZT09dGhpcy5wcmV2UmVhZHlTdGF0ZV8pcmV0dXJuO3RoaXMucHJldlJlYWR5U3RhdGVfPWUsdGhpcy5lbWl0X3JlYWR5U3RhdGVDaGFuZ2VkKGUpO2lmKGU9PVMpe3RoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5zY3JpcHQub25sb2FkPXRoaXMuc2NyaXB0Lm9uZXJyb3I9dGhpcy5zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5zY3JpcHQucGFyZW50Tm9kZSYmdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCx0Pyh0aGlzLmVtaXRfYWJvcnQoKSxuPXRoaXMuc3RhdGVPbkFib3J0KToodGhpcy5wcm9jZXNzUmVzcG9uc2UoKSx0aGlzLmlzU3VjY2Vzc2Z1bCgpJiYhcz8obj15LlJFQURZLHRoaXMuZW1pdF9zdWNjZXNzKHRoaXMuZ2V0UmVzcG9uc2VEYXRhKCkpKToobj15LkVSUk9SLGk9dGhpcy5nZXRSZXNwb25zZUVycm9yKCksdGhpcy5lbWl0X2ZhaWx1cmUoaSkpKSx0aGlzLmVtaXRfY29tcGxldGUodGhpcyk7dmFyIG89dGhpcy5jYWxsYmFjazt0P3NldFRpbWVvdXQocltvXT1mdW5jdGlvbigpe0Mobyl9LDNlNSk6QyhvKX1lbHNlIG49eS5QUk9DRVNTSU5HO3RoaXMuc2V0U3RhdGUobixpKX1uLnJlcXVpcmUoIi4vai5qcyIpLG4ucmVxdWlyZSgiLi80LmpzIik7dmFyIGE9dGhpcy5wYXRoLGY9ci5kb2N1bWVudCxsPXIuZW5jb2RlVVJJQ29tcG9uZW50LGM9bi5vYmplY3QuZXh0ZW5kLGg9bi5vYmplY3Quc2xpY2UscD1uLm9iamVjdC5tZXJnZSxkPW4ubmV0LmNyZWF0ZVRyYW5zcG9ydEV2ZW50LHY9bi5uZXQuY3JlYXRlUmVxdWVzdEV2ZW50LG09bi5uZXQuQWJzdHJhY3RSZXF1ZXN0LGc9bi5uZXQuQWJzdHJhY3RUcmFuc3BvcnQseT1uLmRhdGEuU1RBVEUsYj0wLHc9MSxFPTMsUz00LHg9e30sTD1tLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlJlcXVlc3QiLHRpbWVvdXQ6M2U0LHRpbWVyXzpudWxsLGVtaXRfcmVhZHlTdGF0ZUNoYW5nZWQ6digicmVhZHlTdGF0ZUNoYW5nZWQiKSxpc0lkbGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5zY3JpcHR9LGlzU3VjY2Vzc2Z1bDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuc3RhdHVzPT0yMDB9LHByb2Nlc3NSZXNwb25zZTpmdW5jdGlvbigpe3RoaXMuY2FsbGJhY2sgaW4geCYmdGhpcy51cGRhdGUoe2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0IixkYXRhOk4odGhpcy5jYWxsYmFjayksc3RhdHVzOjIwMH0pfSxnZXRSZXNwb25zZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmRhdGF9LGdldFJlc3BvbnNlRXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm57Y29kZToiRVJST1IiLG1zZzoiRVJST1IifX0scHJlcGFyZTpuLmZuLiR0cnVlLHByZXBhcmVSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWUudXJsO2U9aChlKSx0aGlzLmNhbGxiYWNrPVQoKTtmb3IodmFyIHIgaW4gZS5wYXJhbXMpe3ZhciBpPWUucGFyYW1zW3JdO2lmKGk9PW51bGx8fGkudG9TdHJpbmcoKT09bnVsbCljb250aW51ZTt0LnB1c2gobChyKSsiPSIrbChpLnRvU3RyaW5nKCkpKX1yZXR1cm4gdC5wdXNoKGwoZS5jYWxsYmFja1BhcmFtKSsiPSIrbCh0aGlzLmNhbGxiYWNrKSksdD10LmpvaW4oIiYiKSxlLnJvdXRlclBhcmFtcyYmKG49bi5yZXBsYWNlKC86KFthLXpcX1wtXVthLXowLTlcX1wtXSspL2dpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4gaW4gZS5yb3V0ZXJQYXJhbXM/ZS5yb3V0ZXJQYXJhbXNbbl06dH0pKSx0JiYobis9KG4uaW5kZXhPZigiPyIpPT0tMT8iPyI6IiYiKSt0KSxlLnJlcXVlc3RVcmw9bixlfSxkb1JlcXVlc3Q6ZnVuY3Rpb24oKXt0aGlzLnNlbmQodGhpcy5wcmVwYXJlUmVxdWVzdERhdGEodGhpcy5yZXF1ZXN0RGF0YSkpfSxzZW5kOmZ1bmN0aW9uKGUpe2lmKCFmKXRocm93IDQxO3ZhciB0PWYuaGVhZHx8Zi5nZXRFbGVtZW50QnlOYW1lKCJoZWFkIilbMF18fGYuZG9jdW1lbnRFbGVtZW50LG49Zi5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0aGlzLnVwZGF0ZSh7ZGF0YTp1bmRlZmluZWQsc3RhdHVzOiIiLGVycm9yOiIifSksdGhpcy5zY3JpcHQ9bixuLmFzeW5jPSEwLG4uc3JjPWUucmVxdWVzdFVybCxuLmNoYXJzZXQ9ZS5lbmNvZGluZyxuLm9ubG9hZD1uLm9uZXJyb3I9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ay5iaW5kKHRoaXMpLHRoaXMucHJldlJlYWR5U3RhdGVfPS0xLHRoaXMuZW1pdF9zdGFydCgpLGsuY2FsbCh0aGlzLGIpLHRoaXMuc2V0VGltZW91dCh0aGlzLnRpbWVvdXQpLHQuYXBwZW5kQ2hpbGQodGhpcy5zY3JpcHQpfSxyZXBlYXQ6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3REYXRhJiYodGhpcy5hYm9ydCgpLHRoaXMuZG9SZXF1ZXN0KCkpfSxhYm9ydDpmdW5jdGlvbigpe3RoaXMuaXNJZGxlKCl8fCh0aGlzLmNsZWFyVGltZW91dCgpLGsuY2FsbCh0aGlzLFMsITApKX0sc2V0VGltZW91dDpmdW5jdGlvbihlKXt0aGlzLnRpbWVyXz1zZXRUaW1lb3V0KHRoaXMudGltZW91dEFib3J0LmJpbmQodGhpcyksZSl9LGNsZWFyVGltZW91dDpmdW5jdGlvbigpe3RoaXMudGltZXJfJiYodGhpcy50aW1lcl89Y2xlYXJUaW1lb3V0KHRoaXMudGltZXJfKSl9LHRpbWVvdXRBYm9ydDpmdW5jdGlvbigpe3RoaXMudXBkYXRlKHtlcnJvcjp7Y29kZToiVElNRU9VVF9FUlJPUiIsbWVzc2FnZToiVGltZW91dCBlcnJvciJ9fSksdGhpcy5lbWl0X3RpbWVvdXQodGhpcyksdGhpcy5hYm9ydCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLG0ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxBPWcuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuVHJhbnNwb3J0IixyZXF1ZXN0Q2xhc3M6TCxlbWl0X3JlYWR5U3RhdGVDaGFuZ2VkOnYoInJlYWR5U3RhdGVDaGFuZ2VkIiksZW5jb2Rpbmc6bnVsbCxwYXJhbXM6bnVsbCxjYWxsYmFja1BhcmFtOiJjYWxsYmFjayIsaW5pdDpmdW5jdGlvbigpe2cucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnBhcmFtcz1oKHRoaXMucGFyYW1zKX0sc2V0UGFyYW06ZnVuY3Rpb24oZSx0KXt0aGlzLnBhcmFtc1tlXT10fSxzZXRQYXJhbXM6ZnVuY3Rpb24oZSl7dGhpcy5jbGVhclBhcmFtcygpO2Zvcih2YXIgdCBpbiBlKXRoaXMuc2V0UGFyYW0odCxlW3RdKX0scmVtb3ZlUGFyYW06ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMucGFyYW1zW2VdfSxjbGVhclBhcmFtczpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLnBhcmFtcylkZWxldGUgdGhpcy5wYXJhbXNbZV19LHByZXBhcmVSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLnVybHx8dGhpcy51cmw7aWYoIXQpdGhyb3cgNDI7cmV0dXJuIGMoZSx7dXJsOnQsZW5jb2Rpbmc6ZS5lbmNvZGluZ3x8dGhpcy5lbmNvZGluZyxwYXJhbXM6cCh0aGlzLnBhcmFtcyxlLnBhcmFtcykscm91dGVyUGFyYW1zOmUucm91dGVyUGFyYW1zLGNhbGxiYWNrUGFyYW06ZS5jYWxsYmFja1BhcmFtfHx0aGlzLmNhbGxiYWNrUGFyYW0saW5mbHVlbmNlOmUuaW5mbHVlbmNlfSksZX19KTt0LmV4cG9ydHM9e1JlcXVlc3Q6TCxUcmFuc3BvcnQ6QSxyZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt0eXBlb2YgZT09InN0cmluZyImJihlPXt1cmw6ZX0pO3ZhciBpPW5ldyBBKGUpO2kuYWRkSGFuZGxlcih7c3VjY2Vzczp0JiZmdW5jdGlvbihlLG4scil7dChyKX0sZmFpbHVyZTpyJiZmdW5jdGlvbihlLHQsbil7cihuKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtuLm5leHRUaWNrKGZ1bmN0aW9uKCl7aS5kZXN0cm95KCl9KX19KSxpLnJlcXVlc3QoKX19fSwiai5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBnKGUpe3ZhciB0PXAoZSk7cmV0dXJuIGZ1bmN0aW9uKCl7dC5hcHBseSh3LGFyZ3VtZW50cyksdGhpcy5zZXJ2aWNlJiZ0LmFwcGx5KHRoaXMuc2VydmljZSxhcmd1bWVudHMpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB5KGUpe3ZhciB0PXAoZSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9W3RoaXNdLmNvbmNhdChsKGFyZ3VtZW50cykpO3QuYXBwbHkodyxyKSx0aGlzLnRyYW5zcG9ydCYmdGhpcy50cmFuc3BvcnRbImVtaXRfIitlXS5hcHBseSh0aGlzLnRyYW5zcG9ydCxyKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19bi5yZXF1aXJlKCIuLzMuanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4ub2JqZWN0LmV4dGVuZCxsPW4uYXJyYXkuZnJvbSxjPW4ub2JqZWN0LnNsaWNlLGg9bi5vYmplY3QubWVyZ2UscD1uLmV2ZW50LmNyZWF0ZSxkPW4uZGF0YS5TVEFURSx2PW4uZGF0YS5PYmplY3QsbT1uLmV2ZW50LkVtaXR0ZXIsYj1bXSx3PW5ldyBtKHthYm9ydDpmdW5jdGlvbigpe3ZhciBlPWwoYik7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5hYm9ydCgpO3JldHVybiBlfSxoYW5kbGVyOntzdGFydDpmdW5jdGlvbihlKXtuLmFycmF5LmFkZChiLGUudHJhbnNwb3J0KX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7bi5hcnJheS5yZW1vdmUoYixlLnRyYW5zcG9ydCl9fX0pLEU9di5zdWJjbGFzcyh7Y2xhc3NOYW1lOmErIi5BYnN0cmFjdFJlcXVlc3QiLGluZmx1ZW5jZTpudWxsLGluaXREYXRhOm51bGwscmVxdWVzdERhdGE6bnVsbCx0cmFuc3BvcnQ6bnVsbCxzdGF0ZU9uQWJvcnQ6ZC5VTkRFRklORUQsZW1pdF9zdGFydDp5KCJzdGFydCIpLGVtaXRfdGltZW91dDp5KCJ0aW1lb3V0IiksZW1pdF9hYm9ydDp5KCJhYm9ydCIpLGVtaXRfc3VjY2Vzczp5KCJzdWNjZXNzIiksZW1pdF9mYWlsdXJlOnkoImZhaWx1cmUiKSxlbWl0X2NvbXBsZXRlOnkoImNvbXBsZXRlIiksZW1pdF9zdGF0ZUNoYW5nZWQ6ZnVuY3Rpb24oZSl7di5wcm90b3R5cGUuZW1pdF9zdGF0ZUNoYW5nZWQuY2FsbCh0aGlzLGUpO2lmKHRoaXMuaW5mbHVlbmNlKWZvcih2YXIgdD0wO3Q8dGhpcy5pbmZsdWVuY2UubGVuZ3RoO3QrKyl0aGlzLmluZmx1ZW5jZVt0XS5zZXRTdGF0ZSh0aGlzLnN0YXRlLHRoaXMuc3RhdGUuZGF0YSl9LGluaXQ6ZnVuY3Rpb24oKXt2LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5pbmZsdWVuY2U9W119LHNldEluZmx1ZW5jZTpmdW5jdGlvbihlKXt0aGlzLmluZmx1ZW5jZT1sKGUpfSxjbGVhckluZmx1ZW5jZTpmdW5jdGlvbigpe3RoaXMuaW5mbHVlbmNlPW51bGx9LGRvUmVxdWVzdDpuLmZuLiR1bmRlZixnZXRSZXNwb25zZURhdGE6bi5mbi4kdW5kZWYsZGVzdHJveTpmdW5jdGlvbigpe3YucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLmluaXREYXRhPW51bGwsdGhpcy5yZXF1ZXN0RGF0YT1udWxsLHRoaXMuY2xlYXJJbmZsdWVuY2UoKX19KSxTPXtzdGFydDpmdW5jdGlvbihlLHQpe24uYXJyYXkuYWRkKHRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzLHQpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe24uYXJyYXkucmVtb3ZlKHRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzLHQpfX0seD17Y29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlcXVlc3RRdWV1ZS5zaGlmdCgpO2UmJm4ubmV4dFRpY2soZnVuY3Rpb24oKXtlLmRvUmVxdWVzdCgpfSl9fSxUPW0uc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuQWJzdHJhY3RUcmFuc3BvcnQiLHJlcXVlc3RDbGFzczpFLHJlcXVlc3RzOm51bGwscG9vbExpbWl0Om51bGwscG9vbEhhc2hHZXR0ZXI6bi5mbi4kdHJ1ZSxlbWl0X3N0YXJ0OmcoInN0YXJ0IiksZW1pdF90aW1lb3V0OmcoInRpbWVvdXQiKSxlbWl0X2Fib3J0OmcoImFib3J0IiksZW1pdF9zdWNjZXNzOmcoInN1Y2Nlc3MiKSxlbWl0X2ZhaWx1cmU6ZygiZmFpbHVyZSIpLGVtaXRfY29tcGxldGU6ZygiY29tcGxldGUiKSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5yZXF1ZXN0cz17fSx0aGlzLnJlcXVlc3RRdWV1ZT1bXSx0aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0cz1bXSxtLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5hZGRIYW5kbGVyKFMsdGhpcyksdGhpcy5wb29sTGltaXQmJnRoaXMuYWRkSGFuZGxlcih4LHRoaXMpfSxnZXRSZXF1ZXN0QnlIYXNoOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVxdWVzdHNbZV07aWYoIXQpe2Zvcih2YXIgbiBpbiB0aGlzLnJlcXVlc3RzKWlmKHRoaXMucmVxdWVzdHNbbl0uaXNJZGxlKCkmJnRoaXMucmVxdWVzdFF1ZXVlLmluZGV4T2YodGhpcy5yZXF1ZXN0c1tuXSk9PS0xKXt0PXRoaXMucmVxdWVzdHNbbl0sZGVsZXRlIHRoaXMucmVxdWVzdHNbbl07YnJlYWt9dHx8KHQ9bmV3IHRoaXMucmVxdWVzdENsYXNzKHt0cmFuc3BvcnQ6dGhpc30pKSx0aGlzLnJlcXVlc3RzW2VdPXR9cmV0dXJuIHR9LHByZXBhcmU6bi5mbi4kdHJ1ZSxwcmVwYXJlUmVxdWVzdERhdGE6bi5mbi4kc2VsZixyZXF1ZXN0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnByZXBhcmUoKSlyZXR1cm47dmFyIHQ9YyhlKSxuPXRoaXMucG9vbEhhc2hHZXR0ZXIodGhpcy5wcmVwYXJlUmVxdWVzdERhdGEodCkpLHI9dGhpcy5nZXRSZXF1ZXN0QnlIYXNoKG4sITApO3JldHVybiByLmluaXREYXRhJiZyLmFib3J0KCksci5pbml0RGF0YT10LHIucmVxdWVzdERhdGE9dCxyLnNldEluZmx1ZW5jZSh0LmluZmx1ZW5jZXx8dGhpcy5pbmZsdWVuY2UpLHRoaXMucG9vbExpbWl0JiZ0aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0cy5sZW5ndGg+PXRoaXMucG9vbExpbWl0Pyh0aGlzLnJlcXVlc3RRdWV1ZS5wdXNoKHIpLHIuc2V0U3RhdGUoZC5QUk9DRVNTSU5HKSk6ci5kb1JlcXVlc3QoKSxyfSxhYm9ydDpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ7dD10aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0c1tlXTtlKyspdC5hYm9ydCgpO2Zvcih2YXIgZT0wLHQ7dD10aGlzLnJlcXVlc3RRdWV1ZVtlXTtlKyspdC5zZXRTdGF0ZShkLkVSUk9SKTt0aGlzLmlucHJvZ3Jlc3NSZXF1ZXN0cz1bXSx0aGlzLnJlcXVlc3RRdWV1ZT1bXX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuc3RvcHBlZHx8KHRoaXMuc3RvcHBlZFJlcXVlc3RzPXRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzLmNvbmNhdCh0aGlzLnJlcXVlc3RRdWV1ZSksdGhpcy5hYm9ydCgpLHRoaXMuc3RvcHBlZD0hMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKHRoaXMuc3RvcHBlZFJlcXVlc3RzKXtmb3IodmFyIGU9MCx0O3Q9dGhpcy5zdG9wcGVkUmVxdWVzdHNbZV07ZSsrKXQudHJhbnNwb3J0LnJlcXVlc3QodC5pbml0RGF0YSk7dGhpcy5zdG9wcGVkUmVxdWVzdHM9bnVsbH10aGlzLnN0b3BwZWQ9ITF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5yZXF1ZXN0cyl0aGlzLnJlcXVlc3RzW2VdLmRlc3Ryb3koKTt0aGlzLnJlcXVlc3RzPXt9LHRoaXMuaW5wcm9ncmVzc1JlcXVlc3RzPW51bGwsdGhpcy5yZXF1ZXN0UXVldWU9bnVsbCx0aGlzLnN0b3BwZWRSZXF1ZXN0cz1udWxsLG0ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KTt0LmV4cG9ydHM9e2NyZWF0ZVRyYW5zcG9ydEV2ZW50OmcsY3JlYXRlUmVxdWVzdEV2ZW50OnksdHJhbnNwb3J0RGlzcGF0Y2hlcjp3LEFic3RyYWN0UmVxdWVzdDpFLEFic3RyYWN0VHJhbnNwb3J0OlR9fSwiay5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtuLnJlcXVpcmUoIi4vMy5qcyIpLG4ucmVxdWlyZSgiLi9sLmpzIiksbi5yZXF1aXJlKCIuL24uanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLmV2ZW50LmNyZWF0ZSxsPW4ubmV0LmFjdGlvbi5jcmVhdGUsYz1uLmV2ZW50LkVtaXR0ZXIsaD1uLm5ldC5hamF4LlRyYW5zcG9ydCxwPXtzdGFydDpmdW5jdGlvbihlLHQpe24uYXJyYXkuYWRkKHRoaXMuaW5wcm9ncmVzc1RyYW5zcG9ydHMsdC50cmFuc3BvcnQpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe24uYXJyYXkucmVtb3ZlKHRoaXMuaW5wcm9ncmVzc1RyYW5zcG9ydHMsdC50cmFuc3BvcnQpfX0sZD1jLnN1YmNsYXNzKHtjbGFzc05hbWU6YSsiLlNlcnZpY2UiLGlucHJvZ3Jlc3NUcmFuc3BvcnRzOm51bGwsdHJhbnNwb3J0Q2xhc3M6aCxlbWl0X3Nlc3Npb25PcGVuOmYoInNlc3Npb25PcGVuIiksZW1pdF9zZXNzaW9uQ2xvc2U6Zigic2Vzc2lvbkNsb3NlIiksZW1pdF9zZXNzaW9uRnJlZXplOmYoInNlc3Npb25GcmVlemUiKSxlbWl0X3Nlc3Npb25VbmZyZWV6ZTpmKCJzZXNzaW9uVW5mcmVlemUiKSxpc1NlY3VyZTohMSxwcmVwYXJlOm4uZm4uJHRydWUsc2lnbmF0dXJlOm4uZm4uJHVuZGVmLGlzU2Vzc2lvbkV4cGlyZWRFcnJvcjpuLmZuLiRmYWxzZSxpbml0OmZ1bmN0aW9uKCl7Yy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuaW5wcm9ncmVzc1RyYW5zcG9ydHM9W107dmFyIGU9dGhpcy50cmFuc3BvcnRDbGFzczt0aGlzLnRyYW5zcG9ydENsYXNzPWUuc3ViY2xhc3Moe3NlcnZpY2U6dGhpcyxuZWVkU2lnbmF0dXJlOnRoaXMuaXNTZWN1cmUsZW1pdF9mYWlsdXJlOmZ1bmN0aW9uKHQsbil7ZS5wcm90b3R5cGUuZW1pdF9mYWlsdXJlLmNhbGwodGhpcyx0LG4pLHRoaXMubmVlZFNpZ25hdHVyZSYmdGhpcy5zZXJ2aWNlLmlzU2Vzc2lvbkV4cGlyZWRFcnJvcih0KSYmKHRoaXMuc2VydmljZS5mcmVlemUoKSx0aGlzLnNlcnZpY2Uuc3RvcHBlZFRyYW5zcG9ydHMucHVzaCh0aGlzKSx0aGlzLnN0b3AoKSl9LHJlcXVlc3Q6ZnVuY3Rpb24odCl7aWYoIXRoaXMuc2VydmljZS5wcmVwYXJlKHRoaXMsdCkpcmV0dXJuO2lmKHRoaXMubmVlZFNpZ25hdHVyZSYmIXRoaXMuc2VydmljZS5zaWduKHRoaXMpKXJldHVybjtyZXR1cm4gZS5wcm90b3R5cGUucmVxdWVzdC5jYWxsKHRoaXMsdCl9fSksdGhpcy5hZGRIYW5kbGVyKHApfSxzaWduOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc2Vzc2lvbktleSlyZXR1cm4gdGhpcy5zaWduYXR1cmUoZSx0aGlzLnNlc3Npb25EYXRhKSwhMH0sb3BlblNlc3Npb246ZnVuY3Rpb24oZSx0KXt0aGlzLnNlc3Npb25LZXk9ZSx0aGlzLnNlc3Npb25EYXRhPXQsdGhpcy51bmZyZWV6ZSgpLHRoaXMuZW1pdF9zZXNzaW9uT3BlbigpfSxjbG9zZVNlc3Npb246ZnVuY3Rpb24oKXt0aGlzLmZyZWV6ZSgpLHRoaXMuZW1pdF9zZXNzaW9uQ2xvc2UoKX0sZnJlZXplOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc2Vzc2lvbktleSlyZXR1cm47dGhpcy5zZXNzaW9uS2V5PW51bGwsdGhpcy5zZXNzaW9uRGF0YT1udWxsLHRoaXMuc3RvcHBlZFRyYW5zcG9ydHM9dGhpcy5pbnByb2dyZXNzVHJhbnNwb3J0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmVlZFNpZ25hdHVyZX0pO2Zvcih2YXIgZT0wLHQ7dD10aGlzLmlucHJvZ3Jlc3NUcmFuc3BvcnRzW2VdO2UrKyl0LnN0b3AoKTt0aGlzLmVtaXRfc2Vzc2lvbkZyZWV6ZSgpfSx1bmZyZWV6ZTpmdW5jdGlvbigpe2lmKHRoaXMuc3RvcHBlZFRyYW5zcG9ydHMpZm9yKHZhciBlPTAsdDt0PXRoaXMuc3RvcHBlZFRyYW5zcG9ydHNbZV07ZSsrKXQucmVzdW1lKCk7dGhpcy5lbWl0X3Nlc3Npb25VbmZyZWV6ZSgpfSxjcmVhdGVUcmFuc3BvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLnRyYW5zcG9ydENsYXNzKGUpfSxjcmVhdGVBY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGwobi5vYmplY3QuY29tcGxldGUoe3NlcnZpY2U6dGhpc30sZSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pbnByb2dyZXNzVHJhbnNwb3J0cz1udWxsLHRoaXMuc3RvcHBlZFRyYW5zcG9ydHM9bnVsbCx0aGlzLnNlc3Npb25LZXk9bnVsbCx0aGlzLnNlc3Npb25EYXRhPW51bGwsYy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pO3QuZXhwb3J0cz17U2VydmljZTpkfX0sImwuanMiOmZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sdSl7ZnVuY3Rpb24gTyhlLHQpe3ZhciByPXt9O2lmKGsudGVzdCh0Lm1ldGhvZCkpe2lmKCFjfHx0LnBvc3RCb2R5IGluc3RhbmNlb2YgYz09MClyWyJDb250ZW50LVR5cGUiXT10LmNvbnRlbnRUeXBlKyh0LmVuY29kaW5nPyI7Y2hhcnNldD0iK3QuZW5jb2Rpbmc6IiIpfWVsc2UgZi50ZXN0KCJpZSIpJiYoclsiSWYtTW9kaWZpZWQtU2luY2UiXT0iVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQiKTtuLm9iamVjdC5pdGVyYXRlKGgocix0LmhlYWRlcnMpLGZ1bmN0aW9uKGUsdCl7dCE9bnVsbCYmdHlwZW9mIHQhPSJmdW5jdGlvbiImJnRoaXMuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSxlKX1mdW5jdGlvbiBNKGUsdCl7aWYodC5yZXNwb25zZVR5cGUmJnQuYXN5bmNocm9ub3VzJiYicmVzcG9uc2VUeXBlImluIGUpdHJ5e2UucmVzcG9uc2VUeXBlPXQucmVzcG9uc2VUeXBlfWNhdGNoKG4pe319ZnVuY3Rpb24gXyhlLHQpe3RyeXtyZXR1cm4gbi5qc29uLnBhcnNlKGUpfWNhdGNoKHIpe319ZnVuY3Rpb24gRChlKXt2YXIgdD10aGlzLnhocixyLGksczt0aGlzLnNlbmREZWxheVRpbWVyXz1jbGVhclRpbWVvdXQodGhpcy5zZW5kRGVsYXlUaW1lcl8pO2lmKCF0KXJldHVybjt0eXBlb2YgZSE9Im51bWJlciImJihlPXQucmVhZHlTdGF0ZSk7aWYoZT09dGhpcy5wcmV2UmVhZHlTdGF0ZV8pcmV0dXJuO3RoaXMucHJldlJlYWR5U3RhdGVfPWUsdGhpcy5lbWl0X3JlYWR5U3RhdGVDaGFuZ2VkKGUpLGU9PXg/KHRoaXMuY2xlYXJUaW1lb3V0KCksdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bi5mbi4kdW5kZWYscz10LnN0YXR1cz09MCwhcyYmIXQucmVzcG9uc2VUeXBlJiYocz10eXBlb2YgdC5yZXNwb25zZVRleHQ9PSJ1bmtub3duInx8IXQucmVzcG9uc2VUZXh0JiYhdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkscz8odGhpcy5lbWl0X2Fib3J0KCkscj10aGlzLnN0YXRlT25BYm9ydCk6KHRoaXMucHJvY2Vzc1Jlc3BvbnNlKCksdGhpcy5pc1N1Y2Nlc3NmdWwoKT8ocj1ULlJFQURZLHRoaXMuZW1pdF9zdWNjZXNzKHRoaXMuZ2V0UmVzcG9uc2VEYXRhKCkpKToocj1ULkVSUk9SLGk9dGhpcy5nZXRSZXNwb25zZUVycm9yKCksIWkmJnRoaXMuZGF0YS5lcnJvciYmKGk9dGhpcy5kYXRhLmVycm9yKSx0aGlzLmVtaXRfZmFpbHVyZShpKSkpLHRoaXMuZW1pdF9jb21wbGV0ZSh0aGlzKSk6cj1ULlBST0NFU1NJTkcsdGhpcy5zZXRTdGF0ZShyLGkpfW4ucmVxdWlyZSgiLi9tLmpzIiksbi5yZXF1aXJlKCIuL2ouanMiKSxuLnJlcXVpcmUoIi4vNC5qcyIpO3ZhciBhPXRoaXMucGF0aCxmPW4udWEsbD1yLmVuY29kZVVSSUNvbXBvbmVudCxjPXIuRm9ybURhdGEsaD1uLm9iamVjdC5leHRlbmQscD1uLm9iamVjdC5zbGljZSxkPW4ub2JqZWN0Lm1lcmdlLHY9bi5uZXQuY3JlYXRlVHJhbnNwb3J0RXZlbnQsbT1uLm5ldC5jcmVhdGVSZXF1ZXN0RXZlbnQsZz1uLm5ldC5BYnN0cmFjdFJlcXVlc3QseT1uLm5ldC5BYnN0cmFjdFRyYW5zcG9ydCxiPTAsdz0xLEU9MixTPTMseD00LFQ9bi5kYXRhLlNUQVRFLE49IkhFQUQgR0VUIFBPU1QgUFVUIFBBVENIIERFTEVURSBUUkFDRSBMSU5LIFVOTElOSyBDT05ORUNUIi5zcGxpdCgiICIpLEM9L1BPU1QvaSxrPS9eKFBPU1R8UFVUfFBBVENIfExJTkt8VU5MSU5LKSQvaSxMPSJuYXRpdmUiLEE9ZnVuY3Rpb24oKXtpZigiWE1MSHR0cFJlcXVlc3QiaW4gcilyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fTt2YXIgZT1yLkFjdGl2ZVhPYmplY3Q7aWYoZSl7dmFyIHQ9WyJNU1hNTDIuWE1MSFRUUC42LjAiLCJNU1hNTDIuWE1MSFRUUC4zLjAiLCJNU1hNTDIuWE1MSFRUUCIsIk1pY3Jvc29mdC5YTUxIVFRQIl07Zm9yKHZhciBuPTA7TD10W25dO24rKyl0cnl7aWYobmV3IGUoTCkpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKEwpfX1jYXRjaChpKXt9fXRocm93IDQzfSgpLFA9Zy5zdWJjbGFzcyh7Y2xhc3NOYW1lOmErIi5SZXF1ZXN0IixyZXF1ZXN0U3RhcnRUaW1lOjAsdGltZW91dDozZTQsdGltZXJfOm51bGwsc2VuZERlbGF5Om51bGwsc2VuZERlbGF5VGltZXJfOm51bGwsbGFzdFJlcXVlc3RVcmxfOm51bGwsZGVidWc6ITEsZW1pdF9yZWFkeVN0YXRlQ2hhbmdlZDptKCJyZWFkeVN0YXRlQ2hhbmdlZCIpLGluaXQ6ZnVuY3Rpb24oKXtnLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy54aHI9QSgpfSxpc0lkbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54aHIucmVhZHlTdGF0ZT09eHx8dGhpcy54aHIucmVhZHlTdGF0ZT09Yn0saXNTdWNjZXNzZnVsOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy54aHIuc3RhdHVzO3JldHVybiBlPj0yMDAmJmU8MzAwfHxlPT0zMDR9LHByb2Nlc3NSZXNwb25zZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlKHtjb250ZW50VHlwZTp0aGlzLnhoci5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIiksc3RhdHVzOnRoaXMueGhyLnN0YXR1c30pfSxnZXRSZXNwb25zZURhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnhocjtpZighZS5yZXNwb25zZVR5cGUpaWYodGhpcy5yZXNwb25zZVR5cGU9PSJqc29uInx8L15hcHBsaWNhdGlvblwvanNvbi9pLnRlc3QodGhpcy5kYXRhLmNvbnRlbnRUeXBlKSlyZXR1cm4gXyhlLnJlc3BvbnNlVGV4dCx0aGlzLmxhc3RSZXF1ZXN0VXJsXyk7cmV0dXJuInJlc3BvbnNlImluIGU/ZS5yZXNwb25zZTplLnJlc3BvbnNlVGV4dH0scHJvY2Vzc0Vycm9yUmVzcG9uc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZXNwb25zZUVycm9yKCl9LGdldFJlc3BvbnNlRXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm57Y29kZToiU0VSVkVSX0VSUk9SIixtc2c6dGhpcy5yZXNwb25zZVR5cGU/dGhpcy54aHIucmVzcG9uc2V8fHRoaXMueGhyLnN0YXR1c1RleHR8fCJFcnJvciI6dGhpcy54aHIucmVzcG9uc2VUZXh0fX0scHJlcGFyZTpuLmZuLiR0cnVlLHByZXBhcmVSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWUudXJsO2U9cChlKTtmb3IodmFyIHIgaW4gZS5wYXJhbXMpe3ZhciBpPWUucGFyYW1zW3JdO2lmKGk9PW51bGx8fGkudG9TdHJpbmcoKT09bnVsbCljb250aW51ZTt0LnB1c2gobChyKSsiPSIrbChpLnRvU3RyaW5nKCkpKX1yZXR1cm4gdD10LmpvaW4oIiYiKSwhZS5wb3N0Qm9keSYmay50ZXN0KGUubWV0aG9kKSYmKGUucG9zdEJvZHk9dHx8IiIsdD0iIiksZS5yb3V0ZXJQYXJhbXMmJihuPW4ucmVwbGFjZSgvOihbYS16XF9cLV1bYS16MC05XF9cLV0rKS9naSxmdW5jdGlvbih0LG4pe3JldHVybiBuIGluIGUucm91dGVyUGFyYW1zP2Uucm91dGVyUGFyYW1zW25dOnR9KSksdCYmKG4rPShuLmluZGV4T2YoIj8iKT09LTE/Ij8iOiImIikrdCksZS5yZXF1ZXN0VXJsPW4sZX0sZG9SZXF1ZXN0OmZ1bmN0aW9uKCl7dGhpcy5zZW5kKHRoaXMucHJlcGFyZVJlcXVlc3REYXRhKHRoaXMucmVxdWVzdERhdGEpKX0sc2VuZDpmdW5jdGlvbihlKXt0aGlzLnVwZGF0ZSh7Y29udGVudFR5cGU6IiIsc3RhdHVzOiIifSksZi50ZXN0KCJnZWNrbzEuOC4xLSIpJiZlLmFzeW5jaHJvbm91cyYmKHRoaXMueGhyPUEoKSksdGhpcy5lbWl0X3N0YXJ0KCk7dmFyIHQ9dGhpcy54aHI7dGhpcy5wcmV2UmVhZHlTdGF0ZV89LTEsdC5vbnJlYWR5c3RhdGVjaGFuZ2U9RC5iaW5kKHRoaXMpLGUuYXN5bmNocm9ub3VzfHxELmNhbGwodGhpcyxiKSx0Lm9wZW4oZS5tZXRob2QsZS5yZXF1ZXN0VXJsLGUuYXN5bmNocm9ub3VzKSx0aGlzLmxhc3RSZXF1ZXN0VXJsXz1lLnJlcXVlc3RVcmwsTSh0LGUpLHRoaXMucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlfHwiIixPKHQsZSksdGhpcy5zZXRUaW1lb3V0KHRoaXMudGltZW91dCk7dmFyIG49ZS5wb3N0Qm9keTtpZihrLnRlc3QoZS5tZXRob2QpJiZmLnRlc3QoImllOS0iKSlpZih0eXBlb2Ygbj09Im9iamVjdCImJnR5cGVvZiBuLmRvY3VtZW50RWxlbWVudCE9InVuZGVmaW5lZCImJnR5cGVvZiBuLnhtbD09InN0cmluZyIpbj1uLnhtbDtlbHNlIGlmKHR5cGVvZiBuPT0ic3RyaW5nIiluPW4ucmVwbGFjZSgvXHIvZywiIik7ZWxzZSBpZihuPT1udWxsfHxuPT0iIiluPSJbTm8gZGF0YV0iO3JldHVybiB0aGlzLnNlbmREZWxheT8odGhpcy5zZW5kRGVsYXlUaW1lcl8mJih0aGlzLnNlbmREZWxheVRpbWVyXz1jbGVhclRpbWVvdXQodGhpcy5zZW5kRGVsYXlUaW1lcl8pKSx0aGlzLnNlbmREZWxheVRpbWVyXz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5zZW5kRGVsYXlUaW1lcl89bnVsbCx0aGlzLnhocj09PXQmJnQucmVhZHlTdGF0ZT09dyYmdC5zZW5kKG4pfS5iaW5kKHRoaXMpLHRoaXMuc2VuZERlbGF5KSk6dC5zZW5kKG4pLCEwfSxyZXBlYXQ6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3REYXRhJiYodGhpcy5hYm9ydCgpLHRoaXMuZG9SZXF1ZXN0KCkpfSxhYm9ydDpmdW5jdGlvbigpe3RoaXMuaXNJZGxlKCl8fCh0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMueGhyLmFib3J0KCksdGhpcy54aHIucmVhZHlTdGF0ZSE9eCYmdGhpcy54aHIucmVhZHlTdGF0ZSE9YiYmRC5jYWxsKHRoaXMseCkpfSxzZXRUaW1lb3V0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnhoci5hc3luY2hyb25vdXMpcmV0dXJuOyJvbnRpbWVvdXQiaW4gdGhpcy54aHI/KHRoaXMueGhyLnRpbWVvdXQ9ZSx0aGlzLnhoci5vbnRpbWVvdXQ9dGhpcy50aW1lb3V0QWJvcnQuYmluZCh0aGlzKSk6dGhpcy50aW1lcl89c2V0VGltZW91dCh0aGlzLnRpbWVvdXRBYm9ydC5iaW5kKHRoaXMpLGUpfSxjbGVhclRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLnRpbWVyXyYmKHRoaXMudGltZXJfPWNsZWFyVGltZW91dCh0aGlzLnRpbWVyXykpfSx0aW1lb3V0QWJvcnQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSh7ZXJyb3I6e2NvZGU6IlRJTUVPVVRfRVJST1IiLG1lc3NhZ2U6IlRpbWVvdXQgZXJyb3IifX0pLHRoaXMuZW1pdF90aW1lb3V0KHRoaXMpLHRoaXMuYWJvcnQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYWJvcnQoKSx0aGlzLnhocj1udWxsLGcucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX19KSxIPXkuc3ViY2xhc3Moe2NsYXNzTmFtZTphKyIuVHJhbnNwb3J0IixyZXF1ZXN0Q2xhc3M6UCxlbWl0X3JlYWR5U3RhdGVDaGFuZ2VkOnYoInJlYWR5U3RhdGVDaGFuZ2VkIiksYXN5bmNocm9ub3VzOiEwLG1ldGhvZDoiR0VUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixlbmNvZGluZzpudWxsLHJlcXVlc3RIZWFkZXJzOm4uQ2xhc3MuZXh0ZW5zaWJsZVByb3BlcnR5KCkscmVzcG9uc2VUeXBlOiIiLHBhcmFtczpudWxsLHJvdXRlclBhcmFtczpudWxsLHVybDoiIixwb3N0Qm9keTpudWxsLGluaXQ6ZnVuY3Rpb24oKXt5LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wYXJhbXM9cCh0aGlzLnBhcmFtcyksdGhpcy5yb3V0ZXJQYXJhbXM9cCh0aGlzLnJvdXRlclBhcmFtcyl9LHNldFBhcmFtOmZ1bmN0aW9uKGUsdCl7dGhpcy5wYXJhbXNbZV09dH0sc2V0UGFyYW1zOmZ1bmN0aW9uKGUpe3RoaXMuY2xlYXJQYXJhbXMoKTtmb3IodmFyIHQgaW4gZSl0aGlzLnNldFBhcmFtKHQsZVt0XSl9LHJlbW92ZVBhcmFtOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnBhcmFtc1tlXX0sY2xlYXJQYXJhbXM6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5wYXJhbXMpZGVsZXRlIHRoaXMucGFyYW1zW2VdfSxwcmVwYXJlUmVxdWVzdERhdGE6ZnVuY3Rpb24oZSl7aWYoIWUudXJsJiYhdGhpcy51cmwpdGhyb3cgNDQ7cmV0dXJuIGgoZSx7aGVhZGVyczpkKHRoaXMucmVxdWVzdEhlYWRlcnMsZS5oZWFkZXJzKSxwYXJhbXM6ZCh0aGlzLnBhcmFtcyxlLnBhcmFtcykscm91dGVyUGFyYW1zOmQodGhpcy5yb3V0ZXJQYXJhbXMsZS5yb3V0ZXJQYXJhbXMpfSksbi5vYmplY3QuY29tcGxldGUoZSx7YXN5bmNocm9ub3VzOnRoaXMuYXN5bmNocm9ub3VzLHVybDp0aGlzLnVybCxtZXRob2Q6dGhpcy5tZXRob2QsY29udGVudFR5cGU6dGhpcy5jb250ZW50VHlwZSxlbmNvZGluZzp0aGlzLmVuY29kaW5nLHBvc3RCb2R5OnRoaXMucG9zdEJvZHkscmVzcG9uc2VUeXBlOnRoaXMucmVzcG9uc2VUeXBlfSksZX19KTt0LmV4cG9ydHM9e1JlcXVlc3Q6UCxUcmFuc3BvcnQ6SCxyZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt0eXBlb2YgZT09InN0cmluZyImJihlPXt1cmw6ZSxhc3luY2hyb25vdXM6ISF0fHwhIXJ9KTt2YXIgaT1uZXcgSChlKTtpLmFkZEhhbmRsZXIoe3N1Y2Nlc3M6dCYmZnVuY3Rpb24oZSxuLHIpe3Qocil9LGZhaWx1cmU6ciYmZnVuY3Rpb24oZSx0LG4pe3Iobil9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7bi5uZXh0VGljayhmdW5jdGlvbigpe2kuZGVzdHJveSgpfSl9fSk7dmFyIHM9aS5yZXF1ZXN0KCk7aWYoIXMucmVxdWVzdERhdGEuYXN5bmNocm9ub3VzKXJldHVybiBzLmdldFJlc3BvbnNlRGF0YSgpfX19LCJtLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIFMoZSl7dmFyIHQ9MWU2LG49U3RyaW5nKGUpLnNwbGl0KCIuIik7Zm9yKHZhciByPTAsaT0wO3I8NCYmcjxuLmxlbmd0aDtyKyssdC89MTAwKWkrPW5bcl0qdDtyZXR1cm4gaX1mdW5jdGlvbiB4KGUpe3ZhciB0PWUudG9Mb3dlckNhc2UoKTtpZih0IGluIHApcmV0dXJuIHBbdF07dmFyIG49dC5tYXRjaCgvXihbYS16XSspKChbXGRcLl0rKShbKy09XT8pKT8kL2kpO2lmKG4pe3BbdF09ITE7dmFyIHI9blsxXS50b0xvd2VyQ2FzZSgpLGk9UyhuWzNdKSxzPW5bNF18fCI9IixvPWhbcl07aWYobylyZXR1cm4gcFt0XT0haXx8cz09Ij0iJiZvPT1pfHxzPT0iKyImJm8+PWl8fHM9PSItIiYmbzxpfXJldHVybiExfXZhciBhPXRoaXMucGF0aCxmPXIuZG9jdW1lbnQsbD1yLm5hdmlnYXRvciYmci5uYXZpZ2F0b3IudXNlckFnZW50fHwiIixjPXIub3BlcmEsaD17fSxwPXt9LGQ9InVua25vd24iLHY9InVua25vd24iLG09e01TSUU6WyJJbnRlcm5ldCBFeHBsb3JlciIsIm1zaWUiLCJpZSJdLEdlY2tvOlsiR2Vja28iLCJnZWNrbyJdLFNhZmFyaTpbIlNhZmFyaSIsInNhZmFyaSJdLCJpUGhvbmUgT1MiOlsiaVBob25lIiwiaXBob25lIl0sQWRvYmVBaXI6WyJBZG9iZUFpciIsImFpciJdLEFwcGxlV2ViS2l0OlsiV2ViS2l0Il0sQ2hyb21lOlsiQ2hyb21lIiwiY2hyb21lIl0sRmlyZUZveDpbIkZpcmVGb3giLCJmaXJlZm94IiwiZmYiXSxJY2V3ZWFzZWw6WyJGaXJlRm94IiwiZmlyZWZveCIsImZmIl0sU2hpcmV0b2tvOlsiRmlyZUZveCIsImZpcmVmb3giLCJmZiJdLE9wZXJhOlsiT3BlcmEiLCJvcGVyYSJdfTtmb3IodmFyIGcgaW4gbSl7aWYoZz09Ik1TSUUiJiZjKWNvbnRpbnVlO2lmKGc9PSJTYWZhcmkiJiYvY2hyb21lL2kudGVzdChsKSljb250aW51ZTtpZihnPT0iQXBwbGVXZWJLaXQiJiYvaXBob25lL2kudGVzdChsKSljb250aW51ZTtpZihsLm1hdGNoKG5ldyBSZWdFeHAoZysiLiIrIihcXGQrKFxcLlxcZCspKikiLCJpIikpKXt2YXIgeT1tW2ddLGI9YyYmdHlwZW9mIGMudmVyc2lvbj09ImZ1bmN0aW9uIj9jLnZlcnNpb24oKTpSZWdFeHAuJDEsdz1TKGIpO2Q9eVswXSt3LHY9eVswXSsiICIrYjtmb3IodmFyIEU9MDtFPHkubGVuZ3RoO0UrKyloW3lbRV0udG9Mb3dlckNhc2UoKV09d319dmFyIFQ9e3NldDpmdW5jdGlvbihlLHQsbixyLGkpe2YuY29va2llPWUrIj0iKyh0PT1udWxsPyIiOmVzY2FwZSh0KSkrIjtwYXRoPSIrKHJ8fChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCIvIik9PTA/IiI6Ii8iKStsb2NhdGlvbi5wYXRobmFtZSkrKG4/IjtleHBpcmVzPSIrKG5ldyBEYXRlKERhdGUubm93KCkrbioxZTMpKS50b0dNVFN0cmluZygpOiIiKSsoaT8iO2RvbWFpbj0iK2k6IiIpfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Zi5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgiKF58OylcXHMqIitlKyJcXHMqPVxccyooLio/KVxccyooO3wkKSIpKTtyZXR1cm4gdCYmdW5lc2NhcGUodFsyXSl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbil7Zi5jb29raWU9ZSsiPTtleHBpcmVzPSIrKG5ldyBEYXRlKDApKS50b0dNVFN0cmluZygpKyI7cGF0aD0iKyh0fHwobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigiLyIpPT0wPyIiOiIvIikrbG9jYXRpb24ucGF0aG5hbWUpKyhuPyI7ZG9tYWluPSIrbjoiIil9fTt0LmV4cG9ydHM9e3ByZXR0eU5hbWU6dixpczp4LHRlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hcnJheShhcmd1bWVudHMpLnNvbWUoeCl9LGNvb2tpZXM6VH19LCJuLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGUudHJhbnNwb3J0P2UudHJhbnNwb3J0OmUuc2VydmljZT9lLnNlcnZpY2UuY3JlYXRlVHJhbnNwb3J0KGUpOmUuY3JlYXRlVHJhbnNwb3J0P2UuY3JlYXRlVHJhbnNwb3J0KGUpOm5ldyBuLm5ldC5hamF4LlRyYW5zcG9ydChlKX1mdW5jdGlvbiBtKGUpe2U9bi5vYmplY3QuZXh0ZW5kKHtwcmVwYXJlOmgscmVxdWVzdDpofSxlKTt2YXIgdD1uLm9iamVjdC5zcGxpY2UoZSxbInByZXBhcmUiLCJyZXF1ZXN0Il0pLHI9bi5vYmplY3QubWVyZ2UoZCxuLm9iamVjdC5zcGxpY2UoZSxbInN0YXJ0Iiwic3VjY2VzcyIsImZhaWx1cmUiLCJhYm9ydCIsImNvbXBsZXRlIl0pKSxpPW4uZm4ubGF6eUluaXQoZnVuY3Rpb24oKXt2YXIgdD12KGUpO3JldHVybiB0LmFkZEhhbmRsZXIocCxyKSx0fSk7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZSE9bCYmKHQucHJlcGFyZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5yZXF1ZXN0PWkoKS5yZXF1ZXN0KG4ub2JqZWN0LmNvbXBsZXRlKHtvcmlnaW46dGhpc30sdC5yZXF1ZXN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpKX19bi5yZXF1aXJlKCIuLzQuanMiKSxuLnJlcXVpcmUoIi4vbC5qcyIpO3ZhciBhPW4uZGF0YS5TVEFURS5VTkRFRklORUQsZj1uLmRhdGEuU1RBVEUuUkVBRFksbD1uLmRhdGEuU1RBVEUuUFJPQ0VTU0lORyxjPW4uZGF0YS5TVEFURS5FUlJPUixoPWZ1bmN0aW9uKCl7fSxwPXtzdGFydDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucmVxdWVzdERhdGEub3JpZ2luO3RoaXMuc3RhcnQuY2FsbCh0LnJlcXVlc3REYXRhLm9yaWdpbiksbi5zdGF0ZSE9bCYmbi5zZXRTdGF0ZShsKX0sc3VjY2VzczpmdW5jdGlvbihlLHQsbil7dmFyIHI9dC5yZXF1ZXN0RGF0YS5vcmlnaW47dGhpcy5zdWNjZXNzLmNhbGwocixuKSxyLnN0YXRlPT1sJiZyLnNldFN0YXRlKGYpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LnJlcXVlc3REYXRhLm9yaWdpbjt0aGlzLmZhaWx1cmUuY2FsbChyLG4pLHIuc3RhdGU9PWwmJnIuc2V0U3RhdGUoYyxuKX0sYWJvcnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnJlcXVlc3REYXRhLm9yaWdpbjt0aGlzLmFib3J0LmNhbGwobiksbi5zdGF0ZT09bCYmbi5zZXRTdGF0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbXBsZXRlLmNhbGwodC5yZXF1ZXN0RGF0YS5vcmlnaW4pfX0sZD17c3RhcnQ6aCxzdWNjZXNzOmgsZmFpbHVyZTpoLGFib3J0OmgsY29tcGxldGU6aH07dC5leHBvcnRzPXtjcmVhdGU6bX19LCJvLmpzIjpmdW5jdGlvbihlLHQsbixyLGkscyxvLHUpe2Z1bmN0aW9uIEUoZSl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gdC5zdWJzdHIoZSkubWF0Y2goL15cdysvKX1mdW5jdGlvbiBpKGUscyl7dmFyIG89IiIsdTtmb3IodmFyIGE9ZTthPHQubGVuZ3RoO2ErKyl7dmFyIGY9dC5jaGFyQXQoYSk7c3dpdGNoKGYpe2Nhc2UgczpyZXR1cm57cmVzdWx0Om8sb2Zmc2V0OmF9O2Nhc2UiXFwiOm8rPSJcXCIrdC5jaGFyQXQoKythKTticmVhaztjYXNlInwiOm8rPXMhPSIpIj8iXFx8IjoifCI7YnJlYWs7Y2FzZSIoIjoodT1pKGErMSwiKSIpKT8oYT11Lm9mZnNldCxvKz0iKD86Iit1LnJlc3VsdCsiKT8iKTpvKz0iXFwoIjticmVhaztjYXNlIjoiOih1PXIoYSsxKSk/KGErPXVbMF0ubGVuZ3RoLG8rPSIoW14vXSspIik6bys9IjoiO2JyZWFrO2Nhc2UiKiI6KHU9cihhKzEpKT8oYSs9dVswXS5sZW5ndGgsbys9IiguKj8pIik6bys9IlxcKiI7YnJlYWs7ZGVmYXVsdDpvKz1uLnN0cmluZy5mb3JSZWdFeHAoZil9fXJldHVybiBzP251bGw6b312YXIgdD1TdHJpbmcoZXx8IiIpO3JldHVybiBuZXcgUmVnRXhwKCJeIitpKDApKyIkIiwiaSIpfWZ1bmN0aW9uIFMoKXtwP24uZG9tLmV2ZW50LmFkZEhhbmRsZXIociwiaGFzaGNoYW5nZSIsQyk6dz1zZXRJbnRlcnZhbChDLGQpfWZ1bmN0aW9uIHgoKXtwP24uZG9tLmV2ZW50LnJlbW92ZUhhbmRsZXIociwiaGFzaGNoYW5nZSIsQyk6Y2xlYXJJbnRlcnZhbCh3KX1mdW5jdGlvbiBUKCl7eXx8KFMoKSx5PSEwLEMoKSl9ZnVuY3Rpb24gTigpe3kmJih4KCkseT0hMSl9ZnVuY3Rpb24gQygpe3ZhciBlPWwuaGFzaC5zdWJzdHIoMSl8fCIiO2lmKGUhPWIpe3ZhciB0PVtdLG49W107Yj1lO2Zvcih2YXIgciBpbiBtKXt2YXIgaT1tW3JdLHM9ZS5tYXRjaChpLnJlZ2V4cCk7cz8oZ1tyXXx8dC5wdXNoKGkpLGdbcl09cyk6Z1tyXSYmKG4ucHVzaChpKSxkZWxldGUgZ1tyXSl9Zm9yKHZhciBvPTAsaTtpPW5bb107bysrKXt2YXIgdT12KGkuY2FsbGJhY2tzKTtmb3IodmFyIGE9MCxmO2Y9dVthXTthKyspZi5jYWxsYmFjay5sZWF2ZSYmZi5jYWxsYmFjay5sZWF2ZS5jYWxsKGYuY29udGV4dCl9Zm9yKHZhciBvPTAsaTtpPXRbb107bysrKXt2YXIgdT12KGkuY2FsbGJhY2tzKTtmb3IodmFyIGE9MCxmO2Y9dVthXTthKyspZi5jYWxsYmFjay5lbnRlciYmZi5jYWxsYmFjay5lbnRlci5jYWxsKGYuY29udGV4dCl9Zm9yKHZhciByIGluIGcpe3ZhciBpPW1bcl0sYz12KGdbcl0sMSksdT12KGkuY2FsbGJhY2tzKTtmb3IodmFyIG89MCxmO2Y9dVtvXTtvKyspZi5jYWxsYmFjay5tYXRjaCYmZi5jYWxsYmFjay5tYXRjaC5hcHBseShmLmNvbnRleHQsYyl9fX1mdW5jdGlvbiBrKGUsdCxuKXt2YXIgcj1tW2VdLGk7aWYoIXIpe3I9bVtlXT17c291cmNlOmUsY2FsbGJhY2tzOltdLHJlZ2V4cDpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkhPSJbb2JqZWN0IFJlZ0V4cF0iP0UoZSk6ZX07aWYodHlwZW9mIGI9PSJzdHJpbmciKXt2YXIgcz1iLm1hdGNoKHIucmVnZXhwKTtzJiYoZ1tlXT1zKX19aT17Y2JfOnQsY29udGV4dDpuLGNhbGxiYWNrOnR5cGVvZiB0IT0iZnVuY3Rpb24iP3R8fHt9OnttYXRjaDp0fX0sci5jYWxsYmFja3MucHVzaChpKSxlIGluIGcmJihpLmNhbGxiYWNrLmVudGVyJiZpLmNhbGxiYWNrLmVudGVyLmNhbGwobiksaS5jYWxsYmFjay5tYXRjaCYmaS5jYWxsYmFjay5tYXRjaC5hcHBseShuLHYoZ1tlXSwxKSkpfWZ1bmN0aW9uIEwoZSx0LG4pe3ZhciByPW1bZV07aWYocil7dmFyIGk9LTE7Zm9yKHZhciBzPTAsbztvPXIuY2FsbGJhY2tzW3NdO3MrKylpZihvLmNiXz09PXQmJm8uY29udGV4dD09PW4pe3IuY2FsbGJhY2tzLnNwbGljZShzLDEpLHIuY2FsbGJhY2tzLmxlbmd0aHx8KGRlbGV0ZSBtW2VdLGRlbGV0ZSBnW2VdKTticmVha319fWZ1bmN0aW9uIEEoZSx0KXt0P2wucmVwbGFjZShsLnBhdGhuYW1lKyIjIitlKTpsLmhhc2g9ZSx5JiZDKCl9bi5yZXF1aXJlKCIuLzguanMiKTt2YXIgYT10aGlzLnBhdGgsZj1uLm5hbWVzcGFjZShTdHJpbmcoYSkpLGw9ci5sb2NhdGlvbixjPXIuZG9jdW1lbnQsaD1jLmRvY3VtZW50TW9kZSxwPSJvbmhhc2hjaGFuZ2UiaW4gciYmKGg9PT11bmRlZmluZWR8fGg+NyksZD01MCx2PW4uYXJyYXkuZnJvbSxtPXt9LGc9e30seT0hMSxiLHc7dC5leHBvcnRzPXtkZWJ1ZzohMSxhZGQ6ayxyZW1vdmU6TCxzdG9wOk4sc3RhcnQ6VCxjaGVja1VybDpDLG5hdmlnYXRlOkF9fSwicC5qcyI6ZnVuY3Rpb24oZSx0LG4scixpLHMsbyx1KXtmdW5jdGlvbiBwKGUpe2EudGl0bGU9ZX1mdW5jdGlvbiBkKGUpe3JldHVybiB0eXBlb2YgZT09InN0cmluZyI/YS5nZXRFbGVtZW50QnlJZChlKTplfWZ1bmN0aW9uIHYoZSx0KXtlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsZSl9dmFyIGE9ci5kb2N1bWVudHx8e3RpdGxlOiJ1bmtub3duIn0sZj1hLnRpdGxlLGw9bi5mbi4kdW5kZWYsYyxoLG09bi5mbi5sYXp5SW5pdChmdW5jdGlvbihlKXt2YXIgdD1bXSxyPSExLGk9e2luaXRlZDohMSxzZXRUaXRsZTpmdW5jdGlvbihlKXtlIT1mJiYoZiBpbnN0YW5jZW9mIG4uVG9rZW4mJmYuZGV0YWNoKHApLGUgaW5zdGFuY2VvZiBuLlRva2VuPyhlLmF0dGFjaChwKSxwKGUuZ2V0KCkpKTpwKGUpLGY9ZSl9LHNldEVsZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZChlKTtpZihoPT10KXJldHVybjtpZihoKXt2KGgsdCk7cmV0dXJufWg9dCxjfHwoYz17dHlwZToiYXBwZW5kIixub2RlOmEuYm9keX0pO3ZhciBuPWQoYy5ub2RlKTtpZighbilyZXR1cm47Yy50eXBlPT0iYXBwZW5kIj9uLmFwcGVuZENoaWxkKGgpOnYobixoKX0scmVhZHk6ZnVuY3Rpb24oZSxuKXtyP2UuY2FsbChuLGkpOnQucHVzaCh7Zm46ZSxjb250ZXh0Om59KX19O2Zvcih2YXIgcyBpbiBlKXt2YXIgbz1lW3NdO3N3aXRjaChzKXtjYXNlInRpdGxlIjppLnNldFRpdGxlKG8pO2JyZWFrO2Nhc2UiY29udGFpbmVyIjpjPXt0eXBlOiJhcHBlbmQiLG5vZGU6b307YnJlYWs7Y2FzZSJyZXBsYWNlIjpjPXt0eXBlOiJyZXBsYWNlIixub2RlOm99O2JyZWFrO2Nhc2UiZWxlbWVudCI6aD1vO2JyZWFrO2Nhc2UiaW5pdCI6bD10eXBlb2Ygbz09ImZ1bmN0aW9uIj9vOmw7YnJlYWs7ZGVmYXVsdDp9fXJldHVybiBuLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGU9aCxuPWwuY2FsbChpKTtuJiYobi5lbGVtZW50P2U9bi5lbGVtZW50OmU9biksaD1udWxsLGkuc2V0RWxlbWVudChlKSxyPSEwLGkuaW5pdGVkPSEwO3ZhciBzO3doaWxlKHM9dC5zaGlmdCgpKXMuZm4uY2FsbChzLmNvbnRleHQsaSl9KSxpfSk7dC5leHBvcnRzPXtjcmVhdGU6bX19fTsoZnVuY3Rpb24gcihpLHMsbyl7ZnVuY3Rpb24gbChlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDM2KX12YXIgbj10KDEwKzI1Kk1hdGgucmFuZG9tKCkpO2V8fChlPTE2KTt3aGlsZShuLmxlbmd0aDxlKW4rPXQobmV3IERhdGUqTWF0aC5yYW5kb20oKSk7cmV0dXJuIG4uc3Vic3RyKDAsZSl9ZnVuY3Rpb24gYyhlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciBuIGluIHQpbiBpbiBlPT0wJiYoZVtuXT10W25dKTtyZXR1cm4gZX1mdW5jdGlvbiBwKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gdH1mdW5jdGlvbiBkKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChlW25dKTtyZXR1cm4gdH1mdW5jdGlvbiB2KGUsdCl7dmFyIG49e307aWYoIXQpcmV0dXJuIGMobixlKTtmb3IodmFyIHI9MCxpO2k9dFtyKytdOylpIGluIGUmJihuW2ldPWVbaV0pO3JldHVybiBufWZ1bmN0aW9uIG0oZSx0KXt2YXIgbj17fTtpZighdClyZXR1cm4gYyhuLGUpO2Zvcih2YXIgcj0wLGk7aT10W3IrK107KWkgaW4gZSYmKG5baV09ZVtpXSxkZWxldGUgZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gZygpe3ZhciBlPXt9O2Zvcih2YXIgdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspYyhlLGFyZ3VtZW50c1t0XSk7cmV0dXJuIGV9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9W107Zm9yKHZhciBpIGluIGUpci5wdXNoKHQuY2FsbChuLGksZVtpXSkpO3JldHVybiByfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGU9PXVuZGVmaW5lZH1mdW5jdGlvbiB3KGUpe3JldHVybiBlIT11bmRlZmluZWR9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZT09bnVsbHx8ZT09dW5kZWZpbmVkfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIGUhPW51bGwmJmUhPXVuZGVmaW5lZH1mdW5jdGlvbiB4KGUpe3JldHVybiBlPT09dGhpc31mdW5jdGlvbiBUKGUpe3JldHVybiBlIT09dGhpc31mdW5jdGlvbiBOKGUpe3JldHVybiBlfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fWZ1bmN0aW9uIGsoKXtyZXR1cm4hMX1mdW5jdGlvbiBMKCl7cmV0dXJuITB9ZnVuY3Rpb24gQSgpe3JldHVybiBudWxsfWZ1bmN0aW9uIE8oKXt9ZnVuY3Rpb24gRChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49e307cmV0dXJuIG5bZV09dCxufX1mdW5jdGlvbiBQKGUsdCl7dmFyIG49MCxyLGk7cmV0dXJuIHI9ZnVuY3Rpb24oKXtyZXR1cm4gbisrfHwoci5pbml0ZWQ9ITAsci5kYXRhPWk9ZS5hcHBseSh0fHx0aGlzLGFyZ3VtZW50cykpLGl9fWZ1bmN0aW9uIEgoZSx0LG4pe3ZhciByPTAsaSxzO3JldHVybiBpPWZ1bmN0aW9uKCl7cmV0dXJuIHIrK3x8KGkuaW5pdGVkPSEwLGkuZGF0YT1zPWUuY2FsbChufHx0aGlzKSksdC5hcHBseShzLGFyZ3VtZW50cyksc319ZnVuY3Rpb24gQihlLHQpe3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIShuKyspKXJldHVybiBlLmFwcGx5KHR8fHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gVygpe3ZhciBlPW87aWYoIWUpaWYocSlVPV9fZmlsZW5hbWUucmVwbGFjZSgvXFwvZywiLyIpO2Vsc2V7dmFyIHQ9YS5zY3JpcHRzO2Zvcih2YXIgbj0wLHI7cj10W25dO24rKyl7dmFyIGk9ci5oYXNBdHRyaWJ1dGUoImJhc2lzLWNvbmZpZyIpP3IuZ2V0QXR0cmlidXRlKCJiYXNpcy1jb25maWciKTpyLmdldEF0dHJpYnV0ZSgiZGF0YS1iYXNpcy1jb25maWciKTtyLnJlbW92ZUF0dHJpYnV0ZSgiYmFzaXMtY29uZmlnIiksci5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtYmFzaXMtY29uZmlnIik7aWYoaSE9PW51bGwpe1U9Ui5ub3JtYWxpemUoci5zcmMpO3RyeXtlPUZ1bmN0aW9uKCJyZXR1cm57IitpKyJ9IikoKX1jYXRjaChzKXt9YnJlYWt9fX1yZXR1cm4gWChlKX1mdW5jdGlvbiBYKGUsdCl7ZT12KGUpO3ZhciBuPVtdLHI9ZyhlLnBhdGgsZS5tb2R1bGVzLHtiYXNpczpVfSk7ZS5tb2R1bGVzPXt9O2lmKGUuYXV0b2xvYWQpe3ZhciBpPVN0cmluZyhlLmF1dG9sb2FkKS5tYXRjaCgvXigoPzpbXlwvXSpcLykqKShbYS16JF9dW2EtejAtOSRfXSopKCg/OlwuW2EteiRfXVthLXowLTkkX10qKSopJC9pKTtpJiYocltpWzJdXT17YXV0b2xvYWQ6ITAsZmlsZW5hbWU6aVsxXStpWzJdKyhpWzNdfHwiLmpzIil9KSxkZWxldGUgZS5hdXRvbG9hZH1mb3IodmFyIHMgaW4gcil7dmFyIG89cltzXTt0eXBlb2Ygbz09InN0cmluZyImJihvPXtmaWxlbmFtZTpvLnJlcGxhY2UoL1wvJC8sIi8iK3MrIi5qcyIpfSk7dmFyIHU9by5maWxlbmFtZSxhPW8ucGF0aDt1JiYhYSYmKHU9Ui5yZXNvbHZlKHUpLGE9dS5zdWJzdHIoMCx1Lmxlbmd0aC1SLmV4dG5hbWUodSkubGVuZ3RoKSx1PSIuLi8iK1IuYmFzZW5hbWUodSkpLGE9Ui5yZXNvbHZlKGEpLCF1JiZhJiYodT1SLmJhc2VuYW1lKGEpLGE9Ui5kaXJuYW1lKGEpKSxSLmV4dG5hbWUodSl8fCh1Kz0iLmpzIiksdT1SLnJlc29sdmUoYSx1KSxlLm1vZHVsZXNbc109e3BhdGg6YSxmaWxlbmFtZTp1fSxvLmF1dG9sb2FkJiYoZS5hdXRvbG9hZD1uLG4ucHVzaChzKSl9cmV0dXJuIGV9ZnVuY3Rpb24gZXQoZSl7dmFyIHQ9WVtlLnVybF07aWYodClmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0W25dKGUuZ2V0KCksZS51cmwpfWZ1bmN0aW9uIGl0KGUsdCxuKXt0cnl7cmV0dXJuIG5ldyBGdW5jdGlvbih0LG4pfWNhdGNoKHIpe2ouZXJyb3IoIkNvbXBpbGF0aW9uIGVycm9yIGF0ICIrZSsoImxpbmUiaW4gcj8iOiIrKHIubGluZS0xKToiIikrIjogIityKX19ZnVuY3Rpb24gY3QoZSl7aWYoZSBpbiB1dD09MCl7dmFyIHQ9ZS5zcGxpdCgiLiIpLG49dC5zaGlmdCgpLHI9dC5qb2luKCIvIikrIi5qcyI7biBpbiBmdD09MCYmKGZ0W25dPVIuYmFzZVVSSStuKyIvIiksbj09ZT9yPWZ0W25dLnJlcGxhY2UoL1wvJC8sIiIpKyIuanMiOnI9ZnRbbl0rcix1dFtlXT1yLGF0W3JdPWV9cmV0dXJuIHV0W2VdfWZ1bmN0aW9uIGh0KGUpe3ZhciBuPW90W2VdO3JldHVybiBufHwobj1vdFtlXT1uZXcgbHQoZSksbi5uYW1lc3BhY2VzXz17fSxuLm5hbWVzcGFjZXNfW2VdPW4sei5ub0NvbmZsaWN0fHwoaVtlXT1uKSksZT09ImxpYnJhcnkiJiYhdCYmKHQ9b3RbZV0pLG59ZnVuY3Rpb24gcHQoZSl7ZT1lLnNwbGl0KCIuIik7dmFyIHQ9aHQoZVswXSksbj10O2Zvcih2YXIgcj0xLGk7aT1lW3JdO3IrKyl7aWYoIW5baV0pe3ZhciBzPWUuc2xpY2UoMCxyKzEpLmpvaW4oIi4iKTtuW2ldPW5ldyBsdChzKSx0Lm5hbWVzcGFjZXNfW3NdPW5baV19bj1uW2ldfXJldHVybiBvdFtlLmpvaW4oIi4iKV09bixufWZ1bmN0aW9uIHZ0KGUsdCl7IS9bXmEtejAtOV9cLl0vaS50ZXN0KGUpJiZSLmV4dG5hbWUoZSkhPSIuanMiP2U9Y3QoZSk6ZT1SLnJlc29sdmUoZSksWVtlXT9ZW2VdLnB1c2godCk6WVtlXT1bdF07dmFyIG49cnQuZ2V0KGUpO24mJm4uaXNSZXNvbHZlZCgpJiZ0KG4uZ2V0KCksbi51cmwpfWZ1bmN0aW9uIG10KGUsdCl7aWYoZSE9bnVsbCl7dmFyIG49ZS5sZW5ndGg7aWYodHlwZW9mIG49PSJ1bmRlZmluZWQifHxmLmNhbGwoZSk9PSJbb2JqZWN0IEZ1bmN0aW9uXSIpcmV0dXJuW2VdO3R8fCh0PTApO2lmKG4tdD4wKXtmb3IodmFyIHI9W10saT0wLHM9dDtzPG47KXJbaSsrXT1lW3MrK107cmV0dXJuIHJ9fXJldHVybltdfWZ1bmN0aW9uIGd0KGUsdCxuKXt2YXIgcj1bXSxpPXR5cGVvZiB0PT0iZnVuY3Rpb24iO2Zvcih2YXIgcz0wO3M8ZTtzKyspcltzXT1pP3QuY2FsbChuLHMscik6dDtyZXR1cm4gcn12YXIgdT0iMS4zLjMiLGE9aS5kb2N1bWVudCxmPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsTT1mdW5jdGlvbigpe2Z1bmN0aW9uIG8oZSl7aWYobi50ZXN0KGUpKXt2YXIgdD1lLnNwbGl0KCIuIikscj10WzBdLGk9dFsxXSxzPXRbMl0sbztzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMTpvPWZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsP2Vbcl06ZX07YnJlYWs7Y2FzZSAyOm89ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPW51bGw/ZVtyXVtpXTplfTticmVhaztjYXNlIDM6bz1mdW5jdGlvbihlKXtyZXR1cm4gZSE9bnVsbD9lW3JdW2ldW3NdOmV9O2JyZWFrO2RlZmF1bHQ6bz1mdW5jdGlvbihlKXtpZihlIT1udWxsKXtlPWVbcl1baV1bc107Zm9yKHZhciBuPTMsbztvPXRbbl07bisrKWU9ZVtvXX1yZXR1cm4gZX19cmV0dXJuIG99cmV0dXJuIG5ldyBGdW5jdGlvbigib2JqZWN0IiwicmV0dXJuIG9iamVjdCAhPSBudWxsID8gb2JqZWN0LiIrZSsiIDogb2JqZWN0Iil9dmFyIGU9ImJhc2lzR2V0dGVySWQiK2woKSsiXyIsdD0xLG49L15bYS16JF9dW2EteiRfMC05XSooXC5bYS16JF9dW2EteiRfMC05XSopKiQvaSxyPVtdLGk9e30scz17fSx1PWZ1bmN0aW9uKG4sdSl7dmFyIGEsZixsO2lmKCFufHxuPT09XylyZXR1cm4gXzt0eXBlb2Ygbj09ImZ1bmN0aW9uIj8obD1uW2VdLGw/YT1yW01hdGguYWJzKGwpLTFdOihhPWZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSxhLmJhc2U9bixhLl9fZXh0ZW5kX189TSxsPXIucHVzaChhKSxuW2VdPS1sLGFbZV09bCkpOihhPWlbbl0sYT9sPWFbZV06KGE9byhuKSxhLmJhc2U9bixhLl9fZXh0ZW5kX189TSxsPXIucHVzaChhKSxhW2VdPWwsaVtuXT1hKSk7dmFyIGM9dSE9bnVsbCYmdHlwZW9mIHU7aWYoIWMpcmV0dXJuIGE7dmFyIGg9c1tsXSxwO2lmKGM9PSJzdHJpbmciKXA9Yyt1O2Vsc2UgaWYoYz09ImZ1bmN0aW9uIilwPXUuYmFzaXNNb2RJZF87ZWxzZSBpZihjIT0ib2JqZWN0IilyZXR1cm4gYTtpZihwJiZoJiZoW3BdKXJldHVybiBoW3BdO3R5cGVvZiBhLmJhc2U9PSJmdW5jdGlvbiImJihhPWEuYmFzZSk7c3dpdGNoKGMpe2Nhc2Uic3RyaW5nIjpmPWZ1bmN0aW9uKGUpe3JldHVybiBTdC5mb3JtYXQodSxhKGUpKX07YnJlYWs7Y2FzZSJmdW5jdGlvbiI6cHx8KHA9Yyt0KyssdS5iYXNpc01vZElkXz1wKSxmPWZ1bmN0aW9uKGUpe3JldHVybiB1KGEoZSkpfTticmVhaztkZWZhdWx0OmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHVbYShlKV19fXJldHVybiBmLmJhc2U9YS5iYXNlfHxhLGYuX19leHRlbmRfXz1NLHAmJihofHwoaD17fSxzW2xdPWgpLGhbcF09ZixmLm1vZD11LGZbZV09ci5wdXNoKGYpKSxmfTtyZXR1cm4gdS5JRD1lLHV9KCksXz1jKGZ1bmN0aW9uKCl7fSx7X19leHRlbmRfXzpNfSksaj1mdW5jdGlvbigpe3ZhciBlPXtsb2c6TyxpbmZvOk8sd2FybjpPLGVycm9yOk99O3JldHVybiB0eXBlb2YgY29uc29sZSE9InVuZGVmaW5lZCImJnkoZSxmdW5jdGlvbih0KXtlW3RdPSJiaW5kImluIEZ1bmN0aW9uLnByb3RvdHlwZSYmdHlwZW9mIGNvbnNvbGVbdF09PSJmdW5jdGlvbiI/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlW3RdLGNvbnNvbGUpOmZ1bmN0aW9uKCl7RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVt0XSxjb25zb2xlLGFyZ3VtZW50cyl9fSksZX0oKSxGPWkuc2V0SW1tZWRpYXRlfHxpLm1zU2V0SW1tZWRpYXRlLEk9aS5jbGVhckltbWVkaWF0ZXx8aS5tc1NldEltbWVkaWF0ZTtGJiYoRj1GLmJpbmQoaSkpLEkmJihJPUkuYmluZChpKSksRnx8ZnVuY3Rpb24oKXt2YXIgZT0iYmFzaXNqcy5zZXRJbW1lZGlhdGUiLHQ9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PTE7cmV0dXJuIEY9ZnVuY3Rpb24ocil7aWYodHlwZW9mIHIhPSJmdW5jdGlvbiIpcmV0dXJuO3JldHVybiBlWysrdF09e2ZuOnIsYXJnczptdChhcmd1bWVudHMsMSl9LG4odCksdH0sST1mdW5jdGlvbih0KXtkZWxldGUgZVt0XX0sZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtpZihuKXJldHVybiBkZWxldGUgZVt0XSxuLmZuLmFwcGx5KHVuZGVmaW5lZCxuLmFyZ3MpfX0oKSxuPWZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGUpfSwwKX07aWYoaS5wcm9jZXNzJiZ0eXBlb2YgcHJvY2Vzcy5uZXh0VGljaz09ImZ1bmN0aW9uIiluPWZ1bmN0aW9uKGUpe3Byb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXt0KGUpfSl9O2Vsc2UgaWYoaS5NZXNzYWdlQ2hhbm5lbCl7dmFyIHI9bmV3IGkuTWVzc2FnZUNoYW5uZWw7ci5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIG49ZS5kYXRhO3Qobil9LG49ZnVuY3Rpb24oZSl7ci5wb3J0Mi5wb3N0TWVzc2FnZShlKX19ZWxzZXt2YXIgcz1pLnBvc3RNZXNzYWdlJiYhaS5pbXBvcnRTY3JpcHRzO2lmKHMpe3ZhciBvPWkub25tZXNzYWdlO2kub25tZXNzYWdlPWZ1bmN0aW9uKCl7cz0hMX0saS5wb3N0TWVzc2FnZSgiIiwiKiIpLGkub25tZXNzYWdlPW99aWYocyl7dmFyIHU9ZnVuY3Rpb24obil7aWYobiYmbi5zb3VyY2U9PWkpe3ZhciByPVN0cmluZyhuLmRhdGEpLnNwbGl0KGUpWzFdO3ImJnQocil9fTtpLmFkZEV2ZW50TGlzdGVuZXI/aS5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix1LCEwKTppLmF0dGFjaEV2ZW50KCJvbm1lc3NhZ2UiLHUpLG49ZnVuY3Rpb24odCl7aS5wb3N0TWVzc2FnZShlK3QsIioiKX19ZWxzZXt2YXIgZj1mdW5jdGlvbigpe3JldHVybiBhLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpfTtpZihhJiYib25yZWFkeXN0YXRlY2hhbmdlImluIGYoKSl7dmFyIGw9bjtuPWZ1bmN0aW9uIGMoZSl7dHlwZW9mIGt0IT0idW5kZWZpbmVkIiYmKG49bCxrdC5oZWFkLnJlYWR5KGZ1bmN0aW9uKCl7bj1mdW5jdGlvbihlKXt2YXIgbj1mKCk7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGt0LnJlbW92ZShuKSxuPW51bGwsdChlKX0sa3QuaGVhZC5hZGQobil9fSkpLG49PT1jP2woZSk6bihlKX19fX19KCk7dmFyIHE9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZmLmNhbGwocHJvY2Vzcyk9PSJbb2JqZWN0IHByb2Nlc3NdIixSPWZ1bmN0aW9uKCl7dmFyIGU9L14oW15cL10rOnxcLykvLHQ9L15bYS16QS1aMC05XC1dKzpcLz8vLG49L14oPzpbYS16QS1aMC05XC1dKzopP1wvXC9bXlwvXStcLz8vLHI9L1tcPyNdLiokLyxpLHMsbztpZihxKXt2YXIgdT0ocHJvY2Vzcy5iYXNpc2pzQmFzZVVSSXx8cmVxdWlyZSgicGF0aCIpLnJlc29sdmUoIi4iKSkucmVwbGFjZSgvXFwvZywiLyIpO2k9dS5yZXBsYWNlKC9eW15cL10qLywiIikscz11LnJlcGxhY2UoL1wvLiovLCIiKX1lbHNlIGk9bG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvW15cL10rJC8sIiIpLHM9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0O3JldHVybiBvPXtiYXNlVVJJOmksb3JpZ2luOnMsbm9ybWFsaXplOmZ1bmN0aW9uKGUpe2U9KGV8fCIiKS5yZXBsYWNlKHQsIi8iKS5yZXBsYWNlKG4sIi8iKS5yZXBsYWNlKHIsIiIpO3ZhciBpPVtdLHM9ZS5zcGxpdCgiLyIpO2Zvcih2YXIgbz0wO288cy5sZW5ndGg7bysrKXNbb109PSIuLiI/KGkubGVuZ3RoPjF8fGlbMF0pJiZpLnBvcCgpOihzW29dfHwhbykmJnNbb10hPSIuIiYmaS5wdXNoKHNbb10pO3JldHVybiBpLmpvaW4oIi8iKXx8KGVbMF09PT0iLyI/Ii8iOiIiKX0sZGlybmFtZTpmdW5jdGlvbihlKXt2YXIgdD1vLm5vcm1hbGl6ZShlKTtyZXR1cm4gdC5yZXBsYWNlKC9cLyhbXlwvXSopJHxeW15cL10rJC8sIiIpfHwodFswXT09Ii8iPyIvIjoiLiIpfSxleHRuYW1lOmZ1bmN0aW9uKGUpe3ZhciB0PW8ubm9ybWFsaXplKGUpLm1hdGNoKC9bXlwvXShcLlteXC9cLl0qKSQvKTtyZXR1cm4gdD90WzFdOiIifSxiYXNlbmFtZTpmdW5jdGlvbihlLHQpe3ZhciBuPW8ubm9ybWFsaXplKGUpLm1hdGNoKC9bXlxcXC9dKiQvKTtyZXR1cm4gbj1uP25bMF06IiIsdD09by5leHRuYW1lKG4pJiYobj1uLnN1YnN0cmluZygwLG4ubGVuZ3RoLXQubGVuZ3RoKSksbn0scmVzb2x2ZTpmdW5jdGlvbih0LG4pe3ZhciByPW10KGFyZ3VtZW50cykucmV2ZXJzZSgpLHM9W10sdT0hMTtmb3IodmFyIGE9MDshdSYmYTxyLmxlbmd0aDthKyspdHlwZW9mIHJbYV09PSJzdHJpbmciJiYocy51bnNoaWZ0KHJbYV0pLHU9ZS50ZXN0KHJbYV0pKTtyZXR1cm4gdXx8cy51bnNoaWZ0KGk9PSIvIj8iIjppKSxvLm5vcm1hbGl6ZShzLmpvaW4oIi8iKSl9LHJlbGF0aXZlOmZ1bmN0aW9uKGUsdCl7dHlwZW9mIHQhPSJzdHJpbmciJiYodD1lLGU9aSksZT1vLm5vcm1hbGl6ZShlKSx0PW8ubm9ybWFsaXplKHQpO2lmKGVbMF09PSIvIiYmdFswXSE9Ii8iKXJldHVybiBlO2lmKHRbMF09PSIvIiYmZVswXSE9Ii8iKXJldHVybiB0O3ZhciBuPWUucmVwbGFjZSgvXlwvJC8sIiIpLnNwbGl0KC9cLy8pLHI9dC5yZXBsYWNlKC9eXC8kLywiIikuc3BsaXQoL1wvLykscz1bXSx1PTA7d2hpbGUoclt1XT09blt1XSYmdHlwZW9mIG5bdV09PSJzdHJpbmciKXUrKztmb3IodmFyIGE9bi5sZW5ndGgtdTthPjA7YS0tKXMucHVzaCgiLi4iKTtyZXR1cm4gcy5jb25jYXQoci5zbGljZSh1KS5maWx0ZXIoQm9vbGVhbikpLmpvaW4oIi8iKX19LG99KCksVT1zfHwiIix6PW98fHtub0NvbmZsaWN0OiEwLG1vZHVsZXM6e30sYXV0b2xvYWQ6WyIuLzAuanMiXX0sVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIHR5cGVvZiBlPT0iZnVuY3Rpb24iJiYhIWUuYmFzaXNDbGFzc0lkX31mdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7d2hpbGUodCYmdCE9PWUpdD10LnN1cGVyQ2xhc3NfO3JldHVybiB0PT09ZX1mdW5jdGlvbiBzKGUsdCxuKXtyZXR1cm4obmV3IEZ1bmN0aW9uKHAodCksJ3JldHVybiB7IicrZSsnIjogJytuKydcbn1bIicrZSsnIl0nKSkuYXBwbHkobnVsbCxkKHQpKX1mdW5jdGlvbiB1KHMsbyl7dmFyIGY9dCsrO3R5cGVvZiBzIT0iZnVuY3Rpb24iJiYocz1sKTt2YXIgaD1mdW5jdGlvbigpe307aC5wcm90b3R5cGU9cy5wcm90b3R5cGU7dmFyIHA9bmV3IGgsZD17YmFzaXNDbGFzc0lkXzpmLHN1cGVyQ2xhc3NfOnMsZXh0ZW5kQ29uc3RydWN0b3JfOiEhcy5leHRlbmRDb25zdHJ1Y3Rvcl8saXNTdWJjbGFzc09mOmksc3ViY2xhc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdS5hcHBseShudWxsLFtnXS5jb25jYXQobXQoYXJndW1lbnRzKSkpfSxleHRlbmQ6YSxfX2V4dGVuZF9fOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlIT09biYmKHR5cGVvZiBlPT0ib2JqZWN0Inx8dHlwZW9mIGU9PSJmdW5jdGlvbiImJiFyKGUpKT9sLmNyZWF0ZS5jYWxsKG51bGwsZyxlKTplfSxwcm90b3R5cGU6cH07Zm9yKHZhciB2PTEsbTttPWFyZ3VtZW50c1t2XTt2KyspZC5leHRlbmQobSk7dmFyIGc9ZC5leHRlbmRDb25zdHJ1Y3Rvcl8/ZnVuY3Rpb24odCl7dGhpcy5iYXNpc09iamVjdElkPWUuaWQrKzt2YXIgbjtmb3IodmFyIHIgaW4gdCluPXRoaXNbcl0sdGhpc1tyXT1uJiZuLl9fZXh0ZW5kX18/bi5fX2V4dGVuZF9fKHRbcl0pOnRbcl07dGhpcy5pbml0KCksdGhpcy5wb3N0SW5pdCgpfTpmdW5jdGlvbigpe3RoaXMuYmFzaXNPYmplY3RJZD1lLmlkKyssdGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnBvc3RJbml0KCl9O3AuY29uc3RydWN0b3I9Zztmb3IodmFyIHkgaW4gcClwW3ldPT09biYmKHBbeV09Zyk7cmV0dXJuIGMoZyxkKSxnfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9dGhpcy5wcm90b3R5cGU7dHlwZW9mIGU9PSJmdW5jdGlvbiImJiFyKGUpJiYoZT1lKHRoaXMuc3VwZXJDbGFzc18ucHJvdG90eXBlLHYodCkpKSxlLnByb3RvdHlwZSYmKGU9ZS5wcm90b3R5cGUpO2Zvcih2YXIgbiBpbiBlKXt2YXIgaT1lW25dLHM9dFtuXTtuPT0iY2xhc3NOYW1lInx8bj09ImV4dGVuZENvbnN0cnVjdG9yXyI/dGhpc1tuXT1pOnMmJnMuX19leHRlbmRfXz90W25dPXMuX19leHRlbmRfXyhpKTp0W25dPWl9cmV0dXJuIG8mJmVbbj0idG9TdHJpbmciXSE9PWYmJih0W25dPWVbbl0pLHRoaXN9dmFyIGU9e2lkOjF9LHQ9MSxuPXt9LG89ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW57dG9TdHJpbmc6MX0pcmV0dXJuITE7cmV0dXJuITB9KCksbD1jKHUse2NsYXNzTmFtZToiYmFzaXMuQ2xhc3MiLGV4dGVuZENvbnN0cnVjdG9yXzohMSxwcm90b3R5cGU6e2Jhc2lzT2JqZWN0SWQ6MCxjb25zdHJ1Y3RvcjpudWxsLGluaXQ6ZnVuY3Rpb24oKXt9LHBvc3RJbml0OmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMpaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLGUpJiYodGhpc1tlXT1udWxsKTt0aGlzLmRlc3Ryb3k9T319fSksaD1mdW5jdGlvbihlLHQsbil7cmV0dXJue19fZXh0ZW5kX186ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIGU7aWYoZSYmZS5fX2V4dGVuZF9fKXJldHVybiBlO3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT10aGlzO3ZhciByPW5ldyBuO3JldHVybiB0KHIsZSkscn19Ll9fZXh0ZW5kX18oZXx8e30pfSxtPWZ1bmN0aW9uKGUpe3JldHVybiBoKGUsYywiZXh0ZW5zaWJsZVByb3BlcnR5Iil9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgcj1lW25dO2Vbbl09ciYmci5fX2V4dGVuZF9fP3IuX19leHRlbmRfXyh0W25dKTptKHRbbl0pfX0sIm5lc3RlZEV4dGVuZFByb3BlcnR5Iil9LHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgcj17X19leHRlbmRfXzpufTtpZih0KXtpZih0Ll9fZXh0ZW5kX18pcmV0dXJuIHQ7Zm9yKHZhciBpIGluIHQpdFtpXSYmKHJbaV09ZSl9cmV0dXJuIHJ9O3JldHVybiBuKHR8fHt9KX07cmV0dXJuIGMobCx7U0VMRjpuLGNyZWF0ZTp1LGlzQ2xhc3M6cixjdXN0b21FeHRlbmRQcm9wZXJ0eTpoLGV4dGVuc2libGVQcm9wZXJ0eTptLG5lc3RlZEV4dGVuZFByb3BlcnR5Omcsb25lRnVuY3Rpb25Qcm9wZXJ0eTp5fSl9KCksJD1WKG51bGwse2NsYXNzTmFtZToiYmFzaXMuVG9rZW4iLHZhbHVlOm51bGwsaGFuZGxlcjpudWxsLGRlZmVycmVkVG9rZW46bnVsbCxiaW5kaW5nQnJpZGdlOnthdHRhY2g6ZnVuY3Rpb24oZSx0LG4pe2UuYXR0YWNoKHQsbil9LGRldGFjaDpmdW5jdGlvbihlLHQsbil7ZS5kZXRhY2godCxuKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldCgpfX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLnZhbHVlPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy52YWx1ZSE9PWUmJih0aGlzLnZhbHVlPWUsdGhpcy5hcHBseSgpKX0sYXR0YWNoOmZ1bmN0aW9uKGUsdCl7dGhpcy5oYW5kbGVyPXtmbjplLGNvbnRleHQ6dCxoYW5kbGVyOnRoaXMuaGFuZGxlcn19LGRldGFjaDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscjt3aGlsZShyPW4sbj1uLmhhbmRsZXIpaWYobi5mbj09PWUmJm4uY29udGV4dD09PXQpe24uZm49TyxyLmhhbmRsZXI9bi5oYW5kbGVyO3JldHVybn19LGFwcGx5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXQoKSx0PXRoaXM7d2hpbGUodD10LmhhbmRsZXIpdC5mbi5jYWxsKHQuY29udGV4dCxlKX0sZGVmZXJyZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRlZmVycmVkVG9rZW47cmV0dXJuIGV8fChlPXRoaXMuZGVmZXJyZWRUb2tlbj1uZXcgSyh0aGlzLnZhbHVlKSx0aGlzLmF0dGFjaChlLnNldCxlKSksZX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVmZXJyZWRUb2tlbiYmKHRoaXMuZGVmZXJyZWRUb2tlbi5kZXN0cm95KCksdGhpcy5kZWZlcnJlZFRva2VuPW51bGwpLHRoaXMuaGFuZGxlcj1udWxsLHRoaXMudmFsdWU9bnVsbCx0aGlzLmF0dGFjaD1PLHRoaXMuZGV0YWNoPU99fSksSj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt2YXIgbj1lO2U9e30sdD1udWxsO2Zvcih2YXIgciBpbiBuKW5bcl0uYXBwbHkoKX12YXIgZT17fSx0O3JldHVybiBmdW5jdGlvbihyKXtpZihyLmJhc2lzT2JqZWN0SWQgaW4gZSlyZXR1cm47ZVtyLmJhc2lzT2JqZWN0SWRdPXIsdHx8RihuKX19KCksSz0kLnN1YmNsYXNzKHtjbGFzc05hbWU6ImJhc2lzLkRlZmVycmVkVG9rZW4iLHNldDpmdW5jdGlvbihlKXt0aGlzLnZhbHVlIT09ZSYmKHRoaXMudmFsdWU9ZSxKKHRoaXMpKX0sZGVmZXJyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KSxRPXt9LEc9e30sWT17fSxaPTE7KGZ1bmN0aW9uKCl7dmFyIGU9dHlwZW9mIG4hPSJ1bmRlZmluZWQiP246bnVsbDtpZihlKWZvcih2YXIgdCBpbiBlKUdbUi5yZXNvbHZlKHQpXT1lW3RdfSkoKTt2YXIgdHQ9ZnVuY3Rpb24oZSx0KXtpZih0fHwhRy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG49IiI7aWYoIXEpe3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdDtyLm9wZW4oIkdFVCIsZSwhMSksci5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsKG5ldyBEYXRlKDApKS50b0dNVFN0cmluZygpKSxyLnNldFJlcXVlc3RIZWFkZXIoIlgtQmFzaXMtUmVzb3VyY2UiLDEpLHIuc2VuZCgiIiksci5zdGF0dXM+PTIwMCYmci5zdGF0dXM8NDAwJiYobj1yLnJlc3BvbnNlVGV4dCl9ZWxzZSB0cnl7bj1wcm9jZXNzLmJhc2lzanNSZWFkRmlsZT9wcm9jZXNzLmJhc2lzanNSZWFkRmlsZShlKTpyZXF1aXJlKCJmcyIpLnJlYWRGaWxlU3luYyhlLCJ1dGYtOCIpfWNhdGNoKGkpe31HW2VdPW59cmV0dXJuIEdbZV19LG50PWZ1bmN0aW9uKGUsdCl7dmFyIG49Ui5leHRuYW1lKGUpLHI9cnQuZXh0ZW5zaW9uc1tuXSxpPWFyZ3VtZW50cy5sZW5ndGg+MSxzPSExLG89ITE7aSYmKGUrPSIjdmlydHVhbCIpO3ZhciB1PWZ1bmN0aW9uKCl7aWYocylyZXR1cm4gdDt2YXIgbj1pP3Q6dHQoZSk7cmV0dXJuIHI/b3x8KG89ITAsdD1yKG4sZSkpOnQ9bixzPSEwLGV0KHUpLHUuYXBwbHkoKSx0fTtyZXR1cm4gYyh1LGMobmV3ICQse3VybDplLHR5cGU6bix2aXJ0dWFsOmksZmV0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbYmFzaXMucmVzb3VyY2UgIitlKyJdIn0saXNSZXNvbHZlZDpmdW5jdGlvbigpe3JldHVybiBzfSx1cGRhdGU6ZnVuY3Rpb24obil7aWYoIXN8fGl8fG4hPUdbZV0paXx8KEdbZV09bikscj8oIW8mJmkmJih0PW4pLG8mJiFyLnBlcm1hbmVudCYmKHQ9cihuLGUsdCksZXQodSksdS5hcHBseSgpKSk6KHQ9bixzPSEwLGV0KHUpLHUuYXBwbHkoKSl9LHJlbG9hZDpmdW5jdGlvbigpe2lmKGkpcmV0dXJuO3ZhciB0PUdbZV0sbj10dChlLCEwKTtuIT10JiYocz0hMSx1LnVwZGF0ZShuKSl9LGdldDpmdW5jdGlvbihuKXtyZXR1cm4gaSYmbj9yP3dyYXBwZWRDb250ZW50OnQ6bj90dChlKTp1KCl9LHJlYWR5OmZ1bmN0aW9uKGUsdCl7aWYocyl7ZS5jYWxsKHQsdSgpKTtpZihyJiZyLnBlcm1hbmVudClyZXR1cm59cmV0dXJuIHUuYXR0YWNoKGUsdCksdX19KSksUVtlXT11LHV9LHJ0PWZ1bmN0aW9uKGUpe3ZhciB0PVFbZV07cmV0dXJuIHQ/dDooZT1SLnJlc29sdmUoZSksdD1RW2VdLHR8fG50KGUpKX07YyhydCx7aXNSZXNvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9RW2UudXJsXT09PWU6ITF9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9cnQuZ2V0KGUpO3JldHVybiB0P3QuaXNSZXNvbHZlZCgpOiExfSxleGlzdHM6ZnVuY3Rpb24oZSl7cmV0dXJuIFEuaGFzT3duUHJvcGVydHkoUi5yZXNvbHZlKGUpKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlPVIucmVzb2x2ZShlKSxydC5leGlzdHMoZSk/cnQoZSk6bnVsbH0sZ2V0RmlsZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHAoZT9HOlEpLm1hcChSLnJlbGF0aXZlKX0sdmlydHVhbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG50KChuP24rIjoiOlIubm9ybWFsaXplKFIuYmFzZVVSST09Ii8iPyIiOlIuYmFzZVVSSSkrIi8iKSsidmlydHVhbC1yZXNvdXJjZSIrWisrICsiLiIrZSx0KX0sZXh0ZW5zaW9uczp7Ii5qcyI6YyhmdW5jdGlvbihlLHQpe3ZhciBuPWF0W3RdO2lmKCFuKXt2YXIgcj0hMCxpPVIuZGlybmFtZSh0KSsiLyIrUi5iYXNlbmFtZSh0LFIuZXh0bmFtZSh0KSk7Zm9yKHZhciBzIGluIGZ0KXt2YXIgbz1mdFtzXStzKyIvIjtpZihpLnN1YnN0cigwLG8ubGVuZ3RoKT09byl7cj0hMSxpPWkuc3Vic3RyKGZ0W3NdLmxlbmd0aCk7YnJlYWt9fW49aS5yZXBsYWNlKC9cLi9nLCJfIikucmVwbGFjZSgvXlwvL2csIiIpLnJlcGxhY2UoL1wvL2csIi4iKSxyJiYobj0iaW1wbGljaXQuIituKX1pZighb3Rbbl0pe3ZhciBzPXB0KG4pO3MuZXhwb3J0cz1zdCh7cGF0aDpzLnBhdGgsZXhwb3J0czpzLmV4cG9ydHN9LHQsZSkuZXhwb3J0cyxzLmV4cG9ydHMmJnMuZXhwb3J0cy5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmaChzLHMuZXhwb3J0cyl9cmV0dXJuIG90W25dLmV4cG9ydHN9LHtwZXJtYW5lbnQ6ITB9KSwiLmNzcyI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBufHwobj1uZXcgQXQodCkpLG4udXBkYXRlQ3NzVGV4dChlKSxufSwiLmpzb24iOmZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGU9PSJvYmplY3QiKXJldHVybiBlO3ZhciBuO3RyeXtlPVN0cmluZyhlKSxuPU90Lmpzb24ucGFyc2UoZSl9Y2F0Y2gocil7fXJldHVybiBufHxudWxsfX19KTt2YXIgc3Q9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVIuZGlybmFtZSh0KSsiLyIscz1uO3JldHVybiBlLmV4cG9ydHN8fChlLmV4cG9ydHM9e30pLHR5cGVvZiBzIT0iZnVuY3Rpb24iJiYocz1pdCh0LFsiZXhwb3J0cyIsIm1vZHVsZSIsImJhc2lzIiwiZ2xvYmFsIiwiX19maWxlbmFtZSIsIl9fZGlybmFtZSIsInJlc291cmNlIiwicmVxdWlyZSJdLCcidXNlIHN0cmljdCI7XG4nK24pKSx0eXBlb2Ygcz09ImZ1bmN0aW9uIiYmcy5jYWxsKGUuZXhwb3J0cyxlLmV4cG9ydHMsZSxPdCxpLHQscixmdW5jdGlvbihlKXtyZXR1cm4gcnQoUi5yZXNvbHZlKHIsZSkpfSxmdW5jdGlvbihlLHQpe3JldHVybiBkdChlLHR8fHIpfSksZX0sb3Q9e30sdXQ9e30sYXQ9e30sZnQ9e307eSh6Lm1vZHVsZXMsZnVuY3Rpb24oZSx0KXtmdFtlXT10LnBhdGgrIi8iLHV0W2VdPXQuZmlsZW5hbWUsYXRbdC5maWxlbmFtZV09ZX0pLGZ1bmN0aW9uKHQpe3ZhciB0PXR5cGVvZiBlIT0idW5kZWZpbmVkIj9lOm51bGw7aWYodClmb3IodmFyIG4gaW4gdCl7dmFyIHI9Ui5yZXNvbHZlKG4pLGk9dFtuXTthdFtyXT1pLHV0W2ldPXJ9fSgpO3ZhciBsdD1WKG51bGwse2NsYXNzTmFtZToiYmFzaXMuTmFtZXNwYWNlIixpbml0OmZ1bmN0aW9uKGUpe3RoaXMubmFtZT1lLHRoaXMuZXhwb3J0cz17cGF0aDp0aGlzLm5hbWV9fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbYmFzaXMubmFtZXNwYWNlICIrdGhpcy5wYXRoKyJdIn0sZXh0ZW5kOmZ1bmN0aW9uKGUpe3JldHVybiBjKHRoaXMuZXhwb3J0cyxlKSxoKHRoaXMsZSl9fSksZHQ9ZnVuY3Rpb24oKXtpZihxKXt2YXIgZT1tb2R1bGUuY29uc3RydWN0b3IucHJvdG90eXBlO3JldHVybiBmdW5jdGlvbih0LG4pe2lmKCEvW15hLXowLTlfXC5dL2kudGVzdCh0KXx8Ui5leHRuYW1lKHQpPT0iLmpzIil7dmFyIHI9ZS5fY29tcGlsZSxpPXB0KHQpO2UuX2NvbXBpbGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmJhc2lzPU90LGU9J3ZhciBfX25vZGVqc1JlcXVpcmUgPSByZXF1aXJlO1xudmFyIGJhc2lzID0gbW9kdWxlLmJhc2lzO1xudmFyIHJlc291cmNlID0gZnVuY3Rpb24oZmlsZW5hbWUpeyByZXR1cm4gYmFzaXMucmVzb3VyY2UoX19kaXJuYW1lICsgIi8iICsgZmlsZW5hbWUpIH07XG52YXIgcmVxdWlyZSA9IGZ1bmN0aW9uKGZpbGVuYW1lLCBiYXNlVVJJKXsgcmV0dXJuIGJhc2lzLnJlcXVpcmUoZmlsZW5hbWUsIGJhc2VVUkkgfHwgX19kaXJuYW1lKSB9O1xuJytlLHIuY2FsbChjKHRoaXMsaSksZSx0KX07dmFyIHM9cmVxdWlyZShfX2Rpcm5hbWUrIi8iK3QucmVwbGFjZSgvXC4vZywiLyIpKTtyZXR1cm4gaS5leHBvcnRzPXMscyYmcy5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmaChpLHMpLGUuX2NvbXBpbGU9cixzfXJldHVybiB0PVIucmVzb2x2ZShuLHQpLHJlcXVpcmUodCl9fXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiEvW15hLXowLTlfXC5dL2kudGVzdChlKSYmUi5leHRuYW1lKGUpIT0iLmpzIj9lPWN0KGUpOmU9Ui5yZXNvbHZlKHQsZSkscnQoZSkuZmV0Y2goKX19KCk7aChGdW5jdGlvbi5wcm90b3R5cGUse2JpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPW10KGFyZ3VtZW50cywxKTtyZXR1cm4gbi5sZW5ndGg/ZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0LmFwcGx5KG4sYXJndW1lbnRzKSl9OmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19KSxoKEFycmF5LHtpc0FycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBmLmNhbGwoZSk9PT0iW29iamVjdCBBcnJheV0ifX0pLGgoQXJyYXkucHJvdG90eXBlLHtpbmRleE9mOmZ1bmN0aW9uKGUsdCl7dD1wYXJzZUludCh0LDEwKXx8MDtpZih0PDApcmV0dXJuLTE7Zm9yKDt0PHRoaXMubGVuZ3RoO3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sbGFzdEluZGV4T2Y6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmxlbmd0aDt0PXBhcnNlSW50KHQsMTApLGlzTmFOKHQpfHx0Pj1uP3Q9bi0xOnQ9KHQrbiklbjtmb3IoO3Q+PTA7dC0tKWlmKHRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSxmb3JFYWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj10aGlzLmxlbmd0aDtuPHI7bisrKW4gaW4gdGhpcyYmZS5jYWxsKHQsdGhpc1tuXSxuLHRoaXMpfSxldmVyeTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9dGhpcy5sZW5ndGg7bjxyO24rKylpZihuIGluIHRoaXMmJiFlLmNhbGwodCx0aGlzW25dLG4sdGhpcykpcmV0dXJuITE7cmV0dXJuITB9LHNvbWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPXRoaXMubGVuZ3RoO248cjtuKyspaWYobiBpbiB0aGlzJiZlLmNhbGwodCx0aGlzW25dLG4sdGhpcykpcmV0dXJuITA7cmV0dXJuITF9LGZpbHRlcjpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2Zvcih2YXIgcj0wLGk9dGhpcy5sZW5ndGg7cjxpO3IrKylyIGluIHRoaXMmJmUuY2FsbCh0LHRoaXNbcl0scix0aGlzKSYmbi5wdXNoKHRoaXNbcl0pO3JldHVybiBufSxtYXA6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtmb3IodmFyIHI9MCxpPXRoaXMubGVuZ3RoO3I8aTtyKyspciBpbiB0aGlzJiYobltyXT1lLmNhbGwodCx0aGlzW3JdLHIsdGhpcykpO3JldHVybiBufSxyZWR1Y2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmxlbmd0aCxyPWFyZ3VtZW50cy5sZW5ndGg7aWYobj09MCYmcj09MSl0aHJvdyAxO3ZhciBpLHM9MDtyPjEmJihpPXQscz0xKTtmb3IodmFyIG89MDtvPG47bysrKW8gaW4gdGhpcyYmKHMrKz9pPWUuY2FsbChudWxsLGksdGhpc1tvXSxvLHRoaXMpOmk9dGhpc1tvXSk7cmV0dXJuIGl9fSk7dmFyIHl0PXtmcm9tOm10LGNyZWF0ZTpndCxmbGF0dGVuOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbmNhdC5hcHBseShbXSxlKX0scmVwZWF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHl0LmZsYXR0ZW4oZ3QocGFyc2VJbnQodCwxMCl8fDAsZSkpfSxzZWFyY2g6ZnVuY3Rpb24oZSx0LG4scil7ZS5sYXN0U2VhcmNoSW5kZXg9LTEsbj1NKG58fE4pO2Zvcih2YXIgaT1wYXJzZUludChyLDEwKXx8MCxzPWUubGVuZ3RoO2k8cztpKyspaWYobihlW2ldKT09PXQpcmV0dXJuIGVbZS5sYXN0U2VhcmNoSW5kZXg9aV19LGxhc3RTZWFyY2g6ZnVuY3Rpb24oZSx0LG4scil7ZS5sYXN0U2VhcmNoSW5kZXg9LTEsbj1NKG58fE4pO3ZhciBpPWUubGVuZ3RoLHM9aXNOYU4ocil8fHI9PW51bGw/aTpwYXJzZUludChyLDEwKTtmb3IodmFyIG89cz5pP2k6cztvLS0+MDspaWYobihlW29dKT09PXQpcmV0dXJuIGVbZS5sYXN0U2VhcmNoSW5kZXg9b119LGFkZDpmdW5jdGlvbihlLHQpe3JldHVybiBlLmluZGV4T2YodCk9PS0xJiYhIWUucHVzaCh0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5pbmRleE9mKHQpO3JldHVybiBuIT0tMSYmISFlLnNwbGljZShuLDEpfSxoYXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleE9mKHQpIT0tMX0sc29ydEFzT2JqZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHl0LnNvcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzb3J0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0PU0odCkscj1yPy0xOjEsZS5tYXAoZnVuY3Rpb24oZSxuKXtyZXR1cm57aTpuLHY6dChlKX19KS5zb3J0KG58fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIqKGUudj50LnZ8fC0oZS52PHQudil8fChlLmk+dC5pPzE6LTEpKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tlLmldfSxlKX19O2lmKCFbMSwyXS5zcGxpY2UoMSkubGVuZ3RoKXt2YXIgYnQ9QXJyYXkucHJvdG90eXBlLnNwbGljZTtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKCl7dmFyIGU9bXQoYXJndW1lbnRzKTtyZXR1cm4gZS5sZW5ndGg8MiYmKGVbMV09dGhpcy5sZW5ndGgpLGJ0LmFwcGx5KHRoaXMsZSl9fXZhciB3dD0vKFtcL1xcXChcKVxbXF1cP1x7XH1cfFwqXCtcLVwuXF5cJF0pL2csRXQ9L1x7KFthLXpcZF9dKykoPzo6KFtcLjBdKShcZCspfDooXD8pKT9cfS9naTtoKFN0cmluZyx7dG9Mb3dlckNhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfSx0b1VwcGVyQ2FzZTpmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnRvVXBwZXJDYXNlKCl9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS50cmltKCl9LHRyaW1MZWZ0OmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkudHJpbUxlZnQoKX0sdHJpbVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkudHJpbVJpZ2h0KCl9fSksaChTdHJpbmcucHJvdG90eXBlLHt0cmltTGVmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoL15ccysvLCIiKX0sdHJpbVJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwbGFjZSgvXHMrJC8sIiIpfSx0cmltOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJpbUxlZnQoKS50cmltUmlnaHQoKX19KTt2YXIgU3Q9e3RvT2JqZWN0OmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybihuZXcgRnVuY3Rpb24oInJldHVybiAwLCIrZSkpKCl9Y2F0Y2gobil7aWYodCl0aHJvdyAyfX0scmVwZWF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKG5ldyBBcnJheShwYXJzZUludCh0LDEwKSsxfHwwKSkuam9pbihlKX0scXc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50cmltKCk7cmV0dXJuIHQ/dC5zcGxpdCgvXHMrLyk6W119LGZvclJlZ0V4cDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHd0LCJcXCQxIil9LGZvcm1hdDpmdW5jdGlvbihlLHQpe3ZhciBuPW10KGFyZ3VtZW50cywxKTtyZXR1cm4gdHlwZW9mIHQ9PSJvYmplY3QiJiZjKG4sdCksZS5yZXBsYWNlKEV0LGZ1bmN0aW9uKGUsdCxyLGkscyl7dmFyIG89dCBpbiBuP25bdF06cz8iIjplO3JldHVybiByJiYhaXNOYU4obyk/KG89TnVtYmVyKG8pLHI9PSIuIj9vLnRvRml4ZWQoaSk6TnQubGVhZChvLGkpKTpvfSl9LGNhcGl0YWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKX0sY2FtZWxpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvLSguKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfSxkYXNoZXJpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihlKXtyZXR1cm4iLSIrZS50b0xvd2VyQ2FzZSgpfSl9LGlzRW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW51bGx8fFN0cmluZyhlKT09IiJ9LGlzTm90RW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPW51bGwmJlN0cmluZyhlKSE9IiJ9fTtpZigifHx8Ii5zcGxpdCgvXHwvKS5sZW5ndGgrInx8fCIuc3BsaXQoLyhcfCkvKS5sZW5ndGghPTExKXt2YXIgeHQ9U3RyaW5nLnByb3RvdHlwZS5zcGxpdDtTdHJpbmcucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKGUsdCl7aWYoIWV8fGUgaW5zdGFuY2VvZiBSZWdFeHA9PTB8fGUuc291cmNlPT0iIilyZXR1cm4geHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBuPVtdLHI9MCxpO2UuZ2xvYmFsfHwoZT1uZXcgUmVnRXhwKGUuc291cmNlLC9cLyhbbWldKikkLy5leGVjKGUpWzFdKyJnIikpO3doaWxlKGk9ZS5leGVjKHRoaXMpKWlbMF09dGhpcy5zdWJzdHJpbmcocixpLmluZGV4KSxuLnB1c2guYXBwbHkobixpKSxyPWUubGFzdEluZGV4O3JldHVybiBuLnB1c2godGhpcy5zdWJzdHIocikpLG59fWlmKCIxMiIuc3Vic3RyKC0xKSE9IjIiKXt2YXIgVHQ9U3RyaW5nLnByb3RvdHlwZS5zdWJzdHI7U3RyaW5nLnByb3RvdHlwZS5zdWJzdHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVHQuY2FsbCh0aGlzLGU8MD9NYXRoLm1heCgwLHRoaXMubGVuZ3RoK2UpOmUsdCl9fXZhciBOdD17Zml0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4haXNOYU4odCkmJmU8dD9OdW1iZXIodCk6IWlzTmFOKG4pJiZlPm4/TnVtYmVyKG4pOmV9LGxlYWQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZSgvXGQrLyxmdW5jdGlvbihlKXtyZXR1cm4odC09ZS5sZW5ndGgtMSk+MT8obmV3IEFycmF5KHQpKS5qb2luKG58fDApK2U6ZX0pfSxncm91cDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC9cZCsvLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xkL2csZnVuY3Rpb24ocixpKXtyZXR1cm4haSsoZS5sZW5ndGgtaSklKHR8fDMpP3I6KG58fCIgIikrcn0pfSl9LGZvcm1hdDpmdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIG89ZS50b0ZpeGVkKHQpO2lmKG58fHMpbz1vLnJlcGxhY2UoLyhcZCspKFwuPykvLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4obj9PdC5udW1iZXIuZ3JvdXAoTnVtYmVyKHQpLDMsbik6dCkrKHI/c3x8cjoiIil9KTtyZXR1cm4gciYmKG89by5yZXBsYWNlKC9eLT8vLCIkJiIrKHJ8fCIiKSkpLG8rKGl8fCIiKX19O2goRGF0ZSx7bm93OmZ1bmN0aW9uKCl7cmV0dXJuIE51bWJlcihuZXcgRGF0ZSl9fSk7dmFyIEN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiBhLnJlYWR5U3RhdGU9PSJjb21wbGV0ZSImJiEhYS5ib2R5fWZ1bmN0aW9uIHIoZSl7ZS5jYWxsYmFjay5jYWxsKGUuY29udGV4dCl9ZnVuY3Rpb24gcygpe2lmKGUoKSYmISh0KyspKXdoaWxlKG4pcihuKSxuPW4ubmV4dH1mdW5jdGlvbiBvKCl7dHJ5e2EuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCJsZWZ0IikscygpfWNhdGNoKGUpe3NldFRpbWVvdXQobywxKX19dmFyIHQ9IWF8fGUoKSxuO2lmKCF0KWlmKGEuYWRkRXZlbnRMaXN0ZW5lcilhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLHMsITEpLGkuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIscywhMSk7ZWxzZXthLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHMpLGkuYXR0YWNoRXZlbnQoIm9ubG9hZCIscyk7dHJ5eyFpLmZyYW1lRWxlbWVudCYmYS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJm8oKX1jYXRjaCh1KXt9fXJldHVybiBmdW5jdGlvbihlLGkpe3Q/cih7Y2FsbGJhY2s6ZSxjb250ZXh0Oml9KTpuPXtjYWxsYmFjazplLGNvbnRleHQ6aSxuZXh0Om59fX0oKSxrdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSl7aWYoYSYmIXRbZV0pe3RbZV09YVtlXXx8YS5nZXRFbGVtZW50c0J5VGFnTmFtZShlKVswXTtpZih0W2VdKXt2YXIgcj1uW2VdO2RlbGV0ZSBuW2VdO2Zvcih2YXIgaT0wLHM7cz1yW2ldO2krKylzWzBdLmNhbGwoc1sxXSx0W2VdKX19cmV0dXJuIHRbZV19ZnVuY3Rpb24gaSgpe3ZhciBlPXRoaXNbMF0sdD10aGlzWzFdLHM9dGhpc1syXTtvKHQpO3ZhciB1PXIoZSk7aWYodSl7cz09PSEwJiYocz11LmZpcnN0Q2hpbGQpO2lmKCFzfHxzLnBhcmVudE5vZGUhPT11KXM9bnVsbDt1Lmluc2VydEJlZm9yZSh0LHMpfWVsc2UgbltlXS5wdXNoKFtpLFtlLHQsc11dKX1mdW5jdGlvbiBzKGUscixpKXtuW2VdP25bZV0ucHVzaChbcixpXSk6ci5jYWxsKGksdFtlXSl9ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQgaW4gbil7dmFyIHI9eXQuc2VhcmNoKG5bdF0sZSxmdW5jdGlvbihlKXtyZXR1cm4gZVsxXSYmZVsxXVsxXX0pO3ImJnl0LnJlbW92ZShuW3RdLHIpfWUmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLm5vZGVUeXBlPT0xJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gdSgpe2UmJnIoImhlYWQiKSYmcigiYm9keSIpJiYoZT1jbGVhckludGVydmFsKGUpKX12YXIgZSx0PXt9LG49e2hlYWQ6W10sYm9keTpbXX07cmV0dXJuIGEmJighcigiaGVhZCIpfHwhcigiYm9keSIpKSYmKGU9c2V0SW50ZXJ2YWwodSw1KSxDdCh1KSkse2hlYWQ6e3JlYWR5OmZ1bmN0aW9uKGUsdCl7cygiaGVhZCIsZSx0KX0sYWRkOmZ1bmN0aW9uKGUsdCl7aS5jYWxsKFsiaGVhZCIsZSx0XSl9fSxib2R5OntyZWFkeTpmdW5jdGlvbihlLHQpe3MoImJvZHkiLGUsdCl9LGFkZDpmdW5jdGlvbihlLHQpe2kuY2FsbChbImJvZHkiLGUsdF0pfX0scmVtb3ZlOm99fSgpLEx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtuLmdsb2JhbERlc3Ryb3k9ITAsbi5hZGQ9TyxuLnJlbW92ZT1PO3ZhciByO3doaWxlKHI9ZS5wb3AoKSlpZih0eXBlb2Ygci5kZXN0cm95PT0iZnVuY3Rpb24iKXRyeXtyLmRlc3Ryb3koKX1jYXRjaChpKXt9ZWxzZSBmb3IodmFyIHMgaW4gcilyW3NdPW51bGw7ZS5sZW5ndGg9MH12YXIgZT1bXTtpZigiYXR0YWNoRXZlbnQiaW4gaSlpLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsdCk7ZWxzZXtpZighKCJhZGRFdmVudExpc3RlbmVyImluIGkpKXJldHVybnthZGQ6TyxyZW1vdmU6T307aS5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLHQsITEpfXZhciBuPXthZGQ6ZnVuY3Rpb24odCl7dCE9bnVsbCYmZS5wdXNoKHQpfSxyZW1vdmU6ZnVuY3Rpb24odCl7eXQucmVtb3ZlKGUsdCl9fTtyZXR1cm4gbn0oKSxBdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSl7dC5zZXRBdHRyaWJ1dGUoImhyZWYiLGUpLGt0LmhlYWQuYWRkKHQsITApfWZ1bmN0aW9uIHIoKXt0LnNldEF0dHJpYnV0ZSgiaHJlZiIsbG9jYXRpb24uaHJlZiksa3QucmVtb3ZlKHQpfWZ1bmN0aW9uIGkoKXtuKHRoaXMuYmFzZVVSSSksdGhpcy5lbGVtZW50fHwodGhpcy5lbGVtZW50PWEuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxlfHx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoYS5jcmVhdGVUZXh0Tm9kZSgiIikpKSxrdC5oZWFkLmFkZCh0aGlzLmVsZW1lbnQpLHRoaXMuc3luY0Nzc1RleHQoKSxyKCl9dmFyIGU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIWEuY3JlYXRlRWxlbWVudCgic3R5bGUiKS5hcHBlbmRDaGlsZChhLmNyZWF0ZVRleHROb2RlKCIiKSl9Y2F0Y2goZSl7cmV0dXJuITB9fSgpLHQ9YSYmYS5jcmVhdGVFbGVtZW50KCJiYXNlIik7cmV0dXJuIFYobnVsbCx7Y2xhc3NOYW1lOiJiYXNpcy5Dc3NSZXNvdXJjZSIsaW5Vc2U6MCx1cmw6IiIsYmFzZVVSSToiIixjc3NUZXh0OnVuZGVmaW5lZCxlbGVtZW50Om51bGwsaW5pdDpmdW5jdGlvbihlKXt0aGlzLnVybD1lLHRoaXMuYmFzZVVSST1SLmRpcm5hbWUoZSkrIi8ifSx1cGRhdGVDc3NUZXh0OmZ1bmN0aW9uKGUpe3RoaXMuY3NzVGV4dCE9ZSYmKHRoaXMuY3NzVGV4dD1lLHRoaXMuaW5Vc2UmJnRoaXMuZWxlbWVudCYmKG4odGhpcy5iYXNlVVJJKSx0aGlzLnN5bmNDc3NUZXh0KCkscigpKSl9LHN5bmNDc3NUZXh0OmU/ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0PXRoaXMuY3NzVGV4dH06ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNzc1RleHQ7dGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQubm9kZVZhbHVlPWV9LHN0YXJ0VXNlOmZ1bmN0aW9uKCl7dGhpcy5pblVzZXx8a3QuaGVhZC5yZWFkeShpLHRoaXMpLHRoaXMuaW5Vc2UrPTF9LHN0b3BVc2U6ZnVuY3Rpb24oKXt0aGlzLmluVXNlJiYodGhpcy5pblVzZS09MSwhdGhpcy5pblVzZSYmdGhpcy5lbGVtZW50JiZrdC5yZW1vdmUodGhpcy5lbGVtZW50KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJmt0LnJlbW92ZSh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudD1udWxsLHRoaXMuY3NzVGV4dD1udWxsfX0pfSgpLE90PXB0KCJiYXNpcyIpLmV4dGVuZCh7dmVyc2lvbjp1LE5PREVfRU5WOnEsY29uZmlnOnosY3JlYXRlU2FuZGJveDpmdW5jdGlvbihlKXtyZXR1cm4gcihpLFUsaCh7bm9Db25mbGljdDohMH0sZSkpfSxyZXNvbHZlTlNGaWxlbmFtZTpjdCxwYXRjaDp2dCxuYW1lc3BhY2U6cHQscmVxdWlyZTpkdCxyZXNvdXJjZTpydCxhc3NldDpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc2V0SW1tZWRpYXRlOkYsY2xlYXJJbW1lZGlhdGU6SSxuZXh0VGljazpmdW5jdGlvbigpe0YuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDbGFzczpWLFRva2VuOiQsRGVmZXJyZWRUb2tlbjpLLGdlblVJRDpsLGdldHRlcjpNLHJlYWR5OkN0LGNsZWFuZXI6THQsY29uc29sZTpqLHBhdGg6Uixkb2M6a3Qsb2JqZWN0OntleHRlbmQ6Yyxjb21wbGV0ZTpoLGtleXM6cCx2YWx1ZXM6ZCxzbGljZTp2LHNwbGljZTptLG1lcmdlOmcsaXRlcmF0ZTp5fSxmbjp7JHVuZGVmaW5lZDpiLCRkZWZpbmVkOncsJGlzTnVsbDpFLCRpc05vdE51bGw6UywkaXNTYW1lOngsJGlzTm90U2FtZTpULCRzZWxmOk4sJGNvbnN0OkMsJGZhbHNlOmssJHRydWU6TCwkbnVsbDpBLCR1bmRlZjpPLGdldHRlcjpNLG51bGxHZXR0ZXI6Xyx3cmFwcGVyOkQsbGF6eUluaXQ6UCxsYXp5SW5pdEFuZFJ1bjpILHJ1bk9uY2U6Qn0sYXJyYXk6YyhtdCx5dCksc3RyaW5nOlN0LG51bWJlcjpOdCxib29sOntpbnZlcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWV9fSxqc29uOntwYXJzZTp0eXBlb2YgSlNPTiE9InVuZGVmaW5lZCI/SlNPTi5wYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gU3QudG9PYmplY3QoZSwhMCl9fX0pO3JldHVybiBwdCgiYmFzaXMuZGV2IikuZXh0ZW5kKGopLHouYXV0b2xvYWQmJnouYXV0b2xvYWQuZm9yRWFjaChmdW5jdGlvbihlKXtkdChlKX0pLE90fSkodGhpcyl9KS5jYWxsKHRoaXMp",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Thu, 06 Nov 2014 12:11:08 GMT",
                    "Content-Length": "204042",
                    "Date": "Thu, 06 Nov 2014 12:11:10 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
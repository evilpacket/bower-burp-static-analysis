{
    "url": "http://localhost:9999/kazu69/x-gravatar/bower_components/platform/platform.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>i.href=document.baseURI,h.content.ownerDocument.appendChild(i);</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/kazu69/x-gravatar/bower_components/platform/platform.js",
                "path": "/kazu69/x-gravatar/bower_components/platform/platform.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9rYXp1NjkveC1ncmF2YXRhci9ib3dlcl9jb21wb25lbnRzL3BsYXRmb3JtL3BsYXRmb3JtLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTg1NTM3DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBTdW4sIDA5IE5vdiAyMDE0IDAzOjMwOjQ5IEdNVA0KTGFzdC1Nb2RpZmllZDogU3VuLCAwOSBOb3YgMjAxNCAwMzozMDo0OSBHTVQNCg0KLy8gQ29weXJpZ2h0IChjKSAyMDEyIFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vCi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAovLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlCi8vIG1ldDoKLy8KLy8gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodAovLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCi8vICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZQovLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyCi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUKLy8gZGlzdHJpYnV0aW9uLgovLyAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMKLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20KLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwovLyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAovLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQovLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQovLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgovLyBAdmVyc2lvbjogMC4yLjAKZnVuY3Rpb24gUG9pbnRlckdlc3R1cmVFdmVudChhLGIpe3ZhciBjPWJ8fHt9LGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IiksZT17YnViYmxlczpCb29sZWFuKGMuYnViYmxlcyk9PT1jLmJ1YmJsZXN8fCEwLGNhbmNlbGFibGU6Qm9vbGVhbihjLmNhbmNlbGFibGUpPT09Yy5jYW5jZWxhYmxlfHwhMH07ZC5pbml0RXZlbnQoYSxlLmJ1YmJsZXMsZS5jYW5jZWxhYmxlKTtmb3IodmFyIGYsZz1PYmplY3Qua2V5cyhjKSxoPTA7aDxnLmxlbmd0aDtoKyspZj1nW2hdLGRbZl09Y1tmXTtyZXR1cm4gZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfSJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGEoYSl7Yj1hfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9W10sYz17fTtpZihPYmplY3Qub2JzZXJ2ZShjLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLDMhPT1iLmxlbmd0aClyZXR1cm4hMTtpZigibmV3Ij09YlswXS50eXBlJiYidXBkYXRlZCI9PWJbMV0udHlwZSYmImRlbGV0ZWQiPT1iWzJdLnR5cGUpTD0ibmV3IixNPSJ1cGRhdGVkIixOPSJyZWNvbmZpZ3VyZWQiLE89ImRlbGV0ZWQiO2Vsc2UgaWYoImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVW5leHBlY3RlZCBjaGFuZ2UgcmVjb3JkIG5hbWVzIGZvciBPYmplY3Qub2JzZXJ2ZS4gVXNpbmcgZGlydHktY2hlY2tpbmcgaW5zdGVhZCIpLCExO3JldHVybiBPYmplY3QudW5vYnNlcnZlKGMsYSksYz1bMF0sQXJyYXkub2JzZXJ2ZShjLGEpLGNbMV09MSxjLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSwyIT1iLmxlbmd0aD8hMTpiWzBdLnR5cGUhPVB8fGJbMV0udHlwZSE9UD8hMTooQXJyYXkudW5vYnNlcnZlKGMsYSksITApfWZ1bmN0aW9uIGMoKXtpZihhLmRvY3VtZW50JiYic2VjdXJpdHlQb2xpY3kiaW4gYS5kb2N1bWVudCYmIWEuZG9jdW1lbnQuc2VjdXJpdHlQb2xpY3kuYWxsb3dzRXZhbClyZXR1cm4hMTt0cnl7dmFyIGI9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYigpfWNhdGNoKGMpe3JldHVybiExfX1mdW5jdGlvbiBkKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4rYX1mdW5jdGlvbiBmKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpTKGEpJiZTKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBoKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnRyaW0oKSwiIj09YT8hMDoiLiI9PWFbMF0/ITE6JC50ZXN0KGEpKX1mdW5jdGlvbiBpKGEsYil7aWYoYiE9PV8pdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczpkKGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLHZvaWQoUiYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSkpKX1mdW5jdGlvbiBqKGEpe2lmKGEgaW5zdGFuY2VvZiBpKXJldHVybiBhO251bGw9PWEmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7dmFyIGI9YWJbYV07aWYoYilyZXR1cm4gYjtpZighaChhKSlyZXR1cm4gYmI7dmFyIGI9bmV3IGkoYSxfKTtyZXR1cm4gYWJbYV09YixifWZ1bmN0aW9uIGsoYil7Zm9yKHZhciBjPTA7ZGI+YyYmYi5jaGVja18oKTspYysrO3JldHVybiBhLnRlc3RpbmdFeHBvc2VDeWNsZUNvdW50JiYoYS5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jKSxjPjB9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBtKGEpe3JldHVybiBsKGEuYWRkZWQpJiZsKGEucmVtb3ZlZCkmJmwoYS5jaGFuZ2VkKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIG8oKXtpZighZWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8ZWIubGVuZ3RoO2ErKyllYlthXSgpO3JldHVybiBlYi5sZW5ndGg9MCwhMH1mdW5jdGlvbiBwKCl7ZnVuY3Rpb24gYShhKXtiJiZiLnN0YXRlXz09PWtiJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxnYi5wdXNoKHRoaXMpfX19ZnVuY3Rpb24gcShhLGIsYyl7dmFyIGQ9Z2IucG9wKCl8fHAoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gcigpe2Z1bmN0aW9uIGEoYil7aWYoZihiKSl7dmFyIGM9aS5pbmRleE9mKGIpO2M+PTA/KGlbY109dm9pZCAwLGgucHVzaChiKSk6aC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixkKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpfX1mdW5jdGlvbiBiKCl7aWYoaz0hMSxqKXt2YXIgYj1pPT09aGI/W106aTtpPWgsaD1iO3ZhciBjO2Zvcih2YXIgZiBpbiBlKWM9ZVtmXSxjJiZjLnN0YXRlXz09a2ImJmMuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZz0wO2c8aS5sZW5ndGg7ZysrKXt2YXIgbD1pW2ddO2wmJk9iamVjdC51bm9ic2VydmUobCxkKX1pLmxlbmd0aD0wfX1mdW5jdGlvbiBjKCl7a3x8KGo9ITAsaz0hMCxmYihiKSl9ZnVuY3Rpb24gZCgpe3ZhciBhO2Zvcih2YXIgYiBpbiBlKWE9ZVtiXSxhJiZhLnN0YXRlXz09a2ImJmEuY2hlY2tfKCk7YygpfXZhciBlPVtdLGc9MCxoPVtdLGk9aGIsaj0hMSxrPSExLGw9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYil7ZVtiLmlkX109YixnKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKGEpe2lmKGVbYS5pZF9dPXZvaWQgMCxnLS0sZylyZXR1cm4gdm9pZCBjKCk7aj0hMTtmb3IodmFyIGI9MDtiPGgubGVuZ3RoO2IrKylPYmplY3QudW5vYnNlcnZlKGhbYl0sZCksdC51bm9ic2VydmVkQ291bnQrKztlLmxlbmd0aD0wLGgubGVuZ3RoPTAsaWIucHVzaCh0aGlzKX0scmVzZXQ6Y307cmV0dXJuIGx9ZnVuY3Rpb24gcyhhLGIpe3JldHVybiBjYiYmY2Iub2JqZWN0PT09Ynx8KGNiPWliLnBvcCgpfHxyKCksY2Iub2JqZWN0PWIpLGNiLm9wZW4oYSksY2J9ZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGVfPWpiLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmIrK31mdW5jdGlvbiB1KGEpe3QuX2FsbE9ic2VydmVyc0NvdW50KysscGImJm9iLnB1c2goYSl9ZnVuY3Rpb24gdigpe3QuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gdyhhKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZV89YSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIHgoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTt3LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB5KGEsYil7dC5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89YiBpbnN0YW5jZW9mIGk/YjpqKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiB6KCl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBBKGEpe3JldHVybiBhfWZ1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89YSx0aGlzLmdldFZhbHVlRm5fPWJ8fEEsdGhpcy5zZXRWYWx1ZUZuXz1jfHxBLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1kfWZ1bmN0aW9uIEMoYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0Lm9ic2VydmUpe3ZhciBjPU9iamVjdC5nZXROb3RpZmllcihhKTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZj17b2JqZWN0OmEsdHlwZTpkLG5hbWU6Yn07Mj09PWFyZ3VtZW50cy5sZW5ndGgmJihmLm9sZFZhbHVlPWUpLGMubm90aWZ5KGYpfX19ZnVuY3Rpb24gRChhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3RiW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLGcudHlwZSE9TSYmKGcudHlwZSE9TD9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJue2luZGV4OmEscmVtb3ZlZDpiLGFkZGVkQ291bnQ6Y319ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBHKGEsYixjLGQsZSxmKXtyZXR1cm4geWIuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIEgoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gSShhLGIsYyxkKXtmb3IodmFyIGU9RShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPUgoZS5pbmRleCxlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGgsaS5pbmRleCxpLmluZGV4K2kuYWRkZWRDb3VudCk7aWYoaj49MCl7YS5zcGxpY2UoaCwxKSxoLS0sZy09aS5hZGRlZENvdW50LWkucmVtb3ZlZC5sZW5ndGgsZS5hZGRlZENvdW50Kz1pLmFkZGVkQ291bnQtajt2YXIgaz1lLnJlbW92ZWQubGVuZ3RoK2kucmVtb3ZlZC5sZW5ndGgtajtpZihlLmFkZGVkQ291bnR8fGspe3ZhciBjPWkucmVtb3ZlZDtpZihlLmluZGV4PGkuaW5kZXgpe3ZhciBsPWUucmVtb3ZlZC5zbGljZSgwLGkuaW5kZXgtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobCxjKSxjPWx9aWYoZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoPmkuaW5kZXgraS5hZGRlZENvdW50KXt2YXIgbT1lLnJlbW92ZWQuc2xpY2UoaS5pbmRleCtpLmFkZGVkQ291bnQtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxtKX1lLnJlbW92ZWQ9YyxpLmluZGV4PGUuaW5kZXgmJihlLmluZGV4PWkuaW5kZXgpfWVsc2UgZj0hMH1lbHNlIGlmKGUuaW5kZXg8aS5pbmRleCl7Zj0hMCxhLnNwbGljZShoLDAsZSksaCsrO3ZhciBuPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RoO2kuaW5kZXgrPW4sZys9bn19fWZ8fGEucHVzaChlKX1mdW5jdGlvbiBKKGEsYil7Zm9yKHZhciBjPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtzd2l0Y2goZy50eXBlKXtjYXNlIFA6SShjLGcuaW5kZXgsZy5yZW1vdmVkLnNsaWNlKCksZy5hZGRlZENvdW50KTticmVhaztjYXNlIEw6Y2FzZSBNOmNhc2UgTzppZighZChnLm5hbWUpKWNvbnRpbnVlO3ZhciBoPWUoZy5uYW1lKTtpZigwPmgpY29udGludWU7SShjLGgsW2cub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShnKSl9fXJldHVybiBjfWZ1bmN0aW9uIEsoYSxiKXt2YXIgYz1bXTtyZXR1cm4gSihhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD92b2lkKGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSk6dm9pZChjPWMuY29uY2F0KEcoYSxiLmluZGV4LGIuaW5kZXgrYi5hZGRlZENvdW50LGIucmVtb3ZlZCwwLGIucmVtb3ZlZC5sZW5ndGgpKSl9KSxjfXZhciBMPSJhZGQiLE09InVwZGF0ZSIsTj0icmVjb25maWd1cmUiLE89ImRlbGV0ZSIsUD0ic3BsaWNlIixRPWIoKSxSPWMoKSxTPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFQ9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFU9IlskX2EtekEtWl0iLFY9IlskX2EtekEtWjAtOV0iLFc9VSsiKyIrVisiKiIsWD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsWT0iKD86IitXKyJ8IitYKyIpIixaPSIoPzoiK1krIikoPzpcXHMqXFwuXFxzKiIrWSsiKSoiLCQ9bmV3IFJlZ0V4cCgiXiIrWisiJCIpLF89e30sYWI9e307aS5nZXQ9aixpLnByb3RvdHlwZT1UKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCIuIil9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFhKXJldHVybjtiKGEpfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPydbIicrYSsnIl0nOiIuIithfSksYj0iIixjPSJvYmoiO2IrPSJpZiAob2JqICE9IG51bGwiO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGgtMTtlKyspe3t0aGlzW2VdfWMrPWFbZV0sYis9IiAmJlxuICAgICAiK2MrIiAhPSBudWxsIn1yZXR1cm4gYis9IilcbiIsYys9YVtlXSxiKz0iICByZXR1cm4gIitjKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGJiPW5ldyBpKCIiLF8pO2JiLnZhbGlkPSExLGJiLmdldFZhbHVlRnJvbT1iYi5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBjYixkYj0xZTMsZWI9W10sZmI9UT9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe28oKSxiPSExfSksZnVuY3Rpb24oYyl7ZWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZWIucHVzaChhKX19KCksZ2I9W10saGI9W10saWI9W10samI9MCxrYj0xLGxiPTIsbWI9MyxuYj0xO3QucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gdSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJih2KHRoaXMpLHRoaXMuc3RhdGVfPWxiLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDApfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiZrKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7dC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBvYixwYj0hUTt0Ll9hbGxPYnNlcnZlcnNDb3VudD0wLHBiJiYob2I9W10pO3ZhciBxYj0hMSxyYj0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzO2EuUGxhdGZvcm09YS5QbGF0Zm9ybXx8e30sYS5QbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludD1mdW5jdGlvbigpe2lmKCFxYil7aWYocmIpcmV0dXJuIHZvaWQgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzKCk7aWYocGIpe3FiPSEwO3ZhciBiLGMsZD0wO2Rve2QrKyxjPW9iLG9iPVtdLGI9ITE7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07Zi5zdGF0ZV89PWtiJiYoZi5jaGVja18oKSYmKGI9ITApLG9iLnB1c2goZikpfW8oKSYmKGI9ITApfXdoaWxlKGRiPmQmJmIpO2EudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihhLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWQpLHFiPSExfX19LHBiJiYoYS5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe29iPVtdfSksdy5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe1E/dGhpcy5kaXJlY3RPYnNlcnZlcl89cSh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1BcnJheS5pc0FycmF5KGEpP1tdOnt9O2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmKGIubGVuZ3RoPWEubGVuZ3RoKSxifSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihRKXtpZighYSlyZXR1cm4hMTtjPXt9LGI9RCh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1uKHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIG0oYik/ITE6KFF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiLmFkZGVkfHx7fSxiLnJlbW92ZWR8fHt9LGIuY2hhbmdlZHx8e30sZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV19XSksITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe1E/KHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKCksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKTp0aGlzLm9sZE9iamVjdF89dm9pZCAwfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiYoUT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTprKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSkseC5wcm90b3R5cGU9VCh7X19wcm90b19fOncucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihRKXtpZighYSlyZXR1cm4hMTtiPUsodGhpcy52YWx1ZV8sYSl9ZWxzZSBiPUcodGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIGImJmIubGVuZ3RoPyhRfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYl0pLCEwKTohMX19KSx4LmFwcGx5U3BsaWNlcz1mdW5jdGlvbihhLGIsYyl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bYy5pbmRleCxjLnJlbW92ZWQubGVuZ3RoXSxlPWMuaW5kZXg7ZTxjLmluZGV4K2MuYWRkZWRDb3VudDspZC5wdXNoKGJbZV0pLGUrKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsZCl9KX0seS5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7USYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXModGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksYnx8Zyh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjXSksITApfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLnBhdGhfJiZ0aGlzLnBhdGhfLnNldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8sYSl9fSk7dmFyIHNiPXt9O3oucHJvdG90eXBlPVQoe19fcHJvdG9fXzp0LnByb3RvdHlwZSxjb25uZWN0XzpmdW5jdGlvbigpe2lmKHRoaXMuY2hlY2tfKHZvaWQgMCwhMCksUSl7Zm9yKHZhciBhLGI9ITEsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpaWYoYT10aGlzLm9ic2VydmVkX1tjXSxhIT09c2Ipe2I9ITA7YnJlYWt9cmV0dXJuIHRoaXMuZGlyZWN0T2JzZXJ2ZXJfP2I/dm9pZCB0aGlzLmRpcmVjdE9ic2VydmVyXy5yZXNldCgpOih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHZvaWQodGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKSk6dm9pZChiJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLGEpKSl9fSxjbG9zZU9ic2VydmVyc186ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDthKz0yKXRoaXMub2JzZXJ2ZWRfW2FdPT09c2ImJnRoaXMub2JzZXJ2ZWRfW2ErMV0uY2xvc2UoKTt0aGlzLm9ic2VydmVkXy5sZW5ndGg9MH0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApLHRoaXMuY2xvc2VPYnNlcnZlcnNfKCl9LGFkZFBhdGg6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnN0YXRlXyE9amImJnRoaXMuc3RhdGVfIT1tYil0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dGhpcy5vYnNlcnZlZF8ucHVzaChhLGIgaW5zdGFuY2VvZiBpP2I6aihiKSl9LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGVfIT1qYiYmdGhpcy5zdGF0ZV8hPW1iKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKSx0aGlzLm9ic2VydmVkXy5wdXNoKHNiLGEpfSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWtiKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89bWIsdGhpcy5jbG9zZU9ic2VydmVyc18oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9bWIpdGhyb3cgRXJyb3IoIkNhbiBvbmx5IGZpbmlzaFJlc2V0IGFmdGVyIHN0YXJ0UmVzZXQiKTtyZXR1cm4gdGhpcy5zdGF0ZV89a2IsdGhpcy5jb25uZWN0XygpLHRoaXMudmFsdWVffSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MDtjPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtjKz0yKWI9dGhpcy5vYnNlcnZlZF9bY10sYiE9PXNiJiZ0aGlzLm9ic2VydmVkX1tjKzFdLml0ZXJhdGVPYmplY3RzKGIsYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTA7ZDx0aGlzLm9ic2VydmVkXy5sZW5ndGg7ZCs9Mil7dmFyIGU9dGhpcy5vYnNlcnZlZF9bZCsxXSxmPXRoaXMub2JzZXJ2ZWRfW2RdLGg9Zj09PXNiP2UuZGlzY2FyZENoYW5nZXMoKTplLmdldFZhbHVlRnJvbShmKTtiP3RoaXMudmFsdWVfW2QvMl09aDpnKGgsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09aCl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxCLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihhKXtpZihhPXRoaXMuZ2V0VmFsdWVGbl8oYSksIWcoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIHRiPXt9O3RiW0xdPSEwLHRiW01dPSEwLHRiW09dPSEwLHQuZGVmaW5lQ29tcHV0ZWRQcm9wZXJ0eT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9QyhhLGIpLGU9Yy5vcGVuKGZ1bmN0aW9uKGEsYil7ZT1hLGQmJmQoTSxiKX0pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWxpdmVyKCksZX0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiBjLnNldFZhbHVlKGEpLGF9LGNvbmZpZ3VyYWJsZTohMH0pLHtjbG9zZTpmdW5jdGlvbigpe2MuY2xvc2UoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX19O3ZhciB1Yj0wLHZiPTEsd2I9Mix4Yj0zO0YucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKHViKTooZS5wdXNoKHZiKSxkPWcpLGItLSxjLS0pOmY9PWg/KGUucHVzaCh4YiksYi0tLGQ9aCk6KGUucHVzaCh3YiksYy0tLGQ9aSl9ZWxzZSBlLnB1c2goeGIpLGItLTtlbHNlIGUucHVzaCh3YiksYy0tO3JldHVybiBlLnJldmVyc2UoKSxlfSxjYWxjU3BsaWNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9MCxoPTAsaT1NYXRoLm1pbihjLWIsZi1lKTtpZigwPT1iJiYwPT1lJiYoZz10aGlzLnNoYXJlZFByZWZpeChhLGQsaSkpLGM9PWEubGVuZ3RoJiZmPT1kLmxlbmd0aCYmKGg9dGhpcy5zaGFyZWRTdWZmaXgoYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsYy1iPT0wJiZmLWU9PTApcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPUUoYixbXSwwKTtmPmU7KWoucmVtb3ZlZC5wdXNoKGRbZSsrXSk7cmV0dXJuW2pdfWlmKGU9PWYpcmV0dXJuW0UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgdWI6aiYmKGwucHVzaChqKSxqPXZvaWQgMCksbSsrLG4rKzticmVhaztjYXNlIHZiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rKzticmVhaztjYXNlIHdiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgeGI6anx8KGo9RShtLFtdLDApKSxqLnJlbW92ZWQucHVzaChkW25dKSxuKyt9cmV0dXJuIGomJmwucHVzaChqKSxsfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2M+ZDtkKyspaWYoIXRoaXMuZXF1YWxzKGFbZF0sYltkXSkpcmV0dXJuIGQ7cmV0dXJuIGN9LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9Yi5sZW5ndGgsZj0wO2M+ZiYmdGhpcy5lcXVhbHMoYVstLWRdLGJbLS1lXSk7KWYrKztyZXR1cm4gZn0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGEsMCxhLmxlbmd0aCxiLDAsYi5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9fTt2YXIgeWI9bmV3IEY7YS5PYnNlcnZlcj10LGEuT2JzZXJ2ZXIucnVuRU9NXz1mYixhLk9ic2VydmVyLmhhc09iamVjdE9ic2VydmU9USxhLkFycmF5T2JzZXJ2ZXI9eCxhLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiB5Yi5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGEuQXJyYXlTcGxpY2U9RixhLk9iamVjdE9ic2VydmVyPXcsYS5QYXRoT2JzZXJ2ZXI9eSxhLkNvbXBvdW5kT2JzZXJ2ZXI9eixhLlBhdGg9aSxhLk9ic2VydmVyVHJhbnNmb3JtPUIsYS5PYnNlcnZlci5jaGFuZ2VSZWNvcmRUeXBlcz17YWRkOkwsdXBkYXRlOk0scmVjb25maWd1cmU6TiwiZGVsZXRlIjpPLHNwbGljZTpQfX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSx3aW5kb3cuUGxhdGZvcm09d2luZG93LlBsYXRmb3JtfHx7fSx3aW5kb3cubG9nRmxhZ3M9d2luZG93LmxvZ0ZsYWdzfHx7fSxmdW5jdGlvbihhKXt2YXIgYj1hLmZsYWdzfHx7fTtsb2NhdGlvbi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS5zcGxpdCgiPSIpLGFbMF0mJihiW2FbMF1dPWFbMV18fCEwKX0pO3ZhciBjPWRvY3VtZW50LmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPSJwbGF0Zm9ybS5qcyJdJyk7aWYoYylmb3IodmFyIGQsZT1jLmF0dHJpYnV0ZXMsZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9ZVtmXSwic3JjIiE9PWQubmFtZSYmKGJbZC5uYW1lXT1kLnZhbHVlfHwhMCk7Yi5sb2cmJmIubG9nLnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbihhKXt3aW5kb3cubG9nRmxhZ3NbYV09ITB9KSxiLnNoYWRvdz1iLnNoYWRvd3x8Yi5zaGFkb3dkb218fGIucG9seWZpbGwsYi5zaGFkb3c9Im5hdGl2ZSI9PT1iLnNoYWRvdz8hMTpiLnNoYWRvd3x8IUhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290LGIucmVnaXN0ZXImJih3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5DdXN0b21FbGVtZW50cy5mbGFncy5yZWdpc3Rlcj1iLnJlZ2lzdGVyKSxiLmltcG9ydHMmJih3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5IVE1MSW1wb3J0cy5mbGFncy5pbXBvcnRzPWIuaW1wb3J0cyksYS5mbGFncz1ifShQbGF0Zm9ybSksUGxhdGZvcm0uZmxhZ3Muc2hhZG93Pyh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7SyhhLGMsTShiLGMpKX0pLGF9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7c3dpdGNoKGMpe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOnJldHVybn1LKGEsYyxNKGIsYykpfSksYX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZihhKXt2YXIgYj1hLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9RS5nZXQoYik7aWYoYylyZXR1cm4gYzt2YXIgZD1mKGIpLGU9dChkKTtyZXR1cm4gcShiLGUsYSksZX1mdW5jdGlvbiBnKGEsYil7byhhLGIsITApfWZ1bmN0aW9uIGgoYSxiKXtvKGIsYSwhMSl9ZnVuY3Rpb24gaShhKXtyZXR1cm4vXm9uW2Etel0rJC8udGVzdChhKX1mdW5jdGlvbiBqKGEpe3JldHVybi9eXHdbYS16QS1aXzAtOV0qJC8udGVzdChhKX1mdW5jdGlvbiBrKGEpe3JldHVybiBIJiZqKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2EpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXX19ZnVuY3Rpb24gbChhKXtyZXR1cm4gSCYmaihhKT9uZXcgRnVuY3Rpb24oInYiLCJ0aGlzLmltcGwuIithKyIgPSB2Iik6ZnVuY3Rpb24oYil7dGhpcy5pbXBsW2FdPWJ9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEgmJmooYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSsiLmFwcGx5KHRoaXMuaW1wbCwgYXJndW1lbnRzKSIpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19ZnVuY3Rpb24gbihhLGIpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpfWNhdGNoKGMpe3JldHVybiBPfX1mdW5jdGlvbiBvKGIsYyxkKXtmb3IodmFyIGU9TChiKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07aWYoInBvbHltZXJCbGFja0xpc3RfIiE9PWcmJiEoZyBpbiBjfHxiLnBvbHltZXJCbGFja0xpc3RfJiZiLnBvbHltZXJCbGFja0xpc3RfW2ddKSl7TiYmYi5fX2xvb2t1cEdldHRlcl9fKGcpO3ZhciBoLGosbz1uKGIsZyk7aWYoZCYmImZ1bmN0aW9uIj09dHlwZW9mIG8udmFsdWUpY1tnXT1tKGcpO2Vsc2V7dmFyIHA9aShnKTtoPXA/YS5nZXRFdmVudEhhbmRsZXJHZXR0ZXIoZyk6ayhnKSwoby53cml0YWJsZXx8by5zZXQpJiYoaj1wP2EuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyKGcpOmwoZykpLEsoYyxnLHtnZXQ6aCxzZXQ6aixjb25maWd1cmFibGU6by5jb25maWd1cmFibGUsZW51bWVyYWJsZTpvLmVudW1lcmFibGV9KX19fX1mdW5jdGlvbiBwKGEsYixjKXt2YXIgZT1hLnByb3RvdHlwZTtxKGUsYixjKSxkKGIsYSl9ZnVuY3Rpb24gcShhLGMsZCl7dmFyIGU9Yy5wcm90b3R5cGU7Yih2b2lkIDA9PT1FLmdldChhKSksRS5zZXQoYSxjKSxGLnNldChlLGEpLGcoYSxlKSxkJiZoKGUsZCksSyhlLCJjb25zdHJ1Y3RvciIse3ZhbHVlOmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX1mdW5jdGlvbiByKGEsYil7cmV0dXJuIEUuZ2V0KGIucHJvdG90eXBlKT09PWF9ZnVuY3Rpb24gcyhhKXt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1mKGIpLGQ9dChjKTtyZXR1cm4gcShiLGQsYSksZH1mdW5jdGlvbiB0KGEpe2Z1bmN0aW9uIGIoYil7YS5jYWxsKHRoaXMsYil9cmV0dXJuIGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLGIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWIsYn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIGluc3RhbmNlb2YgRy5FdmVudFRhcmdldHx8YSBpbnN0YW5jZW9mIEcuRXZlbnR8fGEgaW5zdGFuY2VvZiBHLlJhbmdlfHxhIGluc3RhbmNlb2YgRy5ET01JbXBsZW1lbnRhdGlvbnx8YSBpbnN0YW5jZW9mIEcuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfHxHLldlYkdMUmVuZGVyaW5nQ29udGV4dCYmYSBpbnN0YW5jZW9mIEcuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWZ1bmN0aW9uIHYoYSl7cmV0dXJuIFEmJmEgaW5zdGFuY2VvZiBRfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgVXx8YSBpbnN0YW5jZW9mIFB8fGEgaW5zdGFuY2VvZiBWfHxXJiZhIGluc3RhbmNlb2YgV3x8WCYmYSBpbnN0YW5jZW9mIFh9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYih2KGEpKSxhLnBvbHltZXJXcmFwcGVyX3x8KGEucG9seW1lcldyYXBwZXJfPW5ldyhmKGEpKShhKSkpfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGIodShhKSksYS5pbXBsKX1mdW5jdGlvbiB5KGEpe3JldHVybiBhJiZ1KGEpP3goYSk6YX1mdW5jdGlvbiB6KGEpe3JldHVybiBhJiYhdShhKT93KGEpOmF9ZnVuY3Rpb24gQShhLGMpe251bGwhPT1jJiYoYih2KGEpKSxiKHZvaWQgMD09PWN8fHUoYykpLGEucG9seW1lcldyYXBwZXJfPWMpfWZ1bmN0aW9uIEIoYSxiLGMpe0soYS5wcm90b3R5cGUsYix7Z2V0OmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBDKGEsYil7QihhLGIsZnVuY3Rpb24oKXtyZXR1cm4gdyh0aGlzLmltcGxbYl0pfSl9ZnVuY3Rpb24gRChhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiLmZvckVhY2goZnVuY3Rpb24oYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT16KHRoaXMpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pfXZhciBFPW5ldyBXZWFrTWFwLEY9bmV3IFdlYWtNYXAsRz1PYmplY3QuY3JlYXRlKG51bGwpLEg9ISgic2VjdXJpdHlQb2xpY3kiaW4gZG9jdW1lbnQpfHxkb2N1bWVudC5zZWN1cml0eVBvbGljeS5hbGxvd3NFdmFsO2lmKEgpdHJ5e3ZhciBJPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7SD1JKCl9Y2F0Y2goSil7SD0hMX12YXIgSz1PYmplY3QuZGVmaW5lUHJvcGVydHksTD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxNPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7TCh3aW5kb3cpO3ZhciBOPS9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLE89e2dldDpmdW5jdGlvbigpe30sc2V0OmZ1bmN0aW9uKCl7fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sUD13aW5kb3cuRE9NSW1wbGVtZW50YXRpb24sUT13aW5kb3cuRXZlbnRUYXJnZXQsUj13aW5kb3cuRXZlbnQsUz13aW5kb3cuTm9kZSxUPXdpbmRvdy5XaW5kb3csVT13aW5kb3cuUmFuZ2UsVj13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCxYPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7YS5hc3NlcnQ9YixhLmNvbnN0cnVjdG9yVGFibGU9RSxhLmRlZmluZUdldHRlcj1CLGEuZGVmaW5lV3JhcEdldHRlcj1DLGEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXI9RCxhLmlzV3JhcHBlcj11LGEuaXNXcmFwcGVyRm9yPXIsYS5taXhpbj1jLGEubmF0aXZlUHJvdG90eXBlVGFibGU9RixhLm9uZU9mPWUsYS5yZWdpc3Rlck9iamVjdD1zLGEucmVnaXN0ZXJXcmFwcGVyPXAsYS5yZXdyYXA9QSxhLnVud3JhcD14LGEudW53cmFwSWZOZWVkZWQ9eSxhLndyYXA9dyxhLndyYXBJZk5lZWRlZD16LGEud3JhcHBlcnM9R30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2c9ITE7dmFyIGE9Zi5zbGljZSgwKTtmPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0oKX1mdW5jdGlvbiBjKGEpe2YucHVzaChhKSxnfHwoZz0hMCxkKGIsMCkpfXZhciBkLGU9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsZj1bXSxnPSExO2lmKGUpe3ZhciBoPTEsaT1uZXcgZShiKSxqPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGgpO2kub2JzZXJ2ZShqLHtjaGFyYWN0ZXJEYXRhOiEwfSksZD1mdW5jdGlvbigpe2g9KGgrMSklMixqLmRhdGE9aH19ZWxzZSBkPXdpbmRvdy5zZXRJbW1lZGlhdGV8fHdpbmRvdy5zZXRUaW1lb3V0O2Euc2V0RW5kT2ZNaWNyb3Rhc2s9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe3B8fChrKGMpLHA9ITApfWZ1bmN0aW9uIGMoKXtwPSExO2RvIGZvcih2YXIgYT1vLnNsaWNlKCksYj0hMSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT1kLnRha2VSZWNvcmRzKCk7ZihkKSxlLmxlbmd0aCYmKGQuY2FsbGJhY2tfKGUsZCksYj0hMCl9d2hpbGUoYil9ZnVuY3Rpb24gZChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucmVtb3ZlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGUoYSxiKXtmb3IoO2E7YT1hLnBhcmVudE5vZGUpe3ZhciBjPW4uZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07ZS5vcHRpb25zLnN1YnRyZWUmJmUuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYil9fX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj0wO2I8YS5ub2Rlc18ubGVuZ3RoO2IrKyl7dmFyIGM9YS5ub2Rlc19bYl0sZD1uLmdldChjKTtpZighZClyZXR1cm47Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07Zi5vYnNlcnZlcj09PWEmJmYucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9fX1mdW5jdGlvbiBnKGEsYyxlKXtmb3IodmFyIGY9T2JqZWN0LmNyZWF0ZShudWxsKSxnPU9iamVjdC5jcmVhdGUobnVsbCksaD1hO2g7aD1oLnBhcmVudE5vZGUpe3ZhciBpPW4uZ2V0KGgpO2lmKGkpZm9yKHZhciBqPTA7ajxpLmxlbmd0aDtqKyspe3ZhciBrPWlbal0sbD1rLm9wdGlvbnM7aWYoKGg9PT1hfHxsLnN1YnRyZWUpJiYhKCJhdHRyaWJ1dGVzIj09PWMmJiFsLmF0dHJpYnV0ZXN8fCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlRmlsdGVyJiYobnVsbCE9PWUubmFtZXNwYWNlfHwtMT09PWwuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoZS5uYW1lKSl8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJiFsLmNoYXJhY3RlckRhdGF8fCJjaGlsZExpc3QiPT09YyYmIWwuY2hpbGRMaXN0KSl7dmFyIG09ay5vYnNlcnZlcjtmW20udWlkX109bSwoImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImNoYXJhY3RlckRhdGEiPT09YyYmbC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpJiYoZ1ttLnVpZF9dPWUub2xkVmFsdWUpfX19dmFyIG89ITE7Zm9yKHZhciBwIGluIGYpe3ZhciBtPWZbcF0scT1uZXcgZChjLGEpOyJuYW1lImluIGUmJiJuYW1lc3BhY2UiaW4gZSYmKHEuYXR0cmlidXRlTmFtZT1lLm5hbWUscS5hdHRyaWJ1dGVOYW1lc3BhY2U9ZS5uYW1lc3BhY2UpLGUuYWRkZWROb2RlcyYmKHEuYWRkZWROb2Rlcz1lLmFkZGVkTm9kZXMpLGUucmVtb3ZlZE5vZGVzJiYocS5yZW1vdmVkTm9kZXM9ZS5yZW1vdmVkTm9kZXMpLGUucHJldmlvdXNTaWJsaW5nJiYocS5wcmV2aW91c1NpYmxpbmc9ZS5wcmV2aW91c1NpYmxpbmcpLGUubmV4dFNpYmxpbmcmJihxLm5leHRTaWJsaW5nPWUubmV4dFNpYmxpbmcpLHZvaWQgMCE9PWdbcF0mJihxLm9sZFZhbHVlPWdbcF0pLG0ucmVjb3Jkc18ucHVzaChxKSxvPSEwfW8mJmIoKX1mdW5jdGlvbiBoKGEpe2lmKHRoaXMuY2hpbGRMaXN0PSEhYS5jaGlsZExpc3QsdGhpcy5zdWJ0cmVlPSEhYS5zdWJ0cmVlLHRoaXMuYXR0cmlidXRlcz0iYXR0cmlidXRlcyJpbiBhfHwhKCJhdHRyaWJ1dGVPbGRWYWx1ZSJpbiBhfHwiYXR0cmlidXRlRmlsdGVyImluIGEpPyEhYS5hdHRyaWJ1dGVzOiEwLHRoaXMuY2hhcmFjdGVyRGF0YT0iY2hhcmFjdGVyRGF0YU9sZFZhbHVlImluIGEmJiEoImNoYXJhY3RlckRhdGEiaW4gYSk/ITA6ISFhLmNoYXJhY3RlckRhdGEsIXRoaXMuYXR0cmlidXRlcyYmKGEuYXR0cmlidXRlT2xkVmFsdWV8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl8fCF0aGlzLmNoYXJhY3RlckRhdGEmJmEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKXRocm93IG5ldyBUeXBlRXJyb3I7aWYodGhpcy5jaGFyYWN0ZXJEYXRhPSEhYS5jaGFyYWN0ZXJEYXRhLHRoaXMuYXR0cmlidXRlT2xkVmFsdWU9ISFhLmF0dHJpYnV0ZU9sZFZhbHVlLHRoaXMuY2hhcmFjdGVyRGF0YU9sZFZhbHVlPSEhYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUsImF0dHJpYnV0ZUZpbHRlciJpbiBhKXtpZihudWxsPT1hLmF0dHJpYnV0ZUZpbHRlcnx8Im9iamVjdCIhPXR5cGVvZiBhLmF0dHJpYnV0ZUZpbHRlcil0aHJvdyBuZXcgVHlwZUVycm9yO3RoaXMuYXR0cmlidXRlRmlsdGVyPXEuY2FsbChhLmF0dHJpYnV0ZUZpbHRlcil9ZWxzZSB0aGlzLmF0dHJpYnV0ZUZpbHRlcj1udWxsfWZ1bmN0aW9uIGkoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Isby5wdXNoKHRoaXMpfWZ1bmN0aW9uIGooYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgaz1hLnNldEVuZE9mTWljcm90YXNrLGw9YS53cmFwSWZOZWVkZWQsbT1hLndyYXBwZXJzLG49bmV3IFdlYWtNYXAsbz1bXSxwPSExLHE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHI9MDtpLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2E9bChhKTt2YXIgYyxkPW5ldyBoKGIpLGU9bi5nZXQoYSk7ZXx8bi5zZXQoYSxlPVtdKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdLm9ic2VydmVyPT09dGhpcyYmKGM9ZVtmXSxjLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpLGMub3B0aW9ucz1kKTtjfHwoYz1uZXcgaih0aGlzLGEsZCksZS5wdXNoKGMpLHRoaXMubm9kZXNfLnB1c2goYSkpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9bi5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX0sai5wcm90b3R5cGU9e2FkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9bi5nZXQoYSk7Ynx8bi5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLGQ9bi5nZXQoYyksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGRbZV09PT10aGlzKXtkLnNwbGljZShlLDEpO2JyZWFrfX19LGEuZW5xdWV1ZU11dGF0aW9uPWcsYS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1lLGEud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1pLGEud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3ZhciBiPWEubG9jYWxOYW1lO3JldHVybiJjb250ZW50Ij09PWJ8fCJzaGFkb3ciPT09Yn1mdW5jdGlvbiBkKGEpe3JldHVybiEhYS5zaGFkb3dSb290fWZ1bmN0aW9uIGUoYSl7dmFyIGI7cmV0dXJuIGEucGFyZW50Tm9kZXx8KGI9YS5kZWZhdWx0VmlldykmJlAoYil8fG51bGx9ZnVuY3Rpb24gZihmLGcsaCl7aWYoaC5sZW5ndGgpcmV0dXJuIGguc2hpZnQoKTtpZihiKGYpKXJldHVybiBqKGYpfHxmLmhvc3Q7dmFyIGk9YS5ldmVudFBhcmVudHNUYWJsZS5nZXQoZik7aWYoaSl7Zm9yKHZhciBrPTE7azxpLmxlbmd0aDtrKyspaFtrLTFdPWlba107cmV0dXJuIGlbMF19aWYoZyYmYyhmKSl7dmFyIGw9Zi5wYXJlbnROb2RlO2lmKGwmJmQobCkpZm9yKHZhciBtPWEuZ2V0U2hhZG93VHJlZXMobCksbj1qKGcpLGs9MDtrPG0ubGVuZ3RoO2srKylpZihtW2tdLmNvbnRhaW5zKG4pKXJldHVybiBufXJldHVybiBlKGYpfWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBkPVtdLGU9YSxnPVtdLGk9W107ZTspe3ZhciBqPW51bGw7aWYoYyhlKSl7aj1oKGQpO3ZhciBrPWRbZC5sZW5ndGgtMV18fGU7ZC5wdXNoKGspfWVsc2UgZC5sZW5ndGh8fGQucHVzaChlKTt2YXIgbD1kW2QubGVuZ3RoLTFdO2cucHVzaCh7dGFyZ2V0OmwsY3VycmVudFRhcmdldDplfSksYihlKSYmZC5wb3AoKSxlPWYoZSxqLGkpfXJldHVybiBnfWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTE7Yj49MDtiLS0paWYoIWMoYVtiXSkpcmV0dXJuIGFbYl07cmV0dXJuIG51bGx9ZnVuY3Rpb24gaShhLGQpe2Zvcih2YXIgZT1bXTthOyl7Zm9yKHZhciBnPVtdLGk9ZCxqPXZvaWQgMDtpOyl7dmFyIGw9bnVsbDtpZihnLmxlbmd0aCl7aWYoYyhpKSYmKGw9aChnKSxrKGopKSl7dmFyIG49Z1tnLmxlbmd0aC0xXTtnLnB1c2gobil9fWVsc2UgZy5wdXNoKGkpO2lmKG0oaSxhKSlyZXR1cm4gZ1tnLmxlbmd0aC0xXTtiKGkpJiZnLnBvcCgpLGo9aSxpPWYoaSxsLGUpfWE9YihhKT9hLmhvc3Q6YS5wYXJlbnROb2RlfX1mdW5jdGlvbiBqKGIpe3JldHVybiBhLmluc2VydGlvblBhcmVudFRhYmxlLmdldChiKX1mdW5jdGlvbiBrKGEpe3JldHVybiBqKGEpfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gbShhLGIpe3JldHVybiBsKGEpPT09bChiKX1mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iPyEwOmEgaW5zdGFuY2VvZiBRLlNoYWRvd1Jvb3Q/bihsKGEuaG9zdCksYik6ITF9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gUy5nZXQoYSk/dm9pZCAwOihTLnNldChhLCEwKSxwKFAoYSksUChhLnRhcmdldCkpKX1mdW5jdGlvbiBwKGIsYyl7aWYoVC5nZXQoYikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkU3RhdGVFcnJvciIpO1Quc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBkPWcoYyk7cmV0dXJuImxvYWQiPT09Yi50eXBlJiYyPT09ZC5sZW5ndGgmJmRbMF0udGFyZ2V0IGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmZC5zaGlmdCgpLF8uc2V0KGIsZCkscShiLGQpJiZyKGIsZCkmJnMoYixkKSxYLnNldChiLHYuTk9ORSksVi5kZWxldGUoYixudWxsKSxULmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gcShhLGIpe2Zvcih2YXIgYyxkPWIubGVuZ3RoLTE7ZD4wO2QtLSl7dmFyIGU9YltkXS50YXJnZXQsZj1iW2RdLmN1cnJlbnRUYXJnZXQ7aWYoZSE9PWYmJihjPXYuQ0FQVFVSSU5HX1BIQVNFLCF0KGJbZF0sYSxjKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPXYuQVRfVEFSR0VUO3JldHVybiB0KGJbMF0sYSxjKX1mdW5jdGlvbiBzKGEsYil7Zm9yKHZhciBjLGQ9YS5idWJibGVzLGU9MTtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXS50YXJnZXQsZz1iW2VdLmN1cnJlbnRUYXJnZXQ7aWYoZj09PWcpYz12LkFUX1RBUkdFVDtlbHNle2lmKCFkfHxaLmdldChhKSljb250aW51ZTtjPXYuQlVCQkxJTkdfUEhBU0V9aWYoIXQoYltlXSxhLGMpKXJldHVybn19ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9YS50YXJnZXQsZT1hLmN1cnJlbnRUYXJnZXQsZj1SLmdldChlKTtpZighZilyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgZz1PKGIpO2lmKGcucmVsYXRlZFRhcmdldCl7dmFyIGg9UChnLnJlbGF0ZWRUYXJnZXQpLGo9aShlLGgpO2lmKGo9PT1kKXJldHVybiEwO1cuc2V0KGIsail9fVguc2V0KGIsYyk7dmFyIGs9Yi50eXBlLGw9ITE7VS5zZXQoYixkKSxWLnNldChiLGUpO2Zvcih2YXIgbT0wO208Zi5sZW5ndGg7bSsrKXt2YXIgbj1mW21dO2lmKG4ucmVtb3ZlZClsPSEwO2Vsc2UgaWYoIShuLnR5cGUhPT1rfHwhbi5jYXB0dXJlJiZjPT09di5DQVBUVVJJTkdfUEhBU0V8fG4uY2FwdHVyZSYmYz09PXYuQlVCQkxJTkdfUEhBU0UpKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5oYW5kbGVyP24uaGFuZGxlci5jYWxsKGUsYik6bi5oYW5kbGVyLmhhbmRsZUV2ZW50KGIpLFouZ2V0KGIpKXJldHVybiExfWNhdGNoKG8pe3dpbmRvdy5vbmVycm9yP3dpbmRvdy5vbmVycm9yKG8ubWVzc2FnZSk6Y29uc29sZS5lcnJvcihvLG8uc3RhY2spfX1pZihsKXt2YXIgcD1mLnNsaWNlKCk7Zi5sZW5ndGg9MDtmb3IodmFyIG09MDttPHAubGVuZ3RoO20rKylwW21dLnJlbW92ZWR8fGYucHVzaChwW21dKX1yZXR1cm4hWS5nZXQoYil9ZnVuY3Rpb24gdShhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5oYW5kbGVyPWIsdGhpcy5jYXB0dXJlPUJvb2xlYW4oYyl9ZnVuY3Rpb24gdihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYWI/dm9pZCh0aGlzLmltcGw9YSk6UCh6KGFiLCJFdmVudCIsYSxiKSl9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh6KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24geShhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geihhLGIsYyxkKXtpZihqYilyZXR1cm4gbmV3IGEoYyx3KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPWliW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIEEoKXt2LmNhbGwodGhpcyl9ZnVuY3Rpb24gQihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEMoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEQoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gRShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEYoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRyhhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRihQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEgoYSl7TChhLG1iKX1mdW5jdGlvbiBJKGIsYyxkLGUpe2EucmVuZGVyQWxsUGVuZGluZygpO2Zvcih2YXIgZj1QKG5iLmNhbGwoYy5pbXBsLGQsZSkpLGg9ZyhmLHRoaXMpLGk9MDtpPGgubGVuZ3RoO2krKyl7dmFyIGo9aFtpXTtpZihqLmN1cnJlbnRUYXJnZXQ9PT1iKXJldHVybiBqLnRhcmdldH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBKKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPSQuZ2V0KHRoaXMpO3JldHVybiBiJiZiW2FdJiZiW2FdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBLKGEpe3ZhciBiPWEuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPSQuZ2V0KHRoaXMpO2R8fChkPU9iamVjdC5jcmVhdGUobnVsbCksJC5zZXQodGhpcyxkKSk7dmFyIGU9ZFthXTtpZihlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixlLndyYXBwZWQsITEpLCJmdW5jdGlvbiI9PXR5cGVvZiBjKXt2YXIgZj1mdW5jdGlvbihiKXt2YXIgZD1jLmNhbGwodGhpcyxiKTtkPT09ITE/Yi5wcmV2ZW50RGVmYXVsdCgpOiJvbmJlZm9yZXVubG9hZCI9PT1hJiYic3RyaW5nIj09dHlwZW9mIGQmJihiLnJldHVyblZhbHVlPWQpfTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSxkW2FdPXt2YWx1ZTpjLHdyYXBwZWQ6Zn19fX12YXIgTD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwO3UucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFuZGxlcj09PWEuaGFuZGxlciYmdGhpcy50eXBlPT09YS50eXBlJiZ0aGlzLmNhcHR1cmU9PT1hLmNhcHR1cmV9LGdldCByZW1vdmVkKCl7cmV0dXJuIG51bGw9PT10aGlzLmhhbmRsZXJ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1udWxsfX07dmFyIGFiPXdpbmRvdy5FdmVudDthYi5wcm90b3R5cGUucG9seW1lckJsYWNrTGlzdF89e3JldHVyblZhbHVlOiEwLGtleUxvY2F0aW9uOiEwfSx2LnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBVLmdldCh0aGlzKX0sZ2V0IGN1cnJlbnRUYXJnZXQoKXtyZXR1cm4gVi5nZXQodGhpcyl9LGdldCBldmVudFBoYXNlKCl7cmV0dXJuIFguZ2V0KHRoaXMpfSxnZXQgcGF0aCgpe3ZhciBhPW5ldyBRLk5vZGVMaXN0LGI9Xy5nZXQodGhpcyk7aWYoYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aC0xLGU9bChWLmdldCh0aGlzKSksZj0wO2Q+PWY7ZisrKXt2YXIgZz1iW2ZdLmN1cnJlbnRUYXJnZXQsaD1sKGcpO24oZSxoKSYmKGYhPT1kfHxnIGluc3RhbmNlb2YgUS5Ob2RlKSYmKGFbYysrXT1nKX1hLmxlbmd0aD1jfXJldHVybiBhfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCksWi5zZXQodGhpcywhMCl9fSxOKGFiLHYsZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IikpO3ZhciBiYj14KCJVSUV2ZW50Iix2KSxjYj14KCJDdXN0b21FdmVudCIsdiksZGI9e2dldCByZWxhdGVkVGFyZ2V0KCl7cmV0dXJuIFcuZ2V0KHRoaXMpfHxQKE8odGhpcykucmVsYXRlZFRhcmdldCl9fSxlYj1NKHtpbml0TW91c2VFdmVudDp5KCJpbml0TW91c2VFdmVudCIsMTQpfSxkYiksZmI9TSh7aW5pdEZvY3VzRXZlbnQ6eSgiaW5pdEZvY3VzRXZlbnQiLDUpfSxkYiksZ2I9eCgiTW91c2VFdmVudCIsYmIsZWIpLGhiPXgoIkZvY3VzRXZlbnQiLGJiLGZiKSxpYj1PYmplY3QuY3JlYXRlKG51bGwpLGpiPWZ1bmN0aW9uKCl7dHJ5e25ldyB3aW5kb3cuRm9jdXNFdmVudCgiZm9jdXMiKX1jYXRjaChhKXtyZXR1cm4hMX1yZXR1cm4hMH0oKTtpZighamIpe3ZhciBrYj1mdW5jdGlvbihhLGIsYyl7aWYoYyl7dmFyIGQ9aWJbY107Yj1NKE0oe30sZCksYil9aWJbYV09Yn07CmtiKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLGtiKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxrYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksa2IoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksa2IoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9QS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2LnByb3RvdHlwZSksTShBLnByb3RvdHlwZSx7Z2V0IHJldHVyblZhbHVlKCl7cmV0dXJuIHRoaXMuaW1wbC5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe3RoaXMuaW1wbC5yZXR1cm5WYWx1ZT1hfX0pO3ZhciBsYj13aW5kb3cuRXZlbnRUYXJnZXQsbWI9WyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXTtbTm9kZSxXaW5kb3ddLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5wcm90b3R5cGU7bWIuZm9yRWFjaChmdW5jdGlvbihhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhKyJfIix7dmFsdWU6YlthXX0pfSl9KSxELnByb3RvdHlwZT17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoQihiKSYmIUMoYSkpe3ZhciBkPW5ldyB1KGEsYixjKSxlPVIuZ2V0KHRoaXMpO2lmKGUpe2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKGQuZXF1YWxzKGVbZl0pKXJldHVybn1lbHNlIGU9W10sUi5zZXQodGhpcyxlKTtlLnB1c2goZCk7dmFyIGc9RSh0aGlzKTtnLmFkZEV2ZW50TGlzdGVuZXJfKGEsbywhMCl9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtjPUJvb2xlYW4oYyk7dmFyIGQ9Ui5nZXQodGhpcyk7aWYoZCl7Zm9yKHZhciBlPTAsZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKyspZFtnXS50eXBlPT09YSYmZFtnXS5jYXB0dXJlPT09YyYmKGUrKyxkW2ddLmhhbmRsZXI9PT1iJiYoZj0hMCxkW2ddLnJlbW92ZSgpKSk7aWYoZiYmMT09PWUpe3ZhciBoPUUodGhpcyk7aC5yZW1vdmVFdmVudExpc3RlbmVyXyhhLG8sITApfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGM9TyhiKSxkPWMudHlwZTtTLnNldChjLCExKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZTtHKHRoaXMsZCl8fChlPWZ1bmN0aW9uKCl7fSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZCxlLCEwKSk7dHJ5e3JldHVybiBPKHRoaXMpLmRpc3BhdGNoRXZlbnRfKGMpfWZpbmFsbHl7ZSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSwhMCl9fX0sbGImJk4obGIsRCk7dmFyIG5iPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQ7YS5hZGp1c3RSZWxhdGVkVGFyZ2V0PWksYS5lbGVtZW50RnJvbVBvaW50PUksYS5nZXRFdmVudEhhbmRsZXJHZXR0ZXI9SixhLmdldEV2ZW50SGFuZGxlclNldHRlcj1LLGEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcz1ILGEud3JhcHBlcnMuQmVmb3JlVW5sb2FkRXZlbnQ9QSxhLndyYXBwZXJzLkN1c3RvbUV2ZW50PWNiLGEud3JhcHBlcnMuRXZlbnQ9dixhLndyYXBwZXJzLkV2ZW50VGFyZ2V0PUQsYS53cmFwcGVycy5Gb2N1c0V2ZW50PWhiLGEud3JhcHBlcnMuTW91c2VFdmVudD1nYixhLndyYXBwZXJzLlVJRXZlbnQ9YmJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtlbnVtZXJhYmxlOiExfSl9ZnVuY3Rpb24gYygpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIGE7Zm9yKHZhciBiPW5ldyBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYltkXT1mKGFbZF0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZShhLGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19dmFyIGY9YS53cmFwO2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSwiaXRlbSIpLGEud3JhcHBlcnMuTm9kZUxpc3Q9YyxhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZD1lLGEud3JhcE5vZGVMaXN0PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7eShhIGluc3RhbmNlb2Ygdil9ZnVuY3Rpb24gYyhhKXt2YXIgYj1uZXcgeDtyZXR1cm4gYlswXT1hLGIubGVuZ3RoPTEsYn1mdW5jdGlvbiBkKGEsYixjKXtBKGIsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjLHByZXZpb3VzU2libGluZzphLnByZXZpb3VzU2libGluZyxuZXh0U2libGluZzphLm5leHRTaWJsaW5nfSl9ZnVuY3Rpb24gZShhLGIpe0EoYSwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO0o9ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7Sj0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB4LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSl7YS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWooYVtiXSl9ZnVuY3Rpb24gbCgpe31mdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09di5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBGKGJbMF0pO2Zvcih2YXIgZD1GKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoRihiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe3koYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUYoYiksZT1kLnBhcmVudE5vZGU7ZSYmUS5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUYoYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFEuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPUcoYz9LLmNhbGwoYyxhLmltcGwsITEpOkwuY2FsbChhLmltcGwsITEpKSxiKXtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWQuYXBwZW5kQ2hpbGQodShlLCEwLGMpKTtpZihhIGluc3RhbmNlb2YgSS5IVE1MVGVtcGxhdGVFbGVtZW50KWZvcih2YXIgZj1kLmNvbnRlbnQsZT1hLmNvbnRlbnQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylmLmFwcGVuZENoaWxkKHUoZSwhMCxjKSl9cmV0dXJuIGR9ZnVuY3Rpb24gdihhKXt5KGEgaW5zdGFuY2VvZiBNKSx3LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwfXZhciB3PWEud3JhcHBlcnMuRXZlbnRUYXJnZXQseD1hLndyYXBwZXJzLk5vZGVMaXN0LHk9YS5hc3NlcnQsej1hLmRlZmluZVdyYXBHZXR0ZXIsQT1hLmVucXVldWVNdXRhdGlvbixCPWEuaXNXcmFwcGVyLEM9YS5taXhpbixEPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsRT1hLnJlZ2lzdGVyV3JhcHBlcixGPWEudW53cmFwLEc9YS53cmFwLEg9YS53cmFwSWZOZWVkZWQsST1hLndyYXBwZXJzLEo9ITEsSz1kb2N1bWVudC5pbXBvcnROb2RlLEw9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxNPXdpbmRvdy5Ob2RlLE49d2luZG93LkRvY3VtZW50RnJhZ21lbnQsTz0oTS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsTS5wcm90b3R5cGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLFA9TS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLFE9TS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsUj1NLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsUz0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxUPVM/ZnVuY3Rpb24oYSxiKXt0cnl7US5jYWxsKGEsYil9Y2F0Y2goYyl7aWYoIShhIGluc3RhbmNlb2YgTikpdGhyb3cgY319OmZ1bmN0aW9uKGEsYil7US5jYWxsKGEsYil9O3YucHJvdG90eXBlPU9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLEModi5wcm90b3R5cGUse2FwcGVuZENoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShhLG51bGwpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxjKXtiKGEpO3ZhciBkO2M/QihjKT9kPUYoYyk6KGQ9YyxjPUcoZCkpOihjPW51bGwsZD1udWxsKSxjJiZ5KGMucGFyZW50Tm9kZT09PXRoaXMpO3ZhciBlLGg9Yz9jLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZCxpPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtpZihlPWk/ZyhhKTpmKGEsdGhpcyxoLGMpLGkpbih0aGlzLGEpLHEodGhpcyksUC5jYWxsKHRoaXMuaW1wbCxGKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdKTt2YXIgaj1kP2QucGFyZW50Tm9kZTp0aGlzLmltcGw7aj9QLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1GKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlQoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxUKHRoaXMuaW1wbCxmKTtyZXR1cm4gSnx8QSh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRCh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoQihkKT9lPUYoZCk6KGU9ZCxkPUcoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxSLmNhbGwodGhpcy5pbXBsLEYoYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmUi5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEEodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCksZH0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylhLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpHKHRoaXMuaW1wbC5wYXJlbnROb2RlKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5maXJzdENoaWxkXz90aGlzLmZpcnN0Q2hpbGRfOkcodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubGFzdENoaWxkXz90aGlzLmxhc3RDaGlsZF86Ryh0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOkcodGhpcy5pbXBsLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLnByZXZpb3VzU2libGluZ18/dGhpcy5wcmV2aW91c1NpYmxpbmdfOkcodGhpcy5pbXBsLnByZXZpb3VzU2libGluZyl9LGdldCBwYXJlbnRFbGVtZW50KCl7Zm9yKHZhciBhPXRoaXMucGFyZW50Tm9kZTthJiZhLm5vZGVUeXBlIT09di5FTEVNRU5UX05PREU7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxnZXQgdGV4dENvbnRlbnQoKXtmb3IodmFyIGE9IiIsYj10aGlzLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpYi5ub2RlVHlwZSE9di5DT01NRU5UX05PREUmJihhKz1iLnRleHRDb250ZW50KTtyZXR1cm4gYX0sc2V0IHRleHRDb250ZW50KGEpe3ZhciBiPWkodGhpcy5jaGlsZE5vZGVzKTtpZih0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXtpZihyKHRoaXMpLCIiIT09YSl7dmFyIGM9dGhpcy5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5hcHBlbmRDaGlsZChjKX19ZWxzZSBxKHRoaXMpLHRoaXMuaW1wbC50ZXh0Q29udGVudD1hO3ZhciBkPWkodGhpcy5jaGlsZE5vZGVzKTtBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZCxyZW1vdmVkTm9kZXM6Yn0pLG0oYiksayhkKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHgsYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTtpZihhPUgoYSksYT09PXRoaXMpcmV0dXJuITA7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiP3RoaXMuY29udGFpbnMoYik6ITF9LGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBPLmNhbGwodGhpcy5pbXBsLEYoYSkpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPWkodGhpcy5jaGlsZE5vZGVzKSxkPVtdLGU9IiIsZj0wO2Y8Yy5sZW5ndGg7ZisrKWI9Y1tmXSxiLm5vZGVUeXBlPT09di5URVhUX05PREU/YXx8Yi5kYXRhLmxlbmd0aD9hPyhlKz1iLmRhdGEsZC5wdXNoKGIpKTphPWI6dGhpcy5yZW1vdmVOb2RlKGIpOihhJiZkLmxlbmd0aCYmKGEuZGF0YSs9ZSxjbGVhblVwTm9kZXMoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSkseih2LCJvd25lckRvY3VtZW50IiksRShNLHYsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx2LnByb3RvdHlwZT1DKE9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLHYucHJvdG90eXBlKSxhLm5vZGVXYXNBZGRlZD1qLGEubm9kZVdhc1JlbW92ZWQ9bCxhLm5vZGVzV2VyZUFkZGVkPWssYS5ub2Rlc1dlcmVSZW1vdmVkPW0sYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXYsYS5jbG9uZU5vZGU9dX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGQpe2Zvcih2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KWUubWF0Y2hlcyhiKSYmKGRbZC5sZW5ndGgrK109ZSksYyhlLGIsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH12YXIgZD17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBjKHRoaXMsYSxuZXcgTm9kZUxpc3QpfX0sZT17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChhKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe2lmKCIqIj09PWEpcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik7Zm9yKHZhciBjPW5ldyBOb2RlTGlzdCxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZT0wLGY9MDtlPGQubGVuZ3RoO2UrKylkW2VdLm5hbWVzcGFjZVVSST09PWEmJihjW2YrK109ZFtlXSk7cmV0dXJuIGMubGVuZ3RoPWYsY319O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1lLGEuU2VsZWN0b3JzSW50ZXJmYWNlPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiwqAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixCW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkNbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9dyhhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeChmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9dyhhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9dyhkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB4KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXX19ZnVuY3Rpb24gbChhKXtwKGksYSxrKGEpKX1mdW5jdGlvbiBtKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHtnZXQ6ayhiKSxzZXQ6ZnVuY3Rpb24oYyl7YS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdPWN9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBvPWEud3JhcHBlcnMuRWxlbWVudCxwPWEuZGVmaW5lR2V0dGVyLHE9YS5lbnF1ZXVlTXV0YXRpb24scj1hLm1peGluLHM9YS5ub2Rlc1dlcmVBZGRlZCx0PWEubm9kZXNXZXJlUmVtb3ZlZCx1PWEucmVnaXN0ZXJXcmFwcGVyLHY9YS5zbmFwc2hvdE5vZGVMaXN0LHc9YS51bndyYXAseD1hLndyYXAseT1hLndyYXBwZXJzLHo9L1smXHUwMEEwIl0vZyxBPS9bJlx1MDBBMDw+XS9nLEI9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEM9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRD0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxFPXdpbmRvdy5IVE1MRWxlbWVudCxGPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihEJiZDW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRiYmdGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp0aGlzLmltcGwuaW5uZXJIVE1MPWE7dmFyIGM9dih0aGlzLmNoaWxkTm9kZXMpO3EodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMpfSxnZXQgb3V0ZXJIVE1MKCl7cmV0dXJuIGYodGhpcyx0aGlzLnBhcmVudE5vZGUpfSxzZXQgb3V0ZXJIVE1MKGEpe3ZhciBiPXRoaXMucGFyZW50Tm9kZTtpZihiKXtiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBjPWooYixhKTtiLnJlcGxhY2VDaGlsZChjLHRoaXMpfX0saW5zZXJ0QWRqYWNlbnRIVE1MOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtzd2l0Y2goU3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiYmVmb3JlYmVnaW4iOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpczticmVhaztjYXNlImFmdGVyZW5kIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZSJhZnRlcmJlZ2luIjpjPXRoaXMsZD10aGlzLmZpcnN0Q2hpbGQ7YnJlYWs7Y2FzZSJiZWZvcmVlbmQiOmM9dGhpcyxkPW51bGw7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGU9aihjLGIpO2MuaW5zZXJ0QmVmb3JlKGUsZCl9fSksWyJjbGllbnRIZWlnaHQiLCJjbGllbnRMZWZ0IiwiY2xpZW50VG9wIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCJdLmZvckVhY2gobCksWyJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIl0uZm9yRWFjaChtKSxbImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RzIiwic2Nyb2xsSW50b1ZpZXciXS5mb3JFYWNoKG4pLHUoRSxpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImIiKSksYS53cmFwcGVycy5IVE1MRWxlbWVudD1pLGEuZ2V0SW5uZXJIVE1MPWcsYS5zZXRJbm5lckhUTUw9aH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LkhUTUxDYW52YXNFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldENvbnRleHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmltcGwuZ2V0Q29udGV4dC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKTtyZXR1cm4gYSYmZihhKX19KSxlKGcsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYS53cmFwcGVycy5IVE1MQ2FudmFzRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTENvbnRlbnRFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBzZWxlY3QoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpfSxzZXQgc2VsZWN0KGEpe3RoaXMuc2V0QXR0cmlidXRlKCJzZWxlY3QiLGEpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXtjLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGEsYiksInNlbGVjdCI9PT1TdHJpbmcoYSkudG9Mb3dlckNhc2UoKSYmdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoITApfX0pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGMoYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgZT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKTtkLmNhbGwodGhpcyxlKSxnKGUsdGhpcyksdm9pZCAwIT09YSYmKGUud2lkdGg9YSksdm9pZCAwIT09YiYmKGUuaGVpZ2h0PWIpfXZhciBkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEltYWdlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MSW1hZ2VFbGVtZW50PWIsYS53cmFwcGVycy5JbWFnZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYS5sb2NhbE5hbWUpe2Nhc2UiY29udGVudCI6cmV0dXJuIG5ldyBjKGEpO2Nhc2Uic2hhZG93IjpyZXR1cm4gbmV3IGUoYSk7Y2FzZSJ0ZW1wbGF0ZSI6cmV0dXJuIG5ldyBmKGEpfWQuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LGQ9YS53cmFwcGVycy5IVE1MRWxlbWVudCxlPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsZj1hLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQsZz0oYS5taXhpbixhLnJlZ2lzdGVyV3JhcHBlciksaD13aW5kb3cuSFRNTFVua25vd25FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGcoaCxiKSxhLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnJlZ2lzdGVyT2JqZWN0LGM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLCJ0aXRsZSIpLGU9YihkKSxmPU9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7YS53cmFwcGVycy5TVkdFbGVtZW50PWZ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7bS5jYWxsKHRoaXMsYSl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLndyYXAsZz13aW5kb3cuU1ZHVXNlRWxlbWVudCxoPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJnIikpLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsInVzZSIpLGs9aS5jb25zdHJ1Y3RvcixsPU9iamVjdC5nZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSksbT1sLmNvbnN0cnVjdG9yO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobCksImluc3RhbmNlUm9vdCJpbiBqJiZjKGIucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxkKGcsYixqKSxhLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtnJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdFbGVtZW50KX0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KX0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiBmKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwubmV4dFNpYmxpbmcpfX0pLGUoZyxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEudW53cmFwSWZOZWVkZWQsZz1hLndyYXAsaD13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gZyh0aGlzLmltcGwuY2FudmFzKX0sZHJhd0ltYWdlOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzBdPWYoYXJndW1lbnRzWzBdKSx0aGlzLmltcGwuZHJhd0ltYWdlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1lKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmNyZWF0ZVBhdHRlcm4uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSksZChoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksYS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihnKXtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09ZShhcmd1bWVudHNbNV0pLHRoaXMuaW1wbC50ZXhJbWFnZTJELmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWUoYXJndW1lbnRzWzZdKSx0aGlzLmltcGwudGV4U3ViSW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19KTt2YXIgaD0vV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3tkcmF3aW5nQnVmZmVySGVpZ2h0Om51bGwsZHJhd2luZ0J1ZmZlcldpZHRoOm51bGx9Ont9O2QoZyxiLGgpLGEud3JhcHBlcnMuV2ViR0xSZW5kZXJpbmdDb250ZXh0PWJ9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3RoaXMuaW1wbD1hfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LlJhbmdlO2IucHJvdG90eXBlPXtnZXQgc3RhcnRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5jb21tb25BbmNlc3RvckNvbnRhaW5lcil9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldFN0YXJ0KGUoYSksYil9LHNldEVuZDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRFbmQoZShhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QmVmb3JlKGUoYSkpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEFmdGVyKGUoYSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEJlZm9yZShlKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEFmdGVyKGUoYSkpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlKGUoYSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGVDb250ZW50cyhlKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlQm91bmRhcnlQb2ludHMoYSxkKGIpKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5pbnNlcnROb2RlKGUoYSkpfSxzdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zdXJyb3VuZENvbnRlbnRzKGUoYSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5pc1BvaW50SW5SYW5nZShlKGEpLGIpfSxjb21wYXJlUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVQb2ludChlKGEpLGIpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLmludGVyc2VjdHNOb2RlKGUoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGwudG9TdHJpbmcoKX19LGcucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCYmKGIucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gZih0aGlzLmltcGwuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGEpKX0pLGMod2luZG93LlJhbmdlLGIsZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSksYS53cmFwcGVycy5SYW5nZT1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsYz1hLlBhcmVudE5vZGVJbnRlcmZhY2UsZD1hLlNlbGVjdG9yc0ludGVyZmFjZSxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyT2JqZWN0LGc9Zihkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2UoZy5wcm90b3R5cGUsYyksZShnLnByb3RvdHlwZSxkKSxlKGcucHJvdG90eXBlLGIpO3ZhciBoPWYoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIikpO2Eud3JhcHBlcnMuQ29tbWVudD1oLGEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1nfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWkoYS5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjLmNhbGwodGhpcyxiKSxnKGIsdGhpcyk7dmFyIGQ9YS5zaGFkb3dSb290O2suc2V0KHRoaXMsZCksai5zZXQodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQsZD1hLmVsZW1lbnRGcm9tUG9pbnQsZT1hLmdldElubmVySFRNTCxmPWEubWl4aW4sZz1hLnJld3JhcCxoPWEuc2V0SW5uZXJIVE1MLGk9YS51bndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGUodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aCh0aGlzLGEpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gay5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIGouZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gai5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZCh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxhLGIpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gbC50ZXN0KGEpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrYSsnIl0nKX19KSxhLndyYXBwZXJzLlNoYWRvd1Jvb3Q9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXthLnByZXZpb3VzU2libGluZ189YS5wcmV2aW91c1NpYmxpbmcsYS5uZXh0U2libGluZ189YS5uZXh0U2libGluZyxhLnBhcmVudE5vZGVfPWEucGFyZW50Tm9kZX1mdW5jdGlvbiBjKGEsYyxlKXt2YXIgZj1GKGEpLGc9RihjKSxoPWU/RihlKTpudWxsO2lmKGQoYyksYihjKSxlKWEuZmlyc3RDaGlsZD09PWUmJihhLmZpcnN0Q2hpbGRfPWUpLGUucHJldmlvdXNTaWJsaW5nXz1lLnByZXZpb3VzU2libGluZztlbHNle2EubGFzdENoaWxkXz1hLmxhc3RDaGlsZCxhLmxhc3RDaGlsZD09PWEuZmlyc3RDaGlsZCYmKGEuZmlyc3RDaGlsZF89YS5maXJzdENoaWxkKTt2YXIgaT1HKGYubGFzdENoaWxkKTtpJiYoaS5uZXh0U2libGluZ189aS5uZXh0U2libGluZyl9Zi5pbnNlcnRCZWZvcmUoZyxoKX1mdW5jdGlvbiBkKGEpe3ZhciBjPUYoYSksZD1jLnBhcmVudE5vZGU7aWYoZCl7dmFyIGU9RyhkKTtiKGEpLGEucHJldmlvdXNTaWJsaW5nJiYoYS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPWEpLGEubmV4dFNpYmxpbmcmJihhLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189YSksZS5sYXN0Q2hpbGQ9PT1hJiYoZS5sYXN0Q2hpbGRfPWEpLGUuZmlyc3RDaGlsZD09PWEmJihlLmZpcnN0Q2hpbGRfPWEpLGQucmVtb3ZlQ2hpbGQoYyl9fWZ1bmN0aW9uIGUoYSxiKXtnKGIpLnB1c2goYSkseChhLGIpO3ZhciBjPUkuZ2V0KGEpO2N8fEkuc2V0KGEsYz1bXSksYy5wdXNoKGIpfWZ1bmN0aW9uIGYoYSl7SC5zZXQoYSxbXSl9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gSC5nZXQoYSl9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIGkoYSxiLGMpe2Zvcih2YXIgZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYoYihkKSl7aWYoYyhkKT09PSExKXJldHVybn1lbHNlIGkoZCxiLGMpfWZ1bmN0aW9uIGooYSxiKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgic2VsZWN0Iik7aWYoIWMpcmV0dXJuITA7aWYoYz1jLnRyaW0oKSwhYylyZXR1cm4hMDtpZighKGEgaW5zdGFuY2VvZiB6KSlyZXR1cm4hMTtpZigiKiI9PT1jfHxjPT09YS5sb2NhbE5hbWUpcmV0dXJuITA7aWYoIUwudGVzdChjKSlyZXR1cm4hMTtpZigiOiI9PT1jWzBdJiYhTS50ZXN0KGMpKXJldHVybiExO3RyeXtyZXR1cm4gYS5tYXRjaGVzKGMpfWNhdGNoKGQpe3JldHVybiExfX1mdW5jdGlvbiBrKCl7Zm9yKHZhciBhPTA7YTxPLmxlbmd0aDthKyspT1thXS5yZW5kZXIoKTtPPVtdfWZ1bmN0aW9uIGwoKXt5PW51bGwsaygpfWZ1bmN0aW9uIG0oYSl7dmFyIGI9Sy5nZXQoYSk7cmV0dXJuIGJ8fChiPW5ldyBxKGEpLEsuc2V0KGEsYikpLGJ9ZnVuY3Rpb24gbihhKXtmb3IoO2E7YT1hLnBhcmVudE5vZGUpaWYoYSBpbnN0YW5jZW9mIEQpcmV0dXJuIGE7cmV0dXJuIG51bGx9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gbShhLmhvc3QpfWZ1bmN0aW9uIHAoYSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1hLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBxKGEpe3RoaXMuaG9zdD1hLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShhKX1mdW5jdGlvbiByKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQX1mdW5jdGlvbiBzKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQX1mdW5jdGlvbiB0KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB2KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24gdyhhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiB4KGEsYil7Si5zZXQoYSxiKX12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLm1peGluLGEub25lT2YpLEY9YS51bndyYXAsRz1hLndyYXAsSD1uZXcgV2Vha01hcCxJPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsSz1uZXcgV2Vha01hcCxMPS9eWyouOiNbYS16QS1aX3xdLyxNPW5ldyBSZWdFeHAoIl46KCIrWyJsaW5rIiwidmlzaXRlZCIsInRhcmdldCIsImVuYWJsZWQiLCJkaXNhYmxlZCIsImNoZWNrZWQiLCJpbmRldGVybWluYXRlIiwibnRoLWNoaWxkIiwibnRoLWxhc3QtY2hpbGQiLCJudGgtb2YtdHlwZSIsIm50aC1sYXN0LW9mLXR5cGUiLCJmaXJzdC1jaGlsZCIsImxhc3QtY2hpbGQiLCJmaXJzdC1vZi10eXBlIiwibGFzdC1vZi10eXBlIiwib25seS1vZi10eXBlIl0uam9pbigifCIpKyIpIiksTj1FKHdpbmRvdyxbInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiXSksTz1bXSxQPW5ldyBBcnJheVNwbGljZTtQLmVxdWFscz1mdW5jdGlvbihhLGIpe3JldHVybiBGKGEubm9kZSk9PT1ifSxwLnByb3RvdHlwZT17YXBwZW5kOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBwKGEpO3JldHVybiB0aGlzLmNoaWxkTm9kZXMucHVzaChiKSxifSxzeW5jOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLnNraXApe2Zvcih2YXIgYj10aGlzLm5vZGUsZT10aGlzLmNoaWxkTm9kZXMsZj1oKEYoYikpLGc9YXx8bmV3IFdlYWtNYXAsaT1QLmNhbGN1bGF0ZVNwbGljZXMoZSxmKSxqPTAsaz0wLGw9MCxtPTA7bTxpLmxlbmd0aDttKyspe2Zvcih2YXIgbj1pW21dO2w8bi5pbmRleDtsKyspaysrLGVbaisrXS5zeW5jKGcpO2Zvcih2YXIgbz1uLnJlbW92ZWQubGVuZ3RoLHA9MDtvPnA7cCsrKXt2YXIgcT1HKGZbaysrXSk7Zy5nZXQocSl8fGQocSl9Zm9yKHZhciByPW4uYWRkZWRDb3VudCxzPWZba10mJkcoZltrXSkscD0wO3I+cDtwKyspe3ZhciB0PWVbaisrXSx1PXQubm9kZTtjKGIsdSxzKSxnLnNldCh1LCEwKSx0LnN5bmMoZyl9bCs9cn1mb3IodmFyIG09bDttPGUubGVuZ3RoO20rKyllW21dLnN5bmMoZyl9fX0scS5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhKXtpZih0aGlzLmRpcnR5KXt0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCksdGhpcy50cmVlQ29tcG9zaXRpb24oKTt2YXIgYj10aGlzLmhvc3QsYz1iLnNoYWRvd1Jvb3Q7dGhpcy5hc3NvY2lhdGVOb2RlKGIpO2Zvcih2YXIgZD0hZSxlPWF8fG5ldyBwKGIpLGY9Yy5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyTm9kZShjLGUsZiwhMSk7ZCYmZS5zeW5jKCksdGhpcy5kaXJ0eT0hMX19LGludmFsaWRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5kaXJ0eSl7aWYodGhpcy5kaXJ0eT0hMCxPLnB1c2godGhpcykseSlyZXR1cm47eT13aW5kb3dbTl0obCwwKX19LHJlbmRlck5vZGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYodihjKSl7Yj1iLmFwcGVuZChjKTt2YXIgZT1tKGMpO2UuZGlydHk9ITAsZS5yZW5kZXIoYil9ZWxzZSByKGMpP3RoaXMucmVuZGVySW5zZXJ0aW9uUG9pbnQoYSxiLGMsZCk6dChjKT90aGlzLnJlbmRlclNoYWRvd0luc2VydGlvblBvaW50KGEsYixjKTp0aGlzLnJlbmRlckFzQW55RG9tVHJlZShhLGIsYyxkKX0scmVuZGVyQXNBbnlEb21UcmVlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGI9Yi5hcHBlbmQoYyksdihjKSl7dmFyIGU9bShjKTtiLnNraXA9IWUuZGlydHksZS5yZW5kZXIoYil9ZWxzZSBmb3IodmFyIGY9Yy5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyTm9kZShhLGIsZixkKX0scmVuZGVySW5zZXJ0aW9uUG9pbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZyhjKTtpZihlLmxlbmd0aCl7dGhpcy5hc3NvY2lhdGVOb2RlKGMpO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgaD1lW2ZdO3IoaCkmJmQ/dGhpcy5yZW5kZXJJbnNlcnRpb25Qb2ludChhLGIsaCxkKTp0aGlzLnJlbmRlckFzQW55RG9tVHJlZShhLGIsaCxkKX19ZWxzZSB0aGlzLnJlbmRlckZhbGxiYWNrQ29udGVudChhLGIsYyk7dGhpcy5hc3NvY2lhdGVOb2RlKGMucGFyZW50Tm9kZSl9LHJlbmRlclNoYWRvd0luc2VydGlvblBvaW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLm9sZGVyU2hhZG93Um9vdDtpZihkKXt4KGQsYyksdGhpcy5hc3NvY2lhdGVOb2RlKGMucGFyZW50Tm9kZSk7Zm9yKHZhciBlPWQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyl0aGlzLnJlbmRlck5vZGUoZCxiLGUsITApfWVsc2UgdGhpcy5yZW5kZXJGYWxsYmFja0NvbnRlbnQoYSxiLGMpfSxyZW5kZXJGYWxsYmFja0NvbnRlbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXNzb2NpYXRlTm9kZShjKSx0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKTtmb3IodmFyIGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixkLCExKX0saW52YWxpZGF0ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYnV0ZXM9T2JqZWN0LmNyZWF0ZShudWxsKX0sdXBkYXRlRGVwZW5kZW50QXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXM7L1wuXHcrLy50ZXN0KGEpJiYoYlsiY2xhc3MiXT0hMCksLyNcdysvLnRlc3QoYSkmJihiLmlkPSEwKSxhLnJlcGxhY2UoL1xbXHMqKFteXHM9XHx+XF1dKykvZyxmdW5jdGlvbihhLGMpe2JbY109ITB9KX19LGRlcGVuZHNPbkF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2FdfSxkaXN0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczsKaShhLHMsZnVuY3Rpb24oYSl7ZihhKSxjLnVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXMoYS5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGc9YltkXTt2b2lkIDAhPT1nJiZqKGcsYSkmJihlKGcsYSksYltkXT12b2lkIDApfX0pfSx0cmVlQ29tcG9zaXRpb246ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5ob3N0LGI9YS5zaGFkb3dSb290LGM9W10sZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYocihkKSl7dmFyIGU9ZyhkKTtlJiZlLmxlbmd0aHx8KGU9aChkKSksYy5wdXNoLmFwcGx5KGMsZSl9ZWxzZSBjLnB1c2goZCk7Zm9yKHZhciBmLGo7Yjspe2lmKGY9dm9pZCAwLGkoYix1LGZ1bmN0aW9uKGEpe3JldHVybiBmPWEsITF9KSxqPWYsdGhpcy5kaXN0cmlidXRlKGIsYyksail7dmFyIGs9Yi5vbGRlclNoYWRvd1Jvb3Q7aWYoayl7Yj1rLHgoYixqKTtjb250aW51ZX1icmVha31icmVha319LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319LEMucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaygpLGcodGhpcyl9LEIucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1BLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBhLGI9bih0aGlzKTtiJiYoYT1vKGIpKSx0aGlzLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmV2ZW50UGFyZW50c1RhYmxlPUksYS5nZXRSZW5kZXJlckZvckhvc3Q9bSxhLmdldFNoYWRvd1RyZWVzPXcsYS5pbnNlcnRpb25QYXJlbnRUYWJsZT1KLGEucmVuZGVyQWxsUGVuZGluZz1rLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pfX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5hc3NlcnQsZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnVud3JhcCxoPWEud3JhcCxpPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxTZWxlY3RFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuZm9jdXNOb2RlKX0sYWRkUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmFkZFJhbmdlKGQoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5jb2xsYXBzZShlKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbnRhaW5zTm9kZShlKGEpLGIpfSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuZXh0ZW5kKGUoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXt0aGlzLmltcGwucmVtb3ZlUmFuZ2UoZChhKSl9LHNlbGVjdEFsbENoaWxkcmVuOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3RBbGxDaGlsZHJlbihlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7Qy5jYWxsKGIuaW1wbCx5KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuY2xvbmVOb2RlLHE9YS5kZWZpbmVXcmFwR2V0dGVyLHI9YS5lbGVtZW50RnJvbVBvaW50LHM9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix0PWEubWF0Y2hlc05hbWVzLHU9YS5taXhpbix2PWEucmVnaXN0ZXJXcmFwcGVyLHc9YS5yZW5kZXJBbGxQZW5kaW5nLHg9YS5yZXdyYXAseT1hLnVud3JhcCx6PWEud3JhcCxBPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxCPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscShiLCJkb2N1bWVudEVsZW1lbnQiKSxxKGIsImJvZHkiKSxxKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEM9ZG9jdW1lbnQuYWRvcHROb2RlLEQ9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHUoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcih0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBwKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdygpLG5ldyBtKEQuY2FsbCh5KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRT1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpjLmV4dGVuZHM/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjLmV4dGVuZHMsYik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKX12YXIgZT1jLnByb3RvdHlwZTtpZihhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChlKSl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBmLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGg9W107ZyYmIShmPWEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGcpKTspaC5wdXNoKGcpLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGcpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGk9T2JqZWN0LmNyZWF0ZShmKSxqPWgubGVuZ3RoLTE7aj49MDtqLS0paT1PYmplY3QuY3JlYXRlKGkpO1siY3JlYXRlZENhbGxiYWNrIiwiYXR0YWNoZWRDYWxsYmFjayIsImRldGFjaGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWVbYV07YiYmKGlbYV09ZnVuY3Rpb24oKXt6KHRoaXMpaW5zdGFuY2VvZiBkfHx4KHRoaXMpLGIuYXBwbHkoeih0aGlzKSxhcmd1bWVudHMpfSl9KTt2YXIgaz17cHJvdG90eXBlOml9O2MuZXh0ZW5kcyYmKGsuZXh0ZW5kcz1jLmV4dGVuZHMpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGksZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxpKTtFLmNhbGwoeSh0aGlzKSxiLGspO3JldHVybiBkfSxzKFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXMoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh0KSkscyhbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdShiLnByb3RvdHlwZSxqKSx1KGIucHJvdG90eXBlLGwpLHUoYi5wcm90b3R5cGUsbiksdShiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qi5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh5KHRoaXMpLmltcGxlbWVudGF0aW9uKSxCLnNldCh0aGlzLGEpLGEpfX0pLHYod2luZG93LkRvY3VtZW50LGIsZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSksd2luZG93LkhUTUxEb2N1bWVudCYmdih3aW5kb3cuSFRNTERvY3VtZW50LGIpLEEoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnRdKSxoKGcsImNyZWF0ZURvY3VtZW50VHlwZSIpLGgoZywiY3JlYXRlRG9jdW1lbnQiKSxoKGcsImNyZWF0ZUhUTUxEb2N1bWVudCIpLGkoZywiaGFzRmVhdHVyZSIpLHYod2luZG93LkRPTUltcGxlbWVudGF0aW9uLGcpLHMoW3dpbmRvdy5ET01JbXBsZW1lbnRhdGlvbl0sWyJjcmVhdGVEb2N1bWVudFR5cGUiLCJjcmVhdGVEb2N1bWVudCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImhhc0ZlYXR1cmUiXSksYS5hZG9wdE5vZGVOb1JlbW92ZT1kLGEud3JhcHBlcnMuRE9NSW1wbGVtZW50YXRpb249ZyxhLndyYXBwZXJzLkRvY3VtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEud3JhcHBlcnMuU2VsZWN0aW9uLGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS5yZW5kZXJBbGxQZW5kaW5nLGg9YS51bndyYXAsaT1hLnVud3JhcElmTmVlZGVkLGo9YS53cmFwLGs9d2luZG93LldpbmRvdyxsPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLG09d2luZG93LmdldFNlbGVjdGlvbjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxrLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGkoYSksYil9LGsucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCl9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChtLmNhbGwoaCh0aGlzKSkpfX0pLGYoayxiKSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRhdGE6IkhUTUxEYXRhRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGFiZWw6IkhUTUxMYWJlbEVsZW1lbnQiLGxlZ2VuZDoiSFRNTExlZ2VuZEVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGV4dGFyZWE6IkhUTUxUZXh0QXJlYUVsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pLGEua25vd25FbGVtZW50cz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGgsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9Yi5zaGVldC5jc3NSdWxlcztyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZShhKXthJiZmKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGYoKXtyZXR1cm4gb3x8KG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxvLnNldEF0dHJpYnV0ZShxLCIiKSxvW3FdPSEwKSxvfXZhciBnPXtzdHJpY3RTdHlsaW5nOiExLHJlZ2lzdHJ5Ont9LHNoaW1TdHlsaW5nOmZ1bmN0aW9uKGEsYixkKXt2YXIgZj10aGlzLmlzVHlwZUV4dGVuc2lvbihkKSxnPXRoaXMucmVnaXN0ZXJEZWZpbml0aW9uKGEsYixkKTt0aGlzLnN0cmljdFN0eWxpbmcmJnRoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLGIpO3ZhciBoPXRoaXMuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChnLnJvb3RTdHlsZXMsZy5zY29wZVN0eWxlcyxiLGYpO2cuc2hpbW1lZFN0eWxlPWMoaCksYSYmKGEuc2hpbW1lZFN0eWxlPWcuc2hpbW1lZFN0eWxlKTtmb3IodmFyIGksaj0wLGs9Zy5yb290U3R5bGVzLmxlbmd0aDtrPmomJihpPWcucm9vdFN0eWxlc1tqXSk7aisrKWkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTtlKGgpfSxzdHlsZXNUb1NoaW1tZWRDc3NUZXh0OmZ1bmN0aW9uKGEsYixjLGQpe2M9Y3x8IiIsdGhpcy5pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXMoYSksdGhpcy5pbnNlcnRQb2x5ZmlsbFJ1bGVzKGEpO3ZhciBlPXRoaXMuc2hpbVNjb3BpbmcoYixjLGQpO3JldHVybiBlKz10aGlzLmV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXMoYSksZS50cmltKCl9LHJlZ2lzdGVyRGVmaW5pdGlvbjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RyeVtiXT17cm9vdDphLG5hbWU6YixleHRlbmRzTmFtZTpjfSxlPWE/YS5xdWVyeVNlbGVjdG9yQWxsKCJzdHlsZSIpOltdO2U9ZT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDApOltdLGQucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIWZ8fGEmJiFhLnF1ZXJ5U2VsZWN0b3IoInNoYWRvdyIpfHwoZC5zY29wZVN0eWxlcz1mLnNjb3BlU3R5bGVzLmNvbmNhdChkLnNjb3BlU3R5bGVzKSksZH0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxhcHBseVNjb3BlVG9Db250ZW50OmZ1bmN0aW9uKGEsYil7YSYmKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCIqIiksZnVuY3Rpb24oYSl7YS5zZXRBdHRyaWJ1dGUoYiwiIil9KSxBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgidGVtcGxhdGUiKSxmdW5jdGlvbihhKXt0aGlzLmFwcGx5U2NvcGVUb0NvbnRlbnQoYS5jb250ZW50LGIpfSx0aGlzKSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlczpmdW5jdGlvbihhKXthJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhLnRleHRDb250ZW50KX0sdGhpcyl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0yKSsieyJ9KX0saW5zZXJ0UG9seWZpbGxSdWxlczpmdW5jdGlvbihhKXthJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD10aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYS50ZXh0Q29udGVudCl9LHRoaXMpfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoaixmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTEpfSl9LGV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXM6ZnVuY3Rpb24oYSl7dmFyIGI9IiI7cmV0dXJuIGEmJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXtiKz10aGlzLmV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhLnRleHRDb250ZW50KSsiXG5cbiJ9LHRoaXMpLGJ9LGV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0iIjtiPWsuZXhlYyhhKTspYys9YlsxXS5zbGljZSgwLC0xKSsiXG5cbiI7cmV0dXJuIGN9LHNoaW1TY29waW5nOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT90aGlzLmNvbnZlcnRTY29wZWRTdHlsZXMoYSxiLGMpOnZvaWQgMH0sY29udmVydFNjb3BlZFN0eWxlczpmdW5jdGlvbihhLGMsZSl7dmFyIGY9YihhKTtpZihmPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGYpLGY9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGYpLGY9dGhpcy5jb252ZXJ0Q29sb25BbmNlc3RvcihmKSxmPXRoaXMuY29udmVydENvbWJpbmF0b3JzKGYpLGMpe3ZhciBnPWQoZik7Zj10aGlzLnNjb3BlUnVsZXMoZyxjLGUpfXJldHVybiBmfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RSZSx0aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkFuY2VzdG9yUmUsdGhpcy5jb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uUnVsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixkLGUpe2lmKGI9cG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpe2Zvcih2YXIgZixnPWQuc3BsaXQoIiwiKSxoPVtdLGk9MCxqPWcubGVuZ3RoO2o+aSYmKGY9Z1tpXSk7aSsrKWY9Zi50cmltKCksaC5wdXNoKGMoYixmLGUpKTtyZXR1cm4gaC5qb2luKCIsIil9cmV0dXJuIGIrZX0pfSxjb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5tYXRjaChsKT90aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcihhLGIsYyk6YStiK2MrIiwgIitiKyIgIithK2N9LGNvbG9uSG9zdFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGErYi5yZXBsYWNlKGwsIiIpK2N9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXlxeL2csIiAiKS5yZXBsYWNlKC9cXi9nLCIgIil9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJmEuc3R5bGUuY3NzVGV4dD8oZCs9dGhpcy5zY29wZVNlbGVjdG9yKGEuc2VsZWN0b3JUZXh0LGIsYyx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsZCs9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLm1lZGlhPyhkKz0iQG1lZGlhICIrYS5tZWRpYS5tZWRpYVRleHQrIiB7XG4iLGQrPXRoaXMuc2NvcGVSdWxlcyhhLmNzc1J1bGVzLGIsYyksZCs9IlxufVxuXG4iKTphLmNzc1RleHQmJihkKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksZH0sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXSxmPWEuc3BsaXQoIiwiKTtyZXR1cm4gZi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksdGhpcy5zZWxlY3Rvck5lZWRzU2NvcGluZyhhLGIsYykmJihhPWQmJiFhLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcik/dGhpcy5hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUoYSxiKTp0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGIsYykpLGUucHVzaChhKX0sdGhpcyksZS5qb2luKCIsICIpfSxzZWxlY3Rvck5lZWRzU2NvcGluZzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5tYWtlU2NvcGVNYXRjaGVyKGIsYyk7cmV0dXJuIWEubWF0Y2goZCl9LG1ha2VTY29wZU1hdGNoZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iPyJcXFtpcz1bJ1wiXT8iK2ErIlsnXCJdP1xcXSI6YTtyZXR1cm4gbmV3IFJlZ0V4cCgiXigiK2MrIikiK3NlbGVjdG9yUmVTdWZmaXgsIm0iKX0sYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jPyJbaXM9IitiKyJdIjpiO3JldHVybiBhLm1hdGNoKHBvbHlmaWxsSG9zdFJlKT8oYT1hLnJlcGxhY2UocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpLGEucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSxkKyIgIikpOmQrIiAiK2F9LGFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3ZhciBjPVsiICIsIj4iLCIrIiwifiJdLGQ9YSxlPSJbIitiKyJdIjtyZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWQuc3BsaXQoYSk7ZD1iLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLnRyaW0oKS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLCIiKTtyZXR1cm4gYiYmYy5pbmRleE9mKGIpPDAmJmIuaW5kZXhPZihlKTwwJiYoYT1iLnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sIiQxIitlKyIkMiQzIikpLGF9KS5qb2luKGEpfSksZH0saW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoaG9zdFJlLGwpLnJlcGxhY2UoY29sb25Ib3N0UmUsbCkucmVwbGFjZShjb2xvbkFuY2VzdG9yUmUsbSl9LHByb3BlcnRpZXNGcm9tUnVsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jb250ZW50JiYhYS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdKy8pP2Euc3R5bGUuY3NzVGV4dC5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLCJjb250ZW50OiAnIithLnN0eWxlLmNvbnRlbnQrIic7Iik6YS5zdHlsZS5jc3NUZXh0fX0saD0vXC9cKlteKl0qXCorKFteLypdW14qXSpcKispKlwvL2dpbSxpPS9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLGo9L1wvXCpcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0saz0vXC9cKlxzQHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUoW14qXSpcKisoW14vKl1bXipdKlwqKykqKVwvL2dpbSxsPSItc2hhZG93Y3NzaG9zdCIsbT0iLXNoYWRvd2Nzc2FuY2VzdG9yIixuPSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrbCtuLCJnaW0iKSxjc3NDb2xvbkFuY2VzdG9yUmU9bmV3IFJlZ0V4cCgiKCIrbStuLCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsaG9zdFJlPS9AaG9zdC9naW0sY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25BbmNlc3RvclJlPS9cOmFuY2VzdG9yL2dpbSxwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3I9bCsiLW5vLWNvbWJpbmF0b3IiLHBvbHlmaWxsSG9zdFJlPW5ldyBSZWdFeHAobCwiZ2ltIikscG9seWZpbGxBbmNlc3RvclJlPW5ldyBSZWdFeHAobSwiZ2ltIik7dmFyIG8scD0ic2hpbS1zaGFkb3dkb20iLHE9InNoaW0tc2hhZG93ZG9tLWNzcyI7aWYod2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKXtlKCJzdHlsZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuIik7dmFyIHI9d3JhcChkb2N1bWVudCkscz1yLnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtzLmluc2VydEJlZm9yZShmKCkscy5jaGlsZE5vZGVzWzBdKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3ZhciBiPWEudXJsUmVzb2x2ZXI7aWYod2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMudXNlTmF0aXZlKXt2YXIgYz0ibGlua1tyZWw9c3R5bGVzaGVldF1bIitwKyJdIixkPSJzdHlsZVsiK3ArIl0iO0hUTUxJbXBvcnRzLmltcG9ydGVyLmRvY3VtZW50UHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMuaW1wb3J0ZXIuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnMrPSIsIitjLEhUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycz1bSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzLGMsZF0uam9pbigiLCIpO3ZhciBlPUhUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM7SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYz1mdW5jdGlvbihhKXtpZighYVtxXSl7dmFyIGM9YS5fX2ltcG9ydEVsZW1lbnR8fGE7aWYoIWMuaGFzQXR0cmlidXRlKHApKXJldHVybiB2b2lkIGUuY2FsbCh0aGlzLGEpO2EuX19yZXNvdXJjZT8oYz1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxjLnRleHRDb250ZW50PWIucmVzb2x2ZUNzc1RleHQoYS5fX3Jlc291cmNlLGEuaHJlZikpOmIucmVzb2x2ZVN0eWxlKGMpO3ZhciBkPVtjXTtjLnRleHRDb250ZW50PWcuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChkLGQpLGMucmVtb3ZlQXR0cmlidXRlKHAsIiIpLGMuc2V0QXR0cmlidXRlKHEsIiIpLGNbcV09ITAsYy5wYXJlbnROb2RlIT09cyYmKGEucGFyZW50Tm9kZT09PXM/cy5yZXBsYWNlQ2hpbGQoYyxhKTpzLmFwcGVuZENoaWxkKGMpKSxjLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZShwKT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWd9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sd2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX07dmFyIGE9RWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy53ZWJraXRTaGFkb3dSb290LGM9YS5jYWxsKHRoaXMpO3JldHVybiBjLm9sZGVyU2hhZG93Um9vdD1iLGMuaG9zdD10aGlzLEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzaGFkb3dSb290OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRTaGFkb3dSb290fX0sY3JlYXRlU2hhZG93Um9vdDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRDcmVhdGVTaGFkb3dSb290KCl9fX0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oYSl7aWYod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChhKSwhYS5jb250ZW50JiYhYS5fY29udGVudCl7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTthLl9jb250ZW50PWJ9cmV0dXJuIGEuY29udGVudHx8YS5fY29udGVudH19KCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIHZvaWQgMCE9PW1bYV19ZnVuY3Rpb24gYygpe2guY2FsbCh0aGlzKSx0aGlzLl9pc0ludmFsaWQ9ITB9ZnVuY3Rpb24gZChhKXtyZXR1cm4iIj09YSYmYy5jYWxsKHRoaXMpLGEudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsNjMsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGcoYSxnLGgpe2Z1bmN0aW9uIGkoYSl7dC5wdXNoKGEpfXZhciBqPWd8fCJzY2hlbWUgc3RhcnQiLGs9MCxsPSIiLHI9ITEscz0hMSx0PVtdO2E6Zm9yKDsoYVtrLTFdIT1vfHwwPT1rKSYmIXRoaXMuX2lzSW52YWxpZDspe3ZhciB1PWFba107c3dpdGNoKGope2Nhc2Uic2NoZW1lIHN0YXJ0IjppZighdXx8IXAudGVzdCh1KSl7aWYoZyl7aSgiSW52YWxpZCBzY2hlbWUuIik7YnJlYWsgYX1sPSIiLGo9Im5vIHNjaGVtZSI7Y29udGludWV9bCs9dS50b0xvd2VyQ2FzZSgpLGo9InNjaGVtZSI7YnJlYWs7Y2FzZSJzY2hlbWUiOmlmKHUmJnEudGVzdCh1KSlsKz11LnRvTG93ZXJDYXNlKCk7ZWxzZXtpZigiOiIhPXUpe2lmKGcpe2lmKG89PXUpYnJlYWsgYTtpKCJDb2RlIHBvaW50IG5vdCBhbGxvd2VkIGluIHNjaGVtZTogIit1KTticmVhayBhfWw9IiIsaz0wLGo9Im5vIHNjaGVtZSI7Y29udGludWV9aWYodGhpcy5fc2NoZW1lPWwsbD0iIixnKWJyZWFrIGE7Yih0aGlzLl9zY2hlbWUpJiYodGhpcy5faXNSZWxhdGl2ZT0hMCksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUiOnRoaXMuX2lzUmVsYXRpdmUmJmgmJmguX3NjaGVtZT09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOnRoaXMuX2lzUmVsYXRpdmU/ImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6InNjaGVtZSBkYXRhIn1icmVhaztjYXNlInNjaGVtZSBkYXRhIjoiPyI9PXU/KHF1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dT8odGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iik6byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fc2NoZW1lRGF0YSs9ZSh1KSk7YnJlYWs7Y2FzZSJubyBzY2hlbWUiOmlmKGgmJmIoaC5fc2NoZW1lKSl7aj0icmVsYXRpdmUiO2NvbnRpbnVlfWkoIk1pc3Npbmcgc2NoZW1lLiIpLGMuY2FsbCh0aGlzKTticmVhaztjYXNlInJlbGF0aXZlIG9yIGF1dGhvcml0eSI6aWYoIi8iIT11fHwiLyIhPWFbaysxXSl7aSgiRXhwZWN0ZWQgLywgZ290OiAiK3UpLGo9InJlbGF0aXZlIjtjb250aW51ZX1qPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2JyZWFrO2Nhc2UicmVsYXRpdmUiOmlmKHRoaXMuX2lzUmVsYXRpdmU9ITAsImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9zY2hlbWU9aC5fc2NoZW1lKSxvPT11KXt0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5O2JyZWFrIGF9aWYoIi8iPT11fHwiXFwiPT11KSJcXCI9PXUmJmkoIlxcIGlzIGFuIGludmFsaWQgY29kZSBwb2ludC4iKSxqPSJyZWxhdGl2ZSBzbGFzaCI7ZWxzZSBpZigiPyI9PXUpdGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiO2Vsc2V7aWYoIiMiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhcC50ZXN0KHUpfHwiOiIhPXYmJiJ8IiE9dnx8byE9dyYmIi8iIT13JiYiXFwiIT13JiYiPyIhPXcmJiIjIiE9dykmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXUmJiJcXCIhPXUpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSksaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1qPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT11JiYiXFwiIT11KXtqPSJhdXRob3JpdHkiO2NvbnRpbnVlfWkoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3UpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXUpe3ImJihpKCJAIGFscmVhZHkgc2Vlbi4iKSxsKz0iJTQwIikscj0hMDtmb3IodmFyIHg9MDt4PGwubGVuZ3RoO3grKyl7dmFyIHk9bFt4XTtpZigiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkpaWYoIjoiIT15fHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciB6PWUoeSk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz16OnRoaXMuX3VzZXJuYW1lKz16fWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBpKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWw9IiJ9ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtrLT1sLmxlbmd0aCxsPSIiLGo9Imhvc3QiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHwiOiIhPWxbMV0mJiJ8IiE9bFsxXT8wPT1sLmxlbmd0aD9qPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpsKz11O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT11fHxzKXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIsZylicmVhayBhO2NvbnRpbnVlfSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dT8oIlsiPT11P3M9ITA6Il0iPT11JiYocz0hMSksbCs9dSk6aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIrdSl9ZWxzZSBpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icG9ydCIsImhvc3RuYW1lIj09ZylicmVhayBhO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11fHxnKXtpZigiIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BKyIiKSxsPSIifWlmKGcpYnJlYWsgYTtqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIrdSk6Yy5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09dSYmaSgiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGo9InJlbGF0aXZlIHBhdGgiLCIvIiE9dSYmIlxcIiE9dSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKG8hPXUmJiIvIiE9dSYmIlxcIiE9dSYmKGd8fCI/IiE9dSYmIiMiIT11KSkiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJihsKz1lKHUpKTtlbHNleyJcXCI9PXUmJmkoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEI7KEI9bltsLnRvTG93ZXJDYXNlKCldKSYmKGw9QiksIi4uIj09bD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXUmJiJcXCIhPXUmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09bCYmIi8iIT11JiYiXFwiIT11P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1sJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1sLmxlbmd0aCYmcC50ZXN0KGxbMF0pJiYifCI9PWxbMV0mJihsPWxbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2gobCkpLGw9IiIsIj8iPT11Pyh0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXUmJih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjpnfHwiIyIhPXU/byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fcXVlcnkrPWYodSkpOih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9mcmFnbWVudCs9dSl9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fSxhLlVSTD1pfX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiYXNlIik7aS5ocmVmPWRvY3VtZW50LmJhc2VVUkksaC5jb250ZW50Lm93bmVyRG9jdW1lbnQuYXBwZW5kQ2hpbGQoaSk7dmFyIGo9W10saz1mdW5jdGlvbigpe2oucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1rLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGp9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3dpbmRvdy5Qb2x5bWVyPT09ayYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX0pLGEuY3JlYXRlRE9NPWJ9KHdpbmRvdy5QbGF0Zm9ybSksd2luZG93LnRlbXBsYXRlQ29udGVudD13aW5kb3cudGVtcGxhdGVDb250ZW50fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50fSxmdW5jdGlvbihhKXthPWF8fCh3aW5kb3cuSW5zcGVjdG9yPXt9KTt2YXIgYjt3aW5kb3cuc2luc3BlY3Q9ZnVuY3Rpb24oYSxkKXtifHwoYj13aW5kb3cub3BlbigiIiwiU2hhZG93RE9NIEluc3BlY3RvciIsbnVsbCwhMCksYi5kb2N1bWVudC53cml0ZShjKSxiLmFwaT17c2hhZG93aXplOnNoYWRvd2l6ZX0pLGYoYXx8d3JhcChkb2N1bWVudC5ib2R5KSxkKX07dmFyIGM9WyI8IURPQ1RZUEUgaHRtbD4iLCI8aHRtbD4iLCIgIDxoZWFkPiIsIiAgICA8dGl0bGU+U2hhZG93RE9NIEluc3BlY3RvcjwvdGl0bGU+IiwiICAgIDxzdHlsZT4iLCIgICAgICBib2R5IHsiLCIgICAgICB9IiwiICAgICAgcHJlIHsiLCcgICAgICAgIGZvbnQ6IDlwdCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7JywiICAgICAgICBsaW5lLWhlaWdodDogMS41ZW07IiwiICAgICAgfSIsIiAgICAgIHRhZyB7IiwiICAgICAgICBjb2xvcjogcHVycGxlOyIsIiAgICAgIH0iLCIgICAgICB1bCB7IiwiICAgICAgICAgbWFyZ2luOiAwOyIsIiAgICAgICAgIHBhZGRpbmc6IDA7IiwiICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsiLCIgICAgICB9IiwiICAgICAgbGkgeyIsIiAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsiLCIgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOyIsIiAgICAgICAgIHBhZGRpbmc6IDRweCA2cHg7IiwiICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OyIsIiAgICAgICAgIG1hcmdpbi1yaWdodDogNHB4OyIsIiAgICAgIH0iLCIgICAgPC9zdHlsZT4iLCIgIDwvaGVhZD4iLCIgIDxib2R5PiIsJyAgICA8dWwgaWQ9ImNydW1icyI+JywiICAgIDwvdWw+IiwnICAgIDxkaXYgaWQ9InRyZWUiPjwvZGl2PicsIiAgPC9ib2R5PiIsIjwvaHRtbD4iXS5qb2luKCJcbiIpLGQ9W10sZT1mdW5jdGlvbigpe3ZhciBhPWIuZG9jdW1lbnQsYz1hLnF1ZXJ5U2VsZWN0b3IoIiNjcnVtYnMiKTtjLnRleHRDb250ZW50PSIiO2Zvcih2YXIgZSxnPTA7ZT1kW2ddO2crKyl7dmFyIGg9YS5jcmVhdGVFbGVtZW50KCJhIik7aC5ocmVmPSIjIixoLnRleHRDb250ZW50PWUubG9jYWxOYW1lLGguaWR4PWcsaC5vbmNsaWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYjtkLmxlbmd0aD50aGlzLmlkeDspYj1kLnBvcCgpO2YoYi5zaGFkb3d8fGIsYiksYS5wcmV2ZW50RGVmYXVsdCgpfSxjLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgibGkiKSkuYXBwZW5kQ2hpbGQoaCl9fSxmPWZ1bmN0aW9uKGEsYyl7dmFyIGY9Yi5kb2N1bWVudDtrPVtdO3ZhciBnPWN8fGE7ZC5wdXNoKGcpLGUoKSxmLmJvZHkucXVlcnlTZWxlY3RvcigiI3RyZWUiKS5pbm5lckhUTUw9IjxwcmU+IitqKGEsYS5jaGlsZE5vZGVzKSsiPC9wcmU+In0sZz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGg9e1NUWUxFOjEsU0NSSVBUOjEsIiNjb21tZW50IjoxLFRFTVBMQVRFOjF9LGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGhbYS5ub2RlTmFtZV19LGo9ZnVuY3Rpb24oYSxiLGMpe2lmKGkoYSkpcmV0dXJuIiI7dmFyIGQ9Y3x8IiI7aWYoYS5sb2NhbE5hbWV8fDExPT1hLm5vZGVUeXBlKXt2YXIgZT1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IixmPWQrbChhKTsiY29udGVudCI9PWUmJihiPWEuZ2V0RGlzdHJpYnV0ZWROb2RlcygpKSxmKz0iPGJyLz4iO3ZhciBoPWQrIiZuYnNwOyZuYnNwOyI7ZyhiLGZ1bmN0aW9uKGEpe2YrPWooYSxhLmNoaWxkTm9kZXMsaCl9KSxmKz1kLHticjoxfVtlXXx8KGYrPSI8dGFnPiZsdDsvIitlKyImZ3Q7PC90YWc+IixmKz0iPGJyLz4iKX1lbHNle3ZhciBrPWEudGV4dENvbnRlbnQudHJpbSgpO2Y9az9kKyciJytrKyciPGJyLz4nOiIifXJldHVybiBmfSxrPVtdLGw9ZnVuY3Rpb24oYSl7dmFyIGI9Ijx0YWc+Jmx0OyIsYz1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IjtyZXR1cm4gYS53ZWJraXRTaGFkb3dSb290fHxhLnNoYWRvd1Jvb3Q/KGIrPScgPGJ1dHRvbiBpZHg9Iicray5sZW5ndGgrJyIgb25jbGljaz0iYXBpLnNoYWRvd2l6ZS5jYWxsKHRoaXMpIj4nK2MrIjwvYnV0dG9uPiIsay5wdXNoKGEpKTpiKz1jfHwic2hhZG93LXJvb3QiLGEuYXR0cmlidXRlcyYmZyhhLmF0dHJpYnV0ZXMsZnVuY3Rpb24oYSl7Yis9IiAiK2EubmFtZSsoYS52YWx1ZT8nPSInK2EudmFsdWUrJyInOiIiKX0pLGIrPSImZ3Q7PC90YWc+In07c2hhZG93aXplPWZ1bmN0aW9uKCl7dmFyIGE9TnVtYmVyKHRoaXMuYXR0cmlidXRlcy5pZHgudmFsdWUpLGI9a1thXTtiP2YoYi53ZWJraXRTaGFkb3dSb290fHxiLnNoYWRvd1Jvb3QsYik6KGNvbnNvbGUubG9nKCJiYWQgc2hhZG93aXplIG5vZGUiKSxjb25zb2xlLmRpcih0aGlzKSl9LGEub3V0cHV0PWp9KHdpbmRvdy5JbnNwZWN0b3IpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyB9IFxuIjt2YXIgYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiPWJ8fFtdLGIubWFwfHwoYj1bYl0pLGEuYXBwbHkodGhpcyxiLm1hcChkKSl9ZnVuY3Rpb24gYyhhLGMsZCl7dmFyIGU7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOmU9bnVsbDticmVhaztjYXNlIDI6ZT1jLmFwcGx5KHRoaXMpO2JyZWFrO2RlZmF1bHQ6ZT1iKGQsYyl9ZlthXT1lfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGZbYV19ZnVuY3Rpb24gZShhLGMpe0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtiKGMsYSl9KX12YXIgZj17fTthLm1hcnNoYWw9ZCxhLm1vZHVsZT1jLGEudXNpbmc9ZX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2YudGV4dENvbnRlbnQ9ZCsrLGUucHVzaChhKX1mdW5jdGlvbiBjKCl7Zm9yKDtlLmxlbmd0aDspZS5zaGlmdCgpKCl9dmFyIGQ9MCxlPVtdLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8SnNNdXRhdGlvbk9ic2VydmVyKShjKS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxhLmVuZE9mTWljcm90YXNrPWJ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkKXtyZXR1cm4gYS5yZXBsYWNlKGQsZnVuY3Rpb24oYSxkLGUsZil7dmFyIGc9ZS5yZXBsYWNlKC9bIiddL2csIiIpO3JldHVybiBnPWMoYixnKSxkKyInIitnKyInIitmfSl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPW5ldyBVUkwoYixhKTtyZXR1cm4gZChjLmhyZWYpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9ZG9jdW1lbnQuYmFzZVVSSSxjPW5ldyBVUkwoYSxiKTtyZXR1cm4gYy5ob3N0PT09Yi5ob3N0JiZjLnBvcnQ9PT1iLnBvcnQmJmMucHJvdG9jb2w9PT1iLnByb3RvY29sP2UoYi5wYXRobmFtZSxjLnBhdGhuYW1lKTphfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9YS5zcGxpdCgiLyIpLGQ9Yi5zcGxpdCgiLyIpO2MubGVuZ3RoJiZjWzBdPT09ZFswXTspYy5zaGlmdCgpLGQuc2hpZnQoKTtmb3IodmFyIGU9MCxmPWMubGVuZ3RoLTE7Zj5lO2UrKylkLnVuc2hpZnQoIi4uIik7cmV0dXJuIGQuam9pbigiLyIpfXZhciBmPXtyZXNvbHZlRG9tOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSx0aGlzLnJlc29sdmVBdHRyaWJ1dGVzKGEsYiksdGhpcy5yZXNvbHZlU3R5bGVzKGEsYik7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpO2lmKGMpZm9yKHZhciBkLGU9MCxmPWMubGVuZ3RoO2Y+ZSYmKGQ9Y1tlXSk7ZSsrKWQuY29udGVudCYmdGhpcy5yZXNvbHZlRG9tKGQuY29udGVudCxiKX0scmVzb2x2ZVN0eWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVTdHlsZShkLGIpfSxyZXNvbHZlU3R5bGU6ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGEudGV4dENvbnRlbnQ9dGhpcy5yZXNvbHZlQ3NzVGV4dChhLnRleHRDb250ZW50LGIpfSxyZXNvbHZlQ3NzVGV4dDpmdW5jdGlvbihhLGMpe3JldHVybiBhPWIoYSxjLGcpLGIoYSxjLGgpfSxyZXNvbHZlQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2EuaGFzQXR0cmlidXRlcyYmYS5oYXNBdHRyaWJ1dGVzKCkmJnRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGEsYik7dmFyIGM9YSYmYS5xdWVyeVNlbGVjdG9yQWxsKGopO2lmKGMpZm9yKHZhciBkLGU9MCxmPWMubGVuZ3RoO2Y+ZSYmKGQ9Y1tlXSk7ZSsrKXRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGQsYil9LHJlc29sdmVFbGVtZW50QXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2I9Ynx8YS5vd25lckRvY3VtZW50LmJhc2VVUkksaS5mb3JFYWNoKGZ1bmN0aW9uKGQpe3ZhciBlPWEuYXR0cmlidXRlc1tkXTtpZihlJiZlLnZhbHVlJiZlLnZhbHVlLnNlYXJjaChrKTwwKXt2YXIgZj1jKGIsZS52YWx1ZSk7ZS52YWx1ZT1mfX0pfX0sZz0vKHVybFwoKShbXildKikoXCkpL2csaD0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csaT1bImhyZWYiLCJzcmMiLCJhY3Rpb24iXSxqPSJbIitpLmpvaW4oIl0sWyIpKyJdIixrPSJ7ey4qfX0iO2EudXJsUmVzb2x2ZXI9Zn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YQp9ZnVuY3Rpb24gZCgpe3Q9ITE7dmFyIGE9dTt1PVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7dmFyIGI9ITE7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFrZVJlY29yZHMoKTtlKGEpLGMubGVuZ3RoJiYoYS5jYWxsYmFja18oYyxhKSxiPSEwKX0pLGImJmQoKX1mdW5jdGlvbiBlKGEpe2Eubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9cC5nZXQoYik7YyYmYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Iub2JzZXJ2ZXI9PT1hJiZiLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfSl9KX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPWE7YztjPWMucGFyZW50Tm9kZSl7dmFyIGQ9cC5nZXQoYyk7aWYoZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYub3B0aW9ucztpZihjPT09YXx8Zy5zdWJ0cmVlKXt2YXIgaD1iKGcpO2gmJmYuZW5xdWV1ZShoKX19fX1mdW5jdGlvbiBnKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89Kyt2fWZ1bmN0aW9uIGgoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1bXSx0aGlzLnJlbW92ZWROb2Rlcz1bXSx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBpKGEpe3ZhciBiPW5ldyBoKGEudHlwZSxhLnRhcmdldCk7cmV0dXJuIGIuYWRkZWROb2Rlcz1hLmFkZGVkTm9kZXMuc2xpY2UoKSxiLnJlbW92ZWROb2Rlcz1hLnJlbW92ZWROb2Rlcy5zbGljZSgpLGIucHJldmlvdXNTaWJsaW5nPWEucHJldmlvdXNTaWJsaW5nLGIubmV4dFNpYmxpbmc9YS5uZXh0U2libGluZyxiLmF0dHJpYnV0ZU5hbWU9YS5hdHRyaWJ1dGVOYW1lLGIuYXR0cmlidXRlTmFtZXNwYWNlPWEuYXR0cmlidXRlTmFtZXNwYWNlLGIub2xkVmFsdWU9YS5vbGRWYWx1ZSxifWZ1bmN0aW9uIGooYSxiKXtyZXR1cm4gdz1uZXcgaChhLGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIHg/eDooeD1pKHcpLHgub2xkVmFsdWU9YSx4KX1mdW5jdGlvbiBsKCl7dz14PXZvaWQgMH1mdW5jdGlvbiBtKGEpe3JldHVybiBhPT09eHx8YT09PXd9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPT09Yj9hOngmJm0oYSk/eDpudWxsfWZ1bmN0aW9uIG8oYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgcD1uZXcgV2Vha01hcCxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiB2b2lkKGNbZC0xXT1mKX1lbHNlIGIodGhpcy5vYnNlcnZlcik7Y1tkXT1hfSxhZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLmFkZExpc3RlbmVyc18odGhpcy50YXJnZXQpfSxhZGRMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LHJlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LHJlbW92ZUxpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0sYWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLmFkZExpc3RlbmVyc18oYSksdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9cC5nZXQoYSk7Ynx8cC5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdLGEuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18oYSk7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319LHRoaXMpfSxoYW5kbGVFdmVudDpmdW5jdGlvbihhKXtzd2l0Y2goYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxhLnR5cGUpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjp2YXIgYj1hLmF0dHJOYW1lLGM9YS5yZWxhdGVkTm9kZS5uYW1lc3BhY2VVUkksZD1hLnRhcmdldCxlPW5ldyBqKCJhdHRyaWJ1dGVzIixkKTtlLmF0dHJpYnV0ZU5hbWU9YixlLmF0dHJpYnV0ZU5hbWVzcGFjZT1jO3ZhciBnPWEuYXR0ckNoYW5nZT09PU11dGF0aW9uRXZlbnQuQURESVRJT04/bnVsbDphLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIWEuYXR0cmlidXRlc3x8YS5hdHRyaWJ1dGVGaWx0ZXImJmEuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGIpJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYyk/dm9pZCAwOmEuYXR0cmlidXRlT2xkVmFsdWU/ayhnKTplfSk7YnJlYWs7Y2FzZSJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiOnZhciBkPWEudGFyZ2V0LGU9aigiY2hhcmFjdGVyRGF0YSIsZCksZz1hLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhcmFjdGVyRGF0YT9hLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT9rKGcpOmU6dm9pZCAwfSk7YnJlYWs7Y2FzZSJET01Ob2RlUmVtb3ZlZCI6dGhpcy5hZGRUcmFuc2llbnRPYnNlcnZlcihhLnRhcmdldCk7Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOnZhciBoLGksZD1hLnJlbGF0ZWROb2RlLG09YS50YXJnZXQ7IkRPTU5vZGVJbnNlcnRlZCI9PT1hLnR5cGU/KGg9W21dLGk9W10pOihoPVtdLGk9W21dKTt2YXIgbj1tLnByZXZpb3VzU2libGluZyxvPW0ubmV4dFNpYmxpbmcsZT1qKCJjaGlsZExpc3QiLGQpO2UuYWRkZWROb2Rlcz1oLGUucmVtb3ZlZE5vZGVzPWksZS5wcmV2aW91c1NpYmxpbmc9bixlLm5leHRTaWJsaW5nPW8sZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoaWxkTGlzdD9lOnZvaWQgMH0pfWwoKX19LGEuSnNNdXRhdGlvbk9ic2VydmVyPWcsYS5NdXRhdGlvbk9ic2VydmVyfHwoYS5NdXRhdGlvbk9ic2VydmVyPWcpfSh0aGlzKSx3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LGZ1bmN0aW9uKGEpe3ZhciBiPShhLnBhdGgsYS54aHIpLGM9YS5mbGFncyxkPWZ1bmN0aW9uKGEsYil7dGhpcy5jYWNoZT17fSx0aGlzLm9ubG9hZD1hLHRoaXMub25jb21wbGV0ZT1iLHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e319O2QucHJvdG90eXBlPXthZGROb2RlczpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0Kz1hLmxlbmd0aDtmb3IodmFyIGIsYz0wLGQ9YS5sZW5ndGg7ZD5jJiYoYj1hW2NdKTtjKyspdGhpcy5yZXF1aXJlKGIpO3RoaXMuY2hlY2tEb25lKCl9LGFkZE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCsrLHRoaXMucmVxdWlyZShhKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3JjfHxhLmhyZWY7YS5fX25vZGVVcmw9Yix0aGlzLmRlZHVwZShiLGEpfHx0aGlzLmZldGNoKGIsYSl9LGRlZHVwZTpmdW5jdGlvbihhLGIpe2lmKHRoaXMucGVuZGluZ1thXSlyZXR1cm4gdGhpcy5wZW5kaW5nW2FdLnB1c2goYiksITA7cmV0dXJuIHRoaXMuY2FjaGVbYV0/KHRoaXMub25sb2FkKGEsYix0aGlzLmNhY2hlW2FdKSx0aGlzLnRhaWwoKSwhMCk6KHRoaXMucGVuZGluZ1thXT1bYl0sITEpfSxmZXRjaDpmdW5jdGlvbihhLGQpe2MubG9hZCYmY29uc29sZS5sb2coImZldGNoIixhLGQpO3ZhciBlPWZ1bmN0aW9uKGIsYyl7dGhpcy5yZWNlaXZlKGEsZCxiLGMpfS5iaW5kKHRoaXMpO2IubG9hZChhLGUpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGUsZj10aGlzLnBlbmRpbmdbYV0sZz0wLGg9Zi5sZW5ndGg7aD5nJiYoZT1mW2ddKTtnKyspdGhpcy5vbmxvYWQoYSxlLGQpLHRoaXMudGFpbCgpO3RoaXMucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX0sYj1ifHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYys9Ij8iK01hdGgucmFuZG9tKCkpLGYub3BlbigiR0VUIixjLGIuYXN5bmMpLGYuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09Zi5yZWFkeVN0YXRlJiZkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX0pLGYuc2VuZCgpLGZ9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19LGEueGhyPWIsYS5Mb2FkZXI9ZH0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLnJlbD09PWR9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLnRleHRDb250ZW50LGsucmVzb2x2ZVVybHNJblN0eWxlKGIpLGJ9dmFyIGQ9ImltcG9ydCIsZT1hLmZsYWdzLGY9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaD17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZCsiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZCsiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoZS5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7ZS5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxlLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKSx0aGlzLnBhcnNlTmV4dCgpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXtpZihhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCxIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZT9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpfSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKT90aGlzLnBhcnNlSW1wb3J0KGEpOihhLmhyZWY9YS5ocmVmLHRoaXMucGFyc2VHZW5lcmljKGEpKX0scGFyc2VTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hO2E9YyhhKSxhLl9faW1wb3J0RWxlbWVudD1iLHRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7dGhpcy50cmFja0VsZW1lbnQoYSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0sdHJhY2tFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1mdW5jdGlvbigpe2IubWFya1BhcnNpbmdDb21wbGV0ZShhKX07aWYoYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixjKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixjKSxmJiYic3R5bGUiPT09YS5sb2NhbE5hbWUpe3ZhciBkPSExO2lmKC0xPT1hLnRleHRDb250ZW50LmluZGV4T2YoIkBpbXBvcnQiKSlkPSEwO2Vsc2UgaWYoYS5zaGVldCl7ZD0hMDtmb3IodmFyIGUsZz1hLnNoZWV0LmNzc1J1bGVzLGg9Zz9nLmxlbmd0aDowLGk9MDtoPmkmJihlPWdbaV0pO2krKyllLnR5cGU9PT1DU1NSdWxlLklNUE9SVF9SVUxFJiYoZD1kJiZCb29sZWFuKGUuc3R5bGVTaGVldCkpfWQmJmEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSkpfX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7dmFyIGM9KGIuX19yZXNvdXJjZXx8Yi50ZXh0Q29udGVudCkudHJpbSgpO2lmKGMpe3ZhciBkPWIuX19ub2RlVXJsO2lmKCFkKXtkPWIub3duZXJEb2N1bWVudC5iYXNlVVJJO3ZhciBlPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGY9Yy5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7ZT1mJiZmWzFdfHxlLGQrPSIvIitlKyIuanMifWMrPSJcbi8vIyBzb3VyY2VVUkw9IitkKyJcbiIsYS5jdXJyZW50U2NyaXB0PWIsZXZhbC5jYWxsKHdpbmRvdyxjKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH10aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYil9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhnKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxlPWEucXVlcnlTZWxlY3RvckFsbCh0aGlzLnBhcnNlU2VsZWN0b3JzRm9yTm9kZShhKSksZj0wLGc9ZS5sZW5ndGg7Zz5mJiYoZD1lW2ZdKTtmKyspaWYoIXRoaXMuaXNQYXJzZWQoZCkpcmV0dXJuIHRoaXMuaGFzUmVzb3VyY2UoZCk/YihkKT90aGlzLm5leHRUb1BhcnNlSW5Eb2MoZC5pbXBvcnQsZCk6ZDp2b2lkIDA7cmV0dXJuIGN9LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1nP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fX2ltcG9ydFBhcnNlZH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSkmJiFhLmltcG9ydD8hMToic2NyaXB0Ij09PWEubG9jYWxOYW1lJiZhLnNyYyYmIWEuX19yZXNvdXJjZT8hMTohMH19LGk9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGo9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGs9e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixpKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixqKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWgsYS5wYXRoPWssYS5pc0lFPWZ9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEsbSl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KG0pKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY31mdW5jdGlvbiBlKGEsYil7Yj1ifHxuLGcoZnVuY3Rpb24oKXtoKGEsYil9LGIpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZXx8YS5yZWFkeVN0YXRlPT09dX1mdW5jdGlvbiBnKGEsYil7aWYoZihiKSlhJiZhKCk7ZWxzZXt2YXIgYz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09Yi5yZWFkeVN0YXRlfHxiLnJlYWR5U3RhdGU9PT11KSYmKGIucmVtb3ZlRXZlbnRMaXN0ZW5lcih2LGMpLGcoYSxiKSl9O2IuYWRkRXZlbnRMaXN0ZW5lcih2LGMpfX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYygpe2Y9PWcmJnJlcXVlc3RBbmltYXRpb25GcmFtZShhKX1mdW5jdGlvbiBkKCl7ZisrLGMoKX12YXIgZT1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxmPTAsZz1lLmxlbmd0aDtpZihnKWZvcih2YXIgaCxqPTA7Zz5qJiYoaD1lW2pdKTtqKyspaShoKT9kLmNhbGwoaCk6KGguYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCkpO2Vsc2UgYygpfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGs/YS5pbXBvcnQmJiJsb2FkaW5nIiE9PWEuaW1wb3J0LnJlYWR5U3RhdGU6YS5fX2ltcG9ydFBhcnNlZH12YXIgaj0iaW1wb3J0ImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKSxrPWosbD1hLmZsYWdzLG09ImltcG9ydCIsbj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudDtpZihrKXZhciBvPXt9O2Vsc2UgdmFyIHA9KGEueGhyLGEuTG9hZGVyKSxxPWEucGFyc2VyLG89e2RvY3VtZW50czp7fSxkb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrbSsiXSIsaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK20rIl0iLCJzY3JpcHRbc3JjXTpub3QoW3R5cGVdKSIsJ3NjcmlwdFtzcmNdW3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10uam9pbigiLCIpLGxvYWROb2RlOmZ1bmN0aW9uKGEpe3IuYWRkTm9kZShhKX0sbG9hZFN1YnRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXJzaGFsTm9kZXMoYSk7ci5hZGROb2RlcyhiKX0sbWFyc2hhbE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9LGxvYWRTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PW4/dGhpcy5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzUHJlbG9hZFNlbGVjdG9yc30sbG9hZGVkOmZ1bmN0aW9uKGEsYyxlKXtpZihsLmxvYWQmJmNvbnNvbGUubG9nKCJsb2FkZWQiLGEsYyksYy5fX3Jlc291cmNlPWUsYihjKSl7dmFyIGY9dGhpcy5kb2N1bWVudHNbYV07Znx8KGY9ZChlLGEpLGYuX19pbXBvcnRMaW5rPWMsdGhpcy5ib290RG9jdW1lbnQoZiksdGhpcy5kb2N1bWVudHNbYV09ZiksYy5pbXBvcnQ9Zn1xLnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSkscS5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7cS5wYXJzZU5leHQoKX19LHI9bmV3IHAoby5sb2FkZWQuYmluZChvKSxvLmxvYWRlZEFsbC5iaW5kKG8pKTt2YXIgcz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhUTUxJbXBvcnRzLmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LmN1cnJlbnRTY3JpcHR9LGNvbmZpZ3VyYWJsZTohMH07aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIscyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9jdXJyZW50U2NyaXB0IixzKSwhZG9jdW1lbnQuYmFzZVVSSSl7dmFyIHQ9e2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJiYXNlVVJJIix0KX12YXIgdT1IVE1MSW1wb3J0cy5pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIix2PSJyZWFkeXN0YXRlY2hhbmdlIjthLmhhc05hdGl2ZT1qLGEudXNlTmF0aXZlPWssYS5pbXBvcnRlcj1vLGEud2hlbkltcG9ydHNSZWFkeT1lLGEuSU1QT1JUX0xJTktfVFlQRT1tLGEuaXNJbXBvcnRMb2FkZWQ9aSxhLmltcG9ydExvYWRlcj1yfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGI9YVtkXSk7ZCsrKSJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMubGVuZ3RoJiZjKGIuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGIsZT0wLGc9YS5sZW5ndGg7Zz5lJiYoYj1hW2VdKTtlKyspZChiKSYmZi5sb2FkTm9kZShiKSxiLmNoaWxkcmVuJiZiLmNoaWxkcmVuLmxlbmd0aCYmYyhiLmNoaWxkcmVuKX1mdW5jdGlvbiBkKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZSYmZy5jYWxsKGEsZi5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9ZnVuY3Rpb24gZShhKXtoLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX12YXIgZj0oYS5JTVBPUlRfTElOS19UWVBFLGEuaW1wb3J0ZXIpLGc9SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvcixoPW5ldyBNdXRhdGlvbk9ic2VydmVyKGIpO2Eub2JzZXJ2ZT1lLGYub2JzZXJ2ZT1lfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIuYm9vdERvY3VtZW50KGIpfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBjLmluaXRFdmVudChhLGIuYnViYmxlcz09PSExPyExOiEwLGIuY2FuY2VsYWJsZT09PSExPyExOiEwLGIuZGV0YWlsKSxjfSk7dmFyIGI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksYi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksSFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihFLnB1c2goYSksIUQpe0Q9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Q9ITE7Zm9yKHZhciBhLGI9RSxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7RT1bXX1mdW5jdGlvbiBsKGEpe0M/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9BLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihBLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtDP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9BLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtBLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEEuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihHKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEcoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEYudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7Ri5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7QS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7YT1xKGEpLHkoYSk7Zm9yKHZhciBiLGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJsaW5rW3JlbD0iK0IrIl0iKSxkPTAsZT1jLmxlbmd0aDtlPmQmJihiPWNbZF0pO2QrKyliLmltcG9ydCYmYi5pbXBvcnQuX19wYXJzZWQmJnooYi5pbXBvcnQpfXZhciBBPXdpbmRvdy5sb2dGbGFnc3x8e30sQj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsQz0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPUM7dmFyIEQ9ITEsRT1bXSxGPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLklNUE9SVF9MSU5LX1RZUEU9QixhLndhdGNoU2hhZG93PXMsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXosYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEuaW5zZXJ0ZWROb2RlPWksYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD15LGEudGFrZVJlY29yZHM9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZil7dmFyIGc9Znx8e307aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50IGBuYW1lYCBtdXN0IG5vdCBiZSBlbXB0eSIpO2lmKGIuaW5kZXhPZigiLSIpPDApdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50ICgnbmFtZScpIG11c3QgY29udGFpbiBhIGRhc2ggKCctJykuIEFyZ3VtZW50IHByb3ZpZGVkIHdhcyAnIitTdHJpbmcoYikrIicuIik7aWYobShiKSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZURlZmluaXRpb25FcnJvcjogYSB0eXBlIHdpdGggbmFtZSAnIitTdHJpbmcoYikrIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkIik7aWYoIWcucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcigiT3B0aW9ucyBtaXNzaW5nIHJlcXVpcmVkIHByb3RvdHlwZSBwcm9wZXJ0eSIpO3JldHVybiBnLl9fbmFtZT1iLnRvTG93ZXJDYXNlKCksZy5saWZlY3ljbGU9Zy5saWZlY3ljbGV8fHt9LGcuYW5jZXN0cnk9YyhnLmV4dGVuZHMpLGQoZyksZShnKSxrKGcucHJvdG90eXBlKSxuKGcuX19uYW1lLGcpLGcuY3Rvcj1vKGcpLGcuY3Rvci5wcm90b3R5cGU9Zy5wcm90b3R5cGUsZy5wcm90b3R5cGUuY29uc3RydWN0b3I9Zy5jdG9yLGEucmVhZHkmJmEudXBncmFkZURvY3VtZW50VHJlZShkb2N1bWVudCksZy5jdG9yfWZ1bmN0aW9uIGMoYSl7dmFyIGI9bShhKTtyZXR1cm4gYj9jKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZChhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZShhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpO2I9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpfWZvcih2YXIgZCxlPWEucHJvdG90eXBlO2UmJmUhPT1iOyl7dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2UuX19wcm90b19fPWQsZT1kfX1hLm5hdGl2ZT1ifWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGcoeChhLnRhZyksYSl9ZnVuY3Rpb24gZyhiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGIucmVtb3ZlQXR0cmlidXRlKCJ1bnJlc29sdmVkIiksaChiLGMpLGIuX191cGdyYWRlZF9fPSEwLGooYiksYS5pbnNlcnRlZE5vZGUoYiksYS51cGdyYWRlU3VidHJlZShiKSxifWZ1bmN0aW9uIGgoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihpKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBpKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTEVsZW1lbnQucHJvdG90eXBlOyl7Zm9yKHZhciBmLGc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSksaD0wO2Y9Z1toXTtoKyspZFtmXXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGYpKSxkW2ZdPTEpO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfX1mdW5jdGlvbiBqKGEpe2EuY3JlYXRlZENhbGxiYWNrJiZhLmNyZWF0ZWRDYWxsYmFjaygpfWZ1bmN0aW9uIGsoYSl7aWYoIWEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkKXt2YXIgYj1hLnNldEF0dHJpYnV0ZTthLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGMpe2wuY2FsbCh0aGlzLGEsYyxiKX07dmFyIGM9YS5yZW1vdmVBdHRyaWJ1dGU7YS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7bC5jYWxsKHRoaXMsYSxudWxsLGMpfSxhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZD0hMH19ZnVuY3Rpb24gbChhLGIsYyl7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJmUhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQsZSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYT93W2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIG4oYSxiKXt3W2FdPWJ9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZihhKX19ZnVuY3Rpb24gcChhLGIpe3ZhciBjPW0oYnx8YSk7aWYoYyl7aWYoYT09Yy50YWcmJmI9PWMuaXMpcmV0dXJuIG5ldyBjLmN0b3I7aWYoIWImJiFjLmlzKXJldHVybiBuZXcgYy5jdG9yfWlmKGIpe3ZhciBkPXAoYSk7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJpcyIsYiksZH12YXIgZD14KGEpO3JldHVybiBhLmluZGV4T2YoIi0iKT49MCYmaChkLEhUTUxFbGVtZW50KSxkfWZ1bmN0aW9uIHEoYSl7aWYoIWEuX191cGdyYWRlZF9fJiZhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJpcyIpLGM9bShifHxhLmxvY2FsTmFtZSk7aWYoYyl7aWYoYiYmYy50YWc9PWEubG9jYWxOYW1lKXJldHVybiBnKGEsYyk7aWYoIWImJiFjLmV4dGVuZHMpcmV0dXJuIGcoYSxjKX19fWZ1bmN0aW9uIHIoYil7dmFyIGM9eS5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KTt2YXIgcz1hLmZsYWdzLHQ9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHU9IXMucmVnaXN0ZXImJnQmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw7aWYodSl7dmFyIHY9ZnVuY3Rpb24oKXt9O2EucmVnaXN0cnk9e30sYS51cGdyYWRlRWxlbWVudD12LGEud2F0Y2hTaGFkb3c9dixhLnVwZ3JhZGU9dixhLnVwZ3JhZGVBbGw9dixhLnVwZ3JhZGVTdWJ0cmVlPXYsYS5vYnNlcnZlRG9jdW1lbnQ9dixhLnVwZ3JhZGVEb2N1bWVudD12LGEudXBncmFkZURvY3VtZW50VHJlZT12LGEudGFrZVJlY29yZHM9dn1lbHNle3ZhciB3PXt9LHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSx5PU5vZGUucHJvdG90eXBlLmNsb25lTm9kZTtkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ9Yixkb2N1bWVudC5jcmVhdGVFbGVtZW50PXAsTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPXIsYS5yZWdpc3RyeT13LGEudXBncmFkZT1xfWRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCxhLmhhc05hdGl2ZT10LGEudXNlTmF0aXZlPXV9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Y312YXIgYz1hLklNUE9SVF9MSU5LX1RZUEUsZD17c2VsZWN0b3JzOlsibGlua1tyZWw9IitjKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoZC5zZWxlY3RvcnMpO2UoYixmdW5jdGlvbihhKXtkW2QubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSkmJnRoaXMucGFyc2VJbXBvcnQoYSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2EuaW1wb3J0JiZkLnBhcnNlKGEuaW1wb3J0KX19LGU9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLnBhcnNlcj1kLGEuSU1QT1JUX0xJTktfVFlQRT1jfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChkb2N1bWVudCk7dmFyIGE9d2luZG93LlBsYXRmb3JtJiZQbGF0Zm9ybS5lbmRPZk1pY3JvdGFzaz9QbGF0Zm9ybS5lbmRPZk1pY3JvdGFzazpzZXRUaW1lb3V0O2EoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeT0hMCxDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rPWZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShhLmltcG9ydCl9KX0pfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYi5pbml0RXZlbnQoYSwhMCwhMCksYn0pLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtlbHNlIGlmKCJpbnRlcmFjdGl2ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlfHx3aW5kb3cuYXR0YWNoRXZlbnR8fHdpbmRvdy5IVE1MSW1wb3J0cyYmIXdpbmRvdy5IVE1MSW1wb3J0cy5yZWFkeSl7dmFyIGM9d2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMucmVhZHk/IkhUTUxJbXBvcnRzTG9hZGVkIjoiRE9NQ29udGVudExvYWRlZCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYyxiKX1lbHNlIGIoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50ZXh0Q29udGVudD0iZWxlbWVudCB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtpZihiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCksd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKXt2YXIgYz1bInVwZ3JhZGVBbGwiLCJ1cGdyYWRlU3VidHJlZSIsIm9ic2VydmVEb2N1bWVudCIsInVwZ3JhZGVEb2N1bWVudCJdLGQ9e307Yy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2RbYV09Q3VzdG9tRWxlbWVudHNbYV19KSxjLmZvckVhY2goZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHNbYV09ZnVuY3Rpb24oYil7cmV0dXJuIGRbYV0od3JhcChiKSl9fSl9fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dGhpcy5yZWdleD1hfXZhciBjPWEuZW5kT2ZNaWNyb3Rhc2s7Yi5wcm90b3R5cGU9e2V4dHJhY3RVcmxzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1bXTtjPXRoaXMucmVnZXguZXhlYyhhKTspZD1uZXcgVVJMKGNbMV0sYiksZS5wdXNoKHttYXRjaGVkOmNbMF0sdXJsOmQuaHJlZn0pO3JldHVybiBlfSxwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV4dHJhY3RVcmxzKGEsYik7dGhpcy5mZXRjaChkLHt9LGMpfSxmZXRjaDpmdW5jdGlvbihhLGIsZCl7dmFyIGU9YS5sZW5ndGg7aWYoIWUpcmV0dXJuIGQoYik7Zm9yKHZhciBmLGcsaCxpPWZ1bmN0aW9uKCl7MD09PS0tZSYmZChiKX0saj1mdW5jdGlvbihhLGMpe3ZhciBkPWMubWF0Y2gsZT1kLnVybDtpZihhKXJldHVybiBiW2VdPSIiLGkoKTt2YXIgZj1jLnJlc3BvbnNlfHxjLnJlc3BvbnNlVGV4dDtiW2VdPWYsdGhpcy5mZXRjaCh0aGlzLmV4dHJhY3RVcmxzKGYsZSksYixpKX0saz0wO2U+aztrKyspZj1hW2tdLGg9Zi51cmwsYltoXT9jKGkpOihnPXRoaXMueGhyKGgsaix0aGlzKSxnLm1hdGNoPWYsYltoXT1nKX0seGhyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGQub3BlbigiR0VUIixhLCEwKSxkLnNlbmQoKSxkLm9ubG9hZD1mdW5jdGlvbigpe2IuY2FsbChjLG51bGwsZCl9LGQub25lcnJvcj1mdW5jdGlvbigpe2IuY2FsbChjLGQsbnVsbCl9LGR9fSxhLkxvYWRlcj1ifSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLmxvYWRlcj1uZXcgZih0aGlzLnJlZ2V4KX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9ZChhKTtiJiYoYy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixiKSxjLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixiKSksai5hcHBlbmRDaGlsZChjKX1mdW5jdGlvbiBkKGEsYil7Yj1ifHxkb2N1bWVudCxiPWIuY3JlYXRlRWxlbWVudD9iOmIub3duZXJEb2N1bWVudDt2YXIgYz1iLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7cmV0dXJuIGMudGV4dENvbnRlbnQ9YSxjfXZhciBlPWEudXJsUmVzb2x2ZXIsZj1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEudGV4dENvbnRlbnQsZD1hLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxlPWZ1bmN0aW9uKGMpe2EudGV4dENvbnRlbnQ9YyxiKGEpfTt0aGlzLnJlc29sdmUoYyxkLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZD1oW2ldLGY9ZC51cmwsZz1lLnJlc29sdmVDc3NUZXh0KGNbZl0sZiksZz10aGlzLmZsYXR0ZW4oZyxmLGMpLGE9YS5yZXBsYWNlKGQubWF0Y2hlZCxnKTtyZXR1cm4gYX19O3ZhciBnPW5ldyBiLGg9e2NhY2hlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGg7Zz5mJiYoZD1hW2ZdKTtmKyspZS5wdXNoKGQudGV4dENvbnRlbnQpO2MoZS5qb2luKCJcbiIpLGIpfSx4aHJTdHlsZXM6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7ZSsrLGU9PT1mJiZiJiZiKCl9Zm9yKHZhciBkLGU9MCxmPWEubGVuZ3RoLGg9MDtmPmgmJihkPWFbaF0pO2grKylnLnJlc29sdmVOb2RlKGQsYyl9fSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZWxvYWRlciIpO2kuc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIGo9aS5jcmVhdGVTaGFkb3dSb290KCk7ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChpKSxhLmxvYWRlcj1oLGEuc3R5bGVSZXNvbHZlcj1nfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8e30sYS5leHRlcm5hbD1hLmV4dGVybmFsfHx7fTt2YXIgYj17c2hhZG93OmZ1bmN0aW9uKGEpe3JldHVybiBhP2Euc2hhZG93Um9vdHx8YS53ZWJraXRTaGFkb3dSb290OnZvaWQgMH0sY2FuVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZCb29sZWFuKGEuZWxlbWVudEZyb21Qb2ludCl9LHRhcmdldGluZ1NoYWRvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNoYWRvdyhhKTtyZXR1cm4gdGhpcy5jYW5UYXJnZXQoYik/Yjp2b2lkIDB9LG9sZGVyU2hhZG93OmZ1bmN0aW9uKGEpe3ZhciBiPWEub2xkZXJTaGFkb3dSb290O2lmKCFiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3IoInNoYWRvdyIpO2MmJihiPWMub2xkZXJTaGFkb3dSb290KX1yZXR1cm4gYn0sYWxsU2hhZG93czpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz10aGlzLnNoYWRvdyhhKTtjOyliLnB1c2goYyksYz10aGlzLm9sZGVyU2hhZG93KGMpO3JldHVybiBifSxzZWFyY2hSb290OmZ1bmN0aW9uKGEsYixjKXtpZihhKXt2YXIgZCxlLGY9YS5lbGVtZW50RnJvbVBvaW50KGIsYyk7Zm9yKGU9dGhpcy50YXJnZXRpbmdTaGFkb3coZik7ZTspe2lmKGQ9ZS5lbGVtZW50RnJvbVBvaW50KGIsYykpe3ZhciBnPXRoaXMudGFyZ2V0aW5nU2hhZG93KGQpO3JldHVybiB0aGlzLnNlYXJjaFJvb3QoZyxiLGMpfHxkfWU9dGhpcy5vbGRlclNoYWRvdyhlKX1yZXR1cm4gZn19LG93bmVyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hO2IucGFyZW50Tm9kZTspYj1iLnBhcmVudE5vZGU7cmV0dXJuIGIubm9kZVR5cGUhPU5vZGUuRE9DVU1FTlRfTk9ERSYmYi5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFJiYoYj1kb2N1bWVudCksYn0sZmluZFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFksZD10aGlzLm93bmVyKGEudGFyZ2V0KTtyZXR1cm4gZC5lbGVtZW50RnJvbVBvaW50KGIsYyl8fChkPWRvY3VtZW50KSx0aGlzLnNlYXJjaFJvb3QoZCxiLGMpfX07YS50YXJnZXRGaW5kaW5nPWIsYS5maW5kVGFyZ2V0PWIuZmluZFRhcmdldC5iaW5kKGIpLHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw9YX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiJib2R5IF5eICIrYihhKX1mdW5jdGlvbiBiKGEpe3JldHVybidbdG91Y2gtYWN0aW9uPSInK2ErJyJdJ31mdW5jdGlvbiBjKGEpe3JldHVybiJ7IC1tcy10b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb24tZGVsYXk6IG5vbmU7IH0ifXZhciBkPVsibm9uZSIsImF1dG8iLCJwYW4teCIsInBhbi15Iix7cnVsZToicGFuLXggcGFuLXkiLHNlbGVjdG9yczpbInBhbi14IHBhbi15IiwicGFuLXkgcGFuLXgiXX1dLGU9IiI7ZC5mb3JFYWNoKGZ1bmN0aW9uKGQpe1N0cmluZyhkKT09PWQ/KGUrPWIoZCkrYyhkKSsiXG4iLGUrPWEoZCkrYyhkKSsiXG4iKTooZSs9ZC5zZWxlY3RvcnMubWFwKGIpK2MoZC5ydWxlKSsiXG4iLGUrPWQuc2VsZWN0b3JzLm1hcChhKStjKGQucnVsZSkrIlxuIil9KTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2YudGV4dENvbnRlbnQ9ZSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGYpfSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlKXtlPWV8fHt9O3ZhciBmO2lmKGUuYnV0dG9uc3x8ZClmPWUuYnV0dG9ucztlbHNlIHN3aXRjaChlLndoaWNoKXtjYXNlIDE6Zj0xO2JyZWFrO2Nhc2UgMjpmPTQ7YnJlYWs7Y2FzZSAzOmY9MjticmVhaztkZWZhdWx0OmY9MH12YXIgaTtpZihjKWk9bmV3IE1vdXNlRXZlbnQoYSxlKTtlbHNle2k9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKTtmb3IodmFyIGosaz17fSxsPTA7bDxnLmxlbmd0aDtsKyspaj1nW2xdLGtbal09ZVtqXXx8aFtsXTtpLmluaXRNb3VzZUV2ZW50KGEsay5idWJibGVzLGsuY2FuY2VsYWJsZSxrLnZpZXcsay5kZXRhaWwsay5zY3JlZW5YLGsuc2NyZWVuWSxrLmNsaWVudFgsay5jbGllbnRZLGsuY3RybEtleSxrLmFsdEtleSxrLnNoaWZ0S2V5LGsubWV0YUtleSxrLmJ1dHRvbixrLnJlbGF0ZWRUYXJnZXQpfWkuX19wcm90b19fPWIucHJvdG90eXBlLGR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJidXR0b25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGVudW1lcmFibGU6ITB9KTt2YXIgbT0wO3JldHVybiBtPWUucHJlc3N1cmU/ZS5wcmVzc3VyZTpmPy41OjAsT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7cG9pbnRlcklkOnt2YWx1ZTplLnBvaW50ZXJJZHx8MCxlbnVtZXJhYmxlOiEwfSx3aWR0aDp7dmFsdWU6ZS53aWR0aHx8MCxlbnVtZXJhYmxlOiEwfSxoZWlnaHQ6e3ZhbHVlOmUuaGVpZ2h0fHwwLGVudW1lcmFibGU6ITB9LHByZXNzdXJlOnt2YWx1ZTptLGVudW1lcmFibGU6ITB9LHRpbHRYOnt2YWx1ZTplLnRpbHRYfHwwLGVudW1lcmFibGU6ITB9LHRpbHRZOnt2YWx1ZTplLnRpbHRZfHwwLGVudW1lcmFibGU6ITB9LHBvaW50ZXJUeXBlOnt2YWx1ZTplLnBvaW50ZXJUeXBlfHwiIixlbnVtZXJhYmxlOiEwfSxod1RpbWVzdGFtcDp7dmFsdWU6ZS5od1RpbWVzdGFtcHx8MCxlbnVtZXJhYmxlOiEwfSxpc1ByaW1hcnk6e3ZhbHVlOmUuaXNQcmltYXJ5fHwhMSxlbnVtZXJhYmxlOiEwfX0pLGl9dmFyIGM9ITEsZD0hMTt0cnl7dmFyIGU9bmV3IE1vdXNlRXZlbnQoImNsaWNrIix7YnV0dG9uczoxfSk7Yz0hMCxkPTE9PT1lLmJ1dHRvbnN9Y2F0Y2goZil7fXZhciBnPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0Il0saD1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsXTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1vdXNlRXZlbnQucHJvdG90eXBlKSxhLlBvaW50ZXJFdmVudHx8KGEuUG9pbnRlckV2ZW50PWIpfSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZihjKXt2YXIgYT1uZXcgTWFwO3JldHVybiBhLnBvaW50ZXJzPWQsYX10aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119dmFyIGM9d2luZG93Lk1hcCYmd2luZG93Lk1hcC5wcm90b3R5cGUuZm9yRWFjaCxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX07Yi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpO2M+LTE/dGhpcy52YWx1ZXNbY109YjoodGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSl9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5rZXlzLmluZGV4T2YoYSk+LTF9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO2I+LTEmJih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSkpfSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMudmFsdWVzW2JdfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMua2V5cy5sZW5ndGg9MCx0aGlzLnZhbHVlcy5sZW5ndGg9MH0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe3RoaXMudmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYyxkKXthLmNhbGwoYixjLHRoaXMua2V5c1tkXSx0aGlzKX0sdGhpcyl9LHBvaW50ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5cy5sZW5ndGh9fSxhLlBvaW50ZXJNYXA9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiLCJidXR0b25zIiwicG9pbnRlcklkIiwid2lkdGgiLCJoZWlnaHQiLCJwcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImh3VGltZXN0YW1wIiwiaXNQcmltYXJ5IiwidHlwZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ3aGljaCJdLGM9WyExLCExLG51bGwsbnVsbCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCwwLDAsMCwwLDAsMCwwLCIiLDAsITEsIiIsbnVsbCxudWxsLDBdLGQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdFbGVtZW50SW5zdGFuY2UsZT17dGFyZ2V0czpuZXcgV2Vha01hcCxoYW5kbGVkRXZlbnRzOm5ldyBXZWFrTWFwLHBvaW50ZXJtYXA6bmV3IGEuUG9pbnRlck1hcCxldmVudE1hcDp7fSxldmVudFNvdXJjZXM6e30sZXZlbnRTb3VyY2VMaXN0OltdLHJlZ2lzdGVyU291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YixkPWMuZXZlbnRzO2QmJihkLmZvckVhY2goZnVuY3Rpb24oYSl7Y1thXSYmKHRoaXMuZXZlbnRNYXBbYV09Y1thXS5iaW5kKGMpKX0sdGhpcyksdGhpcy5ldmVudFNvdXJjZXNbYV09Yyx0aGlzLmV2ZW50U291cmNlTGlzdC5wdXNoKGMpKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi5yZWdpc3Rlci5jYWxsKGIsYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi51bnJlZ2lzdGVyLmNhbGwoYixhKX0sY29udGFpbnM6YS5leHRlcm5hbC5jb250YWluc3x8ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb250YWlucyhiKX0sZG93bjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJkb3duIixhKX0sbW92ZTpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJtb3ZlIixhKX0sdXA6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVydXAiLGEpfSxlbnRlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITEsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJlbnRlciIsYSl9LGxlYXZlOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmxlYXZlIixhKX0sb3ZlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJvdmVyIixhKX0sb3V0OmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm91dCIsYSl9LGNhbmNlbDpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJjYW5jZWwiLGEpfSxsZWF2ZU91dDpmdW5jdGlvbihhKXt0aGlzLm91dChhKSx0aGlzLmNvbnRhaW5zKGEudGFyZ2V0LGEucmVsYXRlZFRhcmdldCl8fHRoaXMubGVhdmUoYSl9LGVudGVyT3ZlcjpmdW5jdGlvbihhKXt0aGlzLm92ZXIoYSksdGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpfSxldmVudEhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFuZGxlZEV2ZW50cy5nZXQoYSkpe3ZhciBiPWEudHlwZSxjPXRoaXMuZXZlbnRNYXAmJnRoaXMuZXZlbnRNYXBbYl07YyYmYyhhKSx0aGlzLmhhbmRsZWRFdmVudHMuc2V0KGEsITApfX0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMuYWRkRXZlbnQoYSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMucmVtb3ZlRXZlbnQoYSxiKX0sdGhpcyl9LGFkZEV2ZW50OmEuZXh0ZXJuYWwuYWRkRXZlbnR8fGZ1bmN0aW9uKGEsYil7YS5hZGRFdmVudExpc3RlbmVyKGIsdGhpcy5ib3VuZEhhbmRsZXIpfSxyZW1vdmVFdmVudDphLmV4dGVybmFsLnJlbW92ZUV2ZW50fHxmdW5jdGlvbihhLGIpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKX0sbWFrZUV2ZW50OmZ1bmN0aW9uKGEsYil7dGhpcy5jYXB0dXJlSW5mbyYmKGIucmVsYXRlZFRhcmdldD1udWxsKTt2YXIgYz1uZXcgUG9pbnRlckV2ZW50KGEsYik7cmV0dXJuIGIucHJldmVudERlZmF1bHQmJihjLnByZXZlbnREZWZhdWx0PWIucHJldmVudERlZmF1bHQpLHRoaXMudGFyZ2V0cy5zZXQoYyx0aGlzLnRhcmdldHMuZ2V0KGIpfHxiLnRhcmdldCksY30sZmlyZUV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5tYWtlRXZlbnQoYSxiKTtyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KGMpfSxjbG9uZUV2ZW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZSxmPXt9LGc9MDtnPGIubGVuZ3RoO2crKyllPWJbZ10sZltlXT1hW2VdfHxjW2ddLCFkfHwidGFyZ2V0IiE9PWUmJiJyZWxhdGVkVGFyZ2V0IiE9PWV8fGZbZV1pbnN0YW5jZW9mIFNWR0VsZW1lbnRJbnN0YW5jZSYmKGZbZV09ZltlXS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCk7cmV0dXJuIGEucHJldmVudERlZmF1bHQmJihmLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdCgpfSksZn0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09YS5wb2ludGVySWQ/dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ6dGhpcy50YXJnZXRzLmdldChhKX0sc2V0Q2FwdHVyZTpmdW5jdGlvbihhLGIpe3RoaXMuY2FwdHVyZUluZm8mJnRoaXMucmVsZWFzZUNhcHR1cmUodGhpcy5jYXB0dXJlSW5mby5pZCksdGhpcy5jYXB0dXJlSW5mbz17aWQ6YSx0YXJnZXQ6Yn07dmFyIGM9bmV3IFBvaW50ZXJFdmVudCgiZ290cG9pbnRlcmNhcHR1cmUiLHtidWJibGVzOiEwfSk7dGhpcy5pbXBsaWNpdFJlbGVhc2U9dGhpcy5yZWxlYXNlQ2FwdHVyZS5iaW5kKHRoaXMsYSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIix0aGlzLmltcGxpY2l0UmVsZWFzZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmNhbmNlbCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLHRoaXMudGFyZ2V0cy5zZXQoYyxiKSx0aGlzLmFzeW5jRGlzcGF0Y2hFdmVudChjKX0scmVsZWFzZUNhcHR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5jYXB0dXJlSW5mby5pZD09PWEpe3ZhciBiPW5ldyBQb2ludGVyRXZlbnQoImxvc3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KSxjPXRoaXMuY2FwdHVyZUluZm8udGFyZ2V0O3RoaXMuY2FwdHVyZUluZm89bnVsbCxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChiLGMpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KGIpCn19LGRpc3BhdGNoRXZlbnQ6YS5leHRlcm5hbC5kaXNwYXRjaEV2ZW50fHxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRhcmdldChhKTtyZXR1cm4gYj9iLmRpc3BhdGNoRXZlbnQoYSk6dm9pZCAwfSxhc3luY0Rpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSl7c2V0VGltZW91dCh0aGlzLmRpc3BhdGNoRXZlbnQuYmluZCh0aGlzLGEpLDApfX07ZS5ib3VuZEhhbmRsZXI9ZS5ldmVudEhhbmRsZXIuYmluZChlKSxhLmRpc3BhdGNoZXI9ZSxhLnJlZ2lzdGVyPWUucmVnaXN0ZXIuYmluZChlKSxhLnVucmVnaXN0ZXI9ZS51bnJlZ2lzdGVyLmJpbmQoZSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMsZCl7dGhpcy5hZGRDYWxsYmFjaz1hLmJpbmQoZCksdGhpcy5yZW1vdmVDYWxsYmFjaz1iLmJpbmQoZCksdGhpcy5jaGFuZ2VkQ2FsbGJhY2s9Yy5iaW5kKGQpLGcmJih0aGlzLm9ic2VydmVyPW5ldyBnKHRoaXMubXV0YXRpb25XYXRjaGVyLmJpbmQodGhpcykpKX12YXIgYz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGQ9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5zbGljZSksZj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKSxnPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixoPSJbdG91Y2gtYWN0aW9uXSIsaT17c3VidHJlZTohMCxjaGlsZExpc3Q6ITAsYXR0cmlidXRlczohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJ0b3VjaC1hY3Rpb24iXX07Yi5wcm90b3R5cGU9e3dhdGNoU3VidHJlZTpmdW5jdGlvbihiKXthLnRhcmdldEZpbmRpbmcuY2FuVGFyZ2V0KGIpJiZ0aGlzLm9ic2VydmVyLm9ic2VydmUoYixpKX0sZW5hYmxlT25TdWJ0cmVlOmZ1bmN0aW9uKGEpe3RoaXMud2F0Y2hTdWJ0cmVlKGEpLGE9PT1kb2N1bWVudCYmImNvbXBsZXRlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGU/dGhpcy5pbnN0YWxsT25Mb2FkKCk6dGhpcy5pbnN0YWxsTmV3U3VidHJlZShhKX0saW5zdGFsbE5ld1N1YnRyZWU6ZnVuY3Rpb24oYSl7Yyh0aGlzLmZpbmRFbGVtZW50cyhhKSx0aGlzLmFkZEVsZW1lbnQsdGhpcyl9LGZpbmRFbGVtZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChoKTpbXX0scmVtb3ZlRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUNhbGxiYWNrKGEpfSxhZGRFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuYWRkQ2FsbGJhY2soYSl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dGhpcy5jaGFuZ2VkQ2FsbGJhY2soYSxiKX0sY29uY2F0TGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoZShiKSl9LGluc3RhbGxPbkxvYWQ6ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix0aGlzLmluc3RhbGxOZXdTdWJ0cmVlLmJpbmQodGhpcyxkb2N1bWVudCkpfSxpc0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0sZmxhdHRlbk11dGF0aW9uVHJlZTpmdW5jdGlvbihhKXt2YXIgYj1kKGEsdGhpcy5maW5kRWxlbWVudHMsdGhpcyk7cmV0dXJuIGIucHVzaChmKGEsdGhpcy5pc0VsZW1lbnQpKSxiLnJlZHVjZSh0aGlzLmNvbmNhdExpc3RzLFtdKX0sbXV0YXRpb25XYXRjaGVyOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaCh0aGlzLm11dGF0aW9uSGFuZGxlcix0aGlzKX0sbXV0YXRpb25IYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCJjaGlsZExpc3QiPT09YS50eXBlKXt2YXIgYj10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoYS5hZGRlZE5vZGVzKTtiLmZvckVhY2godGhpcy5hZGRFbGVtZW50LHRoaXMpO3ZhciBjPXRoaXMuZmxhdHRlbk11dGF0aW9uVHJlZShhLnJlbW92ZWROb2Rlcyk7Yy5mb3JFYWNoKHRoaXMucmVtb3ZlRWxlbWVudCx0aGlzKX1lbHNlImF0dHJpYnV0ZXMiPT09YS50eXBlJiZ0aGlzLmVsZW1lbnRDaGFuZ2VkKGEudGFyZ2V0LGEub2xkVmFsdWUpfX0sZ3x8KGIucHJvdG90eXBlLndhdGNoU3VidHJlZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiUG9pbnRlckV2ZW50c1BvbHlmaWxsOiBNdXRhdGlvbk9ic2VydmVycyBub3QgZm91bmQsIHRvdWNoLWFjdGlvbiB3aWxsIG5vdCBiZSBkeW5hbWljYWxseSBkZXRlY3RlZCIpfSksYS5JbnN0YWxsZXI9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9Yi5wb2ludGVybWFwLGQ9MjUsZT17UE9JTlRFUl9JRDoxLFBPSU5URVJfVFlQRToibW91c2UiLGV2ZW50czpbIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LGxhc3RUb3VjaGVzOltdLGlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5sYXN0VG91Y2hlcyxlPWEuY2xpZW50WCxmPWEuY2xpZW50WSxnPTAsaD1jLmxlbmd0aDtoPmcmJihiPWNbZ10pO2crKyl7dmFyIGk9TWF0aC5hYnMoZS1iLngpLGo9TWF0aC5hYnMoZi1iLnkpO2lmKGQ+PWkmJmQ+PWopcmV0dXJuITB9fSxwcmVwYXJlRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jbG9uZUV2ZW50KGEpLGQ9Yy5wcmV2ZW50RGVmYXVsdDtyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2EucHJldmVudERlZmF1bHQoKSxkKCl9LGMucG9pbnRlcklkPXRoaXMuUE9JTlRFUl9JRCxjLmlzUHJpbWFyeT0hMCxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGN9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmhhcyh0aGlzLlBPSU5URVJfSUQpO2QmJnRoaXMuY2FuY2VsKGEpO3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2Muc2V0KHRoaXMuUE9JTlRFUl9JRCxhKSxiLmRvd24oZSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfX0sbW91c2V1cDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmdldCh0aGlzLlBPSU5URVJfSUQpO2lmKGQmJmQuYnV0dG9uPT09YS5idXR0b24pe3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoZSksdGhpcy5jbGVhbnVwTW91c2UoKX19fSxtb3VzZW92ZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9fSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cE1vdXNlKCl9LGNsZWFudXBNb3VzZTpmdW5jdGlvbigpe2NbImRlbGV0ZSJdKHRoaXMuUE9JTlRFUl9JRCl9fTthLm1vdXNlRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kaXNwYXRjaGVyLGQ9YS5maW5kVGFyZ2V0LGU9YS50YXJnZXRGaW5kaW5nLmFsbFNoYWRvd3MuYmluZChhLnRhcmdldEZpbmRpbmcpLGY9Yy5wb2ludGVybWFwLGc9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksaD0yNTAwLGk9MjAwLGo9InRvdWNoLWFjdGlvbiIsaz0hMSxsPXtzY3JvbGxUeXBlOm5ldyBXZWFrTWFwLGV2ZW50czpbInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIl0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7az9jLmxpc3RlbihhLHRoaXMuZXZlbnRzKTpiLmVuYWJsZU9uU3VidHJlZShhKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtrJiZjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxlbGVtZW50QWRkZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGIpO2QmJih0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksYy5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxjLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcykpfSxlbGVtZW50UmVtb3ZlZDpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGEpLGMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZVsiZGVsZXRlIl0oYSksYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcyl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGMpLGY9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShiKTtkJiZmPyh0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKX0sdGhpcykpOmY/dGhpcy5lbGVtZW50UmVtb3ZlZChhKTpkJiZ0aGlzLmVsZW1lbnRBZGRlZChhKX0sc2Nyb2xsVHlwZXM6e0VNSVRURVI6Im5vbmUiLFhTQ1JPTExFUjoicGFuLXgiLFlTQ1JPTExFUjoicGFuLXkiLFNDUk9MTEVSOi9eKD86cGFuLXggcGFuLXkpfCg/OnBhbi15IHBhbi14KXxhdXRvJC99LHRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlOmZ1bmN0aW9uKGEpe3ZhciBiPWEsYz10aGlzLnNjcm9sbFR5cGVzO3JldHVybiJub25lIj09PWI/Im5vbmUiOmI9PT1jLlhTQ1JPTExFUj8iWCI6Yj09PWMuWVNDUk9MTEVSPyJZIjpjLlNDUk9MTEVSLmV4ZWMoYik/IlhZIjp2b2lkIDB9LFBPSU5URVJfVFlQRToidG91Y2giLGZpcnN0VG91Y2g6bnVsbCxpc1ByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maXJzdFRvdWNoPT09YS5pZGVudGlmaWVyfSxzZXRQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oYSl7KDA9PT1mLnBvaW50ZXJzKCl8fDE9PT1mLnBvaW50ZXJzKCkmJmYuaGFzKDEpKSYmKHRoaXMuZmlyc3RUb3VjaD1hLmlkZW50aWZpZXIsdGhpcy5maXJzdFhZPXtYOmEuY2xpZW50WCxZOmEuY2xpZW50WX0sdGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5jYW5jZWxSZXNldENsaWNrQ291bnQoKSl9LHJlbW92ZVByaW1hcnlQb2ludGVyOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYodGhpcy5maXJzdFRvdWNoPW51bGwsdGhpcy5maXJzdFhZPW51bGwsdGhpcy5yZXNldENsaWNrQ291bnQoKSl9LGNsaWNrQ291bnQ6MCxyZXNldElkOm51bGwscmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXt0aGlzLmNsaWNrQ291bnQ9MCx0aGlzLnJlc2V0SWQ9bnVsbH0uYmluZCh0aGlzKTt0aGlzLnJlc2V0SWQ9c2V0VGltZW91dChhLGkpfSxjYW5jZWxSZXNldENsaWNrQ291bnQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0SWQmJmNsZWFyVGltZW91dCh0aGlzLnJlc2V0SWQpfSx0b3VjaFRvUG9pbnRlcjpmdW5jdGlvbihhKXt2YXIgYj1jLmNsb25lRXZlbnQoYSk7cmV0dXJuIGIucG9pbnRlcklkPWEuaWRlbnRpZmllcisyLGIudGFyZ2V0PWQoYiksYi5idWJibGVzPSEwLGIuY2FuY2VsYWJsZT0hMCxiLmRldGFpbD10aGlzLmNsaWNrQ291bnQsYi5idXR0b249MCxiLmJ1dHRvbnM9MSxiLndpZHRoPWEud2Via2l0UmFkaXVzWHx8YS5yYWRpdXNYfHwwLGIuaGVpZ2h0PWEud2Via2l0UmFkaXVzWXx8YS5yYWRpdXNZfHwwLGIucHJlc3N1cmU9YS53ZWJraXRGb3JjZXx8YS5mb3JjZXx8LjUsYi5pc1ByaW1hcnk9dGhpcy5pc1ByaW1hcnlUb3VjaChhKSxiLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGJ9LHByb2Nlc3NUb3VjaGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jaGFuZ2VkVG91Y2hlcyxkPWcoYyx0aGlzLnRvdWNoVG9Qb2ludGVyLHRoaXMpO2QuZm9yRWFjaChmdW5jdGlvbihiKXtiLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5maXJzdFhZPW51bGwsYS5wcmV2ZW50RGVmYXVsdCgpfX0sdGhpcyksZC5mb3JFYWNoKGIsdGhpcyl9LHNob3VsZFNjcm9sbDpmdW5jdGlvbihhKXtpZih0aGlzLmZpcnN0WFkpe3ZhciBiLGM9dGhpcy5zY3JvbGxUeXBlLmdldChhLmN1cnJlbnRUYXJnZXQpO2lmKCJub25lIj09PWMpYj0hMTtlbHNlIGlmKCJYWSI9PT1jKWI9ITA7ZWxzZXt2YXIgZD1hLmNoYW5nZWRUb3VjaGVzWzBdLGU9YyxmPSJZIj09PWM/IlgiOiJZIixnPU1hdGguYWJzKGRbImNsaWVudCIrZV0tdGhpcy5maXJzdFhZW2VdKSxoPU1hdGguYWJzKGRbImNsaWVudCIrZl0tdGhpcy5maXJzdFhZW2ZdKTtiPWc+PWh9cmV0dXJuIHRoaXMuZmlyc3RYWT1udWxsLGJ9fSxmaW5kVG91Y2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspaWYoYy5pZGVudGlmaWVyPT09YilyZXR1cm4hMH0sdmFjdXVtVG91Y2hlczpmdW5jdGlvbihhKXt2YXIgYj1hLnRvdWNoZXM7aWYoZi5wb2ludGVycygpPj1iLmxlbmd0aCl7dmFyIGM9W107Zi5mb3JFYWNoKGZ1bmN0aW9uKGEsZCl7aWYoMSE9PWQmJiF0aGlzLmZpbmRUb3VjaChiLGQtMikpe3ZhciBlPWEub3V0O2MucHVzaCh0aGlzLnRvdWNoVG9Qb2ludGVyKGUpKX19LHRoaXMpLGMuZm9yRWFjaCh0aGlzLmNhbmNlbE91dCx0aGlzKX19LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy52YWN1dW1Ub3VjaGVzKGEpLHRoaXMuc2V0UHJpbWFyeVRvdWNoKGEuY2hhbmdlZFRvdWNoZXNbMF0pLHRoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMuc2Nyb2xsaW5nfHwodGhpcy5jbGlja0NvdW50KyssdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMub3ZlckRvd24pKX0sb3ZlckRvd246ZnVuY3Rpb24oYSl7Zi5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCxvdXQ6YSxvdXRUYXJnZXQ6YS50YXJnZXR9KTtjLm92ZXIoYSksYy5lbnRlcihhKSxjLmRvd24oYSl9LHRvdWNobW92ZTpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbGluZ3x8KHRoaXMuc2hvdWxkU2Nyb2xsKGEpPyh0aGlzLnNjcm9sbGluZz0hMCx0aGlzLnRvdWNoY2FuY2VsKGEpKTooYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLm1vdmVPdmVyT3V0KSkpfSxtb3ZlT3Zlck91dDpmdW5jdGlvbihhKXt2YXIgYj1hLGQ9Zi5nZXQoYi5wb2ludGVySWQpO2lmKGQpe3ZhciBlPWQub3V0LGc9ZC5vdXRUYXJnZXQ7Yy5tb3ZlKGIpLGUmJmchPT1iLnRhcmdldCYmKGUucmVsYXRlZFRhcmdldD1iLnRhcmdldCxiLnJlbGF0ZWRUYXJnZXQ9ZyxlLnRhcmdldD1nLGIudGFyZ2V0PyhjLmxlYXZlT3V0KGUpLGMuZW50ZXJPdmVyKGIpKTooYi50YXJnZXQ9ZyxiLnJlbGF0ZWRUYXJnZXQ9bnVsbCx0aGlzLmNhbmNlbE91dChiKSkpLGQub3V0PWIsZC5vdXRUYXJnZXQ9Yi50YXJnZXR9fSx0b3VjaGVuZDpmdW5jdGlvbihhKXt0aGlzLmRlZHVwU3ludGhNb3VzZShhKSx0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy51cE91dCl9LHVwT3V0OmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwoYy51cChhKSxjLm91dChhKSxjLmxlYXZlKGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksYy5sZWF2ZShhKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSxjbGVhblVwUG9pbnRlcjpmdW5jdGlvbihhKXtmWyJkZWxldGUiXShhLnBvaW50ZXJJZCksdGhpcy5yZW1vdmVQcmltYXJ5UG9pbnRlcihhKX0sZGVkdXBTeW50aE1vdXNlOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW91c2VFdmVudHMubGFzdFRvdWNoZXMsZD1iLmNoYW5nZWRUb3VjaGVzWzBdO2lmKHRoaXMuaXNQcmltYXJ5VG91Y2goZCkpe3ZhciBlPXt4OmQuY2xpZW50WCx5OmQuY2xpZW50WX07Yy5wdXNoKGUpO3ZhciBmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5pbmRleE9mKGIpO2M+LTEmJmEuc3BsaWNlKGMsMSl9LmJpbmQobnVsbCxjLGUpO3NldFRpbWVvdXQoZixoKX19fTtrfHwoYj1uZXcgYS5JbnN0YWxsZXIobC5lbGVtZW50QWRkZWQsbC5lbGVtZW50UmVtb3ZlZCxsLmVsZW1lbnRDaGFuZ2VkLGwpKSxhLnRvdWNoRXZlbnRzPWx9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPWIucG9pbnRlcm1hcCxkPXdpbmRvdy5NU1BvaW50ZXJFdmVudCYmIm51bWJlciI9PXR5cGVvZiB3aW5kb3cuTVNQb2ludGVyRXZlbnQuTVNQT0lOVEVSX1RZUEVfTU9VU0UsZT17ZXZlbnRzOlsiTVNQb2ludGVyRG93biIsIk1TUG9pbnRlck1vdmUiLCJNU1BvaW50ZXJVcCIsIk1TUG9pbnRlck91dCIsIk1TUG9pbnRlck92ZXIiLCJNU1BvaW50ZXJDYW5jZWwiLCJNU0dvdFBvaW50ZXJDYXB0dXJlIiwiTVNMb3N0UG9pbnRlckNhcHR1cmUiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtiLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtiLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxQT0lOVEVSX1RZUEVTOlsiIiwidW5hdmFpbGFibGUiLCJ0b3VjaCIsInBlbiIsIm1vdXNlIl0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBjPWE7cmV0dXJuIGQmJihjPWIuY2xvbmVFdmVudChhKSxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFU1thLnBvaW50ZXJUeXBlXSksY30sY2xlYW51cDpmdW5jdGlvbihhKXtjWyJkZWxldGUiXShhKX0sTVNQb2ludGVyRG93bjpmdW5jdGlvbihhKXtjLnNldChhLnBvaW50ZXJJZCxhKTt2YXIgZD10aGlzLnByZXBhcmVFdmVudChhKTtiLmRvd24oZCl9LE1TUG9pbnRlck1vdmU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfSxNU1BvaW50ZXJVcDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLnVwKGMpLHRoaXMuY2xlYW51cChhLnBvaW50ZXJJZCl9LE1TUG9pbnRlck91dDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfSxNU1BvaW50ZXJPdmVyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZW50ZXJPdmVyKGMpfSxNU1BvaW50ZXJDYW5jZWw6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5jYW5jZWwoYyksdGhpcy5jbGVhbnVwKGEucG9pbnRlcklkKX0sTVNMb3N0UG9pbnRlckNhcHR1cmU6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5tYWtlRXZlbnQoImxvc3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfSxNU0dvdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGEpe3ZhciBjPWIubWFrZUV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfX07YS5tc0V2ZW50cz1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXI7aWYodm9pZCAwPT09d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCl7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5uYXZpZ2F0b3IsInBvaW50ZXJFbmFibGVkIix7dmFsdWU6ITAsZW51bWVyYWJsZTohMH0pLHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCl7dmFyIGM9d2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJtYXhUb3VjaFBvaW50cyIse3ZhbHVlOmMsZW51bWVyYWJsZTohMH0pLGIucmVnaXN0ZXJTb3VyY2UoIm1zIixhLm1zRXZlbnRzKX1lbHNlIGIucmVnaXN0ZXJTb3VyY2UoIm1vdXNlIixhLm1vdXNlRXZlbnRzKSx2b2lkIDAhPT13aW5kb3cub250b3VjaHN0YXJ0JiZiLnJlZ2lzdGVyU291cmNlKCJ0b3VjaCIsYS50b3VjaEV2ZW50cyk7Yi5yZWdpc3Rlcihkb2N1bWVudCl9fSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2lmKCFlLnBvaW50ZXJtYXAuaGFzKGEpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFBvaW50ZXJJZCIpfXZhciBjLGQsZT1hLmRpc3BhdGNoZXIsZj13aW5kb3cubmF2aWdhdG9yO2YubXNQb2ludGVyRW5hYmxlZD8oYz1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNTZXRQb2ludGVyQ2FwdHVyZShhKX0sZD1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNSZWxlYXNlUG9pbnRlckNhcHR1cmUoYSl9KTooYz1mdW5jdGlvbihhKXtiKGEpLGUuc2V0Q2FwdHVyZShhLHRoaXMpfSxkPWZ1bmN0aW9uKGEpe2IoYSksZS5yZWxlYXNlQ2FwdHVyZShhLHRoaXMpfSksd2luZG93LkVsZW1lbnQmJiFFbGVtZW50LnByb3RvdHlwZS5zZXRQb2ludGVyQ2FwdHVyZSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NldFBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpjfSxyZWxlYXNlUG9pbnRlckNhcHR1cmU6e3ZhbHVlOmR9fSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLFBvaW50ZXJHZXN0dXJlRXZlbnQucHJvdG90eXBlLnByZXZlbnRUYXA9ZnVuY3Rpb24oKXt0aGlzLnRhcFByZXZlbnRlZD0hMH0sZnVuY3Rpb24oYSl7YT1hfHx7fSxhLnV0aWxzPXtMQ0E6e2ZpbmQ6ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gYTtpZihhLmNvbnRhaW5zKXtpZihhLmNvbnRhaW5zKGIpKXJldHVybiBhO2lmKGIuY29udGFpbnMoYSkpcmV0dXJuIGJ9dmFyIGM9dGhpcy5kZXB0aChhKSxkPXRoaXMuZGVwdGgoYiksZT1jLWQ7Zm9yKGU+MD9hPXRoaXMud2FsayhhLGUpOmI9dGhpcy53YWxrKGIsLWUpO2EmJmImJmEhPT1iOylhPXRoaXMud2FsayhhLDEpLGI9dGhpcy53YWxrKGIsMSk7cmV0dXJuIGF9LHdhbGs6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7YysrKWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxkZXB0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDthOyliKyssYT1hLnBhcmVudE5vZGU7cmV0dXJuIGJ9fX0sYS5maW5kTENBPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEudXRpbHMuTENBLmZpbmQoYixjKX0sd2luZG93LlBvaW50ZXJHZXN0dXJlcz1hfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7aWYoYyl7dmFyIGE9bmV3IE1hcDtyZXR1cm4gYS5wb2ludGVycz1kLGF9dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfXZhciBjPXdpbmRvdy5NYXAmJndpbmRvdy5NYXAucHJvdG90eXBlLmZvckVhY2gsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9O2IucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTtjPi0xP3RoaXMudmFsdWVzW2NdPWI6KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMua2V5cy5pbmRleE9mKGEpPi0xfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtiPi0xJiYodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpKX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnZhbHVlc1tiXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmtleXMubGVuZ3RoPTAsdGhpcy52YWx1ZXMubGVuZ3RoPTB9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXt0aGlzLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YS5jYWxsKGIsYyx0aGlzLmtleXNbZF0sdGhpcyl9LHRoaXMpfSxwb2ludGVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleXMubGVuZ3RofX0sYS5Qb2ludGVyTWFwPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0IiwiYnV0dG9ucyIsInBvaW50ZXJJZCIsIndpZHRoIiwiaGVpZ2h0IiwicHJlc3N1cmUiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJod1RpbWVzdGFtcCIsImlzUHJpbWFyeSIsInR5cGUiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0Iiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwidGFwUHJldmVudGVkIl0sYz1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLDAsMCwwLDAsMCwwLDAsIiIsMCwhMSwiIixudWxsLG51bGwsMCwwLDAsMF0sZD17aGFuZGxlZEV2ZW50czpuZXcgV2Vha01hcCx0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZXJzOnt9LHJlY29nbml6ZXJzOnt9LGV2ZW50czp7fSxyZWdpc3RlclJlY29nbml6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iO3RoaXMucmVjb2duaXplcnNbYV09YyxjLmV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGNbYV0pe3RoaXMuZXZlbnRzW2FdPSEwO3ZhciBiPWNbYV0uYmluZChjKTt0aGlzLmFkZEhhbmRsZXIoYSxiKX19LHRoaXMpfSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YTt0aGlzLmhhbmRsZXJzW2NdfHwodGhpcy5oYW5kbGVyc1tjXT1bXSksdGhpcy5oYW5kbGVyc1tjXS5wdXNoKGIpfSxyZWdpc3RlclRhcmdldDpmdW5jdGlvbihhKXt0aGlzLmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LHVucmVnaXN0ZXJUYXJnZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihhKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChhKSl7dmFyIGI9YS50eXBlLGM9dGhpcy5oYW5kbGVyc1tiXTtjJiZ0aGlzLm1ha2VRdWV1ZShjLGEpLHRoaXMuaGFuZGxlZEV2ZW50cy5zZXQoYSwhMCl9fSxtYWtlUXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNsb25lRXZlbnQoYik7c2V0VGltZW91dCh0aGlzLnJ1blF1ZXVlLmJpbmQodGhpcyxhLGMpLDApfSxydW5RdWV1ZTpmdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFBvaW50ZXJJZD1iLnBvaW50ZXJJZDtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspYyhiKTt0aGlzLmN1cnJlbnRQb2ludGVySWQ9MH0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuYWRkRXZlbnQoYSx0aGlzLmJvdW5kSGFuZGxlciwhMSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUV2ZW50KGEsdGhpcy5ib3VuZEhhbmRsZXIsITEsaW5UYXJnZXQpfSx0aGlzKX0sYWRkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5hZGRFdmVudExpc3RlbmVyKGEsYixjKX0scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKX0sbWFrZUV2ZW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBQb2ludGVyR2VzdHVyZUV2ZW50KGEsYil9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBkLGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKWQ9YltmXSxlW2RdPWFbZF18fGNbZl07cmV0dXJuIGV9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnRhcmdldHMuZ2V0KGEpO2MmJihjLmRpc3BhdGNoRXZlbnQoYSksYS50YXBQcmV2ZW50ZWQmJnRoaXMucHJldmVudFRhcCh0aGlzLmN1cnJlbnRQb2ludGVySWQpKX0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoYSxiKX0uYmluZCh0aGlzKTtzZXRUaW1lb3V0KGMsMCl9LHByZXZlbnRUYXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWNvZ25pemVycy50YXA7YiYmYi5wcmV2ZW50VGFwKGEpfX07ZC5ib3VuZEhhbmRsZXI9ZC5ldmVudEhhbmRsZXIuYmluZChkKSxhLmRpc3BhdGNoZXI9ZDt2YXIgZT1bXSxmPSExO2EucmVnaXN0ZXI9ZnVuY3Rpb24oYil7aWYoZil7dmFyIGM9d2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbDtjJiZjLnJlZ2lzdGVyKGIpLGEuZGlzcGF0Y2hlci5yZWdpc3RlclRhcmdldChiKX1lbHNlIGUucHVzaChiKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtmPSEwLGUucHVzaChkb2N1bWVudCksZS5mb3JFYWNoKGEucmVnaXN0ZXIpfSl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPXtIT0xEX0RFTEFZOjIwMCxXSUdHTEVfVEhSRVNIT0xEOjE2LGV2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0saGVsZFBvaW50ZXI6bnVsbCxob2xkSm9iOm51bGwscHVsc2U6ZnVuY3Rpb24oKXt2YXIgYT1EYXRlLm5vdygpLXRoaXMuaGVsZFBvaW50ZXIudGltZVN0YW1wLGI9dGhpcy5oZWxkPyJob2xkcHVsc2UiOiJob2xkIjt0aGlzLmZpcmVIb2xkKGIsYSksdGhpcy5oZWxkPSEwfSxjYW5jZWw6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuaG9sZEpvYiksdGhpcy5oZWxkJiZ0aGlzLmZpcmVIb2xkKCJyZWxlYXNlIiksdGhpcy5oZWxkPSExLHRoaXMuaGVsZFBvaW50ZXI9bnVsbCx0aGlzLnRhcmdldD1udWxsLHRoaXMuaG9sZEpvYj1udWxsfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMuaGVsZFBvaW50ZXImJih0aGlzLmhlbGRQb2ludGVyPWEsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5ob2xkSm9iPXNldEludGVydmFsKHRoaXMucHVsc2UuYmluZCh0aGlzKSx0aGlzLkhPTERfREVMQVkpKX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3RoaXMuaGVsZFBvaW50ZXImJnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkPT09YS5wb2ludGVySWQmJnRoaXMuY2FuY2VsKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkKXt2YXIgYj1hLmNsaWVudFgtdGhpcy5oZWxkUG9pbnRlci5jbGllbnRYLGM9YS5jbGllbnRZLXRoaXMuaGVsZFBvaW50ZXIuY2xpZW50WTtiKmIrYypjPnRoaXMuV0lHR0xFX1RIUkVTSE9MRCYmdGhpcy5jYW5jZWwoKX19LGZpcmVIb2xkOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9e3BvaW50ZXJUeXBlOnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlclR5cGV9O2MmJihkLmhvbGRUaW1lPWMpO3ZhciBlPWIubWFrZUV2ZW50KGEsZCk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy50YXJnZXQpLGUudGFwUHJldmVudGVkJiZiLnByZXZlbnRUYXAodGhpcy5oZWxkUG9pbnRlci5wb2ludGVySWQpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImhvbGQiLGMpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1uZXcgYS5Qb2ludGVyTWFwLGQ9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0sV0lHR0xFX1RIUkVTSE9MRDo0LGNsYW1wRGlyOmZ1bmN0aW9uKGEpe3JldHVybiBhPjA/MTotMX0sY2FsY1Bvc2l0aW9uRGVsdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9MDtyZXR1cm4gYSYmYiYmKGM9Yi5wYWdlWC1hLnBhZ2VYLGQ9Yi5wYWdlWS1hLnBhZ2VZKSx7eDpjLHk6ZH19LGZpcmVUcmFjazpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCxmPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoZS5kb3duRXZlbnQsYyksZz10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGUubGFzdE1vdmVFdmVudCxjKTtnLngmJihlLnhEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLngpKSxnLnkmJihlLnlEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLnkpKTt2YXIgaD17ZHg6Zi54LGR5OmYueSxkZHg6Zy54LGRkeTpnLnksY2xpZW50WDpjLmNsaWVudFgsY2xpZW50WTpjLmNsaWVudFkscGFnZVg6Yy5wYWdlWCxwYWdlWTpjLnBhZ2VZLHNjcmVlblg6Yy5zY3JlZW5YLHNjcmVlblk6Yy5zY3JlZW5ZLHhEaXJlY3Rpb246ZS54RGlyZWN0aW9uLHlEaXJlY3Rpb246ZS55RGlyZWN0aW9uLHRyYWNrSW5mbzplLnRyYWNrSW5mbyxyZWxhdGVkVGFyZ2V0OmMudGFyZ2V0LHBvaW50ZXJUeXBlOmMucG9pbnRlclR5cGV9LGk9Yi5tYWtlRXZlbnQoYSxoKTtlLmxhc3RNb3ZlRXZlbnQ9YyxiLmRpc3BhdGNoRXZlbnQoaSxlLmRvd25UYXJnZXQpfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSYmKCJtb3VzZSI9PT1hLnBvaW50ZXJUeXBlPzE9PT1hLmJ1dHRvbnM6ITApKXt2YXIgYj17ZG93bkV2ZW50OmEsZG93blRhcmdldDphLnRhcmdldCx0cmFja0luZm86e30sbGFzdE1vdmVFdmVudDpudWxsLHhEaXJlY3Rpb246MCx5RGlyZWN0aW9uOjAsdHJhY2tpbmc6ITF9O2Muc2V0KGEucG9pbnRlcklkLGIpfX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2lmKGIpaWYoYi50cmFja2luZyl0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYik7ZWxzZXt2YXIgZD10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGIuZG93bkV2ZW50LGEpLGU9ZC54KmQueCtkLnkqZC55O2U+dGhpcy5XSUdHTEVfVEhSRVNIT0xEJiYoYi50cmFja2luZz0hMCx0aGlzLmZpcmVUcmFjaygidHJhY2tzdGFydCIsYi5kb3duRXZlbnQsYiksdGhpcy5maXJlVHJhY2soInRyYWNrIixhLGIpKX19LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7YiYmKGIudHJhY2tpbmcmJnRoaXMuZmlyZVRyYWNrKCJ0cmFja2VuZCIsYSxiKSxjLmRlbGV0ZShhLnBvaW50ZXJJZCkpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe3RoaXMucG9pbnRlcnVwKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRyYWNrIixkKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9e01JTl9WRUxPQ0lUWTouNSxNQVhfUVVFVUU6NCxtb3ZlUXVldWU6W10sdGFyZ2V0Om51bGwscG9pbnRlcklkOm51bGwsZXZlbnRzOlsicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiXSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMucG9pbnRlcklkJiYodGhpcy5wb2ludGVySWQ9YS5wb2ludGVySWQsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5hZGRNb3ZlKGEpKX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5hZGRNb3ZlKGEpfSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5maXJlRmxpY2soYSksdGhpcy5jbGVhbnVwKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0sY2xlYW51cDpmdW5jdGlvbigpe3RoaXMubW92ZVF1ZXVlPVtdLHRoaXMudGFyZ2V0PW51bGwsdGhpcy5wb2ludGVySWQ9bnVsbH0sYWRkTW92ZTpmdW5jdGlvbihhKXt0aGlzLm1vdmVRdWV1ZS5sZW5ndGg+PXRoaXMuTUFYX1FVRVVFJiZ0aGlzLm1vdmVRdWV1ZS5zaGlmdCgpLHRoaXMubW92ZVF1ZXVlLnB1c2goYSl9LGZpcmVGbGljazpmdW5jdGlvbihhKXtmb3IodmFyIGMsZCxlLGYsZyxoLGksaj1hLGs9dGhpcy5tb3ZlUXVldWUubGVuZ3RoLGw9MCxtPTAsbj0wLG89MDtrPm8mJihpPXRoaXMubW92ZVF1ZXVlW29dKTtvKyspYz1qLnRpbWVTdGFtcC1pLnRpbWVTdGFtcCxkPWouY2xpZW50WC1pLmNsaWVudFgsZT1qLmNsaWVudFktaS5jbGllbnRZLGY9ZC9jLGc9ZS9jLGg9TWF0aC5zcXJ0KGYqZitnKmcpLGg+biYmKGw9ZixtPWcsbj1oKTt2YXIgcD1NYXRoLmFicyhsKT5NYXRoLmFicyhtKT8ieCI6InkiLHE9dGhpcy5jYWxjQW5nbGUobCxtKTtpZihNYXRoLmFicyhuKT49dGhpcy5NSU5fVkVMT0NJVFkpe3ZhciByPWIubWFrZUV2ZW50KCJmbGljayIse3hWZWxvY2l0eTpsLHlWZWxvY2l0eTptLHZlbG9jaXR5Om4sYW5nbGU6cSxtYWpvckF4aXM6cCxwb2ludGVyVHlwZTphLnBvaW50ZXJUeXBlfSk7Yi5kaXNwYXRjaEV2ZW50KHIsdGhpcy50YXJnZXQpfX0sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGIsYSkvTWF0aC5QSX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJmbGljayIsYyl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPW5ldyBhLlBvaW50ZXJNYXAsZD0xODAvTWF0aC5QSSxlPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHJlZmVyZW5jZTp7fSxwb2ludGVyZG93bjpmdW5jdGlvbihiKXtpZihjLnNldChiLnBvaW50ZXJJZCxiKSwyPT1jLnBvaW50ZXJzKCkpe3ZhciBkPXRoaXMuY2FsY0Nob3JkKCksZT10aGlzLmNhbGNBbmdsZShkKTt0aGlzLnJlZmVyZW5jZT17YW5nbGU6ZSxkaWFtZXRlcjpkLmRpYW1ldGVyLHRhcmdldDphLmZpbmRMQ0EoZC5hLnRhcmdldCxkLmIudGFyZ2V0KX19fSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtjLmhhcyhhLnBvaW50ZXJJZCkmJihjLnNldChhLnBvaW50ZXJJZCxhKSxjLnBvaW50ZXJzKCk+MSYmdGhpcy5jYWxjUGluY2hSb3RhdGUoKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9LGRpc3BhdGNoUGluY2g6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hL3RoaXMucmVmZXJlbmNlLmRpYW1ldGVyLGU9Yi5tYWtlRXZlbnQoInBpbmNoIix7c2NhbGU6ZCxjZW50ZXJYOmMuY2VudGVyLngsY2VudGVyWTpjLmNlbnRlci55fSk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy5yZWZlcmVuY2UudGFyZ2V0KX0sZGlzcGF0Y2hSb3RhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD1NYXRoLnJvdW5kKChhLXRoaXMucmVmZXJlbmNlLmFuZ2xlKSUzNjApLGU9Yi5tYWtlRXZlbnQoInJvdGF0ZSIse2FuZ2xlOmQsY2VudGVyWDpjLmNlbnRlci54LGNlbnRlclk6Yy5jZW50ZXIueX0pO2IuZGlzcGF0Y2hFdmVudChlLHRoaXMucmVmZXJlbmNlLnRhcmdldCl9LGNhbGNQaW5jaFJvdGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FsY0Nob3JkKCksYj1hLmRpYW1ldGVyLGM9dGhpcy5jYWxjQW5nbGUoYSk7YiE9dGhpcy5yZWZlcmVuY2UuZGlhbWV0ZXImJnRoaXMuZGlzcGF0Y2hQaW5jaChiLGEpLGMhPXRoaXMucmVmZXJlbmNlLmFuZ2xlJiZ0aGlzLmRpc3BhdGNoUm90YXRlKGMsYSl9LGNhbGNDaG9yZDpmdW5jdGlvbigpe3ZhciBhPVtdO2MuZm9yRWFjaChmdW5jdGlvbihiKXthLnB1c2goYil9KTtmb3IodmFyIGIsZCxlLGY9MCxnPXt9LGg9MDtoPGEubGVuZ3RoO2grKylmb3IodmFyIGk9YVtoXSxqPWgrMTtqPGEubGVuZ3RoO2orKyl7dmFyIGs9YVtqXTtiPU1hdGguYWJzKGkuY2xpZW50WC1rLmNsaWVudFgpLGQ9TWF0aC5hYnMoaS5jbGllbnRZLWsuY2xpZW50WSksZT1iK2QsZT5mJiYoZj1lLGc9e2E6aSxiOmt9KX1yZXR1cm4gYj1NYXRoLmFicyhnLmEuY2xpZW50WCtnLmIuY2xpZW50WCkvMixkPU1hdGguYWJzKGcuYS5jbGllbnRZK2cuYi5jbGllbnRZKS8yLGcuY2VudGVyPXt4OmIseTpkfSxnLmRpYW1ldGVyPWYsZ30sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYS5jbGllbnRYLWEuYi5jbGllbnRYLGM9YS5hLmNsaWVudFktYS5iLmNsaWVudFk7cmV0dXJuKDM2MCtNYXRoLmF0YW4yKGMsYikqZCklMzYwfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInBpbmNoIixlKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsImtleXVwIl0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiFhLnRhcFByZXZlbnRlZCYmYy5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCx4OmEuY2xpZW50WCx5OmEuY2xpZW50WX0pfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2ImJmEudGFwUHJldmVudGVkJiZjLmRlbGV0ZShhLnBvaW50ZXJJZCl9fSxwb2ludGVydXA6ZnVuY3Rpb24oZCl7dmFyIGU9Yy5nZXQoZC5wb2ludGVySWQpO2lmKGUmJiFkLnRhcFByZXZlbnRlZCl7dmFyIGY9YS5maW5kTENBKGUudGFyZ2V0LGQudGFyZ2V0KTtpZihmKXt2YXIgZz1iLm1ha2VFdmVudCgidGFwIix7eDpkLmNsaWVudFgseTpkLmNsaWVudFksZGV0YWlsOmQuZGV0YWlsLHBvaW50ZXJUeXBlOmQucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQoZyxmKX19Yy5kZWxldGUoZC5wb2ludGVySWQpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEucG9pbnRlcklkKX0sa2V5dXA6ZnVuY3Rpb24oYSl7dmFyIGM9YS5rZXlDb2RlO2lmKDMyPT09Yyl7dmFyIGQ9YS50YXJnZXQ7ZCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnR8fGQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50fHxiLmRpc3BhdGNoRXZlbnQoYi5tYWtlRXZlbnQoInRhcCIse3g6MCx5OjAsZGV0YWlsOjAscG9pbnRlclR5cGU6InVuYXZhaWxhYmxlIn0pLGQpfX0scHJldmVudFRhcDpmdW5jdGlvbihhKXtjLmRlbGV0ZShhKX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJ0YXAiLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe2Zvcig7YS5wYXJlbnROb2RlOylhPWEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gYihhLGIpe3ZhciBjPWEuYmluZGluZ3M7aWYoIWMpcmV0dXJuIHZvaWQoYS5iaW5kaW5ncz17fSk7dmFyIGQ9Y1tiXTtkJiYoZC5jbG9zZSgpLGNbYl09dm9pZCAwKX1mdW5jdGlvbiBjKGEpe3JldHVybiBudWxsPT1hPyIiOmF9ZnVuY3Rpb24gZChhLGIpe2EuZGF0YT1jKGIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBkKGEsYil9fWZ1bmN0aW9uIGYoYSxiLGQsZSl7cmV0dXJuIGQ/dm9pZChlP2Euc2V0QXR0cmlidXRlKGIsIiIpOmEucmVtb3ZlQXR0cmlidXRlKGIpKTp2b2lkIGEuc2V0QXR0cmlidXRlKGIsYyhlKSl9ZnVuY3Rpb24gZyhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2YoYSxiLGMsZCl9fWZ1bmN0aW9uIGgoYSl7c3dpdGNoKGEudHlwZSl7Y2FzZSJjaGVja2JveCI6cmV0dXJuIHM7Y2FzZSJyYWRpbyI6Y2FzZSJzZWxlY3QtbXVsdGlwbGUiOmNhc2Uic2VsZWN0LW9uZSI6cmV0dXJuImNoYW5nZSI7Y2FzZSJyYW5nZSI6aWYoL1RyaWRlbnR8TVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlyZXR1cm4iY2hhbmdlIjtkZWZhdWx0OnJldHVybiJpbnB1dCJ9fWZ1bmN0aW9uIGkoYSxiLGQsZSl7YVtiXT0oZXx8YykoZCl9ZnVuY3Rpb24gaihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBpKGEsYixkLGMpfX1mdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIGwoYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2Muc2V0VmFsdWUoYVtiXSksYy5kaXNjYXJkQ2hhbmdlcygpLChkfHxrKShhKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfXZhciBmPWgoYSk7YS5hZGRFdmVudExpc3RlbmVyKGYsZSk7dmFyIGc9Yy5jbG9zZTtjLmNsb3NlPWZ1bmN0aW9uKCl7ZyYmKGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihmLGUpLGMuY2xvc2U9ZyxjLmNsb3NlKCksZz12b2lkIDApfX1mdW5jdGlvbiBtKGEpe3JldHVybiBCb29sZWFuKGEpfWZ1bmN0aW9uIG4oYil7aWYoYi5mb3JtKXJldHVybiByKGIuZm9ybS5lbGVtZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIklOUFVUIj09YS50YWdOYW1lJiYicmFkaW8iPT1hLnR5cGUmJmEubmFtZT09Yi5uYW1lfSk7dmFyIGM9YShiKTtpZighYylyZXR1cm5bXTt2YXIgZD1jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl1bbmFtZT0iJytiLm5hbWUrJyJdJyk7cmV0dXJuIHIoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIWEuZm9ybX0pfWZ1bmN0aW9uIG8oYSl7IklOUFVUIj09PWEudGFnTmFtZSYmInJhZGlvIj09PWEudHlwZSYmbihhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEuYmluZGluZ3MuY2hlY2tlZDtiJiZiLnNldFZhbHVlKCExKX0pfWZ1bmN0aW9uIHAoYSxiKXt2YXIgZCxlLGYsZz1hLnBhcmVudE5vZGU7ZyBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50JiZnLmJpbmRpbmdzJiZnLmJpbmRpbmdzLnZhbHVlJiYoZD1nLGU9ZC5iaW5kaW5ncy52YWx1ZSxmPWQudmFsdWUpLGEudmFsdWU9YyhiKSxkJiZkLnZhbHVlIT1mJiYoZS5zZXRWYWx1ZShkLnZhbHVlKSxlLmRpc2NhcmRDaGFuZ2VzKCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSl9ZnVuY3Rpb24gcShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cChhLGIpfX12YXIgcj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKTsiZnVuY3Rpb24iIT10eXBlb2YgZG9jdW1lbnQuY29udGFpbnMmJihEb2N1bWVudC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzfHxhLnBhcmVudE5vZGU9PT10aGlzPyEwOnRoaXMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGEpfSksTm9kZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBiaW5kaW5nIHRvIE5vZGU6ICIsdGhpcyxhLGIpfSxOb2RlLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oYSl7Yih0aGlzLGEpfSxOb2RlLnByb3RvdHlwZS51bmJpbmRBbGw9ZnVuY3Rpb24oKXtpZih0aGlzLmJpbmRpbmdzKXtmb3IodmFyIGE9T2JqZWN0LmtleXModGhpcy5iaW5kaW5ncyksYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmJpbmRpbmdzW2FbYl1dO2MmJmMuY2xvc2UoKX10aGlzLmJpbmRpbmdzPXt9fX0sVGV4dC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZil7cmV0dXJuInRleHRDb250ZW50IiE9PWE/Tm9kZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxjLGYpOmY/ZCh0aGlzLGMpOihiKHRoaXMsInRleHRDb250ZW50IiksZCh0aGlzLGMub3BlbihlKHRoaXMpKSksdGhpcy5iaW5kaW5ncy50ZXh0Q29udGVudD1jKX0sRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7dmFyIGU9Ij8iPT1hW2EubGVuZ3RoLTFdO3JldHVybiBlJiYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksYT1hLnNsaWNlKDAsLTEpKSxkP2YodGhpcyxhLGUsYyk6KGIodGhpcyxhKSxmKHRoaXMsYSxlLGMub3BlbihnKHRoaXMsYSxlKSkpLHRoaXMuYmluZGluZ3NbYV09Yyl9O3ZhciBzOyFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGI9YS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7dmFyIGMsZD0wO2IuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNsaWNrIn0pLGIuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixmdW5jdGlvbigpe2QrKyxjPWN8fCJjaGFuZ2UifSk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKTtlLmluaXRNb3VzZUV2ZW50KCJjbGljayIsITAsITAsd2luZG93LDAsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGwpLGIuZGlzcGF0Y2hFdmVudChlKSxzPTE9PWQ/ImNoYW5nZSI6Y30oKSxIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsZCxlKXtpZigidmFsdWUiIT09YSYmImNoZWNrZWQiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsZCxlKTt0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKTt2YXIgZj0iY2hlY2tlZCI9PWE/bTpjLGc9ImNoZWNrZWQiPT1hP286aztyZXR1cm4gZT9pKHRoaXMsYSxkLGYpOihiKHRoaXMsYSksbCh0aGlzLGEsZCxnKSxpKHRoaXMsYSxkLm9wZW4oaih0aGlzLGEsZikpLGYpLHRoaXMuYmluZGluZ3NbYV09ZCl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxkLGUpe3JldHVybiJ2YWx1ZSIhPT1hP0hUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGQsZSk6KHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGU/aSh0aGlzLCJ2YWx1ZSIsZCk6KGIodGhpcywidmFsdWUiKSxsKHRoaXMsInZhbHVlIixkKSxpKHRoaXMsInZhbHVlIixkLm9wZW4oaih0aGlzLCJ2YWx1ZSIsYykpKSx0aGlzLmJpbmRpbmdzLnZhbHVlPWQpKX0sSFRNTE9wdGlvbkVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJ2YWx1ZSIhPT1hP0hUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk6KHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGQ/cCh0aGlzLGMpOihiKHRoaXMsInZhbHVlIiksbCh0aGlzLCJ2YWx1ZSIsYykscCh0aGlzLGMub3BlbihxKHRoaXMpKSksdGhpcy5iaW5kaW5ncy52YWx1ZT1jKSl9LEhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4ic2VsZWN0ZWRpbmRleCI9PT1hJiYoYT0ic2VsZWN0ZWRJbmRleCIpLCJzZWxlY3RlZEluZGV4IiE9PWEmJiJ2YWx1ZSIhPT1hP0hUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk6KHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLGQ/aSh0aGlzLGEsYyk6KGIodGhpcyxhKSxsKHRoaXMsYSxjKSxpKHRoaXMsYSxjLm9wZW4oaih0aGlzLGEpKSksdGhpcy5iaW5kaW5nc1thXT1jKSl9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYjtiPWEucGFyZW50Tm9kZTspYT1iO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtmb3IodmFyIGQsZT0iIyIrYjshZCYmKGE9YyhhKSxhLnByb3RvQ29udGVudF8/ZD1hLnByb3RvQ29udGVudF8ucXVlcnlTZWxlY3RvcihlKTphLmdldEVsZW1lbnRCeUlkJiYoZD1hLmdldEVsZW1lbnRCeUlkKGIpKSwhZCYmYS50ZW1wbGF0ZUNyZWF0b3JfKTspYT1hLnRlbXBsYXRlQ3JlYXRvcl87cmV0dXJuIGR9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuInRlbXBsYXRlIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBmKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZSYmImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBnKGEpe3JldHVybiBCb29sZWFuKEpbYS50YWdOYW1lXSYmYS5oYXNBdHRyaWJ1dGUoInRlbXBsYXRlIikpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIHZvaWQgMD09PWEuaXNUZW1wbGF0ZV8mJihhLmlzVGVtcGxhdGVfPSJURU1QTEFURSI9PWEudGFnTmFtZXx8ZyhhKSksYS5pc1RlbXBsYXRlX31mdW5jdGlvbiBpKGEsYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKEwpO2goYSkmJmIoYSksRShjLGIpfWZ1bmN0aW9uIGooYSl7ZnVuY3Rpb24gYihhKXtIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGEpfHxqKGEuY29udGVudCl9aShhLGIpfWZ1bmN0aW9uIGsoYSxiKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpKX0pfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLmRlZmF1bHRWaWV3KXJldHVybiBiO3ZhciBjPWIudGVtcGxhdGVDb250ZW50c093bmVyXztpZighYyl7Zm9yKGM9Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2MubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGMubGFzdENoaWxkKTtiLnRlbXBsYXRlQ29udGVudHNPd25lcl89Y31yZXR1cm4gY31mdW5jdGlvbiBtKGEpe2lmKCFhLnN0YWdpbmdEb2N1bWVudF8pe3ZhciBiPWEub3duZXJEb2N1bWVudDtiLnN0YWdpbmdEb2N1bWVudF98fChiLnN0YWdpbmdEb2N1bWVudF89Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGIuc3RhZ2luZ0RvY3VtZW50Xy5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50XyksYS5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31yZXR1cm4gYS5zdGFnaW5nRG9jdW1lbnRffWZ1bmN0aW9uIG4oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07SVtlLm5hbWVdJiYoInRlbXBsYXRlIiE9PWUubmFtZSYmYi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSkpfXJldHVybiBifWZ1bmN0aW9uIG8oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07Yi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSl9cmV0dXJuIGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxifWZ1bmN0aW9uIHAoYSxiLGMpe3ZhciBkPWEuY29udGVudDtpZihjKXJldHVybiB2b2lkIGQuYXBwZW5kQ2hpbGQoYik7Zm9yKHZhciBlO2U9Yi5maXJzdENoaWxkOylkLmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIHEoYSl7Tj9hLl9fcHJvdG9fXz1IVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZTprKGEsSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUpfWZ1bmN0aW9uIHIoYSl7YS5zZXRNb2RlbEZuX3x8KGEuc2V0TW9kZWxGbl89ZnVuY3Rpb24oKXthLnNldE1vZGVsRm5TY2hlZHVsZWRfPSExO3ZhciBiPXooYSxhLmRlbGVnYXRlXyYmYS5kZWxlZ2F0ZV8ucHJlcGFyZUJpbmRpbmcpO3coYSxiLGEubW9kZWxfKX0pLGEuc2V0TW9kZWxGblNjaGVkdWxlZF98fChhLnNldE1vZGVsRm5TY2hlZHVsZWRfPSEwLE9ic2VydmVyLnJ1bkVPTV8oYS5zZXRNb2RlbEZuXykpfWZ1bmN0aW9uIHMoYSxiLGMsZCl7aWYoYSYmYS5sZW5ndGgpe2Zvcih2YXIgZSxmPWEubGVuZ3RoLGc9MCxoPTAsaT0wLGo9ITA7Zj5oOyl7dmFyIGc9YS5pbmRleE9mKCJ7eyIsaCksaz1hLmluZGV4T2YoIltbIixoKSxsPSExLG09In19IjtpZihrPj0wJiYoMD5nfHxnPmspJiYoZz1rLGw9ITAsbT0iXV0iKSxpPTA+Zz8tMTphLmluZGV4T2YobSxnKzIpLDA+aSl7aWYoIWUpcmV0dXJuO2UucHVzaChhLnNsaWNlKGgpKTticmVha31lPWV8fFtdLGUucHVzaChhLnNsaWNlKGgsZykpO3ZhciBuPWEuc2xpY2UoZysyLGkpLnRyaW0oKTtlLnB1c2gobCksaj1qJiZsLGUucHVzaChQYXRoLmdldChuKSk7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGIuaXNUZW1wbGF0ZSl7YS5tb2RlbF89Yzt2YXIgaj1hLnByb2Nlc3NCaW5kaW5nRGlyZWN0aXZlc18oYik7ZCYmaiYmZC5wdXNoKGopfX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShiKTtyZXR1cm4gcygiIj09ZD8ie3t9fSI6ZCxiLGEsYyl9ZnVuY3Rpb24geShhLGMpe2IoYSk7Zm9yKHZhciBkPVtdLGU9MDtlPGEuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKXtmb3IodmFyIGY9YS5hdHRyaWJ1dGVzW2VdLGc9Zi5uYW1lLGk9Zi52YWx1ZTsiXyI9PT1nWzBdOylnPWcuc3Vic3RyaW5nKDEpO2lmKCFoKGEpfHxnIT09SCYmZyE9PUYmJmchPT1HKXt2YXIgaj1zKGksZyxhLGMpO2omJmQucHVzaChnLGopfX1yZXR1cm4gaChhKSYmKGQuaXNUZW1wbGF0ZT0hMCxkLmlmPXgoYSxILGMpLGQuYmluZD14KGEsRixjKSxkLnJlcGVhdD14KGEsRyxjKSwhZC5pZnx8ZC5iaW5kfHxkLnJlcGVhdHx8KGQuYmluZD1zKCJ7e319IixGLGEsYykpKSxkfWZ1bmN0aW9uIHooYSxiKXtpZihhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpcmV0dXJuIHkoYSxiKTtpZihhLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUpe3ZhciBjPXMoYS5kYXRhLCJ0ZXh0Q29udGVudCIsYSxiKTtpZihjKXJldHVyblsidGV4dENvbnRlbnQiLGNdfXJldHVybltdfWZ1bmN0aW9uIEEoYSxiLGMsZCxlLGYsZyl7Zm9yKHZhciBoPWIuYXBwZW5kQ2hpbGQoYy5pbXBvcnROb2RlKGEsITEpKSxpPTAsaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpQShqLGgsYyxkLmNoaWxkcmVuW2krK10sZSxmLGcpO3JldHVybiBkLmlzVGVtcGxhdGUmJihIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGgsYSksZiYmaC5zZXREZWxlZ2F0ZV8oZikpLHcoaCxkLGUsZyksaH1mdW5jdGlvbiBCKGEsYil7dmFyIGM9eihhLGIpO2MuY2hpbGRyZW49e307Zm9yKHZhciBkPTAsZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYy5jaGlsZHJlbltkKytdPUIoZSxiKTtyZXR1cm4gY31mdW5jdGlvbiBDKGEpe3RoaXMuY2xvc2VkPSExLHRoaXMudGVtcGxhdGVFbGVtZW50Xz1hLHRoaXMudGVybWluYXRvcnM9W10sdGhpcy5kZXBzPXZvaWQgMCx0aGlzLml0ZXJhdGVkVmFsdWU9W10sdGhpcy5wcmVzZW50VmFsdWU9dm9pZCAwLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDB9dmFyIEQsRT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EuTWFwJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5NYXAucHJvdG90eXBlLmZvckVhY2g/RD1hLk1hcDooRD1mdW5jdGlvbigpe3RoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX0sRC5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpOzA+Yz8odGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSk6dGhpcy52YWx1ZXNbY109Yn0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO2lmKCEoMD5iKSlyZXR1cm4gdGhpcy52YWx1ZXNbYl19LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiAwPmI/ITE6KHRoaXMua2V5cy5zcGxpY2UoYiwxKSx0aGlzLnZhbHVlcy5zcGxpY2UoYiwxKSwhMCl9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPHRoaXMua2V5cy5sZW5ndGg7YysrKWEuY2FsbChifHx0aGlzLHRoaXMudmFsdWVzW2NdLHRoaXMua2V5c1tjXSx0aGlzKX19KTsiZnVuY3Rpb24iIT10eXBlb2YgZG9jdW1lbnQuY29udGFpbnMmJihEb2N1bWVudC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzfHxhLnBhcmVudE5vZGU9PT10aGlzPyEwOnRoaXMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGEpfSk7dmFyIEY9ImJpbmQiLEc9InJlcGVhdCIsSD0iaWYiLEk9e3RlbXBsYXRlOiEwLHJlcGVhdDohMCxiaW5kOiEwLHJlZjohMH0sSj17VEhFQUQ6ITAsVEJPRFk6ITAsVEZPT1Q6ITAsVEg6ITAsVFI6ITAsVEQ6ITAsQ09MR1JPVVA6ITAsQ09MOiEwLENBUFRJT046ITAsT1BUSU9OOiEwLE9QVEdST1VQOiEwfSxLPSJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCxMPSJ0ZW1wbGF0ZSwgIitPYmplY3Qua2V5cyhKKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKSsiW3RlbXBsYXRlXSJ9KS5qb2luKCIsICIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aihkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLEt8fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBNLE49Il9fcHJvdG9fXyJpbnt9OyJmdW5jdGlvbiI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyJiYoTT1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnRhcmdldC5yZWZDaGFuZ2VkXygpfSkpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGU9ZnVuY3Rpb24oYSxjKXtpZihhLnRlbXBsYXRlSXNEZWNvcmF0ZWRfKXJldHVybiExO3ZhciBkPWE7ZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMDt2YXIgaD1mKGQpJiZLLGk9aCxrPSFoLG09ITE7aWYoaHx8KGcoZCk/KGIoIWMpLGQ9bihhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGg9SyxtPSEwKTplKGQpJiYoZD1vKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1LKSksIWgpe3EoZCk7dmFyIHI9bChkKTtkLmNvbnRlbnRfPXIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpCn1yZXR1cm4gYz9kLmluc3RhbmNlUmVmXz1jOms/cChkLGEsbSk6aSYmaihkLmNvbnRlbnQpLCEwfSxIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcD1qO3ZhciBPPWEuSFRNTFVua25vd25FbGVtZW50fHxIVE1MRWxlbWVudCxQPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50X30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9O0t8fChIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE8ucHJvdG90eXBlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUsImNvbnRlbnQiLFApKSxrKEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtpZigicmVmIiE9YSlyZXR1cm4gRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO3ZhciBkPXRoaXMsZT1jP2I6Yi5vcGVuKGZ1bmN0aW9uKGEpe2Quc2V0QXR0cmlidXRlKCJyZWYiLGEpLGQucmVmQ2hhbmdlZF8oKX0pO3JldHVybiB0aGlzLnNldEF0dHJpYnV0ZSgicmVmIixlKSx0aGlzLnJlZkNoYW5nZWRfKCksYz92b2lkIDA6KHRoaXMudW5iaW5kKCJyZWYiKSx0aGlzLmJpbmRpbmdzLnJlZj1iKX0scHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEModGhpcyksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzfHx7fSx0aGlzLmJpbmRpbmdzLml0ZXJhdG9yPXRoaXMuaXRlcmF0b3JfKSx0aGlzLml0ZXJhdG9yXy51cGRhdGVEZXBlbmRlbmNpZXMoYSx0aGlzLm1vZGVsXyksTSYmTS5vYnNlcnZlKHRoaXMse2F0dHJpYnV0ZXM6ITAsYXR0cmlidXRlRmlsdGVyOlsicmVmIl19KSx0aGlzLml0ZXJhdG9yXyk6dm9pZCh0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwLHRoaXMuYmluZGluZ3MuaXRlcmF0b3I9dm9pZCAwKSl9LGNyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGEsYixjLGQpe2ImJihjPXRoaXMubmV3RGVsZWdhdGVfKGIpKSx0aGlzLnJlZkNvbnRlbnRffHwodGhpcy5yZWZDb250ZW50Xz10aGlzLnJlZl8uY29udGVudCk7dmFyIGU9dGhpcy5yZWZDb250ZW50XyxmPXRoaXMuYmluZGluZ01hcF87ZiYmZi5jb250ZW50PT09ZXx8KGY9QihlLGMmJmMucHJlcGFyZUJpbmRpbmcpfHxbXSxmLmNvbnRlbnQ9ZSx0aGlzLmJpbmRpbmdNYXBfPWYpO3ZhciBnPW0odGhpcyksaD1nLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtoLnRlbXBsYXRlQ3JlYXRvcl89dGhpcyxoLnByb3RvQ29udGVudF89ZTtmb3IodmFyIGk9e2ZpcnN0Tm9kZTpudWxsLGxhc3ROb2RlOm51bGwsbW9kZWw6YX0saj0wLGs9ZS5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXt2YXIgbD1BKGssaCxnLGYuY2hpbGRyZW5baisrXSxhLGMsZCk7bC50ZW1wbGF0ZUluc3RhbmNlXz1pfXJldHVybiBpLmZpcnN0Tm9kZT1oLmZpcnN0Q2hpbGQsaS5sYXN0Tm9kZT1oLmxhc3RDaGlsZCxoLnRlbXBsYXRlQ3JlYXRvcl89dm9pZCAwLGgucHJvdG9Db250ZW50Xz12b2lkIDAsaH0sZ2V0IG1vZGVsKCl7cmV0dXJuIHRoaXMubW9kZWxffSxzZXQgbW9kZWwoYSl7dGhpcy5tb2RlbF89YSxyKHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIHRoaXMuZGVsZWdhdGVfJiZ0aGlzLmRlbGVnYXRlXy5yYXd9LHJlZkNoYW5nZWRfOmZ1bmN0aW9uKCl7dGhpcy5pdGVyYXRvcl8mJnRoaXMucmVmQ29udGVudF8hPT10aGlzLnJlZl8uY29udGVudCYmKHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbF89dm9pZCAwLHRoaXMuZGVsZWdhdGVfPXZvaWQgMCx0aGlzLmJpbmRpbmdzXz12b2lkIDAsdGhpcy5yZWZDb250ZW50Xz12b2lkIDAsdGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy52YWx1ZUNoYW5nZWQoKSx0aGlzLml0ZXJhdG9yXy5jbG9zZSgpLHRoaXMuaXRlcmF0b3JfPXZvaWQgMCl9LHNldERlbGVnYXRlXzpmdW5jdGlvbihhKXt0aGlzLmRlbGVnYXRlXz1hLHRoaXMuYmluZGluZ01hcF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8uaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlTW9kZWxGbl89dm9pZCAwKX0sbmV3RGVsZWdhdGVfOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGM9YSYmYVtiXTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYylyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseShhLGFyZ3VtZW50cyl9fXJldHVybiBhP3tyYXc6YSxwcmVwYXJlQmluZGluZzpiKCJwcmVwYXJlQmluZGluZyIpLHByZXBhcmVJbnN0YW5jZU1vZGVsOmIoInByZXBhcmVJbnN0YW5jZU1vZGVsIikscHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkOmIoInByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCIpfTp7fX0sc2V0IGJpbmRpbmdEZWxlZ2F0ZShhKXtpZih0aGlzLmRlbGVnYXRlXyl0aHJvdyBFcnJvcigiVGVtcGxhdGUgbXVzdCBiZSBjbGVhcmVkIGJlZm9yZSBhIG5ldyBiaW5kaW5nRGVsZWdhdGUgY2FuIGJlIGFzc2lnbmVkIik7dGhpcy5zZXREZWxlZ2F0ZV8odGhpcy5uZXdEZWxlZ2F0ZV8oYSkpfSxnZXQgcmVmXygpe3ZhciBhPWQodGhpcyx0aGlzLmdldEF0dHJpYnV0ZSgicmVmIikpO2lmKGF8fChhPXRoaXMuaW5zdGFuY2VSZWZfKSwhYSlyZXR1cm4gdGhpczt2YXIgYj1hLnJlZl87cmV0dXJuIGI/YjphfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwidGVtcGxhdGVJbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGVtcGxhdGVJbnN0YW5jZV87cmV0dXJuIGE/YTp0aGlzLnBhcmVudE5vZGU/dGhpcy5wYXJlbnROb2RlLnRlbXBsYXRlSW5zdGFuY2U6dm9pZCAwfX0pLEMucHJvdG90eXBlPXtjbG9zZURlcHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRlcHM7YSYmKGEuaWZPbmVUaW1lPT09ITEmJmEuaWZWYWx1ZS5jbG9zZSgpLGEub25lVGltZT09PSExJiZhLnZhbHVlLmNsb3NlKCkpfSx1cGRhdGVEZXBlbmRlbmNpZXM6ZnVuY3Rpb24oYSxiKXt0aGlzLmNsb3NlRGVwcygpO3ZhciBjPXRoaXMuZGVwcz17fSxkPXRoaXMudGVtcGxhdGVFbGVtZW50XztpZihhLmlmKXtpZihjLmhhc0lmPSEwLGMuaWZPbmVUaW1lPWEuaWYub25seU9uZVRpbWUsYy5pZlZhbHVlPXYoSCxhLmlmLGQsYiksYy5pZk9uZVRpbWUmJiFjLmlmVmFsdWUpcmV0dXJuIHZvaWQgdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCk7Yy5pZk9uZVRpbWV8fGMuaWZWYWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKX1hLnJlcGVhdD8oYy5yZXBlYXQ9ITAsYy5vbmVUaW1lPWEucmVwZWF0Lm9ubHlPbmVUaW1lLGMudmFsdWU9dihHLGEucmVwZWF0LGQsYikpOihjLnJlcGVhdD0hMSxjLm9uZVRpbWU9YS5iaW5kLm9ubHlPbmVUaW1lLGMudmFsdWU9dihGLGEuYmluZCxkLGIpKSxjLm9uZVRpbWV8fGMudmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyksdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCl9LHVwZGF0ZUl0ZXJhdGVkVmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRlcHMuaGFzSWYpe3ZhciBhPXRoaXMuZGVwcy5pZlZhbHVlO2lmKHRoaXMuZGVwcy5pZk9uZVRpbWV8fChhPWEuZGlzY2FyZENoYW5nZXMoKSksIWEpcmV0dXJuIHZvaWQgdGhpcy52YWx1ZUNoYW5nZWQoKX12YXIgYj10aGlzLmRlcHMudmFsdWU7dGhpcy5kZXBzLm9uZVRpbWV8fChiPWIuZGlzY2FyZENoYW5nZXMoKSksdGhpcy5kZXBzLnJlcGVhdHx8KGI9W2JdKTt2YXIgYz10aGlzLmRlcHMucmVwZWF0JiYhdGhpcy5kZXBzLm9uZVRpbWUmJkFycmF5LmlzQXJyYXkoYik7dGhpcy52YWx1ZUNoYW5nZWQoYixjKX0sdmFsdWVDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7QXJyYXkuaXNBcnJheShhKXx8KGE9W10pLGEhPT10aGlzLml0ZXJhdGVkVmFsdWUmJih0aGlzLnVub2JzZXJ2ZSgpLHRoaXMucHJlc2VudFZhbHVlPWEsYiYmKHRoaXMuYXJyYXlPYnNlcnZlcj1uZXcgQXJyYXlPYnNlcnZlcih0aGlzLnByZXNlbnRWYWx1ZSksdGhpcy5hcnJheU9ic2VydmVyLm9wZW4odGhpcy5oYW5kbGVTcGxpY2VzLHRoaXMpKSx0aGlzLmhhbmRsZVNwbGljZXMoQXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzKHRoaXMucHJlc2VudFZhbHVlLHRoaXMuaXRlcmF0ZWRWYWx1ZSkpKX0sZ2V0VGVybWluYXRvckF0OmZ1bmN0aW9uKGEpe2lmKC0xPT1hKXJldHVybiB0aGlzLnRlbXBsYXRlRWxlbWVudF87dmFyIGI9dGhpcy50ZXJtaW5hdG9yc1syKmFdO2lmKGIubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8dGhpcy50ZW1wbGF0ZUVsZW1lbnRfPT09YilyZXR1cm4gYjt2YXIgYz1iLml0ZXJhdG9yXztyZXR1cm4gYz9jLmdldFRlcm1pbmF0b3JBdChjLnRlcm1pbmF0b3JzLmxlbmd0aC8yLTEpOmJ9LGluc2VydEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxmPWU7Yj9mPWIubGFzdENoaWxkfHxmOmMmJihmPWNbYy5sZW5ndGgtMV18fGYpLHRoaXMudGVybWluYXRvcnMuc3BsaWNlKDIqYSwwLGYsZCk7dmFyIGc9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfLnBhcmVudE5vZGUsaD1lLm5leHRTaWJsaW5nO2lmKGIpZy5pbnNlcnRCZWZvcmUoYixoKTtlbHNlIGlmKGMpZm9yKHZhciBpPTA7aTxjLmxlbmd0aDtpKyspZy5pbnNlcnRCZWZvcmUoY1tpXSxoKX0sZXh0cmFjdEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGQ9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYSk7Yi5pbnN0YW5jZUJpbmRpbmdzPXRoaXMudGVybWluYXRvcnNbMiphKzFdLHRoaXMudGVybWluYXRvcnMuc3BsaWNlKDIqYSwyKTtmb3IodmFyIGU9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfLnBhcmVudE5vZGU7ZCE9PWM7KXt2YXIgZj1jLm5leHRTaWJsaW5nO2Y9PWQmJihkPWMpLGUucmVtb3ZlQ2hpbGQoZiksYi5wdXNoKGYpfXJldHVybiBifSxnZXREZWxlZ2F0ZUZuOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEmJmEodGhpcy50ZW1wbGF0ZUVsZW1lbnRfKSwiZnVuY3Rpb24iPT10eXBlb2YgYT9hOm51bGx9LGhhbmRsZVNwbGljZXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY2xvc2VkJiZhLmxlbmd0aCl7dmFyIGI9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfO2lmKCFiLnBhcmVudE5vZGUpcmV0dXJuIHZvaWQgdGhpcy5jbG9zZSgpO0FycmF5T2JzZXJ2ZXIuYXBwbHlTcGxpY2VzKHRoaXMuaXRlcmF0ZWRWYWx1ZSx0aGlzLnByZXNlbnRWYWx1ZSxhKTt2YXIgYz1iLmRlbGVnYXRlXzt2b2lkIDA9PT10aGlzLmluc3RhbmNlTW9kZWxGbl8mJih0aGlzLmluc3RhbmNlTW9kZWxGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlTW9kZWwpKSx2b2lkIDA9PT10aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fJiYodGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXz10aGlzLmdldERlbGVnYXRlRm4oYyYmYy5wcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQpKTt2YXIgZD1uZXcgRCxlPTA7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EucmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZXh0cmFjdEluc3RhbmNlQXQoYS5pbmRleCtlKTtkLnNldChiLGMpfSx0aGlzKSxlLT1hLmFkZGVkQ291bnR9LHRoaXMpLGEuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGU9YS5pbmRleDtlPGEuaW5kZXgrYS5hZGRlZENvdW50O2UrKyl7dmFyIGYsZz10aGlzLml0ZXJhdGVkVmFsdWVbZV0saD12b2lkIDAsaT1kLmdldChnKTtpPyhkLmRlbGV0ZShnKSxmPWkuaW5zdGFuY2VCaW5kaW5ncyk6KGY9W10sdGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYoZz10aGlzLmluc3RhbmNlTW9kZWxGbl8oZykpLHZvaWQgMCE9PWcmJihoPWIuY3JlYXRlSW5zdGFuY2UoZyx2b2lkIDAsYyxmKSkpLHRoaXMuaW5zZXJ0SW5zdGFuY2VBdChlLGgsaSxmKX19LHRoaXMpLGQuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyhhLmluc3RhbmNlQmluZGluZ3MpfSx0aGlzKSx0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fJiZ0aGlzLnJlcG9ydEluc3RhbmNlc01vdmVkKGEpfX0scmVwb3J0SW5zdGFuY2VNb3ZlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGM9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYSk7aWYoYiE9PWMpe3ZhciBkPWIubmV4dFNpYmxpbmcudGVtcGxhdGVJbnN0YW5jZTt0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fKGQsYSl9fSxyZXBvcnRJbnN0YW5jZXNNb3ZlZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdO2lmKDAhPWMpZm9yKDtiPGUuaW5kZXg7KXRoaXMucmVwb3J0SW5zdGFuY2VNb3ZlZChiKSxiKys7ZWxzZSBiPWUuaW5kZXg7Zm9yKDtiPGUuaW5kZXgrZS5hZGRlZENvdW50Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2MrPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RofWlmKDAhPWMpZm9yKHZhciBmPXRoaXMudGVybWluYXRvcnMubGVuZ3RoLzI7Zj5iOyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrfSxjbG9zZUluc3RhbmNlQmluZGluZ3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5jbG9zZSgpfSx1bm9ic2VydmU6ZnVuY3Rpb24oKXt0aGlzLmFycmF5T2JzZXJ2ZXImJih0aGlzLmFycmF5T2JzZXJ2ZXIuY2xvc2UoKSx0aGlzLmFycmF5T2JzZXJ2ZXI9dm9pZCAwKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5jbG9zZWQpe3RoaXMudW5vYnNlcnZlKCk7Zm9yKHZhciBhPTE7YTx0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aDthKz0yKXRoaXMuY2xvc2VJbnN0YW5jZUJpbmRpbmdzKHRoaXMudGVybWluYXRvcnNbYV0pO3RoaXMudGVybWluYXRvcnMubGVuZ3RoPTAsdGhpcy5jbG9zZURlcHMoKSx0aGlzLnRlbXBsYXRlRWxlbWVudF8uaXRlcmF0b3JfPXZvaWQgMCx0aGlzLmNsb3NlZD0hMH19fSxIVE1MVGVtcGxhdGVFbGVtZW50LmZvckFsbFRlbXBsYXRlc0Zyb21fPWl9KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBU1NFUlQ6ICIrYil9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYT49NDgmJjU3Pj1hfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIDMyPT09YXx8OT09PWF8fDExPT09YXx8MTI9PT1hfHwxNjA9PT1hfHxhPj01NzYwJiYi4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CA77u/Ii5pbmRleE9mKFN0cmluZy5mcm9tQ2hhckNvZGUoYSkpPjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4gMTA9PT1hfHwxMz09PWF8fDgyMzI9PT1hfHw4MjMzPT09YX1mdW5jdGlvbiBmKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIDM2PT09YXx8OTU9PT1hfHxhPj02NSYmOTA+PWF8fGE+PTk3JiYxMjI+PWF8fGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBoKGEpe3JldHVybiJ0aGlzIj09PWF9ZnVuY3Rpb24gaSgpe2Zvcig7WT5YJiZkKFcuY2hhckNvZGVBdChYKSk7KSsrWH1mdW5jdGlvbiBqKCl7dmFyIGEsYjtmb3IoYT1YKys7WT5YJiYoYj1XLmNoYXJDb2RlQXQoWCksZyhiKSk7KSsrWDtyZXR1cm4gVy5zbGljZShhLFgpfWZ1bmN0aW9uIGsoKXt2YXIgYSxiLGM7cmV0dXJuIGE9WCxiPWooKSxjPTE9PT1iLmxlbmd0aD9TLklkZW50aWZpZXI6aChiKT9TLktleXdvcmQ6Im51bGwiPT09Yj9TLk51bGxMaXRlcmFsOiJ0cnVlIj09PWJ8fCJmYWxzZSI9PT1iP1MuQm9vbGVhbkxpdGVyYWw6Uy5JZGVudGlmaWVyLHt0eXBlOmMsdmFsdWU6YixyYW5nZTpbYSxYXX19ZnVuY3Rpb24gbCgpe3ZhciBhLGIsYz1YLGQ9Vy5jaGFyQ29kZUF0KFgpLGU9V1tYXTtzd2l0Y2goZCl7Y2FzZSA0NjpjYXNlIDQwOmNhc2UgNDE6Y2FzZSA1OTpjYXNlIDQ0OmNhc2UgMTIzOmNhc2UgMTI1OmNhc2UgOTE6Y2FzZSA5MzpjYXNlIDU4OmNhc2UgNjM6cmV0dXJuKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQpLHJhbmdlOltjLFhdfTtkZWZhdWx0OmlmKGE9Vy5jaGFyQ29kZUF0KFgrMSksNjE9PT1hKXN3aXRjaChkKXtjYXNlIDM3OmNhc2UgMzg6Y2FzZSA0MjpjYXNlIDQzOmNhc2UgNDU6Y2FzZSA0NzpjYXNlIDYwOmNhc2UgNjI6Y2FzZSAxMjQ6cmV0dXJuIFgrPTIse3R5cGU6Uy5QdW5jdHVhdG9yLHZhbHVlOlN0cmluZy5mcm9tQ2hhckNvZGUoZCkrU3RyaW5nLmZyb21DaGFyQ29kZShhKSxyYW5nZTpbYyxYXX07Y2FzZSAzMzpjYXNlIDYxOnJldHVybiBYKz0yLDYxPT09Vy5jaGFyQ29kZUF0KFgpJiYrK1gse3R5cGU6Uy5QdW5jdHVhdG9yLHZhbHVlOlcuc2xpY2UoYyxYKSxyYW5nZTpbYyxYXX19fXJldHVybiBiPVdbWCsxXSxlPT09YiYmIiZ8Ii5pbmRleE9mKGUpPj0wPyhYKz0yLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTplK2IscmFuZ2U6W2MsWF19KToiPD49ISstKiUmfF4vIi5pbmRleE9mKGUpPj0wPygrK1gse3R5cGU6Uy5QdW5jdHVhdG9yLHZhbHVlOmUscmFuZ2U6W2MsWF19KTp2b2lkIHMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKX1mdW5jdGlvbiBtKCl7dmFyIGEsZCxlO2lmKGU9V1tYXSxiKGMoZS5jaGFyQ29kZUF0KDApKXx8Ii4iPT09ZSwiTnVtZXJpYyBsaXRlcmFsIG11c3Qgc3RhcnQgd2l0aCBhIGRlY2ltYWwgZGlnaXQgb3IgYSBkZWNpbWFsIHBvaW50IiksZD1YLGE9IiIsIi4iIT09ZSl7Zm9yKGE9V1tYKytdLGU9V1tYXSwiMCI9PT1hJiZlJiZjKGUuY2hhckNvZGVBdCgwKSkmJnMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKTtjKFcuY2hhckNvZGVBdChYKSk7KWErPVdbWCsrXTtlPVdbWF19aWYoIi4iPT09ZSl7Zm9yKGErPVdbWCsrXTtjKFcuY2hhckNvZGVBdChYKSk7KWErPVdbWCsrXTtlPVdbWF19aWYoImUiPT09ZXx8IkUiPT09ZSlpZihhKz1XW1grK10sZT1XW1hdLCgiKyI9PT1lfHwiLSI9PT1lKSYmKGErPVdbWCsrXSksYyhXLmNoYXJDb2RlQXQoWCkpKWZvcig7YyhXLmNoYXJDb2RlQXQoWCkpOylhKz1XW1grK107ZWxzZSBzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIik7cmV0dXJuIGYoVy5jaGFyQ29kZUF0KFgpKSYmcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpLHt0eXBlOlMuTnVtZXJpY0xpdGVyYWwsdmFsdWU6cGFyc2VGbG9hdChhKSxyYW5nZTpbZCxYXX19ZnVuY3Rpb24gbigpe3ZhciBhLGMsZCxmPSIiLGc9ITE7Zm9yKGE9V1tYXSxiKCInIj09PWF8fCciJz09PWEsIlN0cmluZyBsaXRlcmFsIG11c3Qgc3RhcnRzIHdpdGggYSBxdW90ZSIpLGM9WCwrK1g7WT5YOyl7aWYoZD1XW1grK10sZD09PWEpe2E9IiI7YnJlYWt9aWYoIlxcIj09PWQpaWYoZD1XW1grK10sZCYmZShkLmNoYXJDb2RlQXQoMCkpKSJcciI9PT1kJiYiXG4iPT09V1tYXSYmKytYO2Vsc2Ugc3dpdGNoKGQpe2Nhc2UibiI6Zis9IlxuIjticmVhaztjYXNlInIiOmYrPSJcciI7YnJlYWs7Y2FzZSJ0IjpmKz0iCSI7YnJlYWs7Y2FzZSJiIjpmKz0iXGIiO2JyZWFrO2Nhc2UiZiI6Zis9IlxmIjticmVhaztjYXNlInYiOmYrPSILIjticmVhaztkZWZhdWx0OmYrPWR9ZWxzZXtpZihlKGQuY2hhckNvZGVBdCgwKSkpYnJlYWs7Zis9ZH19cmV0dXJuIiIhPT1hJiZzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIikse3R5cGU6Uy5TdHJpbmdMaXRlcmFsLHZhbHVlOmYsb2N0YWw6ZyxyYW5nZTpbYyxYXX19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gYS50eXBlPT09Uy5JZGVudGlmaWVyfHxhLnR5cGU9PT1TLktleXdvcmR8fGEudHlwZT09PVMuQm9vbGVhbkxpdGVyYWx8fGEudHlwZT09PVMuTnVsbExpdGVyYWx9ZnVuY3Rpb24gcCgpe3ZhciBhO3JldHVybiBpKCksWD49WT97dHlwZTpTLkVPRixyYW5nZTpbWCxYXX06KGE9Vy5jaGFyQ29kZUF0KFgpLDQwPT09YXx8NDE9PT1hfHw1OD09PWE/bCgpOjM5PT09YXx8MzQ9PT1hP24oKTpmKGEpP2soKTo0Nj09PWE/YyhXLmNoYXJDb2RlQXQoWCsxKSk/bSgpOmwoKTpjKGEpP20oKTpsKCkpfWZ1bmN0aW9uIHEoKXt2YXIgYTtyZXR1cm4gYT0kLFg9YS5yYW5nZVsxXSwkPXAoKSxYPWEucmFuZ2VbMV0sYX1mdW5jdGlvbiByKCl7dmFyIGE7YT1YLCQ9cCgpLFg9YX1mdW5jdGlvbiBzKGEsYyl7dmFyIGQsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMiksZj1jLnJlcGxhY2UoLyUoXGQpL2csZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihjPGUubGVuZ3RoLCJNZXNzYWdlIHJlZmVyZW5jZSBtdXN0IGJlIGluIHJhbmdlIiksZVtjXX0pO3Rocm93IGQ9bmV3IEVycm9yKGYpLGQuaW5kZXg9WCxkLmRlc2NyaXB0aW9uPWYsZH1mdW5jdGlvbiB0KGEpe3MoYSxWLlVuZXhwZWN0ZWRUb2tlbixhLnZhbHVlKX1mdW5jdGlvbiB1KGEpe3ZhciBiPXEoKTsoYi50eXBlIT09Uy5QdW5jdHVhdG9yfHxiLnZhbHVlIT09YSkmJnQoYil9ZnVuY3Rpb24gdihhKXtyZXR1cm4gJC50eXBlPT09Uy5QdW5jdHVhdG9yJiYkLnZhbHVlPT09YX1mdW5jdGlvbiB3KGEpe3JldHVybiAkLnR5cGU9PT1TLktleXdvcmQmJiQudmFsdWU9PT1hfWZ1bmN0aW9uIHgoKXt2YXIgYT1bXTtmb3IodSgiWyIpOyF2KCJdIik7KXYoIiwiKT8ocSgpLGEucHVzaChudWxsKSk6KGEucHVzaChiYigpKSx2KCJdIil8fHUoIiwiKSk7cmV0dXJuIHUoIl0iKSxaLmNyZWF0ZUFycmF5RXhwcmVzc2lvbihhKX1mdW5jdGlvbiB5KCl7dmFyIGE7cmV0dXJuIGkoKSxhPXEoKSxhLnR5cGU9PT1TLlN0cmluZ0xpdGVyYWx8fGEudHlwZT09PVMuTnVtZXJpY0xpdGVyYWw/Wi5jcmVhdGVMaXRlcmFsKGEpOlouY3JlYXRlSWRlbnRpZmllcihhLnZhbHVlKX1mdW5jdGlvbiB6KCl7dmFyIGEsYjtyZXR1cm4gYT0kLGkoKSwoYS50eXBlPT09Uy5FT0Z8fGEudHlwZT09PVMuUHVuY3R1YXRvcikmJnQoYSksYj15KCksdSgiOiIpLFouY3JlYXRlUHJvcGVydHkoImluaXQiLGIsYmIoKSl9ZnVuY3Rpb24gQSgpe3ZhciBhPVtdO2Zvcih1KCJ7Iik7IXYoIn0iKTspYS5wdXNoKHooKSksdigifSIpfHx1KCIsIik7cmV0dXJuIHUoIn0iKSxaLmNyZWF0ZU9iamVjdEV4cHJlc3Npb24oYSl9ZnVuY3Rpb24gQigpe3ZhciBhO3JldHVybiB1KCIoIiksYT1iYigpLHUoIikiKSxhfWZ1bmN0aW9uIEMoKXt2YXIgYSxiLGM7cmV0dXJuIHYoIigiKT9CKCk6KGE9JC50eXBlLGE9PT1TLklkZW50aWZpZXI/Yz1aLmNyZWF0ZUlkZW50aWZpZXIocSgpLnZhbHVlKTphPT09Uy5TdHJpbmdMaXRlcmFsfHxhPT09Uy5OdW1lcmljTGl0ZXJhbD9jPVouY3JlYXRlTGl0ZXJhbChxKCkpOmE9PT1TLktleXdvcmQ/dygidGhpcyIpJiYocSgpLGM9Wi5jcmVhdGVUaGlzRXhwcmVzc2lvbigpKTphPT09Uy5Cb29sZWFuTGl0ZXJhbD8oYj1xKCksYi52YWx1ZT0idHJ1ZSI9PT1iLnZhbHVlLGM9Wi5jcmVhdGVMaXRlcmFsKGIpKTphPT09Uy5OdWxsTGl0ZXJhbD8oYj1xKCksYi52YWx1ZT1udWxsLGM9Wi5jcmVhdGVMaXRlcmFsKGIpKTp2KCJbIik/Yz14KCk6digieyIpJiYoYz1BKCkpLGM/Yzp2b2lkIHQocSgpKSl9ZnVuY3Rpb24gRCgpe3ZhciBhPVtdO2lmKHUoIigiKSwhdigiKSIpKWZvcig7WT5YJiYoYS5wdXNoKGJiKCkpLCF2KCIpIikpOyl1KCIsIik7cmV0dXJuIHUoIikiKSxhfWZ1bmN0aW9uIEUoKXt2YXIgYTtyZXR1cm4gYT1xKCksbyhhKXx8dChhKSxaLmNyZWF0ZUlkZW50aWZpZXIoYS52YWx1ZSl9ZnVuY3Rpb24gRigpe3JldHVybiB1KCIuIiksRSgpfWZ1bmN0aW9uIEcoKXt2YXIgYTtyZXR1cm4gdSgiWyIpLGE9YmIoKSx1KCJdIiksYX1mdW5jdGlvbiBIKCl7dmFyIGEsYjtmb3IoYT1DKCk7digiLiIpfHx2KCJbIik7KXYoIlsiKT8oYj1HKCksYT1aLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIlsiLGEsYikpOihiPUYoKSxhPVouY3JlYXRlTWVtYmVyRXhwcmVzc2lvbigiLiIsYSxiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gSSgpe3ZhciBhLGI7cmV0dXJuICQudHlwZSE9PVMuUHVuY3R1YXRvciYmJC50eXBlIT09Uy5LZXl3b3JkP2I9YWIoKTp2KCIrIil8fHYoIi0iKXx8digiISIpPyhhPXEoKSxiPUkoKSxiPVouY3JlYXRlVW5hcnlFeHByZXNzaW9uKGEudmFsdWUsYikpOncoImRlbGV0ZSIpfHx3KCJ2b2lkIil8fHcoInR5cGVvZiIpP3Moe30sVi5VbmV4cGVjdGVkVG9rZW4pOmI9YWIoKSxifWZ1bmN0aW9uIEooYSl7dmFyIGI9MDtpZihhLnR5cGUhPT1TLlB1bmN0dWF0b3ImJmEudHlwZSE9PVMuS2V5d29yZClyZXR1cm4gMDtzd2l0Y2goYS52YWx1ZSl7Y2FzZSJ8fCI6Yj0xO2JyZWFrO2Nhc2UiJiYiOmI9MjticmVhaztjYXNlIj09IjpjYXNlIiE9IjpjYXNlIj09PSI6Y2FzZSIhPT0iOmI9NjticmVhaztjYXNlIjwiOmNhc2UiPiI6Y2FzZSI8PSI6Y2FzZSI+PSI6Y2FzZSJpbnN0YW5jZW9mIjpiPTc7YnJlYWs7Y2FzZSJpbiI6Yj03O2JyZWFrO2Nhc2UiKyI6Y2FzZSItIjpiPTk7YnJlYWs7Y2FzZSIqIjpjYXNlIi8iOmNhc2UiJSI6Yj0xMX1yZXR1cm4gYn1mdW5jdGlvbiBLKCl7dmFyIGEsYixjLGQsZSxmLGcsaDtpZihnPUkoKSxiPSQsYz1KKGIpLDA9PT1jKXJldHVybiBnO2ZvcihiLnByZWM9YyxxKCksZT1JKCksZD1bZyxiLGVdOyhjPUooJCkpPjA7KXtmb3IoO2QubGVuZ3RoPjImJmM8PWRbZC5sZW5ndGgtMl0ucHJlYzspZT1kLnBvcCgpLGY9ZC5wb3AoKS52YWx1ZSxnPWQucG9wKCksYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZixnLGUpLGQucHVzaChhKTtiPXEoKSxiLnByZWM9YyxkLnB1c2goYiksYT1JKCksZC5wdXNoKGEpfWZvcihoPWQubGVuZ3RoLTEsYT1kW2hdO2g+MTspYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZFtoLTFdLnZhbHVlLGRbaC0yXSxhKSxoLT0yO3JldHVybiBhfWZ1bmN0aW9uIEwoKXt2YXIgYSxiLGM7cmV0dXJuIGE9SygpLHYoIj8iKSYmKHEoKSxiPUwoKSx1KCI6IiksYz1MKCksYT1aLmNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbihhLGIsYykpLGF9ZnVuY3Rpb24gTSgpe3ZhciBhLGI7cmV0dXJuIGE9cSgpLGEudHlwZSE9PVMuSWRlbnRpZmllciYmdChhKSxiPXYoIigiKT9EKCk6W10sWi5jcmVhdGVGaWx0ZXIoYS52YWx1ZSxiKX1mdW5jdGlvbiBOKCl7Zm9yKDt2KCJ8Iik7KXEoKSxNKCl9ZnVuY3Rpb24gTygpe2koKSxyKCk7dmFyIGE9YmIoKTthJiYoIiwiPT09JC52YWx1ZXx8ImluIj09JC52YWx1ZSYmYS50eXBlPT09VS5JZGVudGlmaWVyP1EoYSk6KE4oKSwiYXMiPT09JC52YWx1ZT9QKGEpOlouY3JlYXRlVG9wTGV2ZWwoYSkpKSwkLnR5cGUhPT1TLkVPRiYmdCgkKX1mdW5jdGlvbiBQKGEpe3EoKTt2YXIgYj1xKCkudmFsdWU7Wi5jcmVhdGVBc0V4cHJlc3Npb24oYSxiKX1mdW5jdGlvbiBRKGEpe3ZhciBiOyIsIj09PSQudmFsdWUmJihxKCksJC50eXBlIT09Uy5JZGVudGlmaWVyJiZ0KCQpLGI9cSgpLnZhbHVlKSxxKCk7dmFyIGM9YmIoKTtOKCksWi5jcmVhdGVJbkV4cHJlc3Npb24oYS5uYW1lLGIsYyl9ZnVuY3Rpb24gUihhLGIpe3JldHVybiBaPWIsVz1hLFg9MCxZPVcubGVuZ3RoLCQ9bnVsbCxfPXtsYWJlbFNldDp7fX0sTygpfXZhciBTLFQsVSxWLFcsWCxZLFosJCxfO1M9e0Jvb2xlYW5MaXRlcmFsOjEsRU9GOjIsSWRlbnRpZmllcjozLEtleXdvcmQ6NCxOdWxsTGl0ZXJhbDo1LE51bWVyaWNMaXRlcmFsOjYsUHVuY3R1YXRvcjo3LFN0cmluZ0xpdGVyYWw6OH0sVD17fSxUW1MuQm9vbGVhbkxpdGVyYWxdPSJCb29sZWFuIixUW1MuRU9GXT0iPGVuZD4iLFRbUy5JZGVudGlmaWVyXT0iSWRlbnRpZmllciIsVFtTLktleXdvcmRdPSJLZXl3b3JkIixUW1MuTnVsbExpdGVyYWxdPSJOdWxsIixUW1MuTnVtZXJpY0xpdGVyYWxdPSJOdW1lcmljIixUW1MuUHVuY3R1YXRvcl09IlB1bmN0dWF0b3IiLFRbUy5TdHJpbmdMaXRlcmFsXT0iU3RyaW5nIixVPXtBcnJheUV4cHJlc3Npb246IkFycmF5RXhwcmVzc2lvbiIsQmluYXJ5RXhwcmVzc2lvbjoiQmluYXJ5RXhwcmVzc2lvbiIsQ2FsbEV4cHJlc3Npb246IkNhbGxFeHByZXNzaW9uIixDb25kaXRpb25hbEV4cHJlc3Npb246IkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsRW1wdHlTdGF0ZW1lbnQ6IkVtcHR5U3RhdGVtZW50IixFeHByZXNzaW9uU3RhdGVtZW50OiJFeHByZXNzaW9uU3RhdGVtZW50IixJZGVudGlmaWVyOiJJZGVudGlmaWVyIixMaXRlcmFsOiJMaXRlcmFsIixMYWJlbGVkU3RhdGVtZW50OiJMYWJlbGVkU3RhdGVtZW50IixMb2dpY2FsRXhwcmVzc2lvbjoiTG9naWNhbEV4cHJlc3Npb24iLE1lbWJlckV4cHJlc3Npb246Ik1lbWJlckV4cHJlc3Npb24iLE9iamVjdEV4cHJlc3Npb246Ik9iamVjdEV4cHJlc3Npb24iLFByb2dyYW06IlByb2dyYW0iLFByb3BlcnR5OiJQcm9wZXJ0eSIsVGhpc0V4cHJlc3Npb246IlRoaXNFeHByZXNzaW9uIixVbmFyeUV4cHJlc3Npb246IlVuYXJ5RXhwcmVzc2lvbiJ9LFY9e1VuZXhwZWN0ZWRUb2tlbjoiVW5leHBlY3RlZCB0b2tlbiAlMCIsVW5rbm93bkxhYmVsOiJVbmRlZmluZWQgbGFiZWwgJyUwJyIsUmVkZWNsYXJhdGlvbjoiJTAgJyUxJyBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkIn07dmFyIGFiPUgsYmI9TDthLmVzcHJpbWE9e3BhcnNlOlJ9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsZCxlKXt2YXIgZjt0cnl7aWYoZj1jKGEpLGYuc2NvcGVJZGVudCYmKGQubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8IlRFTVBMQVRFIiE9PWQudGFnTmFtZXx8ImJpbmQiIT09YiYmInJlcGVhdCIhPT1iKSl0aHJvdyBFcnJvcigiYXMgYW5kIGluIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIDx0ZW1wbGF0ZSBiaW5kL3JlcGVhdD4iKX1jYXRjaChnKXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGV4cHJlc3Npb24gc3ludGF4OiAiK2EsZyl9cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mLmdldEJpbmRpbmcoYSxlLGMpO3JldHVybiBmLnNjb3BlSWRlbnQmJmQmJihiLnBvbHltZXJFeHByZXNzaW9uU2NvcGVJZGVudF89Zi5zY29wZUlkZW50LGYuaW5kZXhJZGVudCYmKGIucG9seW1lckV4cHJlc3Npb25JbmRleElkZW50Xz1mLmluZGV4SWRlbnQpKSxkfX1mdW5jdGlvbiBjKGEpe3ZhciBiPXNbYV07aWYoIWIpe3ZhciBjPW5ldyBqO2VzcHJpbWEucGFyc2UoYSxjKSxiPW5ldyBsKGMpLHNbYV09Yn1yZXR1cm4gYn1mdW5jdGlvbiBkKGEpe3RoaXMudmFsdWU9YSx0aGlzLnZhbHVlRm5fPXZvaWQgMH1mdW5jdGlvbiBlKGEpe3RoaXMubmFtZT1hLHRoaXMucGF0aD1QYXRoLmdldChhKX1mdW5jdGlvbiBmKGEsYixjKXsiWyI9PWMmJmIgaW5zdGFuY2VvZiBkJiZQYXRoLmdldChiLnZhbHVlKS52YWxpZCYmKGM9Ii4iLGI9bmV3IGUoYi52YWx1ZSkpLHRoaXMuZHluYW1pY0RlcHM9ImZ1bmN0aW9uIj09dHlwZW9mIGF8fGEuZHluYW1pYyx0aGlzLmR5bmFtaWM9ImZ1bmN0aW9uIj09dHlwZW9mIGJ8fGIuZHluYW1pY3x8IlsiPT1jLHRoaXMuc2ltcGxlUGF0aD0hdGhpcy5keW5hbWljJiYhdGhpcy5keW5hbWljRGVwcyYmYiBpbnN0YW5jZW9mIGUmJihhIGluc3RhbmNlb2YgZnx8YSBpbnN0YW5jZW9mIGUpLHRoaXMub2JqZWN0PXRoaXMuc2ltcGxlUGF0aD9hOmkoYSksdGhpcy5wcm9wZXJ0eT0iLiI9PWM/YjppKGIpfWZ1bmN0aW9uIGcoYSxiKXt0aGlzLm5hbWU9YSx0aGlzLmFyZ3M9W107Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspdGhpcy5hcmdzW2NdPWkoYltjXSl9ZnVuY3Rpb24gaCgpe3Rocm93IEVycm9yKCJOb3QgSW1wbGVtZW50ZWQiKX1mdW5jdGlvbiBpKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6YS52YWx1ZUZuKCl9ZnVuY3Rpb24gaigpe3RoaXMuZXhwcmVzc2lvbj1udWxsLHRoaXMuZmlsdGVycz1bXSx0aGlzLmRlcHM9e30sdGhpcy5jdXJyZW50UGF0aD12b2lkIDAsdGhpcy5zY29wZUlkZW50PXZvaWQgMCx0aGlzLmluZGV4SWRlbnQ9dm9pZCAwLHRoaXMuZHluYW1pY0RlcHM9ITF9ZnVuY3Rpb24gayhhKXt0aGlzLnZhbHVlXz1hfWZ1bmN0aW9uIGwoYSl7aWYodGhpcy5zY29wZUlkZW50PWEuc2NvcGVJZGVudCx0aGlzLmluZGV4SWRlbnQ9YS5pbmRleElkZW50LCFhLmV4cHJlc3Npb24pdGhyb3cgRXJyb3IoIk5vIGV4cHJlc3Npb24gZm91bmQuIik7dGhpcy5leHByZXNzaW9uPWEuZXhwcmVzc2lvbixpKHRoaXMuZXhwcmVzc2lvbiksdGhpcy5maWx0ZXJzPWEuZmlsdGVycyx0aGlzLmR5bmFtaWNEZXBzPWEuZHluYW1pY0RlcHN9ZnVuY3Rpb24gbShhKXtyZXR1cm4gU3RyaW5nKGEpLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIm8iPT09YVswXSYmIm4iPT09YVsxXSYmIi0iPT09YVsyXX1mdW5jdGlvbiBvKGEsYil7Zm9yKDthW3ddJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYik7KWE9YVt3XTtyZXR1cm4gYX1mdW5jdGlvbiBwKGEsYil7aWYoMD09Yi5sZW5ndGgpcmV0dXJuIHZvaWQgMDtpZigxPT1iLmxlbmd0aClyZXR1cm4gbyhhLGJbMF0pO2Zvcih2YXIgYz0wO251bGwhPWEmJmM8Yi5sZW5ndGgtMTtjKyspYT1hW2JbY11dO3JldHVybiBhfWZ1bmN0aW9uIHEoYSxiLGMpe3ZhciBkPWIuc3Vic3RyaW5nKDMpO3JldHVybiBkPXZbZF18fGQsZnVuY3Rpb24oYixlLGYpe2Z1bmN0aW9uIGcoKXtyZXR1cm4ie3sgIithKyIgfX0ifXZhciBoLGksajtyZXR1cm4gaj0iZnVuY3Rpb24iPT10eXBlb2YgYy5yZXNvbHZlRXZlbnRIYW5kbGVyP2Z1bmN0aW9uKGQpe2g9aHx8Yy5yZXNvbHZlRXZlbnRIYW5kbGVyKGIsYSxlKSxoKGQsZC5kZXRhaWwsZC5jdXJyZW50VGFyZ2V0KSxQbGF0Zm9ybSYmImZ1bmN0aW9uIj09dHlwZW9mIFBsYXRmb3JtLmZsdXNoJiZQbGF0Zm9ybS5mbHVzaCgpfTpmdW5jdGlvbihjKXtoPWh8fGEuZ2V0VmFsdWVGcm9tKGIpLGk9aXx8cChiLGEsZSksaC5hcHBseShpLFtjLGMuZGV0YWlsLGMuY3VycmVudFRhcmdldF0pLFBsYXRmb3JtJiYiZnVuY3Rpb24iPT10eXBlb2YgUGxhdGZvcm0uZmx1c2gmJlBsYXRmb3JtLmZsdXNoKCl9LGUuYWRkRXZlbnRMaXN0ZW5lcihkLGopLGY/dm9pZCAwOntvcGVuOmcsZGlzY2FyZENoYW5nZXM6ZyxjbG9zZTpmdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGopfX19fWZ1bmN0aW9uIHIoKXt9dmFyIHM9T2JqZWN0LmNyZWF0ZShudWxsKTtkLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT10aGlzLnZhbHVlO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oKXtyZXR1cm4gYX19cmV0dXJuIHRoaXMudmFsdWVGbl99fSxlLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT0odGhpcy5uYW1lLHRoaXMucGF0aCk7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihiLGMpe3JldHVybiBjJiZjLmFkZFBhdGgoYixhKSxhLmdldFZhbHVlRnJvbShiKX19cmV0dXJuIHRoaXMudmFsdWVGbl99LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PXRoaXMucGF0aC5sZW5ndGgsYT1vKGEsdGhpcy5wYXRoWzBdKSx0aGlzLnBhdGguc2V0VmFsdWVGcm9tKGEsYil9fSxmLnByb3RvdHlwZT17Z2V0IGZ1bGxQYXRoKCl7aWYoIXRoaXMuZnVsbFBhdGhfKXt2YXIgYT10aGlzLm9iamVjdCBpbnN0YW5jZW9mIGU/dGhpcy5vYmplY3QubmFtZTp0aGlzLm9iamVjdC5mdWxsUGF0aDt0aGlzLmZ1bGxQYXRoXz1QYXRoLmdldChhKyIuIit0aGlzLnByb3BlcnR5Lm5hbWUpfXJldHVybiB0aGlzLmZ1bGxQYXRoX30sdmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT10aGlzLm9iamVjdDtpZih0aGlzLnNpbXBsZVBhdGgpe3ZhciBiPXRoaXMuZnVsbFBhdGg7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihhLGMpe3JldHVybiBjJiZjLmFkZFBhdGgoYSxiKSxiLmdldFZhbHVlRnJvbShhKX19ZWxzZSBpZih0aGlzLnByb3BlcnR5IGluc3RhbmNlb2YgZSl7dmFyIGI9UGF0aC5nZXQodGhpcy5wcm9wZXJ0eS5uYW1lKTt0aGlzLnZhbHVlRm5fPWZ1bmN0aW9uKGMsZCl7dmFyIGU9YShjLGQpO3JldHVybiBkJiZkLmFkZFBhdGgoZSxiKSxiLmdldFZhbHVlRnJvbShlKX19ZWxzZXt2YXIgYz10aGlzLnByb3BlcnR5O3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oYixkKXt2YXIgZT1hKGIsZCksZj1jKGIsZCk7cmV0dXJuIGQmJmQuYWRkUGF0aChlLGYpLGU/ZVtmXTp2b2lkIDB9fX1yZXR1cm4gdGhpcy52YWx1ZUZuX30sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnNpbXBsZVBhdGgpcmV0dXJuIHRoaXMuZnVsbFBhdGguc2V0VmFsdWVGcm9tKGEsYiksYjt2YXIgYz10aGlzLm9iamVjdChhKSxkPXRoaXMucHJvcGVydHkgaW5zdGFuY2VvZiBlP3RoaXMucHJvcGVydHkubmFtZTp0aGlzLnByb3BlcnR5KGEpO3JldHVybiBjW2RdPWJ9fSxnLnByb3RvdHlwZT17dHJhbnNmb3JtOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Y1t0aGlzLm5hbWVdLGc9ZDtpZihmKWc9dm9pZCAwO2Vsc2UgaWYoZj1nW3RoaXMubmFtZV0sIWYpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiQ2Fubm90IGZpbmQgZmlsdGVyOiAiK3RoaXMubmFtZSk7aWYoYj9mPWYudG9Nb2RlbDoiZnVuY3Rpb24iPT10eXBlb2YgZi50b0RPTSYmKGY9Zi50b0RPTSksImZ1bmN0aW9uIiE9dHlwZW9mIGYpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiTm8gIisoYj8idG9Nb2RlbCI6InRvRE9NIikrIiBmb3VuZCBvbiIrdGhpcy5uYW1lKTtmb3IodmFyIGg9W2FdLGo9MDtqPHRoaXMuYXJncy5sZW5ndGg7aisrKWhbaisxXT1pKHRoaXMuYXJnc1tqXSkoZCxlKTtyZXR1cm4gZi5hcHBseShnLGgpfX07dmFyIHQ9eyIrIjpmdW5jdGlvbihhKXtyZXR1cm4rYX0sIi0iOmZ1bmN0aW9uKGEpe3JldHVybi1hfSwiISI6ZnVuY3Rpb24oYSl7cmV0dXJuIWF9fSx1PXsiKyI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStifSwiLSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSwiKiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSpifSwiLyI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS9ifSwiJSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSVifSwiPCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj5hfSwiPiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5ifSwiPD0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWF9LCI+PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT49Yn0sIj09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPT1ifSwiIT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPWJ9LCI9PT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifSwiIT09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhIT09Yn0sIiYmIjpmdW5jdGlvbihhLGIpe3JldHVybiBhJiZifSwifHwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGF8fGJ9fTtqLnByb3RvdHlwZT17Y3JlYXRlVW5hcnlFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYil7aWYoIXRbYV0pdGhyb3cgRXJyb3IoIkRpc2FsbG93ZWQgb3BlcmF0b3I6ICIrYSk7cmV0dXJuIGI9aShiKSxmdW5jdGlvbihjLGQpe3JldHVybiB0W2FdKGIoYyxkKSl9fSxjcmVhdGVCaW5hcnlFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtpZighdVthXSl0aHJvdyBFcnJvcigiRGlzYWxsb3dlZCBvcGVyYXRvcjogIithKTtyZXR1cm4gYj1pKGIpLGM9aShjKSxmdW5jdGlvbihkLGUpe3JldHVybiB1W2FdKGIoZCxlKSxjKGQsZSkpfX0sY3JlYXRlQ29uZGl0aW9uYWxFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT1pKGEpLGI9aShiKSxjPWkoYyksZnVuY3Rpb24oZCxlKXtyZXR1cm4gYShkLGUpP2IoZCxlKTpjKGQsZSl9fSxjcmVhdGVJZGVudGlmaWVyOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBlKGEpO3JldHVybiBiLnR5cGU9IklkZW50aWZpZXIiLGJ9LGNyZWF0ZU1lbWJlckV4cHJlc3Npb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBmKGIsYyxhKTtyZXR1cm4gZC5keW5hbWljRGVwcyYmKHRoaXMuZHluYW1pY0RlcHM9ITApLGR9LGNyZWF0ZUxpdGVyYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBkKGEudmFsdWUpfSxjcmVhdGVBcnJheUV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXT1pKGFbYl0pO3JldHVybiBmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmxlbmd0aDtlKyspZC5wdXNoKGFbZV0oYixjKSk7cmV0dXJuIGR9fSxjcmVhdGVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7cmV0dXJue2tleTpiIGluc3RhbmNlb2YgZT9iLm5hbWU6Yi52YWx1ZSx2YWx1ZTpjfX0sY3JlYXRlT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnZhbHVlPWkoYVtiXS52YWx1ZSk7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXt9LGU9MDtlPGEubGVuZ3RoO2UrKylkW2FbZV0ua2V5XT1hW2VdLnZhbHVlKGIsYyk7cmV0dXJuIGR9fSxjcmVhdGVGaWx0ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLmZpbHRlcnMucHVzaChuZXcgZyhhLGIpKX0sY3JlYXRlQXNFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5leHByZXNzaW9uPWEsdGhpcy5zY29wZUlkZW50PWJ9LGNyZWF0ZUluRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7dGhpcy5leHByZXNzaW9uPWMsdGhpcy5zY29wZUlkZW50PWEsdGhpcy5pbmRleElkZW50PWJ9LGNyZWF0ZVRvcExldmVsOmZ1bmN0aW9uKGEpe3RoaXMuZXhwcmVzc2lvbj1hfSxjcmVhdGVUaGlzRXhwcmVzc2lvbjpofSxrLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlX30sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7fX0sbC5wcm90b3R5cGU9e2dldEJpbmRpbmc6ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXtnLmR5bmFtaWNEZXBzJiZmLnN0YXJ0UmVzZXQoKTt2YXIgYz1nLmdldFZhbHVlKGEsZy5keW5hbWljRGVwcz9mOnZvaWQgMCxiKTtyZXR1cm4gZy5keW5hbWljRGVwcyYmZi5maW5pc2hSZXNldCgpLGN9ZnVuY3Rpb24gZShjKXtyZXR1cm4gZy5zZXRWYWx1ZShhLGMsYiksY31pZihjKXJldHVybiB0aGlzLmdldFZhbHVlKGEsdm9pZCAwLGIpO3ZhciBmPW5ldyBDb21wb3VuZE9ic2VydmVyO3RoaXMuZ2V0VmFsdWUoYSxmLGIpO3ZhciBnPXRoaXM7cmV0dXJuIG5ldyBPYnNlcnZlclRyYW5zZm9ybShmLGQsZSwhMCl9LGdldFZhbHVlOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9aSh0aGlzLmV4cHJlc3Npb24pKGEsYiksZT0wO2U8dGhpcy5maWx0ZXJzLmxlbmd0aDtlKyspZD10aGlzLmZpbHRlcnNbZV0udHJhbnNmb3JtKGQsITEsYyxhLGIpO3JldHVybiBkfSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXRoaXMuZmlsdGVycz90aGlzLmZpbHRlcnMubGVuZ3RoOjA7ZC0tPjA7KWI9dGhpcy5maWx0ZXJzW2RdLnRyYW5zZm9ybShiLCEwLGMsYSk7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbi5zZXRWYWx1ZT90aGlzLmV4cHJlc3Npb24uc2V0VmFsdWUoYSxiKTp2b2lkIDB9fTt2YXIgdj17fTtbIndlYmtpdEFuaW1hdGlvblN0YXJ0Iiwid2Via2l0QW5pbWF0aW9uRW5kIiwid2Via2l0VHJhbnNpdGlvbkVuZCIsIkRPTUZvY3VzT3V0IiwiRE9NRm9jdXNJbiIsIkRPTU1vdXNlU2Nyb2xsIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2W2EudG9Mb3dlckNhc2UoKV09YX0pO3ZhciB3PSJAIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtyLnByb3RvdHlwZT17c3R5bGVPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYi5wdXNoKG0oYykrIjogIithW2NdKTtyZXR1cm4gYi5qb2luKCI7ICIpfSx0b2tlbkxpc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYVtjXSYmYi5wdXNoKGMpO3JldHVybiBiLmpvaW4oIiAiKX0scHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEucG9seW1lckV4cHJlc3Npb25JbmRleElkZW50XztpZihiKXJldHVybiBmdW5jdGlvbihhLGMpe2EubW9kZWxbYl09Y319LHByZXBhcmVCaW5kaW5nOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1QYXRoLmdldChhKTtpZihuKGMpKXJldHVybiBlLnZhbGlkP3EoZSxjLHRoaXMpOnZvaWQgY29uc29sZS5lcnJvcigib24tKiBiaW5kaW5ncyBtdXN0IGJlIHNpbXBsZSBwYXRoIGV4cHJlc3Npb25zIik7e2lmKCFlLnZhbGlkKXJldHVybiBiKGEsYyxkLHRoaXMpO2lmKDE9PWUubGVuZ3RoKXJldHVybiBmdW5jdGlvbihhLGIsYyl7aWYoYylyZXR1cm4gZS5nZXRWYWx1ZUZyb20oYSk7dmFyIGQ9byhhLGVbMF0pO3JldHVybiBuZXcgUGF0aE9ic2VydmVyKGQsZSl9fX0scHJlcGFyZUluc3RhbmNlTW9kZWw6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wb2x5bWVyRXhwcmVzc2lvblNjb3BlSWRlbnRfO2lmKGIpe3ZhciBjPWEudGVtcGxhdGVJbnN0YW5jZT9hLnRlbXBsYXRlSW5zdGFuY2UubW9kZWw6YS5tb2RlbCxkPWEucG9seW1lckV4cHJlc3Npb25JbmRleElkZW50XztyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGU9T2JqZWN0LmNyZWF0ZShjKTtyZXR1cm4gZVtiXT1hLGVbZF09dm9pZCAwLGVbd109YyxlfX19fSxhLlBvbHltZXJFeHByZXNzaW9ucz1yLGEuZXhwb3NlR2V0RXhwcmVzc2lvbiYmKGEuZ2V0RXhwcmVzc2lvbl89YyksYS5Qb2x5bWVyRXhwcmVzc2lvbnMucHJlcGFyZUV2ZW50QmluZGluZz1xfSh0aGlzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZXx8KGU9ITAsYS5lbmRPZk1pY3JvdGFzayhmdW5jdGlvbigpe2U9ITEsbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cCgiUGxhdGZvcm0uZmx1c2goKSIpLGEucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwRW5kKCl9KSl9dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnRleHRDb250ZW50PSJ0ZW1wbGF0ZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCk7dmFyIGUsZj0xMjU7aWYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIldlYkNvbXBvbmVudHNSZWFkeSIsZnVuY3Rpb24oKXtiKCksT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZXx8KGEuZmx1c2hQb2xsPXNldEludGVydmFsKGIsZikpfSksd2luZG93LkN1c3RvbUVsZW1lbnRzJiYhQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlKXt2YXIgZz1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWcuY2FsbCh0aGlzLGEsYik7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYyksY319YS5mbHVzaD1ifSh3aW5kb3cuUGxhdGZvcm0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybS5qcy5tYXA=",
                "body": "Ly8gQ29weXJpZ2h0IChjKSAyMDEyIFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vCi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAovLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlCi8vIG1ldDoKLy8KLy8gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodAovLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCi8vICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZQovLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyCi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUKLy8gZGlzdHJpYnV0aW9uLgovLyAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMKLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20KLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwovLyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAovLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQovLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQovLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgovLyBAdmVyc2lvbjogMC4yLjAKZnVuY3Rpb24gUG9pbnRlckdlc3R1cmVFdmVudChhLGIpe3ZhciBjPWJ8fHt9LGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IiksZT17YnViYmxlczpCb29sZWFuKGMuYnViYmxlcyk9PT1jLmJ1YmJsZXN8fCEwLGNhbmNlbGFibGU6Qm9vbGVhbihjLmNhbmNlbGFibGUpPT09Yy5jYW5jZWxhYmxlfHwhMH07ZC5pbml0RXZlbnQoYSxlLmJ1YmJsZXMsZS5jYW5jZWxhYmxlKTtmb3IodmFyIGYsZz1PYmplY3Qua2V5cyhjKSxoPTA7aDxnLmxlbmd0aDtoKyspZj1nW2hdLGRbZl09Y1tmXTtyZXR1cm4gZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfSJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGEoYSl7Yj1hfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9W10sYz17fTtpZihPYmplY3Qub2JzZXJ2ZShjLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLDMhPT1iLmxlbmd0aClyZXR1cm4hMTtpZigibmV3Ij09YlswXS50eXBlJiYidXBkYXRlZCI9PWJbMV0udHlwZSYmImRlbGV0ZWQiPT1iWzJdLnR5cGUpTD0ibmV3IixNPSJ1cGRhdGVkIixOPSJyZWNvbmZpZ3VyZWQiLE89ImRlbGV0ZWQiO2Vsc2UgaWYoImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVW5leHBlY3RlZCBjaGFuZ2UgcmVjb3JkIG5hbWVzIGZvciBPYmplY3Qub2JzZXJ2ZS4gVXNpbmcgZGlydHktY2hlY2tpbmcgaW5zdGVhZCIpLCExO3JldHVybiBPYmplY3QudW5vYnNlcnZlKGMsYSksYz1bMF0sQXJyYXkub2JzZXJ2ZShjLGEpLGNbMV09MSxjLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSwyIT1iLmxlbmd0aD8hMTpiWzBdLnR5cGUhPVB8fGJbMV0udHlwZSE9UD8hMTooQXJyYXkudW5vYnNlcnZlKGMsYSksITApfWZ1bmN0aW9uIGMoKXtpZihhLmRvY3VtZW50JiYic2VjdXJpdHlQb2xpY3kiaW4gYS5kb2N1bWVudCYmIWEuZG9jdW1lbnQuc2VjdXJpdHlQb2xpY3kuYWxsb3dzRXZhbClyZXR1cm4hMTt0cnl7dmFyIGI9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYigpfWNhdGNoKGMpe3JldHVybiExfX1mdW5jdGlvbiBkKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4rYX1mdW5jdGlvbiBmKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpTKGEpJiZTKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBoKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnRyaW0oKSwiIj09YT8hMDoiLiI9PWFbMF0/ITE6JC50ZXN0KGEpKX1mdW5jdGlvbiBpKGEsYil7aWYoYiE9PV8pdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczpkKGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLHZvaWQoUiYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSkpKX1mdW5jdGlvbiBqKGEpe2lmKGEgaW5zdGFuY2VvZiBpKXJldHVybiBhO251bGw9PWEmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7dmFyIGI9YWJbYV07aWYoYilyZXR1cm4gYjtpZighaChhKSlyZXR1cm4gYmI7dmFyIGI9bmV3IGkoYSxfKTtyZXR1cm4gYWJbYV09YixifWZ1bmN0aW9uIGsoYil7Zm9yKHZhciBjPTA7ZGI+YyYmYi5jaGVja18oKTspYysrO3JldHVybiBhLnRlc3RpbmdFeHBvc2VDeWNsZUNvdW50JiYoYS5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jKSxjPjB9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBtKGEpe3JldHVybiBsKGEuYWRkZWQpJiZsKGEucmVtb3ZlZCkmJmwoYS5jaGFuZ2VkKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIG8oKXtpZighZWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8ZWIubGVuZ3RoO2ErKyllYlthXSgpO3JldHVybiBlYi5sZW5ndGg9MCwhMH1mdW5jdGlvbiBwKCl7ZnVuY3Rpb24gYShhKXtiJiZiLnN0YXRlXz09PWtiJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxnYi5wdXNoKHRoaXMpfX19ZnVuY3Rpb24gcShhLGIsYyl7dmFyIGQ9Z2IucG9wKCl8fHAoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gcigpe2Z1bmN0aW9uIGEoYil7aWYoZihiKSl7dmFyIGM9aS5pbmRleE9mKGIpO2M+PTA/KGlbY109dm9pZCAwLGgucHVzaChiKSk6aC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixkKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpfX1mdW5jdGlvbiBiKCl7aWYoaz0hMSxqKXt2YXIgYj1pPT09aGI/W106aTtpPWgsaD1iO3ZhciBjO2Zvcih2YXIgZiBpbiBlKWM9ZVtmXSxjJiZjLnN0YXRlXz09a2ImJmMuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZz0wO2c8aS5sZW5ndGg7ZysrKXt2YXIgbD1pW2ddO2wmJk9iamVjdC51bm9ic2VydmUobCxkKX1pLmxlbmd0aD0wfX1mdW5jdGlvbiBjKCl7a3x8KGo9ITAsaz0hMCxmYihiKSl9ZnVuY3Rpb24gZCgpe3ZhciBhO2Zvcih2YXIgYiBpbiBlKWE9ZVtiXSxhJiZhLnN0YXRlXz09a2ImJmEuY2hlY2tfKCk7YygpfXZhciBlPVtdLGc9MCxoPVtdLGk9aGIsaj0hMSxrPSExLGw9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYil7ZVtiLmlkX109YixnKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKGEpe2lmKGVbYS5pZF9dPXZvaWQgMCxnLS0sZylyZXR1cm4gdm9pZCBjKCk7aj0hMTtmb3IodmFyIGI9MDtiPGgubGVuZ3RoO2IrKylPYmplY3QudW5vYnNlcnZlKGhbYl0sZCksdC51bm9ic2VydmVkQ291bnQrKztlLmxlbmd0aD0wLGgubGVuZ3RoPTAsaWIucHVzaCh0aGlzKX0scmVzZXQ6Y307cmV0dXJuIGx9ZnVuY3Rpb24gcyhhLGIpe3JldHVybiBjYiYmY2Iub2JqZWN0PT09Ynx8KGNiPWliLnBvcCgpfHxyKCksY2Iub2JqZWN0PWIpLGNiLm9wZW4oYSksY2J9ZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGVfPWpiLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmIrK31mdW5jdGlvbiB1KGEpe3QuX2FsbE9ic2VydmVyc0NvdW50KysscGImJm9iLnB1c2goYSl9ZnVuY3Rpb24gdigpe3QuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gdyhhKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZV89YSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIHgoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTt3LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB5KGEsYil7dC5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89YiBpbnN0YW5jZW9mIGk/YjpqKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiB6KCl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBBKGEpe3JldHVybiBhfWZ1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89YSx0aGlzLmdldFZhbHVlRm5fPWJ8fEEsdGhpcy5zZXRWYWx1ZUZuXz1jfHxBLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1kfWZ1bmN0aW9uIEMoYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0Lm9ic2VydmUpe3ZhciBjPU9iamVjdC5nZXROb3RpZmllcihhKTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZj17b2JqZWN0OmEsdHlwZTpkLG5hbWU6Yn07Mj09PWFyZ3VtZW50cy5sZW5ndGgmJihmLm9sZFZhbHVlPWUpLGMubm90aWZ5KGYpfX19ZnVuY3Rpb24gRChhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3RiW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLGcudHlwZSE9TSYmKGcudHlwZSE9TD9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJue2luZGV4OmEscmVtb3ZlZDpiLGFkZGVkQ291bnQ6Y319ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBHKGEsYixjLGQsZSxmKXtyZXR1cm4geWIuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIEgoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gSShhLGIsYyxkKXtmb3IodmFyIGU9RShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPUgoZS5pbmRleCxlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGgsaS5pbmRleCxpLmluZGV4K2kuYWRkZWRDb3VudCk7aWYoaj49MCl7YS5zcGxpY2UoaCwxKSxoLS0sZy09aS5hZGRlZENvdW50LWkucmVtb3ZlZC5sZW5ndGgsZS5hZGRlZENvdW50Kz1pLmFkZGVkQ291bnQtajt2YXIgaz1lLnJlbW92ZWQubGVuZ3RoK2kucmVtb3ZlZC5sZW5ndGgtajtpZihlLmFkZGVkQ291bnR8fGspe3ZhciBjPWkucmVtb3ZlZDtpZihlLmluZGV4PGkuaW5kZXgpe3ZhciBsPWUucmVtb3ZlZC5zbGljZSgwLGkuaW5kZXgtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobCxjKSxjPWx9aWYoZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoPmkuaW5kZXgraS5hZGRlZENvdW50KXt2YXIgbT1lLnJlbW92ZWQuc2xpY2UoaS5pbmRleCtpLmFkZGVkQ291bnQtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxtKX1lLnJlbW92ZWQ9YyxpLmluZGV4PGUuaW5kZXgmJihlLmluZGV4PWkuaW5kZXgpfWVsc2UgZj0hMH1lbHNlIGlmKGUuaW5kZXg8aS5pbmRleCl7Zj0hMCxhLnNwbGljZShoLDAsZSksaCsrO3ZhciBuPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RoO2kuaW5kZXgrPW4sZys9bn19fWZ8fGEucHVzaChlKX1mdW5jdGlvbiBKKGEsYil7Zm9yKHZhciBjPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtzd2l0Y2goZy50eXBlKXtjYXNlIFA6SShjLGcuaW5kZXgsZy5yZW1vdmVkLnNsaWNlKCksZy5hZGRlZENvdW50KTticmVhaztjYXNlIEw6Y2FzZSBNOmNhc2UgTzppZighZChnLm5hbWUpKWNvbnRpbnVlO3ZhciBoPWUoZy5uYW1lKTtpZigwPmgpY29udGludWU7SShjLGgsW2cub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShnKSl9fXJldHVybiBjfWZ1bmN0aW9uIEsoYSxiKXt2YXIgYz1bXTtyZXR1cm4gSihhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD92b2lkKGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSk6dm9pZChjPWMuY29uY2F0KEcoYSxiLmluZGV4LGIuaW5kZXgrYi5hZGRlZENvdW50LGIucmVtb3ZlZCwwLGIucmVtb3ZlZC5sZW5ndGgpKSl9KSxjfXZhciBMPSJhZGQiLE09InVwZGF0ZSIsTj0icmVjb25maWd1cmUiLE89ImRlbGV0ZSIsUD0ic3BsaWNlIixRPWIoKSxSPWMoKSxTPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFQ9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFU9IlskX2EtekEtWl0iLFY9IlskX2EtekEtWjAtOV0iLFc9VSsiKyIrVisiKiIsWD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsWT0iKD86IitXKyJ8IitYKyIpIixaPSIoPzoiK1krIikoPzpcXHMqXFwuXFxzKiIrWSsiKSoiLCQ9bmV3IFJlZ0V4cCgiXiIrWisiJCIpLF89e30sYWI9e307aS5nZXQ9aixpLnByb3RvdHlwZT1UKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCIuIil9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFhKXJldHVybjtiKGEpfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPydbIicrYSsnIl0nOiIuIithfSksYj0iIixjPSJvYmoiO2IrPSJpZiAob2JqICE9IG51bGwiO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGgtMTtlKyspe3t0aGlzW2VdfWMrPWFbZV0sYis9IiAmJlxuICAgICAiK2MrIiAhPSBudWxsIn1yZXR1cm4gYis9IilcbiIsYys9YVtlXSxiKz0iICByZXR1cm4gIitjKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGJiPW5ldyBpKCIiLF8pO2JiLnZhbGlkPSExLGJiLmdldFZhbHVlRnJvbT1iYi5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBjYixkYj0xZTMsZWI9W10sZmI9UT9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe28oKSxiPSExfSksZnVuY3Rpb24oYyl7ZWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZWIucHVzaChhKX19KCksZ2I9W10saGI9W10saWI9W10samI9MCxrYj0xLGxiPTIsbWI9MyxuYj0xO3QucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gdSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJih2KHRoaXMpLHRoaXMuc3RhdGVfPWxiLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDApfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiZrKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7dC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBvYixwYj0hUTt0Ll9hbGxPYnNlcnZlcnNDb3VudD0wLHBiJiYob2I9W10pO3ZhciBxYj0hMSxyYj0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzO2EuUGxhdGZvcm09YS5QbGF0Zm9ybXx8e30sYS5QbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludD1mdW5jdGlvbigpe2lmKCFxYil7aWYocmIpcmV0dXJuIHZvaWQgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzKCk7aWYocGIpe3FiPSEwO3ZhciBiLGMsZD0wO2Rve2QrKyxjPW9iLG9iPVtdLGI9ITE7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07Zi5zdGF0ZV89PWtiJiYoZi5jaGVja18oKSYmKGI9ITApLG9iLnB1c2goZikpfW8oKSYmKGI9ITApfXdoaWxlKGRiPmQmJmIpO2EudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihhLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWQpLHFiPSExfX19LHBiJiYoYS5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe29iPVtdfSksdy5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe1E/dGhpcy5kaXJlY3RPYnNlcnZlcl89cSh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1BcnJheS5pc0FycmF5KGEpP1tdOnt9O2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmKGIubGVuZ3RoPWEubGVuZ3RoKSxifSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihRKXtpZighYSlyZXR1cm4hMTtjPXt9LGI9RCh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1uKHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIG0oYik/ITE6KFF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiLmFkZGVkfHx7fSxiLnJlbW92ZWR8fHt9LGIuY2hhbmdlZHx8e30sZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV19XSksITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe1E/KHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKCksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKTp0aGlzLm9sZE9iamVjdF89dm9pZCAwfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiYoUT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTprKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSkseC5wcm90b3R5cGU9VCh7X19wcm90b19fOncucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihRKXtpZighYSlyZXR1cm4hMTtiPUsodGhpcy52YWx1ZV8sYSl9ZWxzZSBiPUcodGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIGImJmIubGVuZ3RoPyhRfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYl0pLCEwKTohMX19KSx4LmFwcGx5U3BsaWNlcz1mdW5jdGlvbihhLGIsYyl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bYy5pbmRleCxjLnJlbW92ZWQubGVuZ3RoXSxlPWMuaW5kZXg7ZTxjLmluZGV4K2MuYWRkZWRDb3VudDspZC5wdXNoKGJbZV0pLGUrKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsZCl9KX0seS5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7USYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXModGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksYnx8Zyh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjXSksITApfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLnBhdGhfJiZ0aGlzLnBhdGhfLnNldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8sYSl9fSk7dmFyIHNiPXt9O3oucHJvdG90eXBlPVQoe19fcHJvdG9fXzp0LnByb3RvdHlwZSxjb25uZWN0XzpmdW5jdGlvbigpe2lmKHRoaXMuY2hlY2tfKHZvaWQgMCwhMCksUSl7Zm9yKHZhciBhLGI9ITEsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpaWYoYT10aGlzLm9ic2VydmVkX1tjXSxhIT09c2Ipe2I9ITA7YnJlYWt9cmV0dXJuIHRoaXMuZGlyZWN0T2JzZXJ2ZXJfP2I/dm9pZCB0aGlzLmRpcmVjdE9ic2VydmVyXy5yZXNldCgpOih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHZvaWQodGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKSk6dm9pZChiJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLGEpKSl9fSxjbG9zZU9ic2VydmVyc186ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDthKz0yKXRoaXMub2JzZXJ2ZWRfW2FdPT09c2ImJnRoaXMub2JzZXJ2ZWRfW2ErMV0uY2xvc2UoKTt0aGlzLm9ic2VydmVkXy5sZW5ndGg9MH0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApLHRoaXMuY2xvc2VPYnNlcnZlcnNfKCl9LGFkZFBhdGg6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnN0YXRlXyE9amImJnRoaXMuc3RhdGVfIT1tYil0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dGhpcy5vYnNlcnZlZF8ucHVzaChhLGIgaW5zdGFuY2VvZiBpP2I6aihiKSl9LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGVfIT1qYiYmdGhpcy5zdGF0ZV8hPW1iKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKSx0aGlzLm9ic2VydmVkXy5wdXNoKHNiLGEpfSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWtiKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89bWIsdGhpcy5jbG9zZU9ic2VydmVyc18oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9bWIpdGhyb3cgRXJyb3IoIkNhbiBvbmx5IGZpbmlzaFJlc2V0IGFmdGVyIHN0YXJ0UmVzZXQiKTtyZXR1cm4gdGhpcy5zdGF0ZV89a2IsdGhpcy5jb25uZWN0XygpLHRoaXMudmFsdWVffSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MDtjPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtjKz0yKWI9dGhpcy5vYnNlcnZlZF9bY10sYiE9PXNiJiZ0aGlzLm9ic2VydmVkX1tjKzFdLml0ZXJhdGVPYmplY3RzKGIsYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTA7ZDx0aGlzLm9ic2VydmVkXy5sZW5ndGg7ZCs9Mil7dmFyIGU9dGhpcy5vYnNlcnZlZF9bZCsxXSxmPXRoaXMub2JzZXJ2ZWRfW2RdLGg9Zj09PXNiP2UuZGlzY2FyZENoYW5nZXMoKTplLmdldFZhbHVlRnJvbShmKTtiP3RoaXMudmFsdWVfW2QvMl09aDpnKGgsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09aCl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxCLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihhKXtpZihhPXRoaXMuZ2V0VmFsdWVGbl8oYSksIWcoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIHRiPXt9O3RiW0xdPSEwLHRiW01dPSEwLHRiW09dPSEwLHQuZGVmaW5lQ29tcHV0ZWRQcm9wZXJ0eT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9QyhhLGIpLGU9Yy5vcGVuKGZ1bmN0aW9uKGEsYil7ZT1hLGQmJmQoTSxiKX0pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWxpdmVyKCksZX0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiBjLnNldFZhbHVlKGEpLGF9LGNvbmZpZ3VyYWJsZTohMH0pLHtjbG9zZTpmdW5jdGlvbigpe2MuY2xvc2UoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX19O3ZhciB1Yj0wLHZiPTEsd2I9Mix4Yj0zO0YucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKHViKTooZS5wdXNoKHZiKSxkPWcpLGItLSxjLS0pOmY9PWg/KGUucHVzaCh4YiksYi0tLGQ9aCk6KGUucHVzaCh3YiksYy0tLGQ9aSl9ZWxzZSBlLnB1c2goeGIpLGItLTtlbHNlIGUucHVzaCh3YiksYy0tO3JldHVybiBlLnJldmVyc2UoKSxlfSxjYWxjU3BsaWNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9MCxoPTAsaT1NYXRoLm1pbihjLWIsZi1lKTtpZigwPT1iJiYwPT1lJiYoZz10aGlzLnNoYXJlZFByZWZpeChhLGQsaSkpLGM9PWEubGVuZ3RoJiZmPT1kLmxlbmd0aCYmKGg9dGhpcy5zaGFyZWRTdWZmaXgoYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsYy1iPT0wJiZmLWU9PTApcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPUUoYixbXSwwKTtmPmU7KWoucmVtb3ZlZC5wdXNoKGRbZSsrXSk7cmV0dXJuW2pdfWlmKGU9PWYpcmV0dXJuW0UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgdWI6aiYmKGwucHVzaChqKSxqPXZvaWQgMCksbSsrLG4rKzticmVhaztjYXNlIHZiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rKzticmVhaztjYXNlIHdiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgeGI6anx8KGo9RShtLFtdLDApKSxqLnJlbW92ZWQucHVzaChkW25dKSxuKyt9cmV0dXJuIGomJmwucHVzaChqKSxsfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2M+ZDtkKyspaWYoIXRoaXMuZXF1YWxzKGFbZF0sYltkXSkpcmV0dXJuIGQ7cmV0dXJuIGN9LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9Yi5sZW5ndGgsZj0wO2M+ZiYmdGhpcy5lcXVhbHMoYVstLWRdLGJbLS1lXSk7KWYrKztyZXR1cm4gZn0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGEsMCxhLmxlbmd0aCxiLDAsYi5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9fTt2YXIgeWI9bmV3IEY7YS5PYnNlcnZlcj10LGEuT2JzZXJ2ZXIucnVuRU9NXz1mYixhLk9ic2VydmVyLmhhc09iamVjdE9ic2VydmU9USxhLkFycmF5T2JzZXJ2ZXI9eCxhLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiB5Yi5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGEuQXJyYXlTcGxpY2U9RixhLk9iamVjdE9ic2VydmVyPXcsYS5QYXRoT2JzZXJ2ZXI9eSxhLkNvbXBvdW5kT2JzZXJ2ZXI9eixhLlBhdGg9aSxhLk9ic2VydmVyVHJhbnNmb3JtPUIsYS5PYnNlcnZlci5jaGFuZ2VSZWNvcmRUeXBlcz17YWRkOkwsdXBkYXRlOk0scmVjb25maWd1cmU6TiwiZGVsZXRlIjpPLHNwbGljZTpQfX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSx3aW5kb3cuUGxhdGZvcm09d2luZG93LlBsYXRmb3JtfHx7fSx3aW5kb3cubG9nRmxhZ3M9d2luZG93LmxvZ0ZsYWdzfHx7fSxmdW5jdGlvbihhKXt2YXIgYj1hLmZsYWdzfHx7fTtsb2NhdGlvbi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS5zcGxpdCgiPSIpLGFbMF0mJihiW2FbMF1dPWFbMV18fCEwKX0pO3ZhciBjPWRvY3VtZW50LmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPSJwbGF0Zm9ybS5qcyJdJyk7aWYoYylmb3IodmFyIGQsZT1jLmF0dHJpYnV0ZXMsZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9ZVtmXSwic3JjIiE9PWQubmFtZSYmKGJbZC5uYW1lXT1kLnZhbHVlfHwhMCk7Yi5sb2cmJmIubG9nLnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbihhKXt3aW5kb3cubG9nRmxhZ3NbYV09ITB9KSxiLnNoYWRvdz1iLnNoYWRvd3x8Yi5zaGFkb3dkb218fGIucG9seWZpbGwsYi5zaGFkb3c9Im5hdGl2ZSI9PT1iLnNoYWRvdz8hMTpiLnNoYWRvd3x8IUhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290LGIucmVnaXN0ZXImJih3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5DdXN0b21FbGVtZW50cy5mbGFncy5yZWdpc3Rlcj1iLnJlZ2lzdGVyKSxiLmltcG9ydHMmJih3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5IVE1MSW1wb3J0cy5mbGFncy5pbXBvcnRzPWIuaW1wb3J0cyksYS5mbGFncz1ifShQbGF0Zm9ybSksUGxhdGZvcm0uZmxhZ3Muc2hhZG93Pyh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7SyhhLGMsTShiLGMpKX0pLGF9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7c3dpdGNoKGMpe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOnJldHVybn1LKGEsYyxNKGIsYykpfSksYX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZihhKXt2YXIgYj1hLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9RS5nZXQoYik7aWYoYylyZXR1cm4gYzt2YXIgZD1mKGIpLGU9dChkKTtyZXR1cm4gcShiLGUsYSksZX1mdW5jdGlvbiBnKGEsYil7byhhLGIsITApfWZ1bmN0aW9uIGgoYSxiKXtvKGIsYSwhMSl9ZnVuY3Rpb24gaShhKXtyZXR1cm4vXm9uW2Etel0rJC8udGVzdChhKX1mdW5jdGlvbiBqKGEpe3JldHVybi9eXHdbYS16QS1aXzAtOV0qJC8udGVzdChhKX1mdW5jdGlvbiBrKGEpe3JldHVybiBIJiZqKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2EpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXX19ZnVuY3Rpb24gbChhKXtyZXR1cm4gSCYmaihhKT9uZXcgRnVuY3Rpb24oInYiLCJ0aGlzLmltcGwuIithKyIgPSB2Iik6ZnVuY3Rpb24oYil7dGhpcy5pbXBsW2FdPWJ9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEgmJmooYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSsiLmFwcGx5KHRoaXMuaW1wbCwgYXJndW1lbnRzKSIpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19ZnVuY3Rpb24gbihhLGIpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpfWNhdGNoKGMpe3JldHVybiBPfX1mdW5jdGlvbiBvKGIsYyxkKXtmb3IodmFyIGU9TChiKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07aWYoInBvbHltZXJCbGFja0xpc3RfIiE9PWcmJiEoZyBpbiBjfHxiLnBvbHltZXJCbGFja0xpc3RfJiZiLnBvbHltZXJCbGFja0xpc3RfW2ddKSl7TiYmYi5fX2xvb2t1cEdldHRlcl9fKGcpO3ZhciBoLGosbz1uKGIsZyk7aWYoZCYmImZ1bmN0aW9uIj09dHlwZW9mIG8udmFsdWUpY1tnXT1tKGcpO2Vsc2V7dmFyIHA9aShnKTtoPXA/YS5nZXRFdmVudEhhbmRsZXJHZXR0ZXIoZyk6ayhnKSwoby53cml0YWJsZXx8by5zZXQpJiYoaj1wP2EuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyKGcpOmwoZykpLEsoYyxnLHtnZXQ6aCxzZXQ6aixjb25maWd1cmFibGU6by5jb25maWd1cmFibGUsZW51bWVyYWJsZTpvLmVudW1lcmFibGV9KX19fX1mdW5jdGlvbiBwKGEsYixjKXt2YXIgZT1hLnByb3RvdHlwZTtxKGUsYixjKSxkKGIsYSl9ZnVuY3Rpb24gcShhLGMsZCl7dmFyIGU9Yy5wcm90b3R5cGU7Yih2b2lkIDA9PT1FLmdldChhKSksRS5zZXQoYSxjKSxGLnNldChlLGEpLGcoYSxlKSxkJiZoKGUsZCksSyhlLCJjb25zdHJ1Y3RvciIse3ZhbHVlOmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX1mdW5jdGlvbiByKGEsYil7cmV0dXJuIEUuZ2V0KGIucHJvdG90eXBlKT09PWF9ZnVuY3Rpb24gcyhhKXt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1mKGIpLGQ9dChjKTtyZXR1cm4gcShiLGQsYSksZH1mdW5jdGlvbiB0KGEpe2Z1bmN0aW9uIGIoYil7YS5jYWxsKHRoaXMsYil9cmV0dXJuIGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLGIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWIsYn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIGluc3RhbmNlb2YgRy5FdmVudFRhcmdldHx8YSBpbnN0YW5jZW9mIEcuRXZlbnR8fGEgaW5zdGFuY2VvZiBHLlJhbmdlfHxhIGluc3RhbmNlb2YgRy5ET01JbXBsZW1lbnRhdGlvbnx8YSBpbnN0YW5jZW9mIEcuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfHxHLldlYkdMUmVuZGVyaW5nQ29udGV4dCYmYSBpbnN0YW5jZW9mIEcuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWZ1bmN0aW9uIHYoYSl7cmV0dXJuIFEmJmEgaW5zdGFuY2VvZiBRfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgVXx8YSBpbnN0YW5jZW9mIFB8fGEgaW5zdGFuY2VvZiBWfHxXJiZhIGluc3RhbmNlb2YgV3x8WCYmYSBpbnN0YW5jZW9mIFh9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYih2KGEpKSxhLnBvbHltZXJXcmFwcGVyX3x8KGEucG9seW1lcldyYXBwZXJfPW5ldyhmKGEpKShhKSkpfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGIodShhKSksYS5pbXBsKX1mdW5jdGlvbiB5KGEpe3JldHVybiBhJiZ1KGEpP3goYSk6YX1mdW5jdGlvbiB6KGEpe3JldHVybiBhJiYhdShhKT93KGEpOmF9ZnVuY3Rpb24gQShhLGMpe251bGwhPT1jJiYoYih2KGEpKSxiKHZvaWQgMD09PWN8fHUoYykpLGEucG9seW1lcldyYXBwZXJfPWMpfWZ1bmN0aW9uIEIoYSxiLGMpe0soYS5wcm90b3R5cGUsYix7Z2V0OmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBDKGEsYil7QihhLGIsZnVuY3Rpb24oKXtyZXR1cm4gdyh0aGlzLmltcGxbYl0pfSl9ZnVuY3Rpb24gRChhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiLmZvckVhY2goZnVuY3Rpb24oYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT16KHRoaXMpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pfXZhciBFPW5ldyBXZWFrTWFwLEY9bmV3IFdlYWtNYXAsRz1PYmplY3QuY3JlYXRlKG51bGwpLEg9ISgic2VjdXJpdHlQb2xpY3kiaW4gZG9jdW1lbnQpfHxkb2N1bWVudC5zZWN1cml0eVBvbGljeS5hbGxvd3NFdmFsO2lmKEgpdHJ5e3ZhciBJPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7SD1JKCl9Y2F0Y2goSil7SD0hMX12YXIgSz1PYmplY3QuZGVmaW5lUHJvcGVydHksTD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxNPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7TCh3aW5kb3cpO3ZhciBOPS9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLE89e2dldDpmdW5jdGlvbigpe30sc2V0OmZ1bmN0aW9uKCl7fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sUD13aW5kb3cuRE9NSW1wbGVtZW50YXRpb24sUT13aW5kb3cuRXZlbnRUYXJnZXQsUj13aW5kb3cuRXZlbnQsUz13aW5kb3cuTm9kZSxUPXdpbmRvdy5XaW5kb3csVT13aW5kb3cuUmFuZ2UsVj13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCxYPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7YS5hc3NlcnQ9YixhLmNvbnN0cnVjdG9yVGFibGU9RSxhLmRlZmluZUdldHRlcj1CLGEuZGVmaW5lV3JhcEdldHRlcj1DLGEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXI9RCxhLmlzV3JhcHBlcj11LGEuaXNXcmFwcGVyRm9yPXIsYS5taXhpbj1jLGEubmF0aXZlUHJvdG90eXBlVGFibGU9RixhLm9uZU9mPWUsYS5yZWdpc3Rlck9iamVjdD1zLGEucmVnaXN0ZXJXcmFwcGVyPXAsYS5yZXdyYXA9QSxhLnVud3JhcD14LGEudW53cmFwSWZOZWVkZWQ9eSxhLndyYXA9dyxhLndyYXBJZk5lZWRlZD16LGEud3JhcHBlcnM9R30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2c9ITE7dmFyIGE9Zi5zbGljZSgwKTtmPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0oKX1mdW5jdGlvbiBjKGEpe2YucHVzaChhKSxnfHwoZz0hMCxkKGIsMCkpfXZhciBkLGU9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsZj1bXSxnPSExO2lmKGUpe3ZhciBoPTEsaT1uZXcgZShiKSxqPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGgpO2kub2JzZXJ2ZShqLHtjaGFyYWN0ZXJEYXRhOiEwfSksZD1mdW5jdGlvbigpe2g9KGgrMSklMixqLmRhdGE9aH19ZWxzZSBkPXdpbmRvdy5zZXRJbW1lZGlhdGV8fHdpbmRvdy5zZXRUaW1lb3V0O2Euc2V0RW5kT2ZNaWNyb3Rhc2s9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe3B8fChrKGMpLHA9ITApfWZ1bmN0aW9uIGMoKXtwPSExO2RvIGZvcih2YXIgYT1vLnNsaWNlKCksYj0hMSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT1kLnRha2VSZWNvcmRzKCk7ZihkKSxlLmxlbmd0aCYmKGQuY2FsbGJhY2tfKGUsZCksYj0hMCl9d2hpbGUoYil9ZnVuY3Rpb24gZChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucmVtb3ZlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGUoYSxiKXtmb3IoO2E7YT1hLnBhcmVudE5vZGUpe3ZhciBjPW4uZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07ZS5vcHRpb25zLnN1YnRyZWUmJmUuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYil9fX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj0wO2I8YS5ub2Rlc18ubGVuZ3RoO2IrKyl7dmFyIGM9YS5ub2Rlc19bYl0sZD1uLmdldChjKTtpZighZClyZXR1cm47Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07Zi5vYnNlcnZlcj09PWEmJmYucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9fX1mdW5jdGlvbiBnKGEsYyxlKXtmb3IodmFyIGY9T2JqZWN0LmNyZWF0ZShudWxsKSxnPU9iamVjdC5jcmVhdGUobnVsbCksaD1hO2g7aD1oLnBhcmVudE5vZGUpe3ZhciBpPW4uZ2V0KGgpO2lmKGkpZm9yKHZhciBqPTA7ajxpLmxlbmd0aDtqKyspe3ZhciBrPWlbal0sbD1rLm9wdGlvbnM7aWYoKGg9PT1hfHxsLnN1YnRyZWUpJiYhKCJhdHRyaWJ1dGVzIj09PWMmJiFsLmF0dHJpYnV0ZXN8fCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlRmlsdGVyJiYobnVsbCE9PWUubmFtZXNwYWNlfHwtMT09PWwuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoZS5uYW1lKSl8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJiFsLmNoYXJhY3RlckRhdGF8fCJjaGlsZExpc3QiPT09YyYmIWwuY2hpbGRMaXN0KSl7dmFyIG09ay5vYnNlcnZlcjtmW20udWlkX109bSwoImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImNoYXJhY3RlckRhdGEiPT09YyYmbC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpJiYoZ1ttLnVpZF9dPWUub2xkVmFsdWUpfX19dmFyIG89ITE7Zm9yKHZhciBwIGluIGYpe3ZhciBtPWZbcF0scT1uZXcgZChjLGEpOyJuYW1lImluIGUmJiJuYW1lc3BhY2UiaW4gZSYmKHEuYXR0cmlidXRlTmFtZT1lLm5hbWUscS5hdHRyaWJ1dGVOYW1lc3BhY2U9ZS5uYW1lc3BhY2UpLGUuYWRkZWROb2RlcyYmKHEuYWRkZWROb2Rlcz1lLmFkZGVkTm9kZXMpLGUucmVtb3ZlZE5vZGVzJiYocS5yZW1vdmVkTm9kZXM9ZS5yZW1vdmVkTm9kZXMpLGUucHJldmlvdXNTaWJsaW5nJiYocS5wcmV2aW91c1NpYmxpbmc9ZS5wcmV2aW91c1NpYmxpbmcpLGUubmV4dFNpYmxpbmcmJihxLm5leHRTaWJsaW5nPWUubmV4dFNpYmxpbmcpLHZvaWQgMCE9PWdbcF0mJihxLm9sZFZhbHVlPWdbcF0pLG0ucmVjb3Jkc18ucHVzaChxKSxvPSEwfW8mJmIoKX1mdW5jdGlvbiBoKGEpe2lmKHRoaXMuY2hpbGRMaXN0PSEhYS5jaGlsZExpc3QsdGhpcy5zdWJ0cmVlPSEhYS5zdWJ0cmVlLHRoaXMuYXR0cmlidXRlcz0iYXR0cmlidXRlcyJpbiBhfHwhKCJhdHRyaWJ1dGVPbGRWYWx1ZSJpbiBhfHwiYXR0cmlidXRlRmlsdGVyImluIGEpPyEhYS5hdHRyaWJ1dGVzOiEwLHRoaXMuY2hhcmFjdGVyRGF0YT0iY2hhcmFjdGVyRGF0YU9sZFZhbHVlImluIGEmJiEoImNoYXJhY3RlckRhdGEiaW4gYSk/ITA6ISFhLmNoYXJhY3RlckRhdGEsIXRoaXMuYXR0cmlidXRlcyYmKGEuYXR0cmlidXRlT2xkVmFsdWV8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl8fCF0aGlzLmNoYXJhY3RlckRhdGEmJmEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKXRocm93IG5ldyBUeXBlRXJyb3I7aWYodGhpcy5jaGFyYWN0ZXJEYXRhPSEhYS5jaGFyYWN0ZXJEYXRhLHRoaXMuYXR0cmlidXRlT2xkVmFsdWU9ISFhLmF0dHJpYnV0ZU9sZFZhbHVlLHRoaXMuY2hhcmFjdGVyRGF0YU9sZFZhbHVlPSEhYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUsImF0dHJpYnV0ZUZpbHRlciJpbiBhKXtpZihudWxsPT1hLmF0dHJpYnV0ZUZpbHRlcnx8Im9iamVjdCIhPXR5cGVvZiBhLmF0dHJpYnV0ZUZpbHRlcil0aHJvdyBuZXcgVHlwZUVycm9yO3RoaXMuYXR0cmlidXRlRmlsdGVyPXEuY2FsbChhLmF0dHJpYnV0ZUZpbHRlcil9ZWxzZSB0aGlzLmF0dHJpYnV0ZUZpbHRlcj1udWxsfWZ1bmN0aW9uIGkoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Isby5wdXNoKHRoaXMpfWZ1bmN0aW9uIGooYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgaz1hLnNldEVuZE9mTWljcm90YXNrLGw9YS53cmFwSWZOZWVkZWQsbT1hLndyYXBwZXJzLG49bmV3IFdlYWtNYXAsbz1bXSxwPSExLHE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHI9MDtpLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2E9bChhKTt2YXIgYyxkPW5ldyBoKGIpLGU9bi5nZXQoYSk7ZXx8bi5zZXQoYSxlPVtdKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdLm9ic2VydmVyPT09dGhpcyYmKGM9ZVtmXSxjLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpLGMub3B0aW9ucz1kKTtjfHwoYz1uZXcgaih0aGlzLGEsZCksZS5wdXNoKGMpLHRoaXMubm9kZXNfLnB1c2goYSkpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9bi5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX0sai5wcm90b3R5cGU9e2FkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9bi5nZXQoYSk7Ynx8bi5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLGQ9bi5nZXQoYyksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGRbZV09PT10aGlzKXtkLnNwbGljZShlLDEpO2JyZWFrfX19LGEuZW5xdWV1ZU11dGF0aW9uPWcsYS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1lLGEud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1pLGEud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3ZhciBiPWEubG9jYWxOYW1lO3JldHVybiJjb250ZW50Ij09PWJ8fCJzaGFkb3ciPT09Yn1mdW5jdGlvbiBkKGEpe3JldHVybiEhYS5zaGFkb3dSb290fWZ1bmN0aW9uIGUoYSl7dmFyIGI7cmV0dXJuIGEucGFyZW50Tm9kZXx8KGI9YS5kZWZhdWx0VmlldykmJlAoYil8fG51bGx9ZnVuY3Rpb24gZihmLGcsaCl7aWYoaC5sZW5ndGgpcmV0dXJuIGguc2hpZnQoKTtpZihiKGYpKXJldHVybiBqKGYpfHxmLmhvc3Q7dmFyIGk9YS5ldmVudFBhcmVudHNUYWJsZS5nZXQoZik7aWYoaSl7Zm9yKHZhciBrPTE7azxpLmxlbmd0aDtrKyspaFtrLTFdPWlba107cmV0dXJuIGlbMF19aWYoZyYmYyhmKSl7dmFyIGw9Zi5wYXJlbnROb2RlO2lmKGwmJmQobCkpZm9yKHZhciBtPWEuZ2V0U2hhZG93VHJlZXMobCksbj1qKGcpLGs9MDtrPG0ubGVuZ3RoO2srKylpZihtW2tdLmNvbnRhaW5zKG4pKXJldHVybiBufXJldHVybiBlKGYpfWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBkPVtdLGU9YSxnPVtdLGk9W107ZTspe3ZhciBqPW51bGw7aWYoYyhlKSl7aj1oKGQpO3ZhciBrPWRbZC5sZW5ndGgtMV18fGU7ZC5wdXNoKGspfWVsc2UgZC5sZW5ndGh8fGQucHVzaChlKTt2YXIgbD1kW2QubGVuZ3RoLTFdO2cucHVzaCh7dGFyZ2V0OmwsY3VycmVudFRhcmdldDplfSksYihlKSYmZC5wb3AoKSxlPWYoZSxqLGkpfXJldHVybiBnfWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTE7Yj49MDtiLS0paWYoIWMoYVtiXSkpcmV0dXJuIGFbYl07cmV0dXJuIG51bGx9ZnVuY3Rpb24gaShhLGQpe2Zvcih2YXIgZT1bXTthOyl7Zm9yKHZhciBnPVtdLGk9ZCxqPXZvaWQgMDtpOyl7dmFyIGw9bnVsbDtpZihnLmxlbmd0aCl7aWYoYyhpKSYmKGw9aChnKSxrKGopKSl7dmFyIG49Z1tnLmxlbmd0aC0xXTtnLnB1c2gobil9fWVsc2UgZy5wdXNoKGkpO2lmKG0oaSxhKSlyZXR1cm4gZ1tnLmxlbmd0aC0xXTtiKGkpJiZnLnBvcCgpLGo9aSxpPWYoaSxsLGUpfWE9YihhKT9hLmhvc3Q6YS5wYXJlbnROb2RlfX1mdW5jdGlvbiBqKGIpe3JldHVybiBhLmluc2VydGlvblBhcmVudFRhYmxlLmdldChiKX1mdW5jdGlvbiBrKGEpe3JldHVybiBqKGEpfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gbShhLGIpe3JldHVybiBsKGEpPT09bChiKX1mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iPyEwOmEgaW5zdGFuY2VvZiBRLlNoYWRvd1Jvb3Q/bihsKGEuaG9zdCksYik6ITF9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gUy5nZXQoYSk/dm9pZCAwOihTLnNldChhLCEwKSxwKFAoYSksUChhLnRhcmdldCkpKX1mdW5jdGlvbiBwKGIsYyl7aWYoVC5nZXQoYikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkU3RhdGVFcnJvciIpO1Quc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBkPWcoYyk7cmV0dXJuImxvYWQiPT09Yi50eXBlJiYyPT09ZC5sZW5ndGgmJmRbMF0udGFyZ2V0IGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmZC5zaGlmdCgpLF8uc2V0KGIsZCkscShiLGQpJiZyKGIsZCkmJnMoYixkKSxYLnNldChiLHYuTk9ORSksVi5kZWxldGUoYixudWxsKSxULmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gcShhLGIpe2Zvcih2YXIgYyxkPWIubGVuZ3RoLTE7ZD4wO2QtLSl7dmFyIGU9YltkXS50YXJnZXQsZj1iW2RdLmN1cnJlbnRUYXJnZXQ7aWYoZSE9PWYmJihjPXYuQ0FQVFVSSU5HX1BIQVNFLCF0KGJbZF0sYSxjKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPXYuQVRfVEFSR0VUO3JldHVybiB0KGJbMF0sYSxjKX1mdW5jdGlvbiBzKGEsYil7Zm9yKHZhciBjLGQ9YS5idWJibGVzLGU9MTtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXS50YXJnZXQsZz1iW2VdLmN1cnJlbnRUYXJnZXQ7aWYoZj09PWcpYz12LkFUX1RBUkdFVDtlbHNle2lmKCFkfHxaLmdldChhKSljb250aW51ZTtjPXYuQlVCQkxJTkdfUEhBU0V9aWYoIXQoYltlXSxhLGMpKXJldHVybn19ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9YS50YXJnZXQsZT1hLmN1cnJlbnRUYXJnZXQsZj1SLmdldChlKTtpZighZilyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgZz1PKGIpO2lmKGcucmVsYXRlZFRhcmdldCl7dmFyIGg9UChnLnJlbGF0ZWRUYXJnZXQpLGo9aShlLGgpO2lmKGo9PT1kKXJldHVybiEwO1cuc2V0KGIsail9fVguc2V0KGIsYyk7dmFyIGs9Yi50eXBlLGw9ITE7VS5zZXQoYixkKSxWLnNldChiLGUpO2Zvcih2YXIgbT0wO208Zi5sZW5ndGg7bSsrKXt2YXIgbj1mW21dO2lmKG4ucmVtb3ZlZClsPSEwO2Vsc2UgaWYoIShuLnR5cGUhPT1rfHwhbi5jYXB0dXJlJiZjPT09di5DQVBUVVJJTkdfUEhBU0V8fG4uY2FwdHVyZSYmYz09PXYuQlVCQkxJTkdfUEhBU0UpKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5oYW5kbGVyP24uaGFuZGxlci5jYWxsKGUsYik6bi5oYW5kbGVyLmhhbmRsZUV2ZW50KGIpLFouZ2V0KGIpKXJldHVybiExfWNhdGNoKG8pe3dpbmRvdy5vbmVycm9yP3dpbmRvdy5vbmVycm9yKG8ubWVzc2FnZSk6Y29uc29sZS5lcnJvcihvLG8uc3RhY2spfX1pZihsKXt2YXIgcD1mLnNsaWNlKCk7Zi5sZW5ndGg9MDtmb3IodmFyIG09MDttPHAubGVuZ3RoO20rKylwW21dLnJlbW92ZWR8fGYucHVzaChwW21dKX1yZXR1cm4hWS5nZXQoYil9ZnVuY3Rpb24gdShhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5oYW5kbGVyPWIsdGhpcy5jYXB0dXJlPUJvb2xlYW4oYyl9ZnVuY3Rpb24gdihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYWI/dm9pZCh0aGlzLmltcGw9YSk6UCh6KGFiLCJFdmVudCIsYSxiKSl9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh6KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24geShhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geihhLGIsYyxkKXtpZihqYilyZXR1cm4gbmV3IGEoYyx3KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPWliW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIEEoKXt2LmNhbGwodGhpcyl9ZnVuY3Rpb24gQihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEMoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEQoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gRShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEYoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRyhhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRihQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEgoYSl7TChhLG1iKX1mdW5jdGlvbiBJKGIsYyxkLGUpe2EucmVuZGVyQWxsUGVuZGluZygpO2Zvcih2YXIgZj1QKG5iLmNhbGwoYy5pbXBsLGQsZSkpLGg9ZyhmLHRoaXMpLGk9MDtpPGgubGVuZ3RoO2krKyl7dmFyIGo9aFtpXTtpZihqLmN1cnJlbnRUYXJnZXQ9PT1iKXJldHVybiBqLnRhcmdldH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBKKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPSQuZ2V0KHRoaXMpO3JldHVybiBiJiZiW2FdJiZiW2FdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBLKGEpe3ZhciBiPWEuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPSQuZ2V0KHRoaXMpO2R8fChkPU9iamVjdC5jcmVhdGUobnVsbCksJC5zZXQodGhpcyxkKSk7dmFyIGU9ZFthXTtpZihlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixlLndyYXBwZWQsITEpLCJmdW5jdGlvbiI9PXR5cGVvZiBjKXt2YXIgZj1mdW5jdGlvbihiKXt2YXIgZD1jLmNhbGwodGhpcyxiKTtkPT09ITE/Yi5wcmV2ZW50RGVmYXVsdCgpOiJvbmJlZm9yZXVubG9hZCI9PT1hJiYic3RyaW5nIj09dHlwZW9mIGQmJihiLnJldHVyblZhbHVlPWQpfTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSxkW2FdPXt2YWx1ZTpjLHdyYXBwZWQ6Zn19fX12YXIgTD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwO3UucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFuZGxlcj09PWEuaGFuZGxlciYmdGhpcy50eXBlPT09YS50eXBlJiZ0aGlzLmNhcHR1cmU9PT1hLmNhcHR1cmV9LGdldCByZW1vdmVkKCl7cmV0dXJuIG51bGw9PT10aGlzLmhhbmRsZXJ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1udWxsfX07dmFyIGFiPXdpbmRvdy5FdmVudDthYi5wcm90b3R5cGUucG9seW1lckJsYWNrTGlzdF89e3JldHVyblZhbHVlOiEwLGtleUxvY2F0aW9uOiEwfSx2LnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBVLmdldCh0aGlzKX0sZ2V0IGN1cnJlbnRUYXJnZXQoKXtyZXR1cm4gVi5nZXQodGhpcyl9LGdldCBldmVudFBoYXNlKCl7cmV0dXJuIFguZ2V0KHRoaXMpfSxnZXQgcGF0aCgpe3ZhciBhPW5ldyBRLk5vZGVMaXN0LGI9Xy5nZXQodGhpcyk7aWYoYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aC0xLGU9bChWLmdldCh0aGlzKSksZj0wO2Q+PWY7ZisrKXt2YXIgZz1iW2ZdLmN1cnJlbnRUYXJnZXQsaD1sKGcpO24oZSxoKSYmKGYhPT1kfHxnIGluc3RhbmNlb2YgUS5Ob2RlKSYmKGFbYysrXT1nKX1hLmxlbmd0aD1jfXJldHVybiBhfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCksWi5zZXQodGhpcywhMCl9fSxOKGFiLHYsZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IikpO3ZhciBiYj14KCJVSUV2ZW50Iix2KSxjYj14KCJDdXN0b21FdmVudCIsdiksZGI9e2dldCByZWxhdGVkVGFyZ2V0KCl7cmV0dXJuIFcuZ2V0KHRoaXMpfHxQKE8odGhpcykucmVsYXRlZFRhcmdldCl9fSxlYj1NKHtpbml0TW91c2VFdmVudDp5KCJpbml0TW91c2VFdmVudCIsMTQpfSxkYiksZmI9TSh7aW5pdEZvY3VzRXZlbnQ6eSgiaW5pdEZvY3VzRXZlbnQiLDUpfSxkYiksZ2I9eCgiTW91c2VFdmVudCIsYmIsZWIpLGhiPXgoIkZvY3VzRXZlbnQiLGJiLGZiKSxpYj1PYmplY3QuY3JlYXRlKG51bGwpLGpiPWZ1bmN0aW9uKCl7dHJ5e25ldyB3aW5kb3cuRm9jdXNFdmVudCgiZm9jdXMiKX1jYXRjaChhKXtyZXR1cm4hMX1yZXR1cm4hMH0oKTtpZighamIpe3ZhciBrYj1mdW5jdGlvbihhLGIsYyl7aWYoYyl7dmFyIGQ9aWJbY107Yj1NKE0oe30sZCksYil9aWJbYV09Yn07CmtiKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLGtiKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxrYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksa2IoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksa2IoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9QS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2LnByb3RvdHlwZSksTShBLnByb3RvdHlwZSx7Z2V0IHJldHVyblZhbHVlKCl7cmV0dXJuIHRoaXMuaW1wbC5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe3RoaXMuaW1wbC5yZXR1cm5WYWx1ZT1hfX0pO3ZhciBsYj13aW5kb3cuRXZlbnRUYXJnZXQsbWI9WyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXTtbTm9kZSxXaW5kb3ddLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5wcm90b3R5cGU7bWIuZm9yRWFjaChmdW5jdGlvbihhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhKyJfIix7dmFsdWU6YlthXX0pfSl9KSxELnByb3RvdHlwZT17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoQihiKSYmIUMoYSkpe3ZhciBkPW5ldyB1KGEsYixjKSxlPVIuZ2V0KHRoaXMpO2lmKGUpe2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKGQuZXF1YWxzKGVbZl0pKXJldHVybn1lbHNlIGU9W10sUi5zZXQodGhpcyxlKTtlLnB1c2goZCk7dmFyIGc9RSh0aGlzKTtnLmFkZEV2ZW50TGlzdGVuZXJfKGEsbywhMCl9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtjPUJvb2xlYW4oYyk7dmFyIGQ9Ui5nZXQodGhpcyk7aWYoZCl7Zm9yKHZhciBlPTAsZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKyspZFtnXS50eXBlPT09YSYmZFtnXS5jYXB0dXJlPT09YyYmKGUrKyxkW2ddLmhhbmRsZXI9PT1iJiYoZj0hMCxkW2ddLnJlbW92ZSgpKSk7aWYoZiYmMT09PWUpe3ZhciBoPUUodGhpcyk7aC5yZW1vdmVFdmVudExpc3RlbmVyXyhhLG8sITApfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGM9TyhiKSxkPWMudHlwZTtTLnNldChjLCExKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZTtHKHRoaXMsZCl8fChlPWZ1bmN0aW9uKCl7fSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZCxlLCEwKSk7dHJ5e3JldHVybiBPKHRoaXMpLmRpc3BhdGNoRXZlbnRfKGMpfWZpbmFsbHl7ZSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSwhMCl9fX0sbGImJk4obGIsRCk7dmFyIG5iPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQ7YS5hZGp1c3RSZWxhdGVkVGFyZ2V0PWksYS5lbGVtZW50RnJvbVBvaW50PUksYS5nZXRFdmVudEhhbmRsZXJHZXR0ZXI9SixhLmdldEV2ZW50SGFuZGxlclNldHRlcj1LLGEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcz1ILGEud3JhcHBlcnMuQmVmb3JlVW5sb2FkRXZlbnQ9QSxhLndyYXBwZXJzLkN1c3RvbUV2ZW50PWNiLGEud3JhcHBlcnMuRXZlbnQ9dixhLndyYXBwZXJzLkV2ZW50VGFyZ2V0PUQsYS53cmFwcGVycy5Gb2N1c0V2ZW50PWhiLGEud3JhcHBlcnMuTW91c2VFdmVudD1nYixhLndyYXBwZXJzLlVJRXZlbnQ9YmJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtlbnVtZXJhYmxlOiExfSl9ZnVuY3Rpb24gYygpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIGE7Zm9yKHZhciBiPW5ldyBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYltkXT1mKGFbZF0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZShhLGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19dmFyIGY9YS53cmFwO2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSwiaXRlbSIpLGEud3JhcHBlcnMuTm9kZUxpc3Q9YyxhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZD1lLGEud3JhcE5vZGVMaXN0PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7eShhIGluc3RhbmNlb2Ygdil9ZnVuY3Rpb24gYyhhKXt2YXIgYj1uZXcgeDtyZXR1cm4gYlswXT1hLGIubGVuZ3RoPTEsYn1mdW5jdGlvbiBkKGEsYixjKXtBKGIsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjLHByZXZpb3VzU2libGluZzphLnByZXZpb3VzU2libGluZyxuZXh0U2libGluZzphLm5leHRTaWJsaW5nfSl9ZnVuY3Rpb24gZShhLGIpe0EoYSwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO0o9ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7Sj0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB4LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSl7YS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWooYVtiXSl9ZnVuY3Rpb24gbCgpe31mdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09di5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBGKGJbMF0pO2Zvcih2YXIgZD1GKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoRihiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe3koYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUYoYiksZT1kLnBhcmVudE5vZGU7ZSYmUS5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUYoYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFEuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPUcoYz9LLmNhbGwoYyxhLmltcGwsITEpOkwuY2FsbChhLmltcGwsITEpKSxiKXtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWQuYXBwZW5kQ2hpbGQodShlLCEwLGMpKTtpZihhIGluc3RhbmNlb2YgSS5IVE1MVGVtcGxhdGVFbGVtZW50KWZvcih2YXIgZj1kLmNvbnRlbnQsZT1hLmNvbnRlbnQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylmLmFwcGVuZENoaWxkKHUoZSwhMCxjKSl9cmV0dXJuIGR9ZnVuY3Rpb24gdihhKXt5KGEgaW5zdGFuY2VvZiBNKSx3LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwfXZhciB3PWEud3JhcHBlcnMuRXZlbnRUYXJnZXQseD1hLndyYXBwZXJzLk5vZGVMaXN0LHk9YS5hc3NlcnQsej1hLmRlZmluZVdyYXBHZXR0ZXIsQT1hLmVucXVldWVNdXRhdGlvbixCPWEuaXNXcmFwcGVyLEM9YS5taXhpbixEPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsRT1hLnJlZ2lzdGVyV3JhcHBlcixGPWEudW53cmFwLEc9YS53cmFwLEg9YS53cmFwSWZOZWVkZWQsST1hLndyYXBwZXJzLEo9ITEsSz1kb2N1bWVudC5pbXBvcnROb2RlLEw9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxNPXdpbmRvdy5Ob2RlLE49d2luZG93LkRvY3VtZW50RnJhZ21lbnQsTz0oTS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsTS5wcm90b3R5cGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLFA9TS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLFE9TS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsUj1NLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsUz0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxUPVM/ZnVuY3Rpb24oYSxiKXt0cnl7US5jYWxsKGEsYil9Y2F0Y2goYyl7aWYoIShhIGluc3RhbmNlb2YgTikpdGhyb3cgY319OmZ1bmN0aW9uKGEsYil7US5jYWxsKGEsYil9O3YucHJvdG90eXBlPU9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLEModi5wcm90b3R5cGUse2FwcGVuZENoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShhLG51bGwpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxjKXtiKGEpO3ZhciBkO2M/QihjKT9kPUYoYyk6KGQ9YyxjPUcoZCkpOihjPW51bGwsZD1udWxsKSxjJiZ5KGMucGFyZW50Tm9kZT09PXRoaXMpO3ZhciBlLGg9Yz9jLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZCxpPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtpZihlPWk/ZyhhKTpmKGEsdGhpcyxoLGMpLGkpbih0aGlzLGEpLHEodGhpcyksUC5jYWxsKHRoaXMuaW1wbCxGKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdKTt2YXIgaj1kP2QucGFyZW50Tm9kZTp0aGlzLmltcGw7aj9QLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1GKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlQoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxUKHRoaXMuaW1wbCxmKTtyZXR1cm4gSnx8QSh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRCh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoQihkKT9lPUYoZCk6KGU9ZCxkPUcoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxSLmNhbGwodGhpcy5pbXBsLEYoYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmUi5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEEodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCksZH0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylhLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpHKHRoaXMuaW1wbC5wYXJlbnROb2RlKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5maXJzdENoaWxkXz90aGlzLmZpcnN0Q2hpbGRfOkcodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubGFzdENoaWxkXz90aGlzLmxhc3RDaGlsZF86Ryh0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOkcodGhpcy5pbXBsLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLnByZXZpb3VzU2libGluZ18/dGhpcy5wcmV2aW91c1NpYmxpbmdfOkcodGhpcy5pbXBsLnByZXZpb3VzU2libGluZyl9LGdldCBwYXJlbnRFbGVtZW50KCl7Zm9yKHZhciBhPXRoaXMucGFyZW50Tm9kZTthJiZhLm5vZGVUeXBlIT09di5FTEVNRU5UX05PREU7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxnZXQgdGV4dENvbnRlbnQoKXtmb3IodmFyIGE9IiIsYj10aGlzLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpYi5ub2RlVHlwZSE9di5DT01NRU5UX05PREUmJihhKz1iLnRleHRDb250ZW50KTtyZXR1cm4gYX0sc2V0IHRleHRDb250ZW50KGEpe3ZhciBiPWkodGhpcy5jaGlsZE5vZGVzKTtpZih0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXtpZihyKHRoaXMpLCIiIT09YSl7dmFyIGM9dGhpcy5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5hcHBlbmRDaGlsZChjKX19ZWxzZSBxKHRoaXMpLHRoaXMuaW1wbC50ZXh0Q29udGVudD1hO3ZhciBkPWkodGhpcy5jaGlsZE5vZGVzKTtBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZCxyZW1vdmVkTm9kZXM6Yn0pLG0oYiksayhkKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHgsYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTtpZihhPUgoYSksYT09PXRoaXMpcmV0dXJuITA7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiP3RoaXMuY29udGFpbnMoYik6ITF9LGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBPLmNhbGwodGhpcy5pbXBsLEYoYSkpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPWkodGhpcy5jaGlsZE5vZGVzKSxkPVtdLGU9IiIsZj0wO2Y8Yy5sZW5ndGg7ZisrKWI9Y1tmXSxiLm5vZGVUeXBlPT09di5URVhUX05PREU/YXx8Yi5kYXRhLmxlbmd0aD9hPyhlKz1iLmRhdGEsZC5wdXNoKGIpKTphPWI6dGhpcy5yZW1vdmVOb2RlKGIpOihhJiZkLmxlbmd0aCYmKGEuZGF0YSs9ZSxjbGVhblVwTm9kZXMoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSkseih2LCJvd25lckRvY3VtZW50IiksRShNLHYsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx2LnByb3RvdHlwZT1DKE9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLHYucHJvdG90eXBlKSxhLm5vZGVXYXNBZGRlZD1qLGEubm9kZVdhc1JlbW92ZWQ9bCxhLm5vZGVzV2VyZUFkZGVkPWssYS5ub2Rlc1dlcmVSZW1vdmVkPW0sYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXYsYS5jbG9uZU5vZGU9dX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGQpe2Zvcih2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KWUubWF0Y2hlcyhiKSYmKGRbZC5sZW5ndGgrK109ZSksYyhlLGIsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH12YXIgZD17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBjKHRoaXMsYSxuZXcgTm9kZUxpc3QpfX0sZT17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChhKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe2lmKCIqIj09PWEpcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik7Zm9yKHZhciBjPW5ldyBOb2RlTGlzdCxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZT0wLGY9MDtlPGQubGVuZ3RoO2UrKylkW2VdLm5hbWVzcGFjZVVSST09PWEmJihjW2YrK109ZFtlXSk7cmV0dXJuIGMubGVuZ3RoPWYsY319O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1lLGEuU2VsZWN0b3JzSW50ZXJmYWNlPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiwqAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixCW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkNbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9dyhhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeChmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9dyhhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9dyhkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB4KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXX19ZnVuY3Rpb24gbChhKXtwKGksYSxrKGEpKX1mdW5jdGlvbiBtKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHtnZXQ6ayhiKSxzZXQ6ZnVuY3Rpb24oYyl7YS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdPWN9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBvPWEud3JhcHBlcnMuRWxlbWVudCxwPWEuZGVmaW5lR2V0dGVyLHE9YS5lbnF1ZXVlTXV0YXRpb24scj1hLm1peGluLHM9YS5ub2Rlc1dlcmVBZGRlZCx0PWEubm9kZXNXZXJlUmVtb3ZlZCx1PWEucmVnaXN0ZXJXcmFwcGVyLHY9YS5zbmFwc2hvdE5vZGVMaXN0LHc9YS51bndyYXAseD1hLndyYXAseT1hLndyYXBwZXJzLHo9L1smXHUwMEEwIl0vZyxBPS9bJlx1MDBBMDw+XS9nLEI9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEM9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRD0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxFPXdpbmRvdy5IVE1MRWxlbWVudCxGPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihEJiZDW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRiYmdGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp0aGlzLmltcGwuaW5uZXJIVE1MPWE7dmFyIGM9dih0aGlzLmNoaWxkTm9kZXMpO3EodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMpfSxnZXQgb3V0ZXJIVE1MKCl7cmV0dXJuIGYodGhpcyx0aGlzLnBhcmVudE5vZGUpfSxzZXQgb3V0ZXJIVE1MKGEpe3ZhciBiPXRoaXMucGFyZW50Tm9kZTtpZihiKXtiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBjPWooYixhKTtiLnJlcGxhY2VDaGlsZChjLHRoaXMpfX0saW5zZXJ0QWRqYWNlbnRIVE1MOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtzd2l0Y2goU3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiYmVmb3JlYmVnaW4iOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpczticmVhaztjYXNlImFmdGVyZW5kIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZSJhZnRlcmJlZ2luIjpjPXRoaXMsZD10aGlzLmZpcnN0Q2hpbGQ7YnJlYWs7Y2FzZSJiZWZvcmVlbmQiOmM9dGhpcyxkPW51bGw7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGU9aihjLGIpO2MuaW5zZXJ0QmVmb3JlKGUsZCl9fSksWyJjbGllbnRIZWlnaHQiLCJjbGllbnRMZWZ0IiwiY2xpZW50VG9wIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCJdLmZvckVhY2gobCksWyJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIl0uZm9yRWFjaChtKSxbImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RzIiwic2Nyb2xsSW50b1ZpZXciXS5mb3JFYWNoKG4pLHUoRSxpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImIiKSksYS53cmFwcGVycy5IVE1MRWxlbWVudD1pLGEuZ2V0SW5uZXJIVE1MPWcsYS5zZXRJbm5lckhUTUw9aH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LkhUTUxDYW52YXNFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldENvbnRleHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmltcGwuZ2V0Q29udGV4dC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKTtyZXR1cm4gYSYmZihhKX19KSxlKGcsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYS53cmFwcGVycy5IVE1MQ2FudmFzRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTENvbnRlbnRFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBzZWxlY3QoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpfSxzZXQgc2VsZWN0KGEpe3RoaXMuc2V0QXR0cmlidXRlKCJzZWxlY3QiLGEpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXtjLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGEsYiksInNlbGVjdCI9PT1TdHJpbmcoYSkudG9Mb3dlckNhc2UoKSYmdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoITApfX0pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGMoYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgZT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKTtkLmNhbGwodGhpcyxlKSxnKGUsdGhpcyksdm9pZCAwIT09YSYmKGUud2lkdGg9YSksdm9pZCAwIT09YiYmKGUuaGVpZ2h0PWIpfXZhciBkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEltYWdlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MSW1hZ2VFbGVtZW50PWIsYS53cmFwcGVycy5JbWFnZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYS5sb2NhbE5hbWUpe2Nhc2UiY29udGVudCI6cmV0dXJuIG5ldyBjKGEpO2Nhc2Uic2hhZG93IjpyZXR1cm4gbmV3IGUoYSk7Y2FzZSJ0ZW1wbGF0ZSI6cmV0dXJuIG5ldyBmKGEpfWQuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LGQ9YS53cmFwcGVycy5IVE1MRWxlbWVudCxlPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsZj1hLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQsZz0oYS5taXhpbixhLnJlZ2lzdGVyV3JhcHBlciksaD13aW5kb3cuSFRNTFVua25vd25FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGcoaCxiKSxhLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnJlZ2lzdGVyT2JqZWN0LGM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLCJ0aXRsZSIpLGU9YihkKSxmPU9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7YS53cmFwcGVycy5TVkdFbGVtZW50PWZ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7bS5jYWxsKHRoaXMsYSl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLndyYXAsZz13aW5kb3cuU1ZHVXNlRWxlbWVudCxoPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJnIikpLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsInVzZSIpLGs9aS5jb25zdHJ1Y3RvcixsPU9iamVjdC5nZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSksbT1sLmNvbnN0cnVjdG9yO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobCksImluc3RhbmNlUm9vdCJpbiBqJiZjKGIucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxkKGcsYixqKSxhLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtnJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdFbGVtZW50KX0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KX0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiBmKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwubmV4dFNpYmxpbmcpfX0pLGUoZyxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEudW53cmFwSWZOZWVkZWQsZz1hLndyYXAsaD13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gZyh0aGlzLmltcGwuY2FudmFzKX0sZHJhd0ltYWdlOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzBdPWYoYXJndW1lbnRzWzBdKSx0aGlzLmltcGwuZHJhd0ltYWdlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1lKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmNyZWF0ZVBhdHRlcm4uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSksZChoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksYS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihnKXtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09ZShhcmd1bWVudHNbNV0pLHRoaXMuaW1wbC50ZXhJbWFnZTJELmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWUoYXJndW1lbnRzWzZdKSx0aGlzLmltcGwudGV4U3ViSW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19KTt2YXIgaD0vV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3tkcmF3aW5nQnVmZmVySGVpZ2h0Om51bGwsZHJhd2luZ0J1ZmZlcldpZHRoOm51bGx9Ont9O2QoZyxiLGgpLGEud3JhcHBlcnMuV2ViR0xSZW5kZXJpbmdDb250ZXh0PWJ9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3RoaXMuaW1wbD1hfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LlJhbmdlO2IucHJvdG90eXBlPXtnZXQgc3RhcnRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5jb21tb25BbmNlc3RvckNvbnRhaW5lcil9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldFN0YXJ0KGUoYSksYil9LHNldEVuZDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRFbmQoZShhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QmVmb3JlKGUoYSkpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEFmdGVyKGUoYSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEJlZm9yZShlKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEFmdGVyKGUoYSkpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlKGUoYSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGVDb250ZW50cyhlKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlQm91bmRhcnlQb2ludHMoYSxkKGIpKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5pbnNlcnROb2RlKGUoYSkpfSxzdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zdXJyb3VuZENvbnRlbnRzKGUoYSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5pc1BvaW50SW5SYW5nZShlKGEpLGIpfSxjb21wYXJlUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVQb2ludChlKGEpLGIpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLmludGVyc2VjdHNOb2RlKGUoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGwudG9TdHJpbmcoKX19LGcucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCYmKGIucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gZih0aGlzLmltcGwuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGEpKX0pLGMod2luZG93LlJhbmdlLGIsZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSksYS53cmFwcGVycy5SYW5nZT1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsYz1hLlBhcmVudE5vZGVJbnRlcmZhY2UsZD1hLlNlbGVjdG9yc0ludGVyZmFjZSxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyT2JqZWN0LGc9Zihkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2UoZy5wcm90b3R5cGUsYyksZShnLnByb3RvdHlwZSxkKSxlKGcucHJvdG90eXBlLGIpO3ZhciBoPWYoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIikpO2Eud3JhcHBlcnMuQ29tbWVudD1oLGEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1nfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWkoYS5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjLmNhbGwodGhpcyxiKSxnKGIsdGhpcyk7dmFyIGQ9YS5zaGFkb3dSb290O2suc2V0KHRoaXMsZCksai5zZXQodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQsZD1hLmVsZW1lbnRGcm9tUG9pbnQsZT1hLmdldElubmVySFRNTCxmPWEubWl4aW4sZz1hLnJld3JhcCxoPWEuc2V0SW5uZXJIVE1MLGk9YS51bndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGUodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aCh0aGlzLGEpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gay5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIGouZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gai5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZCh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxhLGIpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gbC50ZXN0KGEpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrYSsnIl0nKX19KSxhLndyYXBwZXJzLlNoYWRvd1Jvb3Q9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXthLnByZXZpb3VzU2libGluZ189YS5wcmV2aW91c1NpYmxpbmcsYS5uZXh0U2libGluZ189YS5uZXh0U2libGluZyxhLnBhcmVudE5vZGVfPWEucGFyZW50Tm9kZX1mdW5jdGlvbiBjKGEsYyxlKXt2YXIgZj1GKGEpLGc9RihjKSxoPWU/RihlKTpudWxsO2lmKGQoYyksYihjKSxlKWEuZmlyc3RDaGlsZD09PWUmJihhLmZpcnN0Q2hpbGRfPWUpLGUucHJldmlvdXNTaWJsaW5nXz1lLnByZXZpb3VzU2libGluZztlbHNle2EubGFzdENoaWxkXz1hLmxhc3RDaGlsZCxhLmxhc3RDaGlsZD09PWEuZmlyc3RDaGlsZCYmKGEuZmlyc3RDaGlsZF89YS5maXJzdENoaWxkKTt2YXIgaT1HKGYubGFzdENoaWxkKTtpJiYoaS5uZXh0U2libGluZ189aS5uZXh0U2libGluZyl9Zi5pbnNlcnRCZWZvcmUoZyxoKX1mdW5jdGlvbiBkKGEpe3ZhciBjPUYoYSksZD1jLnBhcmVudE5vZGU7aWYoZCl7dmFyIGU9RyhkKTtiKGEpLGEucHJldmlvdXNTaWJsaW5nJiYoYS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPWEpLGEubmV4dFNpYmxpbmcmJihhLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189YSksZS5sYXN0Q2hpbGQ9PT1hJiYoZS5sYXN0Q2hpbGRfPWEpLGUuZmlyc3RDaGlsZD09PWEmJihlLmZpcnN0Q2hpbGRfPWEpLGQucmVtb3ZlQ2hpbGQoYyl9fWZ1bmN0aW9uIGUoYSxiKXtnKGIpLnB1c2goYSkseChhLGIpO3ZhciBjPUkuZ2V0KGEpO2N8fEkuc2V0KGEsYz1bXSksYy5wdXNoKGIpfWZ1bmN0aW9uIGYoYSl7SC5zZXQoYSxbXSl9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gSC5nZXQoYSl9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIGkoYSxiLGMpe2Zvcih2YXIgZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYoYihkKSl7aWYoYyhkKT09PSExKXJldHVybn1lbHNlIGkoZCxiLGMpfWZ1bmN0aW9uIGooYSxiKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgic2VsZWN0Iik7aWYoIWMpcmV0dXJuITA7aWYoYz1jLnRyaW0oKSwhYylyZXR1cm4hMDtpZighKGEgaW5zdGFuY2VvZiB6KSlyZXR1cm4hMTtpZigiKiI9PT1jfHxjPT09YS5sb2NhbE5hbWUpcmV0dXJuITA7aWYoIUwudGVzdChjKSlyZXR1cm4hMTtpZigiOiI9PT1jWzBdJiYhTS50ZXN0KGMpKXJldHVybiExO3RyeXtyZXR1cm4gYS5tYXRjaGVzKGMpfWNhdGNoKGQpe3JldHVybiExfX1mdW5jdGlvbiBrKCl7Zm9yKHZhciBhPTA7YTxPLmxlbmd0aDthKyspT1thXS5yZW5kZXIoKTtPPVtdfWZ1bmN0aW9uIGwoKXt5PW51bGwsaygpfWZ1bmN0aW9uIG0oYSl7dmFyIGI9Sy5nZXQoYSk7cmV0dXJuIGJ8fChiPW5ldyBxKGEpLEsuc2V0KGEsYikpLGJ9ZnVuY3Rpb24gbihhKXtmb3IoO2E7YT1hLnBhcmVudE5vZGUpaWYoYSBpbnN0YW5jZW9mIEQpcmV0dXJuIGE7cmV0dXJuIG51bGx9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gbShhLmhvc3QpfWZ1bmN0aW9uIHAoYSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1hLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBxKGEpe3RoaXMuaG9zdD1hLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShhKX1mdW5jdGlvbiByKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQX1mdW5jdGlvbiBzKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQX1mdW5jdGlvbiB0KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB2KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24gdyhhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiB4KGEsYil7Si5zZXQoYSxiKX12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLm1peGluLGEub25lT2YpLEY9YS51bndyYXAsRz1hLndyYXAsSD1uZXcgV2Vha01hcCxJPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsSz1uZXcgV2Vha01hcCxMPS9eWyouOiNbYS16QS1aX3xdLyxNPW5ldyBSZWdFeHAoIl46KCIrWyJsaW5rIiwidmlzaXRlZCIsInRhcmdldCIsImVuYWJsZWQiLCJkaXNhYmxlZCIsImNoZWNrZWQiLCJpbmRldGVybWluYXRlIiwibnRoLWNoaWxkIiwibnRoLWxhc3QtY2hpbGQiLCJudGgtb2YtdHlwZSIsIm50aC1sYXN0LW9mLXR5cGUiLCJmaXJzdC1jaGlsZCIsImxhc3QtY2hpbGQiLCJmaXJzdC1vZi10eXBlIiwibGFzdC1vZi10eXBlIiwib25seS1vZi10eXBlIl0uam9pbigifCIpKyIpIiksTj1FKHdpbmRvdyxbInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiXSksTz1bXSxQPW5ldyBBcnJheVNwbGljZTtQLmVxdWFscz1mdW5jdGlvbihhLGIpe3JldHVybiBGKGEubm9kZSk9PT1ifSxwLnByb3RvdHlwZT17YXBwZW5kOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBwKGEpO3JldHVybiB0aGlzLmNoaWxkTm9kZXMucHVzaChiKSxifSxzeW5jOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLnNraXApe2Zvcih2YXIgYj10aGlzLm5vZGUsZT10aGlzLmNoaWxkTm9kZXMsZj1oKEYoYikpLGc9YXx8bmV3IFdlYWtNYXAsaT1QLmNhbGN1bGF0ZVNwbGljZXMoZSxmKSxqPTAsaz0wLGw9MCxtPTA7bTxpLmxlbmd0aDttKyspe2Zvcih2YXIgbj1pW21dO2w8bi5pbmRleDtsKyspaysrLGVbaisrXS5zeW5jKGcpO2Zvcih2YXIgbz1uLnJlbW92ZWQubGVuZ3RoLHA9MDtvPnA7cCsrKXt2YXIgcT1HKGZbaysrXSk7Zy5nZXQocSl8fGQocSl9Zm9yKHZhciByPW4uYWRkZWRDb3VudCxzPWZba10mJkcoZltrXSkscD0wO3I+cDtwKyspe3ZhciB0PWVbaisrXSx1PXQubm9kZTtjKGIsdSxzKSxnLnNldCh1LCEwKSx0LnN5bmMoZyl9bCs9cn1mb3IodmFyIG09bDttPGUubGVuZ3RoO20rKyllW21dLnN5bmMoZyl9fX0scS5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhKXtpZih0aGlzLmRpcnR5KXt0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCksdGhpcy50cmVlQ29tcG9zaXRpb24oKTt2YXIgYj10aGlzLmhvc3QsYz1iLnNoYWRvd1Jvb3Q7dGhpcy5hc3NvY2lhdGVOb2RlKGIpO2Zvcih2YXIgZD0hZSxlPWF8fG5ldyBwKGIpLGY9Yy5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyTm9kZShjLGUsZiwhMSk7ZCYmZS5zeW5jKCksdGhpcy5kaXJ0eT0hMX19LGludmFsaWRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5kaXJ0eSl7aWYodGhpcy5kaXJ0eT0hMCxPLnB1c2godGhpcykseSlyZXR1cm47eT13aW5kb3dbTl0obCwwKX19LHJlbmRlck5vZGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYodihjKSl7Yj1iLmFwcGVuZChjKTt2YXIgZT1tKGMpO2UuZGlydHk9ITAsZS5yZW5kZXIoYil9ZWxzZSByKGMpP3RoaXMucmVuZGVySW5zZXJ0aW9uUG9pbnQoYSxiLGMsZCk6dChjKT90aGlzLnJlbmRlclNoYWRvd0luc2VydGlvblBvaW50KGEsYixjKTp0aGlzLnJlbmRlckFzQW55RG9tVHJlZShhLGIsYyxkKX0scmVuZGVyQXNBbnlEb21UcmVlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGI9Yi5hcHBlbmQoYyksdihjKSl7dmFyIGU9bShjKTtiLnNraXA9IWUuZGlydHksZS5yZW5kZXIoYil9ZWxzZSBmb3IodmFyIGY9Yy5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyTm9kZShhLGIsZixkKX0scmVuZGVySW5zZXJ0aW9uUG9pbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZyhjKTtpZihlLmxlbmd0aCl7dGhpcy5hc3NvY2lhdGVOb2RlKGMpO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgaD1lW2ZdO3IoaCkmJmQ/dGhpcy5yZW5kZXJJbnNlcnRpb25Qb2ludChhLGIsaCxkKTp0aGlzLnJlbmRlckFzQW55RG9tVHJlZShhLGIsaCxkKX19ZWxzZSB0aGlzLnJlbmRlckZhbGxiYWNrQ29udGVudChhLGIsYyk7dGhpcy5hc3NvY2lhdGVOb2RlKGMucGFyZW50Tm9kZSl9LHJlbmRlclNoYWRvd0luc2VydGlvblBvaW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLm9sZGVyU2hhZG93Um9vdDtpZihkKXt4KGQsYyksdGhpcy5hc3NvY2lhdGVOb2RlKGMucGFyZW50Tm9kZSk7Zm9yKHZhciBlPWQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyl0aGlzLnJlbmRlck5vZGUoZCxiLGUsITApfWVsc2UgdGhpcy5yZW5kZXJGYWxsYmFja0NvbnRlbnQoYSxiLGMpfSxyZW5kZXJGYWxsYmFja0NvbnRlbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXNzb2NpYXRlTm9kZShjKSx0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKTtmb3IodmFyIGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixkLCExKX0saW52YWxpZGF0ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYnV0ZXM9T2JqZWN0LmNyZWF0ZShudWxsKX0sdXBkYXRlRGVwZW5kZW50QXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXM7L1wuXHcrLy50ZXN0KGEpJiYoYlsiY2xhc3MiXT0hMCksLyNcdysvLnRlc3QoYSkmJihiLmlkPSEwKSxhLnJlcGxhY2UoL1xbXHMqKFteXHM9XHx+XF1dKykvZyxmdW5jdGlvbihhLGMpe2JbY109ITB9KX19LGRlcGVuZHNPbkF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2FdfSxkaXN0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczsKaShhLHMsZnVuY3Rpb24oYSl7ZihhKSxjLnVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXMoYS5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGc9YltkXTt2b2lkIDAhPT1nJiZqKGcsYSkmJihlKGcsYSksYltkXT12b2lkIDApfX0pfSx0cmVlQ29tcG9zaXRpb246ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5ob3N0LGI9YS5zaGFkb3dSb290LGM9W10sZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYocihkKSl7dmFyIGU9ZyhkKTtlJiZlLmxlbmd0aHx8KGU9aChkKSksYy5wdXNoLmFwcGx5KGMsZSl9ZWxzZSBjLnB1c2goZCk7Zm9yKHZhciBmLGo7Yjspe2lmKGY9dm9pZCAwLGkoYix1LGZ1bmN0aW9uKGEpe3JldHVybiBmPWEsITF9KSxqPWYsdGhpcy5kaXN0cmlidXRlKGIsYyksail7dmFyIGs9Yi5vbGRlclNoYWRvd1Jvb3Q7aWYoayl7Yj1rLHgoYixqKTtjb250aW51ZX1icmVha31icmVha319LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319LEMucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaygpLGcodGhpcyl9LEIucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1BLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBhLGI9bih0aGlzKTtiJiYoYT1vKGIpKSx0aGlzLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmV2ZW50UGFyZW50c1RhYmxlPUksYS5nZXRSZW5kZXJlckZvckhvc3Q9bSxhLmdldFNoYWRvd1RyZWVzPXcsYS5pbnNlcnRpb25QYXJlbnRUYWJsZT1KLGEucmVuZGVyQWxsUGVuZGluZz1rLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pfX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5hc3NlcnQsZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnVud3JhcCxoPWEud3JhcCxpPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxTZWxlY3RFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuZm9jdXNOb2RlKX0sYWRkUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmFkZFJhbmdlKGQoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5jb2xsYXBzZShlKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbnRhaW5zTm9kZShlKGEpLGIpfSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuZXh0ZW5kKGUoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXt0aGlzLmltcGwucmVtb3ZlUmFuZ2UoZChhKSl9LHNlbGVjdEFsbENoaWxkcmVuOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3RBbGxDaGlsZHJlbihlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7Qy5jYWxsKGIuaW1wbCx5KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuY2xvbmVOb2RlLHE9YS5kZWZpbmVXcmFwR2V0dGVyLHI9YS5lbGVtZW50RnJvbVBvaW50LHM9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix0PWEubWF0Y2hlc05hbWVzLHU9YS5taXhpbix2PWEucmVnaXN0ZXJXcmFwcGVyLHc9YS5yZW5kZXJBbGxQZW5kaW5nLHg9YS5yZXdyYXAseT1hLnVud3JhcCx6PWEud3JhcCxBPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxCPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscShiLCJkb2N1bWVudEVsZW1lbnQiKSxxKGIsImJvZHkiKSxxKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEM9ZG9jdW1lbnQuYWRvcHROb2RlLEQ9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHUoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcih0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBwKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdygpLG5ldyBtKEQuY2FsbCh5KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRT1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpjLmV4dGVuZHM/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjLmV4dGVuZHMsYik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKX12YXIgZT1jLnByb3RvdHlwZTtpZihhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChlKSl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBmLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGg9W107ZyYmIShmPWEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGcpKTspaC5wdXNoKGcpLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGcpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGk9T2JqZWN0LmNyZWF0ZShmKSxqPWgubGVuZ3RoLTE7aj49MDtqLS0paT1PYmplY3QuY3JlYXRlKGkpO1siY3JlYXRlZENhbGxiYWNrIiwiYXR0YWNoZWRDYWxsYmFjayIsImRldGFjaGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWVbYV07YiYmKGlbYV09ZnVuY3Rpb24oKXt6KHRoaXMpaW5zdGFuY2VvZiBkfHx4KHRoaXMpLGIuYXBwbHkoeih0aGlzKSxhcmd1bWVudHMpfSl9KTt2YXIgaz17cHJvdG90eXBlOml9O2MuZXh0ZW5kcyYmKGsuZXh0ZW5kcz1jLmV4dGVuZHMpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGksZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxpKTtFLmNhbGwoeSh0aGlzKSxiLGspO3JldHVybiBkfSxzKFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXMoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh0KSkscyhbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdShiLnByb3RvdHlwZSxqKSx1KGIucHJvdG90eXBlLGwpLHUoYi5wcm90b3R5cGUsbiksdShiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qi5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh5KHRoaXMpLmltcGxlbWVudGF0aW9uKSxCLnNldCh0aGlzLGEpLGEpfX0pLHYod2luZG93LkRvY3VtZW50LGIsZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSksd2luZG93LkhUTUxEb2N1bWVudCYmdih3aW5kb3cuSFRNTERvY3VtZW50LGIpLEEoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnRdKSxoKGcsImNyZWF0ZURvY3VtZW50VHlwZSIpLGgoZywiY3JlYXRlRG9jdW1lbnQiKSxoKGcsImNyZWF0ZUhUTUxEb2N1bWVudCIpLGkoZywiaGFzRmVhdHVyZSIpLHYod2luZG93LkRPTUltcGxlbWVudGF0aW9uLGcpLHMoW3dpbmRvdy5ET01JbXBsZW1lbnRhdGlvbl0sWyJjcmVhdGVEb2N1bWVudFR5cGUiLCJjcmVhdGVEb2N1bWVudCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImhhc0ZlYXR1cmUiXSksYS5hZG9wdE5vZGVOb1JlbW92ZT1kLGEud3JhcHBlcnMuRE9NSW1wbGVtZW50YXRpb249ZyxhLndyYXBwZXJzLkRvY3VtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEud3JhcHBlcnMuU2VsZWN0aW9uLGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS5yZW5kZXJBbGxQZW5kaW5nLGg9YS51bndyYXAsaT1hLnVud3JhcElmTmVlZGVkLGo9YS53cmFwLGs9d2luZG93LldpbmRvdyxsPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLG09d2luZG93LmdldFNlbGVjdGlvbjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxrLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGkoYSksYil9LGsucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCl9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChtLmNhbGwoaCh0aGlzKSkpfX0pLGYoayxiKSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRhdGE6IkhUTUxEYXRhRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGFiZWw6IkhUTUxMYWJlbEVsZW1lbnQiLGxlZ2VuZDoiSFRNTExlZ2VuZEVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGV4dGFyZWE6IkhUTUxUZXh0QXJlYUVsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pLGEua25vd25FbGVtZW50cz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGgsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9Yi5zaGVldC5jc3NSdWxlcztyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZShhKXthJiZmKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGYoKXtyZXR1cm4gb3x8KG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxvLnNldEF0dHJpYnV0ZShxLCIiKSxvW3FdPSEwKSxvfXZhciBnPXtzdHJpY3RTdHlsaW5nOiExLHJlZ2lzdHJ5Ont9LHNoaW1TdHlsaW5nOmZ1bmN0aW9uKGEsYixkKXt2YXIgZj10aGlzLmlzVHlwZUV4dGVuc2lvbihkKSxnPXRoaXMucmVnaXN0ZXJEZWZpbml0aW9uKGEsYixkKTt0aGlzLnN0cmljdFN0eWxpbmcmJnRoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLGIpO3ZhciBoPXRoaXMuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChnLnJvb3RTdHlsZXMsZy5zY29wZVN0eWxlcyxiLGYpO2cuc2hpbW1lZFN0eWxlPWMoaCksYSYmKGEuc2hpbW1lZFN0eWxlPWcuc2hpbW1lZFN0eWxlKTtmb3IodmFyIGksaj0wLGs9Zy5yb290U3R5bGVzLmxlbmd0aDtrPmomJihpPWcucm9vdFN0eWxlc1tqXSk7aisrKWkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTtlKGgpfSxzdHlsZXNUb1NoaW1tZWRDc3NUZXh0OmZ1bmN0aW9uKGEsYixjLGQpe2M9Y3x8IiIsdGhpcy5pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXMoYSksdGhpcy5pbnNlcnRQb2x5ZmlsbFJ1bGVzKGEpO3ZhciBlPXRoaXMuc2hpbVNjb3BpbmcoYixjLGQpO3JldHVybiBlKz10aGlzLmV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXMoYSksZS50cmltKCl9LHJlZ2lzdGVyRGVmaW5pdGlvbjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RyeVtiXT17cm9vdDphLG5hbWU6YixleHRlbmRzTmFtZTpjfSxlPWE/YS5xdWVyeVNlbGVjdG9yQWxsKCJzdHlsZSIpOltdO2U9ZT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDApOltdLGQucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIWZ8fGEmJiFhLnF1ZXJ5U2VsZWN0b3IoInNoYWRvdyIpfHwoZC5zY29wZVN0eWxlcz1mLnNjb3BlU3R5bGVzLmNvbmNhdChkLnNjb3BlU3R5bGVzKSksZH0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxhcHBseVNjb3BlVG9Db250ZW50OmZ1bmN0aW9uKGEsYil7YSYmKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCIqIiksZnVuY3Rpb24oYSl7YS5zZXRBdHRyaWJ1dGUoYiwiIil9KSxBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgidGVtcGxhdGUiKSxmdW5jdGlvbihhKXt0aGlzLmFwcGx5U2NvcGVUb0NvbnRlbnQoYS5jb250ZW50LGIpfSx0aGlzKSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlczpmdW5jdGlvbihhKXthJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhLnRleHRDb250ZW50KX0sdGhpcyl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0yKSsieyJ9KX0saW5zZXJ0UG9seWZpbGxSdWxlczpmdW5jdGlvbihhKXthJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD10aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYS50ZXh0Q29udGVudCl9LHRoaXMpfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoaixmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTEpfSl9LGV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXM6ZnVuY3Rpb24oYSl7dmFyIGI9IiI7cmV0dXJuIGEmJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXtiKz10aGlzLmV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhLnRleHRDb250ZW50KSsiXG5cbiJ9LHRoaXMpLGJ9LGV4dHJhY3RQb2x5ZmlsbFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0iIjtiPWsuZXhlYyhhKTspYys9YlsxXS5zbGljZSgwLC0xKSsiXG5cbiI7cmV0dXJuIGN9LHNoaW1TY29waW5nOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT90aGlzLmNvbnZlcnRTY29wZWRTdHlsZXMoYSxiLGMpOnZvaWQgMH0sY29udmVydFNjb3BlZFN0eWxlczpmdW5jdGlvbihhLGMsZSl7dmFyIGY9YihhKTtpZihmPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGYpLGY9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGYpLGY9dGhpcy5jb252ZXJ0Q29sb25BbmNlc3RvcihmKSxmPXRoaXMuY29udmVydENvbWJpbmF0b3JzKGYpLGMpe3ZhciBnPWQoZik7Zj10aGlzLnNjb3BlUnVsZXMoZyxjLGUpfXJldHVybiBmfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RSZSx0aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkFuY2VzdG9yUmUsdGhpcy5jb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uUnVsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixkLGUpe2lmKGI9cG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpe2Zvcih2YXIgZixnPWQuc3BsaXQoIiwiKSxoPVtdLGk9MCxqPWcubGVuZ3RoO2o+aSYmKGY9Z1tpXSk7aSsrKWY9Zi50cmltKCksaC5wdXNoKGMoYixmLGUpKTtyZXR1cm4gaC5qb2luKCIsIil9cmV0dXJuIGIrZX0pfSxjb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5tYXRjaChsKT90aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcihhLGIsYyk6YStiK2MrIiwgIitiKyIgIithK2N9LGNvbG9uSG9zdFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGErYi5yZXBsYWNlKGwsIiIpK2N9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXlxeL2csIiAiKS5yZXBsYWNlKC9cXi9nLCIgIil9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJmEuc3R5bGUuY3NzVGV4dD8oZCs9dGhpcy5zY29wZVNlbGVjdG9yKGEuc2VsZWN0b3JUZXh0LGIsYyx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsZCs9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLm1lZGlhPyhkKz0iQG1lZGlhICIrYS5tZWRpYS5tZWRpYVRleHQrIiB7XG4iLGQrPXRoaXMuc2NvcGVSdWxlcyhhLmNzc1J1bGVzLGIsYyksZCs9IlxufVxuXG4iKTphLmNzc1RleHQmJihkKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksZH0sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXSxmPWEuc3BsaXQoIiwiKTtyZXR1cm4gZi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksdGhpcy5zZWxlY3Rvck5lZWRzU2NvcGluZyhhLGIsYykmJihhPWQmJiFhLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcik/dGhpcy5hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUoYSxiKTp0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGIsYykpLGUucHVzaChhKX0sdGhpcyksZS5qb2luKCIsICIpfSxzZWxlY3Rvck5lZWRzU2NvcGluZzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5tYWtlU2NvcGVNYXRjaGVyKGIsYyk7cmV0dXJuIWEubWF0Y2goZCl9LG1ha2VTY29wZU1hdGNoZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iPyJcXFtpcz1bJ1wiXT8iK2ErIlsnXCJdP1xcXSI6YTtyZXR1cm4gbmV3IFJlZ0V4cCgiXigiK2MrIikiK3NlbGVjdG9yUmVTdWZmaXgsIm0iKX0sYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jPyJbaXM9IitiKyJdIjpiO3JldHVybiBhLm1hdGNoKHBvbHlmaWxsSG9zdFJlKT8oYT1hLnJlcGxhY2UocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpLGEucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSxkKyIgIikpOmQrIiAiK2F9LGFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3ZhciBjPVsiICIsIj4iLCIrIiwifiJdLGQ9YSxlPSJbIitiKyJdIjtyZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWQuc3BsaXQoYSk7ZD1iLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLnRyaW0oKS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLCIiKTtyZXR1cm4gYiYmYy5pbmRleE9mKGIpPDAmJmIuaW5kZXhPZihlKTwwJiYoYT1iLnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sIiQxIitlKyIkMiQzIikpLGF9KS5qb2luKGEpfSksZH0saW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoaG9zdFJlLGwpLnJlcGxhY2UoY29sb25Ib3N0UmUsbCkucmVwbGFjZShjb2xvbkFuY2VzdG9yUmUsbSl9LHByb3BlcnRpZXNGcm9tUnVsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jb250ZW50JiYhYS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdKy8pP2Euc3R5bGUuY3NzVGV4dC5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLCJjb250ZW50OiAnIithLnN0eWxlLmNvbnRlbnQrIic7Iik6YS5zdHlsZS5jc3NUZXh0fX0saD0vXC9cKlteKl0qXCorKFteLypdW14qXSpcKispKlwvL2dpbSxpPS9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLGo9L1wvXCpcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0saz0vXC9cKlxzQHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUoW14qXSpcKisoW14vKl1bXipdKlwqKykqKVwvL2dpbSxsPSItc2hhZG93Y3NzaG9zdCIsbT0iLXNoYWRvd2Nzc2FuY2VzdG9yIixuPSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrbCtuLCJnaW0iKSxjc3NDb2xvbkFuY2VzdG9yUmU9bmV3IFJlZ0V4cCgiKCIrbStuLCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsaG9zdFJlPS9AaG9zdC9naW0sY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25BbmNlc3RvclJlPS9cOmFuY2VzdG9yL2dpbSxwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3I9bCsiLW5vLWNvbWJpbmF0b3IiLHBvbHlmaWxsSG9zdFJlPW5ldyBSZWdFeHAobCwiZ2ltIikscG9seWZpbGxBbmNlc3RvclJlPW5ldyBSZWdFeHAobSwiZ2ltIik7dmFyIG8scD0ic2hpbS1zaGFkb3dkb20iLHE9InNoaW0tc2hhZG93ZG9tLWNzcyI7aWYod2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKXtlKCJzdHlsZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuIik7dmFyIHI9d3JhcChkb2N1bWVudCkscz1yLnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtzLmluc2VydEJlZm9yZShmKCkscy5jaGlsZE5vZGVzWzBdKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3ZhciBiPWEudXJsUmVzb2x2ZXI7aWYod2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMudXNlTmF0aXZlKXt2YXIgYz0ibGlua1tyZWw9c3R5bGVzaGVldF1bIitwKyJdIixkPSJzdHlsZVsiK3ArIl0iO0hUTUxJbXBvcnRzLmltcG9ydGVyLmRvY3VtZW50UHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMuaW1wb3J0ZXIuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnMrPSIsIitjLEhUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycz1bSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzLGMsZF0uam9pbigiLCIpO3ZhciBlPUhUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM7SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYz1mdW5jdGlvbihhKXtpZighYVtxXSl7dmFyIGM9YS5fX2ltcG9ydEVsZW1lbnR8fGE7aWYoIWMuaGFzQXR0cmlidXRlKHApKXJldHVybiB2b2lkIGUuY2FsbCh0aGlzLGEpO2EuX19yZXNvdXJjZT8oYz1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxjLnRleHRDb250ZW50PWIucmVzb2x2ZUNzc1RleHQoYS5fX3Jlc291cmNlLGEuaHJlZikpOmIucmVzb2x2ZVN0eWxlKGMpO3ZhciBkPVtjXTtjLnRleHRDb250ZW50PWcuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChkLGQpLGMucmVtb3ZlQXR0cmlidXRlKHAsIiIpLGMuc2V0QXR0cmlidXRlKHEsIiIpLGNbcV09ITAsYy5wYXJlbnROb2RlIT09cyYmKGEucGFyZW50Tm9kZT09PXM/cy5yZXBsYWNlQ2hpbGQoYyxhKTpzLmFwcGVuZENoaWxkKGMpKSxjLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZShwKT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWd9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sd2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX07dmFyIGE9RWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy53ZWJraXRTaGFkb3dSb290LGM9YS5jYWxsKHRoaXMpO3JldHVybiBjLm9sZGVyU2hhZG93Um9vdD1iLGMuaG9zdD10aGlzLEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzaGFkb3dSb290OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRTaGFkb3dSb290fX0sY3JlYXRlU2hhZG93Um9vdDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRDcmVhdGVTaGFkb3dSb290KCl9fX0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oYSl7aWYod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChhKSwhYS5jb250ZW50JiYhYS5fY29udGVudCl7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTthLl9jb250ZW50PWJ9cmV0dXJuIGEuY29udGVudHx8YS5fY29udGVudH19KCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIHZvaWQgMCE9PW1bYV19ZnVuY3Rpb24gYygpe2guY2FsbCh0aGlzKSx0aGlzLl9pc0ludmFsaWQ9ITB9ZnVuY3Rpb24gZChhKXtyZXR1cm4iIj09YSYmYy5jYWxsKHRoaXMpLGEudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsNjMsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGcoYSxnLGgpe2Z1bmN0aW9uIGkoYSl7dC5wdXNoKGEpfXZhciBqPWd8fCJzY2hlbWUgc3RhcnQiLGs9MCxsPSIiLHI9ITEscz0hMSx0PVtdO2E6Zm9yKDsoYVtrLTFdIT1vfHwwPT1rKSYmIXRoaXMuX2lzSW52YWxpZDspe3ZhciB1PWFba107c3dpdGNoKGope2Nhc2Uic2NoZW1lIHN0YXJ0IjppZighdXx8IXAudGVzdCh1KSl7aWYoZyl7aSgiSW52YWxpZCBzY2hlbWUuIik7YnJlYWsgYX1sPSIiLGo9Im5vIHNjaGVtZSI7Y29udGludWV9bCs9dS50b0xvd2VyQ2FzZSgpLGo9InNjaGVtZSI7YnJlYWs7Y2FzZSJzY2hlbWUiOmlmKHUmJnEudGVzdCh1KSlsKz11LnRvTG93ZXJDYXNlKCk7ZWxzZXtpZigiOiIhPXUpe2lmKGcpe2lmKG89PXUpYnJlYWsgYTtpKCJDb2RlIHBvaW50IG5vdCBhbGxvd2VkIGluIHNjaGVtZTogIit1KTticmVhayBhfWw9IiIsaz0wLGo9Im5vIHNjaGVtZSI7Y29udGludWV9aWYodGhpcy5fc2NoZW1lPWwsbD0iIixnKWJyZWFrIGE7Yih0aGlzLl9zY2hlbWUpJiYodGhpcy5faXNSZWxhdGl2ZT0hMCksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUiOnRoaXMuX2lzUmVsYXRpdmUmJmgmJmguX3NjaGVtZT09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOnRoaXMuX2lzUmVsYXRpdmU/ImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6InNjaGVtZSBkYXRhIn1icmVhaztjYXNlInNjaGVtZSBkYXRhIjoiPyI9PXU/KHF1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dT8odGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iik6byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fc2NoZW1lRGF0YSs9ZSh1KSk7YnJlYWs7Y2FzZSJubyBzY2hlbWUiOmlmKGgmJmIoaC5fc2NoZW1lKSl7aj0icmVsYXRpdmUiO2NvbnRpbnVlfWkoIk1pc3Npbmcgc2NoZW1lLiIpLGMuY2FsbCh0aGlzKTticmVhaztjYXNlInJlbGF0aXZlIG9yIGF1dGhvcml0eSI6aWYoIi8iIT11fHwiLyIhPWFbaysxXSl7aSgiRXhwZWN0ZWQgLywgZ290OiAiK3UpLGo9InJlbGF0aXZlIjtjb250aW51ZX1qPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2JyZWFrO2Nhc2UicmVsYXRpdmUiOmlmKHRoaXMuX2lzUmVsYXRpdmU9ITAsImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9zY2hlbWU9aC5fc2NoZW1lKSxvPT11KXt0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5O2JyZWFrIGF9aWYoIi8iPT11fHwiXFwiPT11KSJcXCI9PXUmJmkoIlxcIGlzIGFuIGludmFsaWQgY29kZSBwb2ludC4iKSxqPSJyZWxhdGl2ZSBzbGFzaCI7ZWxzZSBpZigiPyI9PXUpdGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiO2Vsc2V7aWYoIiMiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhcC50ZXN0KHUpfHwiOiIhPXYmJiJ8IiE9dnx8byE9dyYmIi8iIT13JiYiXFwiIT13JiYiPyIhPXcmJiIjIiE9dykmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXUmJiJcXCIhPXUpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSksaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1qPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT11JiYiXFwiIT11KXtqPSJhdXRob3JpdHkiO2NvbnRpbnVlfWkoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3UpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXUpe3ImJihpKCJAIGFscmVhZHkgc2Vlbi4iKSxsKz0iJTQwIikscj0hMDtmb3IodmFyIHg9MDt4PGwubGVuZ3RoO3grKyl7dmFyIHk9bFt4XTtpZigiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkpaWYoIjoiIT15fHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciB6PWUoeSk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz16OnRoaXMuX3VzZXJuYW1lKz16fWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBpKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWw9IiJ9ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtrLT1sLmxlbmd0aCxsPSIiLGo9Imhvc3QiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHwiOiIhPWxbMV0mJiJ8IiE9bFsxXT8wPT1sLmxlbmd0aD9qPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpsKz11O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT11fHxzKXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIsZylicmVhayBhO2NvbnRpbnVlfSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dT8oIlsiPT11P3M9ITA6Il0iPT11JiYocz0hMSksbCs9dSk6aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIrdSl9ZWxzZSBpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icG9ydCIsImhvc3RuYW1lIj09ZylicmVhayBhO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11fHxnKXtpZigiIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BKyIiKSxsPSIifWlmKGcpYnJlYWsgYTtqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIrdSk6Yy5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09dSYmaSgiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGo9InJlbGF0aXZlIHBhdGgiLCIvIiE9dSYmIlxcIiE9dSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKG8hPXUmJiIvIiE9dSYmIlxcIiE9dSYmKGd8fCI/IiE9dSYmIiMiIT11KSkiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJihsKz1lKHUpKTtlbHNleyJcXCI9PXUmJmkoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEI7KEI9bltsLnRvTG93ZXJDYXNlKCldKSYmKGw9QiksIi4uIj09bD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXUmJiJcXCIhPXUmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09bCYmIi8iIT11JiYiXFwiIT11P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1sJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1sLmxlbmd0aCYmcC50ZXN0KGxbMF0pJiYifCI9PWxbMV0mJihsPWxbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2gobCkpLGw9IiIsIj8iPT11Pyh0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXUmJih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjpnfHwiIyIhPXU/byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fcXVlcnkrPWYodSkpOih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9mcmFnbWVudCs9dSl9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fSxhLlVSTD1pfX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiYXNlIik7aS5ocmVmPWRvY3VtZW50LmJhc2VVUkksaC5jb250ZW50Lm93bmVyRG9jdW1lbnQuYXBwZW5kQ2hpbGQoaSk7dmFyIGo9W10saz1mdW5jdGlvbigpe2oucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1rLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGp9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3dpbmRvdy5Qb2x5bWVyPT09ayYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX0pLGEuY3JlYXRlRE9NPWJ9KHdpbmRvdy5QbGF0Zm9ybSksd2luZG93LnRlbXBsYXRlQ29udGVudD13aW5kb3cudGVtcGxhdGVDb250ZW50fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50fSxmdW5jdGlvbihhKXthPWF8fCh3aW5kb3cuSW5zcGVjdG9yPXt9KTt2YXIgYjt3aW5kb3cuc2luc3BlY3Q9ZnVuY3Rpb24oYSxkKXtifHwoYj13aW5kb3cub3BlbigiIiwiU2hhZG93RE9NIEluc3BlY3RvciIsbnVsbCwhMCksYi5kb2N1bWVudC53cml0ZShjKSxiLmFwaT17c2hhZG93aXplOnNoYWRvd2l6ZX0pLGYoYXx8d3JhcChkb2N1bWVudC5ib2R5KSxkKX07dmFyIGM9WyI8IURPQ1RZUEUgaHRtbD4iLCI8aHRtbD4iLCIgIDxoZWFkPiIsIiAgICA8dGl0bGU+U2hhZG93RE9NIEluc3BlY3RvcjwvdGl0bGU+IiwiICAgIDxzdHlsZT4iLCIgICAgICBib2R5IHsiLCIgICAgICB9IiwiICAgICAgcHJlIHsiLCcgICAgICAgIGZvbnQ6IDlwdCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7JywiICAgICAgICBsaW5lLWhlaWdodDogMS41ZW07IiwiICAgICAgfSIsIiAgICAgIHRhZyB7IiwiICAgICAgICBjb2xvcjogcHVycGxlOyIsIiAgICAgIH0iLCIgICAgICB1bCB7IiwiICAgICAgICAgbWFyZ2luOiAwOyIsIiAgICAgICAgIHBhZGRpbmc6IDA7IiwiICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsiLCIgICAgICB9IiwiICAgICAgbGkgeyIsIiAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsiLCIgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOyIsIiAgICAgICAgIHBhZGRpbmc6IDRweCA2cHg7IiwiICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OyIsIiAgICAgICAgIG1hcmdpbi1yaWdodDogNHB4OyIsIiAgICAgIH0iLCIgICAgPC9zdHlsZT4iLCIgIDwvaGVhZD4iLCIgIDxib2R5PiIsJyAgICA8dWwgaWQ9ImNydW1icyI+JywiICAgIDwvdWw+IiwnICAgIDxkaXYgaWQ9InRyZWUiPjwvZGl2PicsIiAgPC9ib2R5PiIsIjwvaHRtbD4iXS5qb2luKCJcbiIpLGQ9W10sZT1mdW5jdGlvbigpe3ZhciBhPWIuZG9jdW1lbnQsYz1hLnF1ZXJ5U2VsZWN0b3IoIiNjcnVtYnMiKTtjLnRleHRDb250ZW50PSIiO2Zvcih2YXIgZSxnPTA7ZT1kW2ddO2crKyl7dmFyIGg9YS5jcmVhdGVFbGVtZW50KCJhIik7aC5ocmVmPSIjIixoLnRleHRDb250ZW50PWUubG9jYWxOYW1lLGguaWR4PWcsaC5vbmNsaWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYjtkLmxlbmd0aD50aGlzLmlkeDspYj1kLnBvcCgpO2YoYi5zaGFkb3d8fGIsYiksYS5wcmV2ZW50RGVmYXVsdCgpfSxjLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgibGkiKSkuYXBwZW5kQ2hpbGQoaCl9fSxmPWZ1bmN0aW9uKGEsYyl7dmFyIGY9Yi5kb2N1bWVudDtrPVtdO3ZhciBnPWN8fGE7ZC5wdXNoKGcpLGUoKSxmLmJvZHkucXVlcnlTZWxlY3RvcigiI3RyZWUiKS5pbm5lckhUTUw9IjxwcmU+IitqKGEsYS5jaGlsZE5vZGVzKSsiPC9wcmU+In0sZz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGg9e1NUWUxFOjEsU0NSSVBUOjEsIiNjb21tZW50IjoxLFRFTVBMQVRFOjF9LGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGhbYS5ub2RlTmFtZV19LGo9ZnVuY3Rpb24oYSxiLGMpe2lmKGkoYSkpcmV0dXJuIiI7dmFyIGQ9Y3x8IiI7aWYoYS5sb2NhbE5hbWV8fDExPT1hLm5vZGVUeXBlKXt2YXIgZT1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IixmPWQrbChhKTsiY29udGVudCI9PWUmJihiPWEuZ2V0RGlzdHJpYnV0ZWROb2RlcygpKSxmKz0iPGJyLz4iO3ZhciBoPWQrIiZuYnNwOyZuYnNwOyI7ZyhiLGZ1bmN0aW9uKGEpe2YrPWooYSxhLmNoaWxkTm9kZXMsaCl9KSxmKz1kLHticjoxfVtlXXx8KGYrPSI8dGFnPiZsdDsvIitlKyImZ3Q7PC90YWc+IixmKz0iPGJyLz4iKX1lbHNle3ZhciBrPWEudGV4dENvbnRlbnQudHJpbSgpO2Y9az9kKyciJytrKyciPGJyLz4nOiIifXJldHVybiBmfSxrPVtdLGw9ZnVuY3Rpb24oYSl7dmFyIGI9Ijx0YWc+Jmx0OyIsYz1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IjtyZXR1cm4gYS53ZWJraXRTaGFkb3dSb290fHxhLnNoYWRvd1Jvb3Q/KGIrPScgPGJ1dHRvbiBpZHg9Iicray5sZW5ndGgrJyIgb25jbGljaz0iYXBpLnNoYWRvd2l6ZS5jYWxsKHRoaXMpIj4nK2MrIjwvYnV0dG9uPiIsay5wdXNoKGEpKTpiKz1jfHwic2hhZG93LXJvb3QiLGEuYXR0cmlidXRlcyYmZyhhLmF0dHJpYnV0ZXMsZnVuY3Rpb24oYSl7Yis9IiAiK2EubmFtZSsoYS52YWx1ZT8nPSInK2EudmFsdWUrJyInOiIiKX0pLGIrPSImZ3Q7PC90YWc+In07c2hhZG93aXplPWZ1bmN0aW9uKCl7dmFyIGE9TnVtYmVyKHRoaXMuYXR0cmlidXRlcy5pZHgudmFsdWUpLGI9a1thXTtiP2YoYi53ZWJraXRTaGFkb3dSb290fHxiLnNoYWRvd1Jvb3QsYik6KGNvbnNvbGUubG9nKCJiYWQgc2hhZG93aXplIG5vZGUiKSxjb25zb2xlLmRpcih0aGlzKSl9LGEub3V0cHV0PWp9KHdpbmRvdy5JbnNwZWN0b3IpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyB9IFxuIjt2YXIgYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiPWJ8fFtdLGIubWFwfHwoYj1bYl0pLGEuYXBwbHkodGhpcyxiLm1hcChkKSl9ZnVuY3Rpb24gYyhhLGMsZCl7dmFyIGU7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOmU9bnVsbDticmVhaztjYXNlIDI6ZT1jLmFwcGx5KHRoaXMpO2JyZWFrO2RlZmF1bHQ6ZT1iKGQsYyl9ZlthXT1lfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGZbYV19ZnVuY3Rpb24gZShhLGMpe0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtiKGMsYSl9KX12YXIgZj17fTthLm1hcnNoYWw9ZCxhLm1vZHVsZT1jLGEudXNpbmc9ZX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2YudGV4dENvbnRlbnQ9ZCsrLGUucHVzaChhKX1mdW5jdGlvbiBjKCl7Zm9yKDtlLmxlbmd0aDspZS5zaGlmdCgpKCl9dmFyIGQ9MCxlPVtdLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8SnNNdXRhdGlvbk9ic2VydmVyKShjKS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxhLmVuZE9mTWljcm90YXNrPWJ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkKXtyZXR1cm4gYS5yZXBsYWNlKGQsZnVuY3Rpb24oYSxkLGUsZil7dmFyIGc9ZS5yZXBsYWNlKC9bIiddL2csIiIpO3JldHVybiBnPWMoYixnKSxkKyInIitnKyInIitmfSl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPW5ldyBVUkwoYixhKTtyZXR1cm4gZChjLmhyZWYpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9ZG9jdW1lbnQuYmFzZVVSSSxjPW5ldyBVUkwoYSxiKTtyZXR1cm4gYy5ob3N0PT09Yi5ob3N0JiZjLnBvcnQ9PT1iLnBvcnQmJmMucHJvdG9jb2w9PT1iLnByb3RvY29sP2UoYi5wYXRobmFtZSxjLnBhdGhuYW1lKTphfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9YS5zcGxpdCgiLyIpLGQ9Yi5zcGxpdCgiLyIpO2MubGVuZ3RoJiZjWzBdPT09ZFswXTspYy5zaGlmdCgpLGQuc2hpZnQoKTtmb3IodmFyIGU9MCxmPWMubGVuZ3RoLTE7Zj5lO2UrKylkLnVuc2hpZnQoIi4uIik7cmV0dXJuIGQuam9pbigiLyIpfXZhciBmPXtyZXNvbHZlRG9tOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSx0aGlzLnJlc29sdmVBdHRyaWJ1dGVzKGEsYiksdGhpcy5yZXNvbHZlU3R5bGVzKGEsYik7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpO2lmKGMpZm9yKHZhciBkLGU9MCxmPWMubGVuZ3RoO2Y+ZSYmKGQ9Y1tlXSk7ZSsrKWQuY29udGVudCYmdGhpcy5yZXNvbHZlRG9tKGQuY29udGVudCxiKX0scmVzb2x2ZVN0eWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVTdHlsZShkLGIpfSxyZXNvbHZlU3R5bGU6ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGEudGV4dENvbnRlbnQ9dGhpcy5yZXNvbHZlQ3NzVGV4dChhLnRleHRDb250ZW50LGIpfSxyZXNvbHZlQ3NzVGV4dDpmdW5jdGlvbihhLGMpe3JldHVybiBhPWIoYSxjLGcpLGIoYSxjLGgpfSxyZXNvbHZlQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2EuaGFzQXR0cmlidXRlcyYmYS5oYXNBdHRyaWJ1dGVzKCkmJnRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGEsYik7dmFyIGM9YSYmYS5xdWVyeVNlbGVjdG9yQWxsKGopO2lmKGMpZm9yKHZhciBkLGU9MCxmPWMubGVuZ3RoO2Y+ZSYmKGQ9Y1tlXSk7ZSsrKXRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGQsYil9LHJlc29sdmVFbGVtZW50QXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2I9Ynx8YS5vd25lckRvY3VtZW50LmJhc2VVUkksaS5mb3JFYWNoKGZ1bmN0aW9uKGQpe3ZhciBlPWEuYXR0cmlidXRlc1tkXTtpZihlJiZlLnZhbHVlJiZlLnZhbHVlLnNlYXJjaChrKTwwKXt2YXIgZj1jKGIsZS52YWx1ZSk7ZS52YWx1ZT1mfX0pfX0sZz0vKHVybFwoKShbXildKikoXCkpL2csaD0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csaT1bImhyZWYiLCJzcmMiLCJhY3Rpb24iXSxqPSJbIitpLmpvaW4oIl0sWyIpKyJdIixrPSJ7ey4qfX0iO2EudXJsUmVzb2x2ZXI9Zn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YQp9ZnVuY3Rpb24gZCgpe3Q9ITE7dmFyIGE9dTt1PVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7dmFyIGI9ITE7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFrZVJlY29yZHMoKTtlKGEpLGMubGVuZ3RoJiYoYS5jYWxsYmFja18oYyxhKSxiPSEwKX0pLGImJmQoKX1mdW5jdGlvbiBlKGEpe2Eubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9cC5nZXQoYik7YyYmYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Iub2JzZXJ2ZXI9PT1hJiZiLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfSl9KX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPWE7YztjPWMucGFyZW50Tm9kZSl7dmFyIGQ9cC5nZXQoYyk7aWYoZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYub3B0aW9ucztpZihjPT09YXx8Zy5zdWJ0cmVlKXt2YXIgaD1iKGcpO2gmJmYuZW5xdWV1ZShoKX19fX1mdW5jdGlvbiBnKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89Kyt2fWZ1bmN0aW9uIGgoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1bXSx0aGlzLnJlbW92ZWROb2Rlcz1bXSx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBpKGEpe3ZhciBiPW5ldyBoKGEudHlwZSxhLnRhcmdldCk7cmV0dXJuIGIuYWRkZWROb2Rlcz1hLmFkZGVkTm9kZXMuc2xpY2UoKSxiLnJlbW92ZWROb2Rlcz1hLnJlbW92ZWROb2Rlcy5zbGljZSgpLGIucHJldmlvdXNTaWJsaW5nPWEucHJldmlvdXNTaWJsaW5nLGIubmV4dFNpYmxpbmc9YS5uZXh0U2libGluZyxiLmF0dHJpYnV0ZU5hbWU9YS5hdHRyaWJ1dGVOYW1lLGIuYXR0cmlidXRlTmFtZXNwYWNlPWEuYXR0cmlidXRlTmFtZXNwYWNlLGIub2xkVmFsdWU9YS5vbGRWYWx1ZSxifWZ1bmN0aW9uIGooYSxiKXtyZXR1cm4gdz1uZXcgaChhLGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIHg/eDooeD1pKHcpLHgub2xkVmFsdWU9YSx4KX1mdW5jdGlvbiBsKCl7dz14PXZvaWQgMH1mdW5jdGlvbiBtKGEpe3JldHVybiBhPT09eHx8YT09PXd9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPT09Yj9hOngmJm0oYSk/eDpudWxsfWZ1bmN0aW9uIG8oYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgcD1uZXcgV2Vha01hcCxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiB2b2lkKGNbZC0xXT1mKX1lbHNlIGIodGhpcy5vYnNlcnZlcik7Y1tkXT1hfSxhZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLmFkZExpc3RlbmVyc18odGhpcy50YXJnZXQpfSxhZGRMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LHJlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LHJlbW92ZUxpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0sYWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLmFkZExpc3RlbmVyc18oYSksdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9cC5nZXQoYSk7Ynx8cC5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdLGEuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18oYSk7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319LHRoaXMpfSxoYW5kbGVFdmVudDpmdW5jdGlvbihhKXtzd2l0Y2goYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxhLnR5cGUpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjp2YXIgYj1hLmF0dHJOYW1lLGM9YS5yZWxhdGVkTm9kZS5uYW1lc3BhY2VVUkksZD1hLnRhcmdldCxlPW5ldyBqKCJhdHRyaWJ1dGVzIixkKTtlLmF0dHJpYnV0ZU5hbWU9YixlLmF0dHJpYnV0ZU5hbWVzcGFjZT1jO3ZhciBnPWEuYXR0ckNoYW5nZT09PU11dGF0aW9uRXZlbnQuQURESVRJT04/bnVsbDphLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIWEuYXR0cmlidXRlc3x8YS5hdHRyaWJ1dGVGaWx0ZXImJmEuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGIpJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYyk/dm9pZCAwOmEuYXR0cmlidXRlT2xkVmFsdWU/ayhnKTplfSk7YnJlYWs7Y2FzZSJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiOnZhciBkPWEudGFyZ2V0LGU9aigiY2hhcmFjdGVyRGF0YSIsZCksZz1hLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhcmFjdGVyRGF0YT9hLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT9rKGcpOmU6dm9pZCAwfSk7YnJlYWs7Y2FzZSJET01Ob2RlUmVtb3ZlZCI6dGhpcy5hZGRUcmFuc2llbnRPYnNlcnZlcihhLnRhcmdldCk7Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOnZhciBoLGksZD1hLnJlbGF0ZWROb2RlLG09YS50YXJnZXQ7IkRPTU5vZGVJbnNlcnRlZCI9PT1hLnR5cGU/KGg9W21dLGk9W10pOihoPVtdLGk9W21dKTt2YXIgbj1tLnByZXZpb3VzU2libGluZyxvPW0ubmV4dFNpYmxpbmcsZT1qKCJjaGlsZExpc3QiLGQpO2UuYWRkZWROb2Rlcz1oLGUucmVtb3ZlZE5vZGVzPWksZS5wcmV2aW91c1NpYmxpbmc9bixlLm5leHRTaWJsaW5nPW8sZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoaWxkTGlzdD9lOnZvaWQgMH0pfWwoKX19LGEuSnNNdXRhdGlvbk9ic2VydmVyPWcsYS5NdXRhdGlvbk9ic2VydmVyfHwoYS5NdXRhdGlvbk9ic2VydmVyPWcpfSh0aGlzKSx3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LGZ1bmN0aW9uKGEpe3ZhciBiPShhLnBhdGgsYS54aHIpLGM9YS5mbGFncyxkPWZ1bmN0aW9uKGEsYil7dGhpcy5jYWNoZT17fSx0aGlzLm9ubG9hZD1hLHRoaXMub25jb21wbGV0ZT1iLHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e319O2QucHJvdG90eXBlPXthZGROb2RlczpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0Kz1hLmxlbmd0aDtmb3IodmFyIGIsYz0wLGQ9YS5sZW5ndGg7ZD5jJiYoYj1hW2NdKTtjKyspdGhpcy5yZXF1aXJlKGIpO3RoaXMuY2hlY2tEb25lKCl9LGFkZE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCsrLHRoaXMucmVxdWlyZShhKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3JjfHxhLmhyZWY7YS5fX25vZGVVcmw9Yix0aGlzLmRlZHVwZShiLGEpfHx0aGlzLmZldGNoKGIsYSl9LGRlZHVwZTpmdW5jdGlvbihhLGIpe2lmKHRoaXMucGVuZGluZ1thXSlyZXR1cm4gdGhpcy5wZW5kaW5nW2FdLnB1c2goYiksITA7cmV0dXJuIHRoaXMuY2FjaGVbYV0/KHRoaXMub25sb2FkKGEsYix0aGlzLmNhY2hlW2FdKSx0aGlzLnRhaWwoKSwhMCk6KHRoaXMucGVuZGluZ1thXT1bYl0sITEpfSxmZXRjaDpmdW5jdGlvbihhLGQpe2MubG9hZCYmY29uc29sZS5sb2coImZldGNoIixhLGQpO3ZhciBlPWZ1bmN0aW9uKGIsYyl7dGhpcy5yZWNlaXZlKGEsZCxiLGMpfS5iaW5kKHRoaXMpO2IubG9hZChhLGUpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGUsZj10aGlzLnBlbmRpbmdbYV0sZz0wLGg9Zi5sZW5ndGg7aD5nJiYoZT1mW2ddKTtnKyspdGhpcy5vbmxvYWQoYSxlLGQpLHRoaXMudGFpbCgpO3RoaXMucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX0sYj1ifHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYys9Ij8iK01hdGgucmFuZG9tKCkpLGYub3BlbigiR0VUIixjLGIuYXN5bmMpLGYuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09Zi5yZWFkeVN0YXRlJiZkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX0pLGYuc2VuZCgpLGZ9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19LGEueGhyPWIsYS5Mb2FkZXI9ZH0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLnJlbD09PWR9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLnRleHRDb250ZW50LGsucmVzb2x2ZVVybHNJblN0eWxlKGIpLGJ9dmFyIGQ9ImltcG9ydCIsZT1hLmZsYWdzLGY9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaD17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZCsiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZCsiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoZS5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7ZS5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxlLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKSx0aGlzLnBhcnNlTmV4dCgpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXtpZihhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCxIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZT9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpfSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKT90aGlzLnBhcnNlSW1wb3J0KGEpOihhLmhyZWY9YS5ocmVmLHRoaXMucGFyc2VHZW5lcmljKGEpKX0scGFyc2VTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hO2E9YyhhKSxhLl9faW1wb3J0RWxlbWVudD1iLHRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7dGhpcy50cmFja0VsZW1lbnQoYSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0sdHJhY2tFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1mdW5jdGlvbigpe2IubWFya1BhcnNpbmdDb21wbGV0ZShhKX07aWYoYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixjKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixjKSxmJiYic3R5bGUiPT09YS5sb2NhbE5hbWUpe3ZhciBkPSExO2lmKC0xPT1hLnRleHRDb250ZW50LmluZGV4T2YoIkBpbXBvcnQiKSlkPSEwO2Vsc2UgaWYoYS5zaGVldCl7ZD0hMDtmb3IodmFyIGUsZz1hLnNoZWV0LmNzc1J1bGVzLGg9Zz9nLmxlbmd0aDowLGk9MDtoPmkmJihlPWdbaV0pO2krKyllLnR5cGU9PT1DU1NSdWxlLklNUE9SVF9SVUxFJiYoZD1kJiZCb29sZWFuKGUuc3R5bGVTaGVldCkpfWQmJmEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSkpfX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7dmFyIGM9KGIuX19yZXNvdXJjZXx8Yi50ZXh0Q29udGVudCkudHJpbSgpO2lmKGMpe3ZhciBkPWIuX19ub2RlVXJsO2lmKCFkKXtkPWIub3duZXJEb2N1bWVudC5iYXNlVVJJO3ZhciBlPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGY9Yy5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7ZT1mJiZmWzFdfHxlLGQrPSIvIitlKyIuanMifWMrPSJcbi8vIyBzb3VyY2VVUkw9IitkKyJcbiIsYS5jdXJyZW50U2NyaXB0PWIsZXZhbC5jYWxsKHdpbmRvdyxjKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH10aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYil9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhnKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxlPWEucXVlcnlTZWxlY3RvckFsbCh0aGlzLnBhcnNlU2VsZWN0b3JzRm9yTm9kZShhKSksZj0wLGc9ZS5sZW5ndGg7Zz5mJiYoZD1lW2ZdKTtmKyspaWYoIXRoaXMuaXNQYXJzZWQoZCkpcmV0dXJuIHRoaXMuaGFzUmVzb3VyY2UoZCk/YihkKT90aGlzLm5leHRUb1BhcnNlSW5Eb2MoZC5pbXBvcnQsZCk6ZDp2b2lkIDA7cmV0dXJuIGN9LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1nP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fX2ltcG9ydFBhcnNlZH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSkmJiFhLmltcG9ydD8hMToic2NyaXB0Ij09PWEubG9jYWxOYW1lJiZhLnNyYyYmIWEuX19yZXNvdXJjZT8hMTohMH19LGk9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGo9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGs9e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixpKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixqKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWgsYS5wYXRoPWssYS5pc0lFPWZ9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEsbSl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KG0pKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY31mdW5jdGlvbiBlKGEsYil7Yj1ifHxuLGcoZnVuY3Rpb24oKXtoKGEsYil9LGIpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZXx8YS5yZWFkeVN0YXRlPT09dX1mdW5jdGlvbiBnKGEsYil7aWYoZihiKSlhJiZhKCk7ZWxzZXt2YXIgYz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09Yi5yZWFkeVN0YXRlfHxiLnJlYWR5U3RhdGU9PT11KSYmKGIucmVtb3ZlRXZlbnRMaXN0ZW5lcih2LGMpLGcoYSxiKSl9O2IuYWRkRXZlbnRMaXN0ZW5lcih2LGMpfX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYygpe2Y9PWcmJnJlcXVlc3RBbmltYXRpb25GcmFtZShhKX1mdW5jdGlvbiBkKCl7ZisrLGMoKX12YXIgZT1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxmPTAsZz1lLmxlbmd0aDtpZihnKWZvcih2YXIgaCxqPTA7Zz5qJiYoaD1lW2pdKTtqKyspaShoKT9kLmNhbGwoaCk6KGguYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCkpO2Vsc2UgYygpfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGs/YS5pbXBvcnQmJiJsb2FkaW5nIiE9PWEuaW1wb3J0LnJlYWR5U3RhdGU6YS5fX2ltcG9ydFBhcnNlZH12YXIgaj0iaW1wb3J0ImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKSxrPWosbD1hLmZsYWdzLG09ImltcG9ydCIsbj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudDtpZihrKXZhciBvPXt9O2Vsc2UgdmFyIHA9KGEueGhyLGEuTG9hZGVyKSxxPWEucGFyc2VyLG89e2RvY3VtZW50czp7fSxkb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrbSsiXSIsaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK20rIl0iLCJzY3JpcHRbc3JjXTpub3QoW3R5cGVdKSIsJ3NjcmlwdFtzcmNdW3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10uam9pbigiLCIpLGxvYWROb2RlOmZ1bmN0aW9uKGEpe3IuYWRkTm9kZShhKX0sbG9hZFN1YnRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXJzaGFsTm9kZXMoYSk7ci5hZGROb2RlcyhiKX0sbWFyc2hhbE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9LGxvYWRTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PW4/dGhpcy5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzUHJlbG9hZFNlbGVjdG9yc30sbG9hZGVkOmZ1bmN0aW9uKGEsYyxlKXtpZihsLmxvYWQmJmNvbnNvbGUubG9nKCJsb2FkZWQiLGEsYyksYy5fX3Jlc291cmNlPWUsYihjKSl7dmFyIGY9dGhpcy5kb2N1bWVudHNbYV07Znx8KGY9ZChlLGEpLGYuX19pbXBvcnRMaW5rPWMsdGhpcy5ib290RG9jdW1lbnQoZiksdGhpcy5kb2N1bWVudHNbYV09ZiksYy5pbXBvcnQ9Zn1xLnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSkscS5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7cS5wYXJzZU5leHQoKX19LHI9bmV3IHAoby5sb2FkZWQuYmluZChvKSxvLmxvYWRlZEFsbC5iaW5kKG8pKTt2YXIgcz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhUTUxJbXBvcnRzLmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LmN1cnJlbnRTY3JpcHR9LGNvbmZpZ3VyYWJsZTohMH07aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIscyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9jdXJyZW50U2NyaXB0IixzKSwhZG9jdW1lbnQuYmFzZVVSSSl7dmFyIHQ9e2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJiYXNlVVJJIix0KX12YXIgdT1IVE1MSW1wb3J0cy5pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIix2PSJyZWFkeXN0YXRlY2hhbmdlIjthLmhhc05hdGl2ZT1qLGEudXNlTmF0aXZlPWssYS5pbXBvcnRlcj1vLGEud2hlbkltcG9ydHNSZWFkeT1lLGEuSU1QT1JUX0xJTktfVFlQRT1tLGEuaXNJbXBvcnRMb2FkZWQ9aSxhLmltcG9ydExvYWRlcj1yfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGI9YVtkXSk7ZCsrKSJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMubGVuZ3RoJiZjKGIuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGIsZT0wLGc9YS5sZW5ndGg7Zz5lJiYoYj1hW2VdKTtlKyspZChiKSYmZi5sb2FkTm9kZShiKSxiLmNoaWxkcmVuJiZiLmNoaWxkcmVuLmxlbmd0aCYmYyhiLmNoaWxkcmVuKX1mdW5jdGlvbiBkKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZSYmZy5jYWxsKGEsZi5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9ZnVuY3Rpb24gZShhKXtoLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX12YXIgZj0oYS5JTVBPUlRfTElOS19UWVBFLGEuaW1wb3J0ZXIpLGc9SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvcixoPW5ldyBNdXRhdGlvbk9ic2VydmVyKGIpO2Eub2JzZXJ2ZT1lLGYub2JzZXJ2ZT1lfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIuYm9vdERvY3VtZW50KGIpfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBjLmluaXRFdmVudChhLGIuYnViYmxlcz09PSExPyExOiEwLGIuY2FuY2VsYWJsZT09PSExPyExOiEwLGIuZGV0YWlsKSxjfSk7dmFyIGI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksYi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksSFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihFLnB1c2goYSksIUQpe0Q9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Q9ITE7Zm9yKHZhciBhLGI9RSxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7RT1bXX1mdW5jdGlvbiBsKGEpe0M/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9BLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihBLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtDP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9BLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtBLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEEuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihHKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEcoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEYudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7Ri5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7QS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7YT1xKGEpLHkoYSk7Zm9yKHZhciBiLGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJsaW5rW3JlbD0iK0IrIl0iKSxkPTAsZT1jLmxlbmd0aDtlPmQmJihiPWNbZF0pO2QrKyliLmltcG9ydCYmYi5pbXBvcnQuX19wYXJzZWQmJnooYi5pbXBvcnQpfXZhciBBPXdpbmRvdy5sb2dGbGFnc3x8e30sQj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsQz0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPUM7dmFyIEQ9ITEsRT1bXSxGPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLklNUE9SVF9MSU5LX1RZUEU9QixhLndhdGNoU2hhZG93PXMsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXosYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEuaW5zZXJ0ZWROb2RlPWksYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD15LGEudGFrZVJlY29yZHM9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZil7dmFyIGc9Znx8e307aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50IGBuYW1lYCBtdXN0IG5vdCBiZSBlbXB0eSIpO2lmKGIuaW5kZXhPZigiLSIpPDApdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50ICgnbmFtZScpIG11c3QgY29udGFpbiBhIGRhc2ggKCctJykuIEFyZ3VtZW50IHByb3ZpZGVkIHdhcyAnIitTdHJpbmcoYikrIicuIik7aWYobShiKSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZURlZmluaXRpb25FcnJvcjogYSB0eXBlIHdpdGggbmFtZSAnIitTdHJpbmcoYikrIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkIik7aWYoIWcucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcigiT3B0aW9ucyBtaXNzaW5nIHJlcXVpcmVkIHByb3RvdHlwZSBwcm9wZXJ0eSIpO3JldHVybiBnLl9fbmFtZT1iLnRvTG93ZXJDYXNlKCksZy5saWZlY3ljbGU9Zy5saWZlY3ljbGV8fHt9LGcuYW5jZXN0cnk9YyhnLmV4dGVuZHMpLGQoZyksZShnKSxrKGcucHJvdG90eXBlKSxuKGcuX19uYW1lLGcpLGcuY3Rvcj1vKGcpLGcuY3Rvci5wcm90b3R5cGU9Zy5wcm90b3R5cGUsZy5wcm90b3R5cGUuY29uc3RydWN0b3I9Zy5jdG9yLGEucmVhZHkmJmEudXBncmFkZURvY3VtZW50VHJlZShkb2N1bWVudCksZy5jdG9yfWZ1bmN0aW9uIGMoYSl7dmFyIGI9bShhKTtyZXR1cm4gYj9jKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZChhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZShhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpO2I9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpfWZvcih2YXIgZCxlPWEucHJvdG90eXBlO2UmJmUhPT1iOyl7dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2UuX19wcm90b19fPWQsZT1kfX1hLm5hdGl2ZT1ifWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGcoeChhLnRhZyksYSl9ZnVuY3Rpb24gZyhiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGIucmVtb3ZlQXR0cmlidXRlKCJ1bnJlc29sdmVkIiksaChiLGMpLGIuX191cGdyYWRlZF9fPSEwLGooYiksYS5pbnNlcnRlZE5vZGUoYiksYS51cGdyYWRlU3VidHJlZShiKSxifWZ1bmN0aW9uIGgoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihpKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBpKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTEVsZW1lbnQucHJvdG90eXBlOyl7Zm9yKHZhciBmLGc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSksaD0wO2Y9Z1toXTtoKyspZFtmXXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGYpKSxkW2ZdPTEpO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfX1mdW5jdGlvbiBqKGEpe2EuY3JlYXRlZENhbGxiYWNrJiZhLmNyZWF0ZWRDYWxsYmFjaygpfWZ1bmN0aW9uIGsoYSl7aWYoIWEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkKXt2YXIgYj1hLnNldEF0dHJpYnV0ZTthLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGMpe2wuY2FsbCh0aGlzLGEsYyxiKX07dmFyIGM9YS5yZW1vdmVBdHRyaWJ1dGU7YS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7bC5jYWxsKHRoaXMsYSxudWxsLGMpfSxhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZD0hMH19ZnVuY3Rpb24gbChhLGIsYyl7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJmUhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQsZSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYT93W2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIG4oYSxiKXt3W2FdPWJ9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZihhKX19ZnVuY3Rpb24gcChhLGIpe3ZhciBjPW0oYnx8YSk7aWYoYyl7aWYoYT09Yy50YWcmJmI9PWMuaXMpcmV0dXJuIG5ldyBjLmN0b3I7aWYoIWImJiFjLmlzKXJldHVybiBuZXcgYy5jdG9yfWlmKGIpe3ZhciBkPXAoYSk7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJpcyIsYiksZH12YXIgZD14KGEpO3JldHVybiBhLmluZGV4T2YoIi0iKT49MCYmaChkLEhUTUxFbGVtZW50KSxkfWZ1bmN0aW9uIHEoYSl7aWYoIWEuX191cGdyYWRlZF9fJiZhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJpcyIpLGM9bShifHxhLmxvY2FsTmFtZSk7aWYoYyl7aWYoYiYmYy50YWc9PWEubG9jYWxOYW1lKXJldHVybiBnKGEsYyk7aWYoIWImJiFjLmV4dGVuZHMpcmV0dXJuIGcoYSxjKX19fWZ1bmN0aW9uIHIoYil7dmFyIGM9eS5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KTt2YXIgcz1hLmZsYWdzLHQ9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHU9IXMucmVnaXN0ZXImJnQmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw7aWYodSl7dmFyIHY9ZnVuY3Rpb24oKXt9O2EucmVnaXN0cnk9e30sYS51cGdyYWRlRWxlbWVudD12LGEud2F0Y2hTaGFkb3c9dixhLnVwZ3JhZGU9dixhLnVwZ3JhZGVBbGw9dixhLnVwZ3JhZGVTdWJ0cmVlPXYsYS5vYnNlcnZlRG9jdW1lbnQ9dixhLnVwZ3JhZGVEb2N1bWVudD12LGEudXBncmFkZURvY3VtZW50VHJlZT12LGEudGFrZVJlY29yZHM9dn1lbHNle3ZhciB3PXt9LHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSx5PU5vZGUucHJvdG90eXBlLmNsb25lTm9kZTtkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ9Yixkb2N1bWVudC5jcmVhdGVFbGVtZW50PXAsTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPXIsYS5yZWdpc3RyeT13LGEudXBncmFkZT1xfWRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCxhLmhhc05hdGl2ZT10LGEudXNlTmF0aXZlPXV9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Y312YXIgYz1hLklNUE9SVF9MSU5LX1RZUEUsZD17c2VsZWN0b3JzOlsibGlua1tyZWw9IitjKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoZC5zZWxlY3RvcnMpO2UoYixmdW5jdGlvbihhKXtkW2QubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSkmJnRoaXMucGFyc2VJbXBvcnQoYSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2EuaW1wb3J0JiZkLnBhcnNlKGEuaW1wb3J0KX19LGU9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLnBhcnNlcj1kLGEuSU1QT1JUX0xJTktfVFlQRT1jfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChkb2N1bWVudCk7dmFyIGE9d2luZG93LlBsYXRmb3JtJiZQbGF0Zm9ybS5lbmRPZk1pY3JvdGFzaz9QbGF0Zm9ybS5lbmRPZk1pY3JvdGFzazpzZXRUaW1lb3V0O2EoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeT0hMCxDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rPWZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShhLmltcG9ydCl9KX0pfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYi5pbml0RXZlbnQoYSwhMCwhMCksYn0pLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtlbHNlIGlmKCJpbnRlcmFjdGl2ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlfHx3aW5kb3cuYXR0YWNoRXZlbnR8fHdpbmRvdy5IVE1MSW1wb3J0cyYmIXdpbmRvdy5IVE1MSW1wb3J0cy5yZWFkeSl7dmFyIGM9d2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMucmVhZHk/IkhUTUxJbXBvcnRzTG9hZGVkIjoiRE9NQ29udGVudExvYWRlZCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYyxiKX1lbHNlIGIoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50ZXh0Q29udGVudD0iZWxlbWVudCB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtpZihiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCksd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKXt2YXIgYz1bInVwZ3JhZGVBbGwiLCJ1cGdyYWRlU3VidHJlZSIsIm9ic2VydmVEb2N1bWVudCIsInVwZ3JhZGVEb2N1bWVudCJdLGQ9e307Yy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2RbYV09Q3VzdG9tRWxlbWVudHNbYV19KSxjLmZvckVhY2goZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHNbYV09ZnVuY3Rpb24oYil7cmV0dXJuIGRbYV0od3JhcChiKSl9fSl9fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dGhpcy5yZWdleD1hfXZhciBjPWEuZW5kT2ZNaWNyb3Rhc2s7Yi5wcm90b3R5cGU9e2V4dHJhY3RVcmxzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1bXTtjPXRoaXMucmVnZXguZXhlYyhhKTspZD1uZXcgVVJMKGNbMV0sYiksZS5wdXNoKHttYXRjaGVkOmNbMF0sdXJsOmQuaHJlZn0pO3JldHVybiBlfSxwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV4dHJhY3RVcmxzKGEsYik7dGhpcy5mZXRjaChkLHt9LGMpfSxmZXRjaDpmdW5jdGlvbihhLGIsZCl7dmFyIGU9YS5sZW5ndGg7aWYoIWUpcmV0dXJuIGQoYik7Zm9yKHZhciBmLGcsaCxpPWZ1bmN0aW9uKCl7MD09PS0tZSYmZChiKX0saj1mdW5jdGlvbihhLGMpe3ZhciBkPWMubWF0Y2gsZT1kLnVybDtpZihhKXJldHVybiBiW2VdPSIiLGkoKTt2YXIgZj1jLnJlc3BvbnNlfHxjLnJlc3BvbnNlVGV4dDtiW2VdPWYsdGhpcy5mZXRjaCh0aGlzLmV4dHJhY3RVcmxzKGYsZSksYixpKX0saz0wO2U+aztrKyspZj1hW2tdLGg9Zi51cmwsYltoXT9jKGkpOihnPXRoaXMueGhyKGgsaix0aGlzKSxnLm1hdGNoPWYsYltoXT1nKX0seGhyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGQub3BlbigiR0VUIixhLCEwKSxkLnNlbmQoKSxkLm9ubG9hZD1mdW5jdGlvbigpe2IuY2FsbChjLG51bGwsZCl9LGQub25lcnJvcj1mdW5jdGlvbigpe2IuY2FsbChjLGQsbnVsbCl9LGR9fSxhLkxvYWRlcj1ifSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLmxvYWRlcj1uZXcgZih0aGlzLnJlZ2V4KX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9ZChhKTtiJiYoYy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixiKSxjLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixiKSksai5hcHBlbmRDaGlsZChjKX1mdW5jdGlvbiBkKGEsYil7Yj1ifHxkb2N1bWVudCxiPWIuY3JlYXRlRWxlbWVudD9iOmIub3duZXJEb2N1bWVudDt2YXIgYz1iLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7cmV0dXJuIGMudGV4dENvbnRlbnQ9YSxjfXZhciBlPWEudXJsUmVzb2x2ZXIsZj1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEudGV4dENvbnRlbnQsZD1hLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxlPWZ1bmN0aW9uKGMpe2EudGV4dENvbnRlbnQ9YyxiKGEpfTt0aGlzLnJlc29sdmUoYyxkLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZD1oW2ldLGY9ZC51cmwsZz1lLnJlc29sdmVDc3NUZXh0KGNbZl0sZiksZz10aGlzLmZsYXR0ZW4oZyxmLGMpLGE9YS5yZXBsYWNlKGQubWF0Y2hlZCxnKTtyZXR1cm4gYX19O3ZhciBnPW5ldyBiLGg9e2NhY2hlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGg7Zz5mJiYoZD1hW2ZdKTtmKyspZS5wdXNoKGQudGV4dENvbnRlbnQpO2MoZS5qb2luKCJcbiIpLGIpfSx4aHJTdHlsZXM6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7ZSsrLGU9PT1mJiZiJiZiKCl9Zm9yKHZhciBkLGU9MCxmPWEubGVuZ3RoLGg9MDtmPmgmJihkPWFbaF0pO2grKylnLnJlc29sdmVOb2RlKGQsYyl9fSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZWxvYWRlciIpO2kuc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIGo9aS5jcmVhdGVTaGFkb3dSb290KCk7ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChpKSxhLmxvYWRlcj1oLGEuc3R5bGVSZXNvbHZlcj1nfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8e30sYS5leHRlcm5hbD1hLmV4dGVybmFsfHx7fTt2YXIgYj17c2hhZG93OmZ1bmN0aW9uKGEpe3JldHVybiBhP2Euc2hhZG93Um9vdHx8YS53ZWJraXRTaGFkb3dSb290OnZvaWQgMH0sY2FuVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZCb29sZWFuKGEuZWxlbWVudEZyb21Qb2ludCl9LHRhcmdldGluZ1NoYWRvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNoYWRvdyhhKTtyZXR1cm4gdGhpcy5jYW5UYXJnZXQoYik/Yjp2b2lkIDB9LG9sZGVyU2hhZG93OmZ1bmN0aW9uKGEpe3ZhciBiPWEub2xkZXJTaGFkb3dSb290O2lmKCFiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3IoInNoYWRvdyIpO2MmJihiPWMub2xkZXJTaGFkb3dSb290KX1yZXR1cm4gYn0sYWxsU2hhZG93czpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz10aGlzLnNoYWRvdyhhKTtjOyliLnB1c2goYyksYz10aGlzLm9sZGVyU2hhZG93KGMpO3JldHVybiBifSxzZWFyY2hSb290OmZ1bmN0aW9uKGEsYixjKXtpZihhKXt2YXIgZCxlLGY9YS5lbGVtZW50RnJvbVBvaW50KGIsYyk7Zm9yKGU9dGhpcy50YXJnZXRpbmdTaGFkb3coZik7ZTspe2lmKGQ9ZS5lbGVtZW50RnJvbVBvaW50KGIsYykpe3ZhciBnPXRoaXMudGFyZ2V0aW5nU2hhZG93KGQpO3JldHVybiB0aGlzLnNlYXJjaFJvb3QoZyxiLGMpfHxkfWU9dGhpcy5vbGRlclNoYWRvdyhlKX1yZXR1cm4gZn19LG93bmVyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hO2IucGFyZW50Tm9kZTspYj1iLnBhcmVudE5vZGU7cmV0dXJuIGIubm9kZVR5cGUhPU5vZGUuRE9DVU1FTlRfTk9ERSYmYi5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFJiYoYj1kb2N1bWVudCksYn0sZmluZFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFksZD10aGlzLm93bmVyKGEudGFyZ2V0KTtyZXR1cm4gZC5lbGVtZW50RnJvbVBvaW50KGIsYyl8fChkPWRvY3VtZW50KSx0aGlzLnNlYXJjaFJvb3QoZCxiLGMpfX07YS50YXJnZXRGaW5kaW5nPWIsYS5maW5kVGFyZ2V0PWIuZmluZFRhcmdldC5iaW5kKGIpLHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw9YX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiJib2R5IF5eICIrYihhKX1mdW5jdGlvbiBiKGEpe3JldHVybidbdG91Y2gtYWN0aW9uPSInK2ErJyJdJ31mdW5jdGlvbiBjKGEpe3JldHVybiJ7IC1tcy10b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb24tZGVsYXk6IG5vbmU7IH0ifXZhciBkPVsibm9uZSIsImF1dG8iLCJwYW4teCIsInBhbi15Iix7cnVsZToicGFuLXggcGFuLXkiLHNlbGVjdG9yczpbInBhbi14IHBhbi15IiwicGFuLXkgcGFuLXgiXX1dLGU9IiI7ZC5mb3JFYWNoKGZ1bmN0aW9uKGQpe1N0cmluZyhkKT09PWQ/KGUrPWIoZCkrYyhkKSsiXG4iLGUrPWEoZCkrYyhkKSsiXG4iKTooZSs9ZC5zZWxlY3RvcnMubWFwKGIpK2MoZC5ydWxlKSsiXG4iLGUrPWQuc2VsZWN0b3JzLm1hcChhKStjKGQucnVsZSkrIlxuIil9KTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2YudGV4dENvbnRlbnQ9ZSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGYpfSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlKXtlPWV8fHt9O3ZhciBmO2lmKGUuYnV0dG9uc3x8ZClmPWUuYnV0dG9ucztlbHNlIHN3aXRjaChlLndoaWNoKXtjYXNlIDE6Zj0xO2JyZWFrO2Nhc2UgMjpmPTQ7YnJlYWs7Y2FzZSAzOmY9MjticmVhaztkZWZhdWx0OmY9MH12YXIgaTtpZihjKWk9bmV3IE1vdXNlRXZlbnQoYSxlKTtlbHNle2k9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKTtmb3IodmFyIGosaz17fSxsPTA7bDxnLmxlbmd0aDtsKyspaj1nW2xdLGtbal09ZVtqXXx8aFtsXTtpLmluaXRNb3VzZUV2ZW50KGEsay5idWJibGVzLGsuY2FuY2VsYWJsZSxrLnZpZXcsay5kZXRhaWwsay5zY3JlZW5YLGsuc2NyZWVuWSxrLmNsaWVudFgsay5jbGllbnRZLGsuY3RybEtleSxrLmFsdEtleSxrLnNoaWZ0S2V5LGsubWV0YUtleSxrLmJ1dHRvbixrLnJlbGF0ZWRUYXJnZXQpfWkuX19wcm90b19fPWIucHJvdG90eXBlLGR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJidXR0b25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGVudW1lcmFibGU6ITB9KTt2YXIgbT0wO3JldHVybiBtPWUucHJlc3N1cmU/ZS5wcmVzc3VyZTpmPy41OjAsT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7cG9pbnRlcklkOnt2YWx1ZTplLnBvaW50ZXJJZHx8MCxlbnVtZXJhYmxlOiEwfSx3aWR0aDp7dmFsdWU6ZS53aWR0aHx8MCxlbnVtZXJhYmxlOiEwfSxoZWlnaHQ6e3ZhbHVlOmUuaGVpZ2h0fHwwLGVudW1lcmFibGU6ITB9LHByZXNzdXJlOnt2YWx1ZTptLGVudW1lcmFibGU6ITB9LHRpbHRYOnt2YWx1ZTplLnRpbHRYfHwwLGVudW1lcmFibGU6ITB9LHRpbHRZOnt2YWx1ZTplLnRpbHRZfHwwLGVudW1lcmFibGU6ITB9LHBvaW50ZXJUeXBlOnt2YWx1ZTplLnBvaW50ZXJUeXBlfHwiIixlbnVtZXJhYmxlOiEwfSxod1RpbWVzdGFtcDp7dmFsdWU6ZS5od1RpbWVzdGFtcHx8MCxlbnVtZXJhYmxlOiEwfSxpc1ByaW1hcnk6e3ZhbHVlOmUuaXNQcmltYXJ5fHwhMSxlbnVtZXJhYmxlOiEwfX0pLGl9dmFyIGM9ITEsZD0hMTt0cnl7dmFyIGU9bmV3IE1vdXNlRXZlbnQoImNsaWNrIix7YnV0dG9uczoxfSk7Yz0hMCxkPTE9PT1lLmJ1dHRvbnN9Y2F0Y2goZil7fXZhciBnPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0Il0saD1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsXTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1vdXNlRXZlbnQucHJvdG90eXBlKSxhLlBvaW50ZXJFdmVudHx8KGEuUG9pbnRlckV2ZW50PWIpfSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZihjKXt2YXIgYT1uZXcgTWFwO3JldHVybiBhLnBvaW50ZXJzPWQsYX10aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119dmFyIGM9d2luZG93Lk1hcCYmd2luZG93Lk1hcC5wcm90b3R5cGUuZm9yRWFjaCxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX07Yi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpO2M+LTE/dGhpcy52YWx1ZXNbY109YjoodGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSl9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5rZXlzLmluZGV4T2YoYSk+LTF9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO2I+LTEmJih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSkpfSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMudmFsdWVzW2JdfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMua2V5cy5sZW5ndGg9MCx0aGlzLnZhbHVlcy5sZW5ndGg9MH0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe3RoaXMudmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYyxkKXthLmNhbGwoYixjLHRoaXMua2V5c1tkXSx0aGlzKX0sdGhpcyl9LHBvaW50ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5cy5sZW5ndGh9fSxhLlBvaW50ZXJNYXA9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiLCJidXR0b25zIiwicG9pbnRlcklkIiwid2lkdGgiLCJoZWlnaHQiLCJwcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImh3VGltZXN0YW1wIiwiaXNQcmltYXJ5IiwidHlwZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ3aGljaCJdLGM9WyExLCExLG51bGwsbnVsbCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCwwLDAsMCwwLDAsMCwwLCIiLDAsITEsIiIsbnVsbCxudWxsLDBdLGQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdFbGVtZW50SW5zdGFuY2UsZT17dGFyZ2V0czpuZXcgV2Vha01hcCxoYW5kbGVkRXZlbnRzOm5ldyBXZWFrTWFwLHBvaW50ZXJtYXA6bmV3IGEuUG9pbnRlck1hcCxldmVudE1hcDp7fSxldmVudFNvdXJjZXM6e30sZXZlbnRTb3VyY2VMaXN0OltdLHJlZ2lzdGVyU291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YixkPWMuZXZlbnRzO2QmJihkLmZvckVhY2goZnVuY3Rpb24oYSl7Y1thXSYmKHRoaXMuZXZlbnRNYXBbYV09Y1thXS5iaW5kKGMpKX0sdGhpcyksdGhpcy5ldmVudFNvdXJjZXNbYV09Yyx0aGlzLmV2ZW50U291cmNlTGlzdC5wdXNoKGMpKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi5yZWdpc3Rlci5jYWxsKGIsYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi51bnJlZ2lzdGVyLmNhbGwoYixhKX0sY29udGFpbnM6YS5leHRlcm5hbC5jb250YWluc3x8ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb250YWlucyhiKX0sZG93bjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJkb3duIixhKX0sbW92ZTpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJtb3ZlIixhKX0sdXA6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVydXAiLGEpfSxlbnRlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITEsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJlbnRlciIsYSl9LGxlYXZlOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmxlYXZlIixhKX0sb3ZlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJvdmVyIixhKX0sb3V0OmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm91dCIsYSl9LGNhbmNlbDpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJjYW5jZWwiLGEpfSxsZWF2ZU91dDpmdW5jdGlvbihhKXt0aGlzLm91dChhKSx0aGlzLmNvbnRhaW5zKGEudGFyZ2V0LGEucmVsYXRlZFRhcmdldCl8fHRoaXMubGVhdmUoYSl9LGVudGVyT3ZlcjpmdW5jdGlvbihhKXt0aGlzLm92ZXIoYSksdGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpfSxldmVudEhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFuZGxlZEV2ZW50cy5nZXQoYSkpe3ZhciBiPWEudHlwZSxjPXRoaXMuZXZlbnRNYXAmJnRoaXMuZXZlbnRNYXBbYl07YyYmYyhhKSx0aGlzLmhhbmRsZWRFdmVudHMuc2V0KGEsITApfX0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMuYWRkRXZlbnQoYSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMucmVtb3ZlRXZlbnQoYSxiKX0sdGhpcyl9LGFkZEV2ZW50OmEuZXh0ZXJuYWwuYWRkRXZlbnR8fGZ1bmN0aW9uKGEsYil7YS5hZGRFdmVudExpc3RlbmVyKGIsdGhpcy5ib3VuZEhhbmRsZXIpfSxyZW1vdmVFdmVudDphLmV4dGVybmFsLnJlbW92ZUV2ZW50fHxmdW5jdGlvbihhLGIpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKX0sbWFrZUV2ZW50OmZ1bmN0aW9uKGEsYil7dGhpcy5jYXB0dXJlSW5mbyYmKGIucmVsYXRlZFRhcmdldD1udWxsKTt2YXIgYz1uZXcgUG9pbnRlckV2ZW50KGEsYik7cmV0dXJuIGIucHJldmVudERlZmF1bHQmJihjLnByZXZlbnREZWZhdWx0PWIucHJldmVudERlZmF1bHQpLHRoaXMudGFyZ2V0cy5zZXQoYyx0aGlzLnRhcmdldHMuZ2V0KGIpfHxiLnRhcmdldCksY30sZmlyZUV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5tYWtlRXZlbnQoYSxiKTtyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KGMpfSxjbG9uZUV2ZW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZSxmPXt9LGc9MDtnPGIubGVuZ3RoO2crKyllPWJbZ10sZltlXT1hW2VdfHxjW2ddLCFkfHwidGFyZ2V0IiE9PWUmJiJyZWxhdGVkVGFyZ2V0IiE9PWV8fGZbZV1pbnN0YW5jZW9mIFNWR0VsZW1lbnRJbnN0YW5jZSYmKGZbZV09ZltlXS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCk7cmV0dXJuIGEucHJldmVudERlZmF1bHQmJihmLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdCgpfSksZn0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09YS5wb2ludGVySWQ/dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ6dGhpcy50YXJnZXRzLmdldChhKX0sc2V0Q2FwdHVyZTpmdW5jdGlvbihhLGIpe3RoaXMuY2FwdHVyZUluZm8mJnRoaXMucmVsZWFzZUNhcHR1cmUodGhpcy5jYXB0dXJlSW5mby5pZCksdGhpcy5jYXB0dXJlSW5mbz17aWQ6YSx0YXJnZXQ6Yn07dmFyIGM9bmV3IFBvaW50ZXJFdmVudCgiZ290cG9pbnRlcmNhcHR1cmUiLHtidWJibGVzOiEwfSk7dGhpcy5pbXBsaWNpdFJlbGVhc2U9dGhpcy5yZWxlYXNlQ2FwdHVyZS5iaW5kKHRoaXMsYSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIix0aGlzLmltcGxpY2l0UmVsZWFzZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmNhbmNlbCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLHRoaXMudGFyZ2V0cy5zZXQoYyxiKSx0aGlzLmFzeW5jRGlzcGF0Y2hFdmVudChjKX0scmVsZWFzZUNhcHR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5jYXB0dXJlSW5mby5pZD09PWEpe3ZhciBiPW5ldyBQb2ludGVyRXZlbnQoImxvc3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KSxjPXRoaXMuY2FwdHVyZUluZm8udGFyZ2V0O3RoaXMuY2FwdHVyZUluZm89bnVsbCxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChiLGMpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KGIpCn19LGRpc3BhdGNoRXZlbnQ6YS5leHRlcm5hbC5kaXNwYXRjaEV2ZW50fHxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRhcmdldChhKTtyZXR1cm4gYj9iLmRpc3BhdGNoRXZlbnQoYSk6dm9pZCAwfSxhc3luY0Rpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSl7c2V0VGltZW91dCh0aGlzLmRpc3BhdGNoRXZlbnQuYmluZCh0aGlzLGEpLDApfX07ZS5ib3VuZEhhbmRsZXI9ZS5ldmVudEhhbmRsZXIuYmluZChlKSxhLmRpc3BhdGNoZXI9ZSxhLnJlZ2lzdGVyPWUucmVnaXN0ZXIuYmluZChlKSxhLnVucmVnaXN0ZXI9ZS51bnJlZ2lzdGVyLmJpbmQoZSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMsZCl7dGhpcy5hZGRDYWxsYmFjaz1hLmJpbmQoZCksdGhpcy5yZW1vdmVDYWxsYmFjaz1iLmJpbmQoZCksdGhpcy5jaGFuZ2VkQ2FsbGJhY2s9Yy5iaW5kKGQpLGcmJih0aGlzLm9ic2VydmVyPW5ldyBnKHRoaXMubXV0YXRpb25XYXRjaGVyLmJpbmQodGhpcykpKX12YXIgYz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGQ9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5zbGljZSksZj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKSxnPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixoPSJbdG91Y2gtYWN0aW9uXSIsaT17c3VidHJlZTohMCxjaGlsZExpc3Q6ITAsYXR0cmlidXRlczohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJ0b3VjaC1hY3Rpb24iXX07Yi5wcm90b3R5cGU9e3dhdGNoU3VidHJlZTpmdW5jdGlvbihiKXthLnRhcmdldEZpbmRpbmcuY2FuVGFyZ2V0KGIpJiZ0aGlzLm9ic2VydmVyLm9ic2VydmUoYixpKX0sZW5hYmxlT25TdWJ0cmVlOmZ1bmN0aW9uKGEpe3RoaXMud2F0Y2hTdWJ0cmVlKGEpLGE9PT1kb2N1bWVudCYmImNvbXBsZXRlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGU/dGhpcy5pbnN0YWxsT25Mb2FkKCk6dGhpcy5pbnN0YWxsTmV3U3VidHJlZShhKX0saW5zdGFsbE5ld1N1YnRyZWU6ZnVuY3Rpb24oYSl7Yyh0aGlzLmZpbmRFbGVtZW50cyhhKSx0aGlzLmFkZEVsZW1lbnQsdGhpcyl9LGZpbmRFbGVtZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChoKTpbXX0scmVtb3ZlRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUNhbGxiYWNrKGEpfSxhZGRFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuYWRkQ2FsbGJhY2soYSl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dGhpcy5jaGFuZ2VkQ2FsbGJhY2soYSxiKX0sY29uY2F0TGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoZShiKSl9LGluc3RhbGxPbkxvYWQ6ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix0aGlzLmluc3RhbGxOZXdTdWJ0cmVlLmJpbmQodGhpcyxkb2N1bWVudCkpfSxpc0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0sZmxhdHRlbk11dGF0aW9uVHJlZTpmdW5jdGlvbihhKXt2YXIgYj1kKGEsdGhpcy5maW5kRWxlbWVudHMsdGhpcyk7cmV0dXJuIGIucHVzaChmKGEsdGhpcy5pc0VsZW1lbnQpKSxiLnJlZHVjZSh0aGlzLmNvbmNhdExpc3RzLFtdKX0sbXV0YXRpb25XYXRjaGVyOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaCh0aGlzLm11dGF0aW9uSGFuZGxlcix0aGlzKX0sbXV0YXRpb25IYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCJjaGlsZExpc3QiPT09YS50eXBlKXt2YXIgYj10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoYS5hZGRlZE5vZGVzKTtiLmZvckVhY2godGhpcy5hZGRFbGVtZW50LHRoaXMpO3ZhciBjPXRoaXMuZmxhdHRlbk11dGF0aW9uVHJlZShhLnJlbW92ZWROb2Rlcyk7Yy5mb3JFYWNoKHRoaXMucmVtb3ZlRWxlbWVudCx0aGlzKX1lbHNlImF0dHJpYnV0ZXMiPT09YS50eXBlJiZ0aGlzLmVsZW1lbnRDaGFuZ2VkKGEudGFyZ2V0LGEub2xkVmFsdWUpfX0sZ3x8KGIucHJvdG90eXBlLndhdGNoU3VidHJlZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiUG9pbnRlckV2ZW50c1BvbHlmaWxsOiBNdXRhdGlvbk9ic2VydmVycyBub3QgZm91bmQsIHRvdWNoLWFjdGlvbiB3aWxsIG5vdCBiZSBkeW5hbWljYWxseSBkZXRlY3RlZCIpfSksYS5JbnN0YWxsZXI9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9Yi5wb2ludGVybWFwLGQ9MjUsZT17UE9JTlRFUl9JRDoxLFBPSU5URVJfVFlQRToibW91c2UiLGV2ZW50czpbIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LGxhc3RUb3VjaGVzOltdLGlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5sYXN0VG91Y2hlcyxlPWEuY2xpZW50WCxmPWEuY2xpZW50WSxnPTAsaD1jLmxlbmd0aDtoPmcmJihiPWNbZ10pO2crKyl7dmFyIGk9TWF0aC5hYnMoZS1iLngpLGo9TWF0aC5hYnMoZi1iLnkpO2lmKGQ+PWkmJmQ+PWopcmV0dXJuITB9fSxwcmVwYXJlRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jbG9uZUV2ZW50KGEpLGQ9Yy5wcmV2ZW50RGVmYXVsdDtyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2EucHJldmVudERlZmF1bHQoKSxkKCl9LGMucG9pbnRlcklkPXRoaXMuUE9JTlRFUl9JRCxjLmlzUHJpbWFyeT0hMCxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGN9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmhhcyh0aGlzLlBPSU5URVJfSUQpO2QmJnRoaXMuY2FuY2VsKGEpO3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2Muc2V0KHRoaXMuUE9JTlRFUl9JRCxhKSxiLmRvd24oZSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfX0sbW91c2V1cDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmdldCh0aGlzLlBPSU5URVJfSUQpO2lmKGQmJmQuYnV0dG9uPT09YS5idXR0b24pe3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoZSksdGhpcy5jbGVhbnVwTW91c2UoKX19fSxtb3VzZW92ZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9fSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cE1vdXNlKCl9LGNsZWFudXBNb3VzZTpmdW5jdGlvbigpe2NbImRlbGV0ZSJdKHRoaXMuUE9JTlRFUl9JRCl9fTthLm1vdXNlRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kaXNwYXRjaGVyLGQ9YS5maW5kVGFyZ2V0LGU9YS50YXJnZXRGaW5kaW5nLmFsbFNoYWRvd3MuYmluZChhLnRhcmdldEZpbmRpbmcpLGY9Yy5wb2ludGVybWFwLGc9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksaD0yNTAwLGk9MjAwLGo9InRvdWNoLWFjdGlvbiIsaz0hMSxsPXtzY3JvbGxUeXBlOm5ldyBXZWFrTWFwLGV2ZW50czpbInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIl0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7az9jLmxpc3RlbihhLHRoaXMuZXZlbnRzKTpiLmVuYWJsZU9uU3VidHJlZShhKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtrJiZjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxlbGVtZW50QWRkZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGIpO2QmJih0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksYy5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxjLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcykpfSxlbGVtZW50UmVtb3ZlZDpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGEpLGMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZVsiZGVsZXRlIl0oYSksYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcyl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGMpLGY9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShiKTtkJiZmPyh0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKX0sdGhpcykpOmY/dGhpcy5lbGVtZW50UmVtb3ZlZChhKTpkJiZ0aGlzLmVsZW1lbnRBZGRlZChhKX0sc2Nyb2xsVHlwZXM6e0VNSVRURVI6Im5vbmUiLFhTQ1JPTExFUjoicGFuLXgiLFlTQ1JPTExFUjoicGFuLXkiLFNDUk9MTEVSOi9eKD86cGFuLXggcGFuLXkpfCg/OnBhbi15IHBhbi14KXxhdXRvJC99LHRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlOmZ1bmN0aW9uKGEpe3ZhciBiPWEsYz10aGlzLnNjcm9sbFR5cGVzO3JldHVybiJub25lIj09PWI/Im5vbmUiOmI9PT1jLlhTQ1JPTExFUj8iWCI6Yj09PWMuWVNDUk9MTEVSPyJZIjpjLlNDUk9MTEVSLmV4ZWMoYik/IlhZIjp2b2lkIDB9LFBPSU5URVJfVFlQRToidG91Y2giLGZpcnN0VG91Y2g6bnVsbCxpc1ByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maXJzdFRvdWNoPT09YS5pZGVudGlmaWVyfSxzZXRQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oYSl7KDA9PT1mLnBvaW50ZXJzKCl8fDE9PT1mLnBvaW50ZXJzKCkmJmYuaGFzKDEpKSYmKHRoaXMuZmlyc3RUb3VjaD1hLmlkZW50aWZpZXIsdGhpcy5maXJzdFhZPXtYOmEuY2xpZW50WCxZOmEuY2xpZW50WX0sdGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5jYW5jZWxSZXNldENsaWNrQ291bnQoKSl9LHJlbW92ZVByaW1hcnlQb2ludGVyOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYodGhpcy5maXJzdFRvdWNoPW51bGwsdGhpcy5maXJzdFhZPW51bGwsdGhpcy5yZXNldENsaWNrQ291bnQoKSl9LGNsaWNrQ291bnQ6MCxyZXNldElkOm51bGwscmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXt0aGlzLmNsaWNrQ291bnQ9MCx0aGlzLnJlc2V0SWQ9bnVsbH0uYmluZCh0aGlzKTt0aGlzLnJlc2V0SWQ9c2V0VGltZW91dChhLGkpfSxjYW5jZWxSZXNldENsaWNrQ291bnQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0SWQmJmNsZWFyVGltZW91dCh0aGlzLnJlc2V0SWQpfSx0b3VjaFRvUG9pbnRlcjpmdW5jdGlvbihhKXt2YXIgYj1jLmNsb25lRXZlbnQoYSk7cmV0dXJuIGIucG9pbnRlcklkPWEuaWRlbnRpZmllcisyLGIudGFyZ2V0PWQoYiksYi5idWJibGVzPSEwLGIuY2FuY2VsYWJsZT0hMCxiLmRldGFpbD10aGlzLmNsaWNrQ291bnQsYi5idXR0b249MCxiLmJ1dHRvbnM9MSxiLndpZHRoPWEud2Via2l0UmFkaXVzWHx8YS5yYWRpdXNYfHwwLGIuaGVpZ2h0PWEud2Via2l0UmFkaXVzWXx8YS5yYWRpdXNZfHwwLGIucHJlc3N1cmU9YS53ZWJraXRGb3JjZXx8YS5mb3JjZXx8LjUsYi5pc1ByaW1hcnk9dGhpcy5pc1ByaW1hcnlUb3VjaChhKSxiLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGJ9LHByb2Nlc3NUb3VjaGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jaGFuZ2VkVG91Y2hlcyxkPWcoYyx0aGlzLnRvdWNoVG9Qb2ludGVyLHRoaXMpO2QuZm9yRWFjaChmdW5jdGlvbihiKXtiLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5maXJzdFhZPW51bGwsYS5wcmV2ZW50RGVmYXVsdCgpfX0sdGhpcyksZC5mb3JFYWNoKGIsdGhpcyl9LHNob3VsZFNjcm9sbDpmdW5jdGlvbihhKXtpZih0aGlzLmZpcnN0WFkpe3ZhciBiLGM9dGhpcy5zY3JvbGxUeXBlLmdldChhLmN1cnJlbnRUYXJnZXQpO2lmKCJub25lIj09PWMpYj0hMTtlbHNlIGlmKCJYWSI9PT1jKWI9ITA7ZWxzZXt2YXIgZD1hLmNoYW5nZWRUb3VjaGVzWzBdLGU9YyxmPSJZIj09PWM/IlgiOiJZIixnPU1hdGguYWJzKGRbImNsaWVudCIrZV0tdGhpcy5maXJzdFhZW2VdKSxoPU1hdGguYWJzKGRbImNsaWVudCIrZl0tdGhpcy5maXJzdFhZW2ZdKTtiPWc+PWh9cmV0dXJuIHRoaXMuZmlyc3RYWT1udWxsLGJ9fSxmaW5kVG91Y2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspaWYoYy5pZGVudGlmaWVyPT09YilyZXR1cm4hMH0sdmFjdXVtVG91Y2hlczpmdW5jdGlvbihhKXt2YXIgYj1hLnRvdWNoZXM7aWYoZi5wb2ludGVycygpPj1iLmxlbmd0aCl7dmFyIGM9W107Zi5mb3JFYWNoKGZ1bmN0aW9uKGEsZCl7aWYoMSE9PWQmJiF0aGlzLmZpbmRUb3VjaChiLGQtMikpe3ZhciBlPWEub3V0O2MucHVzaCh0aGlzLnRvdWNoVG9Qb2ludGVyKGUpKX19LHRoaXMpLGMuZm9yRWFjaCh0aGlzLmNhbmNlbE91dCx0aGlzKX19LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy52YWN1dW1Ub3VjaGVzKGEpLHRoaXMuc2V0UHJpbWFyeVRvdWNoKGEuY2hhbmdlZFRvdWNoZXNbMF0pLHRoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMuc2Nyb2xsaW5nfHwodGhpcy5jbGlja0NvdW50KyssdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMub3ZlckRvd24pKX0sb3ZlckRvd246ZnVuY3Rpb24oYSl7Zi5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCxvdXQ6YSxvdXRUYXJnZXQ6YS50YXJnZXR9KTtjLm92ZXIoYSksYy5lbnRlcihhKSxjLmRvd24oYSl9LHRvdWNobW92ZTpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbGluZ3x8KHRoaXMuc2hvdWxkU2Nyb2xsKGEpPyh0aGlzLnNjcm9sbGluZz0hMCx0aGlzLnRvdWNoY2FuY2VsKGEpKTooYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLm1vdmVPdmVyT3V0KSkpfSxtb3ZlT3Zlck91dDpmdW5jdGlvbihhKXt2YXIgYj1hLGQ9Zi5nZXQoYi5wb2ludGVySWQpO2lmKGQpe3ZhciBlPWQub3V0LGc9ZC5vdXRUYXJnZXQ7Yy5tb3ZlKGIpLGUmJmchPT1iLnRhcmdldCYmKGUucmVsYXRlZFRhcmdldD1iLnRhcmdldCxiLnJlbGF0ZWRUYXJnZXQ9ZyxlLnRhcmdldD1nLGIudGFyZ2V0PyhjLmxlYXZlT3V0KGUpLGMuZW50ZXJPdmVyKGIpKTooYi50YXJnZXQ9ZyxiLnJlbGF0ZWRUYXJnZXQ9bnVsbCx0aGlzLmNhbmNlbE91dChiKSkpLGQub3V0PWIsZC5vdXRUYXJnZXQ9Yi50YXJnZXR9fSx0b3VjaGVuZDpmdW5jdGlvbihhKXt0aGlzLmRlZHVwU3ludGhNb3VzZShhKSx0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy51cE91dCl9LHVwT3V0OmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwoYy51cChhKSxjLm91dChhKSxjLmxlYXZlKGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksYy5sZWF2ZShhKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSxjbGVhblVwUG9pbnRlcjpmdW5jdGlvbihhKXtmWyJkZWxldGUiXShhLnBvaW50ZXJJZCksdGhpcy5yZW1vdmVQcmltYXJ5UG9pbnRlcihhKX0sZGVkdXBTeW50aE1vdXNlOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW91c2VFdmVudHMubGFzdFRvdWNoZXMsZD1iLmNoYW5nZWRUb3VjaGVzWzBdO2lmKHRoaXMuaXNQcmltYXJ5VG91Y2goZCkpe3ZhciBlPXt4OmQuY2xpZW50WCx5OmQuY2xpZW50WX07Yy5wdXNoKGUpO3ZhciBmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5pbmRleE9mKGIpO2M+LTEmJmEuc3BsaWNlKGMsMSl9LmJpbmQobnVsbCxjLGUpO3NldFRpbWVvdXQoZixoKX19fTtrfHwoYj1uZXcgYS5JbnN0YWxsZXIobC5lbGVtZW50QWRkZWQsbC5lbGVtZW50UmVtb3ZlZCxsLmVsZW1lbnRDaGFuZ2VkLGwpKSxhLnRvdWNoRXZlbnRzPWx9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPWIucG9pbnRlcm1hcCxkPXdpbmRvdy5NU1BvaW50ZXJFdmVudCYmIm51bWJlciI9PXR5cGVvZiB3aW5kb3cuTVNQb2ludGVyRXZlbnQuTVNQT0lOVEVSX1RZUEVfTU9VU0UsZT17ZXZlbnRzOlsiTVNQb2ludGVyRG93biIsIk1TUG9pbnRlck1vdmUiLCJNU1BvaW50ZXJVcCIsIk1TUG9pbnRlck91dCIsIk1TUG9pbnRlck92ZXIiLCJNU1BvaW50ZXJDYW5jZWwiLCJNU0dvdFBvaW50ZXJDYXB0dXJlIiwiTVNMb3N0UG9pbnRlckNhcHR1cmUiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtiLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtiLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxQT0lOVEVSX1RZUEVTOlsiIiwidW5hdmFpbGFibGUiLCJ0b3VjaCIsInBlbiIsIm1vdXNlIl0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBjPWE7cmV0dXJuIGQmJihjPWIuY2xvbmVFdmVudChhKSxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFU1thLnBvaW50ZXJUeXBlXSksY30sY2xlYW51cDpmdW5jdGlvbihhKXtjWyJkZWxldGUiXShhKX0sTVNQb2ludGVyRG93bjpmdW5jdGlvbihhKXtjLnNldChhLnBvaW50ZXJJZCxhKTt2YXIgZD10aGlzLnByZXBhcmVFdmVudChhKTtiLmRvd24oZCl9LE1TUG9pbnRlck1vdmU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfSxNU1BvaW50ZXJVcDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLnVwKGMpLHRoaXMuY2xlYW51cChhLnBvaW50ZXJJZCl9LE1TUG9pbnRlck91dDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfSxNU1BvaW50ZXJPdmVyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZW50ZXJPdmVyKGMpfSxNU1BvaW50ZXJDYW5jZWw6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5jYW5jZWwoYyksdGhpcy5jbGVhbnVwKGEucG9pbnRlcklkKX0sTVNMb3N0UG9pbnRlckNhcHR1cmU6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5tYWtlRXZlbnQoImxvc3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfSxNU0dvdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGEpe3ZhciBjPWIubWFrZUV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfX07YS5tc0V2ZW50cz1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXI7aWYodm9pZCAwPT09d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCl7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5uYXZpZ2F0b3IsInBvaW50ZXJFbmFibGVkIix7dmFsdWU6ITAsZW51bWVyYWJsZTohMH0pLHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCl7dmFyIGM9d2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJtYXhUb3VjaFBvaW50cyIse3ZhbHVlOmMsZW51bWVyYWJsZTohMH0pLGIucmVnaXN0ZXJTb3VyY2UoIm1zIixhLm1zRXZlbnRzKX1lbHNlIGIucmVnaXN0ZXJTb3VyY2UoIm1vdXNlIixhLm1vdXNlRXZlbnRzKSx2b2lkIDAhPT13aW5kb3cub250b3VjaHN0YXJ0JiZiLnJlZ2lzdGVyU291cmNlKCJ0b3VjaCIsYS50b3VjaEV2ZW50cyk7Yi5yZWdpc3Rlcihkb2N1bWVudCl9fSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2lmKCFlLnBvaW50ZXJtYXAuaGFzKGEpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFBvaW50ZXJJZCIpfXZhciBjLGQsZT1hLmRpc3BhdGNoZXIsZj13aW5kb3cubmF2aWdhdG9yO2YubXNQb2ludGVyRW5hYmxlZD8oYz1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNTZXRQb2ludGVyQ2FwdHVyZShhKX0sZD1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNSZWxlYXNlUG9pbnRlckNhcHR1cmUoYSl9KTooYz1mdW5jdGlvbihhKXtiKGEpLGUuc2V0Q2FwdHVyZShhLHRoaXMpfSxkPWZ1bmN0aW9uKGEpe2IoYSksZS5yZWxlYXNlQ2FwdHVyZShhLHRoaXMpfSksd2luZG93LkVsZW1lbnQmJiFFbGVtZW50LnByb3RvdHlwZS5zZXRQb2ludGVyQ2FwdHVyZSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NldFBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpjfSxyZWxlYXNlUG9pbnRlckNhcHR1cmU6e3ZhbHVlOmR9fSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLFBvaW50ZXJHZXN0dXJlRXZlbnQucHJvdG90eXBlLnByZXZlbnRUYXA9ZnVuY3Rpb24oKXt0aGlzLnRhcFByZXZlbnRlZD0hMH0sZnVuY3Rpb24oYSl7YT1hfHx7fSxhLnV0aWxzPXtMQ0E6e2ZpbmQ6ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gYTtpZihhLmNvbnRhaW5zKXtpZihhLmNvbnRhaW5zKGIpKXJldHVybiBhO2lmKGIuY29udGFpbnMoYSkpcmV0dXJuIGJ9dmFyIGM9dGhpcy5kZXB0aChhKSxkPXRoaXMuZGVwdGgoYiksZT1jLWQ7Zm9yKGU+MD9hPXRoaXMud2FsayhhLGUpOmI9dGhpcy53YWxrKGIsLWUpO2EmJmImJmEhPT1iOylhPXRoaXMud2FsayhhLDEpLGI9dGhpcy53YWxrKGIsMSk7cmV0dXJuIGF9LHdhbGs6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7YysrKWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxkZXB0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDthOyliKyssYT1hLnBhcmVudE5vZGU7cmV0dXJuIGJ9fX0sYS5maW5kTENBPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEudXRpbHMuTENBLmZpbmQoYixjKX0sd2luZG93LlBvaW50ZXJHZXN0dXJlcz1hfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7aWYoYyl7dmFyIGE9bmV3IE1hcDtyZXR1cm4gYS5wb2ludGVycz1kLGF9dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfXZhciBjPXdpbmRvdy5NYXAmJndpbmRvdy5NYXAucHJvdG90eXBlLmZvckVhY2gsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9O2IucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTtjPi0xP3RoaXMudmFsdWVzW2NdPWI6KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMua2V5cy5pbmRleE9mKGEpPi0xfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtiPi0xJiYodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpKX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnZhbHVlc1tiXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmtleXMubGVuZ3RoPTAsdGhpcy52YWx1ZXMubGVuZ3RoPTB9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXt0aGlzLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YS5jYWxsKGIsYyx0aGlzLmtleXNbZF0sdGhpcyl9LHRoaXMpfSxwb2ludGVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleXMubGVuZ3RofX0sYS5Qb2ludGVyTWFwPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0IiwiYnV0dG9ucyIsInBvaW50ZXJJZCIsIndpZHRoIiwiaGVpZ2h0IiwicHJlc3N1cmUiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJod1RpbWVzdGFtcCIsImlzUHJpbWFyeSIsInR5cGUiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0Iiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwidGFwUHJldmVudGVkIl0sYz1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLDAsMCwwLDAsMCwwLDAsIiIsMCwhMSwiIixudWxsLG51bGwsMCwwLDAsMF0sZD17aGFuZGxlZEV2ZW50czpuZXcgV2Vha01hcCx0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZXJzOnt9LHJlY29nbml6ZXJzOnt9LGV2ZW50czp7fSxyZWdpc3RlclJlY29nbml6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iO3RoaXMucmVjb2duaXplcnNbYV09YyxjLmV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGNbYV0pe3RoaXMuZXZlbnRzW2FdPSEwO3ZhciBiPWNbYV0uYmluZChjKTt0aGlzLmFkZEhhbmRsZXIoYSxiKX19LHRoaXMpfSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YTt0aGlzLmhhbmRsZXJzW2NdfHwodGhpcy5oYW5kbGVyc1tjXT1bXSksdGhpcy5oYW5kbGVyc1tjXS5wdXNoKGIpfSxyZWdpc3RlclRhcmdldDpmdW5jdGlvbihhKXt0aGlzLmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LHVucmVnaXN0ZXJUYXJnZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihhKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChhKSl7dmFyIGI9YS50eXBlLGM9dGhpcy5oYW5kbGVyc1tiXTtjJiZ0aGlzLm1ha2VRdWV1ZShjLGEpLHRoaXMuaGFuZGxlZEV2ZW50cy5zZXQoYSwhMCl9fSxtYWtlUXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNsb25lRXZlbnQoYik7c2V0VGltZW91dCh0aGlzLnJ1blF1ZXVlLmJpbmQodGhpcyxhLGMpLDApfSxydW5RdWV1ZTpmdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFBvaW50ZXJJZD1iLnBvaW50ZXJJZDtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspYyhiKTt0aGlzLmN1cnJlbnRQb2ludGVySWQ9MH0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuYWRkRXZlbnQoYSx0aGlzLmJvdW5kSGFuZGxlciwhMSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUV2ZW50KGEsdGhpcy5ib3VuZEhhbmRsZXIsITEsaW5UYXJnZXQpfSx0aGlzKX0sYWRkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5hZGRFdmVudExpc3RlbmVyKGEsYixjKX0scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKX0sbWFrZUV2ZW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBQb2ludGVyR2VzdHVyZUV2ZW50KGEsYil9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBkLGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKWQ9YltmXSxlW2RdPWFbZF18fGNbZl07cmV0dXJuIGV9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnRhcmdldHMuZ2V0KGEpO2MmJihjLmRpc3BhdGNoRXZlbnQoYSksYS50YXBQcmV2ZW50ZWQmJnRoaXMucHJldmVudFRhcCh0aGlzLmN1cnJlbnRQb2ludGVySWQpKX0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoYSxiKX0uYmluZCh0aGlzKTtzZXRUaW1lb3V0KGMsMCl9LHByZXZlbnRUYXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWNvZ25pemVycy50YXA7YiYmYi5wcmV2ZW50VGFwKGEpfX07ZC5ib3VuZEhhbmRsZXI9ZC5ldmVudEhhbmRsZXIuYmluZChkKSxhLmRpc3BhdGNoZXI9ZDt2YXIgZT1bXSxmPSExO2EucmVnaXN0ZXI9ZnVuY3Rpb24oYil7aWYoZil7dmFyIGM9d2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbDtjJiZjLnJlZ2lzdGVyKGIpLGEuZGlzcGF0Y2hlci5yZWdpc3RlclRhcmdldChiKX1lbHNlIGUucHVzaChiKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtmPSEwLGUucHVzaChkb2N1bWVudCksZS5mb3JFYWNoKGEucmVnaXN0ZXIpfSl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPXtIT0xEX0RFTEFZOjIwMCxXSUdHTEVfVEhSRVNIT0xEOjE2LGV2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0saGVsZFBvaW50ZXI6bnVsbCxob2xkSm9iOm51bGwscHVsc2U6ZnVuY3Rpb24oKXt2YXIgYT1EYXRlLm5vdygpLXRoaXMuaGVsZFBvaW50ZXIudGltZVN0YW1wLGI9dGhpcy5oZWxkPyJob2xkcHVsc2UiOiJob2xkIjt0aGlzLmZpcmVIb2xkKGIsYSksdGhpcy5oZWxkPSEwfSxjYW5jZWw6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuaG9sZEpvYiksdGhpcy5oZWxkJiZ0aGlzLmZpcmVIb2xkKCJyZWxlYXNlIiksdGhpcy5oZWxkPSExLHRoaXMuaGVsZFBvaW50ZXI9bnVsbCx0aGlzLnRhcmdldD1udWxsLHRoaXMuaG9sZEpvYj1udWxsfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMuaGVsZFBvaW50ZXImJih0aGlzLmhlbGRQb2ludGVyPWEsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5ob2xkSm9iPXNldEludGVydmFsKHRoaXMucHVsc2UuYmluZCh0aGlzKSx0aGlzLkhPTERfREVMQVkpKX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3RoaXMuaGVsZFBvaW50ZXImJnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkPT09YS5wb2ludGVySWQmJnRoaXMuY2FuY2VsKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkKXt2YXIgYj1hLmNsaWVudFgtdGhpcy5oZWxkUG9pbnRlci5jbGllbnRYLGM9YS5jbGllbnRZLXRoaXMuaGVsZFBvaW50ZXIuY2xpZW50WTtiKmIrYypjPnRoaXMuV0lHR0xFX1RIUkVTSE9MRCYmdGhpcy5jYW5jZWwoKX19LGZpcmVIb2xkOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9e3BvaW50ZXJUeXBlOnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlclR5cGV9O2MmJihkLmhvbGRUaW1lPWMpO3ZhciBlPWIubWFrZUV2ZW50KGEsZCk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy50YXJnZXQpLGUudGFwUHJldmVudGVkJiZiLnByZXZlbnRUYXAodGhpcy5oZWxkUG9pbnRlci5wb2ludGVySWQpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImhvbGQiLGMpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1uZXcgYS5Qb2ludGVyTWFwLGQ9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0sV0lHR0xFX1RIUkVTSE9MRDo0LGNsYW1wRGlyOmZ1bmN0aW9uKGEpe3JldHVybiBhPjA/MTotMX0sY2FsY1Bvc2l0aW9uRGVsdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9MDtyZXR1cm4gYSYmYiYmKGM9Yi5wYWdlWC1hLnBhZ2VYLGQ9Yi5wYWdlWS1hLnBhZ2VZKSx7eDpjLHk6ZH19LGZpcmVUcmFjazpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCxmPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoZS5kb3duRXZlbnQsYyksZz10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGUubGFzdE1vdmVFdmVudCxjKTtnLngmJihlLnhEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLngpKSxnLnkmJihlLnlEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLnkpKTt2YXIgaD17ZHg6Zi54LGR5OmYueSxkZHg6Zy54LGRkeTpnLnksY2xpZW50WDpjLmNsaWVudFgsY2xpZW50WTpjLmNsaWVudFkscGFnZVg6Yy5wYWdlWCxwYWdlWTpjLnBhZ2VZLHNjcmVlblg6Yy5zY3JlZW5YLHNjcmVlblk6Yy5zY3JlZW5ZLHhEaXJlY3Rpb246ZS54RGlyZWN0aW9uLHlEaXJlY3Rpb246ZS55RGlyZWN0aW9uLHRyYWNrSW5mbzplLnRyYWNrSW5mbyxyZWxhdGVkVGFyZ2V0OmMudGFyZ2V0LHBvaW50ZXJUeXBlOmMucG9pbnRlclR5cGV9LGk9Yi5tYWtlRXZlbnQoYSxoKTtlLmxhc3RNb3ZlRXZlbnQ9YyxiLmRpc3BhdGNoRXZlbnQoaSxlLmRvd25UYXJnZXQpfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSYmKCJtb3VzZSI9PT1hLnBvaW50ZXJUeXBlPzE9PT1hLmJ1dHRvbnM6ITApKXt2YXIgYj17ZG93bkV2ZW50OmEsZG93blRhcmdldDphLnRhcmdldCx0cmFja0luZm86e30sbGFzdE1vdmVFdmVudDpudWxsLHhEaXJlY3Rpb246MCx5RGlyZWN0aW9uOjAsdHJhY2tpbmc6ITF9O2Muc2V0KGEucG9pbnRlcklkLGIpfX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2lmKGIpaWYoYi50cmFja2luZyl0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYik7ZWxzZXt2YXIgZD10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGIuZG93bkV2ZW50LGEpLGU9ZC54KmQueCtkLnkqZC55O2U+dGhpcy5XSUdHTEVfVEhSRVNIT0xEJiYoYi50cmFja2luZz0hMCx0aGlzLmZpcmVUcmFjaygidHJhY2tzdGFydCIsYi5kb3duRXZlbnQsYiksdGhpcy5maXJlVHJhY2soInRyYWNrIixhLGIpKX19LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7YiYmKGIudHJhY2tpbmcmJnRoaXMuZmlyZVRyYWNrKCJ0cmFja2VuZCIsYSxiKSxjLmRlbGV0ZShhLnBvaW50ZXJJZCkpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe3RoaXMucG9pbnRlcnVwKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRyYWNrIixkKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9e01JTl9WRUxPQ0lUWTouNSxNQVhfUVVFVUU6NCxtb3ZlUXVldWU6W10sdGFyZ2V0Om51bGwscG9pbnRlcklkOm51bGwsZXZlbnRzOlsicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiXSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMucG9pbnRlcklkJiYodGhpcy5wb2ludGVySWQ9YS5wb2ludGVySWQsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5hZGRNb3ZlKGEpKX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5hZGRNb3ZlKGEpfSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5maXJlRmxpY2soYSksdGhpcy5jbGVhbnVwKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0sY2xlYW51cDpmdW5jdGlvbigpe3RoaXMubW92ZVF1ZXVlPVtdLHRoaXMudGFyZ2V0PW51bGwsdGhpcy5wb2ludGVySWQ9bnVsbH0sYWRkTW92ZTpmdW5jdGlvbihhKXt0aGlzLm1vdmVRdWV1ZS5sZW5ndGg+PXRoaXMuTUFYX1FVRVVFJiZ0aGlzLm1vdmVRdWV1ZS5zaGlmdCgpLHRoaXMubW92ZVF1ZXVlLnB1c2goYSl9LGZpcmVGbGljazpmdW5jdGlvbihhKXtmb3IodmFyIGMsZCxlLGYsZyxoLGksaj1hLGs9dGhpcy5tb3ZlUXVldWUubGVuZ3RoLGw9MCxtPTAsbj0wLG89MDtrPm8mJihpPXRoaXMubW92ZVF1ZXVlW29dKTtvKyspYz1qLnRpbWVTdGFtcC1pLnRpbWVTdGFtcCxkPWouY2xpZW50WC1pLmNsaWVudFgsZT1qLmNsaWVudFktaS5jbGllbnRZLGY9ZC9jLGc9ZS9jLGg9TWF0aC5zcXJ0KGYqZitnKmcpLGg+biYmKGw9ZixtPWcsbj1oKTt2YXIgcD1NYXRoLmFicyhsKT5NYXRoLmFicyhtKT8ieCI6InkiLHE9dGhpcy5jYWxjQW5nbGUobCxtKTtpZihNYXRoLmFicyhuKT49dGhpcy5NSU5fVkVMT0NJVFkpe3ZhciByPWIubWFrZUV2ZW50KCJmbGljayIse3hWZWxvY2l0eTpsLHlWZWxvY2l0eTptLHZlbG9jaXR5Om4sYW5nbGU6cSxtYWpvckF4aXM6cCxwb2ludGVyVHlwZTphLnBvaW50ZXJUeXBlfSk7Yi5kaXNwYXRjaEV2ZW50KHIsdGhpcy50YXJnZXQpfX0sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGIsYSkvTWF0aC5QSX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJmbGljayIsYyl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPW5ldyBhLlBvaW50ZXJNYXAsZD0xODAvTWF0aC5QSSxlPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHJlZmVyZW5jZTp7fSxwb2ludGVyZG93bjpmdW5jdGlvbihiKXtpZihjLnNldChiLnBvaW50ZXJJZCxiKSwyPT1jLnBvaW50ZXJzKCkpe3ZhciBkPXRoaXMuY2FsY0Nob3JkKCksZT10aGlzLmNhbGNBbmdsZShkKTt0aGlzLnJlZmVyZW5jZT17YW5nbGU6ZSxkaWFtZXRlcjpkLmRpYW1ldGVyLHRhcmdldDphLmZpbmRMQ0EoZC5hLnRhcmdldCxkLmIudGFyZ2V0KX19fSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtjLmhhcyhhLnBvaW50ZXJJZCkmJihjLnNldChhLnBvaW50ZXJJZCxhKSxjLnBvaW50ZXJzKCk+MSYmdGhpcy5jYWxjUGluY2hSb3RhdGUoKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9LGRpc3BhdGNoUGluY2g6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hL3RoaXMucmVmZXJlbmNlLmRpYW1ldGVyLGU9Yi5tYWtlRXZlbnQoInBpbmNoIix7c2NhbGU6ZCxjZW50ZXJYOmMuY2VudGVyLngsY2VudGVyWTpjLmNlbnRlci55fSk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy5yZWZlcmVuY2UudGFyZ2V0KX0sZGlzcGF0Y2hSb3RhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD1NYXRoLnJvdW5kKChhLXRoaXMucmVmZXJlbmNlLmFuZ2xlKSUzNjApLGU9Yi5tYWtlRXZlbnQoInJvdGF0ZSIse2FuZ2xlOmQsY2VudGVyWDpjLmNlbnRlci54LGNlbnRlclk6Yy5jZW50ZXIueX0pO2IuZGlzcGF0Y2hFdmVudChlLHRoaXMucmVmZXJlbmNlLnRhcmdldCl9LGNhbGNQaW5jaFJvdGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FsY0Nob3JkKCksYj1hLmRpYW1ldGVyLGM9dGhpcy5jYWxjQW5nbGUoYSk7YiE9dGhpcy5yZWZlcmVuY2UuZGlhbWV0ZXImJnRoaXMuZGlzcGF0Y2hQaW5jaChiLGEpLGMhPXRoaXMucmVmZXJlbmNlLmFuZ2xlJiZ0aGlzLmRpc3BhdGNoUm90YXRlKGMsYSl9LGNhbGNDaG9yZDpmdW5jdGlvbigpe3ZhciBhPVtdO2MuZm9yRWFjaChmdW5jdGlvbihiKXthLnB1c2goYil9KTtmb3IodmFyIGIsZCxlLGY9MCxnPXt9LGg9MDtoPGEubGVuZ3RoO2grKylmb3IodmFyIGk9YVtoXSxqPWgrMTtqPGEubGVuZ3RoO2orKyl7dmFyIGs9YVtqXTtiPU1hdGguYWJzKGkuY2xpZW50WC1rLmNsaWVudFgpLGQ9TWF0aC5hYnMoaS5jbGllbnRZLWsuY2xpZW50WSksZT1iK2QsZT5mJiYoZj1lLGc9e2E6aSxiOmt9KX1yZXR1cm4gYj1NYXRoLmFicyhnLmEuY2xpZW50WCtnLmIuY2xpZW50WCkvMixkPU1hdGguYWJzKGcuYS5jbGllbnRZK2cuYi5jbGllbnRZKS8yLGcuY2VudGVyPXt4OmIseTpkfSxnLmRpYW1ldGVyPWYsZ30sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYS5jbGllbnRYLWEuYi5jbGllbnRYLGM9YS5hLmNsaWVudFktYS5iLmNsaWVudFk7cmV0dXJuKDM2MCtNYXRoLmF0YW4yKGMsYikqZCklMzYwfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInBpbmNoIixlKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsImtleXVwIl0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiFhLnRhcFByZXZlbnRlZCYmYy5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCx4OmEuY2xpZW50WCx5OmEuY2xpZW50WX0pfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2ImJmEudGFwUHJldmVudGVkJiZjLmRlbGV0ZShhLnBvaW50ZXJJZCl9fSxwb2ludGVydXA6ZnVuY3Rpb24oZCl7dmFyIGU9Yy5nZXQoZC5wb2ludGVySWQpO2lmKGUmJiFkLnRhcFByZXZlbnRlZCl7dmFyIGY9YS5maW5kTENBKGUudGFyZ2V0LGQudGFyZ2V0KTtpZihmKXt2YXIgZz1iLm1ha2VFdmVudCgidGFwIix7eDpkLmNsaWVudFgseTpkLmNsaWVudFksZGV0YWlsOmQuZGV0YWlsLHBvaW50ZXJUeXBlOmQucG9pbnRlclR5cGV9KTtiLmRpc3BhdGNoRXZlbnQoZyxmKX19Yy5kZWxldGUoZC5wb2ludGVySWQpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEucG9pbnRlcklkKX0sa2V5dXA6ZnVuY3Rpb24oYSl7dmFyIGM9YS5rZXlDb2RlO2lmKDMyPT09Yyl7dmFyIGQ9YS50YXJnZXQ7ZCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnR8fGQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50fHxiLmRpc3BhdGNoRXZlbnQoYi5tYWtlRXZlbnQoInRhcCIse3g6MCx5OjAsZGV0YWlsOjAscG9pbnRlclR5cGU6InVuYXZhaWxhYmxlIn0pLGQpfX0scHJldmVudFRhcDpmdW5jdGlvbihhKXtjLmRlbGV0ZShhKX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJ0YXAiLGQpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe2Zvcig7YS5wYXJlbnROb2RlOylhPWEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gYihhLGIpe3ZhciBjPWEuYmluZGluZ3M7aWYoIWMpcmV0dXJuIHZvaWQoYS5iaW5kaW5ncz17fSk7dmFyIGQ9Y1tiXTtkJiYoZC5jbG9zZSgpLGNbYl09dm9pZCAwKX1mdW5jdGlvbiBjKGEpe3JldHVybiBudWxsPT1hPyIiOmF9ZnVuY3Rpb24gZChhLGIpe2EuZGF0YT1jKGIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBkKGEsYil9fWZ1bmN0aW9uIGYoYSxiLGQsZSl7cmV0dXJuIGQ/dm9pZChlP2Euc2V0QXR0cmlidXRlKGIsIiIpOmEucmVtb3ZlQXR0cmlidXRlKGIpKTp2b2lkIGEuc2V0QXR0cmlidXRlKGIsYyhlKSl9ZnVuY3Rpb24gZyhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2YoYSxiLGMsZCl9fWZ1bmN0aW9uIGgoYSl7c3dpdGNoKGEudHlwZSl7Y2FzZSJjaGVja2JveCI6cmV0dXJuIHM7Y2FzZSJyYWRpbyI6Y2FzZSJzZWxlY3QtbXVsdGlwbGUiOmNhc2Uic2VsZWN0LW9uZSI6cmV0dXJuImNoYW5nZSI7Y2FzZSJyYW5nZSI6aWYoL1RyaWRlbnR8TVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlyZXR1cm4iY2hhbmdlIjtkZWZhdWx0OnJldHVybiJpbnB1dCJ9fWZ1bmN0aW9uIGkoYSxiLGQsZSl7YVtiXT0oZXx8YykoZCl9ZnVuY3Rpb24gaihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBpKGEsYixkLGMpfX1mdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIGwoYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2Muc2V0VmFsdWUoYVtiXSksYy5kaXNjYXJkQ2hhbmdlcygpLChkfHxrKShhKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfXZhciBmPWgoYSk7YS5hZGRFdmVudExpc3RlbmVyKGYsZSk7dmFyIGc9Yy5jbG9zZTtjLmNsb3NlPWZ1bmN0aW9uKCl7ZyYmKGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihmLGUpLGMuY2xvc2U9ZyxjLmNsb3NlKCksZz12b2lkIDApfX1mdW5jdGlvbiBtKGEpe3JldHVybiBCb29sZWFuKGEpfWZ1bmN0aW9uIG4oYil7aWYoYi5mb3JtKXJldHVybiByKGIuZm9ybS5lbGVtZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIklOUFVUIj09YS50YWdOYW1lJiYicmFkaW8iPT1hLnR5cGUmJmEubmFtZT09Yi5uYW1lfSk7dmFyIGM9YShiKTtpZighYylyZXR1cm5bXTt2YXIgZD1jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl1bbmFtZT0iJytiLm5hbWUrJyJdJyk7cmV0dXJuIHIoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIWEuZm9ybX0pfWZ1bmN0aW9uIG8oYSl7IklOUFVUIj09PWEudGFnTmFtZSYmInJhZGlvIj09PWEudHlwZSYmbihhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEuYmluZGluZ3MuY2hlY2tlZDtiJiZiLnNldFZhbHVlKCExKX0pfWZ1bmN0aW9uIHAoYSxiKXt2YXIgZCxlLGYsZz1hLnBhcmVudE5vZGU7ZyBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50JiZnLmJpbmRpbmdzJiZnLmJpbmRpbmdzLnZhbHVlJiYoZD1nLGU9ZC5iaW5kaW5ncy52YWx1ZSxmPWQudmFsdWUpLGEudmFsdWU9YyhiKSxkJiZkLnZhbHVlIT1mJiYoZS5zZXRWYWx1ZShkLnZhbHVlKSxlLmRpc2NhcmRDaGFuZ2VzKCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSl9ZnVuY3Rpb24gcShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cChhLGIpfX12YXIgcj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKTsiZnVuY3Rpb24iIT10eXBlb2YgZG9jdW1lbnQuY29udGFpbnMmJihEb2N1bWVudC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzfHxhLnBhcmVudE5vZGU9PT10aGlzPyEwOnRoaXMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGEpfSksTm9kZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBiaW5kaW5nIHRvIE5vZGU6ICIsdGhpcyxhLGIpfSxOb2RlLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oYSl7Yih0aGlzLGEpfSxOb2RlLnByb3RvdHlwZS51bmJpbmRBbGw9ZnVuY3Rpb24oKXtpZih0aGlzLmJpbmRpbmdzKXtmb3IodmFyIGE9T2JqZWN0LmtleXModGhpcy5iaW5kaW5ncyksYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmJpbmRpbmdzW2FbYl1dO2MmJmMuY2xvc2UoKX10aGlzLmJpbmRpbmdzPXt9fX0sVGV4dC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZil7cmV0dXJuInRleHRDb250ZW50IiE9PWE/Tm9kZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxjLGYpOmY/ZCh0aGlzLGMpOihiKHRoaXMsInRleHRDb250ZW50IiksZCh0aGlzLGMub3BlbihlKHRoaXMpKSksdGhpcy5iaW5kaW5ncy50ZXh0Q29udGVudD1jKX0sRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7dmFyIGU9Ij8iPT1hW2EubGVuZ3RoLTFdO3JldHVybiBlJiYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksYT1hLnNsaWNlKDAsLTEpKSxkP2YodGhpcyxhLGUsYyk6KGIodGhpcyxhKSxmKHRoaXMsYSxlLGMub3BlbihnKHRoaXMsYSxlKSkpLHRoaXMuYmluZGluZ3NbYV09Yyl9O3ZhciBzOyFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGI9YS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7dmFyIGMsZD0wO2IuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNsaWNrIn0pLGIuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixmdW5jdGlvbigpe2QrKyxjPWN8fCJjaGFuZ2UifSk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKTtlLmluaXRNb3VzZUV2ZW50KCJjbGljayIsITAsITAsd2luZG93LDAsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGwpLGIuZGlzcGF0Y2hFdmVudChlKSxzPTE9PWQ/ImNoYW5nZSI6Y30oKSxIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsZCxlKXtpZigidmFsdWUiIT09YSYmImNoZWNrZWQiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsZCxlKTt0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKTt2YXIgZj0iY2hlY2tlZCI9PWE/bTpjLGc9ImNoZWNrZWQiPT1hP286aztyZXR1cm4gZT9pKHRoaXMsYSxkLGYpOihiKHRoaXMsYSksbCh0aGlzLGEsZCxnKSxpKHRoaXMsYSxkLm9wZW4oaih0aGlzLGEsZikpLGYpLHRoaXMuYmluZGluZ3NbYV09ZCl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxkLGUpe3JldHVybiJ2YWx1ZSIhPT1hP0hUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGQsZSk6KHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGU/aSh0aGlzLCJ2YWx1ZSIsZCk6KGIodGhpcywidmFsdWUiKSxsKHRoaXMsInZhbHVlIixkKSxpKHRoaXMsInZhbHVlIixkLm9wZW4oaih0aGlzLCJ2YWx1ZSIsYykpKSx0aGlzLmJpbmRpbmdzLnZhbHVlPWQpKX0sSFRNTE9wdGlvbkVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJ2YWx1ZSIhPT1hP0hUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk6KHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGQ/cCh0aGlzLGMpOihiKHRoaXMsInZhbHVlIiksbCh0aGlzLCJ2YWx1ZSIsYykscCh0aGlzLGMub3BlbihxKHRoaXMpKSksdGhpcy5iaW5kaW5ncy52YWx1ZT1jKSl9LEhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4ic2VsZWN0ZWRpbmRleCI9PT1hJiYoYT0ic2VsZWN0ZWRJbmRleCIpLCJzZWxlY3RlZEluZGV4IiE9PWEmJiJ2YWx1ZSIhPT1hP0hUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk6KHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLGQ/aSh0aGlzLGEsYyk6KGIodGhpcyxhKSxsKHRoaXMsYSxjKSxpKHRoaXMsYSxjLm9wZW4oaih0aGlzLGEpKSksdGhpcy5iaW5kaW5nc1thXT1jKSl9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYjtiPWEucGFyZW50Tm9kZTspYT1iO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtmb3IodmFyIGQsZT0iIyIrYjshZCYmKGE9YyhhKSxhLnByb3RvQ29udGVudF8/ZD1hLnByb3RvQ29udGVudF8ucXVlcnlTZWxlY3RvcihlKTphLmdldEVsZW1lbnRCeUlkJiYoZD1hLmdldEVsZW1lbnRCeUlkKGIpKSwhZCYmYS50ZW1wbGF0ZUNyZWF0b3JfKTspYT1hLnRlbXBsYXRlQ3JlYXRvcl87cmV0dXJuIGR9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuInRlbXBsYXRlIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBmKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZSYmImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBnKGEpe3JldHVybiBCb29sZWFuKEpbYS50YWdOYW1lXSYmYS5oYXNBdHRyaWJ1dGUoInRlbXBsYXRlIikpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIHZvaWQgMD09PWEuaXNUZW1wbGF0ZV8mJihhLmlzVGVtcGxhdGVfPSJURU1QTEFURSI9PWEudGFnTmFtZXx8ZyhhKSksYS5pc1RlbXBsYXRlX31mdW5jdGlvbiBpKGEsYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKEwpO2goYSkmJmIoYSksRShjLGIpfWZ1bmN0aW9uIGooYSl7ZnVuY3Rpb24gYihhKXtIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGEpfHxqKGEuY29udGVudCl9aShhLGIpfWZ1bmN0aW9uIGsoYSxiKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpKX0pfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLmRlZmF1bHRWaWV3KXJldHVybiBiO3ZhciBjPWIudGVtcGxhdGVDb250ZW50c093bmVyXztpZighYyl7Zm9yKGM9Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2MubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGMubGFzdENoaWxkKTtiLnRlbXBsYXRlQ29udGVudHNPd25lcl89Y31yZXR1cm4gY31mdW5jdGlvbiBtKGEpe2lmKCFhLnN0YWdpbmdEb2N1bWVudF8pe3ZhciBiPWEub3duZXJEb2N1bWVudDtiLnN0YWdpbmdEb2N1bWVudF98fChiLnN0YWdpbmdEb2N1bWVudF89Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGIuc3RhZ2luZ0RvY3VtZW50Xy5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50XyksYS5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31yZXR1cm4gYS5zdGFnaW5nRG9jdW1lbnRffWZ1bmN0aW9uIG4oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07SVtlLm5hbWVdJiYoInRlbXBsYXRlIiE9PWUubmFtZSYmYi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSkpfXJldHVybiBifWZ1bmN0aW9uIG8oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07Yi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSl9cmV0dXJuIGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxifWZ1bmN0aW9uIHAoYSxiLGMpe3ZhciBkPWEuY29udGVudDtpZihjKXJldHVybiB2b2lkIGQuYXBwZW5kQ2hpbGQoYik7Zm9yKHZhciBlO2U9Yi5maXJzdENoaWxkOylkLmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIHEoYSl7Tj9hLl9fcHJvdG9fXz1IVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZTprKGEsSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUpfWZ1bmN0aW9uIHIoYSl7YS5zZXRNb2RlbEZuX3x8KGEuc2V0TW9kZWxGbl89ZnVuY3Rpb24oKXthLnNldE1vZGVsRm5TY2hlZHVsZWRfPSExO3ZhciBiPXooYSxhLmRlbGVnYXRlXyYmYS5kZWxlZ2F0ZV8ucHJlcGFyZUJpbmRpbmcpO3coYSxiLGEubW9kZWxfKX0pLGEuc2V0TW9kZWxGblNjaGVkdWxlZF98fChhLnNldE1vZGVsRm5TY2hlZHVsZWRfPSEwLE9ic2VydmVyLnJ1bkVPTV8oYS5zZXRNb2RlbEZuXykpfWZ1bmN0aW9uIHMoYSxiLGMsZCl7aWYoYSYmYS5sZW5ndGgpe2Zvcih2YXIgZSxmPWEubGVuZ3RoLGc9MCxoPTAsaT0wLGo9ITA7Zj5oOyl7dmFyIGc9YS5pbmRleE9mKCJ7eyIsaCksaz1hLmluZGV4T2YoIltbIixoKSxsPSExLG09In19IjtpZihrPj0wJiYoMD5nfHxnPmspJiYoZz1rLGw9ITAsbT0iXV0iKSxpPTA+Zz8tMTphLmluZGV4T2YobSxnKzIpLDA+aSl7aWYoIWUpcmV0dXJuO2UucHVzaChhLnNsaWNlKGgpKTticmVha31lPWV8fFtdLGUucHVzaChhLnNsaWNlKGgsZykpO3ZhciBuPWEuc2xpY2UoZysyLGkpLnRyaW0oKTtlLnB1c2gobCksaj1qJiZsLGUucHVzaChQYXRoLmdldChuKSk7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGIuaXNUZW1wbGF0ZSl7YS5tb2RlbF89Yzt2YXIgaj1hLnByb2Nlc3NCaW5kaW5nRGlyZWN0aXZlc18oYik7ZCYmaiYmZC5wdXNoKGopfX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShiKTtyZXR1cm4gcygiIj09ZD8ie3t9fSI6ZCxiLGEsYyl9ZnVuY3Rpb24geShhLGMpe2IoYSk7Zm9yKHZhciBkPVtdLGU9MDtlPGEuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKXtmb3IodmFyIGY9YS5hdHRyaWJ1dGVzW2VdLGc9Zi5uYW1lLGk9Zi52YWx1ZTsiXyI9PT1nWzBdOylnPWcuc3Vic3RyaW5nKDEpO2lmKCFoKGEpfHxnIT09SCYmZyE9PUYmJmchPT1HKXt2YXIgaj1zKGksZyxhLGMpO2omJmQucHVzaChnLGopfX1yZXR1cm4gaChhKSYmKGQuaXNUZW1wbGF0ZT0hMCxkLmlmPXgoYSxILGMpLGQuYmluZD14KGEsRixjKSxkLnJlcGVhdD14KGEsRyxjKSwhZC5pZnx8ZC5iaW5kfHxkLnJlcGVhdHx8KGQuYmluZD1zKCJ7e319IixGLGEsYykpKSxkfWZ1bmN0aW9uIHooYSxiKXtpZihhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpcmV0dXJuIHkoYSxiKTtpZihhLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUpe3ZhciBjPXMoYS5kYXRhLCJ0ZXh0Q29udGVudCIsYSxiKTtpZihjKXJldHVyblsidGV4dENvbnRlbnQiLGNdfXJldHVybltdfWZ1bmN0aW9uIEEoYSxiLGMsZCxlLGYsZyl7Zm9yKHZhciBoPWIuYXBwZW5kQ2hpbGQoYy5pbXBvcnROb2RlKGEsITEpKSxpPTAsaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpQShqLGgsYyxkLmNoaWxkcmVuW2krK10sZSxmLGcpO3JldHVybiBkLmlzVGVtcGxhdGUmJihIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGgsYSksZiYmaC5zZXREZWxlZ2F0ZV8oZikpLHcoaCxkLGUsZyksaH1mdW5jdGlvbiBCKGEsYil7dmFyIGM9eihhLGIpO2MuY2hpbGRyZW49e307Zm9yKHZhciBkPTAsZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYy5jaGlsZHJlbltkKytdPUIoZSxiKTtyZXR1cm4gY31mdW5jdGlvbiBDKGEpe3RoaXMuY2xvc2VkPSExLHRoaXMudGVtcGxhdGVFbGVtZW50Xz1hLHRoaXMudGVybWluYXRvcnM9W10sdGhpcy5kZXBzPXZvaWQgMCx0aGlzLml0ZXJhdGVkVmFsdWU9W10sdGhpcy5wcmVzZW50VmFsdWU9dm9pZCAwLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDB9dmFyIEQsRT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EuTWFwJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5NYXAucHJvdG90eXBlLmZvckVhY2g/RD1hLk1hcDooRD1mdW5jdGlvbigpe3RoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX0sRC5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpOzA+Yz8odGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSk6dGhpcy52YWx1ZXNbY109Yn0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO2lmKCEoMD5iKSlyZXR1cm4gdGhpcy52YWx1ZXNbYl19LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiAwPmI/ITE6KHRoaXMua2V5cy5zcGxpY2UoYiwxKSx0aGlzLnZhbHVlcy5zcGxpY2UoYiwxKSwhMCl9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPHRoaXMua2V5cy5sZW5ndGg7YysrKWEuY2FsbChifHx0aGlzLHRoaXMudmFsdWVzW2NdLHRoaXMua2V5c1tjXSx0aGlzKX19KTsiZnVuY3Rpb24iIT10eXBlb2YgZG9jdW1lbnQuY29udGFpbnMmJihEb2N1bWVudC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzfHxhLnBhcmVudE5vZGU9PT10aGlzPyEwOnRoaXMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGEpfSk7dmFyIEY9ImJpbmQiLEc9InJlcGVhdCIsSD0iaWYiLEk9e3RlbXBsYXRlOiEwLHJlcGVhdDohMCxiaW5kOiEwLHJlZjohMH0sSj17VEhFQUQ6ITAsVEJPRFk6ITAsVEZPT1Q6ITAsVEg6ITAsVFI6ITAsVEQ6ITAsQ09MR1JPVVA6ITAsQ09MOiEwLENBUFRJT046ITAsT1BUSU9OOiEwLE9QVEdST1VQOiEwfSxLPSJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCxMPSJ0ZW1wbGF0ZSwgIitPYmplY3Qua2V5cyhKKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKSsiW3RlbXBsYXRlXSJ9KS5qb2luKCIsICIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aihkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLEt8fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBNLE49Il9fcHJvdG9fXyJpbnt9OyJmdW5jdGlvbiI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyJiYoTT1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnRhcmdldC5yZWZDaGFuZ2VkXygpfSkpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGU9ZnVuY3Rpb24oYSxjKXtpZihhLnRlbXBsYXRlSXNEZWNvcmF0ZWRfKXJldHVybiExO3ZhciBkPWE7ZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMDt2YXIgaD1mKGQpJiZLLGk9aCxrPSFoLG09ITE7aWYoaHx8KGcoZCk/KGIoIWMpLGQ9bihhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGg9SyxtPSEwKTplKGQpJiYoZD1vKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1LKSksIWgpe3EoZCk7dmFyIHI9bChkKTtkLmNvbnRlbnRfPXIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpCn1yZXR1cm4gYz9kLmluc3RhbmNlUmVmXz1jOms/cChkLGEsbSk6aSYmaihkLmNvbnRlbnQpLCEwfSxIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcD1qO3ZhciBPPWEuSFRNTFVua25vd25FbGVtZW50fHxIVE1MRWxlbWVudCxQPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50X30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9O0t8fChIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE8ucHJvdG90eXBlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUsImNvbnRlbnQiLFApKSxrKEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtpZigicmVmIiE9YSlyZXR1cm4gRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO3ZhciBkPXRoaXMsZT1jP2I6Yi5vcGVuKGZ1bmN0aW9uKGEpe2Quc2V0QXR0cmlidXRlKCJyZWYiLGEpLGQucmVmQ2hhbmdlZF8oKX0pO3JldHVybiB0aGlzLnNldEF0dHJpYnV0ZSgicmVmIixlKSx0aGlzLnJlZkNoYW5nZWRfKCksYz92b2lkIDA6KHRoaXMudW5iaW5kKCJyZWYiKSx0aGlzLmJpbmRpbmdzLnJlZj1iKX0scHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEModGhpcyksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzfHx7fSx0aGlzLmJpbmRpbmdzLml0ZXJhdG9yPXRoaXMuaXRlcmF0b3JfKSx0aGlzLml0ZXJhdG9yXy51cGRhdGVEZXBlbmRlbmNpZXMoYSx0aGlzLm1vZGVsXyksTSYmTS5vYnNlcnZlKHRoaXMse2F0dHJpYnV0ZXM6ITAsYXR0cmlidXRlRmlsdGVyOlsicmVmIl19KSx0aGlzLml0ZXJhdG9yXyk6dm9pZCh0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwLHRoaXMuYmluZGluZ3MuaXRlcmF0b3I9dm9pZCAwKSl9LGNyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGEsYixjLGQpe2ImJihjPXRoaXMubmV3RGVsZWdhdGVfKGIpKSx0aGlzLnJlZkNvbnRlbnRffHwodGhpcy5yZWZDb250ZW50Xz10aGlzLnJlZl8uY29udGVudCk7dmFyIGU9dGhpcy5yZWZDb250ZW50XyxmPXRoaXMuYmluZGluZ01hcF87ZiYmZi5jb250ZW50PT09ZXx8KGY9QihlLGMmJmMucHJlcGFyZUJpbmRpbmcpfHxbXSxmLmNvbnRlbnQ9ZSx0aGlzLmJpbmRpbmdNYXBfPWYpO3ZhciBnPW0odGhpcyksaD1nLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtoLnRlbXBsYXRlQ3JlYXRvcl89dGhpcyxoLnByb3RvQ29udGVudF89ZTtmb3IodmFyIGk9e2ZpcnN0Tm9kZTpudWxsLGxhc3ROb2RlOm51bGwsbW9kZWw6YX0saj0wLGs9ZS5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXt2YXIgbD1BKGssaCxnLGYuY2hpbGRyZW5baisrXSxhLGMsZCk7bC50ZW1wbGF0ZUluc3RhbmNlXz1pfXJldHVybiBpLmZpcnN0Tm9kZT1oLmZpcnN0Q2hpbGQsaS5sYXN0Tm9kZT1oLmxhc3RDaGlsZCxoLnRlbXBsYXRlQ3JlYXRvcl89dm9pZCAwLGgucHJvdG9Db250ZW50Xz12b2lkIDAsaH0sZ2V0IG1vZGVsKCl7cmV0dXJuIHRoaXMubW9kZWxffSxzZXQgbW9kZWwoYSl7dGhpcy5tb2RlbF89YSxyKHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIHRoaXMuZGVsZWdhdGVfJiZ0aGlzLmRlbGVnYXRlXy5yYXd9LHJlZkNoYW5nZWRfOmZ1bmN0aW9uKCl7dGhpcy5pdGVyYXRvcl8mJnRoaXMucmVmQ29udGVudF8hPT10aGlzLnJlZl8uY29udGVudCYmKHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbF89dm9pZCAwLHRoaXMuZGVsZWdhdGVfPXZvaWQgMCx0aGlzLmJpbmRpbmdzXz12b2lkIDAsdGhpcy5yZWZDb250ZW50Xz12b2lkIDAsdGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy52YWx1ZUNoYW5nZWQoKSx0aGlzLml0ZXJhdG9yXy5jbG9zZSgpLHRoaXMuaXRlcmF0b3JfPXZvaWQgMCl9LHNldERlbGVnYXRlXzpmdW5jdGlvbihhKXt0aGlzLmRlbGVnYXRlXz1hLHRoaXMuYmluZGluZ01hcF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8uaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlTW9kZWxGbl89dm9pZCAwKX0sbmV3RGVsZWdhdGVfOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7dmFyIGM9YSYmYVtiXTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYylyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseShhLGFyZ3VtZW50cyl9fXJldHVybiBhP3tyYXc6YSxwcmVwYXJlQmluZGluZzpiKCJwcmVwYXJlQmluZGluZyIpLHByZXBhcmVJbnN0YW5jZU1vZGVsOmIoInByZXBhcmVJbnN0YW5jZU1vZGVsIikscHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkOmIoInByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCIpfTp7fX0sc2V0IGJpbmRpbmdEZWxlZ2F0ZShhKXtpZih0aGlzLmRlbGVnYXRlXyl0aHJvdyBFcnJvcigiVGVtcGxhdGUgbXVzdCBiZSBjbGVhcmVkIGJlZm9yZSBhIG5ldyBiaW5kaW5nRGVsZWdhdGUgY2FuIGJlIGFzc2lnbmVkIik7dGhpcy5zZXREZWxlZ2F0ZV8odGhpcy5uZXdEZWxlZ2F0ZV8oYSkpfSxnZXQgcmVmXygpe3ZhciBhPWQodGhpcyx0aGlzLmdldEF0dHJpYnV0ZSgicmVmIikpO2lmKGF8fChhPXRoaXMuaW5zdGFuY2VSZWZfKSwhYSlyZXR1cm4gdGhpczt2YXIgYj1hLnJlZl87cmV0dXJuIGI/YjphfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwidGVtcGxhdGVJbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGVtcGxhdGVJbnN0YW5jZV87cmV0dXJuIGE/YTp0aGlzLnBhcmVudE5vZGU/dGhpcy5wYXJlbnROb2RlLnRlbXBsYXRlSW5zdGFuY2U6dm9pZCAwfX0pLEMucHJvdG90eXBlPXtjbG9zZURlcHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRlcHM7YSYmKGEuaWZPbmVUaW1lPT09ITEmJmEuaWZWYWx1ZS5jbG9zZSgpLGEub25lVGltZT09PSExJiZhLnZhbHVlLmNsb3NlKCkpfSx1cGRhdGVEZXBlbmRlbmNpZXM6ZnVuY3Rpb24oYSxiKXt0aGlzLmNsb3NlRGVwcygpO3ZhciBjPXRoaXMuZGVwcz17fSxkPXRoaXMudGVtcGxhdGVFbGVtZW50XztpZihhLmlmKXtpZihjLmhhc0lmPSEwLGMuaWZPbmVUaW1lPWEuaWYub25seU9uZVRpbWUsYy5pZlZhbHVlPXYoSCxhLmlmLGQsYiksYy5pZk9uZVRpbWUmJiFjLmlmVmFsdWUpcmV0dXJuIHZvaWQgdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCk7Yy5pZk9uZVRpbWV8fGMuaWZWYWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKX1hLnJlcGVhdD8oYy5yZXBlYXQ9ITAsYy5vbmVUaW1lPWEucmVwZWF0Lm9ubHlPbmVUaW1lLGMudmFsdWU9dihHLGEucmVwZWF0LGQsYikpOihjLnJlcGVhdD0hMSxjLm9uZVRpbWU9YS5iaW5kLm9ubHlPbmVUaW1lLGMudmFsdWU9dihGLGEuYmluZCxkLGIpKSxjLm9uZVRpbWV8fGMudmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyksdGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlKCl9LHVwZGF0ZUl0ZXJhdGVkVmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRlcHMuaGFzSWYpe3ZhciBhPXRoaXMuZGVwcy5pZlZhbHVlO2lmKHRoaXMuZGVwcy5pZk9uZVRpbWV8fChhPWEuZGlzY2FyZENoYW5nZXMoKSksIWEpcmV0dXJuIHZvaWQgdGhpcy52YWx1ZUNoYW5nZWQoKX12YXIgYj10aGlzLmRlcHMudmFsdWU7dGhpcy5kZXBzLm9uZVRpbWV8fChiPWIuZGlzY2FyZENoYW5nZXMoKSksdGhpcy5kZXBzLnJlcGVhdHx8KGI9W2JdKTt2YXIgYz10aGlzLmRlcHMucmVwZWF0JiYhdGhpcy5kZXBzLm9uZVRpbWUmJkFycmF5LmlzQXJyYXkoYik7dGhpcy52YWx1ZUNoYW5nZWQoYixjKX0sdmFsdWVDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7QXJyYXkuaXNBcnJheShhKXx8KGE9W10pLGEhPT10aGlzLml0ZXJhdGVkVmFsdWUmJih0aGlzLnVub2JzZXJ2ZSgpLHRoaXMucHJlc2VudFZhbHVlPWEsYiYmKHRoaXMuYXJyYXlPYnNlcnZlcj1uZXcgQXJyYXlPYnNlcnZlcih0aGlzLnByZXNlbnRWYWx1ZSksdGhpcy5hcnJheU9ic2VydmVyLm9wZW4odGhpcy5oYW5kbGVTcGxpY2VzLHRoaXMpKSx0aGlzLmhhbmRsZVNwbGljZXMoQXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzKHRoaXMucHJlc2VudFZhbHVlLHRoaXMuaXRlcmF0ZWRWYWx1ZSkpKX0sZ2V0VGVybWluYXRvckF0OmZ1bmN0aW9uKGEpe2lmKC0xPT1hKXJldHVybiB0aGlzLnRlbXBsYXRlRWxlbWVudF87dmFyIGI9dGhpcy50ZXJtaW5hdG9yc1syKmFdO2lmKGIubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8dGhpcy50ZW1wbGF0ZUVsZW1lbnRfPT09YilyZXR1cm4gYjt2YXIgYz1iLml0ZXJhdG9yXztyZXR1cm4gYz9jLmdldFRlcm1pbmF0b3JBdChjLnRlcm1pbmF0b3JzLmxlbmd0aC8yLTEpOmJ9LGluc2VydEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxmPWU7Yj9mPWIubGFzdENoaWxkfHxmOmMmJihmPWNbYy5sZW5ndGgtMV18fGYpLHRoaXMudGVybWluYXRvcnMuc3BsaWNlKDIqYSwwLGYsZCk7dmFyIGc9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfLnBhcmVudE5vZGUsaD1lLm5leHRTaWJsaW5nO2lmKGIpZy5pbnNlcnRCZWZvcmUoYixoKTtlbHNlIGlmKGMpZm9yKHZhciBpPTA7aTxjLmxlbmd0aDtpKyspZy5pbnNlcnRCZWZvcmUoY1tpXSxoKX0sZXh0cmFjdEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGQ9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYSk7Yi5pbnN0YW5jZUJpbmRpbmdzPXRoaXMudGVybWluYXRvcnNbMiphKzFdLHRoaXMudGVybWluYXRvcnMuc3BsaWNlKDIqYSwyKTtmb3IodmFyIGU9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfLnBhcmVudE5vZGU7ZCE9PWM7KXt2YXIgZj1jLm5leHRTaWJsaW5nO2Y9PWQmJihkPWMpLGUucmVtb3ZlQ2hpbGQoZiksYi5wdXNoKGYpfXJldHVybiBifSxnZXREZWxlZ2F0ZUZuOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEmJmEodGhpcy50ZW1wbGF0ZUVsZW1lbnRfKSwiZnVuY3Rpb24iPT10eXBlb2YgYT9hOm51bGx9LGhhbmRsZVNwbGljZXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY2xvc2VkJiZhLmxlbmd0aCl7dmFyIGI9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfO2lmKCFiLnBhcmVudE5vZGUpcmV0dXJuIHZvaWQgdGhpcy5jbG9zZSgpO0FycmF5T2JzZXJ2ZXIuYXBwbHlTcGxpY2VzKHRoaXMuaXRlcmF0ZWRWYWx1ZSx0aGlzLnByZXNlbnRWYWx1ZSxhKTt2YXIgYz1iLmRlbGVnYXRlXzt2b2lkIDA9PT10aGlzLmluc3RhbmNlTW9kZWxGbl8mJih0aGlzLmluc3RhbmNlTW9kZWxGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlTW9kZWwpKSx2b2lkIDA9PT10aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fJiYodGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXz10aGlzLmdldERlbGVnYXRlRm4oYyYmYy5wcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQpKTt2YXIgZD1uZXcgRCxlPTA7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EucmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZXh0cmFjdEluc3RhbmNlQXQoYS5pbmRleCtlKTtkLnNldChiLGMpfSx0aGlzKSxlLT1hLmFkZGVkQ291bnR9LHRoaXMpLGEuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGU9YS5pbmRleDtlPGEuaW5kZXgrYS5hZGRlZENvdW50O2UrKyl7dmFyIGYsZz10aGlzLml0ZXJhdGVkVmFsdWVbZV0saD12b2lkIDAsaT1kLmdldChnKTtpPyhkLmRlbGV0ZShnKSxmPWkuaW5zdGFuY2VCaW5kaW5ncyk6KGY9W10sdGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYoZz10aGlzLmluc3RhbmNlTW9kZWxGbl8oZykpLHZvaWQgMCE9PWcmJihoPWIuY3JlYXRlSW5zdGFuY2UoZyx2b2lkIDAsYyxmKSkpLHRoaXMuaW5zZXJ0SW5zdGFuY2VBdChlLGgsaSxmKX19LHRoaXMpLGQuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyhhLmluc3RhbmNlQmluZGluZ3MpfSx0aGlzKSx0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fJiZ0aGlzLnJlcG9ydEluc3RhbmNlc01vdmVkKGEpfX0scmVwb3J0SW5zdGFuY2VNb3ZlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRlcm1pbmF0b3JBdChhLTEpLGM9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYSk7aWYoYiE9PWMpe3ZhciBkPWIubmV4dFNpYmxpbmcudGVtcGxhdGVJbnN0YW5jZTt0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fKGQsYSl9fSxyZXBvcnRJbnN0YW5jZXNNb3ZlZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdO2lmKDAhPWMpZm9yKDtiPGUuaW5kZXg7KXRoaXMucmVwb3J0SW5zdGFuY2VNb3ZlZChiKSxiKys7ZWxzZSBiPWUuaW5kZXg7Zm9yKDtiPGUuaW5kZXgrZS5hZGRlZENvdW50Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2MrPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RofWlmKDAhPWMpZm9yKHZhciBmPXRoaXMudGVybWluYXRvcnMubGVuZ3RoLzI7Zj5iOyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrfSxjbG9zZUluc3RhbmNlQmluZGluZ3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5jbG9zZSgpfSx1bm9ic2VydmU6ZnVuY3Rpb24oKXt0aGlzLmFycmF5T2JzZXJ2ZXImJih0aGlzLmFycmF5T2JzZXJ2ZXIuY2xvc2UoKSx0aGlzLmFycmF5T2JzZXJ2ZXI9dm9pZCAwKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5jbG9zZWQpe3RoaXMudW5vYnNlcnZlKCk7Zm9yKHZhciBhPTE7YTx0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aDthKz0yKXRoaXMuY2xvc2VJbnN0YW5jZUJpbmRpbmdzKHRoaXMudGVybWluYXRvcnNbYV0pO3RoaXMudGVybWluYXRvcnMubGVuZ3RoPTAsdGhpcy5jbG9zZURlcHMoKSx0aGlzLnRlbXBsYXRlRWxlbWVudF8uaXRlcmF0b3JfPXZvaWQgMCx0aGlzLmNsb3NlZD0hMH19fSxIVE1MVGVtcGxhdGVFbGVtZW50LmZvckFsbFRlbXBsYXRlc0Zyb21fPWl9KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBU1NFUlQ6ICIrYil9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYT49NDgmJjU3Pj1hfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIDMyPT09YXx8OT09PWF8fDExPT09YXx8MTI9PT1hfHwxNjA9PT1hfHxhPj01NzYwJiYi4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CA77u/Ii5pbmRleE9mKFN0cmluZy5mcm9tQ2hhckNvZGUoYSkpPjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4gMTA9PT1hfHwxMz09PWF8fDgyMzI9PT1hfHw4MjMzPT09YX1mdW5jdGlvbiBmKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIDM2PT09YXx8OTU9PT1hfHxhPj02NSYmOTA+PWF8fGE+PTk3JiYxMjI+PWF8fGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBoKGEpe3JldHVybiJ0aGlzIj09PWF9ZnVuY3Rpb24gaSgpe2Zvcig7WT5YJiZkKFcuY2hhckNvZGVBdChYKSk7KSsrWH1mdW5jdGlvbiBqKCl7dmFyIGEsYjtmb3IoYT1YKys7WT5YJiYoYj1XLmNoYXJDb2RlQXQoWCksZyhiKSk7KSsrWDtyZXR1cm4gVy5zbGljZShhLFgpfWZ1bmN0aW9uIGsoKXt2YXIgYSxiLGM7cmV0dXJuIGE9WCxiPWooKSxjPTE9PT1iLmxlbmd0aD9TLklkZW50aWZpZXI6aChiKT9TLktleXdvcmQ6Im51bGwiPT09Yj9TLk51bGxMaXRlcmFsOiJ0cnVlIj09PWJ8fCJmYWxzZSI9PT1iP1MuQm9vbGVhbkxpdGVyYWw6Uy5JZGVudGlmaWVyLHt0eXBlOmMsdmFsdWU6YixyYW5nZTpbYSxYXX19ZnVuY3Rpb24gbCgpe3ZhciBhLGIsYz1YLGQ9Vy5jaGFyQ29kZUF0KFgpLGU9V1tYXTtzd2l0Y2goZCl7Y2FzZSA0NjpjYXNlIDQwOmNhc2UgNDE6Y2FzZSA1OTpjYXNlIDQ0OmNhc2UgMTIzOmNhc2UgMTI1OmNhc2UgOTE6Y2FzZSA5MzpjYXNlIDU4OmNhc2UgNjM6cmV0dXJuKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQpLHJhbmdlOltjLFhdfTtkZWZhdWx0OmlmKGE9Vy5jaGFyQ29kZUF0KFgrMSksNjE9PT1hKXN3aXRjaChkKXtjYXNlIDM3OmNhc2UgMzg6Y2FzZSA0MjpjYXNlIDQzOmNhc2UgNDU6Y2FzZSA0NzpjYXNlIDYwOmNhc2UgNjI6Y2FzZSAxMjQ6cmV0dXJuIFgrPTIse3R5cGU6Uy5QdW5jdHVhdG9yLHZhbHVlOlN0cmluZy5mcm9tQ2hhckNvZGUoZCkrU3RyaW5nLmZyb21DaGFyQ29kZShhKSxyYW5nZTpbYyxYXX07Y2FzZSAzMzpjYXNlIDYxOnJldHVybiBYKz0yLDYxPT09Vy5jaGFyQ29kZUF0KFgpJiYrK1gse3R5cGU6Uy5QdW5jdHVhdG9yLHZhbHVlOlcuc2xpY2UoYyxYKSxyYW5nZTpbYyxYXX19fXJldHVybiBiPVdbWCsxXSxlPT09YiYmIiZ8Ii5pbmRleE9mKGUpPj0wPyhYKz0yLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTplK2IscmFuZ2U6W2MsWF19KToiPD49ISstKiUmfF4vIi5pbmRleE9mKGUpPj0wPygrK1gse3R5cGU6Uy5QdW5jdHVhdG9yLHZhbHVlOmUscmFuZ2U6W2MsWF19KTp2b2lkIHMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKX1mdW5jdGlvbiBtKCl7dmFyIGEsZCxlO2lmKGU9V1tYXSxiKGMoZS5jaGFyQ29kZUF0KDApKXx8Ii4iPT09ZSwiTnVtZXJpYyBsaXRlcmFsIG11c3Qgc3RhcnQgd2l0aCBhIGRlY2ltYWwgZGlnaXQgb3IgYSBkZWNpbWFsIHBvaW50IiksZD1YLGE9IiIsIi4iIT09ZSl7Zm9yKGE9V1tYKytdLGU9V1tYXSwiMCI9PT1hJiZlJiZjKGUuY2hhckNvZGVBdCgwKSkmJnMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKTtjKFcuY2hhckNvZGVBdChYKSk7KWErPVdbWCsrXTtlPVdbWF19aWYoIi4iPT09ZSl7Zm9yKGErPVdbWCsrXTtjKFcuY2hhckNvZGVBdChYKSk7KWErPVdbWCsrXTtlPVdbWF19aWYoImUiPT09ZXx8IkUiPT09ZSlpZihhKz1XW1grK10sZT1XW1hdLCgiKyI9PT1lfHwiLSI9PT1lKSYmKGErPVdbWCsrXSksYyhXLmNoYXJDb2RlQXQoWCkpKWZvcig7YyhXLmNoYXJDb2RlQXQoWCkpOylhKz1XW1grK107ZWxzZSBzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIik7cmV0dXJuIGYoVy5jaGFyQ29kZUF0KFgpKSYmcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpLHt0eXBlOlMuTnVtZXJpY0xpdGVyYWwsdmFsdWU6cGFyc2VGbG9hdChhKSxyYW5nZTpbZCxYXX19ZnVuY3Rpb24gbigpe3ZhciBhLGMsZCxmPSIiLGc9ITE7Zm9yKGE9V1tYXSxiKCInIj09PWF8fCciJz09PWEsIlN0cmluZyBsaXRlcmFsIG11c3Qgc3RhcnRzIHdpdGggYSBxdW90ZSIpLGM9WCwrK1g7WT5YOyl7aWYoZD1XW1grK10sZD09PWEpe2E9IiI7YnJlYWt9aWYoIlxcIj09PWQpaWYoZD1XW1grK10sZCYmZShkLmNoYXJDb2RlQXQoMCkpKSJcciI9PT1kJiYiXG4iPT09V1tYXSYmKytYO2Vsc2Ugc3dpdGNoKGQpe2Nhc2UibiI6Zis9IlxuIjticmVhaztjYXNlInIiOmYrPSJcciI7YnJlYWs7Y2FzZSJ0IjpmKz0iCSI7YnJlYWs7Y2FzZSJiIjpmKz0iXGIiO2JyZWFrO2Nhc2UiZiI6Zis9IlxmIjticmVhaztjYXNlInYiOmYrPSILIjticmVhaztkZWZhdWx0OmYrPWR9ZWxzZXtpZihlKGQuY2hhckNvZGVBdCgwKSkpYnJlYWs7Zis9ZH19cmV0dXJuIiIhPT1hJiZzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIikse3R5cGU6Uy5TdHJpbmdMaXRlcmFsLHZhbHVlOmYsb2N0YWw6ZyxyYW5nZTpbYyxYXX19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gYS50eXBlPT09Uy5JZGVudGlmaWVyfHxhLnR5cGU9PT1TLktleXdvcmR8fGEudHlwZT09PVMuQm9vbGVhbkxpdGVyYWx8fGEudHlwZT09PVMuTnVsbExpdGVyYWx9ZnVuY3Rpb24gcCgpe3ZhciBhO3JldHVybiBpKCksWD49WT97dHlwZTpTLkVPRixyYW5nZTpbWCxYXX06KGE9Vy5jaGFyQ29kZUF0KFgpLDQwPT09YXx8NDE9PT1hfHw1OD09PWE/bCgpOjM5PT09YXx8MzQ9PT1hP24oKTpmKGEpP2soKTo0Nj09PWE/YyhXLmNoYXJDb2RlQXQoWCsxKSk/bSgpOmwoKTpjKGEpP20oKTpsKCkpfWZ1bmN0aW9uIHEoKXt2YXIgYTtyZXR1cm4gYT0kLFg9YS5yYW5nZVsxXSwkPXAoKSxYPWEucmFuZ2VbMV0sYX1mdW5jdGlvbiByKCl7dmFyIGE7YT1YLCQ9cCgpLFg9YX1mdW5jdGlvbiBzKGEsYyl7dmFyIGQsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMiksZj1jLnJlcGxhY2UoLyUoXGQpL2csZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihjPGUubGVuZ3RoLCJNZXNzYWdlIHJlZmVyZW5jZSBtdXN0IGJlIGluIHJhbmdlIiksZVtjXX0pO3Rocm93IGQ9bmV3IEVycm9yKGYpLGQuaW5kZXg9WCxkLmRlc2NyaXB0aW9uPWYsZH1mdW5jdGlvbiB0KGEpe3MoYSxWLlVuZXhwZWN0ZWRUb2tlbixhLnZhbHVlKX1mdW5jdGlvbiB1KGEpe3ZhciBiPXEoKTsoYi50eXBlIT09Uy5QdW5jdHVhdG9yfHxiLnZhbHVlIT09YSkmJnQoYil9ZnVuY3Rpb24gdihhKXtyZXR1cm4gJC50eXBlPT09Uy5QdW5jdHVhdG9yJiYkLnZhbHVlPT09YX1mdW5jdGlvbiB3KGEpe3JldHVybiAkLnR5cGU9PT1TLktleXdvcmQmJiQudmFsdWU9PT1hfWZ1bmN0aW9uIHgoKXt2YXIgYT1bXTtmb3IodSgiWyIpOyF2KCJdIik7KXYoIiwiKT8ocSgpLGEucHVzaChudWxsKSk6KGEucHVzaChiYigpKSx2KCJdIil8fHUoIiwiKSk7cmV0dXJuIHUoIl0iKSxaLmNyZWF0ZUFycmF5RXhwcmVzc2lvbihhKX1mdW5jdGlvbiB5KCl7dmFyIGE7cmV0dXJuIGkoKSxhPXEoKSxhLnR5cGU9PT1TLlN0cmluZ0xpdGVyYWx8fGEudHlwZT09PVMuTnVtZXJpY0xpdGVyYWw/Wi5jcmVhdGVMaXRlcmFsKGEpOlouY3JlYXRlSWRlbnRpZmllcihhLnZhbHVlKX1mdW5jdGlvbiB6KCl7dmFyIGEsYjtyZXR1cm4gYT0kLGkoKSwoYS50eXBlPT09Uy5FT0Z8fGEudHlwZT09PVMuUHVuY3R1YXRvcikmJnQoYSksYj15KCksdSgiOiIpLFouY3JlYXRlUHJvcGVydHkoImluaXQiLGIsYmIoKSl9ZnVuY3Rpb24gQSgpe3ZhciBhPVtdO2Zvcih1KCJ7Iik7IXYoIn0iKTspYS5wdXNoKHooKSksdigifSIpfHx1KCIsIik7cmV0dXJuIHUoIn0iKSxaLmNyZWF0ZU9iamVjdEV4cHJlc3Npb24oYSl9ZnVuY3Rpb24gQigpe3ZhciBhO3JldHVybiB1KCIoIiksYT1iYigpLHUoIikiKSxhfWZ1bmN0aW9uIEMoKXt2YXIgYSxiLGM7cmV0dXJuIHYoIigiKT9CKCk6KGE9JC50eXBlLGE9PT1TLklkZW50aWZpZXI/Yz1aLmNyZWF0ZUlkZW50aWZpZXIocSgpLnZhbHVlKTphPT09Uy5TdHJpbmdMaXRlcmFsfHxhPT09Uy5OdW1lcmljTGl0ZXJhbD9jPVouY3JlYXRlTGl0ZXJhbChxKCkpOmE9PT1TLktleXdvcmQ/dygidGhpcyIpJiYocSgpLGM9Wi5jcmVhdGVUaGlzRXhwcmVzc2lvbigpKTphPT09Uy5Cb29sZWFuTGl0ZXJhbD8oYj1xKCksYi52YWx1ZT0idHJ1ZSI9PT1iLnZhbHVlLGM9Wi5jcmVhdGVMaXRlcmFsKGIpKTphPT09Uy5OdWxsTGl0ZXJhbD8oYj1xKCksYi52YWx1ZT1udWxsLGM9Wi5jcmVhdGVMaXRlcmFsKGIpKTp2KCJbIik/Yz14KCk6digieyIpJiYoYz1BKCkpLGM/Yzp2b2lkIHQocSgpKSl9ZnVuY3Rpb24gRCgpe3ZhciBhPVtdO2lmKHUoIigiKSwhdigiKSIpKWZvcig7WT5YJiYoYS5wdXNoKGJiKCkpLCF2KCIpIikpOyl1KCIsIik7cmV0dXJuIHUoIikiKSxhfWZ1bmN0aW9uIEUoKXt2YXIgYTtyZXR1cm4gYT1xKCksbyhhKXx8dChhKSxaLmNyZWF0ZUlkZW50aWZpZXIoYS52YWx1ZSl9ZnVuY3Rpb24gRigpe3JldHVybiB1KCIuIiksRSgpfWZ1bmN0aW9uIEcoKXt2YXIgYTtyZXR1cm4gdSgiWyIpLGE9YmIoKSx1KCJdIiksYX1mdW5jdGlvbiBIKCl7dmFyIGEsYjtmb3IoYT1DKCk7digiLiIpfHx2KCJbIik7KXYoIlsiKT8oYj1HKCksYT1aLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIlsiLGEsYikpOihiPUYoKSxhPVouY3JlYXRlTWVtYmVyRXhwcmVzc2lvbigiLiIsYSxiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gSSgpe3ZhciBhLGI7cmV0dXJuICQudHlwZSE9PVMuUHVuY3R1YXRvciYmJC50eXBlIT09Uy5LZXl3b3JkP2I9YWIoKTp2KCIrIil8fHYoIi0iKXx8digiISIpPyhhPXEoKSxiPUkoKSxiPVouY3JlYXRlVW5hcnlFeHByZXNzaW9uKGEudmFsdWUsYikpOncoImRlbGV0ZSIpfHx3KCJ2b2lkIil8fHcoInR5cGVvZiIpP3Moe30sVi5VbmV4cGVjdGVkVG9rZW4pOmI9YWIoKSxifWZ1bmN0aW9uIEooYSl7dmFyIGI9MDtpZihhLnR5cGUhPT1TLlB1bmN0dWF0b3ImJmEudHlwZSE9PVMuS2V5d29yZClyZXR1cm4gMDtzd2l0Y2goYS52YWx1ZSl7Y2FzZSJ8fCI6Yj0xO2JyZWFrO2Nhc2UiJiYiOmI9MjticmVhaztjYXNlIj09IjpjYXNlIiE9IjpjYXNlIj09PSI6Y2FzZSIhPT0iOmI9NjticmVhaztjYXNlIjwiOmNhc2UiPiI6Y2FzZSI8PSI6Y2FzZSI+PSI6Y2FzZSJpbnN0YW5jZW9mIjpiPTc7YnJlYWs7Y2FzZSJpbiI6Yj03O2JyZWFrO2Nhc2UiKyI6Y2FzZSItIjpiPTk7YnJlYWs7Y2FzZSIqIjpjYXNlIi8iOmNhc2UiJSI6Yj0xMX1yZXR1cm4gYn1mdW5jdGlvbiBLKCl7dmFyIGEsYixjLGQsZSxmLGcsaDtpZihnPUkoKSxiPSQsYz1KKGIpLDA9PT1jKXJldHVybiBnO2ZvcihiLnByZWM9YyxxKCksZT1JKCksZD1bZyxiLGVdOyhjPUooJCkpPjA7KXtmb3IoO2QubGVuZ3RoPjImJmM8PWRbZC5sZW5ndGgtMl0ucHJlYzspZT1kLnBvcCgpLGY9ZC5wb3AoKS52YWx1ZSxnPWQucG9wKCksYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZixnLGUpLGQucHVzaChhKTtiPXEoKSxiLnByZWM9YyxkLnB1c2goYiksYT1JKCksZC5wdXNoKGEpfWZvcihoPWQubGVuZ3RoLTEsYT1kW2hdO2g+MTspYT1aLmNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oZFtoLTFdLnZhbHVlLGRbaC0yXSxhKSxoLT0yO3JldHVybiBhfWZ1bmN0aW9uIEwoKXt2YXIgYSxiLGM7cmV0dXJuIGE9SygpLHYoIj8iKSYmKHEoKSxiPUwoKSx1KCI6IiksYz1MKCksYT1aLmNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbihhLGIsYykpLGF9ZnVuY3Rpb24gTSgpe3ZhciBhLGI7cmV0dXJuIGE9cSgpLGEudHlwZSE9PVMuSWRlbnRpZmllciYmdChhKSxiPXYoIigiKT9EKCk6W10sWi5jcmVhdGVGaWx0ZXIoYS52YWx1ZSxiKX1mdW5jdGlvbiBOKCl7Zm9yKDt2KCJ8Iik7KXEoKSxNKCl9ZnVuY3Rpb24gTygpe2koKSxyKCk7dmFyIGE9YmIoKTthJiYoIiwiPT09JC52YWx1ZXx8ImluIj09JC52YWx1ZSYmYS50eXBlPT09VS5JZGVudGlmaWVyP1EoYSk6KE4oKSwiYXMiPT09JC52YWx1ZT9QKGEpOlouY3JlYXRlVG9wTGV2ZWwoYSkpKSwkLnR5cGUhPT1TLkVPRiYmdCgkKX1mdW5jdGlvbiBQKGEpe3EoKTt2YXIgYj1xKCkudmFsdWU7Wi5jcmVhdGVBc0V4cHJlc3Npb24oYSxiKX1mdW5jdGlvbiBRKGEpe3ZhciBiOyIsIj09PSQudmFsdWUmJihxKCksJC50eXBlIT09Uy5JZGVudGlmaWVyJiZ0KCQpLGI9cSgpLnZhbHVlKSxxKCk7dmFyIGM9YmIoKTtOKCksWi5jcmVhdGVJbkV4cHJlc3Npb24oYS5uYW1lLGIsYyl9ZnVuY3Rpb24gUihhLGIpe3JldHVybiBaPWIsVz1hLFg9MCxZPVcubGVuZ3RoLCQ9bnVsbCxfPXtsYWJlbFNldDp7fX0sTygpfXZhciBTLFQsVSxWLFcsWCxZLFosJCxfO1M9e0Jvb2xlYW5MaXRlcmFsOjEsRU9GOjIsSWRlbnRpZmllcjozLEtleXdvcmQ6NCxOdWxsTGl0ZXJhbDo1LE51bWVyaWNMaXRlcmFsOjYsUHVuY3R1YXRvcjo3LFN0cmluZ0xpdGVyYWw6OH0sVD17fSxUW1MuQm9vbGVhbkxpdGVyYWxdPSJCb29sZWFuIixUW1MuRU9GXT0iPGVuZD4iLFRbUy5JZGVudGlmaWVyXT0iSWRlbnRpZmllciIsVFtTLktleXdvcmRdPSJLZXl3b3JkIixUW1MuTnVsbExpdGVyYWxdPSJOdWxsIixUW1MuTnVtZXJpY0xpdGVyYWxdPSJOdW1lcmljIixUW1MuUHVuY3R1YXRvcl09IlB1bmN0dWF0b3IiLFRbUy5TdHJpbmdMaXRlcmFsXT0iU3RyaW5nIixVPXtBcnJheUV4cHJlc3Npb246IkFycmF5RXhwcmVzc2lvbiIsQmluYXJ5RXhwcmVzc2lvbjoiQmluYXJ5RXhwcmVzc2lvbiIsQ2FsbEV4cHJlc3Npb246IkNhbGxFeHByZXNzaW9uIixDb25kaXRpb25hbEV4cHJlc3Npb246IkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsRW1wdHlTdGF0ZW1lbnQ6IkVtcHR5U3RhdGVtZW50IixFeHByZXNzaW9uU3RhdGVtZW50OiJFeHByZXNzaW9uU3RhdGVtZW50IixJZGVudGlmaWVyOiJJZGVudGlmaWVyIixMaXRlcmFsOiJMaXRlcmFsIixMYWJlbGVkU3RhdGVtZW50OiJMYWJlbGVkU3RhdGVtZW50IixMb2dpY2FsRXhwcmVzc2lvbjoiTG9naWNhbEV4cHJlc3Npb24iLE1lbWJlckV4cHJlc3Npb246Ik1lbWJlckV4cHJlc3Npb24iLE9iamVjdEV4cHJlc3Npb246Ik9iamVjdEV4cHJlc3Npb24iLFByb2dyYW06IlByb2dyYW0iLFByb3BlcnR5OiJQcm9wZXJ0eSIsVGhpc0V4cHJlc3Npb246IlRoaXNFeHByZXNzaW9uIixVbmFyeUV4cHJlc3Npb246IlVuYXJ5RXhwcmVzc2lvbiJ9LFY9e1VuZXhwZWN0ZWRUb2tlbjoiVW5leHBlY3RlZCB0b2tlbiAlMCIsVW5rbm93bkxhYmVsOiJVbmRlZmluZWQgbGFiZWwgJyUwJyIsUmVkZWNsYXJhdGlvbjoiJTAgJyUxJyBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkIn07dmFyIGFiPUgsYmI9TDthLmVzcHJpbWE9e3BhcnNlOlJ9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsZCxlKXt2YXIgZjt0cnl7aWYoZj1jKGEpLGYuc2NvcGVJZGVudCYmKGQubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8IlRFTVBMQVRFIiE9PWQudGFnTmFtZXx8ImJpbmQiIT09YiYmInJlcGVhdCIhPT1iKSl0aHJvdyBFcnJvcigiYXMgYW5kIGluIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIDx0ZW1wbGF0ZSBiaW5kL3JlcGVhdD4iKX1jYXRjaChnKXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGV4cHJlc3Npb24gc3ludGF4OiAiK2EsZyl9cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mLmdldEJpbmRpbmcoYSxlLGMpO3JldHVybiBmLnNjb3BlSWRlbnQmJmQmJihiLnBvbHltZXJFeHByZXNzaW9uU2NvcGVJZGVudF89Zi5zY29wZUlkZW50LGYuaW5kZXhJZGVudCYmKGIucG9seW1lckV4cHJlc3Npb25JbmRleElkZW50Xz1mLmluZGV4SWRlbnQpKSxkfX1mdW5jdGlvbiBjKGEpe3ZhciBiPXNbYV07aWYoIWIpe3ZhciBjPW5ldyBqO2VzcHJpbWEucGFyc2UoYSxjKSxiPW5ldyBsKGMpLHNbYV09Yn1yZXR1cm4gYn1mdW5jdGlvbiBkKGEpe3RoaXMudmFsdWU9YSx0aGlzLnZhbHVlRm5fPXZvaWQgMH1mdW5jdGlvbiBlKGEpe3RoaXMubmFtZT1hLHRoaXMucGF0aD1QYXRoLmdldChhKX1mdW5jdGlvbiBmKGEsYixjKXsiWyI9PWMmJmIgaW5zdGFuY2VvZiBkJiZQYXRoLmdldChiLnZhbHVlKS52YWxpZCYmKGM9Ii4iLGI9bmV3IGUoYi52YWx1ZSkpLHRoaXMuZHluYW1pY0RlcHM9ImZ1bmN0aW9uIj09dHlwZW9mIGF8fGEuZHluYW1pYyx0aGlzLmR5bmFtaWM9ImZ1bmN0aW9uIj09dHlwZW9mIGJ8fGIuZHluYW1pY3x8IlsiPT1jLHRoaXMuc2ltcGxlUGF0aD0hdGhpcy5keW5hbWljJiYhdGhpcy5keW5hbWljRGVwcyYmYiBpbnN0YW5jZW9mIGUmJihhIGluc3RhbmNlb2YgZnx8YSBpbnN0YW5jZW9mIGUpLHRoaXMub2JqZWN0PXRoaXMuc2ltcGxlUGF0aD9hOmkoYSksdGhpcy5wcm9wZXJ0eT0iLiI9PWM/YjppKGIpfWZ1bmN0aW9uIGcoYSxiKXt0aGlzLm5hbWU9YSx0aGlzLmFyZ3M9W107Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspdGhpcy5hcmdzW2NdPWkoYltjXSl9ZnVuY3Rpb24gaCgpe3Rocm93IEVycm9yKCJOb3QgSW1wbGVtZW50ZWQiKX1mdW5jdGlvbiBpKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6YS52YWx1ZUZuKCl9ZnVuY3Rpb24gaigpe3RoaXMuZXhwcmVzc2lvbj1udWxsLHRoaXMuZmlsdGVycz1bXSx0aGlzLmRlcHM9e30sdGhpcy5jdXJyZW50UGF0aD12b2lkIDAsdGhpcy5zY29wZUlkZW50PXZvaWQgMCx0aGlzLmluZGV4SWRlbnQ9dm9pZCAwLHRoaXMuZHluYW1pY0RlcHM9ITF9ZnVuY3Rpb24gayhhKXt0aGlzLnZhbHVlXz1hfWZ1bmN0aW9uIGwoYSl7aWYodGhpcy5zY29wZUlkZW50PWEuc2NvcGVJZGVudCx0aGlzLmluZGV4SWRlbnQ9YS5pbmRleElkZW50LCFhLmV4cHJlc3Npb24pdGhyb3cgRXJyb3IoIk5vIGV4cHJlc3Npb24gZm91bmQuIik7dGhpcy5leHByZXNzaW9uPWEuZXhwcmVzc2lvbixpKHRoaXMuZXhwcmVzc2lvbiksdGhpcy5maWx0ZXJzPWEuZmlsdGVycyx0aGlzLmR5bmFtaWNEZXBzPWEuZHluYW1pY0RlcHN9ZnVuY3Rpb24gbShhKXtyZXR1cm4gU3RyaW5nKGEpLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIm8iPT09YVswXSYmIm4iPT09YVsxXSYmIi0iPT09YVsyXX1mdW5jdGlvbiBvKGEsYil7Zm9yKDthW3ddJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYik7KWE9YVt3XTtyZXR1cm4gYX1mdW5jdGlvbiBwKGEsYil7aWYoMD09Yi5sZW5ndGgpcmV0dXJuIHZvaWQgMDtpZigxPT1iLmxlbmd0aClyZXR1cm4gbyhhLGJbMF0pO2Zvcih2YXIgYz0wO251bGwhPWEmJmM8Yi5sZW5ndGgtMTtjKyspYT1hW2JbY11dO3JldHVybiBhfWZ1bmN0aW9uIHEoYSxiLGMpe3ZhciBkPWIuc3Vic3RyaW5nKDMpO3JldHVybiBkPXZbZF18fGQsZnVuY3Rpb24oYixlLGYpe2Z1bmN0aW9uIGcoKXtyZXR1cm4ie3sgIithKyIgfX0ifXZhciBoLGksajtyZXR1cm4gaj0iZnVuY3Rpb24iPT10eXBlb2YgYy5yZXNvbHZlRXZlbnRIYW5kbGVyP2Z1bmN0aW9uKGQpe2g9aHx8Yy5yZXNvbHZlRXZlbnRIYW5kbGVyKGIsYSxlKSxoKGQsZC5kZXRhaWwsZC5jdXJyZW50VGFyZ2V0KSxQbGF0Zm9ybSYmImZ1bmN0aW9uIj09dHlwZW9mIFBsYXRmb3JtLmZsdXNoJiZQbGF0Zm9ybS5mbHVzaCgpfTpmdW5jdGlvbihjKXtoPWh8fGEuZ2V0VmFsdWVGcm9tKGIpLGk9aXx8cChiLGEsZSksaC5hcHBseShpLFtjLGMuZGV0YWlsLGMuY3VycmVudFRhcmdldF0pLFBsYXRmb3JtJiYiZnVuY3Rpb24iPT10eXBlb2YgUGxhdGZvcm0uZmx1c2gmJlBsYXRmb3JtLmZsdXNoKCl9LGUuYWRkRXZlbnRMaXN0ZW5lcihkLGopLGY/dm9pZCAwOntvcGVuOmcsZGlzY2FyZENoYW5nZXM6ZyxjbG9zZTpmdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGopfX19fWZ1bmN0aW9uIHIoKXt9dmFyIHM9T2JqZWN0LmNyZWF0ZShudWxsKTtkLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT10aGlzLnZhbHVlO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oKXtyZXR1cm4gYX19cmV0dXJuIHRoaXMudmFsdWVGbl99fSxlLnByb3RvdHlwZT17dmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT0odGhpcy5uYW1lLHRoaXMucGF0aCk7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihiLGMpe3JldHVybiBjJiZjLmFkZFBhdGgoYixhKSxhLmdldFZhbHVlRnJvbShiKX19cmV0dXJuIHRoaXMudmFsdWVGbl99LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PXRoaXMucGF0aC5sZW5ndGgsYT1vKGEsdGhpcy5wYXRoWzBdKSx0aGlzLnBhdGguc2V0VmFsdWVGcm9tKGEsYil9fSxmLnByb3RvdHlwZT17Z2V0IGZ1bGxQYXRoKCl7aWYoIXRoaXMuZnVsbFBhdGhfKXt2YXIgYT10aGlzLm9iamVjdCBpbnN0YW5jZW9mIGU/dGhpcy5vYmplY3QubmFtZTp0aGlzLm9iamVjdC5mdWxsUGF0aDt0aGlzLmZ1bGxQYXRoXz1QYXRoLmdldChhKyIuIit0aGlzLnByb3BlcnR5Lm5hbWUpfXJldHVybiB0aGlzLmZ1bGxQYXRoX30sdmFsdWVGbjpmdW5jdGlvbigpe2lmKCF0aGlzLnZhbHVlRm5fKXt2YXIgYT10aGlzLm9iamVjdDtpZih0aGlzLnNpbXBsZVBhdGgpe3ZhciBiPXRoaXMuZnVsbFBhdGg7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihhLGMpe3JldHVybiBjJiZjLmFkZFBhdGgoYSxiKSxiLmdldFZhbHVlRnJvbShhKX19ZWxzZSBpZih0aGlzLnByb3BlcnR5IGluc3RhbmNlb2YgZSl7dmFyIGI9UGF0aC5nZXQodGhpcy5wcm9wZXJ0eS5uYW1lKTt0aGlzLnZhbHVlRm5fPWZ1bmN0aW9uKGMsZCl7dmFyIGU9YShjLGQpO3JldHVybiBkJiZkLmFkZFBhdGgoZSxiKSxiLmdldFZhbHVlRnJvbShlKX19ZWxzZXt2YXIgYz10aGlzLnByb3BlcnR5O3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oYixkKXt2YXIgZT1hKGIsZCksZj1jKGIsZCk7cmV0dXJuIGQmJmQuYWRkUGF0aChlLGYpLGU/ZVtmXTp2b2lkIDB9fX1yZXR1cm4gdGhpcy52YWx1ZUZuX30sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnNpbXBsZVBhdGgpcmV0dXJuIHRoaXMuZnVsbFBhdGguc2V0VmFsdWVGcm9tKGEsYiksYjt2YXIgYz10aGlzLm9iamVjdChhKSxkPXRoaXMucHJvcGVydHkgaW5zdGFuY2VvZiBlP3RoaXMucHJvcGVydHkubmFtZTp0aGlzLnByb3BlcnR5KGEpO3JldHVybiBjW2RdPWJ9fSxnLnByb3RvdHlwZT17dHJhbnNmb3JtOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Y1t0aGlzLm5hbWVdLGc9ZDtpZihmKWc9dm9pZCAwO2Vsc2UgaWYoZj1nW3RoaXMubmFtZV0sIWYpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiQ2Fubm90IGZpbmQgZmlsdGVyOiAiK3RoaXMubmFtZSk7aWYoYj9mPWYudG9Nb2RlbDoiZnVuY3Rpb24iPT10eXBlb2YgZi50b0RPTSYmKGY9Zi50b0RPTSksImZ1bmN0aW9uIiE9dHlwZW9mIGYpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiTm8gIisoYj8idG9Nb2RlbCI6InRvRE9NIikrIiBmb3VuZCBvbiIrdGhpcy5uYW1lKTtmb3IodmFyIGg9W2FdLGo9MDtqPHRoaXMuYXJncy5sZW5ndGg7aisrKWhbaisxXT1pKHRoaXMuYXJnc1tqXSkoZCxlKTtyZXR1cm4gZi5hcHBseShnLGgpfX07dmFyIHQ9eyIrIjpmdW5jdGlvbihhKXtyZXR1cm4rYX0sIi0iOmZ1bmN0aW9uKGEpe3JldHVybi1hfSwiISI6ZnVuY3Rpb24oYSl7cmV0dXJuIWF9fSx1PXsiKyI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStifSwiLSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSwiKiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSpifSwiLyI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS9ifSwiJSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSVifSwiPCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj5hfSwiPiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5ifSwiPD0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWF9LCI+PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT49Yn0sIj09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPT1ifSwiIT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPWJ9LCI9PT0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifSwiIT09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhIT09Yn0sIiYmIjpmdW5jdGlvbihhLGIpe3JldHVybiBhJiZifSwifHwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGF8fGJ9fTtqLnByb3RvdHlwZT17Y3JlYXRlVW5hcnlFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYil7aWYoIXRbYV0pdGhyb3cgRXJyb3IoIkRpc2FsbG93ZWQgb3BlcmF0b3I6ICIrYSk7cmV0dXJuIGI9aShiKSxmdW5jdGlvbihjLGQpe3JldHVybiB0W2FdKGIoYyxkKSl9fSxjcmVhdGVCaW5hcnlFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtpZighdVthXSl0aHJvdyBFcnJvcigiRGlzYWxsb3dlZCBvcGVyYXRvcjogIithKTtyZXR1cm4gYj1pKGIpLGM9aShjKSxmdW5jdGlvbihkLGUpe3JldHVybiB1W2FdKGIoZCxlKSxjKGQsZSkpfX0sY3JlYXRlQ29uZGl0aW9uYWxFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT1pKGEpLGI9aShiKSxjPWkoYyksZnVuY3Rpb24oZCxlKXtyZXR1cm4gYShkLGUpP2IoZCxlKTpjKGQsZSl9fSxjcmVhdGVJZGVudGlmaWVyOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBlKGEpO3JldHVybiBiLnR5cGU9IklkZW50aWZpZXIiLGJ9LGNyZWF0ZU1lbWJlckV4cHJlc3Npb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBmKGIsYyxhKTtyZXR1cm4gZC5keW5hbWljRGVwcyYmKHRoaXMuZHluYW1pY0RlcHM9ITApLGR9LGNyZWF0ZUxpdGVyYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBkKGEudmFsdWUpfSxjcmVhdGVBcnJheUV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXT1pKGFbYl0pO3JldHVybiBmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmxlbmd0aDtlKyspZC5wdXNoKGFbZV0oYixjKSk7cmV0dXJuIGR9fSxjcmVhdGVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7cmV0dXJue2tleTpiIGluc3RhbmNlb2YgZT9iLm5hbWU6Yi52YWx1ZSx2YWx1ZTpjfX0sY3JlYXRlT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnZhbHVlPWkoYVtiXS52YWx1ZSk7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXt9LGU9MDtlPGEubGVuZ3RoO2UrKylkW2FbZV0ua2V5XT1hW2VdLnZhbHVlKGIsYyk7cmV0dXJuIGR9fSxjcmVhdGVGaWx0ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLmZpbHRlcnMucHVzaChuZXcgZyhhLGIpKX0sY3JlYXRlQXNFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5leHByZXNzaW9uPWEsdGhpcy5zY29wZUlkZW50PWJ9LGNyZWF0ZUluRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7dGhpcy5leHByZXNzaW9uPWMsdGhpcy5zY29wZUlkZW50PWEsdGhpcy5pbmRleElkZW50PWJ9LGNyZWF0ZVRvcExldmVsOmZ1bmN0aW9uKGEpe3RoaXMuZXhwcmVzc2lvbj1hfSxjcmVhdGVUaGlzRXhwcmVzc2lvbjpofSxrLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlX30sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7fX0sbC5wcm90b3R5cGU9e2dldEJpbmRpbmc6ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXtnLmR5bmFtaWNEZXBzJiZmLnN0YXJ0UmVzZXQoKTt2YXIgYz1nLmdldFZhbHVlKGEsZy5keW5hbWljRGVwcz9mOnZvaWQgMCxiKTtyZXR1cm4gZy5keW5hbWljRGVwcyYmZi5maW5pc2hSZXNldCgpLGN9ZnVuY3Rpb24gZShjKXtyZXR1cm4gZy5zZXRWYWx1ZShhLGMsYiksY31pZihjKXJldHVybiB0aGlzLmdldFZhbHVlKGEsdm9pZCAwLGIpO3ZhciBmPW5ldyBDb21wb3VuZE9ic2VydmVyO3RoaXMuZ2V0VmFsdWUoYSxmLGIpO3ZhciBnPXRoaXM7cmV0dXJuIG5ldyBPYnNlcnZlclRyYW5zZm9ybShmLGQsZSwhMCl9LGdldFZhbHVlOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9aSh0aGlzLmV4cHJlc3Npb24pKGEsYiksZT0wO2U8dGhpcy5maWx0ZXJzLmxlbmd0aDtlKyspZD10aGlzLmZpbHRlcnNbZV0udHJhbnNmb3JtKGQsITEsYyxhLGIpO3JldHVybiBkfSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXRoaXMuZmlsdGVycz90aGlzLmZpbHRlcnMubGVuZ3RoOjA7ZC0tPjA7KWI9dGhpcy5maWx0ZXJzW2RdLnRyYW5zZm9ybShiLCEwLGMsYSk7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbi5zZXRWYWx1ZT90aGlzLmV4cHJlc3Npb24uc2V0VmFsdWUoYSxiKTp2b2lkIDB9fTt2YXIgdj17fTtbIndlYmtpdEFuaW1hdGlvblN0YXJ0Iiwid2Via2l0QW5pbWF0aW9uRW5kIiwid2Via2l0VHJhbnNpdGlvbkVuZCIsIkRPTUZvY3VzT3V0IiwiRE9NRm9jdXNJbiIsIkRPTU1vdXNlU2Nyb2xsIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2W2EudG9Mb3dlckNhc2UoKV09YX0pO3ZhciB3PSJAIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtyLnByb3RvdHlwZT17c3R5bGVPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYi5wdXNoKG0oYykrIjogIithW2NdKTtyZXR1cm4gYi5qb2luKCI7ICIpfSx0b2tlbkxpc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYVtjXSYmYi5wdXNoKGMpO3JldHVybiBiLmpvaW4oIiAiKX0scHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEucG9seW1lckV4cHJlc3Npb25JbmRleElkZW50XztpZihiKXJldHVybiBmdW5jdGlvbihhLGMpe2EubW9kZWxbYl09Y319LHByZXBhcmVCaW5kaW5nOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1QYXRoLmdldChhKTtpZihuKGMpKXJldHVybiBlLnZhbGlkP3EoZSxjLHRoaXMpOnZvaWQgY29uc29sZS5lcnJvcigib24tKiBiaW5kaW5ncyBtdXN0IGJlIHNpbXBsZSBwYXRoIGV4cHJlc3Npb25zIik7e2lmKCFlLnZhbGlkKXJldHVybiBiKGEsYyxkLHRoaXMpO2lmKDE9PWUubGVuZ3RoKXJldHVybiBmdW5jdGlvbihhLGIsYyl7aWYoYylyZXR1cm4gZS5nZXRWYWx1ZUZyb20oYSk7dmFyIGQ9byhhLGVbMF0pO3JldHVybiBuZXcgUGF0aE9ic2VydmVyKGQsZSl9fX0scHJlcGFyZUluc3RhbmNlTW9kZWw6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wb2x5bWVyRXhwcmVzc2lvblNjb3BlSWRlbnRfO2lmKGIpe3ZhciBjPWEudGVtcGxhdGVJbnN0YW5jZT9hLnRlbXBsYXRlSW5zdGFuY2UubW9kZWw6YS5tb2RlbCxkPWEucG9seW1lckV4cHJlc3Npb25JbmRleElkZW50XztyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGU9T2JqZWN0LmNyZWF0ZShjKTtyZXR1cm4gZVtiXT1hLGVbZF09dm9pZCAwLGVbd109YyxlfX19fSxhLlBvbHltZXJFeHByZXNzaW9ucz1yLGEuZXhwb3NlR2V0RXhwcmVzc2lvbiYmKGEuZ2V0RXhwcmVzc2lvbl89YyksYS5Qb2x5bWVyRXhwcmVzc2lvbnMucHJlcGFyZUV2ZW50QmluZGluZz1xfSh0aGlzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZXx8KGU9ITAsYS5lbmRPZk1pY3JvdGFzayhmdW5jdGlvbigpe2U9ITEsbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cCgiUGxhdGZvcm0uZmx1c2goKSIpLGEucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwRW5kKCl9KSl9dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnRleHRDb250ZW50PSJ0ZW1wbGF0ZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCk7dmFyIGUsZj0xMjU7aWYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIldlYkNvbXBvbmVudHNSZWFkeSIsZnVuY3Rpb24oKXtiKCksT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZXx8KGEuZmx1c2hQb2xsPXNldEludGVydmFsKGIsZikpfSksd2luZG93LkN1c3RvbUVsZW1lbnRzJiYhQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlKXt2YXIgZz1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWcuY2FsbCh0aGlzLGEsYik7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYyksY319YS5mbHVzaD1ifSh3aW5kb3cuUGxhdGZvcm0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybS5qcy5tYXA=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Sun, 09 Nov 2014 03:30:49 GMT",
                    "Content-Length": "185537",
                    "Date": "Sun, 09 Nov 2014 03:30:49 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
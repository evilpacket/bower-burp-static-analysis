{
    "url": "http://localhost:9999/RaYell/openui5-custom/test/openui5-runtime/resources/sap/ui/thirdparty/jquery-mobile-custom.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>location.pathname</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>i[0].href=v||location.pathname;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/RaYell/openui5-custom/test/openui5-runtime/resources/sap/ui/thirdparty/jquery-mobile-custom.js",
                "path": "/RaYell/openui5-custom/test/openui5-runtime/resources/sap/ui/thirdparty/jquery-mobile-custom.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9SYVllbGwvb3BlbnVpNS1jdXN0b20vdGVzdC9vcGVudWk1LXJ1bnRpbWUvcmVzb3VyY2VzL3NhcC91aS90aGlyZHBhcnR5L2pxdWVyeS1tb2JpbGUtY3VzdG9tLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTkxNDQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMjE6MjY6MjEgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDIxOjI2OjE0IEdNVA0KDQovKgoqIGpRdWVyeSBNb2JpbGUgdjEuMy4xCiogaHR0cDovL2pxdWVyeW1vYmlsZS5jb20KKgoqIENvcHlyaWdodCAyMDEwLCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnMKKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqCiovDQooZnVuY3Rpb24ocixkLGYpe2lmKHR5cGVvZiBkZWZpbmU9PT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kKXtkZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbigkKXtmKCQscixkKTtyZXR1cm4gJC5tb2JpbGV9KX1lbHNle2Yoci5qUXVlcnkscixkKX19KHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oUSxkLGYsdSl7DQovLyBBYm91dDogTGljZW5zZQ0KLy8gQ29weXJpZ2h0IChjKSAyMDEwICJDb3dib3kiIEJlbiBBbG1hbiwNCi8vIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLg0KLy8gaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlLw0KKGZ1bmN0aW9uKCQsZCx1KXt2YXIgcz0naGFzaGNoYW5nZScsYT1mLGIsYz0kLmV2ZW50LnNwZWNpYWwsZz1hLmRvY3VtZW50TW9kZSxoPSdvbicrcyBpbiBkJiYoZz09PXV8fGc+Nyk7ZnVuY3Rpb24gaShlKXtlPWV8fGxvY2F0aW9uLmhyZWY7cmV0dXJuJyMnK2UucmVwbGFjZSgvXlteI10qIz8oLiopJC8sJyQxJyl9OyQuZm5bc109ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKHMsZSk6dGhpcy50cmlnZ2VyKHMpfTskLmZuW3NdLmRlbGF5PTUwO2Nbc109JC5leHRlbmQoY1tzXSx7c2V0dXA6ZnVuY3Rpb24oKXtpZihoKXtyZXR1cm4gZmFsc2V9JChiLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihoKXtyZXR1cm4gZmFsc2V9JChiLnN0b3ApfX0pO2I9KGZ1bmN0aW9uKCl7dmFyIGo9e30sdCxsPWkoKSxrPWZ1bmN0aW9uKHYpe3JldHVybiB2fSxtPWssbj1rO2ouc3RhcnQ9ZnVuY3Rpb24oKXt0fHxwKCl9O2ouc3RvcD1mdW5jdGlvbigpe3QmJmNsZWFyVGltZW91dCh0KTt0PXV9O2Z1bmN0aW9uIHAoKXt2YXIgZT1pKCksbz1uKGwpO2lmKGUhPT1sKXttKGw9ZSxvKTskKGQpLnRyaWdnZXIocyl9ZWxzZSBpZihvIT09bCl7bG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sJycpK299dD1zZXRUaW1lb3V0KHAsJC5mbltzXS5kZWxheSl9O2QuYXR0YWNoRXZlbnQmJiFkLmFkZEV2ZW50TGlzdGVuZXImJiFoJiYoZnVuY3Rpb24oKXt2YXIgbyxxO2ouc3RhcnQ9ZnVuY3Rpb24oKXtpZighbyl7cT0kLmZuW3NdLnNyYztxPXEmJnEraSgpO289JCgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoJ2xvYWQnLGZ1bmN0aW9uKCl7cXx8bShpKCkpO3AoKX0pLmF0dHIoJ3NyYycscXx8J2phdmFzY3JpcHQ6MCcpLmluc2VydEFmdGVyKCdib2R5JylbMF0uY29udGVudFdpbmRvdzthLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7aWYoZXZlbnQucHJvcGVydHlOYW1lPT09J3RpdGxlJyl7by5kb2N1bWVudC50aXRsZT1hLnRpdGxlfX1jYXRjaChlKXt9fX19O2ouc3RvcD1rO249ZnVuY3Rpb24oKXtyZXR1cm4gaShvLmxvY2F0aW9uLmhyZWYpfTttPWZ1bmN0aW9uKGUscil7dmFyIHY9by5kb2N1bWVudCx3PSQuZm5bc10uZG9tYWluO2lmKGUhPT1yKXt2LnRpdGxlPWEudGl0bGU7di5vcGVuKCk7dyYmdi53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrdysnIjwvc2NyaXB0PicpO3YuY2xvc2UoKTtvLmxvY2F0aW9uLmhhc2g9ZX19fSkoKTtyZXR1cm4gan0pKCl9KShRLHRoaXMpOyhmdW5jdGlvbigkKXskLm1vYmlsZT17fTtRLm1vYmlsZS5vcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ9dHJ1ZX0oUSkpOyhmdW5jdGlvbigkLGQsdSl7dmFyIG49e307JC5tb2JpbGU9JC5leHRlbmQoJC5tb2JpbGUse3ZlcnNpb246IjEuMy4xIixuczoiIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixhY3RpdmVQYWdlQ2xhc3M6InVpLXBhZ2UtYWN0aXZlIixhY3RpdmVCdG5DbGFzczoidWktYnRuLWFjdGl2ZSIsZm9jdXNDbGFzczoidWktZm9jdXMiLGFqYXhFbmFibGVkOnRydWUsaGFzaExpc3RlbmluZ0VuYWJsZWQ6dHJ1ZSxsaW5rQmluZGluZ0VuYWJsZWQ6dHJ1ZSxkZWZhdWx0UGFnZVRyYW5zaXRpb246ImZhZGUiLG1heFRyYW5zaXRpb25XaWR0aDpmYWxzZSxtaW5TY3JvbGxCYWNrOjI1MCx0b3VjaE92ZXJmbG93RW5hYmxlZDpmYWxzZSxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOiJlIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOmZhbHNlLGF1dG9Jbml0aWFsaXplUGFnZTp0cnVlLHB1c2hTdGF0ZUVuYWJsZWQ6dHJ1ZSxpZ25vcmVDb250ZW50RW5hYmxlZDpmYWxzZSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6dHJ1ZSxidXR0b25NYXJrdXA6e2hvdmVyRGVsYXk6MjAwfSx3aW5kb3c6JChkKSxkb2N1bWVudDokKGYpLGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLENPTU1BTkRfUklHSFQ6OTMsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsSU5TRVJUOjQ1LExFRlQ6MzcsTUVOVTo5MyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfSxiZWhhdmlvcnM6e30sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKHkpe2lmKCQudHlwZSh5KSE9PSJudW1iZXIiKXt5PSQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsfSQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPWZhbHNlO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnNjcm9sbFRvKDAseSk7JC5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6eX0pfSwyMCk7c2V0VGltZW91dChmdW5jdGlvbigpeyQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPXRydWV9LDE1MCl9LG5zTm9ybWFsaXplRGljdDpuLG5zTm9ybWFsaXplOmZ1bmN0aW9uKHApe2lmKCFwKXtyZXR1cm59cmV0dXJuIG5bcF18fChuW3BdPSQuY2FtZWxDYXNlKCQubW9iaWxlLm5zK3ApKX0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXt2YXIgZT1hWzBdLGw9IiIscj0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi8sYyxtO3doaWxlKGUpe2M9ZS5jbGFzc05hbWV8fCIiO2lmKGMmJihtPXIuZXhlYyhjKSkmJihsPW1bMl0pKXticmVha31lPWUucGFyZW50Tm9kZX1yZXR1cm4gbHx8Ynx8ImEifSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpLCA6anFtRGF0YShyb2xlPSJkaWFsb2ciKScpLmRhdGEoIm1vYmlsZS1wYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGEsYil7aWYoISQubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXtyZXR1cm4gYX12YXIgZz1hLmxlbmd0aCxoPSQoKSxlLGssbDtmb3IodmFyIGk9MDtpPGc7aSsrKXtrPWEuZXEoaSk7bD1mYWxzZTtlPWFbaV07d2hpbGUoZSl7dmFyIGM9ZS5nZXRBdHRyaWJ1dGU/ZS5nZXRBdHRyaWJ1dGUoImRhdGEtIiskLm1vYmlsZS5ucytiKToiIjtpZihjPT09ImZhbHNlIil7bD10cnVlO2JyZWFrfWU9ZS5wYXJlbnROb2RlfWlmKCFsKXtoPWguYWRkKGspfX1yZXR1cm4gaH0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuaW5uZXJIZWlnaHR8fCQubW9iaWxlLndpbmRvdy5oZWlnaHQoKX19LCQubW9iaWxlKTskLmZuLmpxbURhdGE9ZnVuY3Rpb24ocCx2KXt2YXIgcjtpZih0eXBlb2YgcCE9PSJ1bmRlZmluZWQiKXtpZihwKXtwPSQubW9iaWxlLm5zTm9ybWFsaXplKHApfWlmKGFyZ3VtZW50cy5sZW5ndGg8Mnx8dj09PXUpe3I9dGhpcy5kYXRhKHApfWVsc2V7cj10aGlzLmRhdGEocCx2KX19cmV0dXJuIHJ9OyQuanFtRGF0YT1mdW5jdGlvbihlLHAsdil7dmFyIHI7aWYodHlwZW9mIHAhPT0idW5kZWZpbmVkIil7cj0kLmRhdGEoZSxwPyQubW9iaWxlLm5zTm9ybWFsaXplKHApOnAsdil9cmV0dXJuIHJ9OyQuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihwKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKCQubW9iaWxlLm5zTm9ybWFsaXplKHApKX07JC5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGUscCl7cmV0dXJuICQucmVtb3ZlRGF0YShlLCQubW9iaWxlLm5zTm9ybWFsaXplKHApKX07JC5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbigpeyQucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9OyQucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oZSl7dmFyIGE9JChlKTsoYS5qcW1EYXRhKCdkZXBlbmRlbnRzJyl8fCQoKSkucmVtb3ZlKCk7YS5yZW1vdmUoKX07JC5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGEpeyQuYWRkRGVwZW5kZW50cygkKHRoaXMpLGEpfTskLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oZSxhKXt2YXIgYj0kKGUpLmpxbURhdGEoJ2RlcGVuZGVudHMnKXx8JCgpOyQoZSkuanFtRGF0YSgnZGVwZW5kZW50cycsJC5tZXJnZShiLGEpKX07JC5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiAkKCI8ZGl2Lz4iKS50ZXh0KCQodGhpcykudGV4dCgpKS5odG1sKCl9OyQuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gJC5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9OyQuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiAkLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTt2YXIgbz0kLmZpbmQsaj0vOmpxbURhdGFcKChbXildKilcKS9nOyQuZmluZD1mdW5jdGlvbihzLGMscixlKXtzPXMucmVwbGFjZShqLCJbZGF0YS0iKygkLm1vYmlsZS5uc3x8IiIpKyIkMV0iKTtyZXR1cm4gby5jYWxsKHRoaXMscyxjLHIsZSl9OyQuZXh0ZW5kKCQuZmluZCxvKTskLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihlLHMpe3JldHVybiAkLmZpbmQoZSxudWxsLG51bGwscyl9OyQuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxlKXtyZXR1cm4gJC5maW5kKGUsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9fSkoUSx0aGlzKTsoZnVuY3Rpb24oJCx1KXsNCi8qISBtYXRjaE1lZGlhKCkgcG9seWZpbGwgLSBUZXN0IGEgQ1NTIG1lZGlhIHR5cGUvcXVlcnkgaW4gSlMuIEF1dGhvcnMgJiBjb3B5cmlnaHQgKGMpIDIwMTI6IFNjb3R0IEplaGwsIFBhdWwgSXJpc2gsIE5pY2hvbGFzIFpha2FzLiBEdWFsIE1JVC9CU0QgbGljZW5zZSAqLw0KZC5tYXRjaE1lZGlhPWQubWF0Y2hNZWRpYXx8KGZ1bmN0aW9uKGEsdSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxyPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGc9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmlkPSJtcS10ZXN0LTEiO2cuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7dG9wOi0xMDBlbSI7ZS5zdHlsZS5iYWNrZ3JvdW5kPSJub25lIjtlLmFwcGVuZENoaWxkKGcpO3JldHVybiBmdW5jdGlvbihxKXtnLmlubmVySFRNTD0iJnNoeTs8c3R5bGUgbWVkaWE9XCIiK3ErIlwiPiAjbXEtdGVzdC0xIHsgd2lkdGg6IDQycHg7IH08L3N0eWxlPiI7Yy5pbnNlcnRCZWZvcmUoZSxyKTtiPWcub2Zmc2V0V2lkdGg9PT00MjtjLnJlbW92ZUNoaWxkKGUpO3JldHVybnttYXRjaGVzOmIsbWVkaWE6cX19fShmKSk7JC5tb2JpbGUubWVkaWE9ZnVuY3Rpb24ocSl7cmV0dXJuIGQubWF0Y2hNZWRpYShxKS5tYXRjaGVzfX0pKFEpOyhmdW5jdGlvbigkLHUpe3ZhciBzPXt0b3VjaDoib250b3VjaGVuZCJpbiBmfTskLm1vYmlsZS5zdXBwb3J0PSQubW9iaWxlLnN1cHBvcnR8fHt9OyQuZXh0ZW5kKCQuc3VwcG9ydCxzKTskLmV4dGVuZCgkLm1vYmlsZS5zdXBwb3J0LHMpfShRKSk7KGZ1bmN0aW9uKCQsdSl7JC5leHRlbmQoJC5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gZCYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gZH0pfShRKSk7KGZ1bmN0aW9uKCQsdSl7ZnVuY3Rpb24gcChhKXt2YXIgaT1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLHQ9KGErIiAiK2Uuam9pbihpKyIgIikraSkuc3BsaXQoIiAiKTtmb3IodmFyIHYgaW4gdCl7aWYoY1t0W3ZdXSE9PXUpe3JldHVybiB0cnVlfX19dmFyIGI9JCgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksYz1iWzBdLnN0eWxlLGU9WyJXZWJraXQiLCJNb3oiLCJPIl0sZz0icGFsbUdldFJlc291cmNlImluIGQsbz1kLm9wZXJhLGg9ZC5vcGVyYW1pbmkmJih7fSkudG9TdHJpbmcuY2FsbChkLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIixqPWQuYmxhY2tiZXJyeSYmIXAoIi13ZWJraXQtdHJhbnNmb3JtIik7ZnVuY3Rpb24gayhhLHYsdCl7dmFyIHc9Zi5jcmVhdGVFbGVtZW50KCdkaXYnKSx4PWZ1bmN0aW9uKEMpe3JldHVybiBDLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK0Muc3Vic3RyKDEpfSx5PWZ1bmN0aW9uKEMpe2lmKEM9PT0iIil7cmV0dXJuIiJ9ZWxzZXtyZXR1cm4iLSIrQy5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStDLnN1YnN0cigxKSsiLSJ9fSx6PWZ1bmN0aW9uKEMpe3ZhciBEPXkoQykrYSsiOiAiK3YrIjsiLEU9eChDKSxGPUUrKEU9PT0iIj9hOngoYSkpO3cuc2V0QXR0cmlidXRlKCJzdHlsZSIsRCk7aWYoISF3LnN0eWxlW0ZdKXtCPXRydWV9fSxBPXQ/dDplLEI7Zm9yKHZhciBpPTA7aTxBLmxlbmd0aDtpKyspe3ooQVtpXSl9cmV0dXJuISFCfWZ1bmN0aW9uIGwoKXt2YXIgYT0idHJhbnNmb3JtLTNkIixpPSQubW9iaWxlLm1lZGlhKCIoLSIrZS5qb2luKCItIithKyIpLCgtIikrIi0iK2ErIiksKCIrYSsiKSIpO2lmKGkpe3JldHVybiEhaX12YXIgdj1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHc9eydNb3pUcmFuc2Zvcm0nOictbW96LXRyYW5zZm9ybScsJ3RyYW5zZm9ybSc6J3RyYW5zZm9ybSd9O2IuYXBwZW5kKHYpO2Zvcih2YXIgdCBpbiB3KXtpZih2LnN0eWxlW3RdIT09dSl7di5zdHlsZVt0XT0ndHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApJztpPWQuZ2V0Q29tcHV0ZWRTdHlsZSh2KS5nZXRQcm9wZXJ0eVZhbHVlKHdbdF0pfX1yZXR1cm4oISFpJiZpIT09Im5vbmUiKX1mdW5jdGlvbiBtKCl7dmFyIGE9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixpPSQoImhlYWQgYmFzZSIpLHQ9bnVsbCx2PSIiLHcseDtpZighaS5sZW5ndGgpe2k9dD0kKCI8YmFzZT4iLHsiaHJlZiI6YX0pLmFwcGVuZFRvKCJoZWFkIil9ZWxzZXt2PWkuYXR0cigiaHJlZiIpfXc9JCgiPGEgaHJlZj0ndGVzdHVybCcgLz4iKS5wcmVwZW5kVG8oYik7eD13WzBdLmhyZWY7aVswXS5ocmVmPXZ8fGxvY2F0aW9uLnBhdGhuYW1lO2lmKHQpe3QucmVtb3ZlKCl9cmV0dXJuIHguaW5kZXhPZihhKT09PTB9ZnVuY3Rpb24gbigpe3ZhciBhPWYuY3JlYXRlRWxlbWVudCgneCcpLGk9Zi5kb2N1bWVudEVsZW1lbnQsdD1kLmdldENvbXB1dGVkU3R5bGUsdjtpZighKCdwb2ludGVyRXZlbnRzJ2luIGEuc3R5bGUpKXtyZXR1cm4gZmFsc2V9YS5zdHlsZS5wb2ludGVyRXZlbnRzPSdhdXRvJzthLnN0eWxlLnBvaW50ZXJFdmVudHM9J3gnO2kuYXBwZW5kQ2hpbGQoYSk7dj10JiZ0KGEsJycpLnBvaW50ZXJFdmVudHM9PT0nYXV0byc7aS5yZW1vdmVDaGlsZChhKTtyZXR1cm4hIXZ9ZnVuY3Rpb24gcSgpe3ZhciBhPWYuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PSJ1bmRlZmluZWQifSQuZXh0ZW5kKCQubW9iaWxlLHticm93c2VyOnt9fSk7JC5tb2JpbGUuYnJvd3Nlci5vbGRJRT0oZnVuY3Rpb24oKXt2YXIgdj0zLGk9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKSxhPWkuYWxsfHxbXTtkb3tpLmlubmVySFRNTD0iPCEtLVtpZiBndCBJRSAiKygrK3YpKyJdPjxicj48IVtlbmRpZl0tLT4ifXdoaWxlKGFbMF0pO3JldHVybiB2PjQ/djohdn0pKCk7ZnVuY3Rpb24gcigpe3ZhciB3PWQsYT1uYXZpZ2F0b3IudXNlckFnZW50LGk9bmF2aWdhdG9yLnBsYXRmb3JtLHQ9YS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksdj0hIXQmJnRbMV0seD1hLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLykseT0hIXgmJnhbMV0sej1hLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLEE9ISF6JiZ6WzFdO2lmKCgoaS5pbmRleE9mKCJpUGhvbmUiKT4tMXx8aS5pbmRleE9mKCJpUGFkIik+LTF8fGkuaW5kZXhPZigiaVBvZCIpPi0xKSYmdiYmdjw1MzQpfHwody5vcGVyYW1pbmkmJih7fSkudG9TdHJpbmcuY2FsbCh3Lm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIil8fCh6JiZBPDc0NTgpfHwoYS5pbmRleE9mKCJBbmRyb2lkIik+LTEmJnYmJnY8NTMzKXx8KHkmJnk8Nil8fCgicGFsbUdldFJlc291cmNlImluIGQmJnYmJnY8NTM0KXx8KGEuaW5kZXhPZigiTWVlR28iKT4tMSYmYS5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMSkpe3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX0kLmV4dGVuZCgkLnN1cHBvcnQse2Nzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gZHx8aygndHJhbnNpdGlvbicsJ2hlaWdodCAxMDBtcyBsaW5lYXInLFsiV2Via2l0IiwiTW96IiwiIl0pJiYhJC5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmIW8scHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5JiYhKGQubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94Iik+PTAmJmQudG9wIT09ZCkmJihkLm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9DcmlPUy8pPT09LTEpLG1lZGlhcXVlcnk6JC5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIXAoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhcCgib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpsKCksYm94U2hhZG93OiEhcCgiYm94U2hhZG93IikmJiFqLGZpeGVkUG9zaXRpb246cigpLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIGR8fCJzY3JvbGxUb3AiaW4gZi5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gYlswXSkmJiFnJiYhaCxkeW5hbWljQmFzZVRhZzptKCksY3NzUG9pbnRlckV2ZW50czpuKCksYm91bmRpbmdSZWN0OnEoKX0pO2IucmVtb3ZlKCk7dmFyIHM9KGZ1bmN0aW9uKCl7dmFyIGE9ZC5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSkoKTskLm1vYmlsZS5ncmFkZUE9ZnVuY3Rpb24oKXtyZXR1cm4oJC5zdXBwb3J0Lm1lZGlhcXVlcnl8fCQubW9iaWxlLmJyb3dzZXIub2xkSUUmJiQubW9iaWxlLmJyb3dzZXIub2xkSUU+PTcpJiYoJC5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8JC5mbi5qcXVlcnkubWF0Y2goLzFcLlswLTcrXVwuWzAtOStdPy8pIT09bnVsbCl9OyQubW9iaWxlLmFqYXhCbGFja2xpc3Q9ZC5ibGFja2JlcnJ5JiYhZC5XZWJLaXRQb2ludHx8aHx8cztpZihzKXskKGZ1bmN0aW9uKCl7JCgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KX1pZighJC5zdXBwb3J0LmJveFNoYWRvdyl7JCgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfX0pKFEpOyhmdW5jdGlvbigkLHUpe3ZhciBhPSQubW9iaWxlLndpbmRvdyxzLGg7JC5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPXM9e2JvdW5kOmZhbHNlLHB1c2hTdGF0ZUVuYWJsZWQ6dHJ1ZSxvcmlnaW5hbEV2ZW50TmFtZTp1LGlzUHVzaFN0YXRlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiAkLnN1cHBvcnQucHVzaFN0YXRlJiYkLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkPT09dHJ1ZSYmdGhpcy5pc0hhc2hDaGFuZ2VFbmFibGVkKCl9LGlzSGFzaENoYW5nZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ9PT10cnVlfSxwb3BzdGF0ZTpmdW5jdGlvbihlKXt2YXIgbj1uZXcgJC5FdmVudCgibmF2aWdhdGUiKSxiPW5ldyAkLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGM9ZS5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSxnPWxvY2F0aW9uLmhyZWY7YS50cmlnZ2VyKGIpO2lmKGIuaXNEZWZhdWx0UHJldmVudGVkKCkpe3JldHVybn1pZihlLmhpc3RvcnlTdGF0ZSl7JC5leHRlbmQoYyxlLmhpc3RvcnlTdGF0ZSl9bi5vcmlnaW5hbEV2ZW50PWU7c2V0VGltZW91dChmdW5jdGlvbigpe2EudHJpZ2dlcihuLHtzdGF0ZTpjfSl9LDApfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGUsYil7dmFyIG49bmV3ICQuRXZlbnQoIm5hdmlnYXRlIiksYz1uZXcgJC5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKTthLnRyaWdnZXIoYyk7aWYoYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7cmV0dXJufW4ub3JpZ2luYWxFdmVudD1lO2EudHJpZ2dlcihuLHtzdGF0ZTplLmhhc2hjaGFuZ2VTdGF0ZXx8e319KX0sc2V0dXA6ZnVuY3Rpb24oYixuKXtpZihzLmJvdW5kKXtyZXR1cm59cy5ib3VuZD10cnVlO2lmKHMuaXNQdXNoU3RhdGVFbmFibGVkKCkpe3Mub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIjthLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixzLnBvcHN0YXRlKX1lbHNlIGlmKHMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpKXtzLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIjthLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLHMuaGFzaGNoYW5nZSl9fX19KShRKTsoZnVuY3Rpb24oJCl7JC5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXskKHRoaXMpLmJpbmQoInJlc2l6ZSIsaCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7JCh0aGlzKS51bmJpbmQoInJlc2l6ZSIsaCl9fTt2YXIgdD0yNTAsaD1mdW5jdGlvbigpe2M9KG5ldyBEYXRlKCkpLmdldFRpbWUoKTtiPWMtbDtpZihiPj10KXtsPWM7JCh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKX1lbHNle2lmKGEpe2NsZWFyVGltZW91dChhKX1hPXNldFRpbWVvdXQoaCx0LWIpfX0sbD0wLGEsYyxifSkoUSk7KGZ1bmN0aW9uKCQsZCl7dmFyIHc9JChkKSxlPSJvcmllbnRhdGlvbmNoYW5nZSIscyxnLGwsaSxhLHA9eyIwIjp0cnVlLCIxODAiOnRydWV9O2lmKCQuc3VwcG9ydC5vcmllbnRhdGlvbil7dmFyIGI9ZC5pbm5lcldpZHRofHx3LndpZHRoKCksYz1kLmlubmVySGVpZ2h0fHx3LmhlaWdodCgpLGg9NTA7aT1iPmMmJihiLWMpPmg7YT1wW2Qub3JpZW50YXRpb25dO2lmKChpJiZhKXx8KCFpJiYhYSkpe3A9eyItOTAiOnRydWUsIjkwIjp0cnVlfX19JC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPSQuZXh0ZW5kKHt9LCQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZSx7c2V0dXA6ZnVuY3Rpb24oKXtpZigkLnN1cHBvcnQub3JpZW50YXRpb24mJiEkLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQpe3JldHVybiBmYWxzZX1sPWcoKTt3LmJpbmQoInRocm90dGxlZHJlc2l6ZSIsail9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoJC5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkKXtyZXR1cm4gZmFsc2V9dy51bmJpbmQoInRocm90dGxlZHJlc2l6ZSIsail9LGFkZDpmdW5jdGlvbihrKXt2YXIgbz1rLmhhbmRsZXI7ay5oYW5kbGVyPWZ1bmN0aW9uKG0pe20ub3JpZW50YXRpb249ZygpO3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSk7ZnVuY3Rpb24gaigpe3ZhciBvPWcoKTtpZihvIT09bCl7bD1vO3cudHJpZ2dlcihlKX19JC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWc9ZnVuY3Rpb24oKXt2YXIgaz10cnVlLG09Zi5kb2N1bWVudEVsZW1lbnQ7aWYoJC5zdXBwb3J0Lm9yaWVudGF0aW9uKXtrPXBbZC5vcmllbnRhdGlvbl19ZWxzZXtrPW0mJm0uY2xpZW50V2lkdGgvbS5jbGllbnRIZWlnaHQ8MS4xfXJldHVybiBrPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9OyQuZm5bZV09ZnVuY3Rpb24oayl7cmV0dXJuIGs/dGhpcy5iaW5kKGUsayk6dGhpcy50cmlnZ2VyKGUpfTtpZigkLmF0dHJGbil7JC5hdHRyRm5bZV09dHJ1ZX19KFEsdGhpcykpOyhmdW5jdGlvbigkLGQsZix1KXt2YXIgYT0idmlydHVhbE1vdXNlQmluZGluZ3MiLGM9InZpcnR1YWxUb3VjaElEIix2PSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxnPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLG09JC5ldmVudC5tb3VzZUhvb2tzPyQuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxoPSQuZXZlbnQucHJvcHMuY29uY2F0KG0pLGw9e30scj0wLHM9MCxuPTAscD1mYWxzZSxxPVtdLHc9ZmFsc2Usej1mYWxzZSxBPSJhZGRFdmVudExpc3RlbmVyImluIGYsQj0kKGYpLEM9MSxEPTAsRTskLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAscmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Z1bmN0aW9uIEYoZSl7d2hpbGUoZSYmdHlwZW9mIGUub3JpZ2luYWxFdmVudCE9PSJ1bmRlZmluZWQiKXtlPWUub3JpZ2luYWxFdmVudH1yZXR1cm4gZX1mdW5jdGlvbiBHKGUsYil7dmFyIHQ9ZS50eXBlLG8sayx4LHksXyxhMSxpLGosYjE7ZT0kLkV2ZW50KGUpO2UudHlwZT1iO289ZS5vcmlnaW5hbEV2ZW50O2s9JC5ldmVudC5wcm9wcztpZih0LnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSl7az1ofWlmKG8pe2ZvcihpPWsubGVuZ3RoLHk7aTspe3k9a1stLWldO2VbeV09b1t5XX19aWYodC5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFlLndoaWNoKXtlLndoaWNoPTF9aWYodC5zZWFyY2goL150b3VjaC8pIT09LTEpe3g9RihvKTt0PXgudG91Y2hlcztfPXguY2hhbmdlZFRvdWNoZXM7YTE9KHQmJnQubGVuZ3RoKT90WzBdOigoXyYmXy5sZW5ndGgpP19bMF06dSk7aWYoYTEpe2ZvcihqPTAsYjE9Zy5sZW5ndGg7ajxiMTtqKyspe3k9Z1tqXTtlW3ldPWExW3ldfX19cmV0dXJuIGV9ZnVuY3Rpb24gSChlKXt2YXIgaj17fSxiLGs7d2hpbGUoZSl7Yj0kLmRhdGEoZSxhKTtmb3IoayBpbiBiKXtpZihiW2tdKXtqW2tdPWouaGFzVmlydHVhbEJpbmRpbmc9dHJ1ZX19ZT1lLnBhcmVudE5vZGV9cmV0dXJuIGp9ZnVuY3Rpb24gSShlLGope3ZhciBiO3doaWxlKGUpe2I9JC5kYXRhKGUsYSk7aWYoYiYmKCFqfHxiW2pdKSl7cmV0dXJuIGV9ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSigpe3o9ZmFsc2V9ZnVuY3Rpb24gSygpe3o9dHJ1ZX1mdW5jdGlvbiBMKCl7RD0wO3EubGVuZ3RoPTA7dz1mYWxzZTtLKCl9ZnVuY3Rpb24gTSgpe0ooKX1mdW5jdGlvbiBOKCl7TygpO3I9c2V0VGltZW91dChmdW5jdGlvbigpe3I9MDtMKCl9LCQudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gTygpe2lmKHIpe2NsZWFyVGltZW91dChyKTtyPTB9fWZ1bmN0aW9uIFAoZSxiLGope3ZhciBrO2lmKChqJiZqW2VdKXx8KCFqJiZJKGIudGFyZ2V0LGUpKSl7az1HKGIsZSk7JChiLnRhcmdldCkudHJpZ2dlcihrKX1yZXR1cm4ga31mdW5jdGlvbiBSKGUpe3ZhciB0PSQuZGF0YShlLnRhcmdldCxjKTtpZighdyYmKCFEfHxEIT09dCkpe3ZhciBiPVAoInYiK2UudHlwZSxlKTtpZihiKXtpZihiLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtlLnByZXZlbnREZWZhdWx0KCl9aWYoYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXtlLnN0b3BQcm9wYWdhdGlvbigpfWlmKGIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX19fX1mdW5jdGlvbiBTKGUpe3ZhciBiPUYoZSkudG91Y2hlcyxqLGs7aWYoYiYmYi5sZW5ndGg9PT0xKXtqPWUudGFyZ2V0O2s9SChqKTtpZihrLmhhc1ZpcnR1YWxCaW5kaW5nKXtEPUMrKzskLmRhdGEoaixjLEQpO08oKTtNKCk7cD1mYWxzZTt2YXIgdD1GKGUpLnRvdWNoZXNbMF07cz10LnBhZ2VYO249dC5wYWdlWTtQKCJ2bW91c2VvdmVyIixlLGspO1AoInZtb3VzZWRvd24iLGUsayl9fX1mdW5jdGlvbiBUKGUpe2lmKHope3JldHVybn1pZighcCl7UCgidm1vdXNlY2FuY2VsIixlLEgoZS50YXJnZXQpKX1wPXRydWU7TigpfWZ1bmN0aW9uIFUoZSl7aWYoeil7cmV0dXJufXZhciB0PUYoZSkudG91Y2hlc1swXSxiPXAsaj0kLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQsaz1IKGUudGFyZ2V0KTtwPXB8fChNYXRoLmFicyh0LnBhZ2VYLXMpPmp8fE1hdGguYWJzKHQucGFnZVktbik+aik7aWYocCYmIWIpe1AoInZtb3VzZWNhbmNlbCIsZSxrKX1QKCJ2bW91c2Vtb3ZlIixlLGspO04oKX1mdW5jdGlvbiBWKGUpe2lmKHope3JldHVybn1LKCk7dmFyIGI9SChlLnRhcmdldCksdDtQKCJ2bW91c2V1cCIsZSxiKTtpZighcCl7dmFyIGo9UCgidmNsaWNrIixlLGIpO2lmKGomJiQuc3VwcG9ydC50b3VjaCl7dD1GKGUpLmNoYW5nZWRUb3VjaGVzWzBdO3EucHVzaCh7dG91Y2hJRDpELHg6dC5jbGllbnRYLHk6dC5jbGllbnRZLHRhcmdldDplLnRhcmdldH0pO3c9dHJ1ZX19UCgidm1vdXNlb3V0IixlLGIpO3A9ZmFsc2U7TigpfWZ1bmN0aW9uIFcoZSl7dmFyIGI9JC5kYXRhKGUsYSksaztpZihiKXtmb3IoayBpbiBiKXtpZihiW2tdKXtyZXR1cm4gdHJ1ZX19fXJldHVybiBmYWxzZX1mdW5jdGlvbiBYKCl7fWZ1bmN0aW9uIFkoZSl7dmFyIGI9ZS5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKGosayl7aWYoIVcodGhpcykpeyQuZGF0YSh0aGlzLGEse30pfXZhciBvPSQuZGF0YSh0aGlzLGEpO29bZV09dHJ1ZTtsW2VdPShsW2VdfHwwKSsxO2lmKGxbZV09PT0xKXtCLmJpbmQoYixSKX0kKHRoaXMpLmJpbmQoYixYKTtpZihBKXtsWyJ0b3VjaHN0YXJ0Il09KGxbInRvdWNoc3RhcnQiXXx8MCkrMTtpZihsWyJ0b3VjaHN0YXJ0Il09PT0xKXtCLmJpbmQoInRvdWNoc3RhcnQiLFMpLmJpbmQoInRvdWNoZW5kIixWKS5iaW5kKCJ0b3VjaG1vdmUiLFUpfX19LHRlYXJkb3duOmZ1bmN0aW9uKGosayl7LS1sW2VdO2lmKCFsW2VdKXtCLnVuYmluZChiLFIpfWlmKEEpey0tbFsidG91Y2hzdGFydCJdO2lmKCFsWyJ0b3VjaHN0YXJ0Il0pe0IudW5iaW5kKCJ0b3VjaHN0YXJ0IixTKS51bmJpbmQoInRvdWNobW92ZSIsVSkudW5iaW5kKCJ0b3VjaGVuZCIsVikudW5iaW5kKCJzY3JvbGwiLFQpfX12YXIgbz0kKHRoaXMpLHQ9JC5kYXRhKHRoaXMsYSk7aWYodCl7dFtlXT1mYWxzZX1vLnVuYmluZChiLFgpO2lmKCFXKHRoaXMpKXtvLnJlbW92ZURhdGEoYSl9fX19Zm9yKHZhciBpPTA7aTx2Lmxlbmd0aDtpKyspeyQuZXZlbnQuc3BlY2lhbFt2W2ldXT1ZKHZbaV0pfWlmKEEpe2Z1bmN0aW9uIFooZSl7dmFyIGI9cS5sZW5ndGgsdD1lLnRhcmdldCx4LHksaixpLG8saztpZihiKXt4PWUuY2xpZW50WDt5PWUuY2xpZW50WTtFPSQudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7aj10O3doaWxlKGope2ZvcihpPTA7aTxiO2krKyl7bz1xW2ldO2s9MDtpZigoaj09PXQmJk1hdGguYWJzKG8ueC14KTxFJiZNYXRoLmFicyhvLnkteSk8RSl8fCQuZGF0YShqLGMpPT09by50b3VjaElEKXtpZighZS5pc1N5bnRoZXRpYyl7ZS5fc2FwdWlfZGVsYXllZE1vdXNlRXZlbnQ9dHJ1ZX1pZih0PT09by50YXJnZXQpe3JldHVybn1lLnByZXZlbnREZWZhdWx0KCk7ZS5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59fWo9ai5wYXJlbnROb2RlfX19O2YuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIixaLHRydWUpO2YuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsWix0cnVlKTtmLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixaLHRydWUpfX0pKFEsZCxmKTsoZnVuY3Rpb24oJCxkLHUpe3ZhciBhPSQoZik7JC5lYWNoKCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgIisidGFwIHRhcGhvbGQgIisic3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgIisic2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIpLnNwbGl0KCIgIiksZnVuY3Rpb24oaSxuKXskLmZuW25dPWZ1bmN0aW9uKGgpe3JldHVybiBoP3RoaXMuYmluZChuLGgpOnRoaXMudHJpZ2dlcihuKX07aWYoJC5hdHRyRm4peyQuYXR0ckZuW25dPXRydWV9fSk7dmFyIHM9JC5tb2JpbGUuc3VwcG9ydC50b3VjaCxiPSJ0b3VjaG1vdmUgc2Nyb2xsIix0PXM/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGM9cz8idG91Y2hlbmQgdG91Y2hjYW5jZWwiOiJtb3VzZXVwIixlPXM/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7ZnVuY3Rpb24gZyhvLGgsaSl7dmFyIGo9aS50eXBlO2kudHlwZT1oOyQuZXZlbnQuZGlzcGF0Y2guY2FsbChvLGkpO2kudHlwZT1qfSQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDp0cnVlLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxpPSQoaCksaixrO2Z1bmN0aW9uIGwobSxuKXtqPW47ZyhoLGo/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsbSl9aS5iaW5kKGIsZnVuY3Rpb24obSl7aWYoISQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkKXtyZXR1cm59aWYoIWope2wobSx0cnVlKX1jbGVhclRpbWVvdXQoayk7az1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bChtLGZhbHNlKX0sNTApfSl9fTskLmV2ZW50LnNwZWNpYWwudGFwPXt0YXBob2xkVGhyZXNob2xkOjc1MCxzZXR1cDpmdW5jdGlvbigpe3ZhciBoPXRoaXMsaT0kKGgpO2kuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oail7aWYoai53aGljaCYmai53aGljaCE9PTEpe3JldHVybiBmYWxzZX12YXIgbz1qLnRhcmdldCxrPWoub3JpZ2luYWxFdmVudCxsO2Z1bmN0aW9uIG0oKXtjbGVhclRpbWVvdXQobCl9ZnVuY3Rpb24gbigpe20oKTtpLnVuYmluZCgidmNsaWNrIixwKS51bmJpbmQoInZtb3VzZXVwIixtKTthLnVuYmluZCgidm1vdXNlY2FuY2VsIixuKX1mdW5jdGlvbiBwKGope24oKTtpZihvPT09ai50YXJnZXQpe2coaCwidGFwIixqKX19aS5iaW5kKCJ2bW91c2V1cCIsbSkuYmluZCgidmNsaWNrIixwKTthLmJpbmQoInZtb3VzZWNhbmNlbCIsbik7bD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZyhoLCJ0YXBob2xkIiwkLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0Om99KSl9LCQuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX19OyQuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxMDAwLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHN0YXJ0OmZ1bmN0aW9uKGgpe3ZhciBpPWgub3JpZ2luYWxFdmVudC50b3VjaGVzP2gub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmg7cmV0dXJue3RpbWU6KG5ldyBEYXRlKCkpLmdldFRpbWUoKSxjb29yZHM6W2kucGFnZVgsaS5wYWdlWV0sb3JpZ2luOiQoaC50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihoKXt2YXIgaT1oLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9oLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpoO3JldHVybnt0aW1lOihuZXcgRGF0ZSgpKS5nZXRUaW1lKCksY29vcmRzOltpLnBhZ2VYLGkucGFnZVldfX0saGFuZGxlU3dpcGU6ZnVuY3Rpb24oaCxpKXtpZihpLnRpbWUtaC50aW1lPCQuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoaC5jb29yZHNbMF0taS5jb29yZHNbMF0pPiQuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGguY29vcmRzWzFdLWkuY29vcmRzWzFdKTwkLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCl7aC5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKGguY29vcmRzWzBdPmkuY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iil9fSxzZXR1cDpmdW5jdGlvbigpe3ZhciBoPXRoaXMsaT0kKGgpO2kuYmluZCh0LGZ1bmN0aW9uKGope2lmKGoub3JpZ2luYWxFdmVudC5fc2FwdWlfc3dpcGVzdGFydEhhbmRsZWQpe3JldHVybn1qLm9yaWdpbmFsRXZlbnQuX3NhcHVpX3N3aXBlc3RhcnRIYW5kbGVkPXRydWU7dmFyIGs9JC5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGopLGw7ZnVuY3Rpb24gbShqKXtpZighayl7cmV0dXJufWw9JC5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3Aoaik7aWYoIXNhcC51aS5EZXZpY2Uuc3lzdGVtLmRlc2t0b3B8fHNhcC51aS5EZXZpY2UuYnJvd3Nlci5uYW1lIT09ImNyIil7aWYoTWF0aC5hYnMoay5jb29yZHNbMF0tbC5jb29yZHNbMF0pPiQuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkKXtqLnByZXZlbnREZWZhdWx0KCl9fX1mdW5jdGlvbiBuKGope2kudW5iaW5kKGUsbSkudW5iaW5kKGMsbik7aWYoayYmbCl7JC5ldmVudC5zcGVjaWFsLnN3aXBlLmhhbmRsZVN3aXBlKGssbCl9az1sPXV9aS5iaW5kKGUsbSkuYmluZChjLG4pfSl9fTskLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oaCxpKXskLmV2ZW50LnNwZWNpYWxbaF09e3NldHVwOmZ1bmN0aW9uKCl7JCh0aGlzKS5iaW5kKGksJC5ub29wKX19fSl9KShRLHRoaXMpfSkpOw0K",
                "body": "LyoKKiBqUXVlcnkgTW9iaWxlIHYxLjMuMQoqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tCioKKiBDb3B5cmlnaHQgMjAxMCwgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKgoqLw0KKGZ1bmN0aW9uKHIsZCxmKXtpZih0eXBlb2YgZGVmaW5lPT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24oJCl7ZigkLHIsZCk7cmV0dXJuICQubW9iaWxlfSl9ZWxzZXtmKHIualF1ZXJ5LHIsZCl9fSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKFEsZCxmLHUpew0KLy8gQWJvdXQ6IExpY2Vuc2UNCi8vIENvcHlyaWdodCAoYykgMjAxMCAiQ293Ym95IiBCZW4gQWxtYW4sDQovLyBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy4NCi8vIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS8NCihmdW5jdGlvbigkLGQsdSl7dmFyIHM9J2hhc2hjaGFuZ2UnLGE9ZixiLGM9JC5ldmVudC5zcGVjaWFsLGc9YS5kb2N1bWVudE1vZGUsaD0nb24nK3MgaW4gZCYmKGc9PT11fHxnPjcpO2Z1bmN0aW9uIGkoZSl7ZT1lfHxsb2NhdGlvbi5ocmVmO3JldHVybicjJytlLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCckMScpfTskLmZuW3NdPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChzLGUpOnRoaXMudHJpZ2dlcihzKX07JC5mbltzXS5kZWxheT01MDtjW3NdPSQuZXh0ZW5kKGNbc10se3NldHVwOmZ1bmN0aW9uKCl7aWYoaCl7cmV0dXJuIGZhbHNlfSQoYi5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoaCl7cmV0dXJuIGZhbHNlfSQoYi5zdG9wKX19KTtiPShmdW5jdGlvbigpe3ZhciBqPXt9LHQsbD1pKCksaz1mdW5jdGlvbih2KXtyZXR1cm4gdn0sbT1rLG49aztqLnN0YXJ0PWZ1bmN0aW9uKCl7dHx8cCgpfTtqLnN0b3A9ZnVuY3Rpb24oKXt0JiZjbGVhclRpbWVvdXQodCk7dD11fTtmdW5jdGlvbiBwKCl7dmFyIGU9aSgpLG89bihsKTtpZihlIT09bCl7bShsPWUsbyk7JChkKS50cmlnZ2VyKHMpfWVsc2UgaWYobyE9PWwpe2xvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCcnKStvfXQ9c2V0VGltZW91dChwLCQuZm5bc10uZGVsYXkpfTtkLmF0dGFjaEV2ZW50JiYhZC5hZGRFdmVudExpc3RlbmVyJiYhaCYmKGZ1bmN0aW9uKCl7dmFyIG8scTtqLnN0YXJ0PWZ1bmN0aW9uKCl7aWYoIW8pe3E9JC5mbltzXS5zcmM7cT1xJiZxK2koKTtvPSQoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCdsb2FkJyxmdW5jdGlvbigpe3F8fG0oaSgpKTtwKCl9KS5hdHRyKCdzcmMnLHF8fCdqYXZhc2NyaXB0OjAnKS5pbnNlcnRBZnRlcignYm9keScpWzBdLmNvbnRlbnRXaW5kb3c7YS5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2lmKGV2ZW50LnByb3BlcnR5TmFtZT09PSd0aXRsZScpe28uZG9jdW1lbnQudGl0bGU9YS50aXRsZX19Y2F0Y2goZSl7fX19fTtqLnN0b3A9aztuPWZ1bmN0aW9uKCl7cmV0dXJuIGkoby5sb2NhdGlvbi5ocmVmKX07bT1mdW5jdGlvbihlLHIpe3ZhciB2PW8uZG9jdW1lbnQsdz0kLmZuW3NdLmRvbWFpbjtpZihlIT09cil7di50aXRsZT1hLnRpdGxlO3Yub3BlbigpO3cmJnYud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK3crJyI8L3NjcmlwdD4nKTt2LmNsb3NlKCk7by5sb2NhdGlvbi5oYXNoPWV9fX0pKCk7cmV0dXJuIGp9KSgpfSkoUSx0aGlzKTsoZnVuY3Rpb24oJCl7JC5tb2JpbGU9e307US5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkPXRydWV9KFEpKTsoZnVuY3Rpb24oJCxkLHUpe3ZhciBuPXt9OyQubW9iaWxlPSQuZXh0ZW5kKCQubW9iaWxlLHt2ZXJzaW9uOiIxLjMuMSIsbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDp0cnVlLGhhc2hMaXN0ZW5pbmdFbmFibGVkOnRydWUsbGlua0JpbmRpbmdFbmFibGVkOnRydWUsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ZmFsc2UsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ZmFsc2UsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDpmYWxzZSxhdXRvSW5pdGlhbGl6ZVBhZ2U6dHJ1ZSxwdXNoU3RhdGVFbmFibGVkOnRydWUsaWdub3JlQ29udGVudEVuYWJsZWQ6ZmFsc2Usb3JpZW50YXRpb25DaGFuZ2VFbmFibGVkOnRydWUsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sd2luZG93OiQoZCksZG9jdW1lbnQ6JChmKSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbih5KXtpZigkLnR5cGUoeSkhPT0ibnVtYmVyIil7eT0kLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbH0kLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD1mYWxzZTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zY3JvbGxUbygwLHkpOyQubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5Onl9KX0sMjApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXskLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD10cnVlfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6bixuc05vcm1hbGl6ZTpmdW5jdGlvbihwKXtpZighcCl7cmV0dXJufXJldHVybiBuW3BdfHwobltwXT0kLmNhbWVsQ2FzZSgkLm1vYmlsZS5ucytwKSl9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7dmFyIGU9YVswXSxsPSIiLHI9L3VpLShiYXJ8Ym9keXxvdmVybGF5KS0oW2Etel0pXGIvLGMsbTt3aGlsZShlKXtjPWUuY2xhc3NOYW1lfHwiIjtpZihjJiYobT1yLmV4ZWMoYykpJiYobD1tWzJdKSl7YnJlYWt9ZT1lLnBhcmVudE5vZGV9cmV0dXJuIGx8fGJ8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJtb2JpbGUtcGFnZSIpfSxlbmhhbmNlYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJlbmhhbmNlIil9LGhpamFja2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiYWpheCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbihhLGIpe2lmKCEkLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZCl7cmV0dXJuIGF9dmFyIGc9YS5sZW5ndGgsaD0kKCksZSxrLGw7Zm9yKHZhciBpPTA7aTxnO2krKyl7az1hLmVxKGkpO2w9ZmFsc2U7ZT1hW2ldO3doaWxlKGUpe3ZhciBjPWUuZ2V0QXR0cmlidXRlP2UuZ2V0QXR0cmlidXRlKCJkYXRhLSIrJC5tb2JpbGUubnMrYik6IiI7aWYoYz09PSJmYWxzZSIpe2w9dHJ1ZTticmVha31lPWUucGFyZW50Tm9kZX1pZighbCl7aD1oLmFkZChrKX19cmV0dXJuIGh9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBkLmlubmVySGVpZ2h0fHwkLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9fSwkLm1vYmlsZSk7JC5mbi5qcW1EYXRhPWZ1bmN0aW9uKHAsdil7dmFyIHI7aWYodHlwZW9mIHAhPT0idW5kZWZpbmVkIil7aWYocCl7cD0kLm1vYmlsZS5uc05vcm1hbGl6ZShwKX1pZihhcmd1bWVudHMubGVuZ3RoPDJ8fHY9PT11KXtyPXRoaXMuZGF0YShwKX1lbHNle3I9dGhpcy5kYXRhKHAsdil9fXJldHVybiByfTskLmpxbURhdGE9ZnVuY3Rpb24oZSxwLHYpe3ZhciByO2lmKHR5cGVvZiBwIT09InVuZGVmaW5lZCIpe3I9JC5kYXRhKGUscD8kLm1vYmlsZS5uc05vcm1hbGl6ZShwKTpwLHYpfXJldHVybiByfTskLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YSgkLm1vYmlsZS5uc05vcm1hbGl6ZShwKSl9OyQuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihlLHApe3JldHVybiAkLnJlbW92ZURhdGEoZSwkLm1vYmlsZS5uc05vcm1hbGl6ZShwKSl9OyQuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXskLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfTskLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGUpe3ZhciBhPSQoZSk7KGEuanFtRGF0YSgnZGVwZW5kZW50cycpfHwkKCkpLnJlbW92ZSgpO2EucmVtb3ZlKCl9OyQuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbihhKXskLmFkZERlcGVuZGVudHMoJCh0aGlzKSxhKX07JC5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGUsYSl7dmFyIGI9JChlKS5qcW1EYXRhKCdkZXBlbmRlbnRzJyl8fCQoKTskKGUpLmpxbURhdGEoJ2RlcGVuZGVudHMnLCQubWVyZ2UoYixhKSl9OyQuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gJCgiPGRpdi8+IikudGV4dCgkKHRoaXMpLnRleHQoKSkuaHRtbCgpfTskLmZuLmpxbUVuaGFuY2VhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuICQubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfTskLmZuLmpxbUhpamFja2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gJC5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX07dmFyIG89JC5maW5kLGo9LzpqcW1EYXRhXCgoW14pXSopXCkvZzskLmZpbmQ9ZnVuY3Rpb24ocyxjLHIsZSl7cz1zLnJlcGxhY2UoaiwiW2RhdGEtIisoJC5tb2JpbGUubnN8fCIiKSsiJDFdIik7cmV0dXJuIG8uY2FsbCh0aGlzLHMsYyxyLGUpfTskLmV4dGVuZCgkLmZpbmQsbyk7JC5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oZSxzKXtyZXR1cm4gJC5maW5kKGUsbnVsbCxudWxsLHMpfTskLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsZSl7cmV0dXJuICQuZmluZChlLG51bGwsbnVsbCxbYV0pLmxlbmd0aD4wfX0pKFEsdGhpcyk7KGZ1bmN0aW9uKCQsdSl7DQovKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLiBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcy4gRHVhbCBNSVQvQlNEIGxpY2Vuc2UgKi8NCmQubWF0Y2hNZWRpYT1kLm1hdGNoTWVkaWF8fChmdW5jdGlvbihhLHUpe3ZhciBiLGM9YS5kb2N1bWVudEVsZW1lbnQscj1jLmZpcnN0RWxlbWVudENoaWxkfHxjLmZpcnN0Q2hpbGQsZT1hLmNyZWF0ZUVsZW1lbnQoImJvZHkiKSxnPWEuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5pZD0ibXEtdGVzdC0xIjtnLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iO2Uuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSI7ZS5hcHBlbmRDaGlsZChnKTtyZXR1cm4gZnVuY3Rpb24ocSl7Zy5pbm5lckhUTUw9IiZzaHk7PHN0eWxlIG1lZGlhPVwiIitxKyJcIj4gI21xLXRlc3QtMSB7IHdpZHRoOiA0MnB4OyB9PC9zdHlsZT4iO2MuaW5zZXJ0QmVmb3JlKGUscik7Yj1nLm9mZnNldFdpZHRoPT09NDI7Yy5yZW1vdmVDaGlsZChlKTtyZXR1cm57bWF0Y2hlczpiLG1lZGlhOnF9fX0oZikpOyQubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKHEpe3JldHVybiBkLm1hdGNoTWVkaWEocSkubWF0Y2hlc319KShRKTsoZnVuY3Rpb24oJCx1KXt2YXIgcz17dG91Y2g6Im9udG91Y2hlbmQiaW4gZn07JC5tb2JpbGUuc3VwcG9ydD0kLm1vYmlsZS5zdXBwb3J0fHx7fTskLmV4dGVuZCgkLnN1cHBvcnQscyk7JC5leHRlbmQoJC5tb2JpbGUuc3VwcG9ydCxzKX0oUSkpOyhmdW5jdGlvbigkLHUpeyQuZXh0ZW5kKCQuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluIGQmJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIGR9KX0oUSkpOyhmdW5jdGlvbigkLHUpe2Z1bmN0aW9uIHAoYSl7dmFyIGk9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSx0PShhKyIgIitlLmpvaW4oaSsiICIpK2kpLnNwbGl0KCIgIik7Zm9yKHZhciB2IGluIHQpe2lmKGNbdFt2XV0hPT11KXtyZXR1cm4gdHJ1ZX19fXZhciBiPSQoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGM9YlswXS5zdHlsZSxlPVsiV2Via2l0IiwiTW96IiwiTyJdLGc9InBhbG1HZXRSZXNvdXJjZSJpbiBkLG89ZC5vcGVyYSxoPWQub3BlcmFtaW5pJiYoe30pLnRvU3RyaW5nLmNhbGwoZC5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSIsaj1kLmJsYWNrYmVycnkmJiFwKCItd2Via2l0LXRyYW5zZm9ybSIpO2Z1bmN0aW9uIGsoYSx2LHQpe3ZhciB3PWYuY3JlYXRlRWxlbWVudCgnZGl2JykseD1mdW5jdGlvbihDKXtyZXR1cm4gQy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStDLnN1YnN0cigxKX0seT1mdW5jdGlvbihDKXtpZihDPT09IiIpe3JldHVybiIifWVsc2V7cmV0dXJuIi0iK0MuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrQy5zdWJzdHIoMSkrIi0ifX0sej1mdW5jdGlvbihDKXt2YXIgRD15KEMpK2ErIjogIit2KyI7IixFPXgoQyksRj1FKyhFPT09IiI/YTp4KGEpKTt3LnNldEF0dHJpYnV0ZSgic3R5bGUiLEQpO2lmKCEhdy5zdHlsZVtGXSl7Qj10cnVlfX0sQT10P3Q6ZSxCO2Zvcih2YXIgaT0wO2k8QS5sZW5ndGg7aSsrKXt6KEFbaV0pfXJldHVybiEhQn1mdW5jdGlvbiBsKCl7dmFyIGE9InRyYW5zZm9ybS0zZCIsaT0kLm1vYmlsZS5tZWRpYSgiKC0iK2Uuam9pbigiLSIrYSsiKSwoLSIpKyItIithKyIpLCgiK2ErIikiKTtpZihpKXtyZXR1cm4hIWl9dmFyIHY9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKSx3PXsnTW96VHJhbnNmb3JtJzonLW1vei10cmFuc2Zvcm0nLCd0cmFuc2Zvcm0nOid0cmFuc2Zvcm0nfTtiLmFwcGVuZCh2KTtmb3IodmFyIHQgaW4gdyl7aWYodi5zdHlsZVt0XSE9PXUpe3Yuc3R5bGVbdF09J3RyYW5zbGF0ZTNkKCAxMDBweCwgMXB4LCAxcHggKSc7aT1kLmdldENvbXB1dGVkU3R5bGUodikuZ2V0UHJvcGVydHlWYWx1ZSh3W3RdKX19cmV0dXJuKCEhaSYmaSE9PSJub25lIil9ZnVuY3Rpb24gbSgpe3ZhciBhPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsaT0kKCJoZWFkIGJhc2UiKSx0PW51bGwsdj0iIix3LHg7aWYoIWkubGVuZ3RoKXtpPXQ9JCgiPGJhc2U+Iix7ImhyZWYiOmF9KS5hcHBlbmRUbygiaGVhZCIpfWVsc2V7dj1pLmF0dHIoImhyZWYiKX13PSQoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKGIpO3g9d1swXS5ocmVmO2lbMF0uaHJlZj12fHxsb2NhdGlvbi5wYXRobmFtZTtpZih0KXt0LnJlbW92ZSgpfXJldHVybiB4LmluZGV4T2YoYSk9PT0wfWZ1bmN0aW9uIG4oKXt2YXIgYT1mLmNyZWF0ZUVsZW1lbnQoJ3gnKSxpPWYuZG9jdW1lbnRFbGVtZW50LHQ9ZC5nZXRDb21wdXRlZFN0eWxlLHY7aWYoISgncG9pbnRlckV2ZW50cydpbiBhLnN0eWxlKSl7cmV0dXJuIGZhbHNlfWEuc3R5bGUucG9pbnRlckV2ZW50cz0nYXV0byc7YS5zdHlsZS5wb2ludGVyRXZlbnRzPSd4JztpLmFwcGVuZENoaWxkKGEpO3Y9dCYmdChhLCcnKS5wb2ludGVyRXZlbnRzPT09J2F1dG8nO2kucmVtb3ZlQ2hpbGQoYSk7cmV0dXJuISF2fWZ1bmN0aW9uIHEoKXt2YXIgYT1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiB0eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT0idW5kZWZpbmVkIn0kLmV4dGVuZCgkLm1vYmlsZSx7YnJvd3Nlcjp7fX0pOyQubW9iaWxlLmJyb3dzZXIub2xkSUU9KGZ1bmN0aW9uKCl7dmFyIHY9MyxpPWYuY3JlYXRlRWxlbWVudCgiZGl2IiksYT1pLmFsbHx8W107ZG97aS5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisoKyt2KSsiXT48YnI+PCFbZW5kaWZdLS0+In13aGlsZShhWzBdKTtyZXR1cm4gdj40P3Y6IXZ9KSgpO2Z1bmN0aW9uIHIoKXt2YXIgdz1kLGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxpPW5hdmlnYXRvci5wbGF0Zm9ybSx0PWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLHY9ISF0JiZ0WzFdLHg9YS5tYXRjaCgvRmVubmVjXC8oWzAtOV0rKS8pLHk9ISF4JiZ4WzFdLHo9YS5tYXRjaCgvT3BlcmEgTW9iaVwvKFswLTldKykvKSxBPSEheiYmelsxXTtpZigoKGkuaW5kZXhPZigiaVBob25lIik+LTF8fGkuaW5kZXhPZigiaVBhZCIpPi0xfHxpLmluZGV4T2YoImlQb2QiKT4tMSkmJnYmJnY8NTM0KXx8KHcub3BlcmFtaW5pJiYoe30pLnRvU3RyaW5nLmNhbGwody5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSIpfHwoeiYmQTw3NDU4KXx8KGEuaW5kZXhPZigiQW5kcm9pZCIpPi0xJiZ2JiZ2PDUzMyl8fCh5JiZ5PDYpfHwoInBhbG1HZXRSZXNvdXJjZSJpbiBkJiZ2JiZ2PDUzNCl8fChhLmluZGV4T2YoIk1lZUdvIik+LTEmJmEuaW5kZXhPZigiTm9raWFCcm93c2VyLzguNS4wIik+LTEpKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9JC5leHRlbmQoJC5zdXBwb3J0LHtjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIGR8fGsoJ3RyYW5zaXRpb24nLCdoZWlnaHQgMTAwbXMgbGluZWFyJyxbIldlYmtpdCIsIk1veiIsIiJdKSYmISQubW9iaWxlLmJyb3dzZXIub2xkSUUmJiFvLHB1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShkLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZkLnRvcCE9PWQpJiYoZC5uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgvQ3JpT1MvKT09PS0xKSxtZWRpYXF1ZXJ5OiQubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFwKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIXAoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6bCgpLGJveFNoYWRvdzohIXAoImJveFNoYWRvdyIpJiYhaixmaXhlZFBvc2l0aW9uOnIoKSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiBkfHwic2Nyb2xsVG9wImluIGYuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGJbMF0pJiYhZyYmIWgsZHluYW1pY0Jhc2VUYWc6bSgpLGNzc1BvaW50ZXJFdmVudHM6bigpLGJvdW5kaW5nUmVjdDpxKCl9KTtiLnJlbW92ZSgpO3ZhciBzPShmdW5jdGlvbigpe3ZhciBhPWQubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKCJOb2tpYSIpPi0xJiYoYS5pbmRleE9mKCJTeW1iaWFuLzMiKT4tMXx8YS5pbmRleE9mKCJTZXJpZXM2MC81Iik+LTEpJiZhLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEmJmEubWF0Y2goLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVwvN1wuWzAtM10vKX0pKCk7JC5tb2JpbGUuZ3JhZGVBPWZ1bmN0aW9uKCl7cmV0dXJuKCQuc3VwcG9ydC5tZWRpYXF1ZXJ5fHwkLm1vYmlsZS5icm93c2VyLm9sZElFJiYkLm1vYmlsZS5icm93c2VyLm9sZElFPj03KSYmKCQuc3VwcG9ydC5ib3VuZGluZ1JlY3R8fCQuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSE9PW51bGwpfTskLm1vYmlsZS5hamF4QmxhY2tsaXN0PWQuYmxhY2tiZXJyeSYmIWQuV2ViS2l0UG9pbnR8fGh8fHM7aWYocyl7JChmdW5jdGlvbigpeyQoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSl9aWYoISQuc3VwcG9ydC5ib3hTaGFkb3cpeyQoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX19KShRKTsoZnVuY3Rpb24oJCx1KXt2YXIgYT0kLm1vYmlsZS53aW5kb3cscyxoOyQuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZT1zPXtib3VuZDpmYWxzZSxwdXNoU3RhdGVFbmFibGVkOnRydWUsb3JpZ2luYWxFdmVudE5hbWU6dSxpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gJC5zdXBwb3J0LnB1c2hTdGF0ZSYmJC5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PXRydWUmJnRoaXMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpfSxpc0hhc2hDaGFuZ2VFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuICQubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkPT09dHJ1ZX0scG9wc3RhdGU6ZnVuY3Rpb24oZSl7dmFyIG49bmV3ICQuRXZlbnQoIm5hdmlnYXRlIiksYj1uZXcgJC5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKSxjPWUub3JpZ2luYWxFdmVudC5zdGF0ZXx8e30sZz1sb2NhdGlvbi5ocmVmO2EudHJpZ2dlcihiKTtpZihiLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtyZXR1cm59aWYoZS5oaXN0b3J5U3RhdGUpeyQuZXh0ZW5kKGMsZS5oaXN0b3J5U3RhdGUpfW4ub3JpZ2luYWxFdmVudD1lO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRyaWdnZXIobix7c3RhdGU6Y30pfSwwKX0saGFzaGNoYW5nZTpmdW5jdGlvbihlLGIpe3ZhciBuPW5ldyAkLkV2ZW50KCJuYXZpZ2F0ZSIpLGM9bmV3ICQuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7YS50cmlnZ2VyKGMpO2lmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkpe3JldHVybn1uLm9yaWdpbmFsRXZlbnQ9ZTthLnRyaWdnZXIobix7c3RhdGU6ZS5oYXNoY2hhbmdlU3RhdGV8fHt9fSl9LHNldHVwOmZ1bmN0aW9uKGIsbil7aWYocy5ib3VuZCl7cmV0dXJufXMuYm91bmQ9dHJ1ZTtpZihzLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXtzLm9yaWdpbmFsRXZlbnROYW1lPSJwb3BzdGF0ZSI7YS5iaW5kKCJwb3BzdGF0ZS5uYXZpZ2F0ZSIscy5wb3BzdGF0ZSl9ZWxzZSBpZihzLmlzSGFzaENoYW5nZUVuYWJsZWQoKSl7cy5vcmlnaW5hbEV2ZW50TmFtZT0iaGFzaGNoYW5nZSI7YS5iaW5kKCJoYXNoY2hhbmdlLm5hdmlnYXRlIixzLmhhc2hjaGFuZ2UpfX19fSkoUSk7KGZ1bmN0aW9uKCQpeyQuZXZlbnQuc3BlY2lhbC50aHJvdHRsZWRyZXNpemU9e3NldHVwOmZ1bmN0aW9uKCl7JCh0aGlzKS5iaW5kKCJyZXNpemUiLGgpfSx0ZWFyZG93bjpmdW5jdGlvbigpeyQodGhpcykudW5iaW5kKCJyZXNpemUiLGgpfX07dmFyIHQ9MjUwLGg9ZnVuY3Rpb24oKXtjPShuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7Yj1jLWw7aWYoYj49dCl7bD1jOyQodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIil9ZWxzZXtpZihhKXtjbGVhclRpbWVvdXQoYSl9YT1zZXRUaW1lb3V0KGgsdC1iKX19LGw9MCxhLGMsYn0pKFEpOyhmdW5jdGlvbigkLGQpe3ZhciB3PSQoZCksZT0ib3JpZW50YXRpb25jaGFuZ2UiLHMsZyxsLGksYSxwPXsiMCI6dHJ1ZSwiMTgwIjp0cnVlfTtpZigkLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciBiPWQuaW5uZXJXaWR0aHx8dy53aWR0aCgpLGM9ZC5pbm5lckhlaWdodHx8dy5oZWlnaHQoKSxoPTUwO2k9Yj5jJiYoYi1jKT5oO2E9cFtkLm9yaWVudGF0aW9uXTtpZigoaSYmYSl8fCghaSYmIWEpKXtwPXsiLTkwIjp0cnVlLCI5MCI6dHJ1ZX19fSQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT0kLmV4dGVuZCh7fSwkLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Use3NldHVwOmZ1bmN0aW9uKCl7aWYoJC5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkKXtyZXR1cm4gZmFsc2V9bD1nKCk7dy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGopfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKCQuc3VwcG9ydC5vcmllbnRhdGlvbiYmISQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZCl7cmV0dXJuIGZhbHNlfXcudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGopfSxhZGQ6ZnVuY3Rpb24oayl7dmFyIG89ay5oYW5kbGVyO2suaGFuZGxlcj1mdW5jdGlvbihtKXttLm9yaWVudGF0aW9uPWcoKTtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pO2Z1bmN0aW9uIGooKXt2YXIgbz1nKCk7aWYobyE9PWwpe2w9bzt3LnRyaWdnZXIoZSl9fSQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1nPWZ1bmN0aW9uKCl7dmFyIGs9dHJ1ZSxtPWYuZG9jdW1lbnRFbGVtZW50O2lmKCQuc3VwcG9ydC5vcmllbnRhdGlvbil7az1wW2Qub3JpZW50YXRpb25dfWVsc2V7az1tJiZtLmNsaWVudFdpZHRoL20uY2xpZW50SGVpZ2h0PDEuMX1yZXR1cm4gaz8icG9ydHJhaXQiOiJsYW5kc2NhcGUifTskLmZuW2VdPWZ1bmN0aW9uKGspe3JldHVybiBrP3RoaXMuYmluZChlLGspOnRoaXMudHJpZ2dlcihlKX07aWYoJC5hdHRyRm4peyQuYXR0ckZuW2VdPXRydWV9fShRLHRoaXMpKTsoZnVuY3Rpb24oJCxkLGYsdSl7dmFyIGE9InZpcnR1YWxNb3VzZUJpbmRpbmdzIixjPSJ2aXJ0dWFsVG91Y2hJRCIsdj0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIiksZz0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSxtPSQuZXZlbnQubW91c2VIb29rcz8kLmV2ZW50Lm1vdXNlSG9va3MucHJvcHM6W10saD0kLmV2ZW50LnByb3BzLmNvbmNhdChtKSxsPXt9LHI9MCxzPTAsbj0wLHA9ZmFsc2UscT1bXSx3PWZhbHNlLHo9ZmFsc2UsQT0iYWRkRXZlbnRMaXN0ZW5lciJpbiBmLEI9JChmKSxDPTEsRD0wLEU7JC52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmdW5jdGlvbiBGKGUpe3doaWxlKGUmJnR5cGVvZiBlLm9yaWdpbmFsRXZlbnQhPT0idW5kZWZpbmVkIil7ZT1lLm9yaWdpbmFsRXZlbnR9cmV0dXJuIGV9ZnVuY3Rpb24gRyhlLGIpe3ZhciB0PWUudHlwZSxvLGsseCx5LF8sYTEsaSxqLGIxO2U9JC5FdmVudChlKTtlLnR5cGU9YjtvPWUub3JpZ2luYWxFdmVudDtrPSQuZXZlbnQucHJvcHM7aWYodC5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEpe2s9aH1pZihvKXtmb3IoaT1rLmxlbmd0aCx5O2k7KXt5PWtbLS1pXTtlW3ldPW9beV19fWlmKHQuc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhZS53aGljaCl7ZS53aGljaD0xfWlmKHQuc2VhcmNoKC9edG91Y2gvKSE9PS0xKXt4PUYobyk7dD14LnRvdWNoZXM7Xz14LmNoYW5nZWRUb3VjaGVzO2ExPSh0JiZ0Lmxlbmd0aCk/dFswXTooKF8mJl8ubGVuZ3RoKT9fWzBdOnUpO2lmKGExKXtmb3Ioaj0wLGIxPWcubGVuZ3RoO2o8YjE7aisrKXt5PWdbal07ZVt5XT1hMVt5XX19fXJldHVybiBlfWZ1bmN0aW9uIEgoZSl7dmFyIGo9e30sYixrO3doaWxlKGUpe2I9JC5kYXRhKGUsYSk7Zm9yKGsgaW4gYil7aWYoYltrXSl7altrXT1qLmhhc1ZpcnR1YWxCaW5kaW5nPXRydWV9fWU9ZS5wYXJlbnROb2RlfXJldHVybiBqfWZ1bmN0aW9uIEkoZSxqKXt2YXIgYjt3aGlsZShlKXtiPSQuZGF0YShlLGEpO2lmKGImJighanx8YltqXSkpe3JldHVybiBlfWU9ZS5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIEooKXt6PWZhbHNlfWZ1bmN0aW9uIEsoKXt6PXRydWV9ZnVuY3Rpb24gTCgpe0Q9MDtxLmxlbmd0aD0wO3c9ZmFsc2U7SygpfWZ1bmN0aW9uIE0oKXtKKCl9ZnVuY3Rpb24gTigpe08oKTtyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyPTA7TCgpfSwkLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIE8oKXtpZihyKXtjbGVhclRpbWVvdXQocik7cj0wfX1mdW5jdGlvbiBQKGUsYixqKXt2YXIgaztpZigoaiYmaltlXSl8fCghaiYmSShiLnRhcmdldCxlKSkpe2s9RyhiLGUpOyQoYi50YXJnZXQpLnRyaWdnZXIoayl9cmV0dXJuIGt9ZnVuY3Rpb24gUihlKXt2YXIgdD0kLmRhdGEoZS50YXJnZXQsYyk7aWYoIXcmJighRHx8RCE9PXQpKXt2YXIgYj1QKCJ2IitlLnR5cGUsZSk7aWYoYil7aWYoYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ZS5wcmV2ZW50RGVmYXVsdCgpfWlmKGIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7ZS5zdG9wUHJvcGFnYXRpb24oKX1pZihiLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9fX19ZnVuY3Rpb24gUyhlKXt2YXIgYj1GKGUpLnRvdWNoZXMsaixrO2lmKGImJmIubGVuZ3RoPT09MSl7aj1lLnRhcmdldDtrPUgoaik7aWYoay5oYXNWaXJ0dWFsQmluZGluZyl7RD1DKys7JC5kYXRhKGosYyxEKTtPKCk7TSgpO3A9ZmFsc2U7dmFyIHQ9RihlKS50b3VjaGVzWzBdO3M9dC5wYWdlWDtuPXQucGFnZVk7UCgidm1vdXNlb3ZlciIsZSxrKTtQKCJ2bW91c2Vkb3duIixlLGspfX19ZnVuY3Rpb24gVChlKXtpZih6KXtyZXR1cm59aWYoIXApe1AoInZtb3VzZWNhbmNlbCIsZSxIKGUudGFyZ2V0KSl9cD10cnVlO04oKX1mdW5jdGlvbiBVKGUpe2lmKHope3JldHVybn12YXIgdD1GKGUpLnRvdWNoZXNbMF0sYj1wLGo9JC52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkLGs9SChlLnRhcmdldCk7cD1wfHwoTWF0aC5hYnModC5wYWdlWC1zKT5qfHxNYXRoLmFicyh0LnBhZ2VZLW4pPmopO2lmKHAmJiFiKXtQKCJ2bW91c2VjYW5jZWwiLGUsayl9UCgidm1vdXNlbW92ZSIsZSxrKTtOKCl9ZnVuY3Rpb24gVihlKXtpZih6KXtyZXR1cm59SygpO3ZhciBiPUgoZS50YXJnZXQpLHQ7UCgidm1vdXNldXAiLGUsYik7aWYoIXApe3ZhciBqPVAoInZjbGljayIsZSxiKTtpZihqJiYkLnN1cHBvcnQudG91Y2gpe3Q9RihlKS5jaGFuZ2VkVG91Y2hlc1swXTtxLnB1c2goe3RvdWNoSUQ6RCx4OnQuY2xpZW50WCx5OnQuY2xpZW50WSx0YXJnZXQ6ZS50YXJnZXR9KTt3PXRydWV9fVAoInZtb3VzZW91dCIsZSxiKTtwPWZhbHNlO04oKX1mdW5jdGlvbiBXKGUpe3ZhciBiPSQuZGF0YShlLGEpLGs7aWYoYil7Zm9yKGsgaW4gYil7aWYoYltrXSl7cmV0dXJuIHRydWV9fX1yZXR1cm4gZmFsc2V9ZnVuY3Rpb24gWCgpe31mdW5jdGlvbiBZKGUpe3ZhciBiPWUuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbihqLGspe2lmKCFXKHRoaXMpKXskLmRhdGEodGhpcyxhLHt9KX12YXIgbz0kLmRhdGEodGhpcyxhKTtvW2VdPXRydWU7bFtlXT0obFtlXXx8MCkrMTtpZihsW2VdPT09MSl7Qi5iaW5kKGIsUil9JCh0aGlzKS5iaW5kKGIsWCk7aWYoQSl7bFsidG91Y2hzdGFydCJdPShsWyJ0b3VjaHN0YXJ0Il18fDApKzE7aWYobFsidG91Y2hzdGFydCJdPT09MSl7Qi5iaW5kKCJ0b3VjaHN0YXJ0IixTKS5iaW5kKCJ0b3VjaGVuZCIsVikuYmluZCgidG91Y2htb3ZlIixVKX19fSx0ZWFyZG93bjpmdW5jdGlvbihqLGspey0tbFtlXTtpZighbFtlXSl7Qi51bmJpbmQoYixSKX1pZihBKXstLWxbInRvdWNoc3RhcnQiXTtpZighbFsidG91Y2hzdGFydCJdKXtCLnVuYmluZCgidG91Y2hzdGFydCIsUykudW5iaW5kKCJ0b3VjaG1vdmUiLFUpLnVuYmluZCgidG91Y2hlbmQiLFYpLnVuYmluZCgic2Nyb2xsIixUKX19dmFyIG89JCh0aGlzKSx0PSQuZGF0YSh0aGlzLGEpO2lmKHQpe3RbZV09ZmFsc2V9by51bmJpbmQoYixYKTtpZighVyh0aGlzKSl7by5yZW1vdmVEYXRhKGEpfX19fWZvcih2YXIgaT0wO2k8di5sZW5ndGg7aSsrKXskLmV2ZW50LnNwZWNpYWxbdltpXV09WSh2W2ldKX1pZihBKXtmdW5jdGlvbiBaKGUpe3ZhciBiPXEubGVuZ3RoLHQ9ZS50YXJnZXQseCx5LGosaSxvLGs7aWYoYil7eD1lLmNsaWVudFg7eT1lLmNsaWVudFk7RT0kLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkO2o9dDt3aGlsZShqKXtmb3IoaT0wO2k8YjtpKyspe289cVtpXTtrPTA7aWYoKGo9PT10JiZNYXRoLmFicyhvLngteCk8RSYmTWF0aC5hYnMoby55LXkpPEUpfHwkLmRhdGEoaixjKT09PW8udG91Y2hJRCl7aWYoIWUuaXNTeW50aGV0aWMpe2UuX3NhcHVpX2RlbGF5ZWRNb3VzZUV2ZW50PXRydWV9aWYodD09PW8udGFyZ2V0KXtyZXR1cm59ZS5wcmV2ZW50RGVmYXVsdCgpO2Uuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJufX1qPWoucGFyZW50Tm9kZX19fTtmLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsWix0cnVlKTtmLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLFosdHJ1ZSk7Zi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsWix0cnVlKX19KShRLGQsZik7KGZ1bmN0aW9uKCQsZCx1KXt2YXIgYT0kKGYpOyQuZWFjaCgoInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kICIrInRhcCB0YXBob2xkICIrInN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0ICIrInNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiKS5zcGxpdCgiICIpLGZ1bmN0aW9uKGksbil7JC5mbltuXT1mdW5jdGlvbihoKXtyZXR1cm4gaD90aGlzLmJpbmQobixoKTp0aGlzLnRyaWdnZXIobil9O2lmKCQuYXR0ckZuKXskLmF0dHJGbltuXT10cnVlfX0pO3ZhciBzPSQubW9iaWxlLnN1cHBvcnQudG91Y2gsYj0idG91Y2htb3ZlIHNjcm9sbCIsdD1zPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixjPXM/InRvdWNoZW5kIHRvdWNoY2FuY2VsIjoibW91c2V1cCIsZT1zPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2Z1bmN0aW9uIGcobyxoLGkpe3ZhciBqPWkudHlwZTtpLnR5cGU9aDskLmV2ZW50LmRpc3BhdGNoLmNhbGwobyxpKTtpLnR5cGU9an0kLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6dHJ1ZSxzZXR1cDpmdW5jdGlvbigpe3ZhciBoPXRoaXMsaT0kKGgpLGosaztmdW5jdGlvbiBsKG0sbil7aj1uO2coaCxqPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLG0pfWkuYmluZChiLGZ1bmN0aW9uKG0pe2lmKCEkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCl7cmV0dXJufWlmKCFqKXtsKG0sdHJ1ZSl9Y2xlYXJUaW1lb3V0KGspO2s9c2V0VGltZW91dChmdW5jdGlvbigpe2wobSxmYWxzZSl9LDUwKX0pfX07JC5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGk9JChoKTtpLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGope2lmKGoud2hpY2gmJmoud2hpY2ghPT0xKXtyZXR1cm4gZmFsc2V9dmFyIG89ai50YXJnZXQsaz1qLm9yaWdpbmFsRXZlbnQsbDtmdW5jdGlvbiBtKCl7Y2xlYXJUaW1lb3V0KGwpfWZ1bmN0aW9uIG4oKXttKCk7aS51bmJpbmQoInZjbGljayIscCkudW5iaW5kKCJ2bW91c2V1cCIsbSk7YS51bmJpbmQoInZtb3VzZWNhbmNlbCIsbil9ZnVuY3Rpb24gcChqKXtuKCk7aWYobz09PWoudGFyZ2V0KXtnKGgsInRhcCIsail9fWkuYmluZCgidm1vdXNldXAiLG0pLmJpbmQoInZjbGljayIscCk7YS5iaW5kKCJ2bW91c2VjYW5jZWwiLG4pO2w9c2V0VGltZW91dChmdW5jdGlvbigpe2coaCwidGFwaG9sZCIsJC5FdmVudCgidGFwaG9sZCIse3RhcmdldDpvfSkpfSwkLmV2ZW50LnNwZWNpYWwudGFwLnRhcGhvbGRUaHJlc2hvbGQpfSl9fTskLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MzAsZHVyYXRpb25UaHJlc2hvbGQ6MTAwMCxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzdGFydDpmdW5jdGlvbihoKXt2YXIgaT1oLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9oLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpoO3JldHVybnt0aW1lOihuZXcgRGF0ZSgpKS5nZXRUaW1lKCksY29vcmRzOltpLnBhZ2VYLGkucGFnZVldLG9yaWdpbjokKGgudGFyZ2V0KX19LHN0b3A6ZnVuY3Rpb24oaCl7dmFyIGk9aC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/aC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06aDtyZXR1cm57dGltZToobmV3IERhdGUoKSkuZ2V0VGltZSgpLGNvb3JkczpbaS5wYWdlWCxpLnBhZ2VZXX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGgsaSl7aWYoaS50aW1lLWgudGltZTwkLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGguY29vcmRzWzBdLWkuY29vcmRzWzBdKT4kLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhoLmNvb3Jkc1sxXS1pLmNvb3Jkc1sxXSk8JC5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQpe2gub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihoLmNvb3Jkc1swXT5pLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpfX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGk9JChoKTtpLmJpbmQodCxmdW5jdGlvbihqKXtpZihqLm9yaWdpbmFsRXZlbnQuX3NhcHVpX3N3aXBlc3RhcnRIYW5kbGVkKXtyZXR1cm59ai5vcmlnaW5hbEV2ZW50Ll9zYXB1aV9zd2lwZXN0YXJ0SGFuZGxlZD10cnVlO3ZhciBrPSQuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdGFydChqKSxsO2Z1bmN0aW9uIG0oail7aWYoIWspe3JldHVybn1sPSQuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGopO2lmKCFzYXAudWkuRGV2aWNlLnN5c3RlbS5kZXNrdG9wfHxzYXAudWkuRGV2aWNlLmJyb3dzZXIubmFtZSE9PSJjciIpe2lmKE1hdGguYWJzKGsuY29vcmRzWzBdLWwuY29vcmRzWzBdKT4kLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCl7ai5wcmV2ZW50RGVmYXVsdCgpfX19ZnVuY3Rpb24gbihqKXtpLnVuYmluZChlLG0pLnVuYmluZChjLG4pO2lmKGsmJmwpeyQuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShrLGwpfWs9bD11fWkuYmluZChlLG0pLmJpbmQoYyxuKX0pfX07JC5lYWNoKHtzY3JvbGxzdG9wOiJzY3JvbGxzdGFydCIsdGFwaG9sZDoidGFwIixzd2lwZWxlZnQ6InN3aXBlIixzd2lwZXJpZ2h0OiJzd2lwZSJ9LGZ1bmN0aW9uKGgsaSl7JC5ldmVudC5zcGVjaWFsW2hdPXtzZXR1cDpmdW5jdGlvbigpeyQodGhpcykuYmluZChpLCQubm9vcCl9fX0pfSkoUSx0aGlzKX0pKTsNCg==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 21:26:14 GMT",
                    "Content-Length": "19144",
                    "Date": "Fri, 07 Nov 2014 21:26:21 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/froala/wysiwyg-editor/js/froala_editor.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>window.location.href</b> and written to <b>the 'prepend()' function of JQuery</b> via the following statement:<ul><li>c.prepend('&lt;input type=\"hidden\" name=\"XHR_CORS_TRARGETORIGIN\" value=\"'+window.location.href+'\" /&gt;');</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/froala/wysiwyg-editor/js/froala_editor.min.js",
                "path": "/froala/wysiwyg-editor/js/froala_editor.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9mcm9hbGEvd3lzaXd5Zy1lZGl0b3IvanMvZnJvYWxhX2VkaXRvci5taW4uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTUxMjMyDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBTdW4sIDA5IE5vdiAyMDE0IDAzOjIyOjE4IEdNVA0KTGFzdC1Nb2RpZmllZDogU3VuLCAwOSBOb3YgMjAxNCAwMzoyMjoxNyBHTVQNCg0KLyohCiAqIGZyb2FsYV9lZGl0b3IgdjEuMi40IChodHRwOi8vZWRpdG9yLmZyb2FsYS5jb20pCiAqIENvcHlyaWdodCAyMDE0LTIwMTQgRnJvYWxhCiAqLwppZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoIkZyb2FsYSByZXF1aXJlcyBqUXVlcnkiKTshZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWZ1bmN0aW9uKGMsZCl7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGIuREVGQVVMVFMsYShjKS5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBkJiZkKSx0aGlzLnZhbGlkX25vZGVzPWEubWVyZ2UoW10sYi5WQUxJRF9OT0RFUyksdGhpcy52YWxpZF9ub2Rlcz1hLm1lcmdlKHRoaXMudmFsaWRfbm9kZXMsYS5tYXAoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmJsb2NrVGFncyksZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKX0pKSx0aGlzLmJyb3dzZXI9Yi5icm93c2VyKCksdGhpcy5kaXNhYmxlZExpc3Q9W10sdGhpcy5faWQ9KytiLmNvdW50LHRoaXMuX2V2ZW50cz17fSx0aGlzLmJsdXJyZWQ9ITAsdGhpcy4kd2luZG93PWEod2luZG93KSx0aGlzLiRkb2N1bWVudD1hKGRvY3VtZW50KSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50PWEoYyksdGhpcy5pbml0KGMpLGEoYykub24oImVkaXRhYmxlLmZvY3VzIixhLnByb3h5KGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTE7Yjw9YS5FZGl0YWJsZS5jb3VudDtiKyspYiE9dGhpcy5faWQmJmEod2luZG93KS50cmlnZ2VyKCJibHVyLiIrYil9LHRoaXMpKX07Yi5pbml0aWFsaXplcnM9W10sYi5jb3VudD0wLGIuVkFMSURfTk9ERVM9WyJQIiwiRElWIiwiTEkiLCJURCIsIlRIIl0sYi5MQU5HUz1bXSxiLkRFRkFVTFRTPXthbGxvd2VkQXR0cnM6WyJhY2NlcHQiLCJhY2NlcHQtY2hhcnNldCIsImFjY2Vzc2tleSIsImFjdGlvbiIsImFsaWduIiwiYWx0IiwiYXN5bmMiLCJhdXRvY29tcGxldGUiLCJhdXRvZm9jdXMiLCJhdXRvcGxheSIsImF1dG9zYXZlIiwiYmFja2dyb3VuZCIsImJnY29sb3IiLCJib3JkZXIiLCJjaGFyc2V0IiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNoZWNrZWQiLCJjaXRlIiwiY2xhc3MiLCJjb2xvciIsImNvbHMiLCJjb2xzcGFuIiwiY29udGVudGVkaXRhYmxlIiwiY29udGV4dG1lbnUiLCJjb250cm9scyIsImNvb3JkcyIsImRhdGEiLCJkYXRhLS4qIiwiZGF0ZXRpbWUiLCJkZWZhdWx0IiwiZGVmZXIiLCJkaXIiLCJkaXJuYW1lIiwiZGlzYWJsZWQiLCJkb3dubG9hZCIsImRyYWdnYWJsZSIsImRyb3B6b25lIiwiZW5jdHlwZSIsImZvciIsImZvcm0iLCJmb3JtYWN0aW9uIiwiaGVhZGVycyIsImhlaWdodCIsImhpZGRlbiIsImhpZ2giLCJocmVmIiwiaHJlZmxhbmciLCJpY29uIiwiaWQiLCJpc21hcCIsIml0ZW1wcm9wIiwia2V5dHlwZSIsImtpbmQiLCJsYWJlbCIsImxhbmciLCJsYW5ndWFnZSIsImxpc3QiLCJsb29wIiwibG93IiwibWF4IiwibWF4bGVuZ3RoIiwibWVkaWEiLCJtZXRob2QiLCJtaW4iLCJtdWx0aXBsZSIsIm5hbWUiLCJub3ZhbGlkYXRlIiwib3BlbiIsIm9wdGltdW0iLCJwYXR0ZXJuIiwicGluZyIsInBsYWNlaG9sZGVyIiwicG9zdGVyIiwicHJlbG9hZCIsInB1YmRhdGUiLCJyYWRpb2dyb3VwIiwicmVhZG9ubHkiLCJyZWwiLCJyZXF1aXJlZCIsInJldmVyc2VkIiwicm93cyIsInJvd3NwYW4iLCJzYW5kYm94Iiwic2NvcGUiLCJzY29wZWQiLCJzY3JvbGxpbmciLCJzZWFtbGVzcyIsInNlbGVjdGVkIiwic2hhcGUiLCJzaXplIiwic2l6ZXMiLCJzcGFuIiwic3JjIiwic3JjZG9jIiwic3JjbGFuZyIsInNyY3NldCIsInN0YXJ0Iiwic3RlcCIsInN1bW1hcnkiLCJzcGVsbGNoZWNrIiwic3R5bGUiLCJ0YWJpbmRleCIsInRhcmdldCIsInRpdGxlIiwidHlwZSIsInRyYW5zbGF0ZSIsInVzZW1hcCIsInZhbHVlIiwidmFsaWduIiwid2lkdGgiLCJ3cmFwIl0sYWxsb3dlZFRhZ3M6WyIhLS0iLCJhIiwiYWJiciIsImFkZHJlc3MiLCJhcmVhIiwiYXJ0aWNsZSIsImFzaWRlIiwiYXVkaW8iLCJiIiwiYmFzZSIsImJkaSIsImJkbyIsImJsb2NrcXVvdGUiLCJiciIsImJ1dHRvbiIsImNhbnZhcyIsImNhcHRpb24iLCJjaXRlIiwiY29kZSIsImNvbCIsImNvbGdyb3VwIiwiZGF0YWxpc3QiLCJkZCIsImRlbCIsImRldGFpbHMiLCJkZm4iLCJkaWFsb2ciLCJkaXYiLCJkbCIsImR0IiwiZW0iLCJlbWJlZCIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImZvcm0iLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJoZWFkZXIiLCJoZ3JvdXAiLCJociIsImkiLCJpZnJhbWUiLCJpbWciLCJpbnB1dCIsImlucyIsImtiZCIsImtleWdlbiIsImxhYmVsIiwibGVnZW5kIiwibGkiLCJsaW5rIiwibWFpbiIsIm1hcCIsIm1hcmsiLCJtZW51IiwibWVudWl0ZW0iLCJtZXRlciIsIm5hdiIsIm5vc2NyaXB0Iiwib2JqZWN0Iiwib2wiLCJvcHRncm91cCIsIm9wdGlvbiIsIm91dHB1dCIsInAiLCJwYXJhbSIsInByZSIsInByb2dyZXNzIiwicXVldWUiLCJycCIsInJ0IiwicnVieSIsInMiLCJzYW1wIiwic2NyaXB0Iiwic2VjdGlvbiIsInNlbGVjdCIsInNtYWxsIiwic291cmNlIiwic3BhbiIsInN0cm9uZyIsInN0eWxlIiwic3ViIiwic3VtbWFyeSIsInN1cCIsInRhYmxlIiwidGJvZHkiLCJ0ZCIsInRleHRhcmVhIiwidGZvb3QiLCJ0aCIsInRoZWFkIiwidGltZSIsInRpdGxlIiwidHIiLCJ0cmFjayIsInUiLCJ1bCIsInZhciIsInZpZGVvIiwid2JyIl0sYWx3YXlzQmxhbms6ITEsYWx3YXlzVmlzaWJsZTohMSxhdXRvc2F2ZTohMSxhdXRvc2F2ZUludGVydmFsOjFlNCxiZWF1dGlmeUNvZGU6ITAsYmxvY2tUYWdzOntuOiJOb3JtYWwiLGJsb2NrcXVvdGU6IlF1b3RlIixwcmU6IkNvZGUiLGgxOiJIZWFkaW5nIDEiLGgyOiJIZWFkaW5nIDIiLGgzOiJIZWFkaW5nIDMiLGg0OiJIZWFkaW5nIDQiLGg1OiJIZWFkaW5nIDUiLGg2OiJIZWFkaW5nIDYifSxidXR0b25zOlsiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsInN0cmlrZVRocm91Z2giLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsInNlcCIsImZvcm1hdEJsb2NrIiwiYmxvY2tTdHlsZSIsImFsaWduIiwiaW5zZXJ0T3JkZXJlZExpc3QiLCJpbnNlcnRVbm9yZGVyZWRMaXN0Iiwib3V0ZGVudCIsImluZGVudCIsInNlcCIsImNyZWF0ZUxpbmsiLCJpbnNlcnRJbWFnZSIsImluc2VydFZpZGVvIiwiaW5zZXJ0SG9yaXpvbnRhbFJ1bGUiLCJ1bmRvIiwicmVkbyIsImh0bWwiXSxjcm9zc0RvbWFpbjohMCxjb252ZXJ0TWFpbEFkZHJlc3NlczohMCxjdXN0b21CdXR0b25zOnt9LGN1c3RvbURyb3Bkb3duczp7fSxjdXN0b21UZXh0OiExLGRpcmVjdGlvbjoibHRyIixkaXNhYmxlUmlnaHRDbGljazohMSxlZGl0SW5Qb3B1cDohMSxlZGl0b3JDbGFzczoiIixmb3JtYXRUYWdzOlsicCIsInByZSIsImJsb2NrcXVvdGUiLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJkaXYiLCJ1bCIsIm9sIiwibGkiLCJ0YWJsZSIsInRib2R5IiwidGhlYWQiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCJdLGhlYWRlcnM6e30saGVpZ2h0OiJhdXRvIixpY29uczp7fSxpbmxpbmVNb2RlOiEwLGluaXRPbkNsaWNrOiExLGxhbmd1YWdlOiJlbl91cyIsbGlua0xpc3Q6W10sbGlua1RleHQ6ITEsbGlua0NsYXNzZXM6e30sbWF4SGVpZ2h0OiJhdXRvIixtaW5IZWlnaHQ6ImF1dG8iLG5vRm9sbG93OiEwLHBhcmFncmFwaHk6ITAscGxhY2Vob2xkZXI6IlR5cGUgc29tZXRoaW5nIixwbGFpblBhc3RlOiExLHByZWxvYWRlclNyYzoiIixzYXZlVVJMOm51bGwsc2F2ZVBhcmFtczp7fSxzYXZlUmVxdWVzdFR5cGU6IlBPU1QiLHNpbXBsZUFtcGVyc2FuZDohMSxzaG9ydGN1dHM6ITAsc2hvcnRjdXRzQXZhaWxhYmxlOlsic2hvdyIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJjcmVhdGVMaW5rIiwiaW5zZXJ0SW1hZ2UiLCJzZWxlY3RBbGwiLCJpbmRlbnQiLCJvdXRkZW50IiwiaHRtbCIsImZvcm1hdEJsb2NrIG4iLCJmb3JtYXRCbG9jayBoMSIsImZvcm1hdEJsb2NrIGgyIiwiZm9ybWF0QmxvY2sgaDMiLCJmb3JtYXRCbG9jayBoNCIsImZvcm1hdEJsb2NrIGg1IiwiZm9ybWF0QmxvY2sgaDYiLCJmb3JtYXRCbG9jayBibG9ja3F1b3RlIiwiZm9ybWF0QmxvY2sgcHJlIiwic3RyaWtlVGhyb3VnaCJdLHNwZWxsY2hlY2s6ITEsdGhlbWU6bnVsbCx0b29sYmFyRml4ZWQ6ITAsdHJhY2tTY3JvbGw6ITEsdW5saW5rQnV0dG9uOiEwLHRhYlNwYWNlczohMCx0eXBpbmdUaW1lcjo1MDAscGFzdGVkSW1hZ2VzVXBsb2FkUmVxdWVzdFR5cGU6IlBPU1QiLHBhc3RlZEltYWdlc1VwbG9hZFVSTDoiaHR0cDovL2kuZnJvYWxhLmNvbS91cGxvYWRfYmFzZTY0Iix3aWR0aDoiYXV0byIsd2l0aENyZWRlbnRpYWxzOiExLHpJbmRleDoyZTN9LGIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN5bmMoKSx0aGlzLmFkZEZyVGFnKCksdGhpcy5oaWRlKCksdGhpcy5pc0hUTUwmJnRoaXMuaHRtbCgpLHRoaXMuJGJ0dG5fd3JhcHBlciYmdGhpcy4kYnR0bl93cmFwcGVyLmh0bWwoIiIpLnJlbW92ZURhdGEoKS5yZW1vdmUoKSx0aGlzLiRlZGl0b3ImJnRoaXMuJGVkaXRvci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksdGhpcy5yYWlzZUV2ZW50KCJkZXN0cm95IiksdGhpcy4kcG9wdXBfZWRpdG9yJiZ0aGlzLiRwb3B1cF9lZGl0b3IuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpLHRoaXMuJHBsYWNlaG9sZGVyJiZ0aGlzLiRwbGFjZWhvbGRlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksY2xlYXJUaW1lb3V0KHRoaXMuYWpheEludGVydmFsKSxjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lciksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiwiKioiKSxhKHdpbmRvdykub2ZmKCJtb3VzZXVwLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoImtleWRvd24uIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigia2V5dXAuIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigiYmx1ci4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJoaWRlLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoInNjcm9sbC4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJvcmllbnRhdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSxhKGRvY3VtZW50KS5vZmYoInNlbGVjdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50Lm9mZigiZWRpdGFibGUiKSx2b2lkIDAhPT10aGlzLiR1cGxvYWRfZnJhbWUmJnRoaXMuJHVwbG9hZF9mcmFtZS5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYSYmKHRoaXMuJGJveC5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYS5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLHRoaXMuJHRleHRhcmVhLnNob3coKSk7Zm9yKHZhciBiIGluIHRoaXMuX2V2ZW50cylkZWxldGUgdGhpcy5fZXZlbnRzW2JdO3RoaXMuaXNMaW5rP3RoaXMuJGVsZW1lbnQucmVtb3ZlRGF0YSgiZmEuZWRpdGFibGUiKToodGhpcy4kZWxlbWVudC5yZXBsYWNlV2l0aCh0aGlzLmdldEhUTUwoKSksdGhpcy4kYm94JiYhdGhpcy5lZGl0YWJsZURpc2FibGVkJiYodGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmcm9hbGEtYm94IiksdGhpcy4kYm94LmZpbmQoIi5odG1sLXN3aXRjaCIpLnJlbW92ZSgpLHRoaXMuJGJveC5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLGNsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKSkpfSxiLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24oYixjLGQsZSl7dm9pZCAwPT09ZCYmKGQ9ITApLHZvaWQgMD09PWUmJihlPSExKSxkPT09ITAmJih0aGlzLmlzUmVzaXppbmcoKXx8dGhpcy5lZGl0YWJsZURpc2FibGVkfHx0aGlzLmltYWdlTW9kZXx8IWV8fHRoaXMuY2xlYW5pZnkoKSx0aGlzLnN5bmMoKSk7dmFyIGY9ITA7cmV0dXJuIGN8fChjPVtdKSxmPXRoaXMuJG9yaWdpbmFsX2VsZW1lbnQudHJpZ2dlckhhbmRsZXIoImVkaXRhYmxlLiIrYixhLm1lcmdlKFt0aGlzXSxjKSksdm9pZCAwPT09Zj8hMDpmfSxiLnByb3RvdHlwZS5zeW5jQ2xlYW5IVE1MPWZ1bmN0aW9uKGEsYil7dmFyIGM7aWYoYilmb3IoYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTthIT1jOylhPWMsYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTtlbHNlIGZvcihjPWEucmVwbGFjZSgvPHNwYW5bXj5dKj8+PFwvc3Bhbj4vZywiIik7YSE9YzspYT1jLGM9YS5yZXBsYWNlKC88c3BhbltePl0qPz48XC9zcGFuPi9nLCIiKTtyZXR1cm4gYX0sYi5wcm90b3R5cGUuc3luY0NsZWFuPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9InNwYW46ZW1wdHkiO2MmJihkPSJzcGFuOmVtcHR5Om5vdCguZi1tYXJrZXIpIik7Zm9yKHZhciBlPSExLGY9ZnVuY3Rpb24oYixjKXswPT09Yy5hdHRyaWJ1dGVzLmxlbmd0aCYmKGEoYykucmVtb3ZlKCksZT0hMSl9LGc9Yi5maW5kKGQpO2cubGVuZ3RoJiZlPT09ITE7KWU9ITAsZy5lYWNoKGYpLGc9Yi5maW5kKGQpfSxiLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNIVE1MKXt0aGlzLnJhaXNlRXZlbnQoInN5bmMiKSx0aGlzLmRpc2FibGVJbWFnZVJlc2l6ZSgpLHRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2V8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpO3ZhciBhPXRoaXMuZ2V0SFRNTCgpO3RoaXMudHJhY2tIVE1MIT09YSYmbnVsbCE9dGhpcy50cmFja0hUTUw/KHRoaXMucmVmcmVzaEltYWdlTGlzdCgpLHRoaXMucmVmcmVzaEJ1dHRvbnMoKSx0aGlzLmNsZWFudXBMaXN0cygpLHRoaXMudHJhY2tIVE1MPWEsdGhpcy4kdGV4dGFyZWEmJnRoaXMuJHRleHRhcmVhLnZhbCh0aGlzLmdldEhUTUwoITEsITApKSx0aGlzLmRvaW5nUmVkb3x8dGhpcy5zYXZlVW5kb1N0ZXAoKSx0aGlzLnRyaWdnZXJFdmVudCgiY29udGVudENoYW5nZWQiLFtdLCExKSk6bnVsbD09dGhpcy50cmFja0hUTUwmJih0aGlzLnRyYWNrSFRNTD1hKX19LGIucHJvdG90eXBlLmVtcHR5RWxlbWVudD1mdW5jdGlvbihiKXtpZigiSU1HIj09Yi50YWdOYW1lfHxhKGIpLmZpbmQoImltZyIpLmxlbmd0aD4wKXJldHVybiExO2lmKGEoYikuZmluZCgiaW5wdXQsIGlmcmFtZSIpLmxlbmd0aD4wKXJldHVybiExO2Zvcih2YXIgYz1hKGIpLnRleHQoKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIlxuIiE9PWNbZF0mJiJcciIhPT1jW2RdJiYiCSIhPT1jW2RdKXJldHVybiExO3JldHVybiEwfSxiLnByb3RvdHlwZS5pbml0RXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5tb2JpbGUoKT8odGhpcy5tb3VzZWRvd249InRvdWNoc3RhcnQiLHRoaXMubW91c2V1cD0idG91Y2hlbmQiLHRoaXMubW92ZT0idG91Y2htb3ZlIik6KHRoaXMubW91c2Vkb3duPSJtb3VzZWRvd24iLHRoaXMubW91c2V1cD0ibW91c2V1cCIsdGhpcy5tb3ZlPSIiKX0sYi5wcm90b3R5cGUuY29udGludWVJbml0PWZ1bmN0aW9uKCl7dGhpcy5pbml0RXZlbnRzKCksdGhpcy5icm93c2VyRml4ZXMoKSx0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLmluaXRVbmRvUmVkbygpLHRoaXMuZW5hYmxlVHlwaW5nKCksdGhpcy5pbml0U2hvcnRjdXRzKCkpLHRoaXMuaW5pdFRhYnMoKSx0aGlzLmluaXRFZGl0b3IoKTtmb3IodmFyIGI9MDtiPGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLmxlbmd0aDtiKyspYS5FZGl0YWJsZS5pbml0aWFsaXplcnNbYl0uY2FsbCh0aGlzKTt0aGlzLmluaXRPcHRpb25zKCksdGhpcy5pbml0RWRpdG9yU2VsZWN0aW9uKCksdGhpcy5pbml0QWpheFNhdmVyKCksdGhpcy5zZXRMYW5ndWFnZSgpLHRoaXMuc2V0Q3VzdG9tVGV4dCgpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy5yZWdpc3RlclBhc3RlKCksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnRyaWdnZXJFdmVudCgiaW5pdGlhbGl6ZWQiLFtdLCExLCExKX0sYi5wcm90b3R5cGUubGF0ZUluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmNvbnRpbnVlSW5pdCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuJGVsZW1lbnQuZm9jdXMoKSx0aGlzLmhpZGVPdGhlckVkaXRvcnMoKX0sYi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihiKXt0aGlzLmluaXRFbGVtZW50KGIpLHRoaXMuaW5pdEVsZW1lbnRTdHlsZSgpLCghdGhpcy5pc0xpbmt8fHRoaXMuaXNJbWFnZSkmJih0aGlzLmluaXRJbWFnZUV2ZW50cygpLHRoaXMuYnVpbGRJbWFnZU1vdmUoKSksdGhpcy5vcHRpb25zLmluaXRPbkNsaWNrPyh0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLHRoaXMuJGVsZW1lbnQuYXR0cigic3BlbGxjaGVjayIsITEpKSx0aGlzLiRlbGVtZW50LmJpbmQoIm1vdXNlZG93bi5lbGVtZW50IixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNMaW5rfHxhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGVsZW1lbnQudW5iaW5kKCJtb3VzZWRvd24uZWxlbWVudCIpLHRoaXMubGF0ZUluaXQoKX0sdGhpcykpKTp0aGlzLmNvbnRpbnVlSW5pdCgpfSxiLnByb3RvdHlwZS5waG9uZT1mdW5jdGlvbigpe3ZhciBhPSExO3JldHVybiBmdW5jdGlvbihiKXsoLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChiKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1wtKG58dSl8YzU1XC98Y2FwaXxjY3dhfGNkbVwtfGNlbGx8Y2h0bXxjbGRjfGNtZFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXC01fGdcLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFwtKG18cHx0KXxoZWlcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXC1jfGh0KGMoXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2NcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XC8oa3xsfHUpfDUwfDU0fFwtW2Etd10pfGxpYnd8bHlueHxtMVwtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XC1nfHFhXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFwtWzItN118aVwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXC18b298cFwtKXxzZGtcL3xzZShjKFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFwtfHNoYXJ8c2llKFwtfG0pfHNrXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcLXx2XC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcLXx0ZGdcLXx0ZWwoaXxtKXx0aW1cLXx0XC1tb3x0byhwbHxzaCl8dHMoNzB8bVwtfG0zfG01KXx0eFwtOXx1cChcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcLXx5b3VyfHpldG98enRlXC0vaS50ZXN0KGIuc3Vic3RyKDAsNCkpKSYmKGE9ITApfShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpLGF9LGIucHJvdG90eXBlLm1vYmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBob25lKCl8fHRoaXMuYW5kcm9pZCgpfHx0aGlzLmlPUygpfHx0aGlzLmJsYWNrYmVycnkoKX0sYi5wcm90b3R5cGUuaU9TPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmlPU1ZlcnNpb249ZnVuY3Rpb24oKXtpZigvaVAoaG9uZXxvZHxhZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSl7dmFyIGE9bmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcZCspXyhcZCspXz8oXGQrKT8vKSxiPVtwYXJzZUludChhWzFdLDEwKSxwYXJzZUludChhWzJdLDEwKSxwYXJzZUludChhWzNdfHwwLDEwKV07aWYoYiYmYlswXSlyZXR1cm4gYlswXX1yZXR1cm4gMH0sYi5wcm90b3R5cGUuaVBhZD1mdW5jdGlvbigpe3JldHVybi8oaVBhZCkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUGhvbmU9ZnVuY3Rpb24oKXtyZXR1cm4vKGlQaG9uZSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUG9kPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmFuZHJvaWQ9ZnVuY3Rpb24oKXtyZXR1cm4vKEFuZHJvaWQpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sYi5wcm90b3R5cGUuYmxhY2tiZXJyeT1mdW5jdGlvbigpe3JldHVybi8oQmxhY2tiZXJyeSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pbml0T25UZXh0YXJlYT1mdW5jdGlvbihiKXt0aGlzLiR0ZXh0YXJlYT1hKGIpLHZvaWQgMCE9PXRoaXMuJHRleHRhcmVhLmF0dHIoInBsYWNlaG9sZGVyIikmJiJUeXBlIHNvbWV0aGluZyI9PXRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciYmKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcj10aGlzLiR0ZXh0YXJlYS5hdHRyKCJwbGFjZWhvbGRlciIpKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IikuaHRtbCh0aGlzLiR0ZXh0YXJlYS52YWwoKSksdGhpcy4kdGV4dGFyZWEuYmVmb3JlKHRoaXMuJGVsZW1lbnQpLmhpZGUoKSx0aGlzLiR0ZXh0YXJlYS5wYXJlbnRzKCJmb3JtIikuYmluZCgic3VibWl0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc0hUTUw/dGhpcy5odG1sKCk6dGhpcy5zeW5jKCl9LHRoaXMpKX0sYi5wcm90b3R5cGUuaW5pdE9uTGluaz1mdW5jdGlvbihiKXt0aGlzLmlzTGluaz0hMCx0aGlzLm9wdGlvbnMubGlua1RleHQ9ITAsdGhpcy5zZWxlY3Rpb25EaXNhYmxlZD0hMCx0aGlzLmVkaXRhYmxlRGlzYWJsZWQ9ITAsdGhpcy5vcHRpb25zLmJ1dHRvbnM9W10sdGhpcy4kZWxlbWVudD1hKGIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PSExLHRoaXMub3B0aW9ucy5jb3VudENoYXJhY3RlcnM9ITEsdGhpcy4kYm94PXRoaXMuJGVsZW1lbnR9LGIucHJvdG90eXBlLmluaXRPbkltYWdlPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuY3NzKCJmbG9hdCIpOyJBIj09YShiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSYmKGI9YShiKS5wYXJlbnQoKSksdGhpcy5pc0ltYWdlPSEwLHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLmltYWdlTGlzdD1bXSx0aGlzLm9wdGlvbnMuYnV0dG9ucz1bXSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT0hMSx0aGlzLm9wdGlvbnMuaW1hZ2VNYXJnaW49ImF1dG8iLGEoYikud3JhcCgiPGRpdj4iKSx0aGlzLiRlbGVtZW50PWEoYikucGFyZW50KCksdGhpcy4kZWxlbWVudC5jc3MoImRpc3BsYXkiLCJpbmxpbmUtYmxvY2siKSx0aGlzLiRlbGVtZW50LmNzcygibWF4LXdpZHRoIiwiMTAwJSIpLHRoaXMuJGVsZW1lbnQuY3NzKCJtYXJnaW4tbGVmdCIsImF1dG8iKSx0aGlzLiRlbGVtZW50LmNzcygibWFyZ2luLXJpZ2h0IiwiYXV0byIpLHRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsYyksdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1pbWFnZSIpLHRoaXMuJGJveD1hKGIpfSxiLnByb3RvdHlwZS5pbml0Rm9yUG9wdXA9ZnVuY3Rpb24oYil7dGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGJveD10aGlzLiRlbGVtZW50LHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLm9wdGlvbnMuY291bnRDaGFyYWN0ZXJzPSExLHRoaXMub3B0aW9ucy5idXR0b25zPVtdLHRoaXMuJGVsZW1lbnQub24oImNsaWNrIixhLnByb3h5KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxiLnByb3RvdHlwZS5pbml0T25EZWZhdWx0PWZ1bmN0aW9uKGIpeyJESVYiIT1iLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5idXR0b25zLmluZGV4T2YoImZvcm1hdEJsb2NrIik+PTAmJnRoaXMuZGlzYWJsZWRMaXN0LnB1c2goImZvcm1hdEJsb2NrIiksdGhpcy4kZWxlbWVudD1hKGIpfSxiLnByb3RvdHlwZS5pbml0RWxlbWVudD1mdW5jdGlvbihiKXsiVEVYVEFSRUEiPT1iLnRhZ05hbWU/dGhpcy5pbml0T25UZXh0YXJlYShiKToiQSI9PWIudGFnTmFtZT90aGlzLmluaXRPbkxpbmsoYik6IklNRyI9PWIudGFnTmFtZT90aGlzLmluaXRPbkltYWdlKGIpOnRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cD90aGlzLmluaXRGb3JQb3B1cChiKTp0aGlzLmluaXRPbkRlZmF1bHQoYiksdGhpcy5lZGl0YWJsZURpc2FibGVkfHwodGhpcy4kYm94PXRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImZyb2FsYS1ib3giKSx0aGlzLiR3cmFwcGVyPWEoJzxkaXYgY2xhc3M9ImZyb2FsYS13cmFwcGVyIj4nKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IiksdGhpcy5zZXRIVE1MKHRoaXMuJGJveC5odG1sKCksITEpLHRoaXMuJGJveC5odG1sKHRoaXMuJHdyYXBwZXIuaHRtbCh0aGlzLiRlbGVtZW50KSksdGhpcy4kZWxlbWVudC5vbigia2V5dXAiLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmdGhpcy53ZWJraXRQYXJhZ3JhcGh5KCl9LHRoaXMpKSksdGhpcy4kZWxlbWVudC5vbigiZHJvcCIsYS5wcm94eShmdW5jdGlvbigpe3NldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2EoImh0bWwiKS5jbGljaygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLXdyYXAiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7MD09PWEoYykuZmluZCgiaW1nIikubGVuZ3RoJiZhKGMpLnJlbW92ZSgpfSksdGhpcy4kZWxlbWVudC5maW5kKCJwOmVtcHR5IikucmVtb3ZlKCl9LHRoaXMpLDEpfSx0aGlzKSksdGhpcy5zeW5jKCl9LGIucHJvdG90eXBlLndlYmtpdFBhcmFncmFwaHk9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoIioiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXtpZih0aGlzLmVtcHR5RWxlbWVudChjKSYmIkRJViI9PT1jLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITApe3ZhciBkPWEoIjxwPjxici8+PC9wPiIpO2EoYykucmVwbGFjZVdpdGgoZCksdGhpcy5zZXRTZWxlY3Rpb24oZC5nZXQoMCkpfX0sdGhpcykpfSxiLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxiLnByb3RvdHlwZS51bndyYXBUZXh0PWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQuZmluZCgiZGl2IikuZWFjaChmdW5jdGlvbihiLGMpe3ZvaWQgMD09PWEoYykuYXR0cigic3R5bGUiKSYmYShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSsiPGJyLz4iKX0pfSxiLnByb3RvdHlwZS53cmFwVGV4dEluRWxlbWVudD1mdW5jdGlvbihiLGMpe3ZvaWQgMD09PWMmJihjPSExKTt2YXIgZD1bXSxlPVsiU1BBTiIsIkEiLCJCIiwiSSIsIkVNIiwiVSIsIlMiLCJTVFJPTkciLCJTVFJJS0UiLCJGT05UIiwiSU1HIiwiU1VCIiwiU1VQIl0sZj10aGlzO3RoaXMubm9fdmVyaWZ5PSEwO3ZhciBnPWZ1bmN0aW9uKCl7aWYoMD09PWQubGVuZ3RoKXJldHVybiExO3ZhciBiO2I9YShmLm9wdGlvbnMucGFyYWdyYXBoeT09PSEwPyI8cD4iOiI8ZGl2PiIpO3ZhciBjPWEoZFswXSk7aWYoMT09ZC5sZW5ndGgmJiJmLW1hcmtlciI9PWMuYXR0cigiY2xhc3MiKSlyZXR1cm4gdm9pZChkPVtdKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGc9YShkW2VdKTtiLmFwcGVuZChnLmNsb25lKCkpLGU9PWQubGVuZ3RoLTE/Zy5yZXBsYWNlV2l0aChiKTpnLnJlbW92ZSgpfWQ9W119LGg9ITEsaT0hMTtiLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtpZihiLmhhc0NsYXNzKCJmLW1hcmtlciIpfHxiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCl7dmFyIGo9YjtiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCYmKGo9YShiLmZpbmQoIi5mLW1hcmtlciIpWzBdKSksInRydWUiPT09ai5hdHRyKCJkYXRhLXR5cGUiKT8oaD0hMCxpPSExKTppPSEwfXRoaXMubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiZiLnRleHQoKS50cmltKCkubGVuZ3RoPjB8fGUuaW5kZXhPZih0aGlzLnRhZ05hbWUpPj0wP2QucHVzaCh0aGlzKTp0aGlzLm5vZGVUeXBlPT1Ob2RlLlRFWFRfTk9ERSYmMD09PWIudGV4dCgpLnRyaW0oKS5sZW5ndGgmJmYub3B0aW9ucy5iZWF1dGlmeUNvZGU/Yi5yZW1vdmUoKTooaHx8Yz8oZygpLCJCUiI9PT10aGlzLnRhZ05hbWUmJmIucmVtb3ZlKCkpOmQ9W10saSYmKGg9ITEpKX0pLChofHxjKSYmZygpLGIuZmluZCgiPiBwIikuZWFjaChmdW5jdGlvbihiLGMpezA9PT1hKGMpLnRleHQoKS50cmltKCkubGVuZ3RoJiYwPT09YShjKS5maW5kKCJpbWciKS5sZW5ndGgmJjA9PT1hKGMpLmZpbmQoImJyIikubGVuZ3RoJiZhKGMpLmFwcGVuZCgiPGJyLz4iKX0pLGIuZmluZCgiZGl2OmVtcHR5IikucmVtb3ZlKCksYi5pcygiOmVtcHR5IikmJmIuYXBwZW5kKGYub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITA/IjxwPjxici8+PC9wPiI6Ijxici8+IiksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLndyYXBUZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rPyExOih0aGlzLndlYmtpdFBhcmFncmFwaHkoKSx2b2lkIHRoaXMud3JhcFRleHRJbkVsZW1lbnQodGhpcy4kZWxlbWVudCxhKSl9LGIucHJvdG90eXBlLnNldEhUTUw9ZnVuY3Rpb24oYixjKXt0aGlzLm5vX3ZlcmlmeT0hMCx2b2lkIDA9PT1jJiYoYz0hMCksYj10aGlzLmNsZWFuKGIsITAsITEpLGI9Yi5yZXBsYWNlKC8+XHMrPC9nLCI+PCIpLHRoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLiRlbGVtZW50LmZpbmQoInByZSIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLGU9YShjKS5odG1sKCk7ZS5pbmRleE9mKCJcbiIpPj0wJiZkLmh0bWwoZS5yZXBsYWNlKC9cbi9nLCI8YnI+IikpfSksdGhpcy5pbWFnZUxpc3Q9W10sdGhpcy5yZWZyZXNoSW1hZ2VMaXN0KCksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLGMmJih0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnN5bmMoKSksdGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5hdHRyKCJkYXRhLWZyLXZlcmlmaWVkIiwhMCksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLmJlZm9yZVBhc3RlPWZ1bmN0aW9uKCl7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsdGhpcy5zY3JvbGxQb3NpdGlvbj1hKHdpbmRvdykuc2Nyb2xsVG9wKCksdGhpcy4kcGFzdGVEaXY9YSgnPGRpdiBjb250ZW50ZWRpdGFibGU9InRydWUiIHN0eWxlPSJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogLTk5OTlweDsgaGVpZ2h0OiAxMDAlOyB3aWR0aDogMDsgei1pbmRleDogOTk5OTk7Ij48L2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHRoaXMuJHBhc3RlRGl2LmZvY3VzKCksd2luZG93LnNldFRpbWVvdXQoYS5wcm94eSh0aGlzLnByb2Nlc3NQYXN0ZSx0aGlzKSwxKX0sYi5wcm90b3R5cGUucHJvY2Vzc1Bhc3RlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jbGlwYm9hcmRIVE1MO251bGw9PT10aGlzLmNsaXBib2FyZEhUTUwmJihiPXRoaXMuJHBhc3RlRGl2Lmh0bWwoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSxhKHdpbmRvdykuc2Nyb2xsVG9wKHRoaXMuc2Nyb2xsUG9zaXRpb24pKTt2YXIgYyxkPXRoaXMudHJpZ2dlckV2ZW50KCJvblBhc3RlIixbYl0sITEpOyJzdHJpbmciPT10eXBlb2YgZCYmKGI9ZCksYj1iLnJlcGxhY2UoLzxpbWcgL2dpLCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiAnKSxiLm1hdGNoKC8oY2xhc3M9XCI/TXNvfHN0eWxlPVwiW15cIl0qXGJtc29cLXx3OldvcmREb2N1bWVudCkvZ2kpPyhjPXRoaXMud29yZENsZWFuKGIpLGM9dGhpcy5jbGVhbihhKCI8ZGl2PiIpLmFwcGVuZChjKS5odG1sKCksITEsITApLGM9dGhpcy5yZW1vdmVFbXB0eVRhZ3MoYykpOihjPXRoaXMuY2xlYW4oYiwhMSwhMCksYz10aGlzLnJlbW92ZUVtcHR5VGFncyhjKSksdGhpcy5vcHRpb25zLnBsYWluUGFzdGUmJihjPXRoaXMucGxhaW5QYXN0ZUNsZWFuKGMpKSwiIiE9PWMmJih0aGlzLmluc2VydEhUTUwoYyksdGhpcy4kZWxlbWVudC5maW5kKCJsaSIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe3RoaXMud3JhcFRleHRJbkVsZW1lbnQoYShjKSwhMCl9LHRoaXMpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy5jbGVhbnVwTGlzdHMoKSksdGhpcy5hZnRlclBhc3RlKCl9LGIucHJvdG90eXBlLmFmdGVyUGFzdGU9ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCksdGhpcy51cGxvYWRQYXN0ZWRJbWFnZXMoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLnBhc3Rpbmc9ITEsdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUGFzdGUiLFtdLCEwLCEwKX0sYi5wcm90b3R5cGUucmVnaXN0ZXJQYXN0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImNvcHkgY3V0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5jb3BpZWRUZXh0PXRoaXMudGV4dCgpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigicGFzdGUiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIXRoaXMuaXNIVE1MKXtpZihiLm9yaWdpbmFsRXZlbnQmJihiPWIub3JpZ2luYWxFdmVudCksIXRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVQYXN0ZSIsW10sITEpKXJldHVybiExO2lmKHRoaXMuY2xpcGJvYXJkUGFzdGUoYikpcmV0dXJuITE7dGhpcy5jbGlwYm9hcmRIVE1MPSIiLHRoaXMucGFzdGluZz0hMCx0aGlzLnNjcm9sbFBvc2l0aW9uPWEod2luZG93KS5zY3JvbGxUb3AoKTt2YXIgYz0hMTtpZihiJiZiLmNsaXBib2FyZERhdGEmJmIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXt2YXIgZD0iIixlPWIuY2xpcGJvYXJkRGF0YS50eXBlcztpZihhLkVkaXRhYmxlLmlzQXJyYXkoZSkpZm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZCs9ZVtmXSsiOyI7ZWxzZSBkPWU7aWYoL3RleHRcL2h0bWwvLnRlc3QoZCk/dGhpcy5jbGlwYm9hcmRIVE1MPWIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJ0ZXh0L2h0bWwiKTovdGV4dFwvcnRmLy50ZXN0KGQpJiZ0aGlzLmJyb3dzZXIuc2FmYXJpP3RoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9ydGYiKTovdGV4dFwvcGxhaW4vLnRlc3QoZCkmJiF0aGlzLmJyb3dzZXIubW96aWxsYSYmKHRoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9wbGFpbiIpLnJlcGxhY2UoL1xuL2csIjxici8+IikpLCIiIT09dGhpcy5jbGlwYm9hcmRIVE1MP2M9ITA6dGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsYylyZXR1cm4gdGhpcy5wcm9jZXNzUGFzdGUoKSxiLnByZXZlbnREZWZhdWx0JiYoYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCkpLCExfXRoaXMuYmVmb3JlUGFzdGUoKX19LHRoaXMpKX0sYi5wcm90b3R5cGUuY2xpcGJvYXJkUGFzdGU9ZnVuY3Rpb24oYil7aWYoYiYmYi5jbGlwYm9hcmREYXRhJiZiLmNsaXBib2FyZERhdGEuaXRlbXMpe3ZhciBjPWIuY2xpcGJvYXJkRGF0YS5pdGVtc1swXS5nZXRBc0ZpbGUoKTtpZihjKXt2YXIgZD1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldC5yZXN1bHQ7dGhpcy5pbnNlcnRIVE1MKCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiBzcmM9IicrYisnIiAvPicpLHRoaXMuYWZ0ZXJQYXN0ZSgpfSx0aGlzKSxkLnJlYWRBc0RhdGFVUkwoYyksITB9fXJldHVybiExfSxiLnByb3RvdHlwZS51cGxvYWRQYXN0ZWRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoImltZ1tkYXRhLWZyLWltYWdlLXBhc3RlZF0iKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt0aGlzLm9wdGlvbnMucGFzdGVJbWFnZT8oMD09PWMuc3JjLmluZGV4T2YoImRhdGE6Iik/KHRoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VXaWR0aCYmYShjKS5hdHRyKCJ3aWR0aCIsdGhpcy5vcHRpb25zLmRlZmF1bHRJbWFnZVdpZHRoKSx0aGlzLm9wdGlvbnMucGFzdGVkSW1hZ2VzVXBsb2FkVVJMJiYoc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zaG93SW1hZ2VMb2FkZXIoKSx0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIiksdGhpcy5zaG93QnlDb29yZGluYXRlcyhhKGMpLm9mZnNldCgpLmxlZnQrYShjKS53aWR0aCgpLzIsYShjKS5vZmZzZXQoKS50b3ArYShjKS5oZWlnaHQoKSsxMCksdGhpcy5pc0Rpc2FibGVkPSEwfSx0aGlzKSwxMCksYS5hamF4KHt0eXBlOnRoaXMub3B0aW9ucy5wYXN0ZWRJbWFnZXNVcGxvYWRSZXF1ZXN0VHlwZSx1cmw6dGhpcy5vcHRpb25zLnBhc3RlZEltYWdlc1VwbG9hZFVSTCxkYXRhOmEuZXh0ZW5kKHtpbWFnZTpkZWNvZGVVUklDb21wb25lbnQoYy5zcmMpfSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXMpLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzLGRhdGFUeXBlOiJqc29uIn0pLmRvbmUoYS5wcm94eShmdW5jdGlvbihiKXt0cnl7aWYoYi5saW5rKXt2YXIgZD1uZXcgSW1hZ2U7ZC5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRocm93SW1hZ2VFcnJvcigxKX0sdGhpcyksZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbigpe2Muc3JjPWIubGluayx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMuaGlkZSgpLHRoaXMuZW5hYmxlKCksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYykudHJpZ2dlcigidG91Y2hlbmQiKX0sNTApLHRoaXMudHJpZ2dlckV2ZW50KCJhZnRlclVwbG9hZFBhc3RlZEltYWdlIixbYShjKV0pfSx0aGlzKSxkLnNyYz1iLmxpbmt9ZWxzZSBiLmVycm9yP3RoaXMudGhyb3dJbWFnZUVycm9yV2l0aE1lc3NhZ2UoYi5lcnJvcik6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZSl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSx0aGlzKSkuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoMyl9LHRoaXMpKSkpOjAhPT1jLnNyYy5pbmRleE9mKCJodHRwIikmJmEoYykucmVtb3ZlKCksYShjKS5yZW1vdmVBdHRyKCJkYXRhLWZyLWltYWdlLXBhc3RlZCIpKTphKGMpLnJlbW92ZSgpfSx0aGlzKSl9LGIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzYWJsZWQ9ITAsdGhpcy4kZWxlbWVudC5ibHVyKCl9LGIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNEaXNhYmxlZD0hMX0sYi5wcm90b3R5cGUud29yZENsZWFuPWZ1bmN0aW9uKGEpe2EuaW5kZXhPZigiPGJvZHkiKT49MCYmKGE9YS5yZXBsYWNlKC9bLlxzXFNcd1xXPD5dKjxib2R5W14+XSo+KFsuXHNcU1x3XFc8Pl0qKTxcL2JvZHk+Wy5cc1xTXHdcVzw+XSovZywiJDEiKSksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaEN4U3BGaXJzdCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPiIpLGE9YS5yZXBsYWNlKC88cCguKj8pY2xhc3M9Ij8nP01zb0xpc3RQYXJhZ3JhcGhDeFNwTWlkZGxlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxcL3A+L2dpLCI8bGk+PHA+JDM8L3A+PC9saT4iKSxhPWEucmVwbGFjZSgvPHAoLio/KWNsYXNzPSI/Jz9Nc29MaXN0UGFyYWdyYXBoQ3hTcExhc3QiPyc/KFtcc1xTXSo/KT4oW1xzXFNdKj8pPFwvcD4vZ2ksIjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxzcGFuKFtePF0qPylzdHlsZT0iPyc/bXNvLWxpc3Q6SWdub3JlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxzcGFuL2dpLCI8c3Bhbj48c3BhbiIpLGE9YS5yZXBsYWNlKC88IS0tXFtpZiBcIXN1cHBvcnRMaXN0c1xdLS0+KFtcc1xTXSo/KTwhLS1cW2VuZGlmXF0tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC8oXG58XHJ8IGNsYXNzPSgiKT9Nc29bYS16QS1aXSsoIik/KS9naSwiICIpLGE9YS5yZXBsYWNlKC88IS0tW1xzXFNdKj8tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC88KFwvKSoobWV0YXxsaW5rfHNwYW58XFw/eG1sOnxzdDE6fG86fGZvbnQpKC4qPyk+L2dpLCIiKTtmb3IodmFyIGI9WyJzdHlsZSIsInNjcmlwdCIsImFwcGxldCIsImVtYmVkIiwibm9mcmFtZXMiLCJub3NjcmlwdCJdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9bmV3IFJlZ0V4cCgiPCIrYltjXSsiLio/IitiW2NdKyIoLio/KT4iLCJnaSIpO2E9YS5yZXBsYWNlKGQsIiIpfWE9YS5yZXBsYWNlKC8oW1x3XC1dKik9KCJbXjw+Il0qInwnW148PiddKid8XHcrKS9naSwiIiksYT1hLnJlcGxhY2UoLyZuYnNwOy9naSwiIik7dmFyIGU7ZG8gZT1hLGE9YS5yZXBsYWNlKC88W15cLz5dW14+XSo+PFwvW14+XSs+L2dpLCIiKTt3aGlsZShhIT1lKTtyZXR1cm4gYT10aGlzLmNsZWFuKGEpfSxiLnByb3RvdHlwZS50YWJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iIixjPTA7YT5jO2MrKyliKz0iICAiO3JldHVybiBifSxiLnByb3RvdHlwZS5jbGVhblRhZ3M9ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0hMSk7dmFyIGMsZCxlLGYsZz10aGlzLm9wdGlvbnMuZm9ybWF0VGFncyxoPVtdLGk9W10saj0hMTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGM9YS5jaGFyQXQoZCksIjwiPT1jKXt2YXIgaz1hLmluZGV4T2YoIj4iLGQrMSk7aWYoLTEhPT1rKXt2YXIgbD1hLnN1YnN0cmluZyhkLGsrMSksbT10aGlzLnRhZ05hbWUobCksbj10aGlzLmlzQ2xvc2luZ1RhZyhsKTtpZigicHJlIj09PW0mJihqPW4/ITE6ITApLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhsKSlpLnB1c2goImJyIj09PW0mJmo/IlxuIjpsKTtlbHNlIGlmKG4pZm9yKGU9ITEsZj0hMDtlPT09ITEmJnZvaWQgMCE9PWY7KWY9aC5wb3AoKSx2b2lkIDAhPT1mJiZmLnRhZ19uYW1lIT09bT9pLnNwbGljZShmLmksMSk6KGU9ITAsdm9pZCAwIT09ZiYmaS5wdXNoKGwpKTtlbHNlIGkucHVzaChsKSxoLnB1c2goe3RhZ19uYW1lOm0saTppLmxlbmd0aC0xfSk7ZD1rfX1lbHNlIlxuIj09PWMmJnRoaXMub3B0aW9ucy5iZWF1dGlmeUNvZGU/YiYmaiYmaS5wdXNoKCI8YnIvPiIpOiIJIiE9PWMmJmkucHVzaChjKTtmb3IoO2gubGVuZ3RoPjA7KWY9aC5wb3AoKSxpLnNwbGljZShmLmksMSk7dmFyIG89IlxuIjt0aGlzLm9wdGlvbnMuYmVhdXRpZnlDb2RlfHwobz0iIiksYT0iIixoPTA7dmFyIHA9ITA7Zm9yKGQ9MDtkPGkubGVuZ3RoO2QrKykxPT1pW2RdLmxlbmd0aD9wJiYiICI9PT1pW2RdfHwoYSs9aVtkXSxwPSExKTpnLmluZGV4T2YodGhpcy50YWdOYW1lKGlbZF0pLnRvTG93ZXJDYXNlKCkpPDA/YSs9aVtkXTp0aGlzLmlzU2VsZkNsb3NpbmdUYWcoaVtkXSk/YSs9aVtkXTp0aGlzLmlzQ2xvc2luZ1RhZyhpW2RdKT8oaC09MSwwPT09aCYmKHA9ITApLGEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV09PW8mJihhKz10aGlzLnRhYnMoaCkpLGErPWlbZF0rbyk6KGErPW8rdGhpcy50YWJzKGgpK2lbZF0saCs9MSk7cmV0dXJuIGFbMF09PW8mJihhPWEuc3Vic3RyaW5nKDEsYS5sZW5ndGgpKSxhW2EubGVuZ3RoLTFdPT1vJiYoYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpKSxhfSxiLnByb3RvdHlwZS5jbGVhbnVwTGlzdHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoInVsLCBvbCIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpO2lmKGQuZmluZCgiLmNsb3NlLXVsLCAub3Blbi11bCwgLmNsb3NlLW9sLCAub3Blbi1vbCwgLm9wZW4tbGksIC5jbG9zZS1saSIpLmxlbmd0aD4wKXt2YXIgZT0iPCIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iK2QuaHRtbCgpKyI8LyIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iO2U9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC91bD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPHVsPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9vbD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPG9sPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9saT4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPGxpPiIpLGQucmVwbGFjZVdpdGgoZSl9fSk7Zm9yKHZhciBiPXRoaXMuJGVsZW1lbnQuZmluZCgib2wgKyBvbCwgdWwgKyB1bCIpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YShiW2NdKTtkLnByZXYoKS5hcHBlbmQoZC5odG1sKCkpLGQucmVtb3ZlKCl9dGhpcy4kZWxlbWVudC5maW5kKCJsaSA+IHRkIikucmVtb3ZlKCksdGhpcy4kZWxlbWVudC5maW5kKCJsaTplbXB0eSIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgdGQ6ZW1wdHkiKS5hcHBlbmQoIjwvYnI+IiksdGhpcy4kZWxlbWVudC5maW5kKCJ1bCwgb2wiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpOzA9PT1kLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aCYmZC5yZW1vdmUoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgPiB0ZCIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGk6ZW1wdHkiKS5yZW1vdmUoKSx0aGlzLiRlbGVtZW50LmZpbmQoImxpIHRkOmVtcHR5IikuYXBwZW5kKCI8L2JyPiIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5JiZ0aGlzLiRlbGVtZW50LmZpbmQoImxpIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy53cmFwVGV4dEluRWxlbWVudChhKGMpLCEwKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbihiLGMsZCxlLGYpe2Z8fChmPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRBdHRycykpLGV8fChlPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRUYWdzKSksY3x8Zi5pbmRleE9mKCJpZCIpPi0xJiZmLnNwbGljZShmLmluZGV4T2YoImlkIiksMSksYj1iLnJlcGxhY2UoLzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksIiIpO3ZhciBnPW5ldyBSZWdFeHAoIjxcXC8/KCg/ISg/OiIrZS5qb2luKCJ8IikrIikpXFx3KylbXj5dKj8+IiwiZ2kiKTtiPWIucmVwbGFjZShnLCIiKTt2YXIgaD1uZXcgUmVnRXhwKCIoICg/ISg/OiIrZi5qb2luKCJ8IikrIikpW2EtekEtWjAtOS1fXSspPSgoPzouKD8hXFxzKyg/OlxcUyspPXxbPl18KFxcLz4pKSkrLikiLCJnaSIpO2I9Yi5yZXBsYWNlKC88XC8/W14+XSo/Pi9naSxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGgsIiIpfSk7dmFyIGk9bmV3IFJlZ0V4cCgnPChbXj5dKikoc3JjfGhyZWYpPShcJ1teXCddKlwnfCIiW14iIl0qIiJ8W15cXHM+XSspKFtePl0qKT4nLCJnaSIpO2lmKGI9Yi5yZXBsYWNlKGksYS5wcm94eShmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiI8IitiK2MrJz0iJyt0aGlzLnNhbml0aXplVVJMKGQucmVwbGFjZSgvXlsiJ10oLiopWyInXVwvPyQvZ2ksIiQxIikpKyciJytlKyI+In0sdGhpcykpLHRoaXMucGFzdGluZyYmdGhpcy5jb3BpZWRUZXh0PT09YSgiPGRpdj4iKS5odG1sKGIpLnRleHQoKSYmKGQ9ITEsYz0hMCksZCl7dmFyIGo9bmV3IFJlZ0V4cCgic3R5bGU9KFwiW2EtekEtWjAtOTo7XFwuXFxzXFwoXFwpXFwtXFwsIVxcLyclXSpcInwnW2EtekEtWjAtOTo7XFwuXFxzXFwoXFwpXFwtXFwsIVxcL1wiJV0qJykiLCJnaSIpO2I9Yi5yZXBsYWNlKGosIiIpfWlmKGI9dGhpcy5jbGVhblRhZ3MoYiwhMCksIWMpe3ZhciBrPWEoIjxkaXY+IikuYXBwZW5kKGIpO2suZmluZCgnW2NsYXNzXTpub3QoW2NsYXNzXj0iZnItIl0pJykuZWFjaChmdW5jdGlvbihiLGMpe2EoYykucmVtb3ZlQXR0cigiY2xhc3MiKX0pLGI9ay5odG1sKCl9cmV0dXJuIGJ9LGIucHJvdG90eXBlLnBsYWluUGFzdGVDbGVhbj1mdW5jdGlvbihiKXt2YXIgYz1hKCI8ZGl2PiIpLmh0bWwoYik7Yy5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBwcmUsIGJsb2NrcXVvdGUiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aCgiPHA+IithKGMpLmh0bWwoKSsiPC9wPiIpfSk7Zm9yKHZhciBkPWZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSl9O2MuZmluZCgic3Ryb25nLCBlbSwgc3RyaWtlLCBiLCB1LCBpLCBzdXAsIHN1Yiwgc3BhbiwgYSIpLmxlbmd0aDspYy5maW5kKCJzdHJvbmcsIGVtLCBzdHJpa2UsIGIsIHUsIGksIHN1cCwgc3ViLCBzcGFuLCBhIikuZWFjaChkKTtyZXR1cm4gYy5odG1sKCl9LGIucHJvdG90eXBlLnJlbW92ZUVtcHR5VGFncz1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD1hKCI8ZGl2PiIpLmh0bWwoYiksZT1kLmZpbmQoIio6ZW1wdHk6bm90KGJyLCBpbWcsIHRkLCB0aCkiKTtlLmxlbmd0aDspe2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspYShlW2NdKS5yZW1vdmUoKTtlPWQuZmluZCgiKjplbXB0eTpub3QoYnIsIGltZywgdGQsIHRoKSIpfWQuZmluZCgiPiBkaXYiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSsiPGJyLz4iKX0pO2Zvcih2YXIgZj1kLmZpbmQoImRpdiIpO2YubGVuZ3RoOyl7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKyl7dmFyIGc9YShmW2NdKSxoPWcuaHRtbCgpLnJlcGxhY2UoL1x1MDAwOS9naSwiIikudHJpbSgpO2cucmVwbGFjZVdpdGgoaCl9Zj1kLmZpbmQoImRpdiIpfXJldHVybiBkLmh0bWwoKX0sYi5wcm90b3R5cGUuaW5pdEVsZW1lbnRTdHlsZT1mdW5jdGlvbigpe3RoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy4kZWxlbWVudC5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCEwKTt2YXIgYT0iZnJvYWxhLWVsZW1lbnQgIit0aGlzLm9wdGlvbnMuZWRpdG9yQ2xhc3M7dGhpcy5icm93c2VyLm1zaWUmJmIuZ2V0SUV2ZXJzaW9uKCk8OSYmKGErPSIgaWU4IiksdGhpcy4kZWxlbWVudC5jc3MoIm91dGxpbmUiLDApLHRoaXMuYnJvd3Nlci5tc2llfHwoYSs9IiBub3QtbXNpZSIpLHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoYSl9LGIucHJvdG90eXBlLmluaXRVbmRvUmVkbz1mdW5jdGlvbigpe3RoaXMudW5kb1N0YWNrPVtdLHRoaXMudW5kb0luZGV4PTAsdGhpcy5zYXZlVW5kb1N0ZXAoKSx0aGlzLmRpc2FibGVCcm93c2VyVW5kbygpfSxiLnByb3RvdHlwZS5DSktjbGVhbj1mdW5jdGlvbihhKXt2YXIgYj0vW1x1MzA0MS1cdTMwOTZcdTMwQTAtXHUzMEZGXHU0RTAwLVx1OUZGRlx1MzEzMC1cdTMxOEZcdUFDMDAtXHVEN0FGXS9naTtyZXR1cm4gYS5yZXBsYWNlKGIsIiIpfSxiLnByb3RvdHlwZS5lbmFibGVUeXBpbmc9ZnVuY3Rpb24oKXt0aGlzLnR5cGluZ1RpbWVyPW51bGwsdGhpcy4kZWxlbWVudC5vbigia2V5ZG93biBjdXQiLGEucHJveHkoZnVuY3Rpb24oYil7cmV0dXJuImtleWRvd24iIT09Yi50eXBlfHx0aGlzLnRyaWdnZXJFdmVudCgia2V5ZG93biIsW2Iud2hpY2gsKGIuY3RybEtleXx8Yi5tZXRhS2V5KSYmIWIuYWx0S2V5XSwhMSk/KGNsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKSx0aGlzLmFqYXhTYXZlPSExLHRoaXMub2xkSFRNTD10aGlzLmdldEhUTUwoITApLHZvaWQodGhpcy50eXBpbmdUaW1lcj1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEhUTUwoITApO3RoaXMuaW1lfHx0aGlzLkNKS2NsZWFuKGEpPT09dGhpcy5DSktjbGVhbih0aGlzLm9sZEhUTUwpfHx0aGlzLkNKS2NsZWFuKGEpIT09YXx8dGhpcy5zeW5jKCl9LHRoaXMpLE1hdGgubWF4KHRoaXMub3B0aW9ucy50eXBpbmdUaW1lciw1MDApKSkpOiExfSx0aGlzKSl9LGIucHJvdG90eXBlLnJlbW92ZU1hcmtlcnNCeVJlZ2V4PWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLzxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddP1tePl0rPihbXFNcc11bXlwvXSkqPFwvc3Bhbj4vZ2ksIiIpfSxiLnByb3RvdHlwZS5nZXRJbWFnZUhUTUw9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe3NyYzp0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmF0dHIoInNyYyIpLHN0eWxlOnRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuYXR0cigic3R5bGUiKSxhbHQ6dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKS5hdHRyKCJhbHQiKSx3aWR0aDp0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmF0dHIoIndpZHRoIiksbGluazp0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJocmVmIiksbGlua190aXRsZTp0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJ0aXRsZSIpLGxpbmtfdGFyZ2V0OnRoaXMuJGVsZW1lbnQuZmluZCgiYSIpLmF0dHIoInRhcmdldCIpfSl9LGIucHJvdG90eXBlLmdldExpbmtIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtib2R5OnRoaXMuJGVsZW1lbnQuaHRtbCgpLGhyZWY6dGhpcy4kZWxlbWVudC5hdHRyKCJocmVmIiksdGl0bGU6dGhpcy4kZWxlbWVudC5hdHRyKCJ0aXRsZSIpLHBvcG91dDp0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJwb3BvdXQiKSxub2ZvbGxvdzoibm9mb2xsb3ciPT10aGlzLiRlbGVtZW50LmF0dHIoInJlZiIpLGJsYW5rOiJfYmxhbmsiPT10aGlzLiRlbGVtZW50LmF0dHIoInRhcmdldCIpLGNsczp0aGlzLiRlbGVtZW50LmF0dHIoImNsYXNzIik/dGhpcy4kZWxlbWVudC5hdHRyKCJjbGFzcyIpLnJlcGxhY2UoL2Zyb2FsYS1lbGVtZW50ID98bm90LW1zaWUgP3wvZ2ksIiIpLnRyaW0oKToiIn0pfSxiLnByb3RvdHlwZS5hZGRGclRhZz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSsiLCB0YWJsZSwgdWwsIG9sLCBpbWciKS5hZGRDbGFzcygiZnItdGFnIil9LGIucHJvdG90eXBlLnJlbW92ZUZyVGFnPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKyIsIHRhYmxlLCB1bCwgb2wsIGltZyIpLnJlbW92ZUNsYXNzKCJmci10YWciKX0sYi5wcm90b3R5cGUuZ2V0SFRNTD1mdW5jdGlvbihiLGMsZCl7aWYodm9pZCAwPT09YyYmKGM9ITEpLHZvaWQgMD09PWImJihiPSExKSx2b2lkIDA9PT1kJiYoZD0hMCksdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZi1wbGFjZWhvbGRlciIpJiYhYilyZXR1cm4iIjtpZih0aGlzLmlzSFRNTClyZXR1cm4gdGhpcy4kaHRtbF9hcmVhLnZhbCgpO2lmKHRoaXMuaXNJbWFnZSlyZXR1cm4gdGhpcy5nZXRJbWFnZUhUTUwoKTtpZih0aGlzLmlzTGluaylyZXR1cm4gdGhpcy5nZXRMaW5rSFRNTCgpO3RoaXMuJGVsZW1lbnQuZmluZCgiYSIpLmRhdGEoImZyLWxpbmsiLCEwKSxjJiZ0aGlzLmFkZEZyVGFnKCksdGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yID4gaW1nIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5hZGRJbWFnZUNsYXNzKGEoYyksdGhpcy5nZXRJbWFnZUNsYXNzKGEoYykucGFyZW50KCkuYXR0cigiY2xhc3MiKSkpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5maW5kKCJwcmUiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLGU9ZC5odG1sKCksZj1lLnJlcGxhY2UoL1wmbmJzcDsvZ2ksIiAiKTtlIT1mJiYodGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZC5odG1sKGYpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpKX0sdGhpcykpO3ZhciBlPXRoaXMuJGVsZW1lbnQuaHRtbCgpO3JldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IgPiBpbWciKS5yZW1vdmVDbGFzcygiZnItZmluIGZyLWZpbCBmci1maXIiKSx0aGlzLnJlbW92ZUZyVGFnKCksZT10aGlzLnN5bmNDbGVhbkhUTUwoZSxiKSxlPWUucmVwbGFjZSgvPGFbXj5dKj8+PFwvYT4vZywiIiksYnx8KGU9dGhpcy5yZW1vdmVNYXJrZXJzQnlSZWdleChlKSksZT1lLnJlcGxhY2UoLzxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1pbWctaGFuZGxlW14+XSs+PFwvc3Bhbj4vZ2ksIiIpLGU9ZS5yZXBsYWNlKC9eKFtcU1xzXSopPHNwYW5bXj5dKj8gY2xhc3Nccyo9XHMqWyInXT9mLWltZy1lZGl0b3JbXj5dKz4oW1xTXHNdKik8XC9zcGFuPihbXFNcc10qKSQvZ2ksIiQxJDIkMyIpLGU9ZS5yZXBsYWNlKC9eKFtcU1xzXSopPHNwYW5bXj5dKj8gY2xhc3Nccyo9XHMqWyInXT9mLWltZy13cmFwW14+XSs+KFtcU1xzXSopPFwvc3Bhbj4oW1xTXHNdKikkL2dpLCIkMSQyJDMiKSxlPWUucmVwbGFjZSgvXCZhbXA7L2dpLCImIiksdGhpcy5vcHRpb25zLnNpbXBsZUFtcGVyc2FuZCYmKGU9ZS5yZXBsYWNlKC9cJmFtcDsvZ2ksIiYiKSksZCYmKGU9ZS5yZXBsYWNlKC8gZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIvZ2ksIiIpKSx0aGlzLm9wdGlvbnMuYmVhdXRpZnlDb2RlJiYoZT1lLnJlcGxhY2UoL1xuL2dpLCIiKSksZT1lLnJlcGxhY2UoL1x1MjAwQi9naSwiIil9LGIucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWxlbWVudC50ZXh0KCl9LGIucHJvdG90eXBlLnNldERpcnR5PWZ1bmN0aW9uKGEpe3RoaXMuZGlydHk9YX0sYi5wcm90b3R5cGUuaW5pdEFqYXhTYXZlcj1mdW5jdGlvbigpe3RoaXMuYWpheEhUTUw9dGhpcy5nZXRIVE1MKCksdGhpcy5hamF4U2F2ZT0hMCx0aGlzLmFqYXhJbnRlcnZhbD1zZXRJbnRlcnZhbChhLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRIVE1MKCk7KHRoaXMuYWpheEhUTUwhPWF8fHRoaXMuZGlydHkpJiZ0aGlzLmFqYXhTYXZlJiYodGhpcy5vcHRpb25zLmF1dG9zYXZlJiZ0aGlzLnNhdmUoKSx0aGlzLmRpcnR5PSExLHRoaXMuYWpheEhUTUw9YSksdGhpcy5hamF4U2F2ZT0hMH0sdGhpcyksTWF0aC5tYXgodGhpcy5vcHRpb25zLmF1dG9zYXZlSW50ZXJ2YWwsMTAwKSl9LGIucHJvdG90eXBlLmRpc2FibGVCcm93c2VyVW5kbz1mdW5jdGlvbigpe2EoImJvZHkiKS5rZXlkb3duKGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2gsYz0oYS5jdHJsS2V5fHxhLm1ldGFLZXkpJiYhYS5hbHRLZXk7aWYoIXRoaXMuaXNIVE1MJiZjKXtpZig3NT09YilyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLCExO2lmKDkwPT1iJiZhLnNoaWZ0S2V5KXJldHVybiBhLnByZXZlbnREZWZhdWx0KCksITE7aWYoOTA9PWIpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSwhMX19KX0sYi5wcm90b3R5cGUuc2F2ZVVuZG9TdGVwPWZ1bmN0aW9uKCl7aWYoIXRoaXMudW5kb1N0YWNrKXJldHVybiExO2Zvcig7dGhpcy51bmRvU3RhY2subGVuZ3RoPnRoaXMudW5kb0luZGV4Oyl0aGlzLnVuZG9TdGFjay5wb3AoKTt2YXIgYT10aGlzLmdldEhUTUwoITAsITEsITEpO2lmKHRoaXMudW5kb1N0YWNrW3RoaXMudW5kb0luZGV4LTFdJiZ0aGlzLnJlbW92ZU1hcmtlcnNCeVJlZ2V4KHRoaXMudW5kb1N0YWNrW3RoaXMudW5kb0luZGV4LTFdKT09YSlyZXR1cm4hMTt2YXIgYj0hMTt0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJnRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpJiYodGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksYj0hMCksdGhpcy51bmRvU3RhY2sucHVzaCh0aGlzLmdldEhUTUwoITAsITEsITEpKSx0aGlzLnVuZG9JbmRleCsrLGImJnRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycyghMSksdGhpcy5yZWZyZXNoVW5kbygpLHRoaXMucmVmcmVzaFJlZG8oKX0sYi5wcm90b3R5cGUuc2hvcnRjdXRFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuc2hvcnRjdXRzQXZhaWxhYmxlLmluZGV4T2YoYSk+PTB9LGIucHJvdG90eXBlLnNob3J0Y3V0c19tYXA9ezcwOntjbWQ6InNob3ciLHBhcmFtczpbbnVsbF0saWQ6InNob3cifSw2OTp7Y21kOiJzaG93IixwYXJhbXM6W251bGxdLGlkOiJzaG93In0sNjY6e2NtZDoiZXhlYyIscGFyYW1zOlsiYm9sZCJdLGlkOiJib2xkIn0sNzM6e2NtZDoiZXhlYyIscGFyYW1zOlsiaXRhbGljIl0saWQ6Iml0YWxpYyJ9LDg1OntjbWQ6ImV4ZWMiLHBhcmFtczpbInVuZGVybGluZSJdLGlkOiJ1bmRlcmxpbmUifSw4Mzp7Y21kOiJleGVjIixwYXJhbXM6WyJzdHJpa2VUaHJvdWdoIl0saWQ6InN0cmlrZVRocm91Z2gifSw3NTp7Y21kOiJleGVjIixwYXJhbXM6WyJjcmVhdGVMaW5rIl0saWQ6ImNyZWF0ZUxpbmsifSw4MDp7Y21kOiJleGVjIixwYXJhbXM6WyJpbnNlcnRJbWFnZSJdLGlkOiJpbnNlcnRJbWFnZSJ9LDY1OntjbWQ6ImV4ZWMiLHBhcmFtczpbInNlbGVjdEFsbCJdLGlkOiJzZWxlY3RBbGwifSwyMjE6e2NtZDoiZXhlYyIscGFyYW1zOlsiaW5kZW50Il0saWQ6ImluZGVudCJ9LDIxOTp7Y21kOiJleGVjIixwYXJhbXM6WyJvdXRkZW50Il0saWQ6Im91dGRlbnQifSw3Mjp7Y21kOiJleGVjIixwYXJhbXM6WyJodG1sIl0saWQ6Imh0bWwifSw0ODp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsIm4iXSxpZDoiZm9ybWF0QmxvY2sgbiJ9LDQ5OntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDEiXSxpZDoiZm9ybWF0QmxvY2sgaDEifSw1MDp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImgyIl0saWQ6ImZvcm1hdEJsb2NrIGgyIn0sNTE6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoMyJdLGlkOiJmb3JtYXRCbG9jayBoMyJ9LDUyOntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDQiXSxpZDoiZm9ybWF0QmxvY2sgaDQifSw1Mzp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImg1Il0saWQ6ImZvcm1hdEJsb2NrIGg1In0sNTQ6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoNiJdLGlkOiJmb3JtYXRCbG9jayBoNiJ9LDIyMjp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImJsb2NrcXVvdGUiXSxpZDoiZm9ybWF0QmxvY2sgYmxvY2txdW90ZSJ9LDIyMDp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsInByZSJdLGlkOiJmb3JtYXRCbG9jayBwcmUifX0sYi5wcm90b3R5cGUuaW5pdFNob3J0Y3V0cz1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG9ydGN1dHMmJnRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaCxjPShhLmN0cmxLZXl8fGEubWV0YUtleSkmJiFhLmFsdEtleTsKaWYoIXRoaXMuaXNIVE1MJiZjKXtpZih0aGlzLnNob3J0Y3V0c19tYXBbYl0mJnRoaXMuc2hvcnRjdXRFbmFibGVkKHRoaXMuc2hvcnRjdXRzX21hcFtiXS5pZCkpcmV0dXJuIHRoaXMuZXhlY0RlZmF1bHRTaG9ydGN1dCh0aGlzLnNob3J0Y3V0c19tYXBbYl0uY21kLHRoaXMuc2hvcnRjdXRzX21hcFtiXS5wYXJhbXMpO2lmKDkwPT1iJiZhLnNoaWZ0S2V5KXJldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnJlZG8oKSwhMTtpZig5MD09YilyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy51bmRvKCksITF9fSx0aGlzKSl9LGIucHJvdG90eXBlLmluaXRUYWJzPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5vbigia2V5ZG93biIsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2lmKDkhPWJ8fGEuc2hpZnRLZXkpOT09YiYmYS5zaGlmdEtleSYmKHRoaXMucmFpc2VFdmVudCgic2hpZnQrdGFiIik/dGhpcy5vcHRpb25zLnRhYlNwYWNlcz9hLnByZXZlbnREZWZhdWx0KCk6dGhpcy5ibHVyKCk6YS5wcmV2ZW50RGVmYXVsdCgpKTtlbHNlIGlmKHRoaXMucmFpc2VFdmVudCgidGFiIikpaWYodGhpcy5vcHRpb25zLnRhYlNwYWNlcyl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPSImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLGQ9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdOyJQUkUiPT09ZC50YWdOYW1lJiYoYz0iICAgICIpLHRoaXMuaW5zZXJ0SFRNTChjLCExKX1lbHNlIHRoaXMuYmx1cigpO2Vsc2UgYS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKSl9LGIucHJvdG90eXBlLnRleHRFbXB0eT1mdW5jdGlvbihiKXt2YXIgYz1hKGIpLnRleHQoKS5yZXBsYWNlKC8oXHJcbnxcbnxccnxcdCkvZ20sIiIpO3JldHVybigiIj09PWN8fGI9PT10aGlzLiRlbGVtZW50LmdldCgwKSkmJjA9PT1hKGIpLmZpbmQoImJyIikubGVuZ3RofSxiLnByb3RvdHlwZS5pbkVkaXRvcj1mdW5jdGlvbihhKXtmb3IoO2EmJiJCT0RZIiE9PWEudGFnTmFtZTspe2lmKGE9PT10aGlzLiRlbGVtZW50LmdldCgwKSlyZXR1cm4hMDthPWEucGFyZW50Tm9kZX1yZXR1cm4hMX0sYi5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oYil7aWYodm9pZCAwPT09YiYmKGI9ITApLCIiIT09dGhpcy50ZXh0KCkmJiF0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKSlyZXR1cm4gdm9pZCh0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy4kZWxlbWVudC5mb2N1cygpKTtpZighdGhpcy5pc0hUTUwpeyFifHx0aGlzLnBhc3Rpbmd8fHRoaXMuYnJvd3Nlci5tc2llfHx0aGlzLiRlbGVtZW50LmZvY3VzKCksdGhpcy5wYXN0aW5nJiYhdGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIikmJnRoaXMuJGVsZW1lbnQuZm9jdXMoKTt2YXIgYz10aGlzLmdldFJhbmdlKCk7aWYoIiI9PT10aGlzLnRleHQoKSYmYyYmKDA9PT1jLnN0YXJ0T2Zmc2V0fHxjLnN0YXJ0Q29udGFpbmVyPT09dGhpcy4kZWxlbWVudC5nZXQoMCl8fCF0aGlzLmluRWRpdG9yKGMuc3RhcnRDb250YWluZXIpKSl7dmFyIGQsZSxmPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTtpZihhLm1lcmdlKFsiSU1HIiwiQlIiXSx0aGlzLnZhbGlkX25vZGVzKS5pbmRleE9mKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLnRhZ05hbWUpPDApcmV0dXJuITE7aWYoYy5zdGFydE9mZnNldD4wJiZ0aGlzLnZhbGlkX25vZGVzLmluZGV4T2YodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50KCkudGFnTmFtZSk+PTB8fDM9PT1jLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlKXJldHVybiExO2lmKGYubGVuZ3RoPj0xJiZmWzBdIT09dGhpcy4kZWxlbWVudC5nZXQoMCkpZm9yKGQ9MDtkPGYubGVuZ3RoO2QrKylpZihlPWZbZF0sIXRoaXMudGV4dEVtcHR5KGUpfHx0aGlzLmJyb3dzZXIubXNpZSlyZXR1cm4gdm9pZCB0aGlzLnNldFNlbGVjdGlvbihlKTtpZihjLnN0YXJ0Q29udGFpbmVyPT09dGhpcy4kZWxlbWVudC5nZXQoMCkmJmMuc3RhcnRPZmZzZXQ+MCYmIXRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5KXJldHVybiB2b2lkIHRoaXMuc2V0U2VsZWN0aW9uKHRoaXMuJGVsZW1lbnQuZ2V0KDApLGMuc3RhcnRPZmZzZXQpO2ZvcihmPXRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSksZD0wO2Q8Zi5sZW5ndGg7ZCsrKWlmKGU9ZltkXSwhdGhpcy50ZXh0RW1wdHkoZSkmJjA9PT1hKGUpLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLnNldFNlbGVjdGlvbihlKTt0aGlzLnNldFNlbGVjdGlvbih0aGlzLiRlbGVtZW50LmdldCgwKSl9fX0sYi5wcm90b3R5cGUuYWRkTWFya2Vyc0F0RW5kPWZ1bmN0aW9uKGIpe3ZhciBjPWIuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwgIikpOzA9PT1jLmxlbmd0aCYmYy5wdXNoKGIuZ2V0KDApKTt2YXIgZD1jW2MubGVuZ3RoLTFdO2EoZCkuYXBwZW5kKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0idHJ1ZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicpfSxiLnByb3RvdHlwZS5zZXRGb2N1c0F0RW5kPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPXRoaXMuJGVsZW1lbnQpLHRoaXMuYWRkTWFya2Vyc0F0RW5kKGEpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpfSxiLnByb3RvdHlwZS5icmVha0hUTUw9ZnVuY3Rpb24oYil7dGhpcy5yZW1vdmVNYXJrZXJzKCksMD09PXRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5sZW5ndGgmJnRoaXMuaW5zZXJ0U2ltcGxlSFRNTCgiPGJyZWFrPjwvYnJlYWs+Iik7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLnBhcmVudHMoYS5tZXJnZShbIlVMIiwiT0wiXSx0aGlzLnZhbGlkX25vZGVzKS5qb2luKCIsIikpWzBdO2lmKGEoYykucGFyZW50cygidWwsIG9sIikubGVuZ3RoJiYoYz1hKGMpLnBhcmVudHMoInVsLCBvbCIpWzBdKSxbIlVMIiwiT0wiXS5pbmRleE9mKGMudGFnTmFtZSk+PTApe3ZhciBkPWEoIjxkaXY+IikuaHRtbChiKTtkLmZpbmQoIj4gbGkiKS53cmFwKCI8IitjLnRhZ05hbWUrIj4iKSxiPWQuaHRtbCgpfWlmKGM9PXRoaXMuJGVsZW1lbnQuZ2V0KDApKXJldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoImJyZWFrIikubmV4dCgpLmxlbmd0aD8odGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLm5leHQoKS5wcmVwZW5kKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0idHJ1ZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicpLHRoaXMuaW5zZXJ0U2ltcGxlSFRNTChiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSk6KHRoaXMuaW5zZXJ0U2ltcGxlSFRNTChiKSx0aGlzLnNldEZvY3VzQXRFbmQoKSksdGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLnJlbW92ZSgpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpLCEwO2lmKCJURCI9PT1jLnRhZ05hbWUpcmV0dXJuIHRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5yZW1vdmUoKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoYiksITA7dmFyIGU9YSgiPGRpdj4iKS5odG1sKGIpO2lmKHRoaXMuYWRkTWFya2Vyc0F0RW5kKGUpLGI9ZS5odG1sKCksdGhpcy5lbXB0eUVsZW1lbnQoYShjKSkpcmV0dXJuIGEoYykucmVwbGFjZVdpdGgoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5jaGVja1BsYWNlaG9sZGVyKCksITA7Zm9yKHZhciBmLGcsaD1hKCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChhKGMpLmNsb25lKCkpLmh0bWwoKSxpPVtdLGo9e30saz1bXSxsPTAsbT0wO208aC5sZW5ndGg7bSsrKWlmKGc9aC5jaGFyQXQobSksIjwiPT1nKXt2YXIgbj1oLmluZGV4T2YoIj4iLG0rMSk7aWYoLTEhPT1uKXtmPWguc3Vic3RyaW5nKG0sbisxKTt2YXIgbz10aGlzLnRhZ05hbWUoZik7aWYobT1uLCJicmVhayI9PW8pe2lmKCF0aGlzLmlzQ2xvc2luZ1RhZyhmKSl7Zm9yKHZhciBwPWkubGVuZ3RoLTE7cD49MDtwLS0pe3ZhciBxPXRoaXMudGFnTmFtZShpW3BdKTtrLnB1c2goIjwvIitxKyI+Iil9ay5wdXNoKGIpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWsucHVzaChpW3JdKX19ZWxzZSBpZihrLnB1c2goZiksIXRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhmKSlpZih0aGlzLmlzQ2xvc2luZ1RhZyhmKSl7dmFyIHM9altvXS5wb3AoKTtpLnNwbGljZShzLDEpfWVsc2UgaS5wdXNoKGYpLHZvaWQgMD09PWpbb10mJihqW29dPVtdKSxqW29dLnB1c2goaS5sZW5ndGgtMSl9fWVsc2UgbCsrLGsucHVzaChnKTthKGMpLnJlcGxhY2VXaXRoKGsuam9pbigiIikpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpfSxiLnByb3RvdHlwZS5pbnNlcnRTaW1wbGVIVE1MPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYodGhpcy5ub192ZXJpZnk9ITAsd2luZG93LmdldFNlbGVjdGlvbil7aWYoYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYi5nZXRSYW5nZUF0JiZiLnJhbmdlQ291bnQpe2M9Yi5nZXRSYW5nZUF0KDApLGMuZGVsZXRlQ29udGVudHMoKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmlubmVySFRNTD1hO2Zvcih2YXIgZSxmLGc9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2U9ZC5maXJzdENoaWxkOylmPWcuYXBwZW5kQ2hpbGQoZSk7Yy5pbnNlcnROb2RlKGcpLGYmJihjPWMuY2xvbmVSYW5nZSgpLGMuY29sbGFwc2UoITEpLGIucmVtb3ZlQWxsUmFuZ2VzKCksYi5hZGRSYW5nZShjKSl9fWVsc2UgaWYoKGI9ZG9jdW1lbnQuc2VsZWN0aW9uKSYmIkNvbnRyb2wiIT1iLnR5cGUpe3ZhciBoPWIuY3JlYXRlUmFuZ2UoKTtoLmNvbGxhcHNlKCEwKSxiLmNyZWF0ZVJhbmdlKCkucGFzdGVIVE1MKGEpLHNlbGVjdFBhc3RlZENvbnRlbnQmJihjPWIuY3JlYXRlUmFuZ2UoKSxjLnNldEVuZFBvaW50KCJTdGFydFRvU3RhcnQiLGgpLGMuc2VsZWN0KCkpfXRoaXMubm9fdmVyaWZ5PSExfSxiLnByb3RvdHlwZS5pbnNlcnRIVE1MPWZ1bmN0aW9uKGIsYyl7aWYodm9pZCAwPT09YyYmKGM9ITApLCF0aGlzLmlzSFRNTCYmYyYmdGhpcy5mb2N1cygpLHRoaXMucmVtb3ZlTWFya2VycygpLHRoaXMuaW5zZXJ0U2ltcGxlSFRNTCgiPGJyZWFrPjwvYnJlYWs+IiksdGhpcy5jaGVja1BsYWNlaG9sZGVyKCEwKSx0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIikpcmV0dXJuIHRoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy5zZXRGb2N1c0F0RW5kKCksdGhpcy5jaGVja1BsYWNlaG9sZGVyKCksITE7Zm9yKHZhciBkPWEoIjxkaXY+IikuYXBwZW5kKGIpLmZpbmQoIioiKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYodGhpcy52YWxpZF9ub2Rlcy5pbmRleE9mKGRbZV0udGFnTmFtZSk+PTApcmV0dXJuIHRoaXMuYnJlYWtIVE1MKGIpLHRoaXMuY2xlYW51cExpc3RzKCksITE7dGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLnJlbW92ZSgpLHRoaXMuaW5zZXJ0U2ltcGxlSFRNTChiKX0sYi5wcm90b3R5cGUuZXhlY0RlZmF1bHRTaG9ydGN1dD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzW2FdLmFwcGx5KHRoaXMsYiksITF9LGIucHJvdG90eXBlLmluaXRFZGl0b3I9ZnVuY3Rpb24oKXt2YXIgYz0iZnJvYWxhLWVkaXRvciI7dGhpcy5tb2JpbGUoKSYmKGMrPSIgdG91Y2giKSx0aGlzLmJyb3dzZXIubXNpZSYmYi5nZXRJRXZlcnNpb24oKTw5JiYoYys9IiBpZTgiKSx0aGlzLiRlZGl0b3I9YSgnPGRpdiBjbGFzcz0iJytjKyciIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+JyksYSgiYm9keSIpLmFwcGVuZCh0aGlzLiRlZGl0b3IpLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlP3RoaXMuaW5pdElubGluZUVkaXRvcigpOnRoaXMuaW5pdEJhc2ljRWRpdG9yKCl9LGIucHJvdG90eXBlLnJlZnJlc2hUb29sYmFyUG9zaXRpb249ZnVuY3Rpb24oKXthKHdpbmRvdykuc2Nyb2xsVG9wKCk+dGhpcy4kYm94Lm9mZnNldCgpLnRvcCYmYSh3aW5kb3cpLnNjcm9sbFRvcCgpPHRoaXMuJGJveC5vZmZzZXQoKS50b3ArdGhpcy4kYm94Lm91dGVySGVpZ2h0KCktdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCk/KHRoaXMuJGVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIsdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCkrdGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIpKSx0aGlzLiRwbGFjZWhvbGRlci5jc3MoIm1hcmdpbi10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kZWRpdG9yLmFkZENsYXNzKCJmLXNjcm9sbCIpLnJlbW92ZUNsYXNzKCJmLXNjcm9sbC1hYnMiKS5jc3MoImJvdHRvbSIsIiIpLmNzcygibGVmdCIsdGhpcy4kYm94Lm9mZnNldCgpLmxlZnQrcGFyc2VGbG9hdCh0aGlzLiRib3guY3NzKCJwYWRkaW5nLWxlZnQiKSwxMCktYSh3aW5kb3cpLnNjcm9sbExlZnQoKSkud2lkdGgodGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCktcGFyc2VGbG9hdCh0aGlzLiRlZGl0b3IuY3NzKCJib3JkZXItbGVmdC13aWR0aCIpLDEwKS1wYXJzZUZsb2F0KHRoaXMuJGVkaXRvci5jc3MoImJvcmRlci1yaWdodC13aWR0aCIpLDEwKSksdGhpcy5pT1MoKSYmKHRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpP3RoaXMuJGVkaXRvci5jc3MoInRvcCIsYSh3aW5kb3cpLnNjcm9sbFRvcCgpKTp0aGlzLiRlZGl0b3IuY3NzKCJ0b3AiLCIiKSkpOmEod2luZG93KS5zY3JvbGxUb3AoKTx0aGlzLiRib3gub2Zmc2V0KCkudG9wP3RoaXMuaU9TKCkmJnRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpPyh0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1zY3JvbGwiKS5yZW1vdmVDbGFzcygiZi1zY3JvbGwtYWJzIikuY3NzKCJib3R0b20iLCIiKS5jc3MoImxlZnQiLHRoaXMuJGJveC5vZmZzZXQoKS5sZWZ0K3BhcnNlRmxvYXQodGhpcy4kYm94LmNzcygicGFkZGluZy1sZWZ0IiksMTApLWEod2luZG93KS5zY3JvbGxMZWZ0KCkpLndpZHRoKHRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCgpLXBhcnNlRmxvYXQodGhpcy4kZWRpdG9yLmNzcygiYm9yZGVyLWxlZnQtd2lkdGgiKSwxMCktcGFyc2VGbG9hdCh0aGlzLiRlZGl0b3IuY3NzKCJib3JkZXItcmlnaHQtd2lkdGgiKSwxMCkpLHRoaXMuJGVkaXRvci5jc3MoInRvcCIsdGhpcy4kYm94Lm9mZnNldCgpLnRvcCkpOih0aGlzLiRlZGl0b3IucmVtb3ZlQ2xhc3MoImYtc2Nyb2xsIGYtc2Nyb2xsLWFicyIpLmNzcygiYm90dG9tIiwiIikuY3NzKCJ0b3AiLCIiKS53aWR0aCgiIiksdGhpcy4kZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIiwiIiksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIiwiIikpOmEod2luZG93KS5zY3JvbGxUb3AoKT50aGlzLiRib3gub2Zmc2V0KCkudG9wK3RoaXMuJGJveC5vdXRlckhlaWdodCgpLXRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpJiYhdGhpcy4kZWRpdG9yLmhhc0NsYXNzKCJmLXNjcm9sbC1hYnMiKSYmKHRoaXMuJGVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIsdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCkrdGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIpKSx0aGlzLiRwbGFjZWhvbGRlci5jc3MoIm1hcmdpbi10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kZWRpdG9yLnJlbW92ZUNsYXNzKCJmLXNjcm9sbCIpLmFkZENsYXNzKCJmLXNjcm9sbC1hYnMiKSx0aGlzLiRlZGl0b3IuY3NzKCJib3R0b20iLDApLmNzcygidG9wIiwiIikuY3NzKCJsZWZ0IiwiIikpfSxiLnByb3RvdHlwZS50b29sYmFyVG9wPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnRvb2xiYXJGaXhlZHx8dGhpcy5vcHRpb25zLmlubGluZU1vZGV8fCh0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIixwYXJzZUludCh0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiKSwxMCkpLGEod2luZG93KS5vbigic2Nyb2xsIHJlc2l6ZSBsb2FkIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoVG9vbGJhclBvc2l0aW9uKCl9LHRoaXMpKSx0aGlzLmlPUygpJiZ0aGlzLiRlbGVtZW50Lm9uKCJmb2N1cyBibHVyIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoVG9vbGJhclBvc2l0aW9uKCl9LHRoaXMpKSl9LGIucHJvdG90eXBlLmluaXRCYXNpY0VkaXRvcj1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtYmFzaWMiKSx0aGlzLiR3cmFwcGVyLmFkZENsYXNzKCJmLWJhc2ljIiksdGhpcy4kcG9wdXBfZWRpdG9yPXRoaXMuJGVkaXRvci5jbG9uZSgpLHRoaXMuJHBvcHVwX2VkaXRvci5hcHBlbmRUbyhhKCJib2R5IikpLmFkZENsYXNzKCJmLWlubGluZSIpLHRoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1iYXNpYyIpLnNob3coKSx0aGlzLiRlZGl0b3IuaW5zZXJ0QmVmb3JlKHRoaXMuJHdyYXBwZXIpLHRoaXMudG9vbGJhclRvcCgpfSxiLnByb3RvdHlwZS5pbml0SW5saW5lRWRpdG9yPWZ1bmN0aW9uKCl7dGhpcy4kZWRpdG9yLmFkZENsYXNzKCJmLWlubGluZSIpLHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtaW5saW5lIiksdGhpcy4kcG9wdXBfZWRpdG9yPXRoaXMuJGVkaXRvcn0sYi5wcm90b3R5cGUuaW5pdERyYWc9ZnVuY3Rpb24oKXt0aGlzLmRyYWdfc3VwcG9ydD17ZmlsZXJlYWRlcjoidW5kZWZpbmVkIiE9dHlwZW9mIEZpbGVSZWFkZXIsZm9ybWRhdGE6ISF3aW5kb3cuRm9ybURhdGEscHJvZ3Jlc3M6InVwbG9hZCJpbiBuZXcgWE1MSHR0cFJlcXVlc3R9fSxiLnByb3RvdHlwZS5pbml0T3B0aW9ucz1mdW5jdGlvbigpe3RoaXMuc2V0RGltZW5zaW9ucygpLHRoaXMuc2V0U3BlbGxjaGVjaygpLHRoaXMuc2V0SW1hZ2VVcGxvYWRVUkwoKSx0aGlzLnNldEJ1dHRvbnMoKSx0aGlzLnNldERpcmVjdGlvbigpLHRoaXMuc2V0VGV4dE5lYXJJbWFnZSgpLHRoaXMuc2V0WkluZGV4KCksdGhpcy5zZXRUaGVtZSgpLHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cCYmdGhpcy5idWlsZEVkaXRQb3B1cCgpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8KHRoaXMuc2V0UGxhY2Vob2xkZXIoKSx0aGlzLnNldFBsYWNlaG9sZGVyRXZlbnRzKCkpfSxiLnByb3RvdHlwZS5pc1RvdWNoPWZ1bmN0aW9uKCl7cmV0dXJuIFdZU0lXWUdNb2Rlcm5penIudG91Y2gmJnZvaWQgMCE9PXdpbmRvdy5Ub3VjaH0sYi5wcm90b3R5cGUuaW5pdEVkaXRvclNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleXVwIixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRyaWdnZXJFdmVudCgia2V5dXAiLFthXSwhMSl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJmb2N1cyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuYmx1cnJlZCYmKHRoaXMuYmx1cnJlZD0hMSx0aGlzLnBhc3Rpbmd8fCIiIT09dGhpcy50ZXh0KCl8fHRoaXMuZm9jdXMoITEpLHRoaXMudHJpZ2dlckV2ZW50KCJmb2N1cyIsW10sITEpKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biB0b3VjaHN0YXJ0IixhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKHRoaXMuaXNSZXNpemluZygpfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaGlkZSgpKSl9LHRoaXMpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZVJpZ2h0Q2xpY2smJnRoaXMuJGVsZW1lbnQuY29udGV4dG1lbnUoYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiZ0aGlzLiRlbGVtZW50LmZvY3VzKCksITF9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKHRoaXMubW91c2V1cCxhLnByb3h5KGZ1bmN0aW9uKGIpe2lmKHRoaXMuaXNEaXNhYmxlZClyZXR1cm4hMTtpZighdGhpcy5pc1Jlc2l6aW5nKCkpe3ZhciBjPXRoaXMudGV4dCgpO2Iuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5pbWFnZU1vZGU9ITEsISgiIiE9PWN8fHRoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fCgzPT1iLndoaWNofHwyPT1iLmJ1dHRvbikmJnRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYhdGhpcy5pc0ltYWdlJiZ0aGlzLm9wdGlvbnMuZGlzYWJsZVJpZ2h0Q2xpY2spfHx0aGlzLmxpbmt8fHRoaXMuaW1hZ2VNb2RlP3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLnJlZnJlc2hCdXR0b25zKCk6c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7Yz10aGlzLnRleHQoKSwhKCIiIT09Y3x8dGhpcy5vcHRpb25zLmFsd2F5c1Zpc2libGV8fHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cHx8KDM9PWIud2hpY2h8fDI9PWIuYnV0dG9uKSYmdGhpcy5vcHRpb25zLmlubGluZU1vZGUmJiF0aGlzLmlzSW1hZ2UmJnRoaXMub3B0aW9ucy5kaXNhYmxlUmlnaHRDbGljayl8fHRoaXMubGlua3x8dGhpcy5pbWFnZU1vZGV8fCh0aGlzLnNob3coYiksdGhpcy5vcHRpb25zLmVkaXRJblBvcHVwJiZ0aGlzLnNob3dFZGl0UG9wdXAoKSl9LHRoaXMpLDApfXRoaXMuaGlkZU90aGVyRWRpdG9ycygpfSx0aGlzKSksdGhpcy4kZWRpdG9yLm9uKHRoaXMubW91c2V1cCxhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLmlzUmVzaXppbmcoKXx8KGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmlubGluZU1vZGU9PT0hMSYmdGhpcy5oaWRlKCkpKX0sdGhpcykpLHRoaXMuJGVkaXRvci5vbigibW91c2Vkb3duIiwiLmZyLWRyb3Bkb3duLW1lbnUiLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTooYS5zdG9wUHJvcGFnYXRpb24oKSx2b2lkKHRoaXMubm9IaWRlPSEwKSl9LHRoaXMpKSx0aGlzLiRwb3B1cF9lZGl0b3Iub24oIm1vdXNlZG93biIsIi5mci1kcm9wZG93bi1tZW51IixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGEuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCh0aGlzLm5vSGlkZT0hMCkpfSx0aGlzKSksdGhpcy4kcG9wdXBfZWRpdG9yLm9uKCJtb3VzZXVwIixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLmlzUmVzaXppbmcoKXx8YS5zdG9wUHJvcGFnYXRpb24oKSl9LHRoaXMpKSx0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXImJnRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5vbigibW91c2V1cCIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCkpfSx0aGlzKSksdGhpcy5zZXREb2N1bWVudFNlbGVjdGlvbkNoYW5nZUV2ZW50KCksdGhpcy5zZXRXaW5kb3dNb3VzZVVwRXZlbnQoKSx0aGlzLnNldFdpbmRvd0tleURvd25FdmVudCgpLHRoaXMuc2V0V2luZG93S2V5VXBFdmVudCgpLHRoaXMuc2V0V2luZG93T3JpZW50YXRpb25DaGFuZ2VFdmVudCgpLHRoaXMuc2V0V2luZG93SGlkZUV2ZW50KCksdGhpcy5zZXRXaW5kb3dCbHVyRXZlbnQoKSx0aGlzLm9wdGlvbnMudHJhY2tTY3JvbGwmJnRoaXMuc2V0V2luZG93U2Nyb2xsRXZlbnQoKX0sYi5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbihiKXt0aGlzLmJsdXJyZWR8fHRoaXMucGFzdGluZ3x8KHRoaXMuc2VsZWN0aW9uRGlzYWJsZWQ9ITAsdGhpcy50cmlnZ2VyRXZlbnQoImJsdXIiLFtdKSxiJiYwPT09YSgiKjpmb2N1cyIpLmxlbmd0aCYmdGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2V8fCh0aGlzLnNlbGVjdGlvbkRpc2FibGVkPSExKSx0aGlzLmJsdXJyZWQ9ITApfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dCbHVyRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImJsdXIuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEsYil7dGhpcy5ibHVyKGIpfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFdpbmRvd0hpZGVFdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigiaGlkZS4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmlzUmVzaXppbmcoKT90aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1oYW5kbGUiKS50cmlnZ2VyKCJtb3ZlZW5kIik6dGhpcy5oaWRlKCExKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dPcmllbnRhdGlvbkNoYW5nZUV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKCJvcmllbnRhdGlvbmNoYW5nZS4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGUoKX0sdGhpcyksMTApfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldERvY3VtZW50U2VsZWN0aW9uQ2hhbmdlRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiRkb2N1bWVudC5vbigic2VsZWN0aW9uY2hhbmdlLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fHRoaXMuaXNTY3JvbGxpbmd8fChjbGVhclRpbWVvdXQodGhpcy5zZWxlY3Rpb25DaGFuZ2VkVGltZW91dCksdGhpcy5zZWxlY3Rpb25DaGFuZ2VkVGltZW91dD1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLmxpbmshPT0hMCYmdGhpcy5pc1RvdWNoKCkpe3ZhciBhPXRoaXMudGV4dCgpOyIiIT09YT8odGhpcy5pUG9kKCk/dGhpcy5vcHRpb25zLmFsd2F5c1Zpc2libGUmJnRoaXMuaGlkZSgpOnRoaXMuc2hvdyhudWxsKSxiLnN0b3BQcm9wYWdhdGlvbigpKTp0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZT90aGlzLnNob3cobnVsbCk6KHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSl9fSx0aGlzKSw3NSkpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dNb3VzZVVwRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24odGhpcy5tb3VzZXVwKyIuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMToodGhpcy5pc1Jlc2l6aW5nKCl8fHRoaXMuaXNTY3JvbGxpbmd8fCh0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiYnV0dG9uW2RhdGEtY21kXSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJiIiIT09dGhpcy50ZXh0KCkmJiF0aGlzLmlzVG91Y2goKT90aGlzLnNob3cobnVsbCk6dGhpcy4kcG9wdXBfZWRpdG9yLmlzKCI6dmlzaWJsZSIpJiYodGhpcy5oaWRlKCksdGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExKSx0aGlzLmJsdXIoITApKSx2b2lkIGEoIltkYXRhLWRvd25dIikucmVtb3ZlQXR0cigiZGF0YS1kb3duIikpfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFdpbmRvd0tleURvd25FdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigia2V5ZG93bi4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9Yi53aGljaDtpZih0aGlzLmltYWdlTW9kZSl7aWYoMTM9PWMpcmV0dXJuIHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudHMoIi5mLWltZy13cmFwIikuYmVmb3JlKCI8YnIvPiIpLHRoaXMuc3luYygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciBpbWciKS5jbGljaygpLCExO2lmKDQ2PT1jfHw4PT1jKXJldHVybiBiLnN0b3BQcm9wYWdhdGlvbigpLGIucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUltYWdlKHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpKX0sdGhpcyksMCksITF9ZWxzZSBpZih0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkpe2lmKHRoaXMuaXNEaXNhYmxlZClyZXR1cm4hMDt2YXIgZD0oYi5jdHJsS2V5fHxiLm1ldGFLZXkpJiYhYi5hbHRLZXk7IWQmJnRoaXMuJHBvcHVwX2VkaXRvci5pcygiOnZpc2libGUiKSYmKDI3PT1jfHx0aGlzLiRidHRuX3dyYXBwZXIuaXMoIjp2aXNpYmxlIikmJnRoaXMub3B0aW9ucy5pbmxpbmVNb2RlKSYmKHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSl9fSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFdpbmRvd0tleVVwRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImtleXVwLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJiIiIT09dGhpcy50ZXh0KCkmJiF0aGlzLiRwb3B1cF9lZGl0b3IuaXMoIjp2aXNpYmxlIikmJnRoaXMucmVwb3NpdGlvbkVkaXRvcigpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dTY3JvbGxFdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigic2Nyb2xsLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGNsZWFyVGltZW91dCh0aGlzLnNjcm9sbFRpbWVyKSx0aGlzLmlzU2Nyb2xsaW5nPSEwLHZvaWQodGhpcy5zY3JvbGxUaW1lcj1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmlzU2Nyb2xsaW5nPSExfSx0aGlzKSwyNTAwKSkpfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFRleHROZWFySW1hZ2U9ZnVuY3Rpb24oYSl7dm9pZCAwIT09YSYmKHRoaXMub3B0aW9ucy50ZXh0TmVhckltYWdlPWEpLHRoaXMub3B0aW9ucy50ZXh0TmVhckltYWdlPT09ITA/dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi10bmkiKTp0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLXRuaSIpfSxiLnByb3RvdHlwZS5zZXRQbGFjZWhvbGRlcj1mdW5jdGlvbihiKXtiJiYodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyPWIpLHRoaXMuJHRleHRhcmVhJiZ0aGlzLiR0ZXh0YXJlYS5hdHRyKCJwbGFjZWhvbGRlciIsdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKSx0aGlzLiRwbGFjZWhvbGRlcnx8KHRoaXMuJHBsYWNlaG9sZGVyPWEoJzxzcGFuIGNsYXNzPSJmci1wbGFjZWhvbGRlciI+PC9zcGFuPicpLmJpbmQoImNsaWNrIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5hZnRlcih0aGlzLiRwbGFjZWhvbGRlcikpLHRoaXMuJHBsYWNlaG9sZGVyLnRleHQodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKX0sYi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3ZhciBiPXRoaXMuJGVsZW1lbnQudGV4dCgpLnJlcGxhY2UoLyhcclxufFxufFxyfFx0fFx1MjAwQnxcdTAwMjApL2dtLCIiKTtyZXR1cm4iIj09PWImJjA9PT10aGlzLiRlbGVtZW50LmZpbmQoImltZywgdGFibGUsIGlmcmFtZSwgaW5wdXQsIGhyIikubGVuZ3RoJiYwPT09dGhpcy4kZWxlbWVudC5maW5kKCJwID4gYnIsIGRpdiA+IGJyIikubGVuZ3RoJiYwPT09dGhpcy4kZWxlbWVudC5maW5kKGEubWFwKHRoaXMudmFsaWRfbm9kZXMsZnVuY3Rpb24oYSl7cmV0dXJuWyJQLCBESVYiXS5pbmRleE9mKGEpPj0wP251bGw6YX0pLmpvaW4oIiwgIikpLmxlbmd0aH0sYi5wcm90b3R5cGUuY2hlY2tQbGFjZWhvbGRlcj1mdW5jdGlvbihiKXtpZih0aGlzLmlzRGlzYWJsZWQmJiFiKXJldHVybiExO2lmKHRoaXMucGFzdGluZyYmIWIpcmV0dXJuITE7aWYodGhpcy4kZWxlbWVudC5maW5kKCJ0ZDplbXB0eSwgdGg6ZW1wdHkiKS5hcHBlbmQoIjwvYnI+IiksdGhpcy5icm93c2VyLm1zaWV8fHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIjplbXB0eSwgIikrIjplbXB0eSIpLnJlbW92ZSgpLCF0aGlzLmlzSFRNTClpZih0aGlzLmlzRW1wdHkoKSYmIXRoaXMuZmFrZUVtcHR5KCkpe3ZhciBjLGQ9dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpfHx0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKTt0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT8oYz1hKCI8cD48YnIvPjwvcD4iKSx0aGlzLiRlbGVtZW50Lmh0bWwoYyksZCYmdGhpcy5zZXRTZWxlY3Rpb24oYy5nZXQoMCkpLHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtcGxhY2Vob2xkZXIiKSk6KDA9PT10aGlzLiRlbGVtZW50LmZpbmQoImJyIikubGVuZ3RoJiZ0aGlzLiRlbGVtZW50LmFwcGVuZCgiPGJyLz4iKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLXBsYWNlaG9sZGVyIikpfWVsc2UhdGhpcy4kZWxlbWVudC5maW5kKCJwIikubGVuZ3RoJiZ0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT8odGhpcy53cmFwVGV4dCghMCksdGhpcy4kZWxlbWVudC5maW5kKCJwIikubGVuZ3RoJiYiIj09PXRoaXMudGV4dCgpP3RoaXMuc2V0U2VsZWN0aW9uKHRoaXMuJGVsZW1lbnQuZmluZCgicCIpWzBdLHRoaXMuJGVsZW1lbnQuZmluZCgicCIpLnRleHQoKS5sZW5ndGgsbnVsbCx0aGlzLiRlbGVtZW50LmZpbmQoInAiKS50ZXh0KCkubGVuZ3RoKTp0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLXBsYWNlaG9sZGVyIikpOnRoaXMuZmFrZUVtcHR5KCk9PT0hMXx8dGhpcy4kZWxlbWVudC5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKS5sZW5ndGg+MT90aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLXBsYWNlaG9sZGVyIik6dGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1wbGFjZWhvbGRlciIpO3JldHVybiEwfSxiLnByb3RvdHlwZS5mYWtlRW1wdHk9ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9dGhpcy4kZWxlbWVudCk7dmFyIGI9YS50ZXh0KCkucmVwbGFjZSgvKFxyXG58XG58XHJ8XHR8XHUyMDBCKS9nbSwiIik7cmV0dXJuIiI9PT1iJiYxPT1hLmZpbmQoInAsIGRpdiIpLmxlbmd0aCYmMT09YS5maW5kKCJwID4gYnIsIGRpdiA+IGJyIikubGVuZ3RoJiYwPT09YS5maW5kKCJpbWcsIHRhYmxlLCBpZnJhbWUsIGlucHV0LCBociIpLmxlbmd0aH0sYi5wcm90b3R5cGUuc2V0UGxhY2Vob2xkZXJFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLmJyb3dzZXIubXNpZSYmYi5nZXRJRXZlcnNpb24oKTw5fHwodGhpcy4kZWxlbWVudC5vbigiZm9jdXMiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQoIiIhPT10aGlzLiRlbGVtZW50LnRleHQoKXx8dGhpcy5wYXN0aW5nfHx0aGlzLmZvY3VzKCExKSl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCBrZXlkb3duIGZvY3VzIHBsYWNlaG9sZGVyQ2hlY2siLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja1BsYWNlaG9sZGVyKCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSl9LGIucHJvdG90eXBlLnNldERpbWVuc2lvbnM9ZnVuY3Rpb24oYSxiLGMsZCl7YSYmKHRoaXMub3B0aW9ucy5oZWlnaHQ9YSksYiYmKHRoaXMub3B0aW9ucy53aWR0aD1iKSxjJiYodGhpcy5vcHRpb25zLm1pbkhlaWdodD1jKSxkJiYodGhpcy5vcHRpb25zLm1heEhlaWdodD1kKSwiYXV0byIhPXRoaXMub3B0aW9ucy5oZWlnaHQmJnRoaXMuJGVsZW1lbnQuY3NzKCJoZWlnaHQiLHRoaXMub3B0aW9ucy5oZWlnaHQpLCJhdXRvIiE9dGhpcy5vcHRpb25zLm1pbkhlaWdodCYmdGhpcy4kZWxlbWVudC5jc3MoIm1pbkhlaWdodCIsdGhpcy5vcHRpb25zLm1pbkhlaWdodCksImF1dG8iIT10aGlzLm9wdGlvbnMubWF4SGVpZ2h0JiZ0aGlzLiRlbGVtZW50LmNzcygibWF4SGVpZ2h0Iix0aGlzLm9wdGlvbnMubWF4SGVpZ2h0KSwiYXV0byIhPXRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy4kYm94LmNzcygid2lkdGgiLHRoaXMub3B0aW9ucy53aWR0aCl9LGIucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmRpcmVjdGlvbj1hKSwibHRyIiE9dGhpcy5vcHRpb25zLmRpcmVjdGlvbiYmInJ0bCIhPXRoaXMub3B0aW9ucy5kaXJlY3Rpb24mJih0aGlzLm9wdGlvbnMuZGlyZWN0aW9uPSJsdHIiKSwicnRsIj09dGhpcy5vcHRpb25zLmRpcmVjdGlvbj8odGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1ydGwiKSx0aGlzLiRlZGl0b3IuYWRkQ2xhc3MoImYtcnRsIiksdGhpcy4kcG9wdXBfZWRpdG9yLmFkZENsYXNzKCJmLXJ0bCIpLHRoaXMuJGltYWdlX21vZGFsJiZ0aGlzLiRpbWFnZV9tb2RhbC5hZGRDbGFzcygiZi1ydGwiKSk6KHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImYtcnRsIiksdGhpcy4kZWRpdG9yLnJlbW92ZUNsYXNzKCJmLXJ0bCIpLHRoaXMuJHBvcHVwX2VkaXRvci5yZW1vdmVDbGFzcygiZi1ydGwiKSx0aGlzLiRpbWFnZV9tb2RhbCYmdGhpcy4kaW1hZ2VfbW9kYWwucmVtb3ZlQ2xhc3MoImYtcnRsIikpfSxiLnByb3RvdHlwZS5zZXRaSW5kZXg9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy56SW5kZXg9YSksdGhpcy4kZWRpdG9yLmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCsxKSx0aGlzLiRvdmVybGF5JiZ0aGlzLiRvdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCsyKSx0aGlzLiRpbWFnZV9tb2RhbCYmdGhpcy4kaW1hZ2VfbW9kYWwuY3NzKCJ6LWluZGV4Iix0aGlzLm9wdGlvbnMuekluZGV4KzMpfSxiLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLnRoZW1lPWEpLG51bGwhPXRoaXMub3B0aW9ucy50aGVtZSYmKHRoaXMuJGVkaXRvci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpLHRoaXMuJHBvcHVwX2VkaXRvci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpLHRoaXMuJGJveCYmdGhpcy4kYm94LmFkZENsYXNzKHRoaXMub3B0aW9ucy50aGVtZSsiLXRoZW1lIiksdGhpcy4kaW1hZ2VfbW9kYWwmJnRoaXMuJGltYWdlX21vZGFsLmFkZENsYXNzKHRoaXMub3B0aW9ucy50aGVtZSsiLXRoZW1lIikpfSxiLnByb3RvdHlwZS5zZXRTcGVsbGNoZWNrPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEmJih0aGlzLm9wdGlvbnMuc3BlbGxjaGVjaz1hKSx0aGlzLiRlbGVtZW50LmF0dHIoInNwZWxsY2hlY2siLHRoaXMub3B0aW9ucy5zcGVsbGNoZWNrKX0sYi5wcm90b3R5cGUuY3VzdG9taXplVGV4dD1mdW5jdGlvbihiKXtpZihiKXt2YXIgYz10aGlzLiRlZGl0b3IuZmluZCgiW3RpdGxlXSIpLmFkZCh0aGlzLiRwb3B1cF9lZGl0b3IuZmluZCgiW3RpdGxlXSIpKTt0aGlzLiRpbWFnZV9tb2RhbCYmKGM9Yy5hZGQodGhpcy4kaW1hZ2VfbW9kYWwuZmluZCgiW3RpdGxlXSIpKSksYy5lYWNoKGEucHJveHkoZnVuY3Rpb24oYyxkKXtmb3IodmFyIGUgaW4gYilhKGQpLmF0dHIoInRpdGxlIikudG9Mb3dlckNhc2UoKT09ZS50b0xvd2VyQ2FzZSgpJiZhKGQpLmF0dHIoInRpdGxlIixiW2VdKX0sdGhpcykpLGM9dGhpcy4kZWRpdG9yLmZpbmQoJ1tkYXRhLXRleHQ9InRydWUiXScpLmFkZCh0aGlzLiRwb3B1cF9lZGl0b3IuZmluZCgnW2RhdGEtdGV4dD0idHJ1ZSJdJykpLHRoaXMuJGltYWdlX21vZGFsJiYoYz1jLmFkZCh0aGlzLiRpbWFnZV9tb2RhbC5maW5kKCdbZGF0YS10ZXh0PSJ0cnVlIl0nKSkpLGMuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBlIGluIGIpYShkKS50ZXh0KCkudG9Mb3dlckNhc2UoKT09ZS50b0xvd2VyQ2FzZSgpJiZhKGQpLnRleHQoYltlXSl9LHRoaXMpKX19LGIucHJvdG90eXBlLnNldExhbmd1YWdlPWZ1bmN0aW9uKGIpe3ZvaWQgMCE9PWImJih0aGlzLm9wdGlvbnMubGFuZ3VhZ2U9YiksYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdJiYodGhpcy5jdXN0b21pemVUZXh0KGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS50cmFuc2xhdGlvbiksYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLmRpcmVjdGlvbiYmdGhpcy5zZXREaXJlY3Rpb24oYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLmRpcmVjdGlvbiksYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLnRyYW5zbGF0aW9uW3RoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl0mJnRoaXMuc2V0UGxhY2Vob2xkZXIoYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLnRyYW5zbGF0aW9uW3RoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl0pKX0sYi5wcm90b3R5cGUuc2V0Q3VzdG9tVGV4dD1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmN1c3RvbVRleHQ9YSksdGhpcy5vcHRpb25zLmN1c3RvbVRleHQmJnRoaXMuY3VzdG9taXplVGV4dCh0aGlzLm9wdGlvbnMuY3VzdG9tVGV4dCl9LGIucHJvdG90eXBlLmV4ZWNIVE1MPWZ1bmN0aW9uKCl7dGhpcy5odG1sKCl9LGIucHJvdG90eXBlLmluaXRIVE1MQXJlYT1mdW5jdGlvbigpe3RoaXMuJGh0bWxfYXJlYT1hKCc8dGV4dGFyZWEgd3JhcD0iaGFyZCI+Jykua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYz1iLmtleUNvZGV8fGIud2hpY2g7aWYoOT09Yyl7Yi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBkPWEodGhpcykuZ2V0KDApLnNlbGVjdGlvblN0YXJ0LGU9YSh0aGlzKS5nZXQoMCkuc2VsZWN0aW9uRW5kO2EodGhpcykudmFsKGEodGhpcykudmFsKCkuc3Vic3RyaW5nKDAsZCkrIgkiK2EodGhpcykudmFsKCkuc3Vic3RyaW5nKGUpKSxhKHRoaXMpLmdldCgwKS5zZWxlY3Rpb25TdGFydD1hKHRoaXMpLmdldCgwKS5zZWxlY3Rpb25FbmQ9ZCsxfX0pLmZvY3VzKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmJsdXJyZWQmJih0aGlzLmJsdXJyZWQ9ITEsdGhpcy50cmlnZ2VyRXZlbnQoImZvY3VzIixbXSwhMSkpfSx0aGlzKSkubW91c2V1cChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5ibHVycmVkJiYodGhpcy5ibHVycmVkPSExLHRoaXMudHJpZ2dlckV2ZW50KCJmb2N1cyIsW10sITEpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jb21tYW5kX2Rpc3BhdGNoZXI9e2FsaWduOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGREcm9wZG93bkFsaWduKGEpLGM9dGhpcy5idWlsZERyb3Bkb3duQnV0dG9uKGEsYik7cmV0dXJuIGN9LGZvcm1hdEJsb2NrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGREcm9wZG93bkZvcm1hdEJsb2NrKGEpLGM9dGhpcy5idWlsZERyb3Bkb3duQnV0dG9uKGEsYik7cmV0dXJuIGN9LGh0bWw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5idWlsZERlZmF1bHRCdXR0b24oYik7cmV0dXJuIHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiZ0aGlzLiRib3guYXBwZW5kKGEoYykuY2xvbmUoITApLmFkZENsYXNzKCJodG1sLXN3aXRjaCIpLmF0dHIoInRpdGxlIiwiSGlkZSBIVE1MIikuY2xpY2soYS5wcm94eSh0aGlzLmV4ZWNIVE1MLHRoaXMpKSksdGhpcy5pbml0SFRNTEFyZWEoKSxjfX0sYi5wcm90b3R5cGUuc2V0QnV0dG9ucz1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmJ1dHRvbnM9YSksdGhpcy4kZWRpdG9yLmFwcGVuZCgnPGRpdiBjbGFzcz0iYnR0bi13cmFwcGVyIiBpZD0iYnR0bi13cmFwcGVyLScrdGhpcy5faWQrJyI+JyksdGhpcy4kYnR0bl93cmFwcGVyPXRoaXMuJGVkaXRvci5maW5kKCIjYnR0bi13cmFwcGVyLSIrdGhpcy5faWQpLHRoaXMubW9iaWxlKCkmJnRoaXMuJGJ0dG5fd3JhcHBlci5hZGRDbGFzcygidG91Y2giKTtmb3IodmFyIGMsZCxlPSIiLGY9MDtmPHRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMub3B0aW9ucy5idXR0b25zW2ZdO2lmKCJzZXAiIT1nKXt2YXIgaD1iLmNvbW1hbmRzW2ddO2lmKHZvaWQgMCE9PWgpe2guY21kPWc7dmFyIGk9dGhpcy5jb21tYW5kX2Rpc3BhdGNoZXJbaC5jbWRdO2k/ZSs9aS5hcHBseSh0aGlzLFtoXSk6aC5zZWVkPyhjPXRoaXMuYnVpbGREZWZhdWx0RHJvcGRvd24oaCksZD10aGlzLmJ1aWxkRHJvcGRvd25CdXR0b24oaCxjKSxlKz1kKTooZD10aGlzLmJ1aWxkRGVmYXVsdEJ1dHRvbihoKSxlKz1kLHRoaXMuYmluZFJlZnJlc2hMaXN0ZW5lcihoKSl9ZWxzZXtpZihoPXRoaXMub3B0aW9ucy5jdXN0b21CdXR0b25zW2ddLHZvaWQgMD09PWgpe2lmKGg9dGhpcy5vcHRpb25zLmN1c3RvbURyb3Bkb3duc1tnXSx2b2lkIDA9PT1oKWNvbnRpbnVlO2Q9dGhpcy5idWlsZEN1c3RvbURyb3Bkb3duKGgsZyksZSs9ZCx0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoaCk7Y29udGludWV9ZD10aGlzLmJ1aWxkQ3VzdG9tQnV0dG9uKGgsZyksZSs9ZCx0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoaCl9fWVsc2UgZSs9dGhpcy5vcHRpb25zLmlubGluZU1vZGU/JzxkaXYgY2xhc3M9ImYtY2xlYXIiPjwvZGl2Pjxoci8+JzonPHNwYW4gY2xhc3M9ImYtc2VwIj48L3NwYW4+J310aGlzLiRidHRuX3dyYXBwZXIuaHRtbChlKSx0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnYnV0dG9uW2RhdGEtY21kPSJ1bmRvIl0sIGJ1dHRvbltkYXRhLWNtZD0icmVkbyJdJykucHJvcCgiZGlzYWJsZWQiLCEwKSx0aGlzLmJpbmRCdXR0b25FdmVudHMoKX0sYi5wcm90b3R5cGUuYmluZFJlZnJlc2hMaXN0ZW5lcj1mdW5jdGlvbihiKXtiLnJlZnJlc2gmJnRoaXMuYWRkTGlzdGVuZXIoInJlZnJlc2giLGEucHJveHkoZnVuY3Rpb24oKXtiLnJlZnJlc2guYXBwbHkodGhpcyxbYi5jbWRdKX0sdGhpcykpfSxiLnByb3RvdHlwZS5idWlsZERlZmF1bHRCdXR0b249ZnVuY3Rpb24oYSl7dmFyIGI9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iZnItYnR0biIgdGl0bGU9IicrYS50aXRsZSsnIiBkYXRhLWNtZD0iJythLmNtZCsnIj4nO3JldHVybiBiKz12b2lkIDA9PT10aGlzLm9wdGlvbnMuaWNvbnNbYS5jbWRdP3RoaXMuYWRkQnV0dG9uSWNvbihhKTp0aGlzLnByZXBhcmVJY29uKHRoaXMub3B0aW9ucy5pY29uc1thLmNtZF0sYS50aXRsZSksYis9IjwvYnV0dG9uPiJ9LGIucHJvdG90eXBlLnByZXBhcmVJY29uPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEudHlwZSl7Y2FzZSJmb250IjpyZXR1cm4gdGhpcy5hZGRCdXR0b25JY29uKHtpY29uOmEudmFsdWV9KTtjYXNlImltZyI6cmV0dXJuIHRoaXMuYWRkQnV0dG9uSWNvbih7aWNvbl9pbWc6YS52YWx1ZSx0aXRsZTpifSk7Y2FzZSJ0eHQiOnJldHVybiB0aGlzLmFkZEJ1dHRvbkljb24oe2ljb25fdHh0OmEudmFsdWV9KX19LGIucHJvdG90eXBlLmFkZEJ1dHRvbkljb249ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWNvbj8nPGkgY2xhc3M9IicrYS5pY29uKyciPjwvaT4nOmEuaWNvbl9hbHQ/JzxpIGNsYXNzPSJmb3ItdGV4dCI+JythLmljb25fYWx0KyI8L2k+IjphLmljb25faW1nPyc8aW1nIHNyYz0iJythLmljb25faW1nKyciIGFsdD0iJythLnRpdGxlKyciLz4nOmEuaWNvbl90eHQ/IjxpPiIrYS5pY29uX3R4dCsiPC9pPiI6YS50aXRsZX0sYi5wcm90b3R5cGUuYnVpbGRDdXN0b21CdXR0b249ZnVuY3Rpb24oYSxiKXt0aGlzWyJjYWxsXyIrYl09YS5jYWxsYmFjazt2YXIgYz0nPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJmci1idHRuIiBkYXRhLWNhbGxiYWNrPSJjYWxsXycrYisnIiBkYXRhLWNtZD0iYnV0dG9uX25hbWUiIGRhdGEtbmFtZT0iJytiKyciIHRpdGxlPSInK2EudGl0bGUrJyI+Jyt0aGlzLnByZXBhcmVJY29uKGEuaWNvbixhLnRpdGxlKSsiPC9idXR0b24+IjtyZXR1cm4gY30sYi5wcm90b3R5cGUuY2FsbERyb3Bkb3duPWZ1bmN0aW9uKGIsYyl7dGhpcy4kYnR0bl93cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsJ1tkYXRhLW5hbWU9IicrYisnIl0nLGEucHJveHkoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksYy5hcHBseSh0aGlzKX0sdGhpcykpfSxiLnByb3RvdHlwZS5idWlsZEN1c3RvbURyb3Bkb3duPWZ1bmN0aW9uKGEsYil7dmFyIGM9JzxkaXYgY2xhc3M9ImZyLWJ0dG4gZnItZHJvcGRvd24iPic7Yys9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iZnItdHJpZ2dlciIgdGl0bGU9IicrYS50aXRsZSsnIiBkYXRhLW5hbWU9IicrYisnIj4nK3RoaXMucHJlcGFyZUljb24oYS5pY29uLGEudGl0bGUpKyI8L2J1dHRvbj4iLGMrPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUiPic7dmFyIGQ9MDtmb3IodmFyIGUgaW4gYS5vcHRpb25zKXt0aGlzWyJjYWxsXyIrYitkXT1hLm9wdGlvbnNbZV07dmFyIGY9JzxsaSBkYXRhLWNhbGxiYWNrPSJjYWxsXycrYitkKyciIGRhdGEtY21kPSInK2IrZCsnIiBkYXRhLW5hbWU9IicrYitkKyciPjxhIGhyZWY9IiMiPicrZSsiPC9hPjwvbGk+IjtjKz1mLGQrK31yZXR1cm4gYys9IjwvdWw+PC9kaXY+In0sYi5wcm90b3R5cGUuYnVpbGREcm9wZG93bkJ1dHRvbj1mdW5jdGlvbihhLGIsYyl7Yz1jfHwiIjt2YXIgZD0nPGRpdiBjbGFzcz0iZnItYnR0biBmci1kcm9wZG93biAnK2MrJyI+JyxlPSIiO2UrPXZvaWQgMD09PXRoaXMub3B0aW9ucy5pY29uc1thLmNtZF0/dGhpcy5hZGRCdXR0b25JY29uKGEpOnRoaXMucHJlcGFyZUljb24odGhpcy5vcHRpb25zLmljb25zW2EuY21kXSxhLnRpdGxlKTt2YXIgZj0nPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbmFtZT0iJythLmNtZCsnIiBjbGFzcz0iZnItdHJpZ2dlciIgdGl0bGU9IicrYS50aXRsZSsnIj4nK2UrIjwvYnV0dG9uPiI7cmV0dXJuIGQrPWYsZCs9YixkKz0iPC9kaXY+In0sYi5wcm90b3R5cGUuYnVpbGREcm9wZG93bkFsaWduPWZ1bmN0aW9uKGEpe3RoaXMuYmluZFJlZnJlc2hMaXN0ZW5lcihhKTtmb3IodmFyIGI9Jzx1bCBjbGFzcz0iZnItZHJvcGRvd24tbWVudSBmLWFsaWduIj4nLGM9MDtjPGEuc2VlZC5sZW5ndGg7YysrKXt2YXIgZD1hLnNlZWRbY107Yis9JzxsaSBkYXRhLWNtZD0iYWxpZ24iIGRhdGEtdmFsPSInK2QuY21kKyciIHRpdGxlPSInK2QudGl0bGUrJyI+PGEgaHJlZj0iIyI+PGkgY2xhc3M9IicrZC5pY29uKyciPjwvaT48L2E+PC9saT4nfXJldHVybiBiKz0iPC91bD4ifSxiLnByb3RvdHlwZS5idWlsZERyb3Bkb3duRm9ybWF0QmxvY2s9ZnVuY3Rpb24oYSl7dmFyIGI9Jzx1bCBjbGFzcz0iZnItZHJvcGRvd24tbWVudSI+Jztmb3IodmFyIGMgaW4gdGhpcy5vcHRpb25zLmJsb2NrVGFncyl7dmFyIGQ9JzxsaSBkYXRhLWNtZD0iJythLmNtZCsnIiBkYXRhLXZhbD0iJytjKyciPic7ZCs9JzxhIGhyZWY9IiMiIGRhdGEtdGV4dD0idHJ1ZSIgY2xhc3M9ImZvcm1hdC0nK2MrJyIgdGl0bGU9IicrdGhpcy5vcHRpb25zLmJsb2NrVGFnc1tjXSsnIj4nK3RoaXMub3B0aW9ucy5ibG9ja1RhZ3NbY10rIjwvYT48L2xpPiIsYis9ZH1yZXR1cm4gYis9IjwvdWw+In0sYi5wcm90b3R5cGUuYnVpbGREZWZhdWx0RHJvcGRvd249ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUiPicsYz0wO2M8YS5zZWVkLmxlbmd0aDtjKyspe3ZhciBkPWEuc2VlZFtjXSxlPSc8bGkgZGF0YS1jbWQ9IicrKGQuY21kfHxhLmNtZCkrJyIgZGF0YS12YWw9IicrZC52YWx1ZSsnIiBkYXRhLXBhcmFtPSInKyhkLnBhcmFtfHxhLnBhcmFtKSsnIj4nO2UrPSc8YSBocmVmPSIjIiBkYXRhLXRleHQ9InRydWUiIGNsYXNzPSInK2QudmFsdWUrJyIgdGl0bGU9IicrZC50aXRsZSsnIj4nK2QudGl0bGUrIjwvYT48L2xpPiIsYis9ZX1yZXR1cm4gYis9IjwvdWw+In0sYi5wcm90b3R5cGUuY3JlYXRlRWRpdFBvcHVwSFRNTD1mdW5jdGlvbigpe3ZhciBhPSc8ZGl2IGNsYXNzPSJmcm9hbGEtcG9wdXAgZnJvYWxhLXRleHQtcG9wdXAiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4nO3JldHVybiBhKz0nPGg0PjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+RWRpdCB0ZXh0PC9zcGFuPjxpIHRpdGxlPSJDYW5jZWwiIGNsYXNzPSJmYSBmYS10aW1lcyIgaWQ9ImYtdGV4dC1jbG9zZS0nK3RoaXMuX2lkKyciPjwvaT48L2g0PjwvaDQ+JyxhKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9Imh0dHA6Ly93d3cuZXhhbXBsZS5jb20iIGNsYXNzPSJmLWx1IiBpZD0iZi10aS0nK3RoaXMuX2lkKyciPicsYSs9JzxidXR0b24gZGF0YS10ZXh0PSJ0cnVlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJmLW9rIiBpZD0iZi1lZGl0LXBvcHVwLW9rLScrdGhpcy5faWQrJyI+T0s8L2J1dHRvbj4nLGErPSI8L2Rpdj4iLGErPSI8L2Rpdj4ifSxiLnByb3RvdHlwZS5idWlsZEVkaXRQb3B1cD1mdW5jdGlvbigpe3RoaXMuJGVkaXRfcG9wdXBfd3JhcHBlcj1hKHRoaXMuY3JlYXRlRWRpdFBvcHVwSFRNTCgpKSx0aGlzLiRwb3B1cF9lZGl0b3IuYXBwZW5kKHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlciksdGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLmZpbmQoIiNmLXRpLSIrdGhpcy5faWQpLm9uKCJtb3VzZXVwIGtleWRvd24iLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLmFkZExpc3RlbmVyKCJoaWRlUG9wdXBzIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLmhpZGUoKX0sdGhpcykpLHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5vbigiY2xpY2siLCIjZi1lZGl0LXBvcHVwLW9rLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQudGV4dCh0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIuZmluZCgiI2YtdGktIit0aGlzLl9pZCkudmFsKCkpLHRoaXMuc3luYygpLHRoaXMuaGlkZSgpfSx0aGlzKSksdGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLm9uKCJjbGljayIsImkjZi10ZXh0LWNsb3NlLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaGlkZSgpfSx0aGlzKSl9LGIucHJvdG90eXBlLmNyZWF0ZUNPUlNSZXF1ZXN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKCJ3aXRoQ3JlZGVudGlhbHMiaW4gYyl7Yy5vcGVuKGEsYiwhMCksdGhpcy5vcHRpb25zLndpdGhDcmVkZW50aWFscyYmKGMud2l0aENyZWRlbnRpYWxzPSEwKTtmb3IodmFyIGQgaW4gdGhpcy5vcHRpb25zLmhlYWRlcnMpYy5zZXRSZXF1ZXN0SGVhZGVyKGQsdGhpcy5vcHRpb25zLmhlYWRlcnNbZF0pfWVsc2UidW5kZWZpbmVkIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0PyhjPW5ldyBYRG9tYWluUmVxdWVzdCxjLm9wZW4oYSxiKSk6Yz1udWxsO3JldHVybiBjfSxiLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5BcnJheShiLHRoaXMub3B0aW9ucy5idXR0b25zKT49MH0sYi5wcm90b3R5cGUuYmluZEJ1dHRvbkV2ZW50cz1mdW5jdGlvbigpe3RoaXMuYmluZERyb3Bkb3duRXZlbnRzKCksdGhpcy5iaW5kQ29tbWFuZEV2ZW50cyh0aGlzLiRidHRuX3dyYXBwZXIpfSxiLnByb3RvdHlwZS5iaW5kRHJvcGRvd25FdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz10aGlzO3RoaXMuJGJ0dG5fd3JhcHBlci5vbih0aGlzLm1vdXNlZG93biwiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyOm5vdChbZGlzYWJsZWRdKSIsZnVuY3Rpb24oYil7cmV0dXJuIm1vdXNlZG93biI9PT1iLnR5cGUmJjEhPT1iLndoaWNoPyEwOigiTEkiPT09dGhpcy50YWdOYW1lJiYidG91Y2hzdGFydCI9PT1iLnR5cGUmJmMuYW5kcm9pZCgpfHxjLmlPUygpfHxiLnByZXZlbnREZWZhdWx0KCksdm9pZCBhKHRoaXMpLmF0dHIoImRhdGEtZG93biIsITApKX0pLHRoaXMuJGJ0dG5fd3JhcHBlci5vbih0aGlzLm1vdXNldXAsIi5mci1kcm9wZG93biAuZnItdHJpZ2dlcjpub3QoW2Rpc2FibGVkXSkiLGZ1bmN0aW9uKGQpe2lmKGMuaXNEaXNhYmxlZClyZXR1cm4hMTtpZihkLnN0b3BQcm9wYWdhdGlvbigpLGQucHJldmVudERlZmF1bHQoKSwhYSh0aGlzKS5hdHRyKCJkYXRhLWRvd24iKSlyZXR1cm4gYSgiW2RhdGEtZG93bl0iKS5yZW1vdmVBdHRyKCJkYXRhLWRvd24iKSwhMTthKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpLGMub3B0aW9ucy5pbmxpbmVNb2RlPT09ITEmJmMuaGlkZSgpLGEodGhpcykudG9nZ2xlQ2xhc3MoImFjdGl2ZSIpLnRyaWdnZXIoImJsdXIiKSxjLmNsb3NlSW1hZ2VNb2RlKCksYy5pbWFnZU1vZGU9ITE7dmFyIGUsZj1hKHRoaXMpLmF0dHIoImRhdGEtbmFtZSIpO3JldHVybiBiLmNvbW1hbmRzW2ZdP2U9Yi5jb21tYW5kc1tmXS5yZWZyZXNoT25TaG93OmMub3B0aW9ucy5jdXN0b21Ecm9wZG93bnNbZl0mJihlPWMub3B0aW9ucy5jdXN0b21Ecm9wZG93bnNbZl0ucmVmcmVzaE9uU2hvdyksZSYmZS5jYWxsKGMpLGMuJGJ0dG5fd3JhcHBlci5maW5kKCIuZnItZHJvcGRvd24iKS5ub3QoYSh0aGlzKS5wYXJlbnQoKSkuZmluZCgiLmZyLXRyaWdnZXIiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksITF9KSx0aGlzLiRidHRuX3dyYXBwZXIub24odGhpcy5tb3VzZXVwLCIuZnItZHJvcGRvd24iLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpfSksYSh3aW5kb3cpLm9uKCJtb3VzZXVwIHNlbGVjdGlvbmNoYW5nZSIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCB0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigibW91c2V1cCIsImltZywgYSIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCB0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSx0aGlzKSksdGhpcy4kYnR0bl93cmFwcGVyLm9uKCJjbGljayIsImxpW2RhdGEtY21kXSA+IGEiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pfSxiLnByb3RvdHlwZS5iaW5kQ29tbWFuZEV2ZW50cz1mdW5jdGlvbihiKXt2YXIgYz10aGlzO2Iub24odGhpcy5tb3VzZWRvd24sImJ1dHRvbltkYXRhLWNtZF0sIGxpW2RhdGEtY21kXSwgc3BhbltkYXRhLWNtZF0sIGFbZGF0YS1jbWRdIixmdW5jdGlvbihiKXtyZXR1cm4ibW91c2Vkb3duIj09PWIudHlwZSYmMSE9PWIud2hpY2g/ITA6KCJMSSI9PT10aGlzLnRhZ05hbWUmJiJ0b3VjaHN0YXJ0Ij09PWIudHlwZSYmYy5hbmRyb2lkKCl8fGMuaU9TKCl8fGIucHJldmVudERlZmF1bHQoKSx2b2lkIGEodGhpcykuYXR0cigiZGF0YS1kb3duIiwhMCkpfSksYi5vbih0aGlzLm1vdXNldXArIiAiK3RoaXMubW92ZSwiYnV0dG9uW2RhdGEtY21kXSwgbGlbZGF0YS1jbWRdLCBzcGFuW2RhdGEtY21kXSwgYVtkYXRhLWNtZF0iLGEucHJveHkoZnVuY3Rpb24oYil7aWYoYy5pc0Rpc2FibGVkKXJldHVybiExO2lmKCJtb3VzZXVwIj09PWIudHlwZSYmMSE9PWIud2hpY2gpcmV0dXJuITA7dmFyIGQ9Yi5jdXJyZW50VGFyZ2V0O2lmKCJ0b3VjaG1vdmUiIT1iLnR5cGUpe2lmKGIuc3RvcFByb3BhZ2F0aW9uKCksYi5wcmV2ZW50RGVmYXVsdCgpLCFhKGQpLmF0dHIoImRhdGEtZG93biIpKXJldHVybiBhKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpLCExO2lmKGEoIltkYXRhLWRvd25dIikucmVtb3ZlQXR0cigiZGF0YS1kb3duIiksYShkKS5kYXRhKCJkcmFnZ2luZyIpKXJldHVybiBhKGQpLnJlbW92ZURhdGEoImRyYWdnaW5nIiksITE7dmFyIGU9YShkKS5kYXRhKCJ0aW1lb3V0Iik7ZSYmKGNsZWFyVGltZW91dChlKSxhKGQpLnJlbW92ZURhdGEoInRpbWVvdXQiKSk7dmFyIGY9YShkKS5kYXRhKCJjYWxsYmFjayIpO2lmKGYpY1tmXSgpO2Vsc2V7dmFyIGc9YShkKS5hdHRyKCJkYXRhLWNtZCIpLGg9YShkKS5hdHRyKCJkYXRhLXZhbCIpLGk9YShkKS5hdHRyKCJkYXRhLXBhcmFtIik7Yy5leGVjKGcsaCxpKSxjLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfXJldHVybiExfWEoZCkuZGF0YSgidGltZW91dCIpfHxhKGQpLmRhdGEoInRpbWVvdXQiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGQpLmRhdGEoImRyYWdnaW5nIiwhMCl9LDIwMCkpfSx0aGlzKSl9LGIucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oKXtpZih0aGlzLm5vX3ZlcmlmeT0hMCx0aGlzLnVuZG9JbmRleD4xKXtjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lcik7dmFyIGE9dGhpcy5nZXRIVE1MKCksYj10aGlzLnVuZG9TdGFja1stLXRoaXMudW5kb0luZGV4LTFdO3RoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmRvaW5nUmVkbz0hMCx0aGlzLnRyaWdnZXJFdmVudCgidW5kbyIsW3RoaXMuZ2V0SFRNTCgpLGFdKSx0aGlzLmRvaW5nUmVkbz0hMSwiIiE9PXRoaXMudGV4dCgpP3RoaXMucmVwb3NpdGlvbkVkaXRvcigpOnRoaXMuaGlkZSgpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpLHRoaXMuZm9jdXMoKSx0aGlzLnJlZnJlc2hCdXR0b25zKCl9dGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXtpZih0aGlzLm5vX3ZlcmlmeT0hMCx0aGlzLnVuZG9JbmRleDx0aGlzLnVuZG9TdGFjay5sZW5ndGgpe2NsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKTt2YXIgYT10aGlzLmdldEhUTUwoKSxiPXRoaXMudW5kb1N0YWNrW3RoaXMudW5kb0luZGV4KytdO3RoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmRvaW5nUmVkbz0hMCx0aGlzLnRyaWdnZXJFdmVudCgicmVkbyIsW3RoaXMuZ2V0SFRNTCgpLGFdKSx0aGlzLmRvaW5nUmVkbz0hMSwiIiE9PXRoaXMudGV4dCgpP3RoaXMucmVwb3NpdGlvbkVkaXRvcigpOnRoaXMuaGlkZSgpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpLHRoaXMuZm9jdXMoKSx0aGlzLnJlZnJlc2hCdXR0b25zKCl9dGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oKXtpZighdGhpcy50cmlnZ2VyRXZlbnQoImJlZm9yZVNhdmUiLFtdLCExKSlyZXR1cm4hMTtpZih0aGlzLm9wdGlvbnMuc2F2ZVVSTCl7dmFyIGI9e307Zm9yKHZhciBjIGluIHRoaXMub3B0aW9ucy5zYXZlUGFyYW1zKXt2YXIgZD10aGlzLm9wdGlvbnMuc2F2ZVBhcmFtc1tjXTtiW2NdPSJmdW5jdGlvbiI9PXR5cGVvZiBkP2QuY2FsbCh0aGlzKTpkfWEuYWpheCh7dHlwZTp0aGlzLm9wdGlvbnMuc2F2ZVJlcXVlc3RUeXBlLHVybDp0aGlzLm9wdGlvbnMuc2F2ZVVSTCxkYXRhOmEuZXh0ZW5kKHtib2R5OnRoaXMuZ2V0SFRNTCgpfSx0aGlzLm9wdGlvbnMuc2F2ZVBhcmFtcyksY3Jvc3NEb21haW46dGhpcy5vcHRpb25zLmNyb3NzRG9tYWluLHhockZpZWxkczp7d2l0aENyZWRlbnRpYWxzOnRoaXMub3B0aW9ucy53aXRoQ3JlZGVudGlhbHN9LGhlYWRlcnM6dGhpcy5vcHRpb25zLmhlYWRlcnN9KS5kb25lKGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyU2F2ZSIsW2FdKX0sdGhpcykpLmZhaWwoYS5wcm94eShmdW5jdGlvbigpe3RoaXMudHJpZ2dlckV2ZW50KCJzYXZlRXJyb3IiLFsiU2F2ZSByZXF1ZXN0IGZhaWxlZCBvbiB0aGUgc2VydmVyLiJdKX0sdGhpcykpfWVsc2UgdGhpcy50cmlnZ2VyRXZlbnQoInNhdmVFcnJvciIsWyJNaXNzaW5nIHNhdmUgVVJMLiJdKX0sYi5wcm90b3R5cGUuc2FuaXRpemVVUkw9ZnVuY3Rpb24oYSl7aWYoL15odHRwcz86XC9cLy8udGVzdChhKSl7YT1TdHJpbmcoYSkucmVwbGFjZSgvPC9nLCIlM0MiKS5yZXBsYWNlKC8+L2csIiUzRSIpLnJlcGxhY2UoLyIvZywiJTIyIikucmVwbGFjZSgvIC9nLCIlMjAiKTt2YXIgYj0vXCg/KD86KGh0dHB8aHR0cHN8ZnRwKTpcL1wvKT8oPzooKD86W15cV1xzXXxcLnwtfFs6XXsxfSkrKUB7MX0pPygoPzp3d3cuKT8oPzpbXlxXXHNdfFwufC0pK1tcLl1bXlxXXHNdezIsNH18KD86d3d3Lik/KD86W15cV1xzXXxcLnwtKXxsb2NhbGhvc3R8XGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSkoPzo6KFxkKikpPyhbXC9dP1teXHNcP10qW1wvXXsxfSkqKD86XC8/KFteXHNcblw/XFtcXVx7XH1cI10qKD86KD89XC4pKXsxfXxbXlxzXG5cP1xbXF1ce1x9XC5cI10qKT8oW1wuXXsxfVteXHNcP1wjXSopPyk/KD86XD97MX0oW15cc1xuXCNcW1xdXSopKT8oW1wjXVteXHNcbl0qKT9cKT8vZ2k7CmlmKCFiLnRlc3QoYSkpcmV0dXJuIiJ9ZWxzZSBhPWVuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8lMjMvZywiIyIpLnJlcGxhY2UoLyUyRi9nLCIvIikucmVwbGFjZSgvJTI1L2csIiUiKS5yZXBsYWNlKC9tYWlsdG8lM0EvZywibWFpbHRvOiIpLnJlcGxhY2UoL3RlbCUzQS9nLCJ0ZWw6IikucmVwbGFjZSgvZGF0YSUzQWltYWdlL2csImRhdGE6aW1hZ2UiKS5yZXBsYWNlKC93ZWJraXQtZmFrZS11cmwlM0EvZywid2Via2l0LWZha2UtdXJsOiIpLnJlcGxhY2UoLyUzRi9nLCI/IikucmVwbGFjZSgvJTNEL2csIj0iKS5yZXBsYWNlKC8lMjYvZywiJiIpLnJlcGxhY2UoLyZhbXA7L2csIiYiKS5yZXBsYWNlKC8lMkMvZywiLCIpLnJlcGxhY2UoLyUzQi9nLCI7IikucmVwbGFjZSgvJTJCL2csIisiKS5yZXBsYWNlKC8lNDAvZywiQCIpO3JldHVybiBhfSxiLnByb3RvdHlwZS5vcHRpb249ZnVuY3Rpb24oYixjKXtpZih2b2lkIDA9PT1iKXJldHVybiB0aGlzLm9wdGlvbnM7aWYoYiBpbnN0YW5jZW9mIE9iamVjdCl0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLHRoaXMuaW5pdE9wdGlvbnMoKSx0aGlzLnNldEN1c3RvbVRleHQoKSx0aGlzLnNldExhbmd1YWdlKCk7ZWxzZXtpZih2b2lkIDA9PT1jKXJldHVybiB0aGlzLm9wdGlvbnNbYl07c3dpdGNoKHRoaXMub3B0aW9uc1tiXT1jLGIpe2Nhc2UiZGlyZWN0aW9uIjp0aGlzLnNldERpcmVjdGlvbigpO2JyZWFrO2Nhc2UiaGVpZ2h0IjpjYXNlIndpZHRoIjpjYXNlIm1pbkhlaWdodCI6Y2FzZSJtYXhIZWlnaHQiOnRoaXMuc2V0RGltZW5zaW9ucygpO2JyZWFrO2Nhc2Uic3BlbGxjaGVjayI6dGhpcy5zZXRTcGVsbGNoZWNrKCk7YnJlYWs7Y2FzZSJwbGFjZWhvbGRlciI6dGhpcy5zZXRQbGFjZWhvbGRlcigpO2JyZWFrO2Nhc2UiY3VzdG9tVGV4dCI6dGhpcy5zZXRDdXN0b21UZXh0KCk7YnJlYWs7Y2FzZSJsYW5ndWFnZSI6dGhpcy5zZXRMYW5ndWFnZSgpO2JyZWFrO2Nhc2UidGV4dE5lYXJJbWFnZSI6dGhpcy5zZXRUZXh0TmVhckltYWdlKCk7YnJlYWs7Y2FzZSJ6SW5kZXgiOnRoaXMuc2V0WkluZGV4KCk7YnJlYWs7Y2FzZSJ0aGVtZSI6dGhpcy5zZXRUaGVtZSgpfX19O3ZhciBjPWEuZm4uZWRpdGFibGU7YS5mbi5lZGl0YWJsZT1mdW5jdGlvbihjKXtmb3IodmFyIGQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZC5wdXNoKGFyZ3VtZW50c1tlXSk7aWYoInN0cmluZyI9PXR5cGVvZiBjKXt2YXIgZj1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxlPWIuZGF0YSgiZmEuZWRpdGFibGUiKTtpZighZVtjXSlyZXR1cm4gYS5lcnJvcigiTWV0aG9kICIrYysiIGRvZXMgbm90IGV4aXN0IGluIEZyb2FsYSBFZGl0b3IuIik7dmFyIGc9ZVtjXS5hcHBseShlLGQuc2xpY2UoMSkpO3ZvaWQgMD09PWc/Zi5wdXNoKHRoaXMpOjA9PT1mLmxlbmd0aCYmZi5wdXNoKGcpfSksMT09Zi5sZW5ndGg/ZlswXTpmfXJldHVybiJvYmplY3QiIT10eXBlb2YgYyYmYz92b2lkIDA6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlPWEoZCksZj1lLmRhdGEoImZhLmVkaXRhYmxlIik7Znx8ZS5kYXRhKCJmYS5lZGl0YWJsZSIsZj1uZXcgYihkLGMpKX0pfSxhLmZuLmVkaXRhYmxlLkNvbnN0cnVjdG9yPWIsYS5FZGl0YWJsZT1iLGEuZm4uZWRpdGFibGUubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmVkaXRhYmxlPWMsdGhpc319KHdpbmRvdy5qUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hCdXR0b25zPWZ1bmN0aW9uKGIpe2lmKCEodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiYhdGhpcy5pc0hUTUx8fHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDl8fGIpKXJldHVybiExO3RoaXMuJGVkaXRvci5maW5kKCJidXR0b25bZGF0YS1jbWRdIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO2Zvcih2YXIgYz0wO2M8dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5vcHRpb25zLmJ1dHRvbnNbY107aWYodm9pZCAwIT09YS5FZGl0YWJsZS5jb21tYW5kc1tkXSl7dmFyIGU9ITE7YS5pc0Z1bmN0aW9uKGEuRWRpdGFibGUuY29tbWFuZHNbZF0uZGlzYWJsZWQpP2U9YS5FZGl0YWJsZS5jb21tYW5kc1tkXS5kaXNhYmxlZC5hcHBseSh0aGlzKTp2b2lkIDAhPT1hLkVkaXRhYmxlLmNvbW1hbmRzW2RdLmRpc2FibGVkJiYoZT0hMCksZT90aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uW2RhdGEtbmFtZT0iJytkKyciXScpLnByb3AoImRpc2FibGVkIiwhMCk6dGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbltkYXRhLW5hbWU9IicrZCsnIl0nKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpfX10aGlzLnJhaXNlRXZlbnQoInJlZnJlc2giKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEZvcm1hdEJsb2Nrcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKVswXSxiPWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3RoaXMub3B0aW9ucy5wYXJhZ3JhcGh5JiYicCI9PT1iJiYoYj0ibiIpLHRoaXMuJGVkaXRvci5maW5kKCcuZnItYnR0biA+IGJ1dHRvbltkYXRhLW5hbWU9ImZvcm1hdEJsb2NrIl0gKyB1bCBsaScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnLmZyLWJ0dG4gPiBidXR0b25bZGF0YS1uYW1lPSJmb3JtYXRCbG9jayJdICsgdWwgbGlbZGF0YS12YWw9IicrYisnIl0nKS5hZGRDbGFzcygiYWN0aXZlIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hVbmRvPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VuYWJsZWQoInVuZG8iKSl7aWYodm9pZCAwPT09dGhpcy4kZWRpdG9yKXJldHVybjt0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnW2RhdGEtY21kPSJ1bmRvIl0nKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLCgwPT09dGhpcy51bmRvU3RhY2subGVuZ3RofHx0aGlzLnVuZG9JbmRleDw9MXx8dGhpcy5pc0hUTUwpJiZ0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnW2RhdGEtY21kPSJ1bmRvIl0nKS5wcm9wKCJkaXNhYmxlZCIsITApfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaFJlZG89ZnVuY3Rpb24oKXtpZih0aGlzLmlzRW5hYmxlZCgicmVkbyIpKXtpZih2b2lkIDA9PT10aGlzLiRlZGl0b3IpcmV0dXJuO3RoaXMuJGJ0dG5fd3JhcHBlci5maW5kKCdbZGF0YS1jbWQ9InJlZG8iXScpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksKHRoaXMudW5kb0luZGV4PT10aGlzLnVuZG9TdGFjay5sZW5ndGh8fHRoaXMuaXNIVE1MKSYmdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ1tkYXRhLWNtZD0icmVkbyJdJykucHJvcCgiZGlzYWJsZWQiLCEwKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0PWZ1bmN0aW9uKGEpe3RyeXtkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShhKT09PSEwJiZ0aGlzLiRlZGl0b3IuZmluZCgnW2RhdGEtY21kPSInK2ErJyJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpfWNhdGNoKGIpe319LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hBbGlnbj1mdW5jdGlvbigpe3ZhciBiPWEodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdKTt0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWRyb3Bkb3duID4gYnV0dG9uW2RhdGEtbmFtZT0iYWxpZ24iXSArIHVsIGxpJykucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciBjLGQ9Yi5jc3MoInRleHQtYWxpZ24iKTtbImxlZnQiLCJyaWdodCIsImp1c3RpZnkiLCJjZW50ZXIiXS5pbmRleE9mKGQpPDAmJihkPSJsZWZ0IiksImxlZnQiPT1kP2M9Imp1c3RpZnlMZWZ0IjoicmlnaHQiPT1kP2M9Imp1c3RpZnlSaWdodCI6Imp1c3RpZnkiPT1kP2M9Imp1c3RpZnlGdWxsIjoiY2VudGVyIj09ZCYmKGM9Imp1c3RpZnlDZW50ZXIiKSx0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWRyb3Bkb3duID4gYnV0dG9uW2RhdGEtbmFtZT0iYWxpZ24iXS5mci10cmlnZ2VyIGknKS5hdHRyKCJjbGFzcyIsImZhIGZhLWFsaWduLSIrZCksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1kcm9wZG93biA+IGJ1dHRvbltkYXRhLW5hbWU9ImFsaWduIl0gKyB1bCBsaVtkYXRhLXZhbD0iJytjKyciXScpLmFkZENsYXNzKCJhY3RpdmUiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEhUTUw9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlKCJodG1sIik/dGhpcy4kZWRpdG9yLmZpbmQoJ1tkYXRhLWNtZD0iaHRtbCJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpOnRoaXMuJGVkaXRvci5maW5kKCdbZGF0YS1jbWQ9Imh0bWwiXScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5jb21tYW5kcz17Ym9sZDp7dGl0bGU6IkJvbGQiLGljb246ImZhIGZhLWJvbGQiLHNob3J0Y3V0OiIoQ3RybCArIEIpIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0saXRhbGljOnt0aXRsZToiSXRhbGljIixpY29uOiJmYSBmYS1pdGFsaWMiLHNob3J0Y3V0OiIoQ3RybCArIEkpIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0sdW5kZXJsaW5lOntjbWQ6InVuZGVybGluZSIsdGl0bGU6IlVuZGVybGluZSIsaWNvbjoiZmEgZmEtdW5kZXJsaW5lIixzaG9ydGN1dDoiKEN0cmwgKyBVKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LHN0cmlrZVRocm91Z2g6e3RpdGxlOiJTdHJpa2V0aHJvdWdoIixpY29uOiJmYSBmYS1zdHJpa2V0aHJvdWdoIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0sc3Vic2NyaXB0Ont0aXRsZToiU3Vic2NyaXB0IixpY29uOiJmYSBmYS1zdWJzY3JpcHQiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaERlZmF1bHQsdW5kbzohMCxjYWxsYmFja1dpdGhvdXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5fc3RhcnRJbkRlZmF1bHQoYSl9fSxzdXBlcnNjcmlwdDp7dGl0bGU6IlN1cGVyc2NyaXB0IixpY29uOiJmYSBmYS1zdXBlcnNjcmlwdCIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LGZvcm1hdEJsb2NrOnt0aXRsZToiRm9ybWF0IEJsb2NrIixpY29uOiJmYSBmYS1wYXJhZ3JhcGgiLHJlZnJlc2hPblNob3c6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEZvcm1hdEJsb2NrcyxjYWxsYmFjazpmdW5jdGlvbihhLGIpe3RoaXMuZm9ybWF0QmxvY2soYil9LHVuZG86ITB9LGFsaWduOnt0aXRsZToiQWxpZ25tZW50IixpY29uOiJmYSBmYS1hbGlnbi1sZWZ0IixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hBbGlnbixyZWZyZXNoT25TaG93OmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hBbGlnbixzZWVkOlt7Y21kOiJqdXN0aWZ5TGVmdCIsdGl0bGU6IkFsaWduIExlZnQiLGljb246ImZhIGZhLWFsaWduLWxlZnQifSx7Y21kOiJqdXN0aWZ5Q2VudGVyIix0aXRsZToiQWxpZ24gQ2VudGVyIixpY29uOiJmYSBmYS1hbGlnbi1jZW50ZXIifSx7Y21kOiJqdXN0aWZ5UmlnaHQiLHRpdGxlOiJBbGlnbiBSaWdodCIsaWNvbjoiZmEgZmEtYWxpZ24tcmlnaHQifSx7Y21kOiJqdXN0aWZ5RnVsbCIsdGl0bGU6Ikp1c3RpZnkiLGljb246ImZhIGZhLWFsaWduLWp1c3RpZnkifV0sY2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLmFsaWduKGIpfSx1bmRvOiEwfSxvdXRkZW50Ont0aXRsZToiSW5kZW50IExlc3MiLGljb246ImZhIGZhLWRlZGVudCIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwgKyA8KSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLm91dGRlbnQoITApfSx1bmRvOiEwfSxpbmRlbnQ6e3RpdGxlOiJJbmRlbnQgTW9yZSIsaWNvbjoiZmEgZmEtaW5kZW50IixhY3RpdmVsZXNzOiEwLHNob3J0Y3V0OiIoQ3RybCArID4pIixjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMuaW5kZW50KCl9LHVuZG86ITB9LHNlbGVjdEFsbDp7dGl0bGU6IlNlbGVjdCBBbGwiLGljb246ImZhIGZhLWZpbGUtdGV4dCIsc2hvcnRjdXQ6IihDdHJsICsgQSkiLGNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7dGhpcy4kZWxlbWVudC5mb2N1cygpLHRoaXMuZXhlY0RlZmF1bHQoYSxiKX0sdW5kbzohMX0sY3JlYXRlTGluazp7dGl0bGU6Ikluc2VydCBMaW5rIixpY29uOiJmYSBmYS1saW5rIixzaG9ydGN1dDoiKEN0cmwgKyBLKSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmluc2VydExpbmsoKX0sdW5kbzohMX0saW5zZXJ0SW1hZ2U6e3RpdGxlOiJJbnNlcnQgSW1hZ2UiLGljb246ImZhIGZhLXBpY3R1cmUtbyIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwgKyBQKSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmluc2VydEltYWdlKCl9LHVuZG86ITF9LHVuZG86e3RpdGxlOiJVbmRvIixpY29uOiJmYSBmYS11bmRvIixhY3RpdmVsZXNzOiEwLHNob3J0Y3V0OiIoQ3RybCtaKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoVW5kbyxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMudW5kbygpfSx1bmRvOiExfSxyZWRvOnt0aXRsZToiUmVkbyIsaWNvbjoiZmEgZmEtcmVwZWF0IixhY3RpdmVsZXNzOiEwLHNob3J0Y3V0OiIoU2hpZnQrQ3RybCtaKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoUmVkbyxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMucmVkbygpfSx1bmRvOiExfSxodG1sOnt0aXRsZToiU2hvdyBIVE1MIixpY29uOiJmYSBmYS1jb2RlIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hIVE1MLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5odG1sKCl9LHVuZG86ITF9LHNhdmU6e3RpdGxlOiJTYXZlIixpY29uOiJmYSBmYS1mbG9wcHktbyIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLnNhdmUoKX0sdW5kbzohMX0saW5zZXJ0SG9yaXpvbnRhbFJ1bGU6e3RpdGxlOiJJbnNlcnQgSG9yaXpvbnRhbCBMaW5lIixpY29uOiJmYSBmYS1taW51cyIsY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRIUihhKX0sdW5kbzohMH0scmVtb3ZlRm9ybWF0Ont0aXRsZToiQ2xlYXIgZm9ybWF0dGluZyIsaWNvbjoiZmEgZmEtZXJhc2VyIixhY3RpdmVsZXNzOiEwLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVGb3JtYXQoKX0sdW5kbzohMH19LGEuRWRpdGFibGUucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24oYixjLGQpe3JldHVybiF0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJmEuRWRpdGFibGUuY29tbWFuZHNbYl0udW5kbyYmdGhpcy5mb2N1cygpLHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmIiI9PT10aGlzLnRleHQoKSYmYS5FZGl0YWJsZS5jb21tYW5kc1tiXS5jYWxsYmFja1dpdGhvdXRTZWxlY3Rpb24/KGEuRWRpdGFibGUuY29tbWFuZHNbYl0uY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uLmFwcGx5KHRoaXMsW2IsYyxkXSksITEpOnZvaWQoYS5FZGl0YWJsZS5jb21tYW5kc1tiXS5jYWxsYmFjaz9hLkVkaXRhYmxlLmNvbW1hbmRzW2JdLmNhbGxiYWNrLmFwcGx5KHRoaXMsW2IsYyxkXSk6dGhpcy5leGVjRGVmYXVsdChiLGMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaHRtbD1mdW5jdGlvbigpe3ZhciBhO3RoaXMuaXNIVE1MPyh0aGlzLmlzSFRNTD0hMSxhPXRoaXMuJGh0bWxfYXJlYS52YWwoKSxhPXRoaXMuY2xlYW4oYSwhMCwhMSksdGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmLWh0bWwiKSx0aGlzLiRodG1sX2FyZWEuYmx1cigpLHRoaXMubm9fdmVyaWZ5PSEwLHRoaXMuJGVsZW1lbnQuaHRtbChhKSx0aGlzLmNsZWFudXBMaXN0cygpLHRoaXMuY2xlYW5pZnkoITEpLHRoaXMubm9fdmVyaWZ5PSExLHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1idHRuOm5vdChbZGF0YS1jbWQ9Imh0bWwiXSksIC5mci10cmlnZ2VyJykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWJ0dG5bZGF0YS1jbWQ9Imh0bWwiXScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCgpLHRoaXMuJGVsZW1lbnQuYmx1cigpLHRoaXMuZm9jdXMoKSx0aGlzLnJlZnJlc2hCdXR0b25zKCksdGhpcy50cmlnZ2VyRXZlbnQoImh0bWxIaWRlIixbYV0sITAsITApKToodGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmLXBsYWNlaG9sZGVyIiksdGhpcy5jbGVhbmlmeSghMSksYT10aGlzLm9wdGlvbnMuaW5saW5lTW9kZT8iXG5cbiIrdGhpcy5jbGVhblRhZ3ModGhpcy5nZXRIVE1MKCExLCExKSk6dGhpcy5jbGVhblRhZ3ModGhpcy5nZXRIVE1MKCExLCExKSksYT1hLnJlcGxhY2UoL1wmYW1wOy9nLCImIiksdGhpcy4kaHRtbF9hcmVhLnZhbChhKS50cmlnZ2VyKCJyZXNpemUiKSx0aGlzLiRodG1sX2FyZWEuY3NzKCJoZWlnaHQiLHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCktMSksdGhpcy4kZWxlbWVudC5odG1sKCIiKS5hcHBlbmQodGhpcy4kaHRtbF9hcmVhKS5yZW1vdmVBdHRyKCJjb250ZW50ZWRpdGFibGUiKSx0aGlzLiRib3guYWRkQ2xhc3MoImYtaHRtbCIpLHRoaXMuJGVkaXRvci5maW5kKCdidXR0b24uZnItYnR0bjpub3QoW2RhdGEtY21kPSJodG1sIl0pLCBidXR0b24uZnItdHJpZ2dlcicpLmF0dHIoImRpc2FibGVkIiwhMCksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1idHRuW2RhdGEtY21kPSJodG1sIl0nKS5hZGRDbGFzcygiYWN0aXZlIiksdGhpcy5oaWRlKCksdGhpcy5pbWFnZU1vZGU9ITEsdGhpcy5pc0hUTUw9ITAsdGhpcy4kZWxlbWVudC5ibHVyKCksdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJjb250ZW50ZWRpdGFibGUiKSx0aGlzLnRyaWdnZXJFdmVudCgiaHRtbFNob3ciLFthXSwhMCwhMSkpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRIUj1mdW5jdGlvbihiKXt0aGlzLiRlbGVtZW50LmZpbmQoImhyIikuYWRkQ2xhc3MoImZyLXRhZyIpLHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImYtcGxhY2Vob2xkZXIiKT9hKHRoaXMuJGVsZW1lbnQuZmluZCgiPiAiK3RoaXMudmFsaWRfbm9kZXMuam9pbigiLCA+IikpWzBdKS5iZWZvcmUoIjxoci8+Iik6ZG9jdW1lbnQuZXhlY0NvbW1hbmQoYiksdGhpcy5oaWRlKCk7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKCJocjpub3QoLmZyLXRhZykiKS5uZXh0KHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKTtjLmxlbmd0aD4wP2EoY1swXSkucHJlcGVuZCh0aGlzLm1hcmtlcnNfaHRtbCk6dGhpcy4kZWxlbWVudC5maW5kKCJocjpub3QoLmZyLXRhZykiKS5hZnRlcih0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT8iPHA+Iit0aGlzLm1hcmtlcnNfaHRtbCsiPGJyLz48L3A+Ijp0aGlzLm1hcmtlcnNfaHRtbCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy50cmlnZ2VyRXZlbnQoYixbXSwhMCwhMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmZvcm1hdEJsb2NrPWZ1bmN0aW9uKGIsYyxkKXtpZih0aGlzLmRpc2FibGVkTGlzdC5pbmRleE9mKCJmb3JtYXRCbG9jayIpPj0wKXJldHVybiExO2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDkpcmV0dXJuIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJmb3JtYXRCbG9jayIsITEsIjwiK2IrIj4iKSwhMTt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpO2VbMF09PXRoaXMuJGVsZW1lbnQuZ2V0KDApJiYoZT10aGlzLiRlbGVtZW50LmZpbmQoIj4gIit0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwgPiIpKSksdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCk7Zm9yKHZhciBmLGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0JiZbIkxJIiwiVEQiLCJUSCJdLmluZGV4T2YoYS5nZXQoMCkudGFnTmFtZSk+PTA/ITA6ITF9LGg9MDtoPGUubGVuZ3RoO2grKyl7dmFyIGk9YShlW2hdKTtpZighdGhpcy5mYWtlRW1wdHkoaSkpaWYoZj0ibiI9PWI/dGhpcy5vcHRpb25zLnBhcmFncmFwaHk/YSgiPHA+IikuaHRtbChpLmh0bWwoKSk6aS5odG1sKCkrIjxici8+IjphKCI8IitiKyI+IikuaHRtbChpLmh0bWwoKSksaS5nZXQoMCk9PXRoaXMuJGVsZW1lbnQuZ2V0KDApfHxnKGYpKWkuaHRtbChmKTtlbHNle3ZhciBqPWkucHJvcCgiYXR0cmlidXRlcyIpO2lmKGYuYXR0cilmb3IodmFyIGs9MDtrPGoubGVuZ3RoO2srKykiY2xhc3MiIT09altrXS5uYW1lJiZmLmF0dHIoaltrXS5uYW1lLGpba10udmFsdWUpO3ZhciBsO3RoaXMub3B0aW9ucy5ibG9ja1N0eWxlcyYmdGhpcy5vcHRpb25zLmJsb2NrU3R5bGVzW2JdLHZvaWQgMD09PWwmJihsPXRoaXMub3B0aW9ucy5kZWZhdWx0QmxvY2tTdHlsZSk7dHJ5e2lmKGkuaGFzQ2xhc3MoYykmJmkuZ2V0KDApLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PWIpZi5hZGRDbGFzcyhpLmF0dHIoImNsYXNzIikpLnJlbW92ZUNsYXNzKGMpO2Vsc2V7aWYodm9pZCAwPT09aS5hdHRyKCJjbGFzcyIpfHx2b2lkIDA9PT1sfHwhdGhpcy5vcHRpb25zLmJsb2NrU3R5bGVzVG9nZ2xlJiYidG9nZ2xlIiE9ZClmLmFkZENsYXNzKGkuYXR0cigiY2xhc3MiKSk7ZWxzZSBmb3IodmFyIG09aS5hdHRyKCJjbGFzcyIpLnNwbGl0KCIgIiksbj0wO248bS5sZW5ndGg7bisrKXt2YXIgbz1tW25dO3ZvaWQgMD09PWxbb10mJnZvaWQgMD09PWQ/Zi5hZGRDbGFzcyhvKTp2b2lkIDAhPT1sW29dJiYidG9nZ2xlIj09PWQmJmYuYWRkQ2xhc3MobyksaS5nZXQoMCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09YiYmdm9pZCAwIT09bFtvXSYmZi5hZGRDbGFzcyhvKX0iKiIhPWMmJmYuYWRkQ2xhc3MoYyl9fWNhdGNoKHApe31nKGkpP2kuaHRtbChmKTppLnJlcGxhY2VXaXRoKGYpfX10aGlzLnVud3JhcFRleHQoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnRyaWdnZXJFdmVudCgiZm9ybWF0QmxvY2siKSx0aGlzLnJlcG9zaXRpb25FZGl0b3IoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuYWxpZ249ZnVuY3Rpb24oYil7aWYodGhpcy5icm93c2VyLm1zaWUmJmEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uKCk8OSlyZXR1cm4gZG9jdW1lbnQuZXhlY0NvbW1hbmQoYiwhMSwhMSksITE7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGM9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpOyJqdXN0aWZ5TGVmdCI9PWI/Yj0ibGVmdCI6Imp1c3RpZnlSaWdodCI9PWI/Yj0icmlnaHQiOiJqdXN0aWZ5Q2VudGVyIj09Yj9iPSJjZW50ZXIiOiJqdXN0aWZ5RnVsbCI9PWImJihiPSJqdXN0aWZ5Iik7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspYShjW2RdKS5jc3MoInRleHQtYWxpZ24iLGIpO3RoaXMucmVwb3NpdGlvbkVkaXRvcigpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMudHJpZ2dlckV2ZW50KCJhbGlnbiIsW2JdKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5kZW50PWZ1bmN0aW9uKGIpe2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDkpcmV0dXJuIGI/ZG9jdW1lbnQuZXhlY0NvbW1hbmQoIm91dGRlbnQiLCExLCExKTpkb2N1bWVudC5leGVjQ29tbWFuZCgiaW5kZW50IiwhMSwhMSksITE7dmFyIGM9MjA7YiYmKGM9LTIwKSx0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGQ9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpO3RoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1hKGRbZV0pO2lmKGYucGFyZW50c1VudGlsKHRoaXMuJGVsZW1lbnQsImxpIikubGVuZ3RoPjAmJihmPWYuY2xvc2VzdCgibGkiKSksIkxJIj09PWYuZ2V0KDApLnRhZ05hbWUmJmEuaXNGdW5jdGlvbih0aGlzLmluZGVudExpKSliP3RoaXMub3V0ZGVudExpKGYpOnRoaXMuaW5kZW50TGkoZik7ZWxzZSBpZihmLmdldCgwKSE9dGhpcy4kZWxlbWVudC5nZXQoMCkpe3ZhciBnPXBhcnNlSW50KGYuY3NzKCJtYXJnaW4tbGVmdCIpLnJlcGxhY2UoL3B4LywiIiksMTApLGg9TWF0aC5tYXgoMCxnK2MpO2YuY3NzKCJtYXJnaW5MZWZ0IixoKX1lbHNle3ZhciBpPWEoIjxkaXY+IikuaHRtbChmLmh0bWwoKSk7Zi5odG1sKGkpLGkuY3NzKCJtYXJnaW5MZWZ0IixNYXRoLm1heCgwLGMpKX19dGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy51bndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCksYnx8dGhpcy50cmlnZ2VyRXZlbnQoImluZGVudCIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5vdXRkZW50PWZ1bmN0aW9uKCl7dGhpcy5pbmRlbnQoITApLHRoaXMudHJpZ2dlckV2ZW50KCJvdXRkZW50Iil9LGEuRWRpdGFibGUucHJvdG90eXBlLmV4ZWNEZWZhdWx0PWZ1bmN0aW9uKGEsYil7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoYSwhMSxiKSx0aGlzLnRyaWdnZXJFdmVudChhLFtdLCEwLCEwKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuX3N0YXJ0SW5EZWZhdWx0PWZ1bmN0aW9uKGEpe3RoaXMuZm9jdXMoKSxkb2N1bWVudC5leGVjQ29tbWFuZChhLCExLCExKSx0aGlzLnJlZnJlc2hCdXR0b25zKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLl9zdGFydEluRm9udEV4ZWM9ZnVuY3Rpb24oYixjLGQpe3RoaXMuZm9jdXMoKTt0cnl7dmFyIGU9dGhpcy5nZXRSYW5nZSgpLGY9ZS5jbG9uZVJhbmdlKCk7Zi5jb2xsYXBzZSghMSk7dmFyIGc9YSgnPHNwYW4gZGF0YS1pbnNlcnRlZD0idHJ1ZSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIgc3R5bGU9IicrYisiOiAiK2QrJzsiPiYjODIwMzs8L3NwYW4+Jyxkb2N1bWVudCk7Zi5pbnNlcnROb2RlKGdbMF0pLGc9dGhpcy4kZWxlbWVudC5maW5kKCJbZGF0YS1pbnNlcnRlZF0iKSxnLnJlbW92ZUF0dHIoImRhdGEtaW5zZXJ0ZWQiKSx0aGlzLnNldFNlbGVjdGlvbihnLmdldCgwKSwxKX1jYXRjaChoKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZW1vdmVGb3JtYXQ9ZnVuY3Rpb24oKXtkb2N1bWVudC5leGVjQ29tbWFuZCgicmVtb3ZlRm9ybWF0IiwhMSwhMSksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVubGluayIsITEsITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbmxpbmVTdHlsZT1mdW5jdGlvbihiLGMsZCl7aWYodGhpcy5icm93c2VyLndlYmtpdCYmImZvbnQtc2l6ZSIhPWIpe3ZhciBlPWZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHIoInN0eWxlIikuaW5kZXhPZigiZm9udC1zaXplIik+PTB9O3RoaXMuJGVsZW1lbnQuZmluZCgic3BhbiIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpO2QuYXR0cigic3R5bGUiKSYmZShkKSYmKGQuZGF0YSgiZm9udC1zaXplIixkLmNzcygiZm9udC1zaXplIikpLGQuY3NzKCJmb250LXNpemUiLCIiKSl9KX1kb2N1bWVudC5leGVjQ29tbWFuZCgiZm9udFNpemUiLCExLDQpLHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuYnJvd3Nlci53ZWJraXQmJiJmb250LXNpemUiIT1iJiZ0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKTtkLmRhdGEoImZvbnQtc2l6ZSIpJiYoZC5jc3MoImZvbnQtc2l6ZSIsZC5kYXRhKCJmb250LXNpemUiKSksZC5yZW1vdmVEYXRhKCJmb250LXNpemUiKSl9KTt2YXIgZj1mdW5jdGlvbihjLGUpe3ZhciBmPWEoZSk7Zi5jc3MoYikhPWQmJmYuY3NzKGIsIiIpLCIiPT09Zi5hdHRyKCJzdHlsZSIpJiZmLnJlcGxhY2VXaXRoKGYuaHRtbCgpKX07dGhpcy4kZWxlbWVudC5maW5kKCJmb250IikuZWFjaChmdW5jdGlvbihjLGUpe3ZhciBnPWEoJzxzcGFuIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIHN0eWxlPSInK2IrIjogIitkKyc7Ij4nK2EoZSkuaHRtbCgpKyI8L3NwYW4+Iik7YShlKS5yZXBsYWNlV2l0aChnKSxnLmZpbmQoInNwYW4iKS5lYWNoKGYpfSksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCksdGhpcy50cmlnZ2VyRXZlbnQoYyxbZF0sITAsITApfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2V2ZW50cyxkPWNbYV09Y1thXXx8W107ZC5wdXNoKGIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yYWlzZUV2ZW50PWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9W10pO3ZhciBjPSEwLGQ9dGhpcy5fZXZlbnRzW2FdO2lmKGQpZm9yKHZhciBlPTAsZj1kLmxlbmd0aDtmPmU7ZSsrKXt2YXIgZz1kW2VdLmFwcGx5KHRoaXMsYik7dm9pZCAwIT09ZyYmYyE9PSExJiYoYz1nKX1yZXR1cm4gdm9pZCAwPT09YyYmKGM9ITApLGN9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLm1hcmtlcnNfaHRtbD0nPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nLGEuRWRpdGFibGUucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYT0iIjtyZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbj9hPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5nZXRTZWxlY3Rpb24/YT1kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5zZWxlY3Rpb24mJihhPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnRleHQpLGEudG9TdHJpbmcoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2VsZWN0aW9uSW5FZGl0b3I9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldFNlbGVjdGlvblBhcmVudCgpLGM9ITE7cmV0dXJuIGI9PXRoaXMuJGVsZW1lbnQuZ2V0KDApJiYoYz0hMCksYz09PSExJiZhKGIpLnBhcmVudHMoKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYSxiKXtiPT10aGlzLiRlbGVtZW50LmdldCgwKSYmKGM9ITApfSx0aGlzKSksY30sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9IiI7cmV0dXJuIGE9d2luZG93LmdldFNlbGVjdGlvbj93aW5kb3cuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uP2RvY3VtZW50LmdldFNlbGVjdGlvbigpOmRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRSYW5nZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEubGVuZ3RoPjA/YVswXTpudWxsfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRSYW5nZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNlbGVjdGlvbigpO2lmKGEuZ2V0UmFuZ2VBdCYmYS5yYW5nZUNvdW50KXtmb3IodmFyIGI9W10sYz0wO2M8YS5yYW5nZUNvdW50O2MrKyliLnB1c2goYS5nZXRSYW5nZUF0KGMpKTtyZXR1cm4gYn1yZXR1cm4gZG9jdW1lbnQuY3JlYXRlUmFuZ2U/W2RvY3VtZW50LmNyZWF0ZVJhbmdlKCldOltdfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uKCk7dHJ5e2EucmVtb3ZlQWxsUmFuZ2VzP2EucmVtb3ZlQWxsUmFuZ2VzKCk6YS5lbXB0eT9hLmVtcHR5KCk6YS5jbGVhciYmYS5jbGVhcigpfWNhdGNoKGIpe319LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvbkVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldFNlbGVjdGlvbigpO2lmKGIucmFuZ2VDb3VudCl7dmFyIGM9dGhpcy5nZXRSYW5nZSgpLGQ9Yy5zdGFydENvbnRhaW5lcjsxIT1kLm5vZGVUeXBlJiYoZD1kLnBhcmVudE5vZGUpO3ZhciBlPSExO2QuY2hpbGRyZW4ubGVuZ3RoPjAmJmQuY2hpbGRyZW5bYy5zdGFydE9mZnNldF0mJmEoZC5jaGlsZHJlbltjLnN0YXJ0T2Zmc2V0XSkudGV4dCgpPT09dGhpcy50ZXh0KCkmJihkPWQuY2hpbGRyZW5bYy5zdGFydE9mZnNldF0sZT0hMCksIWUmJmQuY2hpbGRyZW4ubGVuZ3RoPjAmJmEoZC5jaGlsZHJlblswXSkudGV4dCgpPT09dGhpcy50ZXh0KCkmJlsiQlIiLCJJTUciXS5pbmRleE9mKGQuY2hpbGRyZW5bMF0udGFnTmFtZSk8MCYmKGQ9ZC5jaGlsZHJlblswXSk7Zm9yKHZhciBmPWQ7ZiYmIkJPRFkiIT1mLnRhZ05hbWU7KXtpZihmPT10aGlzLiRlbGVtZW50LmdldCgwKSlyZXR1cm4gZDtmPWEoZikucGFyZW50KClbMF19fXJldHVybiB0aGlzLiRlbGVtZW50LmdldCgwKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uUGFyZW50PWZ1bmN0aW9uKCl7dmFyIGIsYz1udWxsO3JldHVybiB3aW5kb3cuZ2V0U2VsZWN0aW9uPyhiPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxiLnJhbmdlQ291bnQmJihjPWIuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lciwxIT1jLm5vZGVUeXBlJiYoYz1jLnBhcmVudE5vZGUpKSk6KGI9ZG9jdW1lbnQuc2VsZWN0aW9uKSYmIkNvbnRyb2wiIT1iLnR5cGUmJihjPWIuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpLG51bGwhPWMmJihhLmluQXJyYXkodGhpcy4kZWxlbWVudC5nZXQoMCksYShjKS5wYXJlbnRzKCkpPj0wfHxjPT10aGlzLiRlbGVtZW50LmdldCgwKSk/YzpudWxsfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5ub2RlSW5SYW5nZT1mdW5jdGlvbihhLGIpe3ZhciBjO2lmKGEuaW50ZXJzZWN0c05vZGUpcmV0dXJuIGEuaW50ZXJzZWN0c05vZGUoYik7Yz1iLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt0cnl7Yy5zZWxlY3ROb2RlKGIpfWNhdGNoKGQpe2Muc2VsZWN0Tm9kZUNvbnRlbnRzKGIpfXJldHVybi0xPT1hLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhSYW5nZS5FTkRfVE9fU1RBUlQsYykmJjE9PWEuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKFJhbmdlLlNUQVJUX1RPX0VORCxjKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0RWxlbWVudEZyb21Ob2RlPWZ1bmN0aW9uKGIpe2ZvcigxIT1iLm5vZGVUeXBlJiYoYj1iLnBhcmVudE5vZGUpO251bGwhPT1iJiZ0aGlzLnZhbGlkX25vZGVzLmluZGV4T2YoYi50YWdOYW1lKTwwOyliPWIucGFyZW50Tm9kZTtyZXR1cm4gbnVsbCE9YiYmIkxJIj09Yi50YWdOYW1lJiZhKGIpLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aD4wP251bGw6YS5tYWtlQXJyYXkoYShiKS5wYXJlbnRzKCkpLmluZGV4T2YodGhpcy4kZWxlbWVudC5nZXQoMCkpPj0wP2I6bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubmV4dE5vZGU9ZnVuY3Rpb24oYSxiKXtpZihhLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm4gYS5maXJzdENoaWxkO2Zvcig7YSYmIWEubmV4dFNpYmxpbmcmJmEhPWI7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhJiZhIT1iP2EubmV4dFNpYmxpbmc6bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0UmFuZ2VTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9YS5zdGFydENvbnRhaW5lcixkPWEuZW5kQ29udGFpbmVyO2lmKGM9PWQmJiJUUiIhPWMudGFnTmFtZSl7aWYoYy5oYXNDaGlsZE5vZGVzKCkmJjAhPT1jLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHZhciBlPWMuY2hpbGRyZW4sZj1hLnN0YXJ0T2Zmc2V0O2Y8YS5lbmRPZmZzZXQ7ZisrKWVbZl0mJmIucHVzaChlW2ZdKTtyZXR1cm4gMD09PWIubGVuZ3RoJiZiLnB1c2goYyksYn1yZXR1cm5bY119aWYoYz09ZCYmIlRSIj09Yy50YWdOYW1lKXt2YXIgZz1jLmNoaWxkTm9kZXMsaD1hLnN0YXJ0T2Zmc2V0O2lmKGcubGVuZ3RoPmgmJmg+PTApe3ZhciBpPWdbaF07aWYoIlREIj09aS50YWdOYW1lfHwiVEgiPT1pLnRhZ05hbWUpcmV0dXJuW2ldfX1mb3IoO2MmJmMhPWQ7KWIucHVzaChjPXRoaXMubmV4dE5vZGUoYyxkKSk7Zm9yKGM9YS5zdGFydENvbnRhaW5lcjtjJiZjIT1hLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOyliLnVuc2hpZnQoYyksYz1jLnBhcmVudE5vZGU7cmV0dXJuIGJ9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGVkTm9kZXM9ZnVuY3Rpb24oKXtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7aWYoIWIuaXNDb2xsYXBzZWQpe2Zvcih2YXIgYz10aGlzLmdldFJhbmdlcygpLGQ9W10sZT0wO2U8Yy5sZW5ndGg7ZSsrKWQ9YS5tZXJnZShkLHRoaXMuZ2V0UmFuZ2VTZWxlY3RlZE5vZGVzKGNbZV0pKTtyZXR1cm4gZH1pZih0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkpe3ZhciBmPWIuZ2V0UmFuZ2VBdCgwKS5zdGFydENvbnRhaW5lcjtyZXR1cm4gMz09Zi5ub2RlVHlwZT9bZi5wYXJlbnROb2RlXTpbZl19fXJldHVybltdfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25FbGVtZW50cz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0ZWROb2RlcygpLGM9W107cmV0dXJuIGEuZWFjaChiLGEucHJveHkoZnVuY3Rpb24oYSxiKXtpZihudWxsIT09Yil7dmFyIGQ9dGhpcy5nZXRFbGVtZW50RnJvbU5vZGUoYik7Yy5pbmRleE9mKGQpPDAmJmQhPXRoaXMuJGVsZW1lbnQuZ2V0KDApJiZudWxsIT09ZCYmYy5wdXNoKGQpfX0sdGhpcykpLDA9PT1jLmxlbmd0aCYmYy5wdXNoKHRoaXMuJGVsZW1lbnQuZ2V0KDApKSxjfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25MaW5rPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb25MaW5rcygpO3JldHVybiBiLmxlbmd0aD4wP2EoYlswXSkuYXR0cigiaHJlZiIpOm51bGx9LGEuRWRpdGFibGUucHJvdG90eXBlLnNhdmVTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dGhpcy5zYXZlZFJhbmdlcz1bXTtmb3IodmFyIGE9dGhpcy5nZXRSYW5nZXMoKSxiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5zYXZlZFJhbmdlcy5wdXNoKGFbYl0uY2xvbmVSYW5nZSgpKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dmFyIGEsYixjPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYodGhpcy5zYXZlZFJhbmdlcyYmdGhpcy5zYXZlZFJhbmdlcy5sZW5ndGgpZm9yKGMucmVtb3ZlQWxsUmFuZ2VzKCksYT0wLGI9dGhpcy5zYXZlZFJhbmdlcy5sZW5ndGg7Yj5hO2ErPTEpYy5hZGRSYW5nZSh0aGlzLnNhdmVkUmFuZ2VzW2FdKX19LGEuRWRpdGFibGUucHJvdG90eXBlLmluc2VydE1hcmtlcnNBdFBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPWEuY2xpZW50WCxjPWEuY2xpZW50WTt0aGlzLnJlbW92ZU1hcmtlcnMoKTt2YXIgZCxlPW51bGw7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50PyhkPWRvY3VtZW50LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoYixjKSxlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksZS5zZXRTdGFydChkLm9mZnNldE5vZGUsZC5vZmZzZXQpLGUuc2V0RW5kKGQub2Zmc2V0Tm9kZSxkLm9mZnNldCkpOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCYmKGQ9ZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludChiLGMpLGU9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxlLnNldFN0YXJ0KGQuc3RhcnRDb250YWluZXIsZC5zdGFydE9mZnNldCksZS5zZXRFbmQoZC5zdGFydENvbnRhaW5lcixkLnN0YXJ0T2Zmc2V0KSksbnVsbCE9PWUmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbil7dmFyIGY9d2luZG93LmdldFNlbGVjdGlvbigpO2YucmVtb3ZlQWxsUmFuZ2VzKCksZi5hZGRSYW5nZShlKX1lbHNlIGlmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UpdHJ5e2U9ZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxlLm1vdmVUb1BvaW50KGIsYyk7dmFyIGc9ZS5kdXBsaWNhdGUoKTtnLm1vdmVUb1BvaW50KGIsYyksZS5zZXRFbmRQb2ludCgiRW5kVG9FbmQiLGcpLGUuc2VsZWN0KCl9Y2F0Y2goaCl7fXRoaXMucGxhY2VNYXJrZXIoZSwhMCwwKSx0aGlzLnBsYWNlTWFya2VyKGUsITEsMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpfHx0aGlzLmZvY3VzKCksdGhpcy5yZW1vdmVNYXJrZXJzKCk7Zm9yKHZhciBhPXRoaXMuZ2V0UmFuZ2VzKCksYj0wO2I8YS5sZW5ndGg7YisrKWlmKGFbYl0uc3RhcnRDb250YWluZXIhPT1kb2N1bWVudCl7dmFyIGM9YVtiXTt0aGlzLnBsYWNlTWFya2VyKGMsITAsYiksdGhpcy5wbGFjZU1hcmtlcihjLCExLGIpfX19LGEuRWRpdGFibGUucHJvdG90eXBlLmhhc1NlbGVjdGlvbkJ5TWFya2Vycz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgnLmYtbWFya2VyW2RhdGEtdHlwZT0idHJ1ZSJdJyk7cmV0dXJuIGEubGVuZ3RoPjA/ITA6ITF9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnM9ZnVuY3Rpb24oYil7aWYodm9pZCAwPT09YiYmKGI9ITApLCF0aGlzLnNlbGVjdGlvbkRpc2FibGVkKXt2YXIgYz10aGlzLiRlbGVtZW50LmZpbmQoJy5mLW1hcmtlcltkYXRhLXR5cGU9InRydWUiXScpO2lmKDA9PT1jLmxlbmd0aClyZXR1cm4hMTt0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKXx8dGhpcy5icm93c2VyLm1zaWV8fHRoaXMuJGVsZW1lbnQuZm9jdXMoKTt2YXIgZD10aGlzLmdldFNlbGVjdGlvbigpOyFiJiZ0aGlzLmdldFJhbmdlKCkuY29sbGFwc2VkJiZhKGNbMF0pLmF0dHIoImRhdGEtY29sbGFwc2VkIil8fCh0aGlzLmNsZWFyU2VsZWN0aW9uKCksYj0hMCk7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmLGc9YShjW2VdKS5kYXRhKCJpZCIpLGg9Y1tlXSxpPXRoaXMuJGVsZW1lbnQuZmluZCgnLmYtbWFya2VyW2RhdGEtdHlwZT0iZmFsc2UiXVtkYXRhLWlkPSInK2crJyJdJyk7aWYoZj1iP2RvY3VtZW50LmNyZWF0ZVJhbmdlKCk6dGhpcy5nZXRSYW5nZSgpLGkubGVuZ3RoPjApe2k9aVswXTt0cnl7Zi5zZXRTdGFydEFmdGVyKGgpLGYuc2V0RW5kQmVmb3JlKGkpfWNhdGNoKGope319YiYmZC5hZGRSYW5nZShmKX10aGlzLnJlbW92ZU1hcmtlcnMoKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdldFNlbGVjdGlvbigpO2lmKGUpe3RoaXMuY2xlYXJTZWxlY3Rpb24oKTt0cnl7Y3x8KGM9YSksdm9pZCAwPT09YiYmKGI9MCksdm9pZCAwPT09ZCYmKGQ9Yik7dmFyIGY9dGhpcy5nZXRSYW5nZSgpO2Yuc2V0U3RhcnQoYSxiKSxmLnNldEVuZChjLGIpLGUuYWRkUmFuZ2UoZil9Y2F0Y2goZyl7fX19LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkTWFya2VyPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gdm9pZCAwPT09ZCYmKGQ9IiIpLGEoJzxzcGFuIGNsYXNzPSJmLW1hcmtlciInK2QrJyBzdHlsZT0iZGlzcGxheTpub25lOyBsaW5lLWhlaWdodDogMDsiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGRhdGEtaWQ9IicrYysnIiBkYXRhLXR5cGU9IicrYisnIj4nLGRvY3VtZW50KVswXX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucGxhY2VNYXJrZXI9ZnVuY3Rpb24oYixjLGQpe3ZhciBlPSIiO2IuY29sbGFwc2VkJiYoZT0nIGRhdGEtY29sbGFwc2VkPSJ0cnVlIicpO3RyeXt2YXIgZj1iLmNsb25lUmFuZ2UoKTtpZihmLmNvbGxhcHNlKGMpLGYuaW5zZXJ0Tm9kZSh0aGlzLmJ1aWxkTWFya2VyKGMsZCxlKSksYz09PSEwJiZlKWZvcih2YXIgZz10aGlzLiRlbGVtZW50LmZpbmQoJ3NwYW4uZi1tYXJrZXJbZGF0YS10eXBlPSJ0cnVlIl1bZGF0YS1pZD0iJytkKyciXScpLmdldCgwKS5uZXh0U2libGluZzszPT09Zy5ub2RlVHlwZSYmMD09PWcuZGF0YS5sZW5ndGg7KWEoZykucmVtb3ZlKCksZz10aGlzLiRlbGVtZW50LmZpbmQoJ3NwYW4uZi1tYXJrZXJbZGF0YS10eXBlPSJ0cnVlIl1bZGF0YS1pZD0iJytkKyciXScpLmdldCgwKS5uZXh0U2libGluZ31jYXRjaChoKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZW1vdmVNYXJrZXJzPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5maW5kKCIuZi1tYXJrZXIiKS5yZW1vdmUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uVGV4dEluZm89ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPSExLGU9ITE7aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGY9d2luZG93LmdldFNlbGVjdGlvbigpO2YucmFuZ2VDb3VudCYmKGI9Zi5nZXRSYW5nZUF0KDApLGM9Yi5jbG9uZVJhbmdlKCksYy5zZWxlY3ROb2RlQ29udGVudHMoYSksYy5zZXRFbmQoYi5zdGFydENvbnRhaW5lcixiLnN0YXJ0T2Zmc2V0KSxkPSIiPT09Yy50b1N0cmluZygpLGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuc2V0U3RhcnQoYi5lbmRDb250YWluZXIsYi5lbmRPZmZzZXQpLGU9IiI9PT1jLnRvU3RyaW5nKCkpfWVsc2UgZG9jdW1lbnQuc2VsZWN0aW9uJiYiQ29udHJvbCIhPWRvY3VtZW50LnNlbGVjdGlvbi50eXBlJiYoYj1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxjPWIuZHVwbGljYXRlKCksYy5tb3ZlVG9FbGVtZW50VGV4dChhKSxjLnNldEVuZFBvaW50KCJFbmRUb1N0YXJ0IixiKSxkPSIiPT09Yy50ZXh0LGMubW92ZVRvRWxlbWVudFRleHQoYSksYy5zZXRFbmRQb2ludCgiU3RhcnRUb0VuZCIsYiksZT0iIj09PWMudGV4dCk7cmV0dXJue2F0U3RhcnQ6ZCxhdEVuZDplfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZW5kc1dpdGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4tMSE9PWEuaW5kZXhPZihiLGEubGVuZ3RoLWIubGVuZ3RoKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5oZXhUb1JHQj1mdW5jdGlvbihhKXt2YXIgYj0vXiM/KFthLWZcZF0pKFthLWZcZF0pKFthLWZcZF0pJC9pO2E9YS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGIrYitjK2MrZCtkfSk7dmFyIGM9L14jPyhbYS1mXGRdezJ9KShbYS1mXGRdezJ9KShbYS1mXGRdezJ9KSQvaS5leGVjKGEpO3JldHVybiBjP3tyOnBhcnNlSW50KGNbMV0sMTYpLGc6cGFyc2VJbnQoY1syXSwxNiksYjpwYXJzZUludChjWzNdLDE2KX06bnVsbH0sYS5FZGl0YWJsZS5oZXhUb1JHQlN0cmluZz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmhleFRvUkdCKGEpO3JldHVybiBiPyJyZ2IoIitiLnIrIiwgIitiLmcrIiwgIitiLmIrIikiOiIifSxhLkVkaXRhYmxlLlJHQlRvSGV4PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuKCIwIitwYXJzZUludChhLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKX10cnl7cmV0dXJuIGEmJiJ0cmFuc3BhcmVudCIhPT1hPy9eI1swLTlBLUZdezZ9JC9pLnRlc3QoYSk/YTooYT1hLm1hdGNoKC9ecmdiXCgoXGQrKSxccyooXGQrKSxccyooXGQrKVwpJC8pLCgiIyIrYihhWzFdKStiKGFbMl0pK2IoYVszXSkpLnRvVXBwZXJDYXNlKCkpOiIifWNhdGNoKGMpe3JldHVybiBudWxsfX0sYS5FZGl0YWJsZS5nZXRJRXZlcnNpb249ZnVuY3Rpb24oKXt2YXIgYSxiLGM9LTE7cmV0dXJuIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uZXcgUmVnRXhwKCJNU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pIiksbnVsbCE9PWIuZXhlYyhhKSYmKGM9cGFyc2VGbG9hdChSZWdFeHAuJDEpKSk6Ik5ldHNjYXBlIj09bmF2aWdhdG9yLmFwcE5hbWUmJihhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uZXcgUmVnRXhwKCJUcmlkZW50Ly4qcnY6KFswLTldezEsfVtcXC4wLTldezAsfSkiKSxudWxsIT09Yi5leGVjKGEpJiYoYz1wYXJzZUZsb2F0KFJlZ0V4cC4kMSkpKSxjfSxhLkVkaXRhYmxlLmJyb3dzZXI9ZnVuY3Rpb24oKXt2YXIgYT17fTtpZih0aGlzLmdldElFdmVyc2lvbigpPjApYS5tc2llPSEwO2Vsc2V7dmFyIGI9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGM9LyhjaHJvbWUpWyBcL10oW1x3Ll0rKS8uZXhlYyhiKXx8Lyh3ZWJraXQpWyBcL10oW1x3Ll0rKS8uZXhlYyhiKXx8LyhvcGVyYSkoPzouKnZlcnNpb258KVsgXC9dKFtcdy5dKykvLmV4ZWMoYil8fC8obXNpZSkgKFtcdy5dKykvLmV4ZWMoYil8fGIuaW5kZXhPZigiY29tcGF0aWJsZSIpPDAmJi8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKyl8KS8uZXhlYyhiKXx8W10sZD17YnJvd3NlcjpjWzFdfHwiIix2ZXJzaW9uOmNbMl18fCIwIn07Y1sxXSYmKGFbZC5icm93c2VyXT0hMCkscGFyc2VJbnQoZC52ZXJzaW9uLDEwKTw5JiZhLm1zaWUmJihhLm9sZE1zaWU9ITApLGEuY2hyb21lP2Eud2Via2l0PSEwOmEud2Via2l0JiYoYS5zYWZhcmk9ITApfXJldHVybiBhfSxhLkVkaXRhYmxlLmlzQXJyYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKCJsZW5ndGgiKSYmIm9iamVjdCI9PXR5cGVvZiBhJiYibnVtYmVyIj09dHlwZW9mIGEubGVuZ3RofSxhLkVkaXRhYmxlLnVuaXE9ZnVuY3Rpb24oYil7cmV0dXJuIGEuZ3JlcChiLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQ9PWEuaW5BcnJheShjLGIpfSl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oYil7aWYodm9pZCAwIT09Yil7aWYodGhpcy5vcHRpb25zLmlubGluZU1vZGV8fHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cClpZihudWxsIT09YiYmInRvdWNoZW5kIiE9PWIudHlwZSl7dmFyIGM9Yi5wYWdlWCxkPWIucGFnZVk7Yzx0aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQmJihjPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCkubGVmdCksYz50aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQrdGhpcy4kZWxlbWVudC53aWR0aCgpJiYoYz10aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQrdGhpcy4kZWxlbWVudC53aWR0aCgpKSxkPHRoaXMuJGVsZW1lbnQub2Zmc2V0LnRvcCYmKGQ9dGhpcy4kZWxlbWVudC5vZmZzZXQoKS50b3ApLGQ+dGhpcy4kZWxlbWVudC5vZmZzZXQoKS50b3ArdGhpcy4kZWxlbWVudC5oZWlnaHQoKSYmKGQ9dGhpcy4kZWxlbWVudC5vZmZzZXQoKS50b3ArdGhpcy4kZWxlbWVudC5oZWlnaHQoKSksMjA+YyYmKGM9MjApLDA+ZCYmKGQ9MCksdGhpcy5zaG93QnlDb29yZGluYXRlcyhjLGQpLGEoIi5mcm9hbGEtZWRpdG9yOm5vdCguZi1iYXNpYykiKS5oaWRlKCksdGhpcy4kZWRpdG9yLnNob3coKSwwIT09dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RofHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fHRoaXMuJGVkaXRvci5oaWRlKCl9ZWxzZSBhKCIuZnJvYWxhLWVkaXRvcjpub3QoLmYtYmFzaWMpIikuaGlkZSgpLHRoaXMuJGVkaXRvci5zaG93KCksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCk7dGhpcy5oaWRlUG9wdXBzKCksdGhpcy5vcHRpb25zLmVkaXRJblBvcHVwfHx0aGlzLnNob3dFZGl0UG9wdXBXcmFwcGVyKCksdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSx0aGlzLnJlZnJlc2hCdXR0b25zKCksdGhpcy5pbWFnZU1vZGU9ITF9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlRHJvcGRvd25zPWZ1bmN0aW9uKCl7dGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIil9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWQ/KHZvaWQgMD09PWEmJihhPSEwKSxhP3RoaXMuaGlkZU90aGVyRWRpdG9ycygpOih0aGlzLmNsb3NlSW1hZ2VNb2RlKCksdGhpcy5pbWFnZU1vZGU9ITEpLHRoaXMuJHBvcHVwX2VkaXRvci5oaWRlKCksdGhpcy5oaWRlUG9wdXBzKCExKSx0aGlzLmhpZGVEcm9wZG93bnMoKSx2b2lkKHRoaXMubGluaz0hMSkpOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlT3RoZXJFZGl0b3JzPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPTE7Yjw9YS5FZGl0YWJsZS5jb3VudDtiKyspYiE9dGhpcy5faWQmJmEod2luZG93KS50cmlnZ2VyKCJoaWRlLiIrYil9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVCdHRuV3JhcHBlcj1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiZ0aGlzLiRidHRuX3dyYXBwZXIuaGlkZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93QnR0bldyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0VkaXRQb3B1cFdyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXImJih0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIuc2hvdygpLHNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5maW5kKCJpbnB1dCIpLnZhbCh0aGlzLiRlbGVtZW50LnRleHQoKSkuZm9jdXMoKS5zZWxlY3QoKX0sdGhpcyksMSkpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlUG9wdXBzPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPSEwKSxhJiZ0aGlzLmhpZGVCdHRuV3JhcHBlcigpLHRoaXMucmFpc2VFdmVudCgiaGlkZVBvcHVwcyIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93RWRpdFBvcHVwPWZ1bmN0aW9uKCl7dGhpcy5zaG93RWRpdFBvcHVwV3JhcHBlcigpfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXt2YXIgYjtpZih0aGlzLmlzTGluayl7Yj17fTt2YXIgYz10aGlzLiRlbGVtZW50O2IubGVmdD1jLm9mZnNldCgpLmxlZnQtYSh3aW5kb3cpLnNjcm9sbExlZnQoKSxiLnRvcD1jLm9mZnNldCgpLnRvcC1hKHdpbmRvdykuc2Nyb2xsVG9wKCksYi53aWR0aD1jLm91dGVyV2lkdGgoKSxiLmhlaWdodD1wYXJzZUludChjLmNzcygicGFkZGluZy10b3AiKS5yZXBsYWNlKCJweCIsIiIpLDEwKStjLmhlaWdodCgpLGIucmlnaHQ9MSxiLmJvdHRvbT0xLGIub2s9ITB9ZWxzZSBpZih0aGlzLmdldFJhbmdlKCkuY29sbGFwc2VkKXt2YXIgZD1hKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudCgpKTt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKTt2YXIgZT10aGlzLiRlbGVtZW50LmZpbmQoIi5mLW1hcmtlcjpmaXJzdCIpO2UuY3NzKCJkaXNwbGF5IiwiaW5saW5lIik7dmFyIGY9ZS5vZmZzZXQoKTtlLmNzcygiZGlzcGxheSIsIm5vbmUiKSxiPXt9LGIubGVmdD1mLmxlZnQtYSh3aW5kb3cpLnNjcm9sbExlZnQoKSxiLndpZHRoPTAsYi5oZWlnaHQ9KHBhcnNlSW50KGQuY3NzKCJsaW5lLWhlaWdodCIpLnJlcGxhY2UoInB4IiwiIiksMTApfHwxMCktMTAtYSh3aW5kb3cpLnNjcm9sbFRvcCgpLGIudG9wPWYudG9wLGIucmlnaHQ9MSxiLmJvdHRvbT0xLGIub2s9ITAsdGhpcy5yZW1vdmVNYXJrZXJzKCl9ZWxzZSBiPXRoaXMuZ2V0UmFuZ2UoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gYn0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVwb3NpdGlvbkVkaXRvcj1mdW5jdGlvbihiKXt2YXIgYyxkLGU7aWYodGhpcy5vcHRpb25zLmlubGluZU1vZGV8fGIpe2lmKGM9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSx0aGlzLnNob3dCdHRuV3JhcHBlcigpLGMub2t8fGMubGVmdD49MCYmYy50b3A+PTAmJmMucmlnaHQ+MCYmYy5ib3R0b20+MClkPWMubGVmdCtjLndpZHRoLzIsZT1jLnRvcCtjLmhlaWdodCx0aGlzLmlPUygpJiZ0aGlzLmlPU1ZlcnNpb24oKTw4fHwoZCs9YSh3aW5kb3cpLnNjcm9sbExlZnQoKSxlKz1hKHdpbmRvdykuc2Nyb2xsVG9wKCkpLHRoaXMuc2hvd0J5Q29vcmRpbmF0ZXMoZCxlKTtlbHNlIGlmKHRoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlKXRoaXMuaGlkZSgpO2Vsc2V7dmFyIGY9dGhpcy4kZWxlbWVudC5vZmZzZXQoKTt0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGYubGVmdCxmLnRvcCsxMCl9MD09PXRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aCYmdGhpcy5oaWRlKCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93QnlDb29yZGluYXRlcz1mdW5jdGlvbihiLGMpe2ItPTIwLGMrPTE1O3ZhciBkPU1hdGgubWF4KHRoaXMuJHBvcHVwX2VkaXRvci53aWR0aCgpLDI1MCk7YitkPj1hKHdpbmRvdykud2lkdGgoKS01MCYmYis0MC1kPjA/KHRoaXMuJHBvcHVwX2VkaXRvci5hZGRDbGFzcygicmlnaHQtc2lkZSIpLGI9YSh3aW5kb3cpLndpZHRoKCktKGIrNDApLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInRvcCIsYyksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygicmlnaHQiLGIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoImxlZnQiLCJhdXRvIikpOmIrZDxhKHdpbmRvdykud2lkdGgoKS01MD8odGhpcy4kcG9wdXBfZWRpdG9yLnJlbW92ZUNsYXNzKCJyaWdodC1zaWRlIiksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygidG9wIixjKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJsZWZ0IixiKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJyaWdodCIsImF1dG8iKSk6KHRoaXMuJHBvcHVwX2VkaXRvci5yZW1vdmVDbGFzcygicmlnaHQtc2lkZSIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInRvcCIsYyksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygibGVmdCIsTWF0aC5tYXgoYSh3aW5kb3cpLndpZHRoKCktZCwxMCkvMiksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygicmlnaHQiLCJhdXRvIikpLHRoaXMuJHBvcHVwX2VkaXRvci5zaG93KCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnBvc2l0aW9uUG9wdXA9ZnVuY3Rpb24oYil7aWYoYSh0aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uLmZyLWJ0dG5bZGF0YS1jbWQ9IicrYisnIl0nKSkubGVuZ3RoKXt2YXIgYz10aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uLmZyLWJ0dG5bZGF0YS1jbWQ9IicrYisnIl0nKSxkPWMud2lkdGgoKSxlPWMuaGVpZ2h0KCktMTUsZj1jLm9mZnNldCgpLmxlZnQrZC8yLGc9Yy5vZmZzZXQoKS50b3ArZTt0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGYsZyl9fX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLmltYWdlX2NvbW1hbmRzPXtmbG9hdEltYWdlTGVmdDp7dGl0bGU6IkZsb2F0IExlZnQiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1hbGlnbi1sZWZ0In19LGZsb2F0SW1hZ2VOb25lOnt0aXRsZToiRmxvYXQgTm9uZSIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLWFsaWduLWp1c3RpZnkifX0sZmxvYXRJbWFnZVJpZ2h0Ont0aXRsZToiRmxvYXQgUmlnaHQiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1hbGlnbi1yaWdodCJ9fSxsaW5rSW1hZ2U6e3RpdGxlOiJJbnNlcnQgTGluayIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLWxpbmsifX0scmVwbGFjZUltYWdlOnt0aXRsZToiUmVwbGFjZSBJbWFnZSIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLWV4Y2hhbmdlIn19LHJlbW92ZUltYWdlOnt0aXRsZToiUmVtb3ZlIEltYWdlIixpY29uOnt0eXBlOiJmb250Iix2YWx1ZToiZmEgZmEtdHJhc2gtbyJ9fX0sYS5FZGl0YWJsZS5ERUZBVUxUUz1hLmV4dGVuZChhLkVkaXRhYmxlLkRFRkFVTFRTLHthbGxvd2VkSW1hZ2VUeXBlczpbImpwZWciLCJqcGciLCJwbmciLCJnaWYiXSxkZWZhdWx0SW1hZ2VUaXRsZToiSW1hZ2UgdGl0bGUiLGRlZmF1bHRJbWFnZVdpZHRoOjMwMCxpbWFnZUJ1dHRvbnM6WyJmbG9hdEltYWdlTGVmdCIsImZsb2F0SW1hZ2VOb25lIiwiZmxvYXRJbWFnZVJpZ2h0IiwibGlua0ltYWdlIiwicmVwbGFjZUltYWdlIiwicmVtb3ZlSW1hZ2UiXSxpbWFnZURlbGV0ZUNvbmZpcm1hdGlvbjohMCxpbWFnZURlbGV0ZVVSTDpudWxsLGltYWdlRGVsZXRlUGFyYW1zOnt9LGltYWdlTW92ZTohMCxpbWFnZVJlc2l6ZTohMCxpbWFnZUxpbms6ITAsaW1hZ2VUaXRsZTohMCxpbWFnZVVwbG9hZDohMCxpbWFnZVVwbG9hZFBhcmFtczp7fSxpbWFnZVVwbG9hZFBhcmFtOiJmaWxlIixpbWFnZVVwbG9hZFRvUzM6ITEsaW1hZ2VVcGxvYWRVUkw6Imh0dHA6Ly9pLmZyb2FsYS5jb20vdXBsb2FkIixtYXhJbWFnZVNpemU6MTA0ODU3NjAscGFzdGVJbWFnZTohMCx0ZXh0TmVhckltYWdlOiEwfSksYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUltYWdlRWRpdG9yUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV9lZGl0b3ImJnRoaXMuJGltYWdlX2VkaXRvci5oaWRlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZUVkaXRvclBvcHVwPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3Iuc2hvdygpLHRoaXMub3B0aW9ucy5pbWFnZU1vdmV8fHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZVdyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV93cmFwcGVyJiZ0aGlzLiRpbWFnZV93cmFwcGVyLnNob3coKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUltYWdlV3JhcHBlcj1mdW5jdGlvbihhKXt0aGlzLiRpbWFnZV93cmFwcGVyJiYodGhpcy4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIpfHxhfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExKSx0aGlzLiRpbWFnZV93cmFwcGVyLmhpZGUoKSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoImlucHV0IikuYmx1cigpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0luc2VydEltYWdlPWZ1bmN0aW9uKCl7dGhpcy5oaWRlUG9wdXBzKCksdGhpcy5zaG93SW1hZ2VXcmFwcGVyKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZUVkaXRvcj1mdW5jdGlvbigpe3RoaXMuaGlkZVBvcHVwcygpLHRoaXMuc2hvd0ltYWdlRWRpdG9yUG9wdXAoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0SW1hZ2VIVE1MPWZ1bmN0aW9uKCl7dmFyIGI9JzxkaXYgY2xhc3M9ImZyb2FsYS1wb3B1cCBmcm9hbGEtaW1hZ2UtcG9wdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PGg0PjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+SW5zZXJ0IEltYWdlPC9zcGFuPjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+VXBsb2FkaW5nIGltYWdlPC9zcGFuPjxpIHRpdGxlPSJDYW5jZWwiIGNsYXNzPSJmYSBmYS10aW1lcyIgaWQ9ImYtaW1hZ2UtY2xvc2UtJyt0aGlzLl9pZCsnIj48L2k+PC9oND4nO3JldHVybiBiKz0nPGRpdiBpZD0iZi1pbWFnZS1saXN0LScrdGhpcy5faWQrJyI+Jyx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWQmJihiKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIGRyb3AtdXBsb2FkIj4nLGIrPSc8ZGl2IGNsYXNzPSJmLXVwbG9hZCIgaWQ9ImYtdXBsb2FkLWRpdi0nK3RoaXMuX2lkKyciPjxzdHJvbmcgZGF0YS10ZXh0PSJ0cnVlIj5Ecm9wIEltYWdlPC9zdHJvbmc+PGJyPig8c3BhbiBkYXRhLXRleHQ9InRydWUiPm9yIGNsaWNrPC9zcGFuPik8Zm9ybSB0YXJnZXQ9ImZyYW1lLScrdGhpcy5faWQrJyIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgZW5jb2Rpbmc9Im11bHRpcGFydC9mb3JtLWRhdGEiIGFjdGlvbj0iJyt0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRVUkwrJyIgbWV0aG9kPSJwb3N0IiBpZD0iZi11cGxvYWQtZm9ybS0nK3RoaXMuX2lkKyciPjxpbnB1dCBpZD0iZi1maWxlLXVwbG9hZC0nK3RoaXMuX2lkKyciIHR5cGU9ImZpbGUiIG5hbWU9IicrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW0rJyIgYWNjZXB0PSJpbWFnZS8qIj48L2Zvcm0+PC9kaXY+Jyx0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw9OSYmKGIrPSc8aWZyYW1lIGlkPSJmcmFtZS0nK3RoaXMuX2lkKyciIG5hbWU9ImZyYW1lLScrdGhpcy5faWQrJyIgc3JjPSJqYXZhc2NyaXB0OmZhbHNlOyIgc3R5bGU9IndpZHRoOjA7IGhlaWdodDowOyBib3JkZXI6MHB4IHNvbGlkICNGRkY7IHBvc2l0aW9uOiBmaXhlZDsgei1pbmRleDogLTE7Ij48L2lmcmFtZT4nKSxiKz0iPC9kaXY+IiksdGhpcy5vcHRpb25zLmltYWdlTGluayYmKGIrPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxsYWJlbD48c3BhbiBkYXRhLXRleHQ9InRydWUiPkVudGVyIFVSTDwvc3Bhbj46IDwvbGFiZWw+PGlucHV0IGlkPSJmLWltYWdlLXVybC0nK3RoaXMuX2lkKyciIHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSJodHRwOi8vZXhhbXBsZS5jb20iPjxidXR0b24gY2xhc3M9ImYtYnJvd3NlIiBpZD0iZi1icm93c2VyLScrdGhpcy5faWQrJyI+PGkgY2xhc3M9ImZhIGZhLXNlYXJjaCI+PC9pPjwvYnV0dG9uPjxidXR0b24gZGF0YS10ZXh0PSJ0cnVlIiBjbGFzcz0iZi1vayIgaWQ9ImYtaW1hZ2Utb2stJyt0aGlzLl9pZCsnIj5PSzwvYnV0dG9uPjwvZGl2PicpLGIrPSI8L2Rpdj4iLGIrPSc8cCBjbGFzcz0iZi1wcm9ncmVzcyIgaWQ9ImYtcHJvZ3Jlc3MtJyt0aGlzLl9pZCsnIj48c3Bhbj48L3NwYW4+PC9wPicsYis9IjwvZGl2PiIKfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pRnJhbWVMb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJpZnJhbWUjZnJhbWUtIit0aGlzLl9pZCk7aWYoIWEuYXR0cigiZGF0YS1sb2FkZWQiKSlyZXR1cm4gYS5hdHRyKCJkYXRhLWxvYWRlZCIsITApLCExO3RyeXt2YXIgYj10aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLXVwbG9hZC1mb3JtLSIrdGhpcy5faWQpO2lmKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMpe3ZhciBjPWIuYXR0cigiYWN0aW9uIiksZD1iLmZpbmQoJ2lucHV0W25hbWU9ImtleSJdJykudmFsKCksZT1jK2Q7dGhpcy53cml0ZUltYWdlKGUpLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMuY2FsbGJhY2smJnRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMuY2FsbGJhY2suY2FsbCh0aGlzLGUsZCl9ZWxzZXt2YXIgZj1hLmNvbnRlbnRzKCkudGV4dCgpO3RoaXMucGFyc2VJbWFnZVJlc3BvbnNlKGYpfX1jYXRjaChnKXt0aGlzLnRocm93SW1hZ2VFcnJvcig3KX19LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRJbWFnZT1mdW5jdGlvbigpe3RoaXMuYnVpbGRJbnNlcnRJbWFnZSgpLCghdGhpcy5pc0xpbmt8fHRoaXMuaXNJbWFnZSkmJnRoaXMuaW5pdEltYWdlUG9wdXAoKSx0aGlzLmFkZExpc3RlbmVyKCJkZXN0cm95Iix0aGlzLmRlc3Ryb3lJbWFnZSl9LGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLnB1c2goYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdEltYWdlKSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kZXN0cm95SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV9lZGl0b3ImJnRoaXMuJGltYWdlX2VkaXRvci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksdGhpcy4kaW1hZ2Vfd3JhcHBlciYmdGhpcy4kaW1hZ2Vfd3JhcHBlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkSW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV93cmFwcGVyPWEodGhpcy5pbnNlcnRJbWFnZUhUTUwoKSksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRpbWFnZV93cmFwcGVyKTt2YXIgYj10aGlzO2lmKHRoaXMuJGltYWdlX3dyYXBwZXIub24oIm1vdXNldXAgdG91Y2hlbmQiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCl9LHRoaXMpKSx0aGlzLmFkZExpc3RlbmVyKCJoaWRlUG9wdXBzIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlSW1hZ2VXcmFwcGVyKCEwKX0pLHRoaXMpLHRoaXMuJHByb2dyZXNzX2Jhcj10aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoInAjZi1wcm9ncmVzcy0iK3RoaXMuX2lkKSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWQpe2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPD05KXt2YXIgYz10aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoImlmcmFtZSIpLmdldCgwKTtjLmF0dGFjaEV2ZW50P2MuYXR0YWNoRXZlbnQoIm9ubG9hZCIsZnVuY3Rpb24oKXtiLmlGcmFtZUxvYWQoKX0pOmMub25sb2FkPWZ1bmN0aW9uKCl7Yi5pRnJhbWVMb2FkKCl9fXRoaXMuJGltYWdlX3dyYXBwZXIub24oImNoYW5nZSIsJ2lucHV0W3R5cGU9ImZpbGUiXScsZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLmZpbGVzKWIudXBsb2FkSW1hZ2UodGhpcy5maWxlcyk7ZWxzZXt2YXIgYz1hKHRoaXMpLnBhcmVudHMoImZvcm0iKTtjLmZpbmQoJ2lucHV0W3R5cGU9ImhpZGRlbiJdJykucmVtb3ZlKCk7dmFyIGQ7Zm9yKGQgaW4gYi5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW1zKWMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJytkKyciIHZhbHVlPSInK2Iub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtc1tkXSsnIiAvPicpO2lmKGIub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMhPT0hMSl7Zm9yKGQgaW4gYi5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXMpYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSInK2QrJyIgdmFsdWU9IicrYi5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXNbZF0rJyIgLz4nKTtjLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIgdmFsdWU9IjIwMSIgLz4nKSxjLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlgtUmVxdWVzdGVkLVdpdGgiIHZhbHVlPSJ4aHIiIC8+JyksYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJDb250ZW50LVR5cGUiIHZhbHVlPSIiIC8+JyksYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJrZXkiIHZhbHVlPSInK2Iub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMua2V5U3RhcnQrKG5ldyBEYXRlKS5nZXRUaW1lKCkrIi0iK2EodGhpcykudmFsKCkubWF0Y2goL1teXC9cXF0rJC8pKyciIC8+Jyl9ZWxzZSBjLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlhIUl9DT1JTX1RSQVJHRVRPUklHSU4iIHZhbHVlPSInK3dpbmRvdy5sb2NhdGlvbi5ocmVmKyciIC8+Jyk7Yi5zaG93SW5zZXJ0SW1hZ2UoKSxiLnNob3dJbWFnZUxvYWRlcighMCksYi5kaXNhYmxlKCksYy5zdWJtaXQoKX1hKHRoaXMpLnZhbCgiIil9KX10aGlzLmJ1aWxkRHJhZ1VwbG9hZCgpLHRoaXMuJGltYWdlX3dyYXBwZXIub24oIm1vdXNldXAga2V5ZG93biIsIiNmLWltYWdlLXVybC0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCl9LHRoaXMpKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjbGljayIsIiNmLWltYWdlLW9rLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMud3JpdGVJbWFnZSh0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLWltYWdlLXVybC0iK3RoaXMuX2lkKS52YWwoKSwhMCl9LHRoaXMpKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKHRoaXMubW91c2V1cCwiI2YtaW1hZ2UtY2xvc2UtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSx0aGlzLmhpZGVJbWFnZVdyYXBwZXIoITApLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYwPT09dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoJiYodGhpcy5pbWFnZU1vZGU/dGhpcy5zaG93SW1hZ2VFZGl0b3IoKTp0aGlzLmhpZGUoKSksdGhpcy5pbWFnZU1vZGV8fCh0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSx0aGlzLmZvY3VzKCkpLHZvaWQodGhpcy5vcHRpb25zLmlubGluZU1vZGV8fHRoaXMuaW1hZ2VNb2RlP3RoaXMuaW1hZ2VNb2RlJiZ0aGlzLnNob3dJbWFnZUVkaXRvcigpOnRoaXMuaGlkZSgpKSl9LHRoaXMpKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjbGljayIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLHRoaXMuJGltYWdlX3dyYXBwZXIub24oImNsaWNrIiwiKiIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kZWxldGVJbWFnZT1mdW5jdGlvbihiKXtpZih0aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVVUkwpe3ZhciBjPXRoaXMub3B0aW9ucy5pbWFnZURlbGV0ZVBhcmFtcztjLmluZm89Yi5kYXRhKCJpbmZvIiksYy5zcmM9Yi5hdHRyKCJzcmMiKSxhLmFqYXgoe3R5cGU6IlBPU1QiLHVybDp0aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVVUkwsZGF0YTpjLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzfSkuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGEpe2IucGFyZW50KCkucGFyZW50KCkuaGFzQ2xhc3MoImYtaW1hZ2UtbGlzdCIpP2IucGFyZW50KCkucmVtb3ZlKCk6Yi5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZi1pbWctZGVsZXRpbmciKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VEZWxldGVTdWNjZXNzIixbYV0sITEpfSx0aGlzKSkuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7Yi5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZi1pbWctZGVsZXRpbmciKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VEZWxldGVFcnJvciIsWyJFcnJvciBkdXJpbmcgaW1hZ2UgZGVsZXRlLiJdLCExKX0sdGhpcykpfWVsc2UgYi5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZi1pbWctZGVsZXRpbmciKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VEZWxldGVFcnJvciIsWyJNaXNzaW5nIGltYWdlRGVsZXRlVVJMIG9wdGlvbi4iXSwhMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmltYWdlSGFuZGxlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEoJzxzcGFuIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPicpLmFkZENsYXNzKCJmLWltZy1oYW5kbGUiKS5vbih7bW92ZXN0YXJ0OmZ1bmN0aW9uKGMpe2IuaGlkZSgpLGIuJGVsZW1lbnQuYWRkQ2xhc3MoImYtbm9uLXNlbGVjdGFibGUiKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCExKSxiLiRlbGVtZW50LmF0dHIoImRhdGEtcmVzaXplIiwhMCksYSh0aGlzKS5hdHRyKCJkYXRhLXN0YXJ0LXgiLGMuc3RhcnRYKSxhKHRoaXMpLmF0dHIoImRhdGEtc3RhcnQteSIsYy5zdGFydFkpfSxtb3ZlOmZ1bmN0aW9uKGMpe3ZhciBkPWEodGhpcyksZT1jLnBhZ2VYLXBhcnNlSW50KGQuYXR0cigiZGF0YS1zdGFydC14IiksMTApO2QuYXR0cigiZGF0YS1zdGFydC14IixjLnBhZ2VYKSxkLmF0dHIoImRhdGEtc3RhcnQteSIsYy5wYWdlWSk7dmFyIGY9ZC5wcmV2QWxsKCJpbWciKSxnPWYud2lkdGgoKTtkLmhhc0NsYXNzKCJmLWgtbmUiKXx8ZC5oYXNDbGFzcygiZi1oLXNlIik/Zi5hdHRyKCJ3aWR0aCIsZytlKTpmLmF0dHIoIndpZHRoIixnLWUpLGIudHJpZ2dlckV2ZW50KCJpbWFnZVJlc2l6ZSIsW10sITEpfSxtb3ZlZW5kOmZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmVBdHRyKCJkYXRhLXN0YXJ0LXgiKSxhKHRoaXMpLnJlbW92ZUF0dHIoImRhdGEtc3RhcnQteSIpLGIuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImYtbm9uLXNlbGVjdGFibGUiKSxiLmlzSW1hZ2V8fGIuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksYi50cmlnZ2VyRXZlbnQoImltYWdlUmVzaXplRW5kIiksYSh0aGlzKS50cmlnZ2VyKCJtb3VzZXVwIil9LHRvdWNoZW5kOmZ1bmN0aW9uKCl7YSh0aGlzKS50cmlnZ2VyKCJtb3ZlZW5kIil9fSk7cmV0dXJuIGN9LGEuRWRpdGFibGUucHJvdG90eXBlLmRpc2FibGVJbWFnZVJlc2l6ZT1mdW5jdGlvbigpe2lmKHRoaXMuYnJvd3Nlci5tb3ppbGxhKXRyeXtkb2N1bWVudC5leGVjQ29tbWFuZCgiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExLCExKSxkb2N1bWVudC5leGVjQ29tbWFuZCgiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSwhMSl9Y2F0Y2goYSl7fX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaXNSZXNpemluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbGVtZW50LmF0dHIoImRhdGEtcmVzaXplIil9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldEltYWdlQ2xhc3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcGxpdCgiICIpO3JldHVybiBiLmluZGV4T2YoImZyLWZpciIpPj0wPyJmci1maXIiOmIuaW5kZXhPZigiZnItZmlsIik+PTA/ImZyLWZpbCI6ImZyLWZpbiJ9LGEuRWRpdGFibGUucHJvdG90eXBlLmFkZEltYWdlQ2xhc3M9ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUNsYXNzKCJmci1maW4gZnItZmlyIGZyLWZpbCIpLmFkZENsYXNzKGIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0SW1hZ2VFdmVudHM9ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYhZG9jdW1lbnQuZHJvcEFzc2lnbmVkJiYoZG9jdW1lbnQuZHJvcEFzc2lnbmVkPSEwLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImRyb3AiLGEucHJveHkoZnVuY3Rpb24oYil7cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLnJlbW92ZUNsYXNzKCJmci1pbWFnZS1tb3ZlIiksITF9LHRoaXMpKSksdGhpcy5kaXNhYmxlSW1hZ2VSZXNpemUoKTt2YXIgYj10aGlzO3RoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biIsJ2ltZzpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGZ1bmN0aW9uKGMpe3JldHVybiBiLmlzRGlzYWJsZWQ/ITE6dm9pZChiLmlzUmVzaXppbmcoKXx8KGIuaW5pdGlhbGl6ZWQmJmMuc3RvcFByb3BhZ2F0aW9uKCksYi4kZWxlbWVudC5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCExKSxhKHRoaXMpLmFkZENsYXNzKCJmci1pbWFnZS1tb3ZlIikpKX0pLHRoaXMuJGVsZW1lbnQub24oIm1vdXNldXAiLCdpbWc6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxmdW5jdGlvbigpe3JldHVybiBiLmlzRGlzYWJsZWQ/ITE6dm9pZChiLmlzUmVzaXppbmcoKXx8KGIub3B0aW9ucy5pbWFnZU1vdmV8fGIuaXNJbWFnZXx8Yi5pc0hUTUx8fGIuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksYSh0aGlzKS5yZW1vdmVDbGFzcygiZnItaW1hZ2UtbW92ZSIpKSl9KSx0aGlzLiRlbGVtZW50Lm9uKCJjbGljayB0b3VjaGVuZCIsJ2ltZzpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGZ1bmN0aW9uKGMpe2lmKGIuaXNEaXNhYmxlZClyZXR1cm4hMTtpZighYi5pc1Jlc2l6aW5nKCkmJmIuaW5pdGlhbGl6ZWQpe2MucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpLGIuY2xvc2VJbWFnZU1vZGUoKSxiLiRlbGVtZW50LmJsdXIoKSxiLiRpbWFnZV9lZGl0b3IuZmluZCgiYnV0dG9uIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciBkPWEodGhpcykuY3NzKCJmbG9hdCIpO2lmKGEodGhpcykuaGFzQ2xhc3MoImZyLWZpbCIpP2Q9ImxlZnQiOmEodGhpcykuaGFzQ2xhc3MoImZyLWZpciIpJiYoZD0icmlnaHQiKSxiLiRpbWFnZV9lZGl0b3IuZmluZCgnYnV0dG9uW2RhdGEtY21kPSJmbG9hdEltYWdlJytkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Quc2xpY2UoMSkrJyJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpLGIuJGltYWdlX2VkaXRvci5maW5kKCcuZi1pbWFnZS1hbHQgaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKGEodGhpcykuYXR0cigiYWx0Iil8fGEodGhpcykuYXR0cigidGl0bGUiKSksYi5zaG93SW1hZ2VFZGl0b3IoKSwhYSh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygiZi1pbWctZWRpdG9yIil8fCJTUEFOIiE9YSh0aGlzKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSl7dmFyIGU9Yi5nZXRJbWFnZUNsYXNzKGEodGhpcykuYXR0cigiY2xhc3MiKSk7YSh0aGlzKS53cmFwKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBjbGFzcz0iZi1pbWctZWRpdG9yICcrZSsnIj48L3NwYW4+JyksMCE9PWEodGhpcykucGFyZW50cygiLmYtaW1nLXdyYXAiKS5sZW5ndGh8fGIuaXNJbWFnZT9iLmFkZEltYWdlQ2xhc3MoYSh0aGlzKS5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLGUpOmEodGhpcykucGFyZW50cygiYSIpLmxlbmd0aD4wP2EodGhpcykucGFyZW50cygiYTpmaXJzdCIpLndyYXAoJzxzcGFuIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGNsYXNzPSJmLWltZy13cmFwICcrZSsnIj48L3NwYW4+Jyk6YSh0aGlzKS5wYXJlbnQoKS53cmFwKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBjbGFzcz0iZi1pbWctd3JhcCAnK2UrJyI+PC9zcGFuPicpfXZhciBmPWIuaW1hZ2VIYW5kbGUoKTthKHRoaXMpLnBhcmVudCgpLmZpbmQoIi5mLWltZy1oYW5kbGUiKS5yZW1vdmUoKSxiLm9wdGlvbnMuaW1hZ2VSZXNpemUmJihhKHRoaXMpLnBhcmVudCgpLmFwcGVuZChmLmNsb25lKCEwKS5hZGRDbGFzcygiZi1oLW5lIikpLGEodGhpcykucGFyZW50KCkuYXBwZW5kKGYuY2xvbmUoITApLmFkZENsYXNzKCJmLWgtc2UiKSksYSh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoZi5jbG9uZSghMCkuYWRkQ2xhc3MoImYtaC1zdyIpKSxhKHRoaXMpLnBhcmVudCgpLmFwcGVuZChmLmNsb25lKCEwKS5hZGRDbGFzcygiZi1oLW53IikpKSxiLnNob3dCeUNvb3JkaW5hdGVzKGEodGhpcykub2Zmc2V0KCkubGVmdCthKHRoaXMpLndpZHRoKCkvMixhKHRoaXMpLm9mZnNldCgpLnRvcCthKHRoaXMpLmhlaWdodCgpKSxiLmltYWdlTW9kZT0hMCxiLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWJ0dG4iKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksYi5jbGVhclNlbGVjdGlvbigpfX0pLHRoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biB0b3VjaHN0YXJ0IiwiLmYtaW1nLWhhbmRsZSIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiBiLmlzRGlzYWJsZWQ/ITE6dm9pZCB0aGlzLiRlbGVtZW50LmF0dHIoImRhdGEtcmVzaXplIiwhMCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZXVwIiwiLmYtaW1nLWhhbmRsZSIsYS5wcm94eShmdW5jdGlvbihjKXtpZihiLmlzRGlzYWJsZWQpcmV0dXJuITE7dmFyIGQ9YShjLnRhcmdldCkucHJldkFsbCgiaW1nIik7c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJkYXRhLXJlc2l6ZSIpLGQuY2xpY2soKX0sdGhpcyksMCl9LHRoaXMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdEltYWdlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV9lZGl0b3I9YSgnPGRpdiBjbGFzcz0iZnJvYWxhLXBvcHVwIGZyb2FsYS1pbWFnZS1lZGl0b3ItcG9wdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lIj4nKTtmb3IodmFyIGI9YSgnPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIGYtcG9wdXAtdG9vbGJhciI+JykuYXBwZW5kVG8odGhpcy4kaW1hZ2VfZWRpdG9yKSxjPTA7Yzx0aGlzLm9wdGlvbnMuaW1hZ2VCdXR0b25zLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMub3B0aW9ucy5pbWFnZUJ1dHRvbnNbY107aWYodm9pZCAwIT09YS5FZGl0YWJsZS5pbWFnZV9jb21tYW5kc1tkXSl7dmFyIGU9YS5FZGl0YWJsZS5pbWFnZV9jb21tYW5kc1tkXSxmPSc8YnV0dG9uIGNsYXNzPSJmci1idHRuIiBkYXRhLWNhbGxiYWNrPSInK2QrJyIgZGF0YS1jbWQ9IicrZCsnIiB0aXRsZT0iJytlLnRpdGxlKyciPic7Zis9dm9pZCAwIT09dGhpcy5vcHRpb25zLmljb25zW2RdP3RoaXMucHJlcGFyZUljb24odGhpcy5vcHRpb25zLmljb25zW2RdLGUudGl0bGUpOnRoaXMucHJlcGFyZUljb24oZS5pY29uLGUudGl0bGUpLGYrPSI8L2J1dHRvbj4iLGIuYXBwZW5kKGYpfX10aGlzLmFkZExpc3RlbmVyKCJoaWRlUG9wdXBzIix0aGlzLmhpZGVJbWFnZUVkaXRvclBvcHVwKSx0aGlzLm9wdGlvbnMuaW1hZ2VUaXRsZSYmYSgnPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIGYtaW1hZ2UtYWx0Ij4nKS5hcHBlbmQoJzxsYWJlbD48c3BhbiBkYXRhLXRleHQ9InRydWUiPlRpdGxlPC9zcGFuPjogPC9sYWJlbD4nKS5hcHBlbmQoYSgnPGlucHV0IHR5cGU9InRleHQiPicpLm9uKCJtb3VzZXVwIGtleWRvd24iLGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7YiYmMjc9PT1ifHxhLnN0b3BQcm9wYWdhdGlvbigpfSkpLmFwcGVuZCgnPGJ1dHRvbiBjbGFzcz0iZi1vayIgZGF0YS10ZXh0PSJ0cnVlIiBkYXRhLWNhbGxiYWNrPSJzZXRJbWFnZUFsdCIgZGF0YS1jbWQ9InNldEltYWdlQWx0IiB0aXRsZT0iT0siPk9LPC9idXR0b24+JykuYXBwZW5kVG8odGhpcy4kaW1hZ2VfZWRpdG9yKSx0aGlzLiRwb3B1cF9lZGl0b3IuYXBwZW5kKHRoaXMuJGltYWdlX2VkaXRvciksdGhpcy5iaW5kQ29tbWFuZEV2ZW50cyh0aGlzLiRpbWFnZV9lZGl0b3IpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mbG9hdEltYWdlTGVmdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLmFkZEltYWdlQ2xhc3MoYSwiZnItZmlsIiksdGhpcy5pc0ltYWdlJiZ0aGlzLiRlbGVtZW50LmNzcygiZmxvYXQiLCJsZWZ0IiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRmxvYXRlZExlZnQiKSxhLmZpbmQoImltZyIpLmNsaWNrKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmZsb2F0SW1hZ2VOb25lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO3RoaXMuYWRkSW1hZ2VDbGFzcyhhLCJmci1maW4iKSx0aGlzLmlzSW1hZ2V8fChhLnBhcmVudCgpLmdldCgwKT09dGhpcy4kZWxlbWVudC5nZXQoMCk/YS53cmFwKCc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48L2Rpdj4nKTphLnBhcmVudHMoIi5mLWltZy13cmFwOmZpcnN0IikuY3NzKCJ0ZXh0LWFsaWduIiwiY2VudGVyIikpLHRoaXMuaXNJbWFnZSYmdGhpcy4kZWxlbWVudC5jc3MoImZsb2F0Iiwibm9uZSIpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUZsb2F0ZWROb25lIiksYS5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mbG9hdEltYWdlUmlnaHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7dGhpcy5hZGRJbWFnZUNsYXNzKGEsImZyLWZpciIpLHRoaXMuaXNJbWFnZSYmdGhpcy4kZWxlbWVudC5jc3MoImZsb2F0IiwicmlnaHQiKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VGbG9hdGVkUmlnaHQiKSxhLmZpbmQoImltZyIpLmNsaWNrKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmxpbmtJbWFnZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLnNob3dJbnNlcnRMaW5rKCksdGhpcy5pbWFnZU1vZGU9ITAsIkEiPT1hLnBhcmVudCgpLmdldCgwKS50YWdOYW1lPyh0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKGEucGFyZW50KCkuYXR0cigiaHJlZiIpKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiLmYtZXh0ZXJuYWwtbGluayIpLmF0dHIoImhyZWYiLGEucGFyZW50KCkuYXR0cigiaHJlZiIpKSwiX2JsYW5rIj09YS5wYXJlbnQoKS5hdHRyKCJ0YXJnZXQiKT90aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLnByb3AoImNoZWNrZWQiLCEwKTp0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLnNob3coKSk6KHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoImh0dHA6Ly8iKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiLmYtZXh0ZXJuYWwtbGluayIpLmF0dHIoImhyZWYiLCIjIiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIix0aGlzLm9wdGlvbnMuYWx3YXlzQmxhbmspLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJhLmYtZXh0ZXJuYWwtbGluaywgYnV0dG9uLmYtdW5saW5rIikuaGlkZSgpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVwbGFjZUltYWdlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO3RoaXMuc2hvd0luc2VydEltYWdlKCksdGhpcy5pbWFnZU1vZGU9ITAsdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoYS5maW5kKCJpbWciKS5hdHRyKCJzcmMiKSk7dmFyIGI9YS5maW5kKCJpbWciKTt0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGIub2Zmc2V0KCkubGVmdCtiLndpZHRoKCkvMixiLm9mZnNldCgpLnRvcCtiLmhlaWdodCgpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7aWYoMD09PWIubGVuZ3RoKXJldHVybiExO3ZhciBjPWIuZmluZCgiaW1nIikuZ2V0KDApLGQ9IkFyZSB5b3Ugc3VyZT8gSW1hZ2Ugd2lsbCBiZSBkZWxldGVkLiI7aWYoYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdJiYoZD1hLkVkaXRhYmxlLkxBTkdTW3RoaXMub3B0aW9ucy5sYW5ndWFnZV0udHJhbnNsYXRpb25bZF0pLCF0aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVDb25maXJtYXRpb258fGNvbmZpcm0oZCkpe2lmKHRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVSZW1vdmVJbWFnZSIsW2EoYyldLCExKSl7dmFyIGU9Yi5wYXJlbnRzKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKTtiLnBhcmVudHMoIi5mLWltZy13cmFwIikubGVuZ3RoP2IucGFyZW50cygiLmYtaW1nLXdyYXAiKS5yZW1vdmUoKTpiLnJlbW92ZSgpLHRoaXMucmVmcmVzaEltYWdlTGlzdCghMCksdGhpcy5oaWRlKCksZS5sZW5ndGgmJmVbMF0hPXRoaXMuJGVsZW1lbnQuZ2V0KDApJiYiIj09PWEoZVswXSkudGV4dCgpJiZhKGVbMF0pLnJlbW92ZSgpLHRoaXMud3JhcFRleHQoKSx0aGlzLnRyaWdnZXJFdmVudCgiYWZ0ZXJSZW1vdmVJbWFnZSIsW2EoYyldKSx0aGlzLmZvY3VzKCksdGhpcy5pbWFnZU1vZGU9ITF9fWVsc2UgYi5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zZXRJbWFnZUFsdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTthLmZpbmQoImltZyIpLmF0dHIoImFsdCIsdGhpcy4kaW1hZ2VfZWRpdG9yLmZpbmQoJy5mLWltYWdlLWFsdCBpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoKSksYS5maW5kKCJpbWciKS5hdHRyKCJ0aXRsZSIsdGhpcy4kaW1hZ2VfZWRpdG9yLmZpbmQoJy5mLWltYWdlLWFsdCBpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoKSksdGhpcy5oaWRlKCksdGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUFsdFNldCIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZEltYWdlTW92ZT1mdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5pc0xpbmt8fHRoaXMuaW5pdERyYWcoKSxiLiRlbGVtZW50Lm9uKCJkcmFnb3ZlciBkcmFnZW50ZXIgZHJhZ2VuZCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pLGIuJGVsZW1lbnQub24oImRyb3AiLGZ1bmN0aW9uKGMpe2lmKGIuY2xvc2VJbWFnZU1vZGUoKSxiLmhpZGUoKSxiLmltYWdlTW9kZT0hMSxiLmluaXRpYWxpemVkfHwoYi4kZWxlbWVudC51bmJpbmQoIm1vdXNlZG93bi5lbGVtZW50IiksYi5sYXRlSW5pdCgpKSwhYi5vcHRpb25zLmltYWdlVXBsb2FkfHwwIT09YSgiLmZyb2FsYS1lbGVtZW50IGltZy5mci1pbWFnZS1tb3ZlIikubGVuZ3RoKXtpZihhKCIuZnJvYWxhLWVsZW1lbnQgLmZyLWltYWdlLW1vdmUiKS5sZW5ndGg+MCYmYi5vcHRpb25zLmltYWdlTW92ZSl7Yy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksYi5pbnNlcnRNYXJrZXJzQXRQb2ludChjLm9yaWdpbmFsRXZlbnQpLGIucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBkPWEoIjxkaXY+IikuYXBwZW5kKGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLmNsb25lKCkucmVtb3ZlQ2xhc3MoImZyLWltYWdlLW1vdmUiKS5hZGRDbGFzcygiZnItaW1hZ2UtZHJvcHBlZCIpKS5odG1sKCk7Yi5pbnNlcnRIVE1MKGQpLGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLnJlbW92ZSgpLGIuY2xlYXJTZWxlY3Rpb24oKSxiLmluaXRpYWxpemVkP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLiRlbGVtZW50LmZpbmQoIi5mci1pbWFnZS1kcm9wcGVkIikucmVtb3ZlQ2xhc3MoIi5mci1pbWFnZS1kcm9wcGVkIikuY2xpY2soKX0sMCk6Yi4kZWxlbWVudC5maW5kKCIuZnItaW1hZ2UtZHJvcHBlZCIpLnJlbW92ZUNsYXNzKCIuZnItaW1hZ2UtZHJvcHBlZCIpLGIuc3luYygpLGIuaGlkZU90aGVyRWRpdG9ycygpfWVsc2UgYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksYSgiLmZyb2FsYS1lbGVtZW50IGltZy5mci1pbWFnZS1tb3ZlIikucmVtb3ZlQ2xhc3MoImZyLWltYWdlLW1vdmUiKTtyZXR1cm4hMX1pZihjLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyJiZjLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzJiZjLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCl7aWYoYi5pc0Rpc2FibGVkKXJldHVybiExO2IuaW5zZXJ0TWFya2Vyc0F0UG9pbnQoYy5vcmlnaW5hbEV2ZW50KSxiLnNob3dCeUNvb3JkaW5hdGVzKGMub3JpZ2luYWxFdmVudC5wYWdlWCxjLm9yaWdpbmFsRXZlbnQucGFnZVkpLGIudXBsb2FkSW1hZ2UoYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcyksYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCl9fSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkRHJhZ1VwbG9hZD1mdW5jdGlvbigpe3ZhciBiPXRoaXM7Yi4kaW1hZ2Vfd3JhcHBlci5vbigiZHJhZ292ZXIiLCIjZi11cGxvYWQtZGl2LSIrdGhpcy5faWQsZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5hZGRDbGFzcygiZi1ob3ZlciIpLCExfSksYi4kaW1hZ2Vfd3JhcHBlci5vbigiZHJhZ2VuZCIsIiNmLXVwbG9hZC1kaXYtIit0aGlzLl9pZCxmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnJlbW92ZUNsYXNzKCJmLWhvdmVyIiksITF9KSxiLiRpbWFnZV93cmFwcGVyLm9uKCJkcm9wIiwiI2YtdXBsb2FkLWRpdi0iK3RoaXMuX2lkLGZ1bmN0aW9uKGMpe3JldHVybiBjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSxiLm9wdGlvbnMuaW1hZ2VVcGxvYWQ/KGEodGhpcykucmVtb3ZlQ2xhc3MoImYtaG92ZXIiKSx2b2lkIGIudXBsb2FkSW1hZ2UoYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcykpOiExfSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZUxvYWRlcj1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT0hMSksYT90aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIik6dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJoNCIpLmFkZENsYXNzKCJ1cGxvYWRpbmciKSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLWltYWdlLWxpc3QtIit0aGlzLl9pZCkuaGlkZSgpLHRoaXMuJHByb2dyZXNzX2Jhci5zaG93KCksdGhpcy5zaG93SW5zZXJ0SW1hZ2UoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUltYWdlTG9hZGVyPWZ1bmN0aW9uKCl7dGhpcy4kcHJvZ3Jlc3NfYmFyLmhpZGUoKSx0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIwJSIpLnRleHQoIiIpLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiI2YtaW1hZ2UtbGlzdC0iK3RoaXMuX2lkKS5zaG93KCksdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJoNCIpLnJlbW92ZUNsYXNzKCJ1cGxvYWRpbmciKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUud3JpdGVJbWFnZT1mdW5jdGlvbihiLGMpe2lmKGMmJihiPXRoaXMuc2FuaXRpemVVUkwoYiksIiI9PT1iKSlyZXR1cm4hMTt2YXIgZD1uZXcgSW1hZ2U7ZC5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMudGhyb3dJbWFnZUVycm9yKDEpfSx0aGlzKSxkLm9ubG9hZD10aGlzLmltYWdlTW9kZT9hLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yID4gaW1nIik7YS5hdHRyKCJzcmMiLGIpLHRoaXMuaGlkZSgpLHRoaXMuaGlkZUltYWdlTG9hZGVyKCksdGhpcy4kaW1hZ2VfZWRpdG9yLnNob3coKSx0aGlzLmVuYWJsZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZVJlcGxhY2VkIixbYV0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRyaWdnZXIoImNsaWNrIil9LDApfSx0aGlzKTphLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRMb2FkZWRJbWFnZShiKX0sdGhpcyksdGhpcy5zaG93SW1hZ2VMb2FkZXIoITApLGQuc3JjPWJ9LGEuRWRpdGFibGUucHJvdG90eXBlLnByb2Nlc3NJbnNlcnRJbWFnZT1mdW5jdGlvbihiLGMpe3ZvaWQgMD09PWMmJihjPSEwKSx0aGlzLmVuYWJsZSgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbigpLHRoaXMuZm9jdXMoKTt2YXIgZD0iIjtwYXJzZUludCh0aGlzLm9wdGlvbnMuZGVmYXVsdEltYWdlV2lkdGgsMTApJiYoZD0nIHdpZHRoPSInK3RoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VXaWR0aCsnIicpO3ZhciBlPSc8aW1nIGNsYXNzPSJmci1maW4gZnItanVzdC1pbnNlcnRlZCIgYWx0PSInK3RoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VUaXRsZSsnIiBzcmM9IicrYisnIicrZCsiPiIsZj10aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKClbMF0sZz10aGlzLmdldFJhbmdlKCksaD0hdGhpcy5icm93c2VyLm1zaWUmJmEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uKCk+OD9hKGcuc3RhcnRDb250YWluZXIpOm51bGw7aCYmaC5oYXNDbGFzcygiZi1pbWctd3JhcCIpPygxPT09Zy5zdGFydE9mZnNldD8oaC5hZnRlcignPHA+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiPjwvc3Bhbj48YnIvPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCI+PC9zcGFuPjwvcD4nKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmdldFNlbGVjdGlvbigpLmNvbGxhcHNlVG9TdGFydCgpKTowPT09Zy5zdGFydE9mZnNldCYmKGguYmVmb3JlKCc8cD48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0idHJ1ZSIgZGF0YS1pZD0iMCI+PC9zcGFuPjxici8+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIj48L3NwYW4+PC9wPicpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuZ2V0U2VsZWN0aW9uKCkuY29sbGFwc2VUb1N0YXJ0KCkpLHRoaXMuaW5zZXJ0SFRNTChlKSk6dGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhmKS5hdFN0YXJ0JiZmIT10aGlzLiRlbGVtZW50LmdldCgwKSYmIlREIiE9Zi50YWdOYW1lJiYiVEgiIT1mLnRhZ05hbWUmJiJMSSIhPWYudGFnTmFtZT9hKGYpLmJlZm9yZSgiPHA+IitlKyI8L3A+Iik6dGhpcy5pbnNlcnRIVE1MKGUpLHRoaXMuZGlzYWJsZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRMb2FkZWRJbWFnZT1mdW5jdGlvbihiKXt0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VMb2FkZWQiLFtiXSwhMSksdGhpcy5wcm9jZXNzSW5zZXJ0SW1hZ2UoYiwhMSksdGhpcy5icm93c2VyLm1zaWUmJnRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuZWFjaChmdW5jdGlvbihhLGIpe2Iub25jb250cm9sc2VsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuITF9fSksdGhpcy5lbmFibGUoKSx0aGlzLmhpZGUoKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMud3JhcFRleHQoKSxzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoImltZy5mci1qdXN0LWluc2VydGVkIikucmVtb3ZlQ2xhc3MoImZyLWp1c3QtaW5zZXJ0ZWQiKS50cmlnZ2VyKCJ0b3VjaGVuZCIpfSx0aGlzKSw1MCksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlSW5zZXJ0ZWQiLFtiXSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnRocm93SW1hZ2VFcnJvcldpdGhNZXNzYWdlPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlKCksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRXJyb3IiLFt7bWVzc2FnZTphLGNvZGU6MH1dLCExKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50aHJvd0ltYWdlRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGUoKTt2YXIgYj0iVW5rbm93biBpbWFnZSB1cGxvYWQgZXJyb3IuIjsxPT1hP2I9IkJhZCBsaW5rLiI6Mj09YT9iPSJObyBsaW5rIGluIHVwbG9hZCByZXNwb25zZS4iOjM9PWE/Yj0iRXJyb3IgZHVyaW5nIGZpbGUgdXBsb2FkLiI6ND09YT9iPSJQYXJzaW5nIHJlc3BvbnNlIGZhaWxlZC4iOjU9PWE/Yj0iSW1hZ2UgdG9vIGxhcmdlLiI6Nj09YT9iPSJJbnZhbGlkIGltYWdlIHR5cGUuIjo3PT1hJiYoYj0iSW1hZ2UgY2FuIGJlIHVwbG9hZGVkIG9ubHkgdG8gc2FtZSBkb21haW4gaW4gSUUgOCBhbmQgSUUgOS4iKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VFcnJvciIsW3tjb2RlOmEsbWVzc2FnZTpifV0sITEpLHRoaXMuaGlkZUltYWdlTG9hZGVyKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnVwbG9hZEltYWdlPWZ1bmN0aW9uKGIpe2lmKCF0aGlzLnRyaWdnZXJFdmVudCgiYmVmb3JlSW1hZ2VVcGxvYWQiLFtiXSwhMSkpcmV0dXJuITE7aWYodm9pZCAwIT09YiYmYi5sZW5ndGg+MCl7dmFyIGM7aWYodGhpcy5kcmFnX3N1cHBvcnQuZm9ybWRhdGEmJihjPXRoaXMuZHJhZ19zdXBwb3J0LmZvcm1kYXRhP25ldyBGb3JtRGF0YTpudWxsKSxjKXt2YXIgZDtmb3IoZCBpbiB0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXMpYy5hcHBlbmQoZCx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXNbZF0pO2lmKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMhPT0hMSl7Zm9yKGQgaW4gdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXMpYy5hcHBlbmQoZCx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLnBhcmFtc1tkXSk7Yy5hcHBlbmQoInN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIsIjIwMSIpLGMuYXBwZW5kKCJYLVJlcXVlc3RlZC1XaXRoIiwieGhyIiksYy5hcHBlbmQoIkNvbnRlbnQtVHlwZSIsYlswXS50eXBlKSxjLmFwcGVuZCgia2V5Iix0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmtleVN0YXJ0KyhuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIitiWzBdLm5hbWUpfWlmKGMuYXBwZW5kKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtLGJbMF0pLGJbMF0uc2l6ZT50aGlzLm9wdGlvbnMubWF4SW1hZ2VTaXplKXJldHVybiB0aGlzLnRocm93SW1hZ2VFcnJvcig1KSwhMTtpZih0aGlzLm9wdGlvbnMuYWxsb3dlZEltYWdlVHlwZXMuaW5kZXhPZihiWzBdLnR5cGUucmVwbGFjZSgvaW1hZ2VcLy9nLCIiKSk8MClyZXR1cm4gdGhpcy50aHJvd0ltYWdlRXJyb3IoNiksITF9aWYoYyl7dmFyIGU7aWYodGhpcy5vcHRpb25zLmNyb3NzRG9tYWluKWU9dGhpcy5jcmVhdGVDT1JTUmVxdWVzdCgiUE9TVCIsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMKTtlbHNle2U9bmV3IFhNTEh0dHBSZXF1ZXN0LGUub3BlbigiUE9TVCIsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMKTtmb3IodmFyIGYgaW4gdGhpcy5vcHRpb25zLmhlYWRlcnMpZS5zZXRSZXF1ZXN0SGVhZGVyKGYsdGhpcy5vcHRpb25zLmhlYWRlcnNbZl0pfWUub25sb2FkPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIik7dHJ5e3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzM/MjAxPT1lLnN0YXR1cz90aGlzLnBhcnNlSW1hZ2VSZXNwb25zZVhNTChlLnJlc3BvbnNlWE1MKTp0aGlzLnRocm93SW1hZ2VFcnJvcigzKTplLnN0YXR1cz49MjAwJiZlLnN0YXR1czwzMDA/dGhpcy5wYXJzZUltYWdlUmVzcG9uc2UoZS5yZXNwb25zZVRleHQpOnRoaXMudGhyb3dJbWFnZUVycm9yKDMpfWNhdGNoKGEpe3RoaXMudGhyb3dJbWFnZUVycm9yKDQpfX0sdGhpcyksZS5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRocm93SW1hZ2VFcnJvcigzKX0sdGhpcyksZS51cGxvYWQub25wcm9ncmVzcz1hLnByb3h5KGZ1bmN0aW9uKGEpe2lmKGEubGVuZ3RoQ29tcHV0YWJsZSl7dmFyIGI9YS5sb2FkZWQvYS50b3RhbCoxMDB8MDt0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLGIrIiUiKX19LHRoaXMpLHRoaXMuZGlzYWJsZSgpLGUuc2VuZChjKSx0aGlzLnNob3dJbWFnZUxvYWRlcigpfX19LGEuRWRpdGFibGUucHJvdG90eXBlLnBhcnNlSW1hZ2VSZXNwb25zZT1mdW5jdGlvbihiKXt0cnl7dmFyIGM9YS5wYXJzZUpTT04oYik7Yy5saW5rP3RoaXMud3JpdGVJbWFnZShjLmxpbmspOmMuZXJyb3I/dGhpcy50aHJvd0ltYWdlRXJyb3JXaXRoTWVzc2FnZShjLmVycm9yKTp0aGlzLnRocm93SW1hZ2VFcnJvcigyKX1jYXRjaChkKXt0aGlzLnRocm93SW1hZ2VFcnJvcig0KX19LGEuRWRpdGFibGUucHJvdG90eXBlLnBhcnNlSW1hZ2VSZXNwb25zZVhNTD1mdW5jdGlvbihiKXt0cnl7dmFyIGM9YShiKS5maW5kKCJMb2NhdGlvbiIpLnRleHQoKSxkPWEoYikuZmluZCgiS2V5IikudGV4dCgpO3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMuY2FsbGJhY2suY2FsbCh0aGlzLGMsZCksYz90aGlzLndyaXRlSW1hZ2UoYyk6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZSl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zZXRJbWFnZVVwbG9hZFVSTD1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMPWEpLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMmJih0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRVUkw9Imh0dHBzOi8vIit0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmJ1Y2tldCsiLiIrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5yZWdpb24rIi5hbWF6b25hd3MuY29tLyIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbG9zZUltYWdlTW9kZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IgPiBpbWciKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt0aGlzLmFkZEltYWdlQ2xhc3MoYShjKSx0aGlzLmdldEltYWdlQ2xhc3MoYShjKS5wYXJlbnQoKS5hdHRyKCJjbGFzcyIpKSksYShjKS5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLmxlbmd0aD4wPyJBIj09YShjKS5wYXJlbnQoKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZT9hKGMpLnNpYmxpbmdzKCJzcGFuLmYtaW1nLWhhbmRsZSIpLnJlbW92ZSgpLmVuZCgpLnVud3JhcCgpLnBhcmVudCgpLnVud3JhcCgpOmEoYykuc2libGluZ3MoInNwYW4uZi1pbWctaGFuZGxlIikucmVtb3ZlKCkuZW5kKCkudW53cmFwKCkudW53cmFwKCk6YShjKS5zaWJsaW5ncygic3Bhbi5mLWltZy1oYW5kbGUiKS5yZW1vdmUoKS5lbmQoKS51bndyYXAoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKS5sZW5ndGgmJih0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIikucmVtb3ZlKCksdGhpcy4kZWxlbWVudC5wYXJlbnRzKCJzcGFuLmYtaW1nLWVkaXRvciIpLnJlbW92ZSgpKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLW5vbi1zZWxlY3RhYmxlIiksdGhpcy5lZGl0YWJsZURpc2FibGVkfHx0aGlzLmlzSFRNTHx8dGhpcy4kZWxlbWVudC5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCEwKSx0aGlzLiRpbWFnZV9lZGl0b3ImJnRoaXMuJGltYWdlX2VkaXRvci5oaWRlKCksdGhpcy4kbGlua193cmFwcGVyJiZ0aGlzLm9wdGlvbnMubGlua1RleHQmJnRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJmci1oaWRkZW4iKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEltYWdlTGlzdD1mdW5jdGlvbihiKXtpZighdGhpcy5pc0xpbmsmJiF0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXApe3ZhciBjPVtdLGQ9W10sZT10aGlzO2lmKHRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuZWFjaChmdW5jdGlvbihiLGYpe3ZhciBnPWEoZik7aWYoYy5wdXNoKGcuYXR0cigic3JjIikpLGQucHVzaChnKSwwPT09Zy5wYXJlbnRzKCIuZi1pbWctZWRpdG9yIikubGVuZ3RoJiYhZy5oYXNDbGFzcygiZnItZmlsIikmJiFnLmhhc0NsYXNzKCJmci1maXIiKSYmIWcuaGFzQ2xhc3MoImZyLWZpbiIpKXt2YXIgaDsicmlnaHQiPT1nLmNzcygiZmxvYXQiKT8oaD1nLnBhcmVudCgpLGguaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpP2guYWRkQ2xhc3MoImZyLWZpciIpOmcuYWRkQ2xhc3MoImZyLWZpciIpKToibGVmdCI9PWcuY3NzKCJmbG9hdCIpPyhoPWcucGFyZW50KCksaC5oYXNDbGFzcygiZi1pbWctZWRpdG9yIik/aC5hZGRDbGFzcygiZnItZmlsIik6Zy5hZGRDbGFzcygiZnItZmlsIikpOihoPWcucGFyZW50KCksaC5oYXNDbGFzcygiZi1pbWctZWRpdG9yIik/aC5hZGRDbGFzcygiZnItZmluIik6Zy5hZGRDbGFzcygiZnItZmluIikpfWUub3B0aW9ucy50ZXh0TmVhckltYWdlP2cucmVtb3ZlQ2xhc3MoImZyLXRuaSIpOmcuYWRkQ2xhc3MoImZyLXRuaSIpLGcuY3NzKCJtYXJnaW4iLCIiKSxnLmNzcygiZmxvYXQiLCIiKX0pLHZvaWQgMD09PWIpZm9yKHZhciBmPTA7Zjx0aGlzLmltYWdlTGlzdC5sZW5ndGg7ZisrKWMuaW5kZXhPZih0aGlzLmltYWdlTGlzdFtmXS5hdHRyKCJzcmMiKSk8MCYmdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUmVtb3ZlSW1hZ2UiLFt0aGlzLmltYWdlTGlzdFtmXV0sITEpO3RoaXMuaW1hZ2VMaXN0PWR9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRJbWFnZT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMucG9zaXRpb25Qb3B1cCgiaW5zZXJ0SW1hZ2UiKSksdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLnNhdmVTZWxlY3Rpb24oKSx0aGlzLnNob3dJbnNlcnRJbWFnZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCIiKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0xpbmtXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyJiYodGhpcy4kbGlua193cmFwcGVyLnNob3coKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0LmYtbHUiKS5yZW1vdmVDbGFzcygiZnItZXJyb3IiKSx0aGlzLmltYWdlTW9kZXx8IXRoaXMub3B0aW9ucy5saW5rVGV4dD90aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHQnKS5wYXJlbnQoKS5hZGRDbGFzcygiZnItaGlkZGVuIik6dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx0JykucGFyZW50KCkucmVtb3ZlQ2xhc3MoImZyLWhpZGRlbiIpLHRoaXMuaW1hZ2VNb2RlJiZ0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMucGhvbmUoKT90aGlzLiRkb2N1bWVudC5zY3JvbGxUb3AodGhpcy4kbGlua193cmFwcGVyLm9mZnNldCgpLnRvcC0xMCk6c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykuZm9jdXMoKS5zZWxlY3QoKX0sdGhpcyksMCksdGhpcy5saW5rPSEwKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUxpbmtXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyJiYodGhpcy4kbGlua193cmFwcGVyLmhpZGUoKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQiKS5ibHVyKCkpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW5zZXJ0TGluaz1mdW5jdGlvbigpe3RoaXMuaGlkZVBvcHVwcygpLHRoaXMuc2hvd0xpbmtXcmFwcGVyKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRMaW5rRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpfSxkPWZ1bmN0aW9uKGMpe2lmKGMuc3RvcFByb3BhZ2F0aW9uKCksYy5wcmV2ZW50RGVmYXVsdCgpLGIuaXNEaXNhYmxlZClyZXR1cm4hMTtpZigiIiE9PWIudGV4dCgpKXJldHVybiBiLmhpZGUoKSwhMTtiLmxpbms9ITAsYi5jbGVhclNlbGVjdGlvbigpLGIucmVtb3ZlTWFya2VycygpLGIuc2VsZWN0aW9uRGlzYWJsZWR8fChhKHRoaXMpLmJlZm9yZSgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKSxhKHRoaXMpLmFmdGVyKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKSxiLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSksYi5leGVjKCJjcmVhdGVMaW5rIik7dmFyIGQ9YSh0aGlzKS5hdHRyKCJocmVmIil8fCIiO2IuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx0IikudmFsKGEodGhpcykudGV4dCgpKSxiLmlzTGluaz8oIiMiPT1kJiYoZD0iIiksYi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHUtIitiLl9pZCkudmFsKGQucmVwbGFjZSgvXCZhbXA7L2csIiYiKSksYi4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixkfHwiIyIpKTooYi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0LmYtbHUiKS52YWwoZC5yZXBsYWNlKC9cJmFtcDsvZywiJiIpKSxiLiRsaW5rX3dyYXBwZXIuZmluZCgiLmYtZXh0ZXJuYWwtbGluayIpLmF0dHIoImhyZWYiLGQpKSxiLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLnByb3AoImNoZWNrZWQiLCJfYmxhbmsiPT1hKHRoaXMpLmF0dHIoInRhcmdldCIpKSxiLiRsaW5rX3dyYXBwZXIuZmluZCgibGkuZi1jaG9vc2UtbGluay1jbGFzcyIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe2EodGhpcykuaGFzQ2xhc3MoYShjKS5kYXRhKCJjbGFzcyIpKSYmYShjKS5jbGljaygpfSx0aGlzKSksYi5zaG93QnlDb29yZGluYXRlcyhhKHRoaXMpLm9mZnNldCgpLmxlZnQrYSh0aGlzKS5vdXRlcldpZHRoKCkvMixhKHRoaXMpLm9mZnNldCgpLnRvcCsocGFyc2VJbnQoYSh0aGlzKS5jc3MoInBhZGRpbmctdG9wIiksMTApfHwwKSthKHRoaXMpLmhlaWdodCgpKSxiLnNob3dJbnNlcnRMaW5rKCksYSh0aGlzKS5oYXNDbGFzcygiZnItZmlsZSIpP2IuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikuYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpOmIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSxiLmNsb3NlSW1hZ2VNb2RlKCl9O3RoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biIsImEiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCl9LHRoaXMpKSx0aGlzLmlzTGluaz90aGlzLmlPUygpPyh0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IixjKSx0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaGVuZCIsZCkpOnRoaXMuJGVsZW1lbnQub24oImNsaWNrIixkKTp0aGlzLmlPUygpPyh0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IiwnYTpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGMpLHRoaXMuJGVsZW1lbnQub24oInRvdWNoZW5kIiwnYTpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGQpLHRoaXMuJGVsZW1lbnQub24oInRvdWNoc3RhcnQiLCdhW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXScsYyksdGhpcy4kZWxlbWVudC5vbigidG91Y2hlbmQiLCdhW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXScsYykpOih0aGlzLiRlbGVtZW50Lm9uKCJjbGljayIsJ2E6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxkKSx0aGlzLiRlbGVtZW50Lm9uKCJjbGljayIsJ2FbY29udGVudGVkaXRhYmxlPSJmYWxzZSJdJyxjKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmRlc3Ryb3lMaW5rPWZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyLmh0bWwoIiIpLnJlbW92ZURhdGEoKS5yZW1vdmUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdExpbms9ZnVuY3Rpb24oKXt0aGlzLmJ1aWxkQ3JlYXRlTGluaygpLHRoaXMuaW5pdExpbmtFdmVudHMoKSx0aGlzLmFkZExpc3RlbmVyKCJkZXN0cm95Iix0aGlzLmRlc3Ryb3lMaW5rKX0sYS5FZGl0YWJsZS5pbml0aWFsaXplcnMucHVzaChhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0TGluayksYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlTGluaz1mdW5jdGlvbigpe3RoaXMuaW1hZ2VNb2RlPygiQSI9PXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudCgpLmdldCgwKS50YWdOYW1lJiZhKHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLmdldCgwKSkudW53cmFwKCksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlTGlua1JlbW92ZWQiKSx0aGlzLnNob3dJbWFnZUVkaXRvcigpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLmZpbmQoImltZyIpLmNsaWNrKCksdGhpcy5saW5rPSExKToodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVubGluayIsITEsbnVsbCksdGhpcy5pc0xpbmt8fHRoaXMuJGVsZW1lbnQuZmluZCgiYTplbXB0eSIpLnJlbW92ZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJsaW5rUmVtb3ZlZCIpLHRoaXMuaGlkZUxpbmtXcmFwcGVyKCksdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSwoIXRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLmlzTGluaykmJnRoaXMuaGlkZSgpLHRoaXMubGluaz0hMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLndyaXRlTGluaz1mdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnO3RoaXMub3B0aW9ucy5ub0ZvbGxvdyYmKGY9ITApLHRoaXMub3B0aW9ucy5hbHdheXNCbGFuayYmKGU9ITApO3ZhciBoPSIiLGk9IiI7Zj09PSEwJiYvXmh0dHBzPzpcL1wvLy50ZXN0KGIpJiYoaD0ncmVsPSJub2ZvbGxvdyInKSxlPT09ITAmJihpPSd0YXJnZXQ9Il9ibGFuayInKTt2YXIgaj1iO2lmKGI9dGhpcy5zYW5pdGl6ZVVSTChiKSx0aGlzLm9wdGlvbnMuY29udmVydE1haWxBZGRyZXNzZXMpe3ZhciBrPS9bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1wuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/L2k7ay50ZXN0KGIpJiYwIT09Yi5pbmRleE9mKCJtYWlsdG86IikmJihiPSJtYWlsdG86IitiKX1pZigiIj09PWIpcmV0dXJuIHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikuYWRkQ2xhc3MoImZyLWVycm9yIikuZm9jdXMoKSx0aGlzLnRyaWdnZXJFdmVudCgiYmFkTGluayIsW2pdLCExKSwhMTtpZih0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLnJlbW92ZUNsYXNzKCJmci1lcnJvciIpLHRoaXMuaW1hZ2VNb2RlKXtpZigiQSIhPXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudCgpLmdldCgwKS50YWdOYW1lKXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLndyYXAoJzxhIGRhdGEtZnItbGluaz0idHJ1ZSIgaHJlZj0iJytiKyciICcraSsiICIraCsiPjwvYT4iKTtlbHNle3ZhciBsPXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudCgpO2U9PT0hMD9sLmF0dHIoInRhcmdldCIsIl9ibGFuayIpOmwucmVtb3ZlQXR0cigidGFyZ2V0IiksZj09PSEwP2wuYXR0cigicmVsIiwibm9mb2xsb3ciKTpsLnJlbW92ZUF0dHIoInJlbCIpLGwucmVtb3ZlQ2xhc3MoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5qb2luKCIgIikpLGwuYXR0cigiaHJlZiIsYikuYWRkQ2xhc3MoZCl9dGhpcy50cmlnZ2VyRXZlbnQoImltYWdlTGlua0luc2VydGVkIixbYl0pLHRoaXMuc2hvd0ltYWdlRWRpdG9yKCksdGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yIikuZmluZCgiaW1nIikuY2xpY2soKSx0aGlzLmxpbms9ITF9ZWxzZXt2YXIgbT1udWxsO3RoaXMuaXNMaW5rPyIiPT09YyYmKGM9dGhpcy4kZWxlbWVudC50ZXh0KCkpOih0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSxnPXRoaXMuZ2V0U2VsZWN0aW9uTGlua3MoKSxnLmxlbmd0aD4wJiYobT1nWzBdLmF0dHJpYnV0ZXMsaXNfZmlsZT1hKGdbMF0pLmhhc0NsYXNzKCJmci1maWxlIikpLHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmxpbmsiLCExLGIpLHRoaXMuJGVsZW1lbnQuZmluZCgnc3BhbltkYXRhLWZyLWxpbms9InRydWUiXScpLmVhY2goZnVuY3Rpb24oYixjKXthKGMpLnJlcGxhY2VXaXRoKGEoYykuaHRtbCgpKX0pLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpKSx0aGlzLmlzTGluaz8odGhpcy4kZWxlbWVudC50ZXh0KGMpLGc9W3RoaXMuJGVsZW1lbnQuYXR0cigiaHJlZiIsYikuZ2V0KDApXSk6KHRoaXMucmVtb3ZlTWFya2VycygpLCh0aGlzLm9wdGlvbnMubGlua1RleHR8fCIiPT09dGhpcy50ZXh0KCkpJiYodGhpcy5pbnNlcnRIVE1MKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtdHlwZT0idHJ1ZSI+PC9zcGFuPicrKGN8fGIpKyc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtdHlwZT0iZmFsc2UiPjwvc3Bhbj4nKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSksZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNyZWF0ZUxpbmsiLCExLGIpLGc9dGhpcy5nZXRTZWxlY3Rpb25MaW5rcygpKTtmb3IodmFyIG49MDtuPGcubGVuZ3RoO24rKyl7aWYobSlmb3IodmFyIG89MDtvPG0ubGVuZ3RoO28rKykiaHJlZiIhPW1bb10ubm9kZU5hbWUmJmEoZ1tuXSkuYXR0cihtW29dLm5vZGVOYW1lLG1bb10udmFsdWUpO2U9PT0hMD9hKGdbbl0pLmF0dHIoInRhcmdldCIsIl9ibGFuayIpOmEoZ1tuXSkucmVtb3ZlQXR0cigidGFyZ2V0IiksZj09PSEwJiYvXmh0dHBzPzpcL1wvLy50ZXN0KGIpP2EoZ1tuXSkuYXR0cigicmVsIiwibm9mb2xsb3ciKTphKGdbbl0pLnJlbW92ZUF0dHIoInJlbCIpLGEoZ1tuXSkuZGF0YSgiZnItbGluayIsITApLGEoZ1tuXSkucmVtb3ZlQ2xhc3MoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5qb2luKCIgIikpLGEoZ1tuXSkuYWRkQ2xhc3MoZCl9dGhpcy4kZWxlbWVudC5maW5kKCJhOmVtcHR5IikucmVtb3ZlKCksdGhpcy50cmlnZ2VyRXZlbnQoImxpbmtJbnNlcnRlZCIsW2JdKSx0aGlzLmhpZGVMaW5rV3JhcHBlcigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksKCF0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8dGhpcy5pc0xpbmspJiZ0aGlzLmhpZGUoKSx0aGlzLmxpbms9ITF9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jcmVhdGVMaW5rSFRNTD1mdW5jdGlvbigpe3ZhciBhPSc8ZGl2IGNsYXNzPSJmcm9hbGEtcG9wdXAgZnJvYWxhLWxpbmstcG9wdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+JzthKz0nPGg0PjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+SW5zZXJ0IExpbms8L3NwYW4+PGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJPcGVuIExpbmsiIGNsYXNzPSJmLWV4dGVybmFsLWxpbmsiIGhyZWY9IiMiPjxpIGNsYXNzPSJmYSBmYS1leHRlcm5hbC1saW5rIj48L2k+PC9hPjxpIHRpdGxlPSJDYW5jZWwiIGNsYXNzPSJmYSBmYS10aW1lcyIgaWQ9ImYtbGluay1jbG9zZS0nK3RoaXMuX2lkKyciPjwvaT48L2g0PicsYSs9JzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBmci1oaWRkZW4iPjxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iVGV4dCIgY2xhc3M9ImYtbHQiIGlkPSJmLWx0LScrdGhpcy5faWQrJyI+PC9kaXY+Jzt2YXIgYj0iIjtpZih0aGlzLm9wdGlvbnMubGlua0xpc3QubGVuZ3RoJiYoYj0iZi1iaSIpLGErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iaHR0cDovL3d3dy5leGFtcGxlLmNvbSIgY2xhc3M9ImYtbHUgJytiKyciIGlkPSJmLWx1LScrdGhpcy5faWQrJyIvPicsdGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aCl7YSs9JzxidXR0b24gY2xhc3M9ImYtYnJvd3NlLWxpbmtzIiBpZD0iZi1icm93c2UtbGlua3MtJyt0aGlzLl9pZCsnIj48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1kb3duIj48L2k+PC9idXR0b24+JyxhKz0nPHVsIGlkPSJmLWxpbmstbGlzdC0nK3RoaXMuX2lkKyciPic7Zm9yKHZhciBjPTA7Yzx0aGlzLm9wdGlvbnMubGlua0xpc3QubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5vcHRpb25zLmxpbmtMaXN0W2NdO2ErPSc8bGkgY2xhc3M9ImYtY2hvb3NlLWxpbmsiIGRhdGEtbm9mb2xsb3c9IicrZC5ub2ZvbGxvdysnIiBkYXRhLWJsYW5rPSInK2QuYmxhbmsrJyIgZGF0YS1ib2R5PSInK2QuYm9keSsnIiBkYXRhLXRpdGxlPSInK2QudGl0bGUrJyIgZGF0YS1ocmVmPSInK2QuaHJlZisnIj4nK2QuYm9keSsiPC9saT4ifWErPSI8L3VsPiJ9aWYoYSs9IjwvZGl2PiIsT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5sZW5ndGgpe2ErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iQ2hvb3NlIGxpbmsgdHlwZSIgY2xhc3M9ImYtYmkiIGlkPSJmLWx1Yy0nK3RoaXMuX2lkKyciIGRpc2FibGVkPSJkaXNhYmxlZCIvPicsYSs9JzxidXR0b24gY2xhc3M9ImYtYnJvd3NlLWxpbmtzIiBpZD0iZi1saW5rcy1jbGFzcy0nK3RoaXMuX2lkKyciPjxpIGNsYXNzPSJmYSBmYS1jaGV2cm9uLWRvd24iPjwvaT48L2J1dHRvbj4nLGErPSc8dWwgaWQ9ImYtbGluay1jbGFzcy1saXN0LScrdGhpcy5faWQrJyI+Jztmb3IodmFyIGUgaW4gdGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKXt2YXIgZj10aGlzLm9wdGlvbnMubGlua0NsYXNzZXNbZV07YSs9JzxsaSBjbGFzcz0iZi1jaG9vc2UtbGluay1jbGFzcyIgZGF0YS1jbGFzcz0iJytlKyciPicrZisiPC9saT4ifWErPSI8L3VsPiIsYSs9IjwvZGl2PiJ9cmV0dXJuIGErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImYtY2hlY2tib3gtJyt0aGlzLl9pZCsnIj4gPGxhYmVsIGRhdGEtdGV4dD0idHJ1ZSIgZm9yPSJmLWNoZWNrYm94LScrdGhpcy5faWQrJyI+T3BlbiBpbiBuZXcgdGFiPC9sYWJlbD48YnV0dG9uIGRhdGEtdGV4dD0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iZi1vayIgaWQ9ImYtb2stJyt0aGlzLl9pZCsnIj5PSzwvYnV0dG9uPicsdGhpcy5vcHRpb25zLnVubGlua0J1dHRvbiYmKGErPSc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS10ZXh0PSJ0cnVlIiBjbGFzcz0iZi1vayBmLXVubGluayIgaWQ9ImYtdW5saW5rLScrdGhpcy5faWQrJyI+VU5MSU5LPC9idXR0b24+JyksYSs9IjwvZGl2PjwvZGl2PiJ9LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkQ3JlYXRlTGluaz1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlcj1hKHRoaXMuY3JlYXRlTGlua0hUTUwoKSksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRsaW5rX3dyYXBwZXIpO3ZhciBiPXRoaXM7dGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsdGhpcy5oaWRlTGlua1dyYXBwZXIpLHRoaXMuJGxpbmtfd3JhcHBlci5vbigibW91c2V1cCB0b3VjaGVuZCIsYS5wcm94eShmdW5jdGlvbihhKXt0aGlzLmlzUmVzaXppbmcoKXx8KGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpKX0sdGhpcykpLHRoaXMub3B0aW9ucy5saW5rVGV4dCYmdGhpcy4kbGlua193cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCJpbnB1dCNmLWx0LSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2ImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9LHRoaXMpKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oIm1vdXNldXAga2V5ZG93biIsImlucHV0I2YtbHUtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7CmImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9LHRoaXMpKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIGtleWRvd24iLCJpbnB1dCNmLWNoZWNrYm94LSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIub24oInRvdWNoZW5kIiwiYnV0dG9uI2Ytb2stIit0aGlzLl9pZCxmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSkub24oImNsaWNrIiwiYnV0dG9uI2Ytb2stIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdC0iK3RoaXMuX2lkKSxjPXRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1LSIrdGhpcy5faWQpLGQ9dGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHVjLSIrdGhpcy5faWQpLGU9dGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtY2hlY2tib3gtIit0aGlzLl9pZCk7YT1iP2IudmFsKCk6IiI7dmFyIGY9Yy52YWwoKTt0aGlzLmlzTGluayYmIiI9PT1mJiYoZj0iIyIpO3ZhciBnPSIiO2QmJihnPWQuZGF0YSgiY2xhc3MiKSksdGhpcy53cml0ZUxpbmsoZixhLGcsZS5wcm9wKCJjaGVja2VkIikpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsImJ1dHRvbiNmLXVubGluay0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmxpbms9ITAsdGhpcy5yZW1vdmVMaW5rKCl9LHRoaXMpKSx0aGlzLm9wdGlvbnMubGlua0xpc3QubGVuZ3RoJiYodGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsImxpLmYtY2hvb3NlLWxpbmsiLGZ1bmN0aW9uKCl7dmFyIGM9Yi4kbGlua193cmFwcGVyLmZpbmQoImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK2IuX2lkKSxkPWIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx0LSIrYi5faWQpLGU9Yi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHUtIitiLl9pZCksZj1iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1jaGVja2JveC0iK2IuX2lkKTtkJiZkLnZhbChhKHRoaXMpLmRhdGEoImJvZHkiKSksZS52YWwoYSh0aGlzKS5kYXRhKCJocmVmIikpLGYucHJvcCgiY2hlY2tlZCIsYSh0aGlzKS5kYXRhKCJibGFuayIpKSxjLmNsaWNrKCl9KS5vbigibW91c2V1cCIsImxpLmYtY2hvb3NlLWxpbmsiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIiwiYnV0dG9uI2YtYnJvd3NlLWxpbmtzLSIrdGhpcy5faWQsZnVuY3Rpb24oYyl7Yy5zdG9wUHJvcGFnYXRpb24oKTt2YXIgZD1iLiRsaW5rX3dyYXBwZXIuZmluZCgidWwjZi1saW5rLWxpc3QtIitiLl9pZCk7Yi4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0IiksYSh0aGlzKS5maW5kKCJpIikudG9nZ2xlQ2xhc3MoImZhLWNoZXZyb24tZG93biIpLGEodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLXVwIiksZC50b2dnbGUoKX0pLm9uKCJtb3VzZXVwIiwiYnV0dG9uI2YtYnJvd3NlLWxpbmtzLSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLHRoaXMuJGxpbmtfd3JhcHBlci5iaW5kKCJoaWRlTGlua0xpc3QiLGZ1bmN0aW9uKCl7dmFyIGE9Yi4kbGlua193cmFwcGVyLmZpbmQoInVsI2YtbGluay1saXN0LSIrYi5faWQpLGM9Yi4kbGlua193cmFwcGVyLmZpbmQoImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK2IuX2lkKTthJiZhLmlzKCI6dmlzaWJsZSIpJiZjLmNsaWNrKCl9KSksT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5sZW5ndGgmJih0aGlzLiRsaW5rX3dyYXBwZXIub24oIm1vdXNldXAga2V5ZG93biIsImlucHV0I2YtbHVjLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2ImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9LHRoaXMpKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIHRvdWNoIiwibGkuZi1jaG9vc2UtbGluay1jbGFzcyIsZnVuY3Rpb24oKXt2YXIgYz1iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdWMtIitiLl9pZCk7Yy52YWwoYSh0aGlzKS50ZXh0KCkpLGMuZGF0YSgiY2xhc3MiLGEodGhpcykuZGF0YSgiY2xhc3MiKSksYi4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9KS5vbigibW91c2V1cCIsImxpLmYtY2hvb3NlLWxpbmstY2xhc3MiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIiwiYnV0dG9uI2YtbGlua3MtY2xhc3MtIit0aGlzLl9pZCxmdW5jdGlvbihjKXtjLnN0b3BQcm9wYWdhdGlvbigpLGIuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0xpc3QiKTt2YXIgZD1iLiRsaW5rX3dyYXBwZXIuZmluZCgidWwjZi1saW5rLWNsYXNzLWxpc3QtIitiLl9pZCk7YSh0aGlzKS5maW5kKCJpIikudG9nZ2xlQ2xhc3MoImZhLWNoZXZyb24tZG93biIpLGEodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLXVwIiksZC50b2dnbGUoKX0pLm9uKCJtb3VzZXVwIiwiYnV0dG9uI2YtbGlua3MtY2xhc3MtIit0aGlzLl9pZCxmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLmJpbmQoImhpZGVMaW5rQ2xhc3NMaXN0IixmdW5jdGlvbigpe3ZhciBhPWIuJGxpbmtfd3JhcHBlci5maW5kKCJ1bCNmLWxpbmstY2xhc3MtbGlzdC0iK2IuX2lkKSxjPWIuJGxpbmtfd3JhcHBlci5maW5kKCJidXR0b24jZi1saW5rcy1jbGFzcy0iK2IuX2lkKTthJiZhLmlzKCI6dmlzaWJsZSIpJiZjLmNsaWNrKCl9KSksdGhpcy4kbGlua193cmFwcGVyLm9uKHRoaXMubW91c2V1cCwiaSNmLWxpbmstY2xvc2UtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSx0aGlzLmhpZGVMaW5rV3JhcHBlcigpLCghdGhpcy5vcHRpb25zLmlubGluZU1vZGUmJiF0aGlzLmltYWdlTW9kZXx8dGhpcy5pc0xpbmt8fDA9PT10aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGgpJiZ0aGlzLmhpZGUoKSx0aGlzLmltYWdlTW9kZT90aGlzLnNob3dJbWFnZUVkaXRvcigpOih0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSx0aGlzLmZvY3VzKCkpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvbkxpbmtzPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZT1bXTtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgZj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7aWYoZi5nZXRSYW5nZUF0JiZmLnJhbmdlQ291bnQpe2Q9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtmb3IodmFyIGc9MDtnPGYucmFuZ2VDb3VudDsrK2cpaWYoYT1mLmdldFJhbmdlQXQoZyksYj1hLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLGImJjEhPWIubm9kZVR5cGUmJihiPWIucGFyZW50Tm9kZSksYiYmImEiPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZS5wdXNoKGIpO2Vsc2V7Yz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik7Zm9yKHZhciBoPTA7aDxjLmxlbmd0aDsrK2gpZC5zZWxlY3ROb2RlQ29udGVudHMoY1toXSksZC5jb21wYXJlQm91bmRhcnlQb2ludHMoYS5FTkRfVE9fU1RBUlQsYSk8MSYmZC5jb21wYXJlQm91bmRhcnlQb2ludHMoYS5TVEFSVF9UT19FTkQsYSk+LTEmJmUucHVzaChjW2hdKX19fWVsc2UgaWYoZG9jdW1lbnQuc2VsZWN0aW9uJiYiQ29udHJvbCIhPWRvY3VtZW50LnNlbGVjdGlvbi50eXBlKWlmKGE9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksYj1hLnBhcmVudEVsZW1lbnQoKSwiYSI9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllLnB1c2goYik7ZWxzZXtjPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKSxkPWRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7Zm9yKHZhciBpPTA7aTxjLmxlbmd0aDsrK2kpZC5tb3ZlVG9FbGVtZW50VGV4dChjW2ldKSxkLmNvbXBhcmVFbmRQb2ludHMoIlN0YXJ0VG9FbmQiLGEpPi0xJiZkLmNvbXBhcmVFbmRQb2ludHMoIkVuZFRvU3RhcnQiLGEpPDEmJmUucHVzaChjW2ldKX1yZXR1cm4gZX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0TGluaz1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMucG9zaXRpb25Qb3B1cCgiY3JlYXRlTGluayIpKSx0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJnRoaXMuc2F2ZVNlbGVjdGlvbigpLHRoaXMuc2hvd0luc2VydExpbmsoKTt2YXIgYj10aGlzLmdldFNlbGVjdGlvbkxpbmsoKXx8IiIsYz10aGlzLmdldFNlbGVjdGlvbkxpbmtzKCk7Yy5sZW5ndGg+MD8odGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwiX2JsYW5rIj09YShjWzBdKS5hdHRyKCJ0YXJnZXQiKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx0JykudmFsKGEoY1swXSkudGV4dCgpfHwiIiksYShjWzBdKS5oYXNDbGFzcygiZnItZmlsZSIpP3RoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKTp0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJhLmYtZXh0ZXJuYWwtbGluaywgYnV0dG9uLmYtdW5saW5rIikuc2hvdygpKToodGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIix0aGlzLm9wdGlvbnMuYWx3YXlzQmxhbmspLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnZhbCh0aGlzLnRleHQoKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLmhpZGUoKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixifHwiIyIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLnZhbChiLnJlcGxhY2UoL1wmYW1wOy9nLCImIil8fCJodHRwOi8vIil9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLmJyb3dzZXJGaXhlcz1mdW5jdGlvbigpe3RoaXMucHJlQmxvY2txdW90ZUVudGVyKCksdGhpcy5lbnRlck5vUGFyYWdyYXBoeSgpLHRoaXMuYmFja3NwYWNlRW1wdHkoKSx0aGlzLmZpeEhSKCksdGhpcy5kb21JbnNlcnQoKSx0aGlzLmZpeElNRSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5maXhIUj1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnQoKSk7aWYoYy5pcygiaHIiKXx8Yy5wYXJlbnRzKCJociIpLmxlbmd0aClyZXR1cm4hMTt2YXIgZD1iLndoaWNoLGU9YSh0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKClbMF0pOzg9PWQmJmUucHJldigpLmlzKCJociIpJiZ0aGlzLmdldFNlbGVjdGlvblRleHRJbmZvKGUuZ2V0KDApKS5hdFN0YXJ0JiYodGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZS5wcmV2KCkucmVtb3ZlKCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksYi5wcmV2ZW50RGVmYXVsdCgpKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5iYWNrc3BhY2VFbXB0eT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT1iJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIikmJmEucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wcmVCbG9ja3F1b3RlRW50ZXI9ZnVuY3Rpb24oKXt0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9Yi53aGljaCxkPVsiUFJFIiwiQkxPQ0tRVU9URSJdLGU9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdO2lmKDEzPT1jJiYiIj09PXRoaXMudGV4dCgpJiZkLmluZGV4T2YoZS50YWdOYW1lKT49MCYmMD09PWEoZSkucGFyZW50cygidWwsIG9sIikubGVuZ3RoKWlmKHRoaXMuZ2V0U2VsZWN0aW9uVGV4dEluZm8oZSkuYXRFbmQmJiFiLnNoaWZ0S2V5KXtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGY9YSgiPHA+PGJyPjwvcD4iKTthKGUpLmFmdGVyKGYpLHRoaXMuc2V0U2VsZWN0aW9uKGYuZ2V0KDApKX1lbHNlKHRoaXMuYnJvd3Nlci53ZWJraXR8fHRoaXMuYnJvd3Nlci5tc2llKSYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwodGhpcy5lbmRzV2l0aChhKGUpLmh0bWwoKSwiPGJyPiIpfHwhdGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhlKS5hdEVuZD8iPGJyPiI6Ijxicj48YnI+IikpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmVudGVyTm9QYXJhZ3JhcGh5PWZ1bmN0aW9uKCl7IXRoaXMuYnJvd3Nlci53ZWJraXQmJiF0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwoJzwvYnI+JiM4MjAzOzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmRvbUluc2VydD1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT09YiYmKHRoaXMubm9fdmVyaWZ5PSEwKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJET01Ob2RlSW5zZXJ0ZWQiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIlNQQU4iIT09Yi50YXJnZXQudGFnTmFtZXx8YShiLnRhcmdldCkuYXR0cigiZGF0YS1mci12ZXJpZmllZCIpfHx0aGlzLm5vX3ZlcmlmeXx8dGhpcy50ZXh0RW1wdHkoYi50YXJnZXQpfHxhKGIudGFyZ2V0KS5yZXBsYWNlV2l0aChhKGIudGFyZ2V0KS5jb250ZW50cygpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy5hZGRfYnImJiJCUiI9PT1iLnRhcmdldC50YWdOYW1lJiYoYShiLnRhcmdldCkucHJldigpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLnByZXYoKS5nZXQoMCkudGFnTmFtZXx8YShiLnRhcmdldCkubmV4dCgpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLm5leHQoKS5nZXQoMCkudGFnTmFtZSkpe2EoYi50YXJnZXQpLndyYXAoJzxwIGNsYXNzPSJmci1wLXdyYXAiPicpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgicC5mci1wLXdyYXAiKS5yZW1vdmVBdHRyKCJjbGFzcyIpO3RoaXMuc2V0U2VsZWN0aW9uKGMuZ2V0KDApKX19LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCIsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoOzg9PT1iJiYodGhpcy4kZWxlbWVudC5maW5kKCJzcGFuOm5vdCguZnItdmVyaWZpZWQpIikuYXR0cigiZGF0YS1mci12ZXJpZmllZCIsITApLHRoaXMubm9fdmVyaWZ5PSExKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZml4SU1FPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQmJih0aGlzLiRlbGVtZW50LmdldCgwKS5tc0dldElucHV0Q29udGV4dCgpLmFkZEV2ZW50TGlzdGVuZXIoIk1TQ2FuZGlkYXRlV2luZG93U2hvdyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaW1lPSEwfSx0aGlzKSksdGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQoKS5hZGRFdmVudExpc3RlbmVyKCJNU0NhbmRpZGF0ZVdpbmRvd0hpZGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmltZT0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImtleWRvd24iKSx0aGlzLm9sZEhUTUw9IiJ9LHRoaXMpKSl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sYSk6YShqUXVlcnkpfShmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYigpe2Q/KGMoKSxNKGIpLGU9ITAsZD0hMSk6ZT0hMX12YXIgYz1hLGQ9ITEsZT0hMTt0aGlzLmtpY2s9ZnVuY3Rpb24oKXtkPSEwLGV8fGIoKX0sdGhpcy5lbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9YzthJiYoZT8oYz1kP2Z1bmN0aW9uKCl7YigpLGEoKX06YSxkPSEwKTphKCkpfX1mdW5jdGlvbiBkKCl7cmV0dXJuITB9ZnVuY3Rpb24gZSgpe3JldHVybiExfWZ1bmN0aW9uIGYoYSl7YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGcoYSl7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHxhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gMT09PWEud2hpY2gmJiFhLmN0cmxLZXkmJiFhLmFsdEtleX1mdW5jdGlvbiBpKGEsYil7dmFyIGMsZDtpZihhLmlkZW50aWZpZWRUb3VjaClyZXR1cm4gYS5pZGVudGlmaWVkVG91Y2goYik7Zm9yKGM9LTEsZD1hLmxlbmd0aDsrK2M8ZDspaWYoYVtjXS5pZGVudGlmaWVyPT09YilyZXR1cm4gYVtjXX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7aWYoYyYmKGMucGFnZVghPT1iLnBhZ2VYfHxjLnBhZ2VZIT09Yi5wYWdlWSkpcmV0dXJuIGN9ZnVuY3Rpb24gayhhKXt2YXIgYjtoKGEpJiYoYj17dGFyZ2V0OmEudGFyZ2V0LHN0YXJ0WDphLnBhZ2VYLHN0YXJ0WTphLnBhZ2VZLHRpbWVTdGFtcDphLnRpbWVTdGFtcH0sSihkb2N1bWVudCxPLm1vdmUsbCxiKSxKKGRvY3VtZW50LE8uY2FuY2VsLG0sYikpfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5kYXRhO3MoYSxiLGEsbil9ZnVuY3Rpb24gbSgpe24oKX1mdW5jdGlvbiBuKCl7Syhkb2N1bWVudCxPLm1vdmUsbCksSyhkb2N1bWVudCxPLmNhbmNlbCxtKX1mdW5jdGlvbiBvKGEpe3ZhciBiLGM7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHwoYj1hLmNoYW5nZWRUb3VjaGVzWzBdLGM9e3RhcmdldDpiLnRhcmdldCxzdGFydFg6Yi5wYWdlWCxzdGFydFk6Yi5wYWdlWSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjpiLmlkZW50aWZpZXJ9LEooZG9jdW1lbnQsUC5tb3ZlKyIuIitiLmlkZW50aWZpZXIscCxjKSxKKGRvY3VtZW50LFAuY2FuY2VsKyIuIitiLmlkZW50aWZpZXIscSxjKSl9ZnVuY3Rpb24gcChhKXt2YXIgYj1hLmRhdGEsYz1qKGEsYik7YyYmcyhhLGIsYyxyKX1mdW5jdGlvbiBxKGEpe3ZhciBiPWEuZGF0YSxjPWkoYS5jaGFuZ2VkVG91Y2hlcyxiLmlkZW50aWZpZXIpO2MmJnIoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiByKGEpe0soZG9jdW1lbnQsIi4iK2EscCksSyhkb2N1bWVudCwiLiIrYSxxKX1mdW5jdGlvbiBzKGEsYixjLGQpe3ZhciBlPWMucGFnZVgtYi5zdGFydFgsZj1jLnBhZ2VZLWIuc3RhcnRZO0kqST5lKmUrZipmfHx2KGEsYixjLGUsZixkKX1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2hhbmRsZWQ9ZCwhMX1mdW5jdGlvbiB1KGEpe3RyeXthLl9oYW5kbGVkKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIHYoYSxiLGMsZCxlLGYpe3t2YXIgZyxoO2IudGFyZ2V0fWc9YS50YXJnZXRUb3VjaGVzLGg9YS50aW1lU3RhbXAtYi50aW1lU3RhbXAsYi50eXBlPSJtb3Zlc3RhcnQiLGIuZGlzdFg9ZCxiLmRpc3RZPWUsYi5kZWx0YVg9ZCxiLmRlbHRhWT1lLGIucGFnZVg9Yy5wYWdlWCxiLnBhZ2VZPWMucGFnZVksYi52ZWxvY2l0eVg9ZC9oLGIudmVsb2NpdHlZPWUvaCxiLnRhcmdldFRvdWNoZXM9ZyxiLmZpbmdlcj1nP2cubGVuZ3RoOjEsYi5faGFuZGxlZD10LGIuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0PWZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdCgpfSxMKGIudGFyZ2V0LGIpLGYoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuZGF0YS50aW1lcjthLmRhdGEudG91Y2g9YSxhLmRhdGEudGltZVN0YW1wPWEudGltZVN0YW1wLGIua2ljaygpfWZ1bmN0aW9uIHgoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyO3koKSxEKGIsYyxmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtLKGIudGFyZ2V0LCJjbGljayIsZSl9LDApfSl9ZnVuY3Rpb24geSgpe0soZG9jdW1lbnQsTy5tb3ZlLHcpLEsoZG9jdW1lbnQsTy5lbmQseCl9ZnVuY3Rpb24geihhKXt2YXIgYj1hLmRhdGEuZXZlbnQsYz1hLmRhdGEudGltZXIsZD1qKGEsYik7ZCYmKGEucHJldmVudERlZmF1bHQoKSxiLnRhcmdldFRvdWNoZXM9YS50YXJnZXRUb3VjaGVzLGEuZGF0YS50b3VjaD1kLGEuZGF0YS50aW1lU3RhbXA9YS50aW1lU3RhbXAsYy5raWNrKCkpfWZ1bmN0aW9uIEEoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyLGQ9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7ZCYmKEIoYiksRChiLGMpKX1mdW5jdGlvbiBCKGEpe0soZG9jdW1lbnQsIi4iK2EuaWRlbnRpZmllcix6KSxLKGRvY3VtZW50LCIuIithLmlkZW50aWZpZXIsQSl9ZnVuY3Rpb24gQyhhLGIsYyl7dmFyIGQ9Yy1hLnRpbWVTdGFtcDthLnR5cGU9Im1vdmUiLGEuZGlzdFg9Yi5wYWdlWC1hLnN0YXJ0WCxhLmRpc3RZPWIucGFnZVktYS5zdGFydFksYS5kZWx0YVg9Yi5wYWdlWC1hLnBhZ2VYLGEuZGVsdGFZPWIucGFnZVktYS5wYWdlWSxhLnZlbG9jaXR5WD0uMyphLnZlbG9jaXR5WCsuNyphLmRlbHRhWC9kLGEudmVsb2NpdHlZPS4zKmEudmVsb2NpdHlZKy43KmEuZGVsdGFZL2QsYS5wYWdlWD1iLnBhZ2VYLGEucGFnZVk9Yi5wYWdlWX1mdW5jdGlvbiBEKGEsYixjKXtiLmVuZChmdW5jdGlvbigpe3JldHVybiBhLnR5cGU9Im1vdmVlbmQiLEwoYS50YXJnZXQsYSksYyYmYygpfSl9ZnVuY3Rpb24gRSgpe3JldHVybiBKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIix1KSwhMH1mdW5jdGlvbiBGKCl7cmV0dXJuIEsodGhpcywiZHJhZ3N0YXJ0IGRyYWciLGYpLEsodGhpcywibW91c2Vkb3duIHRvdWNoc3RhcnQiLGcpLEsodGhpcywibW92ZXN0YXJ0Iix1KSwhMH1mdW5jdGlvbiBHKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEoodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCxmLGIsYS5zZWxlY3RvciksSih0aGlzLCJtb3VzZWRvd24uIithLmd1aWQsZyxiLGEuc2VsZWN0b3IpKX1mdW5jdGlvbiBIKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEsodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCksSyh0aGlzLCJtb3VzZWRvd24uIithLmd1aWQpKX12YXIgST02LEo9YS5ldmVudC5hZGQsSz1hLmV2ZW50LnJlbW92ZSxMPWZ1bmN0aW9uKGIsYyxkKXthLmV2ZW50LnRyaWdnZXIoYyxkLGIpfSxNPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EoKX0sMjUpfX0oKSxOPXt0ZXh0YXJlYTohMCxpbnB1dDohMCxzZWxlY3Q6ITAsYnV0dG9uOiEwfSxPPXttb3ZlOiJtb3VzZW1vdmUiLGNhbmNlbDoibW91c2V1cCBkcmFnc3RhcnQiLGVuZDoibW91c2V1cCJ9LFA9e21vdmU6InRvdWNobW92ZSIsY2FuY2VsOiJ0b3VjaGVuZCIsZW5kOiJ0b3VjaGVuZCJ9O2EuZXZlbnQuc3BlY2lhbC5tb3Zlc3RhcnQ9e3NldHVwOkUsdGVhcmRvd246RixhZGQ6RyxyZW1vdmU6SCxfZGVmYXVsdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKCl7QyhmLGcudG91Y2gsZy50aW1lU3RhbXApLEwoYS50YXJnZXQsZil9dmFyIGYsZzthLl9oYW5kbGVkKCkmJihmPXt0YXJnZXQ6YS50YXJnZXQsc3RhcnRYOmEuc3RhcnRYLHN0YXJ0WTphLnN0YXJ0WSxwYWdlWDphLnBhZ2VYLHBhZ2VZOmEucGFnZVksZGlzdFg6YS5kaXN0WCxkaXN0WTphLmRpc3RZLGRlbHRhWDphLmRlbHRhWCxkZWx0YVk6YS5kZWx0YVksdmVsb2NpdHlYOmEudmVsb2NpdHlYLHZlbG9jaXR5WTphLnZlbG9jaXR5WSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjphLmlkZW50aWZpZXIsdGFyZ2V0VG91Y2hlczphLnRhcmdldFRvdWNoZXMsZmluZ2VyOmEuZmluZ2VyfSxnPXtldmVudDpmLHRpbWVyOm5ldyBjKGQpLHRvdWNoOmIsdGltZVN0YW1wOmJ9LGEuaWRlbnRpZmllcj09PWI/KEooYS50YXJnZXQsImNsaWNrIixlKSxKKGRvY3VtZW50LE8ubW92ZSx3LGcpLEooZG9jdW1lbnQsTy5lbmQseCxnKSk6KGEuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0KCksSihkb2N1bWVudCxQLm1vdmUrIi4iK2EuaWRlbnRpZmllcix6LGcpLEooZG9jdW1lbnQsUC5lbmQrIi4iK2EuaWRlbnRpZmllcixBLGcpKSl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZT17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmUiLGEubm9vcCl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZWVuZD17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlZW5kIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmVlbmQiLGEubm9vcCl9fSxKKGRvY3VtZW50LCJtb3VzZWRvd24ubW92ZSIsayksSihkb2N1bWVudCwidG91Y2hzdGFydC5tb3ZlIixvKSwiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJiFmdW5jdGlvbihhKXtmb3IodmFyIGI9WyJjaGFuZ2VkVG91Y2hlcyIsInRhcmdldFRvdWNoZXMiXSxjPWIubGVuZ3RoO2MtLTspLTE9PT1hLmV2ZW50LnByb3BzLmluZGV4T2YoYltjXSkmJmEuZXZlbnQucHJvcHMucHVzaChiW2NdKX0oYSl9KSx3aW5kb3cuV1lTSVdZR01vZGVybml6cj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtuLmNzc1RleHQ9YX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIHR5cGVvZiBhPT09Yn12YXIgZixnLGgsaT0iMi43LjEiLGo9e30saz1iLmRvY3VtZW50RWxlbWVudCxsPSJtb2Rlcm5penIiLG09Yi5jcmVhdGVFbGVtZW50KGwpLG49bS5zdHlsZSxvPSh7fS50b1N0cmluZywiIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtICIuc3BsaXQoIiAiKSkscD17fSxxPVtdLHI9cS5zbGljZSxzPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaCxpLGo9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPWIuYm9keSxuPW18fGIuY3JlYXRlRWxlbWVudCgiYm9keSIpO2lmKHBhcnNlSW50KGQsMTApKWZvcig7ZC0tOyloPWIuY3JlYXRlRWxlbWVudCgiZGl2IiksaC5pZD1lP2VbZF06bCsoZCsxKSxqLmFwcGVuZENoaWxkKGgpO3JldHVybiBmPVsiJiMxNzM7IiwnPHN0eWxlIGlkPSJzJyxsLCciPicsYSwiPC9zdHlsZT4iXS5qb2luKCIiKSxqLmlkPWwsKG0/ajpuKS5pbm5lckhUTUwrPWYsbi5hcHBlbmRDaGlsZChqKSxtfHwobi5zdHlsZS5iYWNrZ3JvdW5kPSIiLG4uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsaT1rLnN0eWxlLm92ZXJmbG93LGsuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsay5hcHBlbmRDaGlsZChuKSksZz1jKGosYSksbT9qLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaik6KG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxrLnN0eWxlLm92ZXJmbG93PWkpLCEhZ30sdD1mdW5jdGlvbihiKXt2YXIgYz1hLm1hdGNoTWVkaWF8fGEubXNNYXRjaE1lZGlhO2lmKGMpcmV0dXJuIGMoYikubWF0Y2hlczt2YXIgZDtyZXR1cm4gcygiQG1lZGlhICIrYisiIHsgIyIrbCsiIHsgcG9zaXRpb246IGFic29sdXRlOyB9IH0iLGZ1bmN0aW9uKGIpe2Q9ImFic29sdXRlIj09KGEuZ2V0Q29tcHV0ZWRTdHlsZT9nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUpLnBvc2l0aW9ufSksZH0sdT17fS5oYXNPd25Qcm9wZXJ0eTtoPWUodSwidW5kZWZpbmVkIil8fGUodS5jYWxsLCJ1bmRlZmluZWQiKT9mdW5jdGlvbihhLGIpe3JldHVybiBiIGluIGEmJmUoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbYl0sInVuZGVmaW5lZCIpfTpmdW5jdGlvbihhLGIpe3JldHVybiB1LmNhbGwoYSxiKX0sRnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBiKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIGM9ci5jYWxsKGFyZ3VtZW50cywxKSxkPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIGQpe3ZhciBlPWZ1bmN0aW9uKCl7fTtlLnByb3RvdHlwZT1iLnByb3RvdHlwZTt2YXIgZj1uZXcgZSxnPWIuYXBwbHkoZixjLmNvbmNhdChyLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QoZyk9PT1nP2c6Zn1yZXR1cm4gYi5hcHBseShhLGMuY29uY2F0KHIuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBkfSkscC50b3VjaD1mdW5jdGlvbigpe3ZhciBjO3JldHVybiJvbnRvdWNoc3RhcnQiaW4gYXx8YS5Eb2N1bWVudFRvdWNoJiZiIGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaD9jPSEwOnMoWyJAbWVkaWEgKCIsby5qb2luKCJ0b3VjaC1lbmFibGVkKSwoIiksbCwiKSIsInsjbW9kZXJuaXpye3RvcDo5cHg7cG9zaXRpb246YWJzb2x1dGV9fSJdLmpvaW4oIiIpLGZ1bmN0aW9uKGEpe2M9OT09PWEub2Zmc2V0VG9wfSksY307Zm9yKHZhciB2IGluIHApaChwLHYpJiYoZz12LnRvTG93ZXJDYXNlKCksaltnXT1wW3ZdKCkscS5wdXNoKChqW2ddPyIiOiJuby0iKStnKSk7cmV0dXJuIGouYWRkVGVzdD1mdW5jdGlvbihhLGIpe2lmKCJvYmplY3QiPT10eXBlb2YgYSlmb3IodmFyIGQgaW4gYSloKGEsZCkmJmouYWRkVGVzdChkLGFbZF0pO2Vsc2V7aWYoYT1hLnRvTG93ZXJDYXNlKCksalthXSE9PWMpcmV0dXJuIGo7Yj0iZnVuY3Rpb24iPT10eXBlb2YgYj9iKCk6YiwidW5kZWZpbmVkIiE9dHlwZW9mIGVuYWJsZUNsYXNzZXMmJmVuYWJsZUNsYXNzZXMmJihrLmNsYXNzTmFtZSs9IiAiKyhiPyIiOiJuby0iKSthKSxqW2FdPWJ9cmV0dXJuIGp9LGQoIiIpLG09Zj1udWxsLGouX3ZlcnNpb249aSxqLl9wcmVmaXhlcz1vLGoubXE9dCxqLnRlc3RTdHlsZXM9cyxqfSh0aGlzLHRoaXMuZG9jdW1lbnQpLCFmdW5jdGlvbihhKXthLkVkaXRhYmxlLkRFRkFVTFRTPWEuZXh0ZW5kKGEuRWRpdGFibGUuREVGQVVMVFMse2FsbG93ZWRFbXB0eVRhZ3M6WyJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsImEiLCJzcGFuIiwiaWZyYW1lIiwiZGl2Iiwib2JqZWN0IiwicGFyYW0iLCJlbWJlZCIsInZpZGVvIiwic291cmNlIiwiaSJdLHNlbGZDbG9zaW5nVGFnczpbImJyIiwiYnV0dG9uIiwiaW5wdXQiLCJpbWciLCJociIsInBhcmFtIiwiIS0tIiwic291cmNlIiwiZW1iZWQiXX0pLGEuRWRpdGFibGUuVEFHX09SREVSPVsibWFpbiIsInNlY3Rpb24iLCJoZWFkZXIiLCJmb290ZXIiLCJhcnRpY2xlIiwiZGV0YWlscyIsImxlZ2VuZCIsInN1bW1hcnkiLCJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsInVsIiwib2wiLCJsaSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsInByZSIsImJsb2NrcXVvdGUiLCJwIiwiYSIsInN0cm9uZyIsImVtIiwic3RyaWtlIiwidSIsInNwYW4iLCJpZnJhbWUiLCJvYmplY3QiLCJwYXJhbSIsInZpZGVvIiwic291cmNlIiwiZW1iZWQiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc0Nsb3NpbmdUYWc9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bnVsbCE9PWEubWF0Y2goL148XC8oW2EtekEtWjAtOV0rKShbXjxdKykqPiQvZ2kpOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50YWdOYW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL148XC8/KFthLXpBLVowLTktIV0rKShbXjxdKykqPiQvZ2ksIiQxIikudG9Mb3dlckNhc2UoKX0sYS5FZGl0YWJsZS5TRUxGX0NMT1NJTkdfQUZURVI9WyJzb3VyY2UiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc1NlbGZDbG9zaW5nVGFnPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGFnTmFtZShhKTtyZXR1cm4gdGhpcy5vcHRpb25zLnNlbGZDbG9zaW5nVGFncy5pbmRleE9mKGIudG9Mb3dlckNhc2UoKSk+PTB9LGEuRWRpdGFibGUucHJvdG90eXBlLnRhZ0tleT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlKyhhLmF0dHJzfHxbXSkuc29ydCgpLmpvaW4oInwiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZXh0ZW5kZWRLZXk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGFnS2V5KGEpK0pTT04uc3RyaW5naWZ5KGEuc3R5bGUpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5tZXJnZVN0eWxlPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXt9LGU9YS5FZGl0YWJsZS51bmlxKGEubWVyZ2UoT2JqZWN0LmtleXMoYi5zdHlsZSksT2JqZWN0LmtleXMoYy5zdHlsZSkpKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07ZFtnXT1udWxsIT1jLnN0eWxlW2ddP2Muc3R5bGVbZ106Yi5zdHlsZVtnXX1yZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubWFwRE9NPWZ1bmN0aW9uKGIsYyl7dm9pZCAwPT09YyYmKGM9ITApO3ZhciBkLGUsZixnLGg9MCxpPTAsaj1bXSxrPSIiLGw9W10sbT17fSxuPXt9LG89ITE7YyYmKGI9Yi5yZXBsYWNlKC9cdTIwMEIvZ2ksIiIpKTtmb3IodmFyIHA9MDtwPGIubGVuZ3RoO3ArKylpZihkPWIuY2hhckF0KHApLCI8Ij09ZCl7dmFyIHE9Yi5pbmRleE9mKCI+IixwKzEpO2lmKC0xIT09cSl7aWYoaSsrLGU9Yi5zdWJzdHJpbmcocCxxKzEpLGc9dGhpcy50YWdOYW1lKGUpLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhlKSl7bltoXXx8KG5baF09W10pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pLHA9cTtjb250aW51ZX12YXIgcj1udWxsLHM9ZS5yZXBsYWNlKC9ePFtcU1xzXSogc3R5bGU9KCJbXiJdKyJ8J1teJ10rJylbXFNcc10qPiQvZ2ksIiQxIiksdD17fTtpZihzIT1lJiYocz1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpLG1hdGNoZXM9cy5tYXRjaCgvKFteOl0qKTooW146O10qO3wkKS9naSkpKWZvcih2YXIgdT0wO3U8bWF0Y2hlcy5sZW5ndGg7dSsrKXt2YXIgdj1tYXRjaGVzW3VdLnNwbGl0KCI6Iiksdz12LnNsaWNlKDEpLmpvaW4oIjoiKS50cmltKCk7IjsiPT13W3cubGVuZ3RoLTFdJiYodz13LnN1YnN0cigwLHcubGVuZ3RoLTEpKSx0W3ZbMF0udHJpbSgpXT13fXI9ZS5tYXRjaCgvKFtcd1wtXSopPSgiW148PiJdKiJ8J1tePD4nXSonfFx3KykvZ2kpO3ZhciB4PW51bGw7aWYocilmb3IodmFyIHk9MDt5PHIubGVuZ3RoO3krKykwPT09clt5XS5pbmRleE9mKCJjbGFzcz0iKSYmKHg9clt5XSksMD09PXJbeV0uaW5kZXhPZigic3R5bGU9IikmJnIuc3BsaWNlKHksMSk7ImIiPT1nJiYoZz0ic3Ryb25nIiksImkiPT1nJiYoIXh8fHguaW5kZXhPZigiZmEtIik8MCkmJm89PT0hMSYmKGc9ImVtIik7dmFyIHo9dGhpcy5pc0Nsb3NpbmdUYWcoZSk7aWYoImkiPT1nJiYobz16PyExOiEwKSx6KXt2YXIgQT1tW2ddLnBvcCgpO2g9PWpbQV0uc3RhcnQmJnRoaXMub3B0aW9ucy5hbGxvd2VkRW1wdHlUYWdzLmluZGV4T2YoZy50b0xvd2VyQ2FzZSgpKT49MCYmKG5baF18fChuW2hdPVtdKSxuW2hdLnB1c2goe2k6altBXS5pLGNvbnRlbnQ6altBXS5vcmlnaW5hbH0pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pKX1lbHNlIHRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihnLnRvVXBwZXJDYXNlKCkpPj0wJiYocj9yLnB1c2goJ2RhdGEtZnItaWR4PSInK3ArJyInKTpyPVsnZGF0YS1mci1pZHg9IicrcCsnIiddKSxqLnB1c2goe3R5cGU6ZyxhdHRyczpyLHN0eWxlOnQsc3RhcnQ6aCxpOmksb3JpZ2luYWw6ZX0pLG1bZ118fChtW2ddPVtdKSxtW2ddLnB1c2goai5sZW5ndGgtMSk7cD1xfX1lbHNle2srPWQsbFtoXT17fTtmb3IoZyBpbiBtKXtmPW1bZ107Zm9yKHZhciBCPTA7QjxmLmxlbmd0aDtCKyspe2U9altmW0JdXTt2YXIgQz10aGlzLnRhZ0tleShlKTtsW2hdW0NdP2xbaF1bQ10uc3R5bGU9dGhpcy5tZXJnZVN0eWxlKGxbaF1bQ10sZSk6bFtoXVtDXT1hLmV4dGVuZCh7fSxlKX19aCsrfXZhciBEPVtdO2ZvcihwPTA7cDxsLmxlbmd0aDtwKyspe0RbcF09e307Zm9yKHZhciBFIGluIGxbcF0pRFtwXVt0aGlzLmV4dGVuZGVkS2V5KGxbcF1bRV0pXT1sW3BdW0VdfXJldHVybnt0ZXh0OmssZm9ybWF0OkQsc2ltcGxlX3RhZ3M6bn19LGEuRWRpdGFibGUucHJvdG90eXBlLmZyb2FsYURPTT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD1bXSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtmb3IoYyBpbiBlKWdbY118fChlW2NdLmVuZD1mLGQucHVzaChhLmV4dGVuZCh7fSxlW2NdKSksZGVsZXRlIGVbY10pO2Zvcih2YXIgaCBpbiBnKWVbaF18fChnW2hdLnN0YXJ0PWYsZVtoXT1nW2hdKX1mb3IoYyBpbiBlKWVbY10uZW5kPWIubGVuZ3RoLGQucHVzaChlW2NdKTtyZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc29ydE5vZGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YoYi50eXBlKS1hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKGMudHlwZSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNvcnRTaW1wbGVUYWdzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaS1iLml9LGEuRWRpdGFibGUucHJvdG90eXBlLm9wZW5UYWc9ZnVuY3Rpb24oYSl7dmFyIGI9IjwiK2EudHlwZTtpZihhLmF0dHJzKXthLmF0dHJzLnNvcnQoKTtmb3IodmFyIGM9MDtjPGEuYXR0cnMubGVuZ3RoO2MrKyliKz0iICIrYS5hdHRyc1tjXX12YXIgZD0iIjtmb3IodmFyIGUgaW4gYS5zdHlsZSludWxsIT1hLnN0eWxlW2VdJiYoZCs9ZS5yZXBsYWNlKCJfIiwiLSIpKyI6ICIrYS5zdHlsZVtlXSsiOyAiKTtyZXR1cm4iIiE9PWQmJihiKz0nIHN0eWxlPSInK2QudHJpbSgpKyciJyksYis9Ij4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbGVhbk91dHB1dD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5tYXBET00oYixjKSxpPXRoaXMuZnJvYWxhRE9NKGguZm9ybWF0KSxqPWguc2ltcGxlX3RhZ3Msaz1oLnRleHQsbD17fTtmb3IoZT0wO2U8aS5sZW5ndGg7ZSsrKWQ9aVtlXSxsW2Quc3RhcnRdfHwobFtkLnN0YXJ0XT1bXSksbFtkLnN0YXJ0XS5wdXNoKGQpO3ZhciBtPXt9O2ZvcihiPSIiLGU9MDtlPD1rLmxlbmd0aDtlKyspe3ZhciBuPVtdO2lmKG1bZV0pe2Zvcih2YXIgbyBpbiBtKWlmKG8+ZSlmb3IoZj0wO2Y8bVtvXS5sZW5ndGg7ZisrKXt2YXIgcD1tW29dW2ZdO3Auc3RhcnQ+PW1bZV1bbVtlXS5sZW5ndGgtMV0uc3RhcnQmJmEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YocC50eXBlKT5hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKG1bZV1bbVtlXS5sZW5ndGgtMV0udHlwZSkmJnRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihwLnR5cGUudG9VcHBlckNhc2UoKSk8MCYmKGIrPSI8LyIrcC50eXBlKyI+IixuLnB1c2gocCksbVtvXS5zcGxpY2UoZiwxKSl9Zm9yKGY9MDtmPG1bZV0ubGVuZ3RoO2YrKyliKz0iPC8iK21bZV1bZl0udHlwZSsiPiJ9Zm9yKGxbZV18fChsW2VdPVtdKTtuLmxlbmd0aD4wOyl7dmFyIHE9bi5wb3AoKTtxLnN0YXJ0PWUsbFtlXS5wdXNoKHEpfWlmKGxbZV0pZm9yKGxbZV09bFtlXS5zb3J0KHRoaXMuc29ydE5vZGVzKSxmPTA7ZjxsW2VdLmxlbmd0aDtmKyspZD1sW2VdW2ZdLG1bZC5lbmRdfHwobVtkLmVuZF09W10pLG1bZC5lbmRdLnB1c2goZCksYis9dGhpcy5vcGVuVGFnKGQpO2lmKGpbZV0pZm9yKGpbZV09altlXS5zb3J0KHRoaXMuc29ydFNpbXBsZVRhZ3MpLGc9MDtnPGpbZV0ubGVuZ3RoO2crKyliKz1qW2VdW2ddLmNvbnRlbnQ7ZSE9ay5sZW5ndGgmJihiKz1rW2VdKX1yZXR1cm4gYn0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xlYW5pZnk9ZnVuY3Rpb24oYixjKXt2YXIgZDtpZih0aGlzLmlzSFRNTClyZXR1cm4hMTt2b2lkIDA9PT1iJiYoYj0hMCksdGhpcy5ub192ZXJpZnk9ITAsdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZD1iP3RoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTp0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpO3ZhciBlLGY7aWYoZFswXSE9dGhpcy4kZWxlbWVudC5nZXQoMCkpZm9yKHZhciBnPTA7ZzxkLmxlbmd0aDtnKyspe3ZhciBoPWEoZFtnXSk7MD09PWguZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSkubGVuZ3RoJiYoZT1oLmh0bWwoKSxmPXRoaXMuY2xlYW5PdXRwdXQoZSxjKSxmIT09ZSYmaC5odG1sKGYpKX1lbHNlIDA9PT10aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aCYmKGU9dGhpcy4kZWxlbWVudC5odG1sKCksZj10aGlzLmNsZWFuT3V0cHV0KGUsYyksZiE9PWUmJnRoaXMuJGVsZW1lbnQuaHRtbChmKSk7dGhpcy4kZWxlbWVudC5maW5kKCJbZGF0YS1mci1pZHhdIikucmVtb3ZlQXR0cigiZGF0YS1mci1pZHgiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmZvY3VzKCksdGhpcy4kZWxlbWVudC5maW5kKCJzcGFuIikuYXR0cigiZGF0YS1mci12ZXJpZmllZCIsITApLHRoaXMubm9fdmVyaWZ5PSExfX0oalF1ZXJ5KTs=",
                "body": "LyohCiAqIGZyb2FsYV9lZGl0b3IgdjEuMi40IChodHRwOi8vZWRpdG9yLmZyb2FsYS5jb20pCiAqIENvcHlyaWdodCAyMDE0LTIwMTQgRnJvYWxhCiAqLwppZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoIkZyb2FsYSByZXF1aXJlcyBqUXVlcnkiKTshZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWZ1bmN0aW9uKGMsZCl7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGIuREVGQVVMVFMsYShjKS5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBkJiZkKSx0aGlzLnZhbGlkX25vZGVzPWEubWVyZ2UoW10sYi5WQUxJRF9OT0RFUyksdGhpcy52YWxpZF9ub2Rlcz1hLm1lcmdlKHRoaXMudmFsaWRfbm9kZXMsYS5tYXAoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmJsb2NrVGFncyksZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKX0pKSx0aGlzLmJyb3dzZXI9Yi5icm93c2VyKCksdGhpcy5kaXNhYmxlZExpc3Q9W10sdGhpcy5faWQ9KytiLmNvdW50LHRoaXMuX2V2ZW50cz17fSx0aGlzLmJsdXJyZWQ9ITAsdGhpcy4kd2luZG93PWEod2luZG93KSx0aGlzLiRkb2N1bWVudD1hKGRvY3VtZW50KSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50PWEoYyksdGhpcy5pbml0KGMpLGEoYykub24oImVkaXRhYmxlLmZvY3VzIixhLnByb3h5KGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTE7Yjw9YS5FZGl0YWJsZS5jb3VudDtiKyspYiE9dGhpcy5faWQmJmEod2luZG93KS50cmlnZ2VyKCJibHVyLiIrYil9LHRoaXMpKX07Yi5pbml0aWFsaXplcnM9W10sYi5jb3VudD0wLGIuVkFMSURfTk9ERVM9WyJQIiwiRElWIiwiTEkiLCJURCIsIlRIIl0sYi5MQU5HUz1bXSxiLkRFRkFVTFRTPXthbGxvd2VkQXR0cnM6WyJhY2NlcHQiLCJhY2NlcHQtY2hhcnNldCIsImFjY2Vzc2tleSIsImFjdGlvbiIsImFsaWduIiwiYWx0IiwiYXN5bmMiLCJhdXRvY29tcGxldGUiLCJhdXRvZm9jdXMiLCJhdXRvcGxheSIsImF1dG9zYXZlIiwiYmFja2dyb3VuZCIsImJnY29sb3IiLCJib3JkZXIiLCJjaGFyc2V0IiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNoZWNrZWQiLCJjaXRlIiwiY2xhc3MiLCJjb2xvciIsImNvbHMiLCJjb2xzcGFuIiwiY29udGVudGVkaXRhYmxlIiwiY29udGV4dG1lbnUiLCJjb250cm9scyIsImNvb3JkcyIsImRhdGEiLCJkYXRhLS4qIiwiZGF0ZXRpbWUiLCJkZWZhdWx0IiwiZGVmZXIiLCJkaXIiLCJkaXJuYW1lIiwiZGlzYWJsZWQiLCJkb3dubG9hZCIsImRyYWdnYWJsZSIsImRyb3B6b25lIiwiZW5jdHlwZSIsImZvciIsImZvcm0iLCJmb3JtYWN0aW9uIiwiaGVhZGVycyIsImhlaWdodCIsImhpZGRlbiIsImhpZ2giLCJocmVmIiwiaHJlZmxhbmciLCJpY29uIiwiaWQiLCJpc21hcCIsIml0ZW1wcm9wIiwia2V5dHlwZSIsImtpbmQiLCJsYWJlbCIsImxhbmciLCJsYW5ndWFnZSIsImxpc3QiLCJsb29wIiwibG93IiwibWF4IiwibWF4bGVuZ3RoIiwibWVkaWEiLCJtZXRob2QiLCJtaW4iLCJtdWx0aXBsZSIsIm5hbWUiLCJub3ZhbGlkYXRlIiwib3BlbiIsIm9wdGltdW0iLCJwYXR0ZXJuIiwicGluZyIsInBsYWNlaG9sZGVyIiwicG9zdGVyIiwicHJlbG9hZCIsInB1YmRhdGUiLCJyYWRpb2dyb3VwIiwicmVhZG9ubHkiLCJyZWwiLCJyZXF1aXJlZCIsInJldmVyc2VkIiwicm93cyIsInJvd3NwYW4iLCJzYW5kYm94Iiwic2NvcGUiLCJzY29wZWQiLCJzY3JvbGxpbmciLCJzZWFtbGVzcyIsInNlbGVjdGVkIiwic2hhcGUiLCJzaXplIiwic2l6ZXMiLCJzcGFuIiwic3JjIiwic3JjZG9jIiwic3JjbGFuZyIsInNyY3NldCIsInN0YXJ0Iiwic3RlcCIsInN1bW1hcnkiLCJzcGVsbGNoZWNrIiwic3R5bGUiLCJ0YWJpbmRleCIsInRhcmdldCIsInRpdGxlIiwidHlwZSIsInRyYW5zbGF0ZSIsInVzZW1hcCIsInZhbHVlIiwidmFsaWduIiwid2lkdGgiLCJ3cmFwIl0sYWxsb3dlZFRhZ3M6WyIhLS0iLCJhIiwiYWJiciIsImFkZHJlc3MiLCJhcmVhIiwiYXJ0aWNsZSIsImFzaWRlIiwiYXVkaW8iLCJiIiwiYmFzZSIsImJkaSIsImJkbyIsImJsb2NrcXVvdGUiLCJiciIsImJ1dHRvbiIsImNhbnZhcyIsImNhcHRpb24iLCJjaXRlIiwiY29kZSIsImNvbCIsImNvbGdyb3VwIiwiZGF0YWxpc3QiLCJkZCIsImRlbCIsImRldGFpbHMiLCJkZm4iLCJkaWFsb2ciLCJkaXYiLCJkbCIsImR0IiwiZW0iLCJlbWJlZCIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImZvcm0iLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJoZWFkZXIiLCJoZ3JvdXAiLCJociIsImkiLCJpZnJhbWUiLCJpbWciLCJpbnB1dCIsImlucyIsImtiZCIsImtleWdlbiIsImxhYmVsIiwibGVnZW5kIiwibGkiLCJsaW5rIiwibWFpbiIsIm1hcCIsIm1hcmsiLCJtZW51IiwibWVudWl0ZW0iLCJtZXRlciIsIm5hdiIsIm5vc2NyaXB0Iiwib2JqZWN0Iiwib2wiLCJvcHRncm91cCIsIm9wdGlvbiIsIm91dHB1dCIsInAiLCJwYXJhbSIsInByZSIsInByb2dyZXNzIiwicXVldWUiLCJycCIsInJ0IiwicnVieSIsInMiLCJzYW1wIiwic2NyaXB0Iiwic2VjdGlvbiIsInNlbGVjdCIsInNtYWxsIiwic291cmNlIiwic3BhbiIsInN0cm9uZyIsInN0eWxlIiwic3ViIiwic3VtbWFyeSIsInN1cCIsInRhYmxlIiwidGJvZHkiLCJ0ZCIsInRleHRhcmVhIiwidGZvb3QiLCJ0aCIsInRoZWFkIiwidGltZSIsInRpdGxlIiwidHIiLCJ0cmFjayIsInUiLCJ1bCIsInZhciIsInZpZGVvIiwid2JyIl0sYWx3YXlzQmxhbms6ITEsYWx3YXlzVmlzaWJsZTohMSxhdXRvc2F2ZTohMSxhdXRvc2F2ZUludGVydmFsOjFlNCxiZWF1dGlmeUNvZGU6ITAsYmxvY2tUYWdzOntuOiJOb3JtYWwiLGJsb2NrcXVvdGU6IlF1b3RlIixwcmU6IkNvZGUiLGgxOiJIZWFkaW5nIDEiLGgyOiJIZWFkaW5nIDIiLGgzOiJIZWFkaW5nIDMiLGg0OiJIZWFkaW5nIDQiLGg1OiJIZWFkaW5nIDUiLGg2OiJIZWFkaW5nIDYifSxidXR0b25zOlsiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsInN0cmlrZVRocm91Z2giLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsInNlcCIsImZvcm1hdEJsb2NrIiwiYmxvY2tTdHlsZSIsImFsaWduIiwiaW5zZXJ0T3JkZXJlZExpc3QiLCJpbnNlcnRVbm9yZGVyZWRMaXN0Iiwib3V0ZGVudCIsImluZGVudCIsInNlcCIsImNyZWF0ZUxpbmsiLCJpbnNlcnRJbWFnZSIsImluc2VydFZpZGVvIiwiaW5zZXJ0SG9yaXpvbnRhbFJ1bGUiLCJ1bmRvIiwicmVkbyIsImh0bWwiXSxjcm9zc0RvbWFpbjohMCxjb252ZXJ0TWFpbEFkZHJlc3NlczohMCxjdXN0b21CdXR0b25zOnt9LGN1c3RvbURyb3Bkb3duczp7fSxjdXN0b21UZXh0OiExLGRpcmVjdGlvbjoibHRyIixkaXNhYmxlUmlnaHRDbGljazohMSxlZGl0SW5Qb3B1cDohMSxlZGl0b3JDbGFzczoiIixmb3JtYXRUYWdzOlsicCIsInByZSIsImJsb2NrcXVvdGUiLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJkaXYiLCJ1bCIsIm9sIiwibGkiLCJ0YWJsZSIsInRib2R5IiwidGhlYWQiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCJdLGhlYWRlcnM6e30saGVpZ2h0OiJhdXRvIixpY29uczp7fSxpbmxpbmVNb2RlOiEwLGluaXRPbkNsaWNrOiExLGxhbmd1YWdlOiJlbl91cyIsbGlua0xpc3Q6W10sbGlua1RleHQ6ITEsbGlua0NsYXNzZXM6e30sbWF4SGVpZ2h0OiJhdXRvIixtaW5IZWlnaHQ6ImF1dG8iLG5vRm9sbG93OiEwLHBhcmFncmFwaHk6ITAscGxhY2Vob2xkZXI6IlR5cGUgc29tZXRoaW5nIixwbGFpblBhc3RlOiExLHByZWxvYWRlclNyYzoiIixzYXZlVVJMOm51bGwsc2F2ZVBhcmFtczp7fSxzYXZlUmVxdWVzdFR5cGU6IlBPU1QiLHNpbXBsZUFtcGVyc2FuZDohMSxzaG9ydGN1dHM6ITAsc2hvcnRjdXRzQXZhaWxhYmxlOlsic2hvdyIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJjcmVhdGVMaW5rIiwiaW5zZXJ0SW1hZ2UiLCJzZWxlY3RBbGwiLCJpbmRlbnQiLCJvdXRkZW50IiwiaHRtbCIsImZvcm1hdEJsb2NrIG4iLCJmb3JtYXRCbG9jayBoMSIsImZvcm1hdEJsb2NrIGgyIiwiZm9ybWF0QmxvY2sgaDMiLCJmb3JtYXRCbG9jayBoNCIsImZvcm1hdEJsb2NrIGg1IiwiZm9ybWF0QmxvY2sgaDYiLCJmb3JtYXRCbG9jayBibG9ja3F1b3RlIiwiZm9ybWF0QmxvY2sgcHJlIiwic3RyaWtlVGhyb3VnaCJdLHNwZWxsY2hlY2s6ITEsdGhlbWU6bnVsbCx0b29sYmFyRml4ZWQ6ITAsdHJhY2tTY3JvbGw6ITEsdW5saW5rQnV0dG9uOiEwLHRhYlNwYWNlczohMCx0eXBpbmdUaW1lcjo1MDAscGFzdGVkSW1hZ2VzVXBsb2FkUmVxdWVzdFR5cGU6IlBPU1QiLHBhc3RlZEltYWdlc1VwbG9hZFVSTDoiaHR0cDovL2kuZnJvYWxhLmNvbS91cGxvYWRfYmFzZTY0Iix3aWR0aDoiYXV0byIsd2l0aENyZWRlbnRpYWxzOiExLHpJbmRleDoyZTN9LGIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN5bmMoKSx0aGlzLmFkZEZyVGFnKCksdGhpcy5oaWRlKCksdGhpcy5pc0hUTUwmJnRoaXMuaHRtbCgpLHRoaXMuJGJ0dG5fd3JhcHBlciYmdGhpcy4kYnR0bl93cmFwcGVyLmh0bWwoIiIpLnJlbW92ZURhdGEoKS5yZW1vdmUoKSx0aGlzLiRlZGl0b3ImJnRoaXMuJGVkaXRvci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksdGhpcy5yYWlzZUV2ZW50KCJkZXN0cm95IiksdGhpcy4kcG9wdXBfZWRpdG9yJiZ0aGlzLiRwb3B1cF9lZGl0b3IuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpLHRoaXMuJHBsYWNlaG9sZGVyJiZ0aGlzLiRwbGFjZWhvbGRlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksY2xlYXJUaW1lb3V0KHRoaXMuYWpheEludGVydmFsKSxjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lciksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiwiKioiKSxhKHdpbmRvdykub2ZmKCJtb3VzZXVwLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoImtleWRvd24uIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigia2V5dXAuIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigiYmx1ci4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJoaWRlLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoInNjcm9sbC4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJvcmllbnRhdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSxhKGRvY3VtZW50KS5vZmYoInNlbGVjdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50Lm9mZigiZWRpdGFibGUiKSx2b2lkIDAhPT10aGlzLiR1cGxvYWRfZnJhbWUmJnRoaXMuJHVwbG9hZF9mcmFtZS5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYSYmKHRoaXMuJGJveC5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYS5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLHRoaXMuJHRleHRhcmVhLnNob3coKSk7Zm9yKHZhciBiIGluIHRoaXMuX2V2ZW50cylkZWxldGUgdGhpcy5fZXZlbnRzW2JdO3RoaXMuaXNMaW5rP3RoaXMuJGVsZW1lbnQucmVtb3ZlRGF0YSgiZmEuZWRpdGFibGUiKToodGhpcy4kZWxlbWVudC5yZXBsYWNlV2l0aCh0aGlzLmdldEhUTUwoKSksdGhpcy4kYm94JiYhdGhpcy5lZGl0YWJsZURpc2FibGVkJiYodGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmcm9hbGEtYm94IiksdGhpcy4kYm94LmZpbmQoIi5odG1sLXN3aXRjaCIpLnJlbW92ZSgpLHRoaXMuJGJveC5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLGNsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKSkpfSxiLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24oYixjLGQsZSl7dm9pZCAwPT09ZCYmKGQ9ITApLHZvaWQgMD09PWUmJihlPSExKSxkPT09ITAmJih0aGlzLmlzUmVzaXppbmcoKXx8dGhpcy5lZGl0YWJsZURpc2FibGVkfHx0aGlzLmltYWdlTW9kZXx8IWV8fHRoaXMuY2xlYW5pZnkoKSx0aGlzLnN5bmMoKSk7dmFyIGY9ITA7cmV0dXJuIGN8fChjPVtdKSxmPXRoaXMuJG9yaWdpbmFsX2VsZW1lbnQudHJpZ2dlckhhbmRsZXIoImVkaXRhYmxlLiIrYixhLm1lcmdlKFt0aGlzXSxjKSksdm9pZCAwPT09Zj8hMDpmfSxiLnByb3RvdHlwZS5zeW5jQ2xlYW5IVE1MPWZ1bmN0aW9uKGEsYil7dmFyIGM7aWYoYilmb3IoYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTthIT1jOylhPWMsYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTtlbHNlIGZvcihjPWEucmVwbGFjZSgvPHNwYW5bXj5dKj8+PFwvc3Bhbj4vZywiIik7YSE9YzspYT1jLGM9YS5yZXBsYWNlKC88c3BhbltePl0qPz48XC9zcGFuPi9nLCIiKTtyZXR1cm4gYX0sYi5wcm90b3R5cGUuc3luY0NsZWFuPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9InNwYW46ZW1wdHkiO2MmJihkPSJzcGFuOmVtcHR5Om5vdCguZi1tYXJrZXIpIik7Zm9yKHZhciBlPSExLGY9ZnVuY3Rpb24oYixjKXswPT09Yy5hdHRyaWJ1dGVzLmxlbmd0aCYmKGEoYykucmVtb3ZlKCksZT0hMSl9LGc9Yi5maW5kKGQpO2cubGVuZ3RoJiZlPT09ITE7KWU9ITAsZy5lYWNoKGYpLGc9Yi5maW5kKGQpfSxiLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNIVE1MKXt0aGlzLnJhaXNlRXZlbnQoInN5bmMiKSx0aGlzLmRpc2FibGVJbWFnZVJlc2l6ZSgpLHRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2V8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpO3ZhciBhPXRoaXMuZ2V0SFRNTCgpO3RoaXMudHJhY2tIVE1MIT09YSYmbnVsbCE9dGhpcy50cmFja0hUTUw/KHRoaXMucmVmcmVzaEltYWdlTGlzdCgpLHRoaXMucmVmcmVzaEJ1dHRvbnMoKSx0aGlzLmNsZWFudXBMaXN0cygpLHRoaXMudHJhY2tIVE1MPWEsdGhpcy4kdGV4dGFyZWEmJnRoaXMuJHRleHRhcmVhLnZhbCh0aGlzLmdldEhUTUwoITEsITApKSx0aGlzLmRvaW5nUmVkb3x8dGhpcy5zYXZlVW5kb1N0ZXAoKSx0aGlzLnRyaWdnZXJFdmVudCgiY29udGVudENoYW5nZWQiLFtdLCExKSk6bnVsbD09dGhpcy50cmFja0hUTUwmJih0aGlzLnRyYWNrSFRNTD1hKX19LGIucHJvdG90eXBlLmVtcHR5RWxlbWVudD1mdW5jdGlvbihiKXtpZigiSU1HIj09Yi50YWdOYW1lfHxhKGIpLmZpbmQoImltZyIpLmxlbmd0aD4wKXJldHVybiExO2lmKGEoYikuZmluZCgiaW5wdXQsIGlmcmFtZSIpLmxlbmd0aD4wKXJldHVybiExO2Zvcih2YXIgYz1hKGIpLnRleHQoKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIlxuIiE9PWNbZF0mJiJcciIhPT1jW2RdJiYiCSIhPT1jW2RdKXJldHVybiExO3JldHVybiEwfSxiLnByb3RvdHlwZS5pbml0RXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5tb2JpbGUoKT8odGhpcy5tb3VzZWRvd249InRvdWNoc3RhcnQiLHRoaXMubW91c2V1cD0idG91Y2hlbmQiLHRoaXMubW92ZT0idG91Y2htb3ZlIik6KHRoaXMubW91c2Vkb3duPSJtb3VzZWRvd24iLHRoaXMubW91c2V1cD0ibW91c2V1cCIsdGhpcy5tb3ZlPSIiKX0sYi5wcm90b3R5cGUuY29udGludWVJbml0PWZ1bmN0aW9uKCl7dGhpcy5pbml0RXZlbnRzKCksdGhpcy5icm93c2VyRml4ZXMoKSx0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLmluaXRVbmRvUmVkbygpLHRoaXMuZW5hYmxlVHlwaW5nKCksdGhpcy5pbml0U2hvcnRjdXRzKCkpLHRoaXMuaW5pdFRhYnMoKSx0aGlzLmluaXRFZGl0b3IoKTtmb3IodmFyIGI9MDtiPGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLmxlbmd0aDtiKyspYS5FZGl0YWJsZS5pbml0aWFsaXplcnNbYl0uY2FsbCh0aGlzKTt0aGlzLmluaXRPcHRpb25zKCksdGhpcy5pbml0RWRpdG9yU2VsZWN0aW9uKCksdGhpcy5pbml0QWpheFNhdmVyKCksdGhpcy5zZXRMYW5ndWFnZSgpLHRoaXMuc2V0Q3VzdG9tVGV4dCgpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy5yZWdpc3RlclBhc3RlKCksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnRyaWdnZXJFdmVudCgiaW5pdGlhbGl6ZWQiLFtdLCExLCExKX0sYi5wcm90b3R5cGUubGF0ZUluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmNvbnRpbnVlSW5pdCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuJGVsZW1lbnQuZm9jdXMoKSx0aGlzLmhpZGVPdGhlckVkaXRvcnMoKX0sYi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihiKXt0aGlzLmluaXRFbGVtZW50KGIpLHRoaXMuaW5pdEVsZW1lbnRTdHlsZSgpLCghdGhpcy5pc0xpbmt8fHRoaXMuaXNJbWFnZSkmJih0aGlzLmluaXRJbWFnZUV2ZW50cygpLHRoaXMuYnVpbGRJbWFnZU1vdmUoKSksdGhpcy5vcHRpb25zLmluaXRPbkNsaWNrPyh0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLHRoaXMuJGVsZW1lbnQuYXR0cigic3BlbGxjaGVjayIsITEpKSx0aGlzLiRlbGVtZW50LmJpbmQoIm1vdXNlZG93bi5lbGVtZW50IixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNMaW5rfHxhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGVsZW1lbnQudW5iaW5kKCJtb3VzZWRvd24uZWxlbWVudCIpLHRoaXMubGF0ZUluaXQoKX0sdGhpcykpKTp0aGlzLmNvbnRpbnVlSW5pdCgpfSxiLnByb3RvdHlwZS5waG9uZT1mdW5jdGlvbigpe3ZhciBhPSExO3JldHVybiBmdW5jdGlvbihiKXsoLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChiKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1wtKG58dSl8YzU1XC98Y2FwaXxjY3dhfGNkbVwtfGNlbGx8Y2h0bXxjbGRjfGNtZFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXC01fGdcLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFwtKG18cHx0KXxoZWlcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXC1jfGh0KGMoXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2NcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XC8oa3xsfHUpfDUwfDU0fFwtW2Etd10pfGxpYnd8bHlueHxtMVwtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XC1nfHFhXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFwtWzItN118aVwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXC18b298cFwtKXxzZGtcL3xzZShjKFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFwtfHNoYXJ8c2llKFwtfG0pfHNrXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcLXx2XC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcLXx0ZGdcLXx0ZWwoaXxtKXx0aW1cLXx0XC1tb3x0byhwbHxzaCl8dHMoNzB8bVwtfG0zfG01KXx0eFwtOXx1cChcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcLXx5b3VyfHpldG98enRlXC0vaS50ZXN0KGIuc3Vic3RyKDAsNCkpKSYmKGE9ITApfShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpLGF9LGIucHJvdG90eXBlLm1vYmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBob25lKCl8fHRoaXMuYW5kcm9pZCgpfHx0aGlzLmlPUygpfHx0aGlzLmJsYWNrYmVycnkoKX0sYi5wcm90b3R5cGUuaU9TPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmlPU1ZlcnNpb249ZnVuY3Rpb24oKXtpZigvaVAoaG9uZXxvZHxhZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSl7dmFyIGE9bmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcZCspXyhcZCspXz8oXGQrKT8vKSxiPVtwYXJzZUludChhWzFdLDEwKSxwYXJzZUludChhWzJdLDEwKSxwYXJzZUludChhWzNdfHwwLDEwKV07aWYoYiYmYlswXSlyZXR1cm4gYlswXX1yZXR1cm4gMH0sYi5wcm90b3R5cGUuaVBhZD1mdW5jdGlvbigpe3JldHVybi8oaVBhZCkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUGhvbmU9ZnVuY3Rpb24oKXtyZXR1cm4vKGlQaG9uZSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUG9kPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmFuZHJvaWQ9ZnVuY3Rpb24oKXtyZXR1cm4vKEFuZHJvaWQpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sYi5wcm90b3R5cGUuYmxhY2tiZXJyeT1mdW5jdGlvbigpe3JldHVybi8oQmxhY2tiZXJyeSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pbml0T25UZXh0YXJlYT1mdW5jdGlvbihiKXt0aGlzLiR0ZXh0YXJlYT1hKGIpLHZvaWQgMCE9PXRoaXMuJHRleHRhcmVhLmF0dHIoInBsYWNlaG9sZGVyIikmJiJUeXBlIHNvbWV0aGluZyI9PXRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciYmKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcj10aGlzLiR0ZXh0YXJlYS5hdHRyKCJwbGFjZWhvbGRlciIpKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IikuaHRtbCh0aGlzLiR0ZXh0YXJlYS52YWwoKSksdGhpcy4kdGV4dGFyZWEuYmVmb3JlKHRoaXMuJGVsZW1lbnQpLmhpZGUoKSx0aGlzLiR0ZXh0YXJlYS5wYXJlbnRzKCJmb3JtIikuYmluZCgic3VibWl0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc0hUTUw/dGhpcy5odG1sKCk6dGhpcy5zeW5jKCl9LHRoaXMpKX0sYi5wcm90b3R5cGUuaW5pdE9uTGluaz1mdW5jdGlvbihiKXt0aGlzLmlzTGluaz0hMCx0aGlzLm9wdGlvbnMubGlua1RleHQ9ITAsdGhpcy5zZWxlY3Rpb25EaXNhYmxlZD0hMCx0aGlzLmVkaXRhYmxlRGlzYWJsZWQ9ITAsdGhpcy5vcHRpb25zLmJ1dHRvbnM9W10sdGhpcy4kZWxlbWVudD1hKGIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PSExLHRoaXMub3B0aW9ucy5jb3VudENoYXJhY3RlcnM9ITEsdGhpcy4kYm94PXRoaXMuJGVsZW1lbnR9LGIucHJvdG90eXBlLmluaXRPbkltYWdlPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuY3NzKCJmbG9hdCIpOyJBIj09YShiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSYmKGI9YShiKS5wYXJlbnQoKSksdGhpcy5pc0ltYWdlPSEwLHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLmltYWdlTGlzdD1bXSx0aGlzLm9wdGlvbnMuYnV0dG9ucz1bXSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT0hMSx0aGlzLm9wdGlvbnMuaW1hZ2VNYXJnaW49ImF1dG8iLGEoYikud3JhcCgiPGRpdj4iKSx0aGlzLiRlbGVtZW50PWEoYikucGFyZW50KCksdGhpcy4kZWxlbWVudC5jc3MoImRpc3BsYXkiLCJpbmxpbmUtYmxvY2siKSx0aGlzLiRlbGVtZW50LmNzcygibWF4LXdpZHRoIiwiMTAwJSIpLHRoaXMuJGVsZW1lbnQuY3NzKCJtYXJnaW4tbGVmdCIsImF1dG8iKSx0aGlzLiRlbGVtZW50LmNzcygibWFyZ2luLXJpZ2h0IiwiYXV0byIpLHRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsYyksdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1pbWFnZSIpLHRoaXMuJGJveD1hKGIpfSxiLnByb3RvdHlwZS5pbml0Rm9yUG9wdXA9ZnVuY3Rpb24oYil7dGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGJveD10aGlzLiRlbGVtZW50LHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLm9wdGlvbnMuY291bnRDaGFyYWN0ZXJzPSExLHRoaXMub3B0aW9ucy5idXR0b25zPVtdLHRoaXMuJGVsZW1lbnQub24oImNsaWNrIixhLnByb3h5KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxiLnByb3RvdHlwZS5pbml0T25EZWZhdWx0PWZ1bmN0aW9uKGIpeyJESVYiIT1iLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5idXR0b25zLmluZGV4T2YoImZvcm1hdEJsb2NrIik+PTAmJnRoaXMuZGlzYWJsZWRMaXN0LnB1c2goImZvcm1hdEJsb2NrIiksdGhpcy4kZWxlbWVudD1hKGIpfSxiLnByb3RvdHlwZS5pbml0RWxlbWVudD1mdW5jdGlvbihiKXsiVEVYVEFSRUEiPT1iLnRhZ05hbWU/dGhpcy5pbml0T25UZXh0YXJlYShiKToiQSI9PWIudGFnTmFtZT90aGlzLmluaXRPbkxpbmsoYik6IklNRyI9PWIudGFnTmFtZT90aGlzLmluaXRPbkltYWdlKGIpOnRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cD90aGlzLmluaXRGb3JQb3B1cChiKTp0aGlzLmluaXRPbkRlZmF1bHQoYiksdGhpcy5lZGl0YWJsZURpc2FibGVkfHwodGhpcy4kYm94PXRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImZyb2FsYS1ib3giKSx0aGlzLiR3cmFwcGVyPWEoJzxkaXYgY2xhc3M9ImZyb2FsYS13cmFwcGVyIj4nKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IiksdGhpcy5zZXRIVE1MKHRoaXMuJGJveC5odG1sKCksITEpLHRoaXMuJGJveC5odG1sKHRoaXMuJHdyYXBwZXIuaHRtbCh0aGlzLiRlbGVtZW50KSksdGhpcy4kZWxlbWVudC5vbigia2V5dXAiLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmdGhpcy53ZWJraXRQYXJhZ3JhcGh5KCl9LHRoaXMpKSksdGhpcy4kZWxlbWVudC5vbigiZHJvcCIsYS5wcm94eShmdW5jdGlvbigpe3NldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2EoImh0bWwiKS5jbGljaygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLXdyYXAiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7MD09PWEoYykuZmluZCgiaW1nIikubGVuZ3RoJiZhKGMpLnJlbW92ZSgpfSksdGhpcy4kZWxlbWVudC5maW5kKCJwOmVtcHR5IikucmVtb3ZlKCl9LHRoaXMpLDEpfSx0aGlzKSksdGhpcy5zeW5jKCl9LGIucHJvdG90eXBlLndlYmtpdFBhcmFncmFwaHk9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoIioiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXtpZih0aGlzLmVtcHR5RWxlbWVudChjKSYmIkRJViI9PT1jLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITApe3ZhciBkPWEoIjxwPjxici8+PC9wPiIpO2EoYykucmVwbGFjZVdpdGgoZCksdGhpcy5zZXRTZWxlY3Rpb24oZC5nZXQoMCkpfX0sdGhpcykpfSxiLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxiLnByb3RvdHlwZS51bndyYXBUZXh0PWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQuZmluZCgiZGl2IikuZWFjaChmdW5jdGlvbihiLGMpe3ZvaWQgMD09PWEoYykuYXR0cigic3R5bGUiKSYmYShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSsiPGJyLz4iKX0pfSxiLnByb3RvdHlwZS53cmFwVGV4dEluRWxlbWVudD1mdW5jdGlvbihiLGMpe3ZvaWQgMD09PWMmJihjPSExKTt2YXIgZD1bXSxlPVsiU1BBTiIsIkEiLCJCIiwiSSIsIkVNIiwiVSIsIlMiLCJTVFJPTkciLCJTVFJJS0UiLCJGT05UIiwiSU1HIiwiU1VCIiwiU1VQIl0sZj10aGlzO3RoaXMubm9fdmVyaWZ5PSEwO3ZhciBnPWZ1bmN0aW9uKCl7aWYoMD09PWQubGVuZ3RoKXJldHVybiExO3ZhciBiO2I9YShmLm9wdGlvbnMucGFyYWdyYXBoeT09PSEwPyI8cD4iOiI8ZGl2PiIpO3ZhciBjPWEoZFswXSk7aWYoMT09ZC5sZW5ndGgmJiJmLW1hcmtlciI9PWMuYXR0cigiY2xhc3MiKSlyZXR1cm4gdm9pZChkPVtdKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGc9YShkW2VdKTtiLmFwcGVuZChnLmNsb25lKCkpLGU9PWQubGVuZ3RoLTE/Zy5yZXBsYWNlV2l0aChiKTpnLnJlbW92ZSgpfWQ9W119LGg9ITEsaT0hMTtiLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtpZihiLmhhc0NsYXNzKCJmLW1hcmtlciIpfHxiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCl7dmFyIGo9YjtiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCYmKGo9YShiLmZpbmQoIi5mLW1hcmtlciIpWzBdKSksInRydWUiPT09ai5hdHRyKCJkYXRhLXR5cGUiKT8oaD0hMCxpPSExKTppPSEwfXRoaXMubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiZiLnRleHQoKS50cmltKCkubGVuZ3RoPjB8fGUuaW5kZXhPZih0aGlzLnRhZ05hbWUpPj0wP2QucHVzaCh0aGlzKTp0aGlzLm5vZGVUeXBlPT1Ob2RlLlRFWFRfTk9ERSYmMD09PWIudGV4dCgpLnRyaW0oKS5sZW5ndGgmJmYub3B0aW9ucy5iZWF1dGlmeUNvZGU/Yi5yZW1vdmUoKTooaHx8Yz8oZygpLCJCUiI9PT10aGlzLnRhZ05hbWUmJmIucmVtb3ZlKCkpOmQ9W10saSYmKGg9ITEpKX0pLChofHxjKSYmZygpLGIuZmluZCgiPiBwIikuZWFjaChmdW5jdGlvbihiLGMpezA9PT1hKGMpLnRleHQoKS50cmltKCkubGVuZ3RoJiYwPT09YShjKS5maW5kKCJpbWciKS5sZW5ndGgmJjA9PT1hKGMpLmZpbmQoImJyIikubGVuZ3RoJiZhKGMpLmFwcGVuZCgiPGJyLz4iKX0pLGIuZmluZCgiZGl2OmVtcHR5IikucmVtb3ZlKCksYi5pcygiOmVtcHR5IikmJmIuYXBwZW5kKGYub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITA/IjxwPjxici8+PC9wPiI6Ijxici8+IiksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLndyYXBUZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rPyExOih0aGlzLndlYmtpdFBhcmFncmFwaHkoKSx2b2lkIHRoaXMud3JhcFRleHRJbkVsZW1lbnQodGhpcy4kZWxlbWVudCxhKSl9LGIucHJvdG90eXBlLnNldEhUTUw9ZnVuY3Rpb24oYixjKXt0aGlzLm5vX3ZlcmlmeT0hMCx2b2lkIDA9PT1jJiYoYz0hMCksYj10aGlzLmNsZWFuKGIsITAsITEpLGI9Yi5yZXBsYWNlKC8+XHMrPC9nLCI+PCIpLHRoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLiRlbGVtZW50LmZpbmQoInByZSIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLGU9YShjKS5odG1sKCk7ZS5pbmRleE9mKCJcbiIpPj0wJiZkLmh0bWwoZS5yZXBsYWNlKC9cbi9nLCI8YnI+IikpfSksdGhpcy5pbWFnZUxpc3Q9W10sdGhpcy5yZWZyZXNoSW1hZ2VMaXN0KCksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLGMmJih0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnN5bmMoKSksdGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5hdHRyKCJkYXRhLWZyLXZlcmlmaWVkIiwhMCksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLmJlZm9yZVBhc3RlPWZ1bmN0aW9uKCl7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsdGhpcy5zY3JvbGxQb3NpdGlvbj1hKHdpbmRvdykuc2Nyb2xsVG9wKCksdGhpcy4kcGFzdGVEaXY9YSgnPGRpdiBjb250ZW50ZWRpdGFibGU9InRydWUiIHN0eWxlPSJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogLTk5OTlweDsgaGVpZ2h0OiAxMDAlOyB3aWR0aDogMDsgei1pbmRleDogOTk5OTk7Ij48L2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHRoaXMuJHBhc3RlRGl2LmZvY3VzKCksd2luZG93LnNldFRpbWVvdXQoYS5wcm94eSh0aGlzLnByb2Nlc3NQYXN0ZSx0aGlzKSwxKX0sYi5wcm90b3R5cGUucHJvY2Vzc1Bhc3RlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jbGlwYm9hcmRIVE1MO251bGw9PT10aGlzLmNsaXBib2FyZEhUTUwmJihiPXRoaXMuJHBhc3RlRGl2Lmh0bWwoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSxhKHdpbmRvdykuc2Nyb2xsVG9wKHRoaXMuc2Nyb2xsUG9zaXRpb24pKTt2YXIgYyxkPXRoaXMudHJpZ2dlckV2ZW50KCJvblBhc3RlIixbYl0sITEpOyJzdHJpbmciPT10eXBlb2YgZCYmKGI9ZCksYj1iLnJlcGxhY2UoLzxpbWcgL2dpLCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiAnKSxiLm1hdGNoKC8oY2xhc3M9XCI/TXNvfHN0eWxlPVwiW15cIl0qXGJtc29cLXx3OldvcmREb2N1bWVudCkvZ2kpPyhjPXRoaXMud29yZENsZWFuKGIpLGM9dGhpcy5jbGVhbihhKCI8ZGl2PiIpLmFwcGVuZChjKS5odG1sKCksITEsITApLGM9dGhpcy5yZW1vdmVFbXB0eVRhZ3MoYykpOihjPXRoaXMuY2xlYW4oYiwhMSwhMCksYz10aGlzLnJlbW92ZUVtcHR5VGFncyhjKSksdGhpcy5vcHRpb25zLnBsYWluUGFzdGUmJihjPXRoaXMucGxhaW5QYXN0ZUNsZWFuKGMpKSwiIiE9PWMmJih0aGlzLmluc2VydEhUTUwoYyksdGhpcy4kZWxlbWVudC5maW5kKCJsaSIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe3RoaXMud3JhcFRleHRJbkVsZW1lbnQoYShjKSwhMCl9LHRoaXMpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy5jbGVhbnVwTGlzdHMoKSksdGhpcy5hZnRlclBhc3RlKCl9LGIucHJvdG90eXBlLmFmdGVyUGFzdGU9ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCksdGhpcy51cGxvYWRQYXN0ZWRJbWFnZXMoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLnBhc3Rpbmc9ITEsdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUGFzdGUiLFtdLCEwLCEwKX0sYi5wcm90b3R5cGUucmVnaXN0ZXJQYXN0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImNvcHkgY3V0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5jb3BpZWRUZXh0PXRoaXMudGV4dCgpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigicGFzdGUiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIXRoaXMuaXNIVE1MKXtpZihiLm9yaWdpbmFsRXZlbnQmJihiPWIub3JpZ2luYWxFdmVudCksIXRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVQYXN0ZSIsW10sITEpKXJldHVybiExO2lmKHRoaXMuY2xpcGJvYXJkUGFzdGUoYikpcmV0dXJuITE7dGhpcy5jbGlwYm9hcmRIVE1MPSIiLHRoaXMucGFzdGluZz0hMCx0aGlzLnNjcm9sbFBvc2l0aW9uPWEod2luZG93KS5zY3JvbGxUb3AoKTt2YXIgYz0hMTtpZihiJiZiLmNsaXBib2FyZERhdGEmJmIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXt2YXIgZD0iIixlPWIuY2xpcGJvYXJkRGF0YS50eXBlcztpZihhLkVkaXRhYmxlLmlzQXJyYXkoZSkpZm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZCs9ZVtmXSsiOyI7ZWxzZSBkPWU7aWYoL3RleHRcL2h0bWwvLnRlc3QoZCk/dGhpcy5jbGlwYm9hcmRIVE1MPWIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJ0ZXh0L2h0bWwiKTovdGV4dFwvcnRmLy50ZXN0KGQpJiZ0aGlzLmJyb3dzZXIuc2FmYXJpP3RoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9ydGYiKTovdGV4dFwvcGxhaW4vLnRlc3QoZCkmJiF0aGlzLmJyb3dzZXIubW96aWxsYSYmKHRoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9wbGFpbiIpLnJlcGxhY2UoL1xuL2csIjxici8+IikpLCIiIT09dGhpcy5jbGlwYm9hcmRIVE1MP2M9ITA6dGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsYylyZXR1cm4gdGhpcy5wcm9jZXNzUGFzdGUoKSxiLnByZXZlbnREZWZhdWx0JiYoYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCkpLCExfXRoaXMuYmVmb3JlUGFzdGUoKX19LHRoaXMpKX0sYi5wcm90b3R5cGUuY2xpcGJvYXJkUGFzdGU9ZnVuY3Rpb24oYil7aWYoYiYmYi5jbGlwYm9hcmREYXRhJiZiLmNsaXBib2FyZERhdGEuaXRlbXMpe3ZhciBjPWIuY2xpcGJvYXJkRGF0YS5pdGVtc1swXS5nZXRBc0ZpbGUoKTtpZihjKXt2YXIgZD1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldC5yZXN1bHQ7dGhpcy5pbnNlcnRIVE1MKCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiBzcmM9IicrYisnIiAvPicpLHRoaXMuYWZ0ZXJQYXN0ZSgpfSx0aGlzKSxkLnJlYWRBc0RhdGFVUkwoYyksITB9fXJldHVybiExfSxiLnByb3RvdHlwZS51cGxvYWRQYXN0ZWRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoImltZ1tkYXRhLWZyLWltYWdlLXBhc3RlZF0iKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt0aGlzLm9wdGlvbnMucGFzdGVJbWFnZT8oMD09PWMuc3JjLmluZGV4T2YoImRhdGE6Iik/KHRoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VXaWR0aCYmYShjKS5hdHRyKCJ3aWR0aCIsdGhpcy5vcHRpb25zLmRlZmF1bHRJbWFnZVdpZHRoKSx0aGlzLm9wdGlvbnMucGFzdGVkSW1hZ2VzVXBsb2FkVVJMJiYoc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zaG93SW1hZ2VMb2FkZXIoKSx0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIiksdGhpcy5zaG93QnlDb29yZGluYXRlcyhhKGMpLm9mZnNldCgpLmxlZnQrYShjKS53aWR0aCgpLzIsYShjKS5vZmZzZXQoKS50b3ArYShjKS5oZWlnaHQoKSsxMCksdGhpcy5pc0Rpc2FibGVkPSEwfSx0aGlzKSwxMCksYS5hamF4KHt0eXBlOnRoaXMub3B0aW9ucy5wYXN0ZWRJbWFnZXNVcGxvYWRSZXF1ZXN0VHlwZSx1cmw6dGhpcy5vcHRpb25zLnBhc3RlZEltYWdlc1VwbG9hZFVSTCxkYXRhOmEuZXh0ZW5kKHtpbWFnZTpkZWNvZGVVUklDb21wb25lbnQoYy5zcmMpfSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXMpLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzLGRhdGFUeXBlOiJqc29uIn0pLmRvbmUoYS5wcm94eShmdW5jdGlvbihiKXt0cnl7aWYoYi5saW5rKXt2YXIgZD1uZXcgSW1hZ2U7ZC5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRocm93SW1hZ2VFcnJvcigxKX0sdGhpcyksZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbigpe2Muc3JjPWIubGluayx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMuaGlkZSgpLHRoaXMuZW5hYmxlKCksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYykudHJpZ2dlcigidG91Y2hlbmQiKX0sNTApLHRoaXMudHJpZ2dlckV2ZW50KCJhZnRlclVwbG9hZFBhc3RlZEltYWdlIixbYShjKV0pfSx0aGlzKSxkLnNyYz1iLmxpbmt9ZWxzZSBiLmVycm9yP3RoaXMudGhyb3dJbWFnZUVycm9yV2l0aE1lc3NhZ2UoYi5lcnJvcik6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZSl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSx0aGlzKSkuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoMyl9LHRoaXMpKSkpOjAhPT1jLnNyYy5pbmRleE9mKCJodHRwIikmJmEoYykucmVtb3ZlKCksYShjKS5yZW1vdmVBdHRyKCJkYXRhLWZyLWltYWdlLXBhc3RlZCIpKTphKGMpLnJlbW92ZSgpfSx0aGlzKSl9LGIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzYWJsZWQ9ITAsdGhpcy4kZWxlbWVudC5ibHVyKCl9LGIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNEaXNhYmxlZD0hMX0sYi5wcm90b3R5cGUud29yZENsZWFuPWZ1bmN0aW9uKGEpe2EuaW5kZXhPZigiPGJvZHkiKT49MCYmKGE9YS5yZXBsYWNlKC9bLlxzXFNcd1xXPD5dKjxib2R5W14+XSo+KFsuXHNcU1x3XFc8Pl0qKTxcL2JvZHk+Wy5cc1xTXHdcVzw+XSovZywiJDEiKSksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaEN4U3BGaXJzdCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPiIpLGE9YS5yZXBsYWNlKC88cCguKj8pY2xhc3M9Ij8nP01zb0xpc3RQYXJhZ3JhcGhDeFNwTWlkZGxlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxcL3A+L2dpLCI8bGk+PHA+JDM8L3A+PC9saT4iKSxhPWEucmVwbGFjZSgvPHAoLio/KWNsYXNzPSI/Jz9Nc29MaXN0UGFyYWdyYXBoQ3hTcExhc3QiPyc/KFtcc1xTXSo/KT4oW1xzXFNdKj8pPFwvcD4vZ2ksIjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxzcGFuKFtePF0qPylzdHlsZT0iPyc/bXNvLWxpc3Q6SWdub3JlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxzcGFuL2dpLCI8c3Bhbj48c3BhbiIpLGE9YS5yZXBsYWNlKC88IS0tXFtpZiBcIXN1cHBvcnRMaXN0c1xdLS0+KFtcc1xTXSo/KTwhLS1cW2VuZGlmXF0tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC8oXG58XHJ8IGNsYXNzPSgiKT9Nc29bYS16QS1aXSsoIik/KS9naSwiICIpLGE9YS5yZXBsYWNlKC88IS0tW1xzXFNdKj8tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC88KFwvKSoobWV0YXxsaW5rfHNwYW58XFw/eG1sOnxzdDE6fG86fGZvbnQpKC4qPyk+L2dpLCIiKTtmb3IodmFyIGI9WyJzdHlsZSIsInNjcmlwdCIsImFwcGxldCIsImVtYmVkIiwibm9mcmFtZXMiLCJub3NjcmlwdCJdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9bmV3IFJlZ0V4cCgiPCIrYltjXSsiLio/IitiW2NdKyIoLio/KT4iLCJnaSIpO2E9YS5yZXBsYWNlKGQsIiIpfWE9YS5yZXBsYWNlKC8oW1x3XC1dKik9KCJbXjw+Il0qInwnW148PiddKid8XHcrKS9naSwiIiksYT1hLnJlcGxhY2UoLyZuYnNwOy9naSwiIik7dmFyIGU7ZG8gZT1hLGE9YS5yZXBsYWNlKC88W15cLz5dW14+XSo+PFwvW14+XSs+L2dpLCIiKTt3aGlsZShhIT1lKTtyZXR1cm4gYT10aGlzLmNsZWFuKGEpfSxiLnByb3RvdHlwZS50YWJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iIixjPTA7YT5jO2MrKyliKz0iICAiO3JldHVybiBifSxiLnByb3RvdHlwZS5jbGVhblRhZ3M9ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0hMSk7dmFyIGMsZCxlLGYsZz10aGlzLm9wdGlvbnMuZm9ybWF0VGFncyxoPVtdLGk9W10saj0hMTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGM9YS5jaGFyQXQoZCksIjwiPT1jKXt2YXIgaz1hLmluZGV4T2YoIj4iLGQrMSk7aWYoLTEhPT1rKXt2YXIgbD1hLnN1YnN0cmluZyhkLGsrMSksbT10aGlzLnRhZ05hbWUobCksbj10aGlzLmlzQ2xvc2luZ1RhZyhsKTtpZigicHJlIj09PW0mJihqPW4/ITE6ITApLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhsKSlpLnB1c2goImJyIj09PW0mJmo/IlxuIjpsKTtlbHNlIGlmKG4pZm9yKGU9ITEsZj0hMDtlPT09ITEmJnZvaWQgMCE9PWY7KWY9aC5wb3AoKSx2b2lkIDAhPT1mJiZmLnRhZ19uYW1lIT09bT9pLnNwbGljZShmLmksMSk6KGU9ITAsdm9pZCAwIT09ZiYmaS5wdXNoKGwpKTtlbHNlIGkucHVzaChsKSxoLnB1c2goe3RhZ19uYW1lOm0saTppLmxlbmd0aC0xfSk7ZD1rfX1lbHNlIlxuIj09PWMmJnRoaXMub3B0aW9ucy5iZWF1dGlmeUNvZGU/YiYmaiYmaS5wdXNoKCI8YnIvPiIpOiIJIiE9PWMmJmkucHVzaChjKTtmb3IoO2gubGVuZ3RoPjA7KWY9aC5wb3AoKSxpLnNwbGljZShmLmksMSk7dmFyIG89IlxuIjt0aGlzLm9wdGlvbnMuYmVhdXRpZnlDb2RlfHwobz0iIiksYT0iIixoPTA7dmFyIHA9ITA7Zm9yKGQ9MDtkPGkubGVuZ3RoO2QrKykxPT1pW2RdLmxlbmd0aD9wJiYiICI9PT1pW2RdfHwoYSs9aVtkXSxwPSExKTpnLmluZGV4T2YodGhpcy50YWdOYW1lKGlbZF0pLnRvTG93ZXJDYXNlKCkpPDA/YSs9aVtkXTp0aGlzLmlzU2VsZkNsb3NpbmdUYWcoaVtkXSk/YSs9aVtkXTp0aGlzLmlzQ2xvc2luZ1RhZyhpW2RdKT8oaC09MSwwPT09aCYmKHA9ITApLGEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV09PW8mJihhKz10aGlzLnRhYnMoaCkpLGErPWlbZF0rbyk6KGErPW8rdGhpcy50YWJzKGgpK2lbZF0saCs9MSk7cmV0dXJuIGFbMF09PW8mJihhPWEuc3Vic3RyaW5nKDEsYS5sZW5ndGgpKSxhW2EubGVuZ3RoLTFdPT1vJiYoYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpKSxhfSxiLnByb3RvdHlwZS5jbGVhbnVwTGlzdHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoInVsLCBvbCIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpO2lmKGQuZmluZCgiLmNsb3NlLXVsLCAub3Blbi11bCwgLmNsb3NlLW9sLCAub3Blbi1vbCwgLm9wZW4tbGksIC5jbG9zZS1saSIpLmxlbmd0aD4wKXt2YXIgZT0iPCIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iK2QuaHRtbCgpKyI8LyIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iO2U9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC91bD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPHVsPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9vbD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPG9sPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9saT4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPGxpPiIpLGQucmVwbGFjZVdpdGgoZSl9fSk7Zm9yKHZhciBiPXRoaXMuJGVsZW1lbnQuZmluZCgib2wgKyBvbCwgdWwgKyB1bCIpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YShiW2NdKTtkLnByZXYoKS5hcHBlbmQoZC5odG1sKCkpLGQucmVtb3ZlKCl9dGhpcy4kZWxlbWVudC5maW5kKCJsaSA+IHRkIikucmVtb3ZlKCksdGhpcy4kZWxlbWVudC5maW5kKCJsaTplbXB0eSIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgdGQ6ZW1wdHkiKS5hcHBlbmQoIjwvYnI+IiksdGhpcy4kZWxlbWVudC5maW5kKCJ1bCwgb2wiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpOzA9PT1kLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aCYmZC5yZW1vdmUoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgPiB0ZCIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGk6ZW1wdHkiKS5yZW1vdmUoKSx0aGlzLiRlbGVtZW50LmZpbmQoImxpIHRkOmVtcHR5IikuYXBwZW5kKCI8L2JyPiIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5JiZ0aGlzLiRlbGVtZW50LmZpbmQoImxpIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy53cmFwVGV4dEluRWxlbWVudChhKGMpLCEwKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbihiLGMsZCxlLGYpe2Z8fChmPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRBdHRycykpLGV8fChlPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRUYWdzKSksY3x8Zi5pbmRleE9mKCJpZCIpPi0xJiZmLnNwbGljZShmLmluZGV4T2YoImlkIiksMSksYj1iLnJlcGxhY2UoLzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksIiIpO3ZhciBnPW5ldyBSZWdFeHAoIjxcXC8/KCg/ISg/OiIrZS5qb2luKCJ8IikrIikpXFx3KylbXj5dKj8+IiwiZ2kiKTtiPWIucmVwbGFjZShnLCIiKTt2YXIgaD1uZXcgUmVnRXhwKCIoICg/ISg/OiIrZi5qb2luKCJ8IikrIikpW2EtekEtWjAtOS1fXSspPSgoPzouKD8hXFxzKyg/OlxcUyspPXxbPl18KFxcLz4pKSkrLikiLCJnaSIpO2I9Yi5yZXBsYWNlKC88XC8/W14+XSo/Pi9naSxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGgsIiIpfSk7dmFyIGk9bmV3IFJlZ0V4cCgnPChbXj5dKikoc3JjfGhyZWYpPShcJ1teXCddKlwnfCIiW14iIl0qIiJ8W15cXHM+XSspKFtePl0qKT4nLCJnaSIpO2lmKGI9Yi5yZXBsYWNlKGksYS5wcm94eShmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiI8IitiK2MrJz0iJyt0aGlzLnNhbml0aXplVVJMKGQucmVwbGFjZSgvXlsiJ10oLiopWyInXVwvPyQvZ2ksIiQxIikpKyciJytlKyI+In0sdGhpcykpLHRoaXMucGFzdGluZyYmdGhpcy5jb3BpZWRUZXh0PT09YSgiPGRpdj4iKS5odG1sKGIpLnRleHQoKSYmKGQ9ITEsYz0hMCksZCl7dmFyIGo9bmV3IFJlZ0V4cCgic3R5bGU9KFwiW2EtekEtWjAtOTo7XFwuXFxzXFwoXFwpXFwtXFwsIVxcLyclXSpcInwnW2EtekEtWjAtOTo7XFwuXFxzXFwoXFwpXFwtXFwsIVxcL1wiJV0qJykiLCJnaSIpO2I9Yi5yZXBsYWNlKGosIiIpfWlmKGI9dGhpcy5jbGVhblRhZ3MoYiwhMCksIWMpe3ZhciBrPWEoIjxkaXY+IikuYXBwZW5kKGIpO2suZmluZCgnW2NsYXNzXTpub3QoW2NsYXNzXj0iZnItIl0pJykuZWFjaChmdW5jdGlvbihiLGMpe2EoYykucmVtb3ZlQXR0cigiY2xhc3MiKX0pLGI9ay5odG1sKCl9cmV0dXJuIGJ9LGIucHJvdG90eXBlLnBsYWluUGFzdGVDbGVhbj1mdW5jdGlvbihiKXt2YXIgYz1hKCI8ZGl2PiIpLmh0bWwoYik7Yy5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBwcmUsIGJsb2NrcXVvdGUiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aCgiPHA+IithKGMpLmh0bWwoKSsiPC9wPiIpfSk7Zm9yKHZhciBkPWZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSl9O2MuZmluZCgic3Ryb25nLCBlbSwgc3RyaWtlLCBiLCB1LCBpLCBzdXAsIHN1Yiwgc3BhbiwgYSIpLmxlbmd0aDspYy5maW5kKCJzdHJvbmcsIGVtLCBzdHJpa2UsIGIsIHUsIGksIHN1cCwgc3ViLCBzcGFuLCBhIikuZWFjaChkKTtyZXR1cm4gYy5odG1sKCl9LGIucHJvdG90eXBlLnJlbW92ZUVtcHR5VGFncz1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD1hKCI8ZGl2PiIpLmh0bWwoYiksZT1kLmZpbmQoIio6ZW1wdHk6bm90KGJyLCBpbWcsIHRkLCB0aCkiKTtlLmxlbmd0aDspe2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspYShlW2NdKS5yZW1vdmUoKTtlPWQuZmluZCgiKjplbXB0eTpub3QoYnIsIGltZywgdGQsIHRoKSIpfWQuZmluZCgiPiBkaXYiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSsiPGJyLz4iKX0pO2Zvcih2YXIgZj1kLmZpbmQoImRpdiIpO2YubGVuZ3RoOyl7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKyl7dmFyIGc9YShmW2NdKSxoPWcuaHRtbCgpLnJlcGxhY2UoL1x1MDAwOS9naSwiIikudHJpbSgpO2cucmVwbGFjZVdpdGgoaCl9Zj1kLmZpbmQoImRpdiIpfXJldHVybiBkLmh0bWwoKX0sYi5wcm90b3R5cGUuaW5pdEVsZW1lbnRTdHlsZT1mdW5jdGlvbigpe3RoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy4kZWxlbWVudC5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCEwKTt2YXIgYT0iZnJvYWxhLWVsZW1lbnQgIit0aGlzLm9wdGlvbnMuZWRpdG9yQ2xhc3M7dGhpcy5icm93c2VyLm1zaWUmJmIuZ2V0SUV2ZXJzaW9uKCk8OSYmKGErPSIgaWU4IiksdGhpcy4kZWxlbWVudC5jc3MoIm91dGxpbmUiLDApLHRoaXMuYnJvd3Nlci5tc2llfHwoYSs9IiBub3QtbXNpZSIpLHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoYSl9LGIucHJvdG90eXBlLmluaXRVbmRvUmVkbz1mdW5jdGlvbigpe3RoaXMudW5kb1N0YWNrPVtdLHRoaXMudW5kb0luZGV4PTAsdGhpcy5zYXZlVW5kb1N0ZXAoKSx0aGlzLmRpc2FibGVCcm93c2VyVW5kbygpfSxiLnByb3RvdHlwZS5DSktjbGVhbj1mdW5jdGlvbihhKXt2YXIgYj0vW1x1MzA0MS1cdTMwOTZcdTMwQTAtXHUzMEZGXHU0RTAwLVx1OUZGRlx1MzEzMC1cdTMxOEZcdUFDMDAtXHVEN0FGXS9naTtyZXR1cm4gYS5yZXBsYWNlKGIsIiIpfSxiLnByb3RvdHlwZS5lbmFibGVUeXBpbmc9ZnVuY3Rpb24oKXt0aGlzLnR5cGluZ1RpbWVyPW51bGwsdGhpcy4kZWxlbWVudC5vbigia2V5ZG93biBjdXQiLGEucHJveHkoZnVuY3Rpb24oYil7cmV0dXJuImtleWRvd24iIT09Yi50eXBlfHx0aGlzLnRyaWdnZXJFdmVudCgia2V5ZG93biIsW2Iud2hpY2gsKGIuY3RybEtleXx8Yi5tZXRhS2V5KSYmIWIuYWx0S2V5XSwhMSk/KGNsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKSx0aGlzLmFqYXhTYXZlPSExLHRoaXMub2xkSFRNTD10aGlzLmdldEhUTUwoITApLHZvaWQodGhpcy50eXBpbmdUaW1lcj1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEhUTUwoITApO3RoaXMuaW1lfHx0aGlzLkNKS2NsZWFuKGEpPT09dGhpcy5DSktjbGVhbih0aGlzLm9sZEhUTUwpfHx0aGlzLkNKS2NsZWFuKGEpIT09YXx8dGhpcy5zeW5jKCl9LHRoaXMpLE1hdGgubWF4KHRoaXMub3B0aW9ucy50eXBpbmdUaW1lciw1MDApKSkpOiExfSx0aGlzKSl9LGIucHJvdG90eXBlLnJlbW92ZU1hcmtlcnNCeVJlZ2V4PWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLzxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddP1tePl0rPihbXFNcc11bXlwvXSkqPFwvc3Bhbj4vZ2ksIiIpfSxiLnByb3RvdHlwZS5nZXRJbWFnZUhUTUw9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe3NyYzp0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmF0dHIoInNyYyIpLHN0eWxlOnRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuYXR0cigic3R5bGUiKSxhbHQ6dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKS5hdHRyKCJhbHQiKSx3aWR0aDp0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmF0dHIoIndpZHRoIiksbGluazp0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJocmVmIiksbGlua190aXRsZTp0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJ0aXRsZSIpLGxpbmtfdGFyZ2V0OnRoaXMuJGVsZW1lbnQuZmluZCgiYSIpLmF0dHIoInRhcmdldCIpfSl9LGIucHJvdG90eXBlLmdldExpbmtIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtib2R5OnRoaXMuJGVsZW1lbnQuaHRtbCgpLGhyZWY6dGhpcy4kZWxlbWVudC5hdHRyKCJocmVmIiksdGl0bGU6dGhpcy4kZWxlbWVudC5hdHRyKCJ0aXRsZSIpLHBvcG91dDp0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJwb3BvdXQiKSxub2ZvbGxvdzoibm9mb2xsb3ciPT10aGlzLiRlbGVtZW50LmF0dHIoInJlZiIpLGJsYW5rOiJfYmxhbmsiPT10aGlzLiRlbGVtZW50LmF0dHIoInRhcmdldCIpLGNsczp0aGlzLiRlbGVtZW50LmF0dHIoImNsYXNzIik/dGhpcy4kZWxlbWVudC5hdHRyKCJjbGFzcyIpLnJlcGxhY2UoL2Zyb2FsYS1lbGVtZW50ID98bm90LW1zaWUgP3wvZ2ksIiIpLnRyaW0oKToiIn0pfSxiLnByb3RvdHlwZS5hZGRGclRhZz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSsiLCB0YWJsZSwgdWwsIG9sLCBpbWciKS5hZGRDbGFzcygiZnItdGFnIil9LGIucHJvdG90eXBlLnJlbW92ZUZyVGFnPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKyIsIHRhYmxlLCB1bCwgb2wsIGltZyIpLnJlbW92ZUNsYXNzKCJmci10YWciKX0sYi5wcm90b3R5cGUuZ2V0SFRNTD1mdW5jdGlvbihiLGMsZCl7aWYodm9pZCAwPT09YyYmKGM9ITEpLHZvaWQgMD09PWImJihiPSExKSx2b2lkIDA9PT1kJiYoZD0hMCksdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZi1wbGFjZWhvbGRlciIpJiYhYilyZXR1cm4iIjtpZih0aGlzLmlzSFRNTClyZXR1cm4gdGhpcy4kaHRtbF9hcmVhLnZhbCgpO2lmKHRoaXMuaXNJbWFnZSlyZXR1cm4gdGhpcy5nZXRJbWFnZUhUTUwoKTtpZih0aGlzLmlzTGluaylyZXR1cm4gdGhpcy5nZXRMaW5rSFRNTCgpO3RoaXMuJGVsZW1lbnQuZmluZCgiYSIpLmRhdGEoImZyLWxpbmsiLCEwKSxjJiZ0aGlzLmFkZEZyVGFnKCksdGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yID4gaW1nIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5hZGRJbWFnZUNsYXNzKGEoYyksdGhpcy5nZXRJbWFnZUNsYXNzKGEoYykucGFyZW50KCkuYXR0cigiY2xhc3MiKSkpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5maW5kKCJwcmUiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLGU9ZC5odG1sKCksZj1lLnJlcGxhY2UoL1wmbmJzcDsvZ2ksIiAiKTtlIT1mJiYodGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZC5odG1sKGYpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpKX0sdGhpcykpO3ZhciBlPXRoaXMuJGVsZW1lbnQuaHRtbCgpO3JldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IgPiBpbWciKS5yZW1vdmVDbGFzcygiZnItZmluIGZyLWZpbCBmci1maXIiKSx0aGlzLnJlbW92ZUZyVGFnKCksZT10aGlzLnN5bmNDbGVhbkhUTUwoZSxiKSxlPWUucmVwbGFjZSgvPGFbXj5dKj8+PFwvYT4vZywiIiksYnx8KGU9dGhpcy5yZW1vdmVNYXJrZXJzQnlSZWdleChlKSksZT1lLnJlcGxhY2UoLzxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1pbWctaGFuZGxlW14+XSs+PFwvc3Bhbj4vZ2ksIiIpLGU9ZS5yZXBsYWNlKC9eKFtcU1xzXSopPHNwYW5bXj5dKj8gY2xhc3Nccyo9XHMqWyInXT9mLWltZy1lZGl0b3JbXj5dKz4oW1xTXHNdKik8XC9zcGFuPihbXFNcc10qKSQvZ2ksIiQxJDIkMyIpLGU9ZS5yZXBsYWNlKC9eKFtcU1xzXSopPHNwYW5bXj5dKj8gY2xhc3Nccyo9XHMqWyInXT9mLWltZy13cmFwW14+XSs+KFtcU1xzXSopPFwvc3Bhbj4oW1xTXHNdKikkL2dpLCIkMSQyJDMiKSxlPWUucmVwbGFjZSgvXCZhbXA7L2dpLCImIiksdGhpcy5vcHRpb25zLnNpbXBsZUFtcGVyc2FuZCYmKGU9ZS5yZXBsYWNlKC9cJmFtcDsvZ2ksIiYiKSksZCYmKGU9ZS5yZXBsYWNlKC8gZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIvZ2ksIiIpKSx0aGlzLm9wdGlvbnMuYmVhdXRpZnlDb2RlJiYoZT1lLnJlcGxhY2UoL1xuL2dpLCIiKSksZT1lLnJlcGxhY2UoL1x1MjAwQi9naSwiIil9LGIucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWxlbWVudC50ZXh0KCl9LGIucHJvdG90eXBlLnNldERpcnR5PWZ1bmN0aW9uKGEpe3RoaXMuZGlydHk9YX0sYi5wcm90b3R5cGUuaW5pdEFqYXhTYXZlcj1mdW5jdGlvbigpe3RoaXMuYWpheEhUTUw9dGhpcy5nZXRIVE1MKCksdGhpcy5hamF4U2F2ZT0hMCx0aGlzLmFqYXhJbnRlcnZhbD1zZXRJbnRlcnZhbChhLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRIVE1MKCk7KHRoaXMuYWpheEhUTUwhPWF8fHRoaXMuZGlydHkpJiZ0aGlzLmFqYXhTYXZlJiYodGhpcy5vcHRpb25zLmF1dG9zYXZlJiZ0aGlzLnNhdmUoKSx0aGlzLmRpcnR5PSExLHRoaXMuYWpheEhUTUw9YSksdGhpcy5hamF4U2F2ZT0hMH0sdGhpcyksTWF0aC5tYXgodGhpcy5vcHRpb25zLmF1dG9zYXZlSW50ZXJ2YWwsMTAwKSl9LGIucHJvdG90eXBlLmRpc2FibGVCcm93c2VyVW5kbz1mdW5jdGlvbigpe2EoImJvZHkiKS5rZXlkb3duKGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2gsYz0oYS5jdHJsS2V5fHxhLm1ldGFLZXkpJiYhYS5hbHRLZXk7aWYoIXRoaXMuaXNIVE1MJiZjKXtpZig3NT09YilyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLCExO2lmKDkwPT1iJiZhLnNoaWZ0S2V5KXJldHVybiBhLnByZXZlbnREZWZhdWx0KCksITE7aWYoOTA9PWIpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSwhMX19KX0sYi5wcm90b3R5cGUuc2F2ZVVuZG9TdGVwPWZ1bmN0aW9uKCl7aWYoIXRoaXMudW5kb1N0YWNrKXJldHVybiExO2Zvcig7dGhpcy51bmRvU3RhY2subGVuZ3RoPnRoaXMudW5kb0luZGV4Oyl0aGlzLnVuZG9TdGFjay5wb3AoKTt2YXIgYT10aGlzLmdldEhUTUwoITAsITEsITEpO2lmKHRoaXMudW5kb1N0YWNrW3RoaXMudW5kb0luZGV4LTFdJiZ0aGlzLnJlbW92ZU1hcmtlcnNCeVJlZ2V4KHRoaXMudW5kb1N0YWNrW3RoaXMudW5kb0luZGV4LTFdKT09YSlyZXR1cm4hMTt2YXIgYj0hMTt0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJnRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpJiYodGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksYj0hMCksdGhpcy51bmRvU3RhY2sucHVzaCh0aGlzLmdldEhUTUwoITAsITEsITEpKSx0aGlzLnVuZG9JbmRleCsrLGImJnRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycyghMSksdGhpcy5yZWZyZXNoVW5kbygpLHRoaXMucmVmcmVzaFJlZG8oKX0sYi5wcm90b3R5cGUuc2hvcnRjdXRFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuc2hvcnRjdXRzQXZhaWxhYmxlLmluZGV4T2YoYSk+PTB9LGIucHJvdG90eXBlLnNob3J0Y3V0c19tYXA9ezcwOntjbWQ6InNob3ciLHBhcmFtczpbbnVsbF0saWQ6InNob3cifSw2OTp7Y21kOiJzaG93IixwYXJhbXM6W251bGxdLGlkOiJzaG93In0sNjY6e2NtZDoiZXhlYyIscGFyYW1zOlsiYm9sZCJdLGlkOiJib2xkIn0sNzM6e2NtZDoiZXhlYyIscGFyYW1zOlsiaXRhbGljIl0saWQ6Iml0YWxpYyJ9LDg1OntjbWQ6ImV4ZWMiLHBhcmFtczpbInVuZGVybGluZSJdLGlkOiJ1bmRlcmxpbmUifSw4Mzp7Y21kOiJleGVjIixwYXJhbXM6WyJzdHJpa2VUaHJvdWdoIl0saWQ6InN0cmlrZVRocm91Z2gifSw3NTp7Y21kOiJleGVjIixwYXJhbXM6WyJjcmVhdGVMaW5rIl0saWQ6ImNyZWF0ZUxpbmsifSw4MDp7Y21kOiJleGVjIixwYXJhbXM6WyJpbnNlcnRJbWFnZSJdLGlkOiJpbnNlcnRJbWFnZSJ9LDY1OntjbWQ6ImV4ZWMiLHBhcmFtczpbInNlbGVjdEFsbCJdLGlkOiJzZWxlY3RBbGwifSwyMjE6e2NtZDoiZXhlYyIscGFyYW1zOlsiaW5kZW50Il0saWQ6ImluZGVudCJ9LDIxOTp7Y21kOiJleGVjIixwYXJhbXM6WyJvdXRkZW50Il0saWQ6Im91dGRlbnQifSw3Mjp7Y21kOiJleGVjIixwYXJhbXM6WyJodG1sIl0saWQ6Imh0bWwifSw0ODp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsIm4iXSxpZDoiZm9ybWF0QmxvY2sgbiJ9LDQ5OntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDEiXSxpZDoiZm9ybWF0QmxvY2sgaDEifSw1MDp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImgyIl0saWQ6ImZvcm1hdEJsb2NrIGgyIn0sNTE6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoMyJdLGlkOiJmb3JtYXRCbG9jayBoMyJ9LDUyOntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDQiXSxpZDoiZm9ybWF0QmxvY2sgaDQifSw1Mzp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImg1Il0saWQ6ImZvcm1hdEJsb2NrIGg1In0sNTQ6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoNiJdLGlkOiJmb3JtYXRCbG9jayBoNiJ9LDIyMjp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImJsb2NrcXVvdGUiXSxpZDoiZm9ybWF0QmxvY2sgYmxvY2txdW90ZSJ9LDIyMDp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsInByZSJdLGlkOiJmb3JtYXRCbG9jayBwcmUifX0sYi5wcm90b3R5cGUuaW5pdFNob3J0Y3V0cz1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG9ydGN1dHMmJnRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaCxjPShhLmN0cmxLZXl8fGEubWV0YUtleSkmJiFhLmFsdEtleTsKaWYoIXRoaXMuaXNIVE1MJiZjKXtpZih0aGlzLnNob3J0Y3V0c19tYXBbYl0mJnRoaXMuc2hvcnRjdXRFbmFibGVkKHRoaXMuc2hvcnRjdXRzX21hcFtiXS5pZCkpcmV0dXJuIHRoaXMuZXhlY0RlZmF1bHRTaG9ydGN1dCh0aGlzLnNob3J0Y3V0c19tYXBbYl0uY21kLHRoaXMuc2hvcnRjdXRzX21hcFtiXS5wYXJhbXMpO2lmKDkwPT1iJiZhLnNoaWZ0S2V5KXJldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnJlZG8oKSwhMTtpZig5MD09YilyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy51bmRvKCksITF9fSx0aGlzKSl9LGIucHJvdG90eXBlLmluaXRUYWJzPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5vbigia2V5ZG93biIsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2lmKDkhPWJ8fGEuc2hpZnRLZXkpOT09YiYmYS5zaGlmdEtleSYmKHRoaXMucmFpc2VFdmVudCgic2hpZnQrdGFiIik/dGhpcy5vcHRpb25zLnRhYlNwYWNlcz9hLnByZXZlbnREZWZhdWx0KCk6dGhpcy5ibHVyKCk6YS5wcmV2ZW50RGVmYXVsdCgpKTtlbHNlIGlmKHRoaXMucmFpc2VFdmVudCgidGFiIikpaWYodGhpcy5vcHRpb25zLnRhYlNwYWNlcyl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPSImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiLGQ9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdOyJQUkUiPT09ZC50YWdOYW1lJiYoYz0iICAgICIpLHRoaXMuaW5zZXJ0SFRNTChjLCExKX1lbHNlIHRoaXMuYmx1cigpO2Vsc2UgYS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKSl9LGIucHJvdG90eXBlLnRleHRFbXB0eT1mdW5jdGlvbihiKXt2YXIgYz1hKGIpLnRleHQoKS5yZXBsYWNlKC8oXHJcbnxcbnxccnxcdCkvZ20sIiIpO3JldHVybigiIj09PWN8fGI9PT10aGlzLiRlbGVtZW50LmdldCgwKSkmJjA9PT1hKGIpLmZpbmQoImJyIikubGVuZ3RofSxiLnByb3RvdHlwZS5pbkVkaXRvcj1mdW5jdGlvbihhKXtmb3IoO2EmJiJCT0RZIiE9PWEudGFnTmFtZTspe2lmKGE9PT10aGlzLiRlbGVtZW50LmdldCgwKSlyZXR1cm4hMDthPWEucGFyZW50Tm9kZX1yZXR1cm4hMX0sYi5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oYil7aWYodm9pZCAwPT09YiYmKGI9ITApLCIiIT09dGhpcy50ZXh0KCkmJiF0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKSlyZXR1cm4gdm9pZCh0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy4kZWxlbWVudC5mb2N1cygpKTtpZighdGhpcy5pc0hUTUwpeyFifHx0aGlzLnBhc3Rpbmd8fHRoaXMuYnJvd3Nlci5tc2llfHx0aGlzLiRlbGVtZW50LmZvY3VzKCksdGhpcy5wYXN0aW5nJiYhdGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIikmJnRoaXMuJGVsZW1lbnQuZm9jdXMoKTt2YXIgYz10aGlzLmdldFJhbmdlKCk7aWYoIiI9PT10aGlzLnRleHQoKSYmYyYmKDA9PT1jLnN0YXJ0T2Zmc2V0fHxjLnN0YXJ0Q29udGFpbmVyPT09dGhpcy4kZWxlbWVudC5nZXQoMCl8fCF0aGlzLmluRWRpdG9yKGMuc3RhcnRDb250YWluZXIpKSl7dmFyIGQsZSxmPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTtpZihhLm1lcmdlKFsiSU1HIiwiQlIiXSx0aGlzLnZhbGlkX25vZGVzKS5pbmRleE9mKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLnRhZ05hbWUpPDApcmV0dXJuITE7aWYoYy5zdGFydE9mZnNldD4wJiZ0aGlzLnZhbGlkX25vZGVzLmluZGV4T2YodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50KCkudGFnTmFtZSk+PTB8fDM9PT1jLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlKXJldHVybiExO2lmKGYubGVuZ3RoPj0xJiZmWzBdIT09dGhpcy4kZWxlbWVudC5nZXQoMCkpZm9yKGQ9MDtkPGYubGVuZ3RoO2QrKylpZihlPWZbZF0sIXRoaXMudGV4dEVtcHR5KGUpfHx0aGlzLmJyb3dzZXIubXNpZSlyZXR1cm4gdm9pZCB0aGlzLnNldFNlbGVjdGlvbihlKTtpZihjLnN0YXJ0Q29udGFpbmVyPT09dGhpcy4kZWxlbWVudC5nZXQoMCkmJmMuc3RhcnRPZmZzZXQ+MCYmIXRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5KXJldHVybiB2b2lkIHRoaXMuc2V0U2VsZWN0aW9uKHRoaXMuJGVsZW1lbnQuZ2V0KDApLGMuc3RhcnRPZmZzZXQpO2ZvcihmPXRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSksZD0wO2Q8Zi5sZW5ndGg7ZCsrKWlmKGU9ZltkXSwhdGhpcy50ZXh0RW1wdHkoZSkmJjA9PT1hKGUpLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLnNldFNlbGVjdGlvbihlKTt0aGlzLnNldFNlbGVjdGlvbih0aGlzLiRlbGVtZW50LmdldCgwKSl9fX0sYi5wcm90b3R5cGUuYWRkTWFya2Vyc0F0RW5kPWZ1bmN0aW9uKGIpe3ZhciBjPWIuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwgIikpOzA9PT1jLmxlbmd0aCYmYy5wdXNoKGIuZ2V0KDApKTt2YXIgZD1jW2MubGVuZ3RoLTFdO2EoZCkuYXBwZW5kKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0idHJ1ZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicpfSxiLnByb3RvdHlwZS5zZXRGb2N1c0F0RW5kPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPXRoaXMuJGVsZW1lbnQpLHRoaXMuYWRkTWFya2Vyc0F0RW5kKGEpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpfSxiLnByb3RvdHlwZS5icmVha0hUTUw9ZnVuY3Rpb24oYil7dGhpcy5yZW1vdmVNYXJrZXJzKCksMD09PXRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5sZW5ndGgmJnRoaXMuaW5zZXJ0U2ltcGxlSFRNTCgiPGJyZWFrPjwvYnJlYWs+Iik7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLnBhcmVudHMoYS5tZXJnZShbIlVMIiwiT0wiXSx0aGlzLnZhbGlkX25vZGVzKS5qb2luKCIsIikpWzBdO2lmKGEoYykucGFyZW50cygidWwsIG9sIikubGVuZ3RoJiYoYz1hKGMpLnBhcmVudHMoInVsLCBvbCIpWzBdKSxbIlVMIiwiT0wiXS5pbmRleE9mKGMudGFnTmFtZSk+PTApe3ZhciBkPWEoIjxkaXY+IikuaHRtbChiKTtkLmZpbmQoIj4gbGkiKS53cmFwKCI8IitjLnRhZ05hbWUrIj4iKSxiPWQuaHRtbCgpfWlmKGM9PXRoaXMuJGVsZW1lbnQuZ2V0KDApKXJldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoImJyZWFrIikubmV4dCgpLmxlbmd0aD8odGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLm5leHQoKS5wcmVwZW5kKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0idHJ1ZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicpLHRoaXMuaW5zZXJ0U2ltcGxlSFRNTChiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSk6KHRoaXMuaW5zZXJ0U2ltcGxlSFRNTChiKSx0aGlzLnNldEZvY3VzQXRFbmQoKSksdGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLnJlbW92ZSgpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpLCEwO2lmKCJURCI9PT1jLnRhZ05hbWUpcmV0dXJuIHRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5yZW1vdmUoKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoYiksITA7dmFyIGU9YSgiPGRpdj4iKS5odG1sKGIpO2lmKHRoaXMuYWRkTWFya2Vyc0F0RW5kKGUpLGI9ZS5odG1sKCksdGhpcy5lbXB0eUVsZW1lbnQoYShjKSkpcmV0dXJuIGEoYykucmVwbGFjZVdpdGgoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5jaGVja1BsYWNlaG9sZGVyKCksITA7Zm9yKHZhciBmLGcsaD1hKCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChhKGMpLmNsb25lKCkpLmh0bWwoKSxpPVtdLGo9e30saz1bXSxsPTAsbT0wO208aC5sZW5ndGg7bSsrKWlmKGc9aC5jaGFyQXQobSksIjwiPT1nKXt2YXIgbj1oLmluZGV4T2YoIj4iLG0rMSk7aWYoLTEhPT1uKXtmPWguc3Vic3RyaW5nKG0sbisxKTt2YXIgbz10aGlzLnRhZ05hbWUoZik7aWYobT1uLCJicmVhayI9PW8pe2lmKCF0aGlzLmlzQ2xvc2luZ1RhZyhmKSl7Zm9yKHZhciBwPWkubGVuZ3RoLTE7cD49MDtwLS0pe3ZhciBxPXRoaXMudGFnTmFtZShpW3BdKTtrLnB1c2goIjwvIitxKyI+Iil9ay5wdXNoKGIpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWsucHVzaChpW3JdKX19ZWxzZSBpZihrLnB1c2goZiksIXRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhmKSlpZih0aGlzLmlzQ2xvc2luZ1RhZyhmKSl7dmFyIHM9altvXS5wb3AoKTtpLnNwbGljZShzLDEpfWVsc2UgaS5wdXNoKGYpLHZvaWQgMD09PWpbb10mJihqW29dPVtdKSxqW29dLnB1c2goaS5sZW5ndGgtMSl9fWVsc2UgbCsrLGsucHVzaChnKTthKGMpLnJlcGxhY2VXaXRoKGsuam9pbigiIikpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpfSxiLnByb3RvdHlwZS5pbnNlcnRTaW1wbGVIVE1MPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYodGhpcy5ub192ZXJpZnk9ITAsd2luZG93LmdldFNlbGVjdGlvbil7aWYoYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYi5nZXRSYW5nZUF0JiZiLnJhbmdlQ291bnQpe2M9Yi5nZXRSYW5nZUF0KDApLGMuZGVsZXRlQ29udGVudHMoKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmlubmVySFRNTD1hO2Zvcih2YXIgZSxmLGc9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2U9ZC5maXJzdENoaWxkOylmPWcuYXBwZW5kQ2hpbGQoZSk7Yy5pbnNlcnROb2RlKGcpLGYmJihjPWMuY2xvbmVSYW5nZSgpLGMuY29sbGFwc2UoITEpLGIucmVtb3ZlQWxsUmFuZ2VzKCksYi5hZGRSYW5nZShjKSl9fWVsc2UgaWYoKGI9ZG9jdW1lbnQuc2VsZWN0aW9uKSYmIkNvbnRyb2wiIT1iLnR5cGUpe3ZhciBoPWIuY3JlYXRlUmFuZ2UoKTtoLmNvbGxhcHNlKCEwKSxiLmNyZWF0ZVJhbmdlKCkucGFzdGVIVE1MKGEpLHNlbGVjdFBhc3RlZENvbnRlbnQmJihjPWIuY3JlYXRlUmFuZ2UoKSxjLnNldEVuZFBvaW50KCJTdGFydFRvU3RhcnQiLGgpLGMuc2VsZWN0KCkpfXRoaXMubm9fdmVyaWZ5PSExfSxiLnByb3RvdHlwZS5pbnNlcnRIVE1MPWZ1bmN0aW9uKGIsYyl7aWYodm9pZCAwPT09YyYmKGM9ITApLCF0aGlzLmlzSFRNTCYmYyYmdGhpcy5mb2N1cygpLHRoaXMucmVtb3ZlTWFya2VycygpLHRoaXMuaW5zZXJ0U2ltcGxlSFRNTCgiPGJyZWFrPjwvYnJlYWs+IiksdGhpcy5jaGVja1BsYWNlaG9sZGVyKCEwKSx0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIikpcmV0dXJuIHRoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy5zZXRGb2N1c0F0RW5kKCksdGhpcy5jaGVja1BsYWNlaG9sZGVyKCksITE7Zm9yKHZhciBkPWEoIjxkaXY+IikuYXBwZW5kKGIpLmZpbmQoIioiKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYodGhpcy52YWxpZF9ub2Rlcy5pbmRleE9mKGRbZV0udGFnTmFtZSk+PTApcmV0dXJuIHRoaXMuYnJlYWtIVE1MKGIpLHRoaXMuY2xlYW51cExpc3RzKCksITE7dGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLnJlbW92ZSgpLHRoaXMuaW5zZXJ0U2ltcGxlSFRNTChiKX0sYi5wcm90b3R5cGUuZXhlY0RlZmF1bHRTaG9ydGN1dD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzW2FdLmFwcGx5KHRoaXMsYiksITF9LGIucHJvdG90eXBlLmluaXRFZGl0b3I9ZnVuY3Rpb24oKXt2YXIgYz0iZnJvYWxhLWVkaXRvciI7dGhpcy5tb2JpbGUoKSYmKGMrPSIgdG91Y2giKSx0aGlzLmJyb3dzZXIubXNpZSYmYi5nZXRJRXZlcnNpb24oKTw5JiYoYys9IiBpZTgiKSx0aGlzLiRlZGl0b3I9YSgnPGRpdiBjbGFzcz0iJytjKyciIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+JyksYSgiYm9keSIpLmFwcGVuZCh0aGlzLiRlZGl0b3IpLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlP3RoaXMuaW5pdElubGluZUVkaXRvcigpOnRoaXMuaW5pdEJhc2ljRWRpdG9yKCl9LGIucHJvdG90eXBlLnJlZnJlc2hUb29sYmFyUG9zaXRpb249ZnVuY3Rpb24oKXthKHdpbmRvdykuc2Nyb2xsVG9wKCk+dGhpcy4kYm94Lm9mZnNldCgpLnRvcCYmYSh3aW5kb3cpLnNjcm9sbFRvcCgpPHRoaXMuJGJveC5vZmZzZXQoKS50b3ArdGhpcy4kYm94Lm91dGVySGVpZ2h0KCktdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCk/KHRoaXMuJGVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIsdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCkrdGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIpKSx0aGlzLiRwbGFjZWhvbGRlci5jc3MoIm1hcmdpbi10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kZWRpdG9yLmFkZENsYXNzKCJmLXNjcm9sbCIpLnJlbW92ZUNsYXNzKCJmLXNjcm9sbC1hYnMiKS5jc3MoImJvdHRvbSIsIiIpLmNzcygibGVmdCIsdGhpcy4kYm94Lm9mZnNldCgpLmxlZnQrcGFyc2VGbG9hdCh0aGlzLiRib3guY3NzKCJwYWRkaW5nLWxlZnQiKSwxMCktYSh3aW5kb3cpLnNjcm9sbExlZnQoKSkud2lkdGgodGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCktcGFyc2VGbG9hdCh0aGlzLiRlZGl0b3IuY3NzKCJib3JkZXItbGVmdC13aWR0aCIpLDEwKS1wYXJzZUZsb2F0KHRoaXMuJGVkaXRvci5jc3MoImJvcmRlci1yaWdodC13aWR0aCIpLDEwKSksdGhpcy5pT1MoKSYmKHRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpP3RoaXMuJGVkaXRvci5jc3MoInRvcCIsYSh3aW5kb3cpLnNjcm9sbFRvcCgpKTp0aGlzLiRlZGl0b3IuY3NzKCJ0b3AiLCIiKSkpOmEod2luZG93KS5zY3JvbGxUb3AoKTx0aGlzLiRib3gub2Zmc2V0KCkudG9wP3RoaXMuaU9TKCkmJnRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpPyh0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1zY3JvbGwiKS5yZW1vdmVDbGFzcygiZi1zY3JvbGwtYWJzIikuY3NzKCJib3R0b20iLCIiKS5jc3MoImxlZnQiLHRoaXMuJGJveC5vZmZzZXQoKS5sZWZ0K3BhcnNlRmxvYXQodGhpcy4kYm94LmNzcygicGFkZGluZy1sZWZ0IiksMTApLWEod2luZG93KS5zY3JvbGxMZWZ0KCkpLndpZHRoKHRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCgpLXBhcnNlRmxvYXQodGhpcy4kZWRpdG9yLmNzcygiYm9yZGVyLWxlZnQtd2lkdGgiKSwxMCktcGFyc2VGbG9hdCh0aGlzLiRlZGl0b3IuY3NzKCJib3JkZXItcmlnaHQtd2lkdGgiKSwxMCkpLHRoaXMuJGVkaXRvci5jc3MoInRvcCIsdGhpcy4kYm94Lm9mZnNldCgpLnRvcCkpOih0aGlzLiRlZGl0b3IucmVtb3ZlQ2xhc3MoImYtc2Nyb2xsIGYtc2Nyb2xsLWFicyIpLmNzcygiYm90dG9tIiwiIikuY3NzKCJ0b3AiLCIiKS53aWR0aCgiIiksdGhpcy4kZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIiwiIiksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIiwiIikpOmEod2luZG93KS5zY3JvbGxUb3AoKT50aGlzLiRib3gub2Zmc2V0KCkudG9wK3RoaXMuJGJveC5vdXRlckhlaWdodCgpLXRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpJiYhdGhpcy4kZWRpdG9yLmhhc0NsYXNzKCJmLXNjcm9sbC1hYnMiKSYmKHRoaXMuJGVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIsdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCkrdGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIpKSx0aGlzLiRwbGFjZWhvbGRlci5jc3MoIm1hcmdpbi10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kZWRpdG9yLnJlbW92ZUNsYXNzKCJmLXNjcm9sbCIpLmFkZENsYXNzKCJmLXNjcm9sbC1hYnMiKSx0aGlzLiRlZGl0b3IuY3NzKCJib3R0b20iLDApLmNzcygidG9wIiwiIikuY3NzKCJsZWZ0IiwiIikpfSxiLnByb3RvdHlwZS50b29sYmFyVG9wPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnRvb2xiYXJGaXhlZHx8dGhpcy5vcHRpb25zLmlubGluZU1vZGV8fCh0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIixwYXJzZUludCh0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiKSwxMCkpLGEod2luZG93KS5vbigic2Nyb2xsIHJlc2l6ZSBsb2FkIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoVG9vbGJhclBvc2l0aW9uKCl9LHRoaXMpKSx0aGlzLmlPUygpJiZ0aGlzLiRlbGVtZW50Lm9uKCJmb2N1cyBibHVyIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoVG9vbGJhclBvc2l0aW9uKCl9LHRoaXMpKSl9LGIucHJvdG90eXBlLmluaXRCYXNpY0VkaXRvcj1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtYmFzaWMiKSx0aGlzLiR3cmFwcGVyLmFkZENsYXNzKCJmLWJhc2ljIiksdGhpcy4kcG9wdXBfZWRpdG9yPXRoaXMuJGVkaXRvci5jbG9uZSgpLHRoaXMuJHBvcHVwX2VkaXRvci5hcHBlbmRUbyhhKCJib2R5IikpLmFkZENsYXNzKCJmLWlubGluZSIpLHRoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1iYXNpYyIpLnNob3coKSx0aGlzLiRlZGl0b3IuaW5zZXJ0QmVmb3JlKHRoaXMuJHdyYXBwZXIpLHRoaXMudG9vbGJhclRvcCgpfSxiLnByb3RvdHlwZS5pbml0SW5saW5lRWRpdG9yPWZ1bmN0aW9uKCl7dGhpcy4kZWRpdG9yLmFkZENsYXNzKCJmLWlubGluZSIpLHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtaW5saW5lIiksdGhpcy4kcG9wdXBfZWRpdG9yPXRoaXMuJGVkaXRvcn0sYi5wcm90b3R5cGUuaW5pdERyYWc9ZnVuY3Rpb24oKXt0aGlzLmRyYWdfc3VwcG9ydD17ZmlsZXJlYWRlcjoidW5kZWZpbmVkIiE9dHlwZW9mIEZpbGVSZWFkZXIsZm9ybWRhdGE6ISF3aW5kb3cuRm9ybURhdGEscHJvZ3Jlc3M6InVwbG9hZCJpbiBuZXcgWE1MSHR0cFJlcXVlc3R9fSxiLnByb3RvdHlwZS5pbml0T3B0aW9ucz1mdW5jdGlvbigpe3RoaXMuc2V0RGltZW5zaW9ucygpLHRoaXMuc2V0U3BlbGxjaGVjaygpLHRoaXMuc2V0SW1hZ2VVcGxvYWRVUkwoKSx0aGlzLnNldEJ1dHRvbnMoKSx0aGlzLnNldERpcmVjdGlvbigpLHRoaXMuc2V0VGV4dE5lYXJJbWFnZSgpLHRoaXMuc2V0WkluZGV4KCksdGhpcy5zZXRUaGVtZSgpLHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cCYmdGhpcy5idWlsZEVkaXRQb3B1cCgpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8KHRoaXMuc2V0UGxhY2Vob2xkZXIoKSx0aGlzLnNldFBsYWNlaG9sZGVyRXZlbnRzKCkpfSxiLnByb3RvdHlwZS5pc1RvdWNoPWZ1bmN0aW9uKCl7cmV0dXJuIFdZU0lXWUdNb2Rlcm5penIudG91Y2gmJnZvaWQgMCE9PXdpbmRvdy5Ub3VjaH0sYi5wcm90b3R5cGUuaW5pdEVkaXRvclNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleXVwIixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRyaWdnZXJFdmVudCgia2V5dXAiLFthXSwhMSl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJmb2N1cyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuYmx1cnJlZCYmKHRoaXMuYmx1cnJlZD0hMSx0aGlzLnBhc3Rpbmd8fCIiIT09dGhpcy50ZXh0KCl8fHRoaXMuZm9jdXMoITEpLHRoaXMudHJpZ2dlckV2ZW50KCJmb2N1cyIsW10sITEpKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biB0b3VjaHN0YXJ0IixhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKHRoaXMuaXNSZXNpemluZygpfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaGlkZSgpKSl9LHRoaXMpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZVJpZ2h0Q2xpY2smJnRoaXMuJGVsZW1lbnQuY29udGV4dG1lbnUoYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiZ0aGlzLiRlbGVtZW50LmZvY3VzKCksITF9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKHRoaXMubW91c2V1cCxhLnByb3h5KGZ1bmN0aW9uKGIpe2lmKHRoaXMuaXNEaXNhYmxlZClyZXR1cm4hMTtpZighdGhpcy5pc1Jlc2l6aW5nKCkpe3ZhciBjPXRoaXMudGV4dCgpO2Iuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5pbWFnZU1vZGU9ITEsISgiIiE9PWN8fHRoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fCgzPT1iLndoaWNofHwyPT1iLmJ1dHRvbikmJnRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYhdGhpcy5pc0ltYWdlJiZ0aGlzLm9wdGlvbnMuZGlzYWJsZVJpZ2h0Q2xpY2spfHx0aGlzLmxpbmt8fHRoaXMuaW1hZ2VNb2RlP3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLnJlZnJlc2hCdXR0b25zKCk6c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7Yz10aGlzLnRleHQoKSwhKCIiIT09Y3x8dGhpcy5vcHRpb25zLmFsd2F5c1Zpc2libGV8fHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cHx8KDM9PWIud2hpY2h8fDI9PWIuYnV0dG9uKSYmdGhpcy5vcHRpb25zLmlubGluZU1vZGUmJiF0aGlzLmlzSW1hZ2UmJnRoaXMub3B0aW9ucy5kaXNhYmxlUmlnaHRDbGljayl8fHRoaXMubGlua3x8dGhpcy5pbWFnZU1vZGV8fCh0aGlzLnNob3coYiksdGhpcy5vcHRpb25zLmVkaXRJblBvcHVwJiZ0aGlzLnNob3dFZGl0UG9wdXAoKSl9LHRoaXMpLDApfXRoaXMuaGlkZU90aGVyRWRpdG9ycygpfSx0aGlzKSksdGhpcy4kZWRpdG9yLm9uKHRoaXMubW91c2V1cCxhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLmlzUmVzaXppbmcoKXx8KGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmlubGluZU1vZGU9PT0hMSYmdGhpcy5oaWRlKCkpKX0sdGhpcykpLHRoaXMuJGVkaXRvci5vbigibW91c2Vkb3duIiwiLmZyLWRyb3Bkb3duLW1lbnUiLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTooYS5zdG9wUHJvcGFnYXRpb24oKSx2b2lkKHRoaXMubm9IaWRlPSEwKSl9LHRoaXMpKSx0aGlzLiRwb3B1cF9lZGl0b3Iub24oIm1vdXNlZG93biIsIi5mci1kcm9wZG93bi1tZW51IixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGEuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCh0aGlzLm5vSGlkZT0hMCkpfSx0aGlzKSksdGhpcy4kcG9wdXBfZWRpdG9yLm9uKCJtb3VzZXVwIixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLmlzUmVzaXppbmcoKXx8YS5zdG9wUHJvcGFnYXRpb24oKSl9LHRoaXMpKSx0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXImJnRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5vbigibW91c2V1cCIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCkpfSx0aGlzKSksdGhpcy5zZXREb2N1bWVudFNlbGVjdGlvbkNoYW5nZUV2ZW50KCksdGhpcy5zZXRXaW5kb3dNb3VzZVVwRXZlbnQoKSx0aGlzLnNldFdpbmRvd0tleURvd25FdmVudCgpLHRoaXMuc2V0V2luZG93S2V5VXBFdmVudCgpLHRoaXMuc2V0V2luZG93T3JpZW50YXRpb25DaGFuZ2VFdmVudCgpLHRoaXMuc2V0V2luZG93SGlkZUV2ZW50KCksdGhpcy5zZXRXaW5kb3dCbHVyRXZlbnQoKSx0aGlzLm9wdGlvbnMudHJhY2tTY3JvbGwmJnRoaXMuc2V0V2luZG93U2Nyb2xsRXZlbnQoKX0sYi5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbihiKXt0aGlzLmJsdXJyZWR8fHRoaXMucGFzdGluZ3x8KHRoaXMuc2VsZWN0aW9uRGlzYWJsZWQ9ITAsdGhpcy50cmlnZ2VyRXZlbnQoImJsdXIiLFtdKSxiJiYwPT09YSgiKjpmb2N1cyIpLmxlbmd0aCYmdGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2V8fCh0aGlzLnNlbGVjdGlvbkRpc2FibGVkPSExKSx0aGlzLmJsdXJyZWQ9ITApfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dCbHVyRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImJsdXIuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEsYil7dGhpcy5ibHVyKGIpfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFdpbmRvd0hpZGVFdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigiaGlkZS4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmlzUmVzaXppbmcoKT90aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1oYW5kbGUiKS50cmlnZ2VyKCJtb3ZlZW5kIik6dGhpcy5oaWRlKCExKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dPcmllbnRhdGlvbkNoYW5nZUV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKCJvcmllbnRhdGlvbmNoYW5nZS4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGUoKX0sdGhpcyksMTApfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldERvY3VtZW50U2VsZWN0aW9uQ2hhbmdlRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiRkb2N1bWVudC5vbigic2VsZWN0aW9uY2hhbmdlLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fHRoaXMuaXNTY3JvbGxpbmd8fChjbGVhclRpbWVvdXQodGhpcy5zZWxlY3Rpb25DaGFuZ2VkVGltZW91dCksdGhpcy5zZWxlY3Rpb25DaGFuZ2VkVGltZW91dD1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLmxpbmshPT0hMCYmdGhpcy5pc1RvdWNoKCkpe3ZhciBhPXRoaXMudGV4dCgpOyIiIT09YT8odGhpcy5pUG9kKCk/dGhpcy5vcHRpb25zLmFsd2F5c1Zpc2libGUmJnRoaXMuaGlkZSgpOnRoaXMuc2hvdyhudWxsKSxiLnN0b3BQcm9wYWdhdGlvbigpKTp0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZT90aGlzLnNob3cobnVsbCk6KHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSl9fSx0aGlzKSw3NSkpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dNb3VzZVVwRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24odGhpcy5tb3VzZXVwKyIuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMToodGhpcy5pc1Jlc2l6aW5nKCl8fHRoaXMuaXNTY3JvbGxpbmd8fCh0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiYnV0dG9uW2RhdGEtY21kXSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJiIiIT09dGhpcy50ZXh0KCkmJiF0aGlzLmlzVG91Y2goKT90aGlzLnNob3cobnVsbCk6dGhpcy4kcG9wdXBfZWRpdG9yLmlzKCI6dmlzaWJsZSIpJiYodGhpcy5oaWRlKCksdGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExKSx0aGlzLmJsdXIoITApKSx2b2lkIGEoIltkYXRhLWRvd25dIikucmVtb3ZlQXR0cigiZGF0YS1kb3duIikpfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFdpbmRvd0tleURvd25FdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigia2V5ZG93bi4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9Yi53aGljaDtpZih0aGlzLmltYWdlTW9kZSl7aWYoMTM9PWMpcmV0dXJuIHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudHMoIi5mLWltZy13cmFwIikuYmVmb3JlKCI8YnIvPiIpLHRoaXMuc3luYygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciBpbWciKS5jbGljaygpLCExO2lmKDQ2PT1jfHw4PT1jKXJldHVybiBiLnN0b3BQcm9wYWdhdGlvbigpLGIucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUltYWdlKHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpKX0sdGhpcyksMCksITF9ZWxzZSBpZih0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkpe2lmKHRoaXMuaXNEaXNhYmxlZClyZXR1cm4hMDt2YXIgZD0oYi5jdHJsS2V5fHxiLm1ldGFLZXkpJiYhYi5hbHRLZXk7IWQmJnRoaXMuJHBvcHVwX2VkaXRvci5pcygiOnZpc2libGUiKSYmKDI3PT1jfHx0aGlzLiRidHRuX3dyYXBwZXIuaXMoIjp2aXNpYmxlIikmJnRoaXMub3B0aW9ucy5pbmxpbmVNb2RlKSYmKHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSl9fSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFdpbmRvd0tleVVwRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImtleXVwLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJiIiIT09dGhpcy50ZXh0KCkmJiF0aGlzLiRwb3B1cF9lZGl0b3IuaXMoIjp2aXNpYmxlIikmJnRoaXMucmVwb3NpdGlvbkVkaXRvcigpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dTY3JvbGxFdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigic2Nyb2xsLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGNsZWFyVGltZW91dCh0aGlzLnNjcm9sbFRpbWVyKSx0aGlzLmlzU2Nyb2xsaW5nPSEwLHZvaWQodGhpcy5zY3JvbGxUaW1lcj1zZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmlzU2Nyb2xsaW5nPSExfSx0aGlzKSwyNTAwKSkpfSx0aGlzKSl9LGIucHJvdG90eXBlLnNldFRleHROZWFySW1hZ2U9ZnVuY3Rpb24oYSl7dm9pZCAwIT09YSYmKHRoaXMub3B0aW9ucy50ZXh0TmVhckltYWdlPWEpLHRoaXMub3B0aW9ucy50ZXh0TmVhckltYWdlPT09ITA/dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi10bmkiKTp0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLXRuaSIpfSxiLnByb3RvdHlwZS5zZXRQbGFjZWhvbGRlcj1mdW5jdGlvbihiKXtiJiYodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyPWIpLHRoaXMuJHRleHRhcmVhJiZ0aGlzLiR0ZXh0YXJlYS5hdHRyKCJwbGFjZWhvbGRlciIsdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKSx0aGlzLiRwbGFjZWhvbGRlcnx8KHRoaXMuJHBsYWNlaG9sZGVyPWEoJzxzcGFuIGNsYXNzPSJmci1wbGFjZWhvbGRlciI+PC9zcGFuPicpLmJpbmQoImNsaWNrIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5hZnRlcih0aGlzLiRwbGFjZWhvbGRlcikpLHRoaXMuJHBsYWNlaG9sZGVyLnRleHQodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKX0sYi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3ZhciBiPXRoaXMuJGVsZW1lbnQudGV4dCgpLnJlcGxhY2UoLyhcclxufFxufFxyfFx0fFx1MjAwQnxcdTAwMjApL2dtLCIiKTtyZXR1cm4iIj09PWImJjA9PT10aGlzLiRlbGVtZW50LmZpbmQoImltZywgdGFibGUsIGlmcmFtZSwgaW5wdXQsIGhyIikubGVuZ3RoJiYwPT09dGhpcy4kZWxlbWVudC5maW5kKCJwID4gYnIsIGRpdiA+IGJyIikubGVuZ3RoJiYwPT09dGhpcy4kZWxlbWVudC5maW5kKGEubWFwKHRoaXMudmFsaWRfbm9kZXMsZnVuY3Rpb24oYSl7cmV0dXJuWyJQLCBESVYiXS5pbmRleE9mKGEpPj0wP251bGw6YX0pLmpvaW4oIiwgIikpLmxlbmd0aH0sYi5wcm90b3R5cGUuY2hlY2tQbGFjZWhvbGRlcj1mdW5jdGlvbihiKXtpZih0aGlzLmlzRGlzYWJsZWQmJiFiKXJldHVybiExO2lmKHRoaXMucGFzdGluZyYmIWIpcmV0dXJuITE7aWYodGhpcy4kZWxlbWVudC5maW5kKCJ0ZDplbXB0eSwgdGg6ZW1wdHkiKS5hcHBlbmQoIjwvYnI+IiksdGhpcy5icm93c2VyLm1zaWV8fHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIjplbXB0eSwgIikrIjplbXB0eSIpLnJlbW92ZSgpLCF0aGlzLmlzSFRNTClpZih0aGlzLmlzRW1wdHkoKSYmIXRoaXMuZmFrZUVtcHR5KCkpe3ZhciBjLGQ9dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpfHx0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKTt0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT8oYz1hKCI8cD48YnIvPjwvcD4iKSx0aGlzLiRlbGVtZW50Lmh0bWwoYyksZCYmdGhpcy5zZXRTZWxlY3Rpb24oYy5nZXQoMCkpLHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtcGxhY2Vob2xkZXIiKSk6KDA9PT10aGlzLiRlbGVtZW50LmZpbmQoImJyIikubGVuZ3RoJiZ0aGlzLiRlbGVtZW50LmFwcGVuZCgiPGJyLz4iKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLXBsYWNlaG9sZGVyIikpfWVsc2UhdGhpcy4kZWxlbWVudC5maW5kKCJwIikubGVuZ3RoJiZ0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT8odGhpcy53cmFwVGV4dCghMCksdGhpcy4kZWxlbWVudC5maW5kKCJwIikubGVuZ3RoJiYiIj09PXRoaXMudGV4dCgpP3RoaXMuc2V0U2VsZWN0aW9uKHRoaXMuJGVsZW1lbnQuZmluZCgicCIpWzBdLHRoaXMuJGVsZW1lbnQuZmluZCgicCIpLnRleHQoKS5sZW5ndGgsbnVsbCx0aGlzLiRlbGVtZW50LmZpbmQoInAiKS50ZXh0KCkubGVuZ3RoKTp0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLXBsYWNlaG9sZGVyIikpOnRoaXMuZmFrZUVtcHR5KCk9PT0hMXx8dGhpcy4kZWxlbWVudC5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKS5sZW5ndGg+MT90aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLXBsYWNlaG9sZGVyIik6dGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1wbGFjZWhvbGRlciIpO3JldHVybiEwfSxiLnByb3RvdHlwZS5mYWtlRW1wdHk9ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9dGhpcy4kZWxlbWVudCk7dmFyIGI9YS50ZXh0KCkucmVwbGFjZSgvKFxyXG58XG58XHJ8XHR8XHUyMDBCKS9nbSwiIik7cmV0dXJuIiI9PT1iJiYxPT1hLmZpbmQoInAsIGRpdiIpLmxlbmd0aCYmMT09YS5maW5kKCJwID4gYnIsIGRpdiA+IGJyIikubGVuZ3RoJiYwPT09YS5maW5kKCJpbWcsIHRhYmxlLCBpZnJhbWUsIGlucHV0LCBociIpLmxlbmd0aH0sYi5wcm90b3R5cGUuc2V0UGxhY2Vob2xkZXJFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLmJyb3dzZXIubXNpZSYmYi5nZXRJRXZlcnNpb24oKTw5fHwodGhpcy4kZWxlbWVudC5vbigiZm9jdXMiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQoIiIhPT10aGlzLiRlbGVtZW50LnRleHQoKXx8dGhpcy5wYXN0aW5nfHx0aGlzLmZvY3VzKCExKSl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCBrZXlkb3duIGZvY3VzIHBsYWNlaG9sZGVyQ2hlY2siLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja1BsYWNlaG9sZGVyKCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSl9LGIucHJvdG90eXBlLnNldERpbWVuc2lvbnM9ZnVuY3Rpb24oYSxiLGMsZCl7YSYmKHRoaXMub3B0aW9ucy5oZWlnaHQ9YSksYiYmKHRoaXMub3B0aW9ucy53aWR0aD1iKSxjJiYodGhpcy5vcHRpb25zLm1pbkhlaWdodD1jKSxkJiYodGhpcy5vcHRpb25zLm1heEhlaWdodD1kKSwiYXV0byIhPXRoaXMub3B0aW9ucy5oZWlnaHQmJnRoaXMuJGVsZW1lbnQuY3NzKCJoZWlnaHQiLHRoaXMub3B0aW9ucy5oZWlnaHQpLCJhdXRvIiE9dGhpcy5vcHRpb25zLm1pbkhlaWdodCYmdGhpcy4kZWxlbWVudC5jc3MoIm1pbkhlaWdodCIsdGhpcy5vcHRpb25zLm1pbkhlaWdodCksImF1dG8iIT10aGlzLm9wdGlvbnMubWF4SGVpZ2h0JiZ0aGlzLiRlbGVtZW50LmNzcygibWF4SGVpZ2h0Iix0aGlzLm9wdGlvbnMubWF4SGVpZ2h0KSwiYXV0byIhPXRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy4kYm94LmNzcygid2lkdGgiLHRoaXMub3B0aW9ucy53aWR0aCl9LGIucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmRpcmVjdGlvbj1hKSwibHRyIiE9dGhpcy5vcHRpb25zLmRpcmVjdGlvbiYmInJ0bCIhPXRoaXMub3B0aW9ucy5kaXJlY3Rpb24mJih0aGlzLm9wdGlvbnMuZGlyZWN0aW9uPSJsdHIiKSwicnRsIj09dGhpcy5vcHRpb25zLmRpcmVjdGlvbj8odGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1ydGwiKSx0aGlzLiRlZGl0b3IuYWRkQ2xhc3MoImYtcnRsIiksdGhpcy4kcG9wdXBfZWRpdG9yLmFkZENsYXNzKCJmLXJ0bCIpLHRoaXMuJGltYWdlX21vZGFsJiZ0aGlzLiRpbWFnZV9tb2RhbC5hZGRDbGFzcygiZi1ydGwiKSk6KHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImYtcnRsIiksdGhpcy4kZWRpdG9yLnJlbW92ZUNsYXNzKCJmLXJ0bCIpLHRoaXMuJHBvcHVwX2VkaXRvci5yZW1vdmVDbGFzcygiZi1ydGwiKSx0aGlzLiRpbWFnZV9tb2RhbCYmdGhpcy4kaW1hZ2VfbW9kYWwucmVtb3ZlQ2xhc3MoImYtcnRsIikpfSxiLnByb3RvdHlwZS5zZXRaSW5kZXg9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy56SW5kZXg9YSksdGhpcy4kZWRpdG9yLmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCsxKSx0aGlzLiRvdmVybGF5JiZ0aGlzLiRvdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCsyKSx0aGlzLiRpbWFnZV9tb2RhbCYmdGhpcy4kaW1hZ2VfbW9kYWwuY3NzKCJ6LWluZGV4Iix0aGlzLm9wdGlvbnMuekluZGV4KzMpfSxiLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLnRoZW1lPWEpLG51bGwhPXRoaXMub3B0aW9ucy50aGVtZSYmKHRoaXMuJGVkaXRvci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpLHRoaXMuJHBvcHVwX2VkaXRvci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpLHRoaXMuJGJveCYmdGhpcy4kYm94LmFkZENsYXNzKHRoaXMub3B0aW9ucy50aGVtZSsiLXRoZW1lIiksdGhpcy4kaW1hZ2VfbW9kYWwmJnRoaXMuJGltYWdlX21vZGFsLmFkZENsYXNzKHRoaXMub3B0aW9ucy50aGVtZSsiLXRoZW1lIikpfSxiLnByb3RvdHlwZS5zZXRTcGVsbGNoZWNrPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEmJih0aGlzLm9wdGlvbnMuc3BlbGxjaGVjaz1hKSx0aGlzLiRlbGVtZW50LmF0dHIoInNwZWxsY2hlY2siLHRoaXMub3B0aW9ucy5zcGVsbGNoZWNrKX0sYi5wcm90b3R5cGUuY3VzdG9taXplVGV4dD1mdW5jdGlvbihiKXtpZihiKXt2YXIgYz10aGlzLiRlZGl0b3IuZmluZCgiW3RpdGxlXSIpLmFkZCh0aGlzLiRwb3B1cF9lZGl0b3IuZmluZCgiW3RpdGxlXSIpKTt0aGlzLiRpbWFnZV9tb2RhbCYmKGM9Yy5hZGQodGhpcy4kaW1hZ2VfbW9kYWwuZmluZCgiW3RpdGxlXSIpKSksYy5lYWNoKGEucHJveHkoZnVuY3Rpb24oYyxkKXtmb3IodmFyIGUgaW4gYilhKGQpLmF0dHIoInRpdGxlIikudG9Mb3dlckNhc2UoKT09ZS50b0xvd2VyQ2FzZSgpJiZhKGQpLmF0dHIoInRpdGxlIixiW2VdKX0sdGhpcykpLGM9dGhpcy4kZWRpdG9yLmZpbmQoJ1tkYXRhLXRleHQ9InRydWUiXScpLmFkZCh0aGlzLiRwb3B1cF9lZGl0b3IuZmluZCgnW2RhdGEtdGV4dD0idHJ1ZSJdJykpLHRoaXMuJGltYWdlX21vZGFsJiYoYz1jLmFkZCh0aGlzLiRpbWFnZV9tb2RhbC5maW5kKCdbZGF0YS10ZXh0PSJ0cnVlIl0nKSkpLGMuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBlIGluIGIpYShkKS50ZXh0KCkudG9Mb3dlckNhc2UoKT09ZS50b0xvd2VyQ2FzZSgpJiZhKGQpLnRleHQoYltlXSl9LHRoaXMpKX19LGIucHJvdG90eXBlLnNldExhbmd1YWdlPWZ1bmN0aW9uKGIpe3ZvaWQgMCE9PWImJih0aGlzLm9wdGlvbnMubGFuZ3VhZ2U9YiksYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdJiYodGhpcy5jdXN0b21pemVUZXh0KGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS50cmFuc2xhdGlvbiksYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLmRpcmVjdGlvbiYmdGhpcy5zZXREaXJlY3Rpb24oYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLmRpcmVjdGlvbiksYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLnRyYW5zbGF0aW9uW3RoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl0mJnRoaXMuc2V0UGxhY2Vob2xkZXIoYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLnRyYW5zbGF0aW9uW3RoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl0pKX0sYi5wcm90b3R5cGUuc2V0Q3VzdG9tVGV4dD1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmN1c3RvbVRleHQ9YSksdGhpcy5vcHRpb25zLmN1c3RvbVRleHQmJnRoaXMuY3VzdG9taXplVGV4dCh0aGlzLm9wdGlvbnMuY3VzdG9tVGV4dCl9LGIucHJvdG90eXBlLmV4ZWNIVE1MPWZ1bmN0aW9uKCl7dGhpcy5odG1sKCl9LGIucHJvdG90eXBlLmluaXRIVE1MQXJlYT1mdW5jdGlvbigpe3RoaXMuJGh0bWxfYXJlYT1hKCc8dGV4dGFyZWEgd3JhcD0iaGFyZCI+Jykua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYz1iLmtleUNvZGV8fGIud2hpY2g7aWYoOT09Yyl7Yi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBkPWEodGhpcykuZ2V0KDApLnNlbGVjdGlvblN0YXJ0LGU9YSh0aGlzKS5nZXQoMCkuc2VsZWN0aW9uRW5kO2EodGhpcykudmFsKGEodGhpcykudmFsKCkuc3Vic3RyaW5nKDAsZCkrIgkiK2EodGhpcykudmFsKCkuc3Vic3RyaW5nKGUpKSxhKHRoaXMpLmdldCgwKS5zZWxlY3Rpb25TdGFydD1hKHRoaXMpLmdldCgwKS5zZWxlY3Rpb25FbmQ9ZCsxfX0pLmZvY3VzKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmJsdXJyZWQmJih0aGlzLmJsdXJyZWQ9ITEsdGhpcy50cmlnZ2VyRXZlbnQoImZvY3VzIixbXSwhMSkpfSx0aGlzKSkubW91c2V1cChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5ibHVycmVkJiYodGhpcy5ibHVycmVkPSExLHRoaXMudHJpZ2dlckV2ZW50KCJmb2N1cyIsW10sITEpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jb21tYW5kX2Rpc3BhdGNoZXI9e2FsaWduOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGREcm9wZG93bkFsaWduKGEpLGM9dGhpcy5idWlsZERyb3Bkb3duQnV0dG9uKGEsYik7cmV0dXJuIGN9LGZvcm1hdEJsb2NrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGREcm9wZG93bkZvcm1hdEJsb2NrKGEpLGM9dGhpcy5idWlsZERyb3Bkb3duQnV0dG9uKGEsYik7cmV0dXJuIGN9LGh0bWw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5idWlsZERlZmF1bHRCdXR0b24oYik7cmV0dXJuIHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiZ0aGlzLiRib3guYXBwZW5kKGEoYykuY2xvbmUoITApLmFkZENsYXNzKCJodG1sLXN3aXRjaCIpLmF0dHIoInRpdGxlIiwiSGlkZSBIVE1MIikuY2xpY2soYS5wcm94eSh0aGlzLmV4ZWNIVE1MLHRoaXMpKSksdGhpcy5pbml0SFRNTEFyZWEoKSxjfX0sYi5wcm90b3R5cGUuc2V0QnV0dG9ucz1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmJ1dHRvbnM9YSksdGhpcy4kZWRpdG9yLmFwcGVuZCgnPGRpdiBjbGFzcz0iYnR0bi13cmFwcGVyIiBpZD0iYnR0bi13cmFwcGVyLScrdGhpcy5faWQrJyI+JyksdGhpcy4kYnR0bl93cmFwcGVyPXRoaXMuJGVkaXRvci5maW5kKCIjYnR0bi13cmFwcGVyLSIrdGhpcy5faWQpLHRoaXMubW9iaWxlKCkmJnRoaXMuJGJ0dG5fd3JhcHBlci5hZGRDbGFzcygidG91Y2giKTtmb3IodmFyIGMsZCxlPSIiLGY9MDtmPHRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMub3B0aW9ucy5idXR0b25zW2ZdO2lmKCJzZXAiIT1nKXt2YXIgaD1iLmNvbW1hbmRzW2ddO2lmKHZvaWQgMCE9PWgpe2guY21kPWc7dmFyIGk9dGhpcy5jb21tYW5kX2Rpc3BhdGNoZXJbaC5jbWRdO2k/ZSs9aS5hcHBseSh0aGlzLFtoXSk6aC5zZWVkPyhjPXRoaXMuYnVpbGREZWZhdWx0RHJvcGRvd24oaCksZD10aGlzLmJ1aWxkRHJvcGRvd25CdXR0b24oaCxjKSxlKz1kKTooZD10aGlzLmJ1aWxkRGVmYXVsdEJ1dHRvbihoKSxlKz1kLHRoaXMuYmluZFJlZnJlc2hMaXN0ZW5lcihoKSl9ZWxzZXtpZihoPXRoaXMub3B0aW9ucy5jdXN0b21CdXR0b25zW2ddLHZvaWQgMD09PWgpe2lmKGg9dGhpcy5vcHRpb25zLmN1c3RvbURyb3Bkb3duc1tnXSx2b2lkIDA9PT1oKWNvbnRpbnVlO2Q9dGhpcy5idWlsZEN1c3RvbURyb3Bkb3duKGgsZyksZSs9ZCx0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoaCk7Y29udGludWV9ZD10aGlzLmJ1aWxkQ3VzdG9tQnV0dG9uKGgsZyksZSs9ZCx0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoaCl9fWVsc2UgZSs9dGhpcy5vcHRpb25zLmlubGluZU1vZGU/JzxkaXYgY2xhc3M9ImYtY2xlYXIiPjwvZGl2Pjxoci8+JzonPHNwYW4gY2xhc3M9ImYtc2VwIj48L3NwYW4+J310aGlzLiRidHRuX3dyYXBwZXIuaHRtbChlKSx0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnYnV0dG9uW2RhdGEtY21kPSJ1bmRvIl0sIGJ1dHRvbltkYXRhLWNtZD0icmVkbyJdJykucHJvcCgiZGlzYWJsZWQiLCEwKSx0aGlzLmJpbmRCdXR0b25FdmVudHMoKX0sYi5wcm90b3R5cGUuYmluZFJlZnJlc2hMaXN0ZW5lcj1mdW5jdGlvbihiKXtiLnJlZnJlc2gmJnRoaXMuYWRkTGlzdGVuZXIoInJlZnJlc2giLGEucHJveHkoZnVuY3Rpb24oKXtiLnJlZnJlc2guYXBwbHkodGhpcyxbYi5jbWRdKX0sdGhpcykpfSxiLnByb3RvdHlwZS5idWlsZERlZmF1bHRCdXR0b249ZnVuY3Rpb24oYSl7dmFyIGI9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iZnItYnR0biIgdGl0bGU9IicrYS50aXRsZSsnIiBkYXRhLWNtZD0iJythLmNtZCsnIj4nO3JldHVybiBiKz12b2lkIDA9PT10aGlzLm9wdGlvbnMuaWNvbnNbYS5jbWRdP3RoaXMuYWRkQnV0dG9uSWNvbihhKTp0aGlzLnByZXBhcmVJY29uKHRoaXMub3B0aW9ucy5pY29uc1thLmNtZF0sYS50aXRsZSksYis9IjwvYnV0dG9uPiJ9LGIucHJvdG90eXBlLnByZXBhcmVJY29uPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEudHlwZSl7Y2FzZSJmb250IjpyZXR1cm4gdGhpcy5hZGRCdXR0b25JY29uKHtpY29uOmEudmFsdWV9KTtjYXNlImltZyI6cmV0dXJuIHRoaXMuYWRkQnV0dG9uSWNvbih7aWNvbl9pbWc6YS52YWx1ZSx0aXRsZTpifSk7Y2FzZSJ0eHQiOnJldHVybiB0aGlzLmFkZEJ1dHRvbkljb24oe2ljb25fdHh0OmEudmFsdWV9KX19LGIucHJvdG90eXBlLmFkZEJ1dHRvbkljb249ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWNvbj8nPGkgY2xhc3M9IicrYS5pY29uKyciPjwvaT4nOmEuaWNvbl9hbHQ/JzxpIGNsYXNzPSJmb3ItdGV4dCI+JythLmljb25fYWx0KyI8L2k+IjphLmljb25faW1nPyc8aW1nIHNyYz0iJythLmljb25faW1nKyciIGFsdD0iJythLnRpdGxlKyciLz4nOmEuaWNvbl90eHQ/IjxpPiIrYS5pY29uX3R4dCsiPC9pPiI6YS50aXRsZX0sYi5wcm90b3R5cGUuYnVpbGRDdXN0b21CdXR0b249ZnVuY3Rpb24oYSxiKXt0aGlzWyJjYWxsXyIrYl09YS5jYWxsYmFjazt2YXIgYz0nPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJmci1idHRuIiBkYXRhLWNhbGxiYWNrPSJjYWxsXycrYisnIiBkYXRhLWNtZD0iYnV0dG9uX25hbWUiIGRhdGEtbmFtZT0iJytiKyciIHRpdGxlPSInK2EudGl0bGUrJyI+Jyt0aGlzLnByZXBhcmVJY29uKGEuaWNvbixhLnRpdGxlKSsiPC9idXR0b24+IjtyZXR1cm4gY30sYi5wcm90b3R5cGUuY2FsbERyb3Bkb3duPWZ1bmN0aW9uKGIsYyl7dGhpcy4kYnR0bl93cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsJ1tkYXRhLW5hbWU9IicrYisnIl0nLGEucHJveHkoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksYy5hcHBseSh0aGlzKX0sdGhpcykpfSxiLnByb3RvdHlwZS5idWlsZEN1c3RvbURyb3Bkb3duPWZ1bmN0aW9uKGEsYil7dmFyIGM9JzxkaXYgY2xhc3M9ImZyLWJ0dG4gZnItZHJvcGRvd24iPic7Yys9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iZnItdHJpZ2dlciIgdGl0bGU9IicrYS50aXRsZSsnIiBkYXRhLW5hbWU9IicrYisnIj4nK3RoaXMucHJlcGFyZUljb24oYS5pY29uLGEudGl0bGUpKyI8L2J1dHRvbj4iLGMrPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUiPic7dmFyIGQ9MDtmb3IodmFyIGUgaW4gYS5vcHRpb25zKXt0aGlzWyJjYWxsXyIrYitkXT1hLm9wdGlvbnNbZV07dmFyIGY9JzxsaSBkYXRhLWNhbGxiYWNrPSJjYWxsXycrYitkKyciIGRhdGEtY21kPSInK2IrZCsnIiBkYXRhLW5hbWU9IicrYitkKyciPjxhIGhyZWY9IiMiPicrZSsiPC9hPjwvbGk+IjtjKz1mLGQrK31yZXR1cm4gYys9IjwvdWw+PC9kaXY+In0sYi5wcm90b3R5cGUuYnVpbGREcm9wZG93bkJ1dHRvbj1mdW5jdGlvbihhLGIsYyl7Yz1jfHwiIjt2YXIgZD0nPGRpdiBjbGFzcz0iZnItYnR0biBmci1kcm9wZG93biAnK2MrJyI+JyxlPSIiO2UrPXZvaWQgMD09PXRoaXMub3B0aW9ucy5pY29uc1thLmNtZF0/dGhpcy5hZGRCdXR0b25JY29uKGEpOnRoaXMucHJlcGFyZUljb24odGhpcy5vcHRpb25zLmljb25zW2EuY21kXSxhLnRpdGxlKTt2YXIgZj0nPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbmFtZT0iJythLmNtZCsnIiBjbGFzcz0iZnItdHJpZ2dlciIgdGl0bGU9IicrYS50aXRsZSsnIj4nK2UrIjwvYnV0dG9uPiI7cmV0dXJuIGQrPWYsZCs9YixkKz0iPC9kaXY+In0sYi5wcm90b3R5cGUuYnVpbGREcm9wZG93bkFsaWduPWZ1bmN0aW9uKGEpe3RoaXMuYmluZFJlZnJlc2hMaXN0ZW5lcihhKTtmb3IodmFyIGI9Jzx1bCBjbGFzcz0iZnItZHJvcGRvd24tbWVudSBmLWFsaWduIj4nLGM9MDtjPGEuc2VlZC5sZW5ndGg7YysrKXt2YXIgZD1hLnNlZWRbY107Yis9JzxsaSBkYXRhLWNtZD0iYWxpZ24iIGRhdGEtdmFsPSInK2QuY21kKyciIHRpdGxlPSInK2QudGl0bGUrJyI+PGEgaHJlZj0iIyI+PGkgY2xhc3M9IicrZC5pY29uKyciPjwvaT48L2E+PC9saT4nfXJldHVybiBiKz0iPC91bD4ifSxiLnByb3RvdHlwZS5idWlsZERyb3Bkb3duRm9ybWF0QmxvY2s9ZnVuY3Rpb24oYSl7dmFyIGI9Jzx1bCBjbGFzcz0iZnItZHJvcGRvd24tbWVudSI+Jztmb3IodmFyIGMgaW4gdGhpcy5vcHRpb25zLmJsb2NrVGFncyl7dmFyIGQ9JzxsaSBkYXRhLWNtZD0iJythLmNtZCsnIiBkYXRhLXZhbD0iJytjKyciPic7ZCs9JzxhIGhyZWY9IiMiIGRhdGEtdGV4dD0idHJ1ZSIgY2xhc3M9ImZvcm1hdC0nK2MrJyIgdGl0bGU9IicrdGhpcy5vcHRpb25zLmJsb2NrVGFnc1tjXSsnIj4nK3RoaXMub3B0aW9ucy5ibG9ja1RhZ3NbY10rIjwvYT48L2xpPiIsYis9ZH1yZXR1cm4gYis9IjwvdWw+In0sYi5wcm90b3R5cGUuYnVpbGREZWZhdWx0RHJvcGRvd249ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUiPicsYz0wO2M8YS5zZWVkLmxlbmd0aDtjKyspe3ZhciBkPWEuc2VlZFtjXSxlPSc8bGkgZGF0YS1jbWQ9IicrKGQuY21kfHxhLmNtZCkrJyIgZGF0YS12YWw9IicrZC52YWx1ZSsnIiBkYXRhLXBhcmFtPSInKyhkLnBhcmFtfHxhLnBhcmFtKSsnIj4nO2UrPSc8YSBocmVmPSIjIiBkYXRhLXRleHQ9InRydWUiIGNsYXNzPSInK2QudmFsdWUrJyIgdGl0bGU9IicrZC50aXRsZSsnIj4nK2QudGl0bGUrIjwvYT48L2xpPiIsYis9ZX1yZXR1cm4gYis9IjwvdWw+In0sYi5wcm90b3R5cGUuY3JlYXRlRWRpdFBvcHVwSFRNTD1mdW5jdGlvbigpe3ZhciBhPSc8ZGl2IGNsYXNzPSJmcm9hbGEtcG9wdXAgZnJvYWxhLXRleHQtcG9wdXAiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4nO3JldHVybiBhKz0nPGg0PjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+RWRpdCB0ZXh0PC9zcGFuPjxpIHRpdGxlPSJDYW5jZWwiIGNsYXNzPSJmYSBmYS10aW1lcyIgaWQ9ImYtdGV4dC1jbG9zZS0nK3RoaXMuX2lkKyciPjwvaT48L2g0PjwvaDQ+JyxhKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9Imh0dHA6Ly93d3cuZXhhbXBsZS5jb20iIGNsYXNzPSJmLWx1IiBpZD0iZi10aS0nK3RoaXMuX2lkKyciPicsYSs9JzxidXR0b24gZGF0YS10ZXh0PSJ0cnVlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJmLW9rIiBpZD0iZi1lZGl0LXBvcHVwLW9rLScrdGhpcy5faWQrJyI+T0s8L2J1dHRvbj4nLGErPSI8L2Rpdj4iLGErPSI8L2Rpdj4ifSxiLnByb3RvdHlwZS5idWlsZEVkaXRQb3B1cD1mdW5jdGlvbigpe3RoaXMuJGVkaXRfcG9wdXBfd3JhcHBlcj1hKHRoaXMuY3JlYXRlRWRpdFBvcHVwSFRNTCgpKSx0aGlzLiRwb3B1cF9lZGl0b3IuYXBwZW5kKHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlciksdGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLmZpbmQoIiNmLXRpLSIrdGhpcy5faWQpLm9uKCJtb3VzZXVwIGtleWRvd24iLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLmFkZExpc3RlbmVyKCJoaWRlUG9wdXBzIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLmhpZGUoKX0sdGhpcykpLHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5vbigiY2xpY2siLCIjZi1lZGl0LXBvcHVwLW9rLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQudGV4dCh0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIuZmluZCgiI2YtdGktIit0aGlzLl9pZCkudmFsKCkpLHRoaXMuc3luYygpLHRoaXMuaGlkZSgpfSx0aGlzKSksdGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLm9uKCJjbGljayIsImkjZi10ZXh0LWNsb3NlLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaGlkZSgpfSx0aGlzKSl9LGIucHJvdG90eXBlLmNyZWF0ZUNPUlNSZXF1ZXN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKCJ3aXRoQ3JlZGVudGlhbHMiaW4gYyl7Yy5vcGVuKGEsYiwhMCksdGhpcy5vcHRpb25zLndpdGhDcmVkZW50aWFscyYmKGMud2l0aENyZWRlbnRpYWxzPSEwKTtmb3IodmFyIGQgaW4gdGhpcy5vcHRpb25zLmhlYWRlcnMpYy5zZXRSZXF1ZXN0SGVhZGVyKGQsdGhpcy5vcHRpb25zLmhlYWRlcnNbZF0pfWVsc2UidW5kZWZpbmVkIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0PyhjPW5ldyBYRG9tYWluUmVxdWVzdCxjLm9wZW4oYSxiKSk6Yz1udWxsO3JldHVybiBjfSxiLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5BcnJheShiLHRoaXMub3B0aW9ucy5idXR0b25zKT49MH0sYi5wcm90b3R5cGUuYmluZEJ1dHRvbkV2ZW50cz1mdW5jdGlvbigpe3RoaXMuYmluZERyb3Bkb3duRXZlbnRzKCksdGhpcy5iaW5kQ29tbWFuZEV2ZW50cyh0aGlzLiRidHRuX3dyYXBwZXIpfSxiLnByb3RvdHlwZS5iaW5kRHJvcGRvd25FdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz10aGlzO3RoaXMuJGJ0dG5fd3JhcHBlci5vbih0aGlzLm1vdXNlZG93biwiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyOm5vdChbZGlzYWJsZWRdKSIsZnVuY3Rpb24oYil7cmV0dXJuIm1vdXNlZG93biI9PT1iLnR5cGUmJjEhPT1iLndoaWNoPyEwOigiTEkiPT09dGhpcy50YWdOYW1lJiYidG91Y2hzdGFydCI9PT1iLnR5cGUmJmMuYW5kcm9pZCgpfHxjLmlPUygpfHxiLnByZXZlbnREZWZhdWx0KCksdm9pZCBhKHRoaXMpLmF0dHIoImRhdGEtZG93biIsITApKX0pLHRoaXMuJGJ0dG5fd3JhcHBlci5vbih0aGlzLm1vdXNldXAsIi5mci1kcm9wZG93biAuZnItdHJpZ2dlcjpub3QoW2Rpc2FibGVkXSkiLGZ1bmN0aW9uKGQpe2lmKGMuaXNEaXNhYmxlZClyZXR1cm4hMTtpZihkLnN0b3BQcm9wYWdhdGlvbigpLGQucHJldmVudERlZmF1bHQoKSwhYSh0aGlzKS5hdHRyKCJkYXRhLWRvd24iKSlyZXR1cm4gYSgiW2RhdGEtZG93bl0iKS5yZW1vdmVBdHRyKCJkYXRhLWRvd24iKSwhMTthKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpLGMub3B0aW9ucy5pbmxpbmVNb2RlPT09ITEmJmMuaGlkZSgpLGEodGhpcykudG9nZ2xlQ2xhc3MoImFjdGl2ZSIpLnRyaWdnZXIoImJsdXIiKSxjLmNsb3NlSW1hZ2VNb2RlKCksYy5pbWFnZU1vZGU9ITE7dmFyIGUsZj1hKHRoaXMpLmF0dHIoImRhdGEtbmFtZSIpO3JldHVybiBiLmNvbW1hbmRzW2ZdP2U9Yi5jb21tYW5kc1tmXS5yZWZyZXNoT25TaG93OmMub3B0aW9ucy5jdXN0b21Ecm9wZG93bnNbZl0mJihlPWMub3B0aW9ucy5jdXN0b21Ecm9wZG93bnNbZl0ucmVmcmVzaE9uU2hvdyksZSYmZS5jYWxsKGMpLGMuJGJ0dG5fd3JhcHBlci5maW5kKCIuZnItZHJvcGRvd24iKS5ub3QoYSh0aGlzKS5wYXJlbnQoKSkuZmluZCgiLmZyLXRyaWdnZXIiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksITF9KSx0aGlzLiRidHRuX3dyYXBwZXIub24odGhpcy5tb3VzZXVwLCIuZnItZHJvcGRvd24iLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpfSksYSh3aW5kb3cpLm9uKCJtb3VzZXVwIHNlbGVjdGlvbmNoYW5nZSIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCB0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigibW91c2V1cCIsImltZywgYSIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCB0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSx0aGlzKSksdGhpcy4kYnR0bl93cmFwcGVyLm9uKCJjbGljayIsImxpW2RhdGEtY21kXSA+IGEiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pfSxiLnByb3RvdHlwZS5iaW5kQ29tbWFuZEV2ZW50cz1mdW5jdGlvbihiKXt2YXIgYz10aGlzO2Iub24odGhpcy5tb3VzZWRvd24sImJ1dHRvbltkYXRhLWNtZF0sIGxpW2RhdGEtY21kXSwgc3BhbltkYXRhLWNtZF0sIGFbZGF0YS1jbWRdIixmdW5jdGlvbihiKXtyZXR1cm4ibW91c2Vkb3duIj09PWIudHlwZSYmMSE9PWIud2hpY2g/ITA6KCJMSSI9PT10aGlzLnRhZ05hbWUmJiJ0b3VjaHN0YXJ0Ij09PWIudHlwZSYmYy5hbmRyb2lkKCl8fGMuaU9TKCl8fGIucHJldmVudERlZmF1bHQoKSx2b2lkIGEodGhpcykuYXR0cigiZGF0YS1kb3duIiwhMCkpfSksYi5vbih0aGlzLm1vdXNldXArIiAiK3RoaXMubW92ZSwiYnV0dG9uW2RhdGEtY21kXSwgbGlbZGF0YS1jbWRdLCBzcGFuW2RhdGEtY21kXSwgYVtkYXRhLWNtZF0iLGEucHJveHkoZnVuY3Rpb24oYil7aWYoYy5pc0Rpc2FibGVkKXJldHVybiExO2lmKCJtb3VzZXVwIj09PWIudHlwZSYmMSE9PWIud2hpY2gpcmV0dXJuITA7dmFyIGQ9Yi5jdXJyZW50VGFyZ2V0O2lmKCJ0b3VjaG1vdmUiIT1iLnR5cGUpe2lmKGIuc3RvcFByb3BhZ2F0aW9uKCksYi5wcmV2ZW50RGVmYXVsdCgpLCFhKGQpLmF0dHIoImRhdGEtZG93biIpKXJldHVybiBhKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpLCExO2lmKGEoIltkYXRhLWRvd25dIikucmVtb3ZlQXR0cigiZGF0YS1kb3duIiksYShkKS5kYXRhKCJkcmFnZ2luZyIpKXJldHVybiBhKGQpLnJlbW92ZURhdGEoImRyYWdnaW5nIiksITE7dmFyIGU9YShkKS5kYXRhKCJ0aW1lb3V0Iik7ZSYmKGNsZWFyVGltZW91dChlKSxhKGQpLnJlbW92ZURhdGEoInRpbWVvdXQiKSk7dmFyIGY9YShkKS5kYXRhKCJjYWxsYmFjayIpO2lmKGYpY1tmXSgpO2Vsc2V7dmFyIGc9YShkKS5hdHRyKCJkYXRhLWNtZCIpLGg9YShkKS5hdHRyKCJkYXRhLXZhbCIpLGk9YShkKS5hdHRyKCJkYXRhLXBhcmFtIik7Yy5leGVjKGcsaCxpKSxjLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfXJldHVybiExfWEoZCkuZGF0YSgidGltZW91dCIpfHxhKGQpLmRhdGEoInRpbWVvdXQiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGQpLmRhdGEoImRyYWdnaW5nIiwhMCl9LDIwMCkpfSx0aGlzKSl9LGIucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oKXtpZih0aGlzLm5vX3ZlcmlmeT0hMCx0aGlzLnVuZG9JbmRleD4xKXtjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lcik7dmFyIGE9dGhpcy5nZXRIVE1MKCksYj10aGlzLnVuZG9TdGFja1stLXRoaXMudW5kb0luZGV4LTFdO3RoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmRvaW5nUmVkbz0hMCx0aGlzLnRyaWdnZXJFdmVudCgidW5kbyIsW3RoaXMuZ2V0SFRNTCgpLGFdKSx0aGlzLmRvaW5nUmVkbz0hMSwiIiE9PXRoaXMudGV4dCgpP3RoaXMucmVwb3NpdGlvbkVkaXRvcigpOnRoaXMuaGlkZSgpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpLHRoaXMuZm9jdXMoKSx0aGlzLnJlZnJlc2hCdXR0b25zKCl9dGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXtpZih0aGlzLm5vX3ZlcmlmeT0hMCx0aGlzLnVuZG9JbmRleDx0aGlzLnVuZG9TdGFjay5sZW5ndGgpe2NsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKTt2YXIgYT10aGlzLmdldEhUTUwoKSxiPXRoaXMudW5kb1N0YWNrW3RoaXMudW5kb0luZGV4KytdO3RoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmRvaW5nUmVkbz0hMCx0aGlzLnRyaWdnZXJFdmVudCgicmVkbyIsW3RoaXMuZ2V0SFRNTCgpLGFdKSx0aGlzLmRvaW5nUmVkbz0hMSwiIiE9PXRoaXMudGV4dCgpP3RoaXMucmVwb3NpdGlvbkVkaXRvcigpOnRoaXMuaGlkZSgpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpLHRoaXMuZm9jdXMoKSx0aGlzLnJlZnJlc2hCdXR0b25zKCl9dGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oKXtpZighdGhpcy50cmlnZ2VyRXZlbnQoImJlZm9yZVNhdmUiLFtdLCExKSlyZXR1cm4hMTtpZih0aGlzLm9wdGlvbnMuc2F2ZVVSTCl7dmFyIGI9e307Zm9yKHZhciBjIGluIHRoaXMub3B0aW9ucy5zYXZlUGFyYW1zKXt2YXIgZD10aGlzLm9wdGlvbnMuc2F2ZVBhcmFtc1tjXTtiW2NdPSJmdW5jdGlvbiI9PXR5cGVvZiBkP2QuY2FsbCh0aGlzKTpkfWEuYWpheCh7dHlwZTp0aGlzLm9wdGlvbnMuc2F2ZVJlcXVlc3RUeXBlLHVybDp0aGlzLm9wdGlvbnMuc2F2ZVVSTCxkYXRhOmEuZXh0ZW5kKHtib2R5OnRoaXMuZ2V0SFRNTCgpfSx0aGlzLm9wdGlvbnMuc2F2ZVBhcmFtcyksY3Jvc3NEb21haW46dGhpcy5vcHRpb25zLmNyb3NzRG9tYWluLHhockZpZWxkczp7d2l0aENyZWRlbnRpYWxzOnRoaXMub3B0aW9ucy53aXRoQ3JlZGVudGlhbHN9LGhlYWRlcnM6dGhpcy5vcHRpb25zLmhlYWRlcnN9KS5kb25lKGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyU2F2ZSIsW2FdKX0sdGhpcykpLmZhaWwoYS5wcm94eShmdW5jdGlvbigpe3RoaXMudHJpZ2dlckV2ZW50KCJzYXZlRXJyb3IiLFsiU2F2ZSByZXF1ZXN0IGZhaWxlZCBvbiB0aGUgc2VydmVyLiJdKX0sdGhpcykpfWVsc2UgdGhpcy50cmlnZ2VyRXZlbnQoInNhdmVFcnJvciIsWyJNaXNzaW5nIHNhdmUgVVJMLiJdKX0sYi5wcm90b3R5cGUuc2FuaXRpemVVUkw9ZnVuY3Rpb24oYSl7aWYoL15odHRwcz86XC9cLy8udGVzdChhKSl7YT1TdHJpbmcoYSkucmVwbGFjZSgvPC9nLCIlM0MiKS5yZXBsYWNlKC8+L2csIiUzRSIpLnJlcGxhY2UoLyIvZywiJTIyIikucmVwbGFjZSgvIC9nLCIlMjAiKTt2YXIgYj0vXCg/KD86KGh0dHB8aHR0cHN8ZnRwKTpcL1wvKT8oPzooKD86W15cV1xzXXxcLnwtfFs6XXsxfSkrKUB7MX0pPygoPzp3d3cuKT8oPzpbXlxXXHNdfFwufC0pK1tcLl1bXlxXXHNdezIsNH18KD86d3d3Lik/KD86W15cV1xzXXxcLnwtKXxsb2NhbGhvc3R8XGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSkoPzo6KFxkKikpPyhbXC9dP1teXHNcP10qW1wvXXsxfSkqKD86XC8/KFteXHNcblw/XFtcXVx7XH1cI10qKD86KD89XC4pKXsxfXxbXlxzXG5cP1xbXF1ce1x9XC5cI10qKT8oW1wuXXsxfVteXHNcP1wjXSopPyk/KD86XD97MX0oW15cc1xuXCNcW1xdXSopKT8oW1wjXVteXHNcbl0qKT9cKT8vZ2k7CmlmKCFiLnRlc3QoYSkpcmV0dXJuIiJ9ZWxzZSBhPWVuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8lMjMvZywiIyIpLnJlcGxhY2UoLyUyRi9nLCIvIikucmVwbGFjZSgvJTI1L2csIiUiKS5yZXBsYWNlKC9tYWlsdG8lM0EvZywibWFpbHRvOiIpLnJlcGxhY2UoL3RlbCUzQS9nLCJ0ZWw6IikucmVwbGFjZSgvZGF0YSUzQWltYWdlL2csImRhdGE6aW1hZ2UiKS5yZXBsYWNlKC93ZWJraXQtZmFrZS11cmwlM0EvZywid2Via2l0LWZha2UtdXJsOiIpLnJlcGxhY2UoLyUzRi9nLCI/IikucmVwbGFjZSgvJTNEL2csIj0iKS5yZXBsYWNlKC8lMjYvZywiJiIpLnJlcGxhY2UoLyZhbXA7L2csIiYiKS5yZXBsYWNlKC8lMkMvZywiLCIpLnJlcGxhY2UoLyUzQi9nLCI7IikucmVwbGFjZSgvJTJCL2csIisiKS5yZXBsYWNlKC8lNDAvZywiQCIpO3JldHVybiBhfSxiLnByb3RvdHlwZS5vcHRpb249ZnVuY3Rpb24oYixjKXtpZih2b2lkIDA9PT1iKXJldHVybiB0aGlzLm9wdGlvbnM7aWYoYiBpbnN0YW5jZW9mIE9iamVjdCl0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLHRoaXMuaW5pdE9wdGlvbnMoKSx0aGlzLnNldEN1c3RvbVRleHQoKSx0aGlzLnNldExhbmd1YWdlKCk7ZWxzZXtpZih2b2lkIDA9PT1jKXJldHVybiB0aGlzLm9wdGlvbnNbYl07c3dpdGNoKHRoaXMub3B0aW9uc1tiXT1jLGIpe2Nhc2UiZGlyZWN0aW9uIjp0aGlzLnNldERpcmVjdGlvbigpO2JyZWFrO2Nhc2UiaGVpZ2h0IjpjYXNlIndpZHRoIjpjYXNlIm1pbkhlaWdodCI6Y2FzZSJtYXhIZWlnaHQiOnRoaXMuc2V0RGltZW5zaW9ucygpO2JyZWFrO2Nhc2Uic3BlbGxjaGVjayI6dGhpcy5zZXRTcGVsbGNoZWNrKCk7YnJlYWs7Y2FzZSJwbGFjZWhvbGRlciI6dGhpcy5zZXRQbGFjZWhvbGRlcigpO2JyZWFrO2Nhc2UiY3VzdG9tVGV4dCI6dGhpcy5zZXRDdXN0b21UZXh0KCk7YnJlYWs7Y2FzZSJsYW5ndWFnZSI6dGhpcy5zZXRMYW5ndWFnZSgpO2JyZWFrO2Nhc2UidGV4dE5lYXJJbWFnZSI6dGhpcy5zZXRUZXh0TmVhckltYWdlKCk7YnJlYWs7Y2FzZSJ6SW5kZXgiOnRoaXMuc2V0WkluZGV4KCk7YnJlYWs7Y2FzZSJ0aGVtZSI6dGhpcy5zZXRUaGVtZSgpfX19O3ZhciBjPWEuZm4uZWRpdGFibGU7YS5mbi5lZGl0YWJsZT1mdW5jdGlvbihjKXtmb3IodmFyIGQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZC5wdXNoKGFyZ3VtZW50c1tlXSk7aWYoInN0cmluZyI9PXR5cGVvZiBjKXt2YXIgZj1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxlPWIuZGF0YSgiZmEuZWRpdGFibGUiKTtpZighZVtjXSlyZXR1cm4gYS5lcnJvcigiTWV0aG9kICIrYysiIGRvZXMgbm90IGV4aXN0IGluIEZyb2FsYSBFZGl0b3IuIik7dmFyIGc9ZVtjXS5hcHBseShlLGQuc2xpY2UoMSkpO3ZvaWQgMD09PWc/Zi5wdXNoKHRoaXMpOjA9PT1mLmxlbmd0aCYmZi5wdXNoKGcpfSksMT09Zi5sZW5ndGg/ZlswXTpmfXJldHVybiJvYmplY3QiIT10eXBlb2YgYyYmYz92b2lkIDA6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlPWEoZCksZj1lLmRhdGEoImZhLmVkaXRhYmxlIik7Znx8ZS5kYXRhKCJmYS5lZGl0YWJsZSIsZj1uZXcgYihkLGMpKX0pfSxhLmZuLmVkaXRhYmxlLkNvbnN0cnVjdG9yPWIsYS5FZGl0YWJsZT1iLGEuZm4uZWRpdGFibGUubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmVkaXRhYmxlPWMsdGhpc319KHdpbmRvdy5qUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hCdXR0b25zPWZ1bmN0aW9uKGIpe2lmKCEodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiYhdGhpcy5pc0hUTUx8fHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDl8fGIpKXJldHVybiExO3RoaXMuJGVkaXRvci5maW5kKCJidXR0b25bZGF0YS1jbWRdIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO2Zvcih2YXIgYz0wO2M8dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5vcHRpb25zLmJ1dHRvbnNbY107aWYodm9pZCAwIT09YS5FZGl0YWJsZS5jb21tYW5kc1tkXSl7dmFyIGU9ITE7YS5pc0Z1bmN0aW9uKGEuRWRpdGFibGUuY29tbWFuZHNbZF0uZGlzYWJsZWQpP2U9YS5FZGl0YWJsZS5jb21tYW5kc1tkXS5kaXNhYmxlZC5hcHBseSh0aGlzKTp2b2lkIDAhPT1hLkVkaXRhYmxlLmNvbW1hbmRzW2RdLmRpc2FibGVkJiYoZT0hMCksZT90aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uW2RhdGEtbmFtZT0iJytkKyciXScpLnByb3AoImRpc2FibGVkIiwhMCk6dGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbltkYXRhLW5hbWU9IicrZCsnIl0nKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpfX10aGlzLnJhaXNlRXZlbnQoInJlZnJlc2giKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEZvcm1hdEJsb2Nrcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKVswXSxiPWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3RoaXMub3B0aW9ucy5wYXJhZ3JhcGh5JiYicCI9PT1iJiYoYj0ibiIpLHRoaXMuJGVkaXRvci5maW5kKCcuZnItYnR0biA+IGJ1dHRvbltkYXRhLW5hbWU9ImZvcm1hdEJsb2NrIl0gKyB1bCBsaScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnLmZyLWJ0dG4gPiBidXR0b25bZGF0YS1uYW1lPSJmb3JtYXRCbG9jayJdICsgdWwgbGlbZGF0YS12YWw9IicrYisnIl0nKS5hZGRDbGFzcygiYWN0aXZlIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hVbmRvPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VuYWJsZWQoInVuZG8iKSl7aWYodm9pZCAwPT09dGhpcy4kZWRpdG9yKXJldHVybjt0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnW2RhdGEtY21kPSJ1bmRvIl0nKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLCgwPT09dGhpcy51bmRvU3RhY2subGVuZ3RofHx0aGlzLnVuZG9JbmRleDw9MXx8dGhpcy5pc0hUTUwpJiZ0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnW2RhdGEtY21kPSJ1bmRvIl0nKS5wcm9wKCJkaXNhYmxlZCIsITApfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaFJlZG89ZnVuY3Rpb24oKXtpZih0aGlzLmlzRW5hYmxlZCgicmVkbyIpKXtpZih2b2lkIDA9PT10aGlzLiRlZGl0b3IpcmV0dXJuO3RoaXMuJGJ0dG5fd3JhcHBlci5maW5kKCdbZGF0YS1jbWQ9InJlZG8iXScpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksKHRoaXMudW5kb0luZGV4PT10aGlzLnVuZG9TdGFjay5sZW5ndGh8fHRoaXMuaXNIVE1MKSYmdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ1tkYXRhLWNtZD0icmVkbyJdJykucHJvcCgiZGlzYWJsZWQiLCEwKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0PWZ1bmN0aW9uKGEpe3RyeXtkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShhKT09PSEwJiZ0aGlzLiRlZGl0b3IuZmluZCgnW2RhdGEtY21kPSInK2ErJyJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpfWNhdGNoKGIpe319LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hBbGlnbj1mdW5jdGlvbigpe3ZhciBiPWEodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdKTt0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWRyb3Bkb3duID4gYnV0dG9uW2RhdGEtbmFtZT0iYWxpZ24iXSArIHVsIGxpJykucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciBjLGQ9Yi5jc3MoInRleHQtYWxpZ24iKTtbImxlZnQiLCJyaWdodCIsImp1c3RpZnkiLCJjZW50ZXIiXS5pbmRleE9mKGQpPDAmJihkPSJsZWZ0IiksImxlZnQiPT1kP2M9Imp1c3RpZnlMZWZ0IjoicmlnaHQiPT1kP2M9Imp1c3RpZnlSaWdodCI6Imp1c3RpZnkiPT1kP2M9Imp1c3RpZnlGdWxsIjoiY2VudGVyIj09ZCYmKGM9Imp1c3RpZnlDZW50ZXIiKSx0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWRyb3Bkb3duID4gYnV0dG9uW2RhdGEtbmFtZT0iYWxpZ24iXS5mci10cmlnZ2VyIGknKS5hdHRyKCJjbGFzcyIsImZhIGZhLWFsaWduLSIrZCksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1kcm9wZG93biA+IGJ1dHRvbltkYXRhLW5hbWU9ImFsaWduIl0gKyB1bCBsaVtkYXRhLXZhbD0iJytjKyciXScpLmFkZENsYXNzKCJhY3RpdmUiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEhUTUw9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlKCJodG1sIik/dGhpcy4kZWRpdG9yLmZpbmQoJ1tkYXRhLWNtZD0iaHRtbCJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpOnRoaXMuJGVkaXRvci5maW5kKCdbZGF0YS1jbWQ9Imh0bWwiXScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5jb21tYW5kcz17Ym9sZDp7dGl0bGU6IkJvbGQiLGljb246ImZhIGZhLWJvbGQiLHNob3J0Y3V0OiIoQ3RybCArIEIpIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0saXRhbGljOnt0aXRsZToiSXRhbGljIixpY29uOiJmYSBmYS1pdGFsaWMiLHNob3J0Y3V0OiIoQ3RybCArIEkpIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0sdW5kZXJsaW5lOntjbWQ6InVuZGVybGluZSIsdGl0bGU6IlVuZGVybGluZSIsaWNvbjoiZmEgZmEtdW5kZXJsaW5lIixzaG9ydGN1dDoiKEN0cmwgKyBVKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LHN0cmlrZVRocm91Z2g6e3RpdGxlOiJTdHJpa2V0aHJvdWdoIixpY29uOiJmYSBmYS1zdHJpa2V0aHJvdWdoIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0sc3Vic2NyaXB0Ont0aXRsZToiU3Vic2NyaXB0IixpY29uOiJmYSBmYS1zdWJzY3JpcHQiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaERlZmF1bHQsdW5kbzohMCxjYWxsYmFja1dpdGhvdXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5fc3RhcnRJbkRlZmF1bHQoYSl9fSxzdXBlcnNjcmlwdDp7dGl0bGU6IlN1cGVyc2NyaXB0IixpY29uOiJmYSBmYS1zdXBlcnNjcmlwdCIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LGZvcm1hdEJsb2NrOnt0aXRsZToiRm9ybWF0IEJsb2NrIixpY29uOiJmYSBmYS1wYXJhZ3JhcGgiLHJlZnJlc2hPblNob3c6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEZvcm1hdEJsb2NrcyxjYWxsYmFjazpmdW5jdGlvbihhLGIpe3RoaXMuZm9ybWF0QmxvY2soYil9LHVuZG86ITB9LGFsaWduOnt0aXRsZToiQWxpZ25tZW50IixpY29uOiJmYSBmYS1hbGlnbi1sZWZ0IixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hBbGlnbixyZWZyZXNoT25TaG93OmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hBbGlnbixzZWVkOlt7Y21kOiJqdXN0aWZ5TGVmdCIsdGl0bGU6IkFsaWduIExlZnQiLGljb246ImZhIGZhLWFsaWduLWxlZnQifSx7Y21kOiJqdXN0aWZ5Q2VudGVyIix0aXRsZToiQWxpZ24gQ2VudGVyIixpY29uOiJmYSBmYS1hbGlnbi1jZW50ZXIifSx7Y21kOiJqdXN0aWZ5UmlnaHQiLHRpdGxlOiJBbGlnbiBSaWdodCIsaWNvbjoiZmEgZmEtYWxpZ24tcmlnaHQifSx7Y21kOiJqdXN0aWZ5RnVsbCIsdGl0bGU6Ikp1c3RpZnkiLGljb246ImZhIGZhLWFsaWduLWp1c3RpZnkifV0sY2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLmFsaWduKGIpfSx1bmRvOiEwfSxvdXRkZW50Ont0aXRsZToiSW5kZW50IExlc3MiLGljb246ImZhIGZhLWRlZGVudCIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwgKyA8KSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLm91dGRlbnQoITApfSx1bmRvOiEwfSxpbmRlbnQ6e3RpdGxlOiJJbmRlbnQgTW9yZSIsaWNvbjoiZmEgZmEtaW5kZW50IixhY3RpdmVsZXNzOiEwLHNob3J0Y3V0OiIoQ3RybCArID4pIixjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMuaW5kZW50KCl9LHVuZG86ITB9LHNlbGVjdEFsbDp7dGl0bGU6IlNlbGVjdCBBbGwiLGljb246ImZhIGZhLWZpbGUtdGV4dCIsc2hvcnRjdXQ6IihDdHJsICsgQSkiLGNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7dGhpcy4kZWxlbWVudC5mb2N1cygpLHRoaXMuZXhlY0RlZmF1bHQoYSxiKX0sdW5kbzohMX0sY3JlYXRlTGluazp7dGl0bGU6Ikluc2VydCBMaW5rIixpY29uOiJmYSBmYS1saW5rIixzaG9ydGN1dDoiKEN0cmwgKyBLKSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmluc2VydExpbmsoKX0sdW5kbzohMX0saW5zZXJ0SW1hZ2U6e3RpdGxlOiJJbnNlcnQgSW1hZ2UiLGljb246ImZhIGZhLXBpY3R1cmUtbyIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwgKyBQKSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmluc2VydEltYWdlKCl9LHVuZG86ITF9LHVuZG86e3RpdGxlOiJVbmRvIixpY29uOiJmYSBmYS11bmRvIixhY3RpdmVsZXNzOiEwLHNob3J0Y3V0OiIoQ3RybCtaKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoVW5kbyxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMudW5kbygpfSx1bmRvOiExfSxyZWRvOnt0aXRsZToiUmVkbyIsaWNvbjoiZmEgZmEtcmVwZWF0IixhY3RpdmVsZXNzOiEwLHNob3J0Y3V0OiIoU2hpZnQrQ3RybCtaKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoUmVkbyxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMucmVkbygpfSx1bmRvOiExfSxodG1sOnt0aXRsZToiU2hvdyBIVE1MIixpY29uOiJmYSBmYS1jb2RlIixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hIVE1MLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5odG1sKCl9LHVuZG86ITF9LHNhdmU6e3RpdGxlOiJTYXZlIixpY29uOiJmYSBmYS1mbG9wcHktbyIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLnNhdmUoKX0sdW5kbzohMX0saW5zZXJ0SG9yaXpvbnRhbFJ1bGU6e3RpdGxlOiJJbnNlcnQgSG9yaXpvbnRhbCBMaW5lIixpY29uOiJmYSBmYS1taW51cyIsY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRIUihhKX0sdW5kbzohMH0scmVtb3ZlRm9ybWF0Ont0aXRsZToiQ2xlYXIgZm9ybWF0dGluZyIsaWNvbjoiZmEgZmEtZXJhc2VyIixhY3RpdmVsZXNzOiEwLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVGb3JtYXQoKX0sdW5kbzohMH19LGEuRWRpdGFibGUucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24oYixjLGQpe3JldHVybiF0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJmEuRWRpdGFibGUuY29tbWFuZHNbYl0udW5kbyYmdGhpcy5mb2N1cygpLHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmIiI9PT10aGlzLnRleHQoKSYmYS5FZGl0YWJsZS5jb21tYW5kc1tiXS5jYWxsYmFja1dpdGhvdXRTZWxlY3Rpb24/KGEuRWRpdGFibGUuY29tbWFuZHNbYl0uY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uLmFwcGx5KHRoaXMsW2IsYyxkXSksITEpOnZvaWQoYS5FZGl0YWJsZS5jb21tYW5kc1tiXS5jYWxsYmFjaz9hLkVkaXRhYmxlLmNvbW1hbmRzW2JdLmNhbGxiYWNrLmFwcGx5KHRoaXMsW2IsYyxkXSk6dGhpcy5leGVjRGVmYXVsdChiLGMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaHRtbD1mdW5jdGlvbigpe3ZhciBhO3RoaXMuaXNIVE1MPyh0aGlzLmlzSFRNTD0hMSxhPXRoaXMuJGh0bWxfYXJlYS52YWwoKSxhPXRoaXMuY2xlYW4oYSwhMCwhMSksdGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmLWh0bWwiKSx0aGlzLiRodG1sX2FyZWEuYmx1cigpLHRoaXMubm9fdmVyaWZ5PSEwLHRoaXMuJGVsZW1lbnQuaHRtbChhKSx0aGlzLmNsZWFudXBMaXN0cygpLHRoaXMuY2xlYW5pZnkoITEpLHRoaXMubm9fdmVyaWZ5PSExLHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1idHRuOm5vdChbZGF0YS1jbWQ9Imh0bWwiXSksIC5mci10cmlnZ2VyJykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWJ0dG5bZGF0YS1jbWQ9Imh0bWwiXScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCgpLHRoaXMuJGVsZW1lbnQuYmx1cigpLHRoaXMuZm9jdXMoKSx0aGlzLnJlZnJlc2hCdXR0b25zKCksdGhpcy50cmlnZ2VyRXZlbnQoImh0bWxIaWRlIixbYV0sITAsITApKToodGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmLXBsYWNlaG9sZGVyIiksdGhpcy5jbGVhbmlmeSghMSksYT10aGlzLm9wdGlvbnMuaW5saW5lTW9kZT8iXG5cbiIrdGhpcy5jbGVhblRhZ3ModGhpcy5nZXRIVE1MKCExLCExKSk6dGhpcy5jbGVhblRhZ3ModGhpcy5nZXRIVE1MKCExLCExKSksYT1hLnJlcGxhY2UoL1wmYW1wOy9nLCImIiksdGhpcy4kaHRtbF9hcmVhLnZhbChhKS50cmlnZ2VyKCJyZXNpemUiKSx0aGlzLiRodG1sX2FyZWEuY3NzKCJoZWlnaHQiLHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCktMSksdGhpcy4kZWxlbWVudC5odG1sKCIiKS5hcHBlbmQodGhpcy4kaHRtbF9hcmVhKS5yZW1vdmVBdHRyKCJjb250ZW50ZWRpdGFibGUiKSx0aGlzLiRib3guYWRkQ2xhc3MoImYtaHRtbCIpLHRoaXMuJGVkaXRvci5maW5kKCdidXR0b24uZnItYnR0bjpub3QoW2RhdGEtY21kPSJodG1sIl0pLCBidXR0b24uZnItdHJpZ2dlcicpLmF0dHIoImRpc2FibGVkIiwhMCksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1idHRuW2RhdGEtY21kPSJodG1sIl0nKS5hZGRDbGFzcygiYWN0aXZlIiksdGhpcy5oaWRlKCksdGhpcy5pbWFnZU1vZGU9ITEsdGhpcy5pc0hUTUw9ITAsdGhpcy4kZWxlbWVudC5ibHVyKCksdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJjb250ZW50ZWRpdGFibGUiKSx0aGlzLnRyaWdnZXJFdmVudCgiaHRtbFNob3ciLFthXSwhMCwhMSkpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRIUj1mdW5jdGlvbihiKXt0aGlzLiRlbGVtZW50LmZpbmQoImhyIikuYWRkQ2xhc3MoImZyLXRhZyIpLHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImYtcGxhY2Vob2xkZXIiKT9hKHRoaXMuJGVsZW1lbnQuZmluZCgiPiAiK3RoaXMudmFsaWRfbm9kZXMuam9pbigiLCA+IikpWzBdKS5iZWZvcmUoIjxoci8+Iik6ZG9jdW1lbnQuZXhlY0NvbW1hbmQoYiksdGhpcy5oaWRlKCk7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKCJocjpub3QoLmZyLXRhZykiKS5uZXh0KHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKTtjLmxlbmd0aD4wP2EoY1swXSkucHJlcGVuZCh0aGlzLm1hcmtlcnNfaHRtbCk6dGhpcy4kZWxlbWVudC5maW5kKCJocjpub3QoLmZyLXRhZykiKS5hZnRlcih0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT8iPHA+Iit0aGlzLm1hcmtlcnNfaHRtbCsiPGJyLz48L3A+Ijp0aGlzLm1hcmtlcnNfaHRtbCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy50cmlnZ2VyRXZlbnQoYixbXSwhMCwhMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmZvcm1hdEJsb2NrPWZ1bmN0aW9uKGIsYyxkKXtpZih0aGlzLmRpc2FibGVkTGlzdC5pbmRleE9mKCJmb3JtYXRCbG9jayIpPj0wKXJldHVybiExO2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDkpcmV0dXJuIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJmb3JtYXRCbG9jayIsITEsIjwiK2IrIj4iKSwhMTt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpO2VbMF09PXRoaXMuJGVsZW1lbnQuZ2V0KDApJiYoZT10aGlzLiRlbGVtZW50LmZpbmQoIj4gIit0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwgPiIpKSksdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCk7Zm9yKHZhciBmLGc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0JiZbIkxJIiwiVEQiLCJUSCJdLmluZGV4T2YoYS5nZXQoMCkudGFnTmFtZSk+PTA/ITA6ITF9LGg9MDtoPGUubGVuZ3RoO2grKyl7dmFyIGk9YShlW2hdKTtpZighdGhpcy5mYWtlRW1wdHkoaSkpaWYoZj0ibiI9PWI/dGhpcy5vcHRpb25zLnBhcmFncmFwaHk/YSgiPHA+IikuaHRtbChpLmh0bWwoKSk6aS5odG1sKCkrIjxici8+IjphKCI8IitiKyI+IikuaHRtbChpLmh0bWwoKSksaS5nZXQoMCk9PXRoaXMuJGVsZW1lbnQuZ2V0KDApfHxnKGYpKWkuaHRtbChmKTtlbHNle3ZhciBqPWkucHJvcCgiYXR0cmlidXRlcyIpO2lmKGYuYXR0cilmb3IodmFyIGs9MDtrPGoubGVuZ3RoO2srKykiY2xhc3MiIT09altrXS5uYW1lJiZmLmF0dHIoaltrXS5uYW1lLGpba10udmFsdWUpO3ZhciBsO3RoaXMub3B0aW9ucy5ibG9ja1N0eWxlcyYmdGhpcy5vcHRpb25zLmJsb2NrU3R5bGVzW2JdLHZvaWQgMD09PWwmJihsPXRoaXMub3B0aW9ucy5kZWZhdWx0QmxvY2tTdHlsZSk7dHJ5e2lmKGkuaGFzQ2xhc3MoYykmJmkuZ2V0KDApLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PWIpZi5hZGRDbGFzcyhpLmF0dHIoImNsYXNzIikpLnJlbW92ZUNsYXNzKGMpO2Vsc2V7aWYodm9pZCAwPT09aS5hdHRyKCJjbGFzcyIpfHx2b2lkIDA9PT1sfHwhdGhpcy5vcHRpb25zLmJsb2NrU3R5bGVzVG9nZ2xlJiYidG9nZ2xlIiE9ZClmLmFkZENsYXNzKGkuYXR0cigiY2xhc3MiKSk7ZWxzZSBmb3IodmFyIG09aS5hdHRyKCJjbGFzcyIpLnNwbGl0KCIgIiksbj0wO248bS5sZW5ndGg7bisrKXt2YXIgbz1tW25dO3ZvaWQgMD09PWxbb10mJnZvaWQgMD09PWQ/Zi5hZGRDbGFzcyhvKTp2b2lkIDAhPT1sW29dJiYidG9nZ2xlIj09PWQmJmYuYWRkQ2xhc3MobyksaS5nZXQoMCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09YiYmdm9pZCAwIT09bFtvXSYmZi5hZGRDbGFzcyhvKX0iKiIhPWMmJmYuYWRkQ2xhc3MoYyl9fWNhdGNoKHApe31nKGkpP2kuaHRtbChmKTppLnJlcGxhY2VXaXRoKGYpfX10aGlzLnVud3JhcFRleHQoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnRyaWdnZXJFdmVudCgiZm9ybWF0QmxvY2siKSx0aGlzLnJlcG9zaXRpb25FZGl0b3IoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuYWxpZ249ZnVuY3Rpb24oYil7aWYodGhpcy5icm93c2VyLm1zaWUmJmEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uKCk8OSlyZXR1cm4gZG9jdW1lbnQuZXhlY0NvbW1hbmQoYiwhMSwhMSksITE7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGM9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpOyJqdXN0aWZ5TGVmdCI9PWI/Yj0ibGVmdCI6Imp1c3RpZnlSaWdodCI9PWI/Yj0icmlnaHQiOiJqdXN0aWZ5Q2VudGVyIj09Yj9iPSJjZW50ZXIiOiJqdXN0aWZ5RnVsbCI9PWImJihiPSJqdXN0aWZ5Iik7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspYShjW2RdKS5jc3MoInRleHQtYWxpZ24iLGIpO3RoaXMucmVwb3NpdGlvbkVkaXRvcigpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMudHJpZ2dlckV2ZW50KCJhbGlnbiIsW2JdKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5kZW50PWZ1bmN0aW9uKGIpe2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDkpcmV0dXJuIGI/ZG9jdW1lbnQuZXhlY0NvbW1hbmQoIm91dGRlbnQiLCExLCExKTpkb2N1bWVudC5leGVjQ29tbWFuZCgiaW5kZW50IiwhMSwhMSksITE7dmFyIGM9MjA7YiYmKGM9LTIwKSx0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGQ9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpO3RoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1hKGRbZV0pO2lmKGYucGFyZW50c1VudGlsKHRoaXMuJGVsZW1lbnQsImxpIikubGVuZ3RoPjAmJihmPWYuY2xvc2VzdCgibGkiKSksIkxJIj09PWYuZ2V0KDApLnRhZ05hbWUmJmEuaXNGdW5jdGlvbih0aGlzLmluZGVudExpKSliP3RoaXMub3V0ZGVudExpKGYpOnRoaXMuaW5kZW50TGkoZik7ZWxzZSBpZihmLmdldCgwKSE9dGhpcy4kZWxlbWVudC5nZXQoMCkpe3ZhciBnPXBhcnNlSW50KGYuY3NzKCJtYXJnaW4tbGVmdCIpLnJlcGxhY2UoL3B4LywiIiksMTApLGg9TWF0aC5tYXgoMCxnK2MpO2YuY3NzKCJtYXJnaW5MZWZ0IixoKX1lbHNle3ZhciBpPWEoIjxkaXY+IikuaHRtbChmLmh0bWwoKSk7Zi5odG1sKGkpLGkuY3NzKCJtYXJnaW5MZWZ0IixNYXRoLm1heCgwLGMpKX19dGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy51bndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCksYnx8dGhpcy50cmlnZ2VyRXZlbnQoImluZGVudCIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5vdXRkZW50PWZ1bmN0aW9uKCl7dGhpcy5pbmRlbnQoITApLHRoaXMudHJpZ2dlckV2ZW50KCJvdXRkZW50Iil9LGEuRWRpdGFibGUucHJvdG90eXBlLmV4ZWNEZWZhdWx0PWZ1bmN0aW9uKGEsYil7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoYSwhMSxiKSx0aGlzLnRyaWdnZXJFdmVudChhLFtdLCEwLCEwKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuX3N0YXJ0SW5EZWZhdWx0PWZ1bmN0aW9uKGEpe3RoaXMuZm9jdXMoKSxkb2N1bWVudC5leGVjQ29tbWFuZChhLCExLCExKSx0aGlzLnJlZnJlc2hCdXR0b25zKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLl9zdGFydEluRm9udEV4ZWM9ZnVuY3Rpb24oYixjLGQpe3RoaXMuZm9jdXMoKTt0cnl7dmFyIGU9dGhpcy5nZXRSYW5nZSgpLGY9ZS5jbG9uZVJhbmdlKCk7Zi5jb2xsYXBzZSghMSk7dmFyIGc9YSgnPHNwYW4gZGF0YS1pbnNlcnRlZD0idHJ1ZSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIgc3R5bGU9IicrYisiOiAiK2QrJzsiPiYjODIwMzs8L3NwYW4+Jyxkb2N1bWVudCk7Zi5pbnNlcnROb2RlKGdbMF0pLGc9dGhpcy4kZWxlbWVudC5maW5kKCJbZGF0YS1pbnNlcnRlZF0iKSxnLnJlbW92ZUF0dHIoImRhdGEtaW5zZXJ0ZWQiKSx0aGlzLnNldFNlbGVjdGlvbihnLmdldCgwKSwxKX1jYXRjaChoKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZW1vdmVGb3JtYXQ9ZnVuY3Rpb24oKXtkb2N1bWVudC5leGVjQ29tbWFuZCgicmVtb3ZlRm9ybWF0IiwhMSwhMSksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVubGluayIsITEsITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbmxpbmVTdHlsZT1mdW5jdGlvbihiLGMsZCl7aWYodGhpcy5icm93c2VyLndlYmtpdCYmImZvbnQtc2l6ZSIhPWIpe3ZhciBlPWZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHIoInN0eWxlIikuaW5kZXhPZigiZm9udC1zaXplIik+PTB9O3RoaXMuJGVsZW1lbnQuZmluZCgic3BhbiIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpO2QuYXR0cigic3R5bGUiKSYmZShkKSYmKGQuZGF0YSgiZm9udC1zaXplIixkLmNzcygiZm9udC1zaXplIikpLGQuY3NzKCJmb250LXNpemUiLCIiKSl9KX1kb2N1bWVudC5leGVjQ29tbWFuZCgiZm9udFNpemUiLCExLDQpLHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuYnJvd3Nlci53ZWJraXQmJiJmb250LXNpemUiIT1iJiZ0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKTtkLmRhdGEoImZvbnQtc2l6ZSIpJiYoZC5jc3MoImZvbnQtc2l6ZSIsZC5kYXRhKCJmb250LXNpemUiKSksZC5yZW1vdmVEYXRhKCJmb250LXNpemUiKSl9KTt2YXIgZj1mdW5jdGlvbihjLGUpe3ZhciBmPWEoZSk7Zi5jc3MoYikhPWQmJmYuY3NzKGIsIiIpLCIiPT09Zi5hdHRyKCJzdHlsZSIpJiZmLnJlcGxhY2VXaXRoKGYuaHRtbCgpKX07dGhpcy4kZWxlbWVudC5maW5kKCJmb250IikuZWFjaChmdW5jdGlvbihjLGUpe3ZhciBnPWEoJzxzcGFuIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIHN0eWxlPSInK2IrIjogIitkKyc7Ij4nK2EoZSkuaHRtbCgpKyI8L3NwYW4+Iik7YShlKS5yZXBsYWNlV2l0aChnKSxnLmZpbmQoInNwYW4iKS5lYWNoKGYpfSksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCksdGhpcy50cmlnZ2VyRXZlbnQoYyxbZF0sITAsITApfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2V2ZW50cyxkPWNbYV09Y1thXXx8W107ZC5wdXNoKGIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yYWlzZUV2ZW50PWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9W10pO3ZhciBjPSEwLGQ9dGhpcy5fZXZlbnRzW2FdO2lmKGQpZm9yKHZhciBlPTAsZj1kLmxlbmd0aDtmPmU7ZSsrKXt2YXIgZz1kW2VdLmFwcGx5KHRoaXMsYik7dm9pZCAwIT09ZyYmYyE9PSExJiYoYz1nKX1yZXR1cm4gdm9pZCAwPT09YyYmKGM9ITApLGN9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLm1hcmtlcnNfaHRtbD0nPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nLGEuRWRpdGFibGUucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYT0iIjtyZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbj9hPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5nZXRTZWxlY3Rpb24/YT1kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5zZWxlY3Rpb24mJihhPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnRleHQpLGEudG9TdHJpbmcoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2VsZWN0aW9uSW5FZGl0b3I9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldFNlbGVjdGlvblBhcmVudCgpLGM9ITE7cmV0dXJuIGI9PXRoaXMuJGVsZW1lbnQuZ2V0KDApJiYoYz0hMCksYz09PSExJiZhKGIpLnBhcmVudHMoKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYSxiKXtiPT10aGlzLiRlbGVtZW50LmdldCgwKSYmKGM9ITApfSx0aGlzKSksY30sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9IiI7cmV0dXJuIGE9d2luZG93LmdldFNlbGVjdGlvbj93aW5kb3cuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uP2RvY3VtZW50LmdldFNlbGVjdGlvbigpOmRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRSYW5nZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEubGVuZ3RoPjA/YVswXTpudWxsfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRSYW5nZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNlbGVjdGlvbigpO2lmKGEuZ2V0UmFuZ2VBdCYmYS5yYW5nZUNvdW50KXtmb3IodmFyIGI9W10sYz0wO2M8YS5yYW5nZUNvdW50O2MrKyliLnB1c2goYS5nZXRSYW5nZUF0KGMpKTtyZXR1cm4gYn1yZXR1cm4gZG9jdW1lbnQuY3JlYXRlUmFuZ2U/W2RvY3VtZW50LmNyZWF0ZVJhbmdlKCldOltdfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uKCk7dHJ5e2EucmVtb3ZlQWxsUmFuZ2VzP2EucmVtb3ZlQWxsUmFuZ2VzKCk6YS5lbXB0eT9hLmVtcHR5KCk6YS5jbGVhciYmYS5jbGVhcigpfWNhdGNoKGIpe319LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvbkVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldFNlbGVjdGlvbigpO2lmKGIucmFuZ2VDb3VudCl7dmFyIGM9dGhpcy5nZXRSYW5nZSgpLGQ9Yy5zdGFydENvbnRhaW5lcjsxIT1kLm5vZGVUeXBlJiYoZD1kLnBhcmVudE5vZGUpO3ZhciBlPSExO2QuY2hpbGRyZW4ubGVuZ3RoPjAmJmQuY2hpbGRyZW5bYy5zdGFydE9mZnNldF0mJmEoZC5jaGlsZHJlbltjLnN0YXJ0T2Zmc2V0XSkudGV4dCgpPT09dGhpcy50ZXh0KCkmJihkPWQuY2hpbGRyZW5bYy5zdGFydE9mZnNldF0sZT0hMCksIWUmJmQuY2hpbGRyZW4ubGVuZ3RoPjAmJmEoZC5jaGlsZHJlblswXSkudGV4dCgpPT09dGhpcy50ZXh0KCkmJlsiQlIiLCJJTUciXS5pbmRleE9mKGQuY2hpbGRyZW5bMF0udGFnTmFtZSk8MCYmKGQ9ZC5jaGlsZHJlblswXSk7Zm9yKHZhciBmPWQ7ZiYmIkJPRFkiIT1mLnRhZ05hbWU7KXtpZihmPT10aGlzLiRlbGVtZW50LmdldCgwKSlyZXR1cm4gZDtmPWEoZikucGFyZW50KClbMF19fXJldHVybiB0aGlzLiRlbGVtZW50LmdldCgwKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uUGFyZW50PWZ1bmN0aW9uKCl7dmFyIGIsYz1udWxsO3JldHVybiB3aW5kb3cuZ2V0U2VsZWN0aW9uPyhiPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxiLnJhbmdlQ291bnQmJihjPWIuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lciwxIT1jLm5vZGVUeXBlJiYoYz1jLnBhcmVudE5vZGUpKSk6KGI9ZG9jdW1lbnQuc2VsZWN0aW9uKSYmIkNvbnRyb2wiIT1iLnR5cGUmJihjPWIuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpLG51bGwhPWMmJihhLmluQXJyYXkodGhpcy4kZWxlbWVudC5nZXQoMCksYShjKS5wYXJlbnRzKCkpPj0wfHxjPT10aGlzLiRlbGVtZW50LmdldCgwKSk/YzpudWxsfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5ub2RlSW5SYW5nZT1mdW5jdGlvbihhLGIpe3ZhciBjO2lmKGEuaW50ZXJzZWN0c05vZGUpcmV0dXJuIGEuaW50ZXJzZWN0c05vZGUoYik7Yz1iLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt0cnl7Yy5zZWxlY3ROb2RlKGIpfWNhdGNoKGQpe2Muc2VsZWN0Tm9kZUNvbnRlbnRzKGIpfXJldHVybi0xPT1hLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhSYW5nZS5FTkRfVE9fU1RBUlQsYykmJjE9PWEuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKFJhbmdlLlNUQVJUX1RPX0VORCxjKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0RWxlbWVudEZyb21Ob2RlPWZ1bmN0aW9uKGIpe2ZvcigxIT1iLm5vZGVUeXBlJiYoYj1iLnBhcmVudE5vZGUpO251bGwhPT1iJiZ0aGlzLnZhbGlkX25vZGVzLmluZGV4T2YoYi50YWdOYW1lKTwwOyliPWIucGFyZW50Tm9kZTtyZXR1cm4gbnVsbCE9YiYmIkxJIj09Yi50YWdOYW1lJiZhKGIpLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aD4wP251bGw6YS5tYWtlQXJyYXkoYShiKS5wYXJlbnRzKCkpLmluZGV4T2YodGhpcy4kZWxlbWVudC5nZXQoMCkpPj0wP2I6bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubmV4dE5vZGU9ZnVuY3Rpb24oYSxiKXtpZihhLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm4gYS5maXJzdENoaWxkO2Zvcig7YSYmIWEubmV4dFNpYmxpbmcmJmEhPWI7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhJiZhIT1iP2EubmV4dFNpYmxpbmc6bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0UmFuZ2VTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9YS5zdGFydENvbnRhaW5lcixkPWEuZW5kQ29udGFpbmVyO2lmKGM9PWQmJiJUUiIhPWMudGFnTmFtZSl7aWYoYy5oYXNDaGlsZE5vZGVzKCkmJjAhPT1jLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHZhciBlPWMuY2hpbGRyZW4sZj1hLnN0YXJ0T2Zmc2V0O2Y8YS5lbmRPZmZzZXQ7ZisrKWVbZl0mJmIucHVzaChlW2ZdKTtyZXR1cm4gMD09PWIubGVuZ3RoJiZiLnB1c2goYyksYn1yZXR1cm5bY119aWYoYz09ZCYmIlRSIj09Yy50YWdOYW1lKXt2YXIgZz1jLmNoaWxkTm9kZXMsaD1hLnN0YXJ0T2Zmc2V0O2lmKGcubGVuZ3RoPmgmJmg+PTApe3ZhciBpPWdbaF07aWYoIlREIj09aS50YWdOYW1lfHwiVEgiPT1pLnRhZ05hbWUpcmV0dXJuW2ldfX1mb3IoO2MmJmMhPWQ7KWIucHVzaChjPXRoaXMubmV4dE5vZGUoYyxkKSk7Zm9yKGM9YS5zdGFydENvbnRhaW5lcjtjJiZjIT1hLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOyliLnVuc2hpZnQoYyksYz1jLnBhcmVudE5vZGU7cmV0dXJuIGJ9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGVkTm9kZXM9ZnVuY3Rpb24oKXtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7aWYoIWIuaXNDb2xsYXBzZWQpe2Zvcih2YXIgYz10aGlzLmdldFJhbmdlcygpLGQ9W10sZT0wO2U8Yy5sZW5ndGg7ZSsrKWQ9YS5tZXJnZShkLHRoaXMuZ2V0UmFuZ2VTZWxlY3RlZE5vZGVzKGNbZV0pKTtyZXR1cm4gZH1pZih0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkpe3ZhciBmPWIuZ2V0UmFuZ2VBdCgwKS5zdGFydENvbnRhaW5lcjtyZXR1cm4gMz09Zi5ub2RlVHlwZT9bZi5wYXJlbnROb2RlXTpbZl19fXJldHVybltdfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25FbGVtZW50cz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0ZWROb2RlcygpLGM9W107cmV0dXJuIGEuZWFjaChiLGEucHJveHkoZnVuY3Rpb24oYSxiKXtpZihudWxsIT09Yil7dmFyIGQ9dGhpcy5nZXRFbGVtZW50RnJvbU5vZGUoYik7Yy5pbmRleE9mKGQpPDAmJmQhPXRoaXMuJGVsZW1lbnQuZ2V0KDApJiZudWxsIT09ZCYmYy5wdXNoKGQpfX0sdGhpcykpLDA9PT1jLmxlbmd0aCYmYy5wdXNoKHRoaXMuJGVsZW1lbnQuZ2V0KDApKSxjfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25MaW5rPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb25MaW5rcygpO3JldHVybiBiLmxlbmd0aD4wP2EoYlswXSkuYXR0cigiaHJlZiIpOm51bGx9LGEuRWRpdGFibGUucHJvdG90eXBlLnNhdmVTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dGhpcy5zYXZlZFJhbmdlcz1bXTtmb3IodmFyIGE9dGhpcy5nZXRSYW5nZXMoKSxiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5zYXZlZFJhbmdlcy5wdXNoKGFbYl0uY2xvbmVSYW5nZSgpKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dmFyIGEsYixjPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYodGhpcy5zYXZlZFJhbmdlcyYmdGhpcy5zYXZlZFJhbmdlcy5sZW5ndGgpZm9yKGMucmVtb3ZlQWxsUmFuZ2VzKCksYT0wLGI9dGhpcy5zYXZlZFJhbmdlcy5sZW5ndGg7Yj5hO2ErPTEpYy5hZGRSYW5nZSh0aGlzLnNhdmVkUmFuZ2VzW2FdKX19LGEuRWRpdGFibGUucHJvdG90eXBlLmluc2VydE1hcmtlcnNBdFBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPWEuY2xpZW50WCxjPWEuY2xpZW50WTt0aGlzLnJlbW92ZU1hcmtlcnMoKTt2YXIgZCxlPW51bGw7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50PyhkPWRvY3VtZW50LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoYixjKSxlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksZS5zZXRTdGFydChkLm9mZnNldE5vZGUsZC5vZmZzZXQpLGUuc2V0RW5kKGQub2Zmc2V0Tm9kZSxkLm9mZnNldCkpOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCYmKGQ9ZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludChiLGMpLGU9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxlLnNldFN0YXJ0KGQuc3RhcnRDb250YWluZXIsZC5zdGFydE9mZnNldCksZS5zZXRFbmQoZC5zdGFydENvbnRhaW5lcixkLnN0YXJ0T2Zmc2V0KSksbnVsbCE9PWUmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbil7dmFyIGY9d2luZG93LmdldFNlbGVjdGlvbigpO2YucmVtb3ZlQWxsUmFuZ2VzKCksZi5hZGRSYW5nZShlKX1lbHNlIGlmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UpdHJ5e2U9ZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxlLm1vdmVUb1BvaW50KGIsYyk7dmFyIGc9ZS5kdXBsaWNhdGUoKTtnLm1vdmVUb1BvaW50KGIsYyksZS5zZXRFbmRQb2ludCgiRW5kVG9FbmQiLGcpLGUuc2VsZWN0KCl9Y2F0Y2goaCl7fXRoaXMucGxhY2VNYXJrZXIoZSwhMCwwKSx0aGlzLnBsYWNlTWFya2VyKGUsITEsMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpfHx0aGlzLmZvY3VzKCksdGhpcy5yZW1vdmVNYXJrZXJzKCk7Zm9yKHZhciBhPXRoaXMuZ2V0UmFuZ2VzKCksYj0wO2I8YS5sZW5ndGg7YisrKWlmKGFbYl0uc3RhcnRDb250YWluZXIhPT1kb2N1bWVudCl7dmFyIGM9YVtiXTt0aGlzLnBsYWNlTWFya2VyKGMsITAsYiksdGhpcy5wbGFjZU1hcmtlcihjLCExLGIpfX19LGEuRWRpdGFibGUucHJvdG90eXBlLmhhc1NlbGVjdGlvbkJ5TWFya2Vycz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgnLmYtbWFya2VyW2RhdGEtdHlwZT0idHJ1ZSJdJyk7cmV0dXJuIGEubGVuZ3RoPjA/ITA6ITF9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnM9ZnVuY3Rpb24oYil7aWYodm9pZCAwPT09YiYmKGI9ITApLCF0aGlzLnNlbGVjdGlvbkRpc2FibGVkKXt2YXIgYz10aGlzLiRlbGVtZW50LmZpbmQoJy5mLW1hcmtlcltkYXRhLXR5cGU9InRydWUiXScpO2lmKDA9PT1jLmxlbmd0aClyZXR1cm4hMTt0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKXx8dGhpcy5icm93c2VyLm1zaWV8fHRoaXMuJGVsZW1lbnQuZm9jdXMoKTt2YXIgZD10aGlzLmdldFNlbGVjdGlvbigpOyFiJiZ0aGlzLmdldFJhbmdlKCkuY29sbGFwc2VkJiZhKGNbMF0pLmF0dHIoImRhdGEtY29sbGFwc2VkIil8fCh0aGlzLmNsZWFyU2VsZWN0aW9uKCksYj0hMCk7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmLGc9YShjW2VdKS5kYXRhKCJpZCIpLGg9Y1tlXSxpPXRoaXMuJGVsZW1lbnQuZmluZCgnLmYtbWFya2VyW2RhdGEtdHlwZT0iZmFsc2UiXVtkYXRhLWlkPSInK2crJyJdJyk7aWYoZj1iP2RvY3VtZW50LmNyZWF0ZVJhbmdlKCk6dGhpcy5nZXRSYW5nZSgpLGkubGVuZ3RoPjApe2k9aVswXTt0cnl7Zi5zZXRTdGFydEFmdGVyKGgpLGYuc2V0RW5kQmVmb3JlKGkpfWNhdGNoKGope319YiYmZC5hZGRSYW5nZShmKX10aGlzLnJlbW92ZU1hcmtlcnMoKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdldFNlbGVjdGlvbigpO2lmKGUpe3RoaXMuY2xlYXJTZWxlY3Rpb24oKTt0cnl7Y3x8KGM9YSksdm9pZCAwPT09YiYmKGI9MCksdm9pZCAwPT09ZCYmKGQ9Yik7dmFyIGY9dGhpcy5nZXRSYW5nZSgpO2Yuc2V0U3RhcnQoYSxiKSxmLnNldEVuZChjLGIpLGUuYWRkUmFuZ2UoZil9Y2F0Y2goZyl7fX19LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkTWFya2VyPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gdm9pZCAwPT09ZCYmKGQ9IiIpLGEoJzxzcGFuIGNsYXNzPSJmLW1hcmtlciInK2QrJyBzdHlsZT0iZGlzcGxheTpub25lOyBsaW5lLWhlaWdodDogMDsiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGRhdGEtaWQ9IicrYysnIiBkYXRhLXR5cGU9IicrYisnIj4nLGRvY3VtZW50KVswXX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucGxhY2VNYXJrZXI9ZnVuY3Rpb24oYixjLGQpe3ZhciBlPSIiO2IuY29sbGFwc2VkJiYoZT0nIGRhdGEtY29sbGFwc2VkPSJ0cnVlIicpO3RyeXt2YXIgZj1iLmNsb25lUmFuZ2UoKTtpZihmLmNvbGxhcHNlKGMpLGYuaW5zZXJ0Tm9kZSh0aGlzLmJ1aWxkTWFya2VyKGMsZCxlKSksYz09PSEwJiZlKWZvcih2YXIgZz10aGlzLiRlbGVtZW50LmZpbmQoJ3NwYW4uZi1tYXJrZXJbZGF0YS10eXBlPSJ0cnVlIl1bZGF0YS1pZD0iJytkKyciXScpLmdldCgwKS5uZXh0U2libGluZzszPT09Zy5ub2RlVHlwZSYmMD09PWcuZGF0YS5sZW5ndGg7KWEoZykucmVtb3ZlKCksZz10aGlzLiRlbGVtZW50LmZpbmQoJ3NwYW4uZi1tYXJrZXJbZGF0YS10eXBlPSJ0cnVlIl1bZGF0YS1pZD0iJytkKyciXScpLmdldCgwKS5uZXh0U2libGluZ31jYXRjaChoKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZW1vdmVNYXJrZXJzPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5maW5kKCIuZi1tYXJrZXIiKS5yZW1vdmUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uVGV4dEluZm89ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPSExLGU9ITE7aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGY9d2luZG93LmdldFNlbGVjdGlvbigpO2YucmFuZ2VDb3VudCYmKGI9Zi5nZXRSYW5nZUF0KDApLGM9Yi5jbG9uZVJhbmdlKCksYy5zZWxlY3ROb2RlQ29udGVudHMoYSksYy5zZXRFbmQoYi5zdGFydENvbnRhaW5lcixiLnN0YXJ0T2Zmc2V0KSxkPSIiPT09Yy50b1N0cmluZygpLGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuc2V0U3RhcnQoYi5lbmRDb250YWluZXIsYi5lbmRPZmZzZXQpLGU9IiI9PT1jLnRvU3RyaW5nKCkpfWVsc2UgZG9jdW1lbnQuc2VsZWN0aW9uJiYiQ29udHJvbCIhPWRvY3VtZW50LnNlbGVjdGlvbi50eXBlJiYoYj1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxjPWIuZHVwbGljYXRlKCksYy5tb3ZlVG9FbGVtZW50VGV4dChhKSxjLnNldEVuZFBvaW50KCJFbmRUb1N0YXJ0IixiKSxkPSIiPT09Yy50ZXh0LGMubW92ZVRvRWxlbWVudFRleHQoYSksYy5zZXRFbmRQb2ludCgiU3RhcnRUb0VuZCIsYiksZT0iIj09PWMudGV4dCk7cmV0dXJue2F0U3RhcnQ6ZCxhdEVuZDplfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZW5kc1dpdGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4tMSE9PWEuaW5kZXhPZihiLGEubGVuZ3RoLWIubGVuZ3RoKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5oZXhUb1JHQj1mdW5jdGlvbihhKXt2YXIgYj0vXiM/KFthLWZcZF0pKFthLWZcZF0pKFthLWZcZF0pJC9pO2E9YS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGIrYitjK2MrZCtkfSk7dmFyIGM9L14jPyhbYS1mXGRdezJ9KShbYS1mXGRdezJ9KShbYS1mXGRdezJ9KSQvaS5leGVjKGEpO3JldHVybiBjP3tyOnBhcnNlSW50KGNbMV0sMTYpLGc6cGFyc2VJbnQoY1syXSwxNiksYjpwYXJzZUludChjWzNdLDE2KX06bnVsbH0sYS5FZGl0YWJsZS5oZXhUb1JHQlN0cmluZz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmhleFRvUkdCKGEpO3JldHVybiBiPyJyZ2IoIitiLnIrIiwgIitiLmcrIiwgIitiLmIrIikiOiIifSxhLkVkaXRhYmxlLlJHQlRvSGV4PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuKCIwIitwYXJzZUludChhLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKX10cnl7cmV0dXJuIGEmJiJ0cmFuc3BhcmVudCIhPT1hPy9eI1swLTlBLUZdezZ9JC9pLnRlc3QoYSk/YTooYT1hLm1hdGNoKC9ecmdiXCgoXGQrKSxccyooXGQrKSxccyooXGQrKVwpJC8pLCgiIyIrYihhWzFdKStiKGFbMl0pK2IoYVszXSkpLnRvVXBwZXJDYXNlKCkpOiIifWNhdGNoKGMpe3JldHVybiBudWxsfX0sYS5FZGl0YWJsZS5nZXRJRXZlcnNpb249ZnVuY3Rpb24oKXt2YXIgYSxiLGM9LTE7cmV0dXJuIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uZXcgUmVnRXhwKCJNU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pIiksbnVsbCE9PWIuZXhlYyhhKSYmKGM9cGFyc2VGbG9hdChSZWdFeHAuJDEpKSk6Ik5ldHNjYXBlIj09bmF2aWdhdG9yLmFwcE5hbWUmJihhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uZXcgUmVnRXhwKCJUcmlkZW50Ly4qcnY6KFswLTldezEsfVtcXC4wLTldezAsfSkiKSxudWxsIT09Yi5leGVjKGEpJiYoYz1wYXJzZUZsb2F0KFJlZ0V4cC4kMSkpKSxjfSxhLkVkaXRhYmxlLmJyb3dzZXI9ZnVuY3Rpb24oKXt2YXIgYT17fTtpZih0aGlzLmdldElFdmVyc2lvbigpPjApYS5tc2llPSEwO2Vsc2V7dmFyIGI9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGM9LyhjaHJvbWUpWyBcL10oW1x3Ll0rKS8uZXhlYyhiKXx8Lyh3ZWJraXQpWyBcL10oW1x3Ll0rKS8uZXhlYyhiKXx8LyhvcGVyYSkoPzouKnZlcnNpb258KVsgXC9dKFtcdy5dKykvLmV4ZWMoYil8fC8obXNpZSkgKFtcdy5dKykvLmV4ZWMoYil8fGIuaW5kZXhPZigiY29tcGF0aWJsZSIpPDAmJi8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKyl8KS8uZXhlYyhiKXx8W10sZD17YnJvd3NlcjpjWzFdfHwiIix2ZXJzaW9uOmNbMl18fCIwIn07Y1sxXSYmKGFbZC5icm93c2VyXT0hMCkscGFyc2VJbnQoZC52ZXJzaW9uLDEwKTw5JiZhLm1zaWUmJihhLm9sZE1zaWU9ITApLGEuY2hyb21lP2Eud2Via2l0PSEwOmEud2Via2l0JiYoYS5zYWZhcmk9ITApfXJldHVybiBhfSxhLkVkaXRhYmxlLmlzQXJyYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKCJsZW5ndGgiKSYmIm9iamVjdCI9PXR5cGVvZiBhJiYibnVtYmVyIj09dHlwZW9mIGEubGVuZ3RofSxhLkVkaXRhYmxlLnVuaXE9ZnVuY3Rpb24oYil7cmV0dXJuIGEuZ3JlcChiLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQ9PWEuaW5BcnJheShjLGIpfSl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oYil7aWYodm9pZCAwIT09Yil7aWYodGhpcy5vcHRpb25zLmlubGluZU1vZGV8fHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cClpZihudWxsIT09YiYmInRvdWNoZW5kIiE9PWIudHlwZSl7dmFyIGM9Yi5wYWdlWCxkPWIucGFnZVk7Yzx0aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQmJihjPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCkubGVmdCksYz50aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQrdGhpcy4kZWxlbWVudC53aWR0aCgpJiYoYz10aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQrdGhpcy4kZWxlbWVudC53aWR0aCgpKSxkPHRoaXMuJGVsZW1lbnQub2Zmc2V0LnRvcCYmKGQ9dGhpcy4kZWxlbWVudC5vZmZzZXQoKS50b3ApLGQ+dGhpcy4kZWxlbWVudC5vZmZzZXQoKS50b3ArdGhpcy4kZWxlbWVudC5oZWlnaHQoKSYmKGQ9dGhpcy4kZWxlbWVudC5vZmZzZXQoKS50b3ArdGhpcy4kZWxlbWVudC5oZWlnaHQoKSksMjA+YyYmKGM9MjApLDA+ZCYmKGQ9MCksdGhpcy5zaG93QnlDb29yZGluYXRlcyhjLGQpLGEoIi5mcm9hbGEtZWRpdG9yOm5vdCguZi1iYXNpYykiKS5oaWRlKCksdGhpcy4kZWRpdG9yLnNob3coKSwwIT09dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RofHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fHRoaXMuJGVkaXRvci5oaWRlKCl9ZWxzZSBhKCIuZnJvYWxhLWVkaXRvcjpub3QoLmYtYmFzaWMpIikuaGlkZSgpLHRoaXMuJGVkaXRvci5zaG93KCksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCk7dGhpcy5oaWRlUG9wdXBzKCksdGhpcy5vcHRpb25zLmVkaXRJblBvcHVwfHx0aGlzLnNob3dFZGl0UG9wdXBXcmFwcGVyKCksdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSx0aGlzLnJlZnJlc2hCdXR0b25zKCksdGhpcy5pbWFnZU1vZGU9ITF9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlRHJvcGRvd25zPWZ1bmN0aW9uKCl7dGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIC5mci10cmlnZ2VyIil9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWQ/KHZvaWQgMD09PWEmJihhPSEwKSxhP3RoaXMuaGlkZU90aGVyRWRpdG9ycygpOih0aGlzLmNsb3NlSW1hZ2VNb2RlKCksdGhpcy5pbWFnZU1vZGU9ITEpLHRoaXMuJHBvcHVwX2VkaXRvci5oaWRlKCksdGhpcy5oaWRlUG9wdXBzKCExKSx0aGlzLmhpZGVEcm9wZG93bnMoKSx2b2lkKHRoaXMubGluaz0hMSkpOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlT3RoZXJFZGl0b3JzPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPTE7Yjw9YS5FZGl0YWJsZS5jb3VudDtiKyspYiE9dGhpcy5faWQmJmEod2luZG93KS50cmlnZ2VyKCJoaWRlLiIrYil9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVCdHRuV3JhcHBlcj1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiZ0aGlzLiRidHRuX3dyYXBwZXIuaGlkZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93QnR0bldyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0VkaXRQb3B1cFdyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXImJih0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIuc2hvdygpLHNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5maW5kKCJpbnB1dCIpLnZhbCh0aGlzLiRlbGVtZW50LnRleHQoKSkuZm9jdXMoKS5zZWxlY3QoKX0sdGhpcyksMSkpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlUG9wdXBzPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPSEwKSxhJiZ0aGlzLmhpZGVCdHRuV3JhcHBlcigpLHRoaXMucmFpc2VFdmVudCgiaGlkZVBvcHVwcyIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93RWRpdFBvcHVwPWZ1bmN0aW9uKCl7dGhpcy5zaG93RWRpdFBvcHVwV3JhcHBlcigpfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXt2YXIgYjtpZih0aGlzLmlzTGluayl7Yj17fTt2YXIgYz10aGlzLiRlbGVtZW50O2IubGVmdD1jLm9mZnNldCgpLmxlZnQtYSh3aW5kb3cpLnNjcm9sbExlZnQoKSxiLnRvcD1jLm9mZnNldCgpLnRvcC1hKHdpbmRvdykuc2Nyb2xsVG9wKCksYi53aWR0aD1jLm91dGVyV2lkdGgoKSxiLmhlaWdodD1wYXJzZUludChjLmNzcygicGFkZGluZy10b3AiKS5yZXBsYWNlKCJweCIsIiIpLDEwKStjLmhlaWdodCgpLGIucmlnaHQ9MSxiLmJvdHRvbT0xLGIub2s9ITB9ZWxzZSBpZih0aGlzLmdldFJhbmdlKCkuY29sbGFwc2VkKXt2YXIgZD1hKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudCgpKTt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKTt2YXIgZT10aGlzLiRlbGVtZW50LmZpbmQoIi5mLW1hcmtlcjpmaXJzdCIpO2UuY3NzKCJkaXNwbGF5IiwiaW5saW5lIik7dmFyIGY9ZS5vZmZzZXQoKTtlLmNzcygiZGlzcGxheSIsIm5vbmUiKSxiPXt9LGIubGVmdD1mLmxlZnQtYSh3aW5kb3cpLnNjcm9sbExlZnQoKSxiLndpZHRoPTAsYi5oZWlnaHQ9KHBhcnNlSW50KGQuY3NzKCJsaW5lLWhlaWdodCIpLnJlcGxhY2UoInB4IiwiIiksMTApfHwxMCktMTAtYSh3aW5kb3cpLnNjcm9sbFRvcCgpLGIudG9wPWYudG9wLGIucmlnaHQ9MSxiLmJvdHRvbT0xLGIub2s9ITAsdGhpcy5yZW1vdmVNYXJrZXJzKCl9ZWxzZSBiPXRoaXMuZ2V0UmFuZ2UoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gYn0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVwb3NpdGlvbkVkaXRvcj1mdW5jdGlvbihiKXt2YXIgYyxkLGU7aWYodGhpcy5vcHRpb25zLmlubGluZU1vZGV8fGIpe2lmKGM9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSx0aGlzLnNob3dCdHRuV3JhcHBlcigpLGMub2t8fGMubGVmdD49MCYmYy50b3A+PTAmJmMucmlnaHQ+MCYmYy5ib3R0b20+MClkPWMubGVmdCtjLndpZHRoLzIsZT1jLnRvcCtjLmhlaWdodCx0aGlzLmlPUygpJiZ0aGlzLmlPU1ZlcnNpb24oKTw4fHwoZCs9YSh3aW5kb3cpLnNjcm9sbExlZnQoKSxlKz1hKHdpbmRvdykuc2Nyb2xsVG9wKCkpLHRoaXMuc2hvd0J5Q29vcmRpbmF0ZXMoZCxlKTtlbHNlIGlmKHRoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlKXRoaXMuaGlkZSgpO2Vsc2V7dmFyIGY9dGhpcy4kZWxlbWVudC5vZmZzZXQoKTt0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGYubGVmdCxmLnRvcCsxMCl9MD09PXRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aCYmdGhpcy5oaWRlKCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93QnlDb29yZGluYXRlcz1mdW5jdGlvbihiLGMpe2ItPTIwLGMrPTE1O3ZhciBkPU1hdGgubWF4KHRoaXMuJHBvcHVwX2VkaXRvci53aWR0aCgpLDI1MCk7YitkPj1hKHdpbmRvdykud2lkdGgoKS01MCYmYis0MC1kPjA/KHRoaXMuJHBvcHVwX2VkaXRvci5hZGRDbGFzcygicmlnaHQtc2lkZSIpLGI9YSh3aW5kb3cpLndpZHRoKCktKGIrNDApLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInRvcCIsYyksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygicmlnaHQiLGIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoImxlZnQiLCJhdXRvIikpOmIrZDxhKHdpbmRvdykud2lkdGgoKS01MD8odGhpcy4kcG9wdXBfZWRpdG9yLnJlbW92ZUNsYXNzKCJyaWdodC1zaWRlIiksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygidG9wIixjKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJsZWZ0IixiKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJyaWdodCIsImF1dG8iKSk6KHRoaXMuJHBvcHVwX2VkaXRvci5yZW1vdmVDbGFzcygicmlnaHQtc2lkZSIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInRvcCIsYyksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygibGVmdCIsTWF0aC5tYXgoYSh3aW5kb3cpLndpZHRoKCktZCwxMCkvMiksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygicmlnaHQiLCJhdXRvIikpLHRoaXMuJHBvcHVwX2VkaXRvci5zaG93KCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnBvc2l0aW9uUG9wdXA9ZnVuY3Rpb24oYil7aWYoYSh0aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uLmZyLWJ0dG5bZGF0YS1jbWQ9IicrYisnIl0nKSkubGVuZ3RoKXt2YXIgYz10aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uLmZyLWJ0dG5bZGF0YS1jbWQ9IicrYisnIl0nKSxkPWMud2lkdGgoKSxlPWMuaGVpZ2h0KCktMTUsZj1jLm9mZnNldCgpLmxlZnQrZC8yLGc9Yy5vZmZzZXQoKS50b3ArZTt0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGYsZyl9fX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLmltYWdlX2NvbW1hbmRzPXtmbG9hdEltYWdlTGVmdDp7dGl0bGU6IkZsb2F0IExlZnQiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1hbGlnbi1sZWZ0In19LGZsb2F0SW1hZ2VOb25lOnt0aXRsZToiRmxvYXQgTm9uZSIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLWFsaWduLWp1c3RpZnkifX0sZmxvYXRJbWFnZVJpZ2h0Ont0aXRsZToiRmxvYXQgUmlnaHQiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1hbGlnbi1yaWdodCJ9fSxsaW5rSW1hZ2U6e3RpdGxlOiJJbnNlcnQgTGluayIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLWxpbmsifX0scmVwbGFjZUltYWdlOnt0aXRsZToiUmVwbGFjZSBJbWFnZSIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLWV4Y2hhbmdlIn19LHJlbW92ZUltYWdlOnt0aXRsZToiUmVtb3ZlIEltYWdlIixpY29uOnt0eXBlOiJmb250Iix2YWx1ZToiZmEgZmEtdHJhc2gtbyJ9fX0sYS5FZGl0YWJsZS5ERUZBVUxUUz1hLmV4dGVuZChhLkVkaXRhYmxlLkRFRkFVTFRTLHthbGxvd2VkSW1hZ2VUeXBlczpbImpwZWciLCJqcGciLCJwbmciLCJnaWYiXSxkZWZhdWx0SW1hZ2VUaXRsZToiSW1hZ2UgdGl0bGUiLGRlZmF1bHRJbWFnZVdpZHRoOjMwMCxpbWFnZUJ1dHRvbnM6WyJmbG9hdEltYWdlTGVmdCIsImZsb2F0SW1hZ2VOb25lIiwiZmxvYXRJbWFnZVJpZ2h0IiwibGlua0ltYWdlIiwicmVwbGFjZUltYWdlIiwicmVtb3ZlSW1hZ2UiXSxpbWFnZURlbGV0ZUNvbmZpcm1hdGlvbjohMCxpbWFnZURlbGV0ZVVSTDpudWxsLGltYWdlRGVsZXRlUGFyYW1zOnt9LGltYWdlTW92ZTohMCxpbWFnZVJlc2l6ZTohMCxpbWFnZUxpbms6ITAsaW1hZ2VUaXRsZTohMCxpbWFnZVVwbG9hZDohMCxpbWFnZVVwbG9hZFBhcmFtczp7fSxpbWFnZVVwbG9hZFBhcmFtOiJmaWxlIixpbWFnZVVwbG9hZFRvUzM6ITEsaW1hZ2VVcGxvYWRVUkw6Imh0dHA6Ly9pLmZyb2FsYS5jb20vdXBsb2FkIixtYXhJbWFnZVNpemU6MTA0ODU3NjAscGFzdGVJbWFnZTohMCx0ZXh0TmVhckltYWdlOiEwfSksYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUltYWdlRWRpdG9yUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV9lZGl0b3ImJnRoaXMuJGltYWdlX2VkaXRvci5oaWRlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZUVkaXRvclBvcHVwPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3Iuc2hvdygpLHRoaXMub3B0aW9ucy5pbWFnZU1vdmV8fHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZVdyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV93cmFwcGVyJiZ0aGlzLiRpbWFnZV93cmFwcGVyLnNob3coKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUltYWdlV3JhcHBlcj1mdW5jdGlvbihhKXt0aGlzLiRpbWFnZV93cmFwcGVyJiYodGhpcy4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIpfHxhfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExKSx0aGlzLiRpbWFnZV93cmFwcGVyLmhpZGUoKSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoImlucHV0IikuYmx1cigpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0luc2VydEltYWdlPWZ1bmN0aW9uKCl7dGhpcy5oaWRlUG9wdXBzKCksdGhpcy5zaG93SW1hZ2VXcmFwcGVyKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZUVkaXRvcj1mdW5jdGlvbigpe3RoaXMuaGlkZVBvcHVwcygpLHRoaXMuc2hvd0ltYWdlRWRpdG9yUG9wdXAoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0SW1hZ2VIVE1MPWZ1bmN0aW9uKCl7dmFyIGI9JzxkaXYgY2xhc3M9ImZyb2FsYS1wb3B1cCBmcm9hbGEtaW1hZ2UtcG9wdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PGg0PjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+SW5zZXJ0IEltYWdlPC9zcGFuPjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+VXBsb2FkaW5nIGltYWdlPC9zcGFuPjxpIHRpdGxlPSJDYW5jZWwiIGNsYXNzPSJmYSBmYS10aW1lcyIgaWQ9ImYtaW1hZ2UtY2xvc2UtJyt0aGlzLl9pZCsnIj48L2k+PC9oND4nO3JldHVybiBiKz0nPGRpdiBpZD0iZi1pbWFnZS1saXN0LScrdGhpcy5faWQrJyI+Jyx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWQmJihiKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIGRyb3AtdXBsb2FkIj4nLGIrPSc8ZGl2IGNsYXNzPSJmLXVwbG9hZCIgaWQ9ImYtdXBsb2FkLWRpdi0nK3RoaXMuX2lkKyciPjxzdHJvbmcgZGF0YS10ZXh0PSJ0cnVlIj5Ecm9wIEltYWdlPC9zdHJvbmc+PGJyPig8c3BhbiBkYXRhLXRleHQ9InRydWUiPm9yIGNsaWNrPC9zcGFuPik8Zm9ybSB0YXJnZXQ9ImZyYW1lLScrdGhpcy5faWQrJyIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgZW5jb2Rpbmc9Im11bHRpcGFydC9mb3JtLWRhdGEiIGFjdGlvbj0iJyt0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRVUkwrJyIgbWV0aG9kPSJwb3N0IiBpZD0iZi11cGxvYWQtZm9ybS0nK3RoaXMuX2lkKyciPjxpbnB1dCBpZD0iZi1maWxlLXVwbG9hZC0nK3RoaXMuX2lkKyciIHR5cGU9ImZpbGUiIG5hbWU9IicrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW0rJyIgYWNjZXB0PSJpbWFnZS8qIj48L2Zvcm0+PC9kaXY+Jyx0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw9OSYmKGIrPSc8aWZyYW1lIGlkPSJmcmFtZS0nK3RoaXMuX2lkKyciIG5hbWU9ImZyYW1lLScrdGhpcy5faWQrJyIgc3JjPSJqYXZhc2NyaXB0OmZhbHNlOyIgc3R5bGU9IndpZHRoOjA7IGhlaWdodDowOyBib3JkZXI6MHB4IHNvbGlkICNGRkY7IHBvc2l0aW9uOiBmaXhlZDsgei1pbmRleDogLTE7Ij48L2lmcmFtZT4nKSxiKz0iPC9kaXY+IiksdGhpcy5vcHRpb25zLmltYWdlTGluayYmKGIrPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxsYWJlbD48c3BhbiBkYXRhLXRleHQ9InRydWUiPkVudGVyIFVSTDwvc3Bhbj46IDwvbGFiZWw+PGlucHV0IGlkPSJmLWltYWdlLXVybC0nK3RoaXMuX2lkKyciIHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSJodHRwOi8vZXhhbXBsZS5jb20iPjxidXR0b24gY2xhc3M9ImYtYnJvd3NlIiBpZD0iZi1icm93c2VyLScrdGhpcy5faWQrJyI+PGkgY2xhc3M9ImZhIGZhLXNlYXJjaCI+PC9pPjwvYnV0dG9uPjxidXR0b24gZGF0YS10ZXh0PSJ0cnVlIiBjbGFzcz0iZi1vayIgaWQ9ImYtaW1hZ2Utb2stJyt0aGlzLl9pZCsnIj5PSzwvYnV0dG9uPjwvZGl2PicpLGIrPSI8L2Rpdj4iLGIrPSc8cCBjbGFzcz0iZi1wcm9ncmVzcyIgaWQ9ImYtcHJvZ3Jlc3MtJyt0aGlzLl9pZCsnIj48c3Bhbj48L3NwYW4+PC9wPicsYis9IjwvZGl2PiIKfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pRnJhbWVMb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJpZnJhbWUjZnJhbWUtIit0aGlzLl9pZCk7aWYoIWEuYXR0cigiZGF0YS1sb2FkZWQiKSlyZXR1cm4gYS5hdHRyKCJkYXRhLWxvYWRlZCIsITApLCExO3RyeXt2YXIgYj10aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLXVwbG9hZC1mb3JtLSIrdGhpcy5faWQpO2lmKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMpe3ZhciBjPWIuYXR0cigiYWN0aW9uIiksZD1iLmZpbmQoJ2lucHV0W25hbWU9ImtleSJdJykudmFsKCksZT1jK2Q7dGhpcy53cml0ZUltYWdlKGUpLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMuY2FsbGJhY2smJnRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMuY2FsbGJhY2suY2FsbCh0aGlzLGUsZCl9ZWxzZXt2YXIgZj1hLmNvbnRlbnRzKCkudGV4dCgpO3RoaXMucGFyc2VJbWFnZVJlc3BvbnNlKGYpfX1jYXRjaChnKXt0aGlzLnRocm93SW1hZ2VFcnJvcig3KX19LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRJbWFnZT1mdW5jdGlvbigpe3RoaXMuYnVpbGRJbnNlcnRJbWFnZSgpLCghdGhpcy5pc0xpbmt8fHRoaXMuaXNJbWFnZSkmJnRoaXMuaW5pdEltYWdlUG9wdXAoKSx0aGlzLmFkZExpc3RlbmVyKCJkZXN0cm95Iix0aGlzLmRlc3Ryb3lJbWFnZSl9LGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLnB1c2goYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdEltYWdlKSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kZXN0cm95SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV9lZGl0b3ImJnRoaXMuJGltYWdlX2VkaXRvci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksdGhpcy4kaW1hZ2Vfd3JhcHBlciYmdGhpcy4kaW1hZ2Vfd3JhcHBlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkSW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV93cmFwcGVyPWEodGhpcy5pbnNlcnRJbWFnZUhUTUwoKSksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRpbWFnZV93cmFwcGVyKTt2YXIgYj10aGlzO2lmKHRoaXMuJGltYWdlX3dyYXBwZXIub24oIm1vdXNldXAgdG91Y2hlbmQiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCl9LHRoaXMpKSx0aGlzLmFkZExpc3RlbmVyKCJoaWRlUG9wdXBzIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlSW1hZ2VXcmFwcGVyKCEwKX0pLHRoaXMpLHRoaXMuJHByb2dyZXNzX2Jhcj10aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoInAjZi1wcm9ncmVzcy0iK3RoaXMuX2lkKSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWQpe2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPD05KXt2YXIgYz10aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoImlmcmFtZSIpLmdldCgwKTtjLmF0dGFjaEV2ZW50P2MuYXR0YWNoRXZlbnQoIm9ubG9hZCIsZnVuY3Rpb24oKXtiLmlGcmFtZUxvYWQoKX0pOmMub25sb2FkPWZ1bmN0aW9uKCl7Yi5pRnJhbWVMb2FkKCl9fXRoaXMuJGltYWdlX3dyYXBwZXIub24oImNoYW5nZSIsJ2lucHV0W3R5cGU9ImZpbGUiXScsZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLmZpbGVzKWIudXBsb2FkSW1hZ2UodGhpcy5maWxlcyk7ZWxzZXt2YXIgYz1hKHRoaXMpLnBhcmVudHMoImZvcm0iKTtjLmZpbmQoJ2lucHV0W3R5cGU9ImhpZGRlbiJdJykucmVtb3ZlKCk7dmFyIGQ7Zm9yKGQgaW4gYi5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW1zKWMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJytkKyciIHZhbHVlPSInK2Iub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtc1tkXSsnIiAvPicpO2lmKGIub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMhPT0hMSl7Zm9yKGQgaW4gYi5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXMpYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSInK2QrJyIgdmFsdWU9IicrYi5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXNbZF0rJyIgLz4nKTtjLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIgdmFsdWU9IjIwMSIgLz4nKSxjLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlgtUmVxdWVzdGVkLVdpdGgiIHZhbHVlPSJ4aHIiIC8+JyksYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJDb250ZW50LVR5cGUiIHZhbHVlPSIiIC8+JyksYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJrZXkiIHZhbHVlPSInK2Iub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMua2V5U3RhcnQrKG5ldyBEYXRlKS5nZXRUaW1lKCkrIi0iK2EodGhpcykudmFsKCkubWF0Y2goL1teXC9cXF0rJC8pKyciIC8+Jyl9ZWxzZSBjLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlhIUl9DT1JTX1RSQVJHRVRPUklHSU4iIHZhbHVlPSInK3dpbmRvdy5sb2NhdGlvbi5ocmVmKyciIC8+Jyk7Yi5zaG93SW5zZXJ0SW1hZ2UoKSxiLnNob3dJbWFnZUxvYWRlcighMCksYi5kaXNhYmxlKCksYy5zdWJtaXQoKX1hKHRoaXMpLnZhbCgiIil9KX10aGlzLmJ1aWxkRHJhZ1VwbG9hZCgpLHRoaXMuJGltYWdlX3dyYXBwZXIub24oIm1vdXNldXAga2V5ZG93biIsIiNmLWltYWdlLXVybC0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCl9LHRoaXMpKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjbGljayIsIiNmLWltYWdlLW9rLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMud3JpdGVJbWFnZSh0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLWltYWdlLXVybC0iK3RoaXMuX2lkKS52YWwoKSwhMCl9LHRoaXMpKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKHRoaXMubW91c2V1cCwiI2YtaW1hZ2UtY2xvc2UtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSx0aGlzLmhpZGVJbWFnZVdyYXBwZXIoITApLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYwPT09dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoJiYodGhpcy5pbWFnZU1vZGU/dGhpcy5zaG93SW1hZ2VFZGl0b3IoKTp0aGlzLmhpZGUoKSksdGhpcy5pbWFnZU1vZGV8fCh0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSx0aGlzLmZvY3VzKCkpLHZvaWQodGhpcy5vcHRpb25zLmlubGluZU1vZGV8fHRoaXMuaW1hZ2VNb2RlP3RoaXMuaW1hZ2VNb2RlJiZ0aGlzLnNob3dJbWFnZUVkaXRvcigpOnRoaXMuaGlkZSgpKSl9LHRoaXMpKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjbGljayIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLHRoaXMuJGltYWdlX3dyYXBwZXIub24oImNsaWNrIiwiKiIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kZWxldGVJbWFnZT1mdW5jdGlvbihiKXtpZih0aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVVUkwpe3ZhciBjPXRoaXMub3B0aW9ucy5pbWFnZURlbGV0ZVBhcmFtcztjLmluZm89Yi5kYXRhKCJpbmZvIiksYy5zcmM9Yi5hdHRyKCJzcmMiKSxhLmFqYXgoe3R5cGU6IlBPU1QiLHVybDp0aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVVUkwsZGF0YTpjLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzfSkuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGEpe2IucGFyZW50KCkucGFyZW50KCkuaGFzQ2xhc3MoImYtaW1hZ2UtbGlzdCIpP2IucGFyZW50KCkucmVtb3ZlKCk6Yi5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZi1pbWctZGVsZXRpbmciKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VEZWxldGVTdWNjZXNzIixbYV0sITEpfSx0aGlzKSkuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7Yi5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZi1pbWctZGVsZXRpbmciKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VEZWxldGVFcnJvciIsWyJFcnJvciBkdXJpbmcgaW1hZ2UgZGVsZXRlLiJdLCExKX0sdGhpcykpfWVsc2UgYi5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZi1pbWctZGVsZXRpbmciKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VEZWxldGVFcnJvciIsWyJNaXNzaW5nIGltYWdlRGVsZXRlVVJMIG9wdGlvbi4iXSwhMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmltYWdlSGFuZGxlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEoJzxzcGFuIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPicpLmFkZENsYXNzKCJmLWltZy1oYW5kbGUiKS5vbih7bW92ZXN0YXJ0OmZ1bmN0aW9uKGMpe2IuaGlkZSgpLGIuJGVsZW1lbnQuYWRkQ2xhc3MoImYtbm9uLXNlbGVjdGFibGUiKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCExKSxiLiRlbGVtZW50LmF0dHIoImRhdGEtcmVzaXplIiwhMCksYSh0aGlzKS5hdHRyKCJkYXRhLXN0YXJ0LXgiLGMuc3RhcnRYKSxhKHRoaXMpLmF0dHIoImRhdGEtc3RhcnQteSIsYy5zdGFydFkpfSxtb3ZlOmZ1bmN0aW9uKGMpe3ZhciBkPWEodGhpcyksZT1jLnBhZ2VYLXBhcnNlSW50KGQuYXR0cigiZGF0YS1zdGFydC14IiksMTApO2QuYXR0cigiZGF0YS1zdGFydC14IixjLnBhZ2VYKSxkLmF0dHIoImRhdGEtc3RhcnQteSIsYy5wYWdlWSk7dmFyIGY9ZC5wcmV2QWxsKCJpbWciKSxnPWYud2lkdGgoKTtkLmhhc0NsYXNzKCJmLWgtbmUiKXx8ZC5oYXNDbGFzcygiZi1oLXNlIik/Zi5hdHRyKCJ3aWR0aCIsZytlKTpmLmF0dHIoIndpZHRoIixnLWUpLGIudHJpZ2dlckV2ZW50KCJpbWFnZVJlc2l6ZSIsW10sITEpfSxtb3ZlZW5kOmZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmVBdHRyKCJkYXRhLXN0YXJ0LXgiKSxhKHRoaXMpLnJlbW92ZUF0dHIoImRhdGEtc3RhcnQteSIpLGIuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImYtbm9uLXNlbGVjdGFibGUiKSxiLmlzSW1hZ2V8fGIuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksYi50cmlnZ2VyRXZlbnQoImltYWdlUmVzaXplRW5kIiksYSh0aGlzKS50cmlnZ2VyKCJtb3VzZXVwIil9LHRvdWNoZW5kOmZ1bmN0aW9uKCl7YSh0aGlzKS50cmlnZ2VyKCJtb3ZlZW5kIil9fSk7cmV0dXJuIGN9LGEuRWRpdGFibGUucHJvdG90eXBlLmRpc2FibGVJbWFnZVJlc2l6ZT1mdW5jdGlvbigpe2lmKHRoaXMuYnJvd3Nlci5tb3ppbGxhKXRyeXtkb2N1bWVudC5leGVjQ29tbWFuZCgiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExLCExKSxkb2N1bWVudC5leGVjQ29tbWFuZCgiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSwhMSl9Y2F0Y2goYSl7fX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaXNSZXNpemluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbGVtZW50LmF0dHIoImRhdGEtcmVzaXplIil9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldEltYWdlQ2xhc3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcGxpdCgiICIpO3JldHVybiBiLmluZGV4T2YoImZyLWZpciIpPj0wPyJmci1maXIiOmIuaW5kZXhPZigiZnItZmlsIik+PTA/ImZyLWZpbCI6ImZyLWZpbiJ9LGEuRWRpdGFibGUucHJvdG90eXBlLmFkZEltYWdlQ2xhc3M9ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUNsYXNzKCJmci1maW4gZnItZmlyIGZyLWZpbCIpLmFkZENsYXNzKGIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0SW1hZ2VFdmVudHM9ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYhZG9jdW1lbnQuZHJvcEFzc2lnbmVkJiYoZG9jdW1lbnQuZHJvcEFzc2lnbmVkPSEwLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImRyb3AiLGEucHJveHkoZnVuY3Rpb24oYil7cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLnJlbW92ZUNsYXNzKCJmci1pbWFnZS1tb3ZlIiksITF9LHRoaXMpKSksdGhpcy5kaXNhYmxlSW1hZ2VSZXNpemUoKTt2YXIgYj10aGlzO3RoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biIsJ2ltZzpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGZ1bmN0aW9uKGMpe3JldHVybiBiLmlzRGlzYWJsZWQ/ITE6dm9pZChiLmlzUmVzaXppbmcoKXx8KGIuaW5pdGlhbGl6ZWQmJmMuc3RvcFByb3BhZ2F0aW9uKCksYi4kZWxlbWVudC5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCExKSxhKHRoaXMpLmFkZENsYXNzKCJmci1pbWFnZS1tb3ZlIikpKX0pLHRoaXMuJGVsZW1lbnQub24oIm1vdXNldXAiLCdpbWc6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxmdW5jdGlvbigpe3JldHVybiBiLmlzRGlzYWJsZWQ/ITE6dm9pZChiLmlzUmVzaXppbmcoKXx8KGIub3B0aW9ucy5pbWFnZU1vdmV8fGIuaXNJbWFnZXx8Yi5pc0hUTUx8fGIuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksYSh0aGlzKS5yZW1vdmVDbGFzcygiZnItaW1hZ2UtbW92ZSIpKSl9KSx0aGlzLiRlbGVtZW50Lm9uKCJjbGljayB0b3VjaGVuZCIsJ2ltZzpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGZ1bmN0aW9uKGMpe2lmKGIuaXNEaXNhYmxlZClyZXR1cm4hMTtpZighYi5pc1Jlc2l6aW5nKCkmJmIuaW5pdGlhbGl6ZWQpe2MucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpLGIuY2xvc2VJbWFnZU1vZGUoKSxiLiRlbGVtZW50LmJsdXIoKSxiLiRpbWFnZV9lZGl0b3IuZmluZCgiYnV0dG9uIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciBkPWEodGhpcykuY3NzKCJmbG9hdCIpO2lmKGEodGhpcykuaGFzQ2xhc3MoImZyLWZpbCIpP2Q9ImxlZnQiOmEodGhpcykuaGFzQ2xhc3MoImZyLWZpciIpJiYoZD0icmlnaHQiKSxiLiRpbWFnZV9lZGl0b3IuZmluZCgnYnV0dG9uW2RhdGEtY21kPSJmbG9hdEltYWdlJytkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Quc2xpY2UoMSkrJyJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpLGIuJGltYWdlX2VkaXRvci5maW5kKCcuZi1pbWFnZS1hbHQgaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKGEodGhpcykuYXR0cigiYWx0Iil8fGEodGhpcykuYXR0cigidGl0bGUiKSksYi5zaG93SW1hZ2VFZGl0b3IoKSwhYSh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygiZi1pbWctZWRpdG9yIil8fCJTUEFOIiE9YSh0aGlzKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSl7dmFyIGU9Yi5nZXRJbWFnZUNsYXNzKGEodGhpcykuYXR0cigiY2xhc3MiKSk7YSh0aGlzKS53cmFwKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBjbGFzcz0iZi1pbWctZWRpdG9yICcrZSsnIj48L3NwYW4+JyksMCE9PWEodGhpcykucGFyZW50cygiLmYtaW1nLXdyYXAiKS5sZW5ndGh8fGIuaXNJbWFnZT9iLmFkZEltYWdlQ2xhc3MoYSh0aGlzKS5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLGUpOmEodGhpcykucGFyZW50cygiYSIpLmxlbmd0aD4wP2EodGhpcykucGFyZW50cygiYTpmaXJzdCIpLndyYXAoJzxzcGFuIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGNsYXNzPSJmLWltZy13cmFwICcrZSsnIj48L3NwYW4+Jyk6YSh0aGlzKS5wYXJlbnQoKS53cmFwKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBjbGFzcz0iZi1pbWctd3JhcCAnK2UrJyI+PC9zcGFuPicpfXZhciBmPWIuaW1hZ2VIYW5kbGUoKTthKHRoaXMpLnBhcmVudCgpLmZpbmQoIi5mLWltZy1oYW5kbGUiKS5yZW1vdmUoKSxiLm9wdGlvbnMuaW1hZ2VSZXNpemUmJihhKHRoaXMpLnBhcmVudCgpLmFwcGVuZChmLmNsb25lKCEwKS5hZGRDbGFzcygiZi1oLW5lIikpLGEodGhpcykucGFyZW50KCkuYXBwZW5kKGYuY2xvbmUoITApLmFkZENsYXNzKCJmLWgtc2UiKSksYSh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoZi5jbG9uZSghMCkuYWRkQ2xhc3MoImYtaC1zdyIpKSxhKHRoaXMpLnBhcmVudCgpLmFwcGVuZChmLmNsb25lKCEwKS5hZGRDbGFzcygiZi1oLW53IikpKSxiLnNob3dCeUNvb3JkaW5hdGVzKGEodGhpcykub2Zmc2V0KCkubGVmdCthKHRoaXMpLndpZHRoKCkvMixhKHRoaXMpLm9mZnNldCgpLnRvcCthKHRoaXMpLmhlaWdodCgpKSxiLmltYWdlTW9kZT0hMCxiLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWJ0dG4iKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksYi5jbGVhclNlbGVjdGlvbigpfX0pLHRoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biB0b3VjaHN0YXJ0IiwiLmYtaW1nLWhhbmRsZSIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiBiLmlzRGlzYWJsZWQ/ITE6dm9pZCB0aGlzLiRlbGVtZW50LmF0dHIoImRhdGEtcmVzaXplIiwhMCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZXVwIiwiLmYtaW1nLWhhbmRsZSIsYS5wcm94eShmdW5jdGlvbihjKXtpZihiLmlzRGlzYWJsZWQpcmV0dXJuITE7dmFyIGQ9YShjLnRhcmdldCkucHJldkFsbCgiaW1nIik7c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCJkYXRhLXJlc2l6ZSIpLGQuY2xpY2soKX0sdGhpcyksMCl9LHRoaXMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdEltYWdlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLiRpbWFnZV9lZGl0b3I9YSgnPGRpdiBjbGFzcz0iZnJvYWxhLXBvcHVwIGZyb2FsYS1pbWFnZS1lZGl0b3ItcG9wdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lIj4nKTtmb3IodmFyIGI9YSgnPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIGYtcG9wdXAtdG9vbGJhciI+JykuYXBwZW5kVG8odGhpcy4kaW1hZ2VfZWRpdG9yKSxjPTA7Yzx0aGlzLm9wdGlvbnMuaW1hZ2VCdXR0b25zLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMub3B0aW9ucy5pbWFnZUJ1dHRvbnNbY107aWYodm9pZCAwIT09YS5FZGl0YWJsZS5pbWFnZV9jb21tYW5kc1tkXSl7dmFyIGU9YS5FZGl0YWJsZS5pbWFnZV9jb21tYW5kc1tkXSxmPSc8YnV0dG9uIGNsYXNzPSJmci1idHRuIiBkYXRhLWNhbGxiYWNrPSInK2QrJyIgZGF0YS1jbWQ9IicrZCsnIiB0aXRsZT0iJytlLnRpdGxlKyciPic7Zis9dm9pZCAwIT09dGhpcy5vcHRpb25zLmljb25zW2RdP3RoaXMucHJlcGFyZUljb24odGhpcy5vcHRpb25zLmljb25zW2RdLGUudGl0bGUpOnRoaXMucHJlcGFyZUljb24oZS5pY29uLGUudGl0bGUpLGYrPSI8L2J1dHRvbj4iLGIuYXBwZW5kKGYpfX10aGlzLmFkZExpc3RlbmVyKCJoaWRlUG9wdXBzIix0aGlzLmhpZGVJbWFnZUVkaXRvclBvcHVwKSx0aGlzLm9wdGlvbnMuaW1hZ2VUaXRsZSYmYSgnPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIGYtaW1hZ2UtYWx0Ij4nKS5hcHBlbmQoJzxsYWJlbD48c3BhbiBkYXRhLXRleHQ9InRydWUiPlRpdGxlPC9zcGFuPjogPC9sYWJlbD4nKS5hcHBlbmQoYSgnPGlucHV0IHR5cGU9InRleHQiPicpLm9uKCJtb3VzZXVwIGtleWRvd24iLGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7YiYmMjc9PT1ifHxhLnN0b3BQcm9wYWdhdGlvbigpfSkpLmFwcGVuZCgnPGJ1dHRvbiBjbGFzcz0iZi1vayIgZGF0YS10ZXh0PSJ0cnVlIiBkYXRhLWNhbGxiYWNrPSJzZXRJbWFnZUFsdCIgZGF0YS1jbWQ9InNldEltYWdlQWx0IiB0aXRsZT0iT0siPk9LPC9idXR0b24+JykuYXBwZW5kVG8odGhpcy4kaW1hZ2VfZWRpdG9yKSx0aGlzLiRwb3B1cF9lZGl0b3IuYXBwZW5kKHRoaXMuJGltYWdlX2VkaXRvciksdGhpcy5iaW5kQ29tbWFuZEV2ZW50cyh0aGlzLiRpbWFnZV9lZGl0b3IpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mbG9hdEltYWdlTGVmdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLmFkZEltYWdlQ2xhc3MoYSwiZnItZmlsIiksdGhpcy5pc0ltYWdlJiZ0aGlzLiRlbGVtZW50LmNzcygiZmxvYXQiLCJsZWZ0IiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRmxvYXRlZExlZnQiKSxhLmZpbmQoImltZyIpLmNsaWNrKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmZsb2F0SW1hZ2VOb25lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO3RoaXMuYWRkSW1hZ2VDbGFzcyhhLCJmci1maW4iKSx0aGlzLmlzSW1hZ2V8fChhLnBhcmVudCgpLmdldCgwKT09dGhpcy4kZWxlbWVudC5nZXQoMCk/YS53cmFwKCc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48L2Rpdj4nKTphLnBhcmVudHMoIi5mLWltZy13cmFwOmZpcnN0IikuY3NzKCJ0ZXh0LWFsaWduIiwiY2VudGVyIikpLHRoaXMuaXNJbWFnZSYmdGhpcy4kZWxlbWVudC5jc3MoImZsb2F0Iiwibm9uZSIpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUZsb2F0ZWROb25lIiksYS5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mbG9hdEltYWdlUmlnaHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7dGhpcy5hZGRJbWFnZUNsYXNzKGEsImZyLWZpciIpLHRoaXMuaXNJbWFnZSYmdGhpcy4kZWxlbWVudC5jc3MoImZsb2F0IiwicmlnaHQiKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VGbG9hdGVkUmlnaHQiKSxhLmZpbmQoImltZyIpLmNsaWNrKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmxpbmtJbWFnZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLnNob3dJbnNlcnRMaW5rKCksdGhpcy5pbWFnZU1vZGU9ITAsIkEiPT1hLnBhcmVudCgpLmdldCgwKS50YWdOYW1lPyh0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKGEucGFyZW50KCkuYXR0cigiaHJlZiIpKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiLmYtZXh0ZXJuYWwtbGluayIpLmF0dHIoImhyZWYiLGEucGFyZW50KCkuYXR0cigiaHJlZiIpKSwiX2JsYW5rIj09YS5wYXJlbnQoKS5hdHRyKCJ0YXJnZXQiKT90aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLnByb3AoImNoZWNrZWQiLCEwKTp0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLnNob3coKSk6KHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoImh0dHA6Ly8iKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiLmYtZXh0ZXJuYWwtbGluayIpLmF0dHIoImhyZWYiLCIjIiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIix0aGlzLm9wdGlvbnMuYWx3YXlzQmxhbmspLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJhLmYtZXh0ZXJuYWwtbGluaywgYnV0dG9uLmYtdW5saW5rIikuaGlkZSgpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVwbGFjZUltYWdlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO3RoaXMuc2hvd0luc2VydEltYWdlKCksdGhpcy5pbWFnZU1vZGU9ITAsdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoYS5maW5kKCJpbWciKS5hdHRyKCJzcmMiKSk7dmFyIGI9YS5maW5kKCJpbWciKTt0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGIub2Zmc2V0KCkubGVmdCtiLndpZHRoKCkvMixiLm9mZnNldCgpLnRvcCtiLmhlaWdodCgpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7aWYoMD09PWIubGVuZ3RoKXJldHVybiExO3ZhciBjPWIuZmluZCgiaW1nIikuZ2V0KDApLGQ9IkFyZSB5b3Ugc3VyZT8gSW1hZ2Ugd2lsbCBiZSBkZWxldGVkLiI7aWYoYS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdJiYoZD1hLkVkaXRhYmxlLkxBTkdTW3RoaXMub3B0aW9ucy5sYW5ndWFnZV0udHJhbnNsYXRpb25bZF0pLCF0aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVDb25maXJtYXRpb258fGNvbmZpcm0oZCkpe2lmKHRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVSZW1vdmVJbWFnZSIsW2EoYyldLCExKSl7dmFyIGU9Yi5wYXJlbnRzKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKTtiLnBhcmVudHMoIi5mLWltZy13cmFwIikubGVuZ3RoP2IucGFyZW50cygiLmYtaW1nLXdyYXAiKS5yZW1vdmUoKTpiLnJlbW92ZSgpLHRoaXMucmVmcmVzaEltYWdlTGlzdCghMCksdGhpcy5oaWRlKCksZS5sZW5ndGgmJmVbMF0hPXRoaXMuJGVsZW1lbnQuZ2V0KDApJiYiIj09PWEoZVswXSkudGV4dCgpJiZhKGVbMF0pLnJlbW92ZSgpLHRoaXMud3JhcFRleHQoKSx0aGlzLnRyaWdnZXJFdmVudCgiYWZ0ZXJSZW1vdmVJbWFnZSIsW2EoYyldKSx0aGlzLmZvY3VzKCksdGhpcy5pbWFnZU1vZGU9ITF9fWVsc2UgYi5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zZXRJbWFnZUFsdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTthLmZpbmQoImltZyIpLmF0dHIoImFsdCIsdGhpcy4kaW1hZ2VfZWRpdG9yLmZpbmQoJy5mLWltYWdlLWFsdCBpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoKSksYS5maW5kKCJpbWciKS5hdHRyKCJ0aXRsZSIsdGhpcy4kaW1hZ2VfZWRpdG9yLmZpbmQoJy5mLWltYWdlLWFsdCBpbnB1dFt0eXBlPSJ0ZXh0Il0nKS52YWwoKSksdGhpcy5oaWRlKCksdGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUFsdFNldCIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZEltYWdlTW92ZT1mdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5pc0xpbmt8fHRoaXMuaW5pdERyYWcoKSxiLiRlbGVtZW50Lm9uKCJkcmFnb3ZlciBkcmFnZW50ZXIgZHJhZ2VuZCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pLGIuJGVsZW1lbnQub24oImRyb3AiLGZ1bmN0aW9uKGMpe2lmKGIuY2xvc2VJbWFnZU1vZGUoKSxiLmhpZGUoKSxiLmltYWdlTW9kZT0hMSxiLmluaXRpYWxpemVkfHwoYi4kZWxlbWVudC51bmJpbmQoIm1vdXNlZG93bi5lbGVtZW50IiksYi5sYXRlSW5pdCgpKSwhYi5vcHRpb25zLmltYWdlVXBsb2FkfHwwIT09YSgiLmZyb2FsYS1lbGVtZW50IGltZy5mci1pbWFnZS1tb3ZlIikubGVuZ3RoKXtpZihhKCIuZnJvYWxhLWVsZW1lbnQgLmZyLWltYWdlLW1vdmUiKS5sZW5ndGg+MCYmYi5vcHRpb25zLmltYWdlTW92ZSl7Yy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksYi5pbnNlcnRNYXJrZXJzQXRQb2ludChjLm9yaWdpbmFsRXZlbnQpLGIucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBkPWEoIjxkaXY+IikuYXBwZW5kKGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLmNsb25lKCkucmVtb3ZlQ2xhc3MoImZyLWltYWdlLW1vdmUiKS5hZGRDbGFzcygiZnItaW1hZ2UtZHJvcHBlZCIpKS5odG1sKCk7Yi5pbnNlcnRIVE1MKGQpLGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLnJlbW92ZSgpLGIuY2xlYXJTZWxlY3Rpb24oKSxiLmluaXRpYWxpemVkP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLiRlbGVtZW50LmZpbmQoIi5mci1pbWFnZS1kcm9wcGVkIikucmVtb3ZlQ2xhc3MoIi5mci1pbWFnZS1kcm9wcGVkIikuY2xpY2soKX0sMCk6Yi4kZWxlbWVudC5maW5kKCIuZnItaW1hZ2UtZHJvcHBlZCIpLnJlbW92ZUNsYXNzKCIuZnItaW1hZ2UtZHJvcHBlZCIpLGIuc3luYygpLGIuaGlkZU90aGVyRWRpdG9ycygpfWVsc2UgYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksYSgiLmZyb2FsYS1lbGVtZW50IGltZy5mci1pbWFnZS1tb3ZlIikucmVtb3ZlQ2xhc3MoImZyLWltYWdlLW1vdmUiKTtyZXR1cm4hMX1pZihjLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyJiZjLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzJiZjLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCl7aWYoYi5pc0Rpc2FibGVkKXJldHVybiExO2IuaW5zZXJ0TWFya2Vyc0F0UG9pbnQoYy5vcmlnaW5hbEV2ZW50KSxiLnNob3dCeUNvb3JkaW5hdGVzKGMub3JpZ2luYWxFdmVudC5wYWdlWCxjLm9yaWdpbmFsRXZlbnQucGFnZVkpLGIudXBsb2FkSW1hZ2UoYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcyksYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCl9fSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkRHJhZ1VwbG9hZD1mdW5jdGlvbigpe3ZhciBiPXRoaXM7Yi4kaW1hZ2Vfd3JhcHBlci5vbigiZHJhZ292ZXIiLCIjZi11cGxvYWQtZGl2LSIrdGhpcy5faWQsZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5hZGRDbGFzcygiZi1ob3ZlciIpLCExfSksYi4kaW1hZ2Vfd3JhcHBlci5vbigiZHJhZ2VuZCIsIiNmLXVwbG9hZC1kaXYtIit0aGlzLl9pZCxmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnJlbW92ZUNsYXNzKCJmLWhvdmVyIiksITF9KSxiLiRpbWFnZV93cmFwcGVyLm9uKCJkcm9wIiwiI2YtdXBsb2FkLWRpdi0iK3RoaXMuX2lkLGZ1bmN0aW9uKGMpe3JldHVybiBjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSxiLm9wdGlvbnMuaW1hZ2VVcGxvYWQ/KGEodGhpcykucmVtb3ZlQ2xhc3MoImYtaG92ZXIiKSx2b2lkIGIudXBsb2FkSW1hZ2UoYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcykpOiExfSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbWFnZUxvYWRlcj1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT0hMSksYT90aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIik6dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJoNCIpLmFkZENsYXNzKCJ1cGxvYWRpbmciKSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLWltYWdlLWxpc3QtIit0aGlzLl9pZCkuaGlkZSgpLHRoaXMuJHByb2dyZXNzX2Jhci5zaG93KCksdGhpcy5zaG93SW5zZXJ0SW1hZ2UoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUltYWdlTG9hZGVyPWZ1bmN0aW9uKCl7dGhpcy4kcHJvZ3Jlc3NfYmFyLmhpZGUoKSx0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIwJSIpLnRleHQoIiIpLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiI2YtaW1hZ2UtbGlzdC0iK3RoaXMuX2lkKS5zaG93KCksdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJoNCIpLnJlbW92ZUNsYXNzKCJ1cGxvYWRpbmciKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUud3JpdGVJbWFnZT1mdW5jdGlvbihiLGMpe2lmKGMmJihiPXRoaXMuc2FuaXRpemVVUkwoYiksIiI9PT1iKSlyZXR1cm4hMTt2YXIgZD1uZXcgSW1hZ2U7ZC5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMudGhyb3dJbWFnZUVycm9yKDEpfSx0aGlzKSxkLm9ubG9hZD10aGlzLmltYWdlTW9kZT9hLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yID4gaW1nIik7YS5hdHRyKCJzcmMiLGIpLHRoaXMuaGlkZSgpLHRoaXMuaGlkZUltYWdlTG9hZGVyKCksdGhpcy4kaW1hZ2VfZWRpdG9yLnNob3coKSx0aGlzLmVuYWJsZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZVJlcGxhY2VkIixbYV0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRyaWdnZXIoImNsaWNrIil9LDApfSx0aGlzKTphLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRMb2FkZWRJbWFnZShiKX0sdGhpcyksdGhpcy5zaG93SW1hZ2VMb2FkZXIoITApLGQuc3JjPWJ9LGEuRWRpdGFibGUucHJvdG90eXBlLnByb2Nlc3NJbnNlcnRJbWFnZT1mdW5jdGlvbihiLGMpe3ZvaWQgMD09PWMmJihjPSEwKSx0aGlzLmVuYWJsZSgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbigpLHRoaXMuZm9jdXMoKTt2YXIgZD0iIjtwYXJzZUludCh0aGlzLm9wdGlvbnMuZGVmYXVsdEltYWdlV2lkdGgsMTApJiYoZD0nIHdpZHRoPSInK3RoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VXaWR0aCsnIicpO3ZhciBlPSc8aW1nIGNsYXNzPSJmci1maW4gZnItanVzdC1pbnNlcnRlZCIgYWx0PSInK3RoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VUaXRsZSsnIiBzcmM9IicrYisnIicrZCsiPiIsZj10aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKClbMF0sZz10aGlzLmdldFJhbmdlKCksaD0hdGhpcy5icm93c2VyLm1zaWUmJmEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uKCk+OD9hKGcuc3RhcnRDb250YWluZXIpOm51bGw7aCYmaC5oYXNDbGFzcygiZi1pbWctd3JhcCIpPygxPT09Zy5zdGFydE9mZnNldD8oaC5hZnRlcignPHA+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiPjwvc3Bhbj48YnIvPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCI+PC9zcGFuPjwvcD4nKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmdldFNlbGVjdGlvbigpLmNvbGxhcHNlVG9TdGFydCgpKTowPT09Zy5zdGFydE9mZnNldCYmKGguYmVmb3JlKCc8cD48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0idHJ1ZSIgZGF0YS1pZD0iMCI+PC9zcGFuPjxici8+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIj48L3NwYW4+PC9wPicpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuZ2V0U2VsZWN0aW9uKCkuY29sbGFwc2VUb1N0YXJ0KCkpLHRoaXMuaW5zZXJ0SFRNTChlKSk6dGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhmKS5hdFN0YXJ0JiZmIT10aGlzLiRlbGVtZW50LmdldCgwKSYmIlREIiE9Zi50YWdOYW1lJiYiVEgiIT1mLnRhZ05hbWUmJiJMSSIhPWYudGFnTmFtZT9hKGYpLmJlZm9yZSgiPHA+IitlKyI8L3A+Iik6dGhpcy5pbnNlcnRIVE1MKGUpLHRoaXMuZGlzYWJsZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRMb2FkZWRJbWFnZT1mdW5jdGlvbihiKXt0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VMb2FkZWQiLFtiXSwhMSksdGhpcy5wcm9jZXNzSW5zZXJ0SW1hZ2UoYiwhMSksdGhpcy5icm93c2VyLm1zaWUmJnRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuZWFjaChmdW5jdGlvbihhLGIpe2Iub25jb250cm9sc2VsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuITF9fSksdGhpcy5lbmFibGUoKSx0aGlzLmhpZGUoKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMud3JhcFRleHQoKSxzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoImltZy5mci1qdXN0LWluc2VydGVkIikucmVtb3ZlQ2xhc3MoImZyLWp1c3QtaW5zZXJ0ZWQiKS50cmlnZ2VyKCJ0b3VjaGVuZCIpfSx0aGlzKSw1MCksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlSW5zZXJ0ZWQiLFtiXSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnRocm93SW1hZ2VFcnJvcldpdGhNZXNzYWdlPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlKCksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRXJyb3IiLFt7bWVzc2FnZTphLGNvZGU6MH1dLCExKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50aHJvd0ltYWdlRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGUoKTt2YXIgYj0iVW5rbm93biBpbWFnZSB1cGxvYWQgZXJyb3IuIjsxPT1hP2I9IkJhZCBsaW5rLiI6Mj09YT9iPSJObyBsaW5rIGluIHVwbG9hZCByZXNwb25zZS4iOjM9PWE/Yj0iRXJyb3IgZHVyaW5nIGZpbGUgdXBsb2FkLiI6ND09YT9iPSJQYXJzaW5nIHJlc3BvbnNlIGZhaWxlZC4iOjU9PWE/Yj0iSW1hZ2UgdG9vIGxhcmdlLiI6Nj09YT9iPSJJbnZhbGlkIGltYWdlIHR5cGUuIjo3PT1hJiYoYj0iSW1hZ2UgY2FuIGJlIHVwbG9hZGVkIG9ubHkgdG8gc2FtZSBkb21haW4gaW4gSUUgOCBhbmQgSUUgOS4iKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VFcnJvciIsW3tjb2RlOmEsbWVzc2FnZTpifV0sITEpLHRoaXMuaGlkZUltYWdlTG9hZGVyKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnVwbG9hZEltYWdlPWZ1bmN0aW9uKGIpe2lmKCF0aGlzLnRyaWdnZXJFdmVudCgiYmVmb3JlSW1hZ2VVcGxvYWQiLFtiXSwhMSkpcmV0dXJuITE7aWYodm9pZCAwIT09YiYmYi5sZW5ndGg+MCl7dmFyIGM7aWYodGhpcy5kcmFnX3N1cHBvcnQuZm9ybWRhdGEmJihjPXRoaXMuZHJhZ19zdXBwb3J0LmZvcm1kYXRhP25ldyBGb3JtRGF0YTpudWxsKSxjKXt2YXIgZDtmb3IoZCBpbiB0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXMpYy5hcHBlbmQoZCx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXNbZF0pO2lmKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMhPT0hMSl7Zm9yKGQgaW4gdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXMpYy5hcHBlbmQoZCx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLnBhcmFtc1tkXSk7Yy5hcHBlbmQoInN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIsIjIwMSIpLGMuYXBwZW5kKCJYLVJlcXVlc3RlZC1XaXRoIiwieGhyIiksYy5hcHBlbmQoIkNvbnRlbnQtVHlwZSIsYlswXS50eXBlKSxjLmFwcGVuZCgia2V5Iix0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmtleVN0YXJ0KyhuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIitiWzBdLm5hbWUpfWlmKGMuYXBwZW5kKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtLGJbMF0pLGJbMF0uc2l6ZT50aGlzLm9wdGlvbnMubWF4SW1hZ2VTaXplKXJldHVybiB0aGlzLnRocm93SW1hZ2VFcnJvcig1KSwhMTtpZih0aGlzLm9wdGlvbnMuYWxsb3dlZEltYWdlVHlwZXMuaW5kZXhPZihiWzBdLnR5cGUucmVwbGFjZSgvaW1hZ2VcLy9nLCIiKSk8MClyZXR1cm4gdGhpcy50aHJvd0ltYWdlRXJyb3IoNiksITF9aWYoYyl7dmFyIGU7aWYodGhpcy5vcHRpb25zLmNyb3NzRG9tYWluKWU9dGhpcy5jcmVhdGVDT1JTUmVxdWVzdCgiUE9TVCIsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMKTtlbHNle2U9bmV3IFhNTEh0dHBSZXF1ZXN0LGUub3BlbigiUE9TVCIsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMKTtmb3IodmFyIGYgaW4gdGhpcy5vcHRpb25zLmhlYWRlcnMpZS5zZXRSZXF1ZXN0SGVhZGVyKGYsdGhpcy5vcHRpb25zLmhlYWRlcnNbZl0pfWUub25sb2FkPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIik7dHJ5e3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzM/MjAxPT1lLnN0YXR1cz90aGlzLnBhcnNlSW1hZ2VSZXNwb25zZVhNTChlLnJlc3BvbnNlWE1MKTp0aGlzLnRocm93SW1hZ2VFcnJvcigzKTplLnN0YXR1cz49MjAwJiZlLnN0YXR1czwzMDA/dGhpcy5wYXJzZUltYWdlUmVzcG9uc2UoZS5yZXNwb25zZVRleHQpOnRoaXMudGhyb3dJbWFnZUVycm9yKDMpfWNhdGNoKGEpe3RoaXMudGhyb3dJbWFnZUVycm9yKDQpfX0sdGhpcyksZS5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRocm93SW1hZ2VFcnJvcigzKX0sdGhpcyksZS51cGxvYWQub25wcm9ncmVzcz1hLnByb3h5KGZ1bmN0aW9uKGEpe2lmKGEubGVuZ3RoQ29tcHV0YWJsZSl7dmFyIGI9YS5sb2FkZWQvYS50b3RhbCoxMDB8MDt0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLGIrIiUiKX19LHRoaXMpLHRoaXMuZGlzYWJsZSgpLGUuc2VuZChjKSx0aGlzLnNob3dJbWFnZUxvYWRlcigpfX19LGEuRWRpdGFibGUucHJvdG90eXBlLnBhcnNlSW1hZ2VSZXNwb25zZT1mdW5jdGlvbihiKXt0cnl7dmFyIGM9YS5wYXJzZUpTT04oYik7Yy5saW5rP3RoaXMud3JpdGVJbWFnZShjLmxpbmspOmMuZXJyb3I/dGhpcy50aHJvd0ltYWdlRXJyb3JXaXRoTWVzc2FnZShjLmVycm9yKTp0aGlzLnRocm93SW1hZ2VFcnJvcigyKX1jYXRjaChkKXt0aGlzLnRocm93SW1hZ2VFcnJvcig0KX19LGEuRWRpdGFibGUucHJvdG90eXBlLnBhcnNlSW1hZ2VSZXNwb25zZVhNTD1mdW5jdGlvbihiKXt0cnl7dmFyIGM9YShiKS5maW5kKCJMb2NhdGlvbiIpLnRleHQoKSxkPWEoYikuZmluZCgiS2V5IikudGV4dCgpO3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMuY2FsbGJhY2suY2FsbCh0aGlzLGMsZCksYz90aGlzLndyaXRlSW1hZ2UoYyk6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZSl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zZXRJbWFnZVVwbG9hZFVSTD1mdW5jdGlvbihhKXthJiYodGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMPWEpLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMmJih0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRVUkw9Imh0dHBzOi8vIit0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmJ1Y2tldCsiLiIrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5yZWdpb24rIi5hbWF6b25hd3MuY29tLyIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbG9zZUltYWdlTW9kZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IgPiBpbWciKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt0aGlzLmFkZEltYWdlQ2xhc3MoYShjKSx0aGlzLmdldEltYWdlQ2xhc3MoYShjKS5wYXJlbnQoKS5hdHRyKCJjbGFzcyIpKSksYShjKS5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLmxlbmd0aD4wPyJBIj09YShjKS5wYXJlbnQoKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZT9hKGMpLnNpYmxpbmdzKCJzcGFuLmYtaW1nLWhhbmRsZSIpLnJlbW92ZSgpLmVuZCgpLnVud3JhcCgpLnBhcmVudCgpLnVud3JhcCgpOmEoYykuc2libGluZ3MoInNwYW4uZi1pbWctaGFuZGxlIikucmVtb3ZlKCkuZW5kKCkudW53cmFwKCkudW53cmFwKCk6YShjKS5zaWJsaW5ncygic3Bhbi5mLWltZy1oYW5kbGUiKS5yZW1vdmUoKS5lbmQoKS51bndyYXAoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKS5sZW5ndGgmJih0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIikucmVtb3ZlKCksdGhpcy4kZWxlbWVudC5wYXJlbnRzKCJzcGFuLmYtaW1nLWVkaXRvciIpLnJlbW92ZSgpKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLW5vbi1zZWxlY3RhYmxlIiksdGhpcy5lZGl0YWJsZURpc2FibGVkfHx0aGlzLmlzSFRNTHx8dGhpcy4kZWxlbWVudC5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCEwKSx0aGlzLiRpbWFnZV9lZGl0b3ImJnRoaXMuJGltYWdlX2VkaXRvci5oaWRlKCksdGhpcy4kbGlua193cmFwcGVyJiZ0aGlzLm9wdGlvbnMubGlua1RleHQmJnRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJmci1oaWRkZW4iKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaEltYWdlTGlzdD1mdW5jdGlvbihiKXtpZighdGhpcy5pc0xpbmsmJiF0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXApe3ZhciBjPVtdLGQ9W10sZT10aGlzO2lmKHRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuZWFjaChmdW5jdGlvbihiLGYpe3ZhciBnPWEoZik7aWYoYy5wdXNoKGcuYXR0cigic3JjIikpLGQucHVzaChnKSwwPT09Zy5wYXJlbnRzKCIuZi1pbWctZWRpdG9yIikubGVuZ3RoJiYhZy5oYXNDbGFzcygiZnItZmlsIikmJiFnLmhhc0NsYXNzKCJmci1maXIiKSYmIWcuaGFzQ2xhc3MoImZyLWZpbiIpKXt2YXIgaDsicmlnaHQiPT1nLmNzcygiZmxvYXQiKT8oaD1nLnBhcmVudCgpLGguaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpP2guYWRkQ2xhc3MoImZyLWZpciIpOmcuYWRkQ2xhc3MoImZyLWZpciIpKToibGVmdCI9PWcuY3NzKCJmbG9hdCIpPyhoPWcucGFyZW50KCksaC5oYXNDbGFzcygiZi1pbWctZWRpdG9yIik/aC5hZGRDbGFzcygiZnItZmlsIik6Zy5hZGRDbGFzcygiZnItZmlsIikpOihoPWcucGFyZW50KCksaC5oYXNDbGFzcygiZi1pbWctZWRpdG9yIik/aC5hZGRDbGFzcygiZnItZmluIik6Zy5hZGRDbGFzcygiZnItZmluIikpfWUub3B0aW9ucy50ZXh0TmVhckltYWdlP2cucmVtb3ZlQ2xhc3MoImZyLXRuaSIpOmcuYWRkQ2xhc3MoImZyLXRuaSIpLGcuY3NzKCJtYXJnaW4iLCIiKSxnLmNzcygiZmxvYXQiLCIiKX0pLHZvaWQgMD09PWIpZm9yKHZhciBmPTA7Zjx0aGlzLmltYWdlTGlzdC5sZW5ndGg7ZisrKWMuaW5kZXhPZih0aGlzLmltYWdlTGlzdFtmXS5hdHRyKCJzcmMiKSk8MCYmdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUmVtb3ZlSW1hZ2UiLFt0aGlzLmltYWdlTGlzdFtmXV0sITEpO3RoaXMuaW1hZ2VMaXN0PWR9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRJbWFnZT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMucG9zaXRpb25Qb3B1cCgiaW5zZXJ0SW1hZ2UiKSksdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLnNhdmVTZWxlY3Rpb24oKSx0aGlzLnNob3dJbnNlcnRJbWFnZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCIiKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0xpbmtXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyJiYodGhpcy4kbGlua193cmFwcGVyLnNob3coKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0LmYtbHUiKS5yZW1vdmVDbGFzcygiZnItZXJyb3IiKSx0aGlzLmltYWdlTW9kZXx8IXRoaXMub3B0aW9ucy5saW5rVGV4dD90aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHQnKS5wYXJlbnQoKS5hZGRDbGFzcygiZnItaGlkZGVuIik6dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx0JykucGFyZW50KCkucmVtb3ZlQ2xhc3MoImZyLWhpZGRlbiIpLHRoaXMuaW1hZ2VNb2RlJiZ0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMucGhvbmUoKT90aGlzLiRkb2N1bWVudC5zY3JvbGxUb3AodGhpcy4kbGlua193cmFwcGVyLm9mZnNldCgpLnRvcC0xMCk6c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykuZm9jdXMoKS5zZWxlY3QoKX0sdGhpcyksMCksdGhpcy5saW5rPSEwKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZUxpbmtXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyJiYodGhpcy4kbGlua193cmFwcGVyLmhpZGUoKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQiKS5ibHVyKCkpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW5zZXJ0TGluaz1mdW5jdGlvbigpe3RoaXMuaGlkZVBvcHVwcygpLHRoaXMuc2hvd0xpbmtXcmFwcGVyKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRMaW5rRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpfSxkPWZ1bmN0aW9uKGMpe2lmKGMuc3RvcFByb3BhZ2F0aW9uKCksYy5wcmV2ZW50RGVmYXVsdCgpLGIuaXNEaXNhYmxlZClyZXR1cm4hMTtpZigiIiE9PWIudGV4dCgpKXJldHVybiBiLmhpZGUoKSwhMTtiLmxpbms9ITAsYi5jbGVhclNlbGVjdGlvbigpLGIucmVtb3ZlTWFya2VycygpLGIuc2VsZWN0aW9uRGlzYWJsZWR8fChhKHRoaXMpLmJlZm9yZSgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKSxhKHRoaXMpLmFmdGVyKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKSxiLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSksYi5leGVjKCJjcmVhdGVMaW5rIik7dmFyIGQ9YSh0aGlzKS5hdHRyKCJocmVmIil8fCIiO2IuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx0IikudmFsKGEodGhpcykudGV4dCgpKSxiLmlzTGluaz8oIiMiPT1kJiYoZD0iIiksYi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHUtIitiLl9pZCkudmFsKGQucmVwbGFjZSgvXCZhbXA7L2csIiYiKSksYi4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixkfHwiIyIpKTooYi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0LmYtbHUiKS52YWwoZC5yZXBsYWNlKC9cJmFtcDsvZywiJiIpKSxiLiRsaW5rX3dyYXBwZXIuZmluZCgiLmYtZXh0ZXJuYWwtbGluayIpLmF0dHIoImhyZWYiLGQpKSxiLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXScpLnByb3AoImNoZWNrZWQiLCJfYmxhbmsiPT1hKHRoaXMpLmF0dHIoInRhcmdldCIpKSxiLiRsaW5rX3dyYXBwZXIuZmluZCgibGkuZi1jaG9vc2UtbGluay1jbGFzcyIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe2EodGhpcykuaGFzQ2xhc3MoYShjKS5kYXRhKCJjbGFzcyIpKSYmYShjKS5jbGljaygpfSx0aGlzKSksYi5zaG93QnlDb29yZGluYXRlcyhhKHRoaXMpLm9mZnNldCgpLmxlZnQrYSh0aGlzKS5vdXRlcldpZHRoKCkvMixhKHRoaXMpLm9mZnNldCgpLnRvcCsocGFyc2VJbnQoYSh0aGlzKS5jc3MoInBhZGRpbmctdG9wIiksMTApfHwwKSthKHRoaXMpLmhlaWdodCgpKSxiLnNob3dJbnNlcnRMaW5rKCksYSh0aGlzKS5oYXNDbGFzcygiZnItZmlsZSIpP2IuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikuYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpOmIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSxiLmNsb3NlSW1hZ2VNb2RlKCl9O3RoaXMuJGVsZW1lbnQub24oIm1vdXNlZG93biIsImEiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCl9LHRoaXMpKSx0aGlzLmlzTGluaz90aGlzLmlPUygpPyh0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IixjKSx0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaGVuZCIsZCkpOnRoaXMuJGVsZW1lbnQub24oImNsaWNrIixkKTp0aGlzLmlPUygpPyh0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IiwnYTpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGMpLHRoaXMuJGVsZW1lbnQub24oInRvdWNoZW5kIiwnYTpub3QoW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXSknLGQpLHRoaXMuJGVsZW1lbnQub24oInRvdWNoc3RhcnQiLCdhW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXScsYyksdGhpcy4kZWxlbWVudC5vbigidG91Y2hlbmQiLCdhW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXScsYykpOih0aGlzLiRlbGVtZW50Lm9uKCJjbGljayIsJ2E6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxkKSx0aGlzLiRlbGVtZW50Lm9uKCJjbGljayIsJ2FbY29udGVudGVkaXRhYmxlPSJmYWxzZSJdJyxjKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmRlc3Ryb3lMaW5rPWZ1bmN0aW9uKCl7dGhpcy4kbGlua193cmFwcGVyLmh0bWwoIiIpLnJlbW92ZURhdGEoKS5yZW1vdmUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdExpbms9ZnVuY3Rpb24oKXt0aGlzLmJ1aWxkQ3JlYXRlTGluaygpLHRoaXMuaW5pdExpbmtFdmVudHMoKSx0aGlzLmFkZExpc3RlbmVyKCJkZXN0cm95Iix0aGlzLmRlc3Ryb3lMaW5rKX0sYS5FZGl0YWJsZS5pbml0aWFsaXplcnMucHVzaChhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0TGluayksYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlTGluaz1mdW5jdGlvbigpe3RoaXMuaW1hZ2VNb2RlPygiQSI9PXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudCgpLmdldCgwKS50YWdOYW1lJiZhKHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLmdldCgwKSkudW53cmFwKCksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlTGlua1JlbW92ZWQiKSx0aGlzLnNob3dJbWFnZUVkaXRvcigpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLmZpbmQoImltZyIpLmNsaWNrKCksdGhpcy5saW5rPSExKToodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVubGluayIsITEsbnVsbCksdGhpcy5pc0xpbmt8fHRoaXMuJGVsZW1lbnQuZmluZCgiYTplbXB0eSIpLnJlbW92ZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJsaW5rUmVtb3ZlZCIpLHRoaXMuaGlkZUxpbmtXcmFwcGVyKCksdGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSwoIXRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLmlzTGluaykmJnRoaXMuaGlkZSgpLHRoaXMubGluaz0hMSl9LGEuRWRpdGFibGUucHJvdG90eXBlLndyaXRlTGluaz1mdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnO3RoaXMub3B0aW9ucy5ub0ZvbGxvdyYmKGY9ITApLHRoaXMub3B0aW9ucy5hbHdheXNCbGFuayYmKGU9ITApO3ZhciBoPSIiLGk9IiI7Zj09PSEwJiYvXmh0dHBzPzpcL1wvLy50ZXN0KGIpJiYoaD0ncmVsPSJub2ZvbGxvdyInKSxlPT09ITAmJihpPSd0YXJnZXQ9Il9ibGFuayInKTt2YXIgaj1iO2lmKGI9dGhpcy5zYW5pdGl6ZVVSTChiKSx0aGlzLm9wdGlvbnMuY29udmVydE1haWxBZGRyZXNzZXMpe3ZhciBrPS9bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1wuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/L2k7ay50ZXN0KGIpJiYwIT09Yi5pbmRleE9mKCJtYWlsdG86IikmJihiPSJtYWlsdG86IitiKX1pZigiIj09PWIpcmV0dXJuIHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikuYWRkQ2xhc3MoImZyLWVycm9yIikuZm9jdXMoKSx0aGlzLnRyaWdnZXJFdmVudCgiYmFkTGluayIsW2pdLCExKSwhMTtpZih0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLnJlbW92ZUNsYXNzKCJmci1lcnJvciIpLHRoaXMuaW1hZ2VNb2RlKXtpZigiQSIhPXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudCgpLmdldCgwKS50YWdOYW1lKXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLndyYXAoJzxhIGRhdGEtZnItbGluaz0idHJ1ZSIgaHJlZj0iJytiKyciICcraSsiICIraCsiPjwvYT4iKTtlbHNle3ZhciBsPXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLnBhcmVudCgpO2U9PT0hMD9sLmF0dHIoInRhcmdldCIsIl9ibGFuayIpOmwucmVtb3ZlQXR0cigidGFyZ2V0IiksZj09PSEwP2wuYXR0cigicmVsIiwibm9mb2xsb3ciKTpsLnJlbW92ZUF0dHIoInJlbCIpLGwucmVtb3ZlQ2xhc3MoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5qb2luKCIgIikpLGwuYXR0cigiaHJlZiIsYikuYWRkQ2xhc3MoZCl9dGhpcy50cmlnZ2VyRXZlbnQoImltYWdlTGlua0luc2VydGVkIixbYl0pLHRoaXMuc2hvd0ltYWdlRWRpdG9yKCksdGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yIikuZmluZCgiaW1nIikuY2xpY2soKSx0aGlzLmxpbms9ITF9ZWxzZXt2YXIgbT1udWxsO3RoaXMuaXNMaW5rPyIiPT09YyYmKGM9dGhpcy4kZWxlbWVudC50ZXh0KCkpOih0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSxnPXRoaXMuZ2V0U2VsZWN0aW9uTGlua3MoKSxnLmxlbmd0aD4wJiYobT1nWzBdLmF0dHJpYnV0ZXMsaXNfZmlsZT1hKGdbMF0pLmhhc0NsYXNzKCJmci1maWxlIikpLHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmxpbmsiLCExLGIpLHRoaXMuJGVsZW1lbnQuZmluZCgnc3BhbltkYXRhLWZyLWxpbms9InRydWUiXScpLmVhY2goZnVuY3Rpb24oYixjKXthKGMpLnJlcGxhY2VXaXRoKGEoYykuaHRtbCgpKX0pLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpKSx0aGlzLmlzTGluaz8odGhpcy4kZWxlbWVudC50ZXh0KGMpLGc9W3RoaXMuJGVsZW1lbnQuYXR0cigiaHJlZiIsYikuZ2V0KDApXSk6KHRoaXMucmVtb3ZlTWFya2VycygpLCh0aGlzLm9wdGlvbnMubGlua1RleHR8fCIiPT09dGhpcy50ZXh0KCkpJiYodGhpcy5pbnNlcnRIVE1MKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtdHlwZT0idHJ1ZSI+PC9zcGFuPicrKGN8fGIpKyc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtdHlwZT0iZmFsc2UiPjwvc3Bhbj4nKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSksZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNyZWF0ZUxpbmsiLCExLGIpLGc9dGhpcy5nZXRTZWxlY3Rpb25MaW5rcygpKTtmb3IodmFyIG49MDtuPGcubGVuZ3RoO24rKyl7aWYobSlmb3IodmFyIG89MDtvPG0ubGVuZ3RoO28rKykiaHJlZiIhPW1bb10ubm9kZU5hbWUmJmEoZ1tuXSkuYXR0cihtW29dLm5vZGVOYW1lLG1bb10udmFsdWUpO2U9PT0hMD9hKGdbbl0pLmF0dHIoInRhcmdldCIsIl9ibGFuayIpOmEoZ1tuXSkucmVtb3ZlQXR0cigidGFyZ2V0IiksZj09PSEwJiYvXmh0dHBzPzpcL1wvLy50ZXN0KGIpP2EoZ1tuXSkuYXR0cigicmVsIiwibm9mb2xsb3ciKTphKGdbbl0pLnJlbW92ZUF0dHIoInJlbCIpLGEoZ1tuXSkuZGF0YSgiZnItbGluayIsITApLGEoZ1tuXSkucmVtb3ZlQ2xhc3MoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5qb2luKCIgIikpLGEoZ1tuXSkuYWRkQ2xhc3MoZCl9dGhpcy4kZWxlbWVudC5maW5kKCJhOmVtcHR5IikucmVtb3ZlKCksdGhpcy50cmlnZ2VyRXZlbnQoImxpbmtJbnNlcnRlZCIsW2JdKSx0aGlzLmhpZGVMaW5rV3JhcHBlcigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksKCF0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8dGhpcy5pc0xpbmspJiZ0aGlzLmhpZGUoKSx0aGlzLmxpbms9ITF9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jcmVhdGVMaW5rSFRNTD1mdW5jdGlvbigpe3ZhciBhPSc8ZGl2IGNsYXNzPSJmcm9hbGEtcG9wdXAgZnJvYWxhLWxpbmstcG9wdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+JzthKz0nPGg0PjxzcGFuIGRhdGEtdGV4dD0idHJ1ZSI+SW5zZXJ0IExpbms8L3NwYW4+PGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJPcGVuIExpbmsiIGNsYXNzPSJmLWV4dGVybmFsLWxpbmsiIGhyZWY9IiMiPjxpIGNsYXNzPSJmYSBmYS1leHRlcm5hbC1saW5rIj48L2k+PC9hPjxpIHRpdGxlPSJDYW5jZWwiIGNsYXNzPSJmYSBmYS10aW1lcyIgaWQ9ImYtbGluay1jbG9zZS0nK3RoaXMuX2lkKyciPjwvaT48L2g0PicsYSs9JzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBmci1oaWRkZW4iPjxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iVGV4dCIgY2xhc3M9ImYtbHQiIGlkPSJmLWx0LScrdGhpcy5faWQrJyI+PC9kaXY+Jzt2YXIgYj0iIjtpZih0aGlzLm9wdGlvbnMubGlua0xpc3QubGVuZ3RoJiYoYj0iZi1iaSIpLGErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iaHR0cDovL3d3dy5leGFtcGxlLmNvbSIgY2xhc3M9ImYtbHUgJytiKyciIGlkPSJmLWx1LScrdGhpcy5faWQrJyIvPicsdGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aCl7YSs9JzxidXR0b24gY2xhc3M9ImYtYnJvd3NlLWxpbmtzIiBpZD0iZi1icm93c2UtbGlua3MtJyt0aGlzLl9pZCsnIj48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1kb3duIj48L2k+PC9idXR0b24+JyxhKz0nPHVsIGlkPSJmLWxpbmstbGlzdC0nK3RoaXMuX2lkKyciPic7Zm9yKHZhciBjPTA7Yzx0aGlzLm9wdGlvbnMubGlua0xpc3QubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5vcHRpb25zLmxpbmtMaXN0W2NdO2ErPSc8bGkgY2xhc3M9ImYtY2hvb3NlLWxpbmsiIGRhdGEtbm9mb2xsb3c9IicrZC5ub2ZvbGxvdysnIiBkYXRhLWJsYW5rPSInK2QuYmxhbmsrJyIgZGF0YS1ib2R5PSInK2QuYm9keSsnIiBkYXRhLXRpdGxlPSInK2QudGl0bGUrJyIgZGF0YS1ocmVmPSInK2QuaHJlZisnIj4nK2QuYm9keSsiPC9saT4ifWErPSI8L3VsPiJ9aWYoYSs9IjwvZGl2PiIsT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5sZW5ndGgpe2ErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iQ2hvb3NlIGxpbmsgdHlwZSIgY2xhc3M9ImYtYmkiIGlkPSJmLWx1Yy0nK3RoaXMuX2lkKyciIGRpc2FibGVkPSJkaXNhYmxlZCIvPicsYSs9JzxidXR0b24gY2xhc3M9ImYtYnJvd3NlLWxpbmtzIiBpZD0iZi1saW5rcy1jbGFzcy0nK3RoaXMuX2lkKyciPjxpIGNsYXNzPSJmYSBmYS1jaGV2cm9uLWRvd24iPjwvaT48L2J1dHRvbj4nLGErPSc8dWwgaWQ9ImYtbGluay1jbGFzcy1saXN0LScrdGhpcy5faWQrJyI+Jztmb3IodmFyIGUgaW4gdGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKXt2YXIgZj10aGlzLm9wdGlvbnMubGlua0NsYXNzZXNbZV07YSs9JzxsaSBjbGFzcz0iZi1jaG9vc2UtbGluay1jbGFzcyIgZGF0YS1jbGFzcz0iJytlKyciPicrZisiPC9saT4ifWErPSI8L3VsPiIsYSs9IjwvZGl2PiJ9cmV0dXJuIGErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImYtY2hlY2tib3gtJyt0aGlzLl9pZCsnIj4gPGxhYmVsIGRhdGEtdGV4dD0idHJ1ZSIgZm9yPSJmLWNoZWNrYm94LScrdGhpcy5faWQrJyI+T3BlbiBpbiBuZXcgdGFiPC9sYWJlbD48YnV0dG9uIGRhdGEtdGV4dD0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iZi1vayIgaWQ9ImYtb2stJyt0aGlzLl9pZCsnIj5PSzwvYnV0dG9uPicsdGhpcy5vcHRpb25zLnVubGlua0J1dHRvbiYmKGErPSc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS10ZXh0PSJ0cnVlIiBjbGFzcz0iZi1vayBmLXVubGluayIgaWQ9ImYtdW5saW5rLScrdGhpcy5faWQrJyI+VU5MSU5LPC9idXR0b24+JyksYSs9IjwvZGl2PjwvZGl2PiJ9LGEuRWRpdGFibGUucHJvdG90eXBlLmJ1aWxkQ3JlYXRlTGluaz1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlcj1hKHRoaXMuY3JlYXRlTGlua0hUTUwoKSksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRsaW5rX3dyYXBwZXIpO3ZhciBiPXRoaXM7dGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsdGhpcy5oaWRlTGlua1dyYXBwZXIpLHRoaXMuJGxpbmtfd3JhcHBlci5vbigibW91c2V1cCB0b3VjaGVuZCIsYS5wcm94eShmdW5jdGlvbihhKXt0aGlzLmlzUmVzaXppbmcoKXx8KGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpKX0sdGhpcykpLHRoaXMub3B0aW9ucy5saW5rVGV4dCYmdGhpcy4kbGlua193cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCJpbnB1dCNmLWx0LSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2ImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9LHRoaXMpKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oIm1vdXNldXAga2V5ZG93biIsImlucHV0I2YtbHUtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7CmImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9LHRoaXMpKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIGtleWRvd24iLCJpbnB1dCNmLWNoZWNrYm94LSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIub24oInRvdWNoZW5kIiwiYnV0dG9uI2Ytb2stIit0aGlzLl9pZCxmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSkub24oImNsaWNrIiwiYnV0dG9uI2Ytb2stIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdC0iK3RoaXMuX2lkKSxjPXRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1LSIrdGhpcy5faWQpLGQ9dGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHVjLSIrdGhpcy5faWQpLGU9dGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtY2hlY2tib3gtIit0aGlzLl9pZCk7YT1iP2IudmFsKCk6IiI7dmFyIGY9Yy52YWwoKTt0aGlzLmlzTGluayYmIiI9PT1mJiYoZj0iIyIpO3ZhciBnPSIiO2QmJihnPWQuZGF0YSgiY2xhc3MiKSksdGhpcy53cml0ZUxpbmsoZixhLGcsZS5wcm9wKCJjaGVja2VkIikpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsImJ1dHRvbiNmLXVubGluay0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmxpbms9ITAsdGhpcy5yZW1vdmVMaW5rKCl9LHRoaXMpKSx0aGlzLm9wdGlvbnMubGlua0xpc3QubGVuZ3RoJiYodGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsImxpLmYtY2hvb3NlLWxpbmsiLGZ1bmN0aW9uKCl7dmFyIGM9Yi4kbGlua193cmFwcGVyLmZpbmQoImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK2IuX2lkKSxkPWIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx0LSIrYi5faWQpLGU9Yi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHUtIitiLl9pZCksZj1iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1jaGVja2JveC0iK2IuX2lkKTtkJiZkLnZhbChhKHRoaXMpLmRhdGEoImJvZHkiKSksZS52YWwoYSh0aGlzKS5kYXRhKCJocmVmIikpLGYucHJvcCgiY2hlY2tlZCIsYSh0aGlzKS5kYXRhKCJibGFuayIpKSxjLmNsaWNrKCl9KS5vbigibW91c2V1cCIsImxpLmYtY2hvb3NlLWxpbmsiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIiwiYnV0dG9uI2YtYnJvd3NlLWxpbmtzLSIrdGhpcy5faWQsZnVuY3Rpb24oYyl7Yy5zdG9wUHJvcGFnYXRpb24oKTt2YXIgZD1iLiRsaW5rX3dyYXBwZXIuZmluZCgidWwjZi1saW5rLWxpc3QtIitiLl9pZCk7Yi4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0IiksYSh0aGlzKS5maW5kKCJpIikudG9nZ2xlQ2xhc3MoImZhLWNoZXZyb24tZG93biIpLGEodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLXVwIiksZC50b2dnbGUoKX0pLm9uKCJtb3VzZXVwIiwiYnV0dG9uI2YtYnJvd3NlLWxpbmtzLSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLHRoaXMuJGxpbmtfd3JhcHBlci5iaW5kKCJoaWRlTGlua0xpc3QiLGZ1bmN0aW9uKCl7dmFyIGE9Yi4kbGlua193cmFwcGVyLmZpbmQoInVsI2YtbGluay1saXN0LSIrYi5faWQpLGM9Yi4kbGlua193cmFwcGVyLmZpbmQoImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK2IuX2lkKTthJiZhLmlzKCI6dmlzaWJsZSIpJiZjLmNsaWNrKCl9KSksT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzKS5sZW5ndGgmJih0aGlzLiRsaW5rX3dyYXBwZXIub24oIm1vdXNldXAga2V5ZG93biIsImlucHV0I2YtbHVjLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2ImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0IiksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9LHRoaXMpKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIHRvdWNoIiwibGkuZi1jaG9vc2UtbGluay1jbGFzcyIsZnVuY3Rpb24oKXt2YXIgYz1iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdWMtIitiLl9pZCk7Yy52YWwoYSh0aGlzKS50ZXh0KCkpLGMuZGF0YSgiY2xhc3MiLGEodGhpcykuZGF0YSgiY2xhc3MiKSksYi4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rQ2xhc3NMaXN0Iil9KS5vbigibW91c2V1cCIsImxpLmYtY2hvb3NlLWxpbmstY2xhc3MiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIub24oImNsaWNrIiwiYnV0dG9uI2YtbGlua3MtY2xhc3MtIit0aGlzLl9pZCxmdW5jdGlvbihjKXtjLnN0b3BQcm9wYWdhdGlvbigpLGIuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0xpc3QiKTt2YXIgZD1iLiRsaW5rX3dyYXBwZXIuZmluZCgidWwjZi1saW5rLWNsYXNzLWxpc3QtIitiLl9pZCk7YSh0aGlzKS5maW5kKCJpIikudG9nZ2xlQ2xhc3MoImZhLWNoZXZyb24tZG93biIpLGEodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLXVwIiksZC50b2dnbGUoKX0pLm9uKCJtb3VzZXVwIiwiYnV0dG9uI2YtbGlua3MtY2xhc3MtIit0aGlzLl9pZCxmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLmJpbmQoImhpZGVMaW5rQ2xhc3NMaXN0IixmdW5jdGlvbigpe3ZhciBhPWIuJGxpbmtfd3JhcHBlci5maW5kKCJ1bCNmLWxpbmstY2xhc3MtbGlzdC0iK2IuX2lkKSxjPWIuJGxpbmtfd3JhcHBlci5maW5kKCJidXR0b24jZi1saW5rcy1jbGFzcy0iK2IuX2lkKTthJiZhLmlzKCI6dmlzaWJsZSIpJiZjLmNsaWNrKCl9KSksdGhpcy4kbGlua193cmFwcGVyLm9uKHRoaXMubW91c2V1cCwiaSNmLWxpbmstY2xvc2UtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kYnR0bl93cmFwcGVyLnNob3coKSx0aGlzLmhpZGVMaW5rV3JhcHBlcigpLCghdGhpcy5vcHRpb25zLmlubGluZU1vZGUmJiF0aGlzLmltYWdlTW9kZXx8dGhpcy5pc0xpbmt8fDA9PT10aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGgpJiZ0aGlzLmhpZGUoKSx0aGlzLmltYWdlTW9kZT90aGlzLnNob3dJbWFnZUVkaXRvcigpOih0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSx0aGlzLmZvY3VzKCkpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvbkxpbmtzPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZT1bXTtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgZj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7aWYoZi5nZXRSYW5nZUF0JiZmLnJhbmdlQ291bnQpe2Q9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtmb3IodmFyIGc9MDtnPGYucmFuZ2VDb3VudDsrK2cpaWYoYT1mLmdldFJhbmdlQXQoZyksYj1hLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLGImJjEhPWIubm9kZVR5cGUmJihiPWIucGFyZW50Tm9kZSksYiYmImEiPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZS5wdXNoKGIpO2Vsc2V7Yz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik7Zm9yKHZhciBoPTA7aDxjLmxlbmd0aDsrK2gpZC5zZWxlY3ROb2RlQ29udGVudHMoY1toXSksZC5jb21wYXJlQm91bmRhcnlQb2ludHMoYS5FTkRfVE9fU1RBUlQsYSk8MSYmZC5jb21wYXJlQm91bmRhcnlQb2ludHMoYS5TVEFSVF9UT19FTkQsYSk+LTEmJmUucHVzaChjW2hdKX19fWVsc2UgaWYoZG9jdW1lbnQuc2VsZWN0aW9uJiYiQ29udHJvbCIhPWRvY3VtZW50LnNlbGVjdGlvbi50eXBlKWlmKGE9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksYj1hLnBhcmVudEVsZW1lbnQoKSwiYSI9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllLnB1c2goYik7ZWxzZXtjPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKSxkPWRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7Zm9yKHZhciBpPTA7aTxjLmxlbmd0aDsrK2kpZC5tb3ZlVG9FbGVtZW50VGV4dChjW2ldKSxkLmNvbXBhcmVFbmRQb2ludHMoIlN0YXJ0VG9FbmQiLGEpPi0xJiZkLmNvbXBhcmVFbmRQb2ludHMoIkVuZFRvU3RhcnQiLGEpPDEmJmUucHVzaChjW2ldKX1yZXR1cm4gZX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0TGluaz1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHwodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMucG9zaXRpb25Qb3B1cCgiY3JlYXRlTGluayIpKSx0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJnRoaXMuc2F2ZVNlbGVjdGlvbigpLHRoaXMuc2hvd0luc2VydExpbmsoKTt2YXIgYj10aGlzLmdldFNlbGVjdGlvbkxpbmsoKXx8IiIsYz10aGlzLmdldFNlbGVjdGlvbkxpbmtzKCk7Yy5sZW5ndGg+MD8odGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwiX2JsYW5rIj09YShjWzBdKS5hdHRyKCJ0YXJnZXQiKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx0JykudmFsKGEoY1swXSkudGV4dCgpfHwiIiksYShjWzBdKS5oYXNDbGFzcygiZnItZmlsZSIpP3RoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKTp0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJhLmYtZXh0ZXJuYWwtbGluaywgYnV0dG9uLmYtdW5saW5rIikuc2hvdygpKToodGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIix0aGlzLm9wdGlvbnMuYWx3YXlzQmxhbmspLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnZhbCh0aGlzLnRleHQoKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLmhpZGUoKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixifHwiIyIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLnZhbChiLnJlcGxhY2UoL1wmYW1wOy9nLCImIil8fCJodHRwOi8vIil9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLmJyb3dzZXJGaXhlcz1mdW5jdGlvbigpe3RoaXMucHJlQmxvY2txdW90ZUVudGVyKCksdGhpcy5lbnRlck5vUGFyYWdyYXBoeSgpLHRoaXMuYmFja3NwYWNlRW1wdHkoKSx0aGlzLmZpeEhSKCksdGhpcy5kb21JbnNlcnQoKSx0aGlzLmZpeElNRSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5maXhIUj1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnQoKSk7aWYoYy5pcygiaHIiKXx8Yy5wYXJlbnRzKCJociIpLmxlbmd0aClyZXR1cm4hMTt2YXIgZD1iLndoaWNoLGU9YSh0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKClbMF0pOzg9PWQmJmUucHJldigpLmlzKCJociIpJiZ0aGlzLmdldFNlbGVjdGlvblRleHRJbmZvKGUuZ2V0KDApKS5hdFN0YXJ0JiYodGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZS5wcmV2KCkucmVtb3ZlKCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksYi5wcmV2ZW50RGVmYXVsdCgpKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5iYWNrc3BhY2VFbXB0eT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT1iJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIikmJmEucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wcmVCbG9ja3F1b3RlRW50ZXI9ZnVuY3Rpb24oKXt0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9Yi53aGljaCxkPVsiUFJFIiwiQkxPQ0tRVU9URSJdLGU9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdO2lmKDEzPT1jJiYiIj09PXRoaXMudGV4dCgpJiZkLmluZGV4T2YoZS50YWdOYW1lKT49MCYmMD09PWEoZSkucGFyZW50cygidWwsIG9sIikubGVuZ3RoKWlmKHRoaXMuZ2V0U2VsZWN0aW9uVGV4dEluZm8oZSkuYXRFbmQmJiFiLnNoaWZ0S2V5KXtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGY9YSgiPHA+PGJyPjwvcD4iKTthKGUpLmFmdGVyKGYpLHRoaXMuc2V0U2VsZWN0aW9uKGYuZ2V0KDApKX1lbHNlKHRoaXMuYnJvd3Nlci53ZWJraXR8fHRoaXMuYnJvd3Nlci5tc2llKSYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwodGhpcy5lbmRzV2l0aChhKGUpLmh0bWwoKSwiPGJyPiIpfHwhdGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhlKS5hdEVuZD8iPGJyPiI6Ijxicj48YnI+IikpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmVudGVyTm9QYXJhZ3JhcGh5PWZ1bmN0aW9uKCl7IXRoaXMuYnJvd3Nlci53ZWJraXQmJiF0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwoJzwvYnI+JiM4MjAzOzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmRvbUluc2VydD1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT09YiYmKHRoaXMubm9fdmVyaWZ5PSEwKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJET01Ob2RlSW5zZXJ0ZWQiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIlNQQU4iIT09Yi50YXJnZXQudGFnTmFtZXx8YShiLnRhcmdldCkuYXR0cigiZGF0YS1mci12ZXJpZmllZCIpfHx0aGlzLm5vX3ZlcmlmeXx8dGhpcy50ZXh0RW1wdHkoYi50YXJnZXQpfHxhKGIudGFyZ2V0KS5yZXBsYWNlV2l0aChhKGIudGFyZ2V0KS5jb250ZW50cygpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy5hZGRfYnImJiJCUiI9PT1iLnRhcmdldC50YWdOYW1lJiYoYShiLnRhcmdldCkucHJldigpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLnByZXYoKS5nZXQoMCkudGFnTmFtZXx8YShiLnRhcmdldCkubmV4dCgpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLm5leHQoKS5nZXQoMCkudGFnTmFtZSkpe2EoYi50YXJnZXQpLndyYXAoJzxwIGNsYXNzPSJmci1wLXdyYXAiPicpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgicC5mci1wLXdyYXAiKS5yZW1vdmVBdHRyKCJjbGFzcyIpO3RoaXMuc2V0U2VsZWN0aW9uKGMuZ2V0KDApKX19LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCIsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoOzg9PT1iJiYodGhpcy4kZWxlbWVudC5maW5kKCJzcGFuOm5vdCguZnItdmVyaWZpZWQpIikuYXR0cigiZGF0YS1mci12ZXJpZmllZCIsITApLHRoaXMubm9fdmVyaWZ5PSExKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZml4SU1FPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQmJih0aGlzLiRlbGVtZW50LmdldCgwKS5tc0dldElucHV0Q29udGV4dCgpLmFkZEV2ZW50TGlzdGVuZXIoIk1TQ2FuZGlkYXRlV2luZG93U2hvdyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaW1lPSEwfSx0aGlzKSksdGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQoKS5hZGRFdmVudExpc3RlbmVyKCJNU0NhbmRpZGF0ZVdpbmRvd0hpZGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmltZT0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImtleWRvd24iKSx0aGlzLm9sZEhUTUw9IiJ9LHRoaXMpKSl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sYSk6YShqUXVlcnkpfShmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYigpe2Q/KGMoKSxNKGIpLGU9ITAsZD0hMSk6ZT0hMX12YXIgYz1hLGQ9ITEsZT0hMTt0aGlzLmtpY2s9ZnVuY3Rpb24oKXtkPSEwLGV8fGIoKX0sdGhpcy5lbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9YzthJiYoZT8oYz1kP2Z1bmN0aW9uKCl7YigpLGEoKX06YSxkPSEwKTphKCkpfX1mdW5jdGlvbiBkKCl7cmV0dXJuITB9ZnVuY3Rpb24gZSgpe3JldHVybiExfWZ1bmN0aW9uIGYoYSl7YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGcoYSl7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHxhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gMT09PWEud2hpY2gmJiFhLmN0cmxLZXkmJiFhLmFsdEtleX1mdW5jdGlvbiBpKGEsYil7dmFyIGMsZDtpZihhLmlkZW50aWZpZWRUb3VjaClyZXR1cm4gYS5pZGVudGlmaWVkVG91Y2goYik7Zm9yKGM9LTEsZD1hLmxlbmd0aDsrK2M8ZDspaWYoYVtjXS5pZGVudGlmaWVyPT09YilyZXR1cm4gYVtjXX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7aWYoYyYmKGMucGFnZVghPT1iLnBhZ2VYfHxjLnBhZ2VZIT09Yi5wYWdlWSkpcmV0dXJuIGN9ZnVuY3Rpb24gayhhKXt2YXIgYjtoKGEpJiYoYj17dGFyZ2V0OmEudGFyZ2V0LHN0YXJ0WDphLnBhZ2VYLHN0YXJ0WTphLnBhZ2VZLHRpbWVTdGFtcDphLnRpbWVTdGFtcH0sSihkb2N1bWVudCxPLm1vdmUsbCxiKSxKKGRvY3VtZW50LE8uY2FuY2VsLG0sYikpfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5kYXRhO3MoYSxiLGEsbil9ZnVuY3Rpb24gbSgpe24oKX1mdW5jdGlvbiBuKCl7Syhkb2N1bWVudCxPLm1vdmUsbCksSyhkb2N1bWVudCxPLmNhbmNlbCxtKX1mdW5jdGlvbiBvKGEpe3ZhciBiLGM7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHwoYj1hLmNoYW5nZWRUb3VjaGVzWzBdLGM9e3RhcmdldDpiLnRhcmdldCxzdGFydFg6Yi5wYWdlWCxzdGFydFk6Yi5wYWdlWSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjpiLmlkZW50aWZpZXJ9LEooZG9jdW1lbnQsUC5tb3ZlKyIuIitiLmlkZW50aWZpZXIscCxjKSxKKGRvY3VtZW50LFAuY2FuY2VsKyIuIitiLmlkZW50aWZpZXIscSxjKSl9ZnVuY3Rpb24gcChhKXt2YXIgYj1hLmRhdGEsYz1qKGEsYik7YyYmcyhhLGIsYyxyKX1mdW5jdGlvbiBxKGEpe3ZhciBiPWEuZGF0YSxjPWkoYS5jaGFuZ2VkVG91Y2hlcyxiLmlkZW50aWZpZXIpO2MmJnIoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiByKGEpe0soZG9jdW1lbnQsIi4iK2EscCksSyhkb2N1bWVudCwiLiIrYSxxKX1mdW5jdGlvbiBzKGEsYixjLGQpe3ZhciBlPWMucGFnZVgtYi5zdGFydFgsZj1jLnBhZ2VZLWIuc3RhcnRZO0kqST5lKmUrZipmfHx2KGEsYixjLGUsZixkKX1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2hhbmRsZWQ9ZCwhMX1mdW5jdGlvbiB1KGEpe3RyeXthLl9oYW5kbGVkKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIHYoYSxiLGMsZCxlLGYpe3t2YXIgZyxoO2IudGFyZ2V0fWc9YS50YXJnZXRUb3VjaGVzLGg9YS50aW1lU3RhbXAtYi50aW1lU3RhbXAsYi50eXBlPSJtb3Zlc3RhcnQiLGIuZGlzdFg9ZCxiLmRpc3RZPWUsYi5kZWx0YVg9ZCxiLmRlbHRhWT1lLGIucGFnZVg9Yy5wYWdlWCxiLnBhZ2VZPWMucGFnZVksYi52ZWxvY2l0eVg9ZC9oLGIudmVsb2NpdHlZPWUvaCxiLnRhcmdldFRvdWNoZXM9ZyxiLmZpbmdlcj1nP2cubGVuZ3RoOjEsYi5faGFuZGxlZD10LGIuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0PWZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdCgpfSxMKGIudGFyZ2V0LGIpLGYoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuZGF0YS50aW1lcjthLmRhdGEudG91Y2g9YSxhLmRhdGEudGltZVN0YW1wPWEudGltZVN0YW1wLGIua2ljaygpfWZ1bmN0aW9uIHgoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyO3koKSxEKGIsYyxmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtLKGIudGFyZ2V0LCJjbGljayIsZSl9LDApfSl9ZnVuY3Rpb24geSgpe0soZG9jdW1lbnQsTy5tb3ZlLHcpLEsoZG9jdW1lbnQsTy5lbmQseCl9ZnVuY3Rpb24geihhKXt2YXIgYj1hLmRhdGEuZXZlbnQsYz1hLmRhdGEudGltZXIsZD1qKGEsYik7ZCYmKGEucHJldmVudERlZmF1bHQoKSxiLnRhcmdldFRvdWNoZXM9YS50YXJnZXRUb3VjaGVzLGEuZGF0YS50b3VjaD1kLGEuZGF0YS50aW1lU3RhbXA9YS50aW1lU3RhbXAsYy5raWNrKCkpfWZ1bmN0aW9uIEEoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyLGQ9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7ZCYmKEIoYiksRChiLGMpKX1mdW5jdGlvbiBCKGEpe0soZG9jdW1lbnQsIi4iK2EuaWRlbnRpZmllcix6KSxLKGRvY3VtZW50LCIuIithLmlkZW50aWZpZXIsQSl9ZnVuY3Rpb24gQyhhLGIsYyl7dmFyIGQ9Yy1hLnRpbWVTdGFtcDthLnR5cGU9Im1vdmUiLGEuZGlzdFg9Yi5wYWdlWC1hLnN0YXJ0WCxhLmRpc3RZPWIucGFnZVktYS5zdGFydFksYS5kZWx0YVg9Yi5wYWdlWC1hLnBhZ2VYLGEuZGVsdGFZPWIucGFnZVktYS5wYWdlWSxhLnZlbG9jaXR5WD0uMyphLnZlbG9jaXR5WCsuNyphLmRlbHRhWC9kLGEudmVsb2NpdHlZPS4zKmEudmVsb2NpdHlZKy43KmEuZGVsdGFZL2QsYS5wYWdlWD1iLnBhZ2VYLGEucGFnZVk9Yi5wYWdlWX1mdW5jdGlvbiBEKGEsYixjKXtiLmVuZChmdW5jdGlvbigpe3JldHVybiBhLnR5cGU9Im1vdmVlbmQiLEwoYS50YXJnZXQsYSksYyYmYygpfSl9ZnVuY3Rpb24gRSgpe3JldHVybiBKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIix1KSwhMH1mdW5jdGlvbiBGKCl7cmV0dXJuIEsodGhpcywiZHJhZ3N0YXJ0IGRyYWciLGYpLEsodGhpcywibW91c2Vkb3duIHRvdWNoc3RhcnQiLGcpLEsodGhpcywibW92ZXN0YXJ0Iix1KSwhMH1mdW5jdGlvbiBHKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEoodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCxmLGIsYS5zZWxlY3RvciksSih0aGlzLCJtb3VzZWRvd24uIithLmd1aWQsZyxiLGEuc2VsZWN0b3IpKX1mdW5jdGlvbiBIKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEsodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCksSyh0aGlzLCJtb3VzZWRvd24uIithLmd1aWQpKX12YXIgST02LEo9YS5ldmVudC5hZGQsSz1hLmV2ZW50LnJlbW92ZSxMPWZ1bmN0aW9uKGIsYyxkKXthLmV2ZW50LnRyaWdnZXIoYyxkLGIpfSxNPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EoKX0sMjUpfX0oKSxOPXt0ZXh0YXJlYTohMCxpbnB1dDohMCxzZWxlY3Q6ITAsYnV0dG9uOiEwfSxPPXttb3ZlOiJtb3VzZW1vdmUiLGNhbmNlbDoibW91c2V1cCBkcmFnc3RhcnQiLGVuZDoibW91c2V1cCJ9LFA9e21vdmU6InRvdWNobW92ZSIsY2FuY2VsOiJ0b3VjaGVuZCIsZW5kOiJ0b3VjaGVuZCJ9O2EuZXZlbnQuc3BlY2lhbC5tb3Zlc3RhcnQ9e3NldHVwOkUsdGVhcmRvd246RixhZGQ6RyxyZW1vdmU6SCxfZGVmYXVsdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKCl7QyhmLGcudG91Y2gsZy50aW1lU3RhbXApLEwoYS50YXJnZXQsZil9dmFyIGYsZzthLl9oYW5kbGVkKCkmJihmPXt0YXJnZXQ6YS50YXJnZXQsc3RhcnRYOmEuc3RhcnRYLHN0YXJ0WTphLnN0YXJ0WSxwYWdlWDphLnBhZ2VYLHBhZ2VZOmEucGFnZVksZGlzdFg6YS5kaXN0WCxkaXN0WTphLmRpc3RZLGRlbHRhWDphLmRlbHRhWCxkZWx0YVk6YS5kZWx0YVksdmVsb2NpdHlYOmEudmVsb2NpdHlYLHZlbG9jaXR5WTphLnZlbG9jaXR5WSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjphLmlkZW50aWZpZXIsdGFyZ2V0VG91Y2hlczphLnRhcmdldFRvdWNoZXMsZmluZ2VyOmEuZmluZ2VyfSxnPXtldmVudDpmLHRpbWVyOm5ldyBjKGQpLHRvdWNoOmIsdGltZVN0YW1wOmJ9LGEuaWRlbnRpZmllcj09PWI/KEooYS50YXJnZXQsImNsaWNrIixlKSxKKGRvY3VtZW50LE8ubW92ZSx3LGcpLEooZG9jdW1lbnQsTy5lbmQseCxnKSk6KGEuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0KCksSihkb2N1bWVudCxQLm1vdmUrIi4iK2EuaWRlbnRpZmllcix6LGcpLEooZG9jdW1lbnQsUC5lbmQrIi4iK2EuaWRlbnRpZmllcixBLGcpKSl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZT17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmUiLGEubm9vcCl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZWVuZD17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlZW5kIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmVlbmQiLGEubm9vcCl9fSxKKGRvY3VtZW50LCJtb3VzZWRvd24ubW92ZSIsayksSihkb2N1bWVudCwidG91Y2hzdGFydC5tb3ZlIixvKSwiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJiFmdW5jdGlvbihhKXtmb3IodmFyIGI9WyJjaGFuZ2VkVG91Y2hlcyIsInRhcmdldFRvdWNoZXMiXSxjPWIubGVuZ3RoO2MtLTspLTE9PT1hLmV2ZW50LnByb3BzLmluZGV4T2YoYltjXSkmJmEuZXZlbnQucHJvcHMucHVzaChiW2NdKX0oYSl9KSx3aW5kb3cuV1lTSVdZR01vZGVybml6cj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtuLmNzc1RleHQ9YX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIHR5cGVvZiBhPT09Yn12YXIgZixnLGgsaT0iMi43LjEiLGo9e30saz1iLmRvY3VtZW50RWxlbWVudCxsPSJtb2Rlcm5penIiLG09Yi5jcmVhdGVFbGVtZW50KGwpLG49bS5zdHlsZSxvPSh7fS50b1N0cmluZywiIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtICIuc3BsaXQoIiAiKSkscD17fSxxPVtdLHI9cS5zbGljZSxzPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaCxpLGo9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPWIuYm9keSxuPW18fGIuY3JlYXRlRWxlbWVudCgiYm9keSIpO2lmKHBhcnNlSW50KGQsMTApKWZvcig7ZC0tOyloPWIuY3JlYXRlRWxlbWVudCgiZGl2IiksaC5pZD1lP2VbZF06bCsoZCsxKSxqLmFwcGVuZENoaWxkKGgpO3JldHVybiBmPVsiJiMxNzM7IiwnPHN0eWxlIGlkPSJzJyxsLCciPicsYSwiPC9zdHlsZT4iXS5qb2luKCIiKSxqLmlkPWwsKG0/ajpuKS5pbm5lckhUTUwrPWYsbi5hcHBlbmRDaGlsZChqKSxtfHwobi5zdHlsZS5iYWNrZ3JvdW5kPSIiLG4uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsaT1rLnN0eWxlLm92ZXJmbG93LGsuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsay5hcHBlbmRDaGlsZChuKSksZz1jKGosYSksbT9qLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaik6KG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxrLnN0eWxlLm92ZXJmbG93PWkpLCEhZ30sdD1mdW5jdGlvbihiKXt2YXIgYz1hLm1hdGNoTWVkaWF8fGEubXNNYXRjaE1lZGlhO2lmKGMpcmV0dXJuIGMoYikubWF0Y2hlczt2YXIgZDtyZXR1cm4gcygiQG1lZGlhICIrYisiIHsgIyIrbCsiIHsgcG9zaXRpb246IGFic29sdXRlOyB9IH0iLGZ1bmN0aW9uKGIpe2Q9ImFic29sdXRlIj09KGEuZ2V0Q29tcHV0ZWRTdHlsZT9nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUpLnBvc2l0aW9ufSksZH0sdT17fS5oYXNPd25Qcm9wZXJ0eTtoPWUodSwidW5kZWZpbmVkIil8fGUodS5jYWxsLCJ1bmRlZmluZWQiKT9mdW5jdGlvbihhLGIpe3JldHVybiBiIGluIGEmJmUoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbYl0sInVuZGVmaW5lZCIpfTpmdW5jdGlvbihhLGIpe3JldHVybiB1LmNhbGwoYSxiKX0sRnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBiKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIGM9ci5jYWxsKGFyZ3VtZW50cywxKSxkPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIGQpe3ZhciBlPWZ1bmN0aW9uKCl7fTtlLnByb3RvdHlwZT1iLnByb3RvdHlwZTt2YXIgZj1uZXcgZSxnPWIuYXBwbHkoZixjLmNvbmNhdChyLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QoZyk9PT1nP2c6Zn1yZXR1cm4gYi5hcHBseShhLGMuY29uY2F0KHIuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBkfSkscC50b3VjaD1mdW5jdGlvbigpe3ZhciBjO3JldHVybiJvbnRvdWNoc3RhcnQiaW4gYXx8YS5Eb2N1bWVudFRvdWNoJiZiIGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaD9jPSEwOnMoWyJAbWVkaWEgKCIsby5qb2luKCJ0b3VjaC1lbmFibGVkKSwoIiksbCwiKSIsInsjbW9kZXJuaXpye3RvcDo5cHg7cG9zaXRpb246YWJzb2x1dGV9fSJdLmpvaW4oIiIpLGZ1bmN0aW9uKGEpe2M9OT09PWEub2Zmc2V0VG9wfSksY307Zm9yKHZhciB2IGluIHApaChwLHYpJiYoZz12LnRvTG93ZXJDYXNlKCksaltnXT1wW3ZdKCkscS5wdXNoKChqW2ddPyIiOiJuby0iKStnKSk7cmV0dXJuIGouYWRkVGVzdD1mdW5jdGlvbihhLGIpe2lmKCJvYmplY3QiPT10eXBlb2YgYSlmb3IodmFyIGQgaW4gYSloKGEsZCkmJmouYWRkVGVzdChkLGFbZF0pO2Vsc2V7aWYoYT1hLnRvTG93ZXJDYXNlKCksalthXSE9PWMpcmV0dXJuIGo7Yj0iZnVuY3Rpb24iPT10eXBlb2YgYj9iKCk6YiwidW5kZWZpbmVkIiE9dHlwZW9mIGVuYWJsZUNsYXNzZXMmJmVuYWJsZUNsYXNzZXMmJihrLmNsYXNzTmFtZSs9IiAiKyhiPyIiOiJuby0iKSthKSxqW2FdPWJ9cmV0dXJuIGp9LGQoIiIpLG09Zj1udWxsLGouX3ZlcnNpb249aSxqLl9wcmVmaXhlcz1vLGoubXE9dCxqLnRlc3RTdHlsZXM9cyxqfSh0aGlzLHRoaXMuZG9jdW1lbnQpLCFmdW5jdGlvbihhKXthLkVkaXRhYmxlLkRFRkFVTFRTPWEuZXh0ZW5kKGEuRWRpdGFibGUuREVGQVVMVFMse2FsbG93ZWRFbXB0eVRhZ3M6WyJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsImEiLCJzcGFuIiwiaWZyYW1lIiwiZGl2Iiwib2JqZWN0IiwicGFyYW0iLCJlbWJlZCIsInZpZGVvIiwic291cmNlIiwiaSJdLHNlbGZDbG9zaW5nVGFnczpbImJyIiwiYnV0dG9uIiwiaW5wdXQiLCJpbWciLCJociIsInBhcmFtIiwiIS0tIiwic291cmNlIiwiZW1iZWQiXX0pLGEuRWRpdGFibGUuVEFHX09SREVSPVsibWFpbiIsInNlY3Rpb24iLCJoZWFkZXIiLCJmb290ZXIiLCJhcnRpY2xlIiwiZGV0YWlscyIsImxlZ2VuZCIsInN1bW1hcnkiLCJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsInVsIiwib2wiLCJsaSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsInByZSIsImJsb2NrcXVvdGUiLCJwIiwiYSIsInN0cm9uZyIsImVtIiwic3RyaWtlIiwidSIsInNwYW4iLCJpZnJhbWUiLCJvYmplY3QiLCJwYXJhbSIsInZpZGVvIiwic291cmNlIiwiZW1iZWQiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc0Nsb3NpbmdUYWc9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bnVsbCE9PWEubWF0Y2goL148XC8oW2EtekEtWjAtOV0rKShbXjxdKykqPiQvZ2kpOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50YWdOYW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL148XC8/KFthLXpBLVowLTktIV0rKShbXjxdKykqPiQvZ2ksIiQxIikudG9Mb3dlckNhc2UoKX0sYS5FZGl0YWJsZS5TRUxGX0NMT1NJTkdfQUZURVI9WyJzb3VyY2UiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc1NlbGZDbG9zaW5nVGFnPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGFnTmFtZShhKTtyZXR1cm4gdGhpcy5vcHRpb25zLnNlbGZDbG9zaW5nVGFncy5pbmRleE9mKGIudG9Mb3dlckNhc2UoKSk+PTB9LGEuRWRpdGFibGUucHJvdG90eXBlLnRhZ0tleT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlKyhhLmF0dHJzfHxbXSkuc29ydCgpLmpvaW4oInwiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZXh0ZW5kZWRLZXk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGFnS2V5KGEpK0pTT04uc3RyaW5naWZ5KGEuc3R5bGUpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5tZXJnZVN0eWxlPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXt9LGU9YS5FZGl0YWJsZS51bmlxKGEubWVyZ2UoT2JqZWN0LmtleXMoYi5zdHlsZSksT2JqZWN0LmtleXMoYy5zdHlsZSkpKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07ZFtnXT1udWxsIT1jLnN0eWxlW2ddP2Muc3R5bGVbZ106Yi5zdHlsZVtnXX1yZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubWFwRE9NPWZ1bmN0aW9uKGIsYyl7dm9pZCAwPT09YyYmKGM9ITApO3ZhciBkLGUsZixnLGg9MCxpPTAsaj1bXSxrPSIiLGw9W10sbT17fSxuPXt9LG89ITE7YyYmKGI9Yi5yZXBsYWNlKC9cdTIwMEIvZ2ksIiIpKTtmb3IodmFyIHA9MDtwPGIubGVuZ3RoO3ArKylpZihkPWIuY2hhckF0KHApLCI8Ij09ZCl7dmFyIHE9Yi5pbmRleE9mKCI+IixwKzEpO2lmKC0xIT09cSl7aWYoaSsrLGU9Yi5zdWJzdHJpbmcocCxxKzEpLGc9dGhpcy50YWdOYW1lKGUpLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhlKSl7bltoXXx8KG5baF09W10pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pLHA9cTtjb250aW51ZX12YXIgcj1udWxsLHM9ZS5yZXBsYWNlKC9ePFtcU1xzXSogc3R5bGU9KCJbXiJdKyJ8J1teJ10rJylbXFNcc10qPiQvZ2ksIiQxIiksdD17fTtpZihzIT1lJiYocz1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpLG1hdGNoZXM9cy5tYXRjaCgvKFteOl0qKTooW146O10qO3wkKS9naSkpKWZvcih2YXIgdT0wO3U8bWF0Y2hlcy5sZW5ndGg7dSsrKXt2YXIgdj1tYXRjaGVzW3VdLnNwbGl0KCI6Iiksdz12LnNsaWNlKDEpLmpvaW4oIjoiKS50cmltKCk7IjsiPT13W3cubGVuZ3RoLTFdJiYodz13LnN1YnN0cigwLHcubGVuZ3RoLTEpKSx0W3ZbMF0udHJpbSgpXT13fXI9ZS5tYXRjaCgvKFtcd1wtXSopPSgiW148PiJdKiJ8J1tePD4nXSonfFx3KykvZ2kpO3ZhciB4PW51bGw7aWYocilmb3IodmFyIHk9MDt5PHIubGVuZ3RoO3krKykwPT09clt5XS5pbmRleE9mKCJjbGFzcz0iKSYmKHg9clt5XSksMD09PXJbeV0uaW5kZXhPZigic3R5bGU9IikmJnIuc3BsaWNlKHksMSk7ImIiPT1nJiYoZz0ic3Ryb25nIiksImkiPT1nJiYoIXh8fHguaW5kZXhPZigiZmEtIik8MCkmJm89PT0hMSYmKGc9ImVtIik7dmFyIHo9dGhpcy5pc0Nsb3NpbmdUYWcoZSk7aWYoImkiPT1nJiYobz16PyExOiEwKSx6KXt2YXIgQT1tW2ddLnBvcCgpO2g9PWpbQV0uc3RhcnQmJnRoaXMub3B0aW9ucy5hbGxvd2VkRW1wdHlUYWdzLmluZGV4T2YoZy50b0xvd2VyQ2FzZSgpKT49MCYmKG5baF18fChuW2hdPVtdKSxuW2hdLnB1c2goe2k6altBXS5pLGNvbnRlbnQ6altBXS5vcmlnaW5hbH0pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pKX1lbHNlIHRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihnLnRvVXBwZXJDYXNlKCkpPj0wJiYocj9yLnB1c2goJ2RhdGEtZnItaWR4PSInK3ArJyInKTpyPVsnZGF0YS1mci1pZHg9IicrcCsnIiddKSxqLnB1c2goe3R5cGU6ZyxhdHRyczpyLHN0eWxlOnQsc3RhcnQ6aCxpOmksb3JpZ2luYWw6ZX0pLG1bZ118fChtW2ddPVtdKSxtW2ddLnB1c2goai5sZW5ndGgtMSk7cD1xfX1lbHNle2srPWQsbFtoXT17fTtmb3IoZyBpbiBtKXtmPW1bZ107Zm9yKHZhciBCPTA7QjxmLmxlbmd0aDtCKyspe2U9altmW0JdXTt2YXIgQz10aGlzLnRhZ0tleShlKTtsW2hdW0NdP2xbaF1bQ10uc3R5bGU9dGhpcy5tZXJnZVN0eWxlKGxbaF1bQ10sZSk6bFtoXVtDXT1hLmV4dGVuZCh7fSxlKX19aCsrfXZhciBEPVtdO2ZvcihwPTA7cDxsLmxlbmd0aDtwKyspe0RbcF09e307Zm9yKHZhciBFIGluIGxbcF0pRFtwXVt0aGlzLmV4dGVuZGVkS2V5KGxbcF1bRV0pXT1sW3BdW0VdfXJldHVybnt0ZXh0OmssZm9ybWF0OkQsc2ltcGxlX3RhZ3M6bn19LGEuRWRpdGFibGUucHJvdG90eXBlLmZyb2FsYURPTT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD1bXSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtmb3IoYyBpbiBlKWdbY118fChlW2NdLmVuZD1mLGQucHVzaChhLmV4dGVuZCh7fSxlW2NdKSksZGVsZXRlIGVbY10pO2Zvcih2YXIgaCBpbiBnKWVbaF18fChnW2hdLnN0YXJ0PWYsZVtoXT1nW2hdKX1mb3IoYyBpbiBlKWVbY10uZW5kPWIubGVuZ3RoLGQucHVzaChlW2NdKTtyZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc29ydE5vZGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YoYi50eXBlKS1hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKGMudHlwZSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNvcnRTaW1wbGVUYWdzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaS1iLml9LGEuRWRpdGFibGUucHJvdG90eXBlLm9wZW5UYWc9ZnVuY3Rpb24oYSl7dmFyIGI9IjwiK2EudHlwZTtpZihhLmF0dHJzKXthLmF0dHJzLnNvcnQoKTtmb3IodmFyIGM9MDtjPGEuYXR0cnMubGVuZ3RoO2MrKyliKz0iICIrYS5hdHRyc1tjXX12YXIgZD0iIjtmb3IodmFyIGUgaW4gYS5zdHlsZSludWxsIT1hLnN0eWxlW2VdJiYoZCs9ZS5yZXBsYWNlKCJfIiwiLSIpKyI6ICIrYS5zdHlsZVtlXSsiOyAiKTtyZXR1cm4iIiE9PWQmJihiKz0nIHN0eWxlPSInK2QudHJpbSgpKyciJyksYis9Ij4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbGVhbk91dHB1dD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5tYXBET00oYixjKSxpPXRoaXMuZnJvYWxhRE9NKGguZm9ybWF0KSxqPWguc2ltcGxlX3RhZ3Msaz1oLnRleHQsbD17fTtmb3IoZT0wO2U8aS5sZW5ndGg7ZSsrKWQ9aVtlXSxsW2Quc3RhcnRdfHwobFtkLnN0YXJ0XT1bXSksbFtkLnN0YXJ0XS5wdXNoKGQpO3ZhciBtPXt9O2ZvcihiPSIiLGU9MDtlPD1rLmxlbmd0aDtlKyspe3ZhciBuPVtdO2lmKG1bZV0pe2Zvcih2YXIgbyBpbiBtKWlmKG8+ZSlmb3IoZj0wO2Y8bVtvXS5sZW5ndGg7ZisrKXt2YXIgcD1tW29dW2ZdO3Auc3RhcnQ+PW1bZV1bbVtlXS5sZW5ndGgtMV0uc3RhcnQmJmEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YocC50eXBlKT5hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKG1bZV1bbVtlXS5sZW5ndGgtMV0udHlwZSkmJnRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihwLnR5cGUudG9VcHBlckNhc2UoKSk8MCYmKGIrPSI8LyIrcC50eXBlKyI+IixuLnB1c2gocCksbVtvXS5zcGxpY2UoZiwxKSl9Zm9yKGY9MDtmPG1bZV0ubGVuZ3RoO2YrKyliKz0iPC8iK21bZV1bZl0udHlwZSsiPiJ9Zm9yKGxbZV18fChsW2VdPVtdKTtuLmxlbmd0aD4wOyl7dmFyIHE9bi5wb3AoKTtxLnN0YXJ0PWUsbFtlXS5wdXNoKHEpfWlmKGxbZV0pZm9yKGxbZV09bFtlXS5zb3J0KHRoaXMuc29ydE5vZGVzKSxmPTA7ZjxsW2VdLmxlbmd0aDtmKyspZD1sW2VdW2ZdLG1bZC5lbmRdfHwobVtkLmVuZF09W10pLG1bZC5lbmRdLnB1c2goZCksYis9dGhpcy5vcGVuVGFnKGQpO2lmKGpbZV0pZm9yKGpbZV09altlXS5zb3J0KHRoaXMuc29ydFNpbXBsZVRhZ3MpLGc9MDtnPGpbZV0ubGVuZ3RoO2crKyliKz1qW2VdW2ddLmNvbnRlbnQ7ZSE9ay5sZW5ndGgmJihiKz1rW2VdKX1yZXR1cm4gYn0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xlYW5pZnk9ZnVuY3Rpb24oYixjKXt2YXIgZDtpZih0aGlzLmlzSFRNTClyZXR1cm4hMTt2b2lkIDA9PT1iJiYoYj0hMCksdGhpcy5ub192ZXJpZnk9ITAsdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZD1iP3RoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTp0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpO3ZhciBlLGY7aWYoZFswXSE9dGhpcy4kZWxlbWVudC5nZXQoMCkpZm9yKHZhciBnPTA7ZzxkLmxlbmd0aDtnKyspe3ZhciBoPWEoZFtnXSk7MD09PWguZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSkubGVuZ3RoJiYoZT1oLmh0bWwoKSxmPXRoaXMuY2xlYW5PdXRwdXQoZSxjKSxmIT09ZSYmaC5odG1sKGYpKX1lbHNlIDA9PT10aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aCYmKGU9dGhpcy4kZWxlbWVudC5odG1sKCksZj10aGlzLmNsZWFuT3V0cHV0KGUsYyksZiE9PWUmJnRoaXMuJGVsZW1lbnQuaHRtbChmKSk7dGhpcy4kZWxlbWVudC5maW5kKCJbZGF0YS1mci1pZHhdIikucmVtb3ZlQXR0cigiZGF0YS1mci1pZHgiKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmZvY3VzKCksdGhpcy4kZWxlbWVudC5maW5kKCJzcGFuIikuYXR0cigiZGF0YS1mci12ZXJpZmllZCIsITApLHRoaXMubm9fdmVyaWZ5PSExfX0oalF1ZXJ5KTs=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Sun, 09 Nov 2014 03:22:17 GMT",
                    "Content-Length": "151232",
                    "Date": "Sun, 09 Nov 2014 03:22:18 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
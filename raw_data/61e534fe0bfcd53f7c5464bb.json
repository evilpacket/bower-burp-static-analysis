{
    "url": "http://localhost:9999/feedhenry/fh-js-sdk/src/appforms/tests/vendor/72-scripts.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>window.location</b> and written to <b>the 'setAttribute()' function of a DOM element</b> via the following statements:<ul><li>var xir=(xiRedirectUrl)?xiRedirectUrl:window.location;</li><li>this.setAttribute('xiRedirectUrl',xir);</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/feedhenry/fh-js-sdk/src/appforms/tests/vendor/72-scripts.js",
                "path": "/feedhenry/fh-js-sdk/src/appforms/tests/vendor/72-scripts.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9mZWVkaGVucnkvZmgtanMtc2RrL3NyYy9hcHBmb3Jtcy90ZXN0cy92ZW5kb3IvNzItc2NyaXB0cy5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMjA0MjYyDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDAwOjE0OjE1IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwMDoxNDoxNCBHTVQNCg0KCmlmKCF0aGlzLkpTT04pe0pTT049ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKG4pe3JldHVybiBuPDEwPycwJytuOm47fQpEYXRlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRVVENGdWxsWWVhcigpKyctJysKZih0aGlzLmdldFVUQ01vbnRoKCkrMSkrJy0nKwpmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsnVCcrCmYodGhpcy5nZXRVVENIb3VycygpKSsnOicrCmYodGhpcy5nZXRVVENNaW51dGVzKCkpKyc6JysKZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrJ1onO307dmFyIGVzY2FwZWFibGU9L1siXFxceDAwLVx4MWZceDdmLVx4OWZdL2csZ2FwLGluZGVudCxtZXRhPXsnXGInOidcXGInLCdcdCc6J1xcdCcsJ1xuJzonXFxuJywnXGYnOidcXGYnLCdccic6J1xccicsJyInOidcXCInLCdcXCc6J1xcXFwnfSxyZXA7ZnVuY3Rpb24gcXVvdGUoc3RyaW5nKXtyZXR1cm4gZXNjYXBlYWJsZS50ZXN0KHN0cmluZyk/JyInK3N0cmluZy5yZXBsYWNlKGVzY2FwZWFibGUsZnVuY3Rpb24oYSl7dmFyIGM9bWV0YVthXTtpZih0eXBlb2YgYz09PSdzdHJpbmcnKXtyZXR1cm4gYzt9CmM9YS5jaGFyQ29kZUF0KCk7cmV0dXJuJ1xcdTAwJytNYXRoLmZsb29yKGMvMTYpLnRvU3RyaW5nKDE2KSsKKGMlMTYpLnRvU3RyaW5nKDE2KTt9KSsnIic6JyInK3N0cmluZysnIic7fQpmdW5jdGlvbiBzdHIoa2V5LGhvbGRlcil7dmFyIGksayx2LGxlbmd0aCxtaW5kPWdhcCxwYXJ0aWFsLHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0JyYmdHlwZW9mIHZhbHVlLnRvSlNPTj09PSdmdW5jdGlvbicpe3ZhbHVlPXZhbHVlLnRvSlNPTihrZXkpO30KaWYodHlwZW9mIHJlcD09PSdmdW5jdGlvbicpe3ZhbHVlPXJlcC5jYWxsKGhvbGRlcixrZXksdmFsdWUpO30Kc3dpdGNoKHR5cGVvZiB2YWx1ZSl7Y2FzZSdzdHJpbmcnOnJldHVybiBxdW90ZSh2YWx1ZSk7Y2FzZSdudW1iZXInOnJldHVybiBpc0Zpbml0ZSh2YWx1ZSk/U3RyaW5nKHZhbHVlKTonbnVsbCc7Y2FzZSdib29sZWFuJzpjYXNlJ251bGwnOnJldHVybiBTdHJpbmcodmFsdWUpO2Nhc2Unb2JqZWN0JzppZighdmFsdWUpe3JldHVybidudWxsJzt9CmdhcCs9aW5kZW50O3BhcnRpYWw9W107aWYodHlwZW9mIHZhbHVlLmxlbmd0aD09PSdudW1iZXInJiYhKHZhbHVlLnByb3BlcnR5SXNFbnVtZXJhYmxlKCdsZW5ndGgnKSkpe2xlbmd0aD12YWx1ZS5sZW5ndGg7Zm9yKGk9MDtpPGxlbmd0aDtpKz0xKXtwYXJ0aWFsW2ldPXN0cihpLHZhbHVlKXx8J251bGwnO30Kdj1wYXJ0aWFsLmxlbmd0aD09PTA/J1tdJzpnYXA/J1tcbicrZ2FwK3BhcnRpYWwuam9pbignLFxuJytnYXApKydcbicrbWluZCsnXSc6J1snK3BhcnRpYWwuam9pbignLCcpKyddJztnYXA9bWluZDtyZXR1cm4gdjt9CmlmKHR5cGVvZiByZXA9PT0nb2JqZWN0Jyl7bGVuZ3RoPXJlcC5sZW5ndGg7Zm9yKGk9MDtpPGxlbmd0aDtpKz0xKXtrPXJlcFtpXTtpZih0eXBlb2Ygaz09PSdzdHJpbmcnKXt2PXN0cihrLHZhbHVlLHJlcCk7aWYodil7cGFydGlhbC5wdXNoKHF1b3RlKGspKyhnYXA/JzogJzonOicpK3YpO319fX1lbHNle2ZvcihrIGluIHZhbHVlKXt2PXN0cihrLHZhbHVlLHJlcCk7aWYodil7cGFydGlhbC5wdXNoKHF1b3RlKGspKyhnYXA/JzogJzonOicpK3YpO319fQp2PXBhcnRpYWwubGVuZ3RoPT09MD8ne30nOmdhcD8ne1xuJytnYXArcGFydGlhbC5qb2luKCcsXG4nK2dhcCkrJ1xuJyttaW5kKyd9JzoneycrcGFydGlhbC5qb2luKCcsJykrJ30nO2dhcD1taW5kO3JldHVybiB2O319CnJldHVybntzdHJpbmdpZnk6ZnVuY3Rpb24odmFsdWUscmVwbGFjZXIsc3BhY2Upe3ZhciBpO2dhcD0nJztpbmRlbnQ9Jyc7aWYoc3BhY2Upe2lmKHR5cGVvZiBzcGFjZT09PSdudW1iZXInKXtmb3IoaT0wO2k8c3BhY2U7aSs9MSl7aW5kZW50Kz0nICc7fX1lbHNlIGlmKHR5cGVvZiBzcGFjZT09PSdzdHJpbmcnKXtpbmRlbnQ9c3BhY2U7fX0KaWYoIXJlcGxhY2VyKXtyZXA9ZnVuY3Rpb24oa2V5LHZhbHVlKXtpZighT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcyxrZXkpKXtyZXR1cm4gdW5kZWZpbmVkO30KcmV0dXJuIHZhbHVlO307fWVsc2UgaWYodHlwZW9mIHJlcGxhY2VyPT09J2Z1bmN0aW9uJ3x8KHR5cGVvZiByZXBsYWNlcj09PSdvYmplY3QnJiZ0eXBlb2YgcmVwbGFjZXIubGVuZ3RoPT09J251bWJlcicpKXtyZXA9cmVwbGFjZXI7fWVsc2V7dGhyb3cgbmV3IEVycm9yKCdKU09OLnN0cmluZ2lmeScpO30KcmV0dXJuIHN0cignJyx7Jyc6dmFsdWV9KTt9LHBhcnNlOmZ1bmN0aW9uKHRleHQscmV2aXZlcil7dmFyIGo7ZnVuY3Rpb24gd2Fsayhob2xkZXIsa2V5KXt2YXIgayx2LHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0Jyl7Zm9yKGsgaW4gdmFsdWUpe2lmKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLGspKXt2PXdhbGsodmFsdWUsayk7aWYodiE9PXVuZGVmaW5lZCl7dmFsdWVba109djt9ZWxzZXtkZWxldGUgdmFsdWVba107fX19fQpyZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlcixrZXksdmFsdWUpO30KaWYoL15bXF0sOnt9XHNdKiQvLnRlc3QodGV4dC5yZXBsYWNlKC9cXFsiXFxcL2JmbnJ0dV0vZywnQCcpLnJlcGxhY2UoLyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLCddJykucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCcnKSkpe2o9ZXZhbCgnKCcrdGV4dCsnKScpO3JldHVybiB0eXBlb2YgcmV2aXZlcj09PSdmdW5jdGlvbic/d2Fsayh7Jyc6an0sJycpOmo7fQp0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0pTT04ucGFyc2UnKTt9LHF1b3RlOnF1b3RlfTt9KCk7fQooZnVuY3Rpb24oKXtpZih3aW5kb3cuZ29vZ2xlJiZnb29nbGUuZ2VhcnMpCnJldHVybjt2YXIgRj1udWxsO2lmKHR5cGVvZiBHZWFyc0ZhY3RvcnkhPSd1bmRlZmluZWQnKXtGPW5ldyBHZWFyc0ZhY3RvcnkoKTt9ZWxzZXt0cnl7Rj1uZXcgQWN0aXZlWE9iamVjdCgnR2VhcnMuRmFjdG9yeScpO2lmKEYuZ2V0QnVpbGRJbmZvKCkuaW5kZXhPZignaWVfbW9iaWxlJykhPS0xKQpGLnByaXZhdGVTZXRHbG9iYWxPYmplY3QodGhpcyk7fWNhdGNoKGUpe2lmKCh0eXBlb2YgbmF2aWdhdG9yLm1pbWVUeXBlcyE9J3VuZGVmaW5lZCcpJiZuYXZpZ2F0b3IubWltZVR5cGVzWyJhcHBsaWNhdGlvbi94LWdvb2dsZWdlYXJzIl0pe0Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib2JqZWN0Iik7Ri5zdHlsZS5kaXNwbGF5PSJub25lIjtGLndpZHRoPTA7Ri5oZWlnaHQ9MDtGLnR5cGU9ImFwcGxpY2F0aW9uL3gtZ29vZ2xlZ2VhcnMiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChGKTt9fX0KaWYoIUYpCnJldHVybjtpZighd2luZG93Lmdvb2dsZSkKZ29vZ2xlPXt9O2lmKCFnb29nbGUuZ2VhcnMpCmdvb2dsZS5nZWFycz17ZmFjdG9yeTpGfTt9KSgpO1BlcnNpc3Q9KGZ1bmN0aW9uKCl7dmFyIFZFUlNJT049JzAuMi4wJyxQLEIsZXNjLGluaXQsZW1wdHksZWM7ZWM9KGZ1bmN0aW9uKCl7dmFyIEVQT0NIPSdUaHUsIDAxLUphbi0xOTcwIDAwOjAwOjAxIEdNVCcsUkFUSU89MTAwMCo2MCo2MCoyNCxLRVlTPVsnZXhwaXJlcycsJ3BhdGgnLCdkb21haW4nXSxlc2M9ZXNjYXBlLHVuPXVuZXNjYXBlLGRvYz1kb2N1bWVudCxtZTt2YXIgZ2V0X25vdz1mdW5jdGlvbigpe3ZhciByPW5ldyBEYXRlKCk7ci5zZXRUaW1lKHIuZ2V0VGltZSgpKTtyZXR1cm4gcjt9CnZhciBjb29raWZ5PWZ1bmN0aW9uKGNfa2V5LGNfdmFsKXt2YXIgaSxrZXksdmFsLHI9W10sb3B0PShhcmd1bWVudHMubGVuZ3RoPjIpP2FyZ3VtZW50c1syXTp7fTtyLnB1c2goZXNjKGNfa2V5KSsnPScrZXNjKGNfdmFsKSk7Zm9yKGk9MDtpPEtFWVMubGVuZ3RoO2krKyl7a2V5PUtFWVNbaV07aWYodmFsPW9wdFtrZXldKQpyLnB1c2goa2V5Kyc9Jyt2YWwpO30KaWYob3B0LnNlY3VyZSkKci5wdXNoKCdzZWN1cmUnKTtyZXR1cm4gci5qb2luKCc7ICcpO30KdmFyIGFsaXZlPWZ1bmN0aW9uKCl7dmFyIGs9J19fRUNfVEVTVF9fJyx2PW5ldyBEYXRlKCk7dj12LnRvR01UU3RyaW5nKCk7dGhpcy5zZXQoayx2KTt0aGlzLmVuYWJsZWQ9KHRoaXMucmVtb3ZlKGspPT12KTtyZXR1cm4gdGhpcy5lbmFibGVkO30KbWU9e3NldDpmdW5jdGlvbihrZXksdmFsKXt2YXIgb3B0PShhcmd1bWVudHMubGVuZ3RoPjIpP2FyZ3VtZW50c1syXTp7fSxub3c9Z2V0X25vdygpLGV4cGlyZV9hdCxjZmc9e307aWYob3B0LmV4cGlyZXMpe29wdC5leHBpcmVzKj1SQVRJTztjZmcuZXhwaXJlcz1uZXcgRGF0ZShub3cuZ2V0VGltZSgpK29wdC5leHBpcmVzKTtjZmcuZXhwaXJlcz1jZmcuZXhwaXJlcy50b0dNVFN0cmluZygpO30KdmFyIGtleXM9WydwYXRoJywnZG9tYWluJywnc2VjdXJlJ107Zm9yKGk9MDtpPGtleXMubGVuZ3RoO2krKykKaWYob3B0W2tleXNbaV1dKQpjZmdba2V5c1tpXV09b3B0W2tleXNbaV1dO3ZhciByPWNvb2tpZnkoa2V5LHZhbCxjZmcpO2RvYy5jb29raWU9cjtyZXR1cm4gdmFsO30saGFzOmZ1bmN0aW9uKGtleSl7a2V5PWVzYyhrZXkpO3ZhciBjPWRvYy5jb29raWUsb2ZzPWMuaW5kZXhPZihrZXkrJz0nKSxsZW49b2ZzK2tleS5sZW5ndGgrMSxzdWI9Yy5zdWJzdHJpbmcoMCxrZXkubGVuZ3RoKTtyZXR1cm4oKCFvZnMmJmtleSE9c3ViKXx8b2ZzPDApP2ZhbHNlOnRydWU7fSxnZXQ6ZnVuY3Rpb24oa2V5KXtrZXk9ZXNjKGtleSk7dmFyIGM9ZG9jLmNvb2tpZSxvZnM9Yy5pbmRleE9mKGtleSsnPScpLGxlbj1vZnMra2V5Lmxlbmd0aCsxLHN1Yj1jLnN1YnN0cmluZygwLGtleS5sZW5ndGgpLGVuZDtpZigoIW9mcyYma2V5IT1zdWIpfHxvZnM8MCkKcmV0dXJuIG51bGw7ZW5kPWMuaW5kZXhPZignOycsbGVuKTtpZihlbmQ8MCkKZW5kPWMubGVuZ3RoO3JldHVybiB1bihjLnN1YnN0cmluZyhsZW4sZW5kKSk7fSxyZW1vdmU6ZnVuY3Rpb24oayl7dmFyIHI9bWUuZ2V0KGspLG9wdD17ZXhwaXJlczpFUE9DSH07ZG9jLmNvb2tpZT1jb29raWZ5KGssJycsb3B0KTtyZXR1cm4gcjt9LGtleXM6ZnVuY3Rpb24oKXt2YXIgYz1kb2MuY29va2llLHBzPWMuc3BsaXQoJzsgJyksaSxwLHI9W107Zm9yKGk9MDtpPHBzLmxlbmd0aDtpKyspe3A9cHNbaV0uc3BsaXQoJz0nKTtyLnB1c2godW4ocFswXSkpO30KcmV0dXJuIHI7fSxhbGw6ZnVuY3Rpb24oKXt2YXIgYz1kb2MuY29va2llLHBzPWMuc3BsaXQoJzsgJyksaSxwLHI9W107Zm9yKGk9MDtpPHBzLmxlbmd0aDtpKyspe3A9cHNbaV0uc3BsaXQoJz0nKTtyLnB1c2goW3VuKHBbMF0pLHVuKHBbMV0pXSk7fQpyZXR1cm4gcjt9LHZlcnNpb246JzAuMi4xJyxlbmFibGVkOmZhbHNlfTttZS5lbmFibGVkPWFsaXZlLmNhbGwobWUpO3JldHVybiBtZTt9KCkpO3ZhciBpbmRleF9vZj0oZnVuY3Rpb24oKXtpZihBcnJheS5wcm90b3R5cGUuaW5kZXhPZikKcmV0dXJuIGZ1bmN0aW9uKGFyeSx2YWwpe3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFyeSx2YWwpO307ZWxzZQpyZXR1cm4gZnVuY3Rpb24oYXJ5LHZhbCl7dmFyIGksbDtmb3IoaT0wLGw9YXJ5Lmxlbmd0aDtpPGw7aSsrKQppZihhcnlbaV09PXZhbCkKcmV0dXJuIGk7cmV0dXJuLTE7fTt9KSgpO2VtcHR5PWZ1bmN0aW9uKCl7fTtlc2M9ZnVuY3Rpb24oc3RyKXtyZXR1cm4nUFMnK3N0ci5yZXBsYWNlKC9fL2csJ19fJykucmVwbGFjZSgvIC9nLCdfcycpO307Qz17c2VhcmNoX29yZGVyOlsnbG9jYWxzdG9yYWdlJywnd2hhdHdnX2RiJywnZ2xvYmFsc3RvcmFnZScsJ2dlYXJzJywnaWUnLCdmbGFzaCcsJ2Nvb2tpZSddLG5hbWVfcmU6L15bYS16XVthLXowLTlfIC1dKyQvaSxtZXRob2RzOlsnaW5pdCcsJ2dldCcsJ3NldCcsJ3JlbW92ZScsJ2xvYWQnLCdzYXZlJ10sc3FsOnt2ZXJzaW9uOicxJyxjcmVhdGU6IkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHBlcnNpc3RfZGF0YSAoayBURVhUIFVOSVFVRSBOT1QgTlVMTCBQUklNQVJZIEtFWSwgdiBURVhUIE5PVCBOVUxMKSIsZ2V0OiJTRUxFQ1QgdiBGUk9NIHBlcnNpc3RfZGF0YSBXSEVSRSBrID0gPyIsc2V0OiJJTlNFUlQgSU5UTyBwZXJzaXN0X2RhdGEoaywgdikgVkFMVUVTICg/LCA/KSIscmVtb3ZlOiJERUxFVEUgRlJPTSBwZXJzaXN0X2RhdGEgV0hFUkUgayA9ID8ifSxmbGFzaDp7ZGl2X2lkOidfcGVyc2lzdF9mbGFzaF93cmFwJyxpZDonX3BlcnNpc3RfZmxhc2gnLHBhdGg6J3BlcnNpc3Quc3dmJyxzaXplOnt3OjEsaDoxfSxhcmdzOnthdXRvc3RhcnQ6dHJ1ZX19fTtCPXtnZWFyczp7c2l6ZTotMSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuKHdpbmRvdy5nb29nbGUmJndpbmRvdy5nb29nbGUuZ2VhcnMpP3RydWU6ZmFsc2U7fSxtZXRob2RzOnt0cmFuc2FjdGlvbjpmdW5jdGlvbihmbil7dmFyIGRiPXRoaXMuZGI7ZGIuZXhlY3V0ZSgnQkVHSU4nKS5jbG9zZSgpO2ZuLmNhbGwodGhpcyxkYik7ZGIuZXhlY3V0ZSgnQ09NTUlUJykuY2xvc2UoKTt9LGluaXQ6ZnVuY3Rpb24oKXt2YXIgZGI7ZGI9dGhpcy5kYj1nb29nbGUuZ2VhcnMuZmFjdG9yeS5jcmVhdGUoJ2JldGEuZGF0YWJhc2UnKTtkYi5vcGVuKGVzYyh0aGlzLm5hbWUpKTtkYi5leGVjdXRlKEMuc3FsLmNyZWF0ZSkuY2xvc2UoKTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciByLHNxbD1DLnNxbC5nZXQ7aWYoIWZuKQpyZXR1cm47dGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbih0KXt2YXIgaXNfdmFsaWQsdmFsO3I9dC5leGVjdXRlKHNxbCxba2V5XSk7aXNfdmFsaWQ9ci5pc1ZhbGlkUm93KCk7dmFsPWlzX3ZhbGlkP3IuZmllbGQoMCk6bnVsbDtyLmNsb3NlKCk7Zm4uY2FsbChzY29wZXx8dGhpcyxpc192YWxpZCx2YWwpO30pO30sc2V0OmZ1bmN0aW9uKGtleSx2YWwsZm4sc2NvcGUpe3ZhciBybV9zcWw9Qy5zcWwucmVtb3ZlLHNxbD1DLnNxbC5zZXQscjt0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZShybV9zcWwsW2tleV0pLmNsb3NlKCk7dC5leGVjdXRlKHNxbCxba2V5LHZhbF0pLmNsb3NlKCk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdHJ1ZSx2YWwpO30pO30scmVtb3ZlOmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIGdldF9zcWw9Qy5zcWwuZ2V0O3NxbD1DLnNxbC5yZW1vdmUscix2YWw9bnVsbCxpc192YWxpZD1mYWxzZTt0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe2lmKGZuKXtyPXQuZXhlY3V0ZShnZXRfc3FsLFtrZXldKTtpc192YWxpZD1yLmlzVmFsaWRSb3coKTt2YWw9aXNfdmFsaWQ/ci5maWVsZCgwKTpudWxsO3IuY2xvc2UoKTt9CmlmKCFmbnx8aXNfdmFsaWQpe3QuZXhlY3V0ZShzcWwsW2tleV0pLmNsb3NlKCk7fQppZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyxpc192YWxpZCx2YWwpO30pO319fSx3aGF0d2dfZGI6e3NpemU6MjAwKjEwMjQsdGVzdDpmdW5jdGlvbigpe3ZhciBuYW1lPSdQZXJzaXN0SlMgVGVzdCcsZGVzYz0nUGVyc2lzdGVudCBkYXRhYmFzZSB0ZXN0Lic7aWYoIXdpbmRvdy5vcGVuRGF0YWJhc2UpCnJldHVybiBmYWxzZTtpZighd2luZG93Lm9wZW5EYXRhYmFzZShuYW1lLEMuc3FsLnZlcnNpb24sZGVzYyxCLndoYXR3Z19kYi5zaXplKSkKcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlO30sbWV0aG9kczp7dHJhbnNhY3Rpb246ZnVuY3Rpb24oZm4pe2lmKCF0aGlzLmRiX2NyZWF0ZWQpe3RoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKEMuc3FsLmNyZWF0ZSxbXSxmdW5jdGlvbigpe3RoaXMuZGJfY3JlYXRlZD10cnVlO30pO30sZW1wdHkpO30KdGhpcy5kYi50cmFuc2FjdGlvbihmbik7fSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5kYj1vcGVuRGF0YWJhc2UodGhpcy5uYW1lLEMuc3FsLnZlcnNpb24sdGhpcy5vLmFib3V0fHwoIlBlcnNpc3RlbnQgc3RvcmFnZSBmb3IgIit0aGlzLm5hbWUpLHRoaXMuby5zaXplfHxCLndoYXR3Z19kYi5zaXplKTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciBzcWw9Qy5zcWwuZ2V0O2lmKCFmbikKcmV0dXJuO3Njb3BlPXNjb3BlfHx0aGlzO3RoaXMudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKHNxbCxba2V5XSxmdW5jdGlvbih0LHIpe2lmKHIucm93cy5sZW5ndGg+MCkKZm4uY2FsbChzY29wZSx0cnVlLHIucm93cy5pdGVtKDApWyd2J10pO2Vsc2UKZm4uY2FsbChzY29wZSxmYWxzZSxudWxsKTt9KTt9KTt9LHNldDpmdW5jdGlvbihrZXksdmFsLGZuLHNjb3BlKXt2YXIgcm1fc3FsPUMuc3FsLnJlbW92ZSxzcWw9Qy5zcWwuc2V0O3RoaXMudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKHJtX3NxbCxba2V5XSxmdW5jdGlvbigpe3QuZXhlY3V0ZVNxbChzcWwsW2tleSx2YWxdLGZ1bmN0aW9uKHQscil7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdHJ1ZSx2YWwpO30pO30pO30pO3JldHVybiB2YWw7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LGZuLHNjb3BlKXt2YXIgZ2V0X3NxbD1DLnNxbC5nZXQ7c3FsPUMuc3FsLnJlbW92ZTt0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe2lmKGZuKXt0LmV4ZWN1dGVTcWwoZ2V0X3NxbCxba2V5XSxmdW5jdGlvbih0LHIpe2lmKHIucm93cy5sZW5ndGg+MCl7dmFyIHZhbD1yLnJvd3MuaXRlbSgwKVsndiddO3QuZXhlY3V0ZVNxbChzcWwsW2tleV0sZnVuY3Rpb24odCxyKXtmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdmFsKTt9KTt9ZWxzZXtmbi5jYWxsKHNjb3BlfHx0aGlzLGZhbHNlLG51bGwpO319KTt9ZWxzZXt0LmV4ZWN1dGVTcWwoc3FsLFtrZXldKTt9fSk7fX19LGdsb2JhbHN0b3JhZ2U6e3NpemU6NSoxMDI0KjEwMjQsdGVzdDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuZ2xvYmFsU3RvcmFnZT90cnVlOmZhbHNlO30sbWV0aG9kczp7a2V5OmZ1bmN0aW9uKGtleSl7cmV0dXJuIGVzYyh0aGlzLm5hbWUpK2VzYyhrZXkpO30saW5pdDpmdW5jdGlvbigpe2FsZXJ0KCdkb21haW4gPSAnK3RoaXMuby5kb21haW4pO3RoaXMuc3RvcmU9Z2xvYmFsU3RvcmFnZVt0aGlzLm8uZG9tYWluXTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdGhpcy5zdG9yZS5nZXRJdGVtKGtleSkpO30sc2V0OmZ1bmN0aW9uKGtleSx2YWwsZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO3RoaXMuc3RvcmUuc2V0SXRlbShrZXksdmFsKTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyx0cnVlLHZhbCk7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LGZuLHNjb3BlKXt2YXIgdmFsO2tleT10aGlzLmtleShrZXkpO3ZhbD10aGlzLnN0b3JlW2tleV07dGhpcy5zdG9yZS5yZW1vdmVJdGVtKGtleSk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsKHZhbCE9PW51bGwpLHZhbCk7fX19LGxvY2Fsc3RvcmFnZTp7c2l6ZTotMSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U/dHJ1ZTpmYWxzZTt9LG1ldGhvZHM6e2tleTpmdW5jdGlvbihrZXkpe3JldHVybiBlc2ModGhpcy5uYW1lKStlc2Moa2V5KTt9LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnN0b3JlPWxvY2FsU3RvcmFnZTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdGhpcy5zdG9yZS5nZXRJdGVtKGtleSkpO30sc2V0OmZ1bmN0aW9uKGtleSx2YWwsZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO3RoaXMuc3RvcmUuc2V0SXRlbShrZXksdmFsKTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyx0cnVlLHZhbCk7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LGZuLHNjb3BlKXt2YXIgdmFsO2tleT10aGlzLmtleShrZXkpO3ZhbD10aGlzLnN0b3JlLmdldEl0ZW0oa2V5KTt0aGlzLnN0b3JlLnJlbW92ZUl0ZW0oa2V5KTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcywodmFsIT09bnVsbCksdmFsKTt9fX0saWU6e3ByZWZpeDonX3BlcnNpc3RfZGF0YS0nLHNpemU6NjQqMTAyNCx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5BY3RpdmVYT2JqZWN0P3RydWU6ZmFsc2U7fSxtYWtlX3VzZXJkYXRhOmZ1bmN0aW9uKGlkKXt2YXIgZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ZWwuaWQ9aWQ7ZWwuc3R5bGUuZGlzcGxheT0nbm9uZSc7ZWwuYWRkQmVoYXZpb3IoJyNkZWZhdWx0I3VzZXJkYXRhJyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7cmV0dXJuIGVsO30sbWV0aG9kczp7aW5pdDpmdW5jdGlvbigpe3ZhciBpZD1CLmllLnByZWZpeCtlc2ModGhpcy5uYW1lKTt0aGlzLmVsPUIuaWUubWFrZV91c2VyZGF0YShpZCk7aWYodGhpcy5vLmRlZmVyKQp0aGlzLmxvYWQoKTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciB2YWw7a2V5PWVzYyhrZXkpO2lmKCF0aGlzLm8uZGVmZXIpCnRoaXMubG9hZCgpO3ZhbD10aGlzLmVsLmdldEF0dHJpYnV0ZShrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHZhbD90cnVlOmZhbHNlLHZhbCk7fSxzZXQ6ZnVuY3Rpb24oa2V5LHZhbCxmbixzY29wZSl7a2V5PWVzYyhrZXkpO3RoaXMuZWwuc2V0QXR0cmlidXRlKGtleSx2YWwpO2lmKCF0aGlzLm8uZGVmZXIpCnRoaXMuc2F2ZSgpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdmFsKTt9LHJlbW92ZTpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciB2YWw7a2V5PWVzYyhrZXkpO2lmKCF0aGlzLm8uZGVmZXIpCnRoaXMubG9hZCgpO3ZhbD10aGlzLmVsLmdldEF0dHJpYnV0ZShrZXkpO3RoaXMuZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7aWYoIXRoaXMuby5kZWZlcikKdGhpcy5zYXZlKCk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdmFsP3RydWU6ZmFsc2UsdmFsKTt9LGxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsLmxvYWQoZXNjKHRoaXMubmFtZSkpO30sc2F2ZTpmdW5jdGlvbigpe3RoaXMuZWwuc2F2ZShlc2ModGhpcy5uYW1lKSk7fX19LGNvb2tpZTp7ZGVsaW06JzonLHNpemU6NDAwMCx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIFAuQ29va2llLmVuYWJsZWQ/dHJ1ZTpmYWxzZTt9LG1ldGhvZHM6e2tleTpmdW5jdGlvbihrZXkpe3JldHVybiB0aGlzLm5hbWUrQi5jb29raWUuZGVsaW0ra2V5O30sZ2V0OmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIHZhbDtrZXk9dGhpcy5rZXkoa2V5KTt2YWw9ZWMuZ2V0KGtleSk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdmFsIT1udWxsLHZhbCk7fSxzZXQ6ZnVuY3Rpb24oa2V5LHZhbCxmbixzY29wZSl7a2V5PXRoaXMua2V5KGtleSk7ZWMuc2V0KGtleSx2YWwsdGhpcy5vKTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyx0cnVlLHZhbCk7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LHZhbCxmbixzY29wZSl7dmFyIHZhbDtrZXk9dGhpcy5rZXkoa2V5KTt2YWw9ZWMucmVtb3ZlKGtleSkKaWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdmFsIT1udWxsLHZhbCk7fX19LGZsYXNoOnt0ZXN0OmZ1bmN0aW9uKCl7aWYoIWRlY29uY2VwdHx8IWRlY29uY2VwdC5TV0ZPYmplY3RVdGlsKQpyZXR1cm4gZmFsc2U7dmFyIG1ham9yPWRlY29uY2VwdC5TV0ZPYmplY3RVdGlsLmdldFBsYXllclZlcnNpb24oKS5tYWpvcjtyZXR1cm4obWFqb3I+PTgpP3RydWU6ZmFsc2U7fSxtZXRob2RzOntpbml0OmZ1bmN0aW9uKCl7aWYoIUIuZmxhc2guZWwpe3ZhciBvLGtleSxlbCxjZmc9Qy5mbGFzaDtlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtlbC5pZD1jZmcuZGl2X2lkO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO289bmV3IGRlY29uY2VwdC5TV0ZPYmplY3QodGhpcy5vLnN3Zl9wYXRofHxjZmcucGF0aCxjZmcuaWQsY2ZnLnNpemUudyxjZmcuc2l6ZS5oLCc4Jyk7Zm9yKGtleSBpbiBjZmcuYXJncykKby5hZGRWYXJpYWJsZShrZXksY2ZnLmFyZ3Nba2V5XSk7by53cml0ZShlbCk7Qi5mbGFzaC5lbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjZmcuaWQpO30KdGhpcy5lbD1CLmZsYXNoLmVsO30sZ2V0OmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIHZhbDtrZXk9ZXNjKGtleSk7dmFsPXRoaXMuZWwuZ2V0KHRoaXMubmFtZSxrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHZhbCE9PW51bGwsdmFsKTt9LHNldDpmdW5jdGlvbihrZXksdmFsLGZuLHNjb3BlKXt2YXIgb2xkX3ZhbDtrZXk9ZXNjKGtleSk7b2xkX3ZhbD10aGlzLmVsLnNldCh0aGlzLm5hbWUsa2V5LHZhbCk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdHJ1ZSx2YWwpO30scmVtb3ZlOmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIHZhbDtrZXk9ZXNjKGtleSk7dmFsPXRoaXMuZWwucmVtb3ZlKHRoaXMubmFtZSxrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdmFsKTt9fX19O3ZhciBpbml0PWZ1bmN0aW9uKCl7dmFyIGksbCxiLGtleSxmbnM9Qy5tZXRob2RzLGtleXM9Qy5zZWFyY2hfb3JkZXI7Zm9yKGk9MCxsPWZucy5sZW5ndGg7aTxsO2krKykKUC5TdG9yZS5wcm90b3R5cGVbZm5zW2ldXT1lbXB0eTtQLnR5cGU9bnVsbDtQLnNpemU9LTE7Zm9yKGk9MCxsPWtleXMubGVuZ3RoOyFQLnR5cGUmJmk8bDtpKyspe2I9QltrZXlzW2ldXTtpZihiLnRlc3QoKSl7UC50eXBlPWtleXNbaV07UC5zaXplPWIuc2l6ZTtmb3Ioa2V5IGluIGIubWV0aG9kcykKUC5TdG9yZS5wcm90b3R5cGVba2V5XT1iLm1ldGhvZHNba2V5XTt9fQpQLl9pbml0PXRydWU7fTtQPXtWRVJTSU9OOlZFUlNJT04sdHlwZTpudWxsLHNpemU6MCxhZGQ6ZnVuY3Rpb24obyl7QltvLmlkXT1vO0Muc2VhcmNoX29yZGVyPVtvLmlkXS5jb25jYXQoQy5zZWFyY2hfb3JkZXIpO2luaXQoKTt9LHJlbW92ZTpmdW5jdGlvbihpZCl7dmFyIG9mcz1pbmRleF9vZihDLnNlYXJjaF9vcmRlcixpZCk7aWYob2ZzPDApCnJldHVybjtDLnNlYXJjaF9vcmRlci5zcGxpY2Uob2ZzLDEpO2RlbGV0ZSBCW2lkXTtpbml0KCk7fSxDb29raWU6ZWMsU3RvcmU6ZnVuY3Rpb24obmFtZSxvKXtpZighQy5uYW1lX3JlLmV4ZWMobmFtZSkpCnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBuYW1lIik7aWYoIVAudHlwZSkKdGhyb3cgbmV3IEVycm9yKCJObyBzdWl0YWJsZSBzdG9yYWdlIGZvdW5kIik7bz1vfHx7fTt0aGlzLm5hbWU9bmFtZTtvLmRvbWFpbj1vLmRvbWFpbnx8bG9jYXRpb24uaG9zdHx8J2xvY2FsaG9zdCc7by5kb21haW49by5kb21haW4ucmVwbGFjZSgvOlxkKyQvLCcnKQp0aGlzLm89bztvLmV4cGlyZXM9by5leHBpcmVzfHwzNjUqMjtvLnBhdGg9by5wYXRofHwnLyc7dGhpcy5pbml0KCk7fX07aW5pdCgpO3JldHVybiBQO30pKCk7aWYodHlwZW9mIGRlY29uY2VwdD09InVuZGVmaW5lZCIpdmFyIGRlY29uY2VwdD1uZXcgT2JqZWN0KCk7aWYodHlwZW9mIGRlY29uY2VwdC51dGlsPT0idW5kZWZpbmVkIilkZWNvbmNlcHQudXRpbD1uZXcgT2JqZWN0KCk7aWYodHlwZW9mIGRlY29uY2VwdC5TV0ZPYmplY3RVdGlsPT0idW5kZWZpbmVkIilkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbD1uZXcgT2JqZWN0KCk7ZGVjb25jZXB0LlNXRk9iamVjdD1mdW5jdGlvbihzd2YsaWQsdyxoLHZlcixjLHF1YWxpdHkseGlSZWRpcmVjdFVybCxyZWRpcmVjdFVybCxkZXRlY3RLZXkpe2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCl7cmV0dXJuO30KdGhpcy5ERVRFQ1RfS0VZPWRldGVjdEtleT9kZXRlY3RLZXk6J2RldGVjdGZsYXNoJzt0aGlzLnNraXBEZXRlY3Q9ZGVjb25jZXB0LnV0aWwuZ2V0UmVxdWVzdFBhcmFtZXRlcih0aGlzLkRFVEVDVF9LRVkpO3RoaXMucGFyYW1zPW5ldyBPYmplY3QoKTt0aGlzLnZhcmlhYmxlcz1uZXcgT2JqZWN0KCk7dGhpcy5hdHRyaWJ1dGVzPW5ldyBBcnJheSgpO2lmKHN3Zil7dGhpcy5zZXRBdHRyaWJ1dGUoJ3N3Zicsc3dmKTt9CmlmKGlkKXt0aGlzLnNldEF0dHJpYnV0ZSgnaWQnLGlkKTt9CmlmKHcpe3RoaXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsdyk7fQppZihoKXt0aGlzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxoKTt9CmlmKHZlcil7dGhpcy5zZXRBdHRyaWJ1dGUoJ3ZlcnNpb24nLG5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbih2ZXIudG9TdHJpbmcoKS5zcGxpdCgiLiIpKSk7fQp0aGlzLmluc3RhbGxlZFZlcj1kZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uKCk7aWYoIXdpbmRvdy5vcGVyYSYmZG9jdW1lbnQuYWxsJiZ0aGlzLmluc3RhbGxlZFZlci5tYWpvcj43KXtkZWNvbmNlcHQuU1dGT2JqZWN0LmRvUHJlcFVubG9hZD10cnVlO30KaWYoYyl7dGhpcy5hZGRQYXJhbSgnYmdjb2xvcicsYyk7fQp2YXIgcT1xdWFsaXR5P3F1YWxpdHk6J2hpZ2gnO3RoaXMuYWRkUGFyYW0oJ3F1YWxpdHknLHEpO3RoaXMuc2V0QXR0cmlidXRlKCd1c2VFeHByZXNzSW5zdGFsbCcsZmFsc2UpO3RoaXMuc2V0QXR0cmlidXRlKCdkb0V4cHJlc3NJbnN0YWxsJyxmYWxzZSk7dmFyIHhpcj0oeGlSZWRpcmVjdFVybCk/eGlSZWRpcmVjdFVybDp3aW5kb3cubG9jYXRpb247dGhpcy5zZXRBdHRyaWJ1dGUoJ3hpUmVkaXJlY3RVcmwnLHhpcik7dGhpcy5zZXRBdHRyaWJ1dGUoJ3JlZGlyZWN0VXJsJywnJyk7aWYocmVkaXJlY3RVcmwpe3RoaXMuc2V0QXR0cmlidXRlKCdyZWRpcmVjdFVybCcscmVkaXJlY3RVcmwpO319CmRlY29uY2VwdC5TV0ZPYmplY3QucHJvdG90eXBlPXt1c2VFeHByZXNzSW5zdGFsbDpmdW5jdGlvbihwYXRoKXt0aGlzLnhpU1dGUGF0aD0hcGF0aD8iZXhwcmVzc2luc3RhbGwuc3dmIjpwYXRoO3RoaXMuc2V0QXR0cmlidXRlKCd1c2VFeHByZXNzSW5zdGFsbCcsdHJ1ZSk7fSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7dGhpcy5hdHRyaWJ1dGVzW25hbWVdPXZhbHVlO30sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07fSxhZGRQYXJhbTpmdW5jdGlvbihuYW1lLHZhbHVlKXt0aGlzLnBhcmFtc1tuYW1lXT12YWx1ZTt9LGdldFBhcmFtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmFtczt9LGFkZFZhcmlhYmxlOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3RoaXMudmFyaWFibGVzW25hbWVdPXZhbHVlO30sZ2V0VmFyaWFibGU6ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHRoaXMudmFyaWFibGVzW25hbWVdO30sZ2V0VmFyaWFibGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFyaWFibGVzO30sZ2V0VmFyaWFibGVQYWlyczpmdW5jdGlvbigpe3ZhciB2YXJpYWJsZVBhaXJzPW5ldyBBcnJheSgpO3ZhciBrZXk7dmFyIHZhcmlhYmxlcz10aGlzLmdldFZhcmlhYmxlcygpO2ZvcihrZXkgaW4gdmFyaWFibGVzKXt2YXJpYWJsZVBhaXJzLnB1c2goa2V5KyI9Iit2YXJpYWJsZXNba2V5XSk7fQpyZXR1cm4gdmFyaWFibGVQYWlyczt9LGdldFNXRkhUTUw6ZnVuY3Rpb24oKXt2YXIgc3dmTm9kZT0iIjtpZihuYXZpZ2F0b3IucGx1Z2lucyYmbmF2aWdhdG9yLm1pbWVUeXBlcyYmbmF2aWdhdG9yLm1pbWVUeXBlcy5sZW5ndGgpe2lmKHRoaXMuZ2V0QXR0cmlidXRlKCJkb0V4cHJlc3NJbnN0YWxsIikpe3RoaXMuYWRkVmFyaWFibGUoIk1NcGxheWVyVHlwZSIsIlBsdWdJbiIpO3RoaXMuc2V0QXR0cmlidXRlKCdzd2YnLHRoaXMueGlTV0ZQYXRoKTt9CnN3Zk5vZGU9JzxlbWJlZCB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgc3JjPSInK3RoaXMuZ2V0QXR0cmlidXRlKCdzd2YnKSsnIiB3aWR0aD0iJyt0aGlzLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSsnIiBoZWlnaHQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKyciJztzd2ZOb2RlKz0nIGlkPSInK3RoaXMuZ2V0QXR0cmlidXRlKCdpZCcpKyciIG5hbWU9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2lkJykrJyIgJzt2YXIgcGFyYW1zPXRoaXMuZ2V0UGFyYW1zKCk7Zm9yKHZhciBrZXkgaW4gcGFyYW1zKXtzd2ZOb2RlKz1ba2V5XSsnPSInK3BhcmFtc1trZXldKyciICc7fQp2YXIgcGFpcnM9dGhpcy5nZXRWYXJpYWJsZVBhaXJzKCkuam9pbigiJiIpO2lmKHBhaXJzLmxlbmd0aD4wKXtzd2ZOb2RlKz0nZmxhc2h2YXJzPSInK3BhaXJzKyciJzt9CnN3Zk5vZGUrPScvPic7fWVsc2V7aWYodGhpcy5nZXRBdHRyaWJ1dGUoImRvRXhwcmVzc0luc3RhbGwiKSl7dGhpcy5hZGRWYXJpYWJsZSgiTU1wbGF5ZXJUeXBlIiwiQWN0aXZlWCIpO3RoaXMuc2V0QXR0cmlidXRlKCdzd2YnLHRoaXMueGlTV0ZQYXRoKTt9CnN3Zk5vZGU9JzxvYmplY3QgaWQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2lkJykrJyIgY2xhc3NpZD0iY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIiB3aWR0aD0iJyt0aGlzLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSsnIiBoZWlnaHQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKyciPic7c3dmTm9kZSs9JzxwYXJhbSBuYW1lPSJtb3ZpZSIgdmFsdWU9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ3N3ZicpKyciIC8+Jzt2YXIgcGFyYW1zPXRoaXMuZ2V0UGFyYW1zKCk7Zm9yKHZhciBrZXkgaW4gcGFyYW1zKXtzd2ZOb2RlKz0nPHBhcmFtIG5hbWU9Iicra2V5KyciIHZhbHVlPSInK3BhcmFtc1trZXldKyciIC8+Jzt9CnZhciBwYWlycz10aGlzLmdldFZhcmlhYmxlUGFpcnMoKS5qb2luKCImIik7aWYocGFpcnMubGVuZ3RoPjApe3N3Zk5vZGUrPSc8cGFyYW0gbmFtZT0iZmxhc2h2YXJzIiB2YWx1ZT0iJytwYWlycysnIiAvPic7fQpzd2ZOb2RlKz0iPC9vYmplY3Q+Ijt9CnJldHVybiBzd2ZOb2RlO30sd3JpdGU6ZnVuY3Rpb24oZWxlbWVudElkKXtpZih0aGlzLmdldEF0dHJpYnV0ZSgndXNlRXhwcmVzc0luc3RhbGwnKSl7dmFyIGV4cHJlc3NJbnN0YWxsUmVxVmVyPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihbNiwwLDY1XSk7aWYodGhpcy5pbnN0YWxsZWRWZXIudmVyc2lvbklzVmFsaWQoZXhwcmVzc0luc3RhbGxSZXFWZXIpJiYhdGhpcy5pbnN0YWxsZWRWZXIudmVyc2lvbklzVmFsaWQodGhpcy5nZXRBdHRyaWJ1dGUoJ3ZlcnNpb24nKSkpe3RoaXMuc2V0QXR0cmlidXRlKCdkb0V4cHJlc3NJbnN0YWxsJyx0cnVlKTt0aGlzLmFkZFZhcmlhYmxlKCJNTXJlZGlyZWN0VVJMIixlc2NhcGUodGhpcy5nZXRBdHRyaWJ1dGUoJ3hpUmVkaXJlY3RVcmwnKSkpO2RvY3VtZW50LnRpdGxlPWRvY3VtZW50LnRpdGxlLnNsaWNlKDAsNDcpKyIgLSBGbGFzaCBQbGF5ZXIgSW5zdGFsbGF0aW9uIjt0aGlzLmFkZFZhcmlhYmxlKCJNTWRvY3RpdGxlIixkb2N1bWVudC50aXRsZSk7fX0KaWYodGhpcy5za2lwRGV0ZWN0fHx0aGlzLmdldEF0dHJpYnV0ZSgnZG9FeHByZXNzSW5zdGFsbCcpfHx0aGlzLmluc3RhbGxlZFZlci52ZXJzaW9uSXNWYWxpZCh0aGlzLmdldEF0dHJpYnV0ZSgndmVyc2lvbicpKSl7dmFyIG49KHR5cGVvZiBlbGVtZW50SWQ9PSdzdHJpbmcnKT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpOmVsZW1lbnRJZDtuLmlubmVySFRNTD10aGlzLmdldFNXRkhUTUwoKTtyZXR1cm4gdHJ1ZTt9ZWxzZXtpZih0aGlzLmdldEF0dHJpYnV0ZSgncmVkaXJlY3RVcmwnKSE9IiIpe2RvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UodGhpcy5nZXRBdHRyaWJ1dGUoJ3JlZGlyZWN0VXJsJykpO319CnJldHVybiBmYWxzZTt9fQpkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIFBsYXllclZlcnNpb249bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKFswLDAsMF0pO2lmKG5hdmlnYXRvci5wbHVnaW5zJiZuYXZpZ2F0b3IubWltZVR5cGVzLmxlbmd0aCl7dmFyIHg9bmF2aWdhdG9yLnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCJdO2lmKHgmJnguZGVzY3JpcHRpb24pe1BsYXllclZlcnNpb249bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKHguZGVzY3JpcHRpb24ucmVwbGFjZSgvKFthLXpBLVpdfFxzKSsvLCIiKS5yZXBsYWNlKC8oXHMrcnxccytiWzAtOV0rKS8sIi4iKS5zcGxpdCgiLiIpKTt9fWVsc2V7dHJ5e3ZhciBheG89bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjciKTt9Y2F0Y2goZSl7dHJ5e3ZhciBheG89bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjYiKTtQbGF5ZXJWZXJzaW9uPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihbNiwwLDIxXSk7YXhvLkFsbG93U2NyaXB0QWNjZXNzPSJhbHdheXMiO31jYXRjaChlKXtpZihQbGF5ZXJWZXJzaW9uLm1ham9yPT02KXtyZXR1cm4gUGxheWVyVmVyc2lvbjt9fQp0cnl7YXhvPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCIpO31jYXRjaChlKXt9fQppZihheG8hPW51bGwpe1BsYXllclZlcnNpb249bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKGF4by5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKS5zcGxpdCgiICIpWzFdLnNwbGl0KCIsIikpO319CnJldHVybiBQbGF5ZXJWZXJzaW9uO30KZGVjb25jZXB0LlBsYXllclZlcnNpb249ZnVuY3Rpb24oYXJyVmVyc2lvbil7dGhpcy5tYWpvcj1hcnJWZXJzaW9uWzBdIT1udWxsP3BhcnNlSW50KGFyclZlcnNpb25bMF0pOjA7dGhpcy5taW5vcj1hcnJWZXJzaW9uWzFdIT1udWxsP3BhcnNlSW50KGFyclZlcnNpb25bMV0pOjA7dGhpcy5yZXY9YXJyVmVyc2lvblsyXSE9bnVsbD9wYXJzZUludChhcnJWZXJzaW9uWzJdKTowO30KZGVjb25jZXB0LlBsYXllclZlcnNpb24ucHJvdG90eXBlLnZlcnNpb25Jc1ZhbGlkPWZ1bmN0aW9uKGZ2KXtpZih0aGlzLm1ham9yPGZ2Lm1ham9yKXJldHVybiBmYWxzZTtpZih0aGlzLm1ham9yPmZ2Lm1ham9yKXJldHVybiB0cnVlO2lmKHRoaXMubWlub3I8ZnYubWlub3IpcmV0dXJuIGZhbHNlO2lmKHRoaXMubWlub3I+ZnYubWlub3IpcmV0dXJuIHRydWU7aWYodGhpcy5yZXY8ZnYucmV2KXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTt9CmRlY29uY2VwdC51dGlsPXtnZXRSZXF1ZXN0UGFyYW1ldGVyOmZ1bmN0aW9uKHBhcmFtKXt2YXIgcT1kb2N1bWVudC5sb2NhdGlvbi5zZWFyY2h8fGRvY3VtZW50LmxvY2F0aW9uLmhhc2g7aWYocSl7dmFyIHBhaXJzPXEuc3Vic3RyaW5nKDEpLnNwbGl0KCImIik7Zm9yKHZhciBpPTA7aTxwYWlycy5sZW5ndGg7aSsrKXtpZihwYWlyc1tpXS5zdWJzdHJpbmcoMCxwYWlyc1tpXS5pbmRleE9mKCI9IikpPT1wYXJhbSl7cmV0dXJuIHBhaXJzW2ldLnN1YnN0cmluZygocGFpcnNbaV0uaW5kZXhPZigiPSIpKzEpKTt9fX0KcmV0dXJuIiI7fX0KZGVjb25jZXB0LlNXRk9iamVjdFV0aWwuY2xlYW51cFNXRnM9ZnVuY3Rpb24oKXt2YXIgb2JqZWN0cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiT0JKRUNUIik7Zm9yKHZhciBpPTA7aTxvYmplY3RzLmxlbmd0aDtpKyspe29iamVjdHNbaV0uc3R5bGUuZGlzcGxheT0nbm9uZSc7Zm9yKHZhciB4IGluIG9iamVjdHNbaV0pe2lmKHR5cGVvZiBvYmplY3RzW2ldW3hdPT0nZnVuY3Rpb24nKXtvYmplY3RzW2ldW3hdPWZ1bmN0aW9uKCl7fTt9fX19CmlmKGRlY29uY2VwdC5TV0ZPYmplY3QuZG9QcmVwVW5sb2FkKXtkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5wcmVwVW5sb2FkPWZ1bmN0aW9uKCl7X19mbGFzaF91bmxvYWRIYW5kbGVyPWZ1bmN0aW9uKCl7fTtfX2ZsYXNoX3NhdmVkVW5sb2FkSGFuZGxlcj1mdW5jdGlvbigpe307d2luZG93LmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZGVjb25jZXB0LlNXRk9iamVjdFV0aWwuY2xlYW51cFNXRnMpO30Kd2luZG93LmF0dGFjaEV2ZW50KCJvbmJlZm9yZXVubG9hZCIsZGVjb25jZXB0LlNXRk9iamVjdFV0aWwucHJlcFVubG9hZCk7fQppZihBcnJheS5wcm90b3R5cGUucHVzaD09bnVsbCl7QXJyYXkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oaXRlbSl7dGhpc1t0aGlzLmxlbmd0aF09aXRlbTtyZXR1cm4gdGhpcy5sZW5ndGg7fX0KdmFyIGdldFF1ZXJ5UGFyYW1WYWx1ZT1kZWNvbmNlcHQudXRpbC5nZXRSZXF1ZXN0UGFyYW1ldGVyO3ZhciBGbGFzaE9iamVjdD1kZWNvbmNlcHQuU1dGT2JqZWN0O3ZhciBTV0ZPYmplY3Q9ZGVjb25jZXB0LlNXRk9iamVjdDt2YXIgYmlSYWRpeEJhc2U9Mjt2YXIgYmlSYWRpeEJpdHM9MTY7dmFyIGJpdHNQZXJEaWdpdD1iaVJhZGl4Qml0czt2YXIgYmlSYWRpeD0xPDwxNjt2YXIgYmlIYWxmUmFkaXg9YmlSYWRpeD4+PjE7dmFyIGJpUmFkaXhTcXVhcmVkPWJpUmFkaXgqYmlSYWRpeDt2YXIgbWF4RGlnaXRWYWw9YmlSYWRpeC0xO3ZhciBtYXhJbnRlZ2VyPTk5OTk5OTk5OTk5OTk5OTg7dmFyIG1heERpZ2l0czt2YXIgWkVST19BUlJBWTt2YXIgYmlnWmVybyxiaWdPbmU7ZnVuY3Rpb24gc2V0TWF4RGlnaXRzKHZhbHVlKXttYXhEaWdpdHM9dmFsdWU7WkVST19BUlJBWT1uZXcgQXJyYXkobWF4RGlnaXRzKTtmb3IodmFyIGl6YT0wO2l6YTxaRVJPX0FSUkFZLmxlbmd0aDtpemErKylaRVJPX0FSUkFZW2l6YV09MDtiaWdaZXJvPW5ldyBCaWdJbnQoKTtiaWdPbmU9bmV3IEJpZ0ludCgpO2JpZ09uZS5kaWdpdHNbMF09MTt9CnNldE1heERpZ2l0cygyMCk7dmFyIGRwbDEwPTE1O3ZhciBscjEwPWJpRnJvbU51bWJlcigxMDAwMDAwMDAwMDAwMDAwKTtmdW5jdGlvbiBCaWdJbnQoZmxhZyl7aWYodHlwZW9mIGZsYWc9PSJib29sZWFuIiYmZmxhZz09dHJ1ZSl7dGhpcy5kaWdpdHM9bnVsbDt9ZWxzZXt0aGlzLmRpZ2l0cz1aRVJPX0FSUkFZLnNsaWNlKDApO30KdGhpcy5pc05lZz1mYWxzZTt9CmZ1bmN0aW9uIGJpRnJvbURlY2ltYWwocyl7dmFyIGlzTmVnPXMuY2hhckF0KDApPT0nLSc7dmFyIGk9aXNOZWc/MTowO3ZhciByZXN1bHQ7d2hpbGUoaTxzLmxlbmd0aCYmcy5jaGFyQXQoaSk9PScwJykrK2k7aWYoaT09cy5sZW5ndGgpe3Jlc3VsdD1uZXcgQmlnSW50KCk7fWVsc2V7dmFyIGRpZ2l0Q291bnQ9cy5sZW5ndGgtaTt2YXIgZmdsPWRpZ2l0Q291bnQlZHBsMTA7aWYoZmdsPT0wKWZnbD1kcGwxMDtyZXN1bHQ9YmlGcm9tTnVtYmVyKE51bWJlcihzLnN1YnN0cihpLGZnbCkpKTtpKz1mZ2w7d2hpbGUoaTxzLmxlbmd0aCl7cmVzdWx0PWJpQWRkKGJpTXVsdGlwbHkocmVzdWx0LGxyMTApLGJpRnJvbU51bWJlcihOdW1iZXIocy5zdWJzdHIoaSxkcGwxMCkpKSk7aSs9ZHBsMTA7fQpyZXN1bHQuaXNOZWc9aXNOZWc7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gYmlDb3B5KGJpKXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQodHJ1ZSk7cmVzdWx0LmRpZ2l0cz1iaS5kaWdpdHMuc2xpY2UoMCk7cmVzdWx0LmlzTmVnPWJpLmlzTmVnO3JldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaUZyb21OdW1iZXIoaSl7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7cmVzdWx0LmlzTmVnPWk8MDtpPU1hdGguYWJzKGkpO3ZhciBqPTA7d2hpbGUoaT4wKXtyZXN1bHQuZGlnaXRzW2orK109aSZtYXhEaWdpdFZhbDtpPj49YmlSYWRpeEJpdHM7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gcmV2ZXJzZVN0cihzKXt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT1zLmxlbmd0aC0xO2k+LTE7LS1pKXtyZXN1bHQrPXMuY2hhckF0KGkpO30KcmV0dXJuIHJlc3VsdDt9CnZhciBoZXhhdHJpZ2VzaW1hbFRvQ2hhcj1uZXcgQXJyYXkoJzAnLCcxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCdhJywnYicsJ2MnLCdkJywnZScsJ2YnLCdnJywnaCcsJ2knLCdqJywnaycsJ2wnLCdtJywnbicsJ28nLCdwJywncScsJ3InLCdzJywndCcsJ3UnLCd2JywndycsJ3gnLCd5JywneicpO2Z1bmN0aW9uIGJpVG9TdHJpbmcoeCxyYWRpeCkKe3ZhciBiPW5ldyBCaWdJbnQoKTtiLmRpZ2l0c1swXT1yYWRpeDt2YXIgcXI9YmlEaXZpZGVNb2R1bG8oeCxiKTt2YXIgcmVzdWx0PWhleGF0cmlnZXNpbWFsVG9DaGFyW3FyWzFdLmRpZ2l0c1swXV07d2hpbGUoYmlDb21wYXJlKHFyWzBdLGJpZ1plcm8pPT0xKXtxcj1iaURpdmlkZU1vZHVsbyhxclswXSxiKTtkaWdpdD1xclsxXS5kaWdpdHNbMF07cmVzdWx0Kz1oZXhhdHJpZ2VzaW1hbFRvQ2hhcltxclsxXS5kaWdpdHNbMF1dO30KcmV0dXJuKHguaXNOZWc/Ii0iOiIiKStyZXZlcnNlU3RyKHJlc3VsdCk7fQpmdW5jdGlvbiBiaVRvRGVjaW1hbCh4KXt2YXIgYj1uZXcgQmlnSW50KCk7Yi5kaWdpdHNbMF09MTA7dmFyIHFyPWJpRGl2aWRlTW9kdWxvKHgsYik7dmFyIHJlc3VsdD1TdHJpbmcocXJbMV0uZGlnaXRzWzBdKTt3aGlsZShiaUNvbXBhcmUocXJbMF0sYmlnWmVybyk9PTEpe3FyPWJpRGl2aWRlTW9kdWxvKHFyWzBdLGIpO3Jlc3VsdCs9U3RyaW5nKHFyWzFdLmRpZ2l0c1swXSk7fQpyZXR1cm4oeC5pc05lZz8iLSI6IiIpK3JldmVyc2VTdHIocmVzdWx0KTt9CnZhciBoZXhUb0NoYXI9bmV3IEFycmF5KCcwJywnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnYScsJ2InLCdjJywnZCcsJ2UnLCdmJyk7ZnVuY3Rpb24gZGlnaXRUb0hleChuKXt2YXIgbWFzaz0weGY7dmFyIHJlc3VsdD0iIjtmb3IoaT0wO2k8NDsrK2kpe3Jlc3VsdCs9aGV4VG9DaGFyW24mbWFza107bj4+Pj00O30KcmV0dXJuIHJldmVyc2VTdHIocmVzdWx0KTt9CmZ1bmN0aW9uIGJpVG9IZXgoeCl7dmFyIHJlc3VsdD0iIjt2YXIgbj1iaUhpZ2hJbmRleCh4KTtmb3IodmFyIGk9YmlIaWdoSW5kZXgoeCk7aT4tMTstLWkpe3Jlc3VsdCs9ZGlnaXRUb0hleCh4LmRpZ2l0c1tpXSk7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gY2hhclRvSGV4KGMpe3ZhciBaRVJPPTQ4O3ZhciBOSU5FPVpFUk8rOTt2YXIgbGl0dGxlQT05Nzt2YXIgbGl0dGxlWj1saXR0bGVBKzI1O3ZhciBiaWdBPTY1O3ZhciBiaWdaPTY1KzI1O3ZhciByZXN1bHQ7aWYoYz49WkVSTyYmYzw9TklORSl7cmVzdWx0PWMtWkVSTzt9ZWxzZSBpZihjPj1iaWdBJiZjPD1iaWdaKXtyZXN1bHQ9MTArYy1iaWdBO31lbHNlIGlmKGM+PWxpdHRsZUEmJmM8PWxpdHRsZVope3Jlc3VsdD0xMCtjLWxpdHRsZUE7fWVsc2V7cmVzdWx0PTA7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gaGV4VG9EaWdpdChzKXt2YXIgcmVzdWx0PTA7dmFyIHNsPU1hdGgubWluKHMubGVuZ3RoLDQpO2Zvcih2YXIgaT0wO2k8c2w7KytpKXtyZXN1bHQ8PD00O3Jlc3VsdHw9Y2hhclRvSGV4KHMuY2hhckNvZGVBdChpKSl9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaUZyb21IZXgocyl7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7dmFyIHNsPXMubGVuZ3RoO2Zvcih2YXIgaT1zbCxqPTA7aT4wO2ktPTQsKytqKXtyZXN1bHQuZGlnaXRzW2pdPWhleFRvRGlnaXQocy5zdWJzdHIoTWF0aC5tYXgoaS00LDApLE1hdGgubWluKGksNCkpKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaUZyb21TdHJpbmcocyxyYWRpeCl7dmFyIGlzTmVnPXMuY2hhckF0KDApPT0nLSc7dmFyIGlzdG9wPWlzTmVnPzE6MDt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTt2YXIgcGxhY2U9bmV3IEJpZ0ludCgpO3BsYWNlLmRpZ2l0c1swXT0xO2Zvcih2YXIgaT1zLmxlbmd0aC0xO2k+PWlzdG9wO2ktLSl7dmFyIGM9cy5jaGFyQ29kZUF0KGkpO3ZhciBkaWdpdD1jaGFyVG9IZXgoYyk7dmFyIGJpRGlnaXQ9YmlNdWx0aXBseURpZ2l0KHBsYWNlLGRpZ2l0KTtyZXN1bHQ9YmlBZGQocmVzdWx0LGJpRGlnaXQpO3BsYWNlPWJpTXVsdGlwbHlEaWdpdChwbGFjZSxyYWRpeCk7fQpyZXN1bHQuaXNOZWc9aXNOZWc7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpRHVtcChiKXtyZXR1cm4oYi5pc05lZz8iLSI6IiIpK2IuZGlnaXRzLmpvaW4oIiAiKTt9CmZ1bmN0aW9uIGJpQWRkKHgseSl7dmFyIHJlc3VsdDtpZih4LmlzTmVnIT15LmlzTmVnKXt5LmlzTmVnPSF5LmlzTmVnO3Jlc3VsdD1iaVN1YnRyYWN0KHgseSk7eS5pc05lZz0heS5pc05lZzt9ZWxzZXtyZXN1bHQ9bmV3IEJpZ0ludCgpO3ZhciBjPTA7dmFyIG47Zm9yKHZhciBpPTA7aTx4LmRpZ2l0cy5sZW5ndGg7KytpKXtuPXguZGlnaXRzW2ldK3kuZGlnaXRzW2ldK2M7cmVzdWx0LmRpZ2l0c1tpXT1uJjB4ZmZmZjtjPU51bWJlcihuPj1iaVJhZGl4KTt9CnJlc3VsdC5pc05lZz14LmlzTmVnO30KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpU3VidHJhY3QoeCx5KXt2YXIgcmVzdWx0O2lmKHguaXNOZWchPXkuaXNOZWcpe3kuaXNOZWc9IXkuaXNOZWc7cmVzdWx0PWJpQWRkKHgseSk7eS5pc05lZz0heS5pc05lZzt9ZWxzZXtyZXN1bHQ9bmV3IEJpZ0ludCgpO3ZhciBuLGM7Yz0wO2Zvcih2YXIgaT0wO2k8eC5kaWdpdHMubGVuZ3RoOysraSl7bj14LmRpZ2l0c1tpXS15LmRpZ2l0c1tpXStjO3Jlc3VsdC5kaWdpdHNbaV09biYweGZmZmY7aWYocmVzdWx0LmRpZ2l0c1tpXTwwKXJlc3VsdC5kaWdpdHNbaV0rPWJpUmFkaXg7Yz0wLU51bWJlcihuPDApO30KaWYoYz09LTEpe2M9MDtmb3IodmFyIGk9MDtpPHguZGlnaXRzLmxlbmd0aDsrK2kpe249MC1yZXN1bHQuZGlnaXRzW2ldK2M7cmVzdWx0LmRpZ2l0c1tpXT1uJjB4ZmZmZjtpZihyZXN1bHQuZGlnaXRzW2ldPDApcmVzdWx0LmRpZ2l0c1tpXSs9YmlSYWRpeDtjPTAtTnVtYmVyKG48MCk7fQpyZXN1bHQuaXNOZWc9IXguaXNOZWc7fWVsc2V7cmVzdWx0LmlzTmVnPXguaXNOZWc7fX0KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpSGlnaEluZGV4KHgpe3ZhciByZXN1bHQ9eC5kaWdpdHMubGVuZ3RoLTE7d2hpbGUocmVzdWx0PjAmJnguZGlnaXRzW3Jlc3VsdF09PTApLS1yZXN1bHQ7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTnVtQml0cyh4KXt2YXIgbj1iaUhpZ2hJbmRleCh4KTt2YXIgZD14LmRpZ2l0c1tuXTt2YXIgbT0obisxKSpiaXRzUGVyRGlnaXQ7dmFyIHJlc3VsdDtmb3IocmVzdWx0PW07cmVzdWx0Pm0tYml0c1BlckRpZ2l0Oy0tcmVzdWx0KXtpZigoZCYweDgwMDApIT0wKWJyZWFrO2Q8PD0xO30KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTXVsdGlwbHkoeCx5KXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTt2YXIgYzt2YXIgbj1iaUhpZ2hJbmRleCh4KTt2YXIgdD1iaUhpZ2hJbmRleCh5KTt2YXIgdSx1dixrO2Zvcih2YXIgaT0wO2k8PXQ7KytpKXtjPTA7az1pO2ZvcihqPTA7ajw9bjsrK2osKytrKXt1dj1yZXN1bHQuZGlnaXRzW2tdK3guZGlnaXRzW2pdKnkuZGlnaXRzW2ldK2M7cmVzdWx0LmRpZ2l0c1trXT11diZtYXhEaWdpdFZhbDtjPXV2Pj4+YmlSYWRpeEJpdHM7fQpyZXN1bHQuZGlnaXRzW2krbisxXT1jO30KcmVzdWx0LmlzTmVnPXguaXNOZWchPXkuaXNOZWc7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTXVsdGlwbHlEaWdpdCh4LHkpe3ZhciBuLGMsdXY7cmVzdWx0PW5ldyBCaWdJbnQoKTtuPWJpSGlnaEluZGV4KHgpO2M9MDtmb3IodmFyIGo9MDtqPD1uOysrail7dXY9cmVzdWx0LmRpZ2l0c1tqXSt4LmRpZ2l0c1tqXSp5K2M7cmVzdWx0LmRpZ2l0c1tqXT11diZtYXhEaWdpdFZhbDtjPXV2Pj4+YmlSYWRpeEJpdHM7fQpyZXN1bHQuZGlnaXRzWzErbl09YztyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gYXJyYXlDb3B5KHNyYyxzcmNTdGFydCxkZXN0LGRlc3RTdGFydCxuKXt2YXIgbT1NYXRoLm1pbihzcmNTdGFydCtuLHNyYy5sZW5ndGgpO2Zvcih2YXIgaT1zcmNTdGFydCxqPWRlc3RTdGFydDtpPG07KytpLCsrail7ZGVzdFtqXT1zcmNbaV07fX0KdmFyIGhpZ2hCaXRNYXNrcz1uZXcgQXJyYXkoMHgwMDAwLDB4ODAwMCwweEMwMDAsMHhFMDAwLDB4RjAwMCwweEY4MDAsMHhGQzAwLDB4RkUwMCwweEZGMDAsMHhGRjgwLDB4RkZDMCwweEZGRTAsMHhGRkYwLDB4RkZGOCwweEZGRkMsMHhGRkZFLDB4RkZGRik7ZnVuY3Rpb24gYmlTaGlmdExlZnQoeCxuKXt2YXIgZGlnaXRDb3VudD1NYXRoLmZsb29yKG4vYml0c1BlckRpZ2l0KTt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTthcnJheUNvcHkoeC5kaWdpdHMsMCxyZXN1bHQuZGlnaXRzLGRpZ2l0Q291bnQscmVzdWx0LmRpZ2l0cy5sZW5ndGgtZGlnaXRDb3VudCk7dmFyIGJpdHM9biViaXRzUGVyRGlnaXQ7dmFyIHJpZ2h0Qml0cz1iaXRzUGVyRGlnaXQtYml0cztmb3IodmFyIGk9cmVzdWx0LmRpZ2l0cy5sZW5ndGgtMSxpMT1pLTE7aT4wOy0taSwtLWkxKXtyZXN1bHQuZGlnaXRzW2ldPSgocmVzdWx0LmRpZ2l0c1tpXTw8Yml0cykmbWF4RGlnaXRWYWwpfCgocmVzdWx0LmRpZ2l0c1tpMV0maGlnaEJpdE1hc2tzW2JpdHNdKT4+PihyaWdodEJpdHMpKTt9CnJlc3VsdC5kaWdpdHNbMF09KChyZXN1bHQuZGlnaXRzW2ldPDxiaXRzKSZtYXhEaWdpdFZhbCk7cmVzdWx0LmlzTmVnPXguaXNOZWc7cmV0dXJuIHJlc3VsdDt9CnZhciBsb3dCaXRNYXNrcz1uZXcgQXJyYXkoMHgwMDAwLDB4MDAwMSwweDAwMDMsMHgwMDA3LDB4MDAwRiwweDAwMUYsMHgwMDNGLDB4MDA3RiwweDAwRkYsMHgwMUZGLDB4MDNGRiwweDA3RkYsMHgwRkZGLDB4MUZGRiwweDNGRkYsMHg3RkZGLDB4RkZGRik7ZnVuY3Rpb24gYmlTaGlmdFJpZ2h0KHgsbil7dmFyIGRpZ2l0Q291bnQ9TWF0aC5mbG9vcihuL2JpdHNQZXJEaWdpdCk7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7YXJyYXlDb3B5KHguZGlnaXRzLGRpZ2l0Q291bnQscmVzdWx0LmRpZ2l0cywwLHguZGlnaXRzLmxlbmd0aC1kaWdpdENvdW50KTt2YXIgYml0cz1uJWJpdHNQZXJEaWdpdDt2YXIgbGVmdEJpdHM9Yml0c1BlckRpZ2l0LWJpdHM7Zm9yKHZhciBpPTAsaTE9aSsxO2k8cmVzdWx0LmRpZ2l0cy5sZW5ndGgtMTsrK2ksKytpMSl7cmVzdWx0LmRpZ2l0c1tpXT0ocmVzdWx0LmRpZ2l0c1tpXT4+PmJpdHMpfCgocmVzdWx0LmRpZ2l0c1tpMV0mbG93Qml0TWFza3NbYml0c10pPDxsZWZ0Qml0cyk7fQpyZXN1bHQuZGlnaXRzW3Jlc3VsdC5kaWdpdHMubGVuZ3RoLTFdPj4+PWJpdHM7cmVzdWx0LmlzTmVnPXguaXNOZWc7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTXVsdGlwbHlCeVJhZGl4UG93ZXIoeCxuKXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTthcnJheUNvcHkoeC5kaWdpdHMsMCxyZXN1bHQuZGlnaXRzLG4scmVzdWx0LmRpZ2l0cy5sZW5ndGgtbik7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpRGl2aWRlQnlSYWRpeFBvd2VyKHgsbil7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7YXJyYXlDb3B5KHguZGlnaXRzLG4scmVzdWx0LmRpZ2l0cywwLHJlc3VsdC5kaWdpdHMubGVuZ3RoLW4pO3JldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaU1vZHVsb0J5UmFkaXhQb3dlcih4LG4pe3ZhciByZXN1bHQ9bmV3IEJpZ0ludCgpO2FycmF5Q29weSh4LmRpZ2l0cywwLHJlc3VsdC5kaWdpdHMsMCxuKTtyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gYmlDb21wYXJlKHgseSl7aWYoeC5pc05lZyE9eS5pc05lZyl7cmV0dXJuIDEtMipOdW1iZXIoeC5pc05lZyk7fQpmb3IodmFyIGk9eC5kaWdpdHMubGVuZ3RoLTE7aT49MDstLWkpe2lmKHguZGlnaXRzW2ldIT15LmRpZ2l0c1tpXSl7aWYoeC5pc05lZyl7cmV0dXJuIDEtMipOdW1iZXIoeC5kaWdpdHNbaV0+eS5kaWdpdHNbaV0pO31lbHNle3JldHVybiAxLTIqTnVtYmVyKHguZGlnaXRzW2ldPHkuZGlnaXRzW2ldKTt9fX0KcmV0dXJuIDA7fQpmdW5jdGlvbiBiaURpdmlkZU1vZHVsbyh4LHkpe3ZhciBuYj1iaU51bUJpdHMoeCk7dmFyIHRiPWJpTnVtQml0cyh5KTt2YXIgb3JpZ1lJc05lZz15LmlzTmVnO3ZhciBxLHI7aWYobmI8dGIpe2lmKHguaXNOZWcpe3E9YmlDb3B5KGJpZ09uZSk7cS5pc05lZz0heS5pc05lZzt4LmlzTmVnPWZhbHNlO3kuaXNOZWc9ZmFsc2U7cj1iaVN1YnRyYWN0KHkseCk7eC5pc05lZz10cnVlO3kuaXNOZWc9b3JpZ1lJc05lZzt9ZWxzZXtxPW5ldyBCaWdJbnQoKTtyPWJpQ29weSh4KTt9CnJldHVybiBuZXcgQXJyYXkocSxyKTt9CnE9bmV3IEJpZ0ludCgpO3I9eDt2YXIgdD1NYXRoLmNlaWwodGIvYml0c1BlckRpZ2l0KS0xO3ZhciBsYW1iZGE9MDt3aGlsZSh5LmRpZ2l0c1t0XTxiaUhhbGZSYWRpeCl7eT1iaVNoaWZ0TGVmdCh5LDEpOysrbGFtYmRhOysrdGI7dD1NYXRoLmNlaWwodGIvYml0c1BlckRpZ2l0KS0xO30Kcj1iaVNoaWZ0TGVmdChyLGxhbWJkYSk7bmIrPWxhbWJkYTt2YXIgbj1NYXRoLmNlaWwobmIvYml0c1BlckRpZ2l0KS0xO3ZhciBiPWJpTXVsdGlwbHlCeVJhZGl4UG93ZXIoeSxuLXQpO3doaWxlKGJpQ29tcGFyZShyLGIpIT0tMSl7KytxLmRpZ2l0c1tuLXRdO3I9YmlTdWJ0cmFjdChyLGIpO30KZm9yKHZhciBpPW47aT50Oy0taSl7dmFyIHJpPShpPj1yLmRpZ2l0cy5sZW5ndGgpPzA6ci5kaWdpdHNbaV07dmFyIHJpMT0oaS0xPj1yLmRpZ2l0cy5sZW5ndGgpPzA6ci5kaWdpdHNbaS0xXTt2YXIgcmkyPShpLTI+PXIuZGlnaXRzLmxlbmd0aCk/MDpyLmRpZ2l0c1tpLTJdO3ZhciB5dD0odD49eS5kaWdpdHMubGVuZ3RoKT8wOnkuZGlnaXRzW3RdO3ZhciB5dDE9KHQtMT49eS5kaWdpdHMubGVuZ3RoKT8wOnkuZGlnaXRzW3QtMV07aWYocmk9PXl0KXtxLmRpZ2l0c1tpLXQtMV09bWF4RGlnaXRWYWw7fWVsc2V7cS5kaWdpdHNbaS10LTFdPU1hdGguZmxvb3IoKHJpKmJpUmFkaXgrcmkxKS95dCk7fQp2YXIgYzE9cS5kaWdpdHNbaS10LTFdKigoeXQqYmlSYWRpeCkreXQxKTt2YXIgYzI9KHJpKmJpUmFkaXhTcXVhcmVkKSsoKHJpMSpiaVJhZGl4KStyaTIpO3doaWxlKGMxPmMyKXstLXEuZGlnaXRzW2ktdC0xXTtjMT1xLmRpZ2l0c1tpLXQtMV0qKCh5dCpiaVJhZGl4KXx5dDEpO2MyPShyaSpiaVJhZGl4KmJpUmFkaXgpKygocmkxKmJpUmFkaXgpK3JpMik7fQpiPWJpTXVsdGlwbHlCeVJhZGl4UG93ZXIoeSxpLXQtMSk7cj1iaVN1YnRyYWN0KHIsYmlNdWx0aXBseURpZ2l0KGIscS5kaWdpdHNbaS10LTFdKSk7aWYoci5pc05lZyl7cj1iaUFkZChyLGIpOy0tcS5kaWdpdHNbaS10LTFdO319CnI9YmlTaGlmdFJpZ2h0KHIsbGFtYmRhKTtxLmlzTmVnPXguaXNOZWchPW9yaWdZSXNOZWc7aWYoeC5pc05lZyl7aWYob3JpZ1lJc05lZyl7cT1iaUFkZChxLGJpZ09uZSk7fWVsc2V7cT1iaVN1YnRyYWN0KHEsYmlnT25lKTt9Cnk9YmlTaGlmdFJpZ2h0KHksbGFtYmRhKTtyPWJpU3VidHJhY3QoeSxyKTt9CmlmKHIuZGlnaXRzWzBdPT0wJiZiaUhpZ2hJbmRleChyKT09MClyLmlzTmVnPWZhbHNlO3JldHVybiBuZXcgQXJyYXkocSxyKTt9CmZ1bmN0aW9uIGJpRGl2aWRlKHgseSl7cmV0dXJuIGJpRGl2aWRlTW9kdWxvKHgseSlbMF07fQpmdW5jdGlvbiBiaU1vZHVsbyh4LHkpe3JldHVybiBiaURpdmlkZU1vZHVsbyh4LHkpWzFdO30KZnVuY3Rpb24gYmlNdWx0aXBseU1vZCh4LHksbSl7cmV0dXJuIGJpTW9kdWxvKGJpTXVsdGlwbHkoeCx5KSxtKTt9CmZ1bmN0aW9uIGJpUG93KHgseSl7dmFyIHJlc3VsdD1iaWdPbmU7dmFyIGE9eDt3aGlsZSh0cnVlKXtpZigoeSYxKSE9MClyZXN1bHQ9YmlNdWx0aXBseShyZXN1bHQsYSk7eT4+PTE7aWYoeT09MClicmVhazthPWJpTXVsdGlwbHkoYSxhKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaVBvd01vZCh4LHksbSl7dmFyIHJlc3VsdD1iaWdPbmU7dmFyIGE9eDt2YXIgaz15O3doaWxlKHRydWUpe2lmKChrLmRpZ2l0c1swXSYxKSE9MClyZXN1bHQ9YmlNdWx0aXBseU1vZChyZXN1bHQsYSxtKTtrPWJpU2hpZnRSaWdodChrLDEpO2lmKGsuZGlnaXRzWzBdPT0wJiZiaUhpZ2hJbmRleChrKT09MClicmVhazthPWJpTXVsdGlwbHlNb2QoYSxhLG0pO30KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIEJhcnJldHRNdShtKXt0aGlzLm1vZHVsdXM9YmlDb3B5KG0pO3RoaXMuaz1iaUhpZ2hJbmRleCh0aGlzLm1vZHVsdXMpKzE7dmFyIGIyaz1uZXcgQmlnSW50KCk7YjJrLmRpZ2l0c1syKnRoaXMua109MTt0aGlzLm11PWJpRGl2aWRlKGIyayx0aGlzLm1vZHVsdXMpO3RoaXMuYmtwbHVzMT1uZXcgQmlnSW50KCk7dGhpcy5ia3BsdXMxLmRpZ2l0c1t0aGlzLmsrMV09MTt0aGlzLm1vZHVsbz1CYXJyZXR0TXVfbW9kdWxvO3RoaXMubXVsdGlwbHlNb2Q9QmFycmV0dE11X211bHRpcGx5TW9kO3RoaXMucG93TW9kPUJhcnJldHRNdV9wb3dNb2Q7fQpmdW5jdGlvbiBCYXJyZXR0TXVfbW9kdWxvKHgpe3ZhciBxMT1iaURpdmlkZUJ5UmFkaXhQb3dlcih4LHRoaXMuay0xKTt2YXIgcTI9YmlNdWx0aXBseShxMSx0aGlzLm11KTt2YXIgcTM9YmlEaXZpZGVCeVJhZGl4UG93ZXIocTIsdGhpcy5rKzEpO3ZhciByMT1iaU1vZHVsb0J5UmFkaXhQb3dlcih4LHRoaXMuaysxKTt2YXIgcjJ0ZXJtPWJpTXVsdGlwbHkocTMsdGhpcy5tb2R1bHVzKTt2YXIgcjI9YmlNb2R1bG9CeVJhZGl4UG93ZXIocjJ0ZXJtLHRoaXMuaysxKTt2YXIgcj1iaVN1YnRyYWN0KHIxLHIyKTtpZihyLmlzTmVnKXtyPWJpQWRkKHIsdGhpcy5ia3BsdXMxKTt9CnZhciByZ3RlbT1iaUNvbXBhcmUocix0aGlzLm1vZHVsdXMpPj0wO3doaWxlKHJndGVtKXtyPWJpU3VidHJhY3Qocix0aGlzLm1vZHVsdXMpO3JndGVtPWJpQ29tcGFyZShyLHRoaXMubW9kdWx1cyk+PTA7fQpyZXR1cm4gcjt9CmZ1bmN0aW9uIEJhcnJldHRNdV9tdWx0aXBseU1vZCh4LHkpe3ZhciB4eT1iaU11bHRpcGx5KHgseSk7cmV0dXJuIHRoaXMubW9kdWxvKHh5KTt9CmZ1bmN0aW9uIEJhcnJldHRNdV9wb3dNb2QoeCx5KXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTtyZXN1bHQuZGlnaXRzWzBdPTE7dmFyIGE9eDt2YXIgaz15O3doaWxlKHRydWUpe2lmKChrLmRpZ2l0c1swXSYxKSE9MClyZXN1bHQ9dGhpcy5tdWx0aXBseU1vZChyZXN1bHQsYSk7az1iaVNoaWZ0UmlnaHQoaywxKTtpZihrLmRpZ2l0c1swXT09MCYmYmlIaWdoSW5kZXgoayk9PTApYnJlYWs7YT10aGlzLm11bHRpcGx5TW9kKGEsYSk7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gUlNBS2V5UGFpcihlbmNyeXB0aW9uRXhwb25lbnQsZGVjcnlwdGlvbkV4cG9uZW50LG1vZHVsdXMpe3RoaXMuZT1iaUZyb21IZXgoZW5jcnlwdGlvbkV4cG9uZW50KTt0aGlzLmQ9YmlGcm9tSGV4KGRlY3J5cHRpb25FeHBvbmVudCk7dGhpcy5tPWJpRnJvbUhleChtb2R1bHVzKTt0aGlzLmNodW5rU2l6ZT0yKmJpSGlnaEluZGV4KHRoaXMubSk7dGhpcy5yYWRpeD0xNjt0aGlzLmJhcnJldHQ9bmV3IEJhcnJldHRNdSh0aGlzLm0pO30KZnVuY3Rpb24gdHdvRGlnaXQobil7cmV0dXJuKG48MTA/IjAiOiIiKStTdHJpbmcobik7fQpmdW5jdGlvbiBlbmNyeXB0ZWRTdHJpbmcoa2V5LHMpCnt2YXIgYT1uZXcgQXJyYXkoKTt2YXIgc2w9cy5sZW5ndGg7dmFyIGk9MDt3aGlsZShpPHNsKXthW2ldPXMuY2hhckNvZGVBdChpKTtpKys7fQp3aGlsZShhLmxlbmd0aCVrZXkuY2h1bmtTaXplIT0wKXthW2krK109MDt9CnZhciBhbD1hLmxlbmd0aDt2YXIgcmVzdWx0PSIiO3ZhciBqLGssYmxvY2s7Zm9yKGk9MDtpPGFsO2krPWtleS5jaHVua1NpemUpe2Jsb2NrPW5ldyBCaWdJbnQoKTtqPTA7Zm9yKGs9aTtrPGkra2V5LmNodW5rU2l6ZTsrK2ope2Jsb2NrLmRpZ2l0c1tqXT1hW2srK107YmxvY2suZGlnaXRzW2pdKz1hW2srK108PDg7fQp2YXIgY3J5cHQ9a2V5LmJhcnJldHQucG93TW9kKGJsb2NrLGtleS5lKTt2YXIgdGV4dD1rZXkucmFkaXg9PTE2P2JpVG9IZXgoY3J5cHQpOmJpVG9TdHJpbmcoY3J5cHQsa2V5LnJhZGl4KTtyZXN1bHQrPXRleHQrIiAiO30KcmV0dXJuIHJlc3VsdC5zdWJzdHJpbmcoMCxyZXN1bHQubGVuZ3RoLTEpO30KZnVuY3Rpb24gZGVjcnlwdGVkU3RyaW5nKGtleSxzKXt2YXIgYmxvY2tzPXMuc3BsaXQoIiAiKTt2YXIgcmVzdWx0PSIiO3ZhciBpLGosYmxvY2s7Zm9yKGk9MDtpPGJsb2Nrcy5sZW5ndGg7KytpKXt2YXIgYmk7aWYoa2V5LnJhZGl4PT0xNil7Ymk9YmlGcm9tSGV4KGJsb2Nrc1tpXSk7fWVsc2V7Ymk9YmlGcm9tU3RyaW5nKGJsb2Nrc1tpXSxrZXkucmFkaXgpO30KYmxvY2s9a2V5LmJhcnJldHQucG93TW9kKGJpLGtleS5kKTtmb3Ioaj0wO2o8PWJpSGlnaEluZGV4KGJsb2NrKTsrK2ope3Jlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShibG9jay5kaWdpdHNbal0mMjU1LGJsb2NrLmRpZ2l0c1tqXT4+OCk7fX0KaWYocmVzdWx0LmNoYXJDb2RlQXQocmVzdWx0Lmxlbmd0aC0xKT09MCl7cmVzdWx0PXJlc3VsdC5zdWJzdHJpbmcoMCxyZXN1bHQubGVuZ3RoLTEpO30KcmV0dXJuIHJlc3VsdDt9CnZhciBfX0NyeXB0bz1fX0NyeXB0b3x8e307ZnVuY3Rpb24gaW5pdFBhY2thZ2VzKF9fc2NvcGUpe3ZhciBfX3BhY2thZ2U9ZnVuY3Rpb24ocGFja2FnZVJvb3QscGF0aFN0cmluZyl7dmFyIHBhdGhzPXBhdGhTdHJpbmcuc3BsaXQoIi4iKTt2YXIgY3VycmVudFBhY2thZ2U9cGFja2FnZVJvb3Q7Zm9yKHZhciBpPTA7aTxwYXRocy5sZW5ndGg7aSsrKXt2YXIgaWQ9cGF0aHNbaV07aWYoY3VycmVudFBhY2thZ2VbaWRdPT1udWxsKXtjdXJyZW50UGFja2FnZVtpZF09e307fQpjdXJyZW50UGFja2FnZT1jdXJyZW50UGFja2FnZVtpZF07fQpyZXR1cm4gY3VycmVudFBhY2thZ2U7fTt2YXIgX19leHBvcnQ9ZnVuY3Rpb24ocGFja2FnZVJvb3QscGF0aFN0cmluZyxvYmplY3Qpe3ZhciBwYXRocz1wYXRoU3RyaW5nLnNwbGl0KCIuIik7dmFyIGN1cnJlbnRQYWNrYWdlPXBhY2thZ2VSb290O2Zvcih2YXIgaT0wO2k8cGF0aHMubGVuZ3RoO2krKyl7dmFyIGlkPXBhdGhzW2ldO2lmKGk8cGF0aHMubGVuZ3RoLTEpe2lmKGN1cnJlbnRQYWNrYWdlW2lkXT09bnVsbCl7Y3VycmVudFBhY2thZ2VbaWRdPXt9O319ZWxzZXtpZihjdXJyZW50UGFja2FnZVtpZF09PW51bGwpe2N1cnJlbnRQYWNrYWdlW2lkXT1vYmplY3Q7fWVsc2V7dGhyb3ciVGhlIHNwZWNpZmllZCBwYWNrYWdlIHBhdGggaXMgYWxyZWFkeSBkZWZpbmVkLiAiK3BhdGhTdHJpbmc7fX0KY3VycmVudFBhY2thZ2U9Y3VycmVudFBhY2thZ2VbaWRdO30KcmV0dXJuIGN1cnJlbnRQYWNrYWdlO307dmFyIF9faW1wb3J0PWZ1bmN0aW9uKHBhY2thZ2VSb290LHBhdGhTdHJpbmcsb2JqZWN0KXt2YXIgcGF0aHM9cGF0aFN0cmluZy5zcGxpdCgiLiIpO3ZhciBjdXJyZW50UGFja2FnZT1wYWNrYWdlUm9vdDt2YXIgY3VycmVudFBhdGg9IltwYWNrYWdlIHJvb3RdIjtmb3IodmFyIGk9MDtpPHBhdGhzLmxlbmd0aDtpKyspe3ZhciBpZD1wYXRoc1tpXTtjdXJyZW50UGF0aCs9Ii4iK2lkO2lmKGN1cnJlbnRQYWNrYWdlW2lkXT09bnVsbCl7dGhyb3cgcGF0aFN0cmluZysiIGlzIG5vdCBmb3VuZC4gIitjdXJyZW50UGF0aCsiIGlzIG51bGwgaW4gIitfX0NVUlJFTlRfVU5JVC51bml0X25hbWUrIi4iO30KY3VycmVudFBhY2thZ2U9Y3VycmVudFBhY2thZ2VbaWRdO30KcmV0dXJuIGN1cnJlbnRQYWNrYWdlO307dmFyIF9fREVGSU5FRF9VTklUUz17fTt2YXIgX19DVVJSRU5UX1VOSVQ9IiI7dmFyIF9fdW5pdD1mdW5jdGlvbih1bml0X25hbWUpe19fREVGSU5FRF9VTklUU1t1bml0X25hbWVdPXRydWU7X19DVVJSRU5UX1VOSVQ9e3VuaXRfbmFtZTp1bml0X25hbWUscmVxdXJpbmdfdW5pdHM6e319O30KdmFyIF9fdXNlcz1mdW5jdGlvbih1bml0X25hbWUpe2lmKF9fREVGSU5FRF9VTklUU1t1bml0X25hbWVdKXtfX0NVUlJFTlRfVU5JVC5yZXF1cmluZ191bml0c1t1bml0X25hbWVdPXRydWU7cmV0dXJuIHRydWU7fWVsc2V7dGhyb3ciVW5pdCBOb3QgRm91bmQgRXJyb3IgOiAiK19fQ1VSUkVOVF9VTklULnVuaXRfbmFtZSsiIHJlcXVpcmVzICIrdW5pdF9uYW1lO319O19fc2NvcGUuX19wYWNrYWdlPV9fcGFja2FnZTtfX3Njb3BlLl9faW1wb3J0PV9faW1wb3J0O19fc2NvcGUuX19leHBvcnQ9X19leHBvcnQ7X19zY29wZS5fX3VuaXQ9X191bml0O19fc2NvcGUuX191c2VzPV9fdXNlcztfX3Njb3BlLl9fREVGSU5FRF9VTklUUz1fX0RFRklORURfVU5JVFM7X19zY29wZS5fX1BBQ0tBR0VfRU5BQkxFRD10cnVlO19fdW5pdCgicGFja2FnZXMuanMiKTt9CmluaXRQYWNrYWdlcyhfX0NyeXB0byk7ZnVuY3Rpb24gaW5pdEJpbmFyeShwYWNrYWdlUm9vdCl7aWYocGFja2FnZVJvb3QuX19QQUNLQUdFX0VOQUJMRUQpe19fQ3J5cHRvLl9fdW5pdCgiYmluYXJ5LmpzIik7fQp2YXIgaTJhPVsnQScsJ0InLCdDJywnRCcsJ0UnLCdGJywnRycsJ0gnLCdJJywnSicsJ0snLCdMJywnTScsJ04nLCdPJywnUCcsJ1EnLCdSJywnUycsJ1QnLCdVJywnVicsJ1cnLCdYJywnWScsJ1onLCdhJywnYicsJ2MnLCdkJywnZScsJ2YnLCdnJywnaCcsJ2knLCdqJywnaycsJ2wnLCdtJywnbicsJ28nLCdwJywncScsJ3InLCdzJywndCcsJ3UnLCd2JywndycsJ3gnLCd5JywneicsJzAnLCcxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCcrJywnLyddO2Z1bmN0aW9uIGJhc2U2NF9lbmNvZGUocyl7dmFyIGxlbmd0aD1zLmxlbmd0aDt2YXIgZ3JvdXBDb3VudD1NYXRoLmZsb29yKGxlbmd0aC8zKTt2YXIgcmVtYWluaW5nPWxlbmd0aC0zKmdyb3VwQ291bnQ7dmFyIHJlc3VsdD0iIjt2YXIgaWR4PTA7Zm9yKHZhciBpPTA7aTxncm91cENvdW50O2krKyl7dmFyIGIwPXNbaWR4KytdJjB4ZmY7dmFyIGIxPXNbaWR4KytdJjB4ZmY7dmFyIGIyPXNbaWR4KytdJjB4ZmY7cmVzdWx0Kz0oaTJhW2IwPj4yXSk7cmVzdWx0Kz0oaTJhWyhiMDw8NCkmMHgzZnwoYjE+PjQpXSk7cmVzdWx0Kz0oaTJhWyhiMTw8MikmMHgzZnwoYjI+PjYpXSk7cmVzdWx0Kz0oaTJhW2IyJjB4M2ZdKTt9CmlmKHJlbWFpbmluZz09MCl7fWVsc2UgaWYocmVtYWluaW5nPT0xKXt2YXIgYjA9c1tpZHgrK10mMHhmZjtyZXN1bHQrPShpMmFbYjA+PjJdKTtyZXN1bHQrPShpMmFbKGIwPDw0KSYweDNmXSk7cmVzdWx0Kz0oIj09Iik7fWVsc2UgaWYocmVtYWluaW5nPT0yKXt2YXIgYjA9c1tpZHgrK10mMHhmZjt2YXIgYjE9c1tpZHgrK10mMHhmZjtyZXN1bHQrPShpMmFbYjA+PjJdKTtyZXN1bHQrPShpMmFbKGIwPDw0KSYweDNmfChiMT4+NCldKTtyZXN1bHQrPShpMmFbKGIxPDwyKSYweDNmXSk7cmVzdWx0Kz0oJz0nKTt9ZWxzZXt0aHJvdyJuZXZlciBoYXBwZW4iO30KcmV0dXJuIHJlc3VsdDt9CnZhciBhMmk9Wy0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDYyLC0xLC0xLC0xLDYzLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsLTEsLTEsLTEsLTEsLTEsLTEsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTFdO2Z1bmN0aW9uIGdldF9hMmkoYyl7dmFyIHJlc3VsdD0oMDw9YykmJihjPGEyaS5sZW5ndGgpP2EyaVtjXTotMTtpZihyZXN1bHQ8MCl0aHJvdyJJbGxlZ2FsIGNoYXJhY3RlciAiK2M7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJhc2U2NF9kZWNvZGUocyl7dmFyIGxlbmd0aD1zLmxlbmd0aDt2YXIgZ3JvdXBDb3VudD1NYXRoLmZsb29yKGxlbmd0aC80KTtpZig0Kmdyb3VwQ291bnQhPWxlbmd0aCl0aHJvdyJTdHJpbmcgbGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiBmb3VyLiI7dmFyIG1pc3Npbmc9MDtpZihsZW5ndGghPTApe2lmKHMuY2hhckF0KGxlbmd0aC0xKT09Jz0nKXttaXNzaW5nKys7Z3JvdXBDb3VudC0tO30KaWYocy5jaGFyQXQobGVuZ3RoLTIpPT0nPScpbWlzc2luZysrO30KdmFyIGxlbj0oMypncm91cENvdW50LW1pc3NpbmcpO2lmKGxlbjwwKXtsZW49MDt9CnZhciByZXN1bHQ9bmV3IEFycmF5KGxlbik7dmFyIGlkeF9pbj0wO3ZhciBpZHhfb3V0PTA7Zm9yKHZhciBpPTA7aTxncm91cENvdW50O2krKyl7dmFyIGMwPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMxPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMyPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMzPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7cmVzdWx0W2lkeF9vdXQrK109MHhGRiYoKGMwPDwyKXwoYzE+PjQpKTtyZXN1bHRbaWR4X291dCsrXT0weEZGJigoYzE8PDQpfChjMj4+MikpO3Jlc3VsdFtpZHhfb3V0KytdPTB4RkYmKChjMjw8Nil8YzMpO30KaWYobWlzc2luZz09MCl7fWVsc2UgaWYobWlzc2luZz09MSl7dmFyIGMwPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMxPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMyPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7cmVzdWx0W2lkeF9vdXQrK109MHhGRiYoKGMwPDwyKXwoYzE+PjQpKTtyZXN1bHRbaWR4X291dCsrXT0weEZGJigoYzE8PDQpfChjMj4+MikpO31lbHNlIGlmKG1pc3Npbmc9PTIpe3ZhciBjMD1nZXRfYTJpKHMuY2hhckNvZGVBdChpZHhfaW4rKykpO3ZhciBjMT1nZXRfYTJpKHMuY2hhckNvZGVBdChpZHhfaW4rKykpO3Jlc3VsdFtpZHhfb3V0KytdPTB4RkYmKChjMDw8Mil8KGMxPj40KSk7fWVsc2V7dGhyb3cibmV2ZXIgaGFwcGVuIjt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiYXNlNjR4X2VuY29kZShzKXtyZXR1cm4gYmFzZTY0eF9wcmVfZW5jb2RlKGJhc2U2NF9lbmNvZGUocykpO30KZnVuY3Rpb24gYmFzZTY0eF9kZWNvZGUocyl7cmV0dXJuIGJhc2U2NF9kZWNvZGUoYmFzZTY0eF9wcmVfZGVjb2RlKHMpKTt9CnZhciBiYXNlNjR4X3ByZV9lbmNvZGVfbWFwPXt9O2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIngiXT0ieHgiO2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIisiXT0ieGEiO2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIi8iXT0ieGIiO2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIj0iXT0iIjtmdW5jdGlvbiBiYXNlNjR4X3ByZV9lbmNvZGUocyl7dmFyIHNzPSIiO2Zvcih2YXIgaT0wO2k8cy5sZW5ndGg7aSsrKXt2YXIgYz1zLmNoYXJBdChpKTt2YXIgY2M9YmFzZTY0eF9wcmVfZW5jb2RlX21hcFtjXTtpZihjYyE9bnVsbCl7c3M9c3MrY2M7fWVsc2V7c3M9c3MrYzt9fQpyZXR1cm4gc3M7fQp2YXIgYmFzZTY0eF9wcmVfZGVjb2RlX21hcD17fTtiYXNlNjR4X3ByZV9kZWNvZGVfbWFwWyd4J109J3gnO2Jhc2U2NHhfcHJlX2RlY29kZV9tYXBbJ2EnXT0nKyc7YmFzZTY0eF9wcmVfZGVjb2RlX21hcFsnYiddPScvJztmdW5jdGlvbiBiYXNlNjR4X3ByZV9kZWNvZGUocyl7dmFyIHNzPSIiO2Zvcih2YXIgaT0wO2k8cy5sZW5ndGg7aSsrKXt2YXIgYz1zLmNoYXJBdChpKTtpZihjPT0neCcpe2M9cy5jaGFyQXQoKytpKTt2YXIgY2M9YmFzZTY0eF9wcmVfZGVjb2RlX21hcFtjXTtpZihjYyE9bnVsbCl7c3M9c3MrY2M7fWVsc2V7fX1lbHNle3NzPXNzK2M7fX0Kd2hpbGUoc3MubGVuZ3RoJTQhPTApe3NzKz0iPSI7fQpyZXR1cm4gc3M7fQpmdW5jdGlvbiBlcXVhbHMoYSxiKXtpZihhLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuIGZhbHNlO3ZhciBzaXplPWEubGVuZ3RoO2Zvcih2YXIgaT0wO2k8c2l6ZTtpKyspe2lmKGFbaV0hPWJbaV0pcmV0dXJuIGZhbHNlO30KcmV0dXJuIHRydWU7fQpmdW5jdGlvbiBoZXgoaSl7aWYoaT09bnVsbClyZXR1cm4iPz8iO2kmPTB4ZmY7dmFyIHJlc3VsdD1pLnRvU3RyaW5nKDE2KTtyZXR1cm4ocmVzdWx0Lmxlbmd0aDwyKT8iMCIrcmVzdWx0OnJlc3VsdDt9CmZ1bmN0aW9uIGJhc2UxNihkYXRhLGNvbHVtbnMsZGVsaW0pe3JldHVybiBiYXNlMTZfZW5jb2RlKGRhdGEsY29sdW1ucyxkZWxpbSk7fQpmdW5jdGlvbiBiYXNlMTZfZW5jb2RlKGRhdGEsY29sdW1ucyxkZWxpbSl7aWYoZGVsaW09PW51bGwpe2RlbGltPSIiO30KaWYoY29sdW1ucz09bnVsbCl7Y29sdW1ucz0yNTY7fQp2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXtyZXN1bHQrPWhleChkYXRhW2ldKStkZWxpbTt9CnJldHVybiByZXN1bHQudG9VcHBlckNhc2UoKTt9CnZhciBhbWFwPXt9O2FtYXBbJzAnXT0wO2FtYXBbJzEnXT0xO2FtYXBbJzInXT0yO2FtYXBbJzMnXT0zO2FtYXBbJzQnXT00O2FtYXBbJzUnXT01O2FtYXBbJzYnXT02O2FtYXBbJzcnXT03O2FtYXBbJzgnXT04O2FtYXBbJzknXT05O2FtYXBbJ0EnXT0xMDthbWFwWydCJ109MTE7YW1hcFsnQyddPTEyO2FtYXBbJ0QnXT0xMzthbWFwWydFJ109MTQ7YW1hcFsnRiddPTE1O2FtYXBbJ2EnXT0xMDthbWFwWydiJ109MTE7YW1hcFsnYyddPTEyO2FtYXBbJ2QnXT0xMzthbWFwWydlJ109MTQ7YW1hcFsnZiddPTE1O2Z1bmN0aW9uIGdldF9hbWFwKGMpe3ZhciBjYz1hbWFwW2NdO2lmKGNjPT1udWxsKXRocm93ImZvdW5kIGFuIGludmFsaWQgY2hhcmFjdGVyLiI7cmV0dXJuIGNjO30KZnVuY3Rpb24gYmFzZTE2X2RlY29kZShkYXRhKXt2YXIgY2E9W107Zm9yKHZhciBpPTAsaj0wO2k8ZGF0YS5sZW5ndGg7aSsrKXt2YXIgYz1kYXRhLmNoYXJBdChpKTtpZihjPT0iXHMiKXtjb250aW51ZTt9ZWxzZXtjYVtqKytdPWM7fX0KaWYoY2EubGVuZ3RoJTIhPTApe3Rocm93ImRhdGEgbXVzdCBiZSBhIG11bHRpcGxlIG9mIHR3by4iO30KdmFyIHJlc3VsdD1uZXcgQXJyYXkoY2EubGVuZ3RoPj4xKTtmb3IodmFyIGk9MDtpPGNhLmxlbmd0aDtpKz0yKXt2YXIgdj0weGZmJigoZ2V0X2FtYXAoY2FbaV0pPDw0KXwoZ2V0X2FtYXAoY2FbaSsxXSkpKTtyZXN1bHRbaT4+MV09djt9CnJldHVybiByZXN1bHQ7fQp2YXIgQjEwMDAwMDAwPTB4ODA7dmFyIEIxMTAwMDAwMD0weEMwO3ZhciBCMTExMDAwMDA9MHhFMDt2YXIgQjExMTEwMDAwPTB4RjA7dmFyIEIxMTExMTAwMD0weEY4O3ZhciBCMTExMTExMDA9MHhGQzt2YXIgQjExMTExMTEwPTB4RkU7dmFyIEIwMTExMTExMT0weDdGO3ZhciBCMDAxMTExMTE9MHgzRjt2YXIgQjAwMDExMTExPTB4MUY7dmFyIEIwMDAwMTExMT0weDBGO3ZhciBCMDAwMDAxMTE9MHgwNzt2YXIgQjAwMDAwMDExPTB4MDM7dmFyIEIwMDAwMDAwMT0weDAxO2Z1bmN0aW9uIHN0cjJ1dGY4KHN0cil7dmFyIHJlc3VsdD1bXTt2YXIgbGVuZ3RoPXN0ci5sZW5ndGg7dmFyIGlkeD0wO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIGM9c3RyLmNoYXJDb2RlQXQoaSk7aWYoYzw9MHg3Zil7cmVzdWx0W2lkeCsrXT1jO31lbHNlIGlmKGM8PTB4N2ZmKXtyZXN1bHRbaWR4KytdPUIxMTAwMDAwMHwoQjAwMDExMTExJihjPj4+NikpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj4wKSk7fWVsc2UgaWYoYzw9MHhmZmZmKXtyZXN1bHRbaWR4KytdPUIxMTEwMDAwMHwoQjAwMDAxMTExJihjPj4+MTIpKTtyZXN1bHRbaWR4KytdPUIxMDAwMDAwMHwoQjAwMTExMTExJihjPj4+NikpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj4wKSk7fWVsc2UgaWYoYzw9MHgxMGZmZmYpe3Jlc3VsdFtpZHgrK109QjExMTEwMDAwfChCMDAwMDAxMTEmKGM+Pj4xOCkpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj4xMikpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj42KSk7cmVzdWx0W2lkeCsrXT1CMTAwMDAwMDB8KEIwMDExMTExMSYoYz4+PjApKTt9ZWxzZXt0aHJvdyJlcnJvciI7fX0KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIHV0Zjgyc3RyKGRhdGEpe3ZhciByZXN1bHQ9IiI7dmFyIGxlbmd0aD1kYXRhLmxlbmd0aDtmb3IodmFyIGk9MDtpPGxlbmd0aDspe3ZhciBjPWRhdGFbaSsrXTtpZihjPDB4ODApe3Jlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShjKTt9ZWxzZSBpZigoYzxCMTExMDAwMDApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMTExMTEmYyk8PDYpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDApKTt9ZWxzZSBpZigoYzxCMTExMTAwMDApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMDExMTEmYyk8PDEyKXwoKEIwMDExMTExMSZkYXRhW2krK10pPDw2KXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwwKSk7fWVsc2UgaWYoKGM8QjExMTExMDAwKSl7cmVzdWx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgoQjAwMDAwMTExJmMpPDwxOCl8KChCMDAxMTExMTEmZGF0YVtpKytdKTw8MTIpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDYpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDApKTt9ZWxzZSBpZigoYzxCMTExMTExMDApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMDAwMTEmYyk8PDI0KXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwxOCl8KChCMDAxMTExMTEmZGF0YVtpKytdKTw8MTIpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDYpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDApKTt9ZWxzZSBpZigoYzxCMTExMTExMTApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMDAwMDEmYyk8PDMwKXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwyNCl8KChCMDAxMTExMTEmZGF0YVtpKytdKTw8MTgpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDEyKXwoKEIwMDExMTExMSZkYXRhW2krK10pPDw2KXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwwKSk7fX0KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGNoYXIyc3RyKGNhKXt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT0wO2k8Y2EubGVuZ3RoO2krKyl7cmVzdWx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGNhW2ldKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBzdHIyY2hhcihzdHIpe3ZhciByZXN1bHQ9bmV3IEFycmF5KHN0ci5sZW5ndGgpO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDtpKyspe3Jlc3VsdFtpXT1zdHIuY2hhckNvZGVBdChpKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBpMmJhX2JlKGkpe3JldHVyblsweGZmJihpPj4yNCksMHhmZiYoaT4+MTYpLDB4ZmYmKGk+PjgpLDB4ZmYmKGk+PjApXTt9CmZ1bmN0aW9uIGJhMmlfYmUoYnMpe3JldHVybigoYnNbMF08PDI0KXwoYnNbMV08PDE2KXwoYnNbMl08PDgpfChic1szXTw8MCkpO30KZnVuY3Rpb24gczJiYV9iZShpKXtyZXR1cm5bMHhmZiYoaT4+OCksMHhmZiYoaT4+MCldO30KZnVuY3Rpb24gYmEyc19iZShicyl7cmV0dXJuKDB8KGJzWzBdPDw4KXwoYnNbMV08PDApKTt9CmZ1bmN0aW9uIGkyYmFfbGUoaSl7cmV0dXJuWzB4ZmYmKGk+PjApLDB4ZmYmKGk+PjgpLDB4ZmYmKGk+PjE2KSwweGZmJihpPj4yNCldO30KZnVuY3Rpb24gYmEyaV9sZShicyl7cmV0dXJuKDB8KGJzWzNdPDwwKXwoYnNbMl08PDgpfChic1sxXTw8MTYpfChic1swXTw8MjQpKTt9CmZ1bmN0aW9uIHMyYmFfbGUoaSl7cmV0dXJuWzB4ZmYmKGk+PjApLDB4ZmYmKGk+PjgpXTt9CmZ1bmN0aW9uIGJhMnNfbGUoYnMpe3JldHVybigwfChic1sxXTw8MCl8KGJzWzBdPDw4KSk7fQpmdW5jdGlvbiBpYTJiYV9iZShpYSl7dmFyIGxlbmd0aD1pYS5sZW5ndGg8PDI7dmFyIGJhPW5ldyBBcnJheShsZW5ndGgpO2Zvcih2YXIgaWk9MCxiaT0wO2lpPGlhLmxlbmd0aCYmYmk8YmEubGVuZ3RoOyl7YmFbYmkrK109MHhmZiYoaWFbaWldPj4yNCk7YmFbYmkrK109MHhmZiYoaWFbaWldPj4xNik7YmFbYmkrK109MHhmZiYoaWFbaWldPj44KTtiYVtiaSsrXT0weGZmJihpYVtpaV0+PjApO2lpKys7fQpyZXR1cm4gYmE7fQpmdW5jdGlvbiBiYTJpYV9iZShiYSl7dmFyIGxlbmd0aD0oYmEubGVuZ3RoKzMpPj4yO3ZhciBpYT1uZXcgQXJyYXkobGVuZ3RoKTs7Zm9yKHZhciBpaT0wLGJpPTA7aWk8aWEubGVuZ3RoJiZiaTxiYS5sZW5ndGg7KXtpYVtpaSsrXT0oYmk8YmEubGVuZ3RoPyhiYVtiaSsrXTw8MjQpOjApfChiaTxiYS5sZW5ndGg/KGJhW2JpKytdPDwxNik6MCl8KGJpPGJhLmxlbmd0aD8oYmFbYmkrK108PDgpOjApfChiaTxiYS5sZW5ndGg/KGJhW2JpKytdKTowKTt9CnJldHVybiBpYTt9CmZ1bmN0aW9uIGlhMmJhX2xlKGlhKXt2YXIgbGVuZ3RoPWlhLmxlbmd0aDw8Mjt2YXIgYmE9bmV3IEFycmF5KGxlbmd0aCk7Zm9yKHZhciBpaT0wLGJpPTA7aWk8aWEubGVuZ3RoJiZiaTxiYS5sZW5ndGg7KXtiYVtiaSsrXT0weGZmJihpYVtpaV0+PjApO2JhW2JpKytdPTB4ZmYmKGlhW2lpXT4+OCk7YmFbYmkrK109MHhmZiYoaWFbaWldPj4xNik7YmFbYmkrK109MHhmZiYoaWFbaWldPj4yNCk7aWkrKzt9CnJldHVybiBiYTt9CmZ1bmN0aW9uIGJhMmlhX2xlKGJhKXt2YXIgbGVuZ3RoPShiYS5sZW5ndGgrMyk+PjI7dmFyIGlhPW5ldyBBcnJheShsZW5ndGgpOztmb3IodmFyIGlpPTAsYmk9MDtpaTxpYS5sZW5ndGgmJmJpPGJhLmxlbmd0aDspe2lhW2lpKytdPShiaTxiYS5sZW5ndGg/KGJhW2JpKytdKTowKXwoYmk8YmEubGVuZ3RoPyhiYVtiaSsrXTw8OCk6MCl8KGJpPGJhLmxlbmd0aD8oYmFbYmkrK108PDE2KTowKXwoYmk8YmEubGVuZ3RoPyhiYVtiaSsrXTw8MjQpOjApO30KcmV0dXJuIGlhO30KZnVuY3Rpb24gdHJpbShzKXt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaWR4PTA7aWR4PHMubGVuZ3RoO2lkeCsrKXt2YXIgYz1zLmNoYXJBdChpZHgpO2lmKGM9PSJccyJ8fGM9PSJcdCJ8fGM9PSJcciJ8fGM9PSJcbiIpe31lbHNle3Jlc3VsdCs9Yzt9fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gbWt0c3QoZW5jb2RlLGRlY29kZSl7cmV0dXJuIGZ1bmN0aW9uKHRyaWFsLGZyb20sdG8pe3ZhciBmbGc9dHJ1ZTtmb3IodmFyIGk9MDtpPHRyaWFsO2krKyl7Zm9yKHZhciBqPWZyb207ajx0bztqKyspe3ZhciBhcnI9bmV3IEFycmF5KGopO2Zvcih2YXIgaz0wO2s8ajtrKyspCmFycltrXT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU2KTt2YXIgcz1lbmNvZGUoYXJyKTt2YXIgYj1kZWNvZGUocyk7dHJhY2UoImluIDoiK2Fyci5sZW5ndGgrIjoiK2Jhc2UxNl9lbmNvZGUoYXJyKSk7dHJhY2UoImI2NDoiK3MubGVuZ3RoKyI6IitzKTt0cmFjZSgib3V0OiIrYi5sZW5ndGgrIjoiK2Jhc2UxNl9lbmNvZGUoYXJyKSk7aWYoZXF1YWxzKGFycixiKSl7dHJhY2UoIk9LISAoICIraSsiLCIraisiKSIpO31lbHNle3RyYWNlKCJFUlIgKCAiK2krIiwiK2orIikiKTtmbGc9ZmFsc2U7fQp0cmFjZSgiLS0tLS0tLS0tLS0iKTt9fQppZihmbGcpe3RyYWNlKCJBTEwgT0shICIpO31lbHNle3RyYWNlKCJGT1VORCBFUlJPUiEiKTt9fTt9CnBhY2thZ2VSb290LmJhc2U2NF9lbmNvZGU9YmFzZTY0X2VuY29kZTtwYWNrYWdlUm9vdC5iYXNlNjRfZGVjb2RlPWJhc2U2NF9kZWNvZGU7cGFja2FnZVJvb3QuYmFzZTY0X3Rlc3Q9bWt0c3QoYmFzZTY0X2VuY29kZSxiYXNlNjRfZGVjb2RlKTtwYWNrYWdlUm9vdC5iYXNlNjR4X2VuY29kZT1iYXNlNjR4X2VuY29kZTtwYWNrYWdlUm9vdC5iYXNlNjR4X2RlY29kZT1iYXNlNjR4X2RlY29kZTtwYWNrYWdlUm9vdC5iYXNlNjR4X3Rlc3Q9bWt0c3QoYmFzZTY0eF9lbmNvZGUsYmFzZTY0eF9kZWNvZGUpO3BhY2thZ2VSb290LmJhc2U2NHhfcHJlX2VuY29kZT1iYXNlNjR4X3ByZV9lbmNvZGU7cGFja2FnZVJvb3QuYmFzZTY0eF9wcmVfZGVjb2RlPWJhc2U2NHhfcHJlX2RlY29kZTtwYWNrYWdlUm9vdC5iYXNlMTZfZW5jb2RlPWJhc2UxNl9lbmNvZGU7cGFja2FnZVJvb3QuYmFzZTE2X2RlY29kZT1iYXNlMTZfZGVjb2RlO3BhY2thZ2VSb290LmJhc2UxNj1iYXNlMTY7cGFja2FnZVJvb3QuaGV4PWJhc2UxNjtwYWNrYWdlUm9vdC51dGY4MnN0cj11dGY4MnN0cjtwYWNrYWdlUm9vdC5zdHIydXRmOD1zdHIydXRmODtwYWNrYWdlUm9vdC5zdHIyY2hhcj1zdHIyY2hhcjtwYWNrYWdlUm9vdC5jaGFyMnN0cj1jaGFyMnN0cjtwYWNrYWdlUm9vdC5pMmJhPWkyYmFfYmU7cGFja2FnZVJvb3QuYmEyaT1iYTJpX2JlO3BhY2thZ2VSb290LmkyYmFfYmU9aTJiYV9iZTtwYWNrYWdlUm9vdC5iYTJpX2JlPWJhMmlfYmU7cGFja2FnZVJvb3QuaTJiYV9sZT1pMmJhX2xlO3BhY2thZ2VSb290LmJhMmlfbGU9YmEyaV9sZTtwYWNrYWdlUm9vdC5zMmJhPXMyYmFfYmU7cGFja2FnZVJvb3QuYmEycz1iYTJzX2JlO3BhY2thZ2VSb290LnMyYmFfYmU9czJiYV9iZTtwYWNrYWdlUm9vdC5iYTJzX2JlPWJhMnNfYmU7cGFja2FnZVJvb3QuczJiYV9sZT1zMmJhX2xlO3BhY2thZ2VSb290LmJhMnNfbGU9YmEyc19sZTtwYWNrYWdlUm9vdC5iYTJpYT1iYTJpYV9iZTtwYWNrYWdlUm9vdC5pYTJiYT1pYTJiYV9iZTtwYWNrYWdlUm9vdC5pYTJiYV9iZT1pYTJiYV9iZTtwYWNrYWdlUm9vdC5iYTJpYV9iZT1iYTJpYV9iZTtwYWNrYWdlUm9vdC5pYTJiYV9sZT1pYTJiYV9sZTtwYWNrYWdlUm9vdC5iYTJpYV9sZT1iYTJpYV9sZTtwYWNrYWdlUm9vdC5jbXBhcnI9ZXF1YWxzO30KaW5pdEJpbmFyeShfX0NyeXB0byk7ZnVuY3Rpb24gaW5pdEJsb2NrQ2lwaGVyKHBhY2thZ2VSb290KXtfX0NyeXB0by5fX3VuaXQoIkNpcGhlci5qcyIpO19fQ3J5cHRvLl9fdXNlcygicGFja2FnZXMuanMiKTt2YXIgTUFYSU5UPTB4RkZGRkZGRkY7ZnVuY3Rpb24gcm90YihiLG4pe3JldHVybihiPDxufGI+Pj4oOC1uKSkmMHhGRjt9CmZ1bmN0aW9uIHJvdHcodyxuKXtyZXR1cm4odzw8bnx3Pj4+KDMyLW4pKSZNQVhJTlQ7fQpmdW5jdGlvbiBnZXRXKGEsaSl7cmV0dXJuIGFbaV18YVtpKzFdPDw4fGFbaSsyXTw8MTZ8YVtpKzNdPDwyNDt9CmZ1bmN0aW9uIHNldFcoYSxpLHcpe2Euc3BsaWNlKGksNCx3JjB4RkYsKHc+Pj44KSYweEZGLCh3Pj4+MTYpJjB4RkYsKHc+Pj4yNCkmMHhGRik7fQpmdW5jdGlvbiBzZXRXSW52KGEsaSx3KXthLnNwbGljZShpLDQsKHc+Pj4yNCkmMHhGRiwodz4+PjE2KSYweEZGLCh3Pj4+OCkmMHhGRix3JjB4RkYpO30KZnVuY3Rpb24gZ2V0Qih4LG4pe3JldHVybih4Pj4+KG4qOCkpJjB4RkY7fQpmdW5jdGlvbiBnZXROckJpdHMoaSl7dmFyIG49MDt3aGlsZShpPjApe24rKztpPj4+PTE7fQpyZXR1cm4gbjt9CmZ1bmN0aW9uIGdldE1hc2sobil7cmV0dXJuKDE8PG4pLTE7fQpmdW5jdGlvbiByYW5kQnl0ZSgpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU2KTt9CnZhciBBTEdPUklUSE1TPXt9O2Z1bmN0aW9uIGNyZWF0ZVJpam5kYWVsKCl7dmFyIGtleUJ5dGVzPW51bGw7dmFyIGRhdGFCeXRlcz1udWxsO3ZhciBkYXRhT2Zmc2V0PS0xO3ZhciBhbGdvcml0aG1OYW1lPW51bGw7YWxnb3JpdGhtTmFtZT0icmlqbmRhZWwiCnZhciBhZXNOazt2YXIgYWVzTnI7dmFyIGFlc1Bvd3M7dmFyIGFlc0xvZ3M7dmFyIGFlc1NCb3g7dmFyIGFlc1NCb3hJbnY7dmFyIGFlc1Jjbzt2YXIgYWVzRnRhYmxlO3ZhciBhZXNSdGFibGU7dmFyIGFlc0ZpO3ZhciBhZXNSaTt2YXIgYWVzRmtleTt2YXIgYWVzUmtleTtmdW5jdGlvbiBhZXNNdWx0KHgseSl7cmV0dXJuKHgmJnkpP2Flc1Bvd3NbKGFlc0xvZ3NbeF0rYWVzTG9nc1t5XSklMjU1XTowO30KZnVuY3Rpb24gYWVzUGFja0Jsb2NrKCl7cmV0dXJuW2dldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQpLGdldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrNCksZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs4KSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzEyKV07fQpmdW5jdGlvbiBhZXNVbnBhY2tCbG9jayhwYWNrZWQpe2Zvcih2YXIgaj0wO2o8NDtqKyssZGF0YU9mZnNldCs9NClzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0LHBhY2tlZFtqXSk7fQpmdW5jdGlvbiBhZXNYVGltZShwKXtwPDw9MTtyZXR1cm4gcCYweDEwMD9wXjB4MTFCOnA7fQpmdW5jdGlvbiBhZXNTdWJCeXRlKHcpe3JldHVybiBhZXNTQm94W2dldEIodywwKV18YWVzU0JveFtnZXRCKHcsMSldPDw4fGFlc1NCb3hbZ2V0Qih3LDIpXTw8MTZ8YWVzU0JveFtnZXRCKHcsMyldPDwyNDt9CmZ1bmN0aW9uIGFlc1Byb2R1Y3QodzEsdzIpe3JldHVybiBhZXNNdWx0KGdldEIodzEsMCksZ2V0Qih3MiwwKSleYWVzTXVsdChnZXRCKHcxLDEpLGdldEIodzIsMSkpXmFlc011bHQoZ2V0Qih3MSwyKSxnZXRCKHcyLDIpKV5hZXNNdWx0KGdldEIodzEsMyksZ2V0Qih3MiwzKSk7fQpmdW5jdGlvbiBhZXNJbnZNaXhDb2woeCl7cmV0dXJuIGFlc1Byb2R1Y3QoMHgwOTBkMGIwZSx4KXxhZXNQcm9kdWN0KDB4MGQwYjBlMDkseCk8PDh8YWVzUHJvZHVjdCgweDBiMGUwOTBkLHgpPDwxNnxhZXNQcm9kdWN0KDB4MGUwOTBkMGIseCk8PDI0O30KZnVuY3Rpb24gYWVzQnl0ZVN1Yih4KXt2YXIgeT1hZXNQb3dzWzI1NS1hZXNMb2dzW3hdXTt4PXk7eD1yb3RiKHgsMSk7eV49eDt4PXJvdGIoeCwxKTt5Xj14O3g9cm90Yih4LDEpO3lePXg7eD1yb3RiKHgsMSk7cmV0dXJuIHheeV4weDYzO30KZnVuY3Rpb24gYWVzR2VuVGFibGVzKCl7dmFyIGkseTthZXNQb3dzPVsxLDNdO2Flc0xvZ3M9WzAsMCxudWxsLDFdO2Flc1NCb3g9bmV3IEFycmF5KDI1Nik7YWVzU0JveEludj1uZXcgQXJyYXkoMjU2KTthZXNGdGFibGU9bmV3IEFycmF5KDI1Nik7YWVzUnRhYmxlPW5ldyBBcnJheSgyNTYpO2Flc1Jjbz1uZXcgQXJyYXkoMzApO2ZvcihpPTI7aTwyNTY7aSsrKXthZXNQb3dzW2ldPWFlc1Bvd3NbaS0xXV5hZXNYVGltZShhZXNQb3dzW2ktMV0pO2Flc0xvZ3NbYWVzUG93c1tpXV09aTt9CmFlc1NCb3hbMF09MHg2MzthZXNTQm94SW52WzB4NjNdPTA7Zm9yKGk9MTtpPDI1NjtpKyspe3k9YWVzQnl0ZVN1YihpKTthZXNTQm94W2ldPXk7YWVzU0JveEludlt5XT1pO30KZm9yKGk9MCx5PTE7aTwzMDtpKyspe2Flc1Jjb1tpXT15O3k9YWVzWFRpbWUoeSk7fQpmb3IoaT0wO2k8MjU2O2krKyl7eT1hZXNTQm94W2ldO2Flc0Z0YWJsZVtpXT1hZXNYVGltZSh5KXx5PDw4fHk8PDE2fCh5XmFlc1hUaW1lKHkpKTw8MjQ7eT1hZXNTQm94SW52W2ldO2Flc1J0YWJsZVtpXT1hZXNNdWx0KDE0LHkpfGFlc011bHQoOSx5KTw8OHxhZXNNdWx0KDEzLHkpPDwxNnxhZXNNdWx0KDExLHkpPDwyNDt9fQpmdW5jdGlvbiBhZXNJbml0KGtleSl7a2V5Qnl0ZXM9a2V5O2tleUJ5dGVzPWtleUJ5dGVzLnNsaWNlKDAsMzIpO3ZhciBpLGssbTt2YXIgaj0wO3ZhciBsPWtleUJ5dGVzLmxlbmd0aDt3aGlsZShsIT0xNiYmbCE9MjQmJmwhPTMyKWtleUJ5dGVzW2wrK109a2V5Qnl0ZXNbaisrXTthZXNHZW5UYWJsZXMoKTthZXNOaz1rZXlCeXRlcy5sZW5ndGg+Pj4yO2Flc05yPTYrYWVzTms7dmFyIE49NCooYWVzTnIrMSk7YWVzRmk9bmV3IEFycmF5KDEyKTthZXNSaT1uZXcgQXJyYXkoMTIpO2Flc0ZrZXk9bmV3IEFycmF5KE4pO2Flc1JrZXk9bmV3IEFycmF5KE4pO2ZvcihtPWo9MDtqPDQ7aisrLG0rPTMpe2Flc0ZpW21dPShqKzEpJTQ7YWVzRmlbbSsxXT0oaisyKSU0O2Flc0ZpW20rMl09KGorMyklNDthZXNSaVttXT0oNCtqLTEpJTQ7YWVzUmlbbSsxXT0oNCtqLTIpJTQ7YWVzUmlbbSsyXT0oNCtqLTMpJTQ7fQpmb3IoaT1qPTA7aTxhZXNOaztpKyssais9NClhZXNGa2V5W2ldPWdldFcoa2V5Qnl0ZXMsaik7Zm9yKGs9MCxqPWFlc05rO2o8TjtqKz1hZXNOayxrKyspe2Flc0ZrZXlbal09YWVzRmtleVtqLWFlc05rXV5hZXNTdWJCeXRlKHJvdHcoYWVzRmtleVtqLTFdLDI0KSleYWVzUmNvW2tdO2lmKGFlc05rPD02KWZvcihpPTE7aTxhZXNOayYmKGkraik8TjtpKyspYWVzRmtleVtpK2pdPWFlc0ZrZXlbaStqLWFlc05rXV5hZXNGa2V5W2krai0xXTtlbHNle2ZvcihpPTE7aTw0JiYoaStqKTxOO2krKylhZXNGa2V5W2kral09YWVzRmtleVtpK2otYWVzTmtdXmFlc0ZrZXlbaStqLTFdO2lmKChqKzQpPE4pYWVzRmtleVtqKzRdPWFlc0ZrZXlbais0LWFlc05rXV5hZXNTdWJCeXRlKGFlc0ZrZXlbaiszXSk7Zm9yKGk9NTtpPGFlc05rJiYoaStqKTxOO2krKylhZXNGa2V5W2kral09YWVzRmtleVtpK2otYWVzTmtdXmFlc0ZrZXlbaStqLTFdO319CmZvcihqPTA7ajw0O2orKylhZXNSa2V5W2orTi00XT1hZXNGa2V5W2pdO2ZvcihpPTQ7aTxOLTQ7aSs9NCl7az1OLTQtaTtmb3Ioaj0wO2o8NDtqKyspYWVzUmtleVtrK2pdPWFlc0ludk1peENvbChhZXNGa2V5W2kral0pO30KZm9yKGo9Ti00O2o8TjtqKyspYWVzUmtleVtqLU4rNF09YWVzRmtleVtqXTt9CmZ1bmN0aW9uIGFlc0Nsb3NlKCl7YWVzUG93cz1hZXNMb2dzPWFlc1NCb3g9YWVzU0JveEludj1hZXNSY289bnVsbDthZXNGdGFibGU9YWVzUnRhYmxlPWFlc0ZpPWFlc1JpPWFlc0ZrZXk9YWVzUmtleT1udWxsO30KZnVuY3Rpb24gYWVzUm91bmRzKGJsb2NrLGtleSx0YWJsZSxpbmMsYm94KXt2YXIgdG1wPW5ldyBBcnJheSg0KTt2YXIgaSxqLG0scjtmb3Iocj0wO3I8NDtyKyspYmxvY2tbcl1ePWtleVtyXTtmb3IoaT0xO2k8YWVzTnI7aSsrKXtmb3Ioaj1tPTA7ajw0O2orKyxtKz0zKXt0bXBbal09a2V5W3IrK11edGFibGVbYmxvY2tbal0mMHhGRl1ecm90dyh0YWJsZVsoYmxvY2tbaW5jW21dXT4+PjgpJjB4RkZdLDgpXnJvdHcodGFibGVbKGJsb2NrW2luY1ttKzFdXT4+PjE2KSYweEZGXSwxNilecm90dyh0YWJsZVsoYmxvY2tbaW5jW20rMl1dPj4+MjQpJjB4RkZdLDI0KTt9CnZhciB0PWJsb2NrO2Jsb2NrPXRtcDt0bXA9dDt9CmZvcihqPW09MDtqPDQ7aisrLG0rPTMpCnRtcFtqXT1rZXlbcisrXV5ib3hbYmxvY2tbal0mMHhGRl1ecm90dyhib3hbKGJsb2NrW2luY1ttXV0+Pj44KSYweEZGXSw4KV5yb3R3KGJveFsoYmxvY2tbaW5jW20rMV1dPj4+MTYpJjB4RkZdLDE2KV5yb3R3KGJveFsoYmxvY2tbaW5jW20rMl1dPj4+MjQpJjB4RkZdLDI0KTtyZXR1cm4gdG1wO30KZnVuY3Rpb24gYWVzRW5jcnlwdChkYXRhLG9mZnNldCl7ZGF0YUJ5dGVzPWRhdGE7ZGF0YU9mZnNldD1vZmZzZXQ7YWVzVW5wYWNrQmxvY2soYWVzUm91bmRzKGFlc1BhY2tCbG9jaygpLGFlc0ZrZXksYWVzRnRhYmxlLGFlc0ZpLGFlc1NCb3gpKTt9CmZ1bmN0aW9uIGFlc0RlY3J5cHQoZGF0YSxvZmZzZXQpe2RhdGFCeXRlcz1kYXRhO2RhdGFPZmZzZXQ9b2Zmc2V0O2Flc1VucGFja0Jsb2NrKGFlc1JvdW5kcyhhZXNQYWNrQmxvY2soKSxhZXNSa2V5LGFlc1J0YWJsZSxhZXNSaSxhZXNTQm94SW52KSk7fQpyZXR1cm57bmFtZToicmlqbmRhZWwiLGJsb2Nrc2l6ZToxMjgvOCxvcGVuOmFlc0luaXQsY2xvc2U6YWVzQ2xvc2UsZW5jcnlwdDphZXNFbmNyeXB0LGRlY3J5cHQ6YWVzRGVjcnlwdH07fQpBTEdPUklUSE1TLlJJSk5EQUVMPXtjcmVhdGU6Y3JlYXRlUmlqbmRhZWx9O2Z1bmN0aW9uIGNyZWF0ZVNlcnBlbnQoKXt2YXIga2V5Qnl0ZXM9bnVsbDt2YXIgZGF0YUJ5dGVzPW51bGw7dmFyIGRhdGFPZmZzZXQ9LTE7dmFyIGFsZ29yaXRobU5hbWU9bnVsbDthbGdvcml0aG1OYW1lPSJzZXJwZW50Ijt2YXIgc3JwS2V5PVtdO2Z1bmN0aW9uIHNycEsocixhLGIsYyxkLGkpe3JbYV1ePXNycEtleVs0KmldO3JbYl1ePXNycEtleVs0KmkrMV07cltjXV49c3JwS2V5WzQqaSsyXTtyW2RdXj1zcnBLZXlbNCppKzNdO30KZnVuY3Rpb24gc3JwTEsocixhLGIsYyxkLGUsaSl7clthXT1yb3R3KHJbYV0sMTMpO3JbY109cm90dyhyW2NdLDMpO3JbYl1ePXJbYV07cltlXT0oclthXTw8MykmTUFYSU5UO3JbZF1ePXJbY107cltiXV49cltjXTtyW2JdPXJvdHcocltiXSwxKTtyW2RdXj1yW2VdO3JbZF09cm90dyhyW2RdLDcpO3JbZV09cltiXTtyW2FdXj1yW2JdO3JbZV09KHJbZV08PDcpJk1BWElOVDtyW2NdXj1yW2RdO3JbYV1ePXJbZF07cltjXV49cltlXTtyW2RdXj1zcnBLZXlbNCppKzNdO3JbYl1ePXNycEtleVs0KmkrMV07clthXT1yb3R3KHJbYV0sNSk7cltjXT1yb3R3KHJbY10sMjIpO3JbYV1ePXNycEtleVs0KmkrMF07cltjXV49c3JwS2V5WzQqaSsyXTt9CmZ1bmN0aW9uIHNycEtMKHIsYSxiLGMsZCxlLGkpe3JbYV1ePXNycEtleVs0KmkrMF07cltiXV49c3JwS2V5WzQqaSsxXTtyW2NdXj1zcnBLZXlbNCppKzJdO3JbZF1ePXNycEtleVs0KmkrM107clthXT1yb3R3KHJbYV0sMjcpO3JbY109cm90dyhyW2NdLDEwKTtyW2VdPXJbYl07cltjXV49cltkXTtyW2FdXj1yW2RdO3JbZV09KHJbZV08PDcpJk1BWElOVDtyW2FdXj1yW2JdO3JbYl09cm90dyhyW2JdLDMxKTtyW2NdXj1yW2VdO3JbZF09cm90dyhyW2RdLDI1KTtyW2VdPShyW2FdPDwzKSZNQVhJTlQ7cltiXV49clthXTtyW2RdXj1yW2VdO3JbYV09cm90dyhyW2FdLDE5KTtyW2JdXj1yW2NdO3JbZF1ePXJbY107cltjXT1yb3R3KHJbY10sMjkpO30KdmFyIHNycFM9W2Z1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDNdO3JbeDNdfD1yW3gwXTtyW3gwXV49clt4NF07clt4NF1ePXJbeDJdO3JbeDRdPX5yW3g0XTtyW3gzXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDFdXj1yW3g0XTtyW3gyXV49clt4MF07clt4MF1ePXJbeDNdO3JbeDRdfD1yW3gwXTtyW3gwXV49clt4Ml07clt4Ml0mPXJbeDFdO3JbeDNdXj1yW3gyXTtyW3gxXT1+clt4MV07clt4Ml1ePXJbeDRdO3JbeDFdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDFdO3JbeDFdXj1yW3gwXTtyW3gwXV49clt4M107clt4M109fnJbeDNdO3JbeDRdJj1yW3gxXTtyW3gwXXw9clt4MV07clt4M11ePXJbeDJdO3JbeDBdXj1yW3gzXTtyW3gxXV49clt4M107clt4M11ePXJbeDRdO3JbeDFdfD1yW3g0XTtyW3g0XV49clt4Ml07clt4Ml0mPXJbeDBdO3JbeDJdXj1yW3gxXTtyW3gxXXw9clt4MF07clt4MF09fnJbeDBdO3JbeDBdXj1yW3gyXTtyW3g0XV49clt4MV07fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3gzXT1+clt4M107clt4MV1ePXJbeDBdO3JbeDRdPXJbeDBdO3JbeDBdJj1yW3gyXTtyW3gwXV49clt4M107clt4M118PXJbeDRdO3JbeDJdXj1yW3gxXTtyW3gzXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gyXSY9clt4M107clt4M118PXJbeDFdO3JbeDBdPX5yW3gwXTtyW3gzXV49clt4MF07clt4NF1ePXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gxXXw9clt4Ml07fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3g0XT1yW3gxXTtyW3gxXV49clt4M107clt4M118PXJbeDBdO3JbeDRdJj1yW3gwXTtyW3gwXV49clt4Ml07clt4Ml1ePXJbeDFdO3JbeDFdJj1yW3gzXTtyW3gyXV49clt4M107clt4MF18PXJbeDRdO3JbeDRdXj1yW3gzXTtyW3gxXV49clt4MF07clt4MF0mPXJbeDNdO3JbeDNdJj1yW3g0XTtyW3gzXV49clt4Ml07clt4NF18PXJbeDFdO3JbeDJdJj1yW3gxXTtyW3g0XV49clt4M107clt4MF1ePXJbeDNdO3JbeDNdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDNdO3JbeDNdJj1yW3gwXTtyW3gwXV49clt4NF07clt4M11ePXJbeDJdO3JbeDJdfD1yW3g0XTtyW3gwXV49clt4MV07clt4NF1ePXJbeDNdO3JbeDJdfD1yW3gwXTtyW3gyXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDFdXj1yW3g0XTtyW3g0XSY9clt4Ml07clt4Ml1ePXJbeDNdO3JbeDRdXj1yW3gwXTtyW3gzXXw9clt4MV07clt4MV09fnJbeDFdO3JbeDNdXj1yW3gwXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDFdO3JbeDFdfD1yW3gwXTtyW3gyXV49clt4MV07clt4M109fnJbeDNdO3JbeDRdXj1yW3gwXTtyW3gwXV49clt4Ml07clt4MV0mPXJbeDRdO3JbeDRdfD1yW3gzXTtyW3g0XV49clt4MF07clt4MF0mPXJbeDNdO3JbeDFdXj1yW3gzXTtyW3gzXV49clt4Ml07clt4MF1ePXJbeDFdO3JbeDJdJj1yW3g0XTtyW3gxXV49clt4Ml07clt4Ml0mPXJbeDBdO3JbeDNdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDFdO3JbeDNdXj1yW3gwXTtyW3gxXV49clt4Ml07clt4Ml1ePXJbeDBdO3JbeDBdJj1yW3gzXTtyW3gxXXw9clt4M107clt4NF09fnJbeDRdO3JbeDBdXj1yW3gxXTtyW3gxXV49clt4Ml07clt4M11ePXJbeDRdO3JbeDRdXj1yW3gwXTtyW3gyXSY9clt4MF07clt4NF1ePXJbeDFdO3JbeDJdXj1yW3gzXTtyW3gzXSY9clt4MV07clt4M11ePXJbeDBdO3JbeDFdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDFdPX5yW3gxXTtyW3g0XT1yW3gxXTtyW3gwXT1+clt4MF07clt4MV0mPXJbeDJdO3JbeDFdXj1yW3gzXTtyW3gzXXw9clt4NF07clt4NF1ePXJbeDJdO3JbeDJdXj1yW3gzXTtyW3gzXV49clt4MF07clt4MF18PXJbeDFdO3JbeDJdJj1yW3gwXTtyW3gwXV49clt4NF07clt4NF1ePXJbeDNdO3JbeDNdJj1yW3gwXTtyW3g0XV49clt4MV07clt4Ml1ePXJbeDRdO3JbeDNdXj1yW3gxXTtyW3g0XXw9clt4MF07clt4NF1ePXJbeDFdO31dO3ZhciBzcnBTST1bZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4NF09clt4M107clt4MV1ePXJbeDBdO3JbeDNdfD1yW3gxXTtyW3g0XV49clt4MV07clt4MF09fnJbeDBdO3JbeDJdXj1yW3gzXTtyW3gzXV49clt4MF07clt4MF0mPXJbeDFdO3JbeDBdXj1yW3gyXTtyW3gyXSY9clt4M107clt4M11ePXJbeDRdO3JbeDJdXj1yW3gzXTtyW3gxXV49clt4M107clt4M10mPXJbeDBdO3JbeDFdXj1yW3gwXTtyW3gwXV49clt4Ml07clt4NF1ePXJbeDNdO30sZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4MV1ePXJbeDNdO3JbeDRdPXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gyXT1+clt4Ml07clt4NF18PXJbeDFdO3JbeDRdXj1yW3gzXTtyW3gzXSY9clt4MV07clt4MV1ePXJbeDJdO3JbeDJdJj1yW3g0XTtyW3g0XV49clt4MV07clt4MV18PXJbeDNdO3JbeDNdXj1yW3gwXTtyW3gyXV49clt4MF07clt4MF18PXJbeDRdO3JbeDJdXj1yW3g0XTtyW3gxXV49clt4MF07clt4NF1ePXJbeDFdO30sZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4Ml1ePXJbeDFdO3JbeDRdPXJbeDNdO3JbeDNdPX5yW3gzXTtyW3gzXXw9clt4Ml07clt4Ml1ePXJbeDRdO3JbeDRdXj1yW3gwXTtyW3gzXV49clt4MV07clt4MV18PXJbeDJdO3JbeDJdXj1yW3gwXTtyW3gxXV49clt4NF07clt4NF18PXJbeDNdO3JbeDJdXj1yW3gzXTtyW3g0XV49clt4Ml07clt4Ml0mPXJbeDFdO3JbeDJdXj1yW3gzXTtyW3gzXV49clt4NF07clt4NF1ePXJbeDBdO30sZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4Ml1ePXJbeDFdO3JbeDRdPXJbeDFdO3JbeDFdJj1yW3gyXTtyW3gxXV49clt4MF07clt4MF18PXJbeDRdO3JbeDRdXj1yW3gzXTtyW3gwXV49clt4M107clt4M118PXJbeDFdO3JbeDFdXj1yW3gyXTtyW3gxXV49clt4M107clt4MF1ePXJbeDJdO3JbeDJdXj1yW3gzXTtyW3gzXSY9clt4MV07clt4MV1ePXJbeDBdO3JbeDBdJj1yW3gyXTtyW3g0XV49clt4M107clt4M11ePXJbeDBdO3JbeDBdXj1yW3gxXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDJdXj1yW3gzXTtyW3g0XT1yW3gwXTtyW3gwXSY9clt4MV07clt4MF1ePXJbeDJdO3JbeDJdfD1yW3gzXTtyW3g0XT1+clt4NF07clt4MV1ePXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gyXSY9clt4NF07clt4Ml1ePXJbeDBdO3JbeDBdfD1yW3g0XTtyW3gwXV49clt4M107clt4M10mPXJbeDJdO3JbeDRdXj1yW3gzXTtyW3gzXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDRdXj1yW3gxXTtyW3gwXV49clt4M107fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3g0XT1yW3gxXTtyW3gxXXw9clt4Ml07clt4Ml1ePXJbeDRdO3JbeDFdXj1yW3gzXTtyW3gzXSY9clt4NF07clt4Ml1ePXJbeDNdO3JbeDNdfD1yW3gwXTtyW3gwXT1+clt4MF07clt4M11ePXJbeDJdO3JbeDJdfD1yW3gwXTtyW3g0XV49clt4MV07clt4Ml1ePXJbeDRdO3JbeDRdJj1yW3gwXTtyW3gwXV49clt4MV07clt4MV1ePXJbeDNdO3JbeDBdJj1yW3gyXTtyW3gyXV49clt4M107clt4MF1ePXJbeDJdO3JbeDJdXj1yW3g0XTtyW3g0XV49clt4M107fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3gwXV49clt4Ml07clt4NF09clt4MF07clt4MF0mPXJbeDNdO3JbeDJdXj1yW3gzXTtyW3gwXV49clt4Ml07clt4M11ePXJbeDFdO3JbeDJdfD1yW3g0XTtyW3gyXV49clt4M107clt4M10mPXJbeDBdO3JbeDBdPX5yW3gwXTtyW3gzXV49clt4MV07clt4MV0mPXJbeDJdO3JbeDRdXj1yW3gwXTtyW3gzXV49clt4NF07clt4NF1ePXJbeDJdO3JbeDBdXj1yW3gxXTtyW3gyXV49clt4MF07fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3g0XT1yW3gzXTtyW3gzXSY9clt4MF07clt4MF1ePXJbeDJdO3JbeDJdfD1yW3g0XTtyW3g0XV49clt4MV07clt4MF09fnJbeDBdO3JbeDFdfD1yW3gzXTtyW3g0XV49clt4MF07clt4MF0mPXJbeDJdO3JbeDBdXj1yW3gxXTtyW3gxXSY9clt4Ml07clt4M11ePXJbeDJdO3JbeDRdXj1yW3gzXTtyW3gyXSY9clt4M107clt4M118PXJbeDBdO3JbeDFdXj1yW3g0XTtyW3gzXV49clt4NF07clt4NF0mPXJbeDBdO3JbeDRdXj1yW3gyXTt9XTt2YXIgc3JwS2M9Wzc3ODgsNjM3MTYsODQwMzIsNzg5MSw3ODk0OSwyNTE0NiwyODgzNSw2NzI4OCw4NDAzMiw0MDA1NSw3MzYxLDE5NDAsNzc2MzksMjc1MjUsMjQxOTMsNzU3MDIsNzM2MSwzNTQxMyw4MzE1MCw4MjM4Myw1ODYxOSw0ODQ2OCwxODI0Miw2Njg2MSw4MzE1MCw2OTY2Nyw3Nzg4LDMxNTUyLDQwMDU0LDIzMjIyLDUyNDk2LDU3NTY1LDc3ODgsNjM3MTZdO3ZhciBzcnBFYz1bNDQyNTUsNjE4NjcsNDUwMzQsNTI0OTYsNzMwODcsNTYyNTUsNDM4MjcsNDE0NDgsMTgyNDIsMTkzOSwxODU4MSw1NjI1NSw2NDU4NCwzMTA5NywyNjQ2OSw3NzcyOCw3NzYzOSw0MjE2LDY0NTg1LDMxMDk3LDY2ODYxLDc4OTQ5LDU4MDA2LDU5OTQzLDQ5Njc2LDc4OTUwLDU1MTIsNzg5NDksMjc1MjUsNTI0OTYsMTg2NzAsNzYxNDNdO3ZhciBzcnBEYz1bNDQyNTUsNjA4OTYsMjg4MzUsMTgzNywxMDU3LDQyMTYsMTgyNDIsNzczMDEsNDczOTksNTM5OTIsMTkzOSwxOTQwLDY2NDIwLDM5MTcyLDc4OTUwLDQ1OTE3LDgyMzgzLDc0NTAsNjcyODgsMjY0NjksODMxNDksNTc1NjUsNjY0MTksNDc0MDAsNTgwMDYsNDQyNTQsMTg1ODEsMTgyMjgsMzMwNDgsNDUwMzQsNjY1MDgsNzQ0OV07ZnVuY3Rpb24gc3JwSW5pdChrZXkpe2tleUJ5dGVzPWtleTt2YXIgaSxqLG0sbjtmdW5jdGlvbiBrZXlJdChhLGIsYyxkLGkpe3NycEtleVtpXT1yW2JdPXJvdHcoc3JwS2V5W2FdXnJbYl1ecltjXV5yW2RdXjB4OWUzNzc5YjleaSwxMSk7fQpmdW5jdGlvbiBrZXlMb2FkKGEsYixjLGQsaSl7clthXT1zcnBLZXlbaV07cltiXT1zcnBLZXlbaSsxXTtyW2NdPXNycEtleVtpKzJdO3JbZF09c3JwS2V5W2krM107fQpmdW5jdGlvbiBrZXlTdG9yZShhLGIsYyxkLGkpe3NycEtleVtpXT1yW2FdO3NycEtleVtpKzFdPXJbYl07c3JwS2V5W2krMl09cltjXTtzcnBLZXlbaSszXT1yW2RdO30Ka2V5Qnl0ZXMucmV2ZXJzZSgpO2tleUJ5dGVzW2tleUJ5dGVzLmxlbmd0aF09MTt3aGlsZShrZXlCeXRlcy5sZW5ndGg8MzIpa2V5Qnl0ZXNba2V5Qnl0ZXMubGVuZ3RoXT0wO2ZvcihpPTA7aTw4O2krKyl7c3JwS2V5W2ldPShrZXlCeXRlc1s0KmkrMF0mMHhmZil8KGtleUJ5dGVzWzQqaSsxXSYweGZmKTw8OHwoa2V5Qnl0ZXNbNCppKzJdJjB4ZmYpPDwxNnwoa2V5Qnl0ZXNbNCppKzNdJjB4ZmYpPDwyNDt9CnZhciByPVtzcnBLZXlbM10sc3JwS2V5WzRdLHNycEtleVs1XSxzcnBLZXlbNl0sc3JwS2V5WzddXTtpPTA7aj0wO3doaWxlKGtleUl0KGorKywwLDQsMixpKyspLGtleUl0KGorKywxLDAsMyxpKyspLGk8MTMyKXtrZXlJdChqKyssMiwxLDQsaSsrKTtpZihpPT04KXtqPTA7fQprZXlJdChqKyssMywyLDAsaSsrKTtrZXlJdChqKyssNCwzLDEsaSsrKTt9Cmk9MTI4O2o9MztuPTA7d2hpbGUobT1zcnBLY1tuKytdLHNycFNbaisrJThdKHIsbSU1LG0lNyxtJTExLG0lMTMsbSUxNyksbT1zcnBLY1tuXSxrZXlTdG9yZShtJTUsbSU3LG0lMTEsbSUxMyxpKSxpPjApe2ktPTQ7a2V5TG9hZChtJTUsbSU3LG0lMTEsbSUxMyxpKTt9fQpmdW5jdGlvbiBzcnBDbG9zZSgpe3NycEtleT1bXTt9CmZ1bmN0aW9uIHNycEVuY3J5cHQoZGF0YSxvZmZzZXQpe2RhdGFCeXRlcz1kYXRhO2RhdGFPZmZzZXQ9b2Zmc2V0O3ZhciBibGs9ZGF0YUJ5dGVzLnNsaWNlKGRhdGFPZmZzZXQsZGF0YU9mZnNldCsxNik7YmxrLnJldmVyc2UoKTt2YXIgcj1bZ2V0VyhibGssMCksZ2V0VyhibGssNCksZ2V0VyhibGssOCksZ2V0VyhibGssMTIpXTtzcnBLKHIsMCwxLDIsMywwKTt2YXIgbj0wLG09c3JwRWNbbl07d2hpbGUoc3JwU1tuJThdKHIsbSU1LG0lNyxtJTExLG0lMTMsbSUxNyksbjwzMSl7bT1zcnBFY1srK25dO3NycExLKHIsbSU1LG0lNyxtJTExLG0lMTMsbSUxNyxuKTt9CnNycEsociwwLDEsMiwzLDMyKTtmb3IodmFyIGo9MztqPj0wO2otLSxkYXRhT2Zmc2V0Kz00KXNldFdJbnYoZGF0YUJ5dGVzLGRhdGFPZmZzZXQscltqXSk7fQpmdW5jdGlvbiBzcnBEZWNyeXB0KGRhdGEsb2Zmc2V0KXtkYXRhQnl0ZXM9ZGF0YTtkYXRhT2Zmc2V0PW9mZnNldDt2YXIgYmxrPWRhdGFCeXRlcy5zbGljZShkYXRhT2Zmc2V0LGRhdGFPZmZzZXQrMTYpO2Jsay5yZXZlcnNlKCk7dmFyIHI9W2dldFcoYmxrLDApLGdldFcoYmxrLDQpLGdldFcoYmxrLDgpLGdldFcoYmxrLDEyKV07c3JwSyhyLDAsMSwyLDMsMzIpO3ZhciBuPTAsbT1zcnBEY1tuXTt3aGlsZShzcnBTSVs3LW4lOF0ocixtJTUsbSU3LG0lMTEsbSUxMyxtJTE3KSxuPDMxKXttPXNycERjWysrbl07c3JwS0wocixtJTUsbSU3LG0lMTEsbSUxMyxtJTE3LDMyLW4pO30Kc3JwSyhyLDIsMywxLDQsMCk7c2V0V0ludihkYXRhQnl0ZXMsZGF0YU9mZnNldCxyWzRdKTtzZXRXSW52KGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzQsclsxXSk7c2V0V0ludihkYXRhQnl0ZXMsZGF0YU9mZnNldCs4LHJbM10pO3NldFdJbnYoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrMTIsclsyXSk7ZGF0YU9mZnNldCs9MTY7fQpyZXR1cm57bmFtZToic2VycGVudCIsYmxvY2tzaXplOjEyOC84LG9wZW46c3JwSW5pdCxjbG9zZTpzcnBDbG9zZSxlbmNyeXB0OnNycEVuY3J5cHQsZGVjcnlwdDpzcnBEZWNyeXB0fTt9CkFMR09SSVRITVMuU0VSUEVOVD17Y3JlYXRlOmNyZWF0ZVNlcnBlbnR9O2Z1bmN0aW9uIGNyZWF0ZVR3b2Zpc2goKXt2YXIga2V5Qnl0ZXM9bnVsbDt2YXIgZGF0YUJ5dGVzPW51bGw7dmFyIGRhdGFPZmZzZXQ9LTE7dmFyIGFsZ29yaXRobU5hbWU9bnVsbDthbGdvcml0aG1OYW1lPSJ0d29maXNoIjt2YXIgdGZzS2V5PVtdO3ZhciB0ZnNNPVtbXSxbXSxbXSxbXV07ZnVuY3Rpb24gdGZzSW5pdChrZXkpe2tleUJ5dGVzPWtleTt2YXIgaSxhLGIsYyxkLG1lS2V5PVtdLG1vS2V5PVtdLGluS2V5PVtdO3ZhciBrTGVuO3ZhciBzS2V5PVtdO3ZhciBmMDEsZjViLGZlZjt2YXIgcTA9W1s4LDEsNywxMyw2LDE1LDMsMiwwLDExLDUsOSwxNCwxMiwxMCw0XSxbMiw4LDExLDEzLDE1LDcsNiwxNCwzLDEsOSw0LDAsMTAsMTIsNV1dO3ZhciBxMT1bWzE0LDEyLDExLDgsMSwyLDMsNSwxNSw0LDEwLDYsNywwLDksMTNdLFsxLDE0LDIsMTEsNCwxMiwzLDcsNiwxMywxMCw1LDE1LDksMCw4XV07dmFyIHEyPVtbMTEsMTAsNSwxNCw2LDEzLDksMCwxMiw4LDE1LDMsMiw0LDcsMV0sWzQsMTIsNyw1LDEsNiw5LDEwLDAsMTQsMTMsOCwyLDExLDMsMTVdXTt2YXIgcTM9W1sxMyw3LDE1LDQsMSwyLDYsMTQsOSwxMSwzLDAsOCw1LDEyLDEwXSxbMTEsOSw1LDEsMTIsMywxMywxNCw2LDQsNywxNSwyLDAsOCwxMF1dO3ZhciByb3I0PVswLDgsMSw5LDIsMTAsMywxMSw0LDEyLDUsMTMsNiwxNCw3LDE1XTt2YXIgYXNoeD1bMCw5LDIsMTEsNCwxMyw2LDE1LDgsMSwxMCwzLDEyLDUsMTQsN107dmFyIHE9W1tdLFtdXTt2YXIgbT1bW10sW10sW10sW11dO2Z1bmN0aW9uIGZmbTViKHgpe3JldHVybiB4Xih4Pj4yKV5bMCw5MCwxODAsMjM4XVt4JjNdO30KZnVuY3Rpb24gZmZtRWYoeCl7cmV0dXJuIHheKHg+PjEpXih4Pj4yKV5bMCwyMzgsMTgwLDkwXVt4JjNdO30KZnVuY3Rpb24gbWRzUmVtKHAscSl7dmFyIGksdCx1O2ZvcihpPTA7aTw4O2krKyl7dD1xPj4+MjQ7cT0oKHE8PDgpJk1BWElOVCl8cD4+PjI0O3A9KHA8PDgpJk1BWElOVDt1PXQ8PDE7aWYodCYxMjgpe3VePTMzMzt9CnFePXReKHU8PDE2KTt1Xj10Pj4+MTtpZih0JjEpe3VePTE2Njt9CnFePXU8PDI0fHU8PDg7fQpyZXR1cm4gcTt9CmZ1bmN0aW9uIHFwKG4seCl7dmFyIGEsYixjLGQ7YT14Pj40O2I9eCYxNTtjPXEwW25dW2FeYl07ZD1xMVtuXVtyb3I0W2JdXmFzaHhbYV1dO3JldHVybiBxM1tuXVtyb3I0W2RdXmFzaHhbY11dPDw0fHEyW25dW2NeZF07fQpmdW5jdGlvbiBoRnVuKHgsa2V5KXt2YXIgYT1nZXRCKHgsMCksYj1nZXRCKHgsMSksYz1nZXRCKHgsMiksZD1nZXRCKHgsMyk7c3dpdGNoKGtMZW4pe2Nhc2UgNDphPXFbMV1bYV1eZ2V0QihrZXlbM10sMCk7Yj1xWzBdW2JdXmdldEIoa2V5WzNdLDEpO2M9cVswXVtjXV5nZXRCKGtleVszXSwyKTtkPXFbMV1bZF1eZ2V0QihrZXlbM10sMyk7Y2FzZSAzOmE9cVsxXVthXV5nZXRCKGtleVsyXSwwKTtiPXFbMV1bYl1eZ2V0QihrZXlbMl0sMSk7Yz1xWzBdW2NdXmdldEIoa2V5WzJdLDIpO2Q9cVswXVtkXV5nZXRCKGtleVsyXSwzKTtjYXNlIDI6YT1xWzBdW3FbMF1bYV1eZ2V0QihrZXlbMV0sMCldXmdldEIoa2V5WzBdLDApO2I9cVswXVtxWzFdW2JdXmdldEIoa2V5WzFdLDEpXV5nZXRCKGtleVswXSwxKTtjPXFbMV1bcVswXVtjXV5nZXRCKGtleVsxXSwyKV1eZ2V0QihrZXlbMF0sMik7ZD1xWzFdW3FbMV1bZF1eZ2V0QihrZXlbMV0sMyldXmdldEIoa2V5WzBdLDMpO30KcmV0dXJuIG1bMF1bYV1ebVsxXVtiXV5tWzJdW2NdXm1bM11bZF07fQprZXlCeXRlcz1rZXlCeXRlcy5zbGljZSgwLDMyKTtpPWtleUJ5dGVzLmxlbmd0aDt3aGlsZShpIT0xNiYmaSE9MjQmJmkhPTMyKWtleUJ5dGVzW2krK109MDtmb3IoaT0wO2k8a2V5Qnl0ZXMubGVuZ3RoO2krPTQpe2luS2V5W2k+PjJdPWdldFcoa2V5Qnl0ZXMsaSk7fQpmb3IoaT0wO2k8MjU2O2krKyl7cVswXVtpXT1xcCgwLGkpO3FbMV1baV09cXAoMSxpKTt9CmZvcihpPTA7aTwyNTY7aSsrKXtmMDE9cVsxXVtpXTtmNWI9ZmZtNWIoZjAxKTtmZWY9ZmZtRWYoZjAxKTttWzBdW2ldPWYwMSsoZjViPDw4KSsoZmVmPDwxNikrKGZlZjw8MjQpO21bMl1baV09ZjViKyhmZWY8PDgpKyhmMDE8PDE2KSsoZmVmPDwyNCk7ZjAxPXFbMF1baV07ZjViPWZmbTViKGYwMSk7ZmVmPWZmbUVmKGYwMSk7bVsxXVtpXT1mZWYrKGZlZjw8OCkrKGY1Yjw8MTYpKyhmMDE8PDI0KTttWzNdW2ldPWY1YisoZjAxPDw4KSsoZmVmPDwxNikrKGY1Yjw8MjQpO30Ka0xlbj1pbktleS5sZW5ndGgvMjtmb3IoaT0wO2k8a0xlbjtpKyspe2E9aW5LZXlbaStpXTttZUtleVtpXT1hO2I9aW5LZXlbaStpKzFdO21vS2V5W2ldPWI7c0tleVtrTGVuLWktMV09bWRzUmVtKGEsYik7fQpmb3IoaT0wO2k8NDA7aSs9Mil7YT0weDEwMTAxMDEqaTtiPWErMHgxMDEwMTAxO2E9aEZ1bihhLG1lS2V5KTtiPXJvdHcoaEZ1bihiLG1vS2V5KSw4KTt0ZnNLZXlbaV09KGErYikmTUFYSU5UO3Rmc0tleVtpKzFdPXJvdHcoYSsyKmIsOSk7fQpmb3IoaT0wO2k8MjU2O2krKyl7YT1iPWM9ZD1pO3N3aXRjaChrTGVuKXtjYXNlIDQ6YT1xWzFdW2FdXmdldEIoc0tleVszXSwwKTtiPXFbMF1bYl1eZ2V0QihzS2V5WzNdLDEpO2M9cVswXVtjXV5nZXRCKHNLZXlbM10sMik7ZD1xWzFdW2RdXmdldEIoc0tleVszXSwzKTtjYXNlIDM6YT1xWzFdW2FdXmdldEIoc0tleVsyXSwwKTtiPXFbMV1bYl1eZ2V0QihzS2V5WzJdLDEpO2M9cVswXVtjXV5nZXRCKHNLZXlbMl0sMik7ZD1xWzBdW2RdXmdldEIoc0tleVsyXSwzKTtjYXNlIDI6dGZzTVswXVtpXT1tWzBdW3FbMF1bcVswXVthXV5nZXRCKHNLZXlbMV0sMCldXmdldEIoc0tleVswXSwwKV07dGZzTVsxXVtpXT1tWzFdW3FbMF1bcVsxXVtiXV5nZXRCKHNLZXlbMV0sMSldXmdldEIoc0tleVswXSwxKV07dGZzTVsyXVtpXT1tWzJdW3FbMV1bcVswXVtjXV5nZXRCKHNLZXlbMV0sMildXmdldEIoc0tleVswXSwyKV07dGZzTVszXVtpXT1tWzNdW3FbMV1bcVsxXVtkXV5nZXRCKHNLZXlbMV0sMyldXmdldEIoc0tleVswXSwzKV07fX19CmZ1bmN0aW9uIHRmc0cwKHgpe3JldHVybiB0ZnNNWzBdW2dldEIoeCwwKV1edGZzTVsxXVtnZXRCKHgsMSldXnRmc01bMl1bZ2V0Qih4LDIpXV50ZnNNWzNdW2dldEIoeCwzKV07fQpmdW5jdGlvbiB0ZnNHMSh4KXtyZXR1cm4gdGZzTVswXVtnZXRCKHgsMyldXnRmc01bMV1bZ2V0Qih4LDApXV50ZnNNWzJdW2dldEIoeCwxKV1edGZzTVszXVtnZXRCKHgsMildO30KZnVuY3Rpb24gdGZzRnJuZChyLGJsayl7dmFyIGE9dGZzRzAoYmxrWzBdKTt2YXIgYj10ZnNHMShibGtbMV0pO2Jsa1syXT1yb3R3KGJsa1syXV4oYStiK3Rmc0tleVs0KnIrOF0pJk1BWElOVCwzMSk7YmxrWzNdPXJvdHcoYmxrWzNdLDEpXihhKzIqYit0ZnNLZXlbNCpyKzldKSZNQVhJTlQ7YT10ZnNHMChibGtbMl0pO2I9dGZzRzEoYmxrWzNdKTtibGtbMF09cm90dyhibGtbMF1eKGErYit0ZnNLZXlbNCpyKzEwXSkmTUFYSU5ULDMxKTtibGtbMV09cm90dyhibGtbMV0sMSleKGErMipiK3Rmc0tleVs0KnIrMTFdKSZNQVhJTlQ7fQpmdW5jdGlvbiB0ZnNJcm5kKGksYmxrKXt2YXIgYT10ZnNHMChibGtbMF0pO3ZhciBiPXRmc0cxKGJsa1sxXSk7YmxrWzJdPXJvdHcoYmxrWzJdLDEpXihhK2IrdGZzS2V5WzQqaSsxMF0pJk1BWElOVDtibGtbM109cm90dyhibGtbM11eKGErMipiK3Rmc0tleVs0KmkrMTFdKSZNQVhJTlQsMzEpO2E9dGZzRzAoYmxrWzJdKTtiPXRmc0cxKGJsa1szXSk7YmxrWzBdPXJvdHcoYmxrWzBdLDEpXihhK2IrdGZzS2V5WzQqaSs4XSkmTUFYSU5UO2Jsa1sxXT1yb3R3KGJsa1sxXV4oYSsyKmIrdGZzS2V5WzQqaSs5XSkmTUFYSU5ULDMxKTt9CmZ1bmN0aW9uIHRmc0Nsb3NlKCl7dGZzS2V5PVtdO3Rmc009W1tdLFtdLFtdLFtdXTt9CmZ1bmN0aW9uIHRmc0VuY3J5cHQoZGF0YSxvZmZzZXQpe2RhdGFCeXRlcz1kYXRhO2RhdGFPZmZzZXQ9b2Zmc2V0O3ZhciBibGs9W2dldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQpXnRmc0tleVswXSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzQpXnRmc0tleVsxXSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzgpXnRmc0tleVsyXSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzEyKV50ZnNLZXlbM11dO2Zvcih2YXIgaj0wO2o8ODtqKyspe3Rmc0ZybmQoaixibGspO30Kc2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCxibGtbMl1edGZzS2V5WzRdKTtzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzQsYmxrWzNdXnRmc0tleVs1XSk7c2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs4LGJsa1swXV50ZnNLZXlbNl0pO3NldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrMTIsYmxrWzFdXnRmc0tleVs3XSk7ZGF0YU9mZnNldCs9MTY7fQpmdW5jdGlvbiB0ZnNEZWNyeXB0KGRhdGEsb2Zmc2V0KXtkYXRhQnl0ZXM9ZGF0YTtkYXRhT2Zmc2V0PW9mZnNldDt2YXIgYmxrPVtnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KV50ZnNLZXlbNF0sZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs0KV50ZnNLZXlbNV0sZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs4KV50ZnNLZXlbNl0sZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCsxMiledGZzS2V5WzddXTtmb3IodmFyIGo9NztqPj0wO2otLSl7dGZzSXJuZChqLGJsayk7fQpzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0LGJsa1syXV50ZnNLZXlbMF0pO3NldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrNCxibGtbM11edGZzS2V5WzFdKTtzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzgsYmxrWzBdXnRmc0tleVsyXSk7c2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCsxMixibGtbMV1edGZzS2V5WzNdKTtkYXRhT2Zmc2V0Kz0xNjt9CnJldHVybntuYW1lOiJ0d29maXNoIixibG9ja3NpemU6MTI4Lzgsb3Blbjp0ZnNJbml0LGNsb3NlOnRmc0Nsb3NlLGVuY3J5cHQ6dGZzRW5jcnlwdCxkZWNyeXB0OnRmc0RlY3J5cHR9O30KQUxHT1JJVEhNUy5UV09GSVNIPXtjcmVhdGU6Y3JlYXRlVHdvZmlzaH07dmFyIE1PREVTPXt9O2Z1bmN0aW9uIGNyZWF0ZUVDQigpe2Z1bmN0aW9uIGVuY3J5cHRPcGVuRUNCKCl7dGhpcy5hbGdvcml0aG0ub3Blbih0aGlzLmtleUJ5dGVzKTt0aGlzLmRhdGFMZW5ndGg9dGhpcy5kYXRhQnl0ZXMubGVuZ3RoO3RoaXMuZGF0YU9mZnNldD0wO3JldHVybjt9CmZ1bmN0aW9uIGVuY3J5cHRDbG9zZUVDQigpe3RoaXMuYWxnb3JpdGhtLmNsb3NlKCk7fQpmdW5jdGlvbiBlbmNyeXB0UHJvY0VDQigpe3RoaXMuYWxnb3JpdGhtLmVuY3J5cHQodGhpcy5kYXRhQnl0ZXMsdGhpcy5kYXRhT2Zmc2V0KTt0aGlzLmRhdGFPZmZzZXQrPXRoaXMuYWxnb3JpdGhtLmJsb2Nrc2l6ZTtpZih0aGlzLmRhdGFMZW5ndGg8PXRoaXMuZGF0YU9mZnNldCl7cmV0dXJuIDA7fWVsc2V7cmV0dXJuIHRoaXMuZGF0YUxlbmd0aC10aGlzLmRhdGFPZmZzZXQ7fX0KZnVuY3Rpb24gZGVjcnlwdE9wZW5FQ0IoKXt0aGlzLmFsZ29yaXRobS5vcGVuKHRoaXMua2V5Qnl0ZXMpO3RoaXMuZGF0YUxlbmd0aD10aGlzLmRhdGFCeXRlcy5sZW5ndGg7dGhpcy5kYXRhT2Zmc2V0PTA7cmV0dXJuO30KZnVuY3Rpb24gZGVjcnlwdFByb2NFQ0IoKXt0aGlzLmFsZ29yaXRobS5kZWNyeXB0KHRoaXMuZGF0YUJ5dGVzLHRoaXMuZGF0YU9mZnNldCk7dGhpcy5kYXRhT2Zmc2V0Kz10aGlzLmFsZ29yaXRobS5ibG9ja3NpemU7aWYodGhpcy5kYXRhTGVuZ3RoPD10aGlzLmRhdGFPZmZzZXQpe3JldHVybiAwO31lbHNle3JldHVybiB0aGlzLmRhdGFMZW5ndGgtdGhpcy5kYXRhT2Zmc2V0O319CmZ1bmN0aW9uIGRlY3J5cHRDbG9zZUVDQigpe3RoaXMuYWxnb3JpdGhtLmNsb3NlKCk7d2hpbGUodGhpcy5kYXRhQnl0ZXNbdGhpcy5kYXRhQnl0ZXMubGVuZ3RoLTFdPT0wKQp0aGlzLmRhdGFCeXRlcy5wb3AoKTt9CnJldHVybntlbmNyeXB0OntvcGVuOmVuY3J5cHRPcGVuRUNCLGV4ZWM6ZW5jcnlwdFByb2NFQ0IsY2xvc2U6ZW5jcnlwdENsb3NlRUNCfSxkZWNyeXB0OntvcGVuOmRlY3J5cHRPcGVuRUNCLGV4ZWM6ZGVjcnlwdFByb2NFQ0IsY2xvc2U6ZGVjcnlwdENsb3NlRUNCfX07fQpNT0RFUy5FQ0I9Y3JlYXRlRUNCKCk7ZnVuY3Rpb24gY3JlYXRlQ0JDKCl7ZnVuY3Rpb24gZW5jcnlwdE9wZW5DQkMoKXt0aGlzLmFsZ29yaXRobS5vcGVuKHRoaXMua2V5Qnl0ZXMpO3RoaXMuZGF0YUJ5dGVzLnVuc2hpZnQocmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSk7dGhpcy5kYXRhTGVuZ3RoPXRoaXMuZGF0YUJ5dGVzLmxlbmd0aDt0aGlzLmRhdGFPZmZzZXQ9MTY7cmV0dXJuO30KZnVuY3Rpb24gZW5jcnlwdFByb2NDQkMoKXtmb3IodmFyIGlkeDI9dGhpcy5kYXRhT2Zmc2V0O2lkeDI8dGhpcy5kYXRhT2Zmc2V0KzE2O2lkeDIrKykKdGhpcy5kYXRhQnl0ZXNbaWR4Ml1ePXRoaXMuZGF0YUJ5dGVzW2lkeDItMTZdO3RoaXMuYWxnb3JpdGhtLmVuY3J5cHQodGhpcy5kYXRhQnl0ZXMsdGhpcy5kYXRhT2Zmc2V0KTt0aGlzLmRhdGFPZmZzZXQrPXRoaXMuYWxnb3JpdGhtLmJsb2Nrc2l6ZTtpZih0aGlzLmRhdGFMZW5ndGg8PXRoaXMuZGF0YU9mZnNldCl7cmV0dXJuIDA7fWVsc2V7cmV0dXJuIHRoaXMuZGF0YUxlbmd0aC10aGlzLmRhdGFPZmZzZXQ7fX0KZnVuY3Rpb24gZW5jcnlwdENsb3NlQ0JDKCl7dGhpcy5hbGdvcml0aG0uY2xvc2UoKTt9CmZ1bmN0aW9uIGRlY3J5cHRPcGVuQ0JDKCl7dGhpcy5hbGdvcml0aG0ub3Blbih0aGlzLmtleUJ5dGVzKTt0aGlzLmRhdGFMZW5ndGg9dGhpcy5kYXRhQnl0ZXMubGVuZ3RoO3RoaXMuZGF0YU9mZnNldD0xNjt0aGlzLml2PXRoaXMuZGF0YUJ5dGVzLnNsaWNlKDAsMTYpO3JldHVybjt9CmZ1bmN0aW9uIGRlY3J5cHRQcm9jQ0JDKCl7dmFyIGl2Mj10aGlzLmRhdGFCeXRlcy5zbGljZSh0aGlzLmRhdGFPZmZzZXQsdGhpcy5kYXRhT2Zmc2V0KzE2KTt0aGlzLmFsZ29yaXRobS5kZWNyeXB0KHRoaXMuZGF0YUJ5dGVzLHRoaXMuZGF0YU9mZnNldCk7Zm9yKHZhciBpaT0wO2lpPDE2O2lpKyspCnRoaXMuZGF0YUJ5dGVzW3RoaXMuZGF0YU9mZnNldCtpaV1ePXRoaXMuaXZbaWldO3RoaXMuZGF0YU9mZnNldCs9dGhpcy5hbGdvcml0aG0uYmxvY2tzaXplO3RoaXMuaXY9aXYyO2lmKHRoaXMuZGF0YUxlbmd0aDw9dGhpcy5kYXRhT2Zmc2V0KXtyZXR1cm4gMDt9ZWxzZXtyZXR1cm4gdGhpcy5kYXRhTGVuZ3RoLXRoaXMuZGF0YU9mZnNldDt9fQpmdW5jdGlvbiBkZWNyeXB0Q2xvc2VDQkMoKXt0aGlzLmFsZ29yaXRobS5jbG9zZSgpO3RoaXMuZGF0YUJ5dGVzLnNwbGljZSgwLDE2KTt3aGlsZSh0aGlzLmRhdGFCeXRlc1t0aGlzLmRhdGFCeXRlcy5sZW5ndGgtMV09PTApCnRoaXMuZGF0YUJ5dGVzLnBvcCgpO30KcmV0dXJue2VuY3J5cHQ6e29wZW46ZW5jcnlwdE9wZW5DQkMsZXhlYzplbmNyeXB0UHJvY0NCQyxjbG9zZTplbmNyeXB0Q2xvc2VDQkN9LGRlY3J5cHQ6e29wZW46ZGVjcnlwdE9wZW5DQkMsZXhlYzpkZWNyeXB0UHJvY0NCQyxjbG9zZTpkZWNyeXB0Q2xvc2VDQkN9fTt9Ck1PREVTLkNCQz1jcmVhdGVDQkMoKTtmdW5jdGlvbiBjcmVhdGVDRkIoKXtmdW5jdGlvbiBlbmNyeXB0T3BlbkNGQigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZW5jcnlwdFByb2NDRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGVuY3J5cHRDbG9zZUNGQigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZGVjcnlwdE9wZW5DRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGRlY3J5cHRQcm9jQ0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBkZWNyeXB0Q2xvc2VDRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CnJldHVybntlbmNyeXB0OntvcGVuOmVuY3J5cHRPcGVuQ0ZCLGV4ZWM6ZW5jcnlwdFByb2NDRkIsY2xvc2U6ZW5jcnlwdENsb3NlQ0ZCfSxkZWNyeXB0OntvcGVuOmRlY3J5cHRPcGVuQ0ZCLGV4ZWM6ZGVjcnlwdFByb2NDRkIsY2xvc2U6ZGVjcnlwdENsb3NlQ0ZCfX07fQpNT0RFUy5DRkI9Y3JlYXRlQ0ZCKCk7ZnVuY3Rpb24gY3JlYXRlT0ZCKCl7ZnVuY3Rpb24gZW5jcnlwdE9wZW5PRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGVuY3J5cHRQcm9jT0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBlbmNyeXB0Q2xvc2VPRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGRlY3J5cHRPcGVuT0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBkZWNyeXB0UHJvY09GQigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZGVjcnlwdENsb3NlT0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpyZXR1cm57ZW5jcnlwdDp7b3BlbjplbmNyeXB0T3Blbk9GQixleGVjOmVuY3J5cHRQcm9jT0ZCLGNsb3NlOmVuY3J5cHRDbG9zZU9GQn0sZGVjcnlwdDp7b3BlbjpkZWNyeXB0T3Blbk9GQixleGVjOmRlY3J5cHRQcm9jT0ZCLGNsb3NlOmRlY3J5cHRDbG9zZU9GQn19O30KTU9ERVMuT0ZCPWNyZWF0ZU9GQigpO2Z1bmN0aW9uIGNyZWF0ZUNUUigpe2Z1bmN0aW9uIGVuY3J5cHRPcGVuQ1RSKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBlbmNyeXB0UHJvY0NUUigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZW5jcnlwdENsb3NlQ1RSKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBkZWNyeXB0T3BlbkNUUigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZGVjcnlwdFByb2NDVFIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGRlY3J5cHRDbG9zZUNUUigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KcmV0dXJue2VuY3J5cHQ6e29wZW46ZW5jcnlwdE9wZW5DVFIsZXhlYzplbmNyeXB0UHJvY0NUUixjbG9zZTplbmNyeXB0Q2xvc2VDVFJ9LGRlY3J5cHQ6e29wZW46ZGVjcnlwdE9wZW5DVFIsZXhlYzpkZWNyeXB0UHJvY0NUUixjbG9zZTpkZWNyeXB0Q2xvc2VDVFJ9fTt9Ck1PREVTLkNUUj1jcmVhdGVDVFIoKTt2YXIgUEFERElOR1M9e307ZnVuY3Rpb24gY3JlYXRlUkZDMTMyMSgpe2Z1bmN0aW9uIGFwcGVuZFBhZGRpbmdSRkMxMzIxKGRhdGEpe3ZhciBsZW49MTYtKGRhdGEubGVuZ3RoJTE2KTtkYXRhLnB1c2goMHg4MCk7Zm9yKHZhciBpPTE7aTxsZW47aSsrKXtkYXRhLnB1c2goMHgwMCk7fQpyZXR1cm4gZGF0YTt9CmZ1bmN0aW9uIHJlbW92ZVBhZGRpbmdSRkMxMzIxKGRhdGEpe2Zvcih2YXIgaT1kYXRhLmxlbmd0aC0xOzA8PWk7aS0tKXt2YXIgdmFsPWRhdGFbaV07aWYodmFsPT0weDgwKXtkYXRhLnNwbGljZShpKTticmVhazt9ZWxzZSBpZih2YWwhPTB4MDApe2JyZWFrO319CnJldHVybiBkYXRhO30KcmV0dXJue2FwcGVuZDphcHBlbmRQYWRkaW5nUkZDMTMyMSxyZW1vdmU6cmVtb3ZlUGFkZGluZ1JGQzEzMjF9O307UEFERElOR1MuUkZDMTMyMT1jcmVhdGVSRkMxMzIxKCk7ZnVuY3Rpb24gY3JlYXRlQU5TSVg5MjMoKXtmdW5jdGlvbiBhcHBlbmRQYWRkaW5nQU5TSVg5MjMoZGF0YSl7dmFyIGxlbj0xNi0oZGF0YS5sZW5ndGglMTYpO2Zvcih2YXIgaT0wO2k8bGVuLTE7aSsrKXtkYXRhLnB1c2goMHgwMCk7fQpkYXRhLnB1c2gobGVuKTtyZXR1cm4gZGF0YTt9CmZ1bmN0aW9uIHJlbW92ZVBhZGRpbmdBTlNJWDkyMyhkYXRhKXt2YXIgbGVuPWRhdGEucG9wKCk7aWYoMTY8bGVuKWxlbj0xNjtmb3IodmFyIGk9MTtpPGxlbjtpKyspe2RhdGEucG9wKCk7fQpyZXR1cm4gZGF0YTt9CnJldHVybnthcHBlbmQ6YXBwZW5kUGFkZGluZ0FOU0lYOTIzLHJlbW92ZTpyZW1vdmVQYWRkaW5nQU5TSVg5MjN9O30KUEFERElOR1MuQU5TSVg5MjM9Y3JlYXRlQU5TSVg5MjMoKTtmdW5jdGlvbiBjcmVhdGVJU08xMDEyNigpe2Z1bmN0aW9uIGFwcGVuZFBhZGRpbmdJU08xMDEyNihkYXRhKXt2YXIgbGVuPTE2LShkYXRhLmxlbmd0aCUxNik7Zm9yKHZhciBpPTA7aTxsZW4tMTtpKyspe2RhdGEucHVzaChyYW5kQnl0ZSgpKTt9CmRhdGEucHVzaChsZW4pO3JldHVybiBkYXRhO30KZnVuY3Rpb24gcmVtb3ZlUGFkZGluZ0lTTzEwMTI2KGRhdGEpe3ZhciBsZW49ZGF0YS5wb3AoKTtpZigxNjxsZW4pbGVuPTE2O2Zvcih2YXIgaT0xO2k8bGVuO2krKyl7ZGF0YS5wb3AoKTt9CnJldHVybiBkYXRhO30KcmV0dXJue2FwcGVuZDphcHBlbmRQYWRkaW5nSVNPMTAxMjYscmVtb3ZlOnJlbW92ZVBhZGRpbmdJU08xMDEyNn07fQpQQURESU5HUy5JU08xMDEyNj1jcmVhdGVJU08xMDEyNigpO2Z1bmN0aW9uIGNyZWF0ZVBLQ1M3KCl7ZnVuY3Rpb24gYXBwZW5kUGFkZGluZ1BLQ1M3KGRhdGEpe3ZhciBsZW49MTYtKGRhdGEubGVuZ3RoJTE2KTtmb3IodmFyIGk9MDtpPGxlbjtpKyspe2RhdGEucHVzaChsZW4pO30KcmV0dXJuIGRhdGE7fQpmdW5jdGlvbiByZW1vdmVQYWRkaW5nUEtDUzcoZGF0YSl7dmFyIGxlbj1kYXRhLnBvcCgpO2lmKDE2PGxlbilsZW49MDtmb3IodmFyIGk9MTtpPGxlbjtpKyspe2RhdGEucG9wKCk7fQpyZXR1cm4gZGF0YTt9CnJldHVybnthcHBlbmQ6YXBwZW5kUGFkZGluZ1BLQ1M3LHJlbW92ZTpyZW1vdmVQYWRkaW5nUEtDUzd9O30KUEFERElOR1MuUEtDUzc9Y3JlYXRlUEtDUzcoKTtmdW5jdGlvbiBjcmVhdGVOb1BhZGRpbmcoKXtmdW5jdGlvbiBhcHBlbmRQYWRkaW5nTm9uZShkYXRhKXtyZXR1cm4gZGF0YTt9CmZ1bmN0aW9uIHJlbW92ZVBhZGRpbmdOb25lKGRhdGEpe3JldHVybiBkYXRhO30KcmV0dXJue2FwcGVuZDphcHBlbmRQYWRkaW5nTm9uZSxyZW1vdmU6cmVtb3ZlUGFkZGluZ05vbmV9O30KUEFERElOR1MuTk9fUEFERElORz1jcmVhdGVOb1BhZGRpbmcoKTt2YXIgRElSRUNUSU9OUz17RU5DUllQVDoiZW5jcnlwdCIsREVDUllQVDoiZGVjcnlwdCJ9O2Z1bmN0aW9uIENpcGhlcihhbGdvcml0aG0sZGlyZWN0aW9uLG1vZGUscGFkZGluZyl7dGhpcy5hbGdvcml0aG09YWxnb3JpdGhtO3RoaXMuZGlyZWN0aW9uPWRpcmVjdGlvbjt0aGlzLm1vZGU9bW9kZTt0aGlzLnBhZGRpbmc9cGFkZGluZzt0aGlzLm1vZGVPcGVuPW1vZGVbZGlyZWN0aW9uXS5vcGVuO3RoaXMubW9kZUV4ZWM9bW9kZVtkaXJlY3Rpb25dLmV4ZWM7dGhpcy5tb2RlQ2xvc2U9bW9kZVtkaXJlY3Rpb25dLmNsb3NlO3RoaXMua2V5Qnl0ZXM9bnVsbDt0aGlzLmRhdGFCeXRlcz1udWxsO3RoaXMuZGF0YU9mZnNldD0tMTt0aGlzLmRhdGFMZW5ndGg9LTE7fQpDaXBoZXIucHJvdG90eXBlPW5ldyBPYmplY3QoKTtDaXBoZXIucHJvdG90eXBlLmluaGVyaXQ9Q2lwaGVyO2Z1bmN0aW9uIG9wZW4oa2V5Qnl0ZXMsZGF0YUJ5dGVzKXtpZihrZXlCeXRlcz09bnVsbCl0aHJvdyJrZXlCeXRlcyBpcyBudWxsIjtpZihkYXRhQnl0ZXM9PW51bGwpdGhyb3ciZGF0YUJ5dGVzIGlzIG51bGwiO3RoaXMua2V5Qnl0ZXM9a2V5Qnl0ZXMuY29uY2F0KCk7dGhpcy5kYXRhQnl0ZXM9ZGF0YUJ5dGVzO3RoaXMuZGF0YU9mZnNldD0wO3RoaXMuZGF0YUxlbmd0aD1kYXRhQnl0ZXMubGVuZ3RoO2lmKHRoaXMuZGlyZWN0aW9uPT1ESVJFQ1RJT05TLkVOQ1JZUFQpe3RoaXMucGFkZGluZy5hcHBlbmQodGhpcy5kYXRhQnl0ZXMpO30KdGhpcy5tb2RlT3BlbigpO30KZnVuY3Rpb24gb3BlcmF0ZSgpe3JldHVybiB0aGlzLm1vZGVFeGVjKCk7fQpmdW5jdGlvbiBjbG9zZSgpe3RoaXMubW9kZUNsb3NlKCk7aWYodGhpcy5kaXJlY3Rpb249PURJUkVDVElPTlMuREVDUllQVCl7dGhpcy5wYWRkaW5nLnJlbW92ZSh0aGlzLmRhdGFCeXRlcyk7fQpyZXR1cm4gdGhpcy5kYXRhQnl0ZXM7fQpmdW5jdGlvbiBleGVjdXRlKGtleUJ5dGVzLGRhdGFCeXRlcyl7dGhpcy5vcGVuKGtleUJ5dGVzLGRhdGFCeXRlcyk7Zm9yKDs7KXt2YXIgc2l6ZT10aGlzLm9wZXJhdGUoKTtpZigwPHNpemUpe2NvbnRpbnVlO31lbHNle2JyZWFrO319CnJldHVybiB0aGlzLmNsb3NlKCk7fQpDaXBoZXIucHJvdG90eXBlLm9wZW49b3BlbjtDaXBoZXIucHJvdG90eXBlLmNsb3NlPWNsb3NlO0NpcGhlci5wcm90b3R5cGUub3BlcmF0ZT1vcGVyYXRlO0NpcGhlci5wcm90b3R5cGUuZXhlY3V0ZT1leGVjdXRlO0NpcGhlci5FTkNSWVBUPSJFTkNSWVBUIjtDaXBoZXIuREVDUllQVD0iREVDUllQVCI7Q2lwaGVyLlJJSk5EQUVMPSJSSUpOREFFTCI7Q2lwaGVyLlNFUlBFTlQ9IlNFUlBFTlQiO0NpcGhlci5UV09GSVNIPSJUV09GSVNIIjtDaXBoZXIuRUNCPSJFQ0IiO0NpcGhlci5DQkM9IkNCQyI7Q2lwaGVyLkNGQj0iQ0ZCIjtDaXBoZXIuT0ZCPSJPRkIiO0NpcGhlci5DVFI9IkNUUiI7Q2lwaGVyLlJGQzEzMjE9IlJGQzEzMjEiO0NpcGhlci5BTlNJWDkyMz0iQU5TSVg5MjMiO0NpcGhlci5JU08xMDEyNj0iSVNPMTAxMjYiO0NpcGhlci5QS0NTNz0iUEtDUzciO0NpcGhlci5OT19QQURESU5HPSJOT19QQURESU5HIjtDaXBoZXIuY3JlYXRlPWZ1bmN0aW9uKGFsZ29yaXRobU5hbWUsZGlyZWN0aW9uTmFtZSxtb2RlTmFtZSxwYWRkaW5nTmFtZSl7aWYoYWxnb3JpdGhtTmFtZT09bnVsbClhbGdvcml0aG1OYW1lPUNpcGhlci5SSUpOREFFTDtpZihkaXJlY3Rpb25OYW1lPT1udWxsKWRpcmVjdGlvbk5hbWU9Q2lwaGVyLkVOQ1JZUFQ7aWYobW9kZU5hbWU9PW51bGwpbW9kZU5hbWU9Q2lwaGVyLkNCQztpZihwYWRkaW5nTmFtZT09bnVsbClwYWRkaW5nTmFtZT1DaXBoZXIuUEtDUzc7dmFyIGFsZ29yaXRobT1BTEdPUklUSE1TW2FsZ29yaXRobU5hbWVdO3ZhciBkaXJlY3Rpb249RElSRUNUSU9OU1tkaXJlY3Rpb25OYW1lXTt2YXIgbW9kZT1NT0RFU1ttb2RlTmFtZV07dmFyIHBhZGRpbmc9UEFERElOR1NbcGFkZGluZ05hbWVdO2lmKGFsZ29yaXRobT09bnVsbCl0aHJvdyJJbnZhbGlkIGFsZ29yaXRobSBuYW1lICciK2FsZ29yaXRobU5hbWUrIicuIjtpZihkaXJlY3Rpb249PW51bGwpdGhyb3ciSW52YWxpZCBkaXJlY3Rpb24gbmFtZSAnIitkaXJlY3Rpb25OYW1lKyInLiI7aWYobW9kZT09bnVsbCl0aHJvdyJJbnZhbGlkIG1vZGUgbmFtZSAnIittb2RlTmFtZSsiJy4iO2lmKHBhZGRpbmc9PW51bGwpdGhyb3ciSW52YWxpZCBwYWRkaW5nIG5hbWUgJyIrcGFkZGluZ05hbWUrIicuIjtyZXR1cm4gbmV3IENpcGhlcihhbGdvcml0aG0uY3JlYXRlKCksZGlyZWN0aW9uLG1vZGUscGFkZGluZyk7fTtDaXBoZXIuYWxnb3JpdGhtPWZ1bmN0aW9uKGFsZ29yaXRobU5hbWUpe2lmKGFsZ29yaXRobU5hbWU9PW51bGwpdGhyb3ciTnVsbCBQb2ludGVyIEV4Y2VwdGlvbiAoIGFsZ29yaXRobU5hbWUgKSI7dmFyIGFsZ29yaXRobT1BTEdPUklUSE1TW2FsZ29yaXRobU5hbWVdO2lmKGFsZ29yaXRobT09bnVsbCl0aHJvdyJJbnZhbGlkIGFsZ29yaXRobSBuYW1lICciK2FsZ29yaXRobU5hbWUrIicuIjtyZXR1cm4gYWxnb3JpdGhtLmNyZWF0ZSgpO30KX19DcnlwdG8uX19leHBvcnQocGFja2FnZVJvb3QsInRpdGFuaXVtY29yZS5jcnlwdG8uQ2lwaGVyIixDaXBoZXIpO30KaW5pdEJsb2NrQ2lwaGVyKF9fQ3J5cHRvKTtmdW5jdGlvbiBpbml0Uk5HKHBhY2thZ2VzKXtfX0NyeXB0by5fX3VuaXQoIlNlY3VyZVJhbmRvbS5qcyIpO19fQ3J5cHRvLl9fdXNlcygicGFja2FnZXMuanMiKTt2YXIgQXJjZm91cj1mdW5jdGlvbigpe3RoaXMuaT0wO3RoaXMuaj0wO3RoaXMuUz1uZXcgQXJyYXkoKTt9O0FyY2ZvdXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oa2V5KXt2YXIgaSxqLHQ7Zm9yKGk9MDtpPDI1NjsrK2kpCnRoaXMuU1tpXT1pO2o9MDtmb3IoaT0wO2k8MjU2OysraSl7aj0oait0aGlzLlNbaV0ra2V5W2kla2V5Lmxlbmd0aF0pJjI1NTt0PXRoaXMuU1tpXTt0aGlzLlNbaV09dGhpcy5TW2pdO3RoaXMuU1tqXT10O30KdGhpcy5pPTA7dGhpcy5qPTA7fTtBcmNmb3VyLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5pPSh0aGlzLmkrMSkmMjU1O3RoaXMuaj0odGhpcy5qK3RoaXMuU1t0aGlzLmldKSYyNTU7dD10aGlzLlNbdGhpcy5pXTt0aGlzLlNbdGhpcy5pXT10aGlzLlNbdGhpcy5qXTt0aGlzLlNbdGhpcy5qXT10O3JldHVybiB0aGlzLlNbKHQrdGhpcy5TW3RoaXMuaV0pJjI1NV07fTtBcmNmb3VyLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQXJjZm91cigpO307QXJjZm91ci5ybmdfcHNpemU9MjU2O3ZhciBybmdfc3RhdGU9bnVsbDt2YXIgcm5nX3Bvb2w9W107dmFyIHJuZ19wcHRyPTA7cm5nX3NlZWRfaW50PWZ1bmN0aW9uKHgpe3JuZ19wb29sW3JuZ19wcHRyXV49eCYyNTU7cm5nX3BwdHIrKztybmdfcG9vbFtybmdfcHB0cl1ePSh4Pj44KSYyNTU7cm5nX3BwdHIrKztybmdfcG9vbFtybmdfcHB0cl1ePSh4Pj4xNikmMjU1O3JuZ19wcHRyKys7cm5nX3Bvb2xbcm5nX3BwdHJdXj0oeD4+MjQpJjI1NTtybmdfcHB0cisrO2lmKHJuZ19wcHRyPj1BcmNmb3VyLnJuZ19wc2l6ZSlybmdfcHB0ci09QXJjZm91ci5ybmdfcHNpemU7fTtybmdfc2VlZF90aW1lPWZ1bmN0aW9uKCl7cm5nX3NlZWRfaW50KG5ldyBEYXRlKCkuZ2V0VGltZSgpKTt9O3Bvb2xfaW5pdD1mdW5jdGlvbigpe3ZhciB0O3doaWxlKHJuZ19wcHRyPEFyY2ZvdXIucm5nX3BzaXplKXt0PU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSk7cm5nX3Bvb2xbcm5nX3BwdHIrK109dD4+Pjg7cm5nX3Bvb2xbcm5nX3BwdHIrK109dCYyNTU7fQpybmdfcHB0cj0wO3JuZ19zZWVkX3RpbWUoKTt9O3ZhciBybmdfZ2V0X2J5dGU9ZnVuY3Rpb24oKXtpZihybmdfc3RhdGU9PW51bGwpe3JuZ19zZWVkX3RpbWUoKTtybmdfc3RhdGU9QXJjZm91ci5jcmVhdGUoKTtybmdfc3RhdGUuaW5pdChybmdfcG9vbCk7Zm9yKHJuZ19wcHRyPTA7cm5nX3BwdHI8cm5nX3Bvb2wubGVuZ3RoOysrcm5nX3BwdHIpCnJuZ19wb29sW3JuZ19wcHRyXT0wO3JuZ19wcHRyPTA7fQpyZXR1cm4gcm5nX3N0YXRlLm5leHQoKTt9O3ZhciBTZWN1cmVSYW5kb209ZnVuY3Rpb24oKXt9O1NlY3VyZVJhbmRvbS5wcm90b3R5cGUubmV4dEJ5dGVzPWZ1bmN0aW9uKGJhKXtmb3IodmFyIGk9MDtpPGJhLmxlbmd0aDsrK2kpCmJhW2ldPXJuZ19nZXRfYnl0ZSgpO307cG9vbF9pbml0KCk7X19DcnlwdG8uX19leHBvcnQocGFja2FnZXMsInRpdGFuaXVtY29yZS5jcnlwdG8uU2VjdXJlUmFuZG9tIixTZWN1cmVSYW5kb20pO307aW5pdFJORyhfX0NyeXB0byk7dmFyIGhleGNhc2U9MDt2YXIgYjY0cGFkPSIiO2Z1bmN0aW9uIGhleF9tZDUocyl7cmV0dXJuIHJzdHIyaGV4KHJzdHJfbWQ1KHN0cjJyc3RyX3V0ZjgocykpKTt9CmZ1bmN0aW9uIGI2NF9tZDUocyl7cmV0dXJuIHJzdHIyYjY0KHJzdHJfbWQ1KHN0cjJyc3RyX3V0ZjgocykpKTt9CmZ1bmN0aW9uIGFueV9tZDUocyxlKXtyZXR1cm4gcnN0cjJhbnkocnN0cl9tZDUoc3RyMnJzdHJfdXRmOChzKSksZSk7fQpmdW5jdGlvbiBoZXhfaG1hY19tZDUoayxkKQp7cmV0dXJuIHJzdHIyaGV4KHJzdHJfaG1hY19tZDUoc3RyMnJzdHJfdXRmOChrKSxzdHIycnN0cl91dGY4KGQpKSk7fQpmdW5jdGlvbiBiNjRfaG1hY19tZDUoayxkKQp7cmV0dXJuIHJzdHIyYjY0KHJzdHJfaG1hY19tZDUoc3RyMnJzdHJfdXRmOChrKSxzdHIycnN0cl91dGY4KGQpKSk7fQpmdW5jdGlvbiBhbnlfaG1hY19tZDUoayxkLGUpCntyZXR1cm4gcnN0cjJhbnkocnN0cl9obWFjX21kNShzdHIycnN0cl91dGY4KGspLHN0cjJyc3RyX3V0ZjgoZCkpLGUpO30KZnVuY3Rpb24gbWQ1X3ZtX3Rlc3QoKQp7cmV0dXJuIGhleF9tZDUoImFiYyIpLnRvTG93ZXJDYXNlKCk9PSI5MDAxNTA5ODNjZDI0ZmIwZDY5NjNmN2QyOGUxN2Y3MiI7fQpmdW5jdGlvbiByc3RyX21kNShzKQp7cmV0dXJuIGJpbmwycnN0cihiaW5sX21kNShyc3RyMmJpbmwocykscy5sZW5ndGgqOCkpO30KZnVuY3Rpb24gcnN0cl9obWFjX21kNShrZXksZGF0YSkKe3ZhciBia2V5PXJzdHIyYmlubChrZXkpO2lmKGJrZXkubGVuZ3RoPjE2KWJrZXk9YmlubF9tZDUoYmtleSxrZXkubGVuZ3RoKjgpO3ZhciBpcGFkPUFycmF5KDE2KSxvcGFkPUFycmF5KDE2KTtmb3IodmFyIGk9MDtpPDE2O2krKykKe2lwYWRbaV09YmtleVtpXV4weDM2MzYzNjM2O29wYWRbaV09YmtleVtpXV4weDVDNUM1QzVDO30KdmFyIGhhc2g9YmlubF9tZDUoaXBhZC5jb25jYXQocnN0cjJiaW5sKGRhdGEpKSw1MTIrZGF0YS5sZW5ndGgqOCk7cmV0dXJuIGJpbmwycnN0cihiaW5sX21kNShvcGFkLmNvbmNhdChoYXNoKSw1MTIrMTI4KSk7fQpmdW5jdGlvbiByc3RyMmhleChpbnB1dCkKe3RyeXtoZXhjYXNlfWNhdGNoKGUpe2hleGNhc2U9MDt9CnZhciBoZXhfdGFiPWhleGNhc2U/IjAxMjM0NTY3ODlBQkNERUYiOiIwMTIzNDU2Nzg5YWJjZGVmIjt2YXIgb3V0cHV0PSIiO3ZhciB4O2Zvcih2YXIgaT0wO2k8aW5wdXQubGVuZ3RoO2krKykKe3g9aW5wdXQuY2hhckNvZGVBdChpKTtvdXRwdXQrPWhleF90YWIuY2hhckF0KCh4Pj4+NCkmMHgwRikKK2hleF90YWIuY2hhckF0KHgmMHgwRik7fQpyZXR1cm4gb3V0cHV0O30KZnVuY3Rpb24gcnN0cjJiNjQoaW5wdXQpCnt0cnl7YjY0cGFkfWNhdGNoKGUpe2I2NHBhZD0nJzt9CnZhciB0YWI9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iO3ZhciBvdXRwdXQ9IiI7dmFyIGxlbj1pbnB1dC5sZW5ndGg7Zm9yKHZhciBpPTA7aTxsZW47aSs9MykKe3ZhciB0cmlwbGV0PShpbnB1dC5jaGFyQ29kZUF0KGkpPDwxNil8KGkrMTxsZW4/aW5wdXQuY2hhckNvZGVBdChpKzEpPDw4OjApfChpKzI8bGVuP2lucHV0LmNoYXJDb2RlQXQoaSsyKTowKTtmb3IodmFyIGo9MDtqPDQ7aisrKQp7aWYoaSo4K2oqNj5pbnB1dC5sZW5ndGgqOClvdXRwdXQrPWI2NHBhZDtlbHNlIG91dHB1dCs9dGFiLmNoYXJBdCgodHJpcGxldD4+PjYqKDMtaikpJjB4M0YpO319CnJldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiByc3RyMmFueShpbnB1dCxlbmNvZGluZykKe3ZhciBkaXZpc29yPWVuY29kaW5nLmxlbmd0aDt2YXIgaSxqLHEseCxxdW90aWVudDt2YXIgZGl2aWRlbmQ9QXJyYXkoTWF0aC5jZWlsKGlucHV0Lmxlbmd0aC8yKSk7Zm9yKGk9MDtpPGRpdmlkZW5kLmxlbmd0aDtpKyspCntkaXZpZGVuZFtpXT0oaW5wdXQuY2hhckNvZGVBdChpKjIpPDw4KXxpbnB1dC5jaGFyQ29kZUF0KGkqMisxKTt9CnZhciBmdWxsX2xlbmd0aD1NYXRoLmNlaWwoaW5wdXQubGVuZ3RoKjgvKE1hdGgubG9nKGVuY29kaW5nLmxlbmd0aCkvTWF0aC5sb2coMikpKTt2YXIgcmVtYWluZGVycz1BcnJheShmdWxsX2xlbmd0aCk7Zm9yKGo9MDtqPGZ1bGxfbGVuZ3RoO2orKykKe3F1b3RpZW50PUFycmF5KCk7eD0wO2ZvcihpPTA7aTxkaXZpZGVuZC5sZW5ndGg7aSsrKQp7eD0oeDw8MTYpK2RpdmlkZW5kW2ldO3E9TWF0aC5mbG9vcih4L2Rpdmlzb3IpO3gtPXEqZGl2aXNvcjtpZihxdW90aWVudC5sZW5ndGg+MHx8cT4wKQpxdW90aWVudFtxdW90aWVudC5sZW5ndGhdPXE7fQpyZW1haW5kZXJzW2pdPXg7ZGl2aWRlbmQ9cXVvdGllbnQ7fQp2YXIgb3V0cHV0PSIiO2ZvcihpPXJlbWFpbmRlcnMubGVuZ3RoLTE7aT49MDtpLS0pCm91dHB1dCs9ZW5jb2RpbmcuY2hhckF0KHJlbWFpbmRlcnNbaV0pO3JldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBzdHIycnN0cl91dGY4KGlucHV0KQp7dmFyIG91dHB1dD0iIjt2YXIgaT0tMTt2YXIgeCx5O3doaWxlKCsraTxpbnB1dC5sZW5ndGgpCnt4PWlucHV0LmNoYXJDb2RlQXQoaSk7eT1pKzE8aW5wdXQubGVuZ3RoP2lucHV0LmNoYXJDb2RlQXQoaSsxKTowO2lmKDB4RDgwMDw9eCYmeDw9MHhEQkZGJiYweERDMDA8PXkmJnk8PTB4REZGRikKe3g9MHgxMDAwMCsoKHgmMHgwM0ZGKTw8MTApKyh5JjB4MDNGRik7aSsrO30KaWYoeDw9MHg3RikKb3V0cHV0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHgpO2Vsc2UgaWYoeDw9MHg3RkYpCm91dHB1dCs9U3RyaW5nLmZyb21DaGFyQ29kZSgweEMwfCgoeD4+PjYpJjB4MUYpLDB4ODB8KHgmMHgzRikpO2Vsc2UgaWYoeDw9MHhGRkZGKQpvdXRwdXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMHhFMHwoKHg+Pj4xMikmMHgwRiksMHg4MHwoKHg+Pj42KSYweDNGKSwweDgwfCh4JjB4M0YpKTtlbHNlIGlmKHg8PTB4MUZGRkZGKQpvdXRwdXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMHhGMHwoKHg+Pj4xOCkmMHgwNyksMHg4MHwoKHg+Pj4xMikmMHgzRiksMHg4MHwoKHg+Pj42KSYweDNGKSwweDgwfCh4JjB4M0YpKTt9CnJldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBzdHIycnN0cl91dGYxNmxlKGlucHV0KQp7dmFyIG91dHB1dD0iIjtmb3IodmFyIGk9MDtpPGlucHV0Lmxlbmd0aDtpKyspCm91dHB1dCs9U3RyaW5nLmZyb21DaGFyQ29kZShpbnB1dC5jaGFyQ29kZUF0KGkpJjB4RkYsKGlucHV0LmNoYXJDb2RlQXQoaSk+Pj44KSYweEZGKTtyZXR1cm4gb3V0cHV0O30KZnVuY3Rpb24gc3RyMnJzdHJfdXRmMTZiZShpbnB1dCkKe3ZhciBvdXRwdXQ9IiI7Zm9yKHZhciBpPTA7aTxpbnB1dC5sZW5ndGg7aSsrKQpvdXRwdXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKGlucHV0LmNoYXJDb2RlQXQoaSk+Pj44KSYweEZGLGlucHV0LmNoYXJDb2RlQXQoaSkmMHhGRik7cmV0dXJuIG91dHB1dDt9CmZ1bmN0aW9uIHJzdHIyYmlubChpbnB1dCkKe3ZhciBvdXRwdXQ9QXJyYXkoaW5wdXQubGVuZ3RoPj4yKTtmb3IodmFyIGk9MDtpPG91dHB1dC5sZW5ndGg7aSsrKQpvdXRwdXRbaV09MDtmb3IodmFyIGk9MDtpPGlucHV0Lmxlbmd0aCo4O2krPTgpCm91dHB1dFtpPj41XXw9KGlucHV0LmNoYXJDb2RlQXQoaS84KSYweEZGKTw8KGklMzIpO3JldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBiaW5sMnJzdHIoaW5wdXQpCnt2YXIgb3V0cHV0PSIiO2Zvcih2YXIgaT0wO2k8aW5wdXQubGVuZ3RoKjMyO2krPTgpCm91dHB1dCs9U3RyaW5nLmZyb21DaGFyQ29kZSgoaW5wdXRbaT4+NV0+Pj4oaSUzMikpJjB4RkYpO3JldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBiaW5sX21kNSh4LGxlbikKe3hbbGVuPj41XXw9MHg4MDw8KChsZW4pJTMyKTt4WygoKGxlbis2NCk+Pj45KTw8NCkrMTRdPWxlbjt2YXIgYT0xNzMyNTg0MTkzO3ZhciBiPS0yNzE3MzM4Nzk7dmFyIGM9LTE3MzI1ODQxOTQ7dmFyIGQ9MjcxNzMzODc4O2Zvcih2YXIgaT0wO2k8eC5sZW5ndGg7aSs9MTYpCnt2YXIgb2xkYT1hO3ZhciBvbGRiPWI7dmFyIG9sZGM9Yzt2YXIgb2xkZD1kO2E9bWQ1X2ZmKGEsYixjLGQseFtpKzBdLDcsLTY4MDg3NjkzNik7ZD1tZDVfZmYoZCxhLGIsYyx4W2krMV0sMTIsLTM4OTU2NDU4Nik7Yz1tZDVfZmYoYyxkLGEsYix4W2krMl0sMTcsNjA2MTA1ODE5KTtiPW1kNV9mZihiLGMsZCxhLHhbaSszXSwyMiwtMTA0NDUyNTMzMCk7YT1tZDVfZmYoYSxiLGMsZCx4W2krNF0sNywtMTc2NDE4ODk3KTtkPW1kNV9mZihkLGEsYixjLHhbaSs1XSwxMiwxMjAwMDgwNDI2KTtjPW1kNV9mZihjLGQsYSxiLHhbaSs2XSwxNywtMTQ3MzIzMTM0MSk7Yj1tZDVfZmYoYixjLGQsYSx4W2krN10sMjIsLTQ1NzA1OTgzKTthPW1kNV9mZihhLGIsYyxkLHhbaSs4XSw3LDE3NzAwMzU0MTYpO2Q9bWQ1X2ZmKGQsYSxiLGMseFtpKzldLDEyLC0xOTU4NDE0NDE3KTtjPW1kNV9mZihjLGQsYSxiLHhbaSsxMF0sMTcsLTQyMDYzKTtiPW1kNV9mZihiLGMsZCxhLHhbaSsxMV0sMjIsLTE5OTA0MDQxNjIpO2E9bWQ1X2ZmKGEsYixjLGQseFtpKzEyXSw3LDE4MDQ2MDM2ODIpO2Q9bWQ1X2ZmKGQsYSxiLGMseFtpKzEzXSwxMiwtNDAzNDExMDEpO2M9bWQ1X2ZmKGMsZCxhLGIseFtpKzE0XSwxNywtMTUwMjAwMjI5MCk7Yj1tZDVfZmYoYixjLGQsYSx4W2krMTVdLDIyLDEyMzY1MzUzMjkpO2E9bWQ1X2dnKGEsYixjLGQseFtpKzFdLDUsLTE2NTc5NjUxMCk7ZD1tZDVfZ2coZCxhLGIsYyx4W2krNl0sOSwtMTA2OTUwMTYzMik7Yz1tZDVfZ2coYyxkLGEsYix4W2krMTFdLDE0LDY0MzcxNzcxMyk7Yj1tZDVfZ2coYixjLGQsYSx4W2krMF0sMjAsLTM3Mzg5NzMwMik7YT1tZDVfZ2coYSxiLGMsZCx4W2krNV0sNSwtNzAxNTU4NjkxKTtkPW1kNV9nZyhkLGEsYixjLHhbaSsxMF0sOSwzODAxNjA4Myk7Yz1tZDVfZ2coYyxkLGEsYix4W2krMTVdLDE0LC02NjA0NzgzMzUpO2I9bWQ1X2dnKGIsYyxkLGEseFtpKzRdLDIwLC00MDU1Mzc4NDgpO2E9bWQ1X2dnKGEsYixjLGQseFtpKzldLDUsNTY4NDQ2NDM4KTtkPW1kNV9nZyhkLGEsYixjLHhbaSsxNF0sOSwtMTAxOTgwMzY5MCk7Yz1tZDVfZ2coYyxkLGEsYix4W2krM10sMTQsLTE4NzM2Mzk2MSk7Yj1tZDVfZ2coYixjLGQsYSx4W2krOF0sMjAsMTE2MzUzMTUwMSk7YT1tZDVfZ2coYSxiLGMsZCx4W2krMTNdLDUsLTE0NDQ2ODE0NjcpO2Q9bWQ1X2dnKGQsYSxiLGMseFtpKzJdLDksLTUxNDAzNzg0KTtjPW1kNV9nZyhjLGQsYSxiLHhbaSs3XSwxNCwxNzM1MzI4NDczKTtiPW1kNV9nZyhiLGMsZCxhLHhbaSsxMl0sMjAsLTE5MjY2MDc3MzQpO2E9bWQ1X2hoKGEsYixjLGQseFtpKzVdLDQsLTM3ODU1OCk7ZD1tZDVfaGgoZCxhLGIsYyx4W2krOF0sMTEsLTIwMjI1NzQ0NjMpO2M9bWQ1X2hoKGMsZCxhLGIseFtpKzExXSwxNiwxODM5MDMwNTYyKTtiPW1kNV9oaChiLGMsZCxhLHhbaSsxNF0sMjMsLTM1MzA5NTU2KTthPW1kNV9oaChhLGIsYyxkLHhbaSsxXSw0LC0xNTMwOTkyMDYwKTtkPW1kNV9oaChkLGEsYixjLHhbaSs0XSwxMSwxMjcyODkzMzUzKTtjPW1kNV9oaChjLGQsYSxiLHhbaSs3XSwxNiwtMTU1NDk3NjMyKTtiPW1kNV9oaChiLGMsZCxhLHhbaSsxMF0sMjMsLTEwOTQ3MzA2NDApO2E9bWQ1X2hoKGEsYixjLGQseFtpKzEzXSw0LDY4MTI3OTE3NCk7ZD1tZDVfaGgoZCxhLGIsYyx4W2krMF0sMTEsLTM1ODUzNzIyMik7Yz1tZDVfaGgoYyxkLGEsYix4W2krM10sMTYsLTcyMjUyMTk3OSk7Yj1tZDVfaGgoYixjLGQsYSx4W2krNl0sMjMsNzYwMjkxODkpO2E9bWQ1X2hoKGEsYixjLGQseFtpKzldLDQsLTY0MDM2NDQ4Nyk7ZD1tZDVfaGgoZCxhLGIsYyx4W2krMTJdLDExLC00MjE4MTU4MzUpO2M9bWQ1X2hoKGMsZCxhLGIseFtpKzE1XSwxNiw1MzA3NDI1MjApO2I9bWQ1X2hoKGIsYyxkLGEseFtpKzJdLDIzLC05OTUzMzg2NTEpO2E9bWQ1X2lpKGEsYixjLGQseFtpKzBdLDYsLTE5ODYzMDg0NCk7ZD1tZDVfaWkoZCxhLGIsYyx4W2krN10sMTAsMTEyNjg5MTQxNSk7Yz1tZDVfaWkoYyxkLGEsYix4W2krMTRdLDE1LC0xNDE2MzU0OTA1KTtiPW1kNV9paShiLGMsZCxhLHhbaSs1XSwyMSwtNTc0MzQwNTUpO2E9bWQ1X2lpKGEsYixjLGQseFtpKzEyXSw2LDE3MDA0ODU1NzEpO2Q9bWQ1X2lpKGQsYSxiLGMseFtpKzNdLDEwLC0xODk0OTg2NjA2KTtjPW1kNV9paShjLGQsYSxiLHhbaSsxMF0sMTUsLTEwNTE1MjMpO2I9bWQ1X2lpKGIsYyxkLGEseFtpKzFdLDIxLC0yMDU0OTIyNzk5KTthPW1kNV9paShhLGIsYyxkLHhbaSs4XSw2LDE4NzMzMTMzNTkpO2Q9bWQ1X2lpKGQsYSxiLGMseFtpKzE1XSwxMCwtMzA2MTE3NDQpO2M9bWQ1X2lpKGMsZCxhLGIseFtpKzZdLDE1LC0xNTYwMTk4MzgwKTtiPW1kNV9paShiLGMsZCxhLHhbaSsxM10sMjEsMTMwOTE1MTY0OSk7YT1tZDVfaWkoYSxiLGMsZCx4W2krNF0sNiwtMTQ1NTIzMDcwKTtkPW1kNV9paShkLGEsYixjLHhbaSsxMV0sMTAsLTExMjAyMTAzNzkpO2M9bWQ1X2lpKGMsZCxhLGIseFtpKzJdLDE1LDcxODc4NzI1OSk7Yj1tZDVfaWkoYixjLGQsYSx4W2krOV0sMjEsLTM0MzQ4NTU1MSk7YT1zYWZlX2FkZChhLG9sZGEpO2I9c2FmZV9hZGQoYixvbGRiKTtjPXNhZmVfYWRkKGMsb2xkYyk7ZD1zYWZlX2FkZChkLG9sZGQpO30KcmV0dXJuIEFycmF5KGEsYixjLGQpO30KZnVuY3Rpb24gbWQ1X2NtbihxLGEsYix4LHMsdCkKe3JldHVybiBzYWZlX2FkZChiaXRfcm9sKHNhZmVfYWRkKHNhZmVfYWRkKGEscSksc2FmZV9hZGQoeCx0KSkscyksYik7fQpmdW5jdGlvbiBtZDVfZmYoYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKChiJmMpfCgofmIpJmQpLGEsYix4LHMsdCk7fQpmdW5jdGlvbiBtZDVfZ2coYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKChiJmQpfChjJih+ZCkpLGEsYix4LHMsdCk7fQpmdW5jdGlvbiBtZDVfaGgoYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKGJeY15kLGEsYix4LHMsdCk7fQpmdW5jdGlvbiBtZDVfaWkoYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKGNeKGJ8KH5kKSksYSxiLHgscyx0KTt9CmZ1bmN0aW9uIHNhZmVfYWRkKHgseSkKe3ZhciBsc3c9KHgmMHhGRkZGKSsoeSYweEZGRkYpO3ZhciBtc3c9KHg+PjE2KSsoeT4+MTYpKyhsc3c+PjE2KTtyZXR1cm4obXN3PDwxNil8KGxzdyYweEZGRkYpO30KZnVuY3Rpb24gYml0X3JvbChudW0sY250KQp7cmV0dXJuKG51bTw8Y250KXwobnVtPj4+KDMyLWNudCkpO30KdmFyIEpTT047aWYoIUpTT04pe0pTT049e307fQooZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gZihuKXtyZXR1cm4gbjwxMD8nMCcrbjpuO30KaWYodHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiE9PSdmdW5jdGlvbicpe0RhdGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihrZXkpe3JldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSk/dGhpcy5nZXRVVENGdWxsWWVhcigpKyctJysKZih0aGlzLmdldFVUQ01vbnRoKCkrMSkrJy0nKwpmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsnVCcrCmYodGhpcy5nZXRVVENIb3VycygpKSsnOicrCmYodGhpcy5nZXRVVENNaW51dGVzKCkpKyc6JysKZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrJ1onOm51bGw7fTtTdHJpbmcucHJvdG90eXBlLnRvSlNPTj1OdW1iZXIucHJvdG90eXBlLnRvSlNPTj1Cb29sZWFuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpcy52YWx1ZU9mKCk7fTt9CnZhciBjeD0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnYXAsaW5kZW50LG1ldGE9eydcYic6J1xcYicsJ1x0JzonXFx0JywnXG4nOidcXG4nLCdcZic6J1xcZicsJ1xyJzonXFxyJywnIic6J1xcIicsJ1xcJzonXFxcXCd9LHJlcDtmdW5jdGlvbiBxdW90ZShzdHJpbmcpe2VzY2FwYWJsZS5sYXN0SW5kZXg9MDtyZXR1cm4gZXNjYXBhYmxlLnRlc3Qoc3RyaW5nKT8nIicrc3RyaW5nLnJlcGxhY2UoZXNjYXBhYmxlLGZ1bmN0aW9uKGEpe3ZhciBjPW1ldGFbYV07cmV0dXJuIHR5cGVvZiBjPT09J3N0cmluZyc/YzonXFx1JysoJzAwMDAnK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTt9KSsnIic6JyInK3N0cmluZysnIic7fQpmdW5jdGlvbiBzdHIoa2V5LGhvbGRlcil7dmFyIGksayx2LGxlbmd0aCxtaW5kPWdhcCxwYXJ0aWFsLHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0JyYmdHlwZW9mIHZhbHVlLnRvSlNPTj09PSdmdW5jdGlvbicpe3ZhbHVlPXZhbHVlLnRvSlNPTihrZXkpO30KaWYodHlwZW9mIHJlcD09PSdmdW5jdGlvbicpe3ZhbHVlPXJlcC5jYWxsKGhvbGRlcixrZXksdmFsdWUpO30Kc3dpdGNoKHR5cGVvZiB2YWx1ZSl7Y2FzZSdzdHJpbmcnOnJldHVybiBxdW90ZSh2YWx1ZSk7Y2FzZSdudW1iZXInOnJldHVybiBpc0Zpbml0ZSh2YWx1ZSk/U3RyaW5nKHZhbHVlKTonbnVsbCc7Y2FzZSdib29sZWFuJzpjYXNlJ251bGwnOnJldHVybiBTdHJpbmcodmFsdWUpO2Nhc2Unb2JqZWN0JzppZighdmFsdWUpe3JldHVybidudWxsJzt9CmdhcCs9aW5kZW50O3BhcnRpYWw9W107aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSk9PT0nW29iamVjdCBBcnJheV0nKXtsZW5ndGg9dmFsdWUubGVuZ3RoO2ZvcihpPTA7aTxsZW5ndGg7aSs9MSl7cGFydGlhbFtpXT1zdHIoaSx2YWx1ZSl8fCdudWxsJzt9CnY9cGFydGlhbC5sZW5ndGg9PT0wPydbXSc6Z2FwPydbXG4nK2dhcCtwYXJ0aWFsLmpvaW4oJyxcbicrZ2FwKSsnXG4nK21pbmQrJ10nOidbJytwYXJ0aWFsLmpvaW4oJywnKSsnXSc7Z2FwPW1pbmQ7cmV0dXJuIHY7fQppZihyZXAmJnR5cGVvZiByZXA9PT0nb2JqZWN0Jyl7bGVuZ3RoPXJlcC5sZW5ndGg7Zm9yKGk9MDtpPGxlbmd0aDtpKz0xKXtpZih0eXBlb2YgcmVwW2ldPT09J3N0cmluZycpe2s9cmVwW2ldO3Y9c3RyKGssdmFsdWUpO2lmKHYpe3BhcnRpYWwucHVzaChxdW90ZShrKSsoZ2FwPyc6ICc6JzonKSt2KTt9fX19ZWxzZXtmb3IoayBpbiB2YWx1ZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLGspKXt2PXN0cihrLHZhbHVlKTtpZih2KXtwYXJ0aWFsLnB1c2gocXVvdGUoaykrKGdhcD8nOiAnOic6Jykrdik7fX19fQp2PXBhcnRpYWwubGVuZ3RoPT09MD8ne30nOmdhcD8ne1xuJytnYXArcGFydGlhbC5qb2luKCcsXG4nK2dhcCkrJ1xuJyttaW5kKyd9JzoneycrcGFydGlhbC5qb2luKCcsJykrJ30nO2dhcD1taW5kO3JldHVybiB2O319CmlmKHR5cGVvZiBKU09OLnN0cmluZ2lmeSE9PSdmdW5jdGlvbicpe0pTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKHZhbHVlLHJlcGxhY2VyLHNwYWNlKXt2YXIgaTtnYXA9Jyc7aW5kZW50PScnO2lmKHR5cGVvZiBzcGFjZT09PSdudW1iZXInKXtmb3IoaT0wO2k8c3BhY2U7aSs9MSl7aW5kZW50Kz0nICc7fX1lbHNlIGlmKHR5cGVvZiBzcGFjZT09PSdzdHJpbmcnKXtpbmRlbnQ9c3BhY2U7fQpyZXA9cmVwbGFjZXI7aWYocmVwbGFjZXImJnR5cGVvZiByZXBsYWNlciE9PSdmdW5jdGlvbicmJih0eXBlb2YgcmVwbGFjZXIhPT0nb2JqZWN0J3x8dHlwZW9mIHJlcGxhY2VyLmxlbmd0aCE9PSdudW1iZXInKSl7dGhyb3cgbmV3IEVycm9yKCdKU09OLnN0cmluZ2lmeScpO30KcmV0dXJuIHN0cignJyx7Jyc6dmFsdWV9KTt9O30KaWYodHlwZW9mIEpTT04ucGFyc2UhPT0nZnVuY3Rpb24nKXtKU09OLnBhcnNlPWZ1bmN0aW9uKHRleHQscmV2aXZlcil7dmFyIGo7ZnVuY3Rpb24gd2Fsayhob2xkZXIsa2V5KXt2YXIgayx2LHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0Jyl7Zm9yKGsgaW4gdmFsdWUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSxrKSl7dj13YWxrKHZhbHVlLGspO2lmKHYhPT11bmRlZmluZWQpe3ZhbHVlW2tdPXY7fWVsc2V7ZGVsZXRlIHZhbHVlW2tdO319fX0KcmV0dXJuIHJldml2ZXIuY2FsbChob2xkZXIsa2V5LHZhbHVlKTt9CnRleHQ9U3RyaW5nKHRleHQpO2N4Lmxhc3RJbmRleD0wO2lmKGN4LnRlc3QodGV4dCkpe3RleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKGEpe3JldHVybidcXHUnKwooJzAwMDAnK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTt9KTt9CmlmKC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCdAJykucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csJ10nKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csJycpKSl7aj1ldmFsKCcoJyt0ZXh0KycpJyk7cmV0dXJuIHR5cGVvZiByZXZpdmVyPT09J2Z1bmN0aW9uJz93YWxrKHsnJzpqfSwnJyk6ajt9CnRocm93IG5ldyBTeW50YXhFcnJvcignSlNPTi5wYXJzZScpO307fX0oKSk7dmFyIENyeXB0b0pTPUNyeXB0b0pTfHwoZnVuY3Rpb24oTWF0aCx1bmRlZmluZWQpe3ZhciBDPXt9O3ZhciBDX2xpYj1DLmxpYj17fTt2YXIgQmFzZT1DX2xpYi5CYXNlPShmdW5jdGlvbigpe2Z1bmN0aW9uIEYoKXt9CnJldHVybntleHRlbmQ6ZnVuY3Rpb24ob3ZlcnJpZGVzKXtGLnByb3RvdHlwZT10aGlzO3ZhciBzdWJ0eXBlPW5ldyBGKCk7aWYob3ZlcnJpZGVzKXtzdWJ0eXBlLm1peEluKG92ZXJyaWRlcyk7fQppZighc3VidHlwZS5oYXNPd25Qcm9wZXJ0eSgnaW5pdCcpKXtzdWJ0eXBlLmluaXQ9ZnVuY3Rpb24oKXtzdWJ0eXBlLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O30Kc3VidHlwZS5pbml0LnByb3RvdHlwZT1zdWJ0eXBlO3N1YnR5cGUuJHN1cGVyPXRoaXM7cmV0dXJuIHN1YnR5cGU7fSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaW5zdGFuY2U9dGhpcy5leHRlbmQoKTtpbnN0YW5jZS5pbml0LmFwcGx5KGluc3RhbmNlLGFyZ3VtZW50cyk7cmV0dXJuIGluc3RhbmNlO30saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24ocHJvcGVydGllcyl7Zm9yKHZhciBwcm9wZXJ0eU5hbWUgaW4gcHJvcGVydGllcyl7aWYocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKXt0aGlzW3Byb3BlcnR5TmFtZV09cHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO319CmlmKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoJ3RvU3RyaW5nJykpe3RoaXMudG9TdHJpbmc9cHJvcGVydGllcy50b1N0cmluZzt9fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKTt9fTt9KCkpO3ZhciBXb3JkQXJyYXk9Q19saWIuV29yZEFycmF5PUJhc2UuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHdvcmRzLHNpZ0J5dGVzKXt3b3Jkcz10aGlzLndvcmRzPXdvcmRzfHxbXTtpZihzaWdCeXRlcyE9dW5kZWZpbmVkKXt0aGlzLnNpZ0J5dGVzPXNpZ0J5dGVzO31lbHNle3RoaXMuc2lnQnl0ZXM9d29yZHMubGVuZ3RoKjQ7fX0sdG9TdHJpbmc6ZnVuY3Rpb24oZW5jb2Rlcil7cmV0dXJuKGVuY29kZXJ8fEhleCkuc3RyaW5naWZ5KHRoaXMpO30sY29uY2F0OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHRoaXNXb3Jkcz10aGlzLndvcmRzO3ZhciB0aGF0V29yZHM9d29yZEFycmF5LndvcmRzO3ZhciB0aGlzU2lnQnl0ZXM9dGhpcy5zaWdCeXRlczt2YXIgdGhhdFNpZ0J5dGVzPXdvcmRBcnJheS5zaWdCeXRlczt0aGlzLmNsYW1wKCk7aWYodGhpc1NpZ0J5dGVzJTQpe2Zvcih2YXIgaT0wO2k8dGhhdFNpZ0J5dGVzO2krKyl7dmFyIHRoYXRCeXRlPSh0aGF0V29yZHNbaT4+PjJdPj4+KDI0LShpJTQpKjgpKSYweGZmO3RoaXNXb3Jkc1sodGhpc1NpZ0J5dGVzK2kpPj4+Ml18PXRoYXRCeXRlPDwoMjQtKCh0aGlzU2lnQnl0ZXMraSklNCkqOCk7fX1lbHNlIGlmKHRoYXRXb3Jkcy5sZW5ndGg+MHhmZmZmKXtmb3IodmFyIGk9MDtpPHRoYXRTaWdCeXRlcztpKz00KXt0aGlzV29yZHNbKHRoaXNTaWdCeXRlcytpKT4+PjJdPXRoYXRXb3Jkc1tpPj4+Ml07fX1lbHNle3RoaXNXb3Jkcy5wdXNoLmFwcGx5KHRoaXNXb3Jkcyx0aGF0V29yZHMpO30KdGhpcy5zaWdCeXRlcys9dGhhdFNpZ0J5dGVzO3JldHVybiB0aGlzO30sY2xhbXA6ZnVuY3Rpb24oKXt2YXIgd29yZHM9dGhpcy53b3Jkczt2YXIgc2lnQnl0ZXM9dGhpcy5zaWdCeXRlczt3b3Jkc1tzaWdCeXRlcz4+PjJdJj0weGZmZmZmZmZmPDwoMzItKHNpZ0J5dGVzJTQpKjgpO3dvcmRzLmxlbmd0aD1NYXRoLmNlaWwoc2lnQnl0ZXMvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1CYXNlLmNsb25lLmNhbGwodGhpcyk7Y2xvbmUud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKTtyZXR1cm4gY2xvbmU7fSxyYW5kb206ZnVuY3Rpb24obkJ5dGVzKXt2YXIgd29yZHM9W107Zm9yKHZhciBpPTA7aTxuQnl0ZXM7aSs9NCl7d29yZHMucHVzaCgoTWF0aC5yYW5kb20oKSoweDEwMDAwMDAwMCl8MCk7fQpyZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLG5CeXRlcyk7fX0pO3ZhciBDX2VuYz1DLmVuYz17fTt2YXIgSGV4PUNfZW5jLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHdvcmRzPXdvcmRBcnJheS53b3Jkczt2YXIgc2lnQnl0ZXM9d29yZEFycmF5LnNpZ0J5dGVzO3ZhciBoZXhDaGFycz1bXTtmb3IodmFyIGk9MDtpPHNpZ0J5dGVzO2krKyl7dmFyIGJpdGU9KHdvcmRzW2k+Pj4yXT4+PigyNC0oaSU0KSo4KSkmMHhmZjtoZXhDaGFycy5wdXNoKChiaXRlPj4+NCkudG9TdHJpbmcoMTYpKTtoZXhDaGFycy5wdXNoKChiaXRlJjB4MGYpLnRvU3RyaW5nKDE2KSk7fQpyZXR1cm4gaGV4Q2hhcnMuam9pbignJyk7fSxwYXJzZTpmdW5jdGlvbihoZXhTdHIpe3ZhciBoZXhTdHJMZW5ndGg9aGV4U3RyLmxlbmd0aDt2YXIgd29yZHM9W107Zm9yKHZhciBpPTA7aTxoZXhTdHJMZW5ndGg7aSs9Mil7d29yZHNbaT4+PjNdfD1wYXJzZUludChoZXhTdHIuc3Vic3RyKGksMiksMTYpPDwoMjQtKGklOCkqNCk7fQpyZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLGhleFN0ckxlbmd0aC8yKTt9fTt2YXIgTGF0aW4xPUNfZW5jLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHdvcmRzPXdvcmRBcnJheS53b3Jkczt2YXIgc2lnQnl0ZXM9d29yZEFycmF5LnNpZ0J5dGVzO3ZhciBsYXRpbjFDaGFycz1bXTtmb3IodmFyIGk9MDtpPHNpZ0J5dGVzO2krKyl7dmFyIGJpdGU9KHdvcmRzW2k+Pj4yXT4+PigyNC0oaSU0KSo4KSkmMHhmZjtsYXRpbjFDaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYml0ZSkpO30KcmV0dXJuIGxhdGluMUNoYXJzLmpvaW4oJycpO30scGFyc2U6ZnVuY3Rpb24obGF0aW4xU3RyKXt2YXIgbGF0aW4xU3RyTGVuZ3RoPWxhdGluMVN0ci5sZW5ndGg7dmFyIHdvcmRzPVtdO2Zvcih2YXIgaT0wO2k8bGF0aW4xU3RyTGVuZ3RoO2krKyl7d29yZHNbaT4+PjJdfD0obGF0aW4xU3RyLmNoYXJDb2RlQXQoaSkmMHhmZik8PCgyNC0oaSU0KSo4KTt9CnJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsbGF0aW4xU3RyTGVuZ3RoKTt9fTt2YXIgVXRmOD1DX2VuYy5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24od29yZEFycmF5KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpKSk7fWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFVURi04IGRhdGEnKTt9fSxwYXJzZTpmdW5jdGlvbih1dGY4U3RyKXtyZXR1cm4gTGF0aW4xLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh1dGY4U3RyKSkpO319O3ZhciBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtPUNfbGliLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09QmFzZS5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgV29yZEFycmF5LmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGRhdGEpe2lmKHR5cGVvZiBkYXRhPT0nc3RyaW5nJyl7ZGF0YT1VdGY4LnBhcnNlKGRhdGEpO30KdGhpcy5fZGF0YS5jb25jYXQoZGF0YSk7dGhpcy5fbkRhdGFCeXRlcys9ZGF0YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGRvRmx1c2gpe3ZhciBkYXRhPXRoaXMuX2RhdGE7dmFyIGRhdGFXb3Jkcz1kYXRhLndvcmRzO3ZhciBkYXRhU2lnQnl0ZXM9ZGF0YS5zaWdCeXRlczt2YXIgYmxvY2tTaXplPXRoaXMuYmxvY2tTaXplO3ZhciBibG9ja1NpemVCeXRlcz1ibG9ja1NpemUqNDt2YXIgbkJsb2Nrc1JlYWR5PWRhdGFTaWdCeXRlcy9ibG9ja1NpemVCeXRlcztpZihkb0ZsdXNoKXtuQmxvY2tzUmVhZHk9TWF0aC5jZWlsKG5CbG9ja3NSZWFkeSk7fWVsc2V7bkJsb2Nrc1JlYWR5PU1hdGgubWF4KChuQmxvY2tzUmVhZHl8MCktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTt9CnZhciBuV29yZHNSZWFkeT1uQmxvY2tzUmVhZHkqYmxvY2tTaXplO3ZhciBuQnl0ZXNSZWFkeT1NYXRoLm1pbihuV29yZHNSZWFkeSo0LGRhdGFTaWdCeXRlcyk7aWYobldvcmRzUmVhZHkpe2Zvcih2YXIgb2Zmc2V0PTA7b2Zmc2V0PG5Xb3Jkc1JlYWR5O29mZnNldCs9YmxvY2tTaXplKXt0aGlzLl9kb1Byb2Nlc3NCbG9jayhkYXRhV29yZHMsb2Zmc2V0KTt9CnZhciBwcm9jZXNzZWRXb3Jkcz1kYXRhV29yZHMuc3BsaWNlKDAsbldvcmRzUmVhZHkpO2RhdGEuc2lnQnl0ZXMtPW5CeXRlc1JlYWR5O30KcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdChwcm9jZXNzZWRXb3JkcyxuQnl0ZXNSZWFkeSk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1CYXNlLmNsb25lLmNhbGwodGhpcyk7Y2xvbmUuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBjbG9uZTt9LF9taW5CdWZmZXJTaXplOjB9KTt2YXIgSGFzaGVyPUNfbGliLkhhc2hlcj1CdWZmZXJlZEJsb2NrQWxnb3JpdGhtLmV4dGVuZCh7Y2ZnOkJhc2UuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihjZmcpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChjZmcpO3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7QnVmZmVyZWRCbG9ja0FsZ29yaXRobS5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHVwZGF0ZTpmdW5jdGlvbihtZXNzYWdlVXBkYXRlKXt0aGlzLl9hcHBlbmQobWVzc2FnZVVwZGF0ZSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzO30sZmluYWxpemU6ZnVuY3Rpb24obWVzc2FnZVVwZGF0ZSl7aWYobWVzc2FnZVVwZGF0ZSl7dGhpcy5fYXBwZW5kKG1lc3NhZ2VVcGRhdGUpO30KdmFyIGhhc2g9dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiBoYXNoO30sYmxvY2tTaXplOjUxMi8zMixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGhhc2hlcil7cmV0dXJuIGZ1bmN0aW9uKG1lc3NhZ2UsY2ZnKXtyZXR1cm4gbmV3IGhhc2hlci5pbml0KGNmZykuZmluYWxpemUobWVzc2FnZSk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGhhc2hlcil7cmV0dXJuIGZ1bmN0aW9uKG1lc3NhZ2Usa2V5KXtyZXR1cm4gbmV3IENfYWxnby5ITUFDLmluaXQoaGFzaGVyLGtleSkuZmluYWxpemUobWVzc2FnZSk7fTt9fSk7dmFyIENfYWxnbz1DLmFsZ289e307cmV0dXJuIEM7fShNYXRoKSk7KGZ1bmN0aW9uKCl7dmFyIEM9Q3J5cHRvSlM7dmFyIENfbGliPUMubGliO3ZhciBXb3JkQXJyYXk9Q19saWIuV29yZEFycmF5O3ZhciBDX2VuYz1DLmVuYzt2YXIgQmFzZTY0PUNfZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHdvcmRzPXdvcmRBcnJheS53b3Jkczt2YXIgc2lnQnl0ZXM9d29yZEFycmF5LnNpZ0J5dGVzO3ZhciBtYXA9dGhpcy5fbWFwO3dvcmRBcnJheS5jbGFtcCgpO3ZhciBiYXNlNjRDaGFycz1bXTtmb3IodmFyIGk9MDtpPHNpZ0J5dGVzO2krPTMpe3ZhciBieXRlMT0od29yZHNbaT4+PjJdPj4+KDI0LShpJTQpKjgpKSYweGZmO3ZhciBieXRlMj0od29yZHNbKGkrMSk+Pj4yXT4+PigyNC0oKGkrMSklNCkqOCkpJjB4ZmY7dmFyIGJ5dGUzPSh3b3Jkc1soaSsyKT4+PjJdPj4+KDI0LSgoaSsyKSU0KSo4KSkmMHhmZjt2YXIgdHJpcGxldD0oYnl0ZTE8PDE2KXwoYnl0ZTI8PDgpfGJ5dGUzO2Zvcih2YXIgaj0wOyhqPDQpJiYoaStqKjAuNzU8c2lnQnl0ZXMpO2orKyl7YmFzZTY0Q2hhcnMucHVzaChtYXAuY2hhckF0KCh0cmlwbGV0Pj4+KDYqKDMtaikpKSYweDNmKSk7fX0KdmFyIHBhZGRpbmdDaGFyPW1hcC5jaGFyQXQoNjQpO2lmKHBhZGRpbmdDaGFyKXt3aGlsZShiYXNlNjRDaGFycy5sZW5ndGglNCl7YmFzZTY0Q2hhcnMucHVzaChwYWRkaW5nQ2hhcik7fX0KcmV0dXJuIGJhc2U2NENoYXJzLmpvaW4oJycpO30scGFyc2U6ZnVuY3Rpb24oYmFzZTY0U3RyKXt2YXIgYmFzZTY0U3RyTGVuZ3RoPWJhc2U2NFN0ci5sZW5ndGg7dmFyIG1hcD10aGlzLl9tYXA7dmFyIHBhZGRpbmdDaGFyPW1hcC5jaGFyQXQoNjQpO2lmKHBhZGRpbmdDaGFyKXt2YXIgcGFkZGluZ0luZGV4PWJhc2U2NFN0ci5pbmRleE9mKHBhZGRpbmdDaGFyKTtpZihwYWRkaW5nSW5kZXghPS0xKXtiYXNlNjRTdHJMZW5ndGg9cGFkZGluZ0luZGV4O319CnZhciB3b3Jkcz1bXTt2YXIgbkJ5dGVzPTA7Zm9yKHZhciBpPTA7aTxiYXNlNjRTdHJMZW5ndGg7aSsrKXtpZihpJTQpe3ZhciBiaXRzMT1tYXAuaW5kZXhPZihiYXNlNjRTdHIuY2hhckF0KGktMSkpPDwoKGklNCkqMik7dmFyIGJpdHMyPW1hcC5pbmRleE9mKGJhc2U2NFN0ci5jaGFyQXQoaSkpPj4+KDYtKGklNCkqMik7d29yZHNbbkJ5dGVzPj4+Ml18PShiaXRzMXxiaXRzMik8PCgyNC0obkJ5dGVzJTQpKjgpO25CeXRlcysrO319CnJldHVybiBXb3JkQXJyYXkuY3JlYXRlKHdvcmRzLG5CeXRlcyk7fSxfbWFwOidBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSd9O30oKSk7Q3J5cHRvSlMubGliLkNpcGhlcnx8KGZ1bmN0aW9uKHVuZGVmaW5lZCl7dmFyIEM9Q3J5cHRvSlM7dmFyIENfbGliPUMubGliO3ZhciBCYXNlPUNfbGliLkJhc2U7dmFyIFdvcmRBcnJheT1DX2xpYi5Xb3JkQXJyYXk7dmFyIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09Q19saWIuQnVmZmVyZWRCbG9ja0FsZ29yaXRobTt2YXIgQ19lbmM9Qy5lbmM7dmFyIFV0Zjg9Q19lbmMuVXRmODt2YXIgQmFzZTY0PUNfZW5jLkJhc2U2NDt2YXIgQ19hbGdvPUMuYWxnbzt2YXIgRXZwS0RGPUNfYWxnby5FdnBLREY7dmFyIENpcGhlcj1DX2xpYi5DaXBoZXI9QnVmZmVyZWRCbG9ja0FsZ29yaXRobS5leHRlbmQoe2NmZzpCYXNlLmV4dGVuZCgpLGNyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbihrZXksY2ZnKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsa2V5LGNmZyk7fSxjcmVhdGVEZWNyeXB0b3I6ZnVuY3Rpb24oa2V5LGNmZyl7cmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLGtleSxjZmcpO30saW5pdDpmdW5jdGlvbih4Zm9ybU1vZGUsa2V5LGNmZyl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGNmZyk7dGhpcy5feGZvcm1Nb2RlPXhmb3JtTW9kZTt0aGlzLl9rZXk9a2V5O3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7QnVmZmVyZWRCbG9ja0FsZ29yaXRobS5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHByb2Nlc3M6ZnVuY3Rpb24oZGF0YVVwZGF0ZSl7dGhpcy5fYXBwZW5kKGRhdGFVcGRhdGUpO3JldHVybiB0aGlzLl9wcm9jZXNzKCk7fSxmaW5hbGl6ZTpmdW5jdGlvbihkYXRhVXBkYXRlKXtpZihkYXRhVXBkYXRlKXt0aGlzLl9hcHBlbmQoZGF0YVVwZGF0ZSk7fQp2YXIgZmluYWxQcm9jZXNzZWREYXRhPXRoaXMuX2RvRmluYWxpemUoKTtyZXR1cm4gZmluYWxQcm9jZXNzZWREYXRhO30sa2V5U2l6ZToxMjgvMzIsaXZTaXplOjEyOC8zMixfRU5DX1hGT1JNX01PREU6MSxfREVDX1hGT1JNX01PREU6MixfY3JlYXRlSGVscGVyOihmdW5jdGlvbigpe2Z1bmN0aW9uIHNlbGVjdENpcGhlclN0cmF0ZWd5KGtleSl7aWYodHlwZW9mIGtleT09J3N0cmluZycpe3JldHVybiBQYXNzd29yZEJhc2VkQ2lwaGVyO31lbHNle3JldHVybiBTZXJpYWxpemFibGVDaXBoZXI7fX0KcmV0dXJuIGZ1bmN0aW9uKGNpcGhlcil7cmV0dXJue2VuY3J5cHQ6ZnVuY3Rpb24obWVzc2FnZSxrZXksY2ZnKXtyZXR1cm4gc2VsZWN0Q2lwaGVyU3RyYXRlZ3koa2V5KS5lbmNyeXB0KGNpcGhlcixtZXNzYWdlLGtleSxjZmcpO30sZGVjcnlwdDpmdW5jdGlvbihjaXBoZXJ0ZXh0LGtleSxjZmcpe3JldHVybiBzZWxlY3RDaXBoZXJTdHJhdGVneShrZXkpLmRlY3J5cHQoY2lwaGVyLGNpcGhlcnRleHQsa2V5LGNmZyk7fX07fTt9KCkpfSk7dmFyIFN0cmVhbUNpcGhlcj1DX2xpYi5TdHJlYW1DaXBoZXI9Q2lwaGVyLmV4dGVuZCh7X2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZmluYWxQcm9jZXNzZWRCbG9ja3M9dGhpcy5fcHJvY2VzcyghISdmbHVzaCcpO3JldHVybiBmaW5hbFByb2Nlc3NlZEJsb2Nrczt9LGJsb2NrU2l6ZToxfSk7dmFyIENfbW9kZT1DLm1vZGU9e307dmFyIEJsb2NrQ2lwaGVyTW9kZT1DX2xpYi5CbG9ja0NpcGhlck1vZGU9QmFzZS5leHRlbmQoe2NyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbihjaXBoZXIsaXYpe3JldHVybiB0aGlzLkVuY3J5cHRvci5jcmVhdGUoY2lwaGVyLGl2KTt9LGNyZWF0ZURlY3J5cHRvcjpmdW5jdGlvbihjaXBoZXIsaXYpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoY2lwaGVyLGl2KTt9LGluaXQ6ZnVuY3Rpb24oY2lwaGVyLGl2KXt0aGlzLl9jaXBoZXI9Y2lwaGVyO3RoaXMuX2l2PWl2O319KTt2YXIgQ0JDPUNfbW9kZS5DQkM9KGZ1bmN0aW9uKCl7dmFyIENCQz1CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7Q0JDLkVuY3J5cHRvcj1DQkMuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24od29yZHMsb2Zmc2V0KXt2YXIgY2lwaGVyPXRoaXMuX2NpcGhlcjt2YXIgYmxvY2tTaXplPWNpcGhlci5ibG9ja1NpemU7eG9yQmxvY2suY2FsbCh0aGlzLHdvcmRzLG9mZnNldCxibG9ja1NpemUpO2NpcGhlci5lbmNyeXB0QmxvY2sod29yZHMsb2Zmc2V0KTt0aGlzLl9wcmV2QmxvY2s9d29yZHMuc2xpY2Uob2Zmc2V0LG9mZnNldCtibG9ja1NpemUpO319KTtDQkMuRGVjcnlwdG9yPUNCQy5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih3b3JkcyxvZmZzZXQpe3ZhciBjaXBoZXI9dGhpcy5fY2lwaGVyO3ZhciBibG9ja1NpemU9Y2lwaGVyLmJsb2NrU2l6ZTt2YXIgdGhpc0Jsb2NrPXdvcmRzLnNsaWNlKG9mZnNldCxvZmZzZXQrYmxvY2tTaXplKTtjaXBoZXIuZGVjcnlwdEJsb2NrKHdvcmRzLG9mZnNldCk7eG9yQmxvY2suY2FsbCh0aGlzLHdvcmRzLG9mZnNldCxibG9ja1NpemUpO3RoaXMuX3ByZXZCbG9jaz10aGlzQmxvY2s7fX0pO2Z1bmN0aW9uIHhvckJsb2NrKHdvcmRzLG9mZnNldCxibG9ja1NpemUpe3ZhciBpdj10aGlzLl9pdjtpZihpdil7dmFyIGJsb2NrPWl2O3RoaXMuX2l2PXVuZGVmaW5lZDt9ZWxzZXt2YXIgYmxvY2s9dGhpcy5fcHJldkJsb2NrO30KZm9yKHZhciBpPTA7aTxibG9ja1NpemU7aSsrKXt3b3Jkc1tvZmZzZXQraV1ePWJsb2NrW2ldO319CnJldHVybiBDQkM7fSgpKTt2YXIgQ19wYWQ9Qy5wYWQ9e307dmFyIFBrY3M3PUNfcGFkLlBrY3M3PXtwYWQ6ZnVuY3Rpb24oZGF0YSxibG9ja1NpemUpe3ZhciBibG9ja1NpemVCeXRlcz1ibG9ja1NpemUqNDt2YXIgblBhZGRpbmdCeXRlcz1ibG9ja1NpemVCeXRlcy1kYXRhLnNpZ0J5dGVzJWJsb2NrU2l6ZUJ5dGVzO3ZhciBwYWRkaW5nV29yZD0oblBhZGRpbmdCeXRlczw8MjQpfChuUGFkZGluZ0J5dGVzPDwxNil8KG5QYWRkaW5nQnl0ZXM8PDgpfG5QYWRkaW5nQnl0ZXM7dmFyIHBhZGRpbmdXb3Jkcz1bXTtmb3IodmFyIGk9MDtpPG5QYWRkaW5nQnl0ZXM7aSs9NCl7cGFkZGluZ1dvcmRzLnB1c2gocGFkZGluZ1dvcmQpO30KdmFyIHBhZGRpbmc9V29yZEFycmF5LmNyZWF0ZShwYWRkaW5nV29yZHMsblBhZGRpbmdCeXRlcyk7ZGF0YS5jb25jYXQocGFkZGluZyk7fSx1bnBhZDpmdW5jdGlvbihkYXRhKXt2YXIgblBhZGRpbmdCeXRlcz1kYXRhLndvcmRzWyhkYXRhLnNpZ0J5dGVzLTEpPj4+Ml0mMHhmZjtkYXRhLnNpZ0J5dGVzLT1uUGFkZGluZ0J5dGVzO319O3ZhciBCbG9ja0NpcGhlcj1DX2xpYi5CbG9ja0NpcGhlcj1DaXBoZXIuZXh0ZW5kKHtjZmc6Q2lwaGVyLmNmZy5leHRlbmQoe21vZGU6Q0JDLHBhZGRpbmc6UGtjczd9KSxyZXNldDpmdW5jdGlvbigpe0NpcGhlci5yZXNldC5jYWxsKHRoaXMpO3ZhciBjZmc9dGhpcy5jZmc7dmFyIGl2PWNmZy5pdjt2YXIgbW9kZT1jZmcubW9kZTtpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXt2YXIgbW9kZUNyZWF0b3I9bW9kZS5jcmVhdGVFbmNyeXB0b3I7fWVsc2V7dmFyIG1vZGVDcmVhdG9yPW1vZGUuY3JlYXRlRGVjcnlwdG9yO3RoaXMuX21pbkJ1ZmZlclNpemU9MTt9CnRoaXMuX21vZGU9bW9kZUNyZWF0b3IuY2FsbChtb2RlLHRoaXMsaXYmJml2LndvcmRzKTt9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih3b3JkcyxvZmZzZXQpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKHdvcmRzLG9mZnNldCk7fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBwYWRkaW5nPXRoaXMuY2ZnLnBhZGRpbmc7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl7cGFkZGluZy5wYWQodGhpcy5fZGF0YSx0aGlzLmJsb2NrU2l6ZSk7dmFyIGZpbmFsUHJvY2Vzc2VkQmxvY2tzPXRoaXMuX3Byb2Nlc3MoISEnZmx1c2gnKTt9ZWxzZXt2YXIgZmluYWxQcm9jZXNzZWRCbG9ja3M9dGhpcy5fcHJvY2VzcyghISdmbHVzaCcpO3BhZGRpbmcudW5wYWQoZmluYWxQcm9jZXNzZWRCbG9ja3MpO30KcmV0dXJuIGZpbmFsUHJvY2Vzc2VkQmxvY2tzO30sYmxvY2tTaXplOjEyOC8zMn0pO3ZhciBDaXBoZXJQYXJhbXM9Q19saWIuQ2lwaGVyUGFyYW1zPUJhc2UuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGNpcGhlclBhcmFtcyl7dGhpcy5taXhJbihjaXBoZXJQYXJhbXMpO30sdG9TdHJpbmc6ZnVuY3Rpb24oZm9ybWF0dGVyKXtyZXR1cm4oZm9ybWF0dGVyfHx0aGlzLmZvcm1hdHRlcikuc3RyaW5naWZ5KHRoaXMpO319KTt2YXIgQ19mb3JtYXQ9Qy5mb3JtYXQ9e307dmFyIE9wZW5TU0xGb3JtYXR0ZXI9Q19mb3JtYXQuT3BlblNTTD17c3RyaW5naWZ5OmZ1bmN0aW9uKGNpcGhlclBhcmFtcyl7dmFyIGNpcGhlcnRleHQ9Y2lwaGVyUGFyYW1zLmNpcGhlcnRleHQ7dmFyIHNhbHQ9Y2lwaGVyUGFyYW1zLnNhbHQ7aWYoc2FsdCl7dmFyIHdvcmRBcnJheT1Xb3JkQXJyYXkuY3JlYXRlKFsweDUzNjE2Yzc0LDB4NjU2NDVmNWZdKS5jb25jYXQoc2FsdCkuY29uY2F0KGNpcGhlcnRleHQpO31lbHNle3ZhciB3b3JkQXJyYXk9Y2lwaGVydGV4dDt9CnJldHVybiB3b3JkQXJyYXkudG9TdHJpbmcoQmFzZTY0KTt9LHBhcnNlOmZ1bmN0aW9uKG9wZW5TU0xTdHIpe3ZhciBjaXBoZXJ0ZXh0PUJhc2U2NC5wYXJzZShvcGVuU1NMU3RyKTt2YXIgY2lwaGVydGV4dFdvcmRzPWNpcGhlcnRleHQud29yZHM7aWYoY2lwaGVydGV4dFdvcmRzWzBdPT0weDUzNjE2Yzc0JiZjaXBoZXJ0ZXh0V29yZHNbMV09PTB4NjU2NDVmNWYpe3ZhciBzYWx0PVdvcmRBcnJheS5jcmVhdGUoY2lwaGVydGV4dFdvcmRzLnNsaWNlKDIsNCkpO2NpcGhlcnRleHRXb3Jkcy5zcGxpY2UoMCw0KTtjaXBoZXJ0ZXh0LnNpZ0J5dGVzLT0xNjt9CnJldHVybiBDaXBoZXJQYXJhbXMuY3JlYXRlKHtjaXBoZXJ0ZXh0OmNpcGhlcnRleHQsc2FsdDpzYWx0fSk7fX07dmFyIFNlcmlhbGl6YWJsZUNpcGhlcj1DX2xpYi5TZXJpYWxpemFibGVDaXBoZXI9QmFzZS5leHRlbmQoe2NmZzpCYXNlLmV4dGVuZCh7Zm9ybWF0Ok9wZW5TU0xGb3JtYXR0ZXJ9KSxlbmNyeXB0OmZ1bmN0aW9uKGNpcGhlcixtZXNzYWdlLGtleSxjZmcpe2NmZz10aGlzLmNmZy5leHRlbmQoY2ZnKTt2YXIgZW5jcnlwdG9yPWNpcGhlci5jcmVhdGVFbmNyeXB0b3Ioa2V5LGNmZyk7dmFyIGNpcGhlcnRleHQ9ZW5jcnlwdG9yLmZpbmFsaXplKG1lc3NhZ2UpO3ZhciBjaXBoZXJDZmc9ZW5jcnlwdG9yLmNmZztyZXR1cm4gQ2lwaGVyUGFyYW1zLmNyZWF0ZSh7Y2lwaGVydGV4dDpjaXBoZXJ0ZXh0LGtleTprZXksaXY6Y2lwaGVyQ2ZnLml2LGFsZ29yaXRobTpjaXBoZXIsbW9kZTpjaXBoZXJDZmcubW9kZSxwYWRkaW5nOmNpcGhlckNmZy5wYWRkaW5nLGJsb2NrU2l6ZTpjaXBoZXIuYmxvY2tTaXplLGZvcm1hdHRlcjpjZmcuZm9ybWF0fSk7fSxkZWNyeXB0OmZ1bmN0aW9uKGNpcGhlcixjaXBoZXJ0ZXh0LGtleSxjZmcpe2NmZz10aGlzLmNmZy5leHRlbmQoY2ZnKTtjaXBoZXJ0ZXh0PXRoaXMuX3BhcnNlKGNpcGhlcnRleHQsY2ZnLmZvcm1hdCk7dmFyIHBsYWludGV4dD1jaXBoZXIuY3JlYXRlRGVjcnlwdG9yKGtleSxjZmcpLmZpbmFsaXplKGNpcGhlcnRleHQuY2lwaGVydGV4dCk7cmV0dXJuIHBsYWludGV4dDt9LF9wYXJzZTpmdW5jdGlvbihjaXBoZXJ0ZXh0LGZvcm1hdCl7aWYodHlwZW9mIGNpcGhlcnRleHQ9PSdzdHJpbmcnKXtyZXR1cm4gZm9ybWF0LnBhcnNlKGNpcGhlcnRleHQsdGhpcyk7fWVsc2V7cmV0dXJuIGNpcGhlcnRleHQ7fX19KTt2YXIgQ19rZGY9Qy5rZGY9e307dmFyIE9wZW5TU0xLZGY9Q19rZGYuT3BlblNTTD17ZXhlY3V0ZTpmdW5jdGlvbihwYXNzd29yZCxrZXlTaXplLGl2U2l6ZSxzYWx0KXtpZighc2FsdCl7c2FsdD1Xb3JkQXJyYXkucmFuZG9tKDY0LzgpO30KdmFyIGtleT1FdnBLREYuY3JlYXRlKHtrZXlTaXplOmtleVNpemUraXZTaXplfSkuY29tcHV0ZShwYXNzd29yZCxzYWx0KTt2YXIgaXY9V29yZEFycmF5LmNyZWF0ZShrZXkud29yZHMuc2xpY2Uoa2V5U2l6ZSksaXZTaXplKjQpO2tleS5zaWdCeXRlcz1rZXlTaXplKjQ7cmV0dXJuIENpcGhlclBhcmFtcy5jcmVhdGUoe2tleTprZXksaXY6aXYsc2FsdDpzYWx0fSk7fX07dmFyIFBhc3N3b3JkQmFzZWRDaXBoZXI9Q19saWIuUGFzc3dvcmRCYXNlZENpcGhlcj1TZXJpYWxpemFibGVDaXBoZXIuZXh0ZW5kKHtjZmc6U2VyaWFsaXphYmxlQ2lwaGVyLmNmZy5leHRlbmQoe2tkZjpPcGVuU1NMS2RmfSksZW5jcnlwdDpmdW5jdGlvbihjaXBoZXIsbWVzc2FnZSxwYXNzd29yZCxjZmcpe2NmZz10aGlzLmNmZy5leHRlbmQoY2ZnKTt2YXIgZGVyaXZlZFBhcmFtcz1jZmcua2RmLmV4ZWN1dGUocGFzc3dvcmQsY2lwaGVyLmtleVNpemUsY2lwaGVyLml2U2l6ZSk7Y2ZnLml2PWRlcml2ZWRQYXJhbXMuaXY7dmFyIGNpcGhlcnRleHQ9U2VyaWFsaXphYmxlQ2lwaGVyLmVuY3J5cHQuY2FsbCh0aGlzLGNpcGhlcixtZXNzYWdlLGRlcml2ZWRQYXJhbXMua2V5LGNmZyk7Y2lwaGVydGV4dC5taXhJbihkZXJpdmVkUGFyYW1zKTtyZXR1cm4gY2lwaGVydGV4dDt9LGRlY3J5cHQ6ZnVuY3Rpb24oY2lwaGVyLGNpcGhlcnRleHQscGFzc3dvcmQsY2ZnKXtjZmc9dGhpcy5jZmcuZXh0ZW5kKGNmZyk7Y2lwaGVydGV4dD10aGlzLl9wYXJzZShjaXBoZXJ0ZXh0LGNmZy5mb3JtYXQpO3ZhciBkZXJpdmVkUGFyYW1zPWNmZy5rZGYuZXhlY3V0ZShwYXNzd29yZCxjaXBoZXIua2V5U2l6ZSxjaXBoZXIuaXZTaXplLGNpcGhlcnRleHQuc2FsdCk7Y2ZnLml2PWRlcml2ZWRQYXJhbXMuaXY7dmFyIHBsYWludGV4dD1TZXJpYWxpemFibGVDaXBoZXIuZGVjcnlwdC5jYWxsKHRoaXMsY2lwaGVyLGNpcGhlcnRleHQsZGVyaXZlZFBhcmFtcy5rZXksY2ZnKTtyZXR1cm4gcGxhaW50ZXh0O319KTt9KCkpOyhmdW5jdGlvbigpe3ZhciBDPUNyeXB0b0pTO3ZhciBDX2xpYj1DLmxpYjt2YXIgQmxvY2tDaXBoZXI9Q19saWIuQmxvY2tDaXBoZXI7dmFyIENfYWxnbz1DLmFsZ287dmFyIFNCT1g9W107dmFyIElOVl9TQk9YPVtdO3ZhciBTVUJfTUlYXzA9W107dmFyIFNVQl9NSVhfMT1bXTt2YXIgU1VCX01JWF8yPVtdO3ZhciBTVUJfTUlYXzM9W107dmFyIElOVl9TVUJfTUlYXzA9W107dmFyIElOVl9TVUJfTUlYXzE9W107dmFyIElOVl9TVUJfTUlYXzI9W107dmFyIElOVl9TVUJfTUlYXzM9W107KGZ1bmN0aW9uKCl7dmFyIGQ9W107Zm9yKHZhciBpPTA7aTwyNTY7aSsrKXtpZihpPDEyOCl7ZFtpXT1pPDwxO31lbHNle2RbaV09KGk8PDEpXjB4MTFiO319CnZhciB4PTA7dmFyIHhpPTA7Zm9yKHZhciBpPTA7aTwyNTY7aSsrKXt2YXIgc3g9eGleKHhpPDwxKV4oeGk8PDIpXih4aTw8MyleKHhpPDw0KTtzeD0oc3g+Pj44KV4oc3gmMHhmZileMHg2MztTQk9YW3hdPXN4O0lOVl9TQk9YW3N4XT14O3ZhciB4Mj1kW3hdO3ZhciB4ND1kW3gyXTt2YXIgeDg9ZFt4NF07dmFyIHQ9KGRbc3hdKjB4MTAxKV4oc3gqMHgxMDEwMTAwKTtTVUJfTUlYXzBbeF09KHQ8PDI0KXwodD4+PjgpO1NVQl9NSVhfMVt4XT0odDw8MTYpfCh0Pj4+MTYpO1NVQl9NSVhfMlt4XT0odDw8OCl8KHQ+Pj4yNCk7U1VCX01JWF8zW3hdPXQ7dmFyIHQ9KHg4KjB4MTAxMDEwMSleKHg0KjB4MTAwMDEpXih4MioweDEwMSleKHgqMHgxMDEwMTAwKTtJTlZfU1VCX01JWF8wW3N4XT0odDw8MjQpfCh0Pj4+OCk7SU5WX1NVQl9NSVhfMVtzeF09KHQ8PDE2KXwodD4+PjE2KTtJTlZfU1VCX01JWF8yW3N4XT0odDw8OCl8KHQ+Pj4yNCk7SU5WX1NVQl9NSVhfM1tzeF09dDtpZigheCl7eD14aT0xO31lbHNle3g9eDJeZFtkW2RbeDheeDJdXV07eGlePWRbZFt4aV1dO319fSgpKTt2YXIgUkNPTj1bMHgwMCwweDAxLDB4MDIsMHgwNCwweDA4LDB4MTAsMHgyMCwweDQwLDB4ODAsMHgxYiwweDM2XTt2YXIgQUVTPUNfYWxnby5BRVM9QmxvY2tDaXBoZXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3ZhciBrZXk9dGhpcy5fa2V5O3ZhciBrZXlXb3Jkcz1rZXkud29yZHM7dmFyIGtleVNpemU9a2V5LnNpZ0J5dGVzLzQ7dmFyIG5Sb3VuZHM9dGhpcy5fblJvdW5kcz1rZXlTaXplKzYKdmFyIGtzUm93cz0oblJvdW5kcysxKSo0O3ZhciBrZXlTY2hlZHVsZT10aGlzLl9rZXlTY2hlZHVsZT1bXTtmb3IodmFyIGtzUm93PTA7a3NSb3c8a3NSb3dzO2tzUm93Kyspe2lmKGtzUm93PGtleVNpemUpe2tleVNjaGVkdWxlW2tzUm93XT1rZXlXb3Jkc1trc1Jvd107fWVsc2V7dmFyIHQ9a2V5U2NoZWR1bGVba3NSb3ctMV07aWYoIShrc1JvdyVrZXlTaXplKSl7dD0odDw8OCl8KHQ+Pj4yNCk7dD0oU0JPWFt0Pj4+MjRdPDwyNCl8KFNCT1hbKHQ+Pj4xNikmMHhmZl08PDE2KXwoU0JPWFsodD4+PjgpJjB4ZmZdPDw4KXxTQk9YW3QmMHhmZl07dF49UkNPTlsoa3NSb3cva2V5U2l6ZSl8MF08PDI0O31lbHNlIGlmKGtleVNpemU+NiYma3NSb3cla2V5U2l6ZT09NCl7dD0oU0JPWFt0Pj4+MjRdPDwyNCl8KFNCT1hbKHQ+Pj4xNikmMHhmZl08PDE2KXwoU0JPWFsodD4+PjgpJjB4ZmZdPDw4KXxTQk9YW3QmMHhmZl07fQprZXlTY2hlZHVsZVtrc1Jvd109a2V5U2NoZWR1bGVba3NSb3cta2V5U2l6ZV1edDt9fQp2YXIgaW52S2V5U2NoZWR1bGU9dGhpcy5faW52S2V5U2NoZWR1bGU9W107Zm9yKHZhciBpbnZLc1Jvdz0wO2ludktzUm93PGtzUm93cztpbnZLc1JvdysrKXt2YXIga3NSb3c9a3NSb3dzLWludktzUm93O2lmKGludktzUm93JTQpe3ZhciB0PWtleVNjaGVkdWxlW2tzUm93XTt9ZWxzZXt2YXIgdD1rZXlTY2hlZHVsZVtrc1Jvdy00XTt9CmlmKGludktzUm93PDR8fGtzUm93PD00KXtpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd109dDt9ZWxzZXtpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd109SU5WX1NVQl9NSVhfMFtTQk9YW3Q+Pj4yNF1dXklOVl9TVUJfTUlYXzFbU0JPWFsodD4+PjE2KSYweGZmXV1eSU5WX1NVQl9NSVhfMltTQk9YWyh0Pj4+OCkmMHhmZl1dXklOVl9TVUJfTUlYXzNbU0JPWFt0JjB4ZmZdXTt9fX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt0aGlzLl9kb0NyeXB0QmxvY2soTSxvZmZzZXQsdGhpcy5fa2V5U2NoZWR1bGUsU1VCX01JWF8wLFNVQl9NSVhfMSxTVUJfTUlYXzIsU1VCX01JWF8zLFNCT1gpO30sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgdD1NW29mZnNldCsxXTtNW29mZnNldCsxXT1NW29mZnNldCszXTtNW29mZnNldCszXT10O3RoaXMuX2RvQ3J5cHRCbG9jayhNLG9mZnNldCx0aGlzLl9pbnZLZXlTY2hlZHVsZSxJTlZfU1VCX01JWF8wLElOVl9TVUJfTUlYXzEsSU5WX1NVQl9NSVhfMixJTlZfU1VCX01JWF8zLElOVl9TQk9YKTt2YXIgdD1NW29mZnNldCsxXTtNW29mZnNldCsxXT1NW29mZnNldCszXTtNW29mZnNldCszXT10O30sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbihNLG9mZnNldCxrZXlTY2hlZHVsZSxTVUJfTUlYXzAsU1VCX01JWF8xLFNVQl9NSVhfMixTVUJfTUlYXzMsU0JPWCl7dmFyIG5Sb3VuZHM9dGhpcy5fblJvdW5kczt2YXIgczA9TVtvZmZzZXRdXmtleVNjaGVkdWxlWzBdO3ZhciBzMT1NW29mZnNldCsxXV5rZXlTY2hlZHVsZVsxXTt2YXIgczI9TVtvZmZzZXQrMl1ea2V5U2NoZWR1bGVbMl07dmFyIHMzPU1bb2Zmc2V0KzNdXmtleVNjaGVkdWxlWzNdO3ZhciBrc1Jvdz00O2Zvcih2YXIgcm91bmQ9MTtyb3VuZDxuUm91bmRzO3JvdW5kKyspe3ZhciB0MD1TVUJfTUlYXzBbczA+Pj4yNF1eU1VCX01JWF8xWyhzMT4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMyPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MzJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0MT1TVUJfTUlYXzBbczE+Pj4yNF1eU1VCX01JWF8xWyhzMj4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMzPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MwJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0Mj1TVUJfTUlYXzBbczI+Pj4yNF1eU1VCX01JWF8xWyhzMz4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMwPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MxJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0Mz1TVUJfTUlYXzBbczM+Pj4yNF1eU1VCX01JWF8xWyhzMD4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMxPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MyJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3MwPXQwO3MxPXQxO3MyPXQyO3MzPXQzO30KdmFyIHQwPSgoU0JPWFtzMD4+PjI0XTw8MjQpfChTQk9YWyhzMT4+PjE2KSYweGZmXTw8MTYpfChTQk9YWyhzMj4+PjgpJjB4ZmZdPDw4KXxTQk9YW3MzJjB4ZmZdKV5rZXlTY2hlZHVsZVtrc1JvdysrXTt2YXIgdDE9KChTQk9YW3MxPj4+MjRdPDwyNCl8KFNCT1hbKHMyPj4+MTYpJjB4ZmZdPDwxNil8KFNCT1hbKHMzPj4+OCkmMHhmZl08PDgpfFNCT1hbczAmMHhmZl0pXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0Mj0oKFNCT1hbczI+Pj4yNF08PDI0KXwoU0JPWFsoczM+Pj4xNikmMHhmZl08PDE2KXwoU0JPWFsoczA+Pj44KSYweGZmXTw8OCl8U0JPWFtzMSYweGZmXSlea2V5U2NoZWR1bGVba3NSb3crK107dmFyIHQzPSgoU0JPWFtzMz4+PjI0XTw8MjQpfChTQk9YWyhzMD4+PjE2KSYweGZmXTw8MTYpfChTQk9YWyhzMT4+PjgpJjB4ZmZdPDw4KXxTQk9YW3MyJjB4ZmZdKV5rZXlTY2hlZHVsZVtrc1JvdysrXTtNW29mZnNldF09dDA7TVtvZmZzZXQrMV09dDE7TVtvZmZzZXQrMl09dDI7TVtvZmZzZXQrM109dDM7fSxrZXlTaXplOjI1Ni8zMn0pO0MuQUVTPUJsb2NrQ2lwaGVyLl9jcmVhdGVIZWxwZXIoQUVTKTt9KCkpOyhmdW5jdGlvbihNYXRoKXt2YXIgQz1DcnlwdG9KUzt2YXIgQ19saWI9Qy5saWI7dmFyIFdvcmRBcnJheT1DX2xpYi5Xb3JkQXJyYXk7dmFyIEhhc2hlcj1DX2xpYi5IYXNoZXI7dmFyIENfYWxnbz1DLmFsZ287dmFyIFQ9W107KGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTw2NDtpKyspe1RbaV09KE1hdGguYWJzKE1hdGguc2luKGkrMSkpKjB4MTAwMDAwMDAwKXwwO319KCkpO3ZhciBNRDU9Q19hbGdvLk1ENT1IYXNoZXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IFdvcmRBcnJheS5pbml0KFsweDY3NDUyMzAxLDB4ZWZjZGFiODksMHg5OGJhZGNmZSwweDEwMzI1NDc2XSk7fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oTSxvZmZzZXQpe2Zvcih2YXIgaT0wO2k8MTY7aSsrKXt2YXIgb2Zmc2V0X2k9b2Zmc2V0K2k7dmFyIE1fb2Zmc2V0X2k9TVtvZmZzZXRfaV07TVtvZmZzZXRfaV09KCgoKE1fb2Zmc2V0X2k8PDgpfChNX29mZnNldF9pPj4+MjQpKSYweDAwZmYwMGZmKXwoKChNX29mZnNldF9pPDwyNCl8KE1fb2Zmc2V0X2k+Pj44KSkmMHhmZjAwZmYwMCkpO30KdmFyIEg9dGhpcy5faGFzaC53b3Jkczt2YXIgTV9vZmZzZXRfMD1NW29mZnNldCswXTt2YXIgTV9vZmZzZXRfMT1NW29mZnNldCsxXTt2YXIgTV9vZmZzZXRfMj1NW29mZnNldCsyXTt2YXIgTV9vZmZzZXRfMz1NW29mZnNldCszXTt2YXIgTV9vZmZzZXRfND1NW29mZnNldCs0XTt2YXIgTV9vZmZzZXRfNT1NW29mZnNldCs1XTt2YXIgTV9vZmZzZXRfNj1NW29mZnNldCs2XTt2YXIgTV9vZmZzZXRfNz1NW29mZnNldCs3XTt2YXIgTV9vZmZzZXRfOD1NW29mZnNldCs4XTt2YXIgTV9vZmZzZXRfOT1NW29mZnNldCs5XTt2YXIgTV9vZmZzZXRfMTA9TVtvZmZzZXQrMTBdO3ZhciBNX29mZnNldF8xMT1NW29mZnNldCsxMV07dmFyIE1fb2Zmc2V0XzEyPU1bb2Zmc2V0KzEyXTt2YXIgTV9vZmZzZXRfMTM9TVtvZmZzZXQrMTNdO3ZhciBNX29mZnNldF8xND1NW29mZnNldCsxNF07dmFyIE1fb2Zmc2V0XzE1PU1bb2Zmc2V0KzE1XTt2YXIgYT1IWzBdO3ZhciBiPUhbMV07dmFyIGM9SFsyXTt2YXIgZD1IWzNdO2E9RkYoYSxiLGMsZCxNX29mZnNldF8wLDcsVFswXSk7ZD1GRihkLGEsYixjLE1fb2Zmc2V0XzEsMTIsVFsxXSk7Yz1GRihjLGQsYSxiLE1fb2Zmc2V0XzIsMTcsVFsyXSk7Yj1GRihiLGMsZCxhLE1fb2Zmc2V0XzMsMjIsVFszXSk7YT1GRihhLGIsYyxkLE1fb2Zmc2V0XzQsNyxUWzRdKTtkPUZGKGQsYSxiLGMsTV9vZmZzZXRfNSwxMixUWzVdKTtjPUZGKGMsZCxhLGIsTV9vZmZzZXRfNiwxNyxUWzZdKTtiPUZGKGIsYyxkLGEsTV9vZmZzZXRfNywyMixUWzddKTthPUZGKGEsYixjLGQsTV9vZmZzZXRfOCw3LFRbOF0pO2Q9RkYoZCxhLGIsYyxNX29mZnNldF85LDEyLFRbOV0pO2M9RkYoYyxkLGEsYixNX29mZnNldF8xMCwxNyxUWzEwXSk7Yj1GRihiLGMsZCxhLE1fb2Zmc2V0XzExLDIyLFRbMTFdKTthPUZGKGEsYixjLGQsTV9vZmZzZXRfMTIsNyxUWzEyXSk7ZD1GRihkLGEsYixjLE1fb2Zmc2V0XzEzLDEyLFRbMTNdKTtjPUZGKGMsZCxhLGIsTV9vZmZzZXRfMTQsMTcsVFsxNF0pO2I9RkYoYixjLGQsYSxNX29mZnNldF8xNSwyMixUWzE1XSk7YT1HRyhhLGIsYyxkLE1fb2Zmc2V0XzEsNSxUWzE2XSk7ZD1HRyhkLGEsYixjLE1fb2Zmc2V0XzYsOSxUWzE3XSk7Yz1HRyhjLGQsYSxiLE1fb2Zmc2V0XzExLDE0LFRbMThdKTtiPUdHKGIsYyxkLGEsTV9vZmZzZXRfMCwyMCxUWzE5XSk7YT1HRyhhLGIsYyxkLE1fb2Zmc2V0XzUsNSxUWzIwXSk7ZD1HRyhkLGEsYixjLE1fb2Zmc2V0XzEwLDksVFsyMV0pO2M9R0coYyxkLGEsYixNX29mZnNldF8xNSwxNCxUWzIyXSk7Yj1HRyhiLGMsZCxhLE1fb2Zmc2V0XzQsMjAsVFsyM10pO2E9R0coYSxiLGMsZCxNX29mZnNldF85LDUsVFsyNF0pO2Q9R0coZCxhLGIsYyxNX29mZnNldF8xNCw5LFRbMjVdKTtjPUdHKGMsZCxhLGIsTV9vZmZzZXRfMywxNCxUWzI2XSk7Yj1HRyhiLGMsZCxhLE1fb2Zmc2V0XzgsMjAsVFsyN10pO2E9R0coYSxiLGMsZCxNX29mZnNldF8xMyw1LFRbMjhdKTtkPUdHKGQsYSxiLGMsTV9vZmZzZXRfMiw5LFRbMjldKTtjPUdHKGMsZCxhLGIsTV9vZmZzZXRfNywxNCxUWzMwXSk7Yj1HRyhiLGMsZCxhLE1fb2Zmc2V0XzEyLDIwLFRbMzFdKTthPUhIKGEsYixjLGQsTV9vZmZzZXRfNSw0LFRbMzJdKTtkPUhIKGQsYSxiLGMsTV9vZmZzZXRfOCwxMSxUWzMzXSk7Yz1ISChjLGQsYSxiLE1fb2Zmc2V0XzExLDE2LFRbMzRdKTtiPUhIKGIsYyxkLGEsTV9vZmZzZXRfMTQsMjMsVFszNV0pO2E9SEgoYSxiLGMsZCxNX29mZnNldF8xLDQsVFszNl0pO2Q9SEgoZCxhLGIsYyxNX29mZnNldF80LDExLFRbMzddKTtjPUhIKGMsZCxhLGIsTV9vZmZzZXRfNywxNixUWzM4XSk7Yj1ISChiLGMsZCxhLE1fb2Zmc2V0XzEwLDIzLFRbMzldKTthPUhIKGEsYixjLGQsTV9vZmZzZXRfMTMsNCxUWzQwXSk7ZD1ISChkLGEsYixjLE1fb2Zmc2V0XzAsMTEsVFs0MV0pO2M9SEgoYyxkLGEsYixNX29mZnNldF8zLDE2LFRbNDJdKTtiPUhIKGIsYyxkLGEsTV9vZmZzZXRfNiwyMyxUWzQzXSk7YT1ISChhLGIsYyxkLE1fb2Zmc2V0XzksNCxUWzQ0XSk7ZD1ISChkLGEsYixjLE1fb2Zmc2V0XzEyLDExLFRbNDVdKTtjPUhIKGMsZCxhLGIsTV9vZmZzZXRfMTUsMTYsVFs0Nl0pO2I9SEgoYixjLGQsYSxNX29mZnNldF8yLDIzLFRbNDddKTthPUlJKGEsYixjLGQsTV9vZmZzZXRfMCw2LFRbNDhdKTtkPUlJKGQsYSxiLGMsTV9vZmZzZXRfNywxMCxUWzQ5XSk7Yz1JSShjLGQsYSxiLE1fb2Zmc2V0XzE0LDE1LFRbNTBdKTtiPUlJKGIsYyxkLGEsTV9vZmZzZXRfNSwyMSxUWzUxXSk7YT1JSShhLGIsYyxkLE1fb2Zmc2V0XzEyLDYsVFs1Ml0pO2Q9SUkoZCxhLGIsYyxNX29mZnNldF8zLDEwLFRbNTNdKTtjPUlJKGMsZCxhLGIsTV9vZmZzZXRfMTAsMTUsVFs1NF0pO2I9SUkoYixjLGQsYSxNX29mZnNldF8xLDIxLFRbNTVdKTthPUlJKGEsYixjLGQsTV9vZmZzZXRfOCw2LFRbNTZdKTtkPUlJKGQsYSxiLGMsTV9vZmZzZXRfMTUsMTAsVFs1N10pO2M9SUkoYyxkLGEsYixNX29mZnNldF82LDE1LFRbNThdKTtiPUlJKGIsYyxkLGEsTV9vZmZzZXRfMTMsMjEsVFs1OV0pO2E9SUkoYSxiLGMsZCxNX29mZnNldF80LDYsVFs2MF0pO2Q9SUkoZCxhLGIsYyxNX29mZnNldF8xMSwxMCxUWzYxXSk7Yz1JSShjLGQsYSxiLE1fb2Zmc2V0XzIsMTUsVFs2Ml0pO2I9SUkoYixjLGQsYSxNX29mZnNldF85LDIxLFRbNjNdKTtIWzBdPShIWzBdK2EpfDA7SFsxXT0oSFsxXStiKXwwO0hbMl09KEhbMl0rYyl8MDtIWzNdPShIWzNdK2QpfDA7fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBkYXRhPXRoaXMuX2RhdGE7dmFyIGRhdGFXb3Jkcz1kYXRhLndvcmRzO3ZhciBuQml0c1RvdGFsPXRoaXMuX25EYXRhQnl0ZXMqODt2YXIgbkJpdHNMZWZ0PWRhdGEuc2lnQnl0ZXMqODtkYXRhV29yZHNbbkJpdHNMZWZ0Pj4+NV18PTB4ODA8PCgyNC1uQml0c0xlZnQlMzIpO3ZhciBuQml0c1RvdGFsSD1NYXRoLmZsb29yKG5CaXRzVG90YWwvMHgxMDAwMDAwMDApO3ZhciBuQml0c1RvdGFsTD1uQml0c1RvdGFsO2RhdGFXb3Jkc1soKChuQml0c0xlZnQrNjQpPj4+OSk8PDQpKzE1XT0oKCgobkJpdHNUb3RhbEg8PDgpfChuQml0c1RvdGFsSD4+PjI0KSkmMHgwMGZmMDBmZil8KCgobkJpdHNUb3RhbEg8PDI0KXwobkJpdHNUb3RhbEg+Pj44KSkmMHhmZjAwZmYwMCkpO2RhdGFXb3Jkc1soKChuQml0c0xlZnQrNjQpPj4+OSk8PDQpKzE0XT0oKCgobkJpdHNUb3RhbEw8PDgpfChuQml0c1RvdGFsTD4+PjI0KSkmMHgwMGZmMDBmZil8KCgobkJpdHNUb3RhbEw8PDI0KXwobkJpdHNUb3RhbEw+Pj44KSkmMHhmZjAwZmYwMCkpO2RhdGEuc2lnQnl0ZXM9KGRhdGFXb3Jkcy5sZW5ndGgrMSkqNDt0aGlzLl9wcm9jZXNzKCk7dmFyIGhhc2g9dGhpcy5faGFzaDt2YXIgSD1oYXNoLndvcmRzO2Zvcih2YXIgaT0wO2k8NDtpKyspe3ZhciBIX2k9SFtpXTtIW2ldPSgoKEhfaTw8OCl8KEhfaT4+PjI0KSkmMHgwMGZmMDBmZil8KCgoSF9pPDwyNCl8KEhfaT4+PjgpKSYweGZmMDBmZjAwKTt9CnJldHVybiBoYXNoO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9SGFzaGVyLmNsb25lLmNhbGwodGhpcyk7Y2xvbmUuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBjbG9uZTt9fSk7ZnVuY3Rpb24gRkYoYSxiLGMsZCx4LHMsdCl7dmFyIG49YSsoKGImYyl8KH5iJmQpKSt4K3Q7cmV0dXJuKChuPDxzKXwobj4+PigzMi1zKSkpK2I7fQpmdW5jdGlvbiBHRyhhLGIsYyxkLHgscyx0KXt2YXIgbj1hKygoYiZkKXwoYyZ+ZCkpK3grdDtyZXR1cm4oKG48PHMpfChuPj4+KDMyLXMpKSkrYjt9CmZ1bmN0aW9uIEhIKGEsYixjLGQseCxzLHQpe3ZhciBuPWErKGJeY15kKSt4K3Q7cmV0dXJuKChuPDxzKXwobj4+PigzMi1zKSkpK2I7fQpmdW5jdGlvbiBJSShhLGIsYyxkLHgscyx0KXt2YXIgbj1hKyhjXihifH5kKSkreCt0O3JldHVybigobjw8cyl8KG4+Pj4oMzItcykpKStiO30KQy5NRDU9SGFzaGVyLl9jcmVhdGVIZWxwZXIoTUQ1KTtDLkhtYWNNRDU9SGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKE1ENSk7fShNYXRoKSk7KGZ1bmN0aW9uKCl7dmFyIEM9Q3J5cHRvSlM7dmFyIENfbGliPUMubGliO3ZhciBXb3JkQXJyYXk9Q19saWIuV29yZEFycmF5O3ZhciBIYXNoZXI9Q19saWIuSGFzaGVyO3ZhciBDX2FsZ289Qy5hbGdvO3ZhciBXPVtdO3ZhciBTSEExPUNfYWxnby5TSEExPUhhc2hlci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgV29yZEFycmF5LmluaXQoWzB4Njc0NTIzMDEsMHhlZmNkYWI4OSwweDk4YmFkY2ZlLDB4MTAzMjU0NzYsMHhjM2QyZTFmMF0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgSD10aGlzLl9oYXNoLndvcmRzO3ZhciBhPUhbMF07dmFyIGI9SFsxXTt2YXIgYz1IWzJdO3ZhciBkPUhbM107dmFyIGU9SFs0XTtmb3IodmFyIGk9MDtpPDgwO2krKyl7aWYoaTwxNil7V1tpXT1NW29mZnNldCtpXXwwO31lbHNle3ZhciBuPVdbaS0zXV5XW2ktOF1eV1tpLTE0XV5XW2ktMTZdO1dbaV09KG48PDEpfChuPj4+MzEpO30KdmFyIHQ9KChhPDw1KXwoYT4+PjI3KSkrZStXW2ldO2lmKGk8MjApe3QrPSgoYiZjKXwofmImZCkpKzB4NWE4Mjc5OTk7fWVsc2UgaWYoaTw0MCl7dCs9KGJeY15kKSsweDZlZDllYmExO31lbHNlIGlmKGk8NjApe3QrPSgoYiZjKXwoYiZkKXwoYyZkKSktMHg3MGU0NDMyNDt9ZWxzZXt0Kz0oYl5jXmQpLTB4MzU5ZDNlMmE7fQplPWQ7ZD1jO2M9KGI8PDMwKXwoYj4+PjIpO2I9YTthPXQ7fQpIWzBdPShIWzBdK2EpfDA7SFsxXT0oSFsxXStiKXwwO0hbMl09KEhbMl0rYyl8MDtIWzNdPShIWzNdK2QpfDA7SFs0XT0oSFs0XStlKXwwO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDgwPDwoMjQtbkJpdHNMZWZ0JTMyKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNF09TWF0aC5mbG9vcihuQml0c1RvdGFsLzB4MTAwMDAwMDAwKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNV09bkJpdHNUb3RhbDtkYXRhLnNpZ0J5dGVzPWRhdGFXb3Jkcy5sZW5ndGgqNDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2g7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1IYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtjbG9uZS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCk7cmV0dXJuIGNsb25lO319KTtDLlNIQTE9SGFzaGVyLl9jcmVhdGVIZWxwZXIoU0hBMSk7Qy5IbWFjU0hBMT1IYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMSk7fSgpKTsoZnVuY3Rpb24odW5kZWZpbmVkKXt2YXIgQz1DcnlwdG9KUzt2YXIgQ19saWI9Qy5saWI7dmFyIEJhc2U9Q19saWIuQmFzZTt2YXIgWDMyV29yZEFycmF5PUNfbGliLldvcmRBcnJheTt2YXIgQ194NjQ9Qy54NjQ9e307dmFyIFg2NFdvcmQ9Q194NjQuV29yZD1CYXNlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihoaWdoLGxvdyl7dGhpcy5oaWdoPWhpZ2g7dGhpcy5sb3c9bG93O319KTt2YXIgWDY0V29yZEFycmF5PUNfeDY0LldvcmRBcnJheT1CYXNlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih3b3JkcyxzaWdCeXRlcyl7d29yZHM9dGhpcy53b3Jkcz13b3Jkc3x8W107aWYoc2lnQnl0ZXMhPXVuZGVmaW5lZCl7dGhpcy5zaWdCeXRlcz1zaWdCeXRlczt9ZWxzZXt0aGlzLnNpZ0J5dGVzPXdvcmRzLmxlbmd0aCo4O319LHRvWDMyOmZ1bmN0aW9uKCl7dmFyIHg2NFdvcmRzPXRoaXMud29yZHM7dmFyIHg2NFdvcmRzTGVuZ3RoPXg2NFdvcmRzLmxlbmd0aDt2YXIgeDMyV29yZHM9W107Zm9yKHZhciBpPTA7aTx4NjRXb3Jkc0xlbmd0aDtpKyspe3ZhciB4NjRXb3JkPXg2NFdvcmRzW2ldO3gzMldvcmRzLnB1c2goeDY0V29yZC5oaWdoKTt4MzJXb3Jkcy5wdXNoKHg2NFdvcmQubG93KTt9CnJldHVybiBYMzJXb3JkQXJyYXkuY3JlYXRlKHgzMldvcmRzLHRoaXMuc2lnQnl0ZXMpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9QmFzZS5jbG9uZS5jYWxsKHRoaXMpO3ZhciB3b3Jkcz1jbG9uZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApO3ZhciB3b3Jkc0xlbmd0aD13b3Jkcy5sZW5ndGg7Zm9yKHZhciBpPTA7aTx3b3Jkc0xlbmd0aDtpKyspe3dvcmRzW2ldPXdvcmRzW2ldLmNsb25lKCk7fQpyZXR1cm4gY2xvbmU7fX0pO30oKSk7KGZ1bmN0aW9uKE1hdGgpe3ZhciBDPUNyeXB0b0pTO3ZhciBDX2xpYj1DLmxpYjt2YXIgV29yZEFycmF5PUNfbGliLldvcmRBcnJheTt2YXIgSGFzaGVyPUNfbGliLkhhc2hlcjt2YXIgQ19hbGdvPUMuYWxnbzt2YXIgSD1bXTt2YXIgSz1bXTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1ByaW1lKG4pe3ZhciBzcXJ0Tj1NYXRoLnNxcnQobik7Zm9yKHZhciBmYWN0b3I9MjtmYWN0b3I8PXNxcnROO2ZhY3RvcisrKXtpZighKG4lZmFjdG9yKSl7cmV0dXJuIGZhbHNlO319CnJldHVybiB0cnVlO30KZnVuY3Rpb24gZ2V0RnJhY3Rpb25hbEJpdHMobil7cmV0dXJuKChuLShufDApKSoweDEwMDAwMDAwMCl8MDt9CnZhciBuPTI7dmFyIG5QcmltZT0wO3doaWxlKG5QcmltZTw2NCl7aWYoaXNQcmltZShuKSl7aWYoblByaW1lPDgpe0hbblByaW1lXT1nZXRGcmFjdGlvbmFsQml0cyhNYXRoLnBvdyhuLDEvMikpO30KS1tuUHJpbWVdPWdldEZyYWN0aW9uYWxCaXRzKE1hdGgucG93KG4sMS8zKSk7blByaW1lKys7fQpuKys7fX0oKSk7dmFyIFc9W107dmFyIFNIQTI1Nj1DX2FsZ28uU0hBMjU2PUhhc2hlci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgV29yZEFycmF5LmluaXQoSC5zbGljZSgwKSk7fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oTSxvZmZzZXQpe3ZhciBIPXRoaXMuX2hhc2gud29yZHM7dmFyIGE9SFswXTt2YXIgYj1IWzFdO3ZhciBjPUhbMl07dmFyIGQ9SFszXTt2YXIgZT1IWzRdO3ZhciBmPUhbNV07dmFyIGc9SFs2XTt2YXIgaD1IWzddO2Zvcih2YXIgaT0wO2k8NjQ7aSsrKXtpZihpPDE2KXtXW2ldPU1bb2Zmc2V0K2ldfDA7fWVsc2V7dmFyIGdhbW1hMHg9V1tpLTE1XTt2YXIgZ2FtbWEwPSgoZ2FtbWEweDw8MjUpfChnYW1tYTB4Pj4+NykpXigoZ2FtbWEweDw8MTQpfChnYW1tYTB4Pj4+MTgpKV4oZ2FtbWEweD4+PjMpO3ZhciBnYW1tYTF4PVdbaS0yXTt2YXIgZ2FtbWExPSgoZ2FtbWExeDw8MTUpfChnYW1tYTF4Pj4+MTcpKV4oKGdhbW1hMXg8PDEzKXwoZ2FtbWExeD4+PjE5KSleKGdhbW1hMXg+Pj4xMCk7V1tpXT1nYW1tYTArV1tpLTddK2dhbW1hMStXW2ktMTZdO30KdmFyIGNoPShlJmYpXih+ZSZnKTt2YXIgbWFqPShhJmIpXihhJmMpXihiJmMpO3ZhciBzaWdtYTA9KChhPDwzMCl8KGE+Pj4yKSleKChhPDwxOSl8KGE+Pj4xMykpXigoYTw8MTApfChhPj4+MjIpKTt2YXIgc2lnbWExPSgoZTw8MjYpfChlPj4+NikpXigoZTw8MjEpfChlPj4+MTEpKV4oKGU8PDcpfChlPj4+MjUpKTt2YXIgdDE9aCtzaWdtYTErY2grS1tpXStXW2ldO3ZhciB0Mj1zaWdtYTArbWFqO2g9ZztnPWY7Zj1lO2U9KGQrdDEpfDA7ZD1jO2M9YjtiPWE7YT0odDErdDIpfDA7fQpIWzBdPShIWzBdK2EpfDA7SFsxXT0oSFsxXStiKXwwO0hbMl09KEhbMl0rYyl8MDtIWzNdPShIWzNdK2QpfDA7SFs0XT0oSFs0XStlKXwwO0hbNV09KEhbNV0rZil8MDtIWzZdPShIWzZdK2cpfDA7SFs3XT0oSFs3XStoKXwwO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDgwPDwoMjQtbkJpdHNMZWZ0JTMyKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNF09TWF0aC5mbG9vcihuQml0c1RvdGFsLzB4MTAwMDAwMDAwKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNV09bkJpdHNUb3RhbDtkYXRhLnNpZ0J5dGVzPWRhdGFXb3Jkcy5sZW5ndGgqNDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2g7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1IYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtjbG9uZS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCk7cmV0dXJuIGNsb25lO319KTtDLlNIQTI1Nj1IYXNoZXIuX2NyZWF0ZUhlbHBlcihTSEEyNTYpO0MuSG1hY1NIQTI1Nj1IYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMjU2KTt9KE1hdGgpKTsoZnVuY3Rpb24oKXt2YXIgQz1DcnlwdG9KUzt2YXIgQ19saWI9Qy5saWI7dmFyIEhhc2hlcj1DX2xpYi5IYXNoZXI7dmFyIENfeDY0PUMueDY0O3ZhciBYNjRXb3JkPUNfeDY0LldvcmQ7dmFyIFg2NFdvcmRBcnJheT1DX3g2NC5Xb3JkQXJyYXk7dmFyIENfYWxnbz1DLmFsZ287ZnVuY3Rpb24gWDY0V29yZF9jcmVhdGUoKXtyZXR1cm4gWDY0V29yZC5jcmVhdGUuYXBwbHkoWDY0V29yZCxhcmd1bWVudHMpO30KdmFyIEs9W1g2NFdvcmRfY3JlYXRlKDB4NDI4YTJmOTgsMHhkNzI4YWUyMiksWDY0V29yZF9jcmVhdGUoMHg3MTM3NDQ5MSwweDIzZWY2NWNkKSxYNjRXb3JkX2NyZWF0ZSgweGI1YzBmYmNmLDB4ZWM0ZDNiMmYpLFg2NFdvcmRfY3JlYXRlKDB4ZTliNWRiYTUsMHg4MTg5ZGJiYyksWDY0V29yZF9jcmVhdGUoMHgzOTU2YzI1YiwweGYzNDhiNTM4KSxYNjRXb3JkX2NyZWF0ZSgweDU5ZjExMWYxLDB4YjYwNWQwMTkpLFg2NFdvcmRfY3JlYXRlKDB4OTIzZjgyYTQsMHhhZjE5NGY5YiksWDY0V29yZF9jcmVhdGUoMHhhYjFjNWVkNSwweGRhNmQ4MTE4KSxYNjRXb3JkX2NyZWF0ZSgweGQ4MDdhYTk4LDB4YTMwMzAyNDIpLFg2NFdvcmRfY3JlYXRlKDB4MTI4MzViMDEsMHg0NTcwNmZiZSksWDY0V29yZF9jcmVhdGUoMHgyNDMxODViZSwweDRlZTRiMjhjKSxYNjRXb3JkX2NyZWF0ZSgweDU1MGM3ZGMzLDB4ZDVmZmI0ZTIpLFg2NFdvcmRfY3JlYXRlKDB4NzJiZTVkNzQsMHhmMjdiODk2ZiksWDY0V29yZF9jcmVhdGUoMHg4MGRlYjFmZSwweDNiMTY5NmIxKSxYNjRXb3JkX2NyZWF0ZSgweDliZGMwNmE3LDB4MjVjNzEyMzUpLFg2NFdvcmRfY3JlYXRlKDB4YzE5YmYxNzQsMHhjZjY5MjY5NCksWDY0V29yZF9jcmVhdGUoMHhlNDliNjljMSwweDllZjE0YWQyKSxYNjRXb3JkX2NyZWF0ZSgweGVmYmU0Nzg2LDB4Mzg0ZjI1ZTMpLFg2NFdvcmRfY3JlYXRlKDB4MGZjMTlkYzYsMHg4YjhjZDViNSksWDY0V29yZF9jcmVhdGUoMHgyNDBjYTFjYywweDc3YWM5YzY1KSxYNjRXb3JkX2NyZWF0ZSgweDJkZTkyYzZmLDB4NTkyYjAyNzUpLFg2NFdvcmRfY3JlYXRlKDB4NGE3NDg0YWEsMHg2ZWE2ZTQ4MyksWDY0V29yZF9jcmVhdGUoMHg1Y2IwYTlkYywweGJkNDFmYmQ0KSxYNjRXb3JkX2NyZWF0ZSgweDc2Zjk4OGRhLDB4ODMxMTUzYjUpLFg2NFdvcmRfY3JlYXRlKDB4OTgzZTUxNTIsMHhlZTY2ZGZhYiksWDY0V29yZF9jcmVhdGUoMHhhODMxYzY2ZCwweDJkYjQzMjEwKSxYNjRXb3JkX2NyZWF0ZSgweGIwMDMyN2M4LDB4OThmYjIxM2YpLFg2NFdvcmRfY3JlYXRlKDB4YmY1OTdmYzcsMHhiZWVmMGVlNCksWDY0V29yZF9jcmVhdGUoMHhjNmUwMGJmMywweDNkYTg4ZmMyKSxYNjRXb3JkX2NyZWF0ZSgweGQ1YTc5MTQ3LDB4OTMwYWE3MjUpLFg2NFdvcmRfY3JlYXRlKDB4MDZjYTYzNTEsMHhlMDAzODI2ZiksWDY0V29yZF9jcmVhdGUoMHgxNDI5Mjk2NywweDBhMGU2ZTcwKSxYNjRXb3JkX2NyZWF0ZSgweDI3YjcwYTg1LDB4NDZkMjJmZmMpLFg2NFdvcmRfY3JlYXRlKDB4MmUxYjIxMzgsMHg1YzI2YzkyNiksWDY0V29yZF9jcmVhdGUoMHg0ZDJjNmRmYywweDVhYzQyYWVkKSxYNjRXb3JkX2NyZWF0ZSgweDUzMzgwZDEzLDB4OWQ5NWIzZGYpLFg2NFdvcmRfY3JlYXRlKDB4NjUwYTczNTQsMHg4YmFmNjNkZSksWDY0V29yZF9jcmVhdGUoMHg3NjZhMGFiYiwweDNjNzdiMmE4KSxYNjRXb3JkX2NyZWF0ZSgweDgxYzJjOTJlLDB4NDdlZGFlZTYpLFg2NFdvcmRfY3JlYXRlKDB4OTI3MjJjODUsMHgxNDgyMzUzYiksWDY0V29yZF9jcmVhdGUoMHhhMmJmZThhMSwweDRjZjEwMzY0KSxYNjRXb3JkX2NyZWF0ZSgweGE4MWE2NjRiLDB4YmM0MjMwMDEpLFg2NFdvcmRfY3JlYXRlKDB4YzI0YjhiNzAsMHhkMGY4OTc5MSksWDY0V29yZF9jcmVhdGUoMHhjNzZjNTFhMywweDA2NTRiZTMwKSxYNjRXb3JkX2NyZWF0ZSgweGQxOTJlODE5LDB4ZDZlZjUyMTgpLFg2NFdvcmRfY3JlYXRlKDB4ZDY5OTA2MjQsMHg1NTY1YTkxMCksWDY0V29yZF9jcmVhdGUoMHhmNDBlMzU4NSwweDU3NzEyMDJhKSxYNjRXb3JkX2NyZWF0ZSgweDEwNmFhMDcwLDB4MzJiYmQxYjgpLFg2NFdvcmRfY3JlYXRlKDB4MTlhNGMxMTYsMHhiOGQyZDBjOCksWDY0V29yZF9jcmVhdGUoMHgxZTM3NmMwOCwweDUxNDFhYjUzKSxYNjRXb3JkX2NyZWF0ZSgweDI3NDg3NzRjLDB4ZGY4ZWViOTkpLFg2NFdvcmRfY3JlYXRlKDB4MzRiMGJjYjUsMHhlMTliNDhhOCksWDY0V29yZF9jcmVhdGUoMHgzOTFjMGNiMywweGM1Yzk1YTYzKSxYNjRXb3JkX2NyZWF0ZSgweDRlZDhhYTRhLDB4ZTM0MThhY2IpLFg2NFdvcmRfY3JlYXRlKDB4NWI5Y2NhNGYsMHg3NzYzZTM3MyksWDY0V29yZF9jcmVhdGUoMHg2ODJlNmZmMywweGQ2YjJiOGEzKSxYNjRXb3JkX2NyZWF0ZSgweDc0OGY4MmVlLDB4NWRlZmIyZmMpLFg2NFdvcmRfY3JlYXRlKDB4NzhhNTYzNmYsMHg0MzE3MmY2MCksWDY0V29yZF9jcmVhdGUoMHg4NGM4NzgxNCwweGExZjBhYjcyKSxYNjRXb3JkX2NyZWF0ZSgweDhjYzcwMjA4LDB4MWE2NDM5ZWMpLFg2NFdvcmRfY3JlYXRlKDB4OTBiZWZmZmEsMHgyMzYzMWUyOCksWDY0V29yZF9jcmVhdGUoMHhhNDUwNmNlYiwweGRlODJiZGU5KSxYNjRXb3JkX2NyZWF0ZSgweGJlZjlhM2Y3LDB4YjJjNjc5MTUpLFg2NFdvcmRfY3JlYXRlKDB4YzY3MTc4ZjIsMHhlMzcyNTMyYiksWDY0V29yZF9jcmVhdGUoMHhjYTI3M2VjZSwweGVhMjY2MTljKSxYNjRXb3JkX2NyZWF0ZSgweGQxODZiOGM3LDB4MjFjMGMyMDcpLFg2NFdvcmRfY3JlYXRlKDB4ZWFkYTdkZDYsMHhjZGUwZWIxZSksWDY0V29yZF9jcmVhdGUoMHhmNTdkNGY3ZiwweGVlNmVkMTc4KSxYNjRXb3JkX2NyZWF0ZSgweDA2ZjA2N2FhLDB4NzIxNzZmYmEpLFg2NFdvcmRfY3JlYXRlKDB4MGE2MzdkYzUsMHhhMmM4OThhNiksWDY0V29yZF9jcmVhdGUoMHgxMTNmOTgwNCwweGJlZjkwZGFlKSxYNjRXb3JkX2NyZWF0ZSgweDFiNzEwYjM1LDB4MTMxYzQ3MWIpLFg2NFdvcmRfY3JlYXRlKDB4MjhkYjc3ZjUsMHgyMzA0N2Q4NCksWDY0V29yZF9jcmVhdGUoMHgzMmNhYWI3YiwweDQwYzcyNDkzKSxYNjRXb3JkX2NyZWF0ZSgweDNjOWViZTBhLDB4MTVjOWJlYmMpLFg2NFdvcmRfY3JlYXRlKDB4NDMxZDY3YzQsMHg5YzEwMGQ0YyksWDY0V29yZF9jcmVhdGUoMHg0Y2M1ZDRiZSwweGNiM2U0MmI2KSxYNjRXb3JkX2NyZWF0ZSgweDU5N2YyOTljLDB4ZmM2NTdlMmEpLFg2NFdvcmRfY3JlYXRlKDB4NWZjYjZmYWIsMHgzYWQ2ZmFlYyksWDY0V29yZF9jcmVhdGUoMHg2YzQ0MTk4YywweDRhNDc1ODE3KV07dmFyIFc9W107KGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTw4MDtpKyspe1dbaV09WDY0V29yZF9jcmVhdGUoKTt9fSgpKTt2YXIgU0hBNTEyPUNfYWxnby5TSEE1MTI9SGFzaGVyLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBYNjRXb3JkQXJyYXkuaW5pdChbbmV3IFg2NFdvcmQuaW5pdCgweDZhMDllNjY3LDB4ZjNiY2M5MDgpLG5ldyBYNjRXb3JkLmluaXQoMHhiYjY3YWU4NSwweDg0Y2FhNzNiKSxuZXcgWDY0V29yZC5pbml0KDB4M2M2ZWYzNzIsMHhmZTk0ZjgyYiksbmV3IFg2NFdvcmQuaW5pdCgweGE1NGZmNTNhLDB4NWYxZDM2ZjEpLG5ldyBYNjRXb3JkLmluaXQoMHg1MTBlNTI3ZiwweGFkZTY4MmQxKSxuZXcgWDY0V29yZC5pbml0KDB4OWIwNTY4OGMsMHgyYjNlNmMxZiksbmV3IFg2NFdvcmQuaW5pdCgweDFmODNkOWFiLDB4ZmI0MWJkNmIpLG5ldyBYNjRXb3JkLmluaXQoMHg1YmUwY2QxOSwweDEzN2UyMTc5KV0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgSD10aGlzLl9oYXNoLndvcmRzO3ZhciBIMD1IWzBdO3ZhciBIMT1IWzFdO3ZhciBIMj1IWzJdO3ZhciBIMz1IWzNdO3ZhciBIND1IWzRdO3ZhciBINT1IWzVdO3ZhciBINj1IWzZdO3ZhciBINz1IWzddO3ZhciBIMGg9SDAuaGlnaDt2YXIgSDBsPUgwLmxvdzt2YXIgSDFoPUgxLmhpZ2g7dmFyIEgxbD1IMS5sb3c7dmFyIEgyaD1IMi5oaWdoO3ZhciBIMmw9SDIubG93O3ZhciBIM2g9SDMuaGlnaDt2YXIgSDNsPUgzLmxvdzt2YXIgSDRoPUg0LmhpZ2g7dmFyIEg0bD1INC5sb3c7dmFyIEg1aD1INS5oaWdoO3ZhciBINWw9SDUubG93O3ZhciBINmg9SDYuaGlnaDt2YXIgSDZsPUg2Lmxvdzt2YXIgSDdoPUg3LmhpZ2g7dmFyIEg3bD1INy5sb3c7dmFyIGFoPUgwaDt2YXIgYWw9SDBsO3ZhciBiaD1IMWg7dmFyIGJsPUgxbDt2YXIgY2g9SDJoO3ZhciBjbD1IMmw7dmFyIGRoPUgzaDt2YXIgZGw9SDNsO3ZhciBlaD1INGg7dmFyIGVsPUg0bDt2YXIgZmg9SDVoO3ZhciBmbD1INWw7dmFyIGdoPUg2aDt2YXIgZ2w9SDZsO3ZhciBoaD1IN2g7dmFyIGhsPUg3bDtmb3IodmFyIGk9MDtpPDgwO2krKyl7dmFyIFdpPVdbaV07aWYoaTwxNil7dmFyIFdpaD1XaS5oaWdoPU1bb2Zmc2V0K2kqMl18MDt2YXIgV2lsPVdpLmxvdz1NW29mZnNldCtpKjIrMV18MDt9ZWxzZXt2YXIgZ2FtbWEweD1XW2ktMTVdO3ZhciBnYW1tYTB4aD1nYW1tYTB4LmhpZ2g7dmFyIGdhbW1hMHhsPWdhbW1hMHgubG93O3ZhciBnYW1tYTBoPSgoZ2FtbWEweGg+Pj4xKXwoZ2FtbWEweGw8PDMxKSleKChnYW1tYTB4aD4+PjgpfChnYW1tYTB4bDw8MjQpKV4oZ2FtbWEweGg+Pj43KTt2YXIgZ2FtbWEwbD0oKGdhbW1hMHhsPj4+MSl8KGdhbW1hMHhoPDwzMSkpXigoZ2FtbWEweGw+Pj44KXwoZ2FtbWEweGg8PDI0KSleKChnYW1tYTB4bD4+PjcpfChnYW1tYTB4aDw8MjUpKTt2YXIgZ2FtbWExeD1XW2ktMl07dmFyIGdhbW1hMXhoPWdhbW1hMXguaGlnaDt2YXIgZ2FtbWExeGw9Z2FtbWExeC5sb3c7dmFyIGdhbW1hMWg9KChnYW1tYTF4aD4+PjE5KXwoZ2FtbWExeGw8PDEzKSleKChnYW1tYTF4aDw8Myl8KGdhbW1hMXhsPj4+MjkpKV4oZ2FtbWExeGg+Pj42KTt2YXIgZ2FtbWExbD0oKGdhbW1hMXhsPj4+MTkpfChnYW1tYTF4aDw8MTMpKV4oKGdhbW1hMXhsPDwzKXwoZ2FtbWExeGg+Pj4yOSkpXigoZ2FtbWExeGw+Pj42KXwoZ2FtbWExeGg8PDI2KSk7dmFyIFdpNz1XW2ktN107dmFyIFdpN2g9V2k3LmhpZ2g7dmFyIFdpN2w9V2k3Lmxvdzt2YXIgV2kxNj1XW2ktMTZdO3ZhciBXaTE2aD1XaTE2LmhpZ2g7dmFyIFdpMTZsPVdpMTYubG93O3ZhciBXaWw9Z2FtbWEwbCtXaTdsO3ZhciBXaWg9Z2FtbWEwaCtXaTdoKygoV2lsPj4+MCk8KGdhbW1hMGw+Pj4wKT8xOjApO3ZhciBXaWw9V2lsK2dhbW1hMWw7dmFyIFdpaD1XaWgrZ2FtbWExaCsoKFdpbD4+PjApPChnYW1tYTFsPj4+MCk/MTowKTt2YXIgV2lsPVdpbCtXaTE2bDt2YXIgV2loPVdpaCtXaTE2aCsoKFdpbD4+PjApPChXaTE2bD4+PjApPzE6MCk7V2kuaGlnaD1XaWg7V2kubG93PVdpbDt9CnZhciBjaGg9KGVoJmZoKV4ofmVoJmdoKTt2YXIgY2hsPShlbCZmbCleKH5lbCZnbCk7dmFyIG1hamg9KGFoJmJoKV4oYWgmY2gpXihiaCZjaCk7dmFyIG1hamw9KGFsJmJsKV4oYWwmY2wpXihibCZjbCk7dmFyIHNpZ21hMGg9KChhaD4+PjI4KXwoYWw8PDQpKV4oKGFoPDwzMCl8KGFsPj4+MikpXigoYWg8PDI1KXwoYWw+Pj43KSk7dmFyIHNpZ21hMGw9KChhbD4+PjI4KXwoYWg8PDQpKV4oKGFsPDwzMCl8KGFoPj4+MikpXigoYWw8PDI1KXwoYWg+Pj43KSk7dmFyIHNpZ21hMWg9KChlaD4+PjE0KXwoZWw8PDE4KSleKChlaD4+PjE4KXwoZWw8PDE0KSleKChlaDw8MjMpfChlbD4+PjkpKTt2YXIgc2lnbWExbD0oKGVsPj4+MTQpfChlaDw8MTgpKV4oKGVsPj4+MTgpfChlaDw8MTQpKV4oKGVsPDwyMyl8KGVoPj4+OSkpO3ZhciBLaT1LW2ldO3ZhciBLaWg9S2kuaGlnaDt2YXIgS2lsPUtpLmxvdzt2YXIgdDFsPWhsK3NpZ21hMWw7dmFyIHQxaD1oaCtzaWdtYTFoKygodDFsPj4+MCk8KGhsPj4+MCk/MTowKTt2YXIgdDFsPXQxbCtjaGw7dmFyIHQxaD10MWgrY2hoKygodDFsPj4+MCk8KGNobD4+PjApPzE6MCk7dmFyIHQxbD10MWwrS2lsO3ZhciB0MWg9dDFoK0tpaCsoKHQxbD4+PjApPChLaWw+Pj4wKT8xOjApO3ZhciB0MWw9dDFsK1dpbDt2YXIgdDFoPXQxaCtXaWgrKCh0MWw+Pj4wKTwoV2lsPj4+MCk/MTowKTt2YXIgdDJsPXNpZ21hMGwrbWFqbDt2YXIgdDJoPXNpZ21hMGgrbWFqaCsoKHQybD4+PjApPChzaWdtYTBsPj4+MCk/MTowKTtoaD1naDtobD1nbDtnaD1maDtnbD1mbDtmaD1laDtmbD1lbDtlbD0oZGwrdDFsKXwwO2VoPShkaCt0MWgrKChlbD4+PjApPChkbD4+PjApPzE6MCkpfDA7ZGg9Y2g7ZGw9Y2w7Y2g9Ymg7Y2w9Ymw7Ymg9YWg7Ymw9YWw7YWw9KHQxbCt0MmwpfDA7YWg9KHQxaCt0MmgrKChhbD4+PjApPCh0MWw+Pj4wKT8xOjApKXwwO30KSDBsPUgwLmxvdz0oSDBsK2FsKTtIMC5oaWdoPShIMGgrYWgrKChIMGw+Pj4wKTwoYWw+Pj4wKT8xOjApKTtIMWw9SDEubG93PShIMWwrYmwpO0gxLmhpZ2g9KEgxaCtiaCsoKEgxbD4+PjApPChibD4+PjApPzE6MCkpO0gybD1IMi5sb3c9KEgybCtjbCk7SDIuaGlnaD0oSDJoK2NoKygoSDJsPj4+MCk8KGNsPj4+MCk/MTowKSk7SDNsPUgzLmxvdz0oSDNsK2RsKTtIMy5oaWdoPShIM2grZGgrKChIM2w+Pj4wKTwoZGw+Pj4wKT8xOjApKTtINGw9SDQubG93PShINGwrZWwpO0g0LmhpZ2g9KEg0aCtlaCsoKEg0bD4+PjApPChlbD4+PjApPzE6MCkpO0g1bD1INS5sb3c9KEg1bCtmbCk7SDUuaGlnaD0oSDVoK2ZoKygoSDVsPj4+MCk8KGZsPj4+MCk/MTowKSk7SDZsPUg2Lmxvdz0oSDZsK2dsKTtINi5oaWdoPShINmgrZ2grKChINmw+Pj4wKTwoZ2w+Pj4wKT8xOjApKTtIN2w9SDcubG93PShIN2wraGwpO0g3LmhpZ2g9KEg3aCtoaCsoKEg3bD4+PjApPChobD4+PjApPzE6MCkpO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDgwPDwoMjQtbkJpdHNMZWZ0JTMyKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzEyOCk+Pj4xMCk8PDUpKzMwXT1NYXRoLmZsb29yKG5CaXRzVG90YWwvMHgxMDAwMDAwMDApO2RhdGFXb3Jkc1soKChuQml0c0xlZnQrMTI4KT4+PjEwKTw8NSkrMzFdPW5CaXRzVG90YWw7ZGF0YS5zaWdCeXRlcz1kYXRhV29yZHMubGVuZ3RoKjQ7dGhpcy5fcHJvY2VzcygpO3ZhciBoYXNoPXRoaXMuX2hhc2gudG9YMzIoKTtyZXR1cm4gaGFzaDt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGNsb25lPUhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO2Nsb25lLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKTtyZXR1cm4gY2xvbmU7fSxibG9ja1NpemU6MTAyNC8zMn0pO0MuU0hBNTEyPUhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTUxMik7Qy5IbWFjU0hBNTEyPUhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihTSEE1MTIpO30oKSk7KGZ1bmN0aW9uKE1hdGgpe3ZhciBDPUNyeXB0b0pTO3ZhciBDX2xpYj1DLmxpYjt2YXIgV29yZEFycmF5PUNfbGliLldvcmRBcnJheTt2YXIgSGFzaGVyPUNfbGliLkhhc2hlcjt2YXIgQ194NjQ9Qy54NjQ7dmFyIFg2NFdvcmQ9Q194NjQuV29yZDt2YXIgQ19hbGdvPUMuYWxnbzt2YXIgUkhPX09GRlNFVFM9W107dmFyIFBJX0lOREVYRVM9W107dmFyIFJPVU5EX0NPTlNUQU5UUz1bXTsoZnVuY3Rpb24oKXt2YXIgeD0xLHk9MDtmb3IodmFyIHQ9MDt0PDI0O3QrKyl7UkhPX09GRlNFVFNbeCs1KnldPSgodCsxKSoodCsyKS8yKSU2NDt2YXIgbmV3WD15JTU7dmFyIG5ld1k9KDIqeCszKnkpJTU7eD1uZXdYO3k9bmV3WTt9CmZvcih2YXIgeD0wO3g8NTt4Kyspe2Zvcih2YXIgeT0wO3k8NTt5Kyspe1BJX0lOREVYRVNbeCs1KnldPXkrKCgyKngrMyp5KSU1KSo1O319CnZhciBMRlNSPTB4MDE7Zm9yKHZhciBpPTA7aTwyNDtpKyspe3ZhciByb3VuZENvbnN0YW50TXN3PTA7dmFyIHJvdW5kQ29uc3RhbnRMc3c9MDtmb3IodmFyIGo9MDtqPDc7aisrKXtpZihMRlNSJjB4MDEpe3ZhciBiaXRQb3NpdGlvbj0oMTw8aiktMTtpZihiaXRQb3NpdGlvbjwzMil7cm91bmRDb25zdGFudExzd149MTw8Yml0UG9zaXRpb247fWVsc2V7cm91bmRDb25zdGFudE1zd149MTw8KGJpdFBvc2l0aW9uLTMyKTt9fQppZihMRlNSJjB4ODApe0xGU1I9KExGU1I8PDEpXjB4NzE7fWVsc2V7TEZTUjw8PTE7fX0KUk9VTkRfQ09OU1RBTlRTW2ldPVg2NFdvcmQuY3JlYXRlKHJvdW5kQ29uc3RhbnRNc3cscm91bmRDb25zdGFudExzdyk7fX0oKSk7dmFyIFQ9W107KGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTwyNTtpKyspe1RbaV09WDY0V29yZC5jcmVhdGUoKTt9fSgpKTt2YXIgU0hBMz1DX2FsZ28uU0hBMz1IYXNoZXIuZXh0ZW5kKHtjZmc6SGFzaGVyLmNmZy5leHRlbmQoe291dHB1dExlbmd0aDo1MTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLl9zdGF0ZT1bXQpmb3IodmFyIGk9MDtpPDI1O2krKyl7c3RhdGVbaV09bmV3IFg2NFdvcmQuaW5pdCgpO30KdGhpcy5ibG9ja1NpemU9KDE2MDAtMip0aGlzLmNmZy5vdXRwdXRMZW5ndGgpLzMyO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgc3RhdGU9dGhpcy5fc3RhdGU7dmFyIG5CbG9ja1NpemVMYW5lcz10aGlzLmJsb2NrU2l6ZS8yO2Zvcih2YXIgaT0wO2k8bkJsb2NrU2l6ZUxhbmVzO2krKyl7dmFyIE0yaT1NW29mZnNldCsyKmldO3ZhciBNMmkxPU1bb2Zmc2V0KzIqaSsxXTtNMmk9KCgoKE0yaTw8OCl8KE0yaT4+PjI0KSkmMHgwMGZmMDBmZil8KCgoTTJpPDwyNCl8KE0yaT4+PjgpKSYweGZmMDBmZjAwKSk7TTJpMT0oKCgoTTJpMTw8OCl8KE0yaTE+Pj4yNCkpJjB4MDBmZjAwZmYpfCgoKE0yaTE8PDI0KXwoTTJpMT4+PjgpKSYweGZmMDBmZjAwKSk7dmFyIGxhbmU9c3RhdGVbaV07bGFuZS5oaWdoXj1NMmkxO2xhbmUubG93Xj1NMmk7fQpmb3IodmFyIHJvdW5kPTA7cm91bmQ8MjQ7cm91bmQrKyl7Zm9yKHZhciB4PTA7eDw1O3grKyl7dmFyIHRNc3c9MCx0THN3PTA7Zm9yKHZhciB5PTA7eTw1O3krKyl7dmFyIGxhbmU9c3RhdGVbeCs1KnldO3RNc3dePWxhbmUuaGlnaDt0THN3Xj1sYW5lLmxvdzt9CnZhciBUeD1UW3hdO1R4LmhpZ2g9dE1zdztUeC5sb3c9dExzdzt9CmZvcih2YXIgeD0wO3g8NTt4Kyspe3ZhciBUeDQ9VFsoeCs0KSU1XTt2YXIgVHgxPVRbKHgrMSklNV07dmFyIFR4MU1zdz1UeDEuaGlnaDt2YXIgVHgxTHN3PVR4MS5sb3c7dmFyIHRNc3c9VHg0LmhpZ2heKChUeDFNc3c8PDEpfChUeDFMc3c+Pj4zMSkpO3ZhciB0THN3PVR4NC5sb3deKChUeDFMc3c8PDEpfChUeDFNc3c+Pj4zMSkpO2Zvcih2YXIgeT0wO3k8NTt5Kyspe3ZhciBsYW5lPXN0YXRlW3grNSp5XTtsYW5lLmhpZ2hePXRNc3c7bGFuZS5sb3dePXRMc3c7fX0KZm9yKHZhciBsYW5lSW5kZXg9MTtsYW5lSW5kZXg8MjU7bGFuZUluZGV4Kyspe3ZhciBsYW5lPXN0YXRlW2xhbmVJbmRleF07dmFyIGxhbmVNc3c9bGFuZS5oaWdoO3ZhciBsYW5lTHN3PWxhbmUubG93O3ZhciByaG9PZmZzZXQ9UkhPX09GRlNFVFNbbGFuZUluZGV4XTtpZihyaG9PZmZzZXQ8MzIpe3ZhciB0TXN3PShsYW5lTXN3PDxyaG9PZmZzZXQpfChsYW5lTHN3Pj4+KDMyLXJob09mZnNldCkpO3ZhciB0THN3PShsYW5lTHN3PDxyaG9PZmZzZXQpfChsYW5lTXN3Pj4+KDMyLXJob09mZnNldCkpO31lbHNle3ZhciB0TXN3PShsYW5lTHN3PDwocmhvT2Zmc2V0LTMyKSl8KGxhbmVNc3c+Pj4oNjQtcmhvT2Zmc2V0KSk7dmFyIHRMc3c9KGxhbmVNc3c8PChyaG9PZmZzZXQtMzIpKXwobGFuZUxzdz4+Pig2NC1yaG9PZmZzZXQpKTt9CnZhciBUUGlMYW5lPVRbUElfSU5ERVhFU1tsYW5lSW5kZXhdXTtUUGlMYW5lLmhpZ2g9dE1zdztUUGlMYW5lLmxvdz10THN3O30KdmFyIFQwPVRbMF07dmFyIHN0YXRlMD1zdGF0ZVswXTtUMC5oaWdoPXN0YXRlMC5oaWdoO1QwLmxvdz1zdGF0ZTAubG93O2Zvcih2YXIgeD0wO3g8NTt4Kyspe2Zvcih2YXIgeT0wO3k8NTt5Kyspe3ZhciBsYW5lSW5kZXg9eCs1Knk7dmFyIGxhbmU9c3RhdGVbbGFuZUluZGV4XTt2YXIgVExhbmU9VFtsYW5lSW5kZXhdO3ZhciBUeDFMYW5lPVRbKCh4KzEpJTUpKzUqeV07dmFyIFR4MkxhbmU9VFsoKHgrMiklNSkrNSp5XTtsYW5lLmhpZ2g9VExhbmUuaGlnaF4oflR4MUxhbmUuaGlnaCZUeDJMYW5lLmhpZ2gpO2xhbmUubG93PVRMYW5lLmxvd14oflR4MUxhbmUubG93JlR4MkxhbmUubG93KTt9fQp2YXIgbGFuZT1zdGF0ZVswXTt2YXIgcm91bmRDb25zdGFudD1ST1VORF9DT05TVEFOVFNbcm91bmRdO2xhbmUuaGlnaF49cm91bmRDb25zdGFudC5oaWdoO2xhbmUubG93Xj1yb3VuZENvbnN0YW50Lmxvdzs7fX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7dmFyIGJsb2NrU2l6ZUJpdHM9dGhpcy5ibG9ja1NpemUqMzI7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDE8PCgyNC1uQml0c0xlZnQlMzIpO2RhdGFXb3Jkc1soKE1hdGguY2VpbCgobkJpdHNMZWZ0KzEpL2Jsb2NrU2l6ZUJpdHMpKmJsb2NrU2l6ZUJpdHMpPj4+NSktMV18PTB4ODA7ZGF0YS5zaWdCeXRlcz1kYXRhV29yZHMubGVuZ3RoKjQ7dGhpcy5fcHJvY2VzcygpO3ZhciBzdGF0ZT10aGlzLl9zdGF0ZTt2YXIgb3V0cHV0TGVuZ3RoQnl0ZXM9dGhpcy5jZmcub3V0cHV0TGVuZ3RoLzg7dmFyIG91dHB1dExlbmd0aExhbmVzPW91dHB1dExlbmd0aEJ5dGVzLzg7dmFyIGhhc2hXb3Jkcz1bXTtmb3IodmFyIGk9MDtpPG91dHB1dExlbmd0aExhbmVzO2krKyl7dmFyIGxhbmU9c3RhdGVbaV07dmFyIGxhbmVNc3c9bGFuZS5oaWdoO3ZhciBsYW5lTHN3PWxhbmUubG93O2xhbmVNc3c9KCgoKGxhbmVNc3c8PDgpfChsYW5lTXN3Pj4+MjQpKSYweDAwZmYwMGZmKXwoKChsYW5lTXN3PDwyNCl8KGxhbmVNc3c+Pj44KSkmMHhmZjAwZmYwMCkpO2xhbmVMc3c9KCgoKGxhbmVMc3c8PDgpfChsYW5lTHN3Pj4+MjQpKSYweDAwZmYwMGZmKXwoKChsYW5lTHN3PDwyNCl8KGxhbmVMc3c+Pj44KSkmMHhmZjAwZmYwMCkpO2hhc2hXb3Jkcy5wdXNoKGxhbmVMc3cpO2hhc2hXb3Jkcy5wdXNoKGxhbmVNc3cpO30KcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdChoYXNoV29yZHMsb3V0cHV0TGVuZ3RoQnl0ZXMpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9SGFzaGVyLmNsb25lLmNhbGwodGhpcyk7dmFyIHN0YXRlPWNsb25lLl9zdGF0ZT10aGlzLl9zdGF0ZS5zbGljZSgwKTtmb3IodmFyIGk9MDtpPDI1O2krKyl7c3RhdGVbaV09c3RhdGVbaV0uY2xvbmUoKTt9CnJldHVybiBjbG9uZTt9fSk7Qy5TSEEzPUhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTMpO0MuSG1hY1NIQTM9SGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKFNIQTMpO30oTWF0aCkpO3ZhciBkYml0czt2YXIgY2FuYXJ5PTB4ZGVhZGJlZWZjYWZlO3ZhciBqX2xtPSgoY2FuYXJ5JjB4ZmZmZmZmKT09MHhlZmNhZmUpO2Z1bmN0aW9uIEJpZ0ludGVnZXIoYSxiLGMpe2lmKGEhPW51bGwpCmlmKCJudW1iZXIiPT10eXBlb2YgYSl0aGlzLmZyb21OdW1iZXIoYSxiLGMpO2Vsc2UgaWYoYj09bnVsbCYmInN0cmluZyIhPXR5cGVvZiBhKXRoaXMuZnJvbVN0cmluZyhhLDI1Nik7ZWxzZSB0aGlzLmZyb21TdHJpbmcoYSxiKTt9CmZ1bmN0aW9uIG5iaSgpe3JldHVybiBuZXcgQmlnSW50ZWdlcihudWxsKTt9CmZ1bmN0aW9uIGFtMShpLHgsdyxqLGMsbil7d2hpbGUoLS1uPj0wKXt2YXIgdj14KnRoaXNbaSsrXSt3W2pdK2M7Yz1NYXRoLmZsb29yKHYvMHg0MDAwMDAwKTt3W2orK109diYweDNmZmZmZmY7fQpyZXR1cm4gYzt9CmZ1bmN0aW9uIGFtMihpLHgsdyxqLGMsbil7dmFyIHhsPXgmMHg3ZmZmLHhoPXg+PjE1O3doaWxlKC0tbj49MCl7dmFyIGw9dGhpc1tpXSYweDdmZmY7dmFyIGg9dGhpc1tpKytdPj4xNTt2YXIgbT14aCpsK2gqeGw7bD14bCpsKygobSYweDdmZmYpPDwxNSkrd1tqXSsoYyYweDNmZmZmZmZmKTtjPShsPj4+MzApKyhtPj4+MTUpK3hoKmgrKGM+Pj4zMCk7d1tqKytdPWwmMHgzZmZmZmZmZjt9CnJldHVybiBjO30KZnVuY3Rpb24gYW0zKGkseCx3LGosYyxuKXt2YXIgeGw9eCYweDNmZmYseGg9eD4+MTQ7d2hpbGUoLS1uPj0wKXt2YXIgbD10aGlzW2ldJjB4M2ZmZjt2YXIgaD10aGlzW2krK10+PjE0O3ZhciBtPXhoKmwraCp4bDtsPXhsKmwrKChtJjB4M2ZmZik8PDE0KSt3W2pdK2M7Yz0obD4+MjgpKyhtPj4xNCkreGgqaDt3W2orK109bCYweGZmZmZmZmY7fQpyZXR1cm4gYzt9CmlmKGpfbG0mJihuYXZpZ2F0b3IuYXBwTmFtZT09Ik1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciIpKXtCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbT1hbTI7ZGJpdHM9MzA7fQplbHNlIGlmKGpfbG0mJihuYXZpZ2F0b3IuYXBwTmFtZSE9Ik5ldHNjYXBlIikpe0JpZ0ludGVnZXIucHJvdG90eXBlLmFtPWFtMTtkYml0cz0yNjt9CmVsc2V7QmlnSW50ZWdlci5wcm90b3R5cGUuYW09YW0zO2RiaXRzPTI4O30KQmlnSW50ZWdlci5wcm90b3R5cGUuREI9ZGJpdHM7QmlnSW50ZWdlci5wcm90b3R5cGUuRE09KCgxPDxkYml0cyktMSk7QmlnSW50ZWdlci5wcm90b3R5cGUuRFY9KDE8PGRiaXRzKTt2YXIgQklfRlA9NTI7QmlnSW50ZWdlci5wcm90b3R5cGUuRlY9TWF0aC5wb3coMixCSV9GUCk7QmlnSW50ZWdlci5wcm90b3R5cGUuRjE9QklfRlAtZGJpdHM7QmlnSW50ZWdlci5wcm90b3R5cGUuRjI9MipkYml0cy1CSV9GUDt2YXIgQklfUk09IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7dmFyIEJJX1JDPW5ldyBBcnJheSgpO3ZhciBycix2djtycj0iMCIuY2hhckNvZGVBdCgwKTtmb3IodnY9MDt2djw9OTsrK3Z2KUJJX1JDW3JyKytdPXZ2O3JyPSJhIi5jaGFyQ29kZUF0KDApO2Zvcih2dj0xMDt2djwzNjsrK3Z2KUJJX1JDW3JyKytdPXZ2O3JyPSJBIi5jaGFyQ29kZUF0KDApO2Zvcih2dj0xMDt2djwzNjsrK3Z2KUJJX1JDW3JyKytdPXZ2O2Z1bmN0aW9uIGludDJjaGFyKG4pe3JldHVybiBCSV9STS5jaGFyQXQobik7fQpmdW5jdGlvbiBpbnRBdChzLGkpe3ZhciBjPUJJX1JDW3MuY2hhckNvZGVBdChpKV07cmV0dXJuKGM9PW51bGwpPy0xOmM7fQpmdW5jdGlvbiBibnBDb3B5VG8ocil7Zm9yKHZhciBpPXRoaXMudC0xO2k+PTA7LS1pKXJbaV09dGhpc1tpXTtyLnQ9dGhpcy50O3Iucz10aGlzLnM7fQpmdW5jdGlvbiBibnBGcm9tSW50KHgpe3RoaXMudD0xO3RoaXMucz0oeDwwKT8tMTowO2lmKHg+MCl0aGlzWzBdPXg7ZWxzZSBpZih4PC0xKXRoaXNbMF09eCtEVjtlbHNlIHRoaXMudD0wO30KZnVuY3Rpb24gbmJ2KGkpe3ZhciByPW5iaSgpO3IuZnJvbUludChpKTtyZXR1cm4gcjt9CmZ1bmN0aW9uIGJucEZyb21TdHJpbmcocyxiKXt2YXIgaztpZihiPT0xNilrPTQ7ZWxzZSBpZihiPT04KWs9MztlbHNlIGlmKGI9PTI1NilrPTg7ZWxzZSBpZihiPT0yKWs9MTtlbHNlIGlmKGI9PTMyKWs9NTtlbHNlIGlmKGI9PTQpaz0yO2Vsc2V7dGhpcy5mcm9tUmFkaXgocyxiKTtyZXR1cm47fQp0aGlzLnQ9MDt0aGlzLnM9MDt2YXIgaT1zLmxlbmd0aCxtaT1mYWxzZSxzaD0wO3doaWxlKC0taT49MCl7dmFyIHg9KGs9PTgpP3NbaV0mMHhmZjppbnRBdChzLGkpO2lmKHg8MCl7aWYocy5jaGFyQXQoaSk9PSItIiltaT10cnVlO2NvbnRpbnVlO30KbWk9ZmFsc2U7aWYoc2g9PTApCnRoaXNbdGhpcy50KytdPXg7ZWxzZSBpZihzaCtrPnRoaXMuREIpe3RoaXNbdGhpcy50LTFdfD0oeCYoKDE8PCh0aGlzLkRCLXNoKSktMSkpPDxzaDt0aGlzW3RoaXMudCsrXT0oeD4+KHRoaXMuREItc2gpKTt9CmVsc2UKdGhpc1t0aGlzLnQtMV18PXg8PHNoO3NoKz1rO2lmKHNoPj10aGlzLkRCKXNoLT10aGlzLkRCO30KaWYoaz09OCYmKHNbMF0mMHg4MCkhPTApe3RoaXMucz0tMTtpZihzaD4wKXRoaXNbdGhpcy50LTFdfD0oKDE8PCh0aGlzLkRCLXNoKSktMSk8PHNoO30KdGhpcy5jbGFtcCgpO2lmKG1pKUJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLHRoaXMpO30KZnVuY3Rpb24gYm5wQ2xhbXAoKXt2YXIgYz10aGlzLnMmdGhpcy5ETTt3aGlsZSh0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PWMpLS10aGlzLnQ7fQpmdW5jdGlvbiBiblRvU3RyaW5nKGIpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKGIpO3ZhciBrO2lmKGI9PTE2KWs9NDtlbHNlIGlmKGI9PTgpaz0zO2Vsc2UgaWYoYj09MilrPTE7ZWxzZSBpZihiPT0zMilrPTU7ZWxzZSBpZihiPT00KWs9MjtlbHNlIHJldHVybiB0aGlzLnRvUmFkaXgoYik7dmFyIGttPSgxPDxrKS0xLGQsbT1mYWxzZSxyPSIiLGk9dGhpcy50O3ZhciBwPXRoaXMuREItKGkqdGhpcy5EQiklaztpZihpLS0+MCl7aWYocDx0aGlzLkRCJiYoZD10aGlzW2ldPj5wKT4wKXttPXRydWU7cj1pbnQyY2hhcihkKTt9CndoaWxlKGk+PTApe2lmKHA8ayl7ZD0odGhpc1tpXSYoKDE8PHApLTEpKTw8KGstcCk7ZHw9dGhpc1stLWldPj4ocCs9dGhpcy5EQi1rKTt9CmVsc2V7ZD0odGhpc1tpXT4+KHAtPWspKSZrbTtpZihwPD0wKXtwKz10aGlzLkRCOy0taTt9fQppZihkPjApbT10cnVlO2lmKG0pcis9aW50MmNoYXIoZCk7fX0KcmV0dXJuIG0/cjoiMCI7fQpmdW5jdGlvbiBibk5lZ2F0ZSgpe3ZhciByPW5iaSgpO0JpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLHIpO3JldHVybiByO30KZnVuY3Rpb24gYm5BYnMoKXtyZXR1cm4odGhpcy5zPDApP3RoaXMubmVnYXRlKCk6dGhpczt9CmZ1bmN0aW9uIGJuQ29tcGFyZVRvKGEpe3ZhciByPXRoaXMucy1hLnM7aWYociE9MClyZXR1cm4gcjt2YXIgaT10aGlzLnQ7cj1pLWEudDtpZihyIT0wKXJldHVybih0aGlzLnM8MCk/LXI6cjt3aGlsZSgtLWk+PTApaWYoKHI9dGhpc1tpXS1hW2ldKSE9MClyZXR1cm4gcjtyZXR1cm4gMDt9CmZ1bmN0aW9uIG5iaXRzKHgpe3ZhciByPTEsdDtpZigodD14Pj4+MTYpIT0wKXt4PXQ7cis9MTY7fQppZigodD14Pj44KSE9MCl7eD10O3IrPTg7fQppZigodD14Pj40KSE9MCl7eD10O3IrPTQ7fQppZigodD14Pj4yKSE9MCl7eD10O3IrPTI7fQppZigodD14Pj4xKSE9MCl7eD10O3IrPTE7fQpyZXR1cm4gcjt9CmZ1bmN0aW9uIGJuQml0TGVuZ3RoKCl7aWYodGhpcy50PD0wKXJldHVybiAwO3JldHVybiB0aGlzLkRCKih0aGlzLnQtMSkrbmJpdHModGhpc1t0aGlzLnQtMV1eKHRoaXMucyZ0aGlzLkRNKSk7fQpmdW5jdGlvbiBibnBETFNoaWZ0VG8obixyKXt2YXIgaTtmb3IoaT10aGlzLnQtMTtpPj0wOy0taSlyW2krbl09dGhpc1tpXTtmb3IoaT1uLTE7aT49MDstLWkpcltpXT0wO3IudD10aGlzLnQrbjtyLnM9dGhpcy5zO30KZnVuY3Rpb24gYm5wRFJTaGlmdFRvKG4scil7Zm9yKHZhciBpPW47aTx0aGlzLnQ7KytpKXJbaS1uXT10aGlzW2ldO3IudD1NYXRoLm1heCh0aGlzLnQtbiwwKTtyLnM9dGhpcy5zO30KZnVuY3Rpb24gYm5wTFNoaWZ0VG8obixyKXt2YXIgYnM9biV0aGlzLkRCO3ZhciBjYnM9dGhpcy5EQi1iczt2YXIgYm09KDE8PGNicyktMTt2YXIgZHM9TWF0aC5mbG9vcihuL3RoaXMuREIpLGM9KHRoaXMuczw8YnMpJnRoaXMuRE0saTtmb3IoaT10aGlzLnQtMTtpPj0wOy0taSl7cltpK2RzKzFdPSh0aGlzW2ldPj5jYnMpfGM7Yz0odGhpc1tpXSZibSk8PGJzO30KZm9yKGk9ZHMtMTtpPj0wOy0taSlyW2ldPTA7cltkc109YztyLnQ9dGhpcy50K2RzKzE7ci5zPXRoaXMucztyLmNsYW1wKCk7fQpmdW5jdGlvbiBibnBSU2hpZnRUbyhuLHIpe3Iucz10aGlzLnM7dmFyIGRzPU1hdGguZmxvb3Iobi90aGlzLkRCKTtpZihkcz49dGhpcy50KXtyLnQ9MDtyZXR1cm47fQp2YXIgYnM9biV0aGlzLkRCO3ZhciBjYnM9dGhpcy5EQi1iczt2YXIgYm09KDE8PGJzKS0xO3JbMF09dGhpc1tkc10+PmJzO2Zvcih2YXIgaT1kcysxO2k8dGhpcy50OysraSl7cltpLWRzLTFdfD0odGhpc1tpXSZibSk8PGNicztyW2ktZHNdPXRoaXNbaV0+PmJzO30KaWYoYnM+MClyW3RoaXMudC1kcy0xXXw9KHRoaXMucyZibSk8PGNicztyLnQ9dGhpcy50LWRzO3IuY2xhbXAoKTt9CmZ1bmN0aW9uIGJucFN1YlRvKGEscil7dmFyIGk9MCxjPTAsbT1NYXRoLm1pbihhLnQsdGhpcy50KTt3aGlsZShpPG0pe2MrPXRoaXNbaV0tYVtpXTtyW2krK109YyZ0aGlzLkRNO2M+Pj10aGlzLkRCO30KaWYoYS50PHRoaXMudCl7Yy09YS5zO3doaWxlKGk8dGhpcy50KXtjKz10aGlzW2ldO3JbaSsrXT1jJnRoaXMuRE07Yz4+PXRoaXMuREI7fQpjKz10aGlzLnM7fQplbHNle2MrPXRoaXMuczt3aGlsZShpPGEudCl7Yy09YVtpXTtyW2krK109YyZ0aGlzLkRNO2M+Pj10aGlzLkRCO30KYy09YS5zO30Kci5zPShjPDApPy0xOjA7aWYoYzwtMSlyW2krK109dGhpcy5EVitjO2Vsc2UgaWYoYz4wKXJbaSsrXT1jO3IudD1pO3IuY2xhbXAoKTt9CmZ1bmN0aW9uIGJucE11bHRpcGx5VG8oYSxyKXt2YXIgeD10aGlzLmFicygpLHk9YS5hYnMoKTt2YXIgaT14LnQ7ci50PWkreS50O3doaWxlKC0taT49MClyW2ldPTA7Zm9yKGk9MDtpPHkudDsrK2kpcltpK3gudF09eC5hbSgwLHlbaV0scixpLDAseC50KTtyLnM9MDtyLmNsYW1wKCk7aWYodGhpcy5zIT1hLnMpQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIscik7fQpmdW5jdGlvbiBibnBTcXVhcmVUbyhyKXt2YXIgeD10aGlzLmFicygpO3ZhciBpPXIudD0yKngudDt3aGlsZSgtLWk+PTApcltpXT0wO2ZvcihpPTA7aTx4LnQtMTsrK2kpe3ZhciBjPXguYW0oaSx4W2ldLHIsMippLDAsMSk7aWYoKHJbaSt4LnRdKz14LmFtKGkrMSwyKnhbaV0sciwyKmkrMSxjLHgudC1pLTEpKT49eC5EVil7cltpK3gudF0tPXguRFY7cltpK3gudCsxXT0xO319CmlmKHIudD4wKXJbci50LTFdKz14LmFtKGkseFtpXSxyLDIqaSwwLDEpO3Iucz0wO3IuY2xhbXAoKTt9CmZ1bmN0aW9uIGJucERpdlJlbVRvKG0scSxyKXt2YXIgcG09bS5hYnMoKTtpZihwbS50PD0wKXJldHVybjt2YXIgcHQ9dGhpcy5hYnMoKTtpZihwdC50PHBtLnQpe2lmKHEhPW51bGwpcS5mcm9tSW50KDApO2lmKHIhPW51bGwpdGhpcy5jb3B5VG8ocik7cmV0dXJuO30KaWYocj09bnVsbClyPW5iaSgpO3ZhciB5PW5iaSgpLHRzPXRoaXMucyxtcz1tLnM7dmFyIG5zaD10aGlzLkRCLW5iaXRzKHBtW3BtLnQtMV0pO2lmKG5zaD4wKXtwbS5sU2hpZnRUbyhuc2gseSk7cHQubFNoaWZ0VG8obnNoLHIpO30KZWxzZXtwbS5jb3B5VG8oeSk7cHQuY29weVRvKHIpO30KdmFyIHlzPXkudDt2YXIgeTA9eVt5cy0xXTtpZih5MD09MClyZXR1cm47dmFyIHl0PXkwKigxPDx0aGlzLkYxKSsoKHlzPjEpP3lbeXMtMl0+PnRoaXMuRjI6MCk7dmFyIGQxPXRoaXMuRlYveXQsZDI9KDE8PHRoaXMuRjEpL3l0LGU9MTw8dGhpcy5GMjt2YXIgaT1yLnQsaj1pLXlzLHQ9KHE9PW51bGwpP25iaSgpOnE7eS5kbFNoaWZ0VG8oaix0KTtpZihyLmNvbXBhcmVUbyh0KT49MCl7cltyLnQrK109MTtyLnN1YlRvKHQscik7fQpCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oeXMsdCk7dC5zdWJUbyh5LHkpO3doaWxlKHkudDx5cyl5W3kudCsrXT0wO3doaWxlKC0taj49MCl7dmFyIHFkPShyWy0taV09PXkwKT90aGlzLkRNOk1hdGguZmxvb3IocltpXSpkMSsocltpLTFdK2UpKmQyKTtpZigocltpXSs9eS5hbSgwLHFkLHIsaiwwLHlzKSk8cWQpe3kuZGxTaGlmdFRvKGosdCk7ci5zdWJUbyh0LHIpO3doaWxlKHJbaV08LS1xZClyLnN1YlRvKHQscik7fX0KaWYocSE9bnVsbCl7ci5kclNoaWZ0VG8oeXMscSk7aWYodHMhPW1zKUJpZ0ludGVnZXIuWkVSTy5zdWJUbyhxLHEpO30Kci50PXlzO3IuY2xhbXAoKTtpZihuc2g+MClyLnJTaGlmdFRvKG5zaCxyKTtpZih0czwwKUJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLHIpO30KZnVuY3Rpb24gYm5Nb2QoYSl7dmFyIHI9bmJpKCk7dGhpcy5hYnMoKS5kaXZSZW1UbyhhLG51bGwscik7aWYodGhpcy5zPDAmJnIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTyk+MClhLnN1YlRvKHIscik7cmV0dXJuIHI7fQpmdW5jdGlvbiBDbGFzc2ljKG0pe3RoaXMubT1tO30KZnVuY3Rpb24gY0NvbnZlcnQoeCl7aWYoeC5zPDB8fHguY29tcGFyZVRvKHRoaXMubSk+PTApcmV0dXJuIHgubW9kKHRoaXMubSk7ZWxzZSByZXR1cm4geDt9CmZ1bmN0aW9uIGNSZXZlcnQoeCl7cmV0dXJuIHg7fQpmdW5jdGlvbiBjUmVkdWNlKHgpe3guZGl2UmVtVG8odGhpcy5tLG51bGwseCk7fQpmdW5jdGlvbiBjTXVsVG8oeCx5LHIpe3gubXVsdGlwbHlUbyh5LHIpO3RoaXMucmVkdWNlKHIpO30KZnVuY3Rpb24gY1NxclRvKHgscil7eC5zcXVhcmVUbyhyKTt0aGlzLnJlZHVjZShyKTt9CkNsYXNzaWMucHJvdG90eXBlLmNvbnZlcnQ9Y0NvbnZlcnQ7Q2xhc3NpYy5wcm90b3R5cGUucmV2ZXJ0PWNSZXZlcnQ7Q2xhc3NpYy5wcm90b3R5cGUucmVkdWNlPWNSZWR1Y2U7Q2xhc3NpYy5wcm90b3R5cGUubXVsVG89Y011bFRvO0NsYXNzaWMucHJvdG90eXBlLnNxclRvPWNTcXJUbztmdW5jdGlvbiBibnBJbnZEaWdpdCgpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB4PXRoaXNbMF07aWYoKHgmMSk9PTApcmV0dXJuIDA7dmFyIHk9eCYzO3k9KHkqKDItKHgmMHhmKSp5KSkmMHhmO3k9KHkqKDItKHgmMHhmZikqeSkpJjB4ZmY7eT0oeSooMi0oKCh4JjB4ZmZmZikqeSkmMHhmZmZmKSkpJjB4ZmZmZjt5PSh5KigyLXgqeSV0aGlzLkRWKSkldGhpcy5EVjtyZXR1cm4oeT4wKT90aGlzLkRWLXk6LXk7fQpmdW5jdGlvbiBNb250Z29tZXJ5KG0pe3RoaXMubT1tO3RoaXMubXA9bS5pbnZEaWdpdCgpO3RoaXMubXBsPXRoaXMubXAmMHg3ZmZmO3RoaXMubXBoPXRoaXMubXA+PjE1O3RoaXMudW09KDE8PChtLkRCLTE1KSktMTt0aGlzLm10Mj0yKm0udDt9CmZ1bmN0aW9uIG1vbnRDb252ZXJ0KHgpe3ZhciByPW5iaSgpO3guYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LHIpO3IuZGl2UmVtVG8odGhpcy5tLG51bGwscik7aWYoeC5zPDAmJnIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTyk+MCl0aGlzLm0uc3ViVG8ocixyKTtyZXR1cm4gcjt9CmZ1bmN0aW9uIG1vbnRSZXZlcnQoeCl7dmFyIHI9bmJpKCk7eC5jb3B5VG8ocik7dGhpcy5yZWR1Y2Uocik7cmV0dXJuIHI7fQpmdW5jdGlvbiBtb250UmVkdWNlKHgpe3doaWxlKHgudDw9dGhpcy5tdDIpCnhbeC50KytdPTA7Zm9yKHZhciBpPTA7aTx0aGlzLm0udDsrK2kpe3ZhciBqPXhbaV0mMHg3ZmZmO3ZhciB1MD0oaip0aGlzLm1wbCsoKChqKnRoaXMubXBoKyh4W2ldPj4xNSkqdGhpcy5tcGwpJnRoaXMudW0pPDwxNSkpJnguRE07aj1pK3RoaXMubS50O3hbal0rPXRoaXMubS5hbSgwLHUwLHgsaSwwLHRoaXMubS50KTt3aGlsZSh4W2pdPj14LkRWKXt4W2pdLT14LkRWO3hbKytqXSsrO319CnguY2xhbXAoKTt4LmRyU2hpZnRUbyh0aGlzLm0udCx4KTtpZih4LmNvbXBhcmVUbyh0aGlzLm0pPj0wKXguc3ViVG8odGhpcy5tLHgpO30KZnVuY3Rpb24gbW9udFNxclRvKHgscil7eC5zcXVhcmVUbyhyKTt0aGlzLnJlZHVjZShyKTt9CmZ1bmN0aW9uIG1vbnRNdWxUbyh4LHkscil7eC5tdWx0aXBseVRvKHkscik7dGhpcy5yZWR1Y2Uocik7fQpNb250Z29tZXJ5LnByb3RvdHlwZS5jb252ZXJ0PW1vbnRDb252ZXJ0O01vbnRnb21lcnkucHJvdG90eXBlLnJldmVydD1tb250UmV2ZXJ0O01vbnRnb21lcnkucHJvdG90eXBlLnJlZHVjZT1tb250UmVkdWNlO01vbnRnb21lcnkucHJvdG90eXBlLm11bFRvPW1vbnRNdWxUbztNb250Z29tZXJ5LnByb3RvdHlwZS5zcXJUbz1tb250U3FyVG87ZnVuY3Rpb24gYm5wSXNFdmVuKCl7cmV0dXJuKCh0aGlzLnQ+MCk/KHRoaXNbMF0mMSk6dGhpcy5zKT09MDt9CmZ1bmN0aW9uIGJucEV4cChlLHope2lmKGU+MHhmZmZmZmZmZnx8ZTwxKXJldHVybiBCaWdJbnRlZ2VyLk9ORTt2YXIgcj1uYmkoKSxyMj1uYmkoKSxnPXouY29udmVydCh0aGlzKSxpPW5iaXRzKGUpLTE7Zy5jb3B5VG8ocik7d2hpbGUoLS1pPj0wKXt6LnNxclRvKHIscjIpO2lmKChlJigxPDxpKSk+MCl6Lm11bFRvKHIyLGcscik7ZWxzZXt2YXIgdD1yO3I9cjI7cjI9dDt9fQpyZXR1cm4gei5yZXZlcnQocik7fQpmdW5jdGlvbiBibk1vZFBvd0ludChlLG0pe3ZhciB6O2lmKGU8MjU2fHxtLmlzRXZlbigpKXo9bmV3IENsYXNzaWMobSk7ZWxzZSB6PW5ldyBNb250Z29tZXJ5KG0pO3JldHVybiB0aGlzLmV4cChlLHopO30KQmlnSW50ZWdlci5wcm90b3R5cGUuY29weVRvPWJucENvcHlUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tSW50PWJucEZyb21JbnQ7QmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVN0cmluZz1ibnBGcm9tU3RyaW5nO0JpZ0ludGVnZXIucHJvdG90eXBlLmNsYW1wPWJucENsYW1wO0JpZ0ludGVnZXIucHJvdG90eXBlLmRsU2hpZnRUbz1ibnBETFNoaWZ0VG87QmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvPWJucERSU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5sU2hpZnRUbz1ibnBMU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbz1ibnBSU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5zdWJUbz1ibnBTdWJUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseVRvPWJucE11bHRpcGx5VG87QmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlVG89Ym5wU3F1YXJlVG87QmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG89Ym5wRGl2UmVtVG87QmlnSW50ZWdlci5wcm90b3R5cGUuaW52RGlnaXQ9Ym5wSW52RGlnaXQ7QmlnSW50ZWdlci5wcm90b3R5cGUuaXNFdmVuPWJucElzRXZlbjtCaWdJbnRlZ2VyLnByb3RvdHlwZS5leHA9Ym5wRXhwO0JpZ0ludGVnZXIucHJvdG90eXBlLnRvU3RyaW5nPWJuVG9TdHJpbmc7QmlnSW50ZWdlci5wcm90b3R5cGUubmVnYXRlPWJuTmVnYXRlO0JpZ0ludGVnZXIucHJvdG90eXBlLmFicz1ibkFicztCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG89Ym5Db21wYXJlVG87QmlnSW50ZWdlci5wcm90b3R5cGUuYml0TGVuZ3RoPWJuQml0TGVuZ3RoO0JpZ0ludGVnZXIucHJvdG90eXBlLm1vZD1ibk1vZDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQ9Ym5Nb2RQb3dJbnQ7QmlnSW50ZWdlci5aRVJPPW5idigwKTtCaWdJbnRlZ2VyLk9ORT1uYnYoMSk7ZnVuY3Rpb24gQXJjZm91cigpe3RoaXMuaT0wO3RoaXMuaj0wO3RoaXMuUz1uZXcgQXJyYXkoKTt9CmZ1bmN0aW9uIEFSQzRpbml0KGtleSl7dmFyIGksaix0O2ZvcihpPTA7aTwyNTY7KytpKQp0aGlzLlNbaV09aTtqPTA7Zm9yKGk9MDtpPDI1NjsrK2kpe2o9KGordGhpcy5TW2ldK2tleVtpJWtleS5sZW5ndGhdKSYyNTU7dD10aGlzLlNbaV07dGhpcy5TW2ldPXRoaXMuU1tqXTt0aGlzLlNbal09dDt9CnRoaXMuaT0wO3RoaXMuaj0wO30KZnVuY3Rpb24gQVJDNG5leHQoKXt2YXIgdDt0aGlzLmk9KHRoaXMuaSsxKSYyNTU7dGhpcy5qPSh0aGlzLmordGhpcy5TW3RoaXMuaV0pJjI1NTt0PXRoaXMuU1t0aGlzLmldO3RoaXMuU1t0aGlzLmldPXRoaXMuU1t0aGlzLmpdO3RoaXMuU1t0aGlzLmpdPXQ7cmV0dXJuIHRoaXMuU1sodCt0aGlzLlNbdGhpcy5pXSkmMjU1XTt9CkFyY2ZvdXIucHJvdG90eXBlLmluaXQ9QVJDNGluaXQ7QXJjZm91ci5wcm90b3R5cGUubmV4dD1BUkM0bmV4dDtmdW5jdGlvbiBwcm5nX25ld3N0YXRlKCl7cmV0dXJuIG5ldyBBcmNmb3VyKCk7fQp2YXIgcm5nX3BzaXplPTI1Njt2YXIgcm5nX3N0YXRlO3ZhciBybmdfcG9vbDt2YXIgcm5nX3BwdHI7ZnVuY3Rpb24gcm5nX3NlZWRfaW50KHgpe3JuZ19wb29sW3JuZ19wcHRyKytdXj14JjI1NTtybmdfcG9vbFtybmdfcHB0cisrXV49KHg+PjgpJjI1NTtybmdfcG9vbFtybmdfcHB0cisrXV49KHg+PjE2KSYyNTU7cm5nX3Bvb2xbcm5nX3BwdHIrK11ePSh4Pj4yNCkmMjU1O2lmKHJuZ19wcHRyPj1ybmdfcHNpemUpcm5nX3BwdHItPXJuZ19wc2l6ZTt9CmZ1bmN0aW9uIHJuZ19zZWVkX3RpbWUoKXtybmdfc2VlZF9pbnQobmV3IERhdGUoKS5nZXRUaW1lKCkpO30KaWYocm5nX3Bvb2w9PW51bGwpe3JuZ19wb29sPW5ldyBBcnJheSgpO3JuZ19wcHRyPTA7dmFyIHQ7aWYobmF2aWdhdG9yLmFwcE5hbWU9PSJOZXRzY2FwZSImJm5hdmlnYXRvci5hcHBWZXJzaW9uPCI1IiYmd2luZG93LmNyeXB0byl7dmFyIHo9d2luZG93LmNyeXB0by5yYW5kb20oMzIpO2Zvcih0PTA7dDx6Lmxlbmd0aDsrK3QpCnJuZ19wb29sW3JuZ19wcHRyKytdPXouY2hhckNvZGVBdCh0KSYyNTU7fQp3aGlsZShybmdfcHB0cjxybmdfcHNpemUpe3Q9TWF0aC5mbG9vcig2NTUzNipNYXRoLnJhbmRvbSgpKTtybmdfcG9vbFtybmdfcHB0cisrXT10Pj4+ODtybmdfcG9vbFtybmdfcHB0cisrXT10JjI1NTt9CnJuZ19wcHRyPTA7cm5nX3NlZWRfdGltZSgpO30KZnVuY3Rpb24gcm5nX2dldF9ieXRlKCl7aWYocm5nX3N0YXRlPT1udWxsKXtybmdfc2VlZF90aW1lKCk7cm5nX3N0YXRlPXBybmdfbmV3c3RhdGUoKTtybmdfc3RhdGUuaW5pdChybmdfcG9vbCk7Zm9yKHJuZ19wcHRyPTA7cm5nX3BwdHI8cm5nX3Bvb2wubGVuZ3RoOysrcm5nX3BwdHIpCnJuZ19wb29sW3JuZ19wcHRyXT0wO3JuZ19wcHRyPTA7fQpyZXR1cm4gcm5nX3N0YXRlLm5leHQoKTt9CmZ1bmN0aW9uIHJuZ19nZXRfYnl0ZXMoYmEpe3ZhciBpO2ZvcihpPTA7aTxiYS5sZW5ndGg7KytpKWJhW2ldPXJuZ19nZXRfYnl0ZSgpO30KZnVuY3Rpb24gU2VjdXJlUmFuZG9tKCl7fQpTZWN1cmVSYW5kb20ucHJvdG90eXBlLm5leHRCeXRlcz1ybmdfZ2V0X2J5dGVzO2Z1bmN0aW9uIHBhcnNlQmlnSW50KHN0cixyKXtyZXR1cm4gbmV3IEJpZ0ludGVnZXIoc3RyLHIpO30KZnVuY3Rpb24gbGluZWJyayhzLG4pe3ZhciByZXQ9IiI7dmFyIGk9MDt3aGlsZShpK248cy5sZW5ndGgpe3JldCs9cy5zdWJzdHJpbmcoaSxpK24pKyJcbiI7aSs9bjt9CnJldHVybiByZXQrcy5zdWJzdHJpbmcoaSxzLmxlbmd0aCk7fQpmdW5jdGlvbiBieXRlMkhleChiKXtpZihiPDB4MTApCnJldHVybiIwIitiLnRvU3RyaW5nKDE2KTtlbHNlCnJldHVybiBiLnRvU3RyaW5nKDE2KTt9CmZ1bmN0aW9uIHBrY3MxcGFkMihzLG4pe2lmKG48cy5sZW5ndGgrMTEpe2FsZXJ0KCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0EiKTtyZXR1cm4gbnVsbDt9CnZhciBiYT1uZXcgQXJyYXkoKTt2YXIgaT1zLmxlbmd0aC0xO3doaWxlKGk+PTAmJm4+MCl7dmFyIGM9cy5jaGFyQ29kZUF0KGktLSk7aWYoYzwxMjgpe2JhWy0tbl09Yzt9CmVsc2UgaWYoKGM+MTI3KSYmKGM8MjA0OCkpe2JhWy0tbl09KGMmNjMpfDEyODtiYVstLW5dPShjPj42KXwxOTI7fQplbHNle2JhWy0tbl09KGMmNjMpfDEyODtiYVstLW5dPSgoYz4+NikmNjMpfDEyODtiYVstLW5dPShjPj4xMil8MjI0O319CmJhWy0tbl09MDt2YXIgcm5nPW5ldyBTZWN1cmVSYW5kb20oKTt2YXIgeD1uZXcgQXJyYXkoKTt3aGlsZShuPjIpe3hbMF09MDt3aGlsZSh4WzBdPT0wKXJuZy5uZXh0Qnl0ZXMoeCk7YmFbLS1uXT14WzBdO30KYmFbLS1uXT0yO2JhWy0tbl09MDtyZXR1cm4gbmV3IEJpZ0ludGVnZXIoYmEpO30KZnVuY3Rpb24gUlNBS2V5KCl7dGhpcy5uPW51bGw7dGhpcy5lPTA7dGhpcy5kPW51bGw7dGhpcy5wPW51bGw7dGhpcy5xPW51bGw7dGhpcy5kbXAxPW51bGw7dGhpcy5kbXExPW51bGw7dGhpcy5jb2VmZj1udWxsO30KZnVuY3Rpb24gUlNBU2V0UHVibGljKE4sRSl7aWYoTiE9bnVsbCYmRSE9bnVsbCYmTi5sZW5ndGg+MCYmRS5sZW5ndGg+MCl7dGhpcy5uPXBhcnNlQmlnSW50KE4sMTYpO3RoaXMuZT1wYXJzZUludChFLDE2KTt9CmVsc2UKYWxlcnQoIkludmFsaWQgUlNBIHB1YmxpYyBrZXkiKTt9CmZ1bmN0aW9uIFJTQURvUHVibGljKHgpe3JldHVybiB4Lm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKTt9CmZ1bmN0aW9uIFJTQUVuY3J5cHQodGV4dCl7dmFyIG09cGtjczFwYWQyKHRleHQsKHRoaXMubi5iaXRMZW5ndGgoKSs3KT4+Myk7aWYobT09bnVsbClyZXR1cm4gbnVsbDt2YXIgYz10aGlzLmRvUHVibGljKG0pO2lmKGM9PW51bGwpcmV0dXJuIG51bGw7dmFyIGg9Yy50b1N0cmluZygxNik7aWYoKGgubGVuZ3RoJjEpPT0wKXJldHVybiBoO2Vsc2UgcmV0dXJuIjAiK2g7fQpSU0FLZXkucHJvdG90eXBlLmRvUHVibGljPVJTQURvUHVibGljO1JTQUtleS5wcm90b3R5cGUuc2V0UHVibGljPVJTQVNldFB1YmxpYztSU0FLZXkucHJvdG90eXBlLmVuY3J5cHQ9UlNBRW5jcnlwdDt2YXIgTGF3bmNoYWlyPWZ1bmN0aW9uKG9wdGlvbnMsY2FsbGJhY2spe2lmKCEodGhpcyBpbnN0YW5jZW9mIExhd25jaGFpcikpcmV0dXJuIG5ldyBMYXduY2hhaXIob3B0aW9ucyxjYWxsYmFjayk7aWYoIUpTT04pdGhyb3cnSlNPTiB1bmF2YWlsYWJsZSEgSW5jbHVkZSBodHRwOi8vd3d3Lmpzb24ub3JnL2pzb24yLmpzIHRvIGZpeC4nCmlmKGFyZ3VtZW50cy5sZW5ndGg8PTImJmFyZ3VtZW50cy5sZW5ndGg+MCl7Y2FsbGJhY2s9KHR5cGVvZiBhcmd1bWVudHNbMF09PT0nZnVuY3Rpb24nKT9hcmd1bWVudHNbMF06YXJndW1lbnRzWzFdO29wdGlvbnM9KHR5cGVvZiBhcmd1bWVudHNbMF09PT0nZnVuY3Rpb24nKT97fTphcmd1bWVudHNbMF07fWVsc2V7dGhyb3cnSW5jb3JyZWN0ICMgb2YgY3RvciBhcmdzISd9CmlmKHR5cGVvZiBjYWxsYmFjayE9PSdmdW5jdGlvbicpdGhyb3cnTm8gY2FsbGJhY2sgd2FzIHByb3ZpZGVkJzt0aGlzLnJlY29yZD1vcHRpb25zLnJlY29yZHx8J3JlY29yZCcKdGhpcy5uYW1lPW9wdGlvbnMubmFtZXx8J3JlY29yZHMnCnZhciBhZGFwdGVyCmlmKG9wdGlvbnMuYWRhcHRlcil7aWYodHlwZW9mKG9wdGlvbnMuYWRhcHRlcik9PT0nc3RyaW5nJyl7b3B0aW9ucy5hZGFwdGVyPVtvcHRpb25zLmFkYXB0ZXJdO30KZm9yKHZhciBqPTAsaz1vcHRpb25zLmFkYXB0ZXIubGVuZ3RoO2o8aztqKyspe2Zvcih2YXIgaT1MYXduY2hhaXIuYWRhcHRlcnMubGVuZ3RoLTE7aT49MDtpLS0pe2lmKExhd25jaGFpci5hZGFwdGVyc1tpXS5hZGFwdGVyPT09b3B0aW9ucy5hZGFwdGVyW2pdKXthZGFwdGVyPUxhd25jaGFpci5hZGFwdGVyc1tpXS52YWxpZCgpP0xhd25jaGFpci5hZGFwdGVyc1tpXTp1bmRlZmluZWQ7aWYoYWRhcHRlcilicmVha319CmlmKGFkYXB0ZXIpYnJlYWt9fQplbHNle2Zvcih2YXIgaT0wLGw9TGF3bmNoYWlyLmFkYXB0ZXJzLmxlbmd0aDtpPGw7aSsrKXthZGFwdGVyPUxhd25jaGFpci5hZGFwdGVyc1tpXS52YWxpZCgpP0xhd25jaGFpci5hZGFwdGVyc1tpXTp1bmRlZmluZWQKaWYoYWRhcHRlcilicmVha319CmlmKCFhZGFwdGVyKXRocm93J05vIHZhbGlkIGFkYXB0ZXIuJwpmb3IodmFyIGogaW4gYWRhcHRlcikKdGhpc1tqXT1hZGFwdGVyW2pdCmZvcih2YXIgaT0wLGw9TGF3bmNoYWlyLnBsdWdpbnMubGVuZ3RoO2k8bDtpKyspCkxhd25jaGFpci5wbHVnaW5zW2ldLmNhbGwodGhpcykKdGhpcy5pbml0KG9wdGlvbnMsY2FsbGJhY2spfQpMYXduY2hhaXIuYWRhcHRlcnM9W10KTGF3bmNoYWlyLmFkYXB0ZXI9ZnVuY3Rpb24oaWQsb2JqKXtvYmpbJ2FkYXB0ZXInXT1pZAp2YXIgaW1wbGVtZW50aW5nPSdhZGFwdGVyIHZhbGlkIGluaXQga2V5cyBzYXZlIGJhdGNoIGdldCBleGlzdHMgYWxsIHJlbW92ZSBudWtlJy5zcGxpdCgnICcpLGluZGV4T2Y9dGhpcy5wcm90b3R5cGUuaW5kZXhPZgpmb3IodmFyIGkgaW4gb2JqKXtpZihpbmRleE9mKGltcGxlbWVudGluZyxpKT09PS0xKXRocm93J0ludmFsaWQgYWRhcHRlciEgTm9uc3RhbmRhcmQgbWV0aG9kOiAnK2l9Ckxhd25jaGFpci5hZGFwdGVycy5zcGxpY2UoMCwwLG9iail9Ckxhd25jaGFpci5wbHVnaW5zPVtdCkxhd25jaGFpci5wbHVnaW49ZnVuY3Rpb24ob2JqKXtmb3IodmFyIGkgaW4gb2JqKQppPT09J2luaXQnP0xhd25jaGFpci5wbHVnaW5zLnB1c2gob2JqW2ldKTp0aGlzLnByb3RvdHlwZVtpXT1vYmpbaV19Ckxhd25jaGFpci5wcm90b3R5cGU9e2lzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24obyl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKT09PSdbb2JqZWN0IEFycmF5XSd9LGluZGV4T2Y6ZnVuY3Rpb24oYXJ5LGl0ZW0saSxsKXtpZihhcnkuaW5kZXhPZilyZXR1cm4gYXJ5LmluZGV4T2YoaXRlbSkKZm9yKGk9MCxsPWFyeS5sZW5ndGg7aTxsO2krKylpZihhcnlbaV09PT1pdGVtKXJldHVybiBpCnJldHVybi0xfSxsYW1iZGE6ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmZuKHRoaXMucmVjb3JkLGNhbGxiYWNrKX0sZm46ZnVuY3Rpb24obmFtZSxjYWxsYmFjayl7cmV0dXJuIHR5cGVvZiBjYWxsYmFjaz09J3N0cmluZyc/bmV3IEZ1bmN0aW9uKG5hbWUsY2FsbGJhY2spOmNhbGxiYWNrfSx1dWlkOmZ1bmN0aW9uKCl7dmFyIFM0PWZ1bmN0aW9uKCl7cmV0dXJuKCgoMStNYXRoLnJhbmRvbSgpKSoweDEwMDAwKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO30KcmV0dXJuKFM0KCkrUzQoKSsiLSIrUzQoKSsiLSIrUzQoKSsiLSIrUzQoKSsiLSIrUzQoKStTNCgpK1M0KCkpO30sZWFjaDpmdW5jdGlvbihjYWxsYmFjayl7dmFyIGNiPXRoaXMubGFtYmRhKGNhbGxiYWNrKQppZih0aGlzLl9fcmVzdWx0cyl7Zm9yKHZhciBpPTAsbD10aGlzLl9fcmVzdWx0cy5sZW5ndGg7aTxsO2krKyljYi5jYWxsKHRoaXMsdGhpcy5fX3Jlc3VsdHNbaV0saSl9CmVsc2V7dGhpcy5hbGwoZnVuY3Rpb24ocil7Zm9yKHZhciBpPTAsbD1yLmxlbmd0aDtpPGw7aSsrKWNiLmNhbGwodGhpcyxyW2ldLGkpfSl9CnJldHVybiB0aGlzfX07TGF3bmNoYWlyLmFkYXB0ZXIoJ3dpbmRvdy1uYW1lJywoZnVuY3Rpb24oKXtpZih0eXBlb2Ygd2luZG93PT09J3VuZGVmaW5lZCcpe3dpbmRvdz17dG9wOnt9fTt9CnZhciBkYXRhPXt9CnRyeXtkYXRhPUpTT04ucGFyc2Uod2luZG93LnRvcC5uYW1lKX1jYXRjaChlKXt9CnJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiB0eXBlb2Ygd2luZG93LnRvcC5uYW1lIT0ndW5kZWZpbmVkJ30saW5pdDpmdW5jdGlvbihvcHRpb25zLGNhbGxiYWNrKXtkYXRhW3RoaXMubmFtZV09ZGF0YVt0aGlzLm5hbWVdfHx7aW5kZXg6W10sc3RvcmU6e319CnRoaXMuaW5kZXg9ZGF0YVt0aGlzLm5hbWVdLmluZGV4CnRoaXMuc3RvcmU9ZGF0YVt0aGlzLm5hbWVdLnN0b3JlCnRoaXMuZm4odGhpcy5uYW1lLGNhbGxiYWNrKS5jYWxsKHRoaXMsdGhpcykKcmV0dXJuIHRoaXN9LGtleXM6ZnVuY3Rpb24oY2FsbGJhY2spe3RoaXMuZm4oJ2tleXMnLGNhbGxiYWNrKS5jYWxsKHRoaXMsdGhpcy5pbmRleCkKcmV0dXJuIHRoaXN9LHNhdmU6ZnVuY3Rpb24ob2JqLGNiKXt2YXIga2V5PW9iai5rZXl8fHRoaXMudXVpZCgpCnRoaXMuZXhpc3RzKGtleSxmdW5jdGlvbihleGlzdHMpe2lmKCFleGlzdHMpe2lmKG9iai5rZXkpZGVsZXRlIG9iai5rZXkKdGhpcy5pbmRleC5wdXNoKGtleSl9CnRoaXMuc3RvcmVba2V5XT1vYmoKdHJ5e3dpbmRvdy50b3AubmFtZT1KU09OLnN0cmluZ2lmeShkYXRhKX1jYXRjaChlKXtpZighZXhpc3RzKXt0aGlzLmluZGV4LnBvcCgpO2RlbGV0ZSB0aGlzLnN0b3JlW2tleV07fQp0aHJvdyBlO30KaWYoY2Ipe29iai5rZXk9a2V5CnRoaXMubGFtYmRhKGNiKS5jYWxsKHRoaXMsb2JqKX19KQpyZXR1cm4gdGhpc30sYmF0Y2g6ZnVuY3Rpb24ob2JqcyxjYil7dmFyIHI9W10KZm9yKHZhciBpPTAsbD1vYmpzLmxlbmd0aDtpPGw7aSsrKXt0aGlzLnNhdmUob2Jqc1tpXSxmdW5jdGlvbihyZWNvcmQpe3IucHVzaChyZWNvcmQpfSl9CmlmKGNiKXRoaXMubGFtYmRhKGNiKS5jYWxsKHRoaXMscikKcmV0dXJuIHRoaXN9LGdldDpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgcjtpZih0aGlzLmlzQXJyYXkoa2V5T3JBcnJheSkpe3I9W10KZm9yKHZhciBpPTAsbD1rZXlPckFycmF5Lmxlbmd0aDtpPGw7aSsrKXtyLnB1c2godGhpcy5zdG9yZVtrZXlPckFycmF5W2ldXSl9fWVsc2V7cj10aGlzLnN0b3JlW2tleU9yQXJyYXldCmlmKHIpci5rZXk9a2V5T3JBcnJheX0KaWYoY2IpdGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcyxyKQpyZXR1cm4gdGhpc30sZXhpc3RzOmZ1bmN0aW9uKGtleSxjYil7dGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcywhISh0aGlzLnN0b3JlW2tleV0pKQpyZXR1cm4gdGhpc30sYWxsOmZ1bmN0aW9uKGNiKXt2YXIgcj1bXQpmb3IodmFyIGk9MCxsPXRoaXMuaW5kZXgubGVuZ3RoO2k8bDtpKyspe3ZhciBvYmo9dGhpcy5zdG9yZVt0aGlzLmluZGV4W2ldXQpvYmoua2V5PXRoaXMuaW5kZXhbaV0Kci5wdXNoKG9iail9CnRoaXMuZm4odGhpcy5uYW1lLGNiKS5jYWxsKHRoaXMscikKcmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgZGVsPXRoaXMuaXNBcnJheShrZXlPckFycmF5KT9rZXlPckFycmF5OltrZXlPckFycmF5XQpmb3IodmFyIGk9MCxsPWRlbC5sZW5ndGg7aTxsO2krKyl7dmFyIGtleT1kZWxbaV0ua2V5P2RlbFtpXS5rZXk6ZGVsW2ldCnZhciB3aGVyZT10aGlzLmluZGV4T2YodGhpcy5pbmRleCxrZXkpCmlmKHdoZXJlPDApY29udGludWUKZGVsZXRlIHRoaXMuc3RvcmVba2V5XQp0aGlzLmluZGV4LnNwbGljZSh3aGVyZSwxKX0Kd2luZG93LnRvcC5uYW1lPUpTT04uc3RyaW5naWZ5KGRhdGEpCmlmKGNiKXRoaXMubGFtYmRhKGNiKS5jYWxsKHRoaXMpCnJldHVybiB0aGlzfSxudWtlOmZ1bmN0aW9uKGNiKXt0aGlzLnN0b3JlPWRhdGFbdGhpcy5uYW1lXS5zdG9yZT17fQp0aGlzLmluZGV4PWRhdGFbdGhpcy5uYW1lXS5pbmRleD1bXQp3aW5kb3cudG9wLm5hbWU9SlNPTi5zdHJpbmdpZnkoZGF0YSkKaWYoY2IpdGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcykKcmV0dXJuIHRoaXN9fX0pKCkpCkxhd25jaGFpci5hZGFwdGVyKCdkb20nLChmdW5jdGlvbigpe3ZhciBzdG9yYWdlPXdpbmRvdy5sb2NhbFN0b3JhZ2UKdmFyIGluZGV4ZXI9ZnVuY3Rpb24obmFtZSl7cmV0dXJue2tleTpuYW1lKycuX2luZGV4XycsYWxsOmZ1bmN0aW9uKCl7dmFyIGE9c3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KQppZihhKXthPUpTT04ucGFyc2UoYSl9CmlmKGE9PT1udWxsKXN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShbXSkpCnJldHVybiBKU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSkpfSxhZGQ6ZnVuY3Rpb24oa2V5KXt2YXIgYT10aGlzLmFsbCgpCmEucHVzaChrZXkpCnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShhKSl9LGRlbDpmdW5jdGlvbihrZXkpe3ZhciBhPXRoaXMuYWxsKCkscj1bXQpmb3IodmFyIGk9MCxsPWEubGVuZ3RoO2k8bDtpKyspe2lmKGFbaV0hPWtleSlyLnB1c2goYVtpXSl9CnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShyKSl9LGZpbmQ6ZnVuY3Rpb24oa2V5KXt2YXIgYT10aGlzLmFsbCgpCmZvcih2YXIgaT0wLGw9YS5sZW5ndGg7aTxsO2krKyl7aWYoa2V5PT09YVtpXSlyZXR1cm4gaX0KcmV0dXJuIGZhbHNlfX19CnJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEhc3RvcmFnZSYmZnVuY3Rpb24oKXt2YXIgc3VjY2Vzcz10cnVlCnZhciB2YWx1ZT1NYXRoLnJhbmRvbSgpCnRyeXtzdG9yYWdlLnNldEl0ZW0odmFsdWUsdmFsdWUpfWNhdGNoKGUpe3N1Y2Nlc3M9ZmFsc2V9CnN0b3JhZ2UucmVtb3ZlSXRlbSh2YWx1ZSkKcmV0dXJuIHN1Y2Nlc3N9KCl9LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyxjYWxsYmFjayl7dGhpcy5pbmRleGVyPWluZGV4ZXIodGhpcy5uYW1lKQppZihjYWxsYmFjayl0aGlzLmZuKHRoaXMubmFtZSxjYWxsYmFjaykuY2FsbCh0aGlzLHRoaXMpfSxzYXZlOmZ1bmN0aW9uKG9iaixjYWxsYmFjayl7dmFyIGtleT1vYmoua2V5P3RoaXMubmFtZSsnLicrb2JqLmtleTp0aGlzLm5hbWUrJy4nK3RoaXMudXVpZCgpCmRlbGV0ZSBvYmoua2V5O3N0b3JhZ2Uuc2V0SXRlbShrZXksSlNPTi5zdHJpbmdpZnkob2JqKSkKaWYodGhpcy5pbmRleGVyLmZpbmQoa2V5KT09PWZhbHNlKXRoaXMuaW5kZXhlci5hZGQoa2V5KQpvYmoua2V5PWtleS5zbGljZSh0aGlzLm5hbWUubGVuZ3RoKzEpCmlmKGNhbGxiYWNrKXt0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzLG9iail9CnJldHVybiB0aGlzfSxiYXRjaDpmdW5jdGlvbihhcnksY2FsbGJhY2spe3ZhciBzYXZlZD1bXQpmb3IodmFyIGk9MCxsPWFyeS5sZW5ndGg7aTxsO2krKyl7dGhpcy5zYXZlKGFyeVtpXSxmdW5jdGlvbihyKXtzYXZlZC5wdXNoKHIpfSl9CmlmKGNhbGxiYWNrKXRoaXMubGFtYmRhKGNhbGxiYWNrKS5jYWxsKHRoaXMsc2F2ZWQpCnJldHVybiB0aGlzfSxrZXlzOmZ1bmN0aW9uKGNhbGxiYWNrKXtpZihjYWxsYmFjayl7dmFyIG5hbWU9dGhpcy5uYW1lCnZhciBpbmRpY2VzPXRoaXMuaW5kZXhlci5hbGwoKTt2YXIga2V5cz1bXTtpZihBcnJheS5wcm90b3R5cGUubWFwKXtrZXlzPWluZGljZXMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnJlcGxhY2UobmFtZSsnLicsJycpfSl9ZWxzZXtmb3IodmFyIGtleSBpbiBpbmRpY2VzKXtrZXlzLnB1c2goa2V5LnJlcGxhY2UobmFtZSsnLicsJycpKTt9fQp0aGlzLmZuKCdrZXlzJyxjYWxsYmFjaykuY2FsbCh0aGlzLGtleXMpfQpyZXR1cm4gdGhpc30sZ2V0OmZ1bmN0aW9uKGtleSxjYWxsYmFjayl7aWYodGhpcy5pc0FycmF5KGtleSkpe3ZhciByPVtdCmZvcih2YXIgaT0wLGw9a2V5Lmxlbmd0aDtpPGw7aSsrKXt2YXIgaz10aGlzLm5hbWUrJy4nK2tleVtpXQp2YXIgb2JqPXN0b3JhZ2UuZ2V0SXRlbShrKQppZihvYmope29iaj1KU09OLnBhcnNlKG9iaikKb2JqLmtleT1rZXlbaV19CnIucHVzaChvYmopfQppZihjYWxsYmFjayl0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzLHIpfWVsc2V7dmFyIGs9dGhpcy5uYW1lKycuJytrZXkKdmFyIG9iaj1zdG9yYWdlLmdldEl0ZW0oaykKaWYob2JqKXtvYmo9SlNPTi5wYXJzZShvYmopCm9iai5rZXk9a2V5fQppZihjYWxsYmFjayl0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzLG9iail9CnJldHVybiB0aGlzfSxleGlzdHM6ZnVuY3Rpb24oa2V5LGNiKXt2YXIgZXhpc3RzPXRoaXMuaW5kZXhlci5maW5kKHRoaXMubmFtZSsnLicra2V5KT09PWZhbHNlP2ZhbHNlOnRydWU7dGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcyxleGlzdHMpO3JldHVybiB0aGlzO30sYWxsOmZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgaWR4PXRoaXMuaW5kZXhlci5hbGwoKSxyPVtdLG8sawpmb3IodmFyIGk9MCxsPWlkeC5sZW5ndGg7aTxsO2krKyl7az1pZHhbaV0Kbz1KU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbShrKSkKby5rZXk9ay5yZXBsYWNlKHRoaXMubmFtZSsnLicsJycpCnIucHVzaChvKX0KaWYoY2FsbGJhY2spdGhpcy5mbih0aGlzLm5hbWUsY2FsbGJhY2spLmNhbGwodGhpcyxyKQpyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGtleU9yQXJyYXksY2FsbGJhY2spe3ZhciBzZWxmPXRoaXM7aWYodGhpcy5pc0FycmF5KGtleU9yQXJyYXkpKXt2YXIgaSxkb25lPWtleU9yQXJyYXkubGVuZ3RoO3ZhciByZW1vdmVPbmU9ZnVuY3Rpb24oaSl7c2VsZi5yZW1vdmUoa2V5T3JBcnJheVtpXSxmdW5jdGlvbigpe2lmKCgtLWRvbmUpPjApe3JldHVybjt9CmlmKGNhbGxiYWNrKXtzZWxmLmxhbWJkYShjYWxsYmFjaykuY2FsbChzZWxmKTt9fSk7fTtmb3IoaT0wO2k8a2V5T3JBcnJheS5sZW5ndGg7aSsrKQpyZW1vdmVPbmUoaSk7cmV0dXJuIHRoaXM7fQp2YXIga2V5PXRoaXMubmFtZSsnLicrCigoa2V5T3JBcnJheS5rZXkpP2tleU9yQXJyYXkua2V5OmtleU9yQXJyYXkpCnRoaXMuaW5kZXhlci5kZWwoa2V5KQpzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KQppZihjYWxsYmFjayl0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzKQpyZXR1cm4gdGhpc30sbnVrZTpmdW5jdGlvbihjYWxsYmFjayl7dGhpcy5hbGwoZnVuY3Rpb24ocil7Zm9yKHZhciBpPTAsbD1yLmxlbmd0aDtpPGw7aSsrKXt0aGlzLnJlbW92ZShyW2ldKTt9CmlmKGNhbGxiYWNrKXRoaXMubGFtYmRhKGNhbGxiYWNrKS5jYWxsKHRoaXMpfSkKcmV0dXJuIHRoaXN9fX0pKCkpO0xhd25jaGFpci5hZGFwdGVyKCdsb2NhbEZpbGVTdG9yYWdlJywoZnVuY3Rpb24oKXtmdW5jdGlvbiBkb0xvZyhtZXNzKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZyhtZXNzKTt9fQp2YXIgZmFpbD1mdW5jdGlvbihlLGkpe2lmKGNvbnNvbGUpY29uc29sZS5sb2coJ2Vycm9yIGluIGZpbGUgc3lzdGVtIGFkYXB0ZXIgIScsZSxpKTtlbHNlIHRocm93IGU7fTtmdW5jdGlvbiBmaWxlbmFtZUZvcktleShrZXksY2Ipe2tleT0kZmguYXBwX3Byb3BzLmFwcGlkK2tleTskZmguaGFzaCh7YWxnb3JpdGhtOiJNRDUiLHRleHQ6a2V5fSxmdW5jdGlvbihyZXN1bHQpe3ZhciBmaWxlbmFtZT1yZXN1bHQuaGFzaHZhbHVlKycudHh0JztpZih0eXBlb2YgbmF2aWdhdG9yLmV4dGVybmFsc3RvcmFnZSE9PSJ1bmRlZmluZWQiKXtuYXZpZ2F0b3IuZXh0ZXJuYWxzdG9yYWdlLmVuYWJsZShmdW5jdGlvbiBoYW5kbGVTdWNjZXNzKHJlcyl7dmFyIHBhdGg9ZmlsZW5hbWU7aWYocmVzLnBhdGgpe3BhdGg9cmVzLnBhdGg7aWYoIXBhdGgubWF0Y2goL1wvJC8pKXtwYXRoKz0nLyc7fQpwYXRoKz1maWxlbmFtZTt9CmZpbGVuYW1lPXBhdGg7cmV0dXJuIGNiKGZpbGVuYW1lKTt9LGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycil7cmV0dXJuIGNiKGZpbGVuYW1lKTt9KX1lbHNle2RvTG9nKCdmaWxlbmFtZUZvcktleSBrZXk9JytrZXkrJyAsIEZpbGVuYW1lOiAnK2ZpbGVuYW1lKTtyZXR1cm4gY2IoZmlsZW5hbWUpO319KTt9CnJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEhKHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbSl9LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyxjYWxsYmFjayl7aWYob3B0aW9ucyYmJ2Z1bmN0aW9uJz09PXR5cGVvZiBvcHRpb25zLmZhaWwpZmFpbD1vcHRpb25zLmZhaWw7aWYoY2FsbGJhY2spdGhpcy5mbih0aGlzLm5hbWUsY2FsbGJhY2spLmNhbGwodGhpcyx0aGlzKTt9LGtleXM6ZnVuY3Rpb24oY2FsbGJhY2spe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIjt9LHNhdmU6ZnVuY3Rpb24ob2JqLGNhbGxiYWNrKXt2YXIga2V5PW9iai5rZXk7dmFyIHZhbHVlPW9iai52YWx8fG9iai52YWx1ZTtmaWxlbmFtZUZvcktleShrZXksZnVuY3Rpb24oaGFzaCl7d2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULDAsZnVuY3Rpb24gZ290RlMoZmlsZVN5c3RlbSl7ZmlsZVN5c3RlbS5yb290LmdldEZpbGUoaGFzaCx7Y3JlYXRlOnRydWV9LGZ1bmN0aW9uIGdvdEZpbGVFbnRyeShmaWxlRW50cnkpe2ZpbGVFbnRyeS5jcmVhdGVXcml0ZXIoZnVuY3Rpb24gZ290RmlsZVdyaXRlcih3cml0ZXIpe3dyaXRlci5vbndyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGNhbGxiYWNrKHtrZXk6a2V5LHZhbDp2YWx1ZX0pO307d3JpdGVyLndyaXRlKHZhbHVlKTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3NhdmVdIEZhaWxlZCB0byBjcmVhdGUgZmlsZSB3cml0ZXInKTt9KTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3NhdmVdIEZhaWxlZCB0byBnZXRGaWxlJyk7fSk7fSxmdW5jdGlvbigpe2ZhaWwoJ1tzYXZlXSBGYWlsZWQgdG8gcmVxdWVzdEZpbGVTeXN0ZW0nKTt9KTt9KTt9LGJhdGNoOmZ1bmN0aW9uKHJlY29yZHMsY2FsbGJhY2spe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIjt9LGdldDpmdW5jdGlvbihrZXksY2FsbGJhY2spe2ZpbGVuYW1lRm9yS2V5KGtleSxmdW5jdGlvbihoYXNoKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbiBnb3RGUyhmaWxlU3lzdGVtKXtmaWxlU3lzdGVtLnJvb3QuZ2V0RmlsZShoYXNoLHt9LGZ1bmN0aW9uIGdvdEZpbGVFbnRyeShmaWxlRW50cnkpe2ZpbGVFbnRyeS5maWxlKGZ1bmN0aW9uIGdvdEZpbGUoZmlsZSl7dmFyIHJlYWRlcj1uZXcgRmlsZVJlYWRlcigpO3JlYWRlci5vbmxvYWRlbmQ9ZnVuY3Rpb24oZXZ0KXt2YXIgdGV4dD1ldnQudGFyZ2V0LnJlc3VsdDt0cnl7dGV4dD1kZWNvZGVVUklDb21wb25lbnQodGV4dCk7fWNhdGNoKGUpe30KcmV0dXJuIGNhbGxiYWNrKHtrZXk6a2V5LHZhbDp0ZXh0fSk7fTtyZWFkZXIucmVhZEFzVGV4dChmaWxlKTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW2xvYWRdIEZhaWxlZCB0byBnZXRGaWxlJyk7fSk7fSxmdW5jdGlvbigpe2NhbGxiYWNrKHtrZXk6a2V5LHZhbDpudWxsfSk7fSk7fSxmdW5jdGlvbigpe2ZhaWwoJ1tsb2FkXSBGYWlsZWQgdG8gZ2V0IGZpbGVTeXN0ZW0nKTt9KTt9KTt9LGV4aXN0czpmdW5jdGlvbihrZXksY2FsbGJhY2spe2ZpbGVuYW1lRm9yS2V5KGtleSxmdW5jdGlvbihoYXNoKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbiBnb3RGUyhmaWxlU3lzdGVtKXtmaWxlU3lzdGVtLnJvb3QuZ2V0RmlsZShoYXNoLHt9LGZ1bmN0aW9uIGdvdEZpbGVFbnRyeShmaWxlRW50cnkpe3JldHVybiBjYWxsYmFjayh0cnVlKTt9LGZ1bmN0aW9uKGVycil7cmV0dXJuIGNhbGxiYWNrKGZhbHNlKTt9KTt9KTt9KTt9LGFsbDpmdW5jdGlvbihjYWxsYmFjayl7dGhyb3ciQ3VycmVudGx5IG5vdCBzdXBwb3J0ZWQiO30scmVtb3ZlOmZ1bmN0aW9uKGtleSxjYWxsYmFjayl7ZmlsZW5hbWVGb3JLZXkoa2V5LGZ1bmN0aW9uKGhhc2gpe3dpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbShMb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCwwLGZ1bmN0aW9uIGdvdEZTKGZpbGVTeXN0ZW0pe2ZpbGVTeXN0ZW0ucm9vdC5nZXRGaWxlKGhhc2gse30sZnVuY3Rpb24gZ290RmlsZUVudHJ5KGZpbGVFbnRyeSl7ZmlsZUVudHJ5LnJlbW92ZShmdW5jdGlvbigpe3JldHVybiBjYWxsYmFjayh7a2V5OmtleSx2YWw6bnVsbH0pO30sZnVuY3Rpb24oKXtmYWlsKCdbcmVtb3ZlXSBGYWlsZWQgdG8gcmVtb3ZlIGZpbGUnKTt9KTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3JlbW92ZV0gRmFpbGVkIHRvIGdldEZpbGUnKTt9KTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3JlbW92ZV0gRmFpbGVkIHRvIGdldCBmaWxlU3lzdGVtJyk7fSk7fSk7fSxudWtlOmZ1bmN0aW9uKGNhbGxiYWNrKXt0aHJvdyJDdXJyZW50bHkgbm90IHN1cHBvcnRlZCI7fX07fSgpKSk7TGF3bmNoYWlyLmFkYXB0ZXIoJ3dlYmtpdC1zcWxpdGUnLChmdW5jdGlvbigpe3ZhciBmYWlsPWZ1bmN0aW9uKGUsaSl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coJ2Vycm9yIGluIHNxbGl0ZSBhZGFwdG9yIScsZSxpKX19LG5vdz1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSgpfQppZighRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpe0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKG9iail7dmFyIHNsaWNlPVtdLnNsaWNlLGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksc2VsZj10aGlzLG5vcD1mdW5jdGlvbigpe30sYm91bmQ9ZnVuY3Rpb24oKXtyZXR1cm4gc2VsZi5hcHBseSh0aGlzIGluc3RhbmNlb2Ygbm9wP3RoaXM6KG9ianx8e30pLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfQpub3AucHJvdG90eXBlPXNlbGYucHJvdG90eXBlCmJvdW5kLnByb3RvdHlwZT1uZXcgbm9wKCkKcmV0dXJuIGJvdW5kfX0KcmV0dXJue3ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISEod2luZG93Lm9wZW5EYXRhYmFzZSl9LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyxjYWxsYmFjayl7dmFyIHRoYXQ9dGhpcyxjYj10aGF0LmZuKHRoYXQubmFtZSxjYWxsYmFjayksY3JlYXRlPSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK3RoaXMucmVjb3JkKyIgKGlkIE5WQVJDSEFSKDMyKSBVTklRVUUgUFJJTUFSWSBLRVksIHZhbHVlIFRFWFQsIHRpbWVzdGFtcCBSRUFMKSIsd2luPWZ1bmN0aW9uKCl7cmV0dXJuIGNiLmNhbGwodGhhdCx0aGF0KTt9CmlmKG9wdGlvbnMmJidmdW5jdGlvbic9PT10eXBlb2Ygb3B0aW9ucy5mYWlsKWZhaWw9b3B0aW9ucy5mYWlsCnRoaXMuZGI9b3BlbkRhdGFiYXNlKHRoaXMubmFtZSwnMS4wLjAnLHRoaXMubmFtZSw2NTUzNikKdGhpcy5kYi50cmFuc2FjdGlvbihmdW5jdGlvbih0KXt0LmV4ZWN1dGVTcWwoY3JlYXRlLFtdLHdpbixmYWlsKX0pfSxrZXlzOmZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgY2I9dGhpcy5sYW1iZGEoY2FsbGJhY2spLHRoYXQ9dGhpcyxrZXlzPSJTRUxFQ1QgaWQgRlJPTSAiK3RoaXMucmVjb3JkKyIgT1JERVIgQlkgdGltZXN0YW1wIERFU0MiCnRoaXMuZGIucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3ZhciB3aW49ZnVuY3Rpb24oeHh4LHJlc3VsdHMpe2lmKHJlc3VsdHMucm93cy5sZW5ndGg9PTApe2NiLmNhbGwodGhhdCxbXSl9ZWxzZXt2YXIgcj1bXTtmb3IodmFyIGk9MCxsPXJlc3VsdHMucm93cy5sZW5ndGg7aTxsO2krKyl7ci5wdXNoKHJlc3VsdHMucm93cy5pdGVtKGkpLmlkKTt9CmNiLmNhbGwodGhhdCxyKX19CnQuZXhlY3V0ZVNxbChrZXlzLFtdLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfSxzYXZlOmZ1bmN0aW9uKG9iaixjYWxsYmFjayxlcnJvcil7dmFyIHRoYXQ9dGhpcwpvYmpzPSh0aGlzLmlzQXJyYXkob2JqKT9vYmo6W29ial0pLm1hcChmdW5jdGlvbihvKXtpZighby5rZXkpe28ua2V5PXRoYXQudXVpZCgpfQpyZXR1cm4gb30pLGlucz0iSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyAiK3RoaXMucmVjb3JkKyIgKHZhbHVlLCB0aW1lc3RhbXAsIGlkKSBWQUxVRVMgKD8sPyw/KSIsd2luPWZ1bmN0aW9uKCl7aWYoY2FsbGJhY2spe3RoYXQubGFtYmRhKGNhbGxiYWNrKS5jYWxsKHRoYXQsdGhhdC5pc0FycmF5KG9iaik/b2JqczpvYmpzWzBdKX19LGVycm9yPWVycm9yfHxmdW5jdGlvbigpe30saW5zdmFscz1bXSx0cz1ub3coKQp0cnl7Zm9yKHZhciBpPTAsbD1vYmpzLmxlbmd0aDtpPGw7aSsrKXtpbnN2YWxzW2ldPVtKU09OLnN0cmluZ2lmeShvYmpzW2ldKSx0cyxvYmpzW2ldLmtleV07fX1jYXRjaChlKXtmYWlsKGUpCnRocm93IGU7fQp0aGF0LmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wLGw9b2Jqcy5sZW5ndGg7aTxsO2krKykKdC5leGVjdXRlU3FsKGlucyxpbnN2YWxzW2ldKX0sZnVuY3Rpb24oZSxpKXtmYWlsKGUsaSl9LHdpbikKcmV0dXJuIHRoaXN9LGJhdGNoOmZ1bmN0aW9uKG9ianMsY2FsbGJhY2spe3JldHVybiB0aGlzLnNhdmUob2JqcyxjYWxsYmFjayl9LGdldDpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgdGhhdD10aGlzLHNxbD0nJyxhcmdzPXRoaXMuaXNBcnJheShrZXlPckFycmF5KT9rZXlPckFycmF5OltrZXlPckFycmF5XTtzcWw9J1NFTEVDVCBpZCwgdmFsdWUgRlJPTSAnK3RoaXMucmVjb3JkKyIgV0hFUkUgaWQgSU4gKCIrCmFyZ3MubWFwKGZ1bmN0aW9uKCl7cmV0dXJuJz8nfSkuam9pbigiLCIpKyIpIgp2YXIgd2luPWZ1bmN0aW9uKHh4eCxyZXN1bHRzKXt2YXIgbyxyLGxvb2t1cD17fQpmb3IodmFyIGk9MCxsPXJlc3VsdHMucm93cy5sZW5ndGg7aTxsO2krKyl7bz1KU09OLnBhcnNlKHJlc3VsdHMucm93cy5pdGVtKGkpLnZhbHVlKQpvLmtleT1yZXN1bHRzLnJvd3MuaXRlbShpKS5pZApsb29rdXBbby5rZXldPW87fQpyPWFyZ3MubWFwKGZ1bmN0aW9uKGtleSl7cmV0dXJuIGxvb2t1cFtrZXldO30pO2lmKCF0aGF0LmlzQXJyYXkoa2V5T3JBcnJheSkpcj1yLmxlbmd0aD9yWzBdOm51bGwKaWYoY2IpdGhhdC5sYW1iZGEoY2IpLmNhbGwodGhhdCxyKX0KdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKHNxbCxhcmdzLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfSxleGlzdHM6ZnVuY3Rpb24oa2V5LGNiKXt2YXIgaXM9IlNFTEVDVCAqIEZST00gIit0aGlzLnJlY29yZCsiIFdIRVJFIGlkID0gPyIsdGhhdD10aGlzLHdpbj1mdW5jdGlvbih4eHgscmVzdWx0cyl7aWYoY2IpdGhhdC5mbignZXhpc3RzJyxjYikuY2FsbCh0aGF0LChyZXN1bHRzLnJvd3MubGVuZ3RoPjApKX0KdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKGlzLFtrZXldLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfSxhbGw6ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciB0aGF0PXRoaXMsYWxsPSJTRUxFQ1QgKiBGUk9NICIrdGhpcy5yZWNvcmQscj1bXSxjYj10aGlzLmZuKHRoaXMubmFtZSxjYWxsYmFjayl8fHVuZGVmaW5lZCx3aW49ZnVuY3Rpb24oeHh4LHJlc3VsdHMpe2lmKHJlc3VsdHMucm93cy5sZW5ndGghPTApe2Zvcih2YXIgaT0wLGw9cmVzdWx0cy5yb3dzLmxlbmd0aDtpPGw7aSsrKXt2YXIgb2JqPUpTT04ucGFyc2UocmVzdWx0cy5yb3dzLml0ZW0oaSkudmFsdWUpCm9iai5rZXk9cmVzdWx0cy5yb3dzLml0ZW0oaSkuaWQKci5wdXNoKG9iail9fQppZihjYiljYi5jYWxsKHRoYXQscil9CnRoaXMuZGIucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZVNxbChhbGwsW10sd2luLGZhaWwpfSkKcmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgdGhhdD10aGlzLGFyZ3Msc3FsPSJERUxFVEUgRlJPTSAiK3RoaXMucmVjb3JkKyIgV0hFUkUgaWQgIix3aW49ZnVuY3Rpb24oKXtpZihjYil0aGF0LmxhbWJkYShjYikuY2FsbCh0aGF0KX0KaWYoIXRoaXMuaXNBcnJheShrZXlPckFycmF5KSl7c3FsKz0nPSA/JzthcmdzPVtrZXlPckFycmF5XTt9ZWxzZXthcmdzPWtleU9yQXJyYXk7c3FsKz0iSU4gKCIrCmFyZ3MubWFwKGZ1bmN0aW9uKCl7cmV0dXJuJz8nfSkuam9pbignLCcpKyIpIjt9CmFyZ3M9YXJncy5tYXAoZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqLmtleT9vYmoua2V5Om9iajt9KTt0aGlzLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZVNxbChzcWwsYXJncyx3aW4sZmFpbCk7fSk7cmV0dXJuIHRoaXM7fSxudWtlOmZ1bmN0aW9uKGNiKXt2YXIgbnVrZT0iREVMRVRFIEZST00gIit0aGlzLnJlY29yZCx0aGF0PXRoaXMsd2luPWNiP2Z1bmN0aW9uKCl7dGhhdC5sYW1iZGEoY2IpLmNhbGwodGhhdCl9OmZ1bmN0aW9uKCl7fQp0aGlzLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZVNxbChudWtlLFtdLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfX19KSgpKTsoZnVuY3Rpb24ocm9vdCl7cm9vdC4kZmg9cm9vdC4kZmh8fHt9O3ZhciAkZmg9cm9vdC4kZmg7JGZoLmZoX3RpbWVvdXQ9MjAwMDA7JGZoLmJveHByZWZpeD0nL2JveC9zcnYvMS4xLyc7JGZoLnNka192ZXJzaW9uPScxLjEuMic7dmFyIF9pc19pbml0aWFsaXppbmc9ZmFsc2U7dmFyIF9pbml0X2ZhaWxlZD1mYWxzZTt2YXIgX2Nsb3VkX3JlYWR5X2xpc3RlbmVycz1bXTt2YXIgX2Nsb3VkUmVhZHk9ZnVuY3Rpb24oc3VjY2Vzcyl7dHJ5e3doaWxlKF9jbG91ZF9yZWFkeV9saXN0ZW5lcnNbMF0pe3ZhciBhY3RfZnVuPV9jbG91ZF9yZWFkeV9saXN0ZW5lcnMuc2hpZnQoKTtpZihhY3RfZnVuLnR5cGU9PT0iaW5pdCIpe2lmKHN1Y2Nlc3Mpe2FjdF9mdW4uc3VjY2VzcygkZmguY2xvdWRfcHJvcHMpO31lbHNle2lmKGFjdF9mdW4uZmFpbCl7YWN0X2Z1bi5mYWlsKCJmaF9pbml0X2ZhaWxlZCIse30pO319fQppZihhY3RfZnVuLnR5cGU9PT0iYWN0Iil7aWYoc3VjY2Vzcyl7JGZoLmFjdChhY3RfZnVuLm9wdHMsYWN0X2Z1bi5zdWNjZXNzLGFjdF9mdW4uZmFpbCk7fWVsc2V7aWYoYWN0X2Z1bi5mYWlsKXthY3RfZnVuLmZhaWwoImZoX2luaXRfZmFpbGVkIix7fSk7fX19fX1maW5hbGx5e319O3ZhciBfbW9ja191dWlkX2Nvb2tpZV9uYW1lPSJtb2NrX3V1aWQiO3ZhciBfX3JlYWRDb29raWVWYWx1ZT1mdW5jdGlvbihjb29raWVfbmFtZSl7dmFyIG5hbWVfc3RyPWNvb2tpZV9uYW1lKyI9Ijt2YXIgY29va2llcz1kb2N1bWVudC5jb29raWUuc3BsaXQoIjsiKTtmb3IodmFyIGk9MDtpPGNvb2tpZXMubGVuZ3RoO2krKyl7dmFyIGM9Y29va2llc1tpXTt3aGlsZShjLmNoYXJBdCgwKT09PScgJyl7Yz1jLnN1YnN0cmluZygxLGMubGVuZ3RoKTt9CmlmKGMuaW5kZXhPZihuYW1lX3N0cik9PT0wKXtyZXR1cm4gYy5zdWJzdHJpbmcobmFtZV9zdHIubGVuZ3RoLGMubGVuZ3RoKTt9fQpyZXR1cm4gbnVsbDt9O3ZhciBfX2NyZWF0ZVVVSUQ9ZnVuY3Rpb24oKXt2YXIgcz1bXTt2YXIgaGV4RGlnaXRhbHM9IjAxMjM0NTY3ODlBQkNERUYiO2Zvcih2YXIgaT0wO2k8MzI7aSsrKXtzW2ldPWhleERpZ2l0YWxzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMHgxMCksMSk7fQpzWzEyXT0iNCI7c1sxNl09aGV4RGlnaXRhbHMuc3Vic3RyKChzWzE2XSYweDMpfDB4OCwxKTt2YXIgdXVpZD1zLmpvaW4oIiIpO3JldHVybiB1dWlkO307dmFyIF9fY3JlYXRlQ29va2llPWZ1bmN0aW9uKGNvb2tpZV9uYW1lLGNvb2tpZV92YWx1ZSl7dmFyIGRhdGU9bmV3IERhdGUoKTtkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkrMzY1MDAqMjQqNjAqNjAqMTAwMCk7dmFyIGV4cGlyZXM9IjsgZXhwaXJlcz0iK2RhdGUudG9HTVRTdHJpbmcoKTtkb2N1bWVudC5jb29raWU9Y29va2llX25hbWUrIj0iK2Nvb2tpZV92YWx1ZStleHBpcmVzKyI7IHBhdGggPSAvIjt9O3ZhciBnZXREZXZpY2VJZD1mdW5jdGlvbigpe2lmKHR5cGVvZiB3aW5kb3cuZGV2aWNlIT09InVuZGVmaW5lZCImJnR5cGVvZiB3aW5kb3cuZGV2aWNlLnV1aWQhPT0idW5kZWZpbmVkIil7cmV0dXJuIHdpbmRvdy5kZXZpY2UudXVpZDt9ZWxzZSBpZih0eXBlb2YgbmF2aWdhdG9yLmRldmljZSE9PSJ1bmRlZmluZWQiJiZ0eXBlb2YgbmF2aWdhdG9yLmRldmljZS51dWlkIT09InVuZGVmaW5lZCIpe3JldHVybiBuYXZpZ2F0b3IuZGV2aWNlLnV1aWQ7fWVsc2V7dmFyIHV1aWQ9X19yZWFkQ29va2llVmFsdWUoX21vY2tfdXVpZF9jb29raWVfbmFtZSk7aWYobnVsbD09dXVpZCl7dXVpZD1fX2NyZWF0ZVVVSUQoKTtfX2NyZWF0ZUNvb2tpZShfbW9ja191dWlkX2Nvb2tpZV9uYW1lLHV1aWQpO30KcmV0dXJuIHV1aWQ7fX07dmFyIGdldEN1aWRNYXA9ZnVuY3Rpb24oKXtpZih0eXBlb2Ygd2luZG93LmRldmljZSE9PSJ1bmRlZmluZWQiJiZ0eXBlb2Ygd2luZG93LmRldmljZS5jdWlkTWFwIT09InVuZGVmaW5lZCIpe3JldHVybiB3aW5kb3cuZGV2aWNlLmN1aWRNYXA7fWVsc2UgaWYodHlwZW9mIG5hdmlnYXRvci5kZXZpY2UhPT0idW5kZWZpbmVkIiYmdHlwZW9mIG5hdmlnYXRvci5kZXZpY2UuY3VpZE1hcCE9PSJ1bmRlZmluZWQiKXtyZXR1cm4gbmF2aWdhdG9yLmRldmljZS5jdWlkTWFwO30KcmV0dXJuIG51bGw7fTskZmguX2dldERldmljZUlkPWdldERldmljZUlkOyRmaC5fZ2V0Q3VpZE1hcD1nZXRDdWlkTWFwO3ZhciBfX2lzU21hcnRNb2JpbGU9L0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBhZHxCbGFja2JlcnJ5fFdpbmRvd3MgUGhvbmUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO3ZhciBfX2lzTG9jYWxGaWxlPXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJmaWxlIik+LTE7ZnVuY3Rpb24gaXNTYW1lT3JpZ2luKHVybCl7dmFyIGxvYz13aW5kb3cubG9jYXRpb247dmFyIHVyaVBhcnRzPW5ldyBSZWdFeHAoIl4oPzooW146Lz8jLl0rKTopPyg/Oi8vKT8oKFteOi8/I10qKSg/OjooXFxkKikpPykoKC8oPzpbXj8jXSg/IVtePyMvXSpcXC5bXj8jLy5dKyg/OltcXD8jXXwkKSkpKi8/KT8oW14/Iy9dKikpPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8iKTt2YXIgbG9jUGFydHM9dXJpUGFydHMuZXhlYyhsb2MpO3ZhciB1cmxQYXJ0cz11cmlQYXJ0cy5leGVjKHVybCk7cmV0dXJuKCh1cmxQYXJ0c1sxXT09bnVsbHx8dXJsUGFydHNbMV09PT0nJykmJih1cmxQYXJ0c1szXT09bnVsbHx8dXJsUGFydHNbM109PT0nJykmJih1cmxQYXJ0c1s0XT09bnVsbHx8dXJsUGFydHNbNF09PT0nJykpfHwobG9jUGFydHNbMV09PT11cmxQYXJ0c1sxXSYmbG9jUGFydHNbM109PT11cmxQYXJ0c1szXSYmbG9jUGFydHNbNF09PT11cmxQYXJ0c1s0XSk7fQpmdW5jdGlvbiBYRG9tYWluUmVxdWVzdFdyYXBwZXIoeGRyKXt0aGlzLnhkcj14ZHI7dGhpcy5pc1dyYXBwZXI9dHJ1ZTt0aGlzLnJlYWR5U3RhdGU9MDt0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3RoaXMuc3RhdHVzPTA7dGhpcy5zdGF0dXNUZXh0PSIiO3RoaXMucmVzcG9uc2VUZXh0PSIiO3ZhciBzZWxmPXRoaXM7dGhpcy54ZHIub25sb2FkPWZ1bmN0aW9uKCl7c2VsZi5yZWFkeVN0YXRlPTQ7c2VsZi5zdGF0dXM9MjAwO3NlbGYuc3RhdHVzVGV4dD0iIjtzZWxmLnJlc3BvbnNlVGV4dD1zZWxmLnhkci5yZXNwb25zZVRleHQ7aWYoc2VsZi5vbnJlYWR5c3RhdGVjaGFuZ2Upe3NlbGYub25yZWFkeXN0YXRlY2hhbmdlKCk7fX07dGhpcy54ZHIub25lcnJvcj1mdW5jdGlvbigpe2lmKHNlbGYub25lcnJvcil7c2VsZi5vbmVycm9yKCk7fQpzZWxmLnJlYWR5U3RhdGU9NDtzZWxmLnN0YXR1cz0wO3NlbGYuc3RhdHVzVGV4dD0iIjtpZihzZWxmLm9ucmVhZHlzdGF0ZWNoYW5nZSl7c2VsZi5vbnJlYWR5c3RhdGVjaGFuZ2UoKTt9fTt0aGlzLnhkci5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtzZWxmLnJlYWR5U3RhdGU9NDtzZWxmLnN0YXR1cz00MDg7c2VsZi5zdGF0dXNUZXh0PSJ0aW1lb3V0IjtpZihzZWxmLm9ucmVhZHlzdGF0ZWNoYW5nZSl7c2VsZi5vbnJlYWR5c3RhdGVjaGFuZ2UoKTt9fTt9ClhEb21haW5SZXF1ZXN0V3JhcHBlci5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihtZXRob2QsdXJsLGFzeW4pe3RoaXMueGRyLm9wZW4obWV0aG9kLHVybCk7fTtYRG9tYWluUmVxdWVzdFdyYXBwZXIucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZGF0YSl7dGhpcy54ZHIuc2VuZChkYXRhKTt9O1hEb21haW5SZXF1ZXN0V3JhcHBlci5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLnhkci5hYm9ydCgpO307WERvbWFpblJlcXVlc3RXcmFwcGVyLnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKG4sdil7fTtYRG9tYWluUmVxdWVzdFdyYXBwZXIucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKG4pe307dmFyIF9fY29yc19zdXBwb3J0ZWQ9ZmFsc2U7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXt2YXIgcnE9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7aWYoJ3dpdGhDcmVkZW50aWFscydpbiBycSl7X19jb3JzX3N1cHBvcnRlZD10cnVlO30KaWYoIV9fY29yc19zdXBwb3J0ZWQpe2lmKHR5cGVvZiBYRG9tYWluUmVxdWVzdCE9PSJ1bmRlZmluZWQiKXtfX2NvcnNfc3VwcG9ydGVkPXRydWU7fX19CnZhciBfX3hocj1mdW5jdGlvbigpe3ZhciB4aHI9bnVsbDtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3Qpe3hocj1uZXcgWE1MSHR0cFJlcXVlc3QoKTt9ZWxzZSBpZih3aW5kb3cuQWN0aXZlWE9iamVjdCl7eGhyPW5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTt9CnJldHVybiB4aHI7fTt2YXIgX19jb3I9ZnVuY3Rpb24oKXt2YXIgY29yPW51bGw7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXt2YXIgcnE9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7aWYoJ3dpdGhDcmVkZW50aWFscydpbiBycSl7Y29yPXJxO319CmlmKG51bGw9PWNvcil7aWYodHlwZW9mIFhEb21haW5SZXF1ZXN0IT09InVuZGVmaW5lZCIpe2Nvcj1uZXcgWERvbWFpblJlcXVlc3RXcmFwcGVyKG5ldyBYRG9tYWluUmVxdWVzdCgpKTt9fQpyZXR1cm4gY29yO307dmFyIF9fY2JfY291bnRzPTA7dmFyIF9fbG9hZF9zY3JpcHQ9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXt2YXIgc2NyaXB0O3ZhciBoZWFkPWRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtzY3JpcHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7c2NyaXB0LmFzeW5jPSJhc3luYyI7c2NyaXB0LnNyYz11cmw7c2NyaXB0LnR5cGU9InRleHQvamF2YXNjcmlwdCI7c2NyaXB0Lm9ubG9hZD1zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoIXNjcmlwdC5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KHNjcmlwdC5yZWFkeVN0YXRlKSl7c2NyaXB0Lm9ubG9hZD1zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7aWYoaGVhZCYmc2NyaXB0LnBhcmVudE5vZGUpe2hlYWQucmVtb3ZlQ2hpbGQoc2NyaXB0KTt9CnNjcmlwdD11bmRlZmluZWQ7aWYoY2FsbGJhY2smJnR5cGVvZiBjYWxsYmFjaz09PSJmdW5jdGlvbiIpe2NhbGxiYWNrKCk7fX19O2hlYWQuaW5zZXJ0QmVmb3JlKHNjcmlwdCxoZWFkLmZpcnN0Q2hpbGQpO307JGZoLl9fbG9hZF9zY3JpcHQ9X19sb2FkX3NjcmlwdDt2YXIgZGVmYXVsdEZhaWw9ZnVuY3Rpb24oZXJyKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZyhlcnIpO319OyRmaC5fX2FqYXg9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIG89b3B0aW9ucz9vcHRpb25zOnt9O3ZhciBzYW1lT3JpZ2luPWlzU2FtZU9yaWdpbihvcHRpb25zLnVybCk7aWYoIXNhbWVPcmlnaW4pe2lmKHR5cGVvZiB3aW5kb3cuUGhvbmVnYXAhPT0idW5kZWZpbmVkInx8dHlwZW9mIHdpbmRvdy5jb3Jkb3ZhIT09InVuZGVmaW5lZCIpe3NhbWVPcmlnaW49dHJ1ZTt9fQppZighc2FtZU9yaWdpbil7aWYoX19pc1NtYXJ0TW9iaWxlJiZfX2lzTG9jYWxGaWxlKXtzYW1lT3JpZ2luPXRydWU7fX0KaWYoc2FtZU9yaWdpbnx8KCghc2FtZU9yaWdpbikmJl9fY29yc19zdXBwb3J0ZWQpKXtvLmRhdGFUeXBlPSdqc29uJzt9ZWxzZXtvLmRhdGFUeXBlPSJqc29ucCI7fQp2YXIgcmVxO3ZhciB1cmw9by51cmw7dmFyIG1ldGhvZD1vLnR5cGV8fCdHRVQnO3ZhciBkYXRhPW8uZGF0YXx8bnVsbDt2YXIgdGltZW91dFRpbWVyO3ZhciBydXJsPS9cPy87dmFyIGRhdGF0eXBlPW8uZGF0YVR5cGU9PT0ianNvbnAiPyJqc29ucCI6Impzb24iO3ZhciBkb25lPWZ1bmN0aW9uKHN0YXR1cyxzdGF0dXNUZXh0LHJlc3BvbnNlVGV4dCl7dmFyIGlzc3VjY2Vzcz1mYWxzZTt2YXIgZXJyb3I7dmFyIHJlcztpZihzdGF0dXM+PTIwMCYmc3RhdHVzPD0zMDB8fHN0YXR1cz09PTMwNCl7aWYoc3RhdHVzPT09MzA0KXtzdGF0dXNUZXh0PSJub3Rtb2RpZmllZCI7aXNzdWNjZXNzPXRydWU7fWVsc2V7aWYoby5kYXRhVHlwZSYmby5kYXRhVHlwZS5pbmRleE9mKCdqc29uJykhPT0tMSl7dHJ5e2lmKHR5cGVvZiByZXNwb25zZVRleHQ9PT0ic3RyaW5nIil7cmVzPUpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTt9ZWxzZXtyZXM9cmVzcG9uc2VUZXh0O30KaXNzdWNjZXNzPXRydWU7fWNhdGNoKGUpe2lzc3VjY2Vzcz1mYWxzZTtzdGF0dXNUZXh0PSJwYXJzZWVycm9yIjtlcnJvcj1lO319ZWxzZXtyZXM9cmVzcG9uc2VUZXh0O2lzc3VjY2Vzcz10cnVlO319fWVsc2V7ZXJyb3I9c3RhdHVzVGV4dDtpZighc3RhdHVzVGV4dHx8c3RhdHVzKXtzdGF0dXNUZXh0PSJlcnJvciI7aWYoc3RhdHVzPDApe3N0YXR1cz0wO319fQppZihpc3N1Y2Nlc3Mpe3JlcT11bmRlZmluZWQ7aWYoby5zdWNjZXNzJiZ0eXBlb2Ygby5zdWNjZXNzPT09J2Z1bmN0aW9uJyl7by5zdWNjZXNzKHJlcyk7fX1lbHNle2lmKG8uZXJyb3ImJnR5cGVvZiBvLmVycm9yPT09J2Z1bmN0aW9uJyl7by5lcnJvcihyZXEsc3RhdHVzVGV4dCxlcnJvcik7fX19O3ZhciB0eXBlcz17J2pzb24nOmZ1bmN0aW9uKCl7aWYoc2FtZU9yaWdpbil7cmVxPV9feGhyKCk7fWVsc2V7cmVxPV9fY29yKCk7fQppZihyZXEuaXNXcmFwcGVyKXtyZXEub3BlbigiR0VUIix1cmwrIj9wYXJhbXM9IitlbmNvZGVVUklDb21wb25lbnQoZGF0YSksdHJ1ZSk7fWVsc2V7cmVxLm9wZW4obWV0aG9kLHVybCx0cnVlKTt9CmlmKG8uY29udGVudFR5cGUpe3JlcS5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLG8uY29udGVudFR5cGUpO30KcmVxLnNldFJlcXVlc3RIZWFkZXIoJ1gtUmVxdWVzdC1XaXRoJywnWE1MSHR0cFJlcXVlc3QnKTt2YXIgaGFuZGxlcj1mdW5jdGlvbigpe2lmKHJlcS5yZWFkeVN0YXRlPT09NCl7aWYocmVxLnN0YXR1cz09PTAmJiFzYW1lT3JpZ2luJiYhcmVxLmlzQWJvcnRlZCl7cmV0dXJuIHR5cGVzWydqc29ucCddKCk7fQplbHNle2lmKHRpbWVvdXRUaW1lcil7Y2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcik7fX0KdmFyIHN0YXR1c1RleHQ7dHJ5e3N0YXR1c1RleHQ9cmVxLnN0YXR1c1RleHQ7fWNhdGNoKGUpe3N0YXR1c1RleHQ9IiI7fQppZighcmVxLmlzQWJvcnRlZCl7ZG9uZShyZXEuc3RhdHVzLHJlcS5zdGF0dXNUZXh0LHJlcS5yZXNwb25zZVRleHQpO319fTtyZXEub25yZWFkeXN0YXRlY2hhbmdlPWhhbmRsZXI7cmVxLnNlbmQoZGF0YSk7fSwnanNvbnAnOmZ1bmN0aW9uKCl7dmFyIGNhbGxiYWNrSWQ9J2ZoY2InK19fY2JfY291bnRzKys7d2luZG93W2NhbGxiYWNrSWRdPWZ1bmN0aW9uKHJlc3BvbnNlKXtpZih0aW1lb3V0VGltZXIpe2NsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpO30KZG9uZSgyMDAsIiIscmVzcG9uc2UpO3dpbmRvd1tjYWxsYmFja0lkXT11bmRlZmluZWQ7dHJ5e2RlbGV0ZSB3aW5kb3dbY2FsbGJhY2tJZF07fWNhdGNoKGUpe319O3VybCs9KHJ1cmwudGVzdCh1cmwpPyImIjoiPyIpKyJfY2FsbGJhY2s9IitjYWxsYmFja0lkO2lmKG8uZGF0YSl7dmFyIGQ9by5kYXRhO2lmKHR5cGVvZiBkPT09InN0cmluZyIpe3VybCs9IiZfanNvbnBkYXRhPSIrZW5jb2RlVVJJQ29tcG9uZW50KG8uZGF0YSk7fWVsc2V7dXJsKz0iJl9qc29ucGRhdGE9IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoby5kYXRhKSk7fX0KX19sb2FkX3NjcmlwdCh1cmwpO319O2lmKG8udGltZW91dD4wKXt0aW1lb3V0VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKHJlcSl7cmVxLmlzQWJvcnRlZD10cnVlO3JlcS5hYm9ydCgpO30KZG9uZSgwLCd0aW1lb3V0Jyk7fSxvLnRpbWVvdXQpO30KdHlwZXNbZGF0YXR5cGVdKCk7fTtfaGFuZGxlRXJyb3I9ZnVuY3Rpb24oZmFpbCxyZXEscmVzU3RhdHVzKXt2YXIgZXJycmF3O2lmKHJlcSl7dHJ5e3ZhciByZXM9SlNPTi5wYXJzZShyZXEucmVzcG9uc2VUZXh0KTtlcnJyYXc9cmVzLmVycm9yO31jYXRjaChlKXtlcnJyYXc9cmVxLnJlc3BvbnNlVGV4dDt9fQppZihmYWlsKXtmYWlsKCdlcnJvcl9hamF4ZmFpbCcse3N0YXR1czpyZXEuc3RhdHVzLG1lc3NhZ2U6cmVzU3RhdHVzLGVycm9yOmVycnJhd30pO319O19nZXRRdWVyeU1hcD1mdW5jdGlvbih1cmwpe3ZhciBxbWFwO3ZhciBpPXVybC5zcGxpdCgiPyIpO2lmKGkubGVuZ3RoPT09Mil7dmFyIHF1ZXJ5U3RyaW5nPWlbMV07dmFyIHBhaXJzPXF1ZXJ5U3RyaW5nLnNwbGl0KCImIik7cW1hcD17fTtmb3IodmFyIHA9MDtwPHBhaXJzLmxlbmd0aDtwKyspe3ZhciBxPXBhaXJzW3BdO3ZhciBxcD1xLnNwbGl0KCI9Iik7cW1hcFtxcFswXV09cXBbMV07fX0KcmV0dXJuIHFtYXA7fTtfY2hlY2tBdXRoUmVzcG9uc2U9ZnVuY3Rpb24odXJsKXtpZigvXF9maEF1dGhDYWxsYmFjay8udGVzdCh1cmwpKXt2YXIgcW1hcD1fZ2V0UXVlcnlNYXAodXJsKTtpZihxbWFwKXt2YXIgZmhDYWxsYmFjaz1xbWFwWyJfZmhBdXRoQ2FsbGJhY2siXTtpZihmaENhbGxiYWNrKXtpZihxbWFwWydyZXN1bHQnXSYmcW1hcFsncmVzdWx0J109PT0nc3VjY2Vzcycpe3ZhciBzdWNSZXM9eydzZXNzaW9uVG9rZW4nOnFtYXBbJ2ZoX2F1dGhfc2Vzc2lvbiddLCdhdXRoUmVzcG9uc2UnOkpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudChxbWFwWydhdXRoUmVzcG9uc2UnXSkpKX07d2luZG93W2ZoQ2FsbGJhY2tdKG51bGwsc3VjUmVzKTt9ZWxzZXt3aW5kb3dbZmhDYWxsYmFja10oeydtZXNzYWdlJzpxbWFwWydtZXNzYWdlJ119KTt9fX19fTtfZ2V0RmhQYXJhbXM9ZnVuY3Rpb24oKXt2YXIgZmhQYXJhbXM9e307ZmhQYXJhbXMuY3VpZD1nZXREZXZpY2VJZCgpO2ZoUGFyYW1zLmN1aWRNYXA9Z2V0Q3VpZE1hcCgpO2ZoUGFyYW1zLmFwcGlkPSRmaC5hcHBfcHJvcHMuYXBwaWQ7ZmhQYXJhbXMuYXBwa2V5PSRmaC5hcHBfcHJvcHMuYXBwa2V5O2ZoUGFyYW1zLmFuYWx5dGljc1RhZz0kZmguYXBwX3Byb3BzLmFuYWx5dGljc1RhZztmaFBhcmFtcy5pbml0PSRmaC5hcHBfcHJvcHMuaW5pdDtpZih0eXBlb2YgZmhfZGVzdGluYXRpb25fY29kZSE9PSd1bmRlZmluZWQnKXtmaFBhcmFtcy5kZXN0aW5hdGlvbj1maF9kZXN0aW5hdGlvbl9jb2RlO31lbHNle2ZoUGFyYW1zLmRlc3RpbmF0aW9uPSJ3ZWIiO30KaWYodHlwZW9mIGZoX2FwcF92ZXJzaW9uIT09J3VuZGVmaW5lZCcpe2ZoUGFyYW1zLmFwcF92ZXJzaW9uPWZoX2FwcF92ZXJzaW9uO30KZmhQYXJhbXMuc2RrX3ZlcnNpb249X2dldFNka1ZlcnNpb24oKTtyZXR1cm4gZmhQYXJhbXM7fTtfYWRkRmhQYXJhbXM9ZnVuY3Rpb24ocGFyYW1zKXtwYXJhbXM9cGFyYW1zfHx7fTtwYXJhbXMuX19maD1fZ2V0RmhQYXJhbXMoKTtyZXR1cm4gcGFyYW1zO307X2dldFNka1ZlcnNpb249ZnVuY3Rpb24oKXt2YXIgdHlwZT0iRkhfSlNfU0RLIjtpZih0eXBlb2YgZmhfZGVzdGluYXRpb25fY29kZSE9PSd1bmRlZmluZWQnKXt0eXBlPSJGSF9IWUJSSURfU0RLIjt9ZWxzZSBpZih3aW5kb3cuUGhvbmVHYXB8fHdpbmRvdy5jb3Jkb3ZhKXt0eXBlPSJGSF9QSE9ORUdBUF9TREsiO30KcmV0dXJuIHR5cGUrIi8iKyRmaC5zZGtfdmVyc2lvbjt9O2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsZnVuY3Rpb24oKXtfY2hlY2tBdXRoUmVzcG9uc2Uod2luZG93LmxvY2F0aW9uLmhyZWYpO30sZmFsc2UpO31lbHNle3dpbmRvdy5hdHRhY2hFdmVudCgnb25sb2FkJyxmdW5jdGlvbigpe19jaGVja0F1dGhSZXNwb25zZSh3aW5kb3cubG9jYXRpb24uaHJlZik7fSk7fQokZmguX2hhbmRsZUF1dGhSZXNwb25zZT1mdW5jdGlvbihlbmR1cmwscmVzLHN1Y2Nlc3MsZmFpbCl7aWYocmVzLnN0YXR1cyYmcmVzLnN0YXR1cz09PSJvayIpe2lmKHJlcy51cmwpe2lmKHdpbmRvdy5QaG9uZUdhcHx8d2luZG93LmNvcmRvdmEpe2lmKHdpbmRvdy5wbHVnaW5zJiZ3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIpe2lmKHR5cGVvZiB3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIuc2hvd1dlYlBhZ2U9PT0iZnVuY3Rpb24iKXt3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIub25Mb2NhdGlvbkNoYW5nZT1mdW5jdGlvbihuZXdfdXJsKXtpZihuZXdfdXJsLmluZGV4T2YoZW5kdXJsKT4tMSl7d2luZG93LnBsdWdpbnMuY2hpbGRCcm93c2VyLmNsb3NlKCk7dmFyIHFtYXA9X2dldFF1ZXJ5TWFwKG5ld191cmwpO2lmKHFtYXApe2lmKHFtYXBbJ3Jlc3VsdCddJiZxbWFwWydyZXN1bHQnXT09PSdzdWNjZXNzJyl7dmFyIHN1Y1Jlcz17J3Nlc3Npb25Ub2tlbic6cW1hcFsnZmhfYXV0aF9zZXNzaW9uJ10sJ2F1dGhSZXNwb25zZSc6SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KHFtYXBbJ2F1dGhSZXNwb25zZSddKSkpfTtzdWNjZXNzKHN1Y1Jlcyk7fWVsc2V7aWYoZmFpbCl7ZmFpbCgiYXV0aF9mYWlsZWQiLHsnbWVzc2FnZSc6cW1hcFsnbWVzc2FnZSddfSk7fX19ZWxzZXtpZihmYWlsKXtmYWlsKCJhdXRoX2ZhaWxlZCIseydtZXNzYWdlJzpxbWFwWydtZXNzYWdlJ119KTt9fX19O3dpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlci5zaG93V2ViUGFnZShyZXMudXJsKTt9fWVsc2V7Y29uc29sZS5sb2coIkNoaWxkQnJvd3NlciBwbHVnaW4gaXMgbm90IGludGFsbGVkLiIpO3N1Y2Nlc3MocmVzKTt9fWVsc2V7ZG9jdW1lbnQubG9jYXRpb24uaHJlZj1yZXMudXJsO319ZWxzZXtzdWNjZXNzKHJlcyk7fX1lbHNle2lmKGZhaWwpe2ZhaWwoImF1dGhfZmFpbGVkIixyZXMpO319fTskZmguaW5pdD1mdW5jdGlvbihvcHRzLHN1Y2Nlc3MsZmFpbCl7aWYoJGZoLmNsb3VkX3Byb3BzKXtyZXR1cm4gc3VjY2VzcygkZmguY2xvdWRfcHJvcHMpO30KaWYoIV9pc19pbml0aWFsaXppbmcpe19pc19pbml0aWFsaXppbmc9dHJ1ZTtpZighZmFpbCl7ZmFpbD1kZWZhdWx0RmFpbDt9CmlmKCFvcHRzLmhvc3Qpe3JldHVybiBmYWlsKCdpbml0X25vX2hvc3QnLHt9KTt9CmlmKCFvcHRzLmFwcGlkKXtyZXR1cm4gZmFpbCgnaW5pdF9ub19hcHBpZCcse30pO30KaWYoIW9wdHMuYXBwa2V5KXtyZXR1cm4gZmFpbCgnaW5pdF9ub19hcHBrZXknLHt9KTt9CiRmaC5hcHBfcHJvcHM9b3B0czt2YXIgbGNDb25mPXtuYW1lOiJmaF9pbml0X3N0b3JhZ2UiLGFkYXB0ZXI6ImRvbSIsZmFpbDpmdW5jdGlvbihtc2csZXJyKXt2YXIgZXJyb3JfbWVzc2FnZT0ncmVhZC9zYXZlIGZyb20vdG8gbG9jYWwgc3RvcmFnZSBmYWlsZWQgIG1zZzonK21zZysnIGVycjonK2VycjtyZXR1cm4gZmFpbChlcnJvcl9tZXNzYWdlLHt9KTt9fTt2YXIgc3RvcmFnZT1udWxsO3RyeXtzdG9yYWdlPW5ldyBMYXduY2hhaXIobGNDb25mLGZ1bmN0aW9uKCl7fSk7fWNhdGNoKGUpe2xjQ29uZi5hZGFwdGVyPXVuZGVmaW5lZDtzdG9yYWdlPW5ldyBMYXduY2hhaXIobGNDb25mLGZ1bmN0aW9uKCl7fSk7fQpzdG9yYWdlLmdldCgnZmhfaW5pdCcsZnVuY3Rpb24oc3RvcmFnZV9yZXMpe2lmKHN0b3JhZ2VfcmVzJiZzdG9yYWdlX3Jlcy52YWx1ZSE9PW51bGwpeyRmaC5hcHBfcHJvcHMuaW5pdD1zdG9yYWdlX3Jlcy52YWx1ZTt9CnZhciBwYXRoPW9wdHMuaG9zdCskZmguYm94cHJlZml4KyJhcHAvaW5pdCI7dmFyIGRhdGE9X2dldEZoUGFyYW1zKCk7JGZoLl9fYWpheCh7InVybCI6cGF0aCwidHlwZSI6IlBPU1QiLCJjb250ZW50VHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLCJkYXRhIjpKU09OLnN0cmluZ2lmeShkYXRhKSwidGltZW91dCI6b3B0cy50aW1lb3V0fHwkZmguYXBwX3Byb3BzLnRpbWVvdXR8fCRmaC5maF90aW1lb3V0LCJzdWNjZXNzIjpmdW5jdGlvbihkYXRhKXskZmguY2xvdWRfcHJvcHM9ZGF0YTtzdG9yYWdlLnNhdmUoe2tleToiZmhfaW5pdCIsdmFsdWU6ZGF0YS5pbml0fSxmdW5jdGlvbigpe2lmKHN1Y2Nlc3Mpe3N1Y2Nlc3MoZGF0YSk7fQpfY2xvdWRSZWFkeSh0cnVlKTt9KTt9LCJlcnJvciI6ZnVuY3Rpb24ocmVxLHN0YXR1c1RleHQsZXJyb3Ipe19pbml0X2ZhaWxlZD10cnVlO19pc19pbml0aWFsaXppbmc9ZmFsc2U7X2hhbmRsZUVycm9yKGZhaWwscmVxLHN0YXR1c1RleHQpO19jbG91ZFJlYWR5KGZhbHNlKTt9fSk7fSk7fWVsc2V7X2Nsb3VkX3JlYWR5X2xpc3RlbmVycy5wdXNoKHt0eXBlOidpbml0JyxzdWNjZXNzOnN1Y2Nlc3MsZmFpbDpmYWlsfSk7fX07JGZoLmFjdD1mdW5jdGlvbihvcHRzLHN1Y2Nlc3MsZmFpbCl7aWYoIWZhaWwpe2ZhaWw9ZGVmYXVsdEZhaWw7fQppZighb3B0cy5hY3Qpe3JldHVybiBmYWlsKCdhY3Rfbm9fYWN0aW9uJyx7fSk7fQppZihfaW5pdF9mYWlsZWQpeyRmaC5pbml0KCRmaC5hcHBfcHJvcHMsZnVuY3Rpb24oc3VjKXtfaW5pdF9mYWlsZWQ9ZmFsc2U7ZG9BY3RDYWxsKCk7fSxmdW5jdGlvbihlcnIpe19oYW5kbGVFcnJvcihmYWlsLHsic3RhdHVzIjowLCJyZXNwb25zZVRleHQiOiJJbml0IEZhaWxlZCJ9LCJmYWlsZWQgdG8gY2FsbCBpbml0LiBDaGVjayBuZXR3b3JrIHN0YXR1cyIpO30pO30KZWxzZSBpZihudWxsPT0kZmguY2xvdWRfcHJvcHMmJl9pc19pbml0aWFsaXppbmcpe19jbG91ZF9yZWFkeV9saXN0ZW5lcnMucHVzaCh7InR5cGUiOiJhY3QiLCJvcHRzIjpvcHRzLCJzdWNjZXNzIjpzdWNjZXNzLCJmYWlsIjpmYWlsfSk7cmV0dXJuO30KZWxzZXtkb0FjdENhbGwoKTt9CmZ1bmN0aW9uIGRvQWN0Q2FsbCgpe3ZhciBjbG91ZF9ob3N0PSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5yZWxlYXNlQ2xvdWRVcmw7dmFyIGFwcF90eXBlPSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5yZWxlYXNlQ2xvdWRUeXBlO2lmKCRmaC5hcHBfcHJvcHMubW9kZSYmJGZoLmFwcF9wcm9wcy5tb2RlLmluZGV4T2YoImRldiIpPi0xKXtjbG91ZF9ob3N0PSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVXJsO2FwcF90eXBlPSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVHlwZTt9CnZhciB1cmw9Y2xvdWRfaG9zdCsiL2Nsb3VkLyIrb3B0cy5hY3Q7aWYoYXBwX3R5cGU9PT0iZmgiKXt1cmw9Y2xvdWRfaG9zdCskZmguYm94cHJlZml4KyJhY3QvIiskZmguY2xvdWRfcHJvcHMuZG9tYWluKyIvIiskZmguYXBwX3Byb3BzLmFwcGlkKyIvIitvcHRzLmFjdCsiLyIrJGZoLmFwcF9wcm9wcy5hcHBpZDt9CnZhciBwYXJhbXM9b3B0cy5yZXF8fHt9O3BhcmFtcz1fYWRkRmhQYXJhbXMocGFyYW1zKTtyZXR1cm4gJGZoLl9fYWpheCh7InVybCI6dXJsLCJ0eXBlIjoiUE9TVCIsImRhdGEiOkpTT04uc3RyaW5naWZ5KHBhcmFtcyksImNvbnRlbnRUeXBlIjoiYXBwbGljYXRpb24vanNvbiIsInRpbWVvdXQiOm9wdHMudGltZW91dHx8JGZoLmFwcF9wcm9wcy50aW1lb3V0fHwkZmguZmhfdGltZW91dCxzdWNjZXNzOmZ1bmN0aW9uKHJlcyl7aWYoc3VjY2Vzcyl7cmV0dXJuIHN1Y2Nlc3MocmVzKTt9fSxlcnJvcjpmdW5jdGlvbihyZXEsc3RhdHVzVGV4dCxlcnJvcil7X2hhbmRsZUVycm9yKGZhaWwscmVxLHN0YXR1c1RleHQpO319KTt9fTskZmguYXV0aD1mdW5jdGlvbihvcHRzLHN1Y2Nlc3MsZmFpbCl7aWYoIWZhaWwpe2ZhaWw9ZGVmYXVsdEZhaWw7fQppZihudWxsPT0kZmguY2xvdWRfcHJvcHMpe3JldHVybiBmYWlsKCdmaF9ub3RfcmVhZHknLHt9KTt9CnZhciByZXE9e307aWYoIW9wdHMucG9saWN5SWQpe3JldHVybiBmYWlsKCdhdXRoX25vX3BvbGljeUlkJyx7fSk7fQppZighb3B0cy5jbGllbnRUb2tlbil7cmV0dXJuIGZhaWwoJ2F1dGhfbm9fY2xpZW50VG9rZW4nLHt9KTt9CnJlcS5wb2xpY3lJZD1vcHRzLnBvbGljeUlkO3JlcS5jbGllbnRUb2tlbj1vcHRzLmNsaWVudFRva2VuO2lmKG9wdHMuZW5kUmVkaXJlY3RVcmwpe3JlcS5lbmRSZWRpcmVjdFVybD1vcHRzLmVuZFJlZGlyZWN0VXJsO2lmKG9wdHMuYXV0aENhbGxiYWNrKXtyZXEuZW5kUmVkaXJlY3RVcmwrPSgvXD8vLnRlc3QocmVxLmVuZFJlZGlyZWN0VXJsKT8iJiI6Ij8iKSsiX2ZoQXV0aENhbGxiYWNrPSIrb3B0cy5hdXRoQ2FsbGJhY2s7fX0KcmVxLnBhcmFtcz17fTtpZihvcHRzLnBhcmFtcyl7cmVxLnBhcmFtcz1vcHRzLnBhcmFtczt9CnZhciBlbmR1cmw9b3B0cy5lbmRSZWRpcmVjdFVybHx8InN0YXR1cz1jb21wbGV0ZSI7cmVxLmRldmljZT1nZXREZXZpY2VJZCgpO3ZhciBwYXRoPSRmaC5hcHBfcHJvcHMuaG9zdCskZmguYm94cHJlZml4KyJhZG1pbi9hdXRocG9saWN5L2F1dGgiO3JlcT1fYWRkRmhQYXJhbXMocmVxKTskZmguX19hamF4KHsidXJsIjpwYXRoLCJ0eXBlIjoiUE9TVCIsImRhdGEiOkpTT04uc3RyaW5naWZ5KHJlcSksImNvbnRlbnRUeXBlIjoiYXBwbGljYXRpb24vanNvbiIsInRpbWVvdXQiOm9wdHMudGltZW91dHx8JGZoLmFwcF9wcm9wcy50aW1lb3V0fHwkZmguZmhfdGltZW91dCxzdWNjZXNzOmZ1bmN0aW9uKHJlcyl7JGZoLl9oYW5kbGVBdXRoUmVzcG9uc2UoZW5kdXJsLHJlcyxzdWNjZXNzLGZhaWwpO30sZXJyb3I6ZnVuY3Rpb24ocmVxLHN0YXR1c1RleHQsZXJyb3Ipe19oYW5kbGVFcnJvcihmYWlsLHJlcSxzdGF0dXNUZXh0KTt9fSk7fTt9KSh0aGlzKTskZmg9JGZofHx7fTskZmguc3luYz0oZnVuY3Rpb24oKXt2YXIgc2VsZj17ZGVmYXVsdHM6eyJzeW5jX2ZyZXF1ZW5jeSI6MTAsImF1dG9fc3luY19sb2NhbF91cGRhdGVzIjp0cnVlLCJub3RpZnlfY2xpZW50X3N0b3JhZ2VfZmFpbGVkIjp0cnVlLCJub3RpZnlfc3luY19zdGFydGVkIjp0cnVlLCJub3RpZnlfc3luY19jb21wbGV0ZSI6dHJ1ZSwibm90aWZ5X29mZmxpbmVfdXBkYXRlIjp0cnVlLCJub3RpZnlfY29sbGlzaW9uX2RldGVjdGVkIjp0cnVlLCJub3RpZnlfcmVtb3RlX3VwZGF0ZV9mYWlsZWQiOnRydWUsIm5vdGlmeV9sb2NhbF91cGRhdGVfYXBwbGllZCI6dHJ1ZSwibm90aWZ5X3JlbW90ZV91cGRhdGVfYXBwbGllZCI6dHJ1ZSwibm90aWZ5X2RlbHRhX3JlY2VpdmVkIjp0cnVlLCJub3RpZnlfc3luY19mYWlsZWQiOnRydWUsImRvX2NvbnNvbGVfbG9nIjpmYWxzZSwiY3Jhc2hlZF9jb3VudF93YWl0IjoxMCwicmVzZW5kX2NyYXNoZWRfdXBkYXRlcyI6dHJ1ZX0sbm90aWZpY2F0aW9uczp7IkNMSUVOVF9TVE9SQUdFX0ZBSUxFRCI6ImNsaWVudF9zdG9yYWdlX2ZhaWxlZCIsIlNZTkNfU1RBUlRFRCI6InN5bmNfc3RhcnRlZCIsIlNZTkNfQ09NUExFVEUiOiJzeW5jX2NvbXBsZXRlIiwiT0ZGTElORV9VUERBVEUiOiJvZmZsaW5lX3VwZGF0ZSIsIkNPTExJU0lPTl9ERVRFQ1RFRCI6ImNvbGxpc2lvbl9kZXRlY3RlZCIsIlJFTU9URV9VUERBVEVfRkFJTEVEIjoicmVtb3RlX3VwZGF0ZV9mYWlsZWQiLCJSRU1PVEVfVVBEQVRFX0FQUExJRUQiOiJyZW1vdGVfdXBkYXRlX2FwcGxpZWQiLCJMT0NBTF9VUERBVEVfQVBQTElFRCI6ImxvY2FsX3VwZGF0ZV9hcHBsaWVkIiwiREVMVEFfUkVDRUlWRUQiOiJkZWx0YV9yZWNlaXZlZCIsIlNZTkNfRkFJTEVEIjoic3luY19mYWlsZWQifSxkYXRhc2V0czp7fSxjb25maWc6dW5kZWZpbmVkLG5vdGlmeV9jYWxsYmFjazp1bmRlZmluZWQsaW5pdDpmdW5jdGlvbihvcHRpb25zKXtzZWxmLmNvbnNvbGVMb2coJ3N5bmMgLSBpbml0IGNhbGxlZCcpO3NlbGYuY29uZmlnPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2VsZi5kZWZhdWx0cykpO2Zvcih2YXIgaSBpbiBvcHRpb25zKXtzZWxmLmNvbmZpZ1tpXT1vcHRpb25zW2ldO30Kc2VsZi5kYXRhc2V0TW9uaXRvcigpO30sbm90aWZ5OmZ1bmN0aW9uKGNhbGxiYWNrKXtzZWxmLm5vdGlmeV9jYWxsYmFjaz1jYWxsYmFjazt9LG1hbmFnZTpmdW5jdGlvbihkYXRhc2V0X2lkLG9wdGlvbnMscXVlcnlfcGFyYW1zKXt2YXIgZG9NYW5hZ2U9ZnVuY3Rpb24oZGF0YXNldCl7c2VsZi5jb25zb2xlTG9nKCdkb01hbmFnZSBkYXRhc2V0IDo6IGluaXRpYWxpc2VkID0gJytkYXRhc2V0LmluaXRpYWxpc2VkKyIgOjogIitkYXRhc2V0X2lkKycgOjogJytKU09OLnN0cmluZ2lmeShvcHRpb25zKSk7aWYoIXNlbGYuY29uZmlnKXtzZWxmLmNvbmZpZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlbGYuZGVmYXVsdHMpKTt9CnZhciBkYXRhc2V0Q29uZmlnPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2VsZi5jb25maWcpKTtmb3IodmFyIGsgaW4gb3B0aW9ucyl7ZGF0YXNldENvbmZpZ1trXT1vcHRpb25zW2tdO30KZGF0YXNldC5xdWVyeV9wYXJhbXM9cXVlcnlfcGFyYW1zfHx7fTtkYXRhc2V0LmNvbmZpZz1kYXRhc2V0Q29uZmlnO2RhdGFzZXQuc3luY1J1bm5pbmc9ZmFsc2U7ZGF0YXNldC5zeW5jUGVuZGluZz10cnVlO2RhdGFzZXQuaW5pdGlhbGlzZWQ9dHJ1ZTtkYXRhc2V0Lm1ldGE9e307c2VsZi5zYXZlRGF0YVNldChkYXRhc2V0X2lkKTt9O3NlbGYuZ2V0RGF0YVNldChkYXRhc2V0X2lkLGZ1bmN0aW9uKGRhdGFzZXQpe2RvTWFuYWdlKGRhdGFzZXQpO30sZnVuY3Rpb24oZXJyKXtzZWxmLmxvYWREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YXNldCl7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLG51bGwsc2VsZi5ub3RpZmljYXRpb25zLkxPQ0FMX1VQREFURV9BUFBMSUVELCJsb2FkIik7ZG9NYW5hZ2UoZGF0YXNldCk7fSxmdW5jdGlvbihlcnIpe3NlbGYuY29uc29sZUxvZygnQ3JlYXRpbmcgbmV3IGRhdGFzZXQgZm9yIGlkICcrZGF0YXNldF9pZCk7dmFyIGRhdGFzZXQ9e307ZGF0YXNldC5wZW5kaW5nPXt9O3NlbGYuZGF0YXNldHNbZGF0YXNldF9pZF09ZGF0YXNldDtkb01hbmFnZShkYXRhc2V0KTt9KTt9KTt9LGxpc3Q6ZnVuY3Rpb24oZGF0YXNldF9pZCxzdWNjZXNzLGZhaWx1cmUpe3NlbGYuZ2V0RGF0YVNldChkYXRhc2V0X2lkLGZ1bmN0aW9uKGRhdGFzZXQpe2lmKGRhdGFzZXQpe3ZhciByZXM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhc2V0LmRhdGEpKTtzdWNjZXNzKHJlcyk7fX0sZnVuY3Rpb24oY29kZSxtc2cpe2ZhaWx1cmUoY29kZSxtc2cpO30pO30sY3JlYXRlOmZ1bmN0aW9uKGRhdGFzZXRfaWQsZGF0YSxzdWNjZXNzLGZhaWx1cmUpe3NlbGYuYWRkUGVuZGluZ09iaihkYXRhc2V0X2lkLG51bGwsZGF0YSwiY3JlYXRlIixzdWNjZXNzLGZhaWx1cmUpO30scmVhZDpmdW5jdGlvbihkYXRhc2V0X2lkLHVpZCxzdWNjZXNzLGZhaWx1cmUpe3NlbGYuZ2V0RGF0YVNldChkYXRhc2V0X2lkLGZ1bmN0aW9uKGRhdGFzZXQpe3ZhciByZWM9ZGF0YXNldC5kYXRhW3VpZF07aWYoIXJlYyl7ZmFpbHVyZSgidW5rbm93bl91aWQiKTt9ZWxzZXt2YXIgcmVzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVjKSk7c3VjY2VzcyhyZXMpO319LGZ1bmN0aW9uKGNvZGUsbXNnKXtmYWlsdXJlKGNvZGUsbXNnKTt9KTt9LHVwZGF0ZTpmdW5jdGlvbihkYXRhc2V0X2lkLHVpZCxkYXRhLHN1Y2Nlc3MsZmFpbHVyZSl7c2VsZi5hZGRQZW5kaW5nT2JqKGRhdGFzZXRfaWQsdWlkLGRhdGEsInVwZGF0ZSIsc3VjY2VzcyxmYWlsdXJlKTt9LCdkZWxldGUnOmZ1bmN0aW9uKGRhdGFzZXRfaWQsdWlkLHN1Y2Nlc3MsZmFpbHVyZSl7c2VsZi5hZGRQZW5kaW5nT2JqKGRhdGFzZXRfaWQsdWlkLG51bGwsImRlbGV0ZSIsc3VjY2VzcyxmYWlsdXJlKTt9LGdldFBlbmRpbmc6ZnVuY3Rpb24oZGF0YXNldF9pZCxjYil7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YXNldCl7dmFyIHJlcztpZihkYXRhc2V0KXtyZXM9ZGF0YXNldC5wZW5kaW5nO30KY2IocmVzKTt9LGZ1bmN0aW9uKGVycixkYXRhdHNldF9pZCl7c2VsZi5Db25zb2xlTG9nKGVycik7fSk7fSxjbGVhclBlbmRpbmc6ZnVuY3Rpb24oZGF0YXNldF9pZCxjYil7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YXNldCl7ZGF0YXNldC5wZW5kaW5nPXt9O3NlbGYuc2F2ZURhdGFTZXQoZGF0YXNldF9pZCxjYik7fSk7fSxsaXN0Q29sbGlzaW9uczpmdW5jdGlvbihkYXRhc2V0X2lkLHN1Y2Nlc3MsZmFpbHVyZSl7JGZoLmFjdCh7ImFjdCI6ZGF0YXNldF9pZCwicmVxIjp7ImZuIjoibGlzdENvbGxpc2lvbnMifX0sc3VjY2VzcyxmYWlsdXJlKTt9LHJlbW92ZUNvbGxpc2lvbjpmdW5jdGlvbihkYXRhc2V0X2lkLGNvbGlzc2lvbkhhc2gsc3VjY2VzcyxmYWlsdXJlKXskZmguYWN0KHsiYWN0IjpkYXRhc2V0X2lkLCJyZXEiOnsiZm4iOiJyZW1vdmVDb2xsaXNpb24iLCJoYXNoIjpjb2xpc3Npb25IYXNofX0sc3VjY2VzcyxmYWlsdXJlKTt9LGlzT25saW5lOmZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgb25saW5lPXRydWU7aWYodHlwZW9mIG5hdmlnYXRvci5vbkxpbmUhPT0idW5kZWZpbmVkIil7b25saW5lPW5hdmlnYXRvci5vbkxpbmU7fQppZihvbmxpbmUpe2lmKHR5cGVvZiBuYXZpZ2F0b3IubmV0d29yayE9PSJ1bmRlZmluZWQiJiZ0eXBlb2YgbmF2aWdhdG9yLm5ldHdvcmsuY29ubmVjdGlvbiE9PSJ1bmRlZmluZWQiKXt2YXIgbmV0d29ya1R5cGU9bmF2aWdhdG9yLm5ldHdvcmsuY29ubmVjdGlvbi50eXBlO2lmKG5ldHdvcmtUeXBlPT09Im5vbmUifHxuZXR3b3JrVHlwZT09PW51bGwpe29ubGluZT1mYWxzZTt9fX0KcmV0dXJuIGNhbGxiYWNrKG9ubGluZSk7fSxkb05vdGlmeTpmdW5jdGlvbihkYXRhc2V0X2lkLHVpZCxjb2RlLG1lc3NhZ2Upe2lmKHNlbGYubm90aWZ5X2NhbGxiYWNrKXtpZihzZWxmLmNvbmZpZ1snbm90aWZ5XycrY29kZV0pe3ZhciBub3RpZmljYXRpb249eyJkYXRhc2V0X2lkIjpkYXRhc2V0X2lkLCJ1aWQiOnVpZCwiY29kZSI6Y29kZSwibWVzc2FnZSI6bWVzc2FnZX07c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYubm90aWZ5X2NhbGxiYWNrKG5vdGlmaWNhdGlvbik7fSwwKTt9fX0sZ2V0RGF0YVNldDpmdW5jdGlvbihkYXRhc2V0X2lkLHN1Y2Nlc3MsZmFpbHVyZSl7dmFyIGRhdGFzZXQ9c2VsZi5kYXRhc2V0c1tkYXRhc2V0X2lkXTtpZihkYXRhc2V0KXtzdWNjZXNzKGRhdGFzZXQpO31lbHNle2ZhaWx1cmUoJ3Vua25vd25fZGF0YXNldCcrZGF0YXNldF9pZCxkYXRhc2V0X2lkKTt9fSxzb3J0T2JqZWN0OmZ1bmN0aW9uKG9iamVjdCl7aWYodHlwZW9mIG9iamVjdCE9PSJvYmplY3QifHxvYmplY3Q9PT1udWxsKXtyZXR1cm4gb2JqZWN0O30KdmFyIHJlc3VsdD1bXTtPYmplY3Qua2V5cyhvYmplY3QpLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7cmVzdWx0LnB1c2goe2tleTprZXksdmFsdWU6c2VsZi5zb3J0T2JqZWN0KG9iamVjdFtrZXldKX0pO30pO3JldHVybiByZXN1bHQ7fSxzb3J0ZWRTdHJpbmdpZnk6ZnVuY3Rpb24ob2JqKXt2YXIgc3RyPScnO3RyeXtzdHI9SlNPTi5zdHJpbmdpZnkoc2VsZi5zb3J0T2JqZWN0KG9iaikpO31jYXRjaChlKXtjb25zb2xlLmVycm9yKCdFcnJvciBzdHJpbmdpZnlpbmcgc29ydGVkIG9iamVjdDonK2UpO30KcmV0dXJuIHN0cjt9LGdlbmVyYXRlSGFzaDpmdW5jdGlvbihvYmplY3Qpe3ZhciBoYXNoPUNyeXB0b0pTLlNIQTEoc2VsZi5zb3J0ZWRTdHJpbmdpZnkob2JqZWN0KSk7cmV0dXJuIGhhc2gudG9TdHJpbmcoKTt9LGFkZFBlbmRpbmdPYmo6ZnVuY3Rpb24oZGF0YXNldF9pZCx1aWQsZGF0YSxhY3Rpb24sc3VjY2VzcyxmYWlsdXJlKXtzZWxmLmlzT25saW5lKGZ1bmN0aW9uKG9ubGluZSl7aWYoIW9ubGluZSl7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLHVpZCxzZWxmLm5vdGlmaWNhdGlvbnMuT0ZGTElORV9VUERBVEUsYWN0aW9uKTt9fSk7ZnVuY3Rpb24gc3RvcmVQZW5kaW5nT2JqZWN0KG9iail7b2JqLmhhc2g9c2VsZi5nZW5lcmF0ZUhhc2gob2JqKTtzZWxmLmdldERhdGFTZXQoZGF0YXNldF9pZCxmdW5jdGlvbihkYXRhc2V0KXtkYXRhc2V0LnBlbmRpbmdbb2JqLmhhc2hdPW9iajtzZWxmLnVwZGF0ZURhdGFzZXRGcm9tTG9jYWwoZGF0YXNldCxvYmopO2lmKHNlbGYuY29uZmlnLmF1dG9fc3luY19sb2NhbF91cGRhdGVzKXtkYXRhc2V0LnN5bmNQZW5kaW5nPXRydWU7fQpzZWxmLnNhdmVEYXRhU2V0KGRhdGFzZXRfaWQpO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCx1aWQsc2VsZi5ub3RpZmljYXRpb25zLkxPQ0FMX1VQREFURV9BUFBMSUVELGFjdGlvbik7c3VjY2VzcyhvYmopO30sZnVuY3Rpb24oY29kZSxtc2cpe2ZhaWx1cmUoY29kZSxtc2cpO30pO30KdmFyIHBlbmRpbmdPYmo9e307cGVuZGluZ09iai5pbkZsaWdodD1mYWxzZTtwZW5kaW5nT2JqLmFjdGlvbj1hY3Rpb247cGVuZGluZ09iai5wb3N0PWRhdGE7cGVuZGluZ09iai5wb3N0SGFzaD1zZWxmLmdlbmVyYXRlSGFzaChwZW5kaW5nT2JqLnBvc3QpO3BlbmRpbmdPYmoudGltZXN0YW1wPW5ldyBEYXRlKCkuZ2V0VGltZSgpO2lmKCJjcmVhdGUiPT09YWN0aW9uKXtwZW5kaW5nT2JqLnVpZD1wZW5kaW5nT2JqLnBvc3RIYXNoO3N0b3JlUGVuZGluZ09iamVjdChwZW5kaW5nT2JqKTt9ZWxzZXtzZWxmLnJlYWQoZGF0YXNldF9pZCx1aWQsZnVuY3Rpb24ocmVjKXtwZW5kaW5nT2JqLnVpZD11aWQ7cGVuZGluZ09iai5wcmU9cmVjLmRhdGE7cGVuZGluZ09iai5wcmVIYXNoPXNlbGYuZ2VuZXJhdGVIYXNoKHJlYy5kYXRhKTtzdG9yZVBlbmRpbmdPYmplY3QocGVuZGluZ09iaik7fSxmdW5jdGlvbihjb2RlLG1zZyl7ZmFpbHVyZShjb2RlLG1zZyk7fSk7fX0sc3luY0xvb3A6ZnVuY3Rpb24oZGF0YXNldF9pZCl7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YVNldCl7ZGF0YVNldC5zeW5jUGVuZGluZz1mYWxzZTtkYXRhU2V0LnN5bmNSdW5uaW5nPXRydWU7ZGF0YVNldC5zeW5jTG9vcFN0YXJ0PW5ldyBEYXRlKCkuZ2V0VGltZSgpO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxudWxsLHNlbGYubm90aWZpY2F0aW9ucy5TWU5DX1NUQVJURUQsbnVsbCk7c2VsZi5pc09ubGluZShmdW5jdGlvbihvbmxpbmUpe2lmKCFvbmxpbmUpe3NlbGYuc3luY0NvbXBsZXRlKGRhdGFzZXRfaWQsIm9mZmxpbmUiKTt9ZWxzZXt2YXIgc3luY0xvb3BQYXJhbXM9e307c3luY0xvb3BQYXJhbXMuZm49J3N5bmMnO3N5bmNMb29wUGFyYW1zLmRhdGFzZXRfaWQ9ZGF0YXNldF9pZDtzeW5jTG9vcFBhcmFtcy5xdWVyeV9wYXJhbXM9ZGF0YVNldC5xdWVyeV9wYXJhbXM7c3luY0xvb3BQYXJhbXMuZGF0YXNldF9oYXNoPWRhdGFTZXQuaGFzaDtzeW5jTG9vcFBhcmFtcy5hY2tub3dsZWRnZW1lbnRzPWRhdGFTZXQuYWNrbm93bGVkZ2VtZW50c3x8W107dmFyIHBlbmRpbmc9ZGF0YVNldC5wZW5kaW5nO3ZhciBwZW5kaW5nQXJyYXk9W107Zm9yKHZhciBpIGluIHBlbmRpbmcpe2lmKCFwZW5kaW5nW2ldLmluRmxpZ2h0JiYhcGVuZGluZ1tpXS5jcmFzaGVkKXtwZW5kaW5nW2ldLmluRmxpZ2h0PXRydWU7cGVuZGluZ1tpXS5pbkZsaWdodERhdGU9bmV3IERhdGUoKS5nZXRUaW1lKCk7cGVuZGluZ0FycmF5LnB1c2gocGVuZGluZ1tpXSk7fX0Kc3luY0xvb3BQYXJhbXMucGVuZGluZz1wZW5kaW5nQXJyYXk7aWYocGVuZGluZ0FycmF5Lmxlbmd0aD4wKXtzZWxmLmNvbnNvbGVMb2coJ1N0YXJ0aW5nIHN5bmMgbG9vcCAtIGdsb2JhbCBoYXNoID0gJytkYXRhU2V0Lmhhc2grJyA6OiBwYXJhbXMgPSAnK0pTT04uc3RyaW5naWZ5KHN5bmNMb29wUGFyYW1zLG51bGwsMikpO30KdHJ5eyRmaC5hY3QoeydhY3QnOmRhdGFzZXRfaWQsJ3JlcSc6c3luY0xvb3BQYXJhbXN9LGZ1bmN0aW9uKHJlcyl7dmFyIHJlYztmdW5jdGlvbiBwcm9jZXNzVXBkYXRlcyh1cGRhdGVzLG5vdGlmaWNhdGlvbixhY2tub3dsZWRnZW1lbnRzKXtpZih1cGRhdGVzKXtmb3IodmFyIHVwIGluIHVwZGF0ZXMpe3JlYz11cGRhdGVzW3VwXTthY2tub3dsZWRnZW1lbnRzLnB1c2gocmVjKTtpZihkYXRhU2V0LnBlbmRpbmdbdXBdJiZkYXRhU2V0LnBlbmRpbmdbdXBdLmluRmxpZ2h0JiYhZGF0YVNldC5wZW5kaW5nW3VwXS5jcmFzaGVkKXtkZWxldGUgZGF0YVNldC5wZW5kaW5nW3VwXTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQscmVjLnVpZCxub3RpZmljYXRpb24scmVjKTt9fX19CnNlbGYudXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhKGRhdGFzZXRfaWQsZGF0YVNldCxyZXMpO3NlbGYudXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEoZGF0YXNldF9pZCxkYXRhU2V0LHJlcyk7c2VsZi51cGRhdGVOZXdEYXRhRnJvbUluRmxpZ2h0KGRhdGFzZXRfaWQsZGF0YVNldCxyZXMpO3NlbGYudXBkYXRlTmV3RGF0YUZyb21QZW5kaW5nKGRhdGFzZXRfaWQsZGF0YVNldCxyZXMpO2lmKHJlcy5yZWNvcmRzKXtkYXRhU2V0LmRhdGE9cmVzLnJlY29yZHM7ZGF0YVNldC5oYXNoPXJlcy5oYXNoO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxyZXMuaGFzaCxzZWxmLm5vdGlmaWNhdGlvbnMuREVMVEFfUkVDRUlWRUQsJ2Z1bGwgZGF0YXNldCcpO30KaWYocmVzLnVwZGF0ZXMpe3ZhciBhY2tub3dsZWRnZW1lbnRzPVtdO3Byb2Nlc3NVcGRhdGVzKHJlcy51cGRhdGVzLmFwcGxpZWQsc2VsZi5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfQVBQTElFRCxhY2tub3dsZWRnZW1lbnRzKTtwcm9jZXNzVXBkYXRlcyhyZXMudXBkYXRlcy5mYWlsZWQsc2VsZi5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfRkFJTEVELGFja25vd2xlZGdlbWVudHMpO3Byb2Nlc3NVcGRhdGVzKHJlcy51cGRhdGVzLmNvbGxpc2lvbnMsc2VsZi5ub3RpZmljYXRpb25zLkNPTExJU0lPTl9ERVRFQ1RFRCxhY2tub3dsZWRnZW1lbnRzKTtkYXRhU2V0LmFja25vd2xlZGdlbWVudHM9YWNrbm93bGVkZ2VtZW50czt9CmVsc2UgaWYocmVzLmhhc2gmJnJlcy5oYXNoIT09ZGF0YVNldC5oYXNoKXtzZWxmLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgc3RhbGUgLSBzeW5jaW5nIHJlY29yZHMgOjogbG9jYWwgaGFzaD0gIitkYXRhU2V0Lmhhc2grIiAtIHJlbW90ZUhhc2g9IityZXMuaGFzaCk7c2VsZi5zeW5jUmVjb3JkcyhkYXRhc2V0X2lkKTt9ZWxzZXtzZWxmLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgdXAgdG8gZGF0ZSIpO30Kc2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCwib25saW5lIik7fSxmdW5jdGlvbihtc2csZXJyKXtzZWxmLm1hcmtJbkZsaWdodEFzQ3Jhc2hlZChkYXRhU2V0KTtzZWxmLmNvbnNvbGVMb2coInN5bmNMb29wIGZhaWxlZCA6IG1zZz0iK21zZysiIDo6IGVyciA9ICIrZXJyKTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsbnVsbCxzZWxmLm5vdGlmaWNhdGlvbnMuU1lOQ19GQUlMRUQsbXNnKTtzZWxmLnN5bmNDb21wbGV0ZShkYXRhc2V0X2lkLG1zZyk7fSk7fQpjYXRjaChlKXtzZWxmLmNvbnNvbGVMb2coJ0Vycm9yIHBlcmZvcm1pbmcgc3luYyAtICcrZSk7c2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCxlKTt9fX0pO30pO30sc3luY1JlY29yZHM6ZnVuY3Rpb24oZGF0YXNldF9pZCl7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YVNldCl7dmFyIGxvY2FsRGF0YVNldD1kYXRhU2V0LmRhdGF8fHt9O3ZhciBjbGllbnRSZWNzPXt9O2Zvcih2YXIgaSBpbiBsb2NhbERhdGFTZXQpe3ZhciB1aWQ9aTt2YXIgaGFzaD1sb2NhbERhdGFTZXRbaV0uaGFzaDtjbGllbnRSZWNzW3VpZF09aGFzaDt9CnZhciBzeW5jUmVjUGFyYW1zPXt9O3N5bmNSZWNQYXJhbXMuZm49J3N5bmNSZWNvcmRzJztzeW5jUmVjUGFyYW1zLmRhdGFzZXRfaWQ9ZGF0YXNldF9pZDtzeW5jUmVjUGFyYW1zLnF1ZXJ5X3BhcmFtcz1kYXRhU2V0LnF1ZXJ5X3BhcmFtcztzeW5jUmVjUGFyYW1zLmNsaWVudFJlY3M9Y2xpZW50UmVjcztzZWxmLmNvbnNvbGVMb2coInN5bmNSZWNQYXJhbXMgOjogIitKU09OLnN0cmluZ2lmeShzeW5jUmVjUGFyYW1zKSk7JGZoLmFjdCh7J2FjdCc6ZGF0YXNldF9pZCwncmVxJzpzeW5jUmVjUGFyYW1zfSxmdW5jdGlvbihyZXMpe3ZhciBpO2lmKHJlcy5jcmVhdGUpe2ZvcihpIGluIHJlcy5jcmVhdGUpe2xvY2FsRGF0YVNldFtpXT17Imhhc2giOnJlcy5jcmVhdGVbaV0uaGFzaCwiZGF0YSI6cmVzLmNyZWF0ZVtpXS5kYXRhfTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsaSxzZWxmLm5vdGlmaWNhdGlvbnMuREVMVEFfUkVDRUlWRUQsImNyZWF0ZSIpO319CmlmKHJlcy51cGRhdGUpe2ZvcihpIGluIHJlcy51cGRhdGUpe2xvY2FsRGF0YVNldFtpXS5oYXNoPXJlcy51cGRhdGVbaV0uaGFzaDtsb2NhbERhdGFTZXRbaV0uZGF0YT1yZXMudXBkYXRlW2ldLmRhdGE7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLGksc2VsZi5ub3RpZmljYXRpb25zLkRFTFRBX1JFQ0VJVkVELCJ1cGRhdGUiKTt9fQppZihyZXNbJ2RlbGV0ZSddKXtmb3IoaSBpbiByZXNbJ2RlbGV0ZSddKXtkZWxldGUgbG9jYWxEYXRhU2V0W2ldO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxpLHNlbGYubm90aWZpY2F0aW9ucy5ERUxUQV9SRUNFSVZFRCwiZGVsZXRlIik7fX0KZGF0YVNldC5kYXRhPWxvY2FsRGF0YVNldDtpZihyZXMuaGFzaCl7ZGF0YVNldC5oYXNoPXJlcy5oYXNoO30Kc2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCwib25saW5lIik7fSxmdW5jdGlvbihtc2csZXJyKXtzZWxmLmNvbnNvbGVMb2coInN5bmNSZWNvcmRzIGZhaWxlZCA6IG1zZz0iK21zZysiIDo6IGVycj0iK2Vycik7c2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCxtc2cpO30pO30pO30sc3luY0NvbXBsZXRlOmZ1bmN0aW9uKGRhdGFzZXRfaWQsc3RhdHVzKXtzZWxmLmdldERhdGFTZXQoZGF0YXNldF9pZCxmdW5jdGlvbihkYXRhc2V0KXtkYXRhc2V0LnN5bmNSdW5uaW5nPWZhbHNlO2RhdGFzZXQuc3luY0xvb3BFbmQ9bmV3IERhdGUoKS5nZXRUaW1lKCk7c2VsZi5zYXZlRGF0YVNldChkYXRhc2V0X2lkKTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsZGF0YXNldC5oYXNoLHNlbGYubm90aWZpY2F0aW9ucy5TWU5DX0NPTVBMRVRFLHN0YXR1cyk7fSk7fSxjaGVja0RhdGFzZXRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBkYXRhc2V0X2lkIGluIHNlbGYuZGF0YXNldHMpe2lmKHNlbGYuZGF0YXNldHMuaGFzT3duUHJvcGVydHkoZGF0YXNldF9pZCkpe3ZhciBkYXRhc2V0PXNlbGYuZGF0YXNldHNbZGF0YXNldF9pZF07aWYoIWRhdGFzZXQuc3luY1J1bm5pbmcpe3ZhciBsYXN0U3luY1N0YXJ0PWRhdGFzZXQuc3luY0xvb3BTdGFydDt2YXIgbGFzdFN5bmNDbXA9ZGF0YXNldC5zeW5jTG9vcEVuZDtpZihsYXN0U3luY1N0YXJ0PT1udWxsKXtzZWxmLmNvbnNvbGVMb2coZGF0YXNldF9pZCsnIC0gUGVyZm9ybWluZyBpbml0aWFsIHN5bmMnKTtkYXRhc2V0LnN5bmNQZW5kaW5nPXRydWU7fWVsc2UgaWYobGFzdFN5bmNDbXAhPW51bGwpe3ZhciB0aW1lU2luY2VMYXN0U3luYz1uZXcgRGF0ZSgpLmdldFRpbWUoKS1sYXN0U3luY0NtcDt2YXIgc3luY0ZyZXF1ZW5jeT1kYXRhc2V0LmNvbmZpZy5zeW5jX2ZyZXF1ZW5jeSoxMDAwO2lmKHRpbWVTaW5jZUxhc3RTeW5jPnN5bmNGcmVxdWVuY3kpe2RhdGFzZXQuc3luY1BlbmRpbmc9dHJ1ZTt9fQppZihkYXRhc2V0LnN5bmNQZW5kaW5nKXtzZWxmLnN5bmNMb29wKGRhdGFzZXRfaWQpO319fX19LGRhdGFzZXRNb25pdG9yOmZ1bmN0aW9uKCl7c2VsZi5jaGVja0RhdGFzZXRzKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYuZGF0YXNldE1vbml0b3IoKTt9LDUwMCk7fSxzYXZlRGF0YVNldDpmdW5jdGlvbihkYXRhc2V0X2lkLGNiKXt2YXIgb25GYWlsPWZ1bmN0aW9uKG1zZyxlcnIpe3ZhciBlcnJNc2c9J3NhdmUgdG8gbG9jYWwgc3RvcmFnZSBmYWlsZWQgIG1zZzonK21zZysnIGVycjonK2VycjtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsbnVsbCxzZWxmLm5vdGlmaWNhdGlvbnMuQ0xJRU5UX1NUT1JBR0VfRkFJTEVELGVyck1zZyk7c2VsZi5jb25zb2xlTG9nKGVyck1zZyk7fTtzZWxmLmdldERhdGFTZXQoZGF0YXNldF9pZCxmdW5jdGlvbihkYXRhc2V0KXtMYXduY2hhaXIoe2ZhaWw6b25GYWlsfSxmdW5jdGlvbigpe3RoaXMuc2F2ZSh7a2V5OiJkYXRhc2V0XyIrZGF0YXNldF9pZCx2YWw6SlNPTi5zdHJpbmdpZnkoZGF0YXNldCl9LGZ1bmN0aW9uKCl7aWYoY2Ipe2NiKCk7fX0pO30pO30pO30sbG9hZERhdGFTZXQ6ZnVuY3Rpb24oZGF0YXNldF9pZCxzdWNjZXNzLGZhaWx1cmUpe3ZhciBvbkZhaWw9ZnVuY3Rpb24obXNnLGVycil7dmFyIGVyck1zZz0nbG9hZCBmcm9tIGxvY2FsIHN0b3JhZ2UgZmFpbGVkICBtc2c6Jyttc2c7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLG51bGwsc2VsZi5ub3RpZmljYXRpb25zLkNMSUVOVF9TVE9SQUdFX0ZBSUxFRCxlcnJNc2cpO3NlbGYuY29uc29sZUxvZyhlcnJNc2cpO307TGF3bmNoYWlyKHtmYWlsOm9uRmFpbH0sZnVuY3Rpb24oKXt0aGlzLmdldCgiZGF0YXNldF8iK2RhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YSl7aWYoZGF0YSYmZGF0YS52YWwhPT1udWxsKXt2YXIgZGF0YXNldD1KU09OLnBhcnNlKGRhdGEudmFsKTtkYXRhc2V0LmluaXRpYWxpc2VkPWZhbHNlO3NlbGYuZGF0YXNldHNbZGF0YXNldF9pZF09ZGF0YXNldDtzZWxmLmNvbnNvbGVMb2coJ2xvYWQgZnJvbSBsb2NhbCBzdG9yYWdlIHN1Y2Nlc3MgZm9yIGRhdGFzZXRfaWQgOicrZGF0YXNldF9pZCk7cmV0dXJuIHN1Y2Nlc3MoZGF0YXNldCk7fWVsc2V7cmV0dXJuIGZhaWx1cmUoKTt9fSk7fSk7fSx1cGRhdGVEYXRhc2V0RnJvbUxvY2FsOmZ1bmN0aW9uKGRhdGFzZXQscGVuZGluZ1JlYyl7dmFyIHBlbmRpbmc9ZGF0YXNldC5wZW5kaW5nO3ZhciBwcmV2aW91c1BlbmRpbmdVaWQ7dmFyIHByZXZpb3VzUGVuZGluZzt2YXIgdWlkPXBlbmRpbmdSZWMudWlkO3NlbGYuY29uc29sZUxvZygndXBkYXRpbmcgbG9jYWwgZGF0YXNldCBmb3IgdWlkICcrdWlkKycgLSBhY3Rpb24gPSAnK3BlbmRpbmdSZWMuYWN0aW9uKTtkYXRhc2V0Lm1ldGFbdWlkXT1kYXRhc2V0Lm1ldGFbdWlkXXx8e307aWYocGVuZGluZ1JlYy5hY3Rpb249PT0iY3JlYXRlIil7aWYoZGF0YXNldC5kYXRhW3VpZF0pe3NlbGYuY29uc29sZUxvZygnZGF0YXNldCBhbHJlYWR5IGV4aXN0cyBmb3IgdWlkIGluIGNyZWF0ZSA6OiAnK0pTT04uc3RyaW5naWZ5KGRhdGFzZXQuZGF0YVt1aWRdKSk7aWYoZGF0YXNldC5tZXRhW3VpZF0uZnJvbVBlbmRpbmcpe3ByZXZpb3VzUGVuZGluZ1VpZD1kYXRhc2V0Lm1ldGFbdWlkXS5wZW5kaW5nVWlkO2RlbGV0ZSBwZW5kaW5nW3ByZXZpb3VzUGVuZGluZ1VpZF07fX0KZGF0YXNldC5kYXRhW3VpZF09e307fQppZihwZW5kaW5nUmVjLmFjdGlvbj09PSJ1cGRhdGUiKXtpZihkYXRhc2V0LmRhdGFbdWlkXSl7aWYoZGF0YXNldC5tZXRhW3VpZF0uZnJvbVBlbmRpbmcpe3NlbGYuY29uc29sZUxvZygndXBkYXRpbmcgYW4gZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgZm9yIGRhdGFzZXQgOjogJytKU09OLnN0cmluZ2lmeShkYXRhc2V0LmRhdGFbdWlkXSkpO3ByZXZpb3VzUGVuZGluZ1VpZD1kYXRhc2V0Lm1ldGFbdWlkXS5wZW5kaW5nVWlkO2RhdGFzZXQubWV0YVt1aWRdLnByZXZpb3VzUGVuZGluZ1VpZD1wcmV2aW91c1BlbmRpbmdVaWQ7cHJldmlvdXNQZW5kaW5nPXBlbmRpbmdbcHJldmlvdXNQZW5kaW5nVWlkXTtpZihwcmV2aW91c1BlbmRpbmcmJiFwcmV2aW91c1BlbmRpbmcuaW5GbGlnaHQpe3NlbGYuY29uc29sZUxvZygnZXhpc3RpbmcgcHJlLWZsaWdodCBwZW5kaW5nIHJlY29yZCA9ICcrSlNPTi5zdHJpbmdpZnkocHJldmlvdXNQZW5kaW5nKSk7cHJldmlvdXNQZW5kaW5nLnBvc3Q9cGVuZGluZ1JlYy5wb3N0O3ByZXZpb3VzUGVuZGluZy5wb3N0SGFzaD1wZW5kaW5nUmVjLnBvc3RIYXNoO2RlbGV0ZSBwZW5kaW5nW3BlbmRpbmdSZWMuaGFzaF07fX19fQppZihwZW5kaW5nUmVjLmFjdGlvbj09PSJkZWxldGUiKXtpZihkYXRhc2V0LmRhdGFbdWlkXSl7aWYoZGF0YXNldC5tZXRhW3VpZF0uZnJvbVBlbmRpbmcpe3NlbGYuY29uc29sZUxvZygnRGVsZXRpbmcgYW4gZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgZm9yIGRhdGFzZXQgOjogJytKU09OLnN0cmluZ2lmeShkYXRhc2V0LmRhdGFbdWlkXSkpO3ByZXZpb3VzUGVuZGluZ1VpZD1kYXRhc2V0Lm1ldGFbdWlkXS5wZW5kaW5nVWlkO2RhdGFzZXQubWV0YVt1aWRdLnByZXZpb3VzUGVuZGluZ1VpZD1wcmV2aW91c1BlbmRpbmdVaWQ7cHJldmlvdXNQZW5kaW5nPXBlbmRpbmdbcHJldmlvdXNQZW5kaW5nVWlkXTtpZihwcmV2aW91c1BlbmRpbmcmJiFwcmV2aW91c1BlbmRpbmcuaW5GbGlnaHQpe3NlbGYuY29uc29sZUxvZygnZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgPSAnK0pTT04uc3RyaW5naWZ5KHByZXZpb3VzUGVuZGluZykpO2lmKHByZXZpb3VzUGVuZGluZy5hY3Rpb249PT0iY3JlYXRlIil7ZGVsZXRlIHBlbmRpbmdbcGVuZGluZ1JlYy5oYXNoXTtkZWxldGUgcGVuZGluZ1twcmV2aW91c1BlbmRpbmdVaWRdO30KaWYocHJldmlvdXNQZW5kaW5nLmFjdGlvbj09PSJ1cGRhdGUiKXtwZW5kaW5nUmVjLnByZT1wcmV2aW91c1BlbmRpbmcucHJlO3BlbmRpbmdSZWMucHJlSGFzaD1wcmV2aW91c1BlbmRpbmcucHJlSGFzaDtwZW5kaW5nUmVjLmluRmxpZ2h0PWZhbHNlO2RlbGV0ZSBwZW5kaW5nW3ByZXZpb3VzUGVuZGluZ1VpZF07fX19CmRlbGV0ZSBkYXRhc2V0LmRhdGFbdWlkXTt9fQppZihkYXRhc2V0LmRhdGFbdWlkXSl7ZGF0YXNldC5kYXRhW3VpZF0uZGF0YT1wZW5kaW5nUmVjLnBvc3Q7ZGF0YXNldC5kYXRhW3VpZF0uaGFzaD1wZW5kaW5nUmVjLnBvc3RIYXNoO2RhdGFzZXQubWV0YVt1aWRdLmZyb21QZW5kaW5nPXRydWU7ZGF0YXNldC5tZXRhW3VpZF0ucGVuZGluZ1VpZD1wZW5kaW5nUmVjLmhhc2g7fX0sdXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhOmZ1bmN0aW9uKGRhdGFzZXRfaWQsZGF0YXNldCxuZXdEYXRhKXt2YXIgcGVuZGluZz1kYXRhc2V0LnBlbmRpbmc7dmFyIG5ld1JlYztpZihwZW5kaW5nJiZuZXdEYXRhLnJlY29yZHMpe2Zvcih2YXIgcGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3ZhciBwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2RhdGFzZXQubWV0YVtwZW5kaW5nUmVjLnVpZF09ZGF0YXNldC5tZXRhW3BlbmRpbmdSZWMudWlkXXx8e307aWYocGVuZGluZ1JlYy5pbkZsaWdodD09PWZhbHNlKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIEZvdW5kIE5vbiBpbkZsaWdodCByZWNvcmQgLT4gYWN0aW9uPScrcGVuZGluZ1JlYy5hY3Rpb24rJyA6OiB1aWQ9JytwZW5kaW5nUmVjLnVpZCsnIDo6IGhhc2g9JytwZW5kaW5nUmVjLmhhc2gpO2lmKHBlbmRpbmdSZWMuYWN0aW9uPT09InVwZGF0ZSJ8fHBlbmRpbmdSZWMuYWN0aW9uPT09ImRlbGV0ZSIpe25ld1JlYz1uZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdO2lmKG5ld1JlYyl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBVcGRhdGluZyBwcmUgdmFsdWVzIGZvciBleGlzdGluZyBwZW5kaW5nIHJlY29yZCAnK3BlbmRpbmdSZWMudWlkKTtwZW5kaW5nUmVjLnByZT1uZXdSZWMuZGF0YTtwZW5kaW5nUmVjLnByZUhhc2g9bmV3UmVjLmhhc2g7fQplbHNle3ZhciBwcmV2aW91c1BlbmRpbmdVaWQ9ZGF0YXNldC5tZXRhW3BlbmRpbmdSZWMudWlkXS5wcmV2aW91c1BlbmRpbmdVaWQ7dmFyIHByZXZpb3VzUGVuZGluZz1wZW5kaW5nW3ByZXZpb3VzUGVuZGluZ1VpZF07aWYocHJldmlvdXNQZW5kaW5nKXtpZihuZXdEYXRhJiZuZXdEYXRhLnVwZGF0ZXMmJm5ld0RhdGEudXBkYXRlcy5hcHBsaWVkJiZuZXdEYXRhLnVwZGF0ZXMuYXBwbGllZFtwcmV2aW91c1BlbmRpbmcuaGFzaF0pe3ZhciBuZXdVaWQ9bmV3RGF0YS51cGRhdGVzLmFwcGxpZWRbcHJldmlvdXNQZW5kaW5nLmhhc2hdLnVpZDtuZXdSZWM9bmV3RGF0YS5yZWNvcmRzW25ld1VpZF07aWYobmV3UmVjKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIFVwZGF0aW5nIHByZSB2YWx1ZXMgZm9yIGV4aXN0aW5nIHBlbmRpbmcgcmVjb3JkIHdoaWNoIHdhcyBwcmV2aW91c2x5IGEgY3JlYXRlICcrcGVuZGluZ1JlYy51aWQrJyA9PT4gJytuZXdVaWQpO3BlbmRpbmdSZWMucHJlPW5ld1JlYy5kYXRhO3BlbmRpbmdSZWMucHJlSGFzaD1uZXdSZWMuaGFzaDtwZW5kaW5nUmVjLnVpZD1uZXdVaWQ7fX19fX0KaWYocGVuZGluZ1JlYy5hY3Rpb249PT0iY3JlYXRlIil7aWYobmV3RGF0YSYmbmV3RGF0YS51cGRhdGVzJiZuZXdEYXRhLnVwZGF0ZXMuYXBwbGllZCYmbmV3RGF0YS51cGRhdGVzLmFwcGxpZWRbcGVuZGluZ0hhc2hdKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIEZvdW5kIGFuIHVwZGF0ZSBmb3IgYSBwZW5kaW5nIGNyZWF0ZSAnK0pTT04uc3RyaW5naWZ5KG5ld0RhdGEudXBkYXRlcy5hcHBsaWVkW3BlbmRpbmdIYXNoXSkpO25ld1JlYz1uZXdEYXRhLnJlY29yZHNbbmV3RGF0YS51cGRhdGVzLmFwcGxpZWRbcGVuZGluZ0hhc2hdLnVpZF07aWYobmV3UmVjKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIENoYW5naW5nIHBlbmRpbmcgY3JlYXRlIHRvIGFuIHVwZGF0ZSBiYXNlZCBvbiBuZXcgcmVjb3JkICAnK0pTT04uc3RyaW5naWZ5KG5ld1JlYykpO3BlbmRpbmdSZWMuYWN0aW9uPSJ1cGRhdGUiO3BlbmRpbmdSZWMucHJlPW5ld1JlYy5kYXRhO3BlbmRpbmdSZWMucHJlSGFzaD1uZXdSZWMuaGFzaDtwZW5kaW5nUmVjLnVpZD1uZXdEYXRhLnVwZGF0ZXMuYXBwbGllZFtwZW5kaW5nSGFzaF0udWlkO319fX19fX19LHVwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQ6ZnVuY3Rpb24oZGF0YXNldF9pZCxkYXRhc2V0LG5ld0RhdGEpe3ZhciBwZW5kaW5nPWRhdGFzZXQucGVuZGluZztpZihwZW5kaW5nJiZuZXdEYXRhLnJlY29yZHMpe2Zvcih2YXIgcGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3ZhciBwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2lmKHBlbmRpbmdSZWMuaW5GbGlnaHQpe3ZhciB1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmc9KG5ld0RhdGEmJm5ld0RhdGEudXBkYXRlcyYmbmV3RGF0YS51cGRhdGVzLmhhc2hlcyYmbmV3RGF0YS51cGRhdGVzLmhhc2hlc1twZW5kaW5nSGFzaF0pP3RydWU6ZmFsc2U7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVOZXdEYXRhRnJvbUluRmxpZ2h0IC0gRm91bmQgaW5mbGlnaHQgcGVuZGluZyBSZWNvcmQgLSBhY3Rpb24gPSAnK3BlbmRpbmdSZWMuYWN0aW9uKycgOjogaGFzaCA9ICcrcGVuZGluZ0hhc2grJyA6OiB1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmc9Jyt1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmcpO2lmKCF1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmcpe3ZhciBuZXdSZWM9bmV3RGF0YS5yZWNvcmRzW3BlbmRpbmdSZWMudWlkXTtpZihwZW5kaW5nUmVjLmFjdGlvbj09PSJ1cGRhdGUiJiZuZXdSZWMpe25ld1JlYy5kYXRhPXBlbmRpbmdSZWMucG9zdDtuZXdSZWMuaGFzaD1wZW5kaW5nUmVjLnBvc3RIYXNoO30KZWxzZSBpZihwZW5kaW5nUmVjLmFjdGlvbj09PSJkZWxldGUiJiZuZXdSZWMpe2RlbGV0ZSBuZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdO30KZWxzZSBpZihwZW5kaW5nUmVjLmFjdGlvbj09PSJjcmVhdGUiKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQnKTt2YXIgbmV3UGVuZGluZ0NyZWF0ZT17ZGF0YTpwZW5kaW5nUmVjLnBvc3QsaGFzaDpwZW5kaW5nUmVjLnBvc3RIYXNofTtuZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdPW5ld1BlbmRpbmdDcmVhdGU7fX19fX19fSx1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmc6ZnVuY3Rpb24oZGF0YXNldF9pZCxkYXRhc2V0LG5ld0RhdGEpe3ZhciBwZW5kaW5nPWRhdGFzZXQucGVuZGluZztpZihwZW5kaW5nJiZuZXdEYXRhLnJlY29yZHMpe2Zvcih2YXIgcGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3ZhciBwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2lmKHBlbmRpbmdSZWMuaW5GbGlnaHQ9PT1mYWxzZSl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcgLSBGb3VuZCBOb24gaW5GbGlnaHQgcmVjb3JkIC0+IGFjdGlvbj0nK3BlbmRpbmdSZWMuYWN0aW9uKycgOjogdWlkPScrcGVuZGluZ1JlYy51aWQrJyA6OiBoYXNoPScrcGVuZGluZ1JlYy5oYXNoKTt2YXIgbmV3UmVjPW5ld0RhdGEucmVjb3Jkc1twZW5kaW5nUmVjLnVpZF07aWYocGVuZGluZ1JlYy5hY3Rpb249PT0idXBkYXRlIiYmbmV3UmVjKXtuZXdSZWMuZGF0YT1wZW5kaW5nUmVjLnBvc3Q7bmV3UmVjLmhhc2g9cGVuZGluZ1JlYy5wb3N0SGFzaDt9CmVsc2UgaWYocGVuZGluZ1JlYy5hY3Rpb249PT0iZGVsZXRlIiYmbmV3UmVjKXtkZWxldGUgbmV3RGF0YS5yZWNvcmRzW3BlbmRpbmdSZWMudWlkXTt9CmVsc2UgaWYocGVuZGluZ1JlYy5hY3Rpb249PT0iY3JlYXRlIil7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQnKTt2YXIgbmV3UGVuZGluZ0NyZWF0ZT17ZGF0YTpwZW5kaW5nUmVjLnBvc3QsaGFzaDpwZW5kaW5nUmVjLnBvc3RIYXNofTtuZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdPW5ld1BlbmRpbmdDcmVhdGU7fX19fX19LHVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhOmZ1bmN0aW9uKGRhdGFzZXRfaWQsZGF0YXNldCxuZXdEYXRhKXt2YXIgdXBkYXRlTm90aWZpY2F0aW9ucz17YXBwbGllZDpzZWxmLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9BUFBMSUVELGZhaWxlZDpzZWxmLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9GQUlMRUQsY29sbGlzaW9uczpzZWxmLm5vdGlmaWNhdGlvbnMuQ09MTElTSU9OX0RFVEVDVEVEfTt2YXIgcGVuZGluZz1kYXRhc2V0LnBlbmRpbmc7dmFyIHJlc29sdmVkQ3Jhc2hlcz17fTt2YXIgcGVuZGluZ0hhc2g7dmFyIHBlbmRpbmdSZWM7aWYocGVuZGluZyl7Zm9yKHBlbmRpbmdIYXNoIGluIHBlbmRpbmcpe2lmKHBlbmRpbmcuaGFzT3duUHJvcGVydHkocGVuZGluZ0hhc2gpKXtwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2lmKHBlbmRpbmdSZWMuaW5GbGlnaHQmJnBlbmRpbmdSZWMuY3Jhc2hlZCl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIEZvdW5kIGNyYXNoZWQgaW5GbGlnaHQgcGVuZGluZyByZWNvcmQgdWlkPScrcGVuZGluZ1JlYy51aWQrJyA6OiBoYXNoPScrcGVuZGluZ1JlYy5oYXNoKTtpZihuZXdEYXRhJiZuZXdEYXRhLnVwZGF0ZXMmJm5ld0RhdGEudXBkYXRlcy5oYXNoZXMpe3ZhciBjcmFzaGVkVXBkYXRlPW5ld0RhdGEudXBkYXRlcy5oYXNoZXNbcGVuZGluZ0hhc2hdO2lmKGNyYXNoZWRVcGRhdGUpe3Jlc29sdmVkQ3Jhc2hlc1tjcmFzaGVkVXBkYXRlLnVpZF09Y3Jhc2hlZFVwZGF0ZTtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gUmVzb2x2aW5nIHN0YXR1cyBmb3IgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCAnK0pTT04uc3RyaW5naWZ5KGNyYXNoZWRVcGRhdGUpKTtpZihjcmFzaGVkVXBkYXRlLnR5cGU9PT0nZmFpbGVkJyl7aWYoY3Jhc2hlZFVwZGF0ZS5hY3Rpb249PT0nY3JlYXRlJyl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIERlbGV0aW5nIGZhaWxlZCBjcmVhdGUgZnJvbSBkYXRhc2V0Jyk7ZGVsZXRlIGRhdGFzZXQuZGF0YVtjcmFzaGVkVXBkYXRlLnVpZF07fQplbHNlIGlmKGNyYXNoZWRVcGRhdGUuYWN0aW9uPT09J3VwZGF0ZSd8fGNyYXNoZWRVcGRhdGUuYWN0aW9uPT09J2RlbGV0ZScpe3NlbGYuY29uc29sZUxvZygndXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEgLSBSZXZlcnRpbmcgZmFpbGVkICcrY3Jhc2hlZFVwZGF0ZS5hY3Rpb24rJyBpbiBkYXRhc2V0Jyk7ZGF0YXNldC5kYXRhW2NyYXNoZWRVcGRhdGUudWlkXT17ZGF0YTpwZW5kaW5nUmVjLnByZSxoYXNoOnBlbmRpbmdSZWMucHJlSGFzaH07fX0KZGVsZXRlIHBlbmRpbmdbcGVuZGluZ0hhc2hdO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxjcmFzaGVkVXBkYXRlLnVpZCx1cGRhdGVOb3RpZmljYXRpb25zW2NyYXNoZWRVcGRhdGUudHlwZV0sY3Jhc2hlZFVwZGF0ZSk7fQplbHNle2lmKHBlbmRpbmdSZWMuY3Jhc2hlZENvdW50KXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudCsrO30KZWxzZXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudD0xO319fQplbHNle2lmKHBlbmRpbmdSZWMuY3Jhc2hlZENvdW50KXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudCsrO30KZWxzZXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudD0xO319fX19CmZvcihwZW5kaW5nSGFzaCBpbiBwZW5kaW5nKXtpZihwZW5kaW5nLmhhc093blByb3BlcnR5KHBlbmRpbmdIYXNoKSl7cGVuZGluZ1JlYz1wZW5kaW5nW3BlbmRpbmdIYXNoXTtpZihwZW5kaW5nUmVjLmluRmxpZ2h0JiZwZW5kaW5nUmVjLmNyYXNoZWQpe2lmKHBlbmRpbmdSZWMuY3Jhc2hlZENvdW50PmRhdGFzZXQuY29uZmlnLmNyYXNoZWRfY291bnRfd2FpdCl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIENyYXNoZWQgaW5mbGlnaHQgcGVuZGluZyByZWNvcmQgaGFzIHJlYWNoZWQgY3Jhc2hlZF9jb3VudF93YWl0IGxpbWl0IDogJytKU09OLnN0cmluZ2lmeShwZW5kaW5nUmVjKSk7aWYoZGF0YXNldC5jb25maWcucmVzZW5kX2NyYXNoZWRfdXBkYXRlcyl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIFJldHJ5aWcgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCcpO3BlbmRpbmdSZWMuY3Jhc2hlZD1mYWxzZTtwZW5kaW5nUmVjLmluRmxpZ2h0PWZhbHNlO30KZWxzZXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gRGVsZXRpbmcgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCcpO2RlbGV0ZSBwZW5kaW5nW3BlbmRpbmdIYXNoXTt9fX0KZWxzZSBpZighcGVuZGluZ1JlYy5pbkZsaWdodCYmcGVuZGluZ1JlYy5jcmFzaGVkKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gVHJ5aW5nIHRvIHJlc29sdmUgaXNzdWVzIHdpdGggY3Jhc2hlZCBub24gaW4gZmxpZ2h0IHJlY29yZCAtIHVpZCA9ICcrcGVuZGluZ1JlYy51aWQpO3ZhciBjcmFzaGVkUmVmPXJlc29sdmVkQ3Jhc2hlc1twZW5kaW5nUmVjLnVpZF07aWYoY3Jhc2hlZFJlZil7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIEZvdW5kIGEgc3RhbGxlZCBwZW5kaW5nIHJlY29yZCBiYWNrZWQgdXAgYmVoaW5kIGEgcmVzb2x2ZWQgY3Jhc2ggdWlkPScrcGVuZGluZ1JlYy51aWQrJyA6OiBoYXNoPScrcGVuZGluZ1JlYy5oYXNoKTtwZW5kaW5nUmVjLmNyYXNoZWQ9ZmFsc2U7fX19fX19LG1hcmtJbkZsaWdodEFzQ3Jhc2hlZDpmdW5jdGlvbihkYXRhc2V0KXt2YXIgcGVuZGluZz1kYXRhc2V0LnBlbmRpbmc7dmFyIHBlbmRpbmdIYXNoO3ZhciBwZW5kaW5nUmVjO2lmKHBlbmRpbmcpe3ZhciBjcmFzaGVkUmVjb3Jkcz17fTtmb3IocGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3BlbmRpbmdSZWM9cGVuZGluZ1twZW5kaW5nSGFzaF07aWYocGVuZGluZ1JlYy5pbkZsaWdodCl7c2VsZi5jb25zb2xlTG9nKCdNYXJraW5nIGluIGZsaWdodCBwZW5kaW5nIHJlY29yZCBhcyBjcmFzaGVkIDogJytwZW5kaW5nSGFzaCk7cGVuZGluZ1JlYy5jcmFzaGVkPXRydWU7Y3Jhc2hlZFJlY29yZHNbcGVuZGluZ1JlYy51aWRdPXBlbmRpbmdSZWM7fX19CmZvcihwZW5kaW5nSGFzaCBpbiBwZW5kaW5nKXtpZihwZW5kaW5nLmhhc093blByb3BlcnR5KHBlbmRpbmdIYXNoKSl7cGVuZGluZ1JlYz1wZW5kaW5nW3BlbmRpbmdIYXNoXTtpZighcGVuZGluZ1JlYy5pbkZsaWdodCl7dmFyIGNyYXNoZWRSZWY9Y3Jhc2hlZFJlY29yZHNbcGVuZGluZ1JlYy51aWRdO2lmKGNyYXNoZWRSZWYpe3BlbmRpbmdSZWMuY3Jhc2hlZD10cnVlO319fX19fSxjb25zb2xlTG9nOmZ1bmN0aW9uKG1zZyl7aWYoc2VsZi5jb25maWcuZG9fY29uc29sZV9sb2cpe2NvbnNvbGUubG9nKG1zZyk7fX19OyhmdW5jdGlvbigpe3NlbGYuY29uZmlnPXNlbGYuZGVmYXVsdHM7fSkoKTtyZXR1cm57aW5pdDpzZWxmLmluaXQsbWFuYWdlOnNlbGYubWFuYWdlLG5vdGlmeTpzZWxmLm5vdGlmeSxkb0xpc3Q6c2VsZi5saXN0LGRvQ3JlYXRlOnNlbGYuY3JlYXRlLGRvUmVhZDpzZWxmLnJlYWQsZG9VcGRhdGU6c2VsZi51cGRhdGUsZG9EZWxldGU6c2VsZlsnZGVsZXRlJ10sbGlzdENvbGxpc2lvbnM6c2VsZi5saXN0Q29sbGlzaW9ucyxyZW1vdmVDb2xsaXNpb246c2VsZi5yZW1vdmVDb2xsaXNpb24sZ2V0UGVuZGluZzpzZWxmLmdldFBlbmRpbmcsY2xlYXJQZW5kaW5nOnNlbGYuY2xlYXJQZW5kaW5nLGdldERhdGFzZXQ6c2VsZi5nZXREYXRhU2V0fTt9KSgpOyhmdW5jdGlvbihyb290KXtyb290LiRmaD1yb290LiRmaHx8e307dmFyICRmaD1yb290LiRmaDskZmguc2VjPWZ1bmN0aW9uKHAscyxmKXtpZighcC5hY3Qpe2YoJ2JhZF9hY3QnLHt9LHApO3JldHVybjt9CmlmKCFwLnBhcmFtcyl7Zignbm9fcGFyYW1zJyx7fSxwKTtyZXR1cm47fQppZighcC5wYXJhbXMuYWxnb3JpdGhtKXtmKCdub19wYXJhbXNfYWxnb3JpdGhtJyx7fSxwKTtyZXR1cm47fQp2YXIgaXNOb2RlQXBwPWZ1bmN0aW9uKCl7aWYoJGZoJiYkZmguY2xvdWRfcHJvcHMmJiRmaC5jbG91ZF9wcm9wcy5ob3N0cyYmJGZoLmFwcF9wcm9wcyl7dmFyIGFwcFR5cGU9JGZoLmNsb3VkX3Byb3BzLmhvc3RzLnJlbGVhc2VDbG91ZFR5cGU7aWYoJGZoLmFwcF9wcm9wcy5tb2RlJiYkZmguYXBwX3Byb3BzLm1vZGUuaW5kZXhPZigiZGV2Iik+LTEpe2FwcFR5cGU9JGZoLmNsb3VkX3Byb3BzLmhvc3RzLmRlYnVnQ2xvdWRUeXBlO30KaWYoYXBwVHlwZT09PSJmaCIpe3JldHVybiBmYWxzZTt9fQpyZXR1cm4gdHJ1ZTt9O3ZhciBsb2FkX3NlY3VyaXR5X21vZHVsZT1mdW5jdGlvbihjYil7aWYodHlwZW9mIF9fQ3J5cHRvIT09InVuZGVmaW5lZCIpe3JldHVybiBjYigpO31lbHNleyRmaC5fX2xvYWRfc2NyaXB0KCdmaGV4dC9qcy9zZWN1cml0eS5qcycsY2IpO319O3ZhciBhY3RzPXsna2V5Z2VuJzpmdW5jdGlvbigpe2lmKCFwLnBhcmFtcy5rZXlzaXplKXtmKCdub19wYXJhbXNfa2V5c2l6ZScse30scCk7cmV0dXJuO30KaWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkhPT0iYWVzIil7Zigna2V5Z2VuX2JhZF9hbGdvcml0aG0nLHt9LHApO3JldHVybjt9CnZhciBrZXlzaXplPXBhcnNlSW50KHAucGFyYW1zLmtleXNpemUsMTApO2lmKGtleXNpemU+MTAwKXtrZXlzaXplPWtleXNpemUvODt9CmlmKHR5cGVvZiBTZWN1cmVSYW5kb209PT0idW5kZWZpbmVkIil7cmV0dXJuIGYoInNlY3VyaXR5IGxpYnJhcnkgaXMgbm90IGxvYWRlZC4iKTt9CnZhciBnZW5lcmF0ZVJhbmRvbUtleT1mdW5jdGlvbihrZXlzaXplKXt2YXIgcj1uZXcgU2VjdXJlUmFuZG9tKCk7dmFyIGtleT1uZXcgQXJyYXkoa2V5c2l6ZSk7ci5uZXh0Qnl0ZXMoa2V5KTt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspe3Jlc3VsdCs9Ynl0ZTJIZXgoa2V5W2ldKTt9CnJldHVybiByZXN1bHQ7fTtpZihpc05vZGVBcHAoKSl7cmV0dXJuIHMoeydhbGdvcml0aG0nOidBRVMnLCdzZWNyZXRrZXknOmdlbmVyYXRlUmFuZG9tS2V5KGtleXNpemUpLCdpdic6Z2VuZXJhdGVSYW5kb21LZXkoa2V5c2l6ZSl9KTt9ZWxzZXtyZXR1cm4gcyh7J2FsZ29yaXRobSc6J0FFUycsJ3NlY3JldGtleSc6Z2VuZXJhdGVSYW5kb21LZXkoa2V5c2l6ZSl9KTt9fSwnZW5jcnlwdCc6ZnVuY3Rpb24oKXt2YXIgZm91bmRfZXJyPWZhbHNlO3ZhciBmaWVsZHM9eydhZXMnOlsna2V5JywncGxhaW50ZXh0J10sJ3JzYSc6Wydtb2R1bHUnLCdwbGFpbnRleHQnXX07aWYoIWlzTm9kZUFwcCgpKXtmaWVsZHMucnNhLnB1c2goJ2tleXNpemUnKTtmaWVsZHMucnNhLnB1c2goJ2tleScpO31lbHNle2ZpZWxkcy5hZXMucHVzaCgnaXYnKTt9CnZhciByZXF1aXJlZD1maWVsZHNbcC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCldO2lmKCFyZXF1aXJlZCl7ZignZW5jcnlwdF9iYWRfYWxnb3JpdGhtJyx7fSxwKTtyZXR1cm47fQpmb3IodmFyIGk9MDtpPHJlcXVpcmVkO2krKyl7dmFyIGZpZWxkPXJlcXVpcmVkW2ldO2lmKCFwLnBhcmFtc1tmaWVsZF0pe2ZvdW5kX2Vycj10cnVlO2YoJ25vX3BhcmFtc18nK2ZpZWxkLHt9LHApO2JyZWFrO319CmlmKGZvdW5kX2Vycil7cmV0dXJuO30KdmFyIHJzYV9lbmNyeXB0LGFlc19lbmNyeXB0O2lmKGlzTm9kZUFwcCgpKXtyc2FfZW5jcnlwdD1mdW5jdGlvbihwLHMsZil7aWYodHlwZW9mIFJTQUtleT09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigic2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLkVycm9yOiBjYW4gbm90IGZpbmQgUlNBS2V5LiIpO30KdmFyIGtleT1uZXcgUlNBS2V5KCk7a2V5LnNldFB1YmxpYyhwLnBhcmFtcy5tb2R1bHUsIjEwMDAxIik7dmFyIG9yaV90ZXh0PXAucGFyYW1zLnBsYWludGV4dDtjaXBoZXJfdGV4dD1rZXkuZW5jcnlwdChvcmlfdGV4dCk7cyh7Y2lwaGVydGV4dDpjaXBoZXJfdGV4dH0pO307YWVzX2VuY3J5cHQ9ZnVuY3Rpb24ocCxzLGYpe2lmKHR5cGVvZiBDcnlwdG9KUz09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigic2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLkVycm9yOiBjYW4gbm90IGZpbmQgQ3J5cHRvSlMuIik7fQp2YXIgZW5jcnlwdGVkPUNyeXB0b0pTLkFFUy5lbmNyeXB0KHAucGFyYW1zLnBsYWludGV4dCxDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAucGFyYW1zLmtleSkse2l2OkNyeXB0b0pTLmVuYy5IZXgucGFyc2UocC5wYXJhbXMuaXYpfSk7Y2lwaGVyX3RleHQ9Q3J5cHRvSlMuZW5jLkhleC5zdHJpbmdpZnkoZW5jcnlwdGVkLmNpcGhlcnRleHQpO3Moe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KTt9O31lbHNle3JzYV9lbmNyeXB0PWZ1bmN0aW9uKHAscyxmKXtsb2FkX3NlY3VyaXR5X21vZHVsZShmdW5jdGlvbigpe2lmKHR5cGVvZiBSU0FLZXlQYWlyPT09InVuZGVmaW5lZCIpe3JldHVybiBmKCdsZWdhY3kgc2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLiBFcnJvcjogY2FuIG5vdCBmaW5kIFJTQUtleVBhaXIuJyk7fQp2YXIga2V5X3NpemU9cGFyc2VJbnQocC5wYXJhbXMua2V5c2l6ZSwxMCk7dmFyIG1heD1wYXJzZUludChrZXlfc2l6ZSoyLzE2KzIsMTApO3NldE1heERpZ2l0cyhtYXgpO3ZhciBrZXk9bmV3IFJTQUtleVBhaXIocC5wYXJhbXMua2V5LHAucGFyYW1zLmtleSxwLnBhcmFtcy5tb2R1bHUpO3ZhciBvcmlfdGV4dD1wLnBhcmFtcy5wbGFpbnRleHQ7dmFyIGlucHV0PScnO2Zvcih2YXIgaT1vcmlfdGV4dC5sZW5ndGgtMTtpPj0wO2ktLSl7aW5wdXQrPW9yaV90ZXh0LmNoYXJBdChpKTt9CmNpcGhlcl90ZXh0PWVuY3J5cHRlZFN0cmluZyhrZXksaW5wdXQpO3Moe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KTt9KTt9O2Flc19lbmNyeXB0PWZ1bmN0aW9uKHAscyxmKXtsb2FkX3NlY3VyaXR5X21vZHVsZShmdW5jdGlvbigpe2lmKHR5cGVvZiBfX0NyeXB0bz09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigibGVnYWN5IHNlY3VyaXR5IGxpYnJhcnkgaXMgbWlzc2luZy4gRXJyb3I6IGNhbiBub3QgZmluZCBfX0NyeXB0by4iKTt9CmlmKHR5cGVvZiAkZmguQ2lwaGVyPT09InVuZGVmaW5lZCIpeyRmaC5DaXBoZXI9X19DcnlwdG8uX19pbXBvcnQoX19DcnlwdG8sInRpdGFuaXVtY29yZS5jcnlwdG8uQ2lwaGVyIik7fQp2YXIgZGF0YT1fX0NyeXB0by5zdHIydXRmOChwLnBhcmFtcy5wbGFpbnRleHQpO3ZhciBrZXk9X19DcnlwdG8uYmFzZTE2X2RlY29kZShwLnBhcmFtcy5rZXkpO3ZhciBjaXBoZXI9JGZoLkNpcGhlci5jcmVhdGUoJGZoLkNpcGhlci5SSUpOREFFTCwkZmguQ2lwaGVyLkVOQ1JZUFQsJGZoLkNpcGhlci5FQ0IsJGZoLkNpcGhlci5JU08xMDEyNik7Y2lwaGVyX3RleHQ9X19DcnlwdG8uYmFzZTE2X2VuY29kZShjaXBoZXIuZXhlY3V0ZShrZXksZGF0YSkpO3Moe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KTt9KTt9O30KaWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCk9PT0icnNhIil7cmV0dXJuIHJzYV9lbmNyeXB0KHAscyxmKTt9ZWxzZSBpZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJhZXMiKXtyZXR1cm4gYWVzX2VuY3J5cHQocCxzLGYpO31lbHNle2YoJ2VuY3J5cHRfYmFkX2FsZ29yaXRobScse30scCk7cmV0dXJuO319LCdkZWNyeXB0JzpmdW5jdGlvbigpe3ZhciBmb3VuZF9lcnI9ZmFsc2U7dmFyIGZpZWxkcz17J2Flcyc6WydrZXknLCdjaXBoZXJ0ZXh0J119O2lmKGlzTm9kZUFwcCgpKXtmaWVsZHMuYWVzLnB1c2goJ2l2Jyk7fQp2YXIgcmVxdWlyZWQ9ZmllbGRzW3AucGFyYW1zLmFsZ29yaXRobS50b0xvd2VyQ2FzZSgpXTtpZighcmVxdWlyZWQpe2YoJ2RlY3J5cHRfYmFkX2FsZ29yaXRobScse30scCk7cmV0dXJuO30KZm9yKHZhciBpPTA7aTxyZXF1aXJlZDtpKyspe3ZhciBmaWVsZD1yZXF1aXJlZFtpXTtpZighcC5wYXJhbXNbZmllbGRdKXtmb3VuZF9lcnI9dHJ1ZTtmKCdub19wYXJhbXNfJytmaWVsZCx7fSxwKTticmVhazt9fQppZihmb3VuZF9lcnIpe3JldHVybjt9CnZhciBhZXNfZGVjcnlwdDtpZihpc05vZGVBcHAoKSl7YWVzX2RlY3J5cHQ9ZnVuY3Rpb24ocCxzLGYpe2lmKHR5cGVvZiBDcnlwdG9KUz09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigic2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLkVycm9yOiBjYW4gbm90IGZpbmQgQ3J5cHRvSlMuIik7fQp2YXIgZGF0YT1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAucGFyYW1zLmNpcGhlcnRleHQpO3ZhciBlbmNvZGVEYXRhPUNyeXB0b0pTLmVuYy5CYXNlNjQuc3RyaW5naWZ5KGRhdGEpO3ZhciBkZWNyeXB0ZWQ9Q3J5cHRvSlMuQUVTLmRlY3J5cHQoZW5jb2RlRGF0YSxDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAucGFyYW1zLmtleSkse2l2OkNyeXB0b0pTLmVuYy5IZXgucGFyc2UocC5wYXJhbXMuaXYpfSk7cGxhaW5fdGV4dD1kZWNyeXB0ZWQudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO3Moe3BsYWludGV4dDpwbGFpbl90ZXh0fSk7fTt9ZWxzZXthZXNfZGVjcnlwdD1mdW5jdGlvbihwLHMsZil7bG9hZF9zZWN1cml0eV9tb2R1bGUoZnVuY3Rpb24oKXtpZih0eXBlb2YgX19DcnlwdG89PT0idW5kZWZpbmVkIil7cmV0dXJuIGYoImxlZ2FjeSBzZWN1cml0eSBsaWJyYXJ5IGlzIG1pc3NpbmcuIEVycm9yOiBjYW4gbm90IGZpbmQgX19DcnlwdG8uIik7fQppZih0eXBlb2YgJGZoLkNpcGhlcj09PSJ1bmRlZmluZWQiKXskZmguQ2lwaGVyPV9fQ3J5cHRvLl9faW1wb3J0KF9fQ3J5cHRvLCJ0aXRhbml1bWNvcmUuY3J5cHRvLkNpcGhlciIpO30KdmFyIGRhdGE9X19DcnlwdG8uYmFzZTE2X2RlY29kZShwLnBhcmFtcy5jaXBoZXJ0ZXh0KTt2YXIga2V5PV9fQ3J5cHRvLmJhc2UxNl9kZWNvZGUocC5wYXJhbXMua2V5KTt2YXIgY2lwaGVyPSRmaC5DaXBoZXIuY3JlYXRlKCRmaC5DaXBoZXIuUklKTkRBRUwsJGZoLkNpcGhlci5ERUNSWVBULCRmaC5DaXBoZXIuRUNCLCRmaC5DaXBoZXIuSVNPMTAxMjYpO3BsYWluX3RleHQ9X19DcnlwdG8udXRmODJzdHIoY2lwaGVyLmV4ZWN1dGUoa2V5LGRhdGEpKTtzKHtwbGFpbnRleHQ6cGxhaW5fdGV4dH0pO30pO307fQppZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJhZXMiKXthZXNfZGVjcnlwdChwLHMsZik7fWVsc2V7ZignZGVjcnlwdF9iYWRfYWxnb3JpdGhtJyx7fSxwKTtyZXR1cm47fX0sJ2hhc2gnOmZ1bmN0aW9uKCl7aWYoIXAucGFyYW1zLnRleHQpe2YoJ2hhc2hfbm9fdGV4dCcse30scCk7cmV0dXJuO30KaWYodHlwZW9mIENyeXB0b0pTPT09InVuZGVmaW5lZCIpe3JldHVybiBmKCJzZWN1cml0eSBsaWJyYXJ5IGlzIG1pc3NpbmcuRXJyb3I6IGNhbiBub3QgZmluZCBDcnlwdG9KUy4iKTt9CnZhciBoYXNoVmFsdWU7aWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCk9PT0ibWQ1Iil7aGFzaFZhbHVlPUNyeXB0b0pTLk1ENShwLnBhcmFtcy50ZXh0KS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTt9ZWxzZSBpZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJzaGExIil7aGFzaFZhbHVlPUNyeXB0b0pTLlNIQTEocC5wYXJhbXMudGV4dCkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLkhleCk7fWVsc2UgaWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCk9PT0ic2hhMjU2Iil7aGFzaFZhbHVlPUNyeXB0b0pTLlNIQTI1NihwLnBhcmFtcy50ZXh0KS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTt9ZWxzZSBpZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJzaGE1MTIiKXtoYXNoVmFsdWU9Q3J5cHRvSlMuU0hBNTEyKHAucGFyYW1zLnRleHQpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpO31lbHNle3JldHVybiBmKCJoYXNoX3Vuc3VwcG9ydGVkX2FsZ29yaXRobTogIitwLnBhcmFtcy5hbGdvcml0aG0pO30Kcyh7Imhhc2h2YWx1ZSI6aGFzaFZhbHVlfSk7fX07aWYoYWN0c1twLmFjdF0pe2FjdHNbcC5hY3RdKCk7fWVsc2V7ZignZGF0YV9iYWRhY3QnLHApO319OyRmaC5oYXNoPWZ1bmN0aW9uKHAscyxmKXt2YXIgcGFyYW1zPXt9O2lmKHR5cGVvZiBwLmFsZ29yaXRobT09PSJ1bmRlZmluZWQiKXtwLmFsZ29yaXRobT0iTUQ1Ijt9CnBhcmFtcy5hY3Q9Imhhc2giO3BhcmFtcy5wYXJhbXM9cDskZmguc2VjKHBhcmFtcyxzLGYpO307fSkodGhpcyk7O3ZhciAkZmhjbGllbnQ9JGZoOyhmdW5jdGlvbigpe3ZhciBkZWZhdWx0YXJncz17c3VjY2VzczpmdW5jdGlvbigpe30sZmFpbHVyZTpmdW5jdGlvbigpe30scGFyYW1zOnt9fTt2YXIgaGFuZGxlYXJncz1mdW5jdGlvbihpbmFyZ3MsZGVmYXVsdHBhcmFtcyxhcHBseXRvKXt2YXIgb3V0YXJncz1bbnVsbCxudWxsLG51bGxdO3ZhciBvcmlnYXJncz1bbnVsbCxudWxsLG51bGxdO3ZhciBudW1hcmdzPWluYXJncy5sZW5ndGg7aWYoMjxudW1hcmdzKXtvcmlnYXJnc1swXT1pbmFyZ3NbbnVtYXJncy0zXTtvcmlnYXJnc1sxXT1pbmFyZ3NbbnVtYXJncy0yXTtvcmlnYXJnc1syXT1pbmFyZ3NbbnVtYXJncy0xXTt9ZWxzZSBpZigyPT1udW1hcmdzKXtvcmlnYXJnc1sxXT1pbmFyZ3NbMF07b3JpZ2FyZ3NbMl09aW5hcmdzWzFdO31lbHNlIGlmKDE9PW51bWFyZ3Mpe29yaWdhcmdzWzJdPWluYXJnc1swXTt9CnZhciBpPTAsaj0wO2Zvcig7aTwzO2krKyl7dmFyIGE9b3JpZ2FyZ3NbaV07dmFyIHRhPXR5cGVvZiBhO2lmKGEmJjA9PWomJignb2JqZWN0Jz09dGF8fCdib29sZWFuJz09dGEpKXtvdXRhcmdzW2orK109YTt9ZWxzZSBpZihhJiYnZnVuY3Rpb24nPT10YSl7aj0wPT1qPzE6ajtvdXRhcmdzW2orK109YTt9fQppZihudWxsPT1vdXRhcmdzWzBdKXtvdXRhcmdzWzBdPWRlZmF1bHRwYXJhbXM/ZGVmYXVsdHBhcmFtczpkZWZhdWx0YXJncy5wYXJhbXM7fWVsc2V7dmFyIHBhcmFtc2FyZz1vdXRhcmdzWzBdO3BhcmFtc2FyZy5fZGVmYXVsdHM9W107Zm9yKHZhciBuIGluIGRlZmF1bHRwYXJhbXMpe2lmKGRlZmF1bHRwYXJhbXMuaGFzT3duUHJvcGVydHkobikpe2lmKHR5cGVvZiBwYXJhbXNhcmdbbl09PT0idW5kZWZpbmVkIil7cGFyYW1zYXJnW25dPWRlZmF1bHRwYXJhbXNbbl07cGFyYW1zYXJnLl9kZWZhdWx0cy5wdXNoKG4pO319fX0Kb3V0YXJnc1sxXT1udWxsPT1vdXRhcmdzWzFdP2RlZmF1bHRhcmdzLnN1Y2Nlc3M6b3V0YXJnc1sxXTtvdXRhcmdzWzJdPW51bGw9PW91dGFyZ3NbMl0/ZGVmYXVsdGFyZ3MuZmFpbHVyZTpvdXRhcmdzWzJdO2FwcGx5dG8ob3V0YXJnc1swXSxvdXRhcmdzWzFdLG91dGFyZ3NbMl0pO30KdmFyIGV2ZW50U3VwcG9ydGVkPWZ1bmN0aW9uKGV2ZW50KXt2YXIgZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7cmV0dXJuIGV2ZW50IGluIGVsZW1lbnR8fGVsZW1lbnQuc2V0QXR0cmlidXRlJiZlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudCwicmV0dXJuOyIpfHxmYWxzZTt9CiRmaC5fX2lzX3JlYWR5PWZhbHNlOyRmaC5fX3JlYWR5X2xpc3Q9W107dmFyIF9fcmVhZHlfYm91bmQ9ZmFsc2U7dmFyIF9fc2VjdXJpdHlfbG9hZGVkPWZhbHNlO3ZhciBfX21vZHVsZV9wYXRocz17J3NlY3VyaXR5JzonZmhleHQvanMvc2VjdXJpdHkuanMnfTskZmguX2dldEhvc3RQcmVmaXg9ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmFwcF9wcm9wcy5ob3N0KyRmaC5ib3hwcmVmaXg7fQp2YXIgX19yZWFkeT1mdW5jdGlvbigpe2lmKCEkZmguX19pc19yZWFkeSl7JGZoLl9faXNfcmVhZHk9dHJ1ZTtpZigkZmguX19yZWFkeV9saXN0KXt0cnl7d2hpbGUoJGZoLl9fcmVhZHlfbGlzdFswXSl7JGZoLl9fcmVhZHlfbGlzdC5zaGlmdCgpLmFwcGx5KGRvY3VtZW50LFtdKTt9fWZpbmFsbHl7fQokZmguX19yZWFkeV9saXN0PW51bGw7fX19OyRmaC5fX2JpbmRfcmVhZHk9ZnVuY3Rpb24oKXtpZihfX3JlYWR5X2JvdW5kKXJldHVybjtfX3JlYWR5X2JvdW5kPXRydWU7aWYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcil7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhcmd1bWVudHMuY2FsbGVlLGZhbHNlKTtfX3JlYWR5KCk7fSxmYWxzZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLF9fcmVhZHksZmFsc2UpO31lbHNlIGlmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe2lmKGRvY3VtZW50LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXtkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixhcmd1bWVudHMuY2FsbGVlKTtfX3JlYWR5KCk7fX0pO3dpbmRvdy5hdHRhY2hFdmVudCgib25sb2FkIixfX3JlYWR5KTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJndpbmRvdz09d2luZG93LnRvcCkoZnVuY3Rpb24oKXtpZigkZmguX19pc19yZWFkeSlyZXR1cm47dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpO31jYXRjaChlcnJvcil7c2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDApO3JldHVybjt9Cl9fcmVhZHkoKTt9KSgpO319OyRmaC5fX2JpbmRfcmVhZHkoKTt2YXIgX19sb2FkX3NjcmlwdD1mdW5jdGlvbih1cmwsY2FsbGJhY2spe3ZhciBzY3JpcHQ7dmFyIGhlYWQ9ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3NjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtzY3JpcHQuYXN5bmM9ImFzeW5jIjtzY3JpcHQuc3JjPXVybDtzY3JpcHQudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtzY3JpcHQub25sb2FkPXNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZighc2NyaXB0LnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3Qoc2NyaXB0LnJlYWR5U3RhdGUpKXtzY3JpcHQub25sb2FkPXNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtpZihoZWFkJiZzY3JpcHQucGFyZW50Tm9kZSl7aGVhZC5yZW1vdmVDaGlsZChzY3JpcHQpO30Kc2NyaXB0PXVuZGVmaW5lZDtpZihjYWxsYmFjayYmdHlwZW9mIGNhbGxiYWNrPT09ImZ1bmN0aW9uIil7Y2FsbGJhY2soKTt9fX0KaGVhZC5pbnNlcnRCZWZvcmUoc2NyaXB0LGhlYWQuZmlyc3RDaGlsZCk7fQokZmguX19sb2FkX21vZHVsZT1mdW5jdGlvbihtb2R1bGUsY2FsbGJhY2spe2lmKCRmaFsnX18nK21vZHVsZSsnX2xvYWRlZCddKXtjYWxsYmFjaygpO3JldHVybjt9ZWxzZXtpZihfX21vZHVsZV9wYXRoc1ttb2R1bGVdKXtfX2xvYWRfc2NyaXB0KF9fbW9kdWxlX3BhdGhzW21vZHVsZV0sY2FsbGJhY2spO319fTskZmguX21hcFNjcmlwdExvYWRlZD0odHlwZW9mIGdvb2dsZSE9InVuZGVmaW5lZCIpJiYodHlwZW9mIGdvb2dsZS5tYXBzIT0idW5kZWZpbmVkIikmJih0eXBlb2YgZ29vZ2xlLm1hcHMuTWFwIT0idW5kZWZpbmVkIik7JGZoLl9sb2FkTWFwU2NyaXB0PWZ1bmN0aW9uKCl7dmFyIHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtzY3JpcHQudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt2YXIgcHJvdG9jb2w9ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w7cHJvdG9jb2w9KHByb3RvY29sPT09Imh0dHA6Inx8cHJvdG9jb2w9PT0iaHR0cHM6Iik/cHJvdG9jb2w6Imh0dHBzOiI7c2NyaXB0LnNyYz1wcm90b2NvbCsiLy9tYXBzLmdvb2dsZS5jb20vbWFwcy9hcGkvanM/c2Vuc29yPXRydWUmY2FsbGJhY2s9JGZoLl9tYXBMb2FkZWQiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTt9OyRmaC5hdWRpb19vYmo9bnVsbDskZmguYXVkaW9faXNfcGxheWluZz1mYWxzZTskZmguX2N1cnJlbnRfYXV0aF91c2VyPW51bGw7JGZoLl9fZGVzdF9fPXtzZW5kOmZ1bmN0aW9uKHAscyxmKXtmKCdzZW5kX25vc3VwcG9ydCcpO30sbm90aWZ5OmZ1bmN0aW9uKHAscyxmKXtmKCdub3RpZnlfbm9zdXBwb3J0Jyk7fSxjb250YWN0czpmdW5jdGlvbihwLHMsZil7ZignY29udGFjdHNfbm9zdXBwb3J0Jyk7fSxhY2M6ZnVuY3Rpb24ocCxzLGYpe2YoJ2FjY19ub3N1cHBvcnQnKTt9LGdlbzpmdW5jdGlvbihwLHMsZil7ZignZ2VvX25vc3VwcG9ydCcpO30sY2FtOmZ1bmN0aW9uKHAscyxmKXtmKCdjYW1fbm9zdXBwb3J0Jyk7fSxkZXZpY2U6ZnVuY3Rpb24ocCxzLGYpe2YoJ2RldmljZV9ub3N1cHBvcnQnKTt9LGxpc3RlbjpmdW5jdGlvbihwLHMsZil7ZignbGlzdGVuX25vc3VwcG9ydCcpO30saGFuZGxlcnM6ZnVuY3Rpb24ocCxzLGYpe2YoJ2hhbmRsZXJzX25vX3N1cHBvcnQnKTt9LGZpbGU6ZnVuY3Rpb24ocCxzLGYpe2YoJ2ZpbGVfbm9zdXBwb3J0Jyk7fSxwdXNoOmZ1bmN0aW9uKHAscyxmKXtmKCdwdXNoX25vc3VwcG9ydCcpO30sZW52OmZ1bmN0aW9uKHAscyxmKXtzKHtoZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0LHdpZHRoOndpbmRvdy5pbm5lcldpZHRoLHV1aWQ6ZnVuY3Rpb24oKXt2YXIgdXVpZD0kZmguX2dldERldmljZUlkKCk7cmV0dXJuIHV1aWQ7fSgpfSk7fSxkYXRhOmZ1bmN0aW9uKHAscyxmKXtpZighJGZoLl9wZXJzaXN0KXskZmguX3BlcnNpc3Q9bmV3IFBlcnNpc3QuU3RvcmUoJ0ZIJyskZmguYXBwX3Byb3BzLmFwcGlkLHtzd2ZfcGF0aDonL3N0YXRpYy9jL3N0YXJ0L3N3Zi9wZXJzaXN0LnN3Zid9KTt9CmlmKCFwLmtleSl7ZignZGF0YV9ub2tleScpO3JldHVybjt9CnZhciBhY3RzPXtsb2FkOmZ1bmN0aW9uKCl7JGZoLl9wZXJzaXN0LmdldChwLmtleSxmdW5jdGlvbihvayx2YWwpe29rP3Moe2tleTpwLmtleSx2YWw6dmFsfSk6cyh7a2V5OnAua2V5LHZhbDpudWxsfSk7fSk7fSxzYXZlOmZ1bmN0aW9uKCl7aWYoIXAudmFsKXtmKCdkYXRhX25vdmFsJyk7cmV0dXJuO30KdHJ5eyRmaC5fcGVyc2lzdC5zZXQocC5rZXkscC52YWwpO31jYXRjaChlKXtmKCdkYXRhX2Vycm9yJyx7fSxwKTtyZXR1cm47fQpzKCk7fSxyZW1vdmU6ZnVuY3Rpb24oKXskZmguX3BlcnNpc3QucmVtb3ZlKHAua2V5LGZ1bmN0aW9uKG9rLHZhbCl7b2s/cyh7a2V5OnAua2V5LHZhbDp2YWx9KTpzKHtrZXk6cC5rZXksdmFsOm51bGx9KTt9KTt9fTthY3RzW3AuYWN0XT9hY3RzW3AuYWN0XSgpOmYoJ2RhdGFfYmFkYWN0JyxwKTt9LGxvZzpmdW5jdGlvbihwLHMsZil7dHlwZW9mIGNvbnNvbGU9PT0idW5kZWZpbmVkIj9mKCdsb2dfbm9zdXBwb3J0Jyk6Y29uc29sZS5sb2cocC5tZXNzYWdlKTt9LG9yaTpmdW5jdGlvbihwLHMsZil7aWYodHlwZW9mIHAuYWN0PT0idW5kZWZpbmVkInx8cC5hY3Q9PSJsaXN0ZW4iKXtpZihldmVudFN1cHBvcnRlZCgnb25vcmllbnRhdGlvbmNoYW5nZScpKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLHMsZmFsc2UpO31lbHNle2YoJ29yaV9ub3N1cHBvcnQnLHt9LHApO319ZWxzZSBpZihwLmFjdD09InNldCIpe2lmKCFwLnZhbHVlKXtmKCdvcmlfbm9fdmFsdWUnLHt9LHApO3JldHVybjt9CmlmKHAudmFsdWU9PSJwb3J0cmFpdCIpe2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uc3R5bGVbJy1tb3otdHJhbnNmb3JtJ109IiI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXT0iIjtzKHtvcmllbnRhdGlvbjoncG9ydHJhaXQnfSk7fWVsc2V7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsnLW1vei10cmFuc2Zvcm0nXT0ncm90YXRlKDkwZGVnKSc7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXT0ncm90YXRlKDkwZGVnKSc7cyh7b3JpZW50YXRpb246J2xhbmRzY2FwZSd9KTt9fWVsc2V7Zignb3JpX2JhZGFjdCcse30scCk7fX0sbWFwOmZ1bmN0aW9uKHAscyxmKXtpZighcC50YXJnZXQpe2YoJ21hcF9ub3RhcmdldCcse30scCk7cmV0dXJuO30KaWYoIXAubGF0KXtmKCdtYXBfbm9sYXRpdHVkZScse30scCk7cmV0dXJuO30KaWYoIXAubG9uKXtmKCdtYXBfbm9sb2dpdHVkZScse30scCk7cmV0dXJuO30KdmFyIHRhcmdldD1wLnRhcmdldDtpZih0eXBlb2YgdGFyZ2V0PT09InN0cmluZyIpe3ZhciB0YXJnZXRfZG9tPW51bGw7aWYodHlwZW9mIGpRdWVyeSE9InVuZGVmaW5lZCIpe3RyeXt2YXIganFfb2JqPWpRdWVyeSh0YXJnZXQpO2lmKGpxX29iai5sZW5ndGg+MCl7dGFyZ2V0X2RvbT1qcV9vYmpbMF07fX1jYXRjaChlKXt0YXJnZXRfZG9tPW51bGw7fX0KaWYobnVsbD09dGFyZ2V0X2RvbSl7dGFyZ2V0X2RvbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpO30KdGFyZ2V0PXRhcmdldF9kb207fQplbHNlIGlmKHR5cGVvZiB0YXJnZXQ9PT0ib2JqZWN0Iil7aWYodGFyZ2V0Lm5vZGVUeXBlPT09MSYmdHlwZW9mIHRhcmdldC5ub2RlTmFtZT09PSJzdHJpbmciKXt9ZWxzZXt0YXJnZXQ9dGFyZ2V0WzBdO319CmVsc2V7dGFyZ2V0PW51bGw7fQppZighdGFyZ2V0KXtmKCdtYXBfbm9jb250YWluZXInLHt9LHApO3JldHVybjt9CmlmKCEkZmguX21hcFNjcmlwdExvYWRlZCl7JGZoLl9tYXBMb2FkZWQ9ZnVuY3Rpb24oKXskZmguX21hcFNjcmlwdExvYWRlZD10cnVlO3ZhciBtYXBPcHRpb25zPXt9O21hcE9wdGlvbnMuem9vbT1wLnpvb20/cC56b29tOjg7bWFwT3B0aW9ucy5jZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwLmxhdCxwLmxvbik7bWFwT3B0aW9ucy5tYXBUeXBlSWQ9Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVA7dmFyIG1hcD1uZXcgZ29vZ2xlLm1hcHMuTWFwKHRhcmdldCxtYXBPcHRpb25zKTtzKHttYXA6bWFwfSk7fTskZmguX2xvYWRNYXBTY3JpcHQoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoISRmaC5fbWFwU2NyaXB0TG9hZGVkKXtmKCdtYXBfdGltZW91dCcse30scCk7fX0sMjAwMDApO31lbHNle3ZhciBtYXBPcHRpb25zPXt9O21hcE9wdGlvbnMuem9vbT1wLnpvb20/cC56b29tOjg7bWFwT3B0aW9ucy5jZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwLmxhdCxwLmxvbik7bWFwT3B0aW9ucy5tYXBUeXBlSWQ9Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVA7dmFyIG1hcD1uZXcgZ29vZ2xlLm1hcHMuTWFwKHRhcmdldCxtYXBPcHRpb25zKTtzKHttYXA6bWFwfSk7fX0sYXVkaW86ZnVuY3Rpb24ocCxzLGYpe2lmKCEkZmguYXVkaW9fb2JqPT1udWxsJiZwLmFjdD09InBsYXkiJiYoIXAucGF0aHx8cC5wYXRoPT0iIikpe2YoJ25vX2F1ZGlvX3BhdGgnKTtyZXR1cm47fQp2YXIgYWN0cz17J3BsYXknOmZ1bmN0aW9uKCl7aWYobnVsbD09JGZoLmF1ZGlvX29iail7JGZoLmF1ZGlvX29iaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpO2lmKCEoKCRmaC5hdWRpb19vYmoucGxheSk/dHJ1ZTpmYWxzZSkpe2YoJ2F1ZGlvX25vdF9zdXBwb3J0Jyk7cmV0dXJuO30KaWYocC50eXBlKXt2YXIgY2FucGxheT0kZmguYXVkaW9fb2JqLmNhblBsYXlUeXBlKHAudHlwZSk7aWYoY2FucGxheT09Im5vInx8Y2FucGxheT09IiIpe2YoImF1ZGlvX3R5cGVfbm90X3N1cHBvcnRlZCIpO3JldHVybjt9fQokZmguYXVkaW9fb2JqLnNyYz1wLnBhdGg7aWYocC5jb250cm9scyl7JGZoLmF1ZGlvX29iai5jb250cm9scz0iY29udHJvbHMiO30KaWYocC5hdXRvcGxheSl7JGZoLmF1ZGlvX29iai5hdXRvcGxheT0iYXV0b3BsYXkiO30KaWYocC5sb29wKXskZmguYXVkaW9fb2JqLmxvb3A9Imxvb3AiO30KZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgkZmguYXVkaW9fb2JqKTskZmguYXVkaW9fb2JqLnBsYXkoKTskZmguYXVkaW9faXNfcGxheWluZz10cnVlO3MoKTt9ZWxzZXtpZihwLnBhdGgmJihwLnBhdGghPSRmaC5hdWRpb19vYmouc3JjKSl7aWYoJGZoLmF1ZGlvX2lzX3BsYXlpbmcpe2FjdHNbJ3N0b3AnXSh0cnVlKTt9CmFjdHNbJ3BsYXknXSgpO31lbHNle2lmKCEkZmguYXVkaW9faXNfcGxheWluZyl7JGZoLmF1ZGlvX29iai5wbGF5KCk7JGZoLmF1ZGlvX2lzX3BsYXlpbmc9dHJ1ZTtzKCk7fX19fSwncGF1c2UnOmZ1bmN0aW9uKCl7aWYobnVsbCE9JGZoLmF1ZGlvX29iaiYmJGZoLmF1ZGlvX2lzX3BsYXlpbmcpe2lmKHR5cGVvZiAkZmguYXVkaW9fb2JqLnBhdXNlPT0iZnVuY3Rpb24iKXskZmguYXVkaW9fb2JqLnBhdXNlKCk7fWVsc2UgaWYodHlwZW9mICRmaC5hdWRpb19vYmouc3RvcD09ImZ1bmN0aW9uIil7JGZoLmF1ZGlvX29iai5zdG9wKCk7fQokZmguYXVkaW9faXNfcGxheWluZz1mYWxzZTtzKCk7fWVsc2V7Zignbm9fYXVkaW9fcGxheWluZycpO319LCdzdG9wJzpmdW5jdGlvbihub2NhbGxiYWNrKXtpZihudWxsIT0kZmguYXVkaW9fb2JqKXtpZih0eXBlb2YgJGZoLmF1ZGlvX29iai5zdG9wPT0iZnVuY3Rpb24iKXskZmguYXVkaW9fb2JqLnN0b3AoKTt9ZWxzZSBpZih0eXBlb2YgJGZoLmF1ZGlvX29iai5wYXVzZT09ImZ1bmN0aW9uIil7JGZoLmF1ZGlvX29iai5wYXVzZSgpO30KZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCgkZmguYXVkaW9fb2JqKTskZmguYXVkaW9fb2JqPW51bGw7JGZoLmF1ZGlvX2lzX3BsYXlpbmc9ZmFsc2U7aWYoIW5vY2FsbGJhY2spe3MoKTt9fWVsc2V7Zignbm9fYXVkaW8nKTt9fX0KYWN0c1twLmFjdF0/YWN0c1twLmFjdF0oKTpmKCdkYXRhX2JhZGFjdCcscCk7fSx3ZWJ2aWV3OmZ1bmN0aW9uKHAscyxmKXtmKCd3ZWJ2aWV3X25vc3VwcG9ydCcpO30scmVhZHk6ZnVuY3Rpb24ocCxzLGYpeyRmaC5fX2JpbmRfcmVhZHkoKTtpZigkZmguX19pc19yZWFkeSl7cy5hcHBseShkb2N1bWVudCxbXSk7fWVsc2V7JGZoLl9fcmVhZHlfbGlzdC5wdXNoKHMpO319fQokZmguc2VuZD1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt0eXBlOidlbWFpbCd9LCRmaC5fX2Rlc3RfXy5zZW5kKTt9CiRmaC5ub3RpZnk9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7dHlwZTondmlicmF0ZSd9LCRmaC5fX2Rlc3RfXy5ub3RpZnkpO30KJGZoLmNvbnRhY3RzPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDonbGlzdCd9LCRmaC5fX2Rlc3RfXy5jb250YWN0cyk7fQokZmguYWNjPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDoncmVnaXN0ZXInLGludGVydmFsOjB9LCRmaC5fX2Rlc3RfXy5hY2MpO30KJGZoLmdlbz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J3JlZ2lzdGVyJyxpbnRlcnZhbDowfSwkZmguX19kZXN0X18uZ2VvKTt9CiRmaC5jYW09ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OidwaWN0dXJlJ30sJGZoLl9fZGVzdF9fLmNhbSk7fQokZmguZGF0YT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J2xvYWQnfSwkZmguX19kZXN0X18uZGF0YSk7fQokZmgubG9nPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse21lc3NhZ2U6J25vbmUnfSwkZmguX19kZXN0X18ubG9nKTt9CiRmaC5kZXZpY2U9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18uZGV2aWNlKTt9CiRmaC5saXN0ZW49ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OidhZGQnfSwkZmguX19kZXN0X18ubGlzdGVuKTt9CiRmaC5vcmk9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ub3JpKTt9CiRmaC5tYXA9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ubWFwKTt9CiRmaC5hdWRpbz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy5hdWRpbyk7fQokZmgud2Vidmlldz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy53ZWJ2aWV3KTt9CiRmaC5yZWFkeT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy5yZWFkeSk7fTskZmguaGFuZGxlcnM9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7dHlwZTonYmFjayd9LCRmaC5fX2Rlc3RfXy5oYW5kbGVycyk7fTskZmguZmlsZT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J3VwbG9hZCd9LCRmaC5fX2Rlc3RfXy5maWxlKTt9OyRmaC5wdXNoPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLnB1c2gpO307JGZoLmVudj1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LGZ1bmN0aW9uKHAscyxmKXskZmguX19kZXN0X18uZW52KHt9LGZ1bmN0aW9uKGRlc3RFbnYpe2Rlc3RFbnYuYXBwbGljYXRpb249JGZoLmFwcF9wcm9wcy5hcHBpZDtkZXN0RW52LmFnZW50PW5hdmlnYXRvci51c2VyQWdlbnR8fCd1bmtub3duJztzKGRlc3RFbnYpO30pO30pO30KJGZoLmRldmljZT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LGZ1bmN0aW9uKHAscyxmKXt9KTt9CiRmaC5nZW9pcD1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J2dldCd9LGZ1bmN0aW9uKHAscyxmKXtpZignZ2V0Jz09cC5hY3Qpe3ZhciBkYXRhPXtpbnN0YW5jZTokZmguYXBwX3Byb3BzLmFwcGlkLGRvbWFpbjokZmguY2xvdWRfcHJvcHMuZG9tYWlufQokZmguX19hamF4KHsidXJsIjokZmguX2dldEhvc3RQcmVmaXgoKSsiYWN0L3dpZC9nZW9pcC9yZXNvbHZlIiwidHlwZSI6IlBPU1QiLCJkYXRhIjpKU09OLnN0cmluZ2lmeShkYXRhKSwic3VjY2VzcyI6ZnVuY3Rpb24ocmVzKXtmb3IodmFyIG4gaW4gcmVzLmdlb2lwKXtyZXNbbl09cmVzWydnZW9pcCddW25dO30KcyhyZXMpO319KTt9ZWxzZXtmKCdnZW9pcF9iYWRhY3QnLHApO319KTt9OyRmaC53ZWI9ZnVuY3Rpb24ocCxzLGYpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHttZXRob2Q6J0dFVCd9LGZ1bmN0aW9uKHAscyxmKXtpZighcC51cmwpe2YoJ2JhZF91cmwnKTt9CmlmKHAuaXNfbG9jYWwpeyRmaC5fX2FqYXgoe3VybDpwLnVybCx0eXBlOiJHRVQiLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe3ZhciByZXM9e307cmVzLnN0YXR1cz0yMDA7cmVzLmJvZHk9ZGF0YTtzKHJlcyk7fSxlcnJvcjpmdW5jdGlvbigpe2YoKTt9fSl9ZWxzZXskZmguX19hamF4KHsidXJsIjokZmguX2dldEhvc3RQcmVmaXgoKSsiYWN0L3dpZC93ZWIiLCJ0eXBlIjoiUE9TVCIsImRhdGEiOkpTT04uc3RyaW5naWZ5KHApLCJzdWNjZXNzIjpmdW5jdGlvbihyZXMpe3MocmVzKTt9fSk7fX0pO307JGZoLnByZWZzPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDonbG9hZCd9LGZ1bmN0aW9uKHAscyxmKXtmKCJwcmVmc19kZXByZWNhdGVkIik7fSk7fTt9KSgpOzsoZnVuY3Rpb24oKXskZmgubGVnYWN5PSRmaC5sZWdhY3l8fHt9OyRmaC5sZWdhY3kuZGVzdGluYXRpb25OYW1lPWZoX2Rlc3RpbmF0aW9uX2NvZGU7JGZoLl9fWE1MSHR0cFJlcXVlc3RfXz13aW5kb3cuQWN0aXZlWE9iamVjdD9BY3RpdmVYT2JqZWN0OlhNTEh0dHBSZXF1ZXN0OyRmaC5fX3VzZUFjdGl2ZVhPYmplY3Q9d2luZG93LkFjdGl2ZVhPYmplY3Q/dHJ1ZTpmYWxzZTskZmgueGhyPWZ1bmN0aW9uKCl7aWYoJGZoLl9fdXNlQWN0aXZlWE9iamVjdCl7cmV0dXJuIG5ldyAkZmguX19YTUxIdHRwUmVxdWVzdF9fKCJNaWNyb3NvZnQuWE1MSFRUUCIpO31lbHNle3JldHVybiBuZXcgJGZoLl9fWE1MSHR0cFJlcXVlc3RfXygpO319CiRmaC5lbnQ9ZnVuY3Rpb24ocGF0aCxyZXEsc3VjY2Vzcyl7dmFyIGFyZ3M9W3BhdGgscmVxLHN1Y2Nlc3NdO2lmKHBhdGgmJidzdHJpbmcnPT10eXBlb2YocGF0aCkpe2FyZ3M9W3twYXRoOnBhdGgscmVxOnJlcX0sc3VjY2Vzc107fQpoYW5kbGVhcmdzKGFyZ3Mse2FjdDonbGlzdCd9LGZ1bmN0aW9uKHAscyxmKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmVudCBoYXMgYmVlbiBkZXByZWNhdGVkIik7fQpmKCJlbnRfZGVwcmVjYXRlZCIpO30pO307JGZoLmxlZ2FjeS5lbnQ9JGZoLmVudDskZmgubGVnYWN5LmdldEFzc2V0RmlsZXM9ZnVuY3Rpb24oc3JjKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmxlZ2FjeS5nZXRBc3NldEZpbGVzIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9CnJldHVybiBudWxsO307JGZoLmxlZ2FjeS5tYWtlU3RhdGljVXJsPWZ1bmN0aW9uKHBhdGgpe3JldHVybicvc3RhdGljL2EvJytmaF9jb25maWcuYXBwaWQrJy8nK2ZoX2Rlc3RpbmF0aW9uX2NvZGUrJy8nK2ZoX2FwcF92ZXJzaW9uKycvJytwYXRoO307JGZoLm1ha2VTdGF0aWNVcmw9JGZoLmxlZ2FjeS5tYWtlU3RhdGljVXJsOyRmaC5sZWdhY3kuZGVidWc9ZnVuY3Rpb24odmFsKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmxlZ2FjeS5kZWJ1ZyBoYXMgYmVlbiBkZXByZWNhdGVkIik7fX07JGZoLmxlZ2FjeS5wYXJzZURhdGU9ZnVuY3Rpb24oZGF0ZSl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coIiRmaC5sZWdhY3kucGFyc2VEYXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9fTskZmgubGVnYWN5LnNob3dIZWFkZXI9ZnVuY3Rpb24oc2hvdyl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coIiRmaC5sZWdhY3kuc2hvd0hlYWRlciBoYXMgYmVlbiBkZXByZWNhdGVkIik7fX07JGZoLmxlZ2FjeS5zaG93Rm9vdGVyPWZ1bmN0aW9uKHNob3cpe2lmKGNvbnNvbGUpe2NvbnNvbGUubG9nKCIkZmgubGVnYWN5LnNob3dGb290ZXIgaGFzIGJlZW4gZGVwcmVjYXRlZCIpO319OyRmaC5sZWdhY3kubG9hZFByZWZzPWZ1bmN0aW9uKGNhbGxiYWNrKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmxlZ2FjeS5sb2FkUHJlZnMgaGFzIGJlZW4gZGVwcmVjYXRlZCIpO30KY2FsbGJhY2soe30pO307JGZoLmxlZ2FjeS5nZXRQcmVmcz1mdW5jdGlvbigpe2lmKGNvbnNvbGUpe2NvbnNvbGUubG9nKCIkZmgubGVnYWN5LmdldFByZWZzIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9CnJldHVybnt9O307JGZoLmxlZ2FjeS5nZXRGdWxsUHJlZnM9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKGNvbnNvbGUpe2NvbnNvbGUubG9nKCIkZmgubGVnYWN5LmdldEZ1bGxQcmVmcyBoYXMgYmVlbiBkZXByZWNhdGVkIik7fQpjYWxsYmFjayh7fSk7fTskZmgubGVnYWN5LnNhdmVQcmVmcz1mdW5jdGlvbihwcmVmcyxjYWxsYmFjayl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coIiRmaC5sZWdhY3kuc2F2ZVByZWZzIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9CmNhbGxiYWNrKHt9KTt9O30pKCk7OyhmdW5jdGlvbigpeyRmaC5fX3dlYnZpZXdfd2luPXVuZGVmaW5lZDskZmguX19kZXN0X18ud2Vidmlldz1mdW5jdGlvbihwLHMsZil7aWYoISgnYWN0J2luIHApfHxwLmFjdD09PSdvcGVuJyl7aWYoIXAudXJsKXtmKCdub191cmwnKTtyZXR1cm47fQp2YXIgb2xkX3VybD1wLnVybDskZmguX193ZWJ2aWV3X3dpbj13aW5kb3cub3BlbihwLnVybCwnX2JsYW5rJyk7cygib3BlbmVkIik7fWVsc2V7aWYocC5hY3Q9PT0nY2xvc2UnKXtpZih0eXBlb2YgJGZoLl9fd2Vidmlld193aW4hPSd1bmRlZmluZWQnKXskZmguX193ZWJ2aWV3X3dpbi5jbG9zZSgpOyRmaC5fX3dlYnZpZXdfd2luPXVuZGVmaW5lZDt9CnMoImNsb3NlZCIpO319fTskZmguX19kZXN0X18uZ2VvPWZ1bmN0aW9uKHAscyxmKXtpZih0eXBlb2YgbmF2aWdhdG9yLmdlb2xvY2F0aW9uIT0ndW5kZWZpbmVkJyl7aWYoIXAuYWN0fHxwLmFjdD09InJlZ2lzdGVyIil7aWYoJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKXtmKCdnZW9faW51c2UnLHt9LHApO3JldHVybjt9CmlmKHAuaW50ZXJ2YWw9PTApe25hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocG9zaXRpb24pe3ZhciBjb29yZHM9cG9zaXRpb24uY29vcmRzO3ZhciByZXNkYXRhPXtsb246Y29vcmRzLmxvbmdpdHVkZSxsYXQ6Y29vcmRzLmxhdGl0dWRlLGFsdDpjb29yZHMuYWx0aXR1ZGUsYWNjOmNvb3Jkcy5hY2N1cmFjeSxoZWFkOmNvb3Jkcy5oZWFkaW5nLHNwZWVkOmNvb3Jkcy5zcGVlZCx3aGVuOnBvc2l0aW9uLnRpbWVzdGFtcH07cyhyZXNkYXRhKTt9LGZ1bmN0aW9uKCl7ZignZXJyb3JfZ2VvJyx7fSxwKTt9KX07aWYocC5pbnRlcnZhbD4wKXt2YXIgaW50ZXJuYWxXYXRjaGVyPW5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKXt2YXIgY29vcmRzPXBvc2l0aW9uLmNvb3Jkczt2YXIgcmVzZGF0YT17bG9uOmNvb3Jkcy5sb25naXR1ZGUsbGF0OmNvb3Jkcy5sYXRpdHVkZSxhbHQ6Y29vcmRzLmFsdGl0dWRlLGFjYzpjb29yZHMuYWNjdXJhY3ksaGVhZDpjb29yZHMuaGVhZGluZyxzcGVlZDpjb29yZHMuc3BlZWQsd2hlbjpwb3NpdGlvbi50aW1lc3RhbXB9O3MocmVzZGF0YSk7fSxmdW5jdGlvbigpe2YoJ2Vycm9yX2dlbycse30scCk7fSx7ZnJlcXVlbmN5OnAuaW50ZXJ2YWx9KTskZmguX19kZXN0X18uX2dlb1dhdGNoZXI9aW50ZXJuYWxXYXRjaGVyO307fWVsc2UgaWYocC5hY3Q9PSJ1bnJlZ2lzdGVyIil7aWYoJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKXtuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCgkZmguX19kZXN0X18uX2dlb1dhdGNoZXIpOyRmaC5fX2Rlc3RfXy5fZ2VvV2F0Y2hlcj11bmRlZmluZWQ7fTtzKCk7fWVsc2V7ZignZ2VvX2JhZGFjdCcse30scCk7fX1lbHNle2YoJ2dlb19ub3N1cHBvcnQnLHt9LHApO319OyRmaC5fX2Rlc3RfXy5hY2M9ZnVuY3Rpb24ocCxzLGYpe3Moe3g6KE1hdGgucmFuZG9tKCkqNCktMix5OihNYXRoLnJhbmRvbSgpKjQpLTIsejooTWF0aC5yYW5kb20oKSo0KS0yLHdoZW46bmV3IERhdGUoKS5nZXRUaW1lKCl9KTt9CiRmaC5fX3NldFBhdGhQcmVmaXg9ZnVuY3Rpb24oZGF0YSl7JGZoLmxlZ2FjeS5wYXRocHJlZml4PSRmaC5sZWdhY3kuYm94cHJlZml4O319KSgpOw==",
                "body": "CmlmKCF0aGlzLkpTT04pe0pTT049ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKG4pe3JldHVybiBuPDEwPycwJytuOm47fQpEYXRlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRVVENGdWxsWWVhcigpKyctJysKZih0aGlzLmdldFVUQ01vbnRoKCkrMSkrJy0nKwpmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsnVCcrCmYodGhpcy5nZXRVVENIb3VycygpKSsnOicrCmYodGhpcy5nZXRVVENNaW51dGVzKCkpKyc6JysKZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrJ1onO307dmFyIGVzY2FwZWFibGU9L1siXFxceDAwLVx4MWZceDdmLVx4OWZdL2csZ2FwLGluZGVudCxtZXRhPXsnXGInOidcXGInLCdcdCc6J1xcdCcsJ1xuJzonXFxuJywnXGYnOidcXGYnLCdccic6J1xccicsJyInOidcXCInLCdcXCc6J1xcXFwnfSxyZXA7ZnVuY3Rpb24gcXVvdGUoc3RyaW5nKXtyZXR1cm4gZXNjYXBlYWJsZS50ZXN0KHN0cmluZyk/JyInK3N0cmluZy5yZXBsYWNlKGVzY2FwZWFibGUsZnVuY3Rpb24oYSl7dmFyIGM9bWV0YVthXTtpZih0eXBlb2YgYz09PSdzdHJpbmcnKXtyZXR1cm4gYzt9CmM9YS5jaGFyQ29kZUF0KCk7cmV0dXJuJ1xcdTAwJytNYXRoLmZsb29yKGMvMTYpLnRvU3RyaW5nKDE2KSsKKGMlMTYpLnRvU3RyaW5nKDE2KTt9KSsnIic6JyInK3N0cmluZysnIic7fQpmdW5jdGlvbiBzdHIoa2V5LGhvbGRlcil7dmFyIGksayx2LGxlbmd0aCxtaW5kPWdhcCxwYXJ0aWFsLHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0JyYmdHlwZW9mIHZhbHVlLnRvSlNPTj09PSdmdW5jdGlvbicpe3ZhbHVlPXZhbHVlLnRvSlNPTihrZXkpO30KaWYodHlwZW9mIHJlcD09PSdmdW5jdGlvbicpe3ZhbHVlPXJlcC5jYWxsKGhvbGRlcixrZXksdmFsdWUpO30Kc3dpdGNoKHR5cGVvZiB2YWx1ZSl7Y2FzZSdzdHJpbmcnOnJldHVybiBxdW90ZSh2YWx1ZSk7Y2FzZSdudW1iZXInOnJldHVybiBpc0Zpbml0ZSh2YWx1ZSk/U3RyaW5nKHZhbHVlKTonbnVsbCc7Y2FzZSdib29sZWFuJzpjYXNlJ251bGwnOnJldHVybiBTdHJpbmcodmFsdWUpO2Nhc2Unb2JqZWN0JzppZighdmFsdWUpe3JldHVybidudWxsJzt9CmdhcCs9aW5kZW50O3BhcnRpYWw9W107aWYodHlwZW9mIHZhbHVlLmxlbmd0aD09PSdudW1iZXInJiYhKHZhbHVlLnByb3BlcnR5SXNFbnVtZXJhYmxlKCdsZW5ndGgnKSkpe2xlbmd0aD12YWx1ZS5sZW5ndGg7Zm9yKGk9MDtpPGxlbmd0aDtpKz0xKXtwYXJ0aWFsW2ldPXN0cihpLHZhbHVlKXx8J251bGwnO30Kdj1wYXJ0aWFsLmxlbmd0aD09PTA/J1tdJzpnYXA/J1tcbicrZ2FwK3BhcnRpYWwuam9pbignLFxuJytnYXApKydcbicrbWluZCsnXSc6J1snK3BhcnRpYWwuam9pbignLCcpKyddJztnYXA9bWluZDtyZXR1cm4gdjt9CmlmKHR5cGVvZiByZXA9PT0nb2JqZWN0Jyl7bGVuZ3RoPXJlcC5sZW5ndGg7Zm9yKGk9MDtpPGxlbmd0aDtpKz0xKXtrPXJlcFtpXTtpZih0eXBlb2Ygaz09PSdzdHJpbmcnKXt2PXN0cihrLHZhbHVlLHJlcCk7aWYodil7cGFydGlhbC5wdXNoKHF1b3RlKGspKyhnYXA/JzogJzonOicpK3YpO319fX1lbHNle2ZvcihrIGluIHZhbHVlKXt2PXN0cihrLHZhbHVlLHJlcCk7aWYodil7cGFydGlhbC5wdXNoKHF1b3RlKGspKyhnYXA/JzogJzonOicpK3YpO319fQp2PXBhcnRpYWwubGVuZ3RoPT09MD8ne30nOmdhcD8ne1xuJytnYXArcGFydGlhbC5qb2luKCcsXG4nK2dhcCkrJ1xuJyttaW5kKyd9JzoneycrcGFydGlhbC5qb2luKCcsJykrJ30nO2dhcD1taW5kO3JldHVybiB2O319CnJldHVybntzdHJpbmdpZnk6ZnVuY3Rpb24odmFsdWUscmVwbGFjZXIsc3BhY2Upe3ZhciBpO2dhcD0nJztpbmRlbnQ9Jyc7aWYoc3BhY2Upe2lmKHR5cGVvZiBzcGFjZT09PSdudW1iZXInKXtmb3IoaT0wO2k8c3BhY2U7aSs9MSl7aW5kZW50Kz0nICc7fX1lbHNlIGlmKHR5cGVvZiBzcGFjZT09PSdzdHJpbmcnKXtpbmRlbnQ9c3BhY2U7fX0KaWYoIXJlcGxhY2VyKXtyZXA9ZnVuY3Rpb24oa2V5LHZhbHVlKXtpZighT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcyxrZXkpKXtyZXR1cm4gdW5kZWZpbmVkO30KcmV0dXJuIHZhbHVlO307fWVsc2UgaWYodHlwZW9mIHJlcGxhY2VyPT09J2Z1bmN0aW9uJ3x8KHR5cGVvZiByZXBsYWNlcj09PSdvYmplY3QnJiZ0eXBlb2YgcmVwbGFjZXIubGVuZ3RoPT09J251bWJlcicpKXtyZXA9cmVwbGFjZXI7fWVsc2V7dGhyb3cgbmV3IEVycm9yKCdKU09OLnN0cmluZ2lmeScpO30KcmV0dXJuIHN0cignJyx7Jyc6dmFsdWV9KTt9LHBhcnNlOmZ1bmN0aW9uKHRleHQscmV2aXZlcil7dmFyIGo7ZnVuY3Rpb24gd2Fsayhob2xkZXIsa2V5KXt2YXIgayx2LHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0Jyl7Zm9yKGsgaW4gdmFsdWUpe2lmKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLGspKXt2PXdhbGsodmFsdWUsayk7aWYodiE9PXVuZGVmaW5lZCl7dmFsdWVba109djt9ZWxzZXtkZWxldGUgdmFsdWVba107fX19fQpyZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlcixrZXksdmFsdWUpO30KaWYoL15bXF0sOnt9XHNdKiQvLnRlc3QodGV4dC5yZXBsYWNlKC9cXFsiXFxcL2JmbnJ0dV0vZywnQCcpLnJlcGxhY2UoLyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLCddJykucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCcnKSkpe2o9ZXZhbCgnKCcrdGV4dCsnKScpO3JldHVybiB0eXBlb2YgcmV2aXZlcj09PSdmdW5jdGlvbic/d2Fsayh7Jyc6an0sJycpOmo7fQp0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0pTT04ucGFyc2UnKTt9LHF1b3RlOnF1b3RlfTt9KCk7fQooZnVuY3Rpb24oKXtpZih3aW5kb3cuZ29vZ2xlJiZnb29nbGUuZ2VhcnMpCnJldHVybjt2YXIgRj1udWxsO2lmKHR5cGVvZiBHZWFyc0ZhY3RvcnkhPSd1bmRlZmluZWQnKXtGPW5ldyBHZWFyc0ZhY3RvcnkoKTt9ZWxzZXt0cnl7Rj1uZXcgQWN0aXZlWE9iamVjdCgnR2VhcnMuRmFjdG9yeScpO2lmKEYuZ2V0QnVpbGRJbmZvKCkuaW5kZXhPZignaWVfbW9iaWxlJykhPS0xKQpGLnByaXZhdGVTZXRHbG9iYWxPYmplY3QodGhpcyk7fWNhdGNoKGUpe2lmKCh0eXBlb2YgbmF2aWdhdG9yLm1pbWVUeXBlcyE9J3VuZGVmaW5lZCcpJiZuYXZpZ2F0b3IubWltZVR5cGVzWyJhcHBsaWNhdGlvbi94LWdvb2dsZWdlYXJzIl0pe0Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib2JqZWN0Iik7Ri5zdHlsZS5kaXNwbGF5PSJub25lIjtGLndpZHRoPTA7Ri5oZWlnaHQ9MDtGLnR5cGU9ImFwcGxpY2F0aW9uL3gtZ29vZ2xlZ2VhcnMiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChGKTt9fX0KaWYoIUYpCnJldHVybjtpZighd2luZG93Lmdvb2dsZSkKZ29vZ2xlPXt9O2lmKCFnb29nbGUuZ2VhcnMpCmdvb2dsZS5nZWFycz17ZmFjdG9yeTpGfTt9KSgpO1BlcnNpc3Q9KGZ1bmN0aW9uKCl7dmFyIFZFUlNJT049JzAuMi4wJyxQLEIsZXNjLGluaXQsZW1wdHksZWM7ZWM9KGZ1bmN0aW9uKCl7dmFyIEVQT0NIPSdUaHUsIDAxLUphbi0xOTcwIDAwOjAwOjAxIEdNVCcsUkFUSU89MTAwMCo2MCo2MCoyNCxLRVlTPVsnZXhwaXJlcycsJ3BhdGgnLCdkb21haW4nXSxlc2M9ZXNjYXBlLHVuPXVuZXNjYXBlLGRvYz1kb2N1bWVudCxtZTt2YXIgZ2V0X25vdz1mdW5jdGlvbigpe3ZhciByPW5ldyBEYXRlKCk7ci5zZXRUaW1lKHIuZ2V0VGltZSgpKTtyZXR1cm4gcjt9CnZhciBjb29raWZ5PWZ1bmN0aW9uKGNfa2V5LGNfdmFsKXt2YXIgaSxrZXksdmFsLHI9W10sb3B0PShhcmd1bWVudHMubGVuZ3RoPjIpP2FyZ3VtZW50c1syXTp7fTtyLnB1c2goZXNjKGNfa2V5KSsnPScrZXNjKGNfdmFsKSk7Zm9yKGk9MDtpPEtFWVMubGVuZ3RoO2krKyl7a2V5PUtFWVNbaV07aWYodmFsPW9wdFtrZXldKQpyLnB1c2goa2V5Kyc9Jyt2YWwpO30KaWYob3B0LnNlY3VyZSkKci5wdXNoKCdzZWN1cmUnKTtyZXR1cm4gci5qb2luKCc7ICcpO30KdmFyIGFsaXZlPWZ1bmN0aW9uKCl7dmFyIGs9J19fRUNfVEVTVF9fJyx2PW5ldyBEYXRlKCk7dj12LnRvR01UU3RyaW5nKCk7dGhpcy5zZXQoayx2KTt0aGlzLmVuYWJsZWQ9KHRoaXMucmVtb3ZlKGspPT12KTtyZXR1cm4gdGhpcy5lbmFibGVkO30KbWU9e3NldDpmdW5jdGlvbihrZXksdmFsKXt2YXIgb3B0PShhcmd1bWVudHMubGVuZ3RoPjIpP2FyZ3VtZW50c1syXTp7fSxub3c9Z2V0X25vdygpLGV4cGlyZV9hdCxjZmc9e307aWYob3B0LmV4cGlyZXMpe29wdC5leHBpcmVzKj1SQVRJTztjZmcuZXhwaXJlcz1uZXcgRGF0ZShub3cuZ2V0VGltZSgpK29wdC5leHBpcmVzKTtjZmcuZXhwaXJlcz1jZmcuZXhwaXJlcy50b0dNVFN0cmluZygpO30KdmFyIGtleXM9WydwYXRoJywnZG9tYWluJywnc2VjdXJlJ107Zm9yKGk9MDtpPGtleXMubGVuZ3RoO2krKykKaWYob3B0W2tleXNbaV1dKQpjZmdba2V5c1tpXV09b3B0W2tleXNbaV1dO3ZhciByPWNvb2tpZnkoa2V5LHZhbCxjZmcpO2RvYy5jb29raWU9cjtyZXR1cm4gdmFsO30saGFzOmZ1bmN0aW9uKGtleSl7a2V5PWVzYyhrZXkpO3ZhciBjPWRvYy5jb29raWUsb2ZzPWMuaW5kZXhPZihrZXkrJz0nKSxsZW49b2ZzK2tleS5sZW5ndGgrMSxzdWI9Yy5zdWJzdHJpbmcoMCxrZXkubGVuZ3RoKTtyZXR1cm4oKCFvZnMmJmtleSE9c3ViKXx8b2ZzPDApP2ZhbHNlOnRydWU7fSxnZXQ6ZnVuY3Rpb24oa2V5KXtrZXk9ZXNjKGtleSk7dmFyIGM9ZG9jLmNvb2tpZSxvZnM9Yy5pbmRleE9mKGtleSsnPScpLGxlbj1vZnMra2V5Lmxlbmd0aCsxLHN1Yj1jLnN1YnN0cmluZygwLGtleS5sZW5ndGgpLGVuZDtpZigoIW9mcyYma2V5IT1zdWIpfHxvZnM8MCkKcmV0dXJuIG51bGw7ZW5kPWMuaW5kZXhPZignOycsbGVuKTtpZihlbmQ8MCkKZW5kPWMubGVuZ3RoO3JldHVybiB1bihjLnN1YnN0cmluZyhsZW4sZW5kKSk7fSxyZW1vdmU6ZnVuY3Rpb24oayl7dmFyIHI9bWUuZ2V0KGspLG9wdD17ZXhwaXJlczpFUE9DSH07ZG9jLmNvb2tpZT1jb29raWZ5KGssJycsb3B0KTtyZXR1cm4gcjt9LGtleXM6ZnVuY3Rpb24oKXt2YXIgYz1kb2MuY29va2llLHBzPWMuc3BsaXQoJzsgJyksaSxwLHI9W107Zm9yKGk9MDtpPHBzLmxlbmd0aDtpKyspe3A9cHNbaV0uc3BsaXQoJz0nKTtyLnB1c2godW4ocFswXSkpO30KcmV0dXJuIHI7fSxhbGw6ZnVuY3Rpb24oKXt2YXIgYz1kb2MuY29va2llLHBzPWMuc3BsaXQoJzsgJyksaSxwLHI9W107Zm9yKGk9MDtpPHBzLmxlbmd0aDtpKyspe3A9cHNbaV0uc3BsaXQoJz0nKTtyLnB1c2goW3VuKHBbMF0pLHVuKHBbMV0pXSk7fQpyZXR1cm4gcjt9LHZlcnNpb246JzAuMi4xJyxlbmFibGVkOmZhbHNlfTttZS5lbmFibGVkPWFsaXZlLmNhbGwobWUpO3JldHVybiBtZTt9KCkpO3ZhciBpbmRleF9vZj0oZnVuY3Rpb24oKXtpZihBcnJheS5wcm90b3R5cGUuaW5kZXhPZikKcmV0dXJuIGZ1bmN0aW9uKGFyeSx2YWwpe3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFyeSx2YWwpO307ZWxzZQpyZXR1cm4gZnVuY3Rpb24oYXJ5LHZhbCl7dmFyIGksbDtmb3IoaT0wLGw9YXJ5Lmxlbmd0aDtpPGw7aSsrKQppZihhcnlbaV09PXZhbCkKcmV0dXJuIGk7cmV0dXJuLTE7fTt9KSgpO2VtcHR5PWZ1bmN0aW9uKCl7fTtlc2M9ZnVuY3Rpb24oc3RyKXtyZXR1cm4nUFMnK3N0ci5yZXBsYWNlKC9fL2csJ19fJykucmVwbGFjZSgvIC9nLCdfcycpO307Qz17c2VhcmNoX29yZGVyOlsnbG9jYWxzdG9yYWdlJywnd2hhdHdnX2RiJywnZ2xvYmFsc3RvcmFnZScsJ2dlYXJzJywnaWUnLCdmbGFzaCcsJ2Nvb2tpZSddLG5hbWVfcmU6L15bYS16XVthLXowLTlfIC1dKyQvaSxtZXRob2RzOlsnaW5pdCcsJ2dldCcsJ3NldCcsJ3JlbW92ZScsJ2xvYWQnLCdzYXZlJ10sc3FsOnt2ZXJzaW9uOicxJyxjcmVhdGU6IkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHBlcnNpc3RfZGF0YSAoayBURVhUIFVOSVFVRSBOT1QgTlVMTCBQUklNQVJZIEtFWSwgdiBURVhUIE5PVCBOVUxMKSIsZ2V0OiJTRUxFQ1QgdiBGUk9NIHBlcnNpc3RfZGF0YSBXSEVSRSBrID0gPyIsc2V0OiJJTlNFUlQgSU5UTyBwZXJzaXN0X2RhdGEoaywgdikgVkFMVUVTICg/LCA/KSIscmVtb3ZlOiJERUxFVEUgRlJPTSBwZXJzaXN0X2RhdGEgV0hFUkUgayA9ID8ifSxmbGFzaDp7ZGl2X2lkOidfcGVyc2lzdF9mbGFzaF93cmFwJyxpZDonX3BlcnNpc3RfZmxhc2gnLHBhdGg6J3BlcnNpc3Quc3dmJyxzaXplOnt3OjEsaDoxfSxhcmdzOnthdXRvc3RhcnQ6dHJ1ZX19fTtCPXtnZWFyczp7c2l6ZTotMSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuKHdpbmRvdy5nb29nbGUmJndpbmRvdy5nb29nbGUuZ2VhcnMpP3RydWU6ZmFsc2U7fSxtZXRob2RzOnt0cmFuc2FjdGlvbjpmdW5jdGlvbihmbil7dmFyIGRiPXRoaXMuZGI7ZGIuZXhlY3V0ZSgnQkVHSU4nKS5jbG9zZSgpO2ZuLmNhbGwodGhpcyxkYik7ZGIuZXhlY3V0ZSgnQ09NTUlUJykuY2xvc2UoKTt9LGluaXQ6ZnVuY3Rpb24oKXt2YXIgZGI7ZGI9dGhpcy5kYj1nb29nbGUuZ2VhcnMuZmFjdG9yeS5jcmVhdGUoJ2JldGEuZGF0YWJhc2UnKTtkYi5vcGVuKGVzYyh0aGlzLm5hbWUpKTtkYi5leGVjdXRlKEMuc3FsLmNyZWF0ZSkuY2xvc2UoKTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciByLHNxbD1DLnNxbC5nZXQ7aWYoIWZuKQpyZXR1cm47dGhpcy50cmFuc2FjdGlvbihmdW5jdGlvbih0KXt2YXIgaXNfdmFsaWQsdmFsO3I9dC5leGVjdXRlKHNxbCxba2V5XSk7aXNfdmFsaWQ9ci5pc1ZhbGlkUm93KCk7dmFsPWlzX3ZhbGlkP3IuZmllbGQoMCk6bnVsbDtyLmNsb3NlKCk7Zm4uY2FsbChzY29wZXx8dGhpcyxpc192YWxpZCx2YWwpO30pO30sc2V0OmZ1bmN0aW9uKGtleSx2YWwsZm4sc2NvcGUpe3ZhciBybV9zcWw9Qy5zcWwucmVtb3ZlLHNxbD1DLnNxbC5zZXQscjt0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZShybV9zcWwsW2tleV0pLmNsb3NlKCk7dC5leGVjdXRlKHNxbCxba2V5LHZhbF0pLmNsb3NlKCk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdHJ1ZSx2YWwpO30pO30scmVtb3ZlOmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIGdldF9zcWw9Qy5zcWwuZ2V0O3NxbD1DLnNxbC5yZW1vdmUscix2YWw9bnVsbCxpc192YWxpZD1mYWxzZTt0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe2lmKGZuKXtyPXQuZXhlY3V0ZShnZXRfc3FsLFtrZXldKTtpc192YWxpZD1yLmlzVmFsaWRSb3coKTt2YWw9aXNfdmFsaWQ/ci5maWVsZCgwKTpudWxsO3IuY2xvc2UoKTt9CmlmKCFmbnx8aXNfdmFsaWQpe3QuZXhlY3V0ZShzcWwsW2tleV0pLmNsb3NlKCk7fQppZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyxpc192YWxpZCx2YWwpO30pO319fSx3aGF0d2dfZGI6e3NpemU6MjAwKjEwMjQsdGVzdDpmdW5jdGlvbigpe3ZhciBuYW1lPSdQZXJzaXN0SlMgVGVzdCcsZGVzYz0nUGVyc2lzdGVudCBkYXRhYmFzZSB0ZXN0Lic7aWYoIXdpbmRvdy5vcGVuRGF0YWJhc2UpCnJldHVybiBmYWxzZTtpZighd2luZG93Lm9wZW5EYXRhYmFzZShuYW1lLEMuc3FsLnZlcnNpb24sZGVzYyxCLndoYXR3Z19kYi5zaXplKSkKcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlO30sbWV0aG9kczp7dHJhbnNhY3Rpb246ZnVuY3Rpb24oZm4pe2lmKCF0aGlzLmRiX2NyZWF0ZWQpe3RoaXMuZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKEMuc3FsLmNyZWF0ZSxbXSxmdW5jdGlvbigpe3RoaXMuZGJfY3JlYXRlZD10cnVlO30pO30sZW1wdHkpO30KdGhpcy5kYi50cmFuc2FjdGlvbihmbik7fSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5kYj1vcGVuRGF0YWJhc2UodGhpcy5uYW1lLEMuc3FsLnZlcnNpb24sdGhpcy5vLmFib3V0fHwoIlBlcnNpc3RlbnQgc3RvcmFnZSBmb3IgIit0aGlzLm5hbWUpLHRoaXMuby5zaXplfHxCLndoYXR3Z19kYi5zaXplKTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciBzcWw9Qy5zcWwuZ2V0O2lmKCFmbikKcmV0dXJuO3Njb3BlPXNjb3BlfHx0aGlzO3RoaXMudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKHNxbCxba2V5XSxmdW5jdGlvbih0LHIpe2lmKHIucm93cy5sZW5ndGg+MCkKZm4uY2FsbChzY29wZSx0cnVlLHIucm93cy5pdGVtKDApWyd2J10pO2Vsc2UKZm4uY2FsbChzY29wZSxmYWxzZSxudWxsKTt9KTt9KTt9LHNldDpmdW5jdGlvbihrZXksdmFsLGZuLHNjb3BlKXt2YXIgcm1fc3FsPUMuc3FsLnJlbW92ZSxzcWw9Qy5zcWwuc2V0O3RoaXMudHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKHJtX3NxbCxba2V5XSxmdW5jdGlvbigpe3QuZXhlY3V0ZVNxbChzcWwsW2tleSx2YWxdLGZ1bmN0aW9uKHQscil7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdHJ1ZSx2YWwpO30pO30pO30pO3JldHVybiB2YWw7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LGZuLHNjb3BlKXt2YXIgZ2V0X3NxbD1DLnNxbC5nZXQ7c3FsPUMuc3FsLnJlbW92ZTt0aGlzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe2lmKGZuKXt0LmV4ZWN1dGVTcWwoZ2V0X3NxbCxba2V5XSxmdW5jdGlvbih0LHIpe2lmKHIucm93cy5sZW5ndGg+MCl7dmFyIHZhbD1yLnJvd3MuaXRlbSgwKVsndiddO3QuZXhlY3V0ZVNxbChzcWwsW2tleV0sZnVuY3Rpb24odCxyKXtmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdmFsKTt9KTt9ZWxzZXtmbi5jYWxsKHNjb3BlfHx0aGlzLGZhbHNlLG51bGwpO319KTt9ZWxzZXt0LmV4ZWN1dGVTcWwoc3FsLFtrZXldKTt9fSk7fX19LGdsb2JhbHN0b3JhZ2U6e3NpemU6NSoxMDI0KjEwMjQsdGVzdDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuZ2xvYmFsU3RvcmFnZT90cnVlOmZhbHNlO30sbWV0aG9kczp7a2V5OmZ1bmN0aW9uKGtleSl7cmV0dXJuIGVzYyh0aGlzLm5hbWUpK2VzYyhrZXkpO30saW5pdDpmdW5jdGlvbigpe2FsZXJ0KCdkb21haW4gPSAnK3RoaXMuby5kb21haW4pO3RoaXMuc3RvcmU9Z2xvYmFsU3RvcmFnZVt0aGlzLm8uZG9tYWluXTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdGhpcy5zdG9yZS5nZXRJdGVtKGtleSkpO30sc2V0OmZ1bmN0aW9uKGtleSx2YWwsZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO3RoaXMuc3RvcmUuc2V0SXRlbShrZXksdmFsKTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyx0cnVlLHZhbCk7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LGZuLHNjb3BlKXt2YXIgdmFsO2tleT10aGlzLmtleShrZXkpO3ZhbD10aGlzLnN0b3JlW2tleV07dGhpcy5zdG9yZS5yZW1vdmVJdGVtKGtleSk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsKHZhbCE9PW51bGwpLHZhbCk7fX19LGxvY2Fsc3RvcmFnZTp7c2l6ZTotMSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U/dHJ1ZTpmYWxzZTt9LG1ldGhvZHM6e2tleTpmdW5jdGlvbihrZXkpe3JldHVybiBlc2ModGhpcy5uYW1lKStlc2Moa2V5KTt9LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnN0b3JlPWxvY2FsU3RvcmFnZTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdGhpcy5zdG9yZS5nZXRJdGVtKGtleSkpO30sc2V0OmZ1bmN0aW9uKGtleSx2YWwsZm4sc2NvcGUpe2tleT10aGlzLmtleShrZXkpO3RoaXMuc3RvcmUuc2V0SXRlbShrZXksdmFsKTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyx0cnVlLHZhbCk7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LGZuLHNjb3BlKXt2YXIgdmFsO2tleT10aGlzLmtleShrZXkpO3ZhbD10aGlzLnN0b3JlLmdldEl0ZW0oa2V5KTt0aGlzLnN0b3JlLnJlbW92ZUl0ZW0oa2V5KTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcywodmFsIT09bnVsbCksdmFsKTt9fX0saWU6e3ByZWZpeDonX3BlcnNpc3RfZGF0YS0nLHNpemU6NjQqMTAyNCx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5BY3RpdmVYT2JqZWN0P3RydWU6ZmFsc2U7fSxtYWtlX3VzZXJkYXRhOmZ1bmN0aW9uKGlkKXt2YXIgZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ZWwuaWQ9aWQ7ZWwuc3R5bGUuZGlzcGxheT0nbm9uZSc7ZWwuYWRkQmVoYXZpb3IoJyNkZWZhdWx0I3VzZXJkYXRhJyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7cmV0dXJuIGVsO30sbWV0aG9kczp7aW5pdDpmdW5jdGlvbigpe3ZhciBpZD1CLmllLnByZWZpeCtlc2ModGhpcy5uYW1lKTt0aGlzLmVsPUIuaWUubWFrZV91c2VyZGF0YShpZCk7aWYodGhpcy5vLmRlZmVyKQp0aGlzLmxvYWQoKTt9LGdldDpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciB2YWw7a2V5PWVzYyhrZXkpO2lmKCF0aGlzLm8uZGVmZXIpCnRoaXMubG9hZCgpO3ZhbD10aGlzLmVsLmdldEF0dHJpYnV0ZShrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHZhbD90cnVlOmZhbHNlLHZhbCk7fSxzZXQ6ZnVuY3Rpb24oa2V5LHZhbCxmbixzY29wZSl7a2V5PWVzYyhrZXkpO3RoaXMuZWwuc2V0QXR0cmlidXRlKGtleSx2YWwpO2lmKCF0aGlzLm8uZGVmZXIpCnRoaXMuc2F2ZSgpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdmFsKTt9LHJlbW92ZTpmdW5jdGlvbihrZXksZm4sc2NvcGUpe3ZhciB2YWw7a2V5PWVzYyhrZXkpO2lmKCF0aGlzLm8uZGVmZXIpCnRoaXMubG9hZCgpO3ZhbD10aGlzLmVsLmdldEF0dHJpYnV0ZShrZXkpO3RoaXMuZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7aWYoIXRoaXMuby5kZWZlcikKdGhpcy5zYXZlKCk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdmFsP3RydWU6ZmFsc2UsdmFsKTt9LGxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsLmxvYWQoZXNjKHRoaXMubmFtZSkpO30sc2F2ZTpmdW5jdGlvbigpe3RoaXMuZWwuc2F2ZShlc2ModGhpcy5uYW1lKSk7fX19LGNvb2tpZTp7ZGVsaW06JzonLHNpemU6NDAwMCx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIFAuQ29va2llLmVuYWJsZWQ/dHJ1ZTpmYWxzZTt9LG1ldGhvZHM6e2tleTpmdW5jdGlvbihrZXkpe3JldHVybiB0aGlzLm5hbWUrQi5jb29raWUuZGVsaW0ra2V5O30sZ2V0OmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIHZhbDtrZXk9dGhpcy5rZXkoa2V5KTt2YWw9ZWMuZ2V0KGtleSk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdmFsIT1udWxsLHZhbCk7fSxzZXQ6ZnVuY3Rpb24oa2V5LHZhbCxmbixzY29wZSl7a2V5PXRoaXMua2V5KGtleSk7ZWMuc2V0KGtleSx2YWwsdGhpcy5vKTtpZihmbikKZm4uY2FsbChzY29wZXx8dGhpcyx0cnVlLHZhbCk7fSxyZW1vdmU6ZnVuY3Rpb24oa2V5LHZhbCxmbixzY29wZSl7dmFyIHZhbDtrZXk9dGhpcy5rZXkoa2V5KTt2YWw9ZWMucmVtb3ZlKGtleSkKaWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdmFsIT1udWxsLHZhbCk7fX19LGZsYXNoOnt0ZXN0OmZ1bmN0aW9uKCl7aWYoIWRlY29uY2VwdHx8IWRlY29uY2VwdC5TV0ZPYmplY3RVdGlsKQpyZXR1cm4gZmFsc2U7dmFyIG1ham9yPWRlY29uY2VwdC5TV0ZPYmplY3RVdGlsLmdldFBsYXllclZlcnNpb24oKS5tYWpvcjtyZXR1cm4obWFqb3I+PTgpP3RydWU6ZmFsc2U7fSxtZXRob2RzOntpbml0OmZ1bmN0aW9uKCl7aWYoIUIuZmxhc2guZWwpe3ZhciBvLGtleSxlbCxjZmc9Qy5mbGFzaDtlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtlbC5pZD1jZmcuZGl2X2lkO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO289bmV3IGRlY29uY2VwdC5TV0ZPYmplY3QodGhpcy5vLnN3Zl9wYXRofHxjZmcucGF0aCxjZmcuaWQsY2ZnLnNpemUudyxjZmcuc2l6ZS5oLCc4Jyk7Zm9yKGtleSBpbiBjZmcuYXJncykKby5hZGRWYXJpYWJsZShrZXksY2ZnLmFyZ3Nba2V5XSk7by53cml0ZShlbCk7Qi5mbGFzaC5lbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjZmcuaWQpO30KdGhpcy5lbD1CLmZsYXNoLmVsO30sZ2V0OmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIHZhbDtrZXk9ZXNjKGtleSk7dmFsPXRoaXMuZWwuZ2V0KHRoaXMubmFtZSxrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHZhbCE9PW51bGwsdmFsKTt9LHNldDpmdW5jdGlvbihrZXksdmFsLGZuLHNjb3BlKXt2YXIgb2xkX3ZhbDtrZXk9ZXNjKGtleSk7b2xkX3ZhbD10aGlzLmVsLnNldCh0aGlzLm5hbWUsa2V5LHZhbCk7aWYoZm4pCmZuLmNhbGwoc2NvcGV8fHRoaXMsdHJ1ZSx2YWwpO30scmVtb3ZlOmZ1bmN0aW9uKGtleSxmbixzY29wZSl7dmFyIHZhbDtrZXk9ZXNjKGtleSk7dmFsPXRoaXMuZWwucmVtb3ZlKHRoaXMubmFtZSxrZXkpO2lmKGZuKQpmbi5jYWxsKHNjb3BlfHx0aGlzLHRydWUsdmFsKTt9fX19O3ZhciBpbml0PWZ1bmN0aW9uKCl7dmFyIGksbCxiLGtleSxmbnM9Qy5tZXRob2RzLGtleXM9Qy5zZWFyY2hfb3JkZXI7Zm9yKGk9MCxsPWZucy5sZW5ndGg7aTxsO2krKykKUC5TdG9yZS5wcm90b3R5cGVbZm5zW2ldXT1lbXB0eTtQLnR5cGU9bnVsbDtQLnNpemU9LTE7Zm9yKGk9MCxsPWtleXMubGVuZ3RoOyFQLnR5cGUmJmk8bDtpKyspe2I9QltrZXlzW2ldXTtpZihiLnRlc3QoKSl7UC50eXBlPWtleXNbaV07UC5zaXplPWIuc2l6ZTtmb3Ioa2V5IGluIGIubWV0aG9kcykKUC5TdG9yZS5wcm90b3R5cGVba2V5XT1iLm1ldGhvZHNba2V5XTt9fQpQLl9pbml0PXRydWU7fTtQPXtWRVJTSU9OOlZFUlNJT04sdHlwZTpudWxsLHNpemU6MCxhZGQ6ZnVuY3Rpb24obyl7QltvLmlkXT1vO0Muc2VhcmNoX29yZGVyPVtvLmlkXS5jb25jYXQoQy5zZWFyY2hfb3JkZXIpO2luaXQoKTt9LHJlbW92ZTpmdW5jdGlvbihpZCl7dmFyIG9mcz1pbmRleF9vZihDLnNlYXJjaF9vcmRlcixpZCk7aWYob2ZzPDApCnJldHVybjtDLnNlYXJjaF9vcmRlci5zcGxpY2Uob2ZzLDEpO2RlbGV0ZSBCW2lkXTtpbml0KCk7fSxDb29raWU6ZWMsU3RvcmU6ZnVuY3Rpb24obmFtZSxvKXtpZighQy5uYW1lX3JlLmV4ZWMobmFtZSkpCnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBuYW1lIik7aWYoIVAudHlwZSkKdGhyb3cgbmV3IEVycm9yKCJObyBzdWl0YWJsZSBzdG9yYWdlIGZvdW5kIik7bz1vfHx7fTt0aGlzLm5hbWU9bmFtZTtvLmRvbWFpbj1vLmRvbWFpbnx8bG9jYXRpb24uaG9zdHx8J2xvY2FsaG9zdCc7by5kb21haW49by5kb21haW4ucmVwbGFjZSgvOlxkKyQvLCcnKQp0aGlzLm89bztvLmV4cGlyZXM9by5leHBpcmVzfHwzNjUqMjtvLnBhdGg9by5wYXRofHwnLyc7dGhpcy5pbml0KCk7fX07aW5pdCgpO3JldHVybiBQO30pKCk7aWYodHlwZW9mIGRlY29uY2VwdD09InVuZGVmaW5lZCIpdmFyIGRlY29uY2VwdD1uZXcgT2JqZWN0KCk7aWYodHlwZW9mIGRlY29uY2VwdC51dGlsPT0idW5kZWZpbmVkIilkZWNvbmNlcHQudXRpbD1uZXcgT2JqZWN0KCk7aWYodHlwZW9mIGRlY29uY2VwdC5TV0ZPYmplY3RVdGlsPT0idW5kZWZpbmVkIilkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbD1uZXcgT2JqZWN0KCk7ZGVjb25jZXB0LlNXRk9iamVjdD1mdW5jdGlvbihzd2YsaWQsdyxoLHZlcixjLHF1YWxpdHkseGlSZWRpcmVjdFVybCxyZWRpcmVjdFVybCxkZXRlY3RLZXkpe2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCl7cmV0dXJuO30KdGhpcy5ERVRFQ1RfS0VZPWRldGVjdEtleT9kZXRlY3RLZXk6J2RldGVjdGZsYXNoJzt0aGlzLnNraXBEZXRlY3Q9ZGVjb25jZXB0LnV0aWwuZ2V0UmVxdWVzdFBhcmFtZXRlcih0aGlzLkRFVEVDVF9LRVkpO3RoaXMucGFyYW1zPW5ldyBPYmplY3QoKTt0aGlzLnZhcmlhYmxlcz1uZXcgT2JqZWN0KCk7dGhpcy5hdHRyaWJ1dGVzPW5ldyBBcnJheSgpO2lmKHN3Zil7dGhpcy5zZXRBdHRyaWJ1dGUoJ3N3Zicsc3dmKTt9CmlmKGlkKXt0aGlzLnNldEF0dHJpYnV0ZSgnaWQnLGlkKTt9CmlmKHcpe3RoaXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsdyk7fQppZihoKXt0aGlzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxoKTt9CmlmKHZlcil7dGhpcy5zZXRBdHRyaWJ1dGUoJ3ZlcnNpb24nLG5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbih2ZXIudG9TdHJpbmcoKS5zcGxpdCgiLiIpKSk7fQp0aGlzLmluc3RhbGxlZFZlcj1kZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uKCk7aWYoIXdpbmRvdy5vcGVyYSYmZG9jdW1lbnQuYWxsJiZ0aGlzLmluc3RhbGxlZFZlci5tYWpvcj43KXtkZWNvbmNlcHQuU1dGT2JqZWN0LmRvUHJlcFVubG9hZD10cnVlO30KaWYoYyl7dGhpcy5hZGRQYXJhbSgnYmdjb2xvcicsYyk7fQp2YXIgcT1xdWFsaXR5P3F1YWxpdHk6J2hpZ2gnO3RoaXMuYWRkUGFyYW0oJ3F1YWxpdHknLHEpO3RoaXMuc2V0QXR0cmlidXRlKCd1c2VFeHByZXNzSW5zdGFsbCcsZmFsc2UpO3RoaXMuc2V0QXR0cmlidXRlKCdkb0V4cHJlc3NJbnN0YWxsJyxmYWxzZSk7dmFyIHhpcj0oeGlSZWRpcmVjdFVybCk/eGlSZWRpcmVjdFVybDp3aW5kb3cubG9jYXRpb247dGhpcy5zZXRBdHRyaWJ1dGUoJ3hpUmVkaXJlY3RVcmwnLHhpcik7dGhpcy5zZXRBdHRyaWJ1dGUoJ3JlZGlyZWN0VXJsJywnJyk7aWYocmVkaXJlY3RVcmwpe3RoaXMuc2V0QXR0cmlidXRlKCdyZWRpcmVjdFVybCcscmVkaXJlY3RVcmwpO319CmRlY29uY2VwdC5TV0ZPYmplY3QucHJvdG90eXBlPXt1c2VFeHByZXNzSW5zdGFsbDpmdW5jdGlvbihwYXRoKXt0aGlzLnhpU1dGUGF0aD0hcGF0aD8iZXhwcmVzc2luc3RhbGwuc3dmIjpwYXRoO3RoaXMuc2V0QXR0cmlidXRlKCd1c2VFeHByZXNzSW5zdGFsbCcsdHJ1ZSk7fSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7dGhpcy5hdHRyaWJ1dGVzW25hbWVdPXZhbHVlO30sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07fSxhZGRQYXJhbTpmdW5jdGlvbihuYW1lLHZhbHVlKXt0aGlzLnBhcmFtc1tuYW1lXT12YWx1ZTt9LGdldFBhcmFtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmFtczt9LGFkZFZhcmlhYmxlOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3RoaXMudmFyaWFibGVzW25hbWVdPXZhbHVlO30sZ2V0VmFyaWFibGU6ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHRoaXMudmFyaWFibGVzW25hbWVdO30sZ2V0VmFyaWFibGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFyaWFibGVzO30sZ2V0VmFyaWFibGVQYWlyczpmdW5jdGlvbigpe3ZhciB2YXJpYWJsZVBhaXJzPW5ldyBBcnJheSgpO3ZhciBrZXk7dmFyIHZhcmlhYmxlcz10aGlzLmdldFZhcmlhYmxlcygpO2ZvcihrZXkgaW4gdmFyaWFibGVzKXt2YXJpYWJsZVBhaXJzLnB1c2goa2V5KyI9Iit2YXJpYWJsZXNba2V5XSk7fQpyZXR1cm4gdmFyaWFibGVQYWlyczt9LGdldFNXRkhUTUw6ZnVuY3Rpb24oKXt2YXIgc3dmTm9kZT0iIjtpZihuYXZpZ2F0b3IucGx1Z2lucyYmbmF2aWdhdG9yLm1pbWVUeXBlcyYmbmF2aWdhdG9yLm1pbWVUeXBlcy5sZW5ndGgpe2lmKHRoaXMuZ2V0QXR0cmlidXRlKCJkb0V4cHJlc3NJbnN0YWxsIikpe3RoaXMuYWRkVmFyaWFibGUoIk1NcGxheWVyVHlwZSIsIlBsdWdJbiIpO3RoaXMuc2V0QXR0cmlidXRlKCdzd2YnLHRoaXMueGlTV0ZQYXRoKTt9CnN3Zk5vZGU9JzxlbWJlZCB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgc3JjPSInK3RoaXMuZ2V0QXR0cmlidXRlKCdzd2YnKSsnIiB3aWR0aD0iJyt0aGlzLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSsnIiBoZWlnaHQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKyciJztzd2ZOb2RlKz0nIGlkPSInK3RoaXMuZ2V0QXR0cmlidXRlKCdpZCcpKyciIG5hbWU9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2lkJykrJyIgJzt2YXIgcGFyYW1zPXRoaXMuZ2V0UGFyYW1zKCk7Zm9yKHZhciBrZXkgaW4gcGFyYW1zKXtzd2ZOb2RlKz1ba2V5XSsnPSInK3BhcmFtc1trZXldKyciICc7fQp2YXIgcGFpcnM9dGhpcy5nZXRWYXJpYWJsZVBhaXJzKCkuam9pbigiJiIpO2lmKHBhaXJzLmxlbmd0aD4wKXtzd2ZOb2RlKz0nZmxhc2h2YXJzPSInK3BhaXJzKyciJzt9CnN3Zk5vZGUrPScvPic7fWVsc2V7aWYodGhpcy5nZXRBdHRyaWJ1dGUoImRvRXhwcmVzc0luc3RhbGwiKSl7dGhpcy5hZGRWYXJpYWJsZSgiTU1wbGF5ZXJUeXBlIiwiQWN0aXZlWCIpO3RoaXMuc2V0QXR0cmlidXRlKCdzd2YnLHRoaXMueGlTV0ZQYXRoKTt9CnN3Zk5vZGU9JzxvYmplY3QgaWQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2lkJykrJyIgY2xhc3NpZD0iY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIiB3aWR0aD0iJyt0aGlzLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSsnIiBoZWlnaHQ9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKyciPic7c3dmTm9kZSs9JzxwYXJhbSBuYW1lPSJtb3ZpZSIgdmFsdWU9IicrdGhpcy5nZXRBdHRyaWJ1dGUoJ3N3ZicpKyciIC8+Jzt2YXIgcGFyYW1zPXRoaXMuZ2V0UGFyYW1zKCk7Zm9yKHZhciBrZXkgaW4gcGFyYW1zKXtzd2ZOb2RlKz0nPHBhcmFtIG5hbWU9Iicra2V5KyciIHZhbHVlPSInK3BhcmFtc1trZXldKyciIC8+Jzt9CnZhciBwYWlycz10aGlzLmdldFZhcmlhYmxlUGFpcnMoKS5qb2luKCImIik7aWYocGFpcnMubGVuZ3RoPjApe3N3Zk5vZGUrPSc8cGFyYW0gbmFtZT0iZmxhc2h2YXJzIiB2YWx1ZT0iJytwYWlycysnIiAvPic7fQpzd2ZOb2RlKz0iPC9vYmplY3Q+Ijt9CnJldHVybiBzd2ZOb2RlO30sd3JpdGU6ZnVuY3Rpb24oZWxlbWVudElkKXtpZih0aGlzLmdldEF0dHJpYnV0ZSgndXNlRXhwcmVzc0luc3RhbGwnKSl7dmFyIGV4cHJlc3NJbnN0YWxsUmVxVmVyPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihbNiwwLDY1XSk7aWYodGhpcy5pbnN0YWxsZWRWZXIudmVyc2lvbklzVmFsaWQoZXhwcmVzc0luc3RhbGxSZXFWZXIpJiYhdGhpcy5pbnN0YWxsZWRWZXIudmVyc2lvbklzVmFsaWQodGhpcy5nZXRBdHRyaWJ1dGUoJ3ZlcnNpb24nKSkpe3RoaXMuc2V0QXR0cmlidXRlKCdkb0V4cHJlc3NJbnN0YWxsJyx0cnVlKTt0aGlzLmFkZFZhcmlhYmxlKCJNTXJlZGlyZWN0VVJMIixlc2NhcGUodGhpcy5nZXRBdHRyaWJ1dGUoJ3hpUmVkaXJlY3RVcmwnKSkpO2RvY3VtZW50LnRpdGxlPWRvY3VtZW50LnRpdGxlLnNsaWNlKDAsNDcpKyIgLSBGbGFzaCBQbGF5ZXIgSW5zdGFsbGF0aW9uIjt0aGlzLmFkZFZhcmlhYmxlKCJNTWRvY3RpdGxlIixkb2N1bWVudC50aXRsZSk7fX0KaWYodGhpcy5za2lwRGV0ZWN0fHx0aGlzLmdldEF0dHJpYnV0ZSgnZG9FeHByZXNzSW5zdGFsbCcpfHx0aGlzLmluc3RhbGxlZFZlci52ZXJzaW9uSXNWYWxpZCh0aGlzLmdldEF0dHJpYnV0ZSgndmVyc2lvbicpKSl7dmFyIG49KHR5cGVvZiBlbGVtZW50SWQ9PSdzdHJpbmcnKT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpOmVsZW1lbnRJZDtuLmlubmVySFRNTD10aGlzLmdldFNXRkhUTUwoKTtyZXR1cm4gdHJ1ZTt9ZWxzZXtpZih0aGlzLmdldEF0dHJpYnV0ZSgncmVkaXJlY3RVcmwnKSE9IiIpe2RvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UodGhpcy5nZXRBdHRyaWJ1dGUoJ3JlZGlyZWN0VXJsJykpO319CnJldHVybiBmYWxzZTt9fQpkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5nZXRQbGF5ZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIFBsYXllclZlcnNpb249bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKFswLDAsMF0pO2lmKG5hdmlnYXRvci5wbHVnaW5zJiZuYXZpZ2F0b3IubWltZVR5cGVzLmxlbmd0aCl7dmFyIHg9bmF2aWdhdG9yLnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCJdO2lmKHgmJnguZGVzY3JpcHRpb24pe1BsYXllclZlcnNpb249bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKHguZGVzY3JpcHRpb24ucmVwbGFjZSgvKFthLXpBLVpdfFxzKSsvLCIiKS5yZXBsYWNlKC8oXHMrcnxccytiWzAtOV0rKS8sIi4iKS5zcGxpdCgiLiIpKTt9fWVsc2V7dHJ5e3ZhciBheG89bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjciKTt9Y2F0Y2goZSl7dHJ5e3ZhciBheG89bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjYiKTtQbGF5ZXJWZXJzaW9uPW5ldyBkZWNvbmNlcHQuUGxheWVyVmVyc2lvbihbNiwwLDIxXSk7YXhvLkFsbG93U2NyaXB0QWNjZXNzPSJhbHdheXMiO31jYXRjaChlKXtpZihQbGF5ZXJWZXJzaW9uLm1ham9yPT02KXtyZXR1cm4gUGxheWVyVmVyc2lvbjt9fQp0cnl7YXhvPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCIpO31jYXRjaChlKXt9fQppZihheG8hPW51bGwpe1BsYXllclZlcnNpb249bmV3IGRlY29uY2VwdC5QbGF5ZXJWZXJzaW9uKGF4by5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKS5zcGxpdCgiICIpWzFdLnNwbGl0KCIsIikpO319CnJldHVybiBQbGF5ZXJWZXJzaW9uO30KZGVjb25jZXB0LlBsYXllclZlcnNpb249ZnVuY3Rpb24oYXJyVmVyc2lvbil7dGhpcy5tYWpvcj1hcnJWZXJzaW9uWzBdIT1udWxsP3BhcnNlSW50KGFyclZlcnNpb25bMF0pOjA7dGhpcy5taW5vcj1hcnJWZXJzaW9uWzFdIT1udWxsP3BhcnNlSW50KGFyclZlcnNpb25bMV0pOjA7dGhpcy5yZXY9YXJyVmVyc2lvblsyXSE9bnVsbD9wYXJzZUludChhcnJWZXJzaW9uWzJdKTowO30KZGVjb25jZXB0LlBsYXllclZlcnNpb24ucHJvdG90eXBlLnZlcnNpb25Jc1ZhbGlkPWZ1bmN0aW9uKGZ2KXtpZih0aGlzLm1ham9yPGZ2Lm1ham9yKXJldHVybiBmYWxzZTtpZih0aGlzLm1ham9yPmZ2Lm1ham9yKXJldHVybiB0cnVlO2lmKHRoaXMubWlub3I8ZnYubWlub3IpcmV0dXJuIGZhbHNlO2lmKHRoaXMubWlub3I+ZnYubWlub3IpcmV0dXJuIHRydWU7aWYodGhpcy5yZXY8ZnYucmV2KXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTt9CmRlY29uY2VwdC51dGlsPXtnZXRSZXF1ZXN0UGFyYW1ldGVyOmZ1bmN0aW9uKHBhcmFtKXt2YXIgcT1kb2N1bWVudC5sb2NhdGlvbi5zZWFyY2h8fGRvY3VtZW50LmxvY2F0aW9uLmhhc2g7aWYocSl7dmFyIHBhaXJzPXEuc3Vic3RyaW5nKDEpLnNwbGl0KCImIik7Zm9yKHZhciBpPTA7aTxwYWlycy5sZW5ndGg7aSsrKXtpZihwYWlyc1tpXS5zdWJzdHJpbmcoMCxwYWlyc1tpXS5pbmRleE9mKCI9IikpPT1wYXJhbSl7cmV0dXJuIHBhaXJzW2ldLnN1YnN0cmluZygocGFpcnNbaV0uaW5kZXhPZigiPSIpKzEpKTt9fX0KcmV0dXJuIiI7fX0KZGVjb25jZXB0LlNXRk9iamVjdFV0aWwuY2xlYW51cFNXRnM9ZnVuY3Rpb24oKXt2YXIgb2JqZWN0cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiT0JKRUNUIik7Zm9yKHZhciBpPTA7aTxvYmplY3RzLmxlbmd0aDtpKyspe29iamVjdHNbaV0uc3R5bGUuZGlzcGxheT0nbm9uZSc7Zm9yKHZhciB4IGluIG9iamVjdHNbaV0pe2lmKHR5cGVvZiBvYmplY3RzW2ldW3hdPT0nZnVuY3Rpb24nKXtvYmplY3RzW2ldW3hdPWZ1bmN0aW9uKCl7fTt9fX19CmlmKGRlY29uY2VwdC5TV0ZPYmplY3QuZG9QcmVwVW5sb2FkKXtkZWNvbmNlcHQuU1dGT2JqZWN0VXRpbC5wcmVwVW5sb2FkPWZ1bmN0aW9uKCl7X19mbGFzaF91bmxvYWRIYW5kbGVyPWZ1bmN0aW9uKCl7fTtfX2ZsYXNoX3NhdmVkVW5sb2FkSGFuZGxlcj1mdW5jdGlvbigpe307d2luZG93LmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZGVjb25jZXB0LlNXRk9iamVjdFV0aWwuY2xlYW51cFNXRnMpO30Kd2luZG93LmF0dGFjaEV2ZW50KCJvbmJlZm9yZXVubG9hZCIsZGVjb25jZXB0LlNXRk9iamVjdFV0aWwucHJlcFVubG9hZCk7fQppZihBcnJheS5wcm90b3R5cGUucHVzaD09bnVsbCl7QXJyYXkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oaXRlbSl7dGhpc1t0aGlzLmxlbmd0aF09aXRlbTtyZXR1cm4gdGhpcy5sZW5ndGg7fX0KdmFyIGdldFF1ZXJ5UGFyYW1WYWx1ZT1kZWNvbmNlcHQudXRpbC5nZXRSZXF1ZXN0UGFyYW1ldGVyO3ZhciBGbGFzaE9iamVjdD1kZWNvbmNlcHQuU1dGT2JqZWN0O3ZhciBTV0ZPYmplY3Q9ZGVjb25jZXB0LlNXRk9iamVjdDt2YXIgYmlSYWRpeEJhc2U9Mjt2YXIgYmlSYWRpeEJpdHM9MTY7dmFyIGJpdHNQZXJEaWdpdD1iaVJhZGl4Qml0czt2YXIgYmlSYWRpeD0xPDwxNjt2YXIgYmlIYWxmUmFkaXg9YmlSYWRpeD4+PjE7dmFyIGJpUmFkaXhTcXVhcmVkPWJpUmFkaXgqYmlSYWRpeDt2YXIgbWF4RGlnaXRWYWw9YmlSYWRpeC0xO3ZhciBtYXhJbnRlZ2VyPTk5OTk5OTk5OTk5OTk5OTg7dmFyIG1heERpZ2l0czt2YXIgWkVST19BUlJBWTt2YXIgYmlnWmVybyxiaWdPbmU7ZnVuY3Rpb24gc2V0TWF4RGlnaXRzKHZhbHVlKXttYXhEaWdpdHM9dmFsdWU7WkVST19BUlJBWT1uZXcgQXJyYXkobWF4RGlnaXRzKTtmb3IodmFyIGl6YT0wO2l6YTxaRVJPX0FSUkFZLmxlbmd0aDtpemErKylaRVJPX0FSUkFZW2l6YV09MDtiaWdaZXJvPW5ldyBCaWdJbnQoKTtiaWdPbmU9bmV3IEJpZ0ludCgpO2JpZ09uZS5kaWdpdHNbMF09MTt9CnNldE1heERpZ2l0cygyMCk7dmFyIGRwbDEwPTE1O3ZhciBscjEwPWJpRnJvbU51bWJlcigxMDAwMDAwMDAwMDAwMDAwKTtmdW5jdGlvbiBCaWdJbnQoZmxhZyl7aWYodHlwZW9mIGZsYWc9PSJib29sZWFuIiYmZmxhZz09dHJ1ZSl7dGhpcy5kaWdpdHM9bnVsbDt9ZWxzZXt0aGlzLmRpZ2l0cz1aRVJPX0FSUkFZLnNsaWNlKDApO30KdGhpcy5pc05lZz1mYWxzZTt9CmZ1bmN0aW9uIGJpRnJvbURlY2ltYWwocyl7dmFyIGlzTmVnPXMuY2hhckF0KDApPT0nLSc7dmFyIGk9aXNOZWc/MTowO3ZhciByZXN1bHQ7d2hpbGUoaTxzLmxlbmd0aCYmcy5jaGFyQXQoaSk9PScwJykrK2k7aWYoaT09cy5sZW5ndGgpe3Jlc3VsdD1uZXcgQmlnSW50KCk7fWVsc2V7dmFyIGRpZ2l0Q291bnQ9cy5sZW5ndGgtaTt2YXIgZmdsPWRpZ2l0Q291bnQlZHBsMTA7aWYoZmdsPT0wKWZnbD1kcGwxMDtyZXN1bHQ9YmlGcm9tTnVtYmVyKE51bWJlcihzLnN1YnN0cihpLGZnbCkpKTtpKz1mZ2w7d2hpbGUoaTxzLmxlbmd0aCl7cmVzdWx0PWJpQWRkKGJpTXVsdGlwbHkocmVzdWx0LGxyMTApLGJpRnJvbU51bWJlcihOdW1iZXIocy5zdWJzdHIoaSxkcGwxMCkpKSk7aSs9ZHBsMTA7fQpyZXN1bHQuaXNOZWc9aXNOZWc7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gYmlDb3B5KGJpKXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQodHJ1ZSk7cmVzdWx0LmRpZ2l0cz1iaS5kaWdpdHMuc2xpY2UoMCk7cmVzdWx0LmlzTmVnPWJpLmlzTmVnO3JldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaUZyb21OdW1iZXIoaSl7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7cmVzdWx0LmlzTmVnPWk8MDtpPU1hdGguYWJzKGkpO3ZhciBqPTA7d2hpbGUoaT4wKXtyZXN1bHQuZGlnaXRzW2orK109aSZtYXhEaWdpdFZhbDtpPj49YmlSYWRpeEJpdHM7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gcmV2ZXJzZVN0cihzKXt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT1zLmxlbmd0aC0xO2k+LTE7LS1pKXtyZXN1bHQrPXMuY2hhckF0KGkpO30KcmV0dXJuIHJlc3VsdDt9CnZhciBoZXhhdHJpZ2VzaW1hbFRvQ2hhcj1uZXcgQXJyYXkoJzAnLCcxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCdhJywnYicsJ2MnLCdkJywnZScsJ2YnLCdnJywnaCcsJ2knLCdqJywnaycsJ2wnLCdtJywnbicsJ28nLCdwJywncScsJ3InLCdzJywndCcsJ3UnLCd2JywndycsJ3gnLCd5JywneicpO2Z1bmN0aW9uIGJpVG9TdHJpbmcoeCxyYWRpeCkKe3ZhciBiPW5ldyBCaWdJbnQoKTtiLmRpZ2l0c1swXT1yYWRpeDt2YXIgcXI9YmlEaXZpZGVNb2R1bG8oeCxiKTt2YXIgcmVzdWx0PWhleGF0cmlnZXNpbWFsVG9DaGFyW3FyWzFdLmRpZ2l0c1swXV07d2hpbGUoYmlDb21wYXJlKHFyWzBdLGJpZ1plcm8pPT0xKXtxcj1iaURpdmlkZU1vZHVsbyhxclswXSxiKTtkaWdpdD1xclsxXS5kaWdpdHNbMF07cmVzdWx0Kz1oZXhhdHJpZ2VzaW1hbFRvQ2hhcltxclsxXS5kaWdpdHNbMF1dO30KcmV0dXJuKHguaXNOZWc/Ii0iOiIiKStyZXZlcnNlU3RyKHJlc3VsdCk7fQpmdW5jdGlvbiBiaVRvRGVjaW1hbCh4KXt2YXIgYj1uZXcgQmlnSW50KCk7Yi5kaWdpdHNbMF09MTA7dmFyIHFyPWJpRGl2aWRlTW9kdWxvKHgsYik7dmFyIHJlc3VsdD1TdHJpbmcocXJbMV0uZGlnaXRzWzBdKTt3aGlsZShiaUNvbXBhcmUocXJbMF0sYmlnWmVybyk9PTEpe3FyPWJpRGl2aWRlTW9kdWxvKHFyWzBdLGIpO3Jlc3VsdCs9U3RyaW5nKHFyWzFdLmRpZ2l0c1swXSk7fQpyZXR1cm4oeC5pc05lZz8iLSI6IiIpK3JldmVyc2VTdHIocmVzdWx0KTt9CnZhciBoZXhUb0NoYXI9bmV3IEFycmF5KCcwJywnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnYScsJ2InLCdjJywnZCcsJ2UnLCdmJyk7ZnVuY3Rpb24gZGlnaXRUb0hleChuKXt2YXIgbWFzaz0weGY7dmFyIHJlc3VsdD0iIjtmb3IoaT0wO2k8NDsrK2kpe3Jlc3VsdCs9aGV4VG9DaGFyW24mbWFza107bj4+Pj00O30KcmV0dXJuIHJldmVyc2VTdHIocmVzdWx0KTt9CmZ1bmN0aW9uIGJpVG9IZXgoeCl7dmFyIHJlc3VsdD0iIjt2YXIgbj1iaUhpZ2hJbmRleCh4KTtmb3IodmFyIGk9YmlIaWdoSW5kZXgoeCk7aT4tMTstLWkpe3Jlc3VsdCs9ZGlnaXRUb0hleCh4LmRpZ2l0c1tpXSk7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gY2hhclRvSGV4KGMpe3ZhciBaRVJPPTQ4O3ZhciBOSU5FPVpFUk8rOTt2YXIgbGl0dGxlQT05Nzt2YXIgbGl0dGxlWj1saXR0bGVBKzI1O3ZhciBiaWdBPTY1O3ZhciBiaWdaPTY1KzI1O3ZhciByZXN1bHQ7aWYoYz49WkVSTyYmYzw9TklORSl7cmVzdWx0PWMtWkVSTzt9ZWxzZSBpZihjPj1iaWdBJiZjPD1iaWdaKXtyZXN1bHQ9MTArYy1iaWdBO31lbHNlIGlmKGM+PWxpdHRsZUEmJmM8PWxpdHRsZVope3Jlc3VsdD0xMCtjLWxpdHRsZUE7fWVsc2V7cmVzdWx0PTA7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gaGV4VG9EaWdpdChzKXt2YXIgcmVzdWx0PTA7dmFyIHNsPU1hdGgubWluKHMubGVuZ3RoLDQpO2Zvcih2YXIgaT0wO2k8c2w7KytpKXtyZXN1bHQ8PD00O3Jlc3VsdHw9Y2hhclRvSGV4KHMuY2hhckNvZGVBdChpKSl9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaUZyb21IZXgocyl7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7dmFyIHNsPXMubGVuZ3RoO2Zvcih2YXIgaT1zbCxqPTA7aT4wO2ktPTQsKytqKXtyZXN1bHQuZGlnaXRzW2pdPWhleFRvRGlnaXQocy5zdWJzdHIoTWF0aC5tYXgoaS00LDApLE1hdGgubWluKGksNCkpKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaUZyb21TdHJpbmcocyxyYWRpeCl7dmFyIGlzTmVnPXMuY2hhckF0KDApPT0nLSc7dmFyIGlzdG9wPWlzTmVnPzE6MDt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTt2YXIgcGxhY2U9bmV3IEJpZ0ludCgpO3BsYWNlLmRpZ2l0c1swXT0xO2Zvcih2YXIgaT1zLmxlbmd0aC0xO2k+PWlzdG9wO2ktLSl7dmFyIGM9cy5jaGFyQ29kZUF0KGkpO3ZhciBkaWdpdD1jaGFyVG9IZXgoYyk7dmFyIGJpRGlnaXQ9YmlNdWx0aXBseURpZ2l0KHBsYWNlLGRpZ2l0KTtyZXN1bHQ9YmlBZGQocmVzdWx0LGJpRGlnaXQpO3BsYWNlPWJpTXVsdGlwbHlEaWdpdChwbGFjZSxyYWRpeCk7fQpyZXN1bHQuaXNOZWc9aXNOZWc7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpRHVtcChiKXtyZXR1cm4oYi5pc05lZz8iLSI6IiIpK2IuZGlnaXRzLmpvaW4oIiAiKTt9CmZ1bmN0aW9uIGJpQWRkKHgseSl7dmFyIHJlc3VsdDtpZih4LmlzTmVnIT15LmlzTmVnKXt5LmlzTmVnPSF5LmlzTmVnO3Jlc3VsdD1iaVN1YnRyYWN0KHgseSk7eS5pc05lZz0heS5pc05lZzt9ZWxzZXtyZXN1bHQ9bmV3IEJpZ0ludCgpO3ZhciBjPTA7dmFyIG47Zm9yKHZhciBpPTA7aTx4LmRpZ2l0cy5sZW5ndGg7KytpKXtuPXguZGlnaXRzW2ldK3kuZGlnaXRzW2ldK2M7cmVzdWx0LmRpZ2l0c1tpXT1uJjB4ZmZmZjtjPU51bWJlcihuPj1iaVJhZGl4KTt9CnJlc3VsdC5pc05lZz14LmlzTmVnO30KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpU3VidHJhY3QoeCx5KXt2YXIgcmVzdWx0O2lmKHguaXNOZWchPXkuaXNOZWcpe3kuaXNOZWc9IXkuaXNOZWc7cmVzdWx0PWJpQWRkKHgseSk7eS5pc05lZz0heS5pc05lZzt9ZWxzZXtyZXN1bHQ9bmV3IEJpZ0ludCgpO3ZhciBuLGM7Yz0wO2Zvcih2YXIgaT0wO2k8eC5kaWdpdHMubGVuZ3RoOysraSl7bj14LmRpZ2l0c1tpXS15LmRpZ2l0c1tpXStjO3Jlc3VsdC5kaWdpdHNbaV09biYweGZmZmY7aWYocmVzdWx0LmRpZ2l0c1tpXTwwKXJlc3VsdC5kaWdpdHNbaV0rPWJpUmFkaXg7Yz0wLU51bWJlcihuPDApO30KaWYoYz09LTEpe2M9MDtmb3IodmFyIGk9MDtpPHguZGlnaXRzLmxlbmd0aDsrK2kpe249MC1yZXN1bHQuZGlnaXRzW2ldK2M7cmVzdWx0LmRpZ2l0c1tpXT1uJjB4ZmZmZjtpZihyZXN1bHQuZGlnaXRzW2ldPDApcmVzdWx0LmRpZ2l0c1tpXSs9YmlSYWRpeDtjPTAtTnVtYmVyKG48MCk7fQpyZXN1bHQuaXNOZWc9IXguaXNOZWc7fWVsc2V7cmVzdWx0LmlzTmVnPXguaXNOZWc7fX0KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpSGlnaEluZGV4KHgpe3ZhciByZXN1bHQ9eC5kaWdpdHMubGVuZ3RoLTE7d2hpbGUocmVzdWx0PjAmJnguZGlnaXRzW3Jlc3VsdF09PTApLS1yZXN1bHQ7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTnVtQml0cyh4KXt2YXIgbj1iaUhpZ2hJbmRleCh4KTt2YXIgZD14LmRpZ2l0c1tuXTt2YXIgbT0obisxKSpiaXRzUGVyRGlnaXQ7dmFyIHJlc3VsdDtmb3IocmVzdWx0PW07cmVzdWx0Pm0tYml0c1BlckRpZ2l0Oy0tcmVzdWx0KXtpZigoZCYweDgwMDApIT0wKWJyZWFrO2Q8PD0xO30KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTXVsdGlwbHkoeCx5KXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTt2YXIgYzt2YXIgbj1iaUhpZ2hJbmRleCh4KTt2YXIgdD1iaUhpZ2hJbmRleCh5KTt2YXIgdSx1dixrO2Zvcih2YXIgaT0wO2k8PXQ7KytpKXtjPTA7az1pO2ZvcihqPTA7ajw9bjsrK2osKytrKXt1dj1yZXN1bHQuZGlnaXRzW2tdK3guZGlnaXRzW2pdKnkuZGlnaXRzW2ldK2M7cmVzdWx0LmRpZ2l0c1trXT11diZtYXhEaWdpdFZhbDtjPXV2Pj4+YmlSYWRpeEJpdHM7fQpyZXN1bHQuZGlnaXRzW2krbisxXT1jO30KcmVzdWx0LmlzTmVnPXguaXNOZWchPXkuaXNOZWc7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTXVsdGlwbHlEaWdpdCh4LHkpe3ZhciBuLGMsdXY7cmVzdWx0PW5ldyBCaWdJbnQoKTtuPWJpSGlnaEluZGV4KHgpO2M9MDtmb3IodmFyIGo9MDtqPD1uOysrail7dXY9cmVzdWx0LmRpZ2l0c1tqXSt4LmRpZ2l0c1tqXSp5K2M7cmVzdWx0LmRpZ2l0c1tqXT11diZtYXhEaWdpdFZhbDtjPXV2Pj4+YmlSYWRpeEJpdHM7fQpyZXN1bHQuZGlnaXRzWzErbl09YztyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gYXJyYXlDb3B5KHNyYyxzcmNTdGFydCxkZXN0LGRlc3RTdGFydCxuKXt2YXIgbT1NYXRoLm1pbihzcmNTdGFydCtuLHNyYy5sZW5ndGgpO2Zvcih2YXIgaT1zcmNTdGFydCxqPWRlc3RTdGFydDtpPG07KytpLCsrail7ZGVzdFtqXT1zcmNbaV07fX0KdmFyIGhpZ2hCaXRNYXNrcz1uZXcgQXJyYXkoMHgwMDAwLDB4ODAwMCwweEMwMDAsMHhFMDAwLDB4RjAwMCwweEY4MDAsMHhGQzAwLDB4RkUwMCwweEZGMDAsMHhGRjgwLDB4RkZDMCwweEZGRTAsMHhGRkYwLDB4RkZGOCwweEZGRkMsMHhGRkZFLDB4RkZGRik7ZnVuY3Rpb24gYmlTaGlmdExlZnQoeCxuKXt2YXIgZGlnaXRDb3VudD1NYXRoLmZsb29yKG4vYml0c1BlckRpZ2l0KTt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTthcnJheUNvcHkoeC5kaWdpdHMsMCxyZXN1bHQuZGlnaXRzLGRpZ2l0Q291bnQscmVzdWx0LmRpZ2l0cy5sZW5ndGgtZGlnaXRDb3VudCk7dmFyIGJpdHM9biViaXRzUGVyRGlnaXQ7dmFyIHJpZ2h0Qml0cz1iaXRzUGVyRGlnaXQtYml0cztmb3IodmFyIGk9cmVzdWx0LmRpZ2l0cy5sZW5ndGgtMSxpMT1pLTE7aT4wOy0taSwtLWkxKXtyZXN1bHQuZGlnaXRzW2ldPSgocmVzdWx0LmRpZ2l0c1tpXTw8Yml0cykmbWF4RGlnaXRWYWwpfCgocmVzdWx0LmRpZ2l0c1tpMV0maGlnaEJpdE1hc2tzW2JpdHNdKT4+PihyaWdodEJpdHMpKTt9CnJlc3VsdC5kaWdpdHNbMF09KChyZXN1bHQuZGlnaXRzW2ldPDxiaXRzKSZtYXhEaWdpdFZhbCk7cmVzdWx0LmlzTmVnPXguaXNOZWc7cmV0dXJuIHJlc3VsdDt9CnZhciBsb3dCaXRNYXNrcz1uZXcgQXJyYXkoMHgwMDAwLDB4MDAwMSwweDAwMDMsMHgwMDA3LDB4MDAwRiwweDAwMUYsMHgwMDNGLDB4MDA3RiwweDAwRkYsMHgwMUZGLDB4MDNGRiwweDA3RkYsMHgwRkZGLDB4MUZGRiwweDNGRkYsMHg3RkZGLDB4RkZGRik7ZnVuY3Rpb24gYmlTaGlmdFJpZ2h0KHgsbil7dmFyIGRpZ2l0Q291bnQ9TWF0aC5mbG9vcihuL2JpdHNQZXJEaWdpdCk7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7YXJyYXlDb3B5KHguZGlnaXRzLGRpZ2l0Q291bnQscmVzdWx0LmRpZ2l0cywwLHguZGlnaXRzLmxlbmd0aC1kaWdpdENvdW50KTt2YXIgYml0cz1uJWJpdHNQZXJEaWdpdDt2YXIgbGVmdEJpdHM9Yml0c1BlckRpZ2l0LWJpdHM7Zm9yKHZhciBpPTAsaTE9aSsxO2k8cmVzdWx0LmRpZ2l0cy5sZW5ndGgtMTsrK2ksKytpMSl7cmVzdWx0LmRpZ2l0c1tpXT0ocmVzdWx0LmRpZ2l0c1tpXT4+PmJpdHMpfCgocmVzdWx0LmRpZ2l0c1tpMV0mbG93Qml0TWFza3NbYml0c10pPDxsZWZ0Qml0cyk7fQpyZXN1bHQuZGlnaXRzW3Jlc3VsdC5kaWdpdHMubGVuZ3RoLTFdPj4+PWJpdHM7cmVzdWx0LmlzTmVnPXguaXNOZWc7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpTXVsdGlwbHlCeVJhZGl4UG93ZXIoeCxuKXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTthcnJheUNvcHkoeC5kaWdpdHMsMCxyZXN1bHQuZGlnaXRzLG4scmVzdWx0LmRpZ2l0cy5sZW5ndGgtbik7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJpRGl2aWRlQnlSYWRpeFBvd2VyKHgsbil7dmFyIHJlc3VsdD1uZXcgQmlnSW50KCk7YXJyYXlDb3B5KHguZGlnaXRzLG4scmVzdWx0LmRpZ2l0cywwLHJlc3VsdC5kaWdpdHMubGVuZ3RoLW4pO3JldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaU1vZHVsb0J5UmFkaXhQb3dlcih4LG4pe3ZhciByZXN1bHQ9bmV3IEJpZ0ludCgpO2FycmF5Q29weSh4LmRpZ2l0cywwLHJlc3VsdC5kaWdpdHMsMCxuKTtyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gYmlDb21wYXJlKHgseSl7aWYoeC5pc05lZyE9eS5pc05lZyl7cmV0dXJuIDEtMipOdW1iZXIoeC5pc05lZyk7fQpmb3IodmFyIGk9eC5kaWdpdHMubGVuZ3RoLTE7aT49MDstLWkpe2lmKHguZGlnaXRzW2ldIT15LmRpZ2l0c1tpXSl7aWYoeC5pc05lZyl7cmV0dXJuIDEtMipOdW1iZXIoeC5kaWdpdHNbaV0+eS5kaWdpdHNbaV0pO31lbHNle3JldHVybiAxLTIqTnVtYmVyKHguZGlnaXRzW2ldPHkuZGlnaXRzW2ldKTt9fX0KcmV0dXJuIDA7fQpmdW5jdGlvbiBiaURpdmlkZU1vZHVsbyh4LHkpe3ZhciBuYj1iaU51bUJpdHMoeCk7dmFyIHRiPWJpTnVtQml0cyh5KTt2YXIgb3JpZ1lJc05lZz15LmlzTmVnO3ZhciBxLHI7aWYobmI8dGIpe2lmKHguaXNOZWcpe3E9YmlDb3B5KGJpZ09uZSk7cS5pc05lZz0heS5pc05lZzt4LmlzTmVnPWZhbHNlO3kuaXNOZWc9ZmFsc2U7cj1iaVN1YnRyYWN0KHkseCk7eC5pc05lZz10cnVlO3kuaXNOZWc9b3JpZ1lJc05lZzt9ZWxzZXtxPW5ldyBCaWdJbnQoKTtyPWJpQ29weSh4KTt9CnJldHVybiBuZXcgQXJyYXkocSxyKTt9CnE9bmV3IEJpZ0ludCgpO3I9eDt2YXIgdD1NYXRoLmNlaWwodGIvYml0c1BlckRpZ2l0KS0xO3ZhciBsYW1iZGE9MDt3aGlsZSh5LmRpZ2l0c1t0XTxiaUhhbGZSYWRpeCl7eT1iaVNoaWZ0TGVmdCh5LDEpOysrbGFtYmRhOysrdGI7dD1NYXRoLmNlaWwodGIvYml0c1BlckRpZ2l0KS0xO30Kcj1iaVNoaWZ0TGVmdChyLGxhbWJkYSk7bmIrPWxhbWJkYTt2YXIgbj1NYXRoLmNlaWwobmIvYml0c1BlckRpZ2l0KS0xO3ZhciBiPWJpTXVsdGlwbHlCeVJhZGl4UG93ZXIoeSxuLXQpO3doaWxlKGJpQ29tcGFyZShyLGIpIT0tMSl7KytxLmRpZ2l0c1tuLXRdO3I9YmlTdWJ0cmFjdChyLGIpO30KZm9yKHZhciBpPW47aT50Oy0taSl7dmFyIHJpPShpPj1yLmRpZ2l0cy5sZW5ndGgpPzA6ci5kaWdpdHNbaV07dmFyIHJpMT0oaS0xPj1yLmRpZ2l0cy5sZW5ndGgpPzA6ci5kaWdpdHNbaS0xXTt2YXIgcmkyPShpLTI+PXIuZGlnaXRzLmxlbmd0aCk/MDpyLmRpZ2l0c1tpLTJdO3ZhciB5dD0odD49eS5kaWdpdHMubGVuZ3RoKT8wOnkuZGlnaXRzW3RdO3ZhciB5dDE9KHQtMT49eS5kaWdpdHMubGVuZ3RoKT8wOnkuZGlnaXRzW3QtMV07aWYocmk9PXl0KXtxLmRpZ2l0c1tpLXQtMV09bWF4RGlnaXRWYWw7fWVsc2V7cS5kaWdpdHNbaS10LTFdPU1hdGguZmxvb3IoKHJpKmJpUmFkaXgrcmkxKS95dCk7fQp2YXIgYzE9cS5kaWdpdHNbaS10LTFdKigoeXQqYmlSYWRpeCkreXQxKTt2YXIgYzI9KHJpKmJpUmFkaXhTcXVhcmVkKSsoKHJpMSpiaVJhZGl4KStyaTIpO3doaWxlKGMxPmMyKXstLXEuZGlnaXRzW2ktdC0xXTtjMT1xLmRpZ2l0c1tpLXQtMV0qKCh5dCpiaVJhZGl4KXx5dDEpO2MyPShyaSpiaVJhZGl4KmJpUmFkaXgpKygocmkxKmJpUmFkaXgpK3JpMik7fQpiPWJpTXVsdGlwbHlCeVJhZGl4UG93ZXIoeSxpLXQtMSk7cj1iaVN1YnRyYWN0KHIsYmlNdWx0aXBseURpZ2l0KGIscS5kaWdpdHNbaS10LTFdKSk7aWYoci5pc05lZyl7cj1iaUFkZChyLGIpOy0tcS5kaWdpdHNbaS10LTFdO319CnI9YmlTaGlmdFJpZ2h0KHIsbGFtYmRhKTtxLmlzTmVnPXguaXNOZWchPW9yaWdZSXNOZWc7aWYoeC5pc05lZyl7aWYob3JpZ1lJc05lZyl7cT1iaUFkZChxLGJpZ09uZSk7fWVsc2V7cT1iaVN1YnRyYWN0KHEsYmlnT25lKTt9Cnk9YmlTaGlmdFJpZ2h0KHksbGFtYmRhKTtyPWJpU3VidHJhY3QoeSxyKTt9CmlmKHIuZGlnaXRzWzBdPT0wJiZiaUhpZ2hJbmRleChyKT09MClyLmlzTmVnPWZhbHNlO3JldHVybiBuZXcgQXJyYXkocSxyKTt9CmZ1bmN0aW9uIGJpRGl2aWRlKHgseSl7cmV0dXJuIGJpRGl2aWRlTW9kdWxvKHgseSlbMF07fQpmdW5jdGlvbiBiaU1vZHVsbyh4LHkpe3JldHVybiBiaURpdmlkZU1vZHVsbyh4LHkpWzFdO30KZnVuY3Rpb24gYmlNdWx0aXBseU1vZCh4LHksbSl7cmV0dXJuIGJpTW9kdWxvKGJpTXVsdGlwbHkoeCx5KSxtKTt9CmZ1bmN0aW9uIGJpUG93KHgseSl7dmFyIHJlc3VsdD1iaWdPbmU7dmFyIGE9eDt3aGlsZSh0cnVlKXtpZigoeSYxKSE9MClyZXN1bHQ9YmlNdWx0aXBseShyZXN1bHQsYSk7eT4+PTE7aWYoeT09MClicmVhazthPWJpTXVsdGlwbHkoYSxhKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiaVBvd01vZCh4LHksbSl7dmFyIHJlc3VsdD1iaWdPbmU7dmFyIGE9eDt2YXIgaz15O3doaWxlKHRydWUpe2lmKChrLmRpZ2l0c1swXSYxKSE9MClyZXN1bHQ9YmlNdWx0aXBseU1vZChyZXN1bHQsYSxtKTtrPWJpU2hpZnRSaWdodChrLDEpO2lmKGsuZGlnaXRzWzBdPT0wJiZiaUhpZ2hJbmRleChrKT09MClicmVhazthPWJpTXVsdGlwbHlNb2QoYSxhLG0pO30KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIEJhcnJldHRNdShtKXt0aGlzLm1vZHVsdXM9YmlDb3B5KG0pO3RoaXMuaz1iaUhpZ2hJbmRleCh0aGlzLm1vZHVsdXMpKzE7dmFyIGIyaz1uZXcgQmlnSW50KCk7YjJrLmRpZ2l0c1syKnRoaXMua109MTt0aGlzLm11PWJpRGl2aWRlKGIyayx0aGlzLm1vZHVsdXMpO3RoaXMuYmtwbHVzMT1uZXcgQmlnSW50KCk7dGhpcy5ia3BsdXMxLmRpZ2l0c1t0aGlzLmsrMV09MTt0aGlzLm1vZHVsbz1CYXJyZXR0TXVfbW9kdWxvO3RoaXMubXVsdGlwbHlNb2Q9QmFycmV0dE11X211bHRpcGx5TW9kO3RoaXMucG93TW9kPUJhcnJldHRNdV9wb3dNb2Q7fQpmdW5jdGlvbiBCYXJyZXR0TXVfbW9kdWxvKHgpe3ZhciBxMT1iaURpdmlkZUJ5UmFkaXhQb3dlcih4LHRoaXMuay0xKTt2YXIgcTI9YmlNdWx0aXBseShxMSx0aGlzLm11KTt2YXIgcTM9YmlEaXZpZGVCeVJhZGl4UG93ZXIocTIsdGhpcy5rKzEpO3ZhciByMT1iaU1vZHVsb0J5UmFkaXhQb3dlcih4LHRoaXMuaysxKTt2YXIgcjJ0ZXJtPWJpTXVsdGlwbHkocTMsdGhpcy5tb2R1bHVzKTt2YXIgcjI9YmlNb2R1bG9CeVJhZGl4UG93ZXIocjJ0ZXJtLHRoaXMuaysxKTt2YXIgcj1iaVN1YnRyYWN0KHIxLHIyKTtpZihyLmlzTmVnKXtyPWJpQWRkKHIsdGhpcy5ia3BsdXMxKTt9CnZhciByZ3RlbT1iaUNvbXBhcmUocix0aGlzLm1vZHVsdXMpPj0wO3doaWxlKHJndGVtKXtyPWJpU3VidHJhY3Qocix0aGlzLm1vZHVsdXMpO3JndGVtPWJpQ29tcGFyZShyLHRoaXMubW9kdWx1cyk+PTA7fQpyZXR1cm4gcjt9CmZ1bmN0aW9uIEJhcnJldHRNdV9tdWx0aXBseU1vZCh4LHkpe3ZhciB4eT1iaU11bHRpcGx5KHgseSk7cmV0dXJuIHRoaXMubW9kdWxvKHh5KTt9CmZ1bmN0aW9uIEJhcnJldHRNdV9wb3dNb2QoeCx5KXt2YXIgcmVzdWx0PW5ldyBCaWdJbnQoKTtyZXN1bHQuZGlnaXRzWzBdPTE7dmFyIGE9eDt2YXIgaz15O3doaWxlKHRydWUpe2lmKChrLmRpZ2l0c1swXSYxKSE9MClyZXN1bHQ9dGhpcy5tdWx0aXBseU1vZChyZXN1bHQsYSk7az1iaVNoaWZ0UmlnaHQoaywxKTtpZihrLmRpZ2l0c1swXT09MCYmYmlIaWdoSW5kZXgoayk9PTApYnJlYWs7YT10aGlzLm11bHRpcGx5TW9kKGEsYSk7fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gUlNBS2V5UGFpcihlbmNyeXB0aW9uRXhwb25lbnQsZGVjcnlwdGlvbkV4cG9uZW50LG1vZHVsdXMpe3RoaXMuZT1iaUZyb21IZXgoZW5jcnlwdGlvbkV4cG9uZW50KTt0aGlzLmQ9YmlGcm9tSGV4KGRlY3J5cHRpb25FeHBvbmVudCk7dGhpcy5tPWJpRnJvbUhleChtb2R1bHVzKTt0aGlzLmNodW5rU2l6ZT0yKmJpSGlnaEluZGV4KHRoaXMubSk7dGhpcy5yYWRpeD0xNjt0aGlzLmJhcnJldHQ9bmV3IEJhcnJldHRNdSh0aGlzLm0pO30KZnVuY3Rpb24gdHdvRGlnaXQobil7cmV0dXJuKG48MTA/IjAiOiIiKStTdHJpbmcobik7fQpmdW5jdGlvbiBlbmNyeXB0ZWRTdHJpbmcoa2V5LHMpCnt2YXIgYT1uZXcgQXJyYXkoKTt2YXIgc2w9cy5sZW5ndGg7dmFyIGk9MDt3aGlsZShpPHNsKXthW2ldPXMuY2hhckNvZGVBdChpKTtpKys7fQp3aGlsZShhLmxlbmd0aCVrZXkuY2h1bmtTaXplIT0wKXthW2krK109MDt9CnZhciBhbD1hLmxlbmd0aDt2YXIgcmVzdWx0PSIiO3ZhciBqLGssYmxvY2s7Zm9yKGk9MDtpPGFsO2krPWtleS5jaHVua1NpemUpe2Jsb2NrPW5ldyBCaWdJbnQoKTtqPTA7Zm9yKGs9aTtrPGkra2V5LmNodW5rU2l6ZTsrK2ope2Jsb2NrLmRpZ2l0c1tqXT1hW2srK107YmxvY2suZGlnaXRzW2pdKz1hW2srK108PDg7fQp2YXIgY3J5cHQ9a2V5LmJhcnJldHQucG93TW9kKGJsb2NrLGtleS5lKTt2YXIgdGV4dD1rZXkucmFkaXg9PTE2P2JpVG9IZXgoY3J5cHQpOmJpVG9TdHJpbmcoY3J5cHQsa2V5LnJhZGl4KTtyZXN1bHQrPXRleHQrIiAiO30KcmV0dXJuIHJlc3VsdC5zdWJzdHJpbmcoMCxyZXN1bHQubGVuZ3RoLTEpO30KZnVuY3Rpb24gZGVjcnlwdGVkU3RyaW5nKGtleSxzKXt2YXIgYmxvY2tzPXMuc3BsaXQoIiAiKTt2YXIgcmVzdWx0PSIiO3ZhciBpLGosYmxvY2s7Zm9yKGk9MDtpPGJsb2Nrcy5sZW5ndGg7KytpKXt2YXIgYmk7aWYoa2V5LnJhZGl4PT0xNil7Ymk9YmlGcm9tSGV4KGJsb2Nrc1tpXSk7fWVsc2V7Ymk9YmlGcm9tU3RyaW5nKGJsb2Nrc1tpXSxrZXkucmFkaXgpO30KYmxvY2s9a2V5LmJhcnJldHQucG93TW9kKGJpLGtleS5kKTtmb3Ioaj0wO2o8PWJpSGlnaEluZGV4KGJsb2NrKTsrK2ope3Jlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShibG9jay5kaWdpdHNbal0mMjU1LGJsb2NrLmRpZ2l0c1tqXT4+OCk7fX0KaWYocmVzdWx0LmNoYXJDb2RlQXQocmVzdWx0Lmxlbmd0aC0xKT09MCl7cmVzdWx0PXJlc3VsdC5zdWJzdHJpbmcoMCxyZXN1bHQubGVuZ3RoLTEpO30KcmV0dXJuIHJlc3VsdDt9CnZhciBfX0NyeXB0bz1fX0NyeXB0b3x8e307ZnVuY3Rpb24gaW5pdFBhY2thZ2VzKF9fc2NvcGUpe3ZhciBfX3BhY2thZ2U9ZnVuY3Rpb24ocGFja2FnZVJvb3QscGF0aFN0cmluZyl7dmFyIHBhdGhzPXBhdGhTdHJpbmcuc3BsaXQoIi4iKTt2YXIgY3VycmVudFBhY2thZ2U9cGFja2FnZVJvb3Q7Zm9yKHZhciBpPTA7aTxwYXRocy5sZW5ndGg7aSsrKXt2YXIgaWQ9cGF0aHNbaV07aWYoY3VycmVudFBhY2thZ2VbaWRdPT1udWxsKXtjdXJyZW50UGFja2FnZVtpZF09e307fQpjdXJyZW50UGFja2FnZT1jdXJyZW50UGFja2FnZVtpZF07fQpyZXR1cm4gY3VycmVudFBhY2thZ2U7fTt2YXIgX19leHBvcnQ9ZnVuY3Rpb24ocGFja2FnZVJvb3QscGF0aFN0cmluZyxvYmplY3Qpe3ZhciBwYXRocz1wYXRoU3RyaW5nLnNwbGl0KCIuIik7dmFyIGN1cnJlbnRQYWNrYWdlPXBhY2thZ2VSb290O2Zvcih2YXIgaT0wO2k8cGF0aHMubGVuZ3RoO2krKyl7dmFyIGlkPXBhdGhzW2ldO2lmKGk8cGF0aHMubGVuZ3RoLTEpe2lmKGN1cnJlbnRQYWNrYWdlW2lkXT09bnVsbCl7Y3VycmVudFBhY2thZ2VbaWRdPXt9O319ZWxzZXtpZihjdXJyZW50UGFja2FnZVtpZF09PW51bGwpe2N1cnJlbnRQYWNrYWdlW2lkXT1vYmplY3Q7fWVsc2V7dGhyb3ciVGhlIHNwZWNpZmllZCBwYWNrYWdlIHBhdGggaXMgYWxyZWFkeSBkZWZpbmVkLiAiK3BhdGhTdHJpbmc7fX0KY3VycmVudFBhY2thZ2U9Y3VycmVudFBhY2thZ2VbaWRdO30KcmV0dXJuIGN1cnJlbnRQYWNrYWdlO307dmFyIF9faW1wb3J0PWZ1bmN0aW9uKHBhY2thZ2VSb290LHBhdGhTdHJpbmcsb2JqZWN0KXt2YXIgcGF0aHM9cGF0aFN0cmluZy5zcGxpdCgiLiIpO3ZhciBjdXJyZW50UGFja2FnZT1wYWNrYWdlUm9vdDt2YXIgY3VycmVudFBhdGg9IltwYWNrYWdlIHJvb3RdIjtmb3IodmFyIGk9MDtpPHBhdGhzLmxlbmd0aDtpKyspe3ZhciBpZD1wYXRoc1tpXTtjdXJyZW50UGF0aCs9Ii4iK2lkO2lmKGN1cnJlbnRQYWNrYWdlW2lkXT09bnVsbCl7dGhyb3cgcGF0aFN0cmluZysiIGlzIG5vdCBmb3VuZC4gIitjdXJyZW50UGF0aCsiIGlzIG51bGwgaW4gIitfX0NVUlJFTlRfVU5JVC51bml0X25hbWUrIi4iO30KY3VycmVudFBhY2thZ2U9Y3VycmVudFBhY2thZ2VbaWRdO30KcmV0dXJuIGN1cnJlbnRQYWNrYWdlO307dmFyIF9fREVGSU5FRF9VTklUUz17fTt2YXIgX19DVVJSRU5UX1VOSVQ9IiI7dmFyIF9fdW5pdD1mdW5jdGlvbih1bml0X25hbWUpe19fREVGSU5FRF9VTklUU1t1bml0X25hbWVdPXRydWU7X19DVVJSRU5UX1VOSVQ9e3VuaXRfbmFtZTp1bml0X25hbWUscmVxdXJpbmdfdW5pdHM6e319O30KdmFyIF9fdXNlcz1mdW5jdGlvbih1bml0X25hbWUpe2lmKF9fREVGSU5FRF9VTklUU1t1bml0X25hbWVdKXtfX0NVUlJFTlRfVU5JVC5yZXF1cmluZ191bml0c1t1bml0X25hbWVdPXRydWU7cmV0dXJuIHRydWU7fWVsc2V7dGhyb3ciVW5pdCBOb3QgRm91bmQgRXJyb3IgOiAiK19fQ1VSUkVOVF9VTklULnVuaXRfbmFtZSsiIHJlcXVpcmVzICIrdW5pdF9uYW1lO319O19fc2NvcGUuX19wYWNrYWdlPV9fcGFja2FnZTtfX3Njb3BlLl9faW1wb3J0PV9faW1wb3J0O19fc2NvcGUuX19leHBvcnQ9X19leHBvcnQ7X19zY29wZS5fX3VuaXQ9X191bml0O19fc2NvcGUuX191c2VzPV9fdXNlcztfX3Njb3BlLl9fREVGSU5FRF9VTklUUz1fX0RFRklORURfVU5JVFM7X19zY29wZS5fX1BBQ0tBR0VfRU5BQkxFRD10cnVlO19fdW5pdCgicGFja2FnZXMuanMiKTt9CmluaXRQYWNrYWdlcyhfX0NyeXB0byk7ZnVuY3Rpb24gaW5pdEJpbmFyeShwYWNrYWdlUm9vdCl7aWYocGFja2FnZVJvb3QuX19QQUNLQUdFX0VOQUJMRUQpe19fQ3J5cHRvLl9fdW5pdCgiYmluYXJ5LmpzIik7fQp2YXIgaTJhPVsnQScsJ0InLCdDJywnRCcsJ0UnLCdGJywnRycsJ0gnLCdJJywnSicsJ0snLCdMJywnTScsJ04nLCdPJywnUCcsJ1EnLCdSJywnUycsJ1QnLCdVJywnVicsJ1cnLCdYJywnWScsJ1onLCdhJywnYicsJ2MnLCdkJywnZScsJ2YnLCdnJywnaCcsJ2knLCdqJywnaycsJ2wnLCdtJywnbicsJ28nLCdwJywncScsJ3InLCdzJywndCcsJ3UnLCd2JywndycsJ3gnLCd5JywneicsJzAnLCcxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCcrJywnLyddO2Z1bmN0aW9uIGJhc2U2NF9lbmNvZGUocyl7dmFyIGxlbmd0aD1zLmxlbmd0aDt2YXIgZ3JvdXBDb3VudD1NYXRoLmZsb29yKGxlbmd0aC8zKTt2YXIgcmVtYWluaW5nPWxlbmd0aC0zKmdyb3VwQ291bnQ7dmFyIHJlc3VsdD0iIjt2YXIgaWR4PTA7Zm9yKHZhciBpPTA7aTxncm91cENvdW50O2krKyl7dmFyIGIwPXNbaWR4KytdJjB4ZmY7dmFyIGIxPXNbaWR4KytdJjB4ZmY7dmFyIGIyPXNbaWR4KytdJjB4ZmY7cmVzdWx0Kz0oaTJhW2IwPj4yXSk7cmVzdWx0Kz0oaTJhWyhiMDw8NCkmMHgzZnwoYjE+PjQpXSk7cmVzdWx0Kz0oaTJhWyhiMTw8MikmMHgzZnwoYjI+PjYpXSk7cmVzdWx0Kz0oaTJhW2IyJjB4M2ZdKTt9CmlmKHJlbWFpbmluZz09MCl7fWVsc2UgaWYocmVtYWluaW5nPT0xKXt2YXIgYjA9c1tpZHgrK10mMHhmZjtyZXN1bHQrPShpMmFbYjA+PjJdKTtyZXN1bHQrPShpMmFbKGIwPDw0KSYweDNmXSk7cmVzdWx0Kz0oIj09Iik7fWVsc2UgaWYocmVtYWluaW5nPT0yKXt2YXIgYjA9c1tpZHgrK10mMHhmZjt2YXIgYjE9c1tpZHgrK10mMHhmZjtyZXN1bHQrPShpMmFbYjA+PjJdKTtyZXN1bHQrPShpMmFbKGIwPDw0KSYweDNmfChiMT4+NCldKTtyZXN1bHQrPShpMmFbKGIxPDwyKSYweDNmXSk7cmVzdWx0Kz0oJz0nKTt9ZWxzZXt0aHJvdyJuZXZlciBoYXBwZW4iO30KcmV0dXJuIHJlc3VsdDt9CnZhciBhMmk9Wy0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDYyLC0xLC0xLC0xLDYzLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsLTEsLTEsLTEsLTEsLTEsLTEsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTFdO2Z1bmN0aW9uIGdldF9hMmkoYyl7dmFyIHJlc3VsdD0oMDw9YykmJihjPGEyaS5sZW5ndGgpP2EyaVtjXTotMTtpZihyZXN1bHQ8MCl0aHJvdyJJbGxlZ2FsIGNoYXJhY3RlciAiK2M7cmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGJhc2U2NF9kZWNvZGUocyl7dmFyIGxlbmd0aD1zLmxlbmd0aDt2YXIgZ3JvdXBDb3VudD1NYXRoLmZsb29yKGxlbmd0aC80KTtpZig0Kmdyb3VwQ291bnQhPWxlbmd0aCl0aHJvdyJTdHJpbmcgbGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiBmb3VyLiI7dmFyIG1pc3Npbmc9MDtpZihsZW5ndGghPTApe2lmKHMuY2hhckF0KGxlbmd0aC0xKT09Jz0nKXttaXNzaW5nKys7Z3JvdXBDb3VudC0tO30KaWYocy5jaGFyQXQobGVuZ3RoLTIpPT0nPScpbWlzc2luZysrO30KdmFyIGxlbj0oMypncm91cENvdW50LW1pc3NpbmcpO2lmKGxlbjwwKXtsZW49MDt9CnZhciByZXN1bHQ9bmV3IEFycmF5KGxlbik7dmFyIGlkeF9pbj0wO3ZhciBpZHhfb3V0PTA7Zm9yKHZhciBpPTA7aTxncm91cENvdW50O2krKyl7dmFyIGMwPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMxPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMyPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMzPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7cmVzdWx0W2lkeF9vdXQrK109MHhGRiYoKGMwPDwyKXwoYzE+PjQpKTtyZXN1bHRbaWR4X291dCsrXT0weEZGJigoYzE8PDQpfChjMj4+MikpO3Jlc3VsdFtpZHhfb3V0KytdPTB4RkYmKChjMjw8Nil8YzMpO30KaWYobWlzc2luZz09MCl7fWVsc2UgaWYobWlzc2luZz09MSl7dmFyIGMwPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMxPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7dmFyIGMyPWdldF9hMmkocy5jaGFyQ29kZUF0KGlkeF9pbisrKSk7cmVzdWx0W2lkeF9vdXQrK109MHhGRiYoKGMwPDwyKXwoYzE+PjQpKTtyZXN1bHRbaWR4X291dCsrXT0weEZGJigoYzE8PDQpfChjMj4+MikpO31lbHNlIGlmKG1pc3Npbmc9PTIpe3ZhciBjMD1nZXRfYTJpKHMuY2hhckNvZGVBdChpZHhfaW4rKykpO3ZhciBjMT1nZXRfYTJpKHMuY2hhckNvZGVBdChpZHhfaW4rKykpO3Jlc3VsdFtpZHhfb3V0KytdPTB4RkYmKChjMDw8Mil8KGMxPj40KSk7fWVsc2V7dGhyb3cibmV2ZXIgaGFwcGVuIjt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBiYXNlNjR4X2VuY29kZShzKXtyZXR1cm4gYmFzZTY0eF9wcmVfZW5jb2RlKGJhc2U2NF9lbmNvZGUocykpO30KZnVuY3Rpb24gYmFzZTY0eF9kZWNvZGUocyl7cmV0dXJuIGJhc2U2NF9kZWNvZGUoYmFzZTY0eF9wcmVfZGVjb2RlKHMpKTt9CnZhciBiYXNlNjR4X3ByZV9lbmNvZGVfbWFwPXt9O2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIngiXT0ieHgiO2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIisiXT0ieGEiO2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIi8iXT0ieGIiO2Jhc2U2NHhfcHJlX2VuY29kZV9tYXBbIj0iXT0iIjtmdW5jdGlvbiBiYXNlNjR4X3ByZV9lbmNvZGUocyl7dmFyIHNzPSIiO2Zvcih2YXIgaT0wO2k8cy5sZW5ndGg7aSsrKXt2YXIgYz1zLmNoYXJBdChpKTt2YXIgY2M9YmFzZTY0eF9wcmVfZW5jb2RlX21hcFtjXTtpZihjYyE9bnVsbCl7c3M9c3MrY2M7fWVsc2V7c3M9c3MrYzt9fQpyZXR1cm4gc3M7fQp2YXIgYmFzZTY0eF9wcmVfZGVjb2RlX21hcD17fTtiYXNlNjR4X3ByZV9kZWNvZGVfbWFwWyd4J109J3gnO2Jhc2U2NHhfcHJlX2RlY29kZV9tYXBbJ2EnXT0nKyc7YmFzZTY0eF9wcmVfZGVjb2RlX21hcFsnYiddPScvJztmdW5jdGlvbiBiYXNlNjR4X3ByZV9kZWNvZGUocyl7dmFyIHNzPSIiO2Zvcih2YXIgaT0wO2k8cy5sZW5ndGg7aSsrKXt2YXIgYz1zLmNoYXJBdChpKTtpZihjPT0neCcpe2M9cy5jaGFyQXQoKytpKTt2YXIgY2M9YmFzZTY0eF9wcmVfZGVjb2RlX21hcFtjXTtpZihjYyE9bnVsbCl7c3M9c3MrY2M7fWVsc2V7fX1lbHNle3NzPXNzK2M7fX0Kd2hpbGUoc3MubGVuZ3RoJTQhPTApe3NzKz0iPSI7fQpyZXR1cm4gc3M7fQpmdW5jdGlvbiBlcXVhbHMoYSxiKXtpZihhLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuIGZhbHNlO3ZhciBzaXplPWEubGVuZ3RoO2Zvcih2YXIgaT0wO2k8c2l6ZTtpKyspe2lmKGFbaV0hPWJbaV0pcmV0dXJuIGZhbHNlO30KcmV0dXJuIHRydWU7fQpmdW5jdGlvbiBoZXgoaSl7aWYoaT09bnVsbClyZXR1cm4iPz8iO2kmPTB4ZmY7dmFyIHJlc3VsdD1pLnRvU3RyaW5nKDE2KTtyZXR1cm4ocmVzdWx0Lmxlbmd0aDwyKT8iMCIrcmVzdWx0OnJlc3VsdDt9CmZ1bmN0aW9uIGJhc2UxNihkYXRhLGNvbHVtbnMsZGVsaW0pe3JldHVybiBiYXNlMTZfZW5jb2RlKGRhdGEsY29sdW1ucyxkZWxpbSk7fQpmdW5jdGlvbiBiYXNlMTZfZW5jb2RlKGRhdGEsY29sdW1ucyxkZWxpbSl7aWYoZGVsaW09PW51bGwpe2RlbGltPSIiO30KaWYoY29sdW1ucz09bnVsbCl7Y29sdW1ucz0yNTY7fQp2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXtyZXN1bHQrPWhleChkYXRhW2ldKStkZWxpbTt9CnJldHVybiByZXN1bHQudG9VcHBlckNhc2UoKTt9CnZhciBhbWFwPXt9O2FtYXBbJzAnXT0wO2FtYXBbJzEnXT0xO2FtYXBbJzInXT0yO2FtYXBbJzMnXT0zO2FtYXBbJzQnXT00O2FtYXBbJzUnXT01O2FtYXBbJzYnXT02O2FtYXBbJzcnXT03O2FtYXBbJzgnXT04O2FtYXBbJzknXT05O2FtYXBbJ0EnXT0xMDthbWFwWydCJ109MTE7YW1hcFsnQyddPTEyO2FtYXBbJ0QnXT0xMzthbWFwWydFJ109MTQ7YW1hcFsnRiddPTE1O2FtYXBbJ2EnXT0xMDthbWFwWydiJ109MTE7YW1hcFsnYyddPTEyO2FtYXBbJ2QnXT0xMzthbWFwWydlJ109MTQ7YW1hcFsnZiddPTE1O2Z1bmN0aW9uIGdldF9hbWFwKGMpe3ZhciBjYz1hbWFwW2NdO2lmKGNjPT1udWxsKXRocm93ImZvdW5kIGFuIGludmFsaWQgY2hhcmFjdGVyLiI7cmV0dXJuIGNjO30KZnVuY3Rpb24gYmFzZTE2X2RlY29kZShkYXRhKXt2YXIgY2E9W107Zm9yKHZhciBpPTAsaj0wO2k8ZGF0YS5sZW5ndGg7aSsrKXt2YXIgYz1kYXRhLmNoYXJBdChpKTtpZihjPT0iXHMiKXtjb250aW51ZTt9ZWxzZXtjYVtqKytdPWM7fX0KaWYoY2EubGVuZ3RoJTIhPTApe3Rocm93ImRhdGEgbXVzdCBiZSBhIG11bHRpcGxlIG9mIHR3by4iO30KdmFyIHJlc3VsdD1uZXcgQXJyYXkoY2EubGVuZ3RoPj4xKTtmb3IodmFyIGk9MDtpPGNhLmxlbmd0aDtpKz0yKXt2YXIgdj0weGZmJigoZ2V0X2FtYXAoY2FbaV0pPDw0KXwoZ2V0X2FtYXAoY2FbaSsxXSkpKTtyZXN1bHRbaT4+MV09djt9CnJldHVybiByZXN1bHQ7fQp2YXIgQjEwMDAwMDAwPTB4ODA7dmFyIEIxMTAwMDAwMD0weEMwO3ZhciBCMTExMDAwMDA9MHhFMDt2YXIgQjExMTEwMDAwPTB4RjA7dmFyIEIxMTExMTAwMD0weEY4O3ZhciBCMTExMTExMDA9MHhGQzt2YXIgQjExMTExMTEwPTB4RkU7dmFyIEIwMTExMTExMT0weDdGO3ZhciBCMDAxMTExMTE9MHgzRjt2YXIgQjAwMDExMTExPTB4MUY7dmFyIEIwMDAwMTExMT0weDBGO3ZhciBCMDAwMDAxMTE9MHgwNzt2YXIgQjAwMDAwMDExPTB4MDM7dmFyIEIwMDAwMDAwMT0weDAxO2Z1bmN0aW9uIHN0cjJ1dGY4KHN0cil7dmFyIHJlc3VsdD1bXTt2YXIgbGVuZ3RoPXN0ci5sZW5ndGg7dmFyIGlkeD0wO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIGM9c3RyLmNoYXJDb2RlQXQoaSk7aWYoYzw9MHg3Zil7cmVzdWx0W2lkeCsrXT1jO31lbHNlIGlmKGM8PTB4N2ZmKXtyZXN1bHRbaWR4KytdPUIxMTAwMDAwMHwoQjAwMDExMTExJihjPj4+NikpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj4wKSk7fWVsc2UgaWYoYzw9MHhmZmZmKXtyZXN1bHRbaWR4KytdPUIxMTEwMDAwMHwoQjAwMDAxMTExJihjPj4+MTIpKTtyZXN1bHRbaWR4KytdPUIxMDAwMDAwMHwoQjAwMTExMTExJihjPj4+NikpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj4wKSk7fWVsc2UgaWYoYzw9MHgxMGZmZmYpe3Jlc3VsdFtpZHgrK109QjExMTEwMDAwfChCMDAwMDAxMTEmKGM+Pj4xOCkpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj4xMikpO3Jlc3VsdFtpZHgrK109QjEwMDAwMDAwfChCMDAxMTExMTEmKGM+Pj42KSk7cmVzdWx0W2lkeCsrXT1CMTAwMDAwMDB8KEIwMDExMTExMSYoYz4+PjApKTt9ZWxzZXt0aHJvdyJlcnJvciI7fX0KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIHV0Zjgyc3RyKGRhdGEpe3ZhciByZXN1bHQ9IiI7dmFyIGxlbmd0aD1kYXRhLmxlbmd0aDtmb3IodmFyIGk9MDtpPGxlbmd0aDspe3ZhciBjPWRhdGFbaSsrXTtpZihjPDB4ODApe3Jlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShjKTt9ZWxzZSBpZigoYzxCMTExMDAwMDApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMTExMTEmYyk8PDYpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDApKTt9ZWxzZSBpZigoYzxCMTExMTAwMDApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMDExMTEmYyk8PDEyKXwoKEIwMDExMTExMSZkYXRhW2krK10pPDw2KXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwwKSk7fWVsc2UgaWYoKGM8QjExMTExMDAwKSl7cmVzdWx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgoQjAwMDAwMTExJmMpPDwxOCl8KChCMDAxMTExMTEmZGF0YVtpKytdKTw8MTIpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDYpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDApKTt9ZWxzZSBpZigoYzxCMTExMTExMDApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMDAwMTEmYyk8PDI0KXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwxOCl8KChCMDAxMTExMTEmZGF0YVtpKytdKTw8MTIpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDYpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDApKTt9ZWxzZSBpZigoYzxCMTExMTExMTApKXtyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKChCMDAwMDAwMDEmYyk8PDMwKXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwyNCl8KChCMDAxMTExMTEmZGF0YVtpKytdKTw8MTgpfCgoQjAwMTExMTExJmRhdGFbaSsrXSk8PDEyKXwoKEIwMDExMTExMSZkYXRhW2krK10pPDw2KXwoKEIwMDExMTExMSZkYXRhW2krK10pPDwwKSk7fX0KcmV0dXJuIHJlc3VsdDt9CmZ1bmN0aW9uIGNoYXIyc3RyKGNhKXt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT0wO2k8Y2EubGVuZ3RoO2krKyl7cmVzdWx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGNhW2ldKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBzdHIyY2hhcihzdHIpe3ZhciByZXN1bHQ9bmV3IEFycmF5KHN0ci5sZW5ndGgpO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDtpKyspe3Jlc3VsdFtpXT1zdHIuY2hhckNvZGVBdChpKTt9CnJldHVybiByZXN1bHQ7fQpmdW5jdGlvbiBpMmJhX2JlKGkpe3JldHVyblsweGZmJihpPj4yNCksMHhmZiYoaT4+MTYpLDB4ZmYmKGk+PjgpLDB4ZmYmKGk+PjApXTt9CmZ1bmN0aW9uIGJhMmlfYmUoYnMpe3JldHVybigoYnNbMF08PDI0KXwoYnNbMV08PDE2KXwoYnNbMl08PDgpfChic1szXTw8MCkpO30KZnVuY3Rpb24gczJiYV9iZShpKXtyZXR1cm5bMHhmZiYoaT4+OCksMHhmZiYoaT4+MCldO30KZnVuY3Rpb24gYmEyc19iZShicyl7cmV0dXJuKDB8KGJzWzBdPDw4KXwoYnNbMV08PDApKTt9CmZ1bmN0aW9uIGkyYmFfbGUoaSl7cmV0dXJuWzB4ZmYmKGk+PjApLDB4ZmYmKGk+PjgpLDB4ZmYmKGk+PjE2KSwweGZmJihpPj4yNCldO30KZnVuY3Rpb24gYmEyaV9sZShicyl7cmV0dXJuKDB8KGJzWzNdPDwwKXwoYnNbMl08PDgpfChic1sxXTw8MTYpfChic1swXTw8MjQpKTt9CmZ1bmN0aW9uIHMyYmFfbGUoaSl7cmV0dXJuWzB4ZmYmKGk+PjApLDB4ZmYmKGk+PjgpXTt9CmZ1bmN0aW9uIGJhMnNfbGUoYnMpe3JldHVybigwfChic1sxXTw8MCl8KGJzWzBdPDw4KSk7fQpmdW5jdGlvbiBpYTJiYV9iZShpYSl7dmFyIGxlbmd0aD1pYS5sZW5ndGg8PDI7dmFyIGJhPW5ldyBBcnJheShsZW5ndGgpO2Zvcih2YXIgaWk9MCxiaT0wO2lpPGlhLmxlbmd0aCYmYmk8YmEubGVuZ3RoOyl7YmFbYmkrK109MHhmZiYoaWFbaWldPj4yNCk7YmFbYmkrK109MHhmZiYoaWFbaWldPj4xNik7YmFbYmkrK109MHhmZiYoaWFbaWldPj44KTtiYVtiaSsrXT0weGZmJihpYVtpaV0+PjApO2lpKys7fQpyZXR1cm4gYmE7fQpmdW5jdGlvbiBiYTJpYV9iZShiYSl7dmFyIGxlbmd0aD0oYmEubGVuZ3RoKzMpPj4yO3ZhciBpYT1uZXcgQXJyYXkobGVuZ3RoKTs7Zm9yKHZhciBpaT0wLGJpPTA7aWk8aWEubGVuZ3RoJiZiaTxiYS5sZW5ndGg7KXtpYVtpaSsrXT0oYmk8YmEubGVuZ3RoPyhiYVtiaSsrXTw8MjQpOjApfChiaTxiYS5sZW5ndGg/KGJhW2JpKytdPDwxNik6MCl8KGJpPGJhLmxlbmd0aD8oYmFbYmkrK108PDgpOjApfChiaTxiYS5sZW5ndGg/KGJhW2JpKytdKTowKTt9CnJldHVybiBpYTt9CmZ1bmN0aW9uIGlhMmJhX2xlKGlhKXt2YXIgbGVuZ3RoPWlhLmxlbmd0aDw8Mjt2YXIgYmE9bmV3IEFycmF5KGxlbmd0aCk7Zm9yKHZhciBpaT0wLGJpPTA7aWk8aWEubGVuZ3RoJiZiaTxiYS5sZW5ndGg7KXtiYVtiaSsrXT0weGZmJihpYVtpaV0+PjApO2JhW2JpKytdPTB4ZmYmKGlhW2lpXT4+OCk7YmFbYmkrK109MHhmZiYoaWFbaWldPj4xNik7YmFbYmkrK109MHhmZiYoaWFbaWldPj4yNCk7aWkrKzt9CnJldHVybiBiYTt9CmZ1bmN0aW9uIGJhMmlhX2xlKGJhKXt2YXIgbGVuZ3RoPShiYS5sZW5ndGgrMyk+PjI7dmFyIGlhPW5ldyBBcnJheShsZW5ndGgpOztmb3IodmFyIGlpPTAsYmk9MDtpaTxpYS5sZW5ndGgmJmJpPGJhLmxlbmd0aDspe2lhW2lpKytdPShiaTxiYS5sZW5ndGg/KGJhW2JpKytdKTowKXwoYmk8YmEubGVuZ3RoPyhiYVtiaSsrXTw8OCk6MCl8KGJpPGJhLmxlbmd0aD8oYmFbYmkrK108PDE2KTowKXwoYmk8YmEubGVuZ3RoPyhiYVtiaSsrXTw8MjQpOjApO30KcmV0dXJuIGlhO30KZnVuY3Rpb24gdHJpbShzKXt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaWR4PTA7aWR4PHMubGVuZ3RoO2lkeCsrKXt2YXIgYz1zLmNoYXJBdChpZHgpO2lmKGM9PSJccyJ8fGM9PSJcdCJ8fGM9PSJcciJ8fGM9PSJcbiIpe31lbHNle3Jlc3VsdCs9Yzt9fQpyZXR1cm4gcmVzdWx0O30KZnVuY3Rpb24gbWt0c3QoZW5jb2RlLGRlY29kZSl7cmV0dXJuIGZ1bmN0aW9uKHRyaWFsLGZyb20sdG8pe3ZhciBmbGc9dHJ1ZTtmb3IodmFyIGk9MDtpPHRyaWFsO2krKyl7Zm9yKHZhciBqPWZyb207ajx0bztqKyspe3ZhciBhcnI9bmV3IEFycmF5KGopO2Zvcih2YXIgaz0wO2s8ajtrKyspCmFycltrXT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU2KTt2YXIgcz1lbmNvZGUoYXJyKTt2YXIgYj1kZWNvZGUocyk7dHJhY2UoImluIDoiK2Fyci5sZW5ndGgrIjoiK2Jhc2UxNl9lbmNvZGUoYXJyKSk7dHJhY2UoImI2NDoiK3MubGVuZ3RoKyI6IitzKTt0cmFjZSgib3V0OiIrYi5sZW5ndGgrIjoiK2Jhc2UxNl9lbmNvZGUoYXJyKSk7aWYoZXF1YWxzKGFycixiKSl7dHJhY2UoIk9LISAoICIraSsiLCIraisiKSIpO31lbHNle3RyYWNlKCJFUlIgKCAiK2krIiwiK2orIikiKTtmbGc9ZmFsc2U7fQp0cmFjZSgiLS0tLS0tLS0tLS0iKTt9fQppZihmbGcpe3RyYWNlKCJBTEwgT0shICIpO31lbHNle3RyYWNlKCJGT1VORCBFUlJPUiEiKTt9fTt9CnBhY2thZ2VSb290LmJhc2U2NF9lbmNvZGU9YmFzZTY0X2VuY29kZTtwYWNrYWdlUm9vdC5iYXNlNjRfZGVjb2RlPWJhc2U2NF9kZWNvZGU7cGFja2FnZVJvb3QuYmFzZTY0X3Rlc3Q9bWt0c3QoYmFzZTY0X2VuY29kZSxiYXNlNjRfZGVjb2RlKTtwYWNrYWdlUm9vdC5iYXNlNjR4X2VuY29kZT1iYXNlNjR4X2VuY29kZTtwYWNrYWdlUm9vdC5iYXNlNjR4X2RlY29kZT1iYXNlNjR4X2RlY29kZTtwYWNrYWdlUm9vdC5iYXNlNjR4X3Rlc3Q9bWt0c3QoYmFzZTY0eF9lbmNvZGUsYmFzZTY0eF9kZWNvZGUpO3BhY2thZ2VSb290LmJhc2U2NHhfcHJlX2VuY29kZT1iYXNlNjR4X3ByZV9lbmNvZGU7cGFja2FnZVJvb3QuYmFzZTY0eF9wcmVfZGVjb2RlPWJhc2U2NHhfcHJlX2RlY29kZTtwYWNrYWdlUm9vdC5iYXNlMTZfZW5jb2RlPWJhc2UxNl9lbmNvZGU7cGFja2FnZVJvb3QuYmFzZTE2X2RlY29kZT1iYXNlMTZfZGVjb2RlO3BhY2thZ2VSb290LmJhc2UxNj1iYXNlMTY7cGFja2FnZVJvb3QuaGV4PWJhc2UxNjtwYWNrYWdlUm9vdC51dGY4MnN0cj11dGY4MnN0cjtwYWNrYWdlUm9vdC5zdHIydXRmOD1zdHIydXRmODtwYWNrYWdlUm9vdC5zdHIyY2hhcj1zdHIyY2hhcjtwYWNrYWdlUm9vdC5jaGFyMnN0cj1jaGFyMnN0cjtwYWNrYWdlUm9vdC5pMmJhPWkyYmFfYmU7cGFja2FnZVJvb3QuYmEyaT1iYTJpX2JlO3BhY2thZ2VSb290LmkyYmFfYmU9aTJiYV9iZTtwYWNrYWdlUm9vdC5iYTJpX2JlPWJhMmlfYmU7cGFja2FnZVJvb3QuaTJiYV9sZT1pMmJhX2xlO3BhY2thZ2VSb290LmJhMmlfbGU9YmEyaV9sZTtwYWNrYWdlUm9vdC5zMmJhPXMyYmFfYmU7cGFja2FnZVJvb3QuYmEycz1iYTJzX2JlO3BhY2thZ2VSb290LnMyYmFfYmU9czJiYV9iZTtwYWNrYWdlUm9vdC5iYTJzX2JlPWJhMnNfYmU7cGFja2FnZVJvb3QuczJiYV9sZT1zMmJhX2xlO3BhY2thZ2VSb290LmJhMnNfbGU9YmEyc19sZTtwYWNrYWdlUm9vdC5iYTJpYT1iYTJpYV9iZTtwYWNrYWdlUm9vdC5pYTJiYT1pYTJiYV9iZTtwYWNrYWdlUm9vdC5pYTJiYV9iZT1pYTJiYV9iZTtwYWNrYWdlUm9vdC5iYTJpYV9iZT1iYTJpYV9iZTtwYWNrYWdlUm9vdC5pYTJiYV9sZT1pYTJiYV9sZTtwYWNrYWdlUm9vdC5iYTJpYV9sZT1iYTJpYV9sZTtwYWNrYWdlUm9vdC5jbXBhcnI9ZXF1YWxzO30KaW5pdEJpbmFyeShfX0NyeXB0byk7ZnVuY3Rpb24gaW5pdEJsb2NrQ2lwaGVyKHBhY2thZ2VSb290KXtfX0NyeXB0by5fX3VuaXQoIkNpcGhlci5qcyIpO19fQ3J5cHRvLl9fdXNlcygicGFja2FnZXMuanMiKTt2YXIgTUFYSU5UPTB4RkZGRkZGRkY7ZnVuY3Rpb24gcm90YihiLG4pe3JldHVybihiPDxufGI+Pj4oOC1uKSkmMHhGRjt9CmZ1bmN0aW9uIHJvdHcodyxuKXtyZXR1cm4odzw8bnx3Pj4+KDMyLW4pKSZNQVhJTlQ7fQpmdW5jdGlvbiBnZXRXKGEsaSl7cmV0dXJuIGFbaV18YVtpKzFdPDw4fGFbaSsyXTw8MTZ8YVtpKzNdPDwyNDt9CmZ1bmN0aW9uIHNldFcoYSxpLHcpe2Euc3BsaWNlKGksNCx3JjB4RkYsKHc+Pj44KSYweEZGLCh3Pj4+MTYpJjB4RkYsKHc+Pj4yNCkmMHhGRik7fQpmdW5jdGlvbiBzZXRXSW52KGEsaSx3KXthLnNwbGljZShpLDQsKHc+Pj4yNCkmMHhGRiwodz4+PjE2KSYweEZGLCh3Pj4+OCkmMHhGRix3JjB4RkYpO30KZnVuY3Rpb24gZ2V0Qih4LG4pe3JldHVybih4Pj4+KG4qOCkpJjB4RkY7fQpmdW5jdGlvbiBnZXROckJpdHMoaSl7dmFyIG49MDt3aGlsZShpPjApe24rKztpPj4+PTE7fQpyZXR1cm4gbjt9CmZ1bmN0aW9uIGdldE1hc2sobil7cmV0dXJuKDE8PG4pLTE7fQpmdW5jdGlvbiByYW5kQnl0ZSgpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU2KTt9CnZhciBBTEdPUklUSE1TPXt9O2Z1bmN0aW9uIGNyZWF0ZVJpam5kYWVsKCl7dmFyIGtleUJ5dGVzPW51bGw7dmFyIGRhdGFCeXRlcz1udWxsO3ZhciBkYXRhT2Zmc2V0PS0xO3ZhciBhbGdvcml0aG1OYW1lPW51bGw7YWxnb3JpdGhtTmFtZT0icmlqbmRhZWwiCnZhciBhZXNOazt2YXIgYWVzTnI7dmFyIGFlc1Bvd3M7dmFyIGFlc0xvZ3M7dmFyIGFlc1NCb3g7dmFyIGFlc1NCb3hJbnY7dmFyIGFlc1Jjbzt2YXIgYWVzRnRhYmxlO3ZhciBhZXNSdGFibGU7dmFyIGFlc0ZpO3ZhciBhZXNSaTt2YXIgYWVzRmtleTt2YXIgYWVzUmtleTtmdW5jdGlvbiBhZXNNdWx0KHgseSl7cmV0dXJuKHgmJnkpP2Flc1Bvd3NbKGFlc0xvZ3NbeF0rYWVzTG9nc1t5XSklMjU1XTowO30KZnVuY3Rpb24gYWVzUGFja0Jsb2NrKCl7cmV0dXJuW2dldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQpLGdldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrNCksZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs4KSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzEyKV07fQpmdW5jdGlvbiBhZXNVbnBhY2tCbG9jayhwYWNrZWQpe2Zvcih2YXIgaj0wO2o8NDtqKyssZGF0YU9mZnNldCs9NClzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0LHBhY2tlZFtqXSk7fQpmdW5jdGlvbiBhZXNYVGltZShwKXtwPDw9MTtyZXR1cm4gcCYweDEwMD9wXjB4MTFCOnA7fQpmdW5jdGlvbiBhZXNTdWJCeXRlKHcpe3JldHVybiBhZXNTQm94W2dldEIodywwKV18YWVzU0JveFtnZXRCKHcsMSldPDw4fGFlc1NCb3hbZ2V0Qih3LDIpXTw8MTZ8YWVzU0JveFtnZXRCKHcsMyldPDwyNDt9CmZ1bmN0aW9uIGFlc1Byb2R1Y3QodzEsdzIpe3JldHVybiBhZXNNdWx0KGdldEIodzEsMCksZ2V0Qih3MiwwKSleYWVzTXVsdChnZXRCKHcxLDEpLGdldEIodzIsMSkpXmFlc011bHQoZ2V0Qih3MSwyKSxnZXRCKHcyLDIpKV5hZXNNdWx0KGdldEIodzEsMyksZ2V0Qih3MiwzKSk7fQpmdW5jdGlvbiBhZXNJbnZNaXhDb2woeCl7cmV0dXJuIGFlc1Byb2R1Y3QoMHgwOTBkMGIwZSx4KXxhZXNQcm9kdWN0KDB4MGQwYjBlMDkseCk8PDh8YWVzUHJvZHVjdCgweDBiMGUwOTBkLHgpPDwxNnxhZXNQcm9kdWN0KDB4MGUwOTBkMGIseCk8PDI0O30KZnVuY3Rpb24gYWVzQnl0ZVN1Yih4KXt2YXIgeT1hZXNQb3dzWzI1NS1hZXNMb2dzW3hdXTt4PXk7eD1yb3RiKHgsMSk7eV49eDt4PXJvdGIoeCwxKTt5Xj14O3g9cm90Yih4LDEpO3lePXg7eD1yb3RiKHgsMSk7cmV0dXJuIHheeV4weDYzO30KZnVuY3Rpb24gYWVzR2VuVGFibGVzKCl7dmFyIGkseTthZXNQb3dzPVsxLDNdO2Flc0xvZ3M9WzAsMCxudWxsLDFdO2Flc1NCb3g9bmV3IEFycmF5KDI1Nik7YWVzU0JveEludj1uZXcgQXJyYXkoMjU2KTthZXNGdGFibGU9bmV3IEFycmF5KDI1Nik7YWVzUnRhYmxlPW5ldyBBcnJheSgyNTYpO2Flc1Jjbz1uZXcgQXJyYXkoMzApO2ZvcihpPTI7aTwyNTY7aSsrKXthZXNQb3dzW2ldPWFlc1Bvd3NbaS0xXV5hZXNYVGltZShhZXNQb3dzW2ktMV0pO2Flc0xvZ3NbYWVzUG93c1tpXV09aTt9CmFlc1NCb3hbMF09MHg2MzthZXNTQm94SW52WzB4NjNdPTA7Zm9yKGk9MTtpPDI1NjtpKyspe3k9YWVzQnl0ZVN1YihpKTthZXNTQm94W2ldPXk7YWVzU0JveEludlt5XT1pO30KZm9yKGk9MCx5PTE7aTwzMDtpKyspe2Flc1Jjb1tpXT15O3k9YWVzWFRpbWUoeSk7fQpmb3IoaT0wO2k8MjU2O2krKyl7eT1hZXNTQm94W2ldO2Flc0Z0YWJsZVtpXT1hZXNYVGltZSh5KXx5PDw4fHk8PDE2fCh5XmFlc1hUaW1lKHkpKTw8MjQ7eT1hZXNTQm94SW52W2ldO2Flc1J0YWJsZVtpXT1hZXNNdWx0KDE0LHkpfGFlc011bHQoOSx5KTw8OHxhZXNNdWx0KDEzLHkpPDwxNnxhZXNNdWx0KDExLHkpPDwyNDt9fQpmdW5jdGlvbiBhZXNJbml0KGtleSl7a2V5Qnl0ZXM9a2V5O2tleUJ5dGVzPWtleUJ5dGVzLnNsaWNlKDAsMzIpO3ZhciBpLGssbTt2YXIgaj0wO3ZhciBsPWtleUJ5dGVzLmxlbmd0aDt3aGlsZShsIT0xNiYmbCE9MjQmJmwhPTMyKWtleUJ5dGVzW2wrK109a2V5Qnl0ZXNbaisrXTthZXNHZW5UYWJsZXMoKTthZXNOaz1rZXlCeXRlcy5sZW5ndGg+Pj4yO2Flc05yPTYrYWVzTms7dmFyIE49NCooYWVzTnIrMSk7YWVzRmk9bmV3IEFycmF5KDEyKTthZXNSaT1uZXcgQXJyYXkoMTIpO2Flc0ZrZXk9bmV3IEFycmF5KE4pO2Flc1JrZXk9bmV3IEFycmF5KE4pO2ZvcihtPWo9MDtqPDQ7aisrLG0rPTMpe2Flc0ZpW21dPShqKzEpJTQ7YWVzRmlbbSsxXT0oaisyKSU0O2Flc0ZpW20rMl09KGorMyklNDthZXNSaVttXT0oNCtqLTEpJTQ7YWVzUmlbbSsxXT0oNCtqLTIpJTQ7YWVzUmlbbSsyXT0oNCtqLTMpJTQ7fQpmb3IoaT1qPTA7aTxhZXNOaztpKyssais9NClhZXNGa2V5W2ldPWdldFcoa2V5Qnl0ZXMsaik7Zm9yKGs9MCxqPWFlc05rO2o8TjtqKz1hZXNOayxrKyspe2Flc0ZrZXlbal09YWVzRmtleVtqLWFlc05rXV5hZXNTdWJCeXRlKHJvdHcoYWVzRmtleVtqLTFdLDI0KSleYWVzUmNvW2tdO2lmKGFlc05rPD02KWZvcihpPTE7aTxhZXNOayYmKGkraik8TjtpKyspYWVzRmtleVtpK2pdPWFlc0ZrZXlbaStqLWFlc05rXV5hZXNGa2V5W2krai0xXTtlbHNle2ZvcihpPTE7aTw0JiYoaStqKTxOO2krKylhZXNGa2V5W2kral09YWVzRmtleVtpK2otYWVzTmtdXmFlc0ZrZXlbaStqLTFdO2lmKChqKzQpPE4pYWVzRmtleVtqKzRdPWFlc0ZrZXlbais0LWFlc05rXV5hZXNTdWJCeXRlKGFlc0ZrZXlbaiszXSk7Zm9yKGk9NTtpPGFlc05rJiYoaStqKTxOO2krKylhZXNGa2V5W2kral09YWVzRmtleVtpK2otYWVzTmtdXmFlc0ZrZXlbaStqLTFdO319CmZvcihqPTA7ajw0O2orKylhZXNSa2V5W2orTi00XT1hZXNGa2V5W2pdO2ZvcihpPTQ7aTxOLTQ7aSs9NCl7az1OLTQtaTtmb3Ioaj0wO2o8NDtqKyspYWVzUmtleVtrK2pdPWFlc0ludk1peENvbChhZXNGa2V5W2kral0pO30KZm9yKGo9Ti00O2o8TjtqKyspYWVzUmtleVtqLU4rNF09YWVzRmtleVtqXTt9CmZ1bmN0aW9uIGFlc0Nsb3NlKCl7YWVzUG93cz1hZXNMb2dzPWFlc1NCb3g9YWVzU0JveEludj1hZXNSY289bnVsbDthZXNGdGFibGU9YWVzUnRhYmxlPWFlc0ZpPWFlc1JpPWFlc0ZrZXk9YWVzUmtleT1udWxsO30KZnVuY3Rpb24gYWVzUm91bmRzKGJsb2NrLGtleSx0YWJsZSxpbmMsYm94KXt2YXIgdG1wPW5ldyBBcnJheSg0KTt2YXIgaSxqLG0scjtmb3Iocj0wO3I8NDtyKyspYmxvY2tbcl1ePWtleVtyXTtmb3IoaT0xO2k8YWVzTnI7aSsrKXtmb3Ioaj1tPTA7ajw0O2orKyxtKz0zKXt0bXBbal09a2V5W3IrK11edGFibGVbYmxvY2tbal0mMHhGRl1ecm90dyh0YWJsZVsoYmxvY2tbaW5jW21dXT4+PjgpJjB4RkZdLDgpXnJvdHcodGFibGVbKGJsb2NrW2luY1ttKzFdXT4+PjE2KSYweEZGXSwxNilecm90dyh0YWJsZVsoYmxvY2tbaW5jW20rMl1dPj4+MjQpJjB4RkZdLDI0KTt9CnZhciB0PWJsb2NrO2Jsb2NrPXRtcDt0bXA9dDt9CmZvcihqPW09MDtqPDQ7aisrLG0rPTMpCnRtcFtqXT1rZXlbcisrXV5ib3hbYmxvY2tbal0mMHhGRl1ecm90dyhib3hbKGJsb2NrW2luY1ttXV0+Pj44KSYweEZGXSw4KV5yb3R3KGJveFsoYmxvY2tbaW5jW20rMV1dPj4+MTYpJjB4RkZdLDE2KV5yb3R3KGJveFsoYmxvY2tbaW5jW20rMl1dPj4+MjQpJjB4RkZdLDI0KTtyZXR1cm4gdG1wO30KZnVuY3Rpb24gYWVzRW5jcnlwdChkYXRhLG9mZnNldCl7ZGF0YUJ5dGVzPWRhdGE7ZGF0YU9mZnNldD1vZmZzZXQ7YWVzVW5wYWNrQmxvY2soYWVzUm91bmRzKGFlc1BhY2tCbG9jaygpLGFlc0ZrZXksYWVzRnRhYmxlLGFlc0ZpLGFlc1NCb3gpKTt9CmZ1bmN0aW9uIGFlc0RlY3J5cHQoZGF0YSxvZmZzZXQpe2RhdGFCeXRlcz1kYXRhO2RhdGFPZmZzZXQ9b2Zmc2V0O2Flc1VucGFja0Jsb2NrKGFlc1JvdW5kcyhhZXNQYWNrQmxvY2soKSxhZXNSa2V5LGFlc1J0YWJsZSxhZXNSaSxhZXNTQm94SW52KSk7fQpyZXR1cm57bmFtZToicmlqbmRhZWwiLGJsb2Nrc2l6ZToxMjgvOCxvcGVuOmFlc0luaXQsY2xvc2U6YWVzQ2xvc2UsZW5jcnlwdDphZXNFbmNyeXB0LGRlY3J5cHQ6YWVzRGVjcnlwdH07fQpBTEdPUklUSE1TLlJJSk5EQUVMPXtjcmVhdGU6Y3JlYXRlUmlqbmRhZWx9O2Z1bmN0aW9uIGNyZWF0ZVNlcnBlbnQoKXt2YXIga2V5Qnl0ZXM9bnVsbDt2YXIgZGF0YUJ5dGVzPW51bGw7dmFyIGRhdGFPZmZzZXQ9LTE7dmFyIGFsZ29yaXRobU5hbWU9bnVsbDthbGdvcml0aG1OYW1lPSJzZXJwZW50Ijt2YXIgc3JwS2V5PVtdO2Z1bmN0aW9uIHNycEsocixhLGIsYyxkLGkpe3JbYV1ePXNycEtleVs0KmldO3JbYl1ePXNycEtleVs0KmkrMV07cltjXV49c3JwS2V5WzQqaSsyXTtyW2RdXj1zcnBLZXlbNCppKzNdO30KZnVuY3Rpb24gc3JwTEsocixhLGIsYyxkLGUsaSl7clthXT1yb3R3KHJbYV0sMTMpO3JbY109cm90dyhyW2NdLDMpO3JbYl1ePXJbYV07cltlXT0oclthXTw8MykmTUFYSU5UO3JbZF1ePXJbY107cltiXV49cltjXTtyW2JdPXJvdHcocltiXSwxKTtyW2RdXj1yW2VdO3JbZF09cm90dyhyW2RdLDcpO3JbZV09cltiXTtyW2FdXj1yW2JdO3JbZV09KHJbZV08PDcpJk1BWElOVDtyW2NdXj1yW2RdO3JbYV1ePXJbZF07cltjXV49cltlXTtyW2RdXj1zcnBLZXlbNCppKzNdO3JbYl1ePXNycEtleVs0KmkrMV07clthXT1yb3R3KHJbYV0sNSk7cltjXT1yb3R3KHJbY10sMjIpO3JbYV1ePXNycEtleVs0KmkrMF07cltjXV49c3JwS2V5WzQqaSsyXTt9CmZ1bmN0aW9uIHNycEtMKHIsYSxiLGMsZCxlLGkpe3JbYV1ePXNycEtleVs0KmkrMF07cltiXV49c3JwS2V5WzQqaSsxXTtyW2NdXj1zcnBLZXlbNCppKzJdO3JbZF1ePXNycEtleVs0KmkrM107clthXT1yb3R3KHJbYV0sMjcpO3JbY109cm90dyhyW2NdLDEwKTtyW2VdPXJbYl07cltjXV49cltkXTtyW2FdXj1yW2RdO3JbZV09KHJbZV08PDcpJk1BWElOVDtyW2FdXj1yW2JdO3JbYl09cm90dyhyW2JdLDMxKTtyW2NdXj1yW2VdO3JbZF09cm90dyhyW2RdLDI1KTtyW2VdPShyW2FdPDwzKSZNQVhJTlQ7cltiXV49clthXTtyW2RdXj1yW2VdO3JbYV09cm90dyhyW2FdLDE5KTtyW2JdXj1yW2NdO3JbZF1ePXJbY107cltjXT1yb3R3KHJbY10sMjkpO30KdmFyIHNycFM9W2Z1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDNdO3JbeDNdfD1yW3gwXTtyW3gwXV49clt4NF07clt4NF1ePXJbeDJdO3JbeDRdPX5yW3g0XTtyW3gzXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDFdXj1yW3g0XTtyW3gyXV49clt4MF07clt4MF1ePXJbeDNdO3JbeDRdfD1yW3gwXTtyW3gwXV49clt4Ml07clt4Ml0mPXJbeDFdO3JbeDNdXj1yW3gyXTtyW3gxXT1+clt4MV07clt4Ml1ePXJbeDRdO3JbeDFdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDFdO3JbeDFdXj1yW3gwXTtyW3gwXV49clt4M107clt4M109fnJbeDNdO3JbeDRdJj1yW3gxXTtyW3gwXXw9clt4MV07clt4M11ePXJbeDJdO3JbeDBdXj1yW3gzXTtyW3gxXV49clt4M107clt4M11ePXJbeDRdO3JbeDFdfD1yW3g0XTtyW3g0XV49clt4Ml07clt4Ml0mPXJbeDBdO3JbeDJdXj1yW3gxXTtyW3gxXXw9clt4MF07clt4MF09fnJbeDBdO3JbeDBdXj1yW3gyXTtyW3g0XV49clt4MV07fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3gzXT1+clt4M107clt4MV1ePXJbeDBdO3JbeDRdPXJbeDBdO3JbeDBdJj1yW3gyXTtyW3gwXV49clt4M107clt4M118PXJbeDRdO3JbeDJdXj1yW3gxXTtyW3gzXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gyXSY9clt4M107clt4M118PXJbeDFdO3JbeDBdPX5yW3gwXTtyW3gzXV49clt4MF07clt4NF1ePXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gxXXw9clt4Ml07fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3g0XT1yW3gxXTtyW3gxXV49clt4M107clt4M118PXJbeDBdO3JbeDRdJj1yW3gwXTtyW3gwXV49clt4Ml07clt4Ml1ePXJbeDFdO3JbeDFdJj1yW3gzXTtyW3gyXV49clt4M107clt4MF18PXJbeDRdO3JbeDRdXj1yW3gzXTtyW3gxXV49clt4MF07clt4MF0mPXJbeDNdO3JbeDNdJj1yW3g0XTtyW3gzXV49clt4Ml07clt4NF18PXJbeDFdO3JbeDJdJj1yW3gxXTtyW3g0XV49clt4M107clt4MF1ePXJbeDNdO3JbeDNdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDNdO3JbeDNdJj1yW3gwXTtyW3gwXV49clt4NF07clt4M11ePXJbeDJdO3JbeDJdfD1yW3g0XTtyW3gwXV49clt4MV07clt4NF1ePXJbeDNdO3JbeDJdfD1yW3gwXTtyW3gyXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDFdXj1yW3g0XTtyW3g0XSY9clt4Ml07clt4Ml1ePXJbeDNdO3JbeDRdXj1yW3gwXTtyW3gzXXw9clt4MV07clt4MV09fnJbeDFdO3JbeDNdXj1yW3gwXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDFdO3JbeDFdfD1yW3gwXTtyW3gyXV49clt4MV07clt4M109fnJbeDNdO3JbeDRdXj1yW3gwXTtyW3gwXV49clt4Ml07clt4MV0mPXJbeDRdO3JbeDRdfD1yW3gzXTtyW3g0XV49clt4MF07clt4MF0mPXJbeDNdO3JbeDFdXj1yW3gzXTtyW3gzXV49clt4Ml07clt4MF1ePXJbeDFdO3JbeDJdJj1yW3g0XTtyW3gxXV49clt4Ml07clt4Ml0mPXJbeDBdO3JbeDNdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDRdPXJbeDFdO3JbeDNdXj1yW3gwXTtyW3gxXV49clt4Ml07clt4Ml1ePXJbeDBdO3JbeDBdJj1yW3gzXTtyW3gxXXw9clt4M107clt4NF09fnJbeDRdO3JbeDBdXj1yW3gxXTtyW3gxXV49clt4Ml07clt4M11ePXJbeDRdO3JbeDRdXj1yW3gwXTtyW3gyXSY9clt4MF07clt4NF1ePXJbeDFdO3JbeDJdXj1yW3gzXTtyW3gzXSY9clt4MV07clt4M11ePXJbeDBdO3JbeDFdXj1yW3gyXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDFdPX5yW3gxXTtyW3g0XT1yW3gxXTtyW3gwXT1+clt4MF07clt4MV0mPXJbeDJdO3JbeDFdXj1yW3gzXTtyW3gzXXw9clt4NF07clt4NF1ePXJbeDJdO3JbeDJdXj1yW3gzXTtyW3gzXV49clt4MF07clt4MF18PXJbeDFdO3JbeDJdJj1yW3gwXTtyW3gwXV49clt4NF07clt4NF1ePXJbeDNdO3JbeDNdJj1yW3gwXTtyW3g0XV49clt4MV07clt4Ml1ePXJbeDRdO3JbeDNdXj1yW3gxXTtyW3g0XXw9clt4MF07clt4NF1ePXJbeDFdO31dO3ZhciBzcnBTST1bZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4NF09clt4M107clt4MV1ePXJbeDBdO3JbeDNdfD1yW3gxXTtyW3g0XV49clt4MV07clt4MF09fnJbeDBdO3JbeDJdXj1yW3gzXTtyW3gzXV49clt4MF07clt4MF0mPXJbeDFdO3JbeDBdXj1yW3gyXTtyW3gyXSY9clt4M107clt4M11ePXJbeDRdO3JbeDJdXj1yW3gzXTtyW3gxXV49clt4M107clt4M10mPXJbeDBdO3JbeDFdXj1yW3gwXTtyW3gwXV49clt4Ml07clt4NF1ePXJbeDNdO30sZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4MV1ePXJbeDNdO3JbeDRdPXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gyXT1+clt4Ml07clt4NF18PXJbeDFdO3JbeDRdXj1yW3gzXTtyW3gzXSY9clt4MV07clt4MV1ePXJbeDJdO3JbeDJdJj1yW3g0XTtyW3g0XV49clt4MV07clt4MV18PXJbeDNdO3JbeDNdXj1yW3gwXTtyW3gyXV49clt4MF07clt4MF18PXJbeDRdO3JbeDJdXj1yW3g0XTtyW3gxXV49clt4MF07clt4NF1ePXJbeDFdO30sZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4Ml1ePXJbeDFdO3JbeDRdPXJbeDNdO3JbeDNdPX5yW3gzXTtyW3gzXXw9clt4Ml07clt4Ml1ePXJbeDRdO3JbeDRdXj1yW3gwXTtyW3gzXV49clt4MV07clt4MV18PXJbeDJdO3JbeDJdXj1yW3gwXTtyW3gxXV49clt4NF07clt4NF18PXJbeDNdO3JbeDJdXj1yW3gzXTtyW3g0XV49clt4Ml07clt4Ml0mPXJbeDFdO3JbeDJdXj1yW3gzXTtyW3gzXV49clt4NF07clt4NF1ePXJbeDBdO30sZnVuY3Rpb24ocix4MCx4MSx4Mix4Myx4NCl7clt4Ml1ePXJbeDFdO3JbeDRdPXJbeDFdO3JbeDFdJj1yW3gyXTtyW3gxXV49clt4MF07clt4MF18PXJbeDRdO3JbeDRdXj1yW3gzXTtyW3gwXV49clt4M107clt4M118PXJbeDFdO3JbeDFdXj1yW3gyXTtyW3gxXV49clt4M107clt4MF1ePXJbeDJdO3JbeDJdXj1yW3gzXTtyW3gzXSY9clt4MV07clt4MV1ePXJbeDBdO3JbeDBdJj1yW3gyXTtyW3g0XV49clt4M107clt4M11ePXJbeDBdO3JbeDBdXj1yW3gxXTt9LGZ1bmN0aW9uKHIseDAseDEseDIseDMseDQpe3JbeDJdXj1yW3gzXTtyW3g0XT1yW3gwXTtyW3gwXSY9clt4MV07clt4MF1ePXJbeDJdO3JbeDJdfD1yW3gzXTtyW3g0XT1+clt4NF07clt4MV1ePXJbeDBdO3JbeDBdXj1yW3gyXTtyW3gyXSY9clt4NF07clt4Ml1ePXJbeDBdO3JbeDBdfD1yW3g0XTtyW3gwXV49clt4M107clt4M10mPXJbeDJdO3JbeDRdXj1yW3gzXTtyW3gzXV49clt4MV07clt4MV0mPXJbeDBdO3JbeDRdXj1yW3gxXTtyW3gwXV49clt4M107fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3g0XT1yW3gxXTtyW3gxXXw9clt4Ml07clt4Ml1ePXJbeDRdO3JbeDFdXj1yW3gzXTtyW3gzXSY9clt4NF07clt4Ml1ePXJbeDNdO3JbeDNdfD1yW3gwXTtyW3gwXT1+clt4MF07clt4M11ePXJbeDJdO3JbeDJdfD1yW3gwXTtyW3g0XV49clt4MV07clt4Ml1ePXJbeDRdO3JbeDRdJj1yW3gwXTtyW3gwXV49clt4MV07clt4MV1ePXJbeDNdO3JbeDBdJj1yW3gyXTtyW3gyXV49clt4M107clt4MF1ePXJbeDJdO3JbeDJdXj1yW3g0XTtyW3g0XV49clt4M107fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3gwXV49clt4Ml07clt4NF09clt4MF07clt4MF0mPXJbeDNdO3JbeDJdXj1yW3gzXTtyW3gwXV49clt4Ml07clt4M11ePXJbeDFdO3JbeDJdfD1yW3g0XTtyW3gyXV49clt4M107clt4M10mPXJbeDBdO3JbeDBdPX5yW3gwXTtyW3gzXV49clt4MV07clt4MV0mPXJbeDJdO3JbeDRdXj1yW3gwXTtyW3gzXV49clt4NF07clt4NF1ePXJbeDJdO3JbeDBdXj1yW3gxXTtyW3gyXV49clt4MF07fSxmdW5jdGlvbihyLHgwLHgxLHgyLHgzLHg0KXtyW3g0XT1yW3gzXTtyW3gzXSY9clt4MF07clt4MF1ePXJbeDJdO3JbeDJdfD1yW3g0XTtyW3g0XV49clt4MV07clt4MF09fnJbeDBdO3JbeDFdfD1yW3gzXTtyW3g0XV49clt4MF07clt4MF0mPXJbeDJdO3JbeDBdXj1yW3gxXTtyW3gxXSY9clt4Ml07clt4M11ePXJbeDJdO3JbeDRdXj1yW3gzXTtyW3gyXSY9clt4M107clt4M118PXJbeDBdO3JbeDFdXj1yW3g0XTtyW3gzXV49clt4NF07clt4NF0mPXJbeDBdO3JbeDRdXj1yW3gyXTt9XTt2YXIgc3JwS2M9Wzc3ODgsNjM3MTYsODQwMzIsNzg5MSw3ODk0OSwyNTE0NiwyODgzNSw2NzI4OCw4NDAzMiw0MDA1NSw3MzYxLDE5NDAsNzc2MzksMjc1MjUsMjQxOTMsNzU3MDIsNzM2MSwzNTQxMyw4MzE1MCw4MjM4Myw1ODYxOSw0ODQ2OCwxODI0Miw2Njg2MSw4MzE1MCw2OTY2Nyw3Nzg4LDMxNTUyLDQwMDU0LDIzMjIyLDUyNDk2LDU3NTY1LDc3ODgsNjM3MTZdO3ZhciBzcnBFYz1bNDQyNTUsNjE4NjcsNDUwMzQsNTI0OTYsNzMwODcsNTYyNTUsNDM4MjcsNDE0NDgsMTgyNDIsMTkzOSwxODU4MSw1NjI1NSw2NDU4NCwzMTA5NywyNjQ2OSw3NzcyOCw3NzYzOSw0MjE2LDY0NTg1LDMxMDk3LDY2ODYxLDc4OTQ5LDU4MDA2LDU5OTQzLDQ5Njc2LDc4OTUwLDU1MTIsNzg5NDksMjc1MjUsNTI0OTYsMTg2NzAsNzYxNDNdO3ZhciBzcnBEYz1bNDQyNTUsNjA4OTYsMjg4MzUsMTgzNywxMDU3LDQyMTYsMTgyNDIsNzczMDEsNDczOTksNTM5OTIsMTkzOSwxOTQwLDY2NDIwLDM5MTcyLDc4OTUwLDQ1OTE3LDgyMzgzLDc0NTAsNjcyODgsMjY0NjksODMxNDksNTc1NjUsNjY0MTksNDc0MDAsNTgwMDYsNDQyNTQsMTg1ODEsMTgyMjgsMzMwNDgsNDUwMzQsNjY1MDgsNzQ0OV07ZnVuY3Rpb24gc3JwSW5pdChrZXkpe2tleUJ5dGVzPWtleTt2YXIgaSxqLG0sbjtmdW5jdGlvbiBrZXlJdChhLGIsYyxkLGkpe3NycEtleVtpXT1yW2JdPXJvdHcoc3JwS2V5W2FdXnJbYl1ecltjXV5yW2RdXjB4OWUzNzc5YjleaSwxMSk7fQpmdW5jdGlvbiBrZXlMb2FkKGEsYixjLGQsaSl7clthXT1zcnBLZXlbaV07cltiXT1zcnBLZXlbaSsxXTtyW2NdPXNycEtleVtpKzJdO3JbZF09c3JwS2V5W2krM107fQpmdW5jdGlvbiBrZXlTdG9yZShhLGIsYyxkLGkpe3NycEtleVtpXT1yW2FdO3NycEtleVtpKzFdPXJbYl07c3JwS2V5W2krMl09cltjXTtzcnBLZXlbaSszXT1yW2RdO30Ka2V5Qnl0ZXMucmV2ZXJzZSgpO2tleUJ5dGVzW2tleUJ5dGVzLmxlbmd0aF09MTt3aGlsZShrZXlCeXRlcy5sZW5ndGg8MzIpa2V5Qnl0ZXNba2V5Qnl0ZXMubGVuZ3RoXT0wO2ZvcihpPTA7aTw4O2krKyl7c3JwS2V5W2ldPShrZXlCeXRlc1s0KmkrMF0mMHhmZil8KGtleUJ5dGVzWzQqaSsxXSYweGZmKTw8OHwoa2V5Qnl0ZXNbNCppKzJdJjB4ZmYpPDwxNnwoa2V5Qnl0ZXNbNCppKzNdJjB4ZmYpPDwyNDt9CnZhciByPVtzcnBLZXlbM10sc3JwS2V5WzRdLHNycEtleVs1XSxzcnBLZXlbNl0sc3JwS2V5WzddXTtpPTA7aj0wO3doaWxlKGtleUl0KGorKywwLDQsMixpKyspLGtleUl0KGorKywxLDAsMyxpKyspLGk8MTMyKXtrZXlJdChqKyssMiwxLDQsaSsrKTtpZihpPT04KXtqPTA7fQprZXlJdChqKyssMywyLDAsaSsrKTtrZXlJdChqKyssNCwzLDEsaSsrKTt9Cmk9MTI4O2o9MztuPTA7d2hpbGUobT1zcnBLY1tuKytdLHNycFNbaisrJThdKHIsbSU1LG0lNyxtJTExLG0lMTMsbSUxNyksbT1zcnBLY1tuXSxrZXlTdG9yZShtJTUsbSU3LG0lMTEsbSUxMyxpKSxpPjApe2ktPTQ7a2V5TG9hZChtJTUsbSU3LG0lMTEsbSUxMyxpKTt9fQpmdW5jdGlvbiBzcnBDbG9zZSgpe3NycEtleT1bXTt9CmZ1bmN0aW9uIHNycEVuY3J5cHQoZGF0YSxvZmZzZXQpe2RhdGFCeXRlcz1kYXRhO2RhdGFPZmZzZXQ9b2Zmc2V0O3ZhciBibGs9ZGF0YUJ5dGVzLnNsaWNlKGRhdGFPZmZzZXQsZGF0YU9mZnNldCsxNik7YmxrLnJldmVyc2UoKTt2YXIgcj1bZ2V0VyhibGssMCksZ2V0VyhibGssNCksZ2V0VyhibGssOCksZ2V0VyhibGssMTIpXTtzcnBLKHIsMCwxLDIsMywwKTt2YXIgbj0wLG09c3JwRWNbbl07d2hpbGUoc3JwU1tuJThdKHIsbSU1LG0lNyxtJTExLG0lMTMsbSUxNyksbjwzMSl7bT1zcnBFY1srK25dO3NycExLKHIsbSU1LG0lNyxtJTExLG0lMTMsbSUxNyxuKTt9CnNycEsociwwLDEsMiwzLDMyKTtmb3IodmFyIGo9MztqPj0wO2otLSxkYXRhT2Zmc2V0Kz00KXNldFdJbnYoZGF0YUJ5dGVzLGRhdGFPZmZzZXQscltqXSk7fQpmdW5jdGlvbiBzcnBEZWNyeXB0KGRhdGEsb2Zmc2V0KXtkYXRhQnl0ZXM9ZGF0YTtkYXRhT2Zmc2V0PW9mZnNldDt2YXIgYmxrPWRhdGFCeXRlcy5zbGljZShkYXRhT2Zmc2V0LGRhdGFPZmZzZXQrMTYpO2Jsay5yZXZlcnNlKCk7dmFyIHI9W2dldFcoYmxrLDApLGdldFcoYmxrLDQpLGdldFcoYmxrLDgpLGdldFcoYmxrLDEyKV07c3JwSyhyLDAsMSwyLDMsMzIpO3ZhciBuPTAsbT1zcnBEY1tuXTt3aGlsZShzcnBTSVs3LW4lOF0ocixtJTUsbSU3LG0lMTEsbSUxMyxtJTE3KSxuPDMxKXttPXNycERjWysrbl07c3JwS0wocixtJTUsbSU3LG0lMTEsbSUxMyxtJTE3LDMyLW4pO30Kc3JwSyhyLDIsMywxLDQsMCk7c2V0V0ludihkYXRhQnl0ZXMsZGF0YU9mZnNldCxyWzRdKTtzZXRXSW52KGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzQsclsxXSk7c2V0V0ludihkYXRhQnl0ZXMsZGF0YU9mZnNldCs4LHJbM10pO3NldFdJbnYoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrMTIsclsyXSk7ZGF0YU9mZnNldCs9MTY7fQpyZXR1cm57bmFtZToic2VycGVudCIsYmxvY2tzaXplOjEyOC84LG9wZW46c3JwSW5pdCxjbG9zZTpzcnBDbG9zZSxlbmNyeXB0OnNycEVuY3J5cHQsZGVjcnlwdDpzcnBEZWNyeXB0fTt9CkFMR09SSVRITVMuU0VSUEVOVD17Y3JlYXRlOmNyZWF0ZVNlcnBlbnR9O2Z1bmN0aW9uIGNyZWF0ZVR3b2Zpc2goKXt2YXIga2V5Qnl0ZXM9bnVsbDt2YXIgZGF0YUJ5dGVzPW51bGw7dmFyIGRhdGFPZmZzZXQ9LTE7dmFyIGFsZ29yaXRobU5hbWU9bnVsbDthbGdvcml0aG1OYW1lPSJ0d29maXNoIjt2YXIgdGZzS2V5PVtdO3ZhciB0ZnNNPVtbXSxbXSxbXSxbXV07ZnVuY3Rpb24gdGZzSW5pdChrZXkpe2tleUJ5dGVzPWtleTt2YXIgaSxhLGIsYyxkLG1lS2V5PVtdLG1vS2V5PVtdLGluS2V5PVtdO3ZhciBrTGVuO3ZhciBzS2V5PVtdO3ZhciBmMDEsZjViLGZlZjt2YXIgcTA9W1s4LDEsNywxMyw2LDE1LDMsMiwwLDExLDUsOSwxNCwxMiwxMCw0XSxbMiw4LDExLDEzLDE1LDcsNiwxNCwzLDEsOSw0LDAsMTAsMTIsNV1dO3ZhciBxMT1bWzE0LDEyLDExLDgsMSwyLDMsNSwxNSw0LDEwLDYsNywwLDksMTNdLFsxLDE0LDIsMTEsNCwxMiwzLDcsNiwxMywxMCw1LDE1LDksMCw4XV07dmFyIHEyPVtbMTEsMTAsNSwxNCw2LDEzLDksMCwxMiw4LDE1LDMsMiw0LDcsMV0sWzQsMTIsNyw1LDEsNiw5LDEwLDAsMTQsMTMsOCwyLDExLDMsMTVdXTt2YXIgcTM9W1sxMyw3LDE1LDQsMSwyLDYsMTQsOSwxMSwzLDAsOCw1LDEyLDEwXSxbMTEsOSw1LDEsMTIsMywxMywxNCw2LDQsNywxNSwyLDAsOCwxMF1dO3ZhciByb3I0PVswLDgsMSw5LDIsMTAsMywxMSw0LDEyLDUsMTMsNiwxNCw3LDE1XTt2YXIgYXNoeD1bMCw5LDIsMTEsNCwxMyw2LDE1LDgsMSwxMCwzLDEyLDUsMTQsN107dmFyIHE9W1tdLFtdXTt2YXIgbT1bW10sW10sW10sW11dO2Z1bmN0aW9uIGZmbTViKHgpe3JldHVybiB4Xih4Pj4yKV5bMCw5MCwxODAsMjM4XVt4JjNdO30KZnVuY3Rpb24gZmZtRWYoeCl7cmV0dXJuIHheKHg+PjEpXih4Pj4yKV5bMCwyMzgsMTgwLDkwXVt4JjNdO30KZnVuY3Rpb24gbWRzUmVtKHAscSl7dmFyIGksdCx1O2ZvcihpPTA7aTw4O2krKyl7dD1xPj4+MjQ7cT0oKHE8PDgpJk1BWElOVCl8cD4+PjI0O3A9KHA8PDgpJk1BWElOVDt1PXQ8PDE7aWYodCYxMjgpe3VePTMzMzt9CnFePXReKHU8PDE2KTt1Xj10Pj4+MTtpZih0JjEpe3VePTE2Njt9CnFePXU8PDI0fHU8PDg7fQpyZXR1cm4gcTt9CmZ1bmN0aW9uIHFwKG4seCl7dmFyIGEsYixjLGQ7YT14Pj40O2I9eCYxNTtjPXEwW25dW2FeYl07ZD1xMVtuXVtyb3I0W2JdXmFzaHhbYV1dO3JldHVybiBxM1tuXVtyb3I0W2RdXmFzaHhbY11dPDw0fHEyW25dW2NeZF07fQpmdW5jdGlvbiBoRnVuKHgsa2V5KXt2YXIgYT1nZXRCKHgsMCksYj1nZXRCKHgsMSksYz1nZXRCKHgsMiksZD1nZXRCKHgsMyk7c3dpdGNoKGtMZW4pe2Nhc2UgNDphPXFbMV1bYV1eZ2V0QihrZXlbM10sMCk7Yj1xWzBdW2JdXmdldEIoa2V5WzNdLDEpO2M9cVswXVtjXV5nZXRCKGtleVszXSwyKTtkPXFbMV1bZF1eZ2V0QihrZXlbM10sMyk7Y2FzZSAzOmE9cVsxXVthXV5nZXRCKGtleVsyXSwwKTtiPXFbMV1bYl1eZ2V0QihrZXlbMl0sMSk7Yz1xWzBdW2NdXmdldEIoa2V5WzJdLDIpO2Q9cVswXVtkXV5nZXRCKGtleVsyXSwzKTtjYXNlIDI6YT1xWzBdW3FbMF1bYV1eZ2V0QihrZXlbMV0sMCldXmdldEIoa2V5WzBdLDApO2I9cVswXVtxWzFdW2JdXmdldEIoa2V5WzFdLDEpXV5nZXRCKGtleVswXSwxKTtjPXFbMV1bcVswXVtjXV5nZXRCKGtleVsxXSwyKV1eZ2V0QihrZXlbMF0sMik7ZD1xWzFdW3FbMV1bZF1eZ2V0QihrZXlbMV0sMyldXmdldEIoa2V5WzBdLDMpO30KcmV0dXJuIG1bMF1bYV1ebVsxXVtiXV5tWzJdW2NdXm1bM11bZF07fQprZXlCeXRlcz1rZXlCeXRlcy5zbGljZSgwLDMyKTtpPWtleUJ5dGVzLmxlbmd0aDt3aGlsZShpIT0xNiYmaSE9MjQmJmkhPTMyKWtleUJ5dGVzW2krK109MDtmb3IoaT0wO2k8a2V5Qnl0ZXMubGVuZ3RoO2krPTQpe2luS2V5W2k+PjJdPWdldFcoa2V5Qnl0ZXMsaSk7fQpmb3IoaT0wO2k8MjU2O2krKyl7cVswXVtpXT1xcCgwLGkpO3FbMV1baV09cXAoMSxpKTt9CmZvcihpPTA7aTwyNTY7aSsrKXtmMDE9cVsxXVtpXTtmNWI9ZmZtNWIoZjAxKTtmZWY9ZmZtRWYoZjAxKTttWzBdW2ldPWYwMSsoZjViPDw4KSsoZmVmPDwxNikrKGZlZjw8MjQpO21bMl1baV09ZjViKyhmZWY8PDgpKyhmMDE8PDE2KSsoZmVmPDwyNCk7ZjAxPXFbMF1baV07ZjViPWZmbTViKGYwMSk7ZmVmPWZmbUVmKGYwMSk7bVsxXVtpXT1mZWYrKGZlZjw8OCkrKGY1Yjw8MTYpKyhmMDE8PDI0KTttWzNdW2ldPWY1YisoZjAxPDw4KSsoZmVmPDwxNikrKGY1Yjw8MjQpO30Ka0xlbj1pbktleS5sZW5ndGgvMjtmb3IoaT0wO2k8a0xlbjtpKyspe2E9aW5LZXlbaStpXTttZUtleVtpXT1hO2I9aW5LZXlbaStpKzFdO21vS2V5W2ldPWI7c0tleVtrTGVuLWktMV09bWRzUmVtKGEsYik7fQpmb3IoaT0wO2k8NDA7aSs9Mil7YT0weDEwMTAxMDEqaTtiPWErMHgxMDEwMTAxO2E9aEZ1bihhLG1lS2V5KTtiPXJvdHcoaEZ1bihiLG1vS2V5KSw4KTt0ZnNLZXlbaV09KGErYikmTUFYSU5UO3Rmc0tleVtpKzFdPXJvdHcoYSsyKmIsOSk7fQpmb3IoaT0wO2k8MjU2O2krKyl7YT1iPWM9ZD1pO3N3aXRjaChrTGVuKXtjYXNlIDQ6YT1xWzFdW2FdXmdldEIoc0tleVszXSwwKTtiPXFbMF1bYl1eZ2V0QihzS2V5WzNdLDEpO2M9cVswXVtjXV5nZXRCKHNLZXlbM10sMik7ZD1xWzFdW2RdXmdldEIoc0tleVszXSwzKTtjYXNlIDM6YT1xWzFdW2FdXmdldEIoc0tleVsyXSwwKTtiPXFbMV1bYl1eZ2V0QihzS2V5WzJdLDEpO2M9cVswXVtjXV5nZXRCKHNLZXlbMl0sMik7ZD1xWzBdW2RdXmdldEIoc0tleVsyXSwzKTtjYXNlIDI6dGZzTVswXVtpXT1tWzBdW3FbMF1bcVswXVthXV5nZXRCKHNLZXlbMV0sMCldXmdldEIoc0tleVswXSwwKV07dGZzTVsxXVtpXT1tWzFdW3FbMF1bcVsxXVtiXV5nZXRCKHNLZXlbMV0sMSldXmdldEIoc0tleVswXSwxKV07dGZzTVsyXVtpXT1tWzJdW3FbMV1bcVswXVtjXV5nZXRCKHNLZXlbMV0sMildXmdldEIoc0tleVswXSwyKV07dGZzTVszXVtpXT1tWzNdW3FbMV1bcVsxXVtkXV5nZXRCKHNLZXlbMV0sMyldXmdldEIoc0tleVswXSwzKV07fX19CmZ1bmN0aW9uIHRmc0cwKHgpe3JldHVybiB0ZnNNWzBdW2dldEIoeCwwKV1edGZzTVsxXVtnZXRCKHgsMSldXnRmc01bMl1bZ2V0Qih4LDIpXV50ZnNNWzNdW2dldEIoeCwzKV07fQpmdW5jdGlvbiB0ZnNHMSh4KXtyZXR1cm4gdGZzTVswXVtnZXRCKHgsMyldXnRmc01bMV1bZ2V0Qih4LDApXV50ZnNNWzJdW2dldEIoeCwxKV1edGZzTVszXVtnZXRCKHgsMildO30KZnVuY3Rpb24gdGZzRnJuZChyLGJsayl7dmFyIGE9dGZzRzAoYmxrWzBdKTt2YXIgYj10ZnNHMShibGtbMV0pO2Jsa1syXT1yb3R3KGJsa1syXV4oYStiK3Rmc0tleVs0KnIrOF0pJk1BWElOVCwzMSk7YmxrWzNdPXJvdHcoYmxrWzNdLDEpXihhKzIqYit0ZnNLZXlbNCpyKzldKSZNQVhJTlQ7YT10ZnNHMChibGtbMl0pO2I9dGZzRzEoYmxrWzNdKTtibGtbMF09cm90dyhibGtbMF1eKGErYit0ZnNLZXlbNCpyKzEwXSkmTUFYSU5ULDMxKTtibGtbMV09cm90dyhibGtbMV0sMSleKGErMipiK3Rmc0tleVs0KnIrMTFdKSZNQVhJTlQ7fQpmdW5jdGlvbiB0ZnNJcm5kKGksYmxrKXt2YXIgYT10ZnNHMChibGtbMF0pO3ZhciBiPXRmc0cxKGJsa1sxXSk7YmxrWzJdPXJvdHcoYmxrWzJdLDEpXihhK2IrdGZzS2V5WzQqaSsxMF0pJk1BWElOVDtibGtbM109cm90dyhibGtbM11eKGErMipiK3Rmc0tleVs0KmkrMTFdKSZNQVhJTlQsMzEpO2E9dGZzRzAoYmxrWzJdKTtiPXRmc0cxKGJsa1szXSk7YmxrWzBdPXJvdHcoYmxrWzBdLDEpXihhK2IrdGZzS2V5WzQqaSs4XSkmTUFYSU5UO2Jsa1sxXT1yb3R3KGJsa1sxXV4oYSsyKmIrdGZzS2V5WzQqaSs5XSkmTUFYSU5ULDMxKTt9CmZ1bmN0aW9uIHRmc0Nsb3NlKCl7dGZzS2V5PVtdO3Rmc009W1tdLFtdLFtdLFtdXTt9CmZ1bmN0aW9uIHRmc0VuY3J5cHQoZGF0YSxvZmZzZXQpe2RhdGFCeXRlcz1kYXRhO2RhdGFPZmZzZXQ9b2Zmc2V0O3ZhciBibGs9W2dldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQpXnRmc0tleVswXSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzQpXnRmc0tleVsxXSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzgpXnRmc0tleVsyXSxnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzEyKV50ZnNLZXlbM11dO2Zvcih2YXIgaj0wO2o8ODtqKyspe3Rmc0ZybmQoaixibGspO30Kc2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCxibGtbMl1edGZzS2V5WzRdKTtzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzQsYmxrWzNdXnRmc0tleVs1XSk7c2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs4LGJsa1swXV50ZnNLZXlbNl0pO3NldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrMTIsYmxrWzFdXnRmc0tleVs3XSk7ZGF0YU9mZnNldCs9MTY7fQpmdW5jdGlvbiB0ZnNEZWNyeXB0KGRhdGEsb2Zmc2V0KXtkYXRhQnl0ZXM9ZGF0YTtkYXRhT2Zmc2V0PW9mZnNldDt2YXIgYmxrPVtnZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KV50ZnNLZXlbNF0sZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs0KV50ZnNLZXlbNV0sZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCs4KV50ZnNLZXlbNl0sZ2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCsxMiledGZzS2V5WzddXTtmb3IodmFyIGo9NztqPj0wO2otLSl7dGZzSXJuZChqLGJsayk7fQpzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0LGJsa1syXV50ZnNLZXlbMF0pO3NldFcoZGF0YUJ5dGVzLGRhdGFPZmZzZXQrNCxibGtbM11edGZzS2V5WzFdKTtzZXRXKGRhdGFCeXRlcyxkYXRhT2Zmc2V0KzgsYmxrWzBdXnRmc0tleVsyXSk7c2V0VyhkYXRhQnl0ZXMsZGF0YU9mZnNldCsxMixibGtbMV1edGZzS2V5WzNdKTtkYXRhT2Zmc2V0Kz0xNjt9CnJldHVybntuYW1lOiJ0d29maXNoIixibG9ja3NpemU6MTI4Lzgsb3Blbjp0ZnNJbml0LGNsb3NlOnRmc0Nsb3NlLGVuY3J5cHQ6dGZzRW5jcnlwdCxkZWNyeXB0OnRmc0RlY3J5cHR9O30KQUxHT1JJVEhNUy5UV09GSVNIPXtjcmVhdGU6Y3JlYXRlVHdvZmlzaH07dmFyIE1PREVTPXt9O2Z1bmN0aW9uIGNyZWF0ZUVDQigpe2Z1bmN0aW9uIGVuY3J5cHRPcGVuRUNCKCl7dGhpcy5hbGdvcml0aG0ub3Blbih0aGlzLmtleUJ5dGVzKTt0aGlzLmRhdGFMZW5ndGg9dGhpcy5kYXRhQnl0ZXMubGVuZ3RoO3RoaXMuZGF0YU9mZnNldD0wO3JldHVybjt9CmZ1bmN0aW9uIGVuY3J5cHRDbG9zZUVDQigpe3RoaXMuYWxnb3JpdGhtLmNsb3NlKCk7fQpmdW5jdGlvbiBlbmNyeXB0UHJvY0VDQigpe3RoaXMuYWxnb3JpdGhtLmVuY3J5cHQodGhpcy5kYXRhQnl0ZXMsdGhpcy5kYXRhT2Zmc2V0KTt0aGlzLmRhdGFPZmZzZXQrPXRoaXMuYWxnb3JpdGhtLmJsb2Nrc2l6ZTtpZih0aGlzLmRhdGFMZW5ndGg8PXRoaXMuZGF0YU9mZnNldCl7cmV0dXJuIDA7fWVsc2V7cmV0dXJuIHRoaXMuZGF0YUxlbmd0aC10aGlzLmRhdGFPZmZzZXQ7fX0KZnVuY3Rpb24gZGVjcnlwdE9wZW5FQ0IoKXt0aGlzLmFsZ29yaXRobS5vcGVuKHRoaXMua2V5Qnl0ZXMpO3RoaXMuZGF0YUxlbmd0aD10aGlzLmRhdGFCeXRlcy5sZW5ndGg7dGhpcy5kYXRhT2Zmc2V0PTA7cmV0dXJuO30KZnVuY3Rpb24gZGVjcnlwdFByb2NFQ0IoKXt0aGlzLmFsZ29yaXRobS5kZWNyeXB0KHRoaXMuZGF0YUJ5dGVzLHRoaXMuZGF0YU9mZnNldCk7dGhpcy5kYXRhT2Zmc2V0Kz10aGlzLmFsZ29yaXRobS5ibG9ja3NpemU7aWYodGhpcy5kYXRhTGVuZ3RoPD10aGlzLmRhdGFPZmZzZXQpe3JldHVybiAwO31lbHNle3JldHVybiB0aGlzLmRhdGFMZW5ndGgtdGhpcy5kYXRhT2Zmc2V0O319CmZ1bmN0aW9uIGRlY3J5cHRDbG9zZUVDQigpe3RoaXMuYWxnb3JpdGhtLmNsb3NlKCk7d2hpbGUodGhpcy5kYXRhQnl0ZXNbdGhpcy5kYXRhQnl0ZXMubGVuZ3RoLTFdPT0wKQp0aGlzLmRhdGFCeXRlcy5wb3AoKTt9CnJldHVybntlbmNyeXB0OntvcGVuOmVuY3J5cHRPcGVuRUNCLGV4ZWM6ZW5jcnlwdFByb2NFQ0IsY2xvc2U6ZW5jcnlwdENsb3NlRUNCfSxkZWNyeXB0OntvcGVuOmRlY3J5cHRPcGVuRUNCLGV4ZWM6ZGVjcnlwdFByb2NFQ0IsY2xvc2U6ZGVjcnlwdENsb3NlRUNCfX07fQpNT0RFUy5FQ0I9Y3JlYXRlRUNCKCk7ZnVuY3Rpb24gY3JlYXRlQ0JDKCl7ZnVuY3Rpb24gZW5jcnlwdE9wZW5DQkMoKXt0aGlzLmFsZ29yaXRobS5vcGVuKHRoaXMua2V5Qnl0ZXMpO3RoaXMuZGF0YUJ5dGVzLnVuc2hpZnQocmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSxyYW5kQnl0ZSgpLHJhbmRCeXRlKCkscmFuZEJ5dGUoKSk7dGhpcy5kYXRhTGVuZ3RoPXRoaXMuZGF0YUJ5dGVzLmxlbmd0aDt0aGlzLmRhdGFPZmZzZXQ9MTY7cmV0dXJuO30KZnVuY3Rpb24gZW5jcnlwdFByb2NDQkMoKXtmb3IodmFyIGlkeDI9dGhpcy5kYXRhT2Zmc2V0O2lkeDI8dGhpcy5kYXRhT2Zmc2V0KzE2O2lkeDIrKykKdGhpcy5kYXRhQnl0ZXNbaWR4Ml1ePXRoaXMuZGF0YUJ5dGVzW2lkeDItMTZdO3RoaXMuYWxnb3JpdGhtLmVuY3J5cHQodGhpcy5kYXRhQnl0ZXMsdGhpcy5kYXRhT2Zmc2V0KTt0aGlzLmRhdGFPZmZzZXQrPXRoaXMuYWxnb3JpdGhtLmJsb2Nrc2l6ZTtpZih0aGlzLmRhdGFMZW5ndGg8PXRoaXMuZGF0YU9mZnNldCl7cmV0dXJuIDA7fWVsc2V7cmV0dXJuIHRoaXMuZGF0YUxlbmd0aC10aGlzLmRhdGFPZmZzZXQ7fX0KZnVuY3Rpb24gZW5jcnlwdENsb3NlQ0JDKCl7dGhpcy5hbGdvcml0aG0uY2xvc2UoKTt9CmZ1bmN0aW9uIGRlY3J5cHRPcGVuQ0JDKCl7dGhpcy5hbGdvcml0aG0ub3Blbih0aGlzLmtleUJ5dGVzKTt0aGlzLmRhdGFMZW5ndGg9dGhpcy5kYXRhQnl0ZXMubGVuZ3RoO3RoaXMuZGF0YU9mZnNldD0xNjt0aGlzLml2PXRoaXMuZGF0YUJ5dGVzLnNsaWNlKDAsMTYpO3JldHVybjt9CmZ1bmN0aW9uIGRlY3J5cHRQcm9jQ0JDKCl7dmFyIGl2Mj10aGlzLmRhdGFCeXRlcy5zbGljZSh0aGlzLmRhdGFPZmZzZXQsdGhpcy5kYXRhT2Zmc2V0KzE2KTt0aGlzLmFsZ29yaXRobS5kZWNyeXB0KHRoaXMuZGF0YUJ5dGVzLHRoaXMuZGF0YU9mZnNldCk7Zm9yKHZhciBpaT0wO2lpPDE2O2lpKyspCnRoaXMuZGF0YUJ5dGVzW3RoaXMuZGF0YU9mZnNldCtpaV1ePXRoaXMuaXZbaWldO3RoaXMuZGF0YU9mZnNldCs9dGhpcy5hbGdvcml0aG0uYmxvY2tzaXplO3RoaXMuaXY9aXYyO2lmKHRoaXMuZGF0YUxlbmd0aDw9dGhpcy5kYXRhT2Zmc2V0KXtyZXR1cm4gMDt9ZWxzZXtyZXR1cm4gdGhpcy5kYXRhTGVuZ3RoLXRoaXMuZGF0YU9mZnNldDt9fQpmdW5jdGlvbiBkZWNyeXB0Q2xvc2VDQkMoKXt0aGlzLmFsZ29yaXRobS5jbG9zZSgpO3RoaXMuZGF0YUJ5dGVzLnNwbGljZSgwLDE2KTt3aGlsZSh0aGlzLmRhdGFCeXRlc1t0aGlzLmRhdGFCeXRlcy5sZW5ndGgtMV09PTApCnRoaXMuZGF0YUJ5dGVzLnBvcCgpO30KcmV0dXJue2VuY3J5cHQ6e29wZW46ZW5jcnlwdE9wZW5DQkMsZXhlYzplbmNyeXB0UHJvY0NCQyxjbG9zZTplbmNyeXB0Q2xvc2VDQkN9LGRlY3J5cHQ6e29wZW46ZGVjcnlwdE9wZW5DQkMsZXhlYzpkZWNyeXB0UHJvY0NCQyxjbG9zZTpkZWNyeXB0Q2xvc2VDQkN9fTt9Ck1PREVTLkNCQz1jcmVhdGVDQkMoKTtmdW5jdGlvbiBjcmVhdGVDRkIoKXtmdW5jdGlvbiBlbmNyeXB0T3BlbkNGQigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZW5jcnlwdFByb2NDRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGVuY3J5cHRDbG9zZUNGQigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZGVjcnlwdE9wZW5DRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGRlY3J5cHRQcm9jQ0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBkZWNyeXB0Q2xvc2VDRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CnJldHVybntlbmNyeXB0OntvcGVuOmVuY3J5cHRPcGVuQ0ZCLGV4ZWM6ZW5jcnlwdFByb2NDRkIsY2xvc2U6ZW5jcnlwdENsb3NlQ0ZCfSxkZWNyeXB0OntvcGVuOmRlY3J5cHRPcGVuQ0ZCLGV4ZWM6ZGVjcnlwdFByb2NDRkIsY2xvc2U6ZGVjcnlwdENsb3NlQ0ZCfX07fQpNT0RFUy5DRkI9Y3JlYXRlQ0ZCKCk7ZnVuY3Rpb24gY3JlYXRlT0ZCKCl7ZnVuY3Rpb24gZW5jcnlwdE9wZW5PRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGVuY3J5cHRQcm9jT0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBlbmNyeXB0Q2xvc2VPRkIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGRlY3J5cHRPcGVuT0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBkZWNyeXB0UHJvY09GQigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZGVjcnlwdENsb3NlT0ZCKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpyZXR1cm57ZW5jcnlwdDp7b3BlbjplbmNyeXB0T3Blbk9GQixleGVjOmVuY3J5cHRQcm9jT0ZCLGNsb3NlOmVuY3J5cHRDbG9zZU9GQn0sZGVjcnlwdDp7b3BlbjpkZWNyeXB0T3Blbk9GQixleGVjOmRlY3J5cHRQcm9jT0ZCLGNsb3NlOmRlY3J5cHRDbG9zZU9GQn19O30KTU9ERVMuT0ZCPWNyZWF0ZU9GQigpO2Z1bmN0aW9uIGNyZWF0ZUNUUigpe2Z1bmN0aW9uIGVuY3J5cHRPcGVuQ1RSKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBlbmNyeXB0UHJvY0NUUigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZW5jcnlwdENsb3NlQ1RSKCl7dGhyb3cibm90IGltcGxlbWVudGVkISI7fQpmdW5jdGlvbiBkZWNyeXB0T3BlbkNUUigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KZnVuY3Rpb24gZGVjcnlwdFByb2NDVFIoKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQhIjt9CmZ1bmN0aW9uIGRlY3J5cHRDbG9zZUNUUigpe3Rocm93Im5vdCBpbXBsZW1lbnRlZCEiO30KcmV0dXJue2VuY3J5cHQ6e29wZW46ZW5jcnlwdE9wZW5DVFIsZXhlYzplbmNyeXB0UHJvY0NUUixjbG9zZTplbmNyeXB0Q2xvc2VDVFJ9LGRlY3J5cHQ6e29wZW46ZGVjcnlwdE9wZW5DVFIsZXhlYzpkZWNyeXB0UHJvY0NUUixjbG9zZTpkZWNyeXB0Q2xvc2VDVFJ9fTt9Ck1PREVTLkNUUj1jcmVhdGVDVFIoKTt2YXIgUEFERElOR1M9e307ZnVuY3Rpb24gY3JlYXRlUkZDMTMyMSgpe2Z1bmN0aW9uIGFwcGVuZFBhZGRpbmdSRkMxMzIxKGRhdGEpe3ZhciBsZW49MTYtKGRhdGEubGVuZ3RoJTE2KTtkYXRhLnB1c2goMHg4MCk7Zm9yKHZhciBpPTE7aTxsZW47aSsrKXtkYXRhLnB1c2goMHgwMCk7fQpyZXR1cm4gZGF0YTt9CmZ1bmN0aW9uIHJlbW92ZVBhZGRpbmdSRkMxMzIxKGRhdGEpe2Zvcih2YXIgaT1kYXRhLmxlbmd0aC0xOzA8PWk7aS0tKXt2YXIgdmFsPWRhdGFbaV07aWYodmFsPT0weDgwKXtkYXRhLnNwbGljZShpKTticmVhazt9ZWxzZSBpZih2YWwhPTB4MDApe2JyZWFrO319CnJldHVybiBkYXRhO30KcmV0dXJue2FwcGVuZDphcHBlbmRQYWRkaW5nUkZDMTMyMSxyZW1vdmU6cmVtb3ZlUGFkZGluZ1JGQzEzMjF9O307UEFERElOR1MuUkZDMTMyMT1jcmVhdGVSRkMxMzIxKCk7ZnVuY3Rpb24gY3JlYXRlQU5TSVg5MjMoKXtmdW5jdGlvbiBhcHBlbmRQYWRkaW5nQU5TSVg5MjMoZGF0YSl7dmFyIGxlbj0xNi0oZGF0YS5sZW5ndGglMTYpO2Zvcih2YXIgaT0wO2k8bGVuLTE7aSsrKXtkYXRhLnB1c2goMHgwMCk7fQpkYXRhLnB1c2gobGVuKTtyZXR1cm4gZGF0YTt9CmZ1bmN0aW9uIHJlbW92ZVBhZGRpbmdBTlNJWDkyMyhkYXRhKXt2YXIgbGVuPWRhdGEucG9wKCk7aWYoMTY8bGVuKWxlbj0xNjtmb3IodmFyIGk9MTtpPGxlbjtpKyspe2RhdGEucG9wKCk7fQpyZXR1cm4gZGF0YTt9CnJldHVybnthcHBlbmQ6YXBwZW5kUGFkZGluZ0FOU0lYOTIzLHJlbW92ZTpyZW1vdmVQYWRkaW5nQU5TSVg5MjN9O30KUEFERElOR1MuQU5TSVg5MjM9Y3JlYXRlQU5TSVg5MjMoKTtmdW5jdGlvbiBjcmVhdGVJU08xMDEyNigpe2Z1bmN0aW9uIGFwcGVuZFBhZGRpbmdJU08xMDEyNihkYXRhKXt2YXIgbGVuPTE2LShkYXRhLmxlbmd0aCUxNik7Zm9yKHZhciBpPTA7aTxsZW4tMTtpKyspe2RhdGEucHVzaChyYW5kQnl0ZSgpKTt9CmRhdGEucHVzaChsZW4pO3JldHVybiBkYXRhO30KZnVuY3Rpb24gcmVtb3ZlUGFkZGluZ0lTTzEwMTI2KGRhdGEpe3ZhciBsZW49ZGF0YS5wb3AoKTtpZigxNjxsZW4pbGVuPTE2O2Zvcih2YXIgaT0xO2k8bGVuO2krKyl7ZGF0YS5wb3AoKTt9CnJldHVybiBkYXRhO30KcmV0dXJue2FwcGVuZDphcHBlbmRQYWRkaW5nSVNPMTAxMjYscmVtb3ZlOnJlbW92ZVBhZGRpbmdJU08xMDEyNn07fQpQQURESU5HUy5JU08xMDEyNj1jcmVhdGVJU08xMDEyNigpO2Z1bmN0aW9uIGNyZWF0ZVBLQ1M3KCl7ZnVuY3Rpb24gYXBwZW5kUGFkZGluZ1BLQ1M3KGRhdGEpe3ZhciBsZW49MTYtKGRhdGEubGVuZ3RoJTE2KTtmb3IodmFyIGk9MDtpPGxlbjtpKyspe2RhdGEucHVzaChsZW4pO30KcmV0dXJuIGRhdGE7fQpmdW5jdGlvbiByZW1vdmVQYWRkaW5nUEtDUzcoZGF0YSl7dmFyIGxlbj1kYXRhLnBvcCgpO2lmKDE2PGxlbilsZW49MDtmb3IodmFyIGk9MTtpPGxlbjtpKyspe2RhdGEucG9wKCk7fQpyZXR1cm4gZGF0YTt9CnJldHVybnthcHBlbmQ6YXBwZW5kUGFkZGluZ1BLQ1M3LHJlbW92ZTpyZW1vdmVQYWRkaW5nUEtDUzd9O30KUEFERElOR1MuUEtDUzc9Y3JlYXRlUEtDUzcoKTtmdW5jdGlvbiBjcmVhdGVOb1BhZGRpbmcoKXtmdW5jdGlvbiBhcHBlbmRQYWRkaW5nTm9uZShkYXRhKXtyZXR1cm4gZGF0YTt9CmZ1bmN0aW9uIHJlbW92ZVBhZGRpbmdOb25lKGRhdGEpe3JldHVybiBkYXRhO30KcmV0dXJue2FwcGVuZDphcHBlbmRQYWRkaW5nTm9uZSxyZW1vdmU6cmVtb3ZlUGFkZGluZ05vbmV9O30KUEFERElOR1MuTk9fUEFERElORz1jcmVhdGVOb1BhZGRpbmcoKTt2YXIgRElSRUNUSU9OUz17RU5DUllQVDoiZW5jcnlwdCIsREVDUllQVDoiZGVjcnlwdCJ9O2Z1bmN0aW9uIENpcGhlcihhbGdvcml0aG0sZGlyZWN0aW9uLG1vZGUscGFkZGluZyl7dGhpcy5hbGdvcml0aG09YWxnb3JpdGhtO3RoaXMuZGlyZWN0aW9uPWRpcmVjdGlvbjt0aGlzLm1vZGU9bW9kZTt0aGlzLnBhZGRpbmc9cGFkZGluZzt0aGlzLm1vZGVPcGVuPW1vZGVbZGlyZWN0aW9uXS5vcGVuO3RoaXMubW9kZUV4ZWM9bW9kZVtkaXJlY3Rpb25dLmV4ZWM7dGhpcy5tb2RlQ2xvc2U9bW9kZVtkaXJlY3Rpb25dLmNsb3NlO3RoaXMua2V5Qnl0ZXM9bnVsbDt0aGlzLmRhdGFCeXRlcz1udWxsO3RoaXMuZGF0YU9mZnNldD0tMTt0aGlzLmRhdGFMZW5ndGg9LTE7fQpDaXBoZXIucHJvdG90eXBlPW5ldyBPYmplY3QoKTtDaXBoZXIucHJvdG90eXBlLmluaGVyaXQ9Q2lwaGVyO2Z1bmN0aW9uIG9wZW4oa2V5Qnl0ZXMsZGF0YUJ5dGVzKXtpZihrZXlCeXRlcz09bnVsbCl0aHJvdyJrZXlCeXRlcyBpcyBudWxsIjtpZihkYXRhQnl0ZXM9PW51bGwpdGhyb3ciZGF0YUJ5dGVzIGlzIG51bGwiO3RoaXMua2V5Qnl0ZXM9a2V5Qnl0ZXMuY29uY2F0KCk7dGhpcy5kYXRhQnl0ZXM9ZGF0YUJ5dGVzO3RoaXMuZGF0YU9mZnNldD0wO3RoaXMuZGF0YUxlbmd0aD1kYXRhQnl0ZXMubGVuZ3RoO2lmKHRoaXMuZGlyZWN0aW9uPT1ESVJFQ1RJT05TLkVOQ1JZUFQpe3RoaXMucGFkZGluZy5hcHBlbmQodGhpcy5kYXRhQnl0ZXMpO30KdGhpcy5tb2RlT3BlbigpO30KZnVuY3Rpb24gb3BlcmF0ZSgpe3JldHVybiB0aGlzLm1vZGVFeGVjKCk7fQpmdW5jdGlvbiBjbG9zZSgpe3RoaXMubW9kZUNsb3NlKCk7aWYodGhpcy5kaXJlY3Rpb249PURJUkVDVElPTlMuREVDUllQVCl7dGhpcy5wYWRkaW5nLnJlbW92ZSh0aGlzLmRhdGFCeXRlcyk7fQpyZXR1cm4gdGhpcy5kYXRhQnl0ZXM7fQpmdW5jdGlvbiBleGVjdXRlKGtleUJ5dGVzLGRhdGFCeXRlcyl7dGhpcy5vcGVuKGtleUJ5dGVzLGRhdGFCeXRlcyk7Zm9yKDs7KXt2YXIgc2l6ZT10aGlzLm9wZXJhdGUoKTtpZigwPHNpemUpe2NvbnRpbnVlO31lbHNle2JyZWFrO319CnJldHVybiB0aGlzLmNsb3NlKCk7fQpDaXBoZXIucHJvdG90eXBlLm9wZW49b3BlbjtDaXBoZXIucHJvdG90eXBlLmNsb3NlPWNsb3NlO0NpcGhlci5wcm90b3R5cGUub3BlcmF0ZT1vcGVyYXRlO0NpcGhlci5wcm90b3R5cGUuZXhlY3V0ZT1leGVjdXRlO0NpcGhlci5FTkNSWVBUPSJFTkNSWVBUIjtDaXBoZXIuREVDUllQVD0iREVDUllQVCI7Q2lwaGVyLlJJSk5EQUVMPSJSSUpOREFFTCI7Q2lwaGVyLlNFUlBFTlQ9IlNFUlBFTlQiO0NpcGhlci5UV09GSVNIPSJUV09GSVNIIjtDaXBoZXIuRUNCPSJFQ0IiO0NpcGhlci5DQkM9IkNCQyI7Q2lwaGVyLkNGQj0iQ0ZCIjtDaXBoZXIuT0ZCPSJPRkIiO0NpcGhlci5DVFI9IkNUUiI7Q2lwaGVyLlJGQzEzMjE9IlJGQzEzMjEiO0NpcGhlci5BTlNJWDkyMz0iQU5TSVg5MjMiO0NpcGhlci5JU08xMDEyNj0iSVNPMTAxMjYiO0NpcGhlci5QS0NTNz0iUEtDUzciO0NpcGhlci5OT19QQURESU5HPSJOT19QQURESU5HIjtDaXBoZXIuY3JlYXRlPWZ1bmN0aW9uKGFsZ29yaXRobU5hbWUsZGlyZWN0aW9uTmFtZSxtb2RlTmFtZSxwYWRkaW5nTmFtZSl7aWYoYWxnb3JpdGhtTmFtZT09bnVsbClhbGdvcml0aG1OYW1lPUNpcGhlci5SSUpOREFFTDtpZihkaXJlY3Rpb25OYW1lPT1udWxsKWRpcmVjdGlvbk5hbWU9Q2lwaGVyLkVOQ1JZUFQ7aWYobW9kZU5hbWU9PW51bGwpbW9kZU5hbWU9Q2lwaGVyLkNCQztpZihwYWRkaW5nTmFtZT09bnVsbClwYWRkaW5nTmFtZT1DaXBoZXIuUEtDUzc7dmFyIGFsZ29yaXRobT1BTEdPUklUSE1TW2FsZ29yaXRobU5hbWVdO3ZhciBkaXJlY3Rpb249RElSRUNUSU9OU1tkaXJlY3Rpb25OYW1lXTt2YXIgbW9kZT1NT0RFU1ttb2RlTmFtZV07dmFyIHBhZGRpbmc9UEFERElOR1NbcGFkZGluZ05hbWVdO2lmKGFsZ29yaXRobT09bnVsbCl0aHJvdyJJbnZhbGlkIGFsZ29yaXRobSBuYW1lICciK2FsZ29yaXRobU5hbWUrIicuIjtpZihkaXJlY3Rpb249PW51bGwpdGhyb3ciSW52YWxpZCBkaXJlY3Rpb24gbmFtZSAnIitkaXJlY3Rpb25OYW1lKyInLiI7aWYobW9kZT09bnVsbCl0aHJvdyJJbnZhbGlkIG1vZGUgbmFtZSAnIittb2RlTmFtZSsiJy4iO2lmKHBhZGRpbmc9PW51bGwpdGhyb3ciSW52YWxpZCBwYWRkaW5nIG5hbWUgJyIrcGFkZGluZ05hbWUrIicuIjtyZXR1cm4gbmV3IENpcGhlcihhbGdvcml0aG0uY3JlYXRlKCksZGlyZWN0aW9uLG1vZGUscGFkZGluZyk7fTtDaXBoZXIuYWxnb3JpdGhtPWZ1bmN0aW9uKGFsZ29yaXRobU5hbWUpe2lmKGFsZ29yaXRobU5hbWU9PW51bGwpdGhyb3ciTnVsbCBQb2ludGVyIEV4Y2VwdGlvbiAoIGFsZ29yaXRobU5hbWUgKSI7dmFyIGFsZ29yaXRobT1BTEdPUklUSE1TW2FsZ29yaXRobU5hbWVdO2lmKGFsZ29yaXRobT09bnVsbCl0aHJvdyJJbnZhbGlkIGFsZ29yaXRobSBuYW1lICciK2FsZ29yaXRobU5hbWUrIicuIjtyZXR1cm4gYWxnb3JpdGhtLmNyZWF0ZSgpO30KX19DcnlwdG8uX19leHBvcnQocGFja2FnZVJvb3QsInRpdGFuaXVtY29yZS5jcnlwdG8uQ2lwaGVyIixDaXBoZXIpO30KaW5pdEJsb2NrQ2lwaGVyKF9fQ3J5cHRvKTtmdW5jdGlvbiBpbml0Uk5HKHBhY2thZ2VzKXtfX0NyeXB0by5fX3VuaXQoIlNlY3VyZVJhbmRvbS5qcyIpO19fQ3J5cHRvLl9fdXNlcygicGFja2FnZXMuanMiKTt2YXIgQXJjZm91cj1mdW5jdGlvbigpe3RoaXMuaT0wO3RoaXMuaj0wO3RoaXMuUz1uZXcgQXJyYXkoKTt9O0FyY2ZvdXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oa2V5KXt2YXIgaSxqLHQ7Zm9yKGk9MDtpPDI1NjsrK2kpCnRoaXMuU1tpXT1pO2o9MDtmb3IoaT0wO2k8MjU2OysraSl7aj0oait0aGlzLlNbaV0ra2V5W2kla2V5Lmxlbmd0aF0pJjI1NTt0PXRoaXMuU1tpXTt0aGlzLlNbaV09dGhpcy5TW2pdO3RoaXMuU1tqXT10O30KdGhpcy5pPTA7dGhpcy5qPTA7fTtBcmNmb3VyLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5pPSh0aGlzLmkrMSkmMjU1O3RoaXMuaj0odGhpcy5qK3RoaXMuU1t0aGlzLmldKSYyNTU7dD10aGlzLlNbdGhpcy5pXTt0aGlzLlNbdGhpcy5pXT10aGlzLlNbdGhpcy5qXTt0aGlzLlNbdGhpcy5qXT10O3JldHVybiB0aGlzLlNbKHQrdGhpcy5TW3RoaXMuaV0pJjI1NV07fTtBcmNmb3VyLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQXJjZm91cigpO307QXJjZm91ci5ybmdfcHNpemU9MjU2O3ZhciBybmdfc3RhdGU9bnVsbDt2YXIgcm5nX3Bvb2w9W107dmFyIHJuZ19wcHRyPTA7cm5nX3NlZWRfaW50PWZ1bmN0aW9uKHgpe3JuZ19wb29sW3JuZ19wcHRyXV49eCYyNTU7cm5nX3BwdHIrKztybmdfcG9vbFtybmdfcHB0cl1ePSh4Pj44KSYyNTU7cm5nX3BwdHIrKztybmdfcG9vbFtybmdfcHB0cl1ePSh4Pj4xNikmMjU1O3JuZ19wcHRyKys7cm5nX3Bvb2xbcm5nX3BwdHJdXj0oeD4+MjQpJjI1NTtybmdfcHB0cisrO2lmKHJuZ19wcHRyPj1BcmNmb3VyLnJuZ19wc2l6ZSlybmdfcHB0ci09QXJjZm91ci5ybmdfcHNpemU7fTtybmdfc2VlZF90aW1lPWZ1bmN0aW9uKCl7cm5nX3NlZWRfaW50KG5ldyBEYXRlKCkuZ2V0VGltZSgpKTt9O3Bvb2xfaW5pdD1mdW5jdGlvbigpe3ZhciB0O3doaWxlKHJuZ19wcHRyPEFyY2ZvdXIucm5nX3BzaXplKXt0PU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSk7cm5nX3Bvb2xbcm5nX3BwdHIrK109dD4+Pjg7cm5nX3Bvb2xbcm5nX3BwdHIrK109dCYyNTU7fQpybmdfcHB0cj0wO3JuZ19zZWVkX3RpbWUoKTt9O3ZhciBybmdfZ2V0X2J5dGU9ZnVuY3Rpb24oKXtpZihybmdfc3RhdGU9PW51bGwpe3JuZ19zZWVkX3RpbWUoKTtybmdfc3RhdGU9QXJjZm91ci5jcmVhdGUoKTtybmdfc3RhdGUuaW5pdChybmdfcG9vbCk7Zm9yKHJuZ19wcHRyPTA7cm5nX3BwdHI8cm5nX3Bvb2wubGVuZ3RoOysrcm5nX3BwdHIpCnJuZ19wb29sW3JuZ19wcHRyXT0wO3JuZ19wcHRyPTA7fQpyZXR1cm4gcm5nX3N0YXRlLm5leHQoKTt9O3ZhciBTZWN1cmVSYW5kb209ZnVuY3Rpb24oKXt9O1NlY3VyZVJhbmRvbS5wcm90b3R5cGUubmV4dEJ5dGVzPWZ1bmN0aW9uKGJhKXtmb3IodmFyIGk9MDtpPGJhLmxlbmd0aDsrK2kpCmJhW2ldPXJuZ19nZXRfYnl0ZSgpO307cG9vbF9pbml0KCk7X19DcnlwdG8uX19leHBvcnQocGFja2FnZXMsInRpdGFuaXVtY29yZS5jcnlwdG8uU2VjdXJlUmFuZG9tIixTZWN1cmVSYW5kb20pO307aW5pdFJORyhfX0NyeXB0byk7dmFyIGhleGNhc2U9MDt2YXIgYjY0cGFkPSIiO2Z1bmN0aW9uIGhleF9tZDUocyl7cmV0dXJuIHJzdHIyaGV4KHJzdHJfbWQ1KHN0cjJyc3RyX3V0ZjgocykpKTt9CmZ1bmN0aW9uIGI2NF9tZDUocyl7cmV0dXJuIHJzdHIyYjY0KHJzdHJfbWQ1KHN0cjJyc3RyX3V0ZjgocykpKTt9CmZ1bmN0aW9uIGFueV9tZDUocyxlKXtyZXR1cm4gcnN0cjJhbnkocnN0cl9tZDUoc3RyMnJzdHJfdXRmOChzKSksZSk7fQpmdW5jdGlvbiBoZXhfaG1hY19tZDUoayxkKQp7cmV0dXJuIHJzdHIyaGV4KHJzdHJfaG1hY19tZDUoc3RyMnJzdHJfdXRmOChrKSxzdHIycnN0cl91dGY4KGQpKSk7fQpmdW5jdGlvbiBiNjRfaG1hY19tZDUoayxkKQp7cmV0dXJuIHJzdHIyYjY0KHJzdHJfaG1hY19tZDUoc3RyMnJzdHJfdXRmOChrKSxzdHIycnN0cl91dGY4KGQpKSk7fQpmdW5jdGlvbiBhbnlfaG1hY19tZDUoayxkLGUpCntyZXR1cm4gcnN0cjJhbnkocnN0cl9obWFjX21kNShzdHIycnN0cl91dGY4KGspLHN0cjJyc3RyX3V0ZjgoZCkpLGUpO30KZnVuY3Rpb24gbWQ1X3ZtX3Rlc3QoKQp7cmV0dXJuIGhleF9tZDUoImFiYyIpLnRvTG93ZXJDYXNlKCk9PSI5MDAxNTA5ODNjZDI0ZmIwZDY5NjNmN2QyOGUxN2Y3MiI7fQpmdW5jdGlvbiByc3RyX21kNShzKQp7cmV0dXJuIGJpbmwycnN0cihiaW5sX21kNShyc3RyMmJpbmwocykscy5sZW5ndGgqOCkpO30KZnVuY3Rpb24gcnN0cl9obWFjX21kNShrZXksZGF0YSkKe3ZhciBia2V5PXJzdHIyYmlubChrZXkpO2lmKGJrZXkubGVuZ3RoPjE2KWJrZXk9YmlubF9tZDUoYmtleSxrZXkubGVuZ3RoKjgpO3ZhciBpcGFkPUFycmF5KDE2KSxvcGFkPUFycmF5KDE2KTtmb3IodmFyIGk9MDtpPDE2O2krKykKe2lwYWRbaV09YmtleVtpXV4weDM2MzYzNjM2O29wYWRbaV09YmtleVtpXV4weDVDNUM1QzVDO30KdmFyIGhhc2g9YmlubF9tZDUoaXBhZC5jb25jYXQocnN0cjJiaW5sKGRhdGEpKSw1MTIrZGF0YS5sZW5ndGgqOCk7cmV0dXJuIGJpbmwycnN0cihiaW5sX21kNShvcGFkLmNvbmNhdChoYXNoKSw1MTIrMTI4KSk7fQpmdW5jdGlvbiByc3RyMmhleChpbnB1dCkKe3RyeXtoZXhjYXNlfWNhdGNoKGUpe2hleGNhc2U9MDt9CnZhciBoZXhfdGFiPWhleGNhc2U/IjAxMjM0NTY3ODlBQkNERUYiOiIwMTIzNDU2Nzg5YWJjZGVmIjt2YXIgb3V0cHV0PSIiO3ZhciB4O2Zvcih2YXIgaT0wO2k8aW5wdXQubGVuZ3RoO2krKykKe3g9aW5wdXQuY2hhckNvZGVBdChpKTtvdXRwdXQrPWhleF90YWIuY2hhckF0KCh4Pj4+NCkmMHgwRikKK2hleF90YWIuY2hhckF0KHgmMHgwRik7fQpyZXR1cm4gb3V0cHV0O30KZnVuY3Rpb24gcnN0cjJiNjQoaW5wdXQpCnt0cnl7YjY0cGFkfWNhdGNoKGUpe2I2NHBhZD0nJzt9CnZhciB0YWI9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iO3ZhciBvdXRwdXQ9IiI7dmFyIGxlbj1pbnB1dC5sZW5ndGg7Zm9yKHZhciBpPTA7aTxsZW47aSs9MykKe3ZhciB0cmlwbGV0PShpbnB1dC5jaGFyQ29kZUF0KGkpPDwxNil8KGkrMTxsZW4/aW5wdXQuY2hhckNvZGVBdChpKzEpPDw4OjApfChpKzI8bGVuP2lucHV0LmNoYXJDb2RlQXQoaSsyKTowKTtmb3IodmFyIGo9MDtqPDQ7aisrKQp7aWYoaSo4K2oqNj5pbnB1dC5sZW5ndGgqOClvdXRwdXQrPWI2NHBhZDtlbHNlIG91dHB1dCs9dGFiLmNoYXJBdCgodHJpcGxldD4+PjYqKDMtaikpJjB4M0YpO319CnJldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiByc3RyMmFueShpbnB1dCxlbmNvZGluZykKe3ZhciBkaXZpc29yPWVuY29kaW5nLmxlbmd0aDt2YXIgaSxqLHEseCxxdW90aWVudDt2YXIgZGl2aWRlbmQ9QXJyYXkoTWF0aC5jZWlsKGlucHV0Lmxlbmd0aC8yKSk7Zm9yKGk9MDtpPGRpdmlkZW5kLmxlbmd0aDtpKyspCntkaXZpZGVuZFtpXT0oaW5wdXQuY2hhckNvZGVBdChpKjIpPDw4KXxpbnB1dC5jaGFyQ29kZUF0KGkqMisxKTt9CnZhciBmdWxsX2xlbmd0aD1NYXRoLmNlaWwoaW5wdXQubGVuZ3RoKjgvKE1hdGgubG9nKGVuY29kaW5nLmxlbmd0aCkvTWF0aC5sb2coMikpKTt2YXIgcmVtYWluZGVycz1BcnJheShmdWxsX2xlbmd0aCk7Zm9yKGo9MDtqPGZ1bGxfbGVuZ3RoO2orKykKe3F1b3RpZW50PUFycmF5KCk7eD0wO2ZvcihpPTA7aTxkaXZpZGVuZC5sZW5ndGg7aSsrKQp7eD0oeDw8MTYpK2RpdmlkZW5kW2ldO3E9TWF0aC5mbG9vcih4L2Rpdmlzb3IpO3gtPXEqZGl2aXNvcjtpZihxdW90aWVudC5sZW5ndGg+MHx8cT4wKQpxdW90aWVudFtxdW90aWVudC5sZW5ndGhdPXE7fQpyZW1haW5kZXJzW2pdPXg7ZGl2aWRlbmQ9cXVvdGllbnQ7fQp2YXIgb3V0cHV0PSIiO2ZvcihpPXJlbWFpbmRlcnMubGVuZ3RoLTE7aT49MDtpLS0pCm91dHB1dCs9ZW5jb2RpbmcuY2hhckF0KHJlbWFpbmRlcnNbaV0pO3JldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBzdHIycnN0cl91dGY4KGlucHV0KQp7dmFyIG91dHB1dD0iIjt2YXIgaT0tMTt2YXIgeCx5O3doaWxlKCsraTxpbnB1dC5sZW5ndGgpCnt4PWlucHV0LmNoYXJDb2RlQXQoaSk7eT1pKzE8aW5wdXQubGVuZ3RoP2lucHV0LmNoYXJDb2RlQXQoaSsxKTowO2lmKDB4RDgwMDw9eCYmeDw9MHhEQkZGJiYweERDMDA8PXkmJnk8PTB4REZGRikKe3g9MHgxMDAwMCsoKHgmMHgwM0ZGKTw8MTApKyh5JjB4MDNGRik7aSsrO30KaWYoeDw9MHg3RikKb3V0cHV0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHgpO2Vsc2UgaWYoeDw9MHg3RkYpCm91dHB1dCs9U3RyaW5nLmZyb21DaGFyQ29kZSgweEMwfCgoeD4+PjYpJjB4MUYpLDB4ODB8KHgmMHgzRikpO2Vsc2UgaWYoeDw9MHhGRkZGKQpvdXRwdXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMHhFMHwoKHg+Pj4xMikmMHgwRiksMHg4MHwoKHg+Pj42KSYweDNGKSwweDgwfCh4JjB4M0YpKTtlbHNlIGlmKHg8PTB4MUZGRkZGKQpvdXRwdXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMHhGMHwoKHg+Pj4xOCkmMHgwNyksMHg4MHwoKHg+Pj4xMikmMHgzRiksMHg4MHwoKHg+Pj42KSYweDNGKSwweDgwfCh4JjB4M0YpKTt9CnJldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBzdHIycnN0cl91dGYxNmxlKGlucHV0KQp7dmFyIG91dHB1dD0iIjtmb3IodmFyIGk9MDtpPGlucHV0Lmxlbmd0aDtpKyspCm91dHB1dCs9U3RyaW5nLmZyb21DaGFyQ29kZShpbnB1dC5jaGFyQ29kZUF0KGkpJjB4RkYsKGlucHV0LmNoYXJDb2RlQXQoaSk+Pj44KSYweEZGKTtyZXR1cm4gb3V0cHV0O30KZnVuY3Rpb24gc3RyMnJzdHJfdXRmMTZiZShpbnB1dCkKe3ZhciBvdXRwdXQ9IiI7Zm9yKHZhciBpPTA7aTxpbnB1dC5sZW5ndGg7aSsrKQpvdXRwdXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoKGlucHV0LmNoYXJDb2RlQXQoaSk+Pj44KSYweEZGLGlucHV0LmNoYXJDb2RlQXQoaSkmMHhGRik7cmV0dXJuIG91dHB1dDt9CmZ1bmN0aW9uIHJzdHIyYmlubChpbnB1dCkKe3ZhciBvdXRwdXQ9QXJyYXkoaW5wdXQubGVuZ3RoPj4yKTtmb3IodmFyIGk9MDtpPG91dHB1dC5sZW5ndGg7aSsrKQpvdXRwdXRbaV09MDtmb3IodmFyIGk9MDtpPGlucHV0Lmxlbmd0aCo4O2krPTgpCm91dHB1dFtpPj41XXw9KGlucHV0LmNoYXJDb2RlQXQoaS84KSYweEZGKTw8KGklMzIpO3JldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBiaW5sMnJzdHIoaW5wdXQpCnt2YXIgb3V0cHV0PSIiO2Zvcih2YXIgaT0wO2k8aW5wdXQubGVuZ3RoKjMyO2krPTgpCm91dHB1dCs9U3RyaW5nLmZyb21DaGFyQ29kZSgoaW5wdXRbaT4+NV0+Pj4oaSUzMikpJjB4RkYpO3JldHVybiBvdXRwdXQ7fQpmdW5jdGlvbiBiaW5sX21kNSh4LGxlbikKe3hbbGVuPj41XXw9MHg4MDw8KChsZW4pJTMyKTt4WygoKGxlbis2NCk+Pj45KTw8NCkrMTRdPWxlbjt2YXIgYT0xNzMyNTg0MTkzO3ZhciBiPS0yNzE3MzM4Nzk7dmFyIGM9LTE3MzI1ODQxOTQ7dmFyIGQ9MjcxNzMzODc4O2Zvcih2YXIgaT0wO2k8eC5sZW5ndGg7aSs9MTYpCnt2YXIgb2xkYT1hO3ZhciBvbGRiPWI7dmFyIG9sZGM9Yzt2YXIgb2xkZD1kO2E9bWQ1X2ZmKGEsYixjLGQseFtpKzBdLDcsLTY4MDg3NjkzNik7ZD1tZDVfZmYoZCxhLGIsYyx4W2krMV0sMTIsLTM4OTU2NDU4Nik7Yz1tZDVfZmYoYyxkLGEsYix4W2krMl0sMTcsNjA2MTA1ODE5KTtiPW1kNV9mZihiLGMsZCxhLHhbaSszXSwyMiwtMTA0NDUyNTMzMCk7YT1tZDVfZmYoYSxiLGMsZCx4W2krNF0sNywtMTc2NDE4ODk3KTtkPW1kNV9mZihkLGEsYixjLHhbaSs1XSwxMiwxMjAwMDgwNDI2KTtjPW1kNV9mZihjLGQsYSxiLHhbaSs2XSwxNywtMTQ3MzIzMTM0MSk7Yj1tZDVfZmYoYixjLGQsYSx4W2krN10sMjIsLTQ1NzA1OTgzKTthPW1kNV9mZihhLGIsYyxkLHhbaSs4XSw3LDE3NzAwMzU0MTYpO2Q9bWQ1X2ZmKGQsYSxiLGMseFtpKzldLDEyLC0xOTU4NDE0NDE3KTtjPW1kNV9mZihjLGQsYSxiLHhbaSsxMF0sMTcsLTQyMDYzKTtiPW1kNV9mZihiLGMsZCxhLHhbaSsxMV0sMjIsLTE5OTA0MDQxNjIpO2E9bWQ1X2ZmKGEsYixjLGQseFtpKzEyXSw3LDE4MDQ2MDM2ODIpO2Q9bWQ1X2ZmKGQsYSxiLGMseFtpKzEzXSwxMiwtNDAzNDExMDEpO2M9bWQ1X2ZmKGMsZCxhLGIseFtpKzE0XSwxNywtMTUwMjAwMjI5MCk7Yj1tZDVfZmYoYixjLGQsYSx4W2krMTVdLDIyLDEyMzY1MzUzMjkpO2E9bWQ1X2dnKGEsYixjLGQseFtpKzFdLDUsLTE2NTc5NjUxMCk7ZD1tZDVfZ2coZCxhLGIsYyx4W2krNl0sOSwtMTA2OTUwMTYzMik7Yz1tZDVfZ2coYyxkLGEsYix4W2krMTFdLDE0LDY0MzcxNzcxMyk7Yj1tZDVfZ2coYixjLGQsYSx4W2krMF0sMjAsLTM3Mzg5NzMwMik7YT1tZDVfZ2coYSxiLGMsZCx4W2krNV0sNSwtNzAxNTU4NjkxKTtkPW1kNV9nZyhkLGEsYixjLHhbaSsxMF0sOSwzODAxNjA4Myk7Yz1tZDVfZ2coYyxkLGEsYix4W2krMTVdLDE0LC02NjA0NzgzMzUpO2I9bWQ1X2dnKGIsYyxkLGEseFtpKzRdLDIwLC00MDU1Mzc4NDgpO2E9bWQ1X2dnKGEsYixjLGQseFtpKzldLDUsNTY4NDQ2NDM4KTtkPW1kNV9nZyhkLGEsYixjLHhbaSsxNF0sOSwtMTAxOTgwMzY5MCk7Yz1tZDVfZ2coYyxkLGEsYix4W2krM10sMTQsLTE4NzM2Mzk2MSk7Yj1tZDVfZ2coYixjLGQsYSx4W2krOF0sMjAsMTE2MzUzMTUwMSk7YT1tZDVfZ2coYSxiLGMsZCx4W2krMTNdLDUsLTE0NDQ2ODE0NjcpO2Q9bWQ1X2dnKGQsYSxiLGMseFtpKzJdLDksLTUxNDAzNzg0KTtjPW1kNV9nZyhjLGQsYSxiLHhbaSs3XSwxNCwxNzM1MzI4NDczKTtiPW1kNV9nZyhiLGMsZCxhLHhbaSsxMl0sMjAsLTE5MjY2MDc3MzQpO2E9bWQ1X2hoKGEsYixjLGQseFtpKzVdLDQsLTM3ODU1OCk7ZD1tZDVfaGgoZCxhLGIsYyx4W2krOF0sMTEsLTIwMjI1NzQ0NjMpO2M9bWQ1X2hoKGMsZCxhLGIseFtpKzExXSwxNiwxODM5MDMwNTYyKTtiPW1kNV9oaChiLGMsZCxhLHhbaSsxNF0sMjMsLTM1MzA5NTU2KTthPW1kNV9oaChhLGIsYyxkLHhbaSsxXSw0LC0xNTMwOTkyMDYwKTtkPW1kNV9oaChkLGEsYixjLHhbaSs0XSwxMSwxMjcyODkzMzUzKTtjPW1kNV9oaChjLGQsYSxiLHhbaSs3XSwxNiwtMTU1NDk3NjMyKTtiPW1kNV9oaChiLGMsZCxhLHhbaSsxMF0sMjMsLTEwOTQ3MzA2NDApO2E9bWQ1X2hoKGEsYixjLGQseFtpKzEzXSw0LDY4MTI3OTE3NCk7ZD1tZDVfaGgoZCxhLGIsYyx4W2krMF0sMTEsLTM1ODUzNzIyMik7Yz1tZDVfaGgoYyxkLGEsYix4W2krM10sMTYsLTcyMjUyMTk3OSk7Yj1tZDVfaGgoYixjLGQsYSx4W2krNl0sMjMsNzYwMjkxODkpO2E9bWQ1X2hoKGEsYixjLGQseFtpKzldLDQsLTY0MDM2NDQ4Nyk7ZD1tZDVfaGgoZCxhLGIsYyx4W2krMTJdLDExLC00MjE4MTU4MzUpO2M9bWQ1X2hoKGMsZCxhLGIseFtpKzE1XSwxNiw1MzA3NDI1MjApO2I9bWQ1X2hoKGIsYyxkLGEseFtpKzJdLDIzLC05OTUzMzg2NTEpO2E9bWQ1X2lpKGEsYixjLGQseFtpKzBdLDYsLTE5ODYzMDg0NCk7ZD1tZDVfaWkoZCxhLGIsYyx4W2krN10sMTAsMTEyNjg5MTQxNSk7Yz1tZDVfaWkoYyxkLGEsYix4W2krMTRdLDE1LC0xNDE2MzU0OTA1KTtiPW1kNV9paShiLGMsZCxhLHhbaSs1XSwyMSwtNTc0MzQwNTUpO2E9bWQ1X2lpKGEsYixjLGQseFtpKzEyXSw2LDE3MDA0ODU1NzEpO2Q9bWQ1X2lpKGQsYSxiLGMseFtpKzNdLDEwLC0xODk0OTg2NjA2KTtjPW1kNV9paShjLGQsYSxiLHhbaSsxMF0sMTUsLTEwNTE1MjMpO2I9bWQ1X2lpKGIsYyxkLGEseFtpKzFdLDIxLC0yMDU0OTIyNzk5KTthPW1kNV9paShhLGIsYyxkLHhbaSs4XSw2LDE4NzMzMTMzNTkpO2Q9bWQ1X2lpKGQsYSxiLGMseFtpKzE1XSwxMCwtMzA2MTE3NDQpO2M9bWQ1X2lpKGMsZCxhLGIseFtpKzZdLDE1LC0xNTYwMTk4MzgwKTtiPW1kNV9paShiLGMsZCxhLHhbaSsxM10sMjEsMTMwOTE1MTY0OSk7YT1tZDVfaWkoYSxiLGMsZCx4W2krNF0sNiwtMTQ1NTIzMDcwKTtkPW1kNV9paShkLGEsYixjLHhbaSsxMV0sMTAsLTExMjAyMTAzNzkpO2M9bWQ1X2lpKGMsZCxhLGIseFtpKzJdLDE1LDcxODc4NzI1OSk7Yj1tZDVfaWkoYixjLGQsYSx4W2krOV0sMjEsLTM0MzQ4NTU1MSk7YT1zYWZlX2FkZChhLG9sZGEpO2I9c2FmZV9hZGQoYixvbGRiKTtjPXNhZmVfYWRkKGMsb2xkYyk7ZD1zYWZlX2FkZChkLG9sZGQpO30KcmV0dXJuIEFycmF5KGEsYixjLGQpO30KZnVuY3Rpb24gbWQ1X2NtbihxLGEsYix4LHMsdCkKe3JldHVybiBzYWZlX2FkZChiaXRfcm9sKHNhZmVfYWRkKHNhZmVfYWRkKGEscSksc2FmZV9hZGQoeCx0KSkscyksYik7fQpmdW5jdGlvbiBtZDVfZmYoYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKChiJmMpfCgofmIpJmQpLGEsYix4LHMsdCk7fQpmdW5jdGlvbiBtZDVfZ2coYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKChiJmQpfChjJih+ZCkpLGEsYix4LHMsdCk7fQpmdW5jdGlvbiBtZDVfaGgoYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKGJeY15kLGEsYix4LHMsdCk7fQpmdW5jdGlvbiBtZDVfaWkoYSxiLGMsZCx4LHMsdCkKe3JldHVybiBtZDVfY21uKGNeKGJ8KH5kKSksYSxiLHgscyx0KTt9CmZ1bmN0aW9uIHNhZmVfYWRkKHgseSkKe3ZhciBsc3c9KHgmMHhGRkZGKSsoeSYweEZGRkYpO3ZhciBtc3c9KHg+PjE2KSsoeT4+MTYpKyhsc3c+PjE2KTtyZXR1cm4obXN3PDwxNil8KGxzdyYweEZGRkYpO30KZnVuY3Rpb24gYml0X3JvbChudW0sY250KQp7cmV0dXJuKG51bTw8Y250KXwobnVtPj4+KDMyLWNudCkpO30KdmFyIEpTT047aWYoIUpTT04pe0pTT049e307fQooZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gZihuKXtyZXR1cm4gbjwxMD8nMCcrbjpuO30KaWYodHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiE9PSdmdW5jdGlvbicpe0RhdGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihrZXkpe3JldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSk/dGhpcy5nZXRVVENGdWxsWWVhcigpKyctJysKZih0aGlzLmdldFVUQ01vbnRoKCkrMSkrJy0nKwpmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsnVCcrCmYodGhpcy5nZXRVVENIb3VycygpKSsnOicrCmYodGhpcy5nZXRVVENNaW51dGVzKCkpKyc6JysKZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrJ1onOm51bGw7fTtTdHJpbmcucHJvdG90eXBlLnRvSlNPTj1OdW1iZXIucHJvdG90eXBlLnRvSlNPTj1Cb29sZWFuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpcy52YWx1ZU9mKCk7fTt9CnZhciBjeD0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnYXAsaW5kZW50LG1ldGE9eydcYic6J1xcYicsJ1x0JzonXFx0JywnXG4nOidcXG4nLCdcZic6J1xcZicsJ1xyJzonXFxyJywnIic6J1xcIicsJ1xcJzonXFxcXCd9LHJlcDtmdW5jdGlvbiBxdW90ZShzdHJpbmcpe2VzY2FwYWJsZS5sYXN0SW5kZXg9MDtyZXR1cm4gZXNjYXBhYmxlLnRlc3Qoc3RyaW5nKT8nIicrc3RyaW5nLnJlcGxhY2UoZXNjYXBhYmxlLGZ1bmN0aW9uKGEpe3ZhciBjPW1ldGFbYV07cmV0dXJuIHR5cGVvZiBjPT09J3N0cmluZyc/YzonXFx1JysoJzAwMDAnK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTt9KSsnIic6JyInK3N0cmluZysnIic7fQpmdW5jdGlvbiBzdHIoa2V5LGhvbGRlcil7dmFyIGksayx2LGxlbmd0aCxtaW5kPWdhcCxwYXJ0aWFsLHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0JyYmdHlwZW9mIHZhbHVlLnRvSlNPTj09PSdmdW5jdGlvbicpe3ZhbHVlPXZhbHVlLnRvSlNPTihrZXkpO30KaWYodHlwZW9mIHJlcD09PSdmdW5jdGlvbicpe3ZhbHVlPXJlcC5jYWxsKGhvbGRlcixrZXksdmFsdWUpO30Kc3dpdGNoKHR5cGVvZiB2YWx1ZSl7Y2FzZSdzdHJpbmcnOnJldHVybiBxdW90ZSh2YWx1ZSk7Y2FzZSdudW1iZXInOnJldHVybiBpc0Zpbml0ZSh2YWx1ZSk/U3RyaW5nKHZhbHVlKTonbnVsbCc7Y2FzZSdib29sZWFuJzpjYXNlJ251bGwnOnJldHVybiBTdHJpbmcodmFsdWUpO2Nhc2Unb2JqZWN0JzppZighdmFsdWUpe3JldHVybidudWxsJzt9CmdhcCs9aW5kZW50O3BhcnRpYWw9W107aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSk9PT0nW29iamVjdCBBcnJheV0nKXtsZW5ndGg9dmFsdWUubGVuZ3RoO2ZvcihpPTA7aTxsZW5ndGg7aSs9MSl7cGFydGlhbFtpXT1zdHIoaSx2YWx1ZSl8fCdudWxsJzt9CnY9cGFydGlhbC5sZW5ndGg9PT0wPydbXSc6Z2FwPydbXG4nK2dhcCtwYXJ0aWFsLmpvaW4oJyxcbicrZ2FwKSsnXG4nK21pbmQrJ10nOidbJytwYXJ0aWFsLmpvaW4oJywnKSsnXSc7Z2FwPW1pbmQ7cmV0dXJuIHY7fQppZihyZXAmJnR5cGVvZiByZXA9PT0nb2JqZWN0Jyl7bGVuZ3RoPXJlcC5sZW5ndGg7Zm9yKGk9MDtpPGxlbmd0aDtpKz0xKXtpZih0eXBlb2YgcmVwW2ldPT09J3N0cmluZycpe2s9cmVwW2ldO3Y9c3RyKGssdmFsdWUpO2lmKHYpe3BhcnRpYWwucHVzaChxdW90ZShrKSsoZ2FwPyc6ICc6JzonKSt2KTt9fX19ZWxzZXtmb3IoayBpbiB2YWx1ZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLGspKXt2PXN0cihrLHZhbHVlKTtpZih2KXtwYXJ0aWFsLnB1c2gocXVvdGUoaykrKGdhcD8nOiAnOic6Jykrdik7fX19fQp2PXBhcnRpYWwubGVuZ3RoPT09MD8ne30nOmdhcD8ne1xuJytnYXArcGFydGlhbC5qb2luKCcsXG4nK2dhcCkrJ1xuJyttaW5kKyd9JzoneycrcGFydGlhbC5qb2luKCcsJykrJ30nO2dhcD1taW5kO3JldHVybiB2O319CmlmKHR5cGVvZiBKU09OLnN0cmluZ2lmeSE9PSdmdW5jdGlvbicpe0pTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKHZhbHVlLHJlcGxhY2VyLHNwYWNlKXt2YXIgaTtnYXA9Jyc7aW5kZW50PScnO2lmKHR5cGVvZiBzcGFjZT09PSdudW1iZXInKXtmb3IoaT0wO2k8c3BhY2U7aSs9MSl7aW5kZW50Kz0nICc7fX1lbHNlIGlmKHR5cGVvZiBzcGFjZT09PSdzdHJpbmcnKXtpbmRlbnQ9c3BhY2U7fQpyZXA9cmVwbGFjZXI7aWYocmVwbGFjZXImJnR5cGVvZiByZXBsYWNlciE9PSdmdW5jdGlvbicmJih0eXBlb2YgcmVwbGFjZXIhPT0nb2JqZWN0J3x8dHlwZW9mIHJlcGxhY2VyLmxlbmd0aCE9PSdudW1iZXInKSl7dGhyb3cgbmV3IEVycm9yKCdKU09OLnN0cmluZ2lmeScpO30KcmV0dXJuIHN0cignJyx7Jyc6dmFsdWV9KTt9O30KaWYodHlwZW9mIEpTT04ucGFyc2UhPT0nZnVuY3Rpb24nKXtKU09OLnBhcnNlPWZ1bmN0aW9uKHRleHQscmV2aXZlcil7dmFyIGo7ZnVuY3Rpb24gd2Fsayhob2xkZXIsa2V5KXt2YXIgayx2LHZhbHVlPWhvbGRlcltrZXldO2lmKHZhbHVlJiZ0eXBlb2YgdmFsdWU9PT0nb2JqZWN0Jyl7Zm9yKGsgaW4gdmFsdWUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSxrKSl7dj13YWxrKHZhbHVlLGspO2lmKHYhPT11bmRlZmluZWQpe3ZhbHVlW2tdPXY7fWVsc2V7ZGVsZXRlIHZhbHVlW2tdO319fX0KcmV0dXJuIHJldml2ZXIuY2FsbChob2xkZXIsa2V5LHZhbHVlKTt9CnRleHQ9U3RyaW5nKHRleHQpO2N4Lmxhc3RJbmRleD0wO2lmKGN4LnRlc3QodGV4dCkpe3RleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKGEpe3JldHVybidcXHUnKwooJzAwMDAnK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTt9KTt9CmlmKC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCdAJykucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csJ10nKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csJycpKSl7aj1ldmFsKCcoJyt0ZXh0KycpJyk7cmV0dXJuIHR5cGVvZiByZXZpdmVyPT09J2Z1bmN0aW9uJz93YWxrKHsnJzpqfSwnJyk6ajt9CnRocm93IG5ldyBTeW50YXhFcnJvcignSlNPTi5wYXJzZScpO307fX0oKSk7dmFyIENyeXB0b0pTPUNyeXB0b0pTfHwoZnVuY3Rpb24oTWF0aCx1bmRlZmluZWQpe3ZhciBDPXt9O3ZhciBDX2xpYj1DLmxpYj17fTt2YXIgQmFzZT1DX2xpYi5CYXNlPShmdW5jdGlvbigpe2Z1bmN0aW9uIEYoKXt9CnJldHVybntleHRlbmQ6ZnVuY3Rpb24ob3ZlcnJpZGVzKXtGLnByb3RvdHlwZT10aGlzO3ZhciBzdWJ0eXBlPW5ldyBGKCk7aWYob3ZlcnJpZGVzKXtzdWJ0eXBlLm1peEluKG92ZXJyaWRlcyk7fQppZighc3VidHlwZS5oYXNPd25Qcm9wZXJ0eSgnaW5pdCcpKXtzdWJ0eXBlLmluaXQ9ZnVuY3Rpb24oKXtzdWJ0eXBlLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O30Kc3VidHlwZS5pbml0LnByb3RvdHlwZT1zdWJ0eXBlO3N1YnR5cGUuJHN1cGVyPXRoaXM7cmV0dXJuIHN1YnR5cGU7fSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaW5zdGFuY2U9dGhpcy5leHRlbmQoKTtpbnN0YW5jZS5pbml0LmFwcGx5KGluc3RhbmNlLGFyZ3VtZW50cyk7cmV0dXJuIGluc3RhbmNlO30saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24ocHJvcGVydGllcyl7Zm9yKHZhciBwcm9wZXJ0eU5hbWUgaW4gcHJvcGVydGllcyl7aWYocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKXt0aGlzW3Byb3BlcnR5TmFtZV09cHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO319CmlmKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoJ3RvU3RyaW5nJykpe3RoaXMudG9TdHJpbmc9cHJvcGVydGllcy50b1N0cmluZzt9fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKTt9fTt9KCkpO3ZhciBXb3JkQXJyYXk9Q19saWIuV29yZEFycmF5PUJhc2UuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHdvcmRzLHNpZ0J5dGVzKXt3b3Jkcz10aGlzLndvcmRzPXdvcmRzfHxbXTtpZihzaWdCeXRlcyE9dW5kZWZpbmVkKXt0aGlzLnNpZ0J5dGVzPXNpZ0J5dGVzO31lbHNle3RoaXMuc2lnQnl0ZXM9d29yZHMubGVuZ3RoKjQ7fX0sdG9TdHJpbmc6ZnVuY3Rpb24oZW5jb2Rlcil7cmV0dXJuKGVuY29kZXJ8fEhleCkuc3RyaW5naWZ5KHRoaXMpO30sY29uY2F0OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHRoaXNXb3Jkcz10aGlzLndvcmRzO3ZhciB0aGF0V29yZHM9d29yZEFycmF5LndvcmRzO3ZhciB0aGlzU2lnQnl0ZXM9dGhpcy5zaWdCeXRlczt2YXIgdGhhdFNpZ0J5dGVzPXdvcmRBcnJheS5zaWdCeXRlczt0aGlzLmNsYW1wKCk7aWYodGhpc1NpZ0J5dGVzJTQpe2Zvcih2YXIgaT0wO2k8dGhhdFNpZ0J5dGVzO2krKyl7dmFyIHRoYXRCeXRlPSh0aGF0V29yZHNbaT4+PjJdPj4+KDI0LShpJTQpKjgpKSYweGZmO3RoaXNXb3Jkc1sodGhpc1NpZ0J5dGVzK2kpPj4+Ml18PXRoYXRCeXRlPDwoMjQtKCh0aGlzU2lnQnl0ZXMraSklNCkqOCk7fX1lbHNlIGlmKHRoYXRXb3Jkcy5sZW5ndGg+MHhmZmZmKXtmb3IodmFyIGk9MDtpPHRoYXRTaWdCeXRlcztpKz00KXt0aGlzV29yZHNbKHRoaXNTaWdCeXRlcytpKT4+PjJdPXRoYXRXb3Jkc1tpPj4+Ml07fX1lbHNle3RoaXNXb3Jkcy5wdXNoLmFwcGx5KHRoaXNXb3Jkcyx0aGF0V29yZHMpO30KdGhpcy5zaWdCeXRlcys9dGhhdFNpZ0J5dGVzO3JldHVybiB0aGlzO30sY2xhbXA6ZnVuY3Rpb24oKXt2YXIgd29yZHM9dGhpcy53b3Jkczt2YXIgc2lnQnl0ZXM9dGhpcy5zaWdCeXRlczt3b3Jkc1tzaWdCeXRlcz4+PjJdJj0weGZmZmZmZmZmPDwoMzItKHNpZ0J5dGVzJTQpKjgpO3dvcmRzLmxlbmd0aD1NYXRoLmNlaWwoc2lnQnl0ZXMvNCk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1CYXNlLmNsb25lLmNhbGwodGhpcyk7Y2xvbmUud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKTtyZXR1cm4gY2xvbmU7fSxyYW5kb206ZnVuY3Rpb24obkJ5dGVzKXt2YXIgd29yZHM9W107Zm9yKHZhciBpPTA7aTxuQnl0ZXM7aSs9NCl7d29yZHMucHVzaCgoTWF0aC5yYW5kb20oKSoweDEwMDAwMDAwMCl8MCk7fQpyZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLG5CeXRlcyk7fX0pO3ZhciBDX2VuYz1DLmVuYz17fTt2YXIgSGV4PUNfZW5jLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHdvcmRzPXdvcmRBcnJheS53b3Jkczt2YXIgc2lnQnl0ZXM9d29yZEFycmF5LnNpZ0J5dGVzO3ZhciBoZXhDaGFycz1bXTtmb3IodmFyIGk9MDtpPHNpZ0J5dGVzO2krKyl7dmFyIGJpdGU9KHdvcmRzW2k+Pj4yXT4+PigyNC0oaSU0KSo4KSkmMHhmZjtoZXhDaGFycy5wdXNoKChiaXRlPj4+NCkudG9TdHJpbmcoMTYpKTtoZXhDaGFycy5wdXNoKChiaXRlJjB4MGYpLnRvU3RyaW5nKDE2KSk7fQpyZXR1cm4gaGV4Q2hhcnMuam9pbignJyk7fSxwYXJzZTpmdW5jdGlvbihoZXhTdHIpe3ZhciBoZXhTdHJMZW5ndGg9aGV4U3RyLmxlbmd0aDt2YXIgd29yZHM9W107Zm9yKHZhciBpPTA7aTxoZXhTdHJMZW5ndGg7aSs9Mil7d29yZHNbaT4+PjNdfD1wYXJzZUludChoZXhTdHIuc3Vic3RyKGksMiksMTYpPDwoMjQtKGklOCkqNCk7fQpyZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLGhleFN0ckxlbmd0aC8yKTt9fTt2YXIgTGF0aW4xPUNfZW5jLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHdvcmRzPXdvcmRBcnJheS53b3Jkczt2YXIgc2lnQnl0ZXM9d29yZEFycmF5LnNpZ0J5dGVzO3ZhciBsYXRpbjFDaGFycz1bXTtmb3IodmFyIGk9MDtpPHNpZ0J5dGVzO2krKyl7dmFyIGJpdGU9KHdvcmRzW2k+Pj4yXT4+PigyNC0oaSU0KSo4KSkmMHhmZjtsYXRpbjFDaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYml0ZSkpO30KcmV0dXJuIGxhdGluMUNoYXJzLmpvaW4oJycpO30scGFyc2U6ZnVuY3Rpb24obGF0aW4xU3RyKXt2YXIgbGF0aW4xU3RyTGVuZ3RoPWxhdGluMVN0ci5sZW5ndGg7dmFyIHdvcmRzPVtdO2Zvcih2YXIgaT0wO2k8bGF0aW4xU3RyTGVuZ3RoO2krKyl7d29yZHNbaT4+PjJdfD0obGF0aW4xU3RyLmNoYXJDb2RlQXQoaSkmMHhmZik8PCgyNC0oaSU0KSo4KTt9CnJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsbGF0aW4xU3RyTGVuZ3RoKTt9fTt2YXIgVXRmOD1DX2VuYy5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24od29yZEFycmF5KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpKSk7fWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFVURi04IGRhdGEnKTt9fSxwYXJzZTpmdW5jdGlvbih1dGY4U3RyKXtyZXR1cm4gTGF0aW4xLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh1dGY4U3RyKSkpO319O3ZhciBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtPUNfbGliLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09QmFzZS5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgV29yZEFycmF5LmluaXQoKTt0aGlzLl9uRGF0YUJ5dGVzPTA7fSxfYXBwZW5kOmZ1bmN0aW9uKGRhdGEpe2lmKHR5cGVvZiBkYXRhPT0nc3RyaW5nJyl7ZGF0YT1VdGY4LnBhcnNlKGRhdGEpO30KdGhpcy5fZGF0YS5jb25jYXQoZGF0YSk7dGhpcy5fbkRhdGFCeXRlcys9ZGF0YS5zaWdCeXRlczt9LF9wcm9jZXNzOmZ1bmN0aW9uKGRvRmx1c2gpe3ZhciBkYXRhPXRoaXMuX2RhdGE7dmFyIGRhdGFXb3Jkcz1kYXRhLndvcmRzO3ZhciBkYXRhU2lnQnl0ZXM9ZGF0YS5zaWdCeXRlczt2YXIgYmxvY2tTaXplPXRoaXMuYmxvY2tTaXplO3ZhciBibG9ja1NpemVCeXRlcz1ibG9ja1NpemUqNDt2YXIgbkJsb2Nrc1JlYWR5PWRhdGFTaWdCeXRlcy9ibG9ja1NpemVCeXRlcztpZihkb0ZsdXNoKXtuQmxvY2tzUmVhZHk9TWF0aC5jZWlsKG5CbG9ja3NSZWFkeSk7fWVsc2V7bkJsb2Nrc1JlYWR5PU1hdGgubWF4KChuQmxvY2tzUmVhZHl8MCktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKTt9CnZhciBuV29yZHNSZWFkeT1uQmxvY2tzUmVhZHkqYmxvY2tTaXplO3ZhciBuQnl0ZXNSZWFkeT1NYXRoLm1pbihuV29yZHNSZWFkeSo0LGRhdGFTaWdCeXRlcyk7aWYobldvcmRzUmVhZHkpe2Zvcih2YXIgb2Zmc2V0PTA7b2Zmc2V0PG5Xb3Jkc1JlYWR5O29mZnNldCs9YmxvY2tTaXplKXt0aGlzLl9kb1Byb2Nlc3NCbG9jayhkYXRhV29yZHMsb2Zmc2V0KTt9CnZhciBwcm9jZXNzZWRXb3Jkcz1kYXRhV29yZHMuc3BsaWNlKDAsbldvcmRzUmVhZHkpO2RhdGEuc2lnQnl0ZXMtPW5CeXRlc1JlYWR5O30KcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdChwcm9jZXNzZWRXb3JkcyxuQnl0ZXNSZWFkeSk7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1CYXNlLmNsb25lLmNhbGwodGhpcyk7Y2xvbmUuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpO3JldHVybiBjbG9uZTt9LF9taW5CdWZmZXJTaXplOjB9KTt2YXIgSGFzaGVyPUNfbGliLkhhc2hlcj1CdWZmZXJlZEJsb2NrQWxnb3JpdGhtLmV4dGVuZCh7Y2ZnOkJhc2UuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihjZmcpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChjZmcpO3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7QnVmZmVyZWRCbG9ja0FsZ29yaXRobS5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHVwZGF0ZTpmdW5jdGlvbihtZXNzYWdlVXBkYXRlKXt0aGlzLl9hcHBlbmQobWVzc2FnZVVwZGF0ZSk7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzO30sZmluYWxpemU6ZnVuY3Rpb24obWVzc2FnZVVwZGF0ZSl7aWYobWVzc2FnZVVwZGF0ZSl7dGhpcy5fYXBwZW5kKG1lc3NhZ2VVcGRhdGUpO30KdmFyIGhhc2g9dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiBoYXNoO30sYmxvY2tTaXplOjUxMi8zMixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGhhc2hlcil7cmV0dXJuIGZ1bmN0aW9uKG1lc3NhZ2UsY2ZnKXtyZXR1cm4gbmV3IGhhc2hlci5pbml0KGNmZykuZmluYWxpemUobWVzc2FnZSk7fTt9LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGhhc2hlcil7cmV0dXJuIGZ1bmN0aW9uKG1lc3NhZ2Usa2V5KXtyZXR1cm4gbmV3IENfYWxnby5ITUFDLmluaXQoaGFzaGVyLGtleSkuZmluYWxpemUobWVzc2FnZSk7fTt9fSk7dmFyIENfYWxnbz1DLmFsZ289e307cmV0dXJuIEM7fShNYXRoKSk7KGZ1bmN0aW9uKCl7dmFyIEM9Q3J5cHRvSlM7dmFyIENfbGliPUMubGliO3ZhciBXb3JkQXJyYXk9Q19saWIuV29yZEFycmF5O3ZhciBDX2VuYz1DLmVuYzt2YXIgQmFzZTY0PUNfZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKHdvcmRBcnJheSl7dmFyIHdvcmRzPXdvcmRBcnJheS53b3Jkczt2YXIgc2lnQnl0ZXM9d29yZEFycmF5LnNpZ0J5dGVzO3ZhciBtYXA9dGhpcy5fbWFwO3dvcmRBcnJheS5jbGFtcCgpO3ZhciBiYXNlNjRDaGFycz1bXTtmb3IodmFyIGk9MDtpPHNpZ0J5dGVzO2krPTMpe3ZhciBieXRlMT0od29yZHNbaT4+PjJdPj4+KDI0LShpJTQpKjgpKSYweGZmO3ZhciBieXRlMj0od29yZHNbKGkrMSk+Pj4yXT4+PigyNC0oKGkrMSklNCkqOCkpJjB4ZmY7dmFyIGJ5dGUzPSh3b3Jkc1soaSsyKT4+PjJdPj4+KDI0LSgoaSsyKSU0KSo4KSkmMHhmZjt2YXIgdHJpcGxldD0oYnl0ZTE8PDE2KXwoYnl0ZTI8PDgpfGJ5dGUzO2Zvcih2YXIgaj0wOyhqPDQpJiYoaStqKjAuNzU8c2lnQnl0ZXMpO2orKyl7YmFzZTY0Q2hhcnMucHVzaChtYXAuY2hhckF0KCh0cmlwbGV0Pj4+KDYqKDMtaikpKSYweDNmKSk7fX0KdmFyIHBhZGRpbmdDaGFyPW1hcC5jaGFyQXQoNjQpO2lmKHBhZGRpbmdDaGFyKXt3aGlsZShiYXNlNjRDaGFycy5sZW5ndGglNCl7YmFzZTY0Q2hhcnMucHVzaChwYWRkaW5nQ2hhcik7fX0KcmV0dXJuIGJhc2U2NENoYXJzLmpvaW4oJycpO30scGFyc2U6ZnVuY3Rpb24oYmFzZTY0U3RyKXt2YXIgYmFzZTY0U3RyTGVuZ3RoPWJhc2U2NFN0ci5sZW5ndGg7dmFyIG1hcD10aGlzLl9tYXA7dmFyIHBhZGRpbmdDaGFyPW1hcC5jaGFyQXQoNjQpO2lmKHBhZGRpbmdDaGFyKXt2YXIgcGFkZGluZ0luZGV4PWJhc2U2NFN0ci5pbmRleE9mKHBhZGRpbmdDaGFyKTtpZihwYWRkaW5nSW5kZXghPS0xKXtiYXNlNjRTdHJMZW5ndGg9cGFkZGluZ0luZGV4O319CnZhciB3b3Jkcz1bXTt2YXIgbkJ5dGVzPTA7Zm9yKHZhciBpPTA7aTxiYXNlNjRTdHJMZW5ndGg7aSsrKXtpZihpJTQpe3ZhciBiaXRzMT1tYXAuaW5kZXhPZihiYXNlNjRTdHIuY2hhckF0KGktMSkpPDwoKGklNCkqMik7dmFyIGJpdHMyPW1hcC5pbmRleE9mKGJhc2U2NFN0ci5jaGFyQXQoaSkpPj4+KDYtKGklNCkqMik7d29yZHNbbkJ5dGVzPj4+Ml18PShiaXRzMXxiaXRzMik8PCgyNC0obkJ5dGVzJTQpKjgpO25CeXRlcysrO319CnJldHVybiBXb3JkQXJyYXkuY3JlYXRlKHdvcmRzLG5CeXRlcyk7fSxfbWFwOidBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSd9O30oKSk7Q3J5cHRvSlMubGliLkNpcGhlcnx8KGZ1bmN0aW9uKHVuZGVmaW5lZCl7dmFyIEM9Q3J5cHRvSlM7dmFyIENfbGliPUMubGliO3ZhciBCYXNlPUNfbGliLkJhc2U7dmFyIFdvcmRBcnJheT1DX2xpYi5Xb3JkQXJyYXk7dmFyIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09Q19saWIuQnVmZmVyZWRCbG9ja0FsZ29yaXRobTt2YXIgQ19lbmM9Qy5lbmM7dmFyIFV0Zjg9Q19lbmMuVXRmODt2YXIgQmFzZTY0PUNfZW5jLkJhc2U2NDt2YXIgQ19hbGdvPUMuYWxnbzt2YXIgRXZwS0RGPUNfYWxnby5FdnBLREY7dmFyIENpcGhlcj1DX2xpYi5DaXBoZXI9QnVmZmVyZWRCbG9ja0FsZ29yaXRobS5leHRlbmQoe2NmZzpCYXNlLmV4dGVuZCgpLGNyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbihrZXksY2ZnKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsa2V5LGNmZyk7fSxjcmVhdGVEZWNyeXB0b3I6ZnVuY3Rpb24oa2V5LGNmZyl7cmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLGtleSxjZmcpO30saW5pdDpmdW5jdGlvbih4Zm9ybU1vZGUsa2V5LGNmZyl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGNmZyk7dGhpcy5feGZvcm1Nb2RlPXhmb3JtTW9kZTt0aGlzLl9rZXk9a2V5O3RoaXMucmVzZXQoKTt9LHJlc2V0OmZ1bmN0aW9uKCl7QnVmZmVyZWRCbG9ja0FsZ29yaXRobS5yZXNldC5jYWxsKHRoaXMpO3RoaXMuX2RvUmVzZXQoKTt9LHByb2Nlc3M6ZnVuY3Rpb24oZGF0YVVwZGF0ZSl7dGhpcy5fYXBwZW5kKGRhdGFVcGRhdGUpO3JldHVybiB0aGlzLl9wcm9jZXNzKCk7fSxmaW5hbGl6ZTpmdW5jdGlvbihkYXRhVXBkYXRlKXtpZihkYXRhVXBkYXRlKXt0aGlzLl9hcHBlbmQoZGF0YVVwZGF0ZSk7fQp2YXIgZmluYWxQcm9jZXNzZWREYXRhPXRoaXMuX2RvRmluYWxpemUoKTtyZXR1cm4gZmluYWxQcm9jZXNzZWREYXRhO30sa2V5U2l6ZToxMjgvMzIsaXZTaXplOjEyOC8zMixfRU5DX1hGT1JNX01PREU6MSxfREVDX1hGT1JNX01PREU6MixfY3JlYXRlSGVscGVyOihmdW5jdGlvbigpe2Z1bmN0aW9uIHNlbGVjdENpcGhlclN0cmF0ZWd5KGtleSl7aWYodHlwZW9mIGtleT09J3N0cmluZycpe3JldHVybiBQYXNzd29yZEJhc2VkQ2lwaGVyO31lbHNle3JldHVybiBTZXJpYWxpemFibGVDaXBoZXI7fX0KcmV0dXJuIGZ1bmN0aW9uKGNpcGhlcil7cmV0dXJue2VuY3J5cHQ6ZnVuY3Rpb24obWVzc2FnZSxrZXksY2ZnKXtyZXR1cm4gc2VsZWN0Q2lwaGVyU3RyYXRlZ3koa2V5KS5lbmNyeXB0KGNpcGhlcixtZXNzYWdlLGtleSxjZmcpO30sZGVjcnlwdDpmdW5jdGlvbihjaXBoZXJ0ZXh0LGtleSxjZmcpe3JldHVybiBzZWxlY3RDaXBoZXJTdHJhdGVneShrZXkpLmRlY3J5cHQoY2lwaGVyLGNpcGhlcnRleHQsa2V5LGNmZyk7fX07fTt9KCkpfSk7dmFyIFN0cmVhbUNpcGhlcj1DX2xpYi5TdHJlYW1DaXBoZXI9Q2lwaGVyLmV4dGVuZCh7X2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZmluYWxQcm9jZXNzZWRCbG9ja3M9dGhpcy5fcHJvY2VzcyghISdmbHVzaCcpO3JldHVybiBmaW5hbFByb2Nlc3NlZEJsb2Nrczt9LGJsb2NrU2l6ZToxfSk7dmFyIENfbW9kZT1DLm1vZGU9e307dmFyIEJsb2NrQ2lwaGVyTW9kZT1DX2xpYi5CbG9ja0NpcGhlck1vZGU9QmFzZS5leHRlbmQoe2NyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbihjaXBoZXIsaXYpe3JldHVybiB0aGlzLkVuY3J5cHRvci5jcmVhdGUoY2lwaGVyLGl2KTt9LGNyZWF0ZURlY3J5cHRvcjpmdW5jdGlvbihjaXBoZXIsaXYpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoY2lwaGVyLGl2KTt9LGluaXQ6ZnVuY3Rpb24oY2lwaGVyLGl2KXt0aGlzLl9jaXBoZXI9Y2lwaGVyO3RoaXMuX2l2PWl2O319KTt2YXIgQ0JDPUNfbW9kZS5DQkM9KGZ1bmN0aW9uKCl7dmFyIENCQz1CbG9ja0NpcGhlck1vZGUuZXh0ZW5kKCk7Q0JDLkVuY3J5cHRvcj1DQkMuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24od29yZHMsb2Zmc2V0KXt2YXIgY2lwaGVyPXRoaXMuX2NpcGhlcjt2YXIgYmxvY2tTaXplPWNpcGhlci5ibG9ja1NpemU7eG9yQmxvY2suY2FsbCh0aGlzLHdvcmRzLG9mZnNldCxibG9ja1NpemUpO2NpcGhlci5lbmNyeXB0QmxvY2sod29yZHMsb2Zmc2V0KTt0aGlzLl9wcmV2QmxvY2s9d29yZHMuc2xpY2Uob2Zmc2V0LG9mZnNldCtibG9ja1NpemUpO319KTtDQkMuRGVjcnlwdG9yPUNCQy5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbih3b3JkcyxvZmZzZXQpe3ZhciBjaXBoZXI9dGhpcy5fY2lwaGVyO3ZhciBibG9ja1NpemU9Y2lwaGVyLmJsb2NrU2l6ZTt2YXIgdGhpc0Jsb2NrPXdvcmRzLnNsaWNlKG9mZnNldCxvZmZzZXQrYmxvY2tTaXplKTtjaXBoZXIuZGVjcnlwdEJsb2NrKHdvcmRzLG9mZnNldCk7eG9yQmxvY2suY2FsbCh0aGlzLHdvcmRzLG9mZnNldCxibG9ja1NpemUpO3RoaXMuX3ByZXZCbG9jaz10aGlzQmxvY2s7fX0pO2Z1bmN0aW9uIHhvckJsb2NrKHdvcmRzLG9mZnNldCxibG9ja1NpemUpe3ZhciBpdj10aGlzLl9pdjtpZihpdil7dmFyIGJsb2NrPWl2O3RoaXMuX2l2PXVuZGVmaW5lZDt9ZWxzZXt2YXIgYmxvY2s9dGhpcy5fcHJldkJsb2NrO30KZm9yKHZhciBpPTA7aTxibG9ja1NpemU7aSsrKXt3b3Jkc1tvZmZzZXQraV1ePWJsb2NrW2ldO319CnJldHVybiBDQkM7fSgpKTt2YXIgQ19wYWQ9Qy5wYWQ9e307dmFyIFBrY3M3PUNfcGFkLlBrY3M3PXtwYWQ6ZnVuY3Rpb24oZGF0YSxibG9ja1NpemUpe3ZhciBibG9ja1NpemVCeXRlcz1ibG9ja1NpemUqNDt2YXIgblBhZGRpbmdCeXRlcz1ibG9ja1NpemVCeXRlcy1kYXRhLnNpZ0J5dGVzJWJsb2NrU2l6ZUJ5dGVzO3ZhciBwYWRkaW5nV29yZD0oblBhZGRpbmdCeXRlczw8MjQpfChuUGFkZGluZ0J5dGVzPDwxNil8KG5QYWRkaW5nQnl0ZXM8PDgpfG5QYWRkaW5nQnl0ZXM7dmFyIHBhZGRpbmdXb3Jkcz1bXTtmb3IodmFyIGk9MDtpPG5QYWRkaW5nQnl0ZXM7aSs9NCl7cGFkZGluZ1dvcmRzLnB1c2gocGFkZGluZ1dvcmQpO30KdmFyIHBhZGRpbmc9V29yZEFycmF5LmNyZWF0ZShwYWRkaW5nV29yZHMsblBhZGRpbmdCeXRlcyk7ZGF0YS5jb25jYXQocGFkZGluZyk7fSx1bnBhZDpmdW5jdGlvbihkYXRhKXt2YXIgblBhZGRpbmdCeXRlcz1kYXRhLndvcmRzWyhkYXRhLnNpZ0J5dGVzLTEpPj4+Ml0mMHhmZjtkYXRhLnNpZ0J5dGVzLT1uUGFkZGluZ0J5dGVzO319O3ZhciBCbG9ja0NpcGhlcj1DX2xpYi5CbG9ja0NpcGhlcj1DaXBoZXIuZXh0ZW5kKHtjZmc6Q2lwaGVyLmNmZy5leHRlbmQoe21vZGU6Q0JDLHBhZGRpbmc6UGtjczd9KSxyZXNldDpmdW5jdGlvbigpe0NpcGhlci5yZXNldC5jYWxsKHRoaXMpO3ZhciBjZmc9dGhpcy5jZmc7dmFyIGl2PWNmZy5pdjt2YXIgbW9kZT1jZmcubW9kZTtpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXt2YXIgbW9kZUNyZWF0b3I9bW9kZS5jcmVhdGVFbmNyeXB0b3I7fWVsc2V7dmFyIG1vZGVDcmVhdG9yPW1vZGUuY3JlYXRlRGVjcnlwdG9yO3RoaXMuX21pbkJ1ZmZlclNpemU9MTt9CnRoaXMuX21vZGU9bW9kZUNyZWF0b3IuY2FsbChtb2RlLHRoaXMsaXYmJml2LndvcmRzKTt9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih3b3JkcyxvZmZzZXQpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKHdvcmRzLG9mZnNldCk7fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBwYWRkaW5nPXRoaXMuY2ZnLnBhZGRpbmc7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl7cGFkZGluZy5wYWQodGhpcy5fZGF0YSx0aGlzLmJsb2NrU2l6ZSk7dmFyIGZpbmFsUHJvY2Vzc2VkQmxvY2tzPXRoaXMuX3Byb2Nlc3MoISEnZmx1c2gnKTt9ZWxzZXt2YXIgZmluYWxQcm9jZXNzZWRCbG9ja3M9dGhpcy5fcHJvY2VzcyghISdmbHVzaCcpO3BhZGRpbmcudW5wYWQoZmluYWxQcm9jZXNzZWRCbG9ja3MpO30KcmV0dXJuIGZpbmFsUHJvY2Vzc2VkQmxvY2tzO30sYmxvY2tTaXplOjEyOC8zMn0pO3ZhciBDaXBoZXJQYXJhbXM9Q19saWIuQ2lwaGVyUGFyYW1zPUJhc2UuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGNpcGhlclBhcmFtcyl7dGhpcy5taXhJbihjaXBoZXJQYXJhbXMpO30sdG9TdHJpbmc6ZnVuY3Rpb24oZm9ybWF0dGVyKXtyZXR1cm4oZm9ybWF0dGVyfHx0aGlzLmZvcm1hdHRlcikuc3RyaW5naWZ5KHRoaXMpO319KTt2YXIgQ19mb3JtYXQ9Qy5mb3JtYXQ9e307dmFyIE9wZW5TU0xGb3JtYXR0ZXI9Q19mb3JtYXQuT3BlblNTTD17c3RyaW5naWZ5OmZ1bmN0aW9uKGNpcGhlclBhcmFtcyl7dmFyIGNpcGhlcnRleHQ9Y2lwaGVyUGFyYW1zLmNpcGhlcnRleHQ7dmFyIHNhbHQ9Y2lwaGVyUGFyYW1zLnNhbHQ7aWYoc2FsdCl7dmFyIHdvcmRBcnJheT1Xb3JkQXJyYXkuY3JlYXRlKFsweDUzNjE2Yzc0LDB4NjU2NDVmNWZdKS5jb25jYXQoc2FsdCkuY29uY2F0KGNpcGhlcnRleHQpO31lbHNle3ZhciB3b3JkQXJyYXk9Y2lwaGVydGV4dDt9CnJldHVybiB3b3JkQXJyYXkudG9TdHJpbmcoQmFzZTY0KTt9LHBhcnNlOmZ1bmN0aW9uKG9wZW5TU0xTdHIpe3ZhciBjaXBoZXJ0ZXh0PUJhc2U2NC5wYXJzZShvcGVuU1NMU3RyKTt2YXIgY2lwaGVydGV4dFdvcmRzPWNpcGhlcnRleHQud29yZHM7aWYoY2lwaGVydGV4dFdvcmRzWzBdPT0weDUzNjE2Yzc0JiZjaXBoZXJ0ZXh0V29yZHNbMV09PTB4NjU2NDVmNWYpe3ZhciBzYWx0PVdvcmRBcnJheS5jcmVhdGUoY2lwaGVydGV4dFdvcmRzLnNsaWNlKDIsNCkpO2NpcGhlcnRleHRXb3Jkcy5zcGxpY2UoMCw0KTtjaXBoZXJ0ZXh0LnNpZ0J5dGVzLT0xNjt9CnJldHVybiBDaXBoZXJQYXJhbXMuY3JlYXRlKHtjaXBoZXJ0ZXh0OmNpcGhlcnRleHQsc2FsdDpzYWx0fSk7fX07dmFyIFNlcmlhbGl6YWJsZUNpcGhlcj1DX2xpYi5TZXJpYWxpemFibGVDaXBoZXI9QmFzZS5leHRlbmQoe2NmZzpCYXNlLmV4dGVuZCh7Zm9ybWF0Ok9wZW5TU0xGb3JtYXR0ZXJ9KSxlbmNyeXB0OmZ1bmN0aW9uKGNpcGhlcixtZXNzYWdlLGtleSxjZmcpe2NmZz10aGlzLmNmZy5leHRlbmQoY2ZnKTt2YXIgZW5jcnlwdG9yPWNpcGhlci5jcmVhdGVFbmNyeXB0b3Ioa2V5LGNmZyk7dmFyIGNpcGhlcnRleHQ9ZW5jcnlwdG9yLmZpbmFsaXplKG1lc3NhZ2UpO3ZhciBjaXBoZXJDZmc9ZW5jcnlwdG9yLmNmZztyZXR1cm4gQ2lwaGVyUGFyYW1zLmNyZWF0ZSh7Y2lwaGVydGV4dDpjaXBoZXJ0ZXh0LGtleTprZXksaXY6Y2lwaGVyQ2ZnLml2LGFsZ29yaXRobTpjaXBoZXIsbW9kZTpjaXBoZXJDZmcubW9kZSxwYWRkaW5nOmNpcGhlckNmZy5wYWRkaW5nLGJsb2NrU2l6ZTpjaXBoZXIuYmxvY2tTaXplLGZvcm1hdHRlcjpjZmcuZm9ybWF0fSk7fSxkZWNyeXB0OmZ1bmN0aW9uKGNpcGhlcixjaXBoZXJ0ZXh0LGtleSxjZmcpe2NmZz10aGlzLmNmZy5leHRlbmQoY2ZnKTtjaXBoZXJ0ZXh0PXRoaXMuX3BhcnNlKGNpcGhlcnRleHQsY2ZnLmZvcm1hdCk7dmFyIHBsYWludGV4dD1jaXBoZXIuY3JlYXRlRGVjcnlwdG9yKGtleSxjZmcpLmZpbmFsaXplKGNpcGhlcnRleHQuY2lwaGVydGV4dCk7cmV0dXJuIHBsYWludGV4dDt9LF9wYXJzZTpmdW5jdGlvbihjaXBoZXJ0ZXh0LGZvcm1hdCl7aWYodHlwZW9mIGNpcGhlcnRleHQ9PSdzdHJpbmcnKXtyZXR1cm4gZm9ybWF0LnBhcnNlKGNpcGhlcnRleHQsdGhpcyk7fWVsc2V7cmV0dXJuIGNpcGhlcnRleHQ7fX19KTt2YXIgQ19rZGY9Qy5rZGY9e307dmFyIE9wZW5TU0xLZGY9Q19rZGYuT3BlblNTTD17ZXhlY3V0ZTpmdW5jdGlvbihwYXNzd29yZCxrZXlTaXplLGl2U2l6ZSxzYWx0KXtpZighc2FsdCl7c2FsdD1Xb3JkQXJyYXkucmFuZG9tKDY0LzgpO30KdmFyIGtleT1FdnBLREYuY3JlYXRlKHtrZXlTaXplOmtleVNpemUraXZTaXplfSkuY29tcHV0ZShwYXNzd29yZCxzYWx0KTt2YXIgaXY9V29yZEFycmF5LmNyZWF0ZShrZXkud29yZHMuc2xpY2Uoa2V5U2l6ZSksaXZTaXplKjQpO2tleS5zaWdCeXRlcz1rZXlTaXplKjQ7cmV0dXJuIENpcGhlclBhcmFtcy5jcmVhdGUoe2tleTprZXksaXY6aXYsc2FsdDpzYWx0fSk7fX07dmFyIFBhc3N3b3JkQmFzZWRDaXBoZXI9Q19saWIuUGFzc3dvcmRCYXNlZENpcGhlcj1TZXJpYWxpemFibGVDaXBoZXIuZXh0ZW5kKHtjZmc6U2VyaWFsaXphYmxlQ2lwaGVyLmNmZy5leHRlbmQoe2tkZjpPcGVuU1NMS2RmfSksZW5jcnlwdDpmdW5jdGlvbihjaXBoZXIsbWVzc2FnZSxwYXNzd29yZCxjZmcpe2NmZz10aGlzLmNmZy5leHRlbmQoY2ZnKTt2YXIgZGVyaXZlZFBhcmFtcz1jZmcua2RmLmV4ZWN1dGUocGFzc3dvcmQsY2lwaGVyLmtleVNpemUsY2lwaGVyLml2U2l6ZSk7Y2ZnLml2PWRlcml2ZWRQYXJhbXMuaXY7dmFyIGNpcGhlcnRleHQ9U2VyaWFsaXphYmxlQ2lwaGVyLmVuY3J5cHQuY2FsbCh0aGlzLGNpcGhlcixtZXNzYWdlLGRlcml2ZWRQYXJhbXMua2V5LGNmZyk7Y2lwaGVydGV4dC5taXhJbihkZXJpdmVkUGFyYW1zKTtyZXR1cm4gY2lwaGVydGV4dDt9LGRlY3J5cHQ6ZnVuY3Rpb24oY2lwaGVyLGNpcGhlcnRleHQscGFzc3dvcmQsY2ZnKXtjZmc9dGhpcy5jZmcuZXh0ZW5kKGNmZyk7Y2lwaGVydGV4dD10aGlzLl9wYXJzZShjaXBoZXJ0ZXh0LGNmZy5mb3JtYXQpO3ZhciBkZXJpdmVkUGFyYW1zPWNmZy5rZGYuZXhlY3V0ZShwYXNzd29yZCxjaXBoZXIua2V5U2l6ZSxjaXBoZXIuaXZTaXplLGNpcGhlcnRleHQuc2FsdCk7Y2ZnLml2PWRlcml2ZWRQYXJhbXMuaXY7dmFyIHBsYWludGV4dD1TZXJpYWxpemFibGVDaXBoZXIuZGVjcnlwdC5jYWxsKHRoaXMsY2lwaGVyLGNpcGhlcnRleHQsZGVyaXZlZFBhcmFtcy5rZXksY2ZnKTtyZXR1cm4gcGxhaW50ZXh0O319KTt9KCkpOyhmdW5jdGlvbigpe3ZhciBDPUNyeXB0b0pTO3ZhciBDX2xpYj1DLmxpYjt2YXIgQmxvY2tDaXBoZXI9Q19saWIuQmxvY2tDaXBoZXI7dmFyIENfYWxnbz1DLmFsZ287dmFyIFNCT1g9W107dmFyIElOVl9TQk9YPVtdO3ZhciBTVUJfTUlYXzA9W107dmFyIFNVQl9NSVhfMT1bXTt2YXIgU1VCX01JWF8yPVtdO3ZhciBTVUJfTUlYXzM9W107dmFyIElOVl9TVUJfTUlYXzA9W107dmFyIElOVl9TVUJfTUlYXzE9W107dmFyIElOVl9TVUJfTUlYXzI9W107dmFyIElOVl9TVUJfTUlYXzM9W107KGZ1bmN0aW9uKCl7dmFyIGQ9W107Zm9yKHZhciBpPTA7aTwyNTY7aSsrKXtpZihpPDEyOCl7ZFtpXT1pPDwxO31lbHNle2RbaV09KGk8PDEpXjB4MTFiO319CnZhciB4PTA7dmFyIHhpPTA7Zm9yKHZhciBpPTA7aTwyNTY7aSsrKXt2YXIgc3g9eGleKHhpPDwxKV4oeGk8PDIpXih4aTw8MyleKHhpPDw0KTtzeD0oc3g+Pj44KV4oc3gmMHhmZileMHg2MztTQk9YW3hdPXN4O0lOVl9TQk9YW3N4XT14O3ZhciB4Mj1kW3hdO3ZhciB4ND1kW3gyXTt2YXIgeDg9ZFt4NF07dmFyIHQ9KGRbc3hdKjB4MTAxKV4oc3gqMHgxMDEwMTAwKTtTVUJfTUlYXzBbeF09KHQ8PDI0KXwodD4+PjgpO1NVQl9NSVhfMVt4XT0odDw8MTYpfCh0Pj4+MTYpO1NVQl9NSVhfMlt4XT0odDw8OCl8KHQ+Pj4yNCk7U1VCX01JWF8zW3hdPXQ7dmFyIHQ9KHg4KjB4MTAxMDEwMSleKHg0KjB4MTAwMDEpXih4MioweDEwMSleKHgqMHgxMDEwMTAwKTtJTlZfU1VCX01JWF8wW3N4XT0odDw8MjQpfCh0Pj4+OCk7SU5WX1NVQl9NSVhfMVtzeF09KHQ8PDE2KXwodD4+PjE2KTtJTlZfU1VCX01JWF8yW3N4XT0odDw8OCl8KHQ+Pj4yNCk7SU5WX1NVQl9NSVhfM1tzeF09dDtpZigheCl7eD14aT0xO31lbHNle3g9eDJeZFtkW2RbeDheeDJdXV07eGlePWRbZFt4aV1dO319fSgpKTt2YXIgUkNPTj1bMHgwMCwweDAxLDB4MDIsMHgwNCwweDA4LDB4MTAsMHgyMCwweDQwLDB4ODAsMHgxYiwweDM2XTt2YXIgQUVTPUNfYWxnby5BRVM9QmxvY2tDaXBoZXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3ZhciBrZXk9dGhpcy5fa2V5O3ZhciBrZXlXb3Jkcz1rZXkud29yZHM7dmFyIGtleVNpemU9a2V5LnNpZ0J5dGVzLzQ7dmFyIG5Sb3VuZHM9dGhpcy5fblJvdW5kcz1rZXlTaXplKzYKdmFyIGtzUm93cz0oblJvdW5kcysxKSo0O3ZhciBrZXlTY2hlZHVsZT10aGlzLl9rZXlTY2hlZHVsZT1bXTtmb3IodmFyIGtzUm93PTA7a3NSb3c8a3NSb3dzO2tzUm93Kyspe2lmKGtzUm93PGtleVNpemUpe2tleVNjaGVkdWxlW2tzUm93XT1rZXlXb3Jkc1trc1Jvd107fWVsc2V7dmFyIHQ9a2V5U2NoZWR1bGVba3NSb3ctMV07aWYoIShrc1JvdyVrZXlTaXplKSl7dD0odDw8OCl8KHQ+Pj4yNCk7dD0oU0JPWFt0Pj4+MjRdPDwyNCl8KFNCT1hbKHQ+Pj4xNikmMHhmZl08PDE2KXwoU0JPWFsodD4+PjgpJjB4ZmZdPDw4KXxTQk9YW3QmMHhmZl07dF49UkNPTlsoa3NSb3cva2V5U2l6ZSl8MF08PDI0O31lbHNlIGlmKGtleVNpemU+NiYma3NSb3cla2V5U2l6ZT09NCl7dD0oU0JPWFt0Pj4+MjRdPDwyNCl8KFNCT1hbKHQ+Pj4xNikmMHhmZl08PDE2KXwoU0JPWFsodD4+PjgpJjB4ZmZdPDw4KXxTQk9YW3QmMHhmZl07fQprZXlTY2hlZHVsZVtrc1Jvd109a2V5U2NoZWR1bGVba3NSb3cta2V5U2l6ZV1edDt9fQp2YXIgaW52S2V5U2NoZWR1bGU9dGhpcy5faW52S2V5U2NoZWR1bGU9W107Zm9yKHZhciBpbnZLc1Jvdz0wO2ludktzUm93PGtzUm93cztpbnZLc1JvdysrKXt2YXIga3NSb3c9a3NSb3dzLWludktzUm93O2lmKGludktzUm93JTQpe3ZhciB0PWtleVNjaGVkdWxlW2tzUm93XTt9ZWxzZXt2YXIgdD1rZXlTY2hlZHVsZVtrc1Jvdy00XTt9CmlmKGludktzUm93PDR8fGtzUm93PD00KXtpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd109dDt9ZWxzZXtpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd109SU5WX1NVQl9NSVhfMFtTQk9YW3Q+Pj4yNF1dXklOVl9TVUJfTUlYXzFbU0JPWFsodD4+PjE2KSYweGZmXV1eSU5WX1NVQl9NSVhfMltTQk9YWyh0Pj4+OCkmMHhmZl1dXklOVl9TVUJfTUlYXzNbU0JPWFt0JjB4ZmZdXTt9fX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt0aGlzLl9kb0NyeXB0QmxvY2soTSxvZmZzZXQsdGhpcy5fa2V5U2NoZWR1bGUsU1VCX01JWF8wLFNVQl9NSVhfMSxTVUJfTUlYXzIsU1VCX01JWF8zLFNCT1gpO30sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgdD1NW29mZnNldCsxXTtNW29mZnNldCsxXT1NW29mZnNldCszXTtNW29mZnNldCszXT10O3RoaXMuX2RvQ3J5cHRCbG9jayhNLG9mZnNldCx0aGlzLl9pbnZLZXlTY2hlZHVsZSxJTlZfU1VCX01JWF8wLElOVl9TVUJfTUlYXzEsSU5WX1NVQl9NSVhfMixJTlZfU1VCX01JWF8zLElOVl9TQk9YKTt2YXIgdD1NW29mZnNldCsxXTtNW29mZnNldCsxXT1NW29mZnNldCszXTtNW29mZnNldCszXT10O30sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbihNLG9mZnNldCxrZXlTY2hlZHVsZSxTVUJfTUlYXzAsU1VCX01JWF8xLFNVQl9NSVhfMixTVUJfTUlYXzMsU0JPWCl7dmFyIG5Sb3VuZHM9dGhpcy5fblJvdW5kczt2YXIgczA9TVtvZmZzZXRdXmtleVNjaGVkdWxlWzBdO3ZhciBzMT1NW29mZnNldCsxXV5rZXlTY2hlZHVsZVsxXTt2YXIgczI9TVtvZmZzZXQrMl1ea2V5U2NoZWR1bGVbMl07dmFyIHMzPU1bb2Zmc2V0KzNdXmtleVNjaGVkdWxlWzNdO3ZhciBrc1Jvdz00O2Zvcih2YXIgcm91bmQ9MTtyb3VuZDxuUm91bmRzO3JvdW5kKyspe3ZhciB0MD1TVUJfTUlYXzBbczA+Pj4yNF1eU1VCX01JWF8xWyhzMT4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMyPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MzJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0MT1TVUJfTUlYXzBbczE+Pj4yNF1eU1VCX01JWF8xWyhzMj4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMzPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MwJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0Mj1TVUJfTUlYXzBbczI+Pj4yNF1eU1VCX01JWF8xWyhzMz4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMwPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MxJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0Mz1TVUJfTUlYXzBbczM+Pj4yNF1eU1VCX01JWF8xWyhzMD4+PjE2KSYweGZmXV5TVUJfTUlYXzJbKHMxPj4+OCkmMHhmZl1eU1VCX01JWF8zW3MyJjB4ZmZdXmtleVNjaGVkdWxlW2tzUm93KytdO3MwPXQwO3MxPXQxO3MyPXQyO3MzPXQzO30KdmFyIHQwPSgoU0JPWFtzMD4+PjI0XTw8MjQpfChTQk9YWyhzMT4+PjE2KSYweGZmXTw8MTYpfChTQk9YWyhzMj4+PjgpJjB4ZmZdPDw4KXxTQk9YW3MzJjB4ZmZdKV5rZXlTY2hlZHVsZVtrc1JvdysrXTt2YXIgdDE9KChTQk9YW3MxPj4+MjRdPDwyNCl8KFNCT1hbKHMyPj4+MTYpJjB4ZmZdPDwxNil8KFNCT1hbKHMzPj4+OCkmMHhmZl08PDgpfFNCT1hbczAmMHhmZl0pXmtleVNjaGVkdWxlW2tzUm93KytdO3ZhciB0Mj0oKFNCT1hbczI+Pj4yNF08PDI0KXwoU0JPWFsoczM+Pj4xNikmMHhmZl08PDE2KXwoU0JPWFsoczA+Pj44KSYweGZmXTw8OCl8U0JPWFtzMSYweGZmXSlea2V5U2NoZWR1bGVba3NSb3crK107dmFyIHQzPSgoU0JPWFtzMz4+PjI0XTw8MjQpfChTQk9YWyhzMD4+PjE2KSYweGZmXTw8MTYpfChTQk9YWyhzMT4+PjgpJjB4ZmZdPDw4KXxTQk9YW3MyJjB4ZmZdKV5rZXlTY2hlZHVsZVtrc1JvdysrXTtNW29mZnNldF09dDA7TVtvZmZzZXQrMV09dDE7TVtvZmZzZXQrMl09dDI7TVtvZmZzZXQrM109dDM7fSxrZXlTaXplOjI1Ni8zMn0pO0MuQUVTPUJsb2NrQ2lwaGVyLl9jcmVhdGVIZWxwZXIoQUVTKTt9KCkpOyhmdW5jdGlvbihNYXRoKXt2YXIgQz1DcnlwdG9KUzt2YXIgQ19saWI9Qy5saWI7dmFyIFdvcmRBcnJheT1DX2xpYi5Xb3JkQXJyYXk7dmFyIEhhc2hlcj1DX2xpYi5IYXNoZXI7dmFyIENfYWxnbz1DLmFsZ287dmFyIFQ9W107KGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTw2NDtpKyspe1RbaV09KE1hdGguYWJzKE1hdGguc2luKGkrMSkpKjB4MTAwMDAwMDAwKXwwO319KCkpO3ZhciBNRDU9Q19hbGdvLk1ENT1IYXNoZXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IFdvcmRBcnJheS5pbml0KFsweDY3NDUyMzAxLDB4ZWZjZGFiODksMHg5OGJhZGNmZSwweDEwMzI1NDc2XSk7fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oTSxvZmZzZXQpe2Zvcih2YXIgaT0wO2k8MTY7aSsrKXt2YXIgb2Zmc2V0X2k9b2Zmc2V0K2k7dmFyIE1fb2Zmc2V0X2k9TVtvZmZzZXRfaV07TVtvZmZzZXRfaV09KCgoKE1fb2Zmc2V0X2k8PDgpfChNX29mZnNldF9pPj4+MjQpKSYweDAwZmYwMGZmKXwoKChNX29mZnNldF9pPDwyNCl8KE1fb2Zmc2V0X2k+Pj44KSkmMHhmZjAwZmYwMCkpO30KdmFyIEg9dGhpcy5faGFzaC53b3Jkczt2YXIgTV9vZmZzZXRfMD1NW29mZnNldCswXTt2YXIgTV9vZmZzZXRfMT1NW29mZnNldCsxXTt2YXIgTV9vZmZzZXRfMj1NW29mZnNldCsyXTt2YXIgTV9vZmZzZXRfMz1NW29mZnNldCszXTt2YXIgTV9vZmZzZXRfND1NW29mZnNldCs0XTt2YXIgTV9vZmZzZXRfNT1NW29mZnNldCs1XTt2YXIgTV9vZmZzZXRfNj1NW29mZnNldCs2XTt2YXIgTV9vZmZzZXRfNz1NW29mZnNldCs3XTt2YXIgTV9vZmZzZXRfOD1NW29mZnNldCs4XTt2YXIgTV9vZmZzZXRfOT1NW29mZnNldCs5XTt2YXIgTV9vZmZzZXRfMTA9TVtvZmZzZXQrMTBdO3ZhciBNX29mZnNldF8xMT1NW29mZnNldCsxMV07dmFyIE1fb2Zmc2V0XzEyPU1bb2Zmc2V0KzEyXTt2YXIgTV9vZmZzZXRfMTM9TVtvZmZzZXQrMTNdO3ZhciBNX29mZnNldF8xND1NW29mZnNldCsxNF07dmFyIE1fb2Zmc2V0XzE1PU1bb2Zmc2V0KzE1XTt2YXIgYT1IWzBdO3ZhciBiPUhbMV07dmFyIGM9SFsyXTt2YXIgZD1IWzNdO2E9RkYoYSxiLGMsZCxNX29mZnNldF8wLDcsVFswXSk7ZD1GRihkLGEsYixjLE1fb2Zmc2V0XzEsMTIsVFsxXSk7Yz1GRihjLGQsYSxiLE1fb2Zmc2V0XzIsMTcsVFsyXSk7Yj1GRihiLGMsZCxhLE1fb2Zmc2V0XzMsMjIsVFszXSk7YT1GRihhLGIsYyxkLE1fb2Zmc2V0XzQsNyxUWzRdKTtkPUZGKGQsYSxiLGMsTV9vZmZzZXRfNSwxMixUWzVdKTtjPUZGKGMsZCxhLGIsTV9vZmZzZXRfNiwxNyxUWzZdKTtiPUZGKGIsYyxkLGEsTV9vZmZzZXRfNywyMixUWzddKTthPUZGKGEsYixjLGQsTV9vZmZzZXRfOCw3LFRbOF0pO2Q9RkYoZCxhLGIsYyxNX29mZnNldF85LDEyLFRbOV0pO2M9RkYoYyxkLGEsYixNX29mZnNldF8xMCwxNyxUWzEwXSk7Yj1GRihiLGMsZCxhLE1fb2Zmc2V0XzExLDIyLFRbMTFdKTthPUZGKGEsYixjLGQsTV9vZmZzZXRfMTIsNyxUWzEyXSk7ZD1GRihkLGEsYixjLE1fb2Zmc2V0XzEzLDEyLFRbMTNdKTtjPUZGKGMsZCxhLGIsTV9vZmZzZXRfMTQsMTcsVFsxNF0pO2I9RkYoYixjLGQsYSxNX29mZnNldF8xNSwyMixUWzE1XSk7YT1HRyhhLGIsYyxkLE1fb2Zmc2V0XzEsNSxUWzE2XSk7ZD1HRyhkLGEsYixjLE1fb2Zmc2V0XzYsOSxUWzE3XSk7Yz1HRyhjLGQsYSxiLE1fb2Zmc2V0XzExLDE0LFRbMThdKTtiPUdHKGIsYyxkLGEsTV9vZmZzZXRfMCwyMCxUWzE5XSk7YT1HRyhhLGIsYyxkLE1fb2Zmc2V0XzUsNSxUWzIwXSk7ZD1HRyhkLGEsYixjLE1fb2Zmc2V0XzEwLDksVFsyMV0pO2M9R0coYyxkLGEsYixNX29mZnNldF8xNSwxNCxUWzIyXSk7Yj1HRyhiLGMsZCxhLE1fb2Zmc2V0XzQsMjAsVFsyM10pO2E9R0coYSxiLGMsZCxNX29mZnNldF85LDUsVFsyNF0pO2Q9R0coZCxhLGIsYyxNX29mZnNldF8xNCw5LFRbMjVdKTtjPUdHKGMsZCxhLGIsTV9vZmZzZXRfMywxNCxUWzI2XSk7Yj1HRyhiLGMsZCxhLE1fb2Zmc2V0XzgsMjAsVFsyN10pO2E9R0coYSxiLGMsZCxNX29mZnNldF8xMyw1LFRbMjhdKTtkPUdHKGQsYSxiLGMsTV9vZmZzZXRfMiw5LFRbMjldKTtjPUdHKGMsZCxhLGIsTV9vZmZzZXRfNywxNCxUWzMwXSk7Yj1HRyhiLGMsZCxhLE1fb2Zmc2V0XzEyLDIwLFRbMzFdKTthPUhIKGEsYixjLGQsTV9vZmZzZXRfNSw0LFRbMzJdKTtkPUhIKGQsYSxiLGMsTV9vZmZzZXRfOCwxMSxUWzMzXSk7Yz1ISChjLGQsYSxiLE1fb2Zmc2V0XzExLDE2LFRbMzRdKTtiPUhIKGIsYyxkLGEsTV9vZmZzZXRfMTQsMjMsVFszNV0pO2E9SEgoYSxiLGMsZCxNX29mZnNldF8xLDQsVFszNl0pO2Q9SEgoZCxhLGIsYyxNX29mZnNldF80LDExLFRbMzddKTtjPUhIKGMsZCxhLGIsTV9vZmZzZXRfNywxNixUWzM4XSk7Yj1ISChiLGMsZCxhLE1fb2Zmc2V0XzEwLDIzLFRbMzldKTthPUhIKGEsYixjLGQsTV9vZmZzZXRfMTMsNCxUWzQwXSk7ZD1ISChkLGEsYixjLE1fb2Zmc2V0XzAsMTEsVFs0MV0pO2M9SEgoYyxkLGEsYixNX29mZnNldF8zLDE2LFRbNDJdKTtiPUhIKGIsYyxkLGEsTV9vZmZzZXRfNiwyMyxUWzQzXSk7YT1ISChhLGIsYyxkLE1fb2Zmc2V0XzksNCxUWzQ0XSk7ZD1ISChkLGEsYixjLE1fb2Zmc2V0XzEyLDExLFRbNDVdKTtjPUhIKGMsZCxhLGIsTV9vZmZzZXRfMTUsMTYsVFs0Nl0pO2I9SEgoYixjLGQsYSxNX29mZnNldF8yLDIzLFRbNDddKTthPUlJKGEsYixjLGQsTV9vZmZzZXRfMCw2LFRbNDhdKTtkPUlJKGQsYSxiLGMsTV9vZmZzZXRfNywxMCxUWzQ5XSk7Yz1JSShjLGQsYSxiLE1fb2Zmc2V0XzE0LDE1LFRbNTBdKTtiPUlJKGIsYyxkLGEsTV9vZmZzZXRfNSwyMSxUWzUxXSk7YT1JSShhLGIsYyxkLE1fb2Zmc2V0XzEyLDYsVFs1Ml0pO2Q9SUkoZCxhLGIsYyxNX29mZnNldF8zLDEwLFRbNTNdKTtjPUlJKGMsZCxhLGIsTV9vZmZzZXRfMTAsMTUsVFs1NF0pO2I9SUkoYixjLGQsYSxNX29mZnNldF8xLDIxLFRbNTVdKTthPUlJKGEsYixjLGQsTV9vZmZzZXRfOCw2LFRbNTZdKTtkPUlJKGQsYSxiLGMsTV9vZmZzZXRfMTUsMTAsVFs1N10pO2M9SUkoYyxkLGEsYixNX29mZnNldF82LDE1LFRbNThdKTtiPUlJKGIsYyxkLGEsTV9vZmZzZXRfMTMsMjEsVFs1OV0pO2E9SUkoYSxiLGMsZCxNX29mZnNldF80LDYsVFs2MF0pO2Q9SUkoZCxhLGIsYyxNX29mZnNldF8xMSwxMCxUWzYxXSk7Yz1JSShjLGQsYSxiLE1fb2Zmc2V0XzIsMTUsVFs2Ml0pO2I9SUkoYixjLGQsYSxNX29mZnNldF85LDIxLFRbNjNdKTtIWzBdPShIWzBdK2EpfDA7SFsxXT0oSFsxXStiKXwwO0hbMl09KEhbMl0rYyl8MDtIWzNdPShIWzNdK2QpfDA7fSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciBkYXRhPXRoaXMuX2RhdGE7dmFyIGRhdGFXb3Jkcz1kYXRhLndvcmRzO3ZhciBuQml0c1RvdGFsPXRoaXMuX25EYXRhQnl0ZXMqODt2YXIgbkJpdHNMZWZ0PWRhdGEuc2lnQnl0ZXMqODtkYXRhV29yZHNbbkJpdHNMZWZ0Pj4+NV18PTB4ODA8PCgyNC1uQml0c0xlZnQlMzIpO3ZhciBuQml0c1RvdGFsSD1NYXRoLmZsb29yKG5CaXRzVG90YWwvMHgxMDAwMDAwMDApO3ZhciBuQml0c1RvdGFsTD1uQml0c1RvdGFsO2RhdGFXb3Jkc1soKChuQml0c0xlZnQrNjQpPj4+OSk8PDQpKzE1XT0oKCgobkJpdHNUb3RhbEg8PDgpfChuQml0c1RvdGFsSD4+PjI0KSkmMHgwMGZmMDBmZil8KCgobkJpdHNUb3RhbEg8PDI0KXwobkJpdHNUb3RhbEg+Pj44KSkmMHhmZjAwZmYwMCkpO2RhdGFXb3Jkc1soKChuQml0c0xlZnQrNjQpPj4+OSk8PDQpKzE0XT0oKCgobkJpdHNUb3RhbEw8PDgpfChuQml0c1RvdGFsTD4+PjI0KSkmMHgwMGZmMDBmZil8KCgobkJpdHNUb3RhbEw8PDI0KXwobkJpdHNUb3RhbEw+Pj44KSkmMHhmZjAwZmYwMCkpO2RhdGEuc2lnQnl0ZXM9KGRhdGFXb3Jkcy5sZW5ndGgrMSkqNDt0aGlzLl9wcm9jZXNzKCk7dmFyIGhhc2g9dGhpcy5faGFzaDt2YXIgSD1oYXNoLndvcmRzO2Zvcih2YXIgaT0wO2k8NDtpKyspe3ZhciBIX2k9SFtpXTtIW2ldPSgoKEhfaTw8OCl8KEhfaT4+PjI0KSkmMHgwMGZmMDBmZil8KCgoSF9pPDwyNCl8KEhfaT4+PjgpKSYweGZmMDBmZjAwKTt9CnJldHVybiBoYXNoO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9SGFzaGVyLmNsb25lLmNhbGwodGhpcyk7Y2xvbmUuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBjbG9uZTt9fSk7ZnVuY3Rpb24gRkYoYSxiLGMsZCx4LHMsdCl7dmFyIG49YSsoKGImYyl8KH5iJmQpKSt4K3Q7cmV0dXJuKChuPDxzKXwobj4+PigzMi1zKSkpK2I7fQpmdW5jdGlvbiBHRyhhLGIsYyxkLHgscyx0KXt2YXIgbj1hKygoYiZkKXwoYyZ+ZCkpK3grdDtyZXR1cm4oKG48PHMpfChuPj4+KDMyLXMpKSkrYjt9CmZ1bmN0aW9uIEhIKGEsYixjLGQseCxzLHQpe3ZhciBuPWErKGJeY15kKSt4K3Q7cmV0dXJuKChuPDxzKXwobj4+PigzMi1zKSkpK2I7fQpmdW5jdGlvbiBJSShhLGIsYyxkLHgscyx0KXt2YXIgbj1hKyhjXihifH5kKSkreCt0O3JldHVybigobjw8cyl8KG4+Pj4oMzItcykpKStiO30KQy5NRDU9SGFzaGVyLl9jcmVhdGVIZWxwZXIoTUQ1KTtDLkhtYWNNRDU9SGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKE1ENSk7fShNYXRoKSk7KGZ1bmN0aW9uKCl7dmFyIEM9Q3J5cHRvSlM7dmFyIENfbGliPUMubGliO3ZhciBXb3JkQXJyYXk9Q19saWIuV29yZEFycmF5O3ZhciBIYXNoZXI9Q19saWIuSGFzaGVyO3ZhciBDX2FsZ289Qy5hbGdvO3ZhciBXPVtdO3ZhciBTSEExPUNfYWxnby5TSEExPUhhc2hlci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgV29yZEFycmF5LmluaXQoWzB4Njc0NTIzMDEsMHhlZmNkYWI4OSwweDk4YmFkY2ZlLDB4MTAzMjU0NzYsMHhjM2QyZTFmMF0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgSD10aGlzLl9oYXNoLndvcmRzO3ZhciBhPUhbMF07dmFyIGI9SFsxXTt2YXIgYz1IWzJdO3ZhciBkPUhbM107dmFyIGU9SFs0XTtmb3IodmFyIGk9MDtpPDgwO2krKyl7aWYoaTwxNil7V1tpXT1NW29mZnNldCtpXXwwO31lbHNle3ZhciBuPVdbaS0zXV5XW2ktOF1eV1tpLTE0XV5XW2ktMTZdO1dbaV09KG48PDEpfChuPj4+MzEpO30KdmFyIHQ9KChhPDw1KXwoYT4+PjI3KSkrZStXW2ldO2lmKGk8MjApe3QrPSgoYiZjKXwofmImZCkpKzB4NWE4Mjc5OTk7fWVsc2UgaWYoaTw0MCl7dCs9KGJeY15kKSsweDZlZDllYmExO31lbHNlIGlmKGk8NjApe3QrPSgoYiZjKXwoYiZkKXwoYyZkKSktMHg3MGU0NDMyNDt9ZWxzZXt0Kz0oYl5jXmQpLTB4MzU5ZDNlMmE7fQplPWQ7ZD1jO2M9KGI8PDMwKXwoYj4+PjIpO2I9YTthPXQ7fQpIWzBdPShIWzBdK2EpfDA7SFsxXT0oSFsxXStiKXwwO0hbMl09KEhbMl0rYyl8MDtIWzNdPShIWzNdK2QpfDA7SFs0XT0oSFs0XStlKXwwO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDgwPDwoMjQtbkJpdHNMZWZ0JTMyKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNF09TWF0aC5mbG9vcihuQml0c1RvdGFsLzB4MTAwMDAwMDAwKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNV09bkJpdHNUb3RhbDtkYXRhLnNpZ0J5dGVzPWRhdGFXb3Jkcy5sZW5ndGgqNDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2g7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1IYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtjbG9uZS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCk7cmV0dXJuIGNsb25lO319KTtDLlNIQTE9SGFzaGVyLl9jcmVhdGVIZWxwZXIoU0hBMSk7Qy5IbWFjU0hBMT1IYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMSk7fSgpKTsoZnVuY3Rpb24odW5kZWZpbmVkKXt2YXIgQz1DcnlwdG9KUzt2YXIgQ19saWI9Qy5saWI7dmFyIEJhc2U9Q19saWIuQmFzZTt2YXIgWDMyV29yZEFycmF5PUNfbGliLldvcmRBcnJheTt2YXIgQ194NjQ9Qy54NjQ9e307dmFyIFg2NFdvcmQ9Q194NjQuV29yZD1CYXNlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihoaWdoLGxvdyl7dGhpcy5oaWdoPWhpZ2g7dGhpcy5sb3c9bG93O319KTt2YXIgWDY0V29yZEFycmF5PUNfeDY0LldvcmRBcnJheT1CYXNlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih3b3JkcyxzaWdCeXRlcyl7d29yZHM9dGhpcy53b3Jkcz13b3Jkc3x8W107aWYoc2lnQnl0ZXMhPXVuZGVmaW5lZCl7dGhpcy5zaWdCeXRlcz1zaWdCeXRlczt9ZWxzZXt0aGlzLnNpZ0J5dGVzPXdvcmRzLmxlbmd0aCo4O319LHRvWDMyOmZ1bmN0aW9uKCl7dmFyIHg2NFdvcmRzPXRoaXMud29yZHM7dmFyIHg2NFdvcmRzTGVuZ3RoPXg2NFdvcmRzLmxlbmd0aDt2YXIgeDMyV29yZHM9W107Zm9yKHZhciBpPTA7aTx4NjRXb3Jkc0xlbmd0aDtpKyspe3ZhciB4NjRXb3JkPXg2NFdvcmRzW2ldO3gzMldvcmRzLnB1c2goeDY0V29yZC5oaWdoKTt4MzJXb3Jkcy5wdXNoKHg2NFdvcmQubG93KTt9CnJldHVybiBYMzJXb3JkQXJyYXkuY3JlYXRlKHgzMldvcmRzLHRoaXMuc2lnQnl0ZXMpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9QmFzZS5jbG9uZS5jYWxsKHRoaXMpO3ZhciB3b3Jkcz1jbG9uZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApO3ZhciB3b3Jkc0xlbmd0aD13b3Jkcy5sZW5ndGg7Zm9yKHZhciBpPTA7aTx3b3Jkc0xlbmd0aDtpKyspe3dvcmRzW2ldPXdvcmRzW2ldLmNsb25lKCk7fQpyZXR1cm4gY2xvbmU7fX0pO30oKSk7KGZ1bmN0aW9uKE1hdGgpe3ZhciBDPUNyeXB0b0pTO3ZhciBDX2xpYj1DLmxpYjt2YXIgV29yZEFycmF5PUNfbGliLldvcmRBcnJheTt2YXIgSGFzaGVyPUNfbGliLkhhc2hlcjt2YXIgQ19hbGdvPUMuYWxnbzt2YXIgSD1bXTt2YXIgSz1bXTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1ByaW1lKG4pe3ZhciBzcXJ0Tj1NYXRoLnNxcnQobik7Zm9yKHZhciBmYWN0b3I9MjtmYWN0b3I8PXNxcnROO2ZhY3RvcisrKXtpZighKG4lZmFjdG9yKSl7cmV0dXJuIGZhbHNlO319CnJldHVybiB0cnVlO30KZnVuY3Rpb24gZ2V0RnJhY3Rpb25hbEJpdHMobil7cmV0dXJuKChuLShufDApKSoweDEwMDAwMDAwMCl8MDt9CnZhciBuPTI7dmFyIG5QcmltZT0wO3doaWxlKG5QcmltZTw2NCl7aWYoaXNQcmltZShuKSl7aWYoblByaW1lPDgpe0hbblByaW1lXT1nZXRGcmFjdGlvbmFsQml0cyhNYXRoLnBvdyhuLDEvMikpO30KS1tuUHJpbWVdPWdldEZyYWN0aW9uYWxCaXRzKE1hdGgucG93KG4sMS8zKSk7blByaW1lKys7fQpuKys7fX0oKSk7dmFyIFc9W107dmFyIFNIQTI1Nj1DX2FsZ28uU0hBMjU2PUhhc2hlci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgV29yZEFycmF5LmluaXQoSC5zbGljZSgwKSk7fSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24oTSxvZmZzZXQpe3ZhciBIPXRoaXMuX2hhc2gud29yZHM7dmFyIGE9SFswXTt2YXIgYj1IWzFdO3ZhciBjPUhbMl07dmFyIGQ9SFszXTt2YXIgZT1IWzRdO3ZhciBmPUhbNV07dmFyIGc9SFs2XTt2YXIgaD1IWzddO2Zvcih2YXIgaT0wO2k8NjQ7aSsrKXtpZihpPDE2KXtXW2ldPU1bb2Zmc2V0K2ldfDA7fWVsc2V7dmFyIGdhbW1hMHg9V1tpLTE1XTt2YXIgZ2FtbWEwPSgoZ2FtbWEweDw8MjUpfChnYW1tYTB4Pj4+NykpXigoZ2FtbWEweDw8MTQpfChnYW1tYTB4Pj4+MTgpKV4oZ2FtbWEweD4+PjMpO3ZhciBnYW1tYTF4PVdbaS0yXTt2YXIgZ2FtbWExPSgoZ2FtbWExeDw8MTUpfChnYW1tYTF4Pj4+MTcpKV4oKGdhbW1hMXg8PDEzKXwoZ2FtbWExeD4+PjE5KSleKGdhbW1hMXg+Pj4xMCk7V1tpXT1nYW1tYTArV1tpLTddK2dhbW1hMStXW2ktMTZdO30KdmFyIGNoPShlJmYpXih+ZSZnKTt2YXIgbWFqPShhJmIpXihhJmMpXihiJmMpO3ZhciBzaWdtYTA9KChhPDwzMCl8KGE+Pj4yKSleKChhPDwxOSl8KGE+Pj4xMykpXigoYTw8MTApfChhPj4+MjIpKTt2YXIgc2lnbWExPSgoZTw8MjYpfChlPj4+NikpXigoZTw8MjEpfChlPj4+MTEpKV4oKGU8PDcpfChlPj4+MjUpKTt2YXIgdDE9aCtzaWdtYTErY2grS1tpXStXW2ldO3ZhciB0Mj1zaWdtYTArbWFqO2g9ZztnPWY7Zj1lO2U9KGQrdDEpfDA7ZD1jO2M9YjtiPWE7YT0odDErdDIpfDA7fQpIWzBdPShIWzBdK2EpfDA7SFsxXT0oSFsxXStiKXwwO0hbMl09KEhbMl0rYyl8MDtIWzNdPShIWzNdK2QpfDA7SFs0XT0oSFs0XStlKXwwO0hbNV09KEhbNV0rZil8MDtIWzZdPShIWzZdK2cpfDA7SFs3XT0oSFs3XStoKXwwO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDgwPDwoMjQtbkJpdHNMZWZ0JTMyKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNF09TWF0aC5mbG9vcihuQml0c1RvdGFsLzB4MTAwMDAwMDAwKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzY0KT4+PjkpPDw0KSsxNV09bkJpdHNUb3RhbDtkYXRhLnNpZ0J5dGVzPWRhdGFXb3Jkcy5sZW5ndGgqNDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2g7fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBjbG9uZT1IYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtjbG9uZS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCk7cmV0dXJuIGNsb25lO319KTtDLlNIQTI1Nj1IYXNoZXIuX2NyZWF0ZUhlbHBlcihTSEEyNTYpO0MuSG1hY1NIQTI1Nj1IYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMjU2KTt9KE1hdGgpKTsoZnVuY3Rpb24oKXt2YXIgQz1DcnlwdG9KUzt2YXIgQ19saWI9Qy5saWI7dmFyIEhhc2hlcj1DX2xpYi5IYXNoZXI7dmFyIENfeDY0PUMueDY0O3ZhciBYNjRXb3JkPUNfeDY0LldvcmQ7dmFyIFg2NFdvcmRBcnJheT1DX3g2NC5Xb3JkQXJyYXk7dmFyIENfYWxnbz1DLmFsZ287ZnVuY3Rpb24gWDY0V29yZF9jcmVhdGUoKXtyZXR1cm4gWDY0V29yZC5jcmVhdGUuYXBwbHkoWDY0V29yZCxhcmd1bWVudHMpO30KdmFyIEs9W1g2NFdvcmRfY3JlYXRlKDB4NDI4YTJmOTgsMHhkNzI4YWUyMiksWDY0V29yZF9jcmVhdGUoMHg3MTM3NDQ5MSwweDIzZWY2NWNkKSxYNjRXb3JkX2NyZWF0ZSgweGI1YzBmYmNmLDB4ZWM0ZDNiMmYpLFg2NFdvcmRfY3JlYXRlKDB4ZTliNWRiYTUsMHg4MTg5ZGJiYyksWDY0V29yZF9jcmVhdGUoMHgzOTU2YzI1YiwweGYzNDhiNTM4KSxYNjRXb3JkX2NyZWF0ZSgweDU5ZjExMWYxLDB4YjYwNWQwMTkpLFg2NFdvcmRfY3JlYXRlKDB4OTIzZjgyYTQsMHhhZjE5NGY5YiksWDY0V29yZF9jcmVhdGUoMHhhYjFjNWVkNSwweGRhNmQ4MTE4KSxYNjRXb3JkX2NyZWF0ZSgweGQ4MDdhYTk4LDB4YTMwMzAyNDIpLFg2NFdvcmRfY3JlYXRlKDB4MTI4MzViMDEsMHg0NTcwNmZiZSksWDY0V29yZF9jcmVhdGUoMHgyNDMxODViZSwweDRlZTRiMjhjKSxYNjRXb3JkX2NyZWF0ZSgweDU1MGM3ZGMzLDB4ZDVmZmI0ZTIpLFg2NFdvcmRfY3JlYXRlKDB4NzJiZTVkNzQsMHhmMjdiODk2ZiksWDY0V29yZF9jcmVhdGUoMHg4MGRlYjFmZSwweDNiMTY5NmIxKSxYNjRXb3JkX2NyZWF0ZSgweDliZGMwNmE3LDB4MjVjNzEyMzUpLFg2NFdvcmRfY3JlYXRlKDB4YzE5YmYxNzQsMHhjZjY5MjY5NCksWDY0V29yZF9jcmVhdGUoMHhlNDliNjljMSwweDllZjE0YWQyKSxYNjRXb3JkX2NyZWF0ZSgweGVmYmU0Nzg2LDB4Mzg0ZjI1ZTMpLFg2NFdvcmRfY3JlYXRlKDB4MGZjMTlkYzYsMHg4YjhjZDViNSksWDY0V29yZF9jcmVhdGUoMHgyNDBjYTFjYywweDc3YWM5YzY1KSxYNjRXb3JkX2NyZWF0ZSgweDJkZTkyYzZmLDB4NTkyYjAyNzUpLFg2NFdvcmRfY3JlYXRlKDB4NGE3NDg0YWEsMHg2ZWE2ZTQ4MyksWDY0V29yZF9jcmVhdGUoMHg1Y2IwYTlkYywweGJkNDFmYmQ0KSxYNjRXb3JkX2NyZWF0ZSgweDc2Zjk4OGRhLDB4ODMxMTUzYjUpLFg2NFdvcmRfY3JlYXRlKDB4OTgzZTUxNTIsMHhlZTY2ZGZhYiksWDY0V29yZF9jcmVhdGUoMHhhODMxYzY2ZCwweDJkYjQzMjEwKSxYNjRXb3JkX2NyZWF0ZSgweGIwMDMyN2M4LDB4OThmYjIxM2YpLFg2NFdvcmRfY3JlYXRlKDB4YmY1OTdmYzcsMHhiZWVmMGVlNCksWDY0V29yZF9jcmVhdGUoMHhjNmUwMGJmMywweDNkYTg4ZmMyKSxYNjRXb3JkX2NyZWF0ZSgweGQ1YTc5MTQ3LDB4OTMwYWE3MjUpLFg2NFdvcmRfY3JlYXRlKDB4MDZjYTYzNTEsMHhlMDAzODI2ZiksWDY0V29yZF9jcmVhdGUoMHgxNDI5Mjk2NywweDBhMGU2ZTcwKSxYNjRXb3JkX2NyZWF0ZSgweDI3YjcwYTg1LDB4NDZkMjJmZmMpLFg2NFdvcmRfY3JlYXRlKDB4MmUxYjIxMzgsMHg1YzI2YzkyNiksWDY0V29yZF9jcmVhdGUoMHg0ZDJjNmRmYywweDVhYzQyYWVkKSxYNjRXb3JkX2NyZWF0ZSgweDUzMzgwZDEzLDB4OWQ5NWIzZGYpLFg2NFdvcmRfY3JlYXRlKDB4NjUwYTczNTQsMHg4YmFmNjNkZSksWDY0V29yZF9jcmVhdGUoMHg3NjZhMGFiYiwweDNjNzdiMmE4KSxYNjRXb3JkX2NyZWF0ZSgweDgxYzJjOTJlLDB4NDdlZGFlZTYpLFg2NFdvcmRfY3JlYXRlKDB4OTI3MjJjODUsMHgxNDgyMzUzYiksWDY0V29yZF9jcmVhdGUoMHhhMmJmZThhMSwweDRjZjEwMzY0KSxYNjRXb3JkX2NyZWF0ZSgweGE4MWE2NjRiLDB4YmM0MjMwMDEpLFg2NFdvcmRfY3JlYXRlKDB4YzI0YjhiNzAsMHhkMGY4OTc5MSksWDY0V29yZF9jcmVhdGUoMHhjNzZjNTFhMywweDA2NTRiZTMwKSxYNjRXb3JkX2NyZWF0ZSgweGQxOTJlODE5LDB4ZDZlZjUyMTgpLFg2NFdvcmRfY3JlYXRlKDB4ZDY5OTA2MjQsMHg1NTY1YTkxMCksWDY0V29yZF9jcmVhdGUoMHhmNDBlMzU4NSwweDU3NzEyMDJhKSxYNjRXb3JkX2NyZWF0ZSgweDEwNmFhMDcwLDB4MzJiYmQxYjgpLFg2NFdvcmRfY3JlYXRlKDB4MTlhNGMxMTYsMHhiOGQyZDBjOCksWDY0V29yZF9jcmVhdGUoMHgxZTM3NmMwOCwweDUxNDFhYjUzKSxYNjRXb3JkX2NyZWF0ZSgweDI3NDg3NzRjLDB4ZGY4ZWViOTkpLFg2NFdvcmRfY3JlYXRlKDB4MzRiMGJjYjUsMHhlMTliNDhhOCksWDY0V29yZF9jcmVhdGUoMHgzOTFjMGNiMywweGM1Yzk1YTYzKSxYNjRXb3JkX2NyZWF0ZSgweDRlZDhhYTRhLDB4ZTM0MThhY2IpLFg2NFdvcmRfY3JlYXRlKDB4NWI5Y2NhNGYsMHg3NzYzZTM3MyksWDY0V29yZF9jcmVhdGUoMHg2ODJlNmZmMywweGQ2YjJiOGEzKSxYNjRXb3JkX2NyZWF0ZSgweDc0OGY4MmVlLDB4NWRlZmIyZmMpLFg2NFdvcmRfY3JlYXRlKDB4NzhhNTYzNmYsMHg0MzE3MmY2MCksWDY0V29yZF9jcmVhdGUoMHg4NGM4NzgxNCwweGExZjBhYjcyKSxYNjRXb3JkX2NyZWF0ZSgweDhjYzcwMjA4LDB4MWE2NDM5ZWMpLFg2NFdvcmRfY3JlYXRlKDB4OTBiZWZmZmEsMHgyMzYzMWUyOCksWDY0V29yZF9jcmVhdGUoMHhhNDUwNmNlYiwweGRlODJiZGU5KSxYNjRXb3JkX2NyZWF0ZSgweGJlZjlhM2Y3LDB4YjJjNjc5MTUpLFg2NFdvcmRfY3JlYXRlKDB4YzY3MTc4ZjIsMHhlMzcyNTMyYiksWDY0V29yZF9jcmVhdGUoMHhjYTI3M2VjZSwweGVhMjY2MTljKSxYNjRXb3JkX2NyZWF0ZSgweGQxODZiOGM3LDB4MjFjMGMyMDcpLFg2NFdvcmRfY3JlYXRlKDB4ZWFkYTdkZDYsMHhjZGUwZWIxZSksWDY0V29yZF9jcmVhdGUoMHhmNTdkNGY3ZiwweGVlNmVkMTc4KSxYNjRXb3JkX2NyZWF0ZSgweDA2ZjA2N2FhLDB4NzIxNzZmYmEpLFg2NFdvcmRfY3JlYXRlKDB4MGE2MzdkYzUsMHhhMmM4OThhNiksWDY0V29yZF9jcmVhdGUoMHgxMTNmOTgwNCwweGJlZjkwZGFlKSxYNjRXb3JkX2NyZWF0ZSgweDFiNzEwYjM1LDB4MTMxYzQ3MWIpLFg2NFdvcmRfY3JlYXRlKDB4MjhkYjc3ZjUsMHgyMzA0N2Q4NCksWDY0V29yZF9jcmVhdGUoMHgzMmNhYWI3YiwweDQwYzcyNDkzKSxYNjRXb3JkX2NyZWF0ZSgweDNjOWViZTBhLDB4MTVjOWJlYmMpLFg2NFdvcmRfY3JlYXRlKDB4NDMxZDY3YzQsMHg5YzEwMGQ0YyksWDY0V29yZF9jcmVhdGUoMHg0Y2M1ZDRiZSwweGNiM2U0MmI2KSxYNjRXb3JkX2NyZWF0ZSgweDU5N2YyOTljLDB4ZmM2NTdlMmEpLFg2NFdvcmRfY3JlYXRlKDB4NWZjYjZmYWIsMHgzYWQ2ZmFlYyksWDY0V29yZF9jcmVhdGUoMHg2YzQ0MTk4YywweDRhNDc1ODE3KV07dmFyIFc9W107KGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTw4MDtpKyspe1dbaV09WDY0V29yZF9jcmVhdGUoKTt9fSgpKTt2YXIgU0hBNTEyPUNfYWxnby5TSEE1MTI9SGFzaGVyLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBYNjRXb3JkQXJyYXkuaW5pdChbbmV3IFg2NFdvcmQuaW5pdCgweDZhMDllNjY3LDB4ZjNiY2M5MDgpLG5ldyBYNjRXb3JkLmluaXQoMHhiYjY3YWU4NSwweDg0Y2FhNzNiKSxuZXcgWDY0V29yZC5pbml0KDB4M2M2ZWYzNzIsMHhmZTk0ZjgyYiksbmV3IFg2NFdvcmQuaW5pdCgweGE1NGZmNTNhLDB4NWYxZDM2ZjEpLG5ldyBYNjRXb3JkLmluaXQoMHg1MTBlNTI3ZiwweGFkZTY4MmQxKSxuZXcgWDY0V29yZC5pbml0KDB4OWIwNTY4OGMsMHgyYjNlNmMxZiksbmV3IFg2NFdvcmQuaW5pdCgweDFmODNkOWFiLDB4ZmI0MWJkNmIpLG5ldyBYNjRXb3JkLmluaXQoMHg1YmUwY2QxOSwweDEzN2UyMTc5KV0pO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgSD10aGlzLl9oYXNoLndvcmRzO3ZhciBIMD1IWzBdO3ZhciBIMT1IWzFdO3ZhciBIMj1IWzJdO3ZhciBIMz1IWzNdO3ZhciBIND1IWzRdO3ZhciBINT1IWzVdO3ZhciBINj1IWzZdO3ZhciBINz1IWzddO3ZhciBIMGg9SDAuaGlnaDt2YXIgSDBsPUgwLmxvdzt2YXIgSDFoPUgxLmhpZ2g7dmFyIEgxbD1IMS5sb3c7dmFyIEgyaD1IMi5oaWdoO3ZhciBIMmw9SDIubG93O3ZhciBIM2g9SDMuaGlnaDt2YXIgSDNsPUgzLmxvdzt2YXIgSDRoPUg0LmhpZ2g7dmFyIEg0bD1INC5sb3c7dmFyIEg1aD1INS5oaWdoO3ZhciBINWw9SDUubG93O3ZhciBINmg9SDYuaGlnaDt2YXIgSDZsPUg2Lmxvdzt2YXIgSDdoPUg3LmhpZ2g7dmFyIEg3bD1INy5sb3c7dmFyIGFoPUgwaDt2YXIgYWw9SDBsO3ZhciBiaD1IMWg7dmFyIGJsPUgxbDt2YXIgY2g9SDJoO3ZhciBjbD1IMmw7dmFyIGRoPUgzaDt2YXIgZGw9SDNsO3ZhciBlaD1INGg7dmFyIGVsPUg0bDt2YXIgZmg9SDVoO3ZhciBmbD1INWw7dmFyIGdoPUg2aDt2YXIgZ2w9SDZsO3ZhciBoaD1IN2g7dmFyIGhsPUg3bDtmb3IodmFyIGk9MDtpPDgwO2krKyl7dmFyIFdpPVdbaV07aWYoaTwxNil7dmFyIFdpaD1XaS5oaWdoPU1bb2Zmc2V0K2kqMl18MDt2YXIgV2lsPVdpLmxvdz1NW29mZnNldCtpKjIrMV18MDt9ZWxzZXt2YXIgZ2FtbWEweD1XW2ktMTVdO3ZhciBnYW1tYTB4aD1nYW1tYTB4LmhpZ2g7dmFyIGdhbW1hMHhsPWdhbW1hMHgubG93O3ZhciBnYW1tYTBoPSgoZ2FtbWEweGg+Pj4xKXwoZ2FtbWEweGw8PDMxKSleKChnYW1tYTB4aD4+PjgpfChnYW1tYTB4bDw8MjQpKV4oZ2FtbWEweGg+Pj43KTt2YXIgZ2FtbWEwbD0oKGdhbW1hMHhsPj4+MSl8KGdhbW1hMHhoPDwzMSkpXigoZ2FtbWEweGw+Pj44KXwoZ2FtbWEweGg8PDI0KSleKChnYW1tYTB4bD4+PjcpfChnYW1tYTB4aDw8MjUpKTt2YXIgZ2FtbWExeD1XW2ktMl07dmFyIGdhbW1hMXhoPWdhbW1hMXguaGlnaDt2YXIgZ2FtbWExeGw9Z2FtbWExeC5sb3c7dmFyIGdhbW1hMWg9KChnYW1tYTF4aD4+PjE5KXwoZ2FtbWExeGw8PDEzKSleKChnYW1tYTF4aDw8Myl8KGdhbW1hMXhsPj4+MjkpKV4oZ2FtbWExeGg+Pj42KTt2YXIgZ2FtbWExbD0oKGdhbW1hMXhsPj4+MTkpfChnYW1tYTF4aDw8MTMpKV4oKGdhbW1hMXhsPDwzKXwoZ2FtbWExeGg+Pj4yOSkpXigoZ2FtbWExeGw+Pj42KXwoZ2FtbWExeGg8PDI2KSk7dmFyIFdpNz1XW2ktN107dmFyIFdpN2g9V2k3LmhpZ2g7dmFyIFdpN2w9V2k3Lmxvdzt2YXIgV2kxNj1XW2ktMTZdO3ZhciBXaTE2aD1XaTE2LmhpZ2g7dmFyIFdpMTZsPVdpMTYubG93O3ZhciBXaWw9Z2FtbWEwbCtXaTdsO3ZhciBXaWg9Z2FtbWEwaCtXaTdoKygoV2lsPj4+MCk8KGdhbW1hMGw+Pj4wKT8xOjApO3ZhciBXaWw9V2lsK2dhbW1hMWw7dmFyIFdpaD1XaWgrZ2FtbWExaCsoKFdpbD4+PjApPChnYW1tYTFsPj4+MCk/MTowKTt2YXIgV2lsPVdpbCtXaTE2bDt2YXIgV2loPVdpaCtXaTE2aCsoKFdpbD4+PjApPChXaTE2bD4+PjApPzE6MCk7V2kuaGlnaD1XaWg7V2kubG93PVdpbDt9CnZhciBjaGg9KGVoJmZoKV4ofmVoJmdoKTt2YXIgY2hsPShlbCZmbCleKH5lbCZnbCk7dmFyIG1hamg9KGFoJmJoKV4oYWgmY2gpXihiaCZjaCk7dmFyIG1hamw9KGFsJmJsKV4oYWwmY2wpXihibCZjbCk7dmFyIHNpZ21hMGg9KChhaD4+PjI4KXwoYWw8PDQpKV4oKGFoPDwzMCl8KGFsPj4+MikpXigoYWg8PDI1KXwoYWw+Pj43KSk7dmFyIHNpZ21hMGw9KChhbD4+PjI4KXwoYWg8PDQpKV4oKGFsPDwzMCl8KGFoPj4+MikpXigoYWw8PDI1KXwoYWg+Pj43KSk7dmFyIHNpZ21hMWg9KChlaD4+PjE0KXwoZWw8PDE4KSleKChlaD4+PjE4KXwoZWw8PDE0KSleKChlaDw8MjMpfChlbD4+PjkpKTt2YXIgc2lnbWExbD0oKGVsPj4+MTQpfChlaDw8MTgpKV4oKGVsPj4+MTgpfChlaDw8MTQpKV4oKGVsPDwyMyl8KGVoPj4+OSkpO3ZhciBLaT1LW2ldO3ZhciBLaWg9S2kuaGlnaDt2YXIgS2lsPUtpLmxvdzt2YXIgdDFsPWhsK3NpZ21hMWw7dmFyIHQxaD1oaCtzaWdtYTFoKygodDFsPj4+MCk8KGhsPj4+MCk/MTowKTt2YXIgdDFsPXQxbCtjaGw7dmFyIHQxaD10MWgrY2hoKygodDFsPj4+MCk8KGNobD4+PjApPzE6MCk7dmFyIHQxbD10MWwrS2lsO3ZhciB0MWg9dDFoK0tpaCsoKHQxbD4+PjApPChLaWw+Pj4wKT8xOjApO3ZhciB0MWw9dDFsK1dpbDt2YXIgdDFoPXQxaCtXaWgrKCh0MWw+Pj4wKTwoV2lsPj4+MCk/MTowKTt2YXIgdDJsPXNpZ21hMGwrbWFqbDt2YXIgdDJoPXNpZ21hMGgrbWFqaCsoKHQybD4+PjApPChzaWdtYTBsPj4+MCk/MTowKTtoaD1naDtobD1nbDtnaD1maDtnbD1mbDtmaD1laDtmbD1lbDtlbD0oZGwrdDFsKXwwO2VoPShkaCt0MWgrKChlbD4+PjApPChkbD4+PjApPzE6MCkpfDA7ZGg9Y2g7ZGw9Y2w7Y2g9Ymg7Y2w9Ymw7Ymg9YWg7Ymw9YWw7YWw9KHQxbCt0MmwpfDA7YWg9KHQxaCt0MmgrKChhbD4+PjApPCh0MWw+Pj4wKT8xOjApKXwwO30KSDBsPUgwLmxvdz0oSDBsK2FsKTtIMC5oaWdoPShIMGgrYWgrKChIMGw+Pj4wKTwoYWw+Pj4wKT8xOjApKTtIMWw9SDEubG93PShIMWwrYmwpO0gxLmhpZ2g9KEgxaCtiaCsoKEgxbD4+PjApPChibD4+PjApPzE6MCkpO0gybD1IMi5sb3c9KEgybCtjbCk7SDIuaGlnaD0oSDJoK2NoKygoSDJsPj4+MCk8KGNsPj4+MCk/MTowKSk7SDNsPUgzLmxvdz0oSDNsK2RsKTtIMy5oaWdoPShIM2grZGgrKChIM2w+Pj4wKTwoZGw+Pj4wKT8xOjApKTtINGw9SDQubG93PShINGwrZWwpO0g0LmhpZ2g9KEg0aCtlaCsoKEg0bD4+PjApPChlbD4+PjApPzE6MCkpO0g1bD1INS5sb3c9KEg1bCtmbCk7SDUuaGlnaD0oSDVoK2ZoKygoSDVsPj4+MCk8KGZsPj4+MCk/MTowKSk7SDZsPUg2Lmxvdz0oSDZsK2dsKTtINi5oaWdoPShINmgrZ2grKChINmw+Pj4wKTwoZ2w+Pj4wKT8xOjApKTtIN2w9SDcubG93PShIN2wraGwpO0g3LmhpZ2g9KEg3aCtoaCsoKEg3bD4+PjApPChobD4+PjApPzE6MCkpO30sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDgwPDwoMjQtbkJpdHNMZWZ0JTMyKTtkYXRhV29yZHNbKCgobkJpdHNMZWZ0KzEyOCk+Pj4xMCk8PDUpKzMwXT1NYXRoLmZsb29yKG5CaXRzVG90YWwvMHgxMDAwMDAwMDApO2RhdGFXb3Jkc1soKChuQml0c0xlZnQrMTI4KT4+PjEwKTw8NSkrMzFdPW5CaXRzVG90YWw7ZGF0YS5zaWdCeXRlcz1kYXRhV29yZHMubGVuZ3RoKjQ7dGhpcy5fcHJvY2VzcygpO3ZhciBoYXNoPXRoaXMuX2hhc2gudG9YMzIoKTtyZXR1cm4gaGFzaDt9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGNsb25lPUhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO2Nsb25lLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKTtyZXR1cm4gY2xvbmU7fSxibG9ja1NpemU6MTAyNC8zMn0pO0MuU0hBNTEyPUhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTUxMik7Qy5IbWFjU0hBNTEyPUhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihTSEE1MTIpO30oKSk7KGZ1bmN0aW9uKE1hdGgpe3ZhciBDPUNyeXB0b0pTO3ZhciBDX2xpYj1DLmxpYjt2YXIgV29yZEFycmF5PUNfbGliLldvcmRBcnJheTt2YXIgSGFzaGVyPUNfbGliLkhhc2hlcjt2YXIgQ194NjQ9Qy54NjQ7dmFyIFg2NFdvcmQ9Q194NjQuV29yZDt2YXIgQ19hbGdvPUMuYWxnbzt2YXIgUkhPX09GRlNFVFM9W107dmFyIFBJX0lOREVYRVM9W107dmFyIFJPVU5EX0NPTlNUQU5UUz1bXTsoZnVuY3Rpb24oKXt2YXIgeD0xLHk9MDtmb3IodmFyIHQ9MDt0PDI0O3QrKyl7UkhPX09GRlNFVFNbeCs1KnldPSgodCsxKSoodCsyKS8yKSU2NDt2YXIgbmV3WD15JTU7dmFyIG5ld1k9KDIqeCszKnkpJTU7eD1uZXdYO3k9bmV3WTt9CmZvcih2YXIgeD0wO3g8NTt4Kyspe2Zvcih2YXIgeT0wO3k8NTt5Kyspe1BJX0lOREVYRVNbeCs1KnldPXkrKCgyKngrMyp5KSU1KSo1O319CnZhciBMRlNSPTB4MDE7Zm9yKHZhciBpPTA7aTwyNDtpKyspe3ZhciByb3VuZENvbnN0YW50TXN3PTA7dmFyIHJvdW5kQ29uc3RhbnRMc3c9MDtmb3IodmFyIGo9MDtqPDc7aisrKXtpZihMRlNSJjB4MDEpe3ZhciBiaXRQb3NpdGlvbj0oMTw8aiktMTtpZihiaXRQb3NpdGlvbjwzMil7cm91bmRDb25zdGFudExzd149MTw8Yml0UG9zaXRpb247fWVsc2V7cm91bmRDb25zdGFudE1zd149MTw8KGJpdFBvc2l0aW9uLTMyKTt9fQppZihMRlNSJjB4ODApe0xGU1I9KExGU1I8PDEpXjB4NzE7fWVsc2V7TEZTUjw8PTE7fX0KUk9VTkRfQ09OU1RBTlRTW2ldPVg2NFdvcmQuY3JlYXRlKHJvdW5kQ29uc3RhbnRNc3cscm91bmRDb25zdGFudExzdyk7fX0oKSk7dmFyIFQ9W107KGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTwyNTtpKyspe1RbaV09WDY0V29yZC5jcmVhdGUoKTt9fSgpKTt2YXIgU0hBMz1DX2FsZ28uU0hBMz1IYXNoZXIuZXh0ZW5kKHtjZmc6SGFzaGVyLmNmZy5leHRlbmQoe291dHB1dExlbmd0aDo1MTJ9KSxfZG9SZXNldDpmdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLl9zdGF0ZT1bXQpmb3IodmFyIGk9MDtpPDI1O2krKyl7c3RhdGVbaV09bmV3IFg2NFdvcmQuaW5pdCgpO30KdGhpcy5ibG9ja1NpemU9KDE2MDAtMip0aGlzLmNmZy5vdXRwdXRMZW5ndGgpLzMyO30sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKE0sb2Zmc2V0KXt2YXIgc3RhdGU9dGhpcy5fc3RhdGU7dmFyIG5CbG9ja1NpemVMYW5lcz10aGlzLmJsb2NrU2l6ZS8yO2Zvcih2YXIgaT0wO2k8bkJsb2NrU2l6ZUxhbmVzO2krKyl7dmFyIE0yaT1NW29mZnNldCsyKmldO3ZhciBNMmkxPU1bb2Zmc2V0KzIqaSsxXTtNMmk9KCgoKE0yaTw8OCl8KE0yaT4+PjI0KSkmMHgwMGZmMDBmZil8KCgoTTJpPDwyNCl8KE0yaT4+PjgpKSYweGZmMDBmZjAwKSk7TTJpMT0oKCgoTTJpMTw8OCl8KE0yaTE+Pj4yNCkpJjB4MDBmZjAwZmYpfCgoKE0yaTE8PDI0KXwoTTJpMT4+PjgpKSYweGZmMDBmZjAwKSk7dmFyIGxhbmU9c3RhdGVbaV07bGFuZS5oaWdoXj1NMmkxO2xhbmUubG93Xj1NMmk7fQpmb3IodmFyIHJvdW5kPTA7cm91bmQ8MjQ7cm91bmQrKyl7Zm9yKHZhciB4PTA7eDw1O3grKyl7dmFyIHRNc3c9MCx0THN3PTA7Zm9yKHZhciB5PTA7eTw1O3krKyl7dmFyIGxhbmU9c3RhdGVbeCs1KnldO3RNc3dePWxhbmUuaGlnaDt0THN3Xj1sYW5lLmxvdzt9CnZhciBUeD1UW3hdO1R4LmhpZ2g9dE1zdztUeC5sb3c9dExzdzt9CmZvcih2YXIgeD0wO3g8NTt4Kyspe3ZhciBUeDQ9VFsoeCs0KSU1XTt2YXIgVHgxPVRbKHgrMSklNV07dmFyIFR4MU1zdz1UeDEuaGlnaDt2YXIgVHgxTHN3PVR4MS5sb3c7dmFyIHRNc3c9VHg0LmhpZ2heKChUeDFNc3c8PDEpfChUeDFMc3c+Pj4zMSkpO3ZhciB0THN3PVR4NC5sb3deKChUeDFMc3c8PDEpfChUeDFNc3c+Pj4zMSkpO2Zvcih2YXIgeT0wO3k8NTt5Kyspe3ZhciBsYW5lPXN0YXRlW3grNSp5XTtsYW5lLmhpZ2hePXRNc3c7bGFuZS5sb3dePXRMc3c7fX0KZm9yKHZhciBsYW5lSW5kZXg9MTtsYW5lSW5kZXg8MjU7bGFuZUluZGV4Kyspe3ZhciBsYW5lPXN0YXRlW2xhbmVJbmRleF07dmFyIGxhbmVNc3c9bGFuZS5oaWdoO3ZhciBsYW5lTHN3PWxhbmUubG93O3ZhciByaG9PZmZzZXQ9UkhPX09GRlNFVFNbbGFuZUluZGV4XTtpZihyaG9PZmZzZXQ8MzIpe3ZhciB0TXN3PShsYW5lTXN3PDxyaG9PZmZzZXQpfChsYW5lTHN3Pj4+KDMyLXJob09mZnNldCkpO3ZhciB0THN3PShsYW5lTHN3PDxyaG9PZmZzZXQpfChsYW5lTXN3Pj4+KDMyLXJob09mZnNldCkpO31lbHNle3ZhciB0TXN3PShsYW5lTHN3PDwocmhvT2Zmc2V0LTMyKSl8KGxhbmVNc3c+Pj4oNjQtcmhvT2Zmc2V0KSk7dmFyIHRMc3c9KGxhbmVNc3c8PChyaG9PZmZzZXQtMzIpKXwobGFuZUxzdz4+Pig2NC1yaG9PZmZzZXQpKTt9CnZhciBUUGlMYW5lPVRbUElfSU5ERVhFU1tsYW5lSW5kZXhdXTtUUGlMYW5lLmhpZ2g9dE1zdztUUGlMYW5lLmxvdz10THN3O30KdmFyIFQwPVRbMF07dmFyIHN0YXRlMD1zdGF0ZVswXTtUMC5oaWdoPXN0YXRlMC5oaWdoO1QwLmxvdz1zdGF0ZTAubG93O2Zvcih2YXIgeD0wO3g8NTt4Kyspe2Zvcih2YXIgeT0wO3k8NTt5Kyspe3ZhciBsYW5lSW5kZXg9eCs1Knk7dmFyIGxhbmU9c3RhdGVbbGFuZUluZGV4XTt2YXIgVExhbmU9VFtsYW5lSW5kZXhdO3ZhciBUeDFMYW5lPVRbKCh4KzEpJTUpKzUqeV07dmFyIFR4MkxhbmU9VFsoKHgrMiklNSkrNSp5XTtsYW5lLmhpZ2g9VExhbmUuaGlnaF4oflR4MUxhbmUuaGlnaCZUeDJMYW5lLmhpZ2gpO2xhbmUubG93PVRMYW5lLmxvd14oflR4MUxhbmUubG93JlR4MkxhbmUubG93KTt9fQp2YXIgbGFuZT1zdGF0ZVswXTt2YXIgcm91bmRDb25zdGFudD1ST1VORF9DT05TVEFOVFNbcm91bmRdO2xhbmUuaGlnaF49cm91bmRDb25zdGFudC5oaWdoO2xhbmUubG93Xj1yb3VuZENvbnN0YW50Lmxvdzs7fX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLl9kYXRhO3ZhciBkYXRhV29yZHM9ZGF0YS53b3Jkczt2YXIgbkJpdHNUb3RhbD10aGlzLl9uRGF0YUJ5dGVzKjg7dmFyIG5CaXRzTGVmdD1kYXRhLnNpZ0J5dGVzKjg7dmFyIGJsb2NrU2l6ZUJpdHM9dGhpcy5ibG9ja1NpemUqMzI7ZGF0YVdvcmRzW25CaXRzTGVmdD4+PjVdfD0weDE8PCgyNC1uQml0c0xlZnQlMzIpO2RhdGFXb3Jkc1soKE1hdGguY2VpbCgobkJpdHNMZWZ0KzEpL2Jsb2NrU2l6ZUJpdHMpKmJsb2NrU2l6ZUJpdHMpPj4+NSktMV18PTB4ODA7ZGF0YS5zaWdCeXRlcz1kYXRhV29yZHMubGVuZ3RoKjQ7dGhpcy5fcHJvY2VzcygpO3ZhciBzdGF0ZT10aGlzLl9zdGF0ZTt2YXIgb3V0cHV0TGVuZ3RoQnl0ZXM9dGhpcy5jZmcub3V0cHV0TGVuZ3RoLzg7dmFyIG91dHB1dExlbmd0aExhbmVzPW91dHB1dExlbmd0aEJ5dGVzLzg7dmFyIGhhc2hXb3Jkcz1bXTtmb3IodmFyIGk9MDtpPG91dHB1dExlbmd0aExhbmVzO2krKyl7dmFyIGxhbmU9c3RhdGVbaV07dmFyIGxhbmVNc3c9bGFuZS5oaWdoO3ZhciBsYW5lTHN3PWxhbmUubG93O2xhbmVNc3c9KCgoKGxhbmVNc3c8PDgpfChsYW5lTXN3Pj4+MjQpKSYweDAwZmYwMGZmKXwoKChsYW5lTXN3PDwyNCl8KGxhbmVNc3c+Pj44KSkmMHhmZjAwZmYwMCkpO2xhbmVMc3c9KCgoKGxhbmVMc3c8PDgpfChsYW5lTHN3Pj4+MjQpKSYweDAwZmYwMGZmKXwoKChsYW5lTHN3PDwyNCl8KGxhbmVMc3c+Pj44KSkmMHhmZjAwZmYwMCkpO2hhc2hXb3Jkcy5wdXNoKGxhbmVMc3cpO2hhc2hXb3Jkcy5wdXNoKGxhbmVNc3cpO30KcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdChoYXNoV29yZHMsb3V0cHV0TGVuZ3RoQnl0ZXMpO30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgY2xvbmU9SGFzaGVyLmNsb25lLmNhbGwodGhpcyk7dmFyIHN0YXRlPWNsb25lLl9zdGF0ZT10aGlzLl9zdGF0ZS5zbGljZSgwKTtmb3IodmFyIGk9MDtpPDI1O2krKyl7c3RhdGVbaV09c3RhdGVbaV0uY2xvbmUoKTt9CnJldHVybiBjbG9uZTt9fSk7Qy5TSEEzPUhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTMpO0MuSG1hY1NIQTM9SGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKFNIQTMpO30oTWF0aCkpO3ZhciBkYml0czt2YXIgY2FuYXJ5PTB4ZGVhZGJlZWZjYWZlO3ZhciBqX2xtPSgoY2FuYXJ5JjB4ZmZmZmZmKT09MHhlZmNhZmUpO2Z1bmN0aW9uIEJpZ0ludGVnZXIoYSxiLGMpe2lmKGEhPW51bGwpCmlmKCJudW1iZXIiPT10eXBlb2YgYSl0aGlzLmZyb21OdW1iZXIoYSxiLGMpO2Vsc2UgaWYoYj09bnVsbCYmInN0cmluZyIhPXR5cGVvZiBhKXRoaXMuZnJvbVN0cmluZyhhLDI1Nik7ZWxzZSB0aGlzLmZyb21TdHJpbmcoYSxiKTt9CmZ1bmN0aW9uIG5iaSgpe3JldHVybiBuZXcgQmlnSW50ZWdlcihudWxsKTt9CmZ1bmN0aW9uIGFtMShpLHgsdyxqLGMsbil7d2hpbGUoLS1uPj0wKXt2YXIgdj14KnRoaXNbaSsrXSt3W2pdK2M7Yz1NYXRoLmZsb29yKHYvMHg0MDAwMDAwKTt3W2orK109diYweDNmZmZmZmY7fQpyZXR1cm4gYzt9CmZ1bmN0aW9uIGFtMihpLHgsdyxqLGMsbil7dmFyIHhsPXgmMHg3ZmZmLHhoPXg+PjE1O3doaWxlKC0tbj49MCl7dmFyIGw9dGhpc1tpXSYweDdmZmY7dmFyIGg9dGhpc1tpKytdPj4xNTt2YXIgbT14aCpsK2gqeGw7bD14bCpsKygobSYweDdmZmYpPDwxNSkrd1tqXSsoYyYweDNmZmZmZmZmKTtjPShsPj4+MzApKyhtPj4+MTUpK3hoKmgrKGM+Pj4zMCk7d1tqKytdPWwmMHgzZmZmZmZmZjt9CnJldHVybiBjO30KZnVuY3Rpb24gYW0zKGkseCx3LGosYyxuKXt2YXIgeGw9eCYweDNmZmYseGg9eD4+MTQ7d2hpbGUoLS1uPj0wKXt2YXIgbD10aGlzW2ldJjB4M2ZmZjt2YXIgaD10aGlzW2krK10+PjE0O3ZhciBtPXhoKmwraCp4bDtsPXhsKmwrKChtJjB4M2ZmZik8PDE0KSt3W2pdK2M7Yz0obD4+MjgpKyhtPj4xNCkreGgqaDt3W2orK109bCYweGZmZmZmZmY7fQpyZXR1cm4gYzt9CmlmKGpfbG0mJihuYXZpZ2F0b3IuYXBwTmFtZT09Ik1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciIpKXtCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbT1hbTI7ZGJpdHM9MzA7fQplbHNlIGlmKGpfbG0mJihuYXZpZ2F0b3IuYXBwTmFtZSE9Ik5ldHNjYXBlIikpe0JpZ0ludGVnZXIucHJvdG90eXBlLmFtPWFtMTtkYml0cz0yNjt9CmVsc2V7QmlnSW50ZWdlci5wcm90b3R5cGUuYW09YW0zO2RiaXRzPTI4O30KQmlnSW50ZWdlci5wcm90b3R5cGUuREI9ZGJpdHM7QmlnSW50ZWdlci5wcm90b3R5cGUuRE09KCgxPDxkYml0cyktMSk7QmlnSW50ZWdlci5wcm90b3R5cGUuRFY9KDE8PGRiaXRzKTt2YXIgQklfRlA9NTI7QmlnSW50ZWdlci5wcm90b3R5cGUuRlY9TWF0aC5wb3coMixCSV9GUCk7QmlnSW50ZWdlci5wcm90b3R5cGUuRjE9QklfRlAtZGJpdHM7QmlnSW50ZWdlci5wcm90b3R5cGUuRjI9MipkYml0cy1CSV9GUDt2YXIgQklfUk09IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7dmFyIEJJX1JDPW5ldyBBcnJheSgpO3ZhciBycix2djtycj0iMCIuY2hhckNvZGVBdCgwKTtmb3IodnY9MDt2djw9OTsrK3Z2KUJJX1JDW3JyKytdPXZ2O3JyPSJhIi5jaGFyQ29kZUF0KDApO2Zvcih2dj0xMDt2djwzNjsrK3Z2KUJJX1JDW3JyKytdPXZ2O3JyPSJBIi5jaGFyQ29kZUF0KDApO2Zvcih2dj0xMDt2djwzNjsrK3Z2KUJJX1JDW3JyKytdPXZ2O2Z1bmN0aW9uIGludDJjaGFyKG4pe3JldHVybiBCSV9STS5jaGFyQXQobik7fQpmdW5jdGlvbiBpbnRBdChzLGkpe3ZhciBjPUJJX1JDW3MuY2hhckNvZGVBdChpKV07cmV0dXJuKGM9PW51bGwpPy0xOmM7fQpmdW5jdGlvbiBibnBDb3B5VG8ocil7Zm9yKHZhciBpPXRoaXMudC0xO2k+PTA7LS1pKXJbaV09dGhpc1tpXTtyLnQ9dGhpcy50O3Iucz10aGlzLnM7fQpmdW5jdGlvbiBibnBGcm9tSW50KHgpe3RoaXMudD0xO3RoaXMucz0oeDwwKT8tMTowO2lmKHg+MCl0aGlzWzBdPXg7ZWxzZSBpZih4PC0xKXRoaXNbMF09eCtEVjtlbHNlIHRoaXMudD0wO30KZnVuY3Rpb24gbmJ2KGkpe3ZhciByPW5iaSgpO3IuZnJvbUludChpKTtyZXR1cm4gcjt9CmZ1bmN0aW9uIGJucEZyb21TdHJpbmcocyxiKXt2YXIgaztpZihiPT0xNilrPTQ7ZWxzZSBpZihiPT04KWs9MztlbHNlIGlmKGI9PTI1NilrPTg7ZWxzZSBpZihiPT0yKWs9MTtlbHNlIGlmKGI9PTMyKWs9NTtlbHNlIGlmKGI9PTQpaz0yO2Vsc2V7dGhpcy5mcm9tUmFkaXgocyxiKTtyZXR1cm47fQp0aGlzLnQ9MDt0aGlzLnM9MDt2YXIgaT1zLmxlbmd0aCxtaT1mYWxzZSxzaD0wO3doaWxlKC0taT49MCl7dmFyIHg9KGs9PTgpP3NbaV0mMHhmZjppbnRBdChzLGkpO2lmKHg8MCl7aWYocy5jaGFyQXQoaSk9PSItIiltaT10cnVlO2NvbnRpbnVlO30KbWk9ZmFsc2U7aWYoc2g9PTApCnRoaXNbdGhpcy50KytdPXg7ZWxzZSBpZihzaCtrPnRoaXMuREIpe3RoaXNbdGhpcy50LTFdfD0oeCYoKDE8PCh0aGlzLkRCLXNoKSktMSkpPDxzaDt0aGlzW3RoaXMudCsrXT0oeD4+KHRoaXMuREItc2gpKTt9CmVsc2UKdGhpc1t0aGlzLnQtMV18PXg8PHNoO3NoKz1rO2lmKHNoPj10aGlzLkRCKXNoLT10aGlzLkRCO30KaWYoaz09OCYmKHNbMF0mMHg4MCkhPTApe3RoaXMucz0tMTtpZihzaD4wKXRoaXNbdGhpcy50LTFdfD0oKDE8PCh0aGlzLkRCLXNoKSktMSk8PHNoO30KdGhpcy5jbGFtcCgpO2lmKG1pKUJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLHRoaXMpO30KZnVuY3Rpb24gYm5wQ2xhbXAoKXt2YXIgYz10aGlzLnMmdGhpcy5ETTt3aGlsZSh0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PWMpLS10aGlzLnQ7fQpmdW5jdGlvbiBiblRvU3RyaW5nKGIpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKGIpO3ZhciBrO2lmKGI9PTE2KWs9NDtlbHNlIGlmKGI9PTgpaz0zO2Vsc2UgaWYoYj09MilrPTE7ZWxzZSBpZihiPT0zMilrPTU7ZWxzZSBpZihiPT00KWs9MjtlbHNlIHJldHVybiB0aGlzLnRvUmFkaXgoYik7dmFyIGttPSgxPDxrKS0xLGQsbT1mYWxzZSxyPSIiLGk9dGhpcy50O3ZhciBwPXRoaXMuREItKGkqdGhpcy5EQiklaztpZihpLS0+MCl7aWYocDx0aGlzLkRCJiYoZD10aGlzW2ldPj5wKT4wKXttPXRydWU7cj1pbnQyY2hhcihkKTt9CndoaWxlKGk+PTApe2lmKHA8ayl7ZD0odGhpc1tpXSYoKDE8PHApLTEpKTw8KGstcCk7ZHw9dGhpc1stLWldPj4ocCs9dGhpcy5EQi1rKTt9CmVsc2V7ZD0odGhpc1tpXT4+KHAtPWspKSZrbTtpZihwPD0wKXtwKz10aGlzLkRCOy0taTt9fQppZihkPjApbT10cnVlO2lmKG0pcis9aW50MmNoYXIoZCk7fX0KcmV0dXJuIG0/cjoiMCI7fQpmdW5jdGlvbiBibk5lZ2F0ZSgpe3ZhciByPW5iaSgpO0JpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLHIpO3JldHVybiByO30KZnVuY3Rpb24gYm5BYnMoKXtyZXR1cm4odGhpcy5zPDApP3RoaXMubmVnYXRlKCk6dGhpczt9CmZ1bmN0aW9uIGJuQ29tcGFyZVRvKGEpe3ZhciByPXRoaXMucy1hLnM7aWYociE9MClyZXR1cm4gcjt2YXIgaT10aGlzLnQ7cj1pLWEudDtpZihyIT0wKXJldHVybih0aGlzLnM8MCk/LXI6cjt3aGlsZSgtLWk+PTApaWYoKHI9dGhpc1tpXS1hW2ldKSE9MClyZXR1cm4gcjtyZXR1cm4gMDt9CmZ1bmN0aW9uIG5iaXRzKHgpe3ZhciByPTEsdDtpZigodD14Pj4+MTYpIT0wKXt4PXQ7cis9MTY7fQppZigodD14Pj44KSE9MCl7eD10O3IrPTg7fQppZigodD14Pj40KSE9MCl7eD10O3IrPTQ7fQppZigodD14Pj4yKSE9MCl7eD10O3IrPTI7fQppZigodD14Pj4xKSE9MCl7eD10O3IrPTE7fQpyZXR1cm4gcjt9CmZ1bmN0aW9uIGJuQml0TGVuZ3RoKCl7aWYodGhpcy50PD0wKXJldHVybiAwO3JldHVybiB0aGlzLkRCKih0aGlzLnQtMSkrbmJpdHModGhpc1t0aGlzLnQtMV1eKHRoaXMucyZ0aGlzLkRNKSk7fQpmdW5jdGlvbiBibnBETFNoaWZ0VG8obixyKXt2YXIgaTtmb3IoaT10aGlzLnQtMTtpPj0wOy0taSlyW2krbl09dGhpc1tpXTtmb3IoaT1uLTE7aT49MDstLWkpcltpXT0wO3IudD10aGlzLnQrbjtyLnM9dGhpcy5zO30KZnVuY3Rpb24gYm5wRFJTaGlmdFRvKG4scil7Zm9yKHZhciBpPW47aTx0aGlzLnQ7KytpKXJbaS1uXT10aGlzW2ldO3IudD1NYXRoLm1heCh0aGlzLnQtbiwwKTtyLnM9dGhpcy5zO30KZnVuY3Rpb24gYm5wTFNoaWZ0VG8obixyKXt2YXIgYnM9biV0aGlzLkRCO3ZhciBjYnM9dGhpcy5EQi1iczt2YXIgYm09KDE8PGNicyktMTt2YXIgZHM9TWF0aC5mbG9vcihuL3RoaXMuREIpLGM9KHRoaXMuczw8YnMpJnRoaXMuRE0saTtmb3IoaT10aGlzLnQtMTtpPj0wOy0taSl7cltpK2RzKzFdPSh0aGlzW2ldPj5jYnMpfGM7Yz0odGhpc1tpXSZibSk8PGJzO30KZm9yKGk9ZHMtMTtpPj0wOy0taSlyW2ldPTA7cltkc109YztyLnQ9dGhpcy50K2RzKzE7ci5zPXRoaXMucztyLmNsYW1wKCk7fQpmdW5jdGlvbiBibnBSU2hpZnRUbyhuLHIpe3Iucz10aGlzLnM7dmFyIGRzPU1hdGguZmxvb3Iobi90aGlzLkRCKTtpZihkcz49dGhpcy50KXtyLnQ9MDtyZXR1cm47fQp2YXIgYnM9biV0aGlzLkRCO3ZhciBjYnM9dGhpcy5EQi1iczt2YXIgYm09KDE8PGJzKS0xO3JbMF09dGhpc1tkc10+PmJzO2Zvcih2YXIgaT1kcysxO2k8dGhpcy50OysraSl7cltpLWRzLTFdfD0odGhpc1tpXSZibSk8PGNicztyW2ktZHNdPXRoaXNbaV0+PmJzO30KaWYoYnM+MClyW3RoaXMudC1kcy0xXXw9KHRoaXMucyZibSk8PGNicztyLnQ9dGhpcy50LWRzO3IuY2xhbXAoKTt9CmZ1bmN0aW9uIGJucFN1YlRvKGEscil7dmFyIGk9MCxjPTAsbT1NYXRoLm1pbihhLnQsdGhpcy50KTt3aGlsZShpPG0pe2MrPXRoaXNbaV0tYVtpXTtyW2krK109YyZ0aGlzLkRNO2M+Pj10aGlzLkRCO30KaWYoYS50PHRoaXMudCl7Yy09YS5zO3doaWxlKGk8dGhpcy50KXtjKz10aGlzW2ldO3JbaSsrXT1jJnRoaXMuRE07Yz4+PXRoaXMuREI7fQpjKz10aGlzLnM7fQplbHNle2MrPXRoaXMuczt3aGlsZShpPGEudCl7Yy09YVtpXTtyW2krK109YyZ0aGlzLkRNO2M+Pj10aGlzLkRCO30KYy09YS5zO30Kci5zPShjPDApPy0xOjA7aWYoYzwtMSlyW2krK109dGhpcy5EVitjO2Vsc2UgaWYoYz4wKXJbaSsrXT1jO3IudD1pO3IuY2xhbXAoKTt9CmZ1bmN0aW9uIGJucE11bHRpcGx5VG8oYSxyKXt2YXIgeD10aGlzLmFicygpLHk9YS5hYnMoKTt2YXIgaT14LnQ7ci50PWkreS50O3doaWxlKC0taT49MClyW2ldPTA7Zm9yKGk9MDtpPHkudDsrK2kpcltpK3gudF09eC5hbSgwLHlbaV0scixpLDAseC50KTtyLnM9MDtyLmNsYW1wKCk7aWYodGhpcy5zIT1hLnMpQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIscik7fQpmdW5jdGlvbiBibnBTcXVhcmVUbyhyKXt2YXIgeD10aGlzLmFicygpO3ZhciBpPXIudD0yKngudDt3aGlsZSgtLWk+PTApcltpXT0wO2ZvcihpPTA7aTx4LnQtMTsrK2kpe3ZhciBjPXguYW0oaSx4W2ldLHIsMippLDAsMSk7aWYoKHJbaSt4LnRdKz14LmFtKGkrMSwyKnhbaV0sciwyKmkrMSxjLHgudC1pLTEpKT49eC5EVil7cltpK3gudF0tPXguRFY7cltpK3gudCsxXT0xO319CmlmKHIudD4wKXJbci50LTFdKz14LmFtKGkseFtpXSxyLDIqaSwwLDEpO3Iucz0wO3IuY2xhbXAoKTt9CmZ1bmN0aW9uIGJucERpdlJlbVRvKG0scSxyKXt2YXIgcG09bS5hYnMoKTtpZihwbS50PD0wKXJldHVybjt2YXIgcHQ9dGhpcy5hYnMoKTtpZihwdC50PHBtLnQpe2lmKHEhPW51bGwpcS5mcm9tSW50KDApO2lmKHIhPW51bGwpdGhpcy5jb3B5VG8ocik7cmV0dXJuO30KaWYocj09bnVsbClyPW5iaSgpO3ZhciB5PW5iaSgpLHRzPXRoaXMucyxtcz1tLnM7dmFyIG5zaD10aGlzLkRCLW5iaXRzKHBtW3BtLnQtMV0pO2lmKG5zaD4wKXtwbS5sU2hpZnRUbyhuc2gseSk7cHQubFNoaWZ0VG8obnNoLHIpO30KZWxzZXtwbS5jb3B5VG8oeSk7cHQuY29weVRvKHIpO30KdmFyIHlzPXkudDt2YXIgeTA9eVt5cy0xXTtpZih5MD09MClyZXR1cm47dmFyIHl0PXkwKigxPDx0aGlzLkYxKSsoKHlzPjEpP3lbeXMtMl0+PnRoaXMuRjI6MCk7dmFyIGQxPXRoaXMuRlYveXQsZDI9KDE8PHRoaXMuRjEpL3l0LGU9MTw8dGhpcy5GMjt2YXIgaT1yLnQsaj1pLXlzLHQ9KHE9PW51bGwpP25iaSgpOnE7eS5kbFNoaWZ0VG8oaix0KTtpZihyLmNvbXBhcmVUbyh0KT49MCl7cltyLnQrK109MTtyLnN1YlRvKHQscik7fQpCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oeXMsdCk7dC5zdWJUbyh5LHkpO3doaWxlKHkudDx5cyl5W3kudCsrXT0wO3doaWxlKC0taj49MCl7dmFyIHFkPShyWy0taV09PXkwKT90aGlzLkRNOk1hdGguZmxvb3IocltpXSpkMSsocltpLTFdK2UpKmQyKTtpZigocltpXSs9eS5hbSgwLHFkLHIsaiwwLHlzKSk8cWQpe3kuZGxTaGlmdFRvKGosdCk7ci5zdWJUbyh0LHIpO3doaWxlKHJbaV08LS1xZClyLnN1YlRvKHQscik7fX0KaWYocSE9bnVsbCl7ci5kclNoaWZ0VG8oeXMscSk7aWYodHMhPW1zKUJpZ0ludGVnZXIuWkVSTy5zdWJUbyhxLHEpO30Kci50PXlzO3IuY2xhbXAoKTtpZihuc2g+MClyLnJTaGlmdFRvKG5zaCxyKTtpZih0czwwKUJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLHIpO30KZnVuY3Rpb24gYm5Nb2QoYSl7dmFyIHI9bmJpKCk7dGhpcy5hYnMoKS5kaXZSZW1UbyhhLG51bGwscik7aWYodGhpcy5zPDAmJnIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTyk+MClhLnN1YlRvKHIscik7cmV0dXJuIHI7fQpmdW5jdGlvbiBDbGFzc2ljKG0pe3RoaXMubT1tO30KZnVuY3Rpb24gY0NvbnZlcnQoeCl7aWYoeC5zPDB8fHguY29tcGFyZVRvKHRoaXMubSk+PTApcmV0dXJuIHgubW9kKHRoaXMubSk7ZWxzZSByZXR1cm4geDt9CmZ1bmN0aW9uIGNSZXZlcnQoeCl7cmV0dXJuIHg7fQpmdW5jdGlvbiBjUmVkdWNlKHgpe3guZGl2UmVtVG8odGhpcy5tLG51bGwseCk7fQpmdW5jdGlvbiBjTXVsVG8oeCx5LHIpe3gubXVsdGlwbHlUbyh5LHIpO3RoaXMucmVkdWNlKHIpO30KZnVuY3Rpb24gY1NxclRvKHgscil7eC5zcXVhcmVUbyhyKTt0aGlzLnJlZHVjZShyKTt9CkNsYXNzaWMucHJvdG90eXBlLmNvbnZlcnQ9Y0NvbnZlcnQ7Q2xhc3NpYy5wcm90b3R5cGUucmV2ZXJ0PWNSZXZlcnQ7Q2xhc3NpYy5wcm90b3R5cGUucmVkdWNlPWNSZWR1Y2U7Q2xhc3NpYy5wcm90b3R5cGUubXVsVG89Y011bFRvO0NsYXNzaWMucHJvdG90eXBlLnNxclRvPWNTcXJUbztmdW5jdGlvbiBibnBJbnZEaWdpdCgpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB4PXRoaXNbMF07aWYoKHgmMSk9PTApcmV0dXJuIDA7dmFyIHk9eCYzO3k9KHkqKDItKHgmMHhmKSp5KSkmMHhmO3k9KHkqKDItKHgmMHhmZikqeSkpJjB4ZmY7eT0oeSooMi0oKCh4JjB4ZmZmZikqeSkmMHhmZmZmKSkpJjB4ZmZmZjt5PSh5KigyLXgqeSV0aGlzLkRWKSkldGhpcy5EVjtyZXR1cm4oeT4wKT90aGlzLkRWLXk6LXk7fQpmdW5jdGlvbiBNb250Z29tZXJ5KG0pe3RoaXMubT1tO3RoaXMubXA9bS5pbnZEaWdpdCgpO3RoaXMubXBsPXRoaXMubXAmMHg3ZmZmO3RoaXMubXBoPXRoaXMubXA+PjE1O3RoaXMudW09KDE8PChtLkRCLTE1KSktMTt0aGlzLm10Mj0yKm0udDt9CmZ1bmN0aW9uIG1vbnRDb252ZXJ0KHgpe3ZhciByPW5iaSgpO3guYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LHIpO3IuZGl2UmVtVG8odGhpcy5tLG51bGwscik7aWYoeC5zPDAmJnIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTyk+MCl0aGlzLm0uc3ViVG8ocixyKTtyZXR1cm4gcjt9CmZ1bmN0aW9uIG1vbnRSZXZlcnQoeCl7dmFyIHI9bmJpKCk7eC5jb3B5VG8ocik7dGhpcy5yZWR1Y2Uocik7cmV0dXJuIHI7fQpmdW5jdGlvbiBtb250UmVkdWNlKHgpe3doaWxlKHgudDw9dGhpcy5tdDIpCnhbeC50KytdPTA7Zm9yKHZhciBpPTA7aTx0aGlzLm0udDsrK2kpe3ZhciBqPXhbaV0mMHg3ZmZmO3ZhciB1MD0oaip0aGlzLm1wbCsoKChqKnRoaXMubXBoKyh4W2ldPj4xNSkqdGhpcy5tcGwpJnRoaXMudW0pPDwxNSkpJnguRE07aj1pK3RoaXMubS50O3hbal0rPXRoaXMubS5hbSgwLHUwLHgsaSwwLHRoaXMubS50KTt3aGlsZSh4W2pdPj14LkRWKXt4W2pdLT14LkRWO3hbKytqXSsrO319CnguY2xhbXAoKTt4LmRyU2hpZnRUbyh0aGlzLm0udCx4KTtpZih4LmNvbXBhcmVUbyh0aGlzLm0pPj0wKXguc3ViVG8odGhpcy5tLHgpO30KZnVuY3Rpb24gbW9udFNxclRvKHgscil7eC5zcXVhcmVUbyhyKTt0aGlzLnJlZHVjZShyKTt9CmZ1bmN0aW9uIG1vbnRNdWxUbyh4LHkscil7eC5tdWx0aXBseVRvKHkscik7dGhpcy5yZWR1Y2Uocik7fQpNb250Z29tZXJ5LnByb3RvdHlwZS5jb252ZXJ0PW1vbnRDb252ZXJ0O01vbnRnb21lcnkucHJvdG90eXBlLnJldmVydD1tb250UmV2ZXJ0O01vbnRnb21lcnkucHJvdG90eXBlLnJlZHVjZT1tb250UmVkdWNlO01vbnRnb21lcnkucHJvdG90eXBlLm11bFRvPW1vbnRNdWxUbztNb250Z29tZXJ5LnByb3RvdHlwZS5zcXJUbz1tb250U3FyVG87ZnVuY3Rpb24gYm5wSXNFdmVuKCl7cmV0dXJuKCh0aGlzLnQ+MCk/KHRoaXNbMF0mMSk6dGhpcy5zKT09MDt9CmZ1bmN0aW9uIGJucEV4cChlLHope2lmKGU+MHhmZmZmZmZmZnx8ZTwxKXJldHVybiBCaWdJbnRlZ2VyLk9ORTt2YXIgcj1uYmkoKSxyMj1uYmkoKSxnPXouY29udmVydCh0aGlzKSxpPW5iaXRzKGUpLTE7Zy5jb3B5VG8ocik7d2hpbGUoLS1pPj0wKXt6LnNxclRvKHIscjIpO2lmKChlJigxPDxpKSk+MCl6Lm11bFRvKHIyLGcscik7ZWxzZXt2YXIgdD1yO3I9cjI7cjI9dDt9fQpyZXR1cm4gei5yZXZlcnQocik7fQpmdW5jdGlvbiBibk1vZFBvd0ludChlLG0pe3ZhciB6O2lmKGU8MjU2fHxtLmlzRXZlbigpKXo9bmV3IENsYXNzaWMobSk7ZWxzZSB6PW5ldyBNb250Z29tZXJ5KG0pO3JldHVybiB0aGlzLmV4cChlLHopO30KQmlnSW50ZWdlci5wcm90b3R5cGUuY29weVRvPWJucENvcHlUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tSW50PWJucEZyb21JbnQ7QmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVN0cmluZz1ibnBGcm9tU3RyaW5nO0JpZ0ludGVnZXIucHJvdG90eXBlLmNsYW1wPWJucENsYW1wO0JpZ0ludGVnZXIucHJvdG90eXBlLmRsU2hpZnRUbz1ibnBETFNoaWZ0VG87QmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvPWJucERSU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5sU2hpZnRUbz1ibnBMU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbz1ibnBSU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5zdWJUbz1ibnBTdWJUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseVRvPWJucE11bHRpcGx5VG87QmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlVG89Ym5wU3F1YXJlVG87QmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG89Ym5wRGl2UmVtVG87QmlnSW50ZWdlci5wcm90b3R5cGUuaW52RGlnaXQ9Ym5wSW52RGlnaXQ7QmlnSW50ZWdlci5wcm90b3R5cGUuaXNFdmVuPWJucElzRXZlbjtCaWdJbnRlZ2VyLnByb3RvdHlwZS5leHA9Ym5wRXhwO0JpZ0ludGVnZXIucHJvdG90eXBlLnRvU3RyaW5nPWJuVG9TdHJpbmc7QmlnSW50ZWdlci5wcm90b3R5cGUubmVnYXRlPWJuTmVnYXRlO0JpZ0ludGVnZXIucHJvdG90eXBlLmFicz1ibkFicztCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG89Ym5Db21wYXJlVG87QmlnSW50ZWdlci5wcm90b3R5cGUuYml0TGVuZ3RoPWJuQml0TGVuZ3RoO0JpZ0ludGVnZXIucHJvdG90eXBlLm1vZD1ibk1vZDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQ9Ym5Nb2RQb3dJbnQ7QmlnSW50ZWdlci5aRVJPPW5idigwKTtCaWdJbnRlZ2VyLk9ORT1uYnYoMSk7ZnVuY3Rpb24gQXJjZm91cigpe3RoaXMuaT0wO3RoaXMuaj0wO3RoaXMuUz1uZXcgQXJyYXkoKTt9CmZ1bmN0aW9uIEFSQzRpbml0KGtleSl7dmFyIGksaix0O2ZvcihpPTA7aTwyNTY7KytpKQp0aGlzLlNbaV09aTtqPTA7Zm9yKGk9MDtpPDI1NjsrK2kpe2o9KGordGhpcy5TW2ldK2tleVtpJWtleS5sZW5ndGhdKSYyNTU7dD10aGlzLlNbaV07dGhpcy5TW2ldPXRoaXMuU1tqXTt0aGlzLlNbal09dDt9CnRoaXMuaT0wO3RoaXMuaj0wO30KZnVuY3Rpb24gQVJDNG5leHQoKXt2YXIgdDt0aGlzLmk9KHRoaXMuaSsxKSYyNTU7dGhpcy5qPSh0aGlzLmordGhpcy5TW3RoaXMuaV0pJjI1NTt0PXRoaXMuU1t0aGlzLmldO3RoaXMuU1t0aGlzLmldPXRoaXMuU1t0aGlzLmpdO3RoaXMuU1t0aGlzLmpdPXQ7cmV0dXJuIHRoaXMuU1sodCt0aGlzLlNbdGhpcy5pXSkmMjU1XTt9CkFyY2ZvdXIucHJvdG90eXBlLmluaXQ9QVJDNGluaXQ7QXJjZm91ci5wcm90b3R5cGUubmV4dD1BUkM0bmV4dDtmdW5jdGlvbiBwcm5nX25ld3N0YXRlKCl7cmV0dXJuIG5ldyBBcmNmb3VyKCk7fQp2YXIgcm5nX3BzaXplPTI1Njt2YXIgcm5nX3N0YXRlO3ZhciBybmdfcG9vbDt2YXIgcm5nX3BwdHI7ZnVuY3Rpb24gcm5nX3NlZWRfaW50KHgpe3JuZ19wb29sW3JuZ19wcHRyKytdXj14JjI1NTtybmdfcG9vbFtybmdfcHB0cisrXV49KHg+PjgpJjI1NTtybmdfcG9vbFtybmdfcHB0cisrXV49KHg+PjE2KSYyNTU7cm5nX3Bvb2xbcm5nX3BwdHIrK11ePSh4Pj4yNCkmMjU1O2lmKHJuZ19wcHRyPj1ybmdfcHNpemUpcm5nX3BwdHItPXJuZ19wc2l6ZTt9CmZ1bmN0aW9uIHJuZ19zZWVkX3RpbWUoKXtybmdfc2VlZF9pbnQobmV3IERhdGUoKS5nZXRUaW1lKCkpO30KaWYocm5nX3Bvb2w9PW51bGwpe3JuZ19wb29sPW5ldyBBcnJheSgpO3JuZ19wcHRyPTA7dmFyIHQ7aWYobmF2aWdhdG9yLmFwcE5hbWU9PSJOZXRzY2FwZSImJm5hdmlnYXRvci5hcHBWZXJzaW9uPCI1IiYmd2luZG93LmNyeXB0byl7dmFyIHo9d2luZG93LmNyeXB0by5yYW5kb20oMzIpO2Zvcih0PTA7dDx6Lmxlbmd0aDsrK3QpCnJuZ19wb29sW3JuZ19wcHRyKytdPXouY2hhckNvZGVBdCh0KSYyNTU7fQp3aGlsZShybmdfcHB0cjxybmdfcHNpemUpe3Q9TWF0aC5mbG9vcig2NTUzNipNYXRoLnJhbmRvbSgpKTtybmdfcG9vbFtybmdfcHB0cisrXT10Pj4+ODtybmdfcG9vbFtybmdfcHB0cisrXT10JjI1NTt9CnJuZ19wcHRyPTA7cm5nX3NlZWRfdGltZSgpO30KZnVuY3Rpb24gcm5nX2dldF9ieXRlKCl7aWYocm5nX3N0YXRlPT1udWxsKXtybmdfc2VlZF90aW1lKCk7cm5nX3N0YXRlPXBybmdfbmV3c3RhdGUoKTtybmdfc3RhdGUuaW5pdChybmdfcG9vbCk7Zm9yKHJuZ19wcHRyPTA7cm5nX3BwdHI8cm5nX3Bvb2wubGVuZ3RoOysrcm5nX3BwdHIpCnJuZ19wb29sW3JuZ19wcHRyXT0wO3JuZ19wcHRyPTA7fQpyZXR1cm4gcm5nX3N0YXRlLm5leHQoKTt9CmZ1bmN0aW9uIHJuZ19nZXRfYnl0ZXMoYmEpe3ZhciBpO2ZvcihpPTA7aTxiYS5sZW5ndGg7KytpKWJhW2ldPXJuZ19nZXRfYnl0ZSgpO30KZnVuY3Rpb24gU2VjdXJlUmFuZG9tKCl7fQpTZWN1cmVSYW5kb20ucHJvdG90eXBlLm5leHRCeXRlcz1ybmdfZ2V0X2J5dGVzO2Z1bmN0aW9uIHBhcnNlQmlnSW50KHN0cixyKXtyZXR1cm4gbmV3IEJpZ0ludGVnZXIoc3RyLHIpO30KZnVuY3Rpb24gbGluZWJyayhzLG4pe3ZhciByZXQ9IiI7dmFyIGk9MDt3aGlsZShpK248cy5sZW5ndGgpe3JldCs9cy5zdWJzdHJpbmcoaSxpK24pKyJcbiI7aSs9bjt9CnJldHVybiByZXQrcy5zdWJzdHJpbmcoaSxzLmxlbmd0aCk7fQpmdW5jdGlvbiBieXRlMkhleChiKXtpZihiPDB4MTApCnJldHVybiIwIitiLnRvU3RyaW5nKDE2KTtlbHNlCnJldHVybiBiLnRvU3RyaW5nKDE2KTt9CmZ1bmN0aW9uIHBrY3MxcGFkMihzLG4pe2lmKG48cy5sZW5ndGgrMTEpe2FsZXJ0KCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0EiKTtyZXR1cm4gbnVsbDt9CnZhciBiYT1uZXcgQXJyYXkoKTt2YXIgaT1zLmxlbmd0aC0xO3doaWxlKGk+PTAmJm4+MCl7dmFyIGM9cy5jaGFyQ29kZUF0KGktLSk7aWYoYzwxMjgpe2JhWy0tbl09Yzt9CmVsc2UgaWYoKGM+MTI3KSYmKGM8MjA0OCkpe2JhWy0tbl09KGMmNjMpfDEyODtiYVstLW5dPShjPj42KXwxOTI7fQplbHNle2JhWy0tbl09KGMmNjMpfDEyODtiYVstLW5dPSgoYz4+NikmNjMpfDEyODtiYVstLW5dPShjPj4xMil8MjI0O319CmJhWy0tbl09MDt2YXIgcm5nPW5ldyBTZWN1cmVSYW5kb20oKTt2YXIgeD1uZXcgQXJyYXkoKTt3aGlsZShuPjIpe3hbMF09MDt3aGlsZSh4WzBdPT0wKXJuZy5uZXh0Qnl0ZXMoeCk7YmFbLS1uXT14WzBdO30KYmFbLS1uXT0yO2JhWy0tbl09MDtyZXR1cm4gbmV3IEJpZ0ludGVnZXIoYmEpO30KZnVuY3Rpb24gUlNBS2V5KCl7dGhpcy5uPW51bGw7dGhpcy5lPTA7dGhpcy5kPW51bGw7dGhpcy5wPW51bGw7dGhpcy5xPW51bGw7dGhpcy5kbXAxPW51bGw7dGhpcy5kbXExPW51bGw7dGhpcy5jb2VmZj1udWxsO30KZnVuY3Rpb24gUlNBU2V0UHVibGljKE4sRSl7aWYoTiE9bnVsbCYmRSE9bnVsbCYmTi5sZW5ndGg+MCYmRS5sZW5ndGg+MCl7dGhpcy5uPXBhcnNlQmlnSW50KE4sMTYpO3RoaXMuZT1wYXJzZUludChFLDE2KTt9CmVsc2UKYWxlcnQoIkludmFsaWQgUlNBIHB1YmxpYyBrZXkiKTt9CmZ1bmN0aW9uIFJTQURvUHVibGljKHgpe3JldHVybiB4Lm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKTt9CmZ1bmN0aW9uIFJTQUVuY3J5cHQodGV4dCl7dmFyIG09cGtjczFwYWQyKHRleHQsKHRoaXMubi5iaXRMZW5ndGgoKSs3KT4+Myk7aWYobT09bnVsbClyZXR1cm4gbnVsbDt2YXIgYz10aGlzLmRvUHVibGljKG0pO2lmKGM9PW51bGwpcmV0dXJuIG51bGw7dmFyIGg9Yy50b1N0cmluZygxNik7aWYoKGgubGVuZ3RoJjEpPT0wKXJldHVybiBoO2Vsc2UgcmV0dXJuIjAiK2g7fQpSU0FLZXkucHJvdG90eXBlLmRvUHVibGljPVJTQURvUHVibGljO1JTQUtleS5wcm90b3R5cGUuc2V0UHVibGljPVJTQVNldFB1YmxpYztSU0FLZXkucHJvdG90eXBlLmVuY3J5cHQ9UlNBRW5jcnlwdDt2YXIgTGF3bmNoYWlyPWZ1bmN0aW9uKG9wdGlvbnMsY2FsbGJhY2spe2lmKCEodGhpcyBpbnN0YW5jZW9mIExhd25jaGFpcikpcmV0dXJuIG5ldyBMYXduY2hhaXIob3B0aW9ucyxjYWxsYmFjayk7aWYoIUpTT04pdGhyb3cnSlNPTiB1bmF2YWlsYWJsZSEgSW5jbHVkZSBodHRwOi8vd3d3Lmpzb24ub3JnL2pzb24yLmpzIHRvIGZpeC4nCmlmKGFyZ3VtZW50cy5sZW5ndGg8PTImJmFyZ3VtZW50cy5sZW5ndGg+MCl7Y2FsbGJhY2s9KHR5cGVvZiBhcmd1bWVudHNbMF09PT0nZnVuY3Rpb24nKT9hcmd1bWVudHNbMF06YXJndW1lbnRzWzFdO29wdGlvbnM9KHR5cGVvZiBhcmd1bWVudHNbMF09PT0nZnVuY3Rpb24nKT97fTphcmd1bWVudHNbMF07fWVsc2V7dGhyb3cnSW5jb3JyZWN0ICMgb2YgY3RvciBhcmdzISd9CmlmKHR5cGVvZiBjYWxsYmFjayE9PSdmdW5jdGlvbicpdGhyb3cnTm8gY2FsbGJhY2sgd2FzIHByb3ZpZGVkJzt0aGlzLnJlY29yZD1vcHRpb25zLnJlY29yZHx8J3JlY29yZCcKdGhpcy5uYW1lPW9wdGlvbnMubmFtZXx8J3JlY29yZHMnCnZhciBhZGFwdGVyCmlmKG9wdGlvbnMuYWRhcHRlcil7aWYodHlwZW9mKG9wdGlvbnMuYWRhcHRlcik9PT0nc3RyaW5nJyl7b3B0aW9ucy5hZGFwdGVyPVtvcHRpb25zLmFkYXB0ZXJdO30KZm9yKHZhciBqPTAsaz1vcHRpb25zLmFkYXB0ZXIubGVuZ3RoO2o8aztqKyspe2Zvcih2YXIgaT1MYXduY2hhaXIuYWRhcHRlcnMubGVuZ3RoLTE7aT49MDtpLS0pe2lmKExhd25jaGFpci5hZGFwdGVyc1tpXS5hZGFwdGVyPT09b3B0aW9ucy5hZGFwdGVyW2pdKXthZGFwdGVyPUxhd25jaGFpci5hZGFwdGVyc1tpXS52YWxpZCgpP0xhd25jaGFpci5hZGFwdGVyc1tpXTp1bmRlZmluZWQ7aWYoYWRhcHRlcilicmVha319CmlmKGFkYXB0ZXIpYnJlYWt9fQplbHNle2Zvcih2YXIgaT0wLGw9TGF3bmNoYWlyLmFkYXB0ZXJzLmxlbmd0aDtpPGw7aSsrKXthZGFwdGVyPUxhd25jaGFpci5hZGFwdGVyc1tpXS52YWxpZCgpP0xhd25jaGFpci5hZGFwdGVyc1tpXTp1bmRlZmluZWQKaWYoYWRhcHRlcilicmVha319CmlmKCFhZGFwdGVyKXRocm93J05vIHZhbGlkIGFkYXB0ZXIuJwpmb3IodmFyIGogaW4gYWRhcHRlcikKdGhpc1tqXT1hZGFwdGVyW2pdCmZvcih2YXIgaT0wLGw9TGF3bmNoYWlyLnBsdWdpbnMubGVuZ3RoO2k8bDtpKyspCkxhd25jaGFpci5wbHVnaW5zW2ldLmNhbGwodGhpcykKdGhpcy5pbml0KG9wdGlvbnMsY2FsbGJhY2spfQpMYXduY2hhaXIuYWRhcHRlcnM9W10KTGF3bmNoYWlyLmFkYXB0ZXI9ZnVuY3Rpb24oaWQsb2JqKXtvYmpbJ2FkYXB0ZXInXT1pZAp2YXIgaW1wbGVtZW50aW5nPSdhZGFwdGVyIHZhbGlkIGluaXQga2V5cyBzYXZlIGJhdGNoIGdldCBleGlzdHMgYWxsIHJlbW92ZSBudWtlJy5zcGxpdCgnICcpLGluZGV4T2Y9dGhpcy5wcm90b3R5cGUuaW5kZXhPZgpmb3IodmFyIGkgaW4gb2JqKXtpZihpbmRleE9mKGltcGxlbWVudGluZyxpKT09PS0xKXRocm93J0ludmFsaWQgYWRhcHRlciEgTm9uc3RhbmRhcmQgbWV0aG9kOiAnK2l9Ckxhd25jaGFpci5hZGFwdGVycy5zcGxpY2UoMCwwLG9iail9Ckxhd25jaGFpci5wbHVnaW5zPVtdCkxhd25jaGFpci5wbHVnaW49ZnVuY3Rpb24ob2JqKXtmb3IodmFyIGkgaW4gb2JqKQppPT09J2luaXQnP0xhd25jaGFpci5wbHVnaW5zLnB1c2gob2JqW2ldKTp0aGlzLnByb3RvdHlwZVtpXT1vYmpbaV19Ckxhd25jaGFpci5wcm90b3R5cGU9e2lzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24obyl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKT09PSdbb2JqZWN0IEFycmF5XSd9LGluZGV4T2Y6ZnVuY3Rpb24oYXJ5LGl0ZW0saSxsKXtpZihhcnkuaW5kZXhPZilyZXR1cm4gYXJ5LmluZGV4T2YoaXRlbSkKZm9yKGk9MCxsPWFyeS5sZW5ndGg7aTxsO2krKylpZihhcnlbaV09PT1pdGVtKXJldHVybiBpCnJldHVybi0xfSxsYW1iZGE6ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmZuKHRoaXMucmVjb3JkLGNhbGxiYWNrKX0sZm46ZnVuY3Rpb24obmFtZSxjYWxsYmFjayl7cmV0dXJuIHR5cGVvZiBjYWxsYmFjaz09J3N0cmluZyc/bmV3IEZ1bmN0aW9uKG5hbWUsY2FsbGJhY2spOmNhbGxiYWNrfSx1dWlkOmZ1bmN0aW9uKCl7dmFyIFM0PWZ1bmN0aW9uKCl7cmV0dXJuKCgoMStNYXRoLnJhbmRvbSgpKSoweDEwMDAwKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO30KcmV0dXJuKFM0KCkrUzQoKSsiLSIrUzQoKSsiLSIrUzQoKSsiLSIrUzQoKSsiLSIrUzQoKStTNCgpK1M0KCkpO30sZWFjaDpmdW5jdGlvbihjYWxsYmFjayl7dmFyIGNiPXRoaXMubGFtYmRhKGNhbGxiYWNrKQppZih0aGlzLl9fcmVzdWx0cyl7Zm9yKHZhciBpPTAsbD10aGlzLl9fcmVzdWx0cy5sZW5ndGg7aTxsO2krKyljYi5jYWxsKHRoaXMsdGhpcy5fX3Jlc3VsdHNbaV0saSl9CmVsc2V7dGhpcy5hbGwoZnVuY3Rpb24ocil7Zm9yKHZhciBpPTAsbD1yLmxlbmd0aDtpPGw7aSsrKWNiLmNhbGwodGhpcyxyW2ldLGkpfSl9CnJldHVybiB0aGlzfX07TGF3bmNoYWlyLmFkYXB0ZXIoJ3dpbmRvdy1uYW1lJywoZnVuY3Rpb24oKXtpZih0eXBlb2Ygd2luZG93PT09J3VuZGVmaW5lZCcpe3dpbmRvdz17dG9wOnt9fTt9CnZhciBkYXRhPXt9CnRyeXtkYXRhPUpTT04ucGFyc2Uod2luZG93LnRvcC5uYW1lKX1jYXRjaChlKXt9CnJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiB0eXBlb2Ygd2luZG93LnRvcC5uYW1lIT0ndW5kZWZpbmVkJ30saW5pdDpmdW5jdGlvbihvcHRpb25zLGNhbGxiYWNrKXtkYXRhW3RoaXMubmFtZV09ZGF0YVt0aGlzLm5hbWVdfHx7aW5kZXg6W10sc3RvcmU6e319CnRoaXMuaW5kZXg9ZGF0YVt0aGlzLm5hbWVdLmluZGV4CnRoaXMuc3RvcmU9ZGF0YVt0aGlzLm5hbWVdLnN0b3JlCnRoaXMuZm4odGhpcy5uYW1lLGNhbGxiYWNrKS5jYWxsKHRoaXMsdGhpcykKcmV0dXJuIHRoaXN9LGtleXM6ZnVuY3Rpb24oY2FsbGJhY2spe3RoaXMuZm4oJ2tleXMnLGNhbGxiYWNrKS5jYWxsKHRoaXMsdGhpcy5pbmRleCkKcmV0dXJuIHRoaXN9LHNhdmU6ZnVuY3Rpb24ob2JqLGNiKXt2YXIga2V5PW9iai5rZXl8fHRoaXMudXVpZCgpCnRoaXMuZXhpc3RzKGtleSxmdW5jdGlvbihleGlzdHMpe2lmKCFleGlzdHMpe2lmKG9iai5rZXkpZGVsZXRlIG9iai5rZXkKdGhpcy5pbmRleC5wdXNoKGtleSl9CnRoaXMuc3RvcmVba2V5XT1vYmoKdHJ5e3dpbmRvdy50b3AubmFtZT1KU09OLnN0cmluZ2lmeShkYXRhKX1jYXRjaChlKXtpZighZXhpc3RzKXt0aGlzLmluZGV4LnBvcCgpO2RlbGV0ZSB0aGlzLnN0b3JlW2tleV07fQp0aHJvdyBlO30KaWYoY2Ipe29iai5rZXk9a2V5CnRoaXMubGFtYmRhKGNiKS5jYWxsKHRoaXMsb2JqKX19KQpyZXR1cm4gdGhpc30sYmF0Y2g6ZnVuY3Rpb24ob2JqcyxjYil7dmFyIHI9W10KZm9yKHZhciBpPTAsbD1vYmpzLmxlbmd0aDtpPGw7aSsrKXt0aGlzLnNhdmUob2Jqc1tpXSxmdW5jdGlvbihyZWNvcmQpe3IucHVzaChyZWNvcmQpfSl9CmlmKGNiKXRoaXMubGFtYmRhKGNiKS5jYWxsKHRoaXMscikKcmV0dXJuIHRoaXN9LGdldDpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgcjtpZih0aGlzLmlzQXJyYXkoa2V5T3JBcnJheSkpe3I9W10KZm9yKHZhciBpPTAsbD1rZXlPckFycmF5Lmxlbmd0aDtpPGw7aSsrKXtyLnB1c2godGhpcy5zdG9yZVtrZXlPckFycmF5W2ldXSl9fWVsc2V7cj10aGlzLnN0b3JlW2tleU9yQXJyYXldCmlmKHIpci5rZXk9a2V5T3JBcnJheX0KaWYoY2IpdGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcyxyKQpyZXR1cm4gdGhpc30sZXhpc3RzOmZ1bmN0aW9uKGtleSxjYil7dGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcywhISh0aGlzLnN0b3JlW2tleV0pKQpyZXR1cm4gdGhpc30sYWxsOmZ1bmN0aW9uKGNiKXt2YXIgcj1bXQpmb3IodmFyIGk9MCxsPXRoaXMuaW5kZXgubGVuZ3RoO2k8bDtpKyspe3ZhciBvYmo9dGhpcy5zdG9yZVt0aGlzLmluZGV4W2ldXQpvYmoua2V5PXRoaXMuaW5kZXhbaV0Kci5wdXNoKG9iail9CnRoaXMuZm4odGhpcy5uYW1lLGNiKS5jYWxsKHRoaXMscikKcmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgZGVsPXRoaXMuaXNBcnJheShrZXlPckFycmF5KT9rZXlPckFycmF5OltrZXlPckFycmF5XQpmb3IodmFyIGk9MCxsPWRlbC5sZW5ndGg7aTxsO2krKyl7dmFyIGtleT1kZWxbaV0ua2V5P2RlbFtpXS5rZXk6ZGVsW2ldCnZhciB3aGVyZT10aGlzLmluZGV4T2YodGhpcy5pbmRleCxrZXkpCmlmKHdoZXJlPDApY29udGludWUKZGVsZXRlIHRoaXMuc3RvcmVba2V5XQp0aGlzLmluZGV4LnNwbGljZSh3aGVyZSwxKX0Kd2luZG93LnRvcC5uYW1lPUpTT04uc3RyaW5naWZ5KGRhdGEpCmlmKGNiKXRoaXMubGFtYmRhKGNiKS5jYWxsKHRoaXMpCnJldHVybiB0aGlzfSxudWtlOmZ1bmN0aW9uKGNiKXt0aGlzLnN0b3JlPWRhdGFbdGhpcy5uYW1lXS5zdG9yZT17fQp0aGlzLmluZGV4PWRhdGFbdGhpcy5uYW1lXS5pbmRleD1bXQp3aW5kb3cudG9wLm5hbWU9SlNPTi5zdHJpbmdpZnkoZGF0YSkKaWYoY2IpdGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcykKcmV0dXJuIHRoaXN9fX0pKCkpCkxhd25jaGFpci5hZGFwdGVyKCdkb20nLChmdW5jdGlvbigpe3ZhciBzdG9yYWdlPXdpbmRvdy5sb2NhbFN0b3JhZ2UKdmFyIGluZGV4ZXI9ZnVuY3Rpb24obmFtZSl7cmV0dXJue2tleTpuYW1lKycuX2luZGV4XycsYWxsOmZ1bmN0aW9uKCl7dmFyIGE9c3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KQppZihhKXthPUpTT04ucGFyc2UoYSl9CmlmKGE9PT1udWxsKXN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShbXSkpCnJldHVybiBKU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSkpfSxhZGQ6ZnVuY3Rpb24oa2V5KXt2YXIgYT10aGlzLmFsbCgpCmEucHVzaChrZXkpCnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShhKSl9LGRlbDpmdW5jdGlvbihrZXkpe3ZhciBhPXRoaXMuYWxsKCkscj1bXQpmb3IodmFyIGk9MCxsPWEubGVuZ3RoO2k8bDtpKyspe2lmKGFbaV0hPWtleSlyLnB1c2goYVtpXSl9CnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShyKSl9LGZpbmQ6ZnVuY3Rpb24oa2V5KXt2YXIgYT10aGlzLmFsbCgpCmZvcih2YXIgaT0wLGw9YS5sZW5ndGg7aTxsO2krKyl7aWYoa2V5PT09YVtpXSlyZXR1cm4gaX0KcmV0dXJuIGZhbHNlfX19CnJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEhc3RvcmFnZSYmZnVuY3Rpb24oKXt2YXIgc3VjY2Vzcz10cnVlCnZhciB2YWx1ZT1NYXRoLnJhbmRvbSgpCnRyeXtzdG9yYWdlLnNldEl0ZW0odmFsdWUsdmFsdWUpfWNhdGNoKGUpe3N1Y2Nlc3M9ZmFsc2V9CnN0b3JhZ2UucmVtb3ZlSXRlbSh2YWx1ZSkKcmV0dXJuIHN1Y2Nlc3N9KCl9LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyxjYWxsYmFjayl7dGhpcy5pbmRleGVyPWluZGV4ZXIodGhpcy5uYW1lKQppZihjYWxsYmFjayl0aGlzLmZuKHRoaXMubmFtZSxjYWxsYmFjaykuY2FsbCh0aGlzLHRoaXMpfSxzYXZlOmZ1bmN0aW9uKG9iaixjYWxsYmFjayl7dmFyIGtleT1vYmoua2V5P3RoaXMubmFtZSsnLicrb2JqLmtleTp0aGlzLm5hbWUrJy4nK3RoaXMudXVpZCgpCmRlbGV0ZSBvYmoua2V5O3N0b3JhZ2Uuc2V0SXRlbShrZXksSlNPTi5zdHJpbmdpZnkob2JqKSkKaWYodGhpcy5pbmRleGVyLmZpbmQoa2V5KT09PWZhbHNlKXRoaXMuaW5kZXhlci5hZGQoa2V5KQpvYmoua2V5PWtleS5zbGljZSh0aGlzLm5hbWUubGVuZ3RoKzEpCmlmKGNhbGxiYWNrKXt0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzLG9iail9CnJldHVybiB0aGlzfSxiYXRjaDpmdW5jdGlvbihhcnksY2FsbGJhY2spe3ZhciBzYXZlZD1bXQpmb3IodmFyIGk9MCxsPWFyeS5sZW5ndGg7aTxsO2krKyl7dGhpcy5zYXZlKGFyeVtpXSxmdW5jdGlvbihyKXtzYXZlZC5wdXNoKHIpfSl9CmlmKGNhbGxiYWNrKXRoaXMubGFtYmRhKGNhbGxiYWNrKS5jYWxsKHRoaXMsc2F2ZWQpCnJldHVybiB0aGlzfSxrZXlzOmZ1bmN0aW9uKGNhbGxiYWNrKXtpZihjYWxsYmFjayl7dmFyIG5hbWU9dGhpcy5uYW1lCnZhciBpbmRpY2VzPXRoaXMuaW5kZXhlci5hbGwoKTt2YXIga2V5cz1bXTtpZihBcnJheS5wcm90b3R5cGUubWFwKXtrZXlzPWluZGljZXMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnJlcGxhY2UobmFtZSsnLicsJycpfSl9ZWxzZXtmb3IodmFyIGtleSBpbiBpbmRpY2VzKXtrZXlzLnB1c2goa2V5LnJlcGxhY2UobmFtZSsnLicsJycpKTt9fQp0aGlzLmZuKCdrZXlzJyxjYWxsYmFjaykuY2FsbCh0aGlzLGtleXMpfQpyZXR1cm4gdGhpc30sZ2V0OmZ1bmN0aW9uKGtleSxjYWxsYmFjayl7aWYodGhpcy5pc0FycmF5KGtleSkpe3ZhciByPVtdCmZvcih2YXIgaT0wLGw9a2V5Lmxlbmd0aDtpPGw7aSsrKXt2YXIgaz10aGlzLm5hbWUrJy4nK2tleVtpXQp2YXIgb2JqPXN0b3JhZ2UuZ2V0SXRlbShrKQppZihvYmope29iaj1KU09OLnBhcnNlKG9iaikKb2JqLmtleT1rZXlbaV19CnIucHVzaChvYmopfQppZihjYWxsYmFjayl0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzLHIpfWVsc2V7dmFyIGs9dGhpcy5uYW1lKycuJytrZXkKdmFyIG9iaj1zdG9yYWdlLmdldEl0ZW0oaykKaWYob2JqKXtvYmo9SlNPTi5wYXJzZShvYmopCm9iai5rZXk9a2V5fQppZihjYWxsYmFjayl0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzLG9iail9CnJldHVybiB0aGlzfSxleGlzdHM6ZnVuY3Rpb24oa2V5LGNiKXt2YXIgZXhpc3RzPXRoaXMuaW5kZXhlci5maW5kKHRoaXMubmFtZSsnLicra2V5KT09PWZhbHNlP2ZhbHNlOnRydWU7dGhpcy5sYW1iZGEoY2IpLmNhbGwodGhpcyxleGlzdHMpO3JldHVybiB0aGlzO30sYWxsOmZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgaWR4PXRoaXMuaW5kZXhlci5hbGwoKSxyPVtdLG8sawpmb3IodmFyIGk9MCxsPWlkeC5sZW5ndGg7aTxsO2krKyl7az1pZHhbaV0Kbz1KU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbShrKSkKby5rZXk9ay5yZXBsYWNlKHRoaXMubmFtZSsnLicsJycpCnIucHVzaChvKX0KaWYoY2FsbGJhY2spdGhpcy5mbih0aGlzLm5hbWUsY2FsbGJhY2spLmNhbGwodGhpcyxyKQpyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGtleU9yQXJyYXksY2FsbGJhY2spe3ZhciBzZWxmPXRoaXM7aWYodGhpcy5pc0FycmF5KGtleU9yQXJyYXkpKXt2YXIgaSxkb25lPWtleU9yQXJyYXkubGVuZ3RoO3ZhciByZW1vdmVPbmU9ZnVuY3Rpb24oaSl7c2VsZi5yZW1vdmUoa2V5T3JBcnJheVtpXSxmdW5jdGlvbigpe2lmKCgtLWRvbmUpPjApe3JldHVybjt9CmlmKGNhbGxiYWNrKXtzZWxmLmxhbWJkYShjYWxsYmFjaykuY2FsbChzZWxmKTt9fSk7fTtmb3IoaT0wO2k8a2V5T3JBcnJheS5sZW5ndGg7aSsrKQpyZW1vdmVPbmUoaSk7cmV0dXJuIHRoaXM7fQp2YXIga2V5PXRoaXMubmFtZSsnLicrCigoa2V5T3JBcnJheS5rZXkpP2tleU9yQXJyYXkua2V5OmtleU9yQXJyYXkpCnRoaXMuaW5kZXhlci5kZWwoa2V5KQpzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KQppZihjYWxsYmFjayl0aGlzLmxhbWJkYShjYWxsYmFjaykuY2FsbCh0aGlzKQpyZXR1cm4gdGhpc30sbnVrZTpmdW5jdGlvbihjYWxsYmFjayl7dGhpcy5hbGwoZnVuY3Rpb24ocil7Zm9yKHZhciBpPTAsbD1yLmxlbmd0aDtpPGw7aSsrKXt0aGlzLnJlbW92ZShyW2ldKTt9CmlmKGNhbGxiYWNrKXRoaXMubGFtYmRhKGNhbGxiYWNrKS5jYWxsKHRoaXMpfSkKcmV0dXJuIHRoaXN9fX0pKCkpO0xhd25jaGFpci5hZGFwdGVyKCdsb2NhbEZpbGVTdG9yYWdlJywoZnVuY3Rpb24oKXtmdW5jdGlvbiBkb0xvZyhtZXNzKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZyhtZXNzKTt9fQp2YXIgZmFpbD1mdW5jdGlvbihlLGkpe2lmKGNvbnNvbGUpY29uc29sZS5sb2coJ2Vycm9yIGluIGZpbGUgc3lzdGVtIGFkYXB0ZXIgIScsZSxpKTtlbHNlIHRocm93IGU7fTtmdW5jdGlvbiBmaWxlbmFtZUZvcktleShrZXksY2Ipe2tleT0kZmguYXBwX3Byb3BzLmFwcGlkK2tleTskZmguaGFzaCh7YWxnb3JpdGhtOiJNRDUiLHRleHQ6a2V5fSxmdW5jdGlvbihyZXN1bHQpe3ZhciBmaWxlbmFtZT1yZXN1bHQuaGFzaHZhbHVlKycudHh0JztpZih0eXBlb2YgbmF2aWdhdG9yLmV4dGVybmFsc3RvcmFnZSE9PSJ1bmRlZmluZWQiKXtuYXZpZ2F0b3IuZXh0ZXJuYWxzdG9yYWdlLmVuYWJsZShmdW5jdGlvbiBoYW5kbGVTdWNjZXNzKHJlcyl7dmFyIHBhdGg9ZmlsZW5hbWU7aWYocmVzLnBhdGgpe3BhdGg9cmVzLnBhdGg7aWYoIXBhdGgubWF0Y2goL1wvJC8pKXtwYXRoKz0nLyc7fQpwYXRoKz1maWxlbmFtZTt9CmZpbGVuYW1lPXBhdGg7cmV0dXJuIGNiKGZpbGVuYW1lKTt9LGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycil7cmV0dXJuIGNiKGZpbGVuYW1lKTt9KX1lbHNle2RvTG9nKCdmaWxlbmFtZUZvcktleSBrZXk9JytrZXkrJyAsIEZpbGVuYW1lOiAnK2ZpbGVuYW1lKTtyZXR1cm4gY2IoZmlsZW5hbWUpO319KTt9CnJldHVybnt2YWxpZDpmdW5jdGlvbigpe3JldHVybiEhKHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbSl9LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyxjYWxsYmFjayl7aWYob3B0aW9ucyYmJ2Z1bmN0aW9uJz09PXR5cGVvZiBvcHRpb25zLmZhaWwpZmFpbD1vcHRpb25zLmZhaWw7aWYoY2FsbGJhY2spdGhpcy5mbih0aGlzLm5hbWUsY2FsbGJhY2spLmNhbGwodGhpcyx0aGlzKTt9LGtleXM6ZnVuY3Rpb24oY2FsbGJhY2spe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIjt9LHNhdmU6ZnVuY3Rpb24ob2JqLGNhbGxiYWNrKXt2YXIga2V5PW9iai5rZXk7dmFyIHZhbHVlPW9iai52YWx8fG9iai52YWx1ZTtmaWxlbmFtZUZvcktleShrZXksZnVuY3Rpb24oaGFzaCl7d2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULDAsZnVuY3Rpb24gZ290RlMoZmlsZVN5c3RlbSl7ZmlsZVN5c3RlbS5yb290LmdldEZpbGUoaGFzaCx7Y3JlYXRlOnRydWV9LGZ1bmN0aW9uIGdvdEZpbGVFbnRyeShmaWxlRW50cnkpe2ZpbGVFbnRyeS5jcmVhdGVXcml0ZXIoZnVuY3Rpb24gZ290RmlsZVdyaXRlcih3cml0ZXIpe3dyaXRlci5vbndyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGNhbGxiYWNrKHtrZXk6a2V5LHZhbDp2YWx1ZX0pO307d3JpdGVyLndyaXRlKHZhbHVlKTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3NhdmVdIEZhaWxlZCB0byBjcmVhdGUgZmlsZSB3cml0ZXInKTt9KTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3NhdmVdIEZhaWxlZCB0byBnZXRGaWxlJyk7fSk7fSxmdW5jdGlvbigpe2ZhaWwoJ1tzYXZlXSBGYWlsZWQgdG8gcmVxdWVzdEZpbGVTeXN0ZW0nKTt9KTt9KTt9LGJhdGNoOmZ1bmN0aW9uKHJlY29yZHMsY2FsbGJhY2spe3Rocm93IkN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIjt9LGdldDpmdW5jdGlvbihrZXksY2FsbGJhY2spe2ZpbGVuYW1lRm9yS2V5KGtleSxmdW5jdGlvbihoYXNoKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbiBnb3RGUyhmaWxlU3lzdGVtKXtmaWxlU3lzdGVtLnJvb3QuZ2V0RmlsZShoYXNoLHt9LGZ1bmN0aW9uIGdvdEZpbGVFbnRyeShmaWxlRW50cnkpe2ZpbGVFbnRyeS5maWxlKGZ1bmN0aW9uIGdvdEZpbGUoZmlsZSl7dmFyIHJlYWRlcj1uZXcgRmlsZVJlYWRlcigpO3JlYWRlci5vbmxvYWRlbmQ9ZnVuY3Rpb24oZXZ0KXt2YXIgdGV4dD1ldnQudGFyZ2V0LnJlc3VsdDt0cnl7dGV4dD1kZWNvZGVVUklDb21wb25lbnQodGV4dCk7fWNhdGNoKGUpe30KcmV0dXJuIGNhbGxiYWNrKHtrZXk6a2V5LHZhbDp0ZXh0fSk7fTtyZWFkZXIucmVhZEFzVGV4dChmaWxlKTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW2xvYWRdIEZhaWxlZCB0byBnZXRGaWxlJyk7fSk7fSxmdW5jdGlvbigpe2NhbGxiYWNrKHtrZXk6a2V5LHZhbDpudWxsfSk7fSk7fSxmdW5jdGlvbigpe2ZhaWwoJ1tsb2FkXSBGYWlsZWQgdG8gZ2V0IGZpbGVTeXN0ZW0nKTt9KTt9KTt9LGV4aXN0czpmdW5jdGlvbihrZXksY2FsbGJhY2spe2ZpbGVuYW1lRm9yS2V5KGtleSxmdW5jdGlvbihoYXNoKXt3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oTG9jYWxGaWxlU3lzdGVtLlBFUlNJU1RFTlQsMCxmdW5jdGlvbiBnb3RGUyhmaWxlU3lzdGVtKXtmaWxlU3lzdGVtLnJvb3QuZ2V0RmlsZShoYXNoLHt9LGZ1bmN0aW9uIGdvdEZpbGVFbnRyeShmaWxlRW50cnkpe3JldHVybiBjYWxsYmFjayh0cnVlKTt9LGZ1bmN0aW9uKGVycil7cmV0dXJuIGNhbGxiYWNrKGZhbHNlKTt9KTt9KTt9KTt9LGFsbDpmdW5jdGlvbihjYWxsYmFjayl7dGhyb3ciQ3VycmVudGx5IG5vdCBzdXBwb3J0ZWQiO30scmVtb3ZlOmZ1bmN0aW9uKGtleSxjYWxsYmFjayl7ZmlsZW5hbWVGb3JLZXkoa2V5LGZ1bmN0aW9uKGhhc2gpe3dpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbShMb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCwwLGZ1bmN0aW9uIGdvdEZTKGZpbGVTeXN0ZW0pe2ZpbGVTeXN0ZW0ucm9vdC5nZXRGaWxlKGhhc2gse30sZnVuY3Rpb24gZ290RmlsZUVudHJ5KGZpbGVFbnRyeSl7ZmlsZUVudHJ5LnJlbW92ZShmdW5jdGlvbigpe3JldHVybiBjYWxsYmFjayh7a2V5OmtleSx2YWw6bnVsbH0pO30sZnVuY3Rpb24oKXtmYWlsKCdbcmVtb3ZlXSBGYWlsZWQgdG8gcmVtb3ZlIGZpbGUnKTt9KTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3JlbW92ZV0gRmFpbGVkIHRvIGdldEZpbGUnKTt9KTt9LGZ1bmN0aW9uKCl7ZmFpbCgnW3JlbW92ZV0gRmFpbGVkIHRvIGdldCBmaWxlU3lzdGVtJyk7fSk7fSk7fSxudWtlOmZ1bmN0aW9uKGNhbGxiYWNrKXt0aHJvdyJDdXJyZW50bHkgbm90IHN1cHBvcnRlZCI7fX07fSgpKSk7TGF3bmNoYWlyLmFkYXB0ZXIoJ3dlYmtpdC1zcWxpdGUnLChmdW5jdGlvbigpe3ZhciBmYWlsPWZ1bmN0aW9uKGUsaSl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coJ2Vycm9yIGluIHNxbGl0ZSBhZGFwdG9yIScsZSxpKX19LG5vdz1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSgpfQppZighRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpe0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKG9iail7dmFyIHNsaWNlPVtdLnNsaWNlLGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksc2VsZj10aGlzLG5vcD1mdW5jdGlvbigpe30sYm91bmQ9ZnVuY3Rpb24oKXtyZXR1cm4gc2VsZi5hcHBseSh0aGlzIGluc3RhbmNlb2Ygbm9wP3RoaXM6KG9ianx8e30pLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfQpub3AucHJvdG90eXBlPXNlbGYucHJvdG90eXBlCmJvdW5kLnByb3RvdHlwZT1uZXcgbm9wKCkKcmV0dXJuIGJvdW5kfX0KcmV0dXJue3ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISEod2luZG93Lm9wZW5EYXRhYmFzZSl9LGluaXQ6ZnVuY3Rpb24ob3B0aW9ucyxjYWxsYmFjayl7dmFyIHRoYXQ9dGhpcyxjYj10aGF0LmZuKHRoYXQubmFtZSxjYWxsYmFjayksY3JlYXRlPSJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAiK3RoaXMucmVjb3JkKyIgKGlkIE5WQVJDSEFSKDMyKSBVTklRVUUgUFJJTUFSWSBLRVksIHZhbHVlIFRFWFQsIHRpbWVzdGFtcCBSRUFMKSIsd2luPWZ1bmN0aW9uKCl7cmV0dXJuIGNiLmNhbGwodGhhdCx0aGF0KTt9CmlmKG9wdGlvbnMmJidmdW5jdGlvbic9PT10eXBlb2Ygb3B0aW9ucy5mYWlsKWZhaWw9b3B0aW9ucy5mYWlsCnRoaXMuZGI9b3BlbkRhdGFiYXNlKHRoaXMubmFtZSwnMS4wLjAnLHRoaXMubmFtZSw2NTUzNikKdGhpcy5kYi50cmFuc2FjdGlvbihmdW5jdGlvbih0KXt0LmV4ZWN1dGVTcWwoY3JlYXRlLFtdLHdpbixmYWlsKX0pfSxrZXlzOmZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgY2I9dGhpcy5sYW1iZGEoY2FsbGJhY2spLHRoYXQ9dGhpcyxrZXlzPSJTRUxFQ1QgaWQgRlJPTSAiK3RoaXMucmVjb3JkKyIgT1JERVIgQlkgdGltZXN0YW1wIERFU0MiCnRoaXMuZGIucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3ZhciB3aW49ZnVuY3Rpb24oeHh4LHJlc3VsdHMpe2lmKHJlc3VsdHMucm93cy5sZW5ndGg9PTApe2NiLmNhbGwodGhhdCxbXSl9ZWxzZXt2YXIgcj1bXTtmb3IodmFyIGk9MCxsPXJlc3VsdHMucm93cy5sZW5ndGg7aTxsO2krKyl7ci5wdXNoKHJlc3VsdHMucm93cy5pdGVtKGkpLmlkKTt9CmNiLmNhbGwodGhhdCxyKX19CnQuZXhlY3V0ZVNxbChrZXlzLFtdLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfSxzYXZlOmZ1bmN0aW9uKG9iaixjYWxsYmFjayxlcnJvcil7dmFyIHRoYXQ9dGhpcwpvYmpzPSh0aGlzLmlzQXJyYXkob2JqKT9vYmo6W29ial0pLm1hcChmdW5jdGlvbihvKXtpZighby5rZXkpe28ua2V5PXRoYXQudXVpZCgpfQpyZXR1cm4gb30pLGlucz0iSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyAiK3RoaXMucmVjb3JkKyIgKHZhbHVlLCB0aW1lc3RhbXAsIGlkKSBWQUxVRVMgKD8sPyw/KSIsd2luPWZ1bmN0aW9uKCl7aWYoY2FsbGJhY2spe3RoYXQubGFtYmRhKGNhbGxiYWNrKS5jYWxsKHRoYXQsdGhhdC5pc0FycmF5KG9iaik/b2JqczpvYmpzWzBdKX19LGVycm9yPWVycm9yfHxmdW5jdGlvbigpe30saW5zdmFscz1bXSx0cz1ub3coKQp0cnl7Zm9yKHZhciBpPTAsbD1vYmpzLmxlbmd0aDtpPGw7aSsrKXtpbnN2YWxzW2ldPVtKU09OLnN0cmluZ2lmeShvYmpzW2ldKSx0cyxvYmpzW2ldLmtleV07fX1jYXRjaChlKXtmYWlsKGUpCnRocm93IGU7fQp0aGF0LmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wLGw9b2Jqcy5sZW5ndGg7aTxsO2krKykKdC5leGVjdXRlU3FsKGlucyxpbnN2YWxzW2ldKX0sZnVuY3Rpb24oZSxpKXtmYWlsKGUsaSl9LHdpbikKcmV0dXJuIHRoaXN9LGJhdGNoOmZ1bmN0aW9uKG9ianMsY2FsbGJhY2spe3JldHVybiB0aGlzLnNhdmUob2JqcyxjYWxsYmFjayl9LGdldDpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgdGhhdD10aGlzLHNxbD0nJyxhcmdzPXRoaXMuaXNBcnJheShrZXlPckFycmF5KT9rZXlPckFycmF5OltrZXlPckFycmF5XTtzcWw9J1NFTEVDVCBpZCwgdmFsdWUgRlJPTSAnK3RoaXMucmVjb3JkKyIgV0hFUkUgaWQgSU4gKCIrCmFyZ3MubWFwKGZ1bmN0aW9uKCl7cmV0dXJuJz8nfSkuam9pbigiLCIpKyIpIgp2YXIgd2luPWZ1bmN0aW9uKHh4eCxyZXN1bHRzKXt2YXIgbyxyLGxvb2t1cD17fQpmb3IodmFyIGk9MCxsPXJlc3VsdHMucm93cy5sZW5ndGg7aTxsO2krKyl7bz1KU09OLnBhcnNlKHJlc3VsdHMucm93cy5pdGVtKGkpLnZhbHVlKQpvLmtleT1yZXN1bHRzLnJvd3MuaXRlbShpKS5pZApsb29rdXBbby5rZXldPW87fQpyPWFyZ3MubWFwKGZ1bmN0aW9uKGtleSl7cmV0dXJuIGxvb2t1cFtrZXldO30pO2lmKCF0aGF0LmlzQXJyYXkoa2V5T3JBcnJheSkpcj1yLmxlbmd0aD9yWzBdOm51bGwKaWYoY2IpdGhhdC5sYW1iZGEoY2IpLmNhbGwodGhhdCxyKX0KdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKHNxbCxhcmdzLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfSxleGlzdHM6ZnVuY3Rpb24oa2V5LGNiKXt2YXIgaXM9IlNFTEVDVCAqIEZST00gIit0aGlzLnJlY29yZCsiIFdIRVJFIGlkID0gPyIsdGhhdD10aGlzLHdpbj1mdW5jdGlvbih4eHgscmVzdWx0cyl7aWYoY2IpdGhhdC5mbignZXhpc3RzJyxjYikuY2FsbCh0aGF0LChyZXN1bHRzLnJvd3MubGVuZ3RoPjApKX0KdGhpcy5kYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24odCl7dC5leGVjdXRlU3FsKGlzLFtrZXldLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfSxhbGw6ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciB0aGF0PXRoaXMsYWxsPSJTRUxFQ1QgKiBGUk9NICIrdGhpcy5yZWNvcmQscj1bXSxjYj10aGlzLmZuKHRoaXMubmFtZSxjYWxsYmFjayl8fHVuZGVmaW5lZCx3aW49ZnVuY3Rpb24oeHh4LHJlc3VsdHMpe2lmKHJlc3VsdHMucm93cy5sZW5ndGghPTApe2Zvcih2YXIgaT0wLGw9cmVzdWx0cy5yb3dzLmxlbmd0aDtpPGw7aSsrKXt2YXIgb2JqPUpTT04ucGFyc2UocmVzdWx0cy5yb3dzLml0ZW0oaSkudmFsdWUpCm9iai5rZXk9cmVzdWx0cy5yb3dzLml0ZW0oaSkuaWQKci5wdXNoKG9iail9fQppZihjYiljYi5jYWxsKHRoYXQscil9CnRoaXMuZGIucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZVNxbChhbGwsW10sd2luLGZhaWwpfSkKcmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihrZXlPckFycmF5LGNiKXt2YXIgdGhhdD10aGlzLGFyZ3Msc3FsPSJERUxFVEUgRlJPTSAiK3RoaXMucmVjb3JkKyIgV0hFUkUgaWQgIix3aW49ZnVuY3Rpb24oKXtpZihjYil0aGF0LmxhbWJkYShjYikuY2FsbCh0aGF0KX0KaWYoIXRoaXMuaXNBcnJheShrZXlPckFycmF5KSl7c3FsKz0nPSA/JzthcmdzPVtrZXlPckFycmF5XTt9ZWxzZXthcmdzPWtleU9yQXJyYXk7c3FsKz0iSU4gKCIrCmFyZ3MubWFwKGZ1bmN0aW9uKCl7cmV0dXJuJz8nfSkuam9pbignLCcpKyIpIjt9CmFyZ3M9YXJncy5tYXAoZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqLmtleT9vYmoua2V5Om9iajt9KTt0aGlzLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZVNxbChzcWwsYXJncyx3aW4sZmFpbCk7fSk7cmV0dXJuIHRoaXM7fSxudWtlOmZ1bmN0aW9uKGNiKXt2YXIgbnVrZT0iREVMRVRFIEZST00gIit0aGlzLnJlY29yZCx0aGF0PXRoaXMsd2luPWNiP2Z1bmN0aW9uKCl7dGhhdC5sYW1iZGEoY2IpLmNhbGwodGhhdCl9OmZ1bmN0aW9uKCl7fQp0aGlzLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe3QuZXhlY3V0ZVNxbChudWtlLFtdLHdpbixmYWlsKX0pCnJldHVybiB0aGlzfX19KSgpKTsoZnVuY3Rpb24ocm9vdCl7cm9vdC4kZmg9cm9vdC4kZmh8fHt9O3ZhciAkZmg9cm9vdC4kZmg7JGZoLmZoX3RpbWVvdXQ9MjAwMDA7JGZoLmJveHByZWZpeD0nL2JveC9zcnYvMS4xLyc7JGZoLnNka192ZXJzaW9uPScxLjEuMic7dmFyIF9pc19pbml0aWFsaXppbmc9ZmFsc2U7dmFyIF9pbml0X2ZhaWxlZD1mYWxzZTt2YXIgX2Nsb3VkX3JlYWR5X2xpc3RlbmVycz1bXTt2YXIgX2Nsb3VkUmVhZHk9ZnVuY3Rpb24oc3VjY2Vzcyl7dHJ5e3doaWxlKF9jbG91ZF9yZWFkeV9saXN0ZW5lcnNbMF0pe3ZhciBhY3RfZnVuPV9jbG91ZF9yZWFkeV9saXN0ZW5lcnMuc2hpZnQoKTtpZihhY3RfZnVuLnR5cGU9PT0iaW5pdCIpe2lmKHN1Y2Nlc3Mpe2FjdF9mdW4uc3VjY2VzcygkZmguY2xvdWRfcHJvcHMpO31lbHNle2lmKGFjdF9mdW4uZmFpbCl7YWN0X2Z1bi5mYWlsKCJmaF9pbml0X2ZhaWxlZCIse30pO319fQppZihhY3RfZnVuLnR5cGU9PT0iYWN0Iil7aWYoc3VjY2Vzcyl7JGZoLmFjdChhY3RfZnVuLm9wdHMsYWN0X2Z1bi5zdWNjZXNzLGFjdF9mdW4uZmFpbCk7fWVsc2V7aWYoYWN0X2Z1bi5mYWlsKXthY3RfZnVuLmZhaWwoImZoX2luaXRfZmFpbGVkIix7fSk7fX19fX1maW5hbGx5e319O3ZhciBfbW9ja191dWlkX2Nvb2tpZV9uYW1lPSJtb2NrX3V1aWQiO3ZhciBfX3JlYWRDb29raWVWYWx1ZT1mdW5jdGlvbihjb29raWVfbmFtZSl7dmFyIG5hbWVfc3RyPWNvb2tpZV9uYW1lKyI9Ijt2YXIgY29va2llcz1kb2N1bWVudC5jb29raWUuc3BsaXQoIjsiKTtmb3IodmFyIGk9MDtpPGNvb2tpZXMubGVuZ3RoO2krKyl7dmFyIGM9Y29va2llc1tpXTt3aGlsZShjLmNoYXJBdCgwKT09PScgJyl7Yz1jLnN1YnN0cmluZygxLGMubGVuZ3RoKTt9CmlmKGMuaW5kZXhPZihuYW1lX3N0cik9PT0wKXtyZXR1cm4gYy5zdWJzdHJpbmcobmFtZV9zdHIubGVuZ3RoLGMubGVuZ3RoKTt9fQpyZXR1cm4gbnVsbDt9O3ZhciBfX2NyZWF0ZVVVSUQ9ZnVuY3Rpb24oKXt2YXIgcz1bXTt2YXIgaGV4RGlnaXRhbHM9IjAxMjM0NTY3ODlBQkNERUYiO2Zvcih2YXIgaT0wO2k8MzI7aSsrKXtzW2ldPWhleERpZ2l0YWxzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMHgxMCksMSk7fQpzWzEyXT0iNCI7c1sxNl09aGV4RGlnaXRhbHMuc3Vic3RyKChzWzE2XSYweDMpfDB4OCwxKTt2YXIgdXVpZD1zLmpvaW4oIiIpO3JldHVybiB1dWlkO307dmFyIF9fY3JlYXRlQ29va2llPWZ1bmN0aW9uKGNvb2tpZV9uYW1lLGNvb2tpZV92YWx1ZSl7dmFyIGRhdGU9bmV3IERhdGUoKTtkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkrMzY1MDAqMjQqNjAqNjAqMTAwMCk7dmFyIGV4cGlyZXM9IjsgZXhwaXJlcz0iK2RhdGUudG9HTVRTdHJpbmcoKTtkb2N1bWVudC5jb29raWU9Y29va2llX25hbWUrIj0iK2Nvb2tpZV92YWx1ZStleHBpcmVzKyI7IHBhdGggPSAvIjt9O3ZhciBnZXREZXZpY2VJZD1mdW5jdGlvbigpe2lmKHR5cGVvZiB3aW5kb3cuZGV2aWNlIT09InVuZGVmaW5lZCImJnR5cGVvZiB3aW5kb3cuZGV2aWNlLnV1aWQhPT0idW5kZWZpbmVkIil7cmV0dXJuIHdpbmRvdy5kZXZpY2UudXVpZDt9ZWxzZSBpZih0eXBlb2YgbmF2aWdhdG9yLmRldmljZSE9PSJ1bmRlZmluZWQiJiZ0eXBlb2YgbmF2aWdhdG9yLmRldmljZS51dWlkIT09InVuZGVmaW5lZCIpe3JldHVybiBuYXZpZ2F0b3IuZGV2aWNlLnV1aWQ7fWVsc2V7dmFyIHV1aWQ9X19yZWFkQ29va2llVmFsdWUoX21vY2tfdXVpZF9jb29raWVfbmFtZSk7aWYobnVsbD09dXVpZCl7dXVpZD1fX2NyZWF0ZVVVSUQoKTtfX2NyZWF0ZUNvb2tpZShfbW9ja191dWlkX2Nvb2tpZV9uYW1lLHV1aWQpO30KcmV0dXJuIHV1aWQ7fX07dmFyIGdldEN1aWRNYXA9ZnVuY3Rpb24oKXtpZih0eXBlb2Ygd2luZG93LmRldmljZSE9PSJ1bmRlZmluZWQiJiZ0eXBlb2Ygd2luZG93LmRldmljZS5jdWlkTWFwIT09InVuZGVmaW5lZCIpe3JldHVybiB3aW5kb3cuZGV2aWNlLmN1aWRNYXA7fWVsc2UgaWYodHlwZW9mIG5hdmlnYXRvci5kZXZpY2UhPT0idW5kZWZpbmVkIiYmdHlwZW9mIG5hdmlnYXRvci5kZXZpY2UuY3VpZE1hcCE9PSJ1bmRlZmluZWQiKXtyZXR1cm4gbmF2aWdhdG9yLmRldmljZS5jdWlkTWFwO30KcmV0dXJuIG51bGw7fTskZmguX2dldERldmljZUlkPWdldERldmljZUlkOyRmaC5fZ2V0Q3VpZE1hcD1nZXRDdWlkTWFwO3ZhciBfX2lzU21hcnRNb2JpbGU9L0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBhZHxCbGFja2JlcnJ5fFdpbmRvd3MgUGhvbmUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO3ZhciBfX2lzTG9jYWxGaWxlPXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJmaWxlIik+LTE7ZnVuY3Rpb24gaXNTYW1lT3JpZ2luKHVybCl7dmFyIGxvYz13aW5kb3cubG9jYXRpb247dmFyIHVyaVBhcnRzPW5ldyBSZWdFeHAoIl4oPzooW146Lz8jLl0rKTopPyg/Oi8vKT8oKFteOi8/I10qKSg/OjooXFxkKikpPykoKC8oPzpbXj8jXSg/IVtePyMvXSpcXC5bXj8jLy5dKyg/OltcXD8jXXwkKSkpKi8/KT8oW14/Iy9dKikpPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8iKTt2YXIgbG9jUGFydHM9dXJpUGFydHMuZXhlYyhsb2MpO3ZhciB1cmxQYXJ0cz11cmlQYXJ0cy5leGVjKHVybCk7cmV0dXJuKCh1cmxQYXJ0c1sxXT09bnVsbHx8dXJsUGFydHNbMV09PT0nJykmJih1cmxQYXJ0c1szXT09bnVsbHx8dXJsUGFydHNbM109PT0nJykmJih1cmxQYXJ0c1s0XT09bnVsbHx8dXJsUGFydHNbNF09PT0nJykpfHwobG9jUGFydHNbMV09PT11cmxQYXJ0c1sxXSYmbG9jUGFydHNbM109PT11cmxQYXJ0c1szXSYmbG9jUGFydHNbNF09PT11cmxQYXJ0c1s0XSk7fQpmdW5jdGlvbiBYRG9tYWluUmVxdWVzdFdyYXBwZXIoeGRyKXt0aGlzLnhkcj14ZHI7dGhpcy5pc1dyYXBwZXI9dHJ1ZTt0aGlzLnJlYWR5U3RhdGU9MDt0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3RoaXMuc3RhdHVzPTA7dGhpcy5zdGF0dXNUZXh0PSIiO3RoaXMucmVzcG9uc2VUZXh0PSIiO3ZhciBzZWxmPXRoaXM7dGhpcy54ZHIub25sb2FkPWZ1bmN0aW9uKCl7c2VsZi5yZWFkeVN0YXRlPTQ7c2VsZi5zdGF0dXM9MjAwO3NlbGYuc3RhdHVzVGV4dD0iIjtzZWxmLnJlc3BvbnNlVGV4dD1zZWxmLnhkci5yZXNwb25zZVRleHQ7aWYoc2VsZi5vbnJlYWR5c3RhdGVjaGFuZ2Upe3NlbGYub25yZWFkeXN0YXRlY2hhbmdlKCk7fX07dGhpcy54ZHIub25lcnJvcj1mdW5jdGlvbigpe2lmKHNlbGYub25lcnJvcil7c2VsZi5vbmVycm9yKCk7fQpzZWxmLnJlYWR5U3RhdGU9NDtzZWxmLnN0YXR1cz0wO3NlbGYuc3RhdHVzVGV4dD0iIjtpZihzZWxmLm9ucmVhZHlzdGF0ZWNoYW5nZSl7c2VsZi5vbnJlYWR5c3RhdGVjaGFuZ2UoKTt9fTt0aGlzLnhkci5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtzZWxmLnJlYWR5U3RhdGU9NDtzZWxmLnN0YXR1cz00MDg7c2VsZi5zdGF0dXNUZXh0PSJ0aW1lb3V0IjtpZihzZWxmLm9ucmVhZHlzdGF0ZWNoYW5nZSl7c2VsZi5vbnJlYWR5c3RhdGVjaGFuZ2UoKTt9fTt9ClhEb21haW5SZXF1ZXN0V3JhcHBlci5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihtZXRob2QsdXJsLGFzeW4pe3RoaXMueGRyLm9wZW4obWV0aG9kLHVybCk7fTtYRG9tYWluUmVxdWVzdFdyYXBwZXIucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZGF0YSl7dGhpcy54ZHIuc2VuZChkYXRhKTt9O1hEb21haW5SZXF1ZXN0V3JhcHBlci5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLnhkci5hYm9ydCgpO307WERvbWFpblJlcXVlc3RXcmFwcGVyLnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKG4sdil7fTtYRG9tYWluUmVxdWVzdFdyYXBwZXIucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKG4pe307dmFyIF9fY29yc19zdXBwb3J0ZWQ9ZmFsc2U7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXt2YXIgcnE9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7aWYoJ3dpdGhDcmVkZW50aWFscydpbiBycSl7X19jb3JzX3N1cHBvcnRlZD10cnVlO30KaWYoIV9fY29yc19zdXBwb3J0ZWQpe2lmKHR5cGVvZiBYRG9tYWluUmVxdWVzdCE9PSJ1bmRlZmluZWQiKXtfX2NvcnNfc3VwcG9ydGVkPXRydWU7fX19CnZhciBfX3hocj1mdW5jdGlvbigpe3ZhciB4aHI9bnVsbDtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3Qpe3hocj1uZXcgWE1MSHR0cFJlcXVlc3QoKTt9ZWxzZSBpZih3aW5kb3cuQWN0aXZlWE9iamVjdCl7eGhyPW5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTt9CnJldHVybiB4aHI7fTt2YXIgX19jb3I9ZnVuY3Rpb24oKXt2YXIgY29yPW51bGw7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXt2YXIgcnE9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7aWYoJ3dpdGhDcmVkZW50aWFscydpbiBycSl7Y29yPXJxO319CmlmKG51bGw9PWNvcil7aWYodHlwZW9mIFhEb21haW5SZXF1ZXN0IT09InVuZGVmaW5lZCIpe2Nvcj1uZXcgWERvbWFpblJlcXVlc3RXcmFwcGVyKG5ldyBYRG9tYWluUmVxdWVzdCgpKTt9fQpyZXR1cm4gY29yO307dmFyIF9fY2JfY291bnRzPTA7dmFyIF9fbG9hZF9zY3JpcHQ9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXt2YXIgc2NyaXB0O3ZhciBoZWFkPWRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtzY3JpcHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7c2NyaXB0LmFzeW5jPSJhc3luYyI7c2NyaXB0LnNyYz11cmw7c2NyaXB0LnR5cGU9InRleHQvamF2YXNjcmlwdCI7c2NyaXB0Lm9ubG9hZD1zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoIXNjcmlwdC5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KHNjcmlwdC5yZWFkeVN0YXRlKSl7c2NyaXB0Lm9ubG9hZD1zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7aWYoaGVhZCYmc2NyaXB0LnBhcmVudE5vZGUpe2hlYWQucmVtb3ZlQ2hpbGQoc2NyaXB0KTt9CnNjcmlwdD11bmRlZmluZWQ7aWYoY2FsbGJhY2smJnR5cGVvZiBjYWxsYmFjaz09PSJmdW5jdGlvbiIpe2NhbGxiYWNrKCk7fX19O2hlYWQuaW5zZXJ0QmVmb3JlKHNjcmlwdCxoZWFkLmZpcnN0Q2hpbGQpO307JGZoLl9fbG9hZF9zY3JpcHQ9X19sb2FkX3NjcmlwdDt2YXIgZGVmYXVsdEZhaWw9ZnVuY3Rpb24oZXJyKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZyhlcnIpO319OyRmaC5fX2FqYXg9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIG89b3B0aW9ucz9vcHRpb25zOnt9O3ZhciBzYW1lT3JpZ2luPWlzU2FtZU9yaWdpbihvcHRpb25zLnVybCk7aWYoIXNhbWVPcmlnaW4pe2lmKHR5cGVvZiB3aW5kb3cuUGhvbmVnYXAhPT0idW5kZWZpbmVkInx8dHlwZW9mIHdpbmRvdy5jb3Jkb3ZhIT09InVuZGVmaW5lZCIpe3NhbWVPcmlnaW49dHJ1ZTt9fQppZighc2FtZU9yaWdpbil7aWYoX19pc1NtYXJ0TW9iaWxlJiZfX2lzTG9jYWxGaWxlKXtzYW1lT3JpZ2luPXRydWU7fX0KaWYoc2FtZU9yaWdpbnx8KCghc2FtZU9yaWdpbikmJl9fY29yc19zdXBwb3J0ZWQpKXtvLmRhdGFUeXBlPSdqc29uJzt9ZWxzZXtvLmRhdGFUeXBlPSJqc29ucCI7fQp2YXIgcmVxO3ZhciB1cmw9by51cmw7dmFyIG1ldGhvZD1vLnR5cGV8fCdHRVQnO3ZhciBkYXRhPW8uZGF0YXx8bnVsbDt2YXIgdGltZW91dFRpbWVyO3ZhciBydXJsPS9cPy87dmFyIGRhdGF0eXBlPW8uZGF0YVR5cGU9PT0ianNvbnAiPyJqc29ucCI6Impzb24iO3ZhciBkb25lPWZ1bmN0aW9uKHN0YXR1cyxzdGF0dXNUZXh0LHJlc3BvbnNlVGV4dCl7dmFyIGlzc3VjY2Vzcz1mYWxzZTt2YXIgZXJyb3I7dmFyIHJlcztpZihzdGF0dXM+PTIwMCYmc3RhdHVzPD0zMDB8fHN0YXR1cz09PTMwNCl7aWYoc3RhdHVzPT09MzA0KXtzdGF0dXNUZXh0PSJub3Rtb2RpZmllZCI7aXNzdWNjZXNzPXRydWU7fWVsc2V7aWYoby5kYXRhVHlwZSYmby5kYXRhVHlwZS5pbmRleE9mKCdqc29uJykhPT0tMSl7dHJ5e2lmKHR5cGVvZiByZXNwb25zZVRleHQ9PT0ic3RyaW5nIil7cmVzPUpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTt9ZWxzZXtyZXM9cmVzcG9uc2VUZXh0O30KaXNzdWNjZXNzPXRydWU7fWNhdGNoKGUpe2lzc3VjY2Vzcz1mYWxzZTtzdGF0dXNUZXh0PSJwYXJzZWVycm9yIjtlcnJvcj1lO319ZWxzZXtyZXM9cmVzcG9uc2VUZXh0O2lzc3VjY2Vzcz10cnVlO319fWVsc2V7ZXJyb3I9c3RhdHVzVGV4dDtpZighc3RhdHVzVGV4dHx8c3RhdHVzKXtzdGF0dXNUZXh0PSJlcnJvciI7aWYoc3RhdHVzPDApe3N0YXR1cz0wO319fQppZihpc3N1Y2Nlc3Mpe3JlcT11bmRlZmluZWQ7aWYoby5zdWNjZXNzJiZ0eXBlb2Ygby5zdWNjZXNzPT09J2Z1bmN0aW9uJyl7by5zdWNjZXNzKHJlcyk7fX1lbHNle2lmKG8uZXJyb3ImJnR5cGVvZiBvLmVycm9yPT09J2Z1bmN0aW9uJyl7by5lcnJvcihyZXEsc3RhdHVzVGV4dCxlcnJvcik7fX19O3ZhciB0eXBlcz17J2pzb24nOmZ1bmN0aW9uKCl7aWYoc2FtZU9yaWdpbil7cmVxPV9feGhyKCk7fWVsc2V7cmVxPV9fY29yKCk7fQppZihyZXEuaXNXcmFwcGVyKXtyZXEub3BlbigiR0VUIix1cmwrIj9wYXJhbXM9IitlbmNvZGVVUklDb21wb25lbnQoZGF0YSksdHJ1ZSk7fWVsc2V7cmVxLm9wZW4obWV0aG9kLHVybCx0cnVlKTt9CmlmKG8uY29udGVudFR5cGUpe3JlcS5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLG8uY29udGVudFR5cGUpO30KcmVxLnNldFJlcXVlc3RIZWFkZXIoJ1gtUmVxdWVzdC1XaXRoJywnWE1MSHR0cFJlcXVlc3QnKTt2YXIgaGFuZGxlcj1mdW5jdGlvbigpe2lmKHJlcS5yZWFkeVN0YXRlPT09NCl7aWYocmVxLnN0YXR1cz09PTAmJiFzYW1lT3JpZ2luJiYhcmVxLmlzQWJvcnRlZCl7cmV0dXJuIHR5cGVzWydqc29ucCddKCk7fQplbHNle2lmKHRpbWVvdXRUaW1lcil7Y2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcik7fX0KdmFyIHN0YXR1c1RleHQ7dHJ5e3N0YXR1c1RleHQ9cmVxLnN0YXR1c1RleHQ7fWNhdGNoKGUpe3N0YXR1c1RleHQ9IiI7fQppZighcmVxLmlzQWJvcnRlZCl7ZG9uZShyZXEuc3RhdHVzLHJlcS5zdGF0dXNUZXh0LHJlcS5yZXNwb25zZVRleHQpO319fTtyZXEub25yZWFkeXN0YXRlY2hhbmdlPWhhbmRsZXI7cmVxLnNlbmQoZGF0YSk7fSwnanNvbnAnOmZ1bmN0aW9uKCl7dmFyIGNhbGxiYWNrSWQ9J2ZoY2InK19fY2JfY291bnRzKys7d2luZG93W2NhbGxiYWNrSWRdPWZ1bmN0aW9uKHJlc3BvbnNlKXtpZih0aW1lb3V0VGltZXIpe2NsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpO30KZG9uZSgyMDAsIiIscmVzcG9uc2UpO3dpbmRvd1tjYWxsYmFja0lkXT11bmRlZmluZWQ7dHJ5e2RlbGV0ZSB3aW5kb3dbY2FsbGJhY2tJZF07fWNhdGNoKGUpe319O3VybCs9KHJ1cmwudGVzdCh1cmwpPyImIjoiPyIpKyJfY2FsbGJhY2s9IitjYWxsYmFja0lkO2lmKG8uZGF0YSl7dmFyIGQ9by5kYXRhO2lmKHR5cGVvZiBkPT09InN0cmluZyIpe3VybCs9IiZfanNvbnBkYXRhPSIrZW5jb2RlVVJJQ29tcG9uZW50KG8uZGF0YSk7fWVsc2V7dXJsKz0iJl9qc29ucGRhdGE9IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoby5kYXRhKSk7fX0KX19sb2FkX3NjcmlwdCh1cmwpO319O2lmKG8udGltZW91dD4wKXt0aW1lb3V0VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKHJlcSl7cmVxLmlzQWJvcnRlZD10cnVlO3JlcS5hYm9ydCgpO30KZG9uZSgwLCd0aW1lb3V0Jyk7fSxvLnRpbWVvdXQpO30KdHlwZXNbZGF0YXR5cGVdKCk7fTtfaGFuZGxlRXJyb3I9ZnVuY3Rpb24oZmFpbCxyZXEscmVzU3RhdHVzKXt2YXIgZXJycmF3O2lmKHJlcSl7dHJ5e3ZhciByZXM9SlNPTi5wYXJzZShyZXEucmVzcG9uc2VUZXh0KTtlcnJyYXc9cmVzLmVycm9yO31jYXRjaChlKXtlcnJyYXc9cmVxLnJlc3BvbnNlVGV4dDt9fQppZihmYWlsKXtmYWlsKCdlcnJvcl9hamF4ZmFpbCcse3N0YXR1czpyZXEuc3RhdHVzLG1lc3NhZ2U6cmVzU3RhdHVzLGVycm9yOmVycnJhd30pO319O19nZXRRdWVyeU1hcD1mdW5jdGlvbih1cmwpe3ZhciBxbWFwO3ZhciBpPXVybC5zcGxpdCgiPyIpO2lmKGkubGVuZ3RoPT09Mil7dmFyIHF1ZXJ5U3RyaW5nPWlbMV07dmFyIHBhaXJzPXF1ZXJ5U3RyaW5nLnNwbGl0KCImIik7cW1hcD17fTtmb3IodmFyIHA9MDtwPHBhaXJzLmxlbmd0aDtwKyspe3ZhciBxPXBhaXJzW3BdO3ZhciBxcD1xLnNwbGl0KCI9Iik7cW1hcFtxcFswXV09cXBbMV07fX0KcmV0dXJuIHFtYXA7fTtfY2hlY2tBdXRoUmVzcG9uc2U9ZnVuY3Rpb24odXJsKXtpZigvXF9maEF1dGhDYWxsYmFjay8udGVzdCh1cmwpKXt2YXIgcW1hcD1fZ2V0UXVlcnlNYXAodXJsKTtpZihxbWFwKXt2YXIgZmhDYWxsYmFjaz1xbWFwWyJfZmhBdXRoQ2FsbGJhY2siXTtpZihmaENhbGxiYWNrKXtpZihxbWFwWydyZXN1bHQnXSYmcW1hcFsncmVzdWx0J109PT0nc3VjY2Vzcycpe3ZhciBzdWNSZXM9eydzZXNzaW9uVG9rZW4nOnFtYXBbJ2ZoX2F1dGhfc2Vzc2lvbiddLCdhdXRoUmVzcG9uc2UnOkpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudChxbWFwWydhdXRoUmVzcG9uc2UnXSkpKX07d2luZG93W2ZoQ2FsbGJhY2tdKG51bGwsc3VjUmVzKTt9ZWxzZXt3aW5kb3dbZmhDYWxsYmFja10oeydtZXNzYWdlJzpxbWFwWydtZXNzYWdlJ119KTt9fX19fTtfZ2V0RmhQYXJhbXM9ZnVuY3Rpb24oKXt2YXIgZmhQYXJhbXM9e307ZmhQYXJhbXMuY3VpZD1nZXREZXZpY2VJZCgpO2ZoUGFyYW1zLmN1aWRNYXA9Z2V0Q3VpZE1hcCgpO2ZoUGFyYW1zLmFwcGlkPSRmaC5hcHBfcHJvcHMuYXBwaWQ7ZmhQYXJhbXMuYXBwa2V5PSRmaC5hcHBfcHJvcHMuYXBwa2V5O2ZoUGFyYW1zLmFuYWx5dGljc1RhZz0kZmguYXBwX3Byb3BzLmFuYWx5dGljc1RhZztmaFBhcmFtcy5pbml0PSRmaC5hcHBfcHJvcHMuaW5pdDtpZih0eXBlb2YgZmhfZGVzdGluYXRpb25fY29kZSE9PSd1bmRlZmluZWQnKXtmaFBhcmFtcy5kZXN0aW5hdGlvbj1maF9kZXN0aW5hdGlvbl9jb2RlO31lbHNle2ZoUGFyYW1zLmRlc3RpbmF0aW9uPSJ3ZWIiO30KaWYodHlwZW9mIGZoX2FwcF92ZXJzaW9uIT09J3VuZGVmaW5lZCcpe2ZoUGFyYW1zLmFwcF92ZXJzaW9uPWZoX2FwcF92ZXJzaW9uO30KZmhQYXJhbXMuc2RrX3ZlcnNpb249X2dldFNka1ZlcnNpb24oKTtyZXR1cm4gZmhQYXJhbXM7fTtfYWRkRmhQYXJhbXM9ZnVuY3Rpb24ocGFyYW1zKXtwYXJhbXM9cGFyYW1zfHx7fTtwYXJhbXMuX19maD1fZ2V0RmhQYXJhbXMoKTtyZXR1cm4gcGFyYW1zO307X2dldFNka1ZlcnNpb249ZnVuY3Rpb24oKXt2YXIgdHlwZT0iRkhfSlNfU0RLIjtpZih0eXBlb2YgZmhfZGVzdGluYXRpb25fY29kZSE9PSd1bmRlZmluZWQnKXt0eXBlPSJGSF9IWUJSSURfU0RLIjt9ZWxzZSBpZih3aW5kb3cuUGhvbmVHYXB8fHdpbmRvdy5jb3Jkb3ZhKXt0eXBlPSJGSF9QSE9ORUdBUF9TREsiO30KcmV0dXJuIHR5cGUrIi8iKyRmaC5zZGtfdmVyc2lvbjt9O2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsZnVuY3Rpb24oKXtfY2hlY2tBdXRoUmVzcG9uc2Uod2luZG93LmxvY2F0aW9uLmhyZWYpO30sZmFsc2UpO31lbHNle3dpbmRvdy5hdHRhY2hFdmVudCgnb25sb2FkJyxmdW5jdGlvbigpe19jaGVja0F1dGhSZXNwb25zZSh3aW5kb3cubG9jYXRpb24uaHJlZik7fSk7fQokZmguX2hhbmRsZUF1dGhSZXNwb25zZT1mdW5jdGlvbihlbmR1cmwscmVzLHN1Y2Nlc3MsZmFpbCl7aWYocmVzLnN0YXR1cyYmcmVzLnN0YXR1cz09PSJvayIpe2lmKHJlcy51cmwpe2lmKHdpbmRvdy5QaG9uZUdhcHx8d2luZG93LmNvcmRvdmEpe2lmKHdpbmRvdy5wbHVnaW5zJiZ3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIpe2lmKHR5cGVvZiB3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIuc2hvd1dlYlBhZ2U9PT0iZnVuY3Rpb24iKXt3aW5kb3cucGx1Z2lucy5jaGlsZEJyb3dzZXIub25Mb2NhdGlvbkNoYW5nZT1mdW5jdGlvbihuZXdfdXJsKXtpZihuZXdfdXJsLmluZGV4T2YoZW5kdXJsKT4tMSl7d2luZG93LnBsdWdpbnMuY2hpbGRCcm93c2VyLmNsb3NlKCk7dmFyIHFtYXA9X2dldFF1ZXJ5TWFwKG5ld191cmwpO2lmKHFtYXApe2lmKHFtYXBbJ3Jlc3VsdCddJiZxbWFwWydyZXN1bHQnXT09PSdzdWNjZXNzJyl7dmFyIHN1Y1Jlcz17J3Nlc3Npb25Ub2tlbic6cW1hcFsnZmhfYXV0aF9zZXNzaW9uJ10sJ2F1dGhSZXNwb25zZSc6SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KHFtYXBbJ2F1dGhSZXNwb25zZSddKSkpfTtzdWNjZXNzKHN1Y1Jlcyk7fWVsc2V7aWYoZmFpbCl7ZmFpbCgiYXV0aF9mYWlsZWQiLHsnbWVzc2FnZSc6cW1hcFsnbWVzc2FnZSddfSk7fX19ZWxzZXtpZihmYWlsKXtmYWlsKCJhdXRoX2ZhaWxlZCIseydtZXNzYWdlJzpxbWFwWydtZXNzYWdlJ119KTt9fX19O3dpbmRvdy5wbHVnaW5zLmNoaWxkQnJvd3Nlci5zaG93V2ViUGFnZShyZXMudXJsKTt9fWVsc2V7Y29uc29sZS5sb2coIkNoaWxkQnJvd3NlciBwbHVnaW4gaXMgbm90IGludGFsbGVkLiIpO3N1Y2Nlc3MocmVzKTt9fWVsc2V7ZG9jdW1lbnQubG9jYXRpb24uaHJlZj1yZXMudXJsO319ZWxzZXtzdWNjZXNzKHJlcyk7fX1lbHNle2lmKGZhaWwpe2ZhaWwoImF1dGhfZmFpbGVkIixyZXMpO319fTskZmguaW5pdD1mdW5jdGlvbihvcHRzLHN1Y2Nlc3MsZmFpbCl7aWYoJGZoLmNsb3VkX3Byb3BzKXtyZXR1cm4gc3VjY2VzcygkZmguY2xvdWRfcHJvcHMpO30KaWYoIV9pc19pbml0aWFsaXppbmcpe19pc19pbml0aWFsaXppbmc9dHJ1ZTtpZighZmFpbCl7ZmFpbD1kZWZhdWx0RmFpbDt9CmlmKCFvcHRzLmhvc3Qpe3JldHVybiBmYWlsKCdpbml0X25vX2hvc3QnLHt9KTt9CmlmKCFvcHRzLmFwcGlkKXtyZXR1cm4gZmFpbCgnaW5pdF9ub19hcHBpZCcse30pO30KaWYoIW9wdHMuYXBwa2V5KXtyZXR1cm4gZmFpbCgnaW5pdF9ub19hcHBrZXknLHt9KTt9CiRmaC5hcHBfcHJvcHM9b3B0czt2YXIgbGNDb25mPXtuYW1lOiJmaF9pbml0X3N0b3JhZ2UiLGFkYXB0ZXI6ImRvbSIsZmFpbDpmdW5jdGlvbihtc2csZXJyKXt2YXIgZXJyb3JfbWVzc2FnZT0ncmVhZC9zYXZlIGZyb20vdG8gbG9jYWwgc3RvcmFnZSBmYWlsZWQgIG1zZzonK21zZysnIGVycjonK2VycjtyZXR1cm4gZmFpbChlcnJvcl9tZXNzYWdlLHt9KTt9fTt2YXIgc3RvcmFnZT1udWxsO3RyeXtzdG9yYWdlPW5ldyBMYXduY2hhaXIobGNDb25mLGZ1bmN0aW9uKCl7fSk7fWNhdGNoKGUpe2xjQ29uZi5hZGFwdGVyPXVuZGVmaW5lZDtzdG9yYWdlPW5ldyBMYXduY2hhaXIobGNDb25mLGZ1bmN0aW9uKCl7fSk7fQpzdG9yYWdlLmdldCgnZmhfaW5pdCcsZnVuY3Rpb24oc3RvcmFnZV9yZXMpe2lmKHN0b3JhZ2VfcmVzJiZzdG9yYWdlX3Jlcy52YWx1ZSE9PW51bGwpeyRmaC5hcHBfcHJvcHMuaW5pdD1zdG9yYWdlX3Jlcy52YWx1ZTt9CnZhciBwYXRoPW9wdHMuaG9zdCskZmguYm94cHJlZml4KyJhcHAvaW5pdCI7dmFyIGRhdGE9X2dldEZoUGFyYW1zKCk7JGZoLl9fYWpheCh7InVybCI6cGF0aCwidHlwZSI6IlBPU1QiLCJjb250ZW50VHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLCJkYXRhIjpKU09OLnN0cmluZ2lmeShkYXRhKSwidGltZW91dCI6b3B0cy50aW1lb3V0fHwkZmguYXBwX3Byb3BzLnRpbWVvdXR8fCRmaC5maF90aW1lb3V0LCJzdWNjZXNzIjpmdW5jdGlvbihkYXRhKXskZmguY2xvdWRfcHJvcHM9ZGF0YTtzdG9yYWdlLnNhdmUoe2tleToiZmhfaW5pdCIsdmFsdWU6ZGF0YS5pbml0fSxmdW5jdGlvbigpe2lmKHN1Y2Nlc3Mpe3N1Y2Nlc3MoZGF0YSk7fQpfY2xvdWRSZWFkeSh0cnVlKTt9KTt9LCJlcnJvciI6ZnVuY3Rpb24ocmVxLHN0YXR1c1RleHQsZXJyb3Ipe19pbml0X2ZhaWxlZD10cnVlO19pc19pbml0aWFsaXppbmc9ZmFsc2U7X2hhbmRsZUVycm9yKGZhaWwscmVxLHN0YXR1c1RleHQpO19jbG91ZFJlYWR5KGZhbHNlKTt9fSk7fSk7fWVsc2V7X2Nsb3VkX3JlYWR5X2xpc3RlbmVycy5wdXNoKHt0eXBlOidpbml0JyxzdWNjZXNzOnN1Y2Nlc3MsZmFpbDpmYWlsfSk7fX07JGZoLmFjdD1mdW5jdGlvbihvcHRzLHN1Y2Nlc3MsZmFpbCl7aWYoIWZhaWwpe2ZhaWw9ZGVmYXVsdEZhaWw7fQppZighb3B0cy5hY3Qpe3JldHVybiBmYWlsKCdhY3Rfbm9fYWN0aW9uJyx7fSk7fQppZihfaW5pdF9mYWlsZWQpeyRmaC5pbml0KCRmaC5hcHBfcHJvcHMsZnVuY3Rpb24oc3VjKXtfaW5pdF9mYWlsZWQ9ZmFsc2U7ZG9BY3RDYWxsKCk7fSxmdW5jdGlvbihlcnIpe19oYW5kbGVFcnJvcihmYWlsLHsic3RhdHVzIjowLCJyZXNwb25zZVRleHQiOiJJbml0IEZhaWxlZCJ9LCJmYWlsZWQgdG8gY2FsbCBpbml0LiBDaGVjayBuZXR3b3JrIHN0YXR1cyIpO30pO30KZWxzZSBpZihudWxsPT0kZmguY2xvdWRfcHJvcHMmJl9pc19pbml0aWFsaXppbmcpe19jbG91ZF9yZWFkeV9saXN0ZW5lcnMucHVzaCh7InR5cGUiOiJhY3QiLCJvcHRzIjpvcHRzLCJzdWNjZXNzIjpzdWNjZXNzLCJmYWlsIjpmYWlsfSk7cmV0dXJuO30KZWxzZXtkb0FjdENhbGwoKTt9CmZ1bmN0aW9uIGRvQWN0Q2FsbCgpe3ZhciBjbG91ZF9ob3N0PSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5yZWxlYXNlQ2xvdWRVcmw7dmFyIGFwcF90eXBlPSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5yZWxlYXNlQ2xvdWRUeXBlO2lmKCRmaC5hcHBfcHJvcHMubW9kZSYmJGZoLmFwcF9wcm9wcy5tb2RlLmluZGV4T2YoImRldiIpPi0xKXtjbG91ZF9ob3N0PSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVXJsO2FwcF90eXBlPSRmaC5jbG91ZF9wcm9wcy5ob3N0cy5kZWJ1Z0Nsb3VkVHlwZTt9CnZhciB1cmw9Y2xvdWRfaG9zdCsiL2Nsb3VkLyIrb3B0cy5hY3Q7aWYoYXBwX3R5cGU9PT0iZmgiKXt1cmw9Y2xvdWRfaG9zdCskZmguYm94cHJlZml4KyJhY3QvIiskZmguY2xvdWRfcHJvcHMuZG9tYWluKyIvIiskZmguYXBwX3Byb3BzLmFwcGlkKyIvIitvcHRzLmFjdCsiLyIrJGZoLmFwcF9wcm9wcy5hcHBpZDt9CnZhciBwYXJhbXM9b3B0cy5yZXF8fHt9O3BhcmFtcz1fYWRkRmhQYXJhbXMocGFyYW1zKTtyZXR1cm4gJGZoLl9fYWpheCh7InVybCI6dXJsLCJ0eXBlIjoiUE9TVCIsImRhdGEiOkpTT04uc3RyaW5naWZ5KHBhcmFtcyksImNvbnRlbnRUeXBlIjoiYXBwbGljYXRpb24vanNvbiIsInRpbWVvdXQiOm9wdHMudGltZW91dHx8JGZoLmFwcF9wcm9wcy50aW1lb3V0fHwkZmguZmhfdGltZW91dCxzdWNjZXNzOmZ1bmN0aW9uKHJlcyl7aWYoc3VjY2Vzcyl7cmV0dXJuIHN1Y2Nlc3MocmVzKTt9fSxlcnJvcjpmdW5jdGlvbihyZXEsc3RhdHVzVGV4dCxlcnJvcil7X2hhbmRsZUVycm9yKGZhaWwscmVxLHN0YXR1c1RleHQpO319KTt9fTskZmguYXV0aD1mdW5jdGlvbihvcHRzLHN1Y2Nlc3MsZmFpbCl7aWYoIWZhaWwpe2ZhaWw9ZGVmYXVsdEZhaWw7fQppZihudWxsPT0kZmguY2xvdWRfcHJvcHMpe3JldHVybiBmYWlsKCdmaF9ub3RfcmVhZHknLHt9KTt9CnZhciByZXE9e307aWYoIW9wdHMucG9saWN5SWQpe3JldHVybiBmYWlsKCdhdXRoX25vX3BvbGljeUlkJyx7fSk7fQppZighb3B0cy5jbGllbnRUb2tlbil7cmV0dXJuIGZhaWwoJ2F1dGhfbm9fY2xpZW50VG9rZW4nLHt9KTt9CnJlcS5wb2xpY3lJZD1vcHRzLnBvbGljeUlkO3JlcS5jbGllbnRUb2tlbj1vcHRzLmNsaWVudFRva2VuO2lmKG9wdHMuZW5kUmVkaXJlY3RVcmwpe3JlcS5lbmRSZWRpcmVjdFVybD1vcHRzLmVuZFJlZGlyZWN0VXJsO2lmKG9wdHMuYXV0aENhbGxiYWNrKXtyZXEuZW5kUmVkaXJlY3RVcmwrPSgvXD8vLnRlc3QocmVxLmVuZFJlZGlyZWN0VXJsKT8iJiI6Ij8iKSsiX2ZoQXV0aENhbGxiYWNrPSIrb3B0cy5hdXRoQ2FsbGJhY2s7fX0KcmVxLnBhcmFtcz17fTtpZihvcHRzLnBhcmFtcyl7cmVxLnBhcmFtcz1vcHRzLnBhcmFtczt9CnZhciBlbmR1cmw9b3B0cy5lbmRSZWRpcmVjdFVybHx8InN0YXR1cz1jb21wbGV0ZSI7cmVxLmRldmljZT1nZXREZXZpY2VJZCgpO3ZhciBwYXRoPSRmaC5hcHBfcHJvcHMuaG9zdCskZmguYm94cHJlZml4KyJhZG1pbi9hdXRocG9saWN5L2F1dGgiO3JlcT1fYWRkRmhQYXJhbXMocmVxKTskZmguX19hamF4KHsidXJsIjpwYXRoLCJ0eXBlIjoiUE9TVCIsImRhdGEiOkpTT04uc3RyaW5naWZ5KHJlcSksImNvbnRlbnRUeXBlIjoiYXBwbGljYXRpb24vanNvbiIsInRpbWVvdXQiOm9wdHMudGltZW91dHx8JGZoLmFwcF9wcm9wcy50aW1lb3V0fHwkZmguZmhfdGltZW91dCxzdWNjZXNzOmZ1bmN0aW9uKHJlcyl7JGZoLl9oYW5kbGVBdXRoUmVzcG9uc2UoZW5kdXJsLHJlcyxzdWNjZXNzLGZhaWwpO30sZXJyb3I6ZnVuY3Rpb24ocmVxLHN0YXR1c1RleHQsZXJyb3Ipe19oYW5kbGVFcnJvcihmYWlsLHJlcSxzdGF0dXNUZXh0KTt9fSk7fTt9KSh0aGlzKTskZmg9JGZofHx7fTskZmguc3luYz0oZnVuY3Rpb24oKXt2YXIgc2VsZj17ZGVmYXVsdHM6eyJzeW5jX2ZyZXF1ZW5jeSI6MTAsImF1dG9fc3luY19sb2NhbF91cGRhdGVzIjp0cnVlLCJub3RpZnlfY2xpZW50X3N0b3JhZ2VfZmFpbGVkIjp0cnVlLCJub3RpZnlfc3luY19zdGFydGVkIjp0cnVlLCJub3RpZnlfc3luY19jb21wbGV0ZSI6dHJ1ZSwibm90aWZ5X29mZmxpbmVfdXBkYXRlIjp0cnVlLCJub3RpZnlfY29sbGlzaW9uX2RldGVjdGVkIjp0cnVlLCJub3RpZnlfcmVtb3RlX3VwZGF0ZV9mYWlsZWQiOnRydWUsIm5vdGlmeV9sb2NhbF91cGRhdGVfYXBwbGllZCI6dHJ1ZSwibm90aWZ5X3JlbW90ZV91cGRhdGVfYXBwbGllZCI6dHJ1ZSwibm90aWZ5X2RlbHRhX3JlY2VpdmVkIjp0cnVlLCJub3RpZnlfc3luY19mYWlsZWQiOnRydWUsImRvX2NvbnNvbGVfbG9nIjpmYWxzZSwiY3Jhc2hlZF9jb3VudF93YWl0IjoxMCwicmVzZW5kX2NyYXNoZWRfdXBkYXRlcyI6dHJ1ZX0sbm90aWZpY2F0aW9uczp7IkNMSUVOVF9TVE9SQUdFX0ZBSUxFRCI6ImNsaWVudF9zdG9yYWdlX2ZhaWxlZCIsIlNZTkNfU1RBUlRFRCI6InN5bmNfc3RhcnRlZCIsIlNZTkNfQ09NUExFVEUiOiJzeW5jX2NvbXBsZXRlIiwiT0ZGTElORV9VUERBVEUiOiJvZmZsaW5lX3VwZGF0ZSIsIkNPTExJU0lPTl9ERVRFQ1RFRCI6ImNvbGxpc2lvbl9kZXRlY3RlZCIsIlJFTU9URV9VUERBVEVfRkFJTEVEIjoicmVtb3RlX3VwZGF0ZV9mYWlsZWQiLCJSRU1PVEVfVVBEQVRFX0FQUExJRUQiOiJyZW1vdGVfdXBkYXRlX2FwcGxpZWQiLCJMT0NBTF9VUERBVEVfQVBQTElFRCI6ImxvY2FsX3VwZGF0ZV9hcHBsaWVkIiwiREVMVEFfUkVDRUlWRUQiOiJkZWx0YV9yZWNlaXZlZCIsIlNZTkNfRkFJTEVEIjoic3luY19mYWlsZWQifSxkYXRhc2V0czp7fSxjb25maWc6dW5kZWZpbmVkLG5vdGlmeV9jYWxsYmFjazp1bmRlZmluZWQsaW5pdDpmdW5jdGlvbihvcHRpb25zKXtzZWxmLmNvbnNvbGVMb2coJ3N5bmMgLSBpbml0IGNhbGxlZCcpO3NlbGYuY29uZmlnPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2VsZi5kZWZhdWx0cykpO2Zvcih2YXIgaSBpbiBvcHRpb25zKXtzZWxmLmNvbmZpZ1tpXT1vcHRpb25zW2ldO30Kc2VsZi5kYXRhc2V0TW9uaXRvcigpO30sbm90aWZ5OmZ1bmN0aW9uKGNhbGxiYWNrKXtzZWxmLm5vdGlmeV9jYWxsYmFjaz1jYWxsYmFjazt9LG1hbmFnZTpmdW5jdGlvbihkYXRhc2V0X2lkLG9wdGlvbnMscXVlcnlfcGFyYW1zKXt2YXIgZG9NYW5hZ2U9ZnVuY3Rpb24oZGF0YXNldCl7c2VsZi5jb25zb2xlTG9nKCdkb01hbmFnZSBkYXRhc2V0IDo6IGluaXRpYWxpc2VkID0gJytkYXRhc2V0LmluaXRpYWxpc2VkKyIgOjogIitkYXRhc2V0X2lkKycgOjogJytKU09OLnN0cmluZ2lmeShvcHRpb25zKSk7aWYoIXNlbGYuY29uZmlnKXtzZWxmLmNvbmZpZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlbGYuZGVmYXVsdHMpKTt9CnZhciBkYXRhc2V0Q29uZmlnPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2VsZi5jb25maWcpKTtmb3IodmFyIGsgaW4gb3B0aW9ucyl7ZGF0YXNldENvbmZpZ1trXT1vcHRpb25zW2tdO30KZGF0YXNldC5xdWVyeV9wYXJhbXM9cXVlcnlfcGFyYW1zfHx7fTtkYXRhc2V0LmNvbmZpZz1kYXRhc2V0Q29uZmlnO2RhdGFzZXQuc3luY1J1bm5pbmc9ZmFsc2U7ZGF0YXNldC5zeW5jUGVuZGluZz10cnVlO2RhdGFzZXQuaW5pdGlhbGlzZWQ9dHJ1ZTtkYXRhc2V0Lm1ldGE9e307c2VsZi5zYXZlRGF0YVNldChkYXRhc2V0X2lkKTt9O3NlbGYuZ2V0RGF0YVNldChkYXRhc2V0X2lkLGZ1bmN0aW9uKGRhdGFzZXQpe2RvTWFuYWdlKGRhdGFzZXQpO30sZnVuY3Rpb24oZXJyKXtzZWxmLmxvYWREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YXNldCl7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLG51bGwsc2VsZi5ub3RpZmljYXRpb25zLkxPQ0FMX1VQREFURV9BUFBMSUVELCJsb2FkIik7ZG9NYW5hZ2UoZGF0YXNldCk7fSxmdW5jdGlvbihlcnIpe3NlbGYuY29uc29sZUxvZygnQ3JlYXRpbmcgbmV3IGRhdGFzZXQgZm9yIGlkICcrZGF0YXNldF9pZCk7dmFyIGRhdGFzZXQ9e307ZGF0YXNldC5wZW5kaW5nPXt9O3NlbGYuZGF0YXNldHNbZGF0YXNldF9pZF09ZGF0YXNldDtkb01hbmFnZShkYXRhc2V0KTt9KTt9KTt9LGxpc3Q6ZnVuY3Rpb24oZGF0YXNldF9pZCxzdWNjZXNzLGZhaWx1cmUpe3NlbGYuZ2V0RGF0YVNldChkYXRhc2V0X2lkLGZ1bmN0aW9uKGRhdGFzZXQpe2lmKGRhdGFzZXQpe3ZhciByZXM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhc2V0LmRhdGEpKTtzdWNjZXNzKHJlcyk7fX0sZnVuY3Rpb24oY29kZSxtc2cpe2ZhaWx1cmUoY29kZSxtc2cpO30pO30sY3JlYXRlOmZ1bmN0aW9uKGRhdGFzZXRfaWQsZGF0YSxzdWNjZXNzLGZhaWx1cmUpe3NlbGYuYWRkUGVuZGluZ09iaihkYXRhc2V0X2lkLG51bGwsZGF0YSwiY3JlYXRlIixzdWNjZXNzLGZhaWx1cmUpO30scmVhZDpmdW5jdGlvbihkYXRhc2V0X2lkLHVpZCxzdWNjZXNzLGZhaWx1cmUpe3NlbGYuZ2V0RGF0YVNldChkYXRhc2V0X2lkLGZ1bmN0aW9uKGRhdGFzZXQpe3ZhciByZWM9ZGF0YXNldC5kYXRhW3VpZF07aWYoIXJlYyl7ZmFpbHVyZSgidW5rbm93bl91aWQiKTt9ZWxzZXt2YXIgcmVzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVjKSk7c3VjY2VzcyhyZXMpO319LGZ1bmN0aW9uKGNvZGUsbXNnKXtmYWlsdXJlKGNvZGUsbXNnKTt9KTt9LHVwZGF0ZTpmdW5jdGlvbihkYXRhc2V0X2lkLHVpZCxkYXRhLHN1Y2Nlc3MsZmFpbHVyZSl7c2VsZi5hZGRQZW5kaW5nT2JqKGRhdGFzZXRfaWQsdWlkLGRhdGEsInVwZGF0ZSIsc3VjY2VzcyxmYWlsdXJlKTt9LCdkZWxldGUnOmZ1bmN0aW9uKGRhdGFzZXRfaWQsdWlkLHN1Y2Nlc3MsZmFpbHVyZSl7c2VsZi5hZGRQZW5kaW5nT2JqKGRhdGFzZXRfaWQsdWlkLG51bGwsImRlbGV0ZSIsc3VjY2VzcyxmYWlsdXJlKTt9LGdldFBlbmRpbmc6ZnVuY3Rpb24oZGF0YXNldF9pZCxjYil7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YXNldCl7dmFyIHJlcztpZihkYXRhc2V0KXtyZXM9ZGF0YXNldC5wZW5kaW5nO30KY2IocmVzKTt9LGZ1bmN0aW9uKGVycixkYXRhdHNldF9pZCl7c2VsZi5Db25zb2xlTG9nKGVycik7fSk7fSxjbGVhclBlbmRpbmc6ZnVuY3Rpb24oZGF0YXNldF9pZCxjYil7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YXNldCl7ZGF0YXNldC5wZW5kaW5nPXt9O3NlbGYuc2F2ZURhdGFTZXQoZGF0YXNldF9pZCxjYik7fSk7fSxsaXN0Q29sbGlzaW9uczpmdW5jdGlvbihkYXRhc2V0X2lkLHN1Y2Nlc3MsZmFpbHVyZSl7JGZoLmFjdCh7ImFjdCI6ZGF0YXNldF9pZCwicmVxIjp7ImZuIjoibGlzdENvbGxpc2lvbnMifX0sc3VjY2VzcyxmYWlsdXJlKTt9LHJlbW92ZUNvbGxpc2lvbjpmdW5jdGlvbihkYXRhc2V0X2lkLGNvbGlzc2lvbkhhc2gsc3VjY2VzcyxmYWlsdXJlKXskZmguYWN0KHsiYWN0IjpkYXRhc2V0X2lkLCJyZXEiOnsiZm4iOiJyZW1vdmVDb2xsaXNpb24iLCJoYXNoIjpjb2xpc3Npb25IYXNofX0sc3VjY2VzcyxmYWlsdXJlKTt9LGlzT25saW5lOmZ1bmN0aW9uKGNhbGxiYWNrKXt2YXIgb25saW5lPXRydWU7aWYodHlwZW9mIG5hdmlnYXRvci5vbkxpbmUhPT0idW5kZWZpbmVkIil7b25saW5lPW5hdmlnYXRvci5vbkxpbmU7fQppZihvbmxpbmUpe2lmKHR5cGVvZiBuYXZpZ2F0b3IubmV0d29yayE9PSJ1bmRlZmluZWQiJiZ0eXBlb2YgbmF2aWdhdG9yLm5ldHdvcmsuY29ubmVjdGlvbiE9PSJ1bmRlZmluZWQiKXt2YXIgbmV0d29ya1R5cGU9bmF2aWdhdG9yLm5ldHdvcmsuY29ubmVjdGlvbi50eXBlO2lmKG5ldHdvcmtUeXBlPT09Im5vbmUifHxuZXR3b3JrVHlwZT09PW51bGwpe29ubGluZT1mYWxzZTt9fX0KcmV0dXJuIGNhbGxiYWNrKG9ubGluZSk7fSxkb05vdGlmeTpmdW5jdGlvbihkYXRhc2V0X2lkLHVpZCxjb2RlLG1lc3NhZ2Upe2lmKHNlbGYubm90aWZ5X2NhbGxiYWNrKXtpZihzZWxmLmNvbmZpZ1snbm90aWZ5XycrY29kZV0pe3ZhciBub3RpZmljYXRpb249eyJkYXRhc2V0X2lkIjpkYXRhc2V0X2lkLCJ1aWQiOnVpZCwiY29kZSI6Y29kZSwibWVzc2FnZSI6bWVzc2FnZX07c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYubm90aWZ5X2NhbGxiYWNrKG5vdGlmaWNhdGlvbik7fSwwKTt9fX0sZ2V0RGF0YVNldDpmdW5jdGlvbihkYXRhc2V0X2lkLHN1Y2Nlc3MsZmFpbHVyZSl7dmFyIGRhdGFzZXQ9c2VsZi5kYXRhc2V0c1tkYXRhc2V0X2lkXTtpZihkYXRhc2V0KXtzdWNjZXNzKGRhdGFzZXQpO31lbHNle2ZhaWx1cmUoJ3Vua25vd25fZGF0YXNldCcrZGF0YXNldF9pZCxkYXRhc2V0X2lkKTt9fSxzb3J0T2JqZWN0OmZ1bmN0aW9uKG9iamVjdCl7aWYodHlwZW9mIG9iamVjdCE9PSJvYmplY3QifHxvYmplY3Q9PT1udWxsKXtyZXR1cm4gb2JqZWN0O30KdmFyIHJlc3VsdD1bXTtPYmplY3Qua2V5cyhvYmplY3QpLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7cmVzdWx0LnB1c2goe2tleTprZXksdmFsdWU6c2VsZi5zb3J0T2JqZWN0KG9iamVjdFtrZXldKX0pO30pO3JldHVybiByZXN1bHQ7fSxzb3J0ZWRTdHJpbmdpZnk6ZnVuY3Rpb24ob2JqKXt2YXIgc3RyPScnO3RyeXtzdHI9SlNPTi5zdHJpbmdpZnkoc2VsZi5zb3J0T2JqZWN0KG9iaikpO31jYXRjaChlKXtjb25zb2xlLmVycm9yKCdFcnJvciBzdHJpbmdpZnlpbmcgc29ydGVkIG9iamVjdDonK2UpO30KcmV0dXJuIHN0cjt9LGdlbmVyYXRlSGFzaDpmdW5jdGlvbihvYmplY3Qpe3ZhciBoYXNoPUNyeXB0b0pTLlNIQTEoc2VsZi5zb3J0ZWRTdHJpbmdpZnkob2JqZWN0KSk7cmV0dXJuIGhhc2gudG9TdHJpbmcoKTt9LGFkZFBlbmRpbmdPYmo6ZnVuY3Rpb24oZGF0YXNldF9pZCx1aWQsZGF0YSxhY3Rpb24sc3VjY2VzcyxmYWlsdXJlKXtzZWxmLmlzT25saW5lKGZ1bmN0aW9uKG9ubGluZSl7aWYoIW9ubGluZSl7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLHVpZCxzZWxmLm5vdGlmaWNhdGlvbnMuT0ZGTElORV9VUERBVEUsYWN0aW9uKTt9fSk7ZnVuY3Rpb24gc3RvcmVQZW5kaW5nT2JqZWN0KG9iail7b2JqLmhhc2g9c2VsZi5nZW5lcmF0ZUhhc2gob2JqKTtzZWxmLmdldERhdGFTZXQoZGF0YXNldF9pZCxmdW5jdGlvbihkYXRhc2V0KXtkYXRhc2V0LnBlbmRpbmdbb2JqLmhhc2hdPW9iajtzZWxmLnVwZGF0ZURhdGFzZXRGcm9tTG9jYWwoZGF0YXNldCxvYmopO2lmKHNlbGYuY29uZmlnLmF1dG9fc3luY19sb2NhbF91cGRhdGVzKXtkYXRhc2V0LnN5bmNQZW5kaW5nPXRydWU7fQpzZWxmLnNhdmVEYXRhU2V0KGRhdGFzZXRfaWQpO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCx1aWQsc2VsZi5ub3RpZmljYXRpb25zLkxPQ0FMX1VQREFURV9BUFBMSUVELGFjdGlvbik7c3VjY2VzcyhvYmopO30sZnVuY3Rpb24oY29kZSxtc2cpe2ZhaWx1cmUoY29kZSxtc2cpO30pO30KdmFyIHBlbmRpbmdPYmo9e307cGVuZGluZ09iai5pbkZsaWdodD1mYWxzZTtwZW5kaW5nT2JqLmFjdGlvbj1hY3Rpb247cGVuZGluZ09iai5wb3N0PWRhdGE7cGVuZGluZ09iai5wb3N0SGFzaD1zZWxmLmdlbmVyYXRlSGFzaChwZW5kaW5nT2JqLnBvc3QpO3BlbmRpbmdPYmoudGltZXN0YW1wPW5ldyBEYXRlKCkuZ2V0VGltZSgpO2lmKCJjcmVhdGUiPT09YWN0aW9uKXtwZW5kaW5nT2JqLnVpZD1wZW5kaW5nT2JqLnBvc3RIYXNoO3N0b3JlUGVuZGluZ09iamVjdChwZW5kaW5nT2JqKTt9ZWxzZXtzZWxmLnJlYWQoZGF0YXNldF9pZCx1aWQsZnVuY3Rpb24ocmVjKXtwZW5kaW5nT2JqLnVpZD11aWQ7cGVuZGluZ09iai5wcmU9cmVjLmRhdGE7cGVuZGluZ09iai5wcmVIYXNoPXNlbGYuZ2VuZXJhdGVIYXNoKHJlYy5kYXRhKTtzdG9yZVBlbmRpbmdPYmplY3QocGVuZGluZ09iaik7fSxmdW5jdGlvbihjb2RlLG1zZyl7ZmFpbHVyZShjb2RlLG1zZyk7fSk7fX0sc3luY0xvb3A6ZnVuY3Rpb24oZGF0YXNldF9pZCl7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YVNldCl7ZGF0YVNldC5zeW5jUGVuZGluZz1mYWxzZTtkYXRhU2V0LnN5bmNSdW5uaW5nPXRydWU7ZGF0YVNldC5zeW5jTG9vcFN0YXJ0PW5ldyBEYXRlKCkuZ2V0VGltZSgpO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxudWxsLHNlbGYubm90aWZpY2F0aW9ucy5TWU5DX1NUQVJURUQsbnVsbCk7c2VsZi5pc09ubGluZShmdW5jdGlvbihvbmxpbmUpe2lmKCFvbmxpbmUpe3NlbGYuc3luY0NvbXBsZXRlKGRhdGFzZXRfaWQsIm9mZmxpbmUiKTt9ZWxzZXt2YXIgc3luY0xvb3BQYXJhbXM9e307c3luY0xvb3BQYXJhbXMuZm49J3N5bmMnO3N5bmNMb29wUGFyYW1zLmRhdGFzZXRfaWQ9ZGF0YXNldF9pZDtzeW5jTG9vcFBhcmFtcy5xdWVyeV9wYXJhbXM9ZGF0YVNldC5xdWVyeV9wYXJhbXM7c3luY0xvb3BQYXJhbXMuZGF0YXNldF9oYXNoPWRhdGFTZXQuaGFzaDtzeW5jTG9vcFBhcmFtcy5hY2tub3dsZWRnZW1lbnRzPWRhdGFTZXQuYWNrbm93bGVkZ2VtZW50c3x8W107dmFyIHBlbmRpbmc9ZGF0YVNldC5wZW5kaW5nO3ZhciBwZW5kaW5nQXJyYXk9W107Zm9yKHZhciBpIGluIHBlbmRpbmcpe2lmKCFwZW5kaW5nW2ldLmluRmxpZ2h0JiYhcGVuZGluZ1tpXS5jcmFzaGVkKXtwZW5kaW5nW2ldLmluRmxpZ2h0PXRydWU7cGVuZGluZ1tpXS5pbkZsaWdodERhdGU9bmV3IERhdGUoKS5nZXRUaW1lKCk7cGVuZGluZ0FycmF5LnB1c2gocGVuZGluZ1tpXSk7fX0Kc3luY0xvb3BQYXJhbXMucGVuZGluZz1wZW5kaW5nQXJyYXk7aWYocGVuZGluZ0FycmF5Lmxlbmd0aD4wKXtzZWxmLmNvbnNvbGVMb2coJ1N0YXJ0aW5nIHN5bmMgbG9vcCAtIGdsb2JhbCBoYXNoID0gJytkYXRhU2V0Lmhhc2grJyA6OiBwYXJhbXMgPSAnK0pTT04uc3RyaW5naWZ5KHN5bmNMb29wUGFyYW1zLG51bGwsMikpO30KdHJ5eyRmaC5hY3QoeydhY3QnOmRhdGFzZXRfaWQsJ3JlcSc6c3luY0xvb3BQYXJhbXN9LGZ1bmN0aW9uKHJlcyl7dmFyIHJlYztmdW5jdGlvbiBwcm9jZXNzVXBkYXRlcyh1cGRhdGVzLG5vdGlmaWNhdGlvbixhY2tub3dsZWRnZW1lbnRzKXtpZih1cGRhdGVzKXtmb3IodmFyIHVwIGluIHVwZGF0ZXMpe3JlYz11cGRhdGVzW3VwXTthY2tub3dsZWRnZW1lbnRzLnB1c2gocmVjKTtpZihkYXRhU2V0LnBlbmRpbmdbdXBdJiZkYXRhU2V0LnBlbmRpbmdbdXBdLmluRmxpZ2h0JiYhZGF0YVNldC5wZW5kaW5nW3VwXS5jcmFzaGVkKXtkZWxldGUgZGF0YVNldC5wZW5kaW5nW3VwXTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQscmVjLnVpZCxub3RpZmljYXRpb24scmVjKTt9fX19CnNlbGYudXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhKGRhdGFzZXRfaWQsZGF0YVNldCxyZXMpO3NlbGYudXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEoZGF0YXNldF9pZCxkYXRhU2V0LHJlcyk7c2VsZi51cGRhdGVOZXdEYXRhRnJvbUluRmxpZ2h0KGRhdGFzZXRfaWQsZGF0YVNldCxyZXMpO3NlbGYudXBkYXRlTmV3RGF0YUZyb21QZW5kaW5nKGRhdGFzZXRfaWQsZGF0YVNldCxyZXMpO2lmKHJlcy5yZWNvcmRzKXtkYXRhU2V0LmRhdGE9cmVzLnJlY29yZHM7ZGF0YVNldC5oYXNoPXJlcy5oYXNoO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxyZXMuaGFzaCxzZWxmLm5vdGlmaWNhdGlvbnMuREVMVEFfUkVDRUlWRUQsJ2Z1bGwgZGF0YXNldCcpO30KaWYocmVzLnVwZGF0ZXMpe3ZhciBhY2tub3dsZWRnZW1lbnRzPVtdO3Byb2Nlc3NVcGRhdGVzKHJlcy51cGRhdGVzLmFwcGxpZWQsc2VsZi5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfQVBQTElFRCxhY2tub3dsZWRnZW1lbnRzKTtwcm9jZXNzVXBkYXRlcyhyZXMudXBkYXRlcy5mYWlsZWQsc2VsZi5ub3RpZmljYXRpb25zLlJFTU9URV9VUERBVEVfRkFJTEVELGFja25vd2xlZGdlbWVudHMpO3Byb2Nlc3NVcGRhdGVzKHJlcy51cGRhdGVzLmNvbGxpc2lvbnMsc2VsZi5ub3RpZmljYXRpb25zLkNPTExJU0lPTl9ERVRFQ1RFRCxhY2tub3dsZWRnZW1lbnRzKTtkYXRhU2V0LmFja25vd2xlZGdlbWVudHM9YWNrbm93bGVkZ2VtZW50czt9CmVsc2UgaWYocmVzLmhhc2gmJnJlcy5oYXNoIT09ZGF0YVNldC5oYXNoKXtzZWxmLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgc3RhbGUgLSBzeW5jaW5nIHJlY29yZHMgOjogbG9jYWwgaGFzaD0gIitkYXRhU2V0Lmhhc2grIiAtIHJlbW90ZUhhc2g9IityZXMuaGFzaCk7c2VsZi5zeW5jUmVjb3JkcyhkYXRhc2V0X2lkKTt9ZWxzZXtzZWxmLmNvbnNvbGVMb2coIkxvY2FsIGRhdGFzZXQgdXAgdG8gZGF0ZSIpO30Kc2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCwib25saW5lIik7fSxmdW5jdGlvbihtc2csZXJyKXtzZWxmLm1hcmtJbkZsaWdodEFzQ3Jhc2hlZChkYXRhU2V0KTtzZWxmLmNvbnNvbGVMb2coInN5bmNMb29wIGZhaWxlZCA6IG1zZz0iK21zZysiIDo6IGVyciA9ICIrZXJyKTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsbnVsbCxzZWxmLm5vdGlmaWNhdGlvbnMuU1lOQ19GQUlMRUQsbXNnKTtzZWxmLnN5bmNDb21wbGV0ZShkYXRhc2V0X2lkLG1zZyk7fSk7fQpjYXRjaChlKXtzZWxmLmNvbnNvbGVMb2coJ0Vycm9yIHBlcmZvcm1pbmcgc3luYyAtICcrZSk7c2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCxlKTt9fX0pO30pO30sc3luY1JlY29yZHM6ZnVuY3Rpb24oZGF0YXNldF9pZCl7c2VsZi5nZXREYXRhU2V0KGRhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YVNldCl7dmFyIGxvY2FsRGF0YVNldD1kYXRhU2V0LmRhdGF8fHt9O3ZhciBjbGllbnRSZWNzPXt9O2Zvcih2YXIgaSBpbiBsb2NhbERhdGFTZXQpe3ZhciB1aWQ9aTt2YXIgaGFzaD1sb2NhbERhdGFTZXRbaV0uaGFzaDtjbGllbnRSZWNzW3VpZF09aGFzaDt9CnZhciBzeW5jUmVjUGFyYW1zPXt9O3N5bmNSZWNQYXJhbXMuZm49J3N5bmNSZWNvcmRzJztzeW5jUmVjUGFyYW1zLmRhdGFzZXRfaWQ9ZGF0YXNldF9pZDtzeW5jUmVjUGFyYW1zLnF1ZXJ5X3BhcmFtcz1kYXRhU2V0LnF1ZXJ5X3BhcmFtcztzeW5jUmVjUGFyYW1zLmNsaWVudFJlY3M9Y2xpZW50UmVjcztzZWxmLmNvbnNvbGVMb2coInN5bmNSZWNQYXJhbXMgOjogIitKU09OLnN0cmluZ2lmeShzeW5jUmVjUGFyYW1zKSk7JGZoLmFjdCh7J2FjdCc6ZGF0YXNldF9pZCwncmVxJzpzeW5jUmVjUGFyYW1zfSxmdW5jdGlvbihyZXMpe3ZhciBpO2lmKHJlcy5jcmVhdGUpe2ZvcihpIGluIHJlcy5jcmVhdGUpe2xvY2FsRGF0YVNldFtpXT17Imhhc2giOnJlcy5jcmVhdGVbaV0uaGFzaCwiZGF0YSI6cmVzLmNyZWF0ZVtpXS5kYXRhfTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsaSxzZWxmLm5vdGlmaWNhdGlvbnMuREVMVEFfUkVDRUlWRUQsImNyZWF0ZSIpO319CmlmKHJlcy51cGRhdGUpe2ZvcihpIGluIHJlcy51cGRhdGUpe2xvY2FsRGF0YVNldFtpXS5oYXNoPXJlcy51cGRhdGVbaV0uaGFzaDtsb2NhbERhdGFTZXRbaV0uZGF0YT1yZXMudXBkYXRlW2ldLmRhdGE7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLGksc2VsZi5ub3RpZmljYXRpb25zLkRFTFRBX1JFQ0VJVkVELCJ1cGRhdGUiKTt9fQppZihyZXNbJ2RlbGV0ZSddKXtmb3IoaSBpbiByZXNbJ2RlbGV0ZSddKXtkZWxldGUgbG9jYWxEYXRhU2V0W2ldO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxpLHNlbGYubm90aWZpY2F0aW9ucy5ERUxUQV9SRUNFSVZFRCwiZGVsZXRlIik7fX0KZGF0YVNldC5kYXRhPWxvY2FsRGF0YVNldDtpZihyZXMuaGFzaCl7ZGF0YVNldC5oYXNoPXJlcy5oYXNoO30Kc2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCwib25saW5lIik7fSxmdW5jdGlvbihtc2csZXJyKXtzZWxmLmNvbnNvbGVMb2coInN5bmNSZWNvcmRzIGZhaWxlZCA6IG1zZz0iK21zZysiIDo6IGVycj0iK2Vycik7c2VsZi5zeW5jQ29tcGxldGUoZGF0YXNldF9pZCxtc2cpO30pO30pO30sc3luY0NvbXBsZXRlOmZ1bmN0aW9uKGRhdGFzZXRfaWQsc3RhdHVzKXtzZWxmLmdldERhdGFTZXQoZGF0YXNldF9pZCxmdW5jdGlvbihkYXRhc2V0KXtkYXRhc2V0LnN5bmNSdW5uaW5nPWZhbHNlO2RhdGFzZXQuc3luY0xvb3BFbmQ9bmV3IERhdGUoKS5nZXRUaW1lKCk7c2VsZi5zYXZlRGF0YVNldChkYXRhc2V0X2lkKTtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsZGF0YXNldC5oYXNoLHNlbGYubm90aWZpY2F0aW9ucy5TWU5DX0NPTVBMRVRFLHN0YXR1cyk7fSk7fSxjaGVja0RhdGFzZXRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBkYXRhc2V0X2lkIGluIHNlbGYuZGF0YXNldHMpe2lmKHNlbGYuZGF0YXNldHMuaGFzT3duUHJvcGVydHkoZGF0YXNldF9pZCkpe3ZhciBkYXRhc2V0PXNlbGYuZGF0YXNldHNbZGF0YXNldF9pZF07aWYoIWRhdGFzZXQuc3luY1J1bm5pbmcpe3ZhciBsYXN0U3luY1N0YXJ0PWRhdGFzZXQuc3luY0xvb3BTdGFydDt2YXIgbGFzdFN5bmNDbXA9ZGF0YXNldC5zeW5jTG9vcEVuZDtpZihsYXN0U3luY1N0YXJ0PT1udWxsKXtzZWxmLmNvbnNvbGVMb2coZGF0YXNldF9pZCsnIC0gUGVyZm9ybWluZyBpbml0aWFsIHN5bmMnKTtkYXRhc2V0LnN5bmNQZW5kaW5nPXRydWU7fWVsc2UgaWYobGFzdFN5bmNDbXAhPW51bGwpe3ZhciB0aW1lU2luY2VMYXN0U3luYz1uZXcgRGF0ZSgpLmdldFRpbWUoKS1sYXN0U3luY0NtcDt2YXIgc3luY0ZyZXF1ZW5jeT1kYXRhc2V0LmNvbmZpZy5zeW5jX2ZyZXF1ZW5jeSoxMDAwO2lmKHRpbWVTaW5jZUxhc3RTeW5jPnN5bmNGcmVxdWVuY3kpe2RhdGFzZXQuc3luY1BlbmRpbmc9dHJ1ZTt9fQppZihkYXRhc2V0LnN5bmNQZW5kaW5nKXtzZWxmLnN5bmNMb29wKGRhdGFzZXRfaWQpO319fX19LGRhdGFzZXRNb25pdG9yOmZ1bmN0aW9uKCl7c2VsZi5jaGVja0RhdGFzZXRzKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYuZGF0YXNldE1vbml0b3IoKTt9LDUwMCk7fSxzYXZlRGF0YVNldDpmdW5jdGlvbihkYXRhc2V0X2lkLGNiKXt2YXIgb25GYWlsPWZ1bmN0aW9uKG1zZyxlcnIpe3ZhciBlcnJNc2c9J3NhdmUgdG8gbG9jYWwgc3RvcmFnZSBmYWlsZWQgIG1zZzonK21zZysnIGVycjonK2VycjtzZWxmLmRvTm90aWZ5KGRhdGFzZXRfaWQsbnVsbCxzZWxmLm5vdGlmaWNhdGlvbnMuQ0xJRU5UX1NUT1JBR0VfRkFJTEVELGVyck1zZyk7c2VsZi5jb25zb2xlTG9nKGVyck1zZyk7fTtzZWxmLmdldERhdGFTZXQoZGF0YXNldF9pZCxmdW5jdGlvbihkYXRhc2V0KXtMYXduY2hhaXIoe2ZhaWw6b25GYWlsfSxmdW5jdGlvbigpe3RoaXMuc2F2ZSh7a2V5OiJkYXRhc2V0XyIrZGF0YXNldF9pZCx2YWw6SlNPTi5zdHJpbmdpZnkoZGF0YXNldCl9LGZ1bmN0aW9uKCl7aWYoY2Ipe2NiKCk7fX0pO30pO30pO30sbG9hZERhdGFTZXQ6ZnVuY3Rpb24oZGF0YXNldF9pZCxzdWNjZXNzLGZhaWx1cmUpe3ZhciBvbkZhaWw9ZnVuY3Rpb24obXNnLGVycil7dmFyIGVyck1zZz0nbG9hZCBmcm9tIGxvY2FsIHN0b3JhZ2UgZmFpbGVkICBtc2c6Jyttc2c7c2VsZi5kb05vdGlmeShkYXRhc2V0X2lkLG51bGwsc2VsZi5ub3RpZmljYXRpb25zLkNMSUVOVF9TVE9SQUdFX0ZBSUxFRCxlcnJNc2cpO3NlbGYuY29uc29sZUxvZyhlcnJNc2cpO307TGF3bmNoYWlyKHtmYWlsOm9uRmFpbH0sZnVuY3Rpb24oKXt0aGlzLmdldCgiZGF0YXNldF8iK2RhdGFzZXRfaWQsZnVuY3Rpb24oZGF0YSl7aWYoZGF0YSYmZGF0YS52YWwhPT1udWxsKXt2YXIgZGF0YXNldD1KU09OLnBhcnNlKGRhdGEudmFsKTtkYXRhc2V0LmluaXRpYWxpc2VkPWZhbHNlO3NlbGYuZGF0YXNldHNbZGF0YXNldF9pZF09ZGF0YXNldDtzZWxmLmNvbnNvbGVMb2coJ2xvYWQgZnJvbSBsb2NhbCBzdG9yYWdlIHN1Y2Nlc3MgZm9yIGRhdGFzZXRfaWQgOicrZGF0YXNldF9pZCk7cmV0dXJuIHN1Y2Nlc3MoZGF0YXNldCk7fWVsc2V7cmV0dXJuIGZhaWx1cmUoKTt9fSk7fSk7fSx1cGRhdGVEYXRhc2V0RnJvbUxvY2FsOmZ1bmN0aW9uKGRhdGFzZXQscGVuZGluZ1JlYyl7dmFyIHBlbmRpbmc9ZGF0YXNldC5wZW5kaW5nO3ZhciBwcmV2aW91c1BlbmRpbmdVaWQ7dmFyIHByZXZpb3VzUGVuZGluZzt2YXIgdWlkPXBlbmRpbmdSZWMudWlkO3NlbGYuY29uc29sZUxvZygndXBkYXRpbmcgbG9jYWwgZGF0YXNldCBmb3IgdWlkICcrdWlkKycgLSBhY3Rpb24gPSAnK3BlbmRpbmdSZWMuYWN0aW9uKTtkYXRhc2V0Lm1ldGFbdWlkXT1kYXRhc2V0Lm1ldGFbdWlkXXx8e307aWYocGVuZGluZ1JlYy5hY3Rpb249PT0iY3JlYXRlIil7aWYoZGF0YXNldC5kYXRhW3VpZF0pe3NlbGYuY29uc29sZUxvZygnZGF0YXNldCBhbHJlYWR5IGV4aXN0cyBmb3IgdWlkIGluIGNyZWF0ZSA6OiAnK0pTT04uc3RyaW5naWZ5KGRhdGFzZXQuZGF0YVt1aWRdKSk7aWYoZGF0YXNldC5tZXRhW3VpZF0uZnJvbVBlbmRpbmcpe3ByZXZpb3VzUGVuZGluZ1VpZD1kYXRhc2V0Lm1ldGFbdWlkXS5wZW5kaW5nVWlkO2RlbGV0ZSBwZW5kaW5nW3ByZXZpb3VzUGVuZGluZ1VpZF07fX0KZGF0YXNldC5kYXRhW3VpZF09e307fQppZihwZW5kaW5nUmVjLmFjdGlvbj09PSJ1cGRhdGUiKXtpZihkYXRhc2V0LmRhdGFbdWlkXSl7aWYoZGF0YXNldC5tZXRhW3VpZF0uZnJvbVBlbmRpbmcpe3NlbGYuY29uc29sZUxvZygndXBkYXRpbmcgYW4gZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgZm9yIGRhdGFzZXQgOjogJytKU09OLnN0cmluZ2lmeShkYXRhc2V0LmRhdGFbdWlkXSkpO3ByZXZpb3VzUGVuZGluZ1VpZD1kYXRhc2V0Lm1ldGFbdWlkXS5wZW5kaW5nVWlkO2RhdGFzZXQubWV0YVt1aWRdLnByZXZpb3VzUGVuZGluZ1VpZD1wcmV2aW91c1BlbmRpbmdVaWQ7cHJldmlvdXNQZW5kaW5nPXBlbmRpbmdbcHJldmlvdXNQZW5kaW5nVWlkXTtpZihwcmV2aW91c1BlbmRpbmcmJiFwcmV2aW91c1BlbmRpbmcuaW5GbGlnaHQpe3NlbGYuY29uc29sZUxvZygnZXhpc3RpbmcgcHJlLWZsaWdodCBwZW5kaW5nIHJlY29yZCA9ICcrSlNPTi5zdHJpbmdpZnkocHJldmlvdXNQZW5kaW5nKSk7cHJldmlvdXNQZW5kaW5nLnBvc3Q9cGVuZGluZ1JlYy5wb3N0O3ByZXZpb3VzUGVuZGluZy5wb3N0SGFzaD1wZW5kaW5nUmVjLnBvc3RIYXNoO2RlbGV0ZSBwZW5kaW5nW3BlbmRpbmdSZWMuaGFzaF07fX19fQppZihwZW5kaW5nUmVjLmFjdGlvbj09PSJkZWxldGUiKXtpZihkYXRhc2V0LmRhdGFbdWlkXSl7aWYoZGF0YXNldC5tZXRhW3VpZF0uZnJvbVBlbmRpbmcpe3NlbGYuY29uc29sZUxvZygnRGVsZXRpbmcgYW4gZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgZm9yIGRhdGFzZXQgOjogJytKU09OLnN0cmluZ2lmeShkYXRhc2V0LmRhdGFbdWlkXSkpO3ByZXZpb3VzUGVuZGluZ1VpZD1kYXRhc2V0Lm1ldGFbdWlkXS5wZW5kaW5nVWlkO2RhdGFzZXQubWV0YVt1aWRdLnByZXZpb3VzUGVuZGluZ1VpZD1wcmV2aW91c1BlbmRpbmdVaWQ7cHJldmlvdXNQZW5kaW5nPXBlbmRpbmdbcHJldmlvdXNQZW5kaW5nVWlkXTtpZihwcmV2aW91c1BlbmRpbmcmJiFwcmV2aW91c1BlbmRpbmcuaW5GbGlnaHQpe3NlbGYuY29uc29sZUxvZygnZXhpc3RpbmcgcGVuZGluZyByZWNvcmQgPSAnK0pTT04uc3RyaW5naWZ5KHByZXZpb3VzUGVuZGluZykpO2lmKHByZXZpb3VzUGVuZGluZy5hY3Rpb249PT0iY3JlYXRlIil7ZGVsZXRlIHBlbmRpbmdbcGVuZGluZ1JlYy5oYXNoXTtkZWxldGUgcGVuZGluZ1twcmV2aW91c1BlbmRpbmdVaWRdO30KaWYocHJldmlvdXNQZW5kaW5nLmFjdGlvbj09PSJ1cGRhdGUiKXtwZW5kaW5nUmVjLnByZT1wcmV2aW91c1BlbmRpbmcucHJlO3BlbmRpbmdSZWMucHJlSGFzaD1wcmV2aW91c1BlbmRpbmcucHJlSGFzaDtwZW5kaW5nUmVjLmluRmxpZ2h0PWZhbHNlO2RlbGV0ZSBwZW5kaW5nW3ByZXZpb3VzUGVuZGluZ1VpZF07fX19CmRlbGV0ZSBkYXRhc2V0LmRhdGFbdWlkXTt9fQppZihkYXRhc2V0LmRhdGFbdWlkXSl7ZGF0YXNldC5kYXRhW3VpZF0uZGF0YT1wZW5kaW5nUmVjLnBvc3Q7ZGF0YXNldC5kYXRhW3VpZF0uaGFzaD1wZW5kaW5nUmVjLnBvc3RIYXNoO2RhdGFzZXQubWV0YVt1aWRdLmZyb21QZW5kaW5nPXRydWU7ZGF0YXNldC5tZXRhW3VpZF0ucGVuZGluZ1VpZD1wZW5kaW5nUmVjLmhhc2g7fX0sdXBkYXRlUGVuZGluZ0Zyb21OZXdEYXRhOmZ1bmN0aW9uKGRhdGFzZXRfaWQsZGF0YXNldCxuZXdEYXRhKXt2YXIgcGVuZGluZz1kYXRhc2V0LnBlbmRpbmc7dmFyIG5ld1JlYztpZihwZW5kaW5nJiZuZXdEYXRhLnJlY29yZHMpe2Zvcih2YXIgcGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3ZhciBwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2RhdGFzZXQubWV0YVtwZW5kaW5nUmVjLnVpZF09ZGF0YXNldC5tZXRhW3BlbmRpbmdSZWMudWlkXXx8e307aWYocGVuZGluZ1JlYy5pbkZsaWdodD09PWZhbHNlKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIEZvdW5kIE5vbiBpbkZsaWdodCByZWNvcmQgLT4gYWN0aW9uPScrcGVuZGluZ1JlYy5hY3Rpb24rJyA6OiB1aWQ9JytwZW5kaW5nUmVjLnVpZCsnIDo6IGhhc2g9JytwZW5kaW5nUmVjLmhhc2gpO2lmKHBlbmRpbmdSZWMuYWN0aW9uPT09InVwZGF0ZSJ8fHBlbmRpbmdSZWMuYWN0aW9uPT09ImRlbGV0ZSIpe25ld1JlYz1uZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdO2lmKG5ld1JlYyl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVQZW5kaW5nRnJvbU5ld0RhdGEgLSBVcGRhdGluZyBwcmUgdmFsdWVzIGZvciBleGlzdGluZyBwZW5kaW5nIHJlY29yZCAnK3BlbmRpbmdSZWMudWlkKTtwZW5kaW5nUmVjLnByZT1uZXdSZWMuZGF0YTtwZW5kaW5nUmVjLnByZUhhc2g9bmV3UmVjLmhhc2g7fQplbHNle3ZhciBwcmV2aW91c1BlbmRpbmdVaWQ9ZGF0YXNldC5tZXRhW3BlbmRpbmdSZWMudWlkXS5wcmV2aW91c1BlbmRpbmdVaWQ7dmFyIHByZXZpb3VzUGVuZGluZz1wZW5kaW5nW3ByZXZpb3VzUGVuZGluZ1VpZF07aWYocHJldmlvdXNQZW5kaW5nKXtpZihuZXdEYXRhJiZuZXdEYXRhLnVwZGF0ZXMmJm5ld0RhdGEudXBkYXRlcy5hcHBsaWVkJiZuZXdEYXRhLnVwZGF0ZXMuYXBwbGllZFtwcmV2aW91c1BlbmRpbmcuaGFzaF0pe3ZhciBuZXdVaWQ9bmV3RGF0YS51cGRhdGVzLmFwcGxpZWRbcHJldmlvdXNQZW5kaW5nLmhhc2hdLnVpZDtuZXdSZWM9bmV3RGF0YS5yZWNvcmRzW25ld1VpZF07aWYobmV3UmVjKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIFVwZGF0aW5nIHByZSB2YWx1ZXMgZm9yIGV4aXN0aW5nIHBlbmRpbmcgcmVjb3JkIHdoaWNoIHdhcyBwcmV2aW91c2x5IGEgY3JlYXRlICcrcGVuZGluZ1JlYy51aWQrJyA9PT4gJytuZXdVaWQpO3BlbmRpbmdSZWMucHJlPW5ld1JlYy5kYXRhO3BlbmRpbmdSZWMucHJlSGFzaD1uZXdSZWMuaGFzaDtwZW5kaW5nUmVjLnVpZD1uZXdVaWQ7fX19fX0KaWYocGVuZGluZ1JlYy5hY3Rpb249PT0iY3JlYXRlIil7aWYobmV3RGF0YSYmbmV3RGF0YS51cGRhdGVzJiZuZXdEYXRhLnVwZGF0ZXMuYXBwbGllZCYmbmV3RGF0YS51cGRhdGVzLmFwcGxpZWRbcGVuZGluZ0hhc2hdKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIEZvdW5kIGFuIHVwZGF0ZSBmb3IgYSBwZW5kaW5nIGNyZWF0ZSAnK0pTT04uc3RyaW5naWZ5KG5ld0RhdGEudXBkYXRlcy5hcHBsaWVkW3BlbmRpbmdIYXNoXSkpO25ld1JlYz1uZXdEYXRhLnJlY29yZHNbbmV3RGF0YS51cGRhdGVzLmFwcGxpZWRbcGVuZGluZ0hhc2hdLnVpZF07aWYobmV3UmVjKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZVBlbmRpbmdGcm9tTmV3RGF0YSAtIENoYW5naW5nIHBlbmRpbmcgY3JlYXRlIHRvIGFuIHVwZGF0ZSBiYXNlZCBvbiBuZXcgcmVjb3JkICAnK0pTT04uc3RyaW5naWZ5KG5ld1JlYykpO3BlbmRpbmdSZWMuYWN0aW9uPSJ1cGRhdGUiO3BlbmRpbmdSZWMucHJlPW5ld1JlYy5kYXRhO3BlbmRpbmdSZWMucHJlSGFzaD1uZXdSZWMuaGFzaDtwZW5kaW5nUmVjLnVpZD1uZXdEYXRhLnVwZGF0ZXMuYXBwbGllZFtwZW5kaW5nSGFzaF0udWlkO319fX19fX19LHVwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQ6ZnVuY3Rpb24oZGF0YXNldF9pZCxkYXRhc2V0LG5ld0RhdGEpe3ZhciBwZW5kaW5nPWRhdGFzZXQucGVuZGluZztpZihwZW5kaW5nJiZuZXdEYXRhLnJlY29yZHMpe2Zvcih2YXIgcGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3ZhciBwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2lmKHBlbmRpbmdSZWMuaW5GbGlnaHQpe3ZhciB1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmc9KG5ld0RhdGEmJm5ld0RhdGEudXBkYXRlcyYmbmV3RGF0YS51cGRhdGVzLmhhc2hlcyYmbmV3RGF0YS51cGRhdGVzLmhhc2hlc1twZW5kaW5nSGFzaF0pP3RydWU6ZmFsc2U7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVOZXdEYXRhRnJvbUluRmxpZ2h0IC0gRm91bmQgaW5mbGlnaHQgcGVuZGluZyBSZWNvcmQgLSBhY3Rpb24gPSAnK3BlbmRpbmdSZWMuYWN0aW9uKycgOjogaGFzaCA9ICcrcGVuZGluZ0hhc2grJyA6OiB1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmc9Jyt1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmcpO2lmKCF1cGRhdGVSZWNlaXZlZEZvclBlbmRpbmcpe3ZhciBuZXdSZWM9bmV3RGF0YS5yZWNvcmRzW3BlbmRpbmdSZWMudWlkXTtpZihwZW5kaW5nUmVjLmFjdGlvbj09PSJ1cGRhdGUiJiZuZXdSZWMpe25ld1JlYy5kYXRhPXBlbmRpbmdSZWMucG9zdDtuZXdSZWMuaGFzaD1wZW5kaW5nUmVjLnBvc3RIYXNoO30KZWxzZSBpZihwZW5kaW5nUmVjLmFjdGlvbj09PSJkZWxldGUiJiZuZXdSZWMpe2RlbGV0ZSBuZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdO30KZWxzZSBpZihwZW5kaW5nUmVjLmFjdGlvbj09PSJjcmVhdGUiKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZU5ld0RhdGFGcm9tSW5GbGlnaHQgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQnKTt2YXIgbmV3UGVuZGluZ0NyZWF0ZT17ZGF0YTpwZW5kaW5nUmVjLnBvc3QsaGFzaDpwZW5kaW5nUmVjLnBvc3RIYXNofTtuZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdPW5ld1BlbmRpbmdDcmVhdGU7fX19fX19fSx1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmc6ZnVuY3Rpb24oZGF0YXNldF9pZCxkYXRhc2V0LG5ld0RhdGEpe3ZhciBwZW5kaW5nPWRhdGFzZXQucGVuZGluZztpZihwZW5kaW5nJiZuZXdEYXRhLnJlY29yZHMpe2Zvcih2YXIgcGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3ZhciBwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2lmKHBlbmRpbmdSZWMuaW5GbGlnaHQ9PT1mYWxzZSl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcgLSBGb3VuZCBOb24gaW5GbGlnaHQgcmVjb3JkIC0+IGFjdGlvbj0nK3BlbmRpbmdSZWMuYWN0aW9uKycgOjogdWlkPScrcGVuZGluZ1JlYy51aWQrJyA6OiBoYXNoPScrcGVuZGluZ1JlYy5oYXNoKTt2YXIgbmV3UmVjPW5ld0RhdGEucmVjb3Jkc1twZW5kaW5nUmVjLnVpZF07aWYocGVuZGluZ1JlYy5hY3Rpb249PT0idXBkYXRlIiYmbmV3UmVjKXtuZXdSZWMuZGF0YT1wZW5kaW5nUmVjLnBvc3Q7bmV3UmVjLmhhc2g9cGVuZGluZ1JlYy5wb3N0SGFzaDt9CmVsc2UgaWYocGVuZGluZ1JlYy5hY3Rpb249PT0iZGVsZXRlIiYmbmV3UmVjKXtkZWxldGUgbmV3RGF0YS5yZWNvcmRzW3BlbmRpbmdSZWMudWlkXTt9CmVsc2UgaWYocGVuZGluZ1JlYy5hY3Rpb249PT0iY3JlYXRlIil7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVOZXdEYXRhRnJvbVBlbmRpbmcgLSByZSBhZGRpbmcgcGVuZGluZyBjcmVhdGUgdG8gaW5jb21taW5nIGRhdGFzZXQnKTt2YXIgbmV3UGVuZGluZ0NyZWF0ZT17ZGF0YTpwZW5kaW5nUmVjLnBvc3QsaGFzaDpwZW5kaW5nUmVjLnBvc3RIYXNofTtuZXdEYXRhLnJlY29yZHNbcGVuZGluZ1JlYy51aWRdPW5ld1BlbmRpbmdDcmVhdGU7fX19fX19LHVwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhOmZ1bmN0aW9uKGRhdGFzZXRfaWQsZGF0YXNldCxuZXdEYXRhKXt2YXIgdXBkYXRlTm90aWZpY2F0aW9ucz17YXBwbGllZDpzZWxmLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9BUFBMSUVELGZhaWxlZDpzZWxmLm5vdGlmaWNhdGlvbnMuUkVNT1RFX1VQREFURV9GQUlMRUQsY29sbGlzaW9uczpzZWxmLm5vdGlmaWNhdGlvbnMuQ09MTElTSU9OX0RFVEVDVEVEfTt2YXIgcGVuZGluZz1kYXRhc2V0LnBlbmRpbmc7dmFyIHJlc29sdmVkQ3Jhc2hlcz17fTt2YXIgcGVuZGluZ0hhc2g7dmFyIHBlbmRpbmdSZWM7aWYocGVuZGluZyl7Zm9yKHBlbmRpbmdIYXNoIGluIHBlbmRpbmcpe2lmKHBlbmRpbmcuaGFzT3duUHJvcGVydHkocGVuZGluZ0hhc2gpKXtwZW5kaW5nUmVjPXBlbmRpbmdbcGVuZGluZ0hhc2hdO2lmKHBlbmRpbmdSZWMuaW5GbGlnaHQmJnBlbmRpbmdSZWMuY3Jhc2hlZCl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIEZvdW5kIGNyYXNoZWQgaW5GbGlnaHQgcGVuZGluZyByZWNvcmQgdWlkPScrcGVuZGluZ1JlYy51aWQrJyA6OiBoYXNoPScrcGVuZGluZ1JlYy5oYXNoKTtpZihuZXdEYXRhJiZuZXdEYXRhLnVwZGF0ZXMmJm5ld0RhdGEudXBkYXRlcy5oYXNoZXMpe3ZhciBjcmFzaGVkVXBkYXRlPW5ld0RhdGEudXBkYXRlcy5oYXNoZXNbcGVuZGluZ0hhc2hdO2lmKGNyYXNoZWRVcGRhdGUpe3Jlc29sdmVkQ3Jhc2hlc1tjcmFzaGVkVXBkYXRlLnVpZF09Y3Jhc2hlZFVwZGF0ZTtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gUmVzb2x2aW5nIHN0YXR1cyBmb3IgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCAnK0pTT04uc3RyaW5naWZ5KGNyYXNoZWRVcGRhdGUpKTtpZihjcmFzaGVkVXBkYXRlLnR5cGU9PT0nZmFpbGVkJyl7aWYoY3Jhc2hlZFVwZGF0ZS5hY3Rpb249PT0nY3JlYXRlJyl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIERlbGV0aW5nIGZhaWxlZCBjcmVhdGUgZnJvbSBkYXRhc2V0Jyk7ZGVsZXRlIGRhdGFzZXQuZGF0YVtjcmFzaGVkVXBkYXRlLnVpZF07fQplbHNlIGlmKGNyYXNoZWRVcGRhdGUuYWN0aW9uPT09J3VwZGF0ZSd8fGNyYXNoZWRVcGRhdGUuYWN0aW9uPT09J2RlbGV0ZScpe3NlbGYuY29uc29sZUxvZygndXBkYXRlQ3Jhc2hlZEluRmxpZ2h0RnJvbU5ld0RhdGEgLSBSZXZlcnRpbmcgZmFpbGVkICcrY3Jhc2hlZFVwZGF0ZS5hY3Rpb24rJyBpbiBkYXRhc2V0Jyk7ZGF0YXNldC5kYXRhW2NyYXNoZWRVcGRhdGUudWlkXT17ZGF0YTpwZW5kaW5nUmVjLnByZSxoYXNoOnBlbmRpbmdSZWMucHJlSGFzaH07fX0KZGVsZXRlIHBlbmRpbmdbcGVuZGluZ0hhc2hdO3NlbGYuZG9Ob3RpZnkoZGF0YXNldF9pZCxjcmFzaGVkVXBkYXRlLnVpZCx1cGRhdGVOb3RpZmljYXRpb25zW2NyYXNoZWRVcGRhdGUudHlwZV0sY3Jhc2hlZFVwZGF0ZSk7fQplbHNle2lmKHBlbmRpbmdSZWMuY3Jhc2hlZENvdW50KXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudCsrO30KZWxzZXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudD0xO319fQplbHNle2lmKHBlbmRpbmdSZWMuY3Jhc2hlZENvdW50KXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudCsrO30KZWxzZXtwZW5kaW5nUmVjLmNyYXNoZWRDb3VudD0xO319fX19CmZvcihwZW5kaW5nSGFzaCBpbiBwZW5kaW5nKXtpZihwZW5kaW5nLmhhc093blByb3BlcnR5KHBlbmRpbmdIYXNoKSl7cGVuZGluZ1JlYz1wZW5kaW5nW3BlbmRpbmdIYXNoXTtpZihwZW5kaW5nUmVjLmluRmxpZ2h0JiZwZW5kaW5nUmVjLmNyYXNoZWQpe2lmKHBlbmRpbmdSZWMuY3Jhc2hlZENvdW50PmRhdGFzZXQuY29uZmlnLmNyYXNoZWRfY291bnRfd2FpdCl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIENyYXNoZWQgaW5mbGlnaHQgcGVuZGluZyByZWNvcmQgaGFzIHJlYWNoZWQgY3Jhc2hlZF9jb3VudF93YWl0IGxpbWl0IDogJytKU09OLnN0cmluZ2lmeShwZW5kaW5nUmVjKSk7aWYoZGF0YXNldC5jb25maWcucmVzZW5kX2NyYXNoZWRfdXBkYXRlcyl7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIFJldHJ5aWcgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCcpO3BlbmRpbmdSZWMuY3Jhc2hlZD1mYWxzZTtwZW5kaW5nUmVjLmluRmxpZ2h0PWZhbHNlO30KZWxzZXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gRGVsZXRpbmcgY3Jhc2hlZCBpbmZsaWdodCBwZW5kaW5nIHJlY29yZCcpO2RlbGV0ZSBwZW5kaW5nW3BlbmRpbmdIYXNoXTt9fX0KZWxzZSBpZighcGVuZGluZ1JlYy5pbkZsaWdodCYmcGVuZGluZ1JlYy5jcmFzaGVkKXtzZWxmLmNvbnNvbGVMb2coJ3VwZGF0ZUNyYXNoZWRJbkZsaWdodEZyb21OZXdEYXRhIC0gVHJ5aW5nIHRvIHJlc29sdmUgaXNzdWVzIHdpdGggY3Jhc2hlZCBub24gaW4gZmxpZ2h0IHJlY29yZCAtIHVpZCA9ICcrcGVuZGluZ1JlYy51aWQpO3ZhciBjcmFzaGVkUmVmPXJlc29sdmVkQ3Jhc2hlc1twZW5kaW5nUmVjLnVpZF07aWYoY3Jhc2hlZFJlZil7c2VsZi5jb25zb2xlTG9nKCd1cGRhdGVDcmFzaGVkSW5GbGlnaHRGcm9tTmV3RGF0YSAtIEZvdW5kIGEgc3RhbGxlZCBwZW5kaW5nIHJlY29yZCBiYWNrZWQgdXAgYmVoaW5kIGEgcmVzb2x2ZWQgY3Jhc2ggdWlkPScrcGVuZGluZ1JlYy51aWQrJyA6OiBoYXNoPScrcGVuZGluZ1JlYy5oYXNoKTtwZW5kaW5nUmVjLmNyYXNoZWQ9ZmFsc2U7fX19fX19LG1hcmtJbkZsaWdodEFzQ3Jhc2hlZDpmdW5jdGlvbihkYXRhc2V0KXt2YXIgcGVuZGluZz1kYXRhc2V0LnBlbmRpbmc7dmFyIHBlbmRpbmdIYXNoO3ZhciBwZW5kaW5nUmVjO2lmKHBlbmRpbmcpe3ZhciBjcmFzaGVkUmVjb3Jkcz17fTtmb3IocGVuZGluZ0hhc2ggaW4gcGVuZGluZyl7aWYocGVuZGluZy5oYXNPd25Qcm9wZXJ0eShwZW5kaW5nSGFzaCkpe3BlbmRpbmdSZWM9cGVuZGluZ1twZW5kaW5nSGFzaF07aWYocGVuZGluZ1JlYy5pbkZsaWdodCl7c2VsZi5jb25zb2xlTG9nKCdNYXJraW5nIGluIGZsaWdodCBwZW5kaW5nIHJlY29yZCBhcyBjcmFzaGVkIDogJytwZW5kaW5nSGFzaCk7cGVuZGluZ1JlYy5jcmFzaGVkPXRydWU7Y3Jhc2hlZFJlY29yZHNbcGVuZGluZ1JlYy51aWRdPXBlbmRpbmdSZWM7fX19CmZvcihwZW5kaW5nSGFzaCBpbiBwZW5kaW5nKXtpZihwZW5kaW5nLmhhc093blByb3BlcnR5KHBlbmRpbmdIYXNoKSl7cGVuZGluZ1JlYz1wZW5kaW5nW3BlbmRpbmdIYXNoXTtpZighcGVuZGluZ1JlYy5pbkZsaWdodCl7dmFyIGNyYXNoZWRSZWY9Y3Jhc2hlZFJlY29yZHNbcGVuZGluZ1JlYy51aWRdO2lmKGNyYXNoZWRSZWYpe3BlbmRpbmdSZWMuY3Jhc2hlZD10cnVlO319fX19fSxjb25zb2xlTG9nOmZ1bmN0aW9uKG1zZyl7aWYoc2VsZi5jb25maWcuZG9fY29uc29sZV9sb2cpe2NvbnNvbGUubG9nKG1zZyk7fX19OyhmdW5jdGlvbigpe3NlbGYuY29uZmlnPXNlbGYuZGVmYXVsdHM7fSkoKTtyZXR1cm57aW5pdDpzZWxmLmluaXQsbWFuYWdlOnNlbGYubWFuYWdlLG5vdGlmeTpzZWxmLm5vdGlmeSxkb0xpc3Q6c2VsZi5saXN0LGRvQ3JlYXRlOnNlbGYuY3JlYXRlLGRvUmVhZDpzZWxmLnJlYWQsZG9VcGRhdGU6c2VsZi51cGRhdGUsZG9EZWxldGU6c2VsZlsnZGVsZXRlJ10sbGlzdENvbGxpc2lvbnM6c2VsZi5saXN0Q29sbGlzaW9ucyxyZW1vdmVDb2xsaXNpb246c2VsZi5yZW1vdmVDb2xsaXNpb24sZ2V0UGVuZGluZzpzZWxmLmdldFBlbmRpbmcsY2xlYXJQZW5kaW5nOnNlbGYuY2xlYXJQZW5kaW5nLGdldERhdGFzZXQ6c2VsZi5nZXREYXRhU2V0fTt9KSgpOyhmdW5jdGlvbihyb290KXtyb290LiRmaD1yb290LiRmaHx8e307dmFyICRmaD1yb290LiRmaDskZmguc2VjPWZ1bmN0aW9uKHAscyxmKXtpZighcC5hY3Qpe2YoJ2JhZF9hY3QnLHt9LHApO3JldHVybjt9CmlmKCFwLnBhcmFtcyl7Zignbm9fcGFyYW1zJyx7fSxwKTtyZXR1cm47fQppZighcC5wYXJhbXMuYWxnb3JpdGhtKXtmKCdub19wYXJhbXNfYWxnb3JpdGhtJyx7fSxwKTtyZXR1cm47fQp2YXIgaXNOb2RlQXBwPWZ1bmN0aW9uKCl7aWYoJGZoJiYkZmguY2xvdWRfcHJvcHMmJiRmaC5jbG91ZF9wcm9wcy5ob3N0cyYmJGZoLmFwcF9wcm9wcyl7dmFyIGFwcFR5cGU9JGZoLmNsb3VkX3Byb3BzLmhvc3RzLnJlbGVhc2VDbG91ZFR5cGU7aWYoJGZoLmFwcF9wcm9wcy5tb2RlJiYkZmguYXBwX3Byb3BzLm1vZGUuaW5kZXhPZigiZGV2Iik+LTEpe2FwcFR5cGU9JGZoLmNsb3VkX3Byb3BzLmhvc3RzLmRlYnVnQ2xvdWRUeXBlO30KaWYoYXBwVHlwZT09PSJmaCIpe3JldHVybiBmYWxzZTt9fQpyZXR1cm4gdHJ1ZTt9O3ZhciBsb2FkX3NlY3VyaXR5X21vZHVsZT1mdW5jdGlvbihjYil7aWYodHlwZW9mIF9fQ3J5cHRvIT09InVuZGVmaW5lZCIpe3JldHVybiBjYigpO31lbHNleyRmaC5fX2xvYWRfc2NyaXB0KCdmaGV4dC9qcy9zZWN1cml0eS5qcycsY2IpO319O3ZhciBhY3RzPXsna2V5Z2VuJzpmdW5jdGlvbigpe2lmKCFwLnBhcmFtcy5rZXlzaXplKXtmKCdub19wYXJhbXNfa2V5c2l6ZScse30scCk7cmV0dXJuO30KaWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCkhPT0iYWVzIil7Zigna2V5Z2VuX2JhZF9hbGdvcml0aG0nLHt9LHApO3JldHVybjt9CnZhciBrZXlzaXplPXBhcnNlSW50KHAucGFyYW1zLmtleXNpemUsMTApO2lmKGtleXNpemU+MTAwKXtrZXlzaXplPWtleXNpemUvODt9CmlmKHR5cGVvZiBTZWN1cmVSYW5kb209PT0idW5kZWZpbmVkIil7cmV0dXJuIGYoInNlY3VyaXR5IGxpYnJhcnkgaXMgbm90IGxvYWRlZC4iKTt9CnZhciBnZW5lcmF0ZVJhbmRvbUtleT1mdW5jdGlvbihrZXlzaXplKXt2YXIgcj1uZXcgU2VjdXJlUmFuZG9tKCk7dmFyIGtleT1uZXcgQXJyYXkoa2V5c2l6ZSk7ci5uZXh0Qnl0ZXMoa2V5KTt2YXIgcmVzdWx0PSIiO2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspe3Jlc3VsdCs9Ynl0ZTJIZXgoa2V5W2ldKTt9CnJldHVybiByZXN1bHQ7fTtpZihpc05vZGVBcHAoKSl7cmV0dXJuIHMoeydhbGdvcml0aG0nOidBRVMnLCdzZWNyZXRrZXknOmdlbmVyYXRlUmFuZG9tS2V5KGtleXNpemUpLCdpdic6Z2VuZXJhdGVSYW5kb21LZXkoa2V5c2l6ZSl9KTt9ZWxzZXtyZXR1cm4gcyh7J2FsZ29yaXRobSc6J0FFUycsJ3NlY3JldGtleSc6Z2VuZXJhdGVSYW5kb21LZXkoa2V5c2l6ZSl9KTt9fSwnZW5jcnlwdCc6ZnVuY3Rpb24oKXt2YXIgZm91bmRfZXJyPWZhbHNlO3ZhciBmaWVsZHM9eydhZXMnOlsna2V5JywncGxhaW50ZXh0J10sJ3JzYSc6Wydtb2R1bHUnLCdwbGFpbnRleHQnXX07aWYoIWlzTm9kZUFwcCgpKXtmaWVsZHMucnNhLnB1c2goJ2tleXNpemUnKTtmaWVsZHMucnNhLnB1c2goJ2tleScpO31lbHNle2ZpZWxkcy5hZXMucHVzaCgnaXYnKTt9CnZhciByZXF1aXJlZD1maWVsZHNbcC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCldO2lmKCFyZXF1aXJlZCl7ZignZW5jcnlwdF9iYWRfYWxnb3JpdGhtJyx7fSxwKTtyZXR1cm47fQpmb3IodmFyIGk9MDtpPHJlcXVpcmVkO2krKyl7dmFyIGZpZWxkPXJlcXVpcmVkW2ldO2lmKCFwLnBhcmFtc1tmaWVsZF0pe2ZvdW5kX2Vycj10cnVlO2YoJ25vX3BhcmFtc18nK2ZpZWxkLHt9LHApO2JyZWFrO319CmlmKGZvdW5kX2Vycil7cmV0dXJuO30KdmFyIHJzYV9lbmNyeXB0LGFlc19lbmNyeXB0O2lmKGlzTm9kZUFwcCgpKXtyc2FfZW5jcnlwdD1mdW5jdGlvbihwLHMsZil7aWYodHlwZW9mIFJTQUtleT09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigic2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLkVycm9yOiBjYW4gbm90IGZpbmQgUlNBS2V5LiIpO30KdmFyIGtleT1uZXcgUlNBS2V5KCk7a2V5LnNldFB1YmxpYyhwLnBhcmFtcy5tb2R1bHUsIjEwMDAxIik7dmFyIG9yaV90ZXh0PXAucGFyYW1zLnBsYWludGV4dDtjaXBoZXJfdGV4dD1rZXkuZW5jcnlwdChvcmlfdGV4dCk7cyh7Y2lwaGVydGV4dDpjaXBoZXJfdGV4dH0pO307YWVzX2VuY3J5cHQ9ZnVuY3Rpb24ocCxzLGYpe2lmKHR5cGVvZiBDcnlwdG9KUz09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigic2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLkVycm9yOiBjYW4gbm90IGZpbmQgQ3J5cHRvSlMuIik7fQp2YXIgZW5jcnlwdGVkPUNyeXB0b0pTLkFFUy5lbmNyeXB0KHAucGFyYW1zLnBsYWludGV4dCxDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAucGFyYW1zLmtleSkse2l2OkNyeXB0b0pTLmVuYy5IZXgucGFyc2UocC5wYXJhbXMuaXYpfSk7Y2lwaGVyX3RleHQ9Q3J5cHRvSlMuZW5jLkhleC5zdHJpbmdpZnkoZW5jcnlwdGVkLmNpcGhlcnRleHQpO3Moe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KTt9O31lbHNle3JzYV9lbmNyeXB0PWZ1bmN0aW9uKHAscyxmKXtsb2FkX3NlY3VyaXR5X21vZHVsZShmdW5jdGlvbigpe2lmKHR5cGVvZiBSU0FLZXlQYWlyPT09InVuZGVmaW5lZCIpe3JldHVybiBmKCdsZWdhY3kgc2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLiBFcnJvcjogY2FuIG5vdCBmaW5kIFJTQUtleVBhaXIuJyk7fQp2YXIga2V5X3NpemU9cGFyc2VJbnQocC5wYXJhbXMua2V5c2l6ZSwxMCk7dmFyIG1heD1wYXJzZUludChrZXlfc2l6ZSoyLzE2KzIsMTApO3NldE1heERpZ2l0cyhtYXgpO3ZhciBrZXk9bmV3IFJTQUtleVBhaXIocC5wYXJhbXMua2V5LHAucGFyYW1zLmtleSxwLnBhcmFtcy5tb2R1bHUpO3ZhciBvcmlfdGV4dD1wLnBhcmFtcy5wbGFpbnRleHQ7dmFyIGlucHV0PScnO2Zvcih2YXIgaT1vcmlfdGV4dC5sZW5ndGgtMTtpPj0wO2ktLSl7aW5wdXQrPW9yaV90ZXh0LmNoYXJBdChpKTt9CmNpcGhlcl90ZXh0PWVuY3J5cHRlZFN0cmluZyhrZXksaW5wdXQpO3Moe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KTt9KTt9O2Flc19lbmNyeXB0PWZ1bmN0aW9uKHAscyxmKXtsb2FkX3NlY3VyaXR5X21vZHVsZShmdW5jdGlvbigpe2lmKHR5cGVvZiBfX0NyeXB0bz09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigibGVnYWN5IHNlY3VyaXR5IGxpYnJhcnkgaXMgbWlzc2luZy4gRXJyb3I6IGNhbiBub3QgZmluZCBfX0NyeXB0by4iKTt9CmlmKHR5cGVvZiAkZmguQ2lwaGVyPT09InVuZGVmaW5lZCIpeyRmaC5DaXBoZXI9X19DcnlwdG8uX19pbXBvcnQoX19DcnlwdG8sInRpdGFuaXVtY29yZS5jcnlwdG8uQ2lwaGVyIik7fQp2YXIgZGF0YT1fX0NyeXB0by5zdHIydXRmOChwLnBhcmFtcy5wbGFpbnRleHQpO3ZhciBrZXk9X19DcnlwdG8uYmFzZTE2X2RlY29kZShwLnBhcmFtcy5rZXkpO3ZhciBjaXBoZXI9JGZoLkNpcGhlci5jcmVhdGUoJGZoLkNpcGhlci5SSUpOREFFTCwkZmguQ2lwaGVyLkVOQ1JZUFQsJGZoLkNpcGhlci5FQ0IsJGZoLkNpcGhlci5JU08xMDEyNik7Y2lwaGVyX3RleHQ9X19DcnlwdG8uYmFzZTE2X2VuY29kZShjaXBoZXIuZXhlY3V0ZShrZXksZGF0YSkpO3Moe2NpcGhlcnRleHQ6Y2lwaGVyX3RleHR9KTt9KTt9O30KaWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCk9PT0icnNhIil7cmV0dXJuIHJzYV9lbmNyeXB0KHAscyxmKTt9ZWxzZSBpZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJhZXMiKXtyZXR1cm4gYWVzX2VuY3J5cHQocCxzLGYpO31lbHNle2YoJ2VuY3J5cHRfYmFkX2FsZ29yaXRobScse30scCk7cmV0dXJuO319LCdkZWNyeXB0JzpmdW5jdGlvbigpe3ZhciBmb3VuZF9lcnI9ZmFsc2U7dmFyIGZpZWxkcz17J2Flcyc6WydrZXknLCdjaXBoZXJ0ZXh0J119O2lmKGlzTm9kZUFwcCgpKXtmaWVsZHMuYWVzLnB1c2goJ2l2Jyk7fQp2YXIgcmVxdWlyZWQ9ZmllbGRzW3AucGFyYW1zLmFsZ29yaXRobS50b0xvd2VyQ2FzZSgpXTtpZighcmVxdWlyZWQpe2YoJ2RlY3J5cHRfYmFkX2FsZ29yaXRobScse30scCk7cmV0dXJuO30KZm9yKHZhciBpPTA7aTxyZXF1aXJlZDtpKyspe3ZhciBmaWVsZD1yZXF1aXJlZFtpXTtpZighcC5wYXJhbXNbZmllbGRdKXtmb3VuZF9lcnI9dHJ1ZTtmKCdub19wYXJhbXNfJytmaWVsZCx7fSxwKTticmVhazt9fQppZihmb3VuZF9lcnIpe3JldHVybjt9CnZhciBhZXNfZGVjcnlwdDtpZihpc05vZGVBcHAoKSl7YWVzX2RlY3J5cHQ9ZnVuY3Rpb24ocCxzLGYpe2lmKHR5cGVvZiBDcnlwdG9KUz09PSJ1bmRlZmluZWQiKXtyZXR1cm4gZigic2VjdXJpdHkgbGlicmFyeSBpcyBtaXNzaW5nLkVycm9yOiBjYW4gbm90IGZpbmQgQ3J5cHRvSlMuIik7fQp2YXIgZGF0YT1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAucGFyYW1zLmNpcGhlcnRleHQpO3ZhciBlbmNvZGVEYXRhPUNyeXB0b0pTLmVuYy5CYXNlNjQuc3RyaW5naWZ5KGRhdGEpO3ZhciBkZWNyeXB0ZWQ9Q3J5cHRvSlMuQUVTLmRlY3J5cHQoZW5jb2RlRGF0YSxDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAucGFyYW1zLmtleSkse2l2OkNyeXB0b0pTLmVuYy5IZXgucGFyc2UocC5wYXJhbXMuaXYpfSk7cGxhaW5fdGV4dD1kZWNyeXB0ZWQudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO3Moe3BsYWludGV4dDpwbGFpbl90ZXh0fSk7fTt9ZWxzZXthZXNfZGVjcnlwdD1mdW5jdGlvbihwLHMsZil7bG9hZF9zZWN1cml0eV9tb2R1bGUoZnVuY3Rpb24oKXtpZih0eXBlb2YgX19DcnlwdG89PT0idW5kZWZpbmVkIil7cmV0dXJuIGYoImxlZ2FjeSBzZWN1cml0eSBsaWJyYXJ5IGlzIG1pc3NpbmcuIEVycm9yOiBjYW4gbm90IGZpbmQgX19DcnlwdG8uIik7fQppZih0eXBlb2YgJGZoLkNpcGhlcj09PSJ1bmRlZmluZWQiKXskZmguQ2lwaGVyPV9fQ3J5cHRvLl9faW1wb3J0KF9fQ3J5cHRvLCJ0aXRhbml1bWNvcmUuY3J5cHRvLkNpcGhlciIpO30KdmFyIGRhdGE9X19DcnlwdG8uYmFzZTE2X2RlY29kZShwLnBhcmFtcy5jaXBoZXJ0ZXh0KTt2YXIga2V5PV9fQ3J5cHRvLmJhc2UxNl9kZWNvZGUocC5wYXJhbXMua2V5KTt2YXIgY2lwaGVyPSRmaC5DaXBoZXIuY3JlYXRlKCRmaC5DaXBoZXIuUklKTkRBRUwsJGZoLkNpcGhlci5ERUNSWVBULCRmaC5DaXBoZXIuRUNCLCRmaC5DaXBoZXIuSVNPMTAxMjYpO3BsYWluX3RleHQ9X19DcnlwdG8udXRmODJzdHIoY2lwaGVyLmV4ZWN1dGUoa2V5LGRhdGEpKTtzKHtwbGFpbnRleHQ6cGxhaW5fdGV4dH0pO30pO307fQppZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJhZXMiKXthZXNfZGVjcnlwdChwLHMsZik7fWVsc2V7ZignZGVjcnlwdF9iYWRfYWxnb3JpdGhtJyx7fSxwKTtyZXR1cm47fX0sJ2hhc2gnOmZ1bmN0aW9uKCl7aWYoIXAucGFyYW1zLnRleHQpe2YoJ2hhc2hfbm9fdGV4dCcse30scCk7cmV0dXJuO30KaWYodHlwZW9mIENyeXB0b0pTPT09InVuZGVmaW5lZCIpe3JldHVybiBmKCJzZWN1cml0eSBsaWJyYXJ5IGlzIG1pc3NpbmcuRXJyb3I6IGNhbiBub3QgZmluZCBDcnlwdG9KUy4iKTt9CnZhciBoYXNoVmFsdWU7aWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCk9PT0ibWQ1Iil7aGFzaFZhbHVlPUNyeXB0b0pTLk1ENShwLnBhcmFtcy50ZXh0KS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTt9ZWxzZSBpZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJzaGExIil7aGFzaFZhbHVlPUNyeXB0b0pTLlNIQTEocC5wYXJhbXMudGV4dCkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLkhleCk7fWVsc2UgaWYocC5wYXJhbXMuYWxnb3JpdGhtLnRvTG93ZXJDYXNlKCk9PT0ic2hhMjU2Iil7aGFzaFZhbHVlPUNyeXB0b0pTLlNIQTI1NihwLnBhcmFtcy50ZXh0KS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTt9ZWxzZSBpZihwLnBhcmFtcy5hbGdvcml0aG0udG9Mb3dlckNhc2UoKT09PSJzaGE1MTIiKXtoYXNoVmFsdWU9Q3J5cHRvSlMuU0hBNTEyKHAucGFyYW1zLnRleHQpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpO31lbHNle3JldHVybiBmKCJoYXNoX3Vuc3VwcG9ydGVkX2FsZ29yaXRobTogIitwLnBhcmFtcy5hbGdvcml0aG0pO30Kcyh7Imhhc2h2YWx1ZSI6aGFzaFZhbHVlfSk7fX07aWYoYWN0c1twLmFjdF0pe2FjdHNbcC5hY3RdKCk7fWVsc2V7ZignZGF0YV9iYWRhY3QnLHApO319OyRmaC5oYXNoPWZ1bmN0aW9uKHAscyxmKXt2YXIgcGFyYW1zPXt9O2lmKHR5cGVvZiBwLmFsZ29yaXRobT09PSJ1bmRlZmluZWQiKXtwLmFsZ29yaXRobT0iTUQ1Ijt9CnBhcmFtcy5hY3Q9Imhhc2giO3BhcmFtcy5wYXJhbXM9cDskZmguc2VjKHBhcmFtcyxzLGYpO307fSkodGhpcyk7O3ZhciAkZmhjbGllbnQ9JGZoOyhmdW5jdGlvbigpe3ZhciBkZWZhdWx0YXJncz17c3VjY2VzczpmdW5jdGlvbigpe30sZmFpbHVyZTpmdW5jdGlvbigpe30scGFyYW1zOnt9fTt2YXIgaGFuZGxlYXJncz1mdW5jdGlvbihpbmFyZ3MsZGVmYXVsdHBhcmFtcyxhcHBseXRvKXt2YXIgb3V0YXJncz1bbnVsbCxudWxsLG51bGxdO3ZhciBvcmlnYXJncz1bbnVsbCxudWxsLG51bGxdO3ZhciBudW1hcmdzPWluYXJncy5sZW5ndGg7aWYoMjxudW1hcmdzKXtvcmlnYXJnc1swXT1pbmFyZ3NbbnVtYXJncy0zXTtvcmlnYXJnc1sxXT1pbmFyZ3NbbnVtYXJncy0yXTtvcmlnYXJnc1syXT1pbmFyZ3NbbnVtYXJncy0xXTt9ZWxzZSBpZigyPT1udW1hcmdzKXtvcmlnYXJnc1sxXT1pbmFyZ3NbMF07b3JpZ2FyZ3NbMl09aW5hcmdzWzFdO31lbHNlIGlmKDE9PW51bWFyZ3Mpe29yaWdhcmdzWzJdPWluYXJnc1swXTt9CnZhciBpPTAsaj0wO2Zvcig7aTwzO2krKyl7dmFyIGE9b3JpZ2FyZ3NbaV07dmFyIHRhPXR5cGVvZiBhO2lmKGEmJjA9PWomJignb2JqZWN0Jz09dGF8fCdib29sZWFuJz09dGEpKXtvdXRhcmdzW2orK109YTt9ZWxzZSBpZihhJiYnZnVuY3Rpb24nPT10YSl7aj0wPT1qPzE6ajtvdXRhcmdzW2orK109YTt9fQppZihudWxsPT1vdXRhcmdzWzBdKXtvdXRhcmdzWzBdPWRlZmF1bHRwYXJhbXM/ZGVmYXVsdHBhcmFtczpkZWZhdWx0YXJncy5wYXJhbXM7fWVsc2V7dmFyIHBhcmFtc2FyZz1vdXRhcmdzWzBdO3BhcmFtc2FyZy5fZGVmYXVsdHM9W107Zm9yKHZhciBuIGluIGRlZmF1bHRwYXJhbXMpe2lmKGRlZmF1bHRwYXJhbXMuaGFzT3duUHJvcGVydHkobikpe2lmKHR5cGVvZiBwYXJhbXNhcmdbbl09PT0idW5kZWZpbmVkIil7cGFyYW1zYXJnW25dPWRlZmF1bHRwYXJhbXNbbl07cGFyYW1zYXJnLl9kZWZhdWx0cy5wdXNoKG4pO319fX0Kb3V0YXJnc1sxXT1udWxsPT1vdXRhcmdzWzFdP2RlZmF1bHRhcmdzLnN1Y2Nlc3M6b3V0YXJnc1sxXTtvdXRhcmdzWzJdPW51bGw9PW91dGFyZ3NbMl0/ZGVmYXVsdGFyZ3MuZmFpbHVyZTpvdXRhcmdzWzJdO2FwcGx5dG8ob3V0YXJnc1swXSxvdXRhcmdzWzFdLG91dGFyZ3NbMl0pO30KdmFyIGV2ZW50U3VwcG9ydGVkPWZ1bmN0aW9uKGV2ZW50KXt2YXIgZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7cmV0dXJuIGV2ZW50IGluIGVsZW1lbnR8fGVsZW1lbnQuc2V0QXR0cmlidXRlJiZlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudCwicmV0dXJuOyIpfHxmYWxzZTt9CiRmaC5fX2lzX3JlYWR5PWZhbHNlOyRmaC5fX3JlYWR5X2xpc3Q9W107dmFyIF9fcmVhZHlfYm91bmQ9ZmFsc2U7dmFyIF9fc2VjdXJpdHlfbG9hZGVkPWZhbHNlO3ZhciBfX21vZHVsZV9wYXRocz17J3NlY3VyaXR5JzonZmhleHQvanMvc2VjdXJpdHkuanMnfTskZmguX2dldEhvc3RQcmVmaXg9ZnVuY3Rpb24oKXtyZXR1cm4gJGZoLmFwcF9wcm9wcy5ob3N0KyRmaC5ib3hwcmVmaXg7fQp2YXIgX19yZWFkeT1mdW5jdGlvbigpe2lmKCEkZmguX19pc19yZWFkeSl7JGZoLl9faXNfcmVhZHk9dHJ1ZTtpZigkZmguX19yZWFkeV9saXN0KXt0cnl7d2hpbGUoJGZoLl9fcmVhZHlfbGlzdFswXSl7JGZoLl9fcmVhZHlfbGlzdC5zaGlmdCgpLmFwcGx5KGRvY3VtZW50LFtdKTt9fWZpbmFsbHl7fQokZmguX19yZWFkeV9saXN0PW51bGw7fX19OyRmaC5fX2JpbmRfcmVhZHk9ZnVuY3Rpb24oKXtpZihfX3JlYWR5X2JvdW5kKXJldHVybjtfX3JlYWR5X2JvdW5kPXRydWU7aWYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcil7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhcmd1bWVudHMuY2FsbGVlLGZhbHNlKTtfX3JlYWR5KCk7fSxmYWxzZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLF9fcmVhZHksZmFsc2UpO31lbHNlIGlmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe2lmKGRvY3VtZW50LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXtkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixhcmd1bWVudHMuY2FsbGVlKTtfX3JlYWR5KCk7fX0pO3dpbmRvdy5hdHRhY2hFdmVudCgib25sb2FkIixfX3JlYWR5KTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJndpbmRvdz09d2luZG93LnRvcCkoZnVuY3Rpb24oKXtpZigkZmguX19pc19yZWFkeSlyZXR1cm47dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpO31jYXRjaChlcnJvcil7c2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDApO3JldHVybjt9Cl9fcmVhZHkoKTt9KSgpO319OyRmaC5fX2JpbmRfcmVhZHkoKTt2YXIgX19sb2FkX3NjcmlwdD1mdW5jdGlvbih1cmwsY2FsbGJhY2spe3ZhciBzY3JpcHQ7dmFyIGhlYWQ9ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3NjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtzY3JpcHQuYXN5bmM9ImFzeW5jIjtzY3JpcHQuc3JjPXVybDtzY3JpcHQudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtzY3JpcHQub25sb2FkPXNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZighc2NyaXB0LnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3Qoc2NyaXB0LnJlYWR5U3RhdGUpKXtzY3JpcHQub25sb2FkPXNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtpZihoZWFkJiZzY3JpcHQucGFyZW50Tm9kZSl7aGVhZC5yZW1vdmVDaGlsZChzY3JpcHQpO30Kc2NyaXB0PXVuZGVmaW5lZDtpZihjYWxsYmFjayYmdHlwZW9mIGNhbGxiYWNrPT09ImZ1bmN0aW9uIil7Y2FsbGJhY2soKTt9fX0KaGVhZC5pbnNlcnRCZWZvcmUoc2NyaXB0LGhlYWQuZmlyc3RDaGlsZCk7fQokZmguX19sb2FkX21vZHVsZT1mdW5jdGlvbihtb2R1bGUsY2FsbGJhY2spe2lmKCRmaFsnX18nK21vZHVsZSsnX2xvYWRlZCddKXtjYWxsYmFjaygpO3JldHVybjt9ZWxzZXtpZihfX21vZHVsZV9wYXRoc1ttb2R1bGVdKXtfX2xvYWRfc2NyaXB0KF9fbW9kdWxlX3BhdGhzW21vZHVsZV0sY2FsbGJhY2spO319fTskZmguX21hcFNjcmlwdExvYWRlZD0odHlwZW9mIGdvb2dsZSE9InVuZGVmaW5lZCIpJiYodHlwZW9mIGdvb2dsZS5tYXBzIT0idW5kZWZpbmVkIikmJih0eXBlb2YgZ29vZ2xlLm1hcHMuTWFwIT0idW5kZWZpbmVkIik7JGZoLl9sb2FkTWFwU2NyaXB0PWZ1bmN0aW9uKCl7dmFyIHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtzY3JpcHQudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt2YXIgcHJvdG9jb2w9ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w7cHJvdG9jb2w9KHByb3RvY29sPT09Imh0dHA6Inx8cHJvdG9jb2w9PT0iaHR0cHM6Iik/cHJvdG9jb2w6Imh0dHBzOiI7c2NyaXB0LnNyYz1wcm90b2NvbCsiLy9tYXBzLmdvb2dsZS5jb20vbWFwcy9hcGkvanM/c2Vuc29yPXRydWUmY2FsbGJhY2s9JGZoLl9tYXBMb2FkZWQiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTt9OyRmaC5hdWRpb19vYmo9bnVsbDskZmguYXVkaW9faXNfcGxheWluZz1mYWxzZTskZmguX2N1cnJlbnRfYXV0aF91c2VyPW51bGw7JGZoLl9fZGVzdF9fPXtzZW5kOmZ1bmN0aW9uKHAscyxmKXtmKCdzZW5kX25vc3VwcG9ydCcpO30sbm90aWZ5OmZ1bmN0aW9uKHAscyxmKXtmKCdub3RpZnlfbm9zdXBwb3J0Jyk7fSxjb250YWN0czpmdW5jdGlvbihwLHMsZil7ZignY29udGFjdHNfbm9zdXBwb3J0Jyk7fSxhY2M6ZnVuY3Rpb24ocCxzLGYpe2YoJ2FjY19ub3N1cHBvcnQnKTt9LGdlbzpmdW5jdGlvbihwLHMsZil7ZignZ2VvX25vc3VwcG9ydCcpO30sY2FtOmZ1bmN0aW9uKHAscyxmKXtmKCdjYW1fbm9zdXBwb3J0Jyk7fSxkZXZpY2U6ZnVuY3Rpb24ocCxzLGYpe2YoJ2RldmljZV9ub3N1cHBvcnQnKTt9LGxpc3RlbjpmdW5jdGlvbihwLHMsZil7ZignbGlzdGVuX25vc3VwcG9ydCcpO30saGFuZGxlcnM6ZnVuY3Rpb24ocCxzLGYpe2YoJ2hhbmRsZXJzX25vX3N1cHBvcnQnKTt9LGZpbGU6ZnVuY3Rpb24ocCxzLGYpe2YoJ2ZpbGVfbm9zdXBwb3J0Jyk7fSxwdXNoOmZ1bmN0aW9uKHAscyxmKXtmKCdwdXNoX25vc3VwcG9ydCcpO30sZW52OmZ1bmN0aW9uKHAscyxmKXtzKHtoZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0LHdpZHRoOndpbmRvdy5pbm5lcldpZHRoLHV1aWQ6ZnVuY3Rpb24oKXt2YXIgdXVpZD0kZmguX2dldERldmljZUlkKCk7cmV0dXJuIHV1aWQ7fSgpfSk7fSxkYXRhOmZ1bmN0aW9uKHAscyxmKXtpZighJGZoLl9wZXJzaXN0KXskZmguX3BlcnNpc3Q9bmV3IFBlcnNpc3QuU3RvcmUoJ0ZIJyskZmguYXBwX3Byb3BzLmFwcGlkLHtzd2ZfcGF0aDonL3N0YXRpYy9jL3N0YXJ0L3N3Zi9wZXJzaXN0LnN3Zid9KTt9CmlmKCFwLmtleSl7ZignZGF0YV9ub2tleScpO3JldHVybjt9CnZhciBhY3RzPXtsb2FkOmZ1bmN0aW9uKCl7JGZoLl9wZXJzaXN0LmdldChwLmtleSxmdW5jdGlvbihvayx2YWwpe29rP3Moe2tleTpwLmtleSx2YWw6dmFsfSk6cyh7a2V5OnAua2V5LHZhbDpudWxsfSk7fSk7fSxzYXZlOmZ1bmN0aW9uKCl7aWYoIXAudmFsKXtmKCdkYXRhX25vdmFsJyk7cmV0dXJuO30KdHJ5eyRmaC5fcGVyc2lzdC5zZXQocC5rZXkscC52YWwpO31jYXRjaChlKXtmKCdkYXRhX2Vycm9yJyx7fSxwKTtyZXR1cm47fQpzKCk7fSxyZW1vdmU6ZnVuY3Rpb24oKXskZmguX3BlcnNpc3QucmVtb3ZlKHAua2V5LGZ1bmN0aW9uKG9rLHZhbCl7b2s/cyh7a2V5OnAua2V5LHZhbDp2YWx9KTpzKHtrZXk6cC5rZXksdmFsOm51bGx9KTt9KTt9fTthY3RzW3AuYWN0XT9hY3RzW3AuYWN0XSgpOmYoJ2RhdGFfYmFkYWN0JyxwKTt9LGxvZzpmdW5jdGlvbihwLHMsZil7dHlwZW9mIGNvbnNvbGU9PT0idW5kZWZpbmVkIj9mKCdsb2dfbm9zdXBwb3J0Jyk6Y29uc29sZS5sb2cocC5tZXNzYWdlKTt9LG9yaTpmdW5jdGlvbihwLHMsZil7aWYodHlwZW9mIHAuYWN0PT0idW5kZWZpbmVkInx8cC5hY3Q9PSJsaXN0ZW4iKXtpZihldmVudFN1cHBvcnRlZCgnb25vcmllbnRhdGlvbmNoYW5nZScpKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLHMsZmFsc2UpO31lbHNle2YoJ29yaV9ub3N1cHBvcnQnLHt9LHApO319ZWxzZSBpZihwLmFjdD09InNldCIpe2lmKCFwLnZhbHVlKXtmKCdvcmlfbm9fdmFsdWUnLHt9LHApO3JldHVybjt9CmlmKHAudmFsdWU9PSJwb3J0cmFpdCIpe2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uc3R5bGVbJy1tb3otdHJhbnNmb3JtJ109IiI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXT0iIjtzKHtvcmllbnRhdGlvbjoncG9ydHJhaXQnfSk7fWVsc2V7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsnLW1vei10cmFuc2Zvcm0nXT0ncm90YXRlKDkwZGVnKSc7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5zdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXT0ncm90YXRlKDkwZGVnKSc7cyh7b3JpZW50YXRpb246J2xhbmRzY2FwZSd9KTt9fWVsc2V7Zignb3JpX2JhZGFjdCcse30scCk7fX0sbWFwOmZ1bmN0aW9uKHAscyxmKXtpZighcC50YXJnZXQpe2YoJ21hcF9ub3RhcmdldCcse30scCk7cmV0dXJuO30KaWYoIXAubGF0KXtmKCdtYXBfbm9sYXRpdHVkZScse30scCk7cmV0dXJuO30KaWYoIXAubG9uKXtmKCdtYXBfbm9sb2dpdHVkZScse30scCk7cmV0dXJuO30KdmFyIHRhcmdldD1wLnRhcmdldDtpZih0eXBlb2YgdGFyZ2V0PT09InN0cmluZyIpe3ZhciB0YXJnZXRfZG9tPW51bGw7aWYodHlwZW9mIGpRdWVyeSE9InVuZGVmaW5lZCIpe3RyeXt2YXIganFfb2JqPWpRdWVyeSh0YXJnZXQpO2lmKGpxX29iai5sZW5ndGg+MCl7dGFyZ2V0X2RvbT1qcV9vYmpbMF07fX1jYXRjaChlKXt0YXJnZXRfZG9tPW51bGw7fX0KaWYobnVsbD09dGFyZ2V0X2RvbSl7dGFyZ2V0X2RvbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpO30KdGFyZ2V0PXRhcmdldF9kb207fQplbHNlIGlmKHR5cGVvZiB0YXJnZXQ9PT0ib2JqZWN0Iil7aWYodGFyZ2V0Lm5vZGVUeXBlPT09MSYmdHlwZW9mIHRhcmdldC5ub2RlTmFtZT09PSJzdHJpbmciKXt9ZWxzZXt0YXJnZXQ9dGFyZ2V0WzBdO319CmVsc2V7dGFyZ2V0PW51bGw7fQppZighdGFyZ2V0KXtmKCdtYXBfbm9jb250YWluZXInLHt9LHApO3JldHVybjt9CmlmKCEkZmguX21hcFNjcmlwdExvYWRlZCl7JGZoLl9tYXBMb2FkZWQ9ZnVuY3Rpb24oKXskZmguX21hcFNjcmlwdExvYWRlZD10cnVlO3ZhciBtYXBPcHRpb25zPXt9O21hcE9wdGlvbnMuem9vbT1wLnpvb20/cC56b29tOjg7bWFwT3B0aW9ucy5jZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwLmxhdCxwLmxvbik7bWFwT3B0aW9ucy5tYXBUeXBlSWQ9Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVA7dmFyIG1hcD1uZXcgZ29vZ2xlLm1hcHMuTWFwKHRhcmdldCxtYXBPcHRpb25zKTtzKHttYXA6bWFwfSk7fTskZmguX2xvYWRNYXBTY3JpcHQoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoISRmaC5fbWFwU2NyaXB0TG9hZGVkKXtmKCdtYXBfdGltZW91dCcse30scCk7fX0sMjAwMDApO31lbHNle3ZhciBtYXBPcHRpb25zPXt9O21hcE9wdGlvbnMuem9vbT1wLnpvb20/cC56b29tOjg7bWFwT3B0aW9ucy5jZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwLmxhdCxwLmxvbik7bWFwT3B0aW9ucy5tYXBUeXBlSWQ9Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVA7dmFyIG1hcD1uZXcgZ29vZ2xlLm1hcHMuTWFwKHRhcmdldCxtYXBPcHRpb25zKTtzKHttYXA6bWFwfSk7fX0sYXVkaW86ZnVuY3Rpb24ocCxzLGYpe2lmKCEkZmguYXVkaW9fb2JqPT1udWxsJiZwLmFjdD09InBsYXkiJiYoIXAucGF0aHx8cC5wYXRoPT0iIikpe2YoJ25vX2F1ZGlvX3BhdGgnKTtyZXR1cm47fQp2YXIgYWN0cz17J3BsYXknOmZ1bmN0aW9uKCl7aWYobnVsbD09JGZoLmF1ZGlvX29iail7JGZoLmF1ZGlvX29iaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpO2lmKCEoKCRmaC5hdWRpb19vYmoucGxheSk/dHJ1ZTpmYWxzZSkpe2YoJ2F1ZGlvX25vdF9zdXBwb3J0Jyk7cmV0dXJuO30KaWYocC50eXBlKXt2YXIgY2FucGxheT0kZmguYXVkaW9fb2JqLmNhblBsYXlUeXBlKHAudHlwZSk7aWYoY2FucGxheT09Im5vInx8Y2FucGxheT09IiIpe2YoImF1ZGlvX3R5cGVfbm90X3N1cHBvcnRlZCIpO3JldHVybjt9fQokZmguYXVkaW9fb2JqLnNyYz1wLnBhdGg7aWYocC5jb250cm9scyl7JGZoLmF1ZGlvX29iai5jb250cm9scz0iY29udHJvbHMiO30KaWYocC5hdXRvcGxheSl7JGZoLmF1ZGlvX29iai5hdXRvcGxheT0iYXV0b3BsYXkiO30KaWYocC5sb29wKXskZmguYXVkaW9fb2JqLmxvb3A9Imxvb3AiO30KZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgkZmguYXVkaW9fb2JqKTskZmguYXVkaW9fb2JqLnBsYXkoKTskZmguYXVkaW9faXNfcGxheWluZz10cnVlO3MoKTt9ZWxzZXtpZihwLnBhdGgmJihwLnBhdGghPSRmaC5hdWRpb19vYmouc3JjKSl7aWYoJGZoLmF1ZGlvX2lzX3BsYXlpbmcpe2FjdHNbJ3N0b3AnXSh0cnVlKTt9CmFjdHNbJ3BsYXknXSgpO31lbHNle2lmKCEkZmguYXVkaW9faXNfcGxheWluZyl7JGZoLmF1ZGlvX29iai5wbGF5KCk7JGZoLmF1ZGlvX2lzX3BsYXlpbmc9dHJ1ZTtzKCk7fX19fSwncGF1c2UnOmZ1bmN0aW9uKCl7aWYobnVsbCE9JGZoLmF1ZGlvX29iaiYmJGZoLmF1ZGlvX2lzX3BsYXlpbmcpe2lmKHR5cGVvZiAkZmguYXVkaW9fb2JqLnBhdXNlPT0iZnVuY3Rpb24iKXskZmguYXVkaW9fb2JqLnBhdXNlKCk7fWVsc2UgaWYodHlwZW9mICRmaC5hdWRpb19vYmouc3RvcD09ImZ1bmN0aW9uIil7JGZoLmF1ZGlvX29iai5zdG9wKCk7fQokZmguYXVkaW9faXNfcGxheWluZz1mYWxzZTtzKCk7fWVsc2V7Zignbm9fYXVkaW9fcGxheWluZycpO319LCdzdG9wJzpmdW5jdGlvbihub2NhbGxiYWNrKXtpZihudWxsIT0kZmguYXVkaW9fb2JqKXtpZih0eXBlb2YgJGZoLmF1ZGlvX29iai5zdG9wPT0iZnVuY3Rpb24iKXskZmguYXVkaW9fb2JqLnN0b3AoKTt9ZWxzZSBpZih0eXBlb2YgJGZoLmF1ZGlvX29iai5wYXVzZT09ImZ1bmN0aW9uIil7JGZoLmF1ZGlvX29iai5wYXVzZSgpO30KZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCgkZmguYXVkaW9fb2JqKTskZmguYXVkaW9fb2JqPW51bGw7JGZoLmF1ZGlvX2lzX3BsYXlpbmc9ZmFsc2U7aWYoIW5vY2FsbGJhY2spe3MoKTt9fWVsc2V7Zignbm9fYXVkaW8nKTt9fX0KYWN0c1twLmFjdF0/YWN0c1twLmFjdF0oKTpmKCdkYXRhX2JhZGFjdCcscCk7fSx3ZWJ2aWV3OmZ1bmN0aW9uKHAscyxmKXtmKCd3ZWJ2aWV3X25vc3VwcG9ydCcpO30scmVhZHk6ZnVuY3Rpb24ocCxzLGYpeyRmaC5fX2JpbmRfcmVhZHkoKTtpZigkZmguX19pc19yZWFkeSl7cy5hcHBseShkb2N1bWVudCxbXSk7fWVsc2V7JGZoLl9fcmVhZHlfbGlzdC5wdXNoKHMpO319fQokZmguc2VuZD1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt0eXBlOidlbWFpbCd9LCRmaC5fX2Rlc3RfXy5zZW5kKTt9CiRmaC5ub3RpZnk9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7dHlwZTondmlicmF0ZSd9LCRmaC5fX2Rlc3RfXy5ub3RpZnkpO30KJGZoLmNvbnRhY3RzPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDonbGlzdCd9LCRmaC5fX2Rlc3RfXy5jb250YWN0cyk7fQokZmguYWNjPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDoncmVnaXN0ZXInLGludGVydmFsOjB9LCRmaC5fX2Rlc3RfXy5hY2MpO30KJGZoLmdlbz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J3JlZ2lzdGVyJyxpbnRlcnZhbDowfSwkZmguX19kZXN0X18uZ2VvKTt9CiRmaC5jYW09ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OidwaWN0dXJlJ30sJGZoLl9fZGVzdF9fLmNhbSk7fQokZmguZGF0YT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J2xvYWQnfSwkZmguX19kZXN0X18uZGF0YSk7fQokZmgubG9nPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse21lc3NhZ2U6J25vbmUnfSwkZmguX19kZXN0X18ubG9nKTt9CiRmaC5kZXZpY2U9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18uZGV2aWNlKTt9CiRmaC5saXN0ZW49ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7YWN0OidhZGQnfSwkZmguX19kZXN0X18ubGlzdGVuKTt9CiRmaC5vcmk9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ub3JpKTt9CiRmaC5tYXA9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7fSwkZmguX19kZXN0X18ubWFwKTt9CiRmaC5hdWRpbz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy5hdWRpbyk7fQokZmgud2Vidmlldz1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy53ZWJ2aWV3KTt9CiRmaC5yZWFkeT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LCRmaC5fX2Rlc3RfXy5yZWFkeSk7fTskZmguaGFuZGxlcnM9ZnVuY3Rpb24oKXtoYW5kbGVhcmdzKGFyZ3VtZW50cyx7dHlwZTonYmFjayd9LCRmaC5fX2Rlc3RfXy5oYW5kbGVycyk7fTskZmguZmlsZT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J3VwbG9hZCd9LCRmaC5fX2Rlc3RfXy5maWxlKTt9OyRmaC5wdXNoPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse30sJGZoLl9fZGVzdF9fLnB1c2gpO307JGZoLmVudj1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LGZ1bmN0aW9uKHAscyxmKXskZmguX19kZXN0X18uZW52KHt9LGZ1bmN0aW9uKGRlc3RFbnYpe2Rlc3RFbnYuYXBwbGljYXRpb249JGZoLmFwcF9wcm9wcy5hcHBpZDtkZXN0RW52LmFnZW50PW5hdmlnYXRvci51c2VyQWdlbnR8fCd1bmtub3duJztzKGRlc3RFbnYpO30pO30pO30KJGZoLmRldmljZT1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHt9LGZ1bmN0aW9uKHAscyxmKXt9KTt9CiRmaC5nZW9pcD1mdW5jdGlvbigpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHthY3Q6J2dldCd9LGZ1bmN0aW9uKHAscyxmKXtpZignZ2V0Jz09cC5hY3Qpe3ZhciBkYXRhPXtpbnN0YW5jZTokZmguYXBwX3Byb3BzLmFwcGlkLGRvbWFpbjokZmguY2xvdWRfcHJvcHMuZG9tYWlufQokZmguX19hamF4KHsidXJsIjokZmguX2dldEhvc3RQcmVmaXgoKSsiYWN0L3dpZC9nZW9pcC9yZXNvbHZlIiwidHlwZSI6IlBPU1QiLCJkYXRhIjpKU09OLnN0cmluZ2lmeShkYXRhKSwic3VjY2VzcyI6ZnVuY3Rpb24ocmVzKXtmb3IodmFyIG4gaW4gcmVzLmdlb2lwKXtyZXNbbl09cmVzWydnZW9pcCddW25dO30KcyhyZXMpO319KTt9ZWxzZXtmKCdnZW9pcF9iYWRhY3QnLHApO319KTt9OyRmaC53ZWI9ZnVuY3Rpb24ocCxzLGYpe2hhbmRsZWFyZ3MoYXJndW1lbnRzLHttZXRob2Q6J0dFVCd9LGZ1bmN0aW9uKHAscyxmKXtpZighcC51cmwpe2YoJ2JhZF91cmwnKTt9CmlmKHAuaXNfbG9jYWwpeyRmaC5fX2FqYXgoe3VybDpwLnVybCx0eXBlOiJHRVQiLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe3ZhciByZXM9e307cmVzLnN0YXR1cz0yMDA7cmVzLmJvZHk9ZGF0YTtzKHJlcyk7fSxlcnJvcjpmdW5jdGlvbigpe2YoKTt9fSl9ZWxzZXskZmguX19hamF4KHsidXJsIjokZmguX2dldEhvc3RQcmVmaXgoKSsiYWN0L3dpZC93ZWIiLCJ0eXBlIjoiUE9TVCIsImRhdGEiOkpTT04uc3RyaW5naWZ5KHApLCJzdWNjZXNzIjpmdW5jdGlvbihyZXMpe3MocmVzKTt9fSk7fX0pO307JGZoLnByZWZzPWZ1bmN0aW9uKCl7aGFuZGxlYXJncyhhcmd1bWVudHMse2FjdDonbG9hZCd9LGZ1bmN0aW9uKHAscyxmKXtmKCJwcmVmc19kZXByZWNhdGVkIik7fSk7fTt9KSgpOzsoZnVuY3Rpb24oKXskZmgubGVnYWN5PSRmaC5sZWdhY3l8fHt9OyRmaC5sZWdhY3kuZGVzdGluYXRpb25OYW1lPWZoX2Rlc3RpbmF0aW9uX2NvZGU7JGZoLl9fWE1MSHR0cFJlcXVlc3RfXz13aW5kb3cuQWN0aXZlWE9iamVjdD9BY3RpdmVYT2JqZWN0OlhNTEh0dHBSZXF1ZXN0OyRmaC5fX3VzZUFjdGl2ZVhPYmplY3Q9d2luZG93LkFjdGl2ZVhPYmplY3Q/dHJ1ZTpmYWxzZTskZmgueGhyPWZ1bmN0aW9uKCl7aWYoJGZoLl9fdXNlQWN0aXZlWE9iamVjdCl7cmV0dXJuIG5ldyAkZmguX19YTUxIdHRwUmVxdWVzdF9fKCJNaWNyb3NvZnQuWE1MSFRUUCIpO31lbHNle3JldHVybiBuZXcgJGZoLl9fWE1MSHR0cFJlcXVlc3RfXygpO319CiRmaC5lbnQ9ZnVuY3Rpb24ocGF0aCxyZXEsc3VjY2Vzcyl7dmFyIGFyZ3M9W3BhdGgscmVxLHN1Y2Nlc3NdO2lmKHBhdGgmJidzdHJpbmcnPT10eXBlb2YocGF0aCkpe2FyZ3M9W3twYXRoOnBhdGgscmVxOnJlcX0sc3VjY2Vzc107fQpoYW5kbGVhcmdzKGFyZ3Mse2FjdDonbGlzdCd9LGZ1bmN0aW9uKHAscyxmKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmVudCBoYXMgYmVlbiBkZXByZWNhdGVkIik7fQpmKCJlbnRfZGVwcmVjYXRlZCIpO30pO307JGZoLmxlZ2FjeS5lbnQ9JGZoLmVudDskZmgubGVnYWN5LmdldEFzc2V0RmlsZXM9ZnVuY3Rpb24oc3JjKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmxlZ2FjeS5nZXRBc3NldEZpbGVzIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9CnJldHVybiBudWxsO307JGZoLmxlZ2FjeS5tYWtlU3RhdGljVXJsPWZ1bmN0aW9uKHBhdGgpe3JldHVybicvc3RhdGljL2EvJytmaF9jb25maWcuYXBwaWQrJy8nK2ZoX2Rlc3RpbmF0aW9uX2NvZGUrJy8nK2ZoX2FwcF92ZXJzaW9uKycvJytwYXRoO307JGZoLm1ha2VTdGF0aWNVcmw9JGZoLmxlZ2FjeS5tYWtlU3RhdGljVXJsOyRmaC5sZWdhY3kuZGVidWc9ZnVuY3Rpb24odmFsKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmxlZ2FjeS5kZWJ1ZyBoYXMgYmVlbiBkZXByZWNhdGVkIik7fX07JGZoLmxlZ2FjeS5wYXJzZURhdGU9ZnVuY3Rpb24oZGF0ZSl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coIiRmaC5sZWdhY3kucGFyc2VEYXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9fTskZmgubGVnYWN5LnNob3dIZWFkZXI9ZnVuY3Rpb24oc2hvdyl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coIiRmaC5sZWdhY3kuc2hvd0hlYWRlciBoYXMgYmVlbiBkZXByZWNhdGVkIik7fX07JGZoLmxlZ2FjeS5zaG93Rm9vdGVyPWZ1bmN0aW9uKHNob3cpe2lmKGNvbnNvbGUpe2NvbnNvbGUubG9nKCIkZmgubGVnYWN5LnNob3dGb290ZXIgaGFzIGJlZW4gZGVwcmVjYXRlZCIpO319OyRmaC5sZWdhY3kubG9hZFByZWZzPWZ1bmN0aW9uKGNhbGxiYWNrKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygiJGZoLmxlZ2FjeS5sb2FkUHJlZnMgaGFzIGJlZW4gZGVwcmVjYXRlZCIpO30KY2FsbGJhY2soe30pO307JGZoLmxlZ2FjeS5nZXRQcmVmcz1mdW5jdGlvbigpe2lmKGNvbnNvbGUpe2NvbnNvbGUubG9nKCIkZmgubGVnYWN5LmdldFByZWZzIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9CnJldHVybnt9O307JGZoLmxlZ2FjeS5nZXRGdWxsUHJlZnM9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKGNvbnNvbGUpe2NvbnNvbGUubG9nKCIkZmgubGVnYWN5LmdldEZ1bGxQcmVmcyBoYXMgYmVlbiBkZXByZWNhdGVkIik7fQpjYWxsYmFjayh7fSk7fTskZmgubGVnYWN5LnNhdmVQcmVmcz1mdW5jdGlvbihwcmVmcyxjYWxsYmFjayl7aWYoY29uc29sZSl7Y29uc29sZS5sb2coIiRmaC5sZWdhY3kuc2F2ZVByZWZzIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKTt9CmNhbGxiYWNrKHt9KTt9O30pKCk7OyhmdW5jdGlvbigpeyRmaC5fX3dlYnZpZXdfd2luPXVuZGVmaW5lZDskZmguX19kZXN0X18ud2Vidmlldz1mdW5jdGlvbihwLHMsZil7aWYoISgnYWN0J2luIHApfHxwLmFjdD09PSdvcGVuJyl7aWYoIXAudXJsKXtmKCdub191cmwnKTtyZXR1cm47fQp2YXIgb2xkX3VybD1wLnVybDskZmguX193ZWJ2aWV3X3dpbj13aW5kb3cub3BlbihwLnVybCwnX2JsYW5rJyk7cygib3BlbmVkIik7fWVsc2V7aWYocC5hY3Q9PT0nY2xvc2UnKXtpZih0eXBlb2YgJGZoLl9fd2Vidmlld193aW4hPSd1bmRlZmluZWQnKXskZmguX193ZWJ2aWV3X3dpbi5jbG9zZSgpOyRmaC5fX3dlYnZpZXdfd2luPXVuZGVmaW5lZDt9CnMoImNsb3NlZCIpO319fTskZmguX19kZXN0X18uZ2VvPWZ1bmN0aW9uKHAscyxmKXtpZih0eXBlb2YgbmF2aWdhdG9yLmdlb2xvY2F0aW9uIT0ndW5kZWZpbmVkJyl7aWYoIXAuYWN0fHxwLmFjdD09InJlZ2lzdGVyIil7aWYoJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKXtmKCdnZW9faW51c2UnLHt9LHApO3JldHVybjt9CmlmKHAuaW50ZXJ2YWw9PTApe25hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocG9zaXRpb24pe3ZhciBjb29yZHM9cG9zaXRpb24uY29vcmRzO3ZhciByZXNkYXRhPXtsb246Y29vcmRzLmxvbmdpdHVkZSxsYXQ6Y29vcmRzLmxhdGl0dWRlLGFsdDpjb29yZHMuYWx0aXR1ZGUsYWNjOmNvb3Jkcy5hY2N1cmFjeSxoZWFkOmNvb3Jkcy5oZWFkaW5nLHNwZWVkOmNvb3Jkcy5zcGVlZCx3aGVuOnBvc2l0aW9uLnRpbWVzdGFtcH07cyhyZXNkYXRhKTt9LGZ1bmN0aW9uKCl7ZignZXJyb3JfZ2VvJyx7fSxwKTt9KX07aWYocC5pbnRlcnZhbD4wKXt2YXIgaW50ZXJuYWxXYXRjaGVyPW5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKXt2YXIgY29vcmRzPXBvc2l0aW9uLmNvb3Jkczt2YXIgcmVzZGF0YT17bG9uOmNvb3Jkcy5sb25naXR1ZGUsbGF0OmNvb3Jkcy5sYXRpdHVkZSxhbHQ6Y29vcmRzLmFsdGl0dWRlLGFjYzpjb29yZHMuYWNjdXJhY3ksaGVhZDpjb29yZHMuaGVhZGluZyxzcGVlZDpjb29yZHMuc3BlZWQsd2hlbjpwb3NpdGlvbi50aW1lc3RhbXB9O3MocmVzZGF0YSk7fSxmdW5jdGlvbigpe2YoJ2Vycm9yX2dlbycse30scCk7fSx7ZnJlcXVlbmN5OnAuaW50ZXJ2YWx9KTskZmguX19kZXN0X18uX2dlb1dhdGNoZXI9aW50ZXJuYWxXYXRjaGVyO307fWVsc2UgaWYocC5hY3Q9PSJ1bnJlZ2lzdGVyIil7aWYoJGZoLl9fZGVzdF9fLl9nZW9XYXRjaGVyKXtuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCgkZmguX19kZXN0X18uX2dlb1dhdGNoZXIpOyRmaC5fX2Rlc3RfXy5fZ2VvV2F0Y2hlcj11bmRlZmluZWQ7fTtzKCk7fWVsc2V7ZignZ2VvX2JhZGFjdCcse30scCk7fX1lbHNle2YoJ2dlb19ub3N1cHBvcnQnLHt9LHApO319OyRmaC5fX2Rlc3RfXy5hY2M9ZnVuY3Rpb24ocCxzLGYpe3Moe3g6KE1hdGgucmFuZG9tKCkqNCktMix5OihNYXRoLnJhbmRvbSgpKjQpLTIsejooTWF0aC5yYW5kb20oKSo0KS0yLHdoZW46bmV3IERhdGUoKS5nZXRUaW1lKCl9KTt9CiRmaC5fX3NldFBhdGhQcmVmaXg9ZnVuY3Rpb24oZGF0YSl7JGZoLmxlZ2FjeS5wYXRocHJlZml4PSRmaC5sZWdhY3kuYm94cHJlZml4O319KSgpOw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 00:14:14 GMT",
                    "Content-Length": "204262",
                    "Date": "Fri, 07 Nov 2014 00:14:15 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/apigee/apigee-javascript-sdk/samples/usersAndGroups/js/jquery.mobile-1.3.1.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>n!==d?(u(d=n,r),e(t).trigger(s)):r!==d&amp;&amp;(location.href=location.href.replace(/#.*/,\"\")+r),o=setTimeout(i,e.fn[s].delay)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/apigee/apigee-javascript-sdk/samples/usersAndGroups/js/jquery.mobile-1.3.1.min.js",
                "path": "/apigee/apigee-javascript-sdk/samples/usersAndGroups/js/jquery.mobile-1.3.1.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9hcGlnZWUvYXBpZ2VlLWphdmFzY3JpcHQtc2RrL3NhbXBsZXMvdXNlcnNBbmRHcm91cHMvanMvanF1ZXJ5Lm1vYmlsZS0xLjMuMS5taW4uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQ0NTI1DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBUaHUsIDA2IE5vdiAyMDE0IDA5OjI0OjUyIEdNVA0KTGFzdC1Nb2RpZmllZDogVGh1LCAwNiBOb3YgMjAxNCAwOToyNDo0OSBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgMS4zLjEgfCBHaXQgSEVBRCBoYXNoOiA3NGI0YmVjIDw+IDIwMTMtMDQtMTBUMjE6NTc6MjNaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KKGZ1bmN0aW9uKGUsdCxpKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKG4pe3JldHVybiBpKG4sZSx0KSxuLm1vYmlsZX0pOmkoZS5qUXVlcnksZSx0KX0pKHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oZSx0LGksbil7KGZ1bmN0aW9uKGUpe2UubW9iaWxlPXt9fSkoZSksZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXt9O2UubW9iaWxlPWUuZXh0ZW5kKGUubW9iaWxlLHt2ZXJzaW9uOiIxLjMuMSIsbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ITEsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6ITAsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sd2luZG93OmUodCksZG9jdW1lbnQ6ZShpKSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihpKXsibnVtYmVyIiE9PWUudHlwZShpKSYmKGk9ZS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGUuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNjcm9sbFRvKDAsaSksZS5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6aX0pfSwyMCksc2V0VGltZW91dChmdW5jdGlvbigpe2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6YSxuc05vcm1hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD9hW3RdfHwoYVt0XT1lLmNhbWVsQ2FzZShlLm1vYmlsZS5ucyt0KSk6bn0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGksbixhPWVbMF0sbz0iIixzPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLzthJiYoaT1hLmNsYXNzTmFtZXx8IiIsIShpJiYobj1zLmV4ZWMoaSkpJiYobz1uWzJdKSkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gb3x8dHx8ImEifSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpLCA6anFtRGF0YShyb2xlPSJkaWFsb2ciKScpLmRhdGEoIm1vYmlsZS1wYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGUsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhlLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKHQsaSl7aWYoIWUubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiB0O2Zvcih2YXIgbixhLG8scz10Lmxlbmd0aCxyPWUoKSxsPTA7cz5sO2wrKyl7Zm9yKGE9dC5lcShsKSxvPSExLG49dFtsXTtuOyl7dmFyIGQ9bi5nZXRBdHRyaWJ1dGU/bi5nZXRBdHRyaWJ1dGUoImRhdGEtIitlLm1vYmlsZS5ucytpKToiIjtpZigiZmFsc2UiPT09ZCl7bz0hMDticmVha31uPW4ucGFyZW50Tm9kZX1vfHwocj1yLmFkZChhKSl9cmV0dXJuIHJ9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0LmlubmVySGVpZ2h0fHxlLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9fSxlLm1vYmlsZSksZS5mbi5qcW1EYXRhPWZ1bmN0aW9uKHQsaSl7dmFyIGE7cmV0dXJuIHQhPT1uJiYodCYmKHQ9ZS5tb2JpbGUubnNOb3JtYWxpemUodCkpLGE9Mj5hcmd1bWVudHMubGVuZ3RofHxpPT09bj90aGlzLmRhdGEodCk6dGhpcy5kYXRhKHQsaSkpLGF9LGUuanFtRGF0YT1mdW5jdGlvbih0LGksYSl7dmFyIG87cmV0dXJuIGkhPT1uJiYobz1lLmRhdGEodCxpP2UubW9iaWxlLm5zTm9ybWFsaXplKGkpOmksYSkpLG99LGUuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGUubW9iaWxlLm5zTm9ybWFsaXplKHQpKX0sZS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUucmVtb3ZlRGF0YSh0LGUubW9iaWxlLm5zTm9ybWFsaXplKGkpKX0sZS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbigpe2UucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGUucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24odCl7dmFyIGk9ZSh0KTsoaS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGUoKSkucmVtb3ZlKCksaS5yZW1vdmUoKX0sZS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKHQpe2UuYWRkRGVwZW5kZW50cyhlKHRoaXMpLHQpfSxlLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24odCxpKXt2YXIgbj1lKHQpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8ZSgpO2UodCkuanFtRGF0YSgiZGVwZW5kZW50cyIsZS5tZXJnZShuLGkpKX0sZS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBlKCI8ZGl2Lz4iKS50ZXh0KGUodGhpcykudGV4dCgpKS5odG1sKCl9LGUuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9LGUuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiBlLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTt2YXIgbz1lLmZpbmQscz0vOmpxbURhdGFcKChbXildKilcKS9nO2UuZmluZD1mdW5jdGlvbih0LGksbixhKXtyZXR1cm4gdD10LnJlcGxhY2UocywiW2RhdGEtIisoZS5tb2JpbGUubnN8fCIiKSsiJDFdIiksby5jYWxsKHRoaXMsdCxpLG4sYSl9LGUuZXh0ZW5kKGUuZmluZCxvKSxlLmZpbmQubWF0Y2hlcz1mdW5jdGlvbih0LGkpe3JldHVybiBlLmZpbmQodCxudWxsLG51bGwsaSl9LGUuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5maW5kKGksbnVsbCxudWxsLFt0XSkubGVuZ3RoPjB9fShlLHRoaXMpLGZ1bmN0aW9uKGUsdCl7dmFyIGk9MCxuPUFycmF5LnByb3RvdHlwZS5zbGljZSxhPWUuY2xlYW5EYXRhO2UuY2xlYW5EYXRhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxuPTA7bnVsbCE9KGk9dFtuXSk7bisrKXRyeXtlKGkpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChvKXt9YSh0KX0sZS53aWRnZXQ9ZnVuY3Rpb24oaSxuLGEpe3ZhciBvLHMscixsLGQ9aS5zcGxpdCgiLiIpWzBdO2k9aS5zcGxpdCgiLiIpWzFdLG89ZCsiLSIraSxhfHwoYT1uLG49ZS5XaWRnZXQpLGUuZXhwclsiOiJdW28udG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24odCl7cmV0dXJuISFlLmRhdGEodCxvKX0sZVtkXT1lW2RdfHx7fSxzPWVbZF1baV0scj1lW2RdW2ldPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD8oYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGUsaSksdCk6bmV3IHIoZSxpKX0sZS5leHRlbmQocixzLHt2ZXJzaW9uOmEudmVyc2lvbixfcHJvdG86ZS5leHRlbmQoe30sYSksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksbD1uZXcgbixsLm9wdGlvbnM9ZS53aWRnZXQuZXh0ZW5kKHt9LGwub3B0aW9ucyksZS5lYWNoKGEsZnVuY3Rpb24odCxpKXtlLmlzRnVuY3Rpb24oaSkmJihhW3RdPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhPWZ1bmN0aW9uKGUpe3JldHVybiBuLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGUpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMuX3N1cGVyLG89dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9ZSx0aGlzLl9zdXBlckFwcGx5PWEsdD1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1uLHRoaXMuX3N1cGVyQXBwbHk9byx0fX0oKSl9KSxyLnByb3RvdHlwZT1lLndpZGdldC5leHRlbmQobCx7d2lkZ2V0RXZlbnRQcmVmaXg6cz9sLndpZGdldEV2ZW50UHJlZml4Oml9LGEse2NvbnN0cnVjdG9yOnIsbmFtZXNwYWNlOmQsd2lkZ2V0TmFtZTppLHdpZGdldEZ1bGxOYW1lOm99KSxzPyhlLmVhY2gocy5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24odCxpKXt2YXIgbj1pLnByb3RvdHlwZTtlLndpZGdldChuLm5hbWVzcGFjZSsiLiIrbi53aWRnZXROYW1lLHIsaS5fcHJvdG8pfSksZGVsZXRlIHMuX2NoaWxkQ29uc3RydWN0b3JzKTpuLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKHIpLGUud2lkZ2V0LmJyaWRnZShpLHIpfSxlLndpZGdldC5leHRlbmQ9ZnVuY3Rpb24oaSl7Zm9yKHZhciBhLG8scz1uLmNhbGwoYXJndW1lbnRzLDEpLHI9MCxsPXMubGVuZ3RoO2w+cjtyKyspZm9yKGEgaW4gc1tyXSlvPXNbcl1bYV0sc1tyXS5oYXNPd25Qcm9wZXJ0eShhKSYmbyE9PXQmJihpW2FdPWUuaXNQbGFpbk9iamVjdChvKT9lLmlzUGxhaW5PYmplY3QoaVthXSk/ZS53aWRnZXQuZXh0ZW5kKHt9LGlbYV0sbyk6ZS53aWRnZXQuZXh0ZW5kKHt9LG8pOm8pO3JldHVybiBpfSxlLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oaSxhKXt2YXIgbz1hLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8aTtlLmZuW2ldPWZ1bmN0aW9uKHMpe3ZhciByPSJzdHJpbmciPT10eXBlb2YgcyxsPW4uY2FsbChhcmd1bWVudHMsMSksZD10aGlzO3JldHVybiBzPSFyJiZsLmxlbmd0aD9lLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbc10uY29uY2F0KGwpKTpzLHI/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG4sYT1lLmRhdGEodGhpcyxvKTtyZXR1cm4gYT9lLmlzRnVuY3Rpb24oYVtzXSkmJiJfIiE9PXMuY2hhckF0KDApPyhuPWFbc10uYXBwbHkoYSxsKSxuIT09YSYmbiE9PXQ/KGQ9biYmbi5qcXVlcnk/ZC5wdXNoU3RhY2sobi5nZXQoKSk6biwhMSk6dCk6ZS5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrcysiJyBmb3IgIitpKyIgd2lkZ2V0IGluc3RhbmNlIik6ZS5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2krIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgIisiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK3MrIiciKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUuZGF0YSh0aGlzLG8pO3Q/dC5vcHRpb24oc3x8e30pLl9pbml0KCk6ZS5kYXRhKHRoaXMsbyxuZXcgYShzLHRoaXMpKX0pLGR9fSxlLldpZGdldD1mdW5jdGlvbigpe30sZS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGUuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsbil7bj1lKG58fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1lKG4pLHRoaXMudXVpZD1pKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9ZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCksdGhpcy5iaW5kaW5ncz1lKCksdGhpcy5ob3ZlcmFibGU9ZSgpLHRoaXMuZm9jdXNhYmxlPWUoKSxuIT09dGhpcyYmKGUuZGF0YShuLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PT1uJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWUobi5zdHlsZT9uLm93bmVyRG9jdW1lbnQ6bi5kb2N1bWVudHx8biksdGhpcy53aW5kb3c9ZSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczplLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTplLm5vb3AsX2NyZWF0ZTplLm5vb3AsX2luaXQ6ZS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGUuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmUubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oaSxuKXt2YXIgYSxvLHMscj1pO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBlLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIGkpaWYocj17fSxhPWkuc3BsaXQoIi4iKSxpPWEuc2hpZnQoKSxhLmxlbmd0aCl7Zm9yKG89cltpXT1lLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2ldKSxzPTA7YS5sZW5ndGgtMT5zO3MrKylvW2Fbc11dPW9bYVtzXV18fHt9LG89b1thW3NdXTtpZihpPWEucG9wKCksbj09PXQpcmV0dXJuIG9baV09PT10P251bGw6b1tpXTtvW2ldPW59ZWxzZXtpZihuPT09dClyZXR1cm4gdGhpcy5vcHRpb25zW2ldPT09dD9udWxsOnRoaXMub3B0aW9uc1tpXTtyW2ldPW59cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMociksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZSl0aGlzLl9zZXRPcHRpb24odCxlW3RdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9wdGlvbnNbZV09dCwiZGlzYWJsZWQiPT09ZSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIiwhIXQpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHQpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX0sX29uOmZ1bmN0aW9uKGksbixhKXt2YXIgbyxzPXRoaXM7ImJvb2xlYW4iIT10eXBlb2YgaSYmKGE9bixuPWksaT0hMSksYT8obj1vPWUobiksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChuKSk6KGE9bixuPXRoaXMuZWxlbWVudCxvPXRoaXMud2lkZ2V0KCkpLGUuZWFjaChhLGZ1bmN0aW9uKGEscil7ZnVuY3Rpb24gbCgpe3JldHVybiBpfHxzLm9wdGlvbnMuZGlzYWJsZWQhPT0hMCYmIWUodGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIik/KCJzdHJpbmciPT10eXBlb2Ygcj9zW3JdOnIpLmFwcGx5KHMsYXJndW1lbnRzKTp0fSJzdHJpbmciIT10eXBlb2YgciYmKGwuZ3VpZD1yLmd1aWQ9ci5ndWlkfHxsLmd1aWR8fGUuZ3VpZCsrKTt2YXIgZD1hLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGM9ZFsxXStzLmV2ZW50TmFtZXNwYWNlLGg9ZFsyXTtoP28uZGVsZWdhdGUoaCxjLGwpOm4uYmluZChjLGwpfSl9LF9vZmY6ZnVuY3Rpb24oZSx0KXt0PSh0fHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGUudW5iaW5kKHQpLnVuZGVsZWdhdGUodCl9LF9kZWxheTpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBlP25bZV06ZSkuYXBwbHkobixhcmd1bWVudHMpfXZhciBuPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoaSx0fHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbih0KXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQodCksdGhpcy5fb24odCx7bW91c2VlbnRlcjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KSx0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGksbil7dmFyIGEsbyxzPXRoaXMub3B0aW9uc1t0XTtpZihuPW58fHt9LGk9ZS5FdmVudChpKSxpLnR5cGU9KHQ9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P3Q6dGhpcy53aWRnZXRFdmVudFByZWZpeCt0KS50b0xvd2VyQ2FzZSgpLGkudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxvPWkub3JpZ2luYWxFdmVudClmb3IoYSBpbiBvKWEgaW4gaXx8KGlbYV09b1thXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGksbiksIShlLmlzRnVuY3Rpb24ocykmJnMuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtpXS5jb25jYXQobikpPT09ITF8fGkuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sZS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbih0LGkpe2UuV2lkZ2V0LnByb3RvdHlwZVsiXyIrdF09ZnVuY3Rpb24obixhLG8peyJzdHJpbmciPT10eXBlb2YgYSYmKGE9e2VmZmVjdDphfSk7dmFyIHMscj1hP2E9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBhP2k6YS5lZmZlY3R8fGk6dDthPWF8fHt9LCJudW1iZXIiPT10eXBlb2YgYSYmKGE9e2R1cmF0aW9uOmF9KSxzPSFlLmlzRW1wdHlPYmplY3QoYSksYS5jb21wbGV0ZT1vLGEuZGVsYXkmJm4uZGVsYXkoYS5kZWxheSkscyYmZS5lZmZlY3RzJiZlLmVmZmVjdHMuZWZmZWN0W3JdP25bdF0oYSk6ciE9PXQmJm5bcl0/bltyXShhLmR1cmF0aW9uLGEuZWFzaW5nLG8pOm4ucXVldWUoZnVuY3Rpb24oaSl7ZSh0aGlzKVt0XSgpLG8mJm8uY2FsbChuWzBdKSxpKCl9KX19KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXtlLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBpPXRoaXMuZWxlbWVudCxuPXt9O3JldHVybiBlLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGUpe3ZhciBhPWkuanFtRGF0YShlLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oZSl7cmV0dXJuIi0iK2UudG9Mb3dlckNhc2UoKX0pKTthIT09dCYmKG5bZV09YSl9KSxufSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKHQsaSl7dGhpcy5lbmhhbmNlKGUodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixlKHQpKSxpKX0sZW5oYW5jZTpmdW5jdGlvbih0LGkpe3ZhciBuLGEsbz1lKHQpO289ZS5tb2JpbGUuZW5oYW5jZWFibGUobyksaSYmby5sZW5ndGgmJihuPWUubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShvKSxhPW4mJm4ua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiLG89by5ub3QoYSkpLG9bdGhpcy53aWRnZXROYW1lXSgpfSxyYWlzZTpmdW5jdGlvbihlKXt0aHJvdyJXaWRnZXQgWyIrdGhpcy53aWRnZXROYW1lKyJdOiAiK2V9fSl9KGUpLGZ1bmN0aW9uKGUpe2UuZXh0ZW5kKGUubW9iaWxlLHtsb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOm4sbG9hZGluZ01lc3NhZ2VUaGVtZTpuLGxvYWRpbmdNZXNzYWdlOm4sc2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKHQsaSxuKXtlLm1vYmlsZS5sb2FkaW5nKCJzaG93Iix0LGksbil9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2UubW9iaWxlLmxvYWRpbmcoImhpZGUiKX0sbG9hZGluZzpmdW5jdGlvbigpe3RoaXMubG9hZGVyV2lkZ2V0LmxvYWRlci5hcHBseSh0aGlzLmxvYWRlcldpZGdldCxhcmd1bWVudHMpfX0pO3ZhciB0PSJ1aS1sb2FkZXIiLGk9ZSgiaHRtbCIpLGE9ZS5tb2JpbGUud2luZG93O2Uud2lkZ2V0KCJtb2JpbGUubG9hZGVyIix7b3B0aW9uczp7dGhlbWU6ImEiLHRleHRWaXNpYmxlOiExLGh0bWw6IiIsdGV4dDoibG9hZGluZyJ9LGRlZmF1bHRIdG1sOiI8ZGl2IGNsYXNzPSciK3QrIic+IisiPHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nJz48L3NwYW4+IisiPGgxPjwvaDE+IisiPC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9ZSgiLiIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmUuc3VwcG9ydC5zY3JvbGxUb3AmJmEuc2Nyb2xsVG9wKCkrYS5oZWlnaHQoKS8yfHx0Lmxlbmd0aCYmdC5vZmZzZXQoKS50b3B8fDEwMH0pfSxjaGVja0xvYWRlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGk9YS5zY3JvbGxUb3AoKSxuPWUubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhpPnQudG9wfHx0LnRvcC1pPm4pJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGEudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixlLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChlKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24obyxzLHIpe3ZhciBsLGQsYzt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09ZS50eXBlKG8pPyhjPWUuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxvKSxvPWMudGhlbWV8fGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWUpOihjPXRoaXMub3B0aW9ucyxvPW98fGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWV8fGMudGhlbWUpLGQ9c3x8ZS5tb2JpbGUubG9hZGluZ01lc3NhZ2V8fGMudGV4dCxpLmFkZENsYXNzKCJ1aS1sb2FkaW5nIiksKGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGMuaHRtbCkmJihsPWUubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGUhPT1uP2UubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6Yy50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLHQrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitvKyIgdWktbG9hZGVyLSIrKGx8fHN8fG8udGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoYy50ZXh0b25seXx8cj8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxjLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoYy5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGQpLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhlLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxhLmJpbmQoInNjcm9sbCIsZS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpKX0saGlkZTpmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSxlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGUubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxlLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSksYS5iaW5kKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2UubW9iaWxlLmxvYWRlcldpZGdldD1lLm1vYmlsZS5sb2FkZXJXaWRnZXR8fGUoZS5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCkubG9hZGVyKCl9KX0oZSx0aGlzKSxmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT1lfHxsb2NhdGlvbi5ocmVmLCIjIitlLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBvLHM9Imhhc2hjaGFuZ2UiLHI9aSxsPWUuZXZlbnQuc3BlY2lhbCxkPXIuZG9jdW1lbnRNb2RlLGM9Im9uIitzIGluIHQmJihkPT09bnx8ZD43KTtlLmZuW3NdPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChzLGUpOnRoaXMudHJpZ2dlcihzKX0sZS5mbltzXS5kZWxheT01MCxsW3NdPWUuZXh0ZW5kKGxbc10se3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGM/ITE6KGUoby5zdGFydCksbil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGM/ITE6KGUoby5zdG9wKSxuKX19KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3ZhciBuPWEoKSxyPXAoZCk7biE9PWQ/KHUoZD1uLHIpLGUodCkudHJpZ2dlcihzKSk6ciE9PWQmJihsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrciksbz1zZXRUaW1lb3V0KGksZS5mbltzXS5kZWxheSl9dmFyIG8sbD17fSxkPWEoKSxoPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx1PWgscD1oO3JldHVybiBsLnN0YXJ0PWZ1bmN0aW9uKCl7b3x8aSgpfSxsLnN0b3A9ZnVuY3Rpb24oKXtvJiZjbGVhclRpbWVvdXQobyksbz1ufSx0LmF0dGFjaEV2ZW50JiYhdC5hZGRFdmVudExpc3RlbmVyJiYhYyYmZnVuY3Rpb24oKXt2YXIgdCxuO2wuc3RhcnQ9ZnVuY3Rpb24oKXt0fHwobj1lLmZuW3NdLnNyYyxuPW4mJm4rYSgpLHQ9ZSgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7bnx8dShhKCkpLGkoKX0pLmF0dHIoInNyYyIsbnx8ImphdmFzY3JpcHQ6MCIpLmluc2VydEFmdGVyKCJib2R5IilbMF0uY29udGVudFdpbmRvdyxyLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7InRpdGxlIj09PWV2ZW50LnByb3BlcnR5TmFtZSYmKHQuZG9jdW1lbnQudGl0bGU9ci50aXRsZSl9Y2F0Y2goZSl7fX0pfSxsLnN0b3A9aCxwPWZ1bmN0aW9uKCl7cmV0dXJuIGEodC5sb2NhdGlvbi5ocmVmKX0sdT1mdW5jdGlvbihpLG4pe3ZhciBhPXQuZG9jdW1lbnQsbz1lLmZuW3NdLmRvbWFpbjtpIT09biYmKGEudGl0bGU9ci50aXRsZSxhLm9wZW4oKSxvJiZhLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytvKyciPC9zY3JpcHQ+JyksYS5jbG9zZSgpLHQubG9jYXRpb24uaGFzaD1pKX19KCksbH0oKX0oZSx0aGlzKSxmdW5jdGlvbihlKXt0Lm1hdGNoTWVkaWE9dC5tYXRjaE1lZGlhfHxmdW5jdGlvbihlKXt2YXIgdCxpPWUuZG9jdW1lbnRFbGVtZW50LG49aS5maXJzdEVsZW1lbnRDaGlsZHx8aS5maXJzdENoaWxkLGE9ZS5jcmVhdGVFbGVtZW50KCJib2R5Iiksbz1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBvLmlkPSJtcS10ZXN0LTEiLG8uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7dG9wOi0xMDBlbSIsYS5zdHlsZS5iYWNrZ3JvdW5kPSJub25lIixhLmFwcGVuZENoaWxkKG8pLGZ1bmN0aW9uKGUpe3JldHVybiBvLmlubmVySFRNTD0nJnNoeTs8c3R5bGUgbWVkaWE9IicrZSsnIj4gI21xLXRlc3QtMSB7IHdpZHRoOiA0MnB4OyB9PC9zdHlsZT4nLGkuaW5zZXJ0QmVmb3JlKGEsbiksdD00Mj09PW8ub2Zmc2V0V2lkdGgsaS5yZW1vdmVDaGlsZChhKSx7bWF0Y2hlczp0LG1lZGlhOmV9fX0oaSksZS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQubWF0Y2hNZWRpYShlKS5tYXRjaGVzfX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9e3RvdWNoOiJvbnRvdWNoZW5kImluIGl9O2UubW9iaWxlLnN1cHBvcnQ9ZS5tb2JpbGUuc3VwcG9ydHx8e30sZS5leHRlbmQoZS5zdXBwb3J0LHQpLGUuZXh0ZW5kKGUubW9iaWxlLnN1cHBvcnQsdCl9KGUpLGZ1bmN0aW9uKGUpe2UuZXh0ZW5kKGUuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluIHQmJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIHR9KX0oZSksZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBhKGUpe3ZhciB0PWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSksaT0oZSsiICIrcC5qb2luKHQrIiAiKSt0KS5zcGxpdCgiICIpO2Zvcih2YXIgYSBpbiBpKWlmKHVbaVthXV0hPT1uKXJldHVybiEwfWZ1bmN0aW9uIG8oZSx0LG4pe2Zvcih2YXIgYSxvPWkuY3JlYXRlRWxlbWVudCgiZGl2Iikscz1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cigxKX0scj1mdW5jdGlvbihlKXtyZXR1cm4iIj09PWU/IiI6Ii0iK2UuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrZS5zdWJzdHIoMSkrIi0ifSxsPWZ1bmN0aW9uKGkpe3ZhciBuPXIoaSkrZSsiOiAiK3QrIjsiLGw9cyhpKSxkPWwrKCIiPT09bD9lOnMoZSkpO28uc2V0QXR0cmlidXRlKCJzdHlsZSIsbiksby5zdHlsZVtkXSYmKGE9ITApfSxkPW4/bjpwLGM9MDtkLmxlbmd0aD5jO2MrKylsKGRbY10pO3JldHVybiEhYX1mdW5jdGlvbiBzKCl7dmFyIGE9InRyYW5zZm9ybS0zZCIsbz1lLm1vYmlsZS5tZWRpYSgiKC0iK3Auam9pbigiLSIrYSsiKSwoLSIpKyItIithKyIpLCgiK2ErIikiKTtpZihvKXJldHVybiEhbzt2YXIgcz1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9e01velRyYW5zZm9ybToiLW1vei10cmFuc2Zvcm0iLHRyYW5zZm9ybToidHJhbnNmb3JtIn07aC5hcHBlbmQocyk7Zm9yKHZhciBsIGluIHIpcy5zdHlsZVtsXSE9PW4mJihzLnN0eWxlW2xdPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLG89dC5nZXRDb21wdXRlZFN0eWxlKHMpLmdldFByb3BlcnR5VmFsdWUocltsXSkpO3JldHVybiEhbyYmIm5vbmUiIT09b31mdW5jdGlvbiByKCl7dmFyIHQsaSxuPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsYT1lKCJoZWFkIGJhc2UiKSxvPW51bGwscz0iIjtyZXR1cm4gYS5sZW5ndGg/cz1hLmF0dHIoImhyZWYiKTphPW89ZSgiPGJhc2U+Iix7aHJlZjpufSkuYXBwZW5kVG8oImhlYWQiKSx0PWUoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKGgpLGk9dFswXS5ocmVmLGFbMF0uaHJlZj1zfHxsb2NhdGlvbi5wYXRobmFtZSxvJiZvLnJlbW92ZSgpLDA9PT1pLmluZGV4T2Yobil9ZnVuY3Rpb24gbCgpe3ZhciBlLG49aS5jcmVhdGVFbGVtZW50KCJ4IiksYT1pLmRvY3VtZW50RWxlbWVudCxvPXQuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBuLnN0eWxlPyhuLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLG4uc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsYS5hcHBlbmRDaGlsZChuKSxlPW8mJiJhdXRvIj09PW8obiwiIikucG9pbnRlckV2ZW50cyxhLnJlbW92ZUNoaWxkKG4pLCEhZSk6ITF9ZnVuY3Rpb24gZCgpe3ZhciBlPWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09bn1mdW5jdGlvbiBjKCl7dmFyIGU9dCxpPW5hdmlnYXRvci51c2VyQWdlbnQsbj1uYXZpZ2F0b3IucGxhdGZvcm0sYT1pLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxvPSEhYSYmYVsxXSxzPWkubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxyPSEhcyYmc1sxXSxsPWkubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksZD0hIWwmJmxbMV07cmV0dXJuKG4uaW5kZXhPZigiaVBob25lIik+LTF8fG4uaW5kZXhPZigiaVBhZCIpPi0xfHxuLmluZGV4T2YoImlQb2QiKT4tMSkmJm8mJjUzND5vfHxlLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGUub3BlcmFtaW5pKXx8bCYmNzQ1OD5kfHxpLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmbyYmNTMzPm98fHImJjY+cnx8InBhbG1HZXRSZXNvdXJjZSJpbiB0JiZvJiY1MzQ+b3x8aS5pbmRleE9mKCJNZWVHbyIpPi0xJiZpLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBoPWUoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLHU9aFswXS5zdHlsZSxwPVsiV2Via2l0IiwiTW96IiwiTyJdLG09InBhbG1HZXRSZXNvdXJjZSJpbiB0LGY9dC5vcGVyYSxnPXQub3BlcmFtaW5pJiYiW29iamVjdCBPcGVyYU1pbmldIj09PXt9LnRvU3RyaW5nLmNhbGwodC5vcGVyYW1pbmkpLGI9dC5ibGFja2JlcnJ5JiYhYSgiLXdlYmtpdC10cmFuc2Zvcm0iKTtlLmV4dGVuZChlLm1vYmlsZSx7YnJvd3Nlcjp7fX0pLGUubW9iaWxlLmJyb3dzZXIub2xkSUU9ZnVuY3Rpb24oKXt2YXIgZT0zLHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxuPXQuYWxsfHxbXTtkbyB0LmlubmVySFRNTD0iPCEtLVtpZiBndCBJRSAiKyArK2UrIl0+PGJyPjwhW2VuZGlmXS0tPiI7d2hpbGUoblswXSk7cmV0dXJuIGU+ND9lOiFlfSgpLGUuZXh0ZW5kKGUuc3VwcG9ydCx7Y3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiB0fHxvKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIsWyJXZWJraXQiLCJNb3oiLCIiXSkmJiFlLm1vYmlsZS5icm93c2VyLm9sZElFJiYhZixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnkmJiEodC5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKT49MCYmdC50b3AhPT10KSYmLTE9PT10Lm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9DcmlPUy8pLG1lZGlhcXVlcnk6ZS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWEoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhYSgib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpzKCksYm94U2hhZG93OiEhYSgiYm94U2hhZG93IikmJiFiLGZpeGVkUG9zaXRpb246YygpLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHR8fCJzY3JvbGxUb3AiaW4gaS5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gaFswXSkmJiFtJiYhZyxkeW5hbWljQmFzZVRhZzpyKCksY3NzUG9pbnRlckV2ZW50czpsKCksYm91bmRpbmdSZWN0OmQoKX0pLGgucmVtb3ZlKCk7dmFyIHY9ZnVuY3Rpb24oKXt2YXIgZT10Lm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGUuaW5kZXhPZigiTm9raWEiKT4tMSYmKGUuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGUuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmZS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZlLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7ZS5tb2JpbGUuZ3JhZGVBPWZ1bmN0aW9uKCl7cmV0dXJuKGUuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxlLm1vYmlsZS5icm93c2VyLm9sZElFJiZlLm1vYmlsZS5icm93c2VyLm9sZElFPj03KSYmKGUuc3VwcG9ydC5ib3VuZGluZ1JlY3R8fG51bGwhPT1lLmZuLmpxdWVyeS5tYXRjaCgvMVwuWzAtNytdXC5bMC05K10/LykpfSxlLm1vYmlsZS5hamF4QmxhY2tsaXN0PXQuYmxhY2tiZXJyeSYmIXQuV2ViS2l0UG9pbnR8fGd8fHYsdiYmZShmdW5jdGlvbigpe2UoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSksZS5zdXBwb3J0LmJveFNoYWRvd3x8ZSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfShlKSxmdW5jdGlvbihlLHQpe3ZhciBpLG49ZS5tb2JpbGUud2luZG93O2UuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZT1pPXtib3VuZDohMSxwdXNoU3RhdGVFbmFibGVkOiEwLG9yaWdpbmFsRXZlbnROYW1lOnQsaXNQdXNoU3RhdGVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3VwcG9ydC5wdXNoU3RhdGUmJmUubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQ9PT0hMCYmdGhpcy5pc0hhc2hDaGFuZ2VFbmFibGVkKCl9LGlzSGFzaENoYW5nZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ9PT0hMH0scG9wc3RhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bmV3IGUuRXZlbnQoIm5hdmlnYXRlIiksYT1uZXcgZS5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKSxvPXQub3JpZ2luYWxFdmVudC5zdGF0ZXx8e307bG9jYXRpb24uaHJlZixuLnRyaWdnZXIoYSksYS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQuaGlzdG9yeVN0YXRlJiZlLmV4dGVuZChvLHQuaGlzdG9yeVN0YXRlKSxpLm9yaWdpbmFsRXZlbnQ9dCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi50cmlnZ2VyKGkse3N0YXRlOm99KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBlLkV2ZW50KCJuYXZpZ2F0ZSIpLGE9bmV3IGUuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7bi50cmlnZ2VyKGEpLGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fChpLm9yaWdpbmFsRXZlbnQ9dCxuLnRyaWdnZXIoaSx7c3RhdGU6dC5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2kuYm91bmR8fChpLmJvdW5kPSEwLGkuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGkub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixuLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixpLnBvcHN0YXRlKSk6aS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihpLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixuLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGkuaGFzaGNoYW5nZSkpKX19fShlKSxmdW5jdGlvbihlLGkpe3ZhciBuLGEsbz0iJnVpLXN0YXRlPWRpYWxvZyI7ZS5tb2JpbGUucGF0aD1uPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lP3RoaXMucGFyc2VVcmwoZSk6bG9jYXRpb24saT10aGlzLnBhcnNlVXJsKGV8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGk9IiMiPT09aT8iIjppLHQucHJvdG9jb2wrIi8vIit0Lmhvc3QrdC5wYXRobmFtZSt0LnNlYXJjaCtpfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PT1lLnR5cGUodCkpcmV0dXJuIHQ7dmFyIGk9bi51cmxQYXJzZVJFLmV4ZWModHx8IiIpfHxbXTtyZXR1cm57aHJlZjppWzBdfHwiIixocmVmTm9IYXNoOmlbMV18fCIiLGhyZWZOb1NlYXJjaDppWzJdfHwiIixkb21haW46aVszXXx8IiIscHJvdG9jb2w6aVs0XXx8IiIsZG91YmxlU2xhc2g6aVs1XXx8IiIsYXV0aG9yaXR5OmlbNl18fCIiLHVzZXJuYW1lOmlbOF18fCIiLHBhc3N3b3JkOmlbOV18fCIiLGhvc3Q6aVsxMF18fCIiLGhvc3RuYW1lOmlbMTFdfHwiIixwb3J0OmlbMTJdfHwiIixwYXRobmFtZTppWzEzXXx8IiIsZGlyZWN0b3J5OmlbMTRdfHwiIixmaWxlbmFtZTppWzE1XXx8IiIsc2VhcmNoOmlbMTZdfHwiIixoYXNoOmlbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oZSx0KXtpZihlJiYiLyI9PT1lLmNoYXJBdCgwKSlyZXR1cm4gZTtlPWV8fCIiLHQ9dD90LnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiI7Zm9yKHZhciBpPXQ/dC5zcGxpdCgiLyIpOltdLG49ZS5zcGxpdCgiLyIpLGE9MDtuLmxlbmd0aD5hO2ErKyl7dmFyIG89blthXTtzd2l0Y2gobyl7Y2FzZSIuIjpicmVhaztjYXNlIi4uIjppLmxlbmd0aCYmaS5wb3AoKTticmVhaztkZWZhdWx0OmkucHVzaChvKX19cmV0dXJuIi8iK2kuam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5wYXJzZVVybChlKS5kb21haW49PT1uLnBhcnNlVXJsKHQpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihlKXtyZXR1cm4iIj09PW4ucGFyc2VVcmwoZSkucHJvdG9jb2x9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1uLnBhcnNlVXJsKGUpLnByb3RvY29sfSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oZSx0KXtpZighbi5pc1JlbGF0aXZlVXJsKGUpKXJldHVybiBlO3Q9PT1pJiYodD10aGlzLmRvY3VtZW50QmFzZSk7dmFyIGE9bi5wYXJzZVVybChlKSxvPW4ucGFyc2VVcmwodCkscz1hLnByb3RvY29sfHxvLnByb3RvY29sLHI9YS5wcm90b2NvbD9hLmRvdWJsZVNsYXNoOmEuZG91YmxlU2xhc2h8fG8uZG91YmxlU2xhc2gsbD1hLmF1dGhvcml0eXx8by5hdXRob3JpdHksZD0iIiE9PWEucGF0aG5hbWUsYz1uLm1ha2VQYXRoQWJzb2x1dGUoYS5wYXRobmFtZXx8by5maWxlbmFtZSxvLnBhdGhuYW1lKSxoPWEuc2VhcmNofHwhZCYmby5zZWFyY2h8fCIiLHU9YS5oYXNoO3JldHVybiBzK3IrbCtjK2grdX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKHQsaSl7dmFyIGE9bi5wYXJzZVVybCh0KSxvPSJvYmplY3QiPT10eXBlb2YgaT9lLnBhcmFtKGkpOmkscz1hLnNlYXJjaHx8Ij8iO3JldHVybiBhLmhyZWZOb1NlYXJjaCtzKygiPyIhPT1zLmNoYXJBdChzLmxlbmd0aC0xKT8iJiI6IiIpK28rKGEuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGUpe3ZhciBpPW4ucGFyc2VVcmwoZSk7cmV0dXJuIG4uaXNFbWJlZGRlZFBhZ2UoaSk/aS5oYXNoLnNwbGl0KG8pWzBdLnJlcGxhY2UoL14jLywiIikucmVwbGFjZSgvXD8uKiQvLCIiKTpuLmlzU2FtZURvbWFpbihpLHRoaXMuZG9jdW1lbnRCYXNlKT9pLmhyZWZOb0hhc2gucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpLnNwbGl0KG8pWzBdOnQuZGVjb2RlVVJJQ29tcG9uZW50KGUpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pJiYoZT1uLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxuLnN0cmlwSGFzaChlKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LHNldDpmdW5jdGlvbihlKXtsb2NhdGlvbi5oYXNoPWV9LGlzUGF0aDpmdW5jdGlvbihlKXtyZXR1cm4vXC8vLnRlc3QoZSl9LGNsZWFuOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL14jLywiIil9LHN0cmlwUXVlcnlQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXD8uKiQvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGUpe3JldHVybiBuLnN0cmlwSGFzaChlLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShvLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybi9eI1teI10rJC8udGVzdChlKX0saXNFeHRlcm5hbDpmdW5jdGlvbihlKXt2YXIgdD1uLnBhcnNlVXJsKGUpO3JldHVybiB0LnByb3RvY29sJiZ0LmRvbWFpbiE9PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihlKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGUpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihlKXt2YXIgdD1uLnBhcnNlVXJsKGUpO3JldHVybiIiIT09dC5wcm90b2NvbD8hdGhpcy5pc1BhdGgodC5oYXNoKSYmdC5oYXNoJiYodC5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJnQuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gpOi9eIy8udGVzdCh0LmhyZWYpfSxzcXVhc2g6ZnVuY3Rpb24oZSx0KXt2YXIgaSxhLG8scyxyPXRoaXMuaXNQYXRoKGUpLGw9dGhpcy5wYXJzZVVybChlKSxkPWwuaGFzaCxjPSIiO3JldHVybiB0PXR8fChuLmlzUGF0aChlKT9uLmdldExvY2F0aW9uKCk6bi5nZXREb2N1bWVudFVybCgpKSxhPXI/bi5zdHJpcEhhc2goZSk6ZSxhPW4uaXNQYXRoKGwuaGFzaCk/bi5zdHJpcEhhc2gobC5oYXNoKTphLHM9YS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkscz4tMSYmKGM9YS5zbGljZShzKSxhPWEuc2xpY2UoMCxzKSksaT1uLm1ha2VVcmxBYnNvbHV0ZShhLHQpLG89dGhpcy5wYXJzZVVybChpKS5zZWFyY2gscj8oKG4uaXNQYXRoKGQpfHwwPT09ZC5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpKSYmKGQ9IiIpLGMmJi0xPT09ZC5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkmJihkKz1jKSwtMT09PWQuaW5kZXhPZigiIyIpJiYiIiE9PWQmJihkPSIjIitkKSxpPW4ucGFyc2VVcmwoaSksaT1pLnByb3RvY29sKyIvLyIraS5ob3N0K2kucGF0aG5hbWUrbytkKTppKz1pLmluZGV4T2YoIiMiKT4tMT9jOiIjIitjLGl9LGlzUHJlc2VydmFibGVIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpfX0sbi5kb2N1bWVudFVybD1uLnBhcnNlTG9jYXRpb24oKSxhPWUoImhlYWQiKS5maW5kKCJiYXNlIiksbi5kb2N1bWVudEJhc2U9YS5sZW5ndGg/bi5wYXJzZVVybChuLm1ha2VVcmxBYnNvbHV0ZShhLmF0dHIoImhyZWYiKSxuLmRvY3VtZW50VXJsLmhyZWYpKTpuLmRvY3VtZW50VXJsLG4uZG9jdW1lbnRCYXNlRGlmZmVycz1uLmRvY3VtZW50VXJsLmhyZWZOb0hhc2ghPT1uLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLG4uZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ZS5leHRlbmQoe30sbi5kb2N1bWVudFVybCk6bi5kb2N1bWVudFVybC5ocmVmfSxuLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gdD9lLmV4dGVuZCh7fSxuLmRvY3VtZW50QmFzZSk6bi5kb2N1bWVudEJhc2UuaHJlZn19KGUpLGZ1bmN0aW9uKGUsdCl7ZS5tb2JpbGUucGF0aCxlLm1vYmlsZS5IaXN0b3J5PWZ1bmN0aW9uKGUsdCl7dGhpcy5zdGFjaz1lfHxbXSx0aGlzLmFjdGl2ZUluZGV4PXR8fDB9LGUuZXh0ZW5kKGUubW9iaWxlLkhpc3RvcnkucHJvdG90eXBlLHtnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4XX0sZ2V0TGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMucHJldmlvdXNJbmRleF19LGdldE5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4KzFdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleC0xXX0sYWRkOmZ1bmN0aW9uKGUsdCl7dD10fHx7fSx0aGlzLmdldE5leHQoKSYmdGhpcy5jbGVhckZvcndhcmQoKSx0Lmhhc2gmJi0xPT09dC5oYXNoLmluZGV4T2YoIiMiKSYmKHQuaGFzaD0iIyIrdC5oYXNoKSx0LnVybD1lLHRoaXMuc3RhY2sucHVzaCh0KSx0aGlzLmFjdGl2ZUluZGV4PXRoaXMuc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe3RoaXMuc3RhY2s9dGhpcy5zdGFjay5zbGljZSgwLHRoaXMuYWN0aXZlSW5kZXgrMSl9LGZpbmQ6ZnVuY3Rpb24oZSx0LGkpe3Q9dHx8dGhpcy5zdGFjazt2YXIgbixhLG8scz10Lmxlbmd0aDtmb3IoYT0wO3M+YTthKyspaWYobj10W2FdLChkZWNvZGVVUklDb21wb25lbnQoZSk9PT1kZWNvZGVVUklDb21wb25lbnQobi51cmwpfHxkZWNvZGVVUklDb21wb25lbnQoZSk9PT1kZWNvZGVVUklDb21wb25lbnQobi5oYXNoKSkmJihvPWEsaSkpcmV0dXJuIG87cmV0dXJuIG99LGNsb3Nlc3Q6ZnVuY3Rpb24oZSl7dmFyIGksbj10aGlzLmFjdGl2ZUluZGV4O3JldHVybiBpPXRoaXMuZmluZChlLHRoaXMuc3RhY2suc2xpY2UoMCxuKSksaT09PXQmJihpPXRoaXMuZmluZChlLHRoaXMuc3RhY2suc2xpY2UobiksITApLGk9aT09PXQ/aTppK24pLGl9LGRpcmVjdDpmdW5jdGlvbihpKXt2YXIgbj10aGlzLmNsb3Nlc3QoaS51cmwpLGE9dGhpcy5hY3RpdmVJbmRleDtuIT09dCYmKHRoaXMuYWN0aXZlSW5kZXg9bix0aGlzLnByZXZpb3VzSW5kZXg9YSksYT5uPyhpLnByZXNlbnR8fGkuYmFja3x8ZS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJiYWNrIik6bj5hPyhpLnByZXNlbnR8fGkuZm9yd2FyZHx8ZS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJmb3J3YXJkIik6bj09PXQmJmkubWlzc2luZyYmaS5taXNzaW5nKHRoaXMuZ2V0QWN0aXZlKCkpfX0pfShlKSxmdW5jdGlvbihlKXt2YXIgYT1lLm1vYmlsZS5wYXRoLG89bG9jYXRpb24uaHJlZjtlLm1vYmlsZS5OYXZpZ2F0b3I9ZnVuY3Rpb24odCl7dGhpcy5oaXN0b3J5PXQsdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMCxlLm1vYmlsZS53aW5kb3cuYmluZCh7InBvcHN0YXRlLmhpc3RvcnkiOmUucHJveHkodGhpcy5wb3BzdGF0ZSx0aGlzKSwiaGFzaGNoYW5nZS5oaXN0b3J5IjplLnByb3h5KHRoaXMuaGFzaGNoYW5nZSx0aGlzKX0pfSxlLmV4dGVuZChlLm1vYmlsZS5OYXZpZ2F0b3IucHJvdG90eXBlLHtzcXVhc2g6ZnVuY3Rpb24obixvKXt2YXIgcyxyLGw9YS5pc1BhdGgobik/YS5zdHJpcEhhc2gobik6bjtyZXR1cm4gcj1hLnNxdWFzaChuKSxzPWUuZXh0ZW5kKHtoYXNoOmwsdXJsOnJ9LG8pLHQuaGlzdG9yeS5yZXBsYWNlU3RhdGUocyxzLnRpdGxlfHxpLnRpdGxlLHIpLHN9LGhhc2g6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLG87aWYoaT1hLnBhcnNlVXJsKGUpLG49YS5wYXJzZUxvY2F0aW9uKCksbi5wYXRobmFtZStuLnNlYXJjaD09PWkucGF0aG5hbWUraS5zZWFyY2gpbz1pLmhhc2g/aS5oYXNoOmkucGF0aG5hbWUraS5zZWFyY2g7ZWxzZSBpZihhLmlzUGF0aChlKSl7dmFyIHM9YS5wYXJzZVVybCh0KTtvPXMucGF0aG5hbWUrcy5zZWFyY2grKGEuaXNQcmVzZXJ2YWJsZUhhc2gocy5oYXNoKT9zLmhhc2gucmVwbGFjZSgiIyIsIiIpOiIiKX1lbHNlIG89ZTtyZXR1cm4gb30sZ286ZnVuY3Rpb24obixvLHMpe3ZhciByLGwsZCxjLGg9ZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2w9YS5zcXVhc2gobiksZD10aGlzLmhhc2gobixsKSxzJiZkIT09YS5zdHJpcEhhc2goYS5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1zKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsdC5sb2NhdGlvbi5oYXNoPWQsdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLHI9ZS5leHRlbmQoe3VybDpsLGhhc2g6ZCx0aXRsZTppLnRpdGxlfSxvKSxoJiYoYz1uZXcgZS5FdmVudCgicG9wc3RhdGUiKSxjLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChuLHIpLHN8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGUubW9iaWxlLndpbmRvdy50cmlnZ2VyKGMpKSksdGhpcy5oaXN0b3J5LmFkZChyLnVybCxyKX0scG9wc3RhdGU6ZnVuY3Rpb24odCl7dmFyIGkscztpZihlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpcmV0dXJuIHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT8odGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksbik6dGhpcy5pZ25vcmVQb3BTdGF0ZT8odGhpcy5pZ25vcmVQb3BTdGF0ZT0hMSxuKTohdC5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PW8pPyh0LnByZXZlbnREZWZhdWx0KCksbik6KGk9YS5wYXJzZUxvY2F0aW9uKCkuaGFzaCwhdC5vcmlnaW5hbEV2ZW50LnN0YXRlJiZpPyhzPXRoaXMuc3F1YXNoKGkpLHRoaXMuaGlzdG9yeS5hZGQocy51cmwscyksdC5oaXN0b3J5U3RhdGU9cyxuKToodGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOih0Lm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGkscHJlc2VudDpmdW5jdGlvbihpLG4pe3QuaGlzdG9yeVN0YXRlPWUuZXh0ZW5kKHt9LGkpLHQuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1ufX0pLG4pKX0saGFzaGNoYW5nZTpmdW5jdGlvbih0KXt2YXIgbyxzO2lmKGUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJiFlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpe2lmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlKXJldHVybiB0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT0hMSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG47bz10aGlzLmhpc3Rvcnkscz1hLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpzLHByZXNlbnQ6ZnVuY3Rpb24oaSxuKXt0Lmhhc2hjaGFuZ2VTdGF0ZT1lLmV4dGVuZCh7fSxpKSx0Lmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249bn0sbWlzc2luZzpmdW5jdGlvbigpe28uYWRkKHMse2hhc2g6cyx0aXRsZTppLnRpdGxlfSl9fSl9fX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbih0LGksbil7ZS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKHQsaSxuKX0sZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgZS5tb2JpbGUuSGlzdG9yeSxlLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGUubW9iaWxlLk5hdmlnYXRvcihlLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgdD1lLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTtlLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZCh0LmhyZWYse2hhc2g6dC5oYXNofSl9KGUpLGZ1bmN0aW9uKGUsdCxpLG4pe2Z1bmN0aW9uIGEoZSl7Zm9yKDtlJiZlLm9yaWdpbmFsRXZlbnQhPT1uOyllPWUub3JpZ2luYWxFdmVudDtyZXR1cm4gZX1mdW5jdGlvbiBvKHQsaSl7dmFyIG8scyxyLGwsZCxjLGgsdSxwLG09dC50eXBlO2lmKHQ9ZS5FdmVudCh0KSx0LnR5cGU9aSxvPXQub3JpZ2luYWxFdmVudCxzPWUuZXZlbnQucHJvcHMsbS5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJihzPXEpLG8pZm9yKGg9cy5sZW5ndGgsbDtoOylsPXNbLS1oXSx0W2xdPW9bbF07aWYobS5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiF0LndoaWNoJiYodC53aGljaD0xKSwtMSE9PW0uc2VhcmNoKC9edG91Y2gvKSYmKHI9YShvKSxtPXIudG91Y2hlcyxkPXIuY2hhbmdlZFRvdWNoZXMsYz1tJiZtLmxlbmd0aD9tWzBdOmQmJmQubGVuZ3RoP2RbMF06bikpZm9yKHU9MCxwPWsubGVuZ3RoO3A+dTt1KyspbD1rW3VdLHRbbF09Y1tsXTtyZXR1cm4gdH1mdW5jdGlvbiBzKHQpe2Zvcih2YXIgaSxuLGE9e307dDspe2k9ZS5kYXRhKHQsVCk7Zm9yKG4gaW4gaSlpW25dJiYoYVtuXT1hLmhhc1ZpcnR1YWxCaW5kaW5nPSEwKTt0PXQucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiByKHQsaSl7Zm9yKHZhciBuO3Q7KXtpZihuPWUuZGF0YSh0LFQpLG4mJighaXx8bltpXSkpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbCgpe009ITF9ZnVuY3Rpb24gZCgpe009ITB9ZnVuY3Rpb24gYygpe1U9MCxPLmxlbmd0aD0wLEg9ITEsZCgpfWZ1bmN0aW9uIGgoKXtsKCl9ZnVuY3Rpb24gdSgpe3AoKSxTPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtTPTAsYygpfSxlLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIHAoKXtTJiYoY2xlYXJUaW1lb3V0KFMpLFM9MCl9ZnVuY3Rpb24gbSh0LGksbil7dmFyIGE7cmV0dXJuKG4mJm5bdF18fCFuJiZyKGkudGFyZ2V0LHQpKSYmKGE9byhpLHQpLGUoaS50YXJnZXQpLnRyaWdnZXIoYSkpLGF9ZnVuY3Rpb24gZih0KXt2YXIgaT1lLmRhdGEodC50YXJnZXQsRCk7aWYoIShIfHxVJiZVPT09aSkpe3ZhciBuPW0oInYiK3QudHlwZSx0KTtuJiYobi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmdC5wcmV2ZW50RGVmYXVsdCgpLG4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmdC5zdG9wUHJvcGFnYXRpb24oKSxuLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX1mdW5jdGlvbiBnKHQpe3ZhciBpLG4sbz1hKHQpLnRvdWNoZXM7aWYobyYmMT09PW8ubGVuZ3RoJiYoaT10LnRhcmdldCxuPXMoaSksbi5oYXNWaXJ0dWFsQmluZGluZykpe1U9TCsrLGUuZGF0YShpLEQsVSkscCgpLGgoKSxJPSExO3ZhciByPWEodCkudG91Y2hlc1swXTtBPXIucGFnZVgsTj1yLnBhZ2VZLG0oInZtb3VzZW92ZXIiLHQsbiksbSgidm1vdXNlZG93biIsdCxuKX19ZnVuY3Rpb24gYihlKXtNfHwoSXx8bSgidm1vdXNlY2FuY2VsIixlLHMoZS50YXJnZXQpKSxJPSEwLHUoKSl9ZnVuY3Rpb24gdih0KXtpZighTSl7dmFyIGk9YSh0KS50b3VjaGVzWzBdLG49SSxvPWUudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxyPXModC50YXJnZXQpO0k9SXx8TWF0aC5hYnMoaS5wYWdlWC1BKT5vfHxNYXRoLmFicyhpLnBhZ2VZLU4pPm8sSSYmIW4mJm0oInZtb3VzZWNhbmNlbCIsdCxyKSxtKCJ2bW91c2Vtb3ZlIix0LHIpLHUoKX19ZnVuY3Rpb24gXyhlKXtpZighTSl7ZCgpO3ZhciB0LGk9cyhlLnRhcmdldCk7aWYobSgidm1vdXNldXAiLGUsaSksIUkpe3ZhciBuPW0oInZjbGljayIsZSxpKTtuJiZuLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1hKGUpLmNoYW5nZWRUb3VjaGVzWzBdLE8ucHVzaCh7dG91Y2hJRDpVLHg6dC5jbGllbnRYLHk6dC5jbGllbnRZfSksSD0hMCl9bSgidm1vdXNlb3V0IixlLGkpLEk9ITEsdSgpfX1mdW5jdGlvbiBDKHQpe3ZhciBpLG49ZS5kYXRhKHQsVCk7aWYobilmb3IoaSBpbiBuKWlmKG5baV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24geCgpe31mdW5jdGlvbiB5KHQpe3ZhciBpPXQuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe0ModGhpcyl8fGUuZGF0YSh0aGlzLFQse30pO3ZhciBuPWUuZGF0YSh0aGlzLFQpO25bdF09ITAsalt0XT0oalt0XXx8MCkrMSwxPT09alt0XSYmQi5iaW5kKGksZiksZSh0aGlzKS5iaW5kKGkseCksRiYmKGoudG91Y2hzdGFydD0oai50b3VjaHN0YXJ0fHwwKSsxLDE9PT1qLnRvdWNoc3RhcnQmJkIuYmluZCgidG91Y2hzdGFydCIsZykuYmluZCgidG91Y2hlbmQiLF8pLmJpbmQoInRvdWNobW92ZSIsdikuYmluZCgic2Nyb2xsIixiKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1qW3RdLGpbdF18fEIudW5iaW5kKGksZiksRiYmKC0tai50b3VjaHN0YXJ0LGoudG91Y2hzdGFydHx8Qi51bmJpbmQoInRvdWNoc3RhcnQiLGcpLnVuYmluZCgidG91Y2htb3ZlIix2KS51bmJpbmQoInRvdWNoZW5kIixfKS51bmJpbmQoInNjcm9sbCIsYikpO3ZhciBuPWUodGhpcyksYT1lLmRhdGEodGhpcyxUKTthJiYoYVt0XT0hMSksbi51bmJpbmQoaSx4KSxDKHRoaXMpfHxuLnJlbW92ZURhdGEoVCl9fX12YXIgdyxUPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsRD0idmlydHVhbFRvdWNoSUQiLFA9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLGs9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksRT1lLmV2ZW50Lm1vdXNlSG9va3M/ZS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLHE9ZS5ldmVudC5wcm9wcy5jb25jYXQoRSksaj17fSxTPTAsQT0wLE49MCxJPSExLE89W10sSD0hMSxNPSExLEY9ImFkZEV2ZW50TGlzdGVuZXIiaW4gaSxCPWUoaSksTD0xLFU9MDtlLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAscmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgej0wO1AubGVuZ3RoPno7eisrKWUuZXZlbnQuc3BlY2lhbFtQW3pdXT15KFBbel0pO0YmJmkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBpLGEsbyxzLHIsbCxkPU8ubGVuZ3RoLGM9dC50YXJnZXQ7aWYoZClmb3IoaT10LmNsaWVudFgsYT10LmNsaWVudFksdz1lLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLG89YztvOyl7Zm9yKHM9MDtkPnM7cysrKWlmKHI9T1tzXSxsPTAsbz09PWMmJnc+TWF0aC5hYnMoci54LWkpJiZ3Pk1hdGguYWJzKHIueS1hKXx8ZS5kYXRhKG8sRCk9PT1yLnRvdWNoSUQpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLG47bz1vLnBhcmVudE5vZGV9fSwhMCl9KGUsdCxpKSxmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gYSh0LGksbil7dmFyIGE9bi50eXBlO24udHlwZT1pLGUuZXZlbnQuZGlzcGF0Y2guY2FsbCh0LG4pLG4udHlwZT1hfXZhciBvPWUoaSk7ZS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsaSl7ZS5mbltpXT1mdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLmJpbmQoaSxlKTp0aGlzLnRyaWdnZXIoaSl9LGUuYXR0ckZuJiYoZS5hdHRyRm5baV09ITApfSk7dmFyIHM9ZS5tb2JpbGUuc3VwcG9ydC50b3VjaCxyPSJ0b3VjaG1vdmUgc2Nyb2xsIixsPXM/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGQ9cz8idG91Y2hlbmQiOiJtb3VzZXVwIixjPXM/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQpe2k9dCxhKG8saT8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixlKX12YXIgaSxuLG89dGhpcyxzPWUobyk7cy5iaW5kKHIsZnVuY3Rpb24oYSl7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihpfHx0KGEsITApLGNsZWFyVGltZW91dChuKSxuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGEsITEpfSw1MCkpfSl9fSxlLmV2ZW50LnNwZWNpYWwudGFwPXt0YXBob2xkVGhyZXNob2xkOjc1MCxzZXR1cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1lKHQpO2kuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24obil7ZnVuY3Rpb24gcygpe2NsZWFyVGltZW91dChkKX1mdW5jdGlvbiByKCl7cygpLGkudW5iaW5kKCJ2Y2xpY2siLGwpLnVuYmluZCgidm1vdXNldXAiLHMpLG8udW5iaW5kKCJ2bW91c2VjYW5jZWwiLHIpfWZ1bmN0aW9uIGwoZSl7cigpLGM9PT1lLnRhcmdldCYmYSh0LCJ0YXAiLGUpfWlmKG4ud2hpY2gmJjEhPT1uLndoaWNoKXJldHVybiExO3ZhciBkLGM9bi50YXJnZXQ7bi5vcmlnaW5hbEV2ZW50LGkuYmluZCgidm1vdXNldXAiLHMpLmJpbmQoInZjbGljayIsbCksby5iaW5kKCJ2bW91c2VjYW5jZWwiLHIpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EodCwidGFwaG9sZCIsZS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpjfSkpCn0sZS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfX0sZS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzdGFydDpmdW5jdGlvbih0KXt2YXIgaT10Lm9yaWdpbmFsRXZlbnQudG91Y2hlcz90Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTp0O3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbaS5wYWdlWCxpLnBhZ2VZXSxvcmlnaW46ZSh0LnRhcmdldCl9fSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PWUub3JpZ2luYWxFdmVudC50b3VjaGVzP2Uub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmU7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOlt0LnBhZ2VYLHQucGFnZVldfX0saGFuZGxlU3dpcGU6ZnVuY3Rpb24odCxpKXtpLnRpbWUtdC50aW1lPGUuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnModC5jb29yZHNbMF0taS5jb29yZHNbMF0pPmUuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKHQuY29vcmRzWzFdLWkuY29vcmRzWzFdKTxlLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCYmdC5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKHQuY29vcmRzWzBdPmkuY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iil9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPWUodCk7aS5iaW5kKGwsZnVuY3Rpb24odCl7ZnVuY3Rpb24gYSh0KXtzJiYobz1lLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RvcCh0KSxNYXRoLmFicyhzLmNvb3Jkc1swXS1vLmNvb3Jkc1swXSk+ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJnQucHJldmVudERlZmF1bHQoKSl9dmFyIG8scz1lLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RhcnQodCk7aS5iaW5kKGMsYSkub25lKGQsZnVuY3Rpb24oKXtpLnVuYmluZChjLGEpLHMmJm8mJmUuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShzLG8pLHM9bz1ufSl9KX19LGUuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbih0LGkpe2UuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXtlKHRoaXMpLmJpbmQoaSxlLm5vb3ApfX19KX0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2UodGhpcykuYmluZCgicmVzaXplIixvKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtlKHRoaXMpLnVuYmluZCgicmVzaXplIixvKX19O3ZhciB0LGksbixhPTI1MCxvPWZ1bmN0aW9uKCl7aT0obmV3IERhdGUpLmdldFRpbWUoKSxuPWktcyxuPj1hPyhzPWksZSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KHQmJmNsZWFyVGltZW91dCh0KSx0PXNldFRpbWVvdXQobyxhLW4pKX0scz0wfShlKSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGEoKXt2YXIgZT1vKCk7ZSE9PXMmJihzPWUsZC50cmlnZ2VyKGMpKX12YXIgbyxzLHIsbCxkPWUodCksYz0ib3JpZW50YXRpb25jaGFuZ2UiLGg9ezA6ITAsMTgwOiEwfTtpZihlLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciB1PXQuaW5uZXJXaWR0aHx8ZC53aWR0aCgpLHA9dC5pbm5lckhlaWdodHx8ZC5oZWlnaHQoKSxtPTUwO3I9dT5wJiZ1LXA+bSxsPWhbdC5vcmllbnRhdGlvbl0sKHImJmx8fCFyJiYhbCkmJihoPXsiLTkwIjohMCw5MDohMH0pfWUuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT1lLmV4dGVuZCh7fSxlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Use3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWUuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZD8hMToocz1vKCksZC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEpLG4pfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBlLnN1cHBvcnQub3JpZW50YXRpb24mJiFlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGQudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEpLG4pfSxhZGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5oYW5kbGVyO2UuaGFuZGxlcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5vcmllbnRhdGlvbj1vKCksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGUuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1vPWZ1bmN0aW9uKCl7dmFyIG49ITAsYT1pLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gbj1lLnN1cHBvcnQub3JpZW50YXRpb24/aFt0Lm9yaWVudGF0aW9uXTphJiYxLjE+YS5jbGllbnRXaWR0aC9hLmNsaWVudEhlaWdodCxuPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9LGUuZm5bY109ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKGMsZSk6dGhpcy50cmlnZ2VyKGMpfSxlLmF0dHJGbiYmKGUuYXR0ckZuW2NdPSEwKX0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnBhZ2UiLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGRvbUNhY2hlOiExLGtlZXBOYXRpdmVEZWZhdWx0OiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMT8hMToodGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuX29uKHRoaXMuZWxlbWVudCx7cGFnZWJlZm9yZWhpZGU6InJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiLHBhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3cifSksbil9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0Q29udGFpbmVyQmFja2dyb3VuZCgpfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7ZS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2UubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy50aGVtZSYmZS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyh0fHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGk9dC5rZWVwTmF0aXZlJiZlLnRyaW0odC5rZWVwTmF0aXZlKTtyZXR1cm4gaSYmdC5rZWVwTmF0aXZlIT09dC5rZWVwTmF0aXZlRGVmYXVsdD9bdC5rZWVwTmF0aXZlLHQua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6dC5rZWVwTmF0aXZlRGVmYXVsdH19KX0oZSksZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWZ1bmN0aW9uKG4pe3JldHVybiBuPT09aSYmKG49ITApLGZ1bmN0aW9uKGksYSxvLHMpe3ZhciByPW5ldyBlLkRlZmVycmVkLGw9YT8iIHJldmVyc2UiOiIiLGQ9ZS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxjPWQubGFzdFNjcm9sbHx8ZS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsaD1lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSx1PWUubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZlLm1vYmlsZS53aW5kb3cud2lkdGgoKT5lLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGgscD0hZS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHx1fHwhaXx8Im5vbmUiPT09aXx8TWF0aC5tYXgoZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLGMpPmUubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSxtPSIgdWktcGFnZS1wcmUtaW4iLGY9ZnVuY3Rpb24oKXtlLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2kpfSxnPWZ1bmN0aW9uKCl7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsdC5zY3JvbGxUbygwLGMpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sYj1mdW5jdGlvbigpe3MucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIitpKS5oZWlnaHQoIiIpfSx2PWZ1bmN0aW9uKCl7bj9zLmFuaW1hdGlvbkNvbXBsZXRlKF8pOl8oKSxzLmhlaWdodChoK2UubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoaSsiIG91dCIrbCl9LF89ZnVuY3Rpb24oKXtzJiZuJiZiKCksQygpfSxDPWZ1bmN0aW9uKCl7by5jc3MoInotaW5kZXgiLC0xMCksby5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrbSksZS5tb2JpbGUuZm9jdXNQYWdlKG8pLG8uaGVpZ2h0KGgrYyksZygpLG8uY3NzKCJ6LWluZGV4IiwiIikscHx8by5hbmltYXRpb25Db21wbGV0ZSh4KSxvLnJlbW92ZUNsYXNzKG0pLmFkZENsYXNzKGkrIiBpbiIrbCkscCYmeCgpfSx4PWZ1bmN0aW9uKCl7bnx8cyYmYigpLG8ucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIraSkuaGVpZ2h0KCIiKSxmKCksZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09YyYmZygpLHIucmVzb2x2ZShpLGEsbyxzLCEwKX07cmV0dXJuIGYoKSxzJiYhcD92KCk6XygpLHIucHJvbWlzZSgpfX0sYT1uKCksbz1uKCExKSxzPWZ1bmN0aW9uKCl7cmV0dXJuIDMqZS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCl9O2UubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLGUubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17ImRlZmF1bHQiOmUubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzZXF1ZW50aWFsOmEsc2ltdWx0YW5lb3VzOm99LGUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sZS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiFlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbdF0mJih0PWUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbdF0pLHR9LGUubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249ZS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8c30oZSx0aGlzKSxmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGEodCl7IWZ8fGYuY2xvc2VzdCgiLiIrZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiF0fHxmLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxmPW51bGx9ZnVuY3Rpb24gbygpe189ITEsdi5sZW5ndGg+MCYmZS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHYucG9wKCkpfWZ1bmN0aW9uIHModCxpLG4sYSl7aSYmaS5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTp0fSksdC5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTppfHxlKCIiKX0pLGUubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLG49ZS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24obik7dmFyIG89ZS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW258fCJkZWZhdWx0Il18fGUubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzPW8obixhLHQsaSk7cmV0dXJuIHMuZG9uZShmdW5jdGlvbigpe2kmJmkuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiaGlkZSIsbnVsbCx7bmV4dFBhZ2U6dH0pLHQuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6aXx8ZSgiIil9KX0pLHN9ZnVuY3Rpb24gcih0LGkpe2kmJnQuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlIixpKSx0LnBhZ2UoKX1mdW5jdGlvbiBsKCl7dmFyIHQ9ZS5tb2JpbGUuYWN0aXZlUGFnZSYmYyhlLm1vYmlsZS5hY3RpdmVQYWdlKTtyZXR1cm4gdHx8dy5ocmVmTm9IYXNofWZ1bmN0aW9uIGQoZSl7Zm9yKDtlJiYoInN0cmluZyIhPXR5cGVvZiBlLm5vZGVOYW1lfHwiYSIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZX1mdW5jdGlvbiBjKHQpe3ZhciBpPWUodCkuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxuPXcuaHJlZk5vSGFzaDtyZXR1cm4gaSYmcC5pc1BhdGgoaSl8fChpPW4pLHAubWFrZVVybEFic29sdXRlKGksbil9dmFyIGg9ZS5tb2JpbGUud2luZG93LHU9KGUoImh0bWwiKSxlKCJoZWFkIikpLHA9ZS5leHRlbmQoZS5tb2JpbGUucGF0aCx7Z2V0RmlsZVBhdGg6ZnVuY3Rpb24odCl7dmFyIGk9IiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIHQmJnQuc3BsaXQoaSlbMF0uc3BsaXQoQylbMF19LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKHQpe3ZhciBpPXAucGFyc2VVcmwocC5tYWtlVXJsQWJzb2x1dGUodCx0aGlzLmRvY3VtZW50QmFzZSkpLGE9aS5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmkuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsbz1lLm1vYmlsZS5maXJzdFBhZ2Uscz1vJiZvWzBdP29bMF0uaWQ6bjtyZXR1cm4gYSYmKCFpLmhhc2h8fCIjIj09PWkuaGFzaHx8cyYmaS5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1zKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYiZmlsZToiPT09dC5wcm90b2NvbCYmLTEhPT1pLnNlYXJjaCgvXmh0dHBzPzovKX19KSxtPW51bGwsZj1udWxsLGc9ZS5EZWZlcnJlZCgpLGI9ZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSx2PVtdLF89ITEsQz0iJnVpLXN0YXRlPWRpYWxvZyIseD11LmNoaWxkcmVuKCJiYXNlIikseT1wLmRvY3VtZW50VXJsLHc9cC5kb2N1bWVudEJhc2UsVD0ocC5kb2N1bWVudEJhc2VEaWZmZXJzLGUubW9iaWxlLmdldFNjcmVlbkhlaWdodCksRD1lLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWc/e2VsZW1lbnQ6eC5sZW5ndGg/eDplKCI8YmFzZT4iLHtocmVmOncuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyh1KSxzZXQ6ZnVuY3Rpb24oZSl7ZT1wLnBhcnNlVXJsKGUpLmhyZWZOb0hhc2gsRC5lbGVtZW50LmF0dHIoImhyZWYiLHAubWFrZVVybEFic29sdXRlKGUsdykpfSxyZXNldDpmdW5jdGlvbigpe0QuZWxlbWVudC5hdHRyKCJocmVmIix3LmhyZWZOb1NlYXJjaCl9fTpuO2UubW9iaWxlLmdldERvY3VtZW50VXJsPXAuZ2V0RG9jdW1lbnRVcmwsZS5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlPXAuZ2V0RG9jdW1lbnRCYXNlLGUubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgZT10Lm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJmUmJmUuYXBwJiZlLmFwcC5iYWNrSGlzdG9yeT9lLmFwcC5iYWNrSGlzdG9yeSgpOnQuaGlzdG9yeS5iYWNrKCl9LGUubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbmQoIlthdXRvZm9jdXNdIiksaT1lLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO3JldHVybiB0Lmxlbmd0aD8odC5mb2N1cygpLG4pOihpLmxlbmd0aD9pLmZvY3VzKCk6ZS5mb2N1cygpLG4pfTt2YXIgUCxrLEU9ITA7UD1mdW5jdGlvbigpe2lmKEUpe3ZhciB0PWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7aWYodCl7dmFyIGk9aC5zY3JvbGxUb3AoKTt0Lmxhc3RTY3JvbGw9ZS5tb2JpbGUubWluU2Nyb2xsQmFjaz5pP2UubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsOml9fX0saz1mdW5jdGlvbigpe3NldFRpbWVvdXQoUCwxMDApfSxoLmJpbmQoZS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0U9ITF9KSxoLm9uZShlLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7RT0hMH0pLGgub25lKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2UubW9iaWxlLnBhZ2VDb250YWluZXIuYmluZCgicGFnZWNoYW5nZSIsZnVuY3Rpb24oKXtFPSEwLGgudW5iaW5kKCJzY3JvbGxzdG9wIixrKSxoLmJpbmQoInNjcm9sbHN0b3AiLGspfSl9KSxoLmJpbmQoInNjcm9sbHN0b3AiLGspLGUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9ufHxmdW5jdGlvbihlKXtyZXR1cm4gZX0sZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBpPWUoIi4iK2UubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksbj1wYXJzZUZsb2F0KGkuY3NzKCJwYWRkaW5nLXRvcCIpKSxhPXBhcnNlRmxvYXQoaS5jc3MoInBhZGRpbmctYm90dG9tIikpLG89cGFyc2VGbG9hdChpLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSxzPXBhcnNlRmxvYXQoaS5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSk7dD0ibnVtYmVyIj09dHlwZW9mIHQ/dDpUKCksaS5jc3MoIm1pbi1oZWlnaHQiLHQtbi1hLW8tcyl9LGUuZm4uYW5pbWF0aW9uQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucz9lKHRoaXMpLm9uZSgid2Via2l0QW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZCIsdCk6KHNldFRpbWVvdXQodCwwKSxlKHRoaXMpKX0sZS5tb2JpbGUucGF0aD1wLGUubW9iaWxlLmJhc2U9RCxlLm1vYmlsZS51cmxIaXN0b3J5PWIsZS5tb2JpbGUuZGlhbG9nSGFzaEtleT1DLGUubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcz0hMSxlLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpOyF0LmRhdGEoIm1vYmlsZS1wYWdlIikub3B0aW9ucy5kb21DYWNoZSYmdC5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJnQuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksaT1uZXcgZS5FdmVudCgicGFnZXJlbW92ZSIpO3QudHJpZ2dlcihpKSxpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0LnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9KX0sZS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24odCxpKXt2YXIgYT1lLkRlZmVycmVkKCksbz1lLmV4dGVuZCh7fSxlLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxpKSxzPW51bGwsZD1udWxsLGM9cC5tYWtlVXJsQWJzb2x1dGUodCxsKCkpO28uZGF0YSYmImdldCI9PT1vLnR5cGUmJihjPXAuYWRkU2VhcmNoUGFyYW1zKGMsby5kYXRhKSxvLmRhdGE9biksby5kYXRhJiYicG9zdCI9PT1vLnR5cGUmJihvLnJlbG9hZFBhZ2U9ITApO3ZhciBoPXAuZ2V0RmlsZVBhdGgoYyksdT1wLmNvbnZlcnRVcmxUb0RhdGFVcmwoYyk7aWYoby5wYWdlQ29udGFpbmVyPW8ucGFnZUNvbnRhaW5lcnx8ZS5tb2JpbGUucGFnZUNvbnRhaW5lcixzPW8ucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIitlLm1vYmlsZS5ucysidXJsPSciK3UrIiddIiksMD09PXMubGVuZ3RoJiZ1JiYhcC5pc1BhdGgodSkmJihzPW8ucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiIyIrdSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ1cmwiLHUpLmpxbURhdGEoInVybCIsdSkpLDA9PT1zLmxlbmd0aClpZihlLm1vYmlsZS5maXJzdFBhZ2UmJnAuaXNGaXJzdFBhZ2VVcmwoaCkpZS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmxlbmd0aCYmKHM9ZShlLm1vYmlsZS5maXJzdFBhZ2UpKTtlbHNlIGlmKHAuaXNFbWJlZGRlZFBhZ2UoaCkpcmV0dXJuIGEucmVqZWN0KGMsaSksYS5wcm9taXNlKCk7aWYocy5sZW5ndGgpe2lmKCFvLnJlbG9hZFBhZ2UpcmV0dXJuIHIocyxvLnJvbGUpLGEucmVzb2x2ZShjLGkscyksRCYmIWkucHJlZmV0Y2gmJkQuc2V0KHQpLGEucHJvbWlzZSgpO2Q9c312YXIgbT1vLnBhZ2VDb250YWluZXIsZj1uZXcgZS5FdmVudCgicGFnZWJlZm9yZWxvYWQiKSxnPXt1cmw6dCxhYnNVcmw6YyxkYXRhVXJsOnUsZGVmZXJyZWQ6YSxvcHRpb25zOm99O2lmKG0udHJpZ2dlcihmLGcpLGYuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIGEucHJvbWlzZSgpO2lmKG8uc2hvd0xvYWRNc2cpdmFyIGI9c2V0VGltZW91dChmdW5jdGlvbigpe2UubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpfSxvLmxvYWRNc2dEZWxheSksdj1mdW5jdGlvbigpe2NsZWFyVGltZW91dChiKSxlLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKX07cmV0dXJuIEQmJmkucHJlZmV0Y2g9PT1uJiZELnJlc2V0KCksZS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxwLmlzU2FtZURvbWFpbih5LGMpP2UuYWpheCh7dXJsOmgsdHlwZTpvLnR5cGUsZGF0YTpvLmRhdGEsY29udGVudFR5cGU6by5jb250ZW50VHlwZSxkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihsLG0sZil7dmFyIGI9ZSgiPGRpdj48L2Rpdj4iKSxfPWwubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxLEM9UmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIikseD1SZWdFeHAoIlxcYmRhdGEtIitlLm1vYmlsZS5ucysidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTtpZihDLnRlc3QobCkmJlJlZ0V4cC4kMSYmeC50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKHQ9aD1wLmdldEZpbGVQYXRoKGUoIjxkaXY+IitSZWdFeHAuJDErIjwvZGl2PiIpLnRleHQoKSkpLEQmJmkucHJlZmV0Y2g9PT1uJiZELnNldChoKSxiLmdldCgwKS5pbm5lckhUTUw9bCxzPWIuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCkscy5sZW5ndGh8fChzPWUoIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iKyhsLnNwbGl0KC88XC8/Ym9keVtePl0qPi9naW0pWzFdfHwiIikrIjwvZGl2PiIpKSxfJiYhcy5qcW1EYXRhKCJ0aXRsZSIpJiYofl8uaW5kZXhPZigiJiIpJiYoXz1lKCI8ZGl2PiIrXysiPC9kaXY+IikudGV4dCgpKSxzLmpxbURhdGEoInRpdGxlIixfKSksIWUuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHk9cC5nZXQoaCk7cy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6ZSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixpPWUodGhpcykuYXR0cih0KTtpPWkucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoaSl8fGUodGhpcykuYXR0cih0LHkraSl9KX1zLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidXJsIixwLmNvbnZlcnRVcmxUb0RhdGFVcmwoaCkpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsITApLmFwcGVuZFRvKG8ucGFnZUNvbnRhaW5lcikscy5vbmUoInBhZ2VjcmVhdGUiLGUubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSkscihzLG8ucm9sZSksYy5pbmRleE9mKCImIitlLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKHM9by5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2UubW9iaWxlLm5zKyJ1cmw9JyIrdSsiJ10iKSksby5zaG93TG9hZE1zZyYmdigpLGcueGhyPWYsZy50ZXh0U3RhdHVzPW0sZy5wYWdlPXMsby5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixnKSxhLnJlc29sdmUoYyxpLHMsZCl9LGVycm9yOmZ1bmN0aW9uKHQsbixzKXtEJiZELnNldChwLmdldCgpKSxnLnhocj10LGcudGV4dFN0YXR1cz1uLGcuZXJyb3JUaHJvd249czt2YXIgcj1uZXcgZS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtvLnBhZ2VDb250YWluZXIudHJpZ2dlcihyLGcpLHIuaXNEZWZhdWx0UHJldmVudGVkKCl8fChvLnNob3dMb2FkTXNnJiYodigpLGUubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZyhlLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lLGUubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlLCEwKSxzZXRUaW1lb3V0KGUubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZywxNTAwKSksYS5yZWplY3QoYyxpKSl9fSk6YS5yZWplY3QoYyxpKSxhLnByb21pc2UoKX0sZS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHM9e3R5cGU6ImdldCIsZGF0YTpuLHJlbG9hZFBhZ2U6ITEscm9sZTpuLHNob3dMb2FkTXNnOiExLHBhZ2VDb250YWluZXI6bixsb2FkTXNnRGVsYXk6NTB9LGUubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24odCxkKXtpZihfKXJldHVybiB2LnVuc2hpZnQoYXJndW1lbnRzKSxuO3ZhciBjLGg9ZS5leHRlbmQoe30sZS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxkKTtoLnBhZ2VDb250YWluZXI9aC5wYWdlQ29udGFpbmVyfHxlLm1vYmlsZS5wYWdlQ29udGFpbmVyLGguZnJvbVBhZ2U9aC5mcm9tUGFnZXx8ZS5tb2JpbGUuYWN0aXZlUGFnZSxjPSJzdHJpbmciPT10eXBlb2YgdDt2YXIgdT1oLnBhZ2VDb250YWluZXIsbT1uZXcgZS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLGY9e3RvUGFnZTp0LG9wdGlvbnM6aH07aWYoZi5hYnNVcmw9Yz9wLm1ha2VVcmxBYnNvbHV0ZSh0LGwoKSk6dC5kYXRhKCJhYnNVcmwiKSx1LnRyaWdnZXIobSxmKSwhbS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYodD1mLnRvUGFnZSxjPSJzdHJpbmciPT10eXBlb2YgdCxfPSEwLGMpcmV0dXJuIGgudGFyZ2V0PXQsZS5tb2JpbGUubG9hZFBhZ2UodCxoKS5kb25lKGZ1bmN0aW9uKHQsaSxuLGEpe189ITEsaS5kdXBsaWNhdGVDYWNoZWRQYWdlPWEsbi5kYXRhKCJhYnNVcmwiLGYuYWJzVXJsKSxlLm1vYmlsZS5jaGFuZ2VQYWdlKG4saSl9KS5mYWlsKGZ1bmN0aW9uKCl7YSghMCksbygpLGgucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlY2hhbmdlZmFpbGVkIixmKX0pLG47dFswXSE9PWUubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPXkuaHJlZk5vSGFzaCk7dmFyIGc9aC5mcm9tUGFnZSx4PWguZGF0YVVybCYmcC5jb252ZXJ0VXJsVG9EYXRhVXJsKGguZGF0YVVybCl8fHQuanFtRGF0YSgidXJsIiksdz14LFQ9KHAuZ2V0RmlsZVBhdGgoeCksYi5nZXRBY3RpdmUoKSksRD0wPT09Yi5hY3RpdmVJbmRleCxQPTAsaz1pLnRpdGxlLEU9ImRpYWxvZyI9PT1oLnJvbGV8fCJkaWFsb2ciPT09dC5qcW1EYXRhKCJyb2xlIik7aWYoZyYmZ1swXT09PXRbMF0mJiFoLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiBfPSExLHUudHJpZ2dlcigicGFnZWNoYW5nZSIsZiksaC5mcm9tSGFzaENoYW5nZSYmYi5kaXJlY3Qoe3VybDp4fSksbjtyKHQsaC5yb2xlKSxoLmZyb21IYXNoQ2hhbmdlJiYoUD0iYmFjayI9PT1kLmRpcmVjdGlvbj8tMToxKTt0cnl7aS5hY3RpdmVFbGVtZW50JiYiYm9keSIhPT1pLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9lKGkuYWN0aXZlRWxlbWVudCkuYmx1cigpOmUoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKHEpe312YXIgaj0hMTtFJiZUJiYoVC51cmwmJlQudXJsLmluZGV4T2YoQyk+LTEmJmUubW9iaWxlLmFjdGl2ZVBhZ2UmJiFlLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikmJmIuYWN0aXZlSW5kZXg+MCYmKGguY2hhbmdlSGFzaD0hMSxqPSEwKSx4PVQudXJsfHwiIix4Kz0haiYmeC5pbmRleE9mKCIjIik+LTE/QzoiIyIrQywwPT09Yi5hY3RpdmVJbmRleCYmeD09PWIuaW5pdGlhbERzdCYmKHgrPUMpKTt2YXIgUz1UP3QuanFtRGF0YSgidGl0bGUiKXx8dC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS50ZXh0KCk6aztpZihTJiZrPT09aS50aXRsZSYmKGs9UyksdC5qcW1EYXRhKCJ0aXRsZSIpfHx0LmpxbURhdGEoInRpdGxlIixrKSxoLnRyYW5zaXRpb249aC50cmFuc2l0aW9ufHwoUCYmIUQ/VC50cmFuc2l0aW9uOm4pfHwoRT9lLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjplLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pLCFQJiZqJiYoYi5nZXRBY3RpdmUoKS5wYWdlVXJsPXcpLHgmJiFoLmZyb21IYXNoQ2hhbmdlKXt2YXIgQTshcC5pc1BhdGgoeCkmJjA+eC5pbmRleE9mKCIjIikmJih4PSIjIit4KSxBPXt0cmFuc2l0aW9uOmgudHJhbnNpdGlvbix0aXRsZTprLHBhZ2VVcmw6dyxyb2xlOmgucm9sZX0saC5jaGFuZ2VIYXNoIT09ITEmJmUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkP2UubW9iaWxlLm5hdmlnYXRlKHgsQSwhMCk6dFswXSE9PWUubW9iaWxlLmZpcnN0UGFnZVswXSYmZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQoeCxBKX1pLnRpdGxlPWssZS5tb2JpbGUuYWN0aXZlUGFnZT10LGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+UCxzKHQsZyxoLnRyYW5zaXRpb24saC5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKGksbixzLHIsbCl7YSgpLGguZHVwbGljYXRlQ2FjaGVkUGFnZSYmaC5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpLGx8fGUubW9iaWxlLmZvY3VzUGFnZSh0KSxvKCksdS50cmlnZ2VyKCJwYWdlY2hhbmdlIixmKX0pfX0sZS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpuLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOm4sZHVwbGljYXRlQ2FjaGVkUGFnZTpuLHBhZ2VDb250YWluZXI6bixzaG93TG9hZE1zZzohMCxkYXRhVXJsOm4sZnJvbVBhZ2U6bixhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sZS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1lLkRlZmVycmVkKCksZS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgaT1mdW5jdGlvbih0LGkpe3ZhciBhLG8scyxyLGw9ITA7cmV0dXJuIWUubW9iaWxlLmFqYXhFbmFibGVkfHx0LmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCF0LmpxbUhpamFja2FibGUoKS5sZW5ndGh8fHQuYXR0cigidGFyZ2V0Iik/ITE6KGE9dC5hdHRyKCJhY3Rpb24iKSxyPSh0LmF0dHIoIm1ldGhvZCIpfHwiZ2V0IikudG9Mb3dlckNhc2UoKSxhfHwoYT1jKHQpLCJnZXQiPT09ciYmKGE9cC5wYXJzZVVybChhKS5ocmVmTm9TZWFyY2gpLGE9PT13LmhyZWZOb0hhc2gmJihhPXkuaHJlZk5vU2VhcmNoKSksYT1wLm1ha2VVcmxBYnNvbHV0ZShhLGModCkpLHAuaXNFeHRlcm5hbChhKSYmIXAuaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoeSxhKT8hMTooaXx8KG89dC5zZXJpYWxpemVBcnJheSgpLG0mJm1bMF0uZm9ybT09PXRbMF0mJihzPW0uYXR0cigibmFtZSIpLHMmJihlLmVhY2gobyxmdW5jdGlvbihlLHQpe3JldHVybiB0Lm5hbWU9PT1zPyhzPSIiLCExKTpufSkscyYmby5wdXNoKHtuYW1lOnMsdmFsdWU6bS5hdHRyKCJ2YWx1ZSIpfSkpKSxsPXt1cmw6YSxvcHRpb25zOnt0eXBlOnIsZGF0YTplLnBhcmFtKG8pLHRyYW5zaXRpb246dC5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT10LmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksbCkpfTtlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24odCl7dmFyIG49aShlKHRoaXMpKTtuJiYoZS5tb2JpbGUuY2hhbmdlUGFnZShuLnVybCxuLm9wdGlvbnMpLHQucHJldmVudERlZmF1bHQoKSl9KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBuLG8scz10LnRhcmdldCxyPSExO2lmKCEodC53aGljaD4xKSYmZS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXtpZihtPWUocyksZS5kYXRhKHMsIm1vYmlsZS1idXR0b24iKSl7aWYoIWkoZShzKS5jbG9zZXN0KCJmb3JtIiksITApKXJldHVybjtzLnBhcmVudE5vZGUmJihzPXMucGFyZW50Tm9kZSl9ZWxzZXtpZihzPWQocyksIXN8fCIjIj09PXAucGFyc2VVcmwocy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoKXJldHVybjtpZighZShzKS5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybn1+cy5jbGFzc05hbWUuaW5kZXhPZigidWktbGluay1pbmhlcml0Iik/cy5wYXJlbnROb2RlJiYobz1lLmRhdGEocy5wYXJlbnROb2RlLCJidXR0b25FbGVtZW50cyIpKTpvPWUuZGF0YShzLCJidXR0b25FbGVtZW50cyIpLG8/cz1vLm91dGVyOnI9ITAsbj1lKHMpLHImJihuPW4uY2xvc2VzdCgiLnVpLWJ0biIpKSxuLmxlbmd0aD4wJiYhbi5oYXNDbGFzcygidWktZGlzYWJsZWQiKSYmKGEoITApLGY9bixmLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGkpe2lmKGUubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCYmIWkuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBvLHM9ZChpLnRhcmdldCkscj1lKHMpO2lmKHMmJiEoaS53aGljaD4xKSYmci5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihvPWZ1bmN0aW9uKCl7dC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSghMCl9LDIwMCl9LHIuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGUubW9iaWxlLmJhY2soKSwhMTt2YXIgbD1jKHIpLGg9cC5tYWtlVXJsQWJzb2x1dGUoci5hdHRyKCJocmVmIil8fCIjIixsKTtpZighZS5tb2JpbGUuYWpheEVuYWJsZWQmJiFwLmlzRW1iZWRkZWRQYWdlKGgpKXJldHVybiBvKCksbjtpZigtMSE9PWguc2VhcmNoKCIjIikpe2lmKGg9aC5yZXBsYWNlKC9bXiNdKiMvLCIiKSwhaClyZXR1cm4gaS5wcmV2ZW50RGVmYXVsdCgpLG47aD1wLmlzUGF0aChoKT9wLm1ha2VVcmxBYnNvbHV0ZShoLGwpOnAubWFrZVVybEFic29sdXRlKCIjIitoLHkuaHJlZk5vSGFzaCl9dmFyIHU9ci5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxyLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fHIuaXMoIlt0YXJnZXRdIiksbT11fHxwLmlzRXh0ZXJuYWwoaCkmJiFwLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHksaCk7aWYobSlyZXR1cm4gbygpLG47dmFyIGY9ci5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksZz0icmV2ZXJzZSI9PT1yLmpxbURhdGEoImRpcmVjdGlvbiIpfHxyLmpxbURhdGEoImJhY2siKSxiPXIuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJyZWwiKXx8bjtlLm1vYmlsZS5jaGFuZ2VQYWdlKGgse3RyYW5zaXRpb246ZixyZXZlcnNlOmcscm9sZTpiLGxpbms6cn0pLGkucHJldmVudERlZmF1bHQoKX19fSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIHQ9W107ZSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPWUodGhpcyksbj1pLmF0dHIoImhyZWYiKTtuJiYtMT09PWUuaW5BcnJheShuLHQpJiYodC5wdXNoKG4pLGUubW9iaWxlLmxvYWRQYWdlKG4se3JvbGU6aS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInJlbCIpLHByZWZldGNoOiEwfSkpfSl9KSxlLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT1mdW5jdGlvbihpLGEpe3ZhciBvPXAuc3RyaXBIYXNoKGkpLHM9MD09PWUubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoPyJub25lIjpuLHI9e2NoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITAscmV2ZXJzZToiYmFjayI9PT1hLmRpcmVjdGlvbn07aWYoZS5leHRlbmQocixhLHt0cmFuc2l0aW9uOihiLmdldExhc3QoKXx8e30pLnRyYW5zaXRpb258fHN9KSxiLmFjdGl2ZUluZGV4PjAmJm8uaW5kZXhPZihDKT4tMSYmYi5pbml0aWFsRHN0IT09byl7aWYoZS5tb2JpbGUuYWN0aXZlUGFnZSYmIWUubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSlyZXR1cm4iYmFjayI9PT1hLmRpcmVjdGlvbj9lLm1vYmlsZS5iYWNrKCk6dC5oaXN0b3J5LmZvcndhcmQoKSxuO289YS5wYWdlVXJsO3ZhciBsPWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7ZS5leHRlbmQocix7cm9sZTpsLnJvbGUsdHJhbnNpdGlvbjpsLnRyYW5zaXRpb24scmV2ZXJzZToiYmFjayI9PT1hLmRpcmVjdGlvbn0pfW8/KG89cC5pc1BhdGgobyk/bzpwLm1ha2VVcmxBYnNvbHV0ZSgiIyIrbyx3KSxvPT09cC5tYWtlVXJsQWJzb2x1dGUoIiMiK2IuaW5pdGlhbERzdCx3KSYmYi5zdGFjay5sZW5ndGgmJmIuc3RhY2tbMF0udXJsIT09Yi5pbml0aWFsRHN0LnJlcGxhY2UoQywiIikmJihvPWUubW9iaWxlLmZpcnN0UGFnZSksZS5tb2JpbGUuY2hhbmdlUGFnZShvLHIpKTplLm1vYmlsZS5jaGFuZ2VQYWdlKGUubW9iaWxlLmZpcnN0UGFnZSxyKX0saC5iaW5kKCJuYXZpZ2F0ZSIsZnVuY3Rpb24odCxpKXt2YXIgbjt0Lm9yaWdpbmFsRXZlbnQmJnQub3JpZ2luYWxFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG49ZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLm9yaWdpbmFsRXZlbnROYW1lLmluZGV4T2YoImhhc2hjaGFuZ2UiKT4tMT9pLnN0YXRlLmhhc2g6aS5zdGF0ZS51cmwsbnx8KG49ZS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaCksbiYmIiMiIT09biYmMCE9PW4uaW5kZXhPZigiIyIrZS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KG49bG9jYXRpb24uaHJlZiksZS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UobixpLnN0YXRlKSl9KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlc2hvdyIsZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KSxlLm1vYmlsZS53aW5kb3cuYmluZCgidGhyb3R0bGVkcmVzaXplIixlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpfSxlKGZ1bmN0aW9uKCl7Zy5yZXNvbHZlKCl9KSxlLndoZW4oZyxlLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkKS5kb25lKGZ1bmN0aW9uKCl7ZS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1lLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZT0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7dmFyIGksbj1lLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZSh0LnRhcmdldCkpO24mJihpPW4ub3B0aW9ucyxlKHQudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChuLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksYT1pLmRlZ3JhZGVJbnB1dHNbbl18fCJ0ZXh0IjtpZihpLmRlZ3JhZGVJbnB1dHNbbl0pe3ZhciBvPWUoIjxkaXY+IikuaHRtbCh0LmNsb25lKCkpLmh0bWwoKSxzPW8uaW5kZXhPZigiIHR5cGU9Iik+LTEscj1zPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxsPScgdHlwZT0iJythKyciIGRhdGEtJytlLm1vYmlsZS5ucysndHlwZT0iJytuKyciJysocz8iIjoiPiIpO3QucmVwbGFjZVdpdGgoby5yZXBsYWNlKHIsbCkpfX0pKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmRpYWxvZyIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dGhpcy5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixuPWUoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciK2l9KTt0LmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpLHQud3JhcElubmVyKG4pLHQuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24odCl7dmFyIGksbj1lKHQudGFyZ2V0KS5jbG9zZXN0KCJ2Y2xpY2siPT09dC50eXBlPyJhIjoiZm9ybSIpO24ubGVuZ3RoJiYhbi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihpPWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LG4uYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixpLnRyYW5zaXRpb258fGUubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KSx0aGlzLl9vbih0LHtwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93In0pLGUuZXh0ZW5kKHRoaXMse19jcmVhdGVDb21wbGV0ZTohMX0pLHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bil9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbih0KXt2YXIgaSxuLGE9dGhpczt0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbiYmKHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uLnJlbW92ZSgpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPW51bGwpLCJub25lIiE9PXQmJihuPSJsZWZ0Ij09PXQ/ImxlZnQiOiJyaWdodCIsaT1lKCI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLSIrbisiJyBkYXRhLSIrZS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iK2UubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmlyc3QoKS5wcmVwZW5kKGkpLHRoaXMuX2NyZWF0ZUNvbXBsZXRlJiZlLmZuLmJ1dHRvbk1hcmt1cCYmaS5idXR0b25NYXJrdXAoKSx0aGlzLl9jcmVhdGVDb21wbGV0ZT0hMCxpLmJpbmQoImNsaWNrIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7ImNsb3NlQnRuIj09PWUmJnRoaXMuX3NldENsb3NlQnRuKHQpLHRoaXMuX3N1cGVyKGUsdCl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIHQsaSxuPWUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxlLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmbi5hY3RpdmVJbmRleD4wP2UubW9iaWxlLmJhY2soKToodD1NYXRoLm1heCgwLG4uYWN0aXZlSW5kZXgtMSksaT1uLnN0YWNrW3RdLnBhZ2VVcmx8fG4uc3RhY2tbdF0udXJsLG4ucHJldmlvdXNJbmRleD1uLmFjdGl2ZUluZGV4LG4uYWN0aXZlSW5kZXg9dCxlLm1vYmlsZS5wYXRoLmlzUGF0aChpKXx8KGk9ZS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2kpKSxlLm1vYmlsZS5jaGFuZ2VQYWdlKGkse2RpcmVjdGlvbjoiYmFjayIsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoZS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLmVuaGFuY2UodGhpcyl9KX0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIixlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG49ITEsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWU9bnVsbCxlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRlclRoZW1lPSJhIixlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPSJhIixlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZT1udWxsLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLG49aS5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMsYT1pLmpxbURhdGEoInJvbGUiKSxvPW4udGhlbWU7ZSgiOmpxbURhdGEocm9sZT0naGVhZGVyJyksIDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdjb250ZW50JykiLGkpLmpxbUVuaGFuY2VhYmxlKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0LHMscixsLGQ9ZSh0aGlzKSxjPWQuanFtRGF0YSgicm9sZSIpLGg9ZC5qcW1EYXRhKCJ0aGVtZSIpLHU9aHx8bi5jb250ZW50VGhlbWV8fCJkaWFsb2ciPT09YSYmbztpZihkLmFkZENsYXNzKCJ1aS0iK2MpLCJoZWFkZXIiPT09Y3x8ImZvb3RlciI9PT1jKXt2YXIgcD1ofHwoImhlYWRlciI9PT1jP24uaGVhZGVyVGhlbWU6bi5mb290ZXJUaGVtZSl8fG87ZC5hZGRDbGFzcygidWktYmFyLSIrcCkuYXR0cigicm9sZSIsImhlYWRlciI9PT1jPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpLCJoZWFkZXIiPT09YyYmKHQ9ZC5jaGlsZHJlbigiYSwgYnV0dG9uIikscz10Lmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLHI9dC5oYXNDbGFzcygidWktYnRuLXJpZ2h0Iikscz1zfHx0LmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCxyPXJ8fHQuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpLmxlbmd0aCksbi5hZGRCYWNrQnRuJiYiaGVhZGVyIj09PWMmJmUoIi51aS1wYWdlIikubGVuZ3RoPjEmJmkuanFtRGF0YSgidXJsIikhPT1lLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIXMmJihsPWUoIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2UubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIitlLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IituLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZSIsbi5iYWNrQnRuVGhlbWV8fHApLnByZXBlbmRUbyhkKSksZC5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlImNvbnRlbnQiPT09YyYmKHUmJmQuYWRkQ2xhc3MoInVpLWJvZHktIit1KSxkLmF0dHIoInJvbGUiLCJtYWluIikpfSl9KX0oZSksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdDtlJiYodD0ic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZSsiICIsISh0JiZ0LmluZGV4T2YoInVpLWJ0biAiKT4tMSYmMD50LmluZGV4T2YoInVpLWRpc2FibGVkICIpKSk7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBlfWZ1bmN0aW9uIGEobixhLG8scyxyKXt2YXIgbD1lLmRhdGEoblswXSwiYnV0dG9uRWxlbWVudHMiKTtuLnJlbW92ZUNsYXNzKGEpLmFkZENsYXNzKG8pLGwmJihsLmJjbHM9ZShpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5hZGRDbGFzcyhsLmJjbHMrIiAiK28pLnJlbW92ZUNsYXNzKGEpLmF0dHIoImNsYXNzIikscyE9PXQmJihsLmhvdmVyPXMpLGwuc3RhdGU9cil9dmFyIG89ZnVuY3Rpb24oZSxpKXt2YXIgbj1lLmdldEF0dHJpYnV0ZShpKTtyZXR1cm4idHJ1ZSI9PT1uPyEwOiJmYWxzZSI9PT1uPyExOm51bGw9PT1uP3Q6bn07ZS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24obil7dmFyIGEscj10aGlzLGw9ImRhdGEtIitlLm1vYmlsZS5ucztuPW4mJiJvYmplY3QiPT09ZS50eXBlKG4pP246e307Zm9yKHZhciBkPTA7ci5sZW5ndGg+ZDtkKyspe3ZhciBjLGgsdSxwLG0sZixnPXIuZXEoZCksYj1nWzBdLHY9ZS5leHRlbmQoe30sZS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMse2ljb246bi5pY29uIT09dD9uLmljb246byhiLGwrImljb24iKSxpY29ucG9zOm4uaWNvbnBvcyE9PXQ/bi5pY29ucG9zOm8oYixsKyJpY29ucG9zIiksdGhlbWU6bi50aGVtZSE9PXQ/bi50aGVtZTpvKGIsbCsidGhlbWUiKXx8ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZywiYyIpLGlubGluZTpuLmlubGluZSE9PXQ/bi5pbmxpbmU6byhiLGwrImlubGluZSIpLHNoYWRvdzpuLnNoYWRvdyE9PXQ/bi5zaGFkb3c6byhiLGwrInNoYWRvdyIpLGNvcm5lcnM6bi5jb3JuZXJzIT09dD9uLmNvcm5lcnM6byhiLGwrImNvcm5lcnMiKSxpY29uc2hhZG93Om4uaWNvbnNoYWRvdyE9PXQ/bi5pY29uc2hhZG93Om8oYixsKyJpY29uc2hhZG93IiksbWluaTpuLm1pbmkhPT10P24ubWluaTpvKGIsbCsibWluaSIpfSxuKSxfPSJ1aS1idG4taW5uZXIiLEM9InVpLWJ0bi10ZXh0Iix4PSExLHk9InVwIjtmb3IoYSBpbiB2KXZbYV09PT10fHxudWxsPT09dlthXT9nLnJlbW92ZUF0dHIobCthKTpiLnNldEF0dHJpYnV0ZShsK2EsdlthXSk7Zm9yKCJwb3B1cCI9PT1vKGIsbCsicmVsIikmJmcuYXR0cigiaHJlZiIpJiYoYi5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxiLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixnLmF0dHIoImhyZWYiKSkpLGY9ZS5kYXRhKCJJTlBVVCI9PT1iLnRhZ05hbWV8fCJCVVRUT04iPT09Yi50YWdOYW1lP2IucGFyZW50Tm9kZTpiLCJidXR0b25FbGVtZW50cyIpLGY/KGI9Zi5vdXRlcixnPWUoYiksdT1mLmlubmVyLHA9Zi50ZXh0LGUoZi5pY29uKS5yZW1vdmUoKSxmLmljb249bnVsbCx4PWYuaG92ZXIseT1mLnN0YXRlKToodT1pLmNyZWF0ZUVsZW1lbnQodi53cmFwcGVyRWxzKSxwPWkuY3JlYXRlRWxlbWVudCh2LndyYXBwZXJFbHMpKSxtPXYuaWNvbj9pLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsLHMmJiFmJiZzKCksdi50aGVtZXx8KHYudGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZywiYyIpKSxjPSJ1aS1idG4gIixjKz14PyJ1aS1idG4taG92ZXItIit2LnRoZW1lOiIiLGMrPXk/IiB1aS1idG4tIit5KyItIit2LnRoZW1lOiIiLGMrPXYuc2hhZG93PyIgdWktc2hhZG93IjoiIixjKz12LmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiIsdi5taW5pIT09dCYmKGMrPXYubWluaT09PSEwPyIgdWktbWluaSI6IiB1aS1mdWxsc2l6ZSIpLHYuaW5saW5lIT09dCYmKGMrPXYuaW5saW5lPT09ITA/IiB1aS1idG4taW5saW5lIjoiIHVpLWJ0bi1ibG9jayIpLHYuaWNvbiYmKHYuaWNvbj0idWktaWNvbi0iK3YuaWNvbix2Lmljb25wb3M9di5pY29ucG9zfHwibGVmdCIsaD0idWktaWNvbiAiK3YuaWNvbix2Lmljb25zaGFkb3cmJihoKz0iIHVpLWljb24tc2hhZG93IikpLHYuaWNvbnBvcyYmKGMrPSIgdWktYnRuLWljb24tIit2Lmljb25wb3MsIm5vdGV4dCIhPT12Lmljb25wb3N8fGcuYXR0cigidGl0bGUiKXx8Zy5hdHRyKCJ0aXRsZSIsZy5nZXRFbmNvZGVkVGV4dCgpKSksZiYmZy5yZW1vdmVDbGFzcyhmLmJjbHN8fCIiKSxnLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MoYyksdS5jbGFzc05hbWU9XyxwLmNsYXNzTmFtZT1DLGZ8fHUuYXBwZW5kQ2hpbGQocCksbSYmKG0uY2xhc3NOYW1lPWgsZiYmZi5pY29ufHwobS5pbm5lckhUTUw9IiYjMTYwOyIsdS5hcHBlbmRDaGlsZChtKSkpO2IuZmlyc3RDaGlsZCYmIWY7KXAuYXBwZW5kQ2hpbGQoYi5maXJzdENoaWxkKTtmfHxiLmFwcGVuZENoaWxkKHUpLGY9e2hvdmVyOngsc3RhdGU6eSxiY2xzOmMsb3V0ZXI6Yixpbm5lcjp1LHRleHQ6cCxpY29uOm19LGUuZGF0YShiLCJidXR0b25FbGVtZW50cyIsZiksZS5kYXRhKHUsImJ1dHRvbkVsZW1lbnRzIixmKSxlLmRhdGEocCwiYnV0dG9uRWxlbWVudHMiLGYpLG0mJmUuZGF0YShtLCJidXR0b25FbGVtZW50cyIsZil9cmV0dXJuIHRoaXN9LGUuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgcz1mdW5jdGlvbigpe3ZhciBpLG8scj1lLm1vYmlsZS5idXR0b25NYXJrdXAuaG92ZXJEZWxheTtlLm1vYmlsZS5kb2N1bWVudC5iaW5kKHsidm1vdXNlZG93biB2bW91c2VjYW5jZWwgdm1vdXNldXAgdm1vdXNlb3ZlciB2bW91c2VvdXQgZm9jdXMgYmx1ciBzY3JvbGxzdGFydCI6ZnVuY3Rpb24ocyl7dmFyIGwsZD1lKG4ocy50YXJnZXQpKSxjPXMub3JpZ2luYWxFdmVudCYmL150b3VjaC8udGVzdChzLm9yaWdpbmFsRXZlbnQudHlwZSksaD1zLnR5cGU7ZC5sZW5ndGgmJihsPWQuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZSIpLCJ2bW91c2Vkb3duIj09PWg/Yz9pPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1kb3duLSIrbCx0LCJkb3duIil9LHIpOmEoZCwidWktYnRuLXVwLSIrbCwidWktYnRuLWRvd24tIitsLHQsImRvd24iKToidm1vdXNlY2FuY2VsIj09PWh8fCJ2bW91c2V1cCI9PT1oP2EoZCwidWktYnRuLWRvd24tIitsLCJ1aS1idG4tdXAtIitsLHQsInVwIik6InZtb3VzZW92ZXIiPT09aHx8ImZvY3VzIj09PWg/Yz9vPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1ob3Zlci0iK2wsITAsIiIpfSxyKTphKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1ob3Zlci0iK2wsITAsIiIpOigidm1vdXNlb3V0Ij09PWh8fCJibHVyIj09PWh8fCJzY3JvbGxzdGFydCI9PT1oKSYmKGEoZCwidWktYnRuLWhvdmVyLSIrbCsiIHVpLWJ0bi1kb3duLSIrbCwidWktYnRuLXVwLSIrbCwhMSwidXAiKSxpJiZjbGVhclRpbWVvdXQoaSksbyYmY2xlYXJUaW1lb3V0KG8pKSl9LCJmb2N1c2luIGZvY3VzIjpmdW5jdGlvbih0KXtlKG4odC50YXJnZXQpKS5hZGRDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0sImZvY3Vzb3V0IGJsdXIiOmZ1bmN0aW9uKHQpe2Uobih0LnRhcmdldCkpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHM9bnVsbH07ZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UoIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhIix0LnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5ub3QoImJ1dHRvbiwgaW5wdXQsIC51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uTWFya3VwKCl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6ITAsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIixjb2xsYXBzZWRJY29uOiJwbHVzIixleHBhbmRlZEljb246Im1pbnVzIixpY29ucG9zOiJsZWZ0Iix0aGVtZTpudWxsLGNvbnRlbnRUaGVtZTpudWxsLGluc2V0OiEwLGNvcm5lcnM6ITAsbWluaTohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5lbGVtZW50LG49dGhpcy5vcHRpb25zLGE9aS5hZGRDbGFzcygidWktY29sbGFwc2libGUiKSxvPWkuY2hpbGRyZW4obi5oZWFkaW5nKS5maXJzdCgpLHM9YS53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQnPjwvZGl2PiIpLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtY29udGVudCIpLHI9aS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxsPSIiO28uaXMoImxlZ2VuZCIpJiYobz1lKCI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrby5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShvKSxvLm5leHQoKS5yZW1vdmUoKSksci5sZW5ndGg/KG4udGhlbWV8fChuLnRoZW1lPXIuanFtRGF0YSgidGhlbWUiKXx8ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUociwiYyIpKSxuLmNvbnRlbnRUaGVtZXx8KG4uY29udGVudFRoZW1lPXIuanFtRGF0YSgiY29udGVudC10aGVtZSIpKSxuLmNvbGxhcHNlZEljb249aS5qcW1EYXRhKCJjb2xsYXBzZWQtaWNvbiIpfHxyLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIil8fG4uY29sbGFwc2VkSWNvbixuLmV4cGFuZGVkSWNvbj1pLmpxbURhdGEoImV4cGFuZGVkLWljb24iKXx8ci5qcW1EYXRhKCJleHBhbmRlZC1pY29uIil8fG4uZXhwYW5kZWRJY29uLG4uaWNvbnBvcz1pLmpxbURhdGEoImljb25wb3MiKXx8ci5qcW1EYXRhKCJpY29ucG9zIil8fG4uaWNvbnBvcyxuLmluc2V0PXIuanFtRGF0YSgiaW5zZXQiKSE9PXQ/ci5qcW1EYXRhKCJpbnNldCIpOiEwLG4uY29ybmVycz0hMSxuLm1pbml8fChuLm1pbmk9ci5qcW1EYXRhKCJtaW5pIikpKTpuLnRoZW1lfHwobi50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShpLCJjIikpLG4uaW5zZXQmJihsKz0iIHVpLWNvbGxhcHNpYmxlLWluc2V0IixuLmNvcm5lcnMmJihsKz0iIHVpLWNvcm5lci1hbGwiKSksbi5jb250ZW50VGhlbWUmJihsKz0iIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IixzLmFkZENsYXNzKCJ1aS1ib2R5LSIrbi5jb250ZW50VGhlbWUpKSwiIiE9PWwmJmEuYWRkQ2xhc3MobCksby5pbnNlcnRCZWZvcmUocykuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOm4uaWNvbnBvcyxpY29uOm4uY29sbGFwc2VkSWNvbixtaW5pOm4ubWluaSx0aGVtZTpuLnRoZW1lfSksYS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKHQpe2lmKCF0LmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgaT1lKHRoaXMpLGE9ImNvbGxhcHNlIj09PXQudHlwZTt0LnByZXZlbnREZWZhdWx0KCksby50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGEpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYT9uLmV4cGFuZEN1ZVRleHQ6bi5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tIituLmV4cGFuZGVkSWNvbiwhYSkudG9nZ2xlQ2xhc3MoInVpLWljb24tIituLmNvbGxhcHNlZEljb24sYXx8bi5leHBhbmRlZEljb249PT1uLmNvbGxhcHNlZEljb24pLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxpLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGEpLHMudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixhKS5hdHRyKCJhcmlhLWhpZGRlbiIsYSkscy50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKG4uY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpLG8uYmluZCgidGFwIixmdW5jdGlvbigpe28uZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PW8uaXMoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpPyJleHBhbmQiOiJjb2xsYXBzZSI7YS50cmlnZ2VyKHQpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3Nlcz17X2dldFZpc2libGVzOmZ1bmN0aW9uKGUsdCl7dmFyIGk7cmV0dXJuIHQ/aT1lLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTooaT1lLmZpbHRlcigiOnZpc2libGUiKSwwPT09aS5sZW5ndGgmJihpPWUubm90KCIudWktc2NyZWVuLWhpZGRlbiIpKSksaX0sX2FkZEZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oZSx0LGkpe2UucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKSx0LmVxKDApLmFkZENsYXNzKCJ1aS1maXJzdC1jaGlsZCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcygidWktbGFzdC1jaGlsZCIpLGl8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19fShlKSxmdW5jdGlvbihlLHQpe2Uud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7b3B0aW9uczp7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLG49dGhpcy5vcHRpb25zO24udGhlbWV8fChuLnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGksImMiKSksbi5jb250ZW50VGhlbWV8fChuLmNvbnRlbnRUaGVtZT1pLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksbi5jb3JuZXJzfHwobi5jb3JuZXJzPWkuanFtRGF0YSgiY29ybmVycyIpKSxpLmpxbURhdGEoImluc2V0IikhPT10JiYobi5pbnNldD1pLmpxbURhdGEoImluc2V0IikpLG4uaW5zZXQ9bi5pbnNldCE9PXQ/bi5pbnNldDohMCxuLmNvcm5lcnM9bi5jb3JuZXJzIT09dD9uLmNvcm5lcnM6ITAsbi5jb3JuZXJzJiZuLmluc2V0JiZpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIiksaS5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIil8fGkuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsITApLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24odCl7dmFyIGk9ZSh0LnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIik7aS5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKSYmaS5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlIikudHJpZ2dlcigiY29sbGFwc2UiKX0pfSxfaW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PWUuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKSxpPXQuZmlsdGVyKCI6anFtRGF0YShjb2xsYXBzZWQ9J2ZhbHNlJykiKTsKdGhpcy5fcmVmcmVzaCgidHJ1ZSIpLGkudHJpZ2dlcigiZXhwYW5kIil9LF9yZWZyZXNoOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpO2UubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlKGkubm90KCIudWktY29sbGFwc2libGUiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhpLHRoaXMuX2dldFZpc2libGVzKGksdCksdCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCExKX19LGUubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNvbGxhcHNpYmxlc2V0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXtlLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKCJ1aS1maWVsZC1jb250YWluIHVpLWJvZHkgdWktYnIiKS5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAzPT09dGhpcy5ub2RlVHlwZSYmIS9cUy8udGVzdCh0aGlzLm5vZGVWYWx1ZSl9KS5yZW1vdmUoKX0sZShpKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZSgiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJykiLHQudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpfSl9KGUpLGZ1bmN0aW9uKGUpe2UuZm4uZ3JpZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGksbj1lKHRoaXMpLGE9ZS5leHRlbmQoe2dyaWQ6bnVsbH0sdCksbz1uLmNoaWxkcmVuKCkscz17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0scj1hLmdyaWQ7aWYoIXIpaWYoNT49by5sZW5ndGgpZm9yKHZhciBsIGluIHMpc1tsXT09PW8ubGVuZ3RoJiYocj1sKTtlbHNlIHI9ImEiLG4uYWRkQ2xhc3MoInVpLWdyaWQtZHVvIik7aT1zW3JdLG4uYWRkQ2xhc3MoInVpLWdyaWQtIityKSxvLmZpbHRlcigiOm50aC1jaGlsZCgiK2krIm4rMSkiKS5hZGRDbGFzcygidWktYmxvY2stYSIpLGk+MSYmby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKSxpPjImJm8uZmlsdGVyKCI6bnRoLWNoaWxkKCIraSsibiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIiksaT4zJiZvLmZpbHRlcigiOm50aC1jaGlsZCgiK2krIm4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpLGk+NCYmby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLm5hdmJhciIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudCxhPW4uZmluZCgiYSIpLG89YS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOnQ7bi5hZGRDbGFzcygidWktbmF2YmFyIHVpLW1pbmkiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksYS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITEsc2hhZG93OiExLGlubGluZTohMCxpY29ucG9zOm99KSxuLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbih0KXt2YXIgbj1lKHQudGFyZ2V0KS5pcygiYSIpP2UodGhpcyk6ZSh0aGlzKS5wYXJlbnQoImEiKTtpZighbi5pcygiLnVpLWRpc2FibGVkLCAudWktYnRuLWFjdGl2ZSIpKXthLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxlKHRoaXMpLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTt2YXIgbz1lKHRoaXMpO2UoaSkub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtvLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pLG4uY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXthLmZpbHRlcigiLnVpLXN0YXRlLXBlcnNpc3QiKS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXt2YXIgdD17fTtlLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZToiYyIsaGVhZGVyVGhlbWU6ImIiLGRpdmlkZXJUaGVtZToiYiIsaWNvbjoiYXJyb3ctciIsc3BsaXRJY29uOiJhcnJvdy1yIixzcGxpdFRoZW1lOiJiIixjb3JuZXJzOiEwLHNoYWRvdzohMCxpbnNldDohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSIiO3QrPWUub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixlLm9wdGlvbnMuaW5zZXQmJih0Kz1lLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLHQrPWUub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxlLmVsZW1lbnQuYWRkQ2xhc3MoZnVuY3Rpb24oZSxpKXtyZXR1cm4gaSsiIHVpLWxpc3R2aWV3Iit0fSksZS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9e307Zm9yKGFbaV09YVtuXT0hMDtlOyl7aWYoYVtlLm5vZGVOYW1lXSlyZXR1cm4gZTtlPWVbdF19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbih0LGksbil7dmFyIGE9W10sbz17fTtmb3Iob1tpXT1vW25dPSEwLHQ9dC5maXJzdENoaWxkO3Q7KW9bdC5ub2RlTmFtZV0mJmEucHVzaCh0KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGUoYSl9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGksbixhPXQubGVuZ3RoO2ZvcihpPTA7YT5pO2krKyluPWUodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZSh0W2ldLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLG4ubGVuZ3RoJiYobi5hZGRDbGFzcygidWktbGktdGh1bWIiKSxlKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoblswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhuLmlzKCIudWktbGktaWNvbiIpPyJ1aS1saS1oYXMtaWNvbiI6InVpLWxpLWhhcy10aHVtYiIpKX0scmVmcmVzaDpmdW5jdGlvbih0KXt0aGlzLnBhcmVudFBhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksdGhpcy5fY3JlYXRlU3ViUGFnZXMoKTt2YXIgbixhLG8scyxyLGwsZCxjLGgsdSxwLG0sZj10aGlzLm9wdGlvbnMsZz10aGlzLmVsZW1lbnQsYj1nLmpxbURhdGEoImRpdmlkZXJ0aGVtZSIpfHxmLmRpdmlkZXJUaGVtZSx2PWcuanFtRGF0YSgic3BsaXR0aGVtZSIpLF89Zy5qcW1EYXRhKCJzcGxpdGljb24iKSxDPWcuanFtRGF0YSgiaWNvbiIpLHg9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSwibGkiLCJMSSIpLHk9ISFlLm5vZGVOYW1lKGdbMF0sIm9sIiksdz0hZS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnQsVD1nLmF0dHIoInN0YXJ0IiksRD17fTt5JiZ3JiZnLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKSx5JiYoVHx8MD09PVQ/dz9kPXBhcnNlSW50KFQsMTApOihjPXBhcnNlSW50KFQsMTApLTEsZy5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrYykpOncmJihkPTEpKSxmLnRoZW1lfHwoZi50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSk7Zm9yKHZhciBQPTAsaz14Lmxlbmd0aDtrPlA7UCsrKXtpZihuPXguZXEoUCksYT0idWktbGkiLHR8fCFuLmhhc0NsYXNzKCJ1aS1saSIpKXtvPW4uanFtRGF0YSgidGhlbWUiKXx8Zi50aGVtZSxzPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKG5bMF0sImEiLCJBIik7dmFyIEU9Imxpc3QtZGl2aWRlciI9PT1uLmpxbURhdGEoInJvbGUiKTtzLmxlbmd0aCYmIUU/KHA9bi5qcW1EYXRhKCJpY29uIiksbi5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczoicmlnaHQiLGljb246cy5sZW5ndGg+MXx8cD09PSExPyExOnB8fEN8fGYuaWNvbix0aGVtZTpvfSkscCE9PSExJiYxPT09cy5sZW5ndGgmJm4uYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLHMuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSxzLmxlbmd0aD4xJiYoYSs9IiB1aS1saS1oYXMtYWx0IixyPXMubGFzdCgpLGw9dnx8ci5qcW1EYXRhKCJ0aGVtZSIpfHxmLnNwbGl0VGhlbWUsbT1yLmpxbURhdGEoImljb24iKSxyLmFwcGVuZFRvKG4pLmF0dHIoInRpdGxlIixlLnRyaW0oci5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLHRoZW1lOm8saWNvbjohMSxpY29ucG9zOiJub3RleHQifSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChlKGkuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOmwsaWNvbnBvczoibm90ZXh0IixpY29uOm18fHB8fF98fGYuc3BsaXRJY29ufSkpKSk6RT8oYSs9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iKyhuLmpxbURhdGEoInRoZW1lIil8fGIpLG4uYXR0cigicm9sZSIsImhlYWRpbmciKSx5JiYoVHx8MD09PVQ/dz9kPXBhcnNlSW50KFQsMTApOihoPXBhcnNlSW50KFQsMTApLTEsbi5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIraCkpOncmJihkPTEpKSk6YSs9IiB1aS1saS1zdGF0aWMgdWktYnRuLXVwLSIrb315JiZ3JiYwPmEuaW5kZXhPZigidWktbGktZGl2aWRlciIpJiYodT1hLmluZGV4T2YoInVpLWxpLXN0YXRpYyIpPjA/bjpuLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSx1LmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrZCsrICsiLiA8L3NwYW4+IikpLERbYV18fChEW2FdPVtdKSxEW2FdLnB1c2goblswXSl9Zm9yKGEgaW4gRCllKERbYV0pLmFkZENsYXNzKGEpLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoYSk7Zy5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7dC5wcmVwZW5kVG8odC5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZy5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIiksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHgpLHRoaXMuX2FkZFRodW1iQ2xhc3NlcyhnLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3Nlcyh4LHRoaXMuX2dldFZpc2libGVzKHgsdCksdCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJyZWZyZXNoIil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgaSxhPXRoaXMuZWxlbWVudCxvPWEuY2xvc2VzdCgiLnVpLXBhZ2UiKSxzPW8uanFtRGF0YSgidXJsIikscj1zfHxvWzBdW2UuZXhwYW5kb10sbD1hLmF0dHIoImlkIiksZD10aGlzLm9wdGlvbnMsYz0iZGF0YS0iK2UubW9iaWxlLm5zLGg9dGhpcyx1PW8uZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5qcW1EYXRhKCJpZCIpO2lmKHRbcl09PT1uJiYodFtyXT0tMSksbD1sfHwrK3Rbcl0sZShhLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24odCl7dmFyIG4sbyxyPWUodGhpcyksaD1yLmF0dHIoImlkIil8fGwrIi0iK3QscD1yLnBhcmVudCgpLG09ZShyLnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpKSxmPW0ubGVuZ3RoP206ZSgiPHNwYW4+IitlLnRyaW0ocC5jb250ZW50cygpWzBdLm5vZGVWYWx1ZSkrIjwvc3Bhbj4iKSxnPWYuZmlyc3QoKS5nZXRFbmNvZGVkVGV4dCgpLGI9KHN8fCIiKSsiJiIrZS5tb2JpbGUuc3ViUGFnZVVybEtleSsiPSIraCx2PXIuanFtRGF0YSgidGhlbWUiKXx8ZC50aGVtZSxfPXIuanFtRGF0YSgiY291bnR0aGVtZSIpfHxhLmpxbURhdGEoImNvdW50dGhlbWUiKXx8ZC5jb3VudFRoZW1lO2k9ITAsbj1yLmRldGFjaCgpLndyYXAoIjxkaXYgIitjKyJyb2xlPSdwYWdlJyAiK2MrInVybD0nIitiKyInICIrYysidGhlbWU9JyIrdisiJyAiK2MrImNvdW50LXRoZW1lPSciK18rIic+PGRpdiAiK2MrInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLnBhcmVudCgpLmJlZm9yZSgiPGRpdiAiK2MrInJvbGU9J2hlYWRlcicgIitjKyJ0aGVtZT0nIitkLmhlYWRlclRoZW1lKyInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK2crIjwvZGl2PjwvZGl2PiIpLmFmdGVyKHU/ZSgiPGRpdiAiK2MrInJvbGU9J2Zvb3RlcicgIitjKyJpZD0nIit1KyInPiIpOiIiKS5wYXJlbnQoKS5hcHBlbmRUbyhlLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxuLnBhZ2UoKSxvPXAuZmluZCgiYTpmaXJzdCIpLG8ubGVuZ3RofHwobz1lKCI8YS8+IikuaHRtbChmfHxnKS5wcmVwZW5kVG8ocC5lbXB0eSgpKSksby5hdHRyKCJocmVmIiwiIyIrYil9KS5saXN0dmlldygpLGkmJm8uaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZvLmRhdGEoIm1vYmlsZS1wYWdlIikub3B0aW9ucy5kb21DYWNoZT09PSExKXt2YXIgcD1mdW5jdGlvbih0LGkpe3ZhciBuLGE9aS5uZXh0UGFnZSxyPW5ldyBlLkV2ZW50KCJwYWdlcmVtb3ZlIik7aS5uZXh0UGFnZSYmKG49YS5qcW1EYXRhKCJ1cmwiKSwwIT09bi5pbmRleE9mKHMrIiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXkpJiYoaC5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksby50cmlnZ2VyKHIpLHIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG8ucmVtb3ZlV2l0aERlcGVuZGVudHMoKSkpfTtvLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixwKX19LGNoaWxkUGFnZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudFBhZ2UuanFtRGF0YSgidXJsIik7cmV0dXJuIGUoIjpqcW1EYXRhKHVybF49JyIrdCsiJiIrZS5tb2JpbGUuc3ViUGFnZVVybEtleSsiJykiKX19LGUubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lKCJtZXRhW25hbWU9dmlld3BvcnRdIiksaT10LmF0dHIoImNvbnRlbnQiKSxuPWkrIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8iLGE9aSsiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzIixvPS8odXNlci1zY2FsYWJsZVtcc10qPVtcc10qbm8pfChtYXhpbXVtLXNjYWxlW1xzXSo9W1xzXSoxKVskLFxzXS8udGVzdChpKTtlLm1vYmlsZS56b29tPWUuZXh0ZW5kKHt9LHtlbmFibGVkOiFvLGxvY2tlZDohMSxkaXNhYmxlOmZ1bmN0aW9uKGkpe298fGUubW9iaWxlLnpvb20ubG9ja2VkfHwodC5hdHRyKCJjb250ZW50IixuKSxlLm1vYmlsZS56b29tLmVuYWJsZWQ9ITEsZS5tb2JpbGUuem9vbS5sb2NrZWQ9aXx8ITEpfSxlbmFibGU6ZnVuY3Rpb24oaSl7b3x8ZS5tb2JpbGUuem9vbS5sb2NrZWQmJmkhPT0hMHx8KHQuYXR0cigiY29udGVudCIsYSksZS5tb2JpbGUuem9vbS5lbmFibGVkPSEwLGUubW9iaWxlLnpvb20ubG9ja2VkPSExKX0scmVzdG9yZTpmdW5jdGlvbigpe298fCh0LmF0dHIoImNvbnRlbnQiLGkpLGUubW9iaWxlLnpvb20uZW5hYmxlZD0hMCl9fSl9KGUpLGZ1bmN0aW9uKGUpe2Uud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTohMSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLCBpbnB1dFt0eXBlPSdudW1iZXInXSwgOmpxbURhdGEodHlwZT0nbnVtYmVyJyksIGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10sIGlucHV0W3R5cGU9J2VtYWlsJ10sIGlucHV0W3R5cGU9J3VybCddLCBpbnB1dFt0eXBlPSd0ZWwnXSwgdGV4dGFyZWEsIGlucHV0W3R5cGU9J3RpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZSddLCBpbnB1dFt0eXBlPSdtb250aCddLCBpbnB1dFt0eXBlPSd3ZWVrJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10sIGlucHV0W3R5cGU9J2NvbG9yJ10sIGlucHV0Om5vdChbdHlwZV0pLCBpbnB1dFt0eXBlPSdmaWxlJ10iLGNsZWFyQnRuOiExLGNsZWFyU2VhcmNoQnV0dG9uVGV4dDpudWxsLGNsZWFyQnRuVGV4dDoiY2xlYXIgdGV4dCIsZGlzYWJsZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7c2V0VGltZW91dChmdW5jdGlvbigpe2EudG9nZ2xlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIsIXMudmFsKCkpfSwwKX12YXIgaSxhLG89dGhpcyxzPXRoaXMuZWxlbWVudCxyPXRoaXMub3B0aW9ucyxsPXIudGhlbWV8fGUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGQ9IiB1aS1ib2R5LSIrbCxjPXIubWluaT8iIHVpLW1pbmkiOiIiLGg9cy5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpLHU9ci5jbGVhclNlYXJjaEJ1dHRvblRleHR8fHIuY2xlYXJCdG5UZXh0LHA9cy5pcygidGV4dGFyZWEsIDpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxtPSEhci5jbGVhckJ0biYmIXAsZj1zLmlzKCJpbnB1dCIpJiYhcy5pcygiOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpO2lmKGUoImxhYmVsW2Zvcj0nIitzLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQiKSxpPXMuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQgdWktYm9keS0iK2wpLHNbMF0uYXV0b2NvcnJlY3Q9PT1ufHxlLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KHNbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLHNbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSksaD9pPXMud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2QrYysiJz48L2Rpdj4iKS5wYXJlbnQoKTpmJiYoaT1zLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXRleHQgdWktc2hhZG93LWluc2V0IHVpLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyIrZCtjKyInPjwvZGl2PiIpLnBhcmVudCgpKSxtfHxoPyhhPWUoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrdSsiJz4iK3UrIjwvYT4iKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oZSl7cy52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIiksYS5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiksZS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oaSkuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczohMCxzaGFkb3c6ITAsbWluaTpyLm1pbml9KSxofHxpLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKSx0KCkscy5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgaW5wdXQgZm9jdXMgY2hhbmdlIGJsdXIiLHQpKTpmfHxofHxzLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZCtjKSxzLmZvY3VzKGZ1bmN0aW9uKCl7ci5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApLGkuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKSxyLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pLHMuaXMoInRleHRhcmVhIikpe3ZhciBnLGI9MTUsdj0xMDA7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgZT1zWzBdLnNjcm9sbEhlaWdodCx0PXNbMF0uY2xpZW50SGVpZ2h0O2lmKGU+dCl7dmFyIGk9cGFyc2VGbG9hdChzLmNzcygicGFkZGluZy10b3AiKSksbj1wYXJzZUZsb2F0KHMuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxhPWkrbjtzLmhlaWdodChlLWErYil9fSxzLm9uKCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGcpLGc9c2V0VGltZW91dChvLl9rZXl1cCx2KX0pLHRoaXMuX29uKCEwLGUubW9iaWxlLmRvY3VtZW50LHtwYWdlY2hhbmdlOiJfa2V5dXAifSksZS50cmltKHMudmFsKCkpJiZ0aGlzLl9vbighMCxlLm1vYmlsZS53aW5kb3cse2xvYWQ6Il9rZXl1cCJ9KX1zLmF0dHIoImRpc2FibGVkIikmJnRoaXMuZGlzYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxpPXRoaXMuZWxlbWVudC5pcygiaW5wdXQiKSYmIXRoaXMuZWxlbWVudC5pcygiOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLG49dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCkmJihpfHx0KTtyZXR1cm4gZT1uP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQsZS5hZGRDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksaT10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxuPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpJiYoaXx8dCk7cmV0dXJuIGU9bj90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50LGUucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlcj0hMSxlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcj0iRmlsdGVyIGl0ZW1zLi4uIixlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT0iYyIsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUmV2ZWFsPSExO3ZhciB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuLTE9PT0oIiIrZSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHQpfTtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz10LGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCwgb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpLG49aS5kYXRhKCJtb2JpbGUtbGlzdHZpZXciKTtpZihuJiZuLm9wdGlvbnMuZmlsdGVyKXtuLm9wdGlvbnMuZmlsdGVyUmV2ZWFsJiZpLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgYT1lKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrbi5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KS5zdWJtaXQoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHMuYmx1cigpfSksbz1mdW5jdGlvbigpe3ZhciBhLG89ZSh0aGlzKSxzPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxyPW51bGwsbD1pLmNoaWxkcmVuKCksZD1vLmpxbURhdGEoImxhc3R2YWwiKSsiIixjPSExLGg9IiIsdT1uLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2shPT10O2lmKCFkfHxkIT09cyl7aWYobi5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIiwiYmVmb3JlZmlsdGVyIix7aW5wdXQ6dGhpc30pLG8uanFtRGF0YSgibGFzdHZhbCIscyksdXx8cy5sZW5ndGg8ZC5sZW5ndGh8fDAhPT1zLmluZGV4T2YoZCk/cj1pLmNoaWxkcmVuKCk6KHI9aS5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKSwhci5sZW5ndGgmJm4ub3B0aW9ucy5maWx0ZXJSZXZlYWwmJihyPWkuY2hpbGRyZW4oIi51aS1zY3JlZW4taGlkZGVuIikpKSxzKXtmb3IodmFyIHA9ci5sZW5ndGgtMTtwPj0wO3AtLSlhPWUocltwXSksaD1hLmpxbURhdGEoImZpbHRlcnRleHQiKXx8YS50ZXh0KCksYS5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oYS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWMpLGM9ITEpOm4ub3B0aW9ucy5maWx0ZXJDYWxsYmFjayhoLHMsYSk/YS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITApOmM9ITA7ci5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKSxyLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSByLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhIW4ub3B0aW9ucy5maWx0ZXJSZXZlYWwpO24uX2FkZEZpcnN0TGFzdENsYXNzZXMobCxuLl9nZXRWaXNpYmxlcyhsLCExKSwhMSl9fSxzPWUoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpuLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIGlucHV0IixvKS5hcHBlbmRUbyhhKS50ZXh0aW5wdXQoKTtuLm9wdGlvbnMuaW5zZXQmJmEuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpLGEuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGkpfX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5hdXRvZGl2aWRlcnM9ITEsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGk9ZS50cmltKHQudGV4dCgpKXx8bnVsbDtyZXR1cm4gaT9pPWkuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9LGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCxvbCIsImxpc3R2aWV3Y3JlYXRlIixmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj10LmRhdGEoIm1vYmlsZS1saXN0dmlldyIpO2lmKG4mJm4ub3B0aW9ucy5hdXRvZGl2aWRlcnMpe3ZhciBhPWZ1bmN0aW9uKCl7dC5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCk7Zm9yKHZhciBhLG8scz10LmZpbmQoImxpIikscj1udWxsLGw9MDtzLmxlbmd0aD5sO2wrKyl7aWYoYT1zW2xdLG89bi5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGUoYSkpLG8mJnIhPT1vKXt2YXIgZD1pLmNyZWF0ZUVsZW1lbnQoImxpIik7ZC5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKG8pKSxkLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlIiwibGlzdC1kaXZpZGVyIiksYS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkLGEpfXI9b319LG89ZnVuY3Rpb24oKXt0LnVuYmluZCgibGlzdHZpZXdhZnRlcnJlZnJlc2giLG8pLGEoKSxuLnJlZnJlc2goKSx0LmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixvKX07bygpfX0pfShlKSxmdW5jdGlvbihlKXtlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlKCI6anFtRGF0YShyb2xlPSdub2pzJykiLHQudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KGUpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsYT10aGlzLmVsZW1lbnQsbz10aGlzLm9wdGlvbnMscz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmpxbURhdGEodCl8fGUuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKHQpfSxyPWUoYSkuY2xvc2VzdCgibGFiZWwiKSxsPXIubGVuZ3RoP3I6ZShhKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2FbMF0uaWQrIiddIikuZmlyc3QoKSxkPWFbMF0udHlwZSxjPXMoYSwibWluaSIpfHxvLm1pbmksaD1kKyItb24iLHU9ZCsiLW9mZiIscD1zKGEsImljb25wb3MiKSxtPSJ1aS0iK2gsZj0idWktIit1O2lmKCJjaGVja2JveCI9PT1kfHwicmFkaW8iPT09ZCl7ZS5leHRlbmQodGhpcyx7bGFiZWw6bCxpbnB1dHR5cGU6ZCxjaGVja2VkQ2xhc3M6bSx1bmNoZWNrZWRDbGFzczpmLGNoZWNrZWRpY29uOmgsdW5jaGVja2VkaWNvbjp1fSksby50aGVtZXx8KG8udGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGwuYnV0dG9uTWFya3VwKHt0aGVtZTpvLnRoZW1lLGljb246dSxzaGFkb3c6ITEsbWluaTpjLGljb25wb3M6cH0pO3ZhciBnPWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5jbGFzc05hbWU9InVpLSIrZCxhLmFkZChsKS53cmFwQWxsKGcpLGwuYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbih0KXtlKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmdC5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiBhLmlzKCI6ZGlzYWJsZWQiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLG4pOih0Ll9jYWNoZVZhbHMoKSxhLnByb3AoImNoZWNrZWQiLCJyYWRpbyI9PT1kJiYhMHx8IWEucHJvcCgiY2hlY2tlZCIpKSxhLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHQuX2dldElucHV0U2V0KCkubm90KGEpLnByb3AoImNoZWNrZWQiLCExKSx0Ll91cGRhdGVBbGwoKSwhMSl9fSksYS5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKCl7dC5fY2FjaGVWYWxzKCl9LHZjbGljazpmdW5jdGlvbigpe3ZhciBpPWUodGhpcyk7aS5pcygiOmNoZWNrZWQiKT8oaS5wcm9wKCJjaGVja2VkIiwhMCksdC5fZ2V0SW5wdXRTZXQoKS5ub3QoaSkucHJvcCgiY2hlY2tlZCIsITEpKTppLnByb3AoImNoZWNrZWQiLCExKSx0Ll91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtsLmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7bC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiJjaGVja2JveCI9PT10aGlzLmlucHV0dHlwZT90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJpbnB1dFtuYW1lPSciK3RoaXMuZWxlbWVudFswXS5uYW1lKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpOyh0aGlzLmNoZWNrZWR8fCJjaGVja2JveCI9PT10LmlucHV0dHlwZSkmJmkudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLGk9IiAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLG49dGhpcy5jaGVja2VkQ2xhc3MrKHRoaXMuZWxlbWVudC5wYXJlbnRzKCIudWktY29udHJvbGdyb3VwLWhvcml6b250YWwiKS5sZW5ndGg/aToiIiksYT10aGlzLmxhYmVsO3QuY2hlY2tlZD9hLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MraSkuYWRkQ2xhc3MobikuYnV0dG9uTWFya3VwKHtpY29uOnRoaXMuY2hlY2tlZGljb259KTphLnJlbW92ZUNsYXNzKG4pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLmJ1dHRvbk1hcmt1cCh7aWNvbjp0aGlzLnVuY2hlY2tlZGljb259KSx0LmRpc2FibGVkP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCEwKS5wYXJlbnQoKS5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSxlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNoZWNrYm94cmFkaW8ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUpe2Uud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCxpbml0U2VsZWN0b3I6ImJ1dHRvbiwgW3R5cGU9J2J1dHRvbiddLCBbdHlwZT0nc3VibWl0J10sIFt0eXBlPSdyZXNldCddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5lbGVtZW50LGE9ZnVuY3Rpb24oZSl7dmFyIHQsaT17fTtmb3IodCBpbiBlKW51bGwhPT1lW3RdJiYiaW5pdFNlbGVjdG9yIiE9PXQmJihpW3RdPWVbdF0pO3JldHVybiBpfSh0aGlzLm9wdGlvbnMpLG89IiI7cmV0dXJuIkEiPT09aVswXS50YWdOYW1lPyhpLmhhc0NsYXNzKCJ1aS1idG4iKXx8aS5idXR0b25NYXJrdXAoKSxuKToodGhpcy5vcHRpb25zLnRoZW1lfHwodGhpcy5vcHRpb25zLnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKSx+aVswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKSYmKG89InVpLWJ0bi1sZWZ0IiksfmlbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1yaWdodCIpJiYobz0idWktYnRuLXJpZ2h0IiksKCJzdWJtaXQiPT09aS5hdHRyKCJ0eXBlIil8fCJyZXNldCI9PT1pLmF0dHIoInR5cGUiKSkmJihvP28rPSIgdWktc3VibWl0IjpvPSJ1aS1zdWJtaXQiKSxlKCJsYWJlbFtmb3I9JyIraS5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1zdWJtaXQiKSx0aGlzLmJ1dHRvbj1lKCI8ZGl2PjwvZGl2PiIpW2kuaHRtbCgpPyJodG1sIjoidGV4dCJdKGkuaHRtbCgpfHxpLnZhbCgpKS5pbnNlcnRCZWZvcmUoaSkuYnV0dG9uTWFya3VwKGEpLmFkZENsYXNzKG8pLmFwcGVuZChpLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpLHQ9dGhpcy5idXR0b24saS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3QuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt0LnJlbW92ZUNsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCgpLG4pfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIG49e307blt0XT1pLCJpbml0U2VsZWN0b3IiIT09dCYmKHRoaXMuYnV0dG9uLmJ1dHRvbk1hcmt1cChuKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpK3QucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksaSkpLHRoaXMuX3N1cGVyKCJfc2V0T3B0aW9uIix0LGkpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50O3QucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGUodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVt0Lmh0bWwoKT8iaHRtbCI6InRleHQiXSh0Lmh0bWwoKXx8dC52YWwoKSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSxuKXtlLndpZGdldCgibW9iaWxlLnNsaWRlciIsZS5tb2JpbGUud2lkZ2V0LGUuZXh0ZW5kKHt3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGEsbyxzPXRoaXMscj10aGlzLmVsZW1lbnQsbD1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShyLCJjIiksZD10aGlzLm9wdGlvbnMudGhlbWV8fGwsYz10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8bCxoPXJbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx1PSh0aGlzLmlzVG9nZ2xlU3dpdGNoPSJzZWxlY3QiPT09aCxyLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIikpLHA9dGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyLXN3aXRjaCI6IiIsbT1yLmF0dHIoImlkIiksZj1lKCJbZm9yPSciK20rIiddIiksZz1mLmF0dHIoImlkIil8fG0rIi1sYWJlbCIsYj1mLmF0dHIoImlkIixnKSx2PXRoaXMuaXNUb2dnbGVTd2l0Y2g/MDpwYXJzZUZsb2F0KHIuYXR0cigibWluIikpLF89dGhpcy5pc1RvZ2dsZVN3aXRjaD9yLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xOnBhcnNlRmxvYXQoci5hdHRyKCJtYXgiKSksQz10LnBhcnNlRmxvYXQoci5hdHRyKCJzdGVwIil8fDEpLHg9dGhpcy5vcHRpb25zLm1pbml8fHIuanFtRGF0YSgibWluaSIpPyIgdWktbWluaSI6IiIseT1pLmNyZWF0ZUVsZW1lbnQoImEiKSx3PWUoeSksVD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLEQ9ZShUKSxQPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoP2Z1bmN0aW9uKCl7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdC5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGUodCkucHJlcGVuZFRvKEQpfSgpOiExO2lmKHkuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLFQuc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSxULmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyICI6InVpLXNsaWRlci10cmFjayAiLHAsIiB1aS1idG4tZG93bi0iLGMsIiB1aS1idG4tY29ybmVyLWFsbCIseF0uam9pbigiIikseS5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLFQuYXBwZW5kQ2hpbGQoeSksdy5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6ZCxzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjp2LCJhcmlhLXZhbHVlbWF4IjpfLCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOmd9KSxlLmV4dGVuZCh0aGlzLHtzbGlkZXI6RCxoYW5kbGU6dyx0eXBlOmgsc3RlcDpDLG1heDpfLG1pbjp2LHZhbHVlYmc6UCxpc1Jhbmdlc2xpZGVyOnUsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHRoaXMuaXNUb2dnbGVTd2l0Y2gpe289aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxvLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0Ijtmb3IodmFyIGs9MCxFPVQuY2hpbGROb2Rlcy5sZW5ndGg7RT5rO2srKylvLmFwcGVuZENoaWxkKFQuY2hpbGROb2Rlc1trXSk7VC5hcHBlbmRDaGlsZChvKSx3LmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksYT1yLmZpbmQoIm9wdGlvbiIpO2Zvcih2YXIgcT0wLGo9YS5sZW5ndGg7aj5xO3ErKyl7dmFyIFM9cT8iYSI6ImIiLEE9cT8iICIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6IiB1aS1idG4tZG93bi0iK2MsTj0oaS5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7Ti5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsUyxBLCIgdWktYnRuLWNvcm5lci1hbGwiXS5qb2luKCIiKSxOLnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLE4uYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZShhW3FdLmlubmVySFRNTCkpLGUoTikucHJlcGVuZFRvKEQpfXMuX2xhYmVscz1lKCIudWktc2xpZGVyLWxhYmVsIixEKX1iLmFkZENsYXNzKCJ1aS1zbGlkZXIiKSxyLmFkZENsYXNzKHRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihyLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSxELmJpbmQoInZtb3VzZWRvd24iLGUucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oaSx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oRC5hZGQoaSkse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksRC5pbnNlcnRBZnRlcihyKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx1fHwobz10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixyLmFkZChEKS53cmFwQWxsKG8pKSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe0QuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtELnJlbW92ZUNsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKG4sbiwhMCl9LF9jb250cm9sQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJjb250cm9sY2hhbmdlIixlKT09PSExPyExOih0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSxuKX0sX2NvbnRyb2xLZXl1cDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbFZNb3VzZVVwOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tlZFJlZnJlc2goKX0sX2hhbmRsZVZNb3VzZURvd246ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl92YWx1ZSgpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5MRUZUOnQucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlTbGlkaW5nfHwodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfXN3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5IT01FOnRoaXMucmVmcmVzaCh0aGlzLm1pbik7YnJlYWs7Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLkVORDp0aGlzLnJlZnJlc2godGhpcy5tYXgpO2JyZWFrO2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGUubW9iaWxlLmtleUNvZGUuUklHSFQ6dGhpcy5yZWZyZXNoKGkrdGhpcy5zdGVwKTticmVhaztjYXNlIGUubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5MRUZUOnRoaXMucmVmcmVzaChpLXRoaXMuc3RlcCl9fX0sX2hhbmRsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX0sX3NsaWRlclZNb3VzZURvd246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8MSE9PWUud2hpY2gmJjAhPT1lLndoaWNoPyExOnRoaXMuX3RyaWdnZXIoImJlZm9yZXN0YXJ0IixlKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGUpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2luZz8odGhpcy5kcmFnZ2luZz0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/dGhpcy5yZWZyZXNoKDA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCk6dGhpcy5yZWZyZXNoKHRoaXMuYmVmb3JlU3RhcnQpOnRoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIpLCExKTpufSxfcHJldmVudERvY3VtZW50RHJhZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiZHJhZyIsZSk9PT0hMT8hMTp0aGlzLmRyYWdnaW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkPyh0aGlzLm1vdXNlTW92ZWQ9ITAsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLnJlZnJlc2goZSksdGhpcy51c2VyTW9kaWZpZWQ9dGhpcy5iZWZvcmVTdGFydCE9PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4LCExKTpufSxfY2hlY2tlZFJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnZhbHVlIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvZ2dsZVN3aXRjaD90aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDpwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaChuLCExLCEwKX0scmVmcmVzaDpmdW5jdGlvbih0LGEsbyl7dmFyIHMscixsLGQsYz10aGlzLGg9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksdT10aGlzLm9wdGlvbnMudGhlbWV8fGgscD10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8aDtjLnNsaWRlclswXS5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIjoidWktc2xpZGVyLXRyYWNrIiwiIHVpLWJ0bi1kb3duLSIrcCwiIHVpLWJ0bi1jb3JuZXItYWxsIix0aGlzLm9wdGlvbnMubWluaT8iIHVpLW1pbmkiOiIiXS5qb2luKCIiKSwodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKSx0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaCYmMD09PXRoaXMuc2xpZGVyLmZpbmQoIi51aS1zbGlkZXItYmciKS5sZW5ndGgmJih0aGlzLnZhbHVlYmc9ZnVuY3Rpb24oKXt2YXIgdD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiB0LmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiB1aS1idG4tY29ybmVyLWFsbCIsZSh0KS5wcmVwZW5kVG8oYy5zbGlkZXIpfSgpKSx0aGlzLmhhbmRsZS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6dSxzaGFkb3c6ITB9KTt2YXIgbSxmLGc9dGhpcy5lbGVtZW50LGI9IXRoaXMuaXNUb2dnbGVTd2l0Y2gsdj1iP1tdOmcuZmluZCgib3B0aW9uIiksXz1iP3BhcnNlRmxvYXQoZy5hdHRyKCJtaW4iKSk6MCxDPWI/cGFyc2VGbG9hdChnLmF0dHIoIm1heCIpKTp2Lmxlbmd0aC0xLHg9YiYmcGFyc2VGbG9hdChnLmF0dHIoInN0ZXAiKSk+MD9wYXJzZUZsb2F0KGcuYXR0cigic3RlcCIpKToxO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7aWYobD10LGQ9OCxzPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQscj10aGlzLnNsaWRlci53aWR0aCgpLG09ci8oKEMtXykveCksIXRoaXMuZHJhZ2dpbmd8fHMtZD5sLnBhZ2VYfHxsLnBhZ2VYPnMrcitkKXJldHVybjtmPW0+MT8xMDAqKChsLnBhZ2VYLXMpL3IpOk1hdGgucm91bmQoMTAwKigobC5wYWdlWC1zKS9yKSl9ZWxzZSBudWxsPT10JiYodD1iP3BhcnNlRmxvYXQoZy52YWwoKXx8MCk6Z1swXS5zZWxlY3RlZEluZGV4KSxmPTEwMCooKHBhcnNlRmxvYXQodCktXykvKEMtXykpO2lmKCFpc05hTihmKSl7dmFyIHk9Zi8xMDAqKEMtXykrXyx3PSh5LV8pJXgsVD15LXc7MipNYXRoLmFicyh3KT49eCYmKFQrPXc+MD94Oi14KTt2YXIgRD0xMDAvKChDLV8pL3gpO2lmKHk9cGFyc2VGbG9hdChULnRvRml4ZWQoNSkpLG09PT1uJiYobT1yLygoQy1fKS94KSksbT4xJiZiJiYoZj0oeS1fKSpEKigxL3gpKSwwPmYmJihmPTApLGY+MTAwJiYoZj0xMDApLF8+eSYmKHk9XykseT5DJiYoeT1DKSx0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGYrIiUiKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLGI/eTp2LmVxKHkpLmF0dHIoInZhbHVlIikpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLGI/eTp2LmVxKHkpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgidGl0bGUiLGI/eTp2LmVxKHkpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcygid2lkdGgiLGYrIiUiKSx0aGlzLl9sYWJlbHMpe3ZhciBQPTEwMCoodGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKSxrPWYmJlArKDEwMC1QKSpmLzEwMCxFPTEwMD09PWY/MDpNYXRoLm1pbihQKzEwMC1rLDEwMCk7dGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLmlzKCIudWktc2xpZGVyLWxhYmVsLWEiKTtlKHRoaXMpLndpZHRoKCh0P2s6RSkrIiUiKX0pfWlmKCFvKXt2YXIgcT0hMTtpZihiPyhxPWcudmFsKCkhPT15LGcudmFsKHkpKToocT1nWzBdLnNlbGVjdGVkSW5kZXghPT15LGdbMF0uc2VsZWN0ZWRJbmRleD15KSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLHQpPT09ITEpcmV0dXJuITE7IWEmJnEmJmcudHJpZ2dlcigiY2hhbmdlIil9fX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpLHRoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCksdGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX19LGUubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuZWxlbWVudCxuPXRoaXMub3B0aW9ucy5taW5pPyJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIjoidWktcmFuZ2VzbGlkZXIiLGE9aS5maW5kKCJpbnB1dCIpLmZpcnN0KCksbz1pLmZpbmQoImlucHV0IikubGFzdCgpLHM9aS5maW5kKCJsYWJlbCIpLmZpcnN0KCkscj1lLmRhdGEoYS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnNsaWRlcixsPWUuZGF0YShvLmdldCgwKSwibW9iaWxlU2xpZGVyIikuc2xpZGVyLGQ9ZS5kYXRhKGEuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUsYz1lKCc8ZGl2IGNsYXNzPSJ1aS1yYW5nZXNsaWRlci1zbGlkZXJzIiAvPicpLmFwcGVuZFRvKGkpO2kuZmluZCgibGFiZWwiKS5sZW5ndGg+MSYmKHQ9aS5maW5kKCJsYWJlbCIpLmxhc3QoKS5oaWRlKCkpLGEuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0Iiksby5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItbGFzdCIpLGkuYWRkQ2xhc3Mobiksci5hcHBlbmRUbyhjKSxsLmFwcGVuZFRvKGMpLHMucHJlcGVuZFRvKGkpLGQucHJlcGVuZFRvKGwpLGUuZXh0ZW5kKHRoaXMse19pbnB1dEZpcnN0OmEsX2lucHV0TGFzdDpvLF9zbGlkZXJGaXJzdDpyLF9zbGlkZXJMYXN0OmwsX3RhcmdldFZhbDpudWxsLF9zbGlkZXJUYXJnZXQ6ITEsX3NsaWRlcnM6YyxfcHJveHk6ITF9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQudWktc2xpZGVyLWlucHV0Iikse3NsaWRlYmVmb3Jlc3RhcnQ6Il9zbGlkZWJlZm9yZXN0YXJ0IixzbGlkZXN0b3A6Il9zbGlkZXN0b3AiLHNsaWRlZHJhZzoiX3NsaWRlZHJhZyIsc2xpZGViZWZvcmVjaGFuZ2U6Il9jaGFuZ2UiLGJsdXI6Il9jaGFuZ2UiLGtleXVwOiJfY2hhbmdlIn0pLHRoaXMuX29uKHttb3VzZWRvd246Il9jaGFuZ2UifSksdGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6Il9oYW5kbGVSZXNldCJ9KSx0aGlzLl9vbihkLHt2bW91c2Vkb3duOiJfZHJhZ0ZpcnN0SGFuZGxlIn0pfSxfaGFuZGxlUmVzZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl91cGRhdGVIaWdobGlnaHQoKX0sMCl9LF9kcmFnRmlyc3RIYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsZS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKHQpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGE9aT90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtyZXR1cm4gdGhpcy5fc2xpZGVyVGFyZ2V0PSExLCJmaXJzdCI9PT10aGlzLl9wcm94eSYmaXx8Imxhc3QiPT09dGhpcy5fcHJveHkmJiFpPyhlLmRhdGEoYS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmRyYWdnaW5nPSEwLGUuZGF0YShhLmdldCgwKSwibW9iaWxlU2xpZGVyIikucmVmcmVzaCh0KSwhMSk6bn0sX3NsaWRlc3RvcDpmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KTt0aGlzLl9wcm94eT0hMSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS50cmlnZ2VyKCJ2bW91c2V1cCIpLHRoaXMuX3NsaWRlckZpcnN0LmNzcygiei1pbmRleCIsaT8xOiIiKX0sX3NsaWRlYmVmb3Jlc3RhcnQ6ZnVuY3Rpb24odCl7dGhpcy5fc2xpZGVyVGFyZ2V0PSExLGUodC5vcmlnaW5hbEV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci10cmFjayIpJiYodGhpcy5fc2xpZGVyVGFyZ2V0PSEwLHRoaXMuX3RhcmdldFZhbD1lKHQudGFyZ2V0KS52YWwoKSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSl7dGhpcy5fc3VwZXJBcHBseShlKSx0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PXRoaXMub3B0aW9ucztlLmZpbmQoImlucHV0Iikuc2xpZGVyKHt0aGVtZTp0LnRoZW1lLHRyYWNrVGhlbWU6dC50cmFja1RoZW1lLGRpc2FibGVkOnQuZGlzYWJsZWQsbWluaTp0Lm1pbmksaGlnaGxpZ2h0OnQuaGlnaGxpZ2h0fSkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCl9LF9jaGFuZ2U6ZnVuY3Rpb24odCl7aWYoImtleXVwIj09PXQudHlwZSlyZXR1cm4gdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksITE7dmFyIGk9dGhpcyxhPXBhcnNlRmxvYXQodGhpcy5faW5wdXRGaXJzdC52YWwoKSwxMCksbz1wYXJzZUZsb2F0KHRoaXMuX2lucHV0TGFzdC52YWwoKSwxMCkscz1lKHQudGFyZ2V0KS5oYXNDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxyPXM/dGhpcy5faW5wdXRGaXJzdDp0aGlzLl9pbnB1dExhc3QsbD1zP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O2lmKHRoaXMuX2lucHV0Rmlyc3QudmFsKCk+dGhpcy5faW5wdXRMYXN0LnZhbCgpJiYibW91c2Vkb3duIj09PXQudHlwZSYmIWUodC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItaGFuZGxlIikpci5ibHVyKCk7ZWxzZSBpZigibW91c2Vkb3duIj09PXQudHlwZSlyZXR1cm47cmV0dXJuIGE+byYmIXRoaXMuX3NsaWRlclRhcmdldD8oci52YWwocz9vOmEpLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpKTphPm8mJihyLnZhbCh0aGlzLl90YXJnZXRWYWwpLnNsaWRlcigicmVmcmVzaCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtsLnZhbChzP2E6bykuc2xpZGVyKCJyZWZyZXNoIiksZS5kYXRhKGwuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZm9jdXMoKSxpLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLHM/IiI6MSksaS5fdHJpZ2dlcigibm9ybWFsaXplIil9LDApLHRoaXMuX3Byb3h5PXM/ImZpcnN0IjoibGFzdCIpLGE9PT1vPyhlLmRhdGEoci5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDEpLGUuZGF0YShsLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMCkpOihlLmRhdGEobC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxlLmRhdGEoci5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksYT49bz8hMTpufSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9cGFyc2VJbnQoZS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGk9cGFyc2VJbnQoZS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksbj1pLXQ7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zbGlkZXItYmciKS5jc3MoeyJtYXJnaW4tbGVmdCI6dCsiJSIsd2lkdGg6bisiJSJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKS5maW5kKCJsYWJlbCIpLnNob3coKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0pLGUud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGUubW9iaWxlLnJhbmdlc2xpZGVyLGUubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpLGUoaSkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLnJhbmdlc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsb3ZlcmxheVRoZW1lOiJhIixkaXZpZGVyVGhlbWU6ImIiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBlKCI8ZGl2Lz4iKQp9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixlKSx0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixlKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixlKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciB0PSIiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJih0PSIgdWktYnRuLWxlZnQiKSx+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKHQ9IiB1aS1idG4tcmlnaHQiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrdCsiJz4iKSx0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIiksdGhpcy5sYWJlbD1lKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0IiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlLHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2UubGVuZ3RoPjAmJihlLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGUuaXMoIi51aS1idG4tbGVmdCIpPyJ1aS1idG4tbGVmdCI6InVpLWJ0bi1yaWdodCIpLHRoaXMuZWxlbWVudC5pbnNlcnRBZnRlcihlKSxlLnJlbW92ZSgpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBpPXRoaXMsbj10aGlzLm9wdGlvbnMsYT1uLmlubGluZXx8dGhpcy5zZWxlY3QuanFtRGF0YSgiaW5saW5lIiksbz1uLm1pbml8fHRoaXMuc2VsZWN0LmpxbURhdGEoIm1pbmkiKSxzPW4uaWNvbj9uLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxyPSgtMT09PXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LHRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYnV0dG9uTWFya3VwKHt0aGVtZTpuLnRoZW1lLGljb246bi5pY29uLGljb25wb3M6cyxpbmxpbmU6YSxjb3JuZXJzOm4uY29ybmVycyxzaGFkb3c6bi5zaGFkb3csaWNvbnNoYWRvdzpuLmljb25zaGFkb3csbWluaTpvfSkpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLG4ubmF0aXZlTWVudSYmdC5vcGVyYSYmdC5vcGVyYS52ZXJzaW9uJiZyLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9ZSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKHIuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKG4uZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7aS5yZWZyZXNoKCksbi5uYXRpdmVNZW51JiZ0aGlzLmJsdXIoKX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKHQuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe3QuYnV0dG9uLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe3QuYnV0dG9uLmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7dC5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7dC5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIiLGZ1bmN0aW9uKCl7dC5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrdC5vcHRpb25zLnRoZW1lKX0pLHQuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7dC5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSx0LmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksdC5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7dC5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSx0LmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLHQuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7dC5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBlLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj10aGlzLnNlbGVjdGVkKCksYT10aGlzLnBsYWNlaG9sZGVyLG89ZShpLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikuaHRtbChmdW5jdGlvbigpe3JldHVybiBhPW4ubGVuZ3RoP24ubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTp0LnBsYWNlaG9sZGVyLG8udGV4dChhKS5hZGRDbGFzcyh0LnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhuLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFtlLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChlLmxlbmd0aCl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmUubm9vcCxjbG9zZTplLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0sZS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGEoZSx0LGksbil7dmFyIGE9bjtyZXR1cm4gYT10PmU/aSsoZS10KS8yOk1hdGgubWluKE1hdGgubWF4KGksbi10LzIpLGkrZS10KX1mdW5jdGlvbiBvKCl7dmFyIGk9ZS5tb2JpbGUud2luZG93O3JldHVybnt4Omkuc2Nyb2xsTGVmdCgpLHk6aS5zY3JvbGxUb3AoKSxjeDp0LmlubmVyV2lkdGh8fGkud2lkdGgoKSxjeTp0LmlubmVySGVpZ2h0fHxpLmhlaWdodCgpfX1lLndpZGdldCgibW9iaWxlLnBvcHVwIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiLGNsb3NlTGlua1NlbGVjdG9yOiJhOmpxbURhdGEocmVsPSdiYWNrJykiLGNsb3NlTGlua0V2ZW50czoiY2xpY2sucG9wdXAiLG5hdmlnYXRlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCIsY2xvc2VFdmVudHM6Im5hdmlnYXRlLnBvcHVwIHBhZ2ViZWZvcmVjaGFuZ2UucG9wdXAiLGRpc21pc3NpYmxlOiEwLGhpc3Rvcnk6IWUubW9iaWxlLmJyb3dzZXIub2xkSUV9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksZT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoZSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXNPcGVuJiZ0LmtleUNvZGU9PT1lLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKHQpOm59LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciB0PW8oKTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZih0Lng9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy54JiZ0Lnk9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy55JiZ0LmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3gmJnQuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6c2V0VGltZW91dChlLnByb3h5KHRoaXMsIl9yZXNpemVUaW1lb3V0IiksMjAwKSx3aW5Db29yZHM6dH0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuP3RoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fCh0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86IndpbmRvdyJ9KSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSksdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSk6KHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5faWdub3JlUmVzaXplVG89MH0sMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYoIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkmJiF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3N8fHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIil8fHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIikucmVtb3ZlQXR0cigic3R5bGUiKSl9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKHQpe3ZhciBuLGE9dC50YXJnZXQsbz10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGEhPT1vLmNvbnRhaW5lclswXSl7aWYobj1lKHQudGFyZ2V0KSwwPT09bi5wYXJlbnRzKCkuZmlsdGVyKG8uY29udGFpbmVyWzBdKS5sZW5ndGgpcmV0dXJuIGUoaS5hY3RpdmVFbGVtZW50KS5vbmUoImZvY3VzIixmdW5jdGlvbigpe24uYmx1cigpfSksby5mb2N1c0VsZW1lbnQuZm9jdXMoKSx0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtvLmZvY3VzRWxlbWVudFswXT09PW8uY29udGFpbmVyWzBdJiYoby5mb2N1c0VsZW1lbnQ9bil9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9e3NjcmVlbjplKCI8ZGl2IGNsYXNzPSd1aS1zY3JlZW4taGlkZGVuIHVpLXBvcHVwLXNjcmVlbic+PC9kaXY+IikscGxhY2Vob2xkZXI6ZSgiPGRpdiBzdHlsZT0nZGlzcGxheTogbm9uZTsnPjwhLS0gcGxhY2Vob2xkZXIgLS0+PC9kaXY+IiksY29udGFpbmVyOmUoIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWNvbnRhaW5lciB1aS1wb3B1cC1oaWRkZW4nPjwvZGl2PiIpfSxpPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLGE9dGhpcy5lbGVtZW50LmF0dHIoImlkIiksbz10aGlzO3RoaXMub3B0aW9ucy5oaXN0b3J5PXRoaXMub3B0aW9ucy5oaXN0b3J5JiZlLm1vYmlsZS5hamF4RW5hYmxlZCYmZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQsMD09PWkubGVuZ3RoJiYoaT1lKCJib2R5IikpLHRoaXMub3B0aW9ucy5jb250YWluZXI9dGhpcy5vcHRpb25zLmNvbnRhaW5lcnx8ZS5tb2JpbGUucGFnZUNvbnRhaW5lcixpLmFwcGVuZCh0LnNjcmVlbiksdC5jb250YWluZXIuaW5zZXJ0QWZ0ZXIodC5zY3JlZW4pLHQucGxhY2Vob2xkZXIuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KSxhJiYodC5zY3JlZW4uYXR0cigiaWQiLGErIi1zY3JlZW4iKSx0LmNvbnRhaW5lci5hdHRyKCJpZCIsYSsiLXBvcHVwIiksdC5wbGFjZWhvbGRlci5odG1sKCI8IS0tIHBsYWNlaG9sZGVyIGZvciAiK2ErIiAtLT4iKSksdC5jb250YWluZXIuYXBwZW5kKHRoaXMuZWxlbWVudCksdC5mb2N1c0VsZW1lbnQ9dC5jb250YWluZXIsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1wb3B1cCIpLGUuZXh0ZW5kKHRoaXMse19zY3JvbGxUb3A6MCxfcGFnZTppLF91aTp0LF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXFzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksZS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihlLHQpe28ub3B0aW9uc1tlXT1uLG8uX3NldE9wdGlvbihlLHQsITApfSksdC5zY3JlZW4uYmluZCgidmNsaWNrIixlLnByb3h5KHRoaXMsIl9lYXRFdmVudEFuZENsb3NlIikpLHRoaXMuX29uKGUubW9iaWxlLndpbmRvdyx7b3JpZW50YXRpb25jaGFuZ2U6ZS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2UiKSxyZXNpemU6ZS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93UmVzaXplIiksa2V5dXA6ZS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93S2V5VXAiKX0pLHRoaXMuX29uKGUubW9iaWxlLmRvY3VtZW50LHtmb2N1c2luOmUucHJveHkodGhpcywiX2hhbmRsZURvY3VtZW50Rm9jdXNJbiIpfSl9LF9hcHBseVRoZW1lOmZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG4sYT0oZS5hdHRyKCJjbGFzcyIpfHwiIikuc3BsaXQoIiAiKSxvPW51bGwscz10KyIiO2EubGVuZ3RoPjA7KXtpZihvPWEucG9wKCksbj1SZWdFeHAoIl51aS0iK2krIi0oW2Etel0pJCIpLmV4ZWMobyksbiYmbi5sZW5ndGg+MSl7bz1uWzFdO2JyZWFrfW89bnVsbH10IT09byYmKGUucmVtb3ZlQ2xhc3MoInVpLSIraSsiLSIrbyksbnVsbCE9PXQmJiJub25lIiE9PXQmJmUuYWRkQ2xhc3MoInVpLSIraSsiLSIrcykpfSxfc2V0VGhlbWU6ZnVuY3Rpb24oZSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLmVsZW1lbnQsZSwiYm9keSIpfSxfc2V0T3ZlcmxheVRoZW1lOmZ1bmN0aW9uKGUpe3RoaXMuX2FwcGx5VGhlbWUodGhpcy5fdWkuc2NyZWVuLGUsIm92ZXJsYXkiKSx0aGlzLl9pc09wZW4mJnRoaXMuX3VpLnNjcmVlbi5hZGRDbGFzcygiaW4iKX0sX3NldFNoYWRvdzpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixlKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixlKX0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbih0KXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSx0JiYibm9uZSIhPT10JiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPWUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKHQpLCJub25lIj09PXRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj0iIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpfSxfc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlKXt0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGUpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKHQpe3ZhciBpPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZih0IT09bil7dmFyIGE9KHQrIiIpLnNwbGl0KCIsIik7c3dpdGNoKGUuZWFjaChhLGZ1bmN0aW9uKGUsdCl7YVtlXT1wYXJzZUludCh0LDEwKX0pLGEubGVuZ3RoKXtjYXNlIDE6aXNOYU4oYVswXSl8fChpLnQ9aS5yPWkuYj1pLmw9YVswXSk7YnJlYWs7Y2FzZSAyOmlzTmFOKGFbMF0pfHwoaS50PWkuYj1hWzBdKSxpc05hTihhWzFdKXx8KGkubD1pLnI9YVsxXSk7YnJlYWs7Y2FzZSA0OmlzTmFOKGFbMF0pfHwoaS50PWFbMF0pLGlzTmFOKGFbMV0pfHwoaS5yPWFbMV0pLGlzTmFOKGFbMl0pfHwoaS5iPWFbMl0pLGlzTmFOKGFbM10pfHwoaS5sPWFbM10pO2JyZWFrO2RlZmF1bHQ6fX10aGlzLl90b2xlcmFuY2U9aX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBhLG89Il9zZXQiK3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTt0aGlzW29dIT09biYmdGhpc1tvXShpKSxhPVsiaW5pdFNlbGVjdG9yIiwiY2xvc2VMaW5rU2VsZWN0b3IiLCJjbG9zZUxpbmtFdmVudHMiLCJuYXZpZ2F0ZUV2ZW50cyIsImNsb3NlRXZlbnRzIiwiaGlzdG9yeSIsImNvbnRhaW5lciJdLGUubW9iaWxlLndpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksLTE9PT1lLmluQXJyYXkodCxhKSYmdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKSt0LnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGkpfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scz1vKCkscj17eDp0aGlzLl90b2xlcmFuY2UubCx5OnMueSt0aGlzLl90b2xlcmFuY2UudCxjeDpzLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OnMuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3RoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsci5jeCksdD17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LG49e3g6YShyLmN4LHQuY3gsci54LGUueCkseTphKHIuY3ksdC5jeSxyLnksZS55KX0sbi55PU1hdGgubWF4KDAsbi55KTt2YXIgbD1pLmRvY3VtZW50RWxlbWVudCxkPWkuYm9keSxjPU1hdGgubWF4KGwuY2xpZW50SGVpZ2h0LGQuc2Nyb2xsSGVpZ2h0LGQub2Zmc2V0SGVpZ2h0LGwuc2Nyb2xsSGVpZ2h0LGwub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gbi55LT1NYXRoLm1pbihuLnksTWF0aC5tYXgoMCxuLnkrdC5jeS1jKSkse2xlZnQ6bi54LHRvcDpuLnl9fSxfY3JlYXRlUHJlcmVxczpmdW5jdGlvbih0LGksbil7dmFyIGEsbz10aGlzO2E9e3NjcmVlbjplLkRlZmVycmVkKCksY29udGFpbmVyOmUuRGVmZXJyZWQoKX0sYS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2E9PT1vLl9wcmVyZXFzJiZ0KCl9KSxhLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7YT09PW8uX3ByZXJlcXMmJmkoKX0pLGUud2hlbihhLnNjcmVlbixhLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2E9PT1vLl9wcmVyZXFzJiYoby5fcHJlcmVxcz1udWxsLG4oKSl9KSxvLl9wcmVyZXFzPWF9LF9hbmltYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3ModC5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyh0LnNjcmVlbkNsYXNzVG9BZGQpLHQucHJlcmVxcy5zY3JlZW4ucmVzb2x2ZSgpLHQudHJhbnNpdGlvbiYmIm5vbmUiIT09dC50cmFuc2l0aW9uJiYodC5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbih0LnRyYW5zaXRpb24pLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbik/KHRoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShlLnByb3h5KHQucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3ModC5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyh0LmNsYXNzVG9SZW1vdmUpLG4pOih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModC5jbGFzc1RvUmVtb3ZlKSx0LnByZXJlcXMuY29udGFpbmVyLnJlc29sdmUoKSxuKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24odCl7dmFyIGksbj1udWxsLGE9bygpLHM9dC54LHI9dC55LGw9dC5wb3NpdGlvblRvO2lmKGwmJiJvcmlnaW4iIT09bClpZigid2luZG93Ij09PWwpcz1hLmN4LzIrYS54LHI9YS5jeS8yK2EueTtlbHNle3RyeXtuPWUobCl9Y2F0Y2goZCl7bj1udWxsfW4mJihuLmZpbHRlcigiOnZpc2libGUiKSwwPT09bi5sZW5ndGgmJihuPW51bGwpKX1yZXR1cm4gbiYmKGk9bi5vZmZzZXQoKSxzPWkubGVmdCtuLm91dGVyV2lkdGgoKS8yLHI9aS50b3Arbi5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWUudHlwZShzKXx8aXNOYU4ocykpJiYocz1hLmN4LzIrYS54KSwoIm51bWJlciIhPT1lLnR5cGUocil8fGlzTmFOKHIpKSYmKHI9YS5jeS8yK2EueSkse3g6cyx5OnJ9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihlKXtlPXt4OmUueCx5OmUueSxwb3NpdGlvblRvOmUucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGUpLHRoaXMuX3VpLmNvbnRhaW5lci5vZmZzZXQodGhpcy5fcGxhY2VtZW50Q29vcmRzKHRoaXMuX2Rlc2lyZWRDb29yZHMoZSkpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihlKXt0aGlzLl9pc09wZW4mJnRoaXMuX3JlcG9zaXRpb24oZSl9LF9vcGVuUHJlcmVxc0NvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9pc09wZW49ITAsdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fdWkuY29udGFpbmVyLmF0dHIoInRhYmluZGV4IiwiMCIpLmZvY3VzKCksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9LF9vcGVuOmZ1bmN0aW9uKHQpe3ZhciBpPWUuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0KSxuPWZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudCx0PWUubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksaT0hIXQmJnRbMV0sbj1lLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksYT0hIW4mJm5bMV0sbz1lLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBudWxsIT09biYmIjQuMCI9PT1hJiZpJiZpPjUzNC4xMyYmIW8/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxcyhlLm5vb3AsZS5ub29wLGUucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249aS50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihpLnRyYW5zaXRpb24pLHRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fc2V0VGhlbWUodGhpcy5fcGFnZS5qcW1EYXRhKCJ0aGVtZSIpfHxlLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLl9wYWdlLCJjIikpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5fcmVwb3NpdGlvbihpKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZuJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjppLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX2Nsb3NlUHJlcmVxU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXFDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpLGUubW9iaWxlLnBvcHVwLmFjdGl2ZT1uLHRoaXMuX3RyaWdnZXIoImFmdGVyY2xvc2UiKX0sX2Nsb3NlOmZ1bmN0aW9uKHQpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jcmVhdGVQcmVyZXFzKGUucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxU2NyZWVuIiksZS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFDb250YWluZXIiKSxlLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXNEb25lIikpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246dGhpcy5fdWkuc2NyZWVuLmhhc0NsYXNzKCJpbiIpLHRyYW5zaXRpb246dD8ibm9uZSI6dGhpcy5fY3VycmVudFRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiaW4iLHNjcmVlbkNsYXNzVG9BZGQ6Im91dCIsY29udGFpbmVyQ2xhc3NUb0FkZDoicmV2ZXJzZSBvdXQiLGFwcGx5VHJhbnNpdGlvbjohMCxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3NldFRoZW1lKCJub25lIiksdGhpcy5lbGVtZW50LmRldGFjaCgpLmluc2VydEFmdGVyKHRoaXMuX3VpLnBsYWNlaG9sZGVyKS5yZW1vdmVDbGFzcygidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7ZS5tb2JpbGUucG9wdXAuYWN0aXZlPT09dGhpcz8odGhpcy5lbGVtZW50Lm9uZSgicG9wdXBhZnRlcmNsb3NlIixlLnByb3h5KHRoaXMsIl91bmVuaGFuY2UiKSksdGhpcy5jbG9zZSgpKTp0aGlzLl91bmVuaGFuY2UoKX0sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oaSxuKXt2YXIgYSxvLHM9dGhpcy5vcHRpb25zLHI9ITE7dC5zY3JvbGxUbygwLHRoaXMuX3Njcm9sbFRvcCksaSYmInBhZ2ViZWZvcmVjaGFuZ2UiPT09aS50eXBlJiZuJiYoYT0ic3RyaW5nIj09dHlwZW9mIG4udG9QYWdlP24udG9QYWdlOm4udG9QYWdlLmpxbURhdGEoInVybCIpLGE9ZS5tb2JpbGUucGF0aC5wYXJzZVVybChhKSxvPWEucGF0aG5hbWUrYS5zZWFyY2grYS5oYXNoLHRoaXMuX215VXJsIT09ZS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUobyk/cj0hMDppLnByZXZlbnREZWZhdWx0KCkpLHMuY29udGFpbmVyLnVuYmluZChzLmNsb3NlRXZlbnRzKSx0aGlzLmVsZW1lbnQudW5kZWxlZ2F0ZShzLmNsb3NlTGlua1NlbGVjdG9yLHMuY2xvc2VMaW5rRXZlbnRzKSx0aGlzLl9jbG9zZShyKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5jb250YWluZXIub25lKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxlLnByb3h5KHRoaXMsIl9jbG9zZVBvcHVwIikpfSxvcGVuOmZ1bmN0aW9uKGkpe3ZhciBhLG8scyxyLGwsZCxjPXRoaXMsaD10aGlzLm9wdGlvbnM7aWYoIWUubW9iaWxlLnBvcHVwLmFjdGl2ZSl7aWYoZS5tb2JpbGUucG9wdXAuYWN0aXZlPXRoaXMsdGhpcy5fc2Nyb2xsVG9wPWUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSwhaC5oaXN0b3J5KXJldHVybiBjLl9vcGVuKGkpLGMuX2JpbmRDb250YWluZXJDbG9zZSgpLGMuZWxlbWVudC5kZWxlZ2F0ZShoLmNsb3NlTGlua1NlbGVjdG9yLGguY2xvc2VMaW5rRXZlbnRzLGZ1bmN0aW9uKGUpe2MuY2xvc2UoKSxlLnByZXZlbnREZWZhdWx0KCl9KSxuO2lmKGQ9ZS5tb2JpbGUudXJsSGlzdG9yeSxvPWUubW9iaWxlLmRpYWxvZ0hhc2hLZXkscz1lLm1vYmlsZS5hY3RpdmVQYWdlLHI9cy5pcygiLnVpLWRpYWxvZyIpLHRoaXMuX215VXJsPWE9ZC5nZXRBY3RpdmUoKS51cmwsbD1hLmluZGV4T2Yobyk+LTEmJiFyJiZkLmFjdGl2ZUluZGV4PjApcmV0dXJuIGMuX29wZW4oaSksYy5fYmluZENvbnRhaW5lckNsb3NlKCksbjstMSE9PWEuaW5kZXhPZihvKXx8cj9hPWUubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grbzphKz1hLmluZGV4T2YoIiMiKT4tMT9vOiIjIitvLDA9PT1kLmFjdGl2ZUluZGV4JiZhPT09ZC5pbml0aWFsRHN0JiYoYSs9byksZSh0KS5vbmUoImJlZm9yZW5hdmlnYXRlIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksYy5fb3BlbihpKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxlLm1vYmlsZS5uYXZpZ2F0ZShhLHtyb2xlOiJkaWFsb2cifSl9fSxjbG9zZTpmdW5jdGlvbigpe2UubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXMmJih0aGlzLl9zY3JvbGxUb3A9ZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGUubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSl9fSksZS5tb2JpbGUucG9wdXAuaGFuZGxlTGluaz1mdW5jdGlvbih0KXt2YXIgaSxuPXQuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksYT0wPT09bi5sZW5ndGg/ZSgiYm9keSIpOm4sbz1lKGUubW9iaWxlLnBhdGgucGFyc2VVcmwodC5hdHRyKCJocmVmIikpLmhhc2gsYVswXSk7by5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGk9dC5vZmZzZXQoKSxvLnBvcHVwKCJvcGVuIix7eDppLmxlZnQrdC5vdXRlcldpZHRoKCkvMix5OmkudG9wK3Qub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246dC5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25Ubzp0LmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBpPXQucGFyZW50KCkucGFyZW50KCk7aS5oYXNDbGFzcygidWktbGkiKSYmKHQ9aS5wYXJlbnQoKSksdC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2ViZWZvcmVjaGFuZ2UiLGZ1bmN0aW9uKHQsaSl7InBvcHVwIj09PWkub3B0aW9ucy5yb2xlJiYoZS5tb2JpbGUucG9wdXAuaGFuZGxlTGluayhpLm9wdGlvbnMubGluayksdC5wcmV2ZW50RGVmYXVsdCgpKX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5wb3B1cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihuKXt2YXIgYSxvLHMscj0obi5zZWxlY3Qsbi5fZGVzdHJveSksbD1uLnNlbGVjdElELGQ9bD9sOihlLm1vYmlsZS5uc3x8IiIpKyJ1dWlkLSIrbi51dWlkLGM9ZCsiLWxpc3Rib3giLGg9ZCsiLWRpYWxvZyIsdT1uLmxhYmVsLHA9bi5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxtPW4uX3NlbGVjdE9wdGlvbnMoKSxmPW4uaXNNdWx0aXBsZT1uLnNlbGVjdFswXS5tdWx0aXBsZSxnPWwrIi1idXR0b24iLGI9bCsiLW1lbnUiLHY9ZSgiPGRpdiBkYXRhLSIrZS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgaWQ9JyIraCsiJyBkYXRhLSIrZS5tb2JpbGUubnMrInRoZW1lPSciK24ub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrZS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrbi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz4iKyI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+Iit1LmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSxfPWUoIjxkaXYgaWQ9JyIrYysiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIobi5zZWxlY3QpLnBvcHVwKHt0aGVtZTpuLm9wdGlvbnMub3ZlcmxheVRoZW1lfSksQz1lKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpiLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOmd9KS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInRoZW1lIixuLm9wdGlvbnMudGhlbWUpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZSIsbi5vcHRpb25zLmRpdmlkZXJUaGVtZSkuYXBwZW5kVG8oXykseD1lKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIituLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8oXykseT1lKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8oeCk7bi5pc011bHRpcGxlJiYocz1lKCI8YT4iLHt0ZXh0Om4ub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8oeCkuYnV0dG9uTWFya3VwKCkpLGUuZXh0ZW5kKG4se3NlbGVjdDpuLnNlbGVjdCxzZWxlY3RJRDpsLGJ1dHRvbklkOmcsbWVudUlkOmIscG9wdXBJRDpjLGRpYWxvZ0lEOmgsdGhpc1BhZ2U6cCxtZW51UGFnZTp2LGxhYmVsOnUsc2VsZWN0T3B0aW9uczptLGlzTXVsdGlwbGU6Zix0aGVtZTpuLm9wdGlvbnMudGhlbWUsbGlzdGJveDpfLGxpc3Q6QyxoZWFkZXI6eCxoZWFkZXJUaXRsZTp5LGhlYWRlckNsb3NlOnMsbWVudVBhZ2VDb250ZW50OmEsbWVudVBhZ2VDbG9zZTpvLHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLnJlZnJlc2goKSxpLl9vcmlnVGFiSW5kZXg9PT10JiYoaS5fb3JpZ1RhYkluZGV4PW51bGw9PT1pLnNlbGVjdFswXS5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iik/ITE6aS5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksaS5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7ZSh0aGlzKS5ibHVyKCksaS5idXR0b24uZm9jdXMoKX0pLGkuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbih0KXtpLm9wdGlvbnMuZGlzYWJsZWR8fGkuaXNPcGVufHwoInZjbGljayI9PT10LnR5cGV8fHQua2V5Q29kZSYmKHQua2V5Q29kZT09PWUubW9iaWxlLmtleUNvZGUuRU5URVJ8fHQua2V5Q29kZT09PWUubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKGkuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PWkubWVudVR5cGU/aS5idXR0b24uYXR0cigiaHJlZiIsIiMiK2kucG9wdXBJRCkuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOmkuYnV0dG9uLmF0dHIoImhyZWYiLCIjIitpLmRpYWxvZ0lEKS5hdHRyKCJkYXRhLSIrKGUubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLGkuaXNPcGVuPSEwKX0pLGkubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmJpbmQoImZvY3VzaW4iLGZ1bmN0aW9uKHQpe2UodC50YXJnZXQpLmF0dHIoInRhYmluZGV4IiwiMCIpLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoImZvY3Vzb3V0IixmdW5jdGlvbih0KXtlKHQudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIi0xIikudHJpZ2dlcigidm1vdXNlb3V0Iil9KS5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBhPWkuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsbz1pLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmluZGV4KHRoaXMpLHM9aS5fc2VsZWN0T3B0aW9ucygpLmVxKG8pWzBdO3Muc2VsZWN0ZWQ9aS5pc011bHRpcGxlPyFzLnNlbGVjdGVkOiEwLGkuaXNNdWx0aXBsZSYmZSh0aGlzKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixzLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFzLnNlbGVjdGVkKSwoaS5pc011bHRpcGxlfHxhIT09bykmJmkuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLGkuaXNNdWx0aXBsZT9pLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmVxKG8pLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK24ub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKTppLmNsb3NlKCksdC5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbih0KXt2YXIgaSxhLG89ZSh0LnRhcmdldCkscz1vLmNsb3Nlc3QoImxpIik7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSAzODpyZXR1cm4gaT1zLnByZXYoKS5ub3QoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksaS5pcygiLnVpLWxpLWRpdmlkZXIiKSYmKGk9aS5wcmV2KCkpLGkubGVuZ3RoJiYoby5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGkuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrbi5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDQwOnJldHVybiBhPXMubmV4dCgpLGEuaXMoIi51aS1saS1kaXZpZGVyIikmJihhPWEubmV4dCgpKSxhLmxlbmd0aCYmKG8uYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxhLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK24ub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBvLnRyaWdnZXIoImNsaWNrIiksITF9fSksaS5tZW51UGFnZS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChpLnRoaXNQYWdlKX0pLGkubGlzdGJveC5iaW5kKCJwb3B1cGFmdGVyY2xvc2UiLGZ1bmN0aW9uKCl7aS5jbG9zZSgpfSksaS5pc011bHRpcGxlJiZpLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7cmV0dXJuIm92ZXJsYXkiPT09aS5tZW51VHlwZT8oaS5jbG9zZSgpLCExKTp0fSksaS50aGlzUGFnZS5hZGREZXBlbmRlbnRzKHRoaXMubWVudVBhZ2UpfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxpc3QuZmluZCgibGkiKSx0PXRoaXMuX3NlbGVjdE9wdGlvbnMoKTtyZXR1cm4gdC50ZXh0KCkhPT1lLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIil9LHJlZnJlc2g6ZnVuY3Rpb24odCl7dmFyIGksbj10aGlzO3RoaXMuZWxlbWVudCx0aGlzLmlzTXVsdGlwbGUsKHR8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZuLl9idWlsZExpc3QoKSxpPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCksbi5zZXRCdXR0b25UZXh0KCksbi5zZXRCdXR0b25Db3VudCgpLG4ubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKHQpe2lmKGUuaW5BcnJheSh0LGkpPi0xKXt2YXIgYT1lKHRoaXMpO2EuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLG4uaXNNdWx0aXBsZT9hLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iKTphLmlzKCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpP2EubmV4dCgpLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTphLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX19KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGU9dGhpczsicGFnZSI9PT1lLm1lbnVUeXBlPyhlLm1lbnVQYWdlLmRpYWxvZygiY2xvc2UiKSxlLmxpc3QuYXBwZW5kVG8oZS5saXN0Ym94KSk6ZS5saXN0Ym94LnBvcHVwKCJjbG9zZSIpLGUuX2ZvY3VzQnV0dG9uKCksZS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2RlY2lkZUZvcm1hdDpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdD1pLmxpc3QuZmluZCgiLiIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiBhIik7MD09PXQubGVuZ3RoJiYodD1pLmxpc3QuZmluZCgibGkudWktYnRuOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIGEiKSksdC5maXJzdCgpLmZvY3VzKCkuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktYnRuLWRvd24tIituLm9wdGlvbnMudGhlbWUpfXZhciBpPXRoaXMsYT1lLm1vYmlsZS53aW5kb3csbz1pLmxpc3QucGFyZW50KCkscz1vLm91dGVySGVpZ2h0KCkscj0oby5vdXRlcldpZHRoKCksZSgiLiIrZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxhLnNjcm9sbFRvcCgpKSxsPWkuYnV0dG9uLm9mZnNldCgpLnRvcCxkPWEuaGVpZ2h0KCk7YS53aWR0aCgpLHM+ZC04MHx8IWUuc3VwcG9ydC5zY3JvbGxUb3A/KGkubWVudVBhZ2UuYXBwZW5kVG8oZS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpLGkubWVudVBhZ2VDb250ZW50PXYuZmluZCgiLnVpLWNvbnRlbnQiKSxpLm1lbnVQYWdlQ2xvc2U9di5maW5kKCIudWktaGVhZGVyIGEiKSxpLnRoaXNQYWdlLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIiksMD09PXImJmw+ZCYmaS50aGlzUGFnZS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2UodGhpcykuanFtRGF0YSgibGFzdFNjcm9sbCIsbCl9KSxpLm1lbnVQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7dCgpfSkub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtpLmNsb3NlKCl9KSxpLm1lbnVUeXBlPSJwYWdlIixpLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoaS5saXN0KSxpLm1lbnVQYWdlLmZpbmQoImRpdiAudWktdGl0bGUiKS50ZXh0KGkubGFiZWwudGV4dCgpKSk6KGkubWVudVR5cGU9Im92ZXJsYXkiLGkubGlzdGJveC5vbmUoInBvcHVwYWZ0ZXJvcGVuIix0KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dGhpcy5vcHRpb25zLGE9dGhpcy5wbGFjZWhvbGRlcixvPSEwLHM9dC5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7dC5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO2Zvcih2YXIgcixsPXQuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGQ9bC5sZW5ndGgsYz10aGlzLnNlbGVjdFswXSxoPSJkYXRhLSIrZS5tb2JpbGUubnMsdT1oKyJvcHRpb24taW5kZXgiLHA9aCsiaWNvbiIsbT1oKyJyb2xlIixmPWgrInBsYWNlaG9sZGVyIixnPWkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9ITEsdj0wO2Q+djt2KyssYj0hMSl7dmFyIF89bFt2XSxDPWUoXykseD1fLnBhcmVudE5vZGUseT1DLnRleHQoKSx3PWkuY3JlYXRlRWxlbWVudCgiYSIpLFQ9W107aWYody5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksdy5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKHkpKSx4IT09YyYmIm9wdGdyb3VwIj09PXgubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIEQ9eC5nZXRBdHRyaWJ1dGUoImxhYmVsIik7aWYoRCE9PXIpe3ZhciBQPWkuY3JlYXRlRWxlbWVudCgibGkiKTtQLnNldEF0dHJpYnV0ZShtLCJsaXN0LWRpdmlkZXIiKSxQLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLFAuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksUC5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKEQpKSxnLmFwcGVuZENoaWxkKFApLHI9RH19IW98fF8uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpJiYwIT09eS5sZW5ndGgmJiFDLmpxbURhdGEoInBsYWNlaG9sZGVyIil8fChvPSExLGI9ITAsbnVsbD09PV8uZ2V0QXR0cmlidXRlKGYpJiYodGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyPSEwKSxfLnNldEF0dHJpYnV0ZShmLCEwKSxuLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmVC5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksYSE9PXkmJihhPXQucGxhY2Vob2xkZXI9eSkpO3ZhciBrPWkuY3JlYXRlRWxlbWVudCgibGkiKTtfLmRpc2FibGVkJiYoVC5wdXNoKCJ1aS1kaXNhYmxlZCIpLGsuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIiwhMCkpLGsuc2V0QXR0cmlidXRlKHUsdiksay5zZXRBdHRyaWJ1dGUocCxzKSxiJiZrLnNldEF0dHJpYnV0ZShmLCEwKSxrLmNsYXNzTmFtZT1ULmpvaW4oIiAiKSxrLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLHcuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksay5hcHBlbmRDaGlsZCh3KSxnLmFwcGVuZENoaWxkKGspfXQubGlzdFswXS5hcHBlbmRDaGlsZChnKSx0aGlzLmlzTXVsdGlwbGV8fGEubGVuZ3RoP3RoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTp0aGlzLmhlYWRlci5oaWRlKCksdC5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gZSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDp0aGlzLmJ1dHRvbklkLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6dGhpcy5tZW51SWR9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09dCYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoInRhYmluZGV4IikpLHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0ciYmdGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysicGxhY2Vob2xkZXIiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9O2UubW9iaWxlLmRvY3VtZW50LmJpbmQoInNlbGVjdG1lbnViZWZvcmVjcmVhdGUiLGZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLmRhdGEoIm1vYmlsZS1zZWxlY3RtZW51Iik7aS5vcHRpb25zLm5hdGl2ZU1lbnV8fDAhPT1pLmVsZW1lbnQucGFyZW50cygiOmpxbURhdGEocm9sZT0ncG9wdXAnKSIpLmxlbmd0aHx8bihpKX0pfShlKSxmdW5jdGlvbihlLHQpe2Uud2lkZ2V0KCJtb2JpbGUuY29udHJvbGdyb3VwIixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3NoYWRvdzohMSxjb3JuZXJzOiEwLGV4Y2x1ZGVJbnZpc2libGU6ITAsdHlwZToidmVydGljYWwiLG1pbmk6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQsbj17aW5uZXI6ZSgiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzJz48L2Rpdj4iKSxsZWdlbmQ6ZSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz48L2Rpdj4iKX0sYT1pLmNoaWxkcmVuKCJsZWdlbmQiKSxvPXRoaXM7aS53cmFwSW5uZXIobi5pbm5lciksYS5sZW5ndGgmJm4ubGVnZW5kLmFwcGVuZChhKS5pbnNlcnRCZWZvcmUoaS5jaGlsZHJlbigwKSksaS5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb250cm9sZ3JvdXAiKSxlLmV4dGVuZCh0aGlzLHtfaW5pdGlhbFJlZnJlc2g6ITB9KSxlLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGUsaSl7by5vcHRpb25zW2VdPXQsby5fc2V0T3B0aW9uKGUsaSwhMCl9KX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3NldE9wdGlvbjpmdW5jdGlvbihpLG4pe3ZhciBhPSJfc2V0IitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc2xpY2UoMSk7dGhpc1thXSE9PXQmJnRoaXNbYV0obiksdGhpcy5fc3VwZXIoaSxuKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpK2kucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksbil9LF9zZXRUeXBlOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC0iK2UpLHRoaXMucmVmcmVzaCgpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGUpfSxfc2V0U2hhZG93OmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktc2hhZG93IixlKX0sX3NldE1pbmk6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixlKX0sY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1jb250cm9scyIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LmZpbmQoIi51aS1idG4iKS5ub3QoIi51aS1zbGlkZXItaGFuZGxlIiksaT10aGlzLl9pbml0aWFsUmVmcmVzaDtlLm1vYmlsZS5jaGVja2JveHJhZGlvJiZ0aGlzLmVsZW1lbnQuZmluZCgiOm1vYmlsZS1jaGVja2JveHJhZGlvIikuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModCx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyh0LGkpOnQsaSksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9fSxlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGUoZnVuY3Rpb24oKXtlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUuY29udHJvbGdyb3VwLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfSl9KGUpLGZ1bmN0aW9uKGUpe2UoaSkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UodC50YXJnZXQpLmZpbmQoImEiKS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiLnVpLWJ0biwgLnVpLWxpbmstaW5oZXJpdCwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWUuc3VwcG9ydC5maXhlZFBvc2l0aW9ufSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1pLmVsZW1lbnQsbz1hLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiLHM9YS5jbG9zZXN0KCIudWktcGFnZSIpO3JldHVybiBuLnN1cHBvcnRCbGFja2xpc3QoKT8oaS5kZXN0cm95KCksdCk6KGEuYWRkQ2xhc3MoInVpLSIrbysiLWZpeGVkIiksbi5mdWxsc2NyZWVuPyhhLmFkZENsYXNzKCJ1aS0iK28rIi1mdWxsc2NyZWVuIikscy5hZGRDbGFzcygidWktcGFnZS0iK28rIi1mdWxsc2NyZWVuIikpOnMuYWRkQ2xhc3MoInVpLXBhZ2UtIitvKyItZml4ZWQiKSxlLmV4dGVuZCh0aGlzLHtfdGhpc1BhZ2U6bnVsbH0pLGkuX2FkZFRyYW5zaXRpb25DbGFzcygpLGkuX2JpbmRQYWdlRXZlbnRzKCksaS5fYmluZFRvZ2dsZUhhbmRsZXJzKCksdCl9LF9hZGRUcmFuc2l0aW9uQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbjtlJiYibm9uZSIhPT1lJiYoInNsaWRlIj09PWUmJihlPXRoaXMuZWxlbWVudC5pcygiLnVpLWhlYWRlciIpPyJzbGlkZWRvd24iOiJzbGlkZXVwIiksdGhpcy5lbGVtZW50LmFkZENsYXNzKGUpKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fdGhpc1BhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksdGhpcy5fb24odGhpcy5fdGhpc1BhZ2Use3BhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHdlYmtpdEFuaW1hdGlvblN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLGFuaW1hdGlvbnN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHVwZGF0ZWxheW91dDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixwYWdlc2hvdzoiX2hhbmRsZVBhZ2VTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5kaXNhYmxlUGFnZVpvb20mJmUubW9iaWxlLnpvb20uZGlzYWJsZSghMCksdC52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMuX3RoaXNQYWdlKX0sX2hhbmRsZVBhZ2VTaG93OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQYWdlUGFkZGluZyh0aGlzLl90aGlzUGFnZSksdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vbihlLm1vYmlsZS53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbih0LGkpe3ZhciBuPXRoaXMub3B0aW9ucztpZihuLmRpc2FibGVQYWdlWm9vbSYmZS5tb2JpbGUuem9vbS5lbmFibGUoITApLG4udXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29mZihlLm1vYmlsZS53aW5kb3csInRocm90dGxlZHJlc2l6ZSIpLG4udHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMpe3ZhciBhPWUoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMuX3RoaXNQYWdlKSxvPWUoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMuX3RoaXNQYWdlKSxzPWEubGVuZ3RoJiZpLm5leHRQYWdlJiZlKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrYS5qcW1EYXRhKCJpZCIpKyInKSIsaS5uZXh0UGFnZSl8fGUoKSxyPW8ubGVuZ3RoJiZpLm5leHRQYWdlJiZlKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrby5qcW1EYXRhKCJpZCIpKyInKSIsaS5uZXh0UGFnZSl8fGUoKTsocy5sZW5ndGh8fHIubGVuZ3RoKSYmKHMuYWRkKHIpLmFwcGVuZFRvKGUubW9iaWxlLnBhZ2VDb250YWluZXIpLGkubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtyLnByZXBlbmRUbyh0aGlzKSxzLmFwcGVuZFRvKHRoaXMpfSkpfX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcy5lbGVtZW50LGE9bi5pcygiLnVpLWhlYWRlciIpLG89cGFyc2VGbG9hdChuLmNzcyhhPyJ0b3AiOiJib3R0b20iKSk7dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW58fChpPWkmJmkudHlwZT09PXQmJml8fHRoaXMuX3RoaXNQYWdlfHxuLmNsb3Nlc3QoIi51aS1wYWdlIiksZShpKS5jc3MoInBhZGRpbmctIisoYT8idG9wIjoiYm90dG9tIiksbi5vdXRlckhlaWdodCgpK28pKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24odCl7dmFyIGk9ZS5tb2JpbGUud2luZG93LG49dGhpcy5lbGVtZW50LGE9aS5zY3JvbGxUb3AoKSxvPW4uaGVpZ2h0KCkscz1uLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCkscj1lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxsPW4uaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciI7cmV0dXJuIXQmJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmIm5vbmUiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJigiaGVhZGVyIj09PWwmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmYT5vfHwiZm9vdGVyIj09PWwmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmcy1vPmErcil8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihlKXt2YXIgdD0idWktZml4ZWQtaGlkZGVuIixpPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGUpP2kucmVtb3ZlQ2xhc3MoIm91dCAiK3QpLmFkZENsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGFzcygiaW4iKX0pOmkucmVtb3ZlQ2xhc3ModCksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihlKXt2YXIgdD0idWktZml4ZWQtaGlkZGVuIixpPXRoaXMuZWxlbWVudCxuPSJvdXQiKygic2xpZGUiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihlKT9pLmFkZENsYXNzKG4pLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7aS5hZGRDbGFzcyh0KS5yZW1vdmVDbGFzcyhuKX0pOmkuYWRkQ2xhc3ModCkucmVtb3ZlQ2xhc3MobiksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgdCxpLG49dGhpcyxhPW4ub3B0aW9ucyxvPW4uZWxlbWVudCxzPSEwO28uY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKHQpe2EudGFwVG9nZ2xlJiYhZSh0LnRhcmdldCkuY2xvc2VzdChhLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZuLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsZnVuY3Rpb24obyl7MTAyNT5zY3JlZW4ud2lkdGgmJmUoby50YXJnZXQpLmlzKGEuaGlkZUR1cmluZ0ZvY3VzKSYmIWUoby50YXJnZXQpLmNsb3Nlc3QoIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJigiZm9jdXNvdXQiIT09by50eXBlfHxzPyJmb2N1c2luIj09PW8udHlwZSYmcyYmKGNsZWFyVGltZW91dCh0KSxzPSExLGk9c2V0VGltZW91dChmdW5jdGlvbigpe24uaGlkZSgpfSwwKSk6KHM9ITAsY2xlYXJUaW1lb3V0KGkpLHQ9c2V0VGltZW91dChmdW5jdGlvbigpe24uc2hvdygpfSwwKSkpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LHQ9ZS5pcygiLnVpLWhlYWRlciIpO2UuY2xvc2VzdCgiLnVpLXBhZ2UiKS5jc3MoInBhZGRpbmctIisodD8idG9wIjoiYm90dG9tIiksIiIpLGUucmVtb3ZlQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1mb290ZXItZml4ZWQgdWktaGVhZGVyLWZ1bGxzY3JlZW4gdWktZm9vdGVyLWZ1bGxzY3JlZW4gaW4gb3V0IGZhZGUgc2xpZGVkb3duIHNsaWRldXAgdWktZml4ZWQtaGlkZGVuIiksZS5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZSh0LnRhcmdldCkuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZlKGUubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsdC50YXJnZXQpLm5vdCgiOmpxbURhdGEoZnVsbHNjcmVlbikiKS5qcW1EYXRhKCJmdWxsc2NyZWVuIiwhMCksZS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmZpeGVkdG9vbGJhciIsZS5tb2JpbGUuZml4ZWR0b29sYmFyLHtfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl93b3JrYXJvdW5kcygpfSxfd29ya2Fyb3VuZHM6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50LHQ9bmF2aWdhdG9yLnBsYXRmb3JtLGk9ZS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksbj0hIWkmJmlbMV0sYT1udWxsLG89dGhpcztpZih0LmluZGV4T2YoImlQaG9uZSIpPi0xfHx0LmluZGV4T2YoImlQYWQiKT4tMXx8dC5pbmRleE9mKCJpUG9kIik+LTEpYT0iaW9zIjtlbHNle2lmKCEoZS5pbmRleE9mKCJBbmRyb2lkIik+LTEpKXJldHVybjthPSJhbmRyb2lkIn1pZigiaW9zIj09PWEpby5fYmluZFNjcm9sbFdvcmthcm91bmQoKTtlbHNle2lmKCEoImFuZHJvaWQiPT09YSYmbiYmNTM0Pm4pKXJldHVybjtvLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpLG8uX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kKCl9fSxfdmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQsaT10LmlzKCIudWktaGVhZGVyIiksbj1NYXRoLmFicyh0Lm9mZnNldCgpLnRvcC1lLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBpfHwobj1NYXRoLnJvdW5kKG4tZS5tb2JpbGUud2luZG93LmhlaWdodCgpK3Qub3V0ZXJIZWlnaHQoKSktNjApLG59LF9iaW5kU2Nyb2xsV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fb24oZS5tb2JpbGUud2luZG93LHtzY3JvbGxzdG9wOmZ1bmN0aW9uKCl7dmFyIGU9dC5fdmlld3BvcnRPZmZzZXQoKTtlPjImJnQuX3Zpc2libGUmJnQuX3RyaWdnZXJSZWRyYXcoKX19KX0sX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4ZWQiKX0sX3RyaWdnZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgdD1wYXJzZUZsb2F0KGUoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iKSk7CmUoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLHQrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsdCsicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oZSksZnVuY3Rpb24oZSxuKXtlLndpZGdldCgibW9iaWxlLnBhbmVsIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2NsYXNzZXM6e3BhbmVsOiJ1aS1wYW5lbCIscGFuZWxPcGVuOiJ1aS1wYW5lbC1vcGVuIixwYW5lbENsb3NlZDoidWktcGFuZWwtY2xvc2VkIixwYW5lbEZpeGVkOiJ1aS1wYW5lbC1maXhlZCIscGFuZWxJbm5lcjoidWktcGFuZWwtaW5uZXIiLG1vZGFsOiJ1aS1wYW5lbC1kaXNtaXNzIixtb2RhbE9wZW46InVpLXBhbmVsLWRpc21pc3Mtb3BlbiIscGFnZVBhbmVsOiJ1aS1wYWdlLXBhbmVsIixwYWdlUGFuZWxPcGVuOiJ1aS1wYWdlLXBhbmVsLW9wZW4iLGNvbnRlbnRXcmFwOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAiLGNvbnRlbnRXcmFwT3BlbjoidWktcGFuZWwtY29udGVudC13cmFwLW9wZW4iLGNvbnRlbnRXcmFwQ2xvc2VkOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAtY2xvc2VkIixjb250ZW50Rml4ZWRUb29sYmFyOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXIiLGNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXItb3BlbiIsY29udGVudEZpeGVkVG9vbGJhckNsb3NlZDoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyLWNsb3NlZCIsYW5pbWF0ZToidWktcGFuZWwtYW5pbWF0ZSJ9LGFuaW1hdGU6ITAsdGhlbWU6ImMiLHBvc2l0aW9uOiJsZWZ0IixkaXNtaXNzaWJsZTohMCxkaXNwbGF5OiJyZXZlYWwiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncGFuZWwnKSIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfcGFuZWxJRDpudWxsLF9jbG9zZUxpbms6bnVsbCxfcGFnZTpudWxsLF9tb2RhbDpudWxsLF9wYW5lbElubmVyOm51bGwsX3dyYXBwZXI6bnVsbCxfZml4ZWRUb29sYmFyOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10LmVsZW1lbnQsbj1pLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLGE9ZnVuY3Rpb24oKXt2YXIgdD1lLmRhdGEoblswXSwibW9iaWxlUGFnZSIpLm9wdGlvbnMudGhlbWUsaT0idWktYm9keS0iK3Q7cmV0dXJuIGl9LG89ZnVuY3Rpb24oKXt2YXIgZT1pLmZpbmQoIi4iK3Qub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIpO3JldHVybiAwPT09ZS5sZW5ndGgmJihlPWkuY2hpbGRyZW4oKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK3Qub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrJyIgLz4nKS5wYXJlbnQoKSksZX0scz1mdW5jdGlvbigpe3ZhciBpPW4uZmluZCgiLiIrdC5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXApO3JldHVybiAwPT09aS5sZW5ndGgmJihpPW4uY2hpbGRyZW4oIi51aS1oZWFkZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSwgLnVpLWNvbnRlbnQ6bm90KDpqcW1EYXRhKHJvbGU9J3BvcHVwJykpLCAudWktZm9vdGVyOm5vdCg6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSkiKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK3Qub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwKyIgIithKCkrJyIgLz4nKS5wYXJlbnQoKSxlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJnQub3B0aW9ucy5hbmltYXRlJiZpLmFkZENsYXNzKHQub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpKSxpfSxyPWZ1bmN0aW9uKCl7dmFyIGk9bi5maW5kKCIuIit0Lm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKTtyZXR1cm4gMD09PWkubGVuZ3RoJiYoaT1uLmZpbmQoIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSwgLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhciksZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0Lm9wdGlvbnMuYW5pbWF0ZSYmaS5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSksaX07ZS5leHRlbmQodGhpcyx7X3BhbmVsSUQ6aS5hdHRyKCJpZCIpLF9jbG9zZUxpbms6aS5maW5kKCI6anFtRGF0YShyZWw9J2Nsb3NlJykiKSxfcGFnZTppLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLF9wYWdlVGhlbWU6YSgpLF9wYW5lbElubmVyOm8oKSxfd3JhcHBlcjpzKCksX2ZpeGVkVG9vbGJhcjpyKCl9KSx0Ll9hZGRQYW5lbENsYXNzZXMoKSx0Ll93cmFwcGVyLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKSx0Ll9maXhlZFRvb2xiYXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhckNsb3NlZCksdC5fcGFnZS5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5wYWdlUGFuZWwpLGUuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdC5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0Ll9iaW5kVXBkYXRlTGF5b3V0KCksdC5fYmluZENsb3NlRXZlbnRzKCksdC5fYmluZExpbmtMaXN0ZW5lcnMoKSx0Ll9iaW5kUGFnZUV2ZW50cygpLHQub3B0aW9ucy5kaXNtaXNzaWJsZSYmdC5fY3JlYXRlTW9kYWwoKSx0Ll9iaW5kU3dpcGVFdmVudHMoKX0sX2NyZWF0ZU1vZGFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0Ll9tb2RhbD1lKCI8ZGl2IGNsYXNzPSciK3Qub3B0aW9ucy5jbGFzc2VzLm1vZGFsKyInIGRhdGEtcGFuZWxpZD0nIit0Ll9wYW5lbElEKyInPjwvZGl2PiIpLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7dC5jbG9zZSgpfSkuYXBwZW5kVG8odGhpcy5fcGFnZSl9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihlKXtyZXR1cm4gZSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIitlKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQ7cmV0dXJuIHRoaXMub3B0aW9ucy50aGVtZSYmKGUrPSIgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihlKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksZX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2Nsb3NlTGluay5vbigiY2xpY2sucGFuZWwiLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksZS5jbG9zZSgpLCExfSksZS5lbGVtZW50Lm9uKCJjbGljay5wYW5lbCIsImE6anFtRGF0YShhamF4PSdmYWxzZScpIixmdW5jdGlvbigpe2UuY2xvc2UoKX0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10Ll9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksbj1pPmUubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO258fCF0Lm9wdGlvbnMucG9zaXRpb25GaXhlZD8obiYmKHQuX3VuZml4UGFuZWwoKSxlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoaSkpLHQuX3Njcm9sbEludG9WaWV3KGkpKTp0Ll9maXhQYW5lbCgpfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oaSl7ZSh0KS5zY3JvbGxUb3AoKT5pJiZ0LnNjcm9sbFRvKDAsMCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihlKHQpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoZSh0KSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmUuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZlLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5lbGVtZW50Lm9uKCJ1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7ZS5fb3BlbiYmZS5fcG9zaXRpb25QYW5lbCgpfSl9LF9iaW5kTGlua0xpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fcGFnZS5vbigiY2xpY2sucGFuZWwiLCJhIixmdW5jdGlvbihpKXtpZih0aGlzLmhyZWYuc3BsaXQoIiMiKVsxXT09PXQuX3BhbmVsSUQmJnQuX3BhbmVsSUQhPT1uKXtpLnByZXZlbnREZWZhdWx0KCk7dmFyIGE9ZSh0aGlzKTtyZXR1cm4gYS5oYXNDbGFzcygidWktbGluayIpfHwoYS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdC5lbGVtZW50Lm9uZSgicGFuZWxvcGVuIHBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSksdC50b2dnbGUoKSwhMX19KX0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLl9tb2RhbD9lLmVsZW1lbnQuYWRkKGUuX21vZGFsKTplLmVsZW1lbnQ7ZS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1lLm9wdGlvbnMucG9zaXRpb24/dC5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2UuY2xvc2UoKX0pOnQub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7ZS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3BhZ2Uub24oInBhbmVsYmVmb3Jlb3BlbiIsZnVuY3Rpb24odCl7ZS5fb3BlbiYmdC50YXJnZXQhPT1lLmVsZW1lbnRbMF0mJmUuY2xvc2UoKX0pLm9uKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtlLl9vcGVuJiZlLmNsb3NlKCEwKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24odCl7Mjc9PT10LmtleUNvZGUmJmUuX29wZW4mJmUuY2xvc2UoKX0pfSxfb3BlbjohMSxfY29udGVudFdyYXBPcGVuQ2xhc3NlczpudWxsLF9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbih0KXtpZighdGhpcy5fb3Blbil7dmFyIGk9dGhpcyxuPWkub3B0aW9ucyxhPWZ1bmN0aW9uKCl7aS5fcGFnZS5vZmYoInBhbmVsY2xvc2UiKSxpLl9wYWdlLmpxbURhdGEoInBhbmVsIiwib3BlbiIpLCF0JiZlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJm4uYW5pbWF0ZT9pLmVsZW1lbnQuYWRkKGkuX3dyYXBwZXIpLm9uKGkuX3RyYW5zaXRpb25FbmRFdmVudHMsbyk6c2V0VGltZW91dChvLDApLGkub3B0aW9ucy50aGVtZSYmIm92ZXJsYXkiIT09aS5vcHRpb25zLmRpc3BsYXkmJmkuX3BhZ2UucmVtb3ZlQ2xhc3MoaS5fcGFnZVRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2kub3B0aW9ucy50aGVtZSksaS5lbGVtZW50LnJlbW92ZUNsYXNzKG4uY2xhc3Nlcy5wYW5lbENsb3NlZCkuYWRkQ2xhc3Mobi5jbGFzc2VzLnBhbmVsT3BlbiksaS5fcG9zaXRpb25QYW5lbCgpLGkub3B0aW9ucy50aGVtZSYmIm92ZXJsYXkiIT09aS5vcHRpb25zLmRpc3BsYXkmJmkuX3dyYXBwZXIuY3NzKCJtaW4taGVpZ2h0IixpLl9wYWdlLmNzcygibWluLWhlaWdodCIpKSxpLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzPWkuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKG4uY2xhc3Nlcy5jb250ZW50V3JhcCksaS5fd3JhcHBlci5yZW1vdmVDbGFzcyhuLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLmFkZENsYXNzKGkuX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXMrIiAiK24uY2xhc3Nlcy5jb250ZW50V3JhcE9wZW4pLGkuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzPWkuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKG4uY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxpLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3Mobi5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLmFkZENsYXNzKGkuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzKyIgIituLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLGkuX21vZGFsT3BlbkNsYXNzZXM9aS5fZ2V0UG9zRGlzcGxheUNsYXNzZXMobi5jbGFzc2VzLm1vZGFsKSsiICIrbi5jbGFzc2VzLm1vZGFsT3BlbixpLl9tb2RhbCYmaS5fbW9kYWwuYWRkQ2xhc3MoaS5fbW9kYWxPcGVuQ2xhc3Nlcyl9LG89ZnVuY3Rpb24oKXtpLmVsZW1lbnQuYWRkKGkuX3dyYXBwZXIpLm9mZihpLl90cmFuc2l0aW9uRW5kRXZlbnRzLG8pLGkuX3BhZ2UuYWRkQ2xhc3Mobi5jbGFzc2VzLnBhZ2VQYW5lbE9wZW4pLGkuX2JpbmRGaXhMaXN0ZW5lcigpLGkuX3RyaWdnZXIoIm9wZW4iKX07MD50aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoJiYodD0hMCksaS5fdHJpZ2dlcigiYmVmb3Jlb3BlbiIpLCJvcGVuIj09PWkuX3BhZ2UuanFtRGF0YSgicGFuZWwiKT9pLl9wYWdlLm9uKCJwYW5lbGNsb3NlIixmdW5jdGlvbigpe2EoKX0pOmEoKSxpLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24odCl7aWYodGhpcy5fb3Blbil7dmFyIGk9dGhpcy5vcHRpb25zLG49dGhpcyxhPWZ1bmN0aW9uKCl7IXQmJmUuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmaS5hbmltYXRlP24uZWxlbWVudC5hZGQobi5fd3JhcHBlcikub24obi5fdHJhbnNpdGlvbkVuZEV2ZW50cyxvKTpzZXRUaW1lb3V0KG8sMCksbi5fcGFnZS5yZW1vdmVDbGFzcyhpLmNsYXNzZXMucGFnZVBhbmVsT3Blbiksbi5lbGVtZW50LnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5wYW5lbE9wZW4pLG4uX3dyYXBwZXIucmVtb3ZlQ2xhc3MoaS5jbGFzc2VzLmNvbnRlbnRXcmFwT3Blbiksbi5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyT3Blbiksbi5fbW9kYWwmJm4uX21vZGFsLnJlbW92ZUNsYXNzKG4uX21vZGFsT3BlbkNsYXNzZXMpfSxvPWZ1bmN0aW9uKCl7bi5vcHRpb25zLnRoZW1lJiYib3ZlcmxheSIhPT1uLm9wdGlvbnMuZGlzcGxheSYmKG4uX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIituLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKG4uX3BhZ2VUaGVtZSksbi5fd3JhcHBlci5jc3MoIm1pbi1oZWlnaHQiLCIiKSksbi5lbGVtZW50LmFkZChuLl93cmFwcGVyKS5vZmYobi5fdHJhbnNpdGlvbkVuZEV2ZW50cyxvKSxuLmVsZW1lbnQuYWRkQ2xhc3MoaS5jbGFzc2VzLnBhbmVsQ2xvc2VkKSxuLl93cmFwcGVyLnJlbW92ZUNsYXNzKG4uX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXMpLmFkZENsYXNzKGkuY2xhc3Nlcy5jb250ZW50V3JhcENsb3NlZCksbi5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKG4uX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzKS5hZGRDbGFzcyhpLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhckNsb3NlZCksbi5fZml4UGFuZWwoKSxuLl91bmJpbmRGaXhMaXN0ZW5lcigpLGUubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpLG4uX3BhZ2UuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSxuLl90cmlnZ2VyKCJjbG9zZSIpfTswPnRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGgmJih0PSEwKSxuLl90cmlnZ2VyKCJiZWZvcmVjbG9zZSIpLGEoKSxuLl9vcGVuPSExfX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfdHJhbnNpdGlvbkVuZEV2ZW50czoid2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCB0cmFuc2l0aW9uZW5kIG1zVHJhbnNpdGlvbkVuZCIsX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuY2xhc3NlcyxpPXRoaXMub3B0aW9ucy50aGVtZSxuPXRoaXMuZWxlbWVudC5zaWJsaW5ncygiLiIrdC5wYW5lbCkubGVuZ3RoO24/dGhpcy5fb3BlbiYmKHRoaXMuX3dyYXBwZXIucmVtb3ZlQ2xhc3ModC5jb250ZW50V3JhcE9wZW4pLHRoaXMuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyh0LmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSx0aGlzLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyh0LnBhZ2VQYW5lbE9wZW4pLGkmJnRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitpKS5hZGRDbGFzcyh0aGlzLl9wYWdlVGhlbWUpKToodGhpcy5fd3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuX3BhZ2UuZmluZCgiYSIpLnVuYmluZCgicGFuZWxvcGVuIHBhbmVsY2xvc2UiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKHQucGFnZVBhbmVsKSx0aGlzLl9vcGVuJiYodGhpcy5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3ModC5wYWdlUGFuZWxPcGVuKSxpJiZ0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIraSkuYWRkQ2xhc3ModGhpcy5fcGFnZVRoZW1lKSxlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSkpLHRoaXMuX3BhbmVsSW5uZXIuY2hpbGRyZW4oKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoW3RoaXMuX2dldFBhbmVsQ2xhc3NlcygpLHQucGFuZWxBbmltYXRlXS5qb2luKCIgIikpLm9mZigic3dpcGVsZWZ0LnBhbmVsIHN3aXBlcmlnaHQucGFuZWwiKS5vZmYoInBhbmVsYmVmb3Jlb3BlbiIpLm9mZigicGFuZWxoaWRlIikub2ZmKCJrZXl1cC5wYW5lbCIpLm9mZigidXBkYXRlbGF5b3V0IiksdGhpcy5fY2xvc2VMaW5rLm9mZigiY2xpY2sucGFuZWwiKSx0aGlzLl9tb2RhbCYmdGhpcy5fbW9kYWwucmVtb3ZlKCksdGhpcy5lbGVtZW50Lm9mZih0aGlzLl90cmFuc2l0aW9uRW5kRXZlbnRzKS5yZW1vdmVDbGFzcyhbdC5wYW5lbFVuZml4ZWQsdC5wYW5lbENsb3NlZCx0LnBhbmVsT3Blbl0uam9pbigiICIpKX19KSxlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5wYW5lbC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLnRhYmxlIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2NsYXNzZXM6e3RhYmxlOiJ1aS10YWJsZSJ9LGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ndGFibGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucmVmcmVzaCghMCl9LHJlZnJlc2g6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcyxhPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO2kmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksbi5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksbi5hbGxIZWFkZXJzPW4uaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKSxhLmVhY2goZnVuY3Rpb24oKXt2YXIgbz0wO2UodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHM9cGFyc2VJbnQoZSh0aGlzKS5hdHRyKCJjb2xzcGFuIiksMTApLHI9IjpudGgtY2hpbGQoIisobysxKSsiKSI7aWYoZSh0aGlzKS5qcW1EYXRhKCJjb2xzdGFydCIsbysxKSxzKWZvcih2YXIgbD0wO3MtMT5sO2wrKylvKysscis9IiwgOm50aC1jaGlsZCgiKyhvKzEpKyIpIjtpPT09dCYmZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsIiIpLGUodGhpcykuanFtRGF0YSgiY2VsbHMiLG4uZWxlbWVudC5maW5kKCJ0ciIpLm5vdChhLmVxKDApKS5ub3QodGhpcykuY2hpbGRyZW4ocikpLG8rK30pfSksaT09PXQmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJyZWZyZXNoIil9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlLHQpe2UubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLm1vZGU9ImNvbHVtbnRvZ2dsZSIsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY29sdW1uQnRuVGhlbWU9bnVsbCxlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5Qb3B1cFRoZW1lPW51bGwsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY29sdW1uQnRuVGV4dD0iQ29sdW1ucy4uLiIsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcz1lLmV4dGVuZChlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtwb3B1cDoidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwIixjb2x1bW5CdG46InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1idG4iLHByaW9yaXR5UHJlZml4OiJ1aS10YWJsZS1wcmlvcml0eS0iLGNvbHVtblRvZ2dsZVRhYmxlOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUifSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIjpqcW1EYXRhKHJvbGU9J3RhYmxlJykiLCJ0YWJsZWNyZWF0ZSByZWZyZXNoIixmdW5jdGlvbihpKXt2YXIgbixhLG8scyxyPWUodGhpcyksbD1yLmRhdGEoIm1vYmlsZS10YWJsZSIpLGQ9aS50eXBlLGM9bC5vcHRpb25zLGg9ZS5tb2JpbGUubnMsdT0oci5hdHRyKCJpZCIpfHxjLmNsYXNzZXMucG9wdXApKyItcG9wdXAiOyJjb2x1bW50b2dnbGUiPT09Yy5tb2RlJiYoInJlZnJlc2giIT09ZCYmKGwuZWxlbWVudC5hZGRDbGFzcyhjLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUpLG49ZSgiPGEgaHJlZj0nIyIrdSsiJyBjbGFzcz0nIitjLmNsYXNzZXMuY29sdW1uQnRuKyInIGRhdGEtIitoKyJyZWw9J3BvcHVwJyBkYXRhLSIraCsibWluaT0ndHJ1ZSc+IitjLmNvbHVtbkJ0blRleHQrIjwvYT4iKSxhPWUoIjxkaXYgZGF0YS0iK2grInJvbGU9J3BvcHVwJyBkYXRhLSIraCsicm9sZT0nZmllbGRjb250YWluJyBjbGFzcz0nIitjLmNsYXNzZXMucG9wdXArIicgaWQ9JyIrdSsiJz48L2Rpdj4iKSxvPWUoIjxmaWVsZHNldCBkYXRhLSIraCsicm9sZT0nY29udHJvbGdyb3VwJz48L2ZpZWxkc2V0PiIpKSxsLmhlYWRlcnMubm90KCJ0ZCIpLmVhY2goZnVuY3Rpb24odCl7dmFyIGk9ZSh0aGlzKS5qcW1EYXRhKCJwcmlvcml0eSIpLG49ZSh0aGlzKS5hZGQoZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpKTtpJiYobi5hZGRDbGFzcyhjLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgraSksInJlZnJlc2giIT09ZD9lKCI8bGFiZWw+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBjaGVja2VkIC8+IitlKHRoaXMpLnRleHQoKSsiPC9sYWJlbD4iKS5hcHBlbmRUbyhvKS5jaGlsZHJlbigwKS5qcW1EYXRhKCJjZWxscyIsbikuY2hlY2tib3hyYWRpbyh7dGhlbWU6Yy5jb2x1bW5Qb3B1cFRoZW1lfSk6ZSgiIyIrdSsiIGZpZWxkc2V0IGRpdjplcSgiK3QrIikiKS5maW5kKCJpbnB1dCIpLmpxbURhdGEoImNlbGxzIixuKSl9KSwicmVmcmVzaCIhPT1kJiZvLmFwcGVuZFRvKGEpLHM9bz09PXQ/ZSgiIyIrdSsiIGZpZWxkc2V0Iik6bywicmVmcmVzaCIhPT1kJiYocy5vbigiY2hhbmdlIiwiaW5wdXQiLGZ1bmN0aW9uKCl7dGhpcy5jaGVja2VkP2UodGhpcykuanFtRGF0YSgiY2VsbHMiKS5yZW1vdmVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIik6ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLnJlbW92ZUNsYXNzKCJ1aS10YWJsZS1jZWxsLXZpc2libGUiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iKX0pLG4uaW5zZXJ0QmVmb3JlKHIpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yy5jb2x1bW5CdG5UaGVtZX0pLGEuaW5zZXJ0QmVmb3JlKHIpLnBvcHVwKCkpLGwudXBkYXRlPWZ1bmN0aW9uKCl7cy5maW5kKCJpbnB1dCIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmNoZWNrZWQ/KHRoaXMuY2hlY2tlZD0idGFibGUtY2VsbCI9PT1lKHRoaXMpLmpxbURhdGEoImNlbGxzIikuZXEoMCkuY3NzKCJkaXNwbGF5IiksInJlZnJlc2giPT09ZCYmZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLXZpc2libGUiKSk6ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiIpLGUodGhpcykuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSl9LGUubW9iaWxlLndpbmRvdy5vbigidGhyb3R0bGVkcmVzaXplIixsLnVwZGF0ZSksbC51cGRhdGUoKSl9KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMubW9kZT0icmVmbG93IixlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzPWUuZXh0ZW5kKGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3JlZmxvd1RhYmxlOiJ1aS10YWJsZS1yZWZsb3ciLGNlbGxMYWJlbHM6InVpLXRhYmxlLWNlbGwtbGFiZWwifSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIjpqcW1EYXRhKHJvbGU9J3RhYmxlJykiLCJ0YWJsZWNyZWF0ZSByZWZyZXNoIixmdW5jdGlvbih0KXt2YXIgaT1lKHRoaXMpLG49dC50eXBlLGE9aS5kYXRhKCJtb2JpbGUtdGFibGUiKSxvPWEub3B0aW9ucztpZigicmVmbG93Ij09PW8ubW9kZSl7InJlZnJlc2giIT09biYmYS5lbGVtZW50LmFkZENsYXNzKG8uY2xhc3Nlcy5yZWZsb3dUYWJsZSk7dmFyIHM9ZShhLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKTtzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLmpxbURhdGEoImNlbGxzIiksaT1lKHRoaXMpLmpxbURhdGEoImNvbHN0YXJ0Iiksbj10Lm5vdCh0aGlzKS5maWx0ZXIoInRoZWFkIHRoIikubGVuZ3RoJiYiIHVpLXRhYmxlLWNlbGwtbGFiZWwtdG9wIixhPWUodGhpcykudGV4dCgpO2lmKCIiIT09YSlpZihuKXt2YXIgcz1wYXJzZUludChlKHRoaXMpLmF0dHIoImNvbHNwYW4iKSwxMCkscj0iIjtzJiYocj0idGQ6bnRoLWNoaWxkKCIrcysibiArICIraSsiKSIpLHQuZmlsdGVyKHIpLnByZXBlbmQoIjxiIGNsYXNzPSciK28uY2xhc3Nlcy5jZWxsTGFiZWxzK24rIic+IithKyI8L2I+Iil9ZWxzZSB0LnByZXBlbmQoIjxiIGNsYXNzPSciK28uY2xhc3Nlcy5jZWxsTGFiZWxzKyInPiIrYSsiPC9iPiIpfSl9fSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlKXtvPWUub3JpZ2luYWxFdmVudCxkPW8uYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxzPU1hdGguYWJzKGQueCkscj1NYXRoLmFicyhkLnkpLGw9TWF0aC5hYnMoZC56KSwhdC5vcmllbnRhdGlvbiYmKHM+N3x8KGw+NiYmOD5yfHw4PmwmJnI+NikmJnM+NSk/Yy5lbmFibGVkJiZjLmRpc2FibGUoKTpjLmVuYWJsZWR8fGMuZW5hYmxlKCl9ZS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSEwO3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQ7aWYoISgvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiYvT1MgWzEtNV1fWzAtOV9dKiBsaWtlIE1hYyBPUyBYL2kudGVzdChhKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xKSlyZXR1cm4gZS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSExLG47dmFyIG8scyxyLGwsZCxjPWUubW9iaWxlLnpvb207ZS5tb2JpbGUuZG9jdW1lbnQub24oIm1vYmlsZWluaXQiLGZ1bmN0aW9uKCl7ZS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkJiZlLm1vYmlsZS53aW5kb3cuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXgiLGMuZW5hYmxlKS5iaW5kKCJkZXZpY2Vtb3Rpb24uaW9zb3JpZW50YXRpb25maXgiLGkpfSl9KGUsdGhpcyksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7YS5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBhPWUoImh0bWwiKSxvPShlKCJoZWFkIiksZS5tb2JpbGUud2luZG93KTtlKHQuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKSxlLm1vYmlsZS5ncmFkZUEoKSYmKGUubW9iaWxlLmFqYXhCbGFja2xpc3QmJihlLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksYS5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKSxzZXRUaW1lb3V0KG4sNWUzKSxlLmV4dGVuZChlLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgdD1lLm1vYmlsZS5wYXRoLGE9ZSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLHM9dC5zdHJpcEhhc2godC5zdHJpcFF1ZXJ5UGFyYW1zKHQucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxyPWkuZ2V0RWxlbWVudEJ5SWQocyk7YS5sZW5ndGh8fChhPWUoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTt0LmpxbURhdGEoInVybCIpfHx0LmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidXJsIix0LmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxlLm1vYmlsZS5maXJzdFBhZ2U9YS5maXJzdCgpLGUubW9iaWxlLnBhZ2VDb250YWluZXI9ZS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKSxvLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKSxlLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKSxuKCksZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmUubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihlKHIpLmlzKCc6anFtRGF0YShyb2xlPSJwYWdlIiknKXx8ZS5tb2JpbGUucGF0aC5pc1BhdGgocyl8fHM9PT1lLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT9lLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sZS5tb2JpbGUubmF2aWdhdGUoZS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6by50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKTooZS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGUubW9iaWxlLnVybEhpc3RvcnkuaW5pdGlhbERzdD1zLnJlcGxhY2UoIiMiLCIiKSksZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpJiZlLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3Iuc3F1YXNoKHQucGFyc2VMb2NhdGlvbigpLmhyZWYpLGUubW9iaWxlLmNoYW5nZVBhZ2UoZS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSl9fSksZS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZShmdW5jdGlvbigpe3Quc2Nyb2xsVG8oMCwxKSxlLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD1lLnN1cHBvcnQuc2Nyb2xsVG9wJiYxIT09ZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpPzE6MCxlLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmUubW9iaWxlLmluaXRpYWxpemVQYWdlKCksby5sb2FkKGUubW9iaWxlLnNpbGVudFNjcm9sbCksZS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KSl9KGUsdGhpcyl9KTsKLy9AIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1vYmlsZS0xLjMuMS5taW4ubWFw",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgMS4zLjEgfCBHaXQgSEVBRCBoYXNoOiA3NGI0YmVjIDw+IDIwMTMtMDQtMTBUMjE6NTc6MjNaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KKGZ1bmN0aW9uKGUsdCxpKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKG4pe3JldHVybiBpKG4sZSx0KSxuLm1vYmlsZX0pOmkoZS5qUXVlcnksZSx0KX0pKHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oZSx0LGksbil7KGZ1bmN0aW9uKGUpe2UubW9iaWxlPXt9fSkoZSksZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXt9O2UubW9iaWxlPWUuZXh0ZW5kKGUubW9iaWxlLHt2ZXJzaW9uOiIxLjMuMSIsbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ITEsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6ITAsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sd2luZG93OmUodCksZG9jdW1lbnQ6ZShpKSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihpKXsibnVtYmVyIiE9PWUudHlwZShpKSYmKGk9ZS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGUuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNjcm9sbFRvKDAsaSksZS5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6aX0pfSwyMCksc2V0VGltZW91dChmdW5jdGlvbigpe2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6YSxuc05vcm1hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD9hW3RdfHwoYVt0XT1lLmNhbWVsQ2FzZShlLm1vYmlsZS5ucyt0KSk6bn0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGksbixhPWVbMF0sbz0iIixzPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLzthJiYoaT1hLmNsYXNzTmFtZXx8IiIsIShpJiYobj1zLmV4ZWMoaSkpJiYobz1uWzJdKSkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gb3x8dHx8ImEifSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpLCA6anFtRGF0YShyb2xlPSJkaWFsb2ciKScpLmRhdGEoIm1vYmlsZS1wYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGUsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhlLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKHQsaSl7aWYoIWUubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiB0O2Zvcih2YXIgbixhLG8scz10Lmxlbmd0aCxyPWUoKSxsPTA7cz5sO2wrKyl7Zm9yKGE9dC5lcShsKSxvPSExLG49dFtsXTtuOyl7dmFyIGQ9bi5nZXRBdHRyaWJ1dGU/bi5nZXRBdHRyaWJ1dGUoImRhdGEtIitlLm1vYmlsZS5ucytpKToiIjtpZigiZmFsc2UiPT09ZCl7bz0hMDticmVha31uPW4ucGFyZW50Tm9kZX1vfHwocj1yLmFkZChhKSl9cmV0dXJuIHJ9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0LmlubmVySGVpZ2h0fHxlLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9fSxlLm1vYmlsZSksZS5mbi5qcW1EYXRhPWZ1bmN0aW9uKHQsaSl7dmFyIGE7cmV0dXJuIHQhPT1uJiYodCYmKHQ9ZS5tb2JpbGUubnNOb3JtYWxpemUodCkpLGE9Mj5hcmd1bWVudHMubGVuZ3RofHxpPT09bj90aGlzLmRhdGEodCk6dGhpcy5kYXRhKHQsaSkpLGF9LGUuanFtRGF0YT1mdW5jdGlvbih0LGksYSl7dmFyIG87cmV0dXJuIGkhPT1uJiYobz1lLmRhdGEodCxpP2UubW9iaWxlLm5zTm9ybWFsaXplKGkpOmksYSkpLG99LGUuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGUubW9iaWxlLm5zTm9ybWFsaXplKHQpKX0sZS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUucmVtb3ZlRGF0YSh0LGUubW9iaWxlLm5zTm9ybWFsaXplKGkpKX0sZS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbigpe2UucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9LGUucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24odCl7dmFyIGk9ZSh0KTsoaS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGUoKSkucmVtb3ZlKCksaS5yZW1vdmUoKX0sZS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKHQpe2UuYWRkRGVwZW5kZW50cyhlKHRoaXMpLHQpfSxlLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24odCxpKXt2YXIgbj1lKHQpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8ZSgpO2UodCkuanFtRGF0YSgiZGVwZW5kZW50cyIsZS5tZXJnZShuLGkpKX0sZS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBlKCI8ZGl2Lz4iKS50ZXh0KGUodGhpcykudGV4dCgpKS5odG1sKCl9LGUuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9LGUuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiBlLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTt2YXIgbz1lLmZpbmQscz0vOmpxbURhdGFcKChbXildKilcKS9nO2UuZmluZD1mdW5jdGlvbih0LGksbixhKXtyZXR1cm4gdD10LnJlcGxhY2UocywiW2RhdGEtIisoZS5tb2JpbGUubnN8fCIiKSsiJDFdIiksby5jYWxsKHRoaXMsdCxpLG4sYSl9LGUuZXh0ZW5kKGUuZmluZCxvKSxlLmZpbmQubWF0Y2hlcz1mdW5jdGlvbih0LGkpe3JldHVybiBlLmZpbmQodCxudWxsLG51bGwsaSl9LGUuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5maW5kKGksbnVsbCxudWxsLFt0XSkubGVuZ3RoPjB9fShlLHRoaXMpLGZ1bmN0aW9uKGUsdCl7dmFyIGk9MCxuPUFycmF5LnByb3RvdHlwZS5zbGljZSxhPWUuY2xlYW5EYXRhO2UuY2xlYW5EYXRhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxuPTA7bnVsbCE9KGk9dFtuXSk7bisrKXRyeXtlKGkpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChvKXt9YSh0KX0sZS53aWRnZXQ9ZnVuY3Rpb24oaSxuLGEpe3ZhciBvLHMscixsLGQ9aS5zcGxpdCgiLiIpWzBdO2k9aS5zcGxpdCgiLiIpWzFdLG89ZCsiLSIraSxhfHwoYT1uLG49ZS5XaWRnZXQpLGUuZXhwclsiOiJdW28udG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24odCl7cmV0dXJuISFlLmRhdGEodCxvKX0sZVtkXT1lW2RdfHx7fSxzPWVbZF1baV0scj1lW2RdW2ldPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVdpZGdldD8oYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGUsaSksdCk6bmV3IHIoZSxpKX0sZS5leHRlbmQocixzLHt2ZXJzaW9uOmEudmVyc2lvbixfcHJvdG86ZS5leHRlbmQoe30sYSksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksbD1uZXcgbixsLm9wdGlvbnM9ZS53aWRnZXQuZXh0ZW5kKHt9LGwub3B0aW9ucyksZS5lYWNoKGEsZnVuY3Rpb24odCxpKXtlLmlzRnVuY3Rpb24oaSkmJihhW3RdPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhPWZ1bmN0aW9uKGUpe3JldHVybiBuLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGUpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMuX3N1cGVyLG89dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9ZSx0aGlzLl9zdXBlckFwcGx5PWEsdD1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1uLHRoaXMuX3N1cGVyQXBwbHk9byx0fX0oKSl9KSxyLnByb3RvdHlwZT1lLndpZGdldC5leHRlbmQobCx7d2lkZ2V0RXZlbnRQcmVmaXg6cz9sLndpZGdldEV2ZW50UHJlZml4Oml9LGEse2NvbnN0cnVjdG9yOnIsbmFtZXNwYWNlOmQsd2lkZ2V0TmFtZTppLHdpZGdldEZ1bGxOYW1lOm99KSxzPyhlLmVhY2gocy5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24odCxpKXt2YXIgbj1pLnByb3RvdHlwZTtlLndpZGdldChuLm5hbWVzcGFjZSsiLiIrbi53aWRnZXROYW1lLHIsaS5fcHJvdG8pfSksZGVsZXRlIHMuX2NoaWxkQ29uc3RydWN0b3JzKTpuLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKHIpLGUud2lkZ2V0LmJyaWRnZShpLHIpfSxlLndpZGdldC5leHRlbmQ9ZnVuY3Rpb24oaSl7Zm9yKHZhciBhLG8scz1uLmNhbGwoYXJndW1lbnRzLDEpLHI9MCxsPXMubGVuZ3RoO2w+cjtyKyspZm9yKGEgaW4gc1tyXSlvPXNbcl1bYV0sc1tyXS5oYXNPd25Qcm9wZXJ0eShhKSYmbyE9PXQmJihpW2FdPWUuaXNQbGFpbk9iamVjdChvKT9lLmlzUGxhaW5PYmplY3QoaVthXSk/ZS53aWRnZXQuZXh0ZW5kKHt9LGlbYV0sbyk6ZS53aWRnZXQuZXh0ZW5kKHt9LG8pOm8pO3JldHVybiBpfSxlLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oaSxhKXt2YXIgbz1hLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8aTtlLmZuW2ldPWZ1bmN0aW9uKHMpe3ZhciByPSJzdHJpbmciPT10eXBlb2YgcyxsPW4uY2FsbChhcmd1bWVudHMsMSksZD10aGlzO3JldHVybiBzPSFyJiZsLmxlbmd0aD9lLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbc10uY29uY2F0KGwpKTpzLHI/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG4sYT1lLmRhdGEodGhpcyxvKTtyZXR1cm4gYT9lLmlzRnVuY3Rpb24oYVtzXSkmJiJfIiE9PXMuY2hhckF0KDApPyhuPWFbc10uYXBwbHkoYSxsKSxuIT09YSYmbiE9PXQ/KGQ9biYmbi5qcXVlcnk/ZC5wdXNoU3RhY2sobi5nZXQoKSk6biwhMSk6dCk6ZS5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrcysiJyBmb3IgIitpKyIgd2lkZ2V0IGluc3RhbmNlIik6ZS5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2krIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgIisiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK3MrIiciKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUuZGF0YSh0aGlzLG8pO3Q/dC5vcHRpb24oc3x8e30pLl9pbml0KCk6ZS5kYXRhKHRoaXMsbyxuZXcgYShzLHRoaXMpKX0pLGR9fSxlLldpZGdldD1mdW5jdGlvbigpe30sZS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGUuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsbil7bj1lKG58fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1lKG4pLHRoaXMudXVpZD1pKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9ZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCksdGhpcy5iaW5kaW5ncz1lKCksdGhpcy5ob3ZlcmFibGU9ZSgpLHRoaXMuZm9jdXNhYmxlPWUoKSxuIT09dGhpcyYmKGUuZGF0YShuLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PT1uJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWUobi5zdHlsZT9uLm93bmVyRG9jdW1lbnQ6bi5kb2N1bWVudHx8biksdGhpcy53aW5kb3c9ZSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczplLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTplLm5vb3AsX2NyZWF0ZTplLm5vb3AsX2luaXQ6ZS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGUuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmUubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oaSxuKXt2YXIgYSxvLHMscj1pO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBlLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIGkpaWYocj17fSxhPWkuc3BsaXQoIi4iKSxpPWEuc2hpZnQoKSxhLmxlbmd0aCl7Zm9yKG89cltpXT1lLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2ldKSxzPTA7YS5sZW5ndGgtMT5zO3MrKylvW2Fbc11dPW9bYVtzXV18fHt9LG89b1thW3NdXTtpZihpPWEucG9wKCksbj09PXQpcmV0dXJuIG9baV09PT10P251bGw6b1tpXTtvW2ldPW59ZWxzZXtpZihuPT09dClyZXR1cm4gdGhpcy5vcHRpb25zW2ldPT09dD9udWxsOnRoaXMub3B0aW9uc1tpXTtyW2ldPW59cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMociksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZSl0aGlzLl9zZXRPcHRpb24odCxlW3RdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9wdGlvbnNbZV09dCwiZGlzYWJsZWQiPT09ZSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIiwhIXQpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHQpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX0sX29uOmZ1bmN0aW9uKGksbixhKXt2YXIgbyxzPXRoaXM7ImJvb2xlYW4iIT10eXBlb2YgaSYmKGE9bixuPWksaT0hMSksYT8obj1vPWUobiksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChuKSk6KGE9bixuPXRoaXMuZWxlbWVudCxvPXRoaXMud2lkZ2V0KCkpLGUuZWFjaChhLGZ1bmN0aW9uKGEscil7ZnVuY3Rpb24gbCgpe3JldHVybiBpfHxzLm9wdGlvbnMuZGlzYWJsZWQhPT0hMCYmIWUodGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIik/KCJzdHJpbmciPT10eXBlb2Ygcj9zW3JdOnIpLmFwcGx5KHMsYXJndW1lbnRzKTp0fSJzdHJpbmciIT10eXBlb2YgciYmKGwuZ3VpZD1yLmd1aWQ9ci5ndWlkfHxsLmd1aWR8fGUuZ3VpZCsrKTt2YXIgZD1hLm1hdGNoKC9eKFx3KylccyooLiopJC8pLGM9ZFsxXStzLmV2ZW50TmFtZXNwYWNlLGg9ZFsyXTtoP28uZGVsZWdhdGUoaCxjLGwpOm4uYmluZChjLGwpfSl9LF9vZmY6ZnVuY3Rpb24oZSx0KXt0PSh0fHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlLGUudW5iaW5kKHQpLnVuZGVsZWdhdGUodCl9LF9kZWxheTpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBlP25bZV06ZSkuYXBwbHkobixhcmd1bWVudHMpfXZhciBuPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoaSx0fHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbih0KXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQodCksdGhpcy5fb24odCx7bW91c2VlbnRlcjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KSx0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGksbil7dmFyIGEsbyxzPXRoaXMub3B0aW9uc1t0XTtpZihuPW58fHt9LGk9ZS5FdmVudChpKSxpLnR5cGU9KHQ9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P3Q6dGhpcy53aWRnZXRFdmVudFByZWZpeCt0KS50b0xvd2VyQ2FzZSgpLGkudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxvPWkub3JpZ2luYWxFdmVudClmb3IoYSBpbiBvKWEgaW4gaXx8KGlbYV09b1thXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGksbiksIShlLmlzRnVuY3Rpb24ocykmJnMuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtpXS5jb25jYXQobikpPT09ITF8fGkuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sZS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbih0LGkpe2UuV2lkZ2V0LnByb3RvdHlwZVsiXyIrdF09ZnVuY3Rpb24obixhLG8peyJzdHJpbmciPT10eXBlb2YgYSYmKGE9e2VmZmVjdDphfSk7dmFyIHMscj1hP2E9PT0hMHx8Im51bWJlciI9PXR5cGVvZiBhP2k6YS5lZmZlY3R8fGk6dDthPWF8fHt9LCJudW1iZXIiPT10eXBlb2YgYSYmKGE9e2R1cmF0aW9uOmF9KSxzPSFlLmlzRW1wdHlPYmplY3QoYSksYS5jb21wbGV0ZT1vLGEuZGVsYXkmJm4uZGVsYXkoYS5kZWxheSkscyYmZS5lZmZlY3RzJiZlLmVmZmVjdHMuZWZmZWN0W3JdP25bdF0oYSk6ciE9PXQmJm5bcl0/bltyXShhLmR1cmF0aW9uLGEuZWFzaW5nLG8pOm4ucXVldWUoZnVuY3Rpb24oaSl7ZSh0aGlzKVt0XSgpLG8mJm8uY2FsbChuWzBdKSxpKCl9KX19KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXtlLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBpPXRoaXMuZWxlbWVudCxuPXt9O3JldHVybiBlLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGUpe3ZhciBhPWkuanFtRGF0YShlLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oZSl7cmV0dXJuIi0iK2UudG9Mb3dlckNhc2UoKX0pKTthIT09dCYmKG5bZV09YSl9KSxufSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKHQsaSl7dGhpcy5lbmhhbmNlKGUodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixlKHQpKSxpKX0sZW5oYW5jZTpmdW5jdGlvbih0LGkpe3ZhciBuLGEsbz1lKHQpO289ZS5tb2JpbGUuZW5oYW5jZWFibGUobyksaSYmby5sZW5ndGgmJihuPWUubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShvKSxhPW4mJm4ua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiLG89by5ub3QoYSkpLG9bdGhpcy53aWRnZXROYW1lXSgpfSxyYWlzZTpmdW5jdGlvbihlKXt0aHJvdyJXaWRnZXQgWyIrdGhpcy53aWRnZXROYW1lKyJdOiAiK2V9fSl9KGUpLGZ1bmN0aW9uKGUpe2UuZXh0ZW5kKGUubW9iaWxlLHtsb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOm4sbG9hZGluZ01lc3NhZ2VUaGVtZTpuLGxvYWRpbmdNZXNzYWdlOm4sc2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKHQsaSxuKXtlLm1vYmlsZS5sb2FkaW5nKCJzaG93Iix0LGksbil9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2UubW9iaWxlLmxvYWRpbmcoImhpZGUiKX0sbG9hZGluZzpmdW5jdGlvbigpe3RoaXMubG9hZGVyV2lkZ2V0LmxvYWRlci5hcHBseSh0aGlzLmxvYWRlcldpZGdldCxhcmd1bWVudHMpfX0pO3ZhciB0PSJ1aS1sb2FkZXIiLGk9ZSgiaHRtbCIpLGE9ZS5tb2JpbGUud2luZG93O2Uud2lkZ2V0KCJtb2JpbGUubG9hZGVyIix7b3B0aW9uczp7dGhlbWU6ImEiLHRleHRWaXNpYmxlOiExLGh0bWw6IiIsdGV4dDoibG9hZGluZyJ9LGRlZmF1bHRIdG1sOiI8ZGl2IGNsYXNzPSciK3QrIic+IisiPHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nJz48L3NwYW4+IisiPGgxPjwvaDE+IisiPC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9ZSgiLiIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmUuc3VwcG9ydC5zY3JvbGxUb3AmJmEuc2Nyb2xsVG9wKCkrYS5oZWlnaHQoKS8yfHx0Lmxlbmd0aCYmdC5vZmZzZXQoKS50b3B8fDEwMH0pfSxjaGVja0xvYWRlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGk9YS5zY3JvbGxUb3AoKSxuPWUubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhpPnQudG9wfHx0LnRvcC1pPm4pJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGEudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixlLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSkpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChlKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24obyxzLHIpe3ZhciBsLGQsYzt0aGlzLnJlc2V0SHRtbCgpLCJvYmplY3QiPT09ZS50eXBlKG8pPyhjPWUuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxvKSxvPWMudGhlbWV8fGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWUpOihjPXRoaXMub3B0aW9ucyxvPW98fGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWV8fGMudGhlbWUpLGQ9c3x8ZS5tb2JpbGUubG9hZGluZ01lc3NhZ2V8fGMudGV4dCxpLmFkZENsYXNzKCJ1aS1sb2FkaW5nIiksKGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGMuaHRtbCkmJihsPWUubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGUhPT1uP2UubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6Yy50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLHQrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitvKyIgdWktbG9hZGVyLSIrKGx8fHN8fG8udGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsoYy50ZXh0b25seXx8cj8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxjLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwoYy5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGQpLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhlLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxhLmJpbmQoInNjcm9sbCIsZS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpKX0saGlkZTpmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKSxlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGUubW9iaWxlLndpbmRvdy51bmJpbmQoInNjcm9sbCIsdGhpcy5mYWtlRml4TG9hZGVyKSxlLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbil9fSksYS5iaW5kKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2UubW9iaWxlLmxvYWRlcldpZGdldD1lLm1vYmlsZS5sb2FkZXJXaWRnZXR8fGUoZS5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCkubG9hZGVyKCl9KX0oZSx0aGlzKSxmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT1lfHxsb2NhdGlvbi5ocmVmLCIjIitlLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBvLHM9Imhhc2hjaGFuZ2UiLHI9aSxsPWUuZXZlbnQuc3BlY2lhbCxkPXIuZG9jdW1lbnRNb2RlLGM9Im9uIitzIGluIHQmJihkPT09bnx8ZD43KTtlLmZuW3NdPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChzLGUpOnRoaXMudHJpZ2dlcihzKX0sZS5mbltzXS5kZWxheT01MCxsW3NdPWUuZXh0ZW5kKGxbc10se3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGM/ITE6KGUoby5zdGFydCksbil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGM/ITE6KGUoby5zdG9wKSxuKX19KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3ZhciBuPWEoKSxyPXAoZCk7biE9PWQ/KHUoZD1uLHIpLGUodCkudHJpZ2dlcihzKSk6ciE9PWQmJihsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrciksbz1zZXRUaW1lb3V0KGksZS5mbltzXS5kZWxheSl9dmFyIG8sbD17fSxkPWEoKSxoPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx1PWgscD1oO3JldHVybiBsLnN0YXJ0PWZ1bmN0aW9uKCl7b3x8aSgpfSxsLnN0b3A9ZnVuY3Rpb24oKXtvJiZjbGVhclRpbWVvdXQobyksbz1ufSx0LmF0dGFjaEV2ZW50JiYhdC5hZGRFdmVudExpc3RlbmVyJiYhYyYmZnVuY3Rpb24oKXt2YXIgdCxuO2wuc3RhcnQ9ZnVuY3Rpb24oKXt0fHwobj1lLmZuW3NdLnNyYyxuPW4mJm4rYSgpLHQ9ZSgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7bnx8dShhKCkpLGkoKX0pLmF0dHIoInNyYyIsbnx8ImphdmFzY3JpcHQ6MCIpLmluc2VydEFmdGVyKCJib2R5IilbMF0uY29udGVudFdpbmRvdyxyLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7InRpdGxlIj09PWV2ZW50LnByb3BlcnR5TmFtZSYmKHQuZG9jdW1lbnQudGl0bGU9ci50aXRsZSl9Y2F0Y2goZSl7fX0pfSxsLnN0b3A9aCxwPWZ1bmN0aW9uKCl7cmV0dXJuIGEodC5sb2NhdGlvbi5ocmVmKX0sdT1mdW5jdGlvbihpLG4pe3ZhciBhPXQuZG9jdW1lbnQsbz1lLmZuW3NdLmRvbWFpbjtpIT09biYmKGEudGl0bGU9ci50aXRsZSxhLm9wZW4oKSxvJiZhLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytvKyciPC9zY3JpcHQ+JyksYS5jbG9zZSgpLHQubG9jYXRpb24uaGFzaD1pKX19KCksbH0oKX0oZSx0aGlzKSxmdW5jdGlvbihlKXt0Lm1hdGNoTWVkaWE9dC5tYXRjaE1lZGlhfHxmdW5jdGlvbihlKXt2YXIgdCxpPWUuZG9jdW1lbnRFbGVtZW50LG49aS5maXJzdEVsZW1lbnRDaGlsZHx8aS5maXJzdENoaWxkLGE9ZS5jcmVhdGVFbGVtZW50KCJib2R5Iiksbz1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBvLmlkPSJtcS10ZXN0LTEiLG8uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7dG9wOi0xMDBlbSIsYS5zdHlsZS5iYWNrZ3JvdW5kPSJub25lIixhLmFwcGVuZENoaWxkKG8pLGZ1bmN0aW9uKGUpe3JldHVybiBvLmlubmVySFRNTD0nJnNoeTs8c3R5bGUgbWVkaWE9IicrZSsnIj4gI21xLXRlc3QtMSB7IHdpZHRoOiA0MnB4OyB9PC9zdHlsZT4nLGkuaW5zZXJ0QmVmb3JlKGEsbiksdD00Mj09PW8ub2Zmc2V0V2lkdGgsaS5yZW1vdmVDaGlsZChhKSx7bWF0Y2hlczp0LG1lZGlhOmV9fX0oaSksZS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQubWF0Y2hNZWRpYShlKS5tYXRjaGVzfX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9e3RvdWNoOiJvbnRvdWNoZW5kImluIGl9O2UubW9iaWxlLnN1cHBvcnQ9ZS5tb2JpbGUuc3VwcG9ydHx8e30sZS5leHRlbmQoZS5zdXBwb3J0LHQpLGUuZXh0ZW5kKGUubW9iaWxlLnN1cHBvcnQsdCl9KGUpLGZ1bmN0aW9uKGUpe2UuZXh0ZW5kKGUuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluIHQmJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIHR9KX0oZSksZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBhKGUpe3ZhciB0PWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSksaT0oZSsiICIrcC5qb2luKHQrIiAiKSt0KS5zcGxpdCgiICIpO2Zvcih2YXIgYSBpbiBpKWlmKHVbaVthXV0hPT1uKXJldHVybiEwfWZ1bmN0aW9uIG8oZSx0LG4pe2Zvcih2YXIgYSxvPWkuY3JlYXRlRWxlbWVudCgiZGl2Iikscz1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cigxKX0scj1mdW5jdGlvbihlKXtyZXR1cm4iIj09PWU/IiI6Ii0iK2UuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrZS5zdWJzdHIoMSkrIi0ifSxsPWZ1bmN0aW9uKGkpe3ZhciBuPXIoaSkrZSsiOiAiK3QrIjsiLGw9cyhpKSxkPWwrKCIiPT09bD9lOnMoZSkpO28uc2V0QXR0cmlidXRlKCJzdHlsZSIsbiksby5zdHlsZVtkXSYmKGE9ITApfSxkPW4/bjpwLGM9MDtkLmxlbmd0aD5jO2MrKylsKGRbY10pO3JldHVybiEhYX1mdW5jdGlvbiBzKCl7dmFyIGE9InRyYW5zZm9ybS0zZCIsbz1lLm1vYmlsZS5tZWRpYSgiKC0iK3Auam9pbigiLSIrYSsiKSwoLSIpKyItIithKyIpLCgiK2ErIikiKTtpZihvKXJldHVybiEhbzt2YXIgcz1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9e01velRyYW5zZm9ybToiLW1vei10cmFuc2Zvcm0iLHRyYW5zZm9ybToidHJhbnNmb3JtIn07aC5hcHBlbmQocyk7Zm9yKHZhciBsIGluIHIpcy5zdHlsZVtsXSE9PW4mJihzLnN0eWxlW2xdPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLG89dC5nZXRDb21wdXRlZFN0eWxlKHMpLmdldFByb3BlcnR5VmFsdWUocltsXSkpO3JldHVybiEhbyYmIm5vbmUiIT09b31mdW5jdGlvbiByKCl7dmFyIHQsaSxuPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsYT1lKCJoZWFkIGJhc2UiKSxvPW51bGwscz0iIjtyZXR1cm4gYS5sZW5ndGg/cz1hLmF0dHIoImhyZWYiKTphPW89ZSgiPGJhc2U+Iix7aHJlZjpufSkuYXBwZW5kVG8oImhlYWQiKSx0PWUoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKGgpLGk9dFswXS5ocmVmLGFbMF0uaHJlZj1zfHxsb2NhdGlvbi5wYXRobmFtZSxvJiZvLnJlbW92ZSgpLDA9PT1pLmluZGV4T2Yobil9ZnVuY3Rpb24gbCgpe3ZhciBlLG49aS5jcmVhdGVFbGVtZW50KCJ4IiksYT1pLmRvY3VtZW50RWxlbWVudCxvPXQuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBuLnN0eWxlPyhuLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLG4uc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsYS5hcHBlbmRDaGlsZChuKSxlPW8mJiJhdXRvIj09PW8obiwiIikucG9pbnRlckV2ZW50cyxhLnJlbW92ZUNoaWxkKG4pLCEhZSk6ITF9ZnVuY3Rpb24gZCgpe3ZhciBlPWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09bn1mdW5jdGlvbiBjKCl7dmFyIGU9dCxpPW5hdmlnYXRvci51c2VyQWdlbnQsbj1uYXZpZ2F0b3IucGxhdGZvcm0sYT1pLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxvPSEhYSYmYVsxXSxzPWkubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxyPSEhcyYmc1sxXSxsPWkubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksZD0hIWwmJmxbMV07cmV0dXJuKG4uaW5kZXhPZigiaVBob25lIik+LTF8fG4uaW5kZXhPZigiaVBhZCIpPi0xfHxuLmluZGV4T2YoImlQb2QiKT4tMSkmJm8mJjUzND5vfHxlLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGUub3BlcmFtaW5pKXx8bCYmNzQ1OD5kfHxpLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmbyYmNTMzPm98fHImJjY+cnx8InBhbG1HZXRSZXNvdXJjZSJpbiB0JiZvJiY1MzQ+b3x8aS5pbmRleE9mKCJNZWVHbyIpPi0xJiZpLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBoPWUoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLHU9aFswXS5zdHlsZSxwPVsiV2Via2l0IiwiTW96IiwiTyJdLG09InBhbG1HZXRSZXNvdXJjZSJpbiB0LGY9dC5vcGVyYSxnPXQub3BlcmFtaW5pJiYiW29iamVjdCBPcGVyYU1pbmldIj09PXt9LnRvU3RyaW5nLmNhbGwodC5vcGVyYW1pbmkpLGI9dC5ibGFja2JlcnJ5JiYhYSgiLXdlYmtpdC10cmFuc2Zvcm0iKTtlLmV4dGVuZChlLm1vYmlsZSx7YnJvd3Nlcjp7fX0pLGUubW9iaWxlLmJyb3dzZXIub2xkSUU9ZnVuY3Rpb24oKXt2YXIgZT0zLHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxuPXQuYWxsfHxbXTtkbyB0LmlubmVySFRNTD0iPCEtLVtpZiBndCBJRSAiKyArK2UrIl0+PGJyPjwhW2VuZGlmXS0tPiI7d2hpbGUoblswXSk7cmV0dXJuIGU+ND9lOiFlfSgpLGUuZXh0ZW5kKGUuc3VwcG9ydCx7Y3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiB0fHxvKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIsWyJXZWJraXQiLCJNb3oiLCIiXSkmJiFlLm1vYmlsZS5icm93c2VyLm9sZElFJiYhZixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnkmJiEodC5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKT49MCYmdC50b3AhPT10KSYmLTE9PT10Lm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9DcmlPUy8pLG1lZGlhcXVlcnk6ZS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWEoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhYSgib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpzKCksYm94U2hhZG93OiEhYSgiYm94U2hhZG93IikmJiFiLGZpeGVkUG9zaXRpb246YygpLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHR8fCJzY3JvbGxUb3AiaW4gaS5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gaFswXSkmJiFtJiYhZyxkeW5hbWljQmFzZVRhZzpyKCksY3NzUG9pbnRlckV2ZW50czpsKCksYm91bmRpbmdSZWN0OmQoKX0pLGgucmVtb3ZlKCk7dmFyIHY9ZnVuY3Rpb24oKXt2YXIgZT10Lm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGUuaW5kZXhPZigiTm9raWEiKT4tMSYmKGUuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGUuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmZS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZlLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7ZS5tb2JpbGUuZ3JhZGVBPWZ1bmN0aW9uKCl7cmV0dXJuKGUuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxlLm1vYmlsZS5icm93c2VyLm9sZElFJiZlLm1vYmlsZS5icm93c2VyLm9sZElFPj03KSYmKGUuc3VwcG9ydC5ib3VuZGluZ1JlY3R8fG51bGwhPT1lLmZuLmpxdWVyeS5tYXRjaCgvMVwuWzAtNytdXC5bMC05K10/LykpfSxlLm1vYmlsZS5hamF4QmxhY2tsaXN0PXQuYmxhY2tiZXJyeSYmIXQuV2ViS2l0UG9pbnR8fGd8fHYsdiYmZShmdW5jdGlvbigpe2UoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSksZS5zdXBwb3J0LmJveFNoYWRvd3x8ZSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfShlKSxmdW5jdGlvbihlLHQpe3ZhciBpLG49ZS5tb2JpbGUud2luZG93O2UuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZT1pPXtib3VuZDohMSxwdXNoU3RhdGVFbmFibGVkOiEwLG9yaWdpbmFsRXZlbnROYW1lOnQsaXNQdXNoU3RhdGVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3VwcG9ydC5wdXNoU3RhdGUmJmUubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQ9PT0hMCYmdGhpcy5pc0hhc2hDaGFuZ2VFbmFibGVkKCl9LGlzSGFzaENoYW5nZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ9PT0hMH0scG9wc3RhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bmV3IGUuRXZlbnQoIm5hdmlnYXRlIiksYT1uZXcgZS5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKSxvPXQub3JpZ2luYWxFdmVudC5zdGF0ZXx8e307bG9jYXRpb24uaHJlZixuLnRyaWdnZXIoYSksYS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQuaGlzdG9yeVN0YXRlJiZlLmV4dGVuZChvLHQuaGlzdG9yeVN0YXRlKSxpLm9yaWdpbmFsRXZlbnQ9dCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi50cmlnZ2VyKGkse3N0YXRlOm99KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBlLkV2ZW50KCJuYXZpZ2F0ZSIpLGE9bmV3IGUuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7bi50cmlnZ2VyKGEpLGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fChpLm9yaWdpbmFsRXZlbnQ9dCxuLnRyaWdnZXIoaSx7c3RhdGU6dC5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2kuYm91bmR8fChpLmJvdW5kPSEwLGkuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGkub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixuLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixpLnBvcHN0YXRlKSk6aS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihpLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixuLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGkuaGFzaGNoYW5nZSkpKX19fShlKSxmdW5jdGlvbihlLGkpe3ZhciBuLGEsbz0iJnVpLXN0YXRlPWRpYWxvZyI7ZS5tb2JpbGUucGF0aD1uPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lP3RoaXMucGFyc2VVcmwoZSk6bG9jYXRpb24saT10aGlzLnBhcnNlVXJsKGV8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGk9IiMiPT09aT8iIjppLHQucHJvdG9jb2wrIi8vIit0Lmhvc3QrdC5wYXRobmFtZSt0LnNlYXJjaCtpfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PT1lLnR5cGUodCkpcmV0dXJuIHQ7dmFyIGk9bi51cmxQYXJzZVJFLmV4ZWModHx8IiIpfHxbXTtyZXR1cm57aHJlZjppWzBdfHwiIixocmVmTm9IYXNoOmlbMV18fCIiLGhyZWZOb1NlYXJjaDppWzJdfHwiIixkb21haW46aVszXXx8IiIscHJvdG9jb2w6aVs0XXx8IiIsZG91YmxlU2xhc2g6aVs1XXx8IiIsYXV0aG9yaXR5OmlbNl18fCIiLHVzZXJuYW1lOmlbOF18fCIiLHBhc3N3b3JkOmlbOV18fCIiLGhvc3Q6aVsxMF18fCIiLGhvc3RuYW1lOmlbMTFdfHwiIixwb3J0OmlbMTJdfHwiIixwYXRobmFtZTppWzEzXXx8IiIsZGlyZWN0b3J5OmlbMTRdfHwiIixmaWxlbmFtZTppWzE1XXx8IiIsc2VhcmNoOmlbMTZdfHwiIixoYXNoOmlbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oZSx0KXtpZihlJiYiLyI9PT1lLmNoYXJBdCgwKSlyZXR1cm4gZTtlPWV8fCIiLHQ9dD90LnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiI7Zm9yKHZhciBpPXQ/dC5zcGxpdCgiLyIpOltdLG49ZS5zcGxpdCgiLyIpLGE9MDtuLmxlbmd0aD5hO2ErKyl7dmFyIG89blthXTtzd2l0Y2gobyl7Y2FzZSIuIjpicmVhaztjYXNlIi4uIjppLmxlbmd0aCYmaS5wb3AoKTticmVhaztkZWZhdWx0OmkucHVzaChvKX19cmV0dXJuIi8iK2kuam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5wYXJzZVVybChlKS5kb21haW49PT1uLnBhcnNlVXJsKHQpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihlKXtyZXR1cm4iIj09PW4ucGFyc2VVcmwoZSkucHJvdG9jb2x9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1uLnBhcnNlVXJsKGUpLnByb3RvY29sfSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oZSx0KXtpZighbi5pc1JlbGF0aXZlVXJsKGUpKXJldHVybiBlO3Q9PT1pJiYodD10aGlzLmRvY3VtZW50QmFzZSk7dmFyIGE9bi5wYXJzZVVybChlKSxvPW4ucGFyc2VVcmwodCkscz1hLnByb3RvY29sfHxvLnByb3RvY29sLHI9YS5wcm90b2NvbD9hLmRvdWJsZVNsYXNoOmEuZG91YmxlU2xhc2h8fG8uZG91YmxlU2xhc2gsbD1hLmF1dGhvcml0eXx8by5hdXRob3JpdHksZD0iIiE9PWEucGF0aG5hbWUsYz1uLm1ha2VQYXRoQWJzb2x1dGUoYS5wYXRobmFtZXx8by5maWxlbmFtZSxvLnBhdGhuYW1lKSxoPWEuc2VhcmNofHwhZCYmby5zZWFyY2h8fCIiLHU9YS5oYXNoO3JldHVybiBzK3IrbCtjK2grdX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKHQsaSl7dmFyIGE9bi5wYXJzZVVybCh0KSxvPSJvYmplY3QiPT10eXBlb2YgaT9lLnBhcmFtKGkpOmkscz1hLnNlYXJjaHx8Ij8iO3JldHVybiBhLmhyZWZOb1NlYXJjaCtzKygiPyIhPT1zLmNoYXJBdChzLmxlbmd0aC0xKT8iJiI6IiIpK28rKGEuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGUpe3ZhciBpPW4ucGFyc2VVcmwoZSk7cmV0dXJuIG4uaXNFbWJlZGRlZFBhZ2UoaSk/aS5oYXNoLnNwbGl0KG8pWzBdLnJlcGxhY2UoL14jLywiIikucmVwbGFjZSgvXD8uKiQvLCIiKTpuLmlzU2FtZURvbWFpbihpLHRoaXMuZG9jdW1lbnRCYXNlKT9pLmhyZWZOb0hhc2gucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpLnNwbGl0KG8pWzBdOnQuZGVjb2RlVVJJQ29tcG9uZW50KGUpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pJiYoZT1uLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxuLnN0cmlwSGFzaChlKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LHNldDpmdW5jdGlvbihlKXtsb2NhdGlvbi5oYXNoPWV9LGlzUGF0aDpmdW5jdGlvbihlKXtyZXR1cm4vXC8vLnRlc3QoZSl9LGNsZWFuOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL14jLywiIil9LHN0cmlwUXVlcnlQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXD8uKiQvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGUpe3JldHVybiBuLnN0cmlwSGFzaChlLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShvLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybi9eI1teI10rJC8udGVzdChlKX0saXNFeHRlcm5hbDpmdW5jdGlvbihlKXt2YXIgdD1uLnBhcnNlVXJsKGUpO3JldHVybiB0LnByb3RvY29sJiZ0LmRvbWFpbiE9PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihlKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGUpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihlKXt2YXIgdD1uLnBhcnNlVXJsKGUpO3JldHVybiIiIT09dC5wcm90b2NvbD8hdGhpcy5pc1BhdGgodC5oYXNoKSYmdC5oYXNoJiYodC5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJnQuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gpOi9eIy8udGVzdCh0LmhyZWYpfSxzcXVhc2g6ZnVuY3Rpb24oZSx0KXt2YXIgaSxhLG8scyxyPXRoaXMuaXNQYXRoKGUpLGw9dGhpcy5wYXJzZVVybChlKSxkPWwuaGFzaCxjPSIiO3JldHVybiB0PXR8fChuLmlzUGF0aChlKT9uLmdldExvY2F0aW9uKCk6bi5nZXREb2N1bWVudFVybCgpKSxhPXI/bi5zdHJpcEhhc2goZSk6ZSxhPW4uaXNQYXRoKGwuaGFzaCk/bi5zdHJpcEhhc2gobC5oYXNoKTphLHM9YS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkscz4tMSYmKGM9YS5zbGljZShzKSxhPWEuc2xpY2UoMCxzKSksaT1uLm1ha2VVcmxBYnNvbHV0ZShhLHQpLG89dGhpcy5wYXJzZVVybChpKS5zZWFyY2gscj8oKG4uaXNQYXRoKGQpfHwwPT09ZC5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpKSYmKGQ9IiIpLGMmJi0xPT09ZC5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkmJihkKz1jKSwtMT09PWQuaW5kZXhPZigiIyIpJiYiIiE9PWQmJihkPSIjIitkKSxpPW4ucGFyc2VVcmwoaSksaT1pLnByb3RvY29sKyIvLyIraS5ob3N0K2kucGF0aG5hbWUrbytkKTppKz1pLmluZGV4T2YoIiMiKT4tMT9jOiIjIitjLGl9LGlzUHJlc2VydmFibGVIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpfX0sbi5kb2N1bWVudFVybD1uLnBhcnNlTG9jYXRpb24oKSxhPWUoImhlYWQiKS5maW5kKCJiYXNlIiksbi5kb2N1bWVudEJhc2U9YS5sZW5ndGg/bi5wYXJzZVVybChuLm1ha2VVcmxBYnNvbHV0ZShhLmF0dHIoImhyZWYiKSxuLmRvY3VtZW50VXJsLmhyZWYpKTpuLmRvY3VtZW50VXJsLG4uZG9jdW1lbnRCYXNlRGlmZmVycz1uLmRvY3VtZW50VXJsLmhyZWZOb0hhc2ghPT1uLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLG4uZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ZS5leHRlbmQoe30sbi5kb2N1bWVudFVybCk6bi5kb2N1bWVudFVybC5ocmVmfSxuLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gdD9lLmV4dGVuZCh7fSxuLmRvY3VtZW50QmFzZSk6bi5kb2N1bWVudEJhc2UuaHJlZn19KGUpLGZ1bmN0aW9uKGUsdCl7ZS5tb2JpbGUucGF0aCxlLm1vYmlsZS5IaXN0b3J5PWZ1bmN0aW9uKGUsdCl7dGhpcy5zdGFjaz1lfHxbXSx0aGlzLmFjdGl2ZUluZGV4PXR8fDB9LGUuZXh0ZW5kKGUubW9iaWxlLkhpc3RvcnkucHJvdG90eXBlLHtnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4XX0sZ2V0TGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMucHJldmlvdXNJbmRleF19LGdldE5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4KzFdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleC0xXX0sYWRkOmZ1bmN0aW9uKGUsdCl7dD10fHx7fSx0aGlzLmdldE5leHQoKSYmdGhpcy5jbGVhckZvcndhcmQoKSx0Lmhhc2gmJi0xPT09dC5oYXNoLmluZGV4T2YoIiMiKSYmKHQuaGFzaD0iIyIrdC5oYXNoKSx0LnVybD1lLHRoaXMuc3RhY2sucHVzaCh0KSx0aGlzLmFjdGl2ZUluZGV4PXRoaXMuc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe3RoaXMuc3RhY2s9dGhpcy5zdGFjay5zbGljZSgwLHRoaXMuYWN0aXZlSW5kZXgrMSl9LGZpbmQ6ZnVuY3Rpb24oZSx0LGkpe3Q9dHx8dGhpcy5zdGFjazt2YXIgbixhLG8scz10Lmxlbmd0aDtmb3IoYT0wO3M+YTthKyspaWYobj10W2FdLChkZWNvZGVVUklDb21wb25lbnQoZSk9PT1kZWNvZGVVUklDb21wb25lbnQobi51cmwpfHxkZWNvZGVVUklDb21wb25lbnQoZSk9PT1kZWNvZGVVUklDb21wb25lbnQobi5oYXNoKSkmJihvPWEsaSkpcmV0dXJuIG87cmV0dXJuIG99LGNsb3Nlc3Q6ZnVuY3Rpb24oZSl7dmFyIGksbj10aGlzLmFjdGl2ZUluZGV4O3JldHVybiBpPXRoaXMuZmluZChlLHRoaXMuc3RhY2suc2xpY2UoMCxuKSksaT09PXQmJihpPXRoaXMuZmluZChlLHRoaXMuc3RhY2suc2xpY2UobiksITApLGk9aT09PXQ/aTppK24pLGl9LGRpcmVjdDpmdW5jdGlvbihpKXt2YXIgbj10aGlzLmNsb3Nlc3QoaS51cmwpLGE9dGhpcy5hY3RpdmVJbmRleDtuIT09dCYmKHRoaXMuYWN0aXZlSW5kZXg9bix0aGlzLnByZXZpb3VzSW5kZXg9YSksYT5uPyhpLnByZXNlbnR8fGkuYmFja3x8ZS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJiYWNrIik6bj5hPyhpLnByZXNlbnR8fGkuZm9yd2FyZHx8ZS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJmb3J3YXJkIik6bj09PXQmJmkubWlzc2luZyYmaS5taXNzaW5nKHRoaXMuZ2V0QWN0aXZlKCkpfX0pfShlKSxmdW5jdGlvbihlKXt2YXIgYT1lLm1vYmlsZS5wYXRoLG89bG9jYXRpb24uaHJlZjtlLm1vYmlsZS5OYXZpZ2F0b3I9ZnVuY3Rpb24odCl7dGhpcy5oaXN0b3J5PXQsdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMCxlLm1vYmlsZS53aW5kb3cuYmluZCh7InBvcHN0YXRlLmhpc3RvcnkiOmUucHJveHkodGhpcy5wb3BzdGF0ZSx0aGlzKSwiaGFzaGNoYW5nZS5oaXN0b3J5IjplLnByb3h5KHRoaXMuaGFzaGNoYW5nZSx0aGlzKX0pfSxlLmV4dGVuZChlLm1vYmlsZS5OYXZpZ2F0b3IucHJvdG90eXBlLHtzcXVhc2g6ZnVuY3Rpb24obixvKXt2YXIgcyxyLGw9YS5pc1BhdGgobik/YS5zdHJpcEhhc2gobik6bjtyZXR1cm4gcj1hLnNxdWFzaChuKSxzPWUuZXh0ZW5kKHtoYXNoOmwsdXJsOnJ9LG8pLHQuaGlzdG9yeS5yZXBsYWNlU3RhdGUocyxzLnRpdGxlfHxpLnRpdGxlLHIpLHN9LGhhc2g6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLG87aWYoaT1hLnBhcnNlVXJsKGUpLG49YS5wYXJzZUxvY2F0aW9uKCksbi5wYXRobmFtZStuLnNlYXJjaD09PWkucGF0aG5hbWUraS5zZWFyY2gpbz1pLmhhc2g/aS5oYXNoOmkucGF0aG5hbWUraS5zZWFyY2g7ZWxzZSBpZihhLmlzUGF0aChlKSl7dmFyIHM9YS5wYXJzZVVybCh0KTtvPXMucGF0aG5hbWUrcy5zZWFyY2grKGEuaXNQcmVzZXJ2YWJsZUhhc2gocy5oYXNoKT9zLmhhc2gucmVwbGFjZSgiIyIsIiIpOiIiKX1lbHNlIG89ZTtyZXR1cm4gb30sZ286ZnVuY3Rpb24obixvLHMpe3ZhciByLGwsZCxjLGg9ZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2w9YS5zcXVhc2gobiksZD10aGlzLmhhc2gobixsKSxzJiZkIT09YS5zdHJpcEhhc2goYS5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1zKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsdC5sb2NhdGlvbi5oYXNoPWQsdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLHI9ZS5leHRlbmQoe3VybDpsLGhhc2g6ZCx0aXRsZTppLnRpdGxlfSxvKSxoJiYoYz1uZXcgZS5FdmVudCgicG9wc3RhdGUiKSxjLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChuLHIpLHN8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGUubW9iaWxlLndpbmRvdy50cmlnZ2VyKGMpKSksdGhpcy5oaXN0b3J5LmFkZChyLnVybCxyKX0scG9wc3RhdGU6ZnVuY3Rpb24odCl7dmFyIGkscztpZihlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpcmV0dXJuIHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT8odGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksbik6dGhpcy5pZ25vcmVQb3BTdGF0ZT8odGhpcy5pZ25vcmVQb3BTdGF0ZT0hMSxuKTohdC5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PW8pPyh0LnByZXZlbnREZWZhdWx0KCksbik6KGk9YS5wYXJzZUxvY2F0aW9uKCkuaGFzaCwhdC5vcmlnaW5hbEV2ZW50LnN0YXRlJiZpPyhzPXRoaXMuc3F1YXNoKGkpLHRoaXMuaGlzdG9yeS5hZGQocy51cmwscyksdC5oaXN0b3J5U3RhdGU9cyxuKToodGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOih0Lm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGkscHJlc2VudDpmdW5jdGlvbihpLG4pe3QuaGlzdG9yeVN0YXRlPWUuZXh0ZW5kKHt9LGkpLHQuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1ufX0pLG4pKX0saGFzaGNoYW5nZTpmdW5jdGlvbih0KXt2YXIgbyxzO2lmKGUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJiFlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpe2lmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlKXJldHVybiB0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT0hMSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG47bz10aGlzLmhpc3Rvcnkscz1hLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpzLHByZXNlbnQ6ZnVuY3Rpb24oaSxuKXt0Lmhhc2hjaGFuZ2VTdGF0ZT1lLmV4dGVuZCh7fSxpKSx0Lmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249bn0sbWlzc2luZzpmdW5jdGlvbigpe28uYWRkKHMse2hhc2g6cyx0aXRsZTppLnRpdGxlfSl9fSl9fX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbih0LGksbil7ZS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKHQsaSxuKX0sZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgZS5tb2JpbGUuSGlzdG9yeSxlLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGUubW9iaWxlLk5hdmlnYXRvcihlLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgdD1lLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTtlLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZCh0LmhyZWYse2hhc2g6dC5oYXNofSl9KGUpLGZ1bmN0aW9uKGUsdCxpLG4pe2Z1bmN0aW9uIGEoZSl7Zm9yKDtlJiZlLm9yaWdpbmFsRXZlbnQhPT1uOyllPWUub3JpZ2luYWxFdmVudDtyZXR1cm4gZX1mdW5jdGlvbiBvKHQsaSl7dmFyIG8scyxyLGwsZCxjLGgsdSxwLG09dC50eXBlO2lmKHQ9ZS5FdmVudCh0KSx0LnR5cGU9aSxvPXQub3JpZ2luYWxFdmVudCxzPWUuZXZlbnQucHJvcHMsbS5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJihzPXEpLG8pZm9yKGg9cy5sZW5ndGgsbDtoOylsPXNbLS1oXSx0W2xdPW9bbF07aWYobS5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiF0LndoaWNoJiYodC53aGljaD0xKSwtMSE9PW0uc2VhcmNoKC9edG91Y2gvKSYmKHI9YShvKSxtPXIudG91Y2hlcyxkPXIuY2hhbmdlZFRvdWNoZXMsYz1tJiZtLmxlbmd0aD9tWzBdOmQmJmQubGVuZ3RoP2RbMF06bikpZm9yKHU9MCxwPWsubGVuZ3RoO3A+dTt1KyspbD1rW3VdLHRbbF09Y1tsXTtyZXR1cm4gdH1mdW5jdGlvbiBzKHQpe2Zvcih2YXIgaSxuLGE9e307dDspe2k9ZS5kYXRhKHQsVCk7Zm9yKG4gaW4gaSlpW25dJiYoYVtuXT1hLmhhc1ZpcnR1YWxCaW5kaW5nPSEwKTt0PXQucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiByKHQsaSl7Zm9yKHZhciBuO3Q7KXtpZihuPWUuZGF0YSh0LFQpLG4mJighaXx8bltpXSkpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbCgpe009ITF9ZnVuY3Rpb24gZCgpe009ITB9ZnVuY3Rpb24gYygpe1U9MCxPLmxlbmd0aD0wLEg9ITEsZCgpfWZ1bmN0aW9uIGgoKXtsKCl9ZnVuY3Rpb24gdSgpe3AoKSxTPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtTPTAsYygpfSxlLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIHAoKXtTJiYoY2xlYXJUaW1lb3V0KFMpLFM9MCl9ZnVuY3Rpb24gbSh0LGksbil7dmFyIGE7cmV0dXJuKG4mJm5bdF18fCFuJiZyKGkudGFyZ2V0LHQpKSYmKGE9byhpLHQpLGUoaS50YXJnZXQpLnRyaWdnZXIoYSkpLGF9ZnVuY3Rpb24gZih0KXt2YXIgaT1lLmRhdGEodC50YXJnZXQsRCk7aWYoIShIfHxVJiZVPT09aSkpe3ZhciBuPW0oInYiK3QudHlwZSx0KTtuJiYobi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmdC5wcmV2ZW50RGVmYXVsdCgpLG4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmdC5zdG9wUHJvcGFnYXRpb24oKSxuLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX1mdW5jdGlvbiBnKHQpe3ZhciBpLG4sbz1hKHQpLnRvdWNoZXM7aWYobyYmMT09PW8ubGVuZ3RoJiYoaT10LnRhcmdldCxuPXMoaSksbi5oYXNWaXJ0dWFsQmluZGluZykpe1U9TCsrLGUuZGF0YShpLEQsVSkscCgpLGgoKSxJPSExO3ZhciByPWEodCkudG91Y2hlc1swXTtBPXIucGFnZVgsTj1yLnBhZ2VZLG0oInZtb3VzZW92ZXIiLHQsbiksbSgidm1vdXNlZG93biIsdCxuKX19ZnVuY3Rpb24gYihlKXtNfHwoSXx8bSgidm1vdXNlY2FuY2VsIixlLHMoZS50YXJnZXQpKSxJPSEwLHUoKSl9ZnVuY3Rpb24gdih0KXtpZighTSl7dmFyIGk9YSh0KS50b3VjaGVzWzBdLG49SSxvPWUudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxyPXModC50YXJnZXQpO0k9SXx8TWF0aC5hYnMoaS5wYWdlWC1BKT5vfHxNYXRoLmFicyhpLnBhZ2VZLU4pPm8sSSYmIW4mJm0oInZtb3VzZWNhbmNlbCIsdCxyKSxtKCJ2bW91c2Vtb3ZlIix0LHIpLHUoKX19ZnVuY3Rpb24gXyhlKXtpZighTSl7ZCgpO3ZhciB0LGk9cyhlLnRhcmdldCk7aWYobSgidm1vdXNldXAiLGUsaSksIUkpe3ZhciBuPW0oInZjbGljayIsZSxpKTtuJiZuLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1hKGUpLmNoYW5nZWRUb3VjaGVzWzBdLE8ucHVzaCh7dG91Y2hJRDpVLHg6dC5jbGllbnRYLHk6dC5jbGllbnRZfSksSD0hMCl9bSgidm1vdXNlb3V0IixlLGkpLEk9ITEsdSgpfX1mdW5jdGlvbiBDKHQpe3ZhciBpLG49ZS5kYXRhKHQsVCk7aWYobilmb3IoaSBpbiBuKWlmKG5baV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24geCgpe31mdW5jdGlvbiB5KHQpe3ZhciBpPXQuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe0ModGhpcyl8fGUuZGF0YSh0aGlzLFQse30pO3ZhciBuPWUuZGF0YSh0aGlzLFQpO25bdF09ITAsalt0XT0oalt0XXx8MCkrMSwxPT09alt0XSYmQi5iaW5kKGksZiksZSh0aGlzKS5iaW5kKGkseCksRiYmKGoudG91Y2hzdGFydD0oai50b3VjaHN0YXJ0fHwwKSsxLDE9PT1qLnRvdWNoc3RhcnQmJkIuYmluZCgidG91Y2hzdGFydCIsZykuYmluZCgidG91Y2hlbmQiLF8pLmJpbmQoInRvdWNobW92ZSIsdikuYmluZCgic2Nyb2xsIixiKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1qW3RdLGpbdF18fEIudW5iaW5kKGksZiksRiYmKC0tai50b3VjaHN0YXJ0LGoudG91Y2hzdGFydHx8Qi51bmJpbmQoInRvdWNoc3RhcnQiLGcpLnVuYmluZCgidG91Y2htb3ZlIix2KS51bmJpbmQoInRvdWNoZW5kIixfKS51bmJpbmQoInNjcm9sbCIsYikpO3ZhciBuPWUodGhpcyksYT1lLmRhdGEodGhpcyxUKTthJiYoYVt0XT0hMSksbi51bmJpbmQoaSx4KSxDKHRoaXMpfHxuLnJlbW92ZURhdGEoVCl9fX12YXIgdyxUPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsRD0idmlydHVhbFRvdWNoSUQiLFA9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLGs9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksRT1lLmV2ZW50Lm1vdXNlSG9va3M/ZS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLHE9ZS5ldmVudC5wcm9wcy5jb25jYXQoRSksaj17fSxTPTAsQT0wLE49MCxJPSExLE89W10sSD0hMSxNPSExLEY9ImFkZEV2ZW50TGlzdGVuZXIiaW4gaSxCPWUoaSksTD0xLFU9MDtlLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAscmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgej0wO1AubGVuZ3RoPno7eisrKWUuZXZlbnQuc3BlY2lhbFtQW3pdXT15KFBbel0pO0YmJmkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBpLGEsbyxzLHIsbCxkPU8ubGVuZ3RoLGM9dC50YXJnZXQ7aWYoZClmb3IoaT10LmNsaWVudFgsYT10LmNsaWVudFksdz1lLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLG89YztvOyl7Zm9yKHM9MDtkPnM7cysrKWlmKHI9T1tzXSxsPTAsbz09PWMmJnc+TWF0aC5hYnMoci54LWkpJiZ3Pk1hdGguYWJzKHIueS1hKXx8ZS5kYXRhKG8sRCk9PT1yLnRvdWNoSUQpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLG47bz1vLnBhcmVudE5vZGV9fSwhMCl9KGUsdCxpKSxmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gYSh0LGksbil7dmFyIGE9bi50eXBlO24udHlwZT1pLGUuZXZlbnQuZGlzcGF0Y2guY2FsbCh0LG4pLG4udHlwZT1hfXZhciBvPWUoaSk7ZS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsaSl7ZS5mbltpXT1mdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLmJpbmQoaSxlKTp0aGlzLnRyaWdnZXIoaSl9LGUuYXR0ckZuJiYoZS5hdHRyRm5baV09ITApfSk7dmFyIHM9ZS5tb2JpbGUuc3VwcG9ydC50b3VjaCxyPSJ0b3VjaG1vdmUgc2Nyb2xsIixsPXM/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGQ9cz8idG91Y2hlbmQiOiJtb3VzZXVwIixjPXM/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQpe2k9dCxhKG8saT8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixlKX12YXIgaSxuLG89dGhpcyxzPWUobyk7cy5iaW5kKHIsZnVuY3Rpb24oYSl7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihpfHx0KGEsITApLGNsZWFyVGltZW91dChuKSxuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGEsITEpfSw1MCkpfSl9fSxlLmV2ZW50LnNwZWNpYWwudGFwPXt0YXBob2xkVGhyZXNob2xkOjc1MCxzZXR1cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1lKHQpO2kuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24obil7ZnVuY3Rpb24gcygpe2NsZWFyVGltZW91dChkKX1mdW5jdGlvbiByKCl7cygpLGkudW5iaW5kKCJ2Y2xpY2siLGwpLnVuYmluZCgidm1vdXNldXAiLHMpLG8udW5iaW5kKCJ2bW91c2VjYW5jZWwiLHIpfWZ1bmN0aW9uIGwoZSl7cigpLGM9PT1lLnRhcmdldCYmYSh0LCJ0YXAiLGUpfWlmKG4ud2hpY2gmJjEhPT1uLndoaWNoKXJldHVybiExO3ZhciBkLGM9bi50YXJnZXQ7bi5vcmlnaW5hbEV2ZW50LGkuYmluZCgidm1vdXNldXAiLHMpLmJpbmQoInZjbGljayIsbCksby5iaW5kKCJ2bW91c2VjYW5jZWwiLHIpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EodCwidGFwaG9sZCIsZS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpjfSkpCn0sZS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfX0sZS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzdGFydDpmdW5jdGlvbih0KXt2YXIgaT10Lm9yaWdpbmFsRXZlbnQudG91Y2hlcz90Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTp0O3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbaS5wYWdlWCxpLnBhZ2VZXSxvcmlnaW46ZSh0LnRhcmdldCl9fSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PWUub3JpZ2luYWxFdmVudC50b3VjaGVzP2Uub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmU7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOlt0LnBhZ2VYLHQucGFnZVldfX0saGFuZGxlU3dpcGU6ZnVuY3Rpb24odCxpKXtpLnRpbWUtdC50aW1lPGUuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnModC5jb29yZHNbMF0taS5jb29yZHNbMF0pPmUuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKHQuY29vcmRzWzFdLWkuY29vcmRzWzFdKTxlLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCYmdC5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKHQuY29vcmRzWzBdPmkuY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iil9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPWUodCk7aS5iaW5kKGwsZnVuY3Rpb24odCl7ZnVuY3Rpb24gYSh0KXtzJiYobz1lLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RvcCh0KSxNYXRoLmFicyhzLmNvb3Jkc1swXS1vLmNvb3Jkc1swXSk+ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJnQucHJldmVudERlZmF1bHQoKSl9dmFyIG8scz1lLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RhcnQodCk7aS5iaW5kKGMsYSkub25lKGQsZnVuY3Rpb24oKXtpLnVuYmluZChjLGEpLHMmJm8mJmUuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShzLG8pLHM9bz1ufSl9KX19LGUuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbih0LGkpe2UuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXtlKHRoaXMpLmJpbmQoaSxlLm5vb3ApfX19KX0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2UodGhpcykuYmluZCgicmVzaXplIixvKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtlKHRoaXMpLnVuYmluZCgicmVzaXplIixvKX19O3ZhciB0LGksbixhPTI1MCxvPWZ1bmN0aW9uKCl7aT0obmV3IERhdGUpLmdldFRpbWUoKSxuPWktcyxuPj1hPyhzPWksZSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KHQmJmNsZWFyVGltZW91dCh0KSx0PXNldFRpbWVvdXQobyxhLW4pKX0scz0wfShlKSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGEoKXt2YXIgZT1vKCk7ZSE9PXMmJihzPWUsZC50cmlnZ2VyKGMpKX12YXIgbyxzLHIsbCxkPWUodCksYz0ib3JpZW50YXRpb25jaGFuZ2UiLGg9ezA6ITAsMTgwOiEwfTtpZihlLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciB1PXQuaW5uZXJXaWR0aHx8ZC53aWR0aCgpLHA9dC5pbm5lckhlaWdodHx8ZC5oZWlnaHQoKSxtPTUwO3I9dT5wJiZ1LXA+bSxsPWhbdC5vcmllbnRhdGlvbl0sKHImJmx8fCFyJiYhbCkmJihoPXsiLTkwIjohMCw5MDohMH0pfWUuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT1lLmV4dGVuZCh7fSxlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Use3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWUuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZD8hMToocz1vKCksZC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEpLG4pfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBlLnN1cHBvcnQub3JpZW50YXRpb24mJiFlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KGQudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEpLG4pfSxhZGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5oYW5kbGVyO2UuaGFuZGxlcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5vcmllbnRhdGlvbj1vKCksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGUuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1vPWZ1bmN0aW9uKCl7dmFyIG49ITAsYT1pLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gbj1lLnN1cHBvcnQub3JpZW50YXRpb24/aFt0Lm9yaWVudGF0aW9uXTphJiYxLjE+YS5jbGllbnRXaWR0aC9hLmNsaWVudEhlaWdodCxuPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9LGUuZm5bY109ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKGMsZSk6dGhpcy50cmlnZ2VyKGMpfSxlLmF0dHJGbiYmKGUuYXR0ckZuW2NdPSEwKX0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnBhZ2UiLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGRvbUNhY2hlOiExLGtlZXBOYXRpdmVEZWZhdWx0OiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMT8hMToodGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuX29uKHRoaXMuZWxlbWVudCx7cGFnZWJlZm9yZWhpZGU6InJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiLHBhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3cifSksbil9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0Q29udGFpbmVyQmFja2dyb3VuZCgpfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7ZS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2UubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy50aGVtZSYmZS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyh0fHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGk9dC5rZWVwTmF0aXZlJiZlLnRyaW0odC5rZWVwTmF0aXZlKTtyZXR1cm4gaSYmdC5rZWVwTmF0aXZlIT09dC5rZWVwTmF0aXZlRGVmYXVsdD9bdC5rZWVwTmF0aXZlLHQua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6dC5rZWVwTmF0aXZlRGVmYXVsdH19KX0oZSksZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWZ1bmN0aW9uKG4pe3JldHVybiBuPT09aSYmKG49ITApLGZ1bmN0aW9uKGksYSxvLHMpe3ZhciByPW5ldyBlLkRlZmVycmVkLGw9YT8iIHJldmVyc2UiOiIiLGQ9ZS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxjPWQubGFzdFNjcm9sbHx8ZS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsaD1lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSx1PWUubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZlLm1vYmlsZS53aW5kb3cud2lkdGgoKT5lLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGgscD0hZS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHx1fHwhaXx8Im5vbmUiPT09aXx8TWF0aC5tYXgoZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLGMpPmUubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSxtPSIgdWktcGFnZS1wcmUtaW4iLGY9ZnVuY3Rpb24oKXtlLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2kpfSxnPWZ1bmN0aW9uKCl7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsdC5zY3JvbGxUbygwLGMpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sYj1mdW5jdGlvbigpe3MucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIitpKS5oZWlnaHQoIiIpfSx2PWZ1bmN0aW9uKCl7bj9zLmFuaW1hdGlvbkNvbXBsZXRlKF8pOl8oKSxzLmhlaWdodChoK2UubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoaSsiIG91dCIrbCl9LF89ZnVuY3Rpb24oKXtzJiZuJiZiKCksQygpfSxDPWZ1bmN0aW9uKCl7by5jc3MoInotaW5kZXgiLC0xMCksby5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrbSksZS5tb2JpbGUuZm9jdXNQYWdlKG8pLG8uaGVpZ2h0KGgrYyksZygpLG8uY3NzKCJ6LWluZGV4IiwiIikscHx8by5hbmltYXRpb25Db21wbGV0ZSh4KSxvLnJlbW92ZUNsYXNzKG0pLmFkZENsYXNzKGkrIiBpbiIrbCkscCYmeCgpfSx4PWZ1bmN0aW9uKCl7bnx8cyYmYigpLG8ucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIraSkuaGVpZ2h0KCIiKSxmKCksZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09YyYmZygpLHIucmVzb2x2ZShpLGEsbyxzLCEwKX07cmV0dXJuIGYoKSxzJiYhcD92KCk6XygpLHIucHJvbWlzZSgpfX0sYT1uKCksbz1uKCExKSxzPWZ1bmN0aW9uKCl7cmV0dXJuIDMqZS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCl9O2UubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLGUubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17ImRlZmF1bHQiOmUubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzZXF1ZW50aWFsOmEsc2ltdWx0YW5lb3VzOm99LGUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sZS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiFlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbdF0mJih0PWUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbdF0pLHR9LGUubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249ZS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8c30oZSx0aGlzKSxmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGEodCl7IWZ8fGYuY2xvc2VzdCgiLiIrZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiF0fHxmLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxmPW51bGx9ZnVuY3Rpb24gbygpe189ITEsdi5sZW5ndGg+MCYmZS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHYucG9wKCkpfWZ1bmN0aW9uIHModCxpLG4sYSl7aSYmaS5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTp0fSksdC5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTppfHxlKCIiKX0pLGUubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLG49ZS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24obik7dmFyIG89ZS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW258fCJkZWZhdWx0Il18fGUubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzPW8obixhLHQsaSk7cmV0dXJuIHMuZG9uZShmdW5jdGlvbigpe2kmJmkuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiaGlkZSIsbnVsbCx7bmV4dFBhZ2U6dH0pLHQuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6aXx8ZSgiIil9KX0pLHN9ZnVuY3Rpb24gcih0LGkpe2kmJnQuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlIixpKSx0LnBhZ2UoKX1mdW5jdGlvbiBsKCl7dmFyIHQ9ZS5tb2JpbGUuYWN0aXZlUGFnZSYmYyhlLm1vYmlsZS5hY3RpdmVQYWdlKTtyZXR1cm4gdHx8dy5ocmVmTm9IYXNofWZ1bmN0aW9uIGQoZSl7Zm9yKDtlJiYoInN0cmluZyIhPXR5cGVvZiBlLm5vZGVOYW1lfHwiYSIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZX1mdW5jdGlvbiBjKHQpe3ZhciBpPWUodCkuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxuPXcuaHJlZk5vSGFzaDtyZXR1cm4gaSYmcC5pc1BhdGgoaSl8fChpPW4pLHAubWFrZVVybEFic29sdXRlKGksbil9dmFyIGg9ZS5tb2JpbGUud2luZG93LHU9KGUoImh0bWwiKSxlKCJoZWFkIikpLHA9ZS5leHRlbmQoZS5tb2JpbGUucGF0aCx7Z2V0RmlsZVBhdGg6ZnVuY3Rpb24odCl7dmFyIGk9IiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIHQmJnQuc3BsaXQoaSlbMF0uc3BsaXQoQylbMF19LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKHQpe3ZhciBpPXAucGFyc2VVcmwocC5tYWtlVXJsQWJzb2x1dGUodCx0aGlzLmRvY3VtZW50QmFzZSkpLGE9aS5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmkuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsbz1lLm1vYmlsZS5maXJzdFBhZ2Uscz1vJiZvWzBdP29bMF0uaWQ6bjtyZXR1cm4gYSYmKCFpLmhhc2h8fCIjIj09PWkuaGFzaHx8cyYmaS5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1zKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYiZmlsZToiPT09dC5wcm90b2NvbCYmLTEhPT1pLnNlYXJjaCgvXmh0dHBzPzovKX19KSxtPW51bGwsZj1udWxsLGc9ZS5EZWZlcnJlZCgpLGI9ZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSx2PVtdLF89ITEsQz0iJnVpLXN0YXRlPWRpYWxvZyIseD11LmNoaWxkcmVuKCJiYXNlIikseT1wLmRvY3VtZW50VXJsLHc9cC5kb2N1bWVudEJhc2UsVD0ocC5kb2N1bWVudEJhc2VEaWZmZXJzLGUubW9iaWxlLmdldFNjcmVlbkhlaWdodCksRD1lLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWc/e2VsZW1lbnQ6eC5sZW5ndGg/eDplKCI8YmFzZT4iLHtocmVmOncuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyh1KSxzZXQ6ZnVuY3Rpb24oZSl7ZT1wLnBhcnNlVXJsKGUpLmhyZWZOb0hhc2gsRC5lbGVtZW50LmF0dHIoImhyZWYiLHAubWFrZVVybEFic29sdXRlKGUsdykpfSxyZXNldDpmdW5jdGlvbigpe0QuZWxlbWVudC5hdHRyKCJocmVmIix3LmhyZWZOb1NlYXJjaCl9fTpuO2UubW9iaWxlLmdldERvY3VtZW50VXJsPXAuZ2V0RG9jdW1lbnRVcmwsZS5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlPXAuZ2V0RG9jdW1lbnRCYXNlLGUubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgZT10Lm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJmUmJmUuYXBwJiZlLmFwcC5iYWNrSGlzdG9yeT9lLmFwcC5iYWNrSGlzdG9yeSgpOnQuaGlzdG9yeS5iYWNrKCl9LGUubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbmQoIlthdXRvZm9jdXNdIiksaT1lLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO3JldHVybiB0Lmxlbmd0aD8odC5mb2N1cygpLG4pOihpLmxlbmd0aD9pLmZvY3VzKCk6ZS5mb2N1cygpLG4pfTt2YXIgUCxrLEU9ITA7UD1mdW5jdGlvbigpe2lmKEUpe3ZhciB0PWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7aWYodCl7dmFyIGk9aC5zY3JvbGxUb3AoKTt0Lmxhc3RTY3JvbGw9ZS5tb2JpbGUubWluU2Nyb2xsQmFjaz5pP2UubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsOml9fX0saz1mdW5jdGlvbigpe3NldFRpbWVvdXQoUCwxMDApfSxoLmJpbmQoZS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0U9ITF9KSxoLm9uZShlLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7RT0hMH0pLGgub25lKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2UubW9iaWxlLnBhZ2VDb250YWluZXIuYmluZCgicGFnZWNoYW5nZSIsZnVuY3Rpb24oKXtFPSEwLGgudW5iaW5kKCJzY3JvbGxzdG9wIixrKSxoLmJpbmQoInNjcm9sbHN0b3AiLGspfSl9KSxoLmJpbmQoInNjcm9sbHN0b3AiLGspLGUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9ufHxmdW5jdGlvbihlKXtyZXR1cm4gZX0sZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBpPWUoIi4iK2UubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksbj1wYXJzZUZsb2F0KGkuY3NzKCJwYWRkaW5nLXRvcCIpKSxhPXBhcnNlRmxvYXQoaS5jc3MoInBhZGRpbmctYm90dG9tIikpLG89cGFyc2VGbG9hdChpLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSxzPXBhcnNlRmxvYXQoaS5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSk7dD0ibnVtYmVyIj09dHlwZW9mIHQ/dDpUKCksaS5jc3MoIm1pbi1oZWlnaHQiLHQtbi1hLW8tcyl9LGUuZm4uYW5pbWF0aW9uQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucz9lKHRoaXMpLm9uZSgid2Via2l0QW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZCIsdCk6KHNldFRpbWVvdXQodCwwKSxlKHRoaXMpKX0sZS5tb2JpbGUucGF0aD1wLGUubW9iaWxlLmJhc2U9RCxlLm1vYmlsZS51cmxIaXN0b3J5PWIsZS5tb2JpbGUuZGlhbG9nSGFzaEtleT1DLGUubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcz0hMSxlLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpOyF0LmRhdGEoIm1vYmlsZS1wYWdlIikub3B0aW9ucy5kb21DYWNoZSYmdC5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJnQuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksaT1uZXcgZS5FdmVudCgicGFnZXJlbW92ZSIpO3QudHJpZ2dlcihpKSxpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0LnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9KX0sZS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24odCxpKXt2YXIgYT1lLkRlZmVycmVkKCksbz1lLmV4dGVuZCh7fSxlLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxpKSxzPW51bGwsZD1udWxsLGM9cC5tYWtlVXJsQWJzb2x1dGUodCxsKCkpO28uZGF0YSYmImdldCI9PT1vLnR5cGUmJihjPXAuYWRkU2VhcmNoUGFyYW1zKGMsby5kYXRhKSxvLmRhdGE9biksby5kYXRhJiYicG9zdCI9PT1vLnR5cGUmJihvLnJlbG9hZFBhZ2U9ITApO3ZhciBoPXAuZ2V0RmlsZVBhdGgoYyksdT1wLmNvbnZlcnRVcmxUb0RhdGFVcmwoYyk7aWYoby5wYWdlQ29udGFpbmVyPW8ucGFnZUNvbnRhaW5lcnx8ZS5tb2JpbGUucGFnZUNvbnRhaW5lcixzPW8ucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIitlLm1vYmlsZS5ucysidXJsPSciK3UrIiddIiksMD09PXMubGVuZ3RoJiZ1JiYhcC5pc1BhdGgodSkmJihzPW8ucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiIyIrdSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ1cmwiLHUpLmpxbURhdGEoInVybCIsdSkpLDA9PT1zLmxlbmd0aClpZihlLm1vYmlsZS5maXJzdFBhZ2UmJnAuaXNGaXJzdFBhZ2VVcmwoaCkpZS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmxlbmd0aCYmKHM9ZShlLm1vYmlsZS5maXJzdFBhZ2UpKTtlbHNlIGlmKHAuaXNFbWJlZGRlZFBhZ2UoaCkpcmV0dXJuIGEucmVqZWN0KGMsaSksYS5wcm9taXNlKCk7aWYocy5sZW5ndGgpe2lmKCFvLnJlbG9hZFBhZ2UpcmV0dXJuIHIocyxvLnJvbGUpLGEucmVzb2x2ZShjLGkscyksRCYmIWkucHJlZmV0Y2gmJkQuc2V0KHQpLGEucHJvbWlzZSgpO2Q9c312YXIgbT1vLnBhZ2VDb250YWluZXIsZj1uZXcgZS5FdmVudCgicGFnZWJlZm9yZWxvYWQiKSxnPXt1cmw6dCxhYnNVcmw6YyxkYXRhVXJsOnUsZGVmZXJyZWQ6YSxvcHRpb25zOm99O2lmKG0udHJpZ2dlcihmLGcpLGYuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIGEucHJvbWlzZSgpO2lmKG8uc2hvd0xvYWRNc2cpdmFyIGI9c2V0VGltZW91dChmdW5jdGlvbigpe2UubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpfSxvLmxvYWRNc2dEZWxheSksdj1mdW5jdGlvbigpe2NsZWFyVGltZW91dChiKSxlLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKX07cmV0dXJuIEQmJmkucHJlZmV0Y2g9PT1uJiZELnJlc2V0KCksZS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxwLmlzU2FtZURvbWFpbih5LGMpP2UuYWpheCh7dXJsOmgsdHlwZTpvLnR5cGUsZGF0YTpvLmRhdGEsY29udGVudFR5cGU6by5jb250ZW50VHlwZSxkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihsLG0sZil7dmFyIGI9ZSgiPGRpdj48L2Rpdj4iKSxfPWwubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxLEM9UmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIikseD1SZWdFeHAoIlxcYmRhdGEtIitlLm1vYmlsZS5ucysidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTtpZihDLnRlc3QobCkmJlJlZ0V4cC4kMSYmeC50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKHQ9aD1wLmdldEZpbGVQYXRoKGUoIjxkaXY+IitSZWdFeHAuJDErIjwvZGl2PiIpLnRleHQoKSkpLEQmJmkucHJlZmV0Y2g9PT1uJiZELnNldChoKSxiLmdldCgwKS5pbm5lckhUTUw9bCxzPWIuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCkscy5sZW5ndGh8fChzPWUoIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iKyhsLnNwbGl0KC88XC8/Ym9keVtePl0qPi9naW0pWzFdfHwiIikrIjwvZGl2PiIpKSxfJiYhcy5qcW1EYXRhKCJ0aXRsZSIpJiYofl8uaW5kZXhPZigiJiIpJiYoXz1lKCI8ZGl2PiIrXysiPC9kaXY+IikudGV4dCgpKSxzLmpxbURhdGEoInRpdGxlIixfKSksIWUuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHk9cC5nZXQoaCk7cy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6ZSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixpPWUodGhpcykuYXR0cih0KTtpPWkucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoaSl8fGUodGhpcykuYXR0cih0LHkraSl9KX1zLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidXJsIixwLmNvbnZlcnRVcmxUb0RhdGFVcmwoaCkpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsITApLmFwcGVuZFRvKG8ucGFnZUNvbnRhaW5lcikscy5vbmUoInBhZ2VjcmVhdGUiLGUubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSkscihzLG8ucm9sZSksYy5pbmRleE9mKCImIitlLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKHM9by5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2UubW9iaWxlLm5zKyJ1cmw9JyIrdSsiJ10iKSksby5zaG93TG9hZE1zZyYmdigpLGcueGhyPWYsZy50ZXh0U3RhdHVzPW0sZy5wYWdlPXMsby5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixnKSxhLnJlc29sdmUoYyxpLHMsZCl9LGVycm9yOmZ1bmN0aW9uKHQsbixzKXtEJiZELnNldChwLmdldCgpKSxnLnhocj10LGcudGV4dFN0YXR1cz1uLGcuZXJyb3JUaHJvd249czt2YXIgcj1uZXcgZS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtvLnBhZ2VDb250YWluZXIudHJpZ2dlcihyLGcpLHIuaXNEZWZhdWx0UHJldmVudGVkKCl8fChvLnNob3dMb2FkTXNnJiYodigpLGUubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZyhlLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lLGUubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlLCEwKSxzZXRUaW1lb3V0KGUubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZywxNTAwKSksYS5yZWplY3QoYyxpKSl9fSk6YS5yZWplY3QoYyxpKSxhLnByb21pc2UoKX0sZS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHM9e3R5cGU6ImdldCIsZGF0YTpuLHJlbG9hZFBhZ2U6ITEscm9sZTpuLHNob3dMb2FkTXNnOiExLHBhZ2VDb250YWluZXI6bixsb2FkTXNnRGVsYXk6NTB9LGUubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24odCxkKXtpZihfKXJldHVybiB2LnVuc2hpZnQoYXJndW1lbnRzKSxuO3ZhciBjLGg9ZS5leHRlbmQoe30sZS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxkKTtoLnBhZ2VDb250YWluZXI9aC5wYWdlQ29udGFpbmVyfHxlLm1vYmlsZS5wYWdlQ29udGFpbmVyLGguZnJvbVBhZ2U9aC5mcm9tUGFnZXx8ZS5tb2JpbGUuYWN0aXZlUGFnZSxjPSJzdHJpbmciPT10eXBlb2YgdDt2YXIgdT1oLnBhZ2VDb250YWluZXIsbT1uZXcgZS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLGY9e3RvUGFnZTp0LG9wdGlvbnM6aH07aWYoZi5hYnNVcmw9Yz9wLm1ha2VVcmxBYnNvbHV0ZSh0LGwoKSk6dC5kYXRhKCJhYnNVcmwiKSx1LnRyaWdnZXIobSxmKSwhbS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYodD1mLnRvUGFnZSxjPSJzdHJpbmciPT10eXBlb2YgdCxfPSEwLGMpcmV0dXJuIGgudGFyZ2V0PXQsZS5tb2JpbGUubG9hZFBhZ2UodCxoKS5kb25lKGZ1bmN0aW9uKHQsaSxuLGEpe189ITEsaS5kdXBsaWNhdGVDYWNoZWRQYWdlPWEsbi5kYXRhKCJhYnNVcmwiLGYuYWJzVXJsKSxlLm1vYmlsZS5jaGFuZ2VQYWdlKG4saSl9KS5mYWlsKGZ1bmN0aW9uKCl7YSghMCksbygpLGgucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlY2hhbmdlZmFpbGVkIixmKX0pLG47dFswXSE9PWUubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPXkuaHJlZk5vSGFzaCk7dmFyIGc9aC5mcm9tUGFnZSx4PWguZGF0YVVybCYmcC5jb252ZXJ0VXJsVG9EYXRhVXJsKGguZGF0YVVybCl8fHQuanFtRGF0YSgidXJsIiksdz14LFQ9KHAuZ2V0RmlsZVBhdGgoeCksYi5nZXRBY3RpdmUoKSksRD0wPT09Yi5hY3RpdmVJbmRleCxQPTAsaz1pLnRpdGxlLEU9ImRpYWxvZyI9PT1oLnJvbGV8fCJkaWFsb2ciPT09dC5qcW1EYXRhKCJyb2xlIik7aWYoZyYmZ1swXT09PXRbMF0mJiFoLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiBfPSExLHUudHJpZ2dlcigicGFnZWNoYW5nZSIsZiksaC5mcm9tSGFzaENoYW5nZSYmYi5kaXJlY3Qoe3VybDp4fSksbjtyKHQsaC5yb2xlKSxoLmZyb21IYXNoQ2hhbmdlJiYoUD0iYmFjayI9PT1kLmRpcmVjdGlvbj8tMToxKTt0cnl7aS5hY3RpdmVFbGVtZW50JiYiYm9keSIhPT1pLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9lKGkuYWN0aXZlRWxlbWVudCkuYmx1cigpOmUoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKHEpe312YXIgaj0hMTtFJiZUJiYoVC51cmwmJlQudXJsLmluZGV4T2YoQyk+LTEmJmUubW9iaWxlLmFjdGl2ZVBhZ2UmJiFlLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikmJmIuYWN0aXZlSW5kZXg+MCYmKGguY2hhbmdlSGFzaD0hMSxqPSEwKSx4PVQudXJsfHwiIix4Kz0haiYmeC5pbmRleE9mKCIjIik+LTE/QzoiIyIrQywwPT09Yi5hY3RpdmVJbmRleCYmeD09PWIuaW5pdGlhbERzdCYmKHgrPUMpKTt2YXIgUz1UP3QuanFtRGF0YSgidGl0bGUiKXx8dC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS50ZXh0KCk6aztpZihTJiZrPT09aS50aXRsZSYmKGs9UyksdC5qcW1EYXRhKCJ0aXRsZSIpfHx0LmpxbURhdGEoInRpdGxlIixrKSxoLnRyYW5zaXRpb249aC50cmFuc2l0aW9ufHwoUCYmIUQ/VC50cmFuc2l0aW9uOm4pfHwoRT9lLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjplLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pLCFQJiZqJiYoYi5nZXRBY3RpdmUoKS5wYWdlVXJsPXcpLHgmJiFoLmZyb21IYXNoQ2hhbmdlKXt2YXIgQTshcC5pc1BhdGgoeCkmJjA+eC5pbmRleE9mKCIjIikmJih4PSIjIit4KSxBPXt0cmFuc2l0aW9uOmgudHJhbnNpdGlvbix0aXRsZTprLHBhZ2VVcmw6dyxyb2xlOmgucm9sZX0saC5jaGFuZ2VIYXNoIT09ITEmJmUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkP2UubW9iaWxlLm5hdmlnYXRlKHgsQSwhMCk6dFswXSE9PWUubW9iaWxlLmZpcnN0UGFnZVswXSYmZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQoeCxBKX1pLnRpdGxlPWssZS5tb2JpbGUuYWN0aXZlUGFnZT10LGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+UCxzKHQsZyxoLnRyYW5zaXRpb24saC5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKGksbixzLHIsbCl7YSgpLGguZHVwbGljYXRlQ2FjaGVkUGFnZSYmaC5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpLGx8fGUubW9iaWxlLmZvY3VzUGFnZSh0KSxvKCksdS50cmlnZ2VyKCJwYWdlY2hhbmdlIixmKX0pfX0sZS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpuLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOm4sZHVwbGljYXRlQ2FjaGVkUGFnZTpuLHBhZ2VDb250YWluZXI6bixzaG93TG9hZE1zZzohMCxkYXRhVXJsOm4sZnJvbVBhZ2U6bixhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sZS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1lLkRlZmVycmVkKCksZS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgaT1mdW5jdGlvbih0LGkpe3ZhciBhLG8scyxyLGw9ITA7cmV0dXJuIWUubW9iaWxlLmFqYXhFbmFibGVkfHx0LmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCF0LmpxbUhpamFja2FibGUoKS5sZW5ndGh8fHQuYXR0cigidGFyZ2V0Iik/ITE6KGE9dC5hdHRyKCJhY3Rpb24iKSxyPSh0LmF0dHIoIm1ldGhvZCIpfHwiZ2V0IikudG9Mb3dlckNhc2UoKSxhfHwoYT1jKHQpLCJnZXQiPT09ciYmKGE9cC5wYXJzZVVybChhKS5ocmVmTm9TZWFyY2gpLGE9PT13LmhyZWZOb0hhc2gmJihhPXkuaHJlZk5vU2VhcmNoKSksYT1wLm1ha2VVcmxBYnNvbHV0ZShhLGModCkpLHAuaXNFeHRlcm5hbChhKSYmIXAuaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoeSxhKT8hMTooaXx8KG89dC5zZXJpYWxpemVBcnJheSgpLG0mJm1bMF0uZm9ybT09PXRbMF0mJihzPW0uYXR0cigibmFtZSIpLHMmJihlLmVhY2gobyxmdW5jdGlvbihlLHQpe3JldHVybiB0Lm5hbWU9PT1zPyhzPSIiLCExKTpufSkscyYmby5wdXNoKHtuYW1lOnMsdmFsdWU6bS5hdHRyKCJ2YWx1ZSIpfSkpKSxsPXt1cmw6YSxvcHRpb25zOnt0eXBlOnIsZGF0YTplLnBhcmFtKG8pLHRyYW5zaXRpb246dC5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT10LmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksbCkpfTtlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24odCl7dmFyIG49aShlKHRoaXMpKTtuJiYoZS5tb2JpbGUuY2hhbmdlUGFnZShuLnVybCxuLm9wdGlvbnMpLHQucHJldmVudERlZmF1bHQoKSl9KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBuLG8scz10LnRhcmdldCxyPSExO2lmKCEodC53aGljaD4xKSYmZS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXtpZihtPWUocyksZS5kYXRhKHMsIm1vYmlsZS1idXR0b24iKSl7aWYoIWkoZShzKS5jbG9zZXN0KCJmb3JtIiksITApKXJldHVybjtzLnBhcmVudE5vZGUmJihzPXMucGFyZW50Tm9kZSl9ZWxzZXtpZihzPWQocyksIXN8fCIjIj09PXAucGFyc2VVcmwocy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoKXJldHVybjtpZighZShzKS5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybn1+cy5jbGFzc05hbWUuaW5kZXhPZigidWktbGluay1pbmhlcml0Iik/cy5wYXJlbnROb2RlJiYobz1lLmRhdGEocy5wYXJlbnROb2RlLCJidXR0b25FbGVtZW50cyIpKTpvPWUuZGF0YShzLCJidXR0b25FbGVtZW50cyIpLG8/cz1vLm91dGVyOnI9ITAsbj1lKHMpLHImJihuPW4uY2xvc2VzdCgiLnVpLWJ0biIpKSxuLmxlbmd0aD4wJiYhbi5oYXNDbGFzcygidWktZGlzYWJsZWQiKSYmKGEoITApLGY9bixmLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGkpe2lmKGUubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCYmIWkuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBvLHM9ZChpLnRhcmdldCkscj1lKHMpO2lmKHMmJiEoaS53aGljaD4xKSYmci5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihvPWZ1bmN0aW9uKCl7dC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSghMCl9LDIwMCl9LHIuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGUubW9iaWxlLmJhY2soKSwhMTt2YXIgbD1jKHIpLGg9cC5tYWtlVXJsQWJzb2x1dGUoci5hdHRyKCJocmVmIil8fCIjIixsKTtpZighZS5tb2JpbGUuYWpheEVuYWJsZWQmJiFwLmlzRW1iZWRkZWRQYWdlKGgpKXJldHVybiBvKCksbjtpZigtMSE9PWguc2VhcmNoKCIjIikpe2lmKGg9aC5yZXBsYWNlKC9bXiNdKiMvLCIiKSwhaClyZXR1cm4gaS5wcmV2ZW50RGVmYXVsdCgpLG47aD1wLmlzUGF0aChoKT9wLm1ha2VVcmxBYnNvbHV0ZShoLGwpOnAubWFrZVVybEFic29sdXRlKCIjIitoLHkuaHJlZk5vSGFzaCl9dmFyIHU9ci5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxyLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fHIuaXMoIlt0YXJnZXRdIiksbT11fHxwLmlzRXh0ZXJuYWwoaCkmJiFwLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHksaCk7aWYobSlyZXR1cm4gbygpLG47dmFyIGY9ci5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksZz0icmV2ZXJzZSI9PT1yLmpxbURhdGEoImRpcmVjdGlvbiIpfHxyLmpxbURhdGEoImJhY2siKSxiPXIuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJyZWwiKXx8bjtlLm1vYmlsZS5jaGFuZ2VQYWdlKGgse3RyYW5zaXRpb246ZixyZXZlcnNlOmcscm9sZTpiLGxpbms6cn0pLGkucHJldmVudERlZmF1bHQoKX19fSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIHQ9W107ZSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPWUodGhpcyksbj1pLmF0dHIoImhyZWYiKTtuJiYtMT09PWUuaW5BcnJheShuLHQpJiYodC5wdXNoKG4pLGUubW9iaWxlLmxvYWRQYWdlKG4se3JvbGU6aS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInJlbCIpLHByZWZldGNoOiEwfSkpfSl9KSxlLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT1mdW5jdGlvbihpLGEpe3ZhciBvPXAuc3RyaXBIYXNoKGkpLHM9MD09PWUubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoPyJub25lIjpuLHI9e2NoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITAscmV2ZXJzZToiYmFjayI9PT1hLmRpcmVjdGlvbn07aWYoZS5leHRlbmQocixhLHt0cmFuc2l0aW9uOihiLmdldExhc3QoKXx8e30pLnRyYW5zaXRpb258fHN9KSxiLmFjdGl2ZUluZGV4PjAmJm8uaW5kZXhPZihDKT4tMSYmYi5pbml0aWFsRHN0IT09byl7aWYoZS5tb2JpbGUuYWN0aXZlUGFnZSYmIWUubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSlyZXR1cm4iYmFjayI9PT1hLmRpcmVjdGlvbj9lLm1vYmlsZS5iYWNrKCk6dC5oaXN0b3J5LmZvcndhcmQoKSxuO289YS5wYWdlVXJsO3ZhciBsPWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7ZS5leHRlbmQocix7cm9sZTpsLnJvbGUsdHJhbnNpdGlvbjpsLnRyYW5zaXRpb24scmV2ZXJzZToiYmFjayI9PT1hLmRpcmVjdGlvbn0pfW8/KG89cC5pc1BhdGgobyk/bzpwLm1ha2VVcmxBYnNvbHV0ZSgiIyIrbyx3KSxvPT09cC5tYWtlVXJsQWJzb2x1dGUoIiMiK2IuaW5pdGlhbERzdCx3KSYmYi5zdGFjay5sZW5ndGgmJmIuc3RhY2tbMF0udXJsIT09Yi5pbml0aWFsRHN0LnJlcGxhY2UoQywiIikmJihvPWUubW9iaWxlLmZpcnN0UGFnZSksZS5tb2JpbGUuY2hhbmdlUGFnZShvLHIpKTplLm1vYmlsZS5jaGFuZ2VQYWdlKGUubW9iaWxlLmZpcnN0UGFnZSxyKX0saC5iaW5kKCJuYXZpZ2F0ZSIsZnVuY3Rpb24odCxpKXt2YXIgbjt0Lm9yaWdpbmFsRXZlbnQmJnQub3JpZ2luYWxFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG49ZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLm9yaWdpbmFsRXZlbnROYW1lLmluZGV4T2YoImhhc2hjaGFuZ2UiKT4tMT9pLnN0YXRlLmhhc2g6aS5zdGF0ZS51cmwsbnx8KG49ZS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaCksbiYmIiMiIT09biYmMCE9PW4uaW5kZXhPZigiIyIrZS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KG49bG9jYXRpb24uaHJlZiksZS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UobixpLnN0YXRlKSl9KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlc2hvdyIsZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KSxlLm1vYmlsZS53aW5kb3cuYmluZCgidGhyb3R0bGVkcmVzaXplIixlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpfSxlKGZ1bmN0aW9uKCl7Zy5yZXNvbHZlKCl9KSxlLndoZW4oZyxlLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkKS5kb25lKGZ1bmN0aW9uKCl7ZS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1lLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGUubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZT0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7dmFyIGksbj1lLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZSh0LnRhcmdldCkpO24mJihpPW4ub3B0aW9ucyxlKHQudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChuLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxuPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksYT1pLmRlZ3JhZGVJbnB1dHNbbl18fCJ0ZXh0IjtpZihpLmRlZ3JhZGVJbnB1dHNbbl0pe3ZhciBvPWUoIjxkaXY+IikuaHRtbCh0LmNsb25lKCkpLmh0bWwoKSxzPW8uaW5kZXhPZigiIHR5cGU9Iik+LTEscj1zPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxsPScgdHlwZT0iJythKyciIGRhdGEtJytlLm1vYmlsZS5ucysndHlwZT0iJytuKyciJysocz8iIjoiPiIpO3QucmVwbGFjZVdpdGgoby5yZXBsYWNlKHIsbCkpfX0pKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmRpYWxvZyIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dGhpcy5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixuPWUoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciK2l9KTt0LmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpLHQud3JhcElubmVyKG4pLHQuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24odCl7dmFyIGksbj1lKHQudGFyZ2V0KS5jbG9zZXN0KCJ2Y2xpY2siPT09dC50eXBlPyJhIjoiZm9ybSIpO24ubGVuZ3RoJiYhbi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihpPWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LG4uYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixpLnRyYW5zaXRpb258fGUubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KSx0aGlzLl9vbih0LHtwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93In0pLGUuZXh0ZW5kKHRoaXMse19jcmVhdGVDb21wbGV0ZTohMX0pLHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bil9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbih0KXt2YXIgaSxuLGE9dGhpczt0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbiYmKHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uLnJlbW92ZSgpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPW51bGwpLCJub25lIiE9PXQmJihuPSJsZWZ0Ij09PXQ/ImxlZnQiOiJyaWdodCIsaT1lKCI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLSIrbisiJyBkYXRhLSIrZS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iK2UubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmlyc3QoKS5wcmVwZW5kKGkpLHRoaXMuX2NyZWF0ZUNvbXBsZXRlJiZlLmZuLmJ1dHRvbk1hcmt1cCYmaS5idXR0b25NYXJrdXAoKSx0aGlzLl9jcmVhdGVDb21wbGV0ZT0hMCxpLmJpbmQoImNsaWNrIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7ImNsb3NlQnRuIj09PWUmJnRoaXMuX3NldENsb3NlQnRuKHQpLHRoaXMuX3N1cGVyKGUsdCl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIHQsaSxuPWUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxlLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmbi5hY3RpdmVJbmRleD4wP2UubW9iaWxlLmJhY2soKToodD1NYXRoLm1heCgwLG4uYWN0aXZlSW5kZXgtMSksaT1uLnN0YWNrW3RdLnBhZ2VVcmx8fG4uc3RhY2tbdF0udXJsLG4ucHJldmlvdXNJbmRleD1uLmFjdGl2ZUluZGV4LG4uYWN0aXZlSW5kZXg9dCxlLm1vYmlsZS5wYXRoLmlzUGF0aChpKXx8KGk9ZS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2kpKSxlLm1vYmlsZS5jaGFuZ2VQYWdlKGkse2RpcmVjdGlvbjoiYmFjayIsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoZS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLmVuaGFuY2UodGhpcyl9KX0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIixlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG49ITEsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWU9bnVsbCxlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRlclRoZW1lPSJhIixlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPSJhIixlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZT1udWxsLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLG49aS5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMsYT1pLmpxbURhdGEoInJvbGUiKSxvPW4udGhlbWU7ZSgiOmpxbURhdGEocm9sZT0naGVhZGVyJyksIDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdjb250ZW50JykiLGkpLmpxbUVuaGFuY2VhYmxlKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0LHMscixsLGQ9ZSh0aGlzKSxjPWQuanFtRGF0YSgicm9sZSIpLGg9ZC5qcW1EYXRhKCJ0aGVtZSIpLHU9aHx8bi5jb250ZW50VGhlbWV8fCJkaWFsb2ciPT09YSYmbztpZihkLmFkZENsYXNzKCJ1aS0iK2MpLCJoZWFkZXIiPT09Y3x8ImZvb3RlciI9PT1jKXt2YXIgcD1ofHwoImhlYWRlciI9PT1jP24uaGVhZGVyVGhlbWU6bi5mb290ZXJUaGVtZSl8fG87ZC5hZGRDbGFzcygidWktYmFyLSIrcCkuYXR0cigicm9sZSIsImhlYWRlciI9PT1jPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpLCJoZWFkZXIiPT09YyYmKHQ9ZC5jaGlsZHJlbigiYSwgYnV0dG9uIikscz10Lmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLHI9dC5oYXNDbGFzcygidWktYnRuLXJpZ2h0Iikscz1zfHx0LmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCxyPXJ8fHQuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpLmxlbmd0aCksbi5hZGRCYWNrQnRuJiYiaGVhZGVyIj09PWMmJmUoIi51aS1wYWdlIikubGVuZ3RoPjEmJmkuanFtRGF0YSgidXJsIikhPT1lLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIXMmJihsPWUoIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2UubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIitlLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IituLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZSIsbi5iYWNrQnRuVGhlbWV8fHApLnByZXBlbmRUbyhkKSksZC5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlImNvbnRlbnQiPT09YyYmKHUmJmQuYWRkQ2xhc3MoInVpLWJvZHktIit1KSxkLmF0dHIoInJvbGUiLCJtYWluIikpfSl9KX0oZSksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdDtlJiYodD0ic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZSsiICIsISh0JiZ0LmluZGV4T2YoInVpLWJ0biAiKT4tMSYmMD50LmluZGV4T2YoInVpLWRpc2FibGVkICIpKSk7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBlfWZ1bmN0aW9uIGEobixhLG8scyxyKXt2YXIgbD1lLmRhdGEoblswXSwiYnV0dG9uRWxlbWVudHMiKTtuLnJlbW92ZUNsYXNzKGEpLmFkZENsYXNzKG8pLGwmJihsLmJjbHM9ZShpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5hZGRDbGFzcyhsLmJjbHMrIiAiK28pLnJlbW92ZUNsYXNzKGEpLmF0dHIoImNsYXNzIikscyE9PXQmJihsLmhvdmVyPXMpLGwuc3RhdGU9cil9dmFyIG89ZnVuY3Rpb24oZSxpKXt2YXIgbj1lLmdldEF0dHJpYnV0ZShpKTtyZXR1cm4idHJ1ZSI9PT1uPyEwOiJmYWxzZSI9PT1uPyExOm51bGw9PT1uP3Q6bn07ZS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24obil7dmFyIGEscj10aGlzLGw9ImRhdGEtIitlLm1vYmlsZS5ucztuPW4mJiJvYmplY3QiPT09ZS50eXBlKG4pP246e307Zm9yKHZhciBkPTA7ci5sZW5ndGg+ZDtkKyspe3ZhciBjLGgsdSxwLG0sZixnPXIuZXEoZCksYj1nWzBdLHY9ZS5leHRlbmQoe30sZS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMse2ljb246bi5pY29uIT09dD9uLmljb246byhiLGwrImljb24iKSxpY29ucG9zOm4uaWNvbnBvcyE9PXQ/bi5pY29ucG9zOm8oYixsKyJpY29ucG9zIiksdGhlbWU6bi50aGVtZSE9PXQ/bi50aGVtZTpvKGIsbCsidGhlbWUiKXx8ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZywiYyIpLGlubGluZTpuLmlubGluZSE9PXQ/bi5pbmxpbmU6byhiLGwrImlubGluZSIpLHNoYWRvdzpuLnNoYWRvdyE9PXQ/bi5zaGFkb3c6byhiLGwrInNoYWRvdyIpLGNvcm5lcnM6bi5jb3JuZXJzIT09dD9uLmNvcm5lcnM6byhiLGwrImNvcm5lcnMiKSxpY29uc2hhZG93Om4uaWNvbnNoYWRvdyE9PXQ/bi5pY29uc2hhZG93Om8oYixsKyJpY29uc2hhZG93IiksbWluaTpuLm1pbmkhPT10P24ubWluaTpvKGIsbCsibWluaSIpfSxuKSxfPSJ1aS1idG4taW5uZXIiLEM9InVpLWJ0bi10ZXh0Iix4PSExLHk9InVwIjtmb3IoYSBpbiB2KXZbYV09PT10fHxudWxsPT09dlthXT9nLnJlbW92ZUF0dHIobCthKTpiLnNldEF0dHJpYnV0ZShsK2EsdlthXSk7Zm9yKCJwb3B1cCI9PT1vKGIsbCsicmVsIikmJmcuYXR0cigiaHJlZiIpJiYoYi5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxiLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixnLmF0dHIoImhyZWYiKSkpLGY9ZS5kYXRhKCJJTlBVVCI9PT1iLnRhZ05hbWV8fCJCVVRUT04iPT09Yi50YWdOYW1lP2IucGFyZW50Tm9kZTpiLCJidXR0b25FbGVtZW50cyIpLGY/KGI9Zi5vdXRlcixnPWUoYiksdT1mLmlubmVyLHA9Zi50ZXh0LGUoZi5pY29uKS5yZW1vdmUoKSxmLmljb249bnVsbCx4PWYuaG92ZXIseT1mLnN0YXRlKToodT1pLmNyZWF0ZUVsZW1lbnQodi53cmFwcGVyRWxzKSxwPWkuY3JlYXRlRWxlbWVudCh2LndyYXBwZXJFbHMpKSxtPXYuaWNvbj9pLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsLHMmJiFmJiZzKCksdi50aGVtZXx8KHYudGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZywiYyIpKSxjPSJ1aS1idG4gIixjKz14PyJ1aS1idG4taG92ZXItIit2LnRoZW1lOiIiLGMrPXk/IiB1aS1idG4tIit5KyItIit2LnRoZW1lOiIiLGMrPXYuc2hhZG93PyIgdWktc2hhZG93IjoiIixjKz12LmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiIsdi5taW5pIT09dCYmKGMrPXYubWluaT09PSEwPyIgdWktbWluaSI6IiB1aS1mdWxsc2l6ZSIpLHYuaW5saW5lIT09dCYmKGMrPXYuaW5saW5lPT09ITA/IiB1aS1idG4taW5saW5lIjoiIHVpLWJ0bi1ibG9jayIpLHYuaWNvbiYmKHYuaWNvbj0idWktaWNvbi0iK3YuaWNvbix2Lmljb25wb3M9di5pY29ucG9zfHwibGVmdCIsaD0idWktaWNvbiAiK3YuaWNvbix2Lmljb25zaGFkb3cmJihoKz0iIHVpLWljb24tc2hhZG93IikpLHYuaWNvbnBvcyYmKGMrPSIgdWktYnRuLWljb24tIit2Lmljb25wb3MsIm5vdGV4dCIhPT12Lmljb25wb3N8fGcuYXR0cigidGl0bGUiKXx8Zy5hdHRyKCJ0aXRsZSIsZy5nZXRFbmNvZGVkVGV4dCgpKSksZiYmZy5yZW1vdmVDbGFzcyhmLmJjbHN8fCIiKSxnLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MoYyksdS5jbGFzc05hbWU9XyxwLmNsYXNzTmFtZT1DLGZ8fHUuYXBwZW5kQ2hpbGQocCksbSYmKG0uY2xhc3NOYW1lPWgsZiYmZi5pY29ufHwobS5pbm5lckhUTUw9IiYjMTYwOyIsdS5hcHBlbmRDaGlsZChtKSkpO2IuZmlyc3RDaGlsZCYmIWY7KXAuYXBwZW5kQ2hpbGQoYi5maXJzdENoaWxkKTtmfHxiLmFwcGVuZENoaWxkKHUpLGY9e2hvdmVyOngsc3RhdGU6eSxiY2xzOmMsb3V0ZXI6Yixpbm5lcjp1LHRleHQ6cCxpY29uOm19LGUuZGF0YShiLCJidXR0b25FbGVtZW50cyIsZiksZS5kYXRhKHUsImJ1dHRvbkVsZW1lbnRzIixmKSxlLmRhdGEocCwiYnV0dG9uRWxlbWVudHMiLGYpLG0mJmUuZGF0YShtLCJidXR0b25FbGVtZW50cyIsZil9cmV0dXJuIHRoaXN9LGUuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgcz1mdW5jdGlvbigpe3ZhciBpLG8scj1lLm1vYmlsZS5idXR0b25NYXJrdXAuaG92ZXJEZWxheTtlLm1vYmlsZS5kb2N1bWVudC5iaW5kKHsidm1vdXNlZG93biB2bW91c2VjYW5jZWwgdm1vdXNldXAgdm1vdXNlb3ZlciB2bW91c2VvdXQgZm9jdXMgYmx1ciBzY3JvbGxzdGFydCI6ZnVuY3Rpb24ocyl7dmFyIGwsZD1lKG4ocy50YXJnZXQpKSxjPXMub3JpZ2luYWxFdmVudCYmL150b3VjaC8udGVzdChzLm9yaWdpbmFsRXZlbnQudHlwZSksaD1zLnR5cGU7ZC5sZW5ndGgmJihsPWQuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZSIpLCJ2bW91c2Vkb3duIj09PWg/Yz9pPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1kb3duLSIrbCx0LCJkb3duIil9LHIpOmEoZCwidWktYnRuLXVwLSIrbCwidWktYnRuLWRvd24tIitsLHQsImRvd24iKToidm1vdXNlY2FuY2VsIj09PWh8fCJ2bW91c2V1cCI9PT1oP2EoZCwidWktYnRuLWRvd24tIitsLCJ1aS1idG4tdXAtIitsLHQsInVwIik6InZtb3VzZW92ZXIiPT09aHx8ImZvY3VzIj09PWg/Yz9vPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1ob3Zlci0iK2wsITAsIiIpfSxyKTphKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1ob3Zlci0iK2wsITAsIiIpOigidm1vdXNlb3V0Ij09PWh8fCJibHVyIj09PWh8fCJzY3JvbGxzdGFydCI9PT1oKSYmKGEoZCwidWktYnRuLWhvdmVyLSIrbCsiIHVpLWJ0bi1kb3duLSIrbCwidWktYnRuLXVwLSIrbCwhMSwidXAiKSxpJiZjbGVhclRpbWVvdXQoaSksbyYmY2xlYXJUaW1lb3V0KG8pKSl9LCJmb2N1c2luIGZvY3VzIjpmdW5jdGlvbih0KXtlKG4odC50YXJnZXQpKS5hZGRDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0sImZvY3Vzb3V0IGJsdXIiOmZ1bmN0aW9uKHQpe2Uobih0LnRhcmdldCkpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHM9bnVsbH07ZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UoIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhIix0LnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5ub3QoImJ1dHRvbiwgaW5wdXQsIC51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uTWFya3VwKCl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6ITAsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIixjb2xsYXBzZWRJY29uOiJwbHVzIixleHBhbmRlZEljb246Im1pbnVzIixpY29ucG9zOiJsZWZ0Iix0aGVtZTpudWxsLGNvbnRlbnRUaGVtZTpudWxsLGluc2V0OiEwLGNvcm5lcnM6ITAsbWluaTohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5lbGVtZW50LG49dGhpcy5vcHRpb25zLGE9aS5hZGRDbGFzcygidWktY29sbGFwc2libGUiKSxvPWkuY2hpbGRyZW4obi5oZWFkaW5nKS5maXJzdCgpLHM9YS53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQnPjwvZGl2PiIpLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtY29udGVudCIpLHI9aS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxsPSIiO28uaXMoImxlZ2VuZCIpJiYobz1lKCI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrby5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShvKSxvLm5leHQoKS5yZW1vdmUoKSksci5sZW5ndGg/KG4udGhlbWV8fChuLnRoZW1lPXIuanFtRGF0YSgidGhlbWUiKXx8ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUociwiYyIpKSxuLmNvbnRlbnRUaGVtZXx8KG4uY29udGVudFRoZW1lPXIuanFtRGF0YSgiY29udGVudC10aGVtZSIpKSxuLmNvbGxhcHNlZEljb249aS5qcW1EYXRhKCJjb2xsYXBzZWQtaWNvbiIpfHxyLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIil8fG4uY29sbGFwc2VkSWNvbixuLmV4cGFuZGVkSWNvbj1pLmpxbURhdGEoImV4cGFuZGVkLWljb24iKXx8ci5qcW1EYXRhKCJleHBhbmRlZC1pY29uIil8fG4uZXhwYW5kZWRJY29uLG4uaWNvbnBvcz1pLmpxbURhdGEoImljb25wb3MiKXx8ci5qcW1EYXRhKCJpY29ucG9zIil8fG4uaWNvbnBvcyxuLmluc2V0PXIuanFtRGF0YSgiaW5zZXQiKSE9PXQ/ci5qcW1EYXRhKCJpbnNldCIpOiEwLG4uY29ybmVycz0hMSxuLm1pbml8fChuLm1pbmk9ci5qcW1EYXRhKCJtaW5pIikpKTpuLnRoZW1lfHwobi50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShpLCJjIikpLG4uaW5zZXQmJihsKz0iIHVpLWNvbGxhcHNpYmxlLWluc2V0IixuLmNvcm5lcnMmJihsKz0iIHVpLWNvcm5lci1hbGwiKSksbi5jb250ZW50VGhlbWUmJihsKz0iIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IixzLmFkZENsYXNzKCJ1aS1ib2R5LSIrbi5jb250ZW50VGhlbWUpKSwiIiE9PWwmJmEuYWRkQ2xhc3MobCksby5pbnNlcnRCZWZvcmUocykuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOm4uaWNvbnBvcyxpY29uOm4uY29sbGFwc2VkSWNvbixtaW5pOm4ubWluaSx0aGVtZTpuLnRoZW1lfSksYS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKHQpe2lmKCF0LmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgaT1lKHRoaXMpLGE9ImNvbGxhcHNlIj09PXQudHlwZTt0LnByZXZlbnREZWZhdWx0KCksby50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGEpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYT9uLmV4cGFuZEN1ZVRleHQ6bi5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tIituLmV4cGFuZGVkSWNvbiwhYSkudG9nZ2xlQ2xhc3MoInVpLWljb24tIituLmNvbGxhcHNlZEljb24sYXx8bi5leHBhbmRlZEljb249PT1uLmNvbGxhcHNlZEljb24pLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxpLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGEpLHMudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixhKS5hdHRyKCJhcmlhLWhpZGRlbiIsYSkscy50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKG4uY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpLG8uYmluZCgidGFwIixmdW5jdGlvbigpe28uZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PW8uaXMoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpPyJleHBhbmQiOiJjb2xsYXBzZSI7YS50cmlnZ2VyKHQpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3Nlcz17X2dldFZpc2libGVzOmZ1bmN0aW9uKGUsdCl7dmFyIGk7cmV0dXJuIHQ/aT1lLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTooaT1lLmZpbHRlcigiOnZpc2libGUiKSwwPT09aS5sZW5ndGgmJihpPWUubm90KCIudWktc2NyZWVuLWhpZGRlbiIpKSksaX0sX2FkZEZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oZSx0LGkpe2UucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKSx0LmVxKDApLmFkZENsYXNzKCJ1aS1maXJzdC1jaGlsZCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcygidWktbGFzdC1jaGlsZCIpLGl8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19fShlKSxmdW5jdGlvbihlLHQpe2Uud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7b3B0aW9uczp7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLG49dGhpcy5vcHRpb25zO24udGhlbWV8fChuLnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGksImMiKSksbi5jb250ZW50VGhlbWV8fChuLmNvbnRlbnRUaGVtZT1pLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksbi5jb3JuZXJzfHwobi5jb3JuZXJzPWkuanFtRGF0YSgiY29ybmVycyIpKSxpLmpxbURhdGEoImluc2V0IikhPT10JiYobi5pbnNldD1pLmpxbURhdGEoImluc2V0IikpLG4uaW5zZXQ9bi5pbnNldCE9PXQ/bi5pbnNldDohMCxuLmNvcm5lcnM9bi5jb3JuZXJzIT09dD9uLmNvcm5lcnM6ITAsbi5jb3JuZXJzJiZuLmluc2V0JiZpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIiksaS5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIil8fGkuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsITApLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24odCl7dmFyIGk9ZSh0LnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIik7aS5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKSYmaS5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlIikudHJpZ2dlcigiY29sbGFwc2UiKX0pfSxfaW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PWUuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKSxpPXQuZmlsdGVyKCI6anFtRGF0YShjb2xsYXBzZWQ9J2ZhbHNlJykiKTsKdGhpcy5fcmVmcmVzaCgidHJ1ZSIpLGkudHJpZ2dlcigiZXhwYW5kIil9LF9yZWZyZXNoOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpO2UubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlKGkubm90KCIudWktY29sbGFwc2libGUiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhpLHRoaXMuX2dldFZpc2libGVzKGksdCksdCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCExKX19LGUubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNvbGxhcHNpYmxlc2V0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXtlLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKCJ1aS1maWVsZC1jb250YWluIHVpLWJvZHkgdWktYnIiKS5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAzPT09dGhpcy5ub2RlVHlwZSYmIS9cUy8udGVzdCh0aGlzLm5vZGVWYWx1ZSl9KS5yZW1vdmUoKX0sZShpKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZSgiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJykiLHQudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpfSl9KGUpLGZ1bmN0aW9uKGUpe2UuZm4uZ3JpZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGksbj1lKHRoaXMpLGE9ZS5leHRlbmQoe2dyaWQ6bnVsbH0sdCksbz1uLmNoaWxkcmVuKCkscz17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0scj1hLmdyaWQ7aWYoIXIpaWYoNT49by5sZW5ndGgpZm9yKHZhciBsIGluIHMpc1tsXT09PW8ubGVuZ3RoJiYocj1sKTtlbHNlIHI9ImEiLG4uYWRkQ2xhc3MoInVpLWdyaWQtZHVvIik7aT1zW3JdLG4uYWRkQ2xhc3MoInVpLWdyaWQtIityKSxvLmZpbHRlcigiOm50aC1jaGlsZCgiK2krIm4rMSkiKS5hZGRDbGFzcygidWktYmxvY2stYSIpLGk+MSYmby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKSxpPjImJm8uZmlsdGVyKCI6bnRoLWNoaWxkKCIraSsibiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIiksaT4zJiZvLmZpbHRlcigiOm50aC1jaGlsZCgiK2krIm4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpLGk+NCYmby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLm5hdmJhciIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudCxhPW4uZmluZCgiYSIpLG89YS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOnQ7bi5hZGRDbGFzcygidWktbmF2YmFyIHVpLW1pbmkiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksYS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITEsc2hhZG93OiExLGlubGluZTohMCxpY29ucG9zOm99KSxuLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbih0KXt2YXIgbj1lKHQudGFyZ2V0KS5pcygiYSIpP2UodGhpcyk6ZSh0aGlzKS5wYXJlbnQoImEiKTtpZighbi5pcygiLnVpLWRpc2FibGVkLCAudWktYnRuLWFjdGl2ZSIpKXthLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxlKHRoaXMpLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTt2YXIgbz1lKHRoaXMpO2UoaSkub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtvLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pLG4uY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXthLmZpbHRlcigiLnVpLXN0YXRlLXBlcnNpc3QiKS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXt2YXIgdD17fTtlLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZToiYyIsaGVhZGVyVGhlbWU6ImIiLGRpdmlkZXJUaGVtZToiYiIsaWNvbjoiYXJyb3ctciIsc3BsaXRJY29uOiJhcnJvdy1yIixzcGxpdFRoZW1lOiJiIixjb3JuZXJzOiEwLHNoYWRvdzohMCxpbnNldDohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSIiO3QrPWUub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixlLm9wdGlvbnMuaW5zZXQmJih0Kz1lLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLHQrPWUub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxlLmVsZW1lbnQuYWRkQ2xhc3MoZnVuY3Rpb24oZSxpKXtyZXR1cm4gaSsiIHVpLWxpc3R2aWV3Iit0fSksZS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9e307Zm9yKGFbaV09YVtuXT0hMDtlOyl7aWYoYVtlLm5vZGVOYW1lXSlyZXR1cm4gZTtlPWVbdF19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbih0LGksbil7dmFyIGE9W10sbz17fTtmb3Iob1tpXT1vW25dPSEwLHQ9dC5maXJzdENoaWxkO3Q7KW9bdC5ub2RlTmFtZV0mJmEucHVzaCh0KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGUoYSl9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGksbixhPXQubGVuZ3RoO2ZvcihpPTA7YT5pO2krKyluPWUodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZSh0W2ldLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLG4ubGVuZ3RoJiYobi5hZGRDbGFzcygidWktbGktdGh1bWIiKSxlKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoblswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhuLmlzKCIudWktbGktaWNvbiIpPyJ1aS1saS1oYXMtaWNvbiI6InVpLWxpLWhhcy10aHVtYiIpKX0scmVmcmVzaDpmdW5jdGlvbih0KXt0aGlzLnBhcmVudFBhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksdGhpcy5fY3JlYXRlU3ViUGFnZXMoKTt2YXIgbixhLG8scyxyLGwsZCxjLGgsdSxwLG0sZj10aGlzLm9wdGlvbnMsZz10aGlzLmVsZW1lbnQsYj1nLmpxbURhdGEoImRpdmlkZXJ0aGVtZSIpfHxmLmRpdmlkZXJUaGVtZSx2PWcuanFtRGF0YSgic3BsaXR0aGVtZSIpLF89Zy5qcW1EYXRhKCJzcGxpdGljb24iKSxDPWcuanFtRGF0YSgiaWNvbiIpLHg9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSwibGkiLCJMSSIpLHk9ISFlLm5vZGVOYW1lKGdbMF0sIm9sIiksdz0hZS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnQsVD1nLmF0dHIoInN0YXJ0IiksRD17fTt5JiZ3JiZnLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKSx5JiYoVHx8MD09PVQ/dz9kPXBhcnNlSW50KFQsMTApOihjPXBhcnNlSW50KFQsMTApLTEsZy5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrYykpOncmJihkPTEpKSxmLnRoZW1lfHwoZi50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSk7Zm9yKHZhciBQPTAsaz14Lmxlbmd0aDtrPlA7UCsrKXtpZihuPXguZXEoUCksYT0idWktbGkiLHR8fCFuLmhhc0NsYXNzKCJ1aS1saSIpKXtvPW4uanFtRGF0YSgidGhlbWUiKXx8Zi50aGVtZSxzPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKG5bMF0sImEiLCJBIik7dmFyIEU9Imxpc3QtZGl2aWRlciI9PT1uLmpxbURhdGEoInJvbGUiKTtzLmxlbmd0aCYmIUU/KHA9bi5qcW1EYXRhKCJpY29uIiksbi5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczoicmlnaHQiLGljb246cy5sZW5ndGg+MXx8cD09PSExPyExOnB8fEN8fGYuaWNvbix0aGVtZTpvfSkscCE9PSExJiYxPT09cy5sZW5ndGgmJm4uYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLHMuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSxzLmxlbmd0aD4xJiYoYSs9IiB1aS1saS1oYXMtYWx0IixyPXMubGFzdCgpLGw9dnx8ci5qcW1EYXRhKCJ0aGVtZSIpfHxmLnNwbGl0VGhlbWUsbT1yLmpxbURhdGEoImljb24iKSxyLmFwcGVuZFRvKG4pLmF0dHIoInRpdGxlIixlLnRyaW0oci5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLHRoZW1lOm8saWNvbjohMSxpY29ucG9zOiJub3RleHQifSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChlKGkuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOmwsaWNvbnBvczoibm90ZXh0IixpY29uOm18fHB8fF98fGYuc3BsaXRJY29ufSkpKSk6RT8oYSs9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iKyhuLmpxbURhdGEoInRoZW1lIil8fGIpLG4uYXR0cigicm9sZSIsImhlYWRpbmciKSx5JiYoVHx8MD09PVQ/dz9kPXBhcnNlSW50KFQsMTApOihoPXBhcnNlSW50KFQsMTApLTEsbi5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIraCkpOncmJihkPTEpKSk6YSs9IiB1aS1saS1zdGF0aWMgdWktYnRuLXVwLSIrb315JiZ3JiYwPmEuaW5kZXhPZigidWktbGktZGl2aWRlciIpJiYodT1hLmluZGV4T2YoInVpLWxpLXN0YXRpYyIpPjA/bjpuLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSx1LmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrZCsrICsiLiA8L3NwYW4+IikpLERbYV18fChEW2FdPVtdKSxEW2FdLnB1c2goblswXSl9Zm9yKGEgaW4gRCllKERbYV0pLmFkZENsYXNzKGEpLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoYSk7Zy5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7dC5wcmVwZW5kVG8odC5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZy5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIiksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHgpLHRoaXMuX2FkZFRodW1iQ2xhc3NlcyhnLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3Nlcyh4LHRoaXMuX2dldFZpc2libGVzKHgsdCksdCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJyZWZyZXNoIil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgaSxhPXRoaXMuZWxlbWVudCxvPWEuY2xvc2VzdCgiLnVpLXBhZ2UiKSxzPW8uanFtRGF0YSgidXJsIikscj1zfHxvWzBdW2UuZXhwYW5kb10sbD1hLmF0dHIoImlkIiksZD10aGlzLm9wdGlvbnMsYz0iZGF0YS0iK2UubW9iaWxlLm5zLGg9dGhpcyx1PW8uZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5qcW1EYXRhKCJpZCIpO2lmKHRbcl09PT1uJiYodFtyXT0tMSksbD1sfHwrK3Rbcl0sZShhLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24odCl7dmFyIG4sbyxyPWUodGhpcyksaD1yLmF0dHIoImlkIil8fGwrIi0iK3QscD1yLnBhcmVudCgpLG09ZShyLnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpKSxmPW0ubGVuZ3RoP206ZSgiPHNwYW4+IitlLnRyaW0ocC5jb250ZW50cygpWzBdLm5vZGVWYWx1ZSkrIjwvc3Bhbj4iKSxnPWYuZmlyc3QoKS5nZXRFbmNvZGVkVGV4dCgpLGI9KHN8fCIiKSsiJiIrZS5tb2JpbGUuc3ViUGFnZVVybEtleSsiPSIraCx2PXIuanFtRGF0YSgidGhlbWUiKXx8ZC50aGVtZSxfPXIuanFtRGF0YSgiY291bnR0aGVtZSIpfHxhLmpxbURhdGEoImNvdW50dGhlbWUiKXx8ZC5jb3VudFRoZW1lO2k9ITAsbj1yLmRldGFjaCgpLndyYXAoIjxkaXYgIitjKyJyb2xlPSdwYWdlJyAiK2MrInVybD0nIitiKyInICIrYysidGhlbWU9JyIrdisiJyAiK2MrImNvdW50LXRoZW1lPSciK18rIic+PGRpdiAiK2MrInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLnBhcmVudCgpLmJlZm9yZSgiPGRpdiAiK2MrInJvbGU9J2hlYWRlcicgIitjKyJ0aGVtZT0nIitkLmhlYWRlclRoZW1lKyInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK2crIjwvZGl2PjwvZGl2PiIpLmFmdGVyKHU/ZSgiPGRpdiAiK2MrInJvbGU9J2Zvb3RlcicgIitjKyJpZD0nIit1KyInPiIpOiIiKS5wYXJlbnQoKS5hcHBlbmRUbyhlLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxuLnBhZ2UoKSxvPXAuZmluZCgiYTpmaXJzdCIpLG8ubGVuZ3RofHwobz1lKCI8YS8+IikuaHRtbChmfHxnKS5wcmVwZW5kVG8ocC5lbXB0eSgpKSksby5hdHRyKCJocmVmIiwiIyIrYil9KS5saXN0dmlldygpLGkmJm8uaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZvLmRhdGEoIm1vYmlsZS1wYWdlIikub3B0aW9ucy5kb21DYWNoZT09PSExKXt2YXIgcD1mdW5jdGlvbih0LGkpe3ZhciBuLGE9aS5uZXh0UGFnZSxyPW5ldyBlLkV2ZW50KCJwYWdlcmVtb3ZlIik7aS5uZXh0UGFnZSYmKG49YS5qcW1EYXRhKCJ1cmwiKSwwIT09bi5pbmRleE9mKHMrIiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXkpJiYoaC5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksby50cmlnZ2VyKHIpLHIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG8ucmVtb3ZlV2l0aERlcGVuZGVudHMoKSkpfTtvLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixwKX19LGNoaWxkUGFnZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudFBhZ2UuanFtRGF0YSgidXJsIik7cmV0dXJuIGUoIjpqcW1EYXRhKHVybF49JyIrdCsiJiIrZS5tb2JpbGUuc3ViUGFnZVVybEtleSsiJykiKX19LGUubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lKCJtZXRhW25hbWU9dmlld3BvcnRdIiksaT10LmF0dHIoImNvbnRlbnQiKSxuPWkrIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8iLGE9aSsiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzIixvPS8odXNlci1zY2FsYWJsZVtcc10qPVtcc10qbm8pfChtYXhpbXVtLXNjYWxlW1xzXSo9W1xzXSoxKVskLFxzXS8udGVzdChpKTtlLm1vYmlsZS56b29tPWUuZXh0ZW5kKHt9LHtlbmFibGVkOiFvLGxvY2tlZDohMSxkaXNhYmxlOmZ1bmN0aW9uKGkpe298fGUubW9iaWxlLnpvb20ubG9ja2VkfHwodC5hdHRyKCJjb250ZW50IixuKSxlLm1vYmlsZS56b29tLmVuYWJsZWQ9ITEsZS5tb2JpbGUuem9vbS5sb2NrZWQ9aXx8ITEpfSxlbmFibGU6ZnVuY3Rpb24oaSl7b3x8ZS5tb2JpbGUuem9vbS5sb2NrZWQmJmkhPT0hMHx8KHQuYXR0cigiY29udGVudCIsYSksZS5tb2JpbGUuem9vbS5lbmFibGVkPSEwLGUubW9iaWxlLnpvb20ubG9ja2VkPSExKX0scmVzdG9yZTpmdW5jdGlvbigpe298fCh0LmF0dHIoImNvbnRlbnQiLGkpLGUubW9iaWxlLnpvb20uZW5hYmxlZD0hMCl9fSl9KGUpLGZ1bmN0aW9uKGUpe2Uud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTohMSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLCBpbnB1dFt0eXBlPSdudW1iZXInXSwgOmpxbURhdGEodHlwZT0nbnVtYmVyJyksIGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10sIGlucHV0W3R5cGU9J2VtYWlsJ10sIGlucHV0W3R5cGU9J3VybCddLCBpbnB1dFt0eXBlPSd0ZWwnXSwgdGV4dGFyZWEsIGlucHV0W3R5cGU9J3RpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZSddLCBpbnB1dFt0eXBlPSdtb250aCddLCBpbnB1dFt0eXBlPSd3ZWVrJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10sIGlucHV0W3R5cGU9J2NvbG9yJ10sIGlucHV0Om5vdChbdHlwZV0pLCBpbnB1dFt0eXBlPSdmaWxlJ10iLGNsZWFyQnRuOiExLGNsZWFyU2VhcmNoQnV0dG9uVGV4dDpudWxsLGNsZWFyQnRuVGV4dDoiY2xlYXIgdGV4dCIsZGlzYWJsZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7c2V0VGltZW91dChmdW5jdGlvbigpe2EudG9nZ2xlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIsIXMudmFsKCkpfSwwKX12YXIgaSxhLG89dGhpcyxzPXRoaXMuZWxlbWVudCxyPXRoaXMub3B0aW9ucyxsPXIudGhlbWV8fGUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGQ9IiB1aS1ib2R5LSIrbCxjPXIubWluaT8iIHVpLW1pbmkiOiIiLGg9cy5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpLHU9ci5jbGVhclNlYXJjaEJ1dHRvblRleHR8fHIuY2xlYXJCdG5UZXh0LHA9cy5pcygidGV4dGFyZWEsIDpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxtPSEhci5jbGVhckJ0biYmIXAsZj1zLmlzKCJpbnB1dCIpJiYhcy5pcygiOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpO2lmKGUoImxhYmVsW2Zvcj0nIitzLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQiKSxpPXMuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQgdWktYm9keS0iK2wpLHNbMF0uYXV0b2NvcnJlY3Q9PT1ufHxlLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KHNbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLHNbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSksaD9pPXMud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2QrYysiJz48L2Rpdj4iKS5wYXJlbnQoKTpmJiYoaT1zLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXRleHQgdWktc2hhZG93LWluc2V0IHVpLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyIrZCtjKyInPjwvZGl2PiIpLnBhcmVudCgpKSxtfHxoPyhhPWUoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrdSsiJz4iK3UrIjwvYT4iKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oZSl7cy52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIiksYS5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiksZS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oaSkuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczohMCxzaGFkb3c6ITAsbWluaTpyLm1pbml9KSxofHxpLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKSx0KCkscy5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgaW5wdXQgZm9jdXMgY2hhbmdlIGJsdXIiLHQpKTpmfHxofHxzLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZCtjKSxzLmZvY3VzKGZ1bmN0aW9uKCl7ci5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApLGkuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKSxyLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pLHMuaXMoInRleHRhcmVhIikpe3ZhciBnLGI9MTUsdj0xMDA7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgZT1zWzBdLnNjcm9sbEhlaWdodCx0PXNbMF0uY2xpZW50SGVpZ2h0O2lmKGU+dCl7dmFyIGk9cGFyc2VGbG9hdChzLmNzcygicGFkZGluZy10b3AiKSksbj1wYXJzZUZsb2F0KHMuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxhPWkrbjtzLmhlaWdodChlLWErYil9fSxzLm9uKCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGcpLGc9c2V0VGltZW91dChvLl9rZXl1cCx2KX0pLHRoaXMuX29uKCEwLGUubW9iaWxlLmRvY3VtZW50LHtwYWdlY2hhbmdlOiJfa2V5dXAifSksZS50cmltKHMudmFsKCkpJiZ0aGlzLl9vbighMCxlLm1vYmlsZS53aW5kb3cse2xvYWQ6Il9rZXl1cCJ9KX1zLmF0dHIoImRpc2FibGVkIikmJnRoaXMuZGlzYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxpPXRoaXMuZWxlbWVudC5pcygiaW5wdXQiKSYmIXRoaXMuZWxlbWVudC5pcygiOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLG49dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCkmJihpfHx0KTtyZXR1cm4gZT1uP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQsZS5hZGRDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksaT10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxuPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpJiYoaXx8dCk7cmV0dXJuIGU9bj90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50LGUucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlcj0hMSxlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcj0iRmlsdGVyIGl0ZW1zLi4uIixlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT0iYyIsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUmV2ZWFsPSExO3ZhciB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuLTE9PT0oIiIrZSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHQpfTtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz10LGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCwgb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpLG49aS5kYXRhKCJtb2JpbGUtbGlzdHZpZXciKTtpZihuJiZuLm9wdGlvbnMuZmlsdGVyKXtuLm9wdGlvbnMuZmlsdGVyUmV2ZWFsJiZpLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgYT1lKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrbi5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KS5zdWJtaXQoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHMuYmx1cigpfSksbz1mdW5jdGlvbigpe3ZhciBhLG89ZSh0aGlzKSxzPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxyPW51bGwsbD1pLmNoaWxkcmVuKCksZD1vLmpxbURhdGEoImxhc3R2YWwiKSsiIixjPSExLGg9IiIsdT1uLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2shPT10O2lmKCFkfHxkIT09cyl7aWYobi5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIiwiYmVmb3JlZmlsdGVyIix7aW5wdXQ6dGhpc30pLG8uanFtRGF0YSgibGFzdHZhbCIscyksdXx8cy5sZW5ndGg8ZC5sZW5ndGh8fDAhPT1zLmluZGV4T2YoZCk/cj1pLmNoaWxkcmVuKCk6KHI9aS5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKSwhci5sZW5ndGgmJm4ub3B0aW9ucy5maWx0ZXJSZXZlYWwmJihyPWkuY2hpbGRyZW4oIi51aS1zY3JlZW4taGlkZGVuIikpKSxzKXtmb3IodmFyIHA9ci5sZW5ndGgtMTtwPj0wO3AtLSlhPWUocltwXSksaD1hLmpxbURhdGEoImZpbHRlcnRleHQiKXx8YS50ZXh0KCksYS5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oYS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWMpLGM9ITEpOm4ub3B0aW9ucy5maWx0ZXJDYWxsYmFjayhoLHMsYSk/YS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITApOmM9ITA7ci5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKSxyLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSByLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhIW4ub3B0aW9ucy5maWx0ZXJSZXZlYWwpO24uX2FkZEZpcnN0TGFzdENsYXNzZXMobCxuLl9nZXRWaXNpYmxlcyhsLCExKSwhMSl9fSxzPWUoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpuLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIGlucHV0IixvKS5hcHBlbmRUbyhhKS50ZXh0aW5wdXQoKTtuLm9wdGlvbnMuaW5zZXQmJmEuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpLGEuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGkpfX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5hdXRvZGl2aWRlcnM9ITEsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGk9ZS50cmltKHQudGV4dCgpKXx8bnVsbDtyZXR1cm4gaT9pPWkuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9LGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCxvbCIsImxpc3R2aWV3Y3JlYXRlIixmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj10LmRhdGEoIm1vYmlsZS1saXN0dmlldyIpO2lmKG4mJm4ub3B0aW9ucy5hdXRvZGl2aWRlcnMpe3ZhciBhPWZ1bmN0aW9uKCl7dC5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCk7Zm9yKHZhciBhLG8scz10LmZpbmQoImxpIikscj1udWxsLGw9MDtzLmxlbmd0aD5sO2wrKyl7aWYoYT1zW2xdLG89bi5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGUoYSkpLG8mJnIhPT1vKXt2YXIgZD1pLmNyZWF0ZUVsZW1lbnQoImxpIik7ZC5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKG8pKSxkLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlIiwibGlzdC1kaXZpZGVyIiksYS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkLGEpfXI9b319LG89ZnVuY3Rpb24oKXt0LnVuYmluZCgibGlzdHZpZXdhZnRlcnJlZnJlc2giLG8pLGEoKSxuLnJlZnJlc2goKSx0LmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixvKX07bygpfX0pfShlKSxmdW5jdGlvbihlKXtlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlKCI6anFtRGF0YShyb2xlPSdub2pzJykiLHQudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KGUpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsYT10aGlzLmVsZW1lbnQsbz10aGlzLm9wdGlvbnMscz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmpxbURhdGEodCl8fGUuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKHQpfSxyPWUoYSkuY2xvc2VzdCgibGFiZWwiKSxsPXIubGVuZ3RoP3I6ZShhKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2FbMF0uaWQrIiddIikuZmlyc3QoKSxkPWFbMF0udHlwZSxjPXMoYSwibWluaSIpfHxvLm1pbmksaD1kKyItb24iLHU9ZCsiLW9mZiIscD1zKGEsImljb25wb3MiKSxtPSJ1aS0iK2gsZj0idWktIit1O2lmKCJjaGVja2JveCI9PT1kfHwicmFkaW8iPT09ZCl7ZS5leHRlbmQodGhpcyx7bGFiZWw6bCxpbnB1dHR5cGU6ZCxjaGVja2VkQ2xhc3M6bSx1bmNoZWNrZWRDbGFzczpmLGNoZWNrZWRpY29uOmgsdW5jaGVja2VkaWNvbjp1fSksby50aGVtZXx8KG8udGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGwuYnV0dG9uTWFya3VwKHt0aGVtZTpvLnRoZW1lLGljb246dSxzaGFkb3c6ITEsbWluaTpjLGljb25wb3M6cH0pO3ZhciBnPWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5jbGFzc05hbWU9InVpLSIrZCxhLmFkZChsKS53cmFwQWxsKGcpLGwuYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbih0KXtlKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmdC5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiBhLmlzKCI6ZGlzYWJsZWQiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLG4pOih0Ll9jYWNoZVZhbHMoKSxhLnByb3AoImNoZWNrZWQiLCJyYWRpbyI9PT1kJiYhMHx8IWEucHJvcCgiY2hlY2tlZCIpKSxhLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLHQuX2dldElucHV0U2V0KCkubm90KGEpLnByb3AoImNoZWNrZWQiLCExKSx0Ll91cGRhdGVBbGwoKSwhMSl9fSksYS5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKCl7dC5fY2FjaGVWYWxzKCl9LHZjbGljazpmdW5jdGlvbigpe3ZhciBpPWUodGhpcyk7aS5pcygiOmNoZWNrZWQiKT8oaS5wcm9wKCJjaGVja2VkIiwhMCksdC5fZ2V0SW5wdXRTZXQoKS5ub3QoaSkucHJvcCgiY2hlY2tlZCIsITEpKTppLnByb3AoImNoZWNrZWQiLCExKSx0Ll91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtsLmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7bC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXtlKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiJjaGVja2JveCI9PT10aGlzLmlucHV0dHlwZT90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJpbnB1dFtuYW1lPSciK3RoaXMuZWxlbWVudFswXS5uYW1lKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpOyh0aGlzLmNoZWNrZWR8fCJjaGVja2JveCI9PT10LmlucHV0dHlwZSkmJmkudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLGk9IiAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLG49dGhpcy5jaGVja2VkQ2xhc3MrKHRoaXMuZWxlbWVudC5wYXJlbnRzKCIudWktY29udHJvbGdyb3VwLWhvcml6b250YWwiKS5sZW5ndGg/aToiIiksYT10aGlzLmxhYmVsO3QuY2hlY2tlZD9hLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MraSkuYWRkQ2xhc3MobikuYnV0dG9uTWFya3VwKHtpY29uOnRoaXMuY2hlY2tlZGljb259KTphLnJlbW92ZUNsYXNzKG4pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLmJ1dHRvbk1hcmt1cCh7aWNvbjp0aGlzLnVuY2hlY2tlZGljb259KSx0LmRpc2FibGVkP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCEwKS5wYXJlbnQoKS5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSxlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNoZWNrYm94cmFkaW8ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUpe2Uud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCxpbml0U2VsZWN0b3I6ImJ1dHRvbiwgW3R5cGU9J2J1dHRvbiddLCBbdHlwZT0nc3VibWl0J10sIFt0eXBlPSdyZXNldCddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5lbGVtZW50LGE9ZnVuY3Rpb24oZSl7dmFyIHQsaT17fTtmb3IodCBpbiBlKW51bGwhPT1lW3RdJiYiaW5pdFNlbGVjdG9yIiE9PXQmJihpW3RdPWVbdF0pO3JldHVybiBpfSh0aGlzLm9wdGlvbnMpLG89IiI7cmV0dXJuIkEiPT09aVswXS50YWdOYW1lPyhpLmhhc0NsYXNzKCJ1aS1idG4iKXx8aS5idXR0b25NYXJrdXAoKSxuKToodGhpcy5vcHRpb25zLnRoZW1lfHwodGhpcy5vcHRpb25zLnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKSx+aVswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKSYmKG89InVpLWJ0bi1sZWZ0IiksfmlbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1yaWdodCIpJiYobz0idWktYnRuLXJpZ2h0IiksKCJzdWJtaXQiPT09aS5hdHRyKCJ0eXBlIil8fCJyZXNldCI9PT1pLmF0dHIoInR5cGUiKSkmJihvP28rPSIgdWktc3VibWl0IjpvPSJ1aS1zdWJtaXQiKSxlKCJsYWJlbFtmb3I9JyIraS5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1zdWJtaXQiKSx0aGlzLmJ1dHRvbj1lKCI8ZGl2PjwvZGl2PiIpW2kuaHRtbCgpPyJodG1sIjoidGV4dCJdKGkuaHRtbCgpfHxpLnZhbCgpKS5pbnNlcnRCZWZvcmUoaSkuYnV0dG9uTWFya3VwKGEpLmFkZENsYXNzKG8pLmFwcGVuZChpLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpLHQ9dGhpcy5idXR0b24saS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3QuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt0LnJlbW92ZUNsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCgpLG4pfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIG49e307blt0XT1pLCJpbml0U2VsZWN0b3IiIT09dCYmKHRoaXMuYnV0dG9uLmJ1dHRvbk1hcmt1cChuKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpK3QucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksaSkpLHRoaXMuX3N1cGVyKCJfc2V0T3B0aW9uIix0LGkpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50O3QucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGUodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVt0Lmh0bWwoKT8iaHRtbCI6InRleHQiXSh0Lmh0bWwoKXx8dC52YWwoKSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSxuKXtlLndpZGdldCgibW9iaWxlLnNsaWRlciIsZS5tb2JpbGUud2lkZ2V0LGUuZXh0ZW5kKHt3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGEsbyxzPXRoaXMscj10aGlzLmVsZW1lbnQsbD1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShyLCJjIiksZD10aGlzLm9wdGlvbnMudGhlbWV8fGwsYz10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8bCxoPXJbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx1PSh0aGlzLmlzVG9nZ2xlU3dpdGNoPSJzZWxlY3QiPT09aCxyLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIikpLHA9dGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyLXN3aXRjaCI6IiIsbT1yLmF0dHIoImlkIiksZj1lKCJbZm9yPSciK20rIiddIiksZz1mLmF0dHIoImlkIil8fG0rIi1sYWJlbCIsYj1mLmF0dHIoImlkIixnKSx2PXRoaXMuaXNUb2dnbGVTd2l0Y2g/MDpwYXJzZUZsb2F0KHIuYXR0cigibWluIikpLF89dGhpcy5pc1RvZ2dsZVN3aXRjaD9yLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xOnBhcnNlRmxvYXQoci5hdHRyKCJtYXgiKSksQz10LnBhcnNlRmxvYXQoci5hdHRyKCJzdGVwIil8fDEpLHg9dGhpcy5vcHRpb25zLm1pbml8fHIuanFtRGF0YSgibWluaSIpPyIgdWktbWluaSI6IiIseT1pLmNyZWF0ZUVsZW1lbnQoImEiKSx3PWUoeSksVD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLEQ9ZShUKSxQPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoP2Z1bmN0aW9uKCl7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdC5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGUodCkucHJlcGVuZFRvKEQpfSgpOiExO2lmKHkuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLFQuc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSxULmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyICI6InVpLXNsaWRlci10cmFjayAiLHAsIiB1aS1idG4tZG93bi0iLGMsIiB1aS1idG4tY29ybmVyLWFsbCIseF0uam9pbigiIikseS5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLFQuYXBwZW5kQ2hpbGQoeSksdy5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6ZCxzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjp2LCJhcmlhLXZhbHVlbWF4IjpfLCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOmd9KSxlLmV4dGVuZCh0aGlzLHtzbGlkZXI6RCxoYW5kbGU6dyx0eXBlOmgsc3RlcDpDLG1heDpfLG1pbjp2LHZhbHVlYmc6UCxpc1Jhbmdlc2xpZGVyOnUsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHRoaXMuaXNUb2dnbGVTd2l0Y2gpe289aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxvLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0Ijtmb3IodmFyIGs9MCxFPVQuY2hpbGROb2Rlcy5sZW5ndGg7RT5rO2srKylvLmFwcGVuZENoaWxkKFQuY2hpbGROb2Rlc1trXSk7VC5hcHBlbmRDaGlsZChvKSx3LmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksYT1yLmZpbmQoIm9wdGlvbiIpO2Zvcih2YXIgcT0wLGo9YS5sZW5ndGg7aj5xO3ErKyl7dmFyIFM9cT8iYSI6ImIiLEE9cT8iICIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6IiB1aS1idG4tZG93bi0iK2MsTj0oaS5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7Ti5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsUyxBLCIgdWktYnRuLWNvcm5lci1hbGwiXS5qb2luKCIiKSxOLnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLE4uYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZShhW3FdLmlubmVySFRNTCkpLGUoTikucHJlcGVuZFRvKEQpfXMuX2xhYmVscz1lKCIudWktc2xpZGVyLWxhYmVsIixEKX1iLmFkZENsYXNzKCJ1aS1zbGlkZXIiKSxyLmFkZENsYXNzKHRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihyLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSxELmJpbmQoInZtb3VzZWRvd24iLGUucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oaSx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oRC5hZGQoaSkse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksRC5pbnNlcnRBZnRlcihyKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx1fHwobz10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixyLmFkZChEKS53cmFwQWxsKG8pKSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe0QuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtELnJlbW92ZUNsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKG4sbiwhMCl9LF9jb250cm9sQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJjb250cm9sY2hhbmdlIixlKT09PSExPyExOih0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSxuKX0sX2NvbnRyb2xLZXl1cDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbFZNb3VzZVVwOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tlZFJlZnJlc2goKX0sX2hhbmRsZVZNb3VzZURvd246ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl92YWx1ZSgpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5MRUZUOnQucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlTbGlkaW5nfHwodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfXN3aXRjaCh0LmtleUNvZGUpe2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5IT01FOnRoaXMucmVmcmVzaCh0aGlzLm1pbik7YnJlYWs7Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLkVORDp0aGlzLnJlZnJlc2godGhpcy5tYXgpO2JyZWFrO2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGUubW9iaWxlLmtleUNvZGUuUklHSFQ6dGhpcy5yZWZyZXNoKGkrdGhpcy5zdGVwKTticmVhaztjYXNlIGUubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5MRUZUOnRoaXMucmVmcmVzaChpLXRoaXMuc3RlcCl9fX0sX2hhbmRsZUtleXVwOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX0sX3NsaWRlclZNb3VzZURvd246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8MSE9PWUud2hpY2gmJjAhPT1lLndoaWNoPyExOnRoaXMuX3RyaWdnZXIoImJlZm9yZXN0YXJ0IixlKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGUpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2luZz8odGhpcy5kcmFnZ2luZz0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/dGhpcy5yZWZyZXNoKDA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCk6dGhpcy5yZWZyZXNoKHRoaXMuYmVmb3JlU3RhcnQpOnRoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIpLCExKTpufSxfcHJldmVudERvY3VtZW50RHJhZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiZHJhZyIsZSk9PT0hMT8hMTp0aGlzLmRyYWdnaW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkPyh0aGlzLm1vdXNlTW92ZWQ9ITAsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLnJlZnJlc2goZSksdGhpcy51c2VyTW9kaWZpZWQ9dGhpcy5iZWZvcmVTdGFydCE9PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4LCExKTpufSxfY2hlY2tlZFJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnZhbHVlIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvZ2dsZVN3aXRjaD90aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDpwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaChuLCExLCEwKX0scmVmcmVzaDpmdW5jdGlvbih0LGEsbyl7dmFyIHMscixsLGQsYz10aGlzLGg9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksdT10aGlzLm9wdGlvbnMudGhlbWV8fGgscD10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8aDtjLnNsaWRlclswXS5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIjoidWktc2xpZGVyLXRyYWNrIiwiIHVpLWJ0bi1kb3duLSIrcCwiIHVpLWJ0bi1jb3JuZXItYWxsIix0aGlzLm9wdGlvbnMubWluaT8iIHVpLW1pbmkiOiIiXS5qb2luKCIiKSwodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKSx0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaCYmMD09PXRoaXMuc2xpZGVyLmZpbmQoIi51aS1zbGlkZXItYmciKS5sZW5ndGgmJih0aGlzLnZhbHVlYmc9ZnVuY3Rpb24oKXt2YXIgdD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiB0LmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiB1aS1idG4tY29ybmVyLWFsbCIsZSh0KS5wcmVwZW5kVG8oYy5zbGlkZXIpfSgpKSx0aGlzLmhhbmRsZS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6dSxzaGFkb3c6ITB9KTt2YXIgbSxmLGc9dGhpcy5lbGVtZW50LGI9IXRoaXMuaXNUb2dnbGVTd2l0Y2gsdj1iP1tdOmcuZmluZCgib3B0aW9uIiksXz1iP3BhcnNlRmxvYXQoZy5hdHRyKCJtaW4iKSk6MCxDPWI/cGFyc2VGbG9hdChnLmF0dHIoIm1heCIpKTp2Lmxlbmd0aC0xLHg9YiYmcGFyc2VGbG9hdChnLmF0dHIoInN0ZXAiKSk+MD9wYXJzZUZsb2F0KGcuYXR0cigic3RlcCIpKToxO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7aWYobD10LGQ9OCxzPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQscj10aGlzLnNsaWRlci53aWR0aCgpLG09ci8oKEMtXykveCksIXRoaXMuZHJhZ2dpbmd8fHMtZD5sLnBhZ2VYfHxsLnBhZ2VYPnMrcitkKXJldHVybjtmPW0+MT8xMDAqKChsLnBhZ2VYLXMpL3IpOk1hdGgucm91bmQoMTAwKigobC5wYWdlWC1zKS9yKSl9ZWxzZSBudWxsPT10JiYodD1iP3BhcnNlRmxvYXQoZy52YWwoKXx8MCk6Z1swXS5zZWxlY3RlZEluZGV4KSxmPTEwMCooKHBhcnNlRmxvYXQodCktXykvKEMtXykpO2lmKCFpc05hTihmKSl7dmFyIHk9Zi8xMDAqKEMtXykrXyx3PSh5LV8pJXgsVD15LXc7MipNYXRoLmFicyh3KT49eCYmKFQrPXc+MD94Oi14KTt2YXIgRD0xMDAvKChDLV8pL3gpO2lmKHk9cGFyc2VGbG9hdChULnRvRml4ZWQoNSkpLG09PT1uJiYobT1yLygoQy1fKS94KSksbT4xJiZiJiYoZj0oeS1fKSpEKigxL3gpKSwwPmYmJihmPTApLGY+MTAwJiYoZj0xMDApLF8+eSYmKHk9XykseT5DJiYoeT1DKSx0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGYrIiUiKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLGI/eTp2LmVxKHkpLmF0dHIoInZhbHVlIikpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLGI/eTp2LmVxKHkpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgidGl0bGUiLGI/eTp2LmVxKHkpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcygid2lkdGgiLGYrIiUiKSx0aGlzLl9sYWJlbHMpe3ZhciBQPTEwMCoodGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKSxrPWYmJlArKDEwMC1QKSpmLzEwMCxFPTEwMD09PWY/MDpNYXRoLm1pbihQKzEwMC1rLDEwMCk7dGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLmlzKCIudWktc2xpZGVyLWxhYmVsLWEiKTtlKHRoaXMpLndpZHRoKCh0P2s6RSkrIiUiKX0pfWlmKCFvKXt2YXIgcT0hMTtpZihiPyhxPWcudmFsKCkhPT15LGcudmFsKHkpKToocT1nWzBdLnNlbGVjdGVkSW5kZXghPT15LGdbMF0uc2VsZWN0ZWRJbmRleD15KSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLHQpPT09ITEpcmV0dXJuITE7IWEmJnEmJmcudHJpZ2dlcigiY2hhbmdlIil9fX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpLHRoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCksdGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX19LGUubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuZWxlbWVudCxuPXRoaXMub3B0aW9ucy5taW5pPyJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIjoidWktcmFuZ2VzbGlkZXIiLGE9aS5maW5kKCJpbnB1dCIpLmZpcnN0KCksbz1pLmZpbmQoImlucHV0IikubGFzdCgpLHM9aS5maW5kKCJsYWJlbCIpLmZpcnN0KCkscj1lLmRhdGEoYS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnNsaWRlcixsPWUuZGF0YShvLmdldCgwKSwibW9iaWxlU2xpZGVyIikuc2xpZGVyLGQ9ZS5kYXRhKGEuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUsYz1lKCc8ZGl2IGNsYXNzPSJ1aS1yYW5nZXNsaWRlci1zbGlkZXJzIiAvPicpLmFwcGVuZFRvKGkpO2kuZmluZCgibGFiZWwiKS5sZW5ndGg+MSYmKHQ9aS5maW5kKCJsYWJlbCIpLmxhc3QoKS5oaWRlKCkpLGEuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0Iiksby5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItbGFzdCIpLGkuYWRkQ2xhc3Mobiksci5hcHBlbmRUbyhjKSxsLmFwcGVuZFRvKGMpLHMucHJlcGVuZFRvKGkpLGQucHJlcGVuZFRvKGwpLGUuZXh0ZW5kKHRoaXMse19pbnB1dEZpcnN0OmEsX2lucHV0TGFzdDpvLF9zbGlkZXJGaXJzdDpyLF9zbGlkZXJMYXN0OmwsX3RhcmdldFZhbDpudWxsLF9zbGlkZXJUYXJnZXQ6ITEsX3NsaWRlcnM6YyxfcHJveHk6ITF9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQudWktc2xpZGVyLWlucHV0Iikse3NsaWRlYmVmb3Jlc3RhcnQ6Il9zbGlkZWJlZm9yZXN0YXJ0IixzbGlkZXN0b3A6Il9zbGlkZXN0b3AiLHNsaWRlZHJhZzoiX3NsaWRlZHJhZyIsc2xpZGViZWZvcmVjaGFuZ2U6Il9jaGFuZ2UiLGJsdXI6Il9jaGFuZ2UiLGtleXVwOiJfY2hhbmdlIn0pLHRoaXMuX29uKHttb3VzZWRvd246Il9jaGFuZ2UifSksdGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6Il9oYW5kbGVSZXNldCJ9KSx0aGlzLl9vbihkLHt2bW91c2Vkb3duOiJfZHJhZ0ZpcnN0SGFuZGxlIn0pfSxfaGFuZGxlUmVzZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl91cGRhdGVIaWdobGlnaHQoKX0sMCl9LF9kcmFnRmlyc3RIYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsZS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKHQpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGE9aT90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtyZXR1cm4gdGhpcy5fc2xpZGVyVGFyZ2V0PSExLCJmaXJzdCI9PT10aGlzLl9wcm94eSYmaXx8Imxhc3QiPT09dGhpcy5fcHJveHkmJiFpPyhlLmRhdGEoYS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmRyYWdnaW5nPSEwLGUuZGF0YShhLmdldCgwKSwibW9iaWxlU2xpZGVyIikucmVmcmVzaCh0KSwhMSk6bn0sX3NsaWRlc3RvcDpmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KTt0aGlzLl9wcm94eT0hMSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS50cmlnZ2VyKCJ2bW91c2V1cCIpLHRoaXMuX3NsaWRlckZpcnN0LmNzcygiei1pbmRleCIsaT8xOiIiKX0sX3NsaWRlYmVmb3Jlc3RhcnQ6ZnVuY3Rpb24odCl7dGhpcy5fc2xpZGVyVGFyZ2V0PSExLGUodC5vcmlnaW5hbEV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoInVpLXNsaWRlci10cmFjayIpJiYodGhpcy5fc2xpZGVyVGFyZ2V0PSEwLHRoaXMuX3RhcmdldFZhbD1lKHQudGFyZ2V0KS52YWwoKSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSl7dGhpcy5fc3VwZXJBcHBseShlKSx0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PXRoaXMub3B0aW9ucztlLmZpbmQoImlucHV0Iikuc2xpZGVyKHt0aGVtZTp0LnRoZW1lLHRyYWNrVGhlbWU6dC50cmFja1RoZW1lLGRpc2FibGVkOnQuZGlzYWJsZWQsbWluaTp0Lm1pbmksaGlnaGxpZ2h0OnQuaGlnaGxpZ2h0fSkuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCl9LF9jaGFuZ2U6ZnVuY3Rpb24odCl7aWYoImtleXVwIj09PXQudHlwZSlyZXR1cm4gdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksITE7dmFyIGk9dGhpcyxhPXBhcnNlRmxvYXQodGhpcy5faW5wdXRGaXJzdC52YWwoKSwxMCksbz1wYXJzZUZsb2F0KHRoaXMuX2lucHV0TGFzdC52YWwoKSwxMCkscz1lKHQudGFyZ2V0KS5oYXNDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxyPXM/dGhpcy5faW5wdXRGaXJzdDp0aGlzLl9pbnB1dExhc3QsbD1zP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O2lmKHRoaXMuX2lucHV0Rmlyc3QudmFsKCk+dGhpcy5faW5wdXRMYXN0LnZhbCgpJiYibW91c2Vkb3duIj09PXQudHlwZSYmIWUodC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItaGFuZGxlIikpci5ibHVyKCk7ZWxzZSBpZigibW91c2Vkb3duIj09PXQudHlwZSlyZXR1cm47cmV0dXJuIGE+byYmIXRoaXMuX3NsaWRlclRhcmdldD8oci52YWwocz9vOmEpLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpKTphPm8mJihyLnZhbCh0aGlzLl90YXJnZXRWYWwpLnNsaWRlcigicmVmcmVzaCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtsLnZhbChzP2E6bykuc2xpZGVyKCJyZWZyZXNoIiksZS5kYXRhKGwuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZm9jdXMoKSxpLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLHM/IiI6MSksaS5fdHJpZ2dlcigibm9ybWFsaXplIil9LDApLHRoaXMuX3Byb3h5PXM/ImZpcnN0IjoibGFzdCIpLGE9PT1vPyhlLmRhdGEoci5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDEpLGUuZGF0YShsLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMCkpOihlLmRhdGEobC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxlLmRhdGEoci5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksYT49bz8hMTpufSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIHQ9cGFyc2VJbnQoZS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGk9cGFyc2VJbnQoZS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksbj1pLXQ7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zbGlkZXItYmciKS5jc3MoeyJtYXJnaW4tbGVmdCI6dCsiJSIsd2lkdGg6bisiJSJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKS5maW5kKCJsYWJlbCIpLnNob3coKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0pLGUud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGUubW9iaWxlLnJhbmdlc2xpZGVyLGUubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpLGUoaSkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLnJhbmdlc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsb3ZlcmxheVRoZW1lOiJhIixkaXZpZGVyVGhlbWU6ImIiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBlKCI8ZGl2Lz4iKQp9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixlKSx0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixlKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixlKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciB0PSIiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJih0PSIgdWktYnRuLWxlZnQiKSx+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKHQ9IiB1aS1idG4tcmlnaHQiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrdCsiJz4iKSx0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIiksdGhpcy5sYWJlbD1lKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0IiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlLHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2UubGVuZ3RoPjAmJihlLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGUuaXMoIi51aS1idG4tbGVmdCIpPyJ1aS1idG4tbGVmdCI6InVpLWJ0bi1yaWdodCIpLHRoaXMuZWxlbWVudC5pbnNlcnRBZnRlcihlKSxlLnJlbW92ZSgpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBpPXRoaXMsbj10aGlzLm9wdGlvbnMsYT1uLmlubGluZXx8dGhpcy5zZWxlY3QuanFtRGF0YSgiaW5saW5lIiksbz1uLm1pbml8fHRoaXMuc2VsZWN0LmpxbURhdGEoIm1pbmkiKSxzPW4uaWNvbj9uLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxyPSgtMT09PXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LHRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYnV0dG9uTWFya3VwKHt0aGVtZTpuLnRoZW1lLGljb246bi5pY29uLGljb25wb3M6cyxpbmxpbmU6YSxjb3JuZXJzOm4uY29ybmVycyxzaGFkb3c6bi5zaGFkb3csaWNvbnNoYWRvdzpuLmljb25zaGFkb3csbWluaTpvfSkpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLG4ubmF0aXZlTWVudSYmdC5vcGVyYSYmdC5vcGVyYS52ZXJzaW9uJiZyLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9ZSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKHIuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKG4uZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7aS5yZWZyZXNoKCksbi5uYXRpdmVNZW51JiZ0aGlzLmJsdXIoKX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKHQuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe3QuYnV0dG9uLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe3QuYnV0dG9uLmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7dC5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7dC5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIiLGZ1bmN0aW9uKCl7dC5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrdC5vcHRpb25zLnRoZW1lKX0pLHQuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7dC5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSx0LmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksdC5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7dC5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZGlzYWJsZSghMCl9KSx0LmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5tb2JpbGUuem9vbS5lbmFibGUoITApfSwwKX0pLHQuc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7dC5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmUubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBlLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj10aGlzLnNlbGVjdGVkKCksYT10aGlzLnBsYWNlaG9sZGVyLG89ZShpLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikuaHRtbChmdW5jdGlvbigpe3JldHVybiBhPW4ubGVuZ3RoP24ubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTp0LnBsYWNlaG9sZGVyLG8udGV4dChhKS5hZGRDbGFzcyh0LnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhuLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFtlLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChlLmxlbmd0aCl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmUubm9vcCxjbG9zZTplLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0sZS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGEoZSx0LGksbil7dmFyIGE9bjtyZXR1cm4gYT10PmU/aSsoZS10KS8yOk1hdGgubWluKE1hdGgubWF4KGksbi10LzIpLGkrZS10KX1mdW5jdGlvbiBvKCl7dmFyIGk9ZS5tb2JpbGUud2luZG93O3JldHVybnt4Omkuc2Nyb2xsTGVmdCgpLHk6aS5zY3JvbGxUb3AoKSxjeDp0LmlubmVyV2lkdGh8fGkud2lkdGgoKSxjeTp0LmlubmVySGVpZ2h0fHxpLmhlaWdodCgpfX1lLndpZGdldCgibW9iaWxlLnBvcHVwIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsb3ZlcmxheVRoZW1lOm51bGwsc2hhZG93OiEwLGNvcm5lcnM6ITAsdHJhbnNpdGlvbjoibm9uZSIscG9zaXRpb25Ubzoib3JpZ2luIix0b2xlcmFuY2U6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiLGNsb3NlTGlua1NlbGVjdG9yOiJhOmpxbURhdGEocmVsPSdiYWNrJykiLGNsb3NlTGlua0V2ZW50czoiY2xpY2sucG9wdXAiLG5hdmlnYXRlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCIsY2xvc2VFdmVudHM6Im5hdmlnYXRlLnBvcHVwIHBhZ2ViZWZvcmVjaGFuZ2UucG9wdXAiLGRpc21pc3NpYmxlOiEwLGhpc3Rvcnk6IWUubW9iaWxlLmJyb3dzZXIub2xkSUV9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksZT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoZSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXNPcGVuJiZ0LmtleUNvZGU9PT1lLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKHQpOm59LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciB0PW8oKTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZih0Lng9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy54JiZ0Lnk9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy55JiZ0LmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3gmJnQuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6c2V0VGltZW91dChlLnByb3h5KHRoaXMsIl9yZXNpemVUaW1lb3V0IiksMjAwKSx3aW5Db29yZHM6dH0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuP3RoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fCh0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86IndpbmRvdyJ9KSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSksdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSk6KHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5faWdub3JlUmVzaXplVG89MH0sMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYoIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkmJiF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3N8fHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIil8fHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIikucmVtb3ZlQXR0cigic3R5bGUiKSl9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKHQpe3ZhciBuLGE9dC50YXJnZXQsbz10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGEhPT1vLmNvbnRhaW5lclswXSl7aWYobj1lKHQudGFyZ2V0KSwwPT09bi5wYXJlbnRzKCkuZmlsdGVyKG8uY29udGFpbmVyWzBdKS5sZW5ndGgpcmV0dXJuIGUoaS5hY3RpdmVFbGVtZW50KS5vbmUoImZvY3VzIixmdW5jdGlvbigpe24uYmx1cigpfSksby5mb2N1c0VsZW1lbnQuZm9jdXMoKSx0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtvLmZvY3VzRWxlbWVudFswXT09PW8uY29udGFpbmVyWzBdJiYoby5mb2N1c0VsZW1lbnQ9bil9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9e3NjcmVlbjplKCI8ZGl2IGNsYXNzPSd1aS1zY3JlZW4taGlkZGVuIHVpLXBvcHVwLXNjcmVlbic+PC9kaXY+IikscGxhY2Vob2xkZXI6ZSgiPGRpdiBzdHlsZT0nZGlzcGxheTogbm9uZTsnPjwhLS0gcGxhY2Vob2xkZXIgLS0+PC9kaXY+IiksY29udGFpbmVyOmUoIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWNvbnRhaW5lciB1aS1wb3B1cC1oaWRkZW4nPjwvZGl2PiIpfSxpPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLGE9dGhpcy5lbGVtZW50LmF0dHIoImlkIiksbz10aGlzO3RoaXMub3B0aW9ucy5oaXN0b3J5PXRoaXMub3B0aW9ucy5oaXN0b3J5JiZlLm1vYmlsZS5hamF4RW5hYmxlZCYmZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQsMD09PWkubGVuZ3RoJiYoaT1lKCJib2R5IikpLHRoaXMub3B0aW9ucy5jb250YWluZXI9dGhpcy5vcHRpb25zLmNvbnRhaW5lcnx8ZS5tb2JpbGUucGFnZUNvbnRhaW5lcixpLmFwcGVuZCh0LnNjcmVlbiksdC5jb250YWluZXIuaW5zZXJ0QWZ0ZXIodC5zY3JlZW4pLHQucGxhY2Vob2xkZXIuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KSxhJiYodC5zY3JlZW4uYXR0cigiaWQiLGErIi1zY3JlZW4iKSx0LmNvbnRhaW5lci5hdHRyKCJpZCIsYSsiLXBvcHVwIiksdC5wbGFjZWhvbGRlci5odG1sKCI8IS0tIHBsYWNlaG9sZGVyIGZvciAiK2ErIiAtLT4iKSksdC5jb250YWluZXIuYXBwZW5kKHRoaXMuZWxlbWVudCksdC5mb2N1c0VsZW1lbnQ9dC5jb250YWluZXIsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1wb3B1cCIpLGUuZXh0ZW5kKHRoaXMse19zY3JvbGxUb3A6MCxfcGFnZTppLF91aTp0LF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXFzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksZS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihlLHQpe28ub3B0aW9uc1tlXT1uLG8uX3NldE9wdGlvbihlLHQsITApfSksdC5zY3JlZW4uYmluZCgidmNsaWNrIixlLnByb3h5KHRoaXMsIl9lYXRFdmVudEFuZENsb3NlIikpLHRoaXMuX29uKGUubW9iaWxlLndpbmRvdyx7b3JpZW50YXRpb25jaGFuZ2U6ZS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2UiKSxyZXNpemU6ZS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93UmVzaXplIiksa2V5dXA6ZS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93S2V5VXAiKX0pLHRoaXMuX29uKGUubW9iaWxlLmRvY3VtZW50LHtmb2N1c2luOmUucHJveHkodGhpcywiX2hhbmRsZURvY3VtZW50Rm9jdXNJbiIpfSl9LF9hcHBseVRoZW1lOmZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG4sYT0oZS5hdHRyKCJjbGFzcyIpfHwiIikuc3BsaXQoIiAiKSxvPW51bGwscz10KyIiO2EubGVuZ3RoPjA7KXtpZihvPWEucG9wKCksbj1SZWdFeHAoIl51aS0iK2krIi0oW2Etel0pJCIpLmV4ZWMobyksbiYmbi5sZW5ndGg+MSl7bz1uWzFdO2JyZWFrfW89bnVsbH10IT09byYmKGUucmVtb3ZlQ2xhc3MoInVpLSIraSsiLSIrbyksbnVsbCE9PXQmJiJub25lIiE9PXQmJmUuYWRkQ2xhc3MoInVpLSIraSsiLSIrcykpfSxfc2V0VGhlbWU6ZnVuY3Rpb24oZSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLmVsZW1lbnQsZSwiYm9keSIpfSxfc2V0T3ZlcmxheVRoZW1lOmZ1bmN0aW9uKGUpe3RoaXMuX2FwcGx5VGhlbWUodGhpcy5fdWkuc2NyZWVuLGUsIm92ZXJsYXkiKSx0aGlzLl9pc09wZW4mJnRoaXMuX3VpLnNjcmVlbi5hZGRDbGFzcygiaW4iKX0sX3NldFNoYWRvdzpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixlKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixlKX0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbih0KXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSx0JiYibm9uZSIhPT10JiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPWUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKHQpLCJub25lIj09PXRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj0iIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpfSxfc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihlKXt0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGUpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKHQpe3ZhciBpPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZih0IT09bil7dmFyIGE9KHQrIiIpLnNwbGl0KCIsIik7c3dpdGNoKGUuZWFjaChhLGZ1bmN0aW9uKGUsdCl7YVtlXT1wYXJzZUludCh0LDEwKX0pLGEubGVuZ3RoKXtjYXNlIDE6aXNOYU4oYVswXSl8fChpLnQ9aS5yPWkuYj1pLmw9YVswXSk7YnJlYWs7Y2FzZSAyOmlzTmFOKGFbMF0pfHwoaS50PWkuYj1hWzBdKSxpc05hTihhWzFdKXx8KGkubD1pLnI9YVsxXSk7YnJlYWs7Y2FzZSA0OmlzTmFOKGFbMF0pfHwoaS50PWFbMF0pLGlzTmFOKGFbMV0pfHwoaS5yPWFbMV0pLGlzTmFOKGFbMl0pfHwoaS5iPWFbMl0pLGlzTmFOKGFbM10pfHwoaS5sPWFbM10pO2JyZWFrO2RlZmF1bHQ6fX10aGlzLl90b2xlcmFuY2U9aX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBhLG89Il9zZXQiK3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTt0aGlzW29dIT09biYmdGhpc1tvXShpKSxhPVsiaW5pdFNlbGVjdG9yIiwiY2xvc2VMaW5rU2VsZWN0b3IiLCJjbG9zZUxpbmtFdmVudHMiLCJuYXZpZ2F0ZUV2ZW50cyIsImNsb3NlRXZlbnRzIiwiaGlzdG9yeSIsImNvbnRhaW5lciJdLGUubW9iaWxlLndpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksLTE9PT1lLmluQXJyYXkodCxhKSYmdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKSt0LnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGkpfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scz1vKCkscj17eDp0aGlzLl90b2xlcmFuY2UubCx5OnMueSt0aGlzLl90b2xlcmFuY2UudCxjeDpzLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OnMuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3RoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsci5jeCksdD17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LG49e3g6YShyLmN4LHQuY3gsci54LGUueCkseTphKHIuY3ksdC5jeSxyLnksZS55KX0sbi55PU1hdGgubWF4KDAsbi55KTt2YXIgbD1pLmRvY3VtZW50RWxlbWVudCxkPWkuYm9keSxjPU1hdGgubWF4KGwuY2xpZW50SGVpZ2h0LGQuc2Nyb2xsSGVpZ2h0LGQub2Zmc2V0SGVpZ2h0LGwuc2Nyb2xsSGVpZ2h0LGwub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gbi55LT1NYXRoLm1pbihuLnksTWF0aC5tYXgoMCxuLnkrdC5jeS1jKSkse2xlZnQ6bi54LHRvcDpuLnl9fSxfY3JlYXRlUHJlcmVxczpmdW5jdGlvbih0LGksbil7dmFyIGEsbz10aGlzO2E9e3NjcmVlbjplLkRlZmVycmVkKCksY29udGFpbmVyOmUuRGVmZXJyZWQoKX0sYS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2E9PT1vLl9wcmVyZXFzJiZ0KCl9KSxhLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7YT09PW8uX3ByZXJlcXMmJmkoKX0pLGUud2hlbihhLnNjcmVlbixhLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2E9PT1vLl9wcmVyZXFzJiYoby5fcHJlcmVxcz1udWxsLG4oKSl9KSxvLl9wcmVyZXFzPWF9LF9hbmltYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3ModC5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyh0LnNjcmVlbkNsYXNzVG9BZGQpLHQucHJlcmVxcy5zY3JlZW4ucmVzb2x2ZSgpLHQudHJhbnNpdGlvbiYmIm5vbmUiIT09dC50cmFuc2l0aW9uJiYodC5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbih0LnRyYW5zaXRpb24pLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbik/KHRoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShlLnByb3h5KHQucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3ModC5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyh0LmNsYXNzVG9SZW1vdmUpLG4pOih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModC5jbGFzc1RvUmVtb3ZlKSx0LnByZXJlcXMuY29udGFpbmVyLnJlc29sdmUoKSxuKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24odCl7dmFyIGksbj1udWxsLGE9bygpLHM9dC54LHI9dC55LGw9dC5wb3NpdGlvblRvO2lmKGwmJiJvcmlnaW4iIT09bClpZigid2luZG93Ij09PWwpcz1hLmN4LzIrYS54LHI9YS5jeS8yK2EueTtlbHNle3RyeXtuPWUobCl9Y2F0Y2goZCl7bj1udWxsfW4mJihuLmZpbHRlcigiOnZpc2libGUiKSwwPT09bi5sZW5ndGgmJihuPW51bGwpKX1yZXR1cm4gbiYmKGk9bi5vZmZzZXQoKSxzPWkubGVmdCtuLm91dGVyV2lkdGgoKS8yLHI9aS50b3Arbi5vdXRlckhlaWdodCgpLzIpLCgibnVtYmVyIiE9PWUudHlwZShzKXx8aXNOYU4ocykpJiYocz1hLmN4LzIrYS54KSwoIm51bWJlciIhPT1lLnR5cGUocil8fGlzTmFOKHIpKSYmKHI9YS5jeS8yK2EueSkse3g6cyx5OnJ9fSxfcmVwb3NpdGlvbjpmdW5jdGlvbihlKXtlPXt4OmUueCx5OmUueSxwb3NpdGlvblRvOmUucG9zaXRpb25Ub30sdGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iLGUpLHRoaXMuX3VpLmNvbnRhaW5lci5vZmZzZXQodGhpcy5fcGxhY2VtZW50Q29vcmRzKHRoaXMuX2Rlc2lyZWRDb29yZHMoZSkpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihlKXt0aGlzLl9pc09wZW4mJnRoaXMuX3JlcG9zaXRpb24oZSl9LF9vcGVuUHJlcmVxc0NvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKCJ1aS1wb3B1cC1hY3RpdmUiKSx0aGlzLl9pc09wZW49ITAsdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fdWkuY29udGFpbmVyLmF0dHIoInRhYmluZGV4IiwiMCIpLmZvY3VzKCksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9LF9vcGVuOmZ1bmN0aW9uKHQpe3ZhciBpPWUuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0KSxuPWZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudCx0PWUubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksaT0hIXQmJnRbMV0sbj1lLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksYT0hIW4mJm5bMV0sbz1lLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBudWxsIT09biYmIjQuMCI9PT1hJiZpJiZpPjUzNC4xMyYmIW8/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxcyhlLm5vb3AsZS5ub29wLGUucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249aS50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihpLnRyYW5zaXRpb24pLHRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fc2V0VGhlbWUodGhpcy5fcGFnZS5qcW1EYXRhKCJ0aGVtZSIpfHxlLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLl9wYWdlLCJjIikpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5fcmVwb3NpdGlvbihpKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZuJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjppLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX2Nsb3NlUHJlcmVxU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXFDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpLGUubW9iaWxlLnBvcHVwLmFjdGl2ZT1uLHRoaXMuX3RyaWdnZXIoImFmdGVyY2xvc2UiKX0sX2Nsb3NlOmZ1bmN0aW9uKHQpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jcmVhdGVQcmVyZXFzKGUucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxU2NyZWVuIiksZS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFDb250YWluZXIiKSxlLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXNEb25lIikpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246dGhpcy5fdWkuc2NyZWVuLmhhc0NsYXNzKCJpbiIpLHRyYW5zaXRpb246dD8ibm9uZSI6dGhpcy5fY3VycmVudFRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiaW4iLHNjcmVlbkNsYXNzVG9BZGQ6Im91dCIsY29udGFpbmVyQ2xhc3NUb0FkZDoicmV2ZXJzZSBvdXQiLGFwcGx5VHJhbnNpdGlvbjohMCxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3NldFRoZW1lKCJub25lIiksdGhpcy5lbGVtZW50LmRldGFjaCgpLmluc2VydEFmdGVyKHRoaXMuX3VpLnBsYWNlaG9sZGVyKS5yZW1vdmVDbGFzcygidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7ZS5tb2JpbGUucG9wdXAuYWN0aXZlPT09dGhpcz8odGhpcy5lbGVtZW50Lm9uZSgicG9wdXBhZnRlcmNsb3NlIixlLnByb3h5KHRoaXMsIl91bmVuaGFuY2UiKSksdGhpcy5jbG9zZSgpKTp0aGlzLl91bmVuaGFuY2UoKX0sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oaSxuKXt2YXIgYSxvLHM9dGhpcy5vcHRpb25zLHI9ITE7dC5zY3JvbGxUbygwLHRoaXMuX3Njcm9sbFRvcCksaSYmInBhZ2ViZWZvcmVjaGFuZ2UiPT09aS50eXBlJiZuJiYoYT0ic3RyaW5nIj09dHlwZW9mIG4udG9QYWdlP24udG9QYWdlOm4udG9QYWdlLmpxbURhdGEoInVybCIpLGE9ZS5tb2JpbGUucGF0aC5wYXJzZVVybChhKSxvPWEucGF0aG5hbWUrYS5zZWFyY2grYS5oYXNoLHRoaXMuX215VXJsIT09ZS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUobyk/cj0hMDppLnByZXZlbnREZWZhdWx0KCkpLHMuY29udGFpbmVyLnVuYmluZChzLmNsb3NlRXZlbnRzKSx0aGlzLmVsZW1lbnQudW5kZWxlZ2F0ZShzLmNsb3NlTGlua1NlbGVjdG9yLHMuY2xvc2VMaW5rRXZlbnRzKSx0aGlzLl9jbG9zZShyKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5jb250YWluZXIub25lKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxlLnByb3h5KHRoaXMsIl9jbG9zZVBvcHVwIikpfSxvcGVuOmZ1bmN0aW9uKGkpe3ZhciBhLG8scyxyLGwsZCxjPXRoaXMsaD10aGlzLm9wdGlvbnM7aWYoIWUubW9iaWxlLnBvcHVwLmFjdGl2ZSl7aWYoZS5tb2JpbGUucG9wdXAuYWN0aXZlPXRoaXMsdGhpcy5fc2Nyb2xsVG9wPWUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSwhaC5oaXN0b3J5KXJldHVybiBjLl9vcGVuKGkpLGMuX2JpbmRDb250YWluZXJDbG9zZSgpLGMuZWxlbWVudC5kZWxlZ2F0ZShoLmNsb3NlTGlua1NlbGVjdG9yLGguY2xvc2VMaW5rRXZlbnRzLGZ1bmN0aW9uKGUpe2MuY2xvc2UoKSxlLnByZXZlbnREZWZhdWx0KCl9KSxuO2lmKGQ9ZS5tb2JpbGUudXJsSGlzdG9yeSxvPWUubW9iaWxlLmRpYWxvZ0hhc2hLZXkscz1lLm1vYmlsZS5hY3RpdmVQYWdlLHI9cy5pcygiLnVpLWRpYWxvZyIpLHRoaXMuX215VXJsPWE9ZC5nZXRBY3RpdmUoKS51cmwsbD1hLmluZGV4T2Yobyk+LTEmJiFyJiZkLmFjdGl2ZUluZGV4PjApcmV0dXJuIGMuX29wZW4oaSksYy5fYmluZENvbnRhaW5lckNsb3NlKCksbjstMSE9PWEuaW5kZXhPZihvKXx8cj9hPWUubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2grbzphKz1hLmluZGV4T2YoIiMiKT4tMT9vOiIjIitvLDA9PT1kLmFjdGl2ZUluZGV4JiZhPT09ZC5pbml0aWFsRHN0JiYoYSs9byksZSh0KS5vbmUoImJlZm9yZW5hdmlnYXRlIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksYy5fb3BlbihpKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxlLm1vYmlsZS5uYXZpZ2F0ZShhLHtyb2xlOiJkaWFsb2cifSl9fSxjbG9zZTpmdW5jdGlvbigpe2UubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXMmJih0aGlzLl9zY3JvbGxUb3A9ZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGUubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSl9fSksZS5tb2JpbGUucG9wdXAuaGFuZGxlTGluaz1mdW5jdGlvbih0KXt2YXIgaSxuPXQuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksYT0wPT09bi5sZW5ndGg/ZSgiYm9keSIpOm4sbz1lKGUubW9iaWxlLnBhdGgucGFyc2VVcmwodC5hdHRyKCJocmVmIikpLmhhc2gsYVswXSk7by5kYXRhKCJtb2JpbGUtcG9wdXAiKSYmKGk9dC5vZmZzZXQoKSxvLnBvcHVwKCJvcGVuIix7eDppLmxlZnQrdC5vdXRlcldpZHRoKCkvMix5OmkudG9wK3Qub3V0ZXJIZWlnaHQoKS8yLHRyYW5zaXRpb246dC5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscG9zaXRpb25Ubzp0LmpxbURhdGEoInBvc2l0aW9uLXRvIil9KSksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBpPXQucGFyZW50KCkucGFyZW50KCk7aS5oYXNDbGFzcygidWktbGkiKSYmKHQ9aS5wYXJlbnQoKSksdC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2ViZWZvcmVjaGFuZ2UiLGZ1bmN0aW9uKHQsaSl7InBvcHVwIj09PWkub3B0aW9ucy5yb2xlJiYoZS5tb2JpbGUucG9wdXAuaGFuZGxlTGluayhpLm9wdGlvbnMubGluayksdC5wcmV2ZW50RGVmYXVsdCgpKX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5wb3B1cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihuKXt2YXIgYSxvLHMscj0obi5zZWxlY3Qsbi5fZGVzdHJveSksbD1uLnNlbGVjdElELGQ9bD9sOihlLm1vYmlsZS5uc3x8IiIpKyJ1dWlkLSIrbi51dWlkLGM9ZCsiLWxpc3Rib3giLGg9ZCsiLWRpYWxvZyIsdT1uLmxhYmVsLHA9bi5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxtPW4uX3NlbGVjdE9wdGlvbnMoKSxmPW4uaXNNdWx0aXBsZT1uLnNlbGVjdFswXS5tdWx0aXBsZSxnPWwrIi1idXR0b24iLGI9bCsiLW1lbnUiLHY9ZSgiPGRpdiBkYXRhLSIrZS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgaWQ9JyIraCsiJyBkYXRhLSIrZS5tb2JpbGUubnMrInRoZW1lPSciK24ub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrZS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrbi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz4iKyI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+Iit1LmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSxfPWUoIjxkaXYgaWQ9JyIrYysiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIobi5zZWxlY3QpLnBvcHVwKHt0aGVtZTpuLm9wdGlvbnMub3ZlcmxheVRoZW1lfSksQz1lKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpiLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOmd9KS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInRoZW1lIixuLm9wdGlvbnMudGhlbWUpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZSIsbi5vcHRpb25zLmRpdmlkZXJUaGVtZSkuYXBwZW5kVG8oXykseD1lKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIituLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8oXykseT1lKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8oeCk7bi5pc011bHRpcGxlJiYocz1lKCI8YT4iLHt0ZXh0Om4ub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8oeCkuYnV0dG9uTWFya3VwKCkpLGUuZXh0ZW5kKG4se3NlbGVjdDpuLnNlbGVjdCxzZWxlY3RJRDpsLGJ1dHRvbklkOmcsbWVudUlkOmIscG9wdXBJRDpjLGRpYWxvZ0lEOmgsdGhpc1BhZ2U6cCxtZW51UGFnZTp2LGxhYmVsOnUsc2VsZWN0T3B0aW9uczptLGlzTXVsdGlwbGU6Zix0aGVtZTpuLm9wdGlvbnMudGhlbWUsbGlzdGJveDpfLGxpc3Q6QyxoZWFkZXI6eCxoZWFkZXJUaXRsZTp5LGhlYWRlckNsb3NlOnMsbWVudVBhZ2VDb250ZW50OmEsbWVudVBhZ2VDbG9zZTpvLHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLnJlZnJlc2goKSxpLl9vcmlnVGFiSW5kZXg9PT10JiYoaS5fb3JpZ1RhYkluZGV4PW51bGw9PT1pLnNlbGVjdFswXS5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iik/ITE6aS5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksaS5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7ZSh0aGlzKS5ibHVyKCksaS5idXR0b24uZm9jdXMoKX0pLGkuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbih0KXtpLm9wdGlvbnMuZGlzYWJsZWR8fGkuaXNPcGVufHwoInZjbGljayI9PT10LnR5cGV8fHQua2V5Q29kZSYmKHQua2V5Q29kZT09PWUubW9iaWxlLmtleUNvZGUuRU5URVJ8fHQua2V5Q29kZT09PWUubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKGkuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PWkubWVudVR5cGU/aS5idXR0b24uYXR0cigiaHJlZiIsIiMiK2kucG9wdXBJRCkuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOmkuYnV0dG9uLmF0dHIoImhyZWYiLCIjIitpLmRpYWxvZ0lEKS5hdHRyKCJkYXRhLSIrKGUubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLGkuaXNPcGVuPSEwKX0pLGkubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmJpbmQoImZvY3VzaW4iLGZ1bmN0aW9uKHQpe2UodC50YXJnZXQpLmF0dHIoInRhYmluZGV4IiwiMCIpLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoImZvY3Vzb3V0IixmdW5jdGlvbih0KXtlKHQudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIi0xIikudHJpZ2dlcigidm1vdXNlb3V0Iil9KS5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBhPWkuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsbz1pLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmluZGV4KHRoaXMpLHM9aS5fc2VsZWN0T3B0aW9ucygpLmVxKG8pWzBdO3Muc2VsZWN0ZWQ9aS5pc011bHRpcGxlPyFzLnNlbGVjdGVkOiEwLGkuaXNNdWx0aXBsZSYmZSh0aGlzKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixzLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFzLnNlbGVjdGVkKSwoaS5pc011bHRpcGxlfHxhIT09bykmJmkuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpLGkuaXNNdWx0aXBsZT9pLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmVxKG8pLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK24ub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKTppLmNsb3NlKCksdC5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbih0KXt2YXIgaSxhLG89ZSh0LnRhcmdldCkscz1vLmNsb3Nlc3QoImxpIik7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSAzODpyZXR1cm4gaT1zLnByZXYoKS5ub3QoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksaS5pcygiLnVpLWxpLWRpdmlkZXIiKSYmKGk9aS5wcmV2KCkpLGkubGVuZ3RoJiYoby5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGkuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrbi5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDQwOnJldHVybiBhPXMubmV4dCgpLGEuaXMoIi51aS1saS1kaXZpZGVyIikmJihhPWEubmV4dCgpKSxhLmxlbmd0aCYmKG8uYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxhLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK24ub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBvLnRyaWdnZXIoImNsaWNrIiksITF9fSksaS5tZW51UGFnZS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChpLnRoaXNQYWdlKX0pLGkubGlzdGJveC5iaW5kKCJwb3B1cGFmdGVyY2xvc2UiLGZ1bmN0aW9uKCl7aS5jbG9zZSgpfSksaS5pc011bHRpcGxlJiZpLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7cmV0dXJuIm92ZXJsYXkiPT09aS5tZW51VHlwZT8oaS5jbG9zZSgpLCExKTp0fSksaS50aGlzUGFnZS5hZGREZXBlbmRlbnRzKHRoaXMubWVudVBhZ2UpfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxpc3QuZmluZCgibGkiKSx0PXRoaXMuX3NlbGVjdE9wdGlvbnMoKTtyZXR1cm4gdC50ZXh0KCkhPT1lLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIil9LHJlZnJlc2g6ZnVuY3Rpb24odCl7dmFyIGksbj10aGlzO3RoaXMuZWxlbWVudCx0aGlzLmlzTXVsdGlwbGUsKHR8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZuLl9idWlsZExpc3QoKSxpPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCksbi5zZXRCdXR0b25UZXh0KCksbi5zZXRCdXR0b25Db3VudCgpLG4ubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKHQpe2lmKGUuaW5BcnJheSh0LGkpPi0xKXt2YXIgYT1lKHRoaXMpO2EuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLG4uaXNNdWx0aXBsZT9hLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iKTphLmlzKCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpP2EubmV4dCgpLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTphLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX19KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGU9dGhpczsicGFnZSI9PT1lLm1lbnVUeXBlPyhlLm1lbnVQYWdlLmRpYWxvZygiY2xvc2UiKSxlLmxpc3QuYXBwZW5kVG8oZS5saXN0Ym94KSk6ZS5saXN0Ym94LnBvcHVwKCJjbG9zZSIpLGUuX2ZvY3VzQnV0dG9uKCksZS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2RlY2lkZUZvcm1hdDpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdD1pLmxpc3QuZmluZCgiLiIrZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiBhIik7MD09PXQubGVuZ3RoJiYodD1pLmxpc3QuZmluZCgibGkudWktYnRuOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIGEiKSksdC5maXJzdCgpLmZvY3VzKCkuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktYnRuLWRvd24tIituLm9wdGlvbnMudGhlbWUpfXZhciBpPXRoaXMsYT1lLm1vYmlsZS53aW5kb3csbz1pLmxpc3QucGFyZW50KCkscz1vLm91dGVySGVpZ2h0KCkscj0oby5vdXRlcldpZHRoKCksZSgiLiIrZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxhLnNjcm9sbFRvcCgpKSxsPWkuYnV0dG9uLm9mZnNldCgpLnRvcCxkPWEuaGVpZ2h0KCk7YS53aWR0aCgpLHM+ZC04MHx8IWUuc3VwcG9ydC5zY3JvbGxUb3A/KGkubWVudVBhZ2UuYXBwZW5kVG8oZS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpLGkubWVudVBhZ2VDb250ZW50PXYuZmluZCgiLnVpLWNvbnRlbnQiKSxpLm1lbnVQYWdlQ2xvc2U9di5maW5kKCIudWktaGVhZGVyIGEiKSxpLnRoaXNQYWdlLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIiksMD09PXImJmw+ZCYmaS50aGlzUGFnZS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2UodGhpcykuanFtRGF0YSgibGFzdFNjcm9sbCIsbCl9KSxpLm1lbnVQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7dCgpfSkub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtpLmNsb3NlKCl9KSxpLm1lbnVUeXBlPSJwYWdlIixpLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoaS5saXN0KSxpLm1lbnVQYWdlLmZpbmQoImRpdiAudWktdGl0bGUiKS50ZXh0KGkubGFiZWwudGV4dCgpKSk6KGkubWVudVR5cGU9Im92ZXJsYXkiLGkubGlzdGJveC5vbmUoInBvcHVwYWZ0ZXJvcGVuIix0KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dGhpcy5vcHRpb25zLGE9dGhpcy5wbGFjZWhvbGRlcixvPSEwLHM9dC5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7dC5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO2Zvcih2YXIgcixsPXQuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGQ9bC5sZW5ndGgsYz10aGlzLnNlbGVjdFswXSxoPSJkYXRhLSIrZS5tb2JpbGUubnMsdT1oKyJvcHRpb24taW5kZXgiLHA9aCsiaWNvbiIsbT1oKyJyb2xlIixmPWgrInBsYWNlaG9sZGVyIixnPWkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9ITEsdj0wO2Q+djt2KyssYj0hMSl7dmFyIF89bFt2XSxDPWUoXykseD1fLnBhcmVudE5vZGUseT1DLnRleHQoKSx3PWkuY3JlYXRlRWxlbWVudCgiYSIpLFQ9W107aWYody5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksdy5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKHkpKSx4IT09YyYmIm9wdGdyb3VwIj09PXgubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIEQ9eC5nZXRBdHRyaWJ1dGUoImxhYmVsIik7aWYoRCE9PXIpe3ZhciBQPWkuY3JlYXRlRWxlbWVudCgibGkiKTtQLnNldEF0dHJpYnV0ZShtLCJsaXN0LWRpdmlkZXIiKSxQLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLFAuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksUC5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKEQpKSxnLmFwcGVuZENoaWxkKFApLHI9RH19IW98fF8uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpJiYwIT09eS5sZW5ndGgmJiFDLmpxbURhdGEoInBsYWNlaG9sZGVyIil8fChvPSExLGI9ITAsbnVsbD09PV8uZ2V0QXR0cmlidXRlKGYpJiYodGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyPSEwKSxfLnNldEF0dHJpYnV0ZShmLCEwKSxuLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmVC5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksYSE9PXkmJihhPXQucGxhY2Vob2xkZXI9eSkpO3ZhciBrPWkuY3JlYXRlRWxlbWVudCgibGkiKTtfLmRpc2FibGVkJiYoVC5wdXNoKCJ1aS1kaXNhYmxlZCIpLGsuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIiwhMCkpLGsuc2V0QXR0cmlidXRlKHUsdiksay5zZXRBdHRyaWJ1dGUocCxzKSxiJiZrLnNldEF0dHJpYnV0ZShmLCEwKSxrLmNsYXNzTmFtZT1ULmpvaW4oIiAiKSxrLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLHcuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksay5hcHBlbmRDaGlsZCh3KSxnLmFwcGVuZENoaWxkKGspfXQubGlzdFswXS5hcHBlbmRDaGlsZChnKSx0aGlzLmlzTXVsdGlwbGV8fGEubGVuZ3RoP3RoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTp0aGlzLmhlYWRlci5oaWRlKCksdC5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gZSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDp0aGlzLmJ1dHRvbklkLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6dGhpcy5tZW51SWR9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09dCYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoInRhYmluZGV4IikpLHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0ciYmdGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysicGxhY2Vob2xkZXIiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9O2UubW9iaWxlLmRvY3VtZW50LmJpbmQoInNlbGVjdG1lbnViZWZvcmVjcmVhdGUiLGZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLmRhdGEoIm1vYmlsZS1zZWxlY3RtZW51Iik7aS5vcHRpb25zLm5hdGl2ZU1lbnV8fDAhPT1pLmVsZW1lbnQucGFyZW50cygiOmpxbURhdGEocm9sZT0ncG9wdXAnKSIpLmxlbmd0aHx8bihpKX0pfShlKSxmdW5jdGlvbihlLHQpe2Uud2lkZ2V0KCJtb2JpbGUuY29udHJvbGdyb3VwIixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3NoYWRvdzohMSxjb3JuZXJzOiEwLGV4Y2x1ZGVJbnZpc2libGU6ITAsdHlwZToidmVydGljYWwiLG1pbmk6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQsbj17aW5uZXI6ZSgiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzJz48L2Rpdj4iKSxsZWdlbmQ6ZSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz48L2Rpdj4iKX0sYT1pLmNoaWxkcmVuKCJsZWdlbmQiKSxvPXRoaXM7aS53cmFwSW5uZXIobi5pbm5lciksYS5sZW5ndGgmJm4ubGVnZW5kLmFwcGVuZChhKS5pbnNlcnRCZWZvcmUoaS5jaGlsZHJlbigwKSksaS5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb250cm9sZ3JvdXAiKSxlLmV4dGVuZCh0aGlzLHtfaW5pdGlhbFJlZnJlc2g6ITB9KSxlLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGUsaSl7by5vcHRpb25zW2VdPXQsby5fc2V0T3B0aW9uKGUsaSwhMCl9KX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX3NldE9wdGlvbjpmdW5jdGlvbihpLG4pe3ZhciBhPSJfc2V0IitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc2xpY2UoMSk7dGhpc1thXSE9PXQmJnRoaXNbYV0obiksdGhpcy5fc3VwZXIoaSxuKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpK2kucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksbil9LF9zZXRUeXBlOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC0iK2UpLHRoaXMucmVmcmVzaCgpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGUpfSxfc2V0U2hhZG93OmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktc2hhZG93IixlKX0sX3NldE1pbmk6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixlKX0sY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1jb250cm9scyIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LmZpbmQoIi51aS1idG4iKS5ub3QoIi51aS1zbGlkZXItaGFuZGxlIiksaT10aGlzLl9pbml0aWFsUmVmcmVzaDtlLm1vYmlsZS5jaGVja2JveHJhZGlvJiZ0aGlzLmVsZW1lbnQuZmluZCgiOm1vYmlsZS1jaGVja2JveHJhZGlvIikuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModCx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyh0LGkpOnQsaSksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9fSxlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGUoZnVuY3Rpb24oKXtlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUuY29udHJvbGdyb3VwLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfSl9KGUpLGZ1bmN0aW9uKGUpe2UoaSkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UodC50YXJnZXQpLmZpbmQoImEiKS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiLnVpLWJ0biwgLnVpLWxpbmstaW5oZXJpdCwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWUuc3VwcG9ydC5maXhlZFBvc2l0aW9ufSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1pLmVsZW1lbnQsbz1hLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiLHM9YS5jbG9zZXN0KCIudWktcGFnZSIpO3JldHVybiBuLnN1cHBvcnRCbGFja2xpc3QoKT8oaS5kZXN0cm95KCksdCk6KGEuYWRkQ2xhc3MoInVpLSIrbysiLWZpeGVkIiksbi5mdWxsc2NyZWVuPyhhLmFkZENsYXNzKCJ1aS0iK28rIi1mdWxsc2NyZWVuIikscy5hZGRDbGFzcygidWktcGFnZS0iK28rIi1mdWxsc2NyZWVuIikpOnMuYWRkQ2xhc3MoInVpLXBhZ2UtIitvKyItZml4ZWQiKSxlLmV4dGVuZCh0aGlzLHtfdGhpc1BhZ2U6bnVsbH0pLGkuX2FkZFRyYW5zaXRpb25DbGFzcygpLGkuX2JpbmRQYWdlRXZlbnRzKCksaS5fYmluZFRvZ2dsZUhhbmRsZXJzKCksdCl9LF9hZGRUcmFuc2l0aW9uQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbjtlJiYibm9uZSIhPT1lJiYoInNsaWRlIj09PWUmJihlPXRoaXMuZWxlbWVudC5pcygiLnVpLWhlYWRlciIpPyJzbGlkZWRvd24iOiJzbGlkZXVwIiksdGhpcy5lbGVtZW50LmFkZENsYXNzKGUpKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fdGhpc1BhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksdGhpcy5fb24odGhpcy5fdGhpc1BhZ2Use3BhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHdlYmtpdEFuaW1hdGlvblN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLGFuaW1hdGlvbnN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHVwZGF0ZWxheW91dDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixwYWdlc2hvdzoiX2hhbmRsZVBhZ2VTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5kaXNhYmxlUGFnZVpvb20mJmUubW9iaWxlLnpvb20uZGlzYWJsZSghMCksdC52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMuX3RoaXNQYWdlKX0sX2hhbmRsZVBhZ2VTaG93OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQYWdlUGFkZGluZyh0aGlzLl90aGlzUGFnZSksdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vbihlLm1vYmlsZS53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbih0LGkpe3ZhciBuPXRoaXMub3B0aW9ucztpZihuLmRpc2FibGVQYWdlWm9vbSYmZS5tb2JpbGUuem9vbS5lbmFibGUoITApLG4udXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29mZihlLm1vYmlsZS53aW5kb3csInRocm90dGxlZHJlc2l6ZSIpLG4udHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMpe3ZhciBhPWUoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMuX3RoaXNQYWdlKSxvPWUoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMuX3RoaXNQYWdlKSxzPWEubGVuZ3RoJiZpLm5leHRQYWdlJiZlKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrYS5qcW1EYXRhKCJpZCIpKyInKSIsaS5uZXh0UGFnZSl8fGUoKSxyPW8ubGVuZ3RoJiZpLm5leHRQYWdlJiZlKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrby5qcW1EYXRhKCJpZCIpKyInKSIsaS5uZXh0UGFnZSl8fGUoKTsocy5sZW5ndGh8fHIubGVuZ3RoKSYmKHMuYWRkKHIpLmFwcGVuZFRvKGUubW9iaWxlLnBhZ2VDb250YWluZXIpLGkubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtyLnByZXBlbmRUbyh0aGlzKSxzLmFwcGVuZFRvKHRoaXMpfSkpfX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcy5lbGVtZW50LGE9bi5pcygiLnVpLWhlYWRlciIpLG89cGFyc2VGbG9hdChuLmNzcyhhPyJ0b3AiOiJib3R0b20iKSk7dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW58fChpPWkmJmkudHlwZT09PXQmJml8fHRoaXMuX3RoaXNQYWdlfHxuLmNsb3Nlc3QoIi51aS1wYWdlIiksZShpKS5jc3MoInBhZGRpbmctIisoYT8idG9wIjoiYm90dG9tIiksbi5vdXRlckhlaWdodCgpK28pKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24odCl7dmFyIGk9ZS5tb2JpbGUud2luZG93LG49dGhpcy5lbGVtZW50LGE9aS5zY3JvbGxUb3AoKSxvPW4uaGVpZ2h0KCkscz1uLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCkscj1lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxsPW4uaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciI7cmV0dXJuIXQmJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmIm5vbmUiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJigiaGVhZGVyIj09PWwmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmYT5vfHwiZm9vdGVyIj09PWwmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmcy1vPmErcil8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihlKXt2YXIgdD0idWktZml4ZWQtaGlkZGVuIixpPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGUpP2kucmVtb3ZlQ2xhc3MoIm91dCAiK3QpLmFkZENsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGFzcygiaW4iKX0pOmkucmVtb3ZlQ2xhc3ModCksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihlKXt2YXIgdD0idWktZml4ZWQtaGlkZGVuIixpPXRoaXMuZWxlbWVudCxuPSJvdXQiKygic2xpZGUiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihlKT9pLmFkZENsYXNzKG4pLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7aS5hZGRDbGFzcyh0KS5yZW1vdmVDbGFzcyhuKX0pOmkuYWRkQ2xhc3ModCkucmVtb3ZlQ2xhc3MobiksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgdCxpLG49dGhpcyxhPW4ub3B0aW9ucyxvPW4uZWxlbWVudCxzPSEwO28uY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKHQpe2EudGFwVG9nZ2xlJiYhZSh0LnRhcmdldCkuY2xvc2VzdChhLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZuLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsZnVuY3Rpb24obyl7MTAyNT5zY3JlZW4ud2lkdGgmJmUoby50YXJnZXQpLmlzKGEuaGlkZUR1cmluZ0ZvY3VzKSYmIWUoby50YXJnZXQpLmNsb3Nlc3QoIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJigiZm9jdXNvdXQiIT09by50eXBlfHxzPyJmb2N1c2luIj09PW8udHlwZSYmcyYmKGNsZWFyVGltZW91dCh0KSxzPSExLGk9c2V0VGltZW91dChmdW5jdGlvbigpe24uaGlkZSgpfSwwKSk6KHM9ITAsY2xlYXJUaW1lb3V0KGkpLHQ9c2V0VGltZW91dChmdW5jdGlvbigpe24uc2hvdygpfSwwKSkpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LHQ9ZS5pcygiLnVpLWhlYWRlciIpO2UuY2xvc2VzdCgiLnVpLXBhZ2UiKS5jc3MoInBhZGRpbmctIisodD8idG9wIjoiYm90dG9tIiksIiIpLGUucmVtb3ZlQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1mb290ZXItZml4ZWQgdWktaGVhZGVyLWZ1bGxzY3JlZW4gdWktZm9vdGVyLWZ1bGxzY3JlZW4gaW4gb3V0IGZhZGUgc2xpZGVkb3duIHNsaWRldXAgdWktZml4ZWQtaGlkZGVuIiksZS5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZSh0LnRhcmdldCkuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZlKGUubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsdC50YXJnZXQpLm5vdCgiOmpxbURhdGEoZnVsbHNjcmVlbikiKS5qcW1EYXRhKCJmdWxsc2NyZWVuIiwhMCksZS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmZpeGVkdG9vbGJhciIsZS5tb2JpbGUuZml4ZWR0b29sYmFyLHtfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl93b3JrYXJvdW5kcygpfSxfd29ya2Fyb3VuZHM6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50LHQ9bmF2aWdhdG9yLnBsYXRmb3JtLGk9ZS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksbj0hIWkmJmlbMV0sYT1udWxsLG89dGhpcztpZih0LmluZGV4T2YoImlQaG9uZSIpPi0xfHx0LmluZGV4T2YoImlQYWQiKT4tMXx8dC5pbmRleE9mKCJpUG9kIik+LTEpYT0iaW9zIjtlbHNle2lmKCEoZS5pbmRleE9mKCJBbmRyb2lkIik+LTEpKXJldHVybjthPSJhbmRyb2lkIn1pZigiaW9zIj09PWEpby5fYmluZFNjcm9sbFdvcmthcm91bmQoKTtlbHNle2lmKCEoImFuZHJvaWQiPT09YSYmbiYmNTM0Pm4pKXJldHVybjtvLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpLG8uX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kKCl9fSxfdmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQsaT10LmlzKCIudWktaGVhZGVyIiksbj1NYXRoLmFicyh0Lm9mZnNldCgpLnRvcC1lLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBpfHwobj1NYXRoLnJvdW5kKG4tZS5tb2JpbGUud2luZG93LmhlaWdodCgpK3Qub3V0ZXJIZWlnaHQoKSktNjApLG59LF9iaW5kU2Nyb2xsV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fb24oZS5tb2JpbGUud2luZG93LHtzY3JvbGxzdG9wOmZ1bmN0aW9uKCl7dmFyIGU9dC5fdmlld3BvcnRPZmZzZXQoKTtlPjImJnQuX3Zpc2libGUmJnQuX3RyaWdnZXJSZWRyYXcoKX19KX0sX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4ZWQiKX0sX3RyaWdnZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgdD1wYXJzZUZsb2F0KGUoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iKSk7CmUoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLHQrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsdCsicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oZSksZnVuY3Rpb24oZSxuKXtlLndpZGdldCgibW9iaWxlLnBhbmVsIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2NsYXNzZXM6e3BhbmVsOiJ1aS1wYW5lbCIscGFuZWxPcGVuOiJ1aS1wYW5lbC1vcGVuIixwYW5lbENsb3NlZDoidWktcGFuZWwtY2xvc2VkIixwYW5lbEZpeGVkOiJ1aS1wYW5lbC1maXhlZCIscGFuZWxJbm5lcjoidWktcGFuZWwtaW5uZXIiLG1vZGFsOiJ1aS1wYW5lbC1kaXNtaXNzIixtb2RhbE9wZW46InVpLXBhbmVsLWRpc21pc3Mtb3BlbiIscGFnZVBhbmVsOiJ1aS1wYWdlLXBhbmVsIixwYWdlUGFuZWxPcGVuOiJ1aS1wYWdlLXBhbmVsLW9wZW4iLGNvbnRlbnRXcmFwOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAiLGNvbnRlbnRXcmFwT3BlbjoidWktcGFuZWwtY29udGVudC13cmFwLW9wZW4iLGNvbnRlbnRXcmFwQ2xvc2VkOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAtY2xvc2VkIixjb250ZW50Rml4ZWRUb29sYmFyOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXIiLGNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXItb3BlbiIsY29udGVudEZpeGVkVG9vbGJhckNsb3NlZDoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyLWNsb3NlZCIsYW5pbWF0ZToidWktcGFuZWwtYW5pbWF0ZSJ9LGFuaW1hdGU6ITAsdGhlbWU6ImMiLHBvc2l0aW9uOiJsZWZ0IixkaXNtaXNzaWJsZTohMCxkaXNwbGF5OiJyZXZlYWwiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncGFuZWwnKSIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfcGFuZWxJRDpudWxsLF9jbG9zZUxpbms6bnVsbCxfcGFnZTpudWxsLF9tb2RhbDpudWxsLF9wYW5lbElubmVyOm51bGwsX3dyYXBwZXI6bnVsbCxfZml4ZWRUb29sYmFyOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10LmVsZW1lbnQsbj1pLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLGE9ZnVuY3Rpb24oKXt2YXIgdD1lLmRhdGEoblswXSwibW9iaWxlUGFnZSIpLm9wdGlvbnMudGhlbWUsaT0idWktYm9keS0iK3Q7cmV0dXJuIGl9LG89ZnVuY3Rpb24oKXt2YXIgZT1pLmZpbmQoIi4iK3Qub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIpO3JldHVybiAwPT09ZS5sZW5ndGgmJihlPWkuY2hpbGRyZW4oKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK3Qub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrJyIgLz4nKS5wYXJlbnQoKSksZX0scz1mdW5jdGlvbigpe3ZhciBpPW4uZmluZCgiLiIrdC5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXApO3JldHVybiAwPT09aS5sZW5ndGgmJihpPW4uY2hpbGRyZW4oIi51aS1oZWFkZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSwgLnVpLWNvbnRlbnQ6bm90KDpqcW1EYXRhKHJvbGU9J3BvcHVwJykpLCAudWktZm9vdGVyOm5vdCg6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSkiKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK3Qub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwKyIgIithKCkrJyIgLz4nKS5wYXJlbnQoKSxlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJnQub3B0aW9ucy5hbmltYXRlJiZpLmFkZENsYXNzKHQub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpKSxpfSxyPWZ1bmN0aW9uKCl7dmFyIGk9bi5maW5kKCIuIit0Lm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKTtyZXR1cm4gMD09PWkubGVuZ3RoJiYoaT1uLmZpbmQoIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSwgLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhciksZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0Lm9wdGlvbnMuYW5pbWF0ZSYmaS5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSksaX07ZS5leHRlbmQodGhpcyx7X3BhbmVsSUQ6aS5hdHRyKCJpZCIpLF9jbG9zZUxpbms6aS5maW5kKCI6anFtRGF0YShyZWw9J2Nsb3NlJykiKSxfcGFnZTppLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLF9wYWdlVGhlbWU6YSgpLF9wYW5lbElubmVyOm8oKSxfd3JhcHBlcjpzKCksX2ZpeGVkVG9vbGJhcjpyKCl9KSx0Ll9hZGRQYW5lbENsYXNzZXMoKSx0Ll93cmFwcGVyLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKSx0Ll9maXhlZFRvb2xiYXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhckNsb3NlZCksdC5fcGFnZS5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5wYWdlUGFuZWwpLGUuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdC5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0Ll9iaW5kVXBkYXRlTGF5b3V0KCksdC5fYmluZENsb3NlRXZlbnRzKCksdC5fYmluZExpbmtMaXN0ZW5lcnMoKSx0Ll9iaW5kUGFnZUV2ZW50cygpLHQub3B0aW9ucy5kaXNtaXNzaWJsZSYmdC5fY3JlYXRlTW9kYWwoKSx0Ll9iaW5kU3dpcGVFdmVudHMoKX0sX2NyZWF0ZU1vZGFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0Ll9tb2RhbD1lKCI8ZGl2IGNsYXNzPSciK3Qub3B0aW9ucy5jbGFzc2VzLm1vZGFsKyInIGRhdGEtcGFuZWxpZD0nIit0Ll9wYW5lbElEKyInPjwvZGl2PiIpLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7dC5jbG9zZSgpfSkuYXBwZW5kVG8odGhpcy5fcGFnZSl9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihlKXtyZXR1cm4gZSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIitlKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQ7cmV0dXJuIHRoaXMub3B0aW9ucy50aGVtZSYmKGUrPSIgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihlKz0iICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCksZX0sX2FkZFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2Nsb3NlTGluay5vbigiY2xpY2sucGFuZWwiLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksZS5jbG9zZSgpLCExfSksZS5lbGVtZW50Lm9uKCJjbGljay5wYW5lbCIsImE6anFtRGF0YShhamF4PSdmYWxzZScpIixmdW5jdGlvbigpe2UuY2xvc2UoKX0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10Ll9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksbj1pPmUubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO258fCF0Lm9wdGlvbnMucG9zaXRpb25GaXhlZD8obiYmKHQuX3VuZml4UGFuZWwoKSxlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoaSkpLHQuX3Njcm9sbEludG9WaWV3KGkpKTp0Ll9maXhQYW5lbCgpfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oaSl7ZSh0KS5zY3JvbGxUb3AoKT5pJiZ0LnNjcm9sbFRvKDAsMCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihlKHQpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoZSh0KSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmUuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZlLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5lbGVtZW50Lm9uKCJ1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7ZS5fb3BlbiYmZS5fcG9zaXRpb25QYW5lbCgpfSl9LF9iaW5kTGlua0xpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fcGFnZS5vbigiY2xpY2sucGFuZWwiLCJhIixmdW5jdGlvbihpKXtpZih0aGlzLmhyZWYuc3BsaXQoIiMiKVsxXT09PXQuX3BhbmVsSUQmJnQuX3BhbmVsSUQhPT1uKXtpLnByZXZlbnREZWZhdWx0KCk7dmFyIGE9ZSh0aGlzKTtyZXR1cm4gYS5oYXNDbGFzcygidWktbGluayIpfHwoYS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdC5lbGVtZW50Lm9uZSgicGFuZWxvcGVuIHBhbmVsY2xvc2UiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSksdC50b2dnbGUoKSwhMX19KX0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLl9tb2RhbD9lLmVsZW1lbnQuYWRkKGUuX21vZGFsKTplLmVsZW1lbnQ7ZS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1lLm9wdGlvbnMucG9zaXRpb24/dC5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2UuY2xvc2UoKX0pOnQub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7ZS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3BhZ2Uub24oInBhbmVsYmVmb3Jlb3BlbiIsZnVuY3Rpb24odCl7ZS5fb3BlbiYmdC50YXJnZXQhPT1lLmVsZW1lbnRbMF0mJmUuY2xvc2UoKX0pLm9uKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtlLl9vcGVuJiZlLmNsb3NlKCEwKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24odCl7Mjc9PT10LmtleUNvZGUmJmUuX29wZW4mJmUuY2xvc2UoKX0pfSxfb3BlbjohMSxfY29udGVudFdyYXBPcGVuQ2xhc3NlczpudWxsLF9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbih0KXtpZighdGhpcy5fb3Blbil7dmFyIGk9dGhpcyxuPWkub3B0aW9ucyxhPWZ1bmN0aW9uKCl7aS5fcGFnZS5vZmYoInBhbmVsY2xvc2UiKSxpLl9wYWdlLmpxbURhdGEoInBhbmVsIiwib3BlbiIpLCF0JiZlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJm4uYW5pbWF0ZT9pLmVsZW1lbnQuYWRkKGkuX3dyYXBwZXIpLm9uKGkuX3RyYW5zaXRpb25FbmRFdmVudHMsbyk6c2V0VGltZW91dChvLDApLGkub3B0aW9ucy50aGVtZSYmIm92ZXJsYXkiIT09aS5vcHRpb25zLmRpc3BsYXkmJmkuX3BhZ2UucmVtb3ZlQ2xhc3MoaS5fcGFnZVRoZW1lKS5hZGRDbGFzcygidWktYm9keS0iK2kub3B0aW9ucy50aGVtZSksaS5lbGVtZW50LnJlbW92ZUNsYXNzKG4uY2xhc3Nlcy5wYW5lbENsb3NlZCkuYWRkQ2xhc3Mobi5jbGFzc2VzLnBhbmVsT3BlbiksaS5fcG9zaXRpb25QYW5lbCgpLGkub3B0aW9ucy50aGVtZSYmIm92ZXJsYXkiIT09aS5vcHRpb25zLmRpc3BsYXkmJmkuX3dyYXBwZXIuY3NzKCJtaW4taGVpZ2h0IixpLl9wYWdlLmNzcygibWluLWhlaWdodCIpKSxpLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzPWkuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKG4uY2xhc3Nlcy5jb250ZW50V3JhcCksaS5fd3JhcHBlci5yZW1vdmVDbGFzcyhuLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLmFkZENsYXNzKGkuX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXMrIiAiK24uY2xhc3Nlcy5jb250ZW50V3JhcE9wZW4pLGkuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzPWkuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKG4uY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxpLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3Mobi5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLmFkZENsYXNzKGkuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzKyIgIituLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLGkuX21vZGFsT3BlbkNsYXNzZXM9aS5fZ2V0UG9zRGlzcGxheUNsYXNzZXMobi5jbGFzc2VzLm1vZGFsKSsiICIrbi5jbGFzc2VzLm1vZGFsT3BlbixpLl9tb2RhbCYmaS5fbW9kYWwuYWRkQ2xhc3MoaS5fbW9kYWxPcGVuQ2xhc3Nlcyl9LG89ZnVuY3Rpb24oKXtpLmVsZW1lbnQuYWRkKGkuX3dyYXBwZXIpLm9mZihpLl90cmFuc2l0aW9uRW5kRXZlbnRzLG8pLGkuX3BhZ2UuYWRkQ2xhc3Mobi5jbGFzc2VzLnBhZ2VQYW5lbE9wZW4pLGkuX2JpbmRGaXhMaXN0ZW5lcigpLGkuX3RyaWdnZXIoIm9wZW4iKX07MD50aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoJiYodD0hMCksaS5fdHJpZ2dlcigiYmVmb3Jlb3BlbiIpLCJvcGVuIj09PWkuX3BhZ2UuanFtRGF0YSgicGFuZWwiKT9pLl9wYWdlLm9uKCJwYW5lbGNsb3NlIixmdW5jdGlvbigpe2EoKX0pOmEoKSxpLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24odCl7aWYodGhpcy5fb3Blbil7dmFyIGk9dGhpcy5vcHRpb25zLG49dGhpcyxhPWZ1bmN0aW9uKCl7IXQmJmUuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmaS5hbmltYXRlP24uZWxlbWVudC5hZGQobi5fd3JhcHBlcikub24obi5fdHJhbnNpdGlvbkVuZEV2ZW50cyxvKTpzZXRUaW1lb3V0KG8sMCksbi5fcGFnZS5yZW1vdmVDbGFzcyhpLmNsYXNzZXMucGFnZVBhbmVsT3Blbiksbi5lbGVtZW50LnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5wYW5lbE9wZW4pLG4uX3dyYXBwZXIucmVtb3ZlQ2xhc3MoaS5jbGFzc2VzLmNvbnRlbnRXcmFwT3Blbiksbi5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyT3Blbiksbi5fbW9kYWwmJm4uX21vZGFsLnJlbW92ZUNsYXNzKG4uX21vZGFsT3BlbkNsYXNzZXMpfSxvPWZ1bmN0aW9uKCl7bi5vcHRpb25zLnRoZW1lJiYib3ZlcmxheSIhPT1uLm9wdGlvbnMuZGlzcGxheSYmKG4uX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIituLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKG4uX3BhZ2VUaGVtZSksbi5fd3JhcHBlci5jc3MoIm1pbi1oZWlnaHQiLCIiKSksbi5lbGVtZW50LmFkZChuLl93cmFwcGVyKS5vZmYobi5fdHJhbnNpdGlvbkVuZEV2ZW50cyxvKSxuLmVsZW1lbnQuYWRkQ2xhc3MoaS5jbGFzc2VzLnBhbmVsQ2xvc2VkKSxuLl93cmFwcGVyLnJlbW92ZUNsYXNzKG4uX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXMpLmFkZENsYXNzKGkuY2xhc3Nlcy5jb250ZW50V3JhcENsb3NlZCksbi5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKG4uX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzKS5hZGRDbGFzcyhpLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhckNsb3NlZCksbi5fZml4UGFuZWwoKSxuLl91bmJpbmRGaXhMaXN0ZW5lcigpLGUubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpLG4uX3BhZ2UuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSxuLl90cmlnZ2VyKCJjbG9zZSIpfTswPnRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGgmJih0PSEwKSxuLl90cmlnZ2VyKCJiZWZvcmVjbG9zZSIpLGEoKSxuLl9vcGVuPSExfX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfdHJhbnNpdGlvbkVuZEV2ZW50czoid2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCB0cmFuc2l0aW9uZW5kIG1zVHJhbnNpdGlvbkVuZCIsX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuY2xhc3NlcyxpPXRoaXMub3B0aW9ucy50aGVtZSxuPXRoaXMuZWxlbWVudC5zaWJsaW5ncygiLiIrdC5wYW5lbCkubGVuZ3RoO24/dGhpcy5fb3BlbiYmKHRoaXMuX3dyYXBwZXIucmVtb3ZlQ2xhc3ModC5jb250ZW50V3JhcE9wZW4pLHRoaXMuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyh0LmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSx0aGlzLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyh0LnBhZ2VQYW5lbE9wZW4pLGkmJnRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitpKS5hZGRDbGFzcyh0aGlzLl9wYWdlVGhlbWUpKToodGhpcy5fd3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuX3BhZ2UuZmluZCgiYSIpLnVuYmluZCgicGFuZWxvcGVuIHBhbmVsY2xvc2UiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKHQucGFnZVBhbmVsKSx0aGlzLl9vcGVuJiYodGhpcy5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3ModC5wYWdlUGFuZWxPcGVuKSxpJiZ0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIraSkuYWRkQ2xhc3ModGhpcy5fcGFnZVRoZW1lKSxlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSkpLHRoaXMuX3BhbmVsSW5uZXIuY2hpbGRyZW4oKS51bndyYXAoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoW3RoaXMuX2dldFBhbmVsQ2xhc3NlcygpLHQucGFuZWxBbmltYXRlXS5qb2luKCIgIikpLm9mZigic3dpcGVsZWZ0LnBhbmVsIHN3aXBlcmlnaHQucGFuZWwiKS5vZmYoInBhbmVsYmVmb3Jlb3BlbiIpLm9mZigicGFuZWxoaWRlIikub2ZmKCJrZXl1cC5wYW5lbCIpLm9mZigidXBkYXRlbGF5b3V0IiksdGhpcy5fY2xvc2VMaW5rLm9mZigiY2xpY2sucGFuZWwiKSx0aGlzLl9tb2RhbCYmdGhpcy5fbW9kYWwucmVtb3ZlKCksdGhpcy5lbGVtZW50Lm9mZih0aGlzLl90cmFuc2l0aW9uRW5kRXZlbnRzKS5yZW1vdmVDbGFzcyhbdC5wYW5lbFVuZml4ZWQsdC5wYW5lbENsb3NlZCx0LnBhbmVsT3Blbl0uam9pbigiICIpKX19KSxlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5wYW5lbC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLnRhYmxlIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2NsYXNzZXM6e3RhYmxlOiJ1aS10YWJsZSJ9LGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ndGFibGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucmVmcmVzaCghMCl9LHJlZnJlc2g6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcyxhPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO2kmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksbi5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksbi5hbGxIZWFkZXJzPW4uaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKSxhLmVhY2goZnVuY3Rpb24oKXt2YXIgbz0wO2UodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHM9cGFyc2VJbnQoZSh0aGlzKS5hdHRyKCJjb2xzcGFuIiksMTApLHI9IjpudGgtY2hpbGQoIisobysxKSsiKSI7aWYoZSh0aGlzKS5qcW1EYXRhKCJjb2xzdGFydCIsbysxKSxzKWZvcih2YXIgbD0wO3MtMT5sO2wrKylvKysscis9IiwgOm50aC1jaGlsZCgiKyhvKzEpKyIpIjtpPT09dCYmZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsIiIpLGUodGhpcykuanFtRGF0YSgiY2VsbHMiLG4uZWxlbWVudC5maW5kKCJ0ciIpLm5vdChhLmVxKDApKS5ub3QodGhpcykuY2hpbGRyZW4ocikpLG8rK30pfSksaT09PXQmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJyZWZyZXNoIil9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0KX0pfShlKSxmdW5jdGlvbihlLHQpe2UubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLm1vZGU9ImNvbHVtbnRvZ2dsZSIsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY29sdW1uQnRuVGhlbWU9bnVsbCxlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5Qb3B1cFRoZW1lPW51bGwsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY29sdW1uQnRuVGV4dD0iQ29sdW1ucy4uLiIsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcz1lLmV4dGVuZChlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtwb3B1cDoidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwIixjb2x1bW5CdG46InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1idG4iLHByaW9yaXR5UHJlZml4OiJ1aS10YWJsZS1wcmlvcml0eS0iLGNvbHVtblRvZ2dsZVRhYmxlOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUifSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIjpqcW1EYXRhKHJvbGU9J3RhYmxlJykiLCJ0YWJsZWNyZWF0ZSByZWZyZXNoIixmdW5jdGlvbihpKXt2YXIgbixhLG8scyxyPWUodGhpcyksbD1yLmRhdGEoIm1vYmlsZS10YWJsZSIpLGQ9aS50eXBlLGM9bC5vcHRpb25zLGg9ZS5tb2JpbGUubnMsdT0oci5hdHRyKCJpZCIpfHxjLmNsYXNzZXMucG9wdXApKyItcG9wdXAiOyJjb2x1bW50b2dnbGUiPT09Yy5tb2RlJiYoInJlZnJlc2giIT09ZCYmKGwuZWxlbWVudC5hZGRDbGFzcyhjLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUpLG49ZSgiPGEgaHJlZj0nIyIrdSsiJyBjbGFzcz0nIitjLmNsYXNzZXMuY29sdW1uQnRuKyInIGRhdGEtIitoKyJyZWw9J3BvcHVwJyBkYXRhLSIraCsibWluaT0ndHJ1ZSc+IitjLmNvbHVtbkJ0blRleHQrIjwvYT4iKSxhPWUoIjxkaXYgZGF0YS0iK2grInJvbGU9J3BvcHVwJyBkYXRhLSIraCsicm9sZT0nZmllbGRjb250YWluJyBjbGFzcz0nIitjLmNsYXNzZXMucG9wdXArIicgaWQ9JyIrdSsiJz48L2Rpdj4iKSxvPWUoIjxmaWVsZHNldCBkYXRhLSIraCsicm9sZT0nY29udHJvbGdyb3VwJz48L2ZpZWxkc2V0PiIpKSxsLmhlYWRlcnMubm90KCJ0ZCIpLmVhY2goZnVuY3Rpb24odCl7dmFyIGk9ZSh0aGlzKS5qcW1EYXRhKCJwcmlvcml0eSIpLG49ZSh0aGlzKS5hZGQoZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpKTtpJiYobi5hZGRDbGFzcyhjLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgraSksInJlZnJlc2giIT09ZD9lKCI8bGFiZWw+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBjaGVja2VkIC8+IitlKHRoaXMpLnRleHQoKSsiPC9sYWJlbD4iKS5hcHBlbmRUbyhvKS5jaGlsZHJlbigwKS5qcW1EYXRhKCJjZWxscyIsbikuY2hlY2tib3hyYWRpbyh7dGhlbWU6Yy5jb2x1bW5Qb3B1cFRoZW1lfSk6ZSgiIyIrdSsiIGZpZWxkc2V0IGRpdjplcSgiK3QrIikiKS5maW5kKCJpbnB1dCIpLmpxbURhdGEoImNlbGxzIixuKSl9KSwicmVmcmVzaCIhPT1kJiZvLmFwcGVuZFRvKGEpLHM9bz09PXQ/ZSgiIyIrdSsiIGZpZWxkc2V0Iik6bywicmVmcmVzaCIhPT1kJiYocy5vbigiY2hhbmdlIiwiaW5wdXQiLGZ1bmN0aW9uKCl7dGhpcy5jaGVja2VkP2UodGhpcykuanFtRGF0YSgiY2VsbHMiKS5yZW1vdmVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIik6ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLnJlbW92ZUNsYXNzKCJ1aS10YWJsZS1jZWxsLXZpc2libGUiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iKX0pLG4uaW5zZXJ0QmVmb3JlKHIpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yy5jb2x1bW5CdG5UaGVtZX0pLGEuaW5zZXJ0QmVmb3JlKHIpLnBvcHVwKCkpLGwudXBkYXRlPWZ1bmN0aW9uKCl7cy5maW5kKCJpbnB1dCIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmNoZWNrZWQ/KHRoaXMuY2hlY2tlZD0idGFibGUtY2VsbCI9PT1lKHRoaXMpLmpxbURhdGEoImNlbGxzIikuZXEoMCkuY3NzKCJkaXNwbGF5IiksInJlZnJlc2giPT09ZCYmZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLXZpc2libGUiKSk6ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLmFkZENsYXNzKCJ1aS10YWJsZS1jZWxsLWhpZGRlbiIpLGUodGhpcykuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSl9LGUubW9iaWxlLndpbmRvdy5vbigidGhyb3R0bGVkcmVzaXplIixsLnVwZGF0ZSksbC51cGRhdGUoKSl9KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMubW9kZT0icmVmbG93IixlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzPWUuZXh0ZW5kKGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3JlZmxvd1RhYmxlOiJ1aS10YWJsZS1yZWZsb3ciLGNlbGxMYWJlbHM6InVpLXRhYmxlLWNlbGwtbGFiZWwifSksZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIjpqcW1EYXRhKHJvbGU9J3RhYmxlJykiLCJ0YWJsZWNyZWF0ZSByZWZyZXNoIixmdW5jdGlvbih0KXt2YXIgaT1lKHRoaXMpLG49dC50eXBlLGE9aS5kYXRhKCJtb2JpbGUtdGFibGUiKSxvPWEub3B0aW9ucztpZigicmVmbG93Ij09PW8ubW9kZSl7InJlZnJlc2giIT09biYmYS5lbGVtZW50LmFkZENsYXNzKG8uY2xhc3Nlcy5yZWZsb3dUYWJsZSk7dmFyIHM9ZShhLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKTtzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLmpxbURhdGEoImNlbGxzIiksaT1lKHRoaXMpLmpxbURhdGEoImNvbHN0YXJ0Iiksbj10Lm5vdCh0aGlzKS5maWx0ZXIoInRoZWFkIHRoIikubGVuZ3RoJiYiIHVpLXRhYmxlLWNlbGwtbGFiZWwtdG9wIixhPWUodGhpcykudGV4dCgpO2lmKCIiIT09YSlpZihuKXt2YXIgcz1wYXJzZUludChlKHRoaXMpLmF0dHIoImNvbHNwYW4iKSwxMCkscj0iIjtzJiYocj0idGQ6bnRoLWNoaWxkKCIrcysibiArICIraSsiKSIpLHQuZmlsdGVyKHIpLnByZXBlbmQoIjxiIGNsYXNzPSciK28uY2xhc3Nlcy5jZWxsTGFiZWxzK24rIic+IithKyI8L2I+Iil9ZWxzZSB0LnByZXBlbmQoIjxiIGNsYXNzPSciK28uY2xhc3Nlcy5jZWxsTGFiZWxzKyInPiIrYSsiPC9iPiIpfSl9fSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlKXtvPWUub3JpZ2luYWxFdmVudCxkPW8uYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxzPU1hdGguYWJzKGQueCkscj1NYXRoLmFicyhkLnkpLGw9TWF0aC5hYnMoZC56KSwhdC5vcmllbnRhdGlvbiYmKHM+N3x8KGw+NiYmOD5yfHw4PmwmJnI+NikmJnM+NSk/Yy5lbmFibGVkJiZjLmRpc2FibGUoKTpjLmVuYWJsZWR8fGMuZW5hYmxlKCl9ZS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSEwO3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQ7aWYoISgvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiYvT1MgWzEtNV1fWzAtOV9dKiBsaWtlIE1hYyBPUyBYL2kudGVzdChhKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xKSlyZXR1cm4gZS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSExLG47dmFyIG8scyxyLGwsZCxjPWUubW9iaWxlLnpvb207ZS5tb2JpbGUuZG9jdW1lbnQub24oIm1vYmlsZWluaXQiLGZ1bmN0aW9uKCl7ZS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkJiZlLm1vYmlsZS53aW5kb3cuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXgiLGMuZW5hYmxlKS5iaW5kKCJkZXZpY2Vtb3Rpb24uaW9zb3JpZW50YXRpb25maXgiLGkpfSl9KGUsdGhpcyksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7YS5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBhPWUoImh0bWwiKSxvPShlKCJoZWFkIiksZS5tb2JpbGUud2luZG93KTtlKHQuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKSxlLm1vYmlsZS5ncmFkZUEoKSYmKGUubW9iaWxlLmFqYXhCbGFja2xpc3QmJihlLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksYS5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKSxzZXRUaW1lb3V0KG4sNWUzKSxlLmV4dGVuZChlLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgdD1lLm1vYmlsZS5wYXRoLGE9ZSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLHM9dC5zdHJpcEhhc2godC5zdHJpcFF1ZXJ5UGFyYW1zKHQucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxyPWkuZ2V0RWxlbWVudEJ5SWQocyk7YS5sZW5ndGh8fChhPWUoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTt0LmpxbURhdGEoInVybCIpfHx0LmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidXJsIix0LmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxlLm1vYmlsZS5maXJzdFBhZ2U9YS5maXJzdCgpLGUubW9iaWxlLnBhZ2VDb250YWluZXI9ZS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKSxvLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKSxlLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKSxuKCksZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmUubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihlKHIpLmlzKCc6anFtRGF0YShyb2xlPSJwYWdlIiknKXx8ZS5tb2JpbGUucGF0aC5pc1BhdGgocyl8fHM9PT1lLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT9lLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sZS5tb2JpbGUubmF2aWdhdGUoZS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6by50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKTooZS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGUubW9iaWxlLnVybEhpc3RvcnkuaW5pdGlhbERzdD1zLnJlcGxhY2UoIiMiLCIiKSksZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpJiZlLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3Iuc3F1YXNoKHQucGFyc2VMb2NhdGlvbigpLmhyZWYpLGUubW9iaWxlLmNoYW5nZVBhZ2UoZS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSl9fSksZS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZShmdW5jdGlvbigpe3Quc2Nyb2xsVG8oMCwxKSxlLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD1lLnN1cHBvcnQuc2Nyb2xsVG9wJiYxIT09ZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpPzE6MCxlLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmUubW9iaWxlLmluaXRpYWxpemVQYWdlKCksby5sb2FkKGUubW9iaWxlLnNpbGVudFNjcm9sbCksZS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KSl9KGUsdGhpcyl9KTsKLy9AIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1vYmlsZS0xLjMuMS5taW4ubWFw",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Thu, 06 Nov 2014 09:24:49 GMT",
                    "Content-Length": "144525",
                    "Date": "Thu, 06 Nov 2014 09:24:52 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}